function pM(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Uo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ur(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Ks(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var gM={exports:{}},_m={},mM={exports:{}},it={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bf=Symbol.for("react.element"),RB=Symbol.for("react.portal"),MB=Symbol.for("react.fragment"),PB=Symbol.for("react.strict_mode"),jB=Symbol.for("react.profiler"),OB=Symbol.for("react.provider"),VB=Symbol.for("react.context"),LB=Symbol.for("react.forward_ref"),NB=Symbol.for("react.suspense"),BB=Symbol.for("react.memo"),$B=Symbol.for("react.lazy"),rE=Symbol.iterator;function DB(e){return e===null||typeof e!="object"?null:(e=rE&&e[rE]||e["@@iterator"],typeof e=="function"?e:null)}var vM={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},yM=Object.assign,AM={};function au(e,t,n){this.props=e,this.context=t,this.refs=AM,this.updater=n||vM}au.prototype.isReactComponent={};au.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};au.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function _M(){}_M.prototype=au.prototype;function J_(e,t,n){this.props=e,this.context=t,this.refs=AM,this.updater=n||vM}var X_=J_.prototype=new _M;X_.constructor=J_;yM(X_,au.prototype);X_.isPureReactComponent=!0;var iE=Array.isArray,bM=Object.prototype.hasOwnProperty,Z_={current:null},SM={key:!0,ref:!0,__self:!0,__source:!0};function xM(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)bM.call(t,r)&&!SM.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Bf,type:e,key:s,ref:o,props:i,_owner:Z_.current}}function FB(e,t){return{$$typeof:Bf,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function eb(e){return typeof e=="object"&&e!==null&&e.$$typeof===Bf}function zB(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var sE=/\/+/g;function Av(e,t){return typeof e=="object"&&e!==null&&e.key!=null?zB(""+e.key):t.toString(36)}function xp(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Bf:case RB:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+Av(o,0):r,iE(i)?(n="",e!=null&&(n=e.replace(sE,"$&/")+"/"),xp(i,t,n,"",function(c){return c})):i!=null&&(eb(i)&&(i=FB(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(sE,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",iE(e))for(var a=0;a<e.length;a++){s=e[a];var l=r+Av(s,a);o+=xp(s,t,n,l,i)}else if(l=DB(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=r+Av(s,a++),o+=xp(s,t,n,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Sh(e,t,n){if(e==null)return e;var r=[],i=0;return xp(e,r,"","",function(s){return t.call(n,s,i++)}),r}function UB(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Mr={current:null},wp={transition:null},HB={ReactCurrentDispatcher:Mr,ReactCurrentBatchConfig:wp,ReactCurrentOwner:Z_};it.Children={map:Sh,forEach:function(e,t,n){Sh(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Sh(e,function(){t++}),t},toArray:function(e){return Sh(e,function(t){return t})||[]},only:function(e){if(!eb(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};it.Component=au;it.Fragment=MB;it.Profiler=jB;it.PureComponent=J_;it.StrictMode=PB;it.Suspense=NB;it.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=HB;it.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=yM({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=Z_.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)bM.call(t,l)&&!SM.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Bf,type:e.type,key:i,ref:s,props:r,_owner:o}};it.createContext=function(e){return e={$$typeof:VB,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:OB,_context:e},e.Consumer=e};it.createElement=xM;it.createFactory=function(e){var t=xM.bind(null,e);return t.type=e,t};it.createRef=function(){return{current:null}};it.forwardRef=function(e){return{$$typeof:LB,render:e}};it.isValidElement=eb;it.lazy=function(e){return{$$typeof:$B,_payload:{_status:-1,_result:e},_init:UB}};it.memo=function(e,t){return{$$typeof:BB,type:e,compare:t===void 0?null:t}};it.startTransition=function(e){var t=wp.transition;wp.transition={};try{e()}finally{wp.transition=t}};it.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};it.useCallback=function(e,t){return Mr.current.useCallback(e,t)};it.useContext=function(e){return Mr.current.useContext(e)};it.useDebugValue=function(){};it.useDeferredValue=function(e){return Mr.current.useDeferredValue(e)};it.useEffect=function(e,t){return Mr.current.useEffect(e,t)};it.useId=function(){return Mr.current.useId()};it.useImperativeHandle=function(e,t,n){return Mr.current.useImperativeHandle(e,t,n)};it.useInsertionEffect=function(e,t){return Mr.current.useInsertionEffect(e,t)};it.useLayoutEffect=function(e,t){return Mr.current.useLayoutEffect(e,t)};it.useMemo=function(e,t){return Mr.current.useMemo(e,t)};it.useReducer=function(e,t,n){return Mr.current.useReducer(e,t,n)};it.useRef=function(e){return Mr.current.useRef(e)};it.useState=function(e){return Mr.current.useState(e)};it.useSyncExternalStore=function(e,t,n){return Mr.current.useSyncExternalStore(e,t,n)};it.useTransition=function(){return Mr.current.useTransition()};it.version="18.2.0";mM.exports=it;var A=mM.exports;const Te=ur(A),rg=pM({__proto__:null,default:Te},[A]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GB=A,qB=Symbol.for("react.element"),WB=Symbol.for("react.fragment"),KB=Object.prototype.hasOwnProperty,YB=GB.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,QB={key:!0,ref:!0,__self:!0,__source:!0};function wM(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)KB.call(t,r)&&!QB.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:qB,type:e,key:s,ref:o,props:i,_owner:YB.current}}_m.Fragment=WB;_m.jsx=wM;_m.jsxs=wM;gM.exports=_m;var f=gM.exports;class wo{constructor(){this.listeners=[],this.onUpdate=(...t)=>{this.listeners.forEach(n=>n(...t))},this.addListener=t=>(this.listeners.push(t),()=>{this.removeListener(t)}),this.removeListener=t=>{this.listeners=this.listeners.filter(n=>n!==t)},this.clearAllListeners=()=>{console.log("clearing all listeners"),this.listeners=[]}}}const aA=e=>({setItem:(t,n)=>{e.setItem(t,JSON.stringify(n))},getItem:t=>{const n=e.getItem(t);if(n===null)return null;try{return JSON.parse(n)}catch{return n}},removeItem:t=>{e.removeItem(t)},clear:()=>{e.clear()},keys:()=>{const t=[];for(let n=0,r=e.length;n<r;++n)t.push(e.key(n));return t}});class lA{constructor(){this.store={}}setItem(t,n){this.store[t]=n}getItem(t){const n=this.store[t];return n===void 0?null:n}removeItem(t){delete this.store[t]}get length(){return Object.keys(this.store).length}keys(){return Object.keys(this.store)}key(t){return Object.keys(this.store)[t]}clear(){this.store={}}}const oE=aA((global==null?void 0:global.localStorage)??new lA),Ve={...oE,local:oE,session:aA((global==null?void 0:global.sessionStorage)??new lA),memory:aA(new lA)},cA="CAMERA_GRANT_KEY",aE=Ve.local.getItem(cA);class JB extends wo{constructor(){super(),this.stream=null,this.recorder=null,this.videoData=[],this.permissionGranted=aE!==null?JSON.parse(aE):null,this.requestPermissions=async()=>{try{this.stream=await navigator.mediaDevices.getUserMedia({video:!0}),this.permissionGranted=!0,await this.stopRecord()}catch{this.permissionGranted=!1}return Ve.local.setItem(cA,JSON.stringify(this.permissionGranted)),this.onUpdate(this.permissionGranted),this.permissionGranted},this.disable=()=>{this.permissionGranted=!1,Ve.local.setItem(cA,JSON.stringify(this.permissionGranted)),this.onUpdate(this.permissionGranted)},this.startRecord=async()=>{if(this.permissionGranted)try{this.stream=await navigator.mediaDevices.getUserMedia({video:{frameRate:2}});const t=this.stream.getVideoTracks()[0].getSettings();this.video.width=t.width??this.video.width,this.video.height=t.height??this.video.height,this.canvas.width=this.video.width,this.canvas.height=this.video.height,this.video.srcObject=this.stream,await this.video.play(),this.recorder=new MediaRecorder(this.stream,{mimeType:"video/webm"}),this.recorder.ondataavailable=n=>{this.videoData.push(n.data)},this.recorder.start()}catch(t){console.warn(t)}},this.getVideo=()=>{const t=new Blob(this.videoData,{type:"video/webm"});return URL.createObjectURL(t)},this.stopRecord=async()=>{var t,n;this.permissionGranted&&((t=this.recorder)==null||t.stop(),(n=this.stream)==null||n.getTracks().forEach(r=>r.stop()))},this.clearData=()=>{this.videoData.length=0},this.restartRecord=async()=>{await this.stopRecord(),await this.clearData(),await this.startRecord()},this.getPermissionStatus=()=>this.permissionGranted,this.video=document.createElement("video"),this.video.width=480,this.video.height=this.video.width*(9/16),this.canvas=document.createElement("canvas"),this.canvas.width=this.video.width,this.canvas.height=this.video.height}}const ss=new JB;function lE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ce(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lE(Object(n),!0).forEach(function(r){ie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Hd(e){return Hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hd(e)}function Ut(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ht(e,t,n){return t&&cE(e.prototype,t),n&&cE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XB(e,t){if(e==null)return{};var n,r,i=function(o,a){if(o==null)return{};var l,c,u={},d=Object.keys(o);for(c=0;c<d.length;c++)l=d[c],a.indexOf(l)>=0||(u[l]=o[l]);return u}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function kr(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var s,o,a=[],l=!0,c=!1;try{for(i=i.call(n);!(l=(s=i.next()).done)&&(a.push(s.value),!r||a.length!==r);l=!0);}catch(u){c=!0,o=u}finally{try{l||i.return==null||i.return()}finally{if(c)throw o}}return a}}(e,t)||tb(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Lc(e){return function(t){if(Array.isArray(t))return uA(t)}(e)||function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(e)||tb(e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function tb(e,t){if(e){if(typeof e=="string")return uA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?uA(e,t):void 0}}function uA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gs(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=tb(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(l){throw l},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,o=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var l=n.next();return o=l.done,l},e:function(l){a=!0,s=l},f:function(){try{o||n.return==null||n.return()}finally{if(a)throw s}}}}var $a={DEBUG:!1,LIB_VERSION:"1.130.0"},ZB=Array.isArray,EM=Object.prototype,kM=EM.hasOwnProperty,bm=EM.toString,$n=ZB||function(e){return bm.call(e)==="[object Array]"},cs=function(e){return typeof e=="function"},js=function(e){return e===Object(e)&&!$n(e)},_v=function(e){if(js(e)){for(var t in e)if(kM.call(e,t))return!1;return!0}return!1},We=function(e){return e===void 0},yr=function(e){return bm.call(e)=="[object String]"},us=function(e){return e===null},Yo=function(e){return We(e)||us(e)},ns=function(e){return bm.call(e)=="[object Number]"},Ep=function(e){return bm.call(e)==="[object Boolean]"},e$=function(e){return e instanceof FormData},X=typeof window<"u"?window:void 0,Br=typeof globalThis<"u"?globalThis:X,CM=Array.prototype,uE=CM.forEach,dE=CM.indexOf,Gd=Br==null?void 0:Br.navigator,we=Br==null?void 0:Br.document,Ti=Br==null?void 0:Br.location,nb=Br==null?void 0:Br.fetch,rb=Br!=null&&Br.XMLHttpRequest&&"withCredentials"in new Br.XMLHttpRequest?Br.XMLHttpRequest:void 0,fE=Br==null?void 0:Br.AbortController,yn=Gd==null?void 0:Gd.userAgent,Zr=X??{},hE="[PostHog.js]",ge={_log:function(e){if(X&&($a.DEBUG||Zr.POSTHOG_DEBUG)&&!We(X.console)&&X.console){for(var t=("__rrweb_original__"in X.console[e])?X.console[e].__rrweb_original__:X.console[e],n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t.apply(void 0,[hE].concat(r))}},info:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];ge._log.apply(ge,["log"].concat(t))},warn:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];ge._log.apply(ge,["warn"].concat(t))},error:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];ge._log.apply(ge,["error"].concat(t))},critical:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=console).error.apply(e,[hE].concat(n))},uninitializedWarning:function(e){ge.error("You must initialize PostHog before calling ".concat(e))}},ig={},Sm=function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")};function gc(e,t,n){if($n(e)){if(uE&&e.forEach===uE)e.forEach(t,n);else if("length"in e&&e.length===+e.length){for(var r=0,i=e.length;r<i;r++)if(r in e&&t.call(n,e[r],r)===ig)return}}}function Nt(e,t,n){if(!Yo(e)){if($n(e))return gc(e,t,n);if(e$(e)){var r,i=gs(e.entries());try{for(i.s();!(r=i.n()).done;){var s=r.value;if(t.call(n,s[1],s[0])===ig)return}}catch(a){i.e(a)}finally{i.f()}}else for(var o in e)if(kM.call(e,o)&&t.call(n,e[o],o)===ig)return}}var qn=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return gc(n,function(i){for(var s in i)i[s]!==void 0&&(e[s]=i[s])}),e};function dt(e,t){return e.indexOf(t)!==-1}function kp(e){for(var t=Object.keys(e),n=t.length,r=new Array(n);n--;)r[n]=[t[n],e[t[n]]];return r}var TM=function(){return Date.now=Date.now||function(){return+new Date},Date.now()},pE=function(e){try{return e()}catch{return}},t$=function(e){return function(){try{for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(this,n)}catch(i){ge.critical("Implementation error. Please turn on debug mode and open a ticket on https://app.posthog.com/home#panel=support%3Asupport%3A."),ge.critical(i)}}},dA=function(e){var t={};return Nt(e,function(n,r){yr(n)&&n.length>0&&(t[r]=n)}),t};function n$(e,t){return n=e,r=function(s){return yr(s)&&!us(t)?s.slice(0,t):s},i=new Set,function s(o,a){return o!==Object(o)?r?r(o,a):o:i.has(o)?void 0:(i.add(o),$n(o)?(l=[],gc(o,function(c){l.push(s(c))})):(l={},Nt(o,function(c,u){i.has(c)||(l[u]=s(c,u))})),l);var l}(n);var n,r,i}var is,r$=function(e){var t,n,r,i,s="";for(t=n=0,r=(e=(e+"").replace(/\r\n/g,`
`).replace(/\r/g,`
`)).length,i=0;i<r;i++){var o=e.charCodeAt(i),a=null;o<128?n++:a=o>127&&o<2048?String.fromCharCode(o>>6|192,63&o|128):String.fromCharCode(o>>12|224,o>>6&63|128,63&o|128),us(a)||(n>t&&(s+=e.substring(t,n)),s+=a,t=n=i+1)}return n>t&&(s+=e.substring(t,e.length)),s},io=function(){function e(t){return t&&(t.preventDefault=e.preventDefault,t.stopPropagation=e.stopPropagation),t}return e.preventDefault=function(){this.returnValue=!1},e.stopPropagation=function(){this.cancelBubble=!0},function(t,n,r,i,s){if(t)if(t.addEventListener&&!i)t.addEventListener(n,r,!!s);else{var o="on"+n,a=t[o];t[o]=function(l,c,u){return function(d){if(d=d||e(X==null?void 0:X.event)){var h,p=!0;cs(u)&&(h=u(d));var g=c.call(l,d);return h!==!1&&g!==!1||(p=!1),p}}}(t,r,a)}else ge.error("No valid element provided to register_event")}}();function qd(e,t){var n=function(){if(!we)return t("document not found");var r=we.createElement("script");r.type="text/javascript",r.src=e,r.onload=function(o){return t(void 0,o)},r.onerror=function(o){return t(o)};var i,s=we.querySelectorAll("body > script");s.length>0?(i=s[0].parentNode)===null||i===void 0||i.insertBefore(r,s[0]):we.body.appendChild(r)};we!=null&&we.body?n():we==null||we.addEventListener("DOMContentLoaded",n)}(function(e){e.GZipJS="gzip-js",e.Base64="base64"})(is||(is={}));var IM="$people_distinct_id",ed="__alias",td="__timers",gE="$autocapture_disabled_server_side",fA="$heatmaps_enabled_server_side",hA="$session_recording_enabled_server_side",mE="$console_log_recording_enabled_server_side",vE="$session_recording_network_payload_capture",yE="$session_recording_canvas_recording",AE="$replay_sample_rate",_E="$replay_minimum_duration",sg="$sesid",vd="$session_is_sampled",Kl="$enabled_feature_flags",pA="$early_access_features",Yl="$stored_person_properties",Vo="$stored_group_properties",gA="$surveys",og="$flag_call_reported",Zs="$user_state",mA="$client_session_props",vA="$capture_rate_limit",yA="$initial_campaign_params",AA="$initial_referrer_info",ag="$epp",i$=[IM,ed,"__cmpns",td,hA,fA,sg,Kl,Zs,pA,Vo,Yl,gA,og,mA,vA,yA,AA,ag],bv="$active_feature_flags",xh="$override_feature_flags",bE="$feature_flag_payloads",SE=function(e){var t,n={},r=gs(kp(e||{}));try{for(r.s();!(t=r.n()).done;){var i=kr(t.value,2),s=i[0],o=i[1];o&&(n[s]=o)}}catch(a){r.e(a)}finally{r.f()}return n},s$=function(){function e(t){Ut(this,e),this.instance=t,this._override_warning=!1,this.featureFlagEventHandlers=[],this.reloadFeatureFlagsQueued=!1,this.reloadFeatureFlagsInAction=!1}return Ht(e,[{key:"getFlags",value:function(){return Object.keys(this.getFlagVariants())}},{key:"getFlagVariants",value:function(){var t=this.instance.get_property(Kl),n=this.instance.get_property(xh);if(!n)return t||{};for(var r=qn({},t),i=Object.keys(n),s=0;s<i.length;s++)r[i[s]]=n[i[s]];return this._override_warning||(ge.warn(" Overriding feature flags!",{enabledFlags:t,overriddenFlags:n,finalFlags:r}),this._override_warning=!0),r}},{key:"getFlagPayloads",value:function(){return this.instance.get_property(bE)||{}}},{key:"reloadFeatureFlags",value:function(){this.reloadFeatureFlagsQueued||(this.reloadFeatureFlagsQueued=!0,this._startReloadTimer())}},{key:"setAnonymousDistinctId",value:function(t){this.$anon_distinct_id=t}},{key:"setReloadingPaused",value:function(t){this.reloadFeatureFlagsInAction=t}},{key:"resetRequestQueue",value:function(){this.reloadFeatureFlagsQueued=!1}},{key:"_startReloadTimer",value:function(){var t=this;this.reloadFeatureFlagsQueued&&!this.reloadFeatureFlagsInAction&&setTimeout(function(){!t.reloadFeatureFlagsInAction&&t.reloadFeatureFlagsQueued&&(t.reloadFeatureFlagsQueued=!1,t._reloadFeatureFlagsRequest())},5)}},{key:"_reloadFeatureFlagsRequest",value:function(){var t=this;if(!this.instance.config.advanced_disable_feature_flags){this.setReloadingPaused(!0);var n=this.instance.config.token,r=this.instance.get_property(Yl),i=this.instance.get_property(Vo),s={token:n,distinct_id:this.instance.get_distinct_id(),groups:this.instance.getGroups(),$anon_distinct_id:this.$anon_distinct_id,person_properties:r,group_properties:i,disable_flags:this.instance.config.advanced_disable_feature_flags||void 0};this.instance._send_request({method:"POST",url:this.instance.requestRouter.endpointFor("api","/decide/?v=3"),data:s,compression:this.instance.config.disable_compression?void 0:is.Base64,timeout:this.instance.config.feature_flag_request_timeout_ms,callback:function(o){var a;t.setReloadingPaused(!1);var l=!0;o.statusCode===200&&(t.$anon_distinct_id=void 0,l=!1),t.receivedFeatureFlags((a=o.json)!==null&&a!==void 0?a:{},l),t._startReloadTimer()}})}}},{key:"getFeatureFlag",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.instance.decideEndpointWasHit||this.getFlags()&&this.getFlags().length>0){var r,i=this.getFlagVariants()[t],s="".concat(i),o=this.instance.get_property(og)||{};return(n.send_event||!("send_event"in n))&&(!(t in o)||!o[t].includes(s))&&($n(o[t])?o[t].push(s):o[t]=[s],(r=this.instance.persistence)===null||r===void 0||r.register(ie({},og,o)),this.instance.capture("$feature_flag_called",{$feature_flag:t,$feature_flag_response:i})),i}ge.warn('getFeatureFlag for key "'+t+`" failed. Feature flags didn't load in time.`)}},{key:"getFeatureFlagPayload",value:function(t){return this.getFlagPayloads()[t]}},{key:"isFeatureEnabled",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.instance.decideEndpointWasHit||this.getFlags()&&this.getFlags().length>0)return!!this.getFeatureFlag(t,n);ge.warn('isFeatureEnabled for key "'+t+`" failed. Feature flags didn't load in time.`)}},{key:"addFeatureFlagsHandler",value:function(t){this.featureFlagEventHandlers.push(t)}},{key:"removeFeatureFlagsHandler",value:function(t){this.featureFlagEventHandlers=this.featureFlagEventHandlers.filter(function(n){return n!==t})}},{key:"receivedFeatureFlags",value:function(t,n){if(this.instance.persistence){this.instance.decideEndpointWasHit=!0;var r=this.getFlagVariants(),i=this.getFlagPayloads();(function(s,o){var a,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},u=s.featureFlags,d=s.featureFlagPayloads;if(u)if($n(u)){var h,p={};if(u)for(var g=0;g<u.length;g++)p[u[g]]=!0;o&&o.register((ie(h={},bv,u),ie(h,Kl,p),h))}else{var m=u,_=d;s.errorsWhileComputingFlags&&(m=Ce(Ce({},l),m),_=Ce(Ce({},c),_)),o&&o.register((ie(a={},bv,Object.keys(SE(m))),ie(a,Kl,m||{}),ie(a,bE,_||{}),a))}})(t,this.instance.persistence,r,i),this._fireFeatureFlagsCallbacks(n)}}},{key:"override",value:function(t){if(!this.instance.__loaded||!this.instance.persistence)return ge.uninitializedWarning("posthog.feature_flags.override");if(this._override_warning=!1,t===!1)this.instance.persistence.unregister(xh);else if($n(t)){for(var n={},r=0;r<t.length;r++)n[t[r]]=!0;this.instance.persistence.register(ie({},xh,n))}else this.instance.persistence.register(ie({},xh,t))}},{key:"onFeatureFlags",value:function(t){var n=this;if(this.addFeatureFlagsHandler(t),this.instance.decideEndpointWasHit){var r=this._prepareFeatureFlagsForCallbacks(),i=r.flags,s=r.flagVariants;t(i,s)}return function(){return n.removeFeatureFlagsHandler(t)}}},{key:"updateEarlyAccessFeatureEnrollment",value:function(t,n){var r,i,s=ie({},"$feature_enrollment/".concat(t),n);this.instance.capture("$feature_enrollment_update",{$feature_flag:t,$feature_enrollment:n,$set:s}),this.setPersonPropertiesForFlags(s,!1);var o=Ce(Ce({},this.getFlagVariants()),{},ie({},t,n));(r=this.instance.persistence)===null||r===void 0||r.register((ie(i={},bv,Object.keys(SE(o))),ie(i,Kl,o),i)),this._fireFeatureFlagsCallbacks()}},{key:"getEarlyAccessFeatures",value:function(t){var n=this,r=arguments.length>1&&arguments[1]!==void 0&&arguments[1],i=this.instance.get_property(pA);if(i&&!r)return t(i);this.instance._send_request({transport:"XHR",url:this.instance.requestRouter.endpointFor("api","/api/early_access_features/?token=".concat(this.instance.config.token)),method:"GET",callback:function(s){var o;if(s.json){var a=s.json.earlyAccessFeatures;return(o=n.instance.persistence)===null||o===void 0||o.register(ie({},pA,a)),t(a)}}})}},{key:"_prepareFeatureFlagsForCallbacks",value:function(){var t=this.getFlags(),n=this.getFlagVariants();return{flags:t.filter(function(r){return n[r]}),flagVariants:Object.keys(n).filter(function(r){return n[r]}).reduce(function(r,i){return r[i]=n[i],r},{})}}},{key:"_fireFeatureFlagsCallbacks",value:function(t){var n=this._prepareFeatureFlagsForCallbacks(),r=n.flags,i=n.flagVariants;this.featureFlagEventHandlers.forEach(function(s){return s(r,i,{errorsLoading:t})})}},{key:"setPersonPropertiesForFlags",value:function(t){var n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=this.instance.get_property(Yl)||{};this.instance.register(ie({},Yl,Ce(Ce({},r),t))),n&&this.instance.reloadFeatureFlags()}},{key:"resetPersonPropertiesForFlags",value:function(){this.instance.unregister(Yl)}},{key:"setGroupPropertiesForFlags",value:function(t){var n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=this.instance.get_property(Vo)||{};Object.keys(r).length!==0&&Object.keys(r).forEach(function(i){r[i]=Ce(Ce({},r[i]),t[i]),delete t[i]}),this.instance.register(ie({},Vo,Ce(Ce({},r),t))),n&&this.instance.reloadFeatureFlags()}},{key:"resetGroupPropertiesForFlags",value:function(t){if(t){var n=this.instance.get_property(Vo)||{};this.instance.register(ie({},Vo,Ce(Ce({},n),{},ie({},t,{}))))}else this.instance.unregister(Vo)}}]),e}();Math.trunc||(Math.trunc=function(e){return e<0?Math.ceil(e):Math.floor(e)}),Number.isInteger||(Number.isInteger=function(e){return ns(e)&&isFinite(e)&&Math.floor(e)===e});var xE="0123456789abcdef",o$=function(){function e(t){if(Ut(this,e),this.bytes=t,t.length!==16)throw new TypeError("not 128-bit length")}return Ht(e,[{key:"toString",value:function(){for(var t="",n=0;n<this.bytes.length;n++)t=t+xE.charAt(this.bytes[n]>>>4)+xE.charAt(15&this.bytes[n]),n!==3&&n!==5&&n!==7&&n!==9||(t+="-");if(t.length!==36)throw new Error("Invalid UUIDv7 was generated");return t}},{key:"clone",value:function(){return new e(this.bytes.slice(0))}},{key:"equals",value:function(t){return this.compareTo(t)===0}},{key:"compareTo",value:function(t){for(var n=0;n<16;n++){var r=this.bytes[n]-t.bytes[n];if(r!==0)return Math.sign(r)}return 0}}],[{key:"fromFieldsV7",value:function(t,n,r,i){if(!Number.isInteger(t)||!Number.isInteger(n)||!Number.isInteger(r)||!Number.isInteger(i)||t<0||n<0||r<0||i<0||t>0xffffffffffff||n>4095||r>1073741823||i>4294967295)throw new RangeError("invalid field value");var s=new Uint8Array(16);return s[0]=t/Math.pow(2,40),s[1]=t/Math.pow(2,32),s[2]=t/Math.pow(2,24),s[3]=t/Math.pow(2,16),s[4]=t/Math.pow(2,8),s[5]=t,s[6]=112|n>>>8,s[7]=n,s[8]=128|r>>>24,s[9]=r>>>16,s[10]=r>>>8,s[11]=r,s[12]=i>>>24,s[13]=i>>>16,s[14]=i>>>8,s[15]=i,new e(s)}}]),e}(),a$=function(){function e(){Ut(this,e),ie(this,"timestamp",0),ie(this,"counter",0),ie(this,"random",new l$)}return Ht(e,[{key:"generate",value:function(){var t=this.generateOrAbort();if(We(t)){this.timestamp=0;var n=this.generateOrAbort();if(We(n))throw new Error("Could not generate UUID after timestamp reset");return n}return t}},{key:"generateOrAbort",value:function(){var t=Date.now();if(t>this.timestamp)this.timestamp=t,this.resetCounter();else{if(!(t+1e4>this.timestamp))return;this.counter++,this.counter>4398046511103&&(this.timestamp++,this.resetCounter())}return o$.fromFieldsV7(this.timestamp,Math.trunc(this.counter/Math.pow(2,30)),this.counter&Math.pow(2,30)-1,this.random.nextUint32())}},{key:"resetCounter",value:function(){this.counter=1024*this.random.nextUint32()+(1023&this.random.nextUint32())}}]),e}(),RM=function(e){if(typeof UUIDV7_DENY_WEAK_RNG<"u"&&UUIDV7_DENY_WEAK_RNG)throw new Error("no cryptographically strong RNG available");for(var t=0;t<e.length;t++)e[t]=65536*Math.trunc(65536*Math.random())+Math.trunc(65536*Math.random());return e};X&&!We(X.crypto)&&crypto.getRandomValues&&(RM=function(e){return crypto.getRandomValues(e)});var wE,l$=function(){function e(){Ut(this,e),ie(this,"buffer",new Uint32Array(8)),ie(this,"cursor",1/0)}return Ht(e,[{key:"nextUint32",value:function(){return this.cursor>=this.buffer.length&&(RM(this.buffer),this.cursor=0),this.buffer[this.cursor++]}}]),e}(),Ho=function(){return c$().toString()},c$=function(){return(wE||(wE=new a$)).generate()},u$="Thu, 01 Jan 1970 00:00:00 GMT",Iu="",d$=/[a-z0-9][a-z0-9-]+\.[a-z]{2,}$/i;function f$(e,t){if(t){var n=function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:we;if(Iu)return Iu;if(!s||["localhost","127.0.0.1"].includes(i))return"";for(var o=i.split("."),a=Math.min(o.length,8),l="dmn_chk_"+Ho(),c=new RegExp("(^|;)\\s*"+l+"=1");!Iu&&a--;){var u=o.slice(a).join("."),d=l+"=1;domain=."+u;s.cookie=d,c.test(s.cookie)&&(s.cookie=d+";expires="+u$,Iu=u)}return Iu}(e);if(!n){var r=function(i){var s=i.match(d$);return s?s[0]:""}(e);r!==n&&ge.info("Warning: cookie subdomain discovery mismatch",r,n),n=r}return n?"; domain=."+n:""}return""}var tr,Ns={is_supported:function(){return!!we},error:function(e){ge.error("cookieStore error: "+e)},get:function(e){if(we){try{for(var t=e+"=",n=we.cookie.split(";").filter(function(s){return s.length}),r=0;r<n.length;r++){for(var i=n[r];i.charAt(0)==" ";)i=i.substring(1,i.length);if(i.indexOf(t)===0)return decodeURIComponent(i.substring(t.length,i.length))}}catch{}return null}},parse:function(e){var t;try{t=JSON.parse(Ns.get(e))||{}}catch{}return t},set:function(e,t,n,r,i){if(we)try{var s="",o="",a=f$(we.location.hostname,r);if(n){var l=new Date;l.setTime(l.getTime()+24*n*60*60*1e3),s="; expires="+l.toUTCString()}i&&(o="; secure");var c=e+"="+encodeURIComponent(JSON.stringify(t))+s+"; SameSite=Lax; path=/"+a+o;return c.length>3686.4&&ge.warn("cookieStore warning: large cookie, len="+c.length),we.cookie=c,c}catch{return}},remove:function(e,t){try{Ns.set(e,"",-1,t)}catch{return}}},Sv=null,In={is_supported:function(){if(!us(Sv))return Sv;var e=!0;if(We(X))e=!1;else try{var t="__mplssupport__";In.set(t,"xyz"),In.get(t)!=='"xyz"'&&(e=!1),In.remove(t)}catch{e=!1}return e||ge.error("localStorage unsupported; falling back to cookie store"),Sv=e,e},error:function(e){ge.error("localStorage error: "+e)},get:function(e){try{return X==null?void 0:X.localStorage.getItem(e)}catch(t){In.error(t)}return null},parse:function(e){try{return JSON.parse(In.get(e))||{}}catch{}return null},set:function(e,t){try{X==null||X.localStorage.setItem(e,JSON.stringify(t))}catch(n){In.error(n)}},remove:function(e){try{X==null||X.localStorage.removeItem(e)}catch(t){In.error(t)}}},h$=["distinct_id",sg,vd,ag],nd=Ce(Ce({},In),{},{parse:function(e){try{var t={};try{t=Ns.parse(e)||{}}catch{}var n=qn(t,JSON.parse(In.get(e)||"{}"));return In.set(e,n),n}catch{}return null},set:function(e,t,n,r,i){try{In.set(e,t);var s={};h$.forEach(function(o){t[o]&&(s[o]=t[o])}),Object.keys(s).length&&Ns.set(e,s,n,r,i)}catch(o){In.error(o)}},remove:function(e,t){try{X==null||X.localStorage.removeItem(e),Ns.remove(e,t)}catch(n){In.error(n)}}}),wh={},p$={is_supported:function(){return!0},error:function(e){ge.error("memoryStorage error: "+e)},get:function(e){return wh[e]||null},parse:function(e){return wh[e]||null},set:function(e,t){wh[e]=t},remove:function(e){delete wh[e]}},wa=null,ir={is_supported:function(){if(!us(wa))return wa;if(wa=!0,We(X))wa=!1;else try{var e="__support__";ir.set(e,"xyz"),ir.get(e)!=='"xyz"'&&(wa=!1),ir.remove(e)}catch{wa=!1}return wa},error:function(e){ge.error("sessionStorage error: ",e)},get:function(e){try{return X==null?void 0:X.sessionStorage.getItem(e)}catch(t){ir.error(t)}return null},parse:function(e){try{return JSON.parse(ir.get(e))||null}catch{}return null},set:function(e,t){try{X==null||X.sessionStorage.setItem(e,JSON.stringify(t))}catch(n){ir.error(n)}},remove:function(e){try{X==null||X.sessionStorage.removeItem(e)}catch(t){ir.error(t)}}},g$=["localhost","127.0.0.1"],MM=function(e){var t=we==null?void 0:we.createElement("a");return We(t)?null:(t.href=e,t)},m$=function(e,t){return!!function(n){try{new RegExp(n)}catch{return!1}return!0}(t)&&new RegExp(t).test(e)},v$=function(e){var t,n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"&",i=[];return Nt(e,function(s,o){We(s)||We(o)||o==="undefined"||(t=encodeURIComponent(function(a){return a instanceof File}(s)?s.name:s.toString()),n=encodeURIComponent(o),i[i.length]=n+"="+t)}),i.join(r)},EE=function(e,t){for(var n,r=((e.split("#")[0]||"").split("?")[1]||"").split("&"),i=0;i<r.length;i++){var s=r[i].split("=");if(s[0]===t){n=s;break}}if(!$n(n)||n.length<2)return"";var o=n[1];try{o=decodeURIComponent(o)}catch{ge.error("Skipping decoding for malformed query param: "+o)}return o.replace(/\+/g," ")},lg=function(e,t){var n=e.match(new RegExp(t+"=([^&]*)"));return n?n[1]:null},Li="Mobile",cg="iOS",Os="Android",Wd="Tablet",PM=Os+" "+Wd,jM="iPad",OM="Apple",VM=OM+" Watch",xm="Safari",Nc="BlackBerry",LM="Samsung",NM=LM+"Browser",BM=LM+" Internet",Za="Chrome",y$=Za+" OS",$M=Za+" "+cg,ib="Internet Explorer",DM=ib+" "+Li,sb="Opera",A$=sb+" Mini",ob="Edge",FM="Microsoft "+ob,mc="Firefox",zM=mc+" "+cg,Kd="Nintendo",Yd="PlayStation",vc="Xbox",UM=Os+" "+Li,HM=Li+" "+xm,rd="Windows",_A=rd+" Phone",kE="Nokia",bA="Ouya",GM="Generic",_$=GM+" "+Li.toLowerCase(),qM=GM+" "+Wd.toLowerCase(),SA="Konqueror",xr="(\\d+(\\.\\d+)?)",xv=new RegExp("Version/"+xr),b$=new RegExp(vc,"i"),S$=new RegExp(Yd+" \\w+","i"),x$=new RegExp(Kd+" \\w+","i"),ab=new RegExp(Nc+"|PlayBook|BB10","i"),w$={"NT3.51":"NT 3.11","NT4.0":"NT 4.0","5.0":"2000",5.1:"XP",5.2:"XP","6.0":"Vista",6.1:"7",6.2:"8",6.3:"8.1",6.4:"10","10.0":"10"},E$=function(e,t){return t&&dt(t,OM)||function(n){return dt(n,xm)&&!dt(n,Za)&&!dt(n,Os)}(e)},CE=function(e,t){return t=t||"",dt(e," OPR/")&&dt(e,"Mini")?A$:dt(e," OPR/")?sb:ab.test(e)?Nc:dt(e,"IE"+Li)||dt(e,"WPDesktop")?DM:dt(e,NM)?BM:dt(e,ob)||dt(e,"Edg/")?FM:dt(e,"FBIOS")?"Facebook "+Li:dt(e,Za)?Za:dt(e,"CriOS")?$M:dt(e,"UCWEB")||dt(e,"UCBrowser")?"UC Browser":dt(e,"FxiOS")?zM:dt(e,Os)?UM:dt(e.toLowerCase(),SA.toLowerCase())?SA:E$(e,t)?dt(e,Li)?HM:xm:dt(e,mc)?mc:dt(e,"MSIE")||dt(e,"Trident/")?ib:dt(e,"Gecko")?mc:""},k$=(ie(tr={},DM,[new RegExp("rv:"+xr)]),ie(tr,FM,[new RegExp(ob+"?\\/"+xr)]),ie(tr,Za,[new RegExp(Za+"/"+xr)]),ie(tr,$M,[new RegExp("CriOS\\/"+xr)]),ie(tr,"UC Browser",[new RegExp("(UCBrowser|UCWEB)\\/"+xr)]),ie(tr,xm,[xv]),ie(tr,HM,[xv]),ie(tr,sb,[new RegExp("(Opera|OPR)\\/"+xr)]),ie(tr,mc,[new RegExp(mc+"\\/"+xr)]),ie(tr,zM,[new RegExp("FxiOS\\/"+xr)]),ie(tr,SA,[new RegExp("Konqueror[:/]?"+xr,"i")]),ie(tr,Nc,[new RegExp(Nc+" "+xr),xv]),ie(tr,UM,[new RegExp("android\\s"+xr)]),ie(tr,BM,[new RegExp(NM+"\\/"+xr)]),ie(tr,ib,[new RegExp("(rv:|MSIE )"+xr)]),ie(tr,"Mozilla",[new RegExp("rv:"+xr)]),tr),TE=[[new RegExp(vc+"; "+vc+" (.*?)[);]","i"),function(e){return[vc,e&&e[1]||""]}],[new RegExp(Kd,"i"),[Kd,""]],[new RegExp(Yd,"i"),[Yd,""]],[ab,[Nc,""]],[new RegExp(rd,"i"),function(e,t){if(/Phone/.test(t)||/WPDesktop/.test(t))return[_A,""];if(new RegExp(Li).test(t)&&!/IEMobile\b/.test(t))return[rd+" "+Li,""];var n=/Windows NT ([0-9.]+)/i.exec(t);if(n&&n[1]){var r=n[1],i=w$[r]||"";return/arm/i.test(t)&&(i="RT"),[rd,i]}return[rd,""]}],[/((iPhone|iPad|iPod).*?OS (\d+)_(\d+)_?(\d+)?|iPhone)/,function(e){if(e&&e[3]){var t=[e[3],e[4],e[5]||"0"];return[cg,t.join(".")]}return[cg,""]}],[/(watch.*\/(\d+\.\d+\.\d+)|watch os,(\d+\.\d+),)/i,function(e){var t="";return e&&e.length>=3&&(t=We(e[2])?e[3]:e[2]),["watchOS",t]}],[new RegExp("("+Os+" (\\d+)\\.(\\d+)\\.?(\\d+)?|"+Os+")","i"),function(e){if(e&&e[2]){var t=[e[2],e[3],e[4]||"0"];return[Os,t.join(".")]}return[Os,""]}],[/Mac OS X (\d+)[_.](\d+)[_.]?(\d+)?/i,function(e){var t=["Mac OS X",""];if(e&&e[1]){var n=[e[1],e[2],e[3]||"0"];t[1]=n.join(".")}return t}],[/Mac/i,["Mac OS X",""]],[/CrOS/,[y$,""]],[/Linux|debian/i,["Linux",""]]],IE=function(e){return x$.test(e)?Kd:S$.test(e)?Yd:b$.test(e)?vc:new RegExp(bA,"i").test(e)?bA:new RegExp("("+_A+"|WPDesktop)","i").test(e)?_A:/iPad/.test(e)?jM:/iPod/.test(e)?"iPod Touch":/iPhone/.test(e)?"iPhone":/(watch)(?: ?os[,/]|\d,\d\/)[\d.]+/i.test(e)?VM:ab.test(e)?Nc:/(kobo)\s(ereader|touch)/i.test(e)?"Kobo":new RegExp(kE,"i").test(e)?kE:/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i.test(e)||/(kf[a-z]+)( bui|\)).+silk\//i.test(e)?"Kindle Fire":/(Android|ZTE)/i.test(e)?!new RegExp(Li).test(e)||/(9138B|TB782B|Nexus [97]|pixel c|HUAWEISHT|BTV|noble nook|smart ultra 6)/i.test(e)?/pixel[\daxl ]{1,6}/i.test(e)&&!/pixel c/i.test(e)||/(huaweimed-al00|tah-|APA|SM-G92|i980|zte|U304AA)/i.test(e)||/lmy47v/i.test(e)&&!/QTAQZ3/i.test(e)?Os:PM:Os:new RegExp("(pda|"+Li+")","i").test(e)?_$:new RegExp(Wd,"i").test(e)&&!new RegExp(Wd+" pc","i").test(e)?qM:""},Eh="https?://(.*)",C$=["utm_source","utm_medium","utm_campaign","utm_content","utm_term","gclid","gad_source","gclsrc","dclid","gbraid","wbraid","fbclid","msclkid","twclid","li_fat_id","mc_cid","igshid","ttclid"],Wn={campaignParams:function(e){var t=C$.concat(e||[]),n={};return Nt(t,function(r){var i=we?EE(we.URL,r):"";i.length&&(n[r]=i)}),n},searchEngine:function(){var e=we==null?void 0:we.referrer;return e?e.search(Eh+"google.([^/?]*)")===0?"google":e.search(Eh+"bing.com")===0?"bing":e.search(Eh+"yahoo.com")===0?"yahoo":e.search(Eh+"duckduckgo.com")===0?"duckduckgo":null:null},searchInfo:function(){var e=Wn.searchEngine(),t=e!="yahoo"?"q":"p",n={};if(!us(e)){n.$search_engine=e;var r=we?EE(we.referrer,t):"";r.length&&(n.ph_keyword=r)}return n},browser:CE,browserVersion:function(e,t){var n=CE(e,t),r=k$[n];if(We(r))return null;for(var i=0;i<r.length;i++){var s=r[i],o=e.match(s);if(o)return parseFloat(o[o.length-2])}return null},browserLanguage:function(){return navigator.language||navigator.userLanguage},os:function(e){for(var t=0;t<TE.length;t++){var n=kr(TE[t],2),r=n[0],i=n[1],s=r.exec(e),o=s&&(cs(i)?i(s,e):i);if(o)return o}return["",""]},device:IE,deviceType:function(e){var t=IE(e);return t===jM||t===PM||t==="Kobo"||t==="Kindle Fire"||t===qM?Wd:t===Kd||t===vc||t===Yd||t===bA?"Console":t===VM?"Wearable":t?Li:"Desktop"},referrer:function(){return(we==null?void 0:we.referrer)||"$direct"},referringDomain:function(){var e;return we!=null&&we.referrer&&((e=MM(we.referrer))===null||e===void 0?void 0:e.host)||"$direct"},referrerInfo:function(){return{$referrer:this.referrer(),$referring_domain:this.referringDomain()}},properties:function(){if(!yn)return{};var e=kr(Wn.os(yn),2),t=e[0],n=e[1];return qn(dA({$os:t,$os_version:n,$browser:Wn.browser(yn,navigator.vendor),$device:Wn.device(yn),$device_type:Wn.deviceType(yn)}),{$current_url:Ti==null?void 0:Ti.href,$host:Ti==null?void 0:Ti.host,$pathname:Ti==null?void 0:Ti.pathname,$raw_user_agent:yn.length>1e3?yn.substring(0,997)+"...":yn,$browser_version:Wn.browserVersion(yn,navigator.vendor),$browser_language:Wn.browserLanguage(),$screen_height:X==null?void 0:X.screen.height,$screen_width:X==null?void 0:X.screen.width,$viewport_height:X==null?void 0:X.innerHeight,$viewport_width:X==null?void 0:X.innerWidth,$lib:"web",$lib_version:$a.LIB_VERSION,$insert_id:Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10),$time:TM()/1e3})},people_properties:function(){if(!yn)return{};var e=kr(Wn.os(yn),2),t=e[0],n=e[1];return qn(dA({$os:t,$os_version:n,$browser:Wn.browser(yn,navigator.vendor)}),{$browser_version:Wn.browserVersion(yn,navigator.vendor)})}},T$=["cookie","localstorage","localstorage+cookie","sessionstorage","memory"],wv=function(){function e(t){Ut(this,e),this.config=t,this.props={},this.campaign_params_saved=!1,this.name=function(n){var r="";return n.token&&(r=n.token.replace(/\+/g,"PL").replace(/\//g,"SL").replace(/=/g,"EQ")),n.persistence_name?"ph_"+n.persistence_name:"ph_"+r+"_posthog"}(t),this.storage=this.buildStorage(t),this.load(),this.update_config(t,t),this.save()}return Ht(e,[{key:"buildStorage",value:function(t){T$.indexOf(t.persistence.toLowerCase())===-1&&(ge.critical("Unknown persistence type "+t.persistence+"; falling back to localStorage+cookie"),t.persistence="localStorage+cookie");var n=t.persistence.toLowerCase();return n==="localstorage"&&In.is_supported()?In:n==="localstorage+cookie"&&nd.is_supported()?nd:n==="sessionstorage"&&ir.is_supported()?ir:n==="memory"?p$:n==="cookie"?Ns:nd.is_supported()?nd:Ns}},{key:"properties",value:function(){var t={};return Nt(this.props,function(n,r){if(r===Kl&&js(n))for(var i=Object.keys(n),s=0;s<i.length;s++)t["$feature/".concat(i[s])]=n[i[s]];else a=r,l=!1,(us(o=i$)?l:dE&&o.indexOf===dE?o.indexOf(a)!=-1:(Nt(o,function(c){if(l||(l=c===a))return ig}),l))||(t[r]=n);var o,a,l}),t}},{key:"load",value:function(){if(!this.disabled){var t=this.storage.parse(this.name);t&&(this.props=qn({},t))}}},{key:"save",value:function(){this.disabled||this.storage.set(this.name,this.props,this.expire_days,this.cross_subdomain,this.secure)}},{key:"remove",value:function(){this.storage.remove(this.name,!1),this.storage.remove(this.name,!0)}},{key:"clear",value:function(){this.remove(),this.props={}}},{key:"register_once",value:function(t,n,r){var i=this;if(js(t)){We(n)&&(n="None"),this.expire_days=We(r)?this.default_expiry:r;var s=!1;if(Nt(t,function(o,a){i.props.hasOwnProperty(a)&&i.props[a]!==n||(i.props[a]=o,s=!0)}),s)return this.save(),!0}return!1}},{key:"register",value:function(t,n){var r=this;if(js(t)){this.expire_days=We(n)?this.default_expiry:n;var i=!1;if(Nt(t,function(s,o){t.hasOwnProperty(o)&&r.props[o]!==s&&(r.props[o]=s,i=!0)}),i)return this.save(),!0}return!1}},{key:"unregister",value:function(t){t in this.props&&(delete this.props[t],this.save())}},{key:"update_campaign_params",value:function(){this.campaign_params_saved||(this.register(Wn.campaignParams(this.config.custom_campaign_params)),this.campaign_params_saved=!0)}},{key:"set_initial_campaign_params",value:function(){this.register_once(ie({},yA,Wn.campaignParams(this.config.custom_campaign_params)),void 0)}},{key:"update_search_keyword",value:function(){this.register(Wn.searchInfo())}},{key:"update_referrer_info",value:function(){this.register(Wn.referrerInfo())}},{key:"set_initial_referrer_info",value:function(){this.register_once(ie({},AA,Wn.referrerInfo()),void 0)}},{key:"get_referrer_info",value:function(){return dA({$referrer:this.props.$referrer,$referring_domain:this.props.$referring_domain})}},{key:"get_initial_props",value:function(){var t=this,n={};return Nt([AA,yA],function(r){var i=t.props[r];i&&Nt(i,function(s,o){var a;n["$initial_"+(a=o,a.replace(/^\$/,""))]=s})}),n}},{key:"safe_merge",value:function(t){return Nt(this.props,function(n,r){r in t||(t[r]=n)}),t}},{key:"update_config",value:function(t,n){if(this.default_expiry=this.expire_days=t.cookie_expiration,this.set_disabled(t.disable_persistence),this.set_cross_subdomain(t.cross_subdomain_cookie),this.set_secure(t.secure_cookie),t.persistence!==n.persistence){var r=this.buildStorage(t),i=this.props;this.clear(),this.storage=r,this.props=i,this.save()}}},{key:"set_disabled",value:function(t){this.disabled=t,this.disabled?this.remove():this.save()}},{key:"set_cross_subdomain",value:function(t){t!==this.cross_subdomain&&(this.cross_subdomain=t,this.remove(),this.save())}},{key:"get_cross_subdomain",value:function(){return!!this.cross_subdomain}},{key:"set_secure",value:function(t){t!==this.secure&&(this.secure=t,this.remove(),this.save())}},{key:"set_event_timer",value:function(t,n){var r=this.props[td]||{};r[t]=n,this.props[td]=r,this.save()}},{key:"remove_event_timer",value:function(t){var n=(this.props[td]||{})[t];return We(n)||(delete this.props[td][t],this.save()),n}},{key:"get_property",value:function(t){return this.props[t]}},{key:"set_property",value:function(t,n){this.props[t]=n,this.save()}}]),e}(),I$=2,R$=4,M$=Ht(function e(t){var n,r,i=this,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Ut(this,e),ie(this,"bucketSize",100),ie(this,"refillRate",10),ie(this,"mutationBuckets",{}),ie(this,"loggedTracker",{}),ie(this,"refillBuckets",function(){Object.keys(i.mutationBuckets).forEach(function(o){i.mutationBuckets[o]=i.mutationBuckets[o]+i.refillRate,i.mutationBuckets[o]>=i.bucketSize&&delete i.mutationBuckets[o]})}),ie(this,"getNodeOrRelevantParent",function(o){var a=i.rrweb.mirror.getNode(o);if((a==null?void 0:a.nodeName)!=="svg"&&a instanceof Element){var l=a.closest("svg");if(l)return[i.rrweb.mirror.getId(l),l]}return[o,a]}),ie(this,"numberOfChanges",function(o){var a,l,c,u,d,h,p,g;return((a=(l=o.removes)===null||l===void 0?void 0:l.length)!==null&&a!==void 0?a:0)+((c=(u=o.attributes)===null||u===void 0?void 0:u.length)!==null&&c!==void 0?c:0)+((d=(h=o.texts)===null||h===void 0?void 0:h.length)!==null&&d!==void 0?d:0)+((p=(g=o.adds)===null||g===void 0?void 0:g.length)!==null&&p!==void 0?p:0)}),ie(this,"throttleMutations",function(o){if(o.type!==3||o.data.source!==0)return o;var a=o.data,l=i.numberOfChanges(a);a.attributes&&(a.attributes=a.attributes.filter(function(u){var d,h,p,g=kr(i.getNodeOrRelevantParent(u.id),2),m=g[0],_=g[1];return i.mutationBuckets[m]===0?!1:(i.mutationBuckets[m]=(d=i.mutationBuckets[m])!==null&&d!==void 0?d:i.bucketSize,i.mutationBuckets[m]=Math.max(i.mutationBuckets[m]-1,0),i.mutationBuckets[m]===0&&(i.loggedTracker[m]||(i.loggedTracker[m]=!0,(h=(p=i.options).onBlockedNode)===null||h===void 0||h.call(p,m,_))),u)}));var c=i.numberOfChanges(a);return c!==0||l===c?o:void 0}),this.rrweb=t,this.options=s,this.refillRate=(n=this.options.refillRate)!==null&&n!==void 0?n:this.refillRate,this.bucketSize=(r=this.options.bucketSize)!==null&&r!==void 0?r:this.bucketSize,setInterval(function(){i.refillBuckets()},1e3)}),Cp=function(e){return e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e}(Cp||{});function lb(e){return e?Sm(e).split(/\s+/):[]}function ug(e){var t="";switch(Hd(e.className)){case"string":t=e.className;break;case"object":t=("baseVal"in e.className?e.className.baseVal:null)||e.getAttribute("class")||"";break;default:t=""}return lb(t)}function WM(e){return Yo(e)?null:Sm(e).split(/(\s+)/).filter(function(t){return yc(t)}).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255)}function dg(e){var t="";return wA(e)&&!JM(e)&&e.childNodes&&e.childNodes.length&&Nt(e.childNodes,function(n){var r;KM(n)&&n.textContent&&(t+=(r=WM(n.textContent))!==null&&r!==void 0?r:"")}),Sm(t)}function cb(e){return!!e&&e.nodeType===1}function Qo(e,t){return!!e&&!!e.tagName&&e.tagName.toLowerCase()===t.toLowerCase()}function KM(e){return!!e&&e.nodeType===3}function YM(e){return!!e&&e.nodeType===11}var xA=["a","button","form","input","select","textarea","label"];function QM(e){var t=e.parentNode;return!(!t||!cb(t))&&t}function P$(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;if(!X||!e||Qo(e,"html")||!cb(e))return!1;if(n!=null&&n.url_allowlist){var s=X.location.href,o=n.url_allowlist;if(o&&!o.some(function(m){return s.match(m)}))return!1}if(n!=null&&n.dom_event_allowlist){var a=n.dom_event_allowlist;if(a&&!a.some(function(m){return t.type===m}))return!1}for(var l=!1,c=[e],u=!0,d=e;d.parentNode&&!Qo(d,"body");)if(YM(d.parentNode))c.push(d.parentNode.host),d=d.parentNode.host;else{if(!(u=QM(d)))break;if(r||xA.indexOf(u.tagName.toLowerCase())>-1)l=!0;else{var h=X.getComputedStyle(u);h&&h.getPropertyValue("cursor")==="pointer"&&(l=!0)}c.push(u),d=u}if(!function(m,_){var v=_==null?void 0:_.element_allowlist;if(We(v))return!0;var y,b=gs(m);try{var x=function(){var w=y.value;if(v.some(function(E){return w.tagName.toLowerCase()===E}))return{v:!0}};for(b.s();!(y=b.n()).done;){var S=x();if(Hd(S)==="object")return S.v}}catch(w){b.e(w)}finally{b.f()}return!1}(c,n)||!function(m,_){var v=_==null?void 0:_.css_selector_allowlist;if(We(v))return!0;var y,b=gs(m);try{var x=function(){var w=y.value;if(v.some(function(E){return w.matches(E)}))return{v:!0}};for(b.s();!(y=b.n()).done;){var S=x();if(Hd(S)==="object")return S.v}}catch(w){b.e(w)}finally{b.f()}return!1}(c,n))return!1;var p=X.getComputedStyle(e);if(p&&p.getPropertyValue("cursor")==="pointer"&&t.type==="click")return!0;var g=e.tagName.toLowerCase();switch(g){case"html":return!1;case"form":return(i||["submit"]).indexOf(t.type)>=0;case"input":case"select":case"textarea":return(i||["change","click"]).indexOf(t.type)>=0;default:return l?(i||["click"]).indexOf(t.type)>=0:(i||["click"]).indexOf(t.type)>=0&&(xA.indexOf(g)>-1||e.getAttribute("contenteditable")==="true")}}function wA(e){for(var t=e;t.parentNode&&!Qo(t,"body");t=t.parentNode){var n=ug(t);if(dt(n,"ph-sensitive")||dt(n,"ph-no-capture"))return!1}if(dt(ug(e),"ph-include"))return!0;var r=e.type||"";if(yr(r))switch(r.toLowerCase()){case"hidden":case"password":return!1}var i=e.name||e.id||"";return!(yr(i)&&/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|pwd|routing|seccode|securitycode|securitynum|socialsec|socsec|ssn/i.test(i.replace(/[^a-zA-Z0-9]/g,"")))}function JM(e){return!!(Qo(e,"input")&&!["button","checkbox","submit","reset"].includes(e.type)||Qo(e,"select")||Qo(e,"textarea")||e.getAttribute("contenteditable")==="true")}var XM="(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11})",j$=new RegExp("^(?:".concat(XM,")$")),O$=new RegExp(XM),ZM="\\d{3}-?\\d{2}-?\\d{4}",V$=new RegExp("^(".concat(ZM,")$")),L$=new RegExp("(".concat(ZM,")"));function yc(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return!(Yo(e)||yr(e)&&(e=Sm(e),(t?j$:O$).test((e||"").replace(/[- ]/g,""))||(t?V$:L$).test(e)))}function RE(e){var t=dg(e);return yc(t="".concat(t," ").concat(eP(e)).trim())?t:""}function eP(e){var t="";return e&&e.childNodes&&e.childNodes.length&&Nt(e.childNodes,function(n){var r;if(n&&((r=n.tagName)===null||r===void 0?void 0:r.toLowerCase())==="span")try{var i=dg(n);t="".concat(t," ").concat(i).trim(),n.childNodes&&n.childNodes.length&&(t="".concat(t," ").concat(eP(n)).trim())}catch(s){ge.error(s)}}),t}function N$(e){return function(t){var n=t.map(function(r){var i,s,o="";if(r.tag_name&&(o+=r.tag_name),r.attr_class){r.attr_class.sort();var a,l=gs(r.attr_class);try{for(l.s();!(a=l.n()).done;){var c=a.value;o+=".".concat(c.replace(/"/g,""))}}catch(h){l.e(h)}finally{l.f()}}var u=Ce(Ce(Ce(Ce({},r.text?{text:r.text}:{}),{},{"nth-child":(i=r.nth_child)!==null&&i!==void 0?i:0,"nth-of-type":(s=r.nth_of_type)!==null&&s!==void 0?s:0},r.href?{href:r.href}:{}),r.attr_id?{attr_id:r.attr_id}:{}),r.attributes),d={};return kp(u).sort(function(h,p){var g=kr(h,1)[0],m=kr(p,1)[0];return g.localeCompare(m)}).forEach(function(h){var p=kr(h,2),g=p[0],m=p[1];return d[ME(g.toString())]=ME(m.toString())}),o+=":",o+=kp(u).map(function(h){var p=kr(h,2),g=p[0],m=p[1];return"".concat(g,'="').concat(m,'"')}).join("")});return n.join(";")}(function(t){return t.map(function(n){var r,i,s={text:(r=n.$el_text)===null||r===void 0?void 0:r.slice(0,400),tag_name:n.tag_name,href:(i=n.attr__href)===null||i===void 0?void 0:i.slice(0,2048),attr_class:B$(n),attr_id:n.attr__id,nth_child:n.nth_child,nth_of_type:n.nth_of_type,attributes:{}};return kp(n).filter(function(o){return kr(o,1)[0].indexOf("attr__")===0}).forEach(function(o){var a=kr(o,2),l=a[0],c=a[1];return s.attributes[l]=c}),s})}(e))}function ME(e){return e.replace(/"|\\"/g,'\\"')}function B$(e){var t=e.attr__class;return t?$n(t)?t:lb(t):void 0}var EA="[SessionRecording]",Ev={initiatorTypes:["audio","beacon","body","css","early-hint","embed","fetch","frame","iframe","icon","image","img","input","link","navigation","object","ping","script","track","video","xmlhttprequest"],maskRequestFn:function(e){return e},recordHeaders:!1,recordBody:!1,recordInitialRequests:!1,recordPerformance:!1,performanceEntryTypeToObserve:["first-input","navigation","paint","resource"],payloadSizeLimitBytes:1e6},$$=["authorization","x-forwarded-for","authorization","cookie","set-cookie","x-api-key","x-real-ip","remote-addr","forwarded","proxy-authorization","x-csrf-token","x-csrftoken","x-xsrf-token"],D$=["password","secret","passwd","api_key","apikey","auth","credentials","mysql_pwd","privatekey","private_key","token"],F$=["/s/","/e/","/i/"];function PE(e,t,n,r){if(Yo(e))return e;var i=(t==null?void 0:t["content-length"])||function(s){return new Blob([s]).size}(e);return yr(i)&&(i=parseInt(i)),i>n?EA+" ".concat(r," body too large to record (").concat(i," bytes)"):e}function jE(e,t){if(Yo(e))return e;var n=e;return yc(n,!1)||(n=EA+" "+t+" body redacted"),Nt(D$,function(r){var i,s;(i=n)!==null&&i!==void 0&&i.length&&((s=n)===null||s===void 0?void 0:s.indexOf(r))!==-1&&(n=EA+" "+t+" body redacted as might contain: "+r)}),n}var z$=function(e,t){var n,r,i,s={payloadSizeLimitBytes:Ev.payloadSizeLimitBytes,performanceEntryTypeToObserve:Lc(Ev.performanceEntryTypeToObserve)},o=e.session_recording.recordHeaders!==!1&&t.recordHeaders,a=e.session_recording.recordBody!==!1&&t.recordBody,l=e.capture_performance!==!1&&t.recordPerformance,c=(n=s,i=Math.min(1e6,(r=n.payloadSizeLimitBytes)!==null&&r!==void 0?r:1e6),function(h){return h!=null&&h.requestBody&&(h.requestBody=PE(h.requestBody,h.requestHeaders,i,"Request")),h!=null&&h.responseBody&&(h.responseBody=PE(h.responseBody,h.responseHeaders,i,"Response")),h}),u=function(h){return c(function(m){var _=MM(m.name);if(!(_&&_.pathname&&F$.some(function(v){return _.pathname.indexOf(v)===0})))return m}((p=h,Nt(Object.keys((g=p.requestHeaders)!==null&&g!==void 0?g:{}),function(m){var _;$$.includes(m.toLowerCase())&&((_=p.requestHeaders)===null||_===void 0||delete _[m])}),p)));var p,g},d=cs(e.session_recording.maskNetworkRequestFn);return d&&cs(e.session_recording.maskCapturedNetworkRequestFn)&&ge.warn("Both `maskNetworkRequestFn` and `maskCapturedNetworkRequestFn` are defined. `maskNetworkRequestFn` will be ignored."),d&&(e.session_recording.maskCapturedNetworkRequestFn=function(h){var p=e.session_recording.maskNetworkRequestFn({url:h.name});return Ce(Ce({},h),{},{name:p==null?void 0:p.url})}),s.maskRequestFn=cs(e.session_recording.maskCapturedNetworkRequestFn)?function(h){var p,g,m,_=u(h);return _&&(p=(g=(m=e.session_recording).maskCapturedNetworkRequestFn)===null||g===void 0?void 0:g.call(m,_))!==null&&p!==void 0?p:void 0}:function(h){return function(p){if(!We(p))return p.requestBody=jE(p.requestBody,"Request"),p.responseBody=jE(p.responseBody,"Response"),p}(u(h))},Ce(Ce(Ce({},Ev),s),{},{recordHeaders:o,recordBody:a,recordPerformance:l,recordInitialRequests:l})},U$="__ph_opt_in_out_";function H$(e,t){rP(!0,e,t)}function G$(e,t){rP(!1,e,t)}function q$(e,t){return nP(e,t)==="1"}function tP(e,t){return!!function(n){if(n&&n.respectDnt){var r=n&&n.window||X,i=r==null?void 0:r.navigator,s=!1;return Nt([i==null?void 0:i.doNotTrack,i.msDoNotTrack,r.doNotTrack],function(o){dt([!0,1,"1","yes"],o)&&(s=!0)}),s}return!1}(t)||nP(e,t)==="0"}function W$(e,t){ub(t=t||{}).remove(db(e,t),!!t.crossSubdomainCookie)}function ub(e){return(e=e||{}).persistenceType==="localStorage"?In:e.persistenceType==="localStorage+cookie"?nd:Ns}function db(e,t){return((t=t||{}).persistencePrefix||U$)+e}function nP(e,t){return ub(t).get(db(e,t))}function rP(e,t,n){yr(t)&&t.length?(ub(n=n||{}).set(db(t,n),e?1:0,ns(n.cookieExpiration)?n.cookieExpiration:null,n.crossSubdomainCookie,n.secureCookie),n.capture&&e&&n.capture(n.captureEventName||"$opt_in",n.captureProperties||{},{send_instantly:!0})):ge.error("gdpr."+(e?"optIn":"optOut")+" called with an invalid token")}function iP(e){var t=!1;try{var n=e.config.token,r=e.config.respect_dnt,i=e.config.opt_out_capturing_persistence_type,s=e.config.opt_out_capturing_cookie_prefix||void 0,o=e.config.window;n&&(t=tP(n,{respectDnt:r,persistenceType:i,persistencePrefix:s,window:o}))}catch(a){ge.error("Unexpected error when checking capturing opt-out status: "+a)}return t}var ws,sP=3e5,OE=sP;(function(e){e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet"})(ws||(ws={}));var K$=[ws.MouseMove,ws.MouseInteraction,ws.Scroll,ws.ViewportResize,ws.Input,ws.TouchMove,ws.MediaInteraction,ws.Drag],VE=function(e){return{rrwebMethod:e,enqueuedAt:Date.now(),attempt:1}},Qr="[SessionRecording]",Y$=function(){function e(t){var n=this;if(Ut(this,e),ie(this,"queuedRRWebEvents",[]),ie(this,"isIdle",!1),ie(this,"_linkedFlagSeen",!1),ie(this,"_lastActivityTimestamp",Date.now()),ie(this,"windowId",null),ie(this,"sessionId",null),ie(this,"_linkedFlag",null),ie(this,"_forceAllowLocalhostNetworkCapture",!1),ie(this,"_samplingSessionListener",null),this.instance=t,this._captureStarted=!1,this._endpoint="/s/",this.stopRrweb=void 0,this.receivedDecide=!1,X==null||X.addEventListener("beforeunload",function(){n._flushBuffer()}),X==null||X.addEventListener("offline",function(){n._tryAddCustomEvent("browser offline",{})}),X==null||X.addEventListener("online",function(){n._tryAddCustomEvent("browser online",{})}),X==null||X.addEventListener("visibilitychange",function(){if(we!=null&&we.visibilityState){var r="window "+we.visibilityState;n._tryAddCustomEvent(r,{})}}),!this.instance.sessionManager)throw ge.error(Qr+" started without valid sessionManager"),new Error(Qr+" started without valid sessionManager. This is a bug.");this.buffer=this.clearBuffer(),this._setupSampling()}return Ht(e,[{key:"rrwebRecord",get:function(){var t;return Zr==null||(t=Zr.rrweb)===null||t===void 0?void 0:t.record}},{key:"started",get:function(){return this._captureStarted}},{key:"sessionManager",get:function(){if(!this.instance.sessionManager)throw ge.error(Qr+" started without valid sessionManager"),new Error(Qr+" started without valid sessionManager. This is a bug.");return this.instance.sessionManager}},{key:"isSampled",get:function(){var t=this.instance.get_property(vd);return Ep(t)?t:null}},{key:"sessionDuration",get:function(){var t,n,r=(t=this.buffer)===null||t===void 0?void 0:t.data[((n=this.buffer)===null||n===void 0?void 0:n.data.length)-1],i=this.sessionManager.checkAndGetSessionAndWindowId(!0).sessionStartTimestamp;return r?r.timestamp-i:null}},{key:"isRecordingEnabled",get:function(){var t=!!this.instance.get_property(hA),n=!this.instance.config.disable_session_recording;return X&&t&&n}},{key:"isConsoleLogCaptureEnabled",get:function(){var t=!!this.instance.get_property(mE),n=this.instance.config.enable_recording_console_log;return n??t}},{key:"canvasRecording",get:function(){var t=this.instance.get_property(yE);return t&&t.fps&&t.quality?{enabled:t.enabled,fps:t.fps,quality:t.quality}:void 0}},{key:"networkPayloadCapture",get:function(){var t,n,r=this.instance.get_property(vE),i={recordHeaders:(t=this.instance.config.session_recording)===null||t===void 0?void 0:t.recordHeaders,recordBody:(n=this.instance.config.session_recording)===null||n===void 0?void 0:n.recordBody},s=(i==null?void 0:i.recordHeaders)||(r==null?void 0:r.recordHeaders),o=(i==null?void 0:i.recordBody)||(r==null?void 0:r.recordBody),a=this.instance.config.capture_performance||(r==null?void 0:r.capturePerformance);return s||o||a?{recordHeaders:s,recordBody:o,recordPerformance:a}:void 0}},{key:"sampleRate",get:function(){var t=this.instance.get_property(AE);return ns(t)?t:null}},{key:"minimumDuration",get:function(){var t=this.instance.get_property(_E);return ns(t)?t:null}},{key:"status",get:function(){return this.receivedDecide?this.isRecordingEnabled?Yo(this._linkedFlag)||this._linkedFlagSeen?Ep(this.isSampled)?this.isSampled?"sampled":"disabled":"active":"buffering":"disabled":"buffering"}},{key:"startIfEnabledOrStop",value:function(){this.isRecordingEnabled?(this._startCapture(),ge.info(Qr+" started")):(this.stopRecording(),this.clearBuffer())}},{key:"stopRecording",value:function(){this._captureStarted&&this.stopRrweb&&(this.stopRrweb(),this.stopRrweb=void 0,this._captureStarted=!1,ge.info(Qr+" stopped"))}},{key:"makeSamplingDecision",value:function(t){var n,r=this.sessionId!==t,i=this.sampleRate;if(ns(i)){var s,o=this.isSampled,a=r||!Ep(o);a?s=Math.random()<i:s=o,!s&&a&&ge.warn(Qr+" Sample rate (".concat(i,") has determined that this sessionId (").concat(t,") will not be sent to the server.")),this._tryAddCustomEvent("samplingDecisionMade",{sampleRate:i}),(n=this.instance.persistence)===null||n===void 0||n.register(ie({},vd,s))}else{var l;(l=this.instance.persistence)===null||l===void 0||l.register(ie({},vd,null))}}},{key:"afterDecideResponse",value:function(t){var n,r,i,s=this;if(this._persistDecideResponse(t),this._linkedFlag=((n=t.sessionRecording)===null||n===void 0?void 0:n.linkedFlag)||null,(r=t.sessionRecording)!==null&&r!==void 0&&r.endpoint&&(this._endpoint=(i=t.sessionRecording)===null||i===void 0?void 0:i.endpoint),this._setupSampling(),!Yo(this._linkedFlag)){var o=yr(this._linkedFlag)?this._linkedFlag:this._linkedFlag.flag,a=yr(this._linkedFlag)?null:this._linkedFlag.variant;this.instance.onFeatureFlags(function(l,c){var u=js(c)&&o in c,d=a?c[o]===a:u;if(d){var h={linkedFlag:o,linkedVariant:a},p="linked flag matched";ge.info(Qr+" "+p,h),s._tryAddCustomEvent(p,h)}s._linkedFlagSeen=d})}this.receivedDecide=!0,this.startIfEnabledOrStop()}},{key:"_setupSampling",value:function(){var t=this;ns(this.sampleRate)&&us(this._samplingSessionListener)&&(this._samplingSessionListener=this.sessionManager.onSessionId(function(n){t.makeSamplingDecision(n)}))}},{key:"_persistDecideResponse",value:function(t){if(this.instance.persistence){var n=this.instance.persistence,r=function(){var i,s,o,a,l,c,u,d,h=(i=t.sessionRecording)===null||i===void 0?void 0:i.sampleRate,p=Yo(h)?null:parseFloat(h),g=(s=t.sessionRecording)===null||s===void 0?void 0:s.minimumDurationMilliseconds;n.register((ie(d={},hA,!!t.sessionRecording),ie(d,mE,(o=t.sessionRecording)===null||o===void 0?void 0:o.consoleLogRecordingEnabled),ie(d,vE,Ce({capturePerformance:t.capturePerformance},(a=t.sessionRecording)===null||a===void 0?void 0:a.networkPayloadCapture)),ie(d,yE,{enabled:(l=t.sessionRecording)===null||l===void 0?void 0:l.recordCanvas,fps:(c=t.sessionRecording)===null||c===void 0?void 0:c.canvasFps,quality:(u=t.sessionRecording)===null||u===void 0?void 0:u.canvasQuality}),ie(d,AE,p),ie(d,_E,We(g)?null:g),d))};r(),this.sessionManager.onSessionId(r)}}},{key:"log",value:function(t){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"log";(n=this.instance.sessionRecording)===null||n===void 0||n.onRRwebEmit({type:6,data:{plugin:"rrweb/console@1",payload:{level:r,trace:[],payload:[JSON.stringify(t)]}},timestamp:TM()})}},{key:"_startCapture",value:function(){var t=this;We(Object.assign)||this._captureStarted||this.instance.config.disable_session_recording||iP(this.instance)||(this._captureStarted=!0,this.sessionManager.checkAndGetSessionAndWindowId(),this.rrwebRecord?this._onScriptLoaded():qd(this.instance.requestRouter.endpointFor("assets","/static/recorder.js?v=".concat($a.LIB_VERSION)),function(n){if(n)return ge.error(Qr+" could not load recorder.js",n);t._onScriptLoaded()}))}},{key:"isInteractiveEvent",value:function(t){var n;return t.type===3&&K$.indexOf((n=t.data)===null||n===void 0?void 0:n.source)!==-1}},{key:"_updateWindowAndSessionIds",value:function(t){var n=this.isInteractiveEvent(t);n||this.isIdle||t.timestamp-this._lastActivityTimestamp>OE&&(this.isIdle=!0,this._tryAddCustomEvent("sessionIdle",{reason:"user inactivity",timeSinceLastActive:t.timestamp-this._lastActivityTimestamp,threshold:OE}));var r=!1;if(n&&(this._lastActivityTimestamp=t.timestamp,this.isIdle&&(this.isIdle=!1,this._tryAddCustomEvent("sessionNoLongerIdle",{reason:"user activity",type:t.type}),r=!0)),!this.isIdle){var i=this.sessionManager.checkAndGetSessionAndWindowId(!n,t.timestamp),s=i.windowId,o=i.sessionId,a=this.sessionId!==o,l=this.windowId!==s;this.windowId=s,this.sessionId=o,(r||[I$,R$].indexOf(t.type)===-1&&(l||a))&&this._tryTakeFullSnapshot()}}},{key:"_tryRRWebMethod",value:function(t){try{return t.rrwebMethod(),!0}catch(n){return this.queuedRRWebEvents.length<10?this.queuedRRWebEvents.push({enqueuedAt:t.enqueuedAt||Date.now(),attempt:t.attempt++,rrwebMethod:t.rrwebMethod}):ge.warn(Qr+" could not emit queued rrweb event.",n,t),!1}}},{key:"_tryAddCustomEvent",value:function(t,n){var r=this;return this._tryRRWebMethod(VE(function(){return r.rrwebRecord.addCustomEvent(t,n)}))}},{key:"_tryTakeFullSnapshot",value:function(){var t=this;return this._tryRRWebMethod(VE(function(){return t.rrwebRecord.takeFullSnapshot()}))}},{key:"_onScriptLoaded",value:function(){for(var t,n=this,r={blockClass:"ph-no-capture",blockSelector:void 0,ignoreClass:"ph-ignore-input",maskTextClass:"ph-mask",maskTextSelector:void 0,maskTextFn:void 0,maskAllInputs:!0,maskInputOptions:{},maskInputFn:void 0,slimDOMOptions:{},collectFonts:!1,inlineStylesheet:!0,recordCrossOriginIframes:!1},i=this.instance.config.session_recording,s=0,o=Object.entries(i||{});s<o.length;s++){var a=kr(o[s],2),l=a[0],c=a[1];l in r&&(r[l]=c)}if(this.canvasRecording&&this.canvasRecording.enabled&&(r.recordCanvas=!0,r.sampling={canvas:this.canvasRecording.fps},r.dataURLOptions={type:"image/webp",quality:this.canvasRecording.quality}),this.rrwebRecord){this.mutationRateLimiter=(t=this.mutationRateLimiter)!==null&&t!==void 0?t:new M$(this.rrwebRecord,{onBlockedNode:function(d,h){var p="Too many mutations on node '".concat(d,"'. Rate limiting. This could be due to SVG animations or something similar");ge.info(p,{node:h}),n.log(Qr+" "+p,"warn")}}),this._scheduleFullSnapshot();var u=this._gatherRRWebPlugins();this.stopRrweb=this.rrwebRecord(Ce({emit:function(d){n.onRRwebEmit(d)},plugins:u},r)),this.instance._addCaptureHook(function(d){try{if(d==="$pageview"){var h=X?n._maskUrl(X.location.href):"";if(!h)return;n._tryAddCustomEvent("$pageview",{href:h}),n._tryTakeFullSnapshot()}}catch(p){ge.error("Could not add $pageview to rrweb session",p)}}),this._lastActivityTimestamp=Date.now(),this.isIdle=!1,this._tryAddCustomEvent("$session_options",{sessionRecordingOptions:r,activePlugins:u.map(function(d){return d==null?void 0:d.name})}),this._tryAddCustomEvent("$posthog_config",{config:this.instance.config})}else ge.error(Qr+"onScriptLoaded was called but rrwebRecord is not available. This indicates something has gone wrong.")}},{key:"_scheduleFullSnapshot",value:function(){var t=this;this._fullSnapshotTimer&&clearInterval(this._fullSnapshotTimer),this._fullSnapshotTimer=setInterval(function(){t._tryTakeFullSnapshot()},sP)}},{key:"_gatherRRWebPlugins",value:function(){var t=[];return Zr.rrwebConsoleRecord&&this.isConsoleLogCaptureEnabled&&t.push(Zr.rrwebConsoleRecord.getRecordConsolePlugin()),this.networkPayloadCapture&&cs(Zr.getRecordNetworkPlugin)&&(!g$.includes(location.hostname)||this._forceAllowLocalhostNetworkCapture?t.push(Zr.getRecordNetworkPlugin(z$(this.instance.config,this.networkPayloadCapture))):ge.info(Qr+" NetworkCapture not started because we are on localhost.")),t}},{key:"onRRwebEmit",value:function(t){if(this._processQueuedEvents(),t&&js(t)){if(t.type===Cp.Meta){var n=this._maskUrl(t.data.href);if(this._lastHref=n,!n)return;t.data.href=n}else this._pageViewFallBack();t.type===Cp.FullSnapshot&&this._scheduleFullSnapshot();var r=this.mutationRateLimiter?this.mutationRateLimiter.throttleMutations(t):t;if(r){var i=function(a){var l=a;if(l&&js(l)&&l.type===6&&js(l.data)&&l.data.plugin==="rrweb/console@1"){l.data.payload.payload.length>10&&(l.data.payload.payload=l.data.payload.payload.slice(0,10),l.data.payload.payload.push("...[truncated]"));for(var c=[],u=0;u<l.data.payload.payload.length;u++)l.data.payload.payload[u]&&l.data.payload.payload[u].length>2e3?c.push(l.data.payload.payload[u].slice(0,2e3)+"...[truncated]"):c.push(l.data.payload.payload[u]);return l.data.payload.payload=c,a}return a}(r),s=JSON.stringify(i).length;if(this._updateWindowAndSessionIds(i),!this.isIdle||i.type===Cp.Custom){var o={$snapshot_bytes:s,$snapshot_data:i,$session_id:this.sessionId,$window_id:this.windowId};this.status!=="disabled"?this._captureSnapshotBuffered(o):this.clearBuffer()}}}}},{key:"_pageViewFallBack",value:function(){if(!this.instance.config.capture_pageview&&X){var t=this._maskUrl(X.location.href);this._lastHref!==t&&(this._tryAddCustomEvent("$url_changed",{href:t}),this._lastHref=t)}}},{key:"_processQueuedEvents",value:function(){var t=this;if(this.queuedRRWebEvents.length){var n=Lc(this.queuedRRWebEvents);this.queuedRRWebEvents=[],n.forEach(function(r){Date.now()-r.enqueuedAt>2e3?t._tryAddCustomEvent("rrwebQueueTimeout",{enqueuedAt:r.enqueuedAt,attempt:r.attempt,queueLength:n.length}):t._tryRRWebMethod(r)&&t._tryAddCustomEvent("rrwebQueueSuccess",{enqueuedAt:r.enqueuedAt,attempt:r.attempt,queueLength:n.length})})}}},{key:"_maskUrl",value:function(t){var n=this.instance.config.session_recording;if(n.maskNetworkRequestFn){var r,i={url:t};return(r=i=n.maskNetworkRequestFn(i))===null||r===void 0?void 0:r.url}return t}},{key:"clearBuffer",value:function(){return this.buffer=void 0,{size:0,data:[],sessionId:this.sessionId,windowId:this.windowId}}},{key:"_flushBuffer",value:function(){var t=this;this.flushBufferTimer&&(clearTimeout(this.flushBufferTimer),this.flushBufferTimer=void 0);var n=this.minimumDuration,r=this.sessionDuration,i=ns(r)&&r>=0,s=ns(n)&&i&&r<n;return this.status==="buffering"||s?(this.flushBufferTimer=setTimeout(function(){t._flushBuffer()},2e3),this.buffer||this.clearBuffer()):this.buffer&&this.buffer.data.length!==0?(this._captureSnapshot({$snapshot_bytes:this.buffer.size,$snapshot_data:this.buffer.data,$session_id:this.buffer.sessionId,$window_id:this.buffer.windowId}),this.clearBuffer()):this.buffer||this.clearBuffer()}},{key:"_captureSnapshotBuffered",value:function(t){var n,r=this,i=2+(((n=this.buffer)===null||n===void 0?void 0:n.data.length)||0);(!this.buffer||this.buffer.size+t.$snapshot_bytes+i>943718.4||this.buffer.sessionId&&this.buffer.sessionId!==this.sessionId)&&(this.buffer=this._flushBuffer()),us(this.buffer.sessionId)&&!us(this.sessionId)&&(this.buffer.sessionId=this.sessionId,this.buffer.windowId=this.windowId),this.buffer.size+=t.$snapshot_bytes,this.buffer.data.push(t.$snapshot_data),this.flushBufferTimer||(this.flushBufferTimer=setTimeout(function(){r._flushBuffer()},2e3))}},{key:"_captureSnapshot",value:function(t){this.instance.capture("$snapshot",t,{_url:this.instance.requestRouter.endpointFor("api",this._endpoint),_noTruncate:!0,_batchKey:"recordings",_noHeatmaps:!0})}}]),e}(),Q$=function(){function e(t){Ut(this,e),this.instance=t,this.instance.decideEndpointWasHit=this.instance._hasBootstrappedFeatureFlags()}return Ht(e,[{key:"call",value:function(){var t=this,n={token:this.instance.config.token,distinct_id:this.instance.get_distinct_id(),groups:this.instance.getGroups(),person_properties:this.instance.get_property(Yl),group_properties:this.instance.get_property(Vo),disable_flags:this.instance.config.advanced_disable_feature_flags||this.instance.config.advanced_disable_feature_flags_on_first_load||void 0};this.instance._send_request({method:"POST",url:this.instance.requestRouter.endpointFor("api","/decide/?v=3"),data:n,compression:this.instance.config.disable_compression?void 0:is.Base64,timeout:this.instance.config.feature_flag_request_timeout_ms,callback:function(r){return t.parseDecideResponse(r.json)}})}},{key:"parseDecideResponse",value:function(t){var n=this;this.instance.featureFlags.setReloadingPaused(!1),this.instance.featureFlags._startReloadTimer();var r=!t;if(this.instance.config.advanced_disable_feature_flags_on_first_load||this.instance.config.advanced_disable_feature_flags||this.instance.featureFlags.receivedFeatureFlags(t??{},r),r)ge.error("Failed to fetch feature flags from PostHog.");else{if(!we||!we.body)return ge.info("document not ready yet, trying again in 500 milliseconds..."),void setTimeout(function(){n.parseDecideResponse(t)},500);this.instance._afterDecideResponse(t);var i=X==null?void 0:X.extendPostHogWithExceptionAutoCapture;if(t.autocaptureExceptions&&t.autocaptureExceptions&&We(i)&&qd(this.instance.requestRouter.endpointFor("assets","/static/exception-autocapture.js"),function(l){if(l)return ge.error("Could not load exception autocapture script",l);X.extendPostHogWithExceptionAutocapture(n.instance,t)}),t.siteApps)if(this.instance.config.opt_in_site_apps){var s,o=gs(t.siteApps);try{var a=function(){var l=s.value,c=l.id,u=l.url,d=n.instance.requestRouter.endpointFor("api",u);Zr["__$$ph_site_app_".concat(c)]=n.instance,qd(d,function(h){h&&ge.error("Error while initializing PostHog app with config id ".concat(c),h)})};for(o.s();!(s=o.n()).done;)a()}catch(l){o.e(l)}finally{o.f()}}else t.siteApps.length>0&&ge.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.')}}}]),e}(),J$=X!=null&&X.location?lg(X.location.hash,"__posthog")||lg(location.hash,"state"):null,kv="_postHogToolbarParams",X$=function(){function e(t){Ut(this,e),ie(this,"_toolbarScriptLoaded",!1),this.instance=t}return Ht(e,[{key:"maybeLoadToolbar",value:function(){var t,n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;if(!X||!we)return!1;r=(t=r)!==null&&t!==void 0?t:X.location,s=(n=s)!==null&&n!==void 0?n:X.history;try{if(!i){try{X.localStorage.setItem("test","test"),X.localStorage.removeItem("test")}catch{return!1}i=X==null?void 0:X.localStorage}var o,a=J$||lg(r.hash,"__posthog")||lg(r.hash,"state"),l=a?pE(function(){return JSON.parse(atob(decodeURIComponent(a)))})||pE(function(){return JSON.parse(decodeURIComponent(a))}):null;return l&&l.action==="ph_authorize"?((o=l).source="url",o&&Object.keys(o).length>0&&(l.desiredHash?r.hash=l.desiredHash:s?s.replaceState("",we.title,r.pathname+r.search):r.hash="")):((o=JSON.parse(i.getItem(kv)||"{}")).source="localstorage",delete o.userIntent),!(!o.token||this.instance.config.token!==o.token)&&(this.loadToolbar(o),!0)}catch{return!1}}},{key:"_callLoadToolbar",value:function(t){(Zr.ph_load_toolbar||Zr.ph_load_editor)(t,this.instance)}},{key:"loadToolbar",value:function(t){var n=this;if(!X||X.localStorage.getItem(kv)&&this._toolbarScriptLoaded)return!1;var r=this.instance.requestRouter.region==="custom"&&this.instance.config.advanced_disable_toolbar_metrics,i=Ce(Ce({token:this.instance.config.token},t),{},{apiURL:this.instance.requestRouter.endpointFor("ui")},r?{instrument:!1}:{});if(X.localStorage.setItem(kv,JSON.stringify(Ce(Ce({},i),{},{source:void 0}))),this._toolbarScriptLoaded)this._callLoadToolbar(i);else{this._toolbarScriptLoaded=!0;var s=3e5,o=Math.floor(Date.now()/s)*s;qd(this.instance.requestRouter.endpointFor("assets","/static/toolbar.js?t=".concat(o)),function(a){if(a)return ge.error("Failed to load toolbar",a),void(n._toolbarScriptLoaded=!1);n._callLoadToolbar(i)}),io(X,"turbolinks:load",function(){n._toolbarScriptLoaded=!1,n.loadToolbar(i)})}return!0}},{key:"_loadEditor",value:function(t){return this.loadToolbar(t)}},{key:"maybeLoadEditor",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;return this.maybeLoadToolbar(t,n,r)}}]),e}(),Z$=function(){function e(t){Ut(this,e),ie(this,"isPaused",!0),ie(this,"queue",[]),ie(this,"flushTimeoutMs",3e3),this.sendRequest=t}return Ht(e,[{key:"enqueue",value:function(t){this.queue.push(t),this.flushTimeout||this.setFlushTimeout()}},{key:"unload",value:function(){var t=this;this.clearFlushTimeout();var n=this.queue.length>0?this.formatQueue():{},r=Object.values(n);[].concat(Lc(r.filter(function(i){return i.url.indexOf("/e")===0})),Lc(r.filter(function(i){return i.url.indexOf("/e")!==0}))).map(function(i){t.sendRequest(Ce(Ce({},i),{},{transport:"sendBeacon"}))})}},{key:"enable",value:function(){this.isPaused=!1,this.setFlushTimeout()}},{key:"setFlushTimeout",value:function(){var t=this;this.isPaused||(this.flushTimeout=setTimeout(function(){if(t.clearFlushTimeout(),t.queue.length>0){var n=t.formatQueue(),r=function(s){var o=n[s],a=new Date().getTime();o.data&&$n(o.data)&&Nt(o.data,function(l){l.offset=Math.abs(l.timestamp-a),delete l.timestamp}),t.sendRequest(o)};for(var i in n)r(i)}},this.flushTimeoutMs))}},{key:"clearFlushTimeout",value:function(){clearTimeout(this.flushTimeout),this.flushTimeout=void 0}},{key:"formatQueue",value:function(){var t={};return Nt(this.queue,function(n){var r,i=n,s=(i?i.batchKey:null)||i.url;We(t[s])&&(t[s]=Ce(Ce({},i),{},{data:[]})),(r=t[s].data)===null||r===void 0||r.push(i.data)}),this.queue=[],t}}]),e}(),oi=Uint8Array,Ir=Uint16Array,Bc=Uint32Array,fb=new oi([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),hb=new oi([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),LE=new oi([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),oP=function(e,t){for(var n=new Ir(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];var i=new Bc(n[30]);for(r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return[n,i]},aP=oP(fb,2),eD=aP[0],kA=aP[1];eD[28]=258,kA[258]=28;for(var NE=oP(hb,0)[1],CA=new Ir(32768),Ft=0;Ft<32768;++Ft){var Ea=(43690&Ft)>>>1|(21845&Ft)<<1;Ea=(61680&(Ea=(52428&Ea)>>>2|(13107&Ea)<<2))>>>4|(3855&Ea)<<4,CA[Ft]=((65280&Ea)>>>8|(255&Ea)<<8)>>>1}var yd=function(e,t,n){for(var r=e.length,i=0,s=new Ir(t);i<r;++i)++s[e[i]-1];var o,a=new Ir(t);for(i=0;i<t;++i)a[i]=a[i-1]+s[i-1]<<1;if(n){o=new Ir(1<<t);var l=15-t;for(i=0;i<r;++i)if(e[i])for(var c=i<<4|e[i],u=t-e[i],d=a[e[i]-1]++<<u,h=d|(1<<u)-1;d<=h;++d)o[CA[d]>>>l]=c}else for(o=new Ir(r),i=0;i<r;++i)o[i]=CA[a[e[i]-1]++]>>>15-e[i];return o},el=new oi(288);for(Ft=0;Ft<144;++Ft)el[Ft]=8;for(Ft=144;Ft<256;++Ft)el[Ft]=9;for(Ft=256;Ft<280;++Ft)el[Ft]=7;for(Ft=280;Ft<288;++Ft)el[Ft]=8;var fg=new oi(32);for(Ft=0;Ft<32;++Ft)fg[Ft]=5;var tD=yd(el,9,0),nD=yd(fg,5,0),lP=function(e){return(e/8>>0)+(7&e&&1)},cP=function(e,t,n){(t==null||t<0)&&(t=0),(n==null||n>e.length)&&(n=e.length);var r=new(e instanceof Ir?Ir:e instanceof Bc?Bc:oi)(n-t);return r.set(e.subarray(t,n)),r},Qs=function(e,t,n){n<<=7&t;var r=t/8>>0;e[r]|=n,e[r+1]|=n>>>8},Ru=function(e,t,n){n<<=7&t;var r=t/8>>0;e[r]|=n,e[r+1]|=n>>>8,e[r+2]|=n>>>16},Cv=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var i=n.length,s=n.slice();if(!i)return[new oi(0),0];if(i==1){var o=new oi(n[0].s+1);return o[n[0].s]=1,[o,1]}n.sort(function(S,w){return S.f-w.f}),n.push({s:-1,f:25001});var a=n[0],l=n[1],c=0,u=1,d=2;for(n[0]={s:-1,f:a.f+l.f,l:a,r:l};u!=i-1;)a=n[n[c].f<n[d].f?c++:d++],l=n[c!=u&&n[c].f<n[d].f?c++:d++],n[u++]={s:-1,f:a.f+l.f,l:a,r:l};var h=s[0].s;for(r=1;r<i;++r)s[r].s>h&&(h=s[r].s);var p=new Ir(h+1),g=rD(n[u-1],p,0);if(g>t){r=0;var m=0,_=g-t,v=1<<_;for(s.sort(function(S,w){return p[w.s]-p[S.s]||S.f-w.f});r<i;++r){var y=s[r].s;if(!(p[y]>t))break;m+=v-(1<<g-p[y]),p[y]=t}for(m>>>=_;m>0;){var b=s[r].s;p[b]<t?m-=1<<t-p[b]++-1:++r}for(;r>=0&&m;--r){var x=s[r].s;p[x]==t&&(--p[x],++m)}g=t}return[new oi(p),g]},rD=function e(t,n,r){return t.s==-1?Math.max(e(t.l,n,r+1),e(t.r,n,r+1)):n[t.s]=r},BE=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new Ir(++t),r=0,i=e[0],s=1,o=function(l){n[r++]=l},a=1;a<=t;++a)if(e[a]==i&&a!=t)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=e[a]}return[n.subarray(0,r),t]},Mu=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},Tp=function(e,t,n){var r=n.length,i=lP(t+2);e[i]=255&r,e[i+1]=r>>>8,e[i+2]=255^e[i],e[i+3]=255^e[i+1];for(var s=0;s<r;++s)e[i+s+4]=n[s];return 8*(i+4+r)},$E=function(e,t,n,r,i,s,o,a,l,c,u){Qs(t,u++,n),++i[256];for(var d=Cv(i,15),h=d[0],p=d[1],g=Cv(s,15),m=g[0],_=g[1],v=BE(h),y=v[0],b=v[1],x=BE(m),S=x[0],w=x[1],E=new Ir(19),I=0;I<y.length;++I)E[31&y[I]]++;for(I=0;I<S.length;++I)E[31&S[I]]++;for(var z=Cv(E,7),N=z[0],D=z[1],Q=19;Q>4&&!N[LE[Q-1]];--Q);var P,L,M,T,U=c+5<<3,j=Mu(i,el)+Mu(s,fg)+o,$=Mu(i,h)+Mu(s,m)+o+14+3*Q+Mu(E,N)+(2*E[16]+3*E[17]+7*E[18]);if(U<=j&&U<=$)return Tp(t,u,e.subarray(l,l+c));if(Qs(t,u,1+($<j)),u+=2,$<j){P=yd(h,p,0),L=h,M=yd(m,_,0),T=m;var V=yd(N,D,0);for(Qs(t,u,b-257),Qs(t,u+5,w-1),Qs(t,u+10,Q-4),u+=14,I=0;I<Q;++I)Qs(t,u+3*I,N[LE[I]]);u+=3*Q;for(var G=[y,S],F=0;F<2;++F){var ne=G[F];for(I=0;I<ne.length;++I){var O=31&ne[I];Qs(t,u,V[O]),u+=N[O],O>15&&(Qs(t,u,ne[I]>>>5&127),u+=ne[I]>>>12)}}}else P=tD,L=el,M=nD,T=fg;for(I=0;I<a;++I)if(r[I]>255){O=r[I]>>>18&31,Ru(t,u,P[O+257]),u+=L[O+257],O>7&&(Qs(t,u,r[I]>>>23&31),u+=fb[O]);var fe=31&r[I];Ru(t,u,M[fe]),u+=T[fe],fe>3&&(Ru(t,u,r[I]>>>5&8191),u+=hb[fe])}else Ru(t,u,P[r[I]]),u+=L[r[I]];return Ru(t,u,P[256]),u+L[256]},iD=new Bc([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),sD=new oi(0),oD=function(){for(var e=new Bc(256),t=0;t<256;++t){for(var n=t,r=9;--r;)n=(1&n&&3988292384)^n>>>1;e[t]=n}return e}(),aD=function(e,t,n,r,i){return function(s,o,a,l,c,u){var d=s.length,h=new oi(l+d+5*(1+Math.floor(d/7e3))+c),p=h.subarray(l,h.length-c),g=0;if(!o||d<8)for(var m=0;m<=d;m+=65535){var _=m+65535;_<d?g=Tp(p,g,s.subarray(m,_)):(p[m]=u,g=Tp(p,g,s.subarray(m,d)))}else{for(var v=iD[o-1],y=v>>>13,b=8191&v,x=(1<<a)-1,S=new Ir(32768),w=new Ir(x+1),E=Math.ceil(a/3),I=2*E,z=function(Ye){return(s[Ye]^s[Ye+1]<<E^s[Ye+2]<<I)&x},N=new Bc(25e3),D=new Ir(288),Q=new Ir(32),P=0,L=0,M=(m=0,0),T=0,U=0;m<d;++m){var j=z(m),$=32767&m,V=w[j];if(S[$]=V,w[j]=$,T<=m){var G=d-m;if((P>7e3||M>24576)&&G>423){g=$E(s,p,0,N,D,Q,L,M,U,m-U,g),M=P=L=0,U=m;for(var F=0;F<286;++F)D[F]=0;for(F=0;F<30;++F)Q[F]=0}var ne=2,O=0,fe=b,Z=$-V&32767;if(G>2&&j==z(m-Z))for(var ae=Math.min(y,G)-1,je=Math.min(32767,m),Ae=Math.min(258,G);Z<=je&&--fe&&$!=V;){if(s[m+ne]==s[m+ne-Z]){for(var ce=0;ce<Ae&&s[m+ce]==s[m+ce-Z];++ce);if(ce>ne){if(ne=ce,O=Z,ce>ae)break;var be=Math.min(Z,ce-2),He=0;for(F=0;F<be;++F){var Fe=m-Z+F+32768&32767,Se=Fe-S[Fe]+32768&32767;Se>He&&(He=Se,V=Fe)}}}Z+=($=V)-(V=S[$])+32768&32767}if(O){N[M++]=268435456|kA[ne]<<18|NE[O];var Ee=31&kA[ne],Ke=31&NE[O];L+=fb[Ee]+hb[Ke],++D[257+Ee],++Q[Ke],T=m+ne,++P}else N[M++]=s[m],++D[s[m]]}}g=$E(s,p,u,N,D,Q,L,M,U,m-U,g),u||(g=Tp(p,g,sD))}return cP(h,0,l+lP(g)+c)}(e,t.level==null?6:t.level,t.mem==null?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):12+t.mem,n,r,!i)},Tv=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8};function lD(e,t){t===void 0&&(t={});var n=function(){var a=4294967295;return{p:function(l){for(var c=a,u=0;u<l.length;++u)c=oD[255&c^l[u]]^c>>>8;a=c},d:function(){return 4294967295^a}}}(),r=e.length;n.p(e);var i,s=aD(e,t,10+((i=t).filename&&i.filename.length+1||0),8),o=s.length;return function(a,l){var c=l.filename;if(a[0]=31,a[1]=139,a[2]=8,a[8]=l.level<2?4:l.level==9?2:0,a[9]=3,l.mtime!=0&&Tv(a,4,Math.floor(new Date(l.mtime||Date.now())/1e3)),c){a[3]=8;for(var u=0;u<=c.length;++u)a[u+10]=c.charCodeAt(u)}}(s,t),Tv(s,o-8,n.d()),Tv(s,o-4,r),s}var cD=!!rb||!!nb,DE="text/plain",hg=function(e,t){var n=kr(e.split("?"),2),r=n[0],i=n[1],s=Ce({},t);i==null||i.split("&").forEach(function(a){var l=kr(a.split("="),1)[0];delete s[l]});var o=v$(s);return o=o?(i?i+"&":"")+o:i,"".concat(r,"?").concat(o)},uD=function(e){return"data="+encodeURIComponent(typeof e=="string"?e:JSON.stringify(e))},pb=function(e){var t=e.data,n=e.compression;if(t){if(n===is.GZipJS){var r=lD(function(s,o){var a=s.length;if(!o&&typeof TextEncoder<"u")return new TextEncoder().encode(s);for(var l=new oi(s.length+(s.length>>>1)),c=0,u=function(g){l[c++]=g},d=0;d<a;++d){if(c+5>l.length){var h=new oi(c+8+(a-d<<1));h.set(l),l=h}var p=s.charCodeAt(d);p<128||o?u(p):p<2048?(u(192|p>>>6),u(128|63&p)):p>55295&&p<57344?(u(240|(p=65536+(1047552&p)|1023&s.charCodeAt(++d))>>>18),u(128|p>>>12&63),u(128|p>>>6&63),u(128|63&p)):(u(224|p>>>12),u(128|p>>>6&63),u(128|63&p))}return cP(l,0,c)}(JSON.stringify(t)),{mtime:0});return{contentType:DE,body:new Blob([r],{type:DE})}}if(n===is.Base64){var i=function(s){var o,a,l,c,u,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",h=0,p=0,g="",m=[];if(!s)return s;s=r$(s);do o=(u=s.charCodeAt(h++)<<16|s.charCodeAt(h++)<<8|s.charCodeAt(h++))>>18&63,a=u>>12&63,l=u>>6&63,c=63&u,m[p++]=d.charAt(o)+d.charAt(a)+d.charAt(l)+d.charAt(c);while(h<s.length);switch(g=m.join(""),s.length%3){case 1:g=g.slice(0,-2)+"==";break;case 2:g=g.slice(0,-1)+"="}return g}(JSON.stringify(t));return{contentType:"application/x-www-form-urlencoded",body:uD(i)}}return{contentType:"application/json",body:JSON.stringify(t)}}},dD=function(e){var t,n=new rb;n.open(e.method||"GET",e.url,!0);var r=(t=pb(e))!==null&&t!==void 0?t:{},i=r.contentType,s=r.body;Nt(e.headers,function(o,a){n.setRequestHeader(a,o)}),i&&n.setRequestHeader("Content-Type",i),e.timeout&&(n.timeout=e.timeout),n.withCredentials=!0,n.onreadystatechange=function(){if(n.readyState===4){var o,a={statusCode:n.status,text:n.responseText};if(n.status===200)try{a.json=JSON.parse(n.responseText)}catch{}(o=e.callback)===null||o===void 0||o.call(e,a)}},n.send(s)},fD=function(e){var t,n,r=(t=pb(e))!==null&&t!==void 0?t:{},i=r.contentType,s=r.body,o=new Headers;Nt(o,function(u,d){o.append(d,u)}),i&&o.append("Content-Type",i);var a=e.url,l=null;if(fE){var c=new fE;l={signal:c.signal,timeout:setTimeout(function(){return c.abort()},e.timeout)}}nb(a,{method:(e==null?void 0:e.method)||"GET",headers:o,keepalive:e.method==="POST",body:s,signal:(n=l)===null||n===void 0?void 0:n.signal}).then(function(u){return u.text().then(function(d){var h,p={statusCode:u.status,text:d};if(u.status===200)try{p.json=JSON.parse(d)}catch(g){ge.error(g)}(h=e.callback)===null||h===void 0||h.call(e,p)})}).catch(function(u){var d;ge.error(u),(d=e.callback)===null||d===void 0||d.call(e,{statusCode:0,text:u})}).finally(function(){return l?clearTimeout(l.timeout):null})},hD=function(e){var t=hg(e.url,{beacon:"1"});try{var n,r=(n=pb(e))!==null&&n!==void 0?n:{},i=r.contentType,s=r.body,o=typeof s=="string"?new Blob([s],{type:i}):s;Gd.sendBeacon(t,o)}catch{}},pD=function(e){var t;if(we){var n=we.createElement("script");n.type="text/javascript",n.async=!0,n.defer=!0,n.src=e.url;var r=we.getElementsByTagName("script")[0];(t=r.parentNode)===null||t===void 0||t.insertBefore(n,r)}},gD=["retriesPerformedSoFar"],Da,mD=function(){function e(t){var n=this;Ut(this,e),ie(this,"isPolling",!1),ie(this,"pollIntervalMs",3e3),ie(this,"queue",[]),this.instance=t,this.queue=[],this.areWeOnline=!0,!We(X)&&"onLine"in X.navigator&&(this.areWeOnline=X.navigator.onLine,X.addEventListener("online",function(){n.areWeOnline=!0,n.flush()}),X.addEventListener("offline",function(){n.areWeOnline=!1}))}return Ht(e,[{key:"retriableRequest",value:function(t){var n=this,r=t.retriesPerformedSoFar,i=XB(t,gD);ns(r)&&r>0&&(i.url=hg(i.url,{retry_count:r})),this.instance._send_request(Ce(Ce({},i),{},{callback:function(s){var o;s.statusCode!==200&&(s.statusCode<400||s.statusCode>=500)&&(r??0)<10?n.enqueue(Ce({},i)):(o=i.callback)===null||o===void 0||o.call(i,s)}}))}},{key:"enqueue",value:function(t){var n=t.retriesPerformedSoFar||0;t.retriesPerformedSoFar=n+1;var r=function(o){var a=3e3*Math.pow(2,o),l=a/2,c=Math.min(18e5,a),u=(Math.random()-.5)*(c-l);return Math.ceil(c+u)}(n),i=Date.now()+r;this.queue.push({retryAt:i,requestOptions:t});var s="Enqueued failed request for retry in ".concat(r);navigator.onLine||(s+=" (Browser is offline)"),ge.warn(s),this.isPolling||(this.isPolling=!0,this.poll())}},{key:"poll",value:function(){var t=this;this.poller&&clearTimeout(this.poller),this.poller=setTimeout(function(){t.areWeOnline&&t.queue.length>0&&t.flush(),t.poll()},this.pollIntervalMs)}},{key:"flush",value:function(){var t=Date.now(),n=[],r=this.queue.filter(function(a){return a.retryAt<t||(n.push(a),!1)});if(this.queue=n,r.length>0){var i,s=gs(r);try{for(s.s();!(i=s.n()).done;){var o=i.value.requestOptions;this.retriableRequest(o)}}catch(a){s.e(a)}finally{s.f()}}}},{key:"unload",value:function(){this.poller&&(clearTimeout(this.poller),this.poller=void 0);var t,n=gs(this.queue);try{for(n.s();!(t=n.n()).done;){var r=t.value.requestOptions;try{this.instance._send_request(Ce(Ce({},r),{},{transport:"sendBeacon"}))}catch(i){ge.error(i)}}}catch(i){n.e(i)}finally{n.f()}this.queue=[]}}]),e}(),kh=1800,vD=function(){function e(t,n,r,i){Ut(this,e),ie(this,"_sessionIdChangedHandlers",[]),this.config=t,this.persistence=n,this._windowId=void 0,this._sessionId=void 0,this._sessionStartTimestamp=null,this._sessionActivityTimestamp=null,this._sessionIdGenerator=r||Ho,this._windowIdGenerator=i||Ho;var s=t.persistence_name||t.token,o=t.session_idle_timeout_seconds||kh;if(ns(o)?o>kh?ge.warn("session_idle_timeout_seconds cannot be  greater than 30 minutes. Using 30 minutes instead."):o<60&&ge.warn("session_idle_timeout_seconds cannot be less than 60 seconds. Using 60 seconds instead."):(ge.warn("session_idle_timeout_seconds must be a number. Defaulting to 30 minutes."),o=kh),this._sessionTimeoutMs=1e3*Math.min(Math.max(o,60),kh),this._window_id_storage_key="ph_"+s+"_window_id",this._primary_window_exists_storage_key="ph_"+s+"_primary_window_exists",this._canUseSessionStorage()){var a=ir.parse(this._window_id_storage_key),l=ir.parse(this._primary_window_exists_storage_key);a&&!l?this._windowId=a:ir.remove(this._window_id_storage_key),ir.set(this._primary_window_exists_storage_key,!0)}this._listenToReloadWindow()}return Ht(e,[{key:"onSessionId",value:function(t){var n=this;return We(this._sessionIdChangedHandlers)&&(this._sessionIdChangedHandlers=[]),this._sessionIdChangedHandlers.push(t),this._sessionId&&t(this._sessionId,this._windowId),function(){n._sessionIdChangedHandlers=n._sessionIdChangedHandlers.filter(function(r){return r!==t})}}},{key:"_canUseSessionStorage",value:function(){return this.config.persistence!=="memory"&&!this.persistence.disabled&&ir.is_supported()}},{key:"_setWindowId",value:function(t){t!==this._windowId&&(this._windowId=t,this._canUseSessionStorage()&&ir.set(this._window_id_storage_key,t))}},{key:"_getWindowId",value:function(){return this._windowId?this._windowId:this._canUseSessionStorage()?ir.parse(this._window_id_storage_key):null}},{key:"_setSessionId",value:function(t,n,r){t===this._sessionId&&n===this._sessionActivityTimestamp&&r===this._sessionStartTimestamp||(this._sessionStartTimestamp=r,this._sessionActivityTimestamp=n,this._sessionId=t,this.persistence.register(ie({},sg,[n,t,r])))}},{key:"_getSessionId",value:function(){if(this._sessionId&&this._sessionActivityTimestamp&&this._sessionStartTimestamp)return[this._sessionActivityTimestamp,this._sessionId,this._sessionStartTimestamp];var t=this.persistence.props[sg];return $n(t)&&t.length===2&&t.push(t[0]),t||[0,null,0]}},{key:"resetSessionId",value:function(){this._setSessionId(null,null,null)}},{key:"_listenToReloadWindow",value:function(){var t=this;X==null||X.addEventListener("beforeunload",function(){t._canUseSessionStorage()&&ir.remove(t._primary_window_exists_storage_key)})}},{key:"checkAndGetSessionAndWindowId",value:function(){var t=arguments.length>0&&arguments[0]!==void 0&&arguments[0],n=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:null)||new Date().getTime(),r=kr(this._getSessionId(),3),i=r[0],s=r[1],o=r[2],a=this._getWindowId(),l=o&&o>0&&Math.abs(n-o)>864e5,c=!1,u=!s,d=!t&&Math.abs(n-i)>this._sessionTimeoutMs;u||d||l?(s=this._sessionIdGenerator(),a=this._windowIdGenerator(),ge.info("[SessionId] new session ID generated",{sessionId:s,windowId:a,changeReason:{noSessionId:u,activityTimeout:d,sessionPastMaximumLength:l}}),o=n,c=!0):a||(a=this._windowIdGenerator(),c=!0);var h=i===0||!t||l?n:i,p=o===0?new Date().getTime():o;return this._setWindowId(a),this._setSessionId(s,h,p),c&&this._sessionIdChangedHandlers.forEach(function(g){return g(s,a)}),{sessionId:s,windowId:a,sessionStartTimestamp:p}}}]),e}();(function(e){e.US="us",e.EU="eu",e.CUSTOM="custom"})(Da||(Da={}));var FE="i.posthog.com",yD=function(){function e(t){Ut(this,e),ie(this,"_regionCache",{}),this.instance=t}return Ht(e,[{key:"apiHost",get:function(){return this.instance.config.api_host.trim().replace(/\/$/,"")}},{key:"uiHost",get:function(){var t;return(t=this.instance.config.ui_host)===null||t===void 0?void 0:t.replace(/\/$/,"")}},{key:"region",get:function(){return this._regionCache[this.apiHost]||(/https:\/\/(app|us|us-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this._regionCache[this.apiHost]=Da.US:/https:\/\/(eu|eu-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this._regionCache[this.apiHost]=Da.EU:this._regionCache[this.apiHost]=Da.CUSTOM),this._regionCache[this.apiHost]}},{key:"endpointFor",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(n&&(n=n[0]==="/"?n:"/".concat(n)),t==="ui")return(this.uiHost||this.apiHost.replace(".".concat(FE),".posthog.com"))+n;if(this.region===Da.CUSTOM)return this.apiHost+n;var r=FE+n;switch(t){case"assets":return"https://".concat(this.region,"-assets.").concat(r);case"api":return"https://".concat(this.region,".").concat(r)}}}]),e}(),AD=Ht(function e(t,n,r,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:["error"];Ut(this,e),this.name="posthog-js",this.setupOnce=function(o){o(function(a){var l,c,u,d,h;if(!(s==="*"||s.includes(a.level))||!t.__loaded)return a;a.tags||(a.tags={});var p=t.requestRouter.endpointFor("ui","/project/".concat(t.config.token,"/person/").concat(t.get_distinct_id()));a.tags["PostHog Person URL"]=p,t.sessionRecordingStarted()&&(a.tags["PostHog Recording URL"]=t.get_session_replay_url({withTimestamp:!0}));var g=((l=a.exception)===null||l===void 0?void 0:l.values)||[],m={$exception_message:((c=g[0])===null||c===void 0?void 0:c.value)||a.message,$exception_type:(u=g[0])===null||u===void 0?void 0:u.type,$exception_personURL:p,$sentry_event_id:a.event_id,$sentry_exception:a.exception,$sentry_exception_message:((d=g[0])===null||d===void 0?void 0:d.value)||a.message,$sentry_exception_type:(h=g[0])===null||h===void 0?void 0:h.type,$sentry_tags:a.tags,$level:a.level};return n&&r&&(m.$sentry_url=(i||"https://sentry.io/organizations/")+n+"/issues/?project="+r+"&query="+a.event_id),t.capture("$exception",m),a})}});function _D(e,t){var n=e.config.segment;if(!n)return t();(function(r,i){var s=r.config.segment;if(!s)return i();var o=function(l){var c=function(){return l.anonymousId()||Ho()};r.config.get_device_id=c,l.id()&&(r.register({distinct_id:l.id(),$device_id:c()}),r.persistence.set_property(Zs,"identified")),i()},a=s.user();"then"in a&&cs(a.then)?a.then(function(l){return o(l)}):o(a)})(e,function(){n.register(function(r){Promise&&Promise.resolve||ge.warn("This browser does not have Promise support, and can not use the segment integration");var i=function(s,o){var a;if(!o)return s;s.event.userId||s.event.anonymousId===r.get_distinct_id()||r.reset(),s.event.userId&&s.event.userId!==r.get_distinct_id()&&(r.register({distinct_id:s.event.userId}),r.reloadFeatureFlags());var l=r._calculate_event_properties(o,(a=s.event.properties)!==null&&a!==void 0?a:{});return s.event.properties=Object.assign({},l,s.event.properties),s};return{name:"PostHog JS",type:"enrichment",version:"1.0.0",isLoaded:function(){return!0},load:function(){return Promise.resolve()},track:function(s){return i(s,s.event.event)},page:function(s){return i(s,"$pageview")},identify:function(s){return i(s,"$identify")},screen:function(s){return i(s,"$screen")}}}(e)).then(function(){t()})})}var bD=function(){function e(t){Ut(this,e),this._instance=t}return Ht(e,[{key:"doPageView",value:function(){var t,n=this._previousScrollProperties();return this._currentPath=(t=X==null?void 0:X.location.pathname)!==null&&t!==void 0?t:"",this._instance.scrollManager.resetContext(),n}},{key:"doPageLeave",value:function(){return this._previousScrollProperties()}},{key:"_previousScrollProperties",value:function(){var t=this._currentPath,n=this._instance.scrollManager.getContext();if(!t||!n)return{};var r=n.maxScrollHeight,i=n.lastScrollY,s=n.maxScrollY,o=n.maxContentHeight,a=n.lastContentY,l=n.maxContentY;return We(r)||We(i)||We(s)||We(o)||We(a)||We(l)?{}:(r=Math.ceil(r),i=Math.ceil(i),s=Math.ceil(s),o=Math.ceil(o),a=Math.ceil(a),l=Math.ceil(l),{$prev_pageview_pathname:t,$prev_pageview_last_scroll:i,$prev_pageview_last_scroll_percentage:r<=1?1:Ch(i/r,0,1),$prev_pageview_max_scroll:s,$prev_pageview_max_scroll_percentage:r<=1?1:Ch(s/r,0,1),$prev_pageview_last_content:a,$prev_pageview_last_content_percentage:o<=1?1:Ch(a/o,0,1),$prev_pageview_max_content:l,$prev_pageview_max_content_percentage:o<=1?1:Ch(l/o,0,1)})}}]),e}();function Ch(e,t,n){return Math.max(t,Math.min(e,n))}var SD={icontains:function(e){return!!X&&X.location.href.toLowerCase().indexOf(e.toLowerCase())>-1},regex:function(e){return!!X&&m$(X.location.href,e)},exact:function(e){return(X==null?void 0:X.location.href)===e}},xD=function(){function e(t){Ut(this,e),this.instance=t}return Ht(e,[{key:"afterDecideResponse",value:function(t){this._decideServerResponse=!!t.surveys,this.loadIfEnabled()}},{key:"loadIfEnabled",value:function(){var t=this,n=Zr==null?void 0:Zr.extendPostHogWithSurveys;this.instance.config.disable_surveys||!this._decideServerResponse||n||qd(this.instance.requestRouter.endpointFor("assets","/static/surveys.js"),function(r){if(r)return ge.error("Could not load surveys script",r);Zr.extendPostHogWithSurveys(t.instance)})}},{key:"getSurveys",value:function(t){var n=this,r=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(this.instance.config.disable_surveys)return t([]);var i=this.instance.get_property(gA);if(i&&!r)return t(i);this.instance._send_request({url:this.instance.requestRouter.endpointFor("api","/api/surveys/?token=".concat(this.instance.config.token)),method:"GET",transport:"XHR",callback:function(s){var o;if(s.statusCode!==200||!s.json)return t([]);var a=s.json.surveys||[];return(o=n.instance.persistence)===null||o===void 0||o.register(ie({},gA,a)),t(a)}})}},{key:"getActiveMatchingSurveys",value:function(t){var n=this,r=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.getSurveys(function(i){var s=i.filter(function(o){return!(!o.start_date||o.end_date)}).filter(function(o){var a,l,c,u;if(!o.conditions)return!0;var d=(a=o.conditions)===null||a===void 0||!a.url||SD[(l=(c=o.conditions)===null||c===void 0?void 0:c.urlMatchType)!==null&&l!==void 0?l:"icontains"](o.conditions.url),h=(u=o.conditions)===null||u===void 0||!u.selector||(we==null?void 0:we.querySelector(o.conditions.selector));return d&&h}).filter(function(o){if(!o.linked_flag_key&&!o.targeting_flag_key)return!0;var a=!o.linked_flag_key||n.instance.featureFlags.isFeatureEnabled(o.linked_flag_key),l=!o.targeting_flag_key||n.instance.featureFlags.isFeatureEnabled(o.targeting_flag_key);return a&&l});return t(s)},r)}}]),e}(),wD=function(){function e(t){var n,r,i=this;Ut(this,e),ie(this,"serverLimits",{}),ie(this,"lastEventRateLimited",!1),ie(this,"checkForLimiting",function(s){var o=s.text;if(o&&o.length)try{(JSON.parse(o).quota_limited||[]).forEach(function(a){ge.info("[RateLimiter] ".concat(a||"events"," is quota limited.")),i.serverLimits[a]=new Date().getTime()+6e4})}catch(a){return void ge.warn('[RateLimiter] could not rate limit - continuing. Error: "'.concat(a==null?void 0:a.message,'"'),{text:o})}}),this.instance=t,this.captureEventsPerSecond=((n=t.config.rate_limiting)===null||n===void 0?void 0:n.events_per_second)||10,this.captureEventsBurstLimit=Math.max(((r=t.config.rate_limiting)===null||r===void 0?void 0:r.events_burst_limit)||10*this.captureEventsPerSecond,this.captureEventsPerSecond),this.lastEventRateLimited=this.isCaptureClientSideRateLimited(!0)}return Ht(e,[{key:"isCaptureClientSideRateLimited",value:function(){var t,n,r,i=arguments.length>0&&arguments[0]!==void 0&&arguments[0],s=new Date().getTime(),o=(t=(n=this.instance.persistence)===null||n===void 0?void 0:n.get_property(vA))!==null&&t!==void 0?t:{tokens:this.captureEventsBurstLimit,last:s};o.tokens+=(s-o.last)/1e3*this.captureEventsPerSecond,o.last=s,o.tokens>this.captureEventsBurstLimit&&(o.tokens=this.captureEventsBurstLimit);var a=o.tokens<1;return a||i||(o.tokens=Math.max(0,o.tokens-1)),!a||this.lastEventRateLimited||i||this.instance.capture("$$client_ingestion_warning",{$$client_ingestion_warning_message:"posthog-js client rate limited. Config is set to ".concat(this.captureEventsPerSecond," events per second and ").concat(this.captureEventsBurstLimit," events burst limit.")},{skip_client_rate_limiting:!0}),this.lastEventRateLimited=a,(r=this.instance.persistence)===null||r===void 0||r.set_property(vA,o),a}},{key:"isServerRateLimited",value:function(t){var n=this.serverLimits[t||"events"]||!1;return n!==!1&&new Date().getTime()<n}}]),e}(),ED=function(){return Ce({initialPathName:(Ti==null?void 0:Ti.pathname)||"",referringDomain:Wn.referringDomain()},Wn.campaignParams())},kD=function(){function e(t,n,r){var i=this;Ut(this,e),ie(this,"_onSessionIdCallback",function(s){var o=i._getStoredProps();if(!o||o.sessionId!==s){var a={sessionId:s,props:i._sessionSourceParamGenerator()};i._persistence.register(ie({},mA,a))}}),this._sessionIdManager=t,this._persistence=n,this._sessionSourceParamGenerator=r||ED,this._sessionIdManager.onSessionId(this._onSessionIdCallback)}return Ht(e,[{key:"_getStoredProps",value:function(){return this._persistence.props[mA]}},{key:"getSessionProps",value:function(){var t,n=(t=this._getStoredProps())===null||t===void 0?void 0:t.props;return n?{$client_session_initial_referring_host:n.referringDomain,$client_session_initial_pathname:n.initialPathName,$client_session_initial_utm_source:n.utm_source,$client_session_initial_utm_campaign:n.utm_campaign,$client_session_initial_utm_medium:n.utm_medium,$client_session_initial_utm_content:n.utm_content,$client_session_initial_utm_term:n.utm_term}:{}}}]),e}(),CD=["ahrefsbot","ahrefssiteaudit","applebot","baiduspider","bingbot","bingpreview","bot.htm","bot.php","crawler","deepscan","duckduckbot","facebookexternal","facebookcatalog","gptbot","http://yandex.com/bots","hubspot","ia_archiver","linkedinbot","mj12bot","msnbot","nessus","petalbot","pinterest","prerender","rogerbot","screaming frog","semrushbot","sitebulb","slurp","turnitin","twitterbot","vercelbot","yahoo! slurp","yandexbot","adsbot-google","apis-google","duplexweb-google","feedfetcher-google","google favicon","google web preview","google-read-aloud","googlebot","googleweblight","mediapartners-google","storebot-google","Bytespider;"],zE=function(e,t){if(!e)return!1;var n=e.toLowerCase();return CD.concat(t||[]).some(function(r){var i=r.toLowerCase();return n.indexOf(i)!==-1})},uP=function(){function e(){Ut(this,e),this.clicks=[]}return Ht(e,[{key:"isRageClick",value:function(t,n,r){var i=this.clicks[this.clicks.length-1];if(i&&Math.abs(t-i.x)+Math.abs(n-i.y)<30&&r-i.timestamp<1e3){if(this.clicks.push({x:t,y:n,timestamp:r}),this.clicks.length===3)return!0}else this.clicks=[{x:t,y:n,timestamp:r}];return!1}}]),e}(),UE="__POSTHOG_TOOLBAR__";function HE(e){var t;return e.id===UE||!((t=e.closest)===null||t===void 0||!t.call(e,"#"+UE))}var TD=function(){function e(t){var n;Ut(this,e),ie(this,"rageclicks",new uP),ie(this,"_enabledServerSide",!1),ie(this,"_initialized",!1),this.instance=t,this._enabledServerSide=!((n=this.instance.persistence)===null||n===void 0||!n.props[fA])}return Ht(e,[{key:"startIfEnabled",value:function(){this.isEnabled&&!this._initialized&&this._setupListeners()}},{key:"isEnabled",get:function(){return We(this.instance.config.enable_heatmaps)?this._enabledServerSide:this.instance.config.enable_heatmaps}},{key:"afterDecideResponse",value:function(t){var n=!!t.heatmaps;this.instance.persistence&&this.instance.persistence.register(ie({},fA,n)),this._enabledServerSide=n,this.startIfEnabled()}},{key:"getAndClearBuffer",value:function(){var t=this.buffer;return this.buffer=void 0,t}},{key:"_setupListeners",value:function(){var t=this;X&&we&&(io(we,"click",function(n){return t._onClick(n||(X==null?void 0:X.event))},!1,!0),io(we,"mousemove",function(n){return t._onMouseMove(n||(X==null?void 0:X.event))},!1,!0),this._initialized=!0)}},{key:"_getProperties",value:function(t,n){var r=this.instance.scrollManager.scrollY(),i=this.instance.scrollManager.scrollX(),s=this.instance.scrollManager.scrollElement(),o=function(a,l,c){for(var u=a;u&&!Qo(u,"body");){if(u===c)return!1;if(dt(l,X==null?void 0:X.getComputedStyle(u).position))return!0;u=QM(u)}return!1}(t.target,["fixed","sticky"],s);return{x:t.clientX+(o?0:i),y:t.clientY+(o?0:r),target_fixed:o,type:n}}},{key:"_onClick",value:function(t){var n;if(!HE(t.target)){var r=this._getProperties(t,"click");(n=this.rageclicks)!==null&&n!==void 0&&n.isRageClick(t.clientX,t.clientY,new Date().getTime())&&this._capture(Ce(Ce({},r),{},{type:"rageclick"})),this._capture(r)}}},{key:"_onMouseMove",value:function(t){var n=this;HE(t.target)||(clearTimeout(this._mouseMoveTimeout),this._mouseMoveTimeout=setTimeout(function(){n._capture(n._getProperties(t,"mousemove"))},500))}},{key:"_capture",value:function(t){if(X){var n=X.location.href;this.buffer=this.buffer||{},this.buffer[n]||(this.buffer[n]=[]),this.buffer[n].push(t)}}}]),e}(),ID=function(){function e(t){var n=this;Ut(this,e),ie(this,"_updateScrollData",function(){var r,i,s,o;n.context||(n.context={});var a=n.scrollElement(),l=n.scrollY(),c=a?Math.max(0,a.scrollHeight-a.clientHeight):0,u=l+((a==null?void 0:a.clientHeight)||0),d=(a==null?void 0:a.scrollHeight)||0;n.context.lastScrollY=Math.ceil(l),n.context.maxScrollY=Math.max(l,(r=n.context.maxScrollY)!==null&&r!==void 0?r:0),n.context.maxScrollHeight=Math.max(c,(i=n.context.maxScrollHeight)!==null&&i!==void 0?i:0),n.context.lastContentY=u,n.context.maxContentY=Math.max(u,(s=n.context.maxContentY)!==null&&s!==void 0?s:0),n.context.maxContentHeight=Math.max(d,(o=n.context.maxContentHeight)!==null&&o!==void 0?o:0)}),this.instance=t}return Ht(e,[{key:"getContext",value:function(){return this.context}},{key:"resetContext",value:function(){var t=this.context;return setTimeout(this._updateScrollData,0),t}},{key:"startMeasuringScrollPosition",value:function(){X==null||X.addEventListener("scroll",this._updateScrollData,!0),X==null||X.addEventListener("scrollend",this._updateScrollData,!0),X==null||X.addEventListener("resize",this._updateScrollData)}},{key:"scrollElement",value:function(){if(!this.instance.config.scroll_root_selector)return X==null?void 0:X.document.documentElement;var t,n=gs($n(this.instance.config.scroll_root_selector)?this.instance.config.scroll_root_selector:[this.instance.config.scroll_root_selector]);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=X==null?void 0:X.document.querySelector(r);if(i)return i}}catch(s){n.e(s)}finally{n.f()}}},{key:"scrollY",value:function(){if(this.instance.config.scroll_root_selector){var t=this.scrollElement();return t&&t.scrollTop||0}return X&&(X.scrollY||X.pageYOffset||X.document.documentElement.scrollTop)||0}},{key:"scrollX",value:function(){if(this.instance.config.scroll_root_selector){var t=this.scrollElement();return t&&t.scrollLeft||0}return X&&(X.scrollX||X.pageXOffset||X.document.documentElement.scrollLeft)||0}}]),e}(),RD=function(){function e(){Ut(this,e),ie(this,"events",{}),this.events={}}return Ht(e,[{key:"on",value:function(t,n){var r=this;return this.events[t]||(this.events[t]=[]),this.events[t].push(n),function(){r.events[t]=r.events[t].filter(function(i){return i!==n})}}},{key:"emit",value:function(t,n){var r,i=gs(this.events[t]||[]);try{for(i.s();!(r=i.n()).done;)(0,r.value)(n)}catch(a){i.e(a)}finally{i.f()}var s,o=gs(this.events["*"]||[]);try{for(o.s();!(s=o.n()).done;)(0,s.value)(t,n)}catch(a){o.e(a)}finally{o.f()}}}]),e}(),Iv="$copy_autocapture";function Rv(e,t){return t.length>e?t.slice(0,e)+"...":t}var MD=function(){function e(t){Ut(this,e),ie(this,"_initialized",!1),ie(this,"_isDisabledServerSide",null),ie(this,"rageclicks",new uP),ie(this,"_elementsChainAsString",!1),this.instance=t}return Ht(e,[{key:"config",get:function(){var t,n=js(this.instance.config.autocapture)?this.instance.config.autocapture:{};return n.url_allowlist=(t=n.url_allowlist)===null||t===void 0?void 0:t.map(function(r){return new RegExp(r)}),n}},{key:"_addDomEventHandlers",value:function(){var t=this;if(this.isBrowserSupported()){if(X&&we){var n=function(i){i=i||(X==null?void 0:X.event);try{t._captureEvent(i)}catch(s){ge.error("Failed to capture event",s)}},r=function(i){i=i||(X==null?void 0:X.event),t._captureEvent(i,Iv)};io(we,"submit",n,!1,!0),io(we,"change",n,!1,!0),io(we,"click",n,!1,!0),this.config.capture_copied_text&&(io(we,"copy",r,!1,!0),io(we,"cut",r,!1,!0))}}else ge.info("Disabling Automatic Event Collection because this browser is not supported")}},{key:"startIfEnabled",value:function(){this.isEnabled&&!this._initialized&&(this._addDomEventHandlers(),this._initialized=!0)}},{key:"afterDecideResponse",value:function(t){t.elementsChainAsString&&(this._elementsChainAsString=t.elementsChainAsString),this.instance.persistence&&this.instance.persistence.register(ie({},gE,!!t.autocapture_opt_out)),this._isDisabledServerSide=!!t.autocapture_opt_out,this.startIfEnabled()}},{key:"isEnabled",get:function(){var t,n,r=(t=this.instance.persistence)===null||t===void 0?void 0:t.props[gE],i=this._isDisabledServerSide;if(us(i)&&!Ep(r)&&!this.instance.config.advanced_disable_decide)return!1;var s=(n=this._isDisabledServerSide)!==null&&n!==void 0?n:!!r;return!!this.instance.config.autocapture&&!s}},{key:"_previousElementSibling",value:function(t){if(t.previousElementSibling)return t.previousElementSibling;var n=t;do n=n.previousSibling;while(n&&!cb(n));return n}},{key:"_getAugmentPropertiesFromElement",value:function(t){if(!wA(t))return{};var n={};return Nt(t.attributes,function(r){if(r.name&&r.name.indexOf("data-ph-capture-attribute")===0){var i=r.name.replace("data-ph-capture-attribute-",""),s=r.value;i&&s&&yc(s)&&(n[i]=s)}}),n}},{key:"_getPropertiesFromElement",value:function(t,n,r){var i,s=t.tagName.toLowerCase(),o={tag_name:s};xA.indexOf(s)>-1&&!r&&(s.toLowerCase()==="a"||s.toLowerCase()==="button"?o.$el_text=Rv(1024,RE(t)):o.$el_text=Rv(1024,dg(t)));var a=ug(t);a.length>0&&(o.classes=a.filter(function(h){return h!==""}));var l=(i=this.config)===null||i===void 0?void 0:i.element_attribute_ignorelist;Nt(t.attributes,function(h){var p;if((!JM(t)||["name","id","class","aria-label"].indexOf(h.name)!==-1)&&(l==null||!l.includes(h.name))&&!n&&yc(h.value)&&(p=h.name,!yr(p)||p.substring(0,10)!=="_ngcontent"&&p.substring(0,7)!=="_nghost")){var g=h.value;h.name==="class"&&(g=lb(g).join(" ")),o["attr__"+h.name]=Rv(1024,g)}});for(var c=1,u=1,d=t;d=this._previousElementSibling(d);)c++,d.tagName===t.tagName&&u++;return o.nth_child=c,o.nth_of_type=u,o}},{key:"_getDefaultProperties",value:function(t){return{$event_type:t,$ce_version:1}}},{key:"_getEventTarget",value:function(t){return We(t.target)?t.srcElement||null:(n=t.target)!==null&&n!==void 0&&n.shadowRoot?t.composedPath()[0]||null:t.target||null;var n}},{key:"_captureEvent",value:function(t){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"$autocapture";if(this.isEnabled){var i,s=this._getEventTarget(t);KM(s)&&(s=s.parentNode||null),r==="$autocapture"&&t.type==="click"&&t instanceof MouseEvent&&this.instance.config.rageclick&&(i=this.rageclicks)!==null&&i!==void 0&&i.isRageClick(t.clientX,t.clientY,new Date().getTime())&&this._captureEvent(t,"$rageclick");var o=r===Iv;if(s&&P$(s,t,this.config,o,o?["copy","cut"]:void 0)){for(var a,l,c=[s],u=s;u.parentNode&&!Qo(u,"body");)YM(u.parentNode)?(c.push(u.parentNode.host),u=u.parentNode.host):(c.push(u.parentNode),u=u.parentNode);var d,h=[],p={},g=!1;if(Nt(c,function(b){var x=wA(b);b.tagName.toLowerCase()==="a"&&(d=b.getAttribute("href"),d=x&&yc(d)&&d),dt(ug(b),"ph-no-capture")&&(g=!0),h.push(n._getPropertiesFromElement(b,n.instance.config.mask_all_element_attributes,n.instance.config.mask_all_text));var S=n._getAugmentPropertiesFromElement(b);qn(p,S)}),this.instance.config.mask_all_text||(s.tagName.toLowerCase()==="a"||s.tagName.toLowerCase()==="button"?h[0].$el_text=RE(s):h[0].$el_text=dg(s)),d&&(h[0].attr__href=d),g)return!1;var m=qn(this._getDefaultProperties(t.type),this._elementsChainAsString?{$elements_chain:N$(h)}:{$elements:h},(a=h[0])!==null&&a!==void 0&&a.$el_text?{$el_text:(l=h[0])===null||l===void 0?void 0:l.$el_text}:{},p);if(r===Iv){var _,v=WM(X==null||(_=X.getSelection())===null||_===void 0?void 0:_.toString()),y=t.type||"clipboard";if(!v)return!1;m.$selected_content=v,m.$copy_type=y}return this.instance.capture(r,m),!0}}}},{key:"isBrowserSupported",value:function(){return cs(we==null?void 0:we.querySelectorAll)}}]),e}(),Ad={},GE=function(){},Gl="posthog",dP=!cD&&(yn==null?void 0:yn.indexOf("MSIE"))===-1&&(yn==null?void 0:yn.indexOf("Mozilla"))===-1,qE=function(){var e,t,n;return{api_host:"https://us.i.posthog.com",api_transport:"XHR",ui_host:null,token:"",autocapture:!0,rageclick:!0,cross_subdomain_cookie:(t=we==null?void 0:we.location,n=t==null?void 0:t.hostname,!!yr(n)&&n.split(".").slice(-2).join(".")!=="herokuapp.com"),persistence:"localStorage+cookie",persistence_name:"",loaded:GE,store_google:!0,custom_campaign_params:[],custom_blocked_useragents:[],save_referrer:!0,capture_pageview:!0,capture_pageleave:!0,debug:Ti&&yr(Ti==null?void 0:Ti.search)&&Ti.search.indexOf("__posthog_debug=true")!==-1||!1,verbose:!1,cookie_expiration:365,upgrade:!1,disable_session_recording:!1,disable_persistence:!1,disable_surveys:!1,enable_recording_console_log:void 0,secure_cookie:(X==null||(e=X.location)===null||e===void 0?void 0:e.protocol)==="https:",ip:!0,opt_out_capturing_by_default:!1,opt_out_persistence_by_default:!1,opt_out_useragent_filter:!1,opt_out_capturing_persistence_type:"localStorage",opt_out_capturing_cookie_prefix:null,opt_in_site_apps:!1,property_denylist:[],respect_dnt:!1,sanitize_properties:null,request_headers:{},inapp_protocol:"//",inapp_link_new_window:!1,request_batching:!0,properties_string_max_length:65535,session_recording:{},mask_all_element_attributes:!1,mask_all_text:!1,advanced_disable_decide:!1,advanced_disable_feature_flags:!1,advanced_disable_feature_flags_on_first_load:!1,advanced_disable_toolbar_metrics:!1,feature_flag_request_timeout_ms:3e3,on_request_error:function(r){var i="Bad HTTP status: "+r.statusCode+" "+r.text;ge.error(i)},get_device_id:function(r){return r},_onCapture:GE,capture_performance:void 0,name:"posthog",bootstrap:{},disable_compression:!1,session_idle_timeout_seconds:1800,person_profiles:"always"}},WE=function(e){var t={};We(e.process_person)||(t.person_profiles=e.process_person),We(e.xhr_headers)||(t.request_headers=e.xhr_headers),We(e.cookie_name)||(t.persistence_name=e.cookie_name),We(e.disable_cookie)||(t.disable_persistence=e.disable_cookie);var n=qn({},t,e);return $n(e.property_blacklist)&&(We(e.property_denylist)?n.property_denylist=e.property_blacklist:$n(e.property_denylist)?n.property_denylist=[].concat(Lc(e.property_blacklist),Lc(e.property_denylist)):ge.error("Invalid value for property_denylist config: "+e.property_denylist)),n},PD=function(){function e(){Ut(this,e),ie(this,"__forceAllowLocalhost",!1)}return Ht(e,[{key:"_forceAllowLocalhost",get:function(){return this.__forceAllowLocalhost},set:function(t){ge.error("WebPerformanceObserver is deprecated and has no impact on network capture. Use `_forceAllowLocalhostNetworkCapture` on `posthog.sessionRecording`"),this.__forceAllowLocalhost=t}}]),e}(),fP=function(){function e(){var t=this;Ut(this,e),ie(this,"webPerformance",new PD),ie(this,"_debugEventEmitter",new RD),this.config=qE(),this.decideEndpointWasHit=!1,this.SentryIntegration=AD,this.__request_queue=[],this.__loaded=!1,this.analyticsDefaultEndpoint="/e/",this.featureFlags=new s$(this),this.toolbar=new X$(this),this.scrollManager=new ID(this),this.pageViewManager=new bD(this),this.surveys=new xD(this),this.rateLimiter=new wD(this),this.requestRouter=new yD(this),this.people={set:function(n,r,i){var s=yr(n)?ie({},n,r):n;t.setPersonProperties(s),i==null||i({})},set_once:function(n,r,i){var s=yr(n)?ie({},n,r):n;t.setPersonProperties(void 0,s),i==null||i({})}},this.on("eventCaptured",function(n){return ge.info("send",n)})}return Ht(e,[{key:"init",value:function(t,n,r){if(r&&r!==Gl){var i,s=(i=Ad[r])!==null&&i!==void 0?i:new e;return s._init(t,n,r),Ad[r]=s,Ad[Gl][r]=s,s}return this._init(t,n,r)}},{key:"_init",value:function(t){var n,r,i=this,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=arguments.length>2?arguments[2]:void 0;if(We(t)||function(_){return yr(_)&&_.trim().length===0}(t))return ge.critical("PostHog was initialized without a token. This likely indicates a misconfiguration. Please check the first argument passed to posthog.init()"),this;if(this.__loaded)return ge.warn("You have already initialized PostHog! Re-initializing is a no-op"),this;if(this.__loaded=!0,this.config={},this._triggered_notifs=[],this.set_config(qn({},qE(),WE(s),{name:o,token:t})),this.compression=s.disable_compression?void 0:is.Base64,this.persistence=new wv(this.config),this.sessionPersistence=this.config.persistence==="sessionStorage"?this.persistence:new wv(Ce(Ce({},this.config),{},{persistence:"sessionStorage"})),this._requestQueue=new Z$(function(_){return i._send_request(_)}),this._retryQueue=new mD(this),this.__request_queue=[],this.sessionManager=new vD(this.config,this.persistence),this.sessionPropsManager=new kD(this.sessionManager,this.persistence),this.sessionRecording=new Y$(this),this.sessionRecording.startIfEnabledOrStop(),this.config.disable_scroll_properties||this.scrollManager.startMeasuringScrollPosition(),this.autocapture=new MD(this),this.autocapture.startIfEnabled(),this.surveys.loadIfEnabled(),this.heatmaps=new TD(this),this.heatmaps.startIfEnabled(),$a.DEBUG=$a.DEBUG||this.config.debug,this._gdpr_init(),((n=s.bootstrap)===null||n===void 0?void 0:n.distinctID)!==void 0){var a,l,c=this.config.get_device_id(Ho()),u=(a=s.bootstrap)!==null&&a!==void 0&&a.isIdentifiedID?c:s.bootstrap.distinctID;this.persistence.set_property(Zs,(l=s.bootstrap)!==null&&l!==void 0&&l.isIdentifiedID?"identified":"anonymous"),this.register({distinct_id:s.bootstrap.distinctID,$device_id:u})}if(this._hasBootstrappedFeatureFlags()){var d,h,p=Object.keys(((d=s.bootstrap)===null||d===void 0?void 0:d.featureFlags)||{}).filter(function(_){var v,y;return!((v=s.bootstrap)===null||v===void 0||(y=v.featureFlags)===null||y===void 0||!y[_])}).reduce(function(_,v){var y,b;return _[v]=((y=s.bootstrap)===null||y===void 0||(b=y.featureFlags)===null||b===void 0?void 0:b[v])||!1,_},{}),g=Object.keys(((h=s.bootstrap)===null||h===void 0?void 0:h.featureFlagPayloads)||{}).filter(function(_){return p[_]}).reduce(function(_,v){var y,b,x,S;return(y=s.bootstrap)!==null&&y!==void 0&&(b=y.featureFlagPayloads)!==null&&b!==void 0&&b[v]&&(_[v]=(x=s.bootstrap)===null||x===void 0||(S=x.featureFlagPayloads)===null||S===void 0?void 0:S[v]),_},{});this.featureFlags.receivedFeatureFlags({featureFlags:p,featureFlagPayloads:g})}if(!this.get_distinct_id()){var m=this.config.get_device_id(Ho());this.register_once({distinct_id:m,$device_id:m},""),this.persistence.set_property(Zs,"anonymous")}return X==null||(r=X.addEventListener)===null||r===void 0||r.call(X,"onpagehide"in self?"pagehide":"unload",this._handle_unload.bind(this)),this.toolbar.maybeLoadToolbar(),s.segment?_D(this,function(){return i._loaded()}):this._loaded(),cs(this.config._onCapture)&&this.on("eventCaptured",function(_){return i.config._onCapture(_.event,_)}),this}},{key:"_afterDecideResponse",value:function(t){var n,r,i,s,o;this.compression=void 0,t.supportedCompression&&!this.config.disable_compression&&(this.compression=dt(t.supportedCompression,is.GZipJS)?is.GZipJS:dt(t.supportedCompression,is.Base64)?is.Base64:void 0),(n=t.analytics)!==null&&n!==void 0&&n.endpoint&&(this.analyticsDefaultEndpoint=t.analytics.endpoint),(r=this.sessionRecording)===null||r===void 0||r.afterDecideResponse(t),(i=this.autocapture)===null||i===void 0||i.afterDecideResponse(t),(s=this.heatmaps)===null||s===void 0||s.afterDecideResponse(t),(o=this.surveys)===null||o===void 0||o.afterDecideResponse(t)}},{key:"_loaded",value:function(){var t=this,n=this.config.advanced_disable_decide;n||this.featureFlags.setReloadingPaused(!0);try{this.config.loaded(this)}catch(r){ge.critical("`loaded` function failed",r)}this._start_queue_if_opted_in(),this.config.capture_pageview&&setTimeout(function(){we&&t.capture("$pageview",{title:we.title},{send_instantly:!0})},1),n||(new Q$(this).call(),this.featureFlags.resetRequestQueue())}},{key:"_start_queue_if_opted_in",value:function(){var t;this.has_opted_out_capturing()||this.config.request_batching&&((t=this._requestQueue)===null||t===void 0||t.enable())}},{key:"_dom_loaded",value:function(){var t=this;this.has_opted_out_capturing()||gc(this.__request_queue,function(n){return t._send_retriable_request(n)}),this.__request_queue=[],this._start_queue_if_opted_in()}},{key:"_handle_unload",value:function(){var t,n;this.config.request_batching?(this.config.capture_pageview&&this.config.capture_pageleave&&this.capture("$pageleave"),(t=this._requestQueue)===null||t===void 0||t.unload(),(n=this._retryQueue)===null||n===void 0||n.unload()):this.config.capture_pageview&&this.config.capture_pageleave&&this.capture("$pageleave",null,{transport:"sendBeacon"})}},{key:"_send_request",value:function(t){var n=this;this.__loaded&&(dP?this.__request_queue.push(t):this.rateLimiter.isServerRateLimited(t.batchKey)||(t.transport=t.transport||this.config.api_transport,t.url=hg(t.url,{ip:this.config.ip?1:0}),t.headers=this.config.request_headers,t.compression=t.compression==="best-available"?this.compression:t.compression,function(r){var i=Ce({},r);i.timeout=i.timeout||6e4,i.url=hg(i.url,{_:new Date().getTime().toString(),ver:$a.LIB_VERSION,compression:i.compression}),i.transport==="sendBeacon"&&Gd!=null&&Gd.sendBeacon?hD(i):i.transport==="fetch"&&nb?fD(i):rb||!we?dD(i):pD(i)}(Ce(Ce({},t),{},{callback:function(r){var i,s,o;n.rateLimiter.checkForLimiting(r),r.statusCode>=400&&((s=(o=n.config).on_request_error)===null||s===void 0||s.call(o,r)),(i=t.callback)===null||i===void 0||i.call(t,r)}}))))}},{key:"_send_retriable_request",value:function(t){this._retryQueue?this._retryQueue.retriableRequest(t):this._send_request(t)}},{key:"_execute_array",value:function(t){var n,r=this,i=[],s=[],o=[];gc(t,function(l){l&&(n=l[0],$n(n)?o.push(l):cs(l)?l.call(r):$n(l)&&n==="alias"?i.push(l):$n(l)&&n.indexOf("capture")!==-1&&cs(r[n])?o.push(l):s.push(l))});var a=function(l,c){gc(l,function(u){if($n(u[0])){var d=c;Nt(u,function(h){d=d[h[0]].apply(d,h.slice(1))})}else this[u[0]].apply(this,u.slice(1))},c)};a(i,this),a(s,this),a(o,this)}},{key:"_hasBootstrappedFeatureFlags",value:function(){var t,n;return((t=this.config.bootstrap)===null||t===void 0?void 0:t.featureFlags)&&Object.keys((n=this.config.bootstrap)===null||n===void 0?void 0:n.featureFlags).length>0||!1}},{key:"push",value:function(t){this._execute_array([t])}},{key:"capture",value:function(t,n,r){var i;if(!(this.__loaded&&this.persistence&&this.sessionPersistence&&this._requestQueue))return ge.uninitializedWarning("posthog.capture");if(!iP(this))if(r!=null&&r.skip_client_rate_limiting||!this.rateLimiter.isCaptureClientSideRateLimited())if(!We(t)&&yr(t)){if(!yn||this.config.opt_out_useragent_filter||!zE(yn,this.config.custom_blocked_useragents)){this.sessionPersistence.update_search_keyword(),this.config.store_google&&(this.sessionPersistence.update_campaign_params(),this.persistence.set_initial_campaign_params()),this.config.save_referrer&&(this.sessionPersistence.update_referrer_info(),this.persistence.set_initial_referrer_info());var s={uuid:Ho(),event:t,properties:this._calculate_event_properties(t,n||{})};if(r==null||!r._noHeatmaps){var o,a=(o=this.heatmaps)===null||o===void 0?void 0:o.getAndClearBuffer();a&&(s.properties.$heatmap_data=a)}r!=null&&r.$set&&(s.$set=r==null?void 0:r.$set);var l=this._calculate_set_once_properties(r==null?void 0:r.$set_once);l&&(s.$set_once=l),(s=n$(s,r!=null&&r._noTruncate?null:this.config.properties_string_max_length)).timestamp=(r==null?void 0:r.timestamp)||new Date,We(r==null?void 0:r.timestamp)||(s.properties.$event_time_override_provided=!0,s.properties.$event_time_override_system_time=new Date);var c=Ce(Ce({},s.properties.$set),s.$set);_v(c)||this.setPersonPropertiesForFlags(c),this._debugEventEmitter.emit("eventCaptured",s);var u={method:"POST",url:(i=r==null?void 0:r._url)!==null&&i!==void 0?i:this.requestRouter.endpointFor("api",this.analyticsDefaultEndpoint),data:s,compression:"best-available",batchKey:r==null?void 0:r._batchKey};return!this.config.request_batching||r&&(r==null||!r._batchKey)||r!=null&&r.send_instantly?this._send_retriable_request(u):this._requestQueue.enqueue(u),s}}else ge.error("No event name provided to posthog.capture");else ge.critical("This capture call is ignored due to client rate limiting.")}},{key:"_addCaptureHook",value:function(t){this.on("eventCaptured",function(n){return t(n.event)})}},{key:"_calculate_event_properties",value:function(t,n){if(!this.persistence||!this.sessionPersistence)return n;var r=this.persistence.remove_event_timer(t),i=Ce({},n);if(i.token=this.config.token,t==="$snapshot"){var s=Ce(Ce({},this.persistence.properties()),this.sessionPersistence.properties());return i.distinct_id=s.distinct_id,i}var o=Wn.properties();if(this.sessionManager){var a=this.sessionManager.checkAndGetSessionAndWindowId(),l=a.sessionId,c=a.windowId;i.$session_id=l,i.$window_id=c}if(this.requestRouter.region===Da.CUSTOM&&(i.$lib_custom_api_host=this.config.api_host),this.sessionPropsManager&&this.config.__preview_send_client_session_params&&(t==="$pageview"||t==="$pageleave"||t==="$autocapture")){var u=this.sessionPropsManager.getSessionProps();i=qn(i,u)}if(!this.config.disable_scroll_properties){var d={};t==="$pageview"?d=this.pageViewManager.doPageView():t==="$pageleave"&&(d=this.pageViewManager.doPageLeave()),i=qn(i,d)}if(t==="$pageview"&&we&&(i.title=we.title),!We(r)){var h=new Date().getTime()-r;i.$duration=parseFloat((h/1e3).toFixed(3))}yn&&this.config.opt_out_useragent_filter&&(i.$browser_type=zE(yn,this.config.custom_blocked_useragents)?"bot":"browser"),(i=qn({},o,this.persistence.properties(),this.sessionPersistence.properties(),i)).$is_identified=this._isIdentified(),$n(this.config.property_denylist)?Nt(this.config.property_denylist,function(g){delete i[g]}):ge.error("Invalid value for property_denylist config: "+this.config.property_denylist+" or property_blacklist config: "+this.config.property_blacklist);var p=this.config.sanitize_properties;return p&&(i=p(i,t)),i.$process_person_profile=this._hasPersonProcessing(),i}},{key:"_calculate_set_once_properties",value:function(t){if(!this.persistence||!this._hasPersonProcessing())return t;var n=qn({},this.persistence.get_initial_props(),t||{});return _v(n)?void 0:n}},{key:"register",value:function(t,n){var r;(r=this.persistence)===null||r===void 0||r.register(t,n)}},{key:"register_once",value:function(t,n,r){var i;(i=this.persistence)===null||i===void 0||i.register_once(t,n,r)}},{key:"register_for_session",value:function(t){var n;(n=this.sessionPersistence)===null||n===void 0||n.register(t)}},{key:"unregister",value:function(t){var n;(n=this.persistence)===null||n===void 0||n.unregister(t)}},{key:"unregister_for_session",value:function(t){var n;(n=this.sessionPersistence)===null||n===void 0||n.unregister(t)}},{key:"_register_single",value:function(t,n){this.register(ie({},t,n))}},{key:"getFeatureFlag",value:function(t,n){return this.featureFlags.getFeatureFlag(t,n)}},{key:"getFeatureFlagPayload",value:function(t){var n=this.featureFlags.getFeatureFlagPayload(t);try{return JSON.parse(n)}catch{return n}}},{key:"isFeatureEnabled",value:function(t,n){return this.featureFlags.isFeatureEnabled(t,n)}},{key:"reloadFeatureFlags",value:function(){this.featureFlags.reloadFeatureFlags()}},{key:"updateEarlyAccessFeatureEnrollment",value:function(t,n){this.featureFlags.updateEarlyAccessFeatureEnrollment(t,n)}},{key:"getEarlyAccessFeatures",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return this.featureFlags.getEarlyAccessFeatures(t,n)}},{key:"on",value:function(t,n){return this._debugEventEmitter.on(t,n)}},{key:"onFeatureFlags",value:function(t){return this.featureFlags.onFeatureFlags(t)}},{key:"onSessionId",value:function(t){var n,r;return(n=(r=this.sessionManager)===null||r===void 0?void 0:r.onSessionId(t))!==null&&n!==void 0?n:function(){}}},{key:"getSurveys",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.surveys.getSurveys(t,n)}},{key:"getActiveMatchingSurveys",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.surveys.getActiveMatchingSurveys(t,n)}},{key:"identify",value:function(t,n,r){if(!this.__loaded||!this.persistence)return ge.uninitializedWarning("posthog.identify");if(ns(t)&&(t=t.toString(),ge.warn("The first argument to posthog.identify was a number, but it should be a string. It has been converted to a string.")),t){if(["distinct_id","distinctid"].includes(t.toLowerCase()))ge.critical('The string "'.concat(t,'" was set in posthog.identify which indicates an error. This ID should be unique to the user and not a hardcoded string.'));else if(this._requirePersonProcessing("posthog.identify")){var i=this.get_distinct_id();if(this.register({$user_id:t}),!this.get_property("$device_id")){var s=i;this.register_once({$had_persisted_distinct_id:!0,$device_id:s},"")}t!==i&&t!==this.get_property(ed)&&(this.unregister(ed),this.register({distinct_id:t}));var o=(this.persistence.get_property(Zs)||"anonymous")==="anonymous";t!==i&&o?(this.persistence.set_property(Zs,"identified"),this.setPersonPropertiesForFlags(n||{},!1),this.capture("$identify",{distinct_id:t,$anon_distinct_id:i},{$set:n||{},$set_once:r||{}}),this.featureFlags.setAnonymousDistinctId(i)):(n||r)&&this.setPersonProperties(n,r),t!==i&&(this.reloadFeatureFlags(),this.unregister(og))}}else ge.error("Unique user id has not been set in posthog.identify")}},{key:"setPersonProperties",value:function(t,n){(t||n)&&this._requirePersonProcessing("posthog.setPersonProperties")&&(this.setPersonPropertiesForFlags(t||{}),this.capture("$set",{$set:t||{},$set_once:n||{}}))}},{key:"group",value:function(t,n,r){if(t&&n){if(this._requirePersonProcessing("posthog.group")){var i=this.getGroups();i[t]!==n&&this.resetGroupPropertiesForFlags(t),this.register({$groups:Ce(Ce({},i),{},ie({},t,n))}),r&&(this.capture("$groupidentify",{$group_type:t,$group_key:n,$group_set:r}),this.setGroupPropertiesForFlags(ie({},t,r))),i[t]===n||r||this.reloadFeatureFlags()}}else ge.error("posthog.group requires a group type and group key")}},{key:"resetGroups",value:function(){this.register({$groups:{}}),this.resetGroupPropertiesForFlags(),this.reloadFeatureFlags()}},{key:"setPersonPropertiesForFlags",value:function(t){var n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this._requirePersonProcessing("posthog.setPersonPropertiesForFlags")&&this.featureFlags.setPersonPropertiesForFlags(t,n)}},{key:"resetPersonPropertiesForFlags",value:function(){this.featureFlags.resetPersonPropertiesForFlags()}},{key:"setGroupPropertiesForFlags",value:function(t){var n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this._requirePersonProcessing("posthog.setGroupPropertiesForFlags")&&this.featureFlags.setGroupPropertiesForFlags(t,n)}},{key:"resetGroupPropertiesForFlags",value:function(t){this.featureFlags.resetGroupPropertiesForFlags(t)}},{key:"reset",value:function(t){var n,r,i,s;if(!this.__loaded)return ge.uninitializedWarning("posthog.reset");var o=this.get_property("$device_id");(n=this.persistence)===null||n===void 0||n.clear(),(r=this.sessionPersistence)===null||r===void 0||r.clear(),(i=this.persistence)===null||i===void 0||i.set_property(Zs,"anonymous"),(s=this.sessionManager)===null||s===void 0||s.resetSessionId();var a=this.config.get_device_id(Ho());this.register_once({distinct_id:a,$device_id:t?a:o},"")}},{key:"get_distinct_id",value:function(){return this.get_property("distinct_id")}},{key:"getGroups",value:function(){return this.get_property("$groups")||{}}},{key:"get_session_id",value:function(){var t,n;return(t=(n=this.sessionManager)===null||n===void 0?void 0:n.checkAndGetSessionAndWindowId(!0).sessionId)!==null&&t!==void 0?t:""}},{key:"get_session_replay_url",value:function(t){if(!this.sessionManager)return"";var n=this.sessionManager.checkAndGetSessionAndWindowId(!0),r=n.sessionId,i=n.sessionStartTimestamp,s=this.requestRouter.endpointFor("ui","/project/".concat(this.config.token,"/replay/").concat(r));if(t!=null&&t.withTimestamp&&i){var o,a=(o=t.timestampLookBack)!==null&&o!==void 0?o:10;if(!i)return s;var l=Math.max(Math.floor((new Date().getTime()-i)/1e3)-a,0);s+="?t=".concat(l)}return s}},{key:"alias",value:function(t,n){return t===this.get_property(IM)?(ge.critical("Attempting to create alias for existing People user - aborting."),-2):this._requirePersonProcessing("posthog.alias")?(We(n)&&(n=this.get_distinct_id()),t!==n?(this._register_single(ed,t),this.capture("$create_alias",{alias:t,distinct_id:n})):(ge.warn("alias matches current distinct_id - skipping api call."),this.identify(t),-1)):void 0}},{key:"set_config",value:function(t){var n,r,i,s,o=Ce({},this.config);js(t)&&(qn(this.config,WE(t)),(n=this.persistence)===null||n===void 0||n.update_config(this.config,o),this.sessionPersistence=this.config.persistence==="sessionStorage"?this.persistence:new wv(Ce(Ce({},this.config),{},{persistence:"sessionStorage"})),In.is_supported()&&In.get("ph_debug")==="true"&&(this.config.debug=!0),this.config.debug&&($a.DEBUG=!0),(r=this.sessionRecording)===null||r===void 0||r.startIfEnabledOrStop(),(i=this.autocapture)===null||i===void 0||i.startIfEnabled(),(s=this.heatmaps)===null||s===void 0||s.startIfEnabled(),this.surveys.loadIfEnabled())}},{key:"startSessionRecording",value:function(t){if(t!=null&&t.sampling){var n,r,i=(n=this.sessionManager)===null||n===void 0?void 0:n.checkAndGetSessionAndWindowId();(r=this.persistence)===null||r===void 0||r.register(ie({},vd,!0)),ge.info("Session recording started with sampling override for session: ",i==null?void 0:i.sessionId)}this.set_config({disable_session_recording:!1})}},{key:"stopSessionRecording",value:function(){this.set_config({disable_session_recording:!0})}},{key:"sessionRecordingStarted",value:function(){var t;return!((t=this.sessionRecording)===null||t===void 0||!t.started)}},{key:"loadToolbar",value:function(t){return this.toolbar.loadToolbar(t)}},{key:"get_property",value:function(t){var n;return(n=this.persistence)===null||n===void 0?void 0:n.props[t]}},{key:"getSessionProperty",value:function(t){var n;return(n=this.sessionPersistence)===null||n===void 0?void 0:n.props[t]}},{key:"toString",value:function(){var t,n=(t=this.config.name)!==null&&t!==void 0?t:Gl;return n!==Gl&&(n=Gl+"."+n),n}},{key:"_isIdentified",value:function(){var t,n;return((t=this.persistence)===null||t===void 0?void 0:t.get_property(Zs))==="identified"||((n=this.sessionPersistence)===null||n===void 0?void 0:n.get_property(Zs))==="identified"}},{key:"_hasPersonProcessing",value:function(){var t,n,r,i;return!(this.config.person_profiles==="never"||this.config.person_profiles==="identified_only"&&!this._isIdentified()&&_v(this.getGroups())&&((t=this.persistence)===null||t===void 0||(n=t.props)===null||n===void 0||!n[ed])&&((r=this.persistence)===null||r===void 0||(i=r.props)===null||i===void 0||!i[ag]))}},{key:"_requirePersonProcessing",value:function(t){return this.config.person_profiles==="never"?(ge.error(t+' was called, but process_person is set to "never". This call will be ignored.'),!1):(this._register_single(ag,!0),!0)}},{key:"_gdpr_init",value:function(){this.config.opt_out_capturing_persistence_type==="localStorage"&&In.is_supported()&&(!this.has_opted_in_capturing()&&this.has_opted_in_capturing({persistence_type:"cookie"})&&this.opt_in_capturing({enable_persistence:!1}),!this.has_opted_out_capturing()&&this.has_opted_out_capturing({persistence_type:"cookie"})&&this.opt_out_capturing({clear_persistence:!1}),this.clear_opt_in_out_capturing({persistence_type:"cookie",enable_persistence:!1})),this.has_opted_out_capturing()?this._gdpr_update_persistence({clear_persistence:!0}):this.has_opted_in_capturing()||!this.config.opt_out_capturing_by_default&&!Ns.get("ph_optout")||(Ns.remove("ph_optout"),this.opt_out_capturing({clear_persistence:this.config.opt_out_persistence_by_default}))}},{key:"_gdpr_update_persistence",value:function(t){var n,r,i,s,o;if(t&&t.clear_persistence)i=!0;else{if(!t||!t.enable_persistence)return;i=!1}this.config.disable_persistence||((n=this.persistence)===null||n===void 0?void 0:n.disabled)===i||(s=this.persistence)===null||s===void 0||s.set_disabled(i),this.config.disable_persistence||((r=this.sessionPersistence)===null||r===void 0?void 0:r.disabled)===i||(o=this.sessionPersistence)===null||o===void 0||o.set_disabled(i)}},{key:"_gdpr_call_func",value:function(t,n){return n=qn({capture:this.capture.bind(this),persistence_type:this.config.opt_out_capturing_persistence_type,cookie_prefix:this.config.opt_out_capturing_cookie_prefix,cookie_expiration:this.config.cookie_expiration,cross_subdomain_cookie:this.config.cross_subdomain_cookie,secure_cookie:this.config.secure_cookie},n||{}),In.is_supported()||n.persistence_type!=="localStorage"||(n.persistence_type="cookie"),t(this.config.token,{capture:n.capture,captureEventName:n.capture_event_name,captureProperties:n.capture_properties,persistenceType:n.persistence_type,persistencePrefix:n.cookie_prefix,cookieExpiration:n.cookie_expiration,crossSubdomainCookie:n.cross_subdomain_cookie,secureCookie:n.secure_cookie})}},{key:"opt_in_capturing",value:function(t){t=qn({enable_persistence:!0},t||{}),this._gdpr_call_func(H$,t),this._gdpr_update_persistence(t)}},{key:"opt_out_capturing",value:function(t){var n=qn({clear_persistence:!0},t||{});this._gdpr_call_func(G$,n),this._gdpr_update_persistence(n)}},{key:"has_opted_in_capturing",value:function(t){return this._gdpr_call_func(q$,t)}},{key:"has_opted_out_capturing",value:function(t){return this._gdpr_call_func(tP,t)}},{key:"clear_opt_in_out_capturing",value:function(t){var n=qn({enable_persistence:!0},t??{});this._gdpr_call_func(W$,n),this._gdpr_update_persistence(n)}},{key:"debug",value:function(t){t===!1?(X==null||X.console.log("You've disabled debug mode."),localStorage&&localStorage.removeItem("ph_debug"),this.set_config({debug:!1})):(X==null||X.console.log("You're now in debug mode. All calls to PostHog will be logged in your console.\nYou can disable this with `posthog.debug(false)`."),localStorage&&localStorage.setItem("ph_debug","true"),this.set_config({debug:!0}))}}]),e}();(function(e,t){for(var n=0;n<t.length;n++)e.prototype[t[n]]=t$(e.prototype[t[n]])})(fP,["identify"]);var KE,YE;(function(e){e.Popover="popover",e.API="api",e.Widget="widget"})(KE||(KE={})),function(e){e.Open="open",e.MultipleChoice="multiple_choice",e.SingleChoice="single_choice",e.Rating="rating",e.Link="link"}(YE||(YE={}));var QE,On=(QE=Ad[Gl]=new fP,function(){function e(){e.done||(e.done=!0,dP=!1,Nt(Ad,function(t){t._dom_loaded()}))}we!=null&&we.addEventListener&&(we.readyState==="complete"?e():we.addEventListener("DOMContentLoaded",e,!1)),X&&io(X,"load",e,!0)}(),QE);class St{constructor(t,n=!1,r=!0){this.name=t,this.track=n,this.log=r,this.subscribers=[],this.lastParams=null,this.subscribe=(i,s=!1)=>{this.unsubscribe(i),this.subscribers.push(i),s&&this.lastParams!==null&&i(...this.lastParams)},this.unsubscribe=i=>{this.subscribers=this.subscribers.filter(s=>s!==i)},this.dispatch=(...i)=>{this.log&&console.log("dispatch",this.name,...i),this.subscribers.forEach(s=>s(...i)),this.lastParams=i,this.track&&On.capture(this.name,this.track instanceof Function?this.track(...i):i)}}}const te={sectionChange:new St("sectionChange",void 0,!1),playerAdded:new St("playerAdded",!1),playerRemoved:new St("playerRemoved",!1),songStarted:new St("songStarted",!1),songEnded:new St("songEnded",!1),remoteMicConnected:new St("remoteMicConnected"),remoteMicDisconnected:new St("remoteMicDisconnected"),playerNameChanged:new St("playerNameChanged"),playerInputChanged:new St("playerInputChanged",(e,t,n)=>({player:e,old:t==null?void 0:t.source,new:n==null?void 0:n.source})),inputListChanged:new St("inputListChanged"),karaokeConnectionStatusChange:new St("karaokeConnectionStatusChange"),remoteMicPlayerSet:new St("remoteMicPlayerSet"),remoteMicMonitoringStarted:new St("remoteMicMonitoringStarted"),remoteMicMonitoringStopped:new St("remoteMicMonitoringStopped"),micMonitoringStarted:new St("micMonitoringStarted"),micMonitoringStopped:new St("micMonitoringStopped"),playerChangeRequested:new St("playerChangeRequested",!0),songStatStored:new St("songStatStored"),songScoreUpdated:new St("songScoreUpdated",()=>{}),remoteMicSubscribed:new St("remoteMicSubscribed"),remoteKeyboardPressed:new St("remoteKeyboardPressed"),remoteSongSearch:new St("remoteSongSearch",!0),remoteMicListUpdated:new St("remoteMicListUpdated"),remoteKeyboardLayout:new St("remoteKeyboardLayout"),remoteReadinessRequested:new St("remoteReadinessRequested"),remoteStyleChanged:new St("remoteStyleChanged"),remoteMicPermissionsSet:new St("remoteMicPermissionsSet"),readinessConfirmed:new St("remoteReadinessConfirmed"),minPlayerNumberChanged:new St("minPlayerNumberChanged")};te.songStarted.subscribe(()=>{ss.clearData(),ss.startRecord()});te.songEnded.subscribe(()=>{ss.stopRecord()});function pg(e){"@babel/helpers - typeof";return pg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pg(e)}var jD=/^\s+/,OD=/\s+$/;function de(e,t){if(e=e||"",t=t||{},e instanceof de)return e;if(!(this instanceof de))return new de(e,t);var n=VD(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}de.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3},getLuminance:function(){var t=this.toRgb(),n,r,i,s,o,a;return n=t.r/255,r=t.g/255,i=t.b/255,n<=.03928?s=n/12.92:s=Math.pow((n+.055)/1.055,2.4),r<=.03928?o=r/12.92:o=Math.pow((r+.055)/1.055,2.4),i<=.03928?a=i/12.92:a=Math.pow((i+.055)/1.055,2.4),.2126*s+.7152*o+.0722*a},setAlpha:function(t){return this._a=hP(t),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var t=XE(this._r,this._g,this._b);return{h:t.h*360,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=XE(this._r,this._g,this._b),n=Math.round(t.h*360),r=Math.round(t.s*100),i=Math.round(t.v*100);return this._a==1?"hsv("+n+", "+r+"%, "+i+"%)":"hsva("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var t=JE(this._r,this._g,this._b);return{h:t.h*360,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=JE(this._r,this._g,this._b),n=Math.round(t.h*360),r=Math.round(t.s*100),i=Math.round(t.l*100);return this._a==1?"hsl("+n+", "+r+"%, "+i+"%)":"hsla("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHex:function(t){return ZE(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return $D(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(Qt(this._r,255)*100)+"%",g:Math.round(Qt(this._g,255)*100)+"%",b:Math.round(Qt(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(Qt(this._r,255)*100)+"%, "+Math.round(Qt(this._g,255)*100)+"%, "+Math.round(Qt(this._b,255)*100)+"%)":"rgba("+Math.round(Qt(this._r,255)*100)+"%, "+Math.round(Qt(this._g,255)*100)+"%, "+Math.round(Qt(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:JD[ZE(this._r,this._g,this._b,!0)]||!1},toFilter:function(t){var n="#"+e2(this._r,this._g,this._b,this._a),r=n,i=this._gradientType?"GradientType = 1, ":"";if(t){var s=de(t);r="#"+e2(s._r,s._g,s._b,s._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+n+",endColorstr="+r+")"},toString:function(t){var n=!!t;t=t||this._format;var r=!1,i=this._a<1&&this._a>=0,s=!n&&i&&(t==="hex"||t==="hex6"||t==="hex3"||t==="hex4"||t==="hex8"||t==="name");return s?t==="name"&&this._a===0?this.toName():this.toRgbString():(t==="rgb"&&(r=this.toRgbString()),t==="prgb"&&(r=this.toPercentageRgbString()),(t==="hex"||t==="hex6")&&(r=this.toHexString()),t==="hex3"&&(r=this.toHexString(!0)),t==="hex4"&&(r=this.toHex8String(!0)),t==="hex8"&&(r=this.toHex8String()),t==="name"&&(r=this.toName()),t==="hsl"&&(r=this.toHslString()),t==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return de(this.toString())},_applyModification:function(t,n){var r=t.apply(null,[this].concat([].slice.call(n)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(UD,arguments)},brighten:function(){return this._applyModification(HD,arguments)},darken:function(){return this._applyModification(GD,arguments)},desaturate:function(){return this._applyModification(DD,arguments)},saturate:function(){return this._applyModification(FD,arguments)},greyscale:function(){return this._applyModification(zD,arguments)},spin:function(){return this._applyModification(qD,arguments)},_applyCombination:function(t,n){return t.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination(YD,arguments)},complement:function(){return this._applyCombination(WD,arguments)},monochromatic:function(){return this._applyCombination(QD,arguments)},splitcomplement:function(){return this._applyCombination(KD,arguments)},triad:function(){return this._applyCombination(t2,[3])},tetrad:function(){return this._applyCombination(t2,[4])}};de.fromRatio=function(e,t){if(pg(e)=="object"){var n={};for(var r in e)e.hasOwnProperty(r)&&(r==="a"?n[r]=e[r]:n[r]=id(e[r]));e=n}return de(e,t)};function VD(e){var t={r:0,g:0,b:0},n=1,r=null,i=null,s=null,o=!1,a=!1;return typeof e=="string"&&(e=tF(e)),pg(e)=="object"&&(Js(e.r)&&Js(e.g)&&Js(e.b)?(t=LD(e.r,e.g,e.b),o=!0,a=String(e.r).substr(-1)==="%"?"prgb":"rgb"):Js(e.h)&&Js(e.s)&&Js(e.v)?(r=id(e.s),i=id(e.v),t=BD(e.h,r,i),o=!0,a="hsv"):Js(e.h)&&Js(e.s)&&Js(e.l)&&(r=id(e.s),s=id(e.l),t=ND(e.h,r,s),o=!0,a="hsl"),e.hasOwnProperty("a")&&(n=e.a)),n=hP(n),{ok:o,format:e.format||a,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}function LD(e,t,n){return{r:Qt(e,255)*255,g:Qt(t,255)*255,b:Qt(n,255)*255}}function JE(e,t,n){e=Qt(e,255),t=Qt(t,255),n=Qt(n,255);var r=Math.max(e,t,n),i=Math.min(e,t,n),s,o,a=(r+i)/2;if(r==i)s=o=0;else{var l=r-i;switch(o=a>.5?l/(2-r-i):l/(r+i),r){case e:s=(t-n)/l+(t<n?6:0);break;case t:s=(n-e)/l+2;break;case n:s=(e-t)/l+4;break}s/=6}return{h:s,s:o,l:a}}function ND(e,t,n){var r,i,s;e=Qt(e,360),t=Qt(t,100),n=Qt(n,100);function o(c,u,d){return d<0&&(d+=1),d>1&&(d-=1),d<1/6?c+(u-c)*6*d:d<1/2?u:d<2/3?c+(u-c)*(2/3-d)*6:c}if(t===0)r=i=s=n;else{var a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;r=o(l,a,e+1/3),i=o(l,a,e),s=o(l,a,e-1/3)}return{r:r*255,g:i*255,b:s*255}}function XE(e,t,n){e=Qt(e,255),t=Qt(t,255),n=Qt(n,255);var r=Math.max(e,t,n),i=Math.min(e,t,n),s,o,a=r,l=r-i;if(o=r===0?0:l/r,r==i)s=0;else{switch(r){case e:s=(t-n)/l+(t<n?6:0);break;case t:s=(n-e)/l+2;break;case n:s=(e-t)/l+4;break}s/=6}return{h:s,s:o,v:a}}function BD(e,t,n){e=Qt(e,360)*6,t=Qt(t,100),n=Qt(n,100);var r=Math.floor(e),i=e-r,s=n*(1-t),o=n*(1-i*t),a=n*(1-(1-i)*t),l=r%6,c=[n,o,s,s,a,n][l],u=[a,n,n,o,s,s][l],d=[s,s,a,n,n,o][l];return{r:c*255,g:u*255,b:d*255}}function ZE(e,t,n,r){var i=[os(Math.round(e).toString(16)),os(Math.round(t).toString(16)),os(Math.round(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function $D(e,t,n,r,i){var s=[os(Math.round(e).toString(16)),os(Math.round(t).toString(16)),os(Math.round(n).toString(16)),os(pP(r))];return i&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)&&s[3].charAt(0)==s[3].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}function e2(e,t,n,r){var i=[os(pP(r)),os(Math.round(e).toString(16)),os(Math.round(t).toString(16)),os(Math.round(n).toString(16))];return i.join("")}de.equals=function(e,t){return!e||!t?!1:de(e).toRgbString()==de(t).toRgbString()};de.random=function(){return de.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function DD(e,t){t=t===0?0:t||10;var n=de(e).toHsl();return n.s-=t/100,n.s=wm(n.s),de(n)}function FD(e,t){t=t===0?0:t||10;var n=de(e).toHsl();return n.s+=t/100,n.s=wm(n.s),de(n)}function zD(e){return de(e).desaturate(100)}function UD(e,t){t=t===0?0:t||10;var n=de(e).toHsl();return n.l+=t/100,n.l=wm(n.l),de(n)}function HD(e,t){t=t===0?0:t||10;var n=de(e).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(t/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(t/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(t/100)))),de(n)}function GD(e,t){t=t===0?0:t||10;var n=de(e).toHsl();return n.l-=t/100,n.l=wm(n.l),de(n)}function qD(e,t){var n=de(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,de(n)}function WD(e){var t=de(e).toHsl();return t.h=(t.h+180)%360,de(t)}function t2(e,t){if(isNaN(t)||t<=0)throw new Error("Argument to polyad must be a positive number");for(var n=de(e).toHsl(),r=[de(e)],i=360/t,s=1;s<t;s++)r.push(de({h:(n.h+s*i)%360,s:n.s,l:n.l}));return r}function KD(e){var t=de(e).toHsl(),n=t.h;return[de(e),de({h:(n+72)%360,s:t.s,l:t.l}),de({h:(n+216)%360,s:t.s,l:t.l})]}function YD(e,t,n){t=t||6,n=n||30;var r=de(e).toHsl(),i=360/n,s=[de(e)];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,s.push(de(r));return s}function QD(e,t){t=t||6;for(var n=de(e).toHsv(),r=n.h,i=n.s,s=n.v,o=[],a=1/t;t--;)o.push(de({h:r,s:i,v:s})),s=(s+a)%1;return o}de.mix=function(e,t,n){n=n===0?0:n||50;var r=de(e).toRgb(),i=de(t).toRgb(),s=n/100,o={r:(i.r-r.r)*s+r.r,g:(i.g-r.g)*s+r.g,b:(i.b-r.b)*s+r.b,a:(i.a-r.a)*s+r.a};return de(o)};de.readability=function(e,t){var n=de(e),r=de(t);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)};de.isReadable=function(e,t,n){var r=de.readability(e,t),i,s;switch(s=!1,i=nF(n),i.level+i.size){case"AAsmall":case"AAAlarge":s=r>=4.5;break;case"AAlarge":s=r>=3;break;case"AAAsmall":s=r>=7;break}return s};de.mostReadable=function(e,t,n){var r=null,i=0,s,o,a,l;n=n||{},o=n.includeFallbackColors,a=n.level,l=n.size;for(var c=0;c<t.length;c++)s=de.readability(e,t[c]),s>i&&(i=s,r=de(t[c]));return de.isReadable(e,r,{level:a,size:l})||!o?r:(n.includeFallbackColors=!1,de.mostReadable(e,["#fff","#000"],n))};var TA=de.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},JD=de.hexNames=XD(TA);function XD(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function hP(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function Qt(e,t){ZD(e)&&(e="100%");var n=eF(e);return e=Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function wm(e){return Math.min(1,Math.max(0,e))}function Jr(e){return parseInt(e,16)}function ZD(e){return typeof e=="string"&&e.indexOf(".")!=-1&&parseFloat(e)===1}function eF(e){return typeof e=="string"&&e.indexOf("%")!=-1}function os(e){return e.length==1?"0"+e:""+e}function id(e){return e<=1&&(e=e*100+"%"),e}function pP(e){return Math.round(parseFloat(e)*255).toString(16)}function n2(e){return Jr(e)/255}var Ji=function(){var e="[-\\+]?\\d+%?",t="[-\\+]?\\d*\\.\\d+%?",n="(?:"+t+")|(?:"+e+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function Js(e){return!!Ji.CSS_UNIT.exec(e)}function tF(e){e=e.replace(jD,"").replace(OD,"").toLowerCase();var t=!1;if(TA[e])e=TA[e],t=!0;else if(e=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=Ji.rgb.exec(e))?{r:n[1],g:n[2],b:n[3]}:(n=Ji.rgba.exec(e))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=Ji.hsl.exec(e))?{h:n[1],s:n[2],l:n[3]}:(n=Ji.hsla.exec(e))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=Ji.hsv.exec(e))?{h:n[1],s:n[2],v:n[3]}:(n=Ji.hsva.exec(e))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=Ji.hex8.exec(e))?{r:Jr(n[1]),g:Jr(n[2]),b:Jr(n[3]),a:n2(n[4]),format:t?"name":"hex8"}:(n=Ji.hex6.exec(e))?{r:Jr(n[1]),g:Jr(n[2]),b:Jr(n[3]),format:t?"name":"hex"}:(n=Ji.hex4.exec(e))?{r:Jr(n[1]+""+n[1]),g:Jr(n[2]+""+n[2]),b:Jr(n[3]+""+n[3]),a:n2(n[4]+""+n[4]),format:t?"name":"hex8"}:(n=Ji.hex3.exec(e))?{r:Jr(n[1]+""+n[1]),g:Jr(n[2]+""+n[2]),b:Jr(n[3]+""+n[3]),format:t?"name":"hex"}:!1}function nF(e){var t,n;return e=e||{level:"AA",size:"small"},t=(e.level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),t!=="AA"&&t!=="AAA"&&(t="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:t,size:n}}const rF=de("rgb(52, 166, 95)"),iF=de("rgb(15, 138, 95)"),sF=de("rgb(245, 98, 77)"),oF=de("rgb(204, 35, 30)"),gP=de("rgb(245, 220, 21)"),aF=de(gP.toRgbString()).darken(15),mP=de("rgb(255, 70, 223)"),lF=de(mP.toRgbString()).darken(15),vP=de("rgb(255, 119, 20)"),cF=de(vP.toRgbString()).darken(15),yP=de("rgb(31, 192, 223)"),uF=de(yP.toRgbString()).darken(15),AP=de("rgb(102, 44, 182)"),dF=de(AP.toRgbString()).darken(15),fF=de("rgb(0, 153, 255)"),hF=de("rgb(0, 77, 128)"),pF=de("rgb(255, 54, 54)"),gF=de("rgb(117, 25, 25)"),mF=de("rgb(255, 213, 0)"),Ip=de("rgb(255, 183, 0)"),bi=(e,t)=>e.setAlpha(t).toRgbString(),Yi=(e,t)=>({text:bi(e,1),stroke:bi(t,1),star:{fill:bi(Ip,.5),stroke:bi(Ip,0),lineWidth:1},perfect:{fill:bi(e,1),stroke:"white",lineWidth:1},starPerfect:{fill:bi(mF,1),stroke:bi(Ip,1),lineWidth:2},hit:{fill:bi(e,.9),stroke:bi(t,0),lineWidth:1},miss:{fill:bi(e,.25),stroke:bi(t,1),lineWidth:1}}),Ue={blue:Yi(fF,hF),red:Yi(pF,gF),green:Yi(de("rgb(0,183,0)"),de("rgb(0,84,0)")),yellow:Yi(de("rgb(239,209,0)"),de("rgb(114,84,0)")),christmasGreen:Yi(rF,iF),christmasRed:Yi(sF,oF),eurovisionYellow:Yi(gP,aF),eurovisionPink:Yi(mP,lF),eurovisionOrange:Yi(vP,cF),eurovisionBlue:Yi(yP,uF),eurovisionViolet:Yi(AP,dF)};let xs=[Ue.blue,Ue.red,Ue.green,Ue.yellow];const pe={colors:{players:xs,lines:{normal:{fill:"rgba(127, 127, 127, .7)",stroke:"black",lineWidth:1},star:{fill:"rgba(158, 144, 106, 1)",stroke:bi(Ip,1),lineWidth:1},freestyle:{fill:"rgba(255, 255, 255, 0.1)",stroke:"black",lineWidth:2}},text:{active:"rgb(255, 165, 0)",activeBorder:"rgb(101,75,22)",default:"white",inactive:"grey"}}},_P=e=>{e==="christmas"&&xs[0]!==Ue.christmasGreen?(xs=[Ue.christmasGreen,Ue.christmasRed],pe.colors.players=xs):e==="eurovision"&&xs[0]!==Ue.eurovisionYellow?(xs=[Ue.eurovisionBlue,Ue.eurovisionViolet,Ue.eurovisionYellow,Ue.eurovisionPink],pe.colors.players=xs):e==="regular"&&xs[0]!==Ue.blue&&(xs=[Ue.blue,Ue.red,Ue.green,Ue.yellow],pe.colors.players=xs)};function Ac(e,t,n){e==null||e.send({t,...n})}var IA;try{IA=new TextDecoder}catch{}var me,Pi,W=0,Lt={},at,Go,xi=0,Rs=0,Qn,lo,Hr=[],rt,r2={useRecords:!1,mapsAsObjects:!0};class bP{}const SP=new bP;SP.name="MessagePack 0xC1";var Jo=!1,xP=2,i2;try{new Function("")}catch{xP=1/0}class Qd{constructor(t){t&&(t.useRecords===!1&&t.mapsAsObjects===void 0&&(t.mapsAsObjects=!0),t.sequential&&t.trusted!==!1&&(t.trusted=!0,!t.structures&&t.useRecords!=!1&&(t.structures=[],t.maxSharedStructures||(t.maxSharedStructures=0))),t.structures?t.structures.sharedLength=t.structures.length:t.getStructures&&((t.structures=[]).uninitialized=!0,t.structures.sharedLength=0),t.int64AsNumber&&(t.int64AsType="number")),Object.assign(this,t)}unpack(t,n){if(me)return IP(()=>(MA(),this?this.unpack(t,n):Qd.prototype.unpack.call(r2,t,n)));!t.buffer&&t.constructor===ArrayBuffer&&(t=typeof Buffer<"u"?Buffer.from(t):new Uint8Array(t)),typeof n=="object"?(Pi=n.end||t.length,W=n.start||0):(W=0,Pi=n>-1?n:t.length),Rs=0,Go=null,Qn=null,me=t;try{rt=t.dataView||(t.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength))}catch(r){throw me=null,t instanceof Uint8Array?r:new Error("Source must be a Uint8Array or Buffer but was a "+(t&&typeof t=="object"?t.constructor.name:typeof t))}if(this instanceof Qd){if(Lt=this,this.structures)return at=this.structures,Th(n);(!at||at.length>0)&&(at=[])}else Lt=r2,(!at||at.length>0)&&(at=[]);return Th(n)}unpackMultiple(t,n){let r,i=0;try{Jo=!0;let s=t.length,o=this?this.unpack(t,s):Em.unpack(t,s);if(n){if(n(o,i,W)===!1)return;for(;W<s;)if(i=W,n(Th(),i,W)===!1)return}else{for(r=[o];W<s;)i=W,r.push(Th());return r}}catch(s){throw s.lastPosition=i,s.values=r,s}finally{Jo=!1,MA()}}_mergeStructures(t,n){t=t||[],Object.isFrozen(t)&&(t=t.map(r=>r.slice(0)));for(let r=0,i=t.length;r<i;r++){let s=t[r];s&&(s.isShared=!0,r>=32&&(s.highByte=r-32>>5))}t.sharedLength=t.length;for(let r in n||[])if(r>=0){let i=t[r],s=n[r];s&&(i&&((t.restoreStructures||(t.restoreStructures=[]))[r]=i),t[r]=s)}return this.structures=t}decode(t,n){return this.unpack(t,n)}}function Th(e){try{if(!Lt.trusted&&!Jo){let n=at.sharedLength||0;n<at.length&&(at.length=n)}let t;if(Lt.randomAccessStructure&&me[W]<64&&me[W]>=32&&i2?(t=i2(me,W,Pi,Lt),me=null,!(e&&e.lazy)&&t&&(t=t.toJSON()),W=Pi):t=_n(),Qn&&(W=Qn.postBundlePosition,Qn=null),Jo&&(at.restoreStructures=null),W==Pi)at&&at.restoreStructures&&s2(),at=null,me=null,lo&&(lo=null);else{if(W>Pi)throw new Error("Unexpected end of MessagePack data");if(!Jo){let n;try{n=JSON.stringify(t,(r,i)=>typeof i=="bigint"?`${i}n`:i).slice(0,100)}catch(r){n="(JSON view not available "+r+")"}throw new Error("Data read, but end of buffer not reached "+n)}}return t}catch(t){throw at&&at.restoreStructures&&s2(),MA(),(t instanceof RangeError||t.message.startsWith("Unexpected end of buffer")||W>Pi)&&(t.incomplete=!0),t}}function s2(){for(let e in at.restoreStructures)at[e]=at.restoreStructures[e];at.restoreStructures=null}function _n(){let e=me[W++];if(e<160)if(e<128){if(e<64)return e;{let t=at[e&63]||Lt.getStructures&&wP()[e&63];return t?(t.read||(t.read=gb(t,e&63)),t.read()):e}}else if(e<144)if(e-=128,Lt.mapsAsObjects){let t={};for(let n=0;n<e;n++){let r=kP();r==="__proto__"&&(r="__proto_"),t[r]=_n()}return t}else{let t=new Map;for(let n=0;n<e;n++)t.set(_n(),_n());return t}else{e-=144;let t=new Array(e);for(let n=0;n<e;n++)t[n]=_n();return Lt.freezeData?Object.freeze(t):t}else if(e<192){let t=e-160;if(Rs>=W)return Go.slice(W-xi,(W+=t)-xi);if(Rs==0&&Pi<140){let n=t<16?mb(t):EP(t);if(n!=null)return n}return RA(t)}else{let t;switch(e){case 192:return null;case 193:return Qn?(t=_n(),t>0?Qn[1].slice(Qn.position1,Qn.position1+=t):Qn[0].slice(Qn.position0,Qn.position0-=t)):SP;case 194:return!1;case 195:return!0;case 196:if(t=me[W++],t===void 0)throw new Error("Unexpected end of buffer");return Mv(t);case 197:return t=rt.getUint16(W),W+=2,Mv(t);case 198:return t=rt.getUint32(W),W+=4,Mv(t);case 199:return ka(me[W++]);case 200:return t=rt.getUint16(W),W+=2,ka(t);case 201:return t=rt.getUint32(W),W+=4,ka(t);case 202:if(t=rt.getFloat32(W),Lt.useFloat32>2){let n=vb[(me[W]&127)<<1|me[W+1]>>7];return W+=4,(n*t+(t>0?.5:-.5)>>0)/n}return W+=4,t;case 203:return t=rt.getFloat64(W),W+=8,t;case 204:return me[W++];case 205:return t=rt.getUint16(W),W+=2,t;case 206:return t=rt.getUint32(W),W+=4,t;case 207:return Lt.int64AsType==="number"?(t=rt.getUint32(W)*4294967296,t+=rt.getUint32(W+4)):Lt.int64AsType==="string"?t=rt.getBigUint64(W).toString():Lt.int64AsType==="auto"?(t=rt.getBigUint64(W),t<=BigInt(2)<<BigInt(52)&&(t=Number(t))):t=rt.getBigUint64(W),W+=8,t;case 208:return rt.getInt8(W++);case 209:return t=rt.getInt16(W),W+=2,t;case 210:return t=rt.getInt32(W),W+=4,t;case 211:return Lt.int64AsType==="number"?(t=rt.getInt32(W)*4294967296,t+=rt.getUint32(W+4)):Lt.int64AsType==="string"?t=rt.getBigInt64(W).toString():Lt.int64AsType==="auto"?(t=rt.getBigInt64(W),t>=BigInt(-2)<<BigInt(52)&&t<=BigInt(2)<<BigInt(52)&&(t=Number(t))):t=rt.getBigInt64(W),W+=8,t;case 212:if(t=me[W++],t==114)return d2(me[W++]&63);{let n=Hr[t];if(n)return n.read?(W++,n.read(_n())):n.noBuffer?(W++,n()):n(me.subarray(W,++W));throw new Error("Unknown extension "+t)}case 213:return t=me[W],t==114?(W++,d2(me[W++]&63,me[W++])):ka(2);case 214:return ka(4);case 215:return ka(8);case 216:return ka(16);case 217:return t=me[W++],Rs>=W?Go.slice(W-xi,(W+=t)-xi):yF(t);case 218:return t=rt.getUint16(W),W+=2,Rs>=W?Go.slice(W-xi,(W+=t)-xi):AF(t);case 219:return t=rt.getUint32(W),W+=4,Rs>=W?Go.slice(W-xi,(W+=t)-xi):_F(t);case 220:return t=rt.getUint16(W),W+=2,a2(t);case 221:return t=rt.getUint32(W),W+=4,a2(t);case 222:return t=rt.getUint16(W),W+=2,l2(t);case 223:return t=rt.getUint32(W),W+=4,l2(t);default:if(e>=224)return e-256;if(e===void 0){let n=new Error("Unexpected end of MessagePack data");throw n.incomplete=!0,n}throw new Error("Unknown MessagePack token "+e)}}}const vF=/^[a-zA-Z_$][a-zA-Z\d_$]*$/;function gb(e,t){function n(){if(n.count++>xP){let i=e.read=new Function("r","return function(){return "+(Lt.freezeData?"Object.freeze":"")+"({"+e.map(s=>s==="__proto__"?"__proto_:r()":vF.test(s)?s+":r()":"["+JSON.stringify(s)+"]:r()").join(",")+"})}")(_n);return e.highByte===0&&(e.read=o2(t,e.read)),i()}let r={};for(let i=0,s=e.length;i<s;i++){let o=e[i];o==="__proto__"&&(o="__proto_"),r[o]=_n()}return Lt.freezeData?Object.freeze(r):r}return n.count=0,e.highByte===0?o2(t,n):n}const o2=(e,t)=>function(){let n=me[W++];if(n===0)return t();let r=e<32?-(e+(n<<5)):e+(n<<5),i=at[r]||wP()[r];if(!i)throw new Error("Record id is not defined for "+r);return i.read||(i.read=gb(i,e)),i.read()};function wP(){let e=IP(()=>(me=null,Lt.getStructures()));return at=Lt._mergeStructures(e,at)}var RA=$f,yF=$f,AF=$f,_F=$f;function $f(e){let t;if(e<16&&(t=mb(e)))return t;if(e>64&&IA)return IA.decode(me.subarray(W,W+=e));const n=W+e,r=[];for(t="";W<n;){const i=me[W++];if(!(i&128))r.push(i);else if((i&224)===192){const s=me[W++]&63;r.push((i&31)<<6|s)}else if((i&240)===224){const s=me[W++]&63,o=me[W++]&63;r.push((i&31)<<12|s<<6|o)}else if((i&248)===240){const s=me[W++]&63,o=me[W++]&63,a=me[W++]&63;let l=(i&7)<<18|s<<12|o<<6|a;l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|l&1023),r.push(l)}else r.push(i);r.length>=4096&&(t+=Gn.apply(String,r),r.length=0)}return r.length>0&&(t+=Gn.apply(String,r)),t}function a2(e){let t=new Array(e);for(let n=0;n<e;n++)t[n]=_n();return Lt.freezeData?Object.freeze(t):t}function l2(e){if(Lt.mapsAsObjects){let t={};for(let n=0;n<e;n++){let r=kP();r==="__proto__"&&(r="__proto_"),t[r]=_n()}return t}else{let t=new Map;for(let n=0;n<e;n++)t.set(_n(),_n());return t}}var Gn=String.fromCharCode;function EP(e){let t=W,n=new Array(e);for(let r=0;r<e;r++){const i=me[W++];if((i&128)>0){W=t;return}n[r]=i}return Gn.apply(String,n)}function mb(e){if(e<4)if(e<2){if(e===0)return"";{let t=me[W++];if((t&128)>1){W-=1;return}return Gn(t)}}else{let t=me[W++],n=me[W++];if((t&128)>0||(n&128)>0){W-=2;return}if(e<3)return Gn(t,n);let r=me[W++];if((r&128)>0){W-=3;return}return Gn(t,n,r)}else{let t=me[W++],n=me[W++],r=me[W++],i=me[W++];if((t&128)>0||(n&128)>0||(r&128)>0||(i&128)>0){W-=4;return}if(e<6){if(e===4)return Gn(t,n,r,i);{let s=me[W++];if((s&128)>0){W-=5;return}return Gn(t,n,r,i,s)}}else if(e<8){let s=me[W++],o=me[W++];if((s&128)>0||(o&128)>0){W-=6;return}if(e<7)return Gn(t,n,r,i,s,o);let a=me[W++];if((a&128)>0){W-=7;return}return Gn(t,n,r,i,s,o,a)}else{let s=me[W++],o=me[W++],a=me[W++],l=me[W++];if((s&128)>0||(o&128)>0||(a&128)>0||(l&128)>0){W-=8;return}if(e<10){if(e===8)return Gn(t,n,r,i,s,o,a,l);{let c=me[W++];if((c&128)>0){W-=9;return}return Gn(t,n,r,i,s,o,a,l,c)}}else if(e<12){let c=me[W++],u=me[W++];if((c&128)>0||(u&128)>0){W-=10;return}if(e<11)return Gn(t,n,r,i,s,o,a,l,c,u);let d=me[W++];if((d&128)>0){W-=11;return}return Gn(t,n,r,i,s,o,a,l,c,u,d)}else{let c=me[W++],u=me[W++],d=me[W++],h=me[W++];if((c&128)>0||(u&128)>0||(d&128)>0||(h&128)>0){W-=12;return}if(e<14){if(e===12)return Gn(t,n,r,i,s,o,a,l,c,u,d,h);{let p=me[W++];if((p&128)>0){W-=13;return}return Gn(t,n,r,i,s,o,a,l,c,u,d,h,p)}}else{let p=me[W++],g=me[W++];if((p&128)>0||(g&128)>0){W-=14;return}if(e<15)return Gn(t,n,r,i,s,o,a,l,c,u,d,h,p,g);let m=me[W++];if((m&128)>0){W-=15;return}return Gn(t,n,r,i,s,o,a,l,c,u,d,h,p,g,m)}}}}}function c2(){let e=me[W++],t;if(e<192)t=e-160;else switch(e){case 217:t=me[W++];break;case 218:t=rt.getUint16(W),W+=2;break;case 219:t=rt.getUint32(W),W+=4;break;default:throw new Error("Expected string")}return $f(t)}function Mv(e){return Lt.copyBuffers?Uint8Array.prototype.slice.call(me,W,W+=e):me.subarray(W,W+=e)}function ka(e){let t=me[W++];if(Hr[t]){let n;return Hr[t](me.subarray(W,n=W+=e),r=>{W=r;try{return _n()}finally{W=n}})}else throw new Error("Unknown extension type "+t)}var u2=new Array(4096);function kP(){let e=me[W++];if(e>=160&&e<192){if(e=e-160,Rs>=W)return Go.slice(W-xi,(W+=e)-xi);if(!(Rs==0&&Pi<180))return RA(e)}else return W--,CP(_n());let t=(e<<5^(e>1?rt.getUint16(W):e>0?me[W]:0))&4095,n=u2[t],r=W,i=W+e-3,s,o=0;if(n&&n.bytes==e){for(;r<i;){if(s=rt.getUint32(r),s!=n[o++]){r=1879048192;break}r+=4}for(i+=3;r<i;)if(s=me[r++],s!=n[o++]){r=1879048192;break}if(r===i)return W=r,n.string;i-=3,r=W}for(n=[],u2[t]=n,n.bytes=e;r<i;)s=rt.getUint32(r),n.push(s),r+=4;for(i+=3;r<i;)s=me[r++],n.push(s);let a=e<16?mb(e):EP(e);return a!=null?n.string=a:n.string=RA(e)}function CP(e){if(typeof e=="string")return e;if(typeof e=="number")return e.toString();throw new Error("Invalid property type for record",typeof e)}const d2=(e,t)=>{let n=_n().map(CP),r=e;t!==void 0&&(e=e<32?-((t<<5)+e):(t<<5)+e,n.highByte=t);let i=at[e];return i&&(i.isShared||Jo)&&((at.restoreStructures||(at.restoreStructures=[]))[e]=i),at[e]=n,n.read=gb(n,r),n.read()};Hr[0]=()=>{};Hr[0].noBuffer=!0;Hr[66]=e=>{let t=e.length,n=BigInt(e[0]&128?e[0]-256:e[0]);for(let r=1;r<t;r++)n<<=8n,n+=BigInt(e[r]);return n};let bF={Error,TypeError,ReferenceError};Hr[101]=()=>{let e=_n();return(bF[e[0]]||Error)(e[1])};Hr[105]=e=>{if(Lt.structuredClone===!1)throw new Error("Structured clone extension is disabled");let t=rt.getUint32(W-4);lo||(lo=new Map);let n=me[W],r;n>=144&&n<160||n==220||n==221?r=[]:r={};let i={target:r};lo.set(t,i);let s=_n();return i.used?Object.assign(r,s):(i.target=s,s)};Hr[112]=e=>{if(Lt.structuredClone===!1)throw new Error("Structured clone extension is disabled");let t=rt.getUint32(W-4),n=lo.get(t);return n.used=!0,n.target};Hr[115]=()=>new Set(_n());const TP=["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64","BigInt64","BigUint64"].map(e=>e+"Array");let SF=typeof globalThis=="object"?globalThis:window;Hr[116]=e=>{let t=e[0],n=TP[t];if(!n)throw new Error("Could not find typed array for code "+t);return new SF[n](Uint8Array.prototype.slice.call(e,1).buffer)};Hr[120]=()=>{let e=_n();return new RegExp(e[0],e[1])};const xF=[];Hr[98]=e=>{let t=(e[0]<<24)+(e[1]<<16)+(e[2]<<8)+e[3],n=W;return W+=t-e.length,Qn=xF,Qn=[c2(),c2()],Qn.position0=0,Qn.position1=0,Qn.postBundlePosition=W,W=n,_n()};Hr[255]=e=>e.length==4?new Date((e[0]*16777216+(e[1]<<16)+(e[2]<<8)+e[3])*1e3):e.length==8?new Date(((e[0]<<22)+(e[1]<<14)+(e[2]<<6)+(e[3]>>2))/1e6+((e[3]&3)*4294967296+e[4]*16777216+(e[5]<<16)+(e[6]<<8)+e[7])*1e3):e.length==12?new Date(((e[0]<<24)+(e[1]<<16)+(e[2]<<8)+e[3])/1e6+((e[4]&128?-281474976710656:0)+e[6]*1099511627776+e[7]*4294967296+e[8]*16777216+(e[9]<<16)+(e[10]<<8)+e[11])*1e3):new Date("invalid");function IP(e){let t=Pi,n=W,r=xi,i=Rs,s=Go,o=lo,a=Qn,l=new Uint8Array(me.slice(0,Pi)),c=at,u=at.slice(0,at.length),d=Lt,h=Jo,p=e();return Pi=t,W=n,xi=r,Rs=i,Go=s,lo=o,Qn=a,me=l,Jo=h,at=c,at.splice(0,at.length,...u),Lt=d,rt=new DataView(me.buffer,me.byteOffset,me.byteLength),p}function MA(){me=null,lo=null,at=null}const vb=new Array(147);for(let e=0;e<256;e++)vb[e]=+("1e"+Math.floor(45.15-e*.30103));var Em=new Qd({useRecords:!1});const wF=Em.unpack;Em.unpackMultiple;Em.unpack;let EF=new Float32Array(1);new Uint8Array(EF.buffer,0,4);let Rp;try{Rp=new TextEncoder}catch{}let PA,RP;const km=typeof Buffer<"u",Ih=km?function(e){return Buffer.allocUnsafeSlow(e)}:Uint8Array,MP=km?Buffer:Uint8Array,f2=km?4294967296:2144337920;let J,Pu,Tt,K=0,Sr,tn=null,kF;const CF=21760,TF=/[\u0080-\uFFFF]/,Ol=Symbol("record-id");class IF extends Qd{constructor(t){super(t),this.offset=0;let n,r,i,s,o=MP.prototype.utf8Write?function(P,L){return J.utf8Write(P,L,4294967295)}:Rp&&Rp.encodeInto?function(P,L){return Rp.encodeInto(P,J.subarray(L)).written}:!1,a=this;t||(t={});let l=t&&t.sequential,c=t.structures||t.saveStructures,u=t.maxSharedStructures;if(u==null&&(u=c?32:0),u>8160)throw new Error("Maximum maxSharedStructure is 8160");t.structuredClone&&t.moreTypes==null&&(this.moreTypes=!0);let d=t.maxOwnStructures;d==null&&(d=c?32:64),!this.structures&&t.useRecords!=!1&&(this.structures=[]);let h=u>32||d+u>64,p=u+64,g=u+d+64;if(g>8256)throw new Error("Maximum maxSharedStructure + maxOwnStructure is 8192");let m=[],_=0,v=0;this.pack=this.encode=function(P,L){if(J||(J=new Ih(8192),Tt=J.dataView||(J.dataView=new DataView(J.buffer,0,8192)),K=0),Sr=J.length-10,Sr-K<2048?(J=new Ih(J.length),Tt=J.dataView||(J.dataView=new DataView(J.buffer,0,J.length)),Sr=J.length-10,K=0):K=K+7&2147483640,n=K,L&VF&&(K+=L&255),s=a.structuredClone?new Map:null,a.bundleStrings&&typeof P!="string"?(tn=[],tn.size=1/0):tn=null,i=a.structures,i){i.uninitialized&&(i=a._mergeStructures(a.getStructures()));let T=i.sharedLength||0;if(T>u)throw new Error("Shared structures is larger than maximum shared structures, try increasing maxSharedStructures to "+i.sharedLength);if(!i.transitions){i.transitions=Object.create(null);for(let U=0;U<T;U++){let j=i[U];if(!j)continue;let $,V=i.transitions;for(let G=0,F=j.length;G<F;G++){let ne=j[G];$=V[ne],$||($=V[ne]=Object.create(null)),V=$}V[Ol]=U+64}this.lastNamedStructuresLength=T}l||(i.nextId=T+64)}r&&(r=!1);let M;try{a.randomAccessStructure&&P&&P.constructor&&P.constructor===Object?Q(P):x(P);let T=tn;if(tn&&g2(n,x,0),s&&s.idsToInsert){let U=s.idsToInsert.sort((G,F)=>G.offset>F.offset?1:-1),j=U.length,$=-1;for(;T&&j>0;){let G=U[--j].offset+n;G<T.stringsPosition+n&&$===-1&&($=0),G>T.position+n?$>=0&&($+=6):($>=0&&(Tt.setUint32(T.position+n,Tt.getUint32(T.position+n)+$),$=-1),T=T.previous,j++)}$>=0&&T&&Tt.setUint32(T.position+n,Tt.getUint32(T.position+n)+$),K+=U.length*6,K>Sr&&z(K),a.offset=K;let V=MF(J.subarray(n,K),U);return s=null,V}return a.offset=K,L&jF?(J.start=n,J.end=K,J):J.subarray(n,K)}catch(T){throw M=T,T}finally{if(i&&(y(),r&&a.saveStructures)){let T=i.sharedLength||0,U=J.subarray(n,K),j=PF(i,a);if(!M)return a.saveStructures(j,j.isCompatible)===!1?a.pack(P,L):(a.lastNamedStructuresLength=T,U)}L&OF&&(K=n)}};const y=()=>{v<10&&v++;let P=i.sharedLength||0;if(i.length>P&&!l&&(i.length=P),_>1e4)i.transitions=null,v=0,_=0,m.length>0&&(m=[]);else if(m.length>0&&!l){for(let L=0,M=m.length;L<M;L++)m[L][Ol]=0;m=[]}},b=P=>{var L=P.length;L<16?J[K++]=144|L:L<65536?(J[K++]=220,J[K++]=L>>8,J[K++]=L&255):(J[K++]=221,Tt.setUint32(K,L),K+=4);for(let M=0;M<L;M++)x(P[M])},x=P=>{K>Sr&&(J=z(K));var L=typeof P,M;if(L==="string"){let T=P.length;if(tn&&T>=4&&T<4096){if((tn.size+=T)>CF){let V,G=(tn[0]?tn[0].length*3+tn[1].length:0)+10;K+G>Sr&&(J=z(K+G));let F;tn.position?(F=tn,J[K]=200,K+=3,J[K++]=98,V=K-n,K+=4,g2(n,x,0),Tt.setUint16(V+n-3,K-n-V)):(J[K++]=214,J[K++]=98,V=K-n,K+=4),tn=["",""],tn.previous=F,tn.size=0,tn.position=V}let $=TF.test(P);tn[$?0:1]+=P,J[K++]=193,x($?-T:T);return}let U;T<32?U=1:T<256?U=2:T<65536?U=3:U=5;let j=T*3;if(K+j>Sr&&(J=z(K+j)),T<64||!o){let $,V,G,F=K+U;for($=0;$<T;$++)V=P.charCodeAt($),V<128?J[F++]=V:V<2048?(J[F++]=V>>6|192,J[F++]=V&63|128):(V&64512)===55296&&((G=P.charCodeAt($+1))&64512)===56320?(V=65536+((V&1023)<<10)+(G&1023),$++,J[F++]=V>>18|240,J[F++]=V>>12&63|128,J[F++]=V>>6&63|128,J[F++]=V&63|128):(J[F++]=V>>12|224,J[F++]=V>>6&63|128,J[F++]=V&63|128);M=F-K-U}else M=o(P,K+U);M<32?J[K++]=160|M:M<256?(U<2&&J.copyWithin(K+2,K+1,K+1+M),J[K++]=217,J[K++]=M):M<65536?(U<3&&J.copyWithin(K+3,K+2,K+2+M),J[K++]=218,J[K++]=M>>8,J[K++]=M&255):(U<5&&J.copyWithin(K+5,K+3,K+3+M),J[K++]=219,Tt.setUint32(K,M),K+=4),K+=M}else if(L==="number")if(P>>>0===P)P<32||P<128&&this.useRecords===!1||P<64&&!this.randomAccessStructure?J[K++]=P:P<256?(J[K++]=204,J[K++]=P):P<65536?(J[K++]=205,J[K++]=P>>8,J[K++]=P&255):(J[K++]=206,Tt.setUint32(K,P),K+=4);else if(P>>0===P)P>=-32?J[K++]=256+P:P>=-128?(J[K++]=208,J[K++]=P+256):P>=-32768?(J[K++]=209,Tt.setInt16(K,P),K+=2):(J[K++]=210,Tt.setInt32(K,P),K+=4);else{let T;if((T=this.useFloat32)>0&&P<4294967296&&P>=-2147483648){J[K++]=202,Tt.setFloat32(K,P);let U;if(T<4||(U=P*vb[(J[K]&127)<<1|J[K+1]>>7])>>0===U){K+=4;return}else K--}J[K++]=203,Tt.setFloat64(K,P),K+=8}else if(L==="object"||L==="function")if(!P)J[K++]=192;else{if(s){let U=s.get(P);if(U){if(!U.id){let j=s.idsToInsert||(s.idsToInsert=[]);U.id=j.push(U)}J[K++]=214,J[K++]=112,Tt.setUint32(K,U.id),K+=4;return}else s.set(P,{offset:K-n})}let T=P.constructor;if(T===Object)I(P,!0);else if(T===Array)b(P);else if(T===Map)if(this.mapAsEmptyObject)J[K++]=128;else{M=P.size,M<16?J[K++]=128|M:M<65536?(J[K++]=222,J[K++]=M>>8,J[K++]=M&255):(J[K++]=223,Tt.setUint32(K,M),K+=4);for(let[U,j]of P)x(U),x(j)}else{for(let U=0,j=PA.length;U<j;U++){let $=RP[U];if(P instanceof $){let V=PA[U];if(V.write){V.type&&(J[K++]=212,J[K++]=V.type,J[K++]=0);let fe=V.write.call(this,P);fe===P?Array.isArray(P)?b(P):I(P):x(fe);return}let G=J,F=Tt,ne=K;J=null;let O;try{O=V.pack.call(this,P,fe=>(J=G,G=null,K+=fe,K>Sr&&z(K),{target:J,targetView:Tt,position:K-fe}),x)}finally{G&&(J=G,Tt=F,K=ne,Sr=J.length-10)}O&&(O.length+K>Sr&&z(O.length+K),K=RF(O,J,K,V.type));return}}if(Array.isArray(P))b(P);else{if(P.toJSON){const U=P.toJSON();if(U!==P)return x(U)}if(L==="function")return x(this.writeFunction&&this.writeFunction(P));I(P,!P.hasOwnProperty)}}}else if(L==="boolean")J[K++]=P?195:194;else if(L==="bigint"){if(P<BigInt(1)<<BigInt(63)&&P>=-(BigInt(1)<<BigInt(63)))J[K++]=211,Tt.setBigInt64(K,P);else if(P<BigInt(1)<<BigInt(64)&&P>0)J[K++]=207,Tt.setBigUint64(K,P);else if(this.largeBigIntToFloat)J[K++]=203,Tt.setFloat64(K,Number(P));else if(this.useBigIntExtension&&P<2n**1023n&&P>-(2n**1023n)){J[K++]=199,K++,J[K++]=66;let T=[],U;do{let j=P&0xffn;U=(j&0x80n)===(P<0n?0x80n:0n),T.push(j),P>>=8n}while(!((P===0n||P===-1n)&&U));J[K-2]=T.length;for(let j=T.length;j>0;)J[K++]=Number(T[--j]);return}else throw new RangeError(P+" was too large to fit in MessagePack 64-bit integer format, use useBigIntExtension or set largeBigIntToFloat to convert to float-64");K+=8}else if(L==="undefined")this.encodeUndefinedAsNil?J[K++]=192:(J[K++]=212,J[K++]=0,J[K++]=0);else throw new Error("Unknown type: "+L)},S=this.variableMapSize||this.coercibleKeyAsNumber?P=>{let L=Object.keys(P),M=L.length;M<16?J[K++]=128|M:M<65536?(J[K++]=222,J[K++]=M>>8,J[K++]=M&255):(J[K++]=223,Tt.setUint32(K,M),K+=4);let T;if(this.coercibleKeyAsNumber)for(let U=0;U<M;U++){T=L[U];let j=Number(T);x(isNaN(j)?T:j),x(P[T])}else for(let U=0;U<M;U++)x(T=L[U]),x(P[T])}:(P,L)=>{J[K++]=222;let M=K-n;K+=2;let T=0;for(let U in P)(L||P.hasOwnProperty(U))&&(x(U),x(P[U]),T++);J[M+++n]=T>>8,J[M+n]=T&255},w=this.useRecords===!1?S:t.progressiveRecords&&!h?(P,L)=>{let M,T=i.transitions||(i.transitions=Object.create(null)),U=K++-n,j;for(let $ in P)if(L||P.hasOwnProperty($)){if(M=T[$],M)T=M;else{let V=Object.keys(P),G=T;T=i.transitions;let F=0;for(let ne=0,O=V.length;ne<O;ne++){let fe=V[ne];M=T[fe],M||(M=T[fe]=Object.create(null),F++),T=M}U+n+1==K?(K--,N(T,V,F)):D(T,V,U,F),j=!0,T=G[$]}x(P[$])}if(!j){let $=T[Ol];$?J[U+n]=$:D(T,Object.keys(P),U,0)}}:(P,L)=>{let M,T=i.transitions||(i.transitions=Object.create(null)),U=0;for(let $ in P)(L||P.hasOwnProperty($))&&(M=T[$],M||(M=T[$]=Object.create(null),U++),T=M);let j=T[Ol];j?j>=96&&h?(J[K++]=((j-=96)&31)+96,J[K++]=j>>5):J[K++]=j:N(T,T.__keys__||Object.keys(P),U);for(let $ in P)(L||P.hasOwnProperty($))&&x(P[$])},E=typeof this.useRecords=="function"&&this.useRecords,I=E?(P,L)=>{E(P)?w(P,L):S(P,L)}:w,z=P=>{let L;if(P>16777216){if(P-n>f2)throw new Error("Packed buffer would be larger than maximum buffer size");L=Math.min(f2,Math.round(Math.max((P-n)*(P>67108864?1.25:2),4194304)/4096)*4096)}else L=(Math.max(P-n<<2,J.length-1)>>12)+1<<12;let M=new Ih(L);return Tt=M.dataView||(M.dataView=new DataView(M.buffer,0,L)),P=Math.min(P,J.length),J.copy?J.copy(M,0,n,P):M.set(J.slice(n,P)),K-=n,n=0,Sr=M.length-10,J=M},N=(P,L,M)=>{let T=i.nextId;T||(T=64),T<p&&this.shouldShareStructure&&!this.shouldShareStructure(L)?(T=i.nextOwnId,T<g||(T=p),i.nextOwnId=T+1):(T>=g&&(T=p),i.nextId=T+1);let U=L.highByte=T>=96&&h?T-96>>5:-1;P[Ol]=T,P.__keys__=L,i[T-64]=L,T<p?(L.isShared=!0,i.sharedLength=T-63,r=!0,U>=0?(J[K++]=(T&31)+96,J[K++]=U):J[K++]=T):(U>=0?(J[K++]=213,J[K++]=114,J[K++]=(T&31)+96,J[K++]=U):(J[K++]=212,J[K++]=114,J[K++]=T),M&&(_+=v*M),m.length>=d&&(m.shift()[Ol]=0),m.push(P),x(L))},D=(P,L,M,T)=>{let U=J,j=K,$=Sr,V=n;J=Pu,K=0,n=0,J||(Pu=J=new Ih(8192)),Sr=J.length-10,N(P,L,T),Pu=J;let G=K;if(J=U,K=j,Sr=$,n=V,G>1){let F=K+G-1;F>Sr&&z(F);let ne=M+n;J.copyWithin(ne+G,ne+1,K),J.set(Pu.slice(0,G),ne),K=F}else J[M+n]=Pu[0]},Q=(P,L)=>{let M=kF(P,J,n,K,i,z,(T,U,j)=>{if(j)return r=!0;K=U;let $=J;return x(T),y(),$!==J?{position:K,targetView:Tt,target:J}:K},this);if(M===0)return I(P,!0);K=M}}useBuffer(t){J=t,Tt=new DataView(J.buffer,J.byteOffset,J.byteLength),K=0}clearSharedData(){this.structures&&(this.structures=[]),this.typedStructs&&(this.typedStructs=[])}}RP=[Date,Set,Error,RegExp,ArrayBuffer,Object.getPrototypeOf(Uint8Array.prototype).constructor,bP];PA=[{pack(e,t,n){let r=e.getTime()/1e3;if((this.useTimestamp32||e.getMilliseconds()===0)&&r>=0&&r<4294967296){let{target:i,targetView:s,position:o}=t(6);i[o++]=214,i[o++]=255,s.setUint32(o,r)}else if(r>0&&r<4294967296){let{target:i,targetView:s,position:o}=t(10);i[o++]=215,i[o++]=255,s.setUint32(o,e.getMilliseconds()*4e6+(r/1e3/4294967296>>0)),s.setUint32(o+4,r)}else if(isNaN(r)){if(this.onInvalidDate)return t(0),n(this.onInvalidDate());let{target:i,targetView:s,position:o}=t(3);i[o++]=212,i[o++]=255,i[o++]=255}else{let{target:i,targetView:s,position:o}=t(15);i[o++]=199,i[o++]=12,i[o++]=255,s.setUint32(o,e.getMilliseconds()*1e6),s.setBigInt64(o+4,BigInt(Math.floor(r)))}}},{pack(e,t,n){if(this.setAsEmptyObject)return t(0),n({});let r=Array.from(e),{target:i,position:s}=t(this.moreTypes?3:0);this.moreTypes&&(i[s++]=212,i[s++]=115,i[s++]=0),n(r)}},{pack(e,t,n){let{target:r,position:i}=t(this.moreTypes?3:0);this.moreTypes&&(r[i++]=212,r[i++]=101,r[i++]=0),n([e.name,e.message])}},{pack(e,t,n){let{target:r,position:i}=t(this.moreTypes?3:0);this.moreTypes&&(r[i++]=212,r[i++]=120,r[i++]=0),n([e.source,e.flags])}},{pack(e,t){this.moreTypes?h2(e,16,t):p2(km?Buffer.from(e):new Uint8Array(e),t)}},{pack(e,t){let n=e.constructor;n!==MP&&this.moreTypes?h2(e,TP.indexOf(n.name),t):p2(e,t)}},{pack(e,t){let{target:n,position:r}=t(1);n[r]=193}}];function h2(e,t,n,r){let i=e.byteLength;if(i+1<256){var{target:s,position:o}=n(4+i);s[o++]=199,s[o++]=i+1}else if(i+1<65536){var{target:s,position:o}=n(5+i);s[o++]=200,s[o++]=i+1>>8,s[o++]=i+1&255}else{var{target:s,position:o,targetView:a}=n(7+i);s[o++]=201,a.setUint32(o,i+1),o+=4}s[o++]=116,s[o++]=t,s.set(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),o)}function p2(e,t){let n=e.byteLength;var r,i;if(n<256){var{target:r,position:i}=t(n+2);r[i++]=196,r[i++]=n}else if(n<65536){var{target:r,position:i}=t(n+3);r[i++]=197,r[i++]=n>>8,r[i++]=n&255}else{var{target:r,position:i,targetView:s}=t(n+5);r[i++]=198,s.setUint32(i,n),i+=4}r.set(e,i)}function RF(e,t,n,r){let i=e.length;switch(i){case 1:t[n++]=212;break;case 2:t[n++]=213;break;case 4:t[n++]=214;break;case 8:t[n++]=215;break;case 16:t[n++]=216;break;default:i<256?(t[n++]=199,t[n++]=i):i<65536?(t[n++]=200,t[n++]=i>>8,t[n++]=i&255):(t[n++]=201,t[n++]=i>>24,t[n++]=i>>16&255,t[n++]=i>>8&255,t[n++]=i&255)}return t[n++]=r,t.set(e,n),n+=i,n}function MF(e,t){let n,r=t.length*6,i=e.length-r;for(;n=t.pop();){let s=n.offset,o=n.id;e.copyWithin(s+r,s,i),r-=6;let a=s+r;e[a++]=214,e[a++]=105,e[a++]=o>>24,e[a++]=o>>16&255,e[a++]=o>>8&255,e[a++]=o&255,i=s}return e}function g2(e,t,n){if(tn.length>0){Tt.setUint32(tn.position+e,K+n-tn.position-e),tn.stringsPosition=K-e;let r=tn;tn=null,t(r[0]),t(r[1])}}function PF(e,t){return e.isCompatible=n=>{let r=!n||(t.lastNamedStructuresLength||0)===n.length;return r||t._mergeStructures(n),r},e}let PP=new IF({useRecords:!1});const jP=PP.pack;PP.pack;const jF=512,OF=1024,VF=2048;function _c(){return Date.now()}const gg=e=>jP(e),yb=e=>wF(e);let LF=class{constructor(t,n){this.connection=t,this.inputLag=n,this.frequencies=[0],this.volumes=[0],this.requestReadinessPromise=null,this.getFrequencies=()=>this.frequencies,this.clearFrequencies=()=>{Array.isArray(this.frequencies[0])&&(this.frequencies=[this.frequencies[0].at(-1)])},this.getVolumes=()=>this.volumes,this.getInputLag=()=>this.inputLag,this.setInputLag=r=>{this.inputLag=r},this.requestReadiness=()=>(console.log("requestReadiness"),this.requestReadinessPromise||(this.requestReadinessPromise=new Promise(r=>{const i=s=>{s.t==="confirm-readiness"&&(r(!0),this.connection.off("data",i),this.requestReadinessPromise=null)};this.connection.on("data",i),Ac(this.connection,"request-readiness")})),this.requestReadinessPromise),this.startMonitoring=async()=>{var r,i;(r=this.connection)==null||r.off("data",this.handleRTCData),Ac(this.connection,"start-monitor"),(i=this.connection)==null||i.on("data",this.handleRTCData)},this.stopMonitoring=async()=>{var r;Ac(this.connection,"stop-monitor"),(r=this.connection)==null||r.off("data",this.handleRTCData)},this.handleRTCData=r=>{r.t==="freq"&&(this.frequencies=[r[0],r[0]],this.volumes=[r[1],r[1]])}}},NF=class{constructor(t,n,r,i){this.id=t,this.name=n,this.connection=r,this.pingTime=9999,this.pingInterval=null,this.getInput=()=>this.input,this.setPlayerNumber=s=>{Ac(this.connection,"set-player-number",{playerNumber:s})},this.onDisconnect=()=>{this.pingInterval!==null&&clearInterval(this.pingInterval)},this.setPermission=s=>{Ac(this.connection,"set-permissions",{level:s})},this.isPinging=!1,this.latency=9999,this.onPong=()=>{this.latency=_c()-this.pingTime,this.isPinging=!1,this.pingClient()},this.pingClient=()=>{this.pingInterval=setTimeout(()=>{this.pingTime=_c(),this.isPinging=!0,Ac(this.connection,"ping")},1e3)},this.getLatency=()=>this.isPinging?_c()-this.pingTime:this.latency,this.getPingTime=()=>this.pingTime,this.input=new LF(r,i),this.pingClient()}};const Ab={SelectionOnTop:"selection_on_top",WebsocketsRemoteMics:"websockets_remote_mics",InitialInputLag:"initial_input_lag",LandingPageBackground:"landing_page_background",VirtualizedSongSelection:"virtualized_song_selection",Eurovision:"eurovision",Shrek:"shrek"};class pi extends wo{constructor(t,n,r="local"){super(),this.name=t,this.defaultValue=n,this.driver=r,this.value=void 0,this.get=()=>(this.value===void 0&&(this.value=Ve[this.driver].getItem(`settings-${this.name}`)??this.defaultValue),this.value),this.set=i=>{this.value=i,Ve[this.driver].setItem(`settings-${this.name}`,i),this.onUpdate(i)}}}const OP=["high","low"],BF="graphics-level",ji=new pi(BF,OP[0]),$F=[null,"skip","remoteMics","singstar-mics","different-mics","advanced","built-in"],DF="mic-setup-preference",_b=new pi(DF,$F[0],"session"),VP=[60,30],qa=new pi("fps-count",VP[0]),Cm=new pi("EXCLUDED_LANGUAGES_KEY_V2",null),dr=new pi("MOBILE_PHONE_MODE_KEY",null),LP=new pi("keyboard-help-visibility",!0);var eM;const m2=(eM=On.getFeatureFlagPayload)==null?void 0:eM.call(On,Ab.InitialInputLag),_d=new pi("INPUT_LAG_V2",typeof m2=="number"?m2:0),NP=new pi("REMOTE_MIC_INPUT_LAG",0,"session"),v2=["write","read"],BP=new pi("DefaultRemoteMicPermission","write"),$P=["New","Classic"],bb=new pi("background-music",$P[0]),Tm=new pi("BackgroundThemeSetting","regular","memory"),Sb=new pi("AutoEnableFullscreenSetting",!0,"session"),mg=new pi("UseWebsocketsSettings",!1,"session");var tM;(tM=On.onFeatureFlags)==null||tM.call(On,()=>{mg.set(On.isFeatureEnabled(Ab.WebsocketsRemoteMics)??!1)});function De(e){const[t,n]=A.useState(e.get());return A.useLayoutEffect(()=>e.addListener(n),[e]),[t,e.set]}const y2="RememberedAccessesKey",Pv="rememberedSubscriptionsKey";class FF extends wo{constructor(){var t,n;super(...arguments),this.remoteMics=[],this.micAccessMap=((t=Ve.local)==null?void 0:t.getItem(y2))??{},this.subscriptions=((n=Ve.session)==null?void 0:n.getItem(Pv))??{"remote-mics":[]},this.addRemoteMic=(r,i,s,o,a)=>{this.remoteMics=this.remoteMics.filter(l=>l.id!==r),this.remoteMics=[...this.remoteMics,new NF(r,i,s,a)],this.setPermission(r,this.getPermission(r)),te.remoteMicConnected.dispatch({id:r,name:i,silent:o})},this.removeRemoteMic=(r,i=!1)=>{const s=this.remoteMics.find(o=>o.id===r);this.remoteMics=this.remoteMics.filter(o=>o.id!==r),s&&(s.onDisconnect(),te.remoteMicDisconnected.dispatch(s,i))},this.getRemoteMics=()=>this.remoteMics,this.getRemoteMicById=r=>this.remoteMics.find(i=>i.id===r),this.broadcast=r=>{this.getRemoteMics().forEach(i=>i.connection.send(r))},this.broadcastToChannel=(r,i)=>{this.subscriptions[r].forEach(s=>{var o;return(o=this.getRemoteMicById(s))==null?void 0:o.connection.send(i)})},this.getPermission=r=>this.micAccessMap[r]??BP.get(),this.setPermission=(r,i)=>{var s;(s=this.getRemoteMicById(r))==null||s.setPermission(i),this.micAccessMap[r]=i,Ve==null||Ve.setItem(y2,this.micAccessMap),this.onUpdate(r,i)},this.addSubscription=(r,i)=>{var s;this.subscriptions[i]=[...new Set([...this.subscriptions[i],r])],(s=Ve.session)==null||s.setItem(Pv,this.subscriptions),te.remoteMicSubscribed.dispatch(r,i)},this.removeSubscription=(r,i)=>{var s,o;this.subscriptions[i]=((s=this.subscriptions[i])==null?void 0:s.filter(a=>a!==r))??[],(o=Ve.session)==null||o.setItem(Pv,this.subscriptions)}}}const et=new FF;Tm.addListener(e=>{_P(e),et.broadcast({t:"style-change",style:e})});te.remoteMicConnected.subscribe(e=>{var t;(t=et.getRemoteMicById(e.id))==null||t.connection.send({t:"style-change",style:Tm.get()})});class zF{constructor(){this.frequencies=[440,410],this.volumes=[1,1],this.startMonitoring=async()=>{},this.getFrequencies=t=>this.frequencies,this.getVolumes=t=>this.volumes,this.clearFrequencies=t=>{},this.stopMonitoring=async t=>{},this.getInputLag=()=>0,this.setFrequency=(t,n)=>this.frequencies[t]=n,this.requestReadiness=()=>Promise.resolve(!0),this.getStatus=()=>"ok"}}const UF=new zF;class HF{constructor(){this.frequencies=[410,210],this.volumes=[1,1],this.timestamp=0,this.interval=null,this.isMonitoring=!1,this.startMonitoring=async()=>{this.isMonitoring||(this.isMonitoring=!0,this.interval=global.setInterval(()=>{this.timestamp=this.timestamp+32,this.frequencies[0]=Math.sin(this.timestamp/1e3)*50+100,this.frequencies[1]=Math.cos(this.timestamp/1e3)*50+200},32))},this.getFrequencies=()=>this.frequencies,this.getVolumes=()=>this.volumes,this.clearFrequencies=t=>{},this.stopMonitoring=async()=>{this.isMonitoring&&(this.isMonitoring=!1,this.interval&&global.clearInterval(this.interval))},this.getInputLag=()=>150,this.requestReadiness=()=>Promise.resolve(!0),this.getStatus=()=>"ok"}}const GF=new HF,DP=Object.prototype.toString;function xb(e){switch(DP.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return ho(e,Error)}}function lu(e,t){return DP.call(e)===`[object ${t}]`}function wb(e){return lu(e,"ErrorEvent")}function A2(e){return lu(e,"DOMError")}function qF(e){return lu(e,"DOMException")}function Bs(e){return lu(e,"String")}function Eb(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function kb(e){return e===null||Eb(e)||typeof e!="object"&&typeof e!="function"}function $c(e){return lu(e,"Object")}function Im(e){return typeof Event<"u"&&ho(e,Event)}function WF(e){return typeof Element<"u"&&ho(e,Element)}function KF(e){return lu(e,"RegExp")}function Rm(e){return!!(e&&e.then&&typeof e.then=="function")}function YF(e){return $c(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function FP(e){return typeof e=="number"&&e!==e}function ho(e,t){try{return e instanceof t}catch{return!1}}function zP(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue))}function bc(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function _2(e,t){if(!Array.isArray(e))return"";const n=[];for(let r=0;r<e.length;r++){const i=e[r];try{zP(i)?n.push("[VueViewModel]"):n.push(String(i))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function QF(e,t,n=!1){return Bs(e)?KF(t)?t.test(e):Bs(t)?n?e===t:e.includes(t):!1:!1}function Df(e,t=[],n=!1){return t.some(r=>QF(e,r,n))}function JF(e,t,n=250,r,i,s,o){if(!s.exception||!s.exception.values||!o||!ho(o.originalException,Error))return;const a=s.exception.values.length>0?s.exception.values[s.exception.values.length-1]:void 0;a&&(s.exception.values=XF(jA(e,t,i,o.originalException,r,s.exception.values,a,0),n))}function jA(e,t,n,r,i,s,o,a){if(s.length>=n+1)return s;let l=[...s];if(ho(r[i],Error)){b2(o,a);const c=e(t,r[i]),u=l.length;S2(c,i,u,a),l=jA(e,t,n,r[i],i,[c,...l],c,u)}return Array.isArray(r.errors)&&r.errors.forEach((c,u)=>{if(ho(c,Error)){b2(o,a);const d=e(t,c),h=l.length;S2(d,`errors[${u}]`,h,a),l=jA(e,t,n,c,i,[d,...l],d,h)}}),l}function b2(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function S2(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}function XF(e,t){return e.map(n=>(n.value&&(n.value=bc(n.value,t)),n))}function Rh(e){return e&&e.Math==Math?e:void 0}const vt=typeof globalThis=="object"&&Rh(globalThis)||typeof window=="object"&&Rh(window)||typeof self=="object"&&Rh(self)||typeof global=="object"&&Rh(global)||function(){return this}()||{};function Cb(){return vt}function UP(e,t,n){const r=n||vt,i=r.__SENTRY__=r.__SENTRY__||{};return i[e]||(i[e]=t())}const Sc=Cb(),ZF=80;function Dc(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,i=[];let s=0,o=0;const a=" > ",l=a.length;let c;const u=Array.isArray(t)?t:t.keyAttrs,d=!Array.isArray(t)&&t.maxStringLength||ZF;for(;n&&s++<r&&(c=e6(n,u),!(c==="html"||s>1&&o+i.length*l+c.length>=d));)i.push(c),o+=c.length,n=n.parentNode;return i.reverse().join(a)}catch{return"<unknown>"}}function e6(e,t){const n=e,r=[];let i,s,o,a,l;if(!n||!n.tagName)return"";if(Sc.HTMLElement&&n instanceof HTMLElement&&n.dataset&&n.dataset.sentryComponent)return n.dataset.sentryComponent;r.push(n.tagName.toLowerCase());const c=t&&t.length?t.filter(d=>n.getAttribute(d)).map(d=>[d,n.getAttribute(d)]):null;if(c&&c.length)c.forEach(d=>{r.push(`[${d[0]}="${d[1]}"]`)});else if(n.id&&r.push(`#${n.id}`),i=n.className,i&&Bs(i))for(s=i.split(/\s+/),l=0;l<s.length;l++)r.push(`.${s[l]}`);const u=["aria-label","type","name","title","alt"];for(l=0;l<u.length;l++)o=u[l],a=n.getAttribute(o),a&&r.push(`[${o}="${a}"]`);return r.join("")}function t6(){try{return Sc.document.location.href}catch{return""}}function n6(e){return Sc.document&&Sc.document.querySelector?Sc.document.querySelector(e):null}function HP(e){if(!Sc.HTMLElement)return null;let t=e;const n=5;for(let r=0;r<n;r++){if(!t)return null;if(t instanceof HTMLElement&&t.dataset.sentryComponent)return t.dataset.sentryComponent;t=t.parentNode}return null}const cu=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,r6="Sentry Logger ",OA=["debug","info","warn","error","log","assert","trace"],vg={};function Mm(e){if(!("console"in vt))return e();const t=vt.console,n={},r=Object.keys(vg);r.forEach(i=>{const s=vg[i];n[i]=t[i],t[i]=s});try{return e()}finally{r.forEach(i=>{t[i]=n[i]})}}function i6(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return cu?OA.forEach(n=>{t[n]=(...r)=>{e&&Mm(()=>{vt.console[n](`${r6}[${n}]:`,...r)})}}):OA.forEach(n=>{t[n]=()=>{}}),t}const re=i6(),s6=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function o6(e){return e==="http"||e==="https"}function yl(e,t=!1){const{host:n,path:r,pass:i,port:s,projectId:o,protocol:a,publicKey:l}=e;return`${a}://${l}${t&&i?`:${i}`:""}@${n}${s?`:${s}`:""}/${r&&`${r}/`}${o}`}function a6(e){const t=s6.exec(e);if(!t){Mm(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}const[n,r,i="",s,o="",a]=t.slice(1);let l="",c=a;const u=c.split("/");if(u.length>1&&(l=u.slice(0,-1).join("/"),c=u.pop()),c){const d=c.match(/^\d+/);d&&(c=d[0])}return GP({host:s,pass:i,path:l,projectId:c,port:o,protocol:n,publicKey:r})}function GP(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function l6(e){if(!cu)return!0;const{port:t,projectId:n,protocol:r}=e;return["protocol","publicKey","host","projectId"].find(o=>e[o]?!1:(re.error(`Invalid Sentry Dsn: ${o} missing`),!0))?!1:n.match(/^\d+$/)?o6(r)?t&&isNaN(parseInt(t,10))?(re.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):!0:(re.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(re.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}function qP(e){const t=typeof e=="string"?a6(e):GP(e);if(!(!t||!l6(t)))return t}class Ms extends Error{constructor(t,n="warn"){super(t),this.message=t,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=n}}function ar(e,t,n){if(!(t in e))return;const r=e[t],i=n(r);typeof i=="function"&&WP(i,r),e[t]=i}function tl(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{cu&&re.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function WP(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,tl(e,"__sentry_original__",t)}catch{}}function Tb(e){return e.__sentry_original__}function c6(e){return Object.keys(e).map(t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`).join("&")}function KP(e){if(xb(e))return{message:e.message,name:e.name,stack:e.stack,...w2(e)};if(Im(e)){const t={type:e.type,target:x2(e.target),currentTarget:x2(e.currentTarget),...w2(e)};return typeof CustomEvent<"u"&&ho(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function x2(e){try{return WF(e)?Dc(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function w2(e){if(typeof e=="object"&&e!==null){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}else return{}}function u6(e,t=40){const n=Object.keys(KP(e));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=t)return bc(n[0],t);for(let r=n.length;r>0;r--){const i=n.slice(0,r).join(", ");if(!(i.length>t))return r===n.length?i:bc(i,t)}return""}function ri(e){return VA(e,new Map)}function VA(e,t){if(d6(e)){const n=t.get(e);if(n!==void 0)return n;const r={};t.set(e,r);for(const i of Object.keys(e))typeof e[i]<"u"&&(r[i]=VA(e[i],t));return r}if(Array.isArray(e)){const n=t.get(e);if(n!==void 0)return n;const r=[];return t.set(e,r),e.forEach(i=>{r.push(VA(i,t))}),r}return e}function d6(e){if(!$c(e))return!1;try{const t=Object.getPrototypeOf(e).constructor.name;return!t||t==="Object"}catch{return!0}}const YP=50,E2=/\(error: (.*)\)/,k2=/captureMessage|captureException/;function QP(...e){const t=e.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0)=>{const i=[],s=n.split(`
`);for(let o=r;o<s.length;o++){const a=s[o];if(a.length>1024)continue;const l=E2.test(a)?a.replace(E2,"$1"):a;if(!l.match(/\S*Error: /)){for(const c of t){const u=c(l);if(u){i.push(u);break}}if(i.length>=YP)break}}return h6(i)}}function f6(e){return Array.isArray(e)?QP(...e):e}function h6(e){if(!e.length)return[];const t=Array.from(e);return/sentryWrapped/.test(t[t.length-1].function||"")&&t.pop(),t.reverse(),k2.test(t[t.length-1].function||"")&&(t.pop(),k2.test(t[t.length-1].function||"")&&t.pop()),t.slice(0,YP).map(n=>({...n,filename:n.filename||t[t.length-1].filename,function:n.function||"?"}))}const jv="<anonymous>";function po(e){try{return!e||typeof e!="function"?jv:e.name||jv}catch{return jv}}const Mp={},C2={};function Al(e,t){Mp[e]=Mp[e]||[],Mp[e].push(t)}function _l(e,t){C2[e]||(t(),C2[e]=!0)}function ds(e,t){const n=e&&Mp[e];if(n)for(const r of n)try{r(t)}catch(i){cu&&re.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${po(r)}
Error:`,i)}}function p6(e){const t="console";Al(t,e),_l(t,g6)}function g6(){"console"in vt&&OA.forEach(function(e){e in vt.console&&ar(vt.console,e,function(t){return vg[e]=t,function(...n){ds("console",{args:n,level:e});const i=vg[e];i&&i.apply(vt.console,n)}})})}function Sn(){const e=vt,t=e.crypto||e.msCrypto;let n=()=>Math.random()*16;try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>{const r=new Uint8Array(1);return t.getRandomValues(r),r[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,r=>(r^(n()&15)>>r/4).toString(16))}function JP(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function $o(e){const{message:t,event_id:n}=e;if(t)return t;const r=JP(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function LA(e,t,n){const r=e.exception=e.exception||{},i=r.values=r.values||[],s=i[0]=i[0]||{};s.value||(s.value=t||""),s.type||(s.type=n||"Error")}function Jd(e,t){const n=JP(e);if(!n)return;const r={type:"generic",handled:!0},i=n.mechanism;if(n.mechanism={...r,...i,...t},t&&"data"in t){const s={...i&&i.data,...t.data};n.mechanism.data=s}}function T2(e){if(e&&e.__sentry_captured__)return!0;try{tl(e,"__sentry_captured__",!0)}catch{}return!1}function XP(e){return Array.isArray(e)?e:[e]}const ql=vt,m6=1e3;let I2,NA,BA;function v6(e){const t="dom";Al(t,e),_l(t,y6)}function y6(){if(!ql.document)return;const e=ds.bind(null,"dom"),t=R2(e,!0);ql.document.addEventListener("click",t,!1),ql.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{const r=ql[n]&&ql[n].prototype;!r||!r.hasOwnProperty||!r.hasOwnProperty("addEventListener")||(ar(r,"addEventListener",function(i){return function(s,o,a){if(s==="click"||s=="keypress")try{const l=this,c=l.__sentry_instrumentation_handlers__=l.__sentry_instrumentation_handlers__||{},u=c[s]=c[s]||{refCount:0};if(!u.handler){const d=R2(e);u.handler=d,i.call(this,s,d,a)}u.refCount++}catch{}return i.call(this,s,o,a)}}),ar(r,"removeEventListener",function(i){return function(s,o,a){if(s==="click"||s=="keypress")try{const l=this,c=l.__sentry_instrumentation_handlers__||{},u=c[s];u&&(u.refCount--,u.refCount<=0&&(i.call(this,s,u.handler,a),u.handler=void 0,delete c[s]),Object.keys(c).length===0&&delete l.__sentry_instrumentation_handlers__)}catch{}return i.call(this,s,o,a)}}))})}function A6(e){if(e.type!==NA)return!1;try{if(!e.target||e.target._sentryId!==BA)return!1}catch{}return!0}function _6(e,t){return e!=="keypress"?!1:!t||!t.tagName?!0:!(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable)}function R2(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=b6(n);if(_6(n.type,r))return;tl(n,"_sentryCaptured",!0),r&&!r._sentryId&&tl(r,"_sentryId",Sn());const i=n.type==="keypress"?"input":n.type;A6(n)||(e({event:n,name:i,global:t}),NA=n.type,BA=r?r._sentryId:void 0),clearTimeout(I2),I2=ql.setTimeout(()=>{BA=void 0,NA=void 0},m6)}}function b6(e){try{return e.target}catch{return null}}const $A=Cb();function ZP(){if(!("fetch"in $A))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function DA(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function S6(){if(typeof EdgeRuntime=="string")return!0;if(!ZP())return!1;if(DA($A.fetch))return!0;let e=!1;const t=$A.document;if(t&&typeof t.createElement=="function")try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=DA(n.contentWindow.fetch)),t.head.removeChild(n)}catch(n){cu&&re.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e}function e5(e){const t="fetch";Al(t,e),_l(t,x6)}function x6(){S6()&&ar(vt,"fetch",function(e){return function(...t){const{method:n,url:r}=w6(t),i={args:t,fetchData:{method:n,url:r},startTimestamp:Date.now()};return ds("fetch",{...i}),e.apply(vt,t).then(s=>{const o={...i,endTimestamp:Date.now(),response:s};return ds("fetch",o),s},s=>{const o={...i,endTimestamp:Date.now(),error:s};throw ds("fetch",o),s})}})}function FA(e,t){return!!e&&typeof e=="object"&&!!e[t]}function M2(e){return typeof e=="string"?e:e?FA(e,"url")?e.url:e.toString?e.toString():"":""}function w6(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){const[n,r]=e;return{url:M2(n),method:FA(r,"method")?String(r.method).toUpperCase():"GET"}}const t=e[0];return{url:M2(t),method:FA(t,"method")?String(t.method).toUpperCase():"GET"}}let Mh=null;function t5(e){const t="error";Al(t,e),_l(t,E6)}function E6(){Mh=vt.onerror,vt.onerror=function(e,t,n,r,i){return ds("error",{column:r,error:i,line:n,msg:e,url:t}),Mh&&!Mh.__SENTRY_LOADER__?Mh.apply(this,arguments):!1},vt.onerror.__SENTRY_INSTRUMENTED__=!0}let Ph=null;function n5(e){const t="unhandledrejection";Al(t,e),_l(t,k6)}function k6(){Ph=vt.onunhandledrejection,vt.onunhandledrejection=function(e){return ds("unhandledrejection",e),Ph&&!Ph.__SENTRY_LOADER__?Ph.apply(this,arguments):!0},vt.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}const jh=Cb();function C6(){const e=jh.chrome,t=e&&e.app&&e.app.runtime,n="history"in jh&&!!jh.history.pushState&&!!jh.history.replaceState;return!t&&n}const ju=vt;let Oh;function Ib(e){const t="history";Al(t,e),_l(t,T6)}function T6(){if(!C6())return;const e=ju.onpopstate;ju.onpopstate=function(...n){const r=ju.location.href,i=Oh;if(Oh=r,ds("history",{from:i,to:r}),e)try{return e.apply(this,n)}catch{}};function t(n){return function(...r){const i=r.length>2?r[2]:void 0;if(i){const s=Oh,o=String(i);Oh=o,ds("history",{from:s,to:o})}return n.apply(this,r)}}ar(ju.history,"pushState",t),ar(ju.history,"replaceState",t)}const I6=vt,Ql="__sentry_xhr_v3__";function r5(e){const t="xhr";Al(t,e),_l(t,R6)}function R6(){if(!I6.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;ar(e,"open",function(t){return function(...n){const r=Date.now(),i=Bs(n[0])?n[0].toUpperCase():void 0,s=M6(n[1]);if(!i||!s)return t.apply(this,n);this[Ql]={method:i,url:s,request_headers:{}},i==="POST"&&s.match(/sentry_key/)&&(this.__sentry_own_request__=!0);const o=()=>{const a=this[Ql];if(a&&this.readyState===4){try{a.status_code=this.status}catch{}const l={args:[i,s],endTimestamp:Date.now(),startTimestamp:r,xhr:this};ds("xhr",l)}};return"onreadystatechange"in this&&typeof this.onreadystatechange=="function"?ar(this,"onreadystatechange",function(a){return function(...l){return o(),a.apply(this,l)}}):this.addEventListener("readystatechange",o),ar(this,"setRequestHeader",function(a){return function(...l){const[c,u]=l,d=this[Ql];return d&&Bs(c)&&Bs(u)&&(d.request_headers[c.toLowerCase()]=u),a.apply(this,l)}}),t.apply(this,n)}}),ar(e,"send",function(t){return function(...n){const r=this[Ql];if(!r)return t.apply(this,n);n[0]!==void 0&&(r.body=n[0]);const i={args:[r.method,r.url],startTimestamp:Date.now(),xhr:this};return ds("xhr",i),t.apply(this,n)}})}function M6(e){if(Bs(e))return e;try{return e.toString()}catch{}}function P6(){return"npm"}function j6(){const e=typeof WeakSet=="function",t=e?new WeakSet:[];function n(i){if(e)return t.has(i)?!0:(t.add(i),!1);for(let s=0;s<t.length;s++)if(t[s]===i)return!0;return t.push(i),!1}function r(i){if(e)t.delete(i);else for(let s=0;s<t.length;s++)if(t[s]===i){t.splice(s,1);break}}return[n,r]}function Lo(e,t=100,n=1/0){try{return zA("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function i5(e,t=3,n=100*1024){const r=Lo(e,t);return N6(r)>n?i5(e,t-1,n):r}function zA(e,t,n=1/0,r=1/0,i=j6()){const[s,o]=i;if(t==null||["number","boolean","string"].includes(typeof t)&&!FP(t))return t;const a=O6(e,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;const l=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:n;if(l===0)return a.replace("object ","");if(s(t))return"[Circular ~]";const c=t;if(c&&typeof c.toJSON=="function")try{const p=c.toJSON();return zA("",p,l-1,r,i)}catch{}const u=Array.isArray(t)?[]:{};let d=0;const h=KP(t);for(const p in h){if(!Object.prototype.hasOwnProperty.call(h,p))continue;if(d>=r){u[p]="[MaxProperties ~]";break}const g=h[p];u[p]=zA(p,g,l-1,r,i),d++}return o(t),u}function O6(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&t===global)return"[Global]";if(typeof window<"u"&&t===window)return"[Window]";if(typeof document<"u"&&t===document)return"[Document]";if(zP(t))return"[VueViewModel]";if(YF(t))return"[SyntheticEvent]";if(typeof t=="number"&&t!==t)return"[NaN]";if(typeof t=="function")return`[Function: ${po(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;const n=V6(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function V6(e){const t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}function L6(e){return~-encodeURI(e).split(/%..|./).length}function N6(e){return L6(JSON.stringify(e))}var eo;(function(e){e[e.PENDING=0]="PENDING";const n=1;e[e.RESOLVED=n]="RESOLVED";const r=2;e[e.REJECTED=r]="REJECTED"})(eo||(eo={}));function Fc(e){return new ei(t=>{t(e)})}function Rb(e){return new ei((t,n)=>{n(e)})}class ei{constructor(t){ei.prototype.__init.call(this),ei.prototype.__init2.call(this),ei.prototype.__init3.call(this),ei.prototype.__init4.call(this),this._state=eo.PENDING,this._handlers=[];try{t(this._resolve,this._reject)}catch(n){this._reject(n)}}then(t,n){return new ei((r,i)=>{this._handlers.push([!1,s=>{if(!t)r(s);else try{r(t(s))}catch(o){i(o)}},s=>{if(!n)i(s);else try{r(n(s))}catch(o){i(o)}}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new ei((n,r)=>{let i,s;return this.then(o=>{s=!1,i=o,t&&t()},o=>{s=!0,i=o,t&&t()}).then(()=>{if(s){r(i);return}n(i)})})}__init(){this._resolve=t=>{this._setResult(eo.RESOLVED,t)}}__init2(){this._reject=t=>{this._setResult(eo.REJECTED,t)}}__init3(){this._setResult=(t,n)=>{if(this._state===eo.PENDING){if(Rm(n)){n.then(this._resolve,this._reject);return}this._state=t,this._value=n,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===eo.PENDING)return;const t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===eo.RESOLVED&&n[1](this._value),this._state===eo.REJECTED&&n[2](this._value),n[0]=!0)})}}}function B6(e){const t=[];function n(){return e===void 0||t.length<e}function r(o){return t.splice(t.indexOf(o),1)[0]}function i(o){if(!n())return Rb(new Ms("Not adding Promise because buffer limit was reached."));const a=o();return t.indexOf(a)===-1&&t.push(a),a.then(()=>r(a)).then(null,()=>r(a).then(null,()=>{})),a}function s(o){return new ei((a,l)=>{let c=t.length;if(!c)return a(!0);const u=setTimeout(()=>{o&&o>0&&a(!1)},o);t.forEach(d=>{Fc(d).then(()=>{--c||(clearTimeout(u),a(!0))},l)})})}return{$:t,add:i,drain:s}}function Wa(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}const $6=["fatal","error","warning","log","info","debug"];function D6(e){return e==="warn"?"warning":$6.includes(e)?e:"log"}const s5=1e3;function Ff(){return Date.now()/s5}function F6(){const{performance:e}=vt;if(!e||!e.now)return Ff;const t=Date.now()-e.now(),n=e.timeOrigin==null?t:e.timeOrigin;return()=>(n+e.now())/s5}const nl=F6(),Bi=(()=>{const{performance:e}=vt;if(!e||!e.now)return;const t=3600*1e3,n=e.now(),r=Date.now(),i=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,s=i<t,o=e.timing&&e.timing.navigationStart,l=typeof o=="number"?Math.abs(o+n-r):t,c=l<t;return s||c?i<=l?e.timeOrigin:o:r})(),UA="baggage",o5="sentry-",z6=/^sentry-/,U6=8192;function H6(e){if(!Bs(e)&&!Array.isArray(e))return;let t={};if(Array.isArray(e))t=e.reduce((r,i)=>{const s=P2(i);for(const o of Object.keys(s))r[o]=s[o];return r},{});else{if(!e)return;t=P2(e)}const n=Object.entries(t).reduce((r,[i,s])=>{if(i.match(z6)){const o=i.slice(o5.length);r[o]=s}return r},{});if(Object.keys(n).length>0)return n}function a5(e){if(!e)return;const t=Object.entries(e).reduce((n,[r,i])=>(i&&(n[`${o5}${r}`]=i),n),{});return G6(t)}function P2(e){return e.split(",").map(t=>t.split("=").map(n=>decodeURIComponent(n.trim()))).reduce((t,[n,r])=>(t[n]=r,t),{})}function G6(e){if(Object.keys(e).length!==0)return Object.entries(e).reduce((t,[n,r],i)=>{const s=`${encodeURIComponent(n)}=${encodeURIComponent(r)}`,o=i===0?s:`${t},${s}`;return o.length>U6?(cu&&re.warn(`Not adding key: ${n} with val: ${r} to baggage header due to exceeding baggage size limits.`),t):o},"")}const q6=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function W6(e){if(!e)return;const t=e.match(q6);if(!t)return;let n;return t[3]==="1"?n=!0:t[3]==="0"&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}function K6(e,t){const n=W6(e),r=H6(t),{traceId:i,parentSpanId:s,parentSampled:o}=n||{};return n?{traceId:i||Sn(),parentSpanId:s||Sn().substring(16),spanId:Sn().substring(16),sampled:o,dsc:r||{}}:{traceId:i||Sn(),spanId:Sn().substring(16)}}function Mb(e=Sn(),t=Sn().substring(16),n){let r="";return n!==void 0&&(r=n?"-1":"-0"),`${e}-${t}${r}`}function bl(e,t=[]){return[e,t]}function Y6(e,t){const[n,r]=e;return[n,[...r,t]]}function j2(e,t){const n=e[1];for(const r of n){const i=r[0].type;if(t(r,i))return!0}return!1}function HA(e,t){return(t||new TextEncoder).encode(e)}function Q6(e,t){const[n,r]=e;let i=JSON.stringify(n);function s(o){typeof i=="string"?i=typeof o=="string"?i+o:[HA(i,t),o]:i.push(typeof o=="string"?HA(o,t):o)}for(const o of r){const[a,l]=o;if(s(`
${JSON.stringify(a)}
`),typeof l=="string"||l instanceof Uint8Array)s(l);else{let c;try{c=JSON.stringify(l)}catch{c=JSON.stringify(Lo(l))}s(c)}}return typeof i=="string"?i:J6(i)}function J6(e){const t=e.reduce((i,s)=>i+s.length,0),n=new Uint8Array(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return n}function X6(e,t){const n=typeof e.data=="string"?HA(e.data,t):e.data;return[ri({type:"attachment",length:n.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),n]}const Z6={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket"};function O2(e){return Z6[e]}function l5(e){if(!e||!e.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function e8(e,t,n,r){const i=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:yl(r)},...i&&{trace:ri({...i})}}}function t8(e,t,n){const r=[{type:"client_report"},{timestamp:n||Ff(),discarded_events:e}];return bl(t?{dsn:t}:{},[r])}const n8=60*1e3;function r8(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return n*1e3;const r=Date.parse(`${e}`);return isNaN(r)?n8:r-t}function i8(e,t){return e[t]||e.all||0}function s8(e,t,n=Date.now()){return i8(e,t)>n}function o8(e,{statusCode:t,headers:n},r=Date.now()){const i={...e},s=n&&n["x-sentry-rate-limits"],o=n&&n["retry-after"];if(s)for(const a of s.trim().split(",")){const[l,c,,,u]=a.split(":",5),d=parseInt(l,10),h=(isNaN(d)?60:d)*1e3;if(!c)i.all=r+h;else for(const p of c.split(";"))p==="metric_bucket"?(!u||u.split(";").includes("custom"))&&(i[p]=r+h):i[p]=r+h}else o?i.all=r+r8(o,r):t===429&&(i.all=r+60*1e3);return i}const Oe=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Pm="production";function Pb(){return UP("globalEventProcessors",()=>[])}function a8(e){Pb().push(e)}function yg(e,t,n,r=0){return new ei((i,s)=>{const o=e[r];if(t===null||typeof o!="function")i(t);else{const a=o({...t},n);Oe&&o.id&&a===null&&re.log(`Event processor "${o.id}" dropped event`),Rm(a)?a.then(l=>yg(e,l,n,r+1).then(i)).then(null,s):yg(e,a,n,r+1).then(i).then(null,s)}})}function c5(e){const t=nl(),n={sid:Sn(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>l8(n)};return e&&rl(n,e),n}function rl(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||nl(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:Sn()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function u5(e,t){let n={};t?n={status:t}:e.status==="ok"&&(n={status:"exited"}),rl(e,n)}function l8(e){return ri({sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}const c8=0,d5=1;function jb(e){const{spanId:t,traceId:n}=e.spanContext(),{data:r,op:i,parent_span_id:s,status:o,tags:a,origin:l}=Vn(e);return ri({data:r,op:i,parent_span_id:s,span_id:t,status:o,tags:a,trace_id:n,origin:l})}function jm(e){const{traceId:t,spanId:n}=e.spanContext(),r=Ob(e);return Mb(t,n,r)}function Om(e){return typeof e=="number"?V2(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?V2(e.getTime()):nl()}function V2(e){return e>9999999999?e/1e3:e}function Vn(e){return u8(e)?e.getSpanJSON():typeof e.toJSON=="function"?e.toJSON():{}}function u8(e){return typeof e.getSpanJSON=="function"}function Ob(e){const{traceFlags:t}=e.spanContext();return!!(t&d5)}function d8(e,t,n,r,i,s){const{normalizeDepth:o=3,normalizeMaxBreadth:a=1e3}=e,l={...t,event_id:t.event_id||n.event_id||Sn(),timestamp:t.timestamp||Ff()},c=n.integrations||e.integrations.map(_=>_.name);f8(l,e),g8(l,c),t.type===void 0&&h8(l,e.stackParser);const u=v8(r,n.captureContext);n.mechanism&&Jd(l,n.mechanism);const d=i&&i.getEventProcessors?i.getEventProcessors():[],h=I8().getScopeData();if(s){const _=s.getScopeData();D2(h,_)}if(u){const _=u.getScopeData();D2(h,_)}const p=[...n.attachments||[],...h.attachments];p.length&&(n.attachments=p),g5(l,h);const g=[...d,...Pb(),...h.eventProcessors];return yg(g,l,n).then(_=>(_&&p8(_),typeof o=="number"&&o>0?m8(_,o,a):_))}function f8(e,t){const{environment:n,release:r,dist:i,maxValueLength:s=250}=t;"environment"in e||(e.environment="environment"in t?n:Pm),e.release===void 0&&r!==void 0&&(e.release=r),e.dist===void 0&&i!==void 0&&(e.dist=i),e.message&&(e.message=bc(e.message,s));const o=e.exception&&e.exception.values&&e.exception.values[0];o&&o.value&&(o.value=bc(o.value,s));const a=e.request;a&&a.url&&(a.url=bc(a.url,s))}const L2=new WeakMap;function h8(e,t){const n=vt._sentryDebugIds;if(!n)return;let r;const i=L2.get(t);i?r=i:(r=new Map,L2.set(t,r));const s=Object.keys(n).reduce((o,a)=>{let l;const c=r.get(a);c?l=c:(l=t(a),r.set(a,l));for(let u=l.length-1;u>=0;u--){const d=l[u];if(d.filename){o[d.filename]=n[a];break}}return o},{});try{e.exception.values.forEach(o=>{o.stacktrace.frames.forEach(a=>{a.filename&&(a.debug_id=s[a.filename])})})}catch{}}function p8(e){const t={};try{e.exception.values.forEach(r=>{r.stacktrace.frames.forEach(i=>{i.debug_id&&(i.abs_path?t[i.abs_path]=i.debug_id:i.filename&&(t[i.filename]=i.debug_id),delete i.debug_id)})})}catch{}if(Object.keys(t).length===0)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.keys(t).forEach(r=>{n.push({type:"sourcemap",code_file:r,debug_id:t[r]})})}function g8(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function m8(e,t,n){if(!e)return null;const r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(i=>({...i,...i.data&&{data:Lo(i.data,t,n)}}))},...e.user&&{user:Lo(e.user,t,n)},...e.contexts&&{contexts:Lo(e.contexts,t,n)},...e.extra&&{extra:Lo(e.extra,t,n)}};return e.contexts&&e.contexts.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=Lo(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map(i=>{const s=Vn(i).data;return s&&(i.data=Lo(s,t,n)),i})),r}function v8(e,t){if(!t)return e;const n=e?e.clone():new co;return n.update(t),n}function y8(e){if(e)return A8(e)?{captureContext:e}:b8(e)?{captureContext:e}:e}function A8(e){return e instanceof co||typeof e=="function"}const _8=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function b8(e){return Object.keys(e).some(t=>_8.includes(t))}function Us(e,t){return _r().captureException(e,y8(t))}function f5(e,t){return _r().captureEvent(e,t)}function il(e,t){_r().addBreadcrumb(e,t)}function S8(e){_r().setUser(e)}function Vb(...e){const t=_r();if(e.length===2){const[n,r]=e;return n?t.withScope(()=>(t.getStackTop().scope=n,r(n))):t.withScope(r)}return t.withScope(e[0])}function N2(e,t){return Vb(n=>(n.setSpan(e),t(n)))}function Ln(){return _r().getClient()}function Ys(){return _r().getScope()}function B2(e){const t=Ln(),n=Sl(),r=Ys(),{release:i,environment:s=Pm}=t&&t.getOptions()||{},{userAgent:o}=vt.navigator||{},a=c5({release:i,environment:s,user:r.getUser()||n.getUser(),...o&&{userAgent:o},...e}),l=n.getSession();return l&&l.status==="ok"&&rl(l,{status:"exited"}),h5(),n.setSession(a),r.setSession(a),a}function h5(){const e=Sl(),t=Ys(),n=t.getSession()||e.getSession();n&&u5(n),p5(),e.setSession(),t.setSession()}function p5(){const e=Sl(),t=Ys(),n=Ln(),r=t.getSession()||e.getSession();r&&n&&n.captureSession&&n.captureSession(r)}function $2(e=!1){if(e){h5();return}p5()}function Ag(e){return e.transaction}function Vm(e,t,n){const r=t.getOptions(),{publicKey:i}=t.getDsn()||{},{segment:s}=n&&n.getUser()||{},o=ri({environment:r.environment||Pm,release:r.release,user_segment:s,public_key:i,trace_id:e});return t.emit&&t.emit("createDsc",o),o}function zc(e){const t=Ln();if(!t)return{};const n=Vm(Vn(e).trace_id||"",t,Ys()),r=Ag(e);if(!r)return n;const i=r&&r._frozenDynamicSamplingContext;if(i)return i;const{sampleRate:s,source:o}=r.metadata;s!=null&&(n.sample_rate=`${s}`);const a=Vn(r);return o&&o!=="url"&&(n.transaction=a.description),n.sampled=String(Ob(r)),t.emit&&t.emit("createDsc",n),n}function g5(e,t){const{fingerprint:n,span:r,breadcrumbs:i,sdkProcessingMetadata:s}=t;x8(e,t),r&&k8(e,r),C8(e,n),w8(e,i),E8(e,s)}function D2(e,t){const{extra:n,tags:r,user:i,contexts:s,level:o,sdkProcessingMetadata:a,breadcrumbs:l,fingerprint:c,eventProcessors:u,attachments:d,propagationContext:h,transactionName:p,span:g}=t;Ou(e,"extra",n),Ou(e,"tags",r),Ou(e,"user",i),Ou(e,"contexts",s),Ou(e,"sdkProcessingMetadata",a),o&&(e.level=o),p&&(e.transactionName=p),g&&(e.span=g),l.length&&(e.breadcrumbs=[...e.breadcrumbs,...l]),c.length&&(e.fingerprint=[...e.fingerprint,...c]),u.length&&(e.eventProcessors=[...e.eventProcessors,...u]),d.length&&(e.attachments=[...e.attachments,...d]),e.propagationContext={...e.propagationContext,...h}}function Ou(e,t,n){if(n&&Object.keys(n).length){e[t]={...e[t]};for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[t][r]=n[r])}}function x8(e,t){const{extra:n,tags:r,user:i,contexts:s,level:o,transactionName:a}=t,l=ri(n);l&&Object.keys(l).length&&(e.extra={...l,...e.extra});const c=ri(r);c&&Object.keys(c).length&&(e.tags={...c,...e.tags});const u=ri(i);u&&Object.keys(u).length&&(e.user={...u,...e.user});const d=ri(s);d&&Object.keys(d).length&&(e.contexts={...d,...e.contexts}),o&&(e.level=o),a&&(e.transaction=a)}function w8(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}function E8(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}function k8(e,t){e.contexts={trace:jb(t),...e.contexts};const n=Ag(t);if(n){e.sdkProcessingMetadata={dynamicSamplingContext:zc(t),...e.sdkProcessingMetadata};const r=Vn(n).description;r&&(e.tags={transaction:r,...e.tags})}}function C8(e,t){e.fingerprint=e.fingerprint?XP(e.fingerprint):[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}const T8=100;let Ov;class co{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=F2()}static clone(t){return t?t.clone():new co}clone(){const t=new co;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},t._user=this._user,t._level=this._level,t._span=this._span,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._requestSession=this._requestSession,t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t}setClient(t){this._client=t}getClient(){return this._client}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,segment:void 0,username:void 0},this._session&&rl(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this._tags={...this._tags,[t]:n},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSpan(t){return this._span=t,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const t=this._span;return t&&t.transaction}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const n=typeof t=="function"?t(this):t;if(n instanceof co){const r=n.getScopeData();this._tags={...this._tags,...r.tags},this._extra={...this._extra,...r.extra},this._contexts={...this._contexts,...r.contexts},r.user&&Object.keys(r.user).length&&(this._user=r.user),r.level&&(this._level=r.level),r.fingerprint.length&&(this._fingerprint=r.fingerprint),n.getRequestSession()&&(this._requestSession=n.getRequestSession()),r.propagationContext&&(this._propagationContext=r.propagationContext)}else if($c(n)){const r=t;this._tags={...this._tags,...r.tags},this._extra={...this._extra,...r.extra},this._contexts={...this._contexts,...r.contexts},r.user&&(this._user=r.user),r.level&&(this._level=r.level),r.fingerprint&&(this._fingerprint=r.fingerprint),r.requestSession&&(this._requestSession=r.requestSession),r.propagationContext&&(this._propagationContext=r.propagationContext)}return this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=F2(),this}addBreadcrumb(t,n){const r=typeof n=="number"?n:T8;if(r<=0)return this;const i={timestamp:Ff(),...t},s=this._breadcrumbs;return s.push(i),this._breadcrumbs=s.length>r?s.slice(-r):s,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}getAttachments(){return this.getScopeData().attachments}clearAttachments(){return this._attachments=[],this}getScopeData(){const{_breadcrumbs:t,_attachments:n,_contexts:r,_tags:i,_extra:s,_user:o,_level:a,_fingerprint:l,_eventProcessors:c,_propagationContext:u,_sdkProcessingMetadata:d,_transactionName:h,_span:p}=this;return{breadcrumbs:t,attachments:n,contexts:r,tags:i,extra:s,user:o,level:a,fingerprint:l||[],eventProcessors:c,propagationContext:u,sdkProcessingMetadata:d,transactionName:h,span:p}}applyToEvent(t,n={},r=[]){g5(t,this.getScopeData());const i=[...r,...Pb(),...this._eventProcessors];return yg(i,t,n)}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...t},this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,n){const r=n&&n.event_id?n.event_id:Sn();if(!this._client)return re.warn("No client configured on scope - will not capture exception!"),r;const i=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:i,...n,event_id:r},this),r}captureMessage(t,n,r){const i=r&&r.event_id?r.event_id:Sn();if(!this._client)return re.warn("No client configured on scope - will not capture message!"),i;const s=new Error(t);return this._client.captureMessage(t,n,{originalException:t,syntheticException:s,...r,event_id:i},this),i}captureEvent(t,n){const r=n&&n.event_id?n.event_id:Sn();return this._client?(this._client.captureEvent(t,{...n,event_id:r},this),r):(re.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}function I8(){return Ov||(Ov=new co),Ov}function F2(){return{traceId:Sn(),spanId:Sn().substring(16)}}const GA="7.112.2",m5=parseFloat(GA),R8=100;class v5{constructor(t,n,r,i=m5){this._version=i;let s;n?s=n:(s=new co,s.setClient(t));let o;r?o=r:(o=new co,o.setClient(t)),this._stack=[{scope:s}],t&&this.bindClient(t),this._isolationScope=o}isOlderThan(t){return this._version<t}bindClient(t){const n=this.getStackTop();n.client=t,n.scope.setClient(t),t&&t.setupIntegrations&&t.setupIntegrations()}pushScope(){const t=this.getScope().clone();return this.getStack().push({client:this.getClient(),scope:t}),t}popScope(){return this.getStack().length<=1?!1:!!this.getStack().pop()}withScope(t){const n=this.pushScope();let r;try{r=t(n)}catch(i){throw this.popScope(),i}return Rm(r)?r.then(i=>(this.popScope(),i),i=>{throw this.popScope(),i}):(this.popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(t,n){const r=this._lastEventId=n&&n.event_id?n.event_id:Sn(),i=new Error("Sentry syntheticException");return this.getScope().captureException(t,{originalException:t,syntheticException:i,...n,event_id:r}),r}captureMessage(t,n,r){const i=this._lastEventId=r&&r.event_id?r.event_id:Sn(),s=new Error(t);return this.getScope().captureMessage(t,n,{originalException:t,syntheticException:s,...r,event_id:i}),i}captureEvent(t,n){const r=n&&n.event_id?n.event_id:Sn();return t.type||(this._lastEventId=r),this.getScope().captureEvent(t,{...n,event_id:r}),r}lastEventId(){return this._lastEventId}addBreadcrumb(t,n){const{scope:r,client:i}=this.getStackTop();if(!i)return;const{beforeBreadcrumb:s=null,maxBreadcrumbs:o=R8}=i.getOptions&&i.getOptions()||{};if(o<=0)return;const l={timestamp:Ff(),...t},c=s?Mm(()=>s(l,n)):l;c!==null&&(i.emit&&i.emit("beforeAddBreadcrumb",c,n),r.addBreadcrumb(c,o))}setUser(t){this.getScope().setUser(t),this.getIsolationScope().setUser(t)}setTags(t){this.getScope().setTags(t),this.getIsolationScope().setTags(t)}setExtras(t){this.getScope().setExtras(t),this.getIsolationScope().setExtras(t)}setTag(t,n){this.getScope().setTag(t,n),this.getIsolationScope().setTag(t,n)}setExtra(t,n){this.getScope().setExtra(t,n),this.getIsolationScope().setExtra(t,n)}setContext(t,n){this.getScope().setContext(t,n),this.getIsolationScope().setContext(t,n)}configureScope(t){const{scope:n,client:r}=this.getStackTop();r&&t(n)}run(t){const n=z2(this);try{t(this)}finally{z2(n)}}getIntegration(t){const n=this.getClient();if(!n)return null;try{return n.getIntegration(t)}catch{return Oe&&re.warn(`Cannot retrieve integration ${t.id} from the current Hub`),null}}startTransaction(t,n){const r=this._callExtensionMethod("startTransaction",t,n);return Oe&&!r&&(this.getClient()?re.warn(`Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':
Sentry.addTracingExtensions();
Sentry.init({...});
`):re.warn("Tracing extension 'startTransaction' is missing. You should 'init' the SDK before calling 'startTransaction'")),r}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(t=!1){if(t)return this.endSession();this._sendSessionUpdate()}endSession(){const n=this.getStackTop().scope,r=n.getSession();r&&u5(r),this._sendSessionUpdate(),n.setSession()}startSession(t){const{scope:n,client:r}=this.getStackTop(),{release:i,environment:s=Pm}=r&&r.getOptions()||{},{userAgent:o}=vt.navigator||{},a=c5({release:i,environment:s,user:n.getUser(),...o&&{userAgent:o},...t}),l=n.getSession&&n.getSession();return l&&l.status==="ok"&&rl(l,{status:"exited"}),this.endSession(),n.setSession(a),a}shouldSendDefaultPii(){const t=this.getClient(),n=t&&t.getOptions();return!!(n&&n.sendDefaultPii)}_sendSessionUpdate(){const{scope:t,client:n}=this.getStackTop(),r=t.getSession();r&&n&&n.captureSession&&n.captureSession(r)}_callExtensionMethod(t,...n){const i=zf().__SENTRY__;if(i&&i.extensions&&typeof i.extensions[t]=="function")return i.extensions[t].apply(this,n);Oe&&re.warn(`Extension method ${t} couldn't be found, doing nothing.`)}}function zf(){return vt.__SENTRY__=vt.__SENTRY__||{extensions:{},hub:void 0},vt}function z2(e){const t=zf(),n=qA(t);return y5(t,e),n}function _r(){const e=zf();if(e.__SENTRY__&&e.__SENTRY__.acs){const t=e.__SENTRY__.acs.getCurrentHub();if(t)return t}return M8(e)}function Sl(){return _r().getIsolationScope()}function M8(e=zf()){return(!P8(e)||qA(e).isOlderThan(m5))&&y5(e,new v5),qA(e)}function P8(e){return!!(e&&e.__SENTRY__&&e.__SENTRY__.hub)}function qA(e){return UP("hub",()=>new v5,e)}function y5(e,t){if(!e)return!1;const n=e.__SENTRY__=e.__SENTRY__||{};return n.hub=t,!0}function xl(e){return(e||_r()).getScope().getTransaction()}let U2=!1;function j8(){U2||(U2=!0,t5(WA),n5(WA))}function WA(){const e=xl();if(e){const t="internal_error";Oe&&re.log(`[Tracing] Transaction: ${t} -> Global error occured`),e.setStatus(t)}}WA.tag="sentry_tracingErrorCallback";var H2;(function(e){const t="ok";e.Ok=t;const n="deadline_exceeded";e.DeadlineExceeded=n;const r="unauthenticated";e.Unauthenticated=r;const i="permission_denied";e.PermissionDenied=i;const s="not_found";e.NotFound=s;const o="resource_exhausted";e.ResourceExhausted=o;const a="invalid_argument";e.InvalidArgument=a;const l="unimplemented";e.Unimplemented=l;const c="unavailable";e.Unavailable=c;const u="internal_error";e.InternalError=u;const d="unknown_error";e.UnknownError=d;const h="cancelled";e.Cancelled=h;const p="already_exists";e.AlreadyExists=p;const g="failed_precondition";e.FailedPrecondition=g;const m="aborted";e.Aborted=m;const _="out_of_range";e.OutOfRange=_;const v="data_loss";e.DataLoss=v})(H2||(H2={}));function O8(e){if(e<400&&e>=100)return"ok";if(e>=400&&e<500)switch(e){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(e>=500&&e<600)switch(e){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}function Lb(e,t){e.setTag("http.status_code",String(t)),e.setData("http.response.status_code",t);const n=O8(t);n!=="unknown_error"&&e.setStatus(n)}function uu(e){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const t=Ln(),n=e||t&&t.getOptions();return!!n&&(n.enableTracing||"tracesSampleRate"in n||"tracesSampler"in n)}function bd(e){if(!uu())return;const t=L8(e),n=_r(),r=e.scope?e.scope.getSpan():Nb();if(e.onlyIfParent&&!r)return;const o=(e.scope||Ys()).clone();return V8(n,{parentSpan:r,spanContext:t,forceTransaction:e.forceTransaction,scope:o})}function Nb(){return Ys().getSpan()}function V8(e,{parentSpan:t,spanContext:n,forceTransaction:r,scope:i}){if(!uu())return;const s=Sl();let o;if(t&&!r)o=t.startChild(n);else if(t){const a=zc(t),{traceId:l,spanId:c}=t.spanContext(),u=Ob(t);o=e.startTransaction({traceId:l,parentSpanId:c,parentSampled:u,...n,metadata:{dynamicSamplingContext:a,...n.metadata}})}else{const{traceId:a,dsc:l,parentSpanId:c,sampled:u}={...s.getPropagationContext(),...i.getPropagationContext()};o=e.startTransaction({traceId:a,parentSpanId:c,parentSampled:u,...n,metadata:{dynamicSamplingContext:l,...n.metadata}})}return i.setSpan(o),N8(o,i,s),o}function L8(e){if(e.startTime){const t={...e};return t.startTimestamp=Om(e.startTime),delete t.startTime,t}return e}const A5="_sentryScope",_5="_sentryIsolationScope";function N8(e,t,n){e&&(tl(e,_5,n),tl(e,A5,t))}function B8(e){return{scope:e[A5],isolationScope:e[_5]}}const Xo="sentry.source",Jl="sentry.sample_rate",Vh="sentry.op",Xl="sentry.origin",$8="profile_id";class b5{constructor(t=1e3){this._maxlen=t,this.spans=[]}add(t){this.spans.length>this._maxlen?t.spanRecorder=void 0:this.spans.push(t)}}class Lm{constructor(t={}){this._traceId=t.traceId||Sn(),this._spanId=t.spanId||Sn().substring(16),this._startTime=t.startTimestamp||nl(),this.tags=t.tags?{...t.tags}:{},this.data=t.data?{...t.data}:{},this.instrumenter=t.instrumenter||"sentry",this._attributes={},this.setAttributes({[Xl]:t.origin||"manual",[Vh]:t.op,...t.attributes}),this._name=t.name||t.description,t.parentSpanId&&(this._parentSpanId=t.parentSpanId),"sampled"in t&&(this._sampled=t.sampled),t.status&&(this._status=t.status),t.endTimestamp&&(this._endTime=t.endTimestamp),t.exclusiveTime!==void 0&&(this._exclusiveTime=t.exclusiveTime),this._measurements=t.measurements?{...t.measurements}:{}}get name(){return this._name||""}set name(t){this.updateName(t)}get description(){return this._name}set description(t){this._name=t}get traceId(){return this._traceId}set traceId(t){this._traceId=t}get spanId(){return this._spanId}set spanId(t){this._spanId=t}set parentSpanId(t){this._parentSpanId=t}get parentSpanId(){return this._parentSpanId}get sampled(){return this._sampled}set sampled(t){this._sampled=t}get attributes(){return this._attributes}set attributes(t){this._attributes=t}get startTimestamp(){return this._startTime}set startTimestamp(t){this._startTime=t}get endTimestamp(){return this._endTime}set endTimestamp(t){this._endTime=t}get status(){return this._status}set status(t){this._status=t}get op(){return this._attributes[Vh]}set op(t){this.setAttribute(Vh,t)}get origin(){return this._attributes[Xl]}set origin(t){this.setAttribute(Xl,t)}spanContext(){const{_spanId:t,_traceId:n,_sampled:r}=this;return{spanId:t,traceId:n,traceFlags:r?d5:c8}}startChild(t){const n=new Lm({...t,parentSpanId:this._spanId,sampled:this._sampled,traceId:this._traceId});n.spanRecorder=this.spanRecorder,n.spanRecorder&&n.spanRecorder.add(n);const r=Ag(this);if(n.transaction=r,Oe&&r){const i=t&&t.op||"< unknown op >",s=Vn(n).description||"< unknown name >",o=r.spanContext().spanId,a=`[Tracing] Starting '${i}' span on transaction '${s}' (${o}).`;re.log(a),this._logMessage=a}return n}setTag(t,n){return this.tags={...this.tags,[t]:n},this}setData(t,n){return this.data={...this.data,[t]:n},this}setAttribute(t,n){n===void 0?delete this._attributes[t]:this._attributes[t]=n}setAttributes(t){Object.keys(t).forEach(n=>this.setAttribute(n,t[n]))}setStatus(t){return this._status=t,this}setHttpStatus(t){return Lb(this,t),this}setName(t){this.updateName(t)}updateName(t){return this._name=t,this}isSuccess(){return this._status==="ok"}finish(t){return this.end(t)}end(t){if(this._endTime)return;const n=Ag(this);if(Oe&&n&&n.spanContext().spanId!==this._spanId){const r=this._logMessage;r&&re.log(r.replace("Starting","Finishing"))}this._endTime=Om(t)}toTraceparent(){return jm(this)}toContext(){return ri({data:this._getData(),description:this._name,endTimestamp:this._endTime,op:this.op,parentSpanId:this._parentSpanId,sampled:this._sampled,spanId:this._spanId,startTimestamp:this._startTime,status:this._status,tags:this.tags,traceId:this._traceId})}updateWithContext(t){return this.data=t.data||{},this._name=t.name||t.description,this._endTime=t.endTimestamp,this.op=t.op,this._parentSpanId=t.parentSpanId,this._sampled=t.sampled,this._spanId=t.spanId||this._spanId,this._startTime=t.startTimestamp||this._startTime,this._status=t.status,this.tags=t.tags||{},this._traceId=t.traceId||this._traceId,this}getTraceContext(){return jb(this)}getSpanJSON(){return ri({data:this._getData(),description:this._name,op:this._attributes[Vh],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:this._status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[Xl],_metrics_summary:void 0,profile_id:this._attributes[$8],exclusive_time:this._exclusiveTime,measurements:Object.keys(this._measurements).length>0?this._measurements:void 0})}isRecording(){return!this._endTime&&!!this._sampled}toJSON(){return this.getSpanJSON()}_getData(){const{data:t,_attributes:n}=this,r=Object.keys(t).length>0,i=Object.keys(n).length>0;if(!(!r&&!i))return r&&i?{...t,...n}:r?t:n}}class S5 extends Lm{constructor(t,n){super(t),this._contexts={},this._hub=n||_r(),this._name=t.name||"",this._metadata={...t.metadata},this._trimEnd=t.trimEnd,this.transaction=this;const r=this._metadata.dynamicSamplingContext;r&&(this._frozenDynamicSamplingContext={...r})}get name(){return this._name}set name(t){this.setName(t)}get metadata(){return{source:"custom",spanMetadata:{},...this._metadata,...this._attributes[Xo]&&{source:this._attributes[Xo]},...this._attributes[Jl]&&{sampleRate:this._attributes[Jl]}}}set metadata(t){this._metadata=t}setName(t,n="custom"){this._name=t,this.setAttribute(Xo,n)}updateName(t){return this._name=t,this}initSpanRecorder(t=1e3){this.spanRecorder||(this.spanRecorder=new b5(t)),this.spanRecorder.add(this)}setContext(t,n){n===null?delete this._contexts[t]:this._contexts[t]=n}setMeasurement(t,n,r=""){this._measurements[t]={value:n,unit:r}}setMetadata(t){this._metadata={...this._metadata,...t}}end(t){const n=Om(t),r=this._finishTransaction(n);if(r)return this._hub.captureEvent(r)}toContext(){const t=super.toContext();return ri({...t,name:this._name,trimEnd:this._trimEnd})}updateWithContext(t){return super.updateWithContext(t),this._name=t.name||"",this._trimEnd=t.trimEnd,this}getDynamicSamplingContext(){return zc(this)}setHub(t){this._hub=t}getProfileId(){if(this._contexts!==void 0&&this._contexts.profile!==void 0)return this._contexts.profile.profile_id}_finishTransaction(t){if(this._endTime!==void 0)return;this._name||(Oe&&re.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>"),super.end(t);const n=this._hub.getClient();if(n&&n.emit&&n.emit("finishTransaction",this),this._sampled!==!0){Oe&&re.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),n&&n.recordDroppedEvent("sample_rate","transaction");return}const r=this.spanRecorder?this.spanRecorder.spans.filter(u=>u!==this&&Vn(u).timestamp):[];if(this._trimEnd&&r.length>0){const u=r.map(d=>Vn(d).timestamp).filter(Boolean);this._endTime=u.reduce((d,h)=>d>h?d:h)}const{scope:i,isolationScope:s}=B8(this),{metadata:o}=this,{source:a}=o,l={contexts:{...this._contexts,trace:jb(this)},spans:r,start_timestamp:this._startTime,tags:this.tags,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{...o,capturedSpanScope:i,capturedSpanIsolationScope:s,...ri({dynamicSamplingContext:zc(this)})},_metrics_summary:void 0,...a&&{transaction_info:{source:a}}};return Object.keys(this._measurements).length>0&&(Oe&&re.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),l.measurements=this._measurements),Oe&&re.log(`[Tracing] Finishing ${this.op} transaction: ${this._name}.`),l}}const Pp={idleTimeout:1e3,finalTimeout:3e4,heartbeatInterval:5e3},D8="finishReason",Vl=["heartbeatFailed","idleTimeout","documentHidden","finalTimeout","externalFinish","cancelled"];class F8 extends b5{constructor(t,n,r,i){super(i),this._pushActivity=t,this._popActivity=n,this.transactionSpanId=r}add(t){if(t.spanContext().spanId!==this.transactionSpanId){const n=t.end;t.end=(...r)=>(this._popActivity(t.spanContext().spanId),n.apply(t,r)),Vn(t).timestamp===void 0&&this._pushActivity(t.spanContext().spanId)}super.add(t)}}class z8 extends S5{constructor(t,n,r=Pp.idleTimeout,i=Pp.finalTimeout,s=Pp.heartbeatInterval,o=!1,a=!1){super(t,n),this._idleHub=n,this._idleTimeout=r,this._finalTimeout=i,this._heartbeatInterval=s,this._onScope=o,this.activities={},this._heartbeatCounter=0,this._finished=!1,this._idleTimeoutCanceledPermanently=!1,this._beforeFinishCallbacks=[],this._finishReason=Vl[4],this._autoFinishAllowed=!a,o&&(Oe&&re.log(`Setting idle transaction on scope. Span ID: ${this.spanContext().spanId}`),n.getScope().setSpan(this)),a||this._restartIdleTimeout(),setTimeout(()=>{this._finished||(this.setStatus("deadline_exceeded"),this._finishReason=Vl[3],this.end())},this._finalTimeout)}end(t){const n=Om(t);if(this._finished=!0,this.activities={},this.op==="ui.action.click"&&this.setAttribute(D8,this._finishReason),this.spanRecorder){Oe&&re.log("[Tracing] finishing IdleTransaction",new Date(n*1e3).toISOString(),this.op);for(const r of this._beforeFinishCallbacks)r(this,n);this.spanRecorder.spans=this.spanRecorder.spans.filter(r=>{if(r.spanContext().spanId===this.spanContext().spanId)return!0;Vn(r).timestamp||(r.setStatus("cancelled"),r.end(n),Oe&&re.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(r,void 0,2)));const{start_timestamp:i,timestamp:s}=Vn(r),o=i&&i<n,a=(this._finalTimeout+this._idleTimeout)/1e3,l=s&&i&&s-i<a;if(Oe){const c=JSON.stringify(r,void 0,2);o?l||re.log("[Tracing] discarding Span since it finished after Transaction final timeout",c):re.log("[Tracing] discarding Span since it happened after Transaction was finished",c)}return o&&l}),Oe&&re.log("[Tracing] flushing IdleTransaction")}else Oe&&re.log("[Tracing] No active IdleTransaction");if(this._onScope){const r=this._idleHub.getScope();r.getTransaction()===this&&r.setSpan(void 0)}return super.end(t)}registerBeforeFinishCallback(t){this._beforeFinishCallbacks.push(t)}initSpanRecorder(t){if(!this.spanRecorder){const n=i=>{this._finished||this._pushActivity(i)},r=i=>{this._finished||this._popActivity(i)};this.spanRecorder=new F8(n,r,this.spanContext().spanId,t),Oe&&re.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)}cancelIdleTimeout(t,{restartOnChildSpanChange:n}={restartOnChildSpanChange:!0}){this._idleTimeoutCanceledPermanently=n===!1,this._idleTimeoutID&&(clearTimeout(this._idleTimeoutID),this._idleTimeoutID=void 0,Object.keys(this.activities).length===0&&this._idleTimeoutCanceledPermanently&&(this._finishReason=Vl[5],this.end(t)))}setFinishReason(t){this._finishReason=t}sendAutoFinishSignal(){this._autoFinishAllowed||(Oe&&re.log("[Tracing] Received finish signal for idle transaction."),this._restartIdleTimeout(),this._autoFinishAllowed=!0)}_restartIdleTimeout(t){this.cancelIdleTimeout(),this._idleTimeoutID=setTimeout(()=>{!this._finished&&Object.keys(this.activities).length===0&&(this._finishReason=Vl[1],this.end(t))},this._idleTimeout)}_pushActivity(t){this.cancelIdleTimeout(void 0,{restartOnChildSpanChange:!this._idleTimeoutCanceledPermanently}),Oe&&re.log(`[Tracing] pushActivity: ${t}`),this.activities[t]=!0,Oe&&re.log("[Tracing] new activities count",Object.keys(this.activities).length)}_popActivity(t){if(this.activities[t]&&(Oe&&re.log(`[Tracing] popActivity ${t}`),delete this.activities[t],Oe&&re.log("[Tracing] new activities count",Object.keys(this.activities).length)),Object.keys(this.activities).length===0){const n=nl();this._idleTimeoutCanceledPermanently?this._autoFinishAllowed&&(this._finishReason=Vl[5],this.end(n)):this._restartIdleTimeout(n+this._idleTimeout/1e3)}}_beat(){if(this._finished)return;const t=Object.keys(this.activities).join("");t===this._prevHeartbeatString?this._heartbeatCounter++:this._heartbeatCounter=1,this._prevHeartbeatString=t,this._heartbeatCounter>=3?this._autoFinishAllowed&&(Oe&&re.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this._finishReason=Vl[0],this.end()):this._pingHeartbeat()}_pingHeartbeat(){Oe&&re.log(`pinging Heartbeat -> current counter: ${this._heartbeatCounter}`),setTimeout(()=>{this._beat()},this._heartbeatInterval)}}function x5(e,t,n){if(!uu(t))return e.sampled=!1,e;if(e.sampled!==void 0)return e.setAttribute(Jl,Number(e.sampled)),e;let r;return typeof t.tracesSampler=="function"?(r=t.tracesSampler(n),e.setAttribute(Jl,Number(r))):n.parentSampled!==void 0?r=n.parentSampled:typeof t.tracesSampleRate<"u"?(r=t.tracesSampleRate,e.setAttribute(Jl,Number(r))):(r=1,e.setAttribute(Jl,r)),w5(r)?r?(e.sampled=Math.random()<r,e.sampled?(Oe&&re.log(`[Tracing] starting ${e.op} transaction - ${Vn(e).description}`),e):(Oe&&re.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(r)})`),e)):(Oe&&re.log(`[Tracing] Discarding transaction because ${typeof t.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),e.sampled=!1,e):(Oe&&re.warn("[Tracing] Discarding transaction because of invalid sample rate."),e.sampled=!1,e)}function w5(e){return FP(e)||!(typeof e=="number"||typeof e=="boolean")?(Oe&&re.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`),!1):e<0||e>1?(Oe&&re.warn(`[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${e}.`),!1):!0}function U8(){const t=this.getScope().getSpan();return t?{"sentry-trace":jm(t)}:{}}function H8(e,t){const n=this.getClient(),r=n&&n.getOptions()||{},i=r.instrumenter||"sentry",s=e.instrumenter||"sentry";i!==s&&(Oe&&re.error(`A transaction was started with instrumenter=\`${s}\`, but the SDK is configured with the \`${i}\` instrumenter.
The transaction will not be sampled. Please use the ${i} instrumentation to start transactions.`),e.sampled=!1);let o=new S5(e,this);return o=x5(o,r,{name:e.name,parentSampled:e.parentSampled,transactionContext:e,attributes:{...e.data,...e.attributes},...t}),o.isRecording()&&o.initSpanRecorder(r._experiments&&r._experiments.maxSpans),n&&n.emit&&n.emit("startTransaction",o),o}function E5(e,t,n,r,i,s,o,a=!1){const l=e.getClient(),c=l&&l.getOptions()||{};let u=new z8(t,e,n,r,o,i,a);return u=x5(u,c,{name:t.name,parentSampled:t.parentSampled,transactionContext:t,attributes:{...t.data,...t.attributes},...s}),u.isRecording()&&u.initSpanRecorder(c._experiments&&c._experiments.maxSpans),l&&l.emit&&l.emit("startTransaction",u),u}function G8(){const e=zf();e.__SENTRY__&&(e.__SENTRY__.extensions=e.__SENTRY__.extensions||{},e.__SENTRY__.extensions.startTransaction||(e.__SENTRY__.extensions.startTransaction=H8),e.__SENTRY__.extensions.traceHeaders||(e.__SENTRY__.extensions.traceHeaders=U8),j8())}function q8(e,t,n){const r=xl();r&&r.setMeasurement(e,t,n)}function W8(e,t){return t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]]),e}function K8(e,t,n,r){const i=l5(n),s={sent_at:new Date().toISOString(),...i&&{sdk:i},...!!r&&t&&{dsn:yl(t)}},o="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return bl(s,[o])}function Y8(e,t,n,r){const i=l5(n),s=e.type&&e.type!=="replay_event"?e.type:"event";W8(e,n&&n.sdk);const o=e8(e,i,r,t);return delete e.sdkProcessingMetadata,bl(o,[[{type:s},e]])}const Q8="7";function k5(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function J8(e){return`${k5(e)}${e.projectId}/envelope/`}function X8(e,t){return c6({sentry_key:e.publicKey,sentry_version:Q8,...t&&{sentry_client:`${t.name}/${t.version}`}})}function Z8(e,t={}){const n=typeof t=="string"?t:t.tunnel,r=typeof t=="string"||!t._metadata?void 0:t._metadata.sdk;return n||`${J8(e)}?${X8(e,r)}`}function e7(e,t){const n=qP(e);if(!n)return"";const r=`${k5(n)}embed/error-page/`;let i=`dsn=${yl(n)}`;for(const s in t)if(s!=="dsn"&&s!=="onClose")if(s==="user"){const o=t.user;if(!o)continue;o.name&&(i+=`&name=${encodeURIComponent(o.name)}`),o.email&&(i+=`&email=${encodeURIComponent(o.email)}`)}else i+=`&${encodeURIComponent(s)}=${encodeURIComponent(t[s])}`;return`${r}?${i}`}const G2=[];function t7(e){const t={};return e.forEach(n=>{const{name:r}=n,i=t[r];i&&!i.isDefaultInstance&&n.isDefaultInstance||(t[r]=n)}),Object.keys(t).map(n=>t[n])}function n7(e){const t=e.defaultIntegrations||[],n=e.integrations;t.forEach(o=>{o.isDefaultInstance=!0});let r;Array.isArray(n)?r=[...t,...n]:typeof n=="function"?r=XP(n(t)):r=t;const i=t7(r),s=i7(i,o=>o.name==="Debug");if(s!==-1){const[o]=i.splice(s,1);i.push(o)}return i}function r7(e,t){const n={};return t.forEach(r=>{r&&C5(e,r,n)}),n}function q2(e,t){for(const n of t)n&&n.afterAllSetup&&n.afterAllSetup(e)}function C5(e,t,n){if(n[t.name]){Oe&&re.log(`Integration skipped because it was already installed: ${t.name}`);return}if(n[t.name]=t,G2.indexOf(t.name)===-1&&(t.setupOnce(a8,_r),G2.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),e.on&&typeof t.preprocessEvent=="function"){const r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(i,s)=>r(i,s,e))}if(e.addEventProcessor&&typeof t.processEvent=="function"){const r=t.processEvent.bind(t),i=Object.assign((s,o)=>r(s,o,e),{id:t.name});e.addEventProcessor(i)}Oe&&re.log(`Integration installed: ${t.name}`)}function i7(e,t){for(let n=0;n<e.length;n++)if(t(e[n])===!0)return n;return-1}function pa(e,t){return Object.assign(function(...r){return t(...r)},{id:e})}function s7(e){let t="";for(const n of e){const r=Object.entries(n.tags),i=r.length>0?`|#${r.map(([s,o])=>`${s}:${o}`).join(",")}`:"";t+=`${n.name}@${n.unit}:${n.metric}|${n.metricType}${i}|T${n.timestamp}
`}return t}function o7(e,t,n,r){const i={sent_at:new Date().toISOString()};n&&n.sdk&&(i.sdk={name:n.sdk.name,version:n.sdk.version}),r&&t&&(i.dsn=yl(t));const s=a7(e);return bl(i,[s])}function a7(e){const t=s7(e);return[{type:"statsd",length:t.length},t]}const W2="Not capturing exception because it's already been captured.";class l7{constructor(t){if(this._options=t,this._integrations={},this._integrationsInitialized=!1,this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=qP(t.dsn):Oe&&re.warn("No DSN provided, client will not send events."),this._dsn){const n=Z8(this._dsn,t);this._transport=t.transport({recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:n})}}captureException(t,n,r){if(T2(t)){Oe&&re.log(W2);return}let i=n&&n.event_id;return this._process(this.eventFromException(t,n).then(s=>this._captureEvent(s,n,r)).then(s=>{i=s})),i}captureMessage(t,n,r,i){let s=r&&r.event_id;const o=Eb(t)?t:String(t),a=kb(t)?this.eventFromMessage(o,n,r):this.eventFromException(t,r);return this._process(a.then(l=>this._captureEvent(l,r,i)).then(l=>{s=l})),s}captureEvent(t,n,r){if(n&&n.originalException&&T2(n.originalException)){Oe&&re.log(W2);return}let i=n&&n.event_id;const o=(t.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(t,n,o||r).then(a=>{i=a})),i}captureSession(t){typeof t.release!="string"?Oe&&re.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),rl(t,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const n=this._transport;return n?(this.metricsAggregator&&this.metricsAggregator.flush(),this._isClientDoneProcessing(t).then(r=>n.flush(t).then(i=>r&&i))):Fc(!0)}close(t){return this.flush(t).then(n=>(this.getOptions().enabled=!1,this.metricsAggregator&&this.metricsAggregator.close(),n))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}setupIntegrations(t){(t&&!this._integrationsInitialized||this._isEnabled()&&!this._integrationsInitialized)&&this._setupIntegrations()}init(){this._isEnabled()&&this._setupIntegrations()}getIntegrationById(t){return this.getIntegrationByName(t)}getIntegrationByName(t){return this._integrations[t]}getIntegration(t){try{return this._integrations[t.id]||null}catch{return Oe&&re.warn(`Cannot retrieve integration ${t.id} from the current Client`),null}}addIntegration(t){const n=this._integrations[t.name];C5(this,t,this._integrations),n||q2(this,[t])}sendEvent(t,n={}){this.emit("beforeSendEvent",t,n);let r=Y8(t,this._dsn,this._options._metadata,this._options.tunnel);for(const s of n.attachments||[])r=Y6(r,X6(s,this._options.transportOptions&&this._options.transportOptions.textEncoder));const i=this._sendEnvelope(r);i&&i.then(s=>this.emit("afterSendEvent",t,s),null)}sendSession(t){const n=K8(t,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(n)}recordDroppedEvent(t,n,r){if(this._options.sendClientReports){const i=`${t}:${n}`;Oe&&re.log(`Adding outcome: "${i}"`),this._outcomes[i]=this._outcomes[i]+1||1}}captureAggregateMetrics(t){Oe&&re.log(`Flushing aggregated metrics, number of metrics: ${t.length}`);const n=o7(t,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(n)}on(t,n){this._hooks[t]||(this._hooks[t]=[]),this._hooks[t].push(n)}emit(t,...n){this._hooks[t]&&this._hooks[t].forEach(r=>r(...n))}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=r7(this,t),q2(this,t),this._integrationsInitialized=!0}_updateSessionFromEvent(t,n){let r=!1,i=!1;const s=n.exception&&n.exception.values;if(s){i=!0;for(const l of s){const c=l.mechanism;if(c&&c.handled===!1){r=!0;break}}}const o=t.status==="ok";(o&&t.errors===0||o&&r)&&(rl(t,{...r&&{status:"crashed"},errors:t.errors||Number(i||r)}),this.captureSession(t))}_isClientDoneProcessing(t){return new ei(n=>{let r=0;const i=1,s=setInterval(()=>{this._numProcessing==0?(clearInterval(s),n(!0)):(r+=i,t&&r>=t&&(clearInterval(s),n(!1)))},i)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,n,r,i=Sl()){const s=this.getOptions(),o=Object.keys(this._integrations);return!n.integrations&&o.length>0&&(n.integrations=o),this.emit("preprocessEvent",t,n),d8(s,t,n,r,this,i).then(a=>{if(a===null)return a;const l={...i.getPropagationContext(),...r?r.getPropagationContext():void 0};if(!(a.contexts&&a.contexts.trace)&&l){const{traceId:u,spanId:d,parentSpanId:h,dsc:p}=l;a.contexts={trace:{trace_id:u,span_id:d,parent_span_id:h},...a.contexts};const g=p||Vm(u,this,r);a.sdkProcessingMetadata={dynamicSamplingContext:g,...a.sdkProcessingMetadata}}return a})}_captureEvent(t,n={},r){return this._processEvent(t,n,r).then(i=>i.event_id,i=>{if(Oe){const s=i;s.logLevel==="log"?re.log(s.message):re.warn(s)}})}_processEvent(t,n,r){const i=this.getOptions(),{sampleRate:s}=i,o=I5(t),a=T5(t),l=t.type||"error",c=`before send for type \`${l}\``;if(a&&typeof s=="number"&&Math.random()>s)return this.recordDroppedEvent("sample_rate","error",t),Rb(new Ms(`Discarding event because it's not included in the random sample (sampling rate = ${s})`,"log"));const u=l==="replay_event"?"replay":l,h=(t.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(t,n,r,h).then(p=>{if(p===null)throw this.recordDroppedEvent("event_processor",u,t),new Ms("An event processor returned `null`, will not send event.","log");if(n.data&&n.data.__sentry__===!0)return p;const m=u7(i,p,n);return c7(m,c)}).then(p=>{if(p===null)throw this.recordDroppedEvent("before_send",u,t),new Ms(`${c} returned \`null\`, will not send event.`,"log");const g=r&&r.getSession();!o&&g&&this._updateSessionFromEvent(g,p);const m=p.transaction_info;if(o&&m&&p.transaction!==t.transaction){const _="custom";p.transaction_info={...m,source:_}}return this.sendEvent(p,n),p}).then(null,p=>{throw p instanceof Ms?p:(this.captureException(p,{data:{__sentry__:!0},originalException:p}),new Ms(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${p}`))})}_process(t){this._numProcessing++,t.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_sendEnvelope(t){if(this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport)return this._transport.send(t).then(null,n=>{Oe&&re.error("Error while sending event:",n)});Oe&&re.error("Transport disabled")}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.keys(t).map(n=>{const[r,i]=n.split(":");return{reason:r,category:i,quantity:t[n]}})}}function c7(e,t){const n=`${t} must return \`null\` or a valid event.`;if(Rm(e))return e.then(r=>{if(!$c(r)&&r!==null)throw new Ms(n);return r},r=>{throw new Ms(`${t} rejected with ${r}`)});if(!$c(e)&&e!==null)throw new Ms(n);return e}function u7(e,t,n){const{beforeSend:r,beforeSendTransaction:i}=e;return T5(t)&&r?r(t,n):I5(t)&&i?i(t,n):t}function T5(e){return e.type===void 0}function I5(e){return e.type==="transaction"}function d7(e,t){t.debug===!0&&(Oe?re.enable():Mm(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),Ys().update(t.initialScope);const r=new e(t);f7(r),h7(r)}function f7(e){const n=_r().getStackTop();n.client=e,n.scope.setClient(e)}function h7(e){e.init?e.init():e.setupIntegrations&&e.setupIntegrations()}const p7=30;function R5(e,t,n=B6(e.bufferSize||p7)){let r={};const i=o=>n.drain(o);function s(o){const a=[];if(j2(o,(d,h)=>{const p=O2(h);if(s8(r,p)){const g=K2(d,h);e.recordDroppedEvent("ratelimit_backoff",p,g)}else a.push(d)}),a.length===0)return Fc();const l=bl(o[0],a),c=d=>{j2(l,(h,p)=>{const g=K2(h,p);e.recordDroppedEvent(d,O2(p),g)})},u=()=>t({body:Q6(l,e.textEncoder)}).then(d=>(d.statusCode!==void 0&&(d.statusCode<200||d.statusCode>=300)&&Oe&&re.warn(`Sentry responded with status code ${d.statusCode} to sent event.`),r=o8(r,d),d),d=>{throw c("network_error"),d});return n.add(u).then(d=>d,d=>{if(d instanceof Ms)return Oe&&re.error("Skipped sending event because buffer is full."),c("queue_overflow"),Fc();throw d})}return s.__sentry__baseTransport__=!0,{send:s,flush:i}}function K2(e,t){if(!(t!=="event"&&t!=="transaction"))return Array.isArray(e)?e[1]:void 0}function g7(e,t){const n={sent_at:new Date().toISOString()};t&&(n.dsn=yl(t));const r=e.map(m7);return bl(n,r)}function m7(e){return[{type:"span"},e]}function M5(e,t,n=[t],r="npm"){const i=e._metadata||{};i.sdk||(i.sdk={name:`sentry.javascript.${t}`,packages:n.map(s=>({name:`${r}:@sentry/${s}`,version:GA})),version:GA}),e._metadata=i}const v7=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/],y7=[/^.*\/healthcheck$/,/^.*\/healthy$/,/^.*\/live$/,/^.*\/ready$/,/^.*\/heartbeat$/,/^.*\/health$/,/^.*\/healthz$/],P5="InboundFilters",A7=(e={})=>({name:P5,setupOnce(){},processEvent(t,n,r){const i=r.getOptions(),s=_7(e,i);return b7(t,s)?null:t}}),j5=A7;pa(P5,j5);function _7(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:v7],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[],...e.disableTransactionDefaults?[]:y7],ignoreInternal:e.ignoreInternal!==void 0?e.ignoreInternal:!0}}function b7(e,t){return t.ignoreInternal&&C7(e)?(Oe&&re.warn(`Event dropped due to being internal Sentry Error.
Event: ${$o(e)}`),!0):S7(e,t.ignoreErrors)?(Oe&&re.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${$o(e)}`),!0):x7(e,t.ignoreTransactions)?(Oe&&re.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${$o(e)}`),!0):w7(e,t.denyUrls)?(Oe&&re.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${$o(e)}.
Url: ${_g(e)}`),!0):E7(e,t.allowUrls)?!1:(Oe&&re.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${$o(e)}.
Url: ${_g(e)}`),!0)}function S7(e,t){return e.type||!t||!t.length?!1:k7(e).some(n=>Df(n,t))}function x7(e,t){if(e.type!=="transaction"||!t||!t.length)return!1;const n=e.transaction;return n?Df(n,t):!1}function w7(e,t){if(!t||!t.length)return!1;const n=_g(e);return n?Df(n,t):!1}function E7(e,t){if(!t||!t.length)return!0;const n=_g(e);return n?Df(n,t):!0}function k7(e){const t=[];e.message&&t.push(e.message);let n;try{n=e.exception.values[e.exception.values.length-1]}catch{}return n&&n.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`)),Oe&&t.length===0&&re.error(`Could not extract message for event ${$o(e)}`),t}function C7(e){try{return e.exception.values[0].type==="SentryError"}catch{}return!1}function T7(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function _g(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch{}return t?T7(t):null}catch{return Oe&&re.error(`Cannot extract url for event ${$o(e)}`),null}}let Y2;const O5="FunctionToString",Q2=new WeakMap,I7=()=>({name:O5,setupOnce(){Y2=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=Tb(this),n=Q2.has(Ln())&&t!==void 0?t:this;return Y2.apply(n,e)}}catch{}},setup(e){Q2.set(e,!0)}}),V5=I7;pa(O5,V5);const Jt=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Ge=vt;function R7(){Ge.document?Ge.document.addEventListener("visibilitychange",()=>{const e=xl();if(Ge.document.hidden&&e){const t="cancelled",{op:n,status:r}=Vn(e);Jt&&re.log(`[Tracing] Transaction: ${t} -> since tab moved to the background, op: ${n}`),r||e.setStatus(t),e.setTag("visibilitychange","document.hidden"),e.end()}}):Jt&&re.warn("[Tracing] Could not set up background tab detection due to lack of global document")}const Uf=(e,t,n)=>{let r,i;return s=>{t.value>=0&&(s||n)&&(i=t.value-(r||0),(i||r===void 0)&&(r=t.value,t.delta=i,e(t)))}},M7=()=>`v3-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,P7=()=>{const e=Ge.performance.timing,t=Ge.performance.navigation.type,n={entryType:"navigation",startTime:0,type:t==2?"back_forward":t===1?"reload":"navigate"};for(const r in e)r!=="navigationStart"&&r!=="toJSON"&&(n[r]=Math.max(e[r]-e.navigationStart,0));return n},Nm=()=>Ge.__WEB_VITALS_POLYFILL__?Ge.performance&&(performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]||P7()):Ge.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0],Bb=()=>{const e=Nm();return e&&e.activationStart||0},Hf=(e,t)=>{const n=Nm();let r="navigate";return n&&(Ge.document&&Ge.document.prerendering||Bb()>0?r="prerender":r=n.type.replace(/_/g,"-")),{name:e,value:typeof t>"u"?-1:t,rating:"good",delta:0,entries:[],id:M7(),navigationType:r}},du=(e,t,n)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const r=new PerformanceObserver(i=>{t(i.getEntries())});return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch{}},Gf=(e,t)=>{const n=r=>{(r.type==="pagehide"||Ge.document.visibilityState==="hidden")&&(e(r),t&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))};Ge.document&&(addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0))},j7=e=>{const t=Hf("CLS",0);let n,r=0,i=[];const s=a=>{a.forEach(l=>{if(!l.hadRecentInput){const c=i[0],u=i[i.length-1];r&&i.length!==0&&l.startTime-u.startTime<1e3&&l.startTime-c.startTime<5e3?(r+=l.value,i.push(l)):(r=l.value,i=[l]),r>t.value&&(t.value=r,t.entries=i,n&&n())}})},o=du("layout-shift",s);if(o){n=Uf(e,t);const a=()=>{s(o.takeRecords()),n(!0)};return Gf(a),a}};let bg=-1;const O7=()=>{Ge.document&&Ge.document.visibilityState&&(bg=Ge.document.visibilityState==="hidden"&&!Ge.document.prerendering?0:1/0)},V7=()=>{Gf(({timeStamp:e})=>{bg=e},!0)},$b=()=>(bg<0&&(O7(),V7()),{get firstHiddenTime(){return bg}}),L7=e=>{const t=$b(),n=Hf("FID");let r;const i=a=>{a.startTime<t.firstHiddenTime&&(n.value=a.processingStart-a.startTime,n.entries.push(a),r(!0))},s=a=>{a.forEach(i)},o=du("first-input",s);r=Uf(e,n),o&&Gf(()=>{s(o.takeRecords()),o.disconnect()},!0)};let L5=0,Vv=1/0,Lh=0;const N7=e=>{e.forEach(t=>{t.interactionId&&(Vv=Math.min(Vv,t.interactionId),Lh=Math.max(Lh,t.interactionId),L5=Lh?(Lh-Vv)/7+1:0)})};let KA;const B7=()=>KA?L5:performance.interactionCount||0,$7=()=>{"interactionCount"in performance||KA||(KA=du("event",N7,{type:"event",buffered:!0,durationThreshold:0}))},N5=()=>B7(),J2=10,no=[],Lv={},X2=e=>{const t=no[no.length-1],n=Lv[e.interactionId];if(n||no.length<J2||e.duration>t.latency){if(n)n.entries.push(e),n.latency=Math.max(n.latency,e.duration);else{const r={id:e.interactionId,latency:e.duration,entries:[e]};Lv[r.id]=r,no.push(r)}no.sort((r,i)=>i.latency-r.latency),no.splice(J2).forEach(r=>{delete Lv[r.id]})}},D7=()=>{const e=Math.min(no.length-1,Math.floor(N5()/50));return no[e]},F7=(e,t)=>{t=t||{},$7();const n=Hf("INP");let r;const i=o=>{o.forEach(l=>{l.interactionId&&X2(l),l.entryType==="first-input"&&!no.some(u=>u.entries.some(d=>l.duration===d.duration&&l.startTime===d.startTime))&&X2(l)});const a=D7();a&&a.latency!==n.value&&(n.value=a.latency,n.entries=a.entries,r())},s=du("event",i,{durationThreshold:t.durationThreshold||40});r=Uf(e,n,t.reportAllChanges),s&&(s.observe({type:"first-input",buffered:!0}),Gf(()=>{i(s.takeRecords()),n.value<0&&N5()>0&&(n.value=0,n.entries=[]),r(!0)}))},Z2={},z7=e=>{const t=$b(),n=Hf("LCP");let r;const i=o=>{const a=o[o.length-1];if(a){const l=Math.max(a.startTime-Bb(),0);l<t.firstHiddenTime&&(n.value=l,n.entries=[a],r())}},s=du("largest-contentful-paint",i);if(s){r=Uf(e,n);const o=()=>{Z2[n.id]||(i(s.takeRecords()),s.disconnect(),Z2[n.id]=!0,r(!0))};return["keydown","click"].forEach(a=>{Ge.document&&addEventListener(a,o,{once:!0,capture:!0})}),Gf(o,!0),o}},YA=e=>{Ge.document&&(Ge.document.prerendering?addEventListener("prerenderingchange",()=>YA(e),!0):Ge.document.readyState!=="complete"?addEventListener("load",()=>YA(e),!0):setTimeout(e,0))},U7=(e,t)=>{t=t||{};const n=Hf("TTFB"),r=Uf(e,n,t.reportAllChanges);YA(()=>{const i=Nm();if(i){if(n.value=Math.max(i.responseStart-Bb(),0),n.value<0||n.value>performance.now())return;n.entries=[i],r(!0)}})},Sd={},Sg={};let B5,$5,D5,F5,z5;function H7(e,t=!1){return qf("cls",e,Y7,B5,t)}function G7(e,t=!1){return qf("lcp",e,J7,D5,t)}function q7(e){return qf("ttfb",e,X7,F5)}function W7(e){return qf("fid",e,Q7,$5)}function K7(e){return qf("inp",e,Z7,z5)}function Xd(e,t){return U5(e,t),Sg[e]||(ez(e),Sg[e]=!0),H5(e,t)}function fu(e,t){const n=Sd[e];if(!(!n||!n.length))for(const r of n)try{r(t)}catch(i){Jt&&re.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${po(r)}
Error:`,i)}}function Y7(){return j7(e=>{fu("cls",{metric:e}),B5=e})}function Q7(){return L7(e=>{fu("fid",{metric:e}),$5=e})}function J7(){return z7(e=>{fu("lcp",{metric:e}),D5=e})}function X7(){return U7(e=>{fu("ttfb",{metric:e}),F5=e})}function Z7(){return F7(e=>{fu("inp",{metric:e}),z5=e})}function qf(e,t,n,r,i=!1){U5(e,t);let s;return Sg[e]||(s=n(),Sg[e]=!0),r&&t({metric:r}),H5(e,t,i?s:void 0)}function ez(e){const t={};e==="event"&&(t.durationThreshold=0),du(e,n=>{fu(e,{entries:n})},t)}function U5(e,t){Sd[e]=Sd[e]||[],Sd[e].push(t)}function H5(e,t,n){return()=>{n&&n();const r=Sd[e];if(!r)return;const i=r.indexOf(t);i!==-1&&r.splice(i,1)}}function Nv(e){return typeof e=="number"&&isFinite(e)}function Uc(e,{startTimestamp:t,...n}){return t&&e.startTimestamp>t&&(e.startTimestamp=t),e.startChild({startTimestamp:t,...n})}const tz=2147483647;function Dn(e){return e/1e3}function Db(){return Ge&&Ge.addEventListener&&Ge.performance}let ek=0,un={},Es,xd;function nz(){const e=Db();if(e&&Bi){e.mark&&Ge.performance.mark("sentry-tracing-init");const t=lz(),n=oz(),r=az(),i=cz();return()=>{t(),n(),r(),i()}}return()=>{}}function rz(){Xd("longtask",({entries:e})=>{for(const t of e){const n=xl();if(!n)return;const r=Dn(Bi+t.startTime),i=Dn(t.duration);n.startChild({description:"Main UI thread blocked",op:"ui.long-task",origin:"auto.ui.browser.metrics",startTimestamp:r,endTimestamp:r+i})}})}function iz(){Xd("event",({entries:e})=>{for(const t of e){const n=xl();if(!n)return;if(t.name==="click"){const r=Dn(Bi+t.startTime),i=Dn(t.duration),s={description:Dc(t.target),op:`ui.interaction.${t.name}`,origin:"auto.ui.browser.metrics",startTimestamp:r,endTimestamp:r+i},o=HP(t.target);o&&(s.attributes={"ui.component_name":o}),n.startChild(s)}}})}function sz(e,t){if(Db()&&Bi){const r=uz(e,t);return()=>{r()}}return()=>{}}function oz(){return H7(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(Jt&&re.log("[Measurements] Adding CLS"),un.cls={value:e.value,unit:""},xd=t)},!0)}function az(){return G7(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(Jt&&re.log("[Measurements] Adding LCP"),un.lcp={value:e.value,unit:"millisecond"},Es=t)},!0)}function lz(){return W7(({metric:e})=>{const t=e.entries[e.entries.length-1];if(!t)return;const n=Dn(Bi),r=Dn(t.startTime);Jt&&re.log("[Measurements] Adding FID"),un.fid={value:e.value,unit:"millisecond"},un["mark.fid"]={value:n+r,unit:"second"}})}function cz(){return q7(({metric:e})=>{e.entries[e.entries.length-1]&&(Jt&&re.log("[Measurements] Adding TTFB"),un.ttfb={value:e.value,unit:"millisecond"})})}const tk={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function uz(e,t){return K7(({metric:n})=>{if(n.value===void 0)return;const r=n.entries.find(b=>b.duration===n.value&&tk[b.name]!==void 0),i=Ln();if(!r||!i)return;const s=tk[r.name],o=i.getOptions(),a=Dn(Bi+r.startTime),l=Dn(n.value),c=r.interactionId!==void 0?e[r.interactionId]:void 0;if(c===void 0)return;const{routeName:u,parentContext:d,activeTransaction:h,user:p,replayId:g}=c,m=p!==void 0?p.email||p.id||p.ip_address:void 0,_=h!==void 0?h.getProfileId():void 0,v=new Lm({startTimestamp:a,endTimestamp:a+l,op:`ui.interaction.${s}`,name:Dc(r.target),attributes:{release:o.release,environment:o.environment,transaction:u,...m!==void 0&&m!==""?{user:m}:{},..._!==void 0?{profile_id:_}:{},...g!==void 0?{replay_id:g}:{}},exclusiveTime:n.value,measurements:{inp:{value:n.value,unit:"millisecond"}}}),y=Az(d,o,t);if(y&&Math.random()<y){const b=v?g7([v],i.getDsn()):void 0,x=i&&i.getTransport();x&&b&&x.send(b).then(null,S=>{Jt&&re.error("Error while sending interaction:",S)});return}})}function dz(e){const t=Db();if(!t||!Ge.performance.getEntries||!Bi)return;Jt&&re.log("[Tracing] Adding & adjusting spans using Performance API");const n=Dn(Bi),r=t.getEntries(),{op:i,start_timestamp:s}=Vn(e);if(r.slice(ek).forEach(o=>{const a=Dn(o.startTime),l=Dn(o.duration);if(!(e.op==="navigation"&&s&&n+a<s))switch(o.entryType){case"navigation":{hz(e,o,n);break}case"mark":case"paint":case"measure":{fz(e,o,a,l,n);const c=$b(),u=o.startTime<c.firstHiddenTime;o.name==="first-paint"&&u&&(Jt&&re.log("[Measurements] Adding FP"),un.fp={value:o.startTime,unit:"millisecond"}),o.name==="first-contentful-paint"&&u&&(Jt&&re.log("[Measurements] Adding FCP"),un.fcp={value:o.startTime,unit:"millisecond"});break}case"resource":{gz(e,o,o.name,a,l,n);break}}}),ek=Math.max(r.length-1,0),mz(e),i==="pageload"){yz(un),["fcp","fp","lcp"].forEach(a=>{if(!un[a]||!s||n>=s)return;const l=un[a].value,c=n+Dn(l),u=Math.abs((c-s)*1e3),d=u-l;Jt&&re.log(`[Measurements] Normalized ${a} from ${l} to ${u} (${d})`),un[a].value=u});const o=un["mark.fid"];o&&un.fid&&(Uc(e,{description:"first input delay",endTimestamp:o.value+Dn(un.fid.value),op:"ui.action",origin:"auto.ui.browser.metrics",startTimestamp:o.value}),delete un["mark.fid"]),"fcp"in un||delete un.cls,Object.keys(un).forEach(a=>{q8(a,un[a].value,un[a].unit)}),vz(e)}Es=void 0,xd=void 0,un={}}function fz(e,t,n,r,i){const s=i+n,o=s+r;return Uc(e,{description:t.name,endTimestamp:o,op:t.entryType,origin:"auto.resource.browser.metrics",startTimestamp:s}),s}function hz(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(r=>{Nh(e,t,r,n)}),Nh(e,t,"secureConnection",n,"TLS/SSL","connectEnd"),Nh(e,t,"fetch",n,"cache","domainLookupStart"),Nh(e,t,"domainLookup",n,"DNS"),pz(e,t,n)}function Nh(e,t,n,r,i,s){const o=s?t[s]:t[`${n}End`],a=t[`${n}Start`];!a||!o||Uc(e,{op:"browser",origin:"auto.browser.browser.metrics",description:i||n,startTimestamp:r+Dn(a),endTimestamp:r+Dn(o)})}function pz(e,t,n){t.responseEnd&&(Uc(e,{op:"browser",origin:"auto.browser.browser.metrics",description:"request",startTimestamp:n+Dn(t.requestStart),endTimestamp:n+Dn(t.responseEnd)}),Uc(e,{op:"browser",origin:"auto.browser.browser.metrics",description:"response",startTimestamp:n+Dn(t.responseStart),endTimestamp:n+Dn(t.responseEnd)}))}function gz(e,t,n,r,i,s){if(t.initiatorType==="xmlhttprequest"||t.initiatorType==="fetch")return;const o=Wa(n),a={};Bv(a,t,"transferSize","http.response_transfer_size"),Bv(a,t,"encodedBodySize","http.response_content_length"),Bv(a,t,"decodedBodySize","http.decoded_response_content_length"),"renderBlockingStatus"in t&&(a["resource.render_blocking_status"]=t.renderBlockingStatus),o.protocol&&(a["url.scheme"]=o.protocol.split(":").pop()),o.host&&(a["server.address"]=o.host),a["url.same_origin"]=n.includes(Ge.location.origin);const l=s+r,c=l+i;Uc(e,{description:n.replace(Ge.location.origin,""),endTimestamp:c,op:t.initiatorType?`resource.${t.initiatorType}`:"resource.other",origin:"auto.resource.browser.metrics",startTimestamp:l,data:a})}function mz(e){const t=Ge.navigator;if(!t)return;const n=t.connection;n&&(n.effectiveType&&e.setTag("effectiveConnectionType",n.effectiveType),n.type&&e.setTag("connectionType",n.type),Nv(n.rtt)&&(un["connection.rtt"]={value:n.rtt,unit:"millisecond"})),Nv(t.deviceMemory)&&e.setTag("deviceMemory",`${t.deviceMemory} GB`),Nv(t.hardwareConcurrency)&&e.setTag("hardwareConcurrency",String(t.hardwareConcurrency))}function vz(e){Es&&(Jt&&re.log("[Measurements] Adding LCP Data"),Es.element&&e.setTag("lcp.element",Dc(Es.element)),Es.id&&e.setTag("lcp.id",Es.id),Es.url&&e.setTag("lcp.url",Es.url.trim().slice(0,200)),e.setTag("lcp.size",Es.size)),xd&&xd.sources&&(Jt&&re.log("[Measurements] Adding CLS Data"),xd.sources.forEach((t,n)=>e.setTag(`cls.source.${n+1}`,Dc(t.node))))}function Bv(e,t,n,r){const i=t[n];i!=null&&i<tz&&(e[r]=i)}function yz(e){const t=Nm();if(!t)return;const{responseStart:n,requestStart:r}=t;r<=n&&(Jt&&re.log("[Measurements] Adding TTFB Request Time"),e["ttfb.requestTime"]={value:n-r,unit:"millisecond"})}function Az(e,t,n){if(!uu(t))return!1;let r;return e!==void 0&&typeof t.tracesSampler=="function"?r=t.tracesSampler({transactionContext:e,name:e.name,parentSampled:e.parentSampled,attributes:{...e.data,...e.attributes},location:Ge.location}):e!==void 0&&e.sampled!==void 0?r=e.sampled:typeof t.tracesSampleRate<"u"?r=t.tracesSampleRate:r=1,w5(r)?r===!0?n:r===!1?0:r*n:(Jt&&re.warn("[Tracing] Discarding interaction span because of invalid sample rate."),!1)}function _z(e,t,n,r,i="auto.http.browser"){if(!uu()||!e.fetchData)return;const s=t(e.fetchData.url);if(e.endTimestamp&&s){const p=e.fetchData.__span;if(!p)return;const g=r[p];g&&(xz(g,e),delete r[p]);return}const o=Ys(),a=Ln(),{method:l,url:c}=e.fetchData,u=Sz(c),d=u?Wa(u).host:void 0,h=s?bd({name:`${l} ${c}`,onlyIfParent:!0,attributes:{url:c,type:"fetch","http.method":l,"http.url":u,"server.address":d,[Xl]:i},op:"http.client"}):void 0;if(h&&(e.fetchData.__span=h.spanContext().spanId,r[h.spanContext().spanId]=h),n(e.fetchData.url)&&a){const p=e.args[0];e.args[1]=e.args[1]||{};const g=e.args[1];g.headers=bz(p,a,o,g,h)}return h}function bz(e,t,n,r,i){const s=i||n.getSpan(),o=Sl(),{traceId:a,spanId:l,sampled:c,dsc:u}={...o.getPropagationContext(),...n.getPropagationContext()},d=s?jm(s):Mb(a,l,c),h=a5(u||(s?zc(s):Vm(a,t,n))),p=r.headers||(typeof Request<"u"&&ho(e,Request)?e.headers:void 0);if(p)if(typeof Headers<"u"&&ho(p,Headers)){const g=new Headers(p);return g.append("sentry-trace",d),h&&g.append(UA,h),g}else if(Array.isArray(p)){const g=[...p,["sentry-trace",d]];return h&&g.push([UA,h]),g}else{const g="baggage"in p?p.baggage:void 0,m=[];return Array.isArray(g)?m.push(...g):g&&m.push(g),h&&m.push(h),{...p,"sentry-trace":d,baggage:m.length>0?m.join(","):void 0}}else return{"sentry-trace":d,baggage:h}}function Sz(e){try{return new URL(e).href}catch{return}}function xz(e,t){if(t.response){Lb(e,t.response.status);const n=t.response&&t.response.headers&&t.response.headers.get("content-length");if(n){const r=parseInt(n);r>0&&e.setAttribute("http.response_content_length",r)}}else t.error&&e.setStatus("internal_error");e.end()}const QA=["localhost",/^\/(?!\/)/],JA={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,tracingOrigins:QA,tracePropagationTargets:QA};function wz(e){const{traceFetch:t,traceXHR:n,tracePropagationTargets:r,tracingOrigins:i,shouldCreateSpanForRequest:s,enableHTTPTimings:o}={traceFetch:JA.traceFetch,traceXHR:JA.traceXHR,...e},a=typeof s=="function"?s:u=>!0,l=u=>Tz(u,r||i),c={};t&&e5(u=>{const d=_z(u,a,l,c);if(d){const h=G5(u.fetchData.url),p=h?Wa(h).host:void 0;d.setAttributes({"http.url":h,"server.address":p})}o&&d&&nk(d)}),n&&r5(u=>{const d=Iz(u,a,l,c);o&&d&&nk(d)})}function Ez(e){return e.entryType==="resource"&&"initiatorType"in e&&typeof e.nextHopProtocol=="string"&&(e.initiatorType==="fetch"||e.initiatorType==="xmlhttprequest")}function nk(e){const{url:t}=Vn(e).data||{};if(!t||typeof t!="string")return;const n=Xd("resource",({entries:r})=>{r.forEach(i=>{Ez(i)&&i.name.endsWith(t)&&(Cz(i).forEach(o=>e.setAttribute(...o)),setTimeout(n))})})}function kz(e){let t="unknown",n="unknown",r="";for(const i of e){if(i==="/"){[t,n]=e.split("/");break}if(!isNaN(Number(i))){t=r==="h"?"http":r,n=e.split(r)[1];break}r+=i}return r===e&&(t=r),{name:t,version:n}}function bs(e=0){return((Bi||performance.timeOrigin)+e)/1e3}function Cz(e){const{name:t,version:n}=kz(e.nextHopProtocol),r=[];return r.push(["network.protocol.version",n],["network.protocol.name",t]),Bi?[...r,["http.request.redirect_start",bs(e.redirectStart)],["http.request.fetch_start",bs(e.fetchStart)],["http.request.domain_lookup_start",bs(e.domainLookupStart)],["http.request.domain_lookup_end",bs(e.domainLookupEnd)],["http.request.connect_start",bs(e.connectStart)],["http.request.secure_connection_start",bs(e.secureConnectionStart)],["http.request.connection_end",bs(e.connectEnd)],["http.request.request_start",bs(e.requestStart)],["http.request.response_start",bs(e.responseStart)],["http.request.response_end",bs(e.responseEnd)]]:r}function Tz(e,t){return Df(e,t||QA)}function Iz(e,t,n,r){const i=e.xhr,s=i&&i[Ql];if(!uu()||!i||i.__sentry_own_request__||!s)return;const o=t(s.url);if(e.endTimestamp&&o){const p=i.__sentry_xhr_span_id__;if(!p)return;const g=r[p];g&&s.status_code!==void 0&&(Lb(g,s.status_code),g.end(),delete r[p]);return}const a=Ys(),l=Sl(),c=G5(s.url),u=c?Wa(c).host:void 0,d=o?bd({name:`${s.method} ${s.url}`,onlyIfParent:!0,attributes:{type:"xhr","http.method":s.method,"http.url":c,url:s.url,"server.address":u,[Xl]:"auto.http.browser"},op:"http.client"}):void 0;d&&(i.__sentry_xhr_span_id__=d.spanContext().spanId,r[i.__sentry_xhr_span_id__]=d);const h=Ln();if(i.setRequestHeader&&n(s.url)&&h){const{traceId:p,spanId:g,sampled:m,dsc:_}={...l.getPropagationContext(),...a.getPropagationContext()},v=d?jm(d):Mb(p,g,m),y=a5(_||(d?zc(d):Vm(p,h,a)));Rz(i,v,y)}return d}function Rz(e,t,n){try{e.setRequestHeader("sentry-trace",t),n&&e.setRequestHeader(UA,n)}catch{}}function G5(e){try{return new URL(e,Ge.location.origin).href}catch{return}}const Mz="BrowserTracing",Pz={...Pp,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableInp:!1,interactionsSampleRate:1,_experiments:{},...JA},jz=(e={})=>{const t=Jt?!!(e.tracePropagationTargets||e.tracingOrigins):!1;G8(),!e.tracePropagationTargets&&e.tracingOrigins&&(e.tracePropagationTargets=e.tracingOrigins);const n={...Pz,...e},r=nz(),i={};n.enableInp&&sz(i,n.interactionsSampleRate),n.enableLongTask&&rz(),n._experiments.enableInteractions&&iz();const s={name:void 0,context:void 0};function o(a){const l=_r(),{beforeStartSpan:c,idleTimeout:u,finalTimeout:d,heartbeatInterval:h}=n,p=a.op==="pageload";let g;if(p){const y=p?rk("sentry-trace"):"",b=p?rk("baggage"):void 0,{traceId:x,dsc:S,parentSpanId:w,sampled:E}=K6(y,b);g={traceId:x,parentSpanId:w,parentSampled:E,...a,metadata:{...a.metadata,dynamicSamplingContext:S},trimEnd:!0}}else g={trimEnd:!0,...a};const m=c?c(g):g;m.metadata=m.name!==g.name?{...m.metadata,source:"custom"}:m.metadata,s.name=m.name,s.context=m,m.sampled===!1&&Jt&&re.log(`[Tracing] Will not send ${m.op} transaction because of beforeNavigate.`),Jt&&re.log(`[Tracing] Starting ${m.op} transaction on scope`);const{location:_}=Ge,v=E5(l,m,u,d,!0,{location:_},h,p);return p&&Ge.document&&(Ge.document.addEventListener("readystatechange",()=>{["interactive","complete"].includes(Ge.document.readyState)&&v.sendAutoFinishSignal()}),["interactive","complete"].includes(Ge.document.readyState)&&v.sendAutoFinishSignal()),v.registerBeforeFinishCallback(y=>{r(),dz(y)}),v}return{name:Mz,setupOnce:()=>{},afterAllSetup(a){const l=a.getOptions(),{markBackgroundSpan:c,traceFetch:u,traceXHR:d,shouldCreateSpanForRequest:h,enableHTTPTimings:p,_experiments:g}=n,m=l&&l.tracePropagationTargets,_=m||n.tracePropagationTargets;Jt&&t&&m&&re.warn("[Tracing] The `tracePropagationTargets` option was set in the BrowserTracing integration and top level `Sentry.init`. The top level `Sentry.init` value is being used.");let v,y=Ge.location&&Ge.location.href;if(a.on&&(a.on("startNavigationSpan",b=>{v&&(Jt&&re.log(`[Tracing] Finishing current transaction with op: ${Vn(v).op}`),v.end()),v=o({op:"navigation",...b})}),a.on("startPageLoadSpan",b=>{v&&(Jt&&re.log(`[Tracing] Finishing current transaction with op: ${Vn(v).op}`),v.end()),v=o({op:"pageload",...b})})),n.instrumentPageLoad&&a.emit&&Ge.location){const b={name:Ge.location.pathname,startTimestamp:Bi?Bi/1e3:void 0,origin:"auto.pageload.browser",attributes:{[Xo]:"url"}};Oz(a,b)}n.instrumentNavigation&&a.emit&&Ge.location&&Ib(({to:b,from:x})=>{if(x===void 0&&y&&y.indexOf(b)!==-1){y=void 0;return}if(x!==b){y=void 0;const S={name:Ge.location.pathname,origin:"auto.navigation.browser",attributes:{[Xo]:"url"}};Vz(a,S)}}),c&&R7(),g.enableInteractions&&Lz(n,s),n.enableInp&&Bz(i,s),wz({traceFetch:u,traceXHR:d,tracePropagationTargets:_,shouldCreateSpanForRequest:h,enableHTTPTimings:p})},options:n}};function Oz(e,t){if(!e.emit)return;e.emit("startPageLoadSpan",t);const n=Nb();return(n&&Vn(n).op)==="pageload"?n:void 0}function Vz(e,t){if(!e.emit)return;e.emit("startNavigationSpan",t);const n=Nb();return(n&&Vn(n).op)==="navigation"?n:void 0}function rk(e){const t=n6(`meta[name=${e}]`);return t?t.getAttribute("content"):void 0}function Lz(e,t){let n;const r=()=>{const{idleTimeout:i,finalTimeout:s,heartbeatInterval:o}=e,a="ui.action.click",l=xl();if(l&&l.op&&["navigation","pageload"].includes(l.op)){Jt&&re.warn(`[Tracing] Did not create ${a} transaction because a pageload or navigation transaction is in progress.`);return}if(n&&(n.setFinishReason("interactionInterrupted"),n.end(),n=void 0),!t.name){Jt&&re.warn(`[Tracing] Did not create ${a} transaction because _latestRouteName is missing.`);return}const{location:c}=Ge,u={name:t.name,op:a,trimEnd:!0,data:{[Xo]:t.context?$z(t.context):"url"}};n=E5(_r(),u,i,s,!0,{location:c},o)};["click"].forEach(i=>{Ge.document&&addEventListener(i,r,{once:!1,capture:!0})})}function Nz(e){return"duration"in e}const ik=10;function Bz(e,t){const n=({entries:r})=>{const i=Ln(),s=i!==void 0&&i.getIntegrationByName!==void 0?i.getIntegrationByName("Replay"):void 0,o=s!==void 0?s.getReplayId():void 0,a=xl(),l=Ys(),c=l!==void 0?l.getUser():void 0;r.forEach(u=>{if(Nz(u)){const d=u.interactionId;if(d===void 0)return;const h=e[d],p=u.duration,g=u.startTime,m=Object.keys(e),_=m.length>0?m.reduce((v,y)=>e[v].duration<e[y].duration?v:y):void 0;if(u.entryType==="first-input"&&m.map(y=>e[y]).some(y=>y.duration===p&&y.startTime===g)||!d)return;if(h)h.duration=Math.max(h.duration,p);else if(m.length<ik||_===void 0||p>e[_].duration){const v=t.name,y=t.context;v&&y&&(_&&Object.keys(e).length>=ik&&delete e[_],e[d]={routeName:v,duration:p,parentContext:y,user:c,activeTransaction:a,replayId:o,startTime:g})}}})};Xd("event",n),Xd("first-input",n)}function $z(e){const t=e.attributes&&e.attributes[Xo],n=e.data&&e.data[Xo],r=e.metadata&&e.metadata.source;return t||n||r}const ft=vt;let XA=0;function q5(){return XA>0}function Dz(){XA++,setTimeout(()=>{XA--})}function Hc(e,t={},n){if(typeof e!="function")return e;try{const i=e.__sentry_wrapped__;if(i)return i;if(Tb(e))return e}catch{return e}const r=function(){const i=Array.prototype.slice.call(arguments);try{n&&typeof n=="function"&&n.apply(this,arguments);const s=i.map(o=>Hc(o,t));return e.apply(this,s)}catch(s){throw Dz(),Vb(o=>{o.addEventProcessor(a=>(t.mechanism&&(LA(a,void 0,void 0),Jd(a,t.mechanism)),a.extra={...a.extra,arguments:i},a)),Us(s)}),s}};try{for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}catch{}WP(r,e),tl(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return e.name}})}catch{}return r}const Oi=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function W5(e,t){const n=Fb(e,t),r={type:t&&t.name,value:Hz(t)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function Fz(e,t,n,r){const i=Ln(),s=i&&i.getOptions().normalizeDepth,o={exception:{values:[{type:Im(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:Wz(t,{isUnhandledRejection:r})}]},extra:{__serialized__:i5(t,s)}};if(n){const a=Fb(e,n);a.length&&(o.exception.values[0].stacktrace={frames:a})}return o}function $v(e,t){return{exception:{values:[W5(e,t)]}}}function Fb(e,t){const n=t.stacktrace||t.stack||"",r=Uz(t);try{return e(n,r)}catch{}return[]}const zz=/Minified React error #\d+;/i;function Uz(e){if(e){if(typeof e.framesToPop=="number")return e.framesToPop;if(zz.test(e.message))return 1}return 0}function Hz(e){const t=e&&e.message;return t?t.error&&typeof t.error.message=="string"?t.error.message:t:"No error message"}function Gz(e,t,n,r){const i=n&&n.syntheticException||void 0,s=zb(e,t,i,r);return Jd(s),s.level="error",n&&n.event_id&&(s.event_id=n.event_id),Fc(s)}function qz(e,t,n="info",r,i){const s=r&&r.syntheticException||void 0,o=ZA(e,t,s,i);return o.level=n,r&&r.event_id&&(o.event_id=r.event_id),Fc(o)}function zb(e,t,n,r,i){let s;if(wb(t)&&t.error)return $v(e,t.error);if(A2(t)||qF(t)){const o=t;if("stack"in t)s=$v(e,t);else{const a=o.name||(A2(o)?"DOMError":"DOMException"),l=o.message?`${a}: ${o.message}`:a;s=ZA(e,l,n,r),LA(s,l)}return"code"in o&&(s.tags={...s.tags,"DOMException.code":`${o.code}`}),s}return xb(t)?$v(e,t):$c(t)||Im(t)?(s=Fz(e,t,n,i),Jd(s,{synthetic:!0}),s):(s=ZA(e,t,n,r),LA(s,`${t}`,void 0),Jd(s,{synthetic:!0}),s)}function ZA(e,t,n,r){const i={};if(r&&n){const s=Fb(e,n);s.length&&(i.exception={values:[{value:t,stacktrace:{frames:s}}]})}if(Eb(t)){const{__sentry_template_string__:s,__sentry_template_values__:o}=t;return i.logentry={message:s,params:o},i}return i.message=t,i}function Wz(e,{isUnhandledRejection:t}){const n=u6(e),r=t?"promise rejection":"exception";return wb(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:Im(e)?`Event \`${Kz(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}function Kz(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}function Yz(e,{metadata:t,tunnel:n,dsn:r}){const i={event_id:e.event_id,sent_at:new Date().toISOString(),...t&&t.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}},...!!n&&!!r&&{dsn:yl(r)}},s=Qz(e);return bl(i,[s])}function Qz(e){return[{type:"user_report"},e]}class Jz extends l7{constructor(t){const n=ft.SENTRY_SDK_SOURCE||P6();M5(t,"browser",["browser"],n),super(t),t.sendClientReports&&ft.document&&ft.document.addEventListener("visibilitychange",()=>{ft.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(t,n){return Gz(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",r){return qz(this._options.stackParser,t,n,r,this._options.attachStacktrace)}captureUserFeedback(t){if(!this._isEnabled()){Oi&&re.warn("SDK not enabled, will not capture user feedback.");return}const n=Yz(t,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this._sendEnvelope(n)}_prepareEvent(t,n,r){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,r)}_flushOutcomes(){const t=this._clearOutcomes();if(t.length===0){Oi&&re.log("No outcomes to send");return}if(!this._dsn){Oi&&re.log("No dsn provided, will not send outcomes");return}Oi&&re.log("Sending outcomes:",t);const n=t8(t,this._options.tunnel&&yl(this._dsn));this._sendEnvelope(n)}}let sd;function Xz(){if(sd)return sd;if(DA(ft.fetch))return sd=ft.fetch.bind(ft);const e=ft.document;let t=ft.fetch;if(e&&typeof e.createElement=="function")try{const n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n);const r=n.contentWindow;r&&r.fetch&&(t=r.fetch),e.head.removeChild(n)}catch(n){Oi&&re.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return sd=t.bind(ft)}function Zz(){sd=void 0}function e9(e,t=Xz()){let n=0,r=0;function i(s){const o=s.body.length;n+=o,r++;const a={body:s.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};try{return t(e.url,a).then(l=>(n-=o,r--,{statusCode:l.status,headers:{"x-sentry-rate-limits":l.headers.get("X-Sentry-Rate-Limits"),"retry-after":l.headers.get("Retry-After")}}))}catch(l){return Zz(),n-=o,r--,Rb(l)}}return R5(e,i)}const t9=4;function n9(e){function t(n){return new ei((r,i)=>{const s=new XMLHttpRequest;s.onerror=i,s.onreadystatechange=()=>{s.readyState===t9&&r({statusCode:s.status,headers:{"x-sentry-rate-limits":s.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":s.getResponseHeader("Retry-After")}})},s.open("POST",e.url);for(const o in e.headers)Object.prototype.hasOwnProperty.call(e.headers,o)&&s.setRequestHeader(o,e.headers[o]);s.send(n.body)})}return R5(e,t)}const Bm="?",r9=30,i9=40,s9=50;function Ub(e,t,n,r){const i={filename:e,function:t,in_app:!0};return n!==void 0&&(i.lineno=n),r!==void 0&&(i.colno=r),i}const o9=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,a9=/\((\S*)(?::(\d+))(?::(\d+))\)/,l9=e=>{const t=o9.exec(e);if(t){if(t[2]&&t[2].indexOf("eval")===0){const s=a9.exec(t[2]);s&&(t[2]=s[1],t[3]=s[2],t[4]=s[3])}const[r,i]=K5(t[1]||Bm,t[2]);return Ub(i,r,t[3]?+t[3]:void 0,t[4]?+t[4]:void 0)}},c9=[r9,l9],u9=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,d9=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,f9=e=>{const t=u9.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const s=d9.exec(t[3]);s&&(t[1]=t[1]||"eval",t[3]=s[1],t[4]=s[2],t[5]="")}let r=t[3],i=t[1]||Bm;return[i,r]=K5(i,r),Ub(r,i,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},h9=[s9,f9],p9=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,g9=e=>{const t=p9.exec(e);return t?Ub(t[2],t[1]||Bm,+t[3],t[4]?+t[4]:void 0):void 0},m9=[i9,g9],v9=[c9,h9,m9],y9=QP(...v9),K5=(e,t)=>{const n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:Bm,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},Bh=1024,Y5="Breadcrumbs",A9=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:Y5,setupOnce(){},setup(n){t.console&&p6(S9(n)),t.dom&&v6(b9(n,t.dom)),t.xhr&&r5(x9(n)),t.fetch&&e5(w9(n)),t.history&&Ib(E9(n)),t.sentry&&n.on&&n.on("beforeSendEvent",_9(n))}}},Q5=A9;pa(Y5,Q5);function _9(e){return function(n){Ln()===e&&il({category:`sentry.${n.type==="transaction"?"transaction":"event"}`,event_id:n.event_id,level:n.level,message:$o(n)},{event:n})}}function b9(e,t){return function(r){if(Ln()!==e)return;let i,s,o=typeof t=="object"?t.serializeAttribute:void 0,a=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;a&&a>Bh&&(Oi&&re.warn(`\`dom.maxStringLength\` cannot exceed ${Bh}, but a value of ${a} was configured. Sentry will use ${Bh} instead.`),a=Bh),typeof o=="string"&&(o=[o]);try{const c=r.event,u=k9(c)?c.target:c;i=Dc(u,{keyAttrs:o,maxStringLength:a}),s=HP(u)}catch{i="<unknown>"}if(i.length===0)return;const l={category:`ui.${r.name}`,message:i};s&&(l.data={"ui.component_name":s}),il(l,{event:r.event,name:r.name,global:r.global})}}function S9(e){return function(n){if(Ln()!==e)return;const r={category:"console",data:{arguments:n.args,logger:"console"},level:D6(n.level),message:_2(n.args," ")};if(n.level==="assert")if(n.args[0]===!1)r.message=`Assertion failed: ${_2(n.args.slice(1)," ")||"console.assert"}`,r.data.arguments=n.args.slice(1);else return;il(r,{input:n.args,level:n.level})}}function x9(e){return function(n){if(Ln()!==e)return;const{startTimestamp:r,endTimestamp:i}=n,s=n.xhr[Ql];if(!r||!i||!s)return;const{method:o,url:a,status_code:l,body:c}=s,u={method:o,url:a,status_code:l},d={xhr:n.xhr,input:c,startTimestamp:r,endTimestamp:i};il({category:"xhr",data:u,type:"http"},d)}}function w9(e){return function(n){if(Ln()!==e)return;const{startTimestamp:r,endTimestamp:i}=n;if(i&&!(n.fetchData.url.match(/sentry_key/)&&n.fetchData.method==="POST"))if(n.error){const s=n.fetchData,o={data:n.error,input:n.args,startTimestamp:r,endTimestamp:i};il({category:"fetch",data:s,level:"error",type:"http"},o)}else{const s=n.response,o={...n.fetchData,status_code:s&&s.status},a={input:n.args,response:s,startTimestamp:r,endTimestamp:i};il({category:"fetch",data:o,type:"http"},a)}}}function E9(e){return function(n){if(Ln()!==e)return;let r=n.from,i=n.to;const s=Wa(ft.location.href);let o=r?Wa(r):void 0;const a=Wa(i);(!o||!o.path)&&(o=s),s.protocol===a.protocol&&s.host===a.host&&(i=a.relative),s.protocol===o.protocol&&s.host===o.host&&(r=o.relative),il({category:"navigation",data:{from:r,to:i}})}}function k9(e){return!!e&&!!e.target}const J5="Dedupe",C9=()=>{let e;return{name:J5,setupOnce(){},processEvent(t){if(t.type)return t;try{if(T9(t,e))return Oi&&re.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}},X5=C9;pa(J5,X5);function T9(e,t){return t?!!(I9(e,t)||R9(e,t)):!1}function I9(e,t){const n=e.message,r=t.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!ej(e,t)||!Z5(e,t))}function R9(e,t){const n=sk(t),r=sk(e);return!(!n||!r||n.type!==r.type||n.value!==r.value||!ej(e,t)||!Z5(e,t))}function Z5(e,t){let n=ok(e),r=ok(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let i=0;i<r.length;i++){const s=r[i],o=n[i];if(s.filename!==o.filename||s.lineno!==o.lineno||s.colno!==o.colno||s.function!==o.function)return!1}return!0}function ej(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function sk(e){return e.exception&&e.exception.values&&e.exception.values[0]}function ok(e){const t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch{return}}const tj="GlobalHandlers",M9=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:tj,setupOnce(){Error.stackTraceLimit=50},setup(n){t.onerror&&(P9(n),ak("onerror")),t.onunhandledrejection&&(j9(n),ak("onunhandledrejection"))}}},nj=M9;pa(tj,nj);function P9(e){t5(t=>{const{stackParser:n,attachStacktrace:r}=ij();if(Ln()!==e||q5())return;const{msg:i,url:s,line:o,column:a,error:l}=t,c=l===void 0&&Bs(i)?L9(i,s,o,a):rj(zb(n,l||i,void 0,r,!1),s,o,a);c.level="error",f5(c,{originalException:l,mechanism:{handled:!1,type:"onerror"}})})}function j9(e){n5(t=>{const{stackParser:n,attachStacktrace:r}=ij();if(Ln()!==e||q5())return;const i=O9(t),s=kb(i)?V9(i):zb(n,i,void 0,r,!0);s.level="error",f5(s,{originalException:i,mechanism:{handled:!1,type:"onunhandledrejection"}})})}function O9(e){if(kb(e))return e;const t=e;try{if("reason"in t)return t.reason;if("detail"in t&&"reason"in t.detail)return t.detail.reason}catch{}return e}function V9(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function L9(e,t,n,r){const i=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;let s=wb(e)?e.message:e,o="Error";const a=s.match(i);return a&&(o=a[1],s=a[2]),rj({exception:{values:[{type:o,value:s}]}},t,n,r)}function rj(e,t,n,r){const i=e.exception=e.exception||{},s=i.values=i.values||[],o=s[0]=s[0]||{},a=o.stacktrace=o.stacktrace||{},l=a.frames=a.frames||[],c=isNaN(parseInt(r,10))?void 0:r,u=isNaN(parseInt(n,10))?void 0:n,d=Bs(t)&&t.length>0?t:t6();return l.length===0&&l.push({colno:c,filename:d,function:"?",in_app:!0,lineno:u}),e}function ak(e){Oi&&re.log(`Global Handler attached: ${e}`)}function ij(){const e=Ln();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const sj="HttpContext",N9=()=>({name:sj,setupOnce(){},preprocessEvent(e){if(!ft.navigator&&!ft.location&&!ft.document)return;const t=e.request&&e.request.url||ft.location&&ft.location.href,{referrer:n}=ft.document||{},{userAgent:r}=ft.navigator||{},i={...e.request&&e.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},s={...e.request,...t&&{url:t},headers:i};e.request=s}}),oj=N9;pa(sj,oj);const B9="cause",$9=5,aj="LinkedErrors",D9=(e={})=>{const t=e.limit||$9,n=e.key||B9;return{name:aj,setupOnce(){},preprocessEvent(r,i,s){const o=s.getOptions();JF(W5,o.stackParser,o.maxValueLength,n,t,r,i)}}},lj=D9;pa(aj,lj);const F9=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],cj="TryCatch",z9=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:cj,setupOnce(){t.setTimeout&&ar(ft,"setTimeout",lk),t.setInterval&&ar(ft,"setInterval",lk),t.requestAnimationFrame&&ar(ft,"requestAnimationFrame",U9),t.XMLHttpRequest&&"XMLHttpRequest"in ft&&ar(XMLHttpRequest.prototype,"send",H9);const n=t.eventTarget;n&&(Array.isArray(n)?n:F9).forEach(G9)}}},uj=z9;pa(cj,uj);function lk(e){return function(...t){const n=t[0];return t[0]=Hc(n,{mechanism:{data:{function:po(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function U9(e){return function(t){return e.apply(this,[Hc(t,{mechanism:{data:{function:"requestAnimationFrame",handler:po(e)},handled:!1,type:"instrument"}})])}}function H9(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(i=>{i in n&&typeof n[i]=="function"&&ar(n,i,function(s){const o={mechanism:{data:{function:i,handler:po(s)},handled:!1,type:"instrument"}},a=Tb(s);return a&&(o.mechanism.data.handler=po(a)),Hc(s,o)})}),e.apply(this,t)}}function G9(e){const t=ft,n=t[e]&&t[e].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(ar(n,"addEventListener",function(r){return function(i,s,o){try{typeof s.handleEvent=="function"&&(s.handleEvent=Hc(s.handleEvent,{mechanism:{data:{function:"handleEvent",handler:po(s),target:e},handled:!1,type:"instrument"}}))}catch{}return r.apply(this,[i,Hc(s,{mechanism:{data:{function:"addEventListener",handler:po(s),target:e},handled:!1,type:"instrument"}}),o])}}),ar(n,"removeEventListener",function(r){return function(i,s,o){const a=s;try{const l=a&&a.__sentry_wrapped__;l&&r.call(this,i,l,o)}catch{}return r.call(this,i,a,o)}}))}const q9=[j5(),V5(),uj(),Q5(),nj(),lj(),X5(),oj()];function W9(e){return[...q9]}function K9(e={}){e.defaultIntegrations===void 0&&(e.defaultIntegrations=W9()),e.release===void 0&&(typeof __SENTRY_RELEASE__=="string"&&(e.release=__SENTRY_RELEASE__),ft.SENTRY_RELEASE&&ft.SENTRY_RELEASE.id&&(e.release=ft.SENTRY_RELEASE.id)),e.autoSessionTracking===void 0&&(e.autoSessionTracking=!0),e.sendClientReports===void 0&&(e.sendClientReports=!0);const t={...e,stackParser:f6(e.stackParser||y9),integrations:n7(e),transport:e.transport||(ZP()?e9:n9)};d7(Jz,t),e.autoSessionTracking&&Y9()}const ck=(e={},t=_r())=>{if(!ft.document){Oi&&re.error("Global document not defined in showReportDialog call");return}const{client:n,scope:r}=t.getStackTop(),i=e.dsn||n&&n.getDsn();if(!i){Oi&&re.error("DSN not configured for showReportDialog call");return}r&&(e.user={...r.getUser(),...e.user}),e.eventId||(e.eventId=t.lastEventId());const s=ft.document.createElement("script");s.async=!0,s.crossOrigin="anonymous",s.src=e7(i,e),e.onLoad&&(s.onload=e.onLoad);const{onClose:o}=e;if(o){const l=c=>{if(c.data==="__sentry_reportdialog_closed__")try{o()}finally{ft.removeEventListener("message",l)}};ft.addEventListener("message",l)}const a=ft.document.head||ft.document.body;a?a.appendChild(s):Oi&&re.error("Not injecting report dialog. No injection point found in HTML")};function Y9(){if(typeof ft.document>"u"){Oi&&re.warn("Session tracking in non-browser environment with @sentry/browser is not supported.");return}B2({ignoreDuration:!0}),$2(),Ib(({from:e,to:t})=>{e!==void 0&&e!==t&&(B2({ignoreDuration:!0}),$2())})}function $h(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var dj={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(e,t){(function(n){e.exports=n()})(function(){return function n(r,i,s){function o(c,u){if(!i[c]){if(!r[c]){var d=typeof $h=="function"&&$h;if(!u&&d)return d(c,!0);if(a)return a(c,!0);var h=new Error("Cannot find module '"+c+"'");throw h.code="MODULE_NOT_FOUND",h}var p=i[c]={exports:{}};r[c][0].call(p.exports,function(g){var m=r[c][1][g];return o(m||g)},p,p.exports,n,r,i,s)}return i[c].exports}for(var a=typeof $h=="function"&&$h,l=0;l<s.length;l++)o(s[l]);return o}({1:[function(n,r,i){(function(s){var o=s.MutationObserver||s.WebKitMutationObserver,a;if(o){var l=0,c=new o(g),u=s.document.createTextNode("");c.observe(u,{characterData:!0}),a=function(){u.data=l=++l%2}}else if(!s.setImmediate&&typeof s.MessageChannel<"u"){var d=new s.MessageChannel;d.port1.onmessage=g,a=function(){d.port2.postMessage(0)}}else"document"in s&&"onreadystatechange"in s.document.createElement("script")?a=function(){var _=s.document.createElement("script");_.onreadystatechange=function(){g(),_.onreadystatechange=null,_.parentNode.removeChild(_),_=null},s.document.documentElement.appendChild(_)}:a=function(){setTimeout(g,0)};var h,p=[];function g(){h=!0;for(var _,v,y=p.length;y;){for(v=p,p=[],_=-1;++_<y;)v[_]();y=p.length}h=!1}r.exports=m;function m(_){p.push(_)===1&&!h&&a()}}).call(this,typeof Uo<"u"?Uo:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(n,r,i){var s=n(1);function o(){}var a={},l=["REJECTED"],c=["FULFILLED"],u=["PENDING"];r.exports=d;function d(S){if(typeof S!="function")throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,S!==o&&m(this,S)}d.prototype.catch=function(S){return this.then(null,S)},d.prototype.then=function(S,w){if(typeof S!="function"&&this.state===c||typeof w!="function"&&this.state===l)return this;var E=new this.constructor(o);if(this.state!==u){var I=this.state===c?S:w;p(E,I,this.outcome)}else this.queue.push(new h(E,S,w));return E};function h(S,w,E){this.promise=S,typeof w=="function"&&(this.onFulfilled=w,this.callFulfilled=this.otherCallFulfilled),typeof E=="function"&&(this.onRejected=E,this.callRejected=this.otherCallRejected)}h.prototype.callFulfilled=function(S){a.resolve(this.promise,S)},h.prototype.otherCallFulfilled=function(S){p(this.promise,this.onFulfilled,S)},h.prototype.callRejected=function(S){a.reject(this.promise,S)},h.prototype.otherCallRejected=function(S){p(this.promise,this.onRejected,S)};function p(S,w,E){s(function(){var I;try{I=w(E)}catch(z){return a.reject(S,z)}I===S?a.reject(S,new TypeError("Cannot resolve promise with itself")):a.resolve(S,I)})}a.resolve=function(S,w){var E=_(g,w);if(E.status==="error")return a.reject(S,E.value);var I=E.value;if(I)m(S,I);else{S.state=c,S.outcome=w;for(var z=-1,N=S.queue.length;++z<N;)S.queue[z].callFulfilled(w)}return S},a.reject=function(S,w){S.state=l,S.outcome=w;for(var E=-1,I=S.queue.length;++E<I;)S.queue[E].callRejected(w);return S};function g(S){var w=S&&S.then;if(S&&(typeof S=="object"||typeof S=="function")&&typeof w=="function")return function(){w.apply(S,arguments)}}function m(S,w){var E=!1;function I(Q){E||(E=!0,a.reject(S,Q))}function z(Q){E||(E=!0,a.resolve(S,Q))}function N(){w(z,I)}var D=_(N);D.status==="error"&&I(D.value)}function _(S,w){var E={};try{E.value=S(w),E.status="success"}catch(I){E.status="error",E.value=I}return E}d.resolve=v;function v(S){return S instanceof this?S:a.resolve(new this(o),S)}d.reject=y;function y(S){var w=new this(o);return a.reject(w,S)}d.all=b;function b(S){var w=this;if(Object.prototype.toString.call(S)!=="[object Array]")return this.reject(new TypeError("must be an array"));var E=S.length,I=!1;if(!E)return this.resolve([]);for(var z=new Array(E),N=0,D=-1,Q=new this(o);++D<E;)P(S[D],D);return Q;function P(L,M){w.resolve(L).then(T,function(U){I||(I=!0,a.reject(Q,U))});function T(U){z[M]=U,++N===E&&!I&&(I=!0,a.resolve(Q,z))}}}d.race=x;function x(S){var w=this;if(Object.prototype.toString.call(S)!=="[object Array]")return this.reject(new TypeError("must be an array"));var E=S.length,I=!1;if(!E)return this.resolve([]);for(var z=-1,N=new this(o);++z<E;)D(S[z]);return N;function D(Q){w.resolve(Q).then(function(P){I||(I=!0,a.resolve(N,P))},function(P){I||(I=!0,a.reject(N,P))})}}},{1:1}],3:[function(n,r,i){(function(s){typeof s.Promise!="function"&&(s.Promise=n(2))}).call(this,typeof Uo<"u"?Uo:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(n,r,i){var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(k){return typeof k}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k};function o(k,B){if(!(k instanceof B))throw new TypeError("Cannot call a class as a function")}function a(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var l=a();function c(){try{if(!l||!l.open)return!1;var k=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),B=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!k||B)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function u(k,B){k=k||[],B=B||{};try{return new Blob(k,B)}catch(H){if(H.name!=="TypeError")throw H;for(var R=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,q=new R,Y=0;Y<k.length;Y+=1)q.append(k[Y]);return q.getBlob(B.type)}}typeof Promise>"u"&&n(3);var d=Promise;function h(k,B){B&&k.then(function(R){B(null,R)},function(R){B(R)})}function p(k,B,R){typeof B=="function"&&k.then(B),typeof R=="function"&&k.catch(R)}function g(k){return typeof k!="string"&&(console.warn(k+" used as a key, but it is not a string."),k=String(k)),k}function m(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var _="local-forage-detect-blob-support",v=void 0,y={},b=Object.prototype.toString,x="readonly",S="readwrite";function w(k){for(var B=k.length,R=new ArrayBuffer(B),q=new Uint8Array(R),Y=0;Y<B;Y++)q[Y]=k.charCodeAt(Y);return R}function E(k){return new d(function(B){var R=k.transaction(_,S),q=u([""]);R.objectStore(_).put(q,"key"),R.onabort=function(Y){Y.preventDefault(),Y.stopPropagation(),B(!1)},R.oncomplete=function(){var Y=navigator.userAgent.match(/Chrome\/(\d+)/),H=navigator.userAgent.match(/Edge\//);B(H||!Y||parseInt(Y[1],10)>=43)}}).catch(function(){return!1})}function I(k){return typeof v=="boolean"?d.resolve(v):E(k).then(function(B){return v=B,v})}function z(k){var B=y[k.name],R={};R.promise=new d(function(q,Y){R.resolve=q,R.reject=Y}),B.deferredOperations.push(R),B.dbReady?B.dbReady=B.dbReady.then(function(){return R.promise}):B.dbReady=R.promise}function N(k){var B=y[k.name],R=B.deferredOperations.pop();if(R)return R.resolve(),R.promise}function D(k,B){var R=y[k.name],q=R.deferredOperations.pop();if(q)return q.reject(B),q.promise}function Q(k,B){return new d(function(R,q){if(y[k.name]=y[k.name]||F(),k.db)if(B)z(k),k.db.close();else return R(k.db);var Y=[k.name];B&&Y.push(k.version);var H=l.open.apply(l,Y);B&&(H.onupgradeneeded=function(ee){var se=H.result;try{se.createObjectStore(k.storeName),ee.oldVersion<=1&&se.createObjectStore(_)}catch(le){if(le.name==="ConstraintError")console.warn('The database "'+k.name+'" has been upgraded from version '+ee.oldVersion+" to version "+ee.newVersion+', but the storage "'+k.storeName+'" already exists.');else throw le}}),H.onerror=function(ee){ee.preventDefault(),q(H.error)},H.onsuccess=function(){var ee=H.result;ee.onversionchange=function(se){se.target.close()},R(ee),N(k)}})}function P(k){return Q(k,!1)}function L(k){return Q(k,!0)}function M(k,B){if(!k.db)return!0;var R=!k.db.objectStoreNames.contains(k.storeName),q=k.version<k.db.version,Y=k.version>k.db.version;if(q&&(k.version!==B&&console.warn('The database "'+k.name+`" can't be downgraded from version `+k.db.version+" to version "+k.version+"."),k.version=k.db.version),Y||R){if(R){var H=k.db.version+1;H>k.version&&(k.version=H)}return!0}return!1}function T(k){return new d(function(B,R){var q=new FileReader;q.onerror=R,q.onloadend=function(Y){var H=btoa(Y.target.result||"");B({__local_forage_encoded_blob:!0,data:H,type:k.type})},q.readAsBinaryString(k)})}function U(k){var B=w(atob(k.data));return u([B],{type:k.type})}function j(k){return k&&k.__local_forage_encoded_blob}function $(k){var B=this,R=B._initReady().then(function(){var q=y[B._dbInfo.name];if(q&&q.dbReady)return q.dbReady});return p(R,k,k),R}function V(k){z(k);for(var B=y[k.name],R=B.forages,q=0;q<R.length;q++){var Y=R[q];Y._dbInfo.db&&(Y._dbInfo.db.close(),Y._dbInfo.db=null)}return k.db=null,P(k).then(function(H){return k.db=H,M(k)?L(k):H}).then(function(H){k.db=B.db=H;for(var ee=0;ee<R.length;ee++)R[ee]._dbInfo.db=H}).catch(function(H){throw D(k,H),H})}function G(k,B,R,q){q===void 0&&(q=1);try{var Y=k.db.transaction(k.storeName,B);R(null,Y)}catch(H){if(q>0&&(!k.db||H.name==="InvalidStateError"||H.name==="NotFoundError"))return d.resolve().then(function(){if(!k.db||H.name==="NotFoundError"&&!k.db.objectStoreNames.contains(k.storeName)&&k.version<=k.db.version)return k.db&&(k.version=k.db.version+1),L(k)}).then(function(){return V(k).then(function(){G(k,B,R,q-1)})}).catch(R);R(H)}}function F(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function ne(k){var B=this,R={db:null};if(k)for(var q in k)R[q]=k[q];var Y=y[R.name];Y||(Y=F(),y[R.name]=Y),Y.forages.push(B),B._initReady||(B._initReady=B.ready,B.ready=$);var H=[];function ee(){return d.resolve()}for(var se=0;se<Y.forages.length;se++){var le=Y.forages[se];le!==B&&H.push(le._initReady().catch(ee))}var ue=Y.forages.slice(0);return d.all(H).then(function(){return R.db=Y.db,P(R)}).then(function(he){return R.db=he,M(R,B._defaultConfig.version)?L(R):he}).then(function(he){R.db=Y.db=he,B._dbInfo=R;for(var ke=0;ke<ue.length;ke++){var Ze=ue[ke];Ze!==B&&(Ze._dbInfo.db=R.db,Ze._dbInfo.version=R.version)}})}function O(k,B){var R=this;k=g(k);var q=new d(function(Y,H){R.ready().then(function(){G(R._dbInfo,x,function(ee,se){if(ee)return H(ee);try{var le=se.objectStore(R._dbInfo.storeName),ue=le.get(k);ue.onsuccess=function(){var he=ue.result;he===void 0&&(he=null),j(he)&&(he=U(he)),Y(he)},ue.onerror=function(){H(ue.error)}}catch(he){H(he)}})}).catch(H)});return h(q,B),q}function fe(k,B){var R=this,q=new d(function(Y,H){R.ready().then(function(){G(R._dbInfo,x,function(ee,se){if(ee)return H(ee);try{var le=se.objectStore(R._dbInfo.storeName),ue=le.openCursor(),he=1;ue.onsuccess=function(){var ke=ue.result;if(ke){var Ze=ke.value;j(Ze)&&(Ze=U(Ze));var yt=k(Ze,ke.key,he++);yt!==void 0?Y(yt):ke.continue()}else Y()},ue.onerror=function(){H(ue.error)}}catch(ke){H(ke)}})}).catch(H)});return h(q,B),q}function Z(k,B,R){var q=this;k=g(k);var Y=new d(function(H,ee){var se;q.ready().then(function(){return se=q._dbInfo,b.call(B)==="[object Blob]"?I(se.db).then(function(le){return le?B:T(B)}):B}).then(function(le){G(q._dbInfo,S,function(ue,he){if(ue)return ee(ue);try{var ke=he.objectStore(q._dbInfo.storeName);le===null&&(le=void 0);var Ze=ke.put(le,k);he.oncomplete=function(){le===void 0&&(le=null),H(le)},he.onabort=he.onerror=function(){var yt=Ze.error?Ze.error:Ze.transaction.error;ee(yt)}}catch(yt){ee(yt)}})}).catch(ee)});return h(Y,R),Y}function ae(k,B){var R=this;k=g(k);var q=new d(function(Y,H){R.ready().then(function(){G(R._dbInfo,S,function(ee,se){if(ee)return H(ee);try{var le=se.objectStore(R._dbInfo.storeName),ue=le.delete(k);se.oncomplete=function(){Y()},se.onerror=function(){H(ue.error)},se.onabort=function(){var he=ue.error?ue.error:ue.transaction.error;H(he)}}catch(he){H(he)}})}).catch(H)});return h(q,B),q}function je(k){var B=this,R=new d(function(q,Y){B.ready().then(function(){G(B._dbInfo,S,function(H,ee){if(H)return Y(H);try{var se=ee.objectStore(B._dbInfo.storeName),le=se.clear();ee.oncomplete=function(){q()},ee.onabort=ee.onerror=function(){var ue=le.error?le.error:le.transaction.error;Y(ue)}}catch(ue){Y(ue)}})}).catch(Y)});return h(R,k),R}function Ae(k){var B=this,R=new d(function(q,Y){B.ready().then(function(){G(B._dbInfo,x,function(H,ee){if(H)return Y(H);try{var se=ee.objectStore(B._dbInfo.storeName),le=se.count();le.onsuccess=function(){q(le.result)},le.onerror=function(){Y(le.error)}}catch(ue){Y(ue)}})}).catch(Y)});return h(R,k),R}function ce(k,B){var R=this,q=new d(function(Y,H){if(k<0){Y(null);return}R.ready().then(function(){G(R._dbInfo,x,function(ee,se){if(ee)return H(ee);try{var le=se.objectStore(R._dbInfo.storeName),ue=!1,he=le.openKeyCursor();he.onsuccess=function(){var ke=he.result;if(!ke){Y(null);return}k===0||ue?Y(ke.key):(ue=!0,ke.advance(k))},he.onerror=function(){H(he.error)}}catch(ke){H(ke)}})}).catch(H)});return h(q,B),q}function be(k){var B=this,R=new d(function(q,Y){B.ready().then(function(){G(B._dbInfo,x,function(H,ee){if(H)return Y(H);try{var se=ee.objectStore(B._dbInfo.storeName),le=se.openKeyCursor(),ue=[];le.onsuccess=function(){var he=le.result;if(!he){q(ue);return}ue.push(he.key),he.continue()},le.onerror=function(){Y(le.error)}}catch(he){Y(he)}})}).catch(Y)});return h(R,k),R}function He(k,B){B=m.apply(this,arguments);var R=this.config();k=typeof k!="function"&&k||{},k.name||(k.name=k.name||R.name,k.storeName=k.storeName||R.storeName);var q=this,Y;if(!k.name)Y=d.reject("Invalid arguments");else{var H=k.name===R.name&&q._dbInfo.db,ee=H?d.resolve(q._dbInfo.db):P(k).then(function(se){var le=y[k.name],ue=le.forages;le.db=se;for(var he=0;he<ue.length;he++)ue[he]._dbInfo.db=se;return se});k.storeName?Y=ee.then(function(se){if(se.objectStoreNames.contains(k.storeName)){var le=se.version+1;z(k);var ue=y[k.name],he=ue.forages;se.close();for(var ke=0;ke<he.length;ke++){var Ze=he[ke];Ze._dbInfo.db=null,Ze._dbInfo.version=le}var yt=new d(function(bt,Cn){var vn=l.open(k.name,le);vn.onerror=function(_i){var Tu=vn.result;Tu.close(),Cn(_i)},vn.onupgradeneeded=function(){var _i=vn.result;_i.deleteObjectStore(k.storeName)},vn.onsuccess=function(){var _i=vn.result;_i.close(),bt(_i)}});return yt.then(function(bt){ue.db=bt;for(var Cn=0;Cn<he.length;Cn++){var vn=he[Cn];vn._dbInfo.db=bt,N(vn._dbInfo)}}).catch(function(bt){throw(D(k,bt)||d.resolve()).catch(function(){}),bt})}}):Y=ee.then(function(se){z(k);var le=y[k.name],ue=le.forages;se.close();for(var he=0;he<ue.length;he++){var ke=ue[he];ke._dbInfo.db=null}var Ze=new d(function(yt,bt){var Cn=l.deleteDatabase(k.name);Cn.onerror=function(){var vn=Cn.result;vn&&vn.close(),bt(Cn.error)},Cn.onblocked=function(){console.warn('dropInstance blocked for database "'+k.name+'" until all open connections are closed')},Cn.onsuccess=function(){var vn=Cn.result;vn&&vn.close(),yt(vn)}});return Ze.then(function(yt){le.db=yt;for(var bt=0;bt<ue.length;bt++){var Cn=ue[bt];N(Cn._dbInfo)}}).catch(function(yt){throw(D(k,yt)||d.resolve()).catch(function(){}),yt})})}return h(Y,B),Y}var Fe={_driver:"asyncStorage",_initStorage:ne,_support:c(),iterate:fe,getItem:O,setItem:Z,removeItem:ae,clear:je,length:Ae,key:ce,keys:be,dropInstance:He};function Se(){return typeof openDatabase=="function"}var Ee="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ke="~~local_forage_type~",Ye=/^~~local_forage_type~([^~]+)~/,Ie="__lfsc__:",ot=Ie.length,kt="arbf",Zt="blob",Rt="si08",hn="ui08",lt="uic8",At="si16",Gt="si32",Je="ur16",Mt="ui32",ve="fl32",tt="fl64",pn=ot+kt.length,ut=Object.prototype.toString;function nt(k){var B=k.length*.75,R=k.length,q,Y=0,H,ee,se,le;k[k.length-1]==="="&&(B--,k[k.length-2]==="="&&B--);var ue=new ArrayBuffer(B),he=new Uint8Array(ue);for(q=0;q<R;q+=4)H=Ee.indexOf(k[q]),ee=Ee.indexOf(k[q+1]),se=Ee.indexOf(k[q+2]),le=Ee.indexOf(k[q+3]),he[Y++]=H<<2|ee>>4,he[Y++]=(ee&15)<<4|se>>2,he[Y++]=(se&3)<<6|le&63;return ue}function en(k){var B=new Uint8Array(k),R="",q;for(q=0;q<B.length;q+=3)R+=Ee[B[q]>>2],R+=Ee[(B[q]&3)<<4|B[q+1]>>4],R+=Ee[(B[q+1]&15)<<2|B[q+2]>>6],R+=Ee[B[q+2]&63];return B.length%3===2?R=R.substring(0,R.length-1)+"=":B.length%3===1&&(R=R.substring(0,R.length-2)+"=="),R}function an(k,B){var R="";if(k&&(R=ut.call(k)),k&&(R==="[object ArrayBuffer]"||k.buffer&&ut.call(k.buffer)==="[object ArrayBuffer]")){var q,Y=Ie;k instanceof ArrayBuffer?(q=k,Y+=kt):(q=k.buffer,R==="[object Int8Array]"?Y+=Rt:R==="[object Uint8Array]"?Y+=hn:R==="[object Uint8ClampedArray]"?Y+=lt:R==="[object Int16Array]"?Y+=At:R==="[object Uint16Array]"?Y+=Je:R==="[object Int32Array]"?Y+=Gt:R==="[object Uint32Array]"?Y+=Mt:R==="[object Float32Array]"?Y+=ve:R==="[object Float64Array]"?Y+=tt:B(new Error("Failed to get type for BinaryArray"))),B(Y+en(q))}else if(R==="[object Blob]"){var H=new FileReader;H.onload=function(){var ee=Ke+k.type+"~"+en(this.result);B(Ie+Zt+ee)},H.readAsArrayBuffer(k)}else try{B(JSON.stringify(k))}catch(ee){console.error("Couldn't convert value into a JSON string: ",k),B(null,ee)}}function qt(k){if(k.substring(0,ot)!==Ie)return JSON.parse(k);var B=k.substring(pn),R=k.substring(ot,pn),q;if(R===Zt&&Ye.test(B)){var Y=B.match(Ye);q=Y[1],B=B.substring(Y[0].length)}var H=nt(B);switch(R){case kt:return H;case Zt:return u([H],{type:q});case Rt:return new Int8Array(H);case hn:return new Uint8Array(H);case lt:return new Uint8ClampedArray(H);case At:return new Int16Array(H);case Je:return new Uint16Array(H);case Gt:return new Int32Array(H);case Mt:return new Uint32Array(H);case ve:return new Float32Array(H);case tt:return new Float64Array(H);default:throw new Error("Unkown type: "+R)}}var pt={serialize:an,deserialize:qt,stringToBuffer:nt,bufferToString:en};function Nn(k,B,R,q){k.executeSql("CREATE TABLE IF NOT EXISTS "+B.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],R,q)}function fr(k){var B=this,R={db:null};if(k)for(var q in k)R[q]=typeof k[q]!="string"?k[q].toString():k[q];var Y=new d(function(H,ee){try{R.db=openDatabase(R.name,String(R.version),R.description,R.size)}catch(se){return ee(se)}R.db.transaction(function(se){Nn(se,R,function(){B._dbInfo=R,H()},function(le,ue){ee(ue)})},ee)});return R.serializer=pt,Y}function gn(k,B,R,q,Y,H){k.executeSql(R,q,Y,function(ee,se){se.code===se.SYNTAX_ERR?ee.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[B.storeName],function(le,ue){ue.rows.length?H(le,se):Nn(le,B,function(){le.executeSql(R,q,Y,H)},H)},H):H(ee,se)},H)}function yi(k,B){var R=this;k=g(k);var q=new d(function(Y,H){R.ready().then(function(){var ee=R._dbInfo;ee.db.transaction(function(se){gn(se,ee,"SELECT * FROM "+ee.storeName+" WHERE key = ? LIMIT 1",[k],function(le,ue){var he=ue.rows.length?ue.rows.item(0).value:null;he&&(he=ee.serializer.deserialize(he)),Y(he)},function(le,ue){H(ue)})})}).catch(H)});return h(q,B),q}function Wr(k,B){var R=this,q=new d(function(Y,H){R.ready().then(function(){var ee=R._dbInfo;ee.db.transaction(function(se){gn(se,ee,"SELECT * FROM "+ee.storeName,[],function(le,ue){for(var he=ue.rows,ke=he.length,Ze=0;Ze<ke;Ze++){var yt=he.item(Ze),bt=yt.value;if(bt&&(bt=ee.serializer.deserialize(bt)),bt=k(bt,yt.key,Ze+1),bt!==void 0){Y(bt);return}}Y()},function(le,ue){H(ue)})})}).catch(H)});return h(q,B),q}function _t(k,B,R,q){var Y=this;k=g(k);var H=new d(function(ee,se){Y.ready().then(function(){B===void 0&&(B=null);var le=B,ue=Y._dbInfo;ue.serializer.serialize(B,function(he,ke){ke?se(ke):ue.db.transaction(function(Ze){gn(Ze,ue,"INSERT OR REPLACE INTO "+ue.storeName+" (key, value) VALUES (?, ?)",[k,he],function(){ee(le)},function(yt,bt){se(bt)})},function(Ze){if(Ze.code===Ze.QUOTA_ERR){if(q>0){ee(_t.apply(Y,[k,le,R,q-1]));return}se(Ze)}})})}).catch(se)});return h(H,R),H}function mn(k,B,R){return _t.apply(this,[k,B,R,1])}function Le(k,B){var R=this;k=g(k);var q=new d(function(Y,H){R.ready().then(function(){var ee=R._dbInfo;ee.db.transaction(function(se){gn(se,ee,"DELETE FROM "+ee.storeName+" WHERE key = ?",[k],function(){Y()},function(le,ue){H(ue)})})}).catch(H)});return h(q,B),q}function Xe(k){var B=this,R=new d(function(q,Y){B.ready().then(function(){var H=B._dbInfo;H.db.transaction(function(ee){gn(ee,H,"DELETE FROM "+H.storeName,[],function(){q()},function(se,le){Y(le)})})}).catch(Y)});return h(R,k),R}function Un(k){var B=this,R=new d(function(q,Y){B.ready().then(function(){var H=B._dbInfo;H.db.transaction(function(ee){gn(ee,H,"SELECT COUNT(key) as c FROM "+H.storeName,[],function(se,le){var ue=le.rows.item(0).c;q(ue)},function(se,le){Y(le)})})}).catch(Y)});return h(R,k),R}function Kr(k,B){var R=this,q=new d(function(Y,H){R.ready().then(function(){var ee=R._dbInfo;ee.db.transaction(function(se){gn(se,ee,"SELECT key FROM "+ee.storeName+" WHERE id = ? LIMIT 1",[k+1],function(le,ue){var he=ue.rows.length?ue.rows.item(0).key:null;Y(he)},function(le,ue){H(ue)})})}).catch(H)});return h(q,B),q}function ye(k){var B=this,R=new d(function(q,Y){B.ready().then(function(){var H=B._dbInfo;H.db.transaction(function(ee){gn(ee,H,"SELECT key FROM "+H.storeName,[],function(se,le){for(var ue=[],he=0;he<le.rows.length;he++)ue.push(le.rows.item(he).key);q(ue)},function(se,le){Y(le)})})}).catch(Y)});return h(R,k),R}function Be(k){return new d(function(B,R){k.transaction(function(q){q.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(Y,H){for(var ee=[],se=0;se<H.rows.length;se++)ee.push(H.rows.item(se).name);B({db:k,storeNames:ee})},function(Y,H){R(H)})},function(q){R(q)})})}function ze(k,B){B=m.apply(this,arguments);var R=this.config();k=typeof k!="function"&&k||{},k.name||(k.name=k.name||R.name,k.storeName=k.storeName||R.storeName);var q=this,Y;return k.name?Y=new d(function(H){var ee;k.name===R.name?ee=q._dbInfo.db:ee=openDatabase(k.name,"","",0),k.storeName?H({db:ee,storeNames:[k.storeName]}):H(Be(ee))}).then(function(H){return new d(function(ee,se){H.db.transaction(function(le){function ue(yt){return new d(function(bt,Cn){le.executeSql("DROP TABLE IF EXISTS "+yt,[],function(){bt()},function(vn,_i){Cn(_i)})})}for(var he=[],ke=0,Ze=H.storeNames.length;ke<Ze;ke++)he.push(ue(H.storeNames[ke]));d.all(he).then(function(){ee()}).catch(function(yt){se(yt)})},function(le){se(le)})})}):Y=d.reject("Invalid arguments"),h(Y,B),Y}var kn={_driver:"webSQLStorage",_initStorage:fr,_support:Se(),iterate:Wr,getItem:yi,setItem:mn,removeItem:Le,clear:Xe,length:Un,key:Kr,keys:ye,dropInstance:ze};function Hn(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Yr(k,B){var R=k.name+"/";return k.storeName!==B.storeName&&(R+=k.storeName+"/"),R}function Ai(){var k="_localforage_support_test";try{return localStorage.setItem(k,!0),localStorage.removeItem(k),!1}catch{return!0}}function er(){return!Ai()||localStorage.length>0}function jr(k){var B=this,R={};if(k)for(var q in k)R[q]=k[q];return R.keyPrefix=Yr(k,B._defaultConfig),er()?(B._dbInfo=R,R.serializer=pt,d.resolve()):d.reject()}function Pt(k){var B=this,R=B.ready().then(function(){for(var q=B._dbInfo.keyPrefix,Y=localStorage.length-1;Y>=0;Y--){var H=localStorage.key(Y);H.indexOf(q)===0&&localStorage.removeItem(H)}});return h(R,k),R}function Sa(k,B){var R=this;k=g(k);var q=R.ready().then(function(){var Y=R._dbInfo,H=localStorage.getItem(Y.keyPrefix+k);return H&&(H=Y.serializer.deserialize(H)),H});return h(q,B),q}function hv(k,B){var R=this,q=R.ready().then(function(){for(var Y=R._dbInfo,H=Y.keyPrefix,ee=H.length,se=localStorage.length,le=1,ue=0;ue<se;ue++){var he=localStorage.key(ue);if(he.indexOf(H)===0){var ke=localStorage.getItem(he);if(ke&&(ke=Y.serializer.deserialize(ke)),ke=k(ke,he.substring(ee),le++),ke!==void 0)return ke}}});return h(q,B),q}function vh(k,B){var R=this,q=R.ready().then(function(){var Y=R._dbInfo,H;try{H=localStorage.key(k)}catch{H=null}return H&&(H=H.substring(Y.keyPrefix.length)),H});return h(q,B),q}function yh(k){var B=this,R=B.ready().then(function(){for(var q=B._dbInfo,Y=localStorage.length,H=[],ee=0;ee<Y;ee++){var se=localStorage.key(ee);se.indexOf(q.keyPrefix)===0&&H.push(se.substring(q.keyPrefix.length))}return H});return h(R,k),R}function Ah(k){var B=this,R=B.keys().then(function(q){return q.length});return h(R,k),R}function _h(k,B){var R=this;k=g(k);var q=R.ready().then(function(){var Y=R._dbInfo;localStorage.removeItem(Y.keyPrefix+k)});return h(q,B),q}function Ct(k,B,R){var q=this;k=g(k);var Y=q.ready().then(function(){B===void 0&&(B=null);var H=B;return new d(function(ee,se){var le=q._dbInfo;le.serializer.serialize(B,function(ue,he){if(he)se(he);else try{localStorage.setItem(le.keyPrefix+k,ue),ee(H)}catch(ke){(ke.name==="QuotaExceededError"||ke.name==="NS_ERROR_DOM_QUOTA_REACHED")&&se(ke),se(ke)}})})});return h(Y,R),Y}function Ki(k,B){if(B=m.apply(this,arguments),k=typeof k!="function"&&k||{},!k.name){var R=this.config();k.name=k.name||R.name,k.storeName=k.storeName||R.storeName}var q=this,Y;return k.name?Y=new d(function(H){k.storeName?H(Yr(k,q._defaultConfig)):H(k.name+"/")}).then(function(H){for(var ee=localStorage.length-1;ee>=0;ee--){var se=localStorage.key(ee);se.indexOf(H)===0&&localStorage.removeItem(se)}}):Y=d.reject("Invalid arguments"),h(Y,B),Y}var ku={_driver:"localStorageWrapper",_initStorage:jr,_support:Hn(),iterate:hv,getItem:Sa,setItem:Ct,removeItem:_h,clear:Pt,length:Ah,key:vh,keys:yh,dropInstance:Ki},xa=function(B,R){return B===R||typeof B=="number"&&typeof R=="number"&&isNaN(B)&&isNaN(R)},pv=function(B,R){for(var q=B.length,Y=0;Y<q;){if(xa(B[Y],R))return!0;Y++}return!1},Pl=Array.isArray||function(k){return Object.prototype.toString.call(k)==="[object Array]"},Cu={},tE={},jl={INDEXEDDB:Fe,WEBSQL:kn,LOCALSTORAGE:ku},SB=[jl.INDEXEDDB._driver,jl.WEBSQL._driver,jl.LOCALSTORAGE._driver],bh=["dropInstance"],gv=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(bh),xB={description:"",driver:SB.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function wB(k,B){k[B]=function(){var R=arguments;return k.ready().then(function(){return k[B].apply(k,R)})}}function mv(){for(var k=1;k<arguments.length;k++){var B=arguments[k];if(B)for(var R in B)B.hasOwnProperty(R)&&(Pl(B[R])?arguments[0][R]=B[R].slice():arguments[0][R]=B[R])}return arguments[0]}var EB=function(){function k(B){o(this,k);for(var R in jl)if(jl.hasOwnProperty(R)){var q=jl[R],Y=q._driver;this[R]=Y,Cu[Y]||this.defineDriver(q)}this._defaultConfig=mv({},xB),this._config=mv({},this._defaultConfig,B),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return k.prototype.config=function(R){if((typeof R>"u"?"undefined":s(R))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var q in R){if(q==="storeName"&&(R[q]=R[q].replace(/\W/g,"_")),q==="version"&&typeof R[q]!="number")return new Error("Database version must be a number.");this._config[q]=R[q]}return"driver"in R&&R.driver?this.setDriver(this._config.driver):!0}else return typeof R=="string"?this._config[R]:this._config},k.prototype.defineDriver=function(R,q,Y){var H=new d(function(ee,se){try{var le=R._driver,ue=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!R._driver){se(ue);return}for(var he=gv.concat("_initStorage"),ke=0,Ze=he.length;ke<Ze;ke++){var yt=he[ke],bt=!pv(bh,yt);if((bt||R[yt])&&typeof R[yt]!="function"){se(ue);return}}var Cn=function(){for(var Tu=function(TB){return function(){var IB=new Error("Method "+TB+" is not implemented by the current driver"),nE=d.reject(IB);return h(nE,arguments[arguments.length-1]),nE}},vv=0,CB=bh.length;vv<CB;vv++){var yv=bh[vv];R[yv]||(R[yv]=Tu(yv))}};Cn();var vn=function(Tu){Cu[le]&&console.info("Redefining LocalForage driver: "+le),Cu[le]=R,tE[le]=Tu,ee()};"_support"in R?R._support&&typeof R._support=="function"?R._support().then(vn,se):vn(!!R._support):vn(!0)}catch(_i){se(_i)}});return p(H,q,Y),H},k.prototype.driver=function(){return this._driver||null},k.prototype.getDriver=function(R,q,Y){var H=Cu[R]?d.resolve(Cu[R]):d.reject(new Error("Driver not found."));return p(H,q,Y),H},k.prototype.getSerializer=function(R){var q=d.resolve(pt);return p(q,R),q},k.prototype.ready=function(R){var q=this,Y=q._driverSet.then(function(){return q._ready===null&&(q._ready=q._initDriver()),q._ready});return p(Y,R,R),Y},k.prototype.setDriver=function(R,q,Y){var H=this;Pl(R)||(R=[R]);var ee=this._getSupportedDrivers(R);function se(){H._config.driver=H.driver()}function le(ke){return H._extend(ke),se(),H._ready=H._initStorage(H._config),H._ready}function ue(ke){return function(){var Ze=0;function yt(){for(;Ze<ke.length;){var bt=ke[Ze];return Ze++,H._dbInfo=null,H._ready=null,H.getDriver(bt).then(le).catch(yt)}se();var Cn=new Error("No available storage method found.");return H._driverSet=d.reject(Cn),H._driverSet}return yt()}}var he=this._driverSet!==null?this._driverSet.catch(function(){return d.resolve()}):d.resolve();return this._driverSet=he.then(function(){var ke=ee[0];return H._dbInfo=null,H._ready=null,H.getDriver(ke).then(function(Ze){H._driver=Ze._driver,se(),H._wrapLibraryMethodsWithReady(),H._initDriver=ue(ee)})}).catch(function(){se();var ke=new Error("No available storage method found.");return H._driverSet=d.reject(ke),H._driverSet}),p(this._driverSet,q,Y),this._driverSet},k.prototype.supports=function(R){return!!tE[R]},k.prototype._extend=function(R){mv(this,R)},k.prototype._getSupportedDrivers=function(R){for(var q=[],Y=0,H=R.length;Y<H;Y++){var ee=R[Y];this.supports(ee)&&q.push(ee)}return q},k.prototype._wrapLibraryMethodsWithReady=function(){for(var R=0,q=gv.length;R<q;R++)wB(this,gv[R])},k.prototype.createInstance=function(R){return new k(R)},k}(),kB=new EB;r.exports=kB},{3:3}]},{},[4])(4)})})(dj);var fj=dj.exports;const wd=ur(fj),hj=pM({__proto__:null,default:wd},[fj]);function Q9(e){const t={...e};M5(t,"react"),K9(t)}var pj={exports:{}},wt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zn=typeof Symbol=="function"&&Symbol.for,Hb=Zn?Symbol.for("react.element"):60103,Gb=Zn?Symbol.for("react.portal"):60106,$m=Zn?Symbol.for("react.fragment"):60107,Dm=Zn?Symbol.for("react.strict_mode"):60108,Fm=Zn?Symbol.for("react.profiler"):60114,zm=Zn?Symbol.for("react.provider"):60109,Um=Zn?Symbol.for("react.context"):60110,qb=Zn?Symbol.for("react.async_mode"):60111,Hm=Zn?Symbol.for("react.concurrent_mode"):60111,Gm=Zn?Symbol.for("react.forward_ref"):60112,qm=Zn?Symbol.for("react.suspense"):60113,J9=Zn?Symbol.for("react.suspense_list"):60120,Wm=Zn?Symbol.for("react.memo"):60115,Km=Zn?Symbol.for("react.lazy"):60116,X9=Zn?Symbol.for("react.block"):60121,Z9=Zn?Symbol.for("react.fundamental"):60117,eU=Zn?Symbol.for("react.responder"):60118,tU=Zn?Symbol.for("react.scope"):60119;function gi(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Hb:switch(e=e.type,e){case qb:case Hm:case $m:case Fm:case Dm:case qm:return e;default:switch(e=e&&e.$$typeof,e){case Um:case Gm:case Km:case Wm:case zm:return e;default:return t}}case Gb:return t}}}function gj(e){return gi(e)===Hm}wt.AsyncMode=qb;wt.ConcurrentMode=Hm;wt.ContextConsumer=Um;wt.ContextProvider=zm;wt.Element=Hb;wt.ForwardRef=Gm;wt.Fragment=$m;wt.Lazy=Km;wt.Memo=Wm;wt.Portal=Gb;wt.Profiler=Fm;wt.StrictMode=Dm;wt.Suspense=qm;wt.isAsyncMode=function(e){return gj(e)||gi(e)===qb};wt.isConcurrentMode=gj;wt.isContextConsumer=function(e){return gi(e)===Um};wt.isContextProvider=function(e){return gi(e)===zm};wt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Hb};wt.isForwardRef=function(e){return gi(e)===Gm};wt.isFragment=function(e){return gi(e)===$m};wt.isLazy=function(e){return gi(e)===Km};wt.isMemo=function(e){return gi(e)===Wm};wt.isPortal=function(e){return gi(e)===Gb};wt.isProfiler=function(e){return gi(e)===Fm};wt.isStrictMode=function(e){return gi(e)===Dm};wt.isSuspense=function(e){return gi(e)===qm};wt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===$m||e===Hm||e===Fm||e===Dm||e===qm||e===J9||typeof e=="object"&&e!==null&&(e.$$typeof===Km||e.$$typeof===Wm||e.$$typeof===zm||e.$$typeof===Um||e.$$typeof===Gm||e.$$typeof===Z9||e.$$typeof===eU||e.$$typeof===tU||e.$$typeof===X9)};wt.typeOf=gi;pj.exports=wt;var nU=pj.exports,Wb=nU,rU={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},iU={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},sU={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},mj={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Kb={};Kb[Wb.ForwardRef]=sU;Kb[Wb.Memo]=mj;function uk(e){return Wb.isMemo(e)?mj:Kb[e.$$typeof]||rU}var oU=Object.defineProperty,aU=Object.getOwnPropertyNames,dk=Object.getOwnPropertySymbols,lU=Object.getOwnPropertyDescriptor,cU=Object.getPrototypeOf,fk=Object.prototype;function vj(e,t,n){if(typeof t!="string"){if(fk){var r=cU(t);r&&r!==fk&&vj(e,r,n)}var i=aU(t);dk&&(i=i.concat(dk(t)));for(var s=uk(e),o=uk(t),a=0;a<i.length;++a){var l=i[a];if(!iU[l]&&!(n&&n[l])&&!(o&&o[l])&&!(s&&s[l])){var c=lU(t,l);try{oU(e,l,c)}catch{}}}}return e}var uU=vj;const dU=ur(uU),fU="ui.react.render",hU="ui.react.update",pU="ui.react.mount",hk="/home/runner/work/sentry-javascript/sentry-javascript/packages/react/src/profiler.tsx",gU="unknown";class yj extends A.Component{static __initStatic(){this.defaultProps={disabled:!1,includeRender:!0,includeUpdates:!0}}constructor(t){super(t);const{name:n,disabled:r=!1}=this.props;r||(this._mountSpan=bd({name:`<${n}>`,onlyIfParent:!0,op:pU,origin:"auto.ui.react.profiler",attributes:{"ui.component_name":n}}))}componentDidMount(){this._mountSpan&&this._mountSpan.end()}shouldComponentUpdate({updateProps:t,includeUpdates:n=!0}){if(n&&this._mountSpan&&t!==this.props.updateProps){const r=Object.keys(t).filter(i=>t[i]!==this.props.updateProps[i]);if(r.length>0){const i=nl();this._updateSpan=N2(this._mountSpan,()=>bd({name:`<${this.props.name}>`,onlyIfParent:!0,op:hU,origin:"auto.ui.react.profiler",startTimestamp:i,attributes:{"ui.component_name":this.props.name,"ui.react.changed_props":r}}))}}return!0}componentDidUpdate(){this._updateSpan&&(this._updateSpan.end(),this._updateSpan=void 0)}componentWillUnmount(){const t=nl(),{name:n,includeRender:r=!0}=this.props;if(this._mountSpan&&r){const i=Vn(this._mountSpan).timestamp;N2(this._mountSpan,()=>{const s=bd({onlyIfParent:!0,name:`<${n}>`,op:fU,origin:"auto.ui.react.profiler",startTimestamp:i,attributes:{"ui.component_name":n}});s&&s.end(t)})}}render(){return this.props.children}}yj.__initStatic();function mU(e,t){const n=t&&t.name||e.displayName||e.name||gU,r=i=>A.createElement(yj,{...t,name:n,updateProps:i,__self:this,__source:{fileName:hk,lineNumber:159}},A.createElement(e,{...i,__self:this,__source:{fileName:hk,lineNumber:160}}));return r.displayName=`profiler(${n})`,dU(r,e),r}const vU=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function yU(e){const t=e.match(/^([^.]+)/);return t!==null&&parseInt(t[0])>=17}const pk={componentStack:null,error:null,eventId:null};function AU(e,t){const n=new WeakMap;function r(i,s){if(!n.has(i)){if(i.cause)return n.set(i,!0),r(i.cause,s);i.cause=s}}r(e,t)}class Yb extends A.Component{constructor(t){super(t),Yb.prototype.__init.call(this),this.state=pk,this._openFallbackReportDialog=!0;const n=Ln();n&&n.on&&t.showDialog&&(this._openFallbackReportDialog=!1,n.on("afterSendEvent",r=>{!r.type&&r.event_id===this._lastEventId&&ck({...t.dialogOptions,eventId:this._lastEventId})}))}componentDidCatch(t,{componentStack:n}){const{beforeCapture:r,onError:i,showDialog:s,dialogOptions:o}=this.props;Vb(a=>{if(yU(A.version)&&xb(t)){const c=new Error(t.message);c.name=`React ErrorBoundary ${t.name}`,c.stack=n,AU(t,c)}r&&r(a,t,n);const l=Us(t,{captureContext:{contexts:{react:{componentStack:n}}},mechanism:{handled:!!this.props.fallback}});i&&i(t,n,l),s&&(this._lastEventId=l,this._openFallbackReportDialog&&ck({...o,eventId:l})),this.setState({error:t,componentStack:n,eventId:l})})}componentDidMount(){const{onMount:t}=this.props;t&&t()}componentWillUnmount(){const{error:t,componentStack:n,eventId:r}=this.state,{onUnmount:i}=this.props;i&&i(t,n,r)}__init(){this.resetErrorBoundary=()=>{const{onReset:t}=this.props,{error:n,componentStack:r,eventId:i}=this.state;t&&t(n,r,i),this.setState(pk)}}render(){const{fallback:t,children:n}=this.props,r=this.state;if(r.error){let i;return typeof t=="function"?i=t({error:r.error,componentStack:r.componentStack,resetError:this.resetErrorBoundary,eventId:r.eventId}):i=t,A.isValidElement(i)?i:(t&&vU&&re.warn("fallback did not produce a valid ReactElement"),null)}return typeof n=="function"?n():n}}const _U="modulepreload",bU=function(e){return"/prs/275/"+e},gk={},hu=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){const s=document.getElementsByTagName("link"),o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.all(n.map(l=>{if(l=bU(l),l in gk)return;gk[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(!!r)for(let p=s.length-1;p>=0;p--){const g=s[p];if(g.href===l&&(!c||g.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${l}"]${u}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":_U,c||(h.as="script",h.crossOrigin=""),h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),c)return new Promise((p,g)=>{h.addEventListener("load",p),h.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}return i.then(()=>t()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};class Aj{constructor(){this.init=async(t,n)=>{const r=await hu(()=>import("./aubio-BXVQmmIs.js"),[]),{Pitch:i}=await r.default();this.detector=new i("default",n,n/8,t.sampleRate),this.detector.setTolerance(.5)},this.getFrequency=async t=>this.detector.do(t)}getSampleSize(){return 2048}}class SU extends wo{constructor(){super(...arguments),this.status="uninitialised",this.getUserMedia=async(...t)=>this.requestAndTrack(()=>navigator.mediaDevices.getUserMedia(...t)),this.enumerateDevices=async(...t)=>this.requestAndTrack(()=>navigator.mediaDevices.enumerateDevices(...t)),this.requestAndTrack=async t=>{try{this.status!=="accepted"&&this.setStatus("requested");const n=await t();return this.setStatus("accepted"),n}catch(n){throw this.setStatus("declined"),n}},this.setStatus=t=>{this.status=t,this.onUpdate(t)},this.getStatus=()=>this.status}}const Zo=new SU;let _j=class{constructor(){this.stream=null,this.context=null,this.interval=null,this.frequencies=[0,0],this.volumes=[0,0],this.startedMonitoring=!1,this.startMonitoring=async(t,n=!1)=>{if(!this.startedMonitoring){this.startedMonitoring=!0;try{this.stream=await Zo.getUserMedia({audio:{...t?{deviceId:t,exact:!0}:{},echoCancellation:n},video:!1});try{this.context=new AudioContext;const r=this.context.createMediaStreamSource(this.stream),i=this.context.createChannelSplitter(2);r.connect(i);const s=this.context.createAnalyser();s.fftSize=2048,s.minDecibels=-100;const o=this.context.createAnalyser();o.fftSize=2048,o.minDecibels=-100,i.connect(s,0),i.connect(o,1);const a=new Aj;await a.init(this.context,s.fftSize),this.interval=setInterval(async()=>{const l=new Float32Array(s.fftSize),c=new Float32Array(o.fftSize);s.getFloatTimeDomainData(l),o.getFloatTimeDomainData(c),this.frequencies=await Promise.all([a.getFrequency(l),a.getFrequency(c)]),this.volumes=[this.calculateVolume(l),this.calculateVolume(c)]},this.context.sampleRate/s.fftSize),te.micMonitoringStarted.dispatch()}catch(r){Us(r),console.error(r)}}catch(r){Us(r,{level:"warning"}),console.warn(r)}}},this.getFrequencies=()=>this.frequencies,this.getVolumes=()=>this.volumes,this.clearFrequencies=t=>{},this.stopMonitoring=async()=>{var t,n;if(this.startedMonitoring){this.startedMonitoring=!1,this.interval&&clearInterval(this.interval),(t=this.stream)==null||t.getTracks().forEach(function(r){r.stop()});try{await((n=this.context)==null?void 0:n.close())}catch(r){console.log("MicInput.stoMonitoring error",r)}te.micMonitoringStopped.dispatch()}},this.getInputLag=()=>180,this.requestReadiness=()=>Promise.resolve(!0),this.getStatus=()=>"ok"}calculateVolume(t){let n,r=0;for(n=0;n<t.length;++n)r+=t[n]*t[n];return Math.sqrt(r/t.length)}};new _j;class xU{constructor(){this.devices={},this.startMonitoring=async(t,n=!1)=>{t&&(this.devices[t]||(this.devices[t]=new _j),await this.devices[t].startMonitoring(t,n))},this.getFrequencies=t=>t&&this.devices[t]?this.devices[t].getFrequencies():[0,0],this.getVolumes=t=>t&&this.devices[t]?this.devices[t].getVolumes():[0,0],this.clearFrequencies=t=>{if(t&&this.devices[t])return this.devices[t].clearFrequencies(t)},this.stopMonitoring=async()=>{Object.values(this.devices).forEach(t=>t.stopMonitoring())},this.getInputLag=t=>t&&this.devices[t]?this.devices[t].getInputLag():180,this.requestReadiness=async t=>t&&this.devices[t]?this.devices[t].requestReadiness():!0,this.getStatus=t=>t&&this.devices[t]?this.devices[t].getStatus():"ok"}}const wU=new xU;class EU{constructor(){this.frequencies=[0],this.volumes=[1],this.startMonitoring=async t=>{var n;return(n=et.getRemoteMicById(t??""))==null?void 0:n.getInput().startMonitoring()},this.getFrequencies=t=>{var r;return((r=et.getRemoteMicById(t??""))==null?void 0:r.getInput().getFrequencies())??this.frequencies},this.clearFrequencies=t=>{var n;(n=et.getRemoteMicById(t??""))==null||n.getInput().clearFrequencies()},this.getVolumes=t=>{var r;return((r=et.getRemoteMicById(t??""))==null?void 0:r.getInput().getVolumes())??this.volumes},this.stopMonitoring=async t=>{var n;return(n=et.getRemoteMicById(t??""))==null?void 0:n.getInput().stopMonitoring()},this.requestReadiness=t=>{var n;return((n=et.getRemoteMicById(t??""))==null?void 0:n.getInput().requestReadiness())??Promise.resolve(!0)},this.getInputLag=t=>{var n;return((n=et.getRemoteMicById(t??""))==null?void 0:n.getInput().getInputLag())??0},this.getStatus=t=>{const n=et.getRemoteMicById(t??"");return!n||n.getLatency()>1500?"unavailable":n.getLatency()>500?"unstable":"ok"}}}const kU=new EU;function ms(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var bj=typeof global=="object"&&global&&global.Object===Object&&global,CU=typeof self=="object"&&self&&self.Object===Object&&self,ys=bj||CU||Function("return this")(),Dv=function(){return ys.Date.now()},TU=/\s/;function IU(e){for(var t=e.length;t--&&TU.test(e.charAt(t)););return t}var RU=/^\s+/;function MU(e){return e&&e.slice(0,IU(e)+1).replace(RU,"")}var $i=ys.Symbol,Sj=Object.prototype,PU=Sj.hasOwnProperty,jU=Sj.toString,Vu=$i?$i.toStringTag:void 0;function OU(e){var t=PU.call(e,Vu),n=e[Vu];try{e[Vu]=void 0;var r=!0}catch{}var i=jU.call(e);return r&&(t?e[Vu]=n:delete e[Vu]),i}var VU=Object.prototype,LU=VU.toString;function NU(e){return LU.call(e)}var BU="[object Null]",$U="[object Undefined]",mk=$i?$i.toStringTag:void 0;function wl(e){return e==null?e===void 0?$U:BU:mk&&mk in Object(e)?OU(e):NU(e)}function go(e){return e!=null&&typeof e=="object"}var DU="[object Symbol]";function Ym(e){return typeof e=="symbol"||go(e)&&wl(e)==DU}var vk=NaN,FU=/^[-+]0x[0-9a-f]+$/i,zU=/^0b[01]+$/i,UU=/^0o[0-7]+$/i,HU=parseInt;function e1(e){if(typeof e=="number")return e;if(Ym(e))return vk;if(ms(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=ms(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=MU(e);var n=zU.test(e);return n||UU.test(e)?HU(e.slice(2),n?2:8):FU.test(e)?vk:+e}var GU="Expected a function",qU=Math.max,WU=Math.min;function xj(e,t,n){var r,i,s,o,a,l,c=0,u=!1,d=!1,h=!0;if(typeof e!="function")throw new TypeError(GU);t=e1(t)||0,ms(n)&&(u=!!n.leading,d="maxWait"in n,s=d?qU(e1(n.maxWait)||0,t):s,h="trailing"in n?!!n.trailing:h);function p(w){var E=r,I=i;return r=i=void 0,c=w,o=e.apply(I,E),o}function g(w){return c=w,a=setTimeout(v,t),u?p(w):o}function m(w){var E=w-l,I=w-c,z=t-E;return d?WU(z,s-I):z}function _(w){var E=w-l,I=w-c;return l===void 0||E>=t||E<0||d&&I>=s}function v(){var w=Dv();if(_(w))return y(w);a=setTimeout(v,m(w))}function y(w){return a=void 0,h&&r?p(w):(r=i=void 0,o)}function b(){a!==void 0&&clearTimeout(a),c=0,r=l=i=a=void 0}function x(){return a===void 0?o:y(Dv())}function S(){var w=Dv(),E=_(w);if(r=arguments,i=this,l=w,E){if(a===void 0)return g(l);if(d)return clearTimeout(a),a=setTimeout(v,t),p(l)}return a===void 0&&(a=setTimeout(v,t)),o}return S.cancel=b,S.flush=x,S}const Cr={DUEL:"DUEL",PASS_THE_MIC:"PASS_THE_MIC",CO_OP:"CO_OP"},Ed=["freestyle","rap"],wj=[],Ej=440,kj=69,Qb=20;var KU="[object AsyncFunction]",YU="[object Function]",QU="[object GeneratorFunction]",JU="[object Proxy]";function Cj(e){if(!ms(e))return!1;var t=wl(e);return t==YU||t==QU||t==KU||t==JU}var Fv=ys["__core-js_shared__"],yk=function(){var e=/[^.]+$/.exec(Fv&&Fv.keys&&Fv.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function XU(e){return!!yk&&yk in e}var ZU=Function.prototype,eH=ZU.toString;function El(e){if(e!=null){try{return eH.call(e)}catch{}try{return e+""}catch{}}return""}var tH=/[\\^$.*+?()[\]{}|]/g,nH=/^\[object .+?Constructor\]$/,rH=Function.prototype,iH=Object.prototype,sH=rH.toString,oH=iH.hasOwnProperty,aH=RegExp("^"+sH.call(oH).replace(tH,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function lH(e){if(!ms(e)||XU(e))return!1;var t=Cj(e)?aH:nH;return t.test(El(e))}function cH(e,t){return e==null?void 0:e[t]}function kl(e,t){var n=cH(e,t);return lH(n)?n:void 0}var Zd=kl(Object,"create");function uH(){this.__data__=Zd?Zd(null):{},this.size=0}function dH(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var fH="__lodash_hash_undefined__",hH=Object.prototype,pH=hH.hasOwnProperty;function gH(e){var t=this.__data__;if(Zd){var n=t[e];return n===fH?void 0:n}return pH.call(t,e)?t[e]:void 0}var mH=Object.prototype,vH=mH.hasOwnProperty;function yH(e){var t=this.__data__;return Zd?t[e]!==void 0:vH.call(t,e)}var AH="__lodash_hash_undefined__";function _H(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Zd&&t===void 0?AH:t,this}function sl(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}sl.prototype.clear=uH;sl.prototype.delete=dH;sl.prototype.get=gH;sl.prototype.has=yH;sl.prototype.set=_H;function bH(){this.__data__=[],this.size=0}function Qm(e,t){return e===t||e!==e&&t!==t}function Jm(e,t){for(var n=e.length;n--;)if(Qm(e[n][0],t))return n;return-1}var SH=Array.prototype,xH=SH.splice;function wH(e){var t=this.__data__,n=Jm(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():xH.call(t,n,1),--this.size,!0}function EH(e){var t=this.__data__,n=Jm(t,e);return n<0?void 0:t[n][1]}function kH(e){return Jm(this.__data__,e)>-1}function CH(e,t){var n=this.__data__,r=Jm(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function Eo(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Eo.prototype.clear=bH;Eo.prototype.delete=wH;Eo.prototype.get=EH;Eo.prototype.has=kH;Eo.prototype.set=CH;var ef=kl(ys,"Map");function TH(){this.size=0,this.__data__={hash:new sl,map:new(ef||Eo),string:new sl}}function IH(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Xm(e,t){var n=e.__data__;return IH(t)?n[typeof t=="string"?"string":"hash"]:n.map}function RH(e){var t=Xm(this,e).delete(e);return this.size-=t?1:0,t}function MH(e){return Xm(this,e).get(e)}function PH(e){return Xm(this,e).has(e)}function jH(e,t){var n=Xm(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function ko(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ko.prototype.clear=TH;ko.prototype.delete=RH;ko.prototype.get=MH;ko.prototype.has=PH;ko.prototype.set=jH;var OH="Expected a function";function Zm(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(OH);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=e.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(Zm.Cache||ko),n}Zm.Cache=ko;function xg(e){return Ed.includes(e.note.type)?0:e.distance}function It(e){return(e==null?void 0:e.type)==="notes"&&!!e.notes.length}const VH=35e5,Ca={freestyle:.25,rap:.25,rapstar:.5,star:2,normal:1,perfect:.5,vibrato:.25},Ak=e=>({freestyle:e.freestyle*Ca.freestyle,rap:e.rap*Ca.rap,rapstar:e.rapstar*Ca.rapstar,star:e.star*Ca.star,normal:e.normal*Ca.normal,perfect:e.perfect*Ca.perfect,vibrato:e.vibrato*Ca.vibrato}),Jb=e=>e.freestyle+e.rap+e.star+e.normal+e.perfect+e.vibrato,Dh=(e,t)=>({freestyle:e.freestyle*t,rap:e.rap*t,rapstar:e.rapstar*t,star:e.star*t,normal:e.normal*t,perfect:e.perfect*t,vibrato:e.vibrato*t}),_k=(e,t)=>({freestyle:e.freestyle+t.freestyle,rap:e.rap+t.rap,rapstar:e.rapstar+t.rapstar,star:e.star+t.star,normal:e.normal+t.normal,perfect:e.perfect+t.perfect,vibrato:e.vibrato+t.vibrato}),bk=(e,t)=>({freestyle:e.freestyle/t,rap:e.rap/t,rapstar:e.rapstar/t,star:e.star/t,normal:e.normal/t,perfect:e.perfect/t,vibrato:e.vibrato/t}),Sk=Zm(e=>e.tracks.map(({sections:t})=>{const n={freestyle:0,rap:0,rapstar:0,star:0,normal:0,perfect:0,vibrato:0};return t.filter(It).forEach(r=>{r.notes.filter(s=>!wj.includes(s.type)).forEach(s=>{n[s.type]=n[s.type]+s.length,n.perfect=n.perfect+s.length,n.vibrato=n.vibrato+s.length})}),n}));function Tj(e,t,n){const r=Sk(t),i={freestyle:0,rap:0,rapstar:0,star:0,normal:0,perfect:0,vibrato:0};if(!r[n])return console.error(`No beat count for track ${n} in song`,t),[0,i,i];const s=Ak(Sk(t)[n]),o=VH/Jb(s);for(let a=0;a<e.length;a++){const l=e[a];wj.includes(l.note.type)||xg(l)===0&&(i[l.note.type]=i[l.note.type]+l.length,l.isPerfect&&(i.perfect=i.perfect+l.length),l.vibrato&&(i.vibrato=i.vibrato+l.length))}return[o,Ak(i),s]}function LH(e,t,n){const[r,i]=Tj(e,t,n);return Jb(i)*r}function NH(e,t,n,r=!0){const i=(e-n)/t;return r?Math.floor(i):i}function BH(e){return Ej*Math.pow(2,(e-kj)/12)}const $H=e=>Math.round(12*(Math.log(e/Ej)/Math.log(2)))+kj,DH=(e,t)=>Math.floor(1200*Math.log(t/e)/Math.log(2)),FH=(e,t,n)=>{const r=BH(e),i=DH(r,t);return Math.sign(i)*((Math.abs(i)%1200+600)%1200-600)/(n*100+50)},zH=(e,t,n)=>{const r=(e%12-t%12+18)%12-6;return Math.abs(r)<=n?0:r},UH=(e,t)=>{const n=Ne.getTolerance(),r=$H(e);let i=-1;const s=zH(r,t,n);return s===0&&(i=FH(t,e,n)),{distance:s,preciseDistance:i}},xk=6;function HH(e){const t=[];for(let r=1;r<e.length;r++){if(Math.round(e[r].frequency/2)===Math.round(e[r-1].frequency/2))continue;const i=e[r].frequency>e[r-1].frequency?">":"<";if(t.length===0)t.push({...e[r],interval:e[r].timestamp-e[r-1].timestamp,change:i});else{const s=t.at(-1);s.change!==i&&t.push({...e[r],interval:e[r].timestamp-s.timestamp,change:i})}}const n=t;for(let r=0;r<n.length-xk;r++){const s=n.slice(r,r+xk-1).map(c=>c.interval),o=Math.max(...s),a=Math.min(...s),l=s.reduce((c,u)=>c+u,0)/s.length;if(o<l*1.75&&a>l/1.75)return!0}return!1}const GH=100;function qH(e,t,n,r){if(t.frequency===0)return;const i={...t,beat:Math.max(0,t.timestamp)/r,...UH(t.frequency,n.pitch)},s=e.at(-1),o=GH/r,a=n.start+n.length,l=!s||s.note.start!==n.start,c=!s||s.distance!==i.distance&&!Ed.includes(n.type);if(l||c||i.beat-(s.start+s.length)>o){const u=i.beat-o<n.start?n.start:i.beat;if(e.push({start:Math.min(l?u:i.beat,a),length:0,distance:i.distance,note:n,isPerfect:!1,vibrato:!1,frequencyRecords:[{frequency:i.frequency,preciseDistance:i.preciseDistance,timestamp:i.timestamp}]}),s&&n.start!==s.note.start){const d=s.start+s.length,h=s.note.start+s.note.length,p=d+o>h?h:d;s.length=Math.max(0,p-s.start)}}else s.length=Math.max(0,Math.min(i.beat,n.start+n.length)-s.start),s.frequencyRecords.push({frequency:i.frequency,timestamp:i.timestamp,preciseDistance:i.preciseDistance}),s.isPerfect=s.distance===0&&Math.abs(s.length-s.note.length)<.5,s.vibrato=s.distance===0&&HH(s.frequencyRecords)}const WH=e=>e.notes[0],la=e=>{const t=e.find(It);return t?WH(t).start:1/0},tf=e=>{const n=e.filter(It).at(-1);return n?nf(n):0},nf=e=>{const t=e.notes.at(-1);return t.start+t.length},wk=(e,t,n=0)=>e.notes.find(r=>r.start-n<=t&&r.start+r.length+n>=t);class KH{constructor(t,n){this.number=t,this.gameState=n,this.frequencyRecords=[],this.playerNotes=[],this.realFrequencyRecords=[],this.realPlayerNotes=[],this.min=1/0,this.max=-1/0,this.storedSectionIndex=0,this.getNumber=()=>this.number,this.update=()=>{const r=this.gameState.getCurrentTime(),i=fn.getPlayerFrequency(this.number),s=r-fn.getPlayerInputLag(this.number);if(Array.isArray(i)){const o=this.realFrequencyRecords.at(-1)||this.frequencyRecords.at(0),a=(o==null?void 0:o.timestamp)??0,l=(s-a)/i.length;this.frequencyRecords=this.realFrequencyRecords,this.playerNotes=this.realPlayerNotes;for(let u=0;u<i.length;u++){const d=a+l*(u+1);this.updatePlayerNotes(d,i[u])}this.realFrequencyRecords=[...this.frequencyRecords],this.realPlayerNotes=[...this.playerNotes];const c=this.realPlayerNotes.at(-1);c&&(this.realPlayerNotes[this.realPlayerNotes.length-1]={...c,frequencyRecords:[...c.frequencyRecords??[]]}),fn.clearPlayerCachedFrequencies(this.number)}else this.updatePlayerNotes(s,i);this.dispatchSectionUpdate()},this.dispatchSectionUpdate=()=>{const r=this.getCurrentSectionIndex();this.storedSectionIndex!==r&&(te.sectionChange.dispatch(this.number,this.storedSectionIndex),this.storedSectionIndex=r)},this.updatePlayerNotes=(r,i)=>{const s={timestamp:r,frequency:i};this.frequencyRecords.push(s);const o=s.timestamp/this.gameState.getSongBeatLength(),a=this.getSectionByBeat(o);if(It(a)){const l=wk(a,o,0)??wk(a,o,.5);l&&qH(this.playerNotes,s,l,this.gameState.getSongBeatLength())}},this.getPlayerNotes=()=>this.playerNotes,this.getPlayerFrequencies=()=>this.frequencyRecords,this.getSectionIndexByBeat=r=>this.getTrack().sections.findIndex((i,s,o)=>r<0?!0:r<i.start?!1:s===o.length-1?!0:o[s+1].start>r),this.getCurrentSectionIndex=()=>this.getSectionIndexByBeat(this.gameState.getCurrentBeat()),this.getSectionByBeat=r=>this.getTrack().sections[this.getSectionIndexByBeat(r)]??null,this.getCurrentSection=()=>{const r=this.getCurrentSectionIndex();return this.getTrack().sections[r]??null},this.getNextSection=(r=1)=>{const i=this.getCurrentSectionIndex();return i>-1?this.getTrack().sections[i+r]??null:null},this.getPreviousSection=(r=1)=>{const i=this.getCurrentSectionIndex();return i>-1?this.getTrack().sections[i-r]??null:null},this.getLastNotesSection=()=>{const r=this.getTrack().sections.at(-1);return It(r)?r:this.getTrack().sections.at(-2)},this.getScore=()=>LH(this.playerNotes,this.gameState.getSong(),this.getTrackIndex()),this.getDetailedScore=()=>Tj(this.playerNotes,this.gameState.getSong(),this.getTrackIndex()),this.getMinPitch=()=>this.min,this.getMaxPitch=()=>this.max,this.getTrackIndex=()=>this.gameState.getSingSetup().players.find(r=>r.number===this.number).track,this.getTrack=()=>{var r;return this.gameState.isMergedTrack()?(r=this.gameState.getSong())==null?void 0:r.mergedTrack:this.gameState.getSong().tracks[this.getTrackIndex()]},this.resetNotes=()=>{this.playerNotes=[]},this.getTrack().sections.filter(It).forEach(r=>r.notes.forEach(i=>{this.min=Math.min(this.min,i.pitch),this.max=Math.max(this.max,i.pitch)}))}}function YH(e){return Math.max(...e.tracks.map(t=>{const n=t.sections.filter(It).at(-1);return n?nf(n):0}))}function Xb(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError("Expected a function");const n=function(...r){const i=t?t.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);const o=e.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(Xb.Cache||Map),n}Xb.Cache=Map;const pu=Xb(function(t){return 60/t.bpm/(t.bar??4)*1e3});class QH{constructor(){this.song=null,this.currentTime=0,this.duration=0,this.singSetup=null,this.playerStates=[],this.playing=!1,this.setCurrentTime=t=>this.currentTime=t,this.getCurrentTime=(t=!0)=>this.currentTime-(t&&this.song?this.song.gap:0),this.getSongBeatLength=()=>pu(this.song),this.getCurrentBeat=()=>NH(this.getCurrentTime(),this.getSongBeatLength(),0,!1),this.setSong=t=>this.song=t,this.getSong=()=>this.song,this.getSingSetup=()=>this.singSetup,this.setSingSetup=t=>{this.singSetup=t,this.playerStates=t.players.map(({number:n},r)=>new KH(n,this)),this.currentTime=0,this.playing=!0},this.resetSingSetup=()=>{this.playing=!1},this.isPlaying=()=>this.playing,this.getTolerance=()=>{var t;return((t=this.getSingSetup())==null?void 0:t.tolerance)??2},this.setDuration=t=>this.duration=t,this.getDuration=()=>this.duration,this.getPlayer=t=>this.playerStates.find(n=>n.getNumber()===t),this.getPlayers=()=>this.playerStates,this.getPlayerCount=()=>this.playerStates.length,this.getPlayerScore=t=>{var n,r;return((n=this.getSingSetup())==null?void 0:n.mode)===Cr.CO_OP?this.getPlayers().reduce((s,o)=>s+o.getScore(),0)/this.getPlayerCount():((r=this.getPlayer(t))==null?void 0:r.getScore())??-1},this.getPlayerDetailedScore=t=>{var n;if(((n=this.getSingSetup())==null?void 0:n.mode)===Cr.CO_OP){const r=this.getPlayers().map(a=>a.getDetailedScore()),[i,...s]=r.map(([a,l,c])=>[Dh(l,a),Dh(c,a)]),o=s.reduce((a,l)=>[_k(a[0],l[0]),_k(a[1],l[1])],i);return[bk(o[0],this.getPlayerCount()),bk(o[1],this.getPlayerCount())]}else{const[r,i,s]=this.getPlayer(t).getDetailedScore();return[Dh(i,r),Dh(s,r)]}},this.getSongCompletionProgress=()=>Math.max(0,Math.min(1,this.getCurrentBeat()/YH(this.getSong()))),this.startInputMonitoring=async()=>fn.startMonitoring(),this.stopInputMonitoring=()=>fn.stopMonitoring(),this.update=()=>{this.playerStates.forEach(t=>t.update())},this.resetPlayerNotes=()=>{this.playerStates.forEach(t=>t.resetNotes())},this.isMergedTrack=()=>{var t;return((t=this.getSingSetup())==null?void 0:t.players.length)!==2}}}const Ne=new QH;var nM;const JH=(nM=global==null?void 0:global.sessionStorage)==null?void 0:nM.getItem("isE2E");function Hs(){var t,n;if(JH)return!0;const e=(global==null?void 0:global.isE2ETests)||((t=global==null?void 0:global.location)==null?void 0:t.search.includes("e2e-test"));return e&&((n=global==null?void 0:global.sessionStorage)==null||n.setItem("isE2E","true")),e}const XH=Hs()?{host:"localhost",port:3001,path:"/"}:{},Ij={...XH};var ZH=Object.create,e0=Object.defineProperty,eG=Object.defineProperties,tG=Object.getOwnPropertyDescriptor,nG=Object.getOwnPropertyDescriptors,Rj=Object.getOwnPropertyNames,Ek=Object.getOwnPropertySymbols,rG=Object.getPrototypeOf,Mj=Object.prototype.hasOwnProperty,iG=Object.prototype.propertyIsEnumerable,kk=(e,t,n)=>t in e?e0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Zb=(e,t)=>{for(var n in t||(t={}))Mj.call(t,n)&&kk(e,n,t[n]);if(Ek)for(var n of Ek(t))iG.call(t,n)&&kk(e,n,t[n]);return e},Pj=(e,t)=>eG(e,nG(t)),sG=e=>e0(e,"__esModule",{value:!0}),eS=(e,t)=>function(){return t||(0,e[Rj(e)[0]])((t={exports:{}}).exports,t),t.exports},oG=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Rj(t))!Mj.call(e,i)&&(n||i!=="default")&&e0(e,i,{get:()=>t[i],enumerable:!(r=tG(t,i))||r.enumerable});return e},Wf=(e,t)=>oG(sG(e0(e!=null?ZH(rG(e)):{},"default",!t&&e&&e.__esModule?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e),Zl=(e,t,n)=>new Promise((r,i)=>{var s=l=>{try{a(n.next(l))}catch(c){i(c)}},o=l=>{try{a(n.throw(l))}catch(c){i(c)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(s,o);a((n=n.apply(e,t)).next())}),Ck=eS({"node_modules/peerjs-js-binarypack/lib/bufferbuilder.js"(e,t){var n={};n.useBlobBuilder=function(){try{return new Blob([]),!1}catch{return!0}}(),n.useArrayBufferView=!n.useBlobBuilder&&function(){try{return new Blob([new Uint8Array([])]).size===0}catch{return!0}}(),t.exports.binaryFeatures=n;var r=t.exports.BlobBuilder;typeof window<"u"&&(r=t.exports.BlobBuilder=window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder||window.BlobBuilder);function i(){this._pieces=[],this._parts=[]}i.prototype.append=function(s){typeof s=="number"?this._pieces.push(s):(this.flush(),this._parts.push(s))},i.prototype.flush=function(){if(this._pieces.length>0){var s=new Uint8Array(this._pieces);n.useArrayBufferView||(s=s.buffer),this._parts.push(s),this._pieces=[]}},i.prototype.getBuffer=function(){if(this.flush(),n.useBlobBuilder){for(var s=new r,o=0,a=this._parts.length;o<a;o++)s.append(this._parts[o]);return s.getBlob()}else return new Blob(this._parts)},t.exports.BufferBuilder=i}}),aG=eS({"node_modules/peerjs-js-binarypack/lib/binarypack.js"(e,t){var n=Ck().BufferBuilder,r=Ck().binaryFeatures,i={unpack:function(c){var u=new s(c);return u.unpack()},pack:function(c){var u=new o;u.pack(c);var d=u.getBuffer();return d}};t.exports=i;function s(c){this.index=0,this.dataBuffer=c,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}s.prototype.unpack=function(){var c=this.unpack_uint8();if(c<128)return c;if((c^224)<32)return(c^224)-32;var u;if((u=c^160)<=15)return this.unpack_raw(u);if((u=c^176)<=15)return this.unpack_string(u);if((u=c^144)<=15)return this.unpack_array(u);if((u=c^128)<=15)return this.unpack_map(u);switch(c){case 192:return null;case 193:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 212:return;case 213:return;case 214:return;case 215:return;case 216:return u=this.unpack_uint16(),this.unpack_string(u);case 217:return u=this.unpack_uint32(),this.unpack_string(u);case 218:return u=this.unpack_uint16(),this.unpack_raw(u);case 219:return u=this.unpack_uint32(),this.unpack_raw(u);case 220:return u=this.unpack_uint16(),this.unpack_array(u);case 221:return u=this.unpack_uint32(),this.unpack_array(u);case 222:return u=this.unpack_uint16(),this.unpack_map(u);case 223:return u=this.unpack_uint32(),this.unpack_map(u)}},s.prototype.unpack_uint8=function(){var c=this.dataView[this.index]&255;return this.index++,c},s.prototype.unpack_uint16=function(){var c=this.read(2),u=(c[0]&255)*256+(c[1]&255);return this.index+=2,u},s.prototype.unpack_uint32=function(){var c=this.read(4),u=((c[0]*256+c[1])*256+c[2])*256+c[3];return this.index+=4,u},s.prototype.unpack_uint64=function(){var c=this.read(8),u=((((((c[0]*256+c[1])*256+c[2])*256+c[3])*256+c[4])*256+c[5])*256+c[6])*256+c[7];return this.index+=8,u},s.prototype.unpack_int8=function(){var c=this.unpack_uint8();return c<128?c:c-256},s.prototype.unpack_int16=function(){var c=this.unpack_uint16();return c<32768?c:c-65536},s.prototype.unpack_int32=function(){var c=this.unpack_uint32();return c<Math.pow(2,31)?c:c-Math.pow(2,32)},s.prototype.unpack_int64=function(){var c=this.unpack_uint64();return c<Math.pow(2,63)?c:c-Math.pow(2,64)},s.prototype.unpack_raw=function(c){if(this.length<this.index+c)throw new Error("BinaryPackFailure: index is out of range "+this.index+" "+c+" "+this.length);var u=this.dataBuffer.slice(this.index,this.index+c);return this.index+=c,u},s.prototype.unpack_string=function(c){for(var u=this.read(c),d=0,h="",p,g;d<c;)p=u[d],p<128?(h+=String.fromCharCode(p),d++):(p^192)<32?(g=(p^192)<<6|u[d+1]&63,h+=String.fromCharCode(g),d+=2):(g=(p&15)<<12|(u[d+1]&63)<<6|u[d+2]&63,h+=String.fromCharCode(g),d+=3);return this.index+=c,h},s.prototype.unpack_array=function(c){for(var u=new Array(c),d=0;d<c;d++)u[d]=this.unpack();return u},s.prototype.unpack_map=function(c){for(var u={},d=0;d<c;d++){var h=this.unpack(),p=this.unpack();u[h]=p}return u},s.prototype.unpack_float=function(){var c=this.unpack_uint32(),u=c>>31,d=(c>>23&255)-127,h=c&8388607|8388608;return(u===0?1:-1)*h*Math.pow(2,d-23)},s.prototype.unpack_double=function(){var c=this.unpack_uint32(),u=this.unpack_uint32(),d=c>>31,h=(c>>20&2047)-1023,p=c&1048575|1048576,g=p*Math.pow(2,h-20)+u*Math.pow(2,h-52);return(d===0?1:-1)*g},s.prototype.read=function(c){var u=this.index;if(u+c<=this.length)return this.dataView.subarray(u,u+c);throw new Error("BinaryPackFailure: read index out of range")};function o(){this.bufferBuilder=new n}o.prototype.getBuffer=function(){return this.bufferBuilder.getBuffer()},o.prototype.pack=function(c){var u=typeof c;if(u==="string")this.pack_string(c);else if(u==="number")Math.floor(c)===c?this.pack_integer(c):this.pack_double(c);else if(u==="boolean")c===!0?this.bufferBuilder.append(195):c===!1&&this.bufferBuilder.append(194);else if(u==="undefined")this.bufferBuilder.append(192);else if(u==="object")if(c===null)this.bufferBuilder.append(192);else{var d=c.constructor;if(d==Array)this.pack_array(c);else if(d==Blob||d==File||c instanceof Blob||c instanceof File)this.pack_bin(c);else if(d==ArrayBuffer)r.useArrayBufferView?this.pack_bin(new Uint8Array(c)):this.pack_bin(c);else if("BYTES_PER_ELEMENT"in c)r.useArrayBufferView?this.pack_bin(new Uint8Array(c.buffer)):this.pack_bin(c.buffer);else if(d==Object||d.toString().startsWith("class"))this.pack_object(c);else if(d==Date)this.pack_string(c.toString());else if(typeof c.toBinaryPack=="function")this.bufferBuilder.append(c.toBinaryPack());else throw new Error('Type "'+d.toString()+'" not yet supported')}else throw new Error('Type "'+u+'" not yet supported');this.bufferBuilder.flush()},o.prototype.pack_bin=function(c){var u=c.length||c.byteLength||c.size;if(u<=15)this.pack_uint8(160+u);else if(u<=65535)this.bufferBuilder.append(218),this.pack_uint16(u);else if(u<=4294967295)this.bufferBuilder.append(219),this.pack_uint32(u);else throw new Error("Invalid length");this.bufferBuilder.append(c)},o.prototype.pack_string=function(c){var u=l(c);if(u<=15)this.pack_uint8(176+u);else if(u<=65535)this.bufferBuilder.append(216),this.pack_uint16(u);else if(u<=4294967295)this.bufferBuilder.append(217),this.pack_uint32(u);else throw new Error("Invalid length");this.bufferBuilder.append(c)},o.prototype.pack_array=function(c){var u=c.length;if(u<=15)this.pack_uint8(144+u);else if(u<=65535)this.bufferBuilder.append(220),this.pack_uint16(u);else if(u<=4294967295)this.bufferBuilder.append(221),this.pack_uint32(u);else throw new Error("Invalid length");for(var d=0;d<u;d++)this.pack(c[d])},o.prototype.pack_integer=function(c){if(c>=-32&&c<=127)this.bufferBuilder.append(c&255);else if(c>=0&&c<=255)this.bufferBuilder.append(204),this.pack_uint8(c);else if(c>=-128&&c<=127)this.bufferBuilder.append(208),this.pack_int8(c);else if(c>=0&&c<=65535)this.bufferBuilder.append(205),this.pack_uint16(c);else if(c>=-32768&&c<=32767)this.bufferBuilder.append(209),this.pack_int16(c);else if(c>=0&&c<=4294967295)this.bufferBuilder.append(206),this.pack_uint32(c);else if(c>=-2147483648&&c<=2147483647)this.bufferBuilder.append(210),this.pack_int32(c);else if(c>=-9223372036854776e3&&c<=9223372036854776e3)this.bufferBuilder.append(211),this.pack_int64(c);else if(c>=0&&c<=18446744073709552e3)this.bufferBuilder.append(207),this.pack_uint64(c);else throw new Error("Invalid integer")},o.prototype.pack_double=function(c){var u=0;c<0&&(u=1,c=-c);var d=Math.floor(Math.log(c)/Math.LN2),h=c/Math.pow(2,d)-1,p=Math.floor(h*Math.pow(2,52)),g=Math.pow(2,32),m=u<<31|d+1023<<20|p/g&1048575,_=p%g;this.bufferBuilder.append(203),this.pack_int32(m),this.pack_int32(_)},o.prototype.pack_object=function(c){var u=Object.keys(c),d=u.length;if(d<=15)this.pack_uint8(128+d);else if(d<=65535)this.bufferBuilder.append(222),this.pack_uint16(d);else if(d<=4294967295)this.bufferBuilder.append(223),this.pack_uint32(d);else throw new Error("Invalid length");for(var h in c)c.hasOwnProperty(h)&&(this.pack(h),this.pack(c[h]))},o.prototype.pack_uint8=function(c){this.bufferBuilder.append(c)},o.prototype.pack_uint16=function(c){this.bufferBuilder.append(c>>8),this.bufferBuilder.append(c&255)},o.prototype.pack_uint32=function(c){var u=c&4294967295;this.bufferBuilder.append((u&4278190080)>>>24),this.bufferBuilder.append((u&16711680)>>>16),this.bufferBuilder.append((u&65280)>>>8),this.bufferBuilder.append(u&255)},o.prototype.pack_uint64=function(c){var u=c/Math.pow(2,32),d=c%Math.pow(2,32);this.bufferBuilder.append((u&4278190080)>>>24),this.bufferBuilder.append((u&16711680)>>>16),this.bufferBuilder.append((u&65280)>>>8),this.bufferBuilder.append(u&255),this.bufferBuilder.append((d&4278190080)>>>24),this.bufferBuilder.append((d&16711680)>>>16),this.bufferBuilder.append((d&65280)>>>8),this.bufferBuilder.append(d&255)},o.prototype.pack_int8=function(c){this.bufferBuilder.append(c&255)},o.prototype.pack_int16=function(c){this.bufferBuilder.append((c&65280)>>8),this.bufferBuilder.append(c&255)},o.prototype.pack_int32=function(c){this.bufferBuilder.append(c>>>24&255),this.bufferBuilder.append((c&16711680)>>>16),this.bufferBuilder.append((c&65280)>>>8),this.bufferBuilder.append(c&255)},o.prototype.pack_int64=function(c){var u=Math.floor(c/Math.pow(2,32)),d=c%Math.pow(2,32);this.bufferBuilder.append((u&4278190080)>>>24),this.bufferBuilder.append((u&16711680)>>>16),this.bufferBuilder.append((u&65280)>>>8),this.bufferBuilder.append(u&255),this.bufferBuilder.append((d&4278190080)>>>24),this.bufferBuilder.append((d&16711680)>>>16),this.bufferBuilder.append((d&65280)>>>8),this.bufferBuilder.append(d&255)};function a(c){var u=c.charCodeAt(0);return u<=2047?"00":u<=65535?"000":u<=2097151?"0000":u<=67108863?"00000":"000000"}function l(c){return c.length>600?new Blob([c]).size:c.replace(/[^\u0000-\u007F]/g,a).length}}}),t0=eS({"node_modules/eventemitter3/index.js"(e,t){var n=Object.prototype.hasOwnProperty,r="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(r=!1));function s(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function o(c,u,d,h,p){if(typeof d!="function")throw new TypeError("The listener must be a function");var g=new s(d,h||c,p),m=r?r+u:u;return c._events[m]?c._events[m].fn?c._events[m]=[c._events[m],g]:c._events[m].push(g):(c._events[m]=g,c._eventsCount++),c}function a(c,u){--c._eventsCount===0?c._events=new i:delete c._events[u]}function l(){this._events=new i,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,h;if(this._eventsCount===0)return u;for(h in d=this._events)n.call(d,h)&&u.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,h=this._events[d];if(!h)return[];if(h.fn)return[h.fn];for(var p=0,g=h.length,m=new Array(g);p<g;p++)m[p]=h[p].fn;return m},l.prototype.listenerCount=function(u){var d=r?r+u:u,h=this._events[d];return h?h.fn?1:h.length:0},l.prototype.emit=function(u,d,h,p,g,m){var _=r?r+u:u;if(!this._events[_])return!1;var v=this._events[_],y=arguments.length,b,x;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),y){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,h),!0;case 4:return v.fn.call(v.context,d,h,p),!0;case 5:return v.fn.call(v.context,d,h,p,g),!0;case 6:return v.fn.call(v.context,d,h,p,g,m),!0}for(x=1,b=new Array(y-1);x<y;x++)b[x-1]=arguments[x];v.fn.apply(v.context,b)}else{var S=v.length,w;for(x=0;x<S;x++)switch(v[x].once&&this.removeListener(u,v[x].fn,void 0,!0),y){case 1:v[x].fn.call(v[x].context);break;case 2:v[x].fn.call(v[x].context,d);break;case 3:v[x].fn.call(v[x].context,d,h);break;case 4:v[x].fn.call(v[x].context,d,h,p);break;default:if(!b)for(w=1,b=new Array(y-1);w<y;w++)b[w-1]=arguments[w];v[x].fn.apply(v[x].context,b)}}return!0},l.prototype.on=function(u,d,h){return o(this,u,d,h,!1)},l.prototype.once=function(u,d,h){return o(this,u,d,h,!0)},l.prototype.removeListener=function(u,d,h,p){var g=r?r+u:u;if(!this._events[g])return this;if(!d)return a(this,g),this;var m=this._events[g];if(m.fn)m.fn===d&&(!p||m.once)&&(!h||m.context===h)&&a(this,g);else{for(var _=0,v=[],y=m.length;_<y;_++)(m[_].fn!==d||p&&!m[_].once||h&&m[_].context!==h)&&v.push(m[_]);v.length?this._events[g]=v.length===1?v[0]:v:a(this,g)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&a(this,d)):(this._events=new i,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,typeof t<"u"&&(t.exports=l)}}),Tk=Wf(aG()),lG={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"turn:0.peerjs.com:3478",username:"peerjs",credential:"peerjsp"}],sdpSemantics:"unified-plan"},nn=new class{constructor(){this.CLOUD_HOST="0.peerjs.com",this.CLOUD_PORT=443,this.chunkedMTU=16300,this.defaultConfig=lG,this.pack=Tk.pack,this.unpack=Tk.unpack,this._dataCount=1}validateId(e){return!e||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(e)}chunk(e){const t=[],n=e.size,r=Math.ceil(n/nn.chunkedMTU);let i=0,s=0;for(;s<n;){const o=Math.min(n,s+nn.chunkedMTU),a=e.slice(s,o),l={__peerData:this._dataCount,n:i,data:a,total:r};t.push(l),s=o,i++}return this._dataCount++,t}blobToArrayBuffer(e,t,n){const r=new e;return r.onload=function(i){i.target&&n(i.target.result)},r.readAsArrayBuffer(t),r}binaryStringToArrayBuffer(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n)&255;return t.buffer}randomToken(){return Math.random().toString(36).substr(2)}isSecure(){return location.protocol==="https:"}},cG=Wf(t0()),uG="PeerJS: ",dG=class{constructor(){this._logLevel=0}get logLevel(){return this._logLevel}set logLevel(e){this._logLevel=e}log(...e){this._logLevel>=3&&this._print(3,...e)}warn(...e){this._logLevel>=2&&this._print(2,...e)}error(...e){this._logLevel>=1&&this._print(1,...e)}setLogFunction(e){this._print=e}_print(e,...t){const n=[uG,...t];for(let r in n)n[r]instanceof Error&&(n[r]="("+n[r].name+") "+n[r].message);e>=3?console.log(...n):e>=2?console.warn("WARNING",...n):e>=1&&console.error("ERROR",...n)}},xe=new dG,fG=Wf(t0()),hG=class extends fG.EventEmitter{constructor({secure:e,host:t,port:n,path:r,key:i,pingInterval:s=5e3,polyfills:o}){super(),this._disconnected=!0,this._id=null,this._messagesQueue=[],this.alive=!1,this._destroyed=!1;var a;this.pingInterval=s;const l=e?"wss://":"ws://";this._baseUrl=l+t+":"+n+r+"peerjs?key="+i,this.WebSocketConstructor=(a=o==null?void 0:o.WebSocket)!=null?a:window.WebSocket}get messagesQueue(){return this._messagesQueue}get destroyed(){return this._destroyed}start(e,t){if(this._destroyed)throw new Error("Socket was destroyed!");if(this._id=e,this._socket||!this._disconnected)return;const n=`${this._baseUrl}&id=${e}&token=${t}`;this._socket=new this.WebSocketConstructor(n),this._disconnected=!1,this._socket.onmessage=r=>{if(this._destroyed)return;let i;try{i=JSON.parse(r.data),xe.log("Server message received:",i)}catch{xe.log("Invalid server message",r.data);return}this.emit("message",i)},this._socket.onclose=r=>{this._disconnected||this._destroyed||(xe.log("Socket closed.",r),this._cleanup(),this._disconnected=!0,this.emit("disconnected"))},this._socket.onopen=()=>{this._disconnected||this._destroyed||(xe.log("Socket open"),this.emit("open"),this._sendQueuedMessages(),this._scheduleHeartbeat())}}_scheduleHeartbeat(){this._wsPingTimer=setTimeout(()=>{this._sendHeartbeat()},this.pingInterval)}_sendHeartbeat(){if(this._destroyed)return;if(!this._wsOpen()){xe.log("Cannot send heartbeat, because socket closed");return}const e=JSON.stringify({type:"HEARTBEAT"});this._socket.send(e),this._scheduleHeartbeat()}_wsOpen(){return!!this._socket&&this._socket.readyState===1}_sendQueuedMessages(){const e=[...this._messagesQueue];this._messagesQueue=[];for(const t of e)this.send(t);e.length>0&&xe.log(`${e.length} queued messages was sent`)}send(e){if(this._destroyed)throw new Error("Socket was destroyed!");if(!e.type){this.emit("error","Invalid message");return}if(!this.alive)return;if(this._id==null||!this._wsOpen()){this._messagesQueue.push(e);return}const t=JSON.stringify(e);this._socket.send(t)}close(){this._disconnected||(this._cleanup(),this._id=null,this._disconnected=!0)}_cleanup(){this._socket&&(this._socket.onopen=this._socket.onmessage=this._socket.onclose=null,this._socket.close(),this._socket=void 0),clearTimeout(this._wsPingTimer)}destroy(){this._destroyed||(this.close(),this._messagesQueue.length=0,this._destroyed=!0)}};function pG(){}var jj=class{constructor(e){this.connection=e}get webRtc(){var e,t;return(t=(e=this.connection.provider.options.polyfills)==null?void 0:e.WebRTC)!=null?t:window}startConnection(e){const t=this._startPeerConnection();if(this.connection.peerConnection=t,this.connection.type==="media"&&e._stream&&this._addTracksToConnection(e._stream,t),e.originator){if(this.connection.type==="data"){const n=this.connection,r={ordered:!!e.reliable},i=t.createDataChannel(n.label,r);n.initialize(i)}this._makeOffer()}else this.handleSDP("OFFER",e.sdp)}_startPeerConnection(){xe.log("Creating RTCPeerConnection.");const e=this.webRtc.RTCPeerConnection,t=new e(this.connection.provider.options.config);return this._setupListeners(t),t}_setupListeners(e){const t=this.connection.peer,n=this.connection.connectionId,r=this.connection.type,i=this.connection.provider;xe.log("Listening for ICE candidates, remote streams and data channels."),e.onicecandidate=s=>{!s.candidate||!s.candidate.candidate||(xe.log(`Received ICE candidates for ${t}:`,s.candidate),i.socket.send({type:"CANDIDATE",payload:{candidate:s.candidate,type:r,connectionId:n},dst:t}))},e.oniceconnectionstatechange=()=>{switch(e.iceConnectionState){case"failed":xe.log("iceConnectionState is failed, closing connections to "+t),this.connection.emit("error",new Error("Negotiation of connection to "+t+" failed.")),this.connection.close();break;case"closed":xe.log("iceConnectionState is closed, closing connections to "+t),this.connection.emit("error",new Error("Connection to "+t+" closed.")),this.connection.close();break;case"connected":xe.log("iceConnectionState changed to connected on the connection with "+t);break;case"disconnected":xe.log("iceConnectionState changed to disconnected on the connection with "+t);break;case"completed":xe.log("iceConnectionState changed to completed on the connection with "+t),e.onicecandidate=pG;break}this.connection.emit("iceStateChanged",e.iceConnectionState)},e.ondatachannel=s=>{xe.log("Received data channel");const o=s.channel;i.getConnection(t,n).initialize(o)},e.ontrack=s=>{xe.log("Received remote stream");const o=s.streams[0],a=i.getConnection(t,n);if(a.type==="media"){const l=a;this._addStreamToMediaConnection(o,l)}}}cleanup(){xe.log("Cleaning up PeerConnection to "+this.connection.peer);const e=this.connection.peerConnection;if(!e)return;this.connection.peerConnection=null,e.onicecandidate=e.oniceconnectionstatechange=e.ondatachannel=e.ontrack=null;const t=e.signalingState!=="closed";let n=!1;if(this.connection.type==="data"){const i=this.connection.dataChannel;i&&(n=!!i.readyState&&i.readyState!=="closed")}(t||n)&&e.close()}_makeOffer(){return Zl(this,null,function*(){const e=this.connection.peerConnection,t=this.connection.provider;try{const n=yield e.createOffer(this.connection.options.constraints);if(e.signalingState==="closed")return;xe.log("Created offer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(n.sdp=this.connection.options.sdpTransform(n.sdp)||n.sdp);try{yield e.setLocalDescription(n),xe.log("Set localDescription:",n,`for:${this.connection.peer}`);let r={sdp:n,type:this.connection.type,connectionId:this.connection.connectionId,metadata:this.connection.metadata};if(this.connection.type==="data"){const i=this.connection;r=Pj(Zb({},r),{label:i.label,reliable:i.reliable,serialization:i.serialization})}t.socket.send({type:"OFFER",payload:r,dst:this.connection.peer})}catch(r){r!="OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"&&(t.emitError("webrtc",r),xe.log("Failed to setLocalDescription, ",r))}}catch(n){t.emitError("webrtc",n),xe.log("Failed to createOffer, ",n)}})}_makeAnswer(){return Zl(this,null,function*(){const e=this.connection.peerConnection,t=this.connection.provider;try{const n=yield e.createAnswer();if(e.signalingState==="closed")return;xe.log("Created answer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(n.sdp=this.connection.options.sdpTransform(n.sdp)||n.sdp);try{yield e.setLocalDescription(n),xe.log("Set localDescription:",n,`for:${this.connection.peer}`),t.socket.send({type:"ANSWER",payload:{sdp:n,type:this.connection.type,connectionId:this.connection.connectionId},dst:this.connection.peer})}catch(r){t.emitError("webrtc",r),xe.log("Failed to setLocalDescription, ",r)}}catch(n){t.emitError("webrtc",n),xe.log("Failed to create answer, ",n)}})}handleSDP(e,t){return Zl(this,null,function*(){const n=this.webRtc.RTCSessionDescription;t=new n(t);const r=this.connection.peerConnection,i=this.connection.provider;xe.log("Setting remote description",t);const s=this;try{yield r.setRemoteDescription(t),xe.log(`Set remoteDescription:${e} for:${this.connection.peer}`),e==="OFFER"&&(yield s._makeAnswer())}catch(o){i.emitError("webrtc",o),xe.log("Failed to setRemoteDescription, ",o)}})}handleCandidate(e){return Zl(this,null,function*(){xe.log("handleCandidate:",e);const t=e.candidate,n=e.sdpMLineIndex,r=e.sdpMid,i=this.connection.peerConnection,s=this.connection.provider;try{const o=this.webRtc.RTCIceCandidate;yield i.addIceCandidate(new o({sdpMid:r,sdpMLineIndex:n,candidate:t})),xe.log(`Added ICE candidate for:${this.connection.peer}`)}catch(o){s.emitError("webrtc",o),xe.log("Failed to handleCandidate, ",o)}})}_addTracksToConnection(e,t){if(xe.log(`add tracks from stream ${e.id} to peer connection`),!t.addTrack)return xe.error("Your browser does't support RTCPeerConnection#addTrack. Ignored.");e.getTracks().forEach(n=>{t.addTrack(n,e)})}_addStreamToMediaConnection(e,t){xe.log(`add stream ${e.id} to media connection ${t.connectionId}`),t.addStream(e)}},gG=Wf(t0()),Oj=class extends gG.EventEmitter{constructor(e,t,n){super(),this.peer=e,this.provider=t,this.options=n,this._open=!1,this.metadata=n.metadata}get open(){return this._open}},Vj=class extends Oj{get type(){return"media"}get localStream(){return this._localStream}get remoteStream(){return this._remoteStream}constructor(e,t,n){super(e,t,n),this._localStream=this.options._stream,this.connectionId=this.options.connectionId||Vj.ID_PREFIX+nn.randomToken(),this._negotiator=new jj(this),this._localStream&&this._negotiator.startConnection({_stream:this._localStream,originator:!0})}addStream(e){xe.log("Receiving stream",e),this._remoteStream=e,super.emit("stream",e)}handleMessage(e){const t=e.type,n=e.payload;switch(e.type){case"ANSWER":this._negotiator.handleSDP(t,n.sdp),this._open=!0;break;case"CANDIDATE":this._negotiator.handleCandidate(n.candidate);break;default:xe.warn(`Unrecognized message type:${t} from peer:${this.peer}`);break}}answer(e,t={}){if(this._localStream){xe.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");return}this._localStream=e,t&&t.sdpTransform&&(this.options.sdpTransform=t.sdpTransform),this._negotiator.startConnection(Pj(Zb({},this.options._payload),{_stream:e}));const n=this.provider._getMessages(this.connectionId);for(let r of n)this.handleMessage(r);this._open=!0}close(){this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this._localStream=null,this._remoteStream=null,this.provider&&(this.provider._removeConnection(this),this.provider=null),this.options&&this.options._stream&&(this.options._stream=null),this.open&&(this._open=!1,super.emit("close"))}},t1=Vj;t1.ID_PREFIX="mc_";var mG=Wf(t0()),vG=class extends mG.EventEmitter{constructor(e){super(),this.fileReader=e,this._queue=[],this._processing=!1,this.fileReader.onload=t=>{this._processing=!1,t.target&&this.emit("done",t.target.result),this.doNextTask()},this.fileReader.onerror=t=>{xe.error("EncodingQueue error:",t),this._processing=!1,this.destroy(),this.emit("error",t)}}get queue(){return this._queue}get size(){return this.queue.length}get processing(){return this._processing}enque(e){this.queue.push(e),!this.processing&&this.doNextTask()}destroy(){this.fileReader.abort(),this._queue=[]}doNextTask(){this.size!==0&&(this.processing||(this._processing=!0,this.fileReader.readAsArrayBuffer(this.queue.shift())))}},n1=class extends Oj{constructor(e,t,n){super(e,t,n),this.stringify=JSON.stringify,this.parse=JSON.parse,this._buffer=[],this._bufferSize=0,this._buffering=!1,this._chunkedData={};var r,i;this.connectionId=this.options.connectionId||n1.ID_PREFIX+nn.randomToken(),this.label=this.options.label||this.connectionId,this.serialization=this.options.serialization||"binary",this.reliable=!!this.options.reliable,this.FileReaderCtr=(i=(r=t.options.polyfills)==null?void 0:r.FileReader)!=null?i:window.FileReader,this._encodingQueue=new vG(new this.FileReaderCtr),this._encodingQueue.on("done",s=>{this._bufferedSend(s)}),this._encodingQueue.on("error",()=>{xe.error(`DC#${this.connectionId}: Error occured in encoding from blob to arraybuffer, close DC`),this.close()}),this._negotiator=new jj(this),this._negotiator.startConnection(this.options._payload||{originator:!0})}get type(){return"data"}get dataChannel(){return this._dc}get bufferSize(){return this._bufferSize}initialize(e){this._dc=e,this._configureDataChannel()}_configureDataChannel(){(!this.provider.features.binaryBlob||this.provider.features.reliable)&&(this.dataChannel.binaryType="arraybuffer"),this.dataChannel.onopen=()=>{xe.log(`DC#${this.connectionId} dc connection success`),this._open=!0,this.emit("open")},this.dataChannel.onmessage=e=>{xe.log(`DC#${this.connectionId} dc onmessage:`,e.data),this._handleDataMessage(e)},this.dataChannel.onclose=()=>{xe.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}_handleDataMessage({data:e}){const t=e.constructor,n=this.serialization==="binary"||this.serialization==="binary-utf8";let r=e;if(n){if(t===Blob){nn.blobToArrayBuffer(this.FileReaderCtr,e,i=>{const s=nn.unpack(i);this.emit("data",s)});return}else if(t===ArrayBuffer)r=nn.unpack(e);else if(t===String){const i=nn.binaryStringToArrayBuffer(e);r=nn.unpack(i)}}else this.serialization==="json"&&(r=this.parse(e));if(r.__peerData){this._handleChunk(r);return}super.emit("data",r)}_handleChunk(e){const t=e.__peerData,n=this._chunkedData[t]||{data:[],count:0,total:e.total};if(n.data[e.n]=e.data,n.count++,this._chunkedData[t]=n,n.total===n.count){delete this._chunkedData[t];const r=new Blob(n.data);this._handleDataMessage({data:r})}}close(){this._buffer=[],this._bufferSize=0,this._chunkedData={},this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this.provider&&(this.provider._removeConnection(this),this.provider=null),this.dataChannel&&(this.dataChannel.onopen=null,this.dataChannel.onmessage=null,this.dataChannel.onclose=null,this._dc=null),this._encodingQueue&&(this._encodingQueue.destroy(),this._encodingQueue.removeAllListeners(),this._encodingQueue=null),this.open&&(this._open=!1,super.emit("close"))}send(e,t){if(!this.open){super.emit("error",new Error("Connection is not open. You should listen for the `open` event before sending messages."));return}if(this.serialization==="json")this._bufferedSend(this.stringify(e));else if(this.serialization==="binary"||this.serialization==="binary-utf8"){const n=nn.pack(e);if(!t&&n.size>nn.chunkedMTU){this._sendChunks(n);return}this.provider.features.binaryBlob?this._bufferedSend(n):this._encodingQueue.enque(n)}else this._bufferedSend(e)}_bufferedSend(e){(this._buffering||!this._trySend(e))&&(this._buffer.push(e),this._bufferSize=this._buffer.length)}_trySend(e){if(!this.open)return!1;if(this.dataChannel.bufferedAmount>n1.MAX_BUFFERED_AMOUNT)return this._buffering=!0,setTimeout(()=>{this._buffering=!1,this._tryBuffer()},50),!1;try{this.dataChannel.send(e)}catch(t){return xe.error(`DC#:${this.connectionId} Error when sending:`,t),this._buffering=!0,this.close(),!1}return!0}_tryBuffer(){if(!this.open||this._buffer.length===0)return;const e=this._buffer[0];this._trySend(e)&&(this._buffer.shift(),this._bufferSize=this._buffer.length,this._tryBuffer())}_sendChunks(e){const t=nn.chunk(e);xe.log(`DC#${this.connectionId} Try to send ${t.length} chunks...`);for(let n of t)this.send(n,!0)}handleMessage(e){const t=e.payload;switch(e.type){case"ANSWER":this._negotiator.handleSDP(e.type,t.sdp);break;case"CANDIDATE":this._negotiator.handleCandidate(t.candidate);break;default:xe.warn("Unrecognized message type:",e.type,"from peer:",this.peer);break}}},wg=n1;wg.ID_PREFIX="dc_";wg.MAX_BUFFERED_AMOUNT=8*1024*1024;var yG=class{constructor(e){this._options=e}_request(e){var t,n;return((n=(t=this._options.polyfills)==null?void 0:t.fetch)!=null?n:window.fetch)(e)}_buildUrl(e){let n=(this._options.secure?"https://":"http://")+this._options.host+":"+this._options.port+this._options.path+this._options.key+"/"+e;const r="?ts="+new Date().getTime()+Math.random();return n+=r,n}retrieveId(){return Zl(this,null,function*(){const e=this._buildUrl("id");try{const t=yield this._request(e);if(t.status!==200)throw new Error(`Error. Status:${t.status}`);return t.text()}catch(t){xe.error("Error retrieving ID",t);let n="";throw this._options.path==="/"&&this._options.host!==nn.CLOUD_HOST&&(n=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),new Error("Could not get an ID from the server."+n)}})}listAllPeers(){return Zl(this,null,function*(){const e=this._buildUrl("peers");try{const t=yield this._request(e);if(t.status!==200){if(t.status===401){let n="";throw this._options.host===nn.CLOUD_HOST?n="It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":n="You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.",new Error("It doesn't look like you have permission to list peers IDs. "+n)}throw new Error(`Error. Status:${t.status}`)}return t.json()}catch(t){throw xe.error("Error retrieving list peers",t),new Error("Could not get list peers from the server."+t)}})}},AG={isUnifiedPlanSupported(e){if(!e&&typeof window<"u"&&(e=window),typeof e.RTCRtpTransceiver>"u"||!("currentDirection"in e.RTCRtpTransceiver.prototype))return!1;let t,n=!1;try{t=new e.RTCPeerConnection,t.addTransceiver("audio"),n=!0}catch{}finally{t&&t.close()}return n}},Ma=class extends cG.EventEmitter{constructor(e,t){super(),this._id=null,this._lastServerId=null,this._destroyed=!1,this._disconnected=!1,this._open=!1,this._connections=new Map,this._lostMessages=new Map;var n;let r;if(e&&e.constructor==Object?t=e:e&&(r=e.toString()),t=Zb({debug:0,host:nn.CLOUD_HOST,port:nn.CLOUD_PORT,path:"/",key:Ma.DEFAULT_KEY,token:nn.randomToken(),config:nn.defaultConfig},t),this._options=t,typeof window<"u"&&this._options.host==="/"&&(this._options.host=window.location.hostname),this._options.path&&(this._options.path[0]!=="/"&&(this._options.path="/"+this._options.path),this._options.path[this._options.path.length-1]!=="/"&&(this._options.path+="/")),this._options.secure===void 0&&this._options.host!==nn.CLOUD_HOST?this._options.secure=nn.isSecure():this._options.host==nn.CLOUD_HOST&&(this._options.secure=!0),this._options.logFunction&&xe.setLogFunction(this._options.logFunction),xe.logLevel=this._options.debug||0,this._api=new yG(t),this._socket=this._createServerConnection(),this.features=Ma.getFeatures((n=this._options.polyfills)==null?void 0:n.WebRTC),!this.features.audioVideo&&!this.features.data){this._delayedAbort("browser-incompatible","The current browser does not support WebRTC");return}if(r&&!nn.validateId(r)){this._delayedAbort("invalid-id",`ID "${r}" is invalid`);return}this.socket.alive=!0,r?this._initialize(r):this._api.retrieveId().then(i=>this._initialize(i)).catch(i=>this._abort("server-error",i))}get id(){return this._id}get options(){return this._options}get open(){return this._open}get socket(){return this._socket}get connections(){const e=Object.create(null);for(let[t,n]of this._connections)e[t]=n;return e}get destroyed(){return this._destroyed}get disconnected(){return this._disconnected}_createServerConnection(){const e=new hG(this._options);return e.on("message",t=>{this._handleMessage(t)}),e.on("error",t=>{this._abort("socket-error",t)}),e.on("disconnected",()=>{this.disconnected||(this.emitError("network","Lost connection to server."),this.disconnect())}),e.on("close",()=>{this.disconnected||this._abort("socket-closed","Underlying socket is already closed.")}),e}_initialize(e){this.destroyed||(this._id=e,this.socket.start(e,this._options.token))}_handleMessage(e){const t=e.type,n=e.payload,r=e.src;switch(t){case"OPEN":this._lastServerId=this.id,this._open=!0,this.emit("open",this.id);break;case"ERROR":this._abort("server-error",n.msg);break;case"ID-TAKEN":this._abort("unavailable-id",`ID "${this.id}" is taken`);break;case"INVALID-KEY":this._abort("invalid-key",`API KEY "${this._options.key}" is invalid`);break;case"LEAVE":xe.log(`Received leave message from ${r}`),this._cleanupPeer(r),this._connections.delete(r);break;case"EXPIRE":this.emitError("peer-unavailable",`Could not connect to peer ${r}`);break;case"OFFER":{const i=n.connectionId;let s=this.getConnection(r,i);if(s&&(s.close(),xe.warn(`Offer received for existing Connection ID:${i}`)),n.type==="media")s=new t1(r,this,{connectionId:i,_payload:n,metadata:n.metadata}),this._addConnection(r,s),this.emit("call",s);else if(n.type==="data")s=new wg(r,this,{connectionId:i,_payload:n,metadata:n.metadata,label:n.label,serialization:n.serialization,reliable:n.reliable}),this._addConnection(r,s),this.emit("connection",s);else{xe.warn(`Received malformed connection type:${n.type}`);return}const o=this._getMessages(i);for(let a of o)s.handleMessage(a);break}default:{if(!n){xe.warn(`You received a malformed message from ${r} of type ${t}`);return}const i=n.connectionId,s=this.getConnection(r,i);s&&s.peerConnection?s.handleMessage(e):i?this._storeMessage(i,e):xe.warn("You received an unrecognized message:",e);break}}}_storeMessage(e,t){this._lostMessages.has(e)||this._lostMessages.set(e,[]),this._lostMessages.get(e).push(t)}_getMessages(e){const t=this._lostMessages.get(e);return t?(this._lostMessages.delete(e),t):[]}connect(e,t={}){if(this.disconnected){xe.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),this.emitError("disconnected","Cannot connect to new Peer after disconnecting from server.");return}const n=new wg(e,this,t);return this._addConnection(e,n),n}call(e,t,n={}){if(this.disconnected){xe.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),this.emitError("disconnected","Cannot connect to new Peer after disconnecting from server.");return}if(!t){xe.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.");return}n._stream=t;const r=new t1(e,this,n);return this._addConnection(e,r),r}_addConnection(e,t){xe.log(`add connection ${t.type}:${t.connectionId} to peerId:${e}`),this._connections.has(e)||this._connections.set(e,[]),this._connections.get(e).push(t)}_removeConnection(e){const t=this._connections.get(e.peer);if(t){const n=t.indexOf(e);n!==-1&&(t.splice(n,1),t.length===0&&this._connections.delete(e.peer))}this._lostMessages.delete(e.connectionId)}getConnection(e,t){const n=this._connections.get(e);if(!n)return null;for(let r of n)if(r.connectionId===t)return r;return null}_delayedAbort(e,t){setTimeout(()=>{this._abort(e,t)},0)}_abort(e,t){xe.error("Aborting!"),this.emitError(e,t),this._lastServerId?this.disconnect():this.destroy()}emitError(e,t){xe.error("Error:",t);let n;typeof t=="string"?n=new Error(t):n=t,n.type=e,this.emit("error",n)}destroy(){this.destroyed||(xe.log(`Destroy peer with ID:${this.id}`),this.disconnect(),this._cleanup(),this.socket.destroy(),this._destroyed=!0,this.emit("close"))}_cleanup(){for(let e of this._connections.keys())this._cleanupPeer(e),this._connections.delete(e);this.socket.removeAllListeners()}_cleanupPeer(e){const t=this._connections.get(e);if(t)for(let n of t)n.close()}disconnect(){if(this.disconnected)return;const e=this.id;xe.log(`Disconnect peer with ID:${e}`),this._disconnected=!0,this._open=!1,this.socket.alive=!1,this.socket.close(),this._lastServerId=e,this._id=null,this.emit("disconnected",e)}reconnect(){if(this.disconnected&&!this.destroyed)xe.log(`Attempting reconnection to server with ID ${this._lastServerId}`),this._disconnected=!1,this.socket.alive=!0,this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error("This peer cannot reconnect to the server. It has already been destroyed.");if(!this.disconnected&&!this.open)xe.error("In a hurry? We're still trying to make the initial connection!");else throw new Error(`Peer ${this.id} cannot reconnect because it is not disconnected from the server!`)}}listAllPeers(e=t=>{}){this._api.listAllPeers().then(t=>e(t)).catch(t=>this._abort("server-error",t))}static getFeatures(e){return!e&&typeof window<"u"&&(e=window),Ma._features||(Ma._features=Ma.checkFeatures(e)),Ma._features}static checkFeatures(e){!e&&typeof window<"u"&&(e=window);const t={webRTC:typeof e.RTCPeerConnection<"u",audioVideo:!0,data:!1,binaryBlob:!1,reliable:!1,unifiedPlan:!1};if(!t.webRTC)return t;let n;try{n=new e.RTCPeerConnection(nn.defaultConfig);let r;try{r=n.createDataChannel("_PEERJSTEST",{ordered:!0}),t.data=!0,t.reliable=!!r.ordered;try{r.binaryType="blob",t.binaryBlob=!0}catch{}}catch{}finally{r&&r.close()}}catch{}finally{n&&n.close()}return t.unifiedPlan=AG.isUnifiedPlanSupported(e),t}},n0=Ma;n0.DEFAULT_KEY="peerjs";typeof window<"u"&&(window.Peer=n0);class _G extends wo{constructor(){super(...arguments),this.name="PeerJS",this.peer=null,this.disconnect=()=>{var t;(t=this.peer)==null||t.disconnect()}}connect(t,n,r){this.peer=new n0(`allkaraoke-party-room-${t}`,Ij),this.peer.on("open",function(i){n(),console.log("My peer ID is: "+i)}),this.peer.on("connection",i=>{i.on("data",s=>{this.onUpdate(s,i)}),i.on("error",s=>console.warn("error",s)),i.on("iceStateChanged",s=>{(s==="disconnected"||s==="closed")&&this.onUpdate({t:"unregister"},i)}),i.on("close",()=>{et.removeRemoteMic(i.peer)})})}}const Lj="wss://backend.allkaraoke.party";class bG extends wo{constructor(){super(),this.name="WebSockets",this.connection=null,this.disconnect=()=>{var t;(t=this.connection)==null||t.close()}}connect(t,n,r){this.connection=new WebSocket(Lj),this.connection.binaryType="arraybuffer",this.connection.onopen=()=>{var i,s;(i=this.connection)==null||i.send(gg({t:"register-room",id:t})),n(),(s=this.connection)==null||s.addEventListener("message",o=>{var l;const a=yb(o.data);if(["ping","pong","freq"].includes((l=a==null?void 0:a.payload)==null?void 0:l.t)||console.log("received",a),a.t==="forward"){const{sender:c,payload:u}=a,d=new SG(c,this.connection);this.onUpdate(u,d)}})}}}class SG{constructor(t,n){this.peer=t,this.socket=n,this.send=r=>{const i={t:"forward",recipients:[this.peer],payload:r};["ping","pong","freq"].includes(r==null?void 0:r.t)||console.log("sending",this.peer,r),this.socket.send(gg(i))},this.callbacksMap=new Map,this.on=(r,i)=>{r==="data"&&(this.callbacksMap.set(i,s=>{const o=yb(s.data);if(o.t==="forward"){const{sender:a,payload:l}=o;a===this.peer&&i(l)}}),this.socket.addEventListener("message",this.callbacksMap.get(i)))},this.off=(r,i)=>{if(r==="data"){const s=this.callbacksMap.get(i);this.socket.removeEventListener("message",s),this.callbacksMap.delete(i)}},this.close=()=>{this.socket.close()}}}var Nj={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Uo,function(){var n=1e3,r=6e4,i=36e5,s="millisecond",o="second",a="minute",l="hour",c="day",u="week",d="month",h="quarter",p="year",g="date",m="Invalid Date",_=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,v=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,y={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(L){var M=["th","st","nd","rd"],T=L%100;return"["+L+(M[(T-20)%10]||M[T]||M[0])+"]"}},b=function(L,M,T){var U=String(L);return!U||U.length>=M?L:""+Array(M+1-U.length).join(T)+L},x={s:b,z:function(L){var M=-L.utcOffset(),T=Math.abs(M),U=Math.floor(T/60),j=T%60;return(M<=0?"+":"-")+b(U,2,"0")+":"+b(j,2,"0")},m:function L(M,T){if(M.date()<T.date())return-L(T,M);var U=12*(T.year()-M.year())+(T.month()-M.month()),j=M.clone().add(U,d),$=T-j<0,V=M.clone().add(U+($?-1:1),d);return+(-(U+(T-j)/($?j-V:V-j))||0)},a:function(L){return L<0?Math.ceil(L)||0:Math.floor(L)},p:function(L){return{M:d,y:p,w:u,d:c,D:g,h:l,m:a,s:o,ms:s,Q:h}[L]||String(L||"").toLowerCase().replace(/s$/,"")},u:function(L){return L===void 0}},S="en",w={};w[S]=y;var E="$isDayjsObject",I=function(L){return L instanceof Q||!(!L||!L[E])},z=function L(M,T,U){var j;if(!M)return S;if(typeof M=="string"){var $=M.toLowerCase();w[$]&&(j=$),T&&(w[$]=T,j=$);var V=M.split("-");if(!j&&V.length>1)return L(V[0])}else{var G=M.name;w[G]=M,j=G}return!U&&j&&(S=j),j||!U&&S},N=function(L,M){if(I(L))return L.clone();var T=typeof M=="object"?M:{};return T.date=L,T.args=arguments,new Q(T)},D=x;D.l=z,D.i=I,D.w=function(L,M){return N(L,{locale:M.$L,utc:M.$u,x:M.$x,$offset:M.$offset})};var Q=function(){function L(T){this.$L=z(T.locale,null,!0),this.parse(T),this.$x=this.$x||T.x||{},this[E]=!0}var M=L.prototype;return M.parse=function(T){this.$d=function(U){var j=U.date,$=U.utc;if(j===null)return new Date(NaN);if(D.u(j))return new Date;if(j instanceof Date)return new Date(j);if(typeof j=="string"&&!/Z$/i.test(j)){var V=j.match(_);if(V){var G=V[2]-1||0,F=(V[7]||"0").substring(0,3);return $?new Date(Date.UTC(V[1],G,V[3]||1,V[4]||0,V[5]||0,V[6]||0,F)):new Date(V[1],G,V[3]||1,V[4]||0,V[5]||0,V[6]||0,F)}}return new Date(j)}(T),this.init()},M.init=function(){var T=this.$d;this.$y=T.getFullYear(),this.$M=T.getMonth(),this.$D=T.getDate(),this.$W=T.getDay(),this.$H=T.getHours(),this.$m=T.getMinutes(),this.$s=T.getSeconds(),this.$ms=T.getMilliseconds()},M.$utils=function(){return D},M.isValid=function(){return this.$d.toString()!==m},M.isSame=function(T,U){var j=N(T);return this.startOf(U)<=j&&j<=this.endOf(U)},M.isAfter=function(T,U){return N(T)<this.startOf(U)},M.isBefore=function(T,U){return this.endOf(U)<N(T)},M.$g=function(T,U,j){return D.u(T)?this[U]:this.set(j,T)},M.unix=function(){return Math.floor(this.valueOf()/1e3)},M.valueOf=function(){return this.$d.getTime()},M.startOf=function(T,U){var j=this,$=!!D.u(U)||U,V=D.p(T),G=function(Ae,ce){var be=D.w(j.$u?Date.UTC(j.$y,ce,Ae):new Date(j.$y,ce,Ae),j);return $?be:be.endOf(c)},F=function(Ae,ce){return D.w(j.toDate()[Ae].apply(j.toDate("s"),($?[0,0,0,0]:[23,59,59,999]).slice(ce)),j)},ne=this.$W,O=this.$M,fe=this.$D,Z="set"+(this.$u?"UTC":"");switch(V){case p:return $?G(1,0):G(31,11);case d:return $?G(1,O):G(0,O+1);case u:var ae=this.$locale().weekStart||0,je=(ne<ae?ne+7:ne)-ae;return G($?fe-je:fe+(6-je),O);case c:case g:return F(Z+"Hours",0);case l:return F(Z+"Minutes",1);case a:return F(Z+"Seconds",2);case o:return F(Z+"Milliseconds",3);default:return this.clone()}},M.endOf=function(T){return this.startOf(T,!1)},M.$set=function(T,U){var j,$=D.p(T),V="set"+(this.$u?"UTC":""),G=(j={},j[c]=V+"Date",j[g]=V+"Date",j[d]=V+"Month",j[p]=V+"FullYear",j[l]=V+"Hours",j[a]=V+"Minutes",j[o]=V+"Seconds",j[s]=V+"Milliseconds",j)[$],F=$===c?this.$D+(U-this.$W):U;if($===d||$===p){var ne=this.clone().set(g,1);ne.$d[G](F),ne.init(),this.$d=ne.set(g,Math.min(this.$D,ne.daysInMonth())).$d}else G&&this.$d[G](F);return this.init(),this},M.set=function(T,U){return this.clone().$set(T,U)},M.get=function(T){return this[D.p(T)]()},M.add=function(T,U){var j,$=this;T=Number(T);var V=D.p(U),G=function(O){var fe=N($);return D.w(fe.date(fe.date()+Math.round(O*T)),$)};if(V===d)return this.set(d,this.$M+T);if(V===p)return this.set(p,this.$y+T);if(V===c)return G(1);if(V===u)return G(7);var F=(j={},j[a]=r,j[l]=i,j[o]=n,j)[V]||1,ne=this.$d.getTime()+T*F;return D.w(ne,this)},M.subtract=function(T,U){return this.add(-1*T,U)},M.format=function(T){var U=this,j=this.$locale();if(!this.isValid())return j.invalidDate||m;var $=T||"YYYY-MM-DDTHH:mm:ssZ",V=D.z(this),G=this.$H,F=this.$m,ne=this.$M,O=j.weekdays,fe=j.months,Z=j.meridiem,ae=function(ce,be,He,Fe){return ce&&(ce[be]||ce(U,$))||He[be].slice(0,Fe)},je=function(ce){return D.s(G%12||12,ce,"0")},Ae=Z||function(ce,be,He){var Fe=ce<12?"AM":"PM";return He?Fe.toLowerCase():Fe};return $.replace(v,function(ce,be){return be||function(He){switch(He){case"YY":return String(U.$y).slice(-2);case"YYYY":return D.s(U.$y,4,"0");case"M":return ne+1;case"MM":return D.s(ne+1,2,"0");case"MMM":return ae(j.monthsShort,ne,fe,3);case"MMMM":return ae(fe,ne);case"D":return U.$D;case"DD":return D.s(U.$D,2,"0");case"d":return String(U.$W);case"dd":return ae(j.weekdaysMin,U.$W,O,2);case"ddd":return ae(j.weekdaysShort,U.$W,O,3);case"dddd":return O[U.$W];case"H":return String(G);case"HH":return D.s(G,2,"0");case"h":return je(1);case"hh":return je(2);case"a":return Ae(G,F,!0);case"A":return Ae(G,F,!1);case"m":return String(F);case"mm":return D.s(F,2,"0");case"s":return String(U.$s);case"ss":return D.s(U.$s,2,"0");case"SSS":return D.s(U.$ms,3,"0");case"Z":return V}return null}(ce)||V.replace(":","")})},M.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},M.diff=function(T,U,j){var $,V=this,G=D.p(U),F=N(T),ne=(F.utcOffset()-this.utcOffset())*r,O=this-F,fe=function(){return D.m(V,F)};switch(G){case p:$=fe()/12;break;case d:$=fe();break;case h:$=fe()/3;break;case u:$=(O-ne)/6048e5;break;case c:$=(O-ne)/864e5;break;case l:$=O/i;break;case a:$=O/r;break;case o:$=O/n;break;default:$=O}return j?$:D.a($)},M.daysInMonth=function(){return this.endOf(d).$D},M.$locale=function(){return w[this.$L]},M.locale=function(T,U){if(!T)return this.$L;var j=this.clone(),$=z(T,U,!0);return $&&(j.$L=$),j},M.clone=function(){return D.w(this.$d,this)},M.toDate=function(){return new Date(this.valueOf())},M.toJSON=function(){return this.isValid()?this.toISOString():null},M.toISOString=function(){return this.$d.toISOString()},M.toString=function(){return this.$d.toUTCString()},L}(),P=Q.prototype;return N.prototype=P,[["$ms",s],["$s",o],["$m",a],["$H",l],["$W",c],["$M",d],["$y",p],["$D",g]].forEach(function(L){P[L[1]]=function(M){return this.$g(M,L[0],L[1])}}),N.extend=function(L,M){return L.$i||(L(M,Q,N),L.$i=!0),N},N.locale=z,N.isDayjs=I,N.unix=function(L){return N(1e3*L)},N.en=w[S],N.Ls=w,N.p={},N})})(Nj);var xG=Nj.exports;const as=ur(xG);function wG(e){return!!e}function EG(e){return[...Array(e).keys()]}const kG=250,zv=(e,t=0,n=1/0)=>e.filter(It).filter(r=>la([r])>=t).filter(r=>tf([r])<=n).reduce((r,i)=>r+i.notes.reduce((s,o)=>s+o.length,0),0),CG=(e,t)=>{const[n,...r]=e.filter(It),i=[[n]];return r.forEach(s=>{const o=i.at(-1),a=tf(o);(la([s])-a)*t>kG?i.push([s]):o.push(s)}),i},Bj=(e,t)=>e+t,Ik=e=>{const t=e.map(n=>n.reduce(Bj,0));return Math.max(...t)-Math.min(...t)},TG=(e,t)=>{const n=JSON.parse(JSON.stringify(e)),r=s=>{if(n[s-1].length<2)return;const o=n[s-1].pop();n[s].push(o)},i=s=>{var l;if(((l=n[s+1])==null?void 0:l.length)<2)return;const[o,...a]=n[s+1];n[s].push(o),n[s+1]=a};return t%2===1?r(Math.ceil(t/2)):i(Math.ceil(t/2)),n},IG=e=>e.reduce(Bj,0);function tS(e,t){const r=pu(t);if(e.sections.length<9)return[];const i=CG(e.sections,r);let s=[],o=[zv(i[0])];for(let a=0;a<i.length-2;a++){const l=i[s.flat().length-1]??[],u=zv(e.sections,tf(l)??0)/(10-s.length),d=zv(i[a+1]),h=IG(o);h+d<u?o=[...o,d]:u-h<h+d-u?(s.push(o),o=[d]):(s.push([...o,d]),o=[])}for(let a=0;a<100;a++){const l=Ik(s),c=EG((s.length-2)*2+2).map(p=>TG(s,p)),u=c.map(Ik),d=Math.min(...u);if(l<=d)break;const h=u.indexOf(d);s=c[h]}return s.map(a=>a.length).reduce((a,l)=>[...a,(a.at(-1)??0)+l],[]).map(a=>tf(i[a-1]))}var $j={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Uo,function(){function n(r){return typeof r=="string"?r.replace(/[^A-Za-z0-9]/g,function(i){return n.characters[i]||i}):r}return n.characters={:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A","":"A",:"A","":"AA",:"AE",:"AE",:"AE","":"AO","":"AU","":"AV","":"AV","":"AY",:"B",:"B",:"B",:"B","":"B",:"B",:"C",:"C",:"C",:"C",:"C",:"C",:"C","":"C",:"D",:"D",:"D",:"D",:"D",:"D",:"D",:"D",:"D",:"D",:"D",:"D",:"DZ",:"DZ",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E","":"E",:"E",:"E","":"ET",:"F",:"F",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"H",:"H",:"H",:"H","":"H",:"H",:"H",:"H",:"H",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I","":"D","":"F","":"G","":"R","":"S","":"T","":"IS",:"J","":"J",:"K",:"K",:"K","":"K","":"K",:"K",:"K",:"K","":"K","":"K",:"L","":"L",:"L",:"L",:"L",:"L",:"L","":"L","":"L",:"L",:"L","":"L",:"L",:"L",:"LJ",:"M",:"M",:"M","":"M",:"N",:"N",:"N",:"N",:"N",:"N",:"N",:"N",:"N","":"N",:"N",:"N",:"NJ",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O","":"O","":"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"OI","":"OO",:"E",:"O",:"OU",:"P",:"P","":"P",:"P","":"P","":"P","":"P","":"Q","":"Q",:"R",:"R",:"R",:"R",:"R",:"R",:"R",:"R",:"R","":"R","":"R","":"C",:"E",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"ss",:"T",:"T",:"T",:"T","":"T",:"T",:"T",:"T",:"T",:"T",:"T","":"A","":"L",:"M","":"V","":"TZ",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U","":"V",:"V",:"V",:"V","":"VY",:"W",:"W",:"W",:"W",:"W",:"W","":"W",:"X",:"X",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y","":"Y",:"Y","":"Y",:"Y",:"YI",:"Z",:"Z",:"Z","":"Z",:"Z",:"Z",:"Z",:"Z",:"Z",:"TH",:"IJ",:"OE","":"A","":"AE",:"B","":"B","":"C","":"D","":"E","":"F",:"G",:"G",:"H",:"I",:"R","":"J","":"K",:"L","":"L","":"M",:"N","":"O",:"OE","":"O","":"OU","":"P",:"R","":"N","":"R","":"S","":"T","":"E","":"R","":"U","":"V","":"W",:"Y","":"Z",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a","":"a",:"a",:"a",:"a",:"a","":"a",:"a","":"aa",:"ae",:"ae",:"ae","":"ao","":"au","":"av","":"av","":"ay",:"b",:"b",:"b",:"b","":"b","":"b",:"b",:"b",:"o",:"c",:"c",:"c",:"c",:"c",:"c",:"c",:"c","":"c",:"d",:"d",:"d","":"d",:"d",:"d",:"d","":"d",:"d","":"d","":"d",:"d",:"d",:"d",:"d",:"i","":"j",:"j",:"j",:"dz",:"dz",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e","":"e",:"e","":"e","":"e",:"e",:"e","":"et",:"f",:"f","":"f","":"f",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"g","":"g",:"g",:"h",:"h",:"h",:"h","":"h",:"h",:"h",:"h",:"h",:"h",:"h",:"hv",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i","":"i",:"i",:"i",:"i",:"i","":"d","":"f","":"g","":"r","":"s","":"t","":"is",:"j",:"j",:"j","":"j",:"k",:"k",:"k","":"k","":"k",:"k",:"k",:"k","":"k","":"k","":"k",:"l",:"l",:"l",:"l",:"l",:"l","":"l",:"l",:"l","":"l","":"l",:"l",:"l",:"l","":"l",:"l",:"l",:"lj",:"s","":"s",:"s","":"s",:"m",:"m",:"m",:"m","":"m","":"m",:"n",:"n",:"n",:"n","":"n",:"n",:"n",:"n",:"n",:"n",:"n","":"n","":"n",:"n",:"n",:"nj",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o","":"o","":"o","":"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"oi","":"oo",:"e","":"e",:"o","":"o",:"ou",:"p",:"p","":"p",:"p","":"p","":"p","":"p","":"p","":"p","":"q",:"q","":"q","":"q",:"r",:"r",:"r",:"r",:"r",:"r",:"r",:"r","":"r",:"r",:"r",:"r","":"r","":"r","":"r",:"r","":"c","":"c",:"e",:"r",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"s","":"s","":"s","":"s",:"g","":"o","":"o","":"u",:"t",:"t",:"t",:"t","":"t",:"t","":"t",:"t",:"t",:"t",:"t","":"t",:"t",:"t",:"t","":"th",:"a","":"ae",:"e","":"g",:"h","":"h","":"h","":"i",:"k","":"l",:"m",:"m","":"oe",:"r",:"r",:"r","":"r",:"t",:"v",:"w",:"y","":"tz",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u","":"u",:"u",:"u",:"u",:"u","":"ue","":"um","":"v","":"v",:"v",:"v","":"v","":"v",:"v","":"vy",:"w",:"w",:"w",:"w",:"w",:"w","":"w",:"w",:"x",:"x","":"x",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y","":"y",:"y",:"y","":"y",:"y",:"yi",:"z",:"z",:"z",:"z","":"z",:"z",:"z",:"z",:"z","":"z","":"z",:"z",:"z","":"z",:"th",:"ff",:"ffi",:"ffl",:"fi",:"fl",:"ij",:"oe",:"st","":"a","":"e","":"i","":"j","":"o","":"r","":"u","":"v","":"x",:"YO",:"I",:"TS",:"U",:"K",:"E",:"N",:"G",:"G",:"SH",:"SCH",:"Z",:"H",:"'",:"yo",:"i",:"ts",:"u",:"k",:"e",:"n",:"g",:"g",:"sh",:"sch",:"z",:"h",:"'",:"F",:"I",:"V",:"a",:"P",:"R",:"O",:"L",:"D",:"ZH",:"E",:"f",:"i",:"v",:"a",:"p",:"r",:"o",:"l",:"d",:"zh",:"e",:"Ya",:"CH",:"S",:"M",:"I",:"T",:"'",:"B",:"YU",:"ya",:"ch",:"s",:"m",:"i",:"t",:"'",:"b",:"yu"},n})})($j);var RG=$j.exports;const MG=ur(RG),PG=/[^0-9a-z]/gi;function ol(e){return nS(e).toLowerCase().normalize("NFKD").replace(PG,"")}function nS(e){return MG(e)}function Dj(e){return nS(e).toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+$/,"").replace(/^-+/,"").replace(/-+/g,"-")}function rS(e){return e.id?e.id:Dj(`${e==null?void 0:e.artist}-${e==null?void 0:e.title}`)}const Rk=(e,t,n)=>n>=e&&n<=t,Mk=e=>e.notes.map(t=>t.lyrics).join(""),Pk=e=>new Set(ol(e)).size,jG=(e,t)=>{const n=e.reduce((i,s)=>`${i}${Mk(s)}`,""),r=Mk(t);return Pk(n)/Pk(r)<.5},OG=(e,t)=>{const n=t.start,r=nf(t),i=e.filter(o=>{const a=o.start,l=nf(o);return Rk(n,r,a)||Rk(n,r,l)||a<=n&&l>=r}),s=jG(i,t);return{section:t,shouldReplace:i.length===0||s,sectionsToRemove:i}};function Fj(e,t){if(e){if(e.length===1)return e[0]}else return e;const n=e.map(o=>o.sections.filter(It)),r=n[1].map(o=>OG(n[0],o));let i=[...n[0]];r.forEach((o,a)=>{o.shouldReplace&&(i=i.filter(l=>!o.sectionsToRemove.some(c=>c.start===l.start)),i.push(o.section))});const s={...e[0],sections:i.sort((o,a)=>o.start-a.start),changes:[]};return s.changes=tS(s,t),s}const jk={R:"rap",F:"freestyle","*":"star",":":"normal",G:"rapstar"},RAe={rap:"R",freestyle:"F",star:"*",normal:":",rapstar:"G"},VG=["TRACKNAMES","YEAR","EDITION","GENRE","LANGUAGE","VIDEOGAP","PREVIEWSTART","CREATOR","TITLE","ARTIST","BPM","GAP","ID","LASTUPDATE","VOLUME","REALBPM","PREVIEWEND","CREATORURL","SOURCEURL","ARTISTORIGIN","VIDEOID","ALLKARAOKE_ID","ALLKARAOKE_LASTUPDATE","ALLKARAOKE_VOLUME","ALLKARAOKE_REALBPM","ALLKARAOKE_PREVIEWEND","ALLKARAOKE_CREATORURL","ALLKARAOKE_SOURCEURL","ALLKARAOKE_ARTISTORIGIN","ALLKARAOKE_VIDEOID"];function LG(e){return e.split(`
`).filter(t=>t.startsWith("#")&&!VG.includes(t.substring(1).split(":")[0]))}function Ot(e,t,n="string"){const r=i=>{var a;const s=new RegExp(`#${i}\\:(.*)`),o=(a=e.match(s))==null?void 0:a[1];if(o!==void 0)return n==="number"?Number(o.replace(",","."))??0:n==="array"?o.split(", "):o};return t.map(r).filter(wG).at(0)}function NG(e){var r;const t=Ot(e,["VIDEO"])??"",n=new RegExp("v=(.*?)(,|$)");return(r=t.match(n))==null?void 0:r[1]}const BG=/- -?\d+ -?\d+/;function Ok(e){try{const t=new URL(e);return t.host==="youtu.be"?t.pathname.substring(1):t.host==="www.youtube.com"||t.host==="youtube.com"?t.searchParams.get("v"):null}catch{return null}}function $G(e,t){try{return JSON.parse(e)}catch{return t}}function DG(e){const t=Ot(e,["P1"]),n=Ot(e,["P2"]);return t||n?[t,n]:$G(Ot(e,["TRACKNAMES"]),[])}function FG(e,t,n,r,i){var p,g;const s=DG(e),o={year:Ot(e,["YEAR"]),artistOrigin:Ot(e,["ALLKARAOKE_ARTISTORIGIN","ARTISTORIGIN"]),lastUpdate:Ot(e,["ALLKARAOKE_LASTUPDATE","LASTUPDATE"]),edition:Ot(e,["EDITION"]),genre:Ot(e,["GENRE"]),videoGap:Ot(e,["VIDEOGAP"],"number"),realBpm:Ot(e,["ALLKARAOKE_REALBPM","REALBPM"],"number"),previewStart:Ot(e,["PREVIEWSTART"],"number"),previewEnd:Ot(e,["ALLKARAOKE_PREVIEWEND","PREVIEWEND"],"number"),volume:Ot(e,["ALLKARAOKE_VOLUME","VOLUME"],"number"),author:Ot(e,["CREATOR"])??n,authorUrl:Ot(e,["ALLKARAOKE_CREATORURL","CREATORURL"])??r,sourceUrl:Ot(e,["ALLKARAOKE_SOURCEURL","SOURCEURL"])??i};o.videoGap&&(o.videoGap=Math.floor(o.videoGap));const a=Ot(e,["TITLE"])??"",l=Ot(e,["ARTIST"])??"",c=Ot(e,["ALLKARAOKE_VIDEOID","VIDEOID"])??Ok(Ot(e,["AUDIOURL"])??"")??Ok(Ot(e,["VIDEOURL"])??"")??NG(e)??"",u={id:Ot(e,["ALLKARAOKE_ID","ID"])??rS({title:a,artist:l}),title:a,artist:l,video:c,language:Ot(e,["LANGUAGE"],"array")??[],bpm:Number(((p=Ot(e,["BPM"]))==null?void 0:p.replace(",","."))??0),bar:4,gap:Number(((g=Ot(e,["GAP"]))==null?void 0:g.replace(",","."))??0),...o,tracks:[],unsupportedProps:LG(e),mergedTrack:{}};if((t==null?void 0:t.length)===11)u.video=t;else if(t)try{const m=new URL(t);u.video=m.searchParams.get("v")||"Invalid link"}catch(m){u.video=`Invalid link: ${m.message}`}let d=[],h=0;return e.split(`
`).forEach(m=>{if(m.startsWith("#"))return;const _=m.split(" ");if(Number(_[1])<h*.75&&d.length&&(s[u.tracks.length]?u.tracks.push({sections:d,name:s[u.tracks.length],changes:[]}):u.tracks.push({sections:d,changes:[]}),d=[]),BG.test(m)){const[,v,y]=_;d.push({start:Number(v),end:Number(y),type:"pause"}),d.push({start:Number(y),type:"notes",notes:[]}),h=Number(y)}else if(m.startsWith("-"))d.push({start:Number(m.split("-")[1].trim()),notes:[],type:"notes"});else if(Object.keys(jk).includes(m[0])){d.length===0&&(d=[{start:0,notes:[],type:"notes"}]);const v=d[d.length-1],[y,b,x,S,...w]=_;v.notes.push({type:jk[y]??"normal",start:Number(b),length:Number(x),pitch:Number(S),lyrics:w.join(" ")}),h=Number(_[1])}}),s[u.tracks.length]?u.tracks.push({sections:d,name:s[u.tracks.length],changes:[]}):u.tracks.push({sections:d,changes:[]}),u.tracks=u.tracks.map(m=>({...m,sections:m.sections.filter(_=>_.type==="pause"||_.notes.length),changes:[]})).map(m=>({...m,changes:tS(m,u)})),u.mergedTrack=Fj(u.tracks,u),u}const zj="CURRENT_VISIT_KEY",Uj="LAST_VISIT_KEY",zG=3*60*60*1e3,r0=Date.now();var rM;const Uv=Number(((rM=Ve.local)==null?void 0:rM.getItem(zj))??r0);var iM;const Hj=((iM=Ve.local)==null?void 0:iM.getItem("posthog-user-id"))===null,UG=Hj?r0:1673642382501;var sM;let Gj=Number(((sM=Ve.local)==null?void 0:sM.getItem(Uj))??UG);var oM;(Hj||r0-Uv>zG)&&((oM=Ve.local)==null||oM.setItem(Uj,String(Uv)),Gj=Uv);var aM;(aM=Ve.local)==null||aM.setItem(zj,String(r0));const HG=e=>ol(`${e.artist}${e.title}`),GG=({bar:e,unsupportedProps:t,mergedTrack:n,...r},i=!1)=>({...r,id:rS(r),language:Array.isArray(r.language)?r.language:[r.language],tracksCount:r.tracks.length,tracks:r.tracks.map(({name:s,sections:o})=>({name:s,start:la(o)})),search:HG(r),local:i});let Lu=null;async function Po(){if(!Lu)if("localStorage"in globalThis)try{Lu=hu(()=>Promise.resolve().then(()=>hj),void 0).then(({default:e})=>e.createInstance({name:"songs_v2"}))}catch(e){console.error(e),Lu=Promise.resolve(Ve.memory)}else Lu=Promise.resolve(Ve.memory);return Lu}const Fh="DELETED_SONGS_V2";class qG{constructor(){this.finalIndex=null,this.indexWithDeletedSongs=null,this.store=async t=>{var n;await((n=await Po())==null?void 0:n.setItem(this.generateSongFile(t),{...t,lastUpdate:new Date().toISOString()})),await this.reloadIndex()},this.get=async t=>{const n=await this.getLocal(t);return n||await fetch(`/songs/${t}.txt`).then(r=>r.text()).then(FG)},this.getIndex=async(t=!1)=>(this.finalIndex===null&&await this.reloadIndex(),t?this.indexWithDeletedSongs:this.finalIndex),this.getCurrentIndex=()=>this.finalIndex,this.getDeletedSongsList=async()=>{var n;return await((n=await Po())==null?void 0:n.getItem(Fh))??[]},this.generateSongFile=t=>rS(t),this.reloadIndex=async()=>{const[t,n,r]=await Promise.all([fetch("/songs/index.json").then(a=>a.json()),this.getLocalIndex(),this.getDeletedSongsList()]),i=as(Gj),s=n.filter(a=>{const l=t.find(c=>c.id===a.id);return l?as(a.lastUpdate??0).isAfter(as(l.lastUpdate??0)):!0}),o=s.map(a=>a.id);n.forEach(async a=>{o.includes(a.id)||(await Po()).removeItem(a.id)}),this.indexWithDeletedSongs=[...s,...t.filter(a=>!o.includes(this.generateSongFile(a)))].map(a=>({...a,isNew:a.lastUpdate?as(a.lastUpdate).isAfter(i):!1,isDeleted:r==null?void 0:r.includes(this.generateSongFile(a))})),this.indexWithDeletedSongs.sort((a,l)=>`${a.artist} ${a.title}`.localeCompare(`${l.artist} ${l.title}`.toLowerCase())),this.finalIndex=this.indexWithDeletedSongs.filter(a=>!a.isDeleted)},this.deleteSong=async t=>(await(await Po()).removeItem(t),this.reloadIndex()),this.softDeleteSong=async t=>{const n=await this.getDeletedSongsList();return await(await Po()).setItem(Fh,[...new Set([...n,t])]),this.reloadIndex()},this.restoreSong=async t=>{const n=await this.getDeletedSongsList();return await(await Po()).setItem(Fh,n.filter(r=>r!==t)),this.reloadIndex()},this.getLocal=async t=>{var r;const n=await((r=await Po())==null?void 0:r.getItem(decodeURIComponent(t)));return n&&n.tracks?{...n,language:Array.isArray(n.language)?n.language:[n.language],mergedTrack:Fj(n.tracks,n),tracks:n.tracks.map(i=>({...i,changes:tS(i,n)}))}:null},this.getLocalIndex=async()=>(await Promise.all((await this.getKeys()).map(this.getLocal))).filter(n=>n!==null).map(n=>{try{return GG(n,!0)}catch(r){return console.error(r),null}}).filter(n=>n!==null),this.getKeys=async()=>{const t=[Fh];return(await(await Po()).keys()).filter(n=>!t.includes(n))}}}const Gs=new qG,Vk="room_id_key",jp=5;class WG{constructor(){var t;if(this.gameCode=Ve.session.getItem(Vk),this.started=!1,this.start=()=>{this.transport||(this.transport=mg.get()?new bG:new _G),!this.started&&(this.started=!0,console.log("connection started",this.getGameCode()),Ve.session.setItem(Vk,this.gameCode),this.transport.connect(this.getGameCode(),()=>{this.transport.addListener((n,r)=>{var s;const i=n.t;if(i==="register")et.addRemoteMic(n.id,n.name,r,n.silent,n.lag);else if(i==="unregister")et.removeRemoteMic(r.peer,!0);else if(i==="subscribe-event")et.addSubscription(r.peer,n.channel);else if(i==="unsubscribe-event")et.removeSubscription(r.peer,n.channel);else if(i==="ping")r.send({t:"pong"});else if(i==="pong")(s=et.getRemoteMicById(r.peer))==null||s.onPong();else if(i==="request-songlist")Promise.all([Gs.getLocalIndex(),Gs.getDeletedSongsList()]).then(([o,a])=>{r.send({t:"songlist",custom:o.map(l=>({artist:l.artist,title:l.title,video:l.video,language:l.language,search:l.search})),deleted:a})});else if(i==="get-microphone-lag-request"){const o=et.getRemoteMicById(r.peer);o&&r.send({t:"get-microphone-lag-response",value:o.getInput().getInputLag()})}else if(i==="set-microphone-lag-request"){const o=et.getRemoteMicById(r.peer);o&&(o.getInput().setInputLag(n.value),r.send({t:"get-microphone-lag-response",value:o.getInput().getInputLag()}))}else et.getPermission(r.peer)==="write"&&(i==="keystroke"?te.remoteKeyboardPressed.dispatch(n.key):i==="search-song"?te.remoteSongSearch.dispatch(n.search):i==="request-mic-select"?te.playerChangeRequested.dispatch(n.id,n.playerNumber):i==="get-game-input-lag-request"?r.send({t:"get-game-input-lag-response",value:_d.get()}):i==="set-game-input-lag-request"&&(_d.set(n.value),r.send({t:"get-game-input-lag-response",value:_d.get()})))})},()=>{this.started=!1}))},this.getGameCode=()=>(mg.get()?"w":"p")+this.gameCode,!this.gameCode){this.gameCode="";for(let n=0;n<jp-1;n++)this.gameCode+=String.fromCharCode(Math.floor(Math.random()*26)+97)}(t=global==null?void 0:global.addEventListener)==null||t.call(global,"beforeunload",()=>{var n;et.getRemoteMics().forEach(r=>r.connection.close()),(n=this.transport)==null||n.disconnect()})}}const Eg=new WG,al=e=>`${e.deviceId};${e.channel}`,Lk=[{channels:2,channel:1,label:"Drawing Test Input",id:al({deviceId:"default",channel:1}),deviceId:"default"}],La=class La{};La.inputName="DrawingTest",La.getDefault=()=>Lk[0],La.getInputs=async()=>Lk,La.subscribeToListChange=t=>{},La.unsubscribeToListChange=t=>{};let r1=La;const Nk=[{channels:2,channel:0,label:"Dummy Input 1",id:al({deviceId:"default",channel:0}),deviceId:"default"},{channels:2,channel:1,label:"Dummy Input 2",id:al({deviceId:"default",channel:1}),deviceId:"default"}],Na=class Na{};Na.inputName="Dummy",Na.getDefault=()=>Nk[0],Na.getInputs=async()=>Nk,Na.subscribeToListChange=t=>{},Na.unsubscribeToListChange=t=>{};let kg=Na;var KG=Math.ceil,YG=Math.max;function QG(e,t,n,r){for(var i=-1,s=YG(KG((t-e)/(n||1)),0),o=Array(s);s--;)o[r?s:++i]=e,e+=n;return o}var JG=9007199254740991;function iS(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=JG}function sS(e){return e!=null&&iS(e.length)&&!Cj(e)}var XG=9007199254740991,ZG=/^(?:0|[1-9]\d*)$/;function oS(e,t){var n=typeof e;return t=t??XG,!!t&&(n=="number"||n!="symbol"&&ZG.test(e))&&e>-1&&e%1==0&&e<t}function qj(e,t,n){if(!ms(n))return!1;var r=typeof t;return(r=="number"?sS(n)&&oS(t,n.length):r=="string"&&t in n)?Qm(n[t],e):!1}var Bk=1/0,eq=17976931348623157e292;function Op(e){if(!e)return e===0?e:0;if(e=e1(e),e===Bk||e===-Bk){var t=e<0?-1:1;return t*eq}return e===e?e:0}function tq(e){return function(t,n,r){return r&&typeof r!="number"&&qj(t,n,r)&&(n=r=void 0),t=Op(t),n===void 0?(n=t,t=0):n=Op(n),r=r===void 0?t<n?1:-1:Op(r),QG(t,n,r,e)}}var nq=tq();const i1={test:e=>e.toLowerCase().includes("wireless mic #")||e.toLowerCase().includes("sony wireless singstar"),map:(e,t)=>`SingStar Wireless - ${t===0?"Blue":"Red"}`},s1={test:e=>e.toLowerCase().includes("usbmic serial#")||e.toLowerCase().includes("singstar"),map:(e,t)=>`SingStar Wired - ${t===0?"Blue":"Red"}`},o1={test:(e,t,n)=>n===2&&e.toLowerCase().includes("singstar"),map:(e,t)=>`SingStar Mic - ${t===0?"Blue":"Red"}`},rq=(...[e,t,n])=>s1.test(e,t,n)||i1.test(e,t,n)||o1.test(e,t,n)?t:void 0,iq=(e,t,n)=>i1.test(e,t,n)?i1.map(e,t):s1.test(e,t,n)?s1.map(e,t):o1.test(e,t,n)?o1.map(e,t):n>1?`${e} (ch ${t+1})`:e,Si=class Si{};Si.inputList=[],Si.inputName="Microphone",Si.getDefault=()=>Si.inputList.find(t=>t.id===al({deviceId:"default",channel:0}))??Si.inputList[0]??null,Si.getInputs=async()=>{let t=[];try{await Zo.getUserMedia({audio:!0,video:!1}),t=await Zo.enumerateDevices()}catch(r){Us(r,{level:"warning",extra:{message:"Microphone.getInputs"}}),console.warn(r)}const n=await Promise.all(t.filter(r=>r.kind==="audioinput").map(async r=>{let i=1;try{i=(await Zo.getUserMedia({audio:{deviceId:{exact:r.deviceId},echoCancellation:{exact:!1}},video:!1})).getAudioTracks()[0].getSettings().channelCount??1}catch(s){console.warn(s)}return nq(0,i).map(s=>({label:iq(r.label,s,i),channel:s,channels:i,deviceId:r.deviceId,id:al({deviceId:r.deviceId,channel:s}),preferred:rq(r.label,s,i)}))}));return Si.inputList=n.flat(),Si.inputList},Si.subscribeToListChange=t=>navigator.mediaDevices.addEventListener("devicechange",t),Si.unsubscribeToListChange=t=>navigator.mediaDevices.removeEventListener("devicechange",t);let uo=Si;const $k=e=>({label:`${e.name}`,id:al({deviceId:e.id,channel:0}),deviceId:e.id,channels:1,channel:0}),Ba=class Ba{};Ba.inputName="Remote Microphone",Ba.getDefault=()=>et.getRemoteMics().map($k)[0]??null,Ba.getInputs=async()=>et.getRemoteMics().map($k),Ba.subscribeToListChange=t=>{te.remoteMicConnected.subscribe(t),te.remoteMicDisconnected.subscribe(t)},Ba.unsubscribeToListChange=t=>{te.remoteMicConnected.unsubscribe(t),te.remoteMicDisconnected.unsubscribe(t)};let mo=Ba;const sq=e=>`${e.deviceId};${e.channel}`;class oq{constructor(){this.initialiseInputSource=(t,n=!1)=>(n||t.getInputs().then(r=>{this.inputList[t.inputName].list=r,te.inputListChanged.dispatch(!0),t.subscribeToListChange(async()=>{this.inputList[t.inputName].list=await t.getInputs(),te.inputListChanged.dispatch(!1)})}),{list:[],getDefault:t.getDefault}),this.loadMics=()=>{this.inputList.Microphone.list.length||(this.inputList.Microphone=this.initialiseInputSource(uo))},this.getInputList=()=>this.inputList,this.getInputForPlayerSelected=(t,n=!0)=>{const r=this.inputList[t.source];return r.list.find(i=>i.id===sq(t))??(n?r.getDefault():null)},this.inputList={[uo.inputName]:this.initialiseInputSource(uo,!0),[kg.inputName]:this.initialiseInputSource(kg),[mo.inputName]:this.initialiseInputSource(mo)}}}const vo=new oq,Dk="playerselectedinputs",Cg=4,Am=class Am{constructor(t,n,r){this.number=t,this.input=n,this.name=r,this.nameOverride="",this.changeInput=(i,s=0,o)=>{let a=null;fn.monitoringStarted()&&(a=fn.stopMonitoring());const l={source:i,deviceId:o,channel:s},c=this.input;this.input=l,te.playerInputChanged.dispatch(this.number,c,l),a&&a.then(fn.startMonitoring)},this.toJSON=()=>({number:this.number,input:this.input,name:this.name}),this.getName=()=>this.nameOverride||(this.name??`Player #${this.number+1}`),this.isDefaultName=()=>this.name===void 0,this.setName=i=>{const s=this.name;this.name=i,te.playerNameChanged.dispatch(this.number,s)}}};Am.fromJSON=t=>new Am(t.number,t.input,t.name);let ec=Am;class aq{constructor(){this.minPlayerNumber=2,this.players=[],this.requestingPromise=null,this.storePlayers=()=>{Ve.session.setItem(Dk,this.getPlayers().map(n=>n.toJSON()))},this.requestReadiness=async()=>(this.requestingPromise||(this.requestingPromise=new Promise(n=>{const r=async()=>{!this.getPlayers().filter(s=>s.input.source==="Remote Microphone").some(s=>vo.getInputForPlayerSelected(s.input,!1)===null)&&(await Promise.all(this.getPlayers().map(s=>fn.sourceNameToInput(s.input.source).requestReadiness(s.input.deviceId).then(()=>{te.readinessConfirmed.dispatch(s.input.deviceId)}))),te.inputListChanged.unsubscribe(r),this.requestingPromise=null,n(!0))};te.inputListChanged.subscribe(r),r()})),this.requestingPromise),this.getPlayers=()=>this.players,this.getPlayer=n=>this.players.find(r=>r.number===n),this.getMinPlayerNumber=()=>this.minPlayerNumber,this.setMinPlayerNumber=n=>{const r=this.minPlayerNumber;this.minPlayerNumber=n,te.minPlayerNumberChanged.dispatch(r,n)},this.addPlayer=n=>{if(Ne.isPlaying()||this.getPlayer(n))return;const r=new ec(n,{source:"Dummy",deviceId:"default",channel:0});return this.players.push(r),this.storePlayers(),te.playerAdded.dispatch(r.number),te.playerInputChanged.dispatch(r.number,void 0,r.input),r},this.removePlayer=n=>{if(Ne.isPlaying())return;const r=this.getPlayer(n);r&&(this.players=this.players.filter(i=>i.number!==n),this.players.length<this.minPlayerNumber&&this.addPlayer(new Array(Cg).fill(0).find((i,s)=>!this.players.find(o=>o.number===s))),this.storePlayers(),te.playerRemoved.dispatch(r))},this.getInputs=()=>this.getPlayers().map(n=>n.input);const t=Ve.session.getItem(Dk)??[];t.length?(this.players=t.map(ec.fromJSON),this.getPlayers().some(n=>n.input.source==="Microphone")&&vo.loadMics(),this.getPlayers().some(n=>n.input.source==="Remote Microphone")&&Eg.start()):this.players=[new ec(0,{source:"Dummy",deviceId:"default",channel:0}),new ec(1,{source:"Dummy",deviceId:"default",channel:1})],te.playerInputChanged.subscribe((n,r,i)=>{const s=this.getPlayer(n);if(!(!i||!s)){if(i.source==="Remote Microphone"){const o=et.getRemoteMicById(i.deviceId);o&&(s.nameOverride=o.name)}else s.nameOverride="";this.storePlayers()}}),te.playerNameChanged.subscribe(xj(this.storePlayers,1e3)),te.remoteMicConnected.subscribe(({id:n,name:r})=>{this.getPlayers().forEach(i=>{i.input.source==="Remote Microphone"&&i.input.deviceId===n&&i.getName()!==r&&(i.nameOverride=r)})})}}const Me=new aq;class lq{constructor(){this.isMonitoring=!1,this.getInputStatus=t=>{const n=Me.getPlayer(t);return n?this.sourceNameToInput(n.input.source).getStatus(n.input.deviceId,n.input.channel):"unavailable"},this.getPlayerFrequency=t=>{var i;const n=(i=Me.getPlayer(t))==null?void 0:i.input;return n?this.sourceNameToInput(n.source).getFrequencies(n.deviceId)[n.channel]:0},this.clearPlayerCachedFrequencies=t=>{var r;const n=(r=Me.getPlayer(t))==null?void 0:r.input;if(!n)return 0;this.sourceNameToInput(n.source).clearFrequencies(n.deviceId)},this.getPlayerVolume=t=>{var i;const n=(i=Me.getPlayer(t))==null?void 0:i.input;return n?this.sourceNameToInput(n.source).getVolumes(n.deviceId)[n.channel]:0},this.getPlayerInputLag=t=>{var r;const n=(r=Me.getPlayer(t))==null?void 0:r.input;return n?this.sourceNameToInput(n.source).getInputLag(n.deviceId):0},this.startMonitoring=async()=>{await Promise.all(Me.getPlayers().map(t=>this.sourceNameToInput(t.input.source).startMonitoring(t.input.deviceId))),this.isMonitoring=!0},this.stopMonitoring=async()=>{await Promise.all(Me.getPlayers().map(t=>this.sourceNameToInput(t.input.source).stopMonitoring(t.input.deviceId))),this.isMonitoring=!1},this.monitoringStarted=()=>this.isMonitoring,this.sourceNameToInput=t=>t===uo.inputName?wU:t===r1.inputName?UF:t===mo.inputName?kU:GF,te.inputListChanged.subscribe(async()=>{this.isMonitoring&&(await this.stopMonitoring(),this.startMonitoring())})}}const fn=new lq;function Wj(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=Wj(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function qo(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=Wj(e))&&(r&&(r+=" "),r+=t);return r}const kd=e=>typeof e=="number"&&!isNaN(e),ll=e=>typeof e=="string",$r=e=>typeof e=="function",Vp=e=>ll(e)||$r(e)?e:null,Hv=e=>A.isValidElement(e)||ll(e)||$r(e)||kd(e);function cq(e,t,n){n===void 0&&(n=300);const{scrollHeight:r,style:i}=e;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)})})}function i0(e){let{enter:t,exit:n,appendPosition:r=!1,collapse:i=!0,collapseDuration:s=300}=e;return function(o){let{children:a,position:l,preventExitTransition:c,done:u,nodeRef:d,isIn:h}=o;const p=r?`${t}--${l}`:t,g=r?`${n}--${l}`:n,m=A.useRef(0);return A.useLayoutEffect(()=>{const _=d.current,v=p.split(" "),y=b=>{b.target===d.current&&(_.dispatchEvent(new Event("d")),_.removeEventListener("animationend",y),_.removeEventListener("animationcancel",y),m.current===0&&b.type!=="animationcancel"&&_.classList.remove(...v))};_.classList.add(...v),_.addEventListener("animationend",y),_.addEventListener("animationcancel",y)},[]),A.useEffect(()=>{const _=d.current,v=()=>{_.removeEventListener("animationend",v),i?cq(_,u,s):u()};h||(c?v():(m.current=1,_.className+=` ${g}`,_.addEventListener("animationend",v)))},[h]),Te.createElement(Te.Fragment,null,a)}}function Fk(e,t){return e!=null?{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}:{}}const Ei={list:new Map,emitQueue:new Map,on(e,t){return this.list.has(e)||this.list.set(e,[]),this.list.get(e).push(t),this},off(e,t){if(t){const n=this.list.get(e).filter(r=>r!==t);return this.list.set(e,n),this}return this.list.delete(e),this},cancelEmit(e){const t=this.emitQueue.get(e);return t&&(t.forEach(clearTimeout),this.emitQueue.delete(e)),this},emit(e){this.list.has(e)&&this.list.get(e).forEach(t=>{const n=setTimeout(()=>{t(...[].slice.call(arguments,1))},0);this.emitQueue.has(e)||this.emitQueue.set(e,[]),this.emitQueue.get(e).push(n)})}},zh=e=>{let{theme:t,type:n,...r}=e;return Te.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...r})},Gv={info:function(e){return Te.createElement(zh,{...e},Te.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return Te.createElement(zh,{...e},Te.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return Te.createElement(zh,{...e},Te.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return Te.createElement(zh,{...e},Te.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return Te.createElement("div",{className:"Toastify__spinner"})}};function uq(e){const[,t]=A.useReducer(p=>p+1,0),[n,r]=A.useState([]),i=A.useRef(null),s=A.useRef(new Map).current,o=p=>n.indexOf(p)!==-1,a=A.useRef({toastKey:1,displayedToast:0,count:0,queue:[],props:e,containerId:null,isToastActive:o,getToast:p=>s.get(p)}).current;function l(p){let{containerId:g}=p;const{limit:m}=a.props;!m||g&&a.containerId!==g||(a.count-=a.queue.length,a.queue=[])}function c(p){r(g=>p==null?[]:g.filter(m=>m!==p))}function u(){const{toastContent:p,toastProps:g,staleId:m}=a.queue.shift();h(p,g,m)}function d(p,g){let{delay:m,staleId:_,...v}=g;if(!Hv(p)||function(Q){return!i.current||a.props.enableMultiContainer&&Q.containerId!==a.props.containerId||s.has(Q.toastId)&&Q.updateId==null}(v))return;const{toastId:y,updateId:b,data:x}=v,{props:S}=a,w=()=>c(y),E=b==null;E&&a.count++;const I={...S,style:S.toastStyle,key:a.toastKey++,...Object.fromEntries(Object.entries(v).filter(Q=>{let[P,L]=Q;return L!=null})),toastId:y,updateId:b,data:x,closeToast:w,isIn:!1,className:Vp(v.className||S.toastClassName),bodyClassName:Vp(v.bodyClassName||S.bodyClassName),progressClassName:Vp(v.progressClassName||S.progressClassName),autoClose:!v.isLoading&&(z=v.autoClose,N=S.autoClose,z===!1||kd(z)&&z>0?z:N),deleteToast(){const Q=Fk(s.get(y),"removed");s.delete(y),Ei.emit(4,Q);const P=a.queue.length;if(a.count=y==null?a.count-a.displayedToast:a.count-1,a.count<0&&(a.count=0),P>0){const L=y==null?a.props.limit:1;if(P===1||L===1)a.displayedToast++,u();else{const M=L>P?P:L;a.displayedToast=M;for(let T=0;T<M;T++)u()}}else t()}};var z,N;I.iconOut=function(Q){let{theme:P,type:L,isLoading:M,icon:T}=Q,U=null;const j={theme:P,type:L};return T===!1||($r(T)?U=T(j):A.isValidElement(T)?U=A.cloneElement(T,j):ll(T)||kd(T)?U=T:M?U=Gv.spinner():($=>$ in Gv)(L)&&(U=Gv[L](j))),U}(I),$r(v.onOpen)&&(I.onOpen=v.onOpen),$r(v.onClose)&&(I.onClose=v.onClose),I.closeButton=S.closeButton,v.closeButton===!1||Hv(v.closeButton)?I.closeButton=v.closeButton:v.closeButton===!0&&(I.closeButton=!Hv(S.closeButton)||S.closeButton);let D=p;A.isValidElement(p)&&!ll(p.type)?D=A.cloneElement(p,{closeToast:w,toastProps:I,data:x}):$r(p)&&(D=p({closeToast:w,toastProps:I,data:x})),S.limit&&S.limit>0&&a.count>S.limit&&E?a.queue.push({toastContent:D,toastProps:I,staleId:_}):kd(m)?setTimeout(()=>{h(D,I,_)},m):h(D,I,_)}function h(p,g,m){const{toastId:_}=g;m&&s.delete(m);const v={content:p,props:g};s.set(_,v),r(y=>[...y,_].filter(b=>b!==m)),Ei.emit(4,Fk(v,v.props.updateId==null?"added":"updated"))}return A.useEffect(()=>(a.containerId=e.containerId,Ei.cancelEmit(3).on(0,d).on(1,p=>i.current&&c(p)).on(5,l).emit(2,a),()=>{s.clear(),Ei.emit(3,a)}),[]),A.useEffect(()=>{a.props=e,a.isToastActive=o,a.displayedToast=n.length}),{getToastToRender:function(p){const g=new Map,m=Array.from(s.values());return e.newestOnTop&&m.reverse(),m.forEach(_=>{const{position:v}=_.props;g.has(v)||g.set(v,[]),g.get(v).push(_)}),Array.from(g,_=>p(_[0],_[1]))},containerRef:i,isToastActive:o}}function zk(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}function Uk(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}function dq(e){const[t,n]=A.useState(!1),[r,i]=A.useState(!1),s=A.useRef(null),o=A.useRef({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,a=A.useRef(e),{autoClose:l,pauseOnHover:c,closeToast:u,onClick:d,closeOnClick:h}=e;function p(x){if(e.draggable){x.nativeEvent.type==="touchstart"&&x.nativeEvent.preventDefault(),o.didMove=!1,document.addEventListener("mousemove",v),document.addEventListener("mouseup",y),document.addEventListener("touchmove",v),document.addEventListener("touchend",y);const S=s.current;o.canCloseOnClick=!0,o.canDrag=!0,o.boundingRect=S.getBoundingClientRect(),S.style.transition="",o.x=zk(x.nativeEvent),o.y=Uk(x.nativeEvent),e.draggableDirection==="x"?(o.start=o.x,o.removalDistance=S.offsetWidth*(e.draggablePercent/100)):(o.start=o.y,o.removalDistance=S.offsetHeight*(e.draggablePercent===80?1.5*e.draggablePercent:e.draggablePercent/100))}}function g(x){if(o.boundingRect){const{top:S,bottom:w,left:E,right:I}=o.boundingRect;x.nativeEvent.type!=="touchend"&&e.pauseOnHover&&o.x>=E&&o.x<=I&&o.y>=S&&o.y<=w?_():m()}}function m(){n(!0)}function _(){n(!1)}function v(x){const S=s.current;o.canDrag&&S&&(o.didMove=!0,t&&_(),o.x=zk(x),o.y=Uk(x),o.delta=e.draggableDirection==="x"?o.x-o.start:o.y-o.start,o.start!==o.x&&(o.canCloseOnClick=!1),S.style.transform=`translate${e.draggableDirection}(${o.delta}px)`,S.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function y(){document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",y),document.removeEventListener("touchmove",v),document.removeEventListener("touchend",y);const x=s.current;if(o.canDrag&&o.didMove&&x){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return i(!0),void e.closeToast();x.style.transition="transform 0.2s, opacity 0.2s",x.style.transform=`translate${e.draggableDirection}(0)`,x.style.opacity="1"}}A.useEffect(()=>{a.current=e}),A.useEffect(()=>(s.current&&s.current.addEventListener("d",m,{once:!0}),$r(e.onOpen)&&e.onOpen(A.isValidElement(e.children)&&e.children.props),()=>{const x=a.current;$r(x.onClose)&&x.onClose(A.isValidElement(x.children)&&x.children.props)}),[]),A.useEffect(()=>(e.pauseOnFocusLoss&&(document.hasFocus()||_(),window.addEventListener("focus",m),window.addEventListener("blur",_)),()=>{e.pauseOnFocusLoss&&(window.removeEventListener("focus",m),window.removeEventListener("blur",_))}),[e.pauseOnFocusLoss]);const b={onMouseDown:p,onTouchStart:p,onMouseUp:g,onTouchEnd:g};return l&&c&&(b.onMouseEnter=_,b.onMouseLeave=m),h&&(b.onClick=x=>{d&&d(x),o.canCloseOnClick&&u()}),{playToast:m,pauseToast:_,isRunning:t,preventExitTransition:r,toastRef:s,eventHandlers:b}}function Kj(e){let{closeToast:t,theme:n,ariaLabel:r="close"}=e;return Te.createElement("button",{className:`Toastify__close-button Toastify__close-button--${n}`,type:"button",onClick:i=>{i.stopPropagation(),t(i)},"aria-label":r},Te.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Te.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function fq(e){let{delay:t,isRunning:n,closeToast:r,type:i="default",hide:s,className:o,style:a,controlledProgress:l,progress:c,rtl:u,isIn:d,theme:h}=e;const p=s||l&&c===0,g={...a,animationDuration:`${t}ms`,animationPlayState:n?"running":"paused",opacity:p?0:1};l&&(g.transform=`scaleX(${c})`);const m=qo("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${h}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":u}),_=$r(o)?o({rtl:u,type:i,defaultClassName:m}):qo(m,o);return Te.createElement("div",{role:"progressbar","aria-hidden":p?"true":"false","aria-label":"notification timer",className:_,style:g,[l&&c>=1?"onTransitionEnd":"onAnimationEnd"]:l&&c<1?null:()=>{d&&r()}})}const hq=e=>{const{isRunning:t,preventExitTransition:n,toastRef:r,eventHandlers:i}=dq(e),{closeButton:s,children:o,autoClose:a,onClick:l,type:c,hideProgressBar:u,closeToast:d,transition:h,position:p,className:g,style:m,bodyClassName:_,bodyStyle:v,progressClassName:y,progressStyle:b,updateId:x,role:S,progress:w,rtl:E,toastId:I,deleteToast:z,isIn:N,isLoading:D,iconOut:Q,closeOnClick:P,theme:L}=e,M=qo("Toastify__toast",`Toastify__toast-theme--${L}`,`Toastify__toast--${c}`,{"Toastify__toast--rtl":E},{"Toastify__toast--close-on-click":P}),T=$r(g)?g({rtl:E,position:p,type:c,defaultClassName:M}):qo(M,g),U=!!w||!a,j={closeToast:d,type:c,theme:L};let $=null;return s===!1||($=$r(s)?s(j):A.isValidElement(s)?A.cloneElement(s,j):Kj(j)),Te.createElement(h,{isIn:N,done:z,position:p,preventExitTransition:n,nodeRef:r},Te.createElement("div",{id:I,onClick:l,className:T,...i,style:m,ref:r},Te.createElement("div",{...N&&{role:S},className:$r(_)?_({type:c}):qo("Toastify__toast-body",_),style:v},Q!=null&&Te.createElement("div",{className:qo("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!D})},Q),Te.createElement("div",null,o)),$,Te.createElement(fq,{...x&&!U?{key:`pb-${x}`}:{},rtl:E,theme:L,delay:a,isRunning:t,isIn:N,closeToast:d,hide:u,type:c,style:b,className:y,controlledProgress:U,progress:w||0})))},s0=function(e,t){return t===void 0&&(t=!1),{enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}},pq=i0(s0("bounce",!0));i0(s0("slide",!0));i0(s0("zoom"));i0(s0("flip"));const a1=A.forwardRef((e,t)=>{const{getToastToRender:n,containerRef:r,isToastActive:i}=uq(e),{className:s,style:o,rtl:a,containerId:l}=e;function c(u){const d=qo("Toastify__toast-container",`Toastify__toast-container--${u}`,{"Toastify__toast-container--rtl":a});return $r(s)?s({position:u,rtl:a,defaultClassName:d}):qo(d,Vp(s))}return A.useEffect(()=>{t&&(t.current=r.current)},[]),Te.createElement("div",{ref:r,className:"Toastify",id:l},n((u,d)=>{const h=d.length?{...o}:{...o,pointerEvents:"none"};return Te.createElement("div",{className:c(u),style:h,key:`container-${u}`},d.map((p,g)=>{let{content:m,props:_}=p;return Te.createElement(hq,{..._,isIn:i(_.toastId),style:{..._.style,"--nth":g+1,"--len":d.length},key:`toast-${_.key}`},m)}))}))});a1.displayName="ToastContainer",a1.defaultProps={position:"top-right",transition:pq,autoClose:5e3,closeButton:Kj,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let qv,Pa=new Map,od=[],gq=1;function Yj(){return""+gq++}function mq(e){return e&&(ll(e.toastId)||kd(e.toastId))?e.toastId:Yj()}function Cd(e,t){return Pa.size>0?Ei.emit(0,e,t):od.push({content:e,options:t}),t.toastId}function Tg(e,t){return{...t,type:t&&t.type||e,toastId:mq(t)}}function Uh(e){return(t,n)=>Cd(t,Tg(e,n))}function jt(e,t){return Cd(e,Tg("default",t))}jt.loading=(e,t)=>Cd(e,Tg("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),jt.promise=function(e,t,n){let r,{pending:i,error:s,success:o}=t;i&&(r=ll(i)?jt.loading(i,n):jt.loading(i.render,{...n,...i}));const a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(u,d,h)=>{if(d==null)return void jt.dismiss(r);const p={type:u,...a,...n,data:h},g=ll(d)?{render:d}:d;return r?jt.update(r,{...p,...g}):jt(g.render,{...p,...g}),h},c=$r(e)?e():e;return c.then(u=>l("success",o,u)).catch(u=>l("error",s,u)),c},jt.success=Uh("success"),jt.info=Uh("info"),jt.error=Uh("error"),jt.warning=Uh("warning"),jt.warn=jt.warning,jt.dark=(e,t)=>Cd(e,Tg("default",{theme:"dark",...t})),jt.dismiss=e=>{Pa.size>0?Ei.emit(1,e):od=od.filter(t=>e!=null&&t.options.toastId!==e)},jt.clearWaitingQueue=function(e){return e===void 0&&(e={}),Ei.emit(5,e)},jt.isActive=e=>{let t=!1;return Pa.forEach(n=>{n.isToastActive&&n.isToastActive(e)&&(t=!0)}),t},jt.update=function(e,t){t===void 0&&(t={}),setTimeout(()=>{const n=function(r,i){let{containerId:s}=i;const o=Pa.get(s||qv);return o&&o.getToast(r)}(e,t);if(n){const{props:r,content:i}=n,s={delay:100,...r,...t,toastId:t.toastId||e,updateId:Yj()};s.toastId!==e&&(s.staleId=e);const o=s.render||i;delete s.render,Cd(o,s)}},0)},jt.done=e=>{jt.update(e,{progress:1})},jt.onChange=e=>(Ei.on(4,e),()=>{Ei.off(4,e)}),jt.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},jt.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},Ei.on(2,e=>{qv=e.containerId||e,Pa.set(qv,e),od.forEach(t=>{Ei.emit(0,t.content,t.options)}),od=[]}).on(3,e=>{Pa.delete(e.containerId||e),Pa.size===0&&Ei.off(0).off(1).off(5)});te.playerRemoved.subscribe(e=>{if(e.input.source===mo.inputName){const t=et.getRemoteMicById(e.input.deviceId);t&&t.setPlayerNumber(null)}});te.playerInputChanged.subscribe((e,t,n)=>{var r;if((t==null?void 0:t.source)===mo.inputName){const i=(r=Me.getPlayers().find(o=>o.input.source==="Remote Microphone"&&o.input.deviceId===t.deviceId))==null?void 0:r.number,s=et.getRemoteMicById(t.deviceId);s==null||s.setPlayerNumber(i!==void 0?i:null)}if((n==null?void 0:n.source)==="Remote Microphone"){const i=et.getRemoteMicById(n.deviceId);i==null||i.setPlayerNumber(e)}});te.remoteMicConnected.subscribe(({id:e})=>{var n,r;const t=(n=Me.getPlayers().find(i=>i.input.source==="Remote Microphone"&&i.input.deviceId===e))==null?void 0:n.number;if(t!==void 0){const i=et.getRemoteMicById(e);i==null||i.setPlayerNumber(t),fn.monitoringStarted()&&((r=i==null?void 0:i.getInput())==null||r.startMonitoring())}});te.playerChangeRequested.subscribe((e,t)=>{var r;const n=Me.getPlayers().find(i=>i.input.deviceId===e);if(n&&Me.removePlayer(n.number),t!==null){const i=Me.getPlayer(t);i?i.changeInput("Remote Microphone",0,e):(r=Me.addPlayer(t))==null||r.changeInput("Remote Microphone",0,e)}});te.remoteMicConnected.subscribe(({name:e,silent:t})=>{t||jt.success(f.jsxs(f.Fragment,{children:["Remote microphone ",f.jsx("b",{className:"ph-no-capture",children:e})," connected!"]}))});te.remoteMicDisconnected.subscribe(({name:e},t)=>{t||jt.warning(f.jsxs(f.Fragment,{children:["Remote microphone ",f.jsx("b",{className:"ph-no-capture",children:e})," disconnected!"]}))});const aS=()=>{const e=et.getRemoteMics().map(t=>{var n;return{id:t.id,name:t.name,number:((n=Me.getPlayers().find(r=>r.input.deviceId===t.id))==null?void 0:n.number)??null}});et.broadcastToChannel("remote-mics",{t:"remote-mics-list",list:e})};te.inputListChanged.subscribe(aS);te.playerInputChanged.subscribe(aS);te.remoteMicSubscribed.subscribe(aS);const Qj=e=>({artist:t,title:n,id:r,lastUpdate:i},s,o=[],a)=>{var u;const l=o.length>1&&o.every(d=>d.score===o[0].score),c={};if(Me.getPlayers().forEach((d,h)=>c[`input${h}`]=d.input.source),e==="songEnded")try{const d=(u=Ne.getPlayer(0))==null?void 0:u.getPlayerNotes().filter(p=>xg(p)===0).map(p=>p.frequencyRecords).flat().map(p=>[p.timestamp,p.frequency]).map((p,g,m)=>{var _,v;return[p[0]-(((_=m[g-1])==null?void 0:_[0])??0),p[1]-(((v=m[g-1])==null?void 0:v[1])??0)]}).map(p=>[Math.round(p[0]*100),Math.round(p[1]*100)]).map(p=>p[1]===0?p[0]:p),h=jP(d);console.log("compressed",h)}catch(d){Us(d)}On.capture(e,{songId:r,songLastUpdated:i,name:`${t} - ${n}`,artist:t,title:n,mode:s.mode,tolerance:s.tolerance,players:s.players.length,tracks:s.players.map(d=>d.track),progress:a??null,singId:s.id,sameScores:l,mobilePhoneMode:!!dr.get(),...c,...o.reduce((d,h,p)=>({...d,[`score${p}`]:h.score}),{}),...s.players.reduce((d,h,p)=>({...d,[`track${p}`]:h.track}),{})})};te.songStarted.subscribe(Qj("songStarted"));te.songEnded.subscribe(Qj("songEnded"));let Nu=null;async function Td(){if(!Nu)if("localStorage"in globalThis)try{Nu=hu(()=>Promise.resolve().then(()=>hj),void 0).then(({default:e})=>e.createInstance({name:"localforage"}))}catch(e){console.error(e),Nu=Promise.resolve(Ve.memory)}else Nu=Promise.resolve(Ve.memory);return Nu}const Gc=e=>Gs.generateSongFile(e),Jj=async e=>{var n;const t=Gc(e);return await((n=await Td())==null?void 0:n.getItem(t))||{plays:0,scores:[]}},Xj=async(e,t)=>{var n;await((n=await Td())==null?void 0:n.setItem(Gc(e),t))},vq=async()=>{var n;console.log(await Td());const e=await((n=await Td())==null?void 0:n.keys())??[],t={};return await Promise.all(e.map(async r=>{var i;t[r]=await((i=await Td())==null?void 0:i.getItem(r))})),t};te.songEnded.subscribe(async(e,t,n,r)=>{if(n.every(o=>o.score===0))return;let i=await(wd==null?void 0:wd.getItem(Gc(e)));const s={setup:t,scores:n,date:new Date().toISOString(),progress:r};i?(i.scores=[...(i==null?void 0:i.scores)??[],s],i.plays=i.scores.length):i={plays:1,scores:[s]},await Xj(e,i),te.songStatStored.dispatch(Gc(e),i)});const qc="session-player-names",yq="previous-player-names";function Aq(e){return e!=null}te.songStarted.subscribe((e,t)=>{let n=JSON.parse(Ve.session.getItem(qc))||[];const r=t.players.map(({number:s})=>Me.getPlayer(s)).filter(Aq).map(s=>s.getName().trim()),i=[...n].concat(...r);n=[...new Set(i)].filter(Boolean),Ve.session.setItem(qc,JSON.stringify(n)),Ve.session.setItem(yq,JSON.stringify(r))});te.songScoreUpdated.subscribe((e,t,n)=>{let r=JSON.parse(Ve.session.getItem(qc))||[];const i=[...r].concat(n);r=[...new Set(i)].filter(Boolean),Ve.session.setItem(qc,JSON.stringify(r))});function _q(e,t){const n=t<0?e.length+t:t;return e[n]}[].at||(Array.prototype.at=function(e){return _q(this,e)});[].findLastIndex||(Array.prototype.findLastIndex=function(e,t){for(let n=this.length-1;n>=0;n--)if(e.call(t,this[n],n,this))return n;return-1});var bq="Expected a function";function xc(e,t,n){var r=!0,i=!0;if(typeof e!="function")throw new TypeError(bq);return ms(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),xj(e,t,{leading:r,maxWait:t,trailing:i})}class Sq extends wo{constructor(){super(...arguments),this.stream=null,this.context=null,this.interval=null,this.frequencies=[0,0],this.volumes=[0,0],this.startedMonitoring=!1,this.startMonitoring=async(t,n=!1)=>{if(!this.startedMonitoring){this.startedMonitoring=!0;try{this.stream=await Zo.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!1},video:!1});try{this.context=new AudioContext;const r=this.context.createMediaStreamSource(this.stream),i=this.context.createAnalyser();i.fftSize=2048,i.minDecibels=-100,r.connect(i);const s=new Aj;await s.init(this.context,i.fftSize),this.interval=setInterval(async()=>{const o=new Float32Array(i.fftSize);i.getFloatTimeDomainData(o);const a=await s.getFrequency(o),l=this.calculateVolume(o);this.frequencies=[a,a],this.volumes=[l,l],this.onUpdate(a,l)},this.context.sampleRate/i.fftSize),te.micMonitoringStarted.dispatch()}catch(r){Us(r),console.error(r)}}catch(r){Us(r,{level:"warning",extra:{message:"SimplifiedMic.startMonitoring"}}),console.warn(r)}}},this.getFrequencies=()=>this.frequencies,this.getVolumes=()=>this.volumes,this.clearFrequencies=t=>{},this.stopMonitoring=async()=>{var t,n;if(this.startedMonitoring){this.startedMonitoring=!1,this.interval&&clearInterval(this.interval),(t=this.stream)==null||t.getTracks().forEach(function(r){r.stop()});try{await((n=this.context)==null?void 0:n.close())}catch(r){console.log("MicInput.stoMonitoring error",r)}te.micMonitoringStopped.dispatch()}},this.getInputLag=()=>180,this.requestReadiness=()=>Promise.resolve(!0),this.getStatus=()=>"ok"}calculateVolume(t){let n,r=0;for(n=0;n<t.length;++n)r+=t[n]*t[n];return Math.sqrt(r/t.length)}}const es=new Sq;class xq extends wo{constructor(){super(...arguments),this.peer=null,this.connection=null,this.unavailableIdRetries=0,this.unavailableIdRetryTimeout=null,this.connectToRoom=(t,n,r)=>{var i;this.connection=this.peer.connect(`allkaraoke-party-room-${t}`),this.connection.on("open",()=>{n()}),this.connection.on("close",()=>r("closed",null)),(i=this.connection)==null||i.on("data",s=>{console.log(s),this.onUpdate(s)})},this.isConnected=()=>{var t,n;return!!((t=this.connection)!=null&&t.open)&&!((n=this.peer)!=null&&n.disconnected)},this.close=()=>{var t;(t=this.connection)==null||t.close()}}connect(t,n,r,i,s){this.peer&&!this.peer.disconnected?this.connectToRoom(n,r,i):(this.peer=new n0(t,{...Ij,debug:3}),this.peer.on("open",()=>{this.connectToRoom(n,r,i)}),this.peer.on("error",o=>{var a,l;o.type==="unavailable-id"&&this.unavailableIdRetries<3&&this.unavailableIdRetryTimeout===null?((l=(a=this.peer)==null?void 0:a.destroy)==null||l.call(a),this.unavailableIdRetryTimeout=setTimeout(()=>{this.unavailableIdRetryTimeout=null,this.unavailableIdRetries++,this.connect(t,n,r,i,s)},1750)):(this.unavailableIdRetries=0,console.error(o.type,o),i(o.type,o))}))}sendEvent(t){var n;(n=this.connection)==null||n.send(t)}}class wq extends wo{constructor(){super(...arguments),this.connection=null,this.roomId=null,this.isConnected=()=>{var t;return(((t=this.connection)==null?void 0:t.readyState)??1/0)<2},this.close=()=>{var t;(t=this.connection)==null||t.close()}}connect(t,n,r,i,s){this.roomId=n,this.connection=new WebSocket(Lj),this.connection.binaryType="arraybuffer",this.connection.onopen=()=>{var o;(o=this.connection)==null||o.send(gg({t:"register-player",id:t,roomId:n}))},this.connection.onmessage=o=>{const a=yb(o.data);a.t==="forward"?this.onUpdate(a.payload):a.t==="connected"&&r()},this.connection.onclose=o=>{var l;let a="unknown";try{a=(l=JSON.parse(o.reason))==null?void 0:l.error}catch{console.info("could not parse close reason",o)}this.clearAllListeners(),i(a,o)},this.connection.onerror=o=>{this.clearAllListeners(),s("error",o)}}sendEvent(t){var n;(n=this.connection)==null||n.send(gg({t:"forward",recipients:[this.roomId],payload:t}))}}const Hk=(e,t)=>{if(e===0)return 0;const n=Math.pow(10,t);return Math.round(e*n)/n};let Hh;const Eq=new Uint8Array(16);function kq(){if(!Hh&&(Hh=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Hh))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Hh(Eq)}const nr=[];for(let e=0;e<256;++e)nr.push((e+256).toString(16).slice(1));function Cq(e,t=0){return nr[e[t+0]]+nr[e[t+1]]+nr[e[t+2]]+nr[e[t+3]]+"-"+nr[e[t+4]]+nr[e[t+5]]+"-"+nr[e[t+6]]+nr[e[t+7]]+"-"+nr[e[t+8]]+nr[e[t+9]]+"-"+nr[e[t+10]]+nr[e[t+11]]+nr[e[t+12]]+nr[e[t+13]]+nr[e[t+14]]+nr[e[t+15]]}const Tq=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Gk={randomUUID:Tq};function Ig(e,t,n){if(Gk.randomUUID&&!t&&!e)return Gk.randomUUID();e=e||{};const r=e.random||(e.rng||kq)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(let i=0;i<16;++i)t[n+i]=r[i];return t}return Cq(r)}const l1="MIC_CLIENT_ID";class Iq{constructor(){this.clientId=Ve.getItem(l1),this.roomId=null,this.reconnecting=!1,this.connected=!1,this.frequencies=[],this.sendFrequencies=xc(t=>{const n=this.frequencies.map(r=>Hk(r,2));this.frequencies.length=0,this.sendEvent("freq",[n,Hk(t,4)])},50),this.onFrequencyUpdate=xc((t,n)=>{this.frequencies.push(t),this.sendFrequencies(n)},1e3/60),this.getClientId=()=>this.clientId,this.setClientId=t=>{this.clientId=t,Ve.setItem(l1,t)},this.connect=(t,n,r)=>{const i=t.toLowerCase();if(this.transport||(this.transport=i.startsWith("w")?new wq:new xq),this.clientId===null&&this.setClientId(Ig()),this.roomId=i,this.transport.isConnected()){console.log("not reconnecting",this.transport);return}this.reconnecting||te.karaokeConnectionStatusChange.dispatch("connecting"),this.transport.connect(this.clientId,this.roomId,()=>{this.connectToServer(i,n,r)},(s,o)=>{var a;if(s==="unavailable-id"){this.setClientId(Ig()),this.connect(i,n,r);return}console.log("closed connection :o",s,o),global.removeEventListener("beforeunload",this.disconnect),this.reconnecting?te.karaokeConnectionStatusChange.dispatch("reconnecting"):this.connected?te.karaokeConnectionStatusChange.dispatch("disconnected"):(te.karaokeConnectionStatusChange.dispatch("error",s),On.capture("remote_mic_connection_error",{reason:s,transport:(a=this.roomId)==null?void 0:a.charAt(0)})),te.remoteMicPlayerSet.dispatch(null),te.remoteKeyboardLayout.dispatch(void 0),es.removeListener(this.onFrequencyUpdate),es.stopMonitoring(),!this.reconnecting&&this.connected&&(this.reconnecting=!0,setTimeout(()=>this.reconnect(i,n),1500)),this.connected=!1},console.warn)},this.latency=999,this.pingStart=Date.now(),this.pinging=!1,this.ping=()=>{this.pinging=!0,this.pingStart=_c(),this.sendEvent("ping",{p:this.pingStart})},this.reportPing=xc(t=>On.capture("remote_mic_ping",{ping:t}),1e4),this.onPong=()=>{this.latency=_c()-this.pingStart,this.pinging=!1,this.reportPing(this.latency),setTimeout(this.ping,1e3)},this.connectToServer=(t,n,r)=>{var i;this.connected=!0,this.reconnecting=!1,te.karaokeConnectionStatusChange.dispatch("connected"),On.capture("remote_mic_connection_successful",{transport:(i=this.roomId)==null?void 0:i.charAt(0)}),this.sendEvent("register",{name:n,id:this.clientId,silent:r,lag:NP.get()}),this.ping(),global==null||global.addEventListener("beforeunload",this.disconnect),this.transport.addListener(s=>{var a,l;const o=s.t;o==="start-monitor"?(es.removeListener(this.onFrequencyUpdate),es.addListener(this.onFrequencyUpdate),es.startMonitoring(void 0,!0)):o==="stop-monitor"?(es.removeListener(this.onFrequencyUpdate),es.stopMonitoring()):o==="set-player-number"?te.remoteMicPlayerSet.dispatch(s.playerNumber):o==="keyboard-layout"?te.remoteKeyboardLayout.dispatch(s.help):o==="reload-mic"?(global.removeEventListener("beforeunload",this.disconnect),this.sendEvent("unregister"),Ve.session.setItem("reload-mic-request","1"),(a=document.getElementById("phone-ui-container"))==null||a.remove(),(l=global.location)==null||l.reload()):o==="request-readiness"?te.remoteReadinessRequested.dispatch():o==="pong"?this.onPong():o==="ping"?this.sendEvent("pong"):o==="set-permissions"?te.remoteMicPermissionsSet.dispatch(s.level):o==="remote-mics-list"?te.remoteMicListUpdated.dispatch(s.list):o==="style-change"&&te.remoteStyleChanged.dispatch(s.style)})},this.reconnect=(t,n)=>{this.reconnecting&&(te.karaokeConnectionStatusChange.dispatch("reconnecting"),this.connect(t,n,!1),setTimeout(()=>this.reconnect(t,n),2e3))},this.sendKeyStroke=t=>{this.sendEvent("keystroke",{key:t})},this.searchSong=t=>{this.sendEvent("search-song",{search:t})},this.requestPlayerChange=(t,n)=>{this.sendEvent("request-mic-select",{id:t,playerNumber:n})},this.confirmReadiness=()=>{this.sendEvent("confirm-readiness")},this.subscribe=t=>{this.sendEvent("subscribe-event",{channel:t})},this.unsubscribe=t=>{this.sendEvent("unsubscribe-event",{channel:t})},this.getSongList=()=>this.sendRequest({t:"request-songlist"},"songlist"),this.getGameInputLag=()=>this.sendRequest({t:"get-game-input-lag-request"},"get-game-input-lag-response"),this.setGameInputLag=t=>this.sendRequest({t:"set-game-input-lag-request",value:t},"get-game-input-lag-response"),this.getMicrophoneInputLag=()=>this.sendRequest({t:"get-microphone-lag-request"},"get-microphone-lag-response"),this.setMicrophoneInputLag=t=>this.sendRequest({t:"set-microphone-lag-request",value:t},"get-microphone-lag-response"),this.sendEvent=(t,n)=>{var r;(r=this.transport)!=null&&r.isConnected()?this.transport.sendEvent({t,...n}):console.debug("not connected, skipping",t,n)},this.sendRequest=({t,...n},r)=>new Promise((i,s)=>{var l;const o=setTimeout(()=>{var c;(c=this.transport)==null||c.removeListener(a),s(`${t} timed out waiting for ${r}`)},1e4),a=c=>{var u;c.t===r&&(clearTimeout(o),(u=this.transport)==null||u.removeListener(a),i(c))};(l=this.transport)==null||l.addListener(a),this.sendEvent(t,n)}),this.disconnect=()=>{var t;(t=this.transport)==null||t.close()}}}const xn=new Iq,Rq="/prs/275/assets/2020-12-16_-_Christmas_Rock_-_www.FesliyanStudios.com_Steve_Oxen-DMCunqoI.ogg",Mq="/prs/275/assets/376817__original_sound__impact-cinematic-CwEVHJ3C.ogg",Pq="/prs/275/assets/421888__b-sean__retro-CErSO5v-.ogg",jq="/prs/275/assets/459342__papaninkasettratat__cinematic-music-short-rn-rfKrG.ogg",Oq="/prs/275/assets/60013__qubodup__whoosh-CRSX-bwR.mp3",Vq="/prs/275/assets/Funk%20Cool%20Groove%20(No%20Copyright%20Music)%20By%20Anwar%20Amr-Chfv45i1.ogg",Lq="/prs/275/assets/menu_back-CXKu2j7w.mp3",Nq="data:audio/mpeg;base64,SUQzBAAAAAAAIlRTU0UAAAAOAAADTGF2ZjYwLjMuMTAwAAAAAAAAAAAAAAD/+1QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABYaW5nAAAADwAAABMAAA04AEFBQUFBZWVlZWV/f39/f5GRkZGRkZqampqaoaGhoaGoqKioqLCwsLCwsLe3t7e3vr6+vr7FxcXFxc3Nzc3NzdTU1NTU29vb29vi4uLi4urq6urq6vHx8fHx+Pj4+Pj//////wAAAABMYXZjNjAuMy4AAAAAAAAAAAAAAAAkAuUAAAAAAAANOLGcZrL/+8REAAEA/ADLaAAACh+AGY0AAAFGhC0ZtYMAKP4GYzKwkAUAFJyXj/AAAB7QAAB4eHh4YYAOM////jh4eAAAAAIw8AlNybj/AAAB/AAADw8PDwxwAAGf///5h4eAAAAAIw9hSJuIlQJTskunEz5RFv1Y2byK7n/97llcFmmyCgoMFBQUFAoKCgoMFDX////qAoKChQUFESxJ2AfoAZiMJDhIyAqTJk81xxarn/97lWmgXEJCQoUJCChQUFBQSCgoKChQUv//6YKFAoKCgwUFBQUhBQU0WgEEAFZUiUdVZ7urwsAwAAAoTmeCxjBAdkrnZm5gCuz2BTRyEx8VJUhukDsoNVBjExsWZAsIvo6ZtcOZTJhAKFQlp6a7oGrhgQ1GypacseeN5GgM7LimCHZWKo200F2pFIbcrBxGTFxgYmAAQQh6wspcVlNfLCxvO2HAzIQgDZSzJWt9XFnYFf27////7/0ko32xTymMyqLclUq8QECiT3+7//+laf///9uMHyGvGu2u2so2EgAAAAADIAEGFguPUQDJhoMKHjtm/ExnBISAuP5tq7A0VjIBuAgFjyzu0ITEAhWvB/0sPUTU5MzMnhocNpDqll1v/GBSiOTAAAWq/agAGAMGDkG2YBxmZlUXgGO2D0YAgS4cGyYBIAoNAqIQNjBRA4BAFZgOABuLCYbR9W0P1ijMzWyHU3rL3T2m1K3RtqSLDrfcC31jHuH9r6RUOFIwt0G+T2Y9yNS/FrmLTOcX1qpRxdapf/+f4gPaOLN2fYACixdruAAAHzMDQmBJhGTdzmMADioJDwTNcGAFKgEmAwApvBgDS6/hLpkYzDFewH6hgRt+3pCrr5/3651XUGvoTGe1AAACh1ZV5WQADAgMzFkSzVCXT2T/+6Rk5IAFRzBLfm9kgFGDij/NsCRO4MEnXeeAIQ0NZLe68ATIzWYcjI0FQUTAYG4GARMBYUYAQQoAsBHktFznLy0sSlohrcySM0V97trfW6mUEZ4r3G0Su6apFIYlLPRjDC0HKnNGDPCbCtAP2eeEAA3ZmhL+AAAG5JEGTcHdpB80aHvkDv0YiAhA2mHHOna1doX/uZ6qnnDUzTgKUABohnh230QAAMbEBQnNCETYME2cNbMBjy7BqoGICdqx1SsFklW0zpKswQnCikdnsJ4tsbhp/ASpfR1JaY61CrDJgx/F3EWoNSoEVBqRvuTG5yhcItANgUThn9//+tgCHmIeH3wBoCkKCxgISgSstpAzImgHGYaQ6AVraQgJgaXZN2SAGyriKC3mDpVtvoo5FXA4mYiIj/aAABUhpCZgEAUnGtWKCEAZ/BEFQDhceXTMw8yUktRRlhhbRJYUkSpDzpdNaErxzPiWxVMqtHMxstZL1/1froSdU2dnUSBCnAUUTDiw2FdX+MCo0MrMuDAAAE84aw5jGXtZrP0+3AGAJVVUyjYENrIhERZuDyP8PUISzy7xH/4MlwUJsBBcI7GR4DyaWF6iCwni4hbZmGQWTQIi6L3h+abmhZzs1OZ7gOu0RcL/+4Rk6AAS+iLI+68a+C5DOV9rAxlLuHch7eXlYMgNZP2WFVzAmUIpCmxCchkYSLdCTM0X2sVgAjJ+gEAnQkJe1v9aZjJCCJfFH1YIagNfLtAJODmCQtYaPzBF//yVIIAAAUHjJAVCHeXwjlgBxVOjKgO1ddIsKHgBBT1MQU1FMy4xMDBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVAAABzCFdZkkAAAsCDOBkGYUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVQ0kMkxBTUUzLjEwMKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqoZVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+2Rk7wEStyFJ+08a+icCKR9h4ycGxGkp7CSn6HKE4u2GCJRVVVVVVVVVVVVVVVVVVVVVSUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVSUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjH/+yRk7Idw1QbEowxBAA1AyIgl4wMBUA0PBWMAIBUBolQUmAYwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk6g9wQAJDKU8ACARASJUEQAEAXAsOA4wgIAaAYgAQAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4w/wDwDEAMAACAAAD/AAAAEAGAMUAQAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4o/wBgDEgEAACAAAD/AAAAEADAMaAIAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4g/wAwDGACAACAAAD/AAAAEADAMWAIAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4g/wAwDFgCAACAAAD/AAAAEADAMUAIAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRE4Y/wAAB/gAAACAAAD/AAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRE4Y/wAAB/gAAACAAAD/AAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRE4Y/wAAB/gAAACAAAD/AAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4Y/wAAB/gAAACAAAD/AAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4Y/wAAB/gAAACAAAD/AAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4Y/wAAB/gAAACAAADSAAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4Y/wAAB/gAAACAAAD/AAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4Y/wAAB/gAAACAAAD/AAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4Y/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVU=",Bq="/prs/275/assets/menu_navigate-C6GUIZQM.mp3";class Co{constructor(t){this.options=t,this.sound=null,this.play=async(n=!0)=>{var r,i;try{if(n&&this.playing()){const s=(r=this.sound)==null?void 0:r.cloneNode(!0);await s.play(),s.remove()}else await((i=this.sound)==null?void 0:i.play())}catch(s){return console.warn(s)}},this.pause=()=>{var n;(n=this.sound)==null||n.pause()},this.stop=()=>{this.sound&&(this.sound.pause(),this.sound.currentTime=0)},this.playing=()=>{var n;return!((n=this.sound)!=null&&n.paused)},global.Audio&&(this.sound=new Audio(t.src),this.sound.preload=t.preload?"auto":"none",this.sound.volume=t.volume??1,this.sound.loop=t.loop??!1)}}const o0=new Co({src:Bq}),lS=new Co({src:Nq}),cS=new Co({src:Lq}),Zj=new Co({src:Mq,preload:!0}),uS=new Co({src:Oq,preload:!0,volume:.5}),e3=new Co({src:Vq,volume:.3,loop:!0}),t3=new Co({src:Pq,volume:.4,loop:!0}),n3=new Co({src:Rq,volume:.25,loop:!0}),Lp=new Co({src:jq,volume:.8}),$q=Object.freeze(Object.defineProperty({__proto__:null,backgroundMusic:e3,christmasBackgroundMusic:n3,classicBackgroundMusic:t3,menuBack:cS,menuEnter:lS,menuNavigate:o0,waitFinished:Zj,waitForReadinessMusic:Lp,woosh:uS},Symbol.toStringTag,{value:"Module"})),Dq={RemoteMicClient:xn,RemoteMicServer:Eg,GameState:Ne,GameEvents:te,RemoteMicManager:et,SongDao:Gs,InputManager:fn,InputSourceManager:vo,CameraManager:ss,UserMediaService:Zo,PlayersManager:Me,SoundManager:$q,importSongs:async()=>{await(await hu(()=>import("./importSongsFromPostHog-Op0Fl-hp.js"),[])).default()}};global.__exposeSingletons=()=>{global.__singletons=Dq};console.log("Run global.__exposeSingletons() and inspect global.__singletons for debugging");function Fq(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function zq(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var Uq=function(){function e(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(zq(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=Fq(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},e}(),mr="-ms-",Rg="-moz-",gt="-webkit-",r3="comm",dS="rule",fS="decl",Hq="@import",i3="@keyframes",Gq="@layer",qq=Math.abs,a0=String.fromCharCode,Wq=Object.assign;function Kq(e,t){return or(e,0)^45?(((t<<2^or(e,0))<<2^or(e,1))<<2^or(e,2))<<2^or(e,3):0}function s3(e){return e.trim()}function Yq(e,t){return(e=t.exec(e))?e[0]:e}function mt(e,t,n){return e.replace(t,n)}function c1(e,t){return e.indexOf(t)}function or(e,t){return e.charCodeAt(t)|0}function rf(e,t,n){return e.slice(t,n)}function Cs(e){return e.length}function hS(e){return e.length}function Gh(e,t){return t.push(e),e}function Qq(e,t){return e.map(t).join("")}var l0=1,Wc=1,o3=0,Gr=0,Pn=0,gu="";function c0(e,t,n,r,i,s,o){return{value:e,root:t,parent:n,type:r,props:i,children:s,line:l0,column:Wc,length:o,return:""}}function Bu(e,t){return Wq(c0("",null,null,"",null,null,0),e,{length:-e.length},t)}function Jq(){return Pn}function Xq(){return Pn=Gr>0?or(gu,--Gr):0,Wc--,Pn===10&&(Wc=1,l0--),Pn}function ai(){return Pn=Gr<o3?or(gu,Gr++):0,Wc++,Pn===10&&(Wc=1,l0++),Pn}function $s(){return or(gu,Gr)}function Np(){return Gr}function Kf(e,t){return rf(gu,e,t)}function sf(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function a3(e){return l0=Wc=1,o3=Cs(gu=e),Gr=0,[]}function l3(e){return gu="",e}function Bp(e){return s3(Kf(Gr-1,u1(e===91?e+2:e===40?e+1:e)))}function Zq(e){for(;(Pn=$s())&&Pn<33;)ai();return sf(e)>2||sf(Pn)>3?"":" "}function eW(e,t){for(;--t&&ai()&&!(Pn<48||Pn>102||Pn>57&&Pn<65||Pn>70&&Pn<97););return Kf(e,Np()+(t<6&&$s()==32&&ai()==32))}function u1(e){for(;ai();)switch(Pn){case e:return Gr;case 34:case 39:e!==34&&e!==39&&u1(Pn);break;case 40:e===41&&u1(e);break;case 92:ai();break}return Gr}function tW(e,t){for(;ai()&&e+Pn!==57;)if(e+Pn===84&&$s()===47)break;return"/*"+Kf(t,Gr-1)+"*"+a0(e===47?e:ai())}function nW(e){for(;!sf($s());)ai();return Kf(e,Gr)}function rW(e){return l3($p("",null,null,null,[""],e=a3(e),0,[0],e))}function $p(e,t,n,r,i,s,o,a,l){for(var c=0,u=0,d=o,h=0,p=0,g=0,m=1,_=1,v=1,y=0,b="",x=i,S=s,w=r,E=b;_;)switch(g=y,y=ai()){case 40:if(g!=108&&or(E,d-1)==58){c1(E+=mt(Bp(y),"&","&\f"),"&\f")!=-1&&(v=-1);break}case 34:case 39:case 91:E+=Bp(y);break;case 9:case 10:case 13:case 32:E+=Zq(g);break;case 92:E+=eW(Np()-1,7);continue;case 47:switch($s()){case 42:case 47:Gh(iW(tW(ai(),Np()),t,n),l);break;default:E+="/"}break;case 123*m:a[c++]=Cs(E)*v;case 125*m:case 59:case 0:switch(y){case 0:case 125:_=0;case 59+u:v==-1&&(E=mt(E,/\f/g,"")),p>0&&Cs(E)-d&&Gh(p>32?Wk(E+";",r,n,d-1):Wk(mt(E," ","")+";",r,n,d-2),l);break;case 59:E+=";";default:if(Gh(w=qk(E,t,n,c,u,i,a,b,x=[],S=[],d),s),y===123)if(u===0)$p(E,t,w,w,x,s,d,a,S);else switch(h===99&&or(E,3)===110?100:h){case 100:case 108:case 109:case 115:$p(e,w,w,r&&Gh(qk(e,w,w,0,0,i,a,b,i,x=[],d),S),i,S,d,a,r?x:S);break;default:$p(E,w,w,w,[""],S,0,a,S)}}c=u=p=0,m=v=1,b=E="",d=o;break;case 58:d=1+Cs(E),p=g;default:if(m<1){if(y==123)--m;else if(y==125&&m++==0&&Xq()==125)continue}switch(E+=a0(y),y*m){case 38:v=u>0?1:(E+="\f",-1);break;case 44:a[c++]=(Cs(E)-1)*v,v=1;break;case 64:$s()===45&&(E+=Bp(ai())),h=$s(),u=d=Cs(b=E+=nW(Np())),y++;break;case 45:g===45&&Cs(E)==2&&(m=0)}}return s}function qk(e,t,n,r,i,s,o,a,l,c,u){for(var d=i-1,h=i===0?s:[""],p=hS(h),g=0,m=0,_=0;g<r;++g)for(var v=0,y=rf(e,d+1,d=qq(m=o[g])),b=e;v<p;++v)(b=s3(m>0?h[v]+" "+y:mt(y,/&\f/g,h[v])))&&(l[_++]=b);return c0(e,t,n,i===0?dS:a,l,c,u)}function iW(e,t,n){return c0(e,t,n,r3,a0(Jq()),rf(e,2,-2),0)}function Wk(e,t,n,r){return c0(e,t,n,fS,rf(e,0,r),rf(e,r+1,-1),r)}function wc(e,t){for(var n="",r=hS(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function sW(e,t,n,r){switch(e.type){case Gq:if(e.children.length)break;case Hq:case fS:return e.return=e.return||e.value;case r3:return"";case i3:return e.return=e.value+"{"+wc(e.children,r)+"}";case dS:e.value=e.props.join(",")}return Cs(n=wc(e.children,r))?e.return=e.value+"{"+n+"}":""}function oW(e){var t=hS(e);return function(n,r,i,s){for(var o="",a=0;a<t;a++)o+=e[a](n,r,i,s)||"";return o}}function aW(e){return function(t){t.root||(t=t.return)&&e(t)}}function c3(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var lW=function(t,n,r){for(var i=0,s=0;i=s,s=$s(),i===38&&s===12&&(n[r]=1),!sf(s);)ai();return Kf(t,Gr)},cW=function(t,n){var r=-1,i=44;do switch(sf(i)){case 0:i===38&&$s()===12&&(n[r]=1),t[r]+=lW(Gr-1,n,r);break;case 2:t[r]+=Bp(i);break;case 4:if(i===44){t[++r]=$s()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=a0(i)}while(i=ai());return t},uW=function(t,n){return l3(cW(a3(t),n))},Kk=new WeakMap,dW=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,i=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!Kk.get(r))&&!i){Kk.set(t,!0);for(var s=[],o=uW(n,s),a=r.props,l=0,c=0;l<o.length;l++)for(var u=0;u<a.length;u++,c++)t.props[c]=s[l]?o[l].replace(/&\f/g,a[u]):a[u]+" "+o[l]}}},fW=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function u3(e,t){switch(Kq(e,t)){case 5103:return gt+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return gt+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return gt+e+Rg+e+mr+e+e;case 6828:case 4268:return gt+e+mr+e+e;case 6165:return gt+e+mr+"flex-"+e+e;case 5187:return gt+e+mt(e,/(\w+).+(:[^]+)/,gt+"box-$1$2"+mr+"flex-$1$2")+e;case 5443:return gt+e+mr+"flex-item-"+mt(e,/flex-|-self/,"")+e;case 4675:return gt+e+mr+"flex-line-pack"+mt(e,/align-content|flex-|-self/,"")+e;case 5548:return gt+e+mr+mt(e,"shrink","negative")+e;case 5292:return gt+e+mr+mt(e,"basis","preferred-size")+e;case 6060:return gt+"box-"+mt(e,"-grow","")+gt+e+mr+mt(e,"grow","positive")+e;case 4554:return gt+mt(e,/([^-])(transform)/g,"$1"+gt+"$2")+e;case 6187:return mt(mt(mt(e,/(zoom-|grab)/,gt+"$1"),/(image-set)/,gt+"$1"),e,"")+e;case 5495:case 3959:return mt(e,/(image-set\([^]*)/,gt+"$1$`$1");case 4968:return mt(mt(e,/(.+:)(flex-)?(.*)/,gt+"box-pack:$3"+mr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+gt+e+e;case 4095:case 3583:case 4068:case 2532:return mt(e,/(.+)-inline(.+)/,gt+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Cs(e)-1-t>6)switch(or(e,t+1)){case 109:if(or(e,t+4)!==45)break;case 102:return mt(e,/(.+:)(.+)-([^]+)/,"$1"+gt+"$2-$3$1"+Rg+(or(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~c1(e,"stretch")?u3(mt(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(or(e,t+1)!==115)break;case 6444:switch(or(e,Cs(e)-3-(~c1(e,"!important")&&10))){case 107:return mt(e,":",":"+gt)+e;case 101:return mt(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+gt+(or(e,14)===45?"inline-":"")+"box$3$1"+gt+"$2$3$1"+mr+"$2box$3")+e}break;case 5936:switch(or(e,t+11)){case 114:return gt+e+mr+mt(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return gt+e+mr+mt(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return gt+e+mr+mt(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return gt+e+mr+e+e}return e}var hW=function(t,n,r,i){if(t.length>-1&&!t.return)switch(t.type){case fS:t.return=u3(t.value,t.length);break;case i3:return wc([Bu(t,{value:mt(t.value,"@","@"+gt)})],i);case dS:if(t.length)return Qq(t.props,function(s){switch(Yq(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return wc([Bu(t,{props:[mt(s,/:(read-\w+)/,":"+Rg+"$1")]})],i);case"::placeholder":return wc([Bu(t,{props:[mt(s,/:(plac\w+)/,":"+gt+"input-$1")]}),Bu(t,{props:[mt(s,/:(plac\w+)/,":"+Rg+"$1")]}),Bu(t,{props:[mt(s,/:(plac\w+)/,mr+"input-$1")]})],i)}return""})}},pW=[hW],pS=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(m){var _=m.getAttribute("data-emotion");_.indexOf(" ")!==-1&&(document.head.appendChild(m),m.setAttribute("data-s",""))})}var i=t.stylisPlugins||pW,s={},o,a=[];o=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(m){for(var _=m.getAttribute("data-emotion").split(" "),v=1;v<_.length;v++)s[_[v]]=!0;a.push(m)});var l,c=[dW,fW];{var u,d=[sW,aW(function(m){u.insert(m)})],h=oW(c.concat(i,d)),p=function(_){return wc(rW(_),h)};l=function(_,v,y,b){u=y,p(_?_+"{"+v.styles+"}":v.styles),b&&(g.inserted[v.name]=!0)}}var g={key:n,sheet:new Uq({key:n,container:o,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:s,registered:{},insert:l};return g.sheet.hydrate(a),g};function Pe(){return Pe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pe.apply(this,arguments)}var gW=!0;function mW(e,t,n){var r="";return n.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):r+=i+" "}),r}var d3=function(t,n,r){var i=t.key+"-"+n.name;(r===!1||gW===!1)&&t.registered[i]===void 0&&(t.registered[i]=n.styles)},f3=function(t,n,r){d3(t,n,r);var i=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var s=n;do t.insert(n===s?"."+i:"",s,t.sheet,!0),s=s.next;while(s!==void 0)}};function vW(e){for(var t=0,n,r=0,i=e.length;i>=4;++r,i-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var yW={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},AW=/[A-Z]|^ms/g,_W=/_EMO_([^_]+?)_([^]*?)_EMO_/g,h3=function(t){return t.charCodeAt(1)===45},Yk=function(t){return t!=null&&typeof t!="boolean"},Wv=c3(function(e){return h3(e)?e:e.replace(AW,"-$&").toLowerCase()}),Qk=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(_W,function(r,i,s){return Ts={name:i,styles:s,next:Ts},i})}return yW[t]!==1&&!h3(t)&&typeof n=="number"&&n!==0?n+"px":n};function of(e,t,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return Ts={name:n.name,styles:n.styles,next:Ts},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)Ts={name:r.name,styles:r.styles,next:Ts},r=r.next;var i=n.styles+";";return i}return bW(e,t,n)}case"function":{if(e!==void 0){var s=Ts,o=n(e);return Ts=s,of(e,t,o)}break}}if(t==null)return n;var a=t[n];return a!==void 0?a:n}function bW(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=of(e,t,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object")t!=null&&t[o]!==void 0?r+=s+"{"+t[o]+"}":Yk(o)&&(r+=Wv(s)+":"+Qk(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(t==null||t[o[0]]===void 0))for(var a=0;a<o.length;a++)Yk(o[a])&&(r+=Wv(s)+":"+Qk(s,o[a])+";");else{var l=of(e,t,o);switch(s){case"animation":case"animationName":{r+=Wv(s)+":"+l+";";break}default:r+=s+"{"+l+"}"}}}return r}var Jk=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Ts,gS=function(t,n,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var i=!0,s="";Ts=void 0;var o=t[0];o==null||o.raw===void 0?(i=!1,s+=of(r,n,o)):s+=o[0];for(var a=1;a<t.length;a++)s+=of(r,n,t[a]),i&&(s+=o[a]);Jk.lastIndex=0;for(var l="",c;(c=Jk.exec(s))!==null;)l+="-"+c[1];var u=vW(s)+l;return{name:u,styles:s,next:Ts}},SW=function(t){return t()},p3=rg.useInsertionEffect?rg.useInsertionEffect:!1,xW=p3||SW,Xk=p3||A.useLayoutEffect,g3=A.createContext(typeof HTMLElement<"u"?pS({key:"css"}):null),m3=g3.Provider,v3=function(t){return A.forwardRef(function(n,r){var i=A.useContext(g3);return t(n,i,r)})},Yf=A.createContext({}),wW=v3(function(e,t){var n=e.styles,r=gS([n],void 0,A.useContext(Yf)),i=A.useRef();return Xk(function(){var s=t.key+"-global",o=new t.sheet.constructor({key:s,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return t.sheet.tags.length&&(o.before=t.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",s),o.hydrate([l])),i.current=[o,a],function(){o.flush()}},[t]),Xk(function(){var s=i.current,o=s[0],a=s[1];if(a){s[1]=!1;return}if(r.next!==void 0&&f3(t,r.next,!0),o.tags.length){var l=o.tags[o.tags.length-1].nextElementSibling;o.before=l,o.flush()}t.insert("",r,o,!1)},[t,r.name]),null});function ui(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return gS(t)}var ga=function(){var t=ui.apply(void 0,arguments),n="animation-"+t.name;return{name:n,styles:"@keyframes "+n+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};function mS(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function EW(){this.__data__=new Eo,this.size=0}function kW(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function CW(e){return this.__data__.get(e)}function TW(e){return this.__data__.has(e)}var IW=200;function RW(e,t){var n=this.__data__;if(n instanceof Eo){var r=n.__data__;if(!ef||r.length<IW-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new ko(r)}return n.set(e,t),this.size=n.size,this}function Ds(e){var t=this.__data__=new Eo(e);this.size=t.size}Ds.prototype.clear=EW;Ds.prototype.delete=kW;Ds.prototype.get=CW;Ds.prototype.has=TW;Ds.prototype.set=RW;function MW(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var Mg=function(){try{var e=kl(Object,"defineProperty");return e({},"",{}),e}catch{}}();function y3(e,t,n){t=="__proto__"&&Mg?Mg(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var PW=Object.prototype,jW=PW.hasOwnProperty;function A3(e,t,n){var r=e[t];(!(jW.call(e,t)&&Qm(r,n))||n===void 0&&!(t in e))&&y3(e,t,n)}function Qf(e,t,n,r){var i=!n;n||(n={});for(var s=-1,o=t.length;++s<o;){var a=t[s],l=r?r(n[a],e[a],a,n,e):void 0;l===void 0&&(l=e[a]),i?y3(n,a,l):A3(n,a,l)}return n}function OW(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var VW="[object Arguments]";function Zk(e){return go(e)&&wl(e)==VW}var _3=Object.prototype,LW=_3.hasOwnProperty,NW=_3.propertyIsEnumerable,vS=Zk(function(){return arguments}())?Zk:function(e){return go(e)&&LW.call(e,"callee")&&!NW.call(e,"callee")},Di=Array.isArray;function BW(){return!1}var b3=typeof exports=="object"&&exports&&!exports.nodeType&&exports,eC=b3&&typeof module=="object"&&module&&!module.nodeType&&module,$W=eC&&eC.exports===b3,tC=$W?ys.Buffer:void 0,DW=tC?tC.isBuffer:void 0,Pg=DW||BW,FW="[object Arguments]",zW="[object Array]",UW="[object Boolean]",HW="[object Date]",GW="[object Error]",qW="[object Function]",WW="[object Map]",KW="[object Number]",YW="[object Object]",QW="[object RegExp]",JW="[object Set]",XW="[object String]",ZW="[object WeakMap]",eK="[object ArrayBuffer]",tK="[object DataView]",nK="[object Float32Array]",rK="[object Float64Array]",iK="[object Int8Array]",sK="[object Int16Array]",oK="[object Int32Array]",aK="[object Uint8Array]",lK="[object Uint8ClampedArray]",cK="[object Uint16Array]",uK="[object Uint32Array]",Dt={};Dt[nK]=Dt[rK]=Dt[iK]=Dt[sK]=Dt[oK]=Dt[aK]=Dt[lK]=Dt[cK]=Dt[uK]=!0;Dt[FW]=Dt[zW]=Dt[eK]=Dt[UW]=Dt[tK]=Dt[HW]=Dt[GW]=Dt[qW]=Dt[WW]=Dt[KW]=Dt[YW]=Dt[QW]=Dt[JW]=Dt[XW]=Dt[ZW]=!1;function dK(e){return go(e)&&iS(e.length)&&!!Dt[wl(e)]}function yS(e){return function(t){return e(t)}}var S3=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Id=S3&&typeof module=="object"&&module&&!module.nodeType&&module,fK=Id&&Id.exports===S3,Kv=fK&&bj.process,Kc=function(){try{var e=Id&&Id.require&&Id.require("util").types;return e||Kv&&Kv.binding&&Kv.binding("util")}catch{}}(),nC=Kc&&Kc.isTypedArray,x3=nC?yS(nC):dK,hK=Object.prototype,pK=hK.hasOwnProperty;function w3(e,t){var n=Di(e),r=!n&&vS(e),i=!n&&!r&&Pg(e),s=!n&&!r&&!i&&x3(e),o=n||r||i||s,a=o?OW(e.length,String):[],l=a.length;for(var c in e)(t||pK.call(e,c))&&!(o&&(c=="length"||i&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||oS(c,l)))&&a.push(c);return a}var gK=Object.prototype;function AS(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||gK;return e===n}function E3(e,t){return function(n){return e(t(n))}}var mK=E3(Object.keys,Object),vK=Object.prototype,yK=vK.hasOwnProperty;function AK(e){if(!AS(e))return mK(e);var t=[];for(var n in Object(e))yK.call(e,n)&&n!="constructor"&&t.push(n);return t}function Jf(e){return sS(e)?w3(e):AK(e)}function _K(e,t){return e&&Qf(t,Jf(t),e)}function bK(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var SK=Object.prototype,xK=SK.hasOwnProperty;function wK(e){if(!ms(e))return bK(e);var t=AS(e),n=[];for(var r in e)r=="constructor"&&(t||!xK.call(e,r))||n.push(r);return n}function _S(e){return sS(e)?w3(e,!0):wK(e)}function EK(e,t){return e&&Qf(t,_S(t),e)}var k3=typeof exports=="object"&&exports&&!exports.nodeType&&exports,rC=k3&&typeof module=="object"&&module&&!module.nodeType&&module,kK=rC&&rC.exports===k3,iC=kK?ys.Buffer:void 0,sC=iC?iC.allocUnsafe:void 0;function CK(e,t){if(t)return e.slice();var n=e.length,r=sC?sC(n):new e.constructor(n);return e.copy(r),r}function C3(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}function TK(e,t){for(var n=-1,r=e==null?0:e.length,i=0,s=[];++n<r;){var o=e[n];t(o,n,e)&&(s[i++]=o)}return s}function T3(){return[]}var IK=Object.prototype,RK=IK.propertyIsEnumerable,oC=Object.getOwnPropertySymbols,bS=oC?function(e){return e==null?[]:(e=Object(e),TK(oC(e),function(t){return RK.call(e,t)}))}:T3;function MK(e,t){return Qf(e,bS(e),t)}function SS(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var PK=E3(Object.getPrototypeOf,Object);const xS=PK;var jK=Object.getOwnPropertySymbols,I3=jK?function(e){for(var t=[];e;)SS(t,bS(e)),e=xS(e);return t}:T3;function OK(e,t){return Qf(e,I3(e),t)}function R3(e,t,n){var r=t(e);return Di(e)?r:SS(r,n(e))}function d1(e){return R3(e,Jf,bS)}function M3(e){return R3(e,_S,I3)}var f1=kl(ys,"DataView"),h1=kl(ys,"Promise"),Ec=kl(ys,"Set"),p1=kl(ys,"WeakMap"),aC="[object Map]",VK="[object Object]",lC="[object Promise]",cC="[object Set]",uC="[object WeakMap]",dC="[object DataView]",LK=El(f1),NK=El(ef),BK=El(h1),$K=El(Ec),DK=El(p1),ja=wl;(f1&&ja(new f1(new ArrayBuffer(1)))!=dC||ef&&ja(new ef)!=aC||h1&&ja(h1.resolve())!=lC||Ec&&ja(new Ec)!=cC||p1&&ja(new p1)!=uC)&&(ja=function(e){var t=wl(e),n=t==VK?e.constructor:void 0,r=n?El(n):"";if(r)switch(r){case LK:return dC;case NK:return aC;case BK:return lC;case $K:return cC;case DK:return uC}return t});const af=ja;var FK=Object.prototype,zK=FK.hasOwnProperty;function UK(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&zK.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var jg=ys.Uint8Array;function wS(e){var t=new e.constructor(e.byteLength);return new jg(t).set(new jg(e)),t}function HK(e,t){var n=t?wS(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var GK=/\w*$/;function qK(e){var t=new e.constructor(e.source,GK.exec(e));return t.lastIndex=e.lastIndex,t}var fC=$i?$i.prototype:void 0,hC=fC?fC.valueOf:void 0;function WK(e){return hC?Object(hC.call(e)):{}}function KK(e,t){var n=t?wS(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var YK="[object Boolean]",QK="[object Date]",JK="[object Map]",XK="[object Number]",ZK="[object RegExp]",eY="[object Set]",tY="[object String]",nY="[object Symbol]",rY="[object ArrayBuffer]",iY="[object DataView]",sY="[object Float32Array]",oY="[object Float64Array]",aY="[object Int8Array]",lY="[object Int16Array]",cY="[object Int32Array]",uY="[object Uint8Array]",dY="[object Uint8ClampedArray]",fY="[object Uint16Array]",hY="[object Uint32Array]";function pY(e,t,n){var r=e.constructor;switch(t){case rY:return wS(e);case YK:case QK:return new r(+e);case iY:return HK(e,n);case sY:case oY:case aY:case lY:case cY:case uY:case dY:case fY:case hY:return KK(e,n);case JK:return new r;case XK:case tY:return new r(e);case ZK:return qK(e);case eY:return new r;case nY:return WK(e)}}var pC=Object.create,gY=function(){function e(){}return function(t){if(!ms(t))return{};if(pC)return pC(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function mY(e){return typeof e.constructor=="function"&&!AS(e)?gY(xS(e)):{}}var vY="[object Map]";function yY(e){return go(e)&&af(e)==vY}var gC=Kc&&Kc.isMap,AY=gC?yS(gC):yY,_Y="[object Set]";function bY(e){return go(e)&&af(e)==_Y}var mC=Kc&&Kc.isSet,SY=mC?yS(mC):bY,xY=1,wY=2,EY=4,P3="[object Arguments]",kY="[object Array]",CY="[object Boolean]",TY="[object Date]",IY="[object Error]",j3="[object Function]",RY="[object GeneratorFunction]",MY="[object Map]",PY="[object Number]",O3="[object Object]",jY="[object RegExp]",OY="[object Set]",VY="[object String]",LY="[object Symbol]",NY="[object WeakMap]",BY="[object ArrayBuffer]",$Y="[object DataView]",DY="[object Float32Array]",FY="[object Float64Array]",zY="[object Int8Array]",UY="[object Int16Array]",HY="[object Int32Array]",GY="[object Uint8Array]",qY="[object Uint8ClampedArray]",WY="[object Uint16Array]",KY="[object Uint32Array]",Vt={};Vt[P3]=Vt[kY]=Vt[BY]=Vt[$Y]=Vt[CY]=Vt[TY]=Vt[DY]=Vt[FY]=Vt[zY]=Vt[UY]=Vt[HY]=Vt[MY]=Vt[PY]=Vt[O3]=Vt[jY]=Vt[OY]=Vt[VY]=Vt[LY]=Vt[GY]=Vt[qY]=Vt[WY]=Vt[KY]=!0;Vt[IY]=Vt[j3]=Vt[NY]=!1;function Dp(e,t,n,r,i,s){var o,a=t&xY,l=t&wY,c=t&EY;if(n&&(o=i?n(e,r,i,s):n(e)),o!==void 0)return o;if(!ms(e))return e;var u=Di(e);if(u){if(o=UK(e),!a)return C3(e,o)}else{var d=af(e),h=d==j3||d==RY;if(Pg(e))return CK(e,a);if(d==O3||d==P3||h&&!i){if(o=l||h?{}:mY(e),!a)return l?OK(e,EK(o,e)):MK(e,_K(o,e))}else{if(!Vt[d])return i?e:{};o=pY(e,d,a)}}s||(s=new Ds);var p=s.get(e);if(p)return p;s.set(e,o),SY(e)?e.forEach(function(_){o.add(Dp(_,t,n,_,e,s))}):AY(e)&&e.forEach(function(_,v){o.set(v,Dp(_,t,n,v,e,s))});var g=c?l?M3:d1:l?_S:Jf,m=u?void 0:g(e);return MW(m||e,function(_,v){m&&(v=_,_=e[v]),A3(o,v,Dp(_,t,n,v,e,s))}),o}var YY=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,QY=/^\w*$/;function ES(e,t){if(Di(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||Ym(e)?!0:QY.test(e)||!YY.test(e)||t!=null&&e in Object(t)}var JY=500;function XY(e){var t=Zm(e,function(r){return n.size===JY&&n.clear(),r}),n=t.cache;return t}var ZY=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,eQ=/\\(\\)?/g,tQ=XY(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(ZY,function(n,r,i,s){t.push(i?s.replace(eQ,"$1"):r||n)}),t}),nQ=1/0,vC=$i?$i.prototype:void 0,yC=vC?vC.toString:void 0;function V3(e){if(typeof e=="string")return e;if(Di(e))return mS(e,V3)+"";if(Ym(e))return yC?yC.call(e):"";var t=e+"";return t=="0"&&1/e==-nQ?"-0":t}function kS(e){return e==null?"":V3(e)}function u0(e,t){return Di(e)?e:ES(e,t)?[e]:tQ(kS(e))}function rQ(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var iQ=1/0;function Xf(e){if(typeof e=="string"||Ym(e))return e;var t=e+"";return t=="0"&&1/e==-iQ?"-0":t}function CS(e,t){t=u0(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[Xf(t[n++])];return n&&n==r?e:void 0}function TS(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var s=Array(i);++r<i;)s[r]=e[r+t];return s}function sQ(e,t){return t.length<2?e:CS(e,TS(t,0,-1))}function oQ(e,t){return t=u0(t,e),e=sQ(e,t),e==null||delete e[Xf(rQ(t))]}var aQ="[object Object]",lQ=Function.prototype,cQ=Object.prototype,L3=lQ.toString,uQ=cQ.hasOwnProperty,dQ=L3.call(Object);function fQ(e){if(!go(e)||wl(e)!=aQ)return!1;var t=xS(e);if(t===null)return!0;var n=uQ.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&L3.call(n)==dQ}function hQ(e){return fQ(e)?void 0:e}var AC=$i?$i.isConcatSpreadable:void 0;function pQ(e){return Di(e)||vS(e)||!!(AC&&e&&e[AC])}function N3(e,t,n,r,i){var s=-1,o=e.length;for(n||(n=pQ),i||(i=[]);++s<o;){var a=e[s];t>0&&n(a)?t>1?N3(a,t-1,n,r,i):SS(i,a):r||(i[i.length]=a)}return i}function gQ(e){var t=e==null?0:e.length;return t?N3(e,1):[]}function mQ(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var _C=Math.max;function vQ(e,t,n){return t=_C(t===void 0?e.length-1:t,0),function(){for(var r=arguments,i=-1,s=_C(r.length-t,0),o=Array(s);++i<s;)o[i]=r[t+i];i=-1;for(var a=Array(t+1);++i<t;)a[i]=r[i];return a[t]=n(o),mQ(e,this,a)}}function yQ(e){return function(){return e}}function B3(e){return e}var AQ=Mg?function(e,t){return Mg(e,"toString",{configurable:!0,enumerable:!1,value:yQ(t),writable:!0})}:B3;const _Q=AQ;var bQ=800,SQ=16,xQ=Date.now;function wQ(e){var t=0,n=0;return function(){var r=xQ(),i=SQ-(r-n);if(n=r,i>0){if(++t>=bQ)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var EQ=wQ(_Q);function kQ(e){return EQ(vQ(e,void 0,gQ),e+"")}var CQ=1,TQ=2,IQ=4,RQ=kQ(function(e,t){var n={};if(e==null)return n;var r=!1;t=mS(t,function(s){return s=u0(s,e),r||(r=s.length>1),s}),Qf(e,M3(e),n),r&&(n=Dp(n,CQ|TQ|IQ,hQ));for(var i=t.length;i--;)oQ(n,t[i]);return n});function qs(e,t=!1){const[n,r]=A.useState(null);return A.useEffect(()=>{const i=(...s)=>{r(s)};return e.subscribe(i,t),()=>e.unsubscribe(i)},[e]),n}function di(e,t){const n=Array.isArray(e)?e:[e];A.useEffect(()=>(n.forEach(r=>r.subscribe(t)),()=>n.forEach(r=>r.unsubscribe(t))),[...n,t])}function Fi(e,t,n=[]){const r=A.useMemo(t,[]),[i,s]=A.useState(r),o=Array.isArray(e)?e:[e];return A.useEffect(()=>{s(t())},n),A.useEffect(()=>{const a=()=>s(t());return o.forEach(l=>l.subscribe(a)),()=>o.forEach(l=>l.unsubscribe(a))},[...o]),i}var MQ=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,PQ=c3(function(e){return MQ.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),jQ=PQ,OQ=function(t){return t!=="theme"},bC=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?jQ:OQ},SC=function(t,n,r){var i;if(n){var s=n.shouldForwardProp;i=t.__emotion_forwardProp&&s?function(o){return t.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=t.__emotion_forwardProp),i},VQ=function(t){var n=t.cache,r=t.serialized,i=t.isStringTag;return d3(n,r,i),xW(function(){return f3(n,r,i)}),null},C=function e(t,n){var r=t.__emotion_real===t,i=r&&t.__emotion_base||t,s,o;n!==void 0&&(s=n.label,o=n.target);var a=SC(t,n,r),l=a||bC(i),c=!l("as");return function(){var u=arguments,d=r&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(s!==void 0&&d.push("label:"+s+";"),u[0]==null||u[0].raw===void 0)d.push.apply(d,u);else{d.push(u[0][0]);for(var h=u.length,p=1;p<h;p++)d.push(u[p],u[0][p])}var g=v3(function(m,_,v){var y=c&&m.as||i,b="",x=[],S=m;if(m.theme==null){S={};for(var w in m)S[w]=m[w];S.theme=A.useContext(Yf)}typeof m.className=="string"?b=mW(_.registered,x,m.className):m.className!=null&&(b=m.className+" ");var E=gS(d.concat(x),_.registered,S);b+=_.key+"-"+E.name,o!==void 0&&(b+=" "+o);var I=c&&a===void 0?bC(y):l,z={};for(var N in m)c&&N==="as"||I(N)&&(z[N]=m[N]);return z.className=b,z.ref=v,A.createElement(A.Fragment,null,A.createElement(VQ,{cache:_,serialized:E,isStringTag:typeof y=="string"}),A.createElement(y,z))});return g.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",g.defaultProps=t.defaultProps,g.__emotion_real=g,g.__emotion_base=i,g.__emotion_styles=d,g.__emotion_forwardProp=a,Object.defineProperty(g,"toString",{value:function(){return"."+o}}),g.withComponent=function(m,_){return e(m,Pe({},n,_,{shouldForwardProp:SC(g,_,!0)})).apply(void 0,d)},g}};const Yc={animation:"focusAnimation 1000ms ease-in-out infinite both"},LQ={boxShadow:`inset 0px 0px 0px 4px ${pe.colors.text.active}`},$e={fontWeight:"bold",WebkitTextStroke:"thin black",color:"white"},lf="@media (hover: none)",d0="  @media (max-height: 500px) and (min-aspect-ratio: 16/10)";var Yv=typeof navigator<"u"?navigator.userAgent.toLowerCase().indexOf("firefox")>0:!1;function Qv(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r):e.attachEvent&&e.attachEvent("on".concat(t),function(){n(window.event)})}function $3(e,t){for(var n=t.slice(0,t.length-1),r=0;r<n.length;r++)n[r]=e[n[r].toLowerCase()];return n}function D3(e){typeof e!="string"&&(e=""),e=e.replace(/\s/g,"");for(var t=e.split(","),n=t.lastIndexOf("");n>=0;)t[n-1]+=",",t.splice(n,1),n=t.lastIndexOf("");return t}function NQ(e,t){for(var n=e.length>=t.length?e:t,r=e.length>=t.length?t:e,i=!0,s=0;s<n.length;s++)r.indexOf(n[s])===-1&&(i=!1);return i}var IS={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,num_0:96,num_1:97,num_2:98,num_3:99,num_4:100,num_5:101,num_6:102,num_7:103,num_8:104,num_9:105,num_multiply:106,num_add:107,num_enter:108,num_subtract:109,num_decimal:110,num_divide:111,"":20,",":188,".":190,"/":191,"`":192,"-":Yv?173:189,"=":Yv?61:187,";":Yv?59:186,"'":222,"[":219,"]":221,"\\":220},ca={"":16,shift:16,"":18,alt:18,option:18,"":17,ctrl:17,control:17,"":91,cmd:91,command:91},g1={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},sr={16:!1,18:!1,17:!1,91:!1},Rn={};for(var qh=1;qh<20;qh++)IS["f".concat(qh)]=111+qh;var Kt=[],xC=!1,F3="all",z3=[],f0=function(t){return IS[t.toLowerCase()]||ca[t.toLowerCase()]||t.toUpperCase().charCodeAt(0)};function U3(e){F3=e||"all"}function cf(){return F3||"all"}function BQ(){return Kt.slice(0)}function $Q(e){var t=e.target||e.srcElement,n=t.tagName,r=!0;return(t.isContentEditable||(n==="INPUT"||n==="TEXTAREA"||n==="SELECT")&&!t.readOnly)&&(r=!1),r}function DQ(e){return typeof e=="string"&&(e=f0(e)),Kt.indexOf(e)!==-1}function FQ(e,t){var n,r;e||(e=cf());for(var i in Rn)if(Object.prototype.hasOwnProperty.call(Rn,i))for(n=Rn[i],r=0;r<n.length;)n[r].scope===e?n.splice(r,1):r++;cf()===e&&U3(t||"all")}function zQ(e){var t=e.keyCode||e.which||e.charCode,n=Kt.indexOf(t);if(n>=0&&Kt.splice(n,1),e.key&&e.key.toLowerCase()==="meta"&&Kt.splice(0,Kt.length),(t===93||t===224)&&(t=91),t in sr){sr[t]=!1;for(var r in ca)ca[r]===t&&(ii[r]=!1)}}function UQ(e){if(typeof e>"u")Object.keys(Rn).forEach(function(o){return delete Rn[o]});else if(Array.isArray(e))e.forEach(function(o){o.key&&Jv(o)});else if(typeof e=="object")e.key&&Jv(e);else if(typeof e=="string"){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n[0],s=n[1];typeof i=="function"&&(s=i,i=""),Jv({key:e,scope:i,method:s,splitKey:"+"})}}var Jv=function(t){var n=t.key,r=t.scope,i=t.method,s=t.splitKey,o=s===void 0?"+":s,a=D3(n);a.forEach(function(l){var c=l.split(o),u=c.length,d=c[u-1],h=d==="*"?"*":f0(d);if(Rn[h]){r||(r=cf());var p=u>1?$3(ca,c):[];Rn[h]=Rn[h].filter(function(g){var m=i?g.method===i:!0;return!(m&&g.scope===r&&NQ(g.mods,p))})}})};function wC(e,t,n,r){if(t.element===r){var i;if(t.scope===n||t.scope==="all"){i=t.mods.length>0;for(var s in sr)Object.prototype.hasOwnProperty.call(sr,s)&&(!sr[s]&&t.mods.indexOf(+s)>-1||sr[s]&&t.mods.indexOf(+s)===-1)&&(i=!1);(t.mods.length===0&&!sr[16]&&!sr[18]&&!sr[17]&&!sr[91]||i||t.shortcut==="*")&&t.method(e,t)===!1&&(e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.cancelBubble&&(e.cancelBubble=!0))}}}function EC(e,t){var n=Rn["*"],r=e.keyCode||e.which||e.charCode;if(ii.filter.call(this,e)){if((r===93||r===224)&&(r=91),Kt.indexOf(r)===-1&&r!==229&&Kt.push(r),["ctrlKey","altKey","shiftKey","metaKey"].forEach(function(g){var m=g1[g];e[g]&&Kt.indexOf(m)===-1?Kt.push(m):!e[g]&&Kt.indexOf(m)>-1?Kt.splice(Kt.indexOf(m),1):g==="metaKey"&&e[g]&&Kt.length===3&&(e.ctrlKey||e.shiftKey||e.altKey||(Kt=Kt.slice(Kt.indexOf(m))))}),r in sr){sr[r]=!0;for(var i in ca)ca[i]===r&&(ii[i]=!0);if(!n)return}for(var s in sr)Object.prototype.hasOwnProperty.call(sr,s)&&(sr[s]=e[g1[s]]);e.getModifierState&&!(e.altKey&&!e.ctrlKey)&&e.getModifierState("AltGraph")&&(Kt.indexOf(17)===-1&&Kt.push(17),Kt.indexOf(18)===-1&&Kt.push(18),sr[17]=!0,sr[18]=!0);var o=cf();if(n)for(var a=0;a<n.length;a++)n[a].scope===o&&(e.type==="keydown"&&n[a].keydown||e.type==="keyup"&&n[a].keyup)&&wC(e,n[a],o,t);if(r in Rn){for(var l=0;l<Rn[r].length;l++)if((e.type==="keydown"&&Rn[r][l].keydown||e.type==="keyup"&&Rn[r][l].keyup)&&Rn[r][l].key){for(var c=Rn[r][l],u=c.splitKey,d=c.key.split(u),h=[],p=0;p<d.length;p++)h.push(f0(d[p]));h.sort().join("")===Kt.sort().join("")&&wC(e,c,o,t)}}}}function HQ(e){return z3.indexOf(e)>-1}function ii(e,t,n){Kt=[];var r=D3(e),i=[],s="all",o=document,a=0,l=!1,c=!0,u="+",d=!1;for(n===void 0&&typeof t=="function"&&(n=t),Object.prototype.toString.call(t)==="[object Object]"&&(t.scope&&(s=t.scope),t.element&&(o=t.element),t.keyup&&(l=t.keyup),t.keydown!==void 0&&(c=t.keydown),t.capture!==void 0&&(d=t.capture),typeof t.splitKey=="string"&&(u=t.splitKey)),typeof t=="string"&&(s=t);a<r.length;a++)e=r[a].split(u),i=[],e.length>1&&(i=$3(ca,e)),e=e[e.length-1],e=e==="*"?"*":f0(e),e in Rn||(Rn[e]=[]),Rn[e].push({keyup:l,keydown:c,scope:s,mods:i,shortcut:r[a],method:n,key:r[a],splitKey:u,element:o});typeof o<"u"&&!HQ(o)&&window&&(z3.push(o),Qv(o,"keydown",function(h){EC(h,o)},d),xC||(xC=!0,Qv(window,"focus",function(){Kt=[]},d)),Qv(o,"keyup",function(h){EC(h,o),zQ(h)},d))}function GQ(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"all";Object.keys(Rn).forEach(function(n){var r=Rn[n].find(function(i){return i.scope===t&&i.shortcut===e});r&&r.method&&r.method()})}var Xv={setScope:U3,getScope:cf,deleteScope:FQ,getPressedKeyCodes:BQ,isPressed:DQ,filter:$Q,trigger:GQ,unbind:UQ,keyMap:IS,modifier:ca,modifierMap:g1};for(var Zv in Xv)Object.prototype.hasOwnProperty.call(Xv,Zv)&&(ii[Zv]=Xv[Zv]);if(typeof window<"u"){var qQ=window.hotkeys;ii.noConflict=function(e){return e&&window.hotkeys===ii&&(window.hotkeys=qQ),ii},window.hotkeys=ii}ii.filter=function(){return!0};var H3=function(t,n){var r=t.target,i=r&&r.tagName;return!!(i&&n&&n.includes(i))},WQ=function(t){return H3(t,["INPUT","TEXTAREA","SELECT"])};function Er(e,t,n,r){n instanceof Array&&(r=n,n=void 0);var i=n||{},s=i.enableOnTags,o=i.filter,a=i.keyup,l=i.keydown,c=i.filterPreventDefault,u=c===void 0?!0:c,d=i.enabled,h=d===void 0?!0:d,p=i.enableOnContentEditable,g=p===void 0?!1:p,m=A.useRef(null),_=A.useCallback(function(v,y){var b,x;return o&&!o(v)?!u:WQ(v)&&!H3(v,s)||(b=v.target)!=null&&b.isContentEditable&&!g?!0:m.current===null||document.activeElement===m.current||(x=m.current)!=null&&x.contains(document.activeElement)?(t(v,y),!0):!1},r?[m,s,o].concat(r):[m,s,o]);return A.useEffect(function(){if(!h){ii.unbind(e,_);return}return a&&l!==!0&&(n.keydown=!1),ii(e,n||{},_),function(){return ii.unbind(e,_)}},[_,e,h]),m}ii.isPressed;const m1="a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,r,s,t,u,w,x,y,z,1,2,3,4,5,6,7,8,9,0";var lM,Sp,cM;try{(cM=(Sp=(lM=global==null?void 0:global.navigator)==null?void 0:lM.keyboard)==null?void 0:Sp.lock)==null||cM.call(Sp,["Escape"])}catch(e){console.warn(e)}var uM,dM;const KQ=!!((dM=(uM=global==null?void 0:global.navigator)==null?void 0:uM.keyboard)!=null&&dM.lock),Ta=e=>t=>{e&&(t.preventDefault(),t.stopPropagation(),e(t))};function Cl(e,t=!0,n){di(te.remoteKeyboardPressed,r=>{var i;t&&r in e&&((i=e[r])==null||i.call(e))}),Er("up",Ta(e.up),{enabled:t&&!!(e!=null&&e.up)},n),Er("down",Ta(e.down),{enabled:t&&!!(e!=null&&e.down)},n),Er("left",Ta(e.left),{enabled:t&&!!(e!=null&&e.left)},n),Er("right",Ta(e.right),{enabled:t&&!!(e!=null&&e.right)},n),Er("Enter",Ta(e.accept),{enabled:t&&!!(e!=null&&e.accept)},n),Er("Escape,Backspace",Ta(e.back),{enabled:t&&!!(e!=null&&e.back)},n),Er("Shift+R",Ta(e.random),{enabled:t&&!!(e!=null&&e.random)},n)}function YQ({help:e}){const[t]=De(dr),[n,r]=De(LP);Er("shift+h",()=>r(!n),void 0,[n]);const i=Object.entries(e??{}).filter(([,s])=>s!==void 0);return t?null:f.jsx(f.Fragment,{children:f.jsx(rJ,{"data-test":"help-container",onClick:()=>r(!n),visible:!!i.length&&n,children:n&&f.jsxs(f.Fragment,{children:[f.jsx(q3,{children:"Use indicated keys on your keyboard"}),i.map(([s,o])=>{const{view:a,defaultLabel:l}=nJ[s];return f.jsxs(kC,{children:[f.jsx(TC,{children:o??l}),f.jsx(CC,{children:f.jsx(a,{})})]},s)}),f.jsxs(kC,{children:[f.jsx(TC,{children:"Show/hide this help"}),f.jsx(CC,{children:G3("h")()})]})]})})})}const RS=({vertical:e=!1,horizontal:t=!1})=>f.jsxs(f.Fragment,{children:[f.jsx(Vs,{disabled:!e,children:""}),f.jsx("br",{}),f.jsx(Vs,{disabled:!t,children:""}),f.jsx(Vs,{disabled:!e,children:""}),f.jsx(Vs,{disabled:!t,children:""})]}),QQ=()=>f.jsx(RS,{horizontal:!0}),JQ=()=>f.jsx(RS,{vertical:!0}),XQ=()=>f.jsx(RS,{vertical:!0,horizontal:!0}),ZQ=()=>f.jsx(Vs,{children:"Enter "}),eJ=()=>KQ?f.jsx(Vs,{children:"Escape"}):f.jsx(Vs,{children:"Backspace "}),G3=e=>()=>f.jsxs(f.Fragment,{children:[f.jsx(Vs,{children:"Shift"})," + ",f.jsx(Vs,{children:e.toUpperCase()})]}),tJ=()=>f.jsx(f.Fragment,{children:f.jsx(Vs,{children:"start typing"})}),nJ={"horizontal-vertical":{view:XQ,defaultLabel:"Navigate"},horizontal:{view:QQ,defaultLabel:"Navigate"},vertical:{view:JQ,defaultLabel:"Navigate"},accept:{view:ZQ,defaultLabel:"Select"},back:{view:eJ,defaultLabel:"Go back"},shiftR:{view:G3("r"),defaultLabel:"Pick random"},alphanumeric:{view:tJ,defaultLabel:"Search"}},kC=C("div",{target:"efq3fs05"})({name:"1m596lt",styles:"display:flex;flex-direction:row;align-items:center;gap:1rem"}),CC=C("div",{target:"efq3fs04"})({name:"w84kwe",styles:"flex-wrap:nowrap;text-align:center;flex:2;color:white;font-weight:bold"}),TC=C("span",{target:"efq3fs03"})("flex:3;",$e,";font-size:2rem;text-align:right;"),q3=C("div",{target:"efq3fs02"})("position:absolute;inset:0 0 0 0;background:rgba(0, 0, 0, 0.75);",$e,";font-size:2rem;padding:2rem;display:flex;align-items:center;justify-content:center;text-align:center;opacity:0;transition:300ms;visibility:hidden;"),rJ=C("div",{target:"efq3fs01"})("position:fixed;top:5rem;right:0;padding:0.5rem;background:rgba(0, 0, 0, 0.5);display:flex;flex-direction:column;gap:1rem;width:34rem;visibility:",e=>e.visible?"visible":"hidden",";cursor:pointer;transform:scale(0.75);z-index:1000;@media (max-width: 560px){display:none;}view-transition-name:help-view;:hover{",q3,"{opacity:1;visibility:visible;}}svg{fill:white;}"),Vs=C("kbd",{target:"efq3fs00"})("margin:0.2rem;padding:0.12rem 0.9rem;border-radius:0.3rem;border:0.1rem solid rgb(204, 204, 204);color:rgb(51, 51, 51);line-height:1.4;font-size:1.6rem;display:inline-block;box-shadow:0 0.1rem 0 rgba(0, 0, 0, 0.2),inset 0 0 0 0.2rem #ffffff;background-color:rgb(247, 247, 247);text-shadow:0 0.1rem 0 #fff;font-weight:normal;opacity:",e=>e.disabled?.25:1,";"),MS=A.createContext({setKeyboard:(e,t)=>{},unsetKeyboard:e=>{},hasContent:!1}),iJ=({children:e})=>{const[t,n]=A.useState({}),r=(u,d)=>{n(h=>({...h,[u]:d}))},i=u=>n(d=>RQ(d,[u])),[s,o]=Object.entries(t).at(-1)??[];di(te.remoteMicConnected,({id:u})=>{var d;(d=et.getRemoteMicById(u))==null||d.connection.send({t:"keyboard-layout",help:o})}),A.useEffect(()=>{et.broadcast({t:"keyboard-layout",help:o})},[s]);const{remote:a,...l}=o??{},c=!!Object.values(l).length;return f.jsxs(MS.Provider,{value:{setKeyboard:r,unsetKeyboard:i,hasContent:c},children:[e,f.jsx(YQ,{help:l})]})};var sJ={webm:"data:video/webm;base64,GkXfowEAAAAAAAAfQoaBAUL3gQFC8oEEQvOBCEKChHdlYm1Ch4EEQoWBAhhTgGcBAAAAAAAVkhFNm3RALE27i1OrhBVJqWZTrIHfTbuMU6uEFlSua1OsggEwTbuMU6uEHFO7a1OsghV17AEAAAAAAACkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmAQAAAAAAAEUq17GDD0JATYCNTGF2ZjU1LjMzLjEwMFdBjUxhdmY1NS4zMy4xMDBzpJBlrrXf3DCDVB8KcgbMpcr+RImIQJBgAAAAAAAWVK5rAQAAAAAAD++uAQAAAAAAADLXgQFzxYEBnIEAIrWcg3VuZIaFVl9WUDiDgQEj44OEAmJaAOABAAAAAAAABrCBsLqBkK4BAAAAAAAPq9eBAnPFgQKcgQAitZyDdW5khohBX1ZPUkJJU4OBAuEBAAAAAAAAEZ+BArWIQOdwAAAAAABiZIEgY6JPbwIeVgF2b3JiaXMAAAAAAoC7AAAAAAAAgLUBAAAAAAC4AQN2b3JiaXMtAAAAWGlwaC5PcmcgbGliVm9yYmlzIEkgMjAxMDExMDEgKFNjaGF1ZmVudWdnZXQpAQAAABUAAABlbmNvZGVyPUxhdmM1NS41Mi4xMDIBBXZvcmJpcyVCQ1YBAEAAACRzGCpGpXMWhBAaQlAZ4xxCzmvsGUJMEYIcMkxbyyVzkCGkoEKIWyiB0JBVAABAAACHQXgUhIpBCCGEJT1YkoMnPQghhIg5eBSEaUEIIYQQQgghhBBCCCGERTlokoMnQQgdhOMwOAyD5Tj4HIRFOVgQgydB6CCED0K4moOsOQghhCQ1SFCDBjnoHITCLCiKgsQwuBaEBDUojILkMMjUgwtCiJqDSTX4GoRnQXgWhGlBCCGEJEFIkIMGQcgYhEZBWJKDBjm4FITLQagahCo5CB+EIDRkFQCQAACgoiiKoigKEBqyCgDIAAAQQFEUx3EcyZEcybEcCwgNWQUAAAEACAAAoEiKpEiO5EiSJFmSJVmSJVmS5omqLMuyLMuyLMsyEBqyCgBIAABQUQxFcRQHCA1ZBQBkAAAIoDiKpViKpWiK54iOCISGrAIAgAAABAAAEDRDUzxHlETPVFXXtm3btm3btm3btm3btm1blmUZCA1ZBQBAAAAQ0mlmqQaIMAMZBkJDVgEACAAAgBGKMMSA0JBVAABAAACAGEoOogmtOd+c46BZDppKsTkdnEi1eZKbirk555xzzsnmnDHOOeecopxZDJoJrTnnnMSgWQqaCa0555wnsXnQmiqtOeeccc7pYJwRxjnnnCateZCajbU555wFrWmOmkuxOeecSLl5UptLtTnnnHPOOeecc84555zqxekcnBPOOeecqL25lpvQxTnnnE/G6d6cEM4555xzzjnnnHPOOeecIDRkFQAABABAEIaNYdwpCNLnaCBGEWIaMulB9+gwCRqDnELq0ehopJQ6CCWVcVJKJwgNWQUAAAIAQAghhRRSSCGFFFJIIYUUYoghhhhyyimnoIJKKqmooowyyyyzzDLLLLPMOuyssw47DDHEEEMrrcRSU2011lhr7jnnmoO0VlprrbVSSimllFIKQkNWAQAgAAAEQgYZZJBRSCGFFGKIKaeccgoqqIDQkFUAACAAgAAAAABP8hzRER3RER3RER3RER3R8RzPESVREiVREi3TMjXTU0VVdWXXlnVZt31b2IVd933d933d+HVhWJZlWZZlWZZlWZZlWZZlWZYgNGQVAAACAAAghBBCSCGFFFJIKcYYc8w56CSUEAgNWQUAAAIACAAAAHAUR3EcyZEcSbIkS9IkzdIsT/M0TxM9URRF0zRV0RVdUTdtUTZl0zVdUzZdVVZtV5ZtW7Z125dl2/d93/d93/d93/d93/d9XQdCQ1YBABIAADqSIymSIimS4ziOJElAaMgqAEAGAEAAAIriKI7jOJIkSZIlaZJneZaomZrpmZ4qqkBoyCoAABAAQAAAAAAAAIqmeIqpeIqoeI7oiJJomZaoqZoryqbsuq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq4LhIasAgAkAAB0JEdyJEdSJEVSJEdygNCQVQCADACAAAAcwzEkRXIsy9I0T/M0TxM90RM901NFV3SB0JBVAAAgAIAAAAAAAAAMybAUy9EcTRIl1VItVVMt1VJF1VNVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVN0zRNEwgNWQkAkAEAkBBTLS3GmgmLJGLSaqugYwxS7KWxSCpntbfKMYUYtV4ah5RREHupJGOKQcwtpNApJq3WVEKFFKSYYyoVUg5SIDRkhQAQmgHgcBxAsixAsiwAAAAAAAAAkDQN0DwPsDQPAAAAAAAAACRNAyxPAzTPAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABA0jRA8zxA8zwAAAAAAAAA0DwP8DwR8EQRAAAAAAAAACzPAzTRAzxRBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABA0jRA8zxA8zwAAAAAAAAAsDwP8EQR0DwRAAAAAAAAACzPAzxRBDzRAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAEOAAABBgIRQasiIAiBMAcEgSJAmSBM0DSJYFTYOmwTQBkmVB06BpME0AAAAAAAAAAAAAJE2DpkHTIIoASdOgadA0iCIAAAAAAAAAAAAAkqZB06BpEEWApGnQNGgaRBEAAAAAAAAAAAAAzzQhihBFmCbAM02IIkQRpgkAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAGHAAAAgwoQwUGrIiAIgTAHA4imUBAIDjOJYFAACO41gWAABYliWKAABgWZooAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAYcAAACDChDBQashIAiAIAcCiKZQHHsSzgOJYFJMmyAJYF0DyApgFEEQAIAAAocAAACLBBU2JxgEJDVgIAUQAABsWxLE0TRZKkaZoniiRJ0zxPFGma53meacLzPM80IYqiaJoQRVE0TZimaaoqME1VFQAAUOAAABBgg6bE4gCFhqwEAEICAByKYlma5nmeJ4qmqZokSdM8TxRF0TRNU1VJkqZ5niiKommapqqyLE3zPFEURdNUVVWFpnmeKIqiaaqq6sLzPE8URdE0VdV14XmeJ4qiaJqq6roQRVE0TdNUTVV1XSCKpmmaqqqqrgtETxRNU1Vd13WB54miaaqqq7ouEE3TVFVVdV1ZBpimaaqq68oyQFVV1XVdV5YBqqqqruu6sgxQVdd1XVmWZQCu67qyLMsCAAAOHAAAAoygk4wqi7DRhAsPQKEhKwKAKAAAwBimFFPKMCYhpBAaxiSEFEImJaXSUqogpFJSKRWEVEoqJaOUUmopVRBSKamUCkIqJZVSAADYgQMA2IGFUGjISgAgDwCAMEYpxhhzTiKkFGPOOScRUoox55yTSjHmnHPOSSkZc8w556SUzjnnnHNSSuacc845KaVzzjnnnJRSSuecc05KKSWEzkEnpZTSOeecEwAAVOAAABBgo8jmBCNBhYasBABSAQAMjmNZmuZ5omialiRpmud5niiapiZJmuZ5nieKqsnzPE8URdE0VZXneZ4oiqJpqirXFUXTNE1VVV2yLIqmaZqq6rowTdNUVdd1XZimaaqq67oubFtVVdV1ZRm2raqq6rqyDFzXdWXZloEsu67s2rIAAPAEBwCgAhtWRzgpGgssNGQlAJABAEAYg5BCCCFlEEIKIYSUUggJAAAYcAAACDChDBQashIASAUAAIyx1lprrbXWQGettdZaa62AzFprrbXWWmuttdZaa6211lJrrbXWWmuttdZaa6211lprrbXWWmuttdZaa6211lprrbXWWmuttdZaa6211lprrbXWWmstpZRSSimllFJKKaWUUkoppZRSSgUA+lU4APg/2LA6wknRWGChISsBgHAAAMAYpRhzDEIppVQIMeacdFRai7FCiDHnJKTUWmzFc85BKCGV1mIsnnMOQikpxVZjUSmEUlJKLbZYi0qho5JSSq3VWIwxqaTWWoutxmKMSSm01FqLMRYjbE2ptdhqq7EYY2sqLbQYY4zFCF9kbC2m2moNxggjWywt1VprMMYY3VuLpbaaizE++NpSLDHWXAAAd4MDAESCjTOsJJ0VjgYXGrISAAgJACAQUooxxhhzzjnnpFKMOeaccw5CCKFUijHGnHMOQgghlIwx5pxzEEIIIYRSSsaccxBCCCGEkFLqnHMQQgghhBBKKZ1zDkIIIYQQQimlgxBCCCGEEEoopaQUQgghhBBCCKmklEIIIYRSQighlZRSCCGEEEIpJaSUUgohhFJCCKGElFJKKYUQQgillJJSSimlEkoJJYQSUikppRRKCCGUUkpKKaVUSgmhhBJKKSWllFJKIYQQSikFAAAcOAAABBhBJxlVFmGjCRcegEJDVgIAZAAAkKKUUiktRYIipRikGEtGFXNQWoqocgxSzalSziDmJJaIMYSUk1Qy5hRCDELqHHVMKQYtlRhCxhik2HJLoXMOAAAAQQCAgJAAAAMEBTMAwOAA4XMQdAIERxsAgCBEZohEw0JweFAJEBFTAUBigkIuAFRYXKRdXECXAS7o4q4DIQQhCEEsDqCABByccMMTb3jCDU7QKSp1IAAAAAAADADwAACQXAAREdHMYWRobHB0eHyAhIiMkAgAAAAAABcAfAAAJCVAREQ0cxgZGhscHR4fICEiIyQBAIAAAgAAAAAggAAEBAQAAAAAAAIAAAAEBB9DtnUBAAAAAAAEPueBAKOFggAAgACjzoEAA4BwBwCdASqwAJAAAEcIhYWIhYSIAgIABhwJ7kPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99YAD+/6tQgKOFggADgAqjhYIAD4AOo4WCACSADqOZgQArADECAAEQEAAYABhYL/QACIBDmAYAAKOFggA6gA6jhYIAT4AOo5mBAFMAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAGSADqOFggB6gA6jmYEAewAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIAj4AOo5mBAKMAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAKSADqOFggC6gA6jmYEAywAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIAz4AOo4WCAOSADqOZgQDzADECAAEQEAAYABhYL/QACIBDmAYAAKOFggD6gA6jhYIBD4AOo5iBARsAEQIAARAQFGAAYWC/0AAiAQ5gGACjhYIBJIAOo4WCATqADqOZgQFDADECAAEQEAAYABhYL/QACIBDmAYAAKOFggFPgA6jhYIBZIAOo5mBAWsAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAXqADqOFggGPgA6jmYEBkwAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIBpIAOo4WCAbqADqOZgQG7ADECAAEQEAAYABhYL/QACIBDmAYAAKOFggHPgA6jmYEB4wAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIB5IAOo4WCAfqADqOZgQILADECAAEQEAAYABhYL/QACIBDmAYAAKOFggIPgA6jhYICJIAOo5mBAjMAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAjqADqOFggJPgA6jmYECWwAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYICZIAOo4WCAnqADqOZgQKDADECAAEQEAAYABhYL/QACIBDmAYAAKOFggKPgA6jhYICpIAOo5mBAqsAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCArqADqOFggLPgA6jmIEC0wARAgABEBAUYABhYL/QACIBDmAYAKOFggLkgA6jhYIC+oAOo5mBAvsAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAw+ADqOZgQMjADECAAEQEAAYABhYL/QACIBDmAYAAKOFggMkgA6jhYIDOoAOo5mBA0sAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCA0+ADqOFggNkgA6jmYEDcwAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIDeoAOo4WCA4+ADqOZgQObADECAAEQEAAYABhYL/QACIBDmAYAAKOFggOkgA6jhYIDuoAOo5mBA8MAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCA8+ADqOFggPkgA6jhYID+oAOo4WCBA+ADhxTu2sBAAAAAAAAEbuPs4EDt4r3gQHxghEr8IEK",mp4:"data:video/mp4;base64,AAAAHGZ0eXBNNFYgAAACAGlzb21pc28yYXZjMQAAAAhmcmVlAAAGF21kYXTeBAAAbGliZmFhYyAxLjI4AABCAJMgBDIARwAAArEGBf//rdxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNDIgcjIgOTU2YzhkOCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTQgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0wIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz02IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MCB3ZWlnaHRwPTAga2V5aW50PTI1MCBrZXlpbnRfbWluPTI1IHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcmM9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCB2YnZfbWF4cmF0ZT03NjggdmJ2X2J1ZnNpemU9MzAwMCBjcmZfbWF4PTAuMCBuYWxfaHJkPW5vbmUgZmlsbGVyPTAgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAAFZliIQL8mKAAKvMnJycnJycnJycnXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXiEASZACGQAjgCEASZACGQAjgAAAAAdBmjgX4GSAIQBJkAIZACOAAAAAB0GaVAX4GSAhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGagC/AySEASZACGQAjgAAAAAZBmqAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZrAL8DJIQBJkAIZACOAAAAABkGa4C/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmwAvwMkhAEmQAhkAI4AAAAAGQZsgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGbQC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm2AvwMkhAEmQAhkAI4AAAAAGQZuAL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGboC/AySEASZACGQAjgAAAAAZBm8AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZvgL8DJIQBJkAIZACOAAAAABkGaAC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmiAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpAL8DJIQBJkAIZACOAAAAABkGaYC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmoAvwMkhAEmQAhkAI4AAAAAGQZqgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGawC/AySEASZACGQAjgAAAAAZBmuAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZsAL8DJIQBJkAIZACOAAAAABkGbIC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm0AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZtgL8DJIQBJkAIZACOAAAAABkGbgCvAySEASZACGQAjgCEASZACGQAjgAAAAAZBm6AnwMkhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AAAAhubW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAABDcAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAzB0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAA+kAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAALAAAACQAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAPpAAAAAAABAAAAAAKobWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAB1MAAAdU5VxAAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABWaWRlb0hhbmRsZXIAAAACU21pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAhNzdGJsAAAAr3N0c2QAAAAAAAAAAQAAAJ9hdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAALAAkABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAALWF2Y0MBQsAN/+EAFWdCwA3ZAsTsBEAAAPpAADqYA8UKkgEABWjLg8sgAAAAHHV1aWRraEDyXyRPxbo5pRvPAyPzAAAAAAAAABhzdHRzAAAAAAAAAAEAAAAeAAAD6QAAABRzdHNzAAAAAAAAAAEAAAABAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAABAAAAAQAAAIxzdHN6AAAAAAAAAAAAAAAeAAADDwAAAAsAAAALAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAAiHN0Y28AAAAAAAAAHgAAAEYAAANnAAADewAAA5gAAAO0AAADxwAAA+MAAAP2AAAEEgAABCUAAARBAAAEXQAABHAAAASMAAAEnwAABLsAAATOAAAE6gAABQYAAAUZAAAFNQAABUgAAAVkAAAFdwAABZMAAAWmAAAFwgAABd4AAAXxAAAGDQAABGh0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAACAAAAAAAABDcAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAQkAAADcAABAAAAAAPgbWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAAykBVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAADi21pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAADT3N0YmwAAABnc3RzZAAAAAAAAAABAAAAV21wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAAM2VzZHMAAAAAA4CAgCIAAgAEgICAFEAVBbjYAAu4AAAADcoFgICAAhGQBoCAgAECAAAAIHN0dHMAAAAAAAAAAgAAADIAAAQAAAAAAQAAAkAAAAFUc3RzYwAAAAAAAAAbAAAAAQAAAAEAAAABAAAAAgAAAAIAAAABAAAAAwAAAAEAAAABAAAABAAAAAIAAAABAAAABgAAAAEAAAABAAAABwAAAAIAAAABAAAACAAAAAEAAAABAAAACQAAAAIAAAABAAAACgAAAAEAAAABAAAACwAAAAIAAAABAAAADQAAAAEAAAABAAAADgAAAAIAAAABAAAADwAAAAEAAAABAAAAEAAAAAIAAAABAAAAEQAAAAEAAAABAAAAEgAAAAIAAAABAAAAFAAAAAEAAAABAAAAFQAAAAIAAAABAAAAFgAAAAEAAAABAAAAFwAAAAIAAAABAAAAGAAAAAEAAAABAAAAGQAAAAIAAAABAAAAGgAAAAEAAAABAAAAGwAAAAIAAAABAAAAHQAAAAEAAAABAAAAHgAAAAIAAAABAAAAHwAAAAQAAAABAAAA4HN0c3oAAAAAAAAAAAAAADMAAAAaAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAACMc3RjbwAAAAAAAAAfAAAALAAAA1UAAANyAAADhgAAA6IAAAO+AAAD0QAAA+0AAAQAAAAEHAAABC8AAARLAAAEZwAABHoAAASWAAAEqQAABMUAAATYAAAE9AAABRAAAAUjAAAFPwAABVIAAAVuAAAFgQAABZ0AAAWwAAAFzAAABegAAAX7AAAGFwAAAGJ1ZHRhAAAAWm1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAALWlsc3QAAAAlqXRvbwAAAB1kYXRhAAAAAQAAAABMYXZmNTUuMzMuMTAw"};const{webm:oJ,mp4:aJ}=sJ,ey=()=>typeof navigator<"u"&&parseFloat((""+(/CPU.*OS ([0-9_]{3,4})[0-9_]{0,1}|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))<10&&!window.MSStream,ty=()=>"wakeLock"in navigator&&window.navigator.userAgent.indexOf("Samsung")===-1;class lJ{constructor(){if(this.enabled=!1,ty()){this._wakeLock=null;const t=()=>{this._wakeLock!==null&&document.visibilityState==="visible"&&this.enable()};document.addEventListener("visibilitychange",t),document.addEventListener("fullscreenchange",t)}else ey()?this.noSleepTimer=null:(this.noSleepVideo=document.createElement("video"),this.noSleepVideo.setAttribute("title","No Sleep"),this.noSleepVideo.setAttribute("playsinline",""),this._addSourceToVideo(this.noSleepVideo,"webm",oJ),this._addSourceToVideo(this.noSleepVideo,"mp4",aJ),Object.assign(this.noSleepVideo.style,{position:"absolute",left:"-100%",top:"-100%"}),document.querySelector("body").append(this.noSleepVideo),this.noSleepVideo.addEventListener("loadedmetadata",()=>{this.noSleepVideo.duration<=1?this.noSleepVideo.setAttribute("loop",""):this.noSleepVideo.addEventListener("timeupdate",()=>{this.noSleepVideo.currentTime>.5&&(this.noSleepVideo.currentTime=Math.random())})}))}_addSourceToVideo(t,n,r){var i=document.createElement("source");i.src=r,i.type=`video/${n}`,t.appendChild(i)}get isEnabled(){return this.enabled}enable(){return ty()?navigator.wakeLock.request("screen").then(t=>{this._wakeLock=t,this.enabled=!0,console.log("Wake Lock active."),this._wakeLock.addEventListener("release",()=>{console.log("Wake Lock released.")})}).catch(t=>{throw this.enabled=!1,console.error(`${t.name}, ${t.message}`),t}):ey()?(this.disable(),console.warn(`
        NoSleep enabled for older iOS devices. This can interrupt
        active or long-running network requests from completing successfully.
        See https://github.com/richtr/NoSleep.js/issues/15 for more details.
      `),this.noSleepTimer=window.setInterval(()=>{document.hidden||(window.location.href=window.location.href.split("#")[0],window.setTimeout(window.stop,0))},15e3),this.enabled=!0,Promise.resolve()):this.noSleepVideo.play().then(n=>(this.enabled=!0,n)).catch(n=>{throw this.enabled=!1,n})}disable(){ty()?(this._wakeLock&&this._wakeLock.release(),this._wakeLock=null):ey()?this.noSleepTimer&&(console.warn(`
          NoSleep now disabled for older iOS devices.
        `),window.clearInterval(this.noSleepTimer),this.noSleepTimer=null):this.noSleepVideo.pause(),this.enabled=!1}}var cJ=lJ;const uJ=ur(cJ),dJ="/prs/275/assets/eurovisionbg-CvR5q-FP.svg",PS=A.createContext({visible:!0,theme:"regular",setVisibility:e=>{},setTheme:e=>{}}),ma=(e,t="regular")=>{const{setVisibility:n,setTheme:r}=A.useContext(PS);A.useEffect(()=>{n(e)},[e,n]),A.useEffect(()=>{r(t)},[t,r])};function fJ({children:e}){const[t,n]=A.useState(!0),[r,i]=A.useState("regular"),[s]=De(ji);return f.jsxs(PS.Provider,{value:{visible:t,setVisibility:n,setTheme:i,theme:r},children:[t&&f.jsx(_J,{"data-theme":r,"data-graphic-level":s,bgtheme:r,children:r==="eurovision"&&f.jsx(v1,{})}),e]})}const hJ={name:"1skrp57",styles:"animation:escGradient 46s linear infinite;flex:1;@keyframes escGradient{0%{background-position:0% 800%;}100%{background-position:0% 0%;}}"},pJ=C("div",{target:"ev6htcq2"})("transform:scale(1, 4);background-image:url(",dJ,");background-size:100% 50%;height:100%;&[data-animate='true']{",hJ,";}"),v1=()=>{var e;return f.jsx(pJ,{"data-animate":!((e=global.location)!=null&&e.href.includes("/remote-mic"))})},gJ=ui(`background-image:linear-gradient(
    -45deg,
    `,Ue.christmasGreen.text,`,
    `,Ue.christmasGreen.stroke,`,
    `,Ue.christmasRed.stroke,`,
    `,Ue.christmasRed.stroke,`
  );background-size:400% 400%;`,""),mJ={name:"zjik7",styles:"display:flex"},vJ=ui(`background-image:linear-gradient(
    -45deg,
    `,Ue.red.stroke,`,
    `,Ue.blue.text,`,
    `,Ue.blue.stroke,`,
    `,Ue.red.stroke,`
  );background-size:400% 400%;`,""),yJ=C("div",{target:"ev6htcq1"})({name:"18w86be",styles:"background-color:white;width:100%;height:100%"}),AJ={name:"x35kb",styles:"animation:gradient 15s ease infinite;@keyframes gradient{0%{background-position:0% 50%;}50%{background-position:100% 50%;}100%{background-position:0% 50%;}}"},_J=C(yJ,{target:"ev6htcq0"})("z-index:-1;top:0;position:fixed;&[data-theme='eurovision']{",mJ,";}&[data-theme='christmas']{",gJ,";}&[data-theme='regular']{",vJ,";}background-position:100% 50%;&[data-graphic-level='high']{",AJ,";}");function bJ({size:e=16}){return f.jsx("style",{children:`html {
                font-size: ${e}px !important;
            }`})}function h0(e){return A.useMemo(()=>{var t;return new URLSearchParams((t=global.location)==null?void 0:t.search).get(e)},[e])}const SJ=C("div",{target:"e1py91zd0"})("h1{",$e,";margin:0;text-align:center;font-size:4rem;color:",pe.colors.text.active,";}h2{",$e,";margin:0;font-size:2.9rem;}h3{",$e,";margin:0;font-size:2.7rem;strong{color:",pe.colors.text.active,";}}h4{",$e,";margin:0;font-size:2.2rem;line-height:1.15;}h5{",$e,";margin:0;font-size:1.6rem;line-height:1.5;}h6{",$e,";margin:0;line-height:1.5;font-size:1.3rem;}hr{margin:0.5rem 1rem;opacity:0.25;}h1,h2,h3,h4,h5{button{",$e,";background:none;padding:0;margin:0;border:none;font-size:inherit;color:",pe.colors.text.active,";text-decoration:underline;cursor:pointer;}svg{font-size:0.8em;}}a{",$e,";color:",pe.colors.text.active,";text-decoration:underline;}strong{color:",pe.colors.text.active,";}");var jS={},W3={exports:{}};(function(e){function t(n){return n&&n.__esModule?n:{default:n}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(W3);var st=W3.exports,ny={};function Do(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function K3(e){if(!Do(e))return e;const t={};return Object.keys(e).forEach(n=>{t[n]=K3(e[n])}),t}function fs(e,t,n={clone:!0}){const r=n.clone?Pe({},e):e;return Do(e)&&Do(t)&&Object.keys(t).forEach(i=>{i!=="__proto__"&&(Do(t[i])&&i in e&&Do(e[i])?r[i]=fs(e[i],t[i],n):n.clone?r[i]=Do(t[i])?K3(t[i]):t[i]:r[i]=t[i])}),r}const xJ=Object.freeze(Object.defineProperty({__proto__:null,default:fs,isPlainObject:Do},Symbol.toStringTag,{value:"Module"}));var Y3={exports:{}},wJ="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",EJ=wJ,kJ=EJ;function Q3(){}function J3(){}J3.resetWarningCache=Q3;var CJ=function(){function e(r,i,s,o,a,l){if(l!==kJ){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:J3,resetWarningCache:Q3};return n.PropTypes=n,n};Y3.exports=CJ();var TJ=Y3.exports;const Qe=ur(TJ);function cl(e){let t="https://mui.com/production-error/?code="+e;for(let n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}const IJ=Object.freeze(Object.defineProperty({__proto__:null,default:cl},Symbol.toStringTag,{value:"Module"}));var X3={exports:{}},Et={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OS=Symbol.for("react.element"),VS=Symbol.for("react.portal"),p0=Symbol.for("react.fragment"),g0=Symbol.for("react.strict_mode"),m0=Symbol.for("react.profiler"),v0=Symbol.for("react.provider"),y0=Symbol.for("react.context"),RJ=Symbol.for("react.server_context"),A0=Symbol.for("react.forward_ref"),_0=Symbol.for("react.suspense"),b0=Symbol.for("react.suspense_list"),S0=Symbol.for("react.memo"),x0=Symbol.for("react.lazy"),MJ=Symbol.for("react.offscreen"),Z3;Z3=Symbol.for("react.module.reference");function qi(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case OS:switch(e=e.type,e){case p0:case m0:case g0:case _0:case b0:return e;default:switch(e=e&&e.$$typeof,e){case RJ:case y0:case A0:case x0:case S0:case v0:return e;default:return t}}case VS:return t}}}Et.ContextConsumer=y0;Et.ContextProvider=v0;Et.Element=OS;Et.ForwardRef=A0;Et.Fragment=p0;Et.Lazy=x0;Et.Memo=S0;Et.Portal=VS;Et.Profiler=m0;Et.StrictMode=g0;Et.Suspense=_0;Et.SuspenseList=b0;Et.isAsyncMode=function(){return!1};Et.isConcurrentMode=function(){return!1};Et.isContextConsumer=function(e){return qi(e)===y0};Et.isContextProvider=function(e){return qi(e)===v0};Et.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===OS};Et.isForwardRef=function(e){return qi(e)===A0};Et.isFragment=function(e){return qi(e)===p0};Et.isLazy=function(e){return qi(e)===x0};Et.isMemo=function(e){return qi(e)===S0};Et.isPortal=function(e){return qi(e)===VS};Et.isProfiler=function(e){return qi(e)===m0};Et.isStrictMode=function(e){return qi(e)===g0};Et.isSuspense=function(e){return qi(e)===_0};Et.isSuspenseList=function(e){return qi(e)===b0};Et.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===p0||e===m0||e===g0||e===_0||e===b0||e===MJ||typeof e=="object"&&e!==null&&(e.$$typeof===x0||e.$$typeof===S0||e.$$typeof===v0||e.$$typeof===y0||e.$$typeof===A0||e.$$typeof===Z3||e.getModuleId!==void 0)};Et.typeOf=qi;X3.exports=Et;var IC=X3.exports;const PJ=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function eO(e){const t=`${e}`.match(PJ);return t&&t[1]||""}function tO(e,t=""){return e.displayName||e.name||eO(e)||t}function RC(e,t,n){const r=tO(t);return e.displayName||(r!==""?`${n}(${r})`:n)}function jJ(e){if(e!=null){if(typeof e=="string")return e;if(typeof e=="function")return tO(e,"Component");if(typeof e=="object")switch(e.$$typeof){case IC.ForwardRef:return RC(e,e.render,"ForwardRef");case IC.Memo:return RC(e,e.type,"memo");default:return}}}const OJ=Object.freeze(Object.defineProperty({__proto__:null,default:jJ,getFunctionName:eO},Symbol.toStringTag,{value:"Module"}));function Jn(e){if(typeof e!="string")throw new Error(cl(7));return e.charAt(0).toUpperCase()+e.slice(1)}const VJ=Object.freeze(Object.defineProperty({__proto__:null,default:Jn},Symbol.toStringTag,{value:"Module"}));function LJ(...e){return e.reduce((t,n)=>n==null?t:function(...i){t.apply(this,i),n.apply(this,i)},()=>{})}function NJ(e,t=166){let n;function r(...i){const s=()=>{e.apply(this,i)};clearTimeout(n),n=setTimeout(s,t)}return r.clear=()=>{clearTimeout(n)},r}function BJ(e,t){return()=>null}function $J(e,t){var n,r;return A.isValidElement(e)&&t.indexOf((n=e.type.muiName)!=null?n:(r=e.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function nO(e){return e&&e.ownerDocument||document}function DJ(e){return nO(e).defaultView||window}function FJ(e,t){return()=>null}function rO(e,t){typeof e=="function"?e(t):e&&(e.current=t)}const iO=typeof window<"u"?A.useLayoutEffect:A.useEffect;let MC=0;function zJ(e){const[t,n]=A.useState(e),r=e||t;return A.useEffect(()=>{t==null&&(MC+=1,n(`mui-${MC}`))},[t]),r}const PC=rg.useId;function UJ(e){if(PC!==void 0){const t=PC();return e??t}return zJ(e)}function HJ(e,t,n,r,i){return null}function GJ({controlled:e,default:t,name:n,state:r="value"}){const{current:i}=A.useRef(e!==void 0),[s,o]=A.useState(t),a=i?e:s,l=A.useCallback(c=>{i||o(c)},[]);return[a,l]}function ad(e){const t=A.useRef(e);return iO(()=>{t.current=e}),A.useRef((...n)=>(0,t.current)(...n)).current}function y1(...e){return A.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(n=>{rO(n,t)})},e)}const jC={};function qJ(e,t){const n=A.useRef(jC);return n.current===jC&&(n.current=e(t)),n}const WJ=[];function KJ(e){A.useEffect(e,WJ)}class w0{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new w0}start(t,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},t)}}function YJ(){const e=qJ(w0.create).current;return KJ(e.disposeEffect),e}let E0=!0,A1=!1;const QJ=new w0,JJ={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function XJ(e){const{type:t,tagName:n}=e;return!!(n==="INPUT"&&JJ[t]&&!e.readOnly||n==="TEXTAREA"&&!e.readOnly||e.isContentEditable)}function ZJ(e){e.metaKey||e.altKey||e.ctrlKey||(E0=!0)}function ry(){E0=!1}function eX(){this.visibilityState==="hidden"&&A1&&(E0=!0)}function tX(e){e.addEventListener("keydown",ZJ,!0),e.addEventListener("mousedown",ry,!0),e.addEventListener("pointerdown",ry,!0),e.addEventListener("touchstart",ry,!0),e.addEventListener("visibilitychange",eX,!0)}function nX(e){const{target:t}=e;try{return t.matches(":focus-visible")}catch{}return E0||XJ(t)}function sO(){const e=A.useCallback(i=>{i!=null&&tX(i.ownerDocument)},[]),t=A.useRef(!1);function n(){return t.current?(A1=!0,QJ.start(100,()=>{A1=!1}),t.current=!1,!0):!1}function r(i){return nX(i)?(t.current=!0,!0):!1}return{isFocusVisibleRef:t,onFocus:r,onBlur:n,ref:e}}function oO(e,t){const n=Pe({},t);return Object.keys(e).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=Pe({},e[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=e[r]||{},s=t[r];n[r]={},!s||!Object.keys(s)?n[r]=i:!i||!Object.keys(i)?n[r]=s:(n[r]=Pe({},s),Object.keys(i).forEach(o=>{n[r][o]=oO(i[o],s[o])}))}else n[r]===void 0&&(n[r]=e[r])}),n}function Zf(e,t,n=void 0){const r={};return Object.keys(e).forEach(i=>{r[i]=e[i].reduce((s,o)=>{if(o){const a=t(o);a!==""&&s.push(a),n&&n[o]&&s.push(n[o])}return s},[]).join(" ")}),r}const OC=e=>e,rX=()=>{let e=OC;return{configure(t){e=t},generate(t){return e(t)},reset(){e=OC}}},iX=rX(),aO=iX,sX={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function mu(e,t,n="Mui"){const r=sX[t];return r?`${n}-${r}`:`${aO.generate(e)}-${t}`}function vu(e,t,n="Mui"){const r={};return t.forEach(i=>{r[i]=mu(e,i,n)}),r}function lO(e,t=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(t,Math.min(e,n))}const oX=Object.freeze(Object.defineProperty({__proto__:null,default:lO},Symbol.toStringTag,{value:"Module"}));function br(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function cO(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=cO(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Lr(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=cO(e))&&(r&&(r+=" "),r+=t);return r}function aX(e){const{theme:t,name:n,props:r}=e;return!t||!t.components||!t.components[n]||!t.components[n].defaultProps?r:oO(t.components[n].defaultProps,r)}const lX=["values","unit","step"],cX=e=>{const t=Object.keys(e).map(n=>({key:n,val:e[n]}))||[];return t.sort((n,r)=>n.val-r.val),t.reduce((n,r)=>Pe({},n,{[r.key]:r.val}),{})};function uO(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=e,i=br(e,lX),s=cX(t),o=Object.keys(s);function a(h){return`@media (min-width:${typeof t[h]=="number"?t[h]:h}${n})`}function l(h){return`@media (max-width:${(typeof t[h]=="number"?t[h]:h)-r/100}${n})`}function c(h,p){const g=o.indexOf(p);return`@media (min-width:${typeof t[h]=="number"?t[h]:h}${n}) and (max-width:${(g!==-1&&typeof t[o[g]]=="number"?t[o[g]]:p)-r/100}${n})`}function u(h){return o.indexOf(h)+1<o.length?c(h,o[o.indexOf(h)+1]):a(h)}function d(h){const p=o.indexOf(h);return p===0?a(o[1]):p===o.length-1?l(o[p]):c(h,o[o.indexOf(h)+1]).replace("@media","@media not all and")}return Pe({keys:o,values:s,up:a,down:l,between:c,only:u,not:d,unit:n},i)}const uX={borderRadius:4},dX=uX;function Rd(e,t){return t?fs(e,t,{clone:!1}):e}const LS={xs:0,sm:600,md:900,lg:1200,xl:1536},VC={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${LS[e]}px)`};function yo(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const s=r.breakpoints||VC;return t.reduce((o,a,l)=>(o[s.up(s.keys[l])]=n(t[l]),o),{})}if(typeof t=="object"){const s=r.breakpoints||VC;return Object.keys(t).reduce((o,a)=>{if(Object.keys(s.values||LS).indexOf(a)!==-1){const l=s.up(a);o[l]=n(t[a],a)}else{const l=a;o[l]=t[l]}return o},{})}return n(t)}function dO(e={}){var t;return((t=e.keys)==null?void 0:t.reduce((r,i)=>{const s=e.up(i);return r[s]={},r},{}))||{}}function fO(e,t){return e.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},t)}function MAe(e,...t){const n=dO(e),r=[n,...t].reduce((i,s)=>fs(i,s),{});return fO(Object.keys(n),r)}function fX(e,t){if(typeof e!="object")return{};const n={},r=Object.keys(t);return Array.isArray(e)?r.forEach((i,s)=>{s<e.length&&(n[i]=!0)}):r.forEach(i=>{e[i]!=null&&(n[i]=!0)}),n}function PAe({values:e,breakpoints:t,base:n}){const r=n||fX(e,t),i=Object.keys(r);if(i.length===0)return e;let s;return i.reduce((o,a,l)=>(Array.isArray(e)?(o[a]=e[l]!=null?e[l]:e[s],s=l):typeof e=="object"?(o[a]=e[a]!=null?e[a]:e[s],s=a):o[a]=e,o),{})}function k0(e,t,n=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&n){const r=`vars.${t}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,e);if(r!=null)return r}return t.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,e)}function Og(e,t,n,r=n){let i;return typeof e=="function"?i=e(n):Array.isArray(e)?i=e[n]||r:i=k0(e,n)||r,t&&(i=t(i,r,e)),i}function wn(e){const{prop:t,cssProperty:n=e.prop,themeKey:r,transform:i}=e,s=o=>{if(o[t]==null)return null;const a=o[t],l=o.theme,c=k0(l,r)||{};return yo(o,a,d=>{let h=Og(c,i,d);return d===h&&typeof d=="string"&&(h=Og(c,i,`${t}${d==="default"?"":Jn(d)}`,d)),n===!1?h:{[n]:h}})};return s.propTypes={},s.filterProps=[t],s}function hX(e){const t={};return n=>(t[n]===void 0&&(t[n]=e(n)),t[n])}const pX={m:"margin",p:"padding"},gX={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},LC={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},mX=hX(e=>{if(e.length>2)if(LC[e])e=LC[e];else return[e];const[t,n]=e.split(""),r=pX[t],i=gX[n]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),NS=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],BS=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...NS,...BS];function eh(e,t,n,r){var i;const s=(i=k0(e,t,!1))!=null?i:n;return typeof s=="number"?o=>typeof o=="string"?o:s*o:Array.isArray(s)?o=>typeof o=="string"?o:s[o]:typeof s=="function"?s:()=>{}}function hO(e){return eh(e,"spacing",8)}function th(e,t){if(typeof t=="string"||t==null)return t;const n=Math.abs(t),r=e(n);return t>=0?r:typeof r=="number"?-r:`-${r}`}function vX(e,t){return n=>e.reduce((r,i)=>(r[i]=th(t,n),r),{})}function yX(e,t,n,r){if(t.indexOf(n)===-1)return null;const i=mX(n),s=vX(i,r),o=e[n];return yo(e,o,s)}function pO(e,t){const n=hO(e.theme);return Object.keys(e).map(r=>yX(e,t,r,n)).reduce(Rd,{})}function ln(e){return pO(e,NS)}ln.propTypes={};ln.filterProps=NS;function cn(e){return pO(e,BS)}cn.propTypes={};cn.filterProps=BS;function AX(e=8){if(e.mui)return e;const t=hO({spacing:e}),n=(...r)=>(r.length===0?[1]:r).map(s=>{const o=t(s);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}function C0(...e){const t=e.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),n=r=>Object.keys(r).reduce((i,s)=>t[s]?Rd(i,t[s](r)):i,{});return n.propTypes={},n.filterProps=e.reduce((r,i)=>r.concat(i.filterProps),[]),n}function Ii(e){return typeof e!="number"?e:`${e}px solid`}function Wi(e,t){return wn({prop:e,themeKey:"borders",transform:t})}const _X=Wi("border",Ii),bX=Wi("borderTop",Ii),SX=Wi("borderRight",Ii),xX=Wi("borderBottom",Ii),wX=Wi("borderLeft",Ii),EX=Wi("borderColor"),kX=Wi("borderTopColor"),CX=Wi("borderRightColor"),TX=Wi("borderBottomColor"),IX=Wi("borderLeftColor"),RX=Wi("outline",Ii),MX=Wi("outlineColor"),T0=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=eh(e.theme,"shape.borderRadius",4),n=r=>({borderRadius:th(t,r)});return yo(e,e.borderRadius,n)}return null};T0.propTypes={};T0.filterProps=["borderRadius"];C0(_X,bX,SX,xX,wX,EX,kX,CX,TX,IX,T0,RX,MX);const I0=e=>{if(e.gap!==void 0&&e.gap!==null){const t=eh(e.theme,"spacing",8),n=r=>({gap:th(t,r)});return yo(e,e.gap,n)}return null};I0.propTypes={};I0.filterProps=["gap"];const R0=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=eh(e.theme,"spacing",8),n=r=>({columnGap:th(t,r)});return yo(e,e.columnGap,n)}return null};R0.propTypes={};R0.filterProps=["columnGap"];const M0=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=eh(e.theme,"spacing",8),n=r=>({rowGap:th(t,r)});return yo(e,e.rowGap,n)}return null};M0.propTypes={};M0.filterProps=["rowGap"];const PX=wn({prop:"gridColumn"}),jX=wn({prop:"gridRow"}),OX=wn({prop:"gridAutoFlow"}),VX=wn({prop:"gridAutoColumns"}),LX=wn({prop:"gridAutoRows"}),NX=wn({prop:"gridTemplateColumns"}),BX=wn({prop:"gridTemplateRows"}),$X=wn({prop:"gridTemplateAreas"}),DX=wn({prop:"gridArea"});C0(I0,R0,M0,PX,jX,OX,VX,LX,NX,BX,$X,DX);function kc(e,t){return t==="grey"?t:e}const FX=wn({prop:"color",themeKey:"palette",transform:kc}),zX=wn({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:kc}),UX=wn({prop:"backgroundColor",themeKey:"palette",transform:kc});C0(FX,zX,UX);function ti(e){return e<=1&&e!==0?`${e*100}%`:e}const HX=wn({prop:"width",transform:ti}),$S=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=n=>{var r,i;const s=((r=e.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[n])||LS[n];return s?((i=e.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${s}${e.theme.breakpoints.unit}`}:{maxWidth:s}:{maxWidth:ti(n)}};return yo(e,e.maxWidth,t)}return null};$S.filterProps=["maxWidth"];const GX=wn({prop:"minWidth",transform:ti}),qX=wn({prop:"height",transform:ti}),WX=wn({prop:"maxHeight",transform:ti}),KX=wn({prop:"minHeight",transform:ti});wn({prop:"size",cssProperty:"width",transform:ti});wn({prop:"size",cssProperty:"height",transform:ti});const YX=wn({prop:"boxSizing"});C0(HX,$S,GX,qX,WX,KX,YX);const QX={border:{themeKey:"borders",transform:Ii},borderTop:{themeKey:"borders",transform:Ii},borderRight:{themeKey:"borders",transform:Ii},borderBottom:{themeKey:"borders",transform:Ii},borderLeft:{themeKey:"borders",transform:Ii},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Ii},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:T0},color:{themeKey:"palette",transform:kc},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:kc},backgroundColor:{themeKey:"palette",transform:kc},p:{style:cn},pt:{style:cn},pr:{style:cn},pb:{style:cn},pl:{style:cn},px:{style:cn},py:{style:cn},padding:{style:cn},paddingTop:{style:cn},paddingRight:{style:cn},paddingBottom:{style:cn},paddingLeft:{style:cn},paddingX:{style:cn},paddingY:{style:cn},paddingInline:{style:cn},paddingInlineStart:{style:cn},paddingInlineEnd:{style:cn},paddingBlock:{style:cn},paddingBlockStart:{style:cn},paddingBlockEnd:{style:cn},m:{style:ln},mt:{style:ln},mr:{style:ln},mb:{style:ln},ml:{style:ln},mx:{style:ln},my:{style:ln},margin:{style:ln},marginTop:{style:ln},marginRight:{style:ln},marginBottom:{style:ln},marginLeft:{style:ln},marginX:{style:ln},marginY:{style:ln},marginInline:{style:ln},marginInlineStart:{style:ln},marginInlineEnd:{style:ln},marginBlock:{style:ln},marginBlockStart:{style:ln},marginBlockEnd:{style:ln},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:I0},rowGap:{style:M0},columnGap:{style:R0},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:ti},maxWidth:{style:$S},minWidth:{transform:ti},height:{transform:ti},maxHeight:{transform:ti},minHeight:{transform:ti},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},nh=QX;function JX(...e){const t=e.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(t);return e.every(r=>n.size===Object.keys(r).length)}function XX(e,t){return typeof e=="function"?e(t):e}function gO(){function e(n,r,i,s){const o={[n]:r,theme:i},a=s[n];if(!a)return{[n]:r};const{cssProperty:l=n,themeKey:c,transform:u,style:d}=a;if(r==null)return null;if(c==="typography"&&r==="inherit")return{[n]:r};const h=k0(i,c)||{};return d?d(o):yo(o,r,g=>{let m=Og(h,u,g);return g===m&&typeof g=="string"&&(m=Og(h,u,`${n}${g==="default"?"":Jn(g)}`,g)),l===!1?m:{[l]:m}})}function t(n){var r;const{sx:i,theme:s={}}=n||{};if(!i)return null;const o=(r=s.unstable_sxConfig)!=null?r:nh;function a(l){let c=l;if(typeof l=="function")c=l(s);else if(typeof l!="object")return l;if(!c)return null;const u=dO(s.breakpoints),d=Object.keys(u);let h=u;return Object.keys(c).forEach(p=>{const g=XX(c[p],s);if(g!=null)if(typeof g=="object")if(o[p])h=Rd(h,e(p,g,s,o));else{const m=yo({theme:s},g,_=>({[p]:_}));JX(m,g)?h[p]=t({sx:g,theme:s}):h=Rd(h,m)}else h=Rd(h,e(p,g,s,o))}),fO(d,h)}return Array.isArray(i)?i.map(a):a(i)}return t}const mO=gO();mO.filterProps=["sx"];const DS=mO;function vO(e,t){const n=this;return n.vars&&typeof n.getColorSchemeSelector=="function"?{[n.getColorSchemeSelector(e).replace(/(\[[^\]]+\])/,"*:where($1)")]:t}:n.palette.mode===e?t:{}}const ZX=["breakpoints","palette","spacing","shape"];function FS(e={},...t){const{breakpoints:n={},palette:r={},spacing:i,shape:s={}}=e,o=br(e,ZX),a=uO(n),l=AX(i);let c=fs({breakpoints:a,direction:"ltr",components:{},palette:Pe({mode:"light"},r),spacing:l,shape:Pe({},dX,s)},o);return c.applyStyles=vO,c=t.reduce((u,d)=>fs(u,d),c),c.unstable_sxConfig=Pe({},nh,o==null?void 0:o.unstable_sxConfig),c.unstable_sx=function(d){return DS({sx:d,theme:this})},c}const eZ=Object.freeze(Object.defineProperty({__proto__:null,default:FS,private_createBreakpoints:uO,unstable_applyStyles:vO},Symbol.toStringTag,{value:"Module"}));var tZ=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],_1=C.bind();tZ.forEach(function(e){_1[e]=_1(e)});let b1;typeof document=="object"&&(b1=pS({key:"css",prepend:!0}));function nZ(e){const{injectFirst:t,children:n}=e;return t&&b1?f.jsx(m3,{value:b1,children:n}):n}function rZ(e){return e==null||Object.keys(e).length===0}function iZ(e){const{styles:t,defaultTheme:n={}}=e,r=typeof t=="function"?i=>t(rZ(i)?n:i):t;return f.jsx(wW,{styles:r})}function sZ(e,t){return _1(e,t)}const oZ=(e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))},aZ=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:iZ,StyledEngineProvider:nZ,ThemeContext:Yf,css:ui,default:sZ,internal_processStyles:oZ,keyframes:ga},Symbol.toStringTag,{value:"Module"}));function lZ(e){return Object.keys(e).length===0}function yO(e=null){const t=A.useContext(Yf);return!t||lZ(t)?e:t}const cZ=FS();function uZ(e=cZ){return yO(e)}function dZ({props:e,name:t,defaultTheme:n,themeId:r}){let i=uZ(n);return r&&(i=i[r]||i),aX({theme:i,name:t,props:e})}const fZ=["sx"],hZ=e=>{var t,n;const r={systemProps:{},otherProps:{}},i=(t=e==null||(n=e.theme)==null?void 0:n.unstable_sxConfig)!=null?t:nh;return Object.keys(e).forEach(s=>{i[s]?r.systemProps[s]=e[s]:r.otherProps[s]=e[s]}),r};function pZ(e){const{sx:t}=e,n=br(e,fZ),{systemProps:r,otherProps:i}=hZ(n);let s;return Array.isArray(t)?s=[r,...t]:typeof t=="function"?s=(...o)=>{const a=t(...o);return Do(a)?Pe({},r,a):r}:s=Pe({},r,t),Pe({},i,{sx:s})}const gZ=Object.freeze(Object.defineProperty({__proto__:null,default:DS,extendSxProp:pZ,unstable_createStyleFunctionSx:gO,unstable_defaultSxConfig:nh},Symbol.toStringTag,{value:"Module"}));function mZ(e,t){return Pe({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},t)}var En={};const vZ=Ks(IJ),yZ=Ks(oX);var AO=st;Object.defineProperty(En,"__esModule",{value:!0});var NC=En.alpha=xO;En.blend=MZ;En.colorChannel=void 0;var AZ=En.darken=US;En.decomposeColor=zi;En.emphasize=RZ;var _Z=En.getContrastRatio=kZ;En.getLuminance=Vg;En.hexToRgb=_O;En.hslToRgb=SO;var bZ=En.lighten=HS;En.private_safeAlpha=CZ;En.private_safeColorChannel=void 0;En.private_safeDarken=TZ;En.private_safeEmphasize=wO;En.private_safeLighten=IZ;En.recomposeColor=yu;En.rgbToHex=EZ;var BC=AO(vZ),SZ=AO(yZ);function zS(e,t=0,n=1){return(0,SZ.default)(e,t,n)}function _O(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function xZ(e){const t=e.toString(16);return t.length===1?`0${t}`:t}function zi(e){if(e.type)return e;if(e.charAt(0)==="#")return zi(_O(e));const t=e.indexOf("("),n=e.substring(0,t);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error((0,BC.default)(9,e));let r=e.substring(t+1,e.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error((0,BC.default)(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}const bO=e=>{const t=zi(e);return t.values.slice(0,3).map((n,r)=>t.type.indexOf("hsl")!==-1&&r!==0?`${n}%`:n).join(" ")};En.colorChannel=bO;const wZ=(e,t)=>{try{return bO(e)}catch{return e}};En.private_safeColorChannel=wZ;function yu(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return t.indexOf("rgb")!==-1?r=r.map((i,s)=>s<3?parseInt(i,10):i):t.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),t.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${t}(${r})`}function EZ(e){if(e.indexOf("#")===0)return e;const{values:t}=zi(e);return`#${t.map((n,r)=>xZ(r===3?Math.round(255*n):n)).join("")}`}function SO(e){e=zi(e);const{values:t}=e,n=t[0],r=t[1]/100,i=t[2]/100,s=r*Math.min(i,1-i),o=(c,u=(c+n/30)%12)=>i-s*Math.max(Math.min(u-3,9-u,1),-1);let a="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return e.type==="hsla"&&(a+="a",l.push(t[3])),yu({type:a,values:l})}function Vg(e){e=zi(e);let t=e.type==="hsl"||e.type==="hsla"?zi(SO(e)).values:e.values;return t=t.map(n=>(e.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function kZ(e,t){const n=Vg(e),r=Vg(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function xO(e,t){return e=zi(e),t=zS(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,yu(e)}function CZ(e,t,n){try{return xO(e,t)}catch{return e}}function US(e,t){if(e=zi(e),t=zS(t),e.type.indexOf("hsl")!==-1)e.values[2]*=1-t;else if(e.type.indexOf("rgb")!==-1||e.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)e.values[n]*=1-t;return yu(e)}function TZ(e,t,n){try{return US(e,t)}catch{return e}}function HS(e,t){if(e=zi(e),t=zS(t),e.type.indexOf("hsl")!==-1)e.values[2]+=(100-e.values[2])*t;else if(e.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(e.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return yu(e)}function IZ(e,t,n){try{return HS(e,t)}catch{return e}}function RZ(e,t=.15){return Vg(e)>.5?US(e,t):HS(e,t)}function wO(e,t,n){try{return wO(e,t)}catch{return e}}function MZ(e,t,n,r=1){const i=(l,c)=>Math.round((l**(1/r)*(1-n)+c**(1/r)*n)**r),s=zi(e),o=zi(t),a=[i(s.values[0],o.values[0]),i(s.values[1],o.values[1]),i(s.values[2],o.values[2])];return yu({type:"rgb",values:a})}const PZ={black:"#000",white:"#fff"},uf=PZ,jZ={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},OZ=jZ,VZ={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Ll=VZ,LZ={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Nl=LZ,NZ={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},$u=NZ,BZ={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Bl=BZ,$Z={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},$l=$Z,DZ={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Dl=DZ,FZ=["mode","contrastThreshold","tonalOffset"],$C={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:uf.white,default:uf.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},iy={text:{primary:uf.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:uf.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function DC(e,t,n,r){const i=r.light||r,s=r.dark||r*1.5;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:t==="light"?e.light=bZ(e.main,i):t==="dark"&&(e.dark=AZ(e.main,s)))}function zZ(e="light"){return e==="dark"?{main:Bl[200],light:Bl[50],dark:Bl[400]}:{main:Bl[700],light:Bl[400],dark:Bl[800]}}function UZ(e="light"){return e==="dark"?{main:Ll[200],light:Ll[50],dark:Ll[400]}:{main:Ll[500],light:Ll[300],dark:Ll[700]}}function HZ(e="light"){return e==="dark"?{main:Nl[500],light:Nl[300],dark:Nl[700]}:{main:Nl[700],light:Nl[400],dark:Nl[800]}}function GZ(e="light"){return e==="dark"?{main:$l[400],light:$l[300],dark:$l[700]}:{main:$l[700],light:$l[500],dark:$l[900]}}function qZ(e="light"){return e==="dark"?{main:Dl[400],light:Dl[300],dark:Dl[700]}:{main:Dl[800],light:Dl[500],dark:Dl[900]}}function WZ(e="light"){return e==="dark"?{main:$u[400],light:$u[300],dark:$u[700]}:{main:"#ed6c02",light:$u[500],dark:$u[900]}}function KZ(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:r=.2}=e,i=br(e,FZ),s=e.primary||zZ(t),o=e.secondary||UZ(t),a=e.error||HZ(t),l=e.info||GZ(t),c=e.success||qZ(t),u=e.warning||WZ(t);function d(m){return _Z(m,iy.text.primary)>=n?iy.text.primary:$C.text.primary}const h=({color:m,name:_,mainShade:v=500,lightShade:y=300,darkShade:b=700})=>{if(m=Pe({},m),!m.main&&m[v]&&(m.main=m[v]),!m.hasOwnProperty("main"))throw new Error(cl(11,_?` (${_})`:"",v));if(typeof m.main!="string")throw new Error(cl(12,_?` (${_})`:"",JSON.stringify(m.main)));return DC(m,"light",y,r),DC(m,"dark",b,r),m.contrastText||(m.contrastText=d(m.main)),m},p={dark:iy,light:$C};return fs(Pe({common:Pe({},uf),mode:t,primary:h({color:s,name:"primary"}),secondary:h({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:h({color:a,name:"error"}),warning:h({color:u,name:"warning"}),info:h({color:l,name:"info"}),success:h({color:c,name:"success"}),grey:OZ,contrastThreshold:n,getContrastText:d,augmentColor:h,tonalOffset:r},p[t]),i)}const YZ=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function QZ(e){return Math.round(e*1e5)/1e5}const FC={textTransform:"uppercase"},zC='"Roboto", "Helvetica", "Arial", sans-serif';function JZ(e,t){const n=typeof t=="function"?t(e):t,{fontFamily:r=zC,fontSize:i=14,fontWeightLight:s=300,fontWeightRegular:o=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:c=16,allVariants:u,pxToRem:d}=n,h=br(n,YZ),p=i/14,g=d||(v=>`${v/c*p}rem`),m=(v,y,b,x,S)=>Pe({fontFamily:r,fontWeight:v,fontSize:g(y),lineHeight:b},r===zC?{letterSpacing:`${QZ(x/y)}em`}:{},S,u),_={h1:m(s,96,1.167,-1.5),h2:m(s,60,1.2,-.5),h3:m(o,48,1.167,0),h4:m(o,34,1.235,.25),h5:m(o,24,1.334,0),h6:m(a,20,1.6,.15),subtitle1:m(o,16,1.75,.15),subtitle2:m(a,14,1.57,.1),body1:m(o,16,1.5,.15),body2:m(o,14,1.43,.15),button:m(a,14,1.75,.4,FC),caption:m(o,12,1.66,.4),overline:m(o,12,2.66,1,FC),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return fs(Pe({htmlFontSize:c,pxToRem:g,fontFamily:r,fontSize:i,fontWeightLight:s,fontWeightRegular:o,fontWeightMedium:a,fontWeightBold:l},_),h,{clone:!1})}const XZ=.2,ZZ=.14,eee=.12;function Wt(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${XZ})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${ZZ})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${eee})`].join(",")}const tee=["none",Wt(0,2,1,-1,0,1,1,0,0,1,3,0),Wt(0,3,1,-2,0,2,2,0,0,1,5,0),Wt(0,3,3,-2,0,3,4,0,0,1,8,0),Wt(0,2,4,-1,0,4,5,0,0,1,10,0),Wt(0,3,5,-1,0,5,8,0,0,1,14,0),Wt(0,3,5,-1,0,6,10,0,0,1,18,0),Wt(0,4,5,-2,0,7,10,1,0,2,16,1),Wt(0,5,5,-3,0,8,10,1,0,3,14,2),Wt(0,5,6,-3,0,9,12,1,0,3,16,2),Wt(0,6,6,-3,0,10,14,1,0,4,18,3),Wt(0,6,7,-4,0,11,15,1,0,4,20,3),Wt(0,7,8,-4,0,12,17,2,0,5,22,4),Wt(0,7,8,-4,0,13,19,2,0,5,24,4),Wt(0,7,9,-4,0,14,21,2,0,5,26,4),Wt(0,8,9,-5,0,15,22,2,0,6,28,5),Wt(0,8,10,-5,0,16,24,2,0,6,30,5),Wt(0,8,11,-5,0,17,26,2,0,6,32,5),Wt(0,9,11,-5,0,18,28,2,0,7,34,6),Wt(0,9,12,-6,0,19,29,2,0,7,36,6),Wt(0,10,13,-6,0,20,31,3,0,8,38,7),Wt(0,10,13,-6,0,21,33,3,0,8,40,7),Wt(0,10,14,-6,0,22,35,3,0,8,42,7),Wt(0,11,14,-7,0,23,36,3,0,9,44,8),Wt(0,11,15,-7,0,24,38,3,0,9,46,8)],nee=["duration","easing","delay"],ree={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},iee={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function UC(e){return`${Math.round(e)}ms`}function see(e){if(!e)return 0;const t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function oee(e){const t=Pe({},ree,e.easing),n=Pe({},iee,e.duration);return Pe({getAutoHeightDuration:see,create:(i=["all"],s={})=>{const{duration:o=n.standard,easing:a=t.easeInOut,delay:l=0}=s;return br(s,nee),(Array.isArray(i)?i:[i]).map(c=>`${c} ${typeof o=="string"?o:UC(o)} ${a} ${typeof l=="string"?l:UC(l)}`).join(",")}},e,{easing:t,duration:n})}const aee={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},lee=aee,cee=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function EO(e={},...t){const{mixins:n={},palette:r={},transitions:i={},typography:s={}}=e,o=br(e,cee);if(e.vars)throw new Error(cl(18));const a=KZ(r),l=FS(e);let c=fs(l,{mixins:mZ(l.breakpoints,n),palette:a,shadows:tee.slice(),typography:JZ(a,s),transitions:oee(i),zIndex:Pe({},lee)});return c=fs(c,o),c=t.reduce((u,d)=>fs(u,d),c),c.unstable_sxConfig=Pe({},nh,o==null?void 0:o.unstable_sxConfig),c.unstable_sx=function(d){return DS({sx:d,theme:this})},c}const uee=EO(),kO=uee,Lg="$$material";function Au({props:e,name:t}){return dZ({props:e,name:t,defaultTheme:kO,themeId:Lg})}var rh={},sy={exports:{}},HC;function dee(){return HC||(HC=1,function(e){function t(){return e.exports=t=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(this,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(sy)),sy.exports}var oy={exports:{}},GC;function fee(){return GC||(GC=1,function(e){function t(n,r){if(n==null)return{};var i={},s=Object.keys(n),o,a;for(a=0;a<s.length;a++)o=s[a],!(r.indexOf(o)>=0)&&(i[o]=n[o]);return i}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(oy)),oy.exports}const hee=Ks(aZ),pee=Ks(xJ),gee=Ks(VJ),mee=Ks(OJ),vee=Ks(eZ),yee=Ks(gZ);var _u=st;Object.defineProperty(rh,"__esModule",{value:!0});var Aee=rh.default=Pee;rh.shouldForwardProp=Fp;rh.systemDefaultTheme=void 0;var wi=_u(dee()),S1=_u(fee()),qC=kee(hee),_ee=pee;_u(gee);_u(mee);var bee=_u(vee),See=_u(yee);const xee=["ownerState"],wee=["variants"],Eee=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function CO(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(CO=function(r){return r?n:t})(e)}function kee(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=CO(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(s!=="default"&&Object.prototype.hasOwnProperty.call(e,s)){var o=i?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=e[s]}return r.default=e,n&&n.set(e,r),r}function Cee(e){return Object.keys(e).length===0}function Tee(e){return typeof e=="string"&&e.charCodeAt(0)>96}function Fp(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const Iee=rh.systemDefaultTheme=(0,bee.default)(),Ree=e=>e&&e.charAt(0).toLowerCase()+e.slice(1);function Wh({defaultTheme:e,theme:t,themeId:n}){return Cee(t)?e:t[n]||t}function Mee(e){return e?(t,n)=>n[e]:null}function zp(e,t){let{ownerState:n}=t,r=(0,S1.default)(t,xee);const i=typeof e=="function"?e((0,wi.default)({ownerState:n},r)):e;if(Array.isArray(i))return i.flatMap(s=>zp(s,(0,wi.default)({ownerState:n},r)));if(i&&typeof i=="object"&&Array.isArray(i.variants)){const{variants:s=[]}=i;let a=(0,S1.default)(i,wee);return s.forEach(l=>{let c=!0;typeof l.props=="function"?c=l.props((0,wi.default)({ownerState:n},r,n)):Object.keys(l.props).forEach(u=>{(n==null?void 0:n[u])!==l.props[u]&&r[u]!==l.props[u]&&(c=!1)}),c&&(Array.isArray(a)||(a=[a]),a.push(typeof l.style=="function"?l.style((0,wi.default)({ownerState:n},r,n)):l.style))}),a}return i}function Pee(e={}){const{themeId:t,defaultTheme:n=Iee,rootShouldForwardProp:r=Fp,slotShouldForwardProp:i=Fp}=e,s=o=>(0,See.default)((0,wi.default)({},o,{theme:Wh((0,wi.default)({},o,{defaultTheme:n,themeId:t}))}));return s.__mui_systemSx=!0,(o,a={})=>{(0,qC.internal_processStyles)(o,S=>S.filter(w=>!(w!=null&&w.__mui_systemSx)));const{name:l,slot:c,skipVariantsResolver:u,skipSx:d,overridesResolver:h=Mee(Ree(c))}=a,p=(0,S1.default)(a,Eee),g=u!==void 0?u:c&&c!=="Root"&&c!=="root"||!1,m=d||!1;let _,v=Fp;c==="Root"||c==="root"?v=r:c?v=i:Tee(o)&&(v=void 0);const y=(0,qC.default)(o,(0,wi.default)({shouldForwardProp:v,label:_},p)),b=S=>typeof S=="function"&&S.__emotion_real!==S||(0,_ee.isPlainObject)(S)?w=>zp(S,(0,wi.default)({},w,{theme:Wh({theme:w.theme,defaultTheme:n,themeId:t})})):S,x=(S,...w)=>{let E=b(S);const I=w?w.map(b):[];l&&h&&I.push(D=>{const Q=Wh((0,wi.default)({},D,{defaultTheme:n,themeId:t}));if(!Q.components||!Q.components[l]||!Q.components[l].styleOverrides)return null;const P=Q.components[l].styleOverrides,L={};return Object.entries(P).forEach(([M,T])=>{L[M]=zp(T,(0,wi.default)({},D,{theme:Q}))}),h(D,L)}),l&&!g&&I.push(D=>{var Q;const P=Wh((0,wi.default)({},D,{defaultTheme:n,themeId:t})),L=P==null||(Q=P.components)==null||(Q=Q[l])==null?void 0:Q.variants;return zp({variants:L},(0,wi.default)({},D,{theme:P}))}),m||I.push(s);const z=I.length-w.length;if(Array.isArray(S)&&z>0){const D=new Array(z).fill("");E=[...S,...D],E.raw=[...S.raw,...D]}const N=y(E,...I);return o.muiName&&(N.muiName=o.muiName),N};return y.withConfig&&(x.withConfig=y.withConfig),x}}function jee(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const Oee=e=>jee(e)&&e!=="classes",To=Aee({themeId:Lg,defaultTheme:kO,rootShouldForwardProp:Oee});function Vee(e){return mu("MuiSvgIcon",e)}vu("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const Lee=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],Nee=e=>{const{color:t,fontSize:n,classes:r}=e,i={root:["root",t!=="inherit"&&`color${Jn(t)}`,`fontSize${Jn(n)}`]};return Zf(i,Vee,r)},Bee=To("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="inherit"&&t[`color${Jn(n.color)}`],t[`fontSize${Jn(n.fontSize)}`]]}})(({theme:e,ownerState:t})=>{var n,r,i,s,o,a,l,c,u,d,h,p,g;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:t.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(n=e.transitions)==null||(r=n.create)==null?void 0:r.call(n,"fill",{duration:(i=e.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((s=e.typography)==null||(o=s.pxToRem)==null?void 0:o.call(s,20))||"1.25rem",medium:((a=e.typography)==null||(l=a.pxToRem)==null?void 0:l.call(a,24))||"1.5rem",large:((c=e.typography)==null||(u=c.pxToRem)==null?void 0:u.call(c,35))||"2.1875rem"}[t.fontSize],color:(d=(h=(e.vars||e).palette)==null||(h=h[t.color])==null?void 0:h.main)!=null?d:{action:(p=(e.vars||e).palette)==null||(p=p.action)==null?void 0:p.active,disabled:(g=(e.vars||e).palette)==null||(g=g.action)==null?void 0:g.disabled,inherit:void 0}[t.color]}}),x1=A.forwardRef(function(t,n){const r=Au({props:t,name:"MuiSvgIcon"}),{children:i,className:s,color:o="inherit",component:a="svg",fontSize:l="medium",htmlColor:c,inheritViewBox:u=!1,titleAccess:d,viewBox:h="0 0 24 24"}=r,p=br(r,Lee),g=A.isValidElement(i)&&i.type==="svg",m=Pe({},r,{color:o,component:a,fontSize:l,instanceFontSize:t.fontSize,inheritViewBox:u,viewBox:h,hasSvgAsChild:g}),_={};u||(_.viewBox=h);const v=Nee(m);return f.jsxs(Bee,Pe({as:a,className:Lr(v.root,s),focusable:"false",color:c,"aria-hidden":d?void 0:!0,role:d?"img":void 0,ref:n},_,p,g&&i.props,{ownerState:m,children:[g?i.props.children:i,d?f.jsx("title",{children:d}):null]}))});x1.muiName="SvgIcon";function $ee(e,t){function n(r,i){return f.jsx(x1,Pe({"data-testid":`${t}Icon`,ref:i},r,{children:e}))}return n.muiName=x1.muiName,A.memo(A.forwardRef(n))}const Dee={configure:e=>{aO.configure(e)}},Fee=Object.freeze(Object.defineProperty({__proto__:null,capitalize:Jn,createChainedFunction:LJ,createSvgIcon:$ee,debounce:NJ,deprecatedPropType:BJ,isMuiElement:$J,ownerDocument:nO,ownerWindow:DJ,requirePropFactory:FJ,setRef:rO,unstable_ClassNameGenerator:Dee,unstable_useEnhancedEffect:iO,unstable_useId:UJ,unsupportedProp:HJ,useControlled:GJ,useEventCallback:ad,useForkRef:y1,useIsFocusVisible:sO},Symbol.toStringTag,{value:"Module"})),zee=Ks(Fee);var WC;function ct(){return WC||(WC=1,function(e){"use client";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.createSvgIcon}});var t=zee}(ny)),ny}var Uee=st;Object.defineProperty(jS,"__esModule",{value:!0});var TO=jS.default=void 0,Hee=Uee(ct()),Gee=f;TO=jS.default=(0,Hee.default)((0,Gee.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 17h-2v-2h2zm2.07-7.75-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25"}),"Help");var GS={},qee=st;Object.defineProperty(GS,"__esModule",{value:!0});var IO=GS.default=void 0,Wee=qee(ct()),Kee=f;IO=GS.default=(0,Wee.default)((0,Kee.jsx)("path",{d:"M11 18h2v-2h-2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4"}),"HelpOutline");var qS={},Yee=st;Object.defineProperty(qS,"__esModule",{value:!0});var df=qS.default=void 0,Qee=Yee(ct()),Jee=f;df=qS.default=(0,Qee.default)((0,Jee.jsx)("path",{d:"M15 21h-2v-2h2zm-2-7h-2v5h2zm8-2h-2v4h2zm-2-2h-2v2h2zM7 12H5v2h2zm-2-2H3v2h2zm7-5h2V3h-2zm-7.5-.5v3h3v-3zM9 9H3V3h6zm-4.5 7.5v3h3v-3zM9 21H3v-6h6zm7.5-16.5v3h3v-3zM21 9h-6V3h6zm-2 10v-3h-4v2h2v3h4v-2zm-2-7h-4v2h4zm-4-2H7v2h2v2h2v-2h2zm1-1V7h-2V5h-2v4zM6.75 5.25h-1.5v1.5h1.5zm0 12h-1.5v1.5h1.5zm12-12h-1.5v1.5h1.5z"}),"QrCode2");function w1(e,t){return w1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},w1(e,t)}function Xee(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,w1(e,t)}var RO={exports:{}},mi={},MO={exports:{}},PO={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(j,$){var V=j.length;j.push($);e:for(;0<V;){var G=V-1>>>1,F=j[G];if(0<i(F,$))j[G]=$,j[V]=F,V=G;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var $=j[0],V=j.pop();if(V!==$){j[0]=V;e:for(var G=0,F=j.length,ne=F>>>1;G<ne;){var O=2*(G+1)-1,fe=j[O],Z=O+1,ae=j[Z];if(0>i(fe,V))Z<F&&0>i(ae,fe)?(j[G]=ae,j[Z]=V,G=Z):(j[G]=fe,j[O]=V,G=O);else if(Z<F&&0>i(ae,V))j[G]=ae,j[Z]=V,G=Z;else break e}}return $}function i(j,$){var V=j.sortIndex-$.sortIndex;return V!==0?V:j.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,h=3,p=!1,g=!1,m=!1,_=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(j){for(var $=n(c);$!==null;){if($.callback===null)r(c);else if($.startTime<=j)r(c),$.sortIndex=$.expirationTime,t(l,$);else break;$=n(c)}}function x(j){if(m=!1,b(j),!g)if(n(l)!==null)g=!0,T(S);else{var $=n(c);$!==null&&U(x,$.startTime-j)}}function S(j,$){g=!1,m&&(m=!1,v(I),I=-1),p=!0;var V=h;try{for(b($),d=n(l);d!==null&&(!(d.expirationTime>$)||j&&!D());){var G=d.callback;if(typeof G=="function"){d.callback=null,h=d.priorityLevel;var F=G(d.expirationTime<=$);$=e.unstable_now(),typeof F=="function"?d.callback=F:d===n(l)&&r(l),b($)}else r(l);d=n(l)}if(d!==null)var ne=!0;else{var O=n(c);O!==null&&U(x,O.startTime-$),ne=!1}return ne}finally{d=null,h=V,p=!1}}var w=!1,E=null,I=-1,z=5,N=-1;function D(){return!(e.unstable_now()-N<z)}function Q(){if(E!==null){var j=e.unstable_now();N=j;var $=!0;try{$=E(!0,j)}finally{$?P():(w=!1,E=null)}}else w=!1}var P;if(typeof y=="function")P=function(){y(Q)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,M=L.port2;L.port1.onmessage=Q,P=function(){M.postMessage(null)}}else P=function(){_(Q,0)};function T(j){E=j,w||(w=!0,P())}function U(j,$){I=_(function(){j(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(j){j.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,T(S))},e.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<j?Math.floor(1e3/j):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(j){switch(h){case 1:case 2:case 3:var $=3;break;default:$=h}var V=h;h=$;try{return j()}finally{h=V}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(j,$){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var V=h;h=j;try{return $()}finally{h=V}},e.unstable_scheduleCallback=function(j,$,V){var G=e.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?G+V:G):V=G,j){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=V+F,j={id:u++,callback:$,priorityLevel:j,startTime:V,expirationTime:F,sortIndex:-1},V>G?(j.sortIndex=V,t(c,j),n(l)===null&&j===n(c)&&(m?(v(I),I=-1):m=!0,U(x,V-G))):(j.sortIndex=F,t(l,j),g||p||(g=!0,T(S))),j},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(j){var $=h;return function(){var V=h;h=$;try{return j.apply(this,arguments)}finally{h=V}}}})(PO);MO.exports=PO;var Zee=MO.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jO=A,fi=Zee;function oe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var OO=new Set,ff={};function Tl(e,t){Qc(e,t),Qc(e+"Capture",t)}function Qc(e,t){for(ff[e]=t,e=0;e<t.length;e++)OO.add(t[e])}var Ao=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),E1=Object.prototype.hasOwnProperty,ete=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,KC={},YC={};function tte(e){return E1.call(YC,e)?!0:E1.call(KC,e)?!1:ete.test(e)?YC[e]=!0:(KC[e]=!0,!1)}function nte(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function rte(e,t,n,r){if(t===null||typeof t>"u"||nte(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Pr(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var cr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){cr[e]=new Pr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];cr[t]=new Pr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){cr[e]=new Pr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){cr[e]=new Pr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){cr[e]=new Pr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){cr[e]=new Pr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){cr[e]=new Pr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){cr[e]=new Pr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){cr[e]=new Pr(e,5,!1,e.toLowerCase(),null,!1,!1)});var WS=/[\-:]([a-z])/g;function KS(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(WS,KS);cr[t]=new Pr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(WS,KS);cr[t]=new Pr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(WS,KS);cr[t]=new Pr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){cr[e]=new Pr(e,1,!1,e.toLowerCase(),null,!1,!1)});cr.xlinkHref=new Pr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){cr[e]=new Pr(e,1,!1,e.toLowerCase(),null,!0,!0)});function YS(e,t,n,r){var i=cr.hasOwnProperty(t)?cr[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(rte(t,n,i,r)&&(n=null),r||i===null?tte(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Io=jO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Kh=Symbol.for("react.element"),tc=Symbol.for("react.portal"),nc=Symbol.for("react.fragment"),QS=Symbol.for("react.strict_mode"),k1=Symbol.for("react.profiler"),VO=Symbol.for("react.provider"),LO=Symbol.for("react.context"),JS=Symbol.for("react.forward_ref"),C1=Symbol.for("react.suspense"),T1=Symbol.for("react.suspense_list"),XS=Symbol.for("react.memo"),No=Symbol.for("react.lazy"),NO=Symbol.for("react.offscreen"),QC=Symbol.iterator;function Du(e){return e===null||typeof e!="object"?null:(e=QC&&e[QC]||e["@@iterator"],typeof e=="function"?e:null)}var on=Object.assign,ay;function ld(e){if(ay===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ay=t&&t[1]||""}return`
`+ay+e}var ly=!1;function cy(e,t){if(!e||ly)return"";ly=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{ly=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ld(e):""}function ite(e){switch(e.tag){case 5:return ld(e.type);case 16:return ld("Lazy");case 13:return ld("Suspense");case 19:return ld("SuspenseList");case 0:case 2:case 15:return e=cy(e.type,!1),e;case 11:return e=cy(e.type.render,!1),e;case 1:return e=cy(e.type,!0),e;default:return""}}function I1(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case nc:return"Fragment";case tc:return"Portal";case k1:return"Profiler";case QS:return"StrictMode";case C1:return"Suspense";case T1:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case LO:return(e.displayName||"Context")+".Consumer";case VO:return(e._context.displayName||"Context")+".Provider";case JS:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case XS:return t=e.displayName||null,t!==null?t:I1(e.type)||"Memo";case No:t=e._payload,e=e._init;try{return I1(e(t))}catch{}}return null}function ste(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return I1(t);case 8:return t===QS?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ua(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function BO(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ote(e){var t=BO(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Yh(e){e._valueTracker||(e._valueTracker=ote(e))}function $O(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=BO(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ng(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function R1(e,t){var n=t.checked;return on({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function JC(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ua(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function DO(e,t){t=t.checked,t!=null&&YS(e,"checked",t,!1)}function M1(e,t){DO(e,t);var n=ua(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?P1(e,t.type,n):t.hasOwnProperty("defaultValue")&&P1(e,t.type,ua(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function XC(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function P1(e,t,n){(t!=="number"||Ng(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var cd=Array.isArray;function Cc(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ua(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function j1(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(oe(91));return on({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ZC(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(oe(92));if(cd(n)){if(1<n.length)throw Error(oe(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ua(n)}}function FO(e,t){var n=ua(t.value),r=ua(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function eT(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function zO(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function O1(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?zO(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Qh,UO=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Qh=Qh||document.createElement("div"),Qh.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Qh.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function hf(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Md={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ate=["Webkit","ms","Moz","O"];Object.keys(Md).forEach(function(e){ate.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Md[t]=Md[e]})});function HO(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Md.hasOwnProperty(e)&&Md[e]?(""+t).trim():t+"px"}function GO(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=HO(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var lte=on({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function V1(e,t){if(t){if(lte[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(oe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(oe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(oe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(oe(62))}}function L1(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var N1=null;function ZS(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var B1=null,Tc=null,Ic=null;function tT(e){if(e=oh(e)){if(typeof B1!="function")throw Error(oe(280));var t=e.stateNode;t&&(t=L0(t),B1(e.stateNode,e.type,t))}}function qO(e){Tc?Ic?Ic.push(e):Ic=[e]:Tc=e}function WO(){if(Tc){var e=Tc,t=Ic;if(Ic=Tc=null,tT(e),t)for(e=0;e<t.length;e++)tT(t[e])}}function KO(e,t){return e(t)}function YO(){}var uy=!1;function QO(e,t,n){if(uy)return e(t,n);uy=!0;try{return KO(e,t,n)}finally{uy=!1,(Tc!==null||Ic!==null)&&(YO(),WO())}}function pf(e,t){var n=e.stateNode;if(n===null)return null;var r=L0(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(oe(231,t,typeof n));return n}var $1=!1;if(Ao)try{var Fu={};Object.defineProperty(Fu,"passive",{get:function(){$1=!0}}),window.addEventListener("test",Fu,Fu),window.removeEventListener("test",Fu,Fu)}catch{$1=!1}function cte(e,t,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Pd=!1,Bg=null,$g=!1,D1=null,ute={onError:function(e){Pd=!0,Bg=e}};function dte(e,t,n,r,i,s,o,a,l){Pd=!1,Bg=null,cte.apply(ute,arguments)}function fte(e,t,n,r,i,s,o,a,l){if(dte.apply(this,arguments),Pd){if(Pd){var c=Bg;Pd=!1,Bg=null}else throw Error(oe(198));$g||($g=!0,D1=c)}}function Il(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function JO(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function nT(e){if(Il(e)!==e)throw Error(oe(188))}function hte(e){var t=e.alternate;if(!t){if(t=Il(e),t===null)throw Error(oe(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return nT(i),e;if(s===r)return nT(i),t;s=s.sibling}throw Error(oe(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(oe(189))}}if(n.alternate!==r)throw Error(oe(190))}if(n.tag!==3)throw Error(oe(188));return n.stateNode.current===n?e:t}function XO(e){return e=hte(e),e!==null?ZO(e):null}function ZO(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ZO(e);if(t!==null)return t;e=e.sibling}return null}var eV=fi.unstable_scheduleCallback,rT=fi.unstable_cancelCallback,pte=fi.unstable_shouldYield,gte=fi.unstable_requestPaint,bn=fi.unstable_now,mte=fi.unstable_getCurrentPriorityLevel,ex=fi.unstable_ImmediatePriority,tV=fi.unstable_UserBlockingPriority,Dg=fi.unstable_NormalPriority,vte=fi.unstable_LowPriority,nV=fi.unstable_IdlePriority,P0=null,Fs=null;function yte(e){if(Fs&&typeof Fs.onCommitFiberRoot=="function")try{Fs.onCommitFiberRoot(P0,e,void 0,(e.current.flags&128)===128)}catch{}}var hs=Math.clz32?Math.clz32:bte,Ate=Math.log,_te=Math.LN2;function bte(e){return e>>>=0,e===0?32:31-(Ate(e)/_te|0)|0}var Jh=64,Xh=4194304;function ud(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Fg(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=ud(a):(s&=o,s!==0&&(r=ud(s)))}else o=n&~i,o!==0?r=ud(o):s!==0&&(r=ud(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-hs(t),i=1<<n,r|=e[n],t&=~i;return r}function Ste(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xte(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-hs(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=Ste(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function F1(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function rV(){var e=Jh;return Jh<<=1,!(Jh&4194240)&&(Jh=64),e}function dy(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ih(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-hs(t),e[t]=n}function wte(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-hs(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function tx(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-hs(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var xt=0;function iV(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var sV,nx,oV,aV,lV,z1=!1,Zh=[],ea=null,ta=null,na=null,gf=new Map,mf=new Map,Fo=[],Ete="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function iT(e,t){switch(e){case"focusin":case"focusout":ea=null;break;case"dragenter":case"dragleave":ta=null;break;case"mouseover":case"mouseout":na=null;break;case"pointerover":case"pointerout":gf.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":mf.delete(t.pointerId)}}function zu(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=oh(t),t!==null&&nx(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function kte(e,t,n,r,i){switch(t){case"focusin":return ea=zu(ea,e,t,n,r,i),!0;case"dragenter":return ta=zu(ta,e,t,n,r,i),!0;case"mouseover":return na=zu(na,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return gf.set(s,zu(gf.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,mf.set(s,zu(mf.get(s)||null,e,t,n,r,i)),!0}return!1}function cV(e){var t=Fa(e.target);if(t!==null){var n=Il(t);if(n!==null){if(t=n.tag,t===13){if(t=JO(n),t!==null){e.blockedOn=t,lV(e.priority,function(){oV(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Up(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=U1(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);N1=r,n.target.dispatchEvent(r),N1=null}else return t=oh(n),t!==null&&nx(t),e.blockedOn=n,!1;t.shift()}return!0}function sT(e,t,n){Up(e)&&n.delete(t)}function Cte(){z1=!1,ea!==null&&Up(ea)&&(ea=null),ta!==null&&Up(ta)&&(ta=null),na!==null&&Up(na)&&(na=null),gf.forEach(sT),mf.forEach(sT)}function Uu(e,t){e.blockedOn===t&&(e.blockedOn=null,z1||(z1=!0,fi.unstable_scheduleCallback(fi.unstable_NormalPriority,Cte)))}function vf(e){function t(i){return Uu(i,e)}if(0<Zh.length){Uu(Zh[0],e);for(var n=1;n<Zh.length;n++){var r=Zh[n];r.blockedOn===e&&(r.blockedOn=null)}}for(ea!==null&&Uu(ea,e),ta!==null&&Uu(ta,e),na!==null&&Uu(na,e),gf.forEach(t),mf.forEach(t),n=0;n<Fo.length;n++)r=Fo[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Fo.length&&(n=Fo[0],n.blockedOn===null);)cV(n),n.blockedOn===null&&Fo.shift()}var Rc=Io.ReactCurrentBatchConfig,zg=!0;function Tte(e,t,n,r){var i=xt,s=Rc.transition;Rc.transition=null;try{xt=1,rx(e,t,n,r)}finally{xt=i,Rc.transition=s}}function Ite(e,t,n,r){var i=xt,s=Rc.transition;Rc.transition=null;try{xt=4,rx(e,t,n,r)}finally{xt=i,Rc.transition=s}}function rx(e,t,n,r){if(zg){var i=U1(e,t,n,r);if(i===null)by(e,t,r,Ug,n),iT(e,r);else if(kte(i,e,t,n,r))r.stopPropagation();else if(iT(e,r),t&4&&-1<Ete.indexOf(e)){for(;i!==null;){var s=oh(i);if(s!==null&&sV(s),s=U1(e,t,n,r),s===null&&by(e,t,r,Ug,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else by(e,t,r,null,n)}}var Ug=null;function U1(e,t,n,r){if(Ug=null,e=ZS(r),e=Fa(e),e!==null)if(t=Il(e),t===null)e=null;else if(n=t.tag,n===13){if(e=JO(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ug=e,null}function uV(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mte()){case ex:return 1;case tV:return 4;case Dg:case vte:return 16;case nV:return 536870912;default:return 16}default:return 16}}var Wo=null,ix=null,Hp=null;function dV(){if(Hp)return Hp;var e,t=ix,n=t.length,r,i="value"in Wo?Wo.value:Wo.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return Hp=i.slice(e,1<r?1-r:void 0)}function Gp(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ep(){return!0}function oT(){return!1}function vi(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ep:oT,this.isPropagationStopped=oT,this}return on(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ep)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ep)},persist:function(){},isPersistent:ep}),t}var bu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sx=vi(bu),sh=on({},bu,{view:0,detail:0}),Rte=vi(sh),fy,hy,Hu,j0=on({},sh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ox,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Hu&&(Hu&&e.type==="mousemove"?(fy=e.screenX-Hu.screenX,hy=e.screenY-Hu.screenY):hy=fy=0,Hu=e),fy)},movementY:function(e){return"movementY"in e?e.movementY:hy}}),aT=vi(j0),Mte=on({},j0,{dataTransfer:0}),Pte=vi(Mte),jte=on({},sh,{relatedTarget:0}),py=vi(jte),Ote=on({},bu,{animationName:0,elapsedTime:0,pseudoElement:0}),Vte=vi(Ote),Lte=on({},bu,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Nte=vi(Lte),Bte=on({},bu,{data:0}),lT=vi(Bte),$te={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Dte={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fte={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zte(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Fte[e])?!!t[e]:!1}function ox(){return zte}var Ute=on({},sh,{key:function(e){if(e.key){var t=$te[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Gp(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Dte[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ox,charCode:function(e){return e.type==="keypress"?Gp(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Gp(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Hte=vi(Ute),Gte=on({},j0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cT=vi(Gte),qte=on({},sh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ox}),Wte=vi(qte),Kte=on({},bu,{propertyName:0,elapsedTime:0,pseudoElement:0}),Yte=vi(Kte),Qte=on({},j0,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Jte=vi(Qte),Xte=[9,13,27,32],ax=Ao&&"CompositionEvent"in window,jd=null;Ao&&"documentMode"in document&&(jd=document.documentMode);var Zte=Ao&&"TextEvent"in window&&!jd,fV=Ao&&(!ax||jd&&8<jd&&11>=jd),uT=" ",dT=!1;function hV(e,t){switch(e){case"keyup":return Xte.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pV(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var rc=!1;function ene(e,t){switch(e){case"compositionend":return pV(t);case"keypress":return t.which!==32?null:(dT=!0,uT);case"textInput":return e=t.data,e===uT&&dT?null:e;default:return null}}function tne(e,t){if(rc)return e==="compositionend"||!ax&&hV(e,t)?(e=dV(),Hp=ix=Wo=null,rc=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return fV&&t.locale!=="ko"?null:t.data;default:return null}}var nne={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fT(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!nne[e.type]:t==="textarea"}function gV(e,t,n,r){qO(r),t=Hg(t,"onChange"),0<t.length&&(n=new sx("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Od=null,yf=null;function rne(e){kV(e,0)}function O0(e){var t=oc(e);if($O(t))return e}function ine(e,t){if(e==="change")return t}var mV=!1;if(Ao){var gy;if(Ao){var my="oninput"in document;if(!my){var hT=document.createElement("div");hT.setAttribute("oninput","return;"),my=typeof hT.oninput=="function"}gy=my}else gy=!1;mV=gy&&(!document.documentMode||9<document.documentMode)}function pT(){Od&&(Od.detachEvent("onpropertychange",vV),yf=Od=null)}function vV(e){if(e.propertyName==="value"&&O0(yf)){var t=[];gV(t,yf,e,ZS(e)),QO(rne,t)}}function sne(e,t,n){e==="focusin"?(pT(),Od=t,yf=n,Od.attachEvent("onpropertychange",vV)):e==="focusout"&&pT()}function one(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return O0(yf)}function ane(e,t){if(e==="click")return O0(t)}function lne(e,t){if(e==="input"||e==="change")return O0(t)}function cne(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var vs=typeof Object.is=="function"?Object.is:cne;function Af(e,t){if(vs(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!E1.call(t,i)||!vs(e[i],t[i]))return!1}return!0}function gT(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function mT(e,t){var n=gT(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=gT(n)}}function yV(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?yV(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function AV(){for(var e=window,t=Ng();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ng(e.document)}return t}function lx(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function une(e){var t=AV(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&yV(n.ownerDocument.documentElement,n)){if(r!==null&&lx(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=mT(n,s);var o=mT(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var dne=Ao&&"documentMode"in document&&11>=document.documentMode,ic=null,H1=null,Vd=null,G1=!1;function vT(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;G1||ic==null||ic!==Ng(r)||(r=ic,"selectionStart"in r&&lx(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Vd&&Af(Vd,r)||(Vd=r,r=Hg(H1,"onSelect"),0<r.length&&(t=new sx("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ic)))}function tp(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var sc={animationend:tp("Animation","AnimationEnd"),animationiteration:tp("Animation","AnimationIteration"),animationstart:tp("Animation","AnimationStart"),transitionend:tp("Transition","TransitionEnd")},vy={},_V={};Ao&&(_V=document.createElement("div").style,"AnimationEvent"in window||(delete sc.animationend.animation,delete sc.animationiteration.animation,delete sc.animationstart.animation),"TransitionEvent"in window||delete sc.transitionend.transition);function V0(e){if(vy[e])return vy[e];if(!sc[e])return e;var t=sc[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in _V)return vy[e]=t[n];return e}var bV=V0("animationend"),SV=V0("animationiteration"),xV=V0("animationstart"),wV=V0("transitionend"),EV=new Map,yT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function va(e,t){EV.set(e,t),Tl(t,[e])}for(var yy=0;yy<yT.length;yy++){var Ay=yT[yy],fne=Ay.toLowerCase(),hne=Ay[0].toUpperCase()+Ay.slice(1);va(fne,"on"+hne)}va(bV,"onAnimationEnd");va(SV,"onAnimationIteration");va(xV,"onAnimationStart");va("dblclick","onDoubleClick");va("focusin","onFocus");va("focusout","onBlur");va(wV,"onTransitionEnd");Qc("onMouseEnter",["mouseout","mouseover"]);Qc("onMouseLeave",["mouseout","mouseover"]);Qc("onPointerEnter",["pointerout","pointerover"]);Qc("onPointerLeave",["pointerout","pointerover"]);Tl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Tl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Tl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Tl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Tl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Tl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pne=new Set("cancel close invalid load scroll toggle".split(" ").concat(dd));function AT(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,fte(r,t,void 0,e),e.currentTarget=null}function kV(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;AT(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;AT(i,a,c),s=l}}}if($g)throw e=D1,$g=!1,D1=null,e}function $t(e,t){var n=t[Q1];n===void 0&&(n=t[Q1]=new Set);var r=e+"__bubble";n.has(r)||(CV(t,e,2,!1),n.add(r))}function _y(e,t,n){var r=0;t&&(r|=4),CV(n,e,r,t)}var np="_reactListening"+Math.random().toString(36).slice(2);function _f(e){if(!e[np]){e[np]=!0,OO.forEach(function(n){n!=="selectionchange"&&(pne.has(n)||_y(n,!1,e),_y(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[np]||(t[np]=!0,_y("selectionchange",!1,t))}}function CV(e,t,n,r){switch(uV(t)){case 1:var i=Tte;break;case 4:i=Ite;break;default:i=rx}n=i.bind(null,t,n,e),i=void 0,!$1||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function by(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Fa(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}QO(function(){var c=s,u=ZS(n),d=[];e:{var h=EV.get(e);if(h!==void 0){var p=sx,g=e;switch(e){case"keypress":if(Gp(n)===0)break e;case"keydown":case"keyup":p=Hte;break;case"focusin":g="focus",p=py;break;case"focusout":g="blur",p=py;break;case"beforeblur":case"afterblur":p=py;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=aT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Pte;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Wte;break;case bV:case SV:case xV:p=Vte;break;case wV:p=Yte;break;case"scroll":p=Rte;break;case"wheel":p=Jte;break;case"copy":case"cut":case"paste":p=Nte;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=cT}var m=(t&4)!==0,_=!m&&e==="scroll",v=m?h!==null?h+"Capture":null:h;m=[];for(var y=c,b;y!==null;){b=y;var x=b.stateNode;if(b.tag===5&&x!==null&&(b=x,v!==null&&(x=pf(y,v),x!=null&&m.push(bf(y,x,b)))),_)break;y=y.return}0<m.length&&(h=new p(h,g,null,n,u),d.push({event:h,listeners:m}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&n!==N1&&(g=n.relatedTarget||n.fromElement)&&(Fa(g)||g[_o]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=c,g=g?Fa(g):null,g!==null&&(_=Il(g),g!==_||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=c),p!==g)){if(m=aT,x="onMouseLeave",v="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(m=cT,x="onPointerLeave",v="onPointerEnter",y="pointer"),_=p==null?h:oc(p),b=g==null?h:oc(g),h=new m(x,y+"leave",p,n,u),h.target=_,h.relatedTarget=b,x=null,Fa(u)===c&&(m=new m(v,y+"enter",g,n,u),m.target=b,m.relatedTarget=_,x=m),_=x,p&&g)t:{for(m=p,v=g,y=0,b=m;b;b=Fl(b))y++;for(b=0,x=v;x;x=Fl(x))b++;for(;0<y-b;)m=Fl(m),y--;for(;0<b-y;)v=Fl(v),b--;for(;y--;){if(m===v||v!==null&&m===v.alternate)break t;m=Fl(m),v=Fl(v)}m=null}else m=null;p!==null&&_T(d,h,p,m,!1),g!==null&&_!==null&&_T(d,_,g,m,!0)}}e:{if(h=c?oc(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var S=ine;else if(fT(h))if(mV)S=lne;else{S=one;var w=sne}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=ane);if(S&&(S=S(e,c))){gV(d,S,n,u);break e}w&&w(e,h,c),e==="focusout"&&(w=h._wrapperState)&&w.controlled&&h.type==="number"&&P1(h,"number",h.value)}switch(w=c?oc(c):window,e){case"focusin":(fT(w)||w.contentEditable==="true")&&(ic=w,H1=c,Vd=null);break;case"focusout":Vd=H1=ic=null;break;case"mousedown":G1=!0;break;case"contextmenu":case"mouseup":case"dragend":G1=!1,vT(d,n,u);break;case"selectionchange":if(dne)break;case"keydown":case"keyup":vT(d,n,u)}var E;if(ax)e:{switch(e){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else rc?hV(e,n)&&(I="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(fV&&n.locale!=="ko"&&(rc||I!=="onCompositionStart"?I==="onCompositionEnd"&&rc&&(E=dV()):(Wo=u,ix="value"in Wo?Wo.value:Wo.textContent,rc=!0)),w=Hg(c,I),0<w.length&&(I=new lT(I,e,null,n,u),d.push({event:I,listeners:w}),E?I.data=E:(E=pV(n),E!==null&&(I.data=E)))),(E=Zte?ene(e,n):tne(e,n))&&(c=Hg(c,"onBeforeInput"),0<c.length&&(u=new lT("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=E))}kV(d,t)})}function bf(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hg(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=pf(e,n),s!=null&&r.unshift(bf(e,s,i)),s=pf(e,t),s!=null&&r.push(bf(e,s,i))),e=e.return}return r}function Fl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function _T(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=pf(n,s),l!=null&&o.unshift(bf(n,l,a))):i||(l=pf(n,s),l!=null&&o.push(bf(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var gne=/\r\n?/g,mne=/\u0000|\uFFFD/g;function bT(e){return(typeof e=="string"?e:""+e).replace(gne,`
`).replace(mne,"")}function rp(e,t,n){if(t=bT(t),bT(e)!==t&&n)throw Error(oe(425))}function Gg(){}var q1=null,W1=null;function K1(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Y1=typeof setTimeout=="function"?setTimeout:void 0,vne=typeof clearTimeout=="function"?clearTimeout:void 0,ST=typeof Promise=="function"?Promise:void 0,yne=typeof queueMicrotask=="function"?queueMicrotask:typeof ST<"u"?function(e){return ST.resolve(null).then(e).catch(Ane)}:Y1;function Ane(e){setTimeout(function(){throw e})}function Sy(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),vf(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);vf(t)}function ra(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function xT(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Su=Math.random().toString(36).slice(2),Ps="__reactFiber$"+Su,Sf="__reactProps$"+Su,_o="__reactContainer$"+Su,Q1="__reactEvents$"+Su,_ne="__reactListeners$"+Su,bne="__reactHandles$"+Su;function Fa(e){var t=e[Ps];if(t)return t;for(var n=e.parentNode;n;){if(t=n[_o]||n[Ps]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=xT(e);e!==null;){if(n=e[Ps])return n;e=xT(e)}return t}e=n,n=e.parentNode}return null}function oh(e){return e=e[Ps]||e[_o],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function oc(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(oe(33))}function L0(e){return e[Sf]||null}var J1=[],ac=-1;function ya(e){return{current:e}}function zt(e){0>ac||(e.current=J1[ac],J1[ac]=null,ac--)}function Bt(e,t){ac++,J1[ac]=e.current,e.current=t}var da={},Ar=ya(da),Fr=ya(!1),ul=da;function Jc(e,t){var n=e.type.contextTypes;if(!n)return da;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function zr(e){return e=e.childContextTypes,e!=null}function qg(){zt(Fr),zt(Ar)}function wT(e,t,n){if(Ar.current!==da)throw Error(oe(168));Bt(Ar,t),Bt(Fr,n)}function TV(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(oe(108,ste(e)||"Unknown",i));return on({},n,r)}function Wg(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||da,ul=Ar.current,Bt(Ar,e),Bt(Fr,Fr.current),!0}function ET(e,t,n){var r=e.stateNode;if(!r)throw Error(oe(169));n?(e=TV(e,t,ul),r.__reactInternalMemoizedMergedChildContext=e,zt(Fr),zt(Ar),Bt(Ar,e)):zt(Fr),Bt(Fr,n)}var ro=null,N0=!1,xy=!1;function IV(e){ro===null?ro=[e]:ro.push(e)}function Sne(e){N0=!0,IV(e)}function Aa(){if(!xy&&ro!==null){xy=!0;var e=0,t=xt;try{var n=ro;for(xt=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}ro=null,N0=!1}catch(i){throw ro!==null&&(ro=ro.slice(e+1)),eV(ex,Aa),i}finally{xt=t,xy=!1}}return null}var lc=[],cc=0,Kg=null,Yg=0,Ri=[],Mi=0,dl=null,oo=1,ao="";function Oa(e,t){lc[cc++]=Yg,lc[cc++]=Kg,Kg=e,Yg=t}function RV(e,t,n){Ri[Mi++]=oo,Ri[Mi++]=ao,Ri[Mi++]=dl,dl=e;var r=oo;e=ao;var i=32-hs(r)-1;r&=~(1<<i),n+=1;var s=32-hs(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,oo=1<<32-hs(t)+i|n<<i|r,ao=s+e}else oo=1<<s|n<<i|r,ao=e}function cx(e){e.return!==null&&(Oa(e,1),RV(e,1,0))}function ux(e){for(;e===Kg;)Kg=lc[--cc],lc[cc]=null,Yg=lc[--cc],lc[cc]=null;for(;e===dl;)dl=Ri[--Mi],Ri[Mi]=null,ao=Ri[--Mi],Ri[Mi]=null,oo=Ri[--Mi],Ri[Mi]=null}var li=null,si=null,Xt=!1,rs=null;function MV(e,t){var n=Vi(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function kT(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,li=e,si=ra(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,li=e,si=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=dl!==null?{id:oo,overflow:ao}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Vi(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,li=e,si=null,!0):!1;default:return!1}}function X1(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Z1(e){if(Xt){var t=si;if(t){var n=t;if(!kT(e,t)){if(X1(e))throw Error(oe(418));t=ra(n.nextSibling);var r=li;t&&kT(e,t)?MV(r,n):(e.flags=e.flags&-4097|2,Xt=!1,li=e)}}else{if(X1(e))throw Error(oe(418));e.flags=e.flags&-4097|2,Xt=!1,li=e}}}function CT(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;li=e}function ip(e){if(e!==li)return!1;if(!Xt)return CT(e),Xt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!K1(e.type,e.memoizedProps)),t&&(t=si)){if(X1(e))throw PV(),Error(oe(418));for(;t;)MV(e,t),t=ra(t.nextSibling)}if(CT(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(oe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){si=ra(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}si=null}}else si=li?ra(e.stateNode.nextSibling):null;return!0}function PV(){for(var e=si;e;)e=ra(e.nextSibling)}function Xc(){si=li=null,Xt=!1}function dx(e){rs===null?rs=[e]:rs.push(e)}var xne=Io.ReactCurrentBatchConfig;function Xi(e,t){if(e&&e.defaultProps){t=on({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var Qg=ya(null),Jg=null,uc=null,fx=null;function hx(){fx=uc=Jg=null}function px(e){var t=Qg.current;zt(Qg),e._currentValue=t}function e_(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Mc(e,t){Jg=e,fx=uc=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Dr=!0),e.firstContext=null)}function Ui(e){var t=e._currentValue;if(fx!==e)if(e={context:e,memoizedValue:t,next:null},uc===null){if(Jg===null)throw Error(oe(308));uc=e,Jg.dependencies={lanes:0,firstContext:e}}else uc=uc.next=e;return t}var za=null;function gx(e){za===null?za=[e]:za.push(e)}function jV(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,gx(t)):(n.next=i.next,i.next=n),t.interleaved=n,bo(e,r)}function bo(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Bo=!1;function mx(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function OV(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function fo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ia(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ht&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,bo(e,n)}return i=r.interleaved,i===null?(t.next=t,gx(r)):(t.next=i.next,i.next=t),r.interleaved=t,bo(e,n)}function qp(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,tx(e,n)}}function TT(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Xg(e,t,n,r){var i=e.updateQueue;Bo=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=e.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,u=c=l=null,a=s;do{var h=a.lane,p=a.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=e,m=a;switch(h=t,p=n,m.tag){case 1:if(g=m.payload,typeof g=="function"){d=g.call(p,d,h);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,h=typeof g=="function"?g.call(p,d,h):g,h==null)break e;d=on({},d,h);break e;case 2:Bo=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=d):u=u.next=p,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);hl|=o,e.lanes=o,e.memoizedState=d}}function IT(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(oe(191,i));i.call(r)}}}var VV=new jO.Component().refs;function t_(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:on({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var B0={isMounted:function(e){return(e=e._reactInternals)?Il(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Rr(),i=oa(e),s=fo(r,i);s.payload=t,n!=null&&(s.callback=n),t=ia(e,s,i),t!==null&&(ps(t,e,i,r),qp(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Rr(),i=oa(e),s=fo(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=ia(e,s,i),t!==null&&(ps(t,e,i,r),qp(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Rr(),r=oa(e),i=fo(n,r);i.tag=2,t!=null&&(i.callback=t),t=ia(e,i,r),t!==null&&(ps(t,e,r,n),qp(t,e,r))}};function RT(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!Af(n,r)||!Af(i,s):!0}function LV(e,t,n){var r=!1,i=da,s=t.contextType;return typeof s=="object"&&s!==null?s=Ui(s):(i=zr(t)?ul:Ar.current,r=t.contextTypes,s=(r=r!=null)?Jc(e,i):da),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=B0,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function MT(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&B0.enqueueReplaceState(t,t.state,null)}function n_(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=VV,mx(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=Ui(s):(s=zr(t)?ul:Ar.current,i.context=Jc(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(t_(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&B0.enqueueReplaceState(i,i.state,null),Xg(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Gu(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(oe(309));var r=n.stateNode}if(!r)throw Error(oe(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;a===VV&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(oe(284));if(!n._owner)throw Error(oe(290,e))}return e}function sp(e,t){throw e=Object.prototype.toString.call(t),Error(oe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function PT(e){var t=e._init;return t(e._payload)}function NV(e){function t(v,y){if(e){var b=v.deletions;b===null?(v.deletions=[y],v.flags|=16):b.push(y)}}function n(v,y){if(!e)return null;for(;y!==null;)t(v,y),y=y.sibling;return null}function r(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function i(v,y){return v=aa(v,y),v.index=0,v.sibling=null,v}function s(v,y,b){return v.index=b,e?(b=v.alternate,b!==null?(b=b.index,b<y?(v.flags|=2,y):b):(v.flags|=2,y)):(v.flags|=1048576,y)}function o(v){return e&&v.alternate===null&&(v.flags|=2),v}function a(v,y,b,x){return y===null||y.tag!==6?(y=Ry(b,v.mode,x),y.return=v,y):(y=i(y,b),y.return=v,y)}function l(v,y,b,x){var S=b.type;return S===nc?u(v,y,b.props.children,x,b.key):y!==null&&(y.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===No&&PT(S)===y.type)?(x=i(y,b.props),x.ref=Gu(v,y,b),x.return=v,x):(x=Xp(b.type,b.key,b.props,null,v.mode,x),x.ref=Gu(v,y,b),x.return=v,x)}function c(v,y,b,x){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=My(b,v.mode,x),y.return=v,y):(y=i(y,b.children||[]),y.return=v,y)}function u(v,y,b,x,S){return y===null||y.tag!==7?(y=Ya(b,v.mode,x,S),y.return=v,y):(y=i(y,b),y.return=v,y)}function d(v,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Ry(""+y,v.mode,b),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Kh:return b=Xp(y.type,y.key,y.props,null,v.mode,b),b.ref=Gu(v,null,y),b.return=v,b;case tc:return y=My(y,v.mode,b),y.return=v,y;case No:var x=y._init;return d(v,x(y._payload),b)}if(cd(y)||Du(y))return y=Ya(y,v.mode,b,null),y.return=v,y;sp(v,y)}return null}function h(v,y,b,x){var S=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return S!==null?null:a(v,y,""+b,x);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Kh:return b.key===S?l(v,y,b,x):null;case tc:return b.key===S?c(v,y,b,x):null;case No:return S=b._init,h(v,y,S(b._payload),x)}if(cd(b)||Du(b))return S!==null?null:u(v,y,b,x,null);sp(v,b)}return null}function p(v,y,b,x,S){if(typeof x=="string"&&x!==""||typeof x=="number")return v=v.get(b)||null,a(y,v,""+x,S);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Kh:return v=v.get(x.key===null?b:x.key)||null,l(y,v,x,S);case tc:return v=v.get(x.key===null?b:x.key)||null,c(y,v,x,S);case No:var w=x._init;return p(v,y,b,w(x._payload),S)}if(cd(x)||Du(x))return v=v.get(b)||null,u(y,v,x,S,null);sp(y,x)}return null}function g(v,y,b,x){for(var S=null,w=null,E=y,I=y=0,z=null;E!==null&&I<b.length;I++){E.index>I?(z=E,E=null):z=E.sibling;var N=h(v,E,b[I],x);if(N===null){E===null&&(E=z);break}e&&E&&N.alternate===null&&t(v,E),y=s(N,y,I),w===null?S=N:w.sibling=N,w=N,E=z}if(I===b.length)return n(v,E),Xt&&Oa(v,I),S;if(E===null){for(;I<b.length;I++)E=d(v,b[I],x),E!==null&&(y=s(E,y,I),w===null?S=E:w.sibling=E,w=E);return Xt&&Oa(v,I),S}for(E=r(v,E);I<b.length;I++)z=p(E,v,I,b[I],x),z!==null&&(e&&z.alternate!==null&&E.delete(z.key===null?I:z.key),y=s(z,y,I),w===null?S=z:w.sibling=z,w=z);return e&&E.forEach(function(D){return t(v,D)}),Xt&&Oa(v,I),S}function m(v,y,b,x){var S=Du(b);if(typeof S!="function")throw Error(oe(150));if(b=S.call(b),b==null)throw Error(oe(151));for(var w=S=null,E=y,I=y=0,z=null,N=b.next();E!==null&&!N.done;I++,N=b.next()){E.index>I?(z=E,E=null):z=E.sibling;var D=h(v,E,N.value,x);if(D===null){E===null&&(E=z);break}e&&E&&D.alternate===null&&t(v,E),y=s(D,y,I),w===null?S=D:w.sibling=D,w=D,E=z}if(N.done)return n(v,E),Xt&&Oa(v,I),S;if(E===null){for(;!N.done;I++,N=b.next())N=d(v,N.value,x),N!==null&&(y=s(N,y,I),w===null?S=N:w.sibling=N,w=N);return Xt&&Oa(v,I),S}for(E=r(v,E);!N.done;I++,N=b.next())N=p(E,v,I,N.value,x),N!==null&&(e&&N.alternate!==null&&E.delete(N.key===null?I:N.key),y=s(N,y,I),w===null?S=N:w.sibling=N,w=N);return e&&E.forEach(function(Q){return t(v,Q)}),Xt&&Oa(v,I),S}function _(v,y,b,x){if(typeof b=="object"&&b!==null&&b.type===nc&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Kh:e:{for(var S=b.key,w=y;w!==null;){if(w.key===S){if(S=b.type,S===nc){if(w.tag===7){n(v,w.sibling),y=i(w,b.props.children),y.return=v,v=y;break e}}else if(w.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===No&&PT(S)===w.type){n(v,w.sibling),y=i(w,b.props),y.ref=Gu(v,w,b),y.return=v,v=y;break e}n(v,w);break}else t(v,w);w=w.sibling}b.type===nc?(y=Ya(b.props.children,v.mode,x,b.key),y.return=v,v=y):(x=Xp(b.type,b.key,b.props,null,v.mode,x),x.ref=Gu(v,y,b),x.return=v,v=x)}return o(v);case tc:e:{for(w=b.key;y!==null;){if(y.key===w)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){n(v,y.sibling),y=i(y,b.children||[]),y.return=v,v=y;break e}else{n(v,y);break}else t(v,y);y=y.sibling}y=My(b,v.mode,x),y.return=v,v=y}return o(v);case No:return w=b._init,_(v,y,w(b._payload),x)}if(cd(b))return g(v,y,b,x);if(Du(b))return m(v,y,b,x);sp(v,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(n(v,y.sibling),y=i(y,b),y.return=v,v=y):(n(v,y),y=Ry(b,v.mode,x),y.return=v,v=y),o(v)):n(v,y)}return _}var Zc=NV(!0),BV=NV(!1),ah={},zs=ya(ah),xf=ya(ah),wf=ya(ah);function Ua(e){if(e===ah)throw Error(oe(174));return e}function vx(e,t){switch(Bt(wf,t),Bt(xf,e),Bt(zs,ah),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:O1(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=O1(t,e)}zt(zs),Bt(zs,t)}function eu(){zt(zs),zt(xf),zt(wf)}function $V(e){Ua(wf.current);var t=Ua(zs.current),n=O1(t,e.type);t!==n&&(Bt(xf,e),Bt(zs,n))}function yx(e){xf.current===e&&(zt(zs),zt(xf))}var rn=ya(0);function Zg(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var wy=[];function Ax(){for(var e=0;e<wy.length;e++)wy[e]._workInProgressVersionPrimary=null;wy.length=0}var Wp=Io.ReactCurrentDispatcher,Ey=Io.ReactCurrentBatchConfig,fl=0,sn=null,Bn=null,Kn=null,em=!1,Ld=!1,Ef=0,wne=0;function hr(){throw Error(oe(321))}function _x(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!vs(e[n],t[n]))return!1;return!0}function bx(e,t,n,r,i,s){if(fl=s,sn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Wp.current=e===null||e.memoizedState===null?Tne:Ine,e=n(r,i),Ld){s=0;do{if(Ld=!1,Ef=0,25<=s)throw Error(oe(301));s+=1,Kn=Bn=null,t.updateQueue=null,Wp.current=Rne,e=n(r,i)}while(Ld)}if(Wp.current=tm,t=Bn!==null&&Bn.next!==null,fl=0,Kn=Bn=sn=null,em=!1,t)throw Error(oe(300));return e}function Sx(){var e=Ef!==0;return Ef=0,e}function ks(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kn===null?sn.memoizedState=Kn=e:Kn=Kn.next=e,Kn}function Hi(){if(Bn===null){var e=sn.alternate;e=e!==null?e.memoizedState:null}else e=Bn.next;var t=Kn===null?sn.memoizedState:Kn.next;if(t!==null)Kn=t,Bn=e;else{if(e===null)throw Error(oe(310));Bn=e,e={memoizedState:Bn.memoizedState,baseState:Bn.baseState,baseQueue:Bn.baseQueue,queue:Bn.queue,next:null},Kn===null?sn.memoizedState=Kn=e:Kn=Kn.next=e}return Kn}function kf(e,t){return typeof t=="function"?t(e):t}function ky(e){var t=Hi(),n=t.queue;if(n===null)throw Error(oe(311));n.lastRenderedReducer=e;var r=Bn,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((fl&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,sn.lanes|=u,hl|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,vs(r,t.memoizedState)||(Dr=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,sn.lanes|=s,hl|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Cy(e){var t=Hi(),n=t.queue;if(n===null)throw Error(oe(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);vs(s,t.memoizedState)||(Dr=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function DV(){}function FV(e,t){var n=sn,r=Hi(),i=t(),s=!vs(r.memoizedState,i);if(s&&(r.memoizedState=i,Dr=!0),r=r.queue,xx(HV.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Kn!==null&&Kn.memoizedState.tag&1){if(n.flags|=2048,Cf(9,UV.bind(null,n,r,i,t),void 0,null),Xn===null)throw Error(oe(349));fl&30||zV(n,t,i)}return i}function zV(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=sn.updateQueue,t===null?(t={lastEffect:null,stores:null},sn.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function UV(e,t,n,r){t.value=n,t.getSnapshot=r,GV(t)&&qV(e)}function HV(e,t,n){return n(function(){GV(t)&&qV(e)})}function GV(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!vs(e,n)}catch{return!0}}function qV(e){var t=bo(e,1);t!==null&&ps(t,e,1,-1)}function jT(e){var t=ks();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:kf,lastRenderedState:e},t.queue=e,e=e.dispatch=Cne.bind(null,sn,e),[t.memoizedState,e]}function Cf(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=sn.updateQueue,t===null?(t={lastEffect:null,stores:null},sn.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function WV(){return Hi().memoizedState}function Kp(e,t,n,r){var i=ks();sn.flags|=e,i.memoizedState=Cf(1|t,n,void 0,r===void 0?null:r)}function $0(e,t,n,r){var i=Hi();r=r===void 0?null:r;var s=void 0;if(Bn!==null){var o=Bn.memoizedState;if(s=o.destroy,r!==null&&_x(r,o.deps)){i.memoizedState=Cf(t,n,s,r);return}}sn.flags|=e,i.memoizedState=Cf(1|t,n,s,r)}function OT(e,t){return Kp(8390656,8,e,t)}function xx(e,t){return $0(2048,8,e,t)}function KV(e,t){return $0(4,2,e,t)}function YV(e,t){return $0(4,4,e,t)}function QV(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function JV(e,t,n){return n=n!=null?n.concat([e]):null,$0(4,4,QV.bind(null,t,e),n)}function wx(){}function XV(e,t){var n=Hi();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&_x(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ZV(e,t){var n=Hi();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&_x(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function e4(e,t,n){return fl&21?(vs(n,t)||(n=rV(),sn.lanes|=n,hl|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Dr=!0),e.memoizedState=n)}function Ene(e,t){var n=xt;xt=n!==0&&4>n?n:4,e(!0);var r=Ey.transition;Ey.transition={};try{e(!1),t()}finally{xt=n,Ey.transition=r}}function t4(){return Hi().memoizedState}function kne(e,t,n){var r=oa(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},n4(e))r4(t,n);else if(n=jV(e,t,n,r),n!==null){var i=Rr();ps(n,e,r,i),i4(n,t,r)}}function Cne(e,t,n){var r=oa(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(n4(e))r4(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,vs(a,o)){var l=t.interleaved;l===null?(i.next=i,gx(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=jV(e,t,i,r),n!==null&&(i=Rr(),ps(n,e,r,i),i4(n,t,r))}}function n4(e){var t=e.alternate;return e===sn||t!==null&&t===sn}function r4(e,t){Ld=em=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function i4(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,tx(e,n)}}var tm={readContext:Ui,useCallback:hr,useContext:hr,useEffect:hr,useImperativeHandle:hr,useInsertionEffect:hr,useLayoutEffect:hr,useMemo:hr,useReducer:hr,useRef:hr,useState:hr,useDebugValue:hr,useDeferredValue:hr,useTransition:hr,useMutableSource:hr,useSyncExternalStore:hr,useId:hr,unstable_isNewReconciler:!1},Tne={readContext:Ui,useCallback:function(e,t){return ks().memoizedState=[e,t===void 0?null:t],e},useContext:Ui,useEffect:OT,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Kp(4194308,4,QV.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Kp(4194308,4,e,t)},useInsertionEffect:function(e,t){return Kp(4,2,e,t)},useMemo:function(e,t){var n=ks();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ks();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=kne.bind(null,sn,e),[r.memoizedState,e]},useRef:function(e){var t=ks();return e={current:e},t.memoizedState=e},useState:jT,useDebugValue:wx,useDeferredValue:function(e){return ks().memoizedState=e},useTransition:function(){var e=jT(!1),t=e[0];return e=Ene.bind(null,e[1]),ks().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=sn,i=ks();if(Xt){if(n===void 0)throw Error(oe(407));n=n()}else{if(n=t(),Xn===null)throw Error(oe(349));fl&30||zV(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,OT(HV.bind(null,r,s,e),[e]),r.flags|=2048,Cf(9,UV.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=ks(),t=Xn.identifierPrefix;if(Xt){var n=ao,r=oo;n=(r&~(1<<32-hs(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ef++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=wne++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Ine={readContext:Ui,useCallback:XV,useContext:Ui,useEffect:xx,useImperativeHandle:JV,useInsertionEffect:KV,useLayoutEffect:YV,useMemo:ZV,useReducer:ky,useRef:WV,useState:function(){return ky(kf)},useDebugValue:wx,useDeferredValue:function(e){var t=Hi();return e4(t,Bn.memoizedState,e)},useTransition:function(){var e=ky(kf)[0],t=Hi().memoizedState;return[e,t]},useMutableSource:DV,useSyncExternalStore:FV,useId:t4,unstable_isNewReconciler:!1},Rne={readContext:Ui,useCallback:XV,useContext:Ui,useEffect:xx,useImperativeHandle:JV,useInsertionEffect:KV,useLayoutEffect:YV,useMemo:ZV,useReducer:Cy,useRef:WV,useState:function(){return Cy(kf)},useDebugValue:wx,useDeferredValue:function(e){var t=Hi();return Bn===null?t.memoizedState=e:e4(t,Bn.memoizedState,e)},useTransition:function(){var e=Cy(kf)[0],t=Hi().memoizedState;return[e,t]},useMutableSource:DV,useSyncExternalStore:FV,useId:t4,unstable_isNewReconciler:!1};function tu(e,t){try{var n="",r=t;do n+=ite(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function Ty(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function r_(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Mne=typeof WeakMap=="function"?WeakMap:Map;function s4(e,t,n){n=fo(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){rm||(rm=!0,h_=r),r_(e,t)},n}function o4(e,t,n){n=fo(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){r_(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){r_(e,t),typeof r!="function"&&(sa===null?sa=new Set([this]):sa.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function VT(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Mne;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Gne.bind(null,e,t,n),t.then(e,e))}function LT(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function NT(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=fo(-1,1),t.tag=2,ia(n,t,1))),n.lanes|=1),e)}var Pne=Io.ReactCurrentOwner,Dr=!1;function wr(e,t,n,r){t.child=e===null?BV(t,null,n,r):Zc(t,e.child,n,r)}function BT(e,t,n,r,i){n=n.render;var s=t.ref;return Mc(t,i),r=bx(e,t,n,r,s,i),n=Sx(),e!==null&&!Dr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,So(e,t,i)):(Xt&&n&&cx(t),t.flags|=1,wr(e,t,r,i),t.child)}function $T(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!Px(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,a4(e,t,s,r,i)):(e=Xp(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Af,n(o,r)&&e.ref===t.ref)return So(e,t,i)}return t.flags|=1,e=aa(s,r),e.ref=t.ref,e.return=t,t.child=e}function a4(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(Af(s,r)&&e.ref===t.ref)if(Dr=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(Dr=!0);else return t.lanes=e.lanes,So(e,t,i)}return i_(e,t,n,r,i)}function l4(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Bt(fc,Xr),Xr|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Bt(fc,Xr),Xr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Bt(fc,Xr),Xr|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,Bt(fc,Xr),Xr|=r;return wr(e,t,i,n),t.child}function c4(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function i_(e,t,n,r,i){var s=zr(n)?ul:Ar.current;return s=Jc(t,s),Mc(t,i),n=bx(e,t,n,r,s,i),r=Sx(),e!==null&&!Dr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,So(e,t,i)):(Xt&&r&&cx(t),t.flags|=1,wr(e,t,n,i),t.child)}function DT(e,t,n,r,i){if(zr(n)){var s=!0;Wg(t)}else s=!1;if(Mc(t,i),t.stateNode===null)Yp(e,t),LV(t,n,r),n_(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Ui(c):(c=zr(n)?ul:Ar.current,c=Jc(t,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&MT(t,o,r,c),Bo=!1;var h=t.memoizedState;o.state=h,Xg(t,r,o,i),l=t.memoizedState,a!==r||h!==l||Fr.current||Bo?(typeof u=="function"&&(t_(t,n,u,r),l=t.memoizedState),(a=Bo||RT(t,n,a,r,h,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,OV(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:Xi(t.type,a),o.props=c,d=t.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ui(l):(l=zr(n)?ul:Ar.current,l=Jc(t,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&MT(t,o,r,l),Bo=!1,h=t.memoizedState,o.state=h,Xg(t,r,o,i);var g=t.memoizedState;a!==d||h!==g||Fr.current||Bo?(typeof p=="function"&&(t_(t,n,p,r),g=t.memoizedState),(c=Bo||RT(t,n,c,r,h,g,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),o.props=r,o.state=g,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return s_(e,t,n,r,s,i)}function s_(e,t,n,r,i,s){c4(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&ET(t,n,!1),So(e,t,s);r=t.stateNode,Pne.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Zc(t,e.child,null,s),t.child=Zc(t,null,a,s)):wr(e,t,a,s),t.memoizedState=r.state,i&&ET(t,n,!0),t.child}function u4(e){var t=e.stateNode;t.pendingContext?wT(e,t.pendingContext,t.pendingContext!==t.context):t.context&&wT(e,t.context,!1),vx(e,t.containerInfo)}function FT(e,t,n,r,i){return Xc(),dx(i),t.flags|=256,wr(e,t,n,r),t.child}var o_={dehydrated:null,treeContext:null,retryLane:0};function a_(e){return{baseLanes:e,cachePool:null,transitions:null}}function d4(e,t,n){var r=t.pendingProps,i=rn.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Bt(rn,i&1),e===null)return Z1(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=z0(o,r,0,null),e=Ya(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=a_(n),t.memoizedState=o_,e):Ex(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return jne(e,t,o,r,a,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=aa(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=aa(a,s):(s=Ya(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?a_(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=o_,r}return s=e.child,e=s.sibling,r=aa(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Ex(e,t){return t=z0({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function op(e,t,n,r){return r!==null&&dx(r),Zc(t,e.child,null,n),e=Ex(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function jne(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=Ty(Error(oe(422))),op(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=z0({mode:"visible",children:r.children},i,0,null),s=Ya(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Zc(t,e.child,null,o),t.child.memoizedState=a_(o),t.memoizedState=o_,s);if(!(t.mode&1))return op(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(oe(419)),r=Ty(s,r,void 0),op(e,t,o,r)}if(a=(o&e.childLanes)!==0,Dr||a){if(r=Xn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,bo(e,i),ps(r,e,i,-1))}return Mx(),r=Ty(Error(oe(421))),op(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=qne.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,si=ra(i.nextSibling),li=t,Xt=!0,rs=null,e!==null&&(Ri[Mi++]=oo,Ri[Mi++]=ao,Ri[Mi++]=dl,oo=e.id,ao=e.overflow,dl=t),t=Ex(t,r.children),t.flags|=4096,t)}function zT(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),e_(e.return,t,n)}function Iy(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function f4(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(wr(e,t,r.children,n),r=rn.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&zT(e,n,t);else if(e.tag===19)zT(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Bt(rn,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Zg(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Iy(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Zg(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Iy(t,!0,n,null,s);break;case"together":Iy(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Yp(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function So(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),hl|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(oe(153));if(t.child!==null){for(e=t.child,n=aa(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=aa(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function One(e,t,n){switch(t.tag){case 3:u4(t),Xc();break;case 5:$V(t);break;case 1:zr(t.type)&&Wg(t);break;case 4:vx(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Bt(Qg,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Bt(rn,rn.current&1),t.flags|=128,null):n&t.child.childLanes?d4(e,t,n):(Bt(rn,rn.current&1),e=So(e,t,n),e!==null?e.sibling:null);Bt(rn,rn.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return f4(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Bt(rn,rn.current),r)break;return null;case 22:case 23:return t.lanes=0,l4(e,t,n)}return So(e,t,n)}var h4,l_,p4,g4;h4=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};l_=function(){};p4=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Ua(zs.current);var s=null;switch(n){case"input":i=R1(e,i),r=R1(e,r),s=[];break;case"select":i=on({},i,{value:void 0}),r=on({},r,{value:void 0}),s=[];break;case"textarea":i=j1(e,i),r=j1(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Gg)}V1(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ff.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ff.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&$t("scroll",e),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}};g4=function(e,t,n,r){n!==r&&(t.flags|=4)};function qu(e,t){if(!Xt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function pr(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Vne(e,t,n){var r=t.pendingProps;switch(ux(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pr(t),null;case 1:return zr(t.type)&&qg(),pr(t),null;case 3:return r=t.stateNode,eu(),zt(Fr),zt(Ar),Ax(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ip(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,rs!==null&&(m_(rs),rs=null))),l_(e,t),pr(t),null;case 5:yx(t);var i=Ua(wf.current);if(n=t.type,e!==null&&t.stateNode!=null)p4(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(oe(166));return pr(t),null}if(e=Ua(zs.current),ip(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Ps]=t,r[Sf]=s,e=(t.mode&1)!==0,n){case"dialog":$t("cancel",r),$t("close",r);break;case"iframe":case"object":case"embed":$t("load",r);break;case"video":case"audio":for(i=0;i<dd.length;i++)$t(dd[i],r);break;case"source":$t("error",r);break;case"img":case"image":case"link":$t("error",r),$t("load",r);break;case"details":$t("toggle",r);break;case"input":JC(r,s),$t("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},$t("invalid",r);break;case"textarea":ZC(r,s),$t("invalid",r)}V1(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&rp(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&rp(r.textContent,a,e),i=["children",""+a]):ff.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&$t("scroll",r)}switch(n){case"input":Yh(r),XC(r,s,!0);break;case"textarea":Yh(r),eT(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Gg)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=zO(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Ps]=t,e[Sf]=r,h4(e,t,!1,!1),t.stateNode=e;e:{switch(o=L1(n,r),n){case"dialog":$t("cancel",e),$t("close",e),i=r;break;case"iframe":case"object":case"embed":$t("load",e),i=r;break;case"video":case"audio":for(i=0;i<dd.length;i++)$t(dd[i],e);i=r;break;case"source":$t("error",e),i=r;break;case"img":case"image":case"link":$t("error",e),$t("load",e),i=r;break;case"details":$t("toggle",e),i=r;break;case"input":JC(e,r),i=R1(e,r),$t("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=on({},r,{value:void 0}),$t("invalid",e);break;case"textarea":ZC(e,r),i=j1(e,r),$t("invalid",e);break;default:i=r}V1(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?GO(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&UO(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&hf(e,l):typeof l=="number"&&hf(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ff.hasOwnProperty(s)?l!=null&&s==="onScroll"&&$t("scroll",e):l!=null&&YS(e,s,l,o))}switch(n){case"input":Yh(e),XC(e,r,!1);break;case"textarea":Yh(e),eT(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ua(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Cc(e,!!r.multiple,s,!1):r.defaultValue!=null&&Cc(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Gg)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return pr(t),null;case 6:if(e&&t.stateNode!=null)g4(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(oe(166));if(n=Ua(wf.current),Ua(zs.current),ip(t)){if(r=t.stateNode,n=t.memoizedProps,r[Ps]=t,(s=r.nodeValue!==n)&&(e=li,e!==null))switch(e.tag){case 3:rp(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&rp(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ps]=t,t.stateNode=r}return pr(t),null;case 13:if(zt(rn),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Xt&&si!==null&&t.mode&1&&!(t.flags&128))PV(),Xc(),t.flags|=98560,s=!1;else if(s=ip(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(oe(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(oe(317));s[Ps]=t}else Xc(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;pr(t),s=!1}else rs!==null&&(m_(rs),rs=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||rn.current&1?Fn===0&&(Fn=3):Mx())),t.updateQueue!==null&&(t.flags|=4),pr(t),null);case 4:return eu(),l_(e,t),e===null&&_f(t.stateNode.containerInfo),pr(t),null;case 10:return px(t.type._context),pr(t),null;case 17:return zr(t.type)&&qg(),pr(t),null;case 19:if(zt(rn),s=t.memoizedState,s===null)return pr(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)qu(s,!1);else{if(Fn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Zg(e),o!==null){for(t.flags|=128,qu(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Bt(rn,rn.current&1|2),t.child}e=e.sibling}s.tail!==null&&bn()>nu&&(t.flags|=128,r=!0,qu(s,!1),t.lanes=4194304)}else{if(!r)if(e=Zg(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),qu(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Xt)return pr(t),null}else 2*bn()-s.renderingStartTime>nu&&n!==1073741824&&(t.flags|=128,r=!0,qu(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=bn(),t.sibling=null,n=rn.current,Bt(rn,r?n&1|2:n&1),t):(pr(t),null);case 22:case 23:return Rx(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Xr&1073741824&&(pr(t),t.subtreeFlags&6&&(t.flags|=8192)):pr(t),null;case 24:return null;case 25:return null}throw Error(oe(156,t.tag))}function Lne(e,t){switch(ux(t),t.tag){case 1:return zr(t.type)&&qg(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return eu(),zt(Fr),zt(Ar),Ax(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return yx(t),null;case 13:if(zt(rn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(oe(340));Xc()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return zt(rn),null;case 4:return eu(),null;case 10:return px(t.type._context),null;case 22:case 23:return Rx(),null;case 24:return null;default:return null}}var ap=!1,vr=!1,Nne=typeof WeakSet=="function"?WeakSet:Set,_e=null;function dc(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){dn(e,t,r)}else n.current=null}function c_(e,t,n){try{n()}catch(r){dn(e,t,r)}}var UT=!1;function Bne(e,t){if(q1=zg,e=AV(),lx(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=e,h=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===e)break t;if(h===n&&++c===i&&(a=o),h===s&&++u===r&&(l=o),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(W1={focusedElem:e,selectionRange:n},zg=!1,_e=t;_e!==null;)if(t=_e,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,_e=e;else for(;_e!==null;){t=_e;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var m=g.memoizedProps,_=g.memoizedState,v=t.stateNode,y=v.getSnapshotBeforeUpdate(t.elementType===t.type?m:Xi(t.type,m),_);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(oe(163))}}catch(x){dn(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,_e=e;break}_e=t.return}return g=UT,UT=!1,g}function Nd(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&c_(t,n,s)}i=i.next}while(i!==r)}}function D0(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function u_(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function m4(e){var t=e.alternate;t!==null&&(e.alternate=null,m4(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ps],delete t[Sf],delete t[Q1],delete t[_ne],delete t[bne])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function v4(e){return e.tag===5||e.tag===3||e.tag===4}function HT(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||v4(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function d_(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Gg));else if(r!==4&&(e=e.child,e!==null))for(d_(e,t,n),e=e.sibling;e!==null;)d_(e,t,n),e=e.sibling}function f_(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(f_(e,t,n),e=e.sibling;e!==null;)f_(e,t,n),e=e.sibling}var rr=null,ts=!1;function jo(e,t,n){for(n=n.child;n!==null;)y4(e,t,n),n=n.sibling}function y4(e,t,n){if(Fs&&typeof Fs.onCommitFiberUnmount=="function")try{Fs.onCommitFiberUnmount(P0,n)}catch{}switch(n.tag){case 5:vr||dc(n,t);case 6:var r=rr,i=ts;rr=null,jo(e,t,n),rr=r,ts=i,rr!==null&&(ts?(e=rr,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):rr.removeChild(n.stateNode));break;case 18:rr!==null&&(ts?(e=rr,n=n.stateNode,e.nodeType===8?Sy(e.parentNode,n):e.nodeType===1&&Sy(e,n),vf(e)):Sy(rr,n.stateNode));break;case 4:r=rr,i=ts,rr=n.stateNode.containerInfo,ts=!0,jo(e,t,n),rr=r,ts=i;break;case 0:case 11:case 14:case 15:if(!vr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&c_(n,t,o),i=i.next}while(i!==r)}jo(e,t,n);break;case 1:if(!vr&&(dc(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){dn(n,t,a)}jo(e,t,n);break;case 21:jo(e,t,n);break;case 22:n.mode&1?(vr=(r=vr)||n.memoizedState!==null,jo(e,t,n),vr=r):jo(e,t,n);break;default:jo(e,t,n)}}function GT(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Nne),t.forEach(function(r){var i=Wne.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Qi(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:rr=a.stateNode,ts=!1;break e;case 3:rr=a.stateNode.containerInfo,ts=!0;break e;case 4:rr=a.stateNode.containerInfo,ts=!0;break e}a=a.return}if(rr===null)throw Error(oe(160));y4(s,o,i),rr=null,ts=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){dn(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)A4(t,e),t=t.sibling}function A4(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Qi(t,e),Ss(e),r&4){try{Nd(3,e,e.return),D0(3,e)}catch(m){dn(e,e.return,m)}try{Nd(5,e,e.return)}catch(m){dn(e,e.return,m)}}break;case 1:Qi(t,e),Ss(e),r&512&&n!==null&&dc(n,n.return);break;case 5:if(Qi(t,e),Ss(e),r&512&&n!==null&&dc(n,n.return),e.flags&32){var i=e.stateNode;try{hf(i,"")}catch(m){dn(e,e.return,m)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&DO(i,s),L1(a,o);var c=L1(a,s);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?GO(i,d):u==="dangerouslySetInnerHTML"?UO(i,d):u==="children"?hf(i,d):YS(i,u,d,c)}switch(a){case"input":M1(i,s);break;case"textarea":FO(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Cc(i,!!s.multiple,p,!1):h!==!!s.multiple&&(s.defaultValue!=null?Cc(i,!!s.multiple,s.defaultValue,!0):Cc(i,!!s.multiple,s.multiple?[]:"",!1))}i[Sf]=s}catch(m){dn(e,e.return,m)}}break;case 6:if(Qi(t,e),Ss(e),r&4){if(e.stateNode===null)throw Error(oe(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(m){dn(e,e.return,m)}}break;case 3:if(Qi(t,e),Ss(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{vf(t.containerInfo)}catch(m){dn(e,e.return,m)}break;case 4:Qi(t,e),Ss(e);break;case 13:Qi(t,e),Ss(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Tx=bn())),r&4&&GT(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(vr=(c=vr)||u,Qi(t,e),vr=c):Qi(t,e),Ss(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(_e=e,u=e.child;u!==null;){for(d=_e=u;_e!==null;){switch(h=_e,p=h.child,h.tag){case 0:case 11:case 14:case 15:Nd(4,h,h.return);break;case 1:dc(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){dn(r,n,m)}}break;case 5:dc(h,h.return);break;case 22:if(h.memoizedState!==null){WT(d);continue}}p!==null?(p.return=h,_e=p):WT(d)}u=u.sibling}e:for(u=null,d=e;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=HO("display",o))}catch(m){dn(e,e.return,m)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(m){dn(e,e.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Qi(t,e),Ss(e),r&4&&GT(e);break;case 21:break;default:Qi(t,e),Ss(e)}}function Ss(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(v4(n)){var r=n;break e}n=n.return}throw Error(oe(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(hf(i,""),r.flags&=-33);var s=HT(e);f_(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=HT(e);d_(e,a,o);break;default:throw Error(oe(161))}}catch(l){dn(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function $ne(e,t,n){_e=e,_4(e)}function _4(e,t,n){for(var r=(e.mode&1)!==0;_e!==null;){var i=_e,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||ap;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||vr;a=ap;var c=vr;if(ap=o,(vr=l)&&!c)for(_e=i;_e!==null;)o=_e,l=o.child,o.tag===22&&o.memoizedState!==null?KT(i):l!==null?(l.return=o,_e=l):KT(i);for(;s!==null;)_e=s,_4(s),s=s.sibling;_e=i,ap=a,vr=c}qT(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,_e=s):qT(e)}}function qT(e){for(;_e!==null;){var t=_e;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:vr||D0(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!vr)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Xi(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&IT(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}IT(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&vf(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(oe(163))}vr||t.flags&512&&u_(t)}catch(h){dn(t,t.return,h)}}if(t===e){_e=null;break}if(n=t.sibling,n!==null){n.return=t.return,_e=n;break}_e=t.return}}function WT(e){for(;_e!==null;){var t=_e;if(t===e){_e=null;break}var n=t.sibling;if(n!==null){n.return=t.return,_e=n;break}_e=t.return}}function KT(e){for(;_e!==null;){var t=_e;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{D0(4,t)}catch(l){dn(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){dn(t,i,l)}}var s=t.return;try{u_(t)}catch(l){dn(t,s,l)}break;case 5:var o=t.return;try{u_(t)}catch(l){dn(t,o,l)}}}catch(l){dn(t,t.return,l)}if(t===e){_e=null;break}var a=t.sibling;if(a!==null){a.return=t.return,_e=a;break}_e=t.return}}var Dne=Math.ceil,nm=Io.ReactCurrentDispatcher,kx=Io.ReactCurrentOwner,Ni=Io.ReactCurrentBatchConfig,ht=0,Xn=null,jn=null,lr=0,Xr=0,fc=ya(0),Fn=0,Tf=null,hl=0,F0=0,Cx=0,Bd=null,Nr=null,Tx=0,nu=1/0,to=null,rm=!1,h_=null,sa=null,lp=!1,Ko=null,im=0,$d=0,p_=null,Qp=-1,Jp=0;function Rr(){return ht&6?bn():Qp!==-1?Qp:Qp=bn()}function oa(e){return e.mode&1?ht&2&&lr!==0?lr&-lr:xne.transition!==null?(Jp===0&&(Jp=rV()),Jp):(e=xt,e!==0||(e=window.event,e=e===void 0?16:uV(e.type)),e):1}function ps(e,t,n,r){if(50<$d)throw $d=0,p_=null,Error(oe(185));ih(e,n,r),(!(ht&2)||e!==Xn)&&(e===Xn&&(!(ht&2)&&(F0|=n),Fn===4&&zo(e,lr)),Ur(e,r),n===1&&ht===0&&!(t.mode&1)&&(nu=bn()+500,N0&&Aa()))}function Ur(e,t){var n=e.callbackNode;xte(e,t);var r=Fg(e,e===Xn?lr:0);if(r===0)n!==null&&rT(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&rT(n),t===1)e.tag===0?Sne(YT.bind(null,e)):IV(YT.bind(null,e)),yne(function(){!(ht&6)&&Aa()}),n=null;else{switch(iV(r)){case 1:n=ex;break;case 4:n=tV;break;case 16:n=Dg;break;case 536870912:n=nV;break;default:n=Dg}n=T4(n,b4.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function b4(e,t){if(Qp=-1,Jp=0,ht&6)throw Error(oe(327));var n=e.callbackNode;if(Pc()&&e.callbackNode!==n)return null;var r=Fg(e,e===Xn?lr:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=sm(e,r);else{t=r;var i=ht;ht|=2;var s=x4();(Xn!==e||lr!==t)&&(to=null,nu=bn()+500,Ka(e,t));do try{Une();break}catch(a){S4(e,a)}while(!0);hx(),nm.current=s,ht=i,jn!==null?t=0:(Xn=null,lr=0,t=Fn)}if(t!==0){if(t===2&&(i=F1(e),i!==0&&(r=i,t=g_(e,i))),t===1)throw n=Tf,Ka(e,0),zo(e,r),Ur(e,bn()),n;if(t===6)zo(e,r);else{if(i=e.current.alternate,!(r&30)&&!Fne(i)&&(t=sm(e,r),t===2&&(s=F1(e),s!==0&&(r=s,t=g_(e,s))),t===1))throw n=Tf,Ka(e,0),zo(e,r),Ur(e,bn()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(oe(345));case 2:Va(e,Nr,to);break;case 3:if(zo(e,r),(r&130023424)===r&&(t=Tx+500-bn(),10<t)){if(Fg(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Rr(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Y1(Va.bind(null,e,Nr,to),t);break}Va(e,Nr,to);break;case 4:if(zo(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-hs(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=bn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Dne(r/1960))-r,10<r){e.timeoutHandle=Y1(Va.bind(null,e,Nr,to),r);break}Va(e,Nr,to);break;case 5:Va(e,Nr,to);break;default:throw Error(oe(329))}}}return Ur(e,bn()),e.callbackNode===n?b4.bind(null,e):null}function g_(e,t){var n=Bd;return e.current.memoizedState.isDehydrated&&(Ka(e,t).flags|=256),e=sm(e,t),e!==2&&(t=Nr,Nr=n,t!==null&&m_(t)),e}function m_(e){Nr===null?Nr=e:Nr.push.apply(Nr,e)}function Fne(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!vs(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function zo(e,t){for(t&=~Cx,t&=~F0,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-hs(t),r=1<<n;e[n]=-1,t&=~r}}function YT(e){if(ht&6)throw Error(oe(327));Pc();var t=Fg(e,0);if(!(t&1))return Ur(e,bn()),null;var n=sm(e,t);if(e.tag!==0&&n===2){var r=F1(e);r!==0&&(t=r,n=g_(e,r))}if(n===1)throw n=Tf,Ka(e,0),zo(e,t),Ur(e,bn()),n;if(n===6)throw Error(oe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Va(e,Nr,to),Ur(e,bn()),null}function Ix(e,t){var n=ht;ht|=1;try{return e(t)}finally{ht=n,ht===0&&(nu=bn()+500,N0&&Aa())}}function pl(e){Ko!==null&&Ko.tag===0&&!(ht&6)&&Pc();var t=ht;ht|=1;var n=Ni.transition,r=xt;try{if(Ni.transition=null,xt=1,e)return e()}finally{xt=r,Ni.transition=n,ht=t,!(ht&6)&&Aa()}}function Rx(){Xr=fc.current,zt(fc)}function Ka(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,vne(n)),jn!==null)for(n=jn.return;n!==null;){var r=n;switch(ux(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&qg();break;case 3:eu(),zt(Fr),zt(Ar),Ax();break;case 5:yx(r);break;case 4:eu();break;case 13:zt(rn);break;case 19:zt(rn);break;case 10:px(r.type._context);break;case 22:case 23:Rx()}n=n.return}if(Xn=e,jn=e=aa(e.current,null),lr=Xr=t,Fn=0,Tf=null,Cx=F0=hl=0,Nr=Bd=null,za!==null){for(t=0;t<za.length;t++)if(n=za[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}za=null}return e}function S4(e,t){do{var n=jn;try{if(hx(),Wp.current=tm,em){for(var r=sn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}em=!1}if(fl=0,Kn=Bn=sn=null,Ld=!1,Ef=0,kx.current=null,n===null||n.return===null){Fn=1,Tf=t,jn=null;break}e:{var s=e,o=n.return,a=n,l=t;if(t=lr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=LT(o);if(p!==null){p.flags&=-257,NT(p,o,a,s,t),p.mode&1&&VT(s,c,t),t=p,l=c;var g=t.updateQueue;if(g===null){var m=new Set;m.add(l),t.updateQueue=m}else g.add(l);break e}else{if(!(t&1)){VT(s,c,t),Mx();break e}l=Error(oe(426))}}else if(Xt&&a.mode&1){var _=LT(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),NT(_,o,a,s,t),dx(tu(l,a));break e}}s=l=tu(l,a),Fn!==4&&(Fn=2),Bd===null?Bd=[s]:Bd.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var v=s4(s,l,t);TT(s,v);break e;case 1:a=l;var y=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(sa===null||!sa.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t;var x=o4(s,a,t);TT(s,x);break e}}s=s.return}while(s!==null)}E4(n)}catch(S){t=S,jn===n&&n!==null&&(jn=n=n.return);continue}break}while(!0)}function x4(){var e=nm.current;return nm.current=tm,e===null?tm:e}function Mx(){(Fn===0||Fn===3||Fn===2)&&(Fn=4),Xn===null||!(hl&268435455)&&!(F0&268435455)||zo(Xn,lr)}function sm(e,t){var n=ht;ht|=2;var r=x4();(Xn!==e||lr!==t)&&(to=null,Ka(e,t));do try{zne();break}catch(i){S4(e,i)}while(!0);if(hx(),ht=n,nm.current=r,jn!==null)throw Error(oe(261));return Xn=null,lr=0,Fn}function zne(){for(;jn!==null;)w4(jn)}function Une(){for(;jn!==null&&!pte();)w4(jn)}function w4(e){var t=C4(e.alternate,e,Xr);e.memoizedProps=e.pendingProps,t===null?E4(e):jn=t,kx.current=null}function E4(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Lne(n,t),n!==null){n.flags&=32767,jn=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Fn=6,jn=null;return}}else if(n=Vne(n,t,Xr),n!==null){jn=n;return}if(t=t.sibling,t!==null){jn=t;return}jn=t=e}while(t!==null);Fn===0&&(Fn=5)}function Va(e,t,n){var r=xt,i=Ni.transition;try{Ni.transition=null,xt=1,Hne(e,t,n,r)}finally{Ni.transition=i,xt=r}return null}function Hne(e,t,n,r){do Pc();while(Ko!==null);if(ht&6)throw Error(oe(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(oe(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(wte(e,s),e===Xn&&(jn=Xn=null,lr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||lp||(lp=!0,T4(Dg,function(){return Pc(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Ni.transition,Ni.transition=null;var o=xt;xt=1;var a=ht;ht|=4,kx.current=null,Bne(e,n),A4(n,e),une(W1),zg=!!q1,W1=q1=null,e.current=n,$ne(n),gte(),ht=a,xt=o,Ni.transition=s}else e.current=n;if(lp&&(lp=!1,Ko=e,im=i),s=e.pendingLanes,s===0&&(sa=null),yte(n.stateNode),Ur(e,bn()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(rm)throw rm=!1,e=h_,h_=null,e;return im&1&&e.tag!==0&&Pc(),s=e.pendingLanes,s&1?e===p_?$d++:($d=0,p_=e):$d=0,Aa(),null}function Pc(){if(Ko!==null){var e=iV(im),t=Ni.transition,n=xt;try{if(Ni.transition=null,xt=16>e?16:e,Ko===null)var r=!1;else{if(e=Ko,Ko=null,im=0,ht&6)throw Error(oe(331));var i=ht;for(ht|=4,_e=e.current;_e!==null;){var s=_e,o=s.child;if(_e.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(_e=c;_e!==null;){var u=_e;switch(u.tag){case 0:case 11:case 15:Nd(8,u,s)}var d=u.child;if(d!==null)d.return=u,_e=d;else for(;_e!==null;){u=_e;var h=u.sibling,p=u.return;if(m4(u),u===c){_e=null;break}if(h!==null){h.return=p,_e=h;break}_e=p}}}var g=s.alternate;if(g!==null){var m=g.child;if(m!==null){g.child=null;do{var _=m.sibling;m.sibling=null,m=_}while(m!==null)}}_e=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,_e=o;else e:for(;_e!==null;){if(s=_e,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Nd(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,_e=v;break e}_e=s.return}}var y=e.current;for(_e=y;_e!==null;){o=_e;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,_e=b;else e:for(o=y;_e!==null;){if(a=_e,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:D0(9,a)}}catch(S){dn(a,a.return,S)}if(a===o){_e=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,_e=x;break e}_e=a.return}}if(ht=i,Aa(),Fs&&typeof Fs.onPostCommitFiberRoot=="function")try{Fs.onPostCommitFiberRoot(P0,e)}catch{}r=!0}return r}finally{xt=n,Ni.transition=t}}return!1}function QT(e,t,n){t=tu(n,t),t=s4(e,t,1),e=ia(e,t,1),t=Rr(),e!==null&&(ih(e,1,t),Ur(e,t))}function dn(e,t,n){if(e.tag===3)QT(e,e,n);else for(;t!==null;){if(t.tag===3){QT(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(sa===null||!sa.has(r))){e=tu(n,e),e=o4(t,e,1),t=ia(t,e,1),e=Rr(),t!==null&&(ih(t,1,e),Ur(t,e));break}}t=t.return}}function Gne(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Rr(),e.pingedLanes|=e.suspendedLanes&n,Xn===e&&(lr&n)===n&&(Fn===4||Fn===3&&(lr&130023424)===lr&&500>bn()-Tx?Ka(e,0):Cx|=n),Ur(e,t)}function k4(e,t){t===0&&(e.mode&1?(t=Xh,Xh<<=1,!(Xh&130023424)&&(Xh=4194304)):t=1);var n=Rr();e=bo(e,t),e!==null&&(ih(e,t,n),Ur(e,n))}function qne(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),k4(e,n)}function Wne(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(oe(314))}r!==null&&r.delete(t),k4(e,n)}var C4;C4=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Fr.current)Dr=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Dr=!1,One(e,t,n);Dr=!!(e.flags&131072)}else Dr=!1,Xt&&t.flags&1048576&&RV(t,Yg,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Yp(e,t),e=t.pendingProps;var i=Jc(t,Ar.current);Mc(t,n),i=bx(null,t,r,e,i,n);var s=Sx();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,zr(r)?(s=!0,Wg(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,mx(t),i.updater=B0,t.stateNode=i,i._reactInternals=t,n_(t,r,e,n),t=s_(null,t,r,!0,s,n)):(t.tag=0,Xt&&s&&cx(t),wr(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Yp(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=Yne(r),e=Xi(r,e),i){case 0:t=i_(null,t,r,e,n);break e;case 1:t=DT(null,t,r,e,n);break e;case 11:t=BT(null,t,r,e,n);break e;case 14:t=$T(null,t,r,Xi(r.type,e),n);break e}throw Error(oe(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Xi(r,i),i_(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Xi(r,i),DT(e,t,r,i,n);case 3:e:{if(u4(t),e===null)throw Error(oe(387));r=t.pendingProps,s=t.memoizedState,i=s.element,OV(e,t),Xg(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=tu(Error(oe(423)),t),t=FT(e,t,r,n,i);break e}else if(r!==i){i=tu(Error(oe(424)),t),t=FT(e,t,r,n,i);break e}else for(si=ra(t.stateNode.containerInfo.firstChild),li=t,Xt=!0,rs=null,n=BV(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Xc(),r===i){t=So(e,t,n);break e}wr(e,t,r,n)}t=t.child}return t;case 5:return $V(t),e===null&&Z1(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,K1(r,i)?o=null:s!==null&&K1(r,s)&&(t.flags|=32),c4(e,t),wr(e,t,o,n),t.child;case 6:return e===null&&Z1(t),null;case 13:return d4(e,t,n);case 4:return vx(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Zc(t,null,r,n):wr(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Xi(r,i),BT(e,t,r,i,n);case 7:return wr(e,t,t.pendingProps,n),t.child;case 8:return wr(e,t,t.pendingProps.children,n),t.child;case 12:return wr(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,Bt(Qg,r._currentValue),r._currentValue=o,s!==null)if(vs(s.value,o)){if(s.children===i.children&&!Fr.current){t=So(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=fo(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),e_(s.return,n,t),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(oe(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),e_(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}wr(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Mc(t,n),i=Ui(i),r=r(i),t.flags|=1,wr(e,t,r,n),t.child;case 14:return r=t.type,i=Xi(r,t.pendingProps),i=Xi(r.type,i),$T(e,t,r,i,n);case 15:return a4(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Xi(r,i),Yp(e,t),t.tag=1,zr(r)?(e=!0,Wg(t)):e=!1,Mc(t,n),LV(t,r,i),n_(t,r,i,n),s_(null,t,r,!0,e,n);case 19:return f4(e,t,n);case 22:return l4(e,t,n)}throw Error(oe(156,t.tag))};function T4(e,t){return eV(e,t)}function Kne(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vi(e,t,n,r){return new Kne(e,t,n,r)}function Px(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Yne(e){if(typeof e=="function")return Px(e)?1:0;if(e!=null){if(e=e.$$typeof,e===JS)return 11;if(e===XS)return 14}return 2}function aa(e,t){var n=e.alternate;return n===null?(n=Vi(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Xp(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")Px(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case nc:return Ya(n.children,i,s,t);case QS:o=8,i|=8;break;case k1:return e=Vi(12,n,t,i|2),e.elementType=k1,e.lanes=s,e;case C1:return e=Vi(13,n,t,i),e.elementType=C1,e.lanes=s,e;case T1:return e=Vi(19,n,t,i),e.elementType=T1,e.lanes=s,e;case NO:return z0(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case VO:o=10;break e;case LO:o=9;break e;case JS:o=11;break e;case XS:o=14;break e;case No:o=16,r=null;break e}throw Error(oe(130,e==null?e:typeof e,""))}return t=Vi(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function Ya(e,t,n,r){return e=Vi(7,e,r,t),e.lanes=n,e}function z0(e,t,n,r){return e=Vi(22,e,r,t),e.elementType=NO,e.lanes=n,e.stateNode={isHidden:!1},e}function Ry(e,t,n){return e=Vi(6,e,null,t),e.lanes=n,e}function My(e,t,n){return t=Vi(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Qne(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=dy(0),this.expirationTimes=dy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dy(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function jx(e,t,n,r,i,s,o,a,l){return e=new Qne(e,t,n,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Vi(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},mx(s),e}function Jne(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:tc,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function I4(e){if(!e)return da;e=e._reactInternals;e:{if(Il(e)!==e||e.tag!==1)throw Error(oe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(zr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(oe(171))}if(e.tag===1){var n=e.type;if(zr(n))return TV(e,n,t)}return t}function R4(e,t,n,r,i,s,o,a,l){return e=jx(n,r,!0,e,i,s,o,a,l),e.context=I4(null),n=e.current,r=Rr(),i=oa(n),s=fo(r,i),s.callback=t??null,ia(n,s,i),e.current.lanes=i,ih(e,i,r),Ur(e,r),e}function U0(e,t,n,r){var i=t.current,s=Rr(),o=oa(i);return n=I4(n),t.context===null?t.context=n:t.pendingContext=n,t=fo(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=ia(i,t,o),e!==null&&(ps(e,i,o,s),qp(e,i,o)),o}function om(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function JT(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ox(e,t){JT(e,t),(e=e.alternate)&&JT(e,t)}function Xne(){return null}var M4=typeof reportError=="function"?reportError:function(e){console.error(e)};function Vx(e){this._internalRoot=e}H0.prototype.render=Vx.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(oe(409));U0(e,t,null,null)};H0.prototype.unmount=Vx.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;pl(function(){U0(null,e,null,null)}),t[_o]=null}};function H0(e){this._internalRoot=e}H0.prototype.unstable_scheduleHydration=function(e){if(e){var t=aV();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Fo.length&&t!==0&&t<Fo[n].priority;n++);Fo.splice(n,0,e),n===0&&cV(e)}};function Lx(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function G0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function XT(){}function Zne(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=om(o);s.call(c)}}var o=R4(t,r,e,0,null,!1,!1,"",XT);return e._reactRootContainer=o,e[_o]=o.current,_f(e.nodeType===8?e.parentNode:e),pl(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=om(l);a.call(c)}}var l=jx(e,0,!1,null,null,!1,!1,"",XT);return e._reactRootContainer=l,e[_o]=l.current,_f(e.nodeType===8?e.parentNode:e),pl(function(){U0(t,l,n,r)}),l}function q0(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=om(o);a.call(l)}}U0(t,o,e,i)}else o=Zne(n,t,e,i,r);return om(o)}sV=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ud(t.pendingLanes);n!==0&&(tx(t,n|1),Ur(t,bn()),!(ht&6)&&(nu=bn()+500,Aa()))}break;case 13:pl(function(){var r=bo(e,1);if(r!==null){var i=Rr();ps(r,e,1,i)}}),Ox(e,1)}};nx=function(e){if(e.tag===13){var t=bo(e,134217728);if(t!==null){var n=Rr();ps(t,e,134217728,n)}Ox(e,134217728)}};oV=function(e){if(e.tag===13){var t=oa(e),n=bo(e,t);if(n!==null){var r=Rr();ps(n,e,t,r)}Ox(e,t)}};aV=function(){return xt};lV=function(e,t){var n=xt;try{return xt=e,t()}finally{xt=n}};B1=function(e,t,n){switch(t){case"input":if(M1(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=L0(r);if(!i)throw Error(oe(90));$O(r),M1(r,i)}}}break;case"textarea":FO(e,n);break;case"select":t=n.value,t!=null&&Cc(e,!!n.multiple,t,!1)}};KO=Ix;YO=pl;var ere={usingClientEntryPoint:!1,Events:[oh,oc,L0,qO,WO,Ix]},Wu={findFiberByHostInstance:Fa,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},tre={bundleType:Wu.bundleType,version:Wu.version,rendererPackageName:Wu.rendererPackageName,rendererConfig:Wu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Io.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=XO(e),e===null?null:e.stateNode},findFiberByHostInstance:Wu.findFiberByHostInstance||Xne,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cp.isDisabled&&cp.supportsFiber)try{P0=cp.inject(tre),Fs=cp}catch{}}mi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ere;mi.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Lx(t))throw Error(oe(200));return Jne(e,t,null,n)};mi.createRoot=function(e,t){if(!Lx(e))throw Error(oe(299));var n=!1,r="",i=M4;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=jx(e,1,!1,null,null,n,!1,r,i),e[_o]=t.current,_f(e.nodeType===8?e.parentNode:e),new Vx(t)};mi.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(oe(188)):(e=Object.keys(e).join(","),Error(oe(268,e)));return e=XO(t),e=e===null?null:e.stateNode,e};mi.flushSync=function(e){return pl(e)};mi.hydrate=function(e,t,n){if(!G0(t))throw Error(oe(200));return q0(null,e,t,!0,n)};mi.hydrateRoot=function(e,t,n){if(!Lx(e))throw Error(oe(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=M4;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=R4(t,null,e,1,n??null,i,!1,s,o),e[_o]=t.current,_f(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new H0(t)};mi.render=function(e,t,n){if(!G0(t))throw Error(oe(200));return q0(null,e,t,!1,n)};mi.unmountComponentAtNode=function(e){if(!G0(e))throw Error(oe(40));return e._reactRootContainer?(pl(function(){q0(null,null,e,!1,function(){e._reactRootContainer=null,e[_o]=null})}),!0):!1};mi.unstable_batchedUpdates=Ix;mi.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!G0(n))throw Error(oe(200));if(e==null||e._reactInternals===void 0)throw Error(oe(38));return q0(e,t,n,!1,r)};mi.version="18.2.0-next-9e3b772b8-20220608";function P4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(P4)}catch(e){console.error(e)}}P4(),RO.exports=mi;var xu=RO.exports;const jAe=ur(xu),ZT=Te.createContext(null);function nre(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Nx(e,t){var n=function(s){return t&&A.isValidElement(s)?t(s):s},r=Object.create(null);return e&&A.Children.map(e,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function rre(e,t){e=e||{},t=t||{};function n(u){return u in t?t[u]:e[u]}var r=Object.create(null),i=[];for(var s in e)s in t?i.length&&(r[s]=i,i=[]):i.push(s);var o,a={};for(var l in t){if(r[l])for(o=0;o<r[l].length;o++){var c=r[l][o];a[r[l][o]]=n(c)}a[l]=n(l)}for(o=0;o<i.length;o++)a[i[o]]=n(i[o]);return a}function Ha(e,t,n){return n[t]!=null?n[t]:e.props[t]}function ire(e,t){return Nx(e.children,function(n){return A.cloneElement(n,{onExited:t.bind(null,n),in:!0,appear:Ha(n,"appear",e),enter:Ha(n,"enter",e),exit:Ha(n,"exit",e)})})}function sre(e,t,n){var r=Nx(e.children),i=rre(t,r);return Object.keys(i).forEach(function(s){var o=i[s];if(A.isValidElement(o)){var a=s in t,l=s in r,c=t[s],u=A.isValidElement(c)&&!c.props.in;l&&(!a||u)?i[s]=A.cloneElement(o,{onExited:n.bind(null,o),in:!0,exit:Ha(o,"exit",e),enter:Ha(o,"enter",e)}):!l&&a&&!u?i[s]=A.cloneElement(o,{in:!1}):l&&a&&A.isValidElement(c)&&(i[s]=A.cloneElement(o,{onExited:n.bind(null,o),in:c.props.in,exit:Ha(o,"exit",e),enter:Ha(o,"enter",e)}))}}),i}var ore=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},are={component:"div",childFactory:function(t){return t}},Bx=function(e){Xee(t,e);function t(r,i){var s;s=e.call(this,r,i)||this;var o=s.handleExited.bind(nre(s));return s.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},s}var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(i,s){var o=s.children,a=s.handleExited,l=s.firstRender;return{children:l?ire(i,a):sre(i,o,a),firstRender:!1}},n.handleExited=function(i,s){var o=Nx(this.props.children);i.key in o||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(a){var l=Pe({},a.children);return delete l[i.key],{children:l}}))},n.render=function(){var i=this.props,s=i.component,o=i.childFactory,a=br(i,["component","childFactory"]),l=this.state.contextValue,c=ore(this.state.children).map(o);return delete a.appear,delete a.enter,delete a.exit,s===null?Te.createElement(ZT.Provider,{value:l},c):Te.createElement(ZT.Provider,{value:l},Te.createElement(s,a,c))},t}(Te.Component);Bx.propTypes={};Bx.defaultProps=are;const lre=Bx;function $x(e,t=0,n=1){return lO(e,t,n)}function cre(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function W0(e){if(e.type)return e;if(e.charAt(0)==="#")return W0(cre(e));const t=e.indexOf("("),n=e.substring(0,t);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error(cl(9,e));let r=e.substring(t+1,e.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error(cl(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}function Dx(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return t.indexOf("rgb")!==-1?r=r.map((i,s)=>s<3?parseInt(i,10):i):t.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),t.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${t}(${r})`}function ure(e,t){return e=W0(e),t=$x(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,Dx(e)}function OAe(e,t){if(e=W0(e),t=$x(t),e.type.indexOf("hsl")!==-1)e.values[2]*=1-t;else if(e.type.indexOf("rgb")!==-1||e.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)e.values[n]*=1-t;return Dx(e)}function VAe(e,t){if(e=W0(e),t=$x(t),e.type.indexOf("hsl")!==-1)e.values[2]+=(100-e.values[2])*t;else if(e.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(e.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return Dx(e)}const dre=A.createContext(null),j4=dre;function O4(){return A.useContext(j4)}const fre=typeof Symbol=="function"&&Symbol.for,hre=fre?Symbol.for("mui.nested"):"__THEME_NESTED__";function pre(e,t){return typeof t=="function"?t(e):Pe({},e,t)}function gre(e){const{children:t,theme:n}=e,r=O4(),i=A.useMemo(()=>{const s=r===null?n:pre(r,n);return s!=null&&(s[hre]=r!==null),s},[n,r]);return f.jsx(j4.Provider,{value:i,children:t})}const mre=["value"],V4=A.createContext();function vre(e){let{value:t}=e,n=br(e,mre);return f.jsx(V4.Provider,Pe({value:t??!0},n))}const LAe=()=>{const e=A.useContext(V4);return e??!1},eI={};function tI(e,t,n,r=!1){return A.useMemo(()=>{const i=e&&t[e]||t;if(typeof n=="function"){const s=n(i),o=e?Pe({},t,{[e]:s}):s;return r?()=>o:o}return e?Pe({},t,{[e]:n}):Pe({},t,n)},[e,t,n,r])}function yre(e){const{children:t,theme:n,themeId:r}=e,i=yO(eI),s=O4()||eI,o=tI(r,i,n),a=tI(r,s,n,!0),l=o.direction==="rtl";return f.jsx(gre,{theme:a,children:f.jsx(Yf.Provider,{value:o,children:f.jsx(vre,{value:l,children:t})})})}function Are(e){const{className:t,classes:n,pulsate:r=!1,rippleX:i,rippleY:s,rippleSize:o,in:a,onExited:l,timeout:c}=e,[u,d]=A.useState(!1),h=Lr(t,n.ripple,n.rippleVisible,r&&n.ripplePulsate),p={width:o,height:o,top:-(o/2)+s,left:-(o/2)+i},g=Lr(n.child,u&&n.childLeaving,r&&n.childPulsate);return!a&&!u&&d(!0),A.useEffect(()=>{if(!a&&l!=null){const m=setTimeout(l,c);return()=>{clearTimeout(m)}}},[l,a,c]),f.jsx("span",{className:h,style:p,children:f.jsx("span",{className:g})})}const ki=vu("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),_re=["center","classes","className"];let K0=e=>e,nI,rI,iI,sI;const v_=550,bre=80,Sre=ga(nI||(nI=K0`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),xre=ga(rI||(rI=K0`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),wre=ga(iI||(iI=K0`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),Ere=To("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),kre=To(Are,{name:"MuiTouchRipple",slot:"Ripple"})(sI||(sI=K0`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),ki.rippleVisible,Sre,v_,({theme:e})=>e.transitions.easing.easeInOut,ki.ripplePulsate,({theme:e})=>e.transitions.duration.shorter,ki.child,ki.childLeaving,xre,v_,({theme:e})=>e.transitions.easing.easeInOut,ki.childPulsate,wre,({theme:e})=>e.transitions.easing.easeInOut),Cre=A.forwardRef(function(t,n){const r=Au({props:t,name:"MuiTouchRipple"}),{center:i=!1,classes:s={},className:o}=r,a=br(r,_re),[l,c]=A.useState([]),u=A.useRef(0),d=A.useRef(null);A.useEffect(()=>{d.current&&(d.current(),d.current=null)},[l]);const h=A.useRef(!1),p=YJ(),g=A.useRef(null),m=A.useRef(null),_=A.useCallback(x=>{const{pulsate:S,rippleX:w,rippleY:E,rippleSize:I,cb:z}=x;c(N=>[...N,f.jsx(kre,{classes:{ripple:Lr(s.ripple,ki.ripple),rippleVisible:Lr(s.rippleVisible,ki.rippleVisible),ripplePulsate:Lr(s.ripplePulsate,ki.ripplePulsate),child:Lr(s.child,ki.child),childLeaving:Lr(s.childLeaving,ki.childLeaving),childPulsate:Lr(s.childPulsate,ki.childPulsate)},timeout:v_,pulsate:S,rippleX:w,rippleY:E,rippleSize:I},u.current)]),u.current+=1,d.current=z},[s]),v=A.useCallback((x={},S={},w=()=>{})=>{const{pulsate:E=!1,center:I=i||S.pulsate,fakeElement:z=!1}=S;if((x==null?void 0:x.type)==="mousedown"&&h.current){h.current=!1;return}(x==null?void 0:x.type)==="touchstart"&&(h.current=!0);const N=z?null:m.current,D=N?N.getBoundingClientRect():{width:0,height:0,left:0,top:0};let Q,P,L;if(I||x===void 0||x.clientX===0&&x.clientY===0||!x.clientX&&!x.touches)Q=Math.round(D.width/2),P=Math.round(D.height/2);else{const{clientX:M,clientY:T}=x.touches&&x.touches.length>0?x.touches[0]:x;Q=Math.round(M-D.left),P=Math.round(T-D.top)}if(I)L=Math.sqrt((2*D.width**2+D.height**2)/3),L%2===0&&(L+=1);else{const M=Math.max(Math.abs((N?N.clientWidth:0)-Q),Q)*2+2,T=Math.max(Math.abs((N?N.clientHeight:0)-P),P)*2+2;L=Math.sqrt(M**2+T**2)}x!=null&&x.touches?g.current===null&&(g.current=()=>{_({pulsate:E,rippleX:Q,rippleY:P,rippleSize:L,cb:w})},p.start(bre,()=>{g.current&&(g.current(),g.current=null)})):_({pulsate:E,rippleX:Q,rippleY:P,rippleSize:L,cb:w})},[i,_,p]),y=A.useCallback(()=>{v({},{pulsate:!0})},[v]),b=A.useCallback((x,S)=>{if(p.clear(),(x==null?void 0:x.type)==="touchend"&&g.current){g.current(),g.current=null,p.start(0,()=>{b(x,S)});return}g.current=null,c(w=>w.length>0?w.slice(1):w),d.current=S},[p]);return A.useImperativeHandle(n,()=>({pulsate:y,start:v,stop:b}),[y,v,b]),f.jsx(Ere,Pe({className:Lr(ki.root,s.root,o),ref:m},a,{children:f.jsx(lre,{component:null,exit:!0,children:l})}))}),Tre=Cre;function Ire(e){return mu("MuiButtonBase",e)}const Rre=vu("MuiButtonBase",["root","disabled","focusVisible"]),Mre=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],Pre=e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:r,classes:i}=e,o=Zf({root:["root",t&&"disabled",n&&"focusVisible"]},Ire,i);return n&&r&&(o.root+=` ${r}`),o},jre=To("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${Rre.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),Ore=A.forwardRef(function(t,n){const r=Au({props:t,name:"MuiButtonBase"}),{action:i,centerRipple:s=!1,children:o,className:a,component:l="button",disabled:c=!1,disableRipple:u=!1,disableTouchRipple:d=!1,focusRipple:h=!1,LinkComponent:p="a",onBlur:g,onClick:m,onContextMenu:_,onDragLeave:v,onFocus:y,onFocusVisible:b,onKeyDown:x,onKeyUp:S,onMouseDown:w,onMouseLeave:E,onMouseUp:I,onTouchEnd:z,onTouchMove:N,onTouchStart:D,tabIndex:Q=0,TouchRippleProps:P,touchRippleRef:L,type:M}=r,T=br(r,Mre),U=A.useRef(null),j=A.useRef(null),$=y1(j,L),{isFocusVisibleRef:V,onFocus:G,onBlur:F,ref:ne}=sO(),[O,fe]=A.useState(!1);c&&O&&fe(!1),A.useImperativeHandle(i,()=>({focusVisible:()=>{fe(!0),U.current.focus()}}),[]);const[Z,ae]=A.useState(!1);A.useEffect(()=>{ae(!0)},[]);const je=Z&&!u&&!c;A.useEffect(()=>{O&&h&&!u&&Z&&j.current.pulsate()},[u,h,O,Z]);function Ae(ve,tt,pn=d){return ad(ut=>(tt&&tt(ut),!pn&&j.current&&j.current[ve](ut),!0))}const ce=Ae("start",w),be=Ae("stop",_),He=Ae("stop",v),Fe=Ae("stop",I),Se=Ae("stop",ve=>{O&&ve.preventDefault(),E&&E(ve)}),Ee=Ae("start",D),Ke=Ae("stop",z),Ye=Ae("stop",N),Ie=Ae("stop",ve=>{F(ve),V.current===!1&&fe(!1),g&&g(ve)},!1),ot=ad(ve=>{U.current||(U.current=ve.currentTarget),G(ve),V.current===!0&&(fe(!0),b&&b(ve)),y&&y(ve)}),kt=()=>{const ve=U.current;return l&&l!=="button"&&!(ve.tagName==="A"&&ve.href)},Zt=A.useRef(!1),Rt=ad(ve=>{h&&!Zt.current&&O&&j.current&&ve.key===" "&&(Zt.current=!0,j.current.stop(ve,()=>{j.current.start(ve)})),ve.target===ve.currentTarget&&kt()&&ve.key===" "&&ve.preventDefault(),x&&x(ve),ve.target===ve.currentTarget&&kt()&&ve.key==="Enter"&&!c&&(ve.preventDefault(),m&&m(ve))}),hn=ad(ve=>{h&&ve.key===" "&&j.current&&O&&!ve.defaultPrevented&&(Zt.current=!1,j.current.stop(ve,()=>{j.current.pulsate(ve)})),S&&S(ve),m&&ve.target===ve.currentTarget&&kt()&&ve.key===" "&&!ve.defaultPrevented&&m(ve)});let lt=l;lt==="button"&&(T.href||T.to)&&(lt=p);const At={};lt==="button"?(At.type=M===void 0?"button":M,At.disabled=c):(!T.href&&!T.to&&(At.role="button"),c&&(At["aria-disabled"]=c));const Gt=y1(n,ne,U),Je=Pe({},r,{centerRipple:s,component:l,disabled:c,disableRipple:u,disableTouchRipple:d,focusRipple:h,tabIndex:Q,focusVisible:O}),Mt=Pre(Je);return f.jsxs(jre,Pe({as:lt,className:Lr(Mt.root,a),ownerState:Je,onBlur:Ie,onClick:m,onContextMenu:be,onFocus:ot,onKeyDown:Rt,onKeyUp:hn,onMouseDown:ce,onMouseLeave:Se,onMouseUp:Fe,onDragLeave:He,onTouchEnd:Ke,onTouchMove:Ye,onTouchStart:Ee,ref:Gt,tabIndex:c?-1:Q,type:M},At,T,{children:[o,je?f.jsx(Tre,Pe({ref:$,center:s},P)):null]}))}),Vre=Ore;function Lre(e){return mu("MuiIconButton",e)}const Nre=vu("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),Bre=["edge","children","className","color","disabled","disableFocusRipple","size"],$re=e=>{const{classes:t,disabled:n,color:r,edge:i,size:s}=e,o={root:["root",n&&"disabled",r!=="default"&&`color${Jn(r)}`,i&&`edge${Jn(i)}`,`size${Jn(s)}`]};return Zf(o,Lre,t)},Dre=To(Vre,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="default"&&t[`color${Jn(n.color)}`],n.edge&&t[`edge${Jn(n.edge)}`],t[`size${Jn(n.size)}`]]}})(({theme:e,ownerState:t})=>Pe({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest})},!t.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:NC(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.edge==="start"&&{marginLeft:t.size==="small"?-3:-12},t.edge==="end"&&{marginRight:t.size==="small"?-3:-12}),({theme:e,ownerState:t})=>{var n;const r=(n=(e.vars||e).palette)==null?void 0:n[t.color];return Pe({},t.color==="inherit"&&{color:"inherit"},t.color!=="inherit"&&t.color!=="default"&&Pe({color:r==null?void 0:r.main},!t.disableRipple&&{"&:hover":Pe({},r&&{backgroundColor:e.vars?`rgba(${r.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:NC(r.main,e.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),t.size==="small"&&{padding:5,fontSize:e.typography.pxToRem(18)},t.size==="large"&&{padding:12,fontSize:e.typography.pxToRem(28)},{[`&.${Nre.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled}})}),Fre=A.forwardRef(function(t,n){const r=Au({props:t,name:"MuiIconButton"}),{edge:i=!1,children:s,className:o,color:a="default",disabled:l=!1,disableFocusRipple:c=!1,size:u="medium"}=r,d=br(r,Bre),h=Pe({},r,{edge:i,color:a,disabled:l,disableFocusRipple:c,size:u}),p=$re(h);return f.jsx(Dre,Pe({className:Lr(p.root,o),centerRipple:!0,focusRipple:!c,disabled:l,ref:n},d,{ownerState:h,children:s}))}),Fx=Fre,ru=Math.min,Qa=Math.max,am=Math.round,up=Math.floor,fa=e=>({x:e,y:e}),zre={left:"right",right:"left",bottom:"top",top:"bottom"},Ure={start:"end",end:"start"};function y_(e,t,n){return Qa(e,ru(t,n))}function lh(e,t){return typeof e=="function"?e(t):e}function gl(e){return e.split("-")[0]}function ch(e){return e.split("-")[1]}function L4(e){return e==="x"?"y":"x"}function zx(e){return e==="y"?"height":"width"}function Y0(e){return["top","bottom"].includes(gl(e))?"y":"x"}function Ux(e){return L4(Y0(e))}function Hre(e,t,n){n===void 0&&(n=!1);const r=ch(e),i=Ux(e),s=zx(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(o=lm(o)),[o,lm(o)]}function Gre(e){const t=lm(e);return[A_(e),t,A_(t)]}function A_(e){return e.replace(/start|end/g,t=>Ure[t])}function qre(e,t,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?s:o;default:return[]}}function Wre(e,t,n,r){const i=ch(e);let s=qre(gl(e),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),t&&(s=s.concat(s.map(A_)))),s}function lm(e){return e.replace(/left|right|bottom|top/g,t=>zre[t])}function Kre(e){return{top:0,right:0,bottom:0,left:0,...e}}function N4(e){return typeof e!="number"?Kre(e):{top:e,right:e,bottom:e,left:e}}function cm(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}function oI(e,t,n){let{reference:r,floating:i}=e;const s=Y0(t),o=Ux(t),a=zx(o),l=gl(t),c=s==="y",u=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,h=r[a]/2-i[a]/2;let p;switch(l){case"top":p={x:u,y:r.y-i.height};break;case"bottom":p={x:u,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:d};break;case"left":p={x:r.x-i.width,y:d};break;default:p={x:r.x,y:r.y}}switch(ch(t)){case"start":p[o]-=h*(n&&c?-1:1);break;case"end":p[o]+=h*(n&&c?-1:1);break}return p}const Yre=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(t));let c=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:u,y:d}=oI(c,r,l),h=r,p={},g=0;for(let m=0;m<a.length;m++){const{name:_,fn:v}=a[m],{x:y,y:b,data:x,reset:S}=await v({x:u,y:d,initialPlacement:r,placement:h,strategy:i,middlewareData:p,rects:c,platform:o,elements:{reference:e,floating:t}});u=y??u,d=b??d,p={...p,[_]:{...p[_],...x}},S&&g<=50&&(g++,typeof S=="object"&&(S.placement&&(h=S.placement),S.rects&&(c=S.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):S.rects),{x:u,y:d}=oI(c,h,l)),m=-1)}return{x:u,y:d,placement:h,strategy:i,middlewareData:p}};async function B4(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:h=!1,padding:p=0}=lh(t,e),g=N4(p),_=a[h?d==="floating"?"reference":"floating":d],v=cm(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(_)))==null||n?_:_.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),y=d==="floating"?{...o.floating,x:r,y:i}:o.reference,b=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),x=await(s.isElement==null?void 0:s.isElement(b))?await(s.getScale==null?void 0:s.getScale(b))||{x:1,y:1}:{x:1,y:1},S=cm(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:b,strategy:l}):y);return{top:(v.top-S.top+g.top)/x.y,bottom:(S.bottom-v.bottom+g.bottom)/x.y,left:(v.left-S.left+g.left)/x.x,right:(S.right-v.right+g.right)/x.x}}const Qre=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=t,{element:c,padding:u=0}=lh(e,t)||{};if(c==null)return{};const d=N4(u),h={x:n,y:r},p=Ux(i),g=zx(p),m=await o.getDimensions(c),_=p==="y",v=_?"top":"left",y=_?"bottom":"right",b=_?"clientHeight":"clientWidth",x=s.reference[g]+s.reference[p]-h[p]-s.floating[g],S=h[p]-s.reference[p],w=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let E=w?w[b]:0;(!E||!await(o.isElement==null?void 0:o.isElement(w)))&&(E=a.floating[b]||s.floating[g]);const I=x/2-S/2,z=E/2-m[g]/2-1,N=ru(d[v],z),D=ru(d[y],z),Q=N,P=E-m[g]-D,L=E/2-m[g]/2+I,M=y_(Q,L,P),T=!l.arrow&&ch(i)!=null&&L!==M&&s.reference[g]/2-(L<Q?N:D)-m[g]/2<0,U=T?L<Q?L-Q:L-P:0;return{[p]:h[p]+U,data:{[p]:M,centerOffset:L-M-U,...T&&{alignmentOffset:U}},reset:T}}}),Jre=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=t,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:m=!0,..._}=lh(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const v=gl(i),y=gl(a)===a,b=await(l.isRTL==null?void 0:l.isRTL(c.floating)),x=h||(y||!m?[lm(a)]:Gre(a));!h&&g!=="none"&&x.push(...Wre(a,m,g,b));const S=[a,...x],w=await B4(t,_),E=[];let I=((r=s.flip)==null?void 0:r.overflows)||[];if(u&&E.push(w[v]),d){const Q=Hre(i,o,b);E.push(w[Q[0]],w[Q[1]])}if(I=[...I,{placement:i,overflows:E}],!E.every(Q=>Q<=0)){var z,N;const Q=(((z=s.flip)==null?void 0:z.index)||0)+1,P=S[Q];if(P)return{data:{index:Q,overflows:I},reset:{placement:P}};let L=(N=I.filter(M=>M.overflows[0]<=0).sort((M,T)=>M.overflows[1]-T.overflows[1])[0])==null?void 0:N.placement;if(!L)switch(p){case"bestFit":{var D;const M=(D=I.map(T=>[T.placement,T.overflows.filter(U=>U>0).reduce((U,j)=>U+j,0)]).sort((T,U)=>T[1]-U[1])[0])==null?void 0:D[0];M&&(L=M);break}case"initialPlacement":L=a;break}if(i!==L)return{reset:{placement:L}}}return{}}}};async function Xre(e,t){const{placement:n,platform:r,elements:i}=e,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=gl(n),a=ch(n),l=Y0(n)==="y",c=["left","top"].includes(o)?-1:1,u=s&&l?-1:1,d=lh(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:g}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...d};return a&&typeof g=="number"&&(p=a==="end"?g*-1:g),l?{x:p*u,y:h*c}:{x:h*c,y:p*u}}const Zre=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=t,l=await Xre(t,e);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},eie=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:_=>{let{x:v,y}=_;return{x:v,y}}},...l}=lh(e,t),c={x:n,y:r},u=await B4(t,l),d=Y0(gl(i)),h=L4(d);let p=c[h],g=c[d];if(s){const _=h==="y"?"top":"left",v=h==="y"?"bottom":"right",y=p+u[_],b=p-u[v];p=y_(y,p,b)}if(o){const _=d==="y"?"top":"left",v=d==="y"?"bottom":"right",y=g+u[_],b=g-u[v];g=y_(y,g,b)}const m=a.fn({...t,[h]:p,[d]:g});return{...m,data:{x:m.x-n,y:m.y-r}}}}};function ha(e){return $4(e)?(e.nodeName||"").toLowerCase():"#document"}function ci(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Ro(e){var t;return(t=($4(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function $4(e){return e instanceof Node||e instanceof ci(e).Node}function xo(e){return e instanceof Element||e instanceof ci(e).Element}function Ws(e){return e instanceof HTMLElement||e instanceof ci(e).HTMLElement}function aI(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ci(e).ShadowRoot}function uh(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=Gi(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function tie(e){return["table","td","th"].includes(ha(e))}function Hx(e){const t=Gx(),n=Gi(e);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function D4(e){let t=iu(e);for(;Ws(t)&&!Q0(t);){if(Hx(t))return t;t=iu(t)}return null}function Gx(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Q0(e){return["html","body","#document"].includes(ha(e))}function Gi(e){return ci(e).getComputedStyle(e)}function J0(e){return xo(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function iu(e){if(ha(e)==="html")return e;const t=e.assignedSlot||e.parentNode||aI(e)&&e.host||Ro(e);return aI(t)?t.host:t}function F4(e){const t=iu(e);return Q0(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ws(t)&&uh(t)?t:F4(t)}function If(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=F4(e),s=i===((r=e.ownerDocument)==null?void 0:r.body),o=ci(i);return s?t.concat(o,o.visualViewport||[],uh(i)?i:[],o.frameElement&&n?If(o.frameElement):[]):t.concat(i,If(i,[],n))}function z4(e){const t=Gi(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Ws(e),s=i?e.offsetWidth:n,o=i?e.offsetHeight:r,a=am(n)!==s||am(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function qx(e){return xo(e)?e:e.contextElement}function jc(e){const t=qx(e);if(!Ws(t))return fa(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:s}=z4(t);let o=(s?am(n.width):n.width)/r,a=(s?am(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const nie=fa(0);function U4(e){const t=ci(e);return!Gx()||!t.visualViewport?nie:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function rie(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==ci(e)?!1:t}function ml(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),s=qx(e);let o=fa(1);t&&(r?xo(r)&&(o=jc(r)):o=jc(e));const a=rie(s,n,r)?U4(s):fa(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,u=i.width/o.x,d=i.height/o.y;if(s){const h=ci(s),p=r&&xo(r)?ci(r):r;let g=h.frameElement;for(;g&&r&&p!==h;){const m=jc(g),_=g.getBoundingClientRect(),v=Gi(g),y=_.left+(g.clientLeft+parseFloat(v.paddingLeft))*m.x,b=_.top+(g.clientTop+parseFloat(v.paddingTop))*m.y;l*=m.x,c*=m.y,u*=m.x,d*=m.y,l+=y,c+=b,g=ci(g).frameElement}}return cm({width:u,height:d,x:l,y:c})}const iie=[":popover-open",":modal"];function H4(e){let t=!1,n=0,r=0;function i(s){try{t=t||e.matches(s)}catch{}}if(iie.forEach(s=>{i(s)}),t){const s=D4(e);if(s){const o=s.getBoundingClientRect();n=o.x,r=o.y}}return[t,n,r]}function sie(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const s=Ro(r),[o]=t?H4(t.floating):[!1];if(r===s||o)return n;let a={scrollLeft:0,scrollTop:0},l=fa(1);const c=fa(0),u=Ws(r);if((u||!u&&i!=="fixed")&&((ha(r)!=="body"||uh(s))&&(a=J0(r)),Ws(r))){const d=ml(r);l=jc(r),c.x=d.x+r.clientLeft,c.y=d.y+r.clientTop}return{width:n.width*l.x,height:n.height*l.y,x:n.x*l.x-a.scrollLeft*l.x+c.x,y:n.y*l.y-a.scrollTop*l.y+c.y}}function oie(e){return Array.from(e.getClientRects())}function G4(e){return ml(Ro(e)).left+J0(e).scrollLeft}function aie(e){const t=Ro(e),n=J0(e),r=e.ownerDocument.body,i=Qa(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=Qa(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+G4(e);const a=-n.scrollTop;return Gi(r).direction==="rtl"&&(o+=Qa(t.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function lie(e,t){const n=ci(e),r=Ro(e),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const c=Gx();(!c||c&&t==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function cie(e,t){const n=ml(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,s=Ws(e)?jc(e):fa(1),o=e.clientWidth*s.x,a=e.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function lI(e,t,n){let r;if(t==="viewport")r=lie(e,n);else if(t==="document")r=aie(Ro(e));else if(xo(t))r=cie(t,n);else{const i=U4(e);r={...t,x:t.x-i.x,y:t.y-i.y}}return cm(r)}function q4(e,t){const n=iu(e);return n===t||!xo(n)||Q0(n)?!1:Gi(n).position==="fixed"||q4(n,t)}function uie(e,t){const n=t.get(e);if(n)return n;let r=If(e,[],!1).filter(a=>xo(a)&&ha(a)!=="body"),i=null;const s=Gi(e).position==="fixed";let o=s?iu(e):e;for(;xo(o)&&!Q0(o);){const a=Gi(o),l=Hx(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||uh(o)&&!l&&q4(e,o))?r=r.filter(u=>u!==o):i=a,o=iu(o)}return t.set(e,r),r}function die(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const o=[...n==="clippingAncestors"?uie(t,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,u)=>{const d=lI(t,u,i);return c.top=Qa(d.top,c.top),c.right=ru(d.right,c.right),c.bottom=ru(d.bottom,c.bottom),c.left=Qa(d.left,c.left),c},lI(t,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function fie(e){const{width:t,height:n}=z4(e);return{width:t,height:n}}function hie(e,t,n,r){const i=Ws(t),s=Ro(t),o=n==="fixed",a=ml(e,!0,o,t);let l={scrollLeft:0,scrollTop:0};const c=fa(0);if(i||!i&&!o)if((ha(t)!=="body"||uh(s))&&(l=J0(t)),i){const m=ml(t,!0,o,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else s&&(c.x=G4(s));let u=a.left+l.scrollLeft-c.x,d=a.top+l.scrollTop-c.y;const[h,p,g]=H4(r);return h&&(u+=p,d+=g,i&&(u+=t.clientLeft,d+=t.clientTop)),{x:u,y:d,width:a.width,height:a.height}}function cI(e,t){return!Ws(e)||Gi(e).position==="fixed"?null:t?t(e):e.offsetParent}function W4(e,t){const n=ci(e);if(!Ws(e))return n;let r=cI(e,t);for(;r&&tie(r)&&Gi(r).position==="static";)r=cI(r,t);return r&&(ha(r)==="html"||ha(r)==="body"&&Gi(r).position==="static"&&!Hx(r))?n:r||D4(e)||n}const pie=async function(e){const t=this.getOffsetParent||W4,n=this.getDimensions;return{reference:hie(e.reference,await t(e.floating),e.strategy,e.floating),floating:{x:0,y:0,...await n(e.floating)}}};function gie(e){return Gi(e).direction==="rtl"}const mie={convertOffsetParentRelativeRectToViewportRelativeRect:sie,getDocumentElement:Ro,getClippingRect:die,getOffsetParent:W4,getElementRects:pie,getClientRects:oie,getDimensions:fie,getScale:jc,isElement:xo,isRTL:gie};function vie(e,t){let n=null,r;const i=Ro(e);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const{left:c,top:u,width:d,height:h}=e.getBoundingClientRect();if(a||t(),!d||!h)return;const p=up(u),g=up(i.clientWidth-(c+d)),m=up(i.clientHeight-(u+h)),_=up(c),y={rootMargin:-p+"px "+-g+"px "+-m+"px "+-_+"px",threshold:Qa(0,ru(1,l))||1};let b=!0;function x(S){const w=S[0].intersectionRatio;if(w!==l){if(!b)return o();w?o(!1,w):r=setTimeout(()=>{o(!1,1e-7)},100)}b=!1}try{n=new IntersectionObserver(x,{...y,root:i.ownerDocument})}catch{n=new IntersectionObserver(x,y)}n.observe(e)}return o(!0),s}function yie(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=qx(e),u=i||s?[...c?If(c):[],...If(t)]:[];u.forEach(v=>{i&&v.addEventListener("scroll",n,{passive:!0}),s&&v.addEventListener("resize",n)});const d=c&&a?vie(c,n):null;let h=-1,p=null;o&&(p=new ResizeObserver(v=>{let[y]=v;y&&y.target===c&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var b;(b=p)==null||b.observe(t)})),n()}),c&&!l&&p.observe(c),p.observe(t));let g,m=l?ml(e):null;l&&_();function _(){const v=ml(e);m&&(v.x!==m.x||v.y!==m.y||v.width!==m.width||v.height!==m.height)&&n(),m=v,g=requestAnimationFrame(_)}return n(),()=>{var v;u.forEach(y=>{i&&y.removeEventListener("scroll",n),s&&y.removeEventListener("resize",n)}),d==null||d(),(v=p)==null||v.disconnect(),p=null,l&&cancelAnimationFrame(g)}}const Aie=eie,_ie=Jre,bie=Qre,uI=(e,t,n)=>{const r=new Map,i={platform:mie,...n},s={...i.platform,_c:r};return Yre(e,t,{...i,platform:s})};var K4={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=i(s,r(a)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)t.call(s,a)&&s[a]&&(o=i(o,a));return o}function i(s,o){return o?s?s+" "+o:s+o:s}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(K4);var Sie=K4.exports;const __=ur(Sie);var dI={};const xie="react-tooltip-core-styles",wie="react-tooltip-base-styles",fI={core:!1,base:!1};function hI({css:e,id:t=wie,type:n="base",ref:r}){var i,s;if(!e||typeof document>"u"||fI[n]||n==="core"&&typeof process<"u"&&(!((i=process==null?void 0:dI)===null||i===void 0)&&i.REACT_TOOLTIP_DISABLE_CORE_STYLES)||n!=="base"&&typeof process<"u"&&(!((s=process==null?void 0:dI)===null||s===void 0)&&s.REACT_TOOLTIP_DISABLE_BASE_STYLES))return;n==="core"&&(t=xie),r||(r={});const{insertAt:o}=r;if(document.getElementById(t))return void console.warn(`[react-tooltip] Element with id '${t}' already exists. Call \`removeStyle()\` first`);const a=document.head||document.getElementsByTagName("head")[0],l=document.createElement("style");l.id=t,l.type="text/css",o==="top"&&a.firstChild?a.insertBefore(l,a.firstChild):a.appendChild(l),l.styleSheet?l.styleSheet.cssText=e:l.appendChild(document.createTextNode(e)),fI[n]=!0}const pI=async({elementReference:e=null,tooltipReference:t=null,tooltipArrowReference:n=null,place:r="top",offset:i=10,strategy:s="absolute",middlewares:o=[Zre(Number(i)),_ie({fallbackAxisSideDirection:"start"}),Aie({padding:5})],border:a})=>{if(!e)return{tooltipStyles:{},tooltipArrowStyles:{},place:r};if(t===null)return{tooltipStyles:{},tooltipArrowStyles:{},place:r};const l=o;return n?(l.push(bie({element:n,padding:5})),uI(e,t,{placement:r,strategy:s,middleware:l}).then(({x:c,y:u,placement:d,middlewareData:h})=>{var p,g;const m={left:`${c}px`,top:`${u}px`,border:a},{x:_,y:v}=(p=h.arrow)!==null&&p!==void 0?p:{x:0,y:0},y=(g={top:"bottom",right:"left",bottom:"top",left:"right"}[d.split("-")[0]])!==null&&g!==void 0?g:"bottom",b=a&&{borderBottom:a,borderRight:a};let x=0;if(a){const S=`${a}`.match(/(\d+)px/);x=S!=null&&S[1]?Number(S[1]):1}return{tooltipStyles:m,tooltipArrowStyles:{left:_!=null?`${_}px`:"",top:v!=null?`${v}px`:"",right:"",bottom:"",...b,[y]:`-${4+x}px`},place:d}})):uI(e,t,{placement:"bottom",strategy:s,middleware:l}).then(({x:c,y:u,placement:d})=>({tooltipStyles:{left:`${c}px`,top:`${u}px`},tooltipArrowStyles:{},place:d}))},gI=(e,t)=>!("CSS"in window&&"supports"in window.CSS)||window.CSS.supports(e,t),mI=(e,t,n)=>{let r=null;const i=function(...s){const o=()=>{r=null,n||e.apply(this,s)};n&&!r&&(e.apply(this,s),r=setTimeout(o,t)),n||(r&&clearTimeout(r),r=setTimeout(o,t))};return i.cancel=()=>{r&&(clearTimeout(r),r=null)},i},vI=e=>e!==null&&!Array.isArray(e)&&typeof e=="object",b_=(e,t)=>{if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t))return e.length===t.length&&e.every((i,s)=>b_(i,t[s]));if(Array.isArray(e)!==Array.isArray(t))return!1;if(!vI(e)||!vI(t))return e===t;const n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&n.every(i=>b_(e[i],t[i]))},Eie=e=>{if(!(e instanceof HTMLElement||e instanceof SVGElement))return!1;const t=getComputedStyle(e);return["overflow","overflow-x","overflow-y"].some(n=>{const r=t.getPropertyValue(n);return r==="auto"||r==="scroll"})},yI=e=>{if(!e)return null;let t=e.parentElement;for(;t;){if(Eie(t))return t;t=t.parentElement}return document.scrollingElement||document.documentElement},kie=typeof window<"u"?A.useLayoutEffect:A.useEffect,Cie="DEFAULT_TOOLTIP_ID",Tie={anchorRefs:new Set,activeAnchor:{current:null},attach:()=>{},detach:()=>{},setActiveAnchor:()=>{}},Iie=A.createContext({getTooltipData:()=>Tie});function Y4(e=Cie){return A.useContext(Iie).getTooltipData(e)}var zl={tooltip:"core-styles-module_tooltip__3vRRp",fixed:"core-styles-module_fixed__pcSol",arrow:"core-styles-module_arrow__cvMwQ",noArrow:"core-styles-module_noArrow__xock6",clickable:"core-styles-module_clickable__ZuTTB",show:"core-styles-module_show__Nt9eE",closing:"core-styles-module_closing__sGnxF"},Py={tooltip:"styles-module_tooltip__mnnfp",arrow:"styles-module_arrow__K0L3T",dark:"styles-module_dark__xNqje",light:"styles-module_light__Z6W-X",success:"styles-module_success__A2AKt",warning:"styles-module_warning__SCK0X",error:"styles-module_error__JvumD",info:"styles-module_info__BWdHW"};const Rie=({forwardRef:e,id:t,className:n,classNameArrow:r,variant:i="dark",anchorId:s,anchorSelect:o,place:a="top",offset:l=10,events:c=["hover"],openOnClick:u=!1,positionStrategy:d="absolute",middlewares:h,wrapper:p,delayShow:g=0,delayHide:m=0,float:_=!1,hidden:v=!1,noArrow:y=!1,clickable:b=!1,closeOnEsc:x=!1,closeOnScroll:S=!1,closeOnResize:w=!1,openEvents:E,closeEvents:I,globalCloseEvents:z,imperativeModeOnly:N,style:D,position:Q,afterShow:P,afterHide:L,content:M,contentWrapperRef:T,isOpen:U,defaultIsOpen:j=!1,setIsOpen:$,activeAnchor:V,setActiveAnchor:G,border:F,opacity:ne,arrowColor:O,role:fe="tooltip"})=>{var Z;const ae=A.useRef(null),je=A.useRef(null),Ae=A.useRef(null),ce=A.useRef(null),be=A.useRef(null),[He,Fe]=A.useState({tooltipStyles:{},tooltipArrowStyles:{},place:a}),[Se,Ee]=A.useState(!1),[Ke,Ye]=A.useState(!1),[Ie,ot]=A.useState(null),kt=A.useRef(!1),Zt=A.useRef(null),{anchorRefs:Rt,setActiveAnchor:hn}=Y4(t),lt=A.useRef(!1),[At,Gt]=A.useState([]),Je=A.useRef(!1),Mt=u||c.includes("click"),ve=Mt||(E==null?void 0:E.click)||(E==null?void 0:E.dblclick)||(E==null?void 0:E.mousedown),tt=E?{...E}:{mouseover:!0,focus:!0,mouseenter:!1,click:!1,dblclick:!1,mousedown:!1};!E&&Mt&&Object.assign(tt,{mouseenter:!1,focus:!1,mouseover:!1,click:!0});const pn=I?{...I}:{mouseout:!0,blur:!0,mouseleave:!1,click:!1,dblclick:!1,mouseup:!1};!I&&Mt&&Object.assign(pn,{mouseleave:!1,blur:!1,mouseout:!1});const ut=z?{...z}:{escape:x||!1,scroll:S||!1,resize:w||!1,clickOutsideAnchor:ve||!1};N&&(Object.assign(tt,{mouseenter:!1,focus:!1,click:!1,dblclick:!1,mousedown:!1}),Object.assign(pn,{mouseleave:!1,blur:!1,click:!1,dblclick:!1,mouseup:!1}),Object.assign(ut,{escape:!1,scroll:!1,resize:!1,clickOutsideAnchor:!1})),kie(()=>(Je.current=!0,()=>{Je.current=!1}),[]);const nt=ye=>{Je.current&&(ye&&Ye(!0),setTimeout(()=>{Je.current&&($==null||$(ye),U===void 0&&Ee(ye))},10))};A.useEffect(()=>{if(U===void 0)return()=>null;U&&Ye(!0);const ye=setTimeout(()=>{Ee(U)},10);return()=>{clearTimeout(ye)}},[U]),A.useEffect(()=>{if(Se!==kt.current)if(be.current&&clearTimeout(be.current),kt.current=Se,Se)P==null||P();else{const ye=(Be=>{const ze=Be.match(/^([\d.]+)(ms|s)$/);if(!ze)return 0;const[,kn,Hn]=ze;return Number(kn)*(Hn==="ms"?1:1e3)})(getComputedStyle(document.body).getPropertyValue("--rt-transition-show-delay"));be.current=setTimeout(()=>{Ye(!1),ot(null),L==null||L()},ye+25)}},[Se]);const en=ye=>{Fe(Be=>b_(Be,ye)?Be:ye)},an=(ye=g)=>{Ae.current&&clearTimeout(Ae.current),Ke?nt(!0):Ae.current=setTimeout(()=>{nt(!0)},ye)},qt=(ye=m)=>{ce.current&&clearTimeout(ce.current),ce.current=setTimeout(()=>{lt.current||nt(!1)},ye)},pt=ye=>{var Be;if(!ye)return;const ze=(Be=ye.currentTarget)!==null&&Be!==void 0?Be:ye.target;if(!(ze!=null&&ze.isConnected))return G(null),void hn({current:null});g?an():nt(!0),G(ze),hn({current:ze}),ce.current&&clearTimeout(ce.current)},Nn=()=>{b?qt(m||100):m?qt():nt(!1),Ae.current&&clearTimeout(Ae.current)},fr=({x:ye,y:Be})=>{var ze;const kn={getBoundingClientRect:()=>({x:ye,y:Be,width:0,height:0,top:Be,left:ye,right:ye,bottom:Be})};pI({place:(ze=Ie==null?void 0:Ie.place)!==null&&ze!==void 0?ze:a,offset:l,elementReference:kn,tooltipReference:ae.current,tooltipArrowReference:je.current,strategy:d,middlewares:h,border:F}).then(Hn=>{en(Hn)})},gn=ye=>{if(!ye)return;const Be=ye,ze={x:Be.clientX,y:Be.clientY};fr(ze),Zt.current=ze},yi=ye=>{var Be;if(!Se)return;const ze=ye.target;ze.isConnected&&(!((Be=ae.current)===null||Be===void 0)&&Be.contains(ze)||[document.querySelector(`[id='${s}']`),...At].some(kn=>kn==null?void 0:kn.contains(ze))||(nt(!1),Ae.current&&clearTimeout(Ae.current)))},Wr=mI(pt,50,!0),_t=mI(Nn,50,!0),mn=ye=>{_t.cancel(),Wr(ye)},Le=()=>{Wr.cancel(),_t()},Xe=A.useCallback(()=>{var ye,Be;const ze=(ye=Ie==null?void 0:Ie.position)!==null&&ye!==void 0?ye:Q;ze?fr(ze):_?Zt.current&&fr(Zt.current):V!=null&&V.isConnected&&pI({place:(Be=Ie==null?void 0:Ie.place)!==null&&Be!==void 0?Be:a,offset:l,elementReference:V,tooltipReference:ae.current,tooltipArrowReference:je.current,strategy:d,middlewares:h,border:F}).then(kn=>{Je.current&&en(kn)})},[Se,V,M,D,a,Ie==null?void 0:Ie.place,l,d,Q,Ie==null?void 0:Ie.position,_]);A.useEffect(()=>{var ye,Be;const ze=new Set(Rt);At.forEach(Ct=>{ze.add({current:Ct})});const kn=document.querySelector(`[id='${s}']`);kn&&ze.add({current:kn});const Hn=()=>{nt(!1)},Yr=yI(V),Ai=yI(ae.current);ut.scroll&&(window.addEventListener("scroll",Hn),Yr==null||Yr.addEventListener("scroll",Hn),Ai==null||Ai.addEventListener("scroll",Hn));let er=null;ut.resize?window.addEventListener("resize",Hn):V&&ae.current&&(er=yie(V,ae.current,Xe,{ancestorResize:!0,elementResize:!0,layoutShift:!0}));const jr=Ct=>{Ct.key==="Escape"&&nt(!1)};ut.escape&&window.addEventListener("keydown",jr),ut.clickOutsideAnchor&&window.addEventListener("click",yi);const Pt=[],Sa=Ct=>{Se&&(Ct==null?void 0:Ct.target)===V||pt(Ct)},hv=Ct=>{Se&&(Ct==null?void 0:Ct.target)===V&&Nn()},vh=["mouseover","mouseout","mouseenter","mouseleave","focus","blur"],yh=["click","dblclick","mousedown","mouseup"];Object.entries(tt).forEach(([Ct,Ki])=>{Ki&&(vh.includes(Ct)?Pt.push({event:Ct,listener:mn}):yh.includes(Ct)&&Pt.push({event:Ct,listener:Sa}))}),Object.entries(pn).forEach(([Ct,Ki])=>{Ki&&(vh.includes(Ct)?Pt.push({event:Ct,listener:Le}):yh.includes(Ct)&&Pt.push({event:Ct,listener:hv}))}),_&&Pt.push({event:"pointermove",listener:gn});const Ah=()=>{lt.current=!0},_h=()=>{lt.current=!1,Nn()};return b&&!ve&&((ye=ae.current)===null||ye===void 0||ye.addEventListener("mouseenter",Ah),(Be=ae.current)===null||Be===void 0||Be.addEventListener("mouseleave",_h)),Pt.forEach(({event:Ct,listener:Ki})=>{ze.forEach(ku=>{var xa;(xa=ku.current)===null||xa===void 0||xa.addEventListener(Ct,Ki)})}),()=>{var Ct,Ki;ut.scroll&&(window.removeEventListener("scroll",Hn),Yr==null||Yr.removeEventListener("scroll",Hn),Ai==null||Ai.removeEventListener("scroll",Hn)),ut.resize?window.removeEventListener("resize",Hn):er==null||er(),ut.clickOutsideAnchor&&window.removeEventListener("click",yi),ut.escape&&window.removeEventListener("keydown",jr),b&&!ve&&((Ct=ae.current)===null||Ct===void 0||Ct.removeEventListener("mouseenter",Ah),(Ki=ae.current)===null||Ki===void 0||Ki.removeEventListener("mouseleave",_h)),Pt.forEach(({event:ku,listener:xa})=>{ze.forEach(pv=>{var Pl;(Pl=pv.current)===null||Pl===void 0||Pl.removeEventListener(ku,xa)})})}},[V,Xe,Ke,Rt,At,E,I,z,Mt,g,m]),A.useEffect(()=>{var ye,Be;let ze=(Be=(ye=Ie==null?void 0:Ie.anchorSelect)!==null&&ye!==void 0?ye:o)!==null&&Be!==void 0?Be:"";!ze&&t&&(ze=`[data-tooltip-id='${t.replace(/'/g,"\\'")}']`);const kn=new MutationObserver(Hn=>{const Yr=[],Ai=[];Hn.forEach(er=>{if(er.type==="attributes"&&er.attributeName==="data-tooltip-id"&&(er.target.getAttribute("data-tooltip-id")===t?Yr.push(er.target):er.oldValue===t&&Ai.push(er.target)),er.type==="childList"){if(V){const jr=[...er.removedNodes].filter(Pt=>Pt.nodeType===1);if(ze)try{Ai.push(...jr.filter(Pt=>Pt.matches(ze))),Ai.push(...jr.flatMap(Pt=>[...Pt.querySelectorAll(ze)]))}catch{}jr.some(Pt=>{var Sa;return!!(!((Sa=Pt==null?void 0:Pt.contains)===null||Sa===void 0)&&Sa.call(Pt,V))&&(Ye(!1),nt(!1),G(null),Ae.current&&clearTimeout(Ae.current),ce.current&&clearTimeout(ce.current),!0)})}if(ze)try{const jr=[...er.addedNodes].filter(Pt=>Pt.nodeType===1);Yr.push(...jr.filter(Pt=>Pt.matches(ze))),Yr.push(...jr.flatMap(Pt=>[...Pt.querySelectorAll(ze)]))}catch{}}}),(Yr.length||Ai.length)&&Gt(er=>[...er.filter(jr=>!Ai.includes(jr)),...Yr])});return kn.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["data-tooltip-id"],attributeOldValue:!0}),()=>{kn.disconnect()}},[t,o,Ie==null?void 0:Ie.anchorSelect,V]),A.useEffect(()=>{Xe()},[Xe]),A.useEffect(()=>{if(!(T!=null&&T.current))return()=>null;const ye=new ResizeObserver(()=>{setTimeout(()=>Xe())});return ye.observe(T.current),()=>{ye.disconnect()}},[M,T==null?void 0:T.current]),A.useEffect(()=>{var ye;const Be=document.querySelector(`[id='${s}']`),ze=[...At,Be];V&&ze.includes(V)||G((ye=At[0])!==null&&ye!==void 0?ye:Be)},[s,At,V]),A.useEffect(()=>(j&&nt(!0),()=>{Ae.current&&clearTimeout(Ae.current),ce.current&&clearTimeout(ce.current)}),[]),A.useEffect(()=>{var ye;let Be=(ye=Ie==null?void 0:Ie.anchorSelect)!==null&&ye!==void 0?ye:o;if(!Be&&t&&(Be=`[data-tooltip-id='${t.replace(/'/g,"\\'")}']`),Be)try{const ze=Array.from(document.querySelectorAll(Be));Gt(ze)}catch{Gt([])}},[t,o,Ie==null?void 0:Ie.anchorSelect]),A.useEffect(()=>{Ae.current&&(clearTimeout(Ae.current),an(g))},[g]);const Un=(Z=Ie==null?void 0:Ie.content)!==null&&Z!==void 0?Z:M,Kr=Se&&Object.keys(He.tooltipStyles).length>0;return A.useImperativeHandle(e,()=>({open:ye=>{if(ye!=null&&ye.anchorSelect)try{document.querySelector(ye.anchorSelect)}catch{return void console.warn(`[react-tooltip] "${ye.anchorSelect}" is not a valid CSS selector`)}ot(ye??null),ye!=null&&ye.delay?an(ye.delay):nt(!0)},close:ye=>{ye!=null&&ye.delay?qt(ye.delay):nt(!1)},activeAnchor:V,place:He.place,isOpen:!!(Ke&&!v&&Un&&Kr)})),Ke&&!v&&Un?Te.createElement(p,{id:t,role:fe,className:__("react-tooltip",zl.tooltip,Py.tooltip,Py[i],n,`react-tooltip__place-${He.place}`,zl[Kr?"show":"closing"],Kr?"react-tooltip__show":"react-tooltip__closing",d==="fixed"&&zl.fixed,b&&zl.clickable),onTransitionEnd:ye=>{be.current&&clearTimeout(be.current),Se||ye.propertyName!=="opacity"||(Ye(!1),ot(null),L==null||L())},style:{...D,...He.tooltipStyles,opacity:ne!==void 0&&Kr?ne:void 0},ref:ae},Un,Te.createElement(p,{className:__("react-tooltip-arrow",zl.arrow,Py.arrow,r,y&&zl.noArrow),style:{...He.tooltipArrowStyles,background:O?`linear-gradient(to right bottom, transparent 50%, ${O} 50%)`:void 0},ref:je})):null},Mie=({content:e})=>Te.createElement("span",{dangerouslySetInnerHTML:{__html:e}}),Pie=Te.forwardRef(({id:e,anchorId:t,anchorSelect:n,content:r,html:i,render:s,className:o,classNameArrow:a,variant:l="dark",place:c="top",offset:u=10,wrapper:d="div",children:h=null,events:p=["hover"],openOnClick:g=!1,positionStrategy:m="absolute",middlewares:_,delayShow:v=0,delayHide:y=0,float:b=!1,hidden:x=!1,noArrow:S=!1,clickable:w=!1,closeOnEsc:E=!1,closeOnScroll:I=!1,closeOnResize:z=!1,openEvents:N,closeEvents:D,globalCloseEvents:Q,imperativeModeOnly:P=!1,style:L,position:M,isOpen:T,defaultIsOpen:U=!1,disableStyleInjection:j=!1,border:$,opacity:V,arrowColor:G,setIsOpen:F,afterShow:ne,afterHide:O,role:fe="tooltip"},Z)=>{const[ae,je]=A.useState(r),[Ae,ce]=A.useState(i),[be,He]=A.useState(c),[Fe,Se]=A.useState(l),[Ee,Ke]=A.useState(u),[Ye,Ie]=A.useState(v),[ot,kt]=A.useState(y),[Zt,Rt]=A.useState(b),[hn,lt]=A.useState(x),[At,Gt]=A.useState(d),[Je,Mt]=A.useState(p),[ve,tt]=A.useState(m),[pn,ut]=A.useState(null),[nt,en]=A.useState(null),an=A.useRef(j),{anchorRefs:qt,activeAnchor:pt}=Y4(e),Nn=_t=>_t==null?void 0:_t.getAttributeNames().reduce((mn,Le)=>{var Xe;return Le.startsWith("data-tooltip-")&&(mn[Le.replace(/^data-tooltip-/,"")]=(Xe=_t==null?void 0:_t.getAttribute(Le))!==null&&Xe!==void 0?Xe:null),mn},{}),fr=_t=>{const mn={place:Le=>{var Xe;He((Xe=Le)!==null&&Xe!==void 0?Xe:c)},content:Le=>{je(Le??r)},html:Le=>{ce(Le??i)},variant:Le=>{var Xe;Se((Xe=Le)!==null&&Xe!==void 0?Xe:l)},offset:Le=>{Ke(Le===null?u:Number(Le))},wrapper:Le=>{var Xe;Gt((Xe=Le)!==null&&Xe!==void 0?Xe:d)},events:Le=>{const Xe=Le==null?void 0:Le.split(" ");Mt(Xe??p)},"position-strategy":Le=>{var Xe;tt((Xe=Le)!==null&&Xe!==void 0?Xe:m)},"delay-show":Le=>{Ie(Le===null?v:Number(Le))},"delay-hide":Le=>{kt(Le===null?y:Number(Le))},float:Le=>{Rt(Le===null?b:Le==="true")},hidden:Le=>{lt(Le===null?x:Le==="true")},"class-name":Le=>{ut(Le)}};Object.values(mn).forEach(Le=>Le(null)),Object.entries(_t).forEach(([Le,Xe])=>{var Un;(Un=mn[Le])===null||Un===void 0||Un.call(mn,Xe)})};A.useEffect(()=>{je(r)},[r]),A.useEffect(()=>{ce(i)},[i]),A.useEffect(()=>{He(c)},[c]),A.useEffect(()=>{Se(l)},[l]),A.useEffect(()=>{Ke(u)},[u]),A.useEffect(()=>{Ie(v)},[v]),A.useEffect(()=>{kt(y)},[y]),A.useEffect(()=>{Rt(b)},[b]),A.useEffect(()=>{lt(x)},[x]),A.useEffect(()=>{tt(m)},[m]),A.useEffect(()=>{an.current!==j&&console.warn("[react-tooltip] Do not change `disableStyleInjection` dynamically.")},[j]),A.useEffect(()=>{typeof window<"u"&&window.dispatchEvent(new CustomEvent("react-tooltip-inject-styles",{detail:{disableCore:j==="core",disableBase:j}}))},[]),A.useEffect(()=>{var _t;const mn=new Set(qt);let Le=n;if(!Le&&e&&(Le=`[data-tooltip-id='${e.replace(/'/g,"\\'")}']`),Le)try{document.querySelectorAll(Le).forEach(Be=>{mn.add({current:Be})})}catch{console.warn(`[react-tooltip] "${Le}" is not a valid CSS selector`)}const Xe=document.querySelector(`[id='${t}']`);if(Xe&&mn.add({current:Xe}),!mn.size)return()=>null;const Un=(_t=nt??Xe)!==null&&_t!==void 0?_t:pt.current,Kr=new MutationObserver(Be=>{Be.forEach(ze=>{var kn;if(!Un||ze.type!=="attributes"||!(!((kn=ze.attributeName)===null||kn===void 0)&&kn.startsWith("data-tooltip-")))return;const Hn=Nn(Un);fr(Hn)})}),ye={attributes:!0,childList:!1,subtree:!1};if(Un){const Be=Nn(Un);fr(Be),Kr.observe(Un,ye)}return()=>{Kr.disconnect()}},[qt,pt,nt,t,n]),A.useEffect(()=>{L!=null&&L.border&&console.warn("[react-tooltip] Do not set `style.border`. Use `border` prop instead."),$&&!gI("border",`${$}`)&&console.warn(`[react-tooltip] "${$}" is not a valid \`border\`.`),L!=null&&L.opacity&&console.warn("[react-tooltip] Do not set `style.opacity`. Use `opacity` prop instead."),V&&!gI("opacity",`${V}`)&&console.warn(`[react-tooltip] "${V}" is not a valid \`opacity\`.`)},[]);let gn=h;const yi=A.useRef(null);if(s){const _t=s({content:(nt==null?void 0:nt.getAttribute("data-tooltip-content"))||ae||null,activeAnchor:nt});gn=_t?Te.createElement("div",{ref:yi,className:"react-tooltip-content-wrapper"},_t):null}else ae&&(gn=ae);Ae&&(gn=Te.createElement(Mie,{content:Ae}));const Wr={forwardRef:Z,id:e,anchorId:t,anchorSelect:n,className:__(o,pn),classNameArrow:a,content:gn,contentWrapperRef:yi,place:be,variant:Fe,offset:Ee,wrapper:At,events:Je,openOnClick:g,positionStrategy:ve,middlewares:_,delayShow:Ye,delayHide:ot,float:Zt,hidden:hn,noArrow:S,clickable:w,closeOnEsc:E,closeOnScroll:I,closeOnResize:z,openEvents:N,closeEvents:D,globalCloseEvents:Q,imperativeModeOnly:P,style:L,position:M,isOpen:T,defaultIsOpen:U,border:$,opacity:V,arrowColor:G,setIsOpen:F,afterShow:ne,afterHide:O,activeAnchor:nt,setActiveAnchor:_t=>en(_t),role:fe};return Te.createElement(Rie,{...Wr})});typeof window<"u"&&window.addEventListener("react-tooltip-inject-styles",e=>{e.detail.disableCore||hI({css:":root{--rt-color-white:#fff;--rt-color-dark:#222;--rt-color-success:#8dc572;--rt-color-error:#be6464;--rt-color-warning:#f0ad4e;--rt-color-info:#337ab7;--rt-opacity:0.9;--rt-transition-show-delay:0.15s;--rt-transition-closing-delay:0.15s}.core-styles-module_tooltip__3vRRp{position:absolute;top:0;left:0;pointer-events:none;opacity:0;will-change:opacity}.core-styles-module_fixed__pcSol{position:fixed}.core-styles-module_arrow__cvMwQ{position:absolute;background:inherit}.core-styles-module_noArrow__xock6{display:none}.core-styles-module_clickable__ZuTTB{pointer-events:auto}.core-styles-module_show__Nt9eE{opacity:var(--rt-opacity);transition:opacity var(--rt-transition-show-delay)ease-out}.core-styles-module_closing__sGnxF{opacity:0;transition:opacity var(--rt-transition-closing-delay)ease-in}",type:"core"}),e.detail.disableBase||hI({css:`
.styles-module_tooltip__mnnfp{padding:8px 16px;border-radius:3px;font-size:90%;width:max-content}.styles-module_arrow__K0L3T{width:8px;height:8px}[class*='react-tooltip__place-top']>.styles-module_arrow__K0L3T{transform:rotate(45deg)}[class*='react-tooltip__place-right']>.styles-module_arrow__K0L3T{transform:rotate(135deg)}[class*='react-tooltip__place-bottom']>.styles-module_arrow__K0L3T{transform:rotate(225deg)}[class*='react-tooltip__place-left']>.styles-module_arrow__K0L3T{transform:rotate(315deg)}.styles-module_dark__xNqje{background:var(--rt-color-dark);color:var(--rt-color-white)}.styles-module_light__Z6W-X{background-color:var(--rt-color-white);color:var(--rt-color-dark)}.styles-module_success__A2AKt{background-color:var(--rt-color-success);color:var(--rt-color-white)}.styles-module_warning__SCK0X{background-color:var(--rt-color-warning);color:var(--rt-color-white)}.styles-module_error__JvumD{background-color:var(--rt-color-error);color:var(--rt-color-white)}.styles-module_info__BWdHW{background-color:var(--rt-color-info);color:var(--rt-color-white)}`,type:"base"})});const jie=C(Pie,{target:"e21jg9v2"})("&&&{background:rgba(0, 0, 0, 0.85);font-size:2rem;padding:1rem 1.5rem;border-radius:1rem;max-width:45rem;",$e,";.MuiTooltip-arrow{&::before{background:rgba(0, 0, 0, 0.85);}}strong{color:",pe.colors.text.active,";}}z-index:10000;"),su=({children:e,title:t,open:n,...r})=>{const i=A.useRef(null),s=A.useMemo(()=>`${Math.random()}`,[]);return f.jsxs(f.Fragment,{children:[xu.createPortal(f.jsx(jie,{...r,id:s,ref:i,isOpen:n,children:t}),document.body),A.cloneElement(e,{"data-tooltip-id":s})]})},AI=e=>`tooltip_dismissed_${e}`,Oie=({dismissKey:e,timeoutMs:t,oneTime:n=!0,children:r,title:i,...s})=>{const[o,a]=A.useState(!Ve.local.getItem(AI(e))),l=A.useCallback(()=>{Ve.local.setItem(AI(e),!0),a(void 0)},[e]);A.useEffect(()=>{if(t){const u=setTimeout(l,t);return()=>clearTimeout(u)}},[t,l]);const c=(o===void 0||!o&&!n)&&s.open===void 0;return f.jsx(su,{clickable:!0,open:c?s.open:o,hidden:s.open===!1,...s,title:f.jsxs(f.Fragment,{children:[i,o&&f.jsx(Vie,{children:f.jsx(Lie,{"data-test":"close-tooltip-button",onClick:l,children:"Close"})})]}),children:r},c?"uncontrolled":"controlled")},Vie=C("div",{target:"e21jg9v1"})({name:"g78t84",styles:"display:flex;justify-content:flex-end;margin-top:1rem"}),Lie=C("button",{target:"e21jg9v0"})("padding:0.25rem 2rem;font-weight:bold;cursor:pointer;color:white;border:1px solid white;border-radius:0.5rem;background:none;font-size:1.75rem;&:hover{color:",pe.colors.text.active,";border-color:",pe.colors.text.active,";}&:active{color:white;background:",pe.colors.text.active,";border-color:none;}");var Wx={},Nie=st;Object.defineProperty(Wx,"__esModule",{value:!0});var Q4=Wx.default=void 0,Bie=Nie(ct()),$ie=f;Q4=Wx.default=(0,Bie.default)((0,$ie.jsx)("path",{d:"M7 14H5v5h5v-2H7zm-2-4h2V7h3V5H5zm12 7h-3v2h5v-5h-2zM14 5v2h3v3h2V5z"}),"Fullscreen");var Kx={},Die=st;Object.defineProperty(Kx,"__esModule",{value:!0});var J4=Kx.default=void 0,Fie=Die(ct()),zie=f;J4=Kx.default=(0,Fie.default)((0,zie.jsx)("path",{d:"M5 16h3v3h2v-5H5zm3-8H5v2h5V5H8zm6 11h2v-3h3v-2h-5zm2-11V5h-2v5h5V8z"}),"FullscreenExit");function Uie(){const[,e]=De(Sb),[t]=De(dr),[n,r]=A.useState(document.fullscreenElement!==null);return A.useEffect(()=>{const i=()=>{r(document.fullscreenElement!==null)};return document.addEventListener("fullscreenchange",i),()=>{document.removeEventListener("fullscreenchange",i)}},[]),f.jsx(su,{title:"Toggle fullscreen",place:"bottom-end",children:f.jsx(Fx,{"data-test":"toggle-fullscreen",size:"small",onClick:async()=>{var i,s;try{document.fullscreenElement===null?(e(!0),await document.body.requestFullscreen(),t&&(global.screen.orientation.unlock(),await((s=(i=global.screen.orientation).lock)==null?void 0:s.call(i,"landscape")))):(e(!1),await document.exitFullscreen(),t&&global.screen.orientation.unlock())}catch(o){console.info(o)}},children:n?f.jsx(J4,{}):f.jsx(Q4,{})})})}const X4=ui("padding:0.1rem 0.3rem;font-size:2.6rem;display:flex;align-items:center;justify-content:center;text-align:center;cursor:pointer;border:0;background-color:rgba(0, 0, 0, 0.75);text-transform:uppercase;letter-spacing:0.2rem;pointer-events:auto;box-sizing:border-box;transition:300ms;",$e,",;",""),Hie=ui("@keyframes button-focus-loop{0%,100%{transform:scale(1.045);}50%{transform:scale(1.055);}}animation:button-focus-loop 600ms ease-in-out infinite both;transform:scale(1.05);background:",pe.colors.text.active,";",""),Gie=ui("transform:scale(1.05);background:",pe.colors.text.active,";",""),X0=Hs()?Gie:Hie,Z4={animation:"focusAnimation 1000ms ease-in-out infinite both"},S_=ui("&:hover{",Z4,";}&&&:active{background:",pe.colors.text.active,";}",""),qie=C("a",{target:"eo7q3x1"})(X4," &&{color:white;text-decoration:none;}&[data-focused='true']{",X0,";}&[disabled='false']{",S_,";}"),eL=({focused:e,...t})=>f.jsx(qie,{...t}),Wie=C("button",{target:"eo7q3x0"})(X4,";&:not(:disabled){",S_,";}&[data-focused='true']{",X0,";}&[disabled='false']{",S_,";}"),As=({focused:e,...t})=>f.jsx(Wie,{"data-focused":e,...t}),Kie={name:"1tj9yd6",styles:"cursor:default;color:#989898;background-color:#212121;border-width:0.3rem;pointer-events:none"},tL=ui("margin:0.5rem 0;height:10rem;border:0 solid black;&[data-disabled='true']{",Kie,";}&[data-size='small']{height:5rem;}",""),Yie=C(eL,{target:"e1llc1k62"})(tL,";"),Qie=C(As,{target:"e1llc1k61"})(tL,";"),Re=({size:e,disabled:t,...n})=>{const r="href"in n?Yie:Qie;return f.jsx(r,{...n,"data-disabled":t,"data-size":e})},_s=C("div",{target:"e1llc1k60"})({name:"10ov2k1",styles:"background:rgba(0, 0, 0, 0.5);padding:1.5rem;width:100vw;box-sizing:border-box;max-width:75rem;margin:2rem auto 0 auto;font-size:2.6rem;display:flex;flex-direction:column;gap:2rem;view-transition-name:menu-container"});function wu({children:e,onClose:t}){return f.jsxs(f.Fragment,{children:[f.jsx(Xie,{onClick:t}),f.jsx(Jie,{onClick:t,children:f.jsx("div",{onClick:n=>n.stopPropagation(),children:e})})]})}const Jie=C("div",{target:"e7rcptf1"})({name:"1uzuniy",styles:"position:fixed;top:0;left:0;width:100vw;height:100vh;display:flex;align-items:center;justify-content:center;z-index:20001;overflow:auto"}),Xie=C("div",{target:"e7rcptf0"})({name:"25wq6t",styles:"position:fixed;top:0;left:0;background:rgba(0, 0, 0, 0.7);width:100vw;height:100vh;z-index:20000;backdrop-filter:blur(20px)"});let Zie=0;function Eu(e,t){const n=A.useRef(`${String(Math.random())}-${Zie++}`),{setKeyboard:r,unsetKeyboard:i}=A.useContext(MS),s=a=>{r(n.current,a)},o=()=>i(n.current);return A.useEffect(()=>(t&&s(e),o),[e,t]),{setHelp:s,clearHelp:o}}function zn(e={},t=!1){var x;const{enabled:n=!0,onBackspace:r,backspaceHelp:i=null,direction:s="vertical",additionalHelp:o={}}=e,[a,l]=A.useState(null),c=A.useRef([]),u=A.useRef([]),d=A.useRef({}),h=(x=d.current[a])==null?void 0:x.label,p=A.useMemo(()=>({[s]:null,accept:h??null,back:r?i:void 0,...o}),[h,d,i,s]);Eu(p,n);const g=()=>{var S;(S=d.current[a])==null||S.callback(),lS.play()},m=()=>{r&&(cS.play(),r())},_=S=>{const w=a?c.current.indexOf(a):0;o0.play(),l(c.current.at((w+S)%c.current.length)??null)};Cl({[s==="vertical"?"up":"left"]:()=>_(-1),[s==="vertical"?"down":"right"]:()=>_(1),accept:g,back:m},n,[a,c.current]);let v="";const y=(S,w,E,I=!1,{propName:z="onClick",disabled:N=!1}={})=>{if(N)return{disabled:N,focused:!1};u.current.push(S),w&&(d.current[S]={callback:w,label:E,propName:z}),I&&(v=S);const D=n&&a===S;return{focused:D,[z]:w,keyboardNavigationChangeFocus:_,"data-test":S,...n?{"data-focused":D,"data-e2e-focused":D}:{}}};return A.useEffect(()=>{var S;(S=document.querySelector(`[data-test="${a}"]`))==null||S.scrollIntoView({behavior:"smooth",block:"center"})},[a]),A.useEffect(()=>{let S=u.current.filter(w=>!c.current.includes(w));t&&S.length&&console.log("new elements",S),c.current=[...u.current],u.current.length=0,c.current.length&&(a===null||c.current.indexOf(a)===-1||S.includes(v))&&l(v||c.current[0])}),{focusElement:S=>{c.current.includes(S)&&l(S)},focused:a,register:y}}var ese=Object.defineProperty,um=Object.getOwnPropertySymbols,nL=Object.prototype.hasOwnProperty,rL=Object.prototype.propertyIsEnumerable,_I=(e,t,n)=>t in e?ese(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Rf=(e,t)=>{for(var n in t||(t={}))nL.call(t,n)&&_I(e,n,t[n]);if(um)for(var n of um(t))rL.call(t,n)&&_I(e,n,t[n]);return e},Yx=(e,t)=>{var n={};for(var r in e)nL.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&um)for(var r of um(e))t.indexOf(r)<0&&rL.call(e,r)&&(n[r]=e[r]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var vl;(e=>{const t=class{constructor(l,c,u,d){if(this.version=l,this.errorCorrectionLevel=c,this.modules=[],this.isFunction=[],l<t.MIN_VERSION||l>t.MAX_VERSION)throw new RangeError("Version value out of range");if(d<-1||d>7)throw new RangeError("Mask value out of range");this.size=l*4+17;let h=[];for(let g=0;g<this.size;g++)h.push(!1);for(let g=0;g<this.size;g++)this.modules.push(h.slice()),this.isFunction.push(h.slice());this.drawFunctionPatterns();const p=this.addEccAndInterleave(u);if(this.drawCodewords(p),d==-1){let g=1e9;for(let m=0;m<8;m++){this.applyMask(m),this.drawFormatBits(m);const _=this.getPenaltyScore();_<g&&(d=m,g=_),this.applyMask(m)}}s(0<=d&&d<=7),this.mask=d,this.applyMask(d),this.drawFormatBits(d),this.isFunction=[]}static encodeText(l,c){const u=e.QrSegment.makeSegments(l);return t.encodeSegments(u,c)}static encodeBinary(l,c){const u=e.QrSegment.makeBytes(l);return t.encodeSegments([u],c)}static encodeSegments(l,c,u=1,d=40,h=-1,p=!0){if(!(t.MIN_VERSION<=u&&u<=d&&d<=t.MAX_VERSION)||h<-1||h>7)throw new RangeError("Invalid value");let g,m;for(g=u;;g++){const b=t.getNumDataCodewords(g,c)*8,x=a.getTotalBits(l,g);if(x<=b){m=x;break}if(g>=d)throw new RangeError("Data too long")}for(const b of[t.Ecc.MEDIUM,t.Ecc.QUARTILE,t.Ecc.HIGH])p&&m<=t.getNumDataCodewords(g,b)*8&&(c=b);let _=[];for(const b of l){r(b.mode.modeBits,4,_),r(b.numChars,b.mode.numCharCountBits(g),_);for(const x of b.getData())_.push(x)}s(_.length==m);const v=t.getNumDataCodewords(g,c)*8;s(_.length<=v),r(0,Math.min(4,v-_.length),_),r(0,(8-_.length%8)%8,_),s(_.length%8==0);for(let b=236;_.length<v;b^=253)r(b,8,_);let y=[];for(;y.length*8<_.length;)y.push(0);return _.forEach((b,x)=>y[x>>>3]|=b<<7-(x&7)),new t(g,c,y,h)}getModule(l,c){return 0<=l&&l<this.size&&0<=c&&c<this.size&&this.modules[c][l]}getModules(){return this.modules}drawFunctionPatterns(){for(let u=0;u<this.size;u++)this.setFunctionModule(6,u,u%2==0),this.setFunctionModule(u,6,u%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const l=this.getAlignmentPatternPositions(),c=l.length;for(let u=0;u<c;u++)for(let d=0;d<c;d++)u==0&&d==0||u==0&&d==c-1||u==c-1&&d==0||this.drawAlignmentPattern(l[u],l[d]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(l){const c=this.errorCorrectionLevel.formatBits<<3|l;let u=c;for(let h=0;h<10;h++)u=u<<1^(u>>>9)*1335;const d=(c<<10|u)^21522;s(d>>>15==0);for(let h=0;h<=5;h++)this.setFunctionModule(8,h,i(d,h));this.setFunctionModule(8,7,i(d,6)),this.setFunctionModule(8,8,i(d,7)),this.setFunctionModule(7,8,i(d,8));for(let h=9;h<15;h++)this.setFunctionModule(14-h,8,i(d,h));for(let h=0;h<8;h++)this.setFunctionModule(this.size-1-h,8,i(d,h));for(let h=8;h<15;h++)this.setFunctionModule(8,this.size-15+h,i(d,h));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let l=this.version;for(let u=0;u<12;u++)l=l<<1^(l>>>11)*7973;const c=this.version<<12|l;s(c>>>18==0);for(let u=0;u<18;u++){const d=i(c,u),h=this.size-11+u%3,p=Math.floor(u/3);this.setFunctionModule(h,p,d),this.setFunctionModule(p,h,d)}}drawFinderPattern(l,c){for(let u=-4;u<=4;u++)for(let d=-4;d<=4;d++){const h=Math.max(Math.abs(d),Math.abs(u)),p=l+d,g=c+u;0<=p&&p<this.size&&0<=g&&g<this.size&&this.setFunctionModule(p,g,h!=2&&h!=4)}}drawAlignmentPattern(l,c){for(let u=-2;u<=2;u++)for(let d=-2;d<=2;d++)this.setFunctionModule(l+d,c+u,Math.max(Math.abs(d),Math.abs(u))!=1)}setFunctionModule(l,c,u){this.modules[c][l]=u,this.isFunction[c][l]=!0}addEccAndInterleave(l){const c=this.version,u=this.errorCorrectionLevel;if(l.length!=t.getNumDataCodewords(c,u))throw new RangeError("Invalid argument");const d=t.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][c],h=t.ECC_CODEWORDS_PER_BLOCK[u.ordinal][c],p=Math.floor(t.getNumRawDataModules(c)/8),g=d-p%d,m=Math.floor(p/d);let _=[];const v=t.reedSolomonComputeDivisor(h);for(let b=0,x=0;b<d;b++){let S=l.slice(x,x+m-h+(b<g?0:1));x+=S.length;const w=t.reedSolomonComputeRemainder(S,v);b<g&&S.push(0),_.push(S.concat(w))}let y=[];for(let b=0;b<_[0].length;b++)_.forEach((x,S)=>{(b!=m-h||S>=g)&&y.push(x[b])});return s(y.length==p),y}drawCodewords(l){if(l.length!=Math.floor(t.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let c=0;for(let u=this.size-1;u>=1;u-=2){u==6&&(u=5);for(let d=0;d<this.size;d++)for(let h=0;h<2;h++){const p=u-h,m=(u+1&2)==0?this.size-1-d:d;!this.isFunction[m][p]&&c<l.length*8&&(this.modules[m][p]=i(l[c>>>3],7-(c&7)),c++)}}s(c==l.length*8)}applyMask(l){if(l<0||l>7)throw new RangeError("Mask value out of range");for(let c=0;c<this.size;c++)for(let u=0;u<this.size;u++){let d;switch(l){case 0:d=(u+c)%2==0;break;case 1:d=c%2==0;break;case 2:d=u%3==0;break;case 3:d=(u+c)%3==0;break;case 4:d=(Math.floor(u/3)+Math.floor(c/2))%2==0;break;case 5:d=u*c%2+u*c%3==0;break;case 6:d=(u*c%2+u*c%3)%2==0;break;case 7:d=((u+c)%2+u*c%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[c][u]&&d&&(this.modules[c][u]=!this.modules[c][u])}}getPenaltyScore(){let l=0;for(let h=0;h<this.size;h++){let p=!1,g=0,m=[0,0,0,0,0,0,0];for(let _=0;_<this.size;_++)this.modules[h][_]==p?(g++,g==5?l+=t.PENALTY_N1:g>5&&l++):(this.finderPenaltyAddHistory(g,m),p||(l+=this.finderPenaltyCountPatterns(m)*t.PENALTY_N3),p=this.modules[h][_],g=1);l+=this.finderPenaltyTerminateAndCount(p,g,m)*t.PENALTY_N3}for(let h=0;h<this.size;h++){let p=!1,g=0,m=[0,0,0,0,0,0,0];for(let _=0;_<this.size;_++)this.modules[_][h]==p?(g++,g==5?l+=t.PENALTY_N1:g>5&&l++):(this.finderPenaltyAddHistory(g,m),p||(l+=this.finderPenaltyCountPatterns(m)*t.PENALTY_N3),p=this.modules[_][h],g=1);l+=this.finderPenaltyTerminateAndCount(p,g,m)*t.PENALTY_N3}for(let h=0;h<this.size-1;h++)for(let p=0;p<this.size-1;p++){const g=this.modules[h][p];g==this.modules[h][p+1]&&g==this.modules[h+1][p]&&g==this.modules[h+1][p+1]&&(l+=t.PENALTY_N2)}let c=0;for(const h of this.modules)c=h.reduce((p,g)=>p+(g?1:0),c);const u=this.size*this.size,d=Math.ceil(Math.abs(c*20-u*10)/u)-1;return s(0<=d&&d<=9),l+=d*t.PENALTY_N4,s(0<=l&&l<=2568888),l}getAlignmentPatternPositions(){if(this.version==1)return[];{const l=Math.floor(this.version/7)+2,c=this.version==32?26:Math.ceil((this.version*4+4)/(l*2-2))*2;let u=[6];for(let d=this.size-7;u.length<l;d-=c)u.splice(1,0,d);return u}}static getNumRawDataModules(l){if(l<t.MIN_VERSION||l>t.MAX_VERSION)throw new RangeError("Version number out of range");let c=(16*l+128)*l+64;if(l>=2){const u=Math.floor(l/7)+2;c-=(25*u-10)*u-55,l>=7&&(c-=36)}return s(208<=c&&c<=29648),c}static getNumDataCodewords(l,c){return Math.floor(t.getNumRawDataModules(l)/8)-t.ECC_CODEWORDS_PER_BLOCK[c.ordinal][l]*t.NUM_ERROR_CORRECTION_BLOCKS[c.ordinal][l]}static reedSolomonComputeDivisor(l){if(l<1||l>255)throw new RangeError("Degree out of range");let c=[];for(let d=0;d<l-1;d++)c.push(0);c.push(1);let u=1;for(let d=0;d<l;d++){for(let h=0;h<c.length;h++)c[h]=t.reedSolomonMultiply(c[h],u),h+1<c.length&&(c[h]^=c[h+1]);u=t.reedSolomonMultiply(u,2)}return c}static reedSolomonComputeRemainder(l,c){let u=c.map(d=>0);for(const d of l){const h=d^u.shift();u.push(0),c.forEach((p,g)=>u[g]^=t.reedSolomonMultiply(p,h))}return u}static reedSolomonMultiply(l,c){if(l>>>8||c>>>8)throw new RangeError("Byte out of range");let u=0;for(let d=7;d>=0;d--)u=u<<1^(u>>>7)*285,u^=(c>>>d&1)*l;return s(u>>>8==0),u}finderPenaltyCountPatterns(l){const c=l[1];s(c<=this.size*3);const u=c>0&&l[2]==c&&l[3]==c*3&&l[4]==c&&l[5]==c;return(u&&l[0]>=c*4&&l[6]>=c?1:0)+(u&&l[6]>=c*4&&l[0]>=c?1:0)}finderPenaltyTerminateAndCount(l,c,u){return l&&(this.finderPenaltyAddHistory(c,u),c=0),c+=this.size,this.finderPenaltyAddHistory(c,u),this.finderPenaltyCountPatterns(u)}finderPenaltyAddHistory(l,c){c[0]==0&&(l+=this.size),c.pop(),c.unshift(l)}};let n=t;n.MIN_VERSION=1,n.MAX_VERSION=40,n.PENALTY_N1=3,n.PENALTY_N2=3,n.PENALTY_N3=40,n.PENALTY_N4=10,n.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],n.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=n;function r(l,c,u){if(c<0||c>31||l>>>c)throw new RangeError("Value out of range");for(let d=c-1;d>=0;d--)u.push(l>>>d&1)}function i(l,c){return(l>>>c&1)!=0}function s(l){if(!l)throw new Error("Assertion error")}const o=class{constructor(l,c,u){if(this.mode=l,this.numChars=c,this.bitData=u,c<0)throw new RangeError("Invalid argument");this.bitData=u.slice()}static makeBytes(l){let c=[];for(const u of l)r(u,8,c);return new o(o.Mode.BYTE,l.length,c)}static makeNumeric(l){if(!o.isNumeric(l))throw new RangeError("String contains non-numeric characters");let c=[];for(let u=0;u<l.length;){const d=Math.min(l.length-u,3);r(parseInt(l.substr(u,d),10),d*3+1,c),u+=d}return new o(o.Mode.NUMERIC,l.length,c)}static makeAlphanumeric(l){if(!o.isAlphanumeric(l))throw new RangeError("String contains unencodable characters in alphanumeric mode");let c=[],u;for(u=0;u+2<=l.length;u+=2){let d=o.ALPHANUMERIC_CHARSET.indexOf(l.charAt(u))*45;d+=o.ALPHANUMERIC_CHARSET.indexOf(l.charAt(u+1)),r(d,11,c)}return u<l.length&&r(o.ALPHANUMERIC_CHARSET.indexOf(l.charAt(u)),6,c),new o(o.Mode.ALPHANUMERIC,l.length,c)}static makeSegments(l){return l==""?[]:o.isNumeric(l)?[o.makeNumeric(l)]:o.isAlphanumeric(l)?[o.makeAlphanumeric(l)]:[o.makeBytes(o.toUtf8ByteArray(l))]}static makeEci(l){let c=[];if(l<0)throw new RangeError("ECI assignment value out of range");if(l<128)r(l,8,c);else if(l<16384)r(2,2,c),r(l,14,c);else if(l<1e6)r(6,3,c),r(l,21,c);else throw new RangeError("ECI assignment value out of range");return new o(o.Mode.ECI,0,c)}static isNumeric(l){return o.NUMERIC_REGEX.test(l)}static isAlphanumeric(l){return o.ALPHANUMERIC_REGEX.test(l)}getData(){return this.bitData.slice()}static getTotalBits(l,c){let u=0;for(const d of l){const h=d.mode.numCharCountBits(c);if(d.numChars>=1<<h)return 1/0;u+=4+h+d.bitData.length}return u}static toUtf8ByteArray(l){l=encodeURI(l);let c=[];for(let u=0;u<l.length;u++)l.charAt(u)!="%"?c.push(l.charCodeAt(u)):(c.push(parseInt(l.substr(u+1,2),16)),u+=2);return c}};let a=o;a.NUMERIC_REGEX=/^[0-9]*$/,a.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,a.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",e.QrSegment=a})(vl||(vl={}));(e=>{(t=>{const n=class{constructor(i,s){this.ordinal=i,this.formatBits=s}};let r=n;r.LOW=new n(0,1),r.MEDIUM=new n(1,0),r.QUARTILE=new n(2,3),r.HIGH=new n(3,2),t.Ecc=r})(e.QrCode||(e.QrCode={}))})(vl||(vl={}));(e=>{(t=>{const n=class{constructor(i,s){this.modeBits=i,this.numBitsCharCount=s}numCharCountBits(i){return this.numBitsCharCount[Math.floor((i+7)/17)]}};let r=n;r.NUMERIC=new n(1,[10,12,14]),r.ALPHANUMERIC=new n(2,[9,11,13]),r.BYTE=new n(4,[8,16,16]),r.KANJI=new n(8,[8,10,12]),r.ECI=new n(7,[0,0,0]),t.Mode=r})(e.QrSegment||(e.QrSegment={}))})(vl||(vl={}));var hc=vl;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var iL={L:hc.QrCode.Ecc.LOW,M:hc.QrCode.Ecc.MEDIUM,Q:hc.QrCode.Ecc.QUARTILE,H:hc.QrCode.Ecc.HIGH},sL=128,oL="L",aL="#FFFFFF",lL="#000000",cL=!1,Qx=4,tse=.1;function uL(e,t=0){const n=[];return e.forEach(function(r,i){let s=null;r.forEach(function(o,a){if(!o&&s!==null){n.push(`M${s+t} ${i+t}h${a-s}v1H${s+t}z`),s=null;return}if(a===r.length-1){if(!o)return;s===null?n.push(`M${a+t},${i+t} h1v1H${a+t}z`):n.push(`M${s+t},${i+t} h${a+1-s}v1H${s+t}z`);return}o&&s===null&&(s=a)})}),n.join("")}function dL(e,t){return e.slice().map((n,r)=>r<t.y||r>=t.y+t.h?n:n.map((i,s)=>s<t.x||s>=t.x+t.w?i:!1))}function fL(e,t,n,r){if(r==null)return null;const i=n?Qx:0,s=e.length+i*2,o=Math.floor(t*tse),a=s/t,l=(r.width||o)*a,c=(r.height||o)*a,u=r.x==null?e.length/2-l/2:r.x*a,d=r.y==null?e.length/2-c/2:r.y*a;let h=null;if(r.excavate){let p=Math.floor(u),g=Math.floor(d),m=Math.ceil(l+u-p),_=Math.ceil(c+d-g);h={x:p,y:g,w:m,h:_}}return{x:u,y:d,h:c,w:l,excavation:h}}var nse=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}();function hL(e){const t=e,{value:n,size:r=sL,level:i=oL,bgColor:s=aL,fgColor:o=lL,includeMargin:a=cL,style:l,imageSettings:c}=t,u=Yx(t,["value","size","level","bgColor","fgColor","includeMargin","style","imageSettings"]),d=c==null?void 0:c.src,h=A.useRef(null),p=A.useRef(null),[g,m]=A.useState(!1);A.useEffect(()=>{if(h.current!=null){const y=h.current,b=y.getContext("2d");if(!b)return;let x=hc.QrCode.encodeText(n,iL[i]).getModules();const S=a?Qx:0,w=x.length+S*2,E=fL(x,r,a,c),I=p.current,z=E!=null&&I!==null&&I.complete&&I.naturalHeight!==0&&I.naturalWidth!==0;z&&E.excavation!=null&&(x=dL(x,E.excavation));const N=window.devicePixelRatio||1;y.height=y.width=r*N;const D=r/w*N;b.scale(D,D),b.fillStyle=s,b.fillRect(0,0,w,w),b.fillStyle=o,nse?b.fill(new Path2D(uL(x,S))):x.forEach(function(Q,P){Q.forEach(function(L,M){L&&b.fillRect(M+S,P+S,1,1)})}),z&&b.drawImage(I,E.x+S,E.y+S,E.w,E.h)}}),A.useEffect(()=>{m(!1)},[d]);const _=Rf({height:r,width:r},l);let v=null;return d!=null&&(v=Te.createElement("img",{src:d,key:d,style:{display:"none"},onLoad:()=>{m(!0)},ref:p})),Te.createElement(Te.Fragment,null,Te.createElement("canvas",Rf({style:_,height:r,width:r,ref:h},u)),v)}function pL(e){const t=e,{value:n,size:r=sL,level:i=oL,bgColor:s=aL,fgColor:o=lL,includeMargin:a=cL,imageSettings:l}=t,c=Yx(t,["value","size","level","bgColor","fgColor","includeMargin","imageSettings"]);let u=hc.QrCode.encodeText(n,iL[i]).getModules();const d=a?Qx:0,h=u.length+d*2,p=fL(u,r,a,l);let g=null;l!=null&&p!=null&&(p.excavation!=null&&(u=dL(u,p.excavation)),g=Te.createElement("image",{xlinkHref:l.src,height:p.h,width:p.w,x:p.x+d,y:p.y+d,preserveAspectRatio:"none"}));const m=uL(u,d);return Te.createElement("svg",Rf({height:r,width:r,viewBox:`0 0 ${h} ${h}`},c),Te.createElement("path",{fill:s,d:`M0,0 h${h}v${h}H0z`,shapeRendering:"crispEdges"}),Te.createElement("path",{fill:o,d:m,shapeRendering:"crispEdges"}),g)}var rse=e=>{const t=e,{renderAs:n}=t,r=Yx(t,["renderAs"]);return n==="svg"?Te.createElement(pL,Rf({},r)):Te.createElement(hL,Rf({},r))};const ise=Object.freeze(Object.defineProperty({__proto__:null,QRCodeCanvas:hL,QRCodeSVG:pL,default:rse},Symbol.toStringTag,{value:"Module"}));var gL={exports:{}},mL={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ou=A;function sse(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ose=typeof Object.is=="function"?Object.is:sse,ase=ou.useState,lse=ou.useEffect,cse=ou.useLayoutEffect,use=ou.useDebugValue;function dse(e,t){var n=t(),r=ase({inst:{value:n,getSnapshot:t}}),i=r[0].inst,s=r[1];return cse(function(){i.value=n,i.getSnapshot=t,jy(i)&&s({inst:i})},[e,n,t]),lse(function(){return jy(i)&&s({inst:i}),e(function(){jy(i)&&s({inst:i})})},[e]),use(n),n}function jy(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ose(e,n)}catch{return!0}}function fse(e,t){return t()}var hse=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?fse:dse;mL.useSyncExternalStore=ou.useSyncExternalStore!==void 0?ou.useSyncExternalStore:hse;gL.exports=mL;var pse=gL.exports;const{useEffect:gse,useLayoutEffect:mse,useRef:vse,useInsertionEffect:yse}=rg,Ase=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",_se=Ase?mse:gse,vL=yse||_se,yL=e=>{const t=vse([e,(...n)=>t[0](...n)]).current;return vL(()=>{t[0]=e}),t[1]},bse=(e="",t=location.pathname)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",Sse=(e,t="")=>e[0]==="~"?e.slice(1):t+e,xse="popstate",Jx="pushState",Xx="replaceState",wse="hashchange",bI=[xse,Jx,Xx,wse],Ese=e=>{for(const t of bI)addEventListener(t,e);return()=>{for(const t of bI)removeEventListener(t,e)}},kse=(e,t)=>pse.useSyncExternalStore(Ese,e,t),SI=()=>location.pathname,Cse=({ssrPath:e}={})=>kse(SI,e?()=>e:SI),Tse=(e,{replace:t=!1}={})=>history[t?Xx:Jx](null,"",e),Ise=(e={})=>[bse(e.base,Cse(e)),yL((t,n)=>Tse(Sse(t,e.base),n))];if(typeof history<"u")for(const e of[Jx,Xx]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),r=new Event(e);return r.arguments=arguments,dispatchEvent(r),n}}function Rse(e=Pse){let t={};const n=r=>t[r]||(t[r]=e(r));return(r,i)=>{const{regexp:s,keys:o}=n(r||""),a=s.exec(i);return a?[!0,o.reduce((c,u,d)=>(c[u.name]=a[d+1],c),{})]:[!1,null]}}const xI=e=>e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),Mse=(e,t,n)=>{let r=e?"((?:[^\\/]+?)(?:\\/(?:[^\\/]+?))*)":"([^\\/]+?)";return t&&n&&(r="(?:\\/"+r+")"),r+(t?"?":"")},Pse=e=>{const t=/:([A-Za-z0-9_]+)([?+*]?)/g;let n=null,r=0,i=[],s="";for(;(n=t.exec(e))!==null;){const[o,a,l]=n,c=l==="+"||l==="*",u=l==="?"||l==="*",d=u&&e[n.index-1]==="/"?1:0,h=e.substring(r,n.index-d);i.push({name:a}),r=t.lastIndex,s+=xI(h)+Mse(c,u,d)}return s+=xI(e.substring(r)),{keys:i,regexp:new RegExp("^"+s+"(?:\\/)?$","i")}},x_={hook:Ise,matcher:Rse(),base:""},AL=A.createContext(x_),Z0=()=>A.useContext(AL),ev=e=>e.hook(e),jse=()=>ev(Z0()),_L=e=>{const t=Z0(),[n]=ev(t);return t.matcher(e,n)},Ose=A.createContext({params:{}}),Vse=({hook:e,matcher:t,ssrPath:n,base:r="",parent:i,children:s})=>{const o=(l,c=i||x_)=>(l.hook=e||c.hook,l.matcher=t||c.matcher,l.ssrPath=n||c.ssrPath,l.ownBase=r,l.parent=i,l),[a]=A.useState(()=>o({get base(){return(a.parent||x_).base+a.ownBase}}));return vL(()=>{o(a)}),A.createElement(AL.Provider,{value:a,children:s})},wI=(e,t)=>A.createElement(Ose.Provider,{value:{params:e},children:t}),gr=({path:e,match:t,component:n,children:r})=>{const i=_L(e),[s,o]=t||i;return s?n?wI(o,A.createElement(n,{params:o})):wI(o,typeof r=="function"?r(o):r):null},Zx=A.forwardRef((e,t)=>{const n=Z0(),[,r]=ev(n),{to:i,href:s=i,children:o,onClick:a}=e,l=yL(d=>{d.ctrlKey||d.metaKey||d.altKey||d.shiftKey||d.button!==0||(a&&a(d),d.defaultPrevented||(d.preventDefault(),r(i||s,e)))}),c={href:s[0]==="~"?s.slice(1):n.base+s,onClick:l,to:null,ref:t},u=A.isValidElement(o)?o:A.createElement("a",e);return A.cloneElement(u,c)}),w_=e=>Array.isArray(e)?[].concat(...e.map(t=>t&&t.type===A.Fragment?w_(t.props.children):w_(t))):[e],Lse=({children:e,location:t})=>{const n=Z0(),r=n.matcher,[i]=ev(n);for(const s of w_(e)){let o=0;if(A.isValidElement(s)&&(o=s.props.path?r(s.props.path,t||i):[!0,{}])[0])return A.cloneElement(s,{match:o})}return null},{QRCodeSVG:Nse}=ise;function EI({gameCode:e,...t}){return f.jsx(zse,{...t,children:e.split("").map((n,r)=>f.jsx("span",{children:n},r))})}function ew(){var i;const e=new URL((i=global.location)==null?void 0:i.href),[t]=_L("remote-mic"),n=h0("room")??Eg.getGameCode();e.pathname="/prs/275/remote-mic",e.searchParams.set("room",n);const r=e.href;return A.useEffect(()=>{t||Eg.start()},[t]),f.jsxs(Hse,{children:[f.jsx(Gse,{children:f.jsx(Nse,{value:r,width:"100%",height:"100%",includeMargin:!0})}),f.jsxs(qse,{children:[f.jsxs(Bse,{children:[f.jsxs("h3",{children:["Game code: ",f.jsx(EI,{gameCode:n,"data-test":"game-code"})]}),f.jsxs("ol",{children:[f.jsxs("li",{children:["Go to"," ",f.jsx("a",{href:e.origin,target:"_blank",rel:"noreferrer",children:"allkaraoke.party"})," ","on your phone"]}),f.jsxs("li",{children:["Click on ",f.jsx("b",{children:"Join game"})]}),f.jsxs("li",{children:["Enter the code ",f.jsx(EI,{gameCode:n})]}),f.jsx("li",{children:"Follow the instructions"})]})]}),f.jsxs($se,{children:[f.jsx("h4",{children:"Or copy and send the link"}),f.jsxs(Dse,{children:[f.jsx(Use,{disabled:!0,value:r,"data-test":"server-link-input"}),f.jsx(Fse,{onClick:()=>{navigator.clipboard.writeText(r)},children:"Copy"})]})]})]})]})}const Bse=C("div",{target:"eg58fmd8"})({name:"82a6rk",styles:"flex:1"}),$se=C("div",{target:"eg58fmd7"})({name:"4dmv1c",styles:"flex:0"}),Dse=C("div",{target:"eg58fmd6"})({name:"sqzzkh",styles:"position:relative;margin-top:0.5rem"}),Fse=C("button",{target:"eg58fmd5"})("cursor:pointer;position:absolute;padding:0 2rem;right:0;height:100%;box-sizing:border-box;background:",pe.colors.text.active,";",$e,";font-weight:bold;font-size:2.2rem;border:0;:active{background-color:black;}"),zse=C("strong",{target:"eg58fmd4"})("text-transform:uppercase;padding:0.5rem 1.5rem;border-radius:0.5rem;display:inline-flex;gap:1.5rem;",Yc,";"),Use=C("input",{target:"eg58fmd3"})({name:"gri5w4",styles:"padding:1rem;box-sizing:border-box;background:grey;border:none;width:100%;font-size:1.3rem"}),Hse=C("div",{target:"eg58fmd2"})({name:"1d1jk7v",styles:"display:flex;flex-direction:row;flex-wrap:nowrap;align-items:stretch;flex:1;gap:2%;@media (max-width: 560px){flex-direction:column;}"}),Gse=C("div",{target:"eg58fmd1"})({name:"2ogmzh",styles:"flex:0.6;@media (max-width: 560px){flex:0;}"}),qse=C("div",{target:"eg58fmd0"})("@media (max-width: 560px){display:none;}flex:1;display:flex;flex-direction:column;b{font-weight:bold;",$e,";color:",pe.colors.text.active,";}h3{margin-bottom:1rem;}h4{margin:1rem 0;}ol{padding-left:2.3rem;margin:0 0 1.25rem 0;list-style:decimal inside;}li{color:white;font-size:2rem;line-height:3.2rem;}");function Wse({closeModal:e}){const{register:t}=zn({onBackspace:e});return f.jsx(wu,{onClose:e,children:f.jsxs(_s,{children:[f.jsx(ew,{}),f.jsx(As,{...t("quick-connect-close",e),children:"Close"})]})})}function Kse(){const[e,t]=A.useState(!1);De(dr);const[n,r]=De(LP),{hasContent:i}=A.useContext(MS),s=()=>t(!1);return f.jsxs(f.Fragment,{children:[e&&f.jsx(Wse,{closeModal:s}),f.jsxs(Yse,{children:[i&&f.jsx(su,{title:"Toggle help",place:"bottom-end",children:f.jsx(Qse,{size:"small",onClick:()=>r(!n),"data-test":"toggle-help",children:n?f.jsx(TO,{}):f.jsx(IO,{})})}),f.jsx(Uie,{}),f.jsx(su,{title:"Connect phone",place:"bottom-end",children:f.jsx(Fx,{size:"small",onClick:()=>t(o=>!o),"data-test":"quick-connect-phone",children:f.jsx(df,{})})})]})]})}const Yse=C("div",{target:"efkmcew1"})({name:"18h6jmh",styles:"view-transition-name:toolbar;cursor:pointer;background:rgba(0, 0, 0, 0.75);color:white;padding:0.2rem;padding-left:1rem;margin:0;position:fixed;top:0;right:0;z-index:10000;color:white;svg{fill:white;width:3.5rem;height:3.5rem;transition:transform 200ms;&:hover{transform:scale(1.2);}}display:flex;gap:0.75rem;border-bottom-left-radius:1.5rem"}),Qse=C(Fx,{target:"efkmcew0"})({name:"lpoy45",styles:"scale:0.9"});function Mo({children:e,toolbar:t=!0}){return f.jsxs(SJ,{children:[t&&f.jsx(Kse,{}),e]})}var tw={},Jse=st;Object.defineProperty(tw,"__esModule",{value:!0});var bL=tw.default=void 0,Xse=Jse(ct()),Zse=f;bL=tw.default=(0,Xse.default)((0,Zse.jsx)("path",{d:"M3 13h2v-2H3zm0 4h2v-2H3zm0-8h2V7H3zm4 4h14v-2H7zm0 4h14v-2H7zM7 7v2h14V7z"}),"List");var nw={},eoe=st;Object.defineProperty(nw,"__esModule",{value:!0});var SL=nw.default=void 0,toe=eoe(ct()),noe=f;SL=nw.default=(0,toe.default)((0,noe.jsx)("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6"}),"Settings");const rw=({...e})=>f.jsx("svg",{viewBox:"0 0 512 512",fill:"currentcolor",...e,children:f.jsx("path",{stroke:"black",strokeWidth:"2%",xmlns:"http://www.w3.org/2000/svg",d:"M252.529,162.029l168.125,210.156c-12.313,1.25-24.031,6.438-33.031,15.438s-14.188,20.719-15.438,33.031L162.029,252.545  c-3.563-24.922,4.813-50.078,22.625-67.891C202.467,166.857,227.623,158.467,252.529,162.029z M398.936,398.936  c-9.063,9.063-13.031,22.063-10.625,34.656l45.281,45.25c12.5,12.5,32.75,12.5,45.25,0s12.5-32.75,0-45.25l-45.25-45.281  C420.998,385.904,407.998,389.873,398.936,398.936z M162.029,162.029c18.594-18.594,43.188-29.891,68.969-32.297  c-3.375-24.563-14.906-49.391-35.031-69.516c-43.75-43.75-109.594-48.813-147.063-11.313  c-37.5,37.484-32.438,103.328,11.313,147.078c20.125,20.125,44.938,31.656,69.5,35.031  C132.154,205.217,143.436,180.623,162.029,162.029z"})}),xL=C(rw,{target:"e1uhpuaa1"})("fill:",pe.colors.players[1].text,";"),E_=C(rw,{target:"e1uhpuaa0"})("fill:",pe.colors.players[0].text,";");function roe({active:e,setActiveTab:t}){return f.jsxs(ioe,{children:[f.jsxs(Oy,{active:e==="microphone",onClick:()=>t("microphone"),"data-test":"menu-microphone",children:[f.jsx(Vy,{children:f.jsx(rw,{})}),f.jsx(Ly,{children:"Microphone"})]}),f.jsxs(Oy,{active:e==="song-list",onClick:()=>t("song-list"),"data-test":"menu-song-list",children:[f.jsx(Vy,{children:f.jsx(bL,{})}),f.jsx(Ly,{children:"Song list"})]}),f.jsxs(Oy,{active:e==="settings",onClick:()=>t("settings"),"data-test":"menu-settings",children:[f.jsx(Vy,{children:f.jsx(SL,{})}),f.jsx(Ly,{children:"Settings"})]})]})}const ioe=C("div",{target:"e1c2ys9k3"})({name:"1x8gdpu",styles:"position:fixed;bottom:0;right:0;display:flex;align-items:stretch;width:100%;gap:1px;background:#424242;@media (max-height: 500px) and (min-aspect-ratio: 16/10){max-width:400px;transform:scale(0.75);transform-origin:bottom right;}"}),Oy=C("div",{target:"e1c2ys9k2"})("cursor:pointer;flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;background:black;padding:1rem;font-size:1.5rem;gap:0.5rem;color:",e=>e.active?pe.colors.text.active:"#cecece",";"),Vy=C("div",{target:"e1c2ys9k1"})({name:"immj2t",styles:"svg{width:2.5rem;height:2.5rem;}font-size:2rem"}),Ly=C("div",{target:"e1c2ys9k0"})("");var iw={},soe=st;Object.defineProperty(iw,"__esModule",{value:!0});var Rl=iw.default=void 0,ooe=soe(ct()),aoe=f;Rl=iw.default=(0,ooe.default)((0,aoe.jsx)("path",{d:"M1 21h22L12 2zm12-3h-2v-2h2zm0-4h-2v-4h2z"}),"Warning");const sw=()=>{const[e,t]=A.useState(Zo.getStatus());return A.useEffect(()=>Zo.addListener(t),[]),e};function wL(){return navigator==null?void 0:navigator.userAgent.includes("OPR")}const loe="/prs/275/assets/allow-mic-DleF1-pf.png",coe="/prs/275/assets/enable-mic-opera-B5FfRj_P.png",uoe="/prs/275/assets/enable-mic-TGG47ucR.png",doe=()=>wL()?coe:uoe,dh=({children:e,fallback:t,showImages:n=!0})=>{const r=sw();return f.jsxs(f.Fragment,{children:[r==="accepted"&&e,r!=="accepted"&&f.jsxs(f.Fragment,{children:[f.jsx(hoe,{children:f.jsx(poe,{})}),t,f.jsxs(foe,{children:[r==="requested"&&n&&f.jsx("img",{src:loe,alt:"how-to-allow"}),r==="declined"&&f.jsxs(f.Fragment,{children:[f.jsx("h3",{children:"Access is blocked, you can unblock it here"}),n&&f.jsx("img",{src:doe(),alt:"how-to-enable"})]}),wL()&&f.jsxs("h4",{children:[f.jsx("strong",{children:"Opera"})," is buggy regarding microphone access - if you encounter issue (e.g. this message stays even after the access to microphone was granted), consider other browsers."]})]})]})]})},foe=C("div",{target:"e1w9vi9z2"})({name:"1hmq8jv",styles:"text-align:center;img{margin:1.5rem 0 0.5rem;box-shadow:0.5rem 0.5rem 0.5rem rgba(0, 0, 0, 0.5),inset 0 0 0.5rem 0.5rem rgba(255, 255, 255, 0.5);border:0.5rem solid white;border-radius:1rem;box-sizing:border-box;max-width:100%;}"}),hoe=C("div",{target:"e1w9vi9z1"})({name:"zov8s0",styles:"width:100%;display:flex;justify-content:center"}),poe=C(Rl,{target:"e1w9vi9z0"})("color:",pe.colors.text.active,";font-size:3rem;");function goe(){return!1}var ow={},moe=st;Object.defineProperty(ow,"__esModule",{value:!0});var Dd=ow.default=void 0,voe=moe(ct()),yoe=f;Dd=ow.default=(0,voe.default)((0,yoe.jsx)("path",{d:"m1 9 2 2c4.97-4.97 13.03-4.97 18 0l2-2C16.93 2.93 7.08 2.93 1 9m8 8 3 3 3-3c-1.65-1.66-4.34-1.66-6 0m-4-4 2 2c2.76-2.76 7.24-2.76 10 0l2-2C15.14 9.14 8.87 9.14 5 13"}),"Wifi");function fh(e,t,n=1){return n===1?(t+1)%e.length:(t+e.length-1)%e.length}function Aoe(e,t,n=1){return fh(e,e.indexOf(t),n)}function Ja(e,t,n=1){return e[Aoe(e,t,n)]}const ni=({focused:e,disabled:t=!1,label:n,value:r,onClick:i,info:s,children:o,...a})=>f.jsxs(_oe,{children:[f.jsxs(boe,{"data-focused":e,onClick:i,"data-disabled":t,...a,children:[f.jsx("span",{children:n?f.jsxs(f.Fragment,{children:[n,":"]}):""})," ",f.jsx(Soe,{children:r}),o??null]}),s&&f.jsx(EL,{children:s})]}),_oe=C("div",{target:"e84wjn53"})(""),EL=C("div",{target:"e84wjn52"})($e,";font-size:2rem;padding:1rem 0.5rem 0;text-align:justify;"),boe=C("span",{target:"e84wjn51"})("background:rgba(0, 0, 0, 0.7);width:auto;",$e,";text-align:right;font-size:2.7rem;cursor:pointer;padding:0.65rem;display:flex;flex-direction:row;justify-content:space-between;&[data-expanded='true']{font-size:6rem;}&[data-disabled='true']{cursor:default;}&[data-focused='true'][data-disabled='false']{animation:focusAnimation 1000ms ease-in-out infinite both;}&:hover{animation:focusAnimation 1000ms ease-in-out infinite both;}"),Soe=C("span",{target:"e84wjn50"})("color:",pe.colors.text.active,";text-overflow:ellipsis;overflow:hidden;white-space:nowrap;padding-left:1rem;"),Ml=A.forwardRef(({focused:e,label:t,value:n,onChange:r,disabled:i,className:s,adornment:o,info:a,...l},c)=>{const u=A.useRef(null);return A.useImperativeHandle(c,()=>u.current),Er(m1,()=>{var d;return(d=u.current)==null?void 0:d.focus()},{enabled:e}),f.jsxs("div",{children:[f.jsxs(woe,{"data-focused":e,className:s,children:[f.jsx(Eoe,{children:t}),f.jsx(koe,{value:n,onChange:d=>r(d.target.value),...l,disabled:i,ref:u}),o&&f.jsx(xoe,{children:o})]}),a&&f.jsx(EL,{children:a})]})}),xoe=C("span",{target:"et2ce2n3"})(""),woe=C("div",{target:"et2ce2n2"})("background:black;caret:underscore;",$e,";width:auto;display:flex;cursor:text;padding:0.25em;align-items:center;&[data-focused='true']{animation:focusAnimation 1000ms ease-in-out infinite both;}&:hover{animation:focusAnimation 1000ms ease-in-out infinite both;}"),Eoe=C("span",{target:"et2ce2n1"})({name:"1vbnwdc",styles:"display:inline-flex;align-items:center;justify-content:center;padding-right:0.5em;white-space:nowrap;width:auto;svg{font-size:1em;}"}),koe=C("input",{target:"et2ce2n0"})("padding:0;border:0;background:transparent;caret:underscore;",$e,";color:",pe.colors.text.active,";width:100%;font-size:1em;&:focus{outline:none;}");function Coe(e){return mu("MuiCircularProgress",e)}vu("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const Toe=["className","color","disableShrink","size","style","thickness","value","variant"];let tv=e=>e,kI,CI,TI,II;const Oo=44,Ioe=ga(kI||(kI=tv`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),Roe=ga(CI||(CI=tv`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),Moe=e=>{const{classes:t,variant:n,color:r,disableShrink:i}=e,s={root:["root",n,`color${Jn(r)}`],svg:["svg"],circle:["circle",`circle${Jn(n)}`,i&&"circleDisableShrink"]};return Zf(s,Coe,t)},Poe=To("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`color${Jn(n.color)}`]]}})(({ownerState:e,theme:t})=>Pe({display:"inline-block"},e.variant==="determinate"&&{transition:t.transitions.create("transform")},e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main}),({ownerState:e})=>e.variant==="indeterminate"&&ui(TI||(TI=tv`
      animation: ${0} 1.4s linear infinite;
    `),Ioe)),joe=To("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),Ooe=To("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.circle,t[`circle${Jn(n.variant)}`],n.disableShrink&&t.circleDisableShrink]}})(({ownerState:e,theme:t})=>Pe({stroke:"currentColor"},e.variant==="determinate"&&{transition:t.transitions.create("stroke-dashoffset")},e.variant==="indeterminate"&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink&&ui(II||(II=tv`
      animation: ${0} 1.4s ease-in-out infinite;
    `),Roe)),Voe=A.forwardRef(function(t,n){const r=Au({props:t,name:"MuiCircularProgress"}),{className:i,color:s="primary",disableShrink:o=!1,size:a=40,style:l,thickness:c=3.6,value:u=0,variant:d="indeterminate"}=r,h=br(r,Toe),p=Pe({},r,{color:s,disableShrink:o,size:a,thickness:c,value:u,variant:d}),g=Moe(p),m={},_={},v={};if(d==="determinate"){const y=2*Math.PI*((Oo-c)/2);m.strokeDasharray=y.toFixed(3),v["aria-valuenow"]=Math.round(u),m.strokeDashoffset=`${((100-u)/100*y).toFixed(3)}px`,_.transform="rotate(-90deg)"}return f.jsx(Poe,Pe({className:Lr(g.root,i),style:Pe({width:a,height:a},_,l),ownerState:p,ref:n,role:"progressbar"},v,h,{children:f.jsx(joe,{className:g.svg,ownerState:p,viewBox:`${Oo/2} ${Oo/2} ${Oo} ${Oo}`,children:f.jsx(Ooe,{className:g.circle,style:m,ownerState:p,cx:Oo,cy:Oo,r:(Oo-c)/2,fill:"none",strokeWidth:c})})}))}),Loe=Voe;function hh(e){return f.jsx(Loe,{...e})}function Mf(e){document.startViewTransition?document.startViewTransition(async()=>{await e()}):e()}const dm=(e,t)=>{var n;if(t){const r=new URLSearchParams((n=global.location)==null?void 0:n.search);return Object.entries(t).forEach(([i,s])=>{s===null?r.delete(i):r.set(i,s)}),`${e}?${r.toString()}`}return e};function qr(){const[,e]=jse();return(t,n,{smooth:r=!0,...i}={})=>{r?Mf(()=>e(dm(t,n),i)):e(dm(t,n),i)}}var aw={},Noe=st;Object.defineProperty(aw,"__esModule",{value:!0});var lw=aw.default=void 0,Boe=Noe(ct()),$oe=f;lw=aw.default=(0,Boe.default)((0,$oe.jsx)("path",{d:"M20 18c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2H0v2h24v-2zM4 6h16v10H4z"}),"Laptop");var cw={},Doe=st;Object.defineProperty(cw,"__esModule",{value:!0});var uw=cw.default=void 0,Foe=Doe(ct()),zoe=f;uw=cw.default=(0,Foe.default)((0,zoe.jsx)("path",{d:"M16 1H8C6.34 1 5 2.34 5 4v16c0 1.66 1.34 3 3 3h8c1.66 0 3-1.34 3-3V4c0-1.66-1.34-3-3-3m-2 20h-4v-1h4zm3.25-3H6.75V4h10.5z"}),"PhoneAndroid");const RI="confirmed-wifi";function Uoe({onClose:e}){const[t,n]=Te.useState(Ve.session.getItem(RI)??!1),r=()=>{Ve.session.setItem(RI,!0),n(!0),e==null||e()};return A.useEffect(()=>{var i,s,o;if(navigator!=null&&navigator.connection)if(((i=navigator==null?void 0:navigator.connection)==null?void 0:i.type)==="wifi")r();else{const a=()=>{var l;((l=navigator==null?void 0:navigator.connection)==null?void 0:l.type)==="wifi"&&r()};return(o=(s=navigator==null?void 0:navigator.connection)==null?void 0:s.addEventListener)==null||o.call(s,"change",a),()=>{var l,c;return(c=(l=navigator==null?void 0:navigator.connection)==null?void 0:l.removeEventListener)==null?void 0:c.call(l,"change",a)}}},[]),t?null:f.jsx(wu,{onClose:r,children:f.jsxs(Hoe,{children:[f.jsxs(Goe,{children:[f.jsxs("h3",{children:["Connect to the ",f.jsx("strong",{children:"same Wi-Fi"})]}),f.jsxs(qoe,{children:[f.jsx(uw,{}),"...",f.jsx(Dd,{}),"...",f.jsx(lw,{})]}),f.jsx("h4",{children:"Connect to the same Wi-Fi as the game."})]}),f.jsx("h6",{children:"Otherwise microphones might not work properly."}),f.jsx(Re,{onClick:r,focused:!0,"data-test":"confirm-wifi-connection",children:"I'm connected, continue"})]})})}const Hoe=C(_s,{target:"e1200hll2"})({name:"vcyu3g",styles:"gap:1rem"}),Goe=C("div",{target:"e1200hll1"})({name:"1uu7723",styles:"display:flex;flex-direction:column;align-items:center;gap:2rem"}),qoe=C("div",{target:"e1200hll0"})("margin:2rem 0;display:flex;color:white;align-items:center;gap:2rem;@keyframes pulse{0%{color:",pe.colors.text.default,";transform:scale(1);}25%{color:",pe.colors.text.active,";transform:scale(1.1);}50%{color:",pe.colors.text.default,";transform:scale(1);}}svg{animation:pulse 2s infinite;font-size:7rem;:nth-of-type(1){animation-delay:0s;}:nth-of-type(2){animation-delay:0.5s;}:nth-of-type(3){animation-delay:1s;}}");function Woe(e,t,n,r){n===void 0&&(n=global),r===void 0&&(r={});var i=A.useRef(),s=r.capture,o=r.passive,a=r.once;A.useEffect(function(){i.current=t},[t]),A.useEffect(function(){if(n&&n.addEventListener){var l=function(u){return i.current(u)},c={capture:s,passive:o,once:a};return n.addEventListener(e,l,c),function(){n.removeEventListener(e,l,c)}}},[e,n,s,o,a])}var Ia={},Koe=function(e,t,n){return Ia[e]||(Ia[e]={callbacks:[],value:n}),Ia[e].callbacks.push(t),{deregister:function(){var r=Ia[e].callbacks,i=r.indexOf(t);i>-1&&r.splice(i,1)},emit:function(r){Ia[e].value!==r&&(Ia[e].value=r,Ia[e].callbacks.forEach(function(i){t!==i&&i(r)}))}}};function dw(e,t){if(t===void 0&&(t=typeof global<"u"&&global.localStorage?global.localStorage:typeof globalThis<"u"&&globalThis.localStorage?globalThis.localStorage:typeof window<"u"&&window.localStorage?window.localStorage:typeof localStorage<"u"?localStorage:null),t){var n=function(r){return{get:function(i,s){var o=r.getItem(i);return o==null?typeof s=="function"?s():s:JSON.parse(o)},set:function(i,s){r.setItem(i,JSON.stringify(s))}}}(t);return function(r){return function(i,s,o){var a=o.get,l=o.set,c=A.useRef(null),u=A.useState(function(){return a(s,i)}),d=u[0],h=u[1];Woe("storage",function(g){if(g.key===s){var m=JSON.parse(g.newValue);d!==m&&h(m)}}),A.useEffect(function(){return c.current=Koe(s,h,i),function(){c.current.deregister()}},[i,s]);var p=A.useCallback(function(g){var m=typeof g=="function"?g(d):g;l(s,m),h(m),c.current.emit(g)},[d,l,s]);return[d,p]}(r,e,n)}}return A.useState}const Yoe=dw("remote_mic_name");function Qoe({isVisible:e,roomId:t,connectionStatus:n,onConnect:r,connectionError:i}){const[s,o]=Yoe(""),[a,l]=A.useState(!1),c=A.useRef(null),u=A.useRef(null),[d,h]=A.useState(""),p=qr(),g=n!=="uninitialised"&&n!=="error";A.useEffect(()=>{n==="connected"&&!t&&p("remote-mic/",{room:d})},[n,t,d]);const m=(x=!1)=>{xn.connect(t??d,s,x),r(x)},_=x=>{var S,w;x.preventDefault(),l(!1),!t&&d.length!==jp?(S=c.current)==null||S.focus():s===""?(w=u.current??c.current)==null||w.focus():m()};A.useEffect(()=>{var x;On.capture(t?"remote-mic-qrcode":"remote-mic-manual"),(x=c.current)==null||x.focus()},[]),A.useEffect(()=>{Ve.session.getItem("reload-mic-request")!==null&&(global.setTimeout(()=>Ve.session.removeItem("reload-mic-request"),1),m(!0))},[]);const[v,y]=A.useState(!1);A.useEffect(()=>{if(y(!1),n==="connecting"||n==="reconnecting"){const x=setTimeout(()=>y(!0),2e3);return()=>clearTimeout(x)}},[n]);const b=n==="error"&&!a;return e?f.jsxs(f.Fragment,{children:[f.jsx(Uoe,{onClose:()=>{var x;(x=c.current)==null||x.focus()}}),f.jsxs(Joe,{onSubmit:_,children:[!t&&f.jsx(Zoe,{ref:c,placeholder:"_____",label:"Game code",autoCapitalize:"characters",autoComplete:"off",onChange:h,value:d,maxLength:jp,focused:!1,autoFocus:!0,"data-test":"game-code-input",onFocus:()=>{n==="error"&&l(!0)},onPaste:x=>{x.preventDefault();let S=(x.clipboardData||global.clipboardData).getData("text");S=S.replace(/\s/g,""),h(S.slice(0,jp))}}),f.jsx(Ml,{maxLength:Qb,focused:!1,label:"Your name",placeholder:"Enter your name",value:s,onChange:o,ref:t?c:u,disabled:g,autoFocus:!0,"data-test":"player-name-input"}),f.jsxs(Xoe,{type:"submit",disabled:g,"data-test":"connect-button",children:[n==="connecting"&&f.jsx(hh,{size:"1em"}),n==="uninitialised"||a?"Connect":n.toUpperCase()]})]}),(v||b)&&f.jsxs(f.Fragment,{children:[v&&f.jsx("h3",{children:"If it doesn't connect"}),b&&f.jsxs(f.Fragment,{children:[f.jsxs("h3",{children:[f.jsx("strong",{children:f.jsx(Rl,{})})," ","Could not connect:"]}),f.jsxs("h6",{children:["Error code: ",f.jsx("strong",{children:i})]}),f.jsx("br",{}),i==="peer-unavailable"?f.jsxs(f.Fragment,{children:[f.jsx("h4",{children:t===void 0?"Game with this code not found ":"The game seems to be offline "}),t===void 0&&f.jsxs("h5",{children:["1. Is the code ",f.jsx("strong",{children:d.toUpperCase()})," correct?"]}),f.jsxs("h5",{children:[t===void 0?2:1,". Refresh (",f.jsx("strong",{children:"F5"}),") the Karaoke Game on the PC"]}),t!==void 0&&f.jsxs("h5",{children:["2. Scan the"," ",f.jsxs("strong",{children:[f.jsx(df,{})," QR Code"]})," ","again"]}),f.jsxs("h5",{children:["3. Make sure you are in the same"," ",f.jsxs("strong",{children:[f.jsx(Dd,{})," Wi-Fi"]})]})]}):i==="network"?f.jsxs(f.Fragment,{children:[f.jsx("h4",{children:"No internet access "}),f.jsxs("h5",{children:["Make sure you are in the same"," ",f.jsxs("strong",{children:[f.jsx(Dd,{})," Wi-Fi"]}),"and that it has internet connection"]})]}):f.jsxs(f.Fragment,{children:[f.jsxs("h5",{children:["1. Make sure you are in the same"," ",f.jsxs("strong",{children:[f.jsx(Dd,{})," Wi-Fi"]})]}),f.jsxs("h5",{children:["2. Refresh (",f.jsx("strong",{children:"F5"}),") the Karaoke Game on the PC"]}),f.jsxs("h5",{children:["3. Scan the"," ",f.jsxs("strong",{children:[f.jsx(df,{})," QR Code"]})," ","again"]})]})]})]})]}):null}const Joe=C("form",{target:"e1ey8ze72"})({name:"fvqkyn",styles:"margin-top:2rem;display:flex;flex-direction:column;gap:1rem"}),Xoe=C(Re,{target:"e1ey8ze71"})({name:"116s0m5",styles:"margin-bottom:0;height:72px"}),Zoe=C(Ml,{target:"e1ey8ze70"})({name:"8hhbv6",styles:"input{letter-spacing:2rem;text-align:center;text-transform:uppercase;}"});var fw={},eae=st;Object.defineProperty(fw,"__esModule",{value:!0});var kL=fw.default=void 0,tae=eae(ct()),nae=f;kL=fw.default=(0,tae.default)((0,nae.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack");var hw={},rae=st;Object.defineProperty(hw,"__esModule",{value:!0});var CL=hw.default=void 0,iae=rae(ct()),sae=f;CL=hw.default=(0,iae.default)((0,sae.jsx)("path",{d:"m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"}),"ArrowForward");var pw={},oae=st;Object.defineProperty(pw,"__esModule",{value:!0});var TL=pw.default=void 0,aae=oae(ct()),lae=f;TL=pw.default=(0,aae.default)((0,lae.jsx)("path",{d:"M15 7.5V2H9v5.5l3 3zM7.5 9H2v6h5.5l3-3zM9 16.5V22h6v-5.5l-3-3zM16.5 9l-3 3 3 3H22V9z"}),"Games");var gw={},cae=st;Object.defineProperty(gw,"__esModule",{value:!0});var IL=gw.default=void 0,uae=cae(ct()),dae=f;IL=gw.default=(0,uae.default)((0,dae.jsx)("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6z"}),"KeyboardArrowDown");var mw={},fae=st;Object.defineProperty(mw,"__esModule",{value:!0});var RL=mw.default=void 0,hae=fae(ct()),pae=f;RL=mw.default=(0,hae.default)((0,pae.jsx)("path",{d:"M15.41 16.59 10.83 12l4.58-4.59L14 6l-6 6 6 6z"}),"KeyboardArrowLeft");var vw={},gae=st;Object.defineProperty(vw,"__esModule",{value:!0});var ML=vw.default=void 0,mae=gae(ct()),vae=f;ML=vw.default=(0,mae.default)((0,vae.jsx)("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6z"}),"KeyboardArrowRight");var yw={},yae=st;Object.defineProperty(yw,"__esModule",{value:!0});var PL=yw.default=void 0,Aae=yae(ct()),_ae=f;PL=yw.default=(0,Aae.default)((0,_ae.jsx)("path",{d:"M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"}),"KeyboardArrowUp");var Aw={},bae=st;Object.defineProperty(Aw,"__esModule",{value:!0});var jL=Aw.default=void 0,Sae=bae(ct()),xae=f;jL=Aw.default=(0,Sae.default)((0,xae.jsx)("path",{d:"M10.59 9.17 5.41 4 4 5.41l5.17 5.17zM14.5 4l2.04 2.04L4 18.59 5.41 20 17.96 7.46 20 9.5V4zm.33 9.41-1.41 1.41 3.13 3.13L14.5 20H20v-5.5l-2.04 2.04z"}),"Shuffle");var _w={},wae=st;Object.defineProperty(_w,"__esModule",{value:!0});var nv=_w.default=void 0,Eae=wae(ct()),kae=f;nv=_w.default=(0,Eae.default)((0,kae.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search");function bw(e,t){const[n,r]=A.useState(e);return A.useEffect(()=>{const i=setTimeout(()=>{r(e)},t);return()=>{clearTimeout(i)}},[e,t]),n}function Cae(){var e=A.useRef(!0);return e.current?(e.current=!1,!0):e.current}var fm=function(){return fm=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},fm.apply(this,arguments)};function Tae(){var e=A.useRef(!1),t=A.useCallback(function(){return e.current},[]);return A.useEffect(function(){return e.current=!0,function(){e.current=!1}},[]),t}function Iae(e,t,n){t===void 0&&(t=[]),n===void 0&&(n={loading:!1});var r=A.useRef(0),i=Tae(),s=A.useState(n),o=s[0],a=s[1],l=A.useCallback(function(){for(var c=[],u=0;u<arguments.length;u++)c[u]=arguments[u];var d=++r.current;return o.loading||a(function(h){return fm(fm({},h),{loading:!0})}),e.apply(void 0,c).then(function(h){return i()&&d===r.current&&a({value:h,loading:!1}),h},function(h){return i()&&d===r.current&&a({error:h,loading:!1}),h})},t);return[o,l]}function MI(e,t){t===void 0&&(t=[]);var n=Iae(e,t,{loading:!0}),r=n[0],i=n[1];return A.useEffect(function(){i()},[i]),r}function Rae(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e&&e.addEventListener&&e.addEventListener.apply(e,t)}function Mae(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e&&e.removeEventListener&&e.removeEventListener.apply(e,t)}var Pae=typeof window<"u",jae=function(e){return(e+1)%1e6};function OL(){var e=A.useReducer(jae,0),t=e[1];return t}var Oae=function(e){A.useEffect(e,[])},Vae=Pae?window:null,PI=function(e){return!!e.addEventListener},jI=function(e){return!!e.on},Lae=function(e,t,n,r){n===void 0&&(n=Vae),A.useEffect(function(){if(t&&n)return PI(n)?Rae(n,e,t,r):jI(n)&&n.on(e,t,r),function(){PI(n)?Mae(n,e,t,r):jI(n)&&n.off(e,t,r)}},[e,t,n,JSON.stringify(r)])},Nae=function(e,t){var n=A.useRef(function(){});A.useEffect(function(){n.current=e}),A.useEffect(function(){if(t!==null){var r=setInterval(function(){return n.current()},t||0);return function(){return clearInterval(r)}}},[t])},Bae=function(e){var t=A.useRef(e);t.current=e,Oae(function(){return function(){return t.current()}})};function $ae(e){var t=A.useRef();return A.useEffect(function(){t.current=e}),t.current}var Dae=function(e,t){return e===t};function Fae(e,t){t===void 0&&(t=Dae);var n=A.useRef(),r=A.useRef(e),i=Cae();return!i&&!t(r.current,e)&&(n.current=r.current,r.current=e),n.current}function zae({onSearchStateChange:e}){const[t,n]=A.useState(""),r=A.useRef(null),i=bw(t,100),s=$ae(i);return A.useEffect(()=>{s!==i&&xn.searchSong(i.trim())},[s,i]),Bae(()=>e==null?void 0:e(!1)),f.jsx(Uae,{onFocus:()=>e==null?void 0:e(!0),onBlur:()=>e==null?void 0:e(!1),maxLength:Qb,focused:!1,label:f.jsx(nv,{}),placeholder:"Search for a song",value:t,onChange:n,ref:r,"data-test":"search-song-input"})}const Uae=C(Ml,{target:"e12hs6m40"})({name:"zrd260",styles:"width:100%;margin-bottom:1rem"});function Hae({onSearchStateChange:e}){var s;const[t]=qs(te.remoteKeyboardLayout,!0)??[],n=(t==null?void 0:t.horizontal)!==void 0||(t==null?void 0:t["horizontal-vertical"])!==void 0,r=(t==null?void 0:t.vertical)!==void 0||(t==null?void 0:t["horizontal-vertical"])!==void 0,i=o=>()=>{xn.sendKeyStroke(o)};return t!==void 0?f.jsxs(Gae,{"data-test":"remote-keyboard",children:[((s=t==null?void 0:t.remote)==null?void 0:s.includes("search"))&&f.jsx(zae,{onSearchStateChange:e}),(n||r)&&f.jsxs(By,{children:[f.jsx(Ny,{children:f.jsx(Wl,{onClick:i("up"),disabled:!r,"data-disabled":!r,"data-test":"arrow-up",children:f.jsx(PL,{})})}),f.jsxs(Ny,{children:[f.jsx(Wl,{onClick:i("left"),disabled:!n,"data-disabled":!n,"data-test":"arrow-left",children:f.jsx(RL,{})}),f.jsx(Wl,{disabled:!0,"data-disabled":!0,children:f.jsx(TL,{})}),f.jsx(Wl,{onClick:i("right"),disabled:!n,"data-disabled":!n,"data-test":"arrow-right",children:f.jsx(ML,{})})]}),f.jsx(Ny,{children:f.jsx(Wl,{onClick:i("down"),disabled:!r,"data-disabled":!r,"data-test":"arrow-down",children:f.jsx(IL,{})})})]}),f.jsxs(By,{children:[f.jsx($y,{onClick:i("back"),disabled:(t==null?void 0:t.back)===void 0,"data-test":"keyboard-backspace",children:(t==null?void 0:t.back)||f.jsxs(f.Fragment,{children:[f.jsx(kL,{})," Back"]})}),f.jsx($y,{onClick:i("accept"),disabled:(t==null?void 0:t.accept)===void 0,"data-test":"keyboard-enter",children:(t==null?void 0:t.accept)||f.jsxs(f.Fragment,{children:["Enter ",f.jsx(CL,{})]})})]}),f.jsx(qae,{}),f.jsx(By,{disabled:(t==null?void 0:t.shiftR)===void 0,"data-test":"keyboard-shift-r",children:f.jsxs($y,{onClick:i("random"),children:[f.jsx(jL,{})," ",(t==null?void 0:t.shiftR)||"Random Song"]})})]}):null}const Gae=C("div",{target:"epl0eil6"})({name:"17mk58z",styles:"gap:1rem;display:flex;flex-wrap:wrap;margin-bottom:2rem"}),Ny=C("div",{target:"epl0eil5"})({name:"144ujnw",styles:"display:flex;justify-content:center;flex:1;color:white;font-size:2rem"}),By=C("div",{target:"epl0eil4"})("display:flex;flex-direction:column;flex:1;justify-content:space-between;opacity:",e=>e.disabled?0:1,";"),qae=C("div",{target:"epl0eil3"})({name:"1f76xva",styles:"flex-basis:100%;height:0"}),Wae=C("button",{target:"epl0eil2"})("background:none;border:none;box-sizing:border-box;margin:0.25rem;width:4.5rem;height:4.5rem;svg{width:2.5rem;height:2.5rem;}opacity:",e=>e.disabled?.25:1,";"),Wl=C(Wae,{target:"epl0eil1"})({name:"1dzx4ce",styles:"display:flex;align-items:center;justify-content:center;border-radius:0.3rem;border:0.3rem solid rgb(204, 204, 204);border-bottom-color:rgb(130, 130, 130);border-right-color:rgb(130, 130, 130);gap:0.5rem;&[data-disabled='false']{cursor:pointer;&:active{border:0.3rem solid rgb(130, 130, 130);border-bottom-color:rgb(204, 204, 204);border-right-color:rgb(204, 204, 204);}}color:rgb(51, 51, 51);font-weight:normal;font-size:2.5rem;box-shadow:0 0.1rem 0 rgba(0, 0, 0, 0.2),inset 0 0 0 0.2rem #ffffff;background-color:rgb(247, 247, 247);text-shadow:0 0.1rem 0 #fff"}),$y=C(Wl,{target:"epl0eil0"})({name:"1d3w5wq",styles:"width:100%"});var Sw={},Kae=st;Object.defineProperty(Sw,"__esModule",{value:!0});var rv=Sw.default=void 0,Yae=Kae(ct()),Qae=f;rv=Sw.default=(0,Yae.default)((0,Qae.jsx)("path",{d:"M6.99 11 3 15l3.99 4v-3H14v-2H6.99zM21 9l-3.99-4v3H10v2h7.01v3z"}),"SwapHoriz");function VL({playerNumber:e,id:t,onModalClose:n,header:r}){const[i]=qs(te.remoteStyleChanged,!0)??["regular"],s=a=>{xn.requestPlayerChange(t,a),n()},o=e!==null;return f.jsx(wu,{onClose:n,children:f.jsxs(Jae,{children:[r&&f.jsx("h2",{children:r}),f.jsx(Re,{size:"small","data-test":"change-to-player-0",onClick:()=>s(0),disabled:e===0,style:{color:pe.colors.players[0].perfect.fill},children:i==="christmas"?"Green":"Blue"}),f.jsx(Re,{size:"small","data-test":"change-to-player-1",onClick:()=>s(1),disabled:e===1,style:{color:pe.colors.players[1].perfect.fill},children:i==="christmas"?"Red":i==="eurovision"?"Violet":"Red"}),f.jsx(Re,{size:"small","data-test":"change-to-player-2",onClick:()=>s(2),disabled:e===2,style:{color:pe.colors.players[2].perfect.fill},children:i==="christmas"?"?????":i==="eurovision"?"Yellow":"Green"}),f.jsx(Re,{size:"small","data-test":"change-to-player-3",onClick:()=>s(3),disabled:e===3,style:{color:pe.colors.players[3].perfect.fill},children:i==="christmas"?"?????":i==="eurovision"?"Pink":"Yellow"}),f.jsx(Re,{size:"small",onClick:()=>s(null),disabled:!o,"data-test":"change-to-unset",children:"Unassign"}),f.jsx("hr",{}),f.jsx(Re,{onClick:n,size:"small",children:"Close"})]})})}const Jae=C(_s,{target:"e1q747tq0"})({name:"8ixhiv",styles:"gap:0"});function LL({number:e,...t}){const[n]=qs(te.remoteStyleChanged,!0)??["regular"],r=OL();return A.useEffect(()=>{r()},[n]),f.jsx(Xae,{style:{background:e!==null?pe.colors.players[e].perfect.fill:pe.colors.text.inactive},...t})}const Xae=C("div",{target:"e1u9853z0"})({name:"97f0zo",styles:"display:inline-block;width:1em;height:1em;aspect-ratio:1;border-radius:1em"}),Zae=A.memo(function({playerNumber:t}){const[n,r]=A.useState(!1),i=()=>r(!1),s=t!==null;return f.jsxs(f.Fragment,{children:[f.jsxs(ele,{onClick:()=>r(!0),"data-test":"change-player","data-joined":s,children:[s?f.jsxs(f.Fragment,{children:[f.jsx(LL,{number:t})," Change"]}):"Join game"," ",f.jsx(rv,{})]}),n&&f.jsx(VL,{id:xn.getClientId(),playerNumber:t,onModalClose:i})]})}),ele=C("button",{target:"e1x7ggg80"})("position:absolute;z-index:1;color:white;right:1rem;bottom:1rem;padding:1rem;font-size:2rem;text-transform:uppercase;display:flex;align-items:center;gap:1rem;border:none;",$e,";background:rgba(0, 0, 0, 0.75);&[data-joined='false']{font-size:3rem;padding:3rem;",Yc,";}:hover{",Yc,";}:active{",X0,";}svg{width:2rem;height:2rem;}");function xw(){const[e]=qs(te.remoteMicPermissionsSet,!0)??["write"];return e}function tle({playerNumber:e,volume:t,frequency:n,isMicOn:r,isConnected:i}){const[s,o]=A.useState(1e-6),a=xw();A.useEffect(()=>{o(u=>t>u?t:u*.99)},[t]);const l=e!==null?pe.colors.players[e].miss.stroke:pe.colors.lines.normal.fill,c=e!==null?pe.colors.players[e].perfect.fill:pe.colors.lines.normal.fill;return f.jsxs(ile,{isMicOn:r,color:l,"data-player-number":`${e??"none"}`,"data-test":"indicator",children:[r&&f.jsx(f.Fragment,{children:f.jsxs(nle,{children:[n?`${Math.round(n)}Hz`:" ",f.jsx("br",{}),String(t*100).slice(0,5)]})}),i&&a==="write"&&f.jsx(Zae,{playerNumber:e}),f.jsx(rle,{color:c,style:{transform:`scaleY(${r?1-Math.min(1,t/s):1})`}})]})}const nle=C("span",{target:"eik0d702"})({name:"1ikzkvw",styles:"position:absolute;color:white;opacity:0.125"}),rle=C("div",{target:"eik0d701"})("width:100%;height:100%;background-color:",e=>e.color,";transition:200ms;transform-origin:top;"),ile=C("div",{target:"eik0d700"})("position:relative;border:0.1rem solid white;flex:1;min-height:200px;max-height:100vw;transition:300ms;background:",e=>e.color,";");function OI({isVisible:e,isMicOn:t,isConnected:n}){const[r,i]=A.useState(0),[s,o]=A.useState(0),[a]=qs(te.remoteMicPlayerSet,!0)??[null],l=A.useCallback(xc((c,u)=>{o(c),i(u)},150),[i,o]);return A.useEffect(()=>(es.startMonitoring(void 0),es.addListener(l)),[l]),e?f.jsx(f.Fragment,{children:f.jsx(tle,{volume:r,frequency:s,playerNumber:a,isMicOn:t,isConnected:n})}):null}function sle({}){const[e,t]=A.useState(0);return A.useEffect(()=>{const n=setInterval(()=>{const r=_c();xn.pinging&&r-xn.pingStart>e?t(r-xn.pingStart):t(xn.latency)},333);return()=>{clearInterval(n)}},[]),f.jsxs(f.Fragment,{children:[e,"ms"]})}function ole({roomId:e,monitoringStarted:t,setMonitoringStarted:n,isKeepAwakeOn:r,setIsKeepAwakeOn:i,connectionError:s,connectionStatus:o}){const a=xw(),[l,c]=A.useState(!1),[u]=De(Sb),d=async()=>{var g,m;i(!0);try{!goe()&&u&&(await document.body.requestFullscreen(),global.screen.orientation.unlock(),await((m=(g=global.screen.orientation).lock)==null?void 0:m.call(g,"portrait")))}catch(_){console.warn(_)}},h=o==="connected",p=f.jsx(OI,{isVisible:!0,isMicOn:t,isConnected:h});return f.jsx(ale,{children:f.jsxs(dh,{showImages:!1,fallback:f.jsxs(f.Fragment,{children:[p,f.jsx("h2",{children:"Please allow access to the microphone."})]}),children:[f.jsxs(VI,{collapse:l,children:[f.jsx(OI,{isVisible:!0,isMicOn:t,isConnected:h}),f.jsx(Qoe,{roomId:e,isVisible:!0,connectionStatus:o,onConnect:d,connectionError:s})]}),f.jsxs(VI,{children:[a==="write"&&f.jsx(Hae,{onSearchStateChange:c}),a==="read"&&f.jsxs(lle,{"data-test":"no-permissions-message",children:["No permission to control the game. Go to in-game ",f.jsx("strong",{children:"Settings"})," menu "," ",f.jsx("strong",{children:"Remote Microphones Settings"})," to manage them."]}),f.jsxs(LI,{onClick:()=>i(!r),children:["WakeLock: ",f.jsx("strong",{children:r?"ON":"OFF"})]}),f.jsxs(NL,{onClick:()=>t?es.stopMonitoring():es.startMonitoring(void 0),children:["Microphone: ",f.jsx("strong",{"data-test":"monitoring-state",children:t?"ON":"OFF"})]}),h&&f.jsxs(LI,{children:["Ping: ",f.jsx(sle,{})]})]})]})})}const ale=C("div",{target:"eakh27i4"})({name:"15sh5r0",styles:"font-size:2.6rem;display:flex;flex-direction:column;gap:2rem;padding:1.5rem;box-sizing:border-box;@media (max-height: 500px) and (min-aspect-ratio: 16/10){flex-direction:row;}h5{margin-top:0.5em;svg{font-size:0.9em;}}"}),VI=C("div",{target:"eakh27i3"})("flex:1;transition:300ms ease-in-out;margin-top:",e=>e.collapse?"-100%":"0",";@media (max-height: 500px) and (min-aspect-ratio: 16/10){margin-top:0;display:flex;flex-direction:column;justify-content:center;}"),NL=C("div",{target:"eakh27i2"})($e," strong{color:",pe.colors.text.active,";}align-self:flex-end;"),LI=C(NL,{target:"eakh27i1"})(""),lle=C("h5",{target:"eakh27i0"})({name:"1s76ut5",styles:"padding-bottom:5rem"});function cle({onConfirm:e}){const[t,n]=A.useState(!1),[r,i]=A.useState(!1);A.useEffect(()=>{Ve.session.getItem("reload-mic-request")!==null&&i(!0)},[]),di(te.remoteMicPlayerSet,()=>{r&&(i(!1),n(!0))}),di(te.remoteReadinessRequested,()=>{n(!0)});const s=()=>{xn.confirmReadiness(),n(!1),e()};return t?f.jsx(ule,{children:f.jsx(_s,{children:f.jsx(dle,{"data-test":"ready-button",onClick:s,children:"Ready"})})}):null}const ule=C("div",{target:"eusdifu1"})({name:"1b0uzsn",styles:"display:flex;flex-direction:column;align-items:center;justify-content:center;position:absolute;top:0;left:0;width:100%;height:100%;backdrop-filter:blur(10px);z-index:1000"}),dle=C(Re,{target:"eusdifu0"})("aspect-ratio:1;",Yc,";");function BL({unit:e="",value:t,onChange:n,step:r=50,disabled:i=!1,...s}){return f.jsxs(hle,{...s,children:[f.jsx(NI,{onClick:()=>n(t-r),disabled:i,"data-test":"numeric-input-down",children:"-"}),f.jsxs(fle,{children:[f.jsx("strong",{"data-test":"numeric-input-value",children:t}),e]}),f.jsx(NI,{onClick:()=>n(t+r),disabled:i,"data-test":"numeric-input-up",children:"+"})]})}const NI=C("button",{target:"e1tear4c2"})("background:black;padding:0.5rem 2rem;border:none;font-size:3rem;",$e,";:disabled{opacity:0.5;}"),fle=C("div",{target:"e1tear4c1"})({name:"2qd0l8",styles:"flex:1;text-align:center"}),hle=C("div",{target:"e1tear4c0"})($e,";display:flex;align-items:center;justify-self:center;background:black;");function ple({}){const[e,t]=A.useState(0),[n,r]=A.useState(!1);A.useEffect(()=>{r(!0),xn.getGameInputLag().then(({value:s})=>t(s)).catch(s=>console.warn(s)).finally(()=>r(!1))},[]);const i=s=>{r(!0),xn.setGameInputLag(s).then(({value:o})=>t(o)).catch(o=>console.warn(o)).finally(()=>r(!1))};return f.jsxs(f.Fragment,{children:[f.jsx("h3",{children:"Adjust game input lag"}),f.jsx(BL,{value:e,onChange:i,disabled:n,unit:"ms","data-test":"game-input-lag"}),f.jsx("h6",{children:"If the sound is not synchronised with the lyrics, use this to compensate it."})]})}function gle(e){A.useEffect(()=>(xn.subscribe("remote-mics"),()=>{xn.unsubscribe("remote-mics")}),[]);const[t]=qs(te.remoteMicListUpdated)??[[]];return f.jsxs(f.Fragment,{children:[f.jsx("h3",{children:"Manage Players"}),t.map(n=>f.jsx(mle,{mic:n},n.id)),t.length===0&&f.jsx("h4",{children:"No remote microphones connected"})]})}const mle=({mic:e})=>{var r;const[t,n]=A.useState(!1);return et.getPermission(e.id),f.jsxs(vle,{"data-test":"manage-players",children:[t&&f.jsx(VL,{id:e.id,playerNumber:e.number,onModalClose:()=>n(!1),header:f.jsxs(f.Fragment,{children:["Change ",f.jsx("strong",{className:"ph-no-capture",children:e.name}),":"]})}),f.jsxs(yle,{onClick:()=>n(!0),"data-test":"remote-mic-entry","data-id":e.id??e.name,size:"small",children:[f.jsx(LL,{number:e.number}),f.jsx(_le,{children:((r=e.id)==null?void 0:r.slice(-4))??"????"}),f.jsx(Ale,{className:"ph-no-capture",isSelf:e.id===xn.getClientId(),children:e.name})]})]})},vle=C("div",{target:"e1sg8znb3"})({name:"4zk4ri",styles:"display:flex;flex-direction:column;gap:1rem"}),yle=C(Re,{target:"e1sg8znb2"})({name:"1n950nl",styles:"display:flex;align-items:center;padding:0 2rem"}),Ale=C("div",{target:"e1sg8znb1"})("color:",e=>e.isSelf?`${pe.colors.text.active}`:"auto",";text-overflow:ellipsis;overflow:hidden;white-space:nowrap;"),_le=C("span",{target:"e1sg8znb0"})({name:"dcs29c",styles:"font-size:1.5rem;padding:0 1rem"});function BI(){const[e,t]=De(NP),[n,r]=A.useState(!1);A.useEffect(()=>{r(!0),xn.getMicrophoneInputLag().then(({value:o})=>t(o)).catch(o=>console.warn(o)).finally(()=>r(!1))},[]);const i=o=>{r(!0),xn.setMicrophoneInputLag(o).then(({value:a})=>t(a)).catch(a=>console.warn(a)).finally(()=>r(!1))},s=()=>{var o;xn.disconnect(),Ve.local.removeItem("remote_mic_name"),Ve.local.removeItem(l1),(o=global.location)==null||o.reload()};return f.jsxs(f.Fragment,{children:[f.jsx(Re,{onClick:s,size:"small","data-test":"reset-microphone",children:"Reset microphone"}),f.jsxs("h6",{children:[f.jsx("strong",{children:"Note:"})," removes all persisted microphone data (your name, ID etc.)"]}),f.jsx("hr",{}),f.jsx("h3",{children:"Adjust microphone lag"}),f.jsx(BL,{value:e,onChange:i,unit:"ms",disabled:n,step:25,"data-test":"microphone-delay"}),f.jsx("h6",{children:"Adjust the microphone input delay (e.g. if the game doesn't detect you hitting the note on time)"})]})}function ble(){var r;const e=xw(),[t,n]=A.useState(e==="write"?null:"microphone");return f.jsxs(Sle,{children:[f.jsxs("h3",{children:["Remote mic ID:"," ",f.jsx("strong",{"data-test":"remote-mic-id",children:((r=xn.getClientId())==null?void 0:r.slice(-4).toUpperCase())??"----"})]}),f.jsx("hr",{}),e==="write"&&t===null&&f.jsxs(f.Fragment,{children:[f.jsx(Re,{onClick:()=>n("microphone"),size:"small","data-test":"microphone-settings",disabled:t==="microphone",children:"Microphone settings"}),f.jsx(Re,{onClick:()=>n("manage"),size:"small","data-test":"manage-game",disabled:t==="manage",children:"Manage the game"})]}),e!=="write"&&f.jsx(BI,{}),t!==null&&e==="write"&&f.jsx(wu,{onClose:()=>n(null),children:f.jsxs(_s,{children:[f.jsx(xle,{children:t==="microphone"?"Microphone settings":"Manage game"}),t==="microphone"&&f.jsx(BI,{}),t==="manage"&&f.jsxs(f.Fragment,{children:[f.jsx(gle,{}),f.jsx(ple,{})]}),f.jsx("hr",{}),f.jsx(Re,{onClick:()=>n(null),size:"small","data-test":"close-modal",children:"Close"})]})})]})}const Sle=C("div",{target:"edoha0h1"})({name:"10ti2i0",styles:"flex-grow:1;font-size:2.6rem;display:flex;flex-direction:column;justify-content:center;padding:5rem 1.5rem 1.5rem;box-sizing:border-box;gap:1rem"}),xle=C("h1",{target:"edoha0h0"})({name:"bvcr5v",styles:"font-size:3.25rem!important"});var wle="__lodash_hash_undefined__";function Ele(e){return this.__data__.set(e,wle),this}function kle(e){return this.__data__.has(e)}function Pf(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new ko;++t<n;)this.add(e[t])}Pf.prototype.add=Pf.prototype.push=Ele;Pf.prototype.has=kle;function Cle(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function $L(e,t){return e.has(t)}var Tle=1,Ile=2;function DL(e,t,n,r,i,s){var o=n&Tle,a=e.length,l=t.length;if(a!=l&&!(o&&l>a))return!1;var c=s.get(e),u=s.get(t);if(c&&u)return c==t&&u==e;var d=-1,h=!0,p=n&Ile?new Pf:void 0;for(s.set(e,t),s.set(t,e);++d<a;){var g=e[d],m=t[d];if(r)var _=o?r(m,g,d,t,e,s):r(g,m,d,e,t,s);if(_!==void 0){if(_)continue;h=!1;break}if(p){if(!Cle(t,function(v,y){if(!$L(p,y)&&(g===v||i(g,v,n,r,s)))return p.push(y)})){h=!1;break}}else if(!(g===m||i(g,m,n,r,s))){h=!1;break}}return s.delete(e),s.delete(t),h}function Rle(e){var t=-1,n=Array(e.size);return e.forEach(function(r,i){n[++t]=[i,r]}),n}function ww(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var Mle=1,Ple=2,jle="[object Boolean]",Ole="[object Date]",Vle="[object Error]",Lle="[object Map]",Nle="[object Number]",Ble="[object RegExp]",$le="[object Set]",Dle="[object String]",Fle="[object Symbol]",zle="[object ArrayBuffer]",Ule="[object DataView]",$I=$i?$i.prototype:void 0,Dy=$I?$I.valueOf:void 0;function Hle(e,t,n,r,i,s,o){switch(n){case Ule:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case zle:return!(e.byteLength!=t.byteLength||!s(new jg(e),new jg(t)));case jle:case Ole:case Nle:return Qm(+e,+t);case Vle:return e.name==t.name&&e.message==t.message;case Ble:case Dle:return e==t+"";case Lle:var a=Rle;case $le:var l=r&Mle;if(a||(a=ww),e.size!=t.size&&!l)return!1;var c=o.get(e);if(c)return c==t;r|=Ple,o.set(e,t);var u=DL(a(e),a(t),r,i,s,o);return o.delete(e),u;case Fle:if(Dy)return Dy.call(e)==Dy.call(t)}return!1}var Gle=1,qle=Object.prototype,Wle=qle.hasOwnProperty;function Kle(e,t,n,r,i,s){var o=n&Gle,a=d1(e),l=a.length,c=d1(t),u=c.length;if(l!=u&&!o)return!1;for(var d=l;d--;){var h=a[d];if(!(o?h in t:Wle.call(t,h)))return!1}var p=s.get(e),g=s.get(t);if(p&&g)return p==t&&g==e;var m=!0;s.set(e,t),s.set(t,e);for(var _=o;++d<l;){h=a[d];var v=e[h],y=t[h];if(r)var b=o?r(y,v,h,t,e,s):r(v,y,h,e,t,s);if(!(b===void 0?v===y||i(v,y,n,r,s):b)){m=!1;break}_||(_=h=="constructor")}if(m&&!_){var x=e.constructor,S=t.constructor;x!=S&&"constructor"in e&&"constructor"in t&&!(typeof x=="function"&&x instanceof x&&typeof S=="function"&&S instanceof S)&&(m=!1)}return s.delete(e),s.delete(t),m}var Yle=1,DI="[object Arguments]",FI="[object Array]",dp="[object Object]",Qle=Object.prototype,zI=Qle.hasOwnProperty;function Jle(e,t,n,r,i,s){var o=Di(e),a=Di(t),l=o?FI:af(e),c=a?FI:af(t);l=l==DI?dp:l,c=c==DI?dp:c;var u=l==dp,d=c==dp,h=l==c;if(h&&Pg(e)){if(!Pg(t))return!1;o=!0,u=!1}if(h&&!u)return s||(s=new Ds),o||x3(e)?DL(e,t,n,r,i,s):Hle(e,t,l,n,r,i,s);if(!(n&Yle)){var p=u&&zI.call(e,"__wrapped__"),g=d&&zI.call(t,"__wrapped__");if(p||g){var m=p?e.value():e,_=g?t.value():t;return s||(s=new Ds),i(m,_,n,r,s)}}return h?(s||(s=new Ds),Kle(e,t,n,r,i,s)):!1}function Ew(e,t,n,r,i){return e===t?!0:e==null||t==null||!go(e)&&!go(t)?e!==e&&t!==t:Jle(e,t,n,r,Ew,i)}var Xle=1,Zle=2;function ece(e,t,n,r){var i=n.length,s=i,o=!r;if(e==null)return!s;for(e=Object(e);i--;){var a=n[i];if(o&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++i<s;){a=n[i];var l=a[0],c=e[l],u=a[1];if(o&&a[2]){if(c===void 0&&!(l in e))return!1}else{var d=new Ds;if(r)var h=r(c,u,l,e,t,d);if(!(h===void 0?Ew(u,c,Xle|Zle,r,d):h))return!1}}return!0}function FL(e){return e===e&&!ms(e)}function tce(e){for(var t=Jf(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,FL(i)]}return t}function zL(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}function nce(e){var t=tce(e);return t.length==1&&t[0][2]?zL(t[0][0],t[0][1]):function(n){return n===e||ece(n,e,t)}}function rce(e,t,n){var r=e==null?void 0:CS(e,t);return r===void 0?n:r}function ice(e,t){return e!=null&&t in Object(e)}function sce(e,t,n){t=u0(t,e);for(var r=-1,i=t.length,s=!1;++r<i;){var o=Xf(t[r]);if(!(s=e!=null&&n(e,o)))break;e=e[o]}return s||++r!=i?s:(i=e==null?0:e.length,!!i&&iS(i)&&oS(o,i)&&(Di(e)||vS(e)))}function oce(e,t){return e!=null&&sce(e,t,ice)}var ace=1,lce=2;function cce(e,t){return ES(e)&&FL(t)?zL(Xf(e),t):function(n){var r=rce(n,e);return r===void 0&&r===t?oce(n,e):Ew(t,r,ace|lce)}}function uce(e){return function(t){return t==null?void 0:t[e]}}function dce(e){return function(t){return CS(t,e)}}function fce(e){return ES(e)?uce(Xf(e)):dce(e)}function hce(e){return typeof e=="function"?e:e==null?B3:typeof e=="object"?Di(e)?cce(e[0],e[1]):nce(e):fce(e)}function pce(e,t,n,r){for(var i=e.length,s=n+(r?1:-1);r?s--:++s<i;)if(t(e[s],s,e))return s;return-1}function gce(e){return e!==e}function mce(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}function vce(e,t,n){return t===t?mce(e,t,n):pce(e,gce,n)}function yce(e,t){var n=e==null?0:e.length;return!!n&&vce(e,t,0)>-1}function Ace(e,t,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function _ce(){}var bce=1/0,Sce=Ec&&1/ww(new Ec([,-0]))[1]==bce?function(e){return new Ec(e)}:_ce,xce=200;function UL(e,t,n){var r=-1,i=yce,s=e.length,o=!0,a=[],l=a;if(n)o=!1,i=Ace;else if(s>=xce){var c=t?null:Sce(e);if(c)return ww(c);o=!1,i=$L,l=new Pf}else l=t?[]:a;e:for(;++r<s;){var u=e[r],d=t?t(u):u;if(u=n||u!==0?u:0,o&&d===d){for(var h=l.length;h--;)if(l[h]===d)continue e;t&&l.push(d),a.push(u)}else i(l,d,n)||(l!==a&&l.push(d),a.push(u))}return a}function wce(e,t){return e&&e.length?UL(e,hce(t)):[]}const Ece="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='810'%20height='540'%3e%3crect%20width='810'%20height='540'%20fill='%23FCDD09'/%3e%3cpath%20stroke='%23DA121A'%20stroke-width='60'%20d='M0,90H810m0,120H0m0,120H810m0,120H0'/%3e%3c/svg%3e";function kce(){const e=new Intl.DisplayNames(["en"],{type:"language"}),t={};for(let r=0;r<26;r++)for(let i=0;i<26;i++){let s=String.fromCharCode(97+r)+String.fromCharCode(97+i),o=e.of(s);o!==s&&o!==void 0&&(t[o]=s)}return{...t,...{Akan:"ak",Hebrew:"he",Indonesian:"id",Javanese:"jv",Romanian:"ro",Yiddish:"yi",Tagalog:"tl",English:"gb",Korean:"kr",Swedish:"se",Latin:"va",Japanese:"jp",Catalan:"cat",Ukrainian:"ua"}}}const Cce=kce();function HL(e){return Cce[e]}const Tce=Object.assign({"./Flag/flags/cat.svg":Ece}),Oc=e=>{var s;const[t,n]=A.useState(null),r="isocode"in e?(s=e.isocode)==null?void 0:s.toLowerCase():HL(Array.isArray(e.language)?e.language[0]:e.language);if(A.useLayoutEffect(()=>{r&&n(null)},[r]),!r)return null;const i=Tce[`./Flag/flags/${r}.svg`];return f.jsx(Ice,{"data-isocode":r,src:i??`https://flagcdn.com/${t??r}.svg`,alt:r,...e,onError:()=>n("un")})},Ice=C("img",{target:"e1k9lqhf0"})("");function ph(e=!1){const[t,n]=A.useState(Gs.getCurrentIndex()),r=A.useRef([]),i=()=>Gs.getIndex(e).then(n);return A.useEffect(()=>{i()},[]),{data:t??r.current,reload:i,isLoading:t===null}}const Rce=new Intl.Collator("en",{numeric:!0,sensitivity:"base"}).compare,k_=1/0,Fy=e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),UI="eexxaacctt",Mce="A-Z",Pce="a-z",Ku=(e,t,n)=>e.replace(Mce,t).replace(Pce,n),HI={unicode:!1,alpha:null,interSplit:"[^A-Za-z\\d']+",intraSplit:"[a-z][A-Z]",intraBound:"[A-Za-z]\\d|\\d[A-Za-z]|[a-z][A-Z]",interLft:0,interRgt:0,interChars:".",interIns:k_,intraChars:"[a-z\\d']",intraIns:null,intraContr:"'[a-z]{1,2}\\b",intraMode:0,intraSlice:[1,k_],intraSub:null,intraTrn:null,intraDel:null,intraFilt:(e,t,n)=>!0,sort:(e,t,n)=>{let{idx:r,chars:i,terms:s,interLft2:o,interLft1:a,start:l,intraIns:c,interIns:u}=e;return r.map((d,h)=>h).sort((d,h)=>i[h]-i[d]||c[d]-c[h]||s[h]+o[h]+.5*a[h]-(s[d]+o[d]+.5*a[d])||u[d]-u[h]||l[d]-l[h]||Rce(t[r[d]],t[r[h]]))}},zy=(e,t)=>t==0?"":t==1?e+"??":t==k_?e+"*?":e+`{0,${t}}?`,GI="(?:\\b|_)";function iv(e){e=Object.assign({},HI,e);let{unicode:t,interLft:n,interRgt:r,intraMode:i,intraSlice:s,intraIns:o,intraSub:a,intraTrn:l,intraDel:c,intraContr:u,intraSplit:d,interSplit:h,intraBound:p,intraChars:g}=e;o??(o=i),a??(a=i),l??(l=i),c??(c=i);let m=e.letters??e.alpha;if(m!=null){let G=m.toLocaleUpperCase(),F=m.toLocaleLowerCase();h=Ku(h,G,F),d=Ku(d,G,F),p=Ku(p,G,F),g=Ku(g,G,F),u=Ku(u,G,F)}let _=t?"u":"";const v='".+?"',y=new RegExp(v,"gi"+_),b=new RegExp(`(?:\\s+|^)-(?:${g}+|${v})`,"gi"+_);let{intraRules:x}=e;x==null&&(x=G=>{let F=HI.intraSlice,ne=0,O=0,fe=0,Z=0;if(/[^\d]/.test(G)){let ae=G.length;ae<=4?ae>=3&&(fe=Math.min(l,1),ae==4&&(ne=Math.min(o,1))):(F=s,ne=o,O=a,fe=l,Z=c)}return{intraSlice:F,intraIns:ne,intraSub:O,intraTrn:fe,intraDel:Z}});let S=!!d,w=new RegExp(d,"g"+_),E=new RegExp(h,"g"+_),I=new RegExp("^"+h+"|"+h+"$","g"+_),z=new RegExp(u,"gi"+_);const N=G=>{let F=[];G=G.replace(y,O=>(F.push(O),UI)),G=G.replace(I,"").toLocaleLowerCase(),S&&(G=G.replace(w,O=>O[0]+" "+O[1]));let ne=0;return G.split(E).filter(O=>O!="").map(O=>O===UI?F[ne++]:O)},D=/[^\d]+|\d+/g,Q=(G,F=0,ne=!1)=>{let O=N(G);if(O.length==0)return[];let fe=Array(O.length).fill("");O=O.map((ce,be)=>ce.replace(z,He=>(fe[be]=He,"")));let Z;if(i==1)Z=O.map((ce,be)=>{if(ce[0]==='"')return Fy(ce.slice(1,-1));let He="";for(let Fe of ce.matchAll(D)){let Se=Fe[0],{intraSlice:Ee,intraIns:Ke,intraSub:Ye,intraTrn:Ie,intraDel:ot}=x(Se);if(Ke+Ye+Ie+ot==0)He+=Se+fe[be];else{let[kt,Zt]=Ee,Rt=Se.slice(0,kt),hn=Se.slice(Zt),lt=Se.slice(kt,Zt);Ke==1&&Rt.length==1&&Rt!=lt[0]&&(Rt+="(?!"+Rt+")");let At=lt.length,Gt=[Se];if(Ye)for(let Je=0;Je<At;Je++)Gt.push(Rt+lt.slice(0,Je)+g+lt.slice(Je+1)+hn);if(Ie)for(let Je=0;Je<At-1;Je++)lt[Je]!=lt[Je+1]&&Gt.push(Rt+lt.slice(0,Je)+lt[Je+1]+lt[Je]+lt.slice(Je+2)+hn);if(ot)for(let Je=0;Je<At;Je++)Gt.push(Rt+lt.slice(0,Je+1)+"?"+lt.slice(Je+1)+hn);if(Ke){let Je=zy(g,1);for(let Mt=0;Mt<At;Mt++)Gt.push(Rt+lt.slice(0,Mt)+Je+lt.slice(Mt)+hn)}He+="(?:"+Gt.join("|")+")"+fe[be]}}return He});else{let ce=zy(g,o);F==2&&o>0&&(ce=")("+ce+")("),Z=O.map((be,He)=>be[0]==='"'?Fy(be.slice(1,-1)):be.split("").map((Fe,Se,Ee)=>(o==1&&Se==0&&Ee.length>1&&Fe!=Ee[Se+1]&&(Fe+="(?!"+Fe+")"),Fe)).join(ce)+fe[He])}let ae=n==2?GI:"",je=r==2?GI:"",Ae=je+zy(e.interChars,e.interIns)+ae;return F>0?ne?Z=ae+"("+Z.join(")"+je+"|"+ae+"(")+")"+je:(Z="("+Z.join(")("+Ae+")(")+")",Z="(.??"+ae+")"+Z+"("+je+".*)"):(Z=Z.join(Ae),Z=ae+Z+je),[new RegExp(Z,"i"+_),O,fe]},P=(G,F,ne)=>{let[O]=Q(F);if(O==null)return null;let fe=[];if(ne!=null)for(let Z=0;Z<ne.length;Z++){let ae=ne[Z];O.test(G[ae])&&fe.push(ae)}else for(let Z=0;Z<G.length;Z++)O.test(G[Z])&&fe.push(Z);return fe};let L=!!p,M=new RegExp(h,_),T=new RegExp(p,_);const U=(G,F,ne)=>{let[O,fe,Z]=Q(ne,1),[ae]=Q(ne,2),je=fe.length,Ae=G.length,ce=Array(Ae).fill(0),be={idx:Array(Ae),start:ce.slice(),chars:ce.slice(),terms:ce.slice(),interIns:ce.slice(),intraIns:ce.slice(),interLft2:ce.slice(),interRgt2:ce.slice(),interLft1:ce.slice(),interRgt1:ce.slice(),ranges:Array(Ae)},He=n==1||r==1,Fe=0;for(let Se=0;Se<G.length;Se++){let Ee=F[G[Se]],Ke=Ee.match(O),Ye=Ke.index+Ke[1].length,Ie=Ye,ot=!1,kt=0,Zt=0,Rt=0,hn=0,lt=0,At=0,Gt=0,Je=0,Mt=[];for(let ve=0,tt=2;ve<je;ve++,tt+=2){let pn=Ke[tt].toLocaleLowerCase(),ut=fe[ve],nt=ut[0]=='"'?ut.slice(1,-1):ut+Z[ve],en=nt.length,an=pn.length,qt=pn==nt;if(!qt&&Ke[tt+1].length>=en){let pt=Ke[tt+1].toLocaleLowerCase().indexOf(nt);pt>-1&&(Mt.push(Ie,an,pt,en),Ie+=j(Ke,tt,pt,en),pn=nt,an=en,qt=!0,ve==0&&(Ye=Ie))}if(He||qt){let pt=Ie-1,Nn=Ie+an,fr=!1,gn=!1;if(pt==-1||M.test(Ee[pt]))qt&&kt++,fr=!0;else{if(n==2){ot=!0;break}if(L&&T.test(Ee[pt]+Ee[pt+1]))qt&&Zt++,fr=!0;else if(n==1){let yi=Ke[tt+1],Wr=Ie+an;if(yi.length>=en){let _t=0,mn=!1,Le=new RegExp(nt,"ig"+_),Xe;for(;Xe=Le.exec(yi);){_t=Xe.index;let Un=Wr+_t,Kr=Un-1;if(Kr==-1||M.test(Ee[Kr])){kt++,mn=!0;break}else if(T.test(Ee[Kr]+Ee[Un])){Zt++,mn=!0;break}}mn&&(fr=!0,Mt.push(Ie,an,_t,en),Ie+=j(Ke,tt,_t,en),pn=nt,an=en,qt=!0,ve==0&&(Ye=Ie))}if(!fr){ot=!0;break}}}if(Nn==Ee.length||M.test(Ee[Nn]))qt&&Rt++,gn=!0;else{if(r==2){ot=!0;break}if(L&&T.test(Ee[Nn-1]+Ee[Nn]))qt&&hn++,gn=!0;else if(r==1){ot=!0;break}}qt&&(lt+=en,fr&&gn&&At++)}if(an>en&&(Je+=an-en),ve>0&&(Gt+=Ke[tt-1].length),!e.intraFilt(nt,pn,Ie)){ot=!0;break}ve<je-1&&(Ie+=an+Ke[tt+1].length)}if(!ot){be.idx[Fe]=G[Se],be.interLft2[Fe]=kt,be.interLft1[Fe]=Zt,be.interRgt2[Fe]=Rt,be.interRgt1[Fe]=hn,be.chars[Fe]=lt,be.terms[Fe]=At,be.interIns[Fe]=Gt,be.intraIns[Fe]=Je,be.start[Fe]=Ye;let ve=Ee.match(ae),tt=ve.index+ve[1].length,pn=Mt.length,ut=pn>0?0:1/0,nt=pn-4;for(let pt=2;pt<ve.length;){let Nn=ve[pt].length;if(ut<=nt&&Mt[ut]==tt){let fr=Mt[ut+1],gn=Mt[ut+2],yi=Mt[ut+3],Wr=pt,_t="";for(let mn=0;mn<fr;Wr++)_t+=ve[Wr],mn+=ve[Wr].length;ve.splice(pt,Wr-pt,_t),tt+=j(ve,pt,gn,yi),ut+=4}else tt+=Nn,pt++}tt=ve.index+ve[1].length;let en=be.ranges[Fe]=[],an=tt,qt=tt;for(let pt=2;pt<ve.length;pt++){let Nn=ve[pt].length;tt+=Nn,pt%2==0?qt=tt:Nn>0&&(en.push(an,qt),an=qt=tt)}qt>an&&en.push(an,qt),Fe++}}if(Fe<G.length)for(let Se in be)be[Se]=be[Se].slice(0,Fe);return be},j=(G,F,ne,O)=>{let fe=G[F]+G[F+1].slice(0,ne);return G[F-1]+=fe,G[F]=G[F+1].slice(ne,ne+O),G[F+1]=G[F+1].slice(ne+O),fe.length},$=5,V=(G,F,ne,O=1e3,fe)=>{ne=ne?ne===!0?$:ne:0;let Z=null,ae=null,je=[];F=F.replace(b,Se=>{let Ee=Se.trim().slice(1);return Ee[0]==='"'&&(Ee=Fy(Ee.slice(1,-1))),je.push(Ee),""});let Ae=N(F),ce;if(je.length>0){if(ce=new RegExp(je.join("|"),"i"+_),Ae.length==0){let Se=[];for(let Ee=0;Ee<G.length;Ee++)ce.test(G[Ee])||Se.push(Ee);return[Se,null,null]}}else if(Ae.length==0)return[null,null,null];if(ne>0){let Se=N(F);if(Se.length>1){let Ee=Se.slice().sort((Ye,Ie)=>Ie.length-Ye.length);for(let Ye=0;Ye<Ee.length;Ye++){if((fe==null?void 0:fe.length)==0)return[[],null,null];fe=P(G,Ee[Ye],fe)}if(Se.length>ne)return[fe,null,null];Z=GL(Se).map(Ye=>Ye.join(" ")),ae=[];let Ke=new Set;for(let Ye=0;Ye<Z.length;Ye++)if(Ke.size<fe.length){let Ie=fe.filter(kt=>!Ke.has(kt)),ot=P(G,Z[Ye],Ie);for(let kt=0;kt<ot.length;kt++)Ke.add(ot[kt]);ae.push(ot)}else ae.push([])}}Z==null&&(Z=[F],ae=[(fe==null?void 0:fe.length)>0?fe:P(G,F)]);let be=null,He=null;if(je.length>0&&(ae=ae.map(Se=>Se.filter(Ee=>!ce.test(G[Ee])))),ae.reduce((Se,Ee)=>Se+Ee.length,0)<=O){be={},He=[];for(let Se=0;Se<ae.length;Se++){let Ee=ae[Se];if(Ee==null||Ee.length==0)continue;let Ke=Z[Se],Ye=U(Ee,G,Ke),Ie=e.sort(Ye,G,Ke);if(Se>0)for(let ot=0;ot<Ie.length;ot++)Ie[ot]+=He.length;for(let ot in Ye)be[ot]=(be[ot]??[]).concat(Ye[ot]);He=He.concat(Ie)}}return[[].concat(...ae),be,He]};return{search:(...G)=>V(...G),split:N,filter:P,info:U,sort:e.sort}}const jce=(()=>{let e={A:"",a:"",E:"",e:"",I:"",i:"",O:"",o:"",U:"",u:"",C:"",c:"",L:"",l:"",N:"",n:"",S:"",s:"",Z:"",z:""},t=new Map,n="";for(let s in e)e[s].split("").forEach(o=>{n+=o,t.set(o,s)});let r=new RegExp(`[${n}]`,"g"),i=s=>t.get(s);return s=>{if(typeof s=="string")return s.replace(r,i);let o=Array(s.length);for(let a=0;a<s.length;a++)o[a]=s[a].replace(r,i);return o}})();function GL(e){e=e.slice();let t=e.length,n=[e.slice()],r=new Array(t).fill(0),i=1,s,o;for(;i<t;)r[i]<i?(s=i%2&&r[i],o=e[i],e[i]=e[s],e[s]=o,++r[i],i=1,n.push(e.slice())):(r[i]=0,++i);return n}const Oce=(e,t)=>t?`<mark>${e}</mark>`:e,Vce=(e,t)=>e+t;function Lce(e,t,n=Oce,r="",i=Vce){r=i(r,n(e.substring(0,t[0]),!1))??r;for(let s=0;s<t.length;s+=2){let o=t[s],a=t[s+1];r=i(r,n(e.substring(o,a),!0))??r,s<t.length-3&&(r=i(r,n(e.substring(t[s+1],t[s+2]),!1))??r)}return r=i(r,n(e.substring(t[t.length-1]),!1))??r,r}iv.latinize=jce;iv.permute=e=>GL([...Array(e.length).keys()]).sort((n,r)=>{for(let i=0;i<n.length;i++)if(n[i]!=r[i])return n[i]-r[i];return 0}).map(n=>n.map(r=>e[r]));iv.highlight=Lce;var kw={},Nce=st;Object.defineProperty(kw,"__esModule",{value:!0});var Fd=kw.default=void 0,Bce=Nce(ct()),$ce=f;Fd=kw.default=(0,Bce.default)((0,$ce.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2m-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckBox");var Cw={},Dce=st;Object.defineProperty(Cw,"__esModule",{value:!0});var zd=Cw.default=void 0,Fce=Dce(ct()),zce=f;zd=Cw.default=(0,Fce.default)((0,zce.jsx)("path",{d:"M19 5v14H5V5zm0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2"}),"CheckBoxOutlineBlank");function Uce(e){return String(e).match(/[\d.\-+]*\s*(.*)/)[1]||""}function Hce(e){return parseFloat(e)}const Gce=["theme"];function qce(e){let{theme:t}=e,n=br(e,Gce);const r=t[Lg];return f.jsx(yre,Pe({},n,{themeId:r?Lg:void 0,theme:r||t}))}function Wce(e){return mu("MuiSkeleton",e)}vu("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);const Kce=["animation","className","component","height","style","variant","width"];let hm=e=>e,qI,WI,KI,YI;const Yce=e=>{const{classes:t,variant:n,animation:r,hasChildren:i,width:s,height:o}=e;return Zf({root:["root",n,r,i&&"withChildren",i&&!s&&"fitContent",i&&!o&&"heightAuto"]},Wce,t)},Qce=ga(qI||(qI=hm`
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0.4;
  }

  100% {
    opacity: 1;
  }
`)),Jce=ga(WI||(WI=hm`
  0% {
    transform: translateX(-100%);
  }

  50% {
    /* +0.5s of delay between each loop */
    transform: translateX(100%);
  }

  100% {
    transform: translateX(100%);
  }
`)),Xce=To("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],n.animation!==!1&&t[n.animation],n.hasChildren&&t.withChildren,n.hasChildren&&!n.width&&t.fitContent,n.hasChildren&&!n.height&&t.heightAuto]}})(({theme:e,ownerState:t})=>{const n=Uce(e.shape.borderRadius)||"px",r=Hce(e.shape.borderRadius);return Pe({display:"block",backgroundColor:e.vars?e.vars.palette.Skeleton.bg:ure(e.palette.text.primary,e.palette.mode==="light"?.11:.13),height:"1.2em"},t.variant==="text"&&{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:`${r}${n}/${Math.round(r/.6*10)/10}${n}`,"&:empty:before":{content:'"\\00a0"'}},t.variant==="circular"&&{borderRadius:"50%"},t.variant==="rounded"&&{borderRadius:(e.vars||e).shape.borderRadius},t.hasChildren&&{"& > *":{visibility:"hidden"}},t.hasChildren&&!t.width&&{maxWidth:"fit-content"},t.hasChildren&&!t.height&&{height:"auto"})},({ownerState:e})=>e.animation==="pulse"&&ui(KI||(KI=hm`
      animation: ${0} 2s ease-in-out 0.5s infinite;
    `),Qce),({ownerState:e,theme:t})=>e.animation==="wave"&&ui(YI||(YI=hm`
      position: relative;
      overflow: hidden;

      /* Fix bug in Safari https://bugs.webkit.org/show_bug.cgi?id=68196 */
      -webkit-mask-image: -webkit-radial-gradient(white, black);

      &::after {
        animation: ${0} 2s linear 0.5s infinite;
        background: linear-gradient(
          90deg,
          transparent,
          ${0},
          transparent
        );
        content: '';
        position: absolute;
        transform: translateX(-100%); /* Avoid flash during server-side hydration */
        bottom: 0;
        left: 0;
        right: 0;
        top: 0;
      }
    `),Jce,(t.vars||t).palette.action.hover)),Zce=A.forwardRef(function(t,n){const r=Au({props:t,name:"MuiSkeleton"}),{animation:i="pulse",className:s,component:o="span",height:a,style:l,variant:c="text",width:u}=r,d=br(r,Kce),h=Pe({},r,{animation:i,component:o,variant:c,hasChildren:!!d.children}),p=Yce(h);return f.jsx(Xce,Pe({as:o,ref:n,className:Lr(p.root,s),ownerState:h},d,{style:Pe({width:u,height:a},l)}))}),eue=Zce,tue="data:image/gif;base64,R0lGODlhiQAzAOflAAABAAYAAAACAAcAAAkBAAoDAQsEAxAFABEHABIIABMKABgJAhQLAhsLABwNACANAR0OACEOAyMPACMQACcPACgQASgRAioSACsTACwTACwUAC8WAC4WAzAWADQVADUXATYYAjgYADkZADoaADobAD8aAzscAUEbAD4dAEMdAEUeAkAgAEYfAEUfA0ghAE4hAksjAU8iAFEjAFIkAFMlAFQmAVsmAFcoAFwnAF0oAF8qAmEqAGIrAGMsAGksAWUuAGotAmAwDWwuAGsuA20vAF0zDm4wAG8xAHEyAHIzAXgyAHM0AnU1AHo0AHY2AHw1AH43AIA5AoE6AIM7AIQ8AIk7AIU9AIs8AIc+AIw9AI0+AY4+ApFAAJJBAJNCAJRDAJpCAZVEAJtDAp1EAJxEA55FAKBHAKFIAKJJAKhIAaRKAKVLAKtKAKxLAI5RI5BRJK9NALBOALFPALJQALNRALlQBLtRALxSAL1TAL9UAMFWAMJXAMRYArlbCsZZAMVZA8xYAMhaAM9aANFcAdNdAtVfAMpiDddgAN1fANhhAN9hANljAOFiAeNkAOJkA91mAONlBN5nAdhoDeVmAOdoAO5mAOJqB+9nAOlpAPBpAfFqA654SvNrAOduDvRsAPZtAN5yGONxGvduANh0IPFwB/hvAOtxE+B0Gt90I/lwAOxyFPNxCu5zBud0EvRyANt2Is54Ndp2Krt8S+B1JM95L9V4Ked0HeF2G/txAO1zFvRyDOh1E9x3I895NtV4ML19Rsp7NcN8Qbx9TMl7O8J8R9Z5Kq6AW8h7QrZ/ULh/S7V/VsV9O75+R8t8NsR9QqmCYKeCZpqFcLGBVq+BXJGHe4+HgbeAUaOEZqGEbLaAV6CEcauDXKqDYZuGcZmGd42Ih5KIfJCIgpSId4iKh4uKgv///////////////////////////////////////////////////////////////////////////////////////////////////////////yH5BAEIAP8ALAAAAACJADMAAAj+AP8JHEiwoMGDCBMqXMiwocOHECMSHEexosWLGDNq3Mixo8ePIDtKHPhtGK6TKFOqXInrGcuXMGPKnEmzpspU40YKHBdryICfQIMKFVpHFq6hSJOWSMq0qdOnUH8S8PRN579vrFwI2Mq1q9euALbAwvW1bFkAI8yqXcsWbFu1AArgyqkTHK4Ib8v+sEU279cSfgO3HSAYLFWd35RNKryVAIZUfQujZUy5stu5OsfxCkMZgABFNkOLHk065eGR13ClsBxllbdvsL8h04N0S6/YuIXVifrzyu1vsnbz9g1bt1ANqWDbwiHUd0Wd0PR4rozgUbiB43qRKdtDFV3sxbD+BNbBiiKtLoF7tKLoS3zXAqKwkXMFwquOXFWtpsYF5WsClX6UpQcuroAzUDWr5FDWBLhg89034aQiQ2ARNBgOKTf4BUAFuHgTIQ1dDQCAH8dM8wkBXjHooFWwBdOfVwmsEhs2gJTlh4P5/ROMJgicBUgsOY4zDCaCAQAIL8m40mNgg9CyDCYGfPWEK62c4RUARgJp1VUu+rcKXdgE+BUg2BTETBRmAeBCLA8Ow0SRKsQCyxaBEUCADry4+ZVni7SCAVhYxvndSN8Q82JXMeZHo4DQFBQMLpQIiMsoOX5zDC5iclVCSkZ4BQYuvADzA1cIgNEIBF4tkgaqnqWAijP+J6HJFQ246BIKLrJuRSuoOY40TpchGqALmJlyBYAeZU5kjR5lddELRdh9E6ZXJcwC2zCddgWGMt/A8skEAgyQxyqsoMrVAJioMkgBAjCACS/jfBOMIMYykAo21aQC2FYAqFHMN9BaNY6hXzEgI0WLfoVsQZaKUZYOp/QqUMJcoTALRdh6FQYy45BjChgCuJDKNbng1RUn2qSSIRarhFNVN3cZC4gwz2jiVSXTSOwrsF0JK+0woBTLFZkFjVPMEmV5UAo5Bk17rgnWCpntVgNs+8841mACQBdAmmIuV5iE40saAAzCDF3j7HKEsVjkOcfTuFy35U4Ee2UwLZj+8MH+nnpcU7QpE3pFmCfaNF1jVylcXNLUAgAABjICRRiBHMlgZTJXl4CzjR8G4NINScPg0ZUKnqhtLBjwzr0Tz1wJq0kOKJq18ESuVHCWHxwX5DS/UAuzSyqMOw75VbugYAg037Ty9VaYeIONJRsMS9I1qSy5lSa4/MmvIskMKnDdXTFQCQeNq/WH3wRF80lZIpoxjMQUb1XtJ1eA66kyO51SBCrdWO7VJeEIxy2CYItejYMUODCWHhoxHQF4oEOqW92huhICtgxgdgPhxiL25JkhXEx3QjMBJUhwlscJ5Bu0cAMt4lUusGACHChU4aBQCIdwYckJZuhKFE7hve9NsDH+hPnKB6IwB0VkAhfoo1sNzUICV8DvcFQDgQgAEESN4e8qwthE975histthRPgGEcWhWHAbVyCXZ4hAYi4Mghi6CwzrOOXVwjQg0XgwhbMeIaHBjUOWFxBLQZIxecIsrtwyZFqLwjDIDCRiuH9bXkCuIQ3FEKOVLjAMwMoQAK4UqFBRnBgP/wKDBaRClh4I2AG+cYpdPAerxBiGoOK31dUMIhUxMIa2qDGG/3XlUbIDSHfqAXIyrIE/ERQgmopgBlwUYtT9nAiuiAhV0bFFQKk4RixFFpXmJAKXvTvmSRR3rkE8EKFyCZSX7mgM8DpK/B5BQF/SAW32DmQcOBiAV3+SYP2GrcEXvRKll2hwSe8CTBzsuJyVOTELxECDlHUx26pQN4xrxZHroxrRQ25Bjq5kggfjO5LhNTmuUggCFsioxthPAhWvuaZzC1kHKegguB6UJ6JXs2dXImCK6BBz4lIg1lcKcAn1HAuBpRikgMBaIgEAANFVsITslBpF70StoUUil5ekcNtbPqrUCIgFcx4IzCdkUOuiMAVjQBLI54RUq98IC3GEhEACLCxg4zDazcz0EK0cU+waIIbPY0IKAt2GofwJAld+cEpcGE/Ec2BGN+RpQkqsRpj8YsMV2TYQUNU1ZeuApK4EKvA4ggAYQV2IqoIXOPAkApNsLJxAKD+ApuSWqwBmGAUougCBqq4WkcSJHmQrIReDbo8AmCGqzhtly5Ea1dX2I9fBmCA9QQQg1bkSJaJk0UrgGdFlW72XJ01Z8nAElqbUnSChDEtRLyRitgZq4FbqdAvCwmAEvhTaiEyYSpb2BXhMmQc/KXacRuykaIl12DMNcg2EPEWAFyCrROD4lagdi3GCSAMmf3tVMG7UGBumF/l/W9iZqEJT5g4F8dIKXYqql6HfCMZcmgwHYRBrK4Q4LYAy9i59PvIvP4Xr+cacELGEQ5epGINKDCAASywBEzkgqfYObCMHtLHP3IlCSlZG1e6QAtFSbi+UdMxVzDsXS+iq8Nl9kr+iM0Zi0yoAL4DWIAePHFKZHqlxQQeRQ+09b6SOMyGOlgPwkJ4XzGH63GovApw80pP2IgzyIk2yDikkYoVYIkAVAyiAQpxi/wM1m5T/m+8dGGCrszBGhRRRrE0QJVupULCA9iULnKBCwuHoRQFJMh+zIyJUkQ1IbtWMy4ynEpbkAFLsMVk40yAi2jYuWfSY4ilTsIAYx0iF7k4BSkyYSyh4iIWwNiz4AiwiE5AcgAEAAEPdX2HstDVtwaBRh3SOYAxwLsglXxo+cBCgEHgjyJSLqhVh7GEnxgLAhGQBCg2UO24qoAXvdjglW6Qily4Byx0sBZBoIGLUoeIAZ4gdkH+XLI3r0BAFCInCDVEARcqhuEX/4DGME4RSgN4YhjCkPYyzhgiACyBFacg6lf+wAv2ltyQ1qSFMCTulVQAdiKn8MKVgBBthMDUysYyQk0TEo6NpukKOcdGH36wAf/84Aowt2o4XLFGOQLiGMrIhHu3wiFtwNTCAqDENtjbcK6koGUMs8YgrmQGYDD3G8LQZhrepxBqrI8tYoD5NUzxXGOhKA05NydFakGnpuPLFUdv3A92ca0/kyoV4vgGKSrLLyPAyyKw6cbjZSYNj2Bj9myEZUZIkorQl6UQ+PuGKmS6JwjgYhtWPUkq3taVDaQkgTpMSbu7woGUZKgrV4hJFZ7+wH3uY6ImqaBC95/gBMisJDnYOcV21IKCZl/tF4lgnxFI0dNx4AK+VEM2b8NFgJ9Ik978dyVDkWlyhSUGCBWNU4AEiBQ4QRLWkAqs906C8EH/wF749BVrwHjmRBb7J0f41xX7AheWkRdUlCZ7UlhXMwqXEIFbgQB6oAt1dhWkoALpNAiwlHwmuBaTMYKScSUaIgBCBiGjkApmsAIIUAAVwASUoAvXUCm8gHdAiFQbWBkhyIOB0YEkaHMSQxHSgAqrkAqukAqt4AzVMEPLABOB9Q2lgQvmt4Zu+IbPBBvxghsSQ4d0GC8iZod6qIdzuId++IeAGBt9GIh22IfmdYgGiJiIEBEQADs=",nue="/prs/275/assets/logo-1e2sNsQM.mp4",rue="/prs/275/assets/logo-CDt7pIML.webm",iue="/prs/275/assets/pride-CMcO3nTB.png";var fM;(fM=global.location)!=null&&fM.search.includes("pride")&&Ve.session.setItem("pride","true");function Tw(e){const[t]=De(dr);return t?null:f.jsxs(sue,{children:[Ve.session.getItem("pride")==="true"&&f.jsx(oue,{as:"img",src:iue,alt:"AllKaraoke Pride logo part 1"}),f.jsxs(qL,{...e,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,children:[f.jsx("source",{src:rue,type:"video/webm"}),f.jsx("source",{src:nue,type:"video/mp4"})]}),f.jsx(aue,{src:tue,alt:"AllKaraoke Pride logo part 2"})]})}const qL=C("video",{target:"e1roxo0y3"})({name:"ijjmcg",styles:"width:66rem;height:16.4rem"}),sue=C("div",{target:"e1roxo0y2"})({name:"v1a7wk",styles:"position:relative;height:16.4rem;view-transition-name:logo"}),oue=C(qL,{target:"e1roxo0y1"})({name:"a4hmbt",styles:"position:absolute"}),aue=C("img",{target:"e1roxo0y0"})({name:"o53wk6",styles:"position:absolute;width:13.7rem;height:5.1rem;bottom:-0.5rem;right:-1rem"});function Iw(){return"chrome"in window}function lue(){return f.jsx(f.Fragment,{children:!Iw()&&f.jsxs(cue,{children:[f.jsxs("h2",{children:["This game is tested in ",f.jsx("strong",{children:"Google Chrome"})," and ",f.jsx("strong",{children:"MS Edge"}),"."]}),"It's not guaranteed to work on other browsers (like the one you use now)."]})})}const cue=C("div",{target:"e95w1v80"})("width:100%;",$e,";text-align:center;background:darkred;padding:3rem 0;margin-top:1rem;h2{margin-top:0;}strong{color:",pe.colors.text.active,";}");function WL(){return f.jsx(f.Fragment,{children:f.jsx(uue,{href:"https://github.com/Asvarox/allkaraoke","aria-label":"View source on GitHub",target:"_blank",rel:"noreferrer",children:f.jsxs("svg",{width:"80",height:"80",viewBox:"0 0 250 250",style:{fill:"#151513",color:"#fff",position:"absolute",top:0,border:0,left:0,transform:"scale(-1, 1)"},"aria-hidden":"true",children:[f.jsx("path",{d:"M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"}),f.jsx("path",{d:"M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2",fill:"currentColor",style:{transformOrigin:"13rem 10.6rem"},className:"octo-arm"}),f.jsx("path",{d:"M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z",fill:"currentColor",className:"octo-body"})]})})})}const uue=C("a",{target:"e12hl2500"})({name:"zmsk2c",styles:"&:hover .octo-arm{animation:octocat-wave 560ms ease-in-out;}@keyframes octocat-wave{0 %,100%{transform:rotate(0);}20%,60%{transform:rotate(-25deg);}40%,80%{transform:rotate(10deg);}}@media (max-width: 500px){&:hover .octo-arm{animation:none;}.octo-arm{animation:octocat-wave 560ms ease-in-out;}}view-transition-name:github-ribbon"});function _a({children:e,supportedBrowsers:t}){return ma(!0),f.jsxs(Mo,{children:[f.jsx(WL,{}),f.jsxs(due,{children:[f.jsx(Tw,{}),t&&f.jsx(lue,{}),f.jsx(_s,{children:e})]})]})}const due=C("div",{target:"el1pskx0"})({name:"2e2gqg",styles:"display:flex;flex-direction:column;align-items:center;width:100vw;height:100vh;overflow:auto"});var Rw={},pm=function(){return pm=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},pm.apply(this,arguments)},fue=function(){function e(t,n,r){var i=this;this.endVal=n,this.options=r,this.version="2.8.0",this.defaults={startVal:0,decimalPlaces:0,duration:2,useEasing:!0,useGrouping:!0,useIndianSeparators:!1,smartEasingThreshold:999,smartEasingAmount:333,separator:",",decimal:".",prefix:"",suffix:"",enableScrollSpy:!1,scrollSpyDelay:200,scrollSpyOnce:!1},this.finalEndVal=null,this.useEasing=!0,this.countDown=!1,this.error="",this.startVal=0,this.paused=!0,this.once=!1,this.count=function(s){i.startTime||(i.startTime=s);var o=s-i.startTime;i.remaining=i.duration-o,i.useEasing?i.countDown?i.frameVal=i.startVal-i.easingFn(o,0,i.startVal-i.endVal,i.duration):i.frameVal=i.easingFn(o,i.startVal,i.endVal-i.startVal,i.duration):i.frameVal=i.startVal+(i.endVal-i.startVal)*(o/i.duration);var a=i.countDown?i.frameVal<i.endVal:i.frameVal>i.endVal;i.frameVal=a?i.endVal:i.frameVal,i.frameVal=Number(i.frameVal.toFixed(i.options.decimalPlaces)),i.printValue(i.frameVal),o<i.duration?i.rAF=requestAnimationFrame(i.count):i.finalEndVal!==null?i.update(i.finalEndVal):i.options.onCompleteCallback&&i.options.onCompleteCallback()},this.formatNumber=function(s){var o,a,l,c,u=s<0?"-":"";o=Math.abs(s).toFixed(i.options.decimalPlaces);var d=(o+="").split(".");if(a=d[0],l=d.length>1?i.options.decimal+d[1]:"",i.options.useGrouping){c="";for(var h=3,p=0,g=0,m=a.length;g<m;++g)i.options.useIndianSeparators&&g===4&&(h=2,p=1),g!==0&&p%h==0&&(c=i.options.separator+c),p++,c=a[m-g-1]+c;a=c}return i.options.numerals&&i.options.numerals.length&&(a=a.replace(/[0-9]/g,function(_){return i.options.numerals[+_]}),l=l.replace(/[0-9]/g,function(_){return i.options.numerals[+_]})),u+i.options.prefix+a+l+i.options.suffix},this.easeOutExpo=function(s,o,a,l){return a*(1-Math.pow(2,-10*s/l))*1024/1023+o},this.options=pm(pm({},this.defaults),r),this.formattingFn=this.options.formattingFn?this.options.formattingFn:this.formatNumber,this.easingFn=this.options.easingFn?this.options.easingFn:this.easeOutExpo,this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.endVal=this.validateValue(n),this.options.decimalPlaces=Math.max(this.options.decimalPlaces),this.resetDuration(),this.options.separator=String(this.options.separator),this.useEasing=this.options.useEasing,this.options.separator===""&&(this.options.useGrouping=!1),this.el=typeof t=="string"?document.getElementById(t):t,this.el?this.printValue(this.startVal):this.error="[CountUp] target is null or undefined",typeof window<"u"&&this.options.enableScrollSpy&&(this.error?console.error(this.error,t):(window.onScrollFns=window.onScrollFns||[],window.onScrollFns.push(function(){return i.handleScroll(i)}),window.onscroll=function(){window.onScrollFns.forEach(function(s){return s()})},this.handleScroll(this)))}return e.prototype.handleScroll=function(t){if(t&&window&&!t.once){var n=window.innerHeight+window.scrollY,r=t.el.getBoundingClientRect(),i=r.top+window.pageYOffset,s=r.top+r.height+window.pageYOffset;s<n&&s>window.scrollY&&t.paused?(t.paused=!1,setTimeout(function(){return t.start()},t.options.scrollSpyDelay),t.options.scrollSpyOnce&&(t.once=!0)):(window.scrollY>s||i>n)&&!t.paused&&t.reset()}},e.prototype.determineDirectionAndSmartEasing=function(){var t=this.finalEndVal?this.finalEndVal:this.endVal;this.countDown=this.startVal>t;var n=t-this.startVal;if(Math.abs(n)>this.options.smartEasingThreshold&&this.options.useEasing){this.finalEndVal=t;var r=this.countDown?1:-1;this.endVal=t+r*this.options.smartEasingAmount,this.duration=this.duration/2}else this.endVal=t,this.finalEndVal=null;this.finalEndVal!==null?this.useEasing=!1:this.useEasing=this.options.useEasing},e.prototype.start=function(t){this.error||(this.options.onStartCallback&&this.options.onStartCallback(),t&&(this.options.onCompleteCallback=t),this.duration>0?(this.determineDirectionAndSmartEasing(),this.paused=!1,this.rAF=requestAnimationFrame(this.count)):this.printValue(this.endVal))},e.prototype.pauseResume=function(){this.paused?(this.startTime=null,this.duration=this.remaining,this.startVal=this.frameVal,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count)):cancelAnimationFrame(this.rAF),this.paused=!this.paused},e.prototype.reset=function(){cancelAnimationFrame(this.rAF),this.paused=!0,this.resetDuration(),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.printValue(this.startVal)},e.prototype.update=function(t){cancelAnimationFrame(this.rAF),this.startTime=null,this.endVal=this.validateValue(t),this.endVal!==this.frameVal&&(this.startVal=this.frameVal,this.finalEndVal==null&&this.resetDuration(),this.finalEndVal=null,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count))},e.prototype.printValue=function(t){var n;if(this.el){var r=this.formattingFn(t);!((n=this.options.plugin)===null||n===void 0)&&n.render?this.options.plugin.render(this.el,r):this.el.tagName==="INPUT"?this.el.value=r:this.el.tagName==="text"||this.el.tagName==="tspan"?this.el.textContent=r:this.el.innerHTML=r}},e.prototype.ensureNumber=function(t){return typeof t=="number"&&!isNaN(t)},e.prototype.validateValue=function(t){var n=Number(t);return this.ensureNumber(n)?n:(this.error="[CountUp] invalid start or end value: ".concat(t),null)},e.prototype.resetDuration=function(){this.startTime=null,this.duration=1e3*Number(this.options.duration),this.remaining=this.duration},e}();const hue=Object.freeze(Object.defineProperty({__proto__:null,CountUp:fue},Symbol.toStringTag,{value:"Module"})),pue=Ks(hue);Object.defineProperty(Rw,"__esModule",{value:!0});var Yn=A,gue=pue;function mue(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function QI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function gm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QI(Object(n),!0).forEach(function(r){vue(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vue(e,t,n){return t=wue(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C_(){return C_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},C_.apply(this,arguments)}function yue(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function KL(e,t){if(e==null)return{};var n=yue(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Aue(e,t){return _ue(e)||mue(e,t)||bue(e,t)||Sue()}function _ue(e){if(Array.isArray(e))return e}function bue(e,t){if(e){if(typeof e=="string")return JI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return JI(e,t)}}function JI(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Sue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xue(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wue(e){var t=xue(e,"string");return typeof t=="symbol"?t:String(t)}var Eue=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?Yn.useLayoutEffect:Yn.useEffect;function Zi(e){var t=Yn.useRef(e);return Eue(function(){t.current=e}),Yn.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current.apply(void 0,r)},[])}var kue=function(t,n){var r=n.decimal,i=n.decimals,s=n.duration,o=n.easingFn,a=n.end,l=n.formattingFn,c=n.numerals,u=n.prefix,d=n.separator,h=n.start,p=n.suffix,g=n.useEasing,m=n.useGrouping,_=n.useIndianSeparators,v=n.enableScrollSpy,y=n.scrollSpyDelay,b=n.scrollSpyOnce,x=n.plugin;return new gue.CountUp(t,a,{startVal:h,duration:s,decimal:r,decimalPlaces:i,easingFn:o,formattingFn:l,numerals:c,separator:d,prefix:u,suffix:p,plugin:x,useEasing:g,useIndianSeparators:_,useGrouping:m,enableScrollSpy:v,scrollSpyDelay:y,scrollSpyOnce:b})},Cue=["ref","startOnMount","enableReinitialize","delay","onEnd","onStart","onPauseResume","onReset","onUpdate"],Tue={decimal:".",separator:",",delay:null,prefix:"",suffix:"",duration:2,start:0,decimals:0,startOnMount:!0,enableReinitialize:!0,useEasing:!0,useGrouping:!0,useIndianSeparators:!1},YL=function(t){var n=Object.fromEntries(Object.entries(t).filter(function(z){var N=Aue(z,2),D=N[1];return D!==void 0})),r=Yn.useMemo(function(){return gm(gm({},Tue),n)},[t]),i=r.ref,s=r.startOnMount,o=r.enableReinitialize,a=r.delay,l=r.onEnd,c=r.onStart,u=r.onPauseResume,d=r.onReset,h=r.onUpdate,p=KL(r,Cue),g=Yn.useRef(),m=Yn.useRef(),_=Yn.useRef(!1),v=Zi(function(){return kue(typeof i=="string"?i:i.current,p)}),y=Zi(function(z){var N=g.current;if(N&&!z)return N;var D=v();return g.current=D,D}),b=Zi(function(){var z=function(){return y(!0).start(function(){l==null||l({pauseResume:x,reset:S,start:E,update:w})})};a&&a>0?m.current=setTimeout(z,a*1e3):z(),c==null||c({pauseResume:x,reset:S,update:w})}),x=Zi(function(){y().pauseResume(),u==null||u({reset:S,start:E,update:w})}),S=Zi(function(){y().el&&(m.current&&clearTimeout(m.current),y().reset(),d==null||d({pauseResume:x,start:E,update:w}))}),w=Zi(function(z){y().update(z),h==null||h({pauseResume:x,reset:S,start:E})}),E=Zi(function(){S(),b()}),I=Zi(function(z){s&&(z&&S(),b())});return Yn.useEffect(function(){_.current?o&&I(!0):(_.current=!0,I())},[o,_,I,a,t.start,t.suffix,t.prefix,t.duration,t.separator,t.decimals,t.decimal,t.formattingFn]),Yn.useEffect(function(){return function(){S()}},[S]),{start:E,pauseResume:x,reset:S,update:w,getCountUp:y}},Iue=["className","redraw","containerProps","children","style"],Rue=function(t){var n=t.className,r=t.redraw,i=t.containerProps,s=t.children,o=t.style,a=KL(t,Iue),l=Yn.useRef(null),c=Yn.useRef(!1),u=YL(gm(gm({},a),{},{ref:l,startOnMount:typeof s!="function"||t.delay===0,enableReinitialize:!1})),d=u.start,h=u.reset,p=u.update,g=u.pauseResume,m=u.getCountUp,_=Zi(function(){d()}),v=Zi(function(x){t.preserveValue||h(),p(x)}),y=Zi(function(){if(typeof t.children=="function"&&!(l.current instanceof Element)){console.error(`Couldn't find attached element to hook the CountUp instance into! Try to attach "containerRef" from the render prop to a an Element, eg. <span ref={containerRef} />.`);return}m()});Yn.useEffect(function(){y()},[y]),Yn.useEffect(function(){c.current&&v(t.end)},[t.end,v]);var b=r&&t;return Yn.useEffect(function(){r&&c.current&&_()},[_,r,b]),Yn.useEffect(function(){!r&&c.current&&_()},[_,r,t.start,t.suffix,t.prefix,t.duration,t.separator,t.decimals,t.decimal,t.className,t.formattingFn]),Yn.useEffect(function(){c.current=!0},[]),typeof s=="function"?s({countUpRef:l,start:d,reset:h,update:p,pauseResume:g,getCountUp:m}):Yn.createElement("span",C_({className:n,ref:l,style:o},i),typeof t.start<"u"?m().formattingFn(t.start):"")},Mw=Rw.default=Rue;Rw.useCountUp=YL;const QL=e=>A.useMemo(()=>{const t={};e.forEach(r=>{if(!r.language)return;(Array.isArray(r.language)?r.language:[r.language]).forEach(s=>{const o=s.toLowerCase();t[o]||(t[o]={name:s,count:0}),t[o].count=t[o].count+1})});const n=Object.values(t);return n.sort((r,i)=>i.count-r.count),n},[e]),Mue=Hs()?0:10;function JL({onClose:e,closeText:t}){const{register:n}=zn({onBackspace:e}),[r,i]=De(Cm),{data:s,isLoading:o}=ph(),a=QL(s),l=A.useMemo(()=>a.filter(({name:p,count:g})=>HL(p)&&g>=Mue),[a]),c=A.useMemo(()=>a.filter(({name:p})=>!l.find(g=>g.name===p)).reduce((p,{count:g})=>p+g,0),[a,l]),u=l.filter(({name:p})=>!(r!=null&&r.includes(p))).reduce((p,{count:g})=>p+g,0),d=p=>{r===null?i([p]):r.includes(p)?i(r.filter(g=>g!==p)):i([...r,p])};A.useEffect(()=>{if(r===null&&(navigator!=null&&navigator.languages)){let p=new Intl.DisplayNames(["en"],{type:"language"});const g=navigator==null?void 0:navigator.languages.map(_=>{var v;return(v=p.of(_))==null?void 0:v.toLowerCase()}).filter(Boolean),m=l.map(_=>_.name).filter(_=>!g.some(v=>v.includes(_.toLowerCase()))).filter(_=>_!=="English");m.length&&i(m)}},[r,l]);const h=A.useMemo(()=>l.every(p=>r==null?void 0:r.includes(p.name)),[r,l]);return A.useEffect(()=>{r!=null&&r.find(p=>!l.find(g=>g.name===p))&&i(r.filter(p=>l.find(g=>g.name===p)))},[l,r,i]),f.jsxs(_a,{children:[f.jsx("h1",{children:"Select Song Languages"}),f.jsxs(Oue,{children:[o&&new Array(6).fill(0).map((p,g)=>f.jsx(eue,{variant:"rectangular",width:"100%",height:"10rem",children:f.jsx(XI,{"data-excluded":!0,focused:!1,children:f.jsx(Oc,{language:["English"]})})},g)),l.map(({name:p,count:g})=>{const m=(r==null?void 0:r.includes(p))??!1;return f.jsxs(XI,{"data-excluded":m,...n(`lang-${p}`,()=>d(p)),children:[f.jsx(jue,{children:m?f.jsx(zd,{}):f.jsx(Fd,{})}),f.jsxs("span",{children:[f.jsx(Vue,{children:p})," (",g," songs)"]}),f.jsx(Lue,{"data-excluded":m,children:f.jsx(Oc,{language:[p]})})]},p)}),c>0&&f.jsxs(Uy,{children:["and ",f.jsxs("strong",{children:[c," songs"]})," in other languages"]})]}),f.jsxs("h3",{children:["You can always update the selection in ",f.jsx("strong",{children:"Manage Songs"})," menu"]}),f.jsxs(Pue,{children:[f.jsx(Re,{...n("close-exclude-languages",e,void 0,!0,{disabled:h||o}),children:t}),f.jsxs(Uy,{children:["The list will contain"," ",f.jsx("strong",{children:f.jsx(Mw,{duration:1,preserveValue:!0,end:u+c})})," ","songs"]}),h&&f.jsxs(Uy,{"data-test":"all-languages-excluded-warning",children:[f.jsx("strong",{children:f.jsx(Rl,{})})," ","You excluded all the languages, pick at least one"]})]})]})}const Pue=C("div",{target:"e17pzmm6"})({name:"4zk4ri",styles:"display:flex;flex-direction:column;gap:1rem"}),Uy=C("h4",{target:"e17pzmm5"})({name:"2qga7i",styles:"text-align:right"}),jue=C("div",{target:"e17pzmm4"})({name:"18gxnlc",styles:"svg{width:3rem;height:3rem;}"}),Oue=C("div",{target:"e17pzmm3"})({name:"fvqkyn",styles:"margin-top:2rem;display:flex;flex-direction:column;gap:1rem"}),Vue=C("span",{target:"e17pzmm2"})({name:"1jwmbuq",styles:"transition:300ms"}),Lue=C("div",{target:"e17pzmm1"})({name:"5606u9",styles:"transition:300ms;opacity:0.95;&[data-excluded='true']{filter:grayscale(0.6);opacity:0.5;}position:absolute;bottom:0;right:0;img{width:14rem;height:8rem;object-fit:cover;}overflow:hidden;width:14rem;height:8rem"}),XI=C(Re,{target:"e17pzmm0"})("&[data-excluded='true']{text-decoration:line-through white;opacity:0.5;&[data-focused='false']{background:rgba(0, 0, 0, 0.55);}}",$e,";display:flex;align-items:center;justify-content:flex-start;gap:2rem;font-size:2.5rem;padding-left:3rem;margin:0;height:8rem;position:relative;width:100%;"),Nue=(e,t,n)=>{const r=QL(e);return A.useMemo(()=>n?[]:[{name:"Selection",Wrapper:({children:a,active:l,focused:c})=>f.jsx(Oie,{...l&&c?{open:!0}:{},oneTime:!1,timeoutMs:15e3,dismissKey:"selection-playlist",place:"right",title:f.jsxs(f.Fragment,{children:["A combination of songs you might like and popular with other players.",f.jsx("br",{}),f.jsx("br",{})," ",f.jsx("strong",{children:"Search"})," is performed across all the songs."]}),children:a}),display:f.jsxs("span",{children:[f.jsx("strong",{children:""}),"Selection",f.jsx("strong",{children:""})]}),filters:{specificSongs:t}},{name:"All",filters:{}},r[0]?{name:r[0].name,filters:{language:r[0].name}}:null,r[1]?{name:r[1].name,filters:{language:r[1].name}}:null,{name:"Oldies",filters:{yearBefore:1995}},{name:"Modern",filters:{yearAfter:1995}},{name:"Duets",filters:{duet:!0}},{name:"New",filters:{recentlyUpdated:!0}}].filter(a=>a!==null),[r,n,t])},ZI=e=>ol((e==null?void 0:e.search)??"").length>2,eR={},Bue=/[^0-9a-z ]/gi,Hy=e=>nS(e).toLowerCase().replace(Bue,"");function XL(e,t){const n=ol(t);if(n.length>0){const r=new iv({}),[,i,s]=r.search(e.map(o=>`${Hy(o.artist)} ${Hy(o.title)}`),Hy(t));return s&&i?s.map(o=>e[i.idx[o]]):e.filter(o=>o.search.includes(n))}return e}const mm={language:(e,t)=>t===""?e:e.filter(n=>n.language.includes(t)),excludeLanguages:(e,t=[],n)=>t.length===0||ZI(n)||n.edition==="esc"?e:e.filter(r=>!r.language.every(i=>t.includes(i))),search:(e,t)=>XL(e,t),duet:(e,t)=>t===null?e:e.filter(n=>t?n.tracksCount>1:n.tracksCount===1),yearBefore:(e,t)=>t?e.filter(n=>Number(n.year)<t):e,yearAfter:(e,t)=>t?e.filter(n=>Number(n.year)>=t):e,edition:(e,t)=>ol(t).length?e.filter(r=>ol(r.edition??"").includes(t)):e,recentlyUpdated:e=>{const t=as().subtract(31,"days");return e.filter(n=>n.lastUpdate&&as(n.lastUpdate).isAfter(t))},specificSongs:(e,t,n)=>ZI(n)?e:e.filter(r=>t.includes(r.id))},tR=(e,t)=>Object.entries(t).filter(n=>n[0]in mm).reduce((n,[r,i])=>mm[r](n,i,t,e),e),$ue=(e,t,n)=>{var p;const[r]=De(Cm),i=A.useMemo(()=>tR(e,{excludeLanguages:r??[]}),[e,r]),s=Nue(i,t,n),[o,a]=A.useState(new URLSearchParams((p=global.location)==null?void 0:p.search).get("playlist")??null),l=s.find(g=>g.name===o)??s[0],[c,u]=A.useState(eR);A.useEffect(()=>{u(eR)},[o]);const d=A.useDeferredValue(c),h=A.useMemo(()=>tR(e,{...(l==null?void 0:l.filters)??{},...d,excludeLanguages:r??[]}),[e,d,r,l]);return{filters:c,filteredList:h,setFilters:u,selectedPlaylist:o,setSelectedPlaylist:a,playlists:s,playlist:l}};function Due({roomId:e,monitoringStarted:t,setMonitoringStarted:n,isKeepAwakeOn:r,setIsKeepAwakeOn:i,connectionError:s,connectionStatus:o}){const a=ph(),[l,c]=A.useState();A.useEffect(()=>{o==="connected"&&l===void 0&&xn.getSongList().then(c).catch(console.warn)},[l,o]);const[u,d]=A.useState(""),h=A.useMemo(()=>wce(a.data.map(g=>({...g,id:Gs.generateSongFile(g)})).filter(g=>!((l==null?void 0:l.deleted)??[]).includes(g.id)).map(g=>({id:g.id,artist:g.artist,title:g.title,video:g.video,language:g.language,search:g.search})).concat(...((l==null?void 0:l.custom)??[]).map(g=>({...g,id:Gs.generateSongFile(g)}))),g=>g.id),[a.data,l]),p=A.useMemo(()=>XL(h,u),[u,h]);return f.jsxs(zue,{children:[f.jsx(Fue,{children:f.jsx(Ml,{focused:!1,label:f.jsx(nv,{}),placeholder:"Search for a song",value:u,onChange:g=>d(g),"data-test":"search-input"})}),p.map(g=>f.jsxs(Uue,{"data-test":g.id,children:[f.jsx(Hue,{children:f.jsx(Oc,{language:g.language})}),f.jsxs(Gue,{children:[f.jsx(Wue,{children:g.title}),f.jsx(que,{children:g.artist})]})]},`${g.artist}-${g.title}`))]})}const Fue=C("div",{target:"emsrjbt6"})($e,";font-size:2.5rem;display:flex;position:fixed;top:0;padding-top:0.5rem;"),zue=C("div",{target:"emsrjbt5"})({name:"1dd8luo",styles:"display:flex;flex-direction:column;padding-bottom:5rem;padding-top:6rem;position:relative"}),Uue=C("div",{target:"emsrjbt4"})({name:"wb2l42",styles:"background:rgba(0, 0, 0, 0.25);display:flex;align-items:center;gap:1rem;padding:1.5rem 1rem;border-bottom:1px solid black;overflow:hidden"}),Hue=C("div",{target:"emsrjbt3"})({name:"1xmi6sr",styles:"img{height:3rem;width:3rem;object-fit:cover;border-radius:3rem;border:0.1rem black solid;aspect-ratio:1;}"}),Gue=C("div",{target:"emsrjbt2"})({name:"tpuoeb",styles:"display:flex;flex-direction:column;justify-content:space-between;gap:1rem"}),que=C("span",{target:"emsrjbt1"})("color:",pe.colors.text.default,";font-size:1.25rem;white-space:nowrap;"),Wue=C("span",{target:"emsrjbt0"})("color:",pe.colors.text.active,";font-size:1.5rem;white-space:nowrap;"),fp=new uJ;function Kue(){const e=h0("room"),[t]=qs(te.remoteStyleChanged,!0)??["regular"];A.useLayoutEffect(()=>{_P(t)},[t]),ma(!0,t);const[n,r]=A.useState("microphone"),[i,s]=qs(te.karaokeConnectionStatusChange)??["uninitialised"],[o,a]=A.useState(!1);di(te.micMonitoringStarted,()=>a(!0)),di(te.micMonitoringStopped,()=>a(!1));const[l,c]=A.useState(!1),u=async h=>{try{h&&!fp.isEnabled?await fp.enable():!h&&fp.isEnabled&&await fp.disable(),c(h)}catch(p){console.warn("Couldn't set wakelock",p)}},d=()=>{u(!0)};return f.jsxs(Mo,{children:[f.jsx(cle,{onConfirm:d}),f.jsx(bJ,{size:10}),f.jsx(Que,{id:"phone-ui-container",children:f.jsxs(f.Fragment,{children:[n==="microphone"&&f.jsx(ole,{roomId:e,monitoringStarted:o,setMonitoringStarted:a,connectionStatus:i,setIsKeepAwakeOn:c,isKeepAwakeOn:l,connectionError:s}),n==="song-list"&&f.jsx(Due,{roomId:e,monitoringStarted:o,setMonitoringStarted:a,connectionStatus:i,setIsKeepAwakeOn:c,isKeepAwakeOn:l,connectionError:s}),n==="settings"&&f.jsx(ble,{}),f.jsx(Yue,{}),f.jsx(roe,{setActiveTab:r,active:n})]})})]})}const Yue=C("div",{target:"e1ky75ep1"})({name:"4x3vzu",styles:"height:6rem;@media (max-height: 500px) and (min-aspect-ratio: 16/10){height:0;}"}),Que=C("div",{target:"e1ky75ep0"})({name:"1vonyqj",styles:"margin:0 auto;width:100%;max-width:400px;box-sizing:border-box;min-height:100vh;background:rgba(0, 0, 0, 0.5);@media (max-height: 500px) and (min-aspect-ratio: 16/10){max-width:960px;}"});function ba(e){const[t]=De(Tm),[n]=De(bb),r=t==="christmas"?n3:n==="Classic"?t3:e3;A.useEffect(()=>{e?r.playing()||r.play(!1):r.stop()},[e])}function Jue(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var ZL=A,Xue=Jue(ZL);function nR(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zue(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var ede=!!(typeof window<"u"&&window.document&&window.document.createElement);function tde(e,t,n){if(typeof e!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof t!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof n<"u"&&typeof n!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function r(i){return i.displayName||i.name||"Component"}return function(s){if(typeof s!="function")throw new Error("Expected WrappedComponent to be a React component.");var o=[],a;function l(){a=e(o.map(function(u){return u.props})),c.canUseDOM?t(a):n&&(a=n(a))}var c=function(u){Zue(d,u);function d(){return u.apply(this,arguments)||this}d.peek=function(){return a},d.rewind=function(){if(d.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var g=a;return a=void 0,o=[],g};var h=d.prototype;return h.UNSAFE_componentWillMount=function(){o.push(this),l()},h.componentDidUpdate=function(){l()},h.componentWillUnmount=function(){var g=o.indexOf(this);o.splice(g,1),l()},h.render=function(){return Xue.createElement(s,this.props)},d}(ZL.PureComponent);return nR(c,"displayName","SideEffect("+r(s)+")"),nR(c,"canUseDOM",ede),c}}var nde=tde;const rde=ur(nde);var ide=typeof Element<"u",sde=typeof Map=="function",ode=typeof Set=="function",ade=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Zp(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,i;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!Zp(e[r],t[r]))return!1;return!0}var s;if(sde&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(s=e.entries();!(r=s.next()).done;)if(!t.has(r.value[0]))return!1;for(s=e.entries();!(r=s.next()).done;)if(!Zp(r.value[1],t.get(r.value[0])))return!1;return!0}if(ode&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(s=e.entries();!(r=s.next()).done;)if(!t.has(r.value[0]))return!1;return!0}if(ade&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;if(ide&&e instanceof Element)return!1;for(r=n;r--!==0;)if(!((i[r]==="_owner"||i[r]==="__v"||i[r]==="__o")&&e.$$typeof)&&!Zp(e[i[r]],t[i[r]]))return!1;return!0}return e!==e&&t!==t}var lde=function(t,n){try{return Zp(t,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const cde=ur(lde);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var rR=Object.getOwnPropertySymbols,ude=Object.prototype.hasOwnProperty,dde=Object.prototype.propertyIsEnumerable;function fde(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function hde(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(s){return t[s]});if(r.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(s){i[s]=s}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var pde=hde()?Object.assign:function(e,t){for(var n,r=fde(e),i,s=1;s<arguments.length;s++){n=Object(arguments[s]);for(var o in n)ude.call(n,o)&&(r[o]=n[o]);if(rR){i=rR(n);for(var a=0;a<i.length;a++)dde.call(n,i[a])&&(r[i[a]]=n[i[a]])}}return r};const gde=ur(pde);var Xa={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},qe={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(qe).map(function(e){return qe[e]});var Yt={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},vm={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},jf={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},mde=Object.keys(vm).reduce(function(e,t){return e[vm[t]]=t,e},{}),vde=[qe.NOSCRIPT,qe.SCRIPT,qe.STYLE],ls="data-react-helmet",yde=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ade=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},_de=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Vr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bde=function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},iR=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},Sde=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e},T_=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},xde=function(t){var n=Vc(t,qe.TITLE),r=Vc(t,jf.TITLE_TEMPLATE);if(r&&n)return r.replace(/%s/g,function(){return Array.isArray(n)?n.join(""):n});var i=Vc(t,jf.DEFAULT_TITLE);return n||i||void 0},wde=function(t){return Vc(t,jf.ON_CHANGE_CLIENT_STATE)||function(){}},Gy=function(t,n){return n.filter(function(r){return typeof r[t]<"u"}).map(function(r){return r[t]}).reduce(function(r,i){return Vr({},r,i)},{})},Ede=function(t,n){return n.filter(function(r){return typeof r[qe.BASE]<"u"}).map(function(r){return r[qe.BASE]}).reverse().reduce(function(r,i){if(!r.length)for(var s=Object.keys(i),o=0;o<s.length;o++){var a=s[o],l=a.toLowerCase();if(t.indexOf(l)!==-1&&i[l])return r.concat(i)}return r},[])},Yu=function(t,n,r){var i={};return r.filter(function(s){return Array.isArray(s[t])?!0:(typeof s[t]<"u"&&Ide("Helmet: "+t+' should be of type "Array". Instead found type "'+yde(s[t])+'"'),!1)}).map(function(s){return s[t]}).reverse().reduce(function(s,o){var a={};o.filter(function(h){for(var p=void 0,g=Object.keys(h),m=0;m<g.length;m++){var _=g[m],v=_.toLowerCase();n.indexOf(v)!==-1&&!(p===Yt.REL&&h[p].toLowerCase()==="canonical")&&!(v===Yt.REL&&h[v].toLowerCase()==="stylesheet")&&(p=v),n.indexOf(_)!==-1&&(_===Yt.INNER_HTML||_===Yt.CSS_TEXT||_===Yt.ITEM_PROP)&&(p=_)}if(!p||!h[p])return!1;var y=h[p].toLowerCase();return i[p]||(i[p]={}),a[p]||(a[p]={}),i[p][y]?!1:(a[p][y]=!0,!0)}).reverse().forEach(function(h){return s.push(h)});for(var l=Object.keys(a),c=0;c<l.length;c++){var u=l[c],d=gde({},i[u],a[u]);i[u]=d}return s},[]).reverse()},Vc=function(t,n){for(var r=t.length-1;r>=0;r--){var i=t[r];if(i.hasOwnProperty(n))return i[n]}return null},kde=function(t){return{baseTag:Ede([Yt.HREF,Yt.TARGET],t),bodyAttributes:Gy(Xa.BODY,t),defer:Vc(t,jf.DEFER),encode:Vc(t,jf.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:Gy(Xa.HTML,t),linkTags:Yu(qe.LINK,[Yt.REL,Yt.HREF],t),metaTags:Yu(qe.META,[Yt.NAME,Yt.CHARSET,Yt.HTTPEQUIV,Yt.PROPERTY,Yt.ITEM_PROP],t),noscriptTags:Yu(qe.NOSCRIPT,[Yt.INNER_HTML],t),onChangeClientState:wde(t),scriptTags:Yu(qe.SCRIPT,[Yt.SRC,Yt.INNER_HTML],t),styleTags:Yu(qe.STYLE,[Yt.CSS_TEXT],t),title:xde(t),titleAttributes:Gy(Xa.TITLE,t)}},I_=function(){var e=Date.now();return function(t){var n=Date.now();n-e>16?(e=n,t(n)):setTimeout(function(){I_(t)},0)}}(),sR=function(t){return clearTimeout(t)},Cde=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||I_:global.requestAnimationFrame||I_,Tde=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||sR:global.cancelAnimationFrame||sR,Ide=function(t){return console&&typeof console.warn=="function"&&console.warn(t)},Qu=null,Rde=function(t){Qu&&Tde(Qu),t.defer?Qu=Cde(function(){oR(t,function(){Qu=null})}):(oR(t),Qu=null)},oR=function(t,n){var r=t.baseTag,i=t.bodyAttributes,s=t.htmlAttributes,o=t.linkTags,a=t.metaTags,l=t.noscriptTags,c=t.onChangeClientState,u=t.scriptTags,d=t.styleTags,h=t.title,p=t.titleAttributes;R_(qe.BODY,i),R_(qe.HTML,s),Mde(h,p);var g={baseTag:Ul(qe.BASE,r),linkTags:Ul(qe.LINK,o),metaTags:Ul(qe.META,a),noscriptTags:Ul(qe.NOSCRIPT,l),scriptTags:Ul(qe.SCRIPT,u),styleTags:Ul(qe.STYLE,d)},m={},_={};Object.keys(g).forEach(function(v){var y=g[v],b=y.newTags,x=y.oldTags;b.length&&(m[v]=b),x.length&&(_[v]=g[v].oldTags)}),n&&n(),c(t,m,_)},eN=function(t){return Array.isArray(t)?t.join(""):t},Mde=function(t,n){typeof t<"u"&&document.title!==t&&(document.title=eN(t)),R_(qe.TITLE,n)},R_=function(t,n){var r=document.getElementsByTagName(t)[0];if(r){for(var i=r.getAttribute(ls),s=i?i.split(","):[],o=[].concat(s),a=Object.keys(n),l=0;l<a.length;l++){var c=a[l],u=n[c]||"";r.getAttribute(c)!==u&&r.setAttribute(c,u),s.indexOf(c)===-1&&s.push(c);var d=o.indexOf(c);d!==-1&&o.splice(d,1)}for(var h=o.length-1;h>=0;h--)r.removeAttribute(o[h]);s.length===o.length?r.removeAttribute(ls):r.getAttribute(ls)!==a.join(",")&&r.setAttribute(ls,a.join(","))}},Ul=function(t,n){var r=document.head||document.querySelector(qe.HEAD),i=r.querySelectorAll(t+"["+ls+"]"),s=Array.prototype.slice.call(i),o=[],a=void 0;return n&&n.length&&n.forEach(function(l){var c=document.createElement(t);for(var u in l)if(l.hasOwnProperty(u))if(u===Yt.INNER_HTML)c.innerHTML=l.innerHTML;else if(u===Yt.CSS_TEXT)c.styleSheet?c.styleSheet.cssText=l.cssText:c.appendChild(document.createTextNode(l.cssText));else{var d=typeof l[u]>"u"?"":l[u];c.setAttribute(u,d)}c.setAttribute(ls,"true"),s.some(function(h,p){return a=p,c.isEqualNode(h)})?s.splice(a,1):o.push(c)}),s.forEach(function(l){return l.parentNode.removeChild(l)}),o.forEach(function(l){return r.appendChild(l)}),{oldTags:s,newTags:o}},tN=function(t){return Object.keys(t).reduce(function(n,r){var i=typeof t[r]<"u"?r+'="'+t[r]+'"':""+r;return n?n+" "+i:i},"")},Pde=function(t,n,r,i){var s=tN(r),o=eN(n);return s?"<"+t+" "+ls+'="true" '+s+">"+T_(o,i)+"</"+t+">":"<"+t+" "+ls+'="true">'+T_(o,i)+"</"+t+">"},jde=function(t,n,r){return n.reduce(function(i,s){var o=Object.keys(s).filter(function(c){return!(c===Yt.INNER_HTML||c===Yt.CSS_TEXT)}).reduce(function(c,u){var d=typeof s[u]>"u"?u:u+'="'+T_(s[u],r)+'"';return c?c+" "+d:d},""),a=s.innerHTML||s.cssText||"",l=vde.indexOf(t)===-1;return i+"<"+t+" "+ls+'="true" '+o+(l?"/>":">"+a+"</"+t+">")},"")},nN=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(r,i){return r[vm[i]||i]=t[i],r},n)},Ode=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(r,i){return r[mde[i]||i]=t[i],r},n)},Vde=function(t,n,r){var i,s=(i={key:n},i[ls]=!0,i),o=nN(r,s);return[Te.createElement(qe.TITLE,o,n)]},Lde=function(t,n){return n.map(function(r,i){var s,o=(s={key:i},s[ls]=!0,s);return Object.keys(r).forEach(function(a){var l=vm[a]||a;if(l===Yt.INNER_HTML||l===Yt.CSS_TEXT){var c=r.innerHTML||r.cssText;o.dangerouslySetInnerHTML={__html:c}}else o[l]=r[a]}),Te.createElement(t,o)})},Xs=function(t,n,r){switch(t){case qe.TITLE:return{toComponent:function(){return Vde(t,n.title,n.titleAttributes)},toString:function(){return Pde(t,n.title,n.titleAttributes,r)}};case Xa.BODY:case Xa.HTML:return{toComponent:function(){return nN(n)},toString:function(){return tN(n)}};default:return{toComponent:function(){return Lde(t,n)},toString:function(){return jde(t,n,r)}}}},rN=function(t){var n=t.baseTag,r=t.bodyAttributes,i=t.encode,s=t.htmlAttributes,o=t.linkTags,a=t.metaTags,l=t.noscriptTags,c=t.scriptTags,u=t.styleTags,d=t.title,h=d===void 0?"":d,p=t.titleAttributes;return{base:Xs(qe.BASE,n,i),bodyAttributes:Xs(Xa.BODY,r,i),htmlAttributes:Xs(Xa.HTML,s,i),link:Xs(qe.LINK,o,i),meta:Xs(qe.META,a,i),noscript:Xs(qe.NOSCRIPT,l,i),script:Xs(qe.SCRIPT,c,i),style:Xs(qe.STYLE,u,i),title:Xs(qe.TITLE,{title:h,titleAttributes:p},i)}},Nde=function(t){var n,r;return r=n=function(i){bde(s,i);function s(){return Ade(this,s),Sde(this,i.apply(this,arguments))}return s.prototype.shouldComponentUpdate=function(a){return!cde(this.props,a)},s.prototype.mapNestedChildrenToProps=function(a,l){if(!l)return null;switch(a.type){case qe.SCRIPT:case qe.NOSCRIPT:return{innerHTML:l};case qe.STYLE:return{cssText:l}}throw new Error("<"+a.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},s.prototype.flattenArrayTypeChildren=function(a){var l,c=a.child,u=a.arrayTypeChildren,d=a.newChildProps,h=a.nestedChildren;return Vr({},u,(l={},l[c.type]=[].concat(u[c.type]||[],[Vr({},d,this.mapNestedChildrenToProps(c,h))]),l))},s.prototype.mapObjectTypeChildren=function(a){var l,c,u=a.child,d=a.newProps,h=a.newChildProps,p=a.nestedChildren;switch(u.type){case qe.TITLE:return Vr({},d,(l={},l[u.type]=p,l.titleAttributes=Vr({},h),l));case qe.BODY:return Vr({},d,{bodyAttributes:Vr({},h)});case qe.HTML:return Vr({},d,{htmlAttributes:Vr({},h)})}return Vr({},d,(c={},c[u.type]=Vr({},h),c))},s.prototype.mapArrayTypeChildrenToProps=function(a,l){var c=Vr({},l);return Object.keys(a).forEach(function(u){var d;c=Vr({},c,(d={},d[u]=a[u],d))}),c},s.prototype.warnOnInvalidChildren=function(a,l){return!0},s.prototype.mapChildrenToProps=function(a,l){var c=this,u={};return Te.Children.forEach(a,function(d){if(!(!d||!d.props)){var h=d.props,p=h.children,g=iR(h,["children"]),m=Ode(g);switch(c.warnOnInvalidChildren(d,p),d.type){case qe.LINK:case qe.META:case qe.NOSCRIPT:case qe.SCRIPT:case qe.STYLE:u=c.flattenArrayTypeChildren({child:d,arrayTypeChildren:u,newChildProps:m,nestedChildren:p});break;default:l=c.mapObjectTypeChildren({child:d,newProps:l,newChildProps:m,nestedChildren:p});break}}}),l=this.mapArrayTypeChildrenToProps(u,l),l},s.prototype.render=function(){var a=this.props,l=a.children,c=iR(a,["children"]),u=Vr({},c);return l&&(u=this.mapChildrenToProps(l,u)),Te.createElement(t,u)},_de(s,null,[{key:"canUseDOM",set:function(a){t.canUseDOM=a}}]),s}(Te.Component),n.propTypes={base:Qe.object,bodyAttributes:Qe.object,children:Qe.oneOfType([Qe.arrayOf(Qe.node),Qe.node]),defaultTitle:Qe.string,defer:Qe.bool,encodeSpecialCharacters:Qe.bool,htmlAttributes:Qe.object,link:Qe.arrayOf(Qe.object),meta:Qe.arrayOf(Qe.object),noscript:Qe.arrayOf(Qe.object),onChangeClientState:Qe.func,script:Qe.arrayOf(Qe.object),style:Qe.arrayOf(Qe.object),title:Qe.string,titleAttributes:Qe.object,titleTemplate:Qe.string},n.defaultProps={defer:!0,encodeSpecialCharacters:!0},n.peek=t.peek,n.rewind=function(){var i=t.rewind();return i||(i=rN({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),i},r},Bde=function(){return null},$de=rde(kde,Rde,rN)(Bde),hi=Nde($de);hi.renderStatic=hi.rewind;const iN=A.forwardRef(({...e},t)=>{const n=A.useRef(null);A.useImperativeHandle(t,()=>n.current);const[r,i]=De(_d);return f.jsx(Dde,{ref:n,label:"Input lag",value:String(r),onChange:s=>i(+s),type:"number",step:50,min:-2e3,max:2e3,adornment:"ms",onKeyDown:s=>{var o;s.code==="Enter"&&((o=n.current)==null||o.blur())},info:"If the sound is not synchronised with the lyrics, use this to compensate it.",...e})}),Dde=C(Ml,{target:"e1vs2glp0"})({name:"q54eim",styles:"input{text-align:right;}"});function Fde(e){ba(!1);const t=qr(),n=()=>t("menu/"),{register:r}=zn({onBackspace:n}),[i,s]=De(ji),[o,a]=De(qa),[l,c]=De(dr),[u,d]=De(bb),h=A.useRef(null),[p,g]=A.useState(ss.getPermissionStatus());A.useEffect(()=>ss.addListener(b=>{g(b)}),[]);const[m,_]=A.useState(!1),v=()=>{_(!0),ss.requestPermissions().then(()=>_(!1))};let y="Disabled";return m?y=f.jsx(hh,{size:"0.9em"}):p===null?y="Click to enable":p&&(y="Enabled"),f.jsxs(_a,{children:[f.jsx(hi,{children:f.jsx("title",{children:"Settings | AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsx("h1",{children:"Settings"}),f.jsx(ni,{...r("graphics-level",()=>s(Ja(OP,i))),label:"Graphics",value:i.toUpperCase()}),f.jsx(ni,{...r("fps-count-level",()=>a(Ja(VP,o))),label:"FPS Count",value:o}),f.jsx(ni,{...r("background-music-selection",()=>d(Ja($P,u))),label:"Background Music",value:u}),f.jsx(iN,{ref:h,...r("input-lag",()=>{var b;return(b=h.current)==null?void 0:b.focus()})}),f.jsx("hr",{}),f.jsx(ni,{...r("camera-access",()=>p?ss.disable():v()),label:"Enable camera mode",value:y,info:"Record a timelapse video from singing. The recording is not sent nor stored anywhere."}),f.jsx("hr",{}),f.jsx(ni,{...r("mobile-phone-mode",()=>c(!l)),label:"Mobile Phone Mode",value:l?"Yes":"No",info:"Adjust the game to a smaller screen. Disables option to sing in duets."}),f.jsx("hr",{}),f.jsx(Re,{...r("remote-mics-settings",()=>t("settings/remote-mics/")),size:"small",children:"Remote Microphones Settings"}),f.jsx(Re,{...r("setup-mics-button",()=>t("select-input/")),size:"small",children:"Setup Microphones"}),f.jsx(Re,{...r("manage-songs-button",()=>t("manage-songs/")),size:"small",children:"Manage Songs"}),f.jsx(Re,{...r("back-button",n),children:"Return To Main Menu"})]})}function sN(e){return f.jsxs(zde,{...e,children:[f.jsx(E_,{}),f.jsx(xL,{})]})}const zde=C("div",{target:"e1lp2lp80"})({name:"9lr88m",styles:"position:relative;transition:300ms;svg{transition:300ms;width:15rem;height:15rem;}svg:first-of-type{top:1.6rem;left:3.5rem;position:absolute;z-index:100;transform:scaleX(-1);}"});function oN(){const[e,t]=A.useState(!1);return A.useEffect(()=>{const n=setTimeout(()=>{t(!0)},500);return()=>{clearTimeout(n)}},[]),f.jsx(Ude,{visible:e,children:f.jsx(Hde,{})})}const Ude=C("div",{target:"e1ej0ve21"})("transition:500ms;opacity:",e=>e.visible?1:0,";position:fixed;inset:0;display:flex;align-items:center;justify-content:center;"),Hde=C(sN,{target:"e1ej0ve20"})({name:"1wwm3j4",styles:"transform:translate(-1.75rem, -0.8rem) scale(2);svg{animation:pulse 1.25s infinite;@keyframes pulse{0%{scale:1;}33%{scale:1.05;}66%{scale:1;}100%{scale:1;}}}svg:first-of-type{animation-delay:1s;}"}),Gde=A.lazy(()=>hu(()=>import("./SongManagement-DrYO0Er1.js"),[]).then(e=>({default:e.Convert}))),aN=e=>f.jsxs(A.Suspense,{fallback:f.jsx(oN,{}),children:[f.jsx(hi,{children:f.jsx("title",{children:"Convert Song | AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsx(Gde,{...e})]});var lN={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Uo,function(){return function(n,r,i){n=n||{};var s=r.prototype,o={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function a(c,u,d,h){return s.fromToBase(c,u,d,h)}i.en.relativeTime=o,s.fromToBase=function(c,u,d,h,p){for(var g,m,_,v=d.$locale().relativeTime||o,y=n.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],b=y.length,x=0;x<b;x+=1){var S=y[x];S.d&&(g=h?i(c).diff(d,S.d,!0):d.diff(c,S.d,!0));var w=(n.rounding||Math.round)(Math.abs(g));if(_=g>0,w<=S.r||!S.r){w<=1&&x>0&&(S=y[x-1]);var E=v[S.l];p&&(w=p(""+w)),m=typeof E=="string"?E.replace("%d",w):E(w,u,S.l,_);break}}if(u)return m;var I=_?v.future:v.past;return typeof I=="function"?I(m):I.replace("%s",m)},s.to=function(c,u){return a(c,u,this,!0)},s.from=function(c,u){return a(c,u,this)};var l=function(c){return c.$u?i.utc():i()};s.toNow=function(c){return this.to(l(this),c)},s.fromNow=function(c){return this.from(l(this),c)}}})})(lN);var qde=lN.exports;const Wde=ur(qde),cN=1e3,Kde=e=>e.map(t=>{if(t.notes.length===0)debugger;return{...t,start:t.notes[0].start}}),Yde=e=>{const t=e.notes.at(-1);return t.start+t.length},Qde=(e,t=10)=>{let n=0,r=[];return e.forEach(i=>{i.start-n>t&&(r.push({type:"pause",start:n,end:i.start-t}),n=i.start-t),r.push({...i,start:n}),n=Yde(i)}),r},aR=(e,t)=>({...e,sections:Qde(Kde(e.sections.filter(It)),t)});function Jde(e){const t=pu(e),n=Math.round(cN/t);return{...e,tracks:e.tracks.map(r=>aR(r,n)),mergedTrack:aR(e.mergedTrack,n)}}const Xde=(e,t)=>e.map((n,r)=>It(n)?{...n,start:r===0?0:Math.max(0,n.start+t),notes:n.notes.map(i=>({...i,start:i.start+t}))}:{...n,start:Math.max(0,n.start+t),end:Math.max(0,n.end+t)}),lR=(e,t)=>({...e,sections:Xde(e.sections,t)});function Zde(e){const t=pu(e),n=Math.round(cN/t),r=Math.floor((e.gap-n*t<0?e.gap:n*t)/t),i=e.gap-r*t;return{...e,gap:i,tracks:e.tracks.map(s=>lR(s,r)),mergedTrack:lR(e.mergedTrack,r)}}function uN(e,t){return pu(t)*e}function sv(e){const t=Math.min(...e.tracks.map(n=>"sections"in n?la(n.sections):n.start));return uN(t,e)+e.gap}function efe(e){const t=sv(e);return{...e,videoGap:Math.round(Math.max(0,Math.min(e.videoGap??0,t/1e3-15)))}}const tfe=(e,t)=>e.map((n,r)=>It(n)?{...n,start:r===0?0:Math.max(0,n.start-t),notes:n.notes.map(i=>({...i,start:i.start-t}))}:{...n,start:Math.max(0,n.start-t),end:Math.max(0,n.end-t)}).filter(n=>It(n)||n.start-n.end>0),cR=(e,t)=>({...e,sections:tfe(e.sections,t)});function nfe(e){const t=pu(e),n=e.tracks.reduce((o,a,l)=>{const c=la(e.tracks[o].sections),u=la(a.sections);return c>u?l:o},0),r=e.tracks[n].sections.find(It);if(!r)return console.error("There are no notes sections in the song, wat",e.tracks),e;const i=r.start+(r.notes[0].start-r.start),s=Math.floor(e.gap+i*t);return{...e,gap:s,tracks:e.tracks.map(o=>cR(o,i)),mergedTrack:cR(e.mergedTrack,i)}}const rfe=e=>(e.forEach((t,n)=>{t.lyrics.startsWith(" ")&&(t.lyrics=t.lyrics.trimStart(),n>0&&(e[n-1].lyrics=e[n-1].lyrics.trimEnd()+" ")),n===e.length-1&&(t.lyrics=t.lyrics.trimEnd())}),e),uR=e=>({...e,sections:e.sections.map(t=>It(t)?{...t,notes:rfe(t.notes)}:t)});function ife(e){return{...e,tracks:e.tracks.map(uR),mergedTrack:uR(e.mergedTrack)}}const sfe=e=>{let t=nfe(e);return t=Zde(t),t=Jde(t),t=ife(t),t=efe(t),t};function dN(e){const[t,n]=A.useState(null);return A.useEffect(()=>{Gs.get(e).then(r=>n(r&&sfe(r)))},[e]),{data:t}}as.extend(Wde);function ofe(){const e=h0("song");ba(!1);const t=dN(e??"");return t.data?f.jsxs(lfe,{children:[f.jsx(hi,{children:f.jsx("title",{children:"Edit Song | AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsxs(afe,{children:[f.jsx(Zx,{to:"edit/list/",children:f.jsx("a",{children:"Return to the song list"})}),f.jsxs("span",{children:["Editing:"," ",f.jsxs("b",{children:[t.data.artist," - ",t.data.title]})]}),f.jsxs("abbr",{title:t.data.lastUpdate,children:["Last updated: ",f.jsx("b",{children:t.data.lastUpdate?as(t.data.lastUpdate).fromNow():"-"})]})]}),f.jsx(aN,{song:t.data})]}):f.jsx(f.Fragment,{children:"Loading"})}const afe=C("div",{target:"e104ojv11"})({name:"tv6097",styles:"display:flex;justify-content:space-between;align-items:center;margin-bottom:20px"}),lfe=C("div",{target:"e104ojv10"})({name:"1u1hal4",styles:"margin:30px auto 0 auto;width:1260px;height:100%;background:white"});var cfe=Math.floor,ufe=Math.random;function dfe(e,t){return e+cfe(ufe()*(t-e+1))}function fN(e,t){var n=-1,r=e.length,i=r-1;for(t=t===void 0?r:t;++n<t;){var s=dfe(n,i),o=e[s];e[s]=e[n],e[n]=o}return e.length=t,e}function ffe(e){return fN(C3(e))}function hfe(e,t){return mS(t,function(n){return e[n]})}function pfe(e){return e==null?[]:hfe(e,Jf(e))}function gfe(e){return fN(pfe(e))}function mfe(e){var t=Di(e)?ffe:gfe;return t(e)}var hM;const vfe=!((hM=document.getElementById("root"))!=null&&hM.hasChildNodes()),hN=vfe;function Pw(e){return hN?null:e.children}function Tr(e){const t=qr(),n=r=>{e.onClick?e.onClick(r):(r.preventDefault(),t(e.to))};return f.jsx(Zx,{...e,onClick:n})}function yfe(e,t){A.useEffect(()=>{var n,r;(r=(n=e.current)==null?void 0:n.getInternalPlayer())==null||r.setVolume(Math.round((t??.5)*100))},[e,t])}var Afe=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(s=Object.keys(t),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var o=s[i];if(!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n};const _fe=ur(Afe);var M_={exports:{}},pN;/**
* @link https://github.com/gajus/sister for the canonical source repository
* @license https://github.com/gajus/sister/blob/master/LICENSE BSD 3-Clause
*/pN=function(){var e={},t={};return e.on=function(n,r){var i={name:n,handler:r};return t[n]=t[n]||[],t[n].unshift(i),i},e.off=function(n){var r=t[n.name].indexOf(n);r!==-1&&t[n.name].splice(r,1)},e.trigger=function(n,r){var i=t[n],s;if(i)for(s=i.length;s--;)i[s].handler(r)},e};var bfe=pN,P_={exports:{}},Sfe=function(t,n,r){var i=document.head||document.getElementsByTagName("head")[0],s=document.createElement("script");typeof n=="function"&&(r=n,n={}),n=n||{},r=r||function(){},s.type=n.type||"text/javascript",s.charset=n.charset||"utf8",s.async="async"in n?!!n.async:!0,s.src=t,n.attrs&&xfe(s,n.attrs),n.text&&(s.text=""+n.text);var o="onload"in s?dR:wfe;o(s,r),s.onload||dR(s,r),i.appendChild(s)};function xfe(e,t){for(var n in t)e.setAttribute(n,t[n])}function dR(e,t){e.onload=function(){this.onerror=this.onload=null,t(null,e)},e.onerror=function(){this.onerror=this.onload=null,t(new Error("Failed to load "+this.src),e)}}function wfe(e,t){e.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,t(null,e))}}(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=Sfe,r=i(n);function i(s){return s&&s.__esModule?s:{default:s}}t.default=function(s){var o=new Promise(function(a){if(window.YT&&window.YT.Player&&window.YT.Player instanceof Function){a(window.YT);return}else{var l=window.location.protocol==="http:"?"http:":"https:";(0,r.default)(l+"//www.youtube.com/iframe_api",function(u){u&&s.trigger("error",u)})}var c=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){c&&c(),a(window.YT)}});return o},e.exports=t.default})(P_,P_.exports);var Efe=P_.exports,j_={exports:{}},O_={exports:{}},V_={exports:{}},Of=1e3,Vf=Of*60,Lf=Vf*60,Nf=Lf*24,kfe=Nf*365.25,Cfe=function(e,t){t=t||{};var n=typeof e;if(n==="string"&&e.length>0)return Tfe(e);if(n==="number"&&isNaN(e)===!1)return t.long?Rfe(e):Ife(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function Tfe(e){if(e=String(e),!(e.length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]),r=(t[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return n*kfe;case"days":case"day":case"d":return n*Nf;case"hours":case"hour":case"hrs":case"hr":case"h":return n*Lf;case"minutes":case"minute":case"mins":case"min":case"m":return n*Vf;case"seconds":case"second":case"secs":case"sec":case"s":return n*Of;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function Ife(e){return e>=Nf?Math.round(e/Nf)+"d":e>=Lf?Math.round(e/Lf)+"h":e>=Vf?Math.round(e/Vf)+"m":e>=Of?Math.round(e/Of)+"s":e+"ms"}function Rfe(e){return hp(e,Nf,"day")||hp(e,Lf,"hour")||hp(e,Vf,"minute")||hp(e,Of,"second")||e+" ms"}function hp(e,t,n){if(!(e<t))return e<t*1.5?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}(function(e,t){t=e.exports=i.debug=i.default=i,t.coerce=l,t.disable=o,t.enable=s,t.enabled=a,t.humanize=Cfe,t.names=[],t.skips=[],t.formatters={};var n;function r(c){var u=0,d;for(d in c)u=(u<<5)-u+c.charCodeAt(d),u|=0;return t.colors[Math.abs(u)%t.colors.length]}function i(c){function u(){if(u.enabled){var d=u,h=+new Date,p=h-(n||h);d.diff=p,d.prev=n,d.curr=h,n=h;for(var g=new Array(arguments.length),m=0;m<g.length;m++)g[m]=arguments[m];g[0]=t.coerce(g[0]),typeof g[0]!="string"&&g.unshift("%O");var _=0;g[0]=g[0].replace(/%([a-zA-Z%])/g,function(y,b){if(y==="%%")return y;_++;var x=t.formatters[b];if(typeof x=="function"){var S=g[_];y=x.call(d,S),g.splice(_,1),_--}return y}),t.formatArgs.call(d,g);var v=u.log||t.log||console.log.bind(console);v.apply(d,g)}}return u.namespace=c,u.enabled=t.enabled(c),u.useColors=t.useColors(),u.color=r(c),typeof t.init=="function"&&t.init(u),u}function s(c){t.save(c),t.names=[],t.skips=[];for(var u=(typeof c=="string"?c:"").split(/[\s,]+/),d=u.length,h=0;h<d;h++)u[h]&&(c=u[h].replace(/\*/g,".*?"),c[0]==="-"?t.skips.push(new RegExp("^"+c.substr(1)+"$")):t.names.push(new RegExp("^"+c+"$")))}function o(){t.enable("")}function a(c){var u,d;for(u=0,d=t.skips.length;u<d;u++)if(t.skips[u].test(c))return!1;for(u=0,d=t.names.length;u<d;u++)if(t.names[u].test(c))return!0;return!1}function l(c){return c instanceof Error?c.stack||c.message:c}})(V_,V_.exports);var Mfe=V_.exports;(function(e,t){var n={};t=e.exports=Mfe,t.log=s,t.formatArgs=i,t.save=o,t.load=a,t.useColors=r,t.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:l(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function r(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}t.formatters.j=function(c){try{return JSON.stringify(c)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}};function i(c){var u=this.useColors;if(c[0]=(u?"%c":"")+this.namespace+(u?" %c":" ")+c[0]+(u?"%c ":" ")+"+"+t.humanize(this.diff),!!u){var d="color: "+this.color;c.splice(1,0,d,"color: inherit");var h=0,p=0;c[0].replace(/%[a-zA-Z%]/g,function(g){g!=="%%"&&(h++,g==="%c"&&(p=h))}),c.splice(p,0,d)}}function s(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function o(c){try{c==null?t.storage.removeItem("debug"):t.storage.debug=c}catch{}}function a(){var c;try{c=t.storage.debug}catch{}return!c&&typeof process<"u"&&"env"in process&&(c=n.DEBUG),c}t.enable(a());function l(){try{return window.localStorage}catch{}}})(O_,O_.exports);var Pfe=O_.exports,L_={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=["cueVideoById","loadVideoById","cueVideoByUrl","loadVideoByUrl","playVideo","pauseVideo","stopVideo","getVideoLoadedFraction","cuePlaylist","loadPlaylist","nextVideo","previousVideo","playVideoAt","setShuffle","setLoop","getPlaylist","getPlaylistIndex","setOption","mute","unMute","isMuted","setVolume","getVolume","seekTo","getPlayerState","getPlaybackRate","setPlaybackRate","getAvailablePlaybackRates","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getCurrentTime","getDuration","removeEventListener","getVideoUrl","getVideoEmbedCode","getOptions","getOption","addEventListener","destroy","setSize","getIframe"],e.exports=t.default})(L_,L_.exports);var jfe=L_.exports,N_={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=["ready","stateChange","playbackQualityChange","playbackRateChange","error","apiChange","volumeChange"],e.exports=t.default})(N_,N_.exports);var Ofe=N_.exports,B_={exports:{}},$_={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default={BUFFERING:3,ENDED:0,PAUSED:2,PLAYING:1,UNSTARTED:-1,VIDEO_CUED:5},e.exports=t.default})($_,$_.exports);var Vfe=$_.exports;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=Vfe,r=i(n);function i(s){return s&&s.__esModule?s:{default:s}}t.default={pauseVideo:{acceptableStates:[r.default.ENDED,r.default.PAUSED],stateChangeRequired:!1},playVideo:{acceptableStates:[r.default.ENDED,r.default.PLAYING],stateChangeRequired:!1},seekTo:{acceptableStates:[r.default.ENDED,r.default.PLAYING,r.default.PAUSED],stateChangeRequired:!0,timeout:3e3}},e.exports=t.default})(B_,B_.exports);var Lfe=B_.exports;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=Pfe,r=u(n),i=jfe,s=u(i),o=Ofe,a=u(o),l=Lfe,c=u(l);function u(p){return p&&p.__esModule?p:{default:p}}var d=(0,r.default)("youtube-player"),h={};h.proxyEvents=function(p){var g={},m=function(E){var I="on"+E.slice(0,1).toUpperCase()+E.slice(1);g[I]=function(z){d('event "%s"',I,z),p.trigger(E,z)}},_=!0,v=!1,y=void 0;try{for(var b=a.default[Symbol.iterator](),x;!(_=(x=b.next()).done);_=!0){var S=x.value;m(S)}}catch(w){v=!0,y=w}finally{try{!_&&b.return&&b.return()}finally{if(v)throw y}}return g},h.promisifyPlayer=function(p){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,m={},_=function(I){g&&c.default[I]?m[I]=function(){for(var z=arguments.length,N=Array(z),D=0;D<z;D++)N[D]=arguments[D];return p.then(function(Q){var P=c.default[I],L=Q.getPlayerState(),M=Q[I].apply(Q,N);return P.stateChangeRequired||Array.isArray(P.acceptableStates)&&P.acceptableStates.indexOf(L)===-1?new Promise(function(T){var U=function j(){var $=Q.getPlayerState(),V=void 0;typeof P.timeout=="number"&&(V=setTimeout(function(){Q.removeEventListener("onStateChange",j),T()},P.timeout)),Array.isArray(P.acceptableStates)&&P.acceptableStates.indexOf($)!==-1&&(Q.removeEventListener("onStateChange",j),clearTimeout(V),T())};Q.addEventListener("onStateChange",U)}).then(function(){return M}):M})}:m[I]=function(){for(var z=arguments.length,N=Array(z),D=0;D<z;D++)N[D]=arguments[D];return p.then(function(Q){return Q[I].apply(Q,N)})}},v=!0,y=!1,b=void 0;try{for(var x=s.default[Symbol.iterator](),S;!(v=(S=x.next()).done);v=!0){var w=S.value;_(w)}}catch(E){y=!0,b=E}finally{try{!v&&x.return&&x.return()}finally{if(y)throw b}}return m},t.default=h,e.exports=t.default})(j_,j_.exports);var Nfe=j_.exports;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},r=bfe,i=c(r),s=Efe,o=c(s),a=Nfe,l=c(a);function c(d){return d&&d.__esModule?d:{default:d}}var u=void 0;t.default=function(d){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,g=(0,i.default)();if(u||(u=(0,o.default)(g)),h.events)throw new Error("Event handlers cannot be overwritten.");if(typeof d=="string"&&!document.getElementById(d))throw new Error('Element "'+d+'" does not exist.');h.events=l.default.proxyEvents(g);var m=new Promise(function(v){if((typeof d>"u"?"undefined":n(d))==="object"&&d.playVideo instanceof Function){var y=d;v(y)}else u.then(function(b){var x=new b.Player(d,h);return g.on("ready",function(){v(x)}),null})}),_=l.default.promisifyPlayer(m,p);return _.on=g.on,_.off=g.off,_},e.exports=t.default})(M_,M_.exports);var Bfe=M_.exports;const $fe=ur(Bfe);var Dfe=Object.defineProperty,Ffe=Object.defineProperties,zfe=Object.getOwnPropertyDescriptors,fR=Object.getOwnPropertySymbols,Ufe=Object.prototype.hasOwnProperty,Hfe=Object.prototype.propertyIsEnumerable,hR=(e,t,n)=>t in e?Dfe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,D_=(e,t)=>{for(var n in t||(t={}))Ufe.call(t,n)&&hR(e,n,t[n]);if(fR)for(var n of fR(t))Hfe.call(t,n)&&hR(e,n,t[n]);return e},F_=(e,t)=>Ffe(e,zfe(t)),Gfe=(e,t,n)=>new Promise((r,i)=>{var s=l=>{try{a(n.next(l))}catch(c){i(c)}},o=l=>{try{a(n.throw(l))}catch(c){i(c)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(s,o);a((n=n.apply(e,t)).next())});function qfe(e,t){var n,r;if(e.videoId!==t.videoId)return!0;const i=((n=e.opts)==null?void 0:n.playerVars)||{},s=((r=t.opts)==null?void 0:r.playerVars)||{};return i.start!==s.start||i.end!==s.end}function pR(e={}){return F_(D_({},e),{height:0,width:0,playerVars:F_(D_({},e.playerVars),{autoplay:0,start:0,end:0})})}function Wfe(e,t){return e.videoId!==t.videoId||!_fe(pR(e.opts),pR(t.opts))}function Kfe(e,t){var n,r,i,s;return e.id!==t.id||e.className!==t.className||((n=e.opts)==null?void 0:n.width)!==((r=t.opts)==null?void 0:r.width)||((i=e.opts)==null?void 0:i.height)!==((s=t.opts)==null?void 0:s.height)||e.iframeClassName!==t.iframeClassName||e.title!==t.title}var Yfe={videoId:"",id:"",className:"",iframeClassName:"",style:{},title:"",loading:void 0,opts:{},onReady:()=>{},onError:()=>{},onPlay:()=>{},onPause:()=>{},onEnd:()=>{},onStateChange:()=>{},onPlaybackRateChange:()=>{},onPlaybackQualityChange:()=>{}},Qfe={videoId:Qe.string,id:Qe.string,className:Qe.string,iframeClassName:Qe.string,style:Qe.object,title:Qe.string,loading:Qe.oneOf(["lazy","eager"]),opts:Qe.objectOf(Qe.any),onReady:Qe.func,onError:Qe.func,onPlay:Qe.func,onPause:Qe.func,onEnd:Qe.func,onStateChange:Qe.func,onPlaybackRateChange:Qe.func,onPlaybackQualityChange:Qe.func},eg=class extends Te.Component{constructor(e){super(e),this.destroyPlayerPromise=void 0,this.onPlayerReady=t=>{var n,r;return(r=(n=this.props).onReady)==null?void 0:r.call(n,t)},this.onPlayerError=t=>{var n,r;return(r=(n=this.props).onError)==null?void 0:r.call(n,t)},this.onPlayerStateChange=t=>{var n,r,i,s,o,a,l,c;switch((r=(n=this.props).onStateChange)==null||r.call(n,t),t.data){case eg.PlayerState.ENDED:(s=(i=this.props).onEnd)==null||s.call(i,t);break;case eg.PlayerState.PLAYING:(a=(o=this.props).onPlay)==null||a.call(o,t);break;case eg.PlayerState.PAUSED:(c=(l=this.props).onPause)==null||c.call(l,t);break}},this.onPlayerPlaybackRateChange=t=>{var n,r;return(r=(n=this.props).onPlaybackRateChange)==null?void 0:r.call(n,t)},this.onPlayerPlaybackQualityChange=t=>{var n,r;return(r=(n=this.props).onPlaybackQualityChange)==null?void 0:r.call(n,t)},this.destroyPlayer=()=>this.internalPlayer?(this.destroyPlayerPromise=this.internalPlayer.destroy().then(()=>this.destroyPlayerPromise=void 0),this.destroyPlayerPromise):Promise.resolve(),this.createPlayer=()=>{if(typeof document>"u")return;if(this.destroyPlayerPromise){this.destroyPlayerPromise.then(this.createPlayer);return}const t=F_(D_({},this.props.opts),{videoId:this.props.videoId});this.internalPlayer=$fe(this.container,t),this.internalPlayer.on("ready",this.onPlayerReady),this.internalPlayer.on("error",this.onPlayerError),this.internalPlayer.on("stateChange",this.onPlayerStateChange),this.internalPlayer.on("playbackRateChange",this.onPlayerPlaybackRateChange),this.internalPlayer.on("playbackQualityChange",this.onPlayerPlaybackQualityChange),(this.props.title||this.props.loading)&&this.internalPlayer.getIframe().then(n=>{this.props.title&&n.setAttribute("title",this.props.title),this.props.loading&&n.setAttribute("loading",this.props.loading)})},this.resetPlayer=()=>this.destroyPlayer().then(this.createPlayer),this.updatePlayer=()=>{var t;(t=this.internalPlayer)==null||t.getIframe().then(n=>{this.props.id?n.setAttribute("id",this.props.id):n.removeAttribute("id"),this.props.iframeClassName?n.setAttribute("class",this.props.iframeClassName):n.removeAttribute("class"),this.props.opts&&this.props.opts.width?n.setAttribute("width",this.props.opts.width.toString()):n.removeAttribute("width"),this.props.opts&&this.props.opts.height?n.setAttribute("height",this.props.opts.height.toString()):n.removeAttribute("height"),this.props.title?n.setAttribute("title",this.props.title):n.setAttribute("title","YouTube video player"),this.props.loading?n.setAttribute("loading",this.props.loading):n.removeAttribute("loading")})},this.getInternalPlayer=()=>this.internalPlayer,this.updateVideo=()=>{var t,n,r,i;if(typeof this.props.videoId>"u"||this.props.videoId===null){(t=this.internalPlayer)==null||t.stopVideo();return}let s=!1;const o={videoId:this.props.videoId};if((n=this.props.opts)!=null&&n.playerVars&&(s=this.props.opts.playerVars.autoplay===1,"start"in this.props.opts.playerVars&&(o.startSeconds=this.props.opts.playerVars.start),"end"in this.props.opts.playerVars&&(o.endSeconds=this.props.opts.playerVars.end)),s){(r=this.internalPlayer)==null||r.loadVideoById(o);return}(i=this.internalPlayer)==null||i.cueVideoById(o)},this.refContainer=t=>{this.container=t},this.container=null,this.internalPlayer=null}componentDidMount(){this.createPlayer()}componentDidUpdate(e){return Gfe(this,null,function*(){Kfe(e,this.props)&&this.updatePlayer(),Wfe(e,this.props)&&(yield this.resetPlayer()),qfe(e,this.props)&&this.updateVideo()})}componentWillUnmount(){this.destroyPlayer()}render(){return Te.createElement("div",{className:this.props.className,style:this.props.style},Te.createElement("div",{id:this.props.id,className:this.props.iframeClassName,ref:this.refContainer}))}},ov=eg;ov.propTypes=Qfe;ov.defaultProps=Yfe;ov.PlayerState={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5};var Is=ov;function Jfe(e){const[t,n]=A.useState(1);return A.useEffect(()=>{if(e===Is.PlayerState.UNSTARTED){const r=setTimeout(()=>{n(i=>i+1)},5e3+t*2500);return()=>{clearTimeout(r)}}}),t}function Xfe(e,t){A.useEffect(()=>{if(t===Is.PlayerState.BUFFERING){const n=setInterval(async()=>{var r,i,s;if(navigator.onLine){clearInterval(n);const o=await((r=e.current)==null?void 0:r.getInternalPlayer().getCurrentTime());(s=(i=e.current)==null?void 0:i.getInternalPlayer())==null||s.seekTo(Math.max(o-2,0),!0)}},500);return()=>{clearInterval(n)}}})}function Zfe(e,t){return Xfe(e,t),Jfe(t)}var Tn=(e=>(e.UNSTARTED="UNSTARTED",e.ENDED="ENDED",e.PLAYING="PLAYING",e.PAUSED="PAUSED",e.BUFFERING="BUFFERING",e.CUED="CUED",e))(Tn||{});const ehe={[Is.PlayerState.UNSTARTED]:"UNSTARTED",[Is.PlayerState.ENDED]:"ENDED",[Is.PlayerState.PLAYING]:"PLAYING",[Is.PlayerState.PAUSED]:"PAUSED",[Is.PlayerState.BUFFERING]:"BUFFERING",[Is.PlayerState.CUED]:"CUED"},the=A.forwardRef(function({video:t,autoplay:n,startAt:r,controls:i,disablekb:s,volume:o,width:a,height:l,onStateChange:c},u){const d=A.useRef(null),[h,p]=A.useState(Is.PlayerState.UNSTARTED),g=Zfe(d,h);return yfe(d,o),A.useEffect(()=>{d.current&&d.current.getInternalPlayer().setSize(a,l)},[d,a,l,t,g]),A.useImperativeHandle(u,()=>({setSize:(m,_)=>{var v;return(v=d.current)==null?void 0:v.getInternalPlayer().setSize(m,_)},seekTo:m=>{var _;return(_=d.current)==null?void 0:_.getInternalPlayer().seekTo(m,!0)},setPlaybackSpeed:m=>{var _;return(_=d.current)==null?void 0:_.getInternalPlayer().setPlaybackRate(m)},setVolume:m=>{var _;return(_=d.current)==null?void 0:_.getInternalPlayer().setVolume(m)},getCurrentTime:()=>{var m;return(m=d.current)==null?void 0:m.getInternalPlayer().getCurrentTime()},loadVideoById:m=>{var _;return(_=d.current)==null?void 0:_.getInternalPlayer().loadVideoById(m)},playVideo:()=>{var m;(m=d.current)==null||m.getInternalPlayer().playVideo()},pauseVideo:()=>{var m;return(m=d.current)==null?void 0:m.getInternalPlayer().pauseVideo()},getDuration:()=>{var m;return(m=d.current)==null?void 0:m.getInternalPlayer().getDuration()}})),f.jsx(Is,{title:" ",ref:d,videoId:t,opts:{width:"0",height:"0",playerVars:{autoplay:n?1:0,rel:0,fs:0,controls:i?1:0,start:r??0,end:0,disablekb:s?1:0,modestbranding:1}},onStateChange:m=>{p(m.data),c==null||c(ehe[m.data])}},`${t}-${g}`)}),nhe=A.forwardRef(function({video:t,autoplay:n,startAt:r,controls:i,disablekb:s,volume:o,width:a,height:l,onStateChange:c},u){const d=A.useRef(null),[h,p]=A.useState({w:a,h:l}),[g,m]=A.useState(Tn.UNSTARTED);A.useEffect(()=>{const v=w=>()=>m(w),y=d.current,b=v(Tn.PLAYING),x=v(Tn.PAUSED),S=v(Tn.ENDED);return y==null||y.addEventListener("playing",b),y==null||y.addEventListener("pause",x),y==null||y.addEventListener("ended",S),()=>{y==null||y.removeEventListener("playing",b),y==null||y.removeEventListener("pause",x),y==null||y.removeEventListener("ended",S)}},[d.current,m]),A.useEffect(()=>{c==null||c(g)},[g,c]);const _=A.useMemo(()=>({setSize:(v,y)=>p({w:v,h:y}),seekTo:v=>(d.current&&(d.current.currentTime=v),v),setPlaybackSpeed:v=>{d.current&&(d.current.playbackRate=v)},setVolume:()=>{},getCurrentTime:()=>{var v;return Promise.resolve(((v=d.current)==null?void 0:v.currentTime)??0)},loadVideoById:()=>{},playVideo:()=>{var v;return(v=d.current)==null?void 0:v.play()},pauseVideo:()=>{var v;return(v=d.current)==null?void 0:v.pause()},getDuration:()=>{var v;return Promise.resolve(((v=d.current)==null?void 0:v.duration)??0)}}),[d]);return A.useEffect(()=>{_.setSize(a,l)},[a,l,_]),A.useEffect(()=>{r!==void 0&&_.seekTo(r)},[r,_]),A.useImperativeHandle(u,()=>_),f.jsx("video",{width:h.w,height:h.h,autoPlay:n??!0,controls:i,ref:d,children:f.jsx("source",{src:t})})}),rhe="/prs/275/assets/dummy-BNC13ZxI.mp4",ihe=A.forwardRef(function({video:t,controls:n,...r},i){return f.jsx(nhe,{ref:i,video:rhe,controls:!0,...r})});var she={VITE_APP_SENTRY_DSN_URL:"https://66c6e940d24b4096a277f350571921bb@o366978.ingest.sentry.io/6174734",VITE_APP_POSTHOG_KEY:"phc_bw7XLoONmtGVezmMKTvcwk3lj37jzxTfisqzjlJ0Jik",VITE_APP_BACKEND_HOST:"backend.allkaraoke.party",VITE_APP_WEBSOCKET_URL:"wss://backend.allkaraoke.party",VITE_APP_SENTRY_TUNNEL:"https://backend.allkaraoke.party/sentry",VITE_APP_POSTHOG_PROXY:"https://backend.allkaraoke.party/posthog",VITE_APP_SONG_CONVERT_PROXY:"https://backend.allkaraoke.party/proxy",VITE_CJS_IGNORE_WARNING:"true",VITE_APP_PRERENDER:"true",BASE_URL:"/prs/275/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const jw=A.forwardRef((e,t)=>she.VITE_APP_OFFLINE?f.jsx(ihe,{...e,ref:t}):f.jsx(the,{...e,ref:t})),gR=()=>({width:global.document.body.clientWidth,height:global.visualViewport.height});function gh(){const[e,t]=A.useState(gR()),n=A.useCallback(xc(()=>{t(gR())},1e3),[]);return A.useEffect(()=>(global.addEventListener("resize",n),n(),()=>global.removeEventListener("resize",n)),[]),{...e,handleResize:n}}function gN({songData:e,background:t,width:n,height:r,children:i,...s}){return f.jsxs(ohe,{video:e.video,width:n,height:r,...s,children:[f.jsx(lhe,{video:e.video,blur:!0}),t&&f.jsx(mN,{children:t}),f.jsx(che,{children:f.jsxs(uhe,{children:[f.jsx(dhe,{children:e.title}),f.jsx("br",{}),f.jsx(fhe,{children:e.artist}),f.jsx("br",{}),e.author&&f.jsxs(hhe,{children:["by",e.authorUrl?f.jsx("a",{href:e.authorUrl,children:e.author}):e.author]}),i]})})]})}const ohe=C("div",{target:"e1kx27c8"})("width:",e=>e.width,"px;top:0;height:",e=>e.height,"px;overflow-y:hidden;background:black;position:relative;"),mN=C("div",{target:"e1kx27c7"})({name:"1vuuxha",styles:"z-index:1;top:0;left:0;position:absolute;width:100%;height:100%"}),ahe=C(mN,{target:"e1kx27c6"})("background-size:cover;background-position:center center;filter:",e=>e.blur?"blur(0.5rem)":"none",";"),lhe=e=>f.jsx(ahe,{style:{backgroundImage:`url('https://i3.ytimg.com/vi/${e.video}/hqdefault.jpg')`},...e}),che=C("div",{target:"e1kx27c5"})({name:"11t99gq",styles:"z-index:2;top:0;left:0;width:100%;height:100%;position:absolute;pointer-events:none"}),uhe=C("div",{target:"e1kx27c4"})({name:"t7r80e",styles:"position:relative;margin:0 auto;color:white;max-width:144rem;height:100%;pointer-events:none"}),av=C("span",{target:"e1kx27c3"})("background:rgba(0, 0, 0, 0.5);display:inline-block;backdrop-filter:blur(0.5rem);",$e,";padding:0.5rem 2rem;margin:0 0 1rem 0;"),dhe=C(av,{target:"e1kx27c2"})("color:",pe.colors.text.active,";margin-top:2rem;font-size:4.5rem;"),fhe=C(av,{target:"e1kx27c1"})({name:"tic7nk",styles:"font-size:3.5rem"}),hhe=C(av,{target:"e1kx27c0"})({name:"a07gmx",styles:"font-size:2rem"});function phe(e){var h;ma(!1),ba(!1);const t=qr(),{width:n,height:r}=gh(),[i,s]=A.useState(0),o=ph(),[a,l]=A.useState([]),{register:c}=zn({onBackspace:()=>t("menu/")});A.useEffect(()=>o.data&&l(mfe(o.data)),[o.data]);const u=()=>o.data&&s(p=>(p+1)%o.data.length);if(!a.length||!n||!r)return null;const d=dm("game/",{song:a[i].id,playlist:"All"});return f.jsxs(Mo,{children:[f.jsx(hi,{children:f.jsx("title",{children:"Jukebox | AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsx(Pw,{children:f.jsxs(gN,{width:n,height:r,songData:a[i],"data-test":"jukebox-container","data-song":a[i].id,background:f.jsx(jw,{autoplay:!0,controls:!0,width:n,height:r,volume:(h=a[i])==null?void 0:h.volume,video:a[i].video,startAt:a[i].videoGap,onStateChange:p=>{p===Tn.ENDED&&u()}}),children:[f.jsx(mhe,{...c("skip-button",u),children:"Skip"}),f.jsx(Tr,{to:d,children:f.jsx(ghe,{...c("sing-button",()=>t(d),void 0,!0),children:"Sing this song"})})]})})]})}const ghe=C(As,{target:"e1573hk21"})({name:"9gmhgo",styles:"bottom:7rem;right:2rem;width:50rem;position:absolute;font-size:1.9vw"}),mhe=C(As,{target:"e1573hk20"})({name:"1qbm012",styles:"bottom:15rem;right:2rem;width:30rem;position:absolute;font-size:1.9vw"}),vhe=C("h1",{target:"enucs171"})({name:"8n9pib",styles:"display:flex;justify-content:center;align-items:center;position:relative"}),yhe=C("svg",{target:"enucs170"})({name:"1x5387l",styles:"--curve:cubic-bezier(0.65, 0, 0.45, 1);--green:#4caf50;margin-right:1rem;width:5rem;height:5rem;border-radius:50%;display:block;stroke-width:2;stroke:#fff;stroke-miterlimit:10;box-shadow:inset 0px 0px 0px var(--green);animation:fill 0.4s ease-in-out 0.4s forwards,scale 0.3s ease-in-out 0.9s both;.checkmark__circle{stroke-dasharray:166;stroke-dashoffset:166;stroke-width:2;stroke-miterlimit:10;stroke:var(--green);fill:none;animation:stroke 0.6s var(--curve) forwards;}.checkmark__check{transform-origin:50% 50%;stroke-dasharray:48;stroke-dashoffset:48;animation:stroke 0.3s var(--curve) 0.8s forwards;}@keyframes stroke{100%{stroke-dashoffset:0;}}@keyframes scale{0%,100%{transform:none;}50%{transform:scale3d(1.1, 1.1, 1);}}@keyframes fill{100%{box-shadow:inset 0px 0px 0px 3rem var(--green);}}"}),Ahe=e=>f.jsx(yhe,{...e,children:f.jsxs("svg",{className:"checkmark",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 52 52",children:[f.jsx("circle",{className:"checkmark__circle",cx:"26",cy:"26",r:"25",fill:"none"}),f.jsx("path",{className:"checkmark__check",fill:"none",d:"M14.1 27.2l7.1 7.2 16.7-16.8"})]})});var Ow={},_he=st;Object.defineProperty(Ow,"__esModule",{value:!0});var Ud=Ow.default=void 0,bhe=_he(ct()),qy=f;Ud=Ow.default=(0,bhe.default)([(0,qy.jsx)("path",{fillRule:"evenodd",d:"M16.67 13.13C18.04 14.06 19 15.32 19 17v3h4v-3c0-2.18-3.57-3.47-6.33-3.87"},"0"),(0,qy.jsx)("circle",{cx:"9",cy:"8",r:"4",fillRule:"evenodd"},"1"),(0,qy.jsx)("path",{fillRule:"evenodd",d:"M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4c-.47 0-.91.1-1.33.24C14.5 5.27 15 6.58 15 8s-.5 2.73-1.33 3.76c.42.14.86.24 1.33.24m-6 1c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4"},"2")],"PeopleAlt");var Vw={},She=st;Object.defineProperty(Vw,"__esModule",{value:!0});var z_=Vw.default=void 0,xhe=She(ct()),whe=f;z_=Vw.default=(0,xhe.default)((0,whe.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"Person");var Lw={},Ehe=st;Object.defineProperty(Lw,"__esModule",{value:!0});var tg=Lw.default=void 0,khe=Ehe(ct()),Che=f;tg=Lw.default=(0,khe.default)((0,Che.jsx)("path",{d:"M15.5 1h-8C6.12 1 5 2.12 5 3.5v17C5 21.88 6.12 23 7.5 23h8c1.38 0 2.5-1.12 2.5-2.5v-17C18 2.12 16.88 1 15.5 1m-4 21c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m4.5-4H7V4h9z"}),"PhoneIphone");var Nw={},The=st;Object.defineProperty(Nw,"__esModule",{value:!0});var vN=Nw.default=void 0,Ihe=The(ct()),mR=f;vN=Nw.default=(0,Ihe.default)([(0,mR.jsx)("circle",{cx:"12",cy:"12",r:"3.2"},"0"),(0,mR.jsx)("path",{d:"M9 2 7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5"},"1")],"PhotoCamera");var Bw={},Rhe=st;Object.defineProperty(Bw,"__esModule",{value:!0});var yN=Bw.default=void 0,Mhe=Rhe(ct()),Phe=f;yN=Bw.default=(0,Mhe.default)((0,Phe.jsx)("path",{d:"M3 11h8V3H3zm2-6h4v4H5zM3 21h8v-8H3zm2-6h4v4H5zm8-12v8h8V3zm6 6h-4V5h4zm0 10h2v2h-2zm-6-6h2v2h-2zm2 2h2v2h-2zm-2 2h2v2h-2zm2 2h2v2h-2zm2-2h2v2h-2zm0-4h2v2h-2zm2 2h2v2h-2z"}),"QrCode");const AN=C("span",{target:"ejt1whd0"})("position:absolute;transform:translate(40%, -50%);top:0;right:0;background:",pe.colors.text.active,";font-size:1.5rem;",$e,";color:",pe.colors.text.default,";padding:0.5rem 1rem;border-radius:1.5rem;");function jhe({onPreferenceSelected:e,previouslySelected:t,onBack:n,skipText:r}){const[i]=De(dr),{register:s}=zn({onBackspace:n});return f.jsxs(f.Fragment,{children:[f.jsxs(gp,{...s("remote-mics",()=>e("remoteMics"),void 0,t==="remoteMics"),children:[f.jsxs(hd,{children:[f.jsx(uw,{}),f.jsx(tg,{})]}),f.jsxs("div",{children:[i?"Connect other phones":"Use Smartphones",f.jsxs(fd,{children:["Use"," ",f.jsxs("strong",{children:[f.jsx(vN,{}),"Camera app"]})," ","to scan a"," ",f.jsxs("strong",{children:[f.jsx(yN,{})," QR code"]})," ","that will open Remote Mic website - no need to download an app!"]})]}),f.jsx(AN,{children:"Recommended"}),f.jsxs(pp,{children:[f.jsx(Ud,{}),f.jsx("strong",{children:"1-4"})]})]}),f.jsxs(gp,{...s("built-in",()=>e("built-in"),void 0,t==="built-in"),children:[f.jsxs(hd,{children:[f.jsx(z_,{}),i?f.jsx(tg,{}):f.jsx(lw,{})]}),f.jsxs("div",{children:["This ",i?"device's":"computer's"," microphone",f.jsxs(fd,{children:["Great to ",f.jsx("strong",{children:"test"})," the app, ",f.jsx("strong",{children:"sing alone"})," or don't care about the rivalry at the party"]})]}),f.jsxs(pp,{children:[f.jsx(z_,{}),f.jsx("strong",{children:"1"})]})]}),f.jsx("hr",{}),!i&&f.jsxs(gp,{...s("multiple-mics",()=>e("multiple-mics"),void 0,t==="multiple-mics"),children:[f.jsxs(hd,{children:[f.jsx(E_,{}),f.jsx(xL,{})]}),f.jsxs("div",{children:["Multiple microphones",f.jsxs(fd,{children:["Use either ",f.jsx("strong",{children:"SingStar"})," or ",f.jsx("strong",{children:"multiple microphones"})," connected to the device for each player"]})]}),f.jsxs(pp,{children:[f.jsx(Ud,{}),f.jsx("strong",{children:"2"})]})]}),f.jsxs(gp,{...s("advanced",()=>e("advanced"),void 0,t==="advanced"),children:[f.jsxs(hd,{children:[f.jsx(E_,{}),f.jsx(tg,{})]}),f.jsxs("div",{children:["Advanced (manual) setup",f.jsx(fd,{children:"Assign the specific device to a player manually, e.g. if you don't have regular SingStar microphones."})]}),f.jsxs(pp,{children:[f.jsx(Ud,{}),f.jsx("strong",{children:"1-4"})]})]}),f.jsx("hr",{}),f.jsx(Tr,{to:"menu/",onClick:o=>{o==null||o.preventDefault(),e("skip")},children:f.jsx(Re,{...s("skip",()=>e("skip"),void 0,t==="skip"),children:r||"Skip"})})]})}const pp=C("div",{target:"eb2r3ii3"})($e,";position:absolute;inset:auto 0.5rem 0.5rem auto;svg{font-size:0.9em;}gap:0.5rem;display:flex;align-items:center;justify-content:flex-end;"),fd=C("div",{target:"eb2r3ii2"})({name:"4vipg7",styles:"padding:0 3rem 0 6rem;font-size:1.6rem;max-height:0;overflow:clip;transition:300ms;svg{font-size:1.4rem;}opacity:0"}),hd=C("div",{target:"eb2r3ii1"})("position:relative;margin:0rem 0.6rem 0 2.5rem;transition:300ms;svg{transition:300ms;width:3.6rem;height:3.6rem;color:",pe.colors.players[1].text,";}svg:first-of-type{top:0.6rem;left:1.25rem;position:absolute;color:",pe.colors.players[0].text,";z-index:100;transform:scaleX(-1);}"),gp=C(Re,{target:"eb2r3ii0"})("position:relative;display:flex;align-items:center;&:hover,&[data-focused='true']{height:16.5rem;background:black;",Yc,";",fd,"{padding-top:1.6rem;max-height:10rem;opacity:1;opacity:1;}",hd,"{transform:scale(1.75);}}");function _N(){var e,t;return((t=(e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.includes)==null?void 0:t.call(e,"Win"))??!1}const $w=(e,t,n=!0,r=1e3/qa.get())=>{A.useEffect(()=>{if(!n)return;const i=setInterval(()=>{const s=fn.getPlayerVolume(e)??0,o=fn.getPlayerFrequency(e)??0;t([s,Array.isArray(o)?o[0]:o])},r);return()=>{clearInterval(i)}},[e,r,t,n])},Ohe=(e,t=1e3/qa.get(),n)=>{const[r,i]=A.useState([0,0]);return $w(e,i,!0,t),A.useEffect(()=>{n&&n(r)},[r,n]),r},bN=e=>A.useMemo(()=>{if(!pe.colors.players[e])return"0, 0, 0";const t=de(pe.colors.players[e].text).toRgb();return`${t.r}, ${t.g}, ${t.b}`},[e]),SN=C("div",{target:"eq7cjwi0"})({name:"5jivz6",styles:"height:100%;width:100%;position:absolute;right:0;top:0;background-repeat:repeat-y;transform-origin:right;z-index:1;pointer-events:none"}),Vhe=A.forwardRef(({volume:e,playerNumber:t,...n},r)=>{const i=`${Math.min(1,e*20)}`,s=bN(t);return Me.getPlayer(t)?f.jsx(SN,{...n,style:{transform:`scaleX(${i})`,background:`linear-gradient(270deg, rgba(${s}, 1) 0%, rgba(${s}, 0) 100%)`},ref:r}):null}),Dw=({playerNumber:e,...t})=>{const[n,r]=A.useState(),i=A.useCallback(([o])=>{if(n){const a=`${Math.min(1,o*20)}`;n.style.transform=`scaleX(${a})`}},[n]);$w(e,i);const s=bN(e);return f.jsx(SN,{...t,ref:r,style:{background:`linear-gradient(270deg, rgba(${s}, 1) 0%, rgba(${s}, 0) 100%)`}})};function Lhe(e,t){const n=Object.keys(t),[r,i]=Fi([te.playerInputChanged,te.inputListChanged],()=>{var l;const a=(l=Me.getPlayer(e))==null?void 0:l.input;return a?[a,vo.getInputForPlayerSelected(a)]:[null,null]});A.useEffect(()=>{var a;if(i===null){const l=n[0],c=t[l].getDefault();c&&((a=Me.getPlayer(e))==null||a.changeInput(n[0],c.channel,c.deviceId))}});const s=a=>{var u;const l=Ja(n,(r==null?void 0:r.source)??n[0]),c=a!==void 0?t[l].list[a]:t[l].getDefault();(u=Me.getPlayer(e))==null||u.changeInput(l,c==null?void 0:c.channel,c==null?void 0:c.deviceId)},o=()=>{var u;if(!r)return;const a=t[r.source].list,l=i?a.findIndex(d=>d.id===i.id):0,c=fh(a,l);if(c===0)s(0);else{const d=a[c];(u=Me.getPlayer(e))==null||u.changeInput(r.source,d==null?void 0:d.channel,d==null?void 0:d.deviceId)}};return[(r==null?void 0:r.source)??null,s,i,o]}const xN=e=>{const t=e.player,[n,r,i,s]=Lhe(t.number,e.inputs);return f.jsxs(f.Fragment,{children:[e.blockSourceChange?f.jsxs(Dhe,{children:[f.jsxs("h3",{className:"ph-no-capture",children:[t.getName()," Input"]}),f.jsx("h4",{children:"(click to change)"})]}):f.jsx($he,{...e.readonly?{}:e.register(`player-${t.number}-source`,()=>r()),label:f.jsxs("span",{className:"ph-no-capture",children:[t.getName()," Source"]}),value:n,disabled:e.readonly}),f.jsx(Bhe,{...e.readonly?{}:e.register(`player-${t.number}-input`,s),label:"Input",disabled:e.readonly,value:i==null?void 0:i.label,children:f.jsx(Nhe,{playerNumber:t.number})})]})},Nhe=C(Dw,{target:"e6monco3"})({name:"1vx2200",styles:"opacity:0.75;width:50%;height:calc(100% - 0.5rem);margin:0.25rem"}),Bhe=C(ni,{target:"e6monco2"})({name:"bjn8wh",styles:"position:relative"}),$he=C(ni,{target:"e6monco1"})({name:"bigtx2",styles:"background:none"}),Dhe=C("div",{target:"e6monco0"})({name:"1laz9o6",styles:"display:flex;justify-content:space-between;align-items:flex-end"});function lv(e=!1,t){const n=Fi(te.inputListChanged,()=>{const r={...vo.getInputList()};if(t)return{[t]:r[t]};for(const i in r)r[i].list.length===0&&delete r[i];return r});return A.useEffect(()=>{e&&vo.loadMics()},[e]),n}function mh(e,t=Cg){A.useEffect(()=>{Me.setMinPlayerNumber(e);const n=Me.getPlayers();if(n.length>t)for(let r=n.length;r>t;r--)Me.removePlayer(n[r-1].number);else if(n.length<e){const r=Me.getPlayers().map(s=>s.number),i=Array.from(Array(Cg).keys()).filter(s=>!r.includes(s));console.log(i,r);for(let s=n.length;s<e;s++)Me.addPlayer(i.shift())}},[])}function wN(){const e=A.useRef(0);di(te.remoteMicConnected,({id:t})=>{var r;console.log("useRemoteMicAutoselect",t);const n=Me.getPlayer(e.current);n?n.changeInput(mo.inputName,0,t):(r=Me.addPlayer(e.current))==null||r.changeInput(mo.inputName,0,t),e.current=(e.current+1)%Cg})}function Fhe(e){mh(2);const t=lv(!0),n=sw();A.useEffect(()=>{e.onSetupComplete(n==="accepted")},[n]),wN();const{register:r}=zn({onBackspace:e.onBack}),s=Fi(te.playerInputChanged,()=>Me.getInputs()).filter(a=>a.source===uo.inputName),o=Fi([te.inputListChanged,te.playerInputChanged,te.playerRemoved],()=>Me.getPlayers());return f.jsxs(f.Fragment,{children:[f.jsxs(dh,{fallback:f.jsx("h2",{children:"Please allow access to the microphone so we can show them."}),children:[f.jsx(ew,{}),o.map((a,l)=>f.jsx(xN,{inputs:t,player:a,register:r,readonly:l>1},a.number)),f.jsx("hr",{}),s.length>1&&Iw()&&_N()&&f.jsxs("h3",{children:[f.jsx("strong",{children:"Chrome"})," is known for not handling SingStar mics well. If you notice any problems, try using an alternative browser (eg. ",f.jsx("strong",{children:"MS Edge"})," or ",f.jsx("strong",{children:"Firefox"}),")"]})]}),f.jsx(Re,{...r("back-button",e.onBack),children:"Change Input Type"}),f.jsx(Re,{...r("save-button",e.onSave),children:e.closeButtonText})]})}var Fw={},zhe=st;Object.defineProperty(Fw,"__esModule",{value:!0});var EN=Fw.default=void 0,Uhe=zhe(ct()),Hhe=f;EN=Fw.default=(0,Uhe.default)((0,Hhe.jsx)("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check");var zw={},Ghe=st;Object.defineProperty(zw,"__esModule",{value:!0});var Uw=zw.default=void 0,qhe=Ghe(ct()),Whe=f;Uw=zw.default=(0,qhe.default)((0,Whe.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-2h2zm0-4h-2V7h2z"}),"Error");function Hw({names:e}){return f.jsx(Khe,{children:Me.getPlayers().map(t=>f.jsxs(Yhe,{"data-test":`mic-check-p${t.number}`,children:[f.jsx(Dw,{playerNumber:t.number}),f.jsx("span",{className:"ph-no-capture",children:(e==null?void 0:e[t.number])??t.getName()})]},t.number))})}const Khe=C("div",{target:"e1e3gceh1"})({name:"e7x0p4",styles:"display:flex;gap:1.25rem;div{flex:1;}"}),Yhe=C("div",{target:"e1e3gceh0"})({name:"186bnmk",styles:"position:relative;border:0.1rem solid white;padding:1rem 3rem;background:black;text-align:center;gap:1.25rem;font-size:2.3rem;color:white"});function Qhe(e){const[t,n]=A.useState(null),r=A.useRef([]),i=A.useRef(0),s=A.useCallback(([o])=>{if(r.current.push(o),r.current.length>35){const l=r.current.sort()[Math.floor(r.current.length/2)]>0;l||i.current>7?n(l):i.current++,r.current.length=0}},[e]);return $w(0,s,t!==!0),A.useEffect(()=>{r.current.length=0,i.current=0,n(null)},[e]),t}function Jhe(e){mh(1,1);const{register:t}=zn({onBackspace:e.onBack}),{Microphone:n}=lv(!0,"Microphone"),r=Fi([te.playerInputChanged,te.inputListChanged],()=>{var u;const l=Me.getInputs().find(d=>d.source==="Microphone"),c=vo.getInputList().Microphone.list;return l?((u=c.find(d=>d.id===al(l)))==null?void 0:u.label)??"":""}),i=l=>{Me.getPlayers().forEach(c=>c.changeInput(uo.inputName,l.channel,l.deviceId))},s=()=>{if(r===""){const l=n.getDefault();l&&i(l)}};A.useEffect(s,[]),di([te.inputListChanged,te.playerRemoved],s);const o=()=>{const l=n.list.findIndex(c=>c.label===r);if(l>-1){const c=n.list[fh(n.list,l)];i(c)}},a=Qhe(r);return A.useEffect(()=>{e.onSetupComplete(!!r&&!!a)},[r,a]),f.jsxs(f.Fragment,{children:[f.jsxs(dh,{fallback:f.jsx("h2",{children:"Please allow access to the microphone so the default one can be selected."}),children:[!r&&f.jsx("h3",{children:"The default device is being selected."}),r&&f.jsxs(f.Fragment,{children:[f.jsxs(Xhe,{children:[f.jsx("h3",{children:"You'll sing using"}),f.jsx("h4",{children:"(click to change)"})]}),f.jsx(ni,{...t("selected-mic",o),label:"Mic",value:r}),f.jsxs(Zhe,{children:[a===!0&&f.jsxs(f.Fragment,{children:[f.jsx("h3",{children:"Microphone is audible"}),f.jsx(Wy,{children:f.jsx(tpe,{})})]}),a===!1&&f.jsxs(f.Fragment,{children:[f.jsx("h3",{children:"Microphone is not audible"}),f.jsx(Wy,{children:f.jsx(epe,{})})]}),a===null&&f.jsxs(f.Fragment,{children:[f.jsx("h3",{children:"Make some noise to the microphone"}),f.jsx(Wy,{children:f.jsx(hh,{size:"1em"})})]})]}),a===!1&&f.jsx("h4",{children:"Make some noise to the microphone. If that doesn't work, try using another microphone."})]}),f.jsx(Hw,{}),a===!0&&f.jsxs("h4",{children:["Built-in microphones can pick up music from the game. For more accurate scores, try using your"," ",f.jsx("button",{onClick:()=>e.changePreference("remoteMics"),children:"smartphone as a microphone"}),"."]})]}),f.jsx(Re,{...t("back-button",e.onBack),children:"Change Input Type"}),f.jsx(Re,{...t("save-button",e.onSave,void 0,!0,{disabled:!r}),disabled:!r,children:e.closeButtonText})]})}const Xhe=C("div",{target:"e19x30ho4"})({name:"1laz9o6",styles:"display:flex;justify-content:space-between;align-items:flex-end"}),Zhe=C("div",{target:"e19x30ho3"})({name:"19mh0x6",styles:"display:flex;align-items:center;justify-content:flex-end"}),Wy=C("div",{target:"e19x30ho2"})({name:"1wxh51d",styles:"width:4rem;height:3rem;display:flex;align-items:center;justify-content:flex-end"}),epe=C(Uw,{target:"e19x30ho1"})({name:"72zlrs",styles:"&&{width:2em;height:2em;}color:red"}),tpe=C(EN,{target:"e19x30ho0"})({name:"17t2lqr",styles:"&&{width:2em;height:2em;}color:white"});function npe(e){mh(2);const t=lv(!0,"Microphone"),n=sw();A.useEffect(()=>{e.onSetupComplete(n==="accepted")},[n]),A.useEffect(()=>{Me.getPlayers().forEach(s=>{s.input.source!=="Microphone"&&s.changeInput("Microphone",0)})},[]);const{register:r}=zn({onBackspace:e.onBack}),i=Fi([te.inputListChanged,te.playerInputChanged,te.playerRemoved],()=>Me.getPlayers());return f.jsxs(f.Fragment,{children:[f.jsxs(dh,{fallback:f.jsx("h2",{children:"Please allow access to the microphone so we can show them."}),children:[i.map((s,o)=>f.jsx(xN,{inputs:t,player:s,register:r,readonly:o>1,blockSourceChange:!0},s.number)),f.jsx("hr",{})]}),f.jsx(Re,{...r("back-button",e.onBack),children:"Change Input Type"}),f.jsx(Re,{...r("save-button",e.onSave),children:e.closeButtonText})]})}function rpe(e){const{register:t}=zn({onBackspace:e.onBack});return f.jsxs(f.Fragment,{children:[f.jsx(Re,{...t("singstar-mics",()=>e.changePreference("singstar-mics")),children:"SingStar microphones"}),f.jsx(Re,{...t("different-mics-button",()=>e.changePreference("different-mics")),children:"Multiple different microphones"}),f.jsx("hr",{}),f.jsx(Re,{...t("back-button",e.onBack),children:"Change Input Type"})]})}function ipe(e){var s,o;mh(2);const{register:t}=zn({onBackspace:e.onBack});wN();const n=Fi([te.inputListChanged,te.playerInputChanged,te.playerRemoved],()=>Me.getInputs().map(a=>a.source==="Remote Microphone"?a:null).map(a=>a?vo.getInputForPlayerSelected(a):null)),r=()=>{e.onSave()},i=!!((s=n[0])!=null&&s.label)&&!!((o=n[1])!=null&&o.label);return A.useEffect(()=>{e.onSetupComplete(i)},[i]),f.jsxs(f.Fragment,{children:[f.jsx(ew,{}),f.jsx("h4",{children:"You can connect multiple phones in advance."}),f.jsx("h4",{children:"You will be able to connect phones later."}),f.jsx(Hw,{}),f.jsx(Re,{...t("back-button",e.onBack),children:"Change Input Type"}),f.jsx(Re,{...t("save-button",r,void 0,!0),children:e.closeButtonText})]})}function spe(e){mh(2);const{register:t}=zn({onBackspace:e.onBack}),{Microphone:n}=lv(!0,"Microphone"),[r,i]=A.useState(!1),s=Fi([te.playerInputChanged,te.inputListChanged],()=>{const c=Me.getInputs(),u=[...new Set(c.map(p=>p.deviceId))].length===1,d=!c.find(p=>p.source!=="Microphone"),h=!c.find(p=>{var g;return((g=vo.getInputForPlayerSelected(p))==null?void 0:g.preferred)===void 0});return u&&d&&h});A.useEffect(()=>(s&&fn.startMonitoring(),()=>{fn.stopMonitoring()}),[s]);const o=()=>{e.onSave()},[a,l]=A.useState(!1);return di(te.inputListChanged,c=>{const u=n.list.filter(d=>d.preferred!==void 0);u.length===2&&u[0].deviceId===u[1].deviceId&&u.forEach(d=>{var h;(h=Me.getPlayer(d.preferred))==null||h.changeInput(uo.inputName,d.channel,d.deviceId)}),c||l(!0)}),A.useEffect(()=>{e.onSetupComplete(s)},[s]),A.useEffect(()=>{if(s)i(!1);else{const c=setTimeout(()=>i(!0),2500);return()=>clearTimeout(c)}},[s]),f.jsxs(f.Fragment,{children:[f.jsxs(dh,{fallback:f.jsx("h2",{children:"Please allow access to the microphone so we can find SingStar ones."}),children:[!s&&f.jsxs(f.Fragment,{children:[f.jsxs("h3",{children:[f.jsx(hh,{size:"0.85em"})," Connect your SingStar microphones."]}),f.jsx("h4",{"data-test":"setup-not-completed",children:"It can take a couple of seconds to detect after you connect them."}),a&&f.jsx("h4",{children:f.jsxs("h4",{"data-test":"list-change-info",children:["Available microphones list has changed, but no SingStar mics were found. Try"," ",f.jsx("button",{onClick:()=>e.changePreference("advanced"),children:"Advanced"})," setup."]})}),r&&f.jsxs(f.Fragment,{children:[!a&&f.jsxs(vR,{"data-test":"advanced-tip",children:["If they don't get detected, try"," ",f.jsx("button",{onClick:()=>e.changePreference("advanced"),children:"Advanced"})," section in the previous menu."]}),Iw()&&_N()&&f.jsxs(vR,{children:[f.jsx("strong",{children:"Chrome"})," is known for not handling SingStar mics well. If you notice any problems, try using an alternative browser (eg. ",f.jsx("strong",{children:"MS Edge"})," or ",f.jsx("strong",{children:"Firefox"}),")"]})]})]}),s&&f.jsxs(f.Fragment,{children:[f.jsxs("h2",{"data-test":"setup-completed",children:[f.jsx("strong",{children:"SingStar"})," microphone connected!"]}),f.jsx(Hw,{names:["Blue","Red"]})]})]}),f.jsx(Re,{...t("back-button",e.onBack),children:"Change Input Type"}),f.jsx(Re,{...t("save-button",o,void 0,!0,{disabled:!s}),"data-test":"save-button",children:e.closeButtonText})]})}const vR=C("h4",{target:"ejfctyg0"})({name:"3v8j4h",styles:"background:darkred;padding:1rem"});function ope(e){return A.useEffect(()=>{e.onSave()},[]),null}const kN="Previously selected input type",ape=Ve.local.getItem(kN);function Gw({onFinish:e,closeButtonText:t,playerNames:n,onBack:r,skipText:i,smooth:s=!0}){const[o,a]=De(_b),[l,c]=A.useState(o==="skip"?null:o),[u,d]=A.useState(!1);A.useEffect(()=>{const m=fn.monitoringStarted();return fn.startMonitoring(),()=>{!m&&fn.stopMonitoring()}},[]);const h=(...m)=>{s?Mf(()=>{xu.flushSync(()=>{c(...m)})}):c(...m)},p=m=>()=>{a(m==="skip"?o??"skip":m),m&&(Ve.local.setItem(kN,m),On.capture("sourcePreferenceSet",{source:m})),e==null||e(m)},g=()=>{Mf(()=>{c(null),d(!1)})};return f.jsxs(f.Fragment,{children:[f.jsx(vhe,{children:u?f.jsxs(f.Fragment,{children:[f.jsx(Ahe,{})," Setup completed!"]}):"How do you want to sing?"}),(l===null||l==="skip")&&f.jsx(jhe,{onPreferenceSelected:h,previouslySelected:ape,onBack:r,skipText:i}),l==="remoteMics"&&f.jsx(ipe,{onSetupComplete:d,onBack:g,onSave:p("remoteMics"),closeButtonText:t,changePreference:c}),l==="multiple-mics"&&f.jsx(rpe,{onSetupComplete:d,onBack:g,closeButtonText:t,changePreference:c}),l==="singstar-mics"&&f.jsx(spe,{onSetupComplete:d,onBack:g,onSave:p("singstar-mics"),closeButtonText:t,changePreference:c}),l==="different-mics"&&f.jsx(npe,{onSetupComplete:d,onBack:g,onSave:p("singstar-mics"),closeButtonText:t,changePreference:c}),l==="built-in"&&f.jsx(Jhe,{onSetupComplete:d,onBack:g,onSave:p("built-in"),closeButtonText:t,changePreference:c}),l==="advanced"&&f.jsx(Fhe,{onSave:p("advanced"),onSetupComplete:d,onBack:g,closeButtonText:t,changePreference:c}),l==="skip"&&f.jsx(ope,{onSetupComplete:d,onBack:g,onSave:p("skip"),closeButtonText:t,changePreference:c})]})}function lpe(e){const t=qr();return f.jsxs(_a,{children:[f.jsx(hi,{children:f.jsx("title",{children:"Select Input | AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsx(Gw,{onFinish:()=>t("menu/"),closeButtonText:"Go to main menu"})]})}const cpe=({error:e,resetError:t})=>f.jsxs(_a,{supportedBrowsers:!0,children:[f.jsxs("h1",{children:[f.jsx(Rl,{fontSize:"large"})," An error occurred :("]}),f.jsx("h3",{children:"The game crashed with following error"}),f.jsx(upe,{children:e.message}),f.jsxs("h3",{children:["Help me fix it by reporting what exactly has happened at"," ",f.jsx("a",{href:"https://github.com/Asvarox/allkaraoke",target:"_blank",rel:"noreferrer",children:"GitHub"})," ","or"," ",f.jsx("a",{href:"https://www.facebook.com/allkaraoke.party",target:"_blank",rel:"noreferrer",children:"Facebook"})]}),f.jsx(Re,{onClick:t,children:"Reset Error"}),f.jsx("h4",{children:"If that doesn't help"}),f.jsx(Re,{onClick:()=>{var n;return global.location.href=(n=global.location)==null?void 0:n.origin},children:"Reload the game"}),f.jsx("h4",{children:"If that doesn't help"}),f.jsx(Re,{onClick:()=>{var n;global.confirm("Are you sure? It will delete all custom songs and scores. Before doing that, try opening the game in an private window or another browser to make sure it will actually help")&&(Ve.session.clear(),Ve.local.clear(),wd.clear(),global.location.href=(n=global.location)==null?void 0:n.origin)},children:"Clear all data"})]}),upe=C("span",{target:"e10ztnls0"})({name:"1jmtlcm",styles:"color:white;font-family:monospace"});var dpe={VITE_APP_SENTRY_DSN_URL:"https://66c6e940d24b4096a277f350571921bb@o366978.ingest.sentry.io/6174734",VITE_APP_POSTHOG_KEY:"phc_bw7XLoONmtGVezmMKTvcwk3lj37jzxTfisqzjlJ0Jik",VITE_APP_BACKEND_HOST:"backend.allkaraoke.party",VITE_APP_WEBSOCKET_URL:"wss://backend.allkaraoke.party",VITE_APP_SENTRY_TUNNEL:"https://backend.allkaraoke.party/sentry",VITE_APP_POSTHOG_PROXY:"https://backend.allkaraoke.party/posthog",VITE_APP_SONG_CONVERT_PROXY:"https://backend.allkaraoke.party/proxy",VITE_CJS_IGNORE_WARNING:"true",VITE_APP_PRERENDER:"true",BASE_URL:"/prs/275/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};function fpe(e){ba(!1);const t=ph();return A.useEffect(()=>{if(t.data){const n={};(async()=>{for(const r of t.data){if(r.realBpm)continue;const i=[`lookup=song:${encodeURIComponent(r.title)}+artist:${encodeURIComponent(r.artist)}`,"type=both",`api_key=${dpe.VITE_APP_GET_SONG_BPM_API_TOKEN}`].join("&"),o=await(await fetch(`https://api.getsongbpm.com/search/?${i}`)).json();n[r.id]=Array.isArray(o.search)&&o.search[0]||null}console.log(n)})()}},[t.data]),f.jsx(f.Fragment,{children:"Copy resulting object to `scripts/scraped-bpm-data.json` file and run fillMetadata script"})}function hpe(e){const t=qr(),n=()=>t("menu/");return f.jsxs(f.Fragment,{children:[f.jsx(hi,{children:f.jsx("title",{children:"Select Languages | AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsx(Pw,{children:f.jsx(JL,{onClose:n,closeText:"Return to Main Menu"})})]})}function CN(){const[e]=De(Sb);A.useEffect(()=>{try{e&&document.body.requestFullscreen().catch(console.info)}catch{}},[])}function ppe(){const{width:e,height:t}=gh();return A.useMemo(()=>parseFloat(getComputedStyle(document.documentElement).fontSize),[e,t])}let Ky=0;function TN(){A.useEffect(()=>(document.body.classList.add("blockOverflow"),document.documentElement.classList.add("blockOverflow"),Ky++,()=>{Ky--,Ky===0&&(document.body.classList.remove("blockOverflow"),document.documentElement.classList.remove("blockOverflow"))}),[])}var qw={},gpe=st;Object.defineProperty(qw,"__esModule",{value:!0});var IN=qw.default=void 0,mpe=gpe(ct()),vpe=f;IN=qw.default=(0,mpe.default)((0,vpe.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2M7.5 18c-.83 0-1.5-.67-1.5-1.5S6.67 15 7.5 15s1.5.67 1.5 1.5S8.33 18 7.5 18m0-9C6.67 9 6 8.33 6 7.5S6.67 6 7.5 6 9 6.67 9 7.5 8.33 9 7.5 9m4.5 4.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m4.5 4.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m0-9c-.83 0-1.5-.67-1.5-1.5S15.67 6 16.5 6s1.5.67 1.5 1.5S17.33 9 16.5 9"}),"Casino");function ype({setFilters:e,filters:t,keyboardControl:n,visible:r,setVisible:i}){const s=A.useRef(null),[o,a]=A.useState(!1),l=h=>{e(p=>({...p,search:h}))};Er("down",()=>{var h;(h=s.current)==null||h.blur()},{enabled:o,enableOnTags:["INPUT"]});const u=h=>{h.stopPropagation(),h.preventDefault(),l(h.key)};Er(m1,h=>{u(h),i(!0)},{enabled:!t.search&&n});const d=A.useCallback(h=>{n&&l(h)},[n]);return di(te.remoteSongSearch,d),Er(m1,h=>{var p;u(h),(p=s.current)==null||p.focus()},{enabled:!o&&n},[t.search]),Er("Backspace",h=>{var p;(p=s.current)==null||p.focus()},{enabled:!o&&n},[t.search]),A.useEffect(()=>{o||i(!!t.search)},[o,t.search,i]),!t.search&&!r?null:f.jsx(Ape,{"data-test":"song-list-search",children:f.jsx(_pe,{large:!0,children:f.jsx("form",{"data-test":"filters-search-form",onSubmit:h=>{var p;h.preventDefault(),(p=s.current)==null||p.blur()},children:f.jsx(Ml,{onFocus:()=>a(!0),onBlur:()=>a(!1),onKeyDown:h=>{var p;h.key==="Backspace"&&((p=t.search)==null?void 0:p.length)===0&&i(!1)},focused:o,autoFocus:!0,label:"Search",value:t.search??"",onChange:l,ref:s,"data-test":"filters-search"})})})})}const Ape=C("div",{target:"ektgxsz1"})({name:"t46wvs",styles:"background:rgba(0, 0, 0, 0.7);padding:2rem;font-size:3rem;box-sizing:border-box;display:flex;flex-direction:row;gap:2rem;position:fixed;z-index:200;top:4.5rem;left:30rem;right:30rem"}),_pe=C("div",{target:"ektgxsz0"})("flex:",e=>e.large?1.5:1,";");function bpe({onRandom:e,setFilters:t,filters:n,keyboardControl:r}){const[i,s]=A.useState(!1),o=()=>{t(a=>({...a,search:""}))};return f.jsxs(f.Fragment,{children:[f.jsxs(Spe,{children:[f.jsx(su,{title:"Search",place:"left",children:f.jsx(yR,{onClick:()=>i?o():s(!0),"data-test":"search-song-button",children:f.jsx(nv,{})})}),f.jsx(su,{title:"Pick random",place:"left",children:f.jsx(yR,{onClick:e,"data-test":"random-song-button",children:f.jsx(IN,{})})})]}),f.jsx(ype,{setFilters:t,filters:n,visible:i,setVisible:s,keyboardControl:r})]})}const yR=C(As,{target:"eie1eis1"})("box-shadow:inset 0 0 2px 2px ",pe.colors.text.active,";background:black;width:7.5rem;height:7.5rem;border-radius:50%;display:flex;align-items:center;justify-content:center;svg{width:4.5rem;height:4.5rem;}"),Spe=C("div",{target:"eie1eis0"})({name:"1x0sh4s",styles:"pointer-events:none;position:fixed;display:flex;flex-direction:column;align-items:center;justify-content:center;bottom:2.5rem;right:2.5rem;z-index:100;gap:2rem"});function RN({videoId:e,...t}){return f.jsx(kpe,{src:`https://img.youtube.com/vi/${e}/default.jpg`,alt:`Thumbnail image for YouTube video ${e}`,...t})}function xpe({videoId:e,...t}){const n=Fae(e)??e,[r,i]=A.useState(!0);A.useLayoutEffect(()=>{i(o=>!o)},[e]);const[s]=De(ji);return s==="low"?null:f.jsxs(wpe,{...t,children:[f.jsx(AR,{videoId:r?e:n,visible:r}),f.jsx(AR,{videoId:r?n:e,visible:!r}),f.jsx(Epe,{videoId:n})]})}const wpe=C("div",{target:"e1lv5ws3"})({name:"k44s62",styles:"position:relative;overflow:hidden;background:black"}),Epe=C(RN,{target:"e1lv5ws2"})({name:"6dhm9o",styles:"visibility:hidden"}),AR=C(RN,{target:"e1lv5ws1"})("position:absolute;transition:opacity 300ms;opacity:",e=>e.visible?1:0,";"),kpe=C("img",{target:"e1lv5ws0"})({name:"4uwt2b",styles:"width:100%;height:100%;object-fit:cover"});function Cpe(e,t,n="mousedown",r={}){Lae(n,i=>{const s=i.target;if(!s||!s.isConnected)return;(Array.isArray(e)?e.filter(a=>!!a.current).every(a=>a.current&&!a.current.contains(s)):e.current&&!e.current.contains(s))&&t(i)},void 0,r)}function Tpe({active:e,closePlaylist:t,playlists:n,selectedPlaylist:r,setSelectedPlaylist:i}){const{register:s,focused:o,focusElement:a}=zn({enabled:e,additionalHelp:{vertical:void 0,"horizontal-vertical":null}}),l=A.useRef(null);return Cpe(l,()=>{t()}),Cl({left:()=>t("left"),right:()=>t("right")},e),A.useEffect(()=>{var u;const c=new URLSearchParams((u=global.location)==null?void 0:u.search).get("playlist");c&&a(`playlist-${c}`)},[]),A.useEffect(()=>{var c;if(o){const u=n.find(d=>`playlist-${d.name}`===o);if(u){const d=new URL((c=global.location)==null?void 0:c.href);d.searchParams.set("playlist",u.name),global.history.replaceState(null,"",d.toString()),i(u.name)}}},[o,n]),f.jsx(Ipe,{"data-test":"song-list-playlists",active:e,ref:l,children:n.map(({Wrapper:c,...u})=>{const d=f.jsx(Rpe,{"data-selected":`playlist-${u.name}`===o,"data-active":e,...s(`playlist-${u.name}`,()=>a(`playlist-${u.name}`),void 0,u.name===r),children:u.display??u.name},u.name);return c?f.jsx(c,{active:e,focused:`playlist-${u.name}`===o,children:d},u.name):d})})}const Ipe=C("div",{target:"emspgv91"})("background:rgba(0, 0, 0, ",e=>e.active?.75:.5,");width:100vh;height:var(--song-sidebar-weight);transform-origin:top right;transform:rotate(-90deg);position:absolute;z-index:200;left:-100vh;top:0;box-sizing:border-box;display:flex;flex-direction:row-reverse;gap:0;h2{",$e,";margin:0;}"),Rpe=C(As,{target:"emspgv90"})("font-size:2.3rem;justify-self:stretch;flex-grow:1;&[data-focused='false'][data-active='true']{background-color:transparent;}&[data-selected='true']{",LQ,";}&[data-selected='false'][data-active='false']{opacity:0.75;}padding:1.5rem 1rem;"),Ww=e=>{const[t,n]=A.useState(null),r=Gc(e),i=async()=>{n(await Jj(e))};return A.useEffect(()=>{i()},[r]),di(te.songStatStored,i),t},Mpe=e=>async(t,n,r,i)=>{const s=Gc(e),o=await Jj(e),a=o.scores.map(c=>{if(c.setup.id!==t)return c;const u=c.scores.map(d=>d.name!==r||d.score!==n?d:{name:i.trim(),score:n});return{...c,scores:u}}),l={...o,scores:a};await Xj(e,l),te.songScoreUpdated.dispatch(s,l,i.trim())},Ppe=JSON.parse(`{
  "af": [
    "Persian Dari",
    "Pashto"
  ],
  "al": [
    "Albanian"
  ],
  "dz": [
    "Arabic",
    "Berber"
  ],
  "ad": [
    "Catalan"
  ],
  "ao": [
    "Portuguese"
  ],
  "ag": [
    "English"
  ],
  "ar": [
    "Spanish"
  ],
  "am": [
    "Armenian"
  ],
  "au": [
    "English"
  ],
  "at": [
    "German"
  ],
  "az": [
    "Azerbaijani"
  ],
  "bs": [
    "English"
  ],
  "bh": [
    "Arabic"
  ],
  "bd": [
    "Bengali"
  ],
  "bb": [
    "English"
  ],
  "by": [
    "Belarusian",
    "Russian"
  ],
  "be": [
    "Dutch",
    "French",
    "German"
  ],
  "bz": [
    "English"
  ],
  "dy": [
    "French"
  ],
  "bt": [
    "Dzongkha"
  ],
  "bo": [
    "Spanish",
    "Aymara",
    "Araona",
    "Baure",
    "Bsiro Chiquitano",
    "Canichana",
    "Cavinea",
    "Cayubaba",
    "Chcobo",
    "Chimn",
    "Ese Ejja",
    "Guaran",
    "Guarasuwe",
    "Guarayu",
    "Itonama",
    "Leco",
    "Machajuyai",
    "Machineri",
    "Maropa",
    "Mojeo",
    "Mojeo",
    "Mor",
    "Mosetn",
    "Movima",
    "Pacawara",
    "Puquina",
    "Quechua",
    "Sirion",
    "Tacana",
    "Tapiet",
    "Toromona",
    "Uru-Chipaya",
    "Weenhayek",
    "Yaminawa",
    "Yuki",
    "Yuracar",
    "Zamuco"
  ],
  "ba": [
    "Bosnian",
      "Croatian",
      "Serbian"
  ],
  "bw": [
    "English"
  ],
  "br": [
    "Portuguese"
  ],
  "bn": [
    "Malay"
  ],
  "bg": [
    "Bulgarian"
  ],
  "hv": [
    "French"
  ],
  "bi": [
    "French",
    "Kirundi",
    "English"
  ],
  "kh": [
    "Khmer"
  ],
  "cm": [
    "English",
    "French"
  ],
  "ca": [
    "English",
    "French"
  ],
  "cv": [
    "Portuguese"
  ],
  "cf": [
    "French",
    "Sango"
  ],
  "td": [
    "Arabic",
    "French"
  ],
  "cl": [
    "Spanish"
  ],
  "cn": [
    "Chinese"
  ],
  "cx": [
    "English",
    "Chinese",
    "Malay"
  ],
  "cc": [
    "English",
    "Cocos Malay"
  ],
  "co": [
    "Spanish"
  ],
  "km": [
    "Arabic",
    "Comorian",
    "French"
  ],
  "cd": [
    "French"
  ],
  "cg": [
    "French"
  ],
  "ck": [
    "English",
    "Cook Islands Mori"
  ],
  "cr": [
    "Spanish"
  ],
  "hr": [
    "Croatian"
  ],
  "cu": [
    "Spanish"
  ],
  "cy": [
    "Turkish"
  ],
  "cz": [
    "Czech",
    "Slovak"
  ],
  "dk": [
    "Danish"
  ],
  "dj": [
    "Arabic",
    "French"
  ],
  "dm": [
    "English"
  ],
  "do": [
    "Spanish"
  ],
  "tl": [
    "Portuguese",
    "Tetum"
  ],
  "ec": [
    "Spanish",
    "Quechua"
  ],
  "eg": [
    "Arabic"
  ],
  "sv": [
    "Spanish"
  ],
  "gq": [
    "French",
    "Portuguese",
    "Spanish"
  ],
  "er": [
    "Tigrinya"
  ],
  "ee": [
    "Estonian"
  ],
  "sz": [
    "English",
    "Swazi"
  ],
  "et": [
    "Afar",
    "Amharic",
    "Oromo",
    "Somali",
    "Tigrinya"
  ],
  "fj": [
    "English",
    "Fijian",
    "Fiji Hindi"
  ],
  "fi": [
    "Finnish",
    "Swedish"
  ],
  "fx": [
    "French"
  ],
  "ga": [
    "French"
  ],
  "gm": [
    "English"
  ],
  "ge": [
    "Ossetian",
    "Russian"
  ],
  "de": [
    "German"
  ],
  "gh": [
    "English"
  ],
  "gr": [
    "Greek"
  ],
  "gd": [
    "English"
  ],
  "gt": [
    "Spanish"
  ],
  "gn": [
    "French"
  ],
  "gw": [
    "Portuguese"
  ],
  "gy": [
    "English"
  ],
  "ht": [
    "French",
    "Creole"
  ],
  "hn": [
    "Spanish"
  ],
  "hu": [
    "Hungarian"
  ],
  "is": [
    "Icelandic"
  ],
  "in": [
    "Hindi",
    "English"
  ],
  "id": [
    "Indonesian"
  ],
  "ir": [
    "Persian"
  ],
  "iq": [
    "Arabic",
    "Kurdish"
  ],
  "ie": [
    "Irish",
    "English"
  ],
  "il": [
    "Hebrew"
  ],
  "it": [
    "Italian"
  ],
  "ci": [
    "French"
  ],
  "jm": [
    "English"
  ],
  "jp": [
    "Japanese"
  ],
  "jo": [
    "Arabic"
  ],
  "kz": [
    "Kazakh",
    "Russian"
  ],
  "ke": [
    "English",
    "Swahili"
  ],
  "ki": [
    "English",
    "Gilbertese"
  ],
  "kp": [
    "Korean"
  ],
  "kr": [
    "Korean"
  ],
  "xk": [
    "Albanian",
    "Serbian"
  ],
  "kw": [
    "Arabic"
  ],
  "kg": [
    "Kyrgyz",
    "Russian"
  ],
  "la": [
    "Lao"
  ],
  "lv": [
    "Latvian"
  ],
  "lb": [
    "Arabic"
  ],
  "ls": [
    "Sotho",
    "English"
  ],
  "lr": [
    "English"
  ],
  "ly": [
    "Arabic"
  ],
  "li": [
    "German"
  ],
  "lt": [
    "Lithuanian"
  ],
  "lu": [
    "French",
    "German",
    "Luxembourgish"
  ],
  "mg": [
    "French",
    "Malagasy"
  ],
  "mw": [
    "English",
    "Chichewa"
  ],
  "my": [
    "Malay"
  ],
  "mv": [
    "Dhivehi"
  ],
  "ml": [
    "Bambara",
    "Bobo",
    "Bozo",
    "Dogon",
    "Fula",
    "Hassaniya",
    "Kassonke",
    "Maninke",
    "Minyanka",
    "Senufo",
    "Songhay",
    "Soninke",
    "Tamasheq"
  ],
  "mt": [
    "Italian"
  ],
  "mh": [
    "English",
    "Marshallese"
  ],
  "mr": [
    "Arabic"
  ],
  "mu": [
    "English",
    "Morisien"
  ],
  "mx": [
    "Spanish"
  ],
  "fm": [
    "English"
  ],
  "md": [
    "Moldovan",
    "Russian",
    "Ukrainian"
  ],
  "mc": [
    "French"
  ],
  "mn": [
    "Mongolian"
  ],
  "me": [
    "Montenegrin"
  ],
  "ma": [
    "Arabic",
    "Berber"
  ],
  "mz": [
    "Portuguese"
  ],
  "mm": [
    "Burmese"
  ],
  "na": [
    "English"
  ],
  "nr": [
    "English",
    "Nauruan"
  ],
  "np": [
    "Nepali"
  ],
  "nl": [
    "Dutch"
  ],
  "nz": [
    "English",
    "Maori"
  ],
  "ni": [
    "Spanish"
  ],
  "ne": [
    "French"
  ],
  "ng": [
    "English"
  ],
  "nu": [
    "English",
    "Niuean"
  ],
  "nf": [
    "English",
    "Norfuk"
  ],
  "mk": [
    "Macedonian",
    "Albanian"
  ],
  "no": [
    "Norwegian",
    "Sami"
  ],
  "om": [
    "Arabic"
  ],
  "pk": [
    "Urdu",
    "English"
  ],
  "pw": [
    "English",
    "Palauan"
  ],
  "ps": [
    "Arabic"
  ],
  "pa": [
    "Spanish"
  ],
  "pg": [
    "English",
    "Hiri Motu",
    "Tok Pisin"
  ],
  "py": [
    "Spanish",
    "Guaran"
  ],
  "pe": [
    "Spanish",
    "Quechua",
    "Aymara",
    "Ashninka"
  ],
  "ph": [
    "Filipino",
    "English"
  ],
  "pl": [
    "Polish"
  ],
  "pt": [
    "Portuguese"
  ],
  "qa": [
    "Arabic"
  ],
  "ro": [
    "Romanian"
  ],
  "su": [
    "Russian"
  ],
  "rw": [
    "English",
    "French",
    "Kinyarwanda",
    "Swahili"
  ],
  "eh": [
    "Arabic"
  ],
  "kn": [
    "English"
  ],
  "lc": [
    "English"
  ],
  "vc": [
    "English"
  ],
  "ws": [
    "English",
    "Samoan"
  ],
  "sm": [
    "Italian"
  ],
  "st": [
    "Portuguese"
  ],
  "sa": [
    "Arabic"
  ],
  "sn": [
    "French"
  ],
  "yu": [
    "Serbian"
  ],
  "sc": [
    "English",
    "French",
    "Creole"
  ],
  "sl": [
    "English"
  ],
  "sg": [
    "English",
    "Malay",
    "Chinese",
    "Tamil"
  ],
  "sk": [
    "Slovak"
  ],
  "si": [
    "Slovene"
  ],
  "sb": [
    "English"
  ],
  "so": [
    "Arabic",
    "English",
    "Somali"
  ],
  "za": [
    "Afrikaans",
    "English",
    "Ndebele",
    "Sotho",
    "Swazi",
    "Tsonga",
    "Tswana",
    "Venda",
    "Xhosa",
    "Zulu"
  ],
  "ss": [
    "English"
  ],
  "es": [
    "Spanish"
  ],
  "lk": [
    "Sinhala",
    "Tamil"
  ],
  "sd": [
    "Arabic",
    "English"
  ],
  "sr": [
    "Dutch"
  ],
  "se": [
    "Swedish"
  ],
  "ch": [
    "French",
    "German",
    "Italian",
    "Romansh"
  ],
  "sy": [
    "Arabic"
  ],
  "tw": [
    "Chinese"
  ],
  "tj": [
    "Tajik"
  ],
  "tz": [
    "Swahili",
    "English"
  ],
  "th": [
    "Thai"
  ],
  "tg": [
    "French"
  ],
  "tk": [
    "English",
    "Tokelauan"
  ],
  "to": [
    "English",
    "Tongan"
  ],
  "tt": [
    "English"
  ],
  "tn": [
    "Arabic"
  ],
  "tr": [
    "Turkish"
  ],
  "tm": [
    "Turkmen"
  ],
  "tv": [
    "Tuvaluan",
    "English"
  ],
  "ug": [
    "English",
    "Swahili"
  ],
  "ua": [
    "Ukrainian"
  ],
  "ae": [
    "Arabic"
  ],
  "uk": [
    "English"
  ],
  "us": [
    "English"
  ],
  "uy": [
    "Spanish"
  ],
  "uz": [
    "Uzbek"
  ],
  "vu": [
    "English",
    "French",
    "Bislama"
  ],
  "va": [
    "Italian"
  ],
  "ve": [
    "Spanish"
  ],
  "vn": [
    "Vietnamese"
  ],
  "ye": [
    "Arabic"
  ],
  "zm": [
    "English"
  ],
  "zw": [
    "Chewa",
    "Chibarwe",
    "English",
    "Kalanga",
    "Khoisan",
    "Nambya",
    "Ndau",
    "Ndebele",
    "Shangani",
    "Shona",
    "Sotho",
    "Tonga",
    "Tswana",
    "Venda",
    "Xhosa"
  ]
}`),jpe=["US","GB"];function Ope({song:e,forceFlag:t,...n}){const r=e.language[0],i=A.useMemo(()=>{var s;return e.artistOrigin?((s=Ppe[e.artistOrigin.toLowerCase()])==null?void 0:s.includes(r))??t:!1},[e.artistOrigin,r,t]);return f.jsx(f.Fragment,{children:t&&e.artistOrigin?f.jsx(Oc,{isocode:e.artistOrigin,...n}):i&&!jpe.includes(e.artistOrigin)?f.jsx(Oc,{isocode:e.artistOrigin,...n}):e.language[0]!=="English"?f.jsx(Oc,{language:e.language,...n}):null})}var Kw={},Vpe=st;Object.defineProperty(Kw,"__esModule",{value:!0});var MN=Kw.default=void 0,Lpe=Vpe(ct()),Npe=f;MN=Kw.default=(0,Lpe.default)((0,Npe.jsx)("path",{d:"M7.25 12.5 4.75 9H3.5v6h1.25v-3.5L7.3 15h1.2V9H7.25zM9.5 15h4v-1.25H11v-1.11h2.5v-1.26H11v-1.12h2.5V9h-4zm9.75-6v4.5h-1.12V9.99h-1.25v3.52h-1.13V9H14.5v5c0 .55.45 1 1 1h4c.55 0 1-.45 1-1V9z"}),"FiberNewOutlined");var Yw={},Bpe=st;Object.defineProperty(Yw,"__esModule",{value:!0});var PN=Yw.default=void 0,$pe=Bpe(ct()),Dpe=f;PN=Yw.default=(0,$pe.default)((0,Dpe.jsx)("path",{d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star");function Fpe(e){return ol(e.edition??"").startsWith("esc")}const jN="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20width='125.33'%20height='131.46'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:cc='http://creativecommons.org/ns%23'%20xmlns:dc='http://purl.org/dc/elements/1.1/'%20xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23'%3e%3cpath%20stroke='black'%20fill='white'%20d='m12.726%2058.556c0.31803-28.513%2015.157-37.437%2023.237-37.437%2011.285%200%2015.946%208.6151%2016.707%2012.429%200.76116%203.8111%205.0324%206.8595%206.4047%200.60798%201.3734-6.2515%2014.649-25.315%2030.966-25.315%2014.943%200%2020.119%2015.41%2019.671%2028.518-1.2228%2035.683-47.19%2064.158-53.239%2082.143-5.3875-10.891-44.126-26.634-43.746-60.946zm82.652-58.556c-13.42%200-29.29%209.9111-38.896%2026.382-2.592-5.9483-11.827-12.43-22.805-12.43-8.8462%200-33.676%2011.056-33.676%2046.74%200%2046.052%2046.593%2055.508%2056.011%2069.825%200.64721%200.98433%202.7319%201.728%203.5276-0.62388%207.5157-22.18%2065.791-47.242%2065.791-92.379-5.3e-4%20-25.314-16.536-37.513-29.955-37.513z'%20stroke-width='.53006'/%3e%3c/svg%3e",zpe=e=>f.jsxs(Hpe,{children:[e.song.tracksCount>1&&f.jsxs(qpe,{"data-test":"multitrack-indicator",children:[f.jsx(Ud,{})," Duet"]}),f.jsx(Upe,{song:e.song,isPopular:e.isPopular,focused:!!e.video})]}),Upe=({song:e,isPopular:t,focused:n})=>{var l,c,u,d;const r=A.useMemo(()=>mm.recentlyUpdated([e]).length>0,[e]),i=Fpe(e),s=Ww(e),o=((c=(l=s==null?void 0:s.scores)==null?void 0:l.at(-1))==null?void 0:c.date)??!1,a=o&&as(o).isAfter(as().subtract(1,"days"));return s!=null&&s.plays?f.jsx(VN,{"data-test":"song-stat-indicator",children:a?"Played today":f.jsx(f.Fragment,{children:n?f.jsxs(f.Fragment,{children:["Played ",s.plays," time",s.plays>1&&"s"]}):s.plays})}):i?f.jsxs(Qy,{white:!0,children:[f.jsx(Yy,{children:n?(u=e.edition)==null?void 0:u.replace("ESC","Eurovision"):(d=e.edition)==null?void 0:d.replace("ESC ","")}),f.jsx(Gpe,{src:jN,alt:e.edition})]}):r?f.jsx(Qy,{white:!0,children:n?f.jsx(Yy,{children:"Added recently"}):f.jsx(MN,{})}):t&&e.language.includes("English")?f.jsx(f.Fragment,{children:f.jsxs(Qy,{children:[n&&f.jsx(Yy,{children:"Popular"}),f.jsx(PN,{})]})}):null},Yy=C("div",{target:"enamf7r6"})({name:"eh2bdr",styles:"padding:0 0.5rem;line-height:0;margin-top:0.2rem;&+svg{margin-left:-0.25rem;}"}),Hpe=C("div",{target:"enamf7r5"})({name:"67oilw",styles:"position:absolute;top:0.5rem;left:0;padding:0 0.5rem;box-sizing:border-box;display:flex;align-items:center;justify-content:flex-end;gap:0.5rem;width:100%"}),ON=C("div",{target:"enamf7r4"})({name:"1utw6sa",styles:"height:2.75rem;min-width:2.75rem;box-sizing:border-box;color:white;font-size:1.4rem;display:flex;align-items:center;justify-content:center;text-transform:uppercase;background:rgba(0, 0, 0, 0.75);border-radius:0.5rem"}),Qy=C(ON,{target:"enamf7r3"})("overflow:hidden;display:flex;align-items:center;justify-content:center;svg,img{fill:",e=>e.white?"white":pe.colors.text.active,";width:2.5rem;height:2.5rem;}"),Gpe=C("img",{target:"enamf7r2"})({name:"1pr315k",styles:"padding:0.35rem;margin:0 0.15rem 0 -0.35rem;box-sizing:border-box"}),VN=C(ON,{target:"enamf7r1"})({name:"2ycp6t",styles:"padding:0 1rem"}),qpe=C(VN,{target:"enamf7r0"})({name:"1k65tge",styles:"margin-right:auto;svg{width:1.75rem;height:1.75rem;}"}),LN=({song:e,focused:t,video:n,children:r,index:i,groupLetter:s,handleClick:o,isPopular:a,background:l=!0,forceFlag:c=!1,...u})=>{const d=u["data-expanded"]??!1,h=A.useCallback(()=>o?o(i,s):void 0,[o,i,s]),[p]=De(ji);return f.jsxs(Ype,{...u,onClick:o?h:void 0,children:[l&&f.jsx(Qpe,{style:{backgroundImage:`url('https://i3.ytimg.com/vi/${e.video}/hqdefault.jpg')`},"data-focused":d?!1:t,"data-expanded":u["data-expanded"],"data-graphic-setting":p}),f.jsxs(Kpe,{"data-expanded":d,children:[!d&&f.jsx(zpe,{song:e,isPopular:a,video:n}),f.jsx(Qw,{"data-expanded":d,children:e.artist}),f.jsx(cv,{"data-expanded":d,children:e.title}),f.jsxs(NN,{"data-expanded":d,children:[d&&f.jsxs(f.Fragment,{children:[e.author&&f.jsxs($N,{expanded:d,children:["by",e.authorUrl?f.jsx("a",{href:e.authorUrl,target:"_blank",rel:"noreferrer",children:e.author}):e.author]}),f.jsx(Jpe,{song:e})]}),!d&&f.jsx(Wpe,{song:e,forceFlag:c})]})]}),r,n]})},Wpe=C(Ope,{target:"e1ornw2x8"})({name:"1152n88",styles:"height:2.75rem;object-fit:cover;border-top-right-radius:1rem;border-bottom-left-radius:1rem;position:absolute;z-index:-1;left:0rem;bottom:0rem;opacity:0.95"}),NN=C("div",{target:"e1ornw2x7"})({name:"1dgv8bf",styles:"display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-start"}),Kpe=C("div",{target:"e1ornw2x6"})({name:"cwmgde",styles:"width:100%;height:100%;display:flex;align-items:flex-end;justify-content:flex-end;z-index:1;box-sizing:border-box;flex-direction:column;&[data-expanded='true']{align-items:flex-start;justify-content:flex-start;}"}),Ype=C("div",{target:"e1ornw2x5"})({name:"1s4n252",styles:"font-size:4.5rem;display:flex;align-items:flex-end;justify-content:flex-end;flex-direction:column;box-sizing:border-box;position:relative;padding:0.5rem;border:0.1rem black solid;border-radius:1rem"}),Qpe=C("div",{target:"e1ornw2x4"})({name:"10xrxr9",styles:"background-color:#2b2b2b;border-radius:1rem;&[data-expanded='true']{border-radius:0;}position:absolute;z-index:-1;inset:0;&[data-graphic-setting='high']{transition:300ms;&[data-focused='true']{background-size:100%;opacity:1;}&[data-focused='false']{background-size:110%;filter:grayscale(90%);opacity:0.8;}&[data-expanded='true']{filter:blur(10px);}}&[data-graphic-setting='low']{background-size:100%;opacity:0.6;&[data-focused='true']{opacity:1;}}background-position:center center"}),BN=C("span",{target:"e1ornw2x3"})("background:rgba(0, 0, 0, 0.7);width:auto;display:inline-block;padding:0.5rem;",$e,";text-align:right;font-size:2.7rem;&[data-expanded='true']{font-size:6rem;}"),Qw=C(BN,{target:"e1ornw2x2"})("color:",pe.colors.text.active,";"),cv=C(BN,{target:"e1ornw2x1"})("margin-top:",e=>e.expanded?"1.5rem":"0.5rem",";color:white;"),$N=C(cv,{target:"e1ornw2x0"})({name:"5twmqz",styles:"font-size:3rem;margin-top:3rem"}),Jpe=({song:e})=>{const t=Ww(e);return f.jsx($N,{children:t!=null&&t.plays?`Played ${t.plays} time${t.plays>1?"s":""}`:"Never played yet"})};function Xpe({groupedSongList:e,onScrollToGroup:t,container:n}){const[r,i]=A.useState([]);return A.useEffect(()=>{const s=new IntersectionObserver(a=>{a.forEach(l=>{const c=l.target.getAttribute("data-group-name");l.isIntersecting?i(u=>[...u,c]):i(u=>u.filter(d=>d!==c))})}),o=new MutationObserver(()=>{const a=document.querySelectorAll("[data-group-name]");s.disconnect(),i([]),a.forEach(l=>{s.observe(l)})});if(n)return o.observe(n,{childList:!0,subtree:!0}),()=>{o.disconnect(),i([]),s.disconnect()}},[e,n]),f.jsx(f.Fragment,{children:f.jsx(Zpe,{children:e.map(s=>{const o=r.includes(s.name);return f.jsx(ege,{onClick:()=>t(s),"data-active":o,"data-test":`group-navigation-${s.name}`,children:s.displayShort??s.name},s.name)})})})}const Zpe=C("div",{target:"e131hflw1"})({name:"191ly3l",styles:"position:fixed;display:flex;flex-direction:row;align-items:center;justify-content:flex-start;top:0;left:var(--song-sidebar-weight);padding:1rem 0 1.5rem 2rem;width:100%;z-index:100;gap:1rem;background:rgba(0, 0, 0, 0.75)"}),ege=C(As,{target:"e131hflw0"})("border:none;cursor:pointer;",$e,";display:inline-flex;align-items:center;justify-content:center;height:3.3rem;padding:0.5rem 1.25rem;font-size:2.3rem;z-index:1;color:",pe.colors.text.default,";&[data-active='true']{background:",pe.colors.text.active,";}&[data-active='false']{background:rgba(0, 0, 0, 0.7);}"),_R={[Cr.DUEL]:"Duel",[Cr.PASS_THE_MIC]:"Pass The Mic",[Cr.CO_OP]:"Cooperation"},Jy=["Hard","Medium","Easy"],tge=dw("song_settings-game_mode-v3"),nge=dw("song_settings-tolerance-v2");function rge({songPreview:e,onNextStep:t,keyboardControl:n,onExitKeyboardControl:r}){const[i,s]=tge(null),o=i??(e.tracksCount>1?Cr.CO_OP:Cr.DUEL),[a,l]=nge(1),c=()=>{const p={id:Ig(),players:[],mode:o,tolerance:a+1};t(p)},u=()=>{s(Ja(Object.values(Cr),o))},d=()=>l(p=>fh(Jy,p,-1)),{register:h}=zn({enabled:n,onBackspace:r});return f.jsxs(f.Fragment,{children:[f.jsx(bR,{...h("difficulty-setting",d,"Change difficulty"),label:"Difficulty",value:Jy[a],"data-test-value":Jy[a]}),f.jsx(bR,{...h("game-mode-setting",u,"Change mode"),label:"Mode",value:_R[o],"data-test-value":_R[o]}),f.jsxs(sge,{children:[o===Cr.DUEL&&"Face off against each other - person that earns more points wins.",o===Cr.CO_OP&&"Join forces and sing together - your points will be added up to a single pool.",o===Cr.PASS_THE_MIC&&f.jsxs(f.Fragment,{children:["For more than 2 players - split into groups and pass the microphone within the group when prompted with"," ",f.jsx(rv,{})," symbol."]})]}),f.jsx(ige,{...h("next-step-button",c,void 0,!0),children:"Next "})]})}const ige=C(As,{target:"ews4mmz2"})({name:"sr8dp2",styles:"padding:0.5rem 9rem;font-size:4.3rem;width:50rem"}),sge=C("h3",{target:"ews4mmz1"})({name:"rdh6te",styles:"max-width:50rem;margin:-1rem 0 1rem!important;padding:1.5rem;background:rgba(0, 0, 0, 0.7);box-sizing:border-box"}),bR=C(ni,{target:"ews4mmz0"})({name:"1tcj19k",styles:"font-size:4.3rem;padding:1rem;min-width:50rem;box-sizing:border-box"});function oge(){const t=Fi(te.playerInputChanged,()=>Me.getInputs()).some(o=>o.source==="Microphone"),n=A.useRef([]),r=A.useCallback(o=>{n.current.push(o)},[]);Ohe(0,50,r);const[i,s]=A.useState(!1);return A.useEffect(()=>{const o=setInterval(()=>{const a=n.current.filter(([,h])=>h===0),l=n.current.filter(([,h])=>h>0),c=a.reduce((h,[p])=>h+p,0)/(a.length+1),u=l.reduce((h,[p])=>h+p,0)/(l.length+1),d=l.length>a.length*.1&&u>.01&&c>.01&&u-c<c/2;s(d),n.current.length=0},i?5e3:2500);return()=>clearInterval(o)},[i]),f.jsxs(age,{visible:i,children:[f.jsxs("h2",{children:[f.jsx("strong",{children:f.jsx(Rl,{})})," ","Noise detected"]}),f.jsx("hr",{}),f.jsxs("h4",{children:["This might make singing inaccurate. Make sure your microphone doesn't pick up the music."," ",t&&f.jsxs(f.Fragment,{children:["Alternatively, use your ",f.jsx("strong",{children:"smartphone as a microphone"})," instead."]})]})]})}const age=C("div",{target:"e1liv9270"})("opacity:",e=>e.visible?1:0,";transition:300ms;background:rgba(0, 0, 0, 0.75);padding:1rem;max-width:50rem;position:relative;top:-1rem;left:-0.5rem;"),DN=(e,t=333,n)=>{const[r,i]=A.useState("ok");return A.useEffect(()=>{const s=setInterval(()=>{i(fn.getInputStatus(e))},t);return()=>{clearInterval(s)}},[e,t,n]),r},FN=e=>{const[t,n]=A.useState(null);return A.useEffect(()=>{const r=setInterval(()=>{const i=et.getRemoteMicById(e??"");n(i?i.getLatency():null)},1e3);return()=>{clearInterval(r)}},[e]),t};function zN({playerNumber:e,...t}){var r,i;const n=FN((i=(r=Me.getPlayer(e))==null?void 0:r.input)==null?void 0:i.deviceId);return f.jsx(f.Fragment,{children:n!==null?f.jsxs(lge,{...t,children:[n,"ms"]}):""})}const lge=C("span",{target:"e10sf0140"})({name:"1wwatg0",styles:"position:absolute;right:4rem;bottom:0.5rem;font-size:1.75rem"});function UN({status:e,tooltipPosition:t="end",...n}){return f.jsxs(cge,{...n,children:[e==="ok"?f.jsx(uge,{"data-test":"status-ok"}):e==="unavailable"?f.jsx(dge,{"data-test":"status-unavailable"}):f.jsx(fge,{"data-test":"status-unstable"}),e==="unavailable"?f.jsx(SR,{position:t,children:f.jsxs("span",{children:["The device is ",f.jsx("strong",{children:"disconnected"}),". Reconnect it, please."]})}):e==="unstable"?f.jsx(SR,{position:t,children:f.jsxs("span",{children:["The connection seems ",f.jsx("strong",{children:"unstable"}),". Connect to the same Wifi."]})}):null]})}const cge=C("span",{target:"etoberq4"})({name:"186aqlb",styles:"position:absolute;right:0.5rem;top:0.5rem;font-size:3rem;z-index:10;svg{width:3rem;height:3rem;text-shadow:black;}"}),uge=C("div",{target:"etoberq3"})({name:"1jjo9fl",styles:"margin:0.15rem;width:2.7rem;height:2.7rem;display:inline-block;background:#ffffff;border:1px solid black;border-radius:50%"}),dge=C(Uw,{target:"etoberq2"})({name:"f0g68e",styles:"fill:#ff0000"}),fge=C(Rl,{target:"etoberq1"})({name:"w492oh",styles:"fill:#f89400;stroke:black"}),SR=C("div",{target:"etoberq0"})($e,";position:absolute;left:",e=>e.position==="end"?"100%":"auto",";right:",e=>e.position==="end"?"auto":"150%",";top:-0.5rem;font-size:1.5rem;height:100%;display:flex;align-items:center;width:25rem;background:rgba(0, 0, 0, 0.75);padding:0.5rem;margin-left:2rem;");function HN({player:e}){const t=DN(e.number);return f.jsxs(hge,{"data-test":`indicator-player-${e.number}`,children:[f.jsx(zN,{playerNumber:e.number}),f.jsx(UN,{status:t}),t!=="unavailable"&&f.jsx(Dw,{playerNumber:e.number}),f.jsx(pge,{className:"ph-no-capture",children:e.getName()})]},e.number)}const hge=C("div",{target:"e17xkp2e1"})({name:"1gmoqr1",styles:"position:relative;border:0.1rem solid white;padding:1rem 3rem;background:black;width:80%;text-align:center;gap:1.25rem;font-size:2.3rem;color:white;-webkit-text-stroke:1px black"}),pge=C("span",{target:"e17xkp2e0"})({name:"179t5g5",styles:"position:relative;z-index:1"});function gge(e){qs(te.playerNameChanged),A.useEffect(()=>{fn.startMonitoring()},[]);const n=Fi(te.playerInputChanged,()=>Me.getInputs()).some(r=>r.source!=="Dummy");return f.jsxs(mge,{...e,children:[f.jsxs(vge,{children:["Microphone Check",n?Me.getPlayers().map(r=>f.jsx(HN,{player:r},r.number)):f.jsxs(f.Fragment,{children:[f.jsx(yge,{children:"Mic not setup"}),f.jsx("h4",{children:"Singing will be emulated"}),f.jsx("h5",{children:"You can setup in the Next step"})]})]}),f.jsx(oge,{})]})}const mge=C("div",{target:"egp8knc2"})("display:flex;font-size:3rem;",$e,";margin-bottom:8.6rem;gap:3.5rem;"),vge=C("div",{target:"egp8knc1"})({name:"fmwdml",styles:"gap:1.25rem;display:flex;flex-direction:column;align-items:center"}),yge=C("div",{target:"egp8knc0"})({name:"1x5xnlp",styles:"position:relative;border:0.1rem solid white;padding:1rem 3rem;background:black;width:80%;text-align:center;gap:1.25rem;font-size:2.3rem;color:white"});function GN({onClose:e,closeButtonText:t}){return f.jsx(wu,{onClose:e,children:f.jsx(_s,{children:f.jsx(Gw,{smooth:!1,onBack:e,onFinish:e,closeButtonText:t,skipText:"Back"})})})}const qN=A.forwardRef(({options:e,focused:t,label:n,value:r,onChange:i,disabled:s,placeholder:o,keyboardNavigationChangeFocus:a,onBlur:l,className:c,...u},d)=>{const h=A.useRef(null);A.useImperativeHandle(d,()=>h.current);const p=A.useRef(null),[g,m]=A.useState(!1),[_,v]=A.useState(-1),y=A.useMemo(()=>e.filter(S=>S.toLowerCase().trim().includes(r.toLowerCase().trim())&&S!==r),[e,r]),b=S=>{var w,E,I;if(S.code==="ArrowUp"||S.code==="ArrowDown")if(y.length){S.preventDefault();const z=fh(y,_,S.code==="ArrowUp"?-1:1);v(z);const N=(w=p.current)==null?void 0:w.querySelector(`[data-index="${z}"]`);N==null||N.scrollIntoView({behavior:"smooth",block:"center"})}else(E=h.current)==null||E.blur(),a==null||a(S.code==="ArrowUp"?-1:1);else if(S.code==="Enter"){const z=y[_];z?(v(-1),i(z)):(I=h.current)==null||I.blur()}},x=()=>{setTimeout(()=>{m(!1),l==null||l()},300)};return f.jsxs(Age,{className:c,children:[f.jsx(Ml,{onFocus:()=>m(!0),onBlur:x,onKeyDown:b,onChange:i,value:r,focused:t,label:n,disabled:s,ref:h,placeholder:o,...u}),g&&!!y.length&&f.jsx(_ge,{ref:p,role:"listbox",children:y.map((S,w)=>f.jsx(bge,{role:"listitem","data-index":w,"data-focused":w===_,"data-e2e-focused":w===_,focused:w===_,onClick:()=>{var E;i(S),v(-1),(E=h.current)==null||E.blur()},children:S},S))})]})}),Age=C("div",{target:"elw4n422"})({name:"bjn8wh",styles:"position:relative"}),_ge=C("div",{target:"elw4n421"})("margin-top:0.1em;position:absolute;width:100%;background:black;max-height:",(1+2*.3)*4,"em;overflow-y:auto;z-index:2;"),bge=C("div",{target:"elw4n420"})($e,";padding:0.3em;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;color:",e=>e.focused?pe.colors.text.active:"white",";cursor:pointer;"),Sge=(e,t)=>{var n;return((n=e[t])==null?void 0:n.name)??`Track ${t+1}`};function xge({multipleTracks:e,player:t,songPreview:n,playerNames:r,register:i,onChange:s,setup:o}){const[a,l]=A.useState(!1),c=A.useRef(null);if(qs(te.playerNameChanged),t===void 0)return null;const u=()=>s({number:t.number,track:(o.track+1)%n.tracksCount}),d=g=>{l(!0),t.setName(g)},h=!a,p=t.getName();return f.jsxs(f.Fragment,{children:[f.jsx(wge,{maxLength:Qb,className:"ph-no-capture",value:h?"":p,placeholder:h?p:void 0,options:r,onChange:d,label:"Name:",ref:c,...i(`player-${t.number}-name`,()=>{var g;return(g=c.current)==null?void 0:g.focus()})}),e&&f.jsx(Ege,{...i(`player-${t.number}-track-setting`,u,"Change track"),label:"Track",value:Sge(n.tracks,o.track),"data-test-value":o.track+1})]})}const wge=C(qN,{target:"euluv3p1"})("input{font-size:4.5rem;}[role='listbox']{max-height:",6*(4.5+.3),"rem;}"),Ege=C(ni,{target:"euluv3p0"})({name:"1bwrnjg",styles:"font-size:4.5rem;padding:1.1rem"});function kge({songPreview:e,onNextStep:t,keyboardControl:n,onExitKeyboardControl:r}){const[i]=De(dr),[s]=De(_b),o=Me.getPlayers(),a=!i&&o.length===2&&e.tracksCount>1,l=()=>o.map((x,S)=>({number:x.number,track:a?Math.min(S,e.tracksCount-1):0})),[c,u]=A.useState(l());di([te.playerAdded,te.playerRemoved],()=>u(l()));const d=o.map((x,S)=>c.find(w=>w.number===x.number)??l()[S]),h=A.useMemo(()=>JSON.parse(Ve.session.getItem(qc))??[],[]),p=x=>S=>{u(w=>w.map(E=>E.number===x?S:E))},[g,m]=A.useState(!1);A.useEffect(()=>{g||fn.startMonitoring()},[g]);const{register:_,focusElement:v}=zn({enabled:n&&!g,onBackspace:r}),y=()=>{t(d)},b=!!s&&s!=="skip";return f.jsxs(f.Fragment,{children:[g&&f.jsx(GN,{closeButtonText:b?"Continue to the song":"Continue to player setup",onClose:()=>{m(!1),b&&v("play")}}),d.map((x,S)=>f.jsxs(Cge,{children:[f.jsxs(Tge,{children:["Player ",S+1]}),f.jsx("div",{children:f.jsx(xge,{multipleTracks:a,player:Me.getPlayer(x.number),setup:x,onChange:p(x.number),playerNames:h,register:_,songPreview:e})})]},x.number)),b&&f.jsx(xR,{..._("play-song-button",y,void 0,!0),children:"Play"}),f.jsx(xR,{..._("select-inputs-button",()=>m(!0),void 0,!1),children:"Setup mics"})]})}const Cge=C("div",{target:"e12y59822"})({name:"ho1qnd",styles:"display:flex;flex-direction:row"}),xR=C(As,{target:"e12y59821"})({name:"afgxf2",styles:"padding:0.5rem 9rem;font-size:4.3rem"}),Tge=C("span",{target:"e12y59820"})($e,";padding:1.3rem;font-size:4.5rem;");function Ige({songPreview:e,onPlay:t,keyboardControl:n,onExitKeyboardControl:r}){const[i,s]=A.useState(null),[o,a]=A.useState("song"),l=u=>{s(u),a("players")},c=u=>{if(!i)return;const d={...i,players:u};te.songStarted.dispatch(e,d),t({song:e,...d})};return f.jsxs(Rge,{children:[f.jsx(gge,{style:o==="players"?{viewTransitionName:"player-mic-check-container"}:void 0}),f.jsxs(Mge,{children:[o==="song"&&f.jsx(rge,{songPreview:e,onNextStep:l,keyboardControl:n,onExitKeyboardControl:r}),o==="players"&&f.jsx(kge,{songPreview:e,onNextStep:c,keyboardControl:n,onExitKeyboardControl:()=>a("song")})]})]})}const Rge=C("div",{target:"eu207dr1"})({name:"k6gb66",styles:"display:flex;flex-direction:row;align-items:flex-end;justify-content:space-between;width:100%;hr{margin:1rem;opacity:0.25;}"}),Mge=C("div",{target:"eu207dr0"})({name:"115sh08",styles:"width:auto;display:flex;flex-direction:column;align-items:flex-end;gap:1.25rem"}),Pge=30;function jge({songPreview:e,top:t,left:n,width:r,height:i,keyboardControl:s,onExitKeyboardControl:o,onPlay:a,isPopular:l,forceFlag:c}){const[u,d]=A.useState(!1),h=A.useRef(null),{width:p,height:g}=gh(),m=s;A.useLayoutEffect(()=>{d(!1)},[e.video]);const _=e.previewStart??(e.videoGap??0)+60,v=e.previewEnd??_+Pge,y=A.useMemo(()=>[e.video,_,v,e.volume],[e.video,_,v,e.volume]),[b,x,S,w]=bw(y,350);A.useEffect(()=>{var N;(N=h.current)==null||N.loadVideoById({videoId:b,startSeconds:x,endSeconds:S})},[b,h,x,S]);const E=m?p:r,I=m?g:i,z=m?Math.min(p/20*9,g*(4/5)):i;return A.useEffect(()=>{var N;(N=h.current)==null||N.setSize(E,I)},[E,I,s]),f.jsxs(f.Fragment,{children:[m&&f.jsx(Lge,{onClick:o}),!m&&u&&f.jsx(Dge,{width:E,height:I,left:n,top:t,song:e}),f.jsx(Vge,{forceFlag:c,isPopular:l,background:m||u,video:f.jsx(Nge,{"data-show":u,"data-expanded":m,height:z,id:"preview-video-container",children:f.jsx(jw,{width:0,height:0,disablekb:!0,ref:h,video:"",volume:w,onStateChange:N=>{var D,Q;N===Tn.ENDED?((D=h.current)==null||D.seekTo(_),(Q=h.current)==null||Q.playVideo()):N===Tn.PLAYING&&d(!0)}})}),focused:!0,song:e,top:t,left:n,width:E,height:z,"data-show-video":u,"data-expanded":m,"data-song":e.id,"data-test":"song-preview",children:f.jsx(Bge,{"data-expanded":m,children:m&&f.jsx(Ige,{songPreview:e,onPlay:a,keyboardControl:s,onExitKeyboardControl:o})})})]})}const Oge=C(LN,{target:"e1vaewax4"})("--preview-padding:5rem;width:",e=>e.width,"px;height:",e=>e.height,"px;position:absolute;z-index:3;overflow:hidden;visibility:hidden;&[data-expanded='true'],&[data-show-video='true']{visibility:visible;}&[data-expanded='true']{z-index:201;border-radius:0;border:0;position:fixed;padding:var(--preview-padding);}&[data-expanded='false']{pointer-events:none;&[data-show-video='true']{animation:rhythmPulse 1s infinite;}}@keyframes rhythmPulse{0%{transform:scale(1.2);}15%{transform:scale(1.25);}100%{transform:scale(1.2);}}view-transition-name:song-preview;",Qw,"{view-transition-name:song-preview-artist;}",cv,"{view-transition-name:song-preview-title;}",NN,"{view-transition-name:song-preview-expanded-data;}"),Vge=e=>{const t=e.song.realBpm||(e.song.bpm>300?e.song.bpm/4:e.song.bpm/2),n=e["data-expanded"];return f.jsx(Oge,{...e,style:{...e.style,top:n?`calc(50vh - ${e.height}px / 2)`:e.top,left:n?0:e.left,animationDuration:`${60/t}s`}})},Lge=C("div",{target:"e1vaewax3"})({name:"1iz7jdz",styles:"position:fixed;top:0;left:0;background:rgba(0, 0, 0, 0.8);width:100vw;height:100vh;z-index:201"}),Nge=C("div",{target:"e1vaewax2"})("&[data-expanded='true']{position:fixed;inset:0;clip-path:inset(calc((100vh - ",e=>e.height,"px) / 2) 0);}&[data-expanded='true'],&[data-show='true']{div{transition:1000ms;}}&[data-expanded='false']{position:absolute;top:0;left:0;background-image:none!important;border-radius:0.5rem;}&[data-show='false']{div{opacity:0;}}&[data-show='true']{div{opacity:1;}}"),Bge=C("div",{target:"e1vaewax1"})({name:"uljwlo",styles:"inset:auto var(--preview-padding);position:fixed;z-index:100;&[data-expanded='false']{transform:scale(0.1);}border-radius:0.5rem;view-transition-name:song-preview-content"}),$ge=C("div",{target:"e1vaewax0"})("background:white;width:",e=>e.width,"px;height:",e=>e.height,"px;z-index:2;top:0;left:0;position:absolute;animation:bpm 1s infinite;border-radius:0.5rem;pointer-events:none;@keyframes bpm{0%{transform:scale(1.15);opacity:1;}100%{transform:scale(1.45);opacity:0;}}"),Dge=e=>{const[t]=De(ji);if(t==="low")return null;const n=e.song.realBpm||(e.song.bpm>300?e.song.bpm/4:e.song.bpm/2);return f.jsx($ge,{width:e.width,height:e.height,style:{left:e.left,top:e.top,animationDuration:`${60/n}s`}})};function Fge(e){var t=Op(e),n=t%1;return t===t?n?t-n:t:0}var zge=Math.ceil,Uge=Math.max;function U_(e,t,n){(n?qj(e,t,n):t===void 0)?t=1:t=Uge(Fge(t),0);var r=e==null?0:e.length;if(!r||t<1)return[];for(var i=0,s=0,o=Array(zge(r/t));i<r;)o[s++]=TS(e,i,i+=t);return o}const Hge=(e,t,n)=>e>=t&&e<n;function Gge(e,t){var b,x,S;const n=A.useMemo(()=>{const w=[];return e.groupSizes.forEach((E,I)=>{var z,N;w.push({index:I,type:"group",bottom:(((z=w.at(-1))==null?void 0:z.bottom)??0)+e.groupHeight,groupIndex:I});for(let D=0;D<E;D++){const Q=e.groupSizes.reduce((P,L,M)=>P+(M<I?L:0),0)+D;w.push({index:Q,type:"item",bottom:(((N=w.at(-1))==null?void 0:N.bottom)??0)+e.itemHeight,groupIndex:I})}}),w},[e.itemHeight,e.groupHeight,e.groupSizes]),r=((b=n.at(-1))==null?void 0:b.bottom)??0,i=A.useRef(null),s=((x=i.current)==null?void 0:x.getBoundingClientRect().height)??global.innerHeight,o=A.useCallback(w=>{const E=n.findIndex(z=>z.bottom>w-e.overScan),I=n.findIndex(z=>z.bottom>w+s+e.overScan);return[E,I===-1?n.length:I]},[n,s,e.overScan]),[[a,l],c]=A.useState(o(0));A.useLayoutEffect(()=>{var E;const w=o(((E=i.current)==null?void 0:E.scrollTop)??0);(a!==w[0]||l!==w[1])&&c(w)},[o,e.groupSizes,a,l]),A.useEffect(()=>{if(i.current){const w=()=>{var I;const E=o(((I=i.current)==null?void 0:I.scrollTop)??0);(a!==E[0]||l!==E[1])&&c(E)};return i.current.addEventListener("scroll",w),i.current.scrollTop>r&&i.current.scrollTo({top:0}),()=>{var E;(E=i.current)==null||E.removeEventListener("scroll",w)}}},[a,l,o,r]);const u=A.useCallback((w,E)=>{var I,z;return(((I=n[E])==null?void 0:I.bottom)??0)-(((z=n[w])==null?void 0:z.bottom)??0)},[n]),d=A.useMemo(()=>u(-1,a-1),[a,u]),h=n.slice(0,a).findLastIndex(({type:w})=>w==="group"),p=n.slice(a,l),g=h!==-1?[[]]:[];for(let w=0;w<p.length;w++){const E=p[w];E.type==="group"&&g.push([]),(S=g.at(-1))==null||S.push(E)}A.useImperativeHandle(t,()=>({getItemPositionY:w=>{var E;return(((E=n.find(I=>I.type==="item"&&I.index===w))==null?void 0:E.bottom)??-1)-e.itemHeight},scrollTo:w=>{var E;(E=i.current)==null||E.scrollTo({top:w})},scrollToIndex:async(w,E="auto",I="center")=>{var N,D;const z=n.find(Q=>Q.type==="item"&&Q.index===w);if(z){const Q=(e.itemHeight+(I==="center"?(N=i.current)==null?void 0:N.clientHeight:0))/2;(D=i.current)==null||D.scrollTo({top:z.bottom-Q,behavior:E})}},scrollToGroup:async(w,E="auto",I="top")=>{var N;const z=n.find(D=>D.type==="group"&&D.index===w);z&&((N=i.current)==null||N.scrollTo({top:z.bottom-e.groupHeight,behavior:E}))}}));const{Header:m,Footer:_,EmptyPlaceholder:v}=e.components??{},y=n.findIndex(w=>w.type==="item"&&w.index===e.forceRenderItem);return f.jsx(f.Fragment,{children:f.jsxs(Wge,{ref:i,children:[f.jsxs(qge,{style:{height:r,paddingTop:h!==-1?d-e.groupHeight:d},children:[m&&f.jsx(m,{context:e.context}),n[y]&&!Hge(y,a,l)&&f.jsx(f.Fragment,{children:e.itemContent(n[y].index,n[y].groupIndex,{style:{width:"100%",position:"absolute",top:n[y].bottom-e.itemHeight,left:0,boxSizing:"border-box"},"data-virtualized-bottom":n[y].bottom,"data-virtualized-index":n[y].index})}),g.map((w,E)=>f.jsxs("div",{children:[E===0&&h!==-1&&e.groupContent(n[h].index),w.map(({index:I,type:z,bottom:N,groupIndex:D})=>f.jsx(A.Fragment,{children:z==="group"?e.groupContent(I):e.itemContent(I,D,{"data-virtualized-bottom":N,"data-virtualized-index":I})},`${N}`))]},(w[0]??n[h]).groupIndex))]}),g.length===0&&v&&f.jsx(v,{context:e.context}),_&&f.jsx(_,{context:e.context})]})})}const qge=C("div",{target:"e1c20jfn1"})({name:"100d0a9",styles:"box-sizing:border-box;position:relative"}),Wge=C("div",{target:"e1c20jfn0"})({name:"1wyitvb",styles:"overflow:auto;height:100%;width:100%"}),Kge=A.forwardRef(Gge);function Yge(e,t){const n=A.useRef(null),r=A.useMemo(()=>e.groups.map(u=>({group:u,rows:U_(u.songs,e.perRow)})),[e.groups,e.perRow]),i=A.useMemo(()=>r.map(({rows:u})=>u.length),[r]),s=A.useMemo(()=>r.flatMap(({rows:u})=>u),[r]),{ListRowWrapper:o,GroupRowWrapper:a}=e,l=A.useCallback((u,d)=>{let h=e.groups.findIndex(p=>p.name===u);return h===-1?e.groups.findIndex(p=>p.songs.some(g=>g.index===d)):h},[e.groups]),c=A.useCallback((u,d)=>{let h=l(u,d);if(h===-1)return;const p=e.groups[h].songs.findIndex(g=>g.index===d);return r.slice(0,h).reduce((g,{rows:m})=>g+m.length,Math.floor(p/e.perRow))},[l,r,e.groups,e.perRow]);return A.useImperativeHandle(t,()=>({getSongPosition:(u,d)=>{var v;let h=l(u,d);if(h===-1)return;const p=e.groups[h].songs.findIndex(y=>y.index===d),g=r.slice(0,h).reduce((y,{rows:b})=>y+b.length,Math.floor(p/e.perRow)),m=((v=n.current)==null?void 0:v.getItemPositionY(g))??-1;return{x:p%e.perRow,y:m}},scrollToGroup:u=>{var h;const d=e.groups.findIndex(p=>p.name===u);d!==-1&&((h=n.current)==null||h.scrollToGroup(d,"smooth"))},scrollToSongInGroup:async(u,d,h="smooth")=>{var g;const p=c(u,d);p!==void 0&&((g=n.current)==null||g.scrollToIndex(p,Hs()?"auto":h))}})),f.jsx(f.Fragment,{children:f.jsx(Kge,{forceRenderItem:c(e.focusedGroup,e.focusedSong)??-1,overScan:e.itemHeight*2,itemHeight:e.itemHeight,groupHeight:e.groupHeight,components:e.components,context:e.context,groupContent:(u,d)=>f.jsx(a,{group:r[u].group,...d,children:e.renderGroup(r[u].group)}),ref:n,groupSizes:i,itemContent:(u,d,h)=>f.jsxs(o,{"data-is-new":r[d].group.isNew,...h,children:[s[u].map(p=>e.renderItem(p,r[d].group)),e.placeholder&&s[u].length<e.perRow&&new Array(e.perRow-s[u].length).fill(null).map((p,g)=>f.jsx(A.Fragment,{children:e.placeholder},g))]})},e.itemHeight)})}const Qge=A.forwardRef(Yge),WN=(e,t)=>e+Math.random()*(t-e),Ls=(e,t)=>Math.round(WN(e,t)),Jge=250,Xge=750;function Zge(e){const t=MI(async()=>(await fetch("/mostPopularSongs.json")).json(),[]),n=MI(async()=>vq(),[]),r=A.useMemo(()=>mm.recentlyUpdated(e),[e]).map(l=>l.id),[i]=De(Cm),s=t.loading||n.loading||!e.length,o=A.useMemo(()=>{if(s)return;const l=Object.keys(n.value).filter(g=>n.value[g].scores.some(m=>(m.progress??0)>.8)),c=Object.keys(t.value).filter(g=>!(i!=null&&i.includes(g))),u=[...new Set([...c,...i??[]])],d=e.filter(g=>!u.some(m=>g.language.includes(m))||g.local).map(g=>g.id).concat(...l),h=Math.max(Jge,Xge-Math.round(d.length/1.75)),p=c.map(g=>t.value[g].slice(0,h)).flat();return{popular:[...new Set([...l,...p,...d,...r])]}},[i,s,t.value,e,n.value]),a=A.useMemo(()=>({popular:[]}),[]);return{value:o??a,loading:s}}const eme=e=>{const t=/[^a-zA-Z]/;return{name:isFinite(+e.artist[0])||t.test(e.artist[0])?"0-9":e.artist[0].toUpperCase()}};function tme(){const e=ph(),{value:{popular:t},loading:n}=Zge(e.data),r=e.isLoading||n,{filters:i,filteredList:s,setFilters:o,selectedPlaylist:a,setSelectedPlaylist:l,playlists:c,playlist:u}=$ue(e.data,t,r);return{groupedSongList:A.useMemo(()=>{var p;if(s.length===0)return[];const h=[];if(i.search)return h.push({name:"Search results",songs:s.map((g,m)=>({index:m,song:g,isPopular:t.includes(g.id)}))}),h;{(u!=null&&u.sortingFn?[...s].sort(u.sortingFn):s).forEach(_=>{try{const{name:v,...y}=((u==null?void 0:u.groupData)??eme)(_);let b=h.find(x=>x.name===v);b||(b={name:v,songs:[],...y},h.push(b)),b.songs.push({index:s.indexOf(_),song:_,isPopular:t.includes(_.id)})}catch(v){console.error(v),Us(v)}});const m=((p=u==null?void 0:u.postGrouping)==null?void 0:p.call(u,h))??h;if(!(u!=null&&u.hideNew)){const _=s.filter(v=>v.isNew);_.length&&_.length<50&&m.unshift({name:"New",isNew:!0,songs:_.map(v=>({song:v,index:s.indexOf(v),isPopular:t.includes(v.id)}))})}return m}},[s,i.search,t,u]),songList:s,filters:i,setFilters:o,isLoading:r,selectedPlaylist:a,setSelectedPlaylist:l,playlists:c}}function ym(e){const t=A.useRef(e);return A.useEffect(()=>{t.current=e},[e]),t.current}const nme=30;function rme(e,t,n=nme){let r;if(t.length<e){const i=[...Array(e).keys()].filter(s=>!t.includes(s));r=i[Ls(0,i.length-1)]}else r=Ls(0,e-1),t.length=0;return t.length>=n&&t.shift(),t.push(r),r}const ime=(e=[],t)=>{var _;const[n,r]=A.useState([0,0]),i=A.useMemo(()=>e.map(({songs:v})=>v.length).join(","),[e]),s=A.useMemo(()=>e.map(({songs:v})=>U_(v.map(y=>y.index),t)).flat(),[i,t]),o=A.useMemo(()=>e.map(({songs:v,name:y})=>U_(v.map(()=>y),t)).flat(),[i,t]),a=ym(s??[]),l=n[0]===((_=s[n[1]])==null?void 0:_.length)-1,c=A.useCallback((v,y)=>{var S;const b=s.findIndex((w,E)=>w.includes(v)&&(!y||y===o[E][0])),x=(S=s[b])==null?void 0:S.indexOf(v);x>=0&&b>=0?r([x??0,b??0]):r([0,0])},[s]),u=([v,y],b,x)=>{var w;if(e.length===0)return x;const S=b[y];return(S==null?void 0:S[v])??(S==null?void 0:S.at(-1))??((w=b==null?void 0:b[0])==null?void 0:w[0])??x},d=([v,y],b=s)=>u([v,y],b,0),h=([v,y],b=o)=>u([v,y],b,"A");A.useEffect(()=>{const v=d(n,a),y=d(n,s);a.length&&v!==y&&c(v)},[n,s,a,l]);const p=(v,y)=>{o0.play(),r(([b,x])=>{let S=b,w=x;if(v==="y")w=x+y;else{if(s[x]===void 0)debugger;const E=s[x].length-1;S=Math.min(b,E)+y,S<0?(w=(s.length+x-1)%s.length,S=s[w].length-1):S>E&&(w=x+1,S=0)}return[S%t,(s.length+w)%s.length]})},g=d(n),m=h(n);return[g,m,n,p,c,l]},sme=(e,t=[],n,r,i,s)=>{const o=qr(),[a,l]=A.useState([!1,null]),c=ym(a),[u,d]=a,[h,p,g,m,_,v]=ime(t,s),y=g[0]===0,b=()=>{lS.play(),n()},[x,S]=A.useState(!1),w=ym(i.search);A.useLayoutEffect(()=>{if(w&&!i.search){S(!0);const M=setTimeout(()=>S(!1),2e3);return()=>{clearTimeout(M),S(!1)}}},[i.search]);const E=()=>{!x&&!i.search&&(cS.play(),o("menu/"))},I=A.useCallback(xc((M,T)=>{const U=(t.length+T+M)%t.length;_(t[U].songs[0].index),o0.play()},700,{trailing:!1}),[t]),z=(M,T)=>{if(!(M!=null&&M.repeat))m("y",T);else{const U=t.findIndex(j=>!!j.songs.find($=>$.index===h));I(T,U)}},N=(M,T=!1)=>{!T&&M===-1&&y&&!u?l([!0,"left"]):m("x",M)},D=A.useRef([]),Q=()=>{const M=rme(r,D.current);_(M)};Cl({accept:b,down:M=>z(M,1),up:M=>z(M,-1),left:()=>N(-1),right:()=>N(1),back:E,random:Q},e&&!u,[t,g,u,i,x]);const P=A.useMemo(()=>({"horizontal-vertical":null,accept:null,back:null,shiftR:null,alphanumeric:null,remote:["search"]}),[]);Eu(P,e);const L=A.useCallback(M=>{l([!1,M??null])},[l,N,t,g]);return A.useLayoutEffect(()=>{const[M,T]=c;M&&!u&&T===d&&N(d==="right"?1:-1,!0)},[u,d,y,v,...g]),[h,p,_,u,L,Q]};function ome(e,t){const{songList:n,groupedSongList:r,setFilters:i,filters:s,isLoading:o,selectedPlaylist:a,setSelectedPlaylist:l,playlists:c}=tme(),[u,d]=A.useState(!0),h=w=>{Mf(()=>{xu.flushSync(()=>{d(w)})}),uS.play()},[p,g,m,_,v,y]=sme(u,r,()=>h(!1),n.length,s,t),[b,x]=A.useState(!1);A.useEffect(()=>{if(!b&&n.length&&!o){const w=n.findIndex(z=>z.id===e),E=n.findIndex(z=>z.isNew);let I=Ls(0,n.length-1);(w>-1||E>-1)&&(I=w),x(!0),m(I)}},[m,b,p,n,e,o]),A.useEffect(()=>{var w;if(b&&n.length&&n[p]&&!o){const E=new URL((w=global.location)==null?void 0:w.href);E.searchParams.set("song",n[p].id),global.history.replaceState(null,"",E.toString())}},[b,p,n,o]);const S=n==null?void 0:n[p];return{groupedSongList:r,focusedSong:p,focusedGroup:g,moveToSong:m,setKeyboardControl:h,keyboardControl:u,songPreview:S,songList:n??[],filters:s,setFilters:i,showFilters:_,setShowFilters:v,isLoading:o||!b,randomSong:y,selectedPlaylist:a,setSelectedPlaylist:l,playlists:c}}const ame=1.2,wR=4,KN=7,H_=4.5,ER=KN+H_,mp=3.5,lme={Header:({context:e})=>f.jsxs(f.Fragment,{children:[f.jsx(mme,{}),e&&e.songPreview.songPreview&&f.jsx(jge,{...e.songPreview})]}),Footer:()=>f.jsxs(ume,{children:["Missing a song? Try"," ",f.jsx(Zx,{to:"convert/",children:f.jsx("a",{children:"adding one"})})," ","yourself!"]}),EmptyPlaceholder:()=>f.jsx(pme,{children:"No songs found"})};function cme({onSongSelected:e,preselectedSong:t}){const[n]=De(dr),r=n?wR-1:wR;ba(!1),ma(!0),TN();const{focusedGroup:i,focusedSong:s,moveToSong:o,groupedSongList:a,keyboardControl:l,songPreview:c,setKeyboardControl:u,setFilters:d,filters:h,setShowFilters:p,showFilters:g,isLoading:m,randomSong:_,selectedPlaylist:v,setSelectedPlaylist:y,playlists:b,songList:x}=ome(t,r),S=A.useMemo(()=>a.map(F=>F.songs).flat().find(F=>F.song.id===(c==null?void 0:c.id)),[c,a]),w=A.useRef(null),E=ppe(),{width:I,handleResize:z}=gh(),D=(I-(ER+H_)*E-(r-1)*mp*E)/r,Q=D*(9/16),P=Q/2,L=A.useCallback(()=>u(!1),[u]),M=m||!a||!I,T=v==="Eurovision",U=A.useRef(null);A.useEffect(()=>{const F=ne=>x.findIndex(O=>O.id===ne);return global.__songList={scrollToSong:ne=>{var ae;const[O]=ne.split("-new-group"),fe=ne.endsWith("-new-group"),Z=a.find(je=>!!je.isNew===fe&&je.songs.some(Ae=>Ae.song.id===O));if(Z){const je=F(O);return(ae=w.current)==null||ae.scrollToSongInGroup(Z.name,je,"auto"),!0}return!1}},()=>{delete global.__songList}},[a,x]);const[{previewTop:j,previewLeft:$},V]=A.useState({previewTop:0,previewLeft:0});A.useEffect(()=>{const F=document.querySelector(`[data-song-index="${s}"][data-group="${i}"]`);!m&&F?V({previewTop:F.offsetTop+F.parentNode.offsetTop,previewLeft:F.offsetLeft}):m||console.warn("!!!!!!!!!!!! Song not found !!!!!!!!!!!!")},[s,i,m,I]),A.useEffect(()=>{var F;z(),m||(F=w.current)==null||F.scrollToSongInGroup(i,s)},[I,s,i,a,m,z]);const G=qr();return Er("Shift + E",()=>G(dm("edit/song/",{playlist:null,step:"metadata"})),[G]),f.jsx(Mo,{children:f.jsxs(dme,{songsPerRow:r,style:{"--song-group-header-height":`${Math.floor(P)}px`,"--song-entry-width":`${Math.floor(D)}px`,"--song-entry-height":`${Math.floor(Q)}px`,"--song-list-gap":`${Math.floor(mp*E)}px`,"--song-list-padding-left":`${Math.floor(ER*E)}px`,"--song-list-padding-right":`${Math.floor(H_*E)}px`,"--song-sidebar-weight":`${Math.floor(KN*E)}px`},children:[M?f.jsxs(kR,{children:[f.jsx(TR,{children:f.jsx(RR,{children:f.jsx(G_,{children:""})})}),new Array(4).fill(0).map((F,ne)=>f.jsx(IR,{children:new Array(4).fill(0).map((O,fe)=>f.jsx(CR,{},fe))},ne))]}):f.jsxs(f.Fragment,{children:[c&&f.jsx(fme,{videoId:c.video}),f.jsx(bpe,{setFilters:d,filters:h,onRandom:_,keyboardControl:l}),f.jsx(Xpe,{container:U.current,groupedSongList:a,onScrollToGroup:F=>{o(F.songs[0].index),setTimeout(()=>{var ne;return(ne=w.current)==null?void 0:ne.scrollToGroup(F.name)},20)}}),f.jsx(kR,{active:l,dim:g,"data-test":"song-list-container",ref:U,children:f.jsx(Qge,{focusedSong:s,focusedGroup:i,ListRowWrapper:IR,GroupRowWrapper:TR,ref:w,groups:a,itemHeight:Math.floor(Q)+Math.floor(mp*E),groupHeight:Math.floor(P)+Math.floor(mp*E),components:lme,renderGroup:F=>f.jsx(RR,{"data-highlight":F.name==="New",children:f.jsx(G_,{"data-group-name":F.name,children:F.displayLong??F.name})},F.name),perRow:r,renderItem:(F,ne)=>{const O=F.index===s&&ne.name===i;return A.createElement(gme,{...g||!l?{"data-unfocusable":!0}:{},isPopular:F.isPopular,key:F.song.id,song:F.song,handleClick:O?L:o,focused:!g&&l&&O,index:F.index,groupLetter:ne.name,"data-song-index":F.index,"data-focused":!g&&l&&F.index===s,"data-test":`song-${F.song.id}${ne.isNew?"-new-group":""}`,"data-group":ne.name,forceFlag:T})},placeholder:f.jsx(CR,{style:{visibility:"hidden"}}),context:{songPreview:{forceFlag:T,isPopular:!!(S!=null&&S.isPopular),keyboardControl:!l,onPlay:e,onExitKeyboardControl:()=>u(!0),songPreview:c,top:j,left:$,width:Math.floor(D),height:Math.floor(Q)}}})})]}),f.jsx(Tpe,{selectedPlaylist:v,setSelectedPlaylist:y,playlists:b,active:g,closePlaylist:p})]})})}const ume=C("div",{target:"e13s0pn12"})($e,";text-align:center;font-size:5rem;padding:10rem 0;"),dme=C("div",{target:"e13s0pn11"})({name:"usdvu5",styles:"display:flex;flex-direction:row;max-height:100vh"}),fme=e=>{const{theme:t}=A.useContext(PS);return t==="eurovision"?null:f.jsx(hme,{...e})},hme=C(xpe,{target:"e13s0pn10"})({name:"ybgcp",styles:"position:fixed;inset:0;width:100%;height:100%;filter:blur(7px) grayscale(90%);opacity:0.25;object-fit:cover"}),pme=C("div",{target:"e13s0pn9"})($e,";display:flex;align-items:center;justify-content:center;flex:1;height:75vh;font-size:10rem;"),G_=C("div",{target:"e13s0pn8"})($e,";display:flex;padding:0.5rem 1rem;font-size:3.5rem;z-index:1;color:",pe.colors.text.active,";background:rgba(0, 0, 0, 0.7);align-items:center;gap:1rem;"),kR=C("div",{target:"e13s0pn7"})("position:relative;flex:1 1 auto;min-height:100vh;max-height:100vh;transition:opacity 500ms;opacity:",e=>e.dim?.5:1,";"),CR=C("div",{target:"e13s0pn6"})({name:"1mtg8xe",styles:"background:black;flex-basis:var(--song-entry-width);height:var(--song-entry-height);border-radius:1rem;animation:skeleton 1s ease-in-out infinite alternate;@keyframes skeleton{0%{opacity:0.65;}100%{opacity:0.75;}}"}),gme=A.memo(C(LN,{target:"e13s0pn5"})("cursor:pointer;flex-basis:var(--song-entry-width);height:var(--song-entry-height);transition:300ms;transform:scale(1);&[data-focused='true']{transform:scale(",ame,");z-index:2;",Yc,";}")),mme=C("div",{target:"e13s0pn4"})(""),YN=C("div",{target:"e13s0pn3"})({name:"1syiygp",styles:"display:flex;flex-wrap:nowrap;justify-content:space-between;padding:calc(var(--song-list-gap) / 2) var(--song-list-padding-right) calc(var(--song-list-gap) / 2) var(--song-list-padding-left)"}),TR=C(YN,{target:"e13s0pn2"})({name:"1rn35zs",styles:"position:sticky;top:0;z-index:3"}),IR=C(YN,{target:"e13s0pn1"})({name:"s8hqg9",styles:"position:relative;&[data-is-new='true']{background:rgba(0, 0, 0, 0.7);}"}),RR=C("div",{target:"e13s0pn0"})("display:flex;align-items:flex-end;height:var(--song-group-header-height);&[data-highlight='true']{",G_,"{animation:new-song-group-header 600ms ease-in-out infinite both;background:#ffffff;@keyframes new-song-group-header{0%,100%{transform:scale(1);}50%{transform:scale(1.1);}}}}");function vme(e){const[t,n]=De(Cm),[r,i]=A.useState(t===null),s=()=>{n(t??[]),i(!1)};return r?f.jsx(JL,{onClose:s,closeText:"Continue to Song Selection"}):f.jsx(cme,{...e})}var Jw={},yme=st;Object.defineProperty(Jw,"__esModule",{value:!0});var QN=Jw.default=void 0,Ame=yme(ct()),_me=f;QN=Jw.default=(0,Ame.default)((0,_me.jsx)("path",{d:"M16.59 7.58 10 14.17l-3.59-3.58L5 12l5 5 8-8zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"}),"CheckCircleOutline");const Ju=e=>new Promise(t=>setTimeout(t,e)),Xy=15;function bme({onFinish:e}){const[t,n]=A.useState(!1),[r,i]=A.useState([]);di(te.readinessConfirmed,a=>{i(l=>[...l,a])});const s=Fi([te.inputListChanged,te.readinessConfirmed],()=>Me.getPlayers().map((a,l)=>[a.input.deviceId,a.getName(),a]));A.useEffect(()=>{(async()=>{let a=!1;const l=Me.requestReadiness().then(()=>{a=!0,n(!0)}),c=Ju(1500),u=Ju(Xy*1e3);await Ju(250),a||await Lp.play(),await Promise.race([Promise.all([l,c]),u]),Lp.playing()&&Zj.play(),await Ju(500),Lp.pause(),await Ju(1e3),e()})()},[]);const o=s.map(([a,l,c])=>({confirmed:r.includes(a),name:l,player:c}));return f.jsx(f.Fragment,{children:f.jsxs(Sme,{children:[!t&&f.jsxs("span",{children:["Waiting for all players to click ",f.jsx("strong",{children:'"Ready"'})]}),f.jsx(wme,{children:o.map(({confirmed:a,name:l,player:c},u)=>f.jsxs(Eme,{className:"ph-no-capture","data-test":"player-confirm-status","data-name":l,"data-confirmed":a,children:[!t&&f.jsx(kme,{children:a?f.jsx(QN,{}):f.jsx(hh,{color:"info",size:"1em"})})," ",f.jsx(HN,{player:c})]},u))}),!t&&f.jsxs(xme,{children:["The song will start automatically in"," ",f.jsx("strong",{children:f.jsx(Mw,{end:0,start:Xy,duration:Xy,useEasing:!1})})]})]})})}const Sme=C("div",{target:"e1wiz9j54"})("top:0;left:0;z-index:1000;display:flex;align-items:center;justify-content:center;flex-direction:column;position:absolute;width:100%;height:100%;gap:5rem;font-size:5rem;",$e,";"),xme=C("span",{target:"e1wiz9j53"})({name:"1umnjfm",styles:"font-size:5rem"}),wme=C("div",{target:"e1wiz9j52"})({name:"1uxgijs",styles:"display:flex;flex-direction:column;gap:5rem;width:50rem;view-transition-name:player-mic-check-container"}),Eme=C("div",{target:"e1wiz9j51"})({name:"174652e",styles:"display:flex;align-items:center;gap:2rem;transform:scale(1.5)"}),kme=C("span",{target:"e1wiz9j50"})({name:"1l5xwqu",styles:"svg{width:5rem;height:5rem;stroke:black;}"});function Cme({register:e,onExit:t}){const n=A.useRef(null),[r,i]=A.useState(!1),[s,o]=A.useState(!1),[a,l]=A.useState(!1);A.useEffect(()=>{var u;(u=n.current)==null||u.focus()},[n]);const c=()=>{const u=Ne.getSong(),d={songId:u==null?void 0:u.id,songLastUpdated:u==null?void 0:u.lastUpdate},h=[];r&&h.push("not-in-sync"),s&&h.push("wrong-volume"),a&&h.push("bad-lyrics"),h.length&&On.capture("rate-song",{issues:h,...d}),t()};return f.jsx(f.Fragment,{children:f.jsxs(_s,{children:[f.jsx("h1",{children:"Is the song OK?"}),f.jsx("h4",{children:"If there's something wrong with the song, let me know so I can fix it"}),f.jsxs(Zy,{...e("button-not-in-sync",()=>i(u=>!u)),size:"small",children:[f.jsx(eA,{children:r?f.jsx(Fd,{}):f.jsx(zd,{})}),f.jsx("span",{children:"Lyrics are not in sync"})]}),f.jsxs(Zy,{...e("button-bad-lyrics",()=>l(u=>!u)),size:"small",children:[f.jsx(eA,{children:a?f.jsx(Fd,{}):f.jsx(zd,{})}),f.jsx("span",{children:"Wrong lyrics, missing spaces etc."})]}),f.jsxs(Zy,{...e("button-wrong-volume",()=>o(u=>!u)),size:"small",children:[f.jsx(eA,{children:s?f.jsx(Fd,{}):f.jsx(zd,{})}),f.jsx("span",{children:"Too loud/quiet"})]}),f.jsx("hr",{}),f.jsx(Re,{...e("button-song-ok",c,void 0,!0),ref:n,children:s||r?"Submit and exit":"All good, exit the song"})]})})}const Zy=C(Re,{target:"e1prcfby1"})({name:"12ib3m7",styles:"justify-content:flex-start;gap:1rem"}),eA=C("div",{target:"e1prcfby0"})({name:"224g68",styles:"svg{width:3rem;height:3rem;}display:flex;align-items:center;justify-content:center"});function Tme({onResume:e,onExit:t,onRestart:n}){const r=qr(),i=A.useRef(null),s=A.useRef(null);A.useEffect(()=>{var h;(h=i.current)==null||h.focus()},[i]);const[o,a]=A.useState(!1),{register:l}=zn({enabled:!o}),[c,u]=A.useState(!1),d=async()=>{const h=Ne.getSongCompletionProgress(),p=(await Gs.getIndex()).find(g=>{var m;return g.id===((m=Ne.getSong())==null?void 0:m.id)});!(p!=null&&p.local)&&h<.7&&!Hs()?u(!0):t()};return f.jsxs(wu,{onClose:e,children:[!c&&f.jsxs(f.Fragment,{children:[f.jsxs(_s,{children:[f.jsx(Re,{...l("button-resume-song",e),ref:i,children:"Resume song"}),f.jsx(Re,{...l("button-restart-song",n),children:"Restart song"}),f.jsx(Re,{...l("button-exit-song",d),children:"Exit song"}),f.jsx(Re,{...l("input-settings",()=>a(!0)),children:"Microphones settings"}),f.jsx("hr",{}),f.jsx(iN,{ref:s,...l("input-lag",()=>{var h;return(h=s.current)==null?void 0:h.focus()})}),f.jsx(Re,{...l("edit-song",()=>{var h;return r("edit/song/",{song:((h=Ne.getSong())==null?void 0:h.id)??""})}),size:"small",children:"Edit song"})]}),o&&f.jsx(GN,{onClose:()=>a(!1),closeButtonText:"Back to Pause Menu"})]}),c&&f.jsx(Cme,{onExit:t,register:l})]})}const JN=Hs()?1e3:8e3;function Ime(e){return Math.floor((sv(e)-JN)/1e3)}const Rme=2e4;function Mme(e){return sv(e)-(e.videoGap??0)*1e3>Rme}function Pme({playerRef:e,isEnabled:t}){const[n]=De(dr),r=Ne.getSong(),i=A.useMemo(()=>Mme(r),[r]),s=A.useMemo(()=>sv(r),[r]),o=Ne.getCurrentTime(!1)<s-JN*1.2,a=t&&o&&i;Cl({accept:()=>{e==null||e.seekTo(Ime(r));const{artist:u,title:d}=Ne.getSong();On.capture("introSkipped",{name:`${u} - ${d}`,artist:u,title:d})}},a);const c=A.useMemo(()=>({accept:"Skip Intro",back:"Pause Menu"}),[]);return Eu(c,a),!n&&a?f.jsxs(jme,{visible:a,"data-test":"skip-intro-info",children:["Press ",f.jsx(Ome,{children:"Enter"})," to skip the intro"]}):null}const jme=C("div",{target:"e167kngm1"})($e,";pointer-events:none;position:fixed;bottom:29rem;transform:scale(",e=>e.visible?1:0,");opacity:",e=>e.visible?1:0,";text-align:center;font-size:5rem;text-shadow:0 0 3.5rem black;width:100%;z-index:4;padding:0.5rem;transition:ease 500ms;"),Ome=C("kbd",{target:"e167kngm0"})("margin:0.2rem;padding:0.2rem 2rem;border-radius:1.3rem;border:0.5rem solid rgb(204, 204, 204);border-bottom-color:rgb(150, 150, 150);border-right-color:rgb(150, 150, 150);line-height:1.4;display:inline-block;background-color:rgb(247, 247, 247);text-shadow:0 1rem 0 #fff;opacity:",e=>e.disabled?.25:1,";"),Vme=15e3;function Lme({onSongEnd:e,isEnabled:t}){const[n]=De(dr),r=Ne.getDuration(),i=A.useMemo(()=>Math.max(...Ne.getPlayers().map(p=>nf(p.getLastNotesSection()))),[]),s=A.useMemo(()=>{var g;const p=uN(i,Ne.getSong())+(((g=Ne.getSong())==null?void 0:g.gap)??0);return t&&r*1e3>p+Vme},[r,i,t]),[o,a]=A.useState(0),[l,c]=A.useState(!1);Nae(()=>a(Ne.getCurrentBeat()),1e3);const u=bw(s&&o>i,5e3)&&!l;Cl({accept:()=>{c(!0),setTimeout(e,700);const{artist:p,title:g}=Ne.getSong();On.capture("outroSkipped",{name:`${p} - ${g}`,artist:p,title:g})}},u);const h=A.useMemo(()=>({accept:"Skip Outro",back:"Pause Menu"}),[]);return Eu(h,u),!n&&s?f.jsxs(Nme,{visible:u,"data-test":"skip-outro-info","data-visible":u,children:["Press ",f.jsx(Bme,{children:"Enter"})," to skip the outro"]}):null}const Nme=C("div",{target:"e1b01y1a1"})($e,";pointer-events:none;position:fixed;bottom:29rem;transform:scale(",e=>e.visible?1:0,");opacity:",e=>e.visible?1:0,";text-align:center;font-size:5rem;text-shadow:0 0 3.5rem black;width:100%;z-index:4;padding:0.5rem;transition:ease 500ms;"),Bme=C("kbd",{target:"e1b01y1a0"})("margin:0.2rem;padding:0.2rem 2rem;border-radius:1.3rem;border:0.5rem solid rgb(204, 204, 204);border-bottom-color:rgb(150, 150, 150);border-right-color:rgb(150, 150, 150);line-height:1.4;display:inline-block;background-color:rgb(247, 247, 247);text-shadow:0 1rem 0 #fff;opacity:",e=>e.disabled?.25:1,";"),$me=Te.memo(Lme);function MR(e){return e&&e.length?UL(e):[]}function Dme({players:e}){const t=Ne.getCurrentTime(!1),n=Ne.getSongBeatLength(),r=Ne.getDuration(),i=Ne.getSong(),s=A.useMemo(()=>MR(i.tracks.filter((l,c)=>e.find(u=>u.track===c)).map(({sections:l})=>la(l)*n+i.gap)),[i,n,e]),o=A.useMemo(()=>MR(i.tracks.filter((l,c)=>e.find(u=>u.track===c)).map(({sections:l})=>tf(l)*n+i.gap)),[i,n,e]),a=r*1e3;return!t||!r?null:f.jsxs(Xw,{children:[s.map(l=>f.jsx(PR,{position:l/a},l)),o.map(l=>f.jsx(PR,{position:l/a},l)),f.jsx(Ume,{fill:t/a})]})}const Xw=C("div",{target:"e1pz3mwm2"})({name:"1q7pdku",styles:"position:absolute;height:0.6rem;width:100%;background:rgba(0, 0, 0, 0.5);left:0;top:calc(50% - 0.3rem)"}),Fme=C(Xw,{target:"e1pz3mwm1"})("top:0;margin-left:-0.25rem;width:0.5rem;background:",pe.colors.text.active,";opacity:75%;"),PR=e=>f.jsx(Fme,{style:{left:`${Math.min(e.position*100,100)}%`}}),zme=C(Xw,{target:"e1pz3mwm0"})({name:"1ssqmyb",styles:"top:0;background:white;opacity:50%"}),Ume=e=>f.jsx(zme,{style:{width:`${Math.round(e.fill*1e4)/100}%`}});function Hme({player:e,bottom:t=!1,...n}){const r=fn.getPlayerVolume(e.number),i=DN(e.number);return f.jsxs(Gme,{...n,children:[i!=="unavailable"&&f.jsx(Vhe,{playerNumber:e.number,volume:r}),f.jsx(qme,{status:i,tooltipPosition:"start"}),f.jsx(Wme,{playerNumber:e.number})]})}const Gme=C("div",{target:"ea232322"})({name:"180gow0",styles:"width:20rem;position:relative"}),qme=C(UN,{target:"ea232321"})({name:"14rk3pa",styles:"top:auto;right:1rem;bottom:-0.5rem"}),Wme=C(zN,{target:"ea232320"})({name:"ed8znk",styles:"z-index:2;font-size:2rem;margin-right:1rem;-webkit-text-stroke:0.1rem black"});function jR({player:e,bottom:t=!1,effectsEnabled:n,showMultipleLines:r}){var x;const i=Ne.getPlayer(e.number),[s]=De(dr),o=pe.colors.players[e.number].text,a=((x=Ne.getSingSetup())==null?void 0:x.mode)===Cr.PASS_THE_MIC?i.getTrack().changes:[],l=i.getCurrentSection(),c=i.getNextSection(),u=i.getNextSection(2),d=Ne.getCurrentBeat(),h=Ne.getSongBeatLength(),p=Math.max(0,...a.filter(S=>S<=((l==null?void 0:l.start)??-1/0))),g=a.find(S=>S>((l==null?void 0:l.start)??1/0))??1/0,m=(g-d)*h,_=(g-d)/(g-p),v=m<2500,y=It(l),b=y?la([l])-l.start:0;return f.jsxs(Xme,{shouldBlink:v,bottom:t,"data-test":`lyrics-container-player-${e.number}`,children:[!s&&n&&f.jsx(Kme,{children:r?f.jsx(OR,{player:e}):Ne.getPlayers().map(S=>f.jsx(OR,{player:Me.getPlayer(S.getNumber())},S.getNumber()))}),m<1/0&&f.jsx(i0e,{color:o,progress:_<=1?_*100:0}),y?f.jsx(f.Fragment,{children:f.jsxs(vp,{"data-test":`lyrics-current-player-${e.number}`,effectsEnabled:n,children:[f.jsx(Yme,{children:f.jsx(Jme,{color:o,percent:Math.min(2,(d-l.start)/b)})}),l==null?void 0:l.notes.map(S=>{const w=Math.max(0,Math.min(2,(d-S.start)/S.length));return f.jsxs(Zme,{type:S.type,children:[f.jsxs(e0e,{children:[f.jsx(n0e,{fill:w,color:o,children:S.lyrics.trim()}),S.lyrics.endsWith(" ")&&" "]}),S.lyrics]},S.start)}),(c==null?void 0:c.start)===g&&f.jsx(VR,{"data-should-shake":!0})]})}):f.jsx(vp,{effectsEnabled:n,children:""}),It(c)?f.jsxs(vp,{nextLine:!0,"data-test":`lyrics-next-player-${e.number}`,effectsEnabled:n,children:[c.notes.map(S=>f.jsx(A.Fragment,{children:S.lyrics},S.start)),(u==null?void 0:u.start)===g&&f.jsx(VR,{})]}):f.jsx(vp,{effectsEnabled:n,nextLine:!0,children:""})]})}const OR=C(Hme,{target:"e1j3lo7n10"})({name:"82a6rk",styles:"flex:1"}),Kme=C("div",{target:"e1j3lo7n9"})({name:"zrovsy",styles:"position:absolute;top:0;right:0;display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%"}),Yme=C("span",{target:"e1j3lo7n8"})({name:"1sngsgs",styles:"position:relative;height:0"}),Qme=C("span",{target:"e1j3lo7n7"})({name:"7drlms",styles:"position:absolute;width:15rem;height:3.1rem;margin:0.7rem 0;right:10rem"}),Jme=({percent:e,color:t})=>{const n=A.useMemo(()=>{const r=de(t).toRgb();return`${r.r}, ${r.g}, ${r.b}`},[t]);return f.jsx(Qme,{style:{transformOrigin:"right",transform:`scaleX(${Math.min(1,2-e)})`,right:`${Math.max(0,1-e)*15}rem`,background:`linear-gradient(270deg, rgba(${n}, 1) 0%, rgba(${n}, 0.5) 25%, rgba(${n}, 0) 100%)`}})},Xme=C("div",{target:"e1j3lo7n6"})("@keyframes blink{100%{background-color:rgba(0, 0, 0, ",e=>e.bottom?"0.85":"0.5",");}30%{background-color:rgba(0, 0, 0, ",e=>e.bottom?"0.85":"0.5",");}50%{background-color:rgba(200, 200, 200, ",e=>e.bottom?"0.85":"0.5",");}30%{background-color:rgba(0, 0, 0, ",e=>e.bottom?"0.85":"0.5",");}0%{background-color:rgba(0, 0, 0, ",e=>e.bottom?"0.85":"0.5",");}}box-sizing:border-box;padding:1rem;background:rgba(0, 0, 0, ",e=>e.bottom?"0.9":"0.5",");width:100%;text-align:center;line-height:1;position:relative;",e=>e.shouldBlink?"animation: blink 350ms ease-in-out infinite both;":"",";"),Zme=C("span",{target:"e1j3lo7n5"})("font-style:",e=>e.type==="freestyle"?"italic":"normal",";"),e0e=C("span",{target:"e1j3lo7n4"})({name:"nffb2y",styles:"position:absolute;z-index:1"}),t0e=C("span",{target:"e1j3lo7n3"})(""),n0e=({fill:e,color:t,children:n})=>f.jsx(t0e,{style:{clipPath:`inset(0 ${(1-(e===0?0:e+.05))*100}% -5rem 0)`,color:`${t}`},children:n}),r0e=C("div",{target:"e1j3lo7n2"})({name:"d6fl9l",styles:"position:absolute;height:1rem;width:100%"}),i0e=e=>f.jsx(r0e,{"data-test":"pass-the-mic-progress",style:{background:e.color,transformOrigin:"left",transform:`scaleX(${e.progress/100})`}}),VR=C(rv,{target:"e1j3lo7n1"})("@keyframes shake{10%,90%{transform:translate3d(-0.1rem, 0, 0);}20%,80%{transform:translate3d(0.2rem, 0, 0);}30%,50%,70%{transform:translate3d(-0.4rem, 0, 0);}40%,60%{transform:translate3d(0.4rem, 0, 0);}}font-size:3rem;margin-left:2rem;&[data-should-shake='true']{animation:shake 0.92s cubic-bezier(0.36, 0.07, 0.19, 0.97) both infinite;fill:",pe.colors.text.active,";font-size:4rem;}"),vp=C("div",{target:"e1j3lo7n0"})("font-size:",({nextLine:e,effectsEnabled:t})=>t?3.5+(e?0:1):2,"rem;height:",({effectsEnabled:e})=>e?4.5:2,"rem;-webkit-text-stroke-width:",({effectsEnabled:e})=>e?"2px":"1px",";color:",({nextLine:e})=>e?pe.colors.text.inactive:pe.colors.text.default,";font-family:'Comic Sans MS',Seravek,'Gill Sans Nova',Ubuntu,Calibri,'DejaVu Sans',source-sans-pro,sans-serif;z-index:10;"),XN=new Intl.NumberFormat(void 0,{maximumFractionDigits:0});function q_({score:e}){return f.jsx(f.Fragment,{children:XN.format(e)})}const ZN=6,Ci=30,An=Ci+6,s0e=e=>{const t=e.canvas.width,n=e.canvas.height,r=Math.max(0,(t-n*(16/9))/2),i=10+(t-2*r)*.15+r,s=n-e.paddingVertical*2;return{width:t-i*2,height:s/e.playerCount,baseX:i,baseY:e.paddingVertical+e.playerIndex*s/e.playerCount}};function LR({canvas:e,currentSectionIndex:t,song:n,songBeatLength:r,minPitch:i,maxPitch:s,track:o,playerIndex:a,playerCount:l,paddingVertical:c}){var b;const u=o.sections,d=u[t],h=u[t+1],p=s0e({canvas:e,playerCount:l,playerIndex:a,paddingVertical:c}),g=It(d)?(b=d==null?void 0:d.notes)==null?void 0:b.at(-1):void 0,m=It(d)?(h==null?void 0:h.start)??g.start+g.length:d.end,_=d.start*r,v=(m-d.start)*r,y=(p.height-20-Ci)/(s-i+ZN*2);return{playerCanvas:p,currentSection:d,sectionEndBeat:m,timeSectionGap:_,maxTime:v,pitchStepHeight:y}}function eB(e,t,n,r,i){return i&&n?pe.colors.players[t].starPerfect:i?pe.colors.players[t].perfect:n&&r?pe.colors.players[t].star:r?pe.colors.players[t].hit:pe.colors.players[t].miss}function o0e(e,t,n,r){return eB(e,t,r.note.type==="star",n,r.isPerfect)}const tA={},a0e=e=>{if(!tA[e]){const t=de(e);tA[e]=[[t.setAlpha(.8).toRgbString(),t.setAlpha(.9).toRgbString(),t.setAlpha(1).toRgbString()],[t.setAlpha(0).toRgbString()],[t.setAlpha(.1).toRgbString(),t.setAlpha(.3).toRgbString(),t.setAlpha(.2).toRgbString()]]}return tA[e]};function W_(e,t,n,r,i,s,o,a=1){if(i<=0)return;t.globalAlpha=1;const l=t.createRadialGradient(n,r,0,n,r,i/2),[c,u,d]=a0e(o);l.addColorStop(0,c[Ls(0,c.length-1)]),l.addColorStop(.05,c[Ls(0,c.length-1)]),l.addColorStop(.15,d[Ls(0,d.length-1)]),l.addColorStop(1,u[Ls(0,u.length-1)]),t.beginPath(),t.arc(n,r,i/2,0,2*Math.PI),t.closePath(),t.fillStyle=l,t.fill(),t.fillStyle=o,t.globalAlpha=1}function tB(e,t,n,r,i,s,o,a,l=1){i>0&&W_(e,t,n,r,i,s,a,l)}const ng=(e,t)=>e-t+Math.random()*t*2,NR=(e=0)=>Math.sign(e+Math.random()-.5),l0e=300,c0e=50,yp=1.3;class u0e{constructor(t,n,r){this.x=t,this.y=n,this.color=r,this.finished=!1,this.tick=(i,s,o)=>{const a=1-this.ttl/this.startingTtl,l=this.ttl,c=this.width*a,u=this.width*this.heightModifier*a,d=this.x-c/2+l*this.velocityX,h=this.y+u/2+l*this.velocityY;tB(s,i,d,h,c,u,this.initialAngle+l,this.color,.7*a),this.ttl=this.ttl-o,this.finished=this.ttl<=0},this.startingTtl=this.ttl=ng(l0e,c0e),this.velocityX=yp*Math.random()-yp/2,this.velocityY=yp*Math.random()-yp/2,this.width=25,this.initialAngle=180-Math.random()*360,this.heightModifier=.5+Math.random()/2}}const d0e=`
precision mediump float;
`,uv=d0e.replace(/\n/g,""),f0e=`
attribute vec3 aVertexPosition;
attribute vec2 aTextureCoord;
`,nB=f0e.replace(/\n/g,""),h0e=`
varying vec3 vVertexPosition;
varying vec2 vTextureCoord;
`,dv=h0e.replace(/\n/g,""),p0e=uv+nB+dv+`
uniform mat4 uMVMatrix;
uniform mat4 uPMatrix;

void main() {
    vTextureCoord = aTextureCoord;
    vVertexPosition = aVertexPosition;
    
    gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);
}
`;p0e.replace(/\n/g,"");const g0e=uv+dv+`
void main() {
    gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
}
`;g0e.replace(/\n/g,"");const m0e=uv+nB+dv+`
void main() {
    vTextureCoord = aTextureCoord;
    vVertexPosition = aVertexPosition;
    
    gl_Position = vec4(aVertexPosition, 1.0);
}
`;m0e.replace(/\n/g,"");const v0e=uv+dv+`
uniform sampler2D uRenderTexture;

void main() {
    gl_FragColor = texture2D(uRenderTexture, vTextureCoord);
}
`;v0e.replace(/\n/g,"");function y0e(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:TS(e,t,n)}var A0e="\\ud800-\\udfff",_0e="\\u0300-\\u036f",b0e="\\ufe20-\\ufe2f",S0e="\\u20d0-\\u20ff",x0e=_0e+b0e+S0e,w0e="\\ufe0e\\ufe0f",E0e="\\u200d",k0e=RegExp("["+E0e+A0e+x0e+w0e+"]");function rB(e){return k0e.test(e)}function C0e(e){return e.split("")}var iB="\\ud800-\\udfff",T0e="\\u0300-\\u036f",I0e="\\ufe20-\\ufe2f",R0e="\\u20d0-\\u20ff",M0e=T0e+I0e+R0e,P0e="\\ufe0e\\ufe0f",j0e="["+iB+"]",K_="["+M0e+"]",Y_="\\ud83c[\\udffb-\\udfff]",O0e="(?:"+K_+"|"+Y_+")",sB="[^"+iB+"]",oB="(?:\\ud83c[\\udde6-\\uddff]){2}",aB="[\\ud800-\\udbff][\\udc00-\\udfff]",V0e="\\u200d",lB=O0e+"?",cB="["+P0e+"]?",L0e="(?:"+V0e+"(?:"+[sB,oB,aB].join("|")+")"+cB+lB+")*",N0e=cB+lB+L0e,B0e="(?:"+[sB+K_+"?",K_,oB,aB,j0e].join("|")+")",$0e=RegExp(Y_+"(?="+Y_+")|"+B0e+N0e,"g");function D0e(e){return e.match($0e)||[]}function F0e(e){return rB(e)?D0e(e):C0e(e)}function z0e(e){return function(t){t=kS(t);var n=rB(t)?F0e(t):void 0,r=n?n[0]:t.charAt(0),i=n?y0e(n,1).join(""):t.slice(1);return r[e]()+i}}var U0e=z0e("toUpperCase");function H0e(e){return U0e(kS(e).toLowerCase())}function BR(e,t,n,r,i,s,o,a){const l=Math.max(r,i/2),c=Math.min(l/2,i/2,s);e.beginPath(),e.moveTo(t+c,n),e.lineTo(t+l-c,n),e.quadraticCurveTo(t+l,n,t+l,n+c),e.lineTo(t+l,n+i-c),e.quadraticCurveTo(t+l,n+i,t+l-c,n+i),e.lineTo(t+c,n+i),e.quadraticCurveTo(t,n+i,t,n+i-c),e.lineTo(t,n+c),e.quadraticCurveTo(t,n,t+c,n),e.closePath(),o&&e.fill(),a&&e.stroke()}function Zw(e,t,n,r,i,s,o,a,l=.1){BR(e,t,n,r,i,s,o,a),o&&l>0&&(e.save(),BR(e,t,n,r,i,s,!1,!1),e.clip(),e.fillStyle=`rgba(255,255,255,${l})`,e.fillRect(t,n,r,i/2.2),e.restore())}function pd(e,t){e.fillStyle=t.fill,e.strokeStyle=t.stroke,e.lineWidth=t.lineWidth}function gd(e,t,n,r,i,s,o){s==="star"?pd(e,pe.colors.lines.star):s==="freestyle"||s==="rap"?pd(e,pe.colors.lines.freestyle):s==="rapstar"?pd(e,{...pe.colors.lines.star,fill:pe.colors.lines.freestyle.fill}):pd(e,pe.colors.lines.normal),e.shadowBlur=10,e.shadowColor=o!==void 0?pe.colors.players[o].miss.stroke:"rgb(31,31,31)",e.shadowOffsetX=0,e.shadowOffsetY=0,Zw(e,t,n,r,i,100,!0,!0,.075),e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0}function G0e(e,t,n,r,i,s,o,a,l){pd(e,eB(e,s,l,o,a)),e.shadowBlur=5,e.shadowColor="rgba(31,31,31, .7)",e.shadowOffsetX=1,e.shadowOffsetY=1,Zw(e,t,n,r,i,100,!0,!0,o?.15:0),e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0}const Mn=10,q0e={start:{x:0,y:0,w:Ci/2+Mn,h:Ci+Mn*2},middle:{x:Ci/2+Mn,y:0,w:1,h:Ci+Mn*2},end:{x:Ci/2+1+Mn,y:0,w:Ci/2+Mn,h:Ci+Mn*2}},pc={start:{x:0,y:0,w:An/2+Mn,h:An+Mn*2},middle:{x:An/2+Mn,y:0,w:1,h:An+Mn*2},end:{x:An/2+1+Mn,y:0,w:An/2+Mn,h:An+Mn*2}},Hl=(e,t,n,r,i)=>({draw:(s,o,a,l,c)=>G0e(s,o,a,l,c,e,t,n,r),width:i?An:Ci+1,height:i?An:Ci,padding:Mn,fragments:i?pc:q0e}),Ap=e=>({[`p${e}Normal`]:{draw:(t,n,r,i,s)=>gd(t,n,r,i,s,"normal",e),width:An+1,height:An,padding:Mn,fragments:pc},[`p${e}Miss`]:Hl(e,!1,!1,!1,!1),[`p${e}Hit`]:Hl(e,!0,!1,!1,!0),[`p${e}Perfect`]:Hl(e,!0,!0,!1,!0),[`p${e}StarMiss`]:Hl(e,!1,!1,!0,!1),[`p${e}StarHit`]:Hl(e,!0,!1,!0,!0),[`p${e}StarPerfect`]:Hl(e,!0,!0,!0,!0)}),so={...Ap(0),...Ap(1),...Ap(2),...Ap(3),noteStar:{draw:(e,t,n,r,i)=>gd(e,t,n,r,i,"star"),width:An+1,height:An,padding:Mn,fragments:pc},noteFreestyle:{draw:(e,t,n,r,i)=>gd(e,t,n,r,i,"freestyle"),width:An+1,height:An,padding:Mn,fragments:pc},noteRap:{draw:(e,t,n,r,i)=>gd(e,t,n,r,i,"rap"),width:An+1,height:An,padding:Mn,fragments:pc},noteRapstar:{draw:(e,t,n,r,i)=>gd(e,t,n,r,i,"rapstar"),width:An+1,height:An,padding:Mn,fragments:pc}};function W0e(e,t){const n=document.createElement("canvas");return n.width=e,n.height=t,n}const uB=Math.max(...Object.values(so).map(e=>e.padding*2+e.width)),dB=Object.values(so).map(e=>e.padding*2+e.height).reduce((e,t)=>e+t,0),fB=W0e(uB,dB),Q_=fB.getContext("2d");let Ga=0;const $R=Object.entries(so).map(([e,t])=>{const n=t.padding*2,r={name:e,x:0,y:Ga,w:t.width+n,h:t.height+n};return Ga=Ga+t.height+n,r}).reduce((e,t)=>({...e,[t.name]:t}),{}),hB=()=>{Q_.clearRect(0,0,uB,dB),Ga=0,Object.entries(so).forEach(([e,t])=>{t.draw(Q_,t.padding,Ga+t.padding,t.width,t.height),Ga=Ga+t.padding*2+t.height})};hB();te.songStarted.subscribe(hB);const pB=(e,t)=>({canvas:fB,ctx:Q_,x:$R[e].x+so[e].fragments[t].x,y:$R[e].y+so[e].fragments[t].y,w:so[e].fragments[t].w,h:so[e].fragments[t].h,padding:so[e].padding}),nA=(e,t,n,r,i,s,o,a=1,l=1)=>{const c=pB(t,n),{canvas:u,w:d,h,y:p,x:g,padding:m}=c,_=m*a,v=m*l;return e.imageSmoothingEnabled=!1,e.drawImage(u,g,p,d,h,r-_,i-v,s??d,o??h),e.imageSmoothingEnabled=!0,c};function gB(e,t,n,r,i){const s=pB(t,"start"),o=Math.max(i,(s.h-s.padding*2)/2),a=Math.min(1,o/2/(s.w-s.padding)),l=a*s.w,c=l-s.padding*a,u=o-2*c;nA(e,t,"start",n,r,l,void 0,a),u>0&&nA(e,t,"middle",n+l,r,u,void 0,a),nA(e,t,"end",n+u+l,r,l,void 0,a)}const K0e=(e,t)=>`${t!==void 0&&e==="normal"?`p${t}`:"note"}${H0e(e)}`;function mB(e,t,n,r,i,s){const o=K0e(i.type,s);gB(e,o,t,n,r)}function Y0e(e,t,n,r,i,s){e.save(),Zw(e,t,n,r,i,100,!1,!1),e.clip(),e.beginPath(),e.strokeStyle="rgba(255,255,255, .35)",e.lineWidth=3,e.lineJoin="round",e.moveTo(t,n+i/2-s.frequencyRecords[0].preciseDistance*i/3);for(let o=1;o<s.frequencyRecords.length;o++)e.lineTo(t+o*(r/(s.frequencyRecords.length-1)),n+i/2-s.frequencyRecords[o].preciseDistance*i/3);e.stroke(),e.closePath(),e.restore(),e.lineJoin="miter"}const Q0e=(e,t,n,r)=>{let i=`p${e}`;return n&&r?i=`${i}StarPerfect`:n?i=`${i}Perfect`:r&&t?i=`${i}StarHit`:t?i=`${i}Hit`:r&&!t?i=`${i}StarMiss`:i=`${i}Miss`,i},J0e=["star","rapstar"];function X0e(e,t,n,r,i,s,o){const a=Q0e(i,s,o.isPerfect,J0e.includes(o.note.type));gB(e,a,t,n,r)}class Z0e{constructor(){this.particles=[],this.lastTick=Date.now(),this.getTimeDelta=t=>{const n=Date.now()-t,r=n-this.lastTick;return this.lastTick=n,r},this.tick=(t,n,r=0)=>{const i=this.getTimeDelta(r);this.particles.forEach(s=>s.tick(t,n,i)),this.particles=this.particles.filter(s=>!s.finished)},this.add=t=>this.particles.push(t),this.clearAll=()=>this.particles=[]}}const Ra=new Z0e,eve=50/60*1e3,tve=25/60*1e3,nve=60,DR=.3;class rve{constructor(t,n,r,i){this.x=t,this.y=n,this.color=r,this.delay=i,this.finished=!1,this.tick=(s,o,a)=>{if(this.delay-- >0)return;const l=this.ttl/this.startingTtl,c=this.startingTtl-this.ttl,u=this.width*l,d=this.width*this.heightModifier*l,h=this.x-u/2+c*this.velocityX,p=this.y-d/2+c*this.velocityY;tB(o,s,h,p,u,d,this.initialAngle+c,this.color,.8*l),this.velocityX=this.velocityX-.009,this.velocityY=this.velocityY*1.0075,this.ttl=this.ttl-a,this.finished=this.ttl<=0},this.startingTtl=this.ttl=ng(eve,tve),this.velocityX=ng(.5,DR)*NR(.2),this.velocityY=ng(.4,DR)*NR(),this.width=nve,this.initialAngle=180-Math.random()*360,this.heightModifier=.5+Math.random()/2}}class ive{constructor(t,n,r,i,s,o){this.finished=!0,this.tick=(d,h)=>{};const a=s.type==="star"?pe.colors.players[i].star.fill:pe.colors.players[i].perfect.fill,l=de(a).lighten(15).toRgbString(),c=de(a).darken(15).toRgbString(),u=r/8;for(let d=0;d<u;d++){const h=Math.random();let p=a;h>.66?p=l:h>.33&&(p=c);const g=n+20*(Math.random()-.5);o.add(new rve(t+d*5,g,p,(u-d)/10))}}}const FR=200;class sve{constructor(t,n,r,i,s){this.x=t,this.y=n,this.width=r,this.note=i,this.playerNumber=s,this.finished=!1,this.ttl=FR,this.tick=(o,a,l)=>{const c=this.ttl/FR;o.save(),o.globalAlpha=c,o.translate(0,An*(1-c)),mB(o,this.x,this.y,this.width,this.note,this.playerNumber),o.globalAlpha=1,o.restore(),this.ttl=this.ttl-l,this.finished=this.ttl<=0}}}const rA=50/60*1e3,_p=.05,ove=200,zR=4,ave=Math.pow;function UR(e){return 1-ave(1-e,2)}class lve{constructor(t,n,r,i){this.x=t,this.y=n,this.finished=!1,this.tick=(s,o,a)=>{const l=this.ttl/rA;let c=UR(1-Math.min(1,(1-l)*6));const u=this.maxWidth*c*3/4,d=this.maxWidth*c;W_(o,s,this.x,this.y,u,d,"white",c*.35),c=UR(l);const h=c*this.maxWidth/4,p=c*this.maxWidth/4,g=this.x,m=this.y,_=rA-this.ttl;s.globalAlpha=c*.2,W_(o,s,g+_*this.velocityX,m+_*this.velocityY,h,p,"white",c*.2),this.ttl=this.ttl-a,this.finished=this.ttl<=0},this.ttl=rA,this.velocityX=_p*Math.random()-_p/2,this.velocityY=_p*Math.random()-_p/2,this.maxWidth=Math.min(.1+i,1)*(Math.sin(r/70)*zR+(ove-zR))}}const HR=20;class cve{constructor(t,n,r,i,s){this.x=t,this.y=n,this.w=r,this.h=i,this.seed=s,this.finished=!1,this.ttl=2/60*1e3,this.tick=(o,a,l)=>{o.strokeStyle="rgba(255,255,255,.25)",o.lineWidth=2,o.beginPath();for(let c=0;c<this.w;c++){const u=this.x+this.w-c,d=(this.h/2+2)*Math.sin(u/HR+this.seed/250);o.lineTo(u,this.y+this.h/2+d)}o.stroke(),o.beginPath();for(let c=0;c<this.w;c++){const u=this.x+this.w-c,d=-1*(this.h/2+2)*Math.sin(u/HR+this.seed/250);o.lineTo(u,this.y+this.h/2+d)}o.stroke(),this.ttl=this.ttl-l,this.finished=this.ttl<=0}}}const GR=20;function uve(e,t){return e.find(n=>n.start<=t&&n.start+n.length>=t)}class dve{constructor(t,n=0,r=1){this.canvas=t,this.verticalMargin=n,this.scaleFactor=r,this.loop=!1,this.pauseTime=0,this.pausedOn=0,this.shaders=null,this.start=()=>{te.sectionChange.subscribe(this.onSectionEnd),this.loop=!0,this.drawFrame()},this.pause=()=>{this.end(),this.pausedOn=Date.now()},this.resume=()=>{this.pauseTime+=Date.now()-this.pausedOn,this.start()},this.end=()=>{var i;this.loop=!1,(i=this.shaders)==null||i.cleanup(),te.sectionChange.unsubscribe(this.onSectionEnd)},this.isPlaying=()=>this.loop,this.drawFrame=()=>{const i=Date.now(),s=this.canvas.getContext("2d");if(s){if(Ne.isPlaying()&&(s.clearRect(0,0,this.canvas.width,this.canvas.height),Me.getPlayers().forEach((a,l)=>{this.drawPlayer(a.number,s)}),Ra.tick(s,this.canvas,this.pauseTime)),qa.get()===30){const o=Date.now(),a=1e3/30,l=o-i>a?a:a-(o-i);this.loop&&setTimeout(this.drawFrame,l,qa.get())}qa.get()!==30&&this.loop&&global.requestAnimationFrame(this.drawFrame)}},this.drawPlayer=(i,s)=>{const o=this.getDrawingData(i),{currentSection:a}=LR(o);if(ji.get()==="high"&&this.setDistortionForce(o),!It(a))return;const l=this.calculateDisplacements(a,o);this.drawNotesToSing(s,o,l),this.drawSungNotes(s,o,l),ji.get()==="high"&&this.drawFlare(s,o,l)},this.setDistortionForce=i=>{var o,a,l;const s=i.currentSection;if(!It(s))(a=this.shaders)==null||a.updatePlayerForce(i.playerNumber,(((o=this.shaders)==null?void 0:o.getPlayerForce(i.playerNumber))??0)*.99);else{const c=Math.max(0,i.currentBeat-GR),u=i.currentPlayerNotes.filter(m=>m.note.start+m.note.length>=c).filter(m=>xg(m)===0).reduce((m,_)=>m+_.length-Math.max(0,c-_.start),0),d=i.currentPlayerNotes.at(-1),h=((d==null?void 0:d.start)??0)+((d==null?void 0:d.length)??0),p=i.currentBeat-h,g=Math.max(Math.min(Math.pow((u-p/1.5)/GR,3),.98),0);(l=this.shaders)==null||l.updatePlayerForce(i.playerNumber,g)}},this.drawNotesToSing=(i,s,o)=>{It(s.currentSection)&&s.currentSection.notes.forEach(a=>{const{x:l,y:c,w:u,h:d}=this.getNoteCoords(s,a,a.pitch,!0,o[a.start]);mB(i,l,c,u,a,s.playerNumber)})},this.drawSungNotes=(i,s,o)=>{It(s.currentSection)&&s.currentPlayerNotes.forEach(a=>{const l=xg(a),{x:c,y:u,w:d,h}=this.getNoteCoords(s,a,a.note.pitch+l,l===0,o[a.note.start]);(l>0||d>h/2.5)&&(X0e(i,c,u,d,s.playerNumber,l===0,a),a.vibrato&&Ra.add(new cve(c,u,d,h,s.currentTime)),l===0&&a.frequencyRecords.length>3&&!Ed.includes(a.note.type)&&Y0e(i,c,u,d,h,a))})},this.drawFlare=(i,s,o)=>{var l;if(!It(s.currentSection))return;const a=uve(s.currentPlayerNotes,s.currentBeat-185/s.songBeatLength);if(a&&a.distance===0){const c=o[a.note.start]||[0,0],{x:u,y:d,w:h,h:p}=this.getNoteCoords(s,a,a.note.pitch,!0,c),g=Ed.includes(a.note.type)?0:a.frequencyRecords.at(-1).preciseDistance,m=u+h,_=this.getPreciseY(d,p,g);Ra.add(new lve(m,_,s.currentTime,1)),Ra.add(new u0e(WN(Math.max(u,m-50),m),_,o0e(i,s.playerNumber,!0,a).fill)),(l=this.shaders)==null||l.updatePlayerCenter(s.playerNumber,m,_)}},this.onSectionEnd=i=>{if(Ne.isPlaying()){const s=this.getDrawingData(i,-1);if(!It(s.currentSection))return;this.fadeoutNotes(s.currentSection,s),this.explodeNotes(s.currentSection,s)}},this.fadeoutNotes=(i,s)=>{ji.get()==="high"&&i.notes.forEach(o=>{const{x:a,y:l,w:c,h:u}=this.getNoteCoords(s,o,o.pitch,!0);Ra.add(new sve(a,l,c,o,s.playerNumber))})},this.explodeNotes=(i,s)=>{ji.get()==="high"&&s.playerNotes.filter(a=>(a.distance===0||Ed.includes(a.note.type))&&i.notes.includes(a.note)).forEach(a=>{const{x:l,y:c,w:u,h:d}=this.getNoteCoords(s,a,a.note.pitch,!0);Ra.add(new ive(l,c+d/2,u,s.playerNumber,a.note,Ra))})},this.calculateDisplacements=(i,s)=>{const o={};return ji.get()==="high"?i.notes.forEach(a=>{const l=s.playerNotes.filter(h=>h.note.start===a.start).filter(h=>h.note.start+h.note.length+30>=s.currentBeat&&h.distance===0).map(h=>h.start+30<s.currentBeat?h.length-(s.currentBeat-30-h.start):h.length).reduce((h,p)=>Math.min(h+p,30),0),c=Math.max(0,(l-5)/(a.type==="star"?3:5)),u=(Math.random()-.5)*c,d=(Math.random()-.5)*c;o[a.start]=[u,d]}):i.notes.forEach(a=>{o[a.start]=[0,0]}),o},this.getDrawingData=(i,s=0)=>{const o=Me.getPlayers(),a=o.findIndex(m=>m.number===i),l=o.length,c=Ne.getPlayer(i),u=c.getCurrentSectionIndex()+s,d=Ne.getSong(),h=c.getTrack(),p=h.sections[u],g=c.getPlayerNotes();return{playerNumber:i,playerIndex:a,playerCount:l,song:d,songBeatLength:Ne.getSongBeatLength(),minPitch:c.getMinPitch(),maxPitch:c.getMaxPitch(),canvas:this.canvas,currentTime:Ne.getCurrentTime(),frequencies:c.getPlayerFrequencies(),playerNotes:g,currentPlayerNotes:g.filter(m=>m.note.start>=((p==null?void 0:p.start)??1/0)),track:h,currentBeat:Ne.getCurrentBeat(),currentSectionIndex:u,currentSection:p,paddingVertical:this.verticalMargin}},this.getNoteCoords=(i,{start:s,length:o},a,l,c=[0,0])=>{const{sectionEndBeat:u,currentSection:d,playerCanvas:h,pitchStepHeight:p}=LR(i),g=It(d)?d.notes[0].start:1,m=h.width/(u-g),[_,v]=l?c:[0,0],y=p*(i.maxPitch-a+ZN);return{x:Math.floor(h.baseX+m*(s-g)+_),y:Math.floor(h.baseY+10+y+v-(l?3:0)),w:Math.floor(m*o),h:l?An:Ci}},this.getPreciseY=(i,s,o)=>i+s/2-o*s/3}}const fve=`precision mediump float;

const float MAX_FORCE = 300.0;
const int SAMPLE_COUNT = 8; // 2^x
const float INTENSITY = 0.051;
// get our varyings
varying vec3 vVertexPosition;
varying vec2 vTextureCoord;
// the uniform we declared inside our javascript
uniform float uTime;
uniform sampler2D planeTexture;
uniform vec2 uResolution;

uniform vec2 uP0center;
uniform float uP0force;

uniform vec2 uP1center;
uniform float uP1force;

float rnd(float n) {
    return fract(sin(n) * 43758.5453);
}
float random (vec2 st) {
    return rnd(dot(st.xy, vec2(12.9898, 78.233)));
}

vec4 directionalBlur(in vec2 uv, in vec2 direction, in float intensity)
{
    vec4 color = vec4(0.0);

    for (int i=1; i<=SAMPLE_COUNT; i++)
    {
        color += texture2D(planeTexture,uv+float(i)*intensity/float(SAMPLE_COUNT)*direction);
    }

    return color/float(SAMPLE_COUNT);
}

float distort(vec2 center, float force, float comparedIntensity) {
    float actualForce = force * MAX_FORCE;
    vec2 centerAbs = center * uResolution;

    vec2 direction = gl_FragCoord.xy - centerAbs.xy;
    float dist = length(direction) / length(uResolution);


    float intensity = max(0.0, 0.50 - dist) * INTENSITY * pow(force, 1.5);
    if (intensity > comparedIntensity) {
        vec4 newColor = directionalBlur(gl_FragCoord.xy / uResolution, normalize(direction), intensity);
        gl_FragColor = newColor;
    }
    return intensity;
}

void main() {
    gl_FragColor = texture2D(planeTexture, vTextureCoord);
    float p1intensity = distort(uP0center, uP0force, 0.0);
    float p2intensity = distort(uP1center, uP1force, p1intensity);
}`,hve=`
precision mediump float;

// default mandatory variables
attribute vec3 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat4 uMVMatrix;
uniform mat4 uPMatrix;

uniform mat4 planeTextureMatrix;

// custom varyings
varying vec3 vVertexPosition;
varying vec2 vTextureCoord;

void main() {
    gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);

    // varyings
    vVertexPosition = aVertexPosition;
    vTextureCoord = (planeTextureMatrix * vec4(aTextureCoord, 0.0, 1.0)).xy;
}`,pve=1920,gve=A.forwardRef(function({currentStatus:e,width:t,height:n,playerSetups:r,onSongEnd:i,effectsEnabled:s,videoPlayerRef:o,isPauseMenuVisible:a},l){var b,x,S;const[c]=De(ji),[u]=De(dr),d=A.useRef(null),h=A.useRef(null),p=A.useRef(null),g=pve,m=g*(n/t),_=m/n;A.useImperativeHandle(l,()=>({pause:()=>{var w;return(w=h.current)==null?void 0:w.pause()},resume:()=>{var w;return(w=h.current)==null?void 0:w.resume()}}),[h.current,(b=p.current)==null?void 0:b.offsetHeight,_]),A.useEffect(()=>(Ne.startInputMonitoring(),()=>{Ne.stopInputMonitoring()}),[]),A.useEffect(()=>{if(!(!d.current||!p.current))return h.current=new dve(d.current,p.current.offsetHeight*_),h.current.start(),()=>{var w;(w=h.current)==null||w.end()}},[(x=p.current)==null?void 0:x.offsetHeight,_]),A.useEffect(()=>{var w,E,I,z;a&&((w=h.current)!=null&&w.isPlaying())?(E=h.current)==null||E.pause():!a&&!((I=h.current)!=null&&I.isPlaying())&&((z=h.current)==null||z.resume())},[a]),A.useEffect(()=>{e===Tn.ENDED&&i&&i()},[e,i]);const v=Me.getPlayers(),y=!u&&v.length===2;return f.jsxs(mve,{children:[c==="high"&&f.jsxs(f.Fragment,{children:[f.jsx("script",{type:"x-shader/x-fragment",id:"plane-fs",children:fve}),f.jsx("script",{id:"plane-vs",type:"x-shader/x-vertex",children:hve}),f.jsx(yve,{id:"canvas",style:{zIndex:1e4}})]}),f.jsx(vve,{id:"plane",style:s?void 0:{opacity:0},children:f.jsx("canvas",{ref:d,width:g,height:m,"data-sampler":"planeTexture"})}),s&&f.jsxs(f.Fragment,{children:[f.jsx(Pme,{playerRef:o,isEnabled:!a}),f.jsx($me,{onSongEnd:i,isEnabled:!a})]}),f.jsx(Dme,{players:r}),f.jsx(qR,{children:y&&f.jsx(jR,{player:v[0],effectsEnabled:s,showMultipleLines:y})}),f.jsx(Ave,{children:s&&f.jsx(f.Fragment,{children:((S=Ne.getSingSetup())==null?void 0:S.mode)===Cr.CO_OP?f.jsx(WR,{"data-test":"players-score","data-score":Math.floor(Ne.getPlayerScore(0)),children:f.jsx(q_,{score:Ne.getPlayerScore(0)})}):Me.getPlayers().map(w=>f.jsx(WR,{"data-test":`player-${w.number}-score`,"data-score":Math.floor(Ne.getPlayerScore(w.number)),children:f.jsx(q_,{score:Ne.getPlayerScore(w.number)})},w.number))})}),f.jsx(qR,{ref:p,children:f.jsx(jR,{showMultipleLines:y,player:v[y?1:0],bottom:!0,effectsEnabled:s})})]})}),qR=C("div",{target:"el0barv5"})({name:"14ci2tu",styles:"padding:2rem 0;box-sizing:border-box"}),mve=C("div",{target:"el0barv4"})({name:"y3i90j",styles:"height:100%;color:white;-webkit-text-stroke:0.2rem black;font-weight:bold;position:relative;display:flex;flex-direction:column"}),vve=C("div",{target:"el0barv3"})({name:"1x1omeb",styles:"position:absolute;top:0;left:0;width:100%;height:100%;canvas{width:100%;height:100%;}"}),yve=C("div",{target:"el0barv2"})({name:"1b4920d",styles:"position:absolute;top:0;left:0;width:100%;height:100%"}),Ave=C("div",{target:"el0barv1"})({name:"od05bk",styles:"flex:1;height:100%;box-sizing:border-box;font-size:5.5rem;display:flex;justify-content:space-around;padding-right:4rem;flex-direction:column;text-align:right;z-index:1"}),WR=C("span",{target:"el0barv0"})("");function _ve(e,t){const[n,r]=A.useState(0);return A.useEffect(()=>{e.current&&t===Tn.PLAYING&&n===0&&e.current.getDuration().then(i=>{r(i),Ne.setDuration(i)})},[n,e,t]),n}function bve({song:e,width:t,height:n,autoplay:r=!0,showControls:i=!1,onCurrentTimeUpdate:s,onSongEnd:o,onStatusChange:a,players:l,effectsEnabled:c=!0,singSetup:u,restartSong:d,pauseMenu:h=!1,...p},g){const m=A.useRef(null),[_,v]=A.useState(0),[y,b]=A.useState(Tn.UNSTARTED),[x]=De(_d),[S,w]=A.useState(!1);A.useEffect(()=>(Ne.setSong(e),Ne.setSingSetup(u),()=>{Ne.resetSingSetup()}),[e,u]),A.useEffect(()=>{if(m.current&&y===Tn.PLAYING){const M=setInterval(async()=>{if(!m.current)return;const T=Math.max(0,await m.current.getCurrentTime()*1e3-x);v(T),s==null||s(T),Ne.setCurrentTime(T),Ne.update()},1e3/qa.get());return()=>clearInterval(M)}},[m,s,y,x]);const E=_ve(m,y);A.useImperativeHandle(g,()=>({seekTo:M=>m.current.seekTo(M),setPlaybackSpeed:M=>m.current.setPlaybackSpeed(M),play:()=>m.current.playVideo(),pause:()=>m.current.pauseVideo()}));const I=A.useCallback(M=>{b(M),a==null||a(M)},[b,a]),z=h,N=()=>{var M;w(!0),(M=m.current)==null||M.pauseVideo()},D=()=>{var M;w(!1),(M=m.current)==null||M.playVideo()},Q=()=>{S?D():N()},P=ym(y);A.useEffect(()=>{var T;if(!z)return;const M=P!==Tn.PAUSED&&P!==Tn.BUFFERING&&y===Tn.PAUSED;y===Tn.PLAYING&&S?(T=m.current)==null||T.pauseVideo():M&&!S&&w(!0)},[S,y,P,z]),Cl({back:Q},z,[S]);const L=A.useMemo(()=>({back:"Pause Menu"}),[]);return Eu(L,c),f.jsxs(Sve,{...p,children:[S&&f.jsx(Tme,{onExit:o,onResume:D,onRestart:d}),y!==Tn.UNSTARTED&&f.jsx(xve,{style:{width:`${t}px`,height:`${n}px`},children:f.jsx(gve,{isPauseMenuVisible:S,effectsEnabled:c,duration:E,currentStatus:y,song:e,width:t,height:n,onSongEnd:o,playerSetups:l,videoPlayerRef:m.current})}),f.jsxs(wve,{children:[f.jsx(jw,{ref:m,video:e.video,width:t,height:n,controls:i,autoplay:r,disablekb:!0,volume:e.volume,startAt:e.videoGap??0,onStateChange:I}),y===Tn.PLAYING&&f.jsx(Eve,{"data-test":"make-song-go-fast",onClick:()=>{var M;(M=m.current)==null||M.setPlaybackSpeed(2)}})]})]})}const Sve=C("div",{target:"e1ggxuxd3"})({name:"bjn8wh",styles:"position:relative"}),xve=C("div",{target:"e1ggxuxd2"})({name:"qkt6ng",styles:"position:absolute;z-index:1;background-color:rgba(0, 0, 0, 0.2);pointer-events:none;width:100%;height:100%;top:0;left:0"}),wve=C("div",{target:"e1ggxuxd1"})({name:"j387f9",styles:"overflow:hidden;height:100%"}),Eve=C("div",{target:"e1ggxuxd0"})({name:"sp3f84",styles:"width:30px;height:30px;opacity:0.01;background:black;position:absolute;bottom:calc(100vh / 2 - 15px);left:0"}),kve=A.forwardRef(bve),KR=[f.jsxs(f.Fragment,{children:["You can follow the updates and give feedback on the game through the Facebook Page:"," ",f.jsx("a",{href:"https://www.facebook.com/allkaraoke.party",target:"_blank",rel:"noreferrer",children:f.jsx("strong",{children:"fb.com/AllKaraoke.Party"})})]}),f.jsxs(f.Fragment,{children:["Start typing a name of a song in ",f.jsx("strong",{children:"Song Selection"})," to active Search feature"]}),f.jsxs(f.Fragment,{children:["Narrow down songs through ",f.jsx("strong",{children:"playlists"})," on the right in Song Selection"]}),f.jsxs(f.Fragment,{children:["Select ",f.jsx("strong",{children:"Pass The Mic"})," Game Mode to share the microphones and sing in a team"]}),f.jsxs(f.Fragment,{children:["Your scores and ",f.jsx("strong",{children:"stats are saved"})," in this browser - they will be available for the next party!"]}),f.jsxs(f.Fragment,{children:["You can remove irrelevant songs from the Song Selection in ",f.jsx("strong",{children:"Edit Songs"})," page"]}),f.jsxs(f.Fragment,{children:["If the game feels a bit jaggy with low FPS, check out ",f.jsx("strong",{children:"Settings"})," page"]}),f.jsxs(f.Fragment,{children:["Party is only getting started? Play ",f.jsx("strong",{children:"Jukebox"})," for the music and to see what songs are available"]}),f.jsxs(f.Fragment,{children:["Research shows that ",f.jsx("strong",{children:"duet songs"})," are that bit more fun than simple one-track ones"]}),f.jsxs(f.Fragment,{children:["Want to sing a ",f.jsx("strong",{children:"new song"}),"? Find UltraStar version of it and import it with",f.jsx("br",{}),f.jsx("strong",{children:"Convert Ultrastar .txt"})]}),f.jsxs(f.Fragment,{children:["The ",f.jsx("strong",{children:"white pulse"})," around selected song in Song Selection tries to match song's tempo"]}),f.jsxs(f.Fragment,{children:["Entire game (besides add/edit song) is navigable with ",f.jsx("strong",{children:"Keyboard"})]}),f.jsxs(f.Fragment,{children:["You can hide or show keyboard navigation help with ",f.jsx("kbd",{children:"H"})," key"]}),f.jsxs(f.Fragment,{children:["In Song Selection, hold ",f.jsx("kbd",{children:""})," or ",f.jsx("kbd",{children:""})," to jump to the next letter"]}),f.jsxs(f.Fragment,{children:["Add ",f.jsx("strong",{children:"vibrato"})," to the notes you sing to get additional ",f.jsx("strong",{children:"bonus points"})]}),f.jsxs(f.Fragment,{children:["You can control the game with your phone - click on the"," ",f.jsxs("strong",{children:[f.jsx(df,{}),"QR Code Icon"]})," ","on the top right and follow the instructions"]})],Cve=({as:e="h4",...t})=>{const n=A.useRef(Ls(0,KR.length-1)),r=e;return f.jsx(r,{...t,children:KR[n.current]})};function Tve({...e}){const[t,n]=A.useState(""),r=A.useRef(null);return A.useEffect(()=>{const i=setTimeout(()=>{n(ss.getVideo())},1e3);return()=>{clearTimeout(i)}},[]),A.useEffect(()=>{try{r.current&&(r.current.playbackRate=16)}catch(i){Us(i)}},[t]),f.jsx(Ive,{...e,children:f.jsx(Rve,{src:t,ref:r,loop:!0,autoPlay:!0,className:"ph-no-capture"})})}const Ive=C("div",{target:"e1hckw6c1"})({name:"1g34f1k",styles:"width:80rem;height:60rem"}),Rve=C("video",{target:"e1hckw6c0"})({name:"idj2s4",styles:"object-fit:cover;width:100%;height:100%"});function Mve(e){return 1-Math.pow(1-e,3)}function Pve(e){return Mve(e)}function bp({color:e,maxScore:t,score:n}){return f.jsx(jve,{style:{border:n===0?0:void 0,width:`${Pve(n/t)*24}%`,backgroundColor:e}})}const jve=C("div",{target:"e6b38g50"})({name:"1vc31u",styles:`background-image:linear-gradient(
    180deg,
    rgba(0, 0, 0, 0.17) 0%,
    rgba(0, 0, 0, 0.03) 50%,
    rgba(0, 0, 0, 0.18) 51%,
    rgba(0, 0, 0, 0.18) 100%
  );transition:1s;border-radius:0.5rem;height:100%;border:solid 0.1rem black;box-sizing:border-box`});var vB={exports:{}};(function(e,t){(function(n,r){e.exports=r(A)})(typeof self<"u"?self:Uo,n=>(()=>{var r={7403:(a,l,c)=>{c.d(l,{default:()=>j});var u=c(4087),d=c.n(u);const h=function($){return new RegExp(/<[a-z][\s\S]*>/i).test($)},p=function($,V){return Math.floor(Math.random()*(V-$+1))+$};var g="TYPE_CHARACTER",m="REMOVE_CHARACTER",_="REMOVE_ALL",v="REMOVE_LAST_VISIBLE_NODE",y="PAUSE_FOR",b="CALL_FUNCTION",x="ADD_HTML_TAG_ELEMENT",S="CHANGE_DELETE_SPEED",w="CHANGE_DELAY",E="CHANGE_CURSOR",I="PASTE_STRING",z="HTML_TAG";function N($){return N=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(V){return typeof V}:function(V){return V&&typeof Symbol=="function"&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":typeof V},N($)}function D($,V){var G=Object.keys($);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols($);V&&(F=F.filter(function(ne){return Object.getOwnPropertyDescriptor($,ne).enumerable})),G.push.apply(G,F)}return G}function Q($){for(var V=1;V<arguments.length;V++){var G=arguments[V]!=null?arguments[V]:{};V%2?D(Object(G),!0).forEach(function(F){T($,F,G[F])}):Object.getOwnPropertyDescriptors?Object.defineProperties($,Object.getOwnPropertyDescriptors(G)):D(Object(G)).forEach(function(F){Object.defineProperty($,F,Object.getOwnPropertyDescriptor(G,F))})}return $}function P($){return function(V){if(Array.isArray(V))return L(V)}($)||function(V){if(typeof Symbol<"u"&&V[Symbol.iterator]!=null||V["@@iterator"]!=null)return Array.from(V)}($)||function(V,G){if(V){if(typeof V=="string")return L(V,G);var F=Object.prototype.toString.call(V).slice(8,-1);return F==="Object"&&V.constructor&&(F=V.constructor.name),F==="Map"||F==="Set"?Array.from(V):F==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(F)?L(V,G):void 0}}($)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function L($,V){(V==null||V>$.length)&&(V=$.length);for(var G=0,F=new Array(V);G<V;G++)F[G]=$[G];return F}function M($,V){for(var G=0;G<V.length;G++){var F=V[G];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty($,U(F.key),F)}}function T($,V,G){return(V=U(V))in $?Object.defineProperty($,V,{value:G,enumerable:!0,configurable:!0,writable:!0}):$[V]=G,$}function U($){var V=function(G,F){if(N(G)!=="object"||G===null)return G;var ne=G[Symbol.toPrimitive];if(ne!==void 0){var O=ne.call(G,"string");if(N(O)!=="object")return O;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(G)}($);return N(V)==="symbol"?V:String(V)}const j=function(){function $(F,ne){var O=this;if(function(Z,ae){if(!(Z instanceof ae))throw new TypeError("Cannot call a class as a function")}(this,$),T(this,"state",{cursorAnimation:null,lastFrameTime:null,pauseUntil:null,eventQueue:[],eventLoop:null,eventLoopPaused:!1,reverseCalledEvents:[],calledEvents:[],visibleNodes:[],initialOptions:null,elements:{container:null,wrapper:document.createElement("span"),cursor:document.createElement("span")}}),T(this,"options",{strings:null,cursor:"|",delay:"natural",pauseFor:1500,deleteSpeed:"natural",loop:!1,autoStart:!1,devMode:!1,skipAddStyles:!1,wrapperClassName:"Typewriter__wrapper",cursorClassName:"Typewriter__cursor",stringSplitter:null,onCreateTextNode:null,onRemoveNode:null}),T(this,"setupWrapperElement",function(){O.state.elements.container&&(O.state.elements.wrapper.className=O.options.wrapperClassName,O.state.elements.cursor.className=O.options.cursorClassName,O.state.elements.cursor.innerHTML=O.options.cursor,O.state.elements.container.innerHTML="",O.state.elements.container.appendChild(O.state.elements.wrapper),O.state.elements.container.appendChild(O.state.elements.cursor))}),T(this,"start",function(){return O.state.eventLoopPaused=!1,O.runEventLoop(),O}),T(this,"pause",function(){return O.state.eventLoopPaused=!0,O}),T(this,"stop",function(){return O.state.eventLoop&&((0,u.cancel)(O.state.eventLoop),O.state.eventLoop=null),O}),T(this,"pauseFor",function(Z){return O.addEventToQueue(y,{ms:Z}),O}),T(this,"typeOutAllStrings",function(){return typeof O.options.strings=="string"?(O.typeString(O.options.strings).pauseFor(O.options.pauseFor),O):(O.options.strings.forEach(function(Z){O.typeString(Z).pauseFor(O.options.pauseFor).deleteAll(O.options.deleteSpeed)}),O)}),T(this,"typeString",function(Z){var ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(h(Z))return O.typeOutHTMLString(Z,ae);if(Z){var je=(O.options||{}).stringSplitter,Ae=typeof je=="function"?je(Z):Z.split("");O.typeCharacters(Ae,ae)}return O}),T(this,"pasteString",function(Z){var ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return h(Z)?O.typeOutHTMLString(Z,ae,!0):(Z&&O.addEventToQueue(I,{character:Z,node:ae}),O)}),T(this,"typeOutHTMLString",function(Z){var ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,je=arguments.length>2?arguments[2]:void 0,Ae=function(Fe){var Se=document.createElement("div");return Se.innerHTML=Fe,Se.childNodes}(Z);if(Ae.length>0)for(var ce=0;ce<Ae.length;ce++){var be=Ae[ce],He=be.innerHTML;be&&be.nodeType!==3?(be.innerHTML="",O.addEventToQueue(x,{node:be,parentNode:ae}),je?O.pasteString(He,be):O.typeString(He,be)):be.textContent&&(je?O.pasteString(be.textContent,ae):O.typeString(be.textContent,ae))}return O}),T(this,"deleteAll",function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"natural";return O.addEventToQueue(_,{speed:Z}),O}),T(this,"changeDeleteSpeed",function(Z){if(!Z)throw new Error("Must provide new delete speed");return O.addEventToQueue(S,{speed:Z}),O}),T(this,"changeDelay",function(Z){if(!Z)throw new Error("Must provide new delay");return O.addEventToQueue(w,{delay:Z}),O}),T(this,"changeCursor",function(Z){if(!Z)throw new Error("Must provide new cursor");return O.addEventToQueue(E,{cursor:Z}),O}),T(this,"deleteChars",function(Z){if(!Z)throw new Error("Must provide amount of characters to delete");for(var ae=0;ae<Z;ae++)O.addEventToQueue(m);return O}),T(this,"callFunction",function(Z,ae){if(!Z||typeof Z!="function")throw new Error("Callback must be a function");return O.addEventToQueue(b,{cb:Z,thisArg:ae}),O}),T(this,"typeCharacters",function(Z){var ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!Z||!Array.isArray(Z))throw new Error("Characters must be an array");return Z.forEach(function(je){O.addEventToQueue(g,{character:je,node:ae})}),O}),T(this,"removeCharacters",function(Z){if(!Z||!Array.isArray(Z))throw new Error("Characters must be an array");return Z.forEach(function(){O.addEventToQueue(m)}),O}),T(this,"addEventToQueue",function(Z,ae){var je=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return O.addEventToStateProperty(Z,ae,je,"eventQueue")}),T(this,"addReverseCalledEvent",function(Z,ae){var je=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return O.options.loop?O.addEventToStateProperty(Z,ae,je,"reverseCalledEvents"):O}),T(this,"addEventToStateProperty",function(Z,ae){var je=arguments.length>2&&arguments[2]!==void 0&&arguments[2],Ae=arguments.length>3?arguments[3]:void 0,ce={eventName:Z,eventArgs:ae||{}};return O.state[Ae]=je?[ce].concat(P(O.state[Ae])):[].concat(P(O.state[Ae]),[ce]),O}),T(this,"runEventLoop",function(){O.state.lastFrameTime||(O.state.lastFrameTime=Date.now());var Z=Date.now(),ae=Z-O.state.lastFrameTime;if(!O.state.eventQueue.length){if(!O.options.loop)return;O.state.eventQueue=P(O.state.calledEvents),O.state.calledEvents=[],O.options=Q({},O.state.initialOptions)}if(O.state.eventLoop=d()(O.runEventLoop),!O.state.eventLoopPaused){if(O.state.pauseUntil){if(Z<O.state.pauseUntil)return;O.state.pauseUntil=null}var je,Ae=P(O.state.eventQueue),ce=Ae.shift();if(!(ae<=(je=ce.eventName===v||ce.eventName===m?O.options.deleteSpeed==="natural"?p(40,80):O.options.deleteSpeed:O.options.delay==="natural"?p(120,160):O.options.delay))){var be=ce.eventName,He=ce.eventArgs;switch(O.logInDevMode({currentEvent:ce,state:O.state,delay:je}),be){case I:case g:var Fe=He.character,Se=He.node,Ee=document.createTextNode(Fe),Ke=Ee;O.options.onCreateTextNode&&typeof O.options.onCreateTextNode=="function"&&(Ke=O.options.onCreateTextNode(Fe,Ee)),Ke&&(Se?Se.appendChild(Ke):O.state.elements.wrapper.appendChild(Ke)),O.state.visibleNodes=[].concat(P(O.state.visibleNodes),[{type:"TEXT_NODE",character:Fe,node:Ke}]);break;case m:Ae.unshift({eventName:v,eventArgs:{removingCharacterNode:!0}});break;case y:var Ye=ce.eventArgs.ms;O.state.pauseUntil=Date.now()+parseInt(Ye);break;case b:var Ie=ce.eventArgs,ot=Ie.cb,kt=Ie.thisArg;ot.call(kt,{elements:O.state.elements});break;case x:var Zt=ce.eventArgs,Rt=Zt.node,hn=Zt.parentNode;hn?hn.appendChild(Rt):O.state.elements.wrapper.appendChild(Rt),O.state.visibleNodes=[].concat(P(O.state.visibleNodes),[{type:z,node:Rt,parentNode:hn||O.state.elements.wrapper}]);break;case _:var lt=O.state.visibleNodes,At=He.speed,Gt=[];At&&Gt.push({eventName:S,eventArgs:{speed:At,temp:!0}});for(var Je=0,Mt=lt.length;Je<Mt;Je++)Gt.push({eventName:v,eventArgs:{removingCharacterNode:!1}});At&&Gt.push({eventName:S,eventArgs:{speed:O.options.deleteSpeed,temp:!0}}),Ae.unshift.apply(Ae,Gt);break;case v:var ve=ce.eventArgs.removingCharacterNode;if(O.state.visibleNodes.length){var tt=O.state.visibleNodes.pop(),pn=tt.type,ut=tt.node,nt=tt.character;O.options.onRemoveNode&&typeof O.options.onRemoveNode=="function"&&O.options.onRemoveNode({node:ut,character:nt}),ut&&ut.parentNode.removeChild(ut),pn===z&&ve&&Ae.unshift({eventName:v,eventArgs:{}})}break;case S:O.options.deleteSpeed=ce.eventArgs.speed;break;case w:O.options.delay=ce.eventArgs.delay;break;case E:O.options.cursor=ce.eventArgs.cursor,O.state.elements.cursor.innerHTML=ce.eventArgs.cursor}O.options.loop&&(ce.eventName===v||ce.eventArgs&&ce.eventArgs.temp||(O.state.calledEvents=[].concat(P(O.state.calledEvents),[ce]))),O.state.eventQueue=Ae,O.state.lastFrameTime=Z}}}),F)if(typeof F=="string"){var fe=document.querySelector(F);if(!fe)throw new Error("Could not find container element");this.state.elements.container=fe}else this.state.elements.container=F;ne&&(this.options=Q(Q({},this.options),ne)),this.state.initialOptions=Q({},this.options),this.init()}var V,G;return V=$,(G=[{key:"init",value:function(){var F,ne;this.setupWrapperElement(),this.addEventToQueue(E,{cursor:this.options.cursor},!0),this.addEventToQueue(_,null,!0),!window||window.___TYPEWRITER_JS_STYLES_ADDED___||this.options.skipAddStyles||(F=".Typewriter__cursor{-webkit-animation:Typewriter-cursor 1s infinite;animation:Typewriter-cursor 1s infinite;margin-left:1px}@-webkit-keyframes Typewriter-cursor{0%{opacity:0}50%{opacity:1}100%{opacity:0}}@keyframes Typewriter-cursor{0%{opacity:0}50%{opacity:1}100%{opacity:0}}",(ne=document.createElement("style")).appendChild(document.createTextNode(F)),document.head.appendChild(ne),window.___TYPEWRITER_JS_STYLES_ADDED___=!0),this.options.autoStart===!0&&this.options.strings&&this.typeOutAllStrings().start()}},{key:"logInDevMode",value:function(F){this.options.devMode&&console.log(F)}}])&&M(V.prototype,G),Object.defineProperty(V,"prototype",{writable:!1}),$}()},8552:(a,l,c)=>{var u=c(852)(c(5639),"DataView");a.exports=u},1989:(a,l,c)=>{var u=c(1789),d=c(401),h=c(7667),p=c(1327),g=c(1866);function m(_){var v=-1,y=_==null?0:_.length;for(this.clear();++v<y;){var b=_[v];this.set(b[0],b[1])}}m.prototype.clear=u,m.prototype.delete=d,m.prototype.get=h,m.prototype.has=p,m.prototype.set=g,a.exports=m},8407:(a,l,c)=>{var u=c(7040),d=c(4125),h=c(2117),p=c(7518),g=c(4705);function m(_){var v=-1,y=_==null?0:_.length;for(this.clear();++v<y;){var b=_[v];this.set(b[0],b[1])}}m.prototype.clear=u,m.prototype.delete=d,m.prototype.get=h,m.prototype.has=p,m.prototype.set=g,a.exports=m},7071:(a,l,c)=>{var u=c(852)(c(5639),"Map");a.exports=u},3369:(a,l,c)=>{var u=c(4785),d=c(1285),h=c(6e3),p=c(9916),g=c(5265);function m(_){var v=-1,y=_==null?0:_.length;for(this.clear();++v<y;){var b=_[v];this.set(b[0],b[1])}}m.prototype.clear=u,m.prototype.delete=d,m.prototype.get=h,m.prototype.has=p,m.prototype.set=g,a.exports=m},3818:(a,l,c)=>{var u=c(852)(c(5639),"Promise");a.exports=u},8525:(a,l,c)=>{var u=c(852)(c(5639),"Set");a.exports=u},8668:(a,l,c)=>{var u=c(3369),d=c(619),h=c(2385);function p(g){var m=-1,_=g==null?0:g.length;for(this.__data__=new u;++m<_;)this.add(g[m])}p.prototype.add=p.prototype.push=d,p.prototype.has=h,a.exports=p},6384:(a,l,c)=>{var u=c(8407),d=c(7465),h=c(3779),p=c(7599),g=c(4758),m=c(4309);function _(v){var y=this.__data__=new u(v);this.size=y.size}_.prototype.clear=d,_.prototype.delete=h,_.prototype.get=p,_.prototype.has=g,_.prototype.set=m,a.exports=_},2705:(a,l,c)=>{var u=c(5639).Symbol;a.exports=u},1149:(a,l,c)=>{var u=c(5639).Uint8Array;a.exports=u},577:(a,l,c)=>{var u=c(852)(c(5639),"WeakMap");a.exports=u},4963:a=>{a.exports=function(l,c){for(var u=-1,d=l==null?0:l.length,h=0,p=[];++u<d;){var g=l[u];c(g,u,l)&&(p[h++]=g)}return p}},4636:(a,l,c)=>{var u=c(2545),d=c(5694),h=c(1469),p=c(4144),g=c(5776),m=c(6719),_=Object.prototype.hasOwnProperty;a.exports=function(v,y){var b=h(v),x=!b&&d(v),S=!b&&!x&&p(v),w=!b&&!x&&!S&&m(v),E=b||x||S||w,I=E?u(v.length,String):[],z=I.length;for(var N in v)!y&&!_.call(v,N)||E&&(N=="length"||S&&(N=="offset"||N=="parent")||w&&(N=="buffer"||N=="byteLength"||N=="byteOffset")||g(N,z))||I.push(N);return I}},2488:a=>{a.exports=function(l,c){for(var u=-1,d=c.length,h=l.length;++u<d;)l[h+u]=c[u];return l}},2908:a=>{a.exports=function(l,c){for(var u=-1,d=l==null?0:l.length;++u<d;)if(c(l[u],u,l))return!0;return!1}},8470:(a,l,c)=>{var u=c(7813);a.exports=function(d,h){for(var p=d.length;p--;)if(u(d[p][0],h))return p;return-1}},8866:(a,l,c)=>{var u=c(2488),d=c(1469);a.exports=function(h,p,g){var m=p(h);return d(h)?m:u(m,g(h))}},4239:(a,l,c)=>{var u=c(2705),d=c(9607),h=c(2333),p=u?u.toStringTag:void 0;a.exports=function(g){return g==null?g===void 0?"[object Undefined]":"[object Null]":p&&p in Object(g)?d(g):h(g)}},9454:(a,l,c)=>{var u=c(4239),d=c(7005);a.exports=function(h){return d(h)&&u(h)=="[object Arguments]"}},939:(a,l,c)=>{var u=c(2492),d=c(7005);a.exports=function h(p,g,m,_,v){return p===g||(p==null||g==null||!d(p)&&!d(g)?p!=p&&g!=g:u(p,g,m,_,h,v))}},2492:(a,l,c)=>{var u=c(6384),d=c(7114),h=c(8351),p=c(6096),g=c(4160),m=c(1469),_=c(4144),v=c(6719),y="[object Arguments]",b="[object Array]",x="[object Object]",S=Object.prototype.hasOwnProperty;a.exports=function(w,E,I,z,N,D){var Q=m(w),P=m(E),L=Q?b:g(w),M=P?b:g(E),T=(L=L==y?x:L)==x,U=(M=M==y?x:M)==x,j=L==M;if(j&&_(w)){if(!_(E))return!1;Q=!0,T=!1}if(j&&!T)return D||(D=new u),Q||v(w)?d(w,E,I,z,N,D):h(w,E,L,I,z,N,D);if(!(1&I)){var $=T&&S.call(w,"__wrapped__"),V=U&&S.call(E,"__wrapped__");if($||V){var G=$?w.value():w,F=V?E.value():E;return D||(D=new u),N(G,F,I,z,D)}}return!!j&&(D||(D=new u),p(w,E,I,z,N,D))}},8458:(a,l,c)=>{var u=c(3560),d=c(5346),h=c(3218),p=c(346),g=/^\[object .+?Constructor\]$/,m=Function.prototype,_=Object.prototype,v=m.toString,y=_.hasOwnProperty,b=RegExp("^"+v.call(y).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");a.exports=function(x){return!(!h(x)||d(x))&&(u(x)?b:g).test(p(x))}},8749:(a,l,c)=>{var u=c(4239),d=c(1780),h=c(7005),p={};p["[object Float32Array]"]=p["[object Float64Array]"]=p["[object Int8Array]"]=p["[object Int16Array]"]=p["[object Int32Array]"]=p["[object Uint8Array]"]=p["[object Uint8ClampedArray]"]=p["[object Uint16Array]"]=p["[object Uint32Array]"]=!0,p["[object Arguments]"]=p["[object Array]"]=p["[object ArrayBuffer]"]=p["[object Boolean]"]=p["[object DataView]"]=p["[object Date]"]=p["[object Error]"]=p["[object Function]"]=p["[object Map]"]=p["[object Number]"]=p["[object Object]"]=p["[object RegExp]"]=p["[object Set]"]=p["[object String]"]=p["[object WeakMap]"]=!1,a.exports=function(g){return h(g)&&d(g.length)&&!!p[u(g)]}},280:(a,l,c)=>{var u=c(5726),d=c(6916),h=Object.prototype.hasOwnProperty;a.exports=function(p){if(!u(p))return d(p);var g=[];for(var m in Object(p))h.call(p,m)&&m!="constructor"&&g.push(m);return g}},2545:a=>{a.exports=function(l,c){for(var u=-1,d=Array(l);++u<l;)d[u]=c(u);return d}},1717:a=>{a.exports=function(l){return function(c){return l(c)}}},4757:a=>{a.exports=function(l,c){return l.has(c)}},4429:(a,l,c)=>{var u=c(5639)["__core-js_shared__"];a.exports=u},7114:(a,l,c)=>{var u=c(8668),d=c(2908),h=c(4757);a.exports=function(p,g,m,_,v,y){var b=1&m,x=p.length,S=g.length;if(x!=S&&!(b&&S>x))return!1;var w=y.get(p),E=y.get(g);if(w&&E)return w==g&&E==p;var I=-1,z=!0,N=2&m?new u:void 0;for(y.set(p,g),y.set(g,p);++I<x;){var D=p[I],Q=g[I];if(_)var P=b?_(Q,D,I,g,p,y):_(D,Q,I,p,g,y);if(P!==void 0){if(P)continue;z=!1;break}if(N){if(!d(g,function(L,M){if(!h(N,M)&&(D===L||v(D,L,m,_,y)))return N.push(M)})){z=!1;break}}else if(D!==Q&&!v(D,Q,m,_,y)){z=!1;break}}return y.delete(p),y.delete(g),z}},8351:(a,l,c)=>{var u=c(2705),d=c(1149),h=c(7813),p=c(7114),g=c(8776),m=c(1814),_=u?u.prototype:void 0,v=_?_.valueOf:void 0;a.exports=function(y,b,x,S,w,E,I){switch(x){case"[object DataView]":if(y.byteLength!=b.byteLength||y.byteOffset!=b.byteOffset)return!1;y=y.buffer,b=b.buffer;case"[object ArrayBuffer]":return!(y.byteLength!=b.byteLength||!E(new d(y),new d(b)));case"[object Boolean]":case"[object Date]":case"[object Number]":return h(+y,+b);case"[object Error]":return y.name==b.name&&y.message==b.message;case"[object RegExp]":case"[object String]":return y==b+"";case"[object Map]":var z=g;case"[object Set]":var N=1&S;if(z||(z=m),y.size!=b.size&&!N)return!1;var D=I.get(y);if(D)return D==b;S|=2,I.set(y,b);var Q=p(z(y),z(b),S,w,E,I);return I.delete(y),Q;case"[object Symbol]":if(v)return v.call(y)==v.call(b)}return!1}},6096:(a,l,c)=>{var u=c(8234),d=Object.prototype.hasOwnProperty;a.exports=function(h,p,g,m,_,v){var y=1&g,b=u(h),x=b.length;if(x!=u(p).length&&!y)return!1;for(var S=x;S--;){var w=b[S];if(!(y?w in p:d.call(p,w)))return!1}var E=v.get(h),I=v.get(p);if(E&&I)return E==p&&I==h;var z=!0;v.set(h,p),v.set(p,h);for(var N=y;++S<x;){var D=h[w=b[S]],Q=p[w];if(m)var P=y?m(Q,D,w,p,h,v):m(D,Q,w,h,p,v);if(!(P===void 0?D===Q||_(D,Q,g,m,v):P)){z=!1;break}N||(N=w=="constructor")}if(z&&!N){var L=h.constructor,M=p.constructor;L==M||!("constructor"in h)||!("constructor"in p)||typeof L=="function"&&L instanceof L&&typeof M=="function"&&M instanceof M||(z=!1)}return v.delete(h),v.delete(p),z}},1957:(a,l,c)=>{var u=typeof c.g=="object"&&c.g&&c.g.Object===Object&&c.g;a.exports=u},8234:(a,l,c)=>{var u=c(8866),d=c(9551),h=c(3674);a.exports=function(p){return u(p,h,d)}},5050:(a,l,c)=>{var u=c(7019);a.exports=function(d,h){var p=d.__data__;return u(h)?p[typeof h=="string"?"string":"hash"]:p.map}},852:(a,l,c)=>{var u=c(8458),d=c(7801);a.exports=function(h,p){var g=d(h,p);return u(g)?g:void 0}},9607:(a,l,c)=>{var u=c(2705),d=Object.prototype,h=d.hasOwnProperty,p=d.toString,g=u?u.toStringTag:void 0;a.exports=function(m){var _=h.call(m,g),v=m[g];try{m[g]=void 0;var y=!0}catch{}var b=p.call(m);return y&&(_?m[g]=v:delete m[g]),b}},9551:(a,l,c)=>{var u=c(4963),d=c(479),h=Object.prototype.propertyIsEnumerable,p=Object.getOwnPropertySymbols,g=p?function(m){return m==null?[]:(m=Object(m),u(p(m),function(_){return h.call(m,_)}))}:d;a.exports=g},4160:(a,l,c)=>{var u=c(8552),d=c(7071),h=c(3818),p=c(8525),g=c(577),m=c(4239),_=c(346),v="[object Map]",y="[object Promise]",b="[object Set]",x="[object WeakMap]",S="[object DataView]",w=_(u),E=_(d),I=_(h),z=_(p),N=_(g),D=m;(u&&D(new u(new ArrayBuffer(1)))!=S||d&&D(new d)!=v||h&&D(h.resolve())!=y||p&&D(new p)!=b||g&&D(new g)!=x)&&(D=function(Q){var P=m(Q),L=P=="[object Object]"?Q.constructor:void 0,M=L?_(L):"";if(M)switch(M){case w:return S;case E:return v;case I:return y;case z:return b;case N:return x}return P}),a.exports=D},7801:a=>{a.exports=function(l,c){return l==null?void 0:l[c]}},1789:(a,l,c)=>{var u=c(4536);a.exports=function(){this.__data__=u?u(null):{},this.size=0}},401:a=>{a.exports=function(l){var c=this.has(l)&&delete this.__data__[l];return this.size-=c?1:0,c}},7667:(a,l,c)=>{var u=c(4536),d=Object.prototype.hasOwnProperty;a.exports=function(h){var p=this.__data__;if(u){var g=p[h];return g==="__lodash_hash_undefined__"?void 0:g}return d.call(p,h)?p[h]:void 0}},1327:(a,l,c)=>{var u=c(4536),d=Object.prototype.hasOwnProperty;a.exports=function(h){var p=this.__data__;return u?p[h]!==void 0:d.call(p,h)}},1866:(a,l,c)=>{var u=c(4536);a.exports=function(d,h){var p=this.__data__;return this.size+=this.has(d)?0:1,p[d]=u&&h===void 0?"__lodash_hash_undefined__":h,this}},5776:a=>{var l=/^(?:0|[1-9]\d*)$/;a.exports=function(c,u){var d=typeof c;return!!(u=u??9007199254740991)&&(d=="number"||d!="symbol"&&l.test(c))&&c>-1&&c%1==0&&c<u}},7019:a=>{a.exports=function(l){var c=typeof l;return c=="string"||c=="number"||c=="symbol"||c=="boolean"?l!=="__proto__":l===null}},5346:(a,l,c)=>{var u,d=c(4429),h=(u=/[^.]+$/.exec(d&&d.keys&&d.keys.IE_PROTO||""))?"Symbol(src)_1."+u:"";a.exports=function(p){return!!h&&h in p}},5726:a=>{var l=Object.prototype;a.exports=function(c){var u=c&&c.constructor;return c===(typeof u=="function"&&u.prototype||l)}},7040:a=>{a.exports=function(){this.__data__=[],this.size=0}},4125:(a,l,c)=>{var u=c(8470),d=Array.prototype.splice;a.exports=function(h){var p=this.__data__,g=u(p,h);return!(g<0||(g==p.length-1?p.pop():d.call(p,g,1),--this.size,0))}},2117:(a,l,c)=>{var u=c(8470);a.exports=function(d){var h=this.__data__,p=u(h,d);return p<0?void 0:h[p][1]}},7518:(a,l,c)=>{var u=c(8470);a.exports=function(d){return u(this.__data__,d)>-1}},4705:(a,l,c)=>{var u=c(8470);a.exports=function(d,h){var p=this.__data__,g=u(p,d);return g<0?(++this.size,p.push([d,h])):p[g][1]=h,this}},4785:(a,l,c)=>{var u=c(1989),d=c(8407),h=c(7071);a.exports=function(){this.size=0,this.__data__={hash:new u,map:new(h||d),string:new u}}},1285:(a,l,c)=>{var u=c(5050);a.exports=function(d){var h=u(this,d).delete(d);return this.size-=h?1:0,h}},6e3:(a,l,c)=>{var u=c(5050);a.exports=function(d){return u(this,d).get(d)}},9916:(a,l,c)=>{var u=c(5050);a.exports=function(d){return u(this,d).has(d)}},5265:(a,l,c)=>{var u=c(5050);a.exports=function(d,h){var p=u(this,d),g=p.size;return p.set(d,h),this.size+=p.size==g?0:1,this}},8776:a=>{a.exports=function(l){var c=-1,u=Array(l.size);return l.forEach(function(d,h){u[++c]=[h,d]}),u}},4536:(a,l,c)=>{var u=c(852)(Object,"create");a.exports=u},6916:(a,l,c)=>{var u=c(5569)(Object.keys,Object);a.exports=u},1167:(a,l,c)=>{a=c.nmd(a);var u=c(1957),d=l&&!l.nodeType&&l,h=d&&a&&!a.nodeType&&a,p=h&&h.exports===d&&u.process,g=function(){try{return h&&h.require&&h.require("util").types||p&&p.binding&&p.binding("util")}catch{}}();a.exports=g},2333:a=>{var l=Object.prototype.toString;a.exports=function(c){return l.call(c)}},5569:a=>{a.exports=function(l,c){return function(u){return l(c(u))}}},5639:(a,l,c)=>{var u=c(1957),d=typeof self=="object"&&self&&self.Object===Object&&self,h=u||d||Function("return this")();a.exports=h},619:a=>{a.exports=function(l){return this.__data__.set(l,"__lodash_hash_undefined__"),this}},2385:a=>{a.exports=function(l){return this.__data__.has(l)}},1814:a=>{a.exports=function(l){var c=-1,u=Array(l.size);return l.forEach(function(d){u[++c]=d}),u}},7465:(a,l,c)=>{var u=c(8407);a.exports=function(){this.__data__=new u,this.size=0}},3779:a=>{a.exports=function(l){var c=this.__data__,u=c.delete(l);return this.size=c.size,u}},7599:a=>{a.exports=function(l){return this.__data__.get(l)}},4758:a=>{a.exports=function(l){return this.__data__.has(l)}},4309:(a,l,c)=>{var u=c(8407),d=c(7071),h=c(3369);a.exports=function(p,g){var m=this.__data__;if(m instanceof u){var _=m.__data__;if(!d||_.length<199)return _.push([p,g]),this.size=++m.size,this;m=this.__data__=new h(_)}return m.set(p,g),this.size=m.size,this}},346:a=>{var l=Function.prototype.toString;a.exports=function(c){if(c!=null){try{return l.call(c)}catch{}try{return c+""}catch{}}return""}},7813:a=>{a.exports=function(l,c){return l===c||l!=l&&c!=c}},5694:(a,l,c)=>{var u=c(9454),d=c(7005),h=Object.prototype,p=h.hasOwnProperty,g=h.propertyIsEnumerable,m=u(function(){return arguments}())?u:function(_){return d(_)&&p.call(_,"callee")&&!g.call(_,"callee")};a.exports=m},1469:a=>{var l=Array.isArray;a.exports=l},8612:(a,l,c)=>{var u=c(3560),d=c(1780);a.exports=function(h){return h!=null&&d(h.length)&&!u(h)}},4144:(a,l,c)=>{a=c.nmd(a);var u=c(5639),d=c(5062),h=l&&!l.nodeType&&l,p=h&&a&&!a.nodeType&&a,g=p&&p.exports===h?u.Buffer:void 0,m=(g?g.isBuffer:void 0)||d;a.exports=m},8446:(a,l,c)=>{var u=c(939);a.exports=function(d,h){return u(d,h)}},3560:(a,l,c)=>{var u=c(4239),d=c(3218);a.exports=function(h){if(!d(h))return!1;var p=u(h);return p=="[object Function]"||p=="[object GeneratorFunction]"||p=="[object AsyncFunction]"||p=="[object Proxy]"}},1780:a=>{a.exports=function(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=9007199254740991}},3218:a=>{a.exports=function(l){var c=typeof l;return l!=null&&(c=="object"||c=="function")}},7005:a=>{a.exports=function(l){return l!=null&&typeof l=="object"}},6719:(a,l,c)=>{var u=c(8749),d=c(1717),h=c(1167),p=h&&h.isTypedArray,g=p?d(p):u;a.exports=g},3674:(a,l,c)=>{var u=c(4636),d=c(280),h=c(8612);a.exports=function(p){return h(p)?u(p):d(p)}},479:a=>{a.exports=function(){return[]}},5062:a=>{a.exports=function(){return!1}},75:function(a){(function(){var l,c,u,d,h,p;typeof performance<"u"&&performance!==null&&performance.now?a.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(a.exports=function(){return(l()-h)/1e6},c=process.hrtime,d=(l=function(){var g;return 1e9*(g=c())[0]+g[1]})(),p=1e9*process.uptime(),h=d-p):Date.now?(a.exports=function(){return Date.now()-u},u=Date.now()):(a.exports=function(){return new Date().getTime()-u},u=new Date().getTime())}).call(this)},4087:(a,l,c)=>{for(var u=c(75),d=typeof window>"u"?c.g:window,h=["moz","webkit"],p="AnimationFrame",g=d["request"+p],m=d["cancel"+p]||d["cancelRequest"+p],_=0;!g&&_<h.length;_++)g=d[h[_]+"Request"+p],m=d[h[_]+"Cancel"+p]||d[h[_]+"CancelRequest"+p];if(!g||!m){var v=0,y=0,b=[];g=function(x){if(b.length===0){var S=u(),w=Math.max(0,16.666666666666668-(S-v));v=w+S,setTimeout(function(){var E=b.slice(0);b.length=0;for(var I=0;I<E.length;I++)if(!E[I].cancelled)try{E[I].callback(v)}catch(z){setTimeout(function(){throw z},0)}},Math.round(w))}return b.push({handle:++y,callback:x,cancelled:!1}),y},m=function(x){for(var S=0;S<b.length;S++)b[S].handle===x&&(b[S].cancelled=!0)}}a.exports=function(x){return g.call(d,x)},a.exports.cancel=function(){m.apply(d,arguments)},a.exports.polyfill=function(x){x||(x=d),x.requestAnimationFrame=g,x.cancelAnimationFrame=m}},8156:a=>{a.exports=n}},i={};function s(a){var l=i[a];if(l!==void 0)return l.exports;var c=i[a]={id:a,loaded:!1,exports:{}};return r[a].call(c.exports,c,c.exports,s),c.loaded=!0,c.exports}s.n=a=>{var l=a&&a.__esModule?()=>a.default:()=>a;return s.d(l,{a:l}),l},s.d=(a,l)=>{for(var c in l)s.o(l,c)&&!s.o(a,c)&&Object.defineProperty(a,c,{enumerable:!0,get:l[c]})},s.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),s.o=(a,l)=>Object.prototype.hasOwnProperty.call(a,l),s.nmd=a=>(a.paths=[],a.children||(a.children=[]),a);var o={};return(()=>{s.d(o,{default:()=>b});var a=s(8156),l=s.n(a),c=s(7403),u=s(8446),d=s.n(u);function h(x){return h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},h(x)}function p(x,S){for(var w=0;w<S.length;w++){var E=S[w];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(x,v(E.key),E)}}function g(x,S){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(w,E){return w.__proto__=E,w},g(x,S)}function m(x){if(x===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x}function _(x){return _=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(S){return S.__proto__||Object.getPrototypeOf(S)},_(x)}function v(x){var S=function(w,E){if(h(w)!=="object"||w===null)return w;var I=w[Symbol.toPrimitive];if(I!==void 0){var z=I.call(w,"string");if(h(z)!=="object")return z;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(w)}(x);return h(S)==="symbol"?S:String(S)}var y=function(x){(function(D,Q){if(typeof Q!="function"&&Q!==null)throw new TypeError("Super expression must either be null or a function");D.prototype=Object.create(Q&&Q.prototype,{constructor:{value:D,writable:!0,configurable:!0}}),Object.defineProperty(D,"prototype",{writable:!1}),Q&&g(D,Q)})(N,x);var S,w,E,I,z=(E=N,I=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var D,Q=_(E);if(I){var P=_(this).constructor;D=Reflect.construct(Q,arguments,P)}else D=Q.apply(this,arguments);return function(L,M){if(M&&(h(M)==="object"||typeof M=="function"))return M;if(M!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return m(L)}(this,D)});function N(){var D,Q,P,L;(function(j,$){if(!(j instanceof $))throw new TypeError("Cannot call a class as a function")})(this,N);for(var M=arguments.length,T=new Array(M),U=0;U<M;U++)T[U]=arguments[U];return Q=m(D=z.call.apply(z,[this].concat(T))),L={instance:null},(P=v(P="state"))in Q?Object.defineProperty(Q,P,{value:L,enumerable:!0,configurable:!0,writable:!0}):Q[P]=L,D}return S=N,(w=[{key:"componentDidMount",value:function(){var D=this,Q=new c.default(this.typewriter,this.props.options);this.setState({instance:Q},function(){var P=D.props.onInit;P&&P(Q)})}},{key:"componentDidUpdate",value:function(D){d()(this.props.options,D.options)||this.setState({instance:new c.default(this.typewriter,this.props.options)})}},{key:"componentWillUnmount",value:function(){this.state.instance&&this.state.instance.stop()}},{key:"render",value:function(){var D=this,Q=this.props.component;return l().createElement(Q,{ref:function(P){return D.typewriter=P},className:"Typewriter","data-testid":"typewriter-wrapper"})}}])&&p(S.prototype,w),Object.defineProperty(S,"prototype",{writable:!1}),N}(a.Component);y.defaultProps={component:"div"};const b=y})(),o.default})())})(vB);var Ove=vB.exports;const yB=ur(Ove);function Vve({playerNumber:e,player:t,segment:n}){const[r,i]=t.detailedScore;return f.jsxs(Lve,{children:[f.jsx(bp,{score:n>-1?r.rap+r.freestyle+r.normal:0,maxScore:i.rap+i.freestyle+i.normal,color:pe.colors.players[e].perfect.fill}),f.jsx(bp,{score:n>0?r.perfect:0,maxScore:i.perfect,color:pe.colors.players[e].stroke}),f.jsx(bp,{score:n>1?r.star:0,maxScore:i.star,color:pe.colors.players[e].starPerfect.stroke}),f.jsx(bp,{score:n>2?r.vibrato:0,maxScore:i.vibrato,color:pe.colors.players[e].perfect.stroke}),f.jsx(Nve,{children:n<5&&f.jsx(yB,{options:{strings:["Regular notes","Perfect notes","Star notes","Vibrato"],pauseFor:1e3,autoStart:!0,delay:15,deleteSpeed:15,cursor:""}})})]})}const Lve=C("div",{target:"ejw0p7o1"})({name:"rtb9pf",styles:"position:relative;height:5rem;width:100%;display:flex;flex-direction:row;border-radius:1rem;gap:0.5rem;box-sizing:border-box;background:rgba(0, 0, 0, 0.5);padding:0.5rem"}),Nve=C("span",{target:"ejw0p7o0"})("position:absolute;",$e,";font-size:3rem;text-align:right;white-space:nowrap;top:6rem;left:1rem;display:block;");function Bve({playerNumber:e,player:t,highestScore:n,highScores:r,singSetup:i,useColors:s=!0,revealHighScore:o,segment:a}){const[l]=t.detailedScore;let c=0;a>-1&&(c=l.normal+l.rap+l.freestyle),a>0&&(c=c+l.perfect),a>1&&(c=c+l.star),a>2&&(c=c+l.vibrato);const u=d=>r.some(h=>h.singSetupId===i.id&&h.name===d);return f.jsxs($ve,{children:[f.jsx(zve,{children:f.jsxs(Fve,{"data-win":o&&c===n,"data-test":`player-${e}-score`,"data-score":Math.floor(c),children:[f.jsx(Dve,{color:s?pe.colors.players[e].text:"","data-test":`player-${e}-name`,className:"ph-no-capture",children:t.name}),f.jsx(Mw,{preserveValue:!0,end:c,formattingFn:XN.format,duration:a<5?1:.5})]})}),f.jsx(Vve,{playerNumber:e,player:t,segment:a}),f.jsx(Uve,{"data-highscore":o&&u(t.name),children:"High score!"})]})}const $ve=C("div",{target:"e1vy0af44"})({name:"1kta8sk",styles:"background:rgba(0, 0, 0, 0.5);display:flex;flex-direction:column;align-items:center;border-radius:1rem;gap:1rem;padding:1rem 2rem;position:relative"}),Dve=C("span",{target:"e1vy0af43"})("color:",e=>e.color,";font-size:4rem;"),Fve=C(av,{target:"e1vy0af42"})("background:transparent;font-size:5.5rem;color:white;transition:400ms ease-in-out;position:relative;display:flex;align-items:center;justify-content:space-between;flex:1;margin:0;padding:0;&[data-win='true']{font-size:8.5rem;color:",pe.colors.text.active,";}"),zve=C("div",{target:"e1vy0af41"})({name:"8pc2uz",styles:"display:flex;flex:1;width:100%;height:8.5rem"}),Uve=C(AN,{target:"e1vy0af40"})("font-size:3rem;opacity:0;&[data-highscore='true']{",X0,";opacity:1;}transition:400ms;");function Hve({onNextStep:e,players:t,highScores:n,singSetup:r}){const[i,s]=A.useState(-1);A.useEffect(()=>{if(i<0)s(0);else if(i<4){const p=setInterval(()=>{s(g=>g+1)},1500);return()=>{clearInterval(p)}}},[i]);const o=i>3,a=()=>{o?e():(On.capture("animation_skipped"),s(5))};Cl({accept:a},!0,[i]);const l=A.useMemo(()=>({accept:"Next"}),[]);Eu(l,!0);const c=r.mode===Cr.CO_OP,u=c?[{...t[0],name:t.map(p=>p.name).join(", ")}]:t,d=u.map(p=>Jb(p.detailedScore[0])),h=Math.max(...d);return f.jsxs(Gve,{children:[f.jsx(qve,{children:u.map((p,g)=>f.jsx(Bve,{playerNumber:p.playerNumber,useColors:!c,revealHighScore:i>3,segment:i,player:p,highScores:n,highestScore:h,singSetup:r},g))}),f.jsx(Wve,{onClick:a,focused:!0,"data-test":o?"highscores-button":"skip-animation-button",children:o?"Next":"Skip"}),ss.getPermissionStatus()&&f.jsx(Kve,{})]})}const Gve=C("div",{target:"e1qmbv7g3"})({name:"1vzp6wx",styles:"position:absolute;padding:20rem 15rem 10rem 15rem;top:0;height:100%;box-sizing:border-box;width:100%;display:flex;flex-direction:column"}),qve=C("div",{target:"e1qmbv7g2"})({name:"1lbl88b",styles:"text-align:center;display:flex;flex-direction:column;justify-content:center;gap:5rem;margin-bottom:15rem;flex:1"}),Wve=C(As,{target:"e1qmbv7g1"})({name:"195iwp6",styles:"width:40rem;font-size:1.9vw;margin-left:auto"}),Kve=C(Tve,{target:"e1qmbv7g0"})({name:"1c3jvq",styles:"position:absolute;top:calc(50% - 30rem);left:95rem;transform:scale(0.75)"});function Yve(){return A.useMemo(()=>JSON.parse(Ve.session.getItem(qc))??[],[])}function Qve({score:e,register:t,singSetupId:n,onSave:r,index:i}){const s=A.useRef(null),[o,a]=A.useState(""),l=Yve(),c=()=>{o.trim().length&&o.trim()!==e.name&&r(n,e.score,e.name,o)};return f.jsx(qN,{className:"ph-no-capture",options:l,onChange:a,onBlur:c,value:o,label:"",ref:s,...t(`highscore-rename-${i}`,()=>{var u;return(u=s.current)==null?void 0:u.focus()}),placeholder:e.name,"data-test":"input-edit-highscore","data-original-name":e.name})}function Jve({onNextStep:e,highScores:t,singSetup:n,song:r}){const{register:i}=zn(),s=Mpe(r);return f.jsxs(f.Fragment,{children:[f.jsx(Xve,{"data-test":"highscores-container",children:t.map((o,a)=>f.jsxs(Zve,{isCurrentSing:o.singSetupId===n.id,children:[f.jsx(eye,{children:a+1}),f.jsx(tye,{className:"ph-no-capture",children:o.singSetupId===n.id?f.jsx(Qve,{index:a,score:o,register:i,singSetupId:n.id,onSave:s}):o.name}),f.jsx(nye,{children:f.jsx(q_,{score:o.score})}),f.jsx(rye,{children:as(o.date).format("MMMM DD, YYYY")})]},a))}),f.jsx(iye,{...i("play-next-song-button",e,void 0,!0),children:"Select song"})]})}const Xve=C("div",{target:"e1kq1u2t6"})({name:"9gtmjg",styles:"position:absolute;top:20rem;width:100%;text-align:center;padding:0 16rem;box-sizing:border-box"}),Zve=C("div",{target:"e1kq1u2t5"})("position:relative;",$e,";font-size:3.2rem;display:flex;background:",e=>e.isCurrentSing?"rgba(0,0,0,.9)":"rgba(0,0,0,.5)",";margin-bottom:2rem;padding:",e=>e.isCurrentSing?"0 1.5rem":"1rem 3.2rem",";align-items:center;"),eye=C("div",{target:"e1kq1u2t4"})("padding:0 1.6rem;color:",pe.colors.text.active,";"),tye=C("div",{target:"e1kq1u2t3"})({name:"1mbe2e5",styles:"text-align:left;flex:1;padding:1.6rem"}),nye=C("div",{target:"e1kq1u2t2"})({name:"2ycp6t",styles:"padding:0 1rem"}),rye=C("div",{target:"e1kq1u2t1"})({name:"1gbnj87",styles:"position:absolute;font-size:2rem;bottom:-1rem;right:-1.6rem;background:black;padding:0.5rem"}),iye=C(As,{target:"e1kq1u2t0"})({name:"dmbiod",styles:"position:absolute;bottom:4rem;right:2rem;width:40rem;font-size:1.9vw"});function sye({song:e,width:t,height:n,onClickSongSelection:r,players:i,highScores:s,singSetup:o}){const[a]=De(Tm);ba(!0);const[l,c]=A.useState("results");return f.jsxs(gN,{songData:e,width:t,height:n,children:[f.jsxs(oye,{children:[l==="results"&&f.jsx(Hve,{onNextStep:()=>c("highscores"),players:i,singSetup:o,highScores:s}),l==="highscores"&&f.jsx(Jve,{onNextStep:r,singSetup:o,highScores:s,song:e}),f.jsx(aye,{"data-active":"true"})]}),a==="christmas"&&f.jsxs(lye,{children:["Credit to ",f.jsx("a",{href:"https://www.FesliyanStudios.com",children:"https://www.FesliyanStudios.com"})," for the background music."]})]})}const oye=C("div",{target:"e1fxxvcx2"})({name:"1quw0ni",styles:"pointer-events:auto"}),aye=C(Cve,{target:"e1fxxvcx1"})({name:"1l1st43",styles:"transition:300ms;position:absolute;bottom:20rem;font-size:3.2rem;line-height:1.25;color:white;text-align:center;background:rgba(0, 0, 0, 0.75);width:100%;box-sizing:border-box;transform:scale(0);&[data-active='true']{transform:scale(1);}padding:2rem 10rem;kbd{padding:0.12rem 0.9rem;border-radius:1rem;border:0.5rem solid rgb(204, 204, 204);border-bottom-color:rgb(150, 150, 150);border-right-color:rgb(150, 150, 150);color:rgb(51, 51, 51);line-height:1.4;display:inline-block;box-shadow:0 0.1rem 0 rgba(0, 0, 0, 0.2),inset 0 0 0 0.2rem #ffffff;background-color:rgb(247, 247, 247);text-shadow:0 0.1rem 0 #fff;font-weight:normal;}"}),lye=C("span",{target:"e1fxxvcx0"})("position:fixed;bottom:2rem;left:2rem;font-size:1.5rem;",$e,";");function cye(e){const[t,n,r,i]=uye(e);return dye(t,n,r,i)()}function uye(e){let t=1779033703,n=3144134277,r=1013904242,i=2773480762;for(let s=0,o;s<e.length;s++)o=e.charCodeAt(s),t=n^Math.imul(t^o,597399067),n=r^Math.imul(n^o,2869860233),r=i^Math.imul(r^o,951274213),i=t^Math.imul(i^o,2716044179);return t=Math.imul(r^t>>>18,597399067),n=Math.imul(i^n>>>22,2869860233),r=Math.imul(t^r>>>17,951274213),i=Math.imul(n^i>>>19,2716044179),t^=n^r^i,n^=t,r^=t,i^=t,[t>>>0,n>>>0,r>>>0,i>>>0]}function dye(e,t,n,r){return function(){e|=0,t|=0,n|=0,r|=0;var i=(e+t|0)+r|0;return r=r+1|0,e=t^t>>>9,t=n+(n<<3)|0,n=n<<21|n>>>11,n=n+i|0,(i>>>0)/4294967296}}const fye=["Lysa Arryn","Peter Parker","Zordon","Chad Khalimov","Dat Boi","Good Guy Greg","Scumbag Steve","Meme Man","Pepe","Wojak","Ebmarah","Shrek","Vad of ICE Beat","Krasnolud","May Aragorn","Morning Breeze","Auytjak Lorav","Smelly Cat","Stinky Foot"],YR=new Date("2016-01-01").getTime(),hye=new Date("2024-01-07").getTime(),iA=5;function pye(e,t){const n=Ww(e);return A.useMemo(()=>{const i=[...fye];return[...Array.from({length:iA},(o,a)=>{const l=cye(e.id+a),c=6e5+14e5/(iA-1)*a,u=i.splice(Math.floor(l*i.length),1)[0];return{singSetupId:a.toString(),name:u,score:Hs()?c/1e3:c,date:new Date((hye-YR)*l+YR).toISOString()}}),...(n==null?void 0:n.scores.filter(({setup:o})=>o.mode===t.mode&&o.tolerance===t.tolerance).map(o=>o.scores.map(a=>({...a,date:o.date,singSetupId:o.setup.id}))).flat())??[]].sort((o,a)=>a.score-o.score).slice(0,iA)},[e.id,n,t])??[]}function gye({song:e,width:t,height:n,onClickSongSelection:r,singSetup:i}){const s=pye(e,i),o=A.useMemo(()=>Me.getPlayers().map(a=>({name:a.getName(),playerNumber:a.number,detailedScore:Ne.getPlayerDetailedScore(a.number)})),[]);return f.jsx(Mo,{children:f.jsx(sye,{singSetup:i,song:e,width:t,height:n,onClickSongSelection:r,players:o,highScores:s})})}function mye({songPreview:e,singSetup:t,returnToSongSelection:n,restartSong:r}){CN(),TN();const i=A.useRef(null),s=dN(e.id),{width:o,height:a}=gh(),[l,c]=A.useState(!1),[u,d]=A.useState(!0),[h,p]=A.useState(Tn.UNSTARTED),[g,m]=A.useState(!1);return ma(!g),A.useEffect(()=>{u&&s.data&&(g||h!==Tn.UNSTARTED)&&d(!1)},[s.data,g,h,u]),l&&s.data?f.jsx(gye,{width:o,height:a,song:s.data,onClickSongSelection:n,singSetup:t}):f.jsx(Mo,{children:f.jsxs(vye,{children:[f.jsxs(yye,{visible:u,"data-test":"background-container",children:[f.jsx(_ye,{video:e.video,width:o,height:a}),f.jsx(bye,{"data-test":"song-artist",children:e.artist}),f.jsx(Sye,{"data-test":"song-title",children:e.title}),f.jsx(bme,{onFinish:()=>{var _;m(!0),(_=i.current)==null||_.play()}})]}),s.data&&f.jsx(kve,{pauseMenu:!0,ref:i,onStatusChange:p,players:t.players,song:s.data,width:o,height:a,autoplay:!1,onSongEnd:()=>{var y;const _=((y=Ne.getSingSetup())==null?void 0:y.mode)===Cr.CO_OP?[{name:Me.getPlayers().map(b=>b.getName()).join(", "),score:Ne.getPlayerScore(0)}]:Me.getPlayers().map(b=>({name:b.getName(),score:Ne.getPlayerScore(b.number)})),v=Ne.getSongCompletionProgress();te.songEnded.dispatch(s.data,t,_,v),c(!0)},singSetup:t,restartSong:r})]})})}const vye=C("div",{target:"e9bbafl4"})({name:"bjn8wh",styles:"position:relative"}),yye=C("div",{target:"e9bbafl3"})("position:fixed;top:0;left:0;z-index:10;pointer-events:none;background-color:black;view-transition-name:song-preview;opacity:",e=>e.visible?1:0,";transition:500ms;"),Aye=C("div",{target:"e9bbafl2"})({name:"oux8x1",styles:"background-size:cover;background-position:center center;filter:blur(10px)"}),_ye=e=>f.jsx(Aye,{style:{backgroundImage:`url('https://i3.ytimg.com/vi/${e.video}/hqdefault.jpg')`,width:`${e.width}px`,height:`${e.height}px`}}),bye=C(Qw,{target:"e9bbafl1"})({name:"oyknw4",styles:"view-transition-name:song-preview-artist;position:absolute;top:10rem;left:10rem;font-size:7rem"}),Sye=C(cv,{target:"e9bbafl0"})({name:"1l9juvo",styles:"view-transition-name:song-preview-title;position:absolute;font-size:8rem;top:19rem;left:10rem"});function xye(){const e=h0("song"),[t,n]=A.useState(null),[r,i]=A.useState(e??null),[s,o]=A.useState(0),a=l=>{document.getElementById("preview-video-container").style.viewTransitionName="song-preview-video",Mf(()=>{document.getElementById("preview-video-container").style.viewTransitionName="",xu.flushSync(()=>{n(l)})}),uS.play()};return CN(),f.jsxs(f.Fragment,{children:[f.jsx(hi,{children:f.jsx("title",{children:"Game | AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsx(Pw,{children:t?f.jsx(mye,{restartSong:()=>{ss.restartRecord(),o(l=>l+1)},songPreview:t.song,singSetup:t,returnToSongSelection:()=>{i(t.song.id),n(null)}},s):f.jsx(vme,{onSongSelected:a,preselectedSong:r})})]})}const QR=C("div",{target:"e1x9yhuz2"})({name:"ab88yp",styles:"color:blue;@media (hover: hover){display:none;}"}),JR=C("div",{target:"e1x9yhuz1"})({name:"b0iqx8",styles:"@media (hover: none){display:none;}"});var wye=A.createContext({client:On}),Eye=function(){var e=A.useContext(wye).client;return e};function kye(e){var t=Eye(),n=A.useState(),r=n[0],i=n[1];return A.useEffect(function(){return t.onFeatureFlags(function(){i(t.getFeatureFlag(e))})},[t,e]),r}const Cye="/prs/275/assets/screenshot1-DaCeVKxL.webp",Tye="/prs/275/assets/screenshot2-BGzMpznM.webp",Iye="/prs/275/assets/screenshot3-uopWyjAi.webp",Rye=["K3Qzzggn--s","3wk7C64kaP4","ZylSidJ9eC8","0VR3dfZf9Yg","-9_d-sFhmRM","azdwsXLmrHE","JRfuAukYTKg","9-zQr3ATnM8","tzMye6AV8BQ","L3wKzyIN1yk","aSkFygPCTwE","_TrCbDtRxbU","F57P9C4SAW4","VtKcDwz6hiM","l482T0yNkeo","89dGC8de0CA","qSxyffSB7wA","6Hxz6qJi-9k","a5uQMwRMHcs","6RHFXw3bwwk","K8PpV3yK5iA","nYnLVWXmRm8","N4oEVmx-0H0","0J3vgcE5i2o","13m9v78uNJk","lp-EO5I60KA","I012yI2Kzqg","kWRhdN2XusA","egma0rGjtoo","I6Xd1t9fdrk","kjWG0oNpWog","FxYw0XPEoKE","IcrbM1l_BoI","G4LIM9VYhB0","kXYiU_JCYtU","eBShN8qT4lk","co6WMzDOh1o","uHP-qgzUVLM","NG2zyeVRcbs","otSGO77yLv8","1tU8plYDEwA","Wg2kHdUnZxw","Mzybwwf2HoQ","lOnAzx5Fn8g","_lK4cX5xGiQ","NZ_wT5qx0UM","qMxX-QOV9tI","Rj4Yu9Utdw0","q8ir8rVl2Z4","luwAMFcc2f8","2mVZvFZSCy4","ruyaKdPfTN4","j35p7ljELvM","KOY_05KwJYk","nntGTK2Fhb0","8SbUC-UaAxE","DCCJCILiX3o","nmjO1p9Oxrk","LYU-8IFcDPw","Xk0wdDTTPA0","SBjQ9tuuTJQ","31a56mYvVY8","iObGpqXKBdY","bvWRMAU6V-c","KRaWnd3LJfs","cSnkWzZ7ZAA","n6P0SitRwy8","hCuMWrfXG4E","EvuL5jyCHOw","2p_7338B5ow","bg1sT4ILG0w","Pw-0pbY9JeU","ccJw0xx2Nrw","GemKqzILV4w","V3EYjVPRClU","22QCGBE6oLo","IGMabBGydC0","aFztBLTSsTw","GG7fLOmlhYg","AoSxkMoN5mo","6EEW-9NDM5k","CUr5e6t3kSU","fzAyZ1Lh-zI","aGCdLKXNF3w","k0BWlvnBmIE","79DijItQXMM","Yem_iEHiyJ0","ktvTqknDobU","uxpDa-c-4Mc","uLIs0j2WnlM","1-pUaogoX5o","FWDXwrgdm9w","lKrFfp67NDQ","1qq7jTPkjVg","5s3ytiYZS8g","znSN1qwEXBg","0KSOMA3QBU0","tHyHOUShOg8","lEJ9E6EsRiE","pCBfCmHQw58","TAqZb52sgpU","jMh00h367o0","ff0oWESdmH0","ZEcqHA7dbwM","Vf0MC3CFihY","2fngvQS_PmQ","_NzLs-xSss0","ENBv2i88g6Y","YnopHCL1Jk8","1GCE82Ccl0U","8TdaXhpjHws","QwtRXG1QpR4","z1rYmzQ8C9Q","_7TtBGE9MiE","AgFeZr5ptV8","NOSrMg67FwU","qQkBeOisNM0","4m1EFMoRFvY","90RLzVUuXe4","17o1OlroNSE","TzjxzVmMC-M","XPL_qGqSJxA","rjOhZZyn30k","iCNekTCRnis","yZIummTz9mM","_66jPJVS4JE","zEkg4GBQumc","QYh6mYIJG2Y","DFNWZkpGBxE","uZAsfB1Np-8","vbufwMLhreg","h7ES_rO9bFM","r8OipmKFDeM","SeIJmciN8mo","LDDy4m_TiVk","OPf0YbXqDm0","To4SWGZkEPk","OnuuYcqhzCE","q7oSgpucj8Q","gNi_6U5Pm_o","pyVvRwRpB9E","D3FN2umFaM8","X0lkrxFuGr8","ChKqrwa7Ylw","e-fA-gBCkj0","3RSlhNJFohI","dsUXAEzaC3Q","a_426RiwST8","1j_dSNUGU-U","QQ_3S-IQm38","75Tk80ekPJw","tbneQDc2H3I","Ejya0YnaCY4","rV8NHsmVMPE","hV1NBfr5OI4","AAbokV76tkU","8nTFjVm9sTQ","CvBfHwUxHIk","EQXEUWh4Tnk","0habxsuXW4g","C-dvTjK_07c","wCQfkEkePx8","lbnoG2dsUk0","LGM5GkINMMI","F2tyEjsWjeA","e-ORhEE9VVg","kN0iD0pI3o0","RWgTD_0jxeE","CHVhwcOg6y8","SwYN7mTi6HM","IHS3qJdxefY","7tCTeSocvB0","pSQk-4fddDI","d020hcWA_Wg","1ekZEVeXwek","SRvCvsRp5ho","nrIPxlFzDi0","HhoATZ1Imtw","nhBorPm6JjQ","6ifMthurwe8","6bbuBubZ1yE","nSDgHBxUbVQ","6Zbi0XmGtMw","ilAJJ3WHg6g","2lGP78ckF_Q","UiEGVYOruLk","khg2sloLzTI","WbN0nX61rIs","n5h0qHwNrHk","fEq3xM-i0Ng","JwC1Ctrj6Xk","ZMUqIoDtSwc","eKFN-aqPJH8","kDIEOEmr4eM","dOvQXBobwwM","2iFa5We6zqw","NGrLb6W5YOM","y-MaaxgdUT4","Y-B0lXnierw","URKEvZxdgZQ"],Mye=["Tina Turner","ISAAK","Freddie Mercury","Calvin Harris feat. Pharrell Williams, Katy Perry & Big Sean","Wham","TLC","Jordin Sparks feat. Chris Brown","Matchbox Twenty","La Bouche","Jim Croce","OneRepublic","Five For Fighting","BTS","David Guetta & Chris Willis feat. Fergie & LMFAO","Cutting Crew","Fergie","Marillion","Montaigne","Barei","Sophie Ellis-Bextor","Daughtry","Michael Jackson","Ellie Goulding","Ariana Grande & The Weeknd","Mika","Mamma Mia! (Movie)","Bryan Adams","Bowling For Soup","Disneys The Lion King","NF","Linkin Park","Yazoo","Jason Paige","deadmau5 feat. Chris James","Fleetwood Mac","Sheryl Crow","The Kid Laroi & Miley Cyrus","America","The Rembrandts","Chumbawamba","Post Malone","KoRn","Michael Schulte","Usher","Destiny","Sugababes","Barbie (Ryan Gosling)","Flo Rida feat. David Guetta","Elena Siegman","Modern Talking","Savage Garden","Tiffany","Rihanna feat. Drake","System Of A Down","Moulin Rouge","Men at Work","Eminem feat. Rihanna","Natalie Imbruglia","Sara Bareilles","Dai Freyr","Counting Crows","Scissor Sisters","Finger Eleven","Katy Perry feat. Snoop Dogg","Olivia Newton-John","Jennifer Lopez & Pitbull","Eric Clapton","Skid Row","Wicked","Paul McCartney & Michael Jackson","Nelly Furtado","Shaggy feat. RikRok","Philip Bailey with Phil Collins","Reba McEntire & Kelly Clarkson","Hozier","Flo Rida","Kylie Minogue","The Makemakes","David Guetta & Sia","Shawn Mendes","Kaiser Chiefs","Xavier Rudd","Chris Rea","Kenya Grace","David Guetta feat. Usher","Led Zeppelin","Zedd & Foxes","Billy Boyd","Stone Temple Pilots","Lulu","Midnight Oil","Zoe Wees","Michelle Branch","Alter Bridge","Taylor Swift","Conchita Wurst","The Pussycat Dolls","George Ezra","Mark Ronson ft  Miley Cyrus","Disneys Frozen","David Guetta feat. Nicki Minaj","Rag'n'Bone Man","Diana Ross","Katy Perry feat. Nicki Minaj","Janet Jackson","Benny Cristo","Mtley Cre","Aretha Franklin & The Blues Brothers Band","Alessia Cara","Vampire Weekend","Phoebe Bridgers","Lady Gaga feat. Beyonc","Goo Goo Dolls","Shania Twain","Lizzo","David Guetta feat. Akon","Camila Cabello feat. Daddy Yankee","Blur","Wiz Khalifa","Ashley Tisdale (The Little Mermaid)","Pointer Sisters","Lea Salonga and Brad Kane","Soulja Boy Tellem feat. Sammie","Vanessa Williams","Frank Sinatra","David Cook","Ghost","Hoobastank","Hooverphonic","Slipknot","KDA ft. Madison Beer, (G)I-DLE, Lexie Liu, Jaira Burns, Seraphine","LE SSERAFIM","Voyager","The Village People","ALIKA","The Clash","Cat Stevens","Spandau Ballet","Big Time Rush","Rainbow","Kim Petras & Nicki Minaj","Alphaville","Anastacia","Terri Clark","Ariana Grande feat. Mac Miller","Eddie Murphy","Jason Mraz","NCT DREAM","Swedish House Mafia & The Weeknd","The Chainsmokers & Coldplay","Justin Timberlake","Katy Perry feat. Migos","Panic! at the Disco","Dua Lipa","High School Musical","Kid Cudi","Chris Brown feat. Benny Benassi","Hailee Steinfeld feat. DNCE","Ray Parker Jr.","RagnBone Man","Adam Lambert","Blanka","will.i.am feat. Eva Simons","Arcade Fire","Survivor","Hunter Hayes","Brandy & Monica","Rusted Root","Beastie Boys","Chuck Berry","Chris Brown","Olly Murs feat. Flo-Rida","Jewel","Justin Bieber & Ludacris","Christina Aguilera","Rihanna feat. Eminem","Backstreet Boys","Sam Smith","Chappell Roan","Owl City","James Morrison feat. Nelly Furtado","Rage Against The Machine","Placebo feat. David Bowie","Teach-In","Alesso & Katy Perry","Roman Lob","Richard Marx","Henry Moodie","Drake feat. Wizkid & Kyla","Sinad OConnor","Miracle Of Sound","Jessica Simpson","The Blues Brothers","Lady Gaga feat. Colby O'Donis","Marcus & Martinus","Manowar","S Club 7","Brenda Lee","Beyonc","Jay-Z feat. Rihanna & Kanye West","Kate Bush","Mns Zelmerlw","The Police","Vanessa Carlton","Babymetal x Electric Callboy","Hera Bjrk","Marvin Gaye & Tammi Terrell","Depeche Mode","Edward Sharpe And The Magnetic Zeros","Simply Red","Macklemore & Ryan Lewis feat. Wanz","Rob Zombie","Lordi","Alec Benjamin","Matt Redman","Disneys DuckTales 2017 (Felicia Barton)","Hillsong United","Amy MacDonald","Rihanna, Kanye West & Paul McCartney","Martina McBride","The Psychedelic Furs","Drake","Hilary Duff","Disneys Moana (Dwayne Johnson)","twenty ne pilts","Bob Marley & The Wailers","Slayyyter","Culture Club","Justin Bieber & Nicki Minaj","Ashley Tisdale","Enrique Iglesias feat. Pitbull","DragonForce","Girls Generation (SNSD)","Marshmello x Jonas Brothers","RAFA","The Script feat. will.i.am","Sam Ryder","Ylvis","Disturbed","A.R. Rahman & The Pussycat Dolls feat. Nicole Scherzinger","Awolnation","Himesh Patel","Rick Astley","Sixpence None The Richer","Ariana Grande feat. Future","Roxette","Disneys Phineas & Ferb (Phineas Flynn, Candace Flynn)","Selena Gomez x Marshmello","Frankie Valli","Deep Purple","Band Aid","Electric Callboy feat. Sido","Alice Merton","TheFatRat feat. Laura Brehm","Ricky Martin","Mariah Carey feat. Jay-Z","Gotye & Kimbra","Ke$ha","Lynyrd Skynyrd","Ed Sheeran and Justin Bieber","Kings of Leon","Maria Yaremchuk","David Guetta feat. Rihanna","DNCE","Eurythmics","Corinne Bailey Rae","Deadmau5 & Kaskade","Imagine Dragons","Ruslana","P!nk feat. Lily Allen","Bee Gees","Billy Talent","Passenger","Sarah McLachlan","Elton John & Dua Lipa","Doja Cat feat. SZA","Martin Solveig & Dragonette","League of Legends","The Pogues feat. Kirsty MacColl","R. City feat. Adam Levine","Mark Ronson feat. Bruno Mars","Martin Garrix feat. Bonn","Nico & Vinz","Black Sabbath","Anitta","Daisuke Ishiwatari","Marina & The Diamonds","Cailin Russo & Chrissy Costanza","Coldplay feat. Beyonc","Pearl Jam","The Weeknd feat. Daft Punk","Justin Bieber feat. Jaden Smith","The Weeknd","Faith Hill","Metric","Avenged Sevenfold","Jack Black","Bastille","Britney Spears feat. Tinashe","Usher & Pitbull","The Bloodhound Gang","Britney Spears feat. Madonna","Jack  (Skrillex & Diplo) with Justin Bieber","Madcon feat. Ray Dalton","Shakira ft. Freshlyground","Rihanna feat. Mikky Ekko","Windows95man","Toto","KISS","Dire Straits","Mariah Carey & Whitney Houston","Jojo","Creed","Alice Cooper","Metro Station","Interpol","Ed Sheeran and Elton John","Hailee Steinfeld & Grey feat. Zedd","Akon","Flo Rida feat. Ke$ha","Emmelie de Forest","Jessie J","Lana Del Rey","Subwoolfer","Alice In Chains","Set It Off","Daniel Powter","Crush 40","Akon feat. Eminem","Aerosmith","Johnny Logan","Ed Sheeran","Muse","Olivia Rodrigo","Elton John & RuPaul","The Smashing Pumpkins","Melanie Thornton","Nelly Furtado feat. Timbaland","The Common Linnets","Blackstreet feat. Dr. Dre","Donna Summer","Marina and the Diamonds","Ava Max","Disneys Mulan","Oasis","Eleni Foureira","Lewis Capaldi","The Cinematic Orchestra","Cynthia Harrell","Mandaryna","Don McLean","Destinys Child","SIAMS","The Little Mermaid","Black Eyed Peas, Shakira","Demi Lovato feat. Cher Lloyd","Remo Forrer","The Cranberries","Little Mix feat. Stormzy","The Proclaimers","Ba","P!nk feat. Nate Ruess","Charlie Puth & Selena Gomez","Coolio feat. L.V.","Tyler, The Creator","Gwen Stefani & Eve","The Fray","Kelly Clarkson","Mika feat. Ariana Grande","Man With A Mission","2Pac feat. Dr. Dre & Roger Troutman","Manchester Orchestra","Carly Rae Jepsen","Rockwell","2NE1","Nico Bruno","Technotronic feat. Felly","Ne-Yo","Kid Rock","Dana International","Starship","Max Coveri","AURORA","Inna","The Postal Service","The Black Keys","Edward Maya & Vika Jigulina","Jimmy Eat World","B.o.B feat. Hayley Williams","Daft Punk feat. Julian Casablancas","Jimi Jamison","Cher","Jay Sean feat. Lil Wayne","Kim Wilde","The Kelly Family","Grease (John Travolta & Olivia Newton-John)","The Kid Laroi & Justin Bieber","Wheatus","SING (Taron Egerton)","Jonathan Coulton","Lil Nas X","SZA","Bring Me The Horizon","Sudden Lights","Katy Perry feat. Kanye West","Jon Bellion","Thirty Seconds to Mars","Joe Cocker","will.i.am & Britney Spears","Macklemore & Ryan Lewis feat. Ray Dalton","Srbuk","BTS feat. Desiigner","Mariah Carey","Nicki Minaj feat. Rihanna","N Sync","Sean Kingston","Margaret Berger","Imagine Dragons x JID","Disneys Encanto","MELOVIN","Ike & Tina Turner","Kings Of Leon","Robbie Williams","Helena Paparizou","Taio Cruz","Dolly Parton","Disney's Moana","The Ronettes","Major Lazer & DJ Snake feat. M","Kanye West feat. Young Jeezy","Electric Light Orchestra","Jason Derulo","Colbie Caillat","Harry Styles","Little Mix","The Kooks","Poets Of The Fall","Loc Nottet","Jay Sean","Selena Gomez & The Scene","Nicki Minaj","Toni Braxton","We Are Domi","The Doors","Good Charlotte","Enya","Amy Grant","Jack White","Will Ferrell & Rachel McAdams","Les Fatals Picards","The BossHoss","Kanye West feat. Various Artists","Bridgit Mendler","Van Halen","Josh Groban","LazyTown","Stevie Wonder","AC/DC","Green Day","Rihanna & Ne-Yo","Tool","Huey Lewis & The News","Daniel Caesar","Empire Of The Sun","LP","Fredi and Friends","Evanescence","Snoop Dogg & Wiz Khalifa feat. Bruno Mars","Little Big","Israel Kamakawiwoole","We The Kings feat. Demi Lovato","Parry Gripp & Brianne Drouhard","Sean Kingston / Justin Bieber","Peter Gabriel","REO Speedwagon","Blanche","Blink 182","Radiohead","Pitbull feat. Chris Brown","The Darkness","Gandalf","Silk Sonic - Bruno Mars & Anderson .Paak","Marshmello & Bastille","A Great Big World","Joan Jett","Morgan Wallen","The Rolling Stones","Boyz II Men","Owl City & Carly Rae Jepsen","Faith No More","Malik Harris","Alanis Morissette","Kim Petras","Ariana Grande feat. Iggy Azalea","AaRON","Brotherhood Of Man","Coldplay","Lady Antebellum","Britney Spears / Elton John","Ke$ha feat. 3OH!3","Shakira feat. Wyclef Jean","Gina G","Post Malone feat. 21 Savage","Queen & David Bowie","Mumford and Sons","Ashlee Simpson","Drake feat. Rihanna","Breaking Benjamin","Sandie Shaw","Justin Bieber feat. Big Sean","David Guetta feat. Zara Larsson","Kendrick Lamar","Lyn","KEiiNO","The Jackson 5","The Greatest Showman","Phil Collins","Tom Jones and Mousse T.","Flo Rida feat. T-Pain","David Bowie","Andy Williams","Scorpions","Gorillaz","Amy Winehouse feat. Mark Ronson","Whitesnake","Nicki Taylor","Usher feat. Pitbull","Ochman","Cline Dion","3OH!3 feat. Katy Perry","Twenty One Pilots","Tally Hall","Dai og Gagnamagni","Queen","David Guetta feat. Chris Willis","M83 feat. Susanne Sundfr","Hootie & The Blowfish","Ashanti","The Calling","John Mayer","David Guetta feat. Kid Cudi","The Smiths","a-ha","Bryce Pinkham","Mae Muller","Borislav Slavov (Baldur's Gate 3)","Peter Gabriel & Kate Bush","Duncan Laurence","Leona Lewis","Lifehouse","Psy feat. Suga of BTS","The Animals","3 Doors Down","Guns N Roses","Wilson Phillips","Tove Lo","Netta","Nickelback","Ultravox","Smash Into Pieces","Marshmello & Anne-Marie","Cheryl Cole","Marc Cohn","Kid Rock feat. Sheryl Crow","Whitney Houston","Maroon 5","Natasha Farrow","Lykke Li","Dido","Mitski","Bad Omens","Jay Sean feat. Sean Paul & Lil Jon","Blondie","Britney Spears & Iggy Azalea","Sylver","Shakira","Creedence Clearwater Revival","Frankie Goes To Hollywood","Blu Cantrell","Coldplay x BTS","Snow Patrol","ZAYN feat. Sia","Phantom Planet","Glen Hansard And Markta Irglov","Pitbull feat. Ne-Yo, Afrojack & Nayer","Nirvana","Baccara","George Michael","Richard Marx & Donna Lewis","Utada Hikaru","Chris Brown feat. Justin Bieber","M.I.A.","Disneys Hercules","Les Misrables","Andrew Lambrou","New Order","Kaleo","System of a Down","The Vines","Reba McEntire with Brooks & Dunn","Avicii feat. Sandro Cavazza","Tracy Chapman","Fountains Of Wayne","Ginuwine","Jamiroquai","Wiz Khalifa ft. Charlie Puth","Bruno Mars","Secondhand Serenade","Chingiz","Disney's Tangled","Cornelia Jakobs","Taylor Swift feat. Post Malone","O.A.R.","Christina Perri","Netflix","Estelle feat. Kanye West","Kellie Pickler","Take That","Powerwolf","John Lennon","Alan Walker","Eminem","James Blunt","Ben E. King","Stella Mwangi","R.E.M.","David Guetta feat. Kelly Rowland","Bill Medley & Jennifer Warnes","A Perfect Circle","Spice Girls","Lady Gaga & Ariana Grande","The White Stripes","Usher feat. will.i.am","Audioslave","JoJo","Rasmussen","Fetty Wap","Shawn Mendes & Camila Cabello","Sun Stroke Project & Olia Tira","Bonnie Tyler","Joy Division","Hazbin Hotel (Black Gryph0n & Baasik)","3OH!3","Metallica","Baby Lasagna","Glee Cast","Lindsey Stirling feat. Becky G","Young The Giant","The Killers","Clean Bandit feat. Marina & Luis Fonsi","Petula Clark","Flo Rida feat. Sia","Rihanna feat. Calvin Harris","Foster The People","No Secrets","Usher & Alicia Keys","LSD","Boney M.","Against The Current","Prince and the Revolution","La La Land (Ryan Gosling & Emma Stone)","The Temptations","Maroon 5 feat. Wiz Khalifa","SMiLE.dk","Tom Dice","Rob Thomas","Jet","Drake Bell","Ween","Kendrick Lamar feat. Drake","Rod Stewart","Slade","Kid Cudi feat. MGMT & Ratatat","Yohanna","Plain White Ts","Fun.","Crusher-P feat. GUMI","Post Malone & Swae Lee","Grta Salme & Jnsi","Bing Crosby","Ben Doli","Victoria Justice","Tom Odell","The Mamas & The Papas","Joan Jett & The Blackhearts","Rage Against the Machine","My Little Pony","Lil Nas X feat. Billy Ray Cyrus","Drowning Pool","Vanilla Ice","Boney M","Tix","Beyonc & Shakira","Stephen Sanchez","Cascada","Eric Saade","Skillet","Dean Lewis","Three Days Grace","Vanessa Hudgens","Lorde","NIKI","Billie Eilish & Khalid","One Direction","Justin Bieber feat. Usher","Ariana Grande","Simon & Garfunkel","Michael Jackson feat. Justin Timberlake","Christina Aguilera, Lil Kim, Mya & P!nk (Moulin Rouge)","Rihanna feat. Jeezy","Lord Of The Lost","The Who","Idina Menzel","Hamilton","Foreigner","Camila Cabello ft. Ed Sheeran","Miley Cyrus","Getter Jaani","Meghan Trainor","Avicii","Gustaph","Arctic Monkeys","Sara Evans","Joji","TheFatRat","Tate McRae","Justin Bieber","Radical Face","Iggy Pop","The Strokes","Julie and the Phantoms","The Black Eyed Peas","The Rasmus","Benson Boone","Mneskin","Pink Floyd","Katy Perry","Crowded House","Gwen Stefani Feat Akon","Banana minnions family","Rhapsody","Genesis","Daft Punk","Britney Spears","Eminem feat. Dido","Westlife","PinkPantheress & Ice Spice","Fun. feat. Janelle Mone","Hollywood Undead","Camp Rock 2","Olsen Brothers","David Guetta feat. Flo Rida & Nicki Minaj","Rise Against","Pitbull feat. Marc Anthony","Kanye West","Pixies","Johnny Cash","The Jacksons","Disneys Frozen II","ABBA","Pretenders","David Guetta feat. Nicki Minaj & Afrojack","Red Hot Chili Peppers","Neon Genesis Evangelion","No Doubt","Cliff Richard","Gloria Gaynor","Shawn Mendes, Camila Cabello","Timbaland feat. Keri Hilson","Neil Young","Alice in Chains","Magic!","The Anxiety (Willow & Tyler Cole)","Psychostick","Dio","U2","Alexander Rybak","Chicago","All Time Low feat. Demi Lovato & Blackbear","La Roux","BLACKPINK & Selena Gomez","Smash Mouth","Willie Nelson and Merle Haggard","Florence + the Machine","Eva Rivas","Sabaton","Paramore","Mandy Moore","Alan Walker & Ava Max","Bon Jovi","Melanie Martinez","Jessie J feat. Ariana Grande & Nicki Minaj","Silia Kapsis","Rufus Wainwright","The Living Tombstone","The Weeknd feat. Ariana Grande","The Eagles","Usher feat. Lil Jon & Ludacris","Loreen","SEBalter","Portal","Demi Lovato","Bruno Mars & Cardi B","Ice Cube","NCT 127","Anna Margaret","Sia","Soul Asylum","Bobby Helms","Manuel","deadmau5 feat. Gerard Way","Natasha Bedingfield","K-391 feat. Alan Walker, Julie Bergan & SeungRi","Santana feat. Rob Thomas","Lionel Richie","Alannah Myles","P!nk","Meat Loaf","Timbaland presents OneRepublic","Madonna feat. Britney Spears, Christina Aguilera & Missy Elliott","Hazbin Hotel","Dead Or Alive","Kaleen","Disneys Phineas & Ferb (Candace Flynn)","Chenoa","Shakira feat. Dizzee Rascal","The Offspring","Vengaboys","Placebo","Texas","Shakira feat. Rihanna","Bob Seger & The Silver Bullet Band","Disney's Aladin","Victoria Justice & Ariana Grande","Disney's Pocahontas","LMFAO","Into the Woods","Steven Curtis Chapman","Aly & AJ","Falling In Reverse","The Baseballs","Alessandra","Lena","Cyndi Lauper","Asking Alexandria","USA for Africa","The Beatles","Abby Trott","Morandi","Lady Gaga","Idina Menzel with Michael Bubl","Lil Dicky","Wham!","Ariana Grande feat. Zedd","John Legend","Ren","Alicia Keys","B.o.B feat. Bruno Mars","Rascal Flatts","FIFTY FIFTY","Adele","Lipps, Inc.","Extreme","Tenacious D","Olly Murs","Chris Brown feat. Rihanna","Billy Joel","Bellamy Brothers","Jay-Z feat. Alicia Keys","Simple Plan","blink-182","Vitamin C","Foo Fighters","Lenny Kravitz","Rupert Holmes","Nemo","Mumford & Sons","David Guetta feat. Justin Bieber","The Black Eyed Peas Feat. Justin Timberlake","Paris Hilton","Verka Serduchka","Jennifer Lopez","Fall Out Boy","Rednex","Selena Gomez","Dean Martin","Ricky Martin with Christina Aguilera","RuPaul","Europe","Lana Del Rey feat. The Weeknd","Nick Cave & The Bad Seeds + Kylie Minogue","Tom Jones","Bucks Fizz","Fools Garden","Avril Lavigne","Sublime","Elton John","My Chemical Romance","Michael Bubl","Katrina And The Waves","Disneys Descendants","Dami Im","LMFAO, Lauren Bennett & Goon Rock","Paul Simon","Lily Allen","Shakin Stevens","Elvis Presley","Rihanna","Dave Rodgers","New Kids On The Block","Haddaway & Jim Carrey & The Roxbury Guys","4 Non Blondes","Symphony X","Gym Class Heroes feat. Adam Levine","Journey","Billie Eilish","Pharrell Williams","Chris Isaak","John Waite","Corey Hart","Franz Ferdinand","Miranda Lambert","Beyonc feat. Jay-Z","Scooter vs. Marc Acardipane & Dick Rules","Rosa Linn","will.i.am feat. Justin Bieber","Maroon 5 feat. Christina Aguilera","Guns N' Roses","The Cure","Victorious Cast feat. Victoria Justice","Teya & Salena","Lucy Hale","Jesse McCartney","Christina Milian","Keane","Bebe Rexha y David Guetta","3OH!3 feat. Ke$ha","LeAnn Rimes","Smokie","The Neighbourhood","Daft Punk Feat. Todd Edwards","The Script","Dashboard Confessional","Sabrina Carpenter","Shakira feat. Carlinhos Brown","ZZ Top","Run DMC","Tones And I","5 Seconds of Summer","Weezer","Enrique Iglesias","Madonna","Kanye West feat. Pusha T","Amy Winehouse","Tears For Fears","Hailee Steinfeld","Nick Jonas","Bryan Adams, Rod Stewart & Sting","KT Tunstall","Christina Aguilera feat. Redman","Kay Starr","Travie McCoy feat. Bruno Mars","A Day to Remember","B52s","ATeens","Doki Doki Literature Club!","Disneys Kim Possible (Christina Milian)","Aram MP3","Serj Tankian","Marilyn Manson","Doja Cat","Hanson","Aqua","Danzel","Calvin Harris feat. Rihanna","Soundgarden","Bradley Cooper & Lady Gaga"],Pye=["Polish","Korean","English","Japanese","Spanish","Estonian","Swedish","Indonesian","French","German","Portuguese","Dutch","Catalan","Czech","Norwegian","Italian","Croatian","Latin","Icelandic","Ukrainian","Serbian","Slovenian","Finnish","Romanian","Latvian","Chinese"],jye=2816,md={videoIds:Rye,artists:Mye,languages:Pye,songs:jye},Oye=new Intl.NumberFormat(void 0,{maximumFractionDigits:0});function Vye(){const[e]=De(_b),t=qr(),n=kye(Ab.Shrek);ma(!0);const r=e===null?"quick-setup/":"menu/";Er("enter",()=>{t(r)},[r]);const[i,s]=A.useState(!1);return A.useEffect(()=>{const o=setTimeout(()=>{s(!0)},4e3);return()=>clearTimeout(o)},[]),f.jsxs(Mo,{toolbar:!1,children:[f.jsx(hi,{children:f.jsx("title",{children:"AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsx(WL,{}),f.jsxs(Dye,{children:[f.jsx(JR,{children:f.jsxs(Lye,{children:[f.jsx(sN,{}),f.jsx(Tw,{})]})}),f.jsx(JR,{children:f.jsx(Tr,{to:r,children:f.jsx(sA,{"data-test":"enter-the-game",focused:!0,children:"Enter the game"})})}),f.jsxs(Nye,{children:[f.jsxs(AB,{children:[f.jsxs(Bye,{children:[f.jsx("strong",{children:"AllKaraoke"})," is a free online karaoke game inspired by PlayStation's"," ",f.jsx("strong",{children:"SingStar"}),". Sing along to your favorite songs and compete with your friends, all through the browser! Updated almost weekly with new songs and features."]}),f.jsx("hr",{}),f.jsxs(Xu,{children:[" ",f.jsx("strong",{children:Oye.format(md.songs)})," songs in"," ",f.jsx("strong",{children:md.languages.length})," languages",f.jsxs(Zu,{children:["Artists such as"," ",f.jsx("strong",{children:i?f.jsx(yB,{options:{strings:md.artists,autoStart:!0,loop:!0,delay:100}}):md.artists.at(-1)})]})]}),f.jsxs(Xu,{children:[" Play ",f.jsx("strong",{children:"directly"})," in the browser",f.jsxs(Zu,{children:["No ",f.jsx("strong",{children:"download"})," needed"]})]}),f.jsxs(Xu,{children:[" Use ",f.jsx("strong",{children:"phones"})," as microphones",f.jsx(Zu,{children:"No need to download an app"})]}),f.jsxs(Xu,{children:[" Supports ",f.jsx("strong",{children:"1-4"})," players",f.jsx(Zu,{children:"When using phones as microphones"})]}),f.jsxs(Xu,{children:[" ",f.jsx("strong",{children:"100% Free"})," and open source",f.jsxs(Zu,{children:["Check the"," ",f.jsx("a",{href:"https://github.com/Asvarox/allkaraoke",target:"_blank",rel:"noreferrer",children:"GitHub repository"})]})]})]}),f.jsxs($ye,{children:[f.jsx("img",{src:Cye,alt:"Song list screen"}),n==="test"?f.jsx("img",{src:Tye,alt:"In-game screen"}):f.jsx("img",{src:Iye,alt:"In-game screen"})]})]}),f.jsxs(zye,{children:["Using this device as remote microphone?",f.jsx(Tr,{to:"remote-mic/",children:f.jsx("a",{"data-test":"join-existing-game",children:"Join existing game"})})]}),f.jsxs(Fye,{children:[f.jsx(QR,{children:f.jsx(Tr,{to:"remote-mic/",children:f.jsx(sA,{"data-test":"join-existing-game",focused:!0,children:f.jsxs("span",{children:["Join game (with ",f.jsx("strong",{children:"Game Code"}),")"]})})})}),f.jsx(QR,{children:f.jsx(Tr,{to:"quick-setup/",children:f.jsx(sA,{"data-test":"enter-the-game",children:"Start new game"})})})]})]})]})}const Lye=C("div",{target:"e1n22rxp10"})({name:"an0x26",styles:"display:flex;gap:6rem"}),Nye=C("div",{target:"e1n22rxp9"})("display:flex;align-items:center;gap:6rem;padding:6rem;box-sizing:border-box;width:110rem;font-size:2.3rem;",lf,"{width:90%;flex-direction:column;font-size:8.5rem;}",d0,"{font-size:4.9rem;}background:rgba(0, 0, 0, 0.8);backdrop-filter:blur(10px);hr{margin:3rem 0;}"),Bye=C("span",{target:"e1n22rxp8"})("line-height:1.5;text-align:justify;",lf,"{font-size:8.5rem;}",d0,"{font-size:4.9rem;}"),Xu=C("div",{target:"e1n22rxp7"})(""),Zu=C("div",{target:"e1n22rxp6"})({name:"1dzwbkh",styles:"padding-top:0.5rem;font-size:0.7em;text-align:right;.Typewriter{display:inline;}"}),AB=C("div",{target:"e1n22rxp5"})("display:flex;flex-direction:column;flex:1;gap:1rem;",$e,";"),$ye=C(AB,{target:"e1n22rxp4"})(d0,"{display:none;}",lf,"{flex-direction:row;}gap:4rem;img{width:100%;aspect-ratio:16/9;object-fit:cover;box-shadow:0 0 5rem rgba(114, 155, 255, 0.5);border-radius:1rem;",lf,"{width:calc(50% - 2rem);height:50rem;}}img:nth-of-type(2){box-shadow:0 0 10rem rgb(19, 19, 19);}"),Dye=C("div",{target:"e1n22rxp3"})("display:flex;flex-direction:column;",d0,"{flex-direction:row;}align-items:center;justify-content:center;height:100vh;gap:3rem;strong,a{text-shadow:0 0 5rem ",pe.colors.text.active,";}"),Fye=C("div",{target:"e1n22rxp2"})({name:"inasn2",styles:"display:flex;flex-direction:column;gap:3rem;width:90%;&& a{width:100%;flex:1;min-height:30rem;}"}),zye=C("h3",{target:"e1n22rxp1"})(lf,"{display:none;}text-align:right;width:110rem;margin-top:-2.5rem!important;"),sA=C(eL,{target:"e1n22rxp0"})("font-size:9rem;padding:1rem 7rem;background:black;width:110rem;transform:none;",Z4,";");function Uye(e){const t=qr(),n=()=>t("menu/"),{register:r}=zn({onBackspace:n});return f.jsxs(_a,{children:[f.jsx(hi,{children:f.jsx("title",{children:"Manage Songs | AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsx("h1",{children:"Manage Songs"}),f.jsx(Tr,{to:"exclude-languages/",children:f.jsx(Re,{...r("exclude-languages",()=>t("exclude-languages/")),children:"Select Song Languages"})}),f.jsx(Tr,{to:"edit/list/",children:f.jsx(Re,{...r("edit-songs",()=>t("edit/list/")),children:"Edit songs"})}),f.jsx(Tr,{to:"convert/",children:f.jsx(Re,{...r("convert-song",()=>t("convert/")),children:"Convert UltraStar .txt"})}),f.jsx("hr",{}),f.jsx(Tr,{to:"menu/",children:f.jsx(Re,{...r("back-button",n),children:"Return To Main Menu"})})]})}var fv={exports:{}};fv.exports=eE;fv.exports.isMobile=eE;fv.exports.default=eE;const Hye=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,Gye=/CrOS/,qye=/android|ipad|playbook|silk/i;function eE(e){e||(e={});let t=e.ua;if(!t&&typeof navigator<"u"&&(t=navigator.userAgent),t&&t.headers&&typeof t.headers["user-agent"]=="string"&&(t=t.headers["user-agent"]),typeof t!="string")return!1;let n=Hye.test(t)&&!Gye.test(t)||!!e.tablet&&qye.test(t);return!n&&e.tablet&&e.featureDetect&&navigator&&navigator.maxTouchPoints>1&&t.indexOf("Macintosh")!==-1&&t.indexOf("Safari")!==-1&&(n=!0),n}var Wye=fv.exports;const Kye=ur(Wye);function Yye(){const[,e]=De(dr),t=async()=>{var n,r;try{e(!0),await document.body.requestFullscreen(),global.screen.orientation.unlock(),await((r=(n=global.screen.orientation).lock)==null?void 0:r.call(n,"landscape"))}catch(i){console.info(i)}};return f.jsx(Mo,{children:f.jsx(Qye,{children:f.jsxs(Jye,{children:[f.jsx("h1",{children:"Use Mobile Phone Mode?"}),f.jsx("h3",{children:"The regular version of the game isn't optimal for smaller screens. Enable the Mobile Phone Mode to adjust the UI and gameplay elements. Use this, or connect other mobiles to sing songs."}),f.jsxs("h3",{children:["You can always change the setting in the ",f.jsx("strong",{children:"Settings"})," menu."]}),f.jsx(XR,{focused:!0,onClick:t,"data-test":"enable-mobile-mode",children:"Enable Mobile Phone Mode"}),f.jsx(XR,{onClick:()=>e(!1),"data-test":"dismiss-mobile-mode",children:"Dismiss"})]})})})}const XR=C(Re,{target:"e6hg0672"})({name:"h427ha",styles:"font-size:calc(min(3vw, 4vh));height:auto;padding:calc(min(3vw, 4vh))"}),Qye=C("div",{target:"e6hg0671"})({name:"wkkrci",styles:"position:fixed;inset:0;display:flex;align-items:center;justify-content:center"}),Jye=C(_s,{target:"e6hg0670"})({name:"x689zy",styles:"max-width:150rem;padding:calc(min(3vw, 4vh));margin:auto;h1{font-size:calc(min(4vw, 5vh));margin-bottom:0.75em;}h3{font-size:calc(min(3vw, 4vh));line-height:1.25;margin-bottom:1em;}"});function Xye(e){const[t]=De(dr),n=A.useMemo(()=>Kye(),[]),r=qr(),i=async s=>{var o,a;if(r("menu/"),t&&document.fullscreenElement===null)try{await document.body.requestFullscreen(),global.screen.orientation.unlock(),await((a=(o=global.screen.orientation).lock)==null?void 0:a.call(o,"landscape"))}catch(l){console.info(l)}};return f.jsxs(f.Fragment,{children:[f.jsx(hi,{children:f.jsx("title",{children:"Select Input | AllKaraoke.Party - Free Online Karaoke Party Game"})}),t===null&&n?f.jsx(Yye,{}):f.jsx(_a,{children:f.jsx(Gw,{onFinish:i,closeButtonText:"Sing a song",smooth:!0})})]})}function Zye(e){ba(!1);const t=qr(),n=()=>t("settings/"),{register:r}=zn({onBackspace:n}),[i,s]=De(mg),[o,a]=De(BP),l=Fi(te.inputListChanged,()=>et.getRemoteMics()),c=OL();return A.useEffect(()=>et.addListener(c),[c]),f.jsxs(_a,{children:[f.jsx("h1",{children:"Remote Microphone Settings"}),f.jsx(ni,{...r("websocket-connection",()=>s(!i)),label:"Use Websockets",value:i?"Yes":"No"}),f.jsx("hr",{}),f.jsx(ni,{...r("default-permission",()=>a(Ja(v2,o))),label:"Default permission",info:f.jsxs(f.Fragment,{children:[f.jsx("strong",{children:"WRITE"})," - player is able to navigate the menus remotely and assign themselves and other players to the game.",f.jsx("br",{}),f.jsx("br",{}),f.jsx("strong",{children:"READ"})," - player will only be able to use the device as a microphone and otherwise have no control over the game."]}),value:o.toUpperCase()}),f.jsx("hr",{}),f.jsx("h3",{children:"Connected devices permissions:"}),l.map(u=>{const d=et.getPermission(u.id);return f.jsx(nAe,{...r(`mic-${u.id}`,()=>et.setPermission(u.id,Ja(v2,d)),"Change permissions"),"data-test":"remote-mic-entry","data-id":u.id,value:d,label:f.jsxs(tAe,{children:[f.jsx(iAe,{children:u.id.slice(-4)}),f.jsx(sAe,{children:f.jsx(eAe,{deviceId:u.id})}),f.jsx(rAe,{className:"ph-no-capture",children:u.name})]})},u.id)}),l.length===0&&f.jsx("h4",{children:"No remote microphones connected"}),f.jsx("hr",{}),f.jsx(Re,{...r("back-button",n),children:"Return To Settings"})]})}const eAe=({deviceId:e})=>{const t=FN(e);return t===null?null:f.jsxs(f.Fragment,{children:[t,"ms"]})},tAe=C("span",{target:"expzhs34"})({name:"50zrmy",styles:"text-transform:uppercase"}),nAe=C(ni,{target:"expzhs33"})({name:"50zrmy",styles:"text-transform:uppercase"}),rAe=C("span",{target:"expzhs32"})(""),iAe=C("span",{target:"expzhs31"})({name:"1mrl9vb",styles:"font-size:1.5rem;padding-right:1rem"}),sAe=C("span",{target:"expzhs30"})({name:"13smbnv",styles:"font-size:1.5rem;padding-right:2rem;text-transform:none"}),oA=2500,oAe=()=>{const e=[0,...new Array(21).fill(0).map((n,r)=>Math.round(10*(1.2+Math.sin(r/2.5+1.5)))/10).map(n=>Math.round(n/28*oA)).reduce((n,r)=>[...n,(n.at(-1)??0)+r],[])],t=[{offset:"0%",color:Ue.eurovisionPink.text},{offset:"25%",color:Ue.eurovisionYellow.text},{offset:"50%",color:Ue.eurovisionPink.text},{offset:"75%",color:Ue.eurovisionOrange.text},{offset:"100%",color:Ue.eurovisionPink.text}];return f.jsxs("svg",{width:oA,height:oA,version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:[f.jsx("defs",{children:Array.from({length:21},(n,r)=>f.jsx("linearGradient",{id:`grad${r}`,x1:"0%",x2:"0%",y1:`${r*2}%`,y2:`${r*2+100}%`,spreadMethod:"repeat",children:t.map((i,s)=>f.jsx("stop",{offset:i.offset,stopColor:i.color},s))},r))}),Array.from({length:22},(n,r)=>f.jsx("rect",{x:e[r],y:"0",width:(e[r+1]??501)-e[r]+10,height:"100%",fill:`url(#grad${r})`},r))]})},aAe=`<?xml version="1.0" encoding="utf-8"?>
<svg viewBox="0 0 500 500" xmlns="http://www.w3.org/2000/svg">
  <g style="" transform="matrix(1.071942, 0, 0, 1.071942, 1.835104, 30.483427)">
    <path xmlns="http://www.w3.org/2000/svg" d="M 106.909 108.923 C 93.513 122.319 85.385 140.039 83.629 158.623 C 65.934 156.191 48.056 147.884 33.558 133.384 C 2.037 101.864 -1.61 54.425 25.407 27.42 C 52.402 0.403 99.839 4.05 131.36 35.571 C 145.859 50.07 154.167 67.957 156.598 85.654 C 138.025 87.387 120.305 95.527 106.909 108.923 Z M 277.592 279.606 C 284.12 273.076 293.486 270.217 302.56 271.951 L 335.161 304.574 C 344.167 313.579 344.167 328.169 335.161 337.175 C 326.155 346.181 311.566 346.181 302.56 337.175 L 269.937 304.574 C 268.203 295.502 271.062 286.135 277.592 279.606 Z M 172.111 108.923 C 154.167 106.357 136.043 112.402 123.209 125.224 C 110.377 138.057 104.342 156.181 106.909 174.137 L 258.318 295.253 C 259.219 286.383 262.957 277.94 269.441 271.455 C 275.925 264.971 284.368 261.234 293.239 260.333 L 172.111 108.923 Z" style="stroke: rgb(0, 0, 0); fill: rgb(255, 54, 54); stroke-width: 9.32886px; stroke-linejoin: round;"/>
    <path xmlns="http://www.w3.org/2000/svg" d="M 218.755 301.518 C 205.359 288.122 197.231 270.402 195.475 251.818 C 177.78 254.25 159.902 262.557 145.404 277.057 C 113.883 308.577 110.236 356.016 137.253 383.021 C 164.248 410.038 211.685 406.391 243.206 374.87 C 257.705 360.371 266.013 342.484 268.444 324.787 C 249.871 323.054 232.151 314.914 218.755 301.518 Z M 389.438 130.835 C 395.966 137.365 405.332 140.224 414.406 138.49 L 447.007 105.867 C 456.013 96.862 456.013 82.272 447.007 73.266 C 438.001 64.26 423.412 64.26 414.406 73.266 L 381.783 105.867 C 380.049 114.939 382.908 124.306 389.438 130.835 Z M 283.957 301.518 C 266.013 304.084 247.889 298.039 235.055 285.217 C 222.223 272.384 216.188 254.26 218.755 236.304 L 370.164 115.188 C 371.065 124.058 374.803 132.501 381.287 138.986 C 387.771 145.47 396.214 149.207 405.085 150.108 L 283.957 301.518 Z" style="fill: rgb(4, 153, 255); stroke: rgb(0, 0, 0); stroke-width: 9.32886px; stroke-linejoin: round;" transform="matrix(-1, 0, 0, -1, 572.91568, 467.631317)"/>
  </g>
</svg>`;function lAe(){return ma(!1),f.jsxs(Mo,{children:[f.jsxs(cAe,{children:[f.jsx(uAe,{dangerouslySetInnerHTML:{__html:aAe}}),f.jsx(_B,{children:f.jsx(v1,{})})]}),f.jsxs(fAe,{children:[f.jsx(dAe,{children:f.jsx(v1,{})}),f.jsx(Tw,{}),f.jsx(hAe,{src:jN,alt:"Eurovision"})]}),f.jsx(oAe,{})]})}const cAe=C("div",{target:"e1bt4f566"})({name:"yc537h",styles:"width:400px;aspect-ratio:1/1;position:relative;padding:30px"}),_B=C("div",{target:"e1bt4f565"})(`display:flex;position:absolute;inset:0;z-index:-1;div{background-image:linear-gradient(
      0deg,
      `,Ue.eurovisionViolet.text,`,
      `,Ue.eurovisionBlue.text,`,
      `,Ue.eurovisionYellow.text,`,
      `,Ue.eurovisionBlue.text,`,
      `,Ue.eurovisionViolet.text,`
    );}`),uAe=C("svg",{target:"e1bt4f564"})("width:400px;aspect-ratio:1/1;object-fit:contain;filter:drop-shadow(0 0 10px rgb(0 0 0 / 0.6));path:nth-of-type(1){fill:",Ue.red.text,"!important;}path:nth-of-type(2){fill:",Ue.blue.text,"!important;}"),dAe=C(_B,{target:"e1bt4f563"})(`div{background-image:linear-gradient(
      0deg,
      `,Ue.eurovisionPink.text,`,
      `,Ue.eurovisionOrange.text,`,
      `,Ue.eurovisionYellow.text,`,
      `,Ue.eurovisionPink.text,`
    );}`),fAe=C("div",{target:"e1bt4f562"})(`overflow:hidden;position:relative;height:calc(693px / 1);width:calc(2048px / 1);transform:scale(1);background-color:black;background-image:linear-gradient(
    120deg,
    `,Ue.red.stroke,`,
    `,Ue.red.hit.fill,` 49.9%,
    `,Ue.blue.hit.fill,` 50.1%,
    `,Ue.blue.stroke,`
  );display:flex;align-items:center;justify-content:center;div{}`),hAe=C("img",{target:"e1bt4f561"})({name:"1go3sm",styles:"margin-left:4rem;transform:scale(1.5)"}),pAe=(e,t)=>`
<iframe src="https://www.facebook.com/plugins/page.php?href=https%3A%2F%2Fwww.facebook.com%2Fallkaraoke.party&${Object.entries({show_posts:!0,width:e,height:t,small_header:!0,adapt_container_width:!0,hide_cover:!1,show_facepile:!1,appId:530120230391395}).map(([i,s])=>`${i}=${String(s)}`).join("&")}" width="${e}" height="${t}" style="border:none;overflow:hidden" scrolling="no" frameborder="0" allowfullscreen="true" allow="autoplay; clipboard-write; encrypted-media; picture-in-picture; web-share"></iframe>
`;function gAe(){const[e]=De(dr),[t,n]=A.useState(!1),[r,i]=A.useState(200),s=A.useCallback(o=>{i(Math.round(o==null?void 0:o.getBoundingClientRect().width)??200)},[]);return A.useEffect(()=>{const o=setTimeout(()=>{n(!0)},750);return()=>{clearTimeout(o)}},[]),f.jsxs(mAe,{"data-small":!!e,show:t,children:[f.jsx("div",{dangerouslySetInnerHTML:{__html:pAe(350,750)},style:{height:750*(r/350),width:"100%",transformOrigin:"left top",transform:`scale(${r/350})`}}),f.jsx("h5",{ref:s,children:"Get updates, and help by suggesting features and reporting bugs."})]})}const mAe=C(_s,{target:"e1zzmv40"})("transition:1000ms;opacity:",e=>e.show?1:0,";position:absolute;top:2rem;right:10rem;width:37rem;margin:0;text-decoration:none;text-align:justify;&[data-small='true'] &{width:25rem;right:1rem;h2{font-size:1.5rem;}h5{font-size:1.15rem;}}view-transition-name:fb-notification;");function vAe(){const[e]=De(bb);ma(!0);const t=qr();ba(!1);const{register:n}=zn();return f.jsxs(_a,{children:[f.jsxs(hi,{children:[f.jsx("title",{children:"Main Menu | AllKaraoke.Party - Free Online Karaoke Party Game"}),f.jsx("link",{rel:"preload",href:"/songs/index.json",as:"fetch",type:"application/json",crossOrigin:"anonymous"}),f.jsx("link",{rel:"preload",href:"/mostPopularSongs.json",as:"fetch",type:"application/json",crossOrigin:"anonymous"})]}),e!=="Classic"&&f.jsxs(yAe,{children:[f.jsxs("span",{children:["Bpm data and release year provided by"," ",f.jsx("a",{target:"_blank",href:"https://getsongbpm.com/",rel:"noreferrer",children:"GetSongBPM"})]}),f.jsx("span",{children:"Song: Funk Cool Groove (Music Today 80)"}),f.jsx("span",{children:" Composed & Produced by : Anwar Amr"}),f.jsxs("span",{children:[" Video Link:"," ",f.jsx("a",{href:"https://youtu.be/FGzzBbYRjFY",target:"_blank",rel:"noreferrer",children:"https://youtu.be/FGzzBbYRjFY"})]})]}),f.jsx(gAe,{}),f.jsxs(f.Fragment,{children:[f.jsx(Tr,{to:"game/",children:f.jsx(Re,{...n("sing-a-song",()=>t("game/")),children:"Sing a song"})}),f.jsx(Tr,{to:"select-input/",children:f.jsx(Re,{...n("select-input",()=>t("select-input/")),children:"Setup Microphones"})}),f.jsx(Tr,{to:"settings/",children:f.jsx(Re,{...n("settings",()=>t("settings/")),children:"Settings"})}),f.jsx(Tr,{to:"jukebox/",children:f.jsx(Re,{...n("jukebox",()=>t("jukebox/")),children:"Jukebox"})}),f.jsx(Tr,{to:"manage-songs/",children:f.jsx(Re,{...n("manage-songs",()=>t("manage-songs/")),children:"Manage Songs"})})]})]})}const yAe=C("div",{target:"e1g7uwpd0"})($e,";text-decoration:none;flex-direction:column;display:flex;font-size:1rem;gap:1.25rem;opacity:0.85;position:absolute;bottom:1rem;left:1rem;view-transition-name:background-music-credit;"),Or={INDEX:"",QUICK_SETUP:"quick-setup",GAME:"game",MENU:"menu",JUKEBOX:"jukebox",SELECT_INPUT:"select-input",SETTINGS:"settings",SETTINGS_REMOTE_MICS:"settings/remote-mics",REMOTE_MIC:"remote-mic",MANAGE_SONGS:"manage-songs",EXCLUDE_LANGUAGES:"exclude-languages",CONVERT:"convert",EDIT_SONGS_LIST:"edit/list",EDIT_SONG:"edit/song"},AAe=A.lazy(()=>hu(()=>import("./SongManagement-DrYO0Er1.js"),[]).then(e=>({default:e.SongList})));function _Ae(){De(dr);const[e]=De(ji),t=A.useMemo(()=>EO({graphicSetting:e}),[e]);return f.jsx(qce,{theme:t,children:f.jsx(Yb,{fallback:cpe,children:f.jsx(fJ,{children:f.jsx(iJ,{children:f.jsx(Vse,{base:"/prs/275/",children:f.jsxs(Lse,{children:[f.jsx(gr,{path:Or.QUICK_SETUP,component:Xye}),f.jsx(gr,{path:Or.MENU,component:vAe}),f.jsx(gr,{path:Or.EXCLUDE_LANGUAGES,component:hpe}),f.jsx(gr,{path:Or.JUKEBOX,component:phe}),f.jsx(gr,{path:Or.GAME,children:f.jsx(xye,{})}),f.jsx(gr,{path:Or.SELECT_INPUT,component:lpe}),f.jsx(gr,{path:Or.SETTINGS,component:Fde}),f.jsx(gr,{path:Or.SETTINGS_REMOTE_MICS,component:Zye}),f.jsx(gr,{path:Or.REMOTE_MIC,component:Kue}),f.jsx(gr,{path:Or.MANAGE_SONGS,component:Uye}),f.jsx(gr,{path:"social-media-elements",component:lAe}),f.jsx(gr,{path:Or.CONVERT,component:()=>f.jsx(aN,{})}),f.jsx(gr,{path:Or.EDIT_SONGS_LIST,component:()=>f.jsx(A.Suspense,{fallback:f.jsx(oN,{}),children:f.jsx(AAe,{})})}),f.jsx(gr,{path:"edit/get-songs-bpms",component:fpe}),f.jsx(gr,{path:Or.EDIT_SONG,children:f.jsx(ofe,{})}),f.jsx(gr,{path:Or.INDEX,component:Vye})]})})})})})})}const bAe=mU(_Ae),SAe=["AbortError: Version change transaction was aborted in upgradeneeded event handler.","The object can not be found here.","Document is hidden.","Failed to register a ServiceWorker for scope ('https://allkaraoke.party/') with script","NotAllowedError: Permission denied by system","ResizeObserver loop limit exceeded","ResizeObserver loop completed with undelivered notifications.","NotAllowedError: Document is not focused.","Error: Socket was destroyed!",/TypeError: Failed to fetch/,"top.GLOBALS","originalCreateNotification","canvas.contentDocument","MyApp_RemoveAllHighlights","http://tt.epicplay.com","Can't find variable: ZiteReader","jigsaw is not defined","ComboSearch is not defined","http://loading.retry.widdit.com/","atomicFindClose","fb_xd_fragment","bmi_SafeAddOnload","EBCallBackMessageReceived","conduitPage"];var bB,ZR=xu;bB=ZR.createRoot,ZR.hydrateRoot;Q9({integrations:[jz({enableInp:!0})],dsn:"https://66c6e940d24b4096a277f350571921bb@o366978.ingest.sentry.io/6174734",ignoreErrors:SAe,tracesSampleRate:Hs()?0:.01,environment:Hs()?"e2e":"production",tunnel:"https://backend.allkaraoke.party/sentry"});Hs()||On.init("phc_bw7XLoONmtGVezmMKTvcwk3lj37jzxTfisqzjlJ0Jik",{api_host:"https://backend.allkaraoke.party/posthog",loaded:e=>{let t=Ve.local.getItem("posthog-user-id");t||(t=Ig(),Ve.local.setItem("posthog-user-id",t)),e.identify(t);let n=Ve.local.getItem("posthog-user-name");if(!n){const r=[...new Set(md.artists.flatMap(i=>Dj(i).split("-")))].filter(i=>i.length<=10);n=new Array(Ls(3,5)).fill(0).map(()=>r[Ls(0,r.length-1)]).join("-"),Ve.local.setItem("posthog-user-name",n),e.alias(n,t)}S8({id:t})}});const xAe=pS({key:"ec",speedy:!hN}),wAe=document.getElementById("root"),EAe=bB(wAe);EAe.render(f.jsxs(m3,{value:xAe,children:[f.jsx(bAe,{}),f.jsx(a1,{position:jt.POSITION.BOTTOM_LEFT,theme:"colored"})]}));export{sX as $,mu as A,th as B,Lg as C,kO as D,Au as E,y1 as F,iZ as G,vu as H,To as I,NC as J,$ee as K,Jn as L,AZ as M,bZ as N,Fx as O,Qe as P,EO as Q,jAe as R,Gs as S,ZT as T,aO as U,Vre as V,Oee as W,oO as X,x1 as Y,$J as Z,Xee as _,br as a,dm as a$,nO as a0,rO as a1,xu as a2,DJ as a3,ad as a4,LJ as a5,GJ as a6,lO as a7,sO as a8,NJ as a9,pu as aA,kve as aB,wG as aC,RAe as aD,dw as aE,On as aF,Us as aG,ma as aH,qr as aI,ba as aJ,h0 as aK,nZ as aL,bJ as aM,Zx as aN,ct as aO,st as aP,iee as aQ,lre as aR,ure as aS,ga as aT,ui as aU,eue as aV,VAe as aW,OAe as aX,Loe as aY,J4 as aZ,Q4 as a_,UJ as aa,cl as ab,YJ as ac,LAe as ad,jee as ae,hee as af,w0 as ag,C as ah,nv as ai,Ok as aj,Is as ak,It as al,Ne as am,Vq as an,ph as ao,Oc as ap,Dp as aq,NH as ar,la as as,tf as at,uN as au,nfe as av,Zde as aw,Jde as ax,ife as ay,Cr as az,Te as b,as as b0,hi as b1,Pw as b2,FG as c,Pe as d,sZ as e,DS as f,rS as g,pZ as h,Lr as i,f as j,oZ as k,FS as l,Do as m,yO as n,aX as o,iO as p,yo as q,A as r,Ve as s,PAe as t,uZ as u,hO as v,fs as w,MAe as x,dZ as y,Zf as z};
//# sourceMappingURL=index-DGYOGeBD.js.map
