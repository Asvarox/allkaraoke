const __vite__fileDeps=["assets/ConvertView-DkU97l3J.js","assets/ShareSongsModal-CxpUTGTd.js","assets/SongList-DsnQGCVY.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
function Z$(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var zo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function lr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Fs(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var jR={exports:{}},Lm={},OR={exports:{}},et={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gf=Symbol.for("react.element"),eD=Symbol.for("react.portal"),tD=Symbol.for("react.fragment"),nD=Symbol.for("react.strict_mode"),rD=Symbol.for("react.profiler"),iD=Symbol.for("react.provider"),sD=Symbol.for("react.context"),oD=Symbol.for("react.forward_ref"),aD=Symbol.for("react.suspense"),lD=Symbol.for("react.memo"),cD=Symbol.for("react.lazy"),kE=Symbol.iterator;function uD(e){return e===null||typeof e!="object"?null:(e=kE&&e[kE]||e["@@iterator"],typeof e=="function"?e:null)}var VR={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},LR=Object.assign,NR={};function mu(e,t,n){this.props=e,this.context=t,this.refs=NR,this.updater=n||VR}mu.prototype.isReactComponent={};mu.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};mu.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function $R(){}$R.prototype=mu.prototype;function ub(e,t,n){this.props=e,this.context=t,this.refs=NR,this.updater=n||VR}var db=ub.prototype=new $R;db.constructor=ub;LR(db,mu.prototype);db.isPureReactComponent=!0;var CE=Array.isArray,DR=Object.prototype.hasOwnProperty,fb={current:null},BR={key:!0,ref:!0,__self:!0,__source:!0};function FR(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)DR.call(t,r)&&!BR.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Gf,type:e,key:s,ref:o,props:i,_owner:fb.current}}function dD(e,t){return{$$typeof:Gf,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function hb(e){return typeof e=="object"&&e!==null&&e.$$typeof===Gf}function fD(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var TE=/\/+/g;function Ov(e,t){return typeof e=="object"&&e!==null&&e.key!=null?fD(""+e.key):t.toString(36)}function Vp(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Gf:case eD:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+Ov(o,0):r,CE(i)?(n="",e!=null&&(n=e.replace(TE,"$&/")+"/"),Vp(i,t,n,"",function(c){return c})):i!=null&&(hb(i)&&(i=dD(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(TE,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",CE(e))for(var a=0;a<e.length;a++){s=e[a];var l=r+Ov(s,a);o+=Vp(s,t,n,l,i)}else if(l=uD(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=r+Ov(s,a++),o+=Vp(s,t,n,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Rh(e,t,n){if(e==null)return e;var r=[],i=0;return Vp(e,r,"","",function(s){return t.call(n,s,i++)}),r}function hD(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var _r={current:null},Lp={transition:null},pD={ReactCurrentDispatcher:_r,ReactCurrentBatchConfig:Lp,ReactCurrentOwner:fb};et.Children={map:Rh,forEach:function(e,t,n){Rh(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Rh(e,function(){t++}),t},toArray:function(e){return Rh(e,function(t){return t})||[]},only:function(e){if(!hb(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};et.Component=mu;et.Fragment=tD;et.Profiler=rD;et.PureComponent=ub;et.StrictMode=nD;et.Suspense=aD;et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pD;et.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=LR({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=fb.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)DR.call(t,l)&&!BR.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Gf,type:e.type,key:i,ref:s,props:r,_owner:o}};et.createContext=function(e){return e={$$typeof:sD,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:iD,_context:e},e.Consumer=e};et.createElement=FR;et.createFactory=function(e){var t=FR.bind(null,e);return t.type=e,t};et.createRef=function(){return{current:null}};et.forwardRef=function(e){return{$$typeof:oD,render:e}};et.isValidElement=hb;et.lazy=function(e){return{$$typeof:cD,_payload:{_status:-1,_result:e},_init:hD}};et.memo=function(e,t){return{$$typeof:lD,type:e,compare:t===void 0?null:t}};et.startTransition=function(e){var t=Lp.transition;Lp.transition={};try{e()}finally{Lp.transition=t}};et.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};et.useCallback=function(e,t){return _r.current.useCallback(e,t)};et.useContext=function(e){return _r.current.useContext(e)};et.useDebugValue=function(){};et.useDeferredValue=function(e){return _r.current.useDeferredValue(e)};et.useEffect=function(e,t){return _r.current.useEffect(e,t)};et.useId=function(){return _r.current.useId()};et.useImperativeHandle=function(e,t,n){return _r.current.useImperativeHandle(e,t,n)};et.useInsertionEffect=function(e,t){return _r.current.useInsertionEffect(e,t)};et.useLayoutEffect=function(e,t){return _r.current.useLayoutEffect(e,t)};et.useMemo=function(e,t){return _r.current.useMemo(e,t)};et.useReducer=function(e,t,n){return _r.current.useReducer(e,t,n)};et.useRef=function(e){return _r.current.useRef(e)};et.useState=function(e){return _r.current.useState(e)};et.useSyncExternalStore=function(e,t,n){return _r.current.useSyncExternalStore(e,t,n)};et.useTransition=function(){return _r.current.useTransition()};et.version="18.2.0";OR.exports=et;var _=OR.exports;const Pe=lr(_),mg=Z$({__proto__:null,default:Pe},[_]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gD=_,mD=Symbol.for("react.element"),vD=Symbol.for("react.fragment"),yD=Object.prototype.hasOwnProperty,AD=gD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,_D={key:!0,ref:!0,__self:!0,__source:!0};function zR(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)yD.call(t,r)&&!_D.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:mD,type:e,key:s,ref:o,props:i,_owner:AD.current}}Lm.Fragment=vD;Lm.jsx=zR;Lm.jsxs=zR;jR.exports=Lm;var f=jR.exports;function bD(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function xD(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var SD=function(){function e(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(xD(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=bD(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},e}(),ir="-ms-",vg="-moz-",ct="-webkit-",UR="comm",pb="rule",gb="decl",wD="@import",HR="@keyframes",ED="@layer",kD=Math.abs,Nm=String.fromCharCode,CD=Object.assign;function TD(e,t){return Kn(e,0)^45?(((t<<2^Kn(e,0))<<2^Kn(e,1))<<2^Kn(e,2))<<2^Kn(e,3):0}function qR(e){return e.trim()}function ID(e,t){return(e=t.exec(e))?e[0]:e}function ut(e,t,n){return e.replace(t,n)}function bA(e,t){return e.indexOf(t)}function Kn(e,t){return e.charCodeAt(t)|0}function Jd(e,t,n){return e.slice(t,n)}function As(e){return e.length}function mb(e){return e.length}function Mh(e,t){return t.push(e),e}function PD(e,t){return e.map(t).join("")}var $m=1,zc=1,GR=0,Or=0,En=0,vu="";function Dm(e,t,n,r,i,s,o){return{value:e,root:t,parent:n,type:r,props:i,children:s,line:$m,column:zc,length:o,return:""}}function Nu(e,t){return CD(Dm("",null,null,"",null,null,0),e,{length:-e.length},t)}function RD(){return En}function MD(){return En=Or>0?Kn(vu,--Or):0,zc--,En===10&&(zc=1,$m--),En}function Yr(){return En=Or<GR?Kn(vu,Or++):0,zc++,En===10&&(zc=1,$m++),En}function Ps(){return Kn(vu,Or)}function Np(){return Or}function Wf(e,t){return Jd(vu,e,t)}function Xd(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function WR(e){return $m=zc=1,GR=As(vu=e),Or=0,[]}function YR(e){return vu="",e}function $p(e){return qR(Wf(Or-1,xA(e===91?e+2:e===40?e+1:e)))}function jD(e){for(;(En=Ps())&&En<33;)Yr();return Xd(e)>2||Xd(En)>3?"":" "}function OD(e,t){for(;--t&&Yr()&&!(En<48||En>102||En>57&&En<65||En>70&&En<97););return Wf(e,Np()+(t<6&&Ps()==32&&Yr()==32))}function xA(e){for(;Yr();)switch(En){case e:return Or;case 34:case 39:e!==34&&e!==39&&xA(En);break;case 40:e===41&&xA(e);break;case 92:Yr();break}return Or}function VD(e,t){for(;Yr()&&e+En!==57;)if(e+En===84&&Ps()===47)break;return"/*"+Wf(t,Or-1)+"*"+Nm(e===47?e:Yr())}function LD(e){for(;!Xd(Ps());)Yr();return Wf(e,Or)}function ND(e){return YR(Dp("",null,null,null,[""],e=WR(e),0,[0],e))}function Dp(e,t,n,r,i,s,o,a,l){for(var c=0,u=0,d=o,h=0,p=0,g=0,m=1,A=1,v=1,y=0,b="",S=i,x=s,w=r,E=b;A;)switch(g=y,y=Yr()){case 40:if(g!=108&&Kn(E,d-1)==58){bA(E+=ut($p(y),"&","&\f"),"&\f")!=-1&&(v=-1);break}case 34:case 39:case 91:E+=$p(y);break;case 9:case 10:case 13:case 32:E+=jD(g);break;case 92:E+=OD(Np()-1,7);continue;case 47:switch(Ps()){case 42:case 47:Mh($D(VD(Yr(),Np()),t,n),l);break;default:E+="/"}break;case 123*m:a[c++]=As(E)*v;case 125*m:case 59:case 0:switch(y){case 0:case 125:A=0;case 59+u:v==-1&&(E=ut(E,/\f/g,"")),p>0&&As(E)-d&&Mh(p>32?PE(E+";",r,n,d-1):PE(ut(E," ","")+";",r,n,d-2),l);break;case 59:E+=";";default:if(Mh(w=IE(E,t,n,c,u,i,a,b,S=[],x=[],d),s),y===123)if(u===0)Dp(E,t,w,w,S,s,d,a,x);else switch(h===99&&Kn(E,3)===110?100:h){case 100:case 108:case 109:case 115:Dp(e,w,w,r&&Mh(IE(e,w,w,0,0,i,a,b,i,S=[],d),x),i,x,d,a,r?S:x);break;default:Dp(E,w,w,w,[""],x,0,a,x)}}c=u=p=0,m=v=1,b=E="",d=o;break;case 58:d=1+As(E),p=g;default:if(m<1){if(y==123)--m;else if(y==125&&m++==0&&MD()==125)continue}switch(E+=Nm(y),y*m){case 38:v=u>0?1:(E+="\f",-1);break;case 44:a[c++]=(As(E)-1)*v,v=1;break;case 64:Ps()===45&&(E+=$p(Yr())),h=Ps(),u=d=As(b=E+=LD(Np())),y++;break;case 45:g===45&&As(E)==2&&(m=0)}}return s}function IE(e,t,n,r,i,s,o,a,l,c,u){for(var d=i-1,h=i===0?s:[""],p=mb(h),g=0,m=0,A=0;g<r;++g)for(var v=0,y=Jd(e,d+1,d=kD(m=o[g])),b=e;v<p;++v)(b=qR(m>0?h[v]+" "+y:ut(y,/&\f/g,h[v])))&&(l[A++]=b);return Dm(e,t,n,i===0?pb:a,l,c,u)}function $D(e,t,n){return Dm(e,t,n,UR,Nm(RD()),Jd(e,2,-2),0)}function PE(e,t,n,r){return Dm(e,t,n,gb,Jd(e,0,r),Jd(e,r+1,-1),r)}function Sc(e,t){for(var n="",r=mb(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function DD(e,t,n,r){switch(e.type){case ED:if(e.children.length)break;case wD:case gb:return e.return=e.return||e.value;case UR:return"";case HR:return e.return=e.value+"{"+Sc(e.children,r)+"}";case pb:e.value=e.props.join(",")}return As(n=Sc(e.children,r))?e.return=e.value+"{"+n+"}":""}function BD(e){var t=mb(e);return function(n,r,i,s){for(var o="",a=0;a<t;a++)o+=e[a](n,r,i,s)||"";return o}}function FD(e){return function(t){t.root||(t=t.return)&&e(t)}}function KR(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var zD=function(t,n,r){for(var i=0,s=0;i=s,s=Ps(),i===38&&s===12&&(n[r]=1),!Xd(s);)Yr();return Wf(t,Or)},UD=function(t,n){var r=-1,i=44;do switch(Xd(i)){case 0:i===38&&Ps()===12&&(n[r]=1),t[r]+=zD(Or-1,n,r);break;case 2:t[r]+=$p(i);break;case 4:if(i===44){t[++r]=Ps()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=Nm(i)}while(i=Yr());return t},HD=function(t,n){return YR(UD(WR(t),n))},RE=new WeakMap,qD=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,i=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!RE.get(r))&&!i){RE.set(t,!0);for(var s=[],o=HD(n,s),a=r.props,l=0,c=0;l<o.length;l++)for(var u=0;u<a.length;u++,c++)t.props[c]=s[l]?o[l].replace(/&\f/g,a[u]):a[u]+" "+o[l]}}},GD=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function QR(e,t){switch(TD(e,t)){case 5103:return ct+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ct+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return ct+e+vg+e+ir+e+e;case 6828:case 4268:return ct+e+ir+e+e;case 6165:return ct+e+ir+"flex-"+e+e;case 5187:return ct+e+ut(e,/(\w+).+(:[^]+)/,ct+"box-$1$2"+ir+"flex-$1$2")+e;case 5443:return ct+e+ir+"flex-item-"+ut(e,/flex-|-self/,"")+e;case 4675:return ct+e+ir+"flex-line-pack"+ut(e,/align-content|flex-|-self/,"")+e;case 5548:return ct+e+ir+ut(e,"shrink","negative")+e;case 5292:return ct+e+ir+ut(e,"basis","preferred-size")+e;case 6060:return ct+"box-"+ut(e,"-grow","")+ct+e+ir+ut(e,"grow","positive")+e;case 4554:return ct+ut(e,/([^-])(transform)/g,"$1"+ct+"$2")+e;case 6187:return ut(ut(ut(e,/(zoom-|grab)/,ct+"$1"),/(image-set)/,ct+"$1"),e,"")+e;case 5495:case 3959:return ut(e,/(image-set\([^]*)/,ct+"$1$`$1");case 4968:return ut(ut(e,/(.+:)(flex-)?(.*)/,ct+"box-pack:$3"+ir+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ct+e+e;case 4095:case 3583:case 4068:case 2532:return ut(e,/(.+)-inline(.+)/,ct+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(As(e)-1-t>6)switch(Kn(e,t+1)){case 109:if(Kn(e,t+4)!==45)break;case 102:return ut(e,/(.+:)(.+)-([^]+)/,"$1"+ct+"$2-$3$1"+vg+(Kn(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~bA(e,"stretch")?QR(ut(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Kn(e,t+1)!==115)break;case 6444:switch(Kn(e,As(e)-3-(~bA(e,"!important")&&10))){case 107:return ut(e,":",":"+ct)+e;case 101:return ut(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ct+(Kn(e,14)===45?"inline-":"")+"box$3$1"+ct+"$2$3$1"+ir+"$2box$3")+e}break;case 5936:switch(Kn(e,t+11)){case 114:return ct+e+ir+ut(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return ct+e+ir+ut(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return ct+e+ir+ut(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return ct+e+ir+e+e}return e}var WD=function(t,n,r,i){if(t.length>-1&&!t.return)switch(t.type){case gb:t.return=QR(t.value,t.length);break;case HR:return Sc([Nu(t,{value:ut(t.value,"@","@"+ct)})],i);case pb:if(t.length)return PD(t.props,function(s){switch(ID(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Sc([Nu(t,{props:[ut(s,/:(read-\w+)/,":"+vg+"$1")]})],i);case"::placeholder":return Sc([Nu(t,{props:[ut(s,/:(plac\w+)/,":"+ct+"input-$1")]}),Nu(t,{props:[ut(s,/:(plac\w+)/,":"+vg+"$1")]}),Nu(t,{props:[ut(s,/:(plac\w+)/,ir+"input-$1")]})],i)}return""})}},YD=[WD],vb=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(m){var A=m.getAttribute("data-emotion");A.indexOf(" ")!==-1&&(document.head.appendChild(m),m.setAttribute("data-s",""))})}var i=t.stylisPlugins||YD,s={},o,a=[];o=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(m){for(var A=m.getAttribute("data-emotion").split(" "),v=1;v<A.length;v++)s[A[v]]=!0;a.push(m)});var l,c=[qD,GD];{var u,d=[DD,FD(function(m){u.insert(m)})],h=BD(c.concat(i,d)),p=function(A){return Sc(ND(A),h)};l=function(A,v,y,b){u=y,p(A?A+"{"+v.styles+"}":v.styles),b&&(g.inserted[v.name]=!0)}}var g={key:n,sheet:new SD({key:n,container:o,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:s,registered:{},insert:l};return g.sheet.hydrate(a),g};function oe(){return oe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oe.apply(this,arguments)}var JR={exports:{}},vt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Un=typeof Symbol=="function"&&Symbol.for,yb=Un?Symbol.for("react.element"):60103,Ab=Un?Symbol.for("react.portal"):60106,Bm=Un?Symbol.for("react.fragment"):60107,Fm=Un?Symbol.for("react.strict_mode"):60108,zm=Un?Symbol.for("react.profiler"):60114,Um=Un?Symbol.for("react.provider"):60109,Hm=Un?Symbol.for("react.context"):60110,_b=Un?Symbol.for("react.async_mode"):60111,qm=Un?Symbol.for("react.concurrent_mode"):60111,Gm=Un?Symbol.for("react.forward_ref"):60112,Wm=Un?Symbol.for("react.suspense"):60113,KD=Un?Symbol.for("react.suspense_list"):60120,Ym=Un?Symbol.for("react.memo"):60115,Km=Un?Symbol.for("react.lazy"):60116,QD=Un?Symbol.for("react.block"):60121,JD=Un?Symbol.for("react.fundamental"):60117,XD=Un?Symbol.for("react.responder"):60118,ZD=Un?Symbol.for("react.scope"):60119;function ti(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case yb:switch(e=e.type,e){case _b:case qm:case Bm:case zm:case Fm:case Wm:return e;default:switch(e=e&&e.$$typeof,e){case Hm:case Gm:case Km:case Ym:case Um:return e;default:return t}}case Ab:return t}}}function XR(e){return ti(e)===qm}vt.AsyncMode=_b;vt.ConcurrentMode=qm;vt.ContextConsumer=Hm;vt.ContextProvider=Um;vt.Element=yb;vt.ForwardRef=Gm;vt.Fragment=Bm;vt.Lazy=Km;vt.Memo=Ym;vt.Portal=Ab;vt.Profiler=zm;vt.StrictMode=Fm;vt.Suspense=Wm;vt.isAsyncMode=function(e){return XR(e)||ti(e)===_b};vt.isConcurrentMode=XR;vt.isContextConsumer=function(e){return ti(e)===Hm};vt.isContextProvider=function(e){return ti(e)===Um};vt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===yb};vt.isForwardRef=function(e){return ti(e)===Gm};vt.isFragment=function(e){return ti(e)===Bm};vt.isLazy=function(e){return ti(e)===Km};vt.isMemo=function(e){return ti(e)===Ym};vt.isPortal=function(e){return ti(e)===Ab};vt.isProfiler=function(e){return ti(e)===zm};vt.isStrictMode=function(e){return ti(e)===Fm};vt.isSuspense=function(e){return ti(e)===Wm};vt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Bm||e===qm||e===zm||e===Fm||e===Wm||e===KD||typeof e=="object"&&e!==null&&(e.$$typeof===Km||e.$$typeof===Ym||e.$$typeof===Um||e.$$typeof===Hm||e.$$typeof===Gm||e.$$typeof===JD||e.$$typeof===XD||e.$$typeof===ZD||e.$$typeof===QD)};vt.typeOf=ti;JR.exports=vt;var eB=JR.exports,bb=eB,tB={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},nB={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},rB={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},ZR={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},xb={};xb[bb.ForwardRef]=rB;xb[bb.Memo]=ZR;function ME(e){return bb.isMemo(e)?ZR:xb[e.$$typeof]||tB}var iB=Object.defineProperty,sB=Object.getOwnPropertyNames,jE=Object.getOwnPropertySymbols,oB=Object.getOwnPropertyDescriptor,aB=Object.getPrototypeOf,OE=Object.prototype;function eM(e,t,n){if(typeof t!="string"){if(OE){var r=aB(t);r&&r!==OE&&eM(e,r,n)}var i=sB(t);jE&&(i=i.concat(jE(t)));for(var s=ME(e),o=ME(t),a=0;a<i.length;++a){var l=i[a];if(!nB[l]&&!(n&&n[l])&&!(o&&o[l])&&!(s&&s[l])){var c=oB(t,l);try{iB(e,l,c)}catch{}}}}return e}var lB=eM;const cB=lr(lB);var uB=!0;function dB(e,t,n){var r="";return n.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):r+=i+" "}),r}var tM=function(t,n,r){var i=t.key+"-"+n.name;(r===!1||uB===!1)&&t.registered[i]===void 0&&(t.registered[i]=n.styles)},nM=function(t,n,r){tM(t,n,r);var i=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var s=n;do t.insert(n===s?"."+i:"",s,t.sheet,!0),s=s.next;while(s!==void 0)}};function fB(e){for(var t=0,n,r=0,i=e.length;i>=4;++r,i-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var hB={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},pB=/[A-Z]|^ms/g,gB=/_EMO_([^_]+?)_([^]*?)_EMO_/g,rM=function(t){return t.charCodeAt(1)===45},VE=function(t){return t!=null&&typeof t!="boolean"},Vv=KR(function(e){return rM(e)?e:e.replace(pB,"-$&").toLowerCase()}),LE=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(gB,function(r,i,s){return _s={name:i,styles:s,next:_s},i})}return hB[t]!==1&&!rM(t)&&typeof n=="number"&&n!==0?n+"px":n};function Zd(e,t,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return _s={name:n.name,styles:n.styles,next:_s},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)_s={name:r.name,styles:r.styles,next:_s},r=r.next;var i=n.styles+";";return i}return mB(e,t,n)}case"function":{if(e!==void 0){var s=_s,o=n(e);return _s=s,Zd(e,t,o)}break}}if(t==null)return n;var a=t[n];return a!==void 0?a:n}function mB(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Zd(e,t,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object")t!=null&&t[o]!==void 0?r+=s+"{"+t[o]+"}":VE(o)&&(r+=Vv(s)+":"+LE(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(t==null||t[o[0]]===void 0))for(var a=0;a<o.length;a++)VE(o[a])&&(r+=Vv(s)+":"+LE(s,o[a])+";");else{var l=Zd(e,t,o);switch(s){case"animation":case"animationName":{r+=Vv(s)+":"+l+";";break}default:r+=s+"{"+l+"}"}}}return r}var NE=/label:\s*([^\s;\n{]+)\s*(;|$)/g,_s,Sb=function(t,n,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var i=!0,s="";_s=void 0;var o=t[0];o==null||o.raw===void 0?(i=!1,s+=Zd(r,n,o)):s+=o[0];for(var a=1;a<t.length;a++)s+=Zd(r,n,t[a]),i&&(s+=o[a]);NE.lastIndex=0;for(var l="",c;(c=NE.exec(s))!==null;)l+="-"+c[1];var u=fB(s)+l;return{name:u,styles:s,next:_s}},vB=function(t){return t()},iM=mg.useInsertionEffect?mg.useInsertionEffect:!1,yB=iM||vB,$E=iM||_.useLayoutEffect,sM=_.createContext(typeof HTMLElement<"u"?vb({key:"css"}):null),oM=sM.Provider,aM=function(t){return _.forwardRef(function(n,r){var i=_.useContext(sM);return t(n,i,r)})},Yf=_.createContext({}),lM=aM(function(e,t){var n=e.styles,r=Sb([n],void 0,_.useContext(Yf)),i=_.useRef();return $E(function(){var s=t.key+"-global",o=new t.sheet.constructor({key:s,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return t.sheet.tags.length&&(o.before=t.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",s),o.hydrate([l])),i.current=[o,a],function(){o.flush()}},[t]),$E(function(){var s=i.current,o=s[0],a=s[1];if(a){s[1]=!1;return}if(r.next!==void 0&&nM(t,r.next,!0),o.tags.length){var l=o.tags[o.tags.length-1].nextElementSibling;o.before=l,o.flush()}t.insert("",r,o,!1)},[t,r.name]),null});function Ot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Sb(t)}var _o=function(){var t=Ot.apply(void 0,arguments),n="animation-"+t.name;return{name:n,styles:"@keyframes "+n+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};class bo{constructor(){this.listeners=[],this.onUpdate=(...t)=>{this.listeners.forEach(n=>n(...t))},this.addListener=t=>(this.listeners.push(t),()=>{this.removeListener(t)}),this.removeListener=t=>{this.listeners=this.listeners.filter(n=>n!==t)},this.clearAllListeners=()=>{console.log("clearing all listeners"),this.listeners=[]}}}const SA=e=>({setItem:(t,n)=>{e.setItem(t,JSON.stringify(n))},getItem:t=>{const n=e.getItem(t);if(n===null)return null;try{return JSON.parse(n)}catch{return n}},removeItem:t=>{e.removeItem(t)},clear:()=>{e.clear()}});class wA{constructor(){this.store={}}setItem(t,n){this.store[t]=n}getItem(t){const n=this.store[t];return n===void 0?null:n}removeItem(t){delete this.store[t]}get length(){return Object.keys(this.store).length}key(t){return Object.keys(this.store)[t]}clear(){this.store={}}}const DE=SA((global==null?void 0:global.localStorage)??new wA),Ve={...DE,local:DE,session:SA((global==null?void 0:global.sessionStorage)??new wA),memory:SA(new wA)},EA="CAMERA_GRANT_KEY",BE=Ve.local.getItem(EA);class AB extends bo{constructor(){super(),this.stream=null,this.recorder=null,this.videoData=[],this.permissionGranted=BE!==null?JSON.parse(BE):null,this.requestPermissions=async()=>{try{this.stream=await navigator.mediaDevices.getUserMedia({video:!0}),this.permissionGranted=!0,await this.stopRecord()}catch{this.permissionGranted=!1}return Ve.local.setItem(EA,JSON.stringify(this.permissionGranted)),this.onUpdate(this.permissionGranted),this.permissionGranted},this.disable=()=>{this.permissionGranted=!1,Ve.local.setItem(EA,JSON.stringify(this.permissionGranted)),this.onUpdate(this.permissionGranted)},this.startRecord=async()=>{if(this.permissionGranted)try{this.stream=await navigator.mediaDevices.getUserMedia({video:{frameRate:2}});const t=this.stream.getVideoTracks()[0].getSettings();this.video.width=t.width??this.video.width,this.video.height=t.height??this.video.height,this.canvas.width=this.video.width,this.canvas.height=this.video.height,this.video.srcObject=this.stream,await this.video.play(),this.recorder=new MediaRecorder(this.stream,{mimeType:"video/webm"}),this.recorder.ondataavailable=n=>{this.videoData.push(n.data)},this.recorder.start()}catch(t){console.warn(t)}},this.getVideo=()=>{const t=new Blob(this.videoData,{type:"video/webm"});return URL.createObjectURL(t)},this.stopRecord=async()=>{var t,n;this.permissionGranted&&((t=this.recorder)==null||t.stop(),(n=this.stream)==null||n.getTracks().forEach(r=>r.stop()))},this.clearData=()=>{this.videoData.length=0},this.restartRecord=async()=>{await this.stopRecord(),await this.clearData(),await this.startRecord()},this.getPermissionStatus=()=>this.permissionGranted,this.video=document.createElement("video"),this.video.width=480,this.video.height=this.video.width*(9/16),this.canvas=document.createElement("canvas"),this.canvas.width=this.video.width,this.canvas.height=this.video.height}}const Qi=new AB;function FE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ce(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FE(Object(n),!0).forEach(function(r){ie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ef(e){return ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ef(e)}function Vt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Lt(e,t,n){return t&&zE(e.prototype,t),n&&zE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _B(e,t){if(e==null)return{};var n,r,i=function(o,a){if(o==null)return{};var l,c,u={},d=Object.keys(o);for(c=0;c<d.length;c++)l=d[c],a.indexOf(l)>=0||(u[l]=o[l]);return u}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function gr(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var s,o,a=[],l=!0,c=!1;try{for(i=i.call(n);!(l=(s=i.next()).done)&&(a.push(s.value),!r||a.length!==r);l=!0);}catch(u){c=!0,o=u}finally{try{l||i.return==null||i.return()}finally{if(c)throw o}}return a}}(e,t)||wb(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Uc(e){return function(t){if(Array.isArray(t))return kA(t)}(e)||function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(e)||wb(e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function wb(e,t){if(e){if(typeof e=="string")return kA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?kA(e,t):void 0}}function kA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function os(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=wb(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(l){throw l},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,o=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var l=n.next();return o=l.done,l},e:function(l){a=!0,s=l},f:function(){try{o||n.return==null||n.return()}finally{if(a)throw s}}}}var Ba={DEBUG:!1,LIB_VERSION:"1.130.0"},bB=Array.isArray,cM=Object.prototype,uM=cM.hasOwnProperty,Qm=cM.toString,Mn=bB||function(e){return Qm.call(e)==="[object Array]"},es=function(e){return typeof e=="function"},ks=function(e){return e===Object(e)&&!Mn(e)},Lv=function(e){if(ks(e)){for(var t in e)if(uM.call(e,t))return!1;return!0}return!1},Fe=function(e){return e===void 0},or=function(e){return Qm.call(e)=="[object String]"},ts=function(e){return e===null},Ko=function(e){return Fe(e)||ts(e)},Gi=function(e){return Qm.call(e)=="[object Number]"},Bp=function(e){return Qm.call(e)==="[object Boolean]"},xB=function(e){return e instanceof FormData},X=typeof window<"u"?window:void 0,kr=typeof globalThis<"u"?globalThis:X,dM=Array.prototype,UE=dM.forEach,HE=dM.indexOf,tf=kr==null?void 0:kr.navigator,Se=kr==null?void 0:kr.document,gi=kr==null?void 0:kr.location,Eb=kr==null?void 0:kr.fetch,kb=kr!=null&&kr.XMLHttpRequest&&"withCredentials"in new kr.XMLHttpRequest?kr.XMLHttpRequest:void 0,qE=kr==null?void 0:kr.AbortController,cn=tf==null?void 0:tf.userAgent,Fr=X??{},GE="[PostHog.js]",me={_log:function(e){if(X&&(Ba.DEBUG||Fr.POSTHOG_DEBUG)&&!Fe(X.console)&&X.console){for(var t=("__rrweb_original__"in X.console[e])?X.console[e].__rrweb_original__:X.console[e],n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t.apply(void 0,[GE].concat(r))}},info:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];me._log.apply(me,["log"].concat(t))},warn:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];me._log.apply(me,["warn"].concat(t))},error:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];me._log.apply(me,["error"].concat(t))},critical:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=console).error.apply(e,[GE].concat(n))},uninitializedWarning:function(e){me.error("You must initialize PostHog before calling ".concat(e))}},yg={},Jm=function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")};function wc(e,t,n){if(Mn(e)){if(UE&&e.forEach===UE)e.forEach(t,n);else if("length"in e&&e.length===+e.length){for(var r=0,i=e.length;r<i;r++)if(r in e&&t.call(n,e[r],r)===yg)return}}}function Tt(e,t,n){if(!Ko(e)){if(Mn(e))return wc(e,t,n);if(xB(e)){var r,i=os(e.entries());try{for(i.s();!(r=i.n()).done;){var s=r.value;if(t.call(n,s[1],s[0])===yg)return}}catch(a){i.e(a)}finally{i.f()}}else for(var o in e)if(uM.call(e,o)&&t.call(n,e[o],o)===yg)return}}var Nn=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return wc(n,function(i){for(var s in i)i[s]!==void 0&&(e[s]=i[s])}),e};function ot(e,t){return e.indexOf(t)!==-1}function Fp(e){for(var t=Object.keys(e),n=t.length,r=new Array(n);n--;)r[n]=[t[n],e[t[n]]];return r}var fM=function(){return Date.now=Date.now||function(){return+new Date},Date.now()},WE=function(e){try{return e()}catch{return}},SB=function(e){return function(){try{for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(this,n)}catch(i){me.critical("Implementation error. Please turn on debug mode and open a ticket on https://app.posthog.com/home#panel=support%3Asupport%3A."),me.critical(i)}}},CA=function(e){var t={};return Tt(e,function(n,r){or(n)&&n.length>0&&(t[r]=n)}),t};function wB(e,t){return n=e,r=function(s){return or(s)&&!ts(t)?s.slice(0,t):s},i=new Set,function s(o,a){return o!==Object(o)?r?r(o,a):o:i.has(o)?void 0:(i.add(o),Mn(o)?(l=[],wc(o,function(c){l.push(s(c))})):(l={},Tt(o,function(c,u){i.has(c)||(l[u]=s(c,u))})),l);var l}(n);var n,r,i}var Yi,EB=function(e){var t,n,r,i,s="";for(t=n=0,r=(e=(e+"").replace(/\r\n/g,`
`).replace(/\r/g,`
`)).length,i=0;i<r;i++){var o=e.charCodeAt(i),a=null;o<128?n++:a=o>127&&o<2048?String.fromCharCode(o>>6|192,63&o|128):String.fromCharCode(o>>12|224,o>>6&63|128,63&o|128),ts(a)||(n>t&&(s+=e.substring(t,n)),s+=a,t=n=i+1)}return n>t&&(s+=e.substring(t,e.length)),s},Js=function(){function e(t){return t&&(t.preventDefault=e.preventDefault,t.stopPropagation=e.stopPropagation),t}return e.preventDefault=function(){this.returnValue=!1},e.stopPropagation=function(){this.cancelBubble=!0},function(t,n,r,i,s){if(t)if(t.addEventListener&&!i)t.addEventListener(n,r,!!s);else{var o="on"+n,a=t[o];t[o]=function(l,c,u){return function(d){if(d=d||e(X==null?void 0:X.event)){var h,p=!0;es(u)&&(h=u(d));var g=c.call(l,d);return h!==!1&&g!==!1||(p=!1),p}}}(t,r,a)}else me.error("No valid element provided to register_event")}}();function nf(e,t){var n=function(){if(!Se)return t("document not found");var r=Se.createElement("script");r.type="text/javascript",r.src=e,r.onload=function(o){return t(void 0,o)},r.onerror=function(o){return t(o)};var i,s=Se.querySelectorAll("body > script");s.length>0?(i=s[0].parentNode)===null||i===void 0||i.insertBefore(r,s[0]):Se.body.appendChild(r)};Se!=null&&Se.body?n():Se==null||Se.addEventListener("DOMContentLoaded",n)}(function(e){e.GZipJS="gzip-js",e.Base64="base64"})(Yi||(Yi={}));var hM="$people_distinct_id",ld="__alias",cd="__timers",YE="$autocapture_disabled_server_side",TA="$heatmaps_enabled_server_side",IA="$session_recording_enabled_server_side",KE="$console_log_recording_enabled_server_side",QE="$session_recording_network_payload_capture",JE="$session_recording_canvas_recording",XE="$replay_sample_rate",ZE="$replay_minimum_duration",Ag="$sesid",kd="$session_is_sampled",tc="$enabled_feature_flags",PA="$early_access_features",nc="$stored_person_properties",Oo="$stored_group_properties",RA="$surveys",_g="$flag_call_reported",Gs="$user_state",MA="$client_session_props",jA="$capture_rate_limit",OA="$initial_campaign_params",VA="$initial_referrer_info",bg="$epp",kB=[hM,ld,"__cmpns",cd,IA,TA,Ag,tc,Gs,PA,Oo,nc,RA,_g,MA,jA,OA,VA,bg],Nv="$active_feature_flags",jh="$override_feature_flags",e2="$feature_flag_payloads",t2=function(e){var t,n={},r=os(Fp(e||{}));try{for(r.s();!(t=r.n()).done;){var i=gr(t.value,2),s=i[0],o=i[1];o&&(n[s]=o)}}catch(a){r.e(a)}finally{r.f()}return n},CB=function(){function e(t){Vt(this,e),this.instance=t,this._override_warning=!1,this.featureFlagEventHandlers=[],this.reloadFeatureFlagsQueued=!1,this.reloadFeatureFlagsInAction=!1}return Lt(e,[{key:"getFlags",value:function(){return Object.keys(this.getFlagVariants())}},{key:"getFlagVariants",value:function(){var t=this.instance.get_property(tc),n=this.instance.get_property(jh);if(!n)return t||{};for(var r=Nn({},t),i=Object.keys(n),s=0;s<i.length;s++)r[i[s]]=n[i[s]];return this._override_warning||(me.warn(" Overriding feature flags!",{enabledFlags:t,overriddenFlags:n,finalFlags:r}),this._override_warning=!0),r}},{key:"getFlagPayloads",value:function(){return this.instance.get_property(e2)||{}}},{key:"reloadFeatureFlags",value:function(){this.reloadFeatureFlagsQueued||(this.reloadFeatureFlagsQueued=!0,this._startReloadTimer())}},{key:"setAnonymousDistinctId",value:function(t){this.$anon_distinct_id=t}},{key:"setReloadingPaused",value:function(t){this.reloadFeatureFlagsInAction=t}},{key:"resetRequestQueue",value:function(){this.reloadFeatureFlagsQueued=!1}},{key:"_startReloadTimer",value:function(){var t=this;this.reloadFeatureFlagsQueued&&!this.reloadFeatureFlagsInAction&&setTimeout(function(){!t.reloadFeatureFlagsInAction&&t.reloadFeatureFlagsQueued&&(t.reloadFeatureFlagsQueued=!1,t._reloadFeatureFlagsRequest())},5)}},{key:"_reloadFeatureFlagsRequest",value:function(){var t=this;if(!this.instance.config.advanced_disable_feature_flags){this.setReloadingPaused(!0);var n=this.instance.config.token,r=this.instance.get_property(nc),i=this.instance.get_property(Oo),s={token:n,distinct_id:this.instance.get_distinct_id(),groups:this.instance.getGroups(),$anon_distinct_id:this.$anon_distinct_id,person_properties:r,group_properties:i,disable_flags:this.instance.config.advanced_disable_feature_flags||void 0};this.instance._send_request({method:"POST",url:this.instance.requestRouter.endpointFor("api","/decide/?v=3"),data:s,compression:this.instance.config.disable_compression?void 0:Yi.Base64,timeout:this.instance.config.feature_flag_request_timeout_ms,callback:function(o){var a;t.setReloadingPaused(!1);var l=!0;o.statusCode===200&&(t.$anon_distinct_id=void 0,l=!1),t.receivedFeatureFlags((a=o.json)!==null&&a!==void 0?a:{},l),t._startReloadTimer()}})}}},{key:"getFeatureFlag",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.instance.decideEndpointWasHit||this.getFlags()&&this.getFlags().length>0){var r,i=this.getFlagVariants()[t],s="".concat(i),o=this.instance.get_property(_g)||{};return(n.send_event||!("send_event"in n))&&(!(t in o)||!o[t].includes(s))&&(Mn(o[t])?o[t].push(s):o[t]=[s],(r=this.instance.persistence)===null||r===void 0||r.register(ie({},_g,o)),this.instance.capture("$feature_flag_called",{$feature_flag:t,$feature_flag_response:i})),i}me.warn('getFeatureFlag for key "'+t+`" failed. Feature flags didn't load in time.`)}},{key:"getFeatureFlagPayload",value:function(t){return this.getFlagPayloads()[t]}},{key:"isFeatureEnabled",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.instance.decideEndpointWasHit||this.getFlags()&&this.getFlags().length>0)return!!this.getFeatureFlag(t,n);me.warn('isFeatureEnabled for key "'+t+`" failed. Feature flags didn't load in time.`)}},{key:"addFeatureFlagsHandler",value:function(t){this.featureFlagEventHandlers.push(t)}},{key:"removeFeatureFlagsHandler",value:function(t){this.featureFlagEventHandlers=this.featureFlagEventHandlers.filter(function(n){return n!==t})}},{key:"receivedFeatureFlags",value:function(t,n){if(this.instance.persistence){this.instance.decideEndpointWasHit=!0;var r=this.getFlagVariants(),i=this.getFlagPayloads();(function(s,o){var a,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},u=s.featureFlags,d=s.featureFlagPayloads;if(u)if(Mn(u)){var h,p={};if(u)for(var g=0;g<u.length;g++)p[u[g]]=!0;o&&o.register((ie(h={},Nv,u),ie(h,tc,p),h))}else{var m=u,A=d;s.errorsWhileComputingFlags&&(m=Ce(Ce({},l),m),A=Ce(Ce({},c),A)),o&&o.register((ie(a={},Nv,Object.keys(t2(m))),ie(a,tc,m||{}),ie(a,e2,A||{}),a))}})(t,this.instance.persistence,r,i),this._fireFeatureFlagsCallbacks(n)}}},{key:"override",value:function(t){if(!this.instance.__loaded||!this.instance.persistence)return me.uninitializedWarning("posthog.feature_flags.override");if(this._override_warning=!1,t===!1)this.instance.persistence.unregister(jh);else if(Mn(t)){for(var n={},r=0;r<t.length;r++)n[t[r]]=!0;this.instance.persistence.register(ie({},jh,n))}else this.instance.persistence.register(ie({},jh,t))}},{key:"onFeatureFlags",value:function(t){var n=this;if(this.addFeatureFlagsHandler(t),this.instance.decideEndpointWasHit){var r=this._prepareFeatureFlagsForCallbacks(),i=r.flags,s=r.flagVariants;t(i,s)}return function(){return n.removeFeatureFlagsHandler(t)}}},{key:"updateEarlyAccessFeatureEnrollment",value:function(t,n){var r,i,s=ie({},"$feature_enrollment/".concat(t),n);this.instance.capture("$feature_enrollment_update",{$feature_flag:t,$feature_enrollment:n,$set:s}),this.setPersonPropertiesForFlags(s,!1);var o=Ce(Ce({},this.getFlagVariants()),{},ie({},t,n));(r=this.instance.persistence)===null||r===void 0||r.register((ie(i={},Nv,Object.keys(t2(o))),ie(i,tc,o),i)),this._fireFeatureFlagsCallbacks()}},{key:"getEarlyAccessFeatures",value:function(t){var n=this,r=arguments.length>1&&arguments[1]!==void 0&&arguments[1],i=this.instance.get_property(PA);if(i&&!r)return t(i);this.instance._send_request({transport:"XHR",url:this.instance.requestRouter.endpointFor("api","/api/early_access_features/?token=".concat(this.instance.config.token)),method:"GET",callback:function(s){var o;if(s.json){var a=s.json.earlyAccessFeatures;return(o=n.instance.persistence)===null||o===void 0||o.register(ie({},PA,a)),t(a)}}})}},{key:"_prepareFeatureFlagsForCallbacks",value:function(){var t=this.getFlags(),n=this.getFlagVariants();return{flags:t.filter(function(r){return n[r]}),flagVariants:Object.keys(n).filter(function(r){return n[r]}).reduce(function(r,i){return r[i]=n[i],r},{})}}},{key:"_fireFeatureFlagsCallbacks",value:function(t){var n=this._prepareFeatureFlagsForCallbacks(),r=n.flags,i=n.flagVariants;this.featureFlagEventHandlers.forEach(function(s){return s(r,i,{errorsLoading:t})})}},{key:"setPersonPropertiesForFlags",value:function(t){var n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=this.instance.get_property(nc)||{};this.instance.register(ie({},nc,Ce(Ce({},r),t))),n&&this.instance.reloadFeatureFlags()}},{key:"resetPersonPropertiesForFlags",value:function(){this.instance.unregister(nc)}},{key:"setGroupPropertiesForFlags",value:function(t){var n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=this.instance.get_property(Oo)||{};Object.keys(r).length!==0&&Object.keys(r).forEach(function(i){r[i]=Ce(Ce({},r[i]),t[i]),delete t[i]}),this.instance.register(ie({},Oo,Ce(Ce({},r),t))),n&&this.instance.reloadFeatureFlags()}},{key:"resetGroupPropertiesForFlags",value:function(t){if(t){var n=this.instance.get_property(Oo)||{};this.instance.register(ie({},Oo,Ce(Ce({},n),{},ie({},t,{}))))}else this.instance.unregister(Oo)}}]),e}();Math.trunc||(Math.trunc=function(e){return e<0?Math.ceil(e):Math.floor(e)}),Number.isInteger||(Number.isInteger=function(e){return Gi(e)&&isFinite(e)&&Math.floor(e)===e});var n2="0123456789abcdef",TB=function(){function e(t){if(Vt(this,e),this.bytes=t,t.length!==16)throw new TypeError("not 128-bit length")}return Lt(e,[{key:"toString",value:function(){for(var t="",n=0;n<this.bytes.length;n++)t=t+n2.charAt(this.bytes[n]>>>4)+n2.charAt(15&this.bytes[n]),n!==3&&n!==5&&n!==7&&n!==9||(t+="-");if(t.length!==36)throw new Error("Invalid UUIDv7 was generated");return t}},{key:"clone",value:function(){return new e(this.bytes.slice(0))}},{key:"equals",value:function(t){return this.compareTo(t)===0}},{key:"compareTo",value:function(t){for(var n=0;n<16;n++){var r=this.bytes[n]-t.bytes[n];if(r!==0)return Math.sign(r)}return 0}}],[{key:"fromFieldsV7",value:function(t,n,r,i){if(!Number.isInteger(t)||!Number.isInteger(n)||!Number.isInteger(r)||!Number.isInteger(i)||t<0||n<0||r<0||i<0||t>0xffffffffffff||n>4095||r>1073741823||i>4294967295)throw new RangeError("invalid field value");var s=new Uint8Array(16);return s[0]=t/Math.pow(2,40),s[1]=t/Math.pow(2,32),s[2]=t/Math.pow(2,24),s[3]=t/Math.pow(2,16),s[4]=t/Math.pow(2,8),s[5]=t,s[6]=112|n>>>8,s[7]=n,s[8]=128|r>>>24,s[9]=r>>>16,s[10]=r>>>8,s[11]=r,s[12]=i>>>24,s[13]=i>>>16,s[14]=i>>>8,s[15]=i,new e(s)}}]),e}(),IB=function(){function e(){Vt(this,e),ie(this,"timestamp",0),ie(this,"counter",0),ie(this,"random",new PB)}return Lt(e,[{key:"generate",value:function(){var t=this.generateOrAbort();if(Fe(t)){this.timestamp=0;var n=this.generateOrAbort();if(Fe(n))throw new Error("Could not generate UUID after timestamp reset");return n}return t}},{key:"generateOrAbort",value:function(){var t=Date.now();if(t>this.timestamp)this.timestamp=t,this.resetCounter();else{if(!(t+1e4>this.timestamp))return;this.counter++,this.counter>4398046511103&&(this.timestamp++,this.resetCounter())}return TB.fromFieldsV7(this.timestamp,Math.trunc(this.counter/Math.pow(2,30)),this.counter&Math.pow(2,30)-1,this.random.nextUint32())}},{key:"resetCounter",value:function(){this.counter=1024*this.random.nextUint32()+(1023&this.random.nextUint32())}}]),e}(),pM=function(e){if(typeof UUIDV7_DENY_WEAK_RNG<"u"&&UUIDV7_DENY_WEAK_RNG)throw new Error("no cryptographically strong RNG available");for(var t=0;t<e.length;t++)e[t]=65536*Math.trunc(65536*Math.random())+Math.trunc(65536*Math.random());return e};X&&!Fe(X.crypto)&&crypto.getRandomValues&&(pM=function(e){return crypto.getRandomValues(e)});var r2,PB=function(){function e(){Vt(this,e),ie(this,"buffer",new Uint32Array(8)),ie(this,"cursor",1/0)}return Lt(e,[{key:"nextUint32",value:function(){return this.cursor>=this.buffer.length&&(pM(this.buffer),this.cursor=0),this.buffer[this.cursor++]}}]),e}(),Uo=function(){return RB().toString()},RB=function(){return(r2||(r2=new IB)).generate()},MB="Thu, 01 Jan 1970 00:00:00 GMT",$u="",jB=/[a-z0-9][a-z0-9-]+\.[a-z]{2,}$/i;function OB(e,t){if(t){var n=function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Se;if($u)return $u;if(!s||["localhost","127.0.0.1"].includes(i))return"";for(var o=i.split("."),a=Math.min(o.length,8),l="dmn_chk_"+Uo(),c=new RegExp("(^|;)\\s*"+l+"=1");!$u&&a--;){var u=o.slice(a).join("."),d=l+"=1;domain=."+u;s.cookie=d,c.test(s.cookie)&&(s.cookie=d+";expires="+MB,$u=u)}return $u}(e);if(!n){var r=function(i){var s=i.match(jB);return s?s[0]:""}(e);r!==n&&me.info("Warning: cookie subdomain discovery mismatch",r,n),n=r}return n?"; domain=."+n:""}return""}var Hn,Rs={is_supported:function(){return!!Se},error:function(e){me.error("cookieStore error: "+e)},get:function(e){if(Se){try{for(var t=e+"=",n=Se.cookie.split(";").filter(function(s){return s.length}),r=0;r<n.length;r++){for(var i=n[r];i.charAt(0)==" ";)i=i.substring(1,i.length);if(i.indexOf(t)===0)return decodeURIComponent(i.substring(t.length,i.length))}}catch{}return null}},parse:function(e){var t;try{t=JSON.parse(Rs.get(e))||{}}catch{}return t},set:function(e,t,n,r,i){if(Se)try{var s="",o="",a=OB(Se.location.hostname,r);if(n){var l=new Date;l.setTime(l.getTime()+24*n*60*60*1e3),s="; expires="+l.toUTCString()}i&&(o="; secure");var c=e+"="+encodeURIComponent(JSON.stringify(t))+s+"; SameSite=Lax; path=/"+a+o;return c.length>3686.4&&me.warn("cookieStore warning: large cookie, len="+c.length),Se.cookie=c,c}catch{return}},remove:function(e,t){try{Rs.set(e,"",-1,t)}catch{return}}},$v=null,bn={is_supported:function(){if(!ts($v))return $v;var e=!0;if(Fe(X))e=!1;else try{var t="__mplssupport__";bn.set(t,"xyz"),bn.get(t)!=='"xyz"'&&(e=!1),bn.remove(t)}catch{e=!1}return e||me.error("localStorage unsupported; falling back to cookie store"),$v=e,e},error:function(e){me.error("localStorage error: "+e)},get:function(e){try{return X==null?void 0:X.localStorage.getItem(e)}catch(t){bn.error(t)}return null},parse:function(e){try{return JSON.parse(bn.get(e))||{}}catch{}return null},set:function(e,t){try{X==null||X.localStorage.setItem(e,JSON.stringify(t))}catch(n){bn.error(n)}},remove:function(e){try{X==null||X.localStorage.removeItem(e)}catch(t){bn.error(t)}}},VB=["distinct_id",Ag,kd,bg],ud=Ce(Ce({},bn),{},{parse:function(e){try{var t={};try{t=Rs.parse(e)||{}}catch{}var n=Nn(t,JSON.parse(bn.get(e)||"{}"));return bn.set(e,n),n}catch{}return null},set:function(e,t,n,r,i){try{bn.set(e,t);var s={};VB.forEach(function(o){t[o]&&(s[o]=t[o])}),Object.keys(s).length&&Rs.set(e,s,n,r,i)}catch(o){bn.error(o)}},remove:function(e,t){try{X==null||X.localStorage.removeItem(e),Rs.remove(e,t)}catch(n){bn.error(n)}}}),Oh={},LB={is_supported:function(){return!0},error:function(e){me.error("memoryStorage error: "+e)},get:function(e){return Oh[e]||null},parse:function(e){return Oh[e]||null},set:function(e,t){Oh[e]=t},remove:function(e){delete Oh[e]}},Sa=null,Wn={is_supported:function(){if(!ts(Sa))return Sa;if(Sa=!0,Fe(X))Sa=!1;else try{var e="__support__";Wn.set(e,"xyz"),Wn.get(e)!=='"xyz"'&&(Sa=!1),Wn.remove(e)}catch{Sa=!1}return Sa},error:function(e){me.error("sessionStorage error: ",e)},get:function(e){try{return X==null?void 0:X.sessionStorage.getItem(e)}catch(t){Wn.error(t)}return null},parse:function(e){try{return JSON.parse(Wn.get(e))||null}catch{}return null},set:function(e,t){try{X==null||X.sessionStorage.setItem(e,JSON.stringify(t))}catch(n){Wn.error(n)}},remove:function(e){try{X==null||X.sessionStorage.removeItem(e)}catch(t){Wn.error(t)}}},NB=["localhost","127.0.0.1"],gM=function(e){var t=Se==null?void 0:Se.createElement("a");return Fe(t)?null:(t.href=e,t)},$B=function(e,t){return!!function(n){try{new RegExp(n)}catch{return!1}return!0}(t)&&new RegExp(t).test(e)},DB=function(e){var t,n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"&",i=[];return Tt(e,function(s,o){Fe(s)||Fe(o)||o==="undefined"||(t=encodeURIComponent(function(a){return a instanceof File}(s)?s.name:s.toString()),n=encodeURIComponent(o),i[i.length]=n+"="+t)}),i.join(r)},i2=function(e,t){for(var n,r=((e.split("#")[0]||"").split("?")[1]||"").split("&"),i=0;i<r.length;i++){var s=r[i].split("=");if(s[0]===t){n=s;break}}if(!Mn(n)||n.length<2)return"";var o=n[1];try{o=decodeURIComponent(o)}catch{me.error("Skipping decoding for malformed query param: "+o)}return o.replace(/\+/g," ")},xg=function(e,t){var n=e.match(new RegExp(t+"=([^&]*)"));return n?n[1]:null},xi="Mobile",Sg="iOS",Cs="Android",rf="Tablet",mM=Cs+" "+rf,vM="iPad",yM="Apple",AM=yM+" Watch",Xm="Safari",Hc="BlackBerry",_M="Samsung",bM=_M+"Browser",xM=_M+" Internet",nl="Chrome",BB=nl+" OS",SM=nl+" "+Sg,Cb="Internet Explorer",wM=Cb+" "+xi,Tb="Opera",FB=Tb+" Mini",Ib="Edge",EM="Microsoft "+Ib,Ec="Firefox",kM=Ec+" "+Sg,sf="Nintendo",of="PlayStation",kc="Xbox",CM=Cs+" "+xi,TM=xi+" "+Xm,dd="Windows",LA=dd+" Phone",s2="Nokia",NA="Ouya",IM="Generic",zB=IM+" "+xi.toLowerCase(),PM=IM+" "+rf.toLowerCase(),$A="Konqueror",hr="(\\d+(\\.\\d+)?)",Dv=new RegExp("Version/"+hr),UB=new RegExp(kc,"i"),HB=new RegExp(of+" \\w+","i"),qB=new RegExp(sf+" \\w+","i"),Pb=new RegExp(Hc+"|PlayBook|BB10","i"),GB={"NT3.51":"NT 3.11","NT4.0":"NT 4.0","5.0":"2000",5.1:"XP",5.2:"XP","6.0":"Vista",6.1:"7",6.2:"8",6.3:"8.1",6.4:"10","10.0":"10"},WB=function(e,t){return t&&ot(t,yM)||function(n){return ot(n,Xm)&&!ot(n,nl)&&!ot(n,Cs)}(e)},o2=function(e,t){return t=t||"",ot(e," OPR/")&&ot(e,"Mini")?FB:ot(e," OPR/")?Tb:Pb.test(e)?Hc:ot(e,"IE"+xi)||ot(e,"WPDesktop")?wM:ot(e,bM)?xM:ot(e,Ib)||ot(e,"Edg/")?EM:ot(e,"FBIOS")?"Facebook "+xi:ot(e,nl)?nl:ot(e,"CriOS")?SM:ot(e,"UCWEB")||ot(e,"UCBrowser")?"UC Browser":ot(e,"FxiOS")?kM:ot(e,Cs)?CM:ot(e.toLowerCase(),$A.toLowerCase())?$A:WB(e,t)?ot(e,xi)?TM:Xm:ot(e,Ec)?Ec:ot(e,"MSIE")||ot(e,"Trident/")?Cb:ot(e,"Gecko")?Ec:""},YB=(ie(Hn={},wM,[new RegExp("rv:"+hr)]),ie(Hn,EM,[new RegExp(Ib+"?\\/"+hr)]),ie(Hn,nl,[new RegExp(nl+"/"+hr)]),ie(Hn,SM,[new RegExp("CriOS\\/"+hr)]),ie(Hn,"UC Browser",[new RegExp("(UCBrowser|UCWEB)\\/"+hr)]),ie(Hn,Xm,[Dv]),ie(Hn,TM,[Dv]),ie(Hn,Tb,[new RegExp("(Opera|OPR)\\/"+hr)]),ie(Hn,Ec,[new RegExp(Ec+"\\/"+hr)]),ie(Hn,kM,[new RegExp("FxiOS\\/"+hr)]),ie(Hn,$A,[new RegExp("Konqueror[:/]?"+hr,"i")]),ie(Hn,Hc,[new RegExp(Hc+" "+hr),Dv]),ie(Hn,CM,[new RegExp("android\\s"+hr)]),ie(Hn,xM,[new RegExp(bM+"\\/"+hr)]),ie(Hn,Cb,[new RegExp("(rv:|MSIE )"+hr)]),ie(Hn,"Mozilla",[new RegExp("rv:"+hr)]),Hn),a2=[[new RegExp(kc+"; "+kc+" (.*?)[);]","i"),function(e){return[kc,e&&e[1]||""]}],[new RegExp(sf,"i"),[sf,""]],[new RegExp(of,"i"),[of,""]],[Pb,[Hc,""]],[new RegExp(dd,"i"),function(e,t){if(/Phone/.test(t)||/WPDesktop/.test(t))return[LA,""];if(new RegExp(xi).test(t)&&!/IEMobile\b/.test(t))return[dd+" "+xi,""];var n=/Windows NT ([0-9.]+)/i.exec(t);if(n&&n[1]){var r=n[1],i=GB[r]||"";return/arm/i.test(t)&&(i="RT"),[dd,i]}return[dd,""]}],[/((iPhone|iPad|iPod).*?OS (\d+)_(\d+)_?(\d+)?|iPhone)/,function(e){if(e&&e[3]){var t=[e[3],e[4],e[5]||"0"];return[Sg,t.join(".")]}return[Sg,""]}],[/(watch.*\/(\d+\.\d+\.\d+)|watch os,(\d+\.\d+),)/i,function(e){var t="";return e&&e.length>=3&&(t=Fe(e[2])?e[3]:e[2]),["watchOS",t]}],[new RegExp("("+Cs+" (\\d+)\\.(\\d+)\\.?(\\d+)?|"+Cs+")","i"),function(e){if(e&&e[2]){var t=[e[2],e[3],e[4]||"0"];return[Cs,t.join(".")]}return[Cs,""]}],[/Mac OS X (\d+)[_.](\d+)[_.]?(\d+)?/i,function(e){var t=["Mac OS X",""];if(e&&e[1]){var n=[e[1],e[2],e[3]||"0"];t[1]=n.join(".")}return t}],[/Mac/i,["Mac OS X",""]],[/CrOS/,[BB,""]],[/Linux|debian/i,["Linux",""]]],l2=function(e){return qB.test(e)?sf:HB.test(e)?of:UB.test(e)?kc:new RegExp(NA,"i").test(e)?NA:new RegExp("("+LA+"|WPDesktop)","i").test(e)?LA:/iPad/.test(e)?vM:/iPod/.test(e)?"iPod Touch":/iPhone/.test(e)?"iPhone":/(watch)(?: ?os[,/]|\d,\d\/)[\d.]+/i.test(e)?AM:Pb.test(e)?Hc:/(kobo)\s(ereader|touch)/i.test(e)?"Kobo":new RegExp(s2,"i").test(e)?s2:/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i.test(e)||/(kf[a-z]+)( bui|\)).+silk\//i.test(e)?"Kindle Fire":/(Android|ZTE)/i.test(e)?!new RegExp(xi).test(e)||/(9138B|TB782B|Nexus [97]|pixel c|HUAWEISHT|BTV|noble nook|smart ultra 6)/i.test(e)?/pixel[\daxl ]{1,6}/i.test(e)&&!/pixel c/i.test(e)||/(huaweimed-al00|tah-|APA|SM-G92|i980|zte|U304AA)/i.test(e)||/lmy47v/i.test(e)&&!/QTAQZ3/i.test(e)?Cs:mM:Cs:new RegExp("(pda|"+xi+")","i").test(e)?zB:new RegExp(rf,"i").test(e)&&!new RegExp(rf+" pc","i").test(e)?PM:""},Vh="https?://(.*)",KB=["utm_source","utm_medium","utm_campaign","utm_content","utm_term","gclid","gad_source","gclsrc","dclid","gbraid","wbraid","fbclid","msclkid","twclid","li_fat_id","mc_cid","igshid","ttclid"],$n={campaignParams:function(e){var t=KB.concat(e||[]),n={};return Tt(t,function(r){var i=Se?i2(Se.URL,r):"";i.length&&(n[r]=i)}),n},searchEngine:function(){var e=Se==null?void 0:Se.referrer;return e?e.search(Vh+"google.([^/?]*)")===0?"google":e.search(Vh+"bing.com")===0?"bing":e.search(Vh+"yahoo.com")===0?"yahoo":e.search(Vh+"duckduckgo.com")===0?"duckduckgo":null:null},searchInfo:function(){var e=$n.searchEngine(),t=e!="yahoo"?"q":"p",n={};if(!ts(e)){n.$search_engine=e;var r=Se?i2(Se.referrer,t):"";r.length&&(n.ph_keyword=r)}return n},browser:o2,browserVersion:function(e,t){var n=o2(e,t),r=YB[n];if(Fe(r))return null;for(var i=0;i<r.length;i++){var s=r[i],o=e.match(s);if(o)return parseFloat(o[o.length-2])}return null},browserLanguage:function(){return navigator.language||navigator.userLanguage},os:function(e){for(var t=0;t<a2.length;t++){var n=gr(a2[t],2),r=n[0],i=n[1],s=r.exec(e),o=s&&(es(i)?i(s,e):i);if(o)return o}return["",""]},device:l2,deviceType:function(e){var t=l2(e);return t===vM||t===mM||t==="Kobo"||t==="Kindle Fire"||t===PM?rf:t===sf||t===kc||t===of||t===NA?"Console":t===AM?"Wearable":t?xi:"Desktop"},referrer:function(){return(Se==null?void 0:Se.referrer)||"$direct"},referringDomain:function(){var e;return Se!=null&&Se.referrer&&((e=gM(Se.referrer))===null||e===void 0?void 0:e.host)||"$direct"},referrerInfo:function(){return{$referrer:this.referrer(),$referring_domain:this.referringDomain()}},properties:function(){if(!cn)return{};var e=gr($n.os(cn),2),t=e[0],n=e[1];return Nn(CA({$os:t,$os_version:n,$browser:$n.browser(cn,navigator.vendor),$device:$n.device(cn),$device_type:$n.deviceType(cn)}),{$current_url:gi==null?void 0:gi.href,$host:gi==null?void 0:gi.host,$pathname:gi==null?void 0:gi.pathname,$raw_user_agent:cn.length>1e3?cn.substring(0,997)+"...":cn,$browser_version:$n.browserVersion(cn,navigator.vendor),$browser_language:$n.browserLanguage(),$screen_height:X==null?void 0:X.screen.height,$screen_width:X==null?void 0:X.screen.width,$viewport_height:X==null?void 0:X.innerHeight,$viewport_width:X==null?void 0:X.innerWidth,$lib:"web",$lib_version:Ba.LIB_VERSION,$insert_id:Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10),$time:fM()/1e3})},people_properties:function(){if(!cn)return{};var e=gr($n.os(cn),2),t=e[0],n=e[1];return Nn(CA({$os:t,$os_version:n,$browser:$n.browser(cn,navigator.vendor)}),{$browser_version:$n.browserVersion(cn,navigator.vendor)})}},QB=["cookie","localstorage","localstorage+cookie","sessionstorage","memory"],Bv=function(){function e(t){Vt(this,e),this.config=t,this.props={},this.campaign_params_saved=!1,this.name=function(n){var r="";return n.token&&(r=n.token.replace(/\+/g,"PL").replace(/\//g,"SL").replace(/=/g,"EQ")),n.persistence_name?"ph_"+n.persistence_name:"ph_"+r+"_posthog"}(t),this.storage=this.buildStorage(t),this.load(),this.update_config(t,t),this.save()}return Lt(e,[{key:"buildStorage",value:function(t){QB.indexOf(t.persistence.toLowerCase())===-1&&(me.critical("Unknown persistence type "+t.persistence+"; falling back to localStorage+cookie"),t.persistence="localStorage+cookie");var n=t.persistence.toLowerCase();return n==="localstorage"&&bn.is_supported()?bn:n==="localstorage+cookie"&&ud.is_supported()?ud:n==="sessionstorage"&&Wn.is_supported()?Wn:n==="memory"?LB:n==="cookie"?Rs:ud.is_supported()?ud:Rs}},{key:"properties",value:function(){var t={};return Tt(this.props,function(n,r){if(r===tc&&ks(n))for(var i=Object.keys(n),s=0;s<i.length;s++)t["$feature/".concat(i[s])]=n[i[s]];else a=r,l=!1,(ts(o=kB)?l:HE&&o.indexOf===HE?o.indexOf(a)!=-1:(Tt(o,function(c){if(l||(l=c===a))return yg}),l))||(t[r]=n);var o,a,l}),t}},{key:"load",value:function(){if(!this.disabled){var t=this.storage.parse(this.name);t&&(this.props=Nn({},t))}}},{key:"save",value:function(){this.disabled||this.storage.set(this.name,this.props,this.expire_days,this.cross_subdomain,this.secure)}},{key:"remove",value:function(){this.storage.remove(this.name,!1),this.storage.remove(this.name,!0)}},{key:"clear",value:function(){this.remove(),this.props={}}},{key:"register_once",value:function(t,n,r){var i=this;if(ks(t)){Fe(n)&&(n="None"),this.expire_days=Fe(r)?this.default_expiry:r;var s=!1;if(Tt(t,function(o,a){i.props.hasOwnProperty(a)&&i.props[a]!==n||(i.props[a]=o,s=!0)}),s)return this.save(),!0}return!1}},{key:"register",value:function(t,n){var r=this;if(ks(t)){this.expire_days=Fe(n)?this.default_expiry:n;var i=!1;if(Tt(t,function(s,o){t.hasOwnProperty(o)&&r.props[o]!==s&&(r.props[o]=s,i=!0)}),i)return this.save(),!0}return!1}},{key:"unregister",value:function(t){t in this.props&&(delete this.props[t],this.save())}},{key:"update_campaign_params",value:function(){this.campaign_params_saved||(this.register($n.campaignParams(this.config.custom_campaign_params)),this.campaign_params_saved=!0)}},{key:"set_initial_campaign_params",value:function(){this.register_once(ie({},OA,$n.campaignParams(this.config.custom_campaign_params)),void 0)}},{key:"update_search_keyword",value:function(){this.register($n.searchInfo())}},{key:"update_referrer_info",value:function(){this.register($n.referrerInfo())}},{key:"set_initial_referrer_info",value:function(){this.register_once(ie({},VA,$n.referrerInfo()),void 0)}},{key:"get_referrer_info",value:function(){return CA({$referrer:this.props.$referrer,$referring_domain:this.props.$referring_domain})}},{key:"get_initial_props",value:function(){var t=this,n={};return Tt([VA,OA],function(r){var i=t.props[r];i&&Tt(i,function(s,o){var a;n["$initial_"+(a=o,a.replace(/^\$/,""))]=s})}),n}},{key:"safe_merge",value:function(t){return Tt(this.props,function(n,r){r in t||(t[r]=n)}),t}},{key:"update_config",value:function(t,n){if(this.default_expiry=this.expire_days=t.cookie_expiration,this.set_disabled(t.disable_persistence),this.set_cross_subdomain(t.cross_subdomain_cookie),this.set_secure(t.secure_cookie),t.persistence!==n.persistence){var r=this.buildStorage(t),i=this.props;this.clear(),this.storage=r,this.props=i,this.save()}}},{key:"set_disabled",value:function(t){this.disabled=t,this.disabled?this.remove():this.save()}},{key:"set_cross_subdomain",value:function(t){t!==this.cross_subdomain&&(this.cross_subdomain=t,this.remove(),this.save())}},{key:"get_cross_subdomain",value:function(){return!!this.cross_subdomain}},{key:"set_secure",value:function(t){t!==this.secure&&(this.secure=t,this.remove(),this.save())}},{key:"set_event_timer",value:function(t,n){var r=this.props[cd]||{};r[t]=n,this.props[cd]=r,this.save()}},{key:"remove_event_timer",value:function(t){var n=(this.props[cd]||{})[t];return Fe(n)||(delete this.props[cd][t],this.save()),n}},{key:"get_property",value:function(t){return this.props[t]}},{key:"set_property",value:function(t,n){this.props[t]=n,this.save()}}]),e}(),JB=2,XB=4,ZB=Lt(function e(t){var n,r,i=this,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Vt(this,e),ie(this,"bucketSize",100),ie(this,"refillRate",10),ie(this,"mutationBuckets",{}),ie(this,"loggedTracker",{}),ie(this,"refillBuckets",function(){Object.keys(i.mutationBuckets).forEach(function(o){i.mutationBuckets[o]=i.mutationBuckets[o]+i.refillRate,i.mutationBuckets[o]>=i.bucketSize&&delete i.mutationBuckets[o]})}),ie(this,"getNodeOrRelevantParent",function(o){var a=i.rrweb.mirror.getNode(o);if((a==null?void 0:a.nodeName)!=="svg"&&a instanceof Element){var l=a.closest("svg");if(l)return[i.rrweb.mirror.getId(l),l]}return[o,a]}),ie(this,"numberOfChanges",function(o){var a,l,c,u,d,h,p,g;return((a=(l=o.removes)===null||l===void 0?void 0:l.length)!==null&&a!==void 0?a:0)+((c=(u=o.attributes)===null||u===void 0?void 0:u.length)!==null&&c!==void 0?c:0)+((d=(h=o.texts)===null||h===void 0?void 0:h.length)!==null&&d!==void 0?d:0)+((p=(g=o.adds)===null||g===void 0?void 0:g.length)!==null&&p!==void 0?p:0)}),ie(this,"throttleMutations",function(o){if(o.type!==3||o.data.source!==0)return o;var a=o.data,l=i.numberOfChanges(a);a.attributes&&(a.attributes=a.attributes.filter(function(u){var d,h,p,g=gr(i.getNodeOrRelevantParent(u.id),2),m=g[0],A=g[1];return i.mutationBuckets[m]===0?!1:(i.mutationBuckets[m]=(d=i.mutationBuckets[m])!==null&&d!==void 0?d:i.bucketSize,i.mutationBuckets[m]=Math.max(i.mutationBuckets[m]-1,0),i.mutationBuckets[m]===0&&(i.loggedTracker[m]||(i.loggedTracker[m]=!0,(h=(p=i.options).onBlockedNode)===null||h===void 0||h.call(p,m,A))),u)}));var c=i.numberOfChanges(a);return c!==0||l===c?o:void 0}),this.rrweb=t,this.options=s,this.refillRate=(n=this.options.refillRate)!==null&&n!==void 0?n:this.refillRate,this.bucketSize=(r=this.options.bucketSize)!==null&&r!==void 0?r:this.bucketSize,setInterval(function(){i.refillBuckets()},1e3)}),zp=function(e){return e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e}(zp||{});function Rb(e){return e?Jm(e).split(/\s+/):[]}function wg(e){var t="";switch(ef(e.className)){case"string":t=e.className;break;case"object":t=("baseVal"in e.className?e.className.baseVal:null)||e.getAttribute("class")||"";break;default:t=""}return Rb(t)}function RM(e){return Ko(e)?null:Jm(e).split(/(\s+)/).filter(function(t){return Cc(t)}).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255)}function Eg(e){var t="";return BA(e)&&!VM(e)&&e.childNodes&&e.childNodes.length&&Tt(e.childNodes,function(n){var r;MM(n)&&n.textContent&&(t+=(r=RM(n.textContent))!==null&&r!==void 0?r:"")}),Jm(t)}function Mb(e){return!!e&&e.nodeType===1}function Qo(e,t){return!!e&&!!e.tagName&&e.tagName.toLowerCase()===t.toLowerCase()}function MM(e){return!!e&&e.nodeType===3}function jM(e){return!!e&&e.nodeType===11}var DA=["a","button","form","input","select","textarea","label"];function OM(e){var t=e.parentNode;return!(!t||!Mb(t))&&t}function eF(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;if(!X||!e||Qo(e,"html")||!Mb(e))return!1;if(n!=null&&n.url_allowlist){var s=X.location.href,o=n.url_allowlist;if(o&&!o.some(function(m){return s.match(m)}))return!1}if(n!=null&&n.dom_event_allowlist){var a=n.dom_event_allowlist;if(a&&!a.some(function(m){return t.type===m}))return!1}for(var l=!1,c=[e],u=!0,d=e;d.parentNode&&!Qo(d,"body");)if(jM(d.parentNode))c.push(d.parentNode.host),d=d.parentNode.host;else{if(!(u=OM(d)))break;if(r||DA.indexOf(u.tagName.toLowerCase())>-1)l=!0;else{var h=X.getComputedStyle(u);h&&h.getPropertyValue("cursor")==="pointer"&&(l=!0)}c.push(u),d=u}if(!function(m,A){var v=A==null?void 0:A.element_allowlist;if(Fe(v))return!0;var y,b=os(m);try{var S=function(){var w=y.value;if(v.some(function(E){return w.tagName.toLowerCase()===E}))return{v:!0}};for(b.s();!(y=b.n()).done;){var x=S();if(ef(x)==="object")return x.v}}catch(w){b.e(w)}finally{b.f()}return!1}(c,n)||!function(m,A){var v=A==null?void 0:A.css_selector_allowlist;if(Fe(v))return!0;var y,b=os(m);try{var S=function(){var w=y.value;if(v.some(function(E){return w.matches(E)}))return{v:!0}};for(b.s();!(y=b.n()).done;){var x=S();if(ef(x)==="object")return x.v}}catch(w){b.e(w)}finally{b.f()}return!1}(c,n))return!1;var p=X.getComputedStyle(e);if(p&&p.getPropertyValue("cursor")==="pointer"&&t.type==="click")return!0;var g=e.tagName.toLowerCase();switch(g){case"html":return!1;case"form":return(i||["submit"]).indexOf(t.type)>=0;case"input":case"select":case"textarea":return(i||["change","click"]).indexOf(t.type)>=0;default:return l?(i||["click"]).indexOf(t.type)>=0:(i||["click"]).indexOf(t.type)>=0&&(DA.indexOf(g)>-1||e.getAttribute("contenteditable")==="true")}}function BA(e){for(var t=e;t.parentNode&&!Qo(t,"body");t=t.parentNode){var n=wg(t);if(ot(n,"ph-sensitive")||ot(n,"ph-no-capture"))return!1}if(ot(wg(e),"ph-include"))return!0;var r=e.type||"";if(or(r))switch(r.toLowerCase()){case"hidden":case"password":return!1}var i=e.name||e.id||"";return!(or(i)&&/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|pwd|routing|seccode|securitycode|securitynum|socialsec|socsec|ssn/i.test(i.replace(/[^a-zA-Z0-9]/g,"")))}function VM(e){return!!(Qo(e,"input")&&!["button","checkbox","submit","reset"].includes(e.type)||Qo(e,"select")||Qo(e,"textarea")||e.getAttribute("contenteditable")==="true")}var LM="(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11})",tF=new RegExp("^(?:".concat(LM,")$")),nF=new RegExp(LM),NM="\\d{3}-?\\d{2}-?\\d{4}",rF=new RegExp("^(".concat(NM,")$")),iF=new RegExp("(".concat(NM,")"));function Cc(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return!(Ko(e)||or(e)&&(e=Jm(e),(t?tF:nF).test((e||"").replace(/[- ]/g,""))||(t?rF:iF).test(e)))}function c2(e){var t=Eg(e);return Cc(t="".concat(t," ").concat($M(e)).trim())?t:""}function $M(e){var t="";return e&&e.childNodes&&e.childNodes.length&&Tt(e.childNodes,function(n){var r;if(n&&((r=n.tagName)===null||r===void 0?void 0:r.toLowerCase())==="span")try{var i=Eg(n);t="".concat(t," ").concat(i).trim(),n.childNodes&&n.childNodes.length&&(t="".concat(t," ").concat($M(n)).trim())}catch(s){me.error(s)}}),t}function sF(e){return function(t){var n=t.map(function(r){var i,s,o="";if(r.tag_name&&(o+=r.tag_name),r.attr_class){r.attr_class.sort();var a,l=os(r.attr_class);try{for(l.s();!(a=l.n()).done;){var c=a.value;o+=".".concat(c.replace(/"/g,""))}}catch(h){l.e(h)}finally{l.f()}}var u=Ce(Ce(Ce(Ce({},r.text?{text:r.text}:{}),{},{"nth-child":(i=r.nth_child)!==null&&i!==void 0?i:0,"nth-of-type":(s=r.nth_of_type)!==null&&s!==void 0?s:0},r.href?{href:r.href}:{}),r.attr_id?{attr_id:r.attr_id}:{}),r.attributes),d={};return Fp(u).sort(function(h,p){var g=gr(h,1)[0],m=gr(p,1)[0];return g.localeCompare(m)}).forEach(function(h){var p=gr(h,2),g=p[0],m=p[1];return d[u2(g.toString())]=u2(m.toString())}),o+=":",o+=Fp(u).map(function(h){var p=gr(h,2),g=p[0],m=p[1];return"".concat(g,'="').concat(m,'"')}).join("")});return n.join(";")}(function(t){return t.map(function(n){var r,i,s={text:(r=n.$el_text)===null||r===void 0?void 0:r.slice(0,400),tag_name:n.tag_name,href:(i=n.attr__href)===null||i===void 0?void 0:i.slice(0,2048),attr_class:oF(n),attr_id:n.attr__id,nth_child:n.nth_child,nth_of_type:n.nth_of_type,attributes:{}};return Fp(n).filter(function(o){return gr(o,1)[0].indexOf("attr__")===0}).forEach(function(o){var a=gr(o,2),l=a[0],c=a[1];return s.attributes[l]=c}),s})}(e))}function u2(e){return e.replace(/"|\\"/g,'\\"')}function oF(e){var t=e.attr__class;return t?Mn(t)?t:Rb(t):void 0}var FA="[SessionRecording]",Fv={initiatorTypes:["audio","beacon","body","css","early-hint","embed","fetch","frame","iframe","icon","image","img","input","link","navigation","object","ping","script","track","video","xmlhttprequest"],maskRequestFn:function(e){return e},recordHeaders:!1,recordBody:!1,recordInitialRequests:!1,recordPerformance:!1,performanceEntryTypeToObserve:["first-input","navigation","paint","resource"],payloadSizeLimitBytes:1e6},aF=["authorization","x-forwarded-for","authorization","cookie","set-cookie","x-api-key","x-real-ip","remote-addr","forwarded","proxy-authorization","x-csrf-token","x-csrftoken","x-xsrf-token"],lF=["password","secret","passwd","api_key","apikey","auth","credentials","mysql_pwd","privatekey","private_key","token"],cF=["/s/","/e/","/i/"];function d2(e,t,n,r){if(Ko(e))return e;var i=(t==null?void 0:t["content-length"])||function(s){return new Blob([s]).size}(e);return or(i)&&(i=parseInt(i)),i>n?FA+" ".concat(r," body too large to record (").concat(i," bytes)"):e}function f2(e,t){if(Ko(e))return e;var n=e;return Cc(n,!1)||(n=FA+" "+t+" body redacted"),Tt(lF,function(r){var i,s;(i=n)!==null&&i!==void 0&&i.length&&((s=n)===null||s===void 0?void 0:s.indexOf(r))!==-1&&(n=FA+" "+t+" body redacted as might contain: "+r)}),n}var uF=function(e,t){var n,r,i,s={payloadSizeLimitBytes:Fv.payloadSizeLimitBytes,performanceEntryTypeToObserve:Uc(Fv.performanceEntryTypeToObserve)},o=e.session_recording.recordHeaders!==!1&&t.recordHeaders,a=e.session_recording.recordBody!==!1&&t.recordBody,l=e.capture_performance!==!1&&t.recordPerformance,c=(n=s,i=Math.min(1e6,(r=n.payloadSizeLimitBytes)!==null&&r!==void 0?r:1e6),function(h){return h!=null&&h.requestBody&&(h.requestBody=d2(h.requestBody,h.requestHeaders,i,"Request")),h!=null&&h.responseBody&&(h.responseBody=d2(h.responseBody,h.responseHeaders,i,"Response")),h}),u=function(h){return c(function(m){var A=gM(m.name);if(!(A&&A.pathname&&cF.some(function(v){return A.pathname.indexOf(v)===0})))return m}((p=h,Tt(Object.keys((g=p.requestHeaders)!==null&&g!==void 0?g:{}),function(m){var A;aF.includes(m.toLowerCase())&&((A=p.requestHeaders)===null||A===void 0||delete A[m])}),p)));var p,g},d=es(e.session_recording.maskNetworkRequestFn);return d&&es(e.session_recording.maskCapturedNetworkRequestFn)&&me.warn("Both `maskNetworkRequestFn` and `maskCapturedNetworkRequestFn` are defined. `maskNetworkRequestFn` will be ignored."),d&&(e.session_recording.maskCapturedNetworkRequestFn=function(h){var p=e.session_recording.maskNetworkRequestFn({url:h.name});return Ce(Ce({},h),{},{name:p==null?void 0:p.url})}),s.maskRequestFn=es(e.session_recording.maskCapturedNetworkRequestFn)?function(h){var p,g,m,A=u(h);return A&&(p=(g=(m=e.session_recording).maskCapturedNetworkRequestFn)===null||g===void 0?void 0:g.call(m,A))!==null&&p!==void 0?p:void 0}:function(h){return function(p){if(!Fe(p))return p.requestBody=f2(p.requestBody,"Request"),p.responseBody=f2(p.responseBody,"Response"),p}(u(h))},Ce(Ce(Ce({},Fv),s),{},{recordHeaders:o,recordBody:a,recordPerformance:l,recordInitialRequests:l})},dF="__ph_opt_in_out_";function fF(e,t){FM(!0,e,t)}function hF(e,t){FM(!1,e,t)}function pF(e,t){return BM(e,t)==="1"}function DM(e,t){return!!function(n){if(n&&n.respectDnt){var r=n&&n.window||X,i=r==null?void 0:r.navigator,s=!1;return Tt([i==null?void 0:i.doNotTrack,i.msDoNotTrack,r.doNotTrack],function(o){ot([!0,1,"1","yes"],o)&&(s=!0)}),s}return!1}(t)||BM(e,t)==="0"}function gF(e,t){jb(t=t||{}).remove(Ob(e,t),!!t.crossSubdomainCookie)}function jb(e){return(e=e||{}).persistenceType==="localStorage"?bn:e.persistenceType==="localStorage+cookie"?ud:Rs}function Ob(e,t){return((t=t||{}).persistencePrefix||dF)+e}function BM(e,t){return jb(t).get(Ob(e,t))}function FM(e,t,n){or(t)&&t.length?(jb(n=n||{}).set(Ob(t,n),e?1:0,Gi(n.cookieExpiration)?n.cookieExpiration:null,n.crossSubdomainCookie,n.secureCookie),n.capture&&e&&n.capture(n.captureEventName||"$opt_in",n.captureProperties||{},{send_instantly:!0})):me.error("gdpr."+(e?"optIn":"optOut")+" called with an invalid token")}function zM(e){var t=!1;try{var n=e.config.token,r=e.config.respect_dnt,i=e.config.opt_out_capturing_persistence_type,s=e.config.opt_out_capturing_cookie_prefix||void 0,o=e.config.window;n&&(t=DM(n,{respectDnt:r,persistenceType:i,persistencePrefix:s,window:o}))}catch(a){me.error("Unexpected error when checking capturing opt-out status: "+a)}return t}var ms,UM=3e5,h2=UM;(function(e){e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet"})(ms||(ms={}));var mF=[ms.MouseMove,ms.MouseInteraction,ms.Scroll,ms.ViewportResize,ms.Input,ms.TouchMove,ms.MediaInteraction,ms.Drag],p2=function(e){return{rrwebMethod:e,enqueuedAt:Date.now(),attempt:1}},$r="[SessionRecording]",vF=function(){function e(t){var n=this;if(Vt(this,e),ie(this,"queuedRRWebEvents",[]),ie(this,"isIdle",!1),ie(this,"_linkedFlagSeen",!1),ie(this,"_lastActivityTimestamp",Date.now()),ie(this,"windowId",null),ie(this,"sessionId",null),ie(this,"_linkedFlag",null),ie(this,"_forceAllowLocalhostNetworkCapture",!1),ie(this,"_samplingSessionListener",null),this.instance=t,this._captureStarted=!1,this._endpoint="/s/",this.stopRrweb=void 0,this.receivedDecide=!1,X==null||X.addEventListener("beforeunload",function(){n._flushBuffer()}),X==null||X.addEventListener("offline",function(){n._tryAddCustomEvent("browser offline",{})}),X==null||X.addEventListener("online",function(){n._tryAddCustomEvent("browser online",{})}),X==null||X.addEventListener("visibilitychange",function(){if(Se!=null&&Se.visibilityState){var r="window "+Se.visibilityState;n._tryAddCustomEvent(r,{})}}),!this.instance.sessionManager)throw me.error($r+" started without valid sessionManager"),new Error($r+" started without valid sessionManager. This is a bug.");this.buffer=this.clearBuffer(),this._setupSampling()}return Lt(e,[{key:"rrwebRecord",get:function(){var t;return Fr==null||(t=Fr.rrweb)===null||t===void 0?void 0:t.record}},{key:"started",get:function(){return this._captureStarted}},{key:"sessionManager",get:function(){if(!this.instance.sessionManager)throw me.error($r+" started without valid sessionManager"),new Error($r+" started without valid sessionManager. This is a bug.");return this.instance.sessionManager}},{key:"isSampled",get:function(){var t=this.instance.get_property(kd);return Bp(t)?t:null}},{key:"sessionDuration",get:function(){var t,n,r=(t=this.buffer)===null||t===void 0?void 0:t.data[((n=this.buffer)===null||n===void 0?void 0:n.data.length)-1],i=this.sessionManager.checkAndGetSessionAndWindowId(!0).sessionStartTimestamp;return r?r.timestamp-i:null}},{key:"isRecordingEnabled",get:function(){var t=!!this.instance.get_property(IA),n=!this.instance.config.disable_session_recording;return X&&t&&n}},{key:"isConsoleLogCaptureEnabled",get:function(){var t=!!this.instance.get_property(KE),n=this.instance.config.enable_recording_console_log;return n??t}},{key:"canvasRecording",get:function(){var t=this.instance.get_property(JE);return t&&t.fps&&t.quality?{enabled:t.enabled,fps:t.fps,quality:t.quality}:void 0}},{key:"networkPayloadCapture",get:function(){var t,n,r=this.instance.get_property(QE),i={recordHeaders:(t=this.instance.config.session_recording)===null||t===void 0?void 0:t.recordHeaders,recordBody:(n=this.instance.config.session_recording)===null||n===void 0?void 0:n.recordBody},s=(i==null?void 0:i.recordHeaders)||(r==null?void 0:r.recordHeaders),o=(i==null?void 0:i.recordBody)||(r==null?void 0:r.recordBody),a=this.instance.config.capture_performance||(r==null?void 0:r.capturePerformance);return s||o||a?{recordHeaders:s,recordBody:o,recordPerformance:a}:void 0}},{key:"sampleRate",get:function(){var t=this.instance.get_property(XE);return Gi(t)?t:null}},{key:"minimumDuration",get:function(){var t=this.instance.get_property(ZE);return Gi(t)?t:null}},{key:"status",get:function(){return this.receivedDecide?this.isRecordingEnabled?Ko(this._linkedFlag)||this._linkedFlagSeen?Bp(this.isSampled)?this.isSampled?"sampled":"disabled":"active":"buffering":"disabled":"buffering"}},{key:"startIfEnabledOrStop",value:function(){this.isRecordingEnabled?(this._startCapture(),me.info($r+" started")):(this.stopRecording(),this.clearBuffer())}},{key:"stopRecording",value:function(){this._captureStarted&&this.stopRrweb&&(this.stopRrweb(),this.stopRrweb=void 0,this._captureStarted=!1,me.info($r+" stopped"))}},{key:"makeSamplingDecision",value:function(t){var n,r=this.sessionId!==t,i=this.sampleRate;if(Gi(i)){var s,o=this.isSampled,a=r||!Bp(o);a?s=Math.random()<i:s=o,!s&&a&&me.warn($r+" Sample rate (".concat(i,") has determined that this sessionId (").concat(t,") will not be sent to the server.")),this._tryAddCustomEvent("samplingDecisionMade",{sampleRate:i}),(n=this.instance.persistence)===null||n===void 0||n.register(ie({},kd,s))}else{var l;(l=this.instance.persistence)===null||l===void 0||l.register(ie({},kd,null))}}},{key:"afterDecideResponse",value:function(t){var n,r,i,s=this;if(this._persistDecideResponse(t),this._linkedFlag=((n=t.sessionRecording)===null||n===void 0?void 0:n.linkedFlag)||null,(r=t.sessionRecording)!==null&&r!==void 0&&r.endpoint&&(this._endpoint=(i=t.sessionRecording)===null||i===void 0?void 0:i.endpoint),this._setupSampling(),!Ko(this._linkedFlag)){var o=or(this._linkedFlag)?this._linkedFlag:this._linkedFlag.flag,a=or(this._linkedFlag)?null:this._linkedFlag.variant;this.instance.onFeatureFlags(function(l,c){var u=ks(c)&&o in c,d=a?c[o]===a:u;if(d){var h={linkedFlag:o,linkedVariant:a},p="linked flag matched";me.info($r+" "+p,h),s._tryAddCustomEvent(p,h)}s._linkedFlagSeen=d})}this.receivedDecide=!0,this.startIfEnabledOrStop()}},{key:"_setupSampling",value:function(){var t=this;Gi(this.sampleRate)&&ts(this._samplingSessionListener)&&(this._samplingSessionListener=this.sessionManager.onSessionId(function(n){t.makeSamplingDecision(n)}))}},{key:"_persistDecideResponse",value:function(t){if(this.instance.persistence){var n=this.instance.persistence,r=function(){var i,s,o,a,l,c,u,d,h=(i=t.sessionRecording)===null||i===void 0?void 0:i.sampleRate,p=Ko(h)?null:parseFloat(h),g=(s=t.sessionRecording)===null||s===void 0?void 0:s.minimumDurationMilliseconds;n.register((ie(d={},IA,!!t.sessionRecording),ie(d,KE,(o=t.sessionRecording)===null||o===void 0?void 0:o.consoleLogRecordingEnabled),ie(d,QE,Ce({capturePerformance:t.capturePerformance},(a=t.sessionRecording)===null||a===void 0?void 0:a.networkPayloadCapture)),ie(d,JE,{enabled:(l=t.sessionRecording)===null||l===void 0?void 0:l.recordCanvas,fps:(c=t.sessionRecording)===null||c===void 0?void 0:c.canvasFps,quality:(u=t.sessionRecording)===null||u===void 0?void 0:u.canvasQuality}),ie(d,XE,p),ie(d,ZE,Fe(g)?null:g),d))};r(),this.sessionManager.onSessionId(r)}}},{key:"log",value:function(t){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"log";(n=this.instance.sessionRecording)===null||n===void 0||n.onRRwebEmit({type:6,data:{plugin:"rrweb/console@1",payload:{level:r,trace:[],payload:[JSON.stringify(t)]}},timestamp:fM()})}},{key:"_startCapture",value:function(){var t=this;Fe(Object.assign)||this._captureStarted||this.instance.config.disable_session_recording||zM(this.instance)||(this._captureStarted=!0,this.sessionManager.checkAndGetSessionAndWindowId(),this.rrwebRecord?this._onScriptLoaded():nf(this.instance.requestRouter.endpointFor("assets","/static/recorder.js?v=".concat(Ba.LIB_VERSION)),function(n){if(n)return me.error($r+" could not load recorder.js",n);t._onScriptLoaded()}))}},{key:"isInteractiveEvent",value:function(t){var n;return t.type===3&&mF.indexOf((n=t.data)===null||n===void 0?void 0:n.source)!==-1}},{key:"_updateWindowAndSessionIds",value:function(t){var n=this.isInteractiveEvent(t);n||this.isIdle||t.timestamp-this._lastActivityTimestamp>h2&&(this.isIdle=!0,this._tryAddCustomEvent("sessionIdle",{reason:"user inactivity",timeSinceLastActive:t.timestamp-this._lastActivityTimestamp,threshold:h2}));var r=!1;if(n&&(this._lastActivityTimestamp=t.timestamp,this.isIdle&&(this.isIdle=!1,this._tryAddCustomEvent("sessionNoLongerIdle",{reason:"user activity",type:t.type}),r=!0)),!this.isIdle){var i=this.sessionManager.checkAndGetSessionAndWindowId(!n,t.timestamp),s=i.windowId,o=i.sessionId,a=this.sessionId!==o,l=this.windowId!==s;this.windowId=s,this.sessionId=o,(r||[JB,XB].indexOf(t.type)===-1&&(l||a))&&this._tryTakeFullSnapshot()}}},{key:"_tryRRWebMethod",value:function(t){try{return t.rrwebMethod(),!0}catch(n){return this.queuedRRWebEvents.length<10?this.queuedRRWebEvents.push({enqueuedAt:t.enqueuedAt||Date.now(),attempt:t.attempt++,rrwebMethod:t.rrwebMethod}):me.warn($r+" could not emit queued rrweb event.",n,t),!1}}},{key:"_tryAddCustomEvent",value:function(t,n){var r=this;return this._tryRRWebMethod(p2(function(){return r.rrwebRecord.addCustomEvent(t,n)}))}},{key:"_tryTakeFullSnapshot",value:function(){var t=this;return this._tryRRWebMethod(p2(function(){return t.rrwebRecord.takeFullSnapshot()}))}},{key:"_onScriptLoaded",value:function(){for(var t,n=this,r={blockClass:"ph-no-capture",blockSelector:void 0,ignoreClass:"ph-ignore-input",maskTextClass:"ph-mask",maskTextSelector:void 0,maskTextFn:void 0,maskAllInputs:!0,maskInputOptions:{},maskInputFn:void 0,slimDOMOptions:{},collectFonts:!1,inlineStylesheet:!0,recordCrossOriginIframes:!1},i=this.instance.config.session_recording,s=0,o=Object.entries(i||{});s<o.length;s++){var a=gr(o[s],2),l=a[0],c=a[1];l in r&&(r[l]=c)}if(this.canvasRecording&&this.canvasRecording.enabled&&(r.recordCanvas=!0,r.sampling={canvas:this.canvasRecording.fps},r.dataURLOptions={type:"image/webp",quality:this.canvasRecording.quality}),this.rrwebRecord){this.mutationRateLimiter=(t=this.mutationRateLimiter)!==null&&t!==void 0?t:new ZB(this.rrwebRecord,{onBlockedNode:function(d,h){var p="Too many mutations on node '".concat(d,"'. Rate limiting. This could be due to SVG animations or something similar");me.info(p,{node:h}),n.log($r+" "+p,"warn")}}),this._scheduleFullSnapshot();var u=this._gatherRRWebPlugins();this.stopRrweb=this.rrwebRecord(Ce({emit:function(d){n.onRRwebEmit(d)},plugins:u},r)),this.instance._addCaptureHook(function(d){try{if(d==="$pageview"){var h=X?n._maskUrl(X.location.href):"";if(!h)return;n._tryAddCustomEvent("$pageview",{href:h}),n._tryTakeFullSnapshot()}}catch(p){me.error("Could not add $pageview to rrweb session",p)}}),this._lastActivityTimestamp=Date.now(),this.isIdle=!1,this._tryAddCustomEvent("$session_options",{sessionRecordingOptions:r,activePlugins:u.map(function(d){return d==null?void 0:d.name})}),this._tryAddCustomEvent("$posthog_config",{config:this.instance.config})}else me.error($r+"onScriptLoaded was called but rrwebRecord is not available. This indicates something has gone wrong.")}},{key:"_scheduleFullSnapshot",value:function(){var t=this;this._fullSnapshotTimer&&clearInterval(this._fullSnapshotTimer),this._fullSnapshotTimer=setInterval(function(){t._tryTakeFullSnapshot()},UM)}},{key:"_gatherRRWebPlugins",value:function(){var t=[];return Fr.rrwebConsoleRecord&&this.isConsoleLogCaptureEnabled&&t.push(Fr.rrwebConsoleRecord.getRecordConsolePlugin()),this.networkPayloadCapture&&es(Fr.getRecordNetworkPlugin)&&(!NB.includes(location.hostname)||this._forceAllowLocalhostNetworkCapture?t.push(Fr.getRecordNetworkPlugin(uF(this.instance.config,this.networkPayloadCapture))):me.info($r+" NetworkCapture not started because we are on localhost.")),t}},{key:"onRRwebEmit",value:function(t){if(this._processQueuedEvents(),t&&ks(t)){if(t.type===zp.Meta){var n=this._maskUrl(t.data.href);if(this._lastHref=n,!n)return;t.data.href=n}else this._pageViewFallBack();t.type===zp.FullSnapshot&&this._scheduleFullSnapshot();var r=this.mutationRateLimiter?this.mutationRateLimiter.throttleMutations(t):t;if(r){var i=function(a){var l=a;if(l&&ks(l)&&l.type===6&&ks(l.data)&&l.data.plugin==="rrweb/console@1"){l.data.payload.payload.length>10&&(l.data.payload.payload=l.data.payload.payload.slice(0,10),l.data.payload.payload.push("...[truncated]"));for(var c=[],u=0;u<l.data.payload.payload.length;u++)l.data.payload.payload[u]&&l.data.payload.payload[u].length>2e3?c.push(l.data.payload.payload[u].slice(0,2e3)+"...[truncated]"):c.push(l.data.payload.payload[u]);return l.data.payload.payload=c,a}return a}(r),s=JSON.stringify(i).length;if(this._updateWindowAndSessionIds(i),!this.isIdle||i.type===zp.Custom){var o={$snapshot_bytes:s,$snapshot_data:i,$session_id:this.sessionId,$window_id:this.windowId};this.status!=="disabled"?this._captureSnapshotBuffered(o):this.clearBuffer()}}}}},{key:"_pageViewFallBack",value:function(){if(!this.instance.config.capture_pageview&&X){var t=this._maskUrl(X.location.href);this._lastHref!==t&&(this._tryAddCustomEvent("$url_changed",{href:t}),this._lastHref=t)}}},{key:"_processQueuedEvents",value:function(){var t=this;if(this.queuedRRWebEvents.length){var n=Uc(this.queuedRRWebEvents);this.queuedRRWebEvents=[],n.forEach(function(r){Date.now()-r.enqueuedAt>2e3?t._tryAddCustomEvent("rrwebQueueTimeout",{enqueuedAt:r.enqueuedAt,attempt:r.attempt,queueLength:n.length}):t._tryRRWebMethod(r)&&t._tryAddCustomEvent("rrwebQueueSuccess",{enqueuedAt:r.enqueuedAt,attempt:r.attempt,queueLength:n.length})})}}},{key:"_maskUrl",value:function(t){var n=this.instance.config.session_recording;if(n.maskNetworkRequestFn){var r,i={url:t};return(r=i=n.maskNetworkRequestFn(i))===null||r===void 0?void 0:r.url}return t}},{key:"clearBuffer",value:function(){return this.buffer=void 0,{size:0,data:[],sessionId:this.sessionId,windowId:this.windowId}}},{key:"_flushBuffer",value:function(){var t=this;this.flushBufferTimer&&(clearTimeout(this.flushBufferTimer),this.flushBufferTimer=void 0);var n=this.minimumDuration,r=this.sessionDuration,i=Gi(r)&&r>=0,s=Gi(n)&&i&&r<n;return this.status==="buffering"||s?(this.flushBufferTimer=setTimeout(function(){t._flushBuffer()},2e3),this.buffer||this.clearBuffer()):this.buffer&&this.buffer.data.length!==0?(this._captureSnapshot({$snapshot_bytes:this.buffer.size,$snapshot_data:this.buffer.data,$session_id:this.buffer.sessionId,$window_id:this.buffer.windowId}),this.clearBuffer()):this.buffer||this.clearBuffer()}},{key:"_captureSnapshotBuffered",value:function(t){var n,r=this,i=2+(((n=this.buffer)===null||n===void 0?void 0:n.data.length)||0);(!this.buffer||this.buffer.size+t.$snapshot_bytes+i>943718.4||this.buffer.sessionId&&this.buffer.sessionId!==this.sessionId)&&(this.buffer=this._flushBuffer()),ts(this.buffer.sessionId)&&!ts(this.sessionId)&&(this.buffer.sessionId=this.sessionId,this.buffer.windowId=this.windowId),this.buffer.size+=t.$snapshot_bytes,this.buffer.data.push(t.$snapshot_data),this.flushBufferTimer||(this.flushBufferTimer=setTimeout(function(){r._flushBuffer()},2e3))}},{key:"_captureSnapshot",value:function(t){this.instance.capture("$snapshot",t,{_url:this.instance.requestRouter.endpointFor("api",this._endpoint),_noTruncate:!0,_batchKey:"recordings",_noHeatmaps:!0})}}]),e}(),yF=function(){function e(t){Vt(this,e),this.instance=t,this.instance.decideEndpointWasHit=this.instance._hasBootstrappedFeatureFlags()}return Lt(e,[{key:"call",value:function(){var t=this,n={token:this.instance.config.token,distinct_id:this.instance.get_distinct_id(),groups:this.instance.getGroups(),person_properties:this.instance.get_property(nc),group_properties:this.instance.get_property(Oo),disable_flags:this.instance.config.advanced_disable_feature_flags||this.instance.config.advanced_disable_feature_flags_on_first_load||void 0};this.instance._send_request({method:"POST",url:this.instance.requestRouter.endpointFor("api","/decide/?v=3"),data:n,compression:this.instance.config.disable_compression?void 0:Yi.Base64,timeout:this.instance.config.feature_flag_request_timeout_ms,callback:function(r){return t.parseDecideResponse(r.json)}})}},{key:"parseDecideResponse",value:function(t){var n=this;this.instance.featureFlags.setReloadingPaused(!1),this.instance.featureFlags._startReloadTimer();var r=!t;if(this.instance.config.advanced_disable_feature_flags_on_first_load||this.instance.config.advanced_disable_feature_flags||this.instance.featureFlags.receivedFeatureFlags(t??{},r),r)me.error("Failed to fetch feature flags from PostHog.");else{if(!Se||!Se.body)return me.info("document not ready yet, trying again in 500 milliseconds..."),void setTimeout(function(){n.parseDecideResponse(t)},500);this.instance._afterDecideResponse(t);var i=X==null?void 0:X.extendPostHogWithExceptionAutoCapture;if(t.autocaptureExceptions&&t.autocaptureExceptions&&Fe(i)&&nf(this.instance.requestRouter.endpointFor("assets","/static/exception-autocapture.js"),function(l){if(l)return me.error("Could not load exception autocapture script",l);X.extendPostHogWithExceptionAutocapture(n.instance,t)}),t.siteApps)if(this.instance.config.opt_in_site_apps){var s,o=os(t.siteApps);try{var a=function(){var l=s.value,c=l.id,u=l.url,d=n.instance.requestRouter.endpointFor("api",u);Fr["__$$ph_site_app_".concat(c)]=n.instance,nf(d,function(h){h&&me.error("Error while initializing PostHog app with config id ".concat(c),h)})};for(o.s();!(s=o.n()).done;)a()}catch(l){o.e(l)}finally{o.f()}}else t.siteApps.length>0&&me.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.')}}}]),e}(),AF=X!=null&&X.location?xg(X.location.hash,"__posthog")||xg(location.hash,"state"):null,zv="_postHogToolbarParams",_F=function(){function e(t){Vt(this,e),ie(this,"_toolbarScriptLoaded",!1),this.instance=t}return Lt(e,[{key:"maybeLoadToolbar",value:function(){var t,n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;if(!X||!Se)return!1;r=(t=r)!==null&&t!==void 0?t:X.location,s=(n=s)!==null&&n!==void 0?n:X.history;try{if(!i){try{X.localStorage.setItem("test","test"),X.localStorage.removeItem("test")}catch{return!1}i=X==null?void 0:X.localStorage}var o,a=AF||xg(r.hash,"__posthog")||xg(r.hash,"state"),l=a?WE(function(){return JSON.parse(atob(decodeURIComponent(a)))})||WE(function(){return JSON.parse(decodeURIComponent(a))}):null;return l&&l.action==="ph_authorize"?((o=l).source="url",o&&Object.keys(o).length>0&&(l.desiredHash?r.hash=l.desiredHash:s?s.replaceState("",Se.title,r.pathname+r.search):r.hash="")):((o=JSON.parse(i.getItem(zv)||"{}")).source="localstorage",delete o.userIntent),!(!o.token||this.instance.config.token!==o.token)&&(this.loadToolbar(o),!0)}catch{return!1}}},{key:"_callLoadToolbar",value:function(t){(Fr.ph_load_toolbar||Fr.ph_load_editor)(t,this.instance)}},{key:"loadToolbar",value:function(t){var n=this;if(!X||X.localStorage.getItem(zv)&&this._toolbarScriptLoaded)return!1;var r=this.instance.requestRouter.region==="custom"&&this.instance.config.advanced_disable_toolbar_metrics,i=Ce(Ce({token:this.instance.config.token},t),{},{apiURL:this.instance.requestRouter.endpointFor("ui")},r?{instrument:!1}:{});if(X.localStorage.setItem(zv,JSON.stringify(Ce(Ce({},i),{},{source:void 0}))),this._toolbarScriptLoaded)this._callLoadToolbar(i);else{this._toolbarScriptLoaded=!0;var s=3e5,o=Math.floor(Date.now()/s)*s;nf(this.instance.requestRouter.endpointFor("assets","/static/toolbar.js?t=".concat(o)),function(a){if(a)return me.error("Failed to load toolbar",a),void(n._toolbarScriptLoaded=!1);n._callLoadToolbar(i)}),Js(X,"turbolinks:load",function(){n._toolbarScriptLoaded=!1,n.loadToolbar(i)})}return!0}},{key:"_loadEditor",value:function(t){return this.loadToolbar(t)}},{key:"maybeLoadEditor",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;return this.maybeLoadToolbar(t,n,r)}}]),e}(),bF=function(){function e(t){Vt(this,e),ie(this,"isPaused",!0),ie(this,"queue",[]),ie(this,"flushTimeoutMs",3e3),this.sendRequest=t}return Lt(e,[{key:"enqueue",value:function(t){this.queue.push(t),this.flushTimeout||this.setFlushTimeout()}},{key:"unload",value:function(){var t=this;this.clearFlushTimeout();var n=this.queue.length>0?this.formatQueue():{},r=Object.values(n);[].concat(Uc(r.filter(function(i){return i.url.indexOf("/e")===0})),Uc(r.filter(function(i){return i.url.indexOf("/e")!==0}))).map(function(i){t.sendRequest(Ce(Ce({},i),{},{transport:"sendBeacon"}))})}},{key:"enable",value:function(){this.isPaused=!1,this.setFlushTimeout()}},{key:"setFlushTimeout",value:function(){var t=this;this.isPaused||(this.flushTimeout=setTimeout(function(){if(t.clearFlushTimeout(),t.queue.length>0){var n=t.formatQueue(),r=function(s){var o=n[s],a=new Date().getTime();o.data&&Mn(o.data)&&Tt(o.data,function(l){l.offset=Math.abs(l.timestamp-a),delete l.timestamp}),t.sendRequest(o)};for(var i in n)r(i)}},this.flushTimeoutMs))}},{key:"clearFlushTimeout",value:function(){clearTimeout(this.flushTimeout),this.flushTimeout=void 0}},{key:"formatQueue",value:function(){var t={};return Tt(this.queue,function(n){var r,i=n,s=(i?i.batchKey:null)||i.url;Fe(t[s])&&(t[s]=Ce(Ce({},i),{},{data:[]})),(r=t[s].data)===null||r===void 0||r.push(i.data)}),this.queue=[],t}}]),e}(),Kr=Uint8Array,yr=Uint16Array,qc=Uint32Array,Vb=new Kr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Lb=new Kr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),g2=new Kr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),HM=function(e,t){for(var n=new yr(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];var i=new qc(n[30]);for(r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return[n,i]},qM=HM(Vb,2),xF=qM[0],zA=qM[1];xF[28]=258,zA[258]=28;for(var m2=HM(Lb,0)[1],UA=new yr(32768),Mt=0;Mt<32768;++Mt){var wa=(43690&Mt)>>>1|(21845&Mt)<<1;wa=(61680&(wa=(52428&wa)>>>2|(13107&wa)<<2))>>>4|(3855&wa)<<4,UA[Mt]=((65280&wa)>>>8|(255&wa)<<8)>>>1}var Cd=function(e,t,n){for(var r=e.length,i=0,s=new yr(t);i<r;++i)++s[e[i]-1];var o,a=new yr(t);for(i=0;i<t;++i)a[i]=a[i-1]+s[i-1]<<1;if(n){o=new yr(1<<t);var l=15-t;for(i=0;i<r;++i)if(e[i])for(var c=i<<4|e[i],u=t-e[i],d=a[e[i]-1]++<<u,h=d|(1<<u)-1;d<=h;++d)o[UA[d]>>>l]=c}else for(o=new yr(r),i=0;i<r;++i)o[i]=UA[a[e[i]-1]++]>>>15-e[i];return o},rl=new Kr(288);for(Mt=0;Mt<144;++Mt)rl[Mt]=8;for(Mt=144;Mt<256;++Mt)rl[Mt]=9;for(Mt=256;Mt<280;++Mt)rl[Mt]=7;for(Mt=280;Mt<288;++Mt)rl[Mt]=8;var kg=new Kr(32);for(Mt=0;Mt<32;++Mt)kg[Mt]=5;var SF=Cd(rl,9,0),wF=Cd(kg,5,0),GM=function(e){return(e/8>>0)+(7&e&&1)},WM=function(e,t,n){(t==null||t<0)&&(t=0),(n==null||n>e.length)&&(n=e.length);var r=new(e instanceof yr?yr:e instanceof qc?qc:Kr)(n-t);return r.set(e.subarray(t,n)),r},Us=function(e,t,n){n<<=7&t;var r=t/8>>0;e[r]|=n,e[r+1]|=n>>>8},Du=function(e,t,n){n<<=7&t;var r=t/8>>0;e[r]|=n,e[r+1]|=n>>>8,e[r+2]|=n>>>16},Uv=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var i=n.length,s=n.slice();if(!i)return[new Kr(0),0];if(i==1){var o=new Kr(n[0].s+1);return o[n[0].s]=1,[o,1]}n.sort(function(x,w){return x.f-w.f}),n.push({s:-1,f:25001});var a=n[0],l=n[1],c=0,u=1,d=2;for(n[0]={s:-1,f:a.f+l.f,l:a,r:l};u!=i-1;)a=n[n[c].f<n[d].f?c++:d++],l=n[c!=u&&n[c].f<n[d].f?c++:d++],n[u++]={s:-1,f:a.f+l.f,l:a,r:l};var h=s[0].s;for(r=1;r<i;++r)s[r].s>h&&(h=s[r].s);var p=new yr(h+1),g=EF(n[u-1],p,0);if(g>t){r=0;var m=0,A=g-t,v=1<<A;for(s.sort(function(x,w){return p[w.s]-p[x.s]||x.f-w.f});r<i;++r){var y=s[r].s;if(!(p[y]>t))break;m+=v-(1<<g-p[y]),p[y]=t}for(m>>>=A;m>0;){var b=s[r].s;p[b]<t?m-=1<<t-p[b]++-1:++r}for(;r>=0&&m;--r){var S=s[r].s;p[S]==t&&(--p[S],++m)}g=t}return[new Kr(p),g]},EF=function e(t,n,r){return t.s==-1?Math.max(e(t.l,n,r+1),e(t.r,n,r+1)):n[t.s]=r},v2=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new yr(++t),r=0,i=e[0],s=1,o=function(l){n[r++]=l},a=1;a<=t;++a)if(e[a]==i&&a!=t)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=e[a]}return[n.subarray(0,r),t]},Bu=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},Up=function(e,t,n){var r=n.length,i=GM(t+2);e[i]=255&r,e[i+1]=r>>>8,e[i+2]=255^e[i],e[i+3]=255^e[i+1];for(var s=0;s<r;++s)e[i+s+4]=n[s];return 8*(i+4+r)},y2=function(e,t,n,r,i,s,o,a,l,c,u){Us(t,u++,n),++i[256];for(var d=Uv(i,15),h=d[0],p=d[1],g=Uv(s,15),m=g[0],A=g[1],v=v2(h),y=v[0],b=v[1],S=v2(m),x=S[0],w=S[1],E=new yr(19),T=0;T<y.length;++T)E[31&y[T]]++;for(T=0;T<x.length;++T)E[31&x[T]]++;for(var L=Uv(E,7),O=L[0],N=L[1],Q=19;Q>4&&!O[g2[Q-1]];--Q);var M,U,P,I,z=c+5<<3,j=Bu(i,rl)+Bu(s,kg)+o,$=Bu(i,h)+Bu(s,m)+o+14+3*Q+Bu(E,O)+(2*E[16]+3*E[17]+7*E[18]);if(z<=j&&z<=$)return Up(t,u,e.subarray(l,l+c));if(Us(t,u,1+($<j)),u+=2,$<j){M=Cd(h,p,0),U=h,P=Cd(m,A,0),I=m;var B=Cd(O,N,0);for(Us(t,u,b-257),Us(t,u+5,w-1),Us(t,u+10,Q-4),u+=14,T=0;T<Q;++T)Us(t,u+3*T,O[g2[T]]);u+=3*Q;for(var D=[y,x],q=0;q<2;++q){var ne=D[q];for(T=0;T<ne.length;++T){var V=31&ne[T];Us(t,u,B[V]),u+=O[V],V>15&&(Us(t,u,ne[T]>>>5&127),u+=ne[T]>>>12)}}}else M=SF,U=rl,P=wF,I=kg;for(T=0;T<a;++T)if(r[T]>255){V=r[T]>>>18&31,Du(t,u,M[V+257]),u+=U[V+257],V>7&&(Us(t,u,r[T]>>>23&31),u+=Vb[V]);var ce=31&r[T];Du(t,u,P[ce]),u+=I[ce],ce>3&&(Du(t,u,r[T]>>>5&8191),u+=Lb[ce])}else Du(t,u,M[r[T]]),u+=U[r[T]];return Du(t,u,M[256]),u+U[256]},kF=new qc([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),CF=new Kr(0),TF=function(){for(var e=new qc(256),t=0;t<256;++t){for(var n=t,r=9;--r;)n=(1&n&&3988292384)^n>>>1;e[t]=n}return e}(),IF=function(e,t,n,r,i){return function(s,o,a,l,c,u){var d=s.length,h=new Kr(l+d+5*(1+Math.floor(d/7e3))+c),p=h.subarray(l,h.length-c),g=0;if(!o||d<8)for(var m=0;m<=d;m+=65535){var A=m+65535;A<d?g=Up(p,g,s.subarray(m,A)):(p[m]=u,g=Up(p,g,s.subarray(m,d)))}else{for(var v=kF[o-1],y=v>>>13,b=8191&v,S=(1<<a)-1,x=new yr(32768),w=new yr(S+1),E=Math.ceil(a/3),T=2*E,L=function(Ge){return(s[Ge]^s[Ge+1]<<E^s[Ge+2]<<T)&S},O=new qc(25e3),N=new yr(288),Q=new yr(32),M=0,U=0,P=(m=0,0),I=0,z=0;m<d;++m){var j=L(m),$=32767&m,B=w[j];if(x[$]=B,w[j]=$,I<=m){var D=d-m;if((M>7e3||P>24576)&&D>423){g=y2(s,p,0,O,N,Q,U,P,z,m-z,g),P=M=U=0,z=m;for(var q=0;q<286;++q)N[q]=0;for(q=0;q<30;++q)Q[q]=0}var ne=2,V=0,ce=b,Z=$-B&32767;if(D>2&&j==L(m-Z))for(var de=Math.min(y,D)-1,we=Math.min(32767,m),Ee=Math.min(258,D);Z<=we&&--ce&&$!=B;){if(s[m+ne]==s[m+ne-Z]){for(var pe=0;pe<Ee&&s[m+pe]==s[m+pe-Z];++pe);if(pe>ne){if(ne=pe,V=Z,pe>de)break;var Ae=Math.min(Z,pe-2),qe=0;for(q=0;q<Ae;++q){var Le=m-Z+q+32768&32767,Ie=Le-x[Le]+32768&32767;Ie>qe&&(qe=Ie,B=Le)}}}Z+=($=B)-(B=x[$])+32768&32767}if(V){O[P++]=268435456|zA[ne]<<18|m2[V];var _e=31&zA[ne],Ue=31&m2[V];U+=Vb[_e]+Lb[Ue],++N[257+_e],++Q[Ue],I=m+ne,++M}else O[P++]=s[m],++N[s[m]]}}g=y2(s,p,u,O,N,Q,U,P,z,m-z,g),u||(g=Up(p,g,CF))}return WM(h,0,l+GM(g)+c)}(e,t.level==null?6:t.level,t.mem==null?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):12+t.mem,n,r,!i)},Hv=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8};function PF(e,t){t===void 0&&(t={});var n=function(){var a=4294967295;return{p:function(l){for(var c=a,u=0;u<l.length;++u)c=TF[255&c^l[u]]^c>>>8;a=c},d:function(){return 4294967295^a}}}(),r=e.length;n.p(e);var i,s=IF(e,t,10+((i=t).filename&&i.filename.length+1||0),8),o=s.length;return function(a,l){var c=l.filename;if(a[0]=31,a[1]=139,a[2]=8,a[8]=l.level<2?4:l.level==9?2:0,a[9]=3,l.mtime!=0&&Hv(a,4,Math.floor(new Date(l.mtime||Date.now())/1e3)),c){a[3]=8;for(var u=0;u<=c.length;++u)a[u+10]=c.charCodeAt(u)}}(s,t),Hv(s,o-8,n.d()),Hv(s,o-4,r),s}var RF=!!kb||!!Eb,A2="text/plain",Cg=function(e,t){var n=gr(e.split("?"),2),r=n[0],i=n[1],s=Ce({},t);i==null||i.split("&").forEach(function(a){var l=gr(a.split("="),1)[0];delete s[l]});var o=DB(s);return o=o?(i?i+"&":"")+o:i,"".concat(r,"?").concat(o)},MF=function(e){return"data="+encodeURIComponent(typeof e=="string"?e:JSON.stringify(e))},Nb=function(e){var t=e.data,n=e.compression;if(t){if(n===Yi.GZipJS){var r=PF(function(s,o){var a=s.length;if(!o&&typeof TextEncoder<"u")return new TextEncoder().encode(s);for(var l=new Kr(s.length+(s.length>>>1)),c=0,u=function(g){l[c++]=g},d=0;d<a;++d){if(c+5>l.length){var h=new Kr(c+8+(a-d<<1));h.set(l),l=h}var p=s.charCodeAt(d);p<128||o?u(p):p<2048?(u(192|p>>>6),u(128|63&p)):p>55295&&p<57344?(u(240|(p=65536+(1047552&p)|1023&s.charCodeAt(++d))>>>18),u(128|p>>>12&63),u(128|p>>>6&63),u(128|63&p)):(u(224|p>>>12),u(128|p>>>6&63),u(128|63&p))}return WM(l,0,c)}(JSON.stringify(t)),{mtime:0});return{contentType:A2,body:new Blob([r],{type:A2})}}if(n===Yi.Base64){var i=function(s){var o,a,l,c,u,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",h=0,p=0,g="",m=[];if(!s)return s;s=EB(s);do o=(u=s.charCodeAt(h++)<<16|s.charCodeAt(h++)<<8|s.charCodeAt(h++))>>18&63,a=u>>12&63,l=u>>6&63,c=63&u,m[p++]=d.charAt(o)+d.charAt(a)+d.charAt(l)+d.charAt(c);while(h<s.length);switch(g=m.join(""),s.length%3){case 1:g=g.slice(0,-2)+"==";break;case 2:g=g.slice(0,-1)+"="}return g}(JSON.stringify(t));return{contentType:"application/x-www-form-urlencoded",body:MF(i)}}return{contentType:"application/json",body:JSON.stringify(t)}}},jF=function(e){var t,n=new kb;n.open(e.method||"GET",e.url,!0);var r=(t=Nb(e))!==null&&t!==void 0?t:{},i=r.contentType,s=r.body;Tt(e.headers,function(o,a){n.setRequestHeader(a,o)}),i&&n.setRequestHeader("Content-Type",i),e.timeout&&(n.timeout=e.timeout),n.withCredentials=!0,n.onreadystatechange=function(){if(n.readyState===4){var o,a={statusCode:n.status,text:n.responseText};if(n.status===200)try{a.json=JSON.parse(n.responseText)}catch{}(o=e.callback)===null||o===void 0||o.call(e,a)}},n.send(s)},OF=function(e){var t,n,r=(t=Nb(e))!==null&&t!==void 0?t:{},i=r.contentType,s=r.body,o=new Headers;Tt(o,function(u,d){o.append(d,u)}),i&&o.append("Content-Type",i);var a=e.url,l=null;if(qE){var c=new qE;l={signal:c.signal,timeout:setTimeout(function(){return c.abort()},e.timeout)}}Eb(a,{method:(e==null?void 0:e.method)||"GET",headers:o,keepalive:e.method==="POST",body:s,signal:(n=l)===null||n===void 0?void 0:n.signal}).then(function(u){return u.text().then(function(d){var h,p={statusCode:u.status,text:d};if(u.status===200)try{p.json=JSON.parse(d)}catch(g){me.error(g)}(h=e.callback)===null||h===void 0||h.call(e,p)})}).catch(function(u){var d;me.error(u),(d=e.callback)===null||d===void 0||d.call(e,{statusCode:0,text:u})}).finally(function(){return l?clearTimeout(l.timeout):null})},VF=function(e){var t=Cg(e.url,{beacon:"1"});try{var n,r=(n=Nb(e))!==null&&n!==void 0?n:{},i=r.contentType,s=r.body,o=typeof s=="string"?new Blob([s],{type:i}):s;tf.sendBeacon(t,o)}catch{}},LF=function(e){var t;if(Se){var n=Se.createElement("script");n.type="text/javascript",n.async=!0,n.defer=!0,n.src=e.url;var r=Se.getElementsByTagName("script")[0];(t=r.parentNode)===null||t===void 0||t.insertBefore(n,r)}},NF=["retriesPerformedSoFar"],Fa,$F=function(){function e(t){var n=this;Vt(this,e),ie(this,"isPolling",!1),ie(this,"pollIntervalMs",3e3),ie(this,"queue",[]),this.instance=t,this.queue=[],this.areWeOnline=!0,!Fe(X)&&"onLine"in X.navigator&&(this.areWeOnline=X.navigator.onLine,X.addEventListener("online",function(){n.areWeOnline=!0,n.flush()}),X.addEventListener("offline",function(){n.areWeOnline=!1}))}return Lt(e,[{key:"retriableRequest",value:function(t){var n=this,r=t.retriesPerformedSoFar,i=_B(t,NF);Gi(r)&&r>0&&(i.url=Cg(i.url,{retry_count:r})),this.instance._send_request(Ce(Ce({},i),{},{callback:function(s){var o;s.statusCode!==200&&(s.statusCode<400||s.statusCode>=500)&&(r??0)<10?n.enqueue(Ce({},i)):(o=i.callback)===null||o===void 0||o.call(i,s)}}))}},{key:"enqueue",value:function(t){var n=t.retriesPerformedSoFar||0;t.retriesPerformedSoFar=n+1;var r=function(o){var a=3e3*Math.pow(2,o),l=a/2,c=Math.min(18e5,a),u=(Math.random()-.5)*(c-l);return Math.ceil(c+u)}(n),i=Date.now()+r;this.queue.push({retryAt:i,requestOptions:t});var s="Enqueued failed request for retry in ".concat(r);navigator.onLine||(s+=" (Browser is offline)"),me.warn(s),this.isPolling||(this.isPolling=!0,this.poll())}},{key:"poll",value:function(){var t=this;this.poller&&clearTimeout(this.poller),this.poller=setTimeout(function(){t.areWeOnline&&t.queue.length>0&&t.flush(),t.poll()},this.pollIntervalMs)}},{key:"flush",value:function(){var t=Date.now(),n=[],r=this.queue.filter(function(a){return a.retryAt<t||(n.push(a),!1)});if(this.queue=n,r.length>0){var i,s=os(r);try{for(s.s();!(i=s.n()).done;){var o=i.value.requestOptions;this.retriableRequest(o)}}catch(a){s.e(a)}finally{s.f()}}}},{key:"unload",value:function(){this.poller&&(clearTimeout(this.poller),this.poller=void 0);var t,n=os(this.queue);try{for(n.s();!(t=n.n()).done;){var r=t.value.requestOptions;try{this.instance._send_request(Ce(Ce({},r),{},{transport:"sendBeacon"}))}catch(i){me.error(i)}}}catch(i){n.e(i)}finally{n.f()}this.queue=[]}}]),e}(),Lh=1800,DF=function(){function e(t,n,r,i){Vt(this,e),ie(this,"_sessionIdChangedHandlers",[]),this.config=t,this.persistence=n,this._windowId=void 0,this._sessionId=void 0,this._sessionStartTimestamp=null,this._sessionActivityTimestamp=null,this._sessionIdGenerator=r||Uo,this._windowIdGenerator=i||Uo;var s=t.persistence_name||t.token,o=t.session_idle_timeout_seconds||Lh;if(Gi(o)?o>Lh?me.warn("session_idle_timeout_seconds cannot be  greater than 30 minutes. Using 30 minutes instead."):o<60&&me.warn("session_idle_timeout_seconds cannot be less than 60 seconds. Using 60 seconds instead."):(me.warn("session_idle_timeout_seconds must be a number. Defaulting to 30 minutes."),o=Lh),this._sessionTimeoutMs=1e3*Math.min(Math.max(o,60),Lh),this._window_id_storage_key="ph_"+s+"_window_id",this._primary_window_exists_storage_key="ph_"+s+"_primary_window_exists",this._canUseSessionStorage()){var a=Wn.parse(this._window_id_storage_key),l=Wn.parse(this._primary_window_exists_storage_key);a&&!l?this._windowId=a:Wn.remove(this._window_id_storage_key),Wn.set(this._primary_window_exists_storage_key,!0)}this._listenToReloadWindow()}return Lt(e,[{key:"onSessionId",value:function(t){var n=this;return Fe(this._sessionIdChangedHandlers)&&(this._sessionIdChangedHandlers=[]),this._sessionIdChangedHandlers.push(t),this._sessionId&&t(this._sessionId,this._windowId),function(){n._sessionIdChangedHandlers=n._sessionIdChangedHandlers.filter(function(r){return r!==t})}}},{key:"_canUseSessionStorage",value:function(){return this.config.persistence!=="memory"&&!this.persistence.disabled&&Wn.is_supported()}},{key:"_setWindowId",value:function(t){t!==this._windowId&&(this._windowId=t,this._canUseSessionStorage()&&Wn.set(this._window_id_storage_key,t))}},{key:"_getWindowId",value:function(){return this._windowId?this._windowId:this._canUseSessionStorage()?Wn.parse(this._window_id_storage_key):null}},{key:"_setSessionId",value:function(t,n,r){t===this._sessionId&&n===this._sessionActivityTimestamp&&r===this._sessionStartTimestamp||(this._sessionStartTimestamp=r,this._sessionActivityTimestamp=n,this._sessionId=t,this.persistence.register(ie({},Ag,[n,t,r])))}},{key:"_getSessionId",value:function(){if(this._sessionId&&this._sessionActivityTimestamp&&this._sessionStartTimestamp)return[this._sessionActivityTimestamp,this._sessionId,this._sessionStartTimestamp];var t=this.persistence.props[Ag];return Mn(t)&&t.length===2&&t.push(t[0]),t||[0,null,0]}},{key:"resetSessionId",value:function(){this._setSessionId(null,null,null)}},{key:"_listenToReloadWindow",value:function(){var t=this;X==null||X.addEventListener("beforeunload",function(){t._canUseSessionStorage()&&Wn.remove(t._primary_window_exists_storage_key)})}},{key:"checkAndGetSessionAndWindowId",value:function(){var t=arguments.length>0&&arguments[0]!==void 0&&arguments[0],n=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:null)||new Date().getTime(),r=gr(this._getSessionId(),3),i=r[0],s=r[1],o=r[2],a=this._getWindowId(),l=o&&o>0&&Math.abs(n-o)>864e5,c=!1,u=!s,d=!t&&Math.abs(n-i)>this._sessionTimeoutMs;u||d||l?(s=this._sessionIdGenerator(),a=this._windowIdGenerator(),me.info("[SessionId] new session ID generated",{sessionId:s,windowId:a,changeReason:{noSessionId:u,activityTimeout:d,sessionPastMaximumLength:l}}),o=n,c=!0):a||(a=this._windowIdGenerator(),c=!0);var h=i===0||!t||l?n:i,p=o===0?new Date().getTime():o;return this._setWindowId(a),this._setSessionId(s,h,p),c&&this._sessionIdChangedHandlers.forEach(function(g){return g(s,a)}),{sessionId:s,windowId:a,sessionStartTimestamp:p}}}]),e}();(function(e){e.US="us",e.EU="eu",e.CUSTOM="custom"})(Fa||(Fa={}));var _2="i.posthog.com",BF=function(){function e(t){Vt(this,e),ie(this,"_regionCache",{}),this.instance=t}return Lt(e,[{key:"apiHost",get:function(){return this.instance.config.api_host.trim().replace(/\/$/,"")}},{key:"uiHost",get:function(){var t;return(t=this.instance.config.ui_host)===null||t===void 0?void 0:t.replace(/\/$/,"")}},{key:"region",get:function(){return this._regionCache[this.apiHost]||(/https:\/\/(app|us|us-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this._regionCache[this.apiHost]=Fa.US:/https:\/\/(eu|eu-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this._regionCache[this.apiHost]=Fa.EU:this._regionCache[this.apiHost]=Fa.CUSTOM),this._regionCache[this.apiHost]}},{key:"endpointFor",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(n&&(n=n[0]==="/"?n:"/".concat(n)),t==="ui")return(this.uiHost||this.apiHost.replace(".".concat(_2),".posthog.com"))+n;if(this.region===Fa.CUSTOM)return this.apiHost+n;var r=_2+n;switch(t){case"assets":return"https://".concat(this.region,"-assets.").concat(r);case"api":return"https://".concat(this.region,".").concat(r)}}}]),e}(),FF=Lt(function e(t,n,r,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:["error"];Vt(this,e),this.name="posthog-js",this.setupOnce=function(o){o(function(a){var l,c,u,d,h;if(!(s==="*"||s.includes(a.level))||!t.__loaded)return a;a.tags||(a.tags={});var p=t.requestRouter.endpointFor("ui","/project/".concat(t.config.token,"/person/").concat(t.get_distinct_id()));a.tags["PostHog Person URL"]=p,t.sessionRecordingStarted()&&(a.tags["PostHog Recording URL"]=t.get_session_replay_url({withTimestamp:!0}));var g=((l=a.exception)===null||l===void 0?void 0:l.values)||[],m={$exception_message:((c=g[0])===null||c===void 0?void 0:c.value)||a.message,$exception_type:(u=g[0])===null||u===void 0?void 0:u.type,$exception_personURL:p,$sentry_event_id:a.event_id,$sentry_exception:a.exception,$sentry_exception_message:((d=g[0])===null||d===void 0?void 0:d.value)||a.message,$sentry_exception_type:(h=g[0])===null||h===void 0?void 0:h.type,$sentry_tags:a.tags,$level:a.level};return n&&r&&(m.$sentry_url=(i||"https://sentry.io/organizations/")+n+"/issues/?project="+r+"&query="+a.event_id),t.capture("$exception",m),a})}});function zF(e,t){var n=e.config.segment;if(!n)return t();(function(r,i){var s=r.config.segment;if(!s)return i();var o=function(l){var c=function(){return l.anonymousId()||Uo()};r.config.get_device_id=c,l.id()&&(r.register({distinct_id:l.id(),$device_id:c()}),r.persistence.set_property(Gs,"identified")),i()},a=s.user();"then"in a&&es(a.then)?a.then(function(l){return o(l)}):o(a)})(e,function(){n.register(function(r){Promise&&Promise.resolve||me.warn("This browser does not have Promise support, and can not use the segment integration");var i=function(s,o){var a;if(!o)return s;s.event.userId||s.event.anonymousId===r.get_distinct_id()||r.reset(),s.event.userId&&s.event.userId!==r.get_distinct_id()&&(r.register({distinct_id:s.event.userId}),r.reloadFeatureFlags());var l=r._calculate_event_properties(o,(a=s.event.properties)!==null&&a!==void 0?a:{});return s.event.properties=Object.assign({},l,s.event.properties),s};return{name:"PostHog JS",type:"enrichment",version:"1.0.0",isLoaded:function(){return!0},load:function(){return Promise.resolve()},track:function(s){return i(s,s.event.event)},page:function(s){return i(s,"$pageview")},identify:function(s){return i(s,"$identify")},screen:function(s){return i(s,"$screen")}}}(e)).then(function(){t()})})}var UF=function(){function e(t){Vt(this,e),this._instance=t}return Lt(e,[{key:"doPageView",value:function(){var t,n=this._previousScrollProperties();return this._currentPath=(t=X==null?void 0:X.location.pathname)!==null&&t!==void 0?t:"",this._instance.scrollManager.resetContext(),n}},{key:"doPageLeave",value:function(){return this._previousScrollProperties()}},{key:"_previousScrollProperties",value:function(){var t=this._currentPath,n=this._instance.scrollManager.getContext();if(!t||!n)return{};var r=n.maxScrollHeight,i=n.lastScrollY,s=n.maxScrollY,o=n.maxContentHeight,a=n.lastContentY,l=n.maxContentY;return Fe(r)||Fe(i)||Fe(s)||Fe(o)||Fe(a)||Fe(l)?{}:(r=Math.ceil(r),i=Math.ceil(i),s=Math.ceil(s),o=Math.ceil(o),a=Math.ceil(a),l=Math.ceil(l),{$prev_pageview_pathname:t,$prev_pageview_last_scroll:i,$prev_pageview_last_scroll_percentage:r<=1?1:Nh(i/r,0,1),$prev_pageview_max_scroll:s,$prev_pageview_max_scroll_percentage:r<=1?1:Nh(s/r,0,1),$prev_pageview_last_content:a,$prev_pageview_last_content_percentage:o<=1?1:Nh(a/o,0,1),$prev_pageview_max_content:l,$prev_pageview_max_content_percentage:o<=1?1:Nh(l/o,0,1)})}}]),e}();function Nh(e,t,n){return Math.max(t,Math.min(e,n))}var HF={icontains:function(e){return!!X&&X.location.href.toLowerCase().indexOf(e.toLowerCase())>-1},regex:function(e){return!!X&&$B(X.location.href,e)},exact:function(e){return(X==null?void 0:X.location.href)===e}},qF=function(){function e(t){Vt(this,e),this.instance=t}return Lt(e,[{key:"afterDecideResponse",value:function(t){this._decideServerResponse=!!t.surveys,this.loadIfEnabled()}},{key:"loadIfEnabled",value:function(){var t=this,n=Fr==null?void 0:Fr.extendPostHogWithSurveys;this.instance.config.disable_surveys||!this._decideServerResponse||n||nf(this.instance.requestRouter.endpointFor("assets","/static/surveys.js"),function(r){if(r)return me.error("Could not load surveys script",r);Fr.extendPostHogWithSurveys(t.instance)})}},{key:"getSurveys",value:function(t){var n=this,r=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(this.instance.config.disable_surveys)return t([]);var i=this.instance.get_property(RA);if(i&&!r)return t(i);this.instance._send_request({url:this.instance.requestRouter.endpointFor("api","/api/surveys/?token=".concat(this.instance.config.token)),method:"GET",transport:"XHR",callback:function(s){var o;if(s.statusCode!==200||!s.json)return t([]);var a=s.json.surveys||[];return(o=n.instance.persistence)===null||o===void 0||o.register(ie({},RA,a)),t(a)}})}},{key:"getActiveMatchingSurveys",value:function(t){var n=this,r=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.getSurveys(function(i){var s=i.filter(function(o){return!(!o.start_date||o.end_date)}).filter(function(o){var a,l,c,u;if(!o.conditions)return!0;var d=(a=o.conditions)===null||a===void 0||!a.url||HF[(l=(c=o.conditions)===null||c===void 0?void 0:c.urlMatchType)!==null&&l!==void 0?l:"icontains"](o.conditions.url),h=(u=o.conditions)===null||u===void 0||!u.selector||(Se==null?void 0:Se.querySelector(o.conditions.selector));return d&&h}).filter(function(o){if(!o.linked_flag_key&&!o.targeting_flag_key)return!0;var a=!o.linked_flag_key||n.instance.featureFlags.isFeatureEnabled(o.linked_flag_key),l=!o.targeting_flag_key||n.instance.featureFlags.isFeatureEnabled(o.targeting_flag_key);return a&&l});return t(s)},r)}}]),e}(),GF=function(){function e(t){var n,r,i=this;Vt(this,e),ie(this,"serverLimits",{}),ie(this,"lastEventRateLimited",!1),ie(this,"checkForLimiting",function(s){var o=s.text;if(o&&o.length)try{(JSON.parse(o).quota_limited||[]).forEach(function(a){me.info("[RateLimiter] ".concat(a||"events"," is quota limited.")),i.serverLimits[a]=new Date().getTime()+6e4})}catch(a){return void me.warn('[RateLimiter] could not rate limit - continuing. Error: "'.concat(a==null?void 0:a.message,'"'),{text:o})}}),this.instance=t,this.captureEventsPerSecond=((n=t.config.rate_limiting)===null||n===void 0?void 0:n.events_per_second)||10,this.captureEventsBurstLimit=Math.max(((r=t.config.rate_limiting)===null||r===void 0?void 0:r.events_burst_limit)||10*this.captureEventsPerSecond,this.captureEventsPerSecond),this.lastEventRateLimited=this.isCaptureClientSideRateLimited(!0)}return Lt(e,[{key:"isCaptureClientSideRateLimited",value:function(){var t,n,r,i=arguments.length>0&&arguments[0]!==void 0&&arguments[0],s=new Date().getTime(),o=(t=(n=this.instance.persistence)===null||n===void 0?void 0:n.get_property(jA))!==null&&t!==void 0?t:{tokens:this.captureEventsBurstLimit,last:s};o.tokens+=(s-o.last)/1e3*this.captureEventsPerSecond,o.last=s,o.tokens>this.captureEventsBurstLimit&&(o.tokens=this.captureEventsBurstLimit);var a=o.tokens<1;return a||i||(o.tokens=Math.max(0,o.tokens-1)),!a||this.lastEventRateLimited||i||this.instance.capture("$$client_ingestion_warning",{$$client_ingestion_warning_message:"posthog-js client rate limited. Config is set to ".concat(this.captureEventsPerSecond," events per second and ").concat(this.captureEventsBurstLimit," events burst limit.")},{skip_client_rate_limiting:!0}),this.lastEventRateLimited=a,(r=this.instance.persistence)===null||r===void 0||r.set_property(jA,o),a}},{key:"isServerRateLimited",value:function(t){var n=this.serverLimits[t||"events"]||!1;return n!==!1&&new Date().getTime()<n}}]),e}(),WF=function(){return Ce({initialPathName:(gi==null?void 0:gi.pathname)||"",referringDomain:$n.referringDomain()},$n.campaignParams())},YF=function(){function e(t,n,r){var i=this;Vt(this,e),ie(this,"_onSessionIdCallback",function(s){var o=i._getStoredProps();if(!o||o.sessionId!==s){var a={sessionId:s,props:i._sessionSourceParamGenerator()};i._persistence.register(ie({},MA,a))}}),this._sessionIdManager=t,this._persistence=n,this._sessionSourceParamGenerator=r||WF,this._sessionIdManager.onSessionId(this._onSessionIdCallback)}return Lt(e,[{key:"_getStoredProps",value:function(){return this._persistence.props[MA]}},{key:"getSessionProps",value:function(){var t,n=(t=this._getStoredProps())===null||t===void 0?void 0:t.props;return n?{$client_session_initial_referring_host:n.referringDomain,$client_session_initial_pathname:n.initialPathName,$client_session_initial_utm_source:n.utm_source,$client_session_initial_utm_campaign:n.utm_campaign,$client_session_initial_utm_medium:n.utm_medium,$client_session_initial_utm_content:n.utm_content,$client_session_initial_utm_term:n.utm_term}:{}}}]),e}(),KF=["ahrefsbot","ahrefssiteaudit","applebot","baiduspider","bingbot","bingpreview","bot.htm","bot.php","crawler","deepscan","duckduckbot","facebookexternal","facebookcatalog","gptbot","http://yandex.com/bots","hubspot","ia_archiver","linkedinbot","mj12bot","msnbot","nessus","petalbot","pinterest","prerender","rogerbot","screaming frog","semrushbot","sitebulb","slurp","turnitin","twitterbot","vercelbot","yahoo! slurp","yandexbot","adsbot-google","apis-google","duplexweb-google","feedfetcher-google","google favicon","google web preview","google-read-aloud","googlebot","googleweblight","mediapartners-google","storebot-google","Bytespider;"],b2=function(e,t){if(!e)return!1;var n=e.toLowerCase();return KF.concat(t||[]).some(function(r){var i=r.toLowerCase();return n.indexOf(i)!==-1})},YM=function(){function e(){Vt(this,e),this.clicks=[]}return Lt(e,[{key:"isRageClick",value:function(t,n,r){var i=this.clicks[this.clicks.length-1];if(i&&Math.abs(t-i.x)+Math.abs(n-i.y)<30&&r-i.timestamp<1e3){if(this.clicks.push({x:t,y:n,timestamp:r}),this.clicks.length===3)return!0}else this.clicks=[{x:t,y:n,timestamp:r}];return!1}}]),e}(),x2="__POSTHOG_TOOLBAR__";function S2(e){var t;return e.id===x2||!((t=e.closest)===null||t===void 0||!t.call(e,"#"+x2))}var QF=function(){function e(t){var n;Vt(this,e),ie(this,"rageclicks",new YM),ie(this,"_enabledServerSide",!1),ie(this,"_initialized",!1),this.instance=t,this._enabledServerSide=!((n=this.instance.persistence)===null||n===void 0||!n.props[TA])}return Lt(e,[{key:"startIfEnabled",value:function(){this.isEnabled&&!this._initialized&&this._setupListeners()}},{key:"isEnabled",get:function(){return Fe(this.instance.config.enable_heatmaps)?this._enabledServerSide:this.instance.config.enable_heatmaps}},{key:"afterDecideResponse",value:function(t){var n=!!t.heatmaps;this.instance.persistence&&this.instance.persistence.register(ie({},TA,n)),this._enabledServerSide=n,this.startIfEnabled()}},{key:"getAndClearBuffer",value:function(){var t=this.buffer;return this.buffer=void 0,t}},{key:"_setupListeners",value:function(){var t=this;X&&Se&&(Js(Se,"click",function(n){return t._onClick(n||(X==null?void 0:X.event))},!1,!0),Js(Se,"mousemove",function(n){return t._onMouseMove(n||(X==null?void 0:X.event))},!1,!0),this._initialized=!0)}},{key:"_getProperties",value:function(t,n){var r=this.instance.scrollManager.scrollY(),i=this.instance.scrollManager.scrollX(),s=this.instance.scrollManager.scrollElement(),o=function(a,l,c){for(var u=a;u&&!Qo(u,"body");){if(u===c)return!1;if(ot(l,X==null?void 0:X.getComputedStyle(u).position))return!0;u=OM(u)}return!1}(t.target,["fixed","sticky"],s);return{x:t.clientX+(o?0:i),y:t.clientY+(o?0:r),target_fixed:o,type:n}}},{key:"_onClick",value:function(t){var n;if(!S2(t.target)){var r=this._getProperties(t,"click");(n=this.rageclicks)!==null&&n!==void 0&&n.isRageClick(t.clientX,t.clientY,new Date().getTime())&&this._capture(Ce(Ce({},r),{},{type:"rageclick"})),this._capture(r)}}},{key:"_onMouseMove",value:function(t){var n=this;S2(t.target)||(clearTimeout(this._mouseMoveTimeout),this._mouseMoveTimeout=setTimeout(function(){n._capture(n._getProperties(t,"mousemove"))},500))}},{key:"_capture",value:function(t){if(X){var n=X.location.href;this.buffer=this.buffer||{},this.buffer[n]||(this.buffer[n]=[]),this.buffer[n].push(t)}}}]),e}(),JF=function(){function e(t){var n=this;Vt(this,e),ie(this,"_updateScrollData",function(){var r,i,s,o;n.context||(n.context={});var a=n.scrollElement(),l=n.scrollY(),c=a?Math.max(0,a.scrollHeight-a.clientHeight):0,u=l+((a==null?void 0:a.clientHeight)||0),d=(a==null?void 0:a.scrollHeight)||0;n.context.lastScrollY=Math.ceil(l),n.context.maxScrollY=Math.max(l,(r=n.context.maxScrollY)!==null&&r!==void 0?r:0),n.context.maxScrollHeight=Math.max(c,(i=n.context.maxScrollHeight)!==null&&i!==void 0?i:0),n.context.lastContentY=u,n.context.maxContentY=Math.max(u,(s=n.context.maxContentY)!==null&&s!==void 0?s:0),n.context.maxContentHeight=Math.max(d,(o=n.context.maxContentHeight)!==null&&o!==void 0?o:0)}),this.instance=t}return Lt(e,[{key:"getContext",value:function(){return this.context}},{key:"resetContext",value:function(){var t=this.context;return setTimeout(this._updateScrollData,0),t}},{key:"startMeasuringScrollPosition",value:function(){X==null||X.addEventListener("scroll",this._updateScrollData,!0),X==null||X.addEventListener("scrollend",this._updateScrollData,!0),X==null||X.addEventListener("resize",this._updateScrollData)}},{key:"scrollElement",value:function(){if(!this.instance.config.scroll_root_selector)return X==null?void 0:X.document.documentElement;var t,n=os(Mn(this.instance.config.scroll_root_selector)?this.instance.config.scroll_root_selector:[this.instance.config.scroll_root_selector]);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=X==null?void 0:X.document.querySelector(r);if(i)return i}}catch(s){n.e(s)}finally{n.f()}}},{key:"scrollY",value:function(){if(this.instance.config.scroll_root_selector){var t=this.scrollElement();return t&&t.scrollTop||0}return X&&(X.scrollY||X.pageYOffset||X.document.documentElement.scrollTop)||0}},{key:"scrollX",value:function(){if(this.instance.config.scroll_root_selector){var t=this.scrollElement();return t&&t.scrollLeft||0}return X&&(X.scrollX||X.pageXOffset||X.document.documentElement.scrollLeft)||0}}]),e}(),XF=function(){function e(){Vt(this,e),ie(this,"events",{}),this.events={}}return Lt(e,[{key:"on",value:function(t,n){var r=this;return this.events[t]||(this.events[t]=[]),this.events[t].push(n),function(){r.events[t]=r.events[t].filter(function(i){return i!==n})}}},{key:"emit",value:function(t,n){var r,i=os(this.events[t]||[]);try{for(i.s();!(r=i.n()).done;)(0,r.value)(n)}catch(a){i.e(a)}finally{i.f()}var s,o=os(this.events["*"]||[]);try{for(o.s();!(s=o.n()).done;)(0,s.value)(t,n)}catch(a){o.e(a)}finally{o.f()}}}]),e}(),qv="$copy_autocapture";function Gv(e,t){return t.length>e?t.slice(0,e)+"...":t}var ZF=function(){function e(t){Vt(this,e),ie(this,"_initialized",!1),ie(this,"_isDisabledServerSide",null),ie(this,"rageclicks",new YM),ie(this,"_elementsChainAsString",!1),this.instance=t}return Lt(e,[{key:"config",get:function(){var t,n=ks(this.instance.config.autocapture)?this.instance.config.autocapture:{};return n.url_allowlist=(t=n.url_allowlist)===null||t===void 0?void 0:t.map(function(r){return new RegExp(r)}),n}},{key:"_addDomEventHandlers",value:function(){var t=this;if(this.isBrowserSupported()){if(X&&Se){var n=function(i){i=i||(X==null?void 0:X.event);try{t._captureEvent(i)}catch(s){me.error("Failed to capture event",s)}},r=function(i){i=i||(X==null?void 0:X.event),t._captureEvent(i,qv)};Js(Se,"submit",n,!1,!0),Js(Se,"change",n,!1,!0),Js(Se,"click",n,!1,!0),this.config.capture_copied_text&&(Js(Se,"copy",r,!1,!0),Js(Se,"cut",r,!1,!0))}}else me.info("Disabling Automatic Event Collection because this browser is not supported")}},{key:"startIfEnabled",value:function(){this.isEnabled&&!this._initialized&&(this._addDomEventHandlers(),this._initialized=!0)}},{key:"afterDecideResponse",value:function(t){t.elementsChainAsString&&(this._elementsChainAsString=t.elementsChainAsString),this.instance.persistence&&this.instance.persistence.register(ie({},YE,!!t.autocapture_opt_out)),this._isDisabledServerSide=!!t.autocapture_opt_out,this.startIfEnabled()}},{key:"isEnabled",get:function(){var t,n,r=(t=this.instance.persistence)===null||t===void 0?void 0:t.props[YE],i=this._isDisabledServerSide;if(ts(i)&&!Bp(r)&&!this.instance.config.advanced_disable_decide)return!1;var s=(n=this._isDisabledServerSide)!==null&&n!==void 0?n:!!r;return!!this.instance.config.autocapture&&!s}},{key:"_previousElementSibling",value:function(t){if(t.previousElementSibling)return t.previousElementSibling;var n=t;do n=n.previousSibling;while(n&&!Mb(n));return n}},{key:"_getAugmentPropertiesFromElement",value:function(t){if(!BA(t))return{};var n={};return Tt(t.attributes,function(r){if(r.name&&r.name.indexOf("data-ph-capture-attribute")===0){var i=r.name.replace("data-ph-capture-attribute-",""),s=r.value;i&&s&&Cc(s)&&(n[i]=s)}}),n}},{key:"_getPropertiesFromElement",value:function(t,n,r){var i,s=t.tagName.toLowerCase(),o={tag_name:s};DA.indexOf(s)>-1&&!r&&(s.toLowerCase()==="a"||s.toLowerCase()==="button"?o.$el_text=Gv(1024,c2(t)):o.$el_text=Gv(1024,Eg(t)));var a=wg(t);a.length>0&&(o.classes=a.filter(function(h){return h!==""}));var l=(i=this.config)===null||i===void 0?void 0:i.element_attribute_ignorelist;Tt(t.attributes,function(h){var p;if((!VM(t)||["name","id","class","aria-label"].indexOf(h.name)!==-1)&&(l==null||!l.includes(h.name))&&!n&&Cc(h.value)&&(p=h.name,!or(p)||p.substring(0,10)!=="_ngcontent"&&p.substring(0,7)!=="_nghost")){var g=h.value;h.name==="class"&&(g=Rb(g).join(" ")),o["attr__"+h.name]=Gv(1024,g)}});for(var c=1,u=1,d=t;d=this._previousElementSibling(d);)c++,d.tagName===t.tagName&&u++;return o.nth_child=c,o.nth_of_type=u,o}},{key:"_getDefaultProperties",value:function(t){return{$event_type:t,$ce_version:1}}},{key:"_getEventTarget",value:function(t){return Fe(t.target)?t.srcElement||null:(n=t.target)!==null&&n!==void 0&&n.shadowRoot?t.composedPath()[0]||null:t.target||null;var n}},{key:"_captureEvent",value:function(t){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"$autocapture";if(this.isEnabled){var i,s=this._getEventTarget(t);MM(s)&&(s=s.parentNode||null),r==="$autocapture"&&t.type==="click"&&t instanceof MouseEvent&&this.instance.config.rageclick&&(i=this.rageclicks)!==null&&i!==void 0&&i.isRageClick(t.clientX,t.clientY,new Date().getTime())&&this._captureEvent(t,"$rageclick");var o=r===qv;if(s&&eF(s,t,this.config,o,o?["copy","cut"]:void 0)){for(var a,l,c=[s],u=s;u.parentNode&&!Qo(u,"body");)jM(u.parentNode)?(c.push(u.parentNode.host),u=u.parentNode.host):(c.push(u.parentNode),u=u.parentNode);var d,h=[],p={},g=!1;if(Tt(c,function(b){var S=BA(b);b.tagName.toLowerCase()==="a"&&(d=b.getAttribute("href"),d=S&&Cc(d)&&d),ot(wg(b),"ph-no-capture")&&(g=!0),h.push(n._getPropertiesFromElement(b,n.instance.config.mask_all_element_attributes,n.instance.config.mask_all_text));var x=n._getAugmentPropertiesFromElement(b);Nn(p,x)}),this.instance.config.mask_all_text||(s.tagName.toLowerCase()==="a"||s.tagName.toLowerCase()==="button"?h[0].$el_text=c2(s):h[0].$el_text=Eg(s)),d&&(h[0].attr__href=d),g)return!1;var m=Nn(this._getDefaultProperties(t.type),this._elementsChainAsString?{$elements_chain:sF(h)}:{$elements:h},(a=h[0])!==null&&a!==void 0&&a.$el_text?{$el_text:(l=h[0])===null||l===void 0?void 0:l.$el_text}:{},p);if(r===qv){var A,v=RM(X==null||(A=X.getSelection())===null||A===void 0?void 0:A.toString()),y=t.type||"clipboard";if(!v)return!1;m.$selected_content=v,m.$copy_type=y}return this.instance.capture(r,m),!0}}}},{key:"isBrowserSupported",value:function(){return es(Se==null?void 0:Se.querySelectorAll)}}]),e}(),Td={},w2=function(){},Jl="posthog",KM=!RF&&(cn==null?void 0:cn.indexOf("MSIE"))===-1&&(cn==null?void 0:cn.indexOf("Mozilla"))===-1,E2=function(){var e,t,n;return{api_host:"https://us.i.posthog.com",api_transport:"XHR",ui_host:null,token:"",autocapture:!0,rageclick:!0,cross_subdomain_cookie:(t=Se==null?void 0:Se.location,n=t==null?void 0:t.hostname,!!or(n)&&n.split(".").slice(-2).join(".")!=="herokuapp.com"),persistence:"localStorage+cookie",persistence_name:"",loaded:w2,store_google:!0,custom_campaign_params:[],custom_blocked_useragents:[],save_referrer:!0,capture_pageview:!0,capture_pageleave:!0,debug:gi&&or(gi==null?void 0:gi.search)&&gi.search.indexOf("__posthog_debug=true")!==-1||!1,verbose:!1,cookie_expiration:365,upgrade:!1,disable_session_recording:!1,disable_persistence:!1,disable_surveys:!1,enable_recording_console_log:void 0,secure_cookie:(X==null||(e=X.location)===null||e===void 0?void 0:e.protocol)==="https:",ip:!0,opt_out_capturing_by_default:!1,opt_out_persistence_by_default:!1,opt_out_useragent_filter:!1,opt_out_capturing_persistence_type:"localStorage",opt_out_capturing_cookie_prefix:null,opt_in_site_apps:!1,property_denylist:[],respect_dnt:!1,sanitize_properties:null,request_headers:{},inapp_protocol:"//",inapp_link_new_window:!1,request_batching:!0,properties_string_max_length:65535,session_recording:{},mask_all_element_attributes:!1,mask_all_text:!1,advanced_disable_decide:!1,advanced_disable_feature_flags:!1,advanced_disable_feature_flags_on_first_load:!1,advanced_disable_toolbar_metrics:!1,feature_flag_request_timeout_ms:3e3,on_request_error:function(r){var i="Bad HTTP status: "+r.statusCode+" "+r.text;me.error(i)},get_device_id:function(r){return r},_onCapture:w2,capture_performance:void 0,name:"posthog",bootstrap:{},disable_compression:!1,session_idle_timeout_seconds:1800,person_profiles:"always"}},k2=function(e){var t={};Fe(e.process_person)||(t.person_profiles=e.process_person),Fe(e.xhr_headers)||(t.request_headers=e.xhr_headers),Fe(e.cookie_name)||(t.persistence_name=e.cookie_name),Fe(e.disable_cookie)||(t.disable_persistence=e.disable_cookie);var n=Nn({},t,e);return Mn(e.property_blacklist)&&(Fe(e.property_denylist)?n.property_denylist=e.property_blacklist:Mn(e.property_denylist)?n.property_denylist=[].concat(Uc(e.property_blacklist),Uc(e.property_denylist)):me.error("Invalid value for property_denylist config: "+e.property_denylist)),n},e6=function(){function e(){Vt(this,e),ie(this,"__forceAllowLocalhost",!1)}return Lt(e,[{key:"_forceAllowLocalhost",get:function(){return this.__forceAllowLocalhost},set:function(t){me.error("WebPerformanceObserver is deprecated and has no impact on network capture. Use `_forceAllowLocalhostNetworkCapture` on `posthog.sessionRecording`"),this.__forceAllowLocalhost=t}}]),e}(),QM=function(){function e(){var t=this;Vt(this,e),ie(this,"webPerformance",new e6),ie(this,"_debugEventEmitter",new XF),this.config=E2(),this.decideEndpointWasHit=!1,this.SentryIntegration=FF,this.__request_queue=[],this.__loaded=!1,this.analyticsDefaultEndpoint="/e/",this.featureFlags=new CB(this),this.toolbar=new _F(this),this.scrollManager=new JF(this),this.pageViewManager=new UF(this),this.surveys=new qF(this),this.rateLimiter=new GF(this),this.requestRouter=new BF(this),this.people={set:function(n,r,i){var s=or(n)?ie({},n,r):n;t.setPersonProperties(s),i==null||i({})},set_once:function(n,r,i){var s=or(n)?ie({},n,r):n;t.setPersonProperties(void 0,s),i==null||i({})}},this.on("eventCaptured",function(n){return me.info("send",n)})}return Lt(e,[{key:"init",value:function(t,n,r){if(r&&r!==Jl){var i,s=(i=Td[r])!==null&&i!==void 0?i:new e;return s._init(t,n,r),Td[r]=s,Td[Jl][r]=s,s}return this._init(t,n,r)}},{key:"_init",value:function(t){var n,r,i=this,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=arguments.length>2?arguments[2]:void 0;if(Fe(t)||function(A){return or(A)&&A.trim().length===0}(t))return me.critical("PostHog was initialized without a token. This likely indicates a misconfiguration. Please check the first argument passed to posthog.init()"),this;if(this.__loaded)return me.warn("You have already initialized PostHog! Re-initializing is a no-op"),this;if(this.__loaded=!0,this.config={},this._triggered_notifs=[],this.set_config(Nn({},E2(),k2(s),{name:o,token:t})),this.compression=s.disable_compression?void 0:Yi.Base64,this.persistence=new Bv(this.config),this.sessionPersistence=this.config.persistence==="sessionStorage"?this.persistence:new Bv(Ce(Ce({},this.config),{},{persistence:"sessionStorage"})),this._requestQueue=new bF(function(A){return i._send_request(A)}),this._retryQueue=new $F(this),this.__request_queue=[],this.sessionManager=new DF(this.config,this.persistence),this.sessionPropsManager=new YF(this.sessionManager,this.persistence),this.sessionRecording=new vF(this),this.sessionRecording.startIfEnabledOrStop(),this.config.disable_scroll_properties||this.scrollManager.startMeasuringScrollPosition(),this.autocapture=new ZF(this),this.autocapture.startIfEnabled(),this.surveys.loadIfEnabled(),this.heatmaps=new QF(this),this.heatmaps.startIfEnabled(),Ba.DEBUG=Ba.DEBUG||this.config.debug,this._gdpr_init(),((n=s.bootstrap)===null||n===void 0?void 0:n.distinctID)!==void 0){var a,l,c=this.config.get_device_id(Uo()),u=(a=s.bootstrap)!==null&&a!==void 0&&a.isIdentifiedID?c:s.bootstrap.distinctID;this.persistence.set_property(Gs,(l=s.bootstrap)!==null&&l!==void 0&&l.isIdentifiedID?"identified":"anonymous"),this.register({distinct_id:s.bootstrap.distinctID,$device_id:u})}if(this._hasBootstrappedFeatureFlags()){var d,h,p=Object.keys(((d=s.bootstrap)===null||d===void 0?void 0:d.featureFlags)||{}).filter(function(A){var v,y;return!((v=s.bootstrap)===null||v===void 0||(y=v.featureFlags)===null||y===void 0||!y[A])}).reduce(function(A,v){var y,b;return A[v]=((y=s.bootstrap)===null||y===void 0||(b=y.featureFlags)===null||b===void 0?void 0:b[v])||!1,A},{}),g=Object.keys(((h=s.bootstrap)===null||h===void 0?void 0:h.featureFlagPayloads)||{}).filter(function(A){return p[A]}).reduce(function(A,v){var y,b,S,x;return(y=s.bootstrap)!==null&&y!==void 0&&(b=y.featureFlagPayloads)!==null&&b!==void 0&&b[v]&&(A[v]=(S=s.bootstrap)===null||S===void 0||(x=S.featureFlagPayloads)===null||x===void 0?void 0:x[v]),A},{});this.featureFlags.receivedFeatureFlags({featureFlags:p,featureFlagPayloads:g})}if(!this.get_distinct_id()){var m=this.config.get_device_id(Uo());this.register_once({distinct_id:m,$device_id:m},""),this.persistence.set_property(Gs,"anonymous")}return X==null||(r=X.addEventListener)===null||r===void 0||r.call(X,"onpagehide"in self?"pagehide":"unload",this._handle_unload.bind(this)),this.toolbar.maybeLoadToolbar(),s.segment?zF(this,function(){return i._loaded()}):this._loaded(),es(this.config._onCapture)&&this.on("eventCaptured",function(A){return i.config._onCapture(A.event,A)}),this}},{key:"_afterDecideResponse",value:function(t){var n,r,i,s,o;this.compression=void 0,t.supportedCompression&&!this.config.disable_compression&&(this.compression=ot(t.supportedCompression,Yi.GZipJS)?Yi.GZipJS:ot(t.supportedCompression,Yi.Base64)?Yi.Base64:void 0),(n=t.analytics)!==null&&n!==void 0&&n.endpoint&&(this.analyticsDefaultEndpoint=t.analytics.endpoint),(r=this.sessionRecording)===null||r===void 0||r.afterDecideResponse(t),(i=this.autocapture)===null||i===void 0||i.afterDecideResponse(t),(s=this.heatmaps)===null||s===void 0||s.afterDecideResponse(t),(o=this.surveys)===null||o===void 0||o.afterDecideResponse(t)}},{key:"_loaded",value:function(){var t=this,n=this.config.advanced_disable_decide;n||this.featureFlags.setReloadingPaused(!0);try{this.config.loaded(this)}catch(r){me.critical("`loaded` function failed",r)}this._start_queue_if_opted_in(),this.config.capture_pageview&&setTimeout(function(){Se&&t.capture("$pageview",{title:Se.title},{send_instantly:!0})},1),n||(new yF(this).call(),this.featureFlags.resetRequestQueue())}},{key:"_start_queue_if_opted_in",value:function(){var t;this.has_opted_out_capturing()||this.config.request_batching&&((t=this._requestQueue)===null||t===void 0||t.enable())}},{key:"_dom_loaded",value:function(){var t=this;this.has_opted_out_capturing()||wc(this.__request_queue,function(n){return t._send_retriable_request(n)}),this.__request_queue=[],this._start_queue_if_opted_in()}},{key:"_handle_unload",value:function(){var t,n;this.config.request_batching?(this.config.capture_pageview&&this.config.capture_pageleave&&this.capture("$pageleave"),(t=this._requestQueue)===null||t===void 0||t.unload(),(n=this._retryQueue)===null||n===void 0||n.unload()):this.config.capture_pageview&&this.config.capture_pageleave&&this.capture("$pageleave",null,{transport:"sendBeacon"})}},{key:"_send_request",value:function(t){var n=this;this.__loaded&&(KM?this.__request_queue.push(t):this.rateLimiter.isServerRateLimited(t.batchKey)||(t.transport=t.transport||this.config.api_transport,t.url=Cg(t.url,{ip:this.config.ip?1:0}),t.headers=this.config.request_headers,t.compression=t.compression==="best-available"?this.compression:t.compression,function(r){var i=Ce({},r);i.timeout=i.timeout||6e4,i.url=Cg(i.url,{_:new Date().getTime().toString(),ver:Ba.LIB_VERSION,compression:i.compression}),i.transport==="sendBeacon"&&tf!=null&&tf.sendBeacon?VF(i):i.transport==="fetch"&&Eb?OF(i):kb||!Se?jF(i):LF(i)}(Ce(Ce({},t),{},{callback:function(r){var i,s,o;n.rateLimiter.checkForLimiting(r),r.statusCode>=400&&((s=(o=n.config).on_request_error)===null||s===void 0||s.call(o,r)),(i=t.callback)===null||i===void 0||i.call(t,r)}}))))}},{key:"_send_retriable_request",value:function(t){this._retryQueue?this._retryQueue.retriableRequest(t):this._send_request(t)}},{key:"_execute_array",value:function(t){var n,r=this,i=[],s=[],o=[];wc(t,function(l){l&&(n=l[0],Mn(n)?o.push(l):es(l)?l.call(r):Mn(l)&&n==="alias"?i.push(l):Mn(l)&&n.indexOf("capture")!==-1&&es(r[n])?o.push(l):s.push(l))});var a=function(l,c){wc(l,function(u){if(Mn(u[0])){var d=c;Tt(u,function(h){d=d[h[0]].apply(d,h.slice(1))})}else this[u[0]].apply(this,u.slice(1))},c)};a(i,this),a(s,this),a(o,this)}},{key:"_hasBootstrappedFeatureFlags",value:function(){var t,n;return((t=this.config.bootstrap)===null||t===void 0?void 0:t.featureFlags)&&Object.keys((n=this.config.bootstrap)===null||n===void 0?void 0:n.featureFlags).length>0||!1}},{key:"push",value:function(t){this._execute_array([t])}},{key:"capture",value:function(t,n,r){var i;if(!(this.__loaded&&this.persistence&&this.sessionPersistence&&this._requestQueue))return me.uninitializedWarning("posthog.capture");if(!zM(this))if(r!=null&&r.skip_client_rate_limiting||!this.rateLimiter.isCaptureClientSideRateLimited())if(!Fe(t)&&or(t)){if(!cn||this.config.opt_out_useragent_filter||!b2(cn,this.config.custom_blocked_useragents)){this.sessionPersistence.update_search_keyword(),this.config.store_google&&(this.sessionPersistence.update_campaign_params(),this.persistence.set_initial_campaign_params()),this.config.save_referrer&&(this.sessionPersistence.update_referrer_info(),this.persistence.set_initial_referrer_info());var s={uuid:Uo(),event:t,properties:this._calculate_event_properties(t,n||{})};if(r==null||!r._noHeatmaps){var o,a=(o=this.heatmaps)===null||o===void 0?void 0:o.getAndClearBuffer();a&&(s.properties.$heatmap_data=a)}r!=null&&r.$set&&(s.$set=r==null?void 0:r.$set);var l=this._calculate_set_once_properties(r==null?void 0:r.$set_once);l&&(s.$set_once=l),(s=wB(s,r!=null&&r._noTruncate?null:this.config.properties_string_max_length)).timestamp=(r==null?void 0:r.timestamp)||new Date,Fe(r==null?void 0:r.timestamp)||(s.properties.$event_time_override_provided=!0,s.properties.$event_time_override_system_time=new Date);var c=Ce(Ce({},s.properties.$set),s.$set);Lv(c)||this.setPersonPropertiesForFlags(c),this._debugEventEmitter.emit("eventCaptured",s);var u={method:"POST",url:(i=r==null?void 0:r._url)!==null&&i!==void 0?i:this.requestRouter.endpointFor("api",this.analyticsDefaultEndpoint),data:s,compression:"best-available",batchKey:r==null?void 0:r._batchKey};return!this.config.request_batching||r&&(r==null||!r._batchKey)||r!=null&&r.send_instantly?this._send_retriable_request(u):this._requestQueue.enqueue(u),s}}else me.error("No event name provided to posthog.capture");else me.critical("This capture call is ignored due to client rate limiting.")}},{key:"_addCaptureHook",value:function(t){this.on("eventCaptured",function(n){return t(n.event)})}},{key:"_calculate_event_properties",value:function(t,n){if(!this.persistence||!this.sessionPersistence)return n;var r=this.persistence.remove_event_timer(t),i=Ce({},n);if(i.token=this.config.token,t==="$snapshot"){var s=Ce(Ce({},this.persistence.properties()),this.sessionPersistence.properties());return i.distinct_id=s.distinct_id,i}var o=$n.properties();if(this.sessionManager){var a=this.sessionManager.checkAndGetSessionAndWindowId(),l=a.sessionId,c=a.windowId;i.$session_id=l,i.$window_id=c}if(this.requestRouter.region===Fa.CUSTOM&&(i.$lib_custom_api_host=this.config.api_host),this.sessionPropsManager&&this.config.__preview_send_client_session_params&&(t==="$pageview"||t==="$pageleave"||t==="$autocapture")){var u=this.sessionPropsManager.getSessionProps();i=Nn(i,u)}if(!this.config.disable_scroll_properties){var d={};t==="$pageview"?d=this.pageViewManager.doPageView():t==="$pageleave"&&(d=this.pageViewManager.doPageLeave()),i=Nn(i,d)}if(t==="$pageview"&&Se&&(i.title=Se.title),!Fe(r)){var h=new Date().getTime()-r;i.$duration=parseFloat((h/1e3).toFixed(3))}cn&&this.config.opt_out_useragent_filter&&(i.$browser_type=b2(cn,this.config.custom_blocked_useragents)?"bot":"browser"),(i=Nn({},o,this.persistence.properties(),this.sessionPersistence.properties(),i)).$is_identified=this._isIdentified(),Mn(this.config.property_denylist)?Tt(this.config.property_denylist,function(g){delete i[g]}):me.error("Invalid value for property_denylist config: "+this.config.property_denylist+" or property_blacklist config: "+this.config.property_blacklist);var p=this.config.sanitize_properties;return p&&(i=p(i,t)),i.$process_person_profile=this._hasPersonProcessing(),i}},{key:"_calculate_set_once_properties",value:function(t){if(!this.persistence||!this._hasPersonProcessing())return t;var n=Nn({},this.persistence.get_initial_props(),t||{});return Lv(n)?void 0:n}},{key:"register",value:function(t,n){var r;(r=this.persistence)===null||r===void 0||r.register(t,n)}},{key:"register_once",value:function(t,n,r){var i;(i=this.persistence)===null||i===void 0||i.register_once(t,n,r)}},{key:"register_for_session",value:function(t){var n;(n=this.sessionPersistence)===null||n===void 0||n.register(t)}},{key:"unregister",value:function(t){var n;(n=this.persistence)===null||n===void 0||n.unregister(t)}},{key:"unregister_for_session",value:function(t){var n;(n=this.sessionPersistence)===null||n===void 0||n.unregister(t)}},{key:"_register_single",value:function(t,n){this.register(ie({},t,n))}},{key:"getFeatureFlag",value:function(t,n){return this.featureFlags.getFeatureFlag(t,n)}},{key:"getFeatureFlagPayload",value:function(t){var n=this.featureFlags.getFeatureFlagPayload(t);try{return JSON.parse(n)}catch{return n}}},{key:"isFeatureEnabled",value:function(t,n){return this.featureFlags.isFeatureEnabled(t,n)}},{key:"reloadFeatureFlags",value:function(){this.featureFlags.reloadFeatureFlags()}},{key:"updateEarlyAccessFeatureEnrollment",value:function(t,n){this.featureFlags.updateEarlyAccessFeatureEnrollment(t,n)}},{key:"getEarlyAccessFeatures",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return this.featureFlags.getEarlyAccessFeatures(t,n)}},{key:"on",value:function(t,n){return this._debugEventEmitter.on(t,n)}},{key:"onFeatureFlags",value:function(t){return this.featureFlags.onFeatureFlags(t)}},{key:"onSessionId",value:function(t){var n,r;return(n=(r=this.sessionManager)===null||r===void 0?void 0:r.onSessionId(t))!==null&&n!==void 0?n:function(){}}},{key:"getSurveys",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.surveys.getSurveys(t,n)}},{key:"getActiveMatchingSurveys",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.surveys.getActiveMatchingSurveys(t,n)}},{key:"identify",value:function(t,n,r){if(!this.__loaded||!this.persistence)return me.uninitializedWarning("posthog.identify");if(Gi(t)&&(t=t.toString(),me.warn("The first argument to posthog.identify was a number, but it should be a string. It has been converted to a string.")),t){if(["distinct_id","distinctid"].includes(t.toLowerCase()))me.critical('The string "'.concat(t,'" was set in posthog.identify which indicates an error. This ID should be unique to the user and not a hardcoded string.'));else if(this._requirePersonProcessing("posthog.identify")){var i=this.get_distinct_id();if(this.register({$user_id:t}),!this.get_property("$device_id")){var s=i;this.register_once({$had_persisted_distinct_id:!0,$device_id:s},"")}t!==i&&t!==this.get_property(ld)&&(this.unregister(ld),this.register({distinct_id:t}));var o=(this.persistence.get_property(Gs)||"anonymous")==="anonymous";t!==i&&o?(this.persistence.set_property(Gs,"identified"),this.setPersonPropertiesForFlags(n||{},!1),this.capture("$identify",{distinct_id:t,$anon_distinct_id:i},{$set:n||{},$set_once:r||{}}),this.featureFlags.setAnonymousDistinctId(i)):(n||r)&&this.setPersonProperties(n,r),t!==i&&(this.reloadFeatureFlags(),this.unregister(_g))}}else me.error("Unique user id has not been set in posthog.identify")}},{key:"setPersonProperties",value:function(t,n){(t||n)&&this._requirePersonProcessing("posthog.setPersonProperties")&&(this.setPersonPropertiesForFlags(t||{}),this.capture("$set",{$set:t||{},$set_once:n||{}}))}},{key:"group",value:function(t,n,r){if(t&&n){if(this._requirePersonProcessing("posthog.group")){var i=this.getGroups();i[t]!==n&&this.resetGroupPropertiesForFlags(t),this.register({$groups:Ce(Ce({},i),{},ie({},t,n))}),r&&(this.capture("$groupidentify",{$group_type:t,$group_key:n,$group_set:r}),this.setGroupPropertiesForFlags(ie({},t,r))),i[t]===n||r||this.reloadFeatureFlags()}}else me.error("posthog.group requires a group type and group key")}},{key:"resetGroups",value:function(){this.register({$groups:{}}),this.resetGroupPropertiesForFlags(),this.reloadFeatureFlags()}},{key:"setPersonPropertiesForFlags",value:function(t){var n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this._requirePersonProcessing("posthog.setPersonPropertiesForFlags")&&this.featureFlags.setPersonPropertiesForFlags(t,n)}},{key:"resetPersonPropertiesForFlags",value:function(){this.featureFlags.resetPersonPropertiesForFlags()}},{key:"setGroupPropertiesForFlags",value:function(t){var n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this._requirePersonProcessing("posthog.setGroupPropertiesForFlags")&&this.featureFlags.setGroupPropertiesForFlags(t,n)}},{key:"resetGroupPropertiesForFlags",value:function(t){this.featureFlags.resetGroupPropertiesForFlags(t)}},{key:"reset",value:function(t){var n,r,i,s;if(!this.__loaded)return me.uninitializedWarning("posthog.reset");var o=this.get_property("$device_id");(n=this.persistence)===null||n===void 0||n.clear(),(r=this.sessionPersistence)===null||r===void 0||r.clear(),(i=this.persistence)===null||i===void 0||i.set_property(Gs,"anonymous"),(s=this.sessionManager)===null||s===void 0||s.resetSessionId();var a=this.config.get_device_id(Uo());this.register_once({distinct_id:a,$device_id:t?a:o},"")}},{key:"get_distinct_id",value:function(){return this.get_property("distinct_id")}},{key:"getGroups",value:function(){return this.get_property("$groups")||{}}},{key:"get_session_id",value:function(){var t,n;return(t=(n=this.sessionManager)===null||n===void 0?void 0:n.checkAndGetSessionAndWindowId(!0).sessionId)!==null&&t!==void 0?t:""}},{key:"get_session_replay_url",value:function(t){if(!this.sessionManager)return"";var n=this.sessionManager.checkAndGetSessionAndWindowId(!0),r=n.sessionId,i=n.sessionStartTimestamp,s=this.requestRouter.endpointFor("ui","/project/".concat(this.config.token,"/replay/").concat(r));if(t!=null&&t.withTimestamp&&i){var o,a=(o=t.timestampLookBack)!==null&&o!==void 0?o:10;if(!i)return s;var l=Math.max(Math.floor((new Date().getTime()-i)/1e3)-a,0);s+="?t=".concat(l)}return s}},{key:"alias",value:function(t,n){return t===this.get_property(hM)?(me.critical("Attempting to create alias for existing People user - aborting."),-2):this._requirePersonProcessing("posthog.alias")?(Fe(n)&&(n=this.get_distinct_id()),t!==n?(this._register_single(ld,t),this.capture("$create_alias",{alias:t,distinct_id:n})):(me.warn("alias matches current distinct_id - skipping api call."),this.identify(t),-1)):void 0}},{key:"set_config",value:function(t){var n,r,i,s,o=Ce({},this.config);ks(t)&&(Nn(this.config,k2(t)),(n=this.persistence)===null||n===void 0||n.update_config(this.config,o),this.sessionPersistence=this.config.persistence==="sessionStorage"?this.persistence:new Bv(Ce(Ce({},this.config),{},{persistence:"sessionStorage"})),bn.is_supported()&&bn.get("ph_debug")==="true"&&(this.config.debug=!0),this.config.debug&&(Ba.DEBUG=!0),(r=this.sessionRecording)===null||r===void 0||r.startIfEnabledOrStop(),(i=this.autocapture)===null||i===void 0||i.startIfEnabled(),(s=this.heatmaps)===null||s===void 0||s.startIfEnabled(),this.surveys.loadIfEnabled())}},{key:"startSessionRecording",value:function(t){if(t!=null&&t.sampling){var n,r,i=(n=this.sessionManager)===null||n===void 0?void 0:n.checkAndGetSessionAndWindowId();(r=this.persistence)===null||r===void 0||r.register(ie({},kd,!0)),me.info("Session recording started with sampling override for session: ",i==null?void 0:i.sessionId)}this.set_config({disable_session_recording:!1})}},{key:"stopSessionRecording",value:function(){this.set_config({disable_session_recording:!0})}},{key:"sessionRecordingStarted",value:function(){var t;return!((t=this.sessionRecording)===null||t===void 0||!t.started)}},{key:"loadToolbar",value:function(t){return this.toolbar.loadToolbar(t)}},{key:"get_property",value:function(t){var n;return(n=this.persistence)===null||n===void 0?void 0:n.props[t]}},{key:"getSessionProperty",value:function(t){var n;return(n=this.sessionPersistence)===null||n===void 0?void 0:n.props[t]}},{key:"toString",value:function(){var t,n=(t=this.config.name)!==null&&t!==void 0?t:Jl;return n!==Jl&&(n=Jl+"."+n),n}},{key:"_isIdentified",value:function(){var t,n;return((t=this.persistence)===null||t===void 0?void 0:t.get_property(Gs))==="identified"||((n=this.sessionPersistence)===null||n===void 0?void 0:n.get_property(Gs))==="identified"}},{key:"_hasPersonProcessing",value:function(){var t,n,r,i;return!(this.config.person_profiles==="never"||this.config.person_profiles==="identified_only"&&!this._isIdentified()&&Lv(this.getGroups())&&((t=this.persistence)===null||t===void 0||(n=t.props)===null||n===void 0||!n[ld])&&((r=this.persistence)===null||r===void 0||(i=r.props)===null||i===void 0||!i[bg]))}},{key:"_requirePersonProcessing",value:function(t){return this.config.person_profiles==="never"?(me.error(t+' was called, but process_person is set to "never". This call will be ignored.'),!1):(this._register_single(bg,!0),!0)}},{key:"_gdpr_init",value:function(){this.config.opt_out_capturing_persistence_type==="localStorage"&&bn.is_supported()&&(!this.has_opted_in_capturing()&&this.has_opted_in_capturing({persistence_type:"cookie"})&&this.opt_in_capturing({enable_persistence:!1}),!this.has_opted_out_capturing()&&this.has_opted_out_capturing({persistence_type:"cookie"})&&this.opt_out_capturing({clear_persistence:!1}),this.clear_opt_in_out_capturing({persistence_type:"cookie",enable_persistence:!1})),this.has_opted_out_capturing()?this._gdpr_update_persistence({clear_persistence:!0}):this.has_opted_in_capturing()||!this.config.opt_out_capturing_by_default&&!Rs.get("ph_optout")||(Rs.remove("ph_optout"),this.opt_out_capturing({clear_persistence:this.config.opt_out_persistence_by_default}))}},{key:"_gdpr_update_persistence",value:function(t){var n,r,i,s,o;if(t&&t.clear_persistence)i=!0;else{if(!t||!t.enable_persistence)return;i=!1}this.config.disable_persistence||((n=this.persistence)===null||n===void 0?void 0:n.disabled)===i||(s=this.persistence)===null||s===void 0||s.set_disabled(i),this.config.disable_persistence||((r=this.sessionPersistence)===null||r===void 0?void 0:r.disabled)===i||(o=this.sessionPersistence)===null||o===void 0||o.set_disabled(i)}},{key:"_gdpr_call_func",value:function(t,n){return n=Nn({capture:this.capture.bind(this),persistence_type:this.config.opt_out_capturing_persistence_type,cookie_prefix:this.config.opt_out_capturing_cookie_prefix,cookie_expiration:this.config.cookie_expiration,cross_subdomain_cookie:this.config.cross_subdomain_cookie,secure_cookie:this.config.secure_cookie},n||{}),bn.is_supported()||n.persistence_type!=="localStorage"||(n.persistence_type="cookie"),t(this.config.token,{capture:n.capture,captureEventName:n.capture_event_name,captureProperties:n.capture_properties,persistenceType:n.persistence_type,persistencePrefix:n.cookie_prefix,cookieExpiration:n.cookie_expiration,crossSubdomainCookie:n.cross_subdomain_cookie,secureCookie:n.secure_cookie})}},{key:"opt_in_capturing",value:function(t){t=Nn({enable_persistence:!0},t||{}),this._gdpr_call_func(fF,t),this._gdpr_update_persistence(t)}},{key:"opt_out_capturing",value:function(t){var n=Nn({clear_persistence:!0},t||{});this._gdpr_call_func(hF,n),this._gdpr_update_persistence(n)}},{key:"has_opted_in_capturing",value:function(t){return this._gdpr_call_func(pF,t)}},{key:"has_opted_out_capturing",value:function(t){return this._gdpr_call_func(DM,t)}},{key:"clear_opt_in_out_capturing",value:function(t){var n=Nn({enable_persistence:!0},t??{});this._gdpr_call_func(gF,n),this._gdpr_update_persistence(n)}},{key:"debug",value:function(t){t===!1?(X==null||X.console.log("You've disabled debug mode."),localStorage&&localStorage.removeItem("ph_debug"),this.set_config({debug:!1})):(X==null||X.console.log("You're now in debug mode. All calls to PostHog will be logged in your console.\nYou can disable this with `posthog.debug(false)`."),localStorage&&localStorage.setItem("ph_debug","true"),this.set_config({debug:!0}))}}]),e}();(function(e,t){for(var n=0;n<t.length;n++)e.prototype[t[n]]=SB(e.prototype[t[n]])})(QM,["identify"]);var C2,T2;(function(e){e.Popover="popover",e.API="api",e.Widget="widget"})(C2||(C2={})),function(e){e.Open="open",e.MultipleChoice="multiple_choice",e.SingleChoice="single_choice",e.Rating="rating",e.Link="link"}(T2||(T2={}));var I2,pn=(I2=Td[Jl]=new QM,function(){function e(){e.done||(e.done=!0,KM=!1,Tt(Td,function(t){t._dom_loaded()}))}Se!=null&&Se.addEventListener&&(Se.readyState==="complete"?e():Se.addEventListener("DOMContentLoaded",e,!1)),X&&Js(X,"load",e,!0)}(),I2);class gt{constructor(t,n=!1,r=!0){this.name=t,this.track=n,this.log=r,this.subscribers=[],this.lastParams=null,this.subscribe=(i,s=!1)=>{this.unsubscribe(i),this.subscribers.push(i),s&&this.lastParams!==null&&i(...this.lastParams)},this.unsubscribe=i=>{this.subscribers=this.subscribers.filter(s=>s!==i)},this.dispatch=(...i)=>{this.log&&console.log("dispatch",this.name,...i),this.subscribers.forEach(s=>s(...i)),this.lastParams=i,this.track&&pn.capture(this.name,this.track instanceof Function?this.track(...i):i)}}}const te={sectionChange:new gt("sectionChange",void 0,!1),playerAdded:new gt("playerAdded",!1),playerRemoved:new gt("playerRemoved",!1),songStarted:new gt("songStarted",!1),songEnded:new gt("songEnded",!1),remoteMicConnected:new gt("remoteMicConnected"),remoteMicDisconnected:new gt("remoteMicDisconnected"),playerNameChanged:new gt("playerNameChanged"),playerInputChanged:new gt("playerInputChanged",(e,t,n)=>({player:e,old:t==null?void 0:t.source,new:n==null?void 0:n.source})),inputListChanged:new gt("inputListChanged"),karaokeConnectionStatusChange:new gt("karaokeConnectionStatusChange"),remoteMicPlayerSet:new gt("remoteMicPlayerSet"),remoteMicMonitoringStarted:new gt("remoteMicMonitoringStarted"),remoteMicMonitoringStopped:new gt("remoteMicMonitoringStopped"),micMonitoringStarted:new gt("micMonitoringStarted"),micMonitoringStopped:new gt("micMonitoringStopped"),playerChangeRequested:new gt("playerChangeRequested",!0),songStatStored:new gt("songStatStored"),songScoreUpdated:new gt("songScoreUpdated",()=>{}),remoteMicSubscribed:new gt("remoteMicSubscribed"),remoteKeyboardPressed:new gt("remoteKeyboardPressed"),remoteSongSearch:new gt("remoteSongSearch",!0),remoteMicListUpdated:new gt("remoteMicListUpdated"),remoteKeyboardLayout:new gt("remoteKeyboardLayout"),remoteReadinessRequested:new gt("remoteReadinessRequested"),remoteStyleChanged:new gt("remoteStyleChanged"),remoteMicPermissionsSet:new gt("remoteMicPermissionsSet"),readinessConfirmed:new gt("remoteReadinessConfirmed"),minPlayerNumberChanged:new gt("minPlayerNumberChanged")};te.songStarted.subscribe(()=>{Qi.clearData(),Qi.startRecord()});te.songEnded.subscribe(()=>{Qi.stopRecord()});function Tg(e){"@babel/helpers - typeof";return Tg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tg(e)}var t6=/^\s+/,n6=/\s+$/;function fe(e,t){if(e=e||"",t=t||{},e instanceof fe)return e;if(!(this instanceof fe))return new fe(e,t);var n=r6(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}fe.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3},getLuminance:function(){var t=this.toRgb(),n,r,i,s,o,a;return n=t.r/255,r=t.g/255,i=t.b/255,n<=.03928?s=n/12.92:s=Math.pow((n+.055)/1.055,2.4),r<=.03928?o=r/12.92:o=Math.pow((r+.055)/1.055,2.4),i<=.03928?a=i/12.92:a=Math.pow((i+.055)/1.055,2.4),.2126*s+.7152*o+.0722*a},setAlpha:function(t){return this._a=JM(t),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var t=R2(this._r,this._g,this._b);return{h:t.h*360,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=R2(this._r,this._g,this._b),n=Math.round(t.h*360),r=Math.round(t.s*100),i=Math.round(t.v*100);return this._a==1?"hsv("+n+", "+r+"%, "+i+"%)":"hsva("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var t=P2(this._r,this._g,this._b);return{h:t.h*360,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=P2(this._r,this._g,this._b),n=Math.round(t.h*360),r=Math.round(t.s*100),i=Math.round(t.l*100);return this._a==1?"hsl("+n+", "+r+"%, "+i+"%)":"hsla("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHex:function(t){return M2(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return a6(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(Ut(this._r,255)*100)+"%",g:Math.round(Ut(this._g,255)*100)+"%",b:Math.round(Ut(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(Ut(this._r,255)*100)+"%, "+Math.round(Ut(this._g,255)*100)+"%, "+Math.round(Ut(this._b,255)*100)+"%)":"rgba("+Math.round(Ut(this._r,255)*100)+"%, "+Math.round(Ut(this._g,255)*100)+"%, "+Math.round(Ut(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:A6[M2(this._r,this._g,this._b,!0)]||!1},toFilter:function(t){var n="#"+j2(this._r,this._g,this._b,this._a),r=n,i=this._gradientType?"GradientType = 1, ":"";if(t){var s=fe(t);r="#"+j2(s._r,s._g,s._b,s._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+n+",endColorstr="+r+")"},toString:function(t){var n=!!t;t=t||this._format;var r=!1,i=this._a<1&&this._a>=0,s=!n&&i&&(t==="hex"||t==="hex6"||t==="hex3"||t==="hex4"||t==="hex8"||t==="name");return s?t==="name"&&this._a===0?this.toName():this.toRgbString():(t==="rgb"&&(r=this.toRgbString()),t==="prgb"&&(r=this.toPercentageRgbString()),(t==="hex"||t==="hex6")&&(r=this.toHexString()),t==="hex3"&&(r=this.toHexString(!0)),t==="hex4"&&(r=this.toHex8String(!0)),t==="hex8"&&(r=this.toHex8String()),t==="name"&&(r=this.toName()),t==="hsl"&&(r=this.toHslString()),t==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return fe(this.toString())},_applyModification:function(t,n){var r=t.apply(null,[this].concat([].slice.call(n)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(d6,arguments)},brighten:function(){return this._applyModification(f6,arguments)},darken:function(){return this._applyModification(h6,arguments)},desaturate:function(){return this._applyModification(l6,arguments)},saturate:function(){return this._applyModification(c6,arguments)},greyscale:function(){return this._applyModification(u6,arguments)},spin:function(){return this._applyModification(p6,arguments)},_applyCombination:function(t,n){return t.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination(v6,arguments)},complement:function(){return this._applyCombination(g6,arguments)},monochromatic:function(){return this._applyCombination(y6,arguments)},splitcomplement:function(){return this._applyCombination(m6,arguments)},triad:function(){return this._applyCombination(O2,[3])},tetrad:function(){return this._applyCombination(O2,[4])}};fe.fromRatio=function(e,t){if(Tg(e)=="object"){var n={};for(var r in e)e.hasOwnProperty(r)&&(r==="a"?n[r]=e[r]:n[r]=fd(e[r]));e=n}return fe(e,t)};function r6(e){var t={r:0,g:0,b:0},n=1,r=null,i=null,s=null,o=!1,a=!1;return typeof e=="string"&&(e=S6(e)),Tg(e)=="object"&&(Hs(e.r)&&Hs(e.g)&&Hs(e.b)?(t=i6(e.r,e.g,e.b),o=!0,a=String(e.r).substr(-1)==="%"?"prgb":"rgb"):Hs(e.h)&&Hs(e.s)&&Hs(e.v)?(r=fd(e.s),i=fd(e.v),t=o6(e.h,r,i),o=!0,a="hsv"):Hs(e.h)&&Hs(e.s)&&Hs(e.l)&&(r=fd(e.s),s=fd(e.l),t=s6(e.h,r,s),o=!0,a="hsl"),e.hasOwnProperty("a")&&(n=e.a)),n=JM(n),{ok:o,format:e.format||a,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}function i6(e,t,n){return{r:Ut(e,255)*255,g:Ut(t,255)*255,b:Ut(n,255)*255}}function P2(e,t,n){e=Ut(e,255),t=Ut(t,255),n=Ut(n,255);var r=Math.max(e,t,n),i=Math.min(e,t,n),s,o,a=(r+i)/2;if(r==i)s=o=0;else{var l=r-i;switch(o=a>.5?l/(2-r-i):l/(r+i),r){case e:s=(t-n)/l+(t<n?6:0);break;case t:s=(n-e)/l+2;break;case n:s=(e-t)/l+4;break}s/=6}return{h:s,s:o,l:a}}function s6(e,t,n){var r,i,s;e=Ut(e,360),t=Ut(t,100),n=Ut(n,100);function o(c,u,d){return d<0&&(d+=1),d>1&&(d-=1),d<1/6?c+(u-c)*6*d:d<1/2?u:d<2/3?c+(u-c)*(2/3-d)*6:c}if(t===0)r=i=s=n;else{var a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;r=o(l,a,e+1/3),i=o(l,a,e),s=o(l,a,e-1/3)}return{r:r*255,g:i*255,b:s*255}}function R2(e,t,n){e=Ut(e,255),t=Ut(t,255),n=Ut(n,255);var r=Math.max(e,t,n),i=Math.min(e,t,n),s,o,a=r,l=r-i;if(o=r===0?0:l/r,r==i)s=0;else{switch(r){case e:s=(t-n)/l+(t<n?6:0);break;case t:s=(n-e)/l+2;break;case n:s=(e-t)/l+4;break}s/=6}return{h:s,s:o,v:a}}function o6(e,t,n){e=Ut(e,360)*6,t=Ut(t,100),n=Ut(n,100);var r=Math.floor(e),i=e-r,s=n*(1-t),o=n*(1-i*t),a=n*(1-(1-i)*t),l=r%6,c=[n,o,s,s,a,n][l],u=[a,n,n,o,s,s][l],d=[s,s,a,n,n,o][l];return{r:c*255,g:u*255,b:d*255}}function M2(e,t,n,r){var i=[Ji(Math.round(e).toString(16)),Ji(Math.round(t).toString(16)),Ji(Math.round(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function a6(e,t,n,r,i){var s=[Ji(Math.round(e).toString(16)),Ji(Math.round(t).toString(16)),Ji(Math.round(n).toString(16)),Ji(XM(r))];return i&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)&&s[3].charAt(0)==s[3].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}function j2(e,t,n,r){var i=[Ji(XM(r)),Ji(Math.round(e).toString(16)),Ji(Math.round(t).toString(16)),Ji(Math.round(n).toString(16))];return i.join("")}fe.equals=function(e,t){return!e||!t?!1:fe(e).toRgbString()==fe(t).toRgbString()};fe.random=function(){return fe.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function l6(e,t){t=t===0?0:t||10;var n=fe(e).toHsl();return n.s-=t/100,n.s=Zm(n.s),fe(n)}function c6(e,t){t=t===0?0:t||10;var n=fe(e).toHsl();return n.s+=t/100,n.s=Zm(n.s),fe(n)}function u6(e){return fe(e).desaturate(100)}function d6(e,t){t=t===0?0:t||10;var n=fe(e).toHsl();return n.l+=t/100,n.l=Zm(n.l),fe(n)}function f6(e,t){t=t===0?0:t||10;var n=fe(e).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(t/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(t/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(t/100)))),fe(n)}function h6(e,t){t=t===0?0:t||10;var n=fe(e).toHsl();return n.l-=t/100,n.l=Zm(n.l),fe(n)}function p6(e,t){var n=fe(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,fe(n)}function g6(e){var t=fe(e).toHsl();return t.h=(t.h+180)%360,fe(t)}function O2(e,t){if(isNaN(t)||t<=0)throw new Error("Argument to polyad must be a positive number");for(var n=fe(e).toHsl(),r=[fe(e)],i=360/t,s=1;s<t;s++)r.push(fe({h:(n.h+s*i)%360,s:n.s,l:n.l}));return r}function m6(e){var t=fe(e).toHsl(),n=t.h;return[fe(e),fe({h:(n+72)%360,s:t.s,l:t.l}),fe({h:(n+216)%360,s:t.s,l:t.l})]}function v6(e,t,n){t=t||6,n=n||30;var r=fe(e).toHsl(),i=360/n,s=[fe(e)];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,s.push(fe(r));return s}function y6(e,t){t=t||6;for(var n=fe(e).toHsv(),r=n.h,i=n.s,s=n.v,o=[],a=1/t;t--;)o.push(fe({h:r,s:i,v:s})),s=(s+a)%1;return o}fe.mix=function(e,t,n){n=n===0?0:n||50;var r=fe(e).toRgb(),i=fe(t).toRgb(),s=n/100,o={r:(i.r-r.r)*s+r.r,g:(i.g-r.g)*s+r.g,b:(i.b-r.b)*s+r.b,a:(i.a-r.a)*s+r.a};return fe(o)};fe.readability=function(e,t){var n=fe(e),r=fe(t);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)};fe.isReadable=function(e,t,n){var r=fe.readability(e,t),i,s;switch(s=!1,i=w6(n),i.level+i.size){case"AAsmall":case"AAAlarge":s=r>=4.5;break;case"AAlarge":s=r>=3;break;case"AAAsmall":s=r>=7;break}return s};fe.mostReadable=function(e,t,n){var r=null,i=0,s,o,a,l;n=n||{},o=n.includeFallbackColors,a=n.level,l=n.size;for(var c=0;c<t.length;c++)s=fe.readability(e,t[c]),s>i&&(i=s,r=fe(t[c]));return fe.isReadable(e,r,{level:a,size:l})||!o?r:(n.includeFallbackColors=!1,fe.mostReadable(e,["#fff","#000"],n))};var HA=fe.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},A6=fe.hexNames=_6(HA);function _6(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function JM(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function Ut(e,t){b6(e)&&(e="100%");var n=x6(e);return e=Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function Zm(e){return Math.min(1,Math.max(0,e))}function Dr(e){return parseInt(e,16)}function b6(e){return typeof e=="string"&&e.indexOf(".")!=-1&&parseFloat(e)===1}function x6(e){return typeof e=="string"&&e.indexOf("%")!=-1}function Ji(e){return e.length==1?"0"+e:""+e}function fd(e){return e<=1&&(e=e*100+"%"),e}function XM(e){return Math.round(parseFloat(e)*255).toString(16)}function V2(e){return Dr(e)/255}var Fi=function(){var e="[-\\+]?\\d+%?",t="[-\\+]?\\d*\\.\\d+%?",n="(?:"+t+")|(?:"+e+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function Hs(e){return!!Fi.CSS_UNIT.exec(e)}function S6(e){e=e.replace(t6,"").replace(n6,"").toLowerCase();var t=!1;if(HA[e])e=HA[e],t=!0;else if(e=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=Fi.rgb.exec(e))?{r:n[1],g:n[2],b:n[3]}:(n=Fi.rgba.exec(e))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=Fi.hsl.exec(e))?{h:n[1],s:n[2],l:n[3]}:(n=Fi.hsla.exec(e))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=Fi.hsv.exec(e))?{h:n[1],s:n[2],v:n[3]}:(n=Fi.hsva.exec(e))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=Fi.hex8.exec(e))?{r:Dr(n[1]),g:Dr(n[2]),b:Dr(n[3]),a:V2(n[4]),format:t?"name":"hex8"}:(n=Fi.hex6.exec(e))?{r:Dr(n[1]),g:Dr(n[2]),b:Dr(n[3]),format:t?"name":"hex"}:(n=Fi.hex4.exec(e))?{r:Dr(n[1]+""+n[1]),g:Dr(n[2]+""+n[2]),b:Dr(n[3]+""+n[3]),a:V2(n[4]+""+n[4]),format:t?"name":"hex8"}:(n=Fi.hex3.exec(e))?{r:Dr(n[1]+""+n[1]),g:Dr(n[2]+""+n[2]),b:Dr(n[3]+""+n[3]),format:t?"name":"hex"}:!1}function w6(e){var t,n;return e=e||{level:"AA",size:"small"},t=(e.level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),t!=="AA"&&t!=="AAA"&&(t="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:t,size:n}}const E6=fe("rgb(52, 166, 95)"),k6=fe("rgb(15, 138, 95)"),C6=fe("rgb(245, 98, 77)"),T6=fe("rgb(204, 35, 30)"),ZM=fe("rgb(245, 220, 21)"),I6=fe(ZM.toRgbString()).darken(15),ej=fe("rgb(255, 70, 223)"),P6=fe(ej.toRgbString()).darken(15),tj=fe("rgb(255, 119, 20)"),R6=fe(tj.toRgbString()).darken(15),nj=fe("rgb(31, 192, 223)"),M6=fe(nj.toRgbString()).darken(15),rj=fe("rgb(102, 44, 182)"),j6=fe(rj.toRgbString()).darken(15),O6=fe("rgb(0, 153, 255)"),V6=fe("rgb(0, 77, 128)"),L6=fe("rgb(255, 54, 54)"),N6=fe("rgb(117, 25, 25)"),$6=fe("rgb(255, 213, 0)"),Hp=fe("rgb(255, 183, 0)"),li=(e,t)=>e.setAlpha(t).toRgbString(),Di=(e,t)=>({text:li(e,1),stroke:li(t,1),star:{fill:li(Hp,.5),stroke:li(Hp,0),lineWidth:1},perfect:{fill:li(e,1),stroke:"white",lineWidth:1},starPerfect:{fill:li($6,1),stroke:li(Hp,1),lineWidth:2},hit:{fill:li(e,.9),stroke:li(t,0),lineWidth:1},miss:{fill:li(e,.25),stroke:li(t,1),lineWidth:1}}),Oe={blue:Di(O6,V6),red:Di(L6,N6),green:Di(fe("rgb(0,183,0)"),fe("rgb(0,84,0)")),yellow:Di(fe("rgb(239,209,0)"),fe("rgb(114,84,0)")),christmasGreen:Di(E6,k6),christmasRed:Di(C6,T6),eurovisionYellow:Di(ZM,I6),eurovisionPink:Di(ej,P6),eurovisionOrange:Di(tj,R6),eurovisionBlue:Di(nj,M6),eurovisionViolet:Di(rj,j6)};let gs=[Oe.blue,Oe.red,Oe.green,Oe.yellow];const he={colors:{players:gs,lines:{normal:{fill:"rgba(127, 127, 127, .7)",stroke:"black",lineWidth:1},star:{fill:"rgba(158, 144, 106, 1)",stroke:li(Hp,1),lineWidth:1},freestyle:{fill:"rgba(255, 255, 255, 0.1)",stroke:"black",lineWidth:2}},text:{active:"rgb(255, 165, 0)",activeBorder:"rgb(101,75,22)",default:"white",inactive:"grey"}}},ij=e=>{e==="christmas"&&gs[0]!==Oe.christmasGreen?(gs=[Oe.christmasGreen,Oe.christmasRed],he.colors.players=gs):e==="eurovision"&&gs[0]!==Oe.eurovisionYellow?(gs=[Oe.eurovisionBlue,Oe.eurovisionViolet,Oe.eurovisionYellow,Oe.eurovisionPink],he.colors.players=gs):e==="regular"&&gs[0]!==Oe.blue&&(gs=[Oe.blue,Oe.red,Oe.green,Oe.yellow],he.colors.players=gs)};function Tc(e,t,n){e==null||e.send({t,...n})}var qA;try{qA=new TextDecoder}catch{}var ve,Ai,W=0,Ct={},tt,Ho,ui=0,xs=0,Fn,no,Vr=[],Ze,L2={useRecords:!1,mapsAsObjects:!0};class sj{}const oj=new sj;oj.name="MessagePack 0xC1";var Jo=!1,aj=2,N2;try{new Function("")}catch{aj=1/0}class af{constructor(t){t&&(t.useRecords===!1&&t.mapsAsObjects===void 0&&(t.mapsAsObjects=!0),t.sequential&&t.trusted!==!1&&(t.trusted=!0,!t.structures&&t.useRecords!=!1&&(t.structures=[],t.maxSharedStructures||(t.maxSharedStructures=0))),t.structures?t.structures.sharedLength=t.structures.length:t.getStructures&&((t.structures=[]).uninitialized=!0,t.structures.sharedLength=0),t.int64AsNumber&&(t.int64AsType="number")),Object.assign(this,t)}unpack(t,n){if(ve)return hj(()=>(WA(),this?this.unpack(t,n):af.prototype.unpack.call(L2,t,n)));!t.buffer&&t.constructor===ArrayBuffer&&(t=typeof Buffer<"u"?Buffer.from(t):new Uint8Array(t)),typeof n=="object"?(Ai=n.end||t.length,W=n.start||0):(W=0,Ai=n>-1?n:t.length),xs=0,Ho=null,Fn=null,ve=t;try{Ze=t.dataView||(t.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength))}catch(r){throw ve=null,t instanceof Uint8Array?r:new Error("Source must be a Uint8Array or Buffer but was a "+(t&&typeof t=="object"?t.constructor.name:typeof t))}if(this instanceof af){if(Ct=this,this.structures)return tt=this.structures,$h(n);(!tt||tt.length>0)&&(tt=[])}else Ct=L2,(!tt||tt.length>0)&&(tt=[]);return $h(n)}unpackMultiple(t,n){let r,i=0;try{Jo=!0;let s=t.length,o=this?this.unpack(t,s):e0.unpack(t,s);if(n){if(n(o,i,W)===!1)return;for(;W<s;)if(i=W,n($h(),i,W)===!1)return}else{for(r=[o];W<s;)i=W,r.push($h());return r}}catch(s){throw s.lastPosition=i,s.values=r,s}finally{Jo=!1,WA()}}_mergeStructures(t,n){t=t||[],Object.isFrozen(t)&&(t=t.map(r=>r.slice(0)));for(let r=0,i=t.length;r<i;r++){let s=t[r];s&&(s.isShared=!0,r>=32&&(s.highByte=r-32>>5))}t.sharedLength=t.length;for(let r in n||[])if(r>=0){let i=t[r],s=n[r];s&&(i&&((t.restoreStructures||(t.restoreStructures=[]))[r]=i),t[r]=s)}return this.structures=t}decode(t,n){return this.unpack(t,n)}}function $h(e){try{if(!Ct.trusted&&!Jo){let n=tt.sharedLength||0;n<tt.length&&(tt.length=n)}let t;if(Ct.randomAccessStructure&&ve[W]<64&&ve[W]>=32&&N2?(t=N2(ve,W,Ai,Ct),ve=null,!(e&&e.lazy)&&t&&(t=t.toJSON()),W=Ai):t=dn(),Fn&&(W=Fn.postBundlePosition,Fn=null),Jo&&(tt.restoreStructures=null),W==Ai)tt&&tt.restoreStructures&&$2(),tt=null,ve=null,no&&(no=null);else{if(W>Ai)throw new Error("Unexpected end of MessagePack data");if(!Jo){let n;try{n=JSON.stringify(t,(r,i)=>typeof i=="bigint"?`${i}n`:i).slice(0,100)}catch(r){n="(JSON view not available "+r+")"}throw new Error("Data read, but end of buffer not reached "+n)}}return t}catch(t){throw tt&&tt.restoreStructures&&$2(),WA(),(t instanceof RangeError||t.message.startsWith("Unexpected end of buffer")||W>Ai)&&(t.incomplete=!0),t}}function $2(){for(let e in tt.restoreStructures)tt[e]=tt.restoreStructures[e];tt.restoreStructures=null}function dn(){let e=ve[W++];if(e<160)if(e<128){if(e<64)return e;{let t=tt[e&63]||Ct.getStructures&&lj()[e&63];return t?(t.read||(t.read=$b(t,e&63)),t.read()):e}}else if(e<144)if(e-=128,Ct.mapsAsObjects){let t={};for(let n=0;n<e;n++){let r=uj();r==="__proto__"&&(r="__proto_"),t[r]=dn()}return t}else{let t=new Map;for(let n=0;n<e;n++)t.set(dn(),dn());return t}else{e-=144;let t=new Array(e);for(let n=0;n<e;n++)t[n]=dn();return Ct.freezeData?Object.freeze(t):t}else if(e<192){let t=e-160;if(xs>=W)return Ho.slice(W-ui,(W+=t)-ui);if(xs==0&&Ai<140){let n=t<16?Db(t):cj(t);if(n!=null)return n}return GA(t)}else{let t;switch(e){case 192:return null;case 193:return Fn?(t=dn(),t>0?Fn[1].slice(Fn.position1,Fn.position1+=t):Fn[0].slice(Fn.position0,Fn.position0-=t)):oj;case 194:return!1;case 195:return!0;case 196:if(t=ve[W++],t===void 0)throw new Error("Unexpected end of buffer");return Wv(t);case 197:return t=Ze.getUint16(W),W+=2,Wv(t);case 198:return t=Ze.getUint32(W),W+=4,Wv(t);case 199:return Ea(ve[W++]);case 200:return t=Ze.getUint16(W),W+=2,Ea(t);case 201:return t=Ze.getUint32(W),W+=4,Ea(t);case 202:if(t=Ze.getFloat32(W),Ct.useFloat32>2){let n=Bb[(ve[W]&127)<<1|ve[W+1]>>7];return W+=4,(n*t+(t>0?.5:-.5)>>0)/n}return W+=4,t;case 203:return t=Ze.getFloat64(W),W+=8,t;case 204:return ve[W++];case 205:return t=Ze.getUint16(W),W+=2,t;case 206:return t=Ze.getUint32(W),W+=4,t;case 207:return Ct.int64AsType==="number"?(t=Ze.getUint32(W)*4294967296,t+=Ze.getUint32(W+4)):Ct.int64AsType==="string"?t=Ze.getBigUint64(W).toString():Ct.int64AsType==="auto"?(t=Ze.getBigUint64(W),t<=BigInt(2)<<BigInt(52)&&(t=Number(t))):t=Ze.getBigUint64(W),W+=8,t;case 208:return Ze.getInt8(W++);case 209:return t=Ze.getInt16(W),W+=2,t;case 210:return t=Ze.getInt32(W),W+=4,t;case 211:return Ct.int64AsType==="number"?(t=Ze.getInt32(W)*4294967296,t+=Ze.getUint32(W+4)):Ct.int64AsType==="string"?t=Ze.getBigInt64(W).toString():Ct.int64AsType==="auto"?(t=Ze.getBigInt64(W),t>=BigInt(-2)<<BigInt(52)&&t<=BigInt(2)<<BigInt(52)&&(t=Number(t))):t=Ze.getBigInt64(W),W+=8,t;case 212:if(t=ve[W++],t==114)return H2(ve[W++]&63);{let n=Vr[t];if(n)return n.read?(W++,n.read(dn())):n.noBuffer?(W++,n()):n(ve.subarray(W,++W));throw new Error("Unknown extension "+t)}case 213:return t=ve[W],t==114?(W++,H2(ve[W++]&63,ve[W++])):Ea(2);case 214:return Ea(4);case 215:return Ea(8);case 216:return Ea(16);case 217:return t=ve[W++],xs>=W?Ho.slice(W-ui,(W+=t)-ui):B6(t);case 218:return t=Ze.getUint16(W),W+=2,xs>=W?Ho.slice(W-ui,(W+=t)-ui):F6(t);case 219:return t=Ze.getUint32(W),W+=4,xs>=W?Ho.slice(W-ui,(W+=t)-ui):z6(t);case 220:return t=Ze.getUint16(W),W+=2,B2(t);case 221:return t=Ze.getUint32(W),W+=4,B2(t);case 222:return t=Ze.getUint16(W),W+=2,F2(t);case 223:return t=Ze.getUint32(W),W+=4,F2(t);default:if(e>=224)return e-256;if(e===void 0){let n=new Error("Unexpected end of MessagePack data");throw n.incomplete=!0,n}throw new Error("Unknown MessagePack token "+e)}}}const D6=/^[a-zA-Z_$][a-zA-Z\d_$]*$/;function $b(e,t){function n(){if(n.count++>aj){let i=e.read=new Function("r","return function(){return "+(Ct.freezeData?"Object.freeze":"")+"({"+e.map(s=>s==="__proto__"?"__proto_:r()":D6.test(s)?s+":r()":"["+JSON.stringify(s)+"]:r()").join(",")+"})}")(dn);return e.highByte===0&&(e.read=D2(t,e.read)),i()}let r={};for(let i=0,s=e.length;i<s;i++){let o=e[i];o==="__proto__"&&(o="__proto_"),r[o]=dn()}return Ct.freezeData?Object.freeze(r):r}return n.count=0,e.highByte===0?D2(t,n):n}const D2=(e,t)=>function(){let n=ve[W++];if(n===0)return t();let r=e<32?-(e+(n<<5)):e+(n<<5),i=tt[r]||lj()[r];if(!i)throw new Error("Record id is not defined for "+r);return i.read||(i.read=$b(i,e)),i.read()};function lj(){let e=hj(()=>(ve=null,Ct.getStructures()));return tt=Ct._mergeStructures(e,tt)}var GA=Kf,B6=Kf,F6=Kf,z6=Kf;function Kf(e){let t;if(e<16&&(t=Db(e)))return t;if(e>64&&qA)return qA.decode(ve.subarray(W,W+=e));const n=W+e,r=[];for(t="";W<n;){const i=ve[W++];if(!(i&128))r.push(i);else if((i&224)===192){const s=ve[W++]&63;r.push((i&31)<<6|s)}else if((i&240)===224){const s=ve[W++]&63,o=ve[W++]&63;r.push((i&31)<<12|s<<6|o)}else if((i&248)===240){const s=ve[W++]&63,o=ve[W++]&63,a=ve[W++]&63;let l=(i&7)<<18|s<<12|o<<6|a;l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|l&1023),r.push(l)}else r.push(i);r.length>=4096&&(t+=Ln.apply(String,r),r.length=0)}return r.length>0&&(t+=Ln.apply(String,r)),t}function B2(e){let t=new Array(e);for(let n=0;n<e;n++)t[n]=dn();return Ct.freezeData?Object.freeze(t):t}function F2(e){if(Ct.mapsAsObjects){let t={};for(let n=0;n<e;n++){let r=uj();r==="__proto__"&&(r="__proto_"),t[r]=dn()}return t}else{let t=new Map;for(let n=0;n<e;n++)t.set(dn(),dn());return t}}var Ln=String.fromCharCode;function cj(e){let t=W,n=new Array(e);for(let r=0;r<e;r++){const i=ve[W++];if((i&128)>0){W=t;return}n[r]=i}return Ln.apply(String,n)}function Db(e){if(e<4)if(e<2){if(e===0)return"";{let t=ve[W++];if((t&128)>1){W-=1;return}return Ln(t)}}else{let t=ve[W++],n=ve[W++];if((t&128)>0||(n&128)>0){W-=2;return}if(e<3)return Ln(t,n);let r=ve[W++];if((r&128)>0){W-=3;return}return Ln(t,n,r)}else{let t=ve[W++],n=ve[W++],r=ve[W++],i=ve[W++];if((t&128)>0||(n&128)>0||(r&128)>0||(i&128)>0){W-=4;return}if(e<6){if(e===4)return Ln(t,n,r,i);{let s=ve[W++];if((s&128)>0){W-=5;return}return Ln(t,n,r,i,s)}}else if(e<8){let s=ve[W++],o=ve[W++];if((s&128)>0||(o&128)>0){W-=6;return}if(e<7)return Ln(t,n,r,i,s,o);let a=ve[W++];if((a&128)>0){W-=7;return}return Ln(t,n,r,i,s,o,a)}else{let s=ve[W++],o=ve[W++],a=ve[W++],l=ve[W++];if((s&128)>0||(o&128)>0||(a&128)>0||(l&128)>0){W-=8;return}if(e<10){if(e===8)return Ln(t,n,r,i,s,o,a,l);{let c=ve[W++];if((c&128)>0){W-=9;return}return Ln(t,n,r,i,s,o,a,l,c)}}else if(e<12){let c=ve[W++],u=ve[W++];if((c&128)>0||(u&128)>0){W-=10;return}if(e<11)return Ln(t,n,r,i,s,o,a,l,c,u);let d=ve[W++];if((d&128)>0){W-=11;return}return Ln(t,n,r,i,s,o,a,l,c,u,d)}else{let c=ve[W++],u=ve[W++],d=ve[W++],h=ve[W++];if((c&128)>0||(u&128)>0||(d&128)>0||(h&128)>0){W-=12;return}if(e<14){if(e===12)return Ln(t,n,r,i,s,o,a,l,c,u,d,h);{let p=ve[W++];if((p&128)>0){W-=13;return}return Ln(t,n,r,i,s,o,a,l,c,u,d,h,p)}}else{let p=ve[W++],g=ve[W++];if((p&128)>0||(g&128)>0){W-=14;return}if(e<15)return Ln(t,n,r,i,s,o,a,l,c,u,d,h,p,g);let m=ve[W++];if((m&128)>0){W-=15;return}return Ln(t,n,r,i,s,o,a,l,c,u,d,h,p,g,m)}}}}}function z2(){let e=ve[W++],t;if(e<192)t=e-160;else switch(e){case 217:t=ve[W++];break;case 218:t=Ze.getUint16(W),W+=2;break;case 219:t=Ze.getUint32(W),W+=4;break;default:throw new Error("Expected string")}return Kf(t)}function Wv(e){return Ct.copyBuffers?Uint8Array.prototype.slice.call(ve,W,W+=e):ve.subarray(W,W+=e)}function Ea(e){let t=ve[W++];if(Vr[t]){let n;return Vr[t](ve.subarray(W,n=W+=e),r=>{W=r;try{return dn()}finally{W=n}})}else throw new Error("Unknown extension type "+t)}var U2=new Array(4096);function uj(){let e=ve[W++];if(e>=160&&e<192){if(e=e-160,xs>=W)return Ho.slice(W-ui,(W+=e)-ui);if(!(xs==0&&Ai<180))return GA(e)}else return W--,dj(dn());let t=(e<<5^(e>1?Ze.getUint16(W):e>0?ve[W]:0))&4095,n=U2[t],r=W,i=W+e-3,s,o=0;if(n&&n.bytes==e){for(;r<i;){if(s=Ze.getUint32(r),s!=n[o++]){r=1879048192;break}r+=4}for(i+=3;r<i;)if(s=ve[r++],s!=n[o++]){r=1879048192;break}if(r===i)return W=r,n.string;i-=3,r=W}for(n=[],U2[t]=n,n.bytes=e;r<i;)s=Ze.getUint32(r),n.push(s),r+=4;for(i+=3;r<i;)s=ve[r++],n.push(s);let a=e<16?Db(e):cj(e);return a!=null?n.string=a:n.string=GA(e)}function dj(e){if(typeof e=="string")return e;if(typeof e=="number")return e.toString();throw new Error("Invalid property type for record",typeof e)}const H2=(e,t)=>{let n=dn().map(dj),r=e;t!==void 0&&(e=e<32?-((t<<5)+e):(t<<5)+e,n.highByte=t);let i=tt[e];return i&&(i.isShared||Jo)&&((tt.restoreStructures||(tt.restoreStructures=[]))[e]=i),tt[e]=n,n.read=$b(n,r),n.read()};Vr[0]=()=>{};Vr[0].noBuffer=!0;Vr[66]=e=>{let t=e.length,n=BigInt(e[0]&128?e[0]-256:e[0]);for(let r=1;r<t;r++)n<<=8n,n+=BigInt(e[r]);return n};let U6={Error,TypeError,ReferenceError};Vr[101]=()=>{let e=dn();return(U6[e[0]]||Error)(e[1])};Vr[105]=e=>{if(Ct.structuredClone===!1)throw new Error("Structured clone extension is disabled");let t=Ze.getUint32(W-4);no||(no=new Map);let n=ve[W],r;n>=144&&n<160||n==220||n==221?r=[]:r={};let i={target:r};no.set(t,i);let s=dn();return i.used?Object.assign(r,s):(i.target=s,s)};Vr[112]=e=>{if(Ct.structuredClone===!1)throw new Error("Structured clone extension is disabled");let t=Ze.getUint32(W-4),n=no.get(t);return n.used=!0,n.target};Vr[115]=()=>new Set(dn());const fj=["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64","BigInt64","BigUint64"].map(e=>e+"Array");let H6=typeof globalThis=="object"?globalThis:window;Vr[116]=e=>{let t=e[0],n=fj[t];if(!n)throw new Error("Could not find typed array for code "+t);return new H6[n](Uint8Array.prototype.slice.call(e,1).buffer)};Vr[120]=()=>{let e=dn();return new RegExp(e[0],e[1])};const q6=[];Vr[98]=e=>{let t=(e[0]<<24)+(e[1]<<16)+(e[2]<<8)+e[3],n=W;return W+=t-e.length,Fn=q6,Fn=[z2(),z2()],Fn.position0=0,Fn.position1=0,Fn.postBundlePosition=W,W=n,dn()};Vr[255]=e=>e.length==4?new Date((e[0]*16777216+(e[1]<<16)+(e[2]<<8)+e[3])*1e3):e.length==8?new Date(((e[0]<<22)+(e[1]<<14)+(e[2]<<6)+(e[3]>>2))/1e6+((e[3]&3)*4294967296+e[4]*16777216+(e[5]<<16)+(e[6]<<8)+e[7])*1e3):e.length==12?new Date(((e[0]<<24)+(e[1]<<16)+(e[2]<<8)+e[3])/1e6+((e[4]&128?-281474976710656:0)+e[6]*1099511627776+e[7]*4294967296+e[8]*16777216+(e[9]<<16)+(e[10]<<8)+e[11])*1e3):new Date("invalid");function hj(e){let t=Ai,n=W,r=ui,i=xs,s=Ho,o=no,a=Fn,l=new Uint8Array(ve.slice(0,Ai)),c=tt,u=tt.slice(0,tt.length),d=Ct,h=Jo,p=e();return Ai=t,W=n,ui=r,xs=i,Ho=s,no=o,Fn=a,ve=l,Jo=h,tt=c,tt.splice(0,tt.length,...u),Ct=d,Ze=new DataView(ve.buffer,ve.byteOffset,ve.byteLength),p}function WA(){ve=null,no=null,tt=null}const Bb=new Array(147);for(let e=0;e<256;e++)Bb[e]=+("1e"+Math.floor(45.15-e*.30103));var e0=new af({useRecords:!1});const G6=e0.unpack;e0.unpackMultiple;e0.unpack;let W6=new Float32Array(1);new Uint8Array(W6.buffer,0,4);let qp;try{qp=new TextEncoder}catch{}let YA,pj;const t0=typeof Buffer<"u",Dh=t0?function(e){return Buffer.allocUnsafeSlow(e)}:Uint8Array,gj=t0?Buffer:Uint8Array,q2=t0?4294967296:2144337920;let J,Fu,xt,Y=0,fr,Wt=null,Y6;const K6=21760,Q6=/[\u0080-\uFFFF]/,Bl=Symbol("record-id");class J6 extends af{constructor(t){super(t),this.offset=0;let n,r,i,s,o=gj.prototype.utf8Write?function(M,U){return J.utf8Write(M,U,4294967295)}:qp&&qp.encodeInto?function(M,U){return qp.encodeInto(M,J.subarray(U)).written}:!1,a=this;t||(t={});let l=t&&t.sequential,c=t.structures||t.saveStructures,u=t.maxSharedStructures;if(u==null&&(u=c?32:0),u>8160)throw new Error("Maximum maxSharedStructure is 8160");t.structuredClone&&t.moreTypes==null&&(this.moreTypes=!0);let d=t.maxOwnStructures;d==null&&(d=c?32:64),!this.structures&&t.useRecords!=!1&&(this.structures=[]);let h=u>32||d+u>64,p=u+64,g=u+d+64;if(g>8256)throw new Error("Maximum maxSharedStructure + maxOwnStructure is 8192");let m=[],A=0,v=0;this.pack=this.encode=function(M,U){if(J||(J=new Dh(8192),xt=J.dataView||(J.dataView=new DataView(J.buffer,0,8192)),Y=0),fr=J.length-10,fr-Y<2048?(J=new Dh(J.length),xt=J.dataView||(J.dataView=new DataView(J.buffer,0,J.length)),fr=J.length-10,Y=0):Y=Y+7&2147483640,n=Y,U&r8&&(Y+=U&255),s=a.structuredClone?new Map:null,a.bundleStrings&&typeof M!="string"?(Wt=[],Wt.size=1/0):Wt=null,i=a.structures,i){i.uninitialized&&(i=a._mergeStructures(a.getStructures()));let I=i.sharedLength||0;if(I>u)throw new Error("Shared structures is larger than maximum shared structures, try increasing maxSharedStructures to "+i.sharedLength);if(!i.transitions){i.transitions=Object.create(null);for(let z=0;z<I;z++){let j=i[z];if(!j)continue;let $,B=i.transitions;for(let D=0,q=j.length;D<q;D++){let ne=j[D];$=B[ne],$||($=B[ne]=Object.create(null)),B=$}B[Bl]=z+64}this.lastNamedStructuresLength=I}l||(i.nextId=I+64)}r&&(r=!1);let P;try{a.randomAccessStructure&&M&&M.constructor&&M.constructor===Object?Q(M):S(M);let I=Wt;if(Wt&&Y2(n,S,0),s&&s.idsToInsert){let z=s.idsToInsert.sort((D,q)=>D.offset>q.offset?1:-1),j=z.length,$=-1;for(;I&&j>0;){let D=z[--j].offset+n;D<I.stringsPosition+n&&$===-1&&($=0),D>I.position+n?$>=0&&($+=6):($>=0&&(xt.setUint32(I.position+n,xt.getUint32(I.position+n)+$),$=-1),I=I.previous,j++)}$>=0&&I&&xt.setUint32(I.position+n,xt.getUint32(I.position+n)+$),Y+=z.length*6,Y>fr&&L(Y),a.offset=Y;let B=Z6(J.subarray(n,Y),z);return s=null,B}return a.offset=Y,U&t8?(J.start=n,J.end=Y,J):J.subarray(n,Y)}catch(I){throw P=I,I}finally{if(i&&(y(),r&&a.saveStructures)){let I=i.sharedLength||0,z=J.subarray(n,Y),j=e8(i,a);if(!P)return a.saveStructures(j,j.isCompatible)===!1?a.pack(M,U):(a.lastNamedStructuresLength=I,z)}U&n8&&(Y=n)}};const y=()=>{v<10&&v++;let M=i.sharedLength||0;if(i.length>M&&!l&&(i.length=M),A>1e4)i.transitions=null,v=0,A=0,m.length>0&&(m=[]);else if(m.length>0&&!l){for(let U=0,P=m.length;U<P;U++)m[U][Bl]=0;m=[]}},b=M=>{var U=M.length;U<16?J[Y++]=144|U:U<65536?(J[Y++]=220,J[Y++]=U>>8,J[Y++]=U&255):(J[Y++]=221,xt.setUint32(Y,U),Y+=4);for(let P=0;P<U;P++)S(M[P])},S=M=>{Y>fr&&(J=L(Y));var U=typeof M,P;if(U==="string"){let I=M.length;if(Wt&&I>=4&&I<4096){if((Wt.size+=I)>K6){let B,D=(Wt[0]?Wt[0].length*3+Wt[1].length:0)+10;Y+D>fr&&(J=L(Y+D));let q;Wt.position?(q=Wt,J[Y]=200,Y+=3,J[Y++]=98,B=Y-n,Y+=4,Y2(n,S,0),xt.setUint16(B+n-3,Y-n-B)):(J[Y++]=214,J[Y++]=98,B=Y-n,Y+=4),Wt=["",""],Wt.previous=q,Wt.size=0,Wt.position=B}let $=Q6.test(M);Wt[$?0:1]+=M,J[Y++]=193,S($?-I:I);return}let z;I<32?z=1:I<256?z=2:I<65536?z=3:z=5;let j=I*3;if(Y+j>fr&&(J=L(Y+j)),I<64||!o){let $,B,D,q=Y+z;for($=0;$<I;$++)B=M.charCodeAt($),B<128?J[q++]=B:B<2048?(J[q++]=B>>6|192,J[q++]=B&63|128):(B&64512)===55296&&((D=M.charCodeAt($+1))&64512)===56320?(B=65536+((B&1023)<<10)+(D&1023),$++,J[q++]=B>>18|240,J[q++]=B>>12&63|128,J[q++]=B>>6&63|128,J[q++]=B&63|128):(J[q++]=B>>12|224,J[q++]=B>>6&63|128,J[q++]=B&63|128);P=q-Y-z}else P=o(M,Y+z);P<32?J[Y++]=160|P:P<256?(z<2&&J.copyWithin(Y+2,Y+1,Y+1+P),J[Y++]=217,J[Y++]=P):P<65536?(z<3&&J.copyWithin(Y+3,Y+2,Y+2+P),J[Y++]=218,J[Y++]=P>>8,J[Y++]=P&255):(z<5&&J.copyWithin(Y+5,Y+3,Y+3+P),J[Y++]=219,xt.setUint32(Y,P),Y+=4),Y+=P}else if(U==="number")if(M>>>0===M)M<32||M<128&&this.useRecords===!1||M<64&&!this.randomAccessStructure?J[Y++]=M:M<256?(J[Y++]=204,J[Y++]=M):M<65536?(J[Y++]=205,J[Y++]=M>>8,J[Y++]=M&255):(J[Y++]=206,xt.setUint32(Y,M),Y+=4);else if(M>>0===M)M>=-32?J[Y++]=256+M:M>=-128?(J[Y++]=208,J[Y++]=M+256):M>=-32768?(J[Y++]=209,xt.setInt16(Y,M),Y+=2):(J[Y++]=210,xt.setInt32(Y,M),Y+=4);else{let I;if((I=this.useFloat32)>0&&M<4294967296&&M>=-2147483648){J[Y++]=202,xt.setFloat32(Y,M);let z;if(I<4||(z=M*Bb[(J[Y]&127)<<1|J[Y+1]>>7])>>0===z){Y+=4;return}else Y--}J[Y++]=203,xt.setFloat64(Y,M),Y+=8}else if(U==="object"||U==="function")if(!M)J[Y++]=192;else{if(s){let z=s.get(M);if(z){if(!z.id){let j=s.idsToInsert||(s.idsToInsert=[]);z.id=j.push(z)}J[Y++]=214,J[Y++]=112,xt.setUint32(Y,z.id),Y+=4;return}else s.set(M,{offset:Y-n})}let I=M.constructor;if(I===Object)T(M,!0);else if(I===Array)b(M);else if(I===Map)if(this.mapAsEmptyObject)J[Y++]=128;else{P=M.size,P<16?J[Y++]=128|P:P<65536?(J[Y++]=222,J[Y++]=P>>8,J[Y++]=P&255):(J[Y++]=223,xt.setUint32(Y,P),Y+=4);for(let[z,j]of M)S(z),S(j)}else{for(let z=0,j=YA.length;z<j;z++){let $=pj[z];if(M instanceof $){let B=YA[z];if(B.write){B.type&&(J[Y++]=212,J[Y++]=B.type,J[Y++]=0);let ce=B.write.call(this,M);ce===M?Array.isArray(M)?b(M):T(M):S(ce);return}let D=J,q=xt,ne=Y;J=null;let V;try{V=B.pack.call(this,M,ce=>(J=D,D=null,Y+=ce,Y>fr&&L(Y),{target:J,targetView:xt,position:Y-ce}),S)}finally{D&&(J=D,xt=q,Y=ne,fr=J.length-10)}V&&(V.length+Y>fr&&L(V.length+Y),Y=X6(V,J,Y,B.type));return}}if(Array.isArray(M))b(M);else{if(M.toJSON){const z=M.toJSON();if(z!==M)return S(z)}if(U==="function")return S(this.writeFunction&&this.writeFunction(M));T(M,!M.hasOwnProperty)}}}else if(U==="boolean")J[Y++]=M?195:194;else if(U==="bigint"){if(M<BigInt(1)<<BigInt(63)&&M>=-(BigInt(1)<<BigInt(63)))J[Y++]=211,xt.setBigInt64(Y,M);else if(M<BigInt(1)<<BigInt(64)&&M>0)J[Y++]=207,xt.setBigUint64(Y,M);else if(this.largeBigIntToFloat)J[Y++]=203,xt.setFloat64(Y,Number(M));else if(this.useBigIntExtension&&M<2n**1023n&&M>-(2n**1023n)){J[Y++]=199,Y++,J[Y++]=66;let I=[],z;do{let j=M&0xffn;z=(j&0x80n)===(M<0n?0x80n:0n),I.push(j),M>>=8n}while(!((M===0n||M===-1n)&&z));J[Y-2]=I.length;for(let j=I.length;j>0;)J[Y++]=Number(I[--j]);return}else throw new RangeError(M+" was too large to fit in MessagePack 64-bit integer format, use useBigIntExtension or set largeBigIntToFloat to convert to float-64");Y+=8}else if(U==="undefined")this.encodeUndefinedAsNil?J[Y++]=192:(J[Y++]=212,J[Y++]=0,J[Y++]=0);else throw new Error("Unknown type: "+U)},x=this.variableMapSize||this.coercibleKeyAsNumber?M=>{let U=Object.keys(M),P=U.length;P<16?J[Y++]=128|P:P<65536?(J[Y++]=222,J[Y++]=P>>8,J[Y++]=P&255):(J[Y++]=223,xt.setUint32(Y,P),Y+=4);let I;if(this.coercibleKeyAsNumber)for(let z=0;z<P;z++){I=U[z];let j=Number(I);S(isNaN(j)?I:j),S(M[I])}else for(let z=0;z<P;z++)S(I=U[z]),S(M[I])}:(M,U)=>{J[Y++]=222;let P=Y-n;Y+=2;let I=0;for(let z in M)(U||M.hasOwnProperty(z))&&(S(z),S(M[z]),I++);J[P+++n]=I>>8,J[P+n]=I&255},w=this.useRecords===!1?x:t.progressiveRecords&&!h?(M,U)=>{let P,I=i.transitions||(i.transitions=Object.create(null)),z=Y++-n,j;for(let $ in M)if(U||M.hasOwnProperty($)){if(P=I[$],P)I=P;else{let B=Object.keys(M),D=I;I=i.transitions;let q=0;for(let ne=0,V=B.length;ne<V;ne++){let ce=B[ne];P=I[ce],P||(P=I[ce]=Object.create(null),q++),I=P}z+n+1==Y?(Y--,O(I,B,q)):N(I,B,z,q),j=!0,I=D[$]}S(M[$])}if(!j){let $=I[Bl];$?J[z+n]=$:N(I,Object.keys(M),z,0)}}:(M,U)=>{let P,I=i.transitions||(i.transitions=Object.create(null)),z=0;for(let $ in M)(U||M.hasOwnProperty($))&&(P=I[$],P||(P=I[$]=Object.create(null),z++),I=P);let j=I[Bl];j?j>=96&&h?(J[Y++]=((j-=96)&31)+96,J[Y++]=j>>5):J[Y++]=j:O(I,I.__keys__||Object.keys(M),z);for(let $ in M)(U||M.hasOwnProperty($))&&S(M[$])},E=typeof this.useRecords=="function"&&this.useRecords,T=E?(M,U)=>{E(M)?w(M,U):x(M,U)}:w,L=M=>{let U;if(M>16777216){if(M-n>q2)throw new Error("Packed buffer would be larger than maximum buffer size");U=Math.min(q2,Math.round(Math.max((M-n)*(M>67108864?1.25:2),4194304)/4096)*4096)}else U=(Math.max(M-n<<2,J.length-1)>>12)+1<<12;let P=new Dh(U);return xt=P.dataView||(P.dataView=new DataView(P.buffer,0,U)),M=Math.min(M,J.length),J.copy?J.copy(P,0,n,M):P.set(J.slice(n,M)),Y-=n,n=0,fr=P.length-10,J=P},O=(M,U,P)=>{let I=i.nextId;I||(I=64),I<p&&this.shouldShareStructure&&!this.shouldShareStructure(U)?(I=i.nextOwnId,I<g||(I=p),i.nextOwnId=I+1):(I>=g&&(I=p),i.nextId=I+1);let z=U.highByte=I>=96&&h?I-96>>5:-1;M[Bl]=I,M.__keys__=U,i[I-64]=U,I<p?(U.isShared=!0,i.sharedLength=I-63,r=!0,z>=0?(J[Y++]=(I&31)+96,J[Y++]=z):J[Y++]=I):(z>=0?(J[Y++]=213,J[Y++]=114,J[Y++]=(I&31)+96,J[Y++]=z):(J[Y++]=212,J[Y++]=114,J[Y++]=I),P&&(A+=v*P),m.length>=d&&(m.shift()[Bl]=0),m.push(M),S(U))},N=(M,U,P,I)=>{let z=J,j=Y,$=fr,B=n;J=Fu,Y=0,n=0,J||(Fu=J=new Dh(8192)),fr=J.length-10,O(M,U,I),Fu=J;let D=Y;if(J=z,Y=j,fr=$,n=B,D>1){let q=Y+D-1;q>fr&&L(q);let ne=P+n;J.copyWithin(ne+D,ne+1,Y),J.set(Fu.slice(0,D),ne),Y=q}else J[P+n]=Fu[0]},Q=(M,U)=>{let P=Y6(M,J,n,Y,i,L,(I,z,j)=>{if(j)return r=!0;Y=z;let $=J;return S(I),y(),$!==J?{position:Y,targetView:xt,target:J}:Y},this);if(P===0)return T(M,!0);Y=P}}useBuffer(t){J=t,xt=new DataView(J.buffer,J.byteOffset,J.byteLength),Y=0}clearSharedData(){this.structures&&(this.structures=[]),this.typedStructs&&(this.typedStructs=[])}}pj=[Date,Set,Error,RegExp,ArrayBuffer,Object.getPrototypeOf(Uint8Array.prototype).constructor,sj];YA=[{pack(e,t,n){let r=e.getTime()/1e3;if((this.useTimestamp32||e.getMilliseconds()===0)&&r>=0&&r<4294967296){let{target:i,targetView:s,position:o}=t(6);i[o++]=214,i[o++]=255,s.setUint32(o,r)}else if(r>0&&r<4294967296){let{target:i,targetView:s,position:o}=t(10);i[o++]=215,i[o++]=255,s.setUint32(o,e.getMilliseconds()*4e6+(r/1e3/4294967296>>0)),s.setUint32(o+4,r)}else if(isNaN(r)){if(this.onInvalidDate)return t(0),n(this.onInvalidDate());let{target:i,targetView:s,position:o}=t(3);i[o++]=212,i[o++]=255,i[o++]=255}else{let{target:i,targetView:s,position:o}=t(15);i[o++]=199,i[o++]=12,i[o++]=255,s.setUint32(o,e.getMilliseconds()*1e6),s.setBigInt64(o+4,BigInt(Math.floor(r)))}}},{pack(e,t,n){if(this.setAsEmptyObject)return t(0),n({});let r=Array.from(e),{target:i,position:s}=t(this.moreTypes?3:0);this.moreTypes&&(i[s++]=212,i[s++]=115,i[s++]=0),n(r)}},{pack(e,t,n){let{target:r,position:i}=t(this.moreTypes?3:0);this.moreTypes&&(r[i++]=212,r[i++]=101,r[i++]=0),n([e.name,e.message])}},{pack(e,t,n){let{target:r,position:i}=t(this.moreTypes?3:0);this.moreTypes&&(r[i++]=212,r[i++]=120,r[i++]=0),n([e.source,e.flags])}},{pack(e,t){this.moreTypes?G2(e,16,t):W2(t0?Buffer.from(e):new Uint8Array(e),t)}},{pack(e,t){let n=e.constructor;n!==gj&&this.moreTypes?G2(e,fj.indexOf(n.name),t):W2(e,t)}},{pack(e,t){let{target:n,position:r}=t(1);n[r]=193}}];function G2(e,t,n,r){let i=e.byteLength;if(i+1<256){var{target:s,position:o}=n(4+i);s[o++]=199,s[o++]=i+1}else if(i+1<65536){var{target:s,position:o}=n(5+i);s[o++]=200,s[o++]=i+1>>8,s[o++]=i+1&255}else{var{target:s,position:o,targetView:a}=n(7+i);s[o++]=201,a.setUint32(o,i+1),o+=4}s[o++]=116,s[o++]=t,s.set(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),o)}function W2(e,t){let n=e.byteLength;var r,i;if(n<256){var{target:r,position:i}=t(n+2);r[i++]=196,r[i++]=n}else if(n<65536){var{target:r,position:i}=t(n+3);r[i++]=197,r[i++]=n>>8,r[i++]=n&255}else{var{target:r,position:i,targetView:s}=t(n+5);r[i++]=198,s.setUint32(i,n),i+=4}r.set(e,i)}function X6(e,t,n,r){let i=e.length;switch(i){case 1:t[n++]=212;break;case 2:t[n++]=213;break;case 4:t[n++]=214;break;case 8:t[n++]=215;break;case 16:t[n++]=216;break;default:i<256?(t[n++]=199,t[n++]=i):i<65536?(t[n++]=200,t[n++]=i>>8,t[n++]=i&255):(t[n++]=201,t[n++]=i>>24,t[n++]=i>>16&255,t[n++]=i>>8&255,t[n++]=i&255)}return t[n++]=r,t.set(e,n),n+=i,n}function Z6(e,t){let n,r=t.length*6,i=e.length-r;for(;n=t.pop();){let s=n.offset,o=n.id;e.copyWithin(s+r,s,i),r-=6;let a=s+r;e[a++]=214,e[a++]=105,e[a++]=o>>24,e[a++]=o>>16&255,e[a++]=o>>8&255,e[a++]=o&255,i=s}return e}function Y2(e,t,n){if(Wt.length>0){xt.setUint32(Wt.position+e,Y+n-Wt.position-e),Wt.stringsPosition=Y-e;let r=Wt;Wt=null,t(r[0]),t(r[1])}}function e8(e,t){return e.isCompatible=n=>{let r=!n||(t.lastNamedStructuresLength||0)===n.length;return r||t._mergeStructures(n),r},e}let mj=new J6({useRecords:!1});const vj=mj.pack;mj.pack;const t8=512,n8=1024,r8=2048;function Ic(){return Date.now()}const Ig=e=>vj(e),Fb=e=>G6(e);let i8=class{constructor(t,n){this.connection=t,this.inputLag=n,this.frequencies=[0],this.volumes=[0],this.requestReadinessPromise=null,this.getFrequencies=()=>this.frequencies,this.clearFrequencies=()=>{Array.isArray(this.frequencies[0])&&(this.frequencies=[this.frequencies[0].at(-1)])},this.getVolumes=()=>this.volumes,this.getInputLag=()=>this.inputLag,this.setInputLag=r=>{this.inputLag=r},this.requestReadiness=()=>(console.log("requestReadiness"),this.requestReadinessPromise||(this.requestReadinessPromise=new Promise(r=>{const i=s=>{s.t==="confirm-readiness"&&(r(!0),this.connection.off("data",i),this.requestReadinessPromise=null)};this.connection.on("data",i),Tc(this.connection,"request-readiness")})),this.requestReadinessPromise),this.startMonitoring=async()=>{var r,i;(r=this.connection)==null||r.off("data",this.handleRTCData),Tc(this.connection,"start-monitor"),(i=this.connection)==null||i.on("data",this.handleRTCData)},this.stopMonitoring=async()=>{var r;Tc(this.connection,"stop-monitor"),(r=this.connection)==null||r.off("data",this.handleRTCData)},this.handleRTCData=r=>{r.t==="freq"&&(this.frequencies=[r[0],r[0]],this.volumes=[r[1],r[1]])}}},s8=class{constructor(t,n,r,i){this.id=t,this.name=n,this.connection=r,this.pingTime=9999,this.pingInterval=null,this.getInput=()=>this.input,this.setPlayerNumber=s=>{Tc(this.connection,"set-player-number",{playerNumber:s})},this.onDisconnect=()=>{this.pingInterval!==null&&clearInterval(this.pingInterval)},this.setPermission=s=>{Tc(this.connection,"set-permissions",{level:s})},this.isPinging=!1,this.latency=9999,this.onPong=()=>{this.latency=Ic()-this.pingTime,this.isPinging=!1,this.pingClient()},this.pingClient=()=>{this.pingInterval=setTimeout(()=>{this.pingTime=Ic(),this.isPinging=!0,Tc(this.connection,"ping")},1e3)},this.getLatency=()=>this.isPinging?Ic()-this.pingTime:this.latency,this.getPingTime=()=>this.pingTime,this.input=new i8(r,i),this.pingClient()}};const Qf={SelectionOnTop:"selection_on_top",WebsocketsRemoteMics:"websockets_remote_mics",InitialInputLag:"initial_input_lag",LandingPageBackground:"landing_page_background",VirtualizedSongSelection:"virtualized_song_selection",Eurovision:"eurovision"};class ni extends bo{constructor(t,n,r="local"){super(),this.name=t,this.defaultValue=n,this.driver=r,this.value=void 0,this.get=()=>(this.value===void 0&&(this.value=Ve[this.driver].getItem(`settings-${this.name}`)??this.defaultValue),this.value),this.set=i=>{this.value=i,Ve[this.driver].setItem(`settings-${this.name}`,i),this.onUpdate(i)}}}const yj=["high","low"],o8="graphics-level",Ss=new ni(o8,yj[0]),a8=[null,"skip","remoteMics","singstar-mics","different-mics","advanced","built-in"],l8="mic-setup-preference",zb=new ni(l8,a8[0],"session"),Aj=[60,30],Ya=new ni("fps-count",Aj[0]),n0=new ni("EXCLUDED_LANGUAGES_KEY_V2",null),Zn=new ni("MOBILE_PHONE_MODE_KEY",null),_j=new ni("keyboard-help-visibility",!0);var wR;const K2=(wR=pn.getFeatureFlagPayload)==null?void 0:wR.call(pn,Qf.InitialInputLag),Id=new ni("INPUT_LAG_V2",typeof K2=="number"?K2:0),bj=new ni("REMOTE_MIC_INPUT_LAG",0,"session"),Q2=["write","read"],xj=new ni("DefaultRemoteMicPermission","write"),Sj=["New","Classic"],Ub=new ni("background-music",Sj[0]),Jf=new ni("BackgroundThemeSetting","regular","memory"),Hb=new ni("AutoEnableFullscreenSetting",!0,"session"),Pg=new ni("UseWebsocketsSettings",!1,"session");var ER;(ER=pn.onFeatureFlags)==null||ER.call(pn,()=>{Pg.set(pn.isFeatureEnabled(Qf.WebsocketsRemoteMics)??!1)});function $e(e){const[t,n]=_.useState(e.get());return _.useLayoutEffect(()=>e.addListener(n),[e]),[t,e.set]}const J2="RememberedAccessesKey",Yv="rememberedSubscriptionsKey";class c8 extends bo{constructor(){super(...arguments),this.remoteMics=[],this.micAccessMap=Ve.getItem(J2)??{},this.subscriptions=Ve.session.getItem(Yv)??{"remote-mics":[]},this.addRemoteMic=(t,n,r,i,s)=>{this.remoteMics=this.remoteMics.filter(o=>o.id!==t),this.remoteMics=[...this.remoteMics,new s8(t,n,r,s)],this.setPermission(t,this.getPermission(t)),te.remoteMicConnected.dispatch({id:t,name:n,silent:i})},this.removeRemoteMic=(t,n=!1)=>{const r=this.remoteMics.find(i=>i.id===t);this.remoteMics=this.remoteMics.filter(i=>i.id!==t),r&&(r.onDisconnect(),te.remoteMicDisconnected.dispatch(r,n))},this.getRemoteMics=()=>this.remoteMics,this.getRemoteMicById=t=>this.remoteMics.find(n=>n.id===t),this.broadcast=t=>{this.getRemoteMics().forEach(n=>n.connection.send(t))},this.broadcastToChannel=(t,n)=>{this.subscriptions[t].forEach(r=>{var i;return(i=this.getRemoteMicById(r))==null?void 0:i.connection.send(n)})},this.getPermission=t=>this.micAccessMap[t]??xj.get(),this.setPermission=(t,n)=>{var r;(r=this.getRemoteMicById(t))==null||r.setPermission(n),this.micAccessMap[t]=n,Ve.setItem(J2,this.micAccessMap),this.onUpdate(t,n)},this.addSubscription=(t,n)=>{this.subscriptions[n]=[...new Set([...this.subscriptions[n],t])],Ve.session.setItem(Yv,this.subscriptions),te.remoteMicSubscribed.dispatch(t,n)},this.removeSubscription=(t,n)=>{var r;this.subscriptions[n]=((r=this.subscriptions[n])==null?void 0:r.filter(i=>i!==t))??[],Ve.session.setItem(Yv,this.subscriptions)}}}const Je=new c8;Jf.addListener(e=>{ij(e),Je.broadcast({t:"style-change",style:e})});te.remoteMicConnected.subscribe(e=>{var t;(t=Je.getRemoteMicById(e.id))==null||t.connection.send({t:"style-change",style:Jf.get()})});class u8{constructor(){this.frequencies=[440,410],this.volumes=[1,1],this.startMonitoring=async()=>{},this.getFrequencies=t=>this.frequencies,this.getVolumes=t=>this.volumes,this.clearFrequencies=t=>{},this.stopMonitoring=async t=>{},this.getInputLag=()=>0,this.setFrequency=(t,n)=>this.frequencies[t]=n,this.requestReadiness=()=>Promise.resolve(!0),this.getStatus=()=>"ok"}}const d8=new u8;class f8{constructor(){this.frequencies=[410,210],this.volumes=[1,1],this.timestamp=0,this.interval=null,this.isMonitoring=!1,this.startMonitoring=async()=>{this.isMonitoring||(this.isMonitoring=!0,this.interval=global.setInterval(()=>{this.timestamp=this.timestamp+32,this.frequencies[0]=Math.sin(this.timestamp/1e3)*50+100,this.frequencies[1]=Math.cos(this.timestamp/1e3)*50+200},32))},this.getFrequencies=()=>this.frequencies,this.getVolumes=()=>this.volumes,this.clearFrequencies=t=>{},this.stopMonitoring=async()=>{this.isMonitoring&&(this.isMonitoring=!1,this.interval&&global.clearInterval(this.interval))},this.getInputLag=()=>150,this.requestReadiness=()=>Promise.resolve(!0),this.getStatus=()=>"ok"}}const h8=new f8,wj=Object.prototype.toString;function qb(e){switch(wj.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return oo(e,Error)}}function yu(e,t){return wj.call(e)===`[object ${t}]`}function Gb(e){return yu(e,"ErrorEvent")}function X2(e){return yu(e,"DOMError")}function p8(e){return yu(e,"DOMException")}function Ms(e){return yu(e,"String")}function Wb(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function Yb(e){return e===null||Wb(e)||typeof e!="object"&&typeof e!="function"}function Gc(e){return yu(e,"Object")}function r0(e){return typeof Event<"u"&&oo(e,Event)}function g8(e){return typeof Element<"u"&&oo(e,Element)}function m8(e){return yu(e,"RegExp")}function i0(e){return!!(e&&e.then&&typeof e.then=="function")}function v8(e){return Gc(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function Ej(e){return typeof e=="number"&&e!==e}function oo(e,t){try{return e instanceof t}catch{return!1}}function kj(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue))}function Pc(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function Z2(e,t){if(!Array.isArray(e))return"";const n=[];for(let r=0;r<e.length;r++){const i=e[r];try{kj(i)?n.push("[VueViewModel]"):n.push(String(i))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function y8(e,t,n=!1){return Ms(e)?m8(t)?t.test(e):Ms(t)?n?e===t:e.includes(t):!1:!1}function Xf(e,t=[],n=!1){return t.some(r=>y8(e,r,n))}function A8(e,t,n=250,r,i,s,o){if(!s.exception||!s.exception.values||!o||!oo(o.originalException,Error))return;const a=s.exception.values.length>0?s.exception.values[s.exception.values.length-1]:void 0;a&&(s.exception.values=_8(KA(e,t,i,o.originalException,r,s.exception.values,a,0),n))}function KA(e,t,n,r,i,s,o,a){if(s.length>=n+1)return s;let l=[...s];if(oo(r[i],Error)){ek(o,a);const c=e(t,r[i]),u=l.length;tk(c,i,u,a),l=KA(e,t,n,r[i],i,[c,...l],c,u)}return Array.isArray(r.errors)&&r.errors.forEach((c,u)=>{if(oo(c,Error)){ek(o,a);const d=e(t,c),h=l.length;tk(d,`errors[${u}]`,h,a),l=KA(e,t,n,c,i,[d,...l],d,h)}}),l}function ek(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function tk(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}function _8(e,t){return e.map(n=>(n.value&&(n.value=Pc(n.value,t)),n))}function Bh(e){return e&&e.Math==Math?e:void 0}const dt=typeof globalThis=="object"&&Bh(globalThis)||typeof window=="object"&&Bh(window)||typeof self=="object"&&Bh(self)||typeof global=="object"&&Bh(global)||function(){return this}()||{};function Kb(){return dt}function Cj(e,t,n){const r=n||dt,i=r.__SENTRY__=r.__SENTRY__||{};return i[e]||(i[e]=t())}const Rc=Kb(),b8=80;function Wc(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,i=[];let s=0,o=0;const a=" > ",l=a.length;let c;const u=Array.isArray(t)?t:t.keyAttrs,d=!Array.isArray(t)&&t.maxStringLength||b8;for(;n&&s++<r&&(c=x8(n,u),!(c==="html"||s>1&&o+i.length*l+c.length>=d));)i.push(c),o+=c.length,n=n.parentNode;return i.reverse().join(a)}catch{return"<unknown>"}}function x8(e,t){const n=e,r=[];let i,s,o,a,l;if(!n||!n.tagName)return"";if(Rc.HTMLElement&&n instanceof HTMLElement&&n.dataset&&n.dataset.sentryComponent)return n.dataset.sentryComponent;r.push(n.tagName.toLowerCase());const c=t&&t.length?t.filter(d=>n.getAttribute(d)).map(d=>[d,n.getAttribute(d)]):null;if(c&&c.length)c.forEach(d=>{r.push(`[${d[0]}="${d[1]}"]`)});else if(n.id&&r.push(`#${n.id}`),i=n.className,i&&Ms(i))for(s=i.split(/\s+/),l=0;l<s.length;l++)r.push(`.${s[l]}`);const u=["aria-label","type","name","title","alt"];for(l=0;l<u.length;l++)o=u[l],a=n.getAttribute(o),a&&r.push(`[${o}="${a}"]`);return r.join("")}function S8(){try{return Rc.document.location.href}catch{return""}}function w8(e){return Rc.document&&Rc.document.querySelector?Rc.document.querySelector(e):null}function Tj(e){if(!Rc.HTMLElement)return null;let t=e;const n=5;for(let r=0;r<n;r++){if(!t)return null;if(t instanceof HTMLElement&&t.dataset.sentryComponent)return t.dataset.sentryComponent;t=t.parentNode}return null}const Au=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,E8="Sentry Logger ",QA=["debug","info","warn","error","log","assert","trace"],Rg={};function s0(e){if(!("console"in dt))return e();const t=dt.console,n={},r=Object.keys(Rg);r.forEach(i=>{const s=Rg[i];n[i]=t[i],t[i]=s});try{return e()}finally{r.forEach(i=>{t[i]=n[i]})}}function k8(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return Au?QA.forEach(n=>{t[n]=(...r)=>{e&&s0(()=>{dt.console[n](`${E8}[${n}]:`,...r)})}}):QA.forEach(n=>{t[n]=()=>{}}),t}const re=k8(),C8=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function T8(e){return e==="http"||e==="https"}function _l(e,t=!1){const{host:n,path:r,pass:i,port:s,projectId:o,protocol:a,publicKey:l}=e;return`${a}://${l}${t&&i?`:${i}`:""}@${n}${s?`:${s}`:""}/${r&&`${r}/`}${o}`}function I8(e){const t=C8.exec(e);if(!t){s0(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}const[n,r,i="",s,o="",a]=t.slice(1);let l="",c=a;const u=c.split("/");if(u.length>1&&(l=u.slice(0,-1).join("/"),c=u.pop()),c){const d=c.match(/^\d+/);d&&(c=d[0])}return Ij({host:s,pass:i,path:l,projectId:c,port:o,protocol:n,publicKey:r})}function Ij(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function P8(e){if(!Au)return!0;const{port:t,projectId:n,protocol:r}=e;return["protocol","publicKey","host","projectId"].find(o=>e[o]?!1:(re.error(`Invalid Sentry Dsn: ${o} missing`),!0))?!1:n.match(/^\d+$/)?T8(r)?t&&isNaN(parseInt(t,10))?(re.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):!0:(re.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(re.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}function Pj(e){const t=typeof e=="string"?I8(e):Ij(e);if(!(!t||!P8(t)))return t}class ws extends Error{constructor(t,n="warn"){super(t),this.message=t,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=n}}function Qn(e,t,n){if(!(t in e))return;const r=e[t],i=n(r);typeof i=="function"&&Rj(i,r),e[t]=i}function il(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{Au&&re.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function Rj(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,il(e,"__sentry_original__",t)}catch{}}function Qb(e){return e.__sentry_original__}function R8(e){return Object.keys(e).map(t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`).join("&")}function Mj(e){if(qb(e))return{message:e.message,name:e.name,stack:e.stack,...rk(e)};if(r0(e)){const t={type:e.type,target:nk(e.target),currentTarget:nk(e.currentTarget),...rk(e)};return typeof CustomEvent<"u"&&oo(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function nk(e){try{return g8(e)?Wc(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function rk(e){if(typeof e=="object"&&e!==null){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}else return{}}function M8(e,t=40){const n=Object.keys(Mj(e));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=t)return Pc(n[0],t);for(let r=n.length;r>0;r--){const i=n.slice(0,r).join(", ");if(!(i.length>t))return r===n.length?i:Pc(i,t)}return""}function qr(e){return JA(e,new Map)}function JA(e,t){if(j8(e)){const n=t.get(e);if(n!==void 0)return n;const r={};t.set(e,r);for(const i of Object.keys(e))typeof e[i]<"u"&&(r[i]=JA(e[i],t));return r}if(Array.isArray(e)){const n=t.get(e);if(n!==void 0)return n;const r=[];return t.set(e,r),e.forEach(i=>{r.push(JA(i,t))}),r}return e}function j8(e){if(!Gc(e))return!1;try{const t=Object.getPrototypeOf(e).constructor.name;return!t||t==="Object"}catch{return!0}}const jj=50,ik=/\(error: (.*)\)/,sk=/captureMessage|captureException/;function Oj(...e){const t=e.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0)=>{const i=[],s=n.split(`
`);for(let o=r;o<s.length;o++){const a=s[o];if(a.length>1024)continue;const l=ik.test(a)?a.replace(ik,"$1"):a;if(!l.match(/\S*Error: /)){for(const c of t){const u=c(l);if(u){i.push(u);break}}if(i.length>=jj)break}}return V8(i)}}function O8(e){return Array.isArray(e)?Oj(...e):e}function V8(e){if(!e.length)return[];const t=Array.from(e);return/sentryWrapped/.test(t[t.length-1].function||"")&&t.pop(),t.reverse(),sk.test(t[t.length-1].function||"")&&(t.pop(),sk.test(t[t.length-1].function||"")&&t.pop()),t.slice(0,jj).map(n=>({...n,filename:n.filename||t[t.length-1].filename,function:n.function||"?"}))}const Kv="<anonymous>";function ao(e){try{return!e||typeof e!="function"?Kv:e.name||Kv}catch{return Kv}}const Gp={},ok={};function bl(e,t){Gp[e]=Gp[e]||[],Gp[e].push(t)}function xl(e,t){ok[e]||(t(),ok[e]=!0)}function ns(e,t){const n=e&&Gp[e];if(n)for(const r of n)try{r(t)}catch(i){Au&&re.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${ao(r)}
Error:`,i)}}function L8(e){const t="console";bl(t,e),xl(t,N8)}function N8(){"console"in dt&&QA.forEach(function(e){e in dt.console&&Qn(dt.console,e,function(t){return Rg[e]=t,function(...n){ns("console",{args:n,level:e});const i=Rg[e];i&&i.apply(dt.console,n)}})})}function hn(){const e=dt,t=e.crypto||e.msCrypto;let n=()=>Math.random()*16;try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>{const r=new Uint8Array(1);return t.getRandomValues(r),r[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,r=>(r^(n()&15)>>r/4).toString(16))}function Vj(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function $o(e){const{message:t,event_id:n}=e;if(t)return t;const r=Vj(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function XA(e,t,n){const r=e.exception=e.exception||{},i=r.values=r.values||[],s=i[0]=i[0]||{};s.value||(s.value=t||""),s.type||(s.type=n||"Error")}function lf(e,t){const n=Vj(e);if(!n)return;const r={type:"generic",handled:!0},i=n.mechanism;if(n.mechanism={...r,...i,...t},t&&"data"in t){const s={...i&&i.data,...t.data};n.mechanism.data=s}}function ak(e){if(e&&e.__sentry_captured__)return!0;try{il(e,"__sentry_captured__",!0)}catch{}return!1}function Lj(e){return Array.isArray(e)?e:[e]}const Xl=dt,$8=1e3;let lk,ZA,e1;function D8(e){const t="dom";bl(t,e),xl(t,B8)}function B8(){if(!Xl.document)return;const e=ns.bind(null,"dom"),t=ck(e,!0);Xl.document.addEventListener("click",t,!1),Xl.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{const r=Xl[n]&&Xl[n].prototype;!r||!r.hasOwnProperty||!r.hasOwnProperty("addEventListener")||(Qn(r,"addEventListener",function(i){return function(s,o,a){if(s==="click"||s=="keypress")try{const l=this,c=l.__sentry_instrumentation_handlers__=l.__sentry_instrumentation_handlers__||{},u=c[s]=c[s]||{refCount:0};if(!u.handler){const d=ck(e);u.handler=d,i.call(this,s,d,a)}u.refCount++}catch{}return i.call(this,s,o,a)}}),Qn(r,"removeEventListener",function(i){return function(s,o,a){if(s==="click"||s=="keypress")try{const l=this,c=l.__sentry_instrumentation_handlers__||{},u=c[s];u&&(u.refCount--,u.refCount<=0&&(i.call(this,s,u.handler,a),u.handler=void 0,delete c[s]),Object.keys(c).length===0&&delete l.__sentry_instrumentation_handlers__)}catch{}return i.call(this,s,o,a)}}))})}function F8(e){if(e.type!==ZA)return!1;try{if(!e.target||e.target._sentryId!==e1)return!1}catch{}return!0}function z8(e,t){return e!=="keypress"?!1:!t||!t.tagName?!0:!(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable)}function ck(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=U8(n);if(z8(n.type,r))return;il(n,"_sentryCaptured",!0),r&&!r._sentryId&&il(r,"_sentryId",hn());const i=n.type==="keypress"?"input":n.type;F8(n)||(e({event:n,name:i,global:t}),ZA=n.type,e1=r?r._sentryId:void 0),clearTimeout(lk),lk=Xl.setTimeout(()=>{e1=void 0,ZA=void 0},$8)}}function U8(e){try{return e.target}catch{return null}}const t1=Kb();function Nj(){if(!("fetch"in t1))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function n1(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function H8(){if(typeof EdgeRuntime=="string")return!0;if(!Nj())return!1;if(n1(t1.fetch))return!0;let e=!1;const t=t1.document;if(t&&typeof t.createElement=="function")try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=n1(n.contentWindow.fetch)),t.head.removeChild(n)}catch(n){Au&&re.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e}function $j(e){const t="fetch";bl(t,e),xl(t,q8)}function q8(){H8()&&Qn(dt,"fetch",function(e){return function(...t){const{method:n,url:r}=G8(t),i={args:t,fetchData:{method:n,url:r},startTimestamp:Date.now()};return ns("fetch",{...i}),e.apply(dt,t).then(s=>{const o={...i,endTimestamp:Date.now(),response:s};return ns("fetch",o),s},s=>{const o={...i,endTimestamp:Date.now(),error:s};throw ns("fetch",o),s})}})}function r1(e,t){return!!e&&typeof e=="object"&&!!e[t]}function uk(e){return typeof e=="string"?e:e?r1(e,"url")?e.url:e.toString?e.toString():"":""}function G8(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){const[n,r]=e;return{url:uk(n),method:r1(r,"method")?String(r.method).toUpperCase():"GET"}}const t=e[0];return{url:uk(t),method:r1(t,"method")?String(t.method).toUpperCase():"GET"}}let Fh=null;function Dj(e){const t="error";bl(t,e),xl(t,W8)}function W8(){Fh=dt.onerror,dt.onerror=function(e,t,n,r,i){return ns("error",{column:r,error:i,line:n,msg:e,url:t}),Fh&&!Fh.__SENTRY_LOADER__?Fh.apply(this,arguments):!1},dt.onerror.__SENTRY_INSTRUMENTED__=!0}let zh=null;function Bj(e){const t="unhandledrejection";bl(t,e),xl(t,Y8)}function Y8(){zh=dt.onunhandledrejection,dt.onunhandledrejection=function(e){return ns("unhandledrejection",e),zh&&!zh.__SENTRY_LOADER__?zh.apply(this,arguments):!0},dt.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}const Uh=Kb();function K8(){const e=Uh.chrome,t=e&&e.app&&e.app.runtime,n="history"in Uh&&!!Uh.history.pushState&&!!Uh.history.replaceState;return!t&&n}const zu=dt;let Hh;function Jb(e){const t="history";bl(t,e),xl(t,Q8)}function Q8(){if(!K8())return;const e=zu.onpopstate;zu.onpopstate=function(...n){const r=zu.location.href,i=Hh;if(Hh=r,ns("history",{from:i,to:r}),e)try{return e.apply(this,n)}catch{}};function t(n){return function(...r){const i=r.length>2?r[2]:void 0;if(i){const s=Hh,o=String(i);Hh=o,ns("history",{from:s,to:o})}return n.apply(this,r)}}Qn(zu.history,"pushState",t),Qn(zu.history,"replaceState",t)}const J8=dt,rc="__sentry_xhr_v3__";function Fj(e){const t="xhr";bl(t,e),xl(t,X8)}function X8(){if(!J8.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;Qn(e,"open",function(t){return function(...n){const r=Date.now(),i=Ms(n[0])?n[0].toUpperCase():void 0,s=Z8(n[1]);if(!i||!s)return t.apply(this,n);this[rc]={method:i,url:s,request_headers:{}},i==="POST"&&s.match(/sentry_key/)&&(this.__sentry_own_request__=!0);const o=()=>{const a=this[rc];if(a&&this.readyState===4){try{a.status_code=this.status}catch{}const l={args:[i,s],endTimestamp:Date.now(),startTimestamp:r,xhr:this};ns("xhr",l)}};return"onreadystatechange"in this&&typeof this.onreadystatechange=="function"?Qn(this,"onreadystatechange",function(a){return function(...l){return o(),a.apply(this,l)}}):this.addEventListener("readystatechange",o),Qn(this,"setRequestHeader",function(a){return function(...l){const[c,u]=l,d=this[rc];return d&&Ms(c)&&Ms(u)&&(d.request_headers[c.toLowerCase()]=u),a.apply(this,l)}}),t.apply(this,n)}}),Qn(e,"send",function(t){return function(...n){const r=this[rc];if(!r)return t.apply(this,n);n[0]!==void 0&&(r.body=n[0]);const i={args:[r.method,r.url],startTimestamp:Date.now(),xhr:this};return ns("xhr",i),t.apply(this,n)}})}function Z8(e){if(Ms(e))return e;try{return e.toString()}catch{}}function e7(){return"npm"}function t7(){const e=typeof WeakSet=="function",t=e?new WeakSet:[];function n(i){if(e)return t.has(i)?!0:(t.add(i),!1);for(let s=0;s<t.length;s++)if(t[s]===i)return!0;return t.push(i),!1}function r(i){if(e)t.delete(i);else for(let s=0;s<t.length;s++)if(t[s]===i){t.splice(s,1);break}}return[n,r]}function Vo(e,t=100,n=1/0){try{return i1("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function zj(e,t=3,n=100*1024){const r=Vo(e,t);return s7(r)>n?zj(e,t-1,n):r}function i1(e,t,n=1/0,r=1/0,i=t7()){const[s,o]=i;if(t==null||["number","boolean","string"].includes(typeof t)&&!Ej(t))return t;const a=n7(e,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;const l=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:n;if(l===0)return a.replace("object ","");if(s(t))return"[Circular ~]";const c=t;if(c&&typeof c.toJSON=="function")try{const p=c.toJSON();return i1("",p,l-1,r,i)}catch{}const u=Array.isArray(t)?[]:{};let d=0;const h=Mj(t);for(const p in h){if(!Object.prototype.hasOwnProperty.call(h,p))continue;if(d>=r){u[p]="[MaxProperties ~]";break}const g=h[p];u[p]=i1(p,g,l-1,r,i),d++}return o(t),u}function n7(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&t===global)return"[Global]";if(typeof window<"u"&&t===window)return"[Window]";if(typeof document<"u"&&t===document)return"[Document]";if(kj(t))return"[VueViewModel]";if(v8(t))return"[SyntheticEvent]";if(typeof t=="number"&&t!==t)return"[NaN]";if(typeof t=="function")return`[Function: ${ao(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;const n=r7(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function r7(e){const t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}function i7(e){return~-encodeURI(e).split(/%..|./).length}function s7(e){return i7(JSON.stringify(e))}var Ws;(function(e){e[e.PENDING=0]="PENDING";const n=1;e[e.RESOLVED=n]="RESOLVED";const r=2;e[e.REJECTED=r]="REJECTED"})(Ws||(Ws={}));function Yc(e){return new zr(t=>{t(e)})}function Xb(e){return new zr((t,n)=>{n(e)})}class zr{constructor(t){zr.prototype.__init.call(this),zr.prototype.__init2.call(this),zr.prototype.__init3.call(this),zr.prototype.__init4.call(this),this._state=Ws.PENDING,this._handlers=[];try{t(this._resolve,this._reject)}catch(n){this._reject(n)}}then(t,n){return new zr((r,i)=>{this._handlers.push([!1,s=>{if(!t)r(s);else try{r(t(s))}catch(o){i(o)}},s=>{if(!n)i(s);else try{r(n(s))}catch(o){i(o)}}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new zr((n,r)=>{let i,s;return this.then(o=>{s=!1,i=o,t&&t()},o=>{s=!0,i=o,t&&t()}).then(()=>{if(s){r(i);return}n(i)})})}__init(){this._resolve=t=>{this._setResult(Ws.RESOLVED,t)}}__init2(){this._reject=t=>{this._setResult(Ws.REJECTED,t)}}__init3(){this._setResult=(t,n)=>{if(this._state===Ws.PENDING){if(i0(n)){n.then(this._resolve,this._reject);return}this._state=t,this._value=n,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===Ws.PENDING)return;const t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===Ws.RESOLVED&&n[1](this._value),this._state===Ws.REJECTED&&n[2](this._value),n[0]=!0)})}}}function o7(e){const t=[];function n(){return e===void 0||t.length<e}function r(o){return t.splice(t.indexOf(o),1)[0]}function i(o){if(!n())return Xb(new ws("Not adding Promise because buffer limit was reached."));const a=o();return t.indexOf(a)===-1&&t.push(a),a.then(()=>r(a)).then(null,()=>r(a).then(null,()=>{})),a}function s(o){return new zr((a,l)=>{let c=t.length;if(!c)return a(!0);const u=setTimeout(()=>{o&&o>0&&a(!1)},o);t.forEach(d=>{Yc(d).then(()=>{--c||(clearTimeout(u),a(!0))},l)})})}return{$:t,add:i,drain:s}}function Ka(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}const a7=["fatal","error","warning","log","info","debug"];function l7(e){return e==="warn"?"warning":a7.includes(e)?e:"log"}const Uj=1e3;function Zf(){return Date.now()/Uj}function c7(){const{performance:e}=dt;if(!e||!e.now)return Zf;const t=Date.now()-e.now(),n=e.timeOrigin==null?t:e.timeOrigin;return()=>(n+e.now())/Uj}const sl=c7(),Ei=(()=>{const{performance:e}=dt;if(!e||!e.now)return;const t=3600*1e3,n=e.now(),r=Date.now(),i=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,s=i<t,o=e.timing&&e.timing.navigationStart,l=typeof o=="number"?Math.abs(o+n-r):t,c=l<t;return s||c?i<=l?e.timeOrigin:o:r})(),s1="baggage",Hj="sentry-",u7=/^sentry-/,d7=8192;function f7(e){if(!Ms(e)&&!Array.isArray(e))return;let t={};if(Array.isArray(e))t=e.reduce((r,i)=>{const s=dk(i);for(const o of Object.keys(s))r[o]=s[o];return r},{});else{if(!e)return;t=dk(e)}const n=Object.entries(t).reduce((r,[i,s])=>{if(i.match(u7)){const o=i.slice(Hj.length);r[o]=s}return r},{});if(Object.keys(n).length>0)return n}function qj(e){if(!e)return;const t=Object.entries(e).reduce((n,[r,i])=>(i&&(n[`${Hj}${r}`]=i),n),{});return h7(t)}function dk(e){return e.split(",").map(t=>t.split("=").map(n=>decodeURIComponent(n.trim()))).reduce((t,[n,r])=>(t[n]=r,t),{})}function h7(e){if(Object.keys(e).length!==0)return Object.entries(e).reduce((t,[n,r],i)=>{const s=`${encodeURIComponent(n)}=${encodeURIComponent(r)}`,o=i===0?s:`${t},${s}`;return o.length>d7?(Au&&re.warn(`Not adding key: ${n} with val: ${r} to baggage header due to exceeding baggage size limits.`),t):o},"")}const p7=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function g7(e){if(!e)return;const t=e.match(p7);if(!t)return;let n;return t[3]==="1"?n=!0:t[3]==="0"&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}function m7(e,t){const n=g7(e),r=f7(t),{traceId:i,parentSpanId:s,parentSampled:o}=n||{};return n?{traceId:i||hn(),parentSpanId:s||hn().substring(16),spanId:hn().substring(16),sampled:o,dsc:r||{}}:{traceId:i||hn(),spanId:hn().substring(16)}}function Zb(e=hn(),t=hn().substring(16),n){let r="";return n!==void 0&&(r=n?"-1":"-0"),`${e}-${t}${r}`}function Sl(e,t=[]){return[e,t]}function v7(e,t){const[n,r]=e;return[n,[...r,t]]}function fk(e,t){const n=e[1];for(const r of n){const i=r[0].type;if(t(r,i))return!0}return!1}function o1(e,t){return(t||new TextEncoder).encode(e)}function y7(e,t){const[n,r]=e;let i=JSON.stringify(n);function s(o){typeof i=="string"?i=typeof o=="string"?i+o:[o1(i,t),o]:i.push(typeof o=="string"?o1(o,t):o)}for(const o of r){const[a,l]=o;if(s(`
${JSON.stringify(a)}
`),typeof l=="string"||l instanceof Uint8Array)s(l);else{let c;try{c=JSON.stringify(l)}catch{c=JSON.stringify(Vo(l))}s(c)}}return typeof i=="string"?i:A7(i)}function A7(e){const t=e.reduce((i,s)=>i+s.length,0),n=new Uint8Array(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return n}function _7(e,t){const n=typeof e.data=="string"?o1(e.data,t):e.data;return[qr({type:"attachment",length:n.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),n]}const b7={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket"};function hk(e){return b7[e]}function Gj(e){if(!e||!e.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function x7(e,t,n,r){const i=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:_l(r)},...i&&{trace:qr({...i})}}}function S7(e,t,n){const r=[{type:"client_report"},{timestamp:n||Zf(),discarded_events:e}];return Sl(t?{dsn:t}:{},[r])}const w7=60*1e3;function E7(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return n*1e3;const r=Date.parse(`${e}`);return isNaN(r)?w7:r-t}function k7(e,t){return e[t]||e.all||0}function C7(e,t,n=Date.now()){return k7(e,t)>n}function T7(e,{statusCode:t,headers:n},r=Date.now()){const i={...e},s=n&&n["x-sentry-rate-limits"],o=n&&n["retry-after"];if(s)for(const a of s.trim().split(",")){const[l,c,,,u]=a.split(":",5),d=parseInt(l,10),h=(isNaN(d)?60:d)*1e3;if(!c)i.all=r+h;else for(const p of c.split(";"))p==="metric_bucket"?(!u||u.split(";").includes("custom"))&&(i[p]=r+h):i[p]=r+h}else o?i.all=r+E7(o,r):t===429&&(i.all=r+60*1e3);return i}const Me=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,o0="production";function ex(){return Cj("globalEventProcessors",()=>[])}function I7(e){ex().push(e)}function Mg(e,t,n,r=0){return new zr((i,s)=>{const o=e[r];if(t===null||typeof o!="function")i(t);else{const a=o({...t},n);Me&&o.id&&a===null&&re.log(`Event processor "${o.id}" dropped event`),i0(a)?a.then(l=>Mg(e,l,n,r+1).then(i)).then(null,s):Mg(e,a,n,r+1).then(i).then(null,s)}})}function Wj(e){const t=sl(),n={sid:hn(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>P7(n)};return e&&ol(n,e),n}function ol(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||sl(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:hn()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function Yj(e,t){let n={};t?n={status:t}:e.status==="ok"&&(n={status:"exited"}),ol(e,n)}function P7(e){return qr({sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}const R7=0,Kj=1;function tx(e){const{spanId:t,traceId:n}=e.spanContext(),{data:r,op:i,parent_span_id:s,status:o,tags:a,origin:l}=Tn(e);return qr({data:r,op:i,parent_span_id:s,span_id:t,status:o,tags:a,trace_id:n,origin:l})}function a0(e){const{traceId:t,spanId:n}=e.spanContext(),r=nx(e);return Zb(t,n,r)}function l0(e){return typeof e=="number"?pk(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?pk(e.getTime()):sl()}function pk(e){return e>9999999999?e/1e3:e}function Tn(e){return M7(e)?e.getSpanJSON():typeof e.toJSON=="function"?e.toJSON():{}}function M7(e){return typeof e.getSpanJSON=="function"}function nx(e){const{traceFlags:t}=e.spanContext();return!!(t&Kj)}function j7(e,t,n,r,i,s){const{normalizeDepth:o=3,normalizeMaxBreadth:a=1e3}=e,l={...t,event_id:t.event_id||n.event_id||hn(),timestamp:t.timestamp||Zf()},c=n.integrations||e.integrations.map(A=>A.name);O7(l,e),N7(l,c),t.type===void 0&&V7(l,e.stackParser);const u=D7(r,n.captureContext);n.mechanism&&lf(l,n.mechanism);const d=i&&i.getEventProcessors?i.getEventProcessors():[],h=J7().getScopeData();if(s){const A=s.getScopeData();Ak(h,A)}if(u){const A=u.getScopeData();Ak(h,A)}const p=[...n.attachments||[],...h.attachments];p.length&&(n.attachments=p),Zj(l,h);const g=[...d,...ex(),...h.eventProcessors];return Mg(g,l,n).then(A=>(A&&L7(A),typeof o=="number"&&o>0?$7(A,o,a):A))}function O7(e,t){const{environment:n,release:r,dist:i,maxValueLength:s=250}=t;"environment"in e||(e.environment="environment"in t?n:o0),e.release===void 0&&r!==void 0&&(e.release=r),e.dist===void 0&&i!==void 0&&(e.dist=i),e.message&&(e.message=Pc(e.message,s));const o=e.exception&&e.exception.values&&e.exception.values[0];o&&o.value&&(o.value=Pc(o.value,s));const a=e.request;a&&a.url&&(a.url=Pc(a.url,s))}const gk=new WeakMap;function V7(e,t){const n=dt._sentryDebugIds;if(!n)return;let r;const i=gk.get(t);i?r=i:(r=new Map,gk.set(t,r));const s=Object.keys(n).reduce((o,a)=>{let l;const c=r.get(a);c?l=c:(l=t(a),r.set(a,l));for(let u=l.length-1;u>=0;u--){const d=l[u];if(d.filename){o[d.filename]=n[a];break}}return o},{});try{e.exception.values.forEach(o=>{o.stacktrace.frames.forEach(a=>{a.filename&&(a.debug_id=s[a.filename])})})}catch{}}function L7(e){const t={};try{e.exception.values.forEach(r=>{r.stacktrace.frames.forEach(i=>{i.debug_id&&(i.abs_path?t[i.abs_path]=i.debug_id:i.filename&&(t[i.filename]=i.debug_id),delete i.debug_id)})})}catch{}if(Object.keys(t).length===0)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.keys(t).forEach(r=>{n.push({type:"sourcemap",code_file:r,debug_id:t[r]})})}function N7(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function $7(e,t,n){if(!e)return null;const r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(i=>({...i,...i.data&&{data:Vo(i.data,t,n)}}))},...e.user&&{user:Vo(e.user,t,n)},...e.contexts&&{contexts:Vo(e.contexts,t,n)},...e.extra&&{extra:Vo(e.extra,t,n)}};return e.contexts&&e.contexts.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=Vo(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map(i=>{const s=Tn(i).data;return s&&(i.data=Vo(s,t,n)),i})),r}function D7(e,t){if(!t)return e;const n=e?e.clone():new ro;return n.update(t),n}function B7(e){if(e)return F7(e)?{captureContext:e}:U7(e)?{captureContext:e}:e}function F7(e){return e instanceof ro||typeof e=="function"}const z7=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function U7(e){return Object.keys(e).some(t=>z7.includes(t))}function Ns(e,t){return cr().captureException(e,B7(t))}function Qj(e,t){return cr().captureEvent(e,t)}function al(e,t){cr().addBreadcrumb(e,t)}function H7(e){cr().setUser(e)}function rx(...e){const t=cr();if(e.length===2){const[n,r]=e;return n?t.withScope(()=>(t.getStackTop().scope=n,r(n))):t.withScope(r)}return t.withScope(e[0])}function mk(e,t){return rx(n=>(n.setSpan(e),t(n)))}function In(){return cr().getClient()}function zs(){return cr().getScope()}function vk(e){const t=In(),n=wl(),r=zs(),{release:i,environment:s=o0}=t&&t.getOptions()||{},{userAgent:o}=dt.navigator||{},a=Wj({release:i,environment:s,user:r.getUser()||n.getUser(),...o&&{userAgent:o},...e}),l=n.getSession();return l&&l.status==="ok"&&ol(l,{status:"exited"}),Jj(),n.setSession(a),r.setSession(a),a}function Jj(){const e=wl(),t=zs(),n=t.getSession()||e.getSession();n&&Yj(n),Xj(),e.setSession(),t.setSession()}function Xj(){const e=wl(),t=zs(),n=In(),r=t.getSession()||e.getSession();r&&n&&n.captureSession&&n.captureSession(r)}function yk(e=!1){if(e){Jj();return}Xj()}function jg(e){return e.transaction}function c0(e,t,n){const r=t.getOptions(),{publicKey:i}=t.getDsn()||{},{segment:s}=n&&n.getUser()||{},o=qr({environment:r.environment||o0,release:r.release,user_segment:s,public_key:i,trace_id:e});return t.emit&&t.emit("createDsc",o),o}function Kc(e){const t=In();if(!t)return{};const n=c0(Tn(e).trace_id||"",t,zs()),r=jg(e);if(!r)return n;const i=r&&r._frozenDynamicSamplingContext;if(i)return i;const{sampleRate:s,source:o}=r.metadata;s!=null&&(n.sample_rate=`${s}`);const a=Tn(r);return o&&o!=="url"&&(n.transaction=a.description),n.sampled=String(nx(r)),t.emit&&t.emit("createDsc",n),n}function Zj(e,t){const{fingerprint:n,span:r,breadcrumbs:i,sdkProcessingMetadata:s}=t;q7(e,t),r&&Y7(e,r),K7(e,n),G7(e,i),W7(e,s)}function Ak(e,t){const{extra:n,tags:r,user:i,contexts:s,level:o,sdkProcessingMetadata:a,breadcrumbs:l,fingerprint:c,eventProcessors:u,attachments:d,propagationContext:h,transactionName:p,span:g}=t;Uu(e,"extra",n),Uu(e,"tags",r),Uu(e,"user",i),Uu(e,"contexts",s),Uu(e,"sdkProcessingMetadata",a),o&&(e.level=o),p&&(e.transactionName=p),g&&(e.span=g),l.length&&(e.breadcrumbs=[...e.breadcrumbs,...l]),c.length&&(e.fingerprint=[...e.fingerprint,...c]),u.length&&(e.eventProcessors=[...e.eventProcessors,...u]),d.length&&(e.attachments=[...e.attachments,...d]),e.propagationContext={...e.propagationContext,...h}}function Uu(e,t,n){if(n&&Object.keys(n).length){e[t]={...e[t]};for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[t][r]=n[r])}}function q7(e,t){const{extra:n,tags:r,user:i,contexts:s,level:o,transactionName:a}=t,l=qr(n);l&&Object.keys(l).length&&(e.extra={...l,...e.extra});const c=qr(r);c&&Object.keys(c).length&&(e.tags={...c,...e.tags});const u=qr(i);u&&Object.keys(u).length&&(e.user={...u,...e.user});const d=qr(s);d&&Object.keys(d).length&&(e.contexts={...d,...e.contexts}),o&&(e.level=o),a&&(e.transaction=a)}function G7(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}function W7(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}function Y7(e,t){e.contexts={trace:tx(t),...e.contexts};const n=jg(t);if(n){e.sdkProcessingMetadata={dynamicSamplingContext:Kc(t),...e.sdkProcessingMetadata};const r=Tn(n).description;r&&(e.tags={transaction:r,...e.tags})}}function K7(e,t){e.fingerprint=e.fingerprint?Lj(e.fingerprint):[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}const Q7=100;let Qv;class ro{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=_k()}static clone(t){return t?t.clone():new ro}clone(){const t=new ro;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},t._user=this._user,t._level=this._level,t._span=this._span,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._requestSession=this._requestSession,t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t}setClient(t){this._client=t}getClient(){return this._client}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,segment:void 0,username:void 0},this._session&&ol(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this._tags={...this._tags,[t]:n},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSpan(t){return this._span=t,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const t=this._span;return t&&t.transaction}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const n=typeof t=="function"?t(this):t;if(n instanceof ro){const r=n.getScopeData();this._tags={...this._tags,...r.tags},this._extra={...this._extra,...r.extra},this._contexts={...this._contexts,...r.contexts},r.user&&Object.keys(r.user).length&&(this._user=r.user),r.level&&(this._level=r.level),r.fingerprint.length&&(this._fingerprint=r.fingerprint),n.getRequestSession()&&(this._requestSession=n.getRequestSession()),r.propagationContext&&(this._propagationContext=r.propagationContext)}else if(Gc(n)){const r=t;this._tags={...this._tags,...r.tags},this._extra={...this._extra,...r.extra},this._contexts={...this._contexts,...r.contexts},r.user&&(this._user=r.user),r.level&&(this._level=r.level),r.fingerprint&&(this._fingerprint=r.fingerprint),r.requestSession&&(this._requestSession=r.requestSession),r.propagationContext&&(this._propagationContext=r.propagationContext)}return this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=_k(),this}addBreadcrumb(t,n){const r=typeof n=="number"?n:Q7;if(r<=0)return this;const i={timestamp:Zf(),...t},s=this._breadcrumbs;return s.push(i),this._breadcrumbs=s.length>r?s.slice(-r):s,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}getAttachments(){return this.getScopeData().attachments}clearAttachments(){return this._attachments=[],this}getScopeData(){const{_breadcrumbs:t,_attachments:n,_contexts:r,_tags:i,_extra:s,_user:o,_level:a,_fingerprint:l,_eventProcessors:c,_propagationContext:u,_sdkProcessingMetadata:d,_transactionName:h,_span:p}=this;return{breadcrumbs:t,attachments:n,contexts:r,tags:i,extra:s,user:o,level:a,fingerprint:l||[],eventProcessors:c,propagationContext:u,sdkProcessingMetadata:d,transactionName:h,span:p}}applyToEvent(t,n={},r=[]){Zj(t,this.getScopeData());const i=[...r,...ex(),...this._eventProcessors];return Mg(i,t,n)}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...t},this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,n){const r=n&&n.event_id?n.event_id:hn();if(!this._client)return re.warn("No client configured on scope - will not capture exception!"),r;const i=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:i,...n,event_id:r},this),r}captureMessage(t,n,r){const i=r&&r.event_id?r.event_id:hn();if(!this._client)return re.warn("No client configured on scope - will not capture message!"),i;const s=new Error(t);return this._client.captureMessage(t,n,{originalException:t,syntheticException:s,...r,event_id:i},this),i}captureEvent(t,n){const r=n&&n.event_id?n.event_id:hn();return this._client?(this._client.captureEvent(t,{...n,event_id:r},this),r):(re.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}function J7(){return Qv||(Qv=new ro),Qv}function _k(){return{traceId:hn(),spanId:hn().substring(16)}}const a1="7.112.2",e5=parseFloat(a1),X7=100;class t5{constructor(t,n,r,i=e5){this._version=i;let s;n?s=n:(s=new ro,s.setClient(t));let o;r?o=r:(o=new ro,o.setClient(t)),this._stack=[{scope:s}],t&&this.bindClient(t),this._isolationScope=o}isOlderThan(t){return this._version<t}bindClient(t){const n=this.getStackTop();n.client=t,n.scope.setClient(t),t&&t.setupIntegrations&&t.setupIntegrations()}pushScope(){const t=this.getScope().clone();return this.getStack().push({client:this.getClient(),scope:t}),t}popScope(){return this.getStack().length<=1?!1:!!this.getStack().pop()}withScope(t){const n=this.pushScope();let r;try{r=t(n)}catch(i){throw this.popScope(),i}return i0(r)?r.then(i=>(this.popScope(),i),i=>{throw this.popScope(),i}):(this.popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(t,n){const r=this._lastEventId=n&&n.event_id?n.event_id:hn(),i=new Error("Sentry syntheticException");return this.getScope().captureException(t,{originalException:t,syntheticException:i,...n,event_id:r}),r}captureMessage(t,n,r){const i=this._lastEventId=r&&r.event_id?r.event_id:hn(),s=new Error(t);return this.getScope().captureMessage(t,n,{originalException:t,syntheticException:s,...r,event_id:i}),i}captureEvent(t,n){const r=n&&n.event_id?n.event_id:hn();return t.type||(this._lastEventId=r),this.getScope().captureEvent(t,{...n,event_id:r}),r}lastEventId(){return this._lastEventId}addBreadcrumb(t,n){const{scope:r,client:i}=this.getStackTop();if(!i)return;const{beforeBreadcrumb:s=null,maxBreadcrumbs:o=X7}=i.getOptions&&i.getOptions()||{};if(o<=0)return;const l={timestamp:Zf(),...t},c=s?s0(()=>s(l,n)):l;c!==null&&(i.emit&&i.emit("beforeAddBreadcrumb",c,n),r.addBreadcrumb(c,o))}setUser(t){this.getScope().setUser(t),this.getIsolationScope().setUser(t)}setTags(t){this.getScope().setTags(t),this.getIsolationScope().setTags(t)}setExtras(t){this.getScope().setExtras(t),this.getIsolationScope().setExtras(t)}setTag(t,n){this.getScope().setTag(t,n),this.getIsolationScope().setTag(t,n)}setExtra(t,n){this.getScope().setExtra(t,n),this.getIsolationScope().setExtra(t,n)}setContext(t,n){this.getScope().setContext(t,n),this.getIsolationScope().setContext(t,n)}configureScope(t){const{scope:n,client:r}=this.getStackTop();r&&t(n)}run(t){const n=bk(this);try{t(this)}finally{bk(n)}}getIntegration(t){const n=this.getClient();if(!n)return null;try{return n.getIntegration(t)}catch{return Me&&re.warn(`Cannot retrieve integration ${t.id} from the current Hub`),null}}startTransaction(t,n){const r=this._callExtensionMethod("startTransaction",t,n);return Me&&!r&&(this.getClient()?re.warn(`Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':
Sentry.addTracingExtensions();
Sentry.init({...});
`):re.warn("Tracing extension 'startTransaction' is missing. You should 'init' the SDK before calling 'startTransaction'")),r}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(t=!1){if(t)return this.endSession();this._sendSessionUpdate()}endSession(){const n=this.getStackTop().scope,r=n.getSession();r&&Yj(r),this._sendSessionUpdate(),n.setSession()}startSession(t){const{scope:n,client:r}=this.getStackTop(),{release:i,environment:s=o0}=r&&r.getOptions()||{},{userAgent:o}=dt.navigator||{},a=Wj({release:i,environment:s,user:n.getUser(),...o&&{userAgent:o},...t}),l=n.getSession&&n.getSession();return l&&l.status==="ok"&&ol(l,{status:"exited"}),this.endSession(),n.setSession(a),a}shouldSendDefaultPii(){const t=this.getClient(),n=t&&t.getOptions();return!!(n&&n.sendDefaultPii)}_sendSessionUpdate(){const{scope:t,client:n}=this.getStackTop(),r=t.getSession();r&&n&&n.captureSession&&n.captureSession(r)}_callExtensionMethod(t,...n){const i=eh().__SENTRY__;if(i&&i.extensions&&typeof i.extensions[t]=="function")return i.extensions[t].apply(this,n);Me&&re.warn(`Extension method ${t} couldn't be found, doing nothing.`)}}function eh(){return dt.__SENTRY__=dt.__SENTRY__||{extensions:{},hub:void 0},dt}function bk(e){const t=eh(),n=l1(t);return n5(t,e),n}function cr(){const e=eh();if(e.__SENTRY__&&e.__SENTRY__.acs){const t=e.__SENTRY__.acs.getCurrentHub();if(t)return t}return Z7(e)}function wl(){return cr().getIsolationScope()}function Z7(e=eh()){return(!ez(e)||l1(e).isOlderThan(e5))&&n5(e,new t5),l1(e)}function ez(e){return!!(e&&e.__SENTRY__&&e.__SENTRY__.hub)}function l1(e){return Cj("hub",()=>new t5,e)}function n5(e,t){if(!e)return!1;const n=e.__SENTRY__=e.__SENTRY__||{};return n.hub=t,!0}function El(e){return(e||cr()).getScope().getTransaction()}let xk=!1;function tz(){xk||(xk=!0,Dj(c1),Bj(c1))}function c1(){const e=El();if(e){const t="internal_error";Me&&re.log(`[Tracing] Transaction: ${t} -> Global error occured`),e.setStatus(t)}}c1.tag="sentry_tracingErrorCallback";var Sk;(function(e){const t="ok";e.Ok=t;const n="deadline_exceeded";e.DeadlineExceeded=n;const r="unauthenticated";e.Unauthenticated=r;const i="permission_denied";e.PermissionDenied=i;const s="not_found";e.NotFound=s;const o="resource_exhausted";e.ResourceExhausted=o;const a="invalid_argument";e.InvalidArgument=a;const l="unimplemented";e.Unimplemented=l;const c="unavailable";e.Unavailable=c;const u="internal_error";e.InternalError=u;const d="unknown_error";e.UnknownError=d;const h="cancelled";e.Cancelled=h;const p="already_exists";e.AlreadyExists=p;const g="failed_precondition";e.FailedPrecondition=g;const m="aborted";e.Aborted=m;const A="out_of_range";e.OutOfRange=A;const v="data_loss";e.DataLoss=v})(Sk||(Sk={}));function nz(e){if(e<400&&e>=100)return"ok";if(e>=400&&e<500)switch(e){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(e>=500&&e<600)switch(e){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}function ix(e,t){e.setTag("http.status_code",String(t)),e.setData("http.response.status_code",t);const n=nz(t);n!=="unknown_error"&&e.setStatus(n)}function _u(e){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const t=In(),n=e||t&&t.getOptions();return!!n&&(n.enableTracing||"tracesSampleRate"in n||"tracesSampler"in n)}function Pd(e){if(!_u())return;const t=iz(e),n=cr(),r=e.scope?e.scope.getSpan():sx();if(e.onlyIfParent&&!r)return;const o=(e.scope||zs()).clone();return rz(n,{parentSpan:r,spanContext:t,forceTransaction:e.forceTransaction,scope:o})}function sx(){return zs().getSpan()}function rz(e,{parentSpan:t,spanContext:n,forceTransaction:r,scope:i}){if(!_u())return;const s=wl();let o;if(t&&!r)o=t.startChild(n);else if(t){const a=Kc(t),{traceId:l,spanId:c}=t.spanContext(),u=nx(t);o=e.startTransaction({traceId:l,parentSpanId:c,parentSampled:u,...n,metadata:{dynamicSamplingContext:a,...n.metadata}})}else{const{traceId:a,dsc:l,parentSpanId:c,sampled:u}={...s.getPropagationContext(),...i.getPropagationContext()};o=e.startTransaction({traceId:a,parentSpanId:c,parentSampled:u,...n,metadata:{dynamicSamplingContext:l,...n.metadata}})}return i.setSpan(o),sz(o,i,s),o}function iz(e){if(e.startTime){const t={...e};return t.startTimestamp=l0(e.startTime),delete t.startTime,t}return e}const r5="_sentryScope",i5="_sentryIsolationScope";function sz(e,t,n){e&&(il(e,i5,n),il(e,r5,t))}function oz(e){return{scope:e[r5],isolationScope:e[i5]}}const Xo="sentry.source",ic="sentry.sample_rate",qh="sentry.op",sc="sentry.origin",az="profile_id";class s5{constructor(t=1e3){this._maxlen=t,this.spans=[]}add(t){this.spans.length>this._maxlen?t.spanRecorder=void 0:this.spans.push(t)}}class u0{constructor(t={}){this._traceId=t.traceId||hn(),this._spanId=t.spanId||hn().substring(16),this._startTime=t.startTimestamp||sl(),this.tags=t.tags?{...t.tags}:{},this.data=t.data?{...t.data}:{},this.instrumenter=t.instrumenter||"sentry",this._attributes={},this.setAttributes({[sc]:t.origin||"manual",[qh]:t.op,...t.attributes}),this._name=t.name||t.description,t.parentSpanId&&(this._parentSpanId=t.parentSpanId),"sampled"in t&&(this._sampled=t.sampled),t.status&&(this._status=t.status),t.endTimestamp&&(this._endTime=t.endTimestamp),t.exclusiveTime!==void 0&&(this._exclusiveTime=t.exclusiveTime),this._measurements=t.measurements?{...t.measurements}:{}}get name(){return this._name||""}set name(t){this.updateName(t)}get description(){return this._name}set description(t){this._name=t}get traceId(){return this._traceId}set traceId(t){this._traceId=t}get spanId(){return this._spanId}set spanId(t){this._spanId=t}set parentSpanId(t){this._parentSpanId=t}get parentSpanId(){return this._parentSpanId}get sampled(){return this._sampled}set sampled(t){this._sampled=t}get attributes(){return this._attributes}set attributes(t){this._attributes=t}get startTimestamp(){return this._startTime}set startTimestamp(t){this._startTime=t}get endTimestamp(){return this._endTime}set endTimestamp(t){this._endTime=t}get status(){return this._status}set status(t){this._status=t}get op(){return this._attributes[qh]}set op(t){this.setAttribute(qh,t)}get origin(){return this._attributes[sc]}set origin(t){this.setAttribute(sc,t)}spanContext(){const{_spanId:t,_traceId:n,_sampled:r}=this;return{spanId:t,traceId:n,traceFlags:r?Kj:R7}}startChild(t){const n=new u0({...t,parentSpanId:this._spanId,sampled:this._sampled,traceId:this._traceId});n.spanRecorder=this.spanRecorder,n.spanRecorder&&n.spanRecorder.add(n);const r=jg(this);if(n.transaction=r,Me&&r){const i=t&&t.op||"< unknown op >",s=Tn(n).description||"< unknown name >",o=r.spanContext().spanId,a=`[Tracing] Starting '${i}' span on transaction '${s}' (${o}).`;re.log(a),this._logMessage=a}return n}setTag(t,n){return this.tags={...this.tags,[t]:n},this}setData(t,n){return this.data={...this.data,[t]:n},this}setAttribute(t,n){n===void 0?delete this._attributes[t]:this._attributes[t]=n}setAttributes(t){Object.keys(t).forEach(n=>this.setAttribute(n,t[n]))}setStatus(t){return this._status=t,this}setHttpStatus(t){return ix(this,t),this}setName(t){this.updateName(t)}updateName(t){return this._name=t,this}isSuccess(){return this._status==="ok"}finish(t){return this.end(t)}end(t){if(this._endTime)return;const n=jg(this);if(Me&&n&&n.spanContext().spanId!==this._spanId){const r=this._logMessage;r&&re.log(r.replace("Starting","Finishing"))}this._endTime=l0(t)}toTraceparent(){return a0(this)}toContext(){return qr({data:this._getData(),description:this._name,endTimestamp:this._endTime,op:this.op,parentSpanId:this._parentSpanId,sampled:this._sampled,spanId:this._spanId,startTimestamp:this._startTime,status:this._status,tags:this.tags,traceId:this._traceId})}updateWithContext(t){return this.data=t.data||{},this._name=t.name||t.description,this._endTime=t.endTimestamp,this.op=t.op,this._parentSpanId=t.parentSpanId,this._sampled=t.sampled,this._spanId=t.spanId||this._spanId,this._startTime=t.startTimestamp||this._startTime,this._status=t.status,this.tags=t.tags||{},this._traceId=t.traceId||this._traceId,this}getTraceContext(){return tx(this)}getSpanJSON(){return qr({data:this._getData(),description:this._name,op:this._attributes[qh],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:this._status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[sc],_metrics_summary:void 0,profile_id:this._attributes[az],exclusive_time:this._exclusiveTime,measurements:Object.keys(this._measurements).length>0?this._measurements:void 0})}isRecording(){return!this._endTime&&!!this._sampled}toJSON(){return this.getSpanJSON()}_getData(){const{data:t,_attributes:n}=this,r=Object.keys(t).length>0,i=Object.keys(n).length>0;if(!(!r&&!i))return r&&i?{...t,...n}:r?t:n}}class o5 extends u0{constructor(t,n){super(t),this._contexts={},this._hub=n||cr(),this._name=t.name||"",this._metadata={...t.metadata},this._trimEnd=t.trimEnd,this.transaction=this;const r=this._metadata.dynamicSamplingContext;r&&(this._frozenDynamicSamplingContext={...r})}get name(){return this._name}set name(t){this.setName(t)}get metadata(){return{source:"custom",spanMetadata:{},...this._metadata,...this._attributes[Xo]&&{source:this._attributes[Xo]},...this._attributes[ic]&&{sampleRate:this._attributes[ic]}}}set metadata(t){this._metadata=t}setName(t,n="custom"){this._name=t,this.setAttribute(Xo,n)}updateName(t){return this._name=t,this}initSpanRecorder(t=1e3){this.spanRecorder||(this.spanRecorder=new s5(t)),this.spanRecorder.add(this)}setContext(t,n){n===null?delete this._contexts[t]:this._contexts[t]=n}setMeasurement(t,n,r=""){this._measurements[t]={value:n,unit:r}}setMetadata(t){this._metadata={...this._metadata,...t}}end(t){const n=l0(t),r=this._finishTransaction(n);if(r)return this._hub.captureEvent(r)}toContext(){const t=super.toContext();return qr({...t,name:this._name,trimEnd:this._trimEnd})}updateWithContext(t){return super.updateWithContext(t),this._name=t.name||"",this._trimEnd=t.trimEnd,this}getDynamicSamplingContext(){return Kc(this)}setHub(t){this._hub=t}getProfileId(){if(this._contexts!==void 0&&this._contexts.profile!==void 0)return this._contexts.profile.profile_id}_finishTransaction(t){if(this._endTime!==void 0)return;this._name||(Me&&re.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>"),super.end(t);const n=this._hub.getClient();if(n&&n.emit&&n.emit("finishTransaction",this),this._sampled!==!0){Me&&re.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),n&&n.recordDroppedEvent("sample_rate","transaction");return}const r=this.spanRecorder?this.spanRecorder.spans.filter(u=>u!==this&&Tn(u).timestamp):[];if(this._trimEnd&&r.length>0){const u=r.map(d=>Tn(d).timestamp).filter(Boolean);this._endTime=u.reduce((d,h)=>d>h?d:h)}const{scope:i,isolationScope:s}=oz(this),{metadata:o}=this,{source:a}=o,l={contexts:{...this._contexts,trace:tx(this)},spans:r,start_timestamp:this._startTime,tags:this.tags,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{...o,capturedSpanScope:i,capturedSpanIsolationScope:s,...qr({dynamicSamplingContext:Kc(this)})},_metrics_summary:void 0,...a&&{transaction_info:{source:a}}};return Object.keys(this._measurements).length>0&&(Me&&re.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),l.measurements=this._measurements),Me&&re.log(`[Tracing] Finishing ${this.op} transaction: ${this._name}.`),l}}const Wp={idleTimeout:1e3,finalTimeout:3e4,heartbeatInterval:5e3},lz="finishReason",Fl=["heartbeatFailed","idleTimeout","documentHidden","finalTimeout","externalFinish","cancelled"];class cz extends s5{constructor(t,n,r,i){super(i),this._pushActivity=t,this._popActivity=n,this.transactionSpanId=r}add(t){if(t.spanContext().spanId!==this.transactionSpanId){const n=t.end;t.end=(...r)=>(this._popActivity(t.spanContext().spanId),n.apply(t,r)),Tn(t).timestamp===void 0&&this._pushActivity(t.spanContext().spanId)}super.add(t)}}class uz extends o5{constructor(t,n,r=Wp.idleTimeout,i=Wp.finalTimeout,s=Wp.heartbeatInterval,o=!1,a=!1){super(t,n),this._idleHub=n,this._idleTimeout=r,this._finalTimeout=i,this._heartbeatInterval=s,this._onScope=o,this.activities={},this._heartbeatCounter=0,this._finished=!1,this._idleTimeoutCanceledPermanently=!1,this._beforeFinishCallbacks=[],this._finishReason=Fl[4],this._autoFinishAllowed=!a,o&&(Me&&re.log(`Setting idle transaction on scope. Span ID: ${this.spanContext().spanId}`),n.getScope().setSpan(this)),a||this._restartIdleTimeout(),setTimeout(()=>{this._finished||(this.setStatus("deadline_exceeded"),this._finishReason=Fl[3],this.end())},this._finalTimeout)}end(t){const n=l0(t);if(this._finished=!0,this.activities={},this.op==="ui.action.click"&&this.setAttribute(lz,this._finishReason),this.spanRecorder){Me&&re.log("[Tracing] finishing IdleTransaction",new Date(n*1e3).toISOString(),this.op);for(const r of this._beforeFinishCallbacks)r(this,n);this.spanRecorder.spans=this.spanRecorder.spans.filter(r=>{if(r.spanContext().spanId===this.spanContext().spanId)return!0;Tn(r).timestamp||(r.setStatus("cancelled"),r.end(n),Me&&re.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(r,void 0,2)));const{start_timestamp:i,timestamp:s}=Tn(r),o=i&&i<n,a=(this._finalTimeout+this._idleTimeout)/1e3,l=s&&i&&s-i<a;if(Me){const c=JSON.stringify(r,void 0,2);o?l||re.log("[Tracing] discarding Span since it finished after Transaction final timeout",c):re.log("[Tracing] discarding Span since it happened after Transaction was finished",c)}return o&&l}),Me&&re.log("[Tracing] flushing IdleTransaction")}else Me&&re.log("[Tracing] No active IdleTransaction");if(this._onScope){const r=this._idleHub.getScope();r.getTransaction()===this&&r.setSpan(void 0)}return super.end(t)}registerBeforeFinishCallback(t){this._beforeFinishCallbacks.push(t)}initSpanRecorder(t){if(!this.spanRecorder){const n=i=>{this._finished||this._pushActivity(i)},r=i=>{this._finished||this._popActivity(i)};this.spanRecorder=new cz(n,r,this.spanContext().spanId,t),Me&&re.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)}cancelIdleTimeout(t,{restartOnChildSpanChange:n}={restartOnChildSpanChange:!0}){this._idleTimeoutCanceledPermanently=n===!1,this._idleTimeoutID&&(clearTimeout(this._idleTimeoutID),this._idleTimeoutID=void 0,Object.keys(this.activities).length===0&&this._idleTimeoutCanceledPermanently&&(this._finishReason=Fl[5],this.end(t)))}setFinishReason(t){this._finishReason=t}sendAutoFinishSignal(){this._autoFinishAllowed||(Me&&re.log("[Tracing] Received finish signal for idle transaction."),this._restartIdleTimeout(),this._autoFinishAllowed=!0)}_restartIdleTimeout(t){this.cancelIdleTimeout(),this._idleTimeoutID=setTimeout(()=>{!this._finished&&Object.keys(this.activities).length===0&&(this._finishReason=Fl[1],this.end(t))},this._idleTimeout)}_pushActivity(t){this.cancelIdleTimeout(void 0,{restartOnChildSpanChange:!this._idleTimeoutCanceledPermanently}),Me&&re.log(`[Tracing] pushActivity: ${t}`),this.activities[t]=!0,Me&&re.log("[Tracing] new activities count",Object.keys(this.activities).length)}_popActivity(t){if(this.activities[t]&&(Me&&re.log(`[Tracing] popActivity ${t}`),delete this.activities[t],Me&&re.log("[Tracing] new activities count",Object.keys(this.activities).length)),Object.keys(this.activities).length===0){const n=sl();this._idleTimeoutCanceledPermanently?this._autoFinishAllowed&&(this._finishReason=Fl[5],this.end(n)):this._restartIdleTimeout(n+this._idleTimeout/1e3)}}_beat(){if(this._finished)return;const t=Object.keys(this.activities).join("");t===this._prevHeartbeatString?this._heartbeatCounter++:this._heartbeatCounter=1,this._prevHeartbeatString=t,this._heartbeatCounter>=3?this._autoFinishAllowed&&(Me&&re.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this._finishReason=Fl[0],this.end()):this._pingHeartbeat()}_pingHeartbeat(){Me&&re.log(`pinging Heartbeat -> current counter: ${this._heartbeatCounter}`),setTimeout(()=>{this._beat()},this._heartbeatInterval)}}function a5(e,t,n){if(!_u(t))return e.sampled=!1,e;if(e.sampled!==void 0)return e.setAttribute(ic,Number(e.sampled)),e;let r;return typeof t.tracesSampler=="function"?(r=t.tracesSampler(n),e.setAttribute(ic,Number(r))):n.parentSampled!==void 0?r=n.parentSampled:typeof t.tracesSampleRate<"u"?(r=t.tracesSampleRate,e.setAttribute(ic,Number(r))):(r=1,e.setAttribute(ic,r)),l5(r)?r?(e.sampled=Math.random()<r,e.sampled?(Me&&re.log(`[Tracing] starting ${e.op} transaction - ${Tn(e).description}`),e):(Me&&re.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(r)})`),e)):(Me&&re.log(`[Tracing] Discarding transaction because ${typeof t.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),e.sampled=!1,e):(Me&&re.warn("[Tracing] Discarding transaction because of invalid sample rate."),e.sampled=!1,e)}function l5(e){return Ej(e)||!(typeof e=="number"||typeof e=="boolean")?(Me&&re.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`),!1):e<0||e>1?(Me&&re.warn(`[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${e}.`),!1):!0}function dz(){const t=this.getScope().getSpan();return t?{"sentry-trace":a0(t)}:{}}function fz(e,t){const n=this.getClient(),r=n&&n.getOptions()||{},i=r.instrumenter||"sentry",s=e.instrumenter||"sentry";i!==s&&(Me&&re.error(`A transaction was started with instrumenter=\`${s}\`, but the SDK is configured with the \`${i}\` instrumenter.
The transaction will not be sampled. Please use the ${i} instrumentation to start transactions.`),e.sampled=!1);let o=new o5(e,this);return o=a5(o,r,{name:e.name,parentSampled:e.parentSampled,transactionContext:e,attributes:{...e.data,...e.attributes},...t}),o.isRecording()&&o.initSpanRecorder(r._experiments&&r._experiments.maxSpans),n&&n.emit&&n.emit("startTransaction",o),o}function c5(e,t,n,r,i,s,o,a=!1){const l=e.getClient(),c=l&&l.getOptions()||{};let u=new uz(t,e,n,r,o,i,a);return u=a5(u,c,{name:t.name,parentSampled:t.parentSampled,transactionContext:t,attributes:{...t.data,...t.attributes},...s}),u.isRecording()&&u.initSpanRecorder(c._experiments&&c._experiments.maxSpans),l&&l.emit&&l.emit("startTransaction",u),u}function hz(){const e=eh();e.__SENTRY__&&(e.__SENTRY__.extensions=e.__SENTRY__.extensions||{},e.__SENTRY__.extensions.startTransaction||(e.__SENTRY__.extensions.startTransaction=fz),e.__SENTRY__.extensions.traceHeaders||(e.__SENTRY__.extensions.traceHeaders=dz),tz())}function pz(e,t,n){const r=El();r&&r.setMeasurement(e,t,n)}function gz(e,t){return t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]]),e}function mz(e,t,n,r){const i=Gj(n),s={sent_at:new Date().toISOString(),...i&&{sdk:i},...!!r&&t&&{dsn:_l(t)}},o="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return Sl(s,[o])}function vz(e,t,n,r){const i=Gj(n),s=e.type&&e.type!=="replay_event"?e.type:"event";gz(e,n&&n.sdk);const o=x7(e,i,r,t);return delete e.sdkProcessingMetadata,Sl(o,[[{type:s},e]])}const yz="7";function u5(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function Az(e){return`${u5(e)}${e.projectId}/envelope/`}function _z(e,t){return R8({sentry_key:e.publicKey,sentry_version:yz,...t&&{sentry_client:`${t.name}/${t.version}`}})}function bz(e,t={}){const n=typeof t=="string"?t:t.tunnel,r=typeof t=="string"||!t._metadata?void 0:t._metadata.sdk;return n||`${Az(e)}?${_z(e,r)}`}function xz(e,t){const n=Pj(e);if(!n)return"";const r=`${u5(n)}embed/error-page/`;let i=`dsn=${_l(n)}`;for(const s in t)if(s!=="dsn"&&s!=="onClose")if(s==="user"){const o=t.user;if(!o)continue;o.name&&(i+=`&name=${encodeURIComponent(o.name)}`),o.email&&(i+=`&email=${encodeURIComponent(o.email)}`)}else i+=`&${encodeURIComponent(s)}=${encodeURIComponent(t[s])}`;return`${r}?${i}`}const wk=[];function Sz(e){const t={};return e.forEach(n=>{const{name:r}=n,i=t[r];i&&!i.isDefaultInstance&&n.isDefaultInstance||(t[r]=n)}),Object.keys(t).map(n=>t[n])}function wz(e){const t=e.defaultIntegrations||[],n=e.integrations;t.forEach(o=>{o.isDefaultInstance=!0});let r;Array.isArray(n)?r=[...t,...n]:typeof n=="function"?r=Lj(n(t)):r=t;const i=Sz(r),s=kz(i,o=>o.name==="Debug");if(s!==-1){const[o]=i.splice(s,1);i.push(o)}return i}function Ez(e,t){const n={};return t.forEach(r=>{r&&d5(e,r,n)}),n}function Ek(e,t){for(const n of t)n&&n.afterAllSetup&&n.afterAllSetup(e)}function d5(e,t,n){if(n[t.name]){Me&&re.log(`Integration skipped because it was already installed: ${t.name}`);return}if(n[t.name]=t,wk.indexOf(t.name)===-1&&(t.setupOnce(I7,cr),wk.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),e.on&&typeof t.preprocessEvent=="function"){const r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(i,s)=>r(i,s,e))}if(e.addEventProcessor&&typeof t.processEvent=="function"){const r=t.processEvent.bind(t),i=Object.assign((s,o)=>r(s,o,e),{id:t.name});e.addEventProcessor(i)}Me&&re.log(`Integration installed: ${t.name}`)}function kz(e,t){for(let n=0;n<e.length;n++)if(t(e[n])===!0)return n;return-1}function fa(e,t){return Object.assign(function(...r){return t(...r)},{id:e})}function Cz(e){let t="";for(const n of e){const r=Object.entries(n.tags),i=r.length>0?`|#${r.map(([s,o])=>`${s}:${o}`).join(",")}`:"";t+=`${n.name}@${n.unit}:${n.metric}|${n.metricType}${i}|T${n.timestamp}
`}return t}function Tz(e,t,n,r){const i={sent_at:new Date().toISOString()};n&&n.sdk&&(i.sdk={name:n.sdk.name,version:n.sdk.version}),r&&t&&(i.dsn=_l(t));const s=Iz(e);return Sl(i,[s])}function Iz(e){const t=Cz(e);return[{type:"statsd",length:t.length},t]}const kk="Not capturing exception because it's already been captured.";class Pz{constructor(t){if(this._options=t,this._integrations={},this._integrationsInitialized=!1,this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=Pj(t.dsn):Me&&re.warn("No DSN provided, client will not send events."),this._dsn){const n=bz(this._dsn,t);this._transport=t.transport({recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:n})}}captureException(t,n,r){if(ak(t)){Me&&re.log(kk);return}let i=n&&n.event_id;return this._process(this.eventFromException(t,n).then(s=>this._captureEvent(s,n,r)).then(s=>{i=s})),i}captureMessage(t,n,r,i){let s=r&&r.event_id;const o=Wb(t)?t:String(t),a=Yb(t)?this.eventFromMessage(o,n,r):this.eventFromException(t,r);return this._process(a.then(l=>this._captureEvent(l,r,i)).then(l=>{s=l})),s}captureEvent(t,n,r){if(n&&n.originalException&&ak(n.originalException)){Me&&re.log(kk);return}let i=n&&n.event_id;const o=(t.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(t,n,o||r).then(a=>{i=a})),i}captureSession(t){typeof t.release!="string"?Me&&re.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),ol(t,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const n=this._transport;return n?(this.metricsAggregator&&this.metricsAggregator.flush(),this._isClientDoneProcessing(t).then(r=>n.flush(t).then(i=>r&&i))):Yc(!0)}close(t){return this.flush(t).then(n=>(this.getOptions().enabled=!1,this.metricsAggregator&&this.metricsAggregator.close(),n))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}setupIntegrations(t){(t&&!this._integrationsInitialized||this._isEnabled()&&!this._integrationsInitialized)&&this._setupIntegrations()}init(){this._isEnabled()&&this._setupIntegrations()}getIntegrationById(t){return this.getIntegrationByName(t)}getIntegrationByName(t){return this._integrations[t]}getIntegration(t){try{return this._integrations[t.id]||null}catch{return Me&&re.warn(`Cannot retrieve integration ${t.id} from the current Client`),null}}addIntegration(t){const n=this._integrations[t.name];d5(this,t,this._integrations),n||Ek(this,[t])}sendEvent(t,n={}){this.emit("beforeSendEvent",t,n);let r=vz(t,this._dsn,this._options._metadata,this._options.tunnel);for(const s of n.attachments||[])r=v7(r,_7(s,this._options.transportOptions&&this._options.transportOptions.textEncoder));const i=this._sendEnvelope(r);i&&i.then(s=>this.emit("afterSendEvent",t,s),null)}sendSession(t){const n=mz(t,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(n)}recordDroppedEvent(t,n,r){if(this._options.sendClientReports){const i=`${t}:${n}`;Me&&re.log(`Adding outcome: "${i}"`),this._outcomes[i]=this._outcomes[i]+1||1}}captureAggregateMetrics(t){Me&&re.log(`Flushing aggregated metrics, number of metrics: ${t.length}`);const n=Tz(t,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(n)}on(t,n){this._hooks[t]||(this._hooks[t]=[]),this._hooks[t].push(n)}emit(t,...n){this._hooks[t]&&this._hooks[t].forEach(r=>r(...n))}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=Ez(this,t),Ek(this,t),this._integrationsInitialized=!0}_updateSessionFromEvent(t,n){let r=!1,i=!1;const s=n.exception&&n.exception.values;if(s){i=!0;for(const l of s){const c=l.mechanism;if(c&&c.handled===!1){r=!0;break}}}const o=t.status==="ok";(o&&t.errors===0||o&&r)&&(ol(t,{...r&&{status:"crashed"},errors:t.errors||Number(i||r)}),this.captureSession(t))}_isClientDoneProcessing(t){return new zr(n=>{let r=0;const i=1,s=setInterval(()=>{this._numProcessing==0?(clearInterval(s),n(!0)):(r+=i,t&&r>=t&&(clearInterval(s),n(!1)))},i)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,n,r,i=wl()){const s=this.getOptions(),o=Object.keys(this._integrations);return!n.integrations&&o.length>0&&(n.integrations=o),this.emit("preprocessEvent",t,n),j7(s,t,n,r,this,i).then(a=>{if(a===null)return a;const l={...i.getPropagationContext(),...r?r.getPropagationContext():void 0};if(!(a.contexts&&a.contexts.trace)&&l){const{traceId:u,spanId:d,parentSpanId:h,dsc:p}=l;a.contexts={trace:{trace_id:u,span_id:d,parent_span_id:h},...a.contexts};const g=p||c0(u,this,r);a.sdkProcessingMetadata={dynamicSamplingContext:g,...a.sdkProcessingMetadata}}return a})}_captureEvent(t,n={},r){return this._processEvent(t,n,r).then(i=>i.event_id,i=>{if(Me){const s=i;s.logLevel==="log"?re.log(s.message):re.warn(s)}})}_processEvent(t,n,r){const i=this.getOptions(),{sampleRate:s}=i,o=h5(t),a=f5(t),l=t.type||"error",c=`before send for type \`${l}\``;if(a&&typeof s=="number"&&Math.random()>s)return this.recordDroppedEvent("sample_rate","error",t),Xb(new ws(`Discarding event because it's not included in the random sample (sampling rate = ${s})`,"log"));const u=l==="replay_event"?"replay":l,h=(t.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(t,n,r,h).then(p=>{if(p===null)throw this.recordDroppedEvent("event_processor",u,t),new ws("An event processor returned `null`, will not send event.","log");if(n.data&&n.data.__sentry__===!0)return p;const m=Mz(i,p,n);return Rz(m,c)}).then(p=>{if(p===null)throw this.recordDroppedEvent("before_send",u,t),new ws(`${c} returned \`null\`, will not send event.`,"log");const g=r&&r.getSession();!o&&g&&this._updateSessionFromEvent(g,p);const m=p.transaction_info;if(o&&m&&p.transaction!==t.transaction){const A="custom";p.transaction_info={...m,source:A}}return this.sendEvent(p,n),p}).then(null,p=>{throw p instanceof ws?p:(this.captureException(p,{data:{__sentry__:!0},originalException:p}),new ws(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${p}`))})}_process(t){this._numProcessing++,t.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_sendEnvelope(t){if(this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport)return this._transport.send(t).then(null,n=>{Me&&re.error("Error while sending event:",n)});Me&&re.error("Transport disabled")}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.keys(t).map(n=>{const[r,i]=n.split(":");return{reason:r,category:i,quantity:t[n]}})}}function Rz(e,t){const n=`${t} must return \`null\` or a valid event.`;if(i0(e))return e.then(r=>{if(!Gc(r)&&r!==null)throw new ws(n);return r},r=>{throw new ws(`${t} rejected with ${r}`)});if(!Gc(e)&&e!==null)throw new ws(n);return e}function Mz(e,t,n){const{beforeSend:r,beforeSendTransaction:i}=e;return f5(t)&&r?r(t,n):h5(t)&&i?i(t,n):t}function f5(e){return e.type===void 0}function h5(e){return e.type==="transaction"}function jz(e,t){t.debug===!0&&(Me?re.enable():s0(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),zs().update(t.initialScope);const r=new e(t);Oz(r),Vz(r)}function Oz(e){const n=cr().getStackTop();n.client=e,n.scope.setClient(e)}function Vz(e){e.init?e.init():e.setupIntegrations&&e.setupIntegrations()}const Lz=30;function p5(e,t,n=o7(e.bufferSize||Lz)){let r={};const i=o=>n.drain(o);function s(o){const a=[];if(fk(o,(d,h)=>{const p=hk(h);if(C7(r,p)){const g=Ck(d,h);e.recordDroppedEvent("ratelimit_backoff",p,g)}else a.push(d)}),a.length===0)return Yc();const l=Sl(o[0],a),c=d=>{fk(l,(h,p)=>{const g=Ck(h,p);e.recordDroppedEvent(d,hk(p),g)})},u=()=>t({body:y7(l,e.textEncoder)}).then(d=>(d.statusCode!==void 0&&(d.statusCode<200||d.statusCode>=300)&&Me&&re.warn(`Sentry responded with status code ${d.statusCode} to sent event.`),r=T7(r,d),d),d=>{throw c("network_error"),d});return n.add(u).then(d=>d,d=>{if(d instanceof ws)return Me&&re.error("Skipped sending event because buffer is full."),c("queue_overflow"),Yc();throw d})}return s.__sentry__baseTransport__=!0,{send:s,flush:i}}function Ck(e,t){if(!(t!=="event"&&t!=="transaction"))return Array.isArray(e)?e[1]:void 0}function Nz(e,t){const n={sent_at:new Date().toISOString()};t&&(n.dsn=_l(t));const r=e.map($z);return Sl(n,r)}function $z(e){return[{type:"span"},e]}function g5(e,t,n=[t],r="npm"){const i=e._metadata||{};i.sdk||(i.sdk={name:`sentry.javascript.${t}`,packages:n.map(s=>({name:`${r}:@sentry/${s}`,version:a1})),version:a1}),e._metadata=i}const Dz=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/],Bz=[/^.*\/healthcheck$/,/^.*\/healthy$/,/^.*\/live$/,/^.*\/ready$/,/^.*\/heartbeat$/,/^.*\/health$/,/^.*\/healthz$/],m5="InboundFilters",Fz=(e={})=>({name:m5,setupOnce(){},processEvent(t,n,r){const i=r.getOptions(),s=zz(e,i);return Uz(t,s)?null:t}}),v5=Fz;fa(m5,v5);function zz(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:Dz],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[],...e.disableTransactionDefaults?[]:Bz],ignoreInternal:e.ignoreInternal!==void 0?e.ignoreInternal:!0}}function Uz(e,t){return t.ignoreInternal&&Kz(e)?(Me&&re.warn(`Event dropped due to being internal Sentry Error.
Event: ${$o(e)}`),!0):Hz(e,t.ignoreErrors)?(Me&&re.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${$o(e)}`),!0):qz(e,t.ignoreTransactions)?(Me&&re.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${$o(e)}`),!0):Gz(e,t.denyUrls)?(Me&&re.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${$o(e)}.
Url: ${Og(e)}`),!0):Wz(e,t.allowUrls)?!1:(Me&&re.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${$o(e)}.
Url: ${Og(e)}`),!0)}function Hz(e,t){return e.type||!t||!t.length?!1:Yz(e).some(n=>Xf(n,t))}function qz(e,t){if(e.type!=="transaction"||!t||!t.length)return!1;const n=e.transaction;return n?Xf(n,t):!1}function Gz(e,t){if(!t||!t.length)return!1;const n=Og(e);return n?Xf(n,t):!1}function Wz(e,t){if(!t||!t.length)return!0;const n=Og(e);return n?Xf(n,t):!0}function Yz(e){const t=[];e.message&&t.push(e.message);let n;try{n=e.exception.values[e.exception.values.length-1]}catch{}return n&&n.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`)),Me&&t.length===0&&re.error(`Could not extract message for event ${$o(e)}`),t}function Kz(e){try{return e.exception.values[0].type==="SentryError"}catch{}return!1}function Qz(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function Og(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch{}return t?Qz(t):null}catch{return Me&&re.error(`Cannot extract url for event ${$o(e)}`),null}}let Tk;const y5="FunctionToString",Ik=new WeakMap,Jz=()=>({name:y5,setupOnce(){Tk=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=Qb(this),n=Ik.has(In())&&t!==void 0?t:this;return Tk.apply(n,e)}}catch{}},setup(e){Ik.set(e,!0)}}),A5=Jz;fa(y5,A5);const Ht=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,De=dt;function Xz(){De.document?De.document.addEventListener("visibilitychange",()=>{const e=El();if(De.document.hidden&&e){const t="cancelled",{op:n,status:r}=Tn(e);Ht&&re.log(`[Tracing] Transaction: ${t} -> since tab moved to the background, op: ${n}`),r||e.setStatus(t),e.setTag("visibilitychange","document.hidden"),e.end()}}):Ht&&re.warn("[Tracing] Could not set up background tab detection due to lack of global document")}const th=(e,t,n)=>{let r,i;return s=>{t.value>=0&&(s||n)&&(i=t.value-(r||0),(i||r===void 0)&&(r=t.value,t.delta=i,e(t)))}},Zz=()=>`v3-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,e9=()=>{const e=De.performance.timing,t=De.performance.navigation.type,n={entryType:"navigation",startTime:0,type:t==2?"back_forward":t===1?"reload":"navigate"};for(const r in e)r!=="navigationStart"&&r!=="toJSON"&&(n[r]=Math.max(e[r]-e.navigationStart,0));return n},d0=()=>De.__WEB_VITALS_POLYFILL__?De.performance&&(performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]||e9()):De.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0],ox=()=>{const e=d0();return e&&e.activationStart||0},nh=(e,t)=>{const n=d0();let r="navigate";return n&&(De.document&&De.document.prerendering||ox()>0?r="prerender":r=n.type.replace(/_/g,"-")),{name:e,value:typeof t>"u"?-1:t,rating:"good",delta:0,entries:[],id:Zz(),navigationType:r}},bu=(e,t,n)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const r=new PerformanceObserver(i=>{t(i.getEntries())});return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch{}},rh=(e,t)=>{const n=r=>{(r.type==="pagehide"||De.document.visibilityState==="hidden")&&(e(r),t&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))};De.document&&(addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0))},t9=e=>{const t=nh("CLS",0);let n,r=0,i=[];const s=a=>{a.forEach(l=>{if(!l.hadRecentInput){const c=i[0],u=i[i.length-1];r&&i.length!==0&&l.startTime-u.startTime<1e3&&l.startTime-c.startTime<5e3?(r+=l.value,i.push(l)):(r=l.value,i=[l]),r>t.value&&(t.value=r,t.entries=i,n&&n())}})},o=bu("layout-shift",s);if(o){n=th(e,t);const a=()=>{s(o.takeRecords()),n(!0)};return rh(a),a}};let Vg=-1;const n9=()=>{De.document&&De.document.visibilityState&&(Vg=De.document.visibilityState==="hidden"&&!De.document.prerendering?0:1/0)},r9=()=>{rh(({timeStamp:e})=>{Vg=e},!0)},ax=()=>(Vg<0&&(n9(),r9()),{get firstHiddenTime(){return Vg}}),i9=e=>{const t=ax(),n=nh("FID");let r;const i=a=>{a.startTime<t.firstHiddenTime&&(n.value=a.processingStart-a.startTime,n.entries.push(a),r(!0))},s=a=>{a.forEach(i)},o=bu("first-input",s);r=th(e,n),o&&rh(()=>{s(o.takeRecords()),o.disconnect()},!0)};let _5=0,Jv=1/0,Gh=0;const s9=e=>{e.forEach(t=>{t.interactionId&&(Jv=Math.min(Jv,t.interactionId),Gh=Math.max(Gh,t.interactionId),_5=Gh?(Gh-Jv)/7+1:0)})};let u1;const o9=()=>u1?_5:performance.interactionCount||0,a9=()=>{"interactionCount"in performance||u1||(u1=bu("event",s9,{type:"event",buffered:!0,durationThreshold:0}))},b5=()=>o9(),Pk=10,Ks=[],Xv={},Rk=e=>{const t=Ks[Ks.length-1],n=Xv[e.interactionId];if(n||Ks.length<Pk||e.duration>t.latency){if(n)n.entries.push(e),n.latency=Math.max(n.latency,e.duration);else{const r={id:e.interactionId,latency:e.duration,entries:[e]};Xv[r.id]=r,Ks.push(r)}Ks.sort((r,i)=>i.latency-r.latency),Ks.splice(Pk).forEach(r=>{delete Xv[r.id]})}},l9=()=>{const e=Math.min(Ks.length-1,Math.floor(b5()/50));return Ks[e]},c9=(e,t)=>{t=t||{},a9();const n=nh("INP");let r;const i=o=>{o.forEach(l=>{l.interactionId&&Rk(l),l.entryType==="first-input"&&!Ks.some(u=>u.entries.some(d=>l.duration===d.duration&&l.startTime===d.startTime))&&Rk(l)});const a=l9();a&&a.latency!==n.value&&(n.value=a.latency,n.entries=a.entries,r())},s=bu("event",i,{durationThreshold:t.durationThreshold||40});r=th(e,n,t.reportAllChanges),s&&(s.observe({type:"first-input",buffered:!0}),rh(()=>{i(s.takeRecords()),n.value<0&&b5()>0&&(n.value=0,n.entries=[]),r(!0)}))},Mk={},u9=e=>{const t=ax(),n=nh("LCP");let r;const i=o=>{const a=o[o.length-1];if(a){const l=Math.max(a.startTime-ox(),0);l<t.firstHiddenTime&&(n.value=l,n.entries=[a],r())}},s=bu("largest-contentful-paint",i);if(s){r=th(e,n);const o=()=>{Mk[n.id]||(i(s.takeRecords()),s.disconnect(),Mk[n.id]=!0,r(!0))};return["keydown","click"].forEach(a=>{De.document&&addEventListener(a,o,{once:!0,capture:!0})}),rh(o,!0),o}},d1=e=>{De.document&&(De.document.prerendering?addEventListener("prerenderingchange",()=>d1(e),!0):De.document.readyState!=="complete"?addEventListener("load",()=>d1(e),!0):setTimeout(e,0))},d9=(e,t)=>{t=t||{};const n=nh("TTFB"),r=th(e,n,t.reportAllChanges);d1(()=>{const i=d0();if(i){if(n.value=Math.max(i.responseStart-ox(),0),n.value<0||n.value>performance.now())return;n.entries=[i],r(!0)}})},Rd={},Lg={};let x5,S5,w5,E5,k5;function f9(e,t=!1){return ih("cls",e,v9,x5,t)}function h9(e,t=!1){return ih("lcp",e,A9,w5,t)}function p9(e){return ih("ttfb",e,_9,E5)}function g9(e){return ih("fid",e,y9,S5)}function m9(e){return ih("inp",e,b9,k5)}function cf(e,t){return C5(e,t),Lg[e]||(x9(e),Lg[e]=!0),T5(e,t)}function xu(e,t){const n=Rd[e];if(!(!n||!n.length))for(const r of n)try{r(t)}catch(i){Ht&&re.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${ao(r)}
Error:`,i)}}function v9(){return t9(e=>{xu("cls",{metric:e}),x5=e})}function y9(){return i9(e=>{xu("fid",{metric:e}),S5=e})}function A9(){return u9(e=>{xu("lcp",{metric:e}),w5=e})}function _9(){return d9(e=>{xu("ttfb",{metric:e}),E5=e})}function b9(){return c9(e=>{xu("inp",{metric:e}),k5=e})}function ih(e,t,n,r,i=!1){C5(e,t);let s;return Lg[e]||(s=n(),Lg[e]=!0),r&&t({metric:r}),T5(e,t,i?s:void 0)}function x9(e){const t={};e==="event"&&(t.durationThreshold=0),bu(e,n=>{xu(e,{entries:n})},t)}function C5(e,t){Rd[e]=Rd[e]||[],Rd[e].push(t)}function T5(e,t,n){return()=>{n&&n();const r=Rd[e];if(!r)return;const i=r.indexOf(t);i!==-1&&r.splice(i,1)}}function Zv(e){return typeof e=="number"&&isFinite(e)}function Qc(e,{startTimestamp:t,...n}){return t&&e.startTimestamp>t&&(e.startTimestamp=t),e.startChild({startTimestamp:t,...n})}const S9=2147483647;function jn(e){return e/1e3}function lx(){return De&&De.addEventListener&&De.performance}let jk=0,nn={},vs,Md;function w9(){const e=lx();if(e&&Ei){e.mark&&De.performance.mark("sentry-tracing-init");const t=P9(),n=T9(),r=I9(),i=R9();return()=>{t(),n(),r(),i()}}return()=>{}}function E9(){cf("longtask",({entries:e})=>{for(const t of e){const n=El();if(!n)return;const r=jn(Ei+t.startTime),i=jn(t.duration);n.startChild({description:"Main UI thread blocked",op:"ui.long-task",origin:"auto.ui.browser.metrics",startTimestamp:r,endTimestamp:r+i})}})}function k9(){cf("event",({entries:e})=>{for(const t of e){const n=El();if(!n)return;if(t.name==="click"){const r=jn(Ei+t.startTime),i=jn(t.duration),s={description:Wc(t.target),op:`ui.interaction.${t.name}`,origin:"auto.ui.browser.metrics",startTimestamp:r,endTimestamp:r+i},o=Tj(t.target);o&&(s.attributes={"ui.component_name":o}),n.startChild(s)}}})}function C9(e,t){if(lx()&&Ei){const r=M9(e,t);return()=>{r()}}return()=>{}}function T9(){return f9(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(Ht&&re.log("[Measurements] Adding CLS"),nn.cls={value:e.value,unit:""},Md=t)},!0)}function I9(){return h9(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(Ht&&re.log("[Measurements] Adding LCP"),nn.lcp={value:e.value,unit:"millisecond"},vs=t)},!0)}function P9(){return g9(({metric:e})=>{const t=e.entries[e.entries.length-1];if(!t)return;const n=jn(Ei),r=jn(t.startTime);Ht&&re.log("[Measurements] Adding FID"),nn.fid={value:e.value,unit:"millisecond"},nn["mark.fid"]={value:n+r,unit:"second"}})}function R9(){return p9(({metric:e})=>{e.entries[e.entries.length-1]&&(Ht&&re.log("[Measurements] Adding TTFB"),nn.ttfb={value:e.value,unit:"millisecond"})})}const Ok={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function M9(e,t){return m9(({metric:n})=>{if(n.value===void 0)return;const r=n.entries.find(b=>b.duration===n.value&&Ok[b.name]!==void 0),i=In();if(!r||!i)return;const s=Ok[r.name],o=i.getOptions(),a=jn(Ei+r.startTime),l=jn(n.value),c=r.interactionId!==void 0?e[r.interactionId]:void 0;if(c===void 0)return;const{routeName:u,parentContext:d,activeTransaction:h,user:p,replayId:g}=c,m=p!==void 0?p.email||p.id||p.ip_address:void 0,A=h!==void 0?h.getProfileId():void 0,v=new u0({startTimestamp:a,endTimestamp:a+l,op:`ui.interaction.${s}`,name:Wc(r.target),attributes:{release:o.release,environment:o.environment,transaction:u,...m!==void 0&&m!==""?{user:m}:{},...A!==void 0?{profile_id:A}:{},...g!==void 0?{replay_id:g}:{}},exclusiveTime:n.value,measurements:{inp:{value:n.value,unit:"millisecond"}}}),y=F9(d,o,t);if(y&&Math.random()<y){const b=v?Nz([v],i.getDsn()):void 0,S=i&&i.getTransport();S&&b&&S.send(b).then(null,x=>{Ht&&re.error("Error while sending interaction:",x)});return}})}function j9(e){const t=lx();if(!t||!De.performance.getEntries||!Ei)return;Ht&&re.log("[Tracing] Adding & adjusting spans using Performance API");const n=jn(Ei),r=t.getEntries(),{op:i,start_timestamp:s}=Tn(e);if(r.slice(jk).forEach(o=>{const a=jn(o.startTime),l=jn(o.duration);if(!(e.op==="navigation"&&s&&n+a<s))switch(o.entryType){case"navigation":{V9(e,o,n);break}case"mark":case"paint":case"measure":{O9(e,o,a,l,n);const c=ax(),u=o.startTime<c.firstHiddenTime;o.name==="first-paint"&&u&&(Ht&&re.log("[Measurements] Adding FP"),nn.fp={value:o.startTime,unit:"millisecond"}),o.name==="first-contentful-paint"&&u&&(Ht&&re.log("[Measurements] Adding FCP"),nn.fcp={value:o.startTime,unit:"millisecond"});break}case"resource":{N9(e,o,o.name,a,l,n);break}}}),jk=Math.max(r.length-1,0),$9(e),i==="pageload"){B9(nn),["fcp","fp","lcp"].forEach(a=>{if(!nn[a]||!s||n>=s)return;const l=nn[a].value,c=n+jn(l),u=Math.abs((c-s)*1e3),d=u-l;Ht&&re.log(`[Measurements] Normalized ${a} from ${l} to ${u} (${d})`),nn[a].value=u});const o=nn["mark.fid"];o&&nn.fid&&(Qc(e,{description:"first input delay",endTimestamp:o.value+jn(nn.fid.value),op:"ui.action",origin:"auto.ui.browser.metrics",startTimestamp:o.value}),delete nn["mark.fid"]),"fcp"in nn||delete nn.cls,Object.keys(nn).forEach(a=>{pz(a,nn[a].value,nn[a].unit)}),D9(e)}vs=void 0,Md=void 0,nn={}}function O9(e,t,n,r,i){const s=i+n,o=s+r;return Qc(e,{description:t.name,endTimestamp:o,op:t.entryType,origin:"auto.resource.browser.metrics",startTimestamp:s}),s}function V9(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(r=>{Wh(e,t,r,n)}),Wh(e,t,"secureConnection",n,"TLS/SSL","connectEnd"),Wh(e,t,"fetch",n,"cache","domainLookupStart"),Wh(e,t,"domainLookup",n,"DNS"),L9(e,t,n)}function Wh(e,t,n,r,i,s){const o=s?t[s]:t[`${n}End`],a=t[`${n}Start`];!a||!o||Qc(e,{op:"browser",origin:"auto.browser.browser.metrics",description:i||n,startTimestamp:r+jn(a),endTimestamp:r+jn(o)})}function L9(e,t,n){t.responseEnd&&(Qc(e,{op:"browser",origin:"auto.browser.browser.metrics",description:"request",startTimestamp:n+jn(t.requestStart),endTimestamp:n+jn(t.responseEnd)}),Qc(e,{op:"browser",origin:"auto.browser.browser.metrics",description:"response",startTimestamp:n+jn(t.responseStart),endTimestamp:n+jn(t.responseEnd)}))}function N9(e,t,n,r,i,s){if(t.initiatorType==="xmlhttprequest"||t.initiatorType==="fetch")return;const o=Ka(n),a={};ey(a,t,"transferSize","http.response_transfer_size"),ey(a,t,"encodedBodySize","http.response_content_length"),ey(a,t,"decodedBodySize","http.decoded_response_content_length"),"renderBlockingStatus"in t&&(a["resource.render_blocking_status"]=t.renderBlockingStatus),o.protocol&&(a["url.scheme"]=o.protocol.split(":").pop()),o.host&&(a["server.address"]=o.host),a["url.same_origin"]=n.includes(De.location.origin);const l=s+r,c=l+i;Qc(e,{description:n.replace(De.location.origin,""),endTimestamp:c,op:t.initiatorType?`resource.${t.initiatorType}`:"resource.other",origin:"auto.resource.browser.metrics",startTimestamp:l,data:a})}function $9(e){const t=De.navigator;if(!t)return;const n=t.connection;n&&(n.effectiveType&&e.setTag("effectiveConnectionType",n.effectiveType),n.type&&e.setTag("connectionType",n.type),Zv(n.rtt)&&(nn["connection.rtt"]={value:n.rtt,unit:"millisecond"})),Zv(t.deviceMemory)&&e.setTag("deviceMemory",`${t.deviceMemory} GB`),Zv(t.hardwareConcurrency)&&e.setTag("hardwareConcurrency",String(t.hardwareConcurrency))}function D9(e){vs&&(Ht&&re.log("[Measurements] Adding LCP Data"),vs.element&&e.setTag("lcp.element",Wc(vs.element)),vs.id&&e.setTag("lcp.id",vs.id),vs.url&&e.setTag("lcp.url",vs.url.trim().slice(0,200)),e.setTag("lcp.size",vs.size)),Md&&Md.sources&&(Ht&&re.log("[Measurements] Adding CLS Data"),Md.sources.forEach((t,n)=>e.setTag(`cls.source.${n+1}`,Wc(t.node))))}function ey(e,t,n,r){const i=t[n];i!=null&&i<S9&&(e[r]=i)}function B9(e){const t=d0();if(!t)return;const{responseStart:n,requestStart:r}=t;r<=n&&(Ht&&re.log("[Measurements] Adding TTFB Request Time"),e["ttfb.requestTime"]={value:n-r,unit:"millisecond"})}function F9(e,t,n){if(!_u(t))return!1;let r;return e!==void 0&&typeof t.tracesSampler=="function"?r=t.tracesSampler({transactionContext:e,name:e.name,parentSampled:e.parentSampled,attributes:{...e.data,...e.attributes},location:De.location}):e!==void 0&&e.sampled!==void 0?r=e.sampled:typeof t.tracesSampleRate<"u"?r=t.tracesSampleRate:r=1,l5(r)?r===!0?n:r===!1?0:r*n:(Ht&&re.warn("[Tracing] Discarding interaction span because of invalid sample rate."),!1)}function z9(e,t,n,r,i="auto.http.browser"){if(!_u()||!e.fetchData)return;const s=t(e.fetchData.url);if(e.endTimestamp&&s){const p=e.fetchData.__span;if(!p)return;const g=r[p];g&&(q9(g,e),delete r[p]);return}const o=zs(),a=In(),{method:l,url:c}=e.fetchData,u=H9(c),d=u?Ka(u).host:void 0,h=s?Pd({name:`${l} ${c}`,onlyIfParent:!0,attributes:{url:c,type:"fetch","http.method":l,"http.url":u,"server.address":d,[sc]:i},op:"http.client"}):void 0;if(h&&(e.fetchData.__span=h.spanContext().spanId,r[h.spanContext().spanId]=h),n(e.fetchData.url)&&a){const p=e.args[0];e.args[1]=e.args[1]||{};const g=e.args[1];g.headers=U9(p,a,o,g,h)}return h}function U9(e,t,n,r,i){const s=i||n.getSpan(),o=wl(),{traceId:a,spanId:l,sampled:c,dsc:u}={...o.getPropagationContext(),...n.getPropagationContext()},d=s?a0(s):Zb(a,l,c),h=qj(u||(s?Kc(s):c0(a,t,n))),p=r.headers||(typeof Request<"u"&&oo(e,Request)?e.headers:void 0);if(p)if(typeof Headers<"u"&&oo(p,Headers)){const g=new Headers(p);return g.append("sentry-trace",d),h&&g.append(s1,h),g}else if(Array.isArray(p)){const g=[...p,["sentry-trace",d]];return h&&g.push([s1,h]),g}else{const g="baggage"in p?p.baggage:void 0,m=[];return Array.isArray(g)?m.push(...g):g&&m.push(g),h&&m.push(h),{...p,"sentry-trace":d,baggage:m.length>0?m.join(","):void 0}}else return{"sentry-trace":d,baggage:h}}function H9(e){try{return new URL(e).href}catch{return}}function q9(e,t){if(t.response){ix(e,t.response.status);const n=t.response&&t.response.headers&&t.response.headers.get("content-length");if(n){const r=parseInt(n);r>0&&e.setAttribute("http.response_content_length",r)}}else t.error&&e.setStatus("internal_error");e.end()}const f1=["localhost",/^\/(?!\/)/],h1={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,tracingOrigins:f1,tracePropagationTargets:f1};function G9(e){const{traceFetch:t,traceXHR:n,tracePropagationTargets:r,tracingOrigins:i,shouldCreateSpanForRequest:s,enableHTTPTimings:o}={traceFetch:h1.traceFetch,traceXHR:h1.traceXHR,...e},a=typeof s=="function"?s:u=>!0,l=u=>Q9(u,r||i),c={};t&&$j(u=>{const d=z9(u,a,l,c);if(d){const h=I5(u.fetchData.url),p=h?Ka(h).host:void 0;d.setAttributes({"http.url":h,"server.address":p})}o&&d&&Vk(d)}),n&&Fj(u=>{const d=J9(u,a,l,c);o&&d&&Vk(d)})}function W9(e){return e.entryType==="resource"&&"initiatorType"in e&&typeof e.nextHopProtocol=="string"&&(e.initiatorType==="fetch"||e.initiatorType==="xmlhttprequest")}function Vk(e){const{url:t}=Tn(e).data||{};if(!t||typeof t!="string")return;const n=cf("resource",({entries:r})=>{r.forEach(i=>{W9(i)&&i.name.endsWith(t)&&(K9(i).forEach(o=>e.setAttribute(...o)),setTimeout(n))})})}function Y9(e){let t="unknown",n="unknown",r="";for(const i of e){if(i==="/"){[t,n]=e.split("/");break}if(!isNaN(Number(i))){t=r==="h"?"http":r,n=e.split(r)[1];break}r+=i}return r===e&&(t=r),{name:t,version:n}}function hs(e=0){return((Ei||performance.timeOrigin)+e)/1e3}function K9(e){const{name:t,version:n}=Y9(e.nextHopProtocol),r=[];return r.push(["network.protocol.version",n],["network.protocol.name",t]),Ei?[...r,["http.request.redirect_start",hs(e.redirectStart)],["http.request.fetch_start",hs(e.fetchStart)],["http.request.domain_lookup_start",hs(e.domainLookupStart)],["http.request.domain_lookup_end",hs(e.domainLookupEnd)],["http.request.connect_start",hs(e.connectStart)],["http.request.secure_connection_start",hs(e.secureConnectionStart)],["http.request.connection_end",hs(e.connectEnd)],["http.request.request_start",hs(e.requestStart)],["http.request.response_start",hs(e.responseStart)],["http.request.response_end",hs(e.responseEnd)]]:r}function Q9(e,t){return Xf(e,t||f1)}function J9(e,t,n,r){const i=e.xhr,s=i&&i[rc];if(!_u()||!i||i.__sentry_own_request__||!s)return;const o=t(s.url);if(e.endTimestamp&&o){const p=i.__sentry_xhr_span_id__;if(!p)return;const g=r[p];g&&s.status_code!==void 0&&(ix(g,s.status_code),g.end(),delete r[p]);return}const a=zs(),l=wl(),c=I5(s.url),u=c?Ka(c).host:void 0,d=o?Pd({name:`${s.method} ${s.url}`,onlyIfParent:!0,attributes:{type:"xhr","http.method":s.method,"http.url":c,url:s.url,"server.address":u,[sc]:"auto.http.browser"},op:"http.client"}):void 0;d&&(i.__sentry_xhr_span_id__=d.spanContext().spanId,r[i.__sentry_xhr_span_id__]=d);const h=In();if(i.setRequestHeader&&n(s.url)&&h){const{traceId:p,spanId:g,sampled:m,dsc:A}={...l.getPropagationContext(),...a.getPropagationContext()},v=d?a0(d):Zb(p,g,m),y=qj(A||(d?Kc(d):c0(p,h,a)));X9(i,v,y)}return d}function X9(e,t,n){try{e.setRequestHeader("sentry-trace",t),n&&e.setRequestHeader(s1,n)}catch{}}function I5(e){try{return new URL(e,De.location.origin).href}catch{return}}const Z9="BrowserTracing",eU={...Wp,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableInp:!1,interactionsSampleRate:1,_experiments:{},...h1},tU=(e={})=>{const t=Ht?!!(e.tracePropagationTargets||e.tracingOrigins):!1;hz(),!e.tracePropagationTargets&&e.tracingOrigins&&(e.tracePropagationTargets=e.tracingOrigins);const n={...eU,...e},r=w9(),i={};n.enableInp&&C9(i,n.interactionsSampleRate),n.enableLongTask&&E9(),n._experiments.enableInteractions&&k9();const s={name:void 0,context:void 0};function o(a){const l=cr(),{beforeStartSpan:c,idleTimeout:u,finalTimeout:d,heartbeatInterval:h}=n,p=a.op==="pageload";let g;if(p){const y=p?Lk("sentry-trace"):"",b=p?Lk("baggage"):void 0,{traceId:S,dsc:x,parentSpanId:w,sampled:E}=m7(y,b);g={traceId:S,parentSpanId:w,parentSampled:E,...a,metadata:{...a.metadata,dynamicSamplingContext:x},trimEnd:!0}}else g={trimEnd:!0,...a};const m=c?c(g):g;m.metadata=m.name!==g.name?{...m.metadata,source:"custom"}:m.metadata,s.name=m.name,s.context=m,m.sampled===!1&&Ht&&re.log(`[Tracing] Will not send ${m.op} transaction because of beforeNavigate.`),Ht&&re.log(`[Tracing] Starting ${m.op} transaction on scope`);const{location:A}=De,v=c5(l,m,u,d,!0,{location:A},h,p);return p&&De.document&&(De.document.addEventListener("readystatechange",()=>{["interactive","complete"].includes(De.document.readyState)&&v.sendAutoFinishSignal()}),["interactive","complete"].includes(De.document.readyState)&&v.sendAutoFinishSignal()),v.registerBeforeFinishCallback(y=>{r(),j9(y)}),v}return{name:Z9,setupOnce:()=>{},afterAllSetup(a){const l=a.getOptions(),{markBackgroundSpan:c,traceFetch:u,traceXHR:d,shouldCreateSpanForRequest:h,enableHTTPTimings:p,_experiments:g}=n,m=l&&l.tracePropagationTargets,A=m||n.tracePropagationTargets;Ht&&t&&m&&re.warn("[Tracing] The `tracePropagationTargets` option was set in the BrowserTracing integration and top level `Sentry.init`. The top level `Sentry.init` value is being used.");let v,y=De.location&&De.location.href;if(a.on&&(a.on("startNavigationSpan",b=>{v&&(Ht&&re.log(`[Tracing] Finishing current transaction with op: ${Tn(v).op}`),v.end()),v=o({op:"navigation",...b})}),a.on("startPageLoadSpan",b=>{v&&(Ht&&re.log(`[Tracing] Finishing current transaction with op: ${Tn(v).op}`),v.end()),v=o({op:"pageload",...b})})),n.instrumentPageLoad&&a.emit&&De.location){const b={name:De.location.pathname,startTimestamp:Ei?Ei/1e3:void 0,origin:"auto.pageload.browser",attributes:{[Xo]:"url"}};nU(a,b)}n.instrumentNavigation&&a.emit&&De.location&&Jb(({to:b,from:S})=>{if(S===void 0&&y&&y.indexOf(b)!==-1){y=void 0;return}if(S!==b){y=void 0;const x={name:De.location.pathname,origin:"auto.navigation.browser",attributes:{[Xo]:"url"}};rU(a,x)}}),c&&Xz(),g.enableInteractions&&iU(n,s),n.enableInp&&oU(i,s),G9({traceFetch:u,traceXHR:d,tracePropagationTargets:A,shouldCreateSpanForRequest:h,enableHTTPTimings:p})},options:n}};function nU(e,t){if(!e.emit)return;e.emit("startPageLoadSpan",t);const n=sx();return(n&&Tn(n).op)==="pageload"?n:void 0}function rU(e,t){if(!e.emit)return;e.emit("startNavigationSpan",t);const n=sx();return(n&&Tn(n).op)==="navigation"?n:void 0}function Lk(e){const t=w8(`meta[name=${e}]`);return t?t.getAttribute("content"):void 0}function iU(e,t){let n;const r=()=>{const{idleTimeout:i,finalTimeout:s,heartbeatInterval:o}=e,a="ui.action.click",l=El();if(l&&l.op&&["navigation","pageload"].includes(l.op)){Ht&&re.warn(`[Tracing] Did not create ${a} transaction because a pageload or navigation transaction is in progress.`);return}if(n&&(n.setFinishReason("interactionInterrupted"),n.end(),n=void 0),!t.name){Ht&&re.warn(`[Tracing] Did not create ${a} transaction because _latestRouteName is missing.`);return}const{location:c}=De,u={name:t.name,op:a,trimEnd:!0,data:{[Xo]:t.context?aU(t.context):"url"}};n=c5(cr(),u,i,s,!0,{location:c},o)};["click"].forEach(i=>{De.document&&addEventListener(i,r,{once:!1,capture:!0})})}function sU(e){return"duration"in e}const Nk=10;function oU(e,t){const n=({entries:r})=>{const i=In(),s=i!==void 0&&i.getIntegrationByName!==void 0?i.getIntegrationByName("Replay"):void 0,o=s!==void 0?s.getReplayId():void 0,a=El(),l=zs(),c=l!==void 0?l.getUser():void 0;r.forEach(u=>{if(sU(u)){const d=u.interactionId;if(d===void 0)return;const h=e[d],p=u.duration,g=u.startTime,m=Object.keys(e),A=m.length>0?m.reduce((v,y)=>e[v].duration<e[y].duration?v:y):void 0;if(u.entryType==="first-input"&&m.map(y=>e[y]).some(y=>y.duration===p&&y.startTime===g)||!d)return;if(h)h.duration=Math.max(h.duration,p);else if(m.length<Nk||A===void 0||p>e[A].duration){const v=t.name,y=t.context;v&&y&&(A&&Object.keys(e).length>=Nk&&delete e[A],e[d]={routeName:v,duration:p,parentContext:y,user:c,activeTransaction:a,replayId:o,startTime:g})}}})};cf("event",n),cf("first-input",n)}function aU(e){const t=e.attributes&&e.attributes[Xo],n=e.data&&e.data[Xo],r=e.metadata&&e.metadata.source;return t||n||r}const at=dt;let p1=0;function P5(){return p1>0}function lU(){p1++,setTimeout(()=>{p1--})}function Jc(e,t={},n){if(typeof e!="function")return e;try{const i=e.__sentry_wrapped__;if(i)return i;if(Qb(e))return e}catch{return e}const r=function(){const i=Array.prototype.slice.call(arguments);try{n&&typeof n=="function"&&n.apply(this,arguments);const s=i.map(o=>Jc(o,t));return e.apply(this,s)}catch(s){throw lU(),rx(o=>{o.addEventProcessor(a=>(t.mechanism&&(XA(a,void 0,void 0),lf(a,t.mechanism)),a.extra={...a.extra,arguments:i},a)),Ns(s)}),s}};try{for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}catch{}Rj(r,e),il(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return e.name}})}catch{}return r}const _i=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function R5(e,t){const n=cx(e,t),r={type:t&&t.name,value:fU(t)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function cU(e,t,n,r){const i=In(),s=i&&i.getOptions().normalizeDepth,o={exception:{values:[{type:r0(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:gU(t,{isUnhandledRejection:r})}]},extra:{__serialized__:zj(t,s)}};if(n){const a=cx(e,n);a.length&&(o.exception.values[0].stacktrace={frames:a})}return o}function ty(e,t){return{exception:{values:[R5(e,t)]}}}function cx(e,t){const n=t.stacktrace||t.stack||"",r=dU(t);try{return e(n,r)}catch{}return[]}const uU=/Minified React error #\d+;/i;function dU(e){if(e){if(typeof e.framesToPop=="number")return e.framesToPop;if(uU.test(e.message))return 1}return 0}function fU(e){const t=e&&e.message;return t?t.error&&typeof t.error.message=="string"?t.error.message:t:"No error message"}function hU(e,t,n,r){const i=n&&n.syntheticException||void 0,s=ux(e,t,i,r);return lf(s),s.level="error",n&&n.event_id&&(s.event_id=n.event_id),Yc(s)}function pU(e,t,n="info",r,i){const s=r&&r.syntheticException||void 0,o=g1(e,t,s,i);return o.level=n,r&&r.event_id&&(o.event_id=r.event_id),Yc(o)}function ux(e,t,n,r,i){let s;if(Gb(t)&&t.error)return ty(e,t.error);if(X2(t)||p8(t)){const o=t;if("stack"in t)s=ty(e,t);else{const a=o.name||(X2(o)?"DOMError":"DOMException"),l=o.message?`${a}: ${o.message}`:a;s=g1(e,l,n,r),XA(s,l)}return"code"in o&&(s.tags={...s.tags,"DOMException.code":`${o.code}`}),s}return qb(t)?ty(e,t):Gc(t)||r0(t)?(s=cU(e,t,n,i),lf(s,{synthetic:!0}),s):(s=g1(e,t,n,r),XA(s,`${t}`,void 0),lf(s,{synthetic:!0}),s)}function g1(e,t,n,r){const i={};if(r&&n){const s=cx(e,n);s.length&&(i.exception={values:[{value:t,stacktrace:{frames:s}}]})}if(Wb(t)){const{__sentry_template_string__:s,__sentry_template_values__:o}=t;return i.logentry={message:s,params:o},i}return i.message=t,i}function gU(e,{isUnhandledRejection:t}){const n=M8(e),r=t?"promise rejection":"exception";return Gb(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:r0(e)?`Event \`${mU(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}function mU(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}function vU(e,{metadata:t,tunnel:n,dsn:r}){const i={event_id:e.event_id,sent_at:new Date().toISOString(),...t&&t.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}},...!!n&&!!r&&{dsn:_l(r)}},s=yU(e);return Sl(i,[s])}function yU(e){return[{type:"user_report"},e]}class AU extends Pz{constructor(t){const n=at.SENTRY_SDK_SOURCE||e7();g5(t,"browser",["browser"],n),super(t),t.sendClientReports&&at.document&&at.document.addEventListener("visibilitychange",()=>{at.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(t,n){return hU(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",r){return pU(this._options.stackParser,t,n,r,this._options.attachStacktrace)}captureUserFeedback(t){if(!this._isEnabled()){_i&&re.warn("SDK not enabled, will not capture user feedback.");return}const n=vU(t,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this._sendEnvelope(n)}_prepareEvent(t,n,r){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,r)}_flushOutcomes(){const t=this._clearOutcomes();if(t.length===0){_i&&re.log("No outcomes to send");return}if(!this._dsn){_i&&re.log("No dsn provided, will not send outcomes");return}_i&&re.log("Sending outcomes:",t);const n=S7(t,this._options.tunnel&&_l(this._dsn));this._sendEnvelope(n)}}let hd;function _U(){if(hd)return hd;if(n1(at.fetch))return hd=at.fetch.bind(at);const e=at.document;let t=at.fetch;if(e&&typeof e.createElement=="function")try{const n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n);const r=n.contentWindow;r&&r.fetch&&(t=r.fetch),e.head.removeChild(n)}catch(n){_i&&re.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return hd=t.bind(at)}function bU(){hd=void 0}function xU(e,t=_U()){let n=0,r=0;function i(s){const o=s.body.length;n+=o,r++;const a={body:s.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};try{return t(e.url,a).then(l=>(n-=o,r--,{statusCode:l.status,headers:{"x-sentry-rate-limits":l.headers.get("X-Sentry-Rate-Limits"),"retry-after":l.headers.get("Retry-After")}}))}catch(l){return bU(),n-=o,r--,Xb(l)}}return p5(e,i)}const SU=4;function wU(e){function t(n){return new zr((r,i)=>{const s=new XMLHttpRequest;s.onerror=i,s.onreadystatechange=()=>{s.readyState===SU&&r({statusCode:s.status,headers:{"x-sentry-rate-limits":s.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":s.getResponseHeader("Retry-After")}})},s.open("POST",e.url);for(const o in e.headers)Object.prototype.hasOwnProperty.call(e.headers,o)&&s.setRequestHeader(o,e.headers[o]);s.send(n.body)})}return p5(e,t)}const f0="?",EU=30,kU=40,CU=50;function dx(e,t,n,r){const i={filename:e,function:t,in_app:!0};return n!==void 0&&(i.lineno=n),r!==void 0&&(i.colno=r),i}const TU=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,IU=/\((\S*)(?::(\d+))(?::(\d+))\)/,PU=e=>{const t=TU.exec(e);if(t){if(t[2]&&t[2].indexOf("eval")===0){const s=IU.exec(t[2]);s&&(t[2]=s[1],t[3]=s[2],t[4]=s[3])}const[r,i]=M5(t[1]||f0,t[2]);return dx(i,r,t[3]?+t[3]:void 0,t[4]?+t[4]:void 0)}},RU=[EU,PU],MU=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,jU=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,OU=e=>{const t=MU.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const s=jU.exec(t[3]);s&&(t[1]=t[1]||"eval",t[3]=s[1],t[4]=s[2],t[5]="")}let r=t[3],i=t[1]||f0;return[i,r]=M5(i,r),dx(r,i,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},VU=[CU,OU],LU=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,NU=e=>{const t=LU.exec(e);return t?dx(t[2],t[1]||f0,+t[3],t[4]?+t[4]:void 0):void 0},$U=[kU,NU],DU=[RU,VU,$U],BU=Oj(...DU),M5=(e,t)=>{const n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:f0,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},Yh=1024,j5="Breadcrumbs",FU=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:j5,setupOnce(){},setup(n){t.console&&L8(HU(n)),t.dom&&D8(UU(n,t.dom)),t.xhr&&Fj(qU(n)),t.fetch&&$j(GU(n)),t.history&&Jb(WU(n)),t.sentry&&n.on&&n.on("beforeSendEvent",zU(n))}}},O5=FU;fa(j5,O5);function zU(e){return function(n){In()===e&&al({category:`sentry.${n.type==="transaction"?"transaction":"event"}`,event_id:n.event_id,level:n.level,message:$o(n)},{event:n})}}function UU(e,t){return function(r){if(In()!==e)return;let i,s,o=typeof t=="object"?t.serializeAttribute:void 0,a=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;a&&a>Yh&&(_i&&re.warn(`\`dom.maxStringLength\` cannot exceed ${Yh}, but a value of ${a} was configured. Sentry will use ${Yh} instead.`),a=Yh),typeof o=="string"&&(o=[o]);try{const c=r.event,u=YU(c)?c.target:c;i=Wc(u,{keyAttrs:o,maxStringLength:a}),s=Tj(u)}catch{i="<unknown>"}if(i.length===0)return;const l={category:`ui.${r.name}`,message:i};s&&(l.data={"ui.component_name":s}),al(l,{event:r.event,name:r.name,global:r.global})}}function HU(e){return function(n){if(In()!==e)return;const r={category:"console",data:{arguments:n.args,logger:"console"},level:l7(n.level),message:Z2(n.args," ")};if(n.level==="assert")if(n.args[0]===!1)r.message=`Assertion failed: ${Z2(n.args.slice(1)," ")||"console.assert"}`,r.data.arguments=n.args.slice(1);else return;al(r,{input:n.args,level:n.level})}}function qU(e){return function(n){if(In()!==e)return;const{startTimestamp:r,endTimestamp:i}=n,s=n.xhr[rc];if(!r||!i||!s)return;const{method:o,url:a,status_code:l,body:c}=s,u={method:o,url:a,status_code:l},d={xhr:n.xhr,input:c,startTimestamp:r,endTimestamp:i};al({category:"xhr",data:u,type:"http"},d)}}function GU(e){return function(n){if(In()!==e)return;const{startTimestamp:r,endTimestamp:i}=n;if(i&&!(n.fetchData.url.match(/sentry_key/)&&n.fetchData.method==="POST"))if(n.error){const s=n.fetchData,o={data:n.error,input:n.args,startTimestamp:r,endTimestamp:i};al({category:"fetch",data:s,level:"error",type:"http"},o)}else{const s=n.response,o={...n.fetchData,status_code:s&&s.status},a={input:n.args,response:s,startTimestamp:r,endTimestamp:i};al({category:"fetch",data:o,type:"http"},a)}}}function WU(e){return function(n){if(In()!==e)return;let r=n.from,i=n.to;const s=Ka(at.location.href);let o=r?Ka(r):void 0;const a=Ka(i);(!o||!o.path)&&(o=s),s.protocol===a.protocol&&s.host===a.host&&(i=a.relative),s.protocol===o.protocol&&s.host===o.host&&(r=o.relative),al({category:"navigation",data:{from:r,to:i}})}}function YU(e){return!!e&&!!e.target}const V5="Dedupe",KU=()=>{let e;return{name:V5,setupOnce(){},processEvent(t){if(t.type)return t;try{if(QU(t,e))return _i&&re.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}},L5=KU;fa(V5,L5);function QU(e,t){return t?!!(JU(e,t)||XU(e,t)):!1}function JU(e,t){const n=e.message,r=t.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!$5(e,t)||!N5(e,t))}function XU(e,t){const n=$k(t),r=$k(e);return!(!n||!r||n.type!==r.type||n.value!==r.value||!$5(e,t)||!N5(e,t))}function N5(e,t){let n=Dk(e),r=Dk(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let i=0;i<r.length;i++){const s=r[i],o=n[i];if(s.filename!==o.filename||s.lineno!==o.lineno||s.colno!==o.colno||s.function!==o.function)return!1}return!0}function $5(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function $k(e){return e.exception&&e.exception.values&&e.exception.values[0]}function Dk(e){const t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch{return}}const D5="GlobalHandlers",ZU=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:D5,setupOnce(){Error.stackTraceLimit=50},setup(n){t.onerror&&(eH(n),Bk("onerror")),t.onunhandledrejection&&(tH(n),Bk("onunhandledrejection"))}}},B5=ZU;fa(D5,B5);function eH(e){Dj(t=>{const{stackParser:n,attachStacktrace:r}=z5();if(In()!==e||P5())return;const{msg:i,url:s,line:o,column:a,error:l}=t,c=l===void 0&&Ms(i)?iH(i,s,o,a):F5(ux(n,l||i,void 0,r,!1),s,o,a);c.level="error",Qj(c,{originalException:l,mechanism:{handled:!1,type:"onerror"}})})}function tH(e){Bj(t=>{const{stackParser:n,attachStacktrace:r}=z5();if(In()!==e||P5())return;const i=nH(t),s=Yb(i)?rH(i):ux(n,i,void 0,r,!0);s.level="error",Qj(s,{originalException:i,mechanism:{handled:!1,type:"onunhandledrejection"}})})}function nH(e){if(Yb(e))return e;const t=e;try{if("reason"in t)return t.reason;if("detail"in t&&"reason"in t.detail)return t.detail.reason}catch{}return e}function rH(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function iH(e,t,n,r){const i=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;let s=Gb(e)?e.message:e,o="Error";const a=s.match(i);return a&&(o=a[1],s=a[2]),F5({exception:{values:[{type:o,value:s}]}},t,n,r)}function F5(e,t,n,r){const i=e.exception=e.exception||{},s=i.values=i.values||[],o=s[0]=s[0]||{},a=o.stacktrace=o.stacktrace||{},l=a.frames=a.frames||[],c=isNaN(parseInt(r,10))?void 0:r,u=isNaN(parseInt(n,10))?void 0:n,d=Ms(t)&&t.length>0?t:S8();return l.length===0&&l.push({colno:c,filename:d,function:"?",in_app:!0,lineno:u}),e}function Bk(e){_i&&re.log(`Global Handler attached: ${e}`)}function z5(){const e=In();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const U5="HttpContext",sH=()=>({name:U5,setupOnce(){},preprocessEvent(e){if(!at.navigator&&!at.location&&!at.document)return;const t=e.request&&e.request.url||at.location&&at.location.href,{referrer:n}=at.document||{},{userAgent:r}=at.navigator||{},i={...e.request&&e.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},s={...e.request,...t&&{url:t},headers:i};e.request=s}}),H5=sH;fa(U5,H5);const oH="cause",aH=5,q5="LinkedErrors",lH=(e={})=>{const t=e.limit||aH,n=e.key||oH;return{name:q5,setupOnce(){},preprocessEvent(r,i,s){const o=s.getOptions();A8(R5,o.stackParser,o.maxValueLength,n,t,r,i)}}},G5=lH;fa(q5,G5);const cH=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],W5="TryCatch",uH=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:W5,setupOnce(){t.setTimeout&&Qn(at,"setTimeout",Fk),t.setInterval&&Qn(at,"setInterval",Fk),t.requestAnimationFrame&&Qn(at,"requestAnimationFrame",dH),t.XMLHttpRequest&&"XMLHttpRequest"in at&&Qn(XMLHttpRequest.prototype,"send",fH);const n=t.eventTarget;n&&(Array.isArray(n)?n:cH).forEach(hH)}}},Y5=uH;fa(W5,Y5);function Fk(e){return function(...t){const n=t[0];return t[0]=Jc(n,{mechanism:{data:{function:ao(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function dH(e){return function(t){return e.apply(this,[Jc(t,{mechanism:{data:{function:"requestAnimationFrame",handler:ao(e)},handled:!1,type:"instrument"}})])}}function fH(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(i=>{i in n&&typeof n[i]=="function"&&Qn(n,i,function(s){const o={mechanism:{data:{function:i,handler:ao(s)},handled:!1,type:"instrument"}},a=Qb(s);return a&&(o.mechanism.data.handler=ao(a)),Jc(s,o)})}),e.apply(this,t)}}function hH(e){const t=at,n=t[e]&&t[e].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(Qn(n,"addEventListener",function(r){return function(i,s,o){try{typeof s.handleEvent=="function"&&(s.handleEvent=Jc(s.handleEvent,{mechanism:{data:{function:"handleEvent",handler:ao(s),target:e},handled:!1,type:"instrument"}}))}catch{}return r.apply(this,[i,Jc(s,{mechanism:{data:{function:"addEventListener",handler:ao(s),target:e},handled:!1,type:"instrument"}}),o])}}),Qn(n,"removeEventListener",function(r){return function(i,s,o){const a=s;try{const l=a&&a.__sentry_wrapped__;l&&r.call(this,i,l,o)}catch{}return r.call(this,i,a,o)}}))}const pH=[v5(),A5(),Y5(),O5(),B5(),G5(),L5(),H5()];function gH(e){return[...pH]}function mH(e={}){e.defaultIntegrations===void 0&&(e.defaultIntegrations=gH()),e.release===void 0&&(typeof __SENTRY_RELEASE__=="string"&&(e.release=__SENTRY_RELEASE__),at.SENTRY_RELEASE&&at.SENTRY_RELEASE.id&&(e.release=at.SENTRY_RELEASE.id)),e.autoSessionTracking===void 0&&(e.autoSessionTracking=!0),e.sendClientReports===void 0&&(e.sendClientReports=!0);const t={...e,stackParser:O8(e.stackParser||BU),integrations:wz(e),transport:e.transport||(Nj()?xU:wU)};jz(AU,t),e.autoSessionTracking&&vH()}const zk=(e={},t=cr())=>{if(!at.document){_i&&re.error("Global document not defined in showReportDialog call");return}const{client:n,scope:r}=t.getStackTop(),i=e.dsn||n&&n.getDsn();if(!i){_i&&re.error("DSN not configured for showReportDialog call");return}r&&(e.user={...r.getUser(),...e.user}),e.eventId||(e.eventId=t.lastEventId());const s=at.document.createElement("script");s.async=!0,s.crossOrigin="anonymous",s.src=xz(i,e),e.onLoad&&(s.onload=e.onLoad);const{onClose:o}=e;if(o){const l=c=>{if(c.data==="__sentry_reportdialog_closed__")try{o()}finally{at.removeEventListener("message",l)}};at.addEventListener("message",l)}const a=at.document.head||at.document.body;a?a.appendChild(s):_i&&re.error("Not injecting report dialog. No injection point found in HTML")};function vH(){if(typeof at.document>"u"){_i&&re.warn("Session tracking in non-browser environment with @sentry/browser is not supported.");return}vk({ignoreDuration:!0}),yk(),Jb(({from:e,to:t})=>{e!==void 0&&e!==t&&(vk({ignoreDuration:!0}),yk())})}function Kh(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var K5={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(e,t){(function(n){e.exports=n()})(function(){return function n(r,i,s){function o(c,u){if(!i[c]){if(!r[c]){var d=typeof Kh=="function"&&Kh;if(!u&&d)return d(c,!0);if(a)return a(c,!0);var h=new Error("Cannot find module '"+c+"'");throw h.code="MODULE_NOT_FOUND",h}var p=i[c]={exports:{}};r[c][0].call(p.exports,function(g){var m=r[c][1][g];return o(m||g)},p,p.exports,n,r,i,s)}return i[c].exports}for(var a=typeof Kh=="function"&&Kh,l=0;l<s.length;l++)o(s[l]);return o}({1:[function(n,r,i){(function(s){var o=s.MutationObserver||s.WebKitMutationObserver,a;if(o){var l=0,c=new o(g),u=s.document.createTextNode("");c.observe(u,{characterData:!0}),a=function(){u.data=l=++l%2}}else if(!s.setImmediate&&typeof s.MessageChannel<"u"){var d=new s.MessageChannel;d.port1.onmessage=g,a=function(){d.port2.postMessage(0)}}else"document"in s&&"onreadystatechange"in s.document.createElement("script")?a=function(){var A=s.document.createElement("script");A.onreadystatechange=function(){g(),A.onreadystatechange=null,A.parentNode.removeChild(A),A=null},s.document.documentElement.appendChild(A)}:a=function(){setTimeout(g,0)};var h,p=[];function g(){h=!0;for(var A,v,y=p.length;y;){for(v=p,p=[],A=-1;++A<y;)v[A]();y=p.length}h=!1}r.exports=m;function m(A){p.push(A)===1&&!h&&a()}}).call(this,typeof zo<"u"?zo:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(n,r,i){var s=n(1);function o(){}var a={},l=["REJECTED"],c=["FULFILLED"],u=["PENDING"];r.exports=d;function d(x){if(typeof x!="function")throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,x!==o&&m(this,x)}d.prototype.catch=function(x){return this.then(null,x)},d.prototype.then=function(x,w){if(typeof x!="function"&&this.state===c||typeof w!="function"&&this.state===l)return this;var E=new this.constructor(o);if(this.state!==u){var T=this.state===c?x:w;p(E,T,this.outcome)}else this.queue.push(new h(E,x,w));return E};function h(x,w,E){this.promise=x,typeof w=="function"&&(this.onFulfilled=w,this.callFulfilled=this.otherCallFulfilled),typeof E=="function"&&(this.onRejected=E,this.callRejected=this.otherCallRejected)}h.prototype.callFulfilled=function(x){a.resolve(this.promise,x)},h.prototype.otherCallFulfilled=function(x){p(this.promise,this.onFulfilled,x)},h.prototype.callRejected=function(x){a.reject(this.promise,x)},h.prototype.otherCallRejected=function(x){p(this.promise,this.onRejected,x)};function p(x,w,E){s(function(){var T;try{T=w(E)}catch(L){return a.reject(x,L)}T===x?a.reject(x,new TypeError("Cannot resolve promise with itself")):a.resolve(x,T)})}a.resolve=function(x,w){var E=A(g,w);if(E.status==="error")return a.reject(x,E.value);var T=E.value;if(T)m(x,T);else{x.state=c,x.outcome=w;for(var L=-1,O=x.queue.length;++L<O;)x.queue[L].callFulfilled(w)}return x},a.reject=function(x,w){x.state=l,x.outcome=w;for(var E=-1,T=x.queue.length;++E<T;)x.queue[E].callRejected(w);return x};function g(x){var w=x&&x.then;if(x&&(typeof x=="object"||typeof x=="function")&&typeof w=="function")return function(){w.apply(x,arguments)}}function m(x,w){var E=!1;function T(Q){E||(E=!0,a.reject(x,Q))}function L(Q){E||(E=!0,a.resolve(x,Q))}function O(){w(L,T)}var N=A(O);N.status==="error"&&T(N.value)}function A(x,w){var E={};try{E.value=x(w),E.status="success"}catch(T){E.status="error",E.value=T}return E}d.resolve=v;function v(x){return x instanceof this?x:a.resolve(new this(o),x)}d.reject=y;function y(x){var w=new this(o);return a.reject(w,x)}d.all=b;function b(x){var w=this;if(Object.prototype.toString.call(x)!=="[object Array]")return this.reject(new TypeError("must be an array"));var E=x.length,T=!1;if(!E)return this.resolve([]);for(var L=new Array(E),O=0,N=-1,Q=new this(o);++N<E;)M(x[N],N);return Q;function M(U,P){w.resolve(U).then(I,function(z){T||(T=!0,a.reject(Q,z))});function I(z){L[P]=z,++O===E&&!T&&(T=!0,a.resolve(Q,L))}}}d.race=S;function S(x){var w=this;if(Object.prototype.toString.call(x)!=="[object Array]")return this.reject(new TypeError("must be an array"));var E=x.length,T=!1;if(!E)return this.resolve([]);for(var L=-1,O=new this(o);++L<E;)N(x[L]);return O;function N(Q){w.resolve(Q).then(function(M){T||(T=!0,a.resolve(O,M))},function(M){T||(T=!0,a.reject(O,M))})}}},{1:1}],3:[function(n,r,i){(function(s){typeof s.Promise!="function"&&(s.Promise=n(2))}).call(this,typeof zo<"u"?zo:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(n,r,i){var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(k){return typeof k}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k};function o(k,F){if(!(k instanceof F))throw new TypeError("Cannot call a class as a function")}function a(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var l=a();function c(){try{if(!l||!l.open)return!1;var k=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),F=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!k||F)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function u(k,F){k=k||[],F=F||{};try{return new Blob(k,F)}catch(H){if(H.name!=="TypeError")throw H;for(var R=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,G=new R,K=0;K<k.length;K+=1)G.append(k[K]);return G.getBlob(F.type)}}typeof Promise>"u"&&n(3);var d=Promise;function h(k,F){F&&k.then(function(R){F(null,R)},function(R){F(R)})}function p(k,F,R){typeof F=="function"&&k.then(F),typeof R=="function"&&k.catch(R)}function g(k){return typeof k!="string"&&(console.warn(k+" used as a key, but it is not a string."),k=String(k)),k}function m(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var A="local-forage-detect-blob-support",v=void 0,y={},b=Object.prototype.toString,S="readonly",x="readwrite";function w(k){for(var F=k.length,R=new ArrayBuffer(F),G=new Uint8Array(R),K=0;K<F;K++)G[K]=k.charCodeAt(K);return R}function E(k){return new d(function(F){var R=k.transaction(A,x),G=u([""]);R.objectStore(A).put(G,"key"),R.onabort=function(K){K.preventDefault(),K.stopPropagation(),F(!1)},R.oncomplete=function(){var K=navigator.userAgent.match(/Chrome\/(\d+)/),H=navigator.userAgent.match(/Edge\//);F(H||!K||parseInt(K[1],10)>=43)}}).catch(function(){return!1})}function T(k){return typeof v=="boolean"?d.resolve(v):E(k).then(function(F){return v=F,v})}function L(k){var F=y[k.name],R={};R.promise=new d(function(G,K){R.resolve=G,R.reject=K}),F.deferredOperations.push(R),F.dbReady?F.dbReady=F.dbReady.then(function(){return R.promise}):F.dbReady=R.promise}function O(k){var F=y[k.name],R=F.deferredOperations.pop();if(R)return R.resolve(),R.promise}function N(k,F){var R=y[k.name],G=R.deferredOperations.pop();if(G)return G.reject(F),G.promise}function Q(k,F){return new d(function(R,G){if(y[k.name]=y[k.name]||q(),k.db)if(F)L(k),k.db.close();else return R(k.db);var K=[k.name];F&&K.push(k.version);var H=l.open.apply(l,K);F&&(H.onupgradeneeded=function(ee){var se=H.result;try{se.createObjectStore(k.storeName),ee.oldVersion<=1&&se.createObjectStore(A)}catch(le){if(le.name==="ConstraintError")console.warn('The database "'+k.name+'" has been upgraded from version '+ee.oldVersion+" to version "+ee.newVersion+', but the storage "'+k.storeName+'" already exists.');else throw le}}),H.onerror=function(ee){ee.preventDefault(),G(H.error)},H.onsuccess=function(){var ee=H.result;ee.onversionchange=function(se){se.target.close()},R(ee),O(k)}})}function M(k){return Q(k,!1)}function U(k){return Q(k,!0)}function P(k,F){if(!k.db)return!0;var R=!k.db.objectStoreNames.contains(k.storeName),G=k.version<k.db.version,K=k.version>k.db.version;if(G&&(k.version!==F&&console.warn('The database "'+k.name+`" can't be downgraded from version `+k.db.version+" to version "+k.version+"."),k.version=k.db.version),K||R){if(R){var H=k.db.version+1;H>k.version&&(k.version=H)}return!0}return!1}function I(k){return new d(function(F,R){var G=new FileReader;G.onerror=R,G.onloadend=function(K){var H=btoa(K.target.result||"");F({__local_forage_encoded_blob:!0,data:H,type:k.type})},G.readAsBinaryString(k)})}function z(k){var F=w(atob(k.data));return u([F],{type:k.type})}function j(k){return k&&k.__local_forage_encoded_blob}function $(k){var F=this,R=F._initReady().then(function(){var G=y[F._dbInfo.name];if(G&&G.dbReady)return G.dbReady});return p(R,k,k),R}function B(k){L(k);for(var F=y[k.name],R=F.forages,G=0;G<R.length;G++){var K=R[G];K._dbInfo.db&&(K._dbInfo.db.close(),K._dbInfo.db=null)}return k.db=null,M(k).then(function(H){return k.db=H,P(k)?U(k):H}).then(function(H){k.db=F.db=H;for(var ee=0;ee<R.length;ee++)R[ee]._dbInfo.db=H}).catch(function(H){throw N(k,H),H})}function D(k,F,R,G){G===void 0&&(G=1);try{var K=k.db.transaction(k.storeName,F);R(null,K)}catch(H){if(G>0&&(!k.db||H.name==="InvalidStateError"||H.name==="NotFoundError"))return d.resolve().then(function(){if(!k.db||H.name==="NotFoundError"&&!k.db.objectStoreNames.contains(k.storeName)&&k.version<=k.db.version)return k.db&&(k.version=k.db.version+1),U(k)}).then(function(){return B(k).then(function(){D(k,F,R,G-1)})}).catch(R);R(H)}}function q(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function ne(k){var F=this,R={db:null};if(k)for(var G in k)R[G]=k[G];var K=y[R.name];K||(K=q(),y[R.name]=K),K.forages.push(F),F._initReady||(F._initReady=F.ready,F.ready=$);var H=[];function ee(){return d.resolve()}for(var se=0;se<K.forages.length;se++){var le=K.forages[se];le!==F&&H.push(le._initReady().catch(ee))}var ue=K.forages.slice(0);return d.all(H).then(function(){return R.db=K.db,M(R)}).then(function(ge){return R.db=ge,P(R,F._defaultConfig.version)?U(R):ge}).then(function(ge){R.db=K.db=ge,F._dbInfo=R;for(var ke=0;ke<ue.length;ke++){var Qe=ue[ke];Qe!==F&&(Qe._dbInfo.db=R.db,Qe._dbInfo.version=R.version)}})}function V(k,F){var R=this;k=g(k);var G=new d(function(K,H){R.ready().then(function(){D(R._dbInfo,S,function(ee,se){if(ee)return H(ee);try{var le=se.objectStore(R._dbInfo.storeName),ue=le.get(k);ue.onsuccess=function(){var ge=ue.result;ge===void 0&&(ge=null),j(ge)&&(ge=z(ge)),K(ge)},ue.onerror=function(){H(ue.error)}}catch(ge){H(ge)}})}).catch(H)});return h(G,F),G}function ce(k,F){var R=this,G=new d(function(K,H){R.ready().then(function(){D(R._dbInfo,S,function(ee,se){if(ee)return H(ee);try{var le=se.objectStore(R._dbInfo.storeName),ue=le.openCursor(),ge=1;ue.onsuccess=function(){var ke=ue.result;if(ke){var Qe=ke.value;j(Qe)&&(Qe=z(Qe));var ft=k(Qe,ke.key,ge++);ft!==void 0?K(ft):ke.continue()}else K()},ue.onerror=function(){H(ue.error)}}catch(ke){H(ke)}})}).catch(H)});return h(G,F),G}function Z(k,F,R){var G=this;k=g(k);var K=new d(function(H,ee){var se;G.ready().then(function(){return se=G._dbInfo,b.call(F)==="[object Blob]"?T(se.db).then(function(le){return le?F:I(F)}):F}).then(function(le){D(G._dbInfo,x,function(ue,ge){if(ue)return ee(ue);try{var ke=ge.objectStore(G._dbInfo.storeName);le===null&&(le=void 0);var Qe=ke.put(le,k);ge.oncomplete=function(){le===void 0&&(le=null),H(le)},ge.onabort=ge.onerror=function(){var ft=Qe.error?Qe.error:Qe.transaction.error;ee(ft)}}catch(ft){ee(ft)}})}).catch(ee)});return h(K,R),K}function de(k,F){var R=this;k=g(k);var G=new d(function(K,H){R.ready().then(function(){D(R._dbInfo,x,function(ee,se){if(ee)return H(ee);try{var le=se.objectStore(R._dbInfo.storeName),ue=le.delete(k);se.oncomplete=function(){K()},se.onerror=function(){H(ue.error)},se.onabort=function(){var ge=ue.error?ue.error:ue.transaction.error;H(ge)}}catch(ge){H(ge)}})}).catch(H)});return h(G,F),G}function we(k){var F=this,R=new d(function(G,K){F.ready().then(function(){D(F._dbInfo,x,function(H,ee){if(H)return K(H);try{var se=ee.objectStore(F._dbInfo.storeName),le=se.clear();ee.oncomplete=function(){G()},ee.onabort=ee.onerror=function(){var ue=le.error?le.error:le.transaction.error;K(ue)}}catch(ue){K(ue)}})}).catch(K)});return h(R,k),R}function Ee(k){var F=this,R=new d(function(G,K){F.ready().then(function(){D(F._dbInfo,S,function(H,ee){if(H)return K(H);try{var se=ee.objectStore(F._dbInfo.storeName),le=se.count();le.onsuccess=function(){G(le.result)},le.onerror=function(){K(le.error)}}catch(ue){K(ue)}})}).catch(K)});return h(R,k),R}function pe(k,F){var R=this,G=new d(function(K,H){if(k<0){K(null);return}R.ready().then(function(){D(R._dbInfo,S,function(ee,se){if(ee)return H(ee);try{var le=se.objectStore(R._dbInfo.storeName),ue=!1,ge=le.openKeyCursor();ge.onsuccess=function(){var ke=ge.result;if(!ke){K(null);return}k===0||ue?K(ke.key):(ue=!0,ke.advance(k))},ge.onerror=function(){H(ge.error)}}catch(ke){H(ke)}})}).catch(H)});return h(G,F),G}function Ae(k){var F=this,R=new d(function(G,K){F.ready().then(function(){D(F._dbInfo,S,function(H,ee){if(H)return K(H);try{var se=ee.objectStore(F._dbInfo.storeName),le=se.openKeyCursor(),ue=[];le.onsuccess=function(){var ge=le.result;if(!ge){G(ue);return}ue.push(ge.key),ge.continue()},le.onerror=function(){K(le.error)}}catch(ge){K(ge)}})}).catch(K)});return h(R,k),R}function qe(k,F){F=m.apply(this,arguments);var R=this.config();k=typeof k!="function"&&k||{},k.name||(k.name=k.name||R.name,k.storeName=k.storeName||R.storeName);var G=this,K;if(!k.name)K=d.reject("Invalid arguments");else{var H=k.name===R.name&&G._dbInfo.db,ee=H?d.resolve(G._dbInfo.db):M(k).then(function(se){var le=y[k.name],ue=le.forages;le.db=se;for(var ge=0;ge<ue.length;ge++)ue[ge]._dbInfo.db=se;return se});k.storeName?K=ee.then(function(se){if(se.objectStoreNames.contains(k.storeName)){var le=se.version+1;L(k);var ue=y[k.name],ge=ue.forages;se.close();for(var ke=0;ke<ge.length;ke++){var Qe=ge[ke];Qe._dbInfo.db=null,Qe._dbInfo.version=le}var ft=new d(function(pt,An){var ln=l.open(k.name,le);ln.onerror=function(ai){var Lu=ln.result;Lu.close(),An(ai)},ln.onupgradeneeded=function(){var ai=ln.result;ai.deleteObjectStore(k.storeName)},ln.onsuccess=function(){var ai=ln.result;ai.close(),pt(ai)}});return ft.then(function(pt){ue.db=pt;for(var An=0;An<ge.length;An++){var ln=ge[An];ln._dbInfo.db=pt,O(ln._dbInfo)}}).catch(function(pt){throw(N(k,pt)||d.resolve()).catch(function(){}),pt})}}):K=ee.then(function(se){L(k);var le=y[k.name],ue=le.forages;se.close();for(var ge=0;ge<ue.length;ge++){var ke=ue[ge];ke._dbInfo.db=null}var Qe=new d(function(ft,pt){var An=l.deleteDatabase(k.name);An.onerror=function(){var ln=An.result;ln&&ln.close(),pt(An.error)},An.onblocked=function(){console.warn('dropInstance blocked for database "'+k.name+'" until all open connections are closed')},An.onsuccess=function(){var ln=An.result;ln&&ln.close(),ft(ln)}});return Qe.then(function(ft){le.db=ft;for(var pt=0;pt<ue.length;pt++){var An=ue[pt];O(An._dbInfo)}}).catch(function(ft){throw(N(k,ft)||d.resolve()).catch(function(){}),ft})})}return h(K,F),K}var Le={_driver:"asyncStorage",_initStorage:ne,_support:c(),iterate:ce,getItem:V,setItem:Z,removeItem:de,clear:we,length:Ee,key:pe,keys:Ae,dropInstance:qe};function Ie(){return typeof openDatabase=="function"}var _e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ue="~~local_forage_type~",Ge=/^~~local_forage_type~([^~]+)~/,He="__lfsc__:",rt=He.length,it="arbf",Nt="blob",At="si08",Gt="ui08",st="uic8",_t="si16",wt="si32",Ye="ur16",$t="ui32",ye="fl32",We="fl64",Pn=rt+it.length,bt=Object.prototype.toString;function yn(k){var F=k.length*.75,R=k.length,G,K=0,H,ee,se,le;k[k.length-1]==="="&&(F--,k[k.length-2]==="="&&F--);var ue=new ArrayBuffer(F),ge=new Uint8Array(ue);for(G=0;G<R;G+=4)H=_e.indexOf(k[G]),ee=_e.indexOf(k[G+1]),se=_e.indexOf(k[G+2]),le=_e.indexOf(k[G+3]),ge[K++]=H<<2|ee>>4,ge[K++]=(ee&15)<<4|se>>2,ge[K++]=(se&3)<<6|le&63;return ue}function on(k){var F=new Uint8Array(k),R="",G;for(G=0;G<F.length;G+=3)R+=_e[F[G]>>2],R+=_e[(F[G]&3)<<4|F[G+1]>>4],R+=_e[(F[G+1]&15)<<2|F[G+2]>>6],R+=_e[F[G+2]&63];return F.length%3===2?R=R.substring(0,R.length-1)+"=":F.length%3===1&&(R=R.substring(0,R.length-2)+"=="),R}function an(k,F){var R="";if(k&&(R=bt.call(k)),k&&(R==="[object ArrayBuffer]"||k.buffer&&bt.call(k.buffer)==="[object ArrayBuffer]")){var G,K=He;k instanceof ArrayBuffer?(G=k,K+=it):(G=k.buffer,R==="[object Int8Array]"?K+=At:R==="[object Uint8Array]"?K+=Gt:R==="[object Uint8ClampedArray]"?K+=st:R==="[object Int16Array]"?K+=_t:R==="[object Uint16Array]"?K+=Ye:R==="[object Int32Array]"?K+=wt:R==="[object Uint32Array]"?K+=$t:R==="[object Float32Array]"?K+=ye:R==="[object Float64Array]"?K+=We:F(new Error("Failed to get type for BinaryArray"))),F(K+on(G))}else if(R==="[object Blob]"){var H=new FileReader;H.onload=function(){var ee=Ue+k.type+"~"+on(this.result);F(He+Nt+ee)},H.readAsArrayBuffer(k)}else try{F(JSON.stringify(k))}catch(ee){console.error("Couldn't convert value into a JSON string: ",k),F(null,ee)}}function Zt(k){if(k.substring(0,rt)!==He)return JSON.parse(k);var F=k.substring(Pn),R=k.substring(rt,Pn),G;if(R===Nt&&Ge.test(F)){var K=F.match(Ge);G=K[1],F=F.substring(K[0].length)}var H=yn(F);switch(R){case it:return H;case Nt:return u([H],{type:G});case At:return new Int8Array(H);case Gt:return new Uint8Array(H);case st:return new Uint8ClampedArray(H);case _t:return new Int16Array(H);case Ye:return new Uint16Array(H);case wt:return new Int32Array(H);case $t:return new Uint32Array(H);case ye:return new Float32Array(H);case We:return new Float64Array(H);default:throw new Error("Unkown type: "+R)}}var ht={serialize:an,deserialize:Zt,stringToBuffer:yn,bufferToString:on};function ur(k,F,R,G){k.executeSql("CREATE TABLE IF NOT EXISTS "+F.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],R,G)}function Li(k){var F=this,R={db:null};if(k)for(var G in k)R[G]=typeof k[G]!="string"?k[G].toString():k[G];var K=new d(function(H,ee){try{R.db=openDatabase(R.name,String(R.version),R.description,R.size)}catch(se){return ee(se)}R.db.transaction(function(se){ur(se,R,function(){F._dbInfo=R,H()},function(le,ue){ee(ue)})},ee)});return R.serializer=ht,K}function er(k,F,R,G,K,H){k.executeSql(R,G,K,function(ee,se){se.code===se.SYNTAX_ERR?ee.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[F.storeName],function(le,ue){ue.rows.length?H(le,se):ur(le,F,function(){le.executeSql(R,G,K,H)},H)},H):H(ee,se)},H)}function Io(k,F){var R=this;k=g(k);var G=new d(function(K,H){R.ready().then(function(){var ee=R._dbInfo;ee.db.transaction(function(se){er(se,ee,"SELECT * FROM "+ee.storeName+" WHERE key = ? LIMIT 1",[k],function(le,ue){var ge=ue.rows.length?ue.rows.item(0).value:null;ge&&(ge=ee.serializer.deserialize(ge)),K(ge)},function(le,ue){H(ue)})})}).catch(H)});return h(G,F),G}function Ni(k,F){var R=this,G=new d(function(K,H){R.ready().then(function(){var ee=R._dbInfo;ee.db.transaction(function(se){er(se,ee,"SELECT * FROM "+ee.storeName,[],function(le,ue){for(var ge=ue.rows,ke=ge.length,Qe=0;Qe<ke;Qe++){var ft=ge.item(Qe),pt=ft.value;if(pt&&(pt=ee.serializer.deserialize(pt)),pt=k(pt,ft.key,Qe+1),pt!==void 0){K(pt);return}}K()},function(le,ue){H(ue)})})}).catch(H)});return h(G,F),G}function Lr(k,F,R,G){var K=this;k=g(k);var H=new d(function(ee,se){K.ready().then(function(){F===void 0&&(F=null);var le=F,ue=K._dbInfo;ue.serializer.serialize(F,function(ge,ke){ke?se(ke):ue.db.transaction(function(Qe){er(Qe,ue,"INSERT OR REPLACE INTO "+ue.storeName+" (key, value) VALUES (?, ?)",[k,ge],function(){ee(le)},function(ft,pt){se(pt)})},function(Qe){if(Qe.code===Qe.QUOTA_ERR){if(G>0){ee(Lr.apply(K,[k,le,R,G-1]));return}se(Qe)}})})}).catch(se)});return h(H,R),H}function $i(k,F,R){return Lr.apply(this,[k,F,R,1])}function Ll(k,F){var R=this;k=g(k);var G=new d(function(K,H){R.ready().then(function(){var ee=R._dbInfo;ee.db.transaction(function(se){er(se,ee,"DELETE FROM "+ee.storeName+" WHERE key = ?",[k],function(){K()},function(le,ue){H(ue)})})}).catch(H)});return h(G,F),G}function Nl(k){var F=this,R=new d(function(G,K){F.ready().then(function(){var H=F._dbInfo;H.db.transaction(function(ee){er(ee,H,"DELETE FROM "+H.storeName,[],function(){G()},function(se,le){K(le)})})}).catch(K)});return h(R,k),R}function $l(k){var F=this,R=new d(function(G,K){F.ready().then(function(){var H=F._dbInfo;H.db.transaction(function(ee){er(ee,H,"SELECT COUNT(key) as c FROM "+H.storeName,[],function(se,le){var ue=le.rows.item(0).c;G(ue)},function(se,le){K(le)})})}).catch(K)});return h(R,k),R}function _a(k,F){var R=this,G=new d(function(K,H){R.ready().then(function(){var ee=R._dbInfo;ee.db.transaction(function(se){er(se,ee,"SELECT key FROM "+ee.storeName+" WHERE id = ? LIMIT 1",[k+1],function(le,ue){var ge=ue.rows.length?ue.rows.item(0).key:null;K(ge)},function(le,ue){H(ue)})})}).catch(H)});return h(G,F),G}function Mu(k){var F=this,R=new d(function(G,K){F.ready().then(function(){var H=F._dbInfo;H.db.transaction(function(ee){er(ee,H,"SELECT key FROM "+H.storeName,[],function(se,le){for(var ue=[],ge=0;ge<le.rows.length;ge++)ue.push(le.rows.item(ge).key);G(ue)},function(se,le){K(le)})})}).catch(K)});return h(R,k),R}function wv(k){return new d(function(F,R){k.transaction(function(G){G.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(K,H){for(var ee=[],se=0;se<H.rows.length;se++)ee.push(H.rows.item(se).name);F({db:k,storeNames:ee})},function(K,H){R(H)})},function(G){R(G)})})}function ba(k,F){F=m.apply(this,arguments);var R=this.config();k=typeof k!="function"&&k||{},k.name||(k.name=k.name||R.name,k.storeName=k.storeName||R.storeName);var G=this,K;return k.name?K=new d(function(H){var ee;k.name===R.name?ee=G._dbInfo.db:ee=openDatabase(k.name,"","",0),k.storeName?H({db:ee,storeNames:[k.storeName]}):H(wv(ee))}).then(function(H){return new d(function(ee,se){H.db.transaction(function(le){function ue(ft){return new d(function(pt,An){le.executeSql("DROP TABLE IF EXISTS "+ft,[],function(){pt()},function(ln,ai){An(ai)})})}for(var ge=[],ke=0,Qe=H.storeNames.length;ke<Qe;ke++)ge.push(ue(H.storeNames[ke]));d.all(ge).then(function(){ee()}).catch(function(ft){se(ft)})},function(le){se(le)})})}):K=d.reject("Invalid arguments"),h(K,F),K}var ju={_driver:"webSQLStorage",_initStorage:Li,_support:Ie(),iterate:Ni,getItem:Io,setItem:$i,removeItem:Ll,clear:Nl,length:$l,key:_a,keys:Mu,dropInstance:ba};function Nr(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Po(k,F){var R=k.name+"/";return k.storeName!==F.storeName&&(R+=k.storeName+"/"),R}function Ev(){var k="_localforage_support_test";try{return localStorage.setItem(k,!0),localStorage.removeItem(k),!1}catch{return!0}}function xa(){return!Ev()||localStorage.length>0}function Ou(k){var F=this,R={};if(k)for(var G in k)R[G]=k[G];return R.keyPrefix=Po(k,F._defaultConfig),xa()?(F._dbInfo=R,R.serializer=ht,d.resolve()):d.reject()}function kh(k){var F=this,R=F.ready().then(function(){for(var G=F._dbInfo.keyPrefix,K=localStorage.length-1;K>=0;K--){var H=localStorage.key(K);H.indexOf(G)===0&&localStorage.removeItem(H)}});return h(R,k),R}function Ch(k,F){var R=this;k=g(k);var G=R.ready().then(function(){var K=R._dbInfo,H=localStorage.getItem(K.keyPrefix+k);return H&&(H=K.serializer.deserialize(H)),H});return h(G,F),G}function Th(k,F){var R=this,G=R.ready().then(function(){for(var K=R._dbInfo,H=K.keyPrefix,ee=H.length,se=localStorage.length,le=1,ue=0;ue<se;ue++){var ge=localStorage.key(ue);if(ge.indexOf(H)===0){var ke=localStorage.getItem(ge);if(ke&&(ke=K.serializer.deserialize(ke)),ke=k(ke,ge.substring(ee),le++),ke!==void 0)return ke}}});return h(G,F),G}function Ih(k,F){var R=this,G=R.ready().then(function(){var K=R._dbInfo,H;try{H=localStorage.key(k)}catch{H=null}return H&&(H=H.substring(K.keyPrefix.length)),H});return h(G,F),G}function kv(k){var F=this,R=F.ready().then(function(){for(var G=F._dbInfo,K=localStorage.length,H=[],ee=0;ee<K;ee++){var se=localStorage.key(ee);se.indexOf(G.keyPrefix)===0&&H.push(se.substring(G.keyPrefix.length))}return H});return h(R,k),R}function Cv(k){var F=this,R=F.keys().then(function(G){return G.length});return h(R,k),R}function Tv(k,F){var R=this;k=g(k);var G=R.ready().then(function(){var K=R._dbInfo;localStorage.removeItem(K.keyPrefix+k)});return h(G,F),G}function Iv(k,F,R){var G=this;k=g(k);var K=G.ready().then(function(){F===void 0&&(F=null);var H=F;return new d(function(ee,se){var le=G._dbInfo;le.serializer.serialize(F,function(ue,ge){if(ge)se(ge);else try{localStorage.setItem(le.keyPrefix+k,ue),ee(H)}catch(ke){(ke.name==="QuotaExceededError"||ke.name==="NS_ERROR_DOM_QUOTA_REACHED")&&se(ke),se(ke)}})})});return h(K,R),K}function Ke(k,F){if(F=m.apply(this,arguments),k=typeof k!="function"&&k||{},!k.name){var R=this.config();k.name=k.name||R.name,k.storeName=k.storeName||R.storeName}var G=this,K;return k.name?K=new d(function(H){k.storeName?H(Po(k,G._defaultConfig)):H(k.name+"/")}).then(function(H){for(var ee=localStorage.length-1;ee>=0;ee--){var se=localStorage.key(ee);se.indexOf(H)===0&&localStorage.removeItem(se)}}):K=d.reject("Invalid arguments"),h(K,F),K}var dr={_driver:"localStorageWrapper",_initStorage:Ou,_support:Nr(),iterate:Th,getItem:Ch,setItem:Iv,removeItem:Tv,clear:kh,length:Cv,key:Ih,keys:kv,dropInstance:Ke},U$=function(F,R){return F===R||typeof F=="number"&&typeof R=="number"&&isNaN(F)&&isNaN(R)},H$=function(F,R){for(var G=F.length,K=0;K<G;){if(U$(F[K],R))return!0;K++}return!1},SE=Array.isArray||function(k){return Object.prototype.toString.call(k)==="[object Array]"},Vu={},wE={},Dl={INDEXEDDB:Le,WEBSQL:ju,LOCALSTORAGE:dr},q$=[Dl.INDEXEDDB._driver,Dl.WEBSQL._driver,Dl.LOCALSTORAGE._driver],Ph=["dropInstance"],Pv=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Ph),G$={description:"",driver:q$.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function W$(k,F){k[F]=function(){var R=arguments;return k.ready().then(function(){return k[F].apply(k,R)})}}function Rv(){for(var k=1;k<arguments.length;k++){var F=arguments[k];if(F)for(var R in F)F.hasOwnProperty(R)&&(SE(F[R])?arguments[0][R]=F[R].slice():arguments[0][R]=F[R])}return arguments[0]}var Y$=function(){function k(F){o(this,k);for(var R in Dl)if(Dl.hasOwnProperty(R)){var G=Dl[R],K=G._driver;this[R]=K,Vu[K]||this.defineDriver(G)}this._defaultConfig=Rv({},G$),this._config=Rv({},this._defaultConfig,F),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return k.prototype.config=function(R){if((typeof R>"u"?"undefined":s(R))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var G in R){if(G==="storeName"&&(R[G]=R[G].replace(/\W/g,"_")),G==="version"&&typeof R[G]!="number")return new Error("Database version must be a number.");this._config[G]=R[G]}return"driver"in R&&R.driver?this.setDriver(this._config.driver):!0}else return typeof R=="string"?this._config[R]:this._config},k.prototype.defineDriver=function(R,G,K){var H=new d(function(ee,se){try{var le=R._driver,ue=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!R._driver){se(ue);return}for(var ge=Pv.concat("_initStorage"),ke=0,Qe=ge.length;ke<Qe;ke++){var ft=ge[ke],pt=!H$(Ph,ft);if((pt||R[ft])&&typeof R[ft]!="function"){se(ue);return}}var An=function(){for(var Lu=function(J$){return function(){var X$=new Error("Method "+J$+" is not implemented by the current driver"),EE=d.reject(X$);return h(EE,arguments[arguments.length-1]),EE}},Mv=0,Q$=Ph.length;Mv<Q$;Mv++){var jv=Ph[Mv];R[jv]||(R[jv]=Lu(jv))}};An();var ln=function(Lu){Vu[le]&&console.info("Redefining LocalForage driver: "+le),Vu[le]=R,wE[le]=Lu,ee()};"_support"in R?R._support&&typeof R._support=="function"?R._support().then(ln,se):ln(!!R._support):ln(!0)}catch(ai){se(ai)}});return p(H,G,K),H},k.prototype.driver=function(){return this._driver||null},k.prototype.getDriver=function(R,G,K){var H=Vu[R]?d.resolve(Vu[R]):d.reject(new Error("Driver not found."));return p(H,G,K),H},k.prototype.getSerializer=function(R){var G=d.resolve(ht);return p(G,R),G},k.prototype.ready=function(R){var G=this,K=G._driverSet.then(function(){return G._ready===null&&(G._ready=G._initDriver()),G._ready});return p(K,R,R),K},k.prototype.setDriver=function(R,G,K){var H=this;SE(R)||(R=[R]);var ee=this._getSupportedDrivers(R);function se(){H._config.driver=H.driver()}function le(ke){return H._extend(ke),se(),H._ready=H._initStorage(H._config),H._ready}function ue(ke){return function(){var Qe=0;function ft(){for(;Qe<ke.length;){var pt=ke[Qe];return Qe++,H._dbInfo=null,H._ready=null,H.getDriver(pt).then(le).catch(ft)}se();var An=new Error("No available storage method found.");return H._driverSet=d.reject(An),H._driverSet}return ft()}}var ge=this._driverSet!==null?this._driverSet.catch(function(){return d.resolve()}):d.resolve();return this._driverSet=ge.then(function(){var ke=ee[0];return H._dbInfo=null,H._ready=null,H.getDriver(ke).then(function(Qe){H._driver=Qe._driver,se(),H._wrapLibraryMethodsWithReady(),H._initDriver=ue(ee)})}).catch(function(){se();var ke=new Error("No available storage method found.");return H._driverSet=d.reject(ke),H._driverSet}),p(this._driverSet,G,K),this._driverSet},k.prototype.supports=function(R){return!!wE[R]},k.prototype._extend=function(R){Rv(this,R)},k.prototype._getSupportedDrivers=function(R){for(var G=[],K=0,H=R.length;K<H;K++){var ee=R[K];this.supports(ee)&&G.push(ee)}return G},k.prototype._wrapLibraryMethodsWithReady=function(){for(var R=0,G=Pv.length;R<G;R++)W$(this,Pv[R])},k.prototype.createInstance=function(R){return new k(R)},k}(),K$=new Y$;r.exports=K$},{3:3}]},{},[4])(4)})})(K5);var yH=K5.exports;const ll=lr(yH);function AH(e){const t={...e};g5(t,"react"),mH(t)}const _H="ui.react.render",bH="ui.react.update",xH="ui.react.mount",Uk="/home/runner/work/sentry-javascript/sentry-javascript/packages/react/src/profiler.tsx",SH="unknown";class Q5 extends _.Component{static __initStatic(){this.defaultProps={disabled:!1,includeRender:!0,includeUpdates:!0}}constructor(t){super(t);const{name:n,disabled:r=!1}=this.props;r||(this._mountSpan=Pd({name:`<${n}>`,onlyIfParent:!0,op:xH,origin:"auto.ui.react.profiler",attributes:{"ui.component_name":n}}))}componentDidMount(){this._mountSpan&&this._mountSpan.end()}shouldComponentUpdate({updateProps:t,includeUpdates:n=!0}){if(n&&this._mountSpan&&t!==this.props.updateProps){const r=Object.keys(t).filter(i=>t[i]!==this.props.updateProps[i]);if(r.length>0){const i=sl();this._updateSpan=mk(this._mountSpan,()=>Pd({name:`<${this.props.name}>`,onlyIfParent:!0,op:bH,origin:"auto.ui.react.profiler",startTimestamp:i,attributes:{"ui.component_name":this.props.name,"ui.react.changed_props":r}}))}}return!0}componentDidUpdate(){this._updateSpan&&(this._updateSpan.end(),this._updateSpan=void 0)}componentWillUnmount(){const t=sl(),{name:n,includeRender:r=!0}=this.props;if(this._mountSpan&&r){const i=Tn(this._mountSpan).timestamp;mk(this._mountSpan,()=>{const s=Pd({onlyIfParent:!0,name:`<${n}>`,op:_H,origin:"auto.ui.react.profiler",startTimestamp:i,attributes:{"ui.component_name":n}});s&&s.end(t)})}}render(){return this.props.children}}Q5.__initStatic();function wH(e,t){const n=t&&t.name||e.displayName||e.name||SH,r=i=>_.createElement(Q5,{...t,name:n,updateProps:i,__self:this,__source:{fileName:Uk,lineNumber:159}},_.createElement(e,{...i,__self:this,__source:{fileName:Uk,lineNumber:160}}));return r.displayName=`profiler(${n})`,cB(r,e),r}const EH=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function kH(e){const t=e.match(/^([^.]+)/);return t!==null&&parseInt(t[0])>=17}const Hk={componentStack:null,error:null,eventId:null};function CH(e,t){const n=new WeakMap;function r(i,s){if(!n.has(i)){if(i.cause)return n.set(i,!0),r(i.cause,s);i.cause=s}}r(e,t)}class fx extends _.Component{constructor(t){super(t),fx.prototype.__init.call(this),this.state=Hk,this._openFallbackReportDialog=!0;const n=In();n&&n.on&&t.showDialog&&(this._openFallbackReportDialog=!1,n.on("afterSendEvent",r=>{!r.type&&r.event_id===this._lastEventId&&zk({...t.dialogOptions,eventId:this._lastEventId})}))}componentDidCatch(t,{componentStack:n}){const{beforeCapture:r,onError:i,showDialog:s,dialogOptions:o}=this.props;rx(a=>{if(kH(_.version)&&qb(t)){const c=new Error(t.message);c.name=`React ErrorBoundary ${t.name}`,c.stack=n,CH(t,c)}r&&r(a,t,n);const l=Ns(t,{captureContext:{contexts:{react:{componentStack:n}}},mechanism:{handled:!!this.props.fallback}});i&&i(t,n,l),s&&(this._lastEventId=l,this._openFallbackReportDialog&&zk({...o,eventId:l})),this.setState({error:t,componentStack:n,eventId:l})})}componentDidMount(){const{onMount:t}=this.props;t&&t()}componentWillUnmount(){const{error:t,componentStack:n,eventId:r}=this.state,{onUnmount:i}=this.props;i&&i(t,n,r)}__init(){this.resetErrorBoundary=()=>{const{onReset:t}=this.props,{error:n,componentStack:r,eventId:i}=this.state;t&&t(n,r,i),this.setState(Hk)}}render(){const{fallback:t,children:n}=this.props,r=this.state;if(r.error){let i;return typeof t=="function"?i=t({error:r.error,componentStack:r.componentStack,resetError:this.resetErrorBoundary,eventId:r.eventId}):i=t,_.isValidElement(i)?i:(t&&EH&&re.warn("fallback did not produce a valid ReactElement"),null)}return typeof n=="function"?n():n}}const TH="modulepreload",IH=function(e){return"/"+e},qk={},h0=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){const s=document.getElementsByTagName("link"),o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.all(n.map(l=>{if(l=IH(l),l in qk)return;qk[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(!!r)for(let p=s.length-1;p>=0;p--){const g=s[p];if(g.href===l&&(!c||g.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${l}"]${u}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":TH,c||(h.as="script",h.crossOrigin=""),h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),c)return new Promise((p,g)=>{h.addEventListener("load",p),h.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}return i.then(()=>t()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};class J5{constructor(){this.init=async(t,n)=>{const r=await h0(()=>import("./aubio-BXVQmmIs.js"),[]),{Pitch:i}=await r.default();this.detector=new i("default",n,n/8,t.sampleRate),this.detector.setTolerance(.5)},this.getFrequency=async t=>this.detector.do(t)}getSampleSize(){return 2048}}class PH extends bo{constructor(){super(...arguments),this.status="uninitialised",this.getUserMedia=async(...t)=>this.requestAndTrack(()=>navigator.mediaDevices.getUserMedia(...t)),this.enumerateDevices=async(...t)=>this.requestAndTrack(()=>navigator.mediaDevices.enumerateDevices(...t)),this.requestAndTrack=async t=>{try{this.status!=="accepted"&&this.setStatus("requested");const n=await t();return this.setStatus("accepted"),n}catch(n){throw this.setStatus("declined"),n}},this.setStatus=t=>{this.status=t,this.onUpdate(t)},this.getStatus=()=>this.status}}const Zo=new PH;let X5=class{constructor(){this.stream=null,this.context=null,this.interval=null,this.frequencies=[0,0],this.volumes=[0,0],this.startedMonitoring=!1,this.startMonitoring=async(t,n=!1)=>{if(!this.startedMonitoring){this.startedMonitoring=!0;try{this.stream=await Zo.getUserMedia({audio:{...t?{deviceId:t,exact:!0}:{},echoCancellation:n},video:!1});try{this.context=new AudioContext;const r=this.context.createMediaStreamSource(this.stream),i=this.context.createChannelSplitter(2);r.connect(i);const s=this.context.createAnalyser();s.fftSize=2048,s.minDecibels=-100;const o=this.context.createAnalyser();o.fftSize=2048,o.minDecibels=-100,i.connect(s,0),i.connect(o,1);const a=new J5;await a.init(this.context,s.fftSize),this.interval=setInterval(async()=>{const l=new Float32Array(s.fftSize),c=new Float32Array(o.fftSize);s.getFloatTimeDomainData(l),o.getFloatTimeDomainData(c),this.frequencies=await Promise.all([a.getFrequency(l),a.getFrequency(c)]),this.volumes=[this.calculateVolume(l),this.calculateVolume(c)]},this.context.sampleRate/s.fftSize),te.micMonitoringStarted.dispatch()}catch(r){Ns(r),console.error(r)}}catch(r){Ns(r,{level:"warning"}),console.warn(r)}}},this.getFrequencies=()=>this.frequencies,this.getVolumes=()=>this.volumes,this.clearFrequencies=t=>{},this.stopMonitoring=async()=>{var t,n;if(this.startedMonitoring){this.startedMonitoring=!1,this.interval&&clearInterval(this.interval),(t=this.stream)==null||t.getTracks().forEach(function(r){r.stop()});try{await((n=this.context)==null?void 0:n.close())}catch(r){console.log("MicInput.stoMonitoring error",r)}te.micMonitoringStopped.dispatch()}},this.getInputLag=()=>180,this.requestReadiness=()=>Promise.resolve(!0),this.getStatus=()=>"ok"}calculateVolume(t){let n,r=0;for(n=0;n<t.length;++n)r+=t[n]*t[n];return Math.sqrt(r/t.length)}};new X5;class RH{constructor(){this.devices={},this.startMonitoring=async(t,n=!1)=>{t&&(this.devices[t]||(this.devices[t]=new X5),await this.devices[t].startMonitoring(t,n))},this.getFrequencies=t=>t&&this.devices[t]?this.devices[t].getFrequencies():[0,0],this.getVolumes=t=>t&&this.devices[t]?this.devices[t].getVolumes():[0,0],this.clearFrequencies=t=>{if(t&&this.devices[t])return this.devices[t].clearFrequencies(t)},this.stopMonitoring=async()=>{Object.values(this.devices).forEach(t=>t.stopMonitoring())},this.getInputLag=t=>t&&this.devices[t]?this.devices[t].getInputLag():180,this.requestReadiness=async t=>t&&this.devices[t]?this.devices[t].requestReadiness():!0,this.getStatus=t=>t&&this.devices[t]?this.devices[t].getStatus():"ok"}}const MH=new RH;class jH{constructor(){this.frequencies=[0],this.volumes=[1],this.startMonitoring=async t=>{var n;return(n=Je.getRemoteMicById(t??""))==null?void 0:n.getInput().startMonitoring()},this.getFrequencies=t=>{var r;return((r=Je.getRemoteMicById(t??""))==null?void 0:r.getInput().getFrequencies())??this.frequencies},this.clearFrequencies=t=>{var n;(n=Je.getRemoteMicById(t??""))==null||n.getInput().clearFrequencies()},this.getVolumes=t=>{var r;return((r=Je.getRemoteMicById(t??""))==null?void 0:r.getInput().getVolumes())??this.volumes},this.stopMonitoring=async t=>{var n;return(n=Je.getRemoteMicById(t??""))==null?void 0:n.getInput().stopMonitoring()},this.requestReadiness=t=>{var n;return((n=Je.getRemoteMicById(t??""))==null?void 0:n.getInput().requestReadiness())??Promise.resolve(!0)},this.getInputLag=t=>{var n;return((n=Je.getRemoteMicById(t??""))==null?void 0:n.getInput().getInputLag())??0},this.getStatus=t=>{const n=Je.getRemoteMicById(t??"");return!n||n.getLatency()>1500?"unavailable":n.getLatency()>500?"unstable":"ok"}}}const OH=new jH;function as(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Z5=typeof global=="object"&&global&&global.Object===Object&&global,VH=typeof self=="object"&&self&&self.Object===Object&&self,us=Z5||VH||Function("return this")(),ny=function(){return us.Date.now()},LH=/\s/;function NH(e){for(var t=e.length;t--&&LH.test(e.charAt(t)););return t}var $H=/^\s+/;function DH(e){return e&&e.slice(0,NH(e)+1).replace($H,"")}var ki=us.Symbol,e3=Object.prototype,BH=e3.hasOwnProperty,FH=e3.toString,Hu=ki?ki.toStringTag:void 0;function zH(e){var t=BH.call(e,Hu),n=e[Hu];try{e[Hu]=void 0;var r=!0}catch{}var i=FH.call(e);return r&&(t?e[Hu]=n:delete e[Hu]),i}var UH=Object.prototype,HH=UH.toString;function qH(e){return HH.call(e)}var GH="[object Null]",WH="[object Undefined]",Gk=ki?ki.toStringTag:void 0;function kl(e){return e==null?e===void 0?WH:GH:Gk&&Gk in Object(e)?zH(e):qH(e)}function lo(e){return e!=null&&typeof e=="object"}var YH="[object Symbol]";function p0(e){return typeof e=="symbol"||lo(e)&&kl(e)==YH}var Wk=NaN,KH=/^[-+]0x[0-9a-f]+$/i,QH=/^0b[01]+$/i,JH=/^0o[0-7]+$/i,XH=parseInt;function m1(e){if(typeof e=="number")return e;if(p0(e))return Wk;if(as(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=as(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=DH(e);var n=QH.test(e);return n||JH.test(e)?XH(e.slice(2),n?2:8):KH.test(e)?Wk:+e}var ZH="Expected a function",eq=Math.max,tq=Math.min;function t3(e,t,n){var r,i,s,o,a,l,c=0,u=!1,d=!1,h=!0;if(typeof e!="function")throw new TypeError(ZH);t=m1(t)||0,as(n)&&(u=!!n.leading,d="maxWait"in n,s=d?eq(m1(n.maxWait)||0,t):s,h="trailing"in n?!!n.trailing:h);function p(w){var E=r,T=i;return r=i=void 0,c=w,o=e.apply(T,E),o}function g(w){return c=w,a=setTimeout(v,t),u?p(w):o}function m(w){var E=w-l,T=w-c,L=t-E;return d?tq(L,s-T):L}function A(w){var E=w-l,T=w-c;return l===void 0||E>=t||E<0||d&&T>=s}function v(){var w=ny();if(A(w))return y(w);a=setTimeout(v,m(w))}function y(w){return a=void 0,h&&r?p(w):(r=i=void 0,o)}function b(){a!==void 0&&clearTimeout(a),c=0,r=l=i=a=void 0}function S(){return a===void 0?o:y(ny())}function x(){var w=ny(),E=A(w);if(r=arguments,i=this,l=w,E){if(a===void 0)return g(l);if(d)return clearTimeout(a),a=setTimeout(v,t),p(l)}return a===void 0&&(a=setTimeout(v,t)),o}return x.cancel=b,x.flush=S,x}const mr={DUEL:"DUEL",PASS_THE_MIC:"PASS_THE_MIC",CO_OP:"CO_OP"},jd=["freestyle","rap"],n3=[],r3=440,i3=69,hx=20;var nq="[object AsyncFunction]",rq="[object Function]",iq="[object GeneratorFunction]",sq="[object Proxy]";function s3(e){if(!as(e))return!1;var t=kl(e);return t==rq||t==iq||t==nq||t==sq}var ry=us["__core-js_shared__"],Yk=function(){var e=/[^.]+$/.exec(ry&&ry.keys&&ry.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function oq(e){return!!Yk&&Yk in e}var aq=Function.prototype,lq=aq.toString;function Cl(e){if(e!=null){try{return lq.call(e)}catch{}try{return e+""}catch{}}return""}var cq=/[\\^$.*+?()[\]{}|]/g,uq=/^\[object .+?Constructor\]$/,dq=Function.prototype,fq=Object.prototype,hq=dq.toString,pq=fq.hasOwnProperty,gq=RegExp("^"+hq.call(pq).replace(cq,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function mq(e){if(!as(e)||oq(e))return!1;var t=s3(e)?gq:uq;return t.test(Cl(e))}function vq(e,t){return e==null?void 0:e[t]}function Tl(e,t){var n=vq(e,t);return mq(n)?n:void 0}var uf=Tl(Object,"create");function yq(){this.__data__=uf?uf(null):{},this.size=0}function Aq(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var _q="__lodash_hash_undefined__",bq=Object.prototype,xq=bq.hasOwnProperty;function Sq(e){var t=this.__data__;if(uf){var n=t[e];return n===_q?void 0:n}return xq.call(t,e)?t[e]:void 0}var wq=Object.prototype,Eq=wq.hasOwnProperty;function kq(e){var t=this.__data__;return uf?t[e]!==void 0:Eq.call(t,e)}var Cq="__lodash_hash_undefined__";function Tq(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=uf&&t===void 0?Cq:t,this}function cl(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}cl.prototype.clear=yq;cl.prototype.delete=Aq;cl.prototype.get=Sq;cl.prototype.has=kq;cl.prototype.set=Tq;function Iq(){this.__data__=[],this.size=0}function g0(e,t){return e===t||e!==e&&t!==t}function m0(e,t){for(var n=e.length;n--;)if(g0(e[n][0],t))return n;return-1}var Pq=Array.prototype,Rq=Pq.splice;function Mq(e){var t=this.__data__,n=m0(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():Rq.call(t,n,1),--this.size,!0}function jq(e){var t=this.__data__,n=m0(t,e);return n<0?void 0:t[n][1]}function Oq(e){return m0(this.__data__,e)>-1}function Vq(e,t){var n=this.__data__,r=m0(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function xo(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}xo.prototype.clear=Iq;xo.prototype.delete=Mq;xo.prototype.get=jq;xo.prototype.has=Oq;xo.prototype.set=Vq;var df=Tl(us,"Map");function Lq(){this.size=0,this.__data__={hash:new cl,map:new(df||xo),string:new cl}}function Nq(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function v0(e,t){var n=e.__data__;return Nq(t)?n[typeof t=="string"?"string":"hash"]:n.map}function $q(e){var t=v0(this,e).delete(e);return this.size-=t?1:0,t}function Dq(e){return v0(this,e).get(e)}function Bq(e){return v0(this,e).has(e)}function Fq(e,t){var n=v0(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function So(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}So.prototype.clear=Lq;So.prototype.delete=$q;So.prototype.get=Dq;So.prototype.has=Bq;So.prototype.set=Fq;var zq="Expected a function";function y0(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(zq);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=e.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(y0.Cache||So),n}y0.Cache=So;function Ng(e){return jd.includes(e.note.type)?0:e.distance}function St(e){return(e==null?void 0:e.type)==="notes"&&!!e.notes.length}const Uq=35e5,ka={freestyle:.25,rap:.25,rapstar:.5,star:2,normal:1,perfect:.5,vibrato:.25},Kk=e=>({freestyle:e.freestyle*ka.freestyle,rap:e.rap*ka.rap,rapstar:e.rapstar*ka.rapstar,star:e.star*ka.star,normal:e.normal*ka.normal,perfect:e.perfect*ka.perfect,vibrato:e.vibrato*ka.vibrato}),px=e=>e.freestyle+e.rap+e.star+e.normal+e.perfect+e.vibrato,Qh=(e,t)=>({freestyle:e.freestyle*t,rap:e.rap*t,rapstar:e.rapstar*t,star:e.star*t,normal:e.normal*t,perfect:e.perfect*t,vibrato:e.vibrato*t}),Qk=(e,t)=>({freestyle:e.freestyle+t.freestyle,rap:e.rap+t.rap,rapstar:e.rapstar+t.rapstar,star:e.star+t.star,normal:e.normal+t.normal,perfect:e.perfect+t.perfect,vibrato:e.vibrato+t.vibrato}),Jk=(e,t)=>({freestyle:e.freestyle/t,rap:e.rap/t,rapstar:e.rapstar/t,star:e.star/t,normal:e.normal/t,perfect:e.perfect/t,vibrato:e.vibrato/t}),Xk=y0(e=>e.tracks.map(({sections:t})=>{const n={freestyle:0,rap:0,rapstar:0,star:0,normal:0,perfect:0,vibrato:0};return t.filter(St).forEach(r=>{r.notes.filter(s=>!n3.includes(s.type)).forEach(s=>{n[s.type]=n[s.type]+s.length,n.perfect=n.perfect+s.length,n.vibrato=n.vibrato+s.length})}),n}));function o3(e,t,n){const r=Xk(t),i={freestyle:0,rap:0,rapstar:0,star:0,normal:0,perfect:0,vibrato:0};if(!r[n])return console.error(`No beat count for track ${n} in song`,t),[0,i,i];const s=Kk(Xk(t)[n]),o=Uq/px(s);for(let a=0;a<e.length;a++){const l=e[a];n3.includes(l.note.type)||Ng(l)===0&&(i[l.note.type]=i[l.note.type]+l.length,l.isPerfect&&(i.perfect=i.perfect+l.length),l.vibrato&&(i.vibrato=i.vibrato+l.length))}return[o,Kk(i),s]}function Hq(e,t,n){const[r,i]=o3(e,t,n);return px(i)*r}function qq(e,t,n,r=!0){const i=(e-n)/t;return r?Math.floor(i):i}function Gq(e){return r3*Math.pow(2,(e-i3)/12)}const Wq=e=>Math.round(12*(Math.log(e/r3)/Math.log(2)))+i3,Yq=(e,t)=>Math.floor(1200*Math.log(t/e)/Math.log(2)),Kq=(e,t,n)=>{const r=Gq(e),i=Yq(r,t);return Math.sign(i)*((Math.abs(i)%1200+600)%1200-600)/(n*100+50)},Qq=(e,t,n)=>{const r=(e%12-t%12+18)%12-6;return Math.abs(r)<=n?0:r},Jq=(e,t)=>{const n=je.getTolerance(),r=Wq(e);let i=-1;const s=Qq(r,t,n);return s===0&&(i=Kq(t,e,n)),{distance:s,preciseDistance:i}},Zk=6;function Xq(e){const t=[];for(let r=1;r<e.length;r++){if(Math.round(e[r].frequency/2)===Math.round(e[r-1].frequency/2))continue;const i=e[r].frequency>e[r-1].frequency?">":"<";if(t.length===0)t.push({...e[r],interval:e[r].timestamp-e[r-1].timestamp,change:i});else{const s=t.at(-1);s.change!==i&&t.push({...e[r],interval:e[r].timestamp-s.timestamp,change:i})}}const n=t;for(let r=0;r<n.length-Zk;r++){const s=n.slice(r,r+Zk-1).map(c=>c.interval),o=Math.max(...s),a=Math.min(...s),l=s.reduce((c,u)=>c+u,0)/s.length;if(o<l*1.75&&a>l/1.75)return!0}return!1}const Zq=100;function eG(e,t,n,r){if(t.frequency===0)return;const i={...t,beat:Math.max(0,t.timestamp)/r,...Jq(t.frequency,n.pitch)},s=e.at(-1),o=Zq/r,a=n.start+n.length,l=!s||s.note.start!==n.start,c=!s||s.distance!==i.distance&&!jd.includes(n.type);if(l||c||i.beat-(s.start+s.length)>o){const u=i.beat-o<n.start?n.start:i.beat;if(e.push({start:Math.min(l?u:i.beat,a),length:0,distance:i.distance,note:n,isPerfect:!1,vibrato:!1,frequencyRecords:[{frequency:i.frequency,preciseDistance:i.preciseDistance,timestamp:i.timestamp}]}),s&&n.start!==s.note.start){const d=s.start+s.length,h=s.note.start+s.note.length,p=d+o>h?h:d;s.length=Math.max(0,p-s.start)}}else s.length=Math.max(0,Math.min(i.beat,n.start+n.length)-s.start),s.frequencyRecords.push({frequency:i.frequency,timestamp:i.timestamp,preciseDistance:i.preciseDistance}),s.isPerfect=s.distance===0&&Math.abs(s.length-s.note.length)<.5,s.vibrato=s.distance===0&&Xq(s.frequencyRecords)}const tG=e=>e.notes[0],la=e=>{const t=e.find(St);return t?tG(t).start:1/0},ff=e=>{const n=e.filter(St).at(-1);return n?hf(n):0},hf=e=>{const t=e.notes.at(-1);return t.start+t.length},eC=(e,t,n=0)=>e.notes.find(r=>r.start-n<=t&&r.start+r.length+n>=t);class nG{constructor(t,n){this.number=t,this.gameState=n,this.frequencyRecords=[],this.playerNotes=[],this.realFrequencyRecords=[],this.realPlayerNotes=[],this.min=1/0,this.max=-1/0,this.storedSectionIndex=0,this.getNumber=()=>this.number,this.update=()=>{const r=this.gameState.getCurrentTime(),i=sn.getPlayerFrequency(this.number),s=r-sn.getPlayerInputLag(this.number);if(Array.isArray(i)){const o=this.realFrequencyRecords.at(-1)||this.frequencyRecords.at(0),a=(o==null?void 0:o.timestamp)??0,l=(s-a)/i.length;this.frequencyRecords=this.realFrequencyRecords,this.playerNotes=this.realPlayerNotes;for(let u=0;u<i.length;u++){const d=a+l*(u+1);this.updatePlayerNotes(d,i[u])}this.realFrequencyRecords=[...this.frequencyRecords],this.realPlayerNotes=[...this.playerNotes];const c=this.realPlayerNotes.at(-1);c&&(this.realPlayerNotes[this.realPlayerNotes.length-1]={...c,frequencyRecords:[...c.frequencyRecords??[]]}),sn.clearPlayerCachedFrequencies(this.number)}else this.updatePlayerNotes(s,i);this.dispatchSectionUpdate()},this.dispatchSectionUpdate=()=>{const r=this.getCurrentSectionIndex();this.storedSectionIndex!==r&&(te.sectionChange.dispatch(this.number,this.storedSectionIndex),this.storedSectionIndex=r)},this.updatePlayerNotes=(r,i)=>{const s={timestamp:r,frequency:i};this.frequencyRecords.push(s);const o=s.timestamp/this.gameState.getSongBeatLength(),a=this.getSectionByBeat(o);if(St(a)){const l=eC(a,o,0)??eC(a,o,.5);l&&eG(this.playerNotes,s,l,this.gameState.getSongBeatLength())}},this.getPlayerNotes=()=>this.playerNotes,this.getPlayerFrequencies=()=>this.frequencyRecords,this.getSectionIndexByBeat=r=>this.getTrack().sections.findIndex((i,s,o)=>r<0?!0:r<i.start?!1:s===o.length-1?!0:o[s+1].start>r),this.getCurrentSectionIndex=()=>this.getSectionIndexByBeat(this.gameState.getCurrentBeat()),this.getSectionByBeat=r=>this.getTrack().sections[this.getSectionIndexByBeat(r)]??null,this.getCurrentSection=()=>{const r=this.getCurrentSectionIndex();return this.getTrack().sections[r]??null},this.getNextSection=(r=1)=>{const i=this.getCurrentSectionIndex();return i>-1?this.getTrack().sections[i+r]??null:null},this.getPreviousSection=(r=1)=>{const i=this.getCurrentSectionIndex();return i>-1?this.getTrack().sections[i-r]??null:null},this.getLastNotesSection=()=>{const r=this.getTrack().sections.at(-1);return St(r)?r:this.getTrack().sections.at(-2)},this.getScore=()=>Hq(this.playerNotes,this.gameState.getSong(),this.getTrackIndex()),this.getDetailedScore=()=>o3(this.playerNotes,this.gameState.getSong(),this.getTrackIndex()),this.getMinPitch=()=>this.min,this.getMaxPitch=()=>this.max,this.getTrackIndex=()=>this.gameState.getSingSetup().players.find(r=>r.number===this.number).track,this.getTrack=()=>{var r;return this.gameState.isMergedTrack()?(r=this.gameState.getSong())==null?void 0:r.mergedTrack:this.gameState.getSong().tracks[this.getTrackIndex()]},this.resetNotes=()=>{this.playerNotes=[]},this.getTrack().sections.filter(St).forEach(r=>r.notes.forEach(i=>{this.min=Math.min(this.min,i.pitch),this.max=Math.max(this.max,i.pitch)}))}}function rG(e){return Math.max(...e.tracks.map(t=>{const n=t.sections.filter(St).at(-1);return n?hf(n):0}))}function gx(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError("Expected a function");const n=function(...r){const i=t?t.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);const o=e.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(gx.Cache||Map),n}gx.Cache=Map;const Su=gx(function(t){return 60/t.bpm/(t.bar??4)*1e3});class iG{constructor(){this.song=null,this.currentTime=0,this.duration=0,this.singSetup=null,this.playerStates=[],this.playing=!1,this.setCurrentTime=t=>this.currentTime=t,this.getCurrentTime=(t=!0)=>this.currentTime-(t&&this.song?this.song.gap:0),this.getSongBeatLength=()=>Su(this.song),this.getCurrentBeat=()=>qq(this.getCurrentTime(),this.getSongBeatLength(),0,!1),this.setSong=t=>this.song=t,this.getSong=()=>this.song,this.getSingSetup=()=>this.singSetup,this.setSingSetup=t=>{this.singSetup=t,this.playerStates=t.players.map(({number:n},r)=>new nG(n,this)),this.currentTime=0,this.playing=!0},this.resetSingSetup=()=>{this.playing=!1},this.isPlaying=()=>this.playing,this.getTolerance=()=>{var t;return((t=this.getSingSetup())==null?void 0:t.tolerance)??2},this.setDuration=t=>this.duration=t,this.getDuration=()=>this.duration,this.getPlayer=t=>this.playerStates.find(n=>n.getNumber()===t),this.getPlayers=()=>this.playerStates,this.getPlayerCount=()=>this.playerStates.length,this.getPlayerScore=t=>{var n,r;return((n=this.getSingSetup())==null?void 0:n.mode)===mr.CO_OP?this.getPlayers().reduce((s,o)=>s+o.getScore(),0)/this.getPlayerCount():((r=this.getPlayer(t))==null?void 0:r.getScore())??-1},this.getPlayerDetailedScore=t=>{var n;if(((n=this.getSingSetup())==null?void 0:n.mode)===mr.CO_OP){const r=this.getPlayers().map(a=>a.getDetailedScore()),[i,...s]=r.map(([a,l,c])=>[Qh(l,a),Qh(c,a)]),o=s.reduce((a,l)=>[Qk(a[0],l[0]),Qk(a[1],l[1])],i);return[Jk(o[0],this.getPlayerCount()),Jk(o[1],this.getPlayerCount())]}else{const[r,i,s]=this.getPlayer(t).getDetailedScore();return[Qh(i,r),Qh(s,r)]}},this.getSongCompletionProgress=()=>Math.max(0,Math.min(1,this.getCurrentBeat()/rG(this.getSong()))),this.startInputMonitoring=async()=>sn.startMonitoring(),this.stopInputMonitoring=()=>sn.stopMonitoring(),this.update=()=>{this.playerStates.forEach(t=>t.update())},this.resetPlayerNotes=()=>{this.playerStates.forEach(t=>t.resetNotes())},this.isMergedTrack=()=>{var t;return((t=this.getSingSetup())==null?void 0:t.players.length)!==2}}}const je=new iG;var kR;const sG=(kR=global==null?void 0:global.sessionStorage)==null?void 0:kR.getItem("isE2E");function ls(){var t,n;if(sG)return!0;const e=(global==null?void 0:global.isE2ETests)||((t=global==null?void 0:global.location)==null?void 0:t.search.includes("e2e-test"));return e&&((n=global==null?void 0:global.sessionStorage)==null||n.setItem("isE2E","true")),e}const oG=ls()?{host:"localhost",port:3001,path:"/"}:{},a3={...oG};var aG=Object.create,A0=Object.defineProperty,lG=Object.defineProperties,cG=Object.getOwnPropertyDescriptor,uG=Object.getOwnPropertyDescriptors,l3=Object.getOwnPropertyNames,tC=Object.getOwnPropertySymbols,dG=Object.getPrototypeOf,c3=Object.prototype.hasOwnProperty,fG=Object.prototype.propertyIsEnumerable,nC=(e,t,n)=>t in e?A0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,mx=(e,t)=>{for(var n in t||(t={}))c3.call(t,n)&&nC(e,n,t[n]);if(tC)for(var n of tC(t))fG.call(t,n)&&nC(e,n,t[n]);return e},u3=(e,t)=>lG(e,uG(t)),hG=e=>A0(e,"__esModule",{value:!0}),vx=(e,t)=>function(){return t||(0,e[l3(e)[0]])((t={exports:{}}).exports,t),t.exports},pG=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of l3(t))!c3.call(e,i)&&(n||i!=="default")&&A0(e,i,{get:()=>t[i],enumerable:!(r=cG(t,i))||r.enumerable});return e},sh=(e,t)=>pG(hG(A0(e!=null?aG(dG(e)):{},"default",!t&&e&&e.__esModule?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e),oc=(e,t,n)=>new Promise((r,i)=>{var s=l=>{try{a(n.next(l))}catch(c){i(c)}},o=l=>{try{a(n.throw(l))}catch(c){i(c)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(s,o);a((n=n.apply(e,t)).next())}),rC=vx({"node_modules/peerjs-js-binarypack/lib/bufferbuilder.js"(e,t){var n={};n.useBlobBuilder=function(){try{return new Blob([]),!1}catch{return!0}}(),n.useArrayBufferView=!n.useBlobBuilder&&function(){try{return new Blob([new Uint8Array([])]).size===0}catch{return!0}}(),t.exports.binaryFeatures=n;var r=t.exports.BlobBuilder;typeof window<"u"&&(r=t.exports.BlobBuilder=window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder||window.BlobBuilder);function i(){this._pieces=[],this._parts=[]}i.prototype.append=function(s){typeof s=="number"?this._pieces.push(s):(this.flush(),this._parts.push(s))},i.prototype.flush=function(){if(this._pieces.length>0){var s=new Uint8Array(this._pieces);n.useArrayBufferView||(s=s.buffer),this._parts.push(s),this._pieces=[]}},i.prototype.getBuffer=function(){if(this.flush(),n.useBlobBuilder){for(var s=new r,o=0,a=this._parts.length;o<a;o++)s.append(this._parts[o]);return s.getBlob()}else return new Blob(this._parts)},t.exports.BufferBuilder=i}}),gG=vx({"node_modules/peerjs-js-binarypack/lib/binarypack.js"(e,t){var n=rC().BufferBuilder,r=rC().binaryFeatures,i={unpack:function(c){var u=new s(c);return u.unpack()},pack:function(c){var u=new o;u.pack(c);var d=u.getBuffer();return d}};t.exports=i;function s(c){this.index=0,this.dataBuffer=c,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}s.prototype.unpack=function(){var c=this.unpack_uint8();if(c<128)return c;if((c^224)<32)return(c^224)-32;var u;if((u=c^160)<=15)return this.unpack_raw(u);if((u=c^176)<=15)return this.unpack_string(u);if((u=c^144)<=15)return this.unpack_array(u);if((u=c^128)<=15)return this.unpack_map(u);switch(c){case 192:return null;case 193:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 212:return;case 213:return;case 214:return;case 215:return;case 216:return u=this.unpack_uint16(),this.unpack_string(u);case 217:return u=this.unpack_uint32(),this.unpack_string(u);case 218:return u=this.unpack_uint16(),this.unpack_raw(u);case 219:return u=this.unpack_uint32(),this.unpack_raw(u);case 220:return u=this.unpack_uint16(),this.unpack_array(u);case 221:return u=this.unpack_uint32(),this.unpack_array(u);case 222:return u=this.unpack_uint16(),this.unpack_map(u);case 223:return u=this.unpack_uint32(),this.unpack_map(u)}},s.prototype.unpack_uint8=function(){var c=this.dataView[this.index]&255;return this.index++,c},s.prototype.unpack_uint16=function(){var c=this.read(2),u=(c[0]&255)*256+(c[1]&255);return this.index+=2,u},s.prototype.unpack_uint32=function(){var c=this.read(4),u=((c[0]*256+c[1])*256+c[2])*256+c[3];return this.index+=4,u},s.prototype.unpack_uint64=function(){var c=this.read(8),u=((((((c[0]*256+c[1])*256+c[2])*256+c[3])*256+c[4])*256+c[5])*256+c[6])*256+c[7];return this.index+=8,u},s.prototype.unpack_int8=function(){var c=this.unpack_uint8();return c<128?c:c-256},s.prototype.unpack_int16=function(){var c=this.unpack_uint16();return c<32768?c:c-65536},s.prototype.unpack_int32=function(){var c=this.unpack_uint32();return c<Math.pow(2,31)?c:c-Math.pow(2,32)},s.prototype.unpack_int64=function(){var c=this.unpack_uint64();return c<Math.pow(2,63)?c:c-Math.pow(2,64)},s.prototype.unpack_raw=function(c){if(this.length<this.index+c)throw new Error("BinaryPackFailure: index is out of range "+this.index+" "+c+" "+this.length);var u=this.dataBuffer.slice(this.index,this.index+c);return this.index+=c,u},s.prototype.unpack_string=function(c){for(var u=this.read(c),d=0,h="",p,g;d<c;)p=u[d],p<128?(h+=String.fromCharCode(p),d++):(p^192)<32?(g=(p^192)<<6|u[d+1]&63,h+=String.fromCharCode(g),d+=2):(g=(p&15)<<12|(u[d+1]&63)<<6|u[d+2]&63,h+=String.fromCharCode(g),d+=3);return this.index+=c,h},s.prototype.unpack_array=function(c){for(var u=new Array(c),d=0;d<c;d++)u[d]=this.unpack();return u},s.prototype.unpack_map=function(c){for(var u={},d=0;d<c;d++){var h=this.unpack(),p=this.unpack();u[h]=p}return u},s.prototype.unpack_float=function(){var c=this.unpack_uint32(),u=c>>31,d=(c>>23&255)-127,h=c&8388607|8388608;return(u===0?1:-1)*h*Math.pow(2,d-23)},s.prototype.unpack_double=function(){var c=this.unpack_uint32(),u=this.unpack_uint32(),d=c>>31,h=(c>>20&2047)-1023,p=c&1048575|1048576,g=p*Math.pow(2,h-20)+u*Math.pow(2,h-52);return(d===0?1:-1)*g},s.prototype.read=function(c){var u=this.index;if(u+c<=this.length)return this.dataView.subarray(u,u+c);throw new Error("BinaryPackFailure: read index out of range")};function o(){this.bufferBuilder=new n}o.prototype.getBuffer=function(){return this.bufferBuilder.getBuffer()},o.prototype.pack=function(c){var u=typeof c;if(u==="string")this.pack_string(c);else if(u==="number")Math.floor(c)===c?this.pack_integer(c):this.pack_double(c);else if(u==="boolean")c===!0?this.bufferBuilder.append(195):c===!1&&this.bufferBuilder.append(194);else if(u==="undefined")this.bufferBuilder.append(192);else if(u==="object")if(c===null)this.bufferBuilder.append(192);else{var d=c.constructor;if(d==Array)this.pack_array(c);else if(d==Blob||d==File||c instanceof Blob||c instanceof File)this.pack_bin(c);else if(d==ArrayBuffer)r.useArrayBufferView?this.pack_bin(new Uint8Array(c)):this.pack_bin(c);else if("BYTES_PER_ELEMENT"in c)r.useArrayBufferView?this.pack_bin(new Uint8Array(c.buffer)):this.pack_bin(c.buffer);else if(d==Object||d.toString().startsWith("class"))this.pack_object(c);else if(d==Date)this.pack_string(c.toString());else if(typeof c.toBinaryPack=="function")this.bufferBuilder.append(c.toBinaryPack());else throw new Error('Type "'+d.toString()+'" not yet supported')}else throw new Error('Type "'+u+'" not yet supported');this.bufferBuilder.flush()},o.prototype.pack_bin=function(c){var u=c.length||c.byteLength||c.size;if(u<=15)this.pack_uint8(160+u);else if(u<=65535)this.bufferBuilder.append(218),this.pack_uint16(u);else if(u<=4294967295)this.bufferBuilder.append(219),this.pack_uint32(u);else throw new Error("Invalid length");this.bufferBuilder.append(c)},o.prototype.pack_string=function(c){var u=l(c);if(u<=15)this.pack_uint8(176+u);else if(u<=65535)this.bufferBuilder.append(216),this.pack_uint16(u);else if(u<=4294967295)this.bufferBuilder.append(217),this.pack_uint32(u);else throw new Error("Invalid length");this.bufferBuilder.append(c)},o.prototype.pack_array=function(c){var u=c.length;if(u<=15)this.pack_uint8(144+u);else if(u<=65535)this.bufferBuilder.append(220),this.pack_uint16(u);else if(u<=4294967295)this.bufferBuilder.append(221),this.pack_uint32(u);else throw new Error("Invalid length");for(var d=0;d<u;d++)this.pack(c[d])},o.prototype.pack_integer=function(c){if(c>=-32&&c<=127)this.bufferBuilder.append(c&255);else if(c>=0&&c<=255)this.bufferBuilder.append(204),this.pack_uint8(c);else if(c>=-128&&c<=127)this.bufferBuilder.append(208),this.pack_int8(c);else if(c>=0&&c<=65535)this.bufferBuilder.append(205),this.pack_uint16(c);else if(c>=-32768&&c<=32767)this.bufferBuilder.append(209),this.pack_int16(c);else if(c>=0&&c<=4294967295)this.bufferBuilder.append(206),this.pack_uint32(c);else if(c>=-2147483648&&c<=2147483647)this.bufferBuilder.append(210),this.pack_int32(c);else if(c>=-9223372036854776e3&&c<=9223372036854776e3)this.bufferBuilder.append(211),this.pack_int64(c);else if(c>=0&&c<=18446744073709552e3)this.bufferBuilder.append(207),this.pack_uint64(c);else throw new Error("Invalid integer")},o.prototype.pack_double=function(c){var u=0;c<0&&(u=1,c=-c);var d=Math.floor(Math.log(c)/Math.LN2),h=c/Math.pow(2,d)-1,p=Math.floor(h*Math.pow(2,52)),g=Math.pow(2,32),m=u<<31|d+1023<<20|p/g&1048575,A=p%g;this.bufferBuilder.append(203),this.pack_int32(m),this.pack_int32(A)},o.prototype.pack_object=function(c){var u=Object.keys(c),d=u.length;if(d<=15)this.pack_uint8(128+d);else if(d<=65535)this.bufferBuilder.append(222),this.pack_uint16(d);else if(d<=4294967295)this.bufferBuilder.append(223),this.pack_uint32(d);else throw new Error("Invalid length");for(var h in c)c.hasOwnProperty(h)&&(this.pack(h),this.pack(c[h]))},o.prototype.pack_uint8=function(c){this.bufferBuilder.append(c)},o.prototype.pack_uint16=function(c){this.bufferBuilder.append(c>>8),this.bufferBuilder.append(c&255)},o.prototype.pack_uint32=function(c){var u=c&4294967295;this.bufferBuilder.append((u&4278190080)>>>24),this.bufferBuilder.append((u&16711680)>>>16),this.bufferBuilder.append((u&65280)>>>8),this.bufferBuilder.append(u&255)},o.prototype.pack_uint64=function(c){var u=c/Math.pow(2,32),d=c%Math.pow(2,32);this.bufferBuilder.append((u&4278190080)>>>24),this.bufferBuilder.append((u&16711680)>>>16),this.bufferBuilder.append((u&65280)>>>8),this.bufferBuilder.append(u&255),this.bufferBuilder.append((d&4278190080)>>>24),this.bufferBuilder.append((d&16711680)>>>16),this.bufferBuilder.append((d&65280)>>>8),this.bufferBuilder.append(d&255)},o.prototype.pack_int8=function(c){this.bufferBuilder.append(c&255)},o.prototype.pack_int16=function(c){this.bufferBuilder.append((c&65280)>>8),this.bufferBuilder.append(c&255)},o.prototype.pack_int32=function(c){this.bufferBuilder.append(c>>>24&255),this.bufferBuilder.append((c&16711680)>>>16),this.bufferBuilder.append((c&65280)>>>8),this.bufferBuilder.append(c&255)},o.prototype.pack_int64=function(c){var u=Math.floor(c/Math.pow(2,32)),d=c%Math.pow(2,32);this.bufferBuilder.append((u&4278190080)>>>24),this.bufferBuilder.append((u&16711680)>>>16),this.bufferBuilder.append((u&65280)>>>8),this.bufferBuilder.append(u&255),this.bufferBuilder.append((d&4278190080)>>>24),this.bufferBuilder.append((d&16711680)>>>16),this.bufferBuilder.append((d&65280)>>>8),this.bufferBuilder.append(d&255)};function a(c){var u=c.charCodeAt(0);return u<=2047?"00":u<=65535?"000":u<=2097151?"0000":u<=67108863?"00000":"000000"}function l(c){return c.length>600?new Blob([c]).size:c.replace(/[^\u0000-\u007F]/g,a).length}}}),_0=vx({"node_modules/eventemitter3/index.js"(e,t){var n=Object.prototype.hasOwnProperty,r="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(r=!1));function s(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function o(c,u,d,h,p){if(typeof d!="function")throw new TypeError("The listener must be a function");var g=new s(d,h||c,p),m=r?r+u:u;return c._events[m]?c._events[m].fn?c._events[m]=[c._events[m],g]:c._events[m].push(g):(c._events[m]=g,c._eventsCount++),c}function a(c,u){--c._eventsCount===0?c._events=new i:delete c._events[u]}function l(){this._events=new i,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,h;if(this._eventsCount===0)return u;for(h in d=this._events)n.call(d,h)&&u.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,h=this._events[d];if(!h)return[];if(h.fn)return[h.fn];for(var p=0,g=h.length,m=new Array(g);p<g;p++)m[p]=h[p].fn;return m},l.prototype.listenerCount=function(u){var d=r?r+u:u,h=this._events[d];return h?h.fn?1:h.length:0},l.prototype.emit=function(u,d,h,p,g,m){var A=r?r+u:u;if(!this._events[A])return!1;var v=this._events[A],y=arguments.length,b,S;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),y){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,h),!0;case 4:return v.fn.call(v.context,d,h,p),!0;case 5:return v.fn.call(v.context,d,h,p,g),!0;case 6:return v.fn.call(v.context,d,h,p,g,m),!0}for(S=1,b=new Array(y-1);S<y;S++)b[S-1]=arguments[S];v.fn.apply(v.context,b)}else{var x=v.length,w;for(S=0;S<x;S++)switch(v[S].once&&this.removeListener(u,v[S].fn,void 0,!0),y){case 1:v[S].fn.call(v[S].context);break;case 2:v[S].fn.call(v[S].context,d);break;case 3:v[S].fn.call(v[S].context,d,h);break;case 4:v[S].fn.call(v[S].context,d,h,p);break;default:if(!b)for(w=1,b=new Array(y-1);w<y;w++)b[w-1]=arguments[w];v[S].fn.apply(v[S].context,b)}}return!0},l.prototype.on=function(u,d,h){return o(this,u,d,h,!1)},l.prototype.once=function(u,d,h){return o(this,u,d,h,!0)},l.prototype.removeListener=function(u,d,h,p){var g=r?r+u:u;if(!this._events[g])return this;if(!d)return a(this,g),this;var m=this._events[g];if(m.fn)m.fn===d&&(!p||m.once)&&(!h||m.context===h)&&a(this,g);else{for(var A=0,v=[],y=m.length;A<y;A++)(m[A].fn!==d||p&&!m[A].once||h&&m[A].context!==h)&&v.push(m[A]);v.length?this._events[g]=v.length===1?v[0]:v:a(this,g)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&a(this,d)):(this._events=new i,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,typeof t<"u"&&(t.exports=l)}}),iC=sh(gG()),mG={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"turn:0.peerjs.com:3478",username:"peerjs",credential:"peerjsp"}],sdpSemantics:"unified-plan"},Yt=new class{constructor(){this.CLOUD_HOST="0.peerjs.com",this.CLOUD_PORT=443,this.chunkedMTU=16300,this.defaultConfig=mG,this.pack=iC.pack,this.unpack=iC.unpack,this._dataCount=1}validateId(e){return!e||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(e)}chunk(e){const t=[],n=e.size,r=Math.ceil(n/Yt.chunkedMTU);let i=0,s=0;for(;s<n;){const o=Math.min(n,s+Yt.chunkedMTU),a=e.slice(s,o),l={__peerData:this._dataCount,n:i,data:a,total:r};t.push(l),s=o,i++}return this._dataCount++,t}blobToArrayBuffer(e,t,n){const r=new e;return r.onload=function(i){i.target&&n(i.target.result)},r.readAsArrayBuffer(t),r}binaryStringToArrayBuffer(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n)&255;return t.buffer}randomToken(){return Math.random().toString(36).substr(2)}isSecure(){return location.protocol==="https:"}},vG=sh(_0()),yG="PeerJS: ",AG=class{constructor(){this._logLevel=0}get logLevel(){return this._logLevel}set logLevel(e){this._logLevel=e}log(...e){this._logLevel>=3&&this._print(3,...e)}warn(...e){this._logLevel>=2&&this._print(2,...e)}error(...e){this._logLevel>=1&&this._print(1,...e)}setLogFunction(e){this._print=e}_print(e,...t){const n=[yG,...t];for(let r in n)n[r]instanceof Error&&(n[r]="("+n[r].name+") "+n[r].message);e>=3?console.log(...n):e>=2?console.warn("WARNING",...n):e>=1&&console.error("ERROR",...n)}},xe=new AG,_G=sh(_0()),bG=class extends _G.EventEmitter{constructor({secure:e,host:t,port:n,path:r,key:i,pingInterval:s=5e3,polyfills:o}){super(),this._disconnected=!0,this._id=null,this._messagesQueue=[],this.alive=!1,this._destroyed=!1;var a;this.pingInterval=s;const l=e?"wss://":"ws://";this._baseUrl=l+t+":"+n+r+"peerjs?key="+i,this.WebSocketConstructor=(a=o==null?void 0:o.WebSocket)!=null?a:window.WebSocket}get messagesQueue(){return this._messagesQueue}get destroyed(){return this._destroyed}start(e,t){if(this._destroyed)throw new Error("Socket was destroyed!");if(this._id=e,this._socket||!this._disconnected)return;const n=`${this._baseUrl}&id=${e}&token=${t}`;this._socket=new this.WebSocketConstructor(n),this._disconnected=!1,this._socket.onmessage=r=>{if(this._destroyed)return;let i;try{i=JSON.parse(r.data),xe.log("Server message received:",i)}catch{xe.log("Invalid server message",r.data);return}this.emit("message",i)},this._socket.onclose=r=>{this._disconnected||this._destroyed||(xe.log("Socket closed.",r),this._cleanup(),this._disconnected=!0,this.emit("disconnected"))},this._socket.onopen=()=>{this._disconnected||this._destroyed||(xe.log("Socket open"),this.emit("open"),this._sendQueuedMessages(),this._scheduleHeartbeat())}}_scheduleHeartbeat(){this._wsPingTimer=setTimeout(()=>{this._sendHeartbeat()},this.pingInterval)}_sendHeartbeat(){if(this._destroyed)return;if(!this._wsOpen()){xe.log("Cannot send heartbeat, because socket closed");return}const e=JSON.stringify({type:"HEARTBEAT"});this._socket.send(e),this._scheduleHeartbeat()}_wsOpen(){return!!this._socket&&this._socket.readyState===1}_sendQueuedMessages(){const e=[...this._messagesQueue];this._messagesQueue=[];for(const t of e)this.send(t);e.length>0&&xe.log(`${e.length} queued messages was sent`)}send(e){if(this._destroyed)throw new Error("Socket was destroyed!");if(!e.type){this.emit("error","Invalid message");return}if(!this.alive)return;if(this._id==null||!this._wsOpen()){this._messagesQueue.push(e);return}const t=JSON.stringify(e);this._socket.send(t)}close(){this._disconnected||(this._cleanup(),this._id=null,this._disconnected=!0)}_cleanup(){this._socket&&(this._socket.onopen=this._socket.onmessage=this._socket.onclose=null,this._socket.close(),this._socket=void 0),clearTimeout(this._wsPingTimer)}destroy(){this._destroyed||(this.close(),this._messagesQueue.length=0,this._destroyed=!0)}};function xG(){}var d3=class{constructor(e){this.connection=e}get webRtc(){var e,t;return(t=(e=this.connection.provider.options.polyfills)==null?void 0:e.WebRTC)!=null?t:window}startConnection(e){const t=this._startPeerConnection();if(this.connection.peerConnection=t,this.connection.type==="media"&&e._stream&&this._addTracksToConnection(e._stream,t),e.originator){if(this.connection.type==="data"){const n=this.connection,r={ordered:!!e.reliable},i=t.createDataChannel(n.label,r);n.initialize(i)}this._makeOffer()}else this.handleSDP("OFFER",e.sdp)}_startPeerConnection(){xe.log("Creating RTCPeerConnection.");const e=this.webRtc.RTCPeerConnection,t=new e(this.connection.provider.options.config);return this._setupListeners(t),t}_setupListeners(e){const t=this.connection.peer,n=this.connection.connectionId,r=this.connection.type,i=this.connection.provider;xe.log("Listening for ICE candidates, remote streams and data channels."),e.onicecandidate=s=>{!s.candidate||!s.candidate.candidate||(xe.log(`Received ICE candidates for ${t}:`,s.candidate),i.socket.send({type:"CANDIDATE",payload:{candidate:s.candidate,type:r,connectionId:n},dst:t}))},e.oniceconnectionstatechange=()=>{switch(e.iceConnectionState){case"failed":xe.log("iceConnectionState is failed, closing connections to "+t),this.connection.emit("error",new Error("Negotiation of connection to "+t+" failed.")),this.connection.close();break;case"closed":xe.log("iceConnectionState is closed, closing connections to "+t),this.connection.emit("error",new Error("Connection to "+t+" closed.")),this.connection.close();break;case"connected":xe.log("iceConnectionState changed to connected on the connection with "+t);break;case"disconnected":xe.log("iceConnectionState changed to disconnected on the connection with "+t);break;case"completed":xe.log("iceConnectionState changed to completed on the connection with "+t),e.onicecandidate=xG;break}this.connection.emit("iceStateChanged",e.iceConnectionState)},e.ondatachannel=s=>{xe.log("Received data channel");const o=s.channel;i.getConnection(t,n).initialize(o)},e.ontrack=s=>{xe.log("Received remote stream");const o=s.streams[0],a=i.getConnection(t,n);if(a.type==="media"){const l=a;this._addStreamToMediaConnection(o,l)}}}cleanup(){xe.log("Cleaning up PeerConnection to "+this.connection.peer);const e=this.connection.peerConnection;if(!e)return;this.connection.peerConnection=null,e.onicecandidate=e.oniceconnectionstatechange=e.ondatachannel=e.ontrack=null;const t=e.signalingState!=="closed";let n=!1;if(this.connection.type==="data"){const i=this.connection.dataChannel;i&&(n=!!i.readyState&&i.readyState!=="closed")}(t||n)&&e.close()}_makeOffer(){return oc(this,null,function*(){const e=this.connection.peerConnection,t=this.connection.provider;try{const n=yield e.createOffer(this.connection.options.constraints);if(e.signalingState==="closed")return;xe.log("Created offer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(n.sdp=this.connection.options.sdpTransform(n.sdp)||n.sdp);try{yield e.setLocalDescription(n),xe.log("Set localDescription:",n,`for:${this.connection.peer}`);let r={sdp:n,type:this.connection.type,connectionId:this.connection.connectionId,metadata:this.connection.metadata};if(this.connection.type==="data"){const i=this.connection;r=u3(mx({},r),{label:i.label,reliable:i.reliable,serialization:i.serialization})}t.socket.send({type:"OFFER",payload:r,dst:this.connection.peer})}catch(r){r!="OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"&&(t.emitError("webrtc",r),xe.log("Failed to setLocalDescription, ",r))}}catch(n){t.emitError("webrtc",n),xe.log("Failed to createOffer, ",n)}})}_makeAnswer(){return oc(this,null,function*(){const e=this.connection.peerConnection,t=this.connection.provider;try{const n=yield e.createAnswer();if(e.signalingState==="closed")return;xe.log("Created answer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(n.sdp=this.connection.options.sdpTransform(n.sdp)||n.sdp);try{yield e.setLocalDescription(n),xe.log("Set localDescription:",n,`for:${this.connection.peer}`),t.socket.send({type:"ANSWER",payload:{sdp:n,type:this.connection.type,connectionId:this.connection.connectionId},dst:this.connection.peer})}catch(r){t.emitError("webrtc",r),xe.log("Failed to setLocalDescription, ",r)}}catch(n){t.emitError("webrtc",n),xe.log("Failed to create answer, ",n)}})}handleSDP(e,t){return oc(this,null,function*(){const n=this.webRtc.RTCSessionDescription;t=new n(t);const r=this.connection.peerConnection,i=this.connection.provider;xe.log("Setting remote description",t);const s=this;try{yield r.setRemoteDescription(t),xe.log(`Set remoteDescription:${e} for:${this.connection.peer}`),e==="OFFER"&&(yield s._makeAnswer())}catch(o){i.emitError("webrtc",o),xe.log("Failed to setRemoteDescription, ",o)}})}handleCandidate(e){return oc(this,null,function*(){xe.log("handleCandidate:",e);const t=e.candidate,n=e.sdpMLineIndex,r=e.sdpMid,i=this.connection.peerConnection,s=this.connection.provider;try{const o=this.webRtc.RTCIceCandidate;yield i.addIceCandidate(new o({sdpMid:r,sdpMLineIndex:n,candidate:t})),xe.log(`Added ICE candidate for:${this.connection.peer}`)}catch(o){s.emitError("webrtc",o),xe.log("Failed to handleCandidate, ",o)}})}_addTracksToConnection(e,t){if(xe.log(`add tracks from stream ${e.id} to peer connection`),!t.addTrack)return xe.error("Your browser does't support RTCPeerConnection#addTrack. Ignored.");e.getTracks().forEach(n=>{t.addTrack(n,e)})}_addStreamToMediaConnection(e,t){xe.log(`add stream ${e.id} to media connection ${t.connectionId}`),t.addStream(e)}},SG=sh(_0()),f3=class extends SG.EventEmitter{constructor(e,t,n){super(),this.peer=e,this.provider=t,this.options=n,this._open=!1,this.metadata=n.metadata}get open(){return this._open}},h3=class extends f3{get type(){return"media"}get localStream(){return this._localStream}get remoteStream(){return this._remoteStream}constructor(e,t,n){super(e,t,n),this._localStream=this.options._stream,this.connectionId=this.options.connectionId||h3.ID_PREFIX+Yt.randomToken(),this._negotiator=new d3(this),this._localStream&&this._negotiator.startConnection({_stream:this._localStream,originator:!0})}addStream(e){xe.log("Receiving stream",e),this._remoteStream=e,super.emit("stream",e)}handleMessage(e){const t=e.type,n=e.payload;switch(e.type){case"ANSWER":this._negotiator.handleSDP(t,n.sdp),this._open=!0;break;case"CANDIDATE":this._negotiator.handleCandidate(n.candidate);break;default:xe.warn(`Unrecognized message type:${t} from peer:${this.peer}`);break}}answer(e,t={}){if(this._localStream){xe.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");return}this._localStream=e,t&&t.sdpTransform&&(this.options.sdpTransform=t.sdpTransform),this._negotiator.startConnection(u3(mx({},this.options._payload),{_stream:e}));const n=this.provider._getMessages(this.connectionId);for(let r of n)this.handleMessage(r);this._open=!0}close(){this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this._localStream=null,this._remoteStream=null,this.provider&&(this.provider._removeConnection(this),this.provider=null),this.options&&this.options._stream&&(this.options._stream=null),this.open&&(this._open=!1,super.emit("close"))}},v1=h3;v1.ID_PREFIX="mc_";var wG=sh(_0()),EG=class extends wG.EventEmitter{constructor(e){super(),this.fileReader=e,this._queue=[],this._processing=!1,this.fileReader.onload=t=>{this._processing=!1,t.target&&this.emit("done",t.target.result),this.doNextTask()},this.fileReader.onerror=t=>{xe.error("EncodingQueue error:",t),this._processing=!1,this.destroy(),this.emit("error",t)}}get queue(){return this._queue}get size(){return this.queue.length}get processing(){return this._processing}enque(e){this.queue.push(e),!this.processing&&this.doNextTask()}destroy(){this.fileReader.abort(),this._queue=[]}doNextTask(){this.size!==0&&(this.processing||(this._processing=!0,this.fileReader.readAsArrayBuffer(this.queue.shift())))}},y1=class extends f3{constructor(e,t,n){super(e,t,n),this.stringify=JSON.stringify,this.parse=JSON.parse,this._buffer=[],this._bufferSize=0,this._buffering=!1,this._chunkedData={};var r,i;this.connectionId=this.options.connectionId||y1.ID_PREFIX+Yt.randomToken(),this.label=this.options.label||this.connectionId,this.serialization=this.options.serialization||"binary",this.reliable=!!this.options.reliable,this.FileReaderCtr=(i=(r=t.options.polyfills)==null?void 0:r.FileReader)!=null?i:window.FileReader,this._encodingQueue=new EG(new this.FileReaderCtr),this._encodingQueue.on("done",s=>{this._bufferedSend(s)}),this._encodingQueue.on("error",()=>{xe.error(`DC#${this.connectionId}: Error occured in encoding from blob to arraybuffer, close DC`),this.close()}),this._negotiator=new d3(this),this._negotiator.startConnection(this.options._payload||{originator:!0})}get type(){return"data"}get dataChannel(){return this._dc}get bufferSize(){return this._bufferSize}initialize(e){this._dc=e,this._configureDataChannel()}_configureDataChannel(){(!this.provider.features.binaryBlob||this.provider.features.reliable)&&(this.dataChannel.binaryType="arraybuffer"),this.dataChannel.onopen=()=>{xe.log(`DC#${this.connectionId} dc connection success`),this._open=!0,this.emit("open")},this.dataChannel.onmessage=e=>{xe.log(`DC#${this.connectionId} dc onmessage:`,e.data),this._handleDataMessage(e)},this.dataChannel.onclose=()=>{xe.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}_handleDataMessage({data:e}){const t=e.constructor,n=this.serialization==="binary"||this.serialization==="binary-utf8";let r=e;if(n){if(t===Blob){Yt.blobToArrayBuffer(this.FileReaderCtr,e,i=>{const s=Yt.unpack(i);this.emit("data",s)});return}else if(t===ArrayBuffer)r=Yt.unpack(e);else if(t===String){const i=Yt.binaryStringToArrayBuffer(e);r=Yt.unpack(i)}}else this.serialization==="json"&&(r=this.parse(e));if(r.__peerData){this._handleChunk(r);return}super.emit("data",r)}_handleChunk(e){const t=e.__peerData,n=this._chunkedData[t]||{data:[],count:0,total:e.total};if(n.data[e.n]=e.data,n.count++,this._chunkedData[t]=n,n.total===n.count){delete this._chunkedData[t];const r=new Blob(n.data);this._handleDataMessage({data:r})}}close(){this._buffer=[],this._bufferSize=0,this._chunkedData={},this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this.provider&&(this.provider._removeConnection(this),this.provider=null),this.dataChannel&&(this.dataChannel.onopen=null,this.dataChannel.onmessage=null,this.dataChannel.onclose=null,this._dc=null),this._encodingQueue&&(this._encodingQueue.destroy(),this._encodingQueue.removeAllListeners(),this._encodingQueue=null),this.open&&(this._open=!1,super.emit("close"))}send(e,t){if(!this.open){super.emit("error",new Error("Connection is not open. You should listen for the `open` event before sending messages."));return}if(this.serialization==="json")this._bufferedSend(this.stringify(e));else if(this.serialization==="binary"||this.serialization==="binary-utf8"){const n=Yt.pack(e);if(!t&&n.size>Yt.chunkedMTU){this._sendChunks(n);return}this.provider.features.binaryBlob?this._bufferedSend(n):this._encodingQueue.enque(n)}else this._bufferedSend(e)}_bufferedSend(e){(this._buffering||!this._trySend(e))&&(this._buffer.push(e),this._bufferSize=this._buffer.length)}_trySend(e){if(!this.open)return!1;if(this.dataChannel.bufferedAmount>y1.MAX_BUFFERED_AMOUNT)return this._buffering=!0,setTimeout(()=>{this._buffering=!1,this._tryBuffer()},50),!1;try{this.dataChannel.send(e)}catch(t){return xe.error(`DC#:${this.connectionId} Error when sending:`,t),this._buffering=!0,this.close(),!1}return!0}_tryBuffer(){if(!this.open||this._buffer.length===0)return;const e=this._buffer[0];this._trySend(e)&&(this._buffer.shift(),this._bufferSize=this._buffer.length,this._tryBuffer())}_sendChunks(e){const t=Yt.chunk(e);xe.log(`DC#${this.connectionId} Try to send ${t.length} chunks...`);for(let n of t)this.send(n,!0)}handleMessage(e){const t=e.payload;switch(e.type){case"ANSWER":this._negotiator.handleSDP(e.type,t.sdp);break;case"CANDIDATE":this._negotiator.handleCandidate(t.candidate);break;default:xe.warn("Unrecognized message type:",e.type,"from peer:",this.peer);break}}},$g=y1;$g.ID_PREFIX="dc_";$g.MAX_BUFFERED_AMOUNT=8*1024*1024;var kG=class{constructor(e){this._options=e}_request(e){var t,n;return((n=(t=this._options.polyfills)==null?void 0:t.fetch)!=null?n:window.fetch)(e)}_buildUrl(e){let n=(this._options.secure?"https://":"http://")+this._options.host+":"+this._options.port+this._options.path+this._options.key+"/"+e;const r="?ts="+new Date().getTime()+Math.random();return n+=r,n}retrieveId(){return oc(this,null,function*(){const e=this._buildUrl("id");try{const t=yield this._request(e);if(t.status!==200)throw new Error(`Error. Status:${t.status}`);return t.text()}catch(t){xe.error("Error retrieving ID",t);let n="";throw this._options.path==="/"&&this._options.host!==Yt.CLOUD_HOST&&(n=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),new Error("Could not get an ID from the server."+n)}})}listAllPeers(){return oc(this,null,function*(){const e=this._buildUrl("peers");try{const t=yield this._request(e);if(t.status!==200){if(t.status===401){let n="";throw this._options.host===Yt.CLOUD_HOST?n="It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":n="You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.",new Error("It doesn't look like you have permission to list peers IDs. "+n)}throw new Error(`Error. Status:${t.status}`)}return t.json()}catch(t){throw xe.error("Error retrieving list peers",t),new Error("Could not get list peers from the server."+t)}})}},CG={isUnifiedPlanSupported(e){if(!e&&typeof window<"u"&&(e=window),typeof e.RTCRtpTransceiver>"u"||!("currentDirection"in e.RTCRtpTransceiver.prototype))return!1;let t,n=!1;try{t=new e.RTCPeerConnection,t.addTransceiver("audio"),n=!0}catch{}finally{t&&t.close()}return n}},Pa=class extends vG.EventEmitter{constructor(e,t){super(),this._id=null,this._lastServerId=null,this._destroyed=!1,this._disconnected=!1,this._open=!1,this._connections=new Map,this._lostMessages=new Map;var n;let r;if(e&&e.constructor==Object?t=e:e&&(r=e.toString()),t=mx({debug:0,host:Yt.CLOUD_HOST,port:Yt.CLOUD_PORT,path:"/",key:Pa.DEFAULT_KEY,token:Yt.randomToken(),config:Yt.defaultConfig},t),this._options=t,typeof window<"u"&&this._options.host==="/"&&(this._options.host=window.location.hostname),this._options.path&&(this._options.path[0]!=="/"&&(this._options.path="/"+this._options.path),this._options.path[this._options.path.length-1]!=="/"&&(this._options.path+="/")),this._options.secure===void 0&&this._options.host!==Yt.CLOUD_HOST?this._options.secure=Yt.isSecure():this._options.host==Yt.CLOUD_HOST&&(this._options.secure=!0),this._options.logFunction&&xe.setLogFunction(this._options.logFunction),xe.logLevel=this._options.debug||0,this._api=new kG(t),this._socket=this._createServerConnection(),this.features=Pa.getFeatures((n=this._options.polyfills)==null?void 0:n.WebRTC),!this.features.audioVideo&&!this.features.data){this._delayedAbort("browser-incompatible","The current browser does not support WebRTC");return}if(r&&!Yt.validateId(r)){this._delayedAbort("invalid-id",`ID "${r}" is invalid`);return}this.socket.alive=!0,r?this._initialize(r):this._api.retrieveId().then(i=>this._initialize(i)).catch(i=>this._abort("server-error",i))}get id(){return this._id}get options(){return this._options}get open(){return this._open}get socket(){return this._socket}get connections(){const e=Object.create(null);for(let[t,n]of this._connections)e[t]=n;return e}get destroyed(){return this._destroyed}get disconnected(){return this._disconnected}_createServerConnection(){const e=new bG(this._options);return e.on("message",t=>{this._handleMessage(t)}),e.on("error",t=>{this._abort("socket-error",t)}),e.on("disconnected",()=>{this.disconnected||(this.emitError("network","Lost connection to server."),this.disconnect())}),e.on("close",()=>{this.disconnected||this._abort("socket-closed","Underlying socket is already closed.")}),e}_initialize(e){this.destroyed||(this._id=e,this.socket.start(e,this._options.token))}_handleMessage(e){const t=e.type,n=e.payload,r=e.src;switch(t){case"OPEN":this._lastServerId=this.id,this._open=!0,this.emit("open",this.id);break;case"ERROR":this._abort("server-error",n.msg);break;case"ID-TAKEN":this._abort("unavailable-id",`ID "${this.id}" is taken`);break;case"INVALID-KEY":this._abort("invalid-key",`API KEY "${this._options.key}" is invalid`);break;case"LEAVE":xe.log(`Received leave message from ${r}`),this._cleanupPeer(r),this._connections.delete(r);break;case"EXPIRE":this.emitError("peer-unavailable",`Could not connect to peer ${r}`);break;case"OFFER":{const i=n.connectionId;let s=this.getConnection(r,i);if(s&&(s.close(),xe.warn(`Offer received for existing Connection ID:${i}`)),n.type==="media")s=new v1(r,this,{connectionId:i,_payload:n,metadata:n.metadata}),this._addConnection(r,s),this.emit("call",s);else if(n.type==="data")s=new $g(r,this,{connectionId:i,_payload:n,metadata:n.metadata,label:n.label,serialization:n.serialization,reliable:n.reliable}),this._addConnection(r,s),this.emit("connection",s);else{xe.warn(`Received malformed connection type:${n.type}`);return}const o=this._getMessages(i);for(let a of o)s.handleMessage(a);break}default:{if(!n){xe.warn(`You received a malformed message from ${r} of type ${t}`);return}const i=n.connectionId,s=this.getConnection(r,i);s&&s.peerConnection?s.handleMessage(e):i?this._storeMessage(i,e):xe.warn("You received an unrecognized message:",e);break}}}_storeMessage(e,t){this._lostMessages.has(e)||this._lostMessages.set(e,[]),this._lostMessages.get(e).push(t)}_getMessages(e){const t=this._lostMessages.get(e);return t?(this._lostMessages.delete(e),t):[]}connect(e,t={}){if(this.disconnected){xe.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),this.emitError("disconnected","Cannot connect to new Peer after disconnecting from server.");return}const n=new $g(e,this,t);return this._addConnection(e,n),n}call(e,t,n={}){if(this.disconnected){xe.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),this.emitError("disconnected","Cannot connect to new Peer after disconnecting from server.");return}if(!t){xe.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.");return}n._stream=t;const r=new v1(e,this,n);return this._addConnection(e,r),r}_addConnection(e,t){xe.log(`add connection ${t.type}:${t.connectionId} to peerId:${e}`),this._connections.has(e)||this._connections.set(e,[]),this._connections.get(e).push(t)}_removeConnection(e){const t=this._connections.get(e.peer);if(t){const n=t.indexOf(e);n!==-1&&(t.splice(n,1),t.length===0&&this._connections.delete(e.peer))}this._lostMessages.delete(e.connectionId)}getConnection(e,t){const n=this._connections.get(e);if(!n)return null;for(let r of n)if(r.connectionId===t)return r;return null}_delayedAbort(e,t){setTimeout(()=>{this._abort(e,t)},0)}_abort(e,t){xe.error("Aborting!"),this.emitError(e,t),this._lastServerId?this.disconnect():this.destroy()}emitError(e,t){xe.error("Error:",t);let n;typeof t=="string"?n=new Error(t):n=t,n.type=e,this.emit("error",n)}destroy(){this.destroyed||(xe.log(`Destroy peer with ID:${this.id}`),this.disconnect(),this._cleanup(),this.socket.destroy(),this._destroyed=!0,this.emit("close"))}_cleanup(){for(let e of this._connections.keys())this._cleanupPeer(e),this._connections.delete(e);this.socket.removeAllListeners()}_cleanupPeer(e){const t=this._connections.get(e);if(t)for(let n of t)n.close()}disconnect(){if(this.disconnected)return;const e=this.id;xe.log(`Disconnect peer with ID:${e}`),this._disconnected=!0,this._open=!1,this.socket.alive=!1,this.socket.close(),this._lastServerId=e,this._id=null,this.emit("disconnected",e)}reconnect(){if(this.disconnected&&!this.destroyed)xe.log(`Attempting reconnection to server with ID ${this._lastServerId}`),this._disconnected=!1,this.socket.alive=!0,this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error("This peer cannot reconnect to the server. It has already been destroyed.");if(!this.disconnected&&!this.open)xe.error("In a hurry? We're still trying to make the initial connection!");else throw new Error(`Peer ${this.id} cannot reconnect because it is not disconnected from the server!`)}}listAllPeers(e=t=>{}){this._api.listAllPeers().then(t=>e(t)).catch(t=>this._abort("server-error",t))}static getFeatures(e){return!e&&typeof window<"u"&&(e=window),Pa._features||(Pa._features=Pa.checkFeatures(e)),Pa._features}static checkFeatures(e){!e&&typeof window<"u"&&(e=window);const t={webRTC:typeof e.RTCPeerConnection<"u",audioVideo:!0,data:!1,binaryBlob:!1,reliable:!1,unifiedPlan:!1};if(!t.webRTC)return t;let n;try{n=new e.RTCPeerConnection(Yt.defaultConfig);let r;try{r=n.createDataChannel("_PEERJSTEST",{ordered:!0}),t.data=!0,t.reliable=!!r.ordered;try{r.binaryType="blob",t.binaryBlob=!0}catch{}}catch{}finally{r&&r.close()}}catch{}finally{n&&n.close()}return t.unifiedPlan=CG.isUnifiedPlanSupported(e),t}},b0=Pa;b0.DEFAULT_KEY="peerjs";typeof window<"u"&&(window.Peer=b0);class TG extends bo{constructor(){super(...arguments),this.name="PeerJS",this.peer=null,this.disconnect=()=>{var t;(t=this.peer)==null||t.disconnect()}}connect(t,n,r){this.peer=new b0(`allkaraoke-party-room-${t}`,a3),this.peer.on("open",function(i){n(),console.log("My peer ID is: "+i)}),this.peer.on("connection",i=>{i.on("data",s=>{this.onUpdate(s,i)}),i.on("error",s=>console.warn("error",s)),i.on("iceStateChanged",s=>{(s==="disconnected"||s==="closed")&&this.onUpdate({t:"unregister"},i)}),i.on("close",()=>{Je.removeRemoteMic(i.peer)})})}}const p3="wss://backend.allkaraoke.party";class IG extends bo{constructor(){super(),this.name="WebSockets",this.connection=null,this.disconnect=()=>{var t;(t=this.connection)==null||t.close()}}connect(t,n,r){this.connection=new WebSocket(p3),this.connection.binaryType="arraybuffer",this.connection.onopen=()=>{var i,s;(i=this.connection)==null||i.send(Ig({t:"register-room",id:t})),n(),(s=this.connection)==null||s.addEventListener("message",o=>{var l;const a=Fb(o.data);if(["ping","pong","freq"].includes((l=a==null?void 0:a.payload)==null?void 0:l.t)||console.log("received",a),a.t==="forward"){const{sender:c,payload:u}=a,d=new PG(c,this.connection);this.onUpdate(u,d)}})}}}class PG{constructor(t,n){this.peer=t,this.socket=n,this.send=r=>{const i={t:"forward",recipients:[this.peer],payload:r};["ping","pong","freq"].includes(r==null?void 0:r.t)||console.log("sending",this.peer,r),this.socket.send(Ig(i))},this.callbacksMap=new Map,this.on=(r,i)=>{r==="data"&&(this.callbacksMap.set(i,s=>{const o=Fb(s.data);if(o.t==="forward"){const{sender:a,payload:l}=o;a===this.peer&&i(l)}}),this.socket.addEventListener("message",this.callbacksMap.get(i)))},this.off=(r,i)=>{if(r==="data"){const s=this.callbacksMap.get(i);this.socket.removeEventListener("message",s),this.callbacksMap.delete(i)}},this.close=()=>{this.socket.close()}}}var g3={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(zo,function(){var n=1e3,r=6e4,i=36e5,s="millisecond",o="second",a="minute",l="hour",c="day",u="week",d="month",h="quarter",p="year",g="date",m="Invalid Date",A=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,v=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,y={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(U){var P=["th","st","nd","rd"],I=U%100;return"["+U+(P[(I-20)%10]||P[I]||P[0])+"]"}},b=function(U,P,I){var z=String(U);return!z||z.length>=P?U:""+Array(P+1-z.length).join(I)+U},S={s:b,z:function(U){var P=-U.utcOffset(),I=Math.abs(P),z=Math.floor(I/60),j=I%60;return(P<=0?"+":"-")+b(z,2,"0")+":"+b(j,2,"0")},m:function U(P,I){if(P.date()<I.date())return-U(I,P);var z=12*(I.year()-P.year())+(I.month()-P.month()),j=P.clone().add(z,d),$=I-j<0,B=P.clone().add(z+($?-1:1),d);return+(-(z+(I-j)/($?j-B:B-j))||0)},a:function(U){return U<0?Math.ceil(U)||0:Math.floor(U)},p:function(U){return{M:d,y:p,w:u,d:c,D:g,h:l,m:a,s:o,ms:s,Q:h}[U]||String(U||"").toLowerCase().replace(/s$/,"")},u:function(U){return U===void 0}},x="en",w={};w[x]=y;var E="$isDayjsObject",T=function(U){return U instanceof Q||!(!U||!U[E])},L=function U(P,I,z){var j;if(!P)return x;if(typeof P=="string"){var $=P.toLowerCase();w[$]&&(j=$),I&&(w[$]=I,j=$);var B=P.split("-");if(!j&&B.length>1)return U(B[0])}else{var D=P.name;w[D]=P,j=D}return!z&&j&&(x=j),j||!z&&x},O=function(U,P){if(T(U))return U.clone();var I=typeof P=="object"?P:{};return I.date=U,I.args=arguments,new Q(I)},N=S;N.l=L,N.i=T,N.w=function(U,P){return O(U,{locale:P.$L,utc:P.$u,x:P.$x,$offset:P.$offset})};var Q=function(){function U(I){this.$L=L(I.locale,null,!0),this.parse(I),this.$x=this.$x||I.x||{},this[E]=!0}var P=U.prototype;return P.parse=function(I){this.$d=function(z){var j=z.date,$=z.utc;if(j===null)return new Date(NaN);if(N.u(j))return new Date;if(j instanceof Date)return new Date(j);if(typeof j=="string"&&!/Z$/i.test(j)){var B=j.match(A);if(B){var D=B[2]-1||0,q=(B[7]||"0").substring(0,3);return $?new Date(Date.UTC(B[1],D,B[3]||1,B[4]||0,B[5]||0,B[6]||0,q)):new Date(B[1],D,B[3]||1,B[4]||0,B[5]||0,B[6]||0,q)}}return new Date(j)}(I),this.init()},P.init=function(){var I=this.$d;this.$y=I.getFullYear(),this.$M=I.getMonth(),this.$D=I.getDate(),this.$W=I.getDay(),this.$H=I.getHours(),this.$m=I.getMinutes(),this.$s=I.getSeconds(),this.$ms=I.getMilliseconds()},P.$utils=function(){return N},P.isValid=function(){return this.$d.toString()!==m},P.isSame=function(I,z){var j=O(I);return this.startOf(z)<=j&&j<=this.endOf(z)},P.isAfter=function(I,z){return O(I)<this.startOf(z)},P.isBefore=function(I,z){return this.endOf(z)<O(I)},P.$g=function(I,z,j){return N.u(I)?this[z]:this.set(j,I)},P.unix=function(){return Math.floor(this.valueOf()/1e3)},P.valueOf=function(){return this.$d.getTime()},P.startOf=function(I,z){var j=this,$=!!N.u(z)||z,B=N.p(I),D=function(Ee,pe){var Ae=N.w(j.$u?Date.UTC(j.$y,pe,Ee):new Date(j.$y,pe,Ee),j);return $?Ae:Ae.endOf(c)},q=function(Ee,pe){return N.w(j.toDate()[Ee].apply(j.toDate("s"),($?[0,0,0,0]:[23,59,59,999]).slice(pe)),j)},ne=this.$W,V=this.$M,ce=this.$D,Z="set"+(this.$u?"UTC":"");switch(B){case p:return $?D(1,0):D(31,11);case d:return $?D(1,V):D(0,V+1);case u:var de=this.$locale().weekStart||0,we=(ne<de?ne+7:ne)-de;return D($?ce-we:ce+(6-we),V);case c:case g:return q(Z+"Hours",0);case l:return q(Z+"Minutes",1);case a:return q(Z+"Seconds",2);case o:return q(Z+"Milliseconds",3);default:return this.clone()}},P.endOf=function(I){return this.startOf(I,!1)},P.$set=function(I,z){var j,$=N.p(I),B="set"+(this.$u?"UTC":""),D=(j={},j[c]=B+"Date",j[g]=B+"Date",j[d]=B+"Month",j[p]=B+"FullYear",j[l]=B+"Hours",j[a]=B+"Minutes",j[o]=B+"Seconds",j[s]=B+"Milliseconds",j)[$],q=$===c?this.$D+(z-this.$W):z;if($===d||$===p){var ne=this.clone().set(g,1);ne.$d[D](q),ne.init(),this.$d=ne.set(g,Math.min(this.$D,ne.daysInMonth())).$d}else D&&this.$d[D](q);return this.init(),this},P.set=function(I,z){return this.clone().$set(I,z)},P.get=function(I){return this[N.p(I)]()},P.add=function(I,z){var j,$=this;I=Number(I);var B=N.p(z),D=function(V){var ce=O($);return N.w(ce.date(ce.date()+Math.round(V*I)),$)};if(B===d)return this.set(d,this.$M+I);if(B===p)return this.set(p,this.$y+I);if(B===c)return D(1);if(B===u)return D(7);var q=(j={},j[a]=r,j[l]=i,j[o]=n,j)[B]||1,ne=this.$d.getTime()+I*q;return N.w(ne,this)},P.subtract=function(I,z){return this.add(-1*I,z)},P.format=function(I){var z=this,j=this.$locale();if(!this.isValid())return j.invalidDate||m;var $=I||"YYYY-MM-DDTHH:mm:ssZ",B=N.z(this),D=this.$H,q=this.$m,ne=this.$M,V=j.weekdays,ce=j.months,Z=j.meridiem,de=function(pe,Ae,qe,Le){return pe&&(pe[Ae]||pe(z,$))||qe[Ae].slice(0,Le)},we=function(pe){return N.s(D%12||12,pe,"0")},Ee=Z||function(pe,Ae,qe){var Le=pe<12?"AM":"PM";return qe?Le.toLowerCase():Le};return $.replace(v,function(pe,Ae){return Ae||function(qe){switch(qe){case"YY":return String(z.$y).slice(-2);case"YYYY":return N.s(z.$y,4,"0");case"M":return ne+1;case"MM":return N.s(ne+1,2,"0");case"MMM":return de(j.monthsShort,ne,ce,3);case"MMMM":return de(ce,ne);case"D":return z.$D;case"DD":return N.s(z.$D,2,"0");case"d":return String(z.$W);case"dd":return de(j.weekdaysMin,z.$W,V,2);case"ddd":return de(j.weekdaysShort,z.$W,V,3);case"dddd":return V[z.$W];case"H":return String(D);case"HH":return N.s(D,2,"0");case"h":return we(1);case"hh":return we(2);case"a":return Ee(D,q,!0);case"A":return Ee(D,q,!1);case"m":return String(q);case"mm":return N.s(q,2,"0");case"s":return String(z.$s);case"ss":return N.s(z.$s,2,"0");case"SSS":return N.s(z.$ms,3,"0");case"Z":return B}return null}(pe)||B.replace(":","")})},P.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},P.diff=function(I,z,j){var $,B=this,D=N.p(z),q=O(I),ne=(q.utcOffset()-this.utcOffset())*r,V=this-q,ce=function(){return N.m(B,q)};switch(D){case p:$=ce()/12;break;case d:$=ce();break;case h:$=ce()/3;break;case u:$=(V-ne)/6048e5;break;case c:$=(V-ne)/864e5;break;case l:$=V/i;break;case a:$=V/r;break;case o:$=V/n;break;default:$=V}return j?$:N.a($)},P.daysInMonth=function(){return this.endOf(d).$D},P.$locale=function(){return w[this.$L]},P.locale=function(I,z){if(!I)return this.$L;var j=this.clone(),$=L(I,z,!0);return $&&(j.$L=$),j},P.clone=function(){return N.w(this.$d,this)},P.toDate=function(){return new Date(this.valueOf())},P.toJSON=function(){return this.isValid()?this.toISOString():null},P.toISOString=function(){return this.$d.toISOString()},P.toString=function(){return this.$d.toUTCString()},U}(),M=Q.prototype;return O.prototype=M,[["$ms",s],["$s",o],["$m",a],["$H",l],["$W",c],["$M",d],["$y",p],["$D",g]].forEach(function(U){M[U[1]]=function(P){return this.$g(P,U[0],U[1])}}),O.extend=function(U,P){return U.$i||(U(P,Q,O),U.$i=!0),O},O.locale=L,O.isDayjs=T,O.unix=function(U){return O(1e3*U)},O.en=w[x],O.Ls=w,O.p={},O})})(g3);var RG=g3.exports;const Xi=lr(RG);function MG(e){return!!e}function jG(e){return[...Array(e).keys()]}const OG=250,iy=(e,t=0,n=1/0)=>e.filter(St).filter(r=>la([r])>=t).filter(r=>ff([r])<=n).reduce((r,i)=>r+i.notes.reduce((s,o)=>s+o.length,0),0),VG=(e,t)=>{const[n,...r]=e.filter(St),i=[[n]];return r.forEach(s=>{const o=i.at(-1),a=ff(o);(la([s])-a)*t>OG?i.push([s]):o.push(s)}),i},m3=(e,t)=>e+t,sC=e=>{const t=e.map(n=>n.reduce(m3,0));return Math.max(...t)-Math.min(...t)},LG=(e,t)=>{const n=JSON.parse(JSON.stringify(e)),r=s=>{if(n[s-1].length<2)return;const o=n[s-1].pop();n[s].push(o)},i=s=>{var l;if(((l=n[s+1])==null?void 0:l.length)<2)return;const[o,...a]=n[s+1];n[s].push(o),n[s+1]=a};return t%2===1?r(Math.ceil(t/2)):i(Math.ceil(t/2)),n},NG=e=>e.reduce(m3,0);function yx(e,t){const r=Su(t);if(e.sections.length<9)return[];const i=VG(e.sections,r);let s=[],o=[iy(i[0])];for(let a=0;a<i.length-2;a++){const l=i[s.flat().length-1]??[],u=iy(e.sections,ff(l)??0)/(10-s.length),d=iy(i[a+1]),h=NG(o);h+d<u?o=[...o,d]:u-h<h+d-u?(s.push(o),o=[d]):(s.push([...o,d]),o=[])}for(let a=0;a<100;a++){const l=sC(s),c=jG((s.length-2)*2+2).map(p=>LG(s,p)),u=c.map(sC),d=Math.min(...u);if(l<=d)break;const h=u.indexOf(d);s=c[h]}return s.map(a=>a.length).reduce((a,l)=>[...a,(a.at(-1)??0)+l],[]).map(a=>ff(i[a-1]))}var v3={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(zo,function(){function n(r){return typeof r=="string"?r.replace(/[^A-Za-z0-9]/g,function(i){return n.characters[i]||i}):r}return n.characters={Á:"A",Ă:"A",Ắ:"A",Ặ:"A",Ằ:"A",Ẳ:"A",Ẵ:"A",Ǎ:"A",Â:"A",Ấ:"A",Ậ:"A",Ầ:"A",Ẩ:"A",Ẫ:"A",Ä:"A",Ǟ:"A",Ȧ:"A",Ǡ:"A",Ạ:"A",Ȁ:"A",À:"A",Ả:"A",Ȃ:"A",Ā:"A",Ą:"A",Å:"A",Ǻ:"A",Ḁ:"A","Ⱥ":"A",Ã:"A","Ꜳ":"AA",Æ:"AE",Ǽ:"AE",Ǣ:"AE","Ꜵ":"AO","Ꜷ":"AU","Ꜹ":"AV","Ꜻ":"AV","Ꜽ":"AY",Ḃ:"B",Ḅ:"B",Ɓ:"B",Ḇ:"B","Ƀ":"B",Ƃ:"B",Ć:"C",Č:"C",Ç:"C",Ḉ:"C",Ĉ:"C",Ċ:"C",Ƈ:"C","Ȼ":"C",Ď:"D",Ḑ:"D",Ḓ:"D",Ḋ:"D",Ḍ:"D",Ɗ:"D",Ḏ:"D",ǲ:"D",ǅ:"D",Đ:"D",Ð:"D",Ƌ:"D",Ǳ:"DZ",Ǆ:"DZ",É:"E",Ĕ:"E",Ě:"E",Ȩ:"E",Ḝ:"E",Ê:"E",Ế:"E",Ệ:"E",Ề:"E",Ể:"E",Ễ:"E",Ḙ:"E",Ë:"E",Ė:"E",Ẹ:"E",Ȅ:"E",È:"E",Ẻ:"E",Ȇ:"E",Ē:"E",Ḗ:"E",Ḕ:"E",Ę:"E","Ɇ":"E",Ẽ:"E",Ḛ:"E","Ꝫ":"ET",Ḟ:"F",Ƒ:"F",Ǵ:"G",Ğ:"G",Ǧ:"G",Ģ:"G",Ĝ:"G",Ġ:"G",Ɠ:"G",Ḡ:"G",Ǥ:"G",Ḫ:"H",Ȟ:"H",Ḩ:"H",Ĥ:"H","Ⱨ":"H",Ḧ:"H",Ḣ:"H",Ḥ:"H",Ħ:"H",Í:"I",Ĭ:"I",Ǐ:"I",Î:"I",Ï:"I",Ḯ:"I",İ:"I",Ị:"I",Ȉ:"I",Ì:"I",Ỉ:"I",Ȋ:"I",Ī:"I",Į:"I",Ɨ:"I",Ĩ:"I",Ḭ:"I",І:"I","Ꝺ":"D","Ꝼ":"F","Ᵹ":"G","Ꞃ":"R","Ꞅ":"S","Ꞇ":"T","Ꝭ":"IS",Ĵ:"J","Ɉ":"J",Ḱ:"K",Ǩ:"K",Ķ:"K","Ⱪ":"K","Ꝃ":"K",Ḳ:"K",Ƙ:"K",Ḵ:"K","Ꝁ":"K","Ꝅ":"K",Ĺ:"L","Ƚ":"L",Ľ:"L",Ļ:"L",Ḽ:"L",Ḷ:"L",Ḹ:"L","Ⱡ":"L","Ꝉ":"L",Ḻ:"L",Ŀ:"L","Ɫ":"L",ǈ:"L",Ł:"L",Ǉ:"LJ",Ḿ:"M",Ṁ:"M",Ṃ:"M","Ɱ":"M",Ń:"N",Ň:"N",Ņ:"N",Ṋ:"N",Ṅ:"N",Ṇ:"N",Ǹ:"N",Ɲ:"N",Ṉ:"N","Ƞ":"N",ǋ:"N",Ñ:"N",Ǌ:"NJ",Ó:"O",Ŏ:"O",Ǒ:"O",Ô:"O",Ố:"O",Ộ:"O",Ồ:"O",Ổ:"O",Ỗ:"O",Ö:"O",Ȫ:"O",Ȯ:"O",Ȱ:"O",Ọ:"O",Ő:"O",Ȍ:"O",Ò:"O",Ỏ:"O",Ơ:"O",Ớ:"O",Ợ:"O",Ờ:"O",Ở:"O",Ỡ:"O",Ȏ:"O","Ꝋ":"O","Ꝍ":"O",Ō:"O",Ṓ:"O",Ṑ:"O",Ɵ:"O",Ǫ:"O",Ǭ:"O",Ø:"O",Ǿ:"O",Õ:"O",Ṍ:"O",Ṏ:"O",Ȭ:"O",Ƣ:"OI","Ꝏ":"OO",Ɛ:"E",Ɔ:"O",Ȣ:"OU",Ṕ:"P",Ṗ:"P","Ꝓ":"P",Ƥ:"P","Ꝕ":"P","Ᵽ":"P","Ꝑ":"P","Ꝙ":"Q","Ꝗ":"Q",Ŕ:"R",Ř:"R",Ŗ:"R",Ṙ:"R",Ṛ:"R",Ṝ:"R",Ȑ:"R",Ȓ:"R",Ṟ:"R","Ɍ":"R","Ɽ":"R","Ꜿ":"C",Ǝ:"E",Ś:"S",Ṥ:"S",Š:"S",Ṧ:"S",Ş:"S",Ŝ:"S",Ș:"S",Ṡ:"S",Ṣ:"S",Ṩ:"S",ß:"ss",Ť:"T",Ţ:"T",Ṱ:"T",Ț:"T","Ⱦ":"T",Ṫ:"T",Ṭ:"T",Ƭ:"T",Ṯ:"T",Ʈ:"T",Ŧ:"T","Ɐ":"A","Ꞁ":"L",Ɯ:"M","Ʌ":"V","Ꜩ":"TZ",Ú:"U",Ŭ:"U",Ǔ:"U",Û:"U",Ṷ:"U",Ü:"U",Ǘ:"U",Ǚ:"U",Ǜ:"U",Ǖ:"U",Ṳ:"U",Ụ:"U",Ű:"U",Ȕ:"U",Ù:"U",Ủ:"U",Ư:"U",Ứ:"U",Ự:"U",Ừ:"U",Ử:"U",Ữ:"U",Ȗ:"U",Ū:"U",Ṻ:"U",Ų:"U",Ů:"U",Ũ:"U",Ṹ:"U",Ṵ:"U","Ꝟ":"V",Ṿ:"V",Ʋ:"V",Ṽ:"V","Ꝡ":"VY",Ẃ:"W",Ŵ:"W",Ẅ:"W",Ẇ:"W",Ẉ:"W",Ẁ:"W","Ⱳ":"W",Ẍ:"X",Ẋ:"X",Ý:"Y",Ŷ:"Y",Ÿ:"Y",Ẏ:"Y",Ỵ:"Y",Ỳ:"Y",Ƴ:"Y",Ỷ:"Y","Ỿ":"Y",Ȳ:"Y","Ɏ":"Y",Ỹ:"Y",Ї:"YI",Ź:"Z",Ž:"Z",Ẑ:"Z","Ⱬ":"Z",Ż:"Z",Ẓ:"Z",Ȥ:"Z",Ẕ:"Z",Ƶ:"Z",Þ:"TH",Ĳ:"IJ",Œ:"OE","ᴀ":"A","ᴁ":"AE",ʙ:"B","ᴃ":"B","ᴄ":"C","ᴅ":"D","ᴇ":"E","ꜰ":"F",ɢ:"G",ʛ:"G",ʜ:"H",ɪ:"I",ʁ:"R","ᴊ":"J","ᴋ":"K",ʟ:"L","ᴌ":"L","ᴍ":"M",ɴ:"N","ᴏ":"O",ɶ:"OE","ᴐ":"O","ᴕ":"OU","ᴘ":"P",ʀ:"R","ᴎ":"N","ᴙ":"R","ꜱ":"S","ᴛ":"T","ⱻ":"E","ᴚ":"R","ᴜ":"U","ᴠ":"V","ᴡ":"W",ʏ:"Y","ᴢ":"Z",á:"a",ă:"a",ắ:"a",ặ:"a",ằ:"a",ẳ:"a",ẵ:"a",ǎ:"a",â:"a",ấ:"a",ậ:"a",ầ:"a",ẩ:"a",ẫ:"a",ä:"a",ǟ:"a",ȧ:"a",ǡ:"a",ạ:"a",ȁ:"a",à:"a",ả:"a",ȃ:"a",ā:"a",ą:"a","ᶏ":"a",ẚ:"a",å:"a",ǻ:"a",ḁ:"a","ⱥ":"a",ã:"a","ꜳ":"aa",æ:"ae",ǽ:"ae",ǣ:"ae","ꜵ":"ao","ꜷ":"au","ꜹ":"av","ꜻ":"av","ꜽ":"ay",ḃ:"b",ḅ:"b",ɓ:"b",ḇ:"b","ᵬ":"b","ᶀ":"b",ƀ:"b",ƃ:"b",ɵ:"o",ć:"c",č:"c",ç:"c",ḉ:"c",ĉ:"c",ɕ:"c",ċ:"c",ƈ:"c","ȼ":"c",ď:"d",ḑ:"d",ḓ:"d","ȡ":"d",ḋ:"d",ḍ:"d",ɗ:"d","ᶑ":"d",ḏ:"d","ᵭ":"d","ᶁ":"d",đ:"d",ɖ:"d",ƌ:"d",ð:"d",ı:"i","ȷ":"j",ɟ:"j",ʄ:"j",ǳ:"dz",ǆ:"dz",é:"e",ĕ:"e",ě:"e",ȩ:"e",ḝ:"e",ê:"e",ế:"e",ệ:"e",ề:"e",ể:"e",ễ:"e",ḙ:"e",ë:"e",ė:"e",ẹ:"e",ȅ:"e",è:"e",ẻ:"e",ȇ:"e",ē:"e",ḗ:"e",ḕ:"e","ⱸ":"e",ę:"e","ᶒ":"e","ɇ":"e",ẽ:"e",ḛ:"e","ꝫ":"et",ḟ:"f",ƒ:"f","ᵮ":"f","ᶂ":"f",ǵ:"g",ğ:"g",ǧ:"g",ģ:"g",ĝ:"g",ġ:"g",ɠ:"g",ḡ:"g","ᶃ":"g",ǥ:"g",ḫ:"h",ȟ:"h",ḩ:"h",ĥ:"h","ⱨ":"h",ḧ:"h",ḣ:"h",ḥ:"h",ɦ:"h",ẖ:"h",ħ:"h",ƕ:"hv",í:"i",ĭ:"i",ǐ:"i",î:"i",ï:"i",ḯ:"i",ị:"i",ȉ:"i",ì:"i",ỉ:"i",ȋ:"i",ī:"i",į:"i","ᶖ":"i",ɨ:"i",ĩ:"i",ḭ:"i",і:"i","ꝺ":"d","ꝼ":"f","ᵹ":"g","ꞃ":"r","ꞅ":"s","ꞇ":"t","ꝭ":"is",ǰ:"j",ĵ:"j",ʝ:"j","ɉ":"j",ḱ:"k",ǩ:"k",ķ:"k","ⱪ":"k","ꝃ":"k",ḳ:"k",ƙ:"k",ḵ:"k","ᶄ":"k","ꝁ":"k","ꝅ":"k",ĺ:"l",ƚ:"l",ɬ:"l",ľ:"l",ļ:"l",ḽ:"l","ȴ":"l",ḷ:"l",ḹ:"l","ⱡ":"l","ꝉ":"l",ḻ:"l",ŀ:"l",ɫ:"l","ᶅ":"l",ɭ:"l",ł:"l",ǉ:"lj",ſ:"s","ẜ":"s",ẛ:"s","ẝ":"s",ḿ:"m",ṁ:"m",ṃ:"m",ɱ:"m","ᵯ":"m","ᶆ":"m",ń:"n",ň:"n",ņ:"n",ṋ:"n","ȵ":"n",ṅ:"n",ṇ:"n",ǹ:"n",ɲ:"n",ṉ:"n",ƞ:"n","ᵰ":"n","ᶇ":"n",ɳ:"n",ñ:"n",ǌ:"nj",ó:"o",ŏ:"o",ǒ:"o",ô:"o",ố:"o",ộ:"o",ồ:"o",ổ:"o",ỗ:"o",ö:"o",ȫ:"o",ȯ:"o",ȱ:"o",ọ:"o",ő:"o",ȍ:"o",ò:"o",ỏ:"o",ơ:"o",ớ:"o",ợ:"o",ờ:"o",ở:"o",ỡ:"o",ȏ:"o","ꝋ":"o","ꝍ":"o","ⱺ":"o",ō:"o",ṓ:"o",ṑ:"o",ǫ:"o",ǭ:"o",ø:"o",ǿ:"o",õ:"o",ṍ:"o",ṏ:"o",ȭ:"o",ƣ:"oi","ꝏ":"oo",ɛ:"e","ᶓ":"e",ɔ:"o","ᶗ":"o",ȣ:"ou",ṕ:"p",ṗ:"p","ꝓ":"p",ƥ:"p","ᵱ":"p","ᶈ":"p","ꝕ":"p","ᵽ":"p","ꝑ":"p","ꝙ":"q",ʠ:"q","ɋ":"q","ꝗ":"q",ŕ:"r",ř:"r",ŗ:"r",ṙ:"r",ṛ:"r",ṝ:"r",ȑ:"r",ɾ:"r","ᵳ":"r",ȓ:"r",ṟ:"r",ɼ:"r","ᵲ":"r","ᶉ":"r","ɍ":"r",ɽ:"r","ↄ":"c","ꜿ":"c",ɘ:"e",ɿ:"r",ś:"s",ṥ:"s",š:"s",ṧ:"s",ş:"s",ŝ:"s",ș:"s",ṡ:"s",ṣ:"s",ṩ:"s",ʂ:"s","ᵴ":"s","ᶊ":"s","ȿ":"s",ɡ:"g","ᴑ":"o","ᴓ":"o","ᴝ":"u",ť:"t",ţ:"t",ṱ:"t",ț:"t","ȶ":"t",ẗ:"t","ⱦ":"t",ṫ:"t",ṭ:"t",ƭ:"t",ṯ:"t","ᵵ":"t",ƫ:"t",ʈ:"t",ŧ:"t","ᵺ":"th",ɐ:"a","ᴂ":"ae",ǝ:"e","ᵷ":"g",ɥ:"h","ʮ":"h","ʯ":"h","ᴉ":"i",ʞ:"k","ꞁ":"l",ɯ:"m",ɰ:"m","ᴔ":"oe",ɹ:"r",ɻ:"r",ɺ:"r","ⱹ":"r",ʇ:"t",ʌ:"v",ʍ:"w",ʎ:"y","ꜩ":"tz",ú:"u",ŭ:"u",ǔ:"u",û:"u",ṷ:"u",ü:"u",ǘ:"u",ǚ:"u",ǜ:"u",ǖ:"u",ṳ:"u",ụ:"u",ű:"u",ȕ:"u",ù:"u",ủ:"u",ư:"u",ứ:"u",ự:"u",ừ:"u",ử:"u",ữ:"u",ȗ:"u",ū:"u",ṻ:"u",ų:"u","ᶙ":"u",ů:"u",ũ:"u",ṹ:"u",ṵ:"u","ᵫ":"ue","ꝸ":"um","ⱴ":"v","ꝟ":"v",ṿ:"v",ʋ:"v","ᶌ":"v","ⱱ":"v",ṽ:"v","ꝡ":"vy",ẃ:"w",ŵ:"w",ẅ:"w",ẇ:"w",ẉ:"w",ẁ:"w","ⱳ":"w",ẘ:"w",ẍ:"x",ẋ:"x","ᶍ":"x",ý:"y",ŷ:"y",ÿ:"y",ẏ:"y",ỵ:"y",ỳ:"y",ƴ:"y",ỷ:"y","ỿ":"y",ȳ:"y",ẙ:"y","ɏ":"y",ỹ:"y",ї:"yi",ź:"z",ž:"z",ẑ:"z",ʑ:"z","ⱬ":"z",ż:"z",ẓ:"z",ȥ:"z",ẕ:"z","ᵶ":"z","ᶎ":"z",ʐ:"z",ƶ:"z","ɀ":"z",þ:"th",ﬀ:"ff",ﬃ:"ffi",ﬄ:"ffl",ﬁ:"fi",ﬂ:"fl",ĳ:"ij",œ:"oe",ﬆ:"st","ₐ":"a","ₑ":"e","ᵢ":"i","ⱼ":"j","ₒ":"o","ᵣ":"r","ᵤ":"u","ᵥ":"v","ₓ":"x",Ё:"YO",Й:"I",Ц:"TS",У:"U",К:"K",Е:"E",Н:"N",Г:"G",Ґ:"G",Ш:"SH",Щ:"SCH",З:"Z",Х:"H",Ъ:"'",ё:"yo",й:"i",ц:"ts",у:"u",к:"k",е:"e",н:"n",г:"g",ґ:"g",ш:"sh",щ:"sch",з:"z",х:"h",ъ:"'",Ф:"F",Ы:"I",В:"V",А:"a",П:"P",Р:"R",О:"O",Л:"L",Д:"D",Ж:"ZH",Э:"E",ф:"f",ы:"i",в:"v",а:"a",п:"p",р:"r",о:"o",л:"l",д:"d",ж:"zh",э:"e",Я:"Ya",Ч:"CH",С:"S",М:"M",И:"I",Т:"T",Ь:"'",Б:"B",Ю:"YU",я:"ya",ч:"ch",с:"s",м:"m",и:"i",т:"t",ь:"'",б:"b",ю:"yu"},n})})(v3);var $G=v3.exports;const DG=lr($G),BG=/[^0-9a-z]/gi;function Xs(e){return y3(e).toLowerCase().normalize("NFKD").replace(BG,"")}function y3(e){return DG(e)}function A3(e){return y3(e).toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+$/,"").replace(/^-+/,"").replace(/-+/g,"-")}function Ax(e){return e.id?e.id:A3(`${e==null?void 0:e.artist}-${e==null?void 0:e.title}`)}const oC=(e,t,n)=>n>=e&&n<=t,aC=e=>e.notes.map(t=>t.lyrics).join(""),lC=e=>new Set(Xs(e)).size,FG=(e,t)=>{const n=e.reduce((i,s)=>`${i}${aC(s)}`,""),r=aC(t);return lC(n)/lC(r)<.5},zG=(e,t)=>{const n=t.start,r=hf(t),i=e.filter(o=>{const a=o.start,l=hf(o);return oC(n,r,a)||oC(n,r,l)||a<=n&&l>=r}),s=FG(i,t);return{section:t,shouldReplace:i.length===0||s,sectionsToRemove:i}};function _3(e,t){if(e){if(e.length===1)return e[0]}else return e;const n=e.map(o=>o.sections.filter(St)),r=n[1].map(o=>zG(n[0],o));let i=[...n[0]];r.forEach((o,a)=>{o.shouldReplace&&(i=i.filter(l=>!o.sectionsToRemove.some(c=>c.start===l.start)),i.push(o.section))});const s={...e[0],sections:i.sort((o,a)=>o.start-a.start),changes:[]};return s.changes=yx(s,t),s}const cC={R:"rap",F:"freestyle","*":"star",":":"normal",G:"rapstar"},o_e={rap:"R",freestyle:"F",star:"*",normal:":",rapstar:"G"},UG=["TRACKNAMES","YEAR","EDITION","GENRE","LANGUAGE","VIDEOGAP","PREVIEWSTART","CREATOR","TITLE","ARTIST","BPM","GAP","ID","LASTUPDATE","VOLUME","REALBPM","PREVIEWEND","CREATORURL","SOURCEURL","ARTISTORIGIN","VIDEOID","ALLKARAOKE_ID","ALLKARAOKE_LASTUPDATE","ALLKARAOKE_VOLUME","ALLKARAOKE_REALBPM","ALLKARAOKE_PREVIEWEND","ALLKARAOKE_CREATORURL","ALLKARAOKE_SOURCEURL","ALLKARAOKE_ARTISTORIGIN","ALLKARAOKE_VIDEOID"];function HG(e){return e.split(`
`).filter(t=>t.startsWith("#")&&!UG.includes(t.substring(1).split(":")[0]))}function Bt(e,t,n="string"){const r=i=>{var a;const s=new RegExp(`#${i}\\:(.*)`),o=(a=e.match(s))==null?void 0:a[1];if(o!==void 0)return n==="number"?Number(o.replace(",","."))??0:n==="array"?o.split(", "):o};return t.map(r).filter(MG).at(0)}function qG(e){var r;const t=Bt(e,["VIDEO"])??"",n=new RegExp("v=(.*?)(,|$)");return(r=t.match(n))==null?void 0:r[1]}const GG=/- -?\d+ -?\d+/;function a_e(e){try{return new URL(e).searchParams.get("v")||!1}catch{return!1}}function WG(e,t){try{return JSON.parse(e)}catch{return t}}function YG(e){const t=Bt(e,["P1"]),n=Bt(e,["P2"]);return t||n?[t,n]:WG(Bt(e,["TRACKNAMES"]),[])}function KG(e,t,n,r,i){var p,g;const s=YG(e),o={year:Bt(e,["YEAR"]),artistOrigin:Bt(e,["ALLKARAOKE_ARTISTORIGIN","ARTISTORIGIN"]),lastUpdate:Bt(e,["ALLKARAOKE_LASTUPDATE","LASTUPDATE"]),edition:Bt(e,["EDITION"]),genre:Bt(e,["GENRE"]),videoGap:Bt(e,["VIDEOGAP"],"number"),realBpm:Bt(e,["ALLKARAOKE_REALBPM","REALBPM"],"number"),previewStart:Bt(e,["PREVIEWSTART"],"number"),previewEnd:Bt(e,["ALLKARAOKE_PREVIEWEND","PREVIEWEND"],"number"),volume:Bt(e,["ALLKARAOKE_VOLUME","VOLUME"],"number"),author:Bt(e,["CREATOR"])??n,authorUrl:Bt(e,["ALLKARAOKE_CREATORURL","CREATORURL"])??r,sourceUrl:Bt(e,["ALLKARAOKE_SOURCEURL","SOURCEURL"])??i};o.videoGap&&(o.videoGap=Math.floor(o.videoGap));const a=Bt(e,["TITLE"])??"",l=Bt(e,["ARTIST"])??"",c=Bt(e,["ALLKARAOKE_VIDEOID","VIDEOID"])??qG(e)??"",u={id:Bt(e,["ALLKARAOKE_ID","ID"])??Ax({title:a,artist:l}),title:a,artist:l,video:c,language:Bt(e,["LANGUAGE"],"array")??[],bpm:Number(((p=Bt(e,["BPM"]))==null?void 0:p.replace(",","."))??0),bar:4,gap:Number(((g=Bt(e,["GAP"]))==null?void 0:g.replace(",","."))??0),...o,tracks:[],unsupportedProps:HG(e),mergedTrack:{}};if((t==null?void 0:t.length)===11)u.video=t;else if(t)try{const m=new URL(t);u.video=m.searchParams.get("v")||"Invalid link"}catch(m){u.video=`Invalid link: ${m.message}`}let d=[],h=0;return e.split(`
`).forEach(m=>{if(m.startsWith("#"))return;const A=m.split(" ");if(Number(A[1])<h*.75&&d.length&&(s[u.tracks.length]?u.tracks.push({sections:d,name:s[u.tracks.length],changes:[]}):u.tracks.push({sections:d,changes:[]}),d=[]),GG.test(m)){const[,v,y]=A;d.push({start:Number(v),end:Number(y),type:"pause"}),d.push({start:Number(y),type:"notes",notes:[]}),h=Number(y)}else if(m.startsWith("-"))d.push({start:Number(m.split("-")[1].trim()),notes:[],type:"notes"});else if(Object.keys(cC).includes(m[0])){d.length===0&&(d=[{start:0,notes:[],type:"notes"}]);const v=d[d.length-1],[y,b,S,x,...w]=A;v.notes.push({type:cC[y]??"normal",start:Number(b),length:Number(S),pitch:Number(x),lyrics:w.join(" ")}),h=Number(A[1])}}),s[u.tracks.length]?u.tracks.push({sections:d,name:s[u.tracks.length],changes:[]}):u.tracks.push({sections:d,changes:[]}),u.tracks=u.tracks.map(m=>({...m,sections:m.sections.filter(A=>A.type==="pause"||A.notes.length),changes:[]})).map(m=>({...m,changes:yx(m,u)})),u.mergedTrack=_3(u.tracks,u),u}const b3="CURRENT_VISIT_KEY",x3="LAST_VISIT_KEY",QG=3*60*60*1e3,x0=Date.now(),sy=Number(Ve.local.getItem(b3)??x0),S3=Ve.local.getItem("posthog-user-id")===null,JG=S3?x0:1673642382501;let w3=Number(Ve.local.getItem(x3)??JG);(S3||x0-sy>QG)&&(Ve.local.setItem(x3,String(sy)),w3=sy);Ve.local.setItem(b3,String(x0));const XG=e=>Xs(`${e.artist}${e.title}`),ZG=({bar:e,unsupportedProps:t,mergedTrack:n,...r},i=!1)=>({...r,id:Ax(r),language:Array.isArray(r.language)?r.language:[r.language],tracksCount:r.tracks.length,tracks:r.tracks.map(({name:s,sections:o})=>({name:s,start:la(o)})),search:XG(r),local:i});let oy=null;const Ro=()=>(oy||(oy=ll.createInstance({name:"songs_v2"})),oy),Jh="DELETED_SONGS_V2";class eW{constructor(){this.finalIndex=null,this.indexWithDeletedSongs=null,this.store=async t=>{await Ro().setItem(this.generateSongFile(t),{...t,lastUpdate:new Date().toISOString()}),await this.reloadIndex()},this.get=async t=>{const n=await this.getLocal(t);return n||await fetch(`/songs/${t}.txt`).then(r=>r.text()).then(KG)},this.getIndex=async(t=!1)=>(this.finalIndex===null&&await this.reloadIndex(),t?this.indexWithDeletedSongs:this.finalIndex),this.getCurrentIndex=()=>this.finalIndex,this.getDeletedSongsList=async()=>await Ro().getItem(Jh)??[],this.generateSongFile=t=>Ax(t),this.reloadIndex=async()=>{const[t,n,r]=await Promise.all([fetch("/songs/index.json").then(a=>a.json()),this.getLocalIndex(),this.getDeletedSongsList()]),i=Xi(w3),s=n.filter(a=>{const l=t.find(c=>c.id===a.id);return l?Xi(a.lastUpdate??0).isAfter(Xi(l.lastUpdate??0)):!0}),o=s.map(a=>a.id);n.forEach(a=>{o.includes(a.id)||Ro().removeItem(a.id)}),this.indexWithDeletedSongs=[...s,...t.filter(a=>!o.includes(this.generateSongFile(a)))].map(a=>({...a,isNew:a.lastUpdate?Xi(a.lastUpdate).isAfter(i):!1,isDeleted:r==null?void 0:r.includes(this.generateSongFile(a))})),this.indexWithDeletedSongs.sort((a,l)=>`${a.artist} ${a.title}`.localeCompare(`${l.artist} ${l.title}`.toLowerCase())),this.finalIndex=this.indexWithDeletedSongs.filter(a=>!a.isDeleted)},this.deleteSong=async t=>(await Ro().removeItem(t),this.reloadIndex()),this.softDeleteSong=async t=>{const n=await this.getDeletedSongsList();return await Ro().setItem(Jh,[...new Set([...n,t])]),this.reloadIndex()},this.restoreSong=async t=>{const n=await this.getDeletedSongsList();return await Ro().setItem(Jh,n.filter(r=>r!==t)),this.reloadIndex()},this.getLocal=async t=>{const n=await Ro().getItem(decodeURIComponent(t));return n&&n.tracks?{...n,language:Array.isArray(n.language)?n.language:[n.language],mergedTrack:_3(n.tracks,n),tracks:n.tracks.map(r=>({...r,changes:yx(r,n)}))}:null},this.getLocalIndex=async()=>(await Promise.all((await this.getKeys()).map(this.getLocal))).filter(n=>n!==null).map(n=>{try{return ZG(n,!0)}catch(r){return console.error(r),null}}).filter(n=>n!==null),this.getKeys=async()=>{const t=[Jh];return(await Ro().keys()).filter(n=>!t.includes(n))}}}const $s=new eW,uC="room_id_key",Yp=5;class tW{constructor(){var t;if(this.gameCode=Ve.session.getItem(uC),this.started=!1,this.start=()=>{this.transport||(this.transport=Pg.get()?new IG:new TG),!this.started&&(this.started=!0,console.log("connection started",this.getGameCode()),Ve.session.setItem(uC,this.gameCode),this.transport.connect(this.getGameCode(),()=>{this.transport.addListener((n,r)=>{var s;const i=n.t;if(i==="register")Je.addRemoteMic(n.id,n.name,r,n.silent,n.lag);else if(i==="unregister")Je.removeRemoteMic(r.peer,!0);else if(i==="subscribe-event")Je.addSubscription(r.peer,n.channel);else if(i==="unsubscribe-event")Je.removeSubscription(r.peer,n.channel);else if(i==="ping")r.send({t:"pong"});else if(i==="pong")(s=Je.getRemoteMicById(r.peer))==null||s.onPong();else if(i==="request-songlist")Promise.all([$s.getLocalIndex(),$s.getDeletedSongsList()]).then(([o,a])=>{r.send({t:"songlist",custom:o.map(l=>({artist:l.artist,title:l.title,video:l.video,language:l.language})),deleted:a})});else if(i==="get-microphone-lag-request"){const o=Je.getRemoteMicById(r.peer);o&&r.send({t:"get-microphone-lag-response",value:o.getInput().getInputLag()})}else if(i==="set-microphone-lag-request"){const o=Je.getRemoteMicById(r.peer);o&&(o.getInput().setInputLag(n.value),r.send({t:"get-microphone-lag-response",value:o.getInput().getInputLag()}))}else Je.getPermission(r.peer)==="write"&&(i==="keystroke"?te.remoteKeyboardPressed.dispatch(n.key):i==="search-song"?te.remoteSongSearch.dispatch(n.search):i==="request-mic-select"?te.playerChangeRequested.dispatch(n.id,n.playerNumber):i==="get-game-input-lag-request"?r.send({t:"get-game-input-lag-response",value:Id.get()}):i==="set-game-input-lag-request"&&(Id.set(n.value),r.send({t:"get-game-input-lag-response",value:Id.get()})))})},()=>{this.started=!1}))},this.getGameCode=()=>(Pg.get()?"w":"p")+this.gameCode,!this.gameCode){this.gameCode="";for(let n=0;n<Yp-1;n++)this.gameCode+=String.fromCharCode(Math.floor(Math.random()*26)+97)}(t=global==null?void 0:global.addEventListener)==null||t.call(global,"beforeunload",()=>{var n;Je.getRemoteMics().forEach(r=>r.connection.close()),(n=this.transport)==null||n.disconnect()})}}const Dg=new tW,ul=e=>`${e.deviceId};${e.channel}`,dC=[{channels:2,channel:1,label:"Drawing Test Input",id:ul({deviceId:"default",channel:1}),deviceId:"default"}],Na=class Na{};Na.inputName="DrawingTest",Na.getDefault=()=>dC[0],Na.getInputs=async()=>dC,Na.subscribeToListChange=t=>{},Na.unsubscribeToListChange=t=>{};let A1=Na;const fC=[{channels:2,channel:0,label:"Dummy Input 1",id:ul({deviceId:"default",channel:0}),deviceId:"default"},{channels:2,channel:1,label:"Dummy Input 2",id:ul({deviceId:"default",channel:1}),deviceId:"default"}],$a=class $a{};$a.inputName="Dummy",$a.getDefault=()=>fC[0],$a.getInputs=async()=>fC,$a.subscribeToListChange=t=>{},$a.unsubscribeToListChange=t=>{};let Bg=$a;var nW=Math.ceil,rW=Math.max;function iW(e,t,n,r){for(var i=-1,s=rW(nW((t-e)/(n||1)),0),o=Array(s);s--;)o[r?s:++i]=e,e+=n;return o}var sW=9007199254740991;function _x(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=sW}function bx(e){return e!=null&&_x(e.length)&&!s3(e)}var oW=9007199254740991,aW=/^(?:0|[1-9]\d*)$/;function xx(e,t){var n=typeof e;return t=t??oW,!!t&&(n=="number"||n!="symbol"&&aW.test(e))&&e>-1&&e%1==0&&e<t}function E3(e,t,n){if(!as(n))return!1;var r=typeof t;return(r=="number"?bx(n)&&xx(t,n.length):r=="string"&&t in n)?g0(n[t],e):!1}var hC=1/0,lW=17976931348623157e292;function Kp(e){if(!e)return e===0?e:0;if(e=m1(e),e===hC||e===-hC){var t=e<0?-1:1;return t*lW}return e===e?e:0}function cW(e){return function(t,n,r){return r&&typeof r!="number"&&E3(t,n,r)&&(n=r=void 0),t=Kp(t),n===void 0?(n=t,t=0):n=Kp(n),r=r===void 0?t<n?1:-1:Kp(r),iW(t,n,r,e)}}var uW=cW();const _1={test:e=>e.toLowerCase().includes("wireless mic #")||e.toLowerCase().includes("sony wireless singstar"),map:(e,t)=>`SingStar Wireless - ${t===0?"Blue":"Red"}`},b1={test:e=>e.toLowerCase().includes("usbmic serial#")||e.toLowerCase().includes("singstar"),map:(e,t)=>`SingStar Wired - ${t===0?"Blue":"Red"}`},x1={test:(e,t,n)=>n===2&&e.toLowerCase().includes("singstar"),map:(e,t)=>`SingStar Mic - ${t===0?"Blue":"Red"}`},dW=(...[e,t,n])=>b1.test(e,t,n)||_1.test(e,t,n)||x1.test(e,t,n)?t:void 0,fW=(e,t,n)=>_1.test(e,t,n)?_1.map(e,t):b1.test(e,t,n)?b1.map(e,t):x1.test(e,t,n)?x1.map(e,t):n>1?`${e} (ch ${t+1})`:e,ci=class ci{};ci.inputList=[],ci.inputName="Microphone",ci.getDefault=()=>ci.inputList.find(t=>t.id===ul({deviceId:"default",channel:0}))??ci.inputList[0]??null,ci.getInputs=async()=>{let t=[];try{await Zo.getUserMedia({audio:!0,video:!1}),t=await Zo.enumerateDevices()}catch(r){Ns(r,{level:"warning",extra:{message:"Microphone.getInputs"}}),console.warn(r)}const n=await Promise.all(t.filter(r=>r.kind==="audioinput").map(async r=>{let i=1;try{i=(await Zo.getUserMedia({audio:{deviceId:{exact:r.deviceId},echoCancellation:{exact:!1}},video:!1})).getAudioTracks()[0].getSettings().channelCount??1}catch(s){console.warn(s)}return uW(0,i).map(s=>({label:fW(r.label,s,i),channel:s,channels:i,deviceId:r.deviceId,id:ul({deviceId:r.deviceId,channel:s}),preferred:dW(r.label,s,i)}))}));return ci.inputList=n.flat(),ci.inputList},ci.subscribeToListChange=t=>navigator.mediaDevices.addEventListener("devicechange",t),ci.unsubscribeToListChange=t=>navigator.mediaDevices.removeEventListener("devicechange",t);let io=ci;const pC=e=>({label:`📱${e.name}`,id:ul({deviceId:e.id,channel:0}),deviceId:e.id,channels:1,channel:0}),Da=class Da{};Da.inputName="Remote Microphone",Da.getDefault=()=>Je.getRemoteMics().map(pC)[0]??null,Da.getInputs=async()=>Je.getRemoteMics().map(pC),Da.subscribeToListChange=t=>{te.remoteMicConnected.subscribe(t),te.remoteMicDisconnected.subscribe(t)},Da.unsubscribeToListChange=t=>{te.remoteMicConnected.unsubscribe(t),te.remoteMicDisconnected.unsubscribe(t)};let co=Da;const hW=e=>`${e.deviceId};${e.channel}`;class pW{constructor(){this.initialiseInputSource=(t,n=!1)=>(n||t.getInputs().then(r=>{this.inputList[t.inputName].list=r,te.inputListChanged.dispatch(!0),t.subscribeToListChange(async()=>{this.inputList[t.inputName].list=await t.getInputs(),te.inputListChanged.dispatch(!1)})}),{list:[],getDefault:t.getDefault}),this.loadMics=()=>{this.inputList.Microphone.list.length||(this.inputList.Microphone=this.initialiseInputSource(io))},this.getInputList=()=>this.inputList,this.getInputForPlayerSelected=(t,n=!0)=>{const r=this.inputList[t.source];return r.list.find(i=>i.id===hW(t))??(n?r.getDefault():null)},this.inputList={[io.inputName]:this.initialiseInputSource(io,!0),[Bg.inputName]:this.initialiseInputSource(Bg),[co.inputName]:this.initialiseInputSource(co)}}}const uo=new pW,gC="playerselectedinputs",Fg=4,Vm=class Vm{constructor(t,n,r){this.number=t,this.input=n,this.name=r,this.nameOverride="",this.changeInput=(i,s=0,o)=>{let a=null;sn.monitoringStarted()&&(a=sn.stopMonitoring());const l={source:i,deviceId:o,channel:s},c=this.input;this.input=l,te.playerInputChanged.dispatch(this.number,c,l),a&&a.then(sn.startMonitoring)},this.toJSON=()=>({number:this.number,input:this.input,name:this.name}),this.getName=()=>this.nameOverride||(this.name??`Player #${this.number+1}`),this.isDefaultName=()=>this.name===void 0,this.setName=i=>{const s=this.name;this.name=i,te.playerNameChanged.dispatch(this.number,s)}}};Vm.fromJSON=t=>new Vm(t.number,t.input,t.name);let ac=Vm;class gW{constructor(){this.minPlayerNumber=2,this.players=[],this.requestingPromise=null,this.storePlayers=()=>{Ve.session.setItem(gC,this.getPlayers().map(n=>n.toJSON()))},this.requestReadiness=async()=>(this.requestingPromise||(this.requestingPromise=new Promise(n=>{const r=async()=>{!this.getPlayers().filter(s=>s.input.source==="Remote Microphone").some(s=>uo.getInputForPlayerSelected(s.input,!1)===null)&&(await Promise.all(this.getPlayers().map(s=>sn.sourceNameToInput(s.input.source).requestReadiness(s.input.deviceId).then(()=>{te.readinessConfirmed.dispatch(s.input.deviceId)}))),te.inputListChanged.unsubscribe(r),this.requestingPromise=null,n(!0))};te.inputListChanged.subscribe(r),r()})),this.requestingPromise),this.getPlayers=()=>this.players,this.getPlayer=n=>this.players.find(r=>r.number===n),this.getMinPlayerNumber=()=>this.minPlayerNumber,this.setMinPlayerNumber=n=>{const r=this.minPlayerNumber;this.minPlayerNumber=n,te.minPlayerNumberChanged.dispatch(r,n)},this.addPlayer=n=>{if(je.isPlaying()||this.getPlayer(n))return;const r=new ac(n,{source:"Dummy",deviceId:"default",channel:0});return this.players.push(r),this.storePlayers(),te.playerAdded.dispatch(r.number),te.playerInputChanged.dispatch(r.number,void 0,r.input),r},this.removePlayer=n=>{if(je.isPlaying())return;const r=this.getPlayer(n);r&&(this.players=this.players.filter(i=>i.number!==n),this.players.length<this.minPlayerNumber&&this.addPlayer(new Array(Fg).fill(0).find((i,s)=>!this.players.find(o=>o.number===s))),this.storePlayers(),te.playerRemoved.dispatch(r))},this.getInputs=()=>this.getPlayers().map(n=>n.input);const t=Ve.session.getItem(gC)??[];t.length?(this.players=t.map(ac.fromJSON),this.getPlayers().some(n=>n.input.source==="Microphone")&&uo.loadMics(),this.getPlayers().some(n=>n.input.source==="Remote Microphone")&&Dg.start()):this.players=[new ac(0,{source:"Dummy",deviceId:"default",channel:0}),new ac(1,{source:"Dummy",deviceId:"default",channel:1})],te.playerInputChanged.subscribe((n,r,i)=>{const s=this.getPlayer(n);if(!(!i||!s)){if(i.source==="Remote Microphone"){const o=Je.getRemoteMicById(i.deviceId);o&&(s.nameOverride=o.name)}else s.nameOverride="";this.storePlayers()}}),te.playerNameChanged.subscribe(t3(this.storePlayers,1e3)),te.remoteMicConnected.subscribe(({id:n,name:r})=>{this.getPlayers().forEach(i=>{i.input.source==="Remote Microphone"&&i.input.deviceId===n&&i.getName()!==r&&(i.nameOverride=r)})})}}const Re=new gW;class mW{constructor(){this.isMonitoring=!1,this.getInputStatus=t=>{const n=Re.getPlayer(t);return n?this.sourceNameToInput(n.input.source).getStatus(n.input.deviceId,n.input.channel):"unavailable"},this.getPlayerFrequency=t=>{var i;const n=(i=Re.getPlayer(t))==null?void 0:i.input;return n?this.sourceNameToInput(n.source).getFrequencies(n.deviceId)[n.channel]:0},this.clearPlayerCachedFrequencies=t=>{var r;const n=(r=Re.getPlayer(t))==null?void 0:r.input;if(!n)return 0;this.sourceNameToInput(n.source).clearFrequencies(n.deviceId)},this.getPlayerVolume=t=>{var i;const n=(i=Re.getPlayer(t))==null?void 0:i.input;return n?this.sourceNameToInput(n.source).getVolumes(n.deviceId)[n.channel]:0},this.getPlayerInputLag=t=>{var r;const n=(r=Re.getPlayer(t))==null?void 0:r.input;return n?this.sourceNameToInput(n.source).getInputLag(n.deviceId):0},this.startMonitoring=async()=>{await Promise.all(Re.getPlayers().map(t=>this.sourceNameToInput(t.input.source).startMonitoring(t.input.deviceId))),this.isMonitoring=!0},this.stopMonitoring=async()=>{await Promise.all(Re.getPlayers().map(t=>this.sourceNameToInput(t.input.source).stopMonitoring(t.input.deviceId))),this.isMonitoring=!1},this.monitoringStarted=()=>this.isMonitoring,this.sourceNameToInput=t=>t===io.inputName?MH:t===A1.inputName?d8:t===co.inputName?OH:h8,te.inputListChanged.subscribe(async()=>{this.isMonitoring&&(await this.stopMonitoring(),this.startMonitoring())})}}const sn=new mW;function k3(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=k3(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function qo(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=k3(e))&&(r&&(r+=" "),r+=t);return r}const Od=e=>typeof e=="number"&&!isNaN(e),dl=e=>typeof e=="string",Cr=e=>typeof e=="function",Qp=e=>dl(e)||Cr(e)?e:null,ay=e=>_.isValidElement(e)||dl(e)||Cr(e)||Od(e);function vW(e,t,n){n===void 0&&(n=300);const{scrollHeight:r,style:i}=e;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)})})}function S0(e){let{enter:t,exit:n,appendPosition:r=!1,collapse:i=!0,collapseDuration:s=300}=e;return function(o){let{children:a,position:l,preventExitTransition:c,done:u,nodeRef:d,isIn:h}=o;const p=r?`${t}--${l}`:t,g=r?`${n}--${l}`:n,m=_.useRef(0);return _.useLayoutEffect(()=>{const A=d.current,v=p.split(" "),y=b=>{b.target===d.current&&(A.dispatchEvent(new Event("d")),A.removeEventListener("animationend",y),A.removeEventListener("animationcancel",y),m.current===0&&b.type!=="animationcancel"&&A.classList.remove(...v))};A.classList.add(...v),A.addEventListener("animationend",y),A.addEventListener("animationcancel",y)},[]),_.useEffect(()=>{const A=d.current,v=()=>{A.removeEventListener("animationend",v),i?vW(A,u,s):u()};h||(c?v():(m.current=1,A.className+=` ${g}`,A.addEventListener("animationend",v)))},[h]),Pe.createElement(Pe.Fragment,null,a)}}function mC(e,t){return e!=null?{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}:{}}const fi={list:new Map,emitQueue:new Map,on(e,t){return this.list.has(e)||this.list.set(e,[]),this.list.get(e).push(t),this},off(e,t){if(t){const n=this.list.get(e).filter(r=>r!==t);return this.list.set(e,n),this}return this.list.delete(e),this},cancelEmit(e){const t=this.emitQueue.get(e);return t&&(t.forEach(clearTimeout),this.emitQueue.delete(e)),this},emit(e){this.list.has(e)&&this.list.get(e).forEach(t=>{const n=setTimeout(()=>{t(...[].slice.call(arguments,1))},0);this.emitQueue.has(e)||this.emitQueue.set(e,[]),this.emitQueue.get(e).push(n)})}},Xh=e=>{let{theme:t,type:n,...r}=e;return Pe.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...r})},ly={info:function(e){return Pe.createElement(Xh,{...e},Pe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return Pe.createElement(Xh,{...e},Pe.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return Pe.createElement(Xh,{...e},Pe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return Pe.createElement(Xh,{...e},Pe.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return Pe.createElement("div",{className:"Toastify__spinner"})}};function yW(e){const[,t]=_.useReducer(p=>p+1,0),[n,r]=_.useState([]),i=_.useRef(null),s=_.useRef(new Map).current,o=p=>n.indexOf(p)!==-1,a=_.useRef({toastKey:1,displayedToast:0,count:0,queue:[],props:e,containerId:null,isToastActive:o,getToast:p=>s.get(p)}).current;function l(p){let{containerId:g}=p;const{limit:m}=a.props;!m||g&&a.containerId!==g||(a.count-=a.queue.length,a.queue=[])}function c(p){r(g=>p==null?[]:g.filter(m=>m!==p))}function u(){const{toastContent:p,toastProps:g,staleId:m}=a.queue.shift();h(p,g,m)}function d(p,g){let{delay:m,staleId:A,...v}=g;if(!ay(p)||function(Q){return!i.current||a.props.enableMultiContainer&&Q.containerId!==a.props.containerId||s.has(Q.toastId)&&Q.updateId==null}(v))return;const{toastId:y,updateId:b,data:S}=v,{props:x}=a,w=()=>c(y),E=b==null;E&&a.count++;const T={...x,style:x.toastStyle,key:a.toastKey++,...Object.fromEntries(Object.entries(v).filter(Q=>{let[M,U]=Q;return U!=null})),toastId:y,updateId:b,data:S,closeToast:w,isIn:!1,className:Qp(v.className||x.toastClassName),bodyClassName:Qp(v.bodyClassName||x.bodyClassName),progressClassName:Qp(v.progressClassName||x.progressClassName),autoClose:!v.isLoading&&(L=v.autoClose,O=x.autoClose,L===!1||Od(L)&&L>0?L:O),deleteToast(){const Q=mC(s.get(y),"removed");s.delete(y),fi.emit(4,Q);const M=a.queue.length;if(a.count=y==null?a.count-a.displayedToast:a.count-1,a.count<0&&(a.count=0),M>0){const U=y==null?a.props.limit:1;if(M===1||U===1)a.displayedToast++,u();else{const P=U>M?M:U;a.displayedToast=P;for(let I=0;I<P;I++)u()}}else t()}};var L,O;T.iconOut=function(Q){let{theme:M,type:U,isLoading:P,icon:I}=Q,z=null;const j={theme:M,type:U};return I===!1||(Cr(I)?z=I(j):_.isValidElement(I)?z=_.cloneElement(I,j):dl(I)||Od(I)?z=I:P?z=ly.spinner():($=>$ in ly)(U)&&(z=ly[U](j))),z}(T),Cr(v.onOpen)&&(T.onOpen=v.onOpen),Cr(v.onClose)&&(T.onClose=v.onClose),T.closeButton=x.closeButton,v.closeButton===!1||ay(v.closeButton)?T.closeButton=v.closeButton:v.closeButton===!0&&(T.closeButton=!ay(x.closeButton)||x.closeButton);let N=p;_.isValidElement(p)&&!dl(p.type)?N=_.cloneElement(p,{closeToast:w,toastProps:T,data:S}):Cr(p)&&(N=p({closeToast:w,toastProps:T,data:S})),x.limit&&x.limit>0&&a.count>x.limit&&E?a.queue.push({toastContent:N,toastProps:T,staleId:A}):Od(m)?setTimeout(()=>{h(N,T,A)},m):h(N,T,A)}function h(p,g,m){const{toastId:A}=g;m&&s.delete(m);const v={content:p,props:g};s.set(A,v),r(y=>[...y,A].filter(b=>b!==m)),fi.emit(4,mC(v,v.props.updateId==null?"added":"updated"))}return _.useEffect(()=>(a.containerId=e.containerId,fi.cancelEmit(3).on(0,d).on(1,p=>i.current&&c(p)).on(5,l).emit(2,a),()=>{s.clear(),fi.emit(3,a)}),[]),_.useEffect(()=>{a.props=e,a.isToastActive=o,a.displayedToast=n.length}),{getToastToRender:function(p){const g=new Map,m=Array.from(s.values());return e.newestOnTop&&m.reverse(),m.forEach(A=>{const{position:v}=A.props;g.has(v)||g.set(v,[]),g.get(v).push(A)}),Array.from(g,A=>p(A[0],A[1]))},containerRef:i,isToastActive:o}}function vC(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}function yC(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}function AW(e){const[t,n]=_.useState(!1),[r,i]=_.useState(!1),s=_.useRef(null),o=_.useRef({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,a=_.useRef(e),{autoClose:l,pauseOnHover:c,closeToast:u,onClick:d,closeOnClick:h}=e;function p(S){if(e.draggable){S.nativeEvent.type==="touchstart"&&S.nativeEvent.preventDefault(),o.didMove=!1,document.addEventListener("mousemove",v),document.addEventListener("mouseup",y),document.addEventListener("touchmove",v),document.addEventListener("touchend",y);const x=s.current;o.canCloseOnClick=!0,o.canDrag=!0,o.boundingRect=x.getBoundingClientRect(),x.style.transition="",o.x=vC(S.nativeEvent),o.y=yC(S.nativeEvent),e.draggableDirection==="x"?(o.start=o.x,o.removalDistance=x.offsetWidth*(e.draggablePercent/100)):(o.start=o.y,o.removalDistance=x.offsetHeight*(e.draggablePercent===80?1.5*e.draggablePercent:e.draggablePercent/100))}}function g(S){if(o.boundingRect){const{top:x,bottom:w,left:E,right:T}=o.boundingRect;S.nativeEvent.type!=="touchend"&&e.pauseOnHover&&o.x>=E&&o.x<=T&&o.y>=x&&o.y<=w?A():m()}}function m(){n(!0)}function A(){n(!1)}function v(S){const x=s.current;o.canDrag&&x&&(o.didMove=!0,t&&A(),o.x=vC(S),o.y=yC(S),o.delta=e.draggableDirection==="x"?o.x-o.start:o.y-o.start,o.start!==o.x&&(o.canCloseOnClick=!1),x.style.transform=`translate${e.draggableDirection}(${o.delta}px)`,x.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function y(){document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",y),document.removeEventListener("touchmove",v),document.removeEventListener("touchend",y);const S=s.current;if(o.canDrag&&o.didMove&&S){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return i(!0),void e.closeToast();S.style.transition="transform 0.2s, opacity 0.2s",S.style.transform=`translate${e.draggableDirection}(0)`,S.style.opacity="1"}}_.useEffect(()=>{a.current=e}),_.useEffect(()=>(s.current&&s.current.addEventListener("d",m,{once:!0}),Cr(e.onOpen)&&e.onOpen(_.isValidElement(e.children)&&e.children.props),()=>{const S=a.current;Cr(S.onClose)&&S.onClose(_.isValidElement(S.children)&&S.children.props)}),[]),_.useEffect(()=>(e.pauseOnFocusLoss&&(document.hasFocus()||A(),window.addEventListener("focus",m),window.addEventListener("blur",A)),()=>{e.pauseOnFocusLoss&&(window.removeEventListener("focus",m),window.removeEventListener("blur",A))}),[e.pauseOnFocusLoss]);const b={onMouseDown:p,onTouchStart:p,onMouseUp:g,onTouchEnd:g};return l&&c&&(b.onMouseEnter=A,b.onMouseLeave=m),h&&(b.onClick=S=>{d&&d(S),o.canCloseOnClick&&u()}),{playToast:m,pauseToast:A,isRunning:t,preventExitTransition:r,toastRef:s,eventHandlers:b}}function C3(e){let{closeToast:t,theme:n,ariaLabel:r="close"}=e;return Pe.createElement("button",{className:`Toastify__close-button Toastify__close-button--${n}`,type:"button",onClick:i=>{i.stopPropagation(),t(i)},"aria-label":r},Pe.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Pe.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function _W(e){let{delay:t,isRunning:n,closeToast:r,type:i="default",hide:s,className:o,style:a,controlledProgress:l,progress:c,rtl:u,isIn:d,theme:h}=e;const p=s||l&&c===0,g={...a,animationDuration:`${t}ms`,animationPlayState:n?"running":"paused",opacity:p?0:1};l&&(g.transform=`scaleX(${c})`);const m=qo("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${h}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":u}),A=Cr(o)?o({rtl:u,type:i,defaultClassName:m}):qo(m,o);return Pe.createElement("div",{role:"progressbar","aria-hidden":p?"true":"false","aria-label":"notification timer",className:A,style:g,[l&&c>=1?"onTransitionEnd":"onAnimationEnd"]:l&&c<1?null:()=>{d&&r()}})}const bW=e=>{const{isRunning:t,preventExitTransition:n,toastRef:r,eventHandlers:i}=AW(e),{closeButton:s,children:o,autoClose:a,onClick:l,type:c,hideProgressBar:u,closeToast:d,transition:h,position:p,className:g,style:m,bodyClassName:A,bodyStyle:v,progressClassName:y,progressStyle:b,updateId:S,role:x,progress:w,rtl:E,toastId:T,deleteToast:L,isIn:O,isLoading:N,iconOut:Q,closeOnClick:M,theme:U}=e,P=qo("Toastify__toast",`Toastify__toast-theme--${U}`,`Toastify__toast--${c}`,{"Toastify__toast--rtl":E},{"Toastify__toast--close-on-click":M}),I=Cr(g)?g({rtl:E,position:p,type:c,defaultClassName:P}):qo(P,g),z=!!w||!a,j={closeToast:d,type:c,theme:U};let $=null;return s===!1||($=Cr(s)?s(j):_.isValidElement(s)?_.cloneElement(s,j):C3(j)),Pe.createElement(h,{isIn:O,done:L,position:p,preventExitTransition:n,nodeRef:r},Pe.createElement("div",{id:T,onClick:l,className:I,...i,style:m,ref:r},Pe.createElement("div",{...O&&{role:x},className:Cr(A)?A({type:c}):qo("Toastify__toast-body",A),style:v},Q!=null&&Pe.createElement("div",{className:qo("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!N})},Q),Pe.createElement("div",null,o)),$,Pe.createElement(_W,{...S&&!z?{key:`pb-${S}`}:{},rtl:E,theme:U,delay:a,isRunning:t,isIn:O,closeToast:d,hide:u,type:c,style:b,className:y,controlledProgress:z,progress:w||0})))},w0=function(e,t){return t===void 0&&(t=!1),{enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}},xW=S0(w0("bounce",!0));S0(w0("slide",!0));S0(w0("zoom"));S0(w0("flip"));const S1=_.forwardRef((e,t)=>{const{getToastToRender:n,containerRef:r,isToastActive:i}=yW(e),{className:s,style:o,rtl:a,containerId:l}=e;function c(u){const d=qo("Toastify__toast-container",`Toastify__toast-container--${u}`,{"Toastify__toast-container--rtl":a});return Cr(s)?s({position:u,rtl:a,defaultClassName:d}):qo(d,Qp(s))}return _.useEffect(()=>{t&&(t.current=r.current)},[]),Pe.createElement("div",{ref:r,className:"Toastify",id:l},n((u,d)=>{const h=d.length?{...o}:{...o,pointerEvents:"none"};return Pe.createElement("div",{className:c(u),style:h,key:`container-${u}`},d.map((p,g)=>{let{content:m,props:A}=p;return Pe.createElement(bW,{...A,isIn:i(A.toastId),style:{...A.style,"--nth":g+1,"--len":d.length},key:`toast-${A.key}`},m)}))}))});S1.displayName="ToastContainer",S1.defaultProps={position:"top-right",transition:xW,autoClose:5e3,closeButton:C3,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let cy,Ra=new Map,pd=[],SW=1;function T3(){return""+SW++}function wW(e){return e&&(dl(e.toastId)||Od(e.toastId))?e.toastId:T3()}function Vd(e,t){return Ra.size>0?fi.emit(0,e,t):pd.push({content:e,options:t}),t.toastId}function zg(e,t){return{...t,type:t&&t.type||e,toastId:wW(t)}}function Zh(e){return(t,n)=>Vd(t,zg(e,n))}function Et(e,t){return Vd(e,zg("default",t))}Et.loading=(e,t)=>Vd(e,zg("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),Et.promise=function(e,t,n){let r,{pending:i,error:s,success:o}=t;i&&(r=dl(i)?Et.loading(i,n):Et.loading(i.render,{...n,...i}));const a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(u,d,h)=>{if(d==null)return void Et.dismiss(r);const p={type:u,...a,...n,data:h},g=dl(d)?{render:d}:d;return r?Et.update(r,{...p,...g}):Et(g.render,{...p,...g}),h},c=Cr(e)?e():e;return c.then(u=>l("success",o,u)).catch(u=>l("error",s,u)),c},Et.success=Zh("success"),Et.info=Zh("info"),Et.error=Zh("error"),Et.warning=Zh("warning"),Et.warn=Et.warning,Et.dark=(e,t)=>Vd(e,zg("default",{theme:"dark",...t})),Et.dismiss=e=>{Ra.size>0?fi.emit(1,e):pd=pd.filter(t=>e!=null&&t.options.toastId!==e)},Et.clearWaitingQueue=function(e){return e===void 0&&(e={}),fi.emit(5,e)},Et.isActive=e=>{let t=!1;return Ra.forEach(n=>{n.isToastActive&&n.isToastActive(e)&&(t=!0)}),t},Et.update=function(e,t){t===void 0&&(t={}),setTimeout(()=>{const n=function(r,i){let{containerId:s}=i;const o=Ra.get(s||cy);return o&&o.getToast(r)}(e,t);if(n){const{props:r,content:i}=n,s={delay:100,...r,...t,toastId:t.toastId||e,updateId:T3()};s.toastId!==e&&(s.staleId=e);const o=s.render||i;delete s.render,Vd(o,s)}},0)},Et.done=e=>{Et.update(e,{progress:1})},Et.onChange=e=>(fi.on(4,e),()=>{fi.off(4,e)}),Et.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},Et.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},fi.on(2,e=>{cy=e.containerId||e,Ra.set(cy,e),pd.forEach(t=>{fi.emit(0,t.content,t.options)}),pd=[]}).on(3,e=>{Ra.delete(e.containerId||e),Ra.size===0&&fi.off(0).off(1).off(5)});te.playerRemoved.subscribe(e=>{if(e.input.source===co.inputName){const t=Je.getRemoteMicById(e.input.deviceId);t&&t.setPlayerNumber(null)}});te.playerInputChanged.subscribe((e,t,n)=>{var r;if((t==null?void 0:t.source)===co.inputName){const i=(r=Re.getPlayers().find(o=>o.input.source==="Remote Microphone"&&o.input.deviceId===t.deviceId))==null?void 0:r.number,s=Je.getRemoteMicById(t.deviceId);s==null||s.setPlayerNumber(i!==void 0?i:null)}if((n==null?void 0:n.source)==="Remote Microphone"){const i=Je.getRemoteMicById(n.deviceId);i==null||i.setPlayerNumber(e)}});te.remoteMicConnected.subscribe(({id:e})=>{var n,r;const t=(n=Re.getPlayers().find(i=>i.input.source==="Remote Microphone"&&i.input.deviceId===e))==null?void 0:n.number;if(t!==void 0){const i=Je.getRemoteMicById(e);i==null||i.setPlayerNumber(t),sn.monitoringStarted()&&((r=i==null?void 0:i.getInput())==null||r.startMonitoring())}});te.playerChangeRequested.subscribe((e,t)=>{var r;const n=Re.getPlayers().find(i=>i.input.deviceId===e);if(n&&Re.removePlayer(n.number),t!==null){const i=Re.getPlayer(t);i?i.changeInput("Remote Microphone",0,e):(r=Re.addPlayer(t))==null||r.changeInput("Remote Microphone",0,e)}});te.remoteMicConnected.subscribe(({name:e,silent:t})=>{t||Et.success(f.jsxs(f.Fragment,{children:["Remote microphone ",f.jsx("b",{className:"ph-no-capture",children:e})," connected!"]}))});te.remoteMicDisconnected.subscribe(({name:e},t)=>{t||Et.warning(f.jsxs(f.Fragment,{children:["Remote microphone ",f.jsx("b",{className:"ph-no-capture",children:e})," disconnected!"]}))});const Sx=()=>{const e=Je.getRemoteMics().map(t=>{var n;return{id:t.id,name:t.name,number:((n=Re.getPlayers().find(r=>r.input.deviceId===t.id))==null?void 0:n.number)??null}});Je.broadcastToChannel("remote-mics",{t:"remote-mics-list",list:e})};te.inputListChanged.subscribe(Sx);te.playerInputChanged.subscribe(Sx);te.remoteMicSubscribed.subscribe(Sx);const I3=e=>({artist:t,title:n,id:r,lastUpdate:i},s,o=[],a)=>{var u;const l=o.length>1&&o.every(d=>d.score===o[0].score),c={};if(Re.getPlayers().forEach((d,h)=>c[`input${h}`]=d.input.source),e==="songEnded")try{const d=(u=je.getPlayer(0))==null?void 0:u.getPlayerNotes().filter(p=>Ng(p)===0).map(p=>p.frequencyRecords).flat().map(p=>[p.timestamp,p.frequency]).map((p,g,m)=>{var A,v;return[p[0]-(((A=m[g-1])==null?void 0:A[0])??0),p[1]-(((v=m[g-1])==null?void 0:v[1])??0)]}).map(p=>[Math.round(p[0]*100),Math.round(p[1]*100)]).map(p=>p[1]===0?p[0]:p),h=vj(d);console.log("compressed",h)}catch(d){Ns(d)}pn.capture(e,{songId:r,songLastUpdated:i,name:`${t} - ${n}`,artist:t,title:n,mode:s.mode,tolerance:s.tolerance,players:s.players.length,tracks:s.players.map(d=>d.track),progress:a??null,singId:s.id,sameScores:l,mobilePhoneMode:!!Zn.get(),...c,...o.reduce((d,h,p)=>({...d,[`score${p}`]:h.score}),{}),...s.players.reduce((d,h,p)=>({...d,[`track${p}`]:h.track}),{})})};te.songStarted.subscribe(I3("songStarted"));te.songEnded.subscribe(I3("songEnded"));const Xc=e=>$s.generateSongFile(e),P3=async e=>{const t=Xc(e);return await ll.getItem(t)||{plays:0,scores:[]}},R3=async(e,t)=>{await ll.setItem(Xc(e),t)},EW=async()=>{const e=await ll.keys(),t={};return await Promise.all(e.map(async n=>{t[n]=await ll.getItem(n)})),t};te.songEnded.subscribe(async(e,t,n,r)=>{if(n.every(o=>o.score===0))return;let i=await ll.getItem(Xc(e));const s={setup:t,scores:n,date:new Date().toISOString(),progress:r};i?(i.scores=[...(i==null?void 0:i.scores)??[],s],i.plays=i.scores.length):i={plays:1,scores:[s]},await R3(e,i),te.songStatStored.dispatch(Xc(e),i)});const Zc="session-player-names",kW="previous-player-names";function CW(e){return e!=null}te.songStarted.subscribe((e,t)=>{let n=JSON.parse(Ve.session.getItem(Zc))||[];const r=t.players.map(({number:s})=>Re.getPlayer(s)).filter(CW).map(s=>s.getName().trim()),i=[...n].concat(...r);n=[...new Set(i)].filter(Boolean),Ve.session.setItem(Zc,JSON.stringify(n)),Ve.session.setItem(kW,JSON.stringify(r))});te.songScoreUpdated.subscribe((e,t,n)=>{let r=JSON.parse(Ve.session.getItem(Zc))||[];const i=[...r].concat(n);r=[...new Set(i)].filter(Boolean),Ve.session.setItem(Zc,JSON.stringify(r))});function TW(e,t){const n=t<0?e.length+t:t;return e[n]}[].at||(Array.prototype.at=function(e){return TW(this,e)});[].findLastIndex||(Array.prototype.findLastIndex=function(e,t){for(let n=this.length-1;n>=0;n--)if(e.call(t,this[n],n,this))return n;return-1});var IW="Expected a function";function Mc(e,t,n){var r=!0,i=!0;if(typeof e!="function")throw new TypeError(IW);return as(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),t3(e,t,{leading:r,maxWait:t,trailing:i})}class PW extends bo{constructor(){super(...arguments),this.stream=null,this.context=null,this.interval=null,this.frequencies=[0,0],this.volumes=[0,0],this.startedMonitoring=!1,this.startMonitoring=async(t,n=!1)=>{if(!this.startedMonitoring){this.startedMonitoring=!0;try{this.stream=await Zo.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!1},video:!1});try{this.context=new AudioContext;const r=this.context.createMediaStreamSource(this.stream),i=this.context.createAnalyser();i.fftSize=2048,i.minDecibels=-100,r.connect(i);const s=new J5;await s.init(this.context,i.fftSize),this.interval=setInterval(async()=>{const o=new Float32Array(i.fftSize);i.getFloatTimeDomainData(o);const a=await s.getFrequency(o),l=this.calculateVolume(o);this.frequencies=[a,a],this.volumes=[l,l],this.onUpdate(a,l)},this.context.sampleRate/i.fftSize),te.micMonitoringStarted.dispatch()}catch(r){Ns(r),console.error(r)}}catch(r){Ns(r,{level:"warning",extra:{message:"SimplifiedMic.startMonitoring"}}),console.warn(r)}}},this.getFrequencies=()=>this.frequencies,this.getVolumes=()=>this.volumes,this.clearFrequencies=t=>{},this.stopMonitoring=async()=>{var t,n;if(this.startedMonitoring){this.startedMonitoring=!1,this.interval&&clearInterval(this.interval),(t=this.stream)==null||t.getTracks().forEach(function(r){r.stop()});try{await((n=this.context)==null?void 0:n.close())}catch(r){console.log("MicInput.stoMonitoring error",r)}te.micMonitoringStopped.dispatch()}},this.getInputLag=()=>180,this.requestReadiness=()=>Promise.resolve(!0),this.getStatus=()=>"ok"}calculateVolume(t){let n,r=0;for(n=0;n<t.length;++n)r+=t[n]*t[n];return Math.sqrt(r/t.length)}}const Hi=new PW;class RW extends bo{constructor(){super(...arguments),this.peer=null,this.connection=null,this.unavailableIdRetries=0,this.unavailableIdRetryTimeout=null,this.connectToRoom=(t,n,r)=>{var i;this.connection=this.peer.connect(`allkaraoke-party-room-${t}`),this.connection.on("open",()=>{n()}),this.connection.on("close",()=>r("closed",null)),(i=this.connection)==null||i.on("data",s=>{console.log(s),this.onUpdate(s)})},this.isConnected=()=>{var t,n;return!!((t=this.connection)!=null&&t.open)&&!((n=this.peer)!=null&&n.disconnected)},this.close=()=>{var t;(t=this.connection)==null||t.close()}}connect(t,n,r,i,s){this.peer&&!this.peer.disconnected?this.connectToRoom(n,r,i):(this.peer=new b0(t,{...a3,debug:3}),this.peer.on("open",()=>{this.connectToRoom(n,r,i)}),this.peer.on("error",o=>{var a,l;o.type==="unavailable-id"&&this.unavailableIdRetries<3&&this.unavailableIdRetryTimeout===null?((l=(a=this.peer)==null?void 0:a.destroy)==null||l.call(a),this.unavailableIdRetryTimeout=setTimeout(()=>{this.unavailableIdRetryTimeout=null,this.unavailableIdRetries++,this.connect(t,n,r,i,s)},1750)):(this.unavailableIdRetries=0,console.error(o.type,o),i(o.type,o))}))}sendEvent(t){var n;(n=this.connection)==null||n.send(t)}}class MW extends bo{constructor(){super(...arguments),this.connection=null,this.roomId=null,this.isConnected=()=>{var t;return(((t=this.connection)==null?void 0:t.readyState)??1/0)<2},this.close=()=>{var t;(t=this.connection)==null||t.close()}}connect(t,n,r,i,s){this.roomId=n,this.connection=new WebSocket(p3),this.connection.binaryType="arraybuffer",this.connection.onopen=()=>{var o;(o=this.connection)==null||o.send(Ig({t:"register-player",id:t,roomId:n}))},this.connection.onmessage=o=>{const a=Fb(o.data);a.t==="forward"?this.onUpdate(a.payload):a.t==="connected"&&r()},this.connection.onclose=o=>{var l;let a="unknown";try{a=(l=JSON.parse(o.reason))==null?void 0:l.error}catch{console.info("could not parse close reason",o)}this.clearAllListeners(),i(a,o)},this.connection.onerror=o=>{this.clearAllListeners(),s("error",o)}}sendEvent(t){var n;(n=this.connection)==null||n.send(Ig({t:"forward",recipients:[this.roomId],payload:t}))}}const AC=(e,t)=>{if(e===0)return 0;const n=Math.pow(10,t);return Math.round(e*n)/n};let ep;const jW=new Uint8Array(16);function OW(){if(!ep&&(ep=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!ep))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ep(jW)}const qn=[];for(let e=0;e<256;++e)qn.push((e+256).toString(16).slice(1));function VW(e,t=0){return qn[e[t+0]]+qn[e[t+1]]+qn[e[t+2]]+qn[e[t+3]]+"-"+qn[e[t+4]]+qn[e[t+5]]+"-"+qn[e[t+6]]+qn[e[t+7]]+"-"+qn[e[t+8]]+qn[e[t+9]]+"-"+qn[e[t+10]]+qn[e[t+11]]+qn[e[t+12]]+qn[e[t+13]]+qn[e[t+14]]+qn[e[t+15]]}const LW=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),_C={randomUUID:LW};function Ug(e,t,n){if(_C.randomUUID&&!t&&!e)return _C.randomUUID();e=e||{};const r=e.random||(e.rng||OW)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(let i=0;i<16;++i)t[n+i]=r[i];return t}return VW(r)}const w1="MIC_CLIENT_ID";class NW{constructor(){this.clientId=Ve.getItem(w1),this.roomId=null,this.reconnecting=!1,this.connected=!1,this.frequencies=[],this.sendFrequencies=Mc(t=>{const n=this.frequencies.map(r=>AC(r,2));this.frequencies.length=0,this.sendEvent("freq",[n,AC(t,4)])},50),this.onFrequencyUpdate=Mc((t,n)=>{this.frequencies.push(t),this.sendFrequencies(n)},1e3/60),this.getClientId=()=>this.clientId,this.setClientId=t=>{this.clientId=t,Ve.setItem(w1,t)},this.connect=(t,n,r)=>{const i=t.toLowerCase();if(this.transport||(this.transport=i.startsWith("w")?new MW:new RW),this.clientId===null&&this.setClientId(Ug()),this.roomId=i,this.transport.isConnected()){console.log("not reconnecting",this.transport);return}this.reconnecting||te.karaokeConnectionStatusChange.dispatch("connecting"),this.transport.connect(this.clientId,this.roomId,()=>{this.connectToServer(i,n,r)},(s,o)=>{var a;if(s==="unavailable-id"){this.setClientId(Ug()),this.connect(i,n,r);return}console.log("closed connection :o",s,o),global.removeEventListener("beforeunload",this.disconnect),this.reconnecting?te.karaokeConnectionStatusChange.dispatch("reconnecting"):this.connected?te.karaokeConnectionStatusChange.dispatch("disconnected"):(te.karaokeConnectionStatusChange.dispatch("error",s),pn.capture("remote_mic_connection_error",{reason:s,transport:(a=this.roomId)==null?void 0:a.charAt(0)})),te.remoteMicPlayerSet.dispatch(null),te.remoteKeyboardLayout.dispatch(void 0),Hi.removeListener(this.onFrequencyUpdate),Hi.stopMonitoring(),!this.reconnecting&&this.connected&&(this.reconnecting=!0,setTimeout(()=>this.reconnect(i,n),1500)),this.connected=!1},console.warn)},this.latency=999,this.pingStart=Date.now(),this.pinging=!1,this.ping=()=>{this.pinging=!0,this.pingStart=Ic(),this.sendEvent("ping",{p:this.pingStart})},this.reportPing=Mc(t=>pn.capture("remote_mic_ping",{ping:t}),1e4),this.onPong=()=>{this.latency=Ic()-this.pingStart,this.pinging=!1,this.reportPing(this.latency),setTimeout(this.ping,1e3)},this.connectToServer=(t,n,r)=>{var i;this.connected=!0,this.reconnecting=!1,te.karaokeConnectionStatusChange.dispatch("connected"),pn.capture("remote_mic_connection_successful",{transport:(i=this.roomId)==null?void 0:i.charAt(0)}),this.sendEvent("register",{name:n,id:this.clientId,silent:r,lag:bj.get()}),this.ping(),global==null||global.addEventListener("beforeunload",this.disconnect),this.transport.addListener(s=>{var a,l;const o=s.t;o==="start-monitor"?(Hi.removeListener(this.onFrequencyUpdate),Hi.addListener(this.onFrequencyUpdate),Hi.startMonitoring(void 0,!0)):o==="stop-monitor"?(Hi.removeListener(this.onFrequencyUpdate),Hi.stopMonitoring()):o==="set-player-number"?te.remoteMicPlayerSet.dispatch(s.playerNumber):o==="keyboard-layout"?te.remoteKeyboardLayout.dispatch(s.help):o==="reload-mic"?(global.removeEventListener("beforeunload",this.disconnect),this.sendEvent("unregister"),Ve.session.setItem("reload-mic-request","1"),(a=document.getElementById("phone-ui-container"))==null||a.remove(),(l=global.location)==null||l.reload()):o==="request-readiness"?te.remoteReadinessRequested.dispatch():o==="pong"?this.onPong():o==="ping"?this.sendEvent("pong"):o==="set-permissions"?te.remoteMicPermissionsSet.dispatch(s.level):o==="remote-mics-list"?te.remoteMicListUpdated.dispatch(s.list):o==="style-change"&&te.remoteStyleChanged.dispatch(s.style)})},this.reconnect=(t,n)=>{this.reconnecting&&(te.karaokeConnectionStatusChange.dispatch("reconnecting"),this.connect(t,n,!1),setTimeout(()=>this.reconnect(t,n),2e3))},this.sendKeyStroke=t=>{this.sendEvent("keystroke",{key:t})},this.searchSong=t=>{this.sendEvent("search-song",{search:t})},this.requestPlayerChange=(t,n)=>{this.sendEvent("request-mic-select",{id:t,playerNumber:n})},this.confirmReadiness=()=>{this.sendEvent("confirm-readiness")},this.subscribe=t=>{this.sendEvent("subscribe-event",{channel:t})},this.unsubscribe=t=>{this.sendEvent("unsubscribe-event",{channel:t})},this.getSongList=()=>this.sendRequest({t:"request-songlist"},"songlist"),this.getGameInputLag=()=>this.sendRequest({t:"get-game-input-lag-request"},"get-game-input-lag-response"),this.setGameInputLag=t=>this.sendRequest({t:"set-game-input-lag-request",value:t},"get-game-input-lag-response"),this.getMicrophoneInputLag=()=>this.sendRequest({t:"get-microphone-lag-request"},"get-microphone-lag-response"),this.setMicrophoneInputLag=t=>this.sendRequest({t:"set-microphone-lag-request",value:t},"get-microphone-lag-response"),this.sendEvent=(t,n)=>{var r;(r=this.transport)!=null&&r.isConnected()?this.transport.sendEvent({t,...n}):console.debug("not connected, skipping",t,n)},this.sendRequest=({t,...n},r)=>new Promise((i,s)=>{var l;const o=setTimeout(()=>{var c;(c=this.transport)==null||c.removeListener(a),s(`${t} timed out waiting for ${r}`)},1e4),a=c=>{var u;c.t===r&&(clearTimeout(o),(u=this.transport)==null||u.removeListener(a),i(c))};(l=this.transport)==null||l.addListener(a),this.sendEvent(t,n)}),this.disconnect=()=>{var t;(t=this.transport)==null||t.close()}}}const gn=new NW,$W="/assets/2020-12-16_-_Christmas_Rock_-_www.FesliyanStudios.com_Steve_Oxen-DMCunqoI.ogg",DW="/assets/376817__original_sound__impact-cinematic-CwEVHJ3C.ogg",BW="/assets/421888__b-sean__retro-CErSO5v-.ogg",FW="/assets/459342__papaninkasettratat__cinematic-music-short-rn-rfKrG.ogg",zW="/assets/60013__qubodup__whoosh-CRSX-bwR.mp3",UW="/assets/Funk%20Cool%20Groove%20(No%20Copyright%20Music)%20By%20Anwar%20Amr-Chfv45i1.ogg",HW="/assets/menu_back-CXKu2j7w.mp3",qW="data:audio/mpeg;base64,SUQzBAAAAAAAIlRTU0UAAAAOAAADTGF2ZjYwLjMuMTAwAAAAAAAAAAAAAAD/+1QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABYaW5nAAAADwAAABMAAA04AEFBQUFBZWVlZWV/f39/f5GRkZGRkZqampqaoaGhoaGoqKioqLCwsLCwsLe3t7e3vr6+vr7FxcXFxc3Nzc3NzdTU1NTU29vb29vi4uLi4urq6urq6vHx8fHx+Pj4+Pj//////wAAAABMYXZjNjAuMy4AAAAAAAAAAAAAAAAkAuUAAAAAAAANOLGcZrL/+8REAAEA/ADLaAAACh+AGY0AAAFGhC0ZtYMAKP4GYzKwkAUAFJyXj/AAAB7QAAB4eHh4YYAOM////jh4eAAAAAIw8AlNybj/AAAB/AAADw8PDwxwAAGf///5h4eAAAAAIw9hSJuIlQJTskunEz5RFv1Y2byK7n/97llcFmmyCgoMFBQUFAoKCgoMFDX////qAoKChQUFESxJ2AfoAZiMJDhIyAqTJk81xxarn/97lWmgXEJCQoUJCChQUFBQSCgoKChQUv//6YKFAoKCgwUFBQUhBQU0WgEEAFZUiUdVZ7urwsAwAAAoTmeCxjBAdkrnZm5gCuz2BTRyEx8VJUhukDsoNVBjExsWZAsIvo6ZtcOZTJhAKFQlp6a7oGrhgQ1GypacseeN5GgM7LimCHZWKo200F2pFIbcrBxGTFxgYmAAQQh6wspcVlNfLCxvO2HAzIQgDZSzJWt9XFnYFf27////7/0ko32xTymMyqLclUq8QECiT3+7//+laf///9uMHyGvGu2u2so2EgAAAAADIAEGFguPUQDJhoMKHjtm/ExnBISAuP5tq7A0VjIBuAgFjyzu0ITEAhWvB/0sPUTU5MzMnhocNpDqll1v/GBSiOTAAAWq/agAGAMGDkG2YBxmZlUXgGO2D0YAgS4cGyYBIAoNAqIQNjBRA4BAFZgOABuLCYbR9W0P1ijMzWyHU3rL3T2m1K3RtqSLDrfcC31jHuH9r6RUOFIwt0G+T2Y9yNS/FrmLTOcX1qpRxdapf/+f4gPaOLN2fYACixdruAAAHzMDQmBJhGTdzmMADioJDwTNcGAFKgEmAwApvBgDS6/hLpkYzDFewH6hgRt+3pCrr5/3651XUGvoTGe1AAACh1ZV5WQADAgMzFkSzVCXT2T/+6Rk5IAFRzBLfm9kgFGDij/NsCRO4MEnXeeAIQ0NZLe68ATIzWYcjI0FQUTAYG4GARMBYUYAQQoAsBHktFznLy0sSlohrcySM0V97trfW6mUEZ4r3G0Su6apFIYlLPRjDC0HKnNGDPCbCtAP2eeEAA3ZmhL+AAAG5JEGTcHdpB80aHvkDv0YiAhA2mHHOna1doX/uZ6qnnDUzTgKUABohnh230QAAMbEBQnNCETYME2cNbMBjy7BqoGICdqx1SsFklW0zpKswQnCikdnsJ4tsbhp/ASpfR1JaY61CrDJgx/F3EWoNSoEVBqRvuTG5yhcItANgUThn9//+tgCHmIeH3wBoCkKCxgISgSstpAzImgHGYaQ6AVraQgJgaXZN2SAGyriKC3mDpVtvoo5FXA4mYiIj/aAABUhpCZgEAUnGtWKCEAZ/BEFQDhceXTMw8yUktRRlhhbRJYUkSpDzpdNaErxzPiWxVMqtHMxstZL1/1froSdU2dnUSBCnAUUTDiw2FdX+MCo0MrMuDAAAE84aw5jGXtZrP0+3AGAJVVUyjYENrIhERZuDyP8PUISzy7xH/4MlwUJsBBcI7GR4DyaWF6iCwni4hbZmGQWTQIi6L3h+abmhZzs1OZ7gOu0RcL/+4Rk6AAS+iLI+68a+C5DOV9rAxlLuHch7eXlYMgNZP2WFVzAmUIpCmxCchkYSLdCTM0X2sVgAjJ+gEAnQkJe1v9aZjJCCJfFH1YIagNfLtAJODmCQtYaPzBF//yVIIAAAUHjJAVCHeXwjlgBxVOjKgO1ddIsKHgBBT1MQU1FMy4xMDBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVAAABzCFdZkkAAAsCDOBkGYUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVQ0kMkxBTUUzLjEwMKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqoZVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+2Rk7wEStyFJ+08a+icCKR9h4ycGxGkp7CSn6HKE4u2GCJRVVVVVVVVVVVVVVVVVVVVVSUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVSUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjH/+yRk7Idw1QbEowxBAA1AyIgl4wMBUA0PBWMAIBUBolQUmAYwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk6g9wQAJDKU8ACARASJUEQAEAXAsOA4wgIAaAYgAQAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4w/wDwDEAMAACAAAD/AAAAEAGAMUAQAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4o/wBgDEgEAACAAAD/AAAAEADAMaAIAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4g/wAwDGACAACAAAD/AAAAEADAMWAIAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4g/wAwDFgCAACAAAD/AAAAEADAMUAIAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRE4Y/wAAB/gAAACAAAD/AAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRE4Y/wAAB/gAAACAAAD/AAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRE4Y/wAAB/gAAACAAAD/AAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4Y/wAAB/gAAACAAAD/AAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4Y/wAAB/gAAACAAAD/AAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4Y/wAAB/gAAACAAADSAAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4Y/wAAB/gAAACAAAD/AAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4Y/wAAB/gAAACAAAD/AAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4Y/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVU=",GW="/assets/menu_navigate-C6GUIZQM.mp3";class wo{constructor(t){this.options=t,this.sound=null,this.play=async(n=!0)=>{var r,i;try{if(n&&this.playing()){const s=(r=this.sound)==null?void 0:r.cloneNode(!0);await s.play(),s.remove()}else await((i=this.sound)==null?void 0:i.play())}catch(s){return console.warn(s)}},this.pause=()=>{var n;(n=this.sound)==null||n.pause()},this.stop=()=>{this.sound&&(this.sound.pause(),this.sound.currentTime=0)},this.playing=()=>{var n;return!((n=this.sound)!=null&&n.paused)},global.Audio&&(this.sound=new Audio(t.src),this.sound.preload=t.preload?"auto":"none",this.sound.volume=t.volume??1,this.sound.loop=t.loop??!1)}}const E0=new wo({src:GW}),wx=new wo({src:qW}),Ex=new wo({src:HW}),M3=new wo({src:DW,preload:!0}),kx=new wo({src:zW,preload:!0,volume:.5}),j3=new wo({src:UW,volume:.3,loop:!0}),O3=new wo({src:BW,volume:.4,loop:!0}),V3=new wo({src:$W,volume:.25,loop:!0}),Jp=new wo({src:FW,volume:.8}),WW=Object.freeze(Object.defineProperty({__proto__:null,backgroundMusic:j3,christmasBackgroundMusic:V3,classicBackgroundMusic:O3,menuBack:Ex,menuEnter:wx,menuNavigate:E0,waitFinished:M3,waitForReadinessMusic:Jp,woosh:kx},Symbol.toStringTag,{value:"Module"})),YW={RemoteMicClient:gn,RemoteMicServer:Dg,GameState:je,GameEvents:te,RemoteMicManager:Je,SongDao:$s,InputManager:sn,InputSourceManager:uo,CameraManager:Qi,UserMediaService:Zo,PlayersManager:Re,SoundManager:WW,importSongs:async()=>{await(await h0(()=>import("./importSongsFromPostHog-Dj6hPqGJ.js"),[])).default()}};global.__exposeSingletons=()=>{global.__singletons=YW};console.log("Run global.__exposeSingletons() and inspect global.__singletons for debugging");function Cx(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function KW(){this.__data__=new xo,this.size=0}function QW(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function JW(e){return this.__data__.get(e)}function XW(e){return this.__data__.has(e)}var ZW=200;function eY(e,t){var n=this.__data__;if(n instanceof xo){var r=n.__data__;if(!df||r.length<ZW-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new So(r)}return n.set(e,t),this.size=n.size,this}function js(e){var t=this.__data__=new xo(e);this.size=t.size}js.prototype.clear=KW;js.prototype.delete=QW;js.prototype.get=JW;js.prototype.has=XW;js.prototype.set=eY;function tY(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var Hg=function(){try{var e=Tl(Object,"defineProperty");return e({},"",{}),e}catch{}}();function L3(e,t,n){t=="__proto__"&&Hg?Hg(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var nY=Object.prototype,rY=nY.hasOwnProperty;function N3(e,t,n){var r=e[t];(!(rY.call(e,t)&&g0(r,n))||n===void 0&&!(t in e))&&L3(e,t,n)}function oh(e,t,n,r){var i=!n;n||(n={});for(var s=-1,o=t.length;++s<o;){var a=t[s],l=r?r(n[a],e[a],a,n,e):void 0;l===void 0&&(l=e[a]),i?L3(n,a,l):N3(n,a,l)}return n}function iY(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var sY="[object Arguments]";function bC(e){return lo(e)&&kl(e)==sY}var $3=Object.prototype,oY=$3.hasOwnProperty,aY=$3.propertyIsEnumerable,Tx=bC(function(){return arguments}())?bC:function(e){return lo(e)&&oY.call(e,"callee")&&!aY.call(e,"callee")},Ci=Array.isArray;function lY(){return!1}var D3=typeof exports=="object"&&exports&&!exports.nodeType&&exports,xC=D3&&typeof module=="object"&&module&&!module.nodeType&&module,cY=xC&&xC.exports===D3,SC=cY?us.Buffer:void 0,uY=SC?SC.isBuffer:void 0,qg=uY||lY,dY="[object Arguments]",fY="[object Array]",hY="[object Boolean]",pY="[object Date]",gY="[object Error]",mY="[object Function]",vY="[object Map]",yY="[object Number]",AY="[object Object]",_Y="[object RegExp]",bY="[object Set]",xY="[object String]",SY="[object WeakMap]",wY="[object ArrayBuffer]",EY="[object DataView]",kY="[object Float32Array]",CY="[object Float64Array]",TY="[object Int8Array]",IY="[object Int16Array]",PY="[object Int32Array]",RY="[object Uint8Array]",MY="[object Uint8ClampedArray]",jY="[object Uint16Array]",OY="[object Uint32Array]",Rt={};Rt[kY]=Rt[CY]=Rt[TY]=Rt[IY]=Rt[PY]=Rt[RY]=Rt[MY]=Rt[jY]=Rt[OY]=!0;Rt[dY]=Rt[fY]=Rt[wY]=Rt[hY]=Rt[EY]=Rt[pY]=Rt[gY]=Rt[mY]=Rt[vY]=Rt[yY]=Rt[AY]=Rt[_Y]=Rt[bY]=Rt[xY]=Rt[SY]=!1;function VY(e){return lo(e)&&_x(e.length)&&!!Rt[kl(e)]}function Ix(e){return function(t){return e(t)}}var B3=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Ld=B3&&typeof module=="object"&&module&&!module.nodeType&&module,LY=Ld&&Ld.exports===B3,uy=LY&&Z5.process,eu=function(){try{var e=Ld&&Ld.require&&Ld.require("util").types;return e||uy&&uy.binding&&uy.binding("util")}catch{}}(),wC=eu&&eu.isTypedArray,F3=wC?Ix(wC):VY,NY=Object.prototype,$Y=NY.hasOwnProperty;function z3(e,t){var n=Ci(e),r=!n&&Tx(e),i=!n&&!r&&qg(e),s=!n&&!r&&!i&&F3(e),o=n||r||i||s,a=o?iY(e.length,String):[],l=a.length;for(var c in e)(t||$Y.call(e,c))&&!(o&&(c=="length"||i&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||xx(c,l)))&&a.push(c);return a}var DY=Object.prototype;function Px(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||DY;return e===n}function U3(e,t){return function(n){return e(t(n))}}var BY=U3(Object.keys,Object),FY=Object.prototype,zY=FY.hasOwnProperty;function UY(e){if(!Px(e))return BY(e);var t=[];for(var n in Object(e))zY.call(e,n)&&n!="constructor"&&t.push(n);return t}function ah(e){return bx(e)?z3(e):UY(e)}function HY(e,t){return e&&oh(t,ah(t),e)}function qY(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var GY=Object.prototype,WY=GY.hasOwnProperty;function YY(e){if(!as(e))return qY(e);var t=Px(e),n=[];for(var r in e)r=="constructor"&&(t||!WY.call(e,r))||n.push(r);return n}function Rx(e){return bx(e)?z3(e,!0):YY(e)}function KY(e,t){return e&&oh(t,Rx(t),e)}var H3=typeof exports=="object"&&exports&&!exports.nodeType&&exports,EC=H3&&typeof module=="object"&&module&&!module.nodeType&&module,QY=EC&&EC.exports===H3,kC=QY?us.Buffer:void 0,CC=kC?kC.allocUnsafe:void 0;function JY(e,t){if(t)return e.slice();var n=e.length,r=CC?CC(n):new e.constructor(n);return e.copy(r),r}function q3(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}function XY(e,t){for(var n=-1,r=e==null?0:e.length,i=0,s=[];++n<r;){var o=e[n];t(o,n,e)&&(s[i++]=o)}return s}function G3(){return[]}var ZY=Object.prototype,eK=ZY.propertyIsEnumerable,TC=Object.getOwnPropertySymbols,Mx=TC?function(e){return e==null?[]:(e=Object(e),XY(TC(e),function(t){return eK.call(e,t)}))}:G3;function tK(e,t){return oh(e,Mx(e),t)}function jx(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var nK=U3(Object.getPrototypeOf,Object);const Ox=nK;var rK=Object.getOwnPropertySymbols,W3=rK?function(e){for(var t=[];e;)jx(t,Mx(e)),e=Ox(e);return t}:G3;function iK(e,t){return oh(e,W3(e),t)}function Y3(e,t,n){var r=t(e);return Ci(e)?r:jx(r,n(e))}function E1(e){return Y3(e,ah,Mx)}function K3(e){return Y3(e,Rx,W3)}var k1=Tl(us,"DataView"),C1=Tl(us,"Promise"),jc=Tl(us,"Set"),T1=Tl(us,"WeakMap"),IC="[object Map]",sK="[object Object]",PC="[object Promise]",RC="[object Set]",MC="[object WeakMap]",jC="[object DataView]",oK=Cl(k1),aK=Cl(df),lK=Cl(C1),cK=Cl(jc),uK=Cl(T1),Ma=kl;(k1&&Ma(new k1(new ArrayBuffer(1)))!=jC||df&&Ma(new df)!=IC||C1&&Ma(C1.resolve())!=PC||jc&&Ma(new jc)!=RC||T1&&Ma(new T1)!=MC)&&(Ma=function(e){var t=kl(e),n=t==sK?e.constructor:void 0,r=n?Cl(n):"";if(r)switch(r){case oK:return jC;case aK:return IC;case lK:return PC;case cK:return RC;case uK:return MC}return t});const pf=Ma;var dK=Object.prototype,fK=dK.hasOwnProperty;function hK(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&fK.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var Gg=us.Uint8Array;function Vx(e){var t=new e.constructor(e.byteLength);return new Gg(t).set(new Gg(e)),t}function pK(e,t){var n=t?Vx(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var gK=/\w*$/;function mK(e){var t=new e.constructor(e.source,gK.exec(e));return t.lastIndex=e.lastIndex,t}var OC=ki?ki.prototype:void 0,VC=OC?OC.valueOf:void 0;function vK(e){return VC?Object(VC.call(e)):{}}function yK(e,t){var n=t?Vx(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var AK="[object Boolean]",_K="[object Date]",bK="[object Map]",xK="[object Number]",SK="[object RegExp]",wK="[object Set]",EK="[object String]",kK="[object Symbol]",CK="[object ArrayBuffer]",TK="[object DataView]",IK="[object Float32Array]",PK="[object Float64Array]",RK="[object Int8Array]",MK="[object Int16Array]",jK="[object Int32Array]",OK="[object Uint8Array]",VK="[object Uint8ClampedArray]",LK="[object Uint16Array]",NK="[object Uint32Array]";function $K(e,t,n){var r=e.constructor;switch(t){case CK:return Vx(e);case AK:case _K:return new r(+e);case TK:return pK(e,n);case IK:case PK:case RK:case MK:case jK:case OK:case VK:case LK:case NK:return yK(e,n);case bK:return new r;case xK:case EK:return new r(e);case SK:return mK(e);case wK:return new r;case kK:return vK(e)}}var LC=Object.create,DK=function(){function e(){}return function(t){if(!as(t))return{};if(LC)return LC(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function BK(e){return typeof e.constructor=="function"&&!Px(e)?DK(Ox(e)):{}}var FK="[object Map]";function zK(e){return lo(e)&&pf(e)==FK}var NC=eu&&eu.isMap,UK=NC?Ix(NC):zK,HK="[object Set]";function qK(e){return lo(e)&&pf(e)==HK}var $C=eu&&eu.isSet,GK=$C?Ix($C):qK,WK=1,YK=2,KK=4,Q3="[object Arguments]",QK="[object Array]",JK="[object Boolean]",XK="[object Date]",ZK="[object Error]",J3="[object Function]",eQ="[object GeneratorFunction]",tQ="[object Map]",nQ="[object Number]",X3="[object Object]",rQ="[object RegExp]",iQ="[object Set]",sQ="[object String]",oQ="[object Symbol]",aQ="[object WeakMap]",lQ="[object ArrayBuffer]",cQ="[object DataView]",uQ="[object Float32Array]",dQ="[object Float64Array]",fQ="[object Int8Array]",hQ="[object Int16Array]",pQ="[object Int32Array]",gQ="[object Uint8Array]",mQ="[object Uint8ClampedArray]",vQ="[object Uint16Array]",yQ="[object Uint32Array]",kt={};kt[Q3]=kt[QK]=kt[lQ]=kt[cQ]=kt[JK]=kt[XK]=kt[uQ]=kt[dQ]=kt[fQ]=kt[hQ]=kt[pQ]=kt[tQ]=kt[nQ]=kt[X3]=kt[rQ]=kt[iQ]=kt[sQ]=kt[oQ]=kt[gQ]=kt[mQ]=kt[vQ]=kt[yQ]=!0;kt[ZK]=kt[J3]=kt[aQ]=!1;function Xp(e,t,n,r,i,s){var o,a=t&WK,l=t&YK,c=t&KK;if(n&&(o=i?n(e,r,i,s):n(e)),o!==void 0)return o;if(!as(e))return e;var u=Ci(e);if(u){if(o=hK(e),!a)return q3(e,o)}else{var d=pf(e),h=d==J3||d==eQ;if(qg(e))return JY(e,a);if(d==X3||d==Q3||h&&!i){if(o=l||h?{}:BK(e),!a)return l?iK(e,KY(o,e)):tK(e,HY(o,e))}else{if(!kt[d])return i?e:{};o=$K(e,d,a)}}s||(s=new js);var p=s.get(e);if(p)return p;s.set(e,o),GK(e)?e.forEach(function(A){o.add(Xp(A,t,n,A,e,s))}):UK(e)&&e.forEach(function(A,v){o.set(v,Xp(A,t,n,v,e,s))});var g=c?l?K3:E1:l?Rx:ah,m=u?void 0:g(e);return tY(m||e,function(A,v){m&&(v=A,A=e[v]),N3(o,v,Xp(A,t,n,v,e,s))}),o}var AQ=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,_Q=/^\w*$/;function Lx(e,t){if(Ci(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||p0(e)?!0:_Q.test(e)||!AQ.test(e)||t!=null&&e in Object(t)}var bQ=500;function xQ(e){var t=y0(e,function(r){return n.size===bQ&&n.clear(),r}),n=t.cache;return t}var SQ=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,wQ=/\\(\\)?/g,EQ=xQ(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(SQ,function(n,r,i,s){t.push(i?s.replace(wQ,"$1"):r||n)}),t}),kQ=1/0,DC=ki?ki.prototype:void 0,BC=DC?DC.toString:void 0;function Z3(e){if(typeof e=="string")return e;if(Ci(e))return Cx(e,Z3)+"";if(p0(e))return BC?BC.call(e):"";var t=e+"";return t=="0"&&1/e==-kQ?"-0":t}function Nx(e){return e==null?"":Z3(e)}function k0(e,t){return Ci(e)?e:Lx(e,t)?[e]:EQ(Nx(e))}function CQ(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var TQ=1/0;function lh(e){if(typeof e=="string"||p0(e))return e;var t=e+"";return t=="0"&&1/e==-TQ?"-0":t}function $x(e,t){t=k0(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[lh(t[n++])];return n&&n==r?e:void 0}function Dx(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var s=Array(i);++r<i;)s[r]=e[r+t];return s}function IQ(e,t){return t.length<2?e:$x(e,Dx(t,0,-1))}function PQ(e,t){return t=k0(t,e),e=IQ(e,t),e==null||delete e[lh(CQ(t))]}var RQ="[object Object]",MQ=Function.prototype,jQ=Object.prototype,eO=MQ.toString,OQ=jQ.hasOwnProperty,VQ=eO.call(Object);function LQ(e){if(!lo(e)||kl(e)!=RQ)return!1;var t=Ox(e);if(t===null)return!0;var n=OQ.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&eO.call(n)==VQ}function NQ(e){return LQ(e)?void 0:e}var FC=ki?ki.isConcatSpreadable:void 0;function $Q(e){return Ci(e)||Tx(e)||!!(FC&&e&&e[FC])}function tO(e,t,n,r,i){var s=-1,o=e.length;for(n||(n=$Q),i||(i=[]);++s<o;){var a=e[s];t>0&&n(a)?t>1?tO(a,t-1,n,r,i):jx(i,a):r||(i[i.length]=a)}return i}function DQ(e){var t=e==null?0:e.length;return t?tO(e,1):[]}function BQ(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var zC=Math.max;function FQ(e,t,n){return t=zC(t===void 0?e.length-1:t,0),function(){for(var r=arguments,i=-1,s=zC(r.length-t,0),o=Array(s);++i<s;)o[i]=r[t+i];i=-1;for(var a=Array(t+1);++i<t;)a[i]=r[i];return a[t]=n(o),BQ(e,this,a)}}function zQ(e){return function(){return e}}function nO(e){return e}var UQ=Hg?function(e,t){return Hg(e,"toString",{configurable:!0,enumerable:!1,value:zQ(t),writable:!0})}:nO;const HQ=UQ;var qQ=800,GQ=16,WQ=Date.now;function YQ(e){var t=0,n=0;return function(){var r=WQ(),i=GQ-(r-n);if(n=r,i>0){if(++t>=qQ)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var KQ=YQ(HQ);function QQ(e){return KQ(FQ(e,void 0,DQ),e+"")}var JQ=1,XQ=2,ZQ=4,eJ=QQ(function(e,t){var n={};if(e==null)return n;var r=!1;t=Cx(t,function(s){return s=k0(s,e),r||(r=s.length>1),s}),oh(e,K3(e),n),r&&(n=Xp(n,JQ|XQ|ZQ,NQ));for(var i=t.length;i--;)PQ(n,t[i]);return n});function Ds(e,t=!1){const[n,r]=_.useState(null);return _.useEffect(()=>{const i=(...s)=>{r(s)};return e.subscribe(i,t),()=>e.unsubscribe(i)},[e]),n}function Jr(e,t){const n=Array.isArray(e)?e:[e];_.useEffect(()=>(n.forEach(r=>r.subscribe(t)),()=>n.forEach(r=>r.unsubscribe(t))),[...n,t])}function Ti(e,t,n=[]){const r=_.useMemo(t,[]),[i,s]=_.useState(r),o=Array.isArray(e)?e:[e];return _.useEffect(()=>{s(t())},n),_.useEffect(()=>{const a=()=>s(t());return o.forEach(l=>l.subscribe(a)),()=>o.forEach(l=>l.unsubscribe(a))},[...o]),i}var tJ=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,nJ=KR(function(e){return tJ.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),rJ=nJ,iJ=function(t){return t!=="theme"},UC=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?rJ:iJ},HC=function(t,n,r){var i;if(n){var s=n.shouldForwardProp;i=t.__emotion_forwardProp&&s?function(o){return t.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=t.__emotion_forwardProp),i},sJ=function(t){var n=t.cache,r=t.serialized,i=t.isStringTag;return tM(n,r,i),yB(function(){return nM(n,r,i)}),null},C=function e(t,n){var r=t.__emotion_real===t,i=r&&t.__emotion_base||t,s,o;n!==void 0&&(s=n.label,o=n.target);var a=HC(t,n,r),l=a||UC(i),c=!l("as");return function(){var u=arguments,d=r&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(s!==void 0&&d.push("label:"+s+";"),u[0]==null||u[0].raw===void 0)d.push.apply(d,u);else{d.push(u[0][0]);for(var h=u.length,p=1;p<h;p++)d.push(u[p],u[0][p])}var g=aM(function(m,A,v){var y=c&&m.as||i,b="",S=[],x=m;if(m.theme==null){x={};for(var w in m)x[w]=m[w];x.theme=_.useContext(Yf)}typeof m.className=="string"?b=dB(A.registered,S,m.className):m.className!=null&&(b=m.className+" ");var E=Sb(d.concat(S),A.registered,x);b+=A.key+"-"+E.name,o!==void 0&&(b+=" "+o);var T=c&&a===void 0?UC(y):l,L={};for(var O in m)c&&O==="as"||T(O)&&(L[O]=m[O]);return L.className=b,L.ref=v,_.createElement(_.Fragment,null,_.createElement(sJ,{cache:A,serialized:E,isStringTag:typeof y=="string"}),_.createElement(y,L))});return g.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",g.defaultProps=t.defaultProps,g.__emotion_real=g,g.__emotion_base=i,g.__emotion_styles=d,g.__emotion_forwardProp=a,Object.defineProperty(g,"toString",{value:function(){return"."+o}}),g.withComponent=function(m,A){return e(m,oe({},n,A,{shouldForwardProp:HC(g,A,!0)})).apply(void 0,d)},g}};const Bx=e=>Ot(!!e.focused&&fo,";:hover{",fo,";}",""),rO=Ot("box-shadow:inset 0px 0px 0px 4px ",he.colors.text.active,";",""),oJ=_o`
  100% {
    box-shadow: inset 0px 0px 0px 2px ${he.colors.text.active};
  }
  50% {
    ${rO};
  }
  0% {
    box-shadow: inset 0px 0px 0px 2px ${he.colors.text.active};
  }
`,fo=Ot("animation:",oJ," 1000ms ease-in-out infinite both;",""),Ne={name:"uo792j",styles:"font-weight:bold;-webkit-text-stroke:thin black;color:white"},tu="@media (hover: none)",aJ="@media (hover: hover)",C0="  @media (max-height: 500px) and (min-aspect-ratio: 16/10)";var dy=typeof navigator<"u"?navigator.userAgent.toLowerCase().indexOf("firefox")>0:!1;function fy(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r):e.attachEvent&&e.attachEvent("on".concat(t),function(){n(window.event)})}function iO(e,t){for(var n=t.slice(0,t.length-1),r=0;r<n.length;r++)n[r]=e[n[r].toLowerCase()];return n}function sO(e){typeof e!="string"&&(e=""),e=e.replace(/\s/g,"");for(var t=e.split(","),n=t.lastIndexOf("");n>=0;)t[n-1]+=",",t.splice(n,1),n=t.lastIndexOf("");return t}function lJ(e,t){for(var n=e.length>=t.length?e:t,r=e.length>=t.length?t:e,i=!0,s=0;s<n.length;s++)r.indexOf(n[s])===-1&&(i=!1);return i}var Fx={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,num_0:96,num_1:97,num_2:98,num_3:99,num_4:100,num_5:101,num_6:102,num_7:103,num_8:104,num_9:105,num_multiply:106,num_add:107,num_enter:108,num_subtract:109,num_decimal:110,num_divide:111,"⇪":20,",":188,".":190,"/":191,"`":192,"-":dy?173:189,"=":dy?61:187,";":dy?59:186,"'":222,"[":219,"]":221,"\\":220},ca={"⇧":16,shift:16,"⌥":18,alt:18,option:18,"⌃":17,ctrl:17,control:17,"⌘":91,cmd:91,command:91},I1={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},Yn={16:!1,18:!1,17:!1,91:!1},xn={};for(var tp=1;tp<20;tp++)Fx["f".concat(tp)]=111+tp;var Ft=[],qC=!1,oO="all",aO=[],T0=function(t){return Fx[t.toLowerCase()]||ca[t.toLowerCase()]||t.toUpperCase().charCodeAt(0)};function lO(e){oO=e||"all"}function gf(){return oO||"all"}function cJ(){return Ft.slice(0)}function uJ(e){var t=e.target||e.srcElement,n=t.tagName,r=!0;return(t.isContentEditable||(n==="INPUT"||n==="TEXTAREA"||n==="SELECT")&&!t.readOnly)&&(r=!1),r}function dJ(e){return typeof e=="string"&&(e=T0(e)),Ft.indexOf(e)!==-1}function fJ(e,t){var n,r;e||(e=gf());for(var i in xn)if(Object.prototype.hasOwnProperty.call(xn,i))for(n=xn[i],r=0;r<n.length;)n[r].scope===e?n.splice(r,1):r++;gf()===e&&lO(t||"all")}function hJ(e){var t=e.keyCode||e.which||e.charCode,n=Ft.indexOf(t);if(n>=0&&Ft.splice(n,1),e.key&&e.key.toLowerCase()==="meta"&&Ft.splice(0,Ft.length),(t===93||t===224)&&(t=91),t in Yn){Yn[t]=!1;for(var r in ca)ca[r]===t&&(Gr[r]=!1)}}function pJ(e){if(typeof e>"u")Object.keys(xn).forEach(function(o){return delete xn[o]});else if(Array.isArray(e))e.forEach(function(o){o.key&&hy(o)});else if(typeof e=="object")e.key&&hy(e);else if(typeof e=="string"){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n[0],s=n[1];typeof i=="function"&&(s=i,i=""),hy({key:e,scope:i,method:s,splitKey:"+"})}}var hy=function(t){var n=t.key,r=t.scope,i=t.method,s=t.splitKey,o=s===void 0?"+":s,a=sO(n);a.forEach(function(l){var c=l.split(o),u=c.length,d=c[u-1],h=d==="*"?"*":T0(d);if(xn[h]){r||(r=gf());var p=u>1?iO(ca,c):[];xn[h]=xn[h].filter(function(g){var m=i?g.method===i:!0;return!(m&&g.scope===r&&lJ(g.mods,p))})}})};function GC(e,t,n,r){if(t.element===r){var i;if(t.scope===n||t.scope==="all"){i=t.mods.length>0;for(var s in Yn)Object.prototype.hasOwnProperty.call(Yn,s)&&(!Yn[s]&&t.mods.indexOf(+s)>-1||Yn[s]&&t.mods.indexOf(+s)===-1)&&(i=!1);(t.mods.length===0&&!Yn[16]&&!Yn[18]&&!Yn[17]&&!Yn[91]||i||t.shortcut==="*")&&t.method(e,t)===!1&&(e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.cancelBubble&&(e.cancelBubble=!0))}}}function WC(e,t){var n=xn["*"],r=e.keyCode||e.which||e.charCode;if(Gr.filter.call(this,e)){if((r===93||r===224)&&(r=91),Ft.indexOf(r)===-1&&r!==229&&Ft.push(r),["ctrlKey","altKey","shiftKey","metaKey"].forEach(function(g){var m=I1[g];e[g]&&Ft.indexOf(m)===-1?Ft.push(m):!e[g]&&Ft.indexOf(m)>-1?Ft.splice(Ft.indexOf(m),1):g==="metaKey"&&e[g]&&Ft.length===3&&(e.ctrlKey||e.shiftKey||e.altKey||(Ft=Ft.slice(Ft.indexOf(m))))}),r in Yn){Yn[r]=!0;for(var i in ca)ca[i]===r&&(Gr[i]=!0);if(!n)return}for(var s in Yn)Object.prototype.hasOwnProperty.call(Yn,s)&&(Yn[s]=e[I1[s]]);e.getModifierState&&!(e.altKey&&!e.ctrlKey)&&e.getModifierState("AltGraph")&&(Ft.indexOf(17)===-1&&Ft.push(17),Ft.indexOf(18)===-1&&Ft.push(18),Yn[17]=!0,Yn[18]=!0);var o=gf();if(n)for(var a=0;a<n.length;a++)n[a].scope===o&&(e.type==="keydown"&&n[a].keydown||e.type==="keyup"&&n[a].keyup)&&GC(e,n[a],o,t);if(r in xn){for(var l=0;l<xn[r].length;l++)if((e.type==="keydown"&&xn[r][l].keydown||e.type==="keyup"&&xn[r][l].keyup)&&xn[r][l].key){for(var c=xn[r][l],u=c.splitKey,d=c.key.split(u),h=[],p=0;p<d.length;p++)h.push(T0(d[p]));h.sort().join("")===Ft.sort().join("")&&GC(e,c,o,t)}}}}function gJ(e){return aO.indexOf(e)>-1}function Gr(e,t,n){Ft=[];var r=sO(e),i=[],s="all",o=document,a=0,l=!1,c=!0,u="+",d=!1;for(n===void 0&&typeof t=="function"&&(n=t),Object.prototype.toString.call(t)==="[object Object]"&&(t.scope&&(s=t.scope),t.element&&(o=t.element),t.keyup&&(l=t.keyup),t.keydown!==void 0&&(c=t.keydown),t.capture!==void 0&&(d=t.capture),typeof t.splitKey=="string"&&(u=t.splitKey)),typeof t=="string"&&(s=t);a<r.length;a++)e=r[a].split(u),i=[],e.length>1&&(i=iO(ca,e)),e=e[e.length-1],e=e==="*"?"*":T0(e),e in xn||(xn[e]=[]),xn[e].push({keyup:l,keydown:c,scope:s,mods:i,shortcut:r[a],method:n,key:r[a],splitKey:u,element:o});typeof o<"u"&&!gJ(o)&&window&&(aO.push(o),fy(o,"keydown",function(h){WC(h,o)},d),qC||(qC=!0,fy(window,"focus",function(){Ft=[]},d)),fy(o,"keyup",function(h){WC(h,o),hJ(h)},d))}function mJ(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"all";Object.keys(xn).forEach(function(n){var r=xn[n].find(function(i){return i.scope===t&&i.shortcut===e});r&&r.method&&r.method()})}var py={setScope:lO,getScope:gf,deleteScope:fJ,getPressedKeyCodes:cJ,isPressed:dJ,filter:uJ,trigger:mJ,unbind:pJ,keyMap:Fx,modifier:ca,modifierMap:I1};for(var gy in py)Object.prototype.hasOwnProperty.call(py,gy)&&(Gr[gy]=py[gy]);if(typeof window<"u"){var vJ=window.hotkeys;Gr.noConflict=function(e){return e&&window.hotkeys===Gr&&(window.hotkeys=vJ),Gr},window.hotkeys=Gr}Gr.filter=function(){return!0};var cO=function(t,n){var r=t.target,i=r&&r.tagName;return!!(i&&n&&n.includes(i))},yJ=function(t){return cO(t,["INPUT","TEXTAREA","SELECT"])};function wr(e,t,n,r){n instanceof Array&&(r=n,n=void 0);var i=n||{},s=i.enableOnTags,o=i.filter,a=i.keyup,l=i.keydown,c=i.filterPreventDefault,u=c===void 0?!0:c,d=i.enabled,h=d===void 0?!0:d,p=i.enableOnContentEditable,g=p===void 0?!1:p,m=_.useRef(null),A=_.useCallback(function(v,y){var b,S;return o&&!o(v)?!u:yJ(v)&&!cO(v,s)||(b=v.target)!=null&&b.isContentEditable&&!g?!0:m.current===null||document.activeElement===m.current||(S=m.current)!=null&&S.contains(document.activeElement)?(t(v,y),!0):!1},r?[m,s,o].concat(r):[m,s,o]);return _.useEffect(function(){if(!h){Gr.unbind(e,A);return}return a&&l!==!0&&(n.keydown=!1),Gr(e,n||{},A),function(){return Gr.unbind(e,A)}},[A,e,h]),m}Gr.isPressed;const P1="a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,r,s,t,u,w,x,y,z,1,2,3,4,5,6,7,8,9,0";var CR,Op,TR;try{(TR=(Op=(CR=global==null?void 0:global.navigator)==null?void 0:CR.keyboard)==null?void 0:Op.lock)==null||TR.call(Op,["Escape"])}catch(e){console.warn(e)}var IR,PR;const AJ=!!((PR=(IR=global==null?void 0:global.navigator)==null?void 0:IR.keyboard)!=null&&PR.lock),Ca=e=>t=>{e&&(t.preventDefault(),t.stopPropagation(),e(t))};function Il(e,t=!0,n){Jr(te.remoteKeyboardPressed,r=>{var i;t&&r in e&&((i=e[r])==null||i.call(e))}),wr("up",Ca(e.up),{enabled:t&&!!(e!=null&&e.up)},n),wr("down",Ca(e.down),{enabled:t&&!!(e!=null&&e.down)},n),wr("left",Ca(e.left),{enabled:t&&!!(e!=null&&e.left)},n),wr("right",Ca(e.right),{enabled:t&&!!(e!=null&&e.right)},n),wr("Enter",Ca(e.accept),{enabled:t&&!!(e!=null&&e.accept)},n),wr("Escape,Backspace",Ca(e.back),{enabled:t&&!!(e!=null&&e.back)},n),wr("Shift+R",Ca(e.random),{enabled:t&&!!(e!=null&&e.random)},n)}function _J({help:e}){const[t]=$e(Zn),[n,r]=$e(_j);wr("shift+h",()=>r(!n),void 0,[n]);const i=Object.entries(e??{}).filter(([,s])=>s!==void 0);return t?null:f.jsx(f.Fragment,{children:f.jsx(TJ,{"data-test":"help-container",onClick:()=>r(!n),visible:!!i.length&&n,children:n&&f.jsxs(f.Fragment,{children:[f.jsx(dO,{children:"Use indicated keys on your keyboard"}),i.map(([s,o])=>{const{view:a,defaultLabel:l}=CJ[s];return f.jsxs(YC,{children:[f.jsx(QC,{children:o??l}),f.jsx(KC,{children:f.jsx(a,{})})]},s)}),f.jsxs(YC,{children:[f.jsx(QC,{children:"Show/hide this help"}),f.jsx(KC,{children:uO("h")()})]})]})})})}const zx=({vertical:e=!1,horizontal:t=!1})=>f.jsxs(f.Fragment,{children:[f.jsx(Ts,{disabled:!e,children:"↑"}),f.jsx("br",{}),f.jsx(Ts,{disabled:!t,children:"←"}),f.jsx(Ts,{disabled:!e,children:"↓"}),f.jsx(Ts,{disabled:!t,children:"→"})]}),bJ=()=>f.jsx(zx,{horizontal:!0}),xJ=()=>f.jsx(zx,{vertical:!0}),SJ=()=>f.jsx(zx,{vertical:!0,horizontal:!0}),wJ=()=>f.jsx(Ts,{children:"Enter ⏎"}),EJ=()=>AJ?f.jsx(Ts,{children:"Escape"}):f.jsx(Ts,{children:"Backspace ⌫"}),uO=e=>()=>f.jsxs(f.Fragment,{children:[f.jsx(Ts,{children:"Shift"})," + ",f.jsx(Ts,{children:e.toUpperCase()})]}),kJ=()=>f.jsx(f.Fragment,{children:f.jsx(Ts,{children:"start typing"})}),CJ={"horizontal-vertical":{view:SJ,defaultLabel:"Navigate"},horizontal:{view:bJ,defaultLabel:"Navigate"},vertical:{view:xJ,defaultLabel:"Navigate"},accept:{view:wJ,defaultLabel:"Select"},back:{view:EJ,defaultLabel:"Go back"},shiftR:{view:uO("r"),defaultLabel:"Pick random"},alphanumeric:{view:kJ,defaultLabel:"Search"}},YC=C("div",{target:"efq3fs05"})({name:"1m596lt",styles:"display:flex;flex-direction:row;align-items:center;gap:1rem"}),KC=C("div",{target:"efq3fs04"})({name:"w84kwe",styles:"flex-wrap:nowrap;text-align:center;flex:2;color:white;font-weight:bold"}),QC=C("span",{target:"efq3fs03"})("flex:3;",Ne,";font-size:2rem;text-align:right;"),dO=C("div",{target:"efq3fs02"})("position:absolute;inset:0 0 0 0;background:rgba(0, 0, 0, 0.75);",Ne,";font-size:2rem;padding:2rem;display:flex;align-items:center;justify-content:center;text-align:center;opacity:0;transition:300ms;visibility:hidden;"),TJ=C("div",{target:"efq3fs01"})("position:fixed;top:5rem;right:0;padding:0.5rem;background:rgba(0, 0, 0, 0.5);display:flex;flex-direction:column;gap:1rem;width:34rem;visibility:",e=>e.visible?"visible":"hidden",";cursor:pointer;transform:scale(0.75);z-index:1000;@media (max-width: 560px){display:none;}view-transition-name:help-view;:hover{",dO,"{opacity:1;visibility:visible;}}svg{fill:white;}"),Ts=C("kbd",{target:"efq3fs00"})("margin:0.2rem;padding:0.12rem 0.9rem;border-radius:0.3rem;border:0.1rem solid rgb(204, 204, 204);color:rgb(51, 51, 51);line-height:1.4;font-size:1.6rem;display:inline-block;box-shadow:0 0.1rem 0 rgba(0, 0, 0, 0.2),inset 0 0 0 0.2rem #ffffff;background-color:rgb(247, 247, 247);text-shadow:0 0.1rem 0 #fff;font-weight:normal;opacity:",e=>e.disabled?.25:1,";"),Ux=_.createContext({setKeyboard:(e,t)=>{},unsetKeyboard:e=>{},hasContent:!1}),IJ=({children:e})=>{const[t,n]=_.useState({}),r=(u,d)=>{n(h=>({...h,[u]:d}))},i=u=>n(d=>eJ(d,[u])),[s,o]=Object.entries(t).at(-1)??[];Jr(te.remoteMicConnected,({id:u})=>{var d;(d=Je.getRemoteMicById(u))==null||d.connection.send({t:"keyboard-layout",help:o})}),_.useEffect(()=>{Je.broadcast({t:"keyboard-layout",help:o})},[s]);const{remote:a,...l}=o??{},c=!!Object.values(l).length;return f.jsxs(Ux.Provider,{value:{setKeyboard:r,unsetKeyboard:i,hasContent:c},children:[e,f.jsx(_J,{help:l})]})};var PJ={webm:"data:video/webm;base64,GkXfowEAAAAAAAAfQoaBAUL3gQFC8oEEQvOBCEKChHdlYm1Ch4EEQoWBAhhTgGcBAAAAAAAVkhFNm3RALE27i1OrhBVJqWZTrIHfTbuMU6uEFlSua1OsggEwTbuMU6uEHFO7a1OsghV17AEAAAAAAACkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmAQAAAAAAAEUq17GDD0JATYCNTGF2ZjU1LjMzLjEwMFdBjUxhdmY1NS4zMy4xMDBzpJBlrrXf3DCDVB8KcgbMpcr+RImIQJBgAAAAAAAWVK5rAQAAAAAAD++uAQAAAAAAADLXgQFzxYEBnIEAIrWcg3VuZIaFVl9WUDiDgQEj44OEAmJaAOABAAAAAAAABrCBsLqBkK4BAAAAAAAPq9eBAnPFgQKcgQAitZyDdW5khohBX1ZPUkJJU4OBAuEBAAAAAAAAEZ+BArWIQOdwAAAAAABiZIEgY6JPbwIeVgF2b3JiaXMAAAAAAoC7AAAAAAAAgLUBAAAAAAC4AQN2b3JiaXMtAAAAWGlwaC5PcmcgbGliVm9yYmlzIEkgMjAxMDExMDEgKFNjaGF1ZmVudWdnZXQpAQAAABUAAABlbmNvZGVyPUxhdmM1NS41Mi4xMDIBBXZvcmJpcyVCQ1YBAEAAACRzGCpGpXMWhBAaQlAZ4xxCzmvsGUJMEYIcMkxbyyVzkCGkoEKIWyiB0JBVAABAAACHQXgUhIpBCCGEJT1YkoMnPQghhIg5eBSEaUEIIYQQQgghhBBCCCGERTlokoMnQQgdhOMwOAyD5Tj4HIRFOVgQgydB6CCED0K4moOsOQghhCQ1SFCDBjnoHITCLCiKgsQwuBaEBDUojILkMMjUgwtCiJqDSTX4GoRnQXgWhGlBCCGEJEFIkIMGQcgYhEZBWJKDBjm4FITLQagahCo5CB+EIDRkFQCQAACgoiiKoigKEBqyCgDIAAAQQFEUx3EcyZEcybEcCwgNWQUAAAEACAAAoEiKpEiO5EiSJFmSJVmSJVmS5omqLMuyLMuyLMsyEBqyCgBIAABQUQxFcRQHCA1ZBQBkAAAIoDiKpViKpWiK54iOCISGrAIAgAAABAAAEDRDUzxHlETPVFXXtm3btm3btm3btm3btm1blmUZCA1ZBQBAAAAQ0mlmqQaIMAMZBkJDVgEACAAAgBGKMMSA0JBVAABAAACAGEoOogmtOd+c46BZDppKsTkdnEi1eZKbirk555xzzsnmnDHOOeecopxZDJoJrTnnnMSgWQqaCa0555wnsXnQmiqtOeeccc7pYJwRxjnnnCateZCajbU555wFrWmOmkuxOeecSLl5UptLtTnnnHPOOeecc84555zqxekcnBPOOeecqL25lpvQxTnnnE/G6d6cEM4555xzzjnnnHPOOeecIDRkFQAABABAEIaNYdwpCNLnaCBGEWIaMulB9+gwCRqDnELq0ehopJQ6CCWVcVJKJwgNWQUAAAIAQAghhRRSSCGFFFJIIYUUYoghhhhyyimnoIJKKqmooowyyyyzzDLLLLPMOuyssw47DDHEEEMrrcRSU2011lhr7jnnmoO0VlprrbVSSimllFIKQkNWAQAgAAAEQgYZZJBRSCGFFGKIKaeccgoqqIDQkFUAACAAgAAAAABP8hzRER3RER3RER3RER3R8RzPESVREiVREi3TMjXTU0VVdWXXlnVZt31b2IVd933d933d+HVhWJZlWZZlWZZlWZZlWZZlWZYgNGQVAAACAAAghBBCSCGFFFJIKcYYc8w56CSUEAgNWQUAAAIACAAAAHAUR3EcyZEcSbIkS9IkzdIsT/M0TxM9URRF0zRV0RVdUTdtUTZl0zVdUzZdVVZtV5ZtW7Z125dl2/d93/d93/d93/d93/d9XQdCQ1YBABIAADqSIymSIimS4ziOJElAaMgqAEAGAEAAAIriKI7jOJIkSZIlaZJneZaomZrpmZ4qqkBoyCoAABAAQAAAAAAAAIqmeIqpeIqoeI7oiJJomZaoqZoryqbsuq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq4LhIasAgAkAAB0JEdyJEdSJEVSJEdygNCQVQCADACAAAAcwzEkRXIsy9I0T/M0TxM90RM901NFV3SB0JBVAAAgAIAAAAAAAAAMybAUy9EcTRIl1VItVVMt1VJF1VNVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVN0zRNEwgNWQkAkAEAkBBTLS3GmgmLJGLSaqugYwxS7KWxSCpntbfKMYUYtV4ah5RREHupJGOKQcwtpNApJq3WVEKFFKSYYyoVUg5SIDRkhQAQmgHgcBxAsixAsiwAAAAAAAAAkDQN0DwPsDQPAAAAAAAAACRNAyxPAzTPAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABA0jRA8zxA8zwAAAAAAAAA0DwP8DwR8EQRAAAAAAAAACzPAzTRAzxRBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABA0jRA8zxA8zwAAAAAAAAAsDwP8EQR0DwRAAAAAAAAACzPAzxRBDzRAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAEOAAABBgIRQasiIAiBMAcEgSJAmSBM0DSJYFTYOmwTQBkmVB06BpME0AAAAAAAAAAAAAJE2DpkHTIIoASdOgadA0iCIAAAAAAAAAAAAAkqZB06BpEEWApGnQNGgaRBEAAAAAAAAAAAAAzzQhihBFmCbAM02IIkQRpgkAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAGHAAAAgwoQwUGrIiAIgTAHA4imUBAIDjOJYFAACO41gWAABYliWKAABgWZooAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAYcAAACDChDBQashIAiAIAcCiKZQHHsSzgOJYFJMmyAJYF0DyApgFEEQAIAAAocAAACLBBU2JxgEJDVgIAUQAABsWxLE0TRZKkaZoniiRJ0zxPFGma53meacLzPM80IYqiaJoQRVE0TZimaaoqME1VFQAAUOAAABBgg6bE4gCFhqwEAEICAByKYlma5nmeJ4qmqZokSdM8TxRF0TRNU1VJkqZ5niiKommapqqyLE3zPFEURdNUVVWFpnmeKIqiaaqq6sLzPE8URdE0VdV14XmeJ4qiaJqq6roQRVE0TdNUTVV1XSCKpmmaqqqqrgtETxRNU1Vd13WB54miaaqqq7ouEE3TVFVVdV1ZBpimaaqq68oyQFVV1XVdV5YBqqqqruu6sgxQVdd1XVmWZQCu67qyLMsCAAAOHAAAAoygk4wqi7DRhAsPQKEhKwKAKAAAwBimFFPKMCYhpBAaxiSEFEImJaXSUqogpFJSKRWEVEoqJaOUUmopVRBSKamUCkIqJZVSAADYgQMA2IGFUGjISgAgDwCAMEYpxhhzTiKkFGPOOScRUoox55yTSjHmnHPOSSkZc8w556SUzjnnnHNSSuacc845KaVzzjnnnJRSSuecc05KKSWEzkEnpZTSOeecEwAAVOAAABBgo8jmBCNBhYasBABSAQAMjmNZmuZ5omialiRpmud5niiapiZJmuZ5nieKqsnzPE8URdE0VZXneZ4oiqJpqirXFUXTNE1VVV2yLIqmaZqq6rowTdNUVdd1XZimaaqq67oubFtVVdV1ZRm2raqq6rqyDFzXdWXZloEsu67s2rIAAPAEBwCgAhtWRzgpGgssNGQlAJABAEAYg5BCCCFlEEIKIYSUUggJAAAYcAAACDChDBQashIASAUAAIyx1lprrbXWQGettdZaa62AzFprrbXWWmuttdZaa6211lJrrbXWWmuttdZaa6211lprrbXWWmuttdZaa6211lprrbXWWmuttdZaa6211lprrbXWWmstpZRSSimllFJKKaWUUkoppZRSSgUA+lU4APg/2LA6wknRWGChISsBgHAAAMAYpRhzDEIppVQIMeacdFRai7FCiDHnJKTUWmzFc85BKCGV1mIsnnMOQikpxVZjUSmEUlJKLbZYi0qho5JSSq3VWIwxqaTWWoutxmKMSSm01FqLMRYjbE2ptdhqq7EYY2sqLbQYY4zFCF9kbC2m2moNxggjWywt1VprMMYY3VuLpbaaizE++NpSLDHWXAAAd4MDAESCjTOsJJ0VjgYXGrISAAgJACAQUooxxhhzzjnnpFKMOeaccw5CCKFUijHGnHMOQgghlIwx5pxzEEIIIYRSSsaccxBCCCGEkFLqnHMQQgghhBBKKZ1zDkIIIYQQQimlgxBCCCGEEEoopaQUQgghhBBCCKmklEIIIYRSQighlZRSCCGEEEIpJaSUUgohhFJCCKGElFJKKYUQQgillJJSSimlEkoJJYQSUikppRRKCCGUUkpKKaVUSgmhhBJKKSWllFJKIYQQSikFAAAcOAAABBhBJxlVFmGjCRcegEJDVgIAZAAAkKKUUiktRYIipRikGEtGFXNQWoqocgxSzalSziDmJJaIMYSUk1Qy5hRCDELqHHVMKQYtlRhCxhik2HJLoXMOAAAAQQCAgJAAAAMEBTMAwOAA4XMQdAIERxsAgCBEZohEw0JweFAJEBFTAUBigkIuAFRYXKRdXECXAS7o4q4DIQQhCEEsDqCABByccMMTb3jCDU7QKSp1IAAAAAAADADwAACQXAAREdHMYWRobHB0eHyAhIiMkAgAAAAAABcAfAAAJCVAREQ0cxgZGhscHR4fICEiIyQBAIAAAgAAAAAggAAEBAQAAAAAAAIAAAAEBB9DtnUBAAAAAAAEPueBAKOFggAAgACjzoEAA4BwBwCdASqwAJAAAEcIhYWIhYSIAgIABhwJ7kPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99YAD+/6tQgKOFggADgAqjhYIAD4AOo4WCACSADqOZgQArADECAAEQEAAYABhYL/QACIBDmAYAAKOFggA6gA6jhYIAT4AOo5mBAFMAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAGSADqOFggB6gA6jmYEAewAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIAj4AOo5mBAKMAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAKSADqOFggC6gA6jmYEAywAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIAz4AOo4WCAOSADqOZgQDzADECAAEQEAAYABhYL/QACIBDmAYAAKOFggD6gA6jhYIBD4AOo5iBARsAEQIAARAQFGAAYWC/0AAiAQ5gGACjhYIBJIAOo4WCATqADqOZgQFDADECAAEQEAAYABhYL/QACIBDmAYAAKOFggFPgA6jhYIBZIAOo5mBAWsAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAXqADqOFggGPgA6jmYEBkwAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIBpIAOo4WCAbqADqOZgQG7ADECAAEQEAAYABhYL/QACIBDmAYAAKOFggHPgA6jmYEB4wAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIB5IAOo4WCAfqADqOZgQILADECAAEQEAAYABhYL/QACIBDmAYAAKOFggIPgA6jhYICJIAOo5mBAjMAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAjqADqOFggJPgA6jmYECWwAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYICZIAOo4WCAnqADqOZgQKDADECAAEQEAAYABhYL/QACIBDmAYAAKOFggKPgA6jhYICpIAOo5mBAqsAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCArqADqOFggLPgA6jmIEC0wARAgABEBAUYABhYL/QACIBDmAYAKOFggLkgA6jhYIC+oAOo5mBAvsAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAw+ADqOZgQMjADECAAEQEAAYABhYL/QACIBDmAYAAKOFggMkgA6jhYIDOoAOo5mBA0sAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCA0+ADqOFggNkgA6jmYEDcwAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIDeoAOo4WCA4+ADqOZgQObADECAAEQEAAYABhYL/QACIBDmAYAAKOFggOkgA6jhYIDuoAOo5mBA8MAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCA8+ADqOFggPkgA6jhYID+oAOo4WCBA+ADhxTu2sBAAAAAAAAEbuPs4EDt4r3gQHxghEr8IEK",mp4:"data:video/mp4;base64,AAAAHGZ0eXBNNFYgAAACAGlzb21pc28yYXZjMQAAAAhmcmVlAAAGF21kYXTeBAAAbGliZmFhYyAxLjI4AABCAJMgBDIARwAAArEGBf//rdxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNDIgcjIgOTU2YzhkOCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTQgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0wIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz02IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MCB3ZWlnaHRwPTAga2V5aW50PTI1MCBrZXlpbnRfbWluPTI1IHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcmM9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCB2YnZfbWF4cmF0ZT03NjggdmJ2X2J1ZnNpemU9MzAwMCBjcmZfbWF4PTAuMCBuYWxfaHJkPW5vbmUgZmlsbGVyPTAgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAAFZliIQL8mKAAKvMnJycnJycnJycnXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXiEASZACGQAjgCEASZACGQAjgAAAAAdBmjgX4GSAIQBJkAIZACOAAAAAB0GaVAX4GSAhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGagC/AySEASZACGQAjgAAAAAZBmqAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZrAL8DJIQBJkAIZACOAAAAABkGa4C/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmwAvwMkhAEmQAhkAI4AAAAAGQZsgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGbQC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm2AvwMkhAEmQAhkAI4AAAAAGQZuAL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGboC/AySEASZACGQAjgAAAAAZBm8AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZvgL8DJIQBJkAIZACOAAAAABkGaAC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmiAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpAL8DJIQBJkAIZACOAAAAABkGaYC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmoAvwMkhAEmQAhkAI4AAAAAGQZqgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGawC/AySEASZACGQAjgAAAAAZBmuAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZsAL8DJIQBJkAIZACOAAAAABkGbIC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm0AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZtgL8DJIQBJkAIZACOAAAAABkGbgCvAySEASZACGQAjgCEASZACGQAjgAAAAAZBm6AnwMkhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AAAAhubW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAABDcAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAzB0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAA+kAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAALAAAACQAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAPpAAAAAAABAAAAAAKobWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAB1MAAAdU5VxAAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABWaWRlb0hhbmRsZXIAAAACU21pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAhNzdGJsAAAAr3N0c2QAAAAAAAAAAQAAAJ9hdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAALAAkABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAALWF2Y0MBQsAN/+EAFWdCwA3ZAsTsBEAAAPpAADqYA8UKkgEABWjLg8sgAAAAHHV1aWRraEDyXyRPxbo5pRvPAyPzAAAAAAAAABhzdHRzAAAAAAAAAAEAAAAeAAAD6QAAABRzdHNzAAAAAAAAAAEAAAABAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAABAAAAAQAAAIxzdHN6AAAAAAAAAAAAAAAeAAADDwAAAAsAAAALAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAAiHN0Y28AAAAAAAAAHgAAAEYAAANnAAADewAAA5gAAAO0AAADxwAAA+MAAAP2AAAEEgAABCUAAARBAAAEXQAABHAAAASMAAAEnwAABLsAAATOAAAE6gAABQYAAAUZAAAFNQAABUgAAAVkAAAFdwAABZMAAAWmAAAFwgAABd4AAAXxAAAGDQAABGh0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAACAAAAAAAABDcAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAQkAAADcAABAAAAAAPgbWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAAykBVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAADi21pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAADT3N0YmwAAABnc3RzZAAAAAAAAAABAAAAV21wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAAM2VzZHMAAAAAA4CAgCIAAgAEgICAFEAVBbjYAAu4AAAADcoFgICAAhGQBoCAgAECAAAAIHN0dHMAAAAAAAAAAgAAADIAAAQAAAAAAQAAAkAAAAFUc3RzYwAAAAAAAAAbAAAAAQAAAAEAAAABAAAAAgAAAAIAAAABAAAAAwAAAAEAAAABAAAABAAAAAIAAAABAAAABgAAAAEAAAABAAAABwAAAAIAAAABAAAACAAAAAEAAAABAAAACQAAAAIAAAABAAAACgAAAAEAAAABAAAACwAAAAIAAAABAAAADQAAAAEAAAABAAAADgAAAAIAAAABAAAADwAAAAEAAAABAAAAEAAAAAIAAAABAAAAEQAAAAEAAAABAAAAEgAAAAIAAAABAAAAFAAAAAEAAAABAAAAFQAAAAIAAAABAAAAFgAAAAEAAAABAAAAFwAAAAIAAAABAAAAGAAAAAEAAAABAAAAGQAAAAIAAAABAAAAGgAAAAEAAAABAAAAGwAAAAIAAAABAAAAHQAAAAEAAAABAAAAHgAAAAIAAAABAAAAHwAAAAQAAAABAAAA4HN0c3oAAAAAAAAAAAAAADMAAAAaAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAACMc3RjbwAAAAAAAAAfAAAALAAAA1UAAANyAAADhgAAA6IAAAO+AAAD0QAAA+0AAAQAAAAEHAAABC8AAARLAAAEZwAABHoAAASWAAAEqQAABMUAAATYAAAE9AAABRAAAAUjAAAFPwAABVIAAAVuAAAFgQAABZ0AAAWwAAAFzAAABegAAAX7AAAGFwAAAGJ1ZHRhAAAAWm1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAALWlsc3QAAAAlqXRvbwAAAB1kYXRhAAAAAQAAAABMYXZmNTUuMzMuMTAw"};const{webm:RJ,mp4:MJ}=PJ,my=()=>typeof navigator<"u"&&parseFloat((""+(/CPU.*OS ([0-9_]{3,4})[0-9_]{0,1}|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))<10&&!window.MSStream,vy=()=>"wakeLock"in navigator&&window.navigator.userAgent.indexOf("Samsung")===-1;class jJ{constructor(){if(this.enabled=!1,vy()){this._wakeLock=null;const t=()=>{this._wakeLock!==null&&document.visibilityState==="visible"&&this.enable()};document.addEventListener("visibilitychange",t),document.addEventListener("fullscreenchange",t)}else my()?this.noSleepTimer=null:(this.noSleepVideo=document.createElement("video"),this.noSleepVideo.setAttribute("title","No Sleep"),this.noSleepVideo.setAttribute("playsinline",""),this._addSourceToVideo(this.noSleepVideo,"webm",RJ),this._addSourceToVideo(this.noSleepVideo,"mp4",MJ),Object.assign(this.noSleepVideo.style,{position:"absolute",left:"-100%",top:"-100%"}),document.querySelector("body").append(this.noSleepVideo),this.noSleepVideo.addEventListener("loadedmetadata",()=>{this.noSleepVideo.duration<=1?this.noSleepVideo.setAttribute("loop",""):this.noSleepVideo.addEventListener("timeupdate",()=>{this.noSleepVideo.currentTime>.5&&(this.noSleepVideo.currentTime=Math.random())})}))}_addSourceToVideo(t,n,r){var i=document.createElement("source");i.src=r,i.type=`video/${n}`,t.appendChild(i)}get isEnabled(){return this.enabled}enable(){return vy()?navigator.wakeLock.request("screen").then(t=>{this._wakeLock=t,this.enabled=!0,console.log("Wake Lock active."),this._wakeLock.addEventListener("release",()=>{console.log("Wake Lock released.")})}).catch(t=>{throw this.enabled=!1,console.error(`${t.name}, ${t.message}`),t}):my()?(this.disable(),console.warn(`
        NoSleep enabled for older iOS devices. This can interrupt
        active or long-running network requests from completing successfully.
        See https://github.com/richtr/NoSleep.js/issues/15 for more details.
      `),this.noSleepTimer=window.setInterval(()=>{document.hidden||(window.location.href=window.location.href.split("#")[0],window.setTimeout(window.stop,0))},15e3),this.enabled=!0,Promise.resolve()):this.noSleepVideo.play().then(n=>(this.enabled=!0,n)).catch(n=>{throw this.enabled=!1,n})}disable(){vy()?(this._wakeLock&&this._wakeLock.release(),this._wakeLock=null):my()?this.noSleepTimer&&(console.warn(`
          NoSleep now disabled for older iOS devices.
        `),window.clearInterval(this.noSleepTimer),this.noSleepTimer=null):this.noSleepVideo.pause(),this.enabled=!1}}var OJ=jJ;const VJ=lr(OJ),LJ="/assets/eurovisionbg-CvR5q-FP.svg",Hx=_.createContext({visible:!0,theme:"regular",setVisibility:e=>{},setTheme:e=>{}}),Eo=(e,t="regular")=>{const{setVisibility:n,setTheme:r}=_.useContext(Hx);_.useEffect(()=>{n(e)},[e,n]),_.useEffect(()=>{r(t)},[t,r])};function NJ({children:e}){const[t,n]=_.useState(!0),[r,i]=_.useState("regular");return f.jsxs(Hx.Provider,{value:{visible:t,setVisibility:n,setTheme:i,theme:r},children:[t&&f.jsx(zJ,{bgtheme:r,children:r==="eurovision"&&f.jsx(R1,{})}),e]})}const R1=()=>{var e;return f.jsx(f.Fragment,{children:f.jsx(DJ,{disableAnimation:(e=global.location)==null?void 0:e.href.includes("/remote-mic")})})};var $J={name:"14nwa94",styles:"animation:escGradient 46s linear infinite;flex:1"};const DJ=C("div",{target:"ev6htcq2"})("transform:scale(1, 4);background-image:url(",LJ,");background-size:100% 50%;height:100%;",e=>!e.disableAnimation&&$J,"@keyframes escGradient{0%{background-position:0% 800%;}100%{background-position:0% 0%;}}");var BJ={name:"zjik7",styles:"display:flex"};const FJ=C("div",{target:"ev6htcq1"})("background-color:white;",e=>e.bgtheme==="christmas"?Ot(`background-image:linear-gradient(
            -45deg,
            `,Oe.christmasGreen.text,`,
            `,Oe.christmasGreen.stroke,`,
            `,Oe.christmasRed.stroke,`,
            `,Oe.christmasRed.stroke,`
          );background-size:400% 400%;`,""):e.bgtheme==="eurovision"?BJ:Ot(`background-image:linear-gradient(
              -45deg,
              `,Oe.red.stroke,`,
              `,Oe.blue.text,`,
              `,Oe.blue.stroke,`,
              `,Oe.red.stroke,`
            );background-size:400% 400%;`,"")," width:100%;height:100%;"),zJ=C(FJ,{target:"ev6htcq0"})("z-index:-1;top:0;position:fixed;",e=>e.theme.graphicSetting==="high"?"animation: gradient 15s ease infinite":"",";",e=>e.theme.graphicSetting==="low"?"background-position: 100% 50%":"",";@keyframes gradient{0%{background-position:0% 50%;}50%{background-position:100% 50%;}100%{background-position:0% 50%;}}");function UJ({size:e=16}){return f.jsx("style",{children:`html {
                font-size: ${e}px !important;
            }`})}function I0(e){return _.useMemo(()=>{var t;return new URLSearchParams((t=global.location)==null?void 0:t.search).get(e)},[e])}const HJ=Ot("h1{",Ne,";margin:0;text-align:center;font-size:4rem;color:",he.colors.text.active,";}h2{",Ne,";margin:0;font-size:2.9rem;}h3{",Ne,";margin:0;font-size:2.7rem;strong{color:",he.colors.text.active,";}}h4{",Ne,";margin:0;font-size:2.2rem;line-height:1.15;}h5{",Ne,";margin:0;font-size:1.6rem;line-height:1.5;}h6{",Ne,";margin:0;line-height:1.5;font-size:1.3rem;}hr{margin:0.5rem 1rem;opacity:0.25;}h1,h2,h3,h4,h5{button{",Ne,";background:none;padding:0;margin:0;border:none;font-size:inherit;color:",he.colors.text.active,";text-decoration:underline;cursor:pointer;}svg{font-size:0.8em;}}a{",Ne,";color:",he.colors.text.active,";text-decoration:underline;}strong{color:",he.colors.text.active,";}"),qJ=C("div",{target:"e1py91zd0"})(HJ,";");var qx={},fO={exports:{}};(function(e){function t(n){return n&&n.__esModule?n:{default:n}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(fO);var Xe=fO.exports,yy={};function Do(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function hO(e){if(!Do(e))return e;const t={};return Object.keys(e).forEach(n=>{t[n]=hO(e[n])}),t}function rs(e,t,n={clone:!0}){const r=n.clone?oe({},e):e;return Do(e)&&Do(t)&&Object.keys(t).forEach(i=>{i!=="__proto__"&&(Do(t[i])&&i in e&&Do(e[i])?r[i]=rs(e[i],t[i],n):n.clone?r[i]=Do(t[i])?hO(t[i]):t[i]:r[i]=t[i])}),r}const GJ=Object.freeze(Object.defineProperty({__proto__:null,default:rs,isPlainObject:Do},Symbol.toStringTag,{value:"Module"}));var pO={exports:{}},WJ="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",YJ=WJ,KJ=YJ;function gO(){}function mO(){}mO.resetWarningCache=gO;var QJ=function(){function e(r,i,s,o,a,l){if(l!==KJ){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:mO,resetWarningCache:gO};return n.PropTypes=n,n};pO.exports=QJ();var JJ=pO.exports;const ze=lr(JJ);function fl(e){let t="https://mui.com/production-error/?code="+e;for(let n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}const XJ=Object.freeze(Object.defineProperty({__proto__:null,default:fl},Symbol.toStringTag,{value:"Module"}));var vO={exports:{}},yt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gx=Symbol.for("react.element"),Wx=Symbol.for("react.portal"),P0=Symbol.for("react.fragment"),R0=Symbol.for("react.strict_mode"),M0=Symbol.for("react.profiler"),j0=Symbol.for("react.provider"),O0=Symbol.for("react.context"),ZJ=Symbol.for("react.server_context"),V0=Symbol.for("react.forward_ref"),L0=Symbol.for("react.suspense"),N0=Symbol.for("react.suspense_list"),$0=Symbol.for("react.memo"),D0=Symbol.for("react.lazy"),eX=Symbol.for("react.offscreen"),yO;yO=Symbol.for("react.module.reference");function Oi(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Gx:switch(e=e.type,e){case P0:case M0:case R0:case L0:case N0:return e;default:switch(e=e&&e.$$typeof,e){case ZJ:case O0:case V0:case D0:case $0:case j0:return e;default:return t}}case Wx:return t}}}yt.ContextConsumer=O0;yt.ContextProvider=j0;yt.Element=Gx;yt.ForwardRef=V0;yt.Fragment=P0;yt.Lazy=D0;yt.Memo=$0;yt.Portal=Wx;yt.Profiler=M0;yt.StrictMode=R0;yt.Suspense=L0;yt.SuspenseList=N0;yt.isAsyncMode=function(){return!1};yt.isConcurrentMode=function(){return!1};yt.isContextConsumer=function(e){return Oi(e)===O0};yt.isContextProvider=function(e){return Oi(e)===j0};yt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Gx};yt.isForwardRef=function(e){return Oi(e)===V0};yt.isFragment=function(e){return Oi(e)===P0};yt.isLazy=function(e){return Oi(e)===D0};yt.isMemo=function(e){return Oi(e)===$0};yt.isPortal=function(e){return Oi(e)===Wx};yt.isProfiler=function(e){return Oi(e)===M0};yt.isStrictMode=function(e){return Oi(e)===R0};yt.isSuspense=function(e){return Oi(e)===L0};yt.isSuspenseList=function(e){return Oi(e)===N0};yt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===P0||e===M0||e===R0||e===L0||e===N0||e===eX||typeof e=="object"&&e!==null&&(e.$$typeof===D0||e.$$typeof===$0||e.$$typeof===j0||e.$$typeof===O0||e.$$typeof===V0||e.$$typeof===yO||e.getModuleId!==void 0)};yt.typeOf=Oi;vO.exports=yt;var JC=vO.exports;const tX=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function AO(e){const t=`${e}`.match(tX);return t&&t[1]||""}function _O(e,t=""){return e.displayName||e.name||AO(e)||t}function XC(e,t,n){const r=_O(t);return e.displayName||(r!==""?`${n}(${r})`:n)}function nX(e){if(e!=null){if(typeof e=="string")return e;if(typeof e=="function")return _O(e,"Component");if(typeof e=="object")switch(e.$$typeof){case JC.ForwardRef:return XC(e,e.render,"ForwardRef");case JC.Memo:return XC(e,e.type,"memo");default:return}}}const rX=Object.freeze(Object.defineProperty({__proto__:null,default:nX,getFunctionName:AO},Symbol.toStringTag,{value:"Module"}));function Cn(e){if(typeof e!="string")throw new Error(fl(7));return e.charAt(0).toUpperCase()+e.slice(1)}const iX=Object.freeze(Object.defineProperty({__proto__:null,default:Cn},Symbol.toStringTag,{value:"Module"}));function sX(...e){return e.reduce((t,n)=>n==null?t:function(...i){t.apply(this,i),n.apply(this,i)},()=>{})}function oX(e,t=166){let n;function r(...i){const s=()=>{e.apply(this,i)};clearTimeout(n),n=setTimeout(s,t)}return r.clear=()=>{clearTimeout(n)},r}function aX(e,t){return()=>null}function lX(e,t){var n,r;return _.isValidElement(e)&&t.indexOf((n=e.type.muiName)!=null?n:(r=e.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function Wg(e){return e&&e.ownerDocument||document}function cX(e){return Wg(e).defaultView||window}function uX(e,t){return()=>null}function Yg(e,t){typeof e=="function"?e(t):e&&(e.current=t)}const nu=typeof window<"u"?_.useLayoutEffect:_.useEffect;let ZC=0;function dX(e){const[t,n]=_.useState(e),r=e||t;return _.useEffect(()=>{t==null&&(ZC+=1,n(`mui-${ZC}`))},[t]),r}const eT=mg.useId;function bO(e){if(eT!==void 0){const t=eT();return e??t}return dX(e)}function fX(e,t,n,r,i){return null}function xO({controlled:e,default:t,name:n,state:r="value"}){const{current:i}=_.useRef(e!==void 0),[s,o]=_.useState(t),a=i?e:s,l=_.useCallback(c=>{i||o(c)},[]);return[a,l]}function za(e){const t=_.useRef(e);return nu(()=>{t.current=e}),_.useRef((...n)=>(0,t.current)(...n)).current}function ho(...e){return _.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(n=>{Yg(n,t)})},e)}const tT={};function hX(e,t){const n=_.useRef(tT);return n.current===tT&&(n.current=e(t)),n}const pX=[];function gX(e){_.useEffect(e,pX)}class ch{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new ch}start(t,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},t)}}function lc(){const e=hX(ch.create).current;return gX(e.disposeEffect),e}let B0=!0,M1=!1;const mX=new ch,vX={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function yX(e){const{type:t,tagName:n}=e;return!!(n==="INPUT"&&vX[t]&&!e.readOnly||n==="TEXTAREA"&&!e.readOnly||e.isContentEditable)}function AX(e){e.metaKey||e.altKey||e.ctrlKey||(B0=!0)}function Ay(){B0=!1}function _X(){this.visibilityState==="hidden"&&M1&&(B0=!0)}function bX(e){e.addEventListener("keydown",AX,!0),e.addEventListener("mousedown",Ay,!0),e.addEventListener("pointerdown",Ay,!0),e.addEventListener("touchstart",Ay,!0),e.addEventListener("visibilitychange",_X,!0)}function xX(e){const{target:t}=e;try{return t.matches(":focus-visible")}catch{}return B0||yX(t)}function Yx(){const e=_.useCallback(i=>{i!=null&&bX(i.ownerDocument)},[]),t=_.useRef(!1);function n(){return t.current?(M1=!0,mX.start(100,()=>{M1=!1}),t.current=!1,!0):!1}function r(i){return xX(i)?(t.current=!0,!0):!1}return{isFocusVisibleRef:t,onFocus:r,onBlur:n,ref:e}}function SO(e,t){const n=oe({},t);return Object.keys(e).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=oe({},e[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=e[r]||{},s=t[r];n[r]={},!s||!Object.keys(s)?n[r]=i:!i||!Object.keys(i)?n[r]=s:(n[r]=oe({},s),Object.keys(i).forEach(o=>{n[r][o]=SO(i[o],s[o])}))}else n[r]===void 0&&(n[r]=e[r])}),n}function Pl(e,t,n=void 0){const r={};return Object.keys(e).forEach(i=>{r[i]=e[i].reduce((s,o)=>{if(o){const a=t(o);a!==""&&s.push(a),n&&n[o]&&s.push(n[o])}return s},[]).join(" ")}),r}const nT=e=>e,SX=()=>{let e=nT;return{configure(t){e=t},generate(t){return e(t)},reset(){e=nT}}},wX=SX(),wO=wX,EO={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Rl(e,t,n="Mui"){const r=EO[t];return r?`${n}-${r}`:`${wO.generate(e)}-${t}`}function Ml(e,t,n="Mui"){const r={};return t.forEach(i=>{r[i]=Rl(e,i,n)}),r}function kO(e,t=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(t,Math.min(e,n))}const EX=Object.freeze(Object.defineProperty({__proto__:null,default:kO},Symbol.toStringTag,{value:"Module"}));function Xt(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function CO(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=CO(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Sn(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=CO(e))&&(r&&(r+=" "),r+=t);return r}function kX(e){const{theme:t,name:n,props:r}=e;return!t||!t.components||!t.components[n]||!t.components[n].defaultProps?r:SO(t.components[n].defaultProps,r)}const CX=["values","unit","step"],TX=e=>{const t=Object.keys(e).map(n=>({key:n,val:e[n]}))||[];return t.sort((n,r)=>n.val-r.val),t.reduce((n,r)=>oe({},n,{[r.key]:r.val}),{})};function TO(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=e,i=Xt(e,CX),s=TX(t),o=Object.keys(s);function a(h){return`@media (min-width:${typeof t[h]=="number"?t[h]:h}${n})`}function l(h){return`@media (max-width:${(typeof t[h]=="number"?t[h]:h)-r/100}${n})`}function c(h,p){const g=o.indexOf(p);return`@media (min-width:${typeof t[h]=="number"?t[h]:h}${n}) and (max-width:${(g!==-1&&typeof t[o[g]]=="number"?t[o[g]]:p)-r/100}${n})`}function u(h){return o.indexOf(h)+1<o.length?c(h,o[o.indexOf(h)+1]):a(h)}function d(h){const p=o.indexOf(h);return p===0?a(o[1]):p===o.length-1?l(o[p]):c(h,o[o.indexOf(h)+1]).replace("@media","@media not all and")}return oe({keys:o,values:s,up:a,down:l,between:c,only:u,not:d,unit:n},i)}const IX={borderRadius:4},PX=IX;function Nd(e,t){return t?rs(e,t,{clone:!1}):e}const Kx={xs:0,sm:600,md:900,lg:1200,xl:1536},rT={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${Kx[e]}px)`};function po(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const s=r.breakpoints||rT;return t.reduce((o,a,l)=>(o[s.up(s.keys[l])]=n(t[l]),o),{})}if(typeof t=="object"){const s=r.breakpoints||rT;return Object.keys(t).reduce((o,a)=>{if(Object.keys(s.values||Kx).indexOf(a)!==-1){const l=s.up(a);o[l]=n(t[a],a)}else{const l=a;o[l]=t[l]}return o},{})}return n(t)}function IO(e={}){var t;return((t=e.keys)==null?void 0:t.reduce((r,i)=>{const s=e.up(i);return r[s]={},r},{}))||{}}function PO(e,t){return e.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},t)}function l_e(e,...t){const n=IO(e),r=[n,...t].reduce((i,s)=>rs(i,s),{});return PO(Object.keys(n),r)}function RX(e,t){if(typeof e!="object")return{};const n={},r=Object.keys(t);return Array.isArray(e)?r.forEach((i,s)=>{s<e.length&&(n[i]=!0)}):r.forEach(i=>{e[i]!=null&&(n[i]=!0)}),n}function c_e({values:e,breakpoints:t,base:n}){const r=n||RX(e,t),i=Object.keys(r);if(i.length===0)return e;let s;return i.reduce((o,a,l)=>(Array.isArray(e)?(o[a]=e[l]!=null?e[l]:e[s],s=l):typeof e=="object"?(o[a]=e[a]!=null?e[a]:e[s],s=a):o[a]=e,o),{})}function F0(e,t,n=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&n){const r=`vars.${t}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,e);if(r!=null)return r}return t.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,e)}function Kg(e,t,n,r=n){let i;return typeof e=="function"?i=e(n):Array.isArray(e)?i=e[n]||r:i=F0(e,n)||r,t&&(i=t(i,r,e)),i}function mn(e){const{prop:t,cssProperty:n=e.prop,themeKey:r,transform:i}=e,s=o=>{if(o[t]==null)return null;const a=o[t],l=o.theme,c=F0(l,r)||{};return po(o,a,d=>{let h=Kg(c,i,d);return d===h&&typeof d=="string"&&(h=Kg(c,i,`${t}${d==="default"?"":Cn(d)}`,d)),n===!1?h:{[n]:h}})};return s.propTypes={},s.filterProps=[t],s}function MX(e){const t={};return n=>(t[n]===void 0&&(t[n]=e(n)),t[n])}const jX={m:"margin",p:"padding"},OX={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},iT={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},VX=MX(e=>{if(e.length>2)if(iT[e])e=iT[e];else return[e];const[t,n]=e.split(""),r=jX[t],i=OX[n]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),Qx=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Jx=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...Qx,...Jx];function uh(e,t,n,r){var i;const s=(i=F0(e,t,!1))!=null?i:n;return typeof s=="number"?o=>typeof o=="string"?o:s*o:Array.isArray(s)?o=>typeof o=="string"?o:s[o]:typeof s=="function"?s:()=>{}}function RO(e){return uh(e,"spacing",8)}function dh(e,t){if(typeof t=="string"||t==null)return t;const n=Math.abs(t),r=e(n);return t>=0?r:typeof r=="number"?-r:`-${r}`}function LX(e,t){return n=>e.reduce((r,i)=>(r[i]=dh(t,n),r),{})}function NX(e,t,n,r){if(t.indexOf(n)===-1)return null;const i=VX(n),s=LX(i,r),o=e[n];return po(e,o,s)}function MO(e,t){const n=RO(e.theme);return Object.keys(e).map(r=>NX(e,t,r,n)).reduce(Nd,{})}function en(e){return MO(e,Qx)}en.propTypes={};en.filterProps=Qx;function tn(e){return MO(e,Jx)}tn.propTypes={};tn.filterProps=Jx;function $X(e=8){if(e.mui)return e;const t=RO({spacing:e}),n=(...r)=>(r.length===0?[1]:r).map(s=>{const o=t(s);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}function z0(...e){const t=e.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),n=r=>Object.keys(r).reduce((i,s)=>t[s]?Nd(i,t[s](r)):i,{});return n.propTypes={},n.filterProps=e.reduce((r,i)=>r.concat(i.filterProps),[]),n}function mi(e){return typeof e!="number"?e:`${e}px solid`}function Vi(e,t){return mn({prop:e,themeKey:"borders",transform:t})}const DX=Vi("border",mi),BX=Vi("borderTop",mi),FX=Vi("borderRight",mi),zX=Vi("borderBottom",mi),UX=Vi("borderLeft",mi),HX=Vi("borderColor"),qX=Vi("borderTopColor"),GX=Vi("borderRightColor"),WX=Vi("borderBottomColor"),YX=Vi("borderLeftColor"),KX=Vi("outline",mi),QX=Vi("outlineColor"),U0=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=uh(e.theme,"shape.borderRadius",4),n=r=>({borderRadius:dh(t,r)});return po(e,e.borderRadius,n)}return null};U0.propTypes={};U0.filterProps=["borderRadius"];z0(DX,BX,FX,zX,UX,HX,qX,GX,WX,YX,U0,KX,QX);const H0=e=>{if(e.gap!==void 0&&e.gap!==null){const t=uh(e.theme,"spacing",8),n=r=>({gap:dh(t,r)});return po(e,e.gap,n)}return null};H0.propTypes={};H0.filterProps=["gap"];const q0=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=uh(e.theme,"spacing",8),n=r=>({columnGap:dh(t,r)});return po(e,e.columnGap,n)}return null};q0.propTypes={};q0.filterProps=["columnGap"];const G0=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=uh(e.theme,"spacing",8),n=r=>({rowGap:dh(t,r)});return po(e,e.rowGap,n)}return null};G0.propTypes={};G0.filterProps=["rowGap"];const JX=mn({prop:"gridColumn"}),XX=mn({prop:"gridRow"}),ZX=mn({prop:"gridAutoFlow"}),eZ=mn({prop:"gridAutoColumns"}),tZ=mn({prop:"gridAutoRows"}),nZ=mn({prop:"gridTemplateColumns"}),rZ=mn({prop:"gridTemplateRows"}),iZ=mn({prop:"gridTemplateAreas"}),sZ=mn({prop:"gridArea"});z0(H0,q0,G0,JX,XX,ZX,eZ,tZ,nZ,rZ,iZ,sZ);function Oc(e,t){return t==="grey"?t:e}const oZ=mn({prop:"color",themeKey:"palette",transform:Oc}),aZ=mn({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Oc}),lZ=mn({prop:"backgroundColor",themeKey:"palette",transform:Oc});z0(oZ,aZ,lZ);function Ur(e){return e<=1&&e!==0?`${e*100}%`:e}const cZ=mn({prop:"width",transform:Ur}),Xx=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=n=>{var r,i;const s=((r=e.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[n])||Kx[n];return s?((i=e.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${s}${e.theme.breakpoints.unit}`}:{maxWidth:s}:{maxWidth:Ur(n)}};return po(e,e.maxWidth,t)}return null};Xx.filterProps=["maxWidth"];const uZ=mn({prop:"minWidth",transform:Ur}),dZ=mn({prop:"height",transform:Ur}),fZ=mn({prop:"maxHeight",transform:Ur}),hZ=mn({prop:"minHeight",transform:Ur});mn({prop:"size",cssProperty:"width",transform:Ur});mn({prop:"size",cssProperty:"height",transform:Ur});const pZ=mn({prop:"boxSizing"});z0(cZ,Xx,uZ,dZ,fZ,hZ,pZ);const gZ={border:{themeKey:"borders",transform:mi},borderTop:{themeKey:"borders",transform:mi},borderRight:{themeKey:"borders",transform:mi},borderBottom:{themeKey:"borders",transform:mi},borderLeft:{themeKey:"borders",transform:mi},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:mi},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:U0},color:{themeKey:"palette",transform:Oc},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Oc},backgroundColor:{themeKey:"palette",transform:Oc},p:{style:tn},pt:{style:tn},pr:{style:tn},pb:{style:tn},pl:{style:tn},px:{style:tn},py:{style:tn},padding:{style:tn},paddingTop:{style:tn},paddingRight:{style:tn},paddingBottom:{style:tn},paddingLeft:{style:tn},paddingX:{style:tn},paddingY:{style:tn},paddingInline:{style:tn},paddingInlineStart:{style:tn},paddingInlineEnd:{style:tn},paddingBlock:{style:tn},paddingBlockStart:{style:tn},paddingBlockEnd:{style:tn},m:{style:en},mt:{style:en},mr:{style:en},mb:{style:en},ml:{style:en},mx:{style:en},my:{style:en},margin:{style:en},marginTop:{style:en},marginRight:{style:en},marginBottom:{style:en},marginLeft:{style:en},marginX:{style:en},marginY:{style:en},marginInline:{style:en},marginInlineStart:{style:en},marginInlineEnd:{style:en},marginBlock:{style:en},marginBlockStart:{style:en},marginBlockEnd:{style:en},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:H0},rowGap:{style:G0},columnGap:{style:q0},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Ur},maxWidth:{style:Xx},minWidth:{transform:Ur},height:{transform:Ur},maxHeight:{transform:Ur},minHeight:{transform:Ur},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},fh=gZ;function mZ(...e){const t=e.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(t);return e.every(r=>n.size===Object.keys(r).length)}function vZ(e,t){return typeof e=="function"?e(t):e}function jO(){function e(n,r,i,s){const o={[n]:r,theme:i},a=s[n];if(!a)return{[n]:r};const{cssProperty:l=n,themeKey:c,transform:u,style:d}=a;if(r==null)return null;if(c==="typography"&&r==="inherit")return{[n]:r};const h=F0(i,c)||{};return d?d(o):po(o,r,g=>{let m=Kg(h,u,g);return g===m&&typeof g=="string"&&(m=Kg(h,u,`${n}${g==="default"?"":Cn(g)}`,g)),l===!1?m:{[l]:m}})}function t(n){var r;const{sx:i,theme:s={}}=n||{};if(!i)return null;const o=(r=s.unstable_sxConfig)!=null?r:fh;function a(l){let c=l;if(typeof l=="function")c=l(s);else if(typeof l!="object")return l;if(!c)return null;const u=IO(s.breakpoints),d=Object.keys(u);let h=u;return Object.keys(c).forEach(p=>{const g=vZ(c[p],s);if(g!=null)if(typeof g=="object")if(o[p])h=Nd(h,e(p,g,s,o));else{const m=po({theme:s},g,A=>({[p]:A}));mZ(m,g)?h[p]=t({sx:g,theme:s}):h=Nd(h,m)}else h=Nd(h,e(p,g,s,o))}),PO(d,h)}return Array.isArray(i)?i.map(a):a(i)}return t}const OO=jO();OO.filterProps=["sx"];const Zx=OO;function VO(e,t){const n=this;return n.vars&&typeof n.getColorSchemeSelector=="function"?{[n.getColorSchemeSelector(e).replace(/(\[[^\]]+\])/,"*:where($1)")]:t}:n.palette.mode===e?t:{}}const yZ=["breakpoints","palette","spacing","shape"];function eS(e={},...t){const{breakpoints:n={},palette:r={},spacing:i,shape:s={}}=e,o=Xt(e,yZ),a=TO(n),l=$X(i);let c=rs({breakpoints:a,direction:"ltr",components:{},palette:oe({mode:"light"},r),spacing:l,shape:oe({},PX,s)},o);return c.applyStyles=VO,c=t.reduce((u,d)=>rs(u,d),c),c.unstable_sxConfig=oe({},fh,o==null?void 0:o.unstable_sxConfig),c.unstable_sx=function(d){return Zx({sx:d,theme:this})},c}const AZ=Object.freeze(Object.defineProperty({__proto__:null,default:eS,private_createBreakpoints:TO,unstable_applyStyles:VO},Symbol.toStringTag,{value:"Module"}));var _Z=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],j1=C.bind();_Z.forEach(function(e){j1[e]=j1(e)});let O1;typeof document=="object"&&(O1=vb({key:"css",prepend:!0}));function bZ(e){const{injectFirst:t,children:n}=e;return t&&O1?f.jsx(oM,{value:O1,children:n}):n}function xZ(e){return e==null||Object.keys(e).length===0}function SZ(e){const{styles:t,defaultTheme:n={}}=e,r=typeof t=="function"?i=>t(xZ(i)?n:i):t;return f.jsx(lM,{styles:r})}function wZ(e,t){return j1(e,t)}const EZ=(e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))},kZ=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:SZ,StyledEngineProvider:bZ,ThemeContext:Yf,css:Ot,default:wZ,internal_processStyles:EZ,keyframes:_o},Symbol.toStringTag,{value:"Module"}));function CZ(e){return Object.keys(e).length===0}function LO(e=null){const t=_.useContext(Yf);return!t||CZ(t)?e:t}const TZ=eS();function NO(e=TZ){return LO(e)}function IZ({props:e,name:t,defaultTheme:n,themeId:r}){let i=NO(n);return r&&(i=i[r]||i),kX({theme:i,name:t,props:e})}const PZ=["sx"],RZ=e=>{var t,n;const r={systemProps:{},otherProps:{}},i=(t=e==null||(n=e.theme)==null?void 0:n.unstable_sxConfig)!=null?t:fh;return Object.keys(e).forEach(s=>{i[s]?r.systemProps[s]=e[s]:r.otherProps[s]=e[s]}),r};function MZ(e){const{sx:t}=e,n=Xt(e,PZ),{systemProps:r,otherProps:i}=RZ(n);let s;return Array.isArray(t)?s=[r,...t]:typeof t=="function"?s=(...o)=>{const a=t(...o);return Do(a)?oe({},r,a):r}:s=oe({},r,t),oe({},i,{sx:s})}const jZ=Object.freeze(Object.defineProperty({__proto__:null,default:Zx,extendSxProp:MZ,unstable_createStyleFunctionSx:jO,unstable_defaultSxConfig:fh},Symbol.toStringTag,{value:"Module"}));function OZ(e,t){return oe({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},t)}var vn={};const VZ=Fs(XJ),LZ=Fs(EX);var $O=Xe;Object.defineProperty(vn,"__esModule",{value:!0});var Qg=vn.alpha=zO;vn.blend=KZ;vn.colorChannel=void 0;var NZ=vn.darken=nS;vn.decomposeColor=Ii;vn.emphasize=YZ;var $Z=vn.getContrastRatio=HZ;vn.getLuminance=Jg;vn.hexToRgb=DO;vn.hslToRgb=FO;var DZ=vn.lighten=rS;vn.private_safeAlpha=qZ;vn.private_safeColorChannel=void 0;vn.private_safeDarken=GZ;vn.private_safeEmphasize=UO;vn.private_safeLighten=WZ;vn.recomposeColor=wu;vn.rgbToHex=UZ;var sT=$O(VZ),BZ=$O(LZ);function tS(e,t=0,n=1){return(0,BZ.default)(e,t,n)}function DO(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function FZ(e){const t=e.toString(16);return t.length===1?`0${t}`:t}function Ii(e){if(e.type)return e;if(e.charAt(0)==="#")return Ii(DO(e));const t=e.indexOf("("),n=e.substring(0,t);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error((0,sT.default)(9,e));let r=e.substring(t+1,e.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error((0,sT.default)(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}const BO=e=>{const t=Ii(e);return t.values.slice(0,3).map((n,r)=>t.type.indexOf("hsl")!==-1&&r!==0?`${n}%`:n).join(" ")};vn.colorChannel=BO;const zZ=(e,t)=>{try{return BO(e)}catch{return e}};vn.private_safeColorChannel=zZ;function wu(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return t.indexOf("rgb")!==-1?r=r.map((i,s)=>s<3?parseInt(i,10):i):t.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),t.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${t}(${r})`}function UZ(e){if(e.indexOf("#")===0)return e;const{values:t}=Ii(e);return`#${t.map((n,r)=>FZ(r===3?Math.round(255*n):n)).join("")}`}function FO(e){e=Ii(e);const{values:t}=e,n=t[0],r=t[1]/100,i=t[2]/100,s=r*Math.min(i,1-i),o=(c,u=(c+n/30)%12)=>i-s*Math.max(Math.min(u-3,9-u,1),-1);let a="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return e.type==="hsla"&&(a+="a",l.push(t[3])),wu({type:a,values:l})}function Jg(e){e=Ii(e);let t=e.type==="hsl"||e.type==="hsla"?Ii(FO(e)).values:e.values;return t=t.map(n=>(e.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function HZ(e,t){const n=Jg(e),r=Jg(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function zO(e,t){return e=Ii(e),t=tS(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,wu(e)}function qZ(e,t,n){try{return zO(e,t)}catch{return e}}function nS(e,t){if(e=Ii(e),t=tS(t),e.type.indexOf("hsl")!==-1)e.values[2]*=1-t;else if(e.type.indexOf("rgb")!==-1||e.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)e.values[n]*=1-t;return wu(e)}function GZ(e,t,n){try{return nS(e,t)}catch{return e}}function rS(e,t){if(e=Ii(e),t=tS(t),e.type.indexOf("hsl")!==-1)e.values[2]+=(100-e.values[2])*t;else if(e.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(e.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return wu(e)}function WZ(e,t,n){try{return rS(e,t)}catch{return e}}function YZ(e,t=.15){return Jg(e)>.5?nS(e,t):rS(e,t)}function UO(e,t,n){try{return UO(e,t)}catch{return e}}function KZ(e,t,n,r=1){const i=(l,c)=>Math.round((l**(1/r)*(1-n)+c**(1/r)*n)**r),s=Ii(e),o=Ii(t),a=[i(s.values[0],o.values[0]),i(s.values[1],o.values[1]),i(s.values[2],o.values[2])];return wu({type:"rgb",values:a})}const QZ={black:"#000",white:"#fff"},mf=QZ,JZ={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},XZ=JZ,ZZ={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},zl=ZZ,eee={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Ul=eee,tee={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},qu=tee,nee={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Hl=nee,ree={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},ql=ree,iee={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Gl=iee,see=["mode","contrastThreshold","tonalOffset"],oT={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:mf.white,default:mf.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},_y={text:{primary:mf.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:mf.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function aT(e,t,n,r){const i=r.light||r,s=r.dark||r*1.5;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:t==="light"?e.light=DZ(e.main,i):t==="dark"&&(e.dark=NZ(e.main,s)))}function oee(e="light"){return e==="dark"?{main:Hl[200],light:Hl[50],dark:Hl[400]}:{main:Hl[700],light:Hl[400],dark:Hl[800]}}function aee(e="light"){return e==="dark"?{main:zl[200],light:zl[50],dark:zl[400]}:{main:zl[500],light:zl[300],dark:zl[700]}}function lee(e="light"){return e==="dark"?{main:Ul[500],light:Ul[300],dark:Ul[700]}:{main:Ul[700],light:Ul[400],dark:Ul[800]}}function cee(e="light"){return e==="dark"?{main:ql[400],light:ql[300],dark:ql[700]}:{main:ql[700],light:ql[500],dark:ql[900]}}function uee(e="light"){return e==="dark"?{main:Gl[400],light:Gl[300],dark:Gl[700]}:{main:Gl[800],light:Gl[500],dark:Gl[900]}}function dee(e="light"){return e==="dark"?{main:qu[400],light:qu[300],dark:qu[700]}:{main:"#ed6c02",light:qu[500],dark:qu[900]}}function fee(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:r=.2}=e,i=Xt(e,see),s=e.primary||oee(t),o=e.secondary||aee(t),a=e.error||lee(t),l=e.info||cee(t),c=e.success||uee(t),u=e.warning||dee(t);function d(m){return $Z(m,_y.text.primary)>=n?_y.text.primary:oT.text.primary}const h=({color:m,name:A,mainShade:v=500,lightShade:y=300,darkShade:b=700})=>{if(m=oe({},m),!m.main&&m[v]&&(m.main=m[v]),!m.hasOwnProperty("main"))throw new Error(fl(11,A?` (${A})`:"",v));if(typeof m.main!="string")throw new Error(fl(12,A?` (${A})`:"",JSON.stringify(m.main)));return aT(m,"light",y,r),aT(m,"dark",b,r),m.contrastText||(m.contrastText=d(m.main)),m},p={dark:_y,light:oT};return rs(oe({common:oe({},mf),mode:t,primary:h({color:s,name:"primary"}),secondary:h({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:h({color:a,name:"error"}),warning:h({color:u,name:"warning"}),info:h({color:l,name:"info"}),success:h({color:c,name:"success"}),grey:XZ,contrastThreshold:n,getContrastText:d,augmentColor:h,tonalOffset:r},p[t]),i)}const hee=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function pee(e){return Math.round(e*1e5)/1e5}const lT={textTransform:"uppercase"},cT='"Roboto", "Helvetica", "Arial", sans-serif';function gee(e,t){const n=typeof t=="function"?t(e):t,{fontFamily:r=cT,fontSize:i=14,fontWeightLight:s=300,fontWeightRegular:o=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:c=16,allVariants:u,pxToRem:d}=n,h=Xt(n,hee),p=i/14,g=d||(v=>`${v/c*p}rem`),m=(v,y,b,S,x)=>oe({fontFamily:r,fontWeight:v,fontSize:g(y),lineHeight:b},r===cT?{letterSpacing:`${pee(S/y)}em`}:{},x,u),A={h1:m(s,96,1.167,-1.5),h2:m(s,60,1.2,-.5),h3:m(o,48,1.167,0),h4:m(o,34,1.235,.25),h5:m(o,24,1.334,0),h6:m(a,20,1.6,.15),subtitle1:m(o,16,1.75,.15),subtitle2:m(a,14,1.57,.1),body1:m(o,16,1.5,.15),body2:m(o,14,1.43,.15),button:m(a,14,1.75,.4,lT),caption:m(o,12,1.66,.4),overline:m(o,12,2.66,1,lT),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return rs(oe({htmlFontSize:c,pxToRem:g,fontFamily:r,fontSize:i,fontWeightLight:s,fontWeightRegular:o,fontWeightMedium:a,fontWeightBold:l},A),h,{clone:!1})}const mee=.2,vee=.14,yee=.12;function Dt(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${mee})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${vee})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${yee})`].join(",")}const Aee=["none",Dt(0,2,1,-1,0,1,1,0,0,1,3,0),Dt(0,3,1,-2,0,2,2,0,0,1,5,0),Dt(0,3,3,-2,0,3,4,0,0,1,8,0),Dt(0,2,4,-1,0,4,5,0,0,1,10,0),Dt(0,3,5,-1,0,5,8,0,0,1,14,0),Dt(0,3,5,-1,0,6,10,0,0,1,18,0),Dt(0,4,5,-2,0,7,10,1,0,2,16,1),Dt(0,5,5,-3,0,8,10,1,0,3,14,2),Dt(0,5,6,-3,0,9,12,1,0,3,16,2),Dt(0,6,6,-3,0,10,14,1,0,4,18,3),Dt(0,6,7,-4,0,11,15,1,0,4,20,3),Dt(0,7,8,-4,0,12,17,2,0,5,22,4),Dt(0,7,8,-4,0,13,19,2,0,5,24,4),Dt(0,7,9,-4,0,14,21,2,0,5,26,4),Dt(0,8,9,-5,0,15,22,2,0,6,28,5),Dt(0,8,10,-5,0,16,24,2,0,6,30,5),Dt(0,8,11,-5,0,17,26,2,0,6,32,5),Dt(0,9,11,-5,0,18,28,2,0,7,34,6),Dt(0,9,12,-6,0,19,29,2,0,7,36,6),Dt(0,10,13,-6,0,20,31,3,0,8,38,7),Dt(0,10,13,-6,0,21,33,3,0,8,40,7),Dt(0,10,14,-6,0,22,35,3,0,8,42,7),Dt(0,11,14,-7,0,23,36,3,0,9,44,8),Dt(0,11,15,-7,0,24,38,3,0,9,46,8)],_ee=["duration","easing","delay"],bee={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},xee={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function uT(e){return`${Math.round(e)}ms`}function See(e){if(!e)return 0;const t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function wee(e){const t=oe({},bee,e.easing),n=oe({},xee,e.duration);return oe({getAutoHeightDuration:See,create:(i=["all"],s={})=>{const{duration:o=n.standard,easing:a=t.easeInOut,delay:l=0}=s;return Xt(s,_ee),(Array.isArray(i)?i:[i]).map(c=>`${c} ${typeof o=="string"?o:uT(o)} ${a} ${typeof l=="string"?l:uT(l)}`).join(",")}},e,{easing:t,duration:n})}const Eee={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},kee=Eee,Cee=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function HO(e={},...t){const{mixins:n={},palette:r={},transitions:i={},typography:s={}}=e,o=Xt(e,Cee);if(e.vars)throw new Error(fl(18));const a=fee(r),l=eS(e);let c=rs(l,{mixins:OZ(l.breakpoints,n),palette:a,shadows:Aee.slice(),typography:gee(a,s),transitions:wee(i),zIndex:oe({},kee)});return c=rs(c,o),c=t.reduce((u,d)=>rs(u,d),c),c.unstable_sxConfig=oe({},fh,o==null?void 0:o.unstable_sxConfig),c.unstable_sx=function(d){return Zx({sx:d,theme:this})},c}const Tee=HO(),iS=Tee,vf="$$material";function ha({props:e,name:t}){return IZ({props:e,name:t,defaultTheme:iS,themeId:vf})}var hh={},by={exports:{}},dT;function Iee(){return dT||(dT=1,function(e){function t(){return e.exports=t=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(this,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(by)),by.exports}var xy={exports:{}},fT;function Pee(){return fT||(fT=1,function(e){function t(n,r){if(n==null)return{};var i={},s=Object.keys(n),o,a;for(a=0;a<s.length;a++)o=s[a],!(r.indexOf(o)>=0)&&(i[o]=n[o]);return i}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(xy)),xy.exports}const qO=Fs(kZ),Ree=Fs(GJ),Mee=Fs(iX),jee=Fs(rX),Oee=Fs(AZ),Vee=Fs(jZ);var Eu=Xe;Object.defineProperty(hh,"__esModule",{value:!0});var Lee=hh.default=Kee;hh.shouldForwardProp=Zp;hh.systemDefaultTheme=void 0;var di=Eu(Iee()),V1=Eu(Pee()),hT=Uee(qO),Nee=Ree;Eu(Mee);Eu(jee);var $ee=Eu(Oee),Dee=Eu(Vee);const Bee=["ownerState"],Fee=["variants"],zee=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function GO(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(GO=function(r){return r?n:t})(e)}function Uee(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=GO(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(s!=="default"&&Object.prototype.hasOwnProperty.call(e,s)){var o=i?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=e[s]}return r.default=e,n&&n.set(e,r),r}function Hee(e){return Object.keys(e).length===0}function qee(e){return typeof e=="string"&&e.charCodeAt(0)>96}function Zp(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const Gee=hh.systemDefaultTheme=(0,$ee.default)(),Wee=e=>e&&e.charAt(0).toLowerCase()+e.slice(1);function np({defaultTheme:e,theme:t,themeId:n}){return Hee(t)?e:t[n]||t}function Yee(e){return e?(t,n)=>n[e]:null}function eg(e,t){let{ownerState:n}=t,r=(0,V1.default)(t,Bee);const i=typeof e=="function"?e((0,di.default)({ownerState:n},r)):e;if(Array.isArray(i))return i.flatMap(s=>eg(s,(0,di.default)({ownerState:n},r)));if(i&&typeof i=="object"&&Array.isArray(i.variants)){const{variants:s=[]}=i;let a=(0,V1.default)(i,Fee);return s.forEach(l=>{let c=!0;typeof l.props=="function"?c=l.props((0,di.default)({ownerState:n},r,n)):Object.keys(l.props).forEach(u=>{(n==null?void 0:n[u])!==l.props[u]&&r[u]!==l.props[u]&&(c=!1)}),c&&(Array.isArray(a)||(a=[a]),a.push(typeof l.style=="function"?l.style((0,di.default)({ownerState:n},r,n)):l.style))}),a}return i}function Kee(e={}){const{themeId:t,defaultTheme:n=Gee,rootShouldForwardProp:r=Zp,slotShouldForwardProp:i=Zp}=e,s=o=>(0,Dee.default)((0,di.default)({},o,{theme:np((0,di.default)({},o,{defaultTheme:n,themeId:t}))}));return s.__mui_systemSx=!0,(o,a={})=>{(0,hT.internal_processStyles)(o,x=>x.filter(w=>!(w!=null&&w.__mui_systemSx)));const{name:l,slot:c,skipVariantsResolver:u,skipSx:d,overridesResolver:h=Yee(Wee(c))}=a,p=(0,V1.default)(a,zee),g=u!==void 0?u:c&&c!=="Root"&&c!=="root"||!1,m=d||!1;let A,v=Zp;c==="Root"||c==="root"?v=r:c?v=i:qee(o)&&(v=void 0);const y=(0,hT.default)(o,(0,di.default)({shouldForwardProp:v,label:A},p)),b=x=>typeof x=="function"&&x.__emotion_real!==x||(0,Nee.isPlainObject)(x)?w=>eg(x,(0,di.default)({},w,{theme:np({theme:w.theme,defaultTheme:n,themeId:t})})):x,S=(x,...w)=>{let E=b(x);const T=w?w.map(b):[];l&&h&&T.push(N=>{const Q=np((0,di.default)({},N,{defaultTheme:n,themeId:t}));if(!Q.components||!Q.components[l]||!Q.components[l].styleOverrides)return null;const M=Q.components[l].styleOverrides,U={};return Object.entries(M).forEach(([P,I])=>{U[P]=eg(I,(0,di.default)({},N,{theme:Q}))}),h(N,U)}),l&&!g&&T.push(N=>{var Q;const M=np((0,di.default)({},N,{defaultTheme:n,themeId:t})),U=M==null||(Q=M.components)==null||(Q=Q[l])==null?void 0:Q.variants;return eg({variants:U},(0,di.default)({},N,{theme:M}))}),m||T.push(s);const L=T.length-w.length;if(Array.isArray(x)&&L>0){const N=new Array(L).fill("");E=[...x,...N],E.raw=[...x.raw,...N]}const O=y(E,...T);return o.muiName&&(O.muiName=o.muiName),O};return y.withConfig&&(S.withConfig=y.withConfig),S}}function Qee(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const Jee=e=>Qee(e)&&e!=="classes",ri=Lee({themeId:vf,defaultTheme:iS,rootShouldForwardProp:Jee});function Xee(e){return Rl("MuiSvgIcon",e)}Ml("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const Zee=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],ete=e=>{const{color:t,fontSize:n,classes:r}=e,i={root:["root",t!=="inherit"&&`color${Cn(t)}`,`fontSize${Cn(n)}`]};return Pl(i,Xee,r)},tte=ri("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="inherit"&&t[`color${Cn(n.color)}`],t[`fontSize${Cn(n.fontSize)}`]]}})(({theme:e,ownerState:t})=>{var n,r,i,s,o,a,l,c,u,d,h,p,g;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:t.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(n=e.transitions)==null||(r=n.create)==null?void 0:r.call(n,"fill",{duration:(i=e.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((s=e.typography)==null||(o=s.pxToRem)==null?void 0:o.call(s,20))||"1.25rem",medium:((a=e.typography)==null||(l=a.pxToRem)==null?void 0:l.call(a,24))||"1.5rem",large:((c=e.typography)==null||(u=c.pxToRem)==null?void 0:u.call(c,35))||"2.1875rem"}[t.fontSize],color:(d=(h=(e.vars||e).palette)==null||(h=h[t.color])==null?void 0:h.main)!=null?d:{action:(p=(e.vars||e).palette)==null||(p=p.action)==null?void 0:p.active,disabled:(g=(e.vars||e).palette)==null||(g=g.action)==null?void 0:g.disabled,inherit:void 0}[t.color]}}),Xg=_.forwardRef(function(t,n){const r=ha({props:t,name:"MuiSvgIcon"}),{children:i,className:s,color:o="inherit",component:a="svg",fontSize:l="medium",htmlColor:c,inheritViewBox:u=!1,titleAccess:d,viewBox:h="0 0 24 24"}=r,p=Xt(r,Zee),g=_.isValidElement(i)&&i.type==="svg",m=oe({},r,{color:o,component:a,fontSize:l,instanceFontSize:t.fontSize,inheritViewBox:u,viewBox:h,hasSvgAsChild:g}),A={};u||(A.viewBox=h);const v=ete(m);return f.jsxs(tte,oe({as:a,className:Sn(v.root,s),focusable:"false",color:c,"aria-hidden":d?void 0:!0,role:d?"img":void 0,ref:n},A,p,g&&i.props,{ownerState:m,children:[g?i.props.children:i,d?f.jsx("title",{children:d}):null]}))});Xg.muiName="SvgIcon";function nte(e,t){function n(r,i){return f.jsx(Xg,oe({"data-testid":`${t}Icon`,ref:i},r,{children:e}))}return n.muiName=Xg.muiName,_.memo(_.forwardRef(n))}const rte={configure:e=>{wO.configure(e)}},ite=Object.freeze(Object.defineProperty({__proto__:null,capitalize:Cn,createChainedFunction:sX,createSvgIcon:nte,debounce:oX,deprecatedPropType:aX,isMuiElement:lX,ownerDocument:Wg,ownerWindow:cX,requirePropFactory:uX,setRef:Yg,unstable_ClassNameGenerator:rte,unstable_useEnhancedEffect:nu,unstable_useId:bO,unsupportedProp:fX,useControlled:xO,useEventCallback:za,useForkRef:ho,useIsFocusVisible:Yx},Symbol.toStringTag,{value:"Module"})),ste=Fs(ite);var pT;function nt(){return pT||(pT=1,function(e){"use client";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.createSvgIcon}});var t=ste}(yy)),yy}var ote=Xe;Object.defineProperty(qx,"__esModule",{value:!0});var WO=qx.default=void 0,ate=ote(nt()),lte=f;WO=qx.default=(0,ate.default)((0,lte.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 17h-2v-2h2zm2.07-7.75-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25"}),"Help");var sS={},cte=Xe;Object.defineProperty(sS,"__esModule",{value:!0});var YO=sS.default=void 0,ute=cte(nt()),dte=f;YO=sS.default=(0,ute.default)((0,dte.jsx)("path",{d:"M11 18h2v-2h-2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4"}),"HelpOutline");var oS={},fte=Xe;Object.defineProperty(oS,"__esModule",{value:!0});var yf=oS.default=void 0,hte=fte(nt()),pte=f;yf=oS.default=(0,hte.default)((0,pte.jsx)("path",{d:"M15 21h-2v-2h2zm-2-7h-2v5h2zm8-2h-2v4h2zm-2-2h-2v2h2zM7 12H5v2h2zm-2-2H3v2h2zm7-5h2V3h-2zm-7.5-.5v3h3v-3zM9 9H3V3h6zm-4.5 7.5v3h3v-3zM9 21H3v-6h6zm7.5-16.5v3h3v-3zM21 9h-6V3h6zm-2 10v-3h-4v2h2v3h4v-2zm-2-7h-4v2h4zm-4-2H7v2h2v2h2v-2h2zm1-1V7h-2V5h-2v4zM6.75 5.25h-1.5v1.5h1.5zm0 12h-1.5v1.5h1.5zm12-12h-1.5v1.5h1.5z"}),"QrCode2");function L1(e,t){return L1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},L1(e,t)}function KO(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,L1(e,t)}var QO={exports:{}},ii={},JO={exports:{}},XO={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(j,$){var B=j.length;j.push($);e:for(;0<B;){var D=B-1>>>1,q=j[D];if(0<i(q,$))j[D]=$,j[B]=q,B=D;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var $=j[0],B=j.pop();if(B!==$){j[0]=B;e:for(var D=0,q=j.length,ne=q>>>1;D<ne;){var V=2*(D+1)-1,ce=j[V],Z=V+1,de=j[Z];if(0>i(ce,B))Z<q&&0>i(de,ce)?(j[D]=de,j[Z]=B,D=Z):(j[D]=ce,j[V]=B,D=V);else if(Z<q&&0>i(de,B))j[D]=de,j[Z]=B,D=Z;else break e}}return $}function i(j,$){var B=j.sortIndex-$.sortIndex;return B!==0?B:j.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,h=3,p=!1,g=!1,m=!1,A=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(j){for(var $=n(c);$!==null;){if($.callback===null)r(c);else if($.startTime<=j)r(c),$.sortIndex=$.expirationTime,t(l,$);else break;$=n(c)}}function S(j){if(m=!1,b(j),!g)if(n(l)!==null)g=!0,I(x);else{var $=n(c);$!==null&&z(S,$.startTime-j)}}function x(j,$){g=!1,m&&(m=!1,v(T),T=-1),p=!0;var B=h;try{for(b($),d=n(l);d!==null&&(!(d.expirationTime>$)||j&&!N());){var D=d.callback;if(typeof D=="function"){d.callback=null,h=d.priorityLevel;var q=D(d.expirationTime<=$);$=e.unstable_now(),typeof q=="function"?d.callback=q:d===n(l)&&r(l),b($)}else r(l);d=n(l)}if(d!==null)var ne=!0;else{var V=n(c);V!==null&&z(S,V.startTime-$),ne=!1}return ne}finally{d=null,h=B,p=!1}}var w=!1,E=null,T=-1,L=5,O=-1;function N(){return!(e.unstable_now()-O<L)}function Q(){if(E!==null){var j=e.unstable_now();O=j;var $=!0;try{$=E(!0,j)}finally{$?M():(w=!1,E=null)}}else w=!1}var M;if(typeof y=="function")M=function(){y(Q)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,P=U.port2;U.port1.onmessage=Q,M=function(){P.postMessage(null)}}else M=function(){A(Q,0)};function I(j){E=j,w||(w=!0,M())}function z(j,$){T=A(function(){j(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(j){j.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,I(x))},e.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<j?Math.floor(1e3/j):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(j){switch(h){case 1:case 2:case 3:var $=3;break;default:$=h}var B=h;h=$;try{return j()}finally{h=B}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(j,$){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var B=h;h=j;try{return $()}finally{h=B}},e.unstable_scheduleCallback=function(j,$,B){var D=e.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?D+B:D):B=D,j){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=B+q,j={id:u++,callback:$,priorityLevel:j,startTime:B,expirationTime:q,sortIndex:-1},B>D?(j.sortIndex=B,t(c,j),n(l)===null&&j===n(c)&&(m?(v(T),T=-1):m=!0,z(S,B-D))):(j.sortIndex=q,t(l,j),g||p||(g=!0,I(x))),j},e.unstable_shouldYield=N,e.unstable_wrapCallback=function(j){var $=h;return function(){var B=h;h=$;try{return j.apply(this,arguments)}finally{h=B}}}})(XO);JO.exports=XO;var gte=JO.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZO=_,Xr=gte;function ae(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var eV=new Set,Af={};function jl(e,t){ru(e,t),ru(e+"Capture",t)}function ru(e,t){for(Af[e]=t,e=0;e<t.length;e++)eV.add(t[e])}var go=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),N1=Object.prototype.hasOwnProperty,mte=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,gT={},mT={};function vte(e){return N1.call(mT,e)?!0:N1.call(gT,e)?!1:mte.test(e)?mT[e]=!0:(gT[e]=!0,!1)}function yte(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Ate(e,t,n,r){if(t===null||typeof t>"u"||yte(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function br(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Xn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Xn[e]=new br(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Xn[t]=new br(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Xn[e]=new br(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Xn[e]=new br(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Xn[e]=new br(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Xn[e]=new br(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Xn[e]=new br(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Xn[e]=new br(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Xn[e]=new br(e,5,!1,e.toLowerCase(),null,!1,!1)});var aS=/[\-:]([a-z])/g;function lS(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(aS,lS);Xn[t]=new br(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(aS,lS);Xn[t]=new br(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(aS,lS);Xn[t]=new br(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Xn[e]=new br(e,1,!1,e.toLowerCase(),null,!1,!1)});Xn.xlinkHref=new br("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Xn[e]=new br(e,1,!1,e.toLowerCase(),null,!0,!0)});function cS(e,t,n,r){var i=Xn.hasOwnProperty(t)?Xn[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Ate(t,n,i,r)&&(n=null),r||i===null?vte(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var ko=ZO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,rp=Symbol.for("react.element"),cc=Symbol.for("react.portal"),uc=Symbol.for("react.fragment"),uS=Symbol.for("react.strict_mode"),$1=Symbol.for("react.profiler"),tV=Symbol.for("react.provider"),nV=Symbol.for("react.context"),dS=Symbol.for("react.forward_ref"),D1=Symbol.for("react.suspense"),B1=Symbol.for("react.suspense_list"),fS=Symbol.for("react.memo"),Lo=Symbol.for("react.lazy"),rV=Symbol.for("react.offscreen"),vT=Symbol.iterator;function Gu(e){return e===null||typeof e!="object"?null:(e=vT&&e[vT]||e["@@iterator"],typeof e=="function"?e:null)}var Jt=Object.assign,Sy;function gd(e){if(Sy===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Sy=t&&t[1]||""}return`
`+Sy+e}var wy=!1;function Ey(e,t){if(!e||wy)return"";wy=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{wy=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?gd(e):""}function _te(e){switch(e.tag){case 5:return gd(e.type);case 16:return gd("Lazy");case 13:return gd("Suspense");case 19:return gd("SuspenseList");case 0:case 2:case 15:return e=Ey(e.type,!1),e;case 11:return e=Ey(e.type.render,!1),e;case 1:return e=Ey(e.type,!0),e;default:return""}}function F1(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case uc:return"Fragment";case cc:return"Portal";case $1:return"Profiler";case uS:return"StrictMode";case D1:return"Suspense";case B1:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case nV:return(e.displayName||"Context")+".Consumer";case tV:return(e._context.displayName||"Context")+".Provider";case dS:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case fS:return t=e.displayName||null,t!==null?t:F1(e.type)||"Memo";case Lo:t=e._payload,e=e._init;try{return F1(e(t))}catch{}}return null}function bte(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return F1(t);case 8:return t===uS?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ua(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function iV(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function xte(e){var t=iV(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ip(e){e._valueTracker||(e._valueTracker=xte(e))}function sV(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=iV(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Zg(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function z1(e,t){var n=t.checked;return Jt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function yT(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ua(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function oV(e,t){t=t.checked,t!=null&&cS(e,"checked",t,!1)}function U1(e,t){oV(e,t);var n=ua(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?H1(e,t.type,n):t.hasOwnProperty("defaultValue")&&H1(e,t.type,ua(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function AT(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function H1(e,t,n){(t!=="number"||Zg(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var md=Array.isArray;function Vc(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ua(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function q1(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ae(91));return Jt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function _T(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ae(92));if(md(n)){if(1<n.length)throw Error(ae(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ua(n)}}function aV(e,t){var n=ua(t.value),r=ua(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function bT(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function lV(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function G1(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?lV(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var sp,cV=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(sp=sp||document.createElement("div"),sp.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=sp.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function _f(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var $d={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ste=["Webkit","ms","Moz","O"];Object.keys($d).forEach(function(e){Ste.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),$d[t]=$d[e]})});function uV(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||$d.hasOwnProperty(e)&&$d[e]?(""+t).trim():t+"px"}function dV(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=uV(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var wte=Jt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function W1(e,t){if(t){if(wte[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ae(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ae(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ae(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ae(62))}}function Y1(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var K1=null;function hS(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Q1=null,Lc=null,Nc=null;function xT(e){if(e=mh(e)){if(typeof Q1!="function")throw Error(ae(280));var t=e.stateNode;t&&(t=J0(t),Q1(e.stateNode,e.type,t))}}function fV(e){Lc?Nc?Nc.push(e):Nc=[e]:Lc=e}function hV(){if(Lc){var e=Lc,t=Nc;if(Nc=Lc=null,xT(e),t)for(e=0;e<t.length;e++)xT(t[e])}}function pV(e,t){return e(t)}function gV(){}var ky=!1;function mV(e,t,n){if(ky)return e(t,n);ky=!0;try{return pV(e,t,n)}finally{ky=!1,(Lc!==null||Nc!==null)&&(gV(),hV())}}function bf(e,t){var n=e.stateNode;if(n===null)return null;var r=J0(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ae(231,t,typeof n));return n}var J1=!1;if(go)try{var Wu={};Object.defineProperty(Wu,"passive",{get:function(){J1=!0}}),window.addEventListener("test",Wu,Wu),window.removeEventListener("test",Wu,Wu)}catch{J1=!1}function Ete(e,t,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Dd=!1,em=null,tm=!1,X1=null,kte={onError:function(e){Dd=!0,em=e}};function Cte(e,t,n,r,i,s,o,a,l){Dd=!1,em=null,Ete.apply(kte,arguments)}function Tte(e,t,n,r,i,s,o,a,l){if(Cte.apply(this,arguments),Dd){if(Dd){var c=em;Dd=!1,em=null}else throw Error(ae(198));tm||(tm=!0,X1=c)}}function Ol(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function vV(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ST(e){if(Ol(e)!==e)throw Error(ae(188))}function Ite(e){var t=e.alternate;if(!t){if(t=Ol(e),t===null)throw Error(ae(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return ST(i),e;if(s===r)return ST(i),t;s=s.sibling}throw Error(ae(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(ae(189))}}if(n.alternate!==r)throw Error(ae(190))}if(n.tag!==3)throw Error(ae(188));return n.stateNode.current===n?e:t}function yV(e){return e=Ite(e),e!==null?AV(e):null}function AV(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=AV(e);if(t!==null)return t;e=e.sibling}return null}var _V=Xr.unstable_scheduleCallback,wT=Xr.unstable_cancelCallback,Pte=Xr.unstable_shouldYield,Rte=Xr.unstable_requestPaint,fn=Xr.unstable_now,Mte=Xr.unstable_getCurrentPriorityLevel,pS=Xr.unstable_ImmediatePriority,bV=Xr.unstable_UserBlockingPriority,nm=Xr.unstable_NormalPriority,jte=Xr.unstable_LowPriority,xV=Xr.unstable_IdlePriority,W0=null,Os=null;function Ote(e){if(Os&&typeof Os.onCommitFiberRoot=="function")try{Os.onCommitFiberRoot(W0,e,void 0,(e.current.flags&128)===128)}catch{}}var is=Math.clz32?Math.clz32:Nte,Vte=Math.log,Lte=Math.LN2;function Nte(e){return e>>>=0,e===0?32:31-(Vte(e)/Lte|0)|0}var op=64,ap=4194304;function vd(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function rm(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=vd(a):(s&=o,s!==0&&(r=vd(s)))}else o=n&~i,o!==0?r=vd(o):s!==0&&(r=vd(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-is(t),i=1<<n,r|=e[n],t&=~i;return r}function $te(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Dte(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-is(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=$te(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function Z1(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function SV(){var e=op;return op<<=1,!(op&4194240)&&(op=64),e}function Cy(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ph(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-is(t),e[t]=n}function Bte(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-is(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function gS(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-is(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var mt=0;function wV(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var EV,mS,kV,CV,TV,e_=!1,lp=[],ea=null,ta=null,na=null,xf=new Map,Sf=new Map,Bo=[],Fte="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ET(e,t){switch(e){case"focusin":case"focusout":ea=null;break;case"dragenter":case"dragleave":ta=null;break;case"mouseover":case"mouseout":na=null;break;case"pointerover":case"pointerout":xf.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sf.delete(t.pointerId)}}function Yu(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=mh(t),t!==null&&mS(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function zte(e,t,n,r,i){switch(t){case"focusin":return ea=Yu(ea,e,t,n,r,i),!0;case"dragenter":return ta=Yu(ta,e,t,n,r,i),!0;case"mouseover":return na=Yu(na,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return xf.set(s,Yu(xf.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Sf.set(s,Yu(Sf.get(s)||null,e,t,n,r,i)),!0}return!1}function IV(e){var t=Ua(e.target);if(t!==null){var n=Ol(t);if(n!==null){if(t=n.tag,t===13){if(t=vV(n),t!==null){e.blockedOn=t,TV(e.priority,function(){kV(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function tg(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=t_(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);K1=r,n.target.dispatchEvent(r),K1=null}else return t=mh(n),t!==null&&mS(t),e.blockedOn=n,!1;t.shift()}return!0}function kT(e,t,n){tg(e)&&n.delete(t)}function Ute(){e_=!1,ea!==null&&tg(ea)&&(ea=null),ta!==null&&tg(ta)&&(ta=null),na!==null&&tg(na)&&(na=null),xf.forEach(kT),Sf.forEach(kT)}function Ku(e,t){e.blockedOn===t&&(e.blockedOn=null,e_||(e_=!0,Xr.unstable_scheduleCallback(Xr.unstable_NormalPriority,Ute)))}function wf(e){function t(i){return Ku(i,e)}if(0<lp.length){Ku(lp[0],e);for(var n=1;n<lp.length;n++){var r=lp[n];r.blockedOn===e&&(r.blockedOn=null)}}for(ea!==null&&Ku(ea,e),ta!==null&&Ku(ta,e),na!==null&&Ku(na,e),xf.forEach(t),Sf.forEach(t),n=0;n<Bo.length;n++)r=Bo[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Bo.length&&(n=Bo[0],n.blockedOn===null);)IV(n),n.blockedOn===null&&Bo.shift()}var $c=ko.ReactCurrentBatchConfig,im=!0;function Hte(e,t,n,r){var i=mt,s=$c.transition;$c.transition=null;try{mt=1,vS(e,t,n,r)}finally{mt=i,$c.transition=s}}function qte(e,t,n,r){var i=mt,s=$c.transition;$c.transition=null;try{mt=4,vS(e,t,n,r)}finally{mt=i,$c.transition=s}}function vS(e,t,n,r){if(im){var i=t_(e,t,n,r);if(i===null)Ny(e,t,r,sm,n),ET(e,r);else if(zte(i,e,t,n,r))r.stopPropagation();else if(ET(e,r),t&4&&-1<Fte.indexOf(e)){for(;i!==null;){var s=mh(i);if(s!==null&&EV(s),s=t_(e,t,n,r),s===null&&Ny(e,t,r,sm,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Ny(e,t,r,null,n)}}var sm=null;function t_(e,t,n,r){if(sm=null,e=hS(r),e=Ua(e),e!==null)if(t=Ol(e),t===null)e=null;else if(n=t.tag,n===13){if(e=vV(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return sm=e,null}function PV(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Mte()){case pS:return 1;case bV:return 4;case nm:case jte:return 16;case xV:return 536870912;default:return 16}default:return 16}}var Go=null,yS=null,ng=null;function RV(){if(ng)return ng;var e,t=yS,n=t.length,r,i="value"in Go?Go.value:Go.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return ng=i.slice(e,1<r?1-r:void 0)}function rg(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function cp(){return!0}function CT(){return!1}function si(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?cp:CT,this.isPropagationStopped=CT,this}return Jt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=cp)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=cp)},persist:function(){},isPersistent:cp}),t}var ku={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},AS=si(ku),gh=Jt({},ku,{view:0,detail:0}),Gte=si(gh),Ty,Iy,Qu,Y0=Jt({},gh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_S,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Qu&&(Qu&&e.type==="mousemove"?(Ty=e.screenX-Qu.screenX,Iy=e.screenY-Qu.screenY):Iy=Ty=0,Qu=e),Ty)},movementY:function(e){return"movementY"in e?e.movementY:Iy}}),TT=si(Y0),Wte=Jt({},Y0,{dataTransfer:0}),Yte=si(Wte),Kte=Jt({},gh,{relatedTarget:0}),Py=si(Kte),Qte=Jt({},ku,{animationName:0,elapsedTime:0,pseudoElement:0}),Jte=si(Qte),Xte=Jt({},ku,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Zte=si(Xte),ene=Jt({},ku,{data:0}),IT=si(ene),tne={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nne={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rne={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ine(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=rne[e])?!!t[e]:!1}function _S(){return ine}var sne=Jt({},gh,{key:function(e){if(e.key){var t=tne[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=rg(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?nne[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_S,charCode:function(e){return e.type==="keypress"?rg(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?rg(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),one=si(sne),ane=Jt({},Y0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),PT=si(ane),lne=Jt({},gh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_S}),cne=si(lne),une=Jt({},ku,{propertyName:0,elapsedTime:0,pseudoElement:0}),dne=si(une),fne=Jt({},Y0,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),hne=si(fne),pne=[9,13,27,32],bS=go&&"CompositionEvent"in window,Bd=null;go&&"documentMode"in document&&(Bd=document.documentMode);var gne=go&&"TextEvent"in window&&!Bd,MV=go&&(!bS||Bd&&8<Bd&&11>=Bd),RT=" ",MT=!1;function jV(e,t){switch(e){case"keyup":return pne.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function OV(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var dc=!1;function mne(e,t){switch(e){case"compositionend":return OV(t);case"keypress":return t.which!==32?null:(MT=!0,RT);case"textInput":return e=t.data,e===RT&&MT?null:e;default:return null}}function vne(e,t){if(dc)return e==="compositionend"||!bS&&jV(e,t)?(e=RV(),ng=yS=Go=null,dc=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return MV&&t.locale!=="ko"?null:t.data;default:return null}}var yne={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jT(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!yne[e.type]:t==="textarea"}function VV(e,t,n,r){fV(r),t=om(t,"onChange"),0<t.length&&(n=new AS("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Fd=null,Ef=null;function Ane(e){GV(e,0)}function K0(e){var t=pc(e);if(sV(t))return e}function _ne(e,t){if(e==="change")return t}var LV=!1;if(go){var Ry;if(go){var My="oninput"in document;if(!My){var OT=document.createElement("div");OT.setAttribute("oninput","return;"),My=typeof OT.oninput=="function"}Ry=My}else Ry=!1;LV=Ry&&(!document.documentMode||9<document.documentMode)}function VT(){Fd&&(Fd.detachEvent("onpropertychange",NV),Ef=Fd=null)}function NV(e){if(e.propertyName==="value"&&K0(Ef)){var t=[];VV(t,Ef,e,hS(e)),mV(Ane,t)}}function bne(e,t,n){e==="focusin"?(VT(),Fd=t,Ef=n,Fd.attachEvent("onpropertychange",NV)):e==="focusout"&&VT()}function xne(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return K0(Ef)}function Sne(e,t){if(e==="click")return K0(t)}function wne(e,t){if(e==="input"||e==="change")return K0(t)}function Ene(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var cs=typeof Object.is=="function"?Object.is:Ene;function kf(e,t){if(cs(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!N1.call(t,i)||!cs(e[i],t[i]))return!1}return!0}function LT(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function NT(e,t){var n=LT(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=LT(n)}}function $V(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?$V(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function DV(){for(var e=window,t=Zg();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Zg(e.document)}return t}function xS(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function kne(e){var t=DV(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&$V(n.ownerDocument.documentElement,n)){if(r!==null&&xS(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=NT(n,s);var o=NT(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Cne=go&&"documentMode"in document&&11>=document.documentMode,fc=null,n_=null,zd=null,r_=!1;function $T(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;r_||fc==null||fc!==Zg(r)||(r=fc,"selectionStart"in r&&xS(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),zd&&kf(zd,r)||(zd=r,r=om(n_,"onSelect"),0<r.length&&(t=new AS("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=fc)))}function up(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var hc={animationend:up("Animation","AnimationEnd"),animationiteration:up("Animation","AnimationIteration"),animationstart:up("Animation","AnimationStart"),transitionend:up("Transition","TransitionEnd")},jy={},BV={};go&&(BV=document.createElement("div").style,"AnimationEvent"in window||(delete hc.animationend.animation,delete hc.animationiteration.animation,delete hc.animationstart.animation),"TransitionEvent"in window||delete hc.transitionend.transition);function Q0(e){if(jy[e])return jy[e];if(!hc[e])return e;var t=hc[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in BV)return jy[e]=t[n];return e}var FV=Q0("animationend"),zV=Q0("animationiteration"),UV=Q0("animationstart"),HV=Q0("transitionend"),qV=new Map,DT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function pa(e,t){qV.set(e,t),jl(t,[e])}for(var Oy=0;Oy<DT.length;Oy++){var Vy=DT[Oy],Tne=Vy.toLowerCase(),Ine=Vy[0].toUpperCase()+Vy.slice(1);pa(Tne,"on"+Ine)}pa(FV,"onAnimationEnd");pa(zV,"onAnimationIteration");pa(UV,"onAnimationStart");pa("dblclick","onDoubleClick");pa("focusin","onFocus");pa("focusout","onBlur");pa(HV,"onTransitionEnd");ru("onMouseEnter",["mouseout","mouseover"]);ru("onMouseLeave",["mouseout","mouseover"]);ru("onPointerEnter",["pointerout","pointerover"]);ru("onPointerLeave",["pointerout","pointerover"]);jl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));jl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));jl("onBeforeInput",["compositionend","keypress","textInput","paste"]);jl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));jl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));jl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Pne=new Set("cancel close invalid load scroll toggle".split(" ").concat(yd));function BT(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Tte(r,t,void 0,e),e.currentTarget=null}function GV(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;BT(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;BT(i,a,c),s=l}}}if(tm)throw e=X1,tm=!1,X1=null,e}function Pt(e,t){var n=t[l_];n===void 0&&(n=t[l_]=new Set);var r=e+"__bubble";n.has(r)||(WV(t,e,2,!1),n.add(r))}function Ly(e,t,n){var r=0;t&&(r|=4),WV(n,e,r,t)}var dp="_reactListening"+Math.random().toString(36).slice(2);function Cf(e){if(!e[dp]){e[dp]=!0,eV.forEach(function(n){n!=="selectionchange"&&(Pne.has(n)||Ly(n,!1,e),Ly(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[dp]||(t[dp]=!0,Ly("selectionchange",!1,t))}}function WV(e,t,n,r){switch(PV(t)){case 1:var i=Hte;break;case 4:i=qte;break;default:i=vS}n=i.bind(null,t,n,e),i=void 0,!J1||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Ny(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Ua(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}mV(function(){var c=s,u=hS(n),d=[];e:{var h=qV.get(e);if(h!==void 0){var p=AS,g=e;switch(e){case"keypress":if(rg(n)===0)break e;case"keydown":case"keyup":p=one;break;case"focusin":g="focus",p=Py;break;case"focusout":g="blur",p=Py;break;case"beforeblur":case"afterblur":p=Py;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=TT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Yte;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=cne;break;case FV:case zV:case UV:p=Jte;break;case HV:p=dne;break;case"scroll":p=Gte;break;case"wheel":p=hne;break;case"copy":case"cut":case"paste":p=Zte;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=PT}var m=(t&4)!==0,A=!m&&e==="scroll",v=m?h!==null?h+"Capture":null:h;m=[];for(var y=c,b;y!==null;){b=y;var S=b.stateNode;if(b.tag===5&&S!==null&&(b=S,v!==null&&(S=bf(y,v),S!=null&&m.push(Tf(y,S,b)))),A)break;y=y.return}0<m.length&&(h=new p(h,g,null,n,u),d.push({event:h,listeners:m}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&n!==K1&&(g=n.relatedTarget||n.fromElement)&&(Ua(g)||g[mo]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=c,g=g?Ua(g):null,g!==null&&(A=Ol(g),g!==A||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=c),p!==g)){if(m=TT,S="onMouseLeave",v="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(m=PT,S="onPointerLeave",v="onPointerEnter",y="pointer"),A=p==null?h:pc(p),b=g==null?h:pc(g),h=new m(S,y+"leave",p,n,u),h.target=A,h.relatedTarget=b,S=null,Ua(u)===c&&(m=new m(v,y+"enter",g,n,u),m.target=b,m.relatedTarget=A,S=m),A=S,p&&g)t:{for(m=p,v=g,y=0,b=m;b;b=Wl(b))y++;for(b=0,S=v;S;S=Wl(S))b++;for(;0<y-b;)m=Wl(m),y--;for(;0<b-y;)v=Wl(v),b--;for(;y--;){if(m===v||v!==null&&m===v.alternate)break t;m=Wl(m),v=Wl(v)}m=null}else m=null;p!==null&&FT(d,h,p,m,!1),g!==null&&A!==null&&FT(d,A,g,m,!0)}}e:{if(h=c?pc(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var x=_ne;else if(jT(h))if(LV)x=wne;else{x=xne;var w=bne}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(x=Sne);if(x&&(x=x(e,c))){VV(d,x,n,u);break e}w&&w(e,h,c),e==="focusout"&&(w=h._wrapperState)&&w.controlled&&h.type==="number"&&H1(h,"number",h.value)}switch(w=c?pc(c):window,e){case"focusin":(jT(w)||w.contentEditable==="true")&&(fc=w,n_=c,zd=null);break;case"focusout":zd=n_=fc=null;break;case"mousedown":r_=!0;break;case"contextmenu":case"mouseup":case"dragend":r_=!1,$T(d,n,u);break;case"selectionchange":if(Cne)break;case"keydown":case"keyup":$T(d,n,u)}var E;if(bS)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else dc?jV(e,n)&&(T="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(MV&&n.locale!=="ko"&&(dc||T!=="onCompositionStart"?T==="onCompositionEnd"&&dc&&(E=RV()):(Go=u,yS="value"in Go?Go.value:Go.textContent,dc=!0)),w=om(c,T),0<w.length&&(T=new IT(T,e,null,n,u),d.push({event:T,listeners:w}),E?T.data=E:(E=OV(n),E!==null&&(T.data=E)))),(E=gne?mne(e,n):vne(e,n))&&(c=om(c,"onBeforeInput"),0<c.length&&(u=new IT("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=E))}GV(d,t)})}function Tf(e,t,n){return{instance:e,listener:t,currentTarget:n}}function om(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=bf(e,n),s!=null&&r.unshift(Tf(e,s,i)),s=bf(e,t),s!=null&&r.push(Tf(e,s,i))),e=e.return}return r}function Wl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function FT(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=bf(n,s),l!=null&&o.unshift(Tf(n,l,a))):i||(l=bf(n,s),l!=null&&o.push(Tf(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Rne=/\r\n?/g,Mne=/\u0000|\uFFFD/g;function zT(e){return(typeof e=="string"?e:""+e).replace(Rne,`
`).replace(Mne,"")}function fp(e,t,n){if(t=zT(t),zT(e)!==t&&n)throw Error(ae(425))}function am(){}var i_=null,s_=null;function o_(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var a_=typeof setTimeout=="function"?setTimeout:void 0,jne=typeof clearTimeout=="function"?clearTimeout:void 0,UT=typeof Promise=="function"?Promise:void 0,One=typeof queueMicrotask=="function"?queueMicrotask:typeof UT<"u"?function(e){return UT.resolve(null).then(e).catch(Vne)}:a_;function Vne(e){setTimeout(function(){throw e})}function $y(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),wf(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);wf(t)}function ra(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function HT(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Cu=Math.random().toString(36).slice(2),Es="__reactFiber$"+Cu,If="__reactProps$"+Cu,mo="__reactContainer$"+Cu,l_="__reactEvents$"+Cu,Lne="__reactListeners$"+Cu,Nne="__reactHandles$"+Cu;function Ua(e){var t=e[Es];if(t)return t;for(var n=e.parentNode;n;){if(t=n[mo]||n[Es]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=HT(e);e!==null;){if(n=e[Es])return n;e=HT(e)}return t}e=n,n=e.parentNode}return null}function mh(e){return e=e[Es]||e[mo],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function pc(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ae(33))}function J0(e){return e[If]||null}var c_=[],gc=-1;function ga(e){return{current:e}}function jt(e){0>gc||(e.current=c_[gc],c_[gc]=null,gc--)}function It(e,t){gc++,c_[gc]=e.current,e.current=t}var da={},ar=ga(da),Ir=ga(!1),hl=da;function iu(e,t){var n=e.type.contextTypes;if(!n)return da;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Pr(e){return e=e.childContextTypes,e!=null}function lm(){jt(Ir),jt(ar)}function qT(e,t,n){if(ar.current!==da)throw Error(ae(168));It(ar,t),It(Ir,n)}function YV(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(ae(108,bte(e)||"Unknown",i));return Jt({},n,r)}function cm(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||da,hl=ar.current,It(ar,e),It(Ir,Ir.current),!0}function GT(e,t,n){var r=e.stateNode;if(!r)throw Error(ae(169));n?(e=YV(e,t,hl),r.__reactInternalMemoizedMergedChildContext=e,jt(Ir),jt(ar),It(ar,e)):jt(Ir),It(Ir,n)}var Qs=null,X0=!1,Dy=!1;function KV(e){Qs===null?Qs=[e]:Qs.push(e)}function $ne(e){X0=!0,KV(e)}function ma(){if(!Dy&&Qs!==null){Dy=!0;var e=0,t=mt;try{var n=Qs;for(mt=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Qs=null,X0=!1}catch(i){throw Qs!==null&&(Qs=Qs.slice(e+1)),_V(pS,ma),i}finally{mt=t,Dy=!1}}return null}var mc=[],vc=0,um=null,dm=0,vi=[],yi=0,pl=null,eo=1,to="";function ja(e,t){mc[vc++]=dm,mc[vc++]=um,um=e,dm=t}function QV(e,t,n){vi[yi++]=eo,vi[yi++]=to,vi[yi++]=pl,pl=e;var r=eo;e=to;var i=32-is(r)-1;r&=~(1<<i),n+=1;var s=32-is(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,eo=1<<32-is(t)+i|n<<i|r,to=s+e}else eo=1<<s|n<<i|r,to=e}function SS(e){e.return!==null&&(ja(e,1),QV(e,1,0))}function wS(e){for(;e===um;)um=mc[--vc],mc[vc]=null,dm=mc[--vc],mc[vc]=null;for(;e===pl;)pl=vi[--yi],vi[yi]=null,to=vi[--yi],vi[yi]=null,eo=vi[--yi],vi[yi]=null}var Qr=null,Wr=null,qt=!1,Wi=null;function JV(e,t){var n=bi(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function WT(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Qr=e,Wr=ra(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Qr=e,Wr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=pl!==null?{id:eo,overflow:to}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=bi(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Qr=e,Wr=null,!0):!1;default:return!1}}function u_(e){return(e.mode&1)!==0&&(e.flags&128)===0}function d_(e){if(qt){var t=Wr;if(t){var n=t;if(!WT(e,t)){if(u_(e))throw Error(ae(418));t=ra(n.nextSibling);var r=Qr;t&&WT(e,t)?JV(r,n):(e.flags=e.flags&-4097|2,qt=!1,Qr=e)}}else{if(u_(e))throw Error(ae(418));e.flags=e.flags&-4097|2,qt=!1,Qr=e}}}function YT(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Qr=e}function hp(e){if(e!==Qr)return!1;if(!qt)return YT(e),qt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!o_(e.type,e.memoizedProps)),t&&(t=Wr)){if(u_(e))throw XV(),Error(ae(418));for(;t;)JV(e,t),t=ra(t.nextSibling)}if(YT(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ae(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Wr=ra(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Wr=null}}else Wr=Qr?ra(e.stateNode.nextSibling):null;return!0}function XV(){for(var e=Wr;e;)e=ra(e.nextSibling)}function su(){Wr=Qr=null,qt=!1}function ES(e){Wi===null?Wi=[e]:Wi.push(e)}var Dne=ko.ReactCurrentBatchConfig;function zi(e,t){if(e&&e.defaultProps){t=Jt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var fm=ga(null),hm=null,yc=null,kS=null;function CS(){kS=yc=hm=null}function TS(e){var t=fm.current;jt(fm),e._currentValue=t}function f_(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Dc(e,t){hm=e,kS=yc=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Tr=!0),e.firstContext=null)}function Pi(e){var t=e._currentValue;if(kS!==e)if(e={context:e,memoizedValue:t,next:null},yc===null){if(hm===null)throw Error(ae(308));yc=e,hm.dependencies={lanes:0,firstContext:e}}else yc=yc.next=e;return t}var Ha=null;function IS(e){Ha===null?Ha=[e]:Ha.push(e)}function ZV(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,IS(t)):(n.next=i.next,i.next=n),t.interleaved=n,vo(e,r)}function vo(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var No=!1;function PS(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function e4(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function so(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ia(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,lt&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,vo(e,n)}return i=r.interleaved,i===null?(t.next=t,IS(r)):(t.next=i.next,i.next=t),r.interleaved=t,vo(e,n)}function ig(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,gS(e,n)}}function KT(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function pm(e,t,n,r){var i=e.updateQueue;No=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=e.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,u=c=l=null,a=s;do{var h=a.lane,p=a.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=e,m=a;switch(h=t,p=n,m.tag){case 1:if(g=m.payload,typeof g=="function"){d=g.call(p,d,h);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,h=typeof g=="function"?g.call(p,d,h):g,h==null)break e;d=Jt({},d,h);break e;case 2:No=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=d):u=u.next=p,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);ml|=o,e.lanes=o,e.memoizedState=d}}function QT(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ae(191,i));i.call(r)}}}var t4=new ZO.Component().refs;function h_(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Jt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Z0={isMounted:function(e){return(e=e._reactInternals)?Ol(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ar(),i=oa(e),s=so(r,i);s.payload=t,n!=null&&(s.callback=n),t=ia(e,s,i),t!==null&&(ss(t,e,i,r),ig(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ar(),i=oa(e),s=so(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=ia(e,s,i),t!==null&&(ss(t,e,i,r),ig(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ar(),r=oa(e),i=so(n,r);i.tag=2,t!=null&&(i.callback=t),t=ia(e,i,r),t!==null&&(ss(t,e,r,n),ig(t,e,r))}};function JT(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!kf(n,r)||!kf(i,s):!0}function n4(e,t,n){var r=!1,i=da,s=t.contextType;return typeof s=="object"&&s!==null?s=Pi(s):(i=Pr(t)?hl:ar.current,r=t.contextTypes,s=(r=r!=null)?iu(e,i):da),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Z0,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function XT(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Z0.enqueueReplaceState(t,t.state,null)}function p_(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=t4,PS(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=Pi(s):(s=Pr(t)?hl:ar.current,i.context=iu(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(h_(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Z0.enqueueReplaceState(i,i.state,null),pm(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Ju(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ae(309));var r=n.stateNode}if(!r)throw Error(ae(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;a===t4&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(ae(284));if(!n._owner)throw Error(ae(290,e))}return e}function pp(e,t){throw e=Object.prototype.toString.call(t),Error(ae(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ZT(e){var t=e._init;return t(e._payload)}function r4(e){function t(v,y){if(e){var b=v.deletions;b===null?(v.deletions=[y],v.flags|=16):b.push(y)}}function n(v,y){if(!e)return null;for(;y!==null;)t(v,y),y=y.sibling;return null}function r(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function i(v,y){return v=aa(v,y),v.index=0,v.sibling=null,v}function s(v,y,b){return v.index=b,e?(b=v.alternate,b!==null?(b=b.index,b<y?(v.flags|=2,y):b):(v.flags|=2,y)):(v.flags|=1048576,y)}function o(v){return e&&v.alternate===null&&(v.flags|=2),v}function a(v,y,b,S){return y===null||y.tag!==6?(y=Gy(b,v.mode,S),y.return=v,y):(y=i(y,b),y.return=v,y)}function l(v,y,b,S){var x=b.type;return x===uc?u(v,y,b.props.children,S,b.key):y!==null&&(y.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Lo&&ZT(x)===y.type)?(S=i(y,b.props),S.ref=Ju(v,y,b),S.return=v,S):(S=ug(b.type,b.key,b.props,null,v.mode,S),S.ref=Ju(v,y,b),S.return=v,S)}function c(v,y,b,S){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=Wy(b,v.mode,S),y.return=v,y):(y=i(y,b.children||[]),y.return=v,y)}function u(v,y,b,S,x){return y===null||y.tag!==7?(y=Ja(b,v.mode,S,x),y.return=v,y):(y=i(y,b),y.return=v,y)}function d(v,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Gy(""+y,v.mode,b),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case rp:return b=ug(y.type,y.key,y.props,null,v.mode,b),b.ref=Ju(v,null,y),b.return=v,b;case cc:return y=Wy(y,v.mode,b),y.return=v,y;case Lo:var S=y._init;return d(v,S(y._payload),b)}if(md(y)||Gu(y))return y=Ja(y,v.mode,b,null),y.return=v,y;pp(v,y)}return null}function h(v,y,b,S){var x=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return x!==null?null:a(v,y,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case rp:return b.key===x?l(v,y,b,S):null;case cc:return b.key===x?c(v,y,b,S):null;case Lo:return x=b._init,h(v,y,x(b._payload),S)}if(md(b)||Gu(b))return x!==null?null:u(v,y,b,S,null);pp(v,b)}return null}function p(v,y,b,S,x){if(typeof S=="string"&&S!==""||typeof S=="number")return v=v.get(b)||null,a(y,v,""+S,x);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case rp:return v=v.get(S.key===null?b:S.key)||null,l(y,v,S,x);case cc:return v=v.get(S.key===null?b:S.key)||null,c(y,v,S,x);case Lo:var w=S._init;return p(v,y,b,w(S._payload),x)}if(md(S)||Gu(S))return v=v.get(b)||null,u(y,v,S,x,null);pp(y,S)}return null}function g(v,y,b,S){for(var x=null,w=null,E=y,T=y=0,L=null;E!==null&&T<b.length;T++){E.index>T?(L=E,E=null):L=E.sibling;var O=h(v,E,b[T],S);if(O===null){E===null&&(E=L);break}e&&E&&O.alternate===null&&t(v,E),y=s(O,y,T),w===null?x=O:w.sibling=O,w=O,E=L}if(T===b.length)return n(v,E),qt&&ja(v,T),x;if(E===null){for(;T<b.length;T++)E=d(v,b[T],S),E!==null&&(y=s(E,y,T),w===null?x=E:w.sibling=E,w=E);return qt&&ja(v,T),x}for(E=r(v,E);T<b.length;T++)L=p(E,v,T,b[T],S),L!==null&&(e&&L.alternate!==null&&E.delete(L.key===null?T:L.key),y=s(L,y,T),w===null?x=L:w.sibling=L,w=L);return e&&E.forEach(function(N){return t(v,N)}),qt&&ja(v,T),x}function m(v,y,b,S){var x=Gu(b);if(typeof x!="function")throw Error(ae(150));if(b=x.call(b),b==null)throw Error(ae(151));for(var w=x=null,E=y,T=y=0,L=null,O=b.next();E!==null&&!O.done;T++,O=b.next()){E.index>T?(L=E,E=null):L=E.sibling;var N=h(v,E,O.value,S);if(N===null){E===null&&(E=L);break}e&&E&&N.alternate===null&&t(v,E),y=s(N,y,T),w===null?x=N:w.sibling=N,w=N,E=L}if(O.done)return n(v,E),qt&&ja(v,T),x;if(E===null){for(;!O.done;T++,O=b.next())O=d(v,O.value,S),O!==null&&(y=s(O,y,T),w===null?x=O:w.sibling=O,w=O);return qt&&ja(v,T),x}for(E=r(v,E);!O.done;T++,O=b.next())O=p(E,v,T,O.value,S),O!==null&&(e&&O.alternate!==null&&E.delete(O.key===null?T:O.key),y=s(O,y,T),w===null?x=O:w.sibling=O,w=O);return e&&E.forEach(function(Q){return t(v,Q)}),qt&&ja(v,T),x}function A(v,y,b,S){if(typeof b=="object"&&b!==null&&b.type===uc&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case rp:e:{for(var x=b.key,w=y;w!==null;){if(w.key===x){if(x=b.type,x===uc){if(w.tag===7){n(v,w.sibling),y=i(w,b.props.children),y.return=v,v=y;break e}}else if(w.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Lo&&ZT(x)===w.type){n(v,w.sibling),y=i(w,b.props),y.ref=Ju(v,w,b),y.return=v,v=y;break e}n(v,w);break}else t(v,w);w=w.sibling}b.type===uc?(y=Ja(b.props.children,v.mode,S,b.key),y.return=v,v=y):(S=ug(b.type,b.key,b.props,null,v.mode,S),S.ref=Ju(v,y,b),S.return=v,v=S)}return o(v);case cc:e:{for(w=b.key;y!==null;){if(y.key===w)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){n(v,y.sibling),y=i(y,b.children||[]),y.return=v,v=y;break e}else{n(v,y);break}else t(v,y);y=y.sibling}y=Wy(b,v.mode,S),y.return=v,v=y}return o(v);case Lo:return w=b._init,A(v,y,w(b._payload),S)}if(md(b))return g(v,y,b,S);if(Gu(b))return m(v,y,b,S);pp(v,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(n(v,y.sibling),y=i(y,b),y.return=v,v=y):(n(v,y),y=Gy(b,v.mode,S),y.return=v,v=y),o(v)):n(v,y)}return A}var ou=r4(!0),i4=r4(!1),vh={},Vs=ga(vh),Pf=ga(vh),Rf=ga(vh);function qa(e){if(e===vh)throw Error(ae(174));return e}function RS(e,t){switch(It(Rf,t),It(Pf,e),It(Vs,vh),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:G1(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=G1(t,e)}jt(Vs),It(Vs,t)}function au(){jt(Vs),jt(Pf),jt(Rf)}function s4(e){qa(Rf.current);var t=qa(Vs.current),n=G1(t,e.type);t!==n&&(It(Pf,e),It(Vs,n))}function MS(e){Pf.current===e&&(jt(Vs),jt(Pf))}var Kt=ga(0);function gm(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var By=[];function jS(){for(var e=0;e<By.length;e++)By[e]._workInProgressVersionPrimary=null;By.length=0}var sg=ko.ReactCurrentDispatcher,Fy=ko.ReactCurrentBatchConfig,gl=0,Qt=null,Rn=null,Dn=null,mm=!1,Ud=!1,Mf=0,Bne=0;function tr(){throw Error(ae(321))}function OS(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!cs(e[n],t[n]))return!1;return!0}function VS(e,t,n,r,i,s){if(gl=s,Qt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,sg.current=e===null||e.memoizedState===null?Hne:qne,e=n(r,i),Ud){s=0;do{if(Ud=!1,Mf=0,25<=s)throw Error(ae(301));s+=1,Dn=Rn=null,t.updateQueue=null,sg.current=Gne,e=n(r,i)}while(Ud)}if(sg.current=vm,t=Rn!==null&&Rn.next!==null,gl=0,Dn=Rn=Qt=null,mm=!1,t)throw Error(ae(300));return e}function LS(){var e=Mf!==0;return Mf=0,e}function ys(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dn===null?Qt.memoizedState=Dn=e:Dn=Dn.next=e,Dn}function Ri(){if(Rn===null){var e=Qt.alternate;e=e!==null?e.memoizedState:null}else e=Rn.next;var t=Dn===null?Qt.memoizedState:Dn.next;if(t!==null)Dn=t,Rn=e;else{if(e===null)throw Error(ae(310));Rn=e,e={memoizedState:Rn.memoizedState,baseState:Rn.baseState,baseQueue:Rn.baseQueue,queue:Rn.queue,next:null},Dn===null?Qt.memoizedState=Dn=e:Dn=Dn.next=e}return Dn}function jf(e,t){return typeof t=="function"?t(e):t}function zy(e){var t=Ri(),n=t.queue;if(n===null)throw Error(ae(311));n.lastRenderedReducer=e;var r=Rn,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((gl&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Qt.lanes|=u,ml|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,cs(r,t.memoizedState)||(Tr=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,Qt.lanes|=s,ml|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Uy(e){var t=Ri(),n=t.queue;if(n===null)throw Error(ae(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);cs(s,t.memoizedState)||(Tr=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function o4(){}function a4(e,t){var n=Qt,r=Ri(),i=t(),s=!cs(r.memoizedState,i);if(s&&(r.memoizedState=i,Tr=!0),r=r.queue,NS(u4.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Dn!==null&&Dn.memoizedState.tag&1){if(n.flags|=2048,Of(9,c4.bind(null,n,r,i,t),void 0,null),zn===null)throw Error(ae(349));gl&30||l4(n,t,i)}return i}function l4(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Qt.updateQueue,t===null?(t={lastEffect:null,stores:null},Qt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function c4(e,t,n,r){t.value=n,t.getSnapshot=r,d4(t)&&f4(e)}function u4(e,t,n){return n(function(){d4(t)&&f4(e)})}function d4(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!cs(e,n)}catch{return!0}}function f4(e){var t=vo(e,1);t!==null&&ss(t,e,1,-1)}function eI(e){var t=ys();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:jf,lastRenderedState:e},t.queue=e,e=e.dispatch=Une.bind(null,Qt,e),[t.memoizedState,e]}function Of(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Qt.updateQueue,t===null?(t={lastEffect:null,stores:null},Qt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function h4(){return Ri().memoizedState}function og(e,t,n,r){var i=ys();Qt.flags|=e,i.memoizedState=Of(1|t,n,void 0,r===void 0?null:r)}function ev(e,t,n,r){var i=Ri();r=r===void 0?null:r;var s=void 0;if(Rn!==null){var o=Rn.memoizedState;if(s=o.destroy,r!==null&&OS(r,o.deps)){i.memoizedState=Of(t,n,s,r);return}}Qt.flags|=e,i.memoizedState=Of(1|t,n,s,r)}function tI(e,t){return og(8390656,8,e,t)}function NS(e,t){return ev(2048,8,e,t)}function p4(e,t){return ev(4,2,e,t)}function g4(e,t){return ev(4,4,e,t)}function m4(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function v4(e,t,n){return n=n!=null?n.concat([e]):null,ev(4,4,m4.bind(null,t,e),n)}function $S(){}function y4(e,t){var n=Ri();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&OS(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function A4(e,t){var n=Ri();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&OS(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function _4(e,t,n){return gl&21?(cs(n,t)||(n=SV(),Qt.lanes|=n,ml|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Tr=!0),e.memoizedState=n)}function Fne(e,t){var n=mt;mt=n!==0&&4>n?n:4,e(!0);var r=Fy.transition;Fy.transition={};try{e(!1),t()}finally{mt=n,Fy.transition=r}}function b4(){return Ri().memoizedState}function zne(e,t,n){var r=oa(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},x4(e))S4(t,n);else if(n=ZV(e,t,n,r),n!==null){var i=Ar();ss(n,e,r,i),w4(n,t,r)}}function Une(e,t,n){var r=oa(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(x4(e))S4(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,cs(a,o)){var l=t.interleaved;l===null?(i.next=i,IS(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=ZV(e,t,i,r),n!==null&&(i=Ar(),ss(n,e,r,i),w4(n,t,r))}}function x4(e){var t=e.alternate;return e===Qt||t!==null&&t===Qt}function S4(e,t){Ud=mm=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function w4(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,gS(e,n)}}var vm={readContext:Pi,useCallback:tr,useContext:tr,useEffect:tr,useImperativeHandle:tr,useInsertionEffect:tr,useLayoutEffect:tr,useMemo:tr,useReducer:tr,useRef:tr,useState:tr,useDebugValue:tr,useDeferredValue:tr,useTransition:tr,useMutableSource:tr,useSyncExternalStore:tr,useId:tr,unstable_isNewReconciler:!1},Hne={readContext:Pi,useCallback:function(e,t){return ys().memoizedState=[e,t===void 0?null:t],e},useContext:Pi,useEffect:tI,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,og(4194308,4,m4.bind(null,t,e),n)},useLayoutEffect:function(e,t){return og(4194308,4,e,t)},useInsertionEffect:function(e,t){return og(4,2,e,t)},useMemo:function(e,t){var n=ys();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ys();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=zne.bind(null,Qt,e),[r.memoizedState,e]},useRef:function(e){var t=ys();return e={current:e},t.memoizedState=e},useState:eI,useDebugValue:$S,useDeferredValue:function(e){return ys().memoizedState=e},useTransition:function(){var e=eI(!1),t=e[0];return e=Fne.bind(null,e[1]),ys().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Qt,i=ys();if(qt){if(n===void 0)throw Error(ae(407));n=n()}else{if(n=t(),zn===null)throw Error(ae(349));gl&30||l4(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,tI(u4.bind(null,r,s,e),[e]),r.flags|=2048,Of(9,c4.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=ys(),t=zn.identifierPrefix;if(qt){var n=to,r=eo;n=(r&~(1<<32-is(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Mf++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Bne++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},qne={readContext:Pi,useCallback:y4,useContext:Pi,useEffect:NS,useImperativeHandle:v4,useInsertionEffect:p4,useLayoutEffect:g4,useMemo:A4,useReducer:zy,useRef:h4,useState:function(){return zy(jf)},useDebugValue:$S,useDeferredValue:function(e){var t=Ri();return _4(t,Rn.memoizedState,e)},useTransition:function(){var e=zy(jf)[0],t=Ri().memoizedState;return[e,t]},useMutableSource:o4,useSyncExternalStore:a4,useId:b4,unstable_isNewReconciler:!1},Gne={readContext:Pi,useCallback:y4,useContext:Pi,useEffect:NS,useImperativeHandle:v4,useInsertionEffect:p4,useLayoutEffect:g4,useMemo:A4,useReducer:Uy,useRef:h4,useState:function(){return Uy(jf)},useDebugValue:$S,useDeferredValue:function(e){var t=Ri();return Rn===null?t.memoizedState=e:_4(t,Rn.memoizedState,e)},useTransition:function(){var e=Uy(jf)[0],t=Ri().memoizedState;return[e,t]},useMutableSource:o4,useSyncExternalStore:a4,useId:b4,unstable_isNewReconciler:!1};function lu(e,t){try{var n="",r=t;do n+=_te(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function Hy(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function g_(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Wne=typeof WeakMap=="function"?WeakMap:Map;function E4(e,t,n){n=so(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Am||(Am=!0,E_=r),g_(e,t)},n}function k4(e,t,n){n=so(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){g_(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){g_(e,t),typeof r!="function"&&(sa===null?sa=new Set([this]):sa.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function nI(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Wne;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=are.bind(null,e,t,n),t.then(e,e))}function rI(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function iI(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=so(-1,1),t.tag=2,ia(n,t,1))),n.lanes|=1),e)}var Yne=ko.ReactCurrentOwner,Tr=!1;function pr(e,t,n,r){t.child=e===null?i4(t,null,n,r):ou(t,e.child,n,r)}function sI(e,t,n,r,i){n=n.render;var s=t.ref;return Dc(t,i),r=VS(e,t,n,r,s,i),n=LS(),e!==null&&!Tr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,yo(e,t,i)):(qt&&n&&SS(t),t.flags|=1,pr(e,t,r,i),t.child)}function oI(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!GS(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,C4(e,t,s,r,i)):(e=ug(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:kf,n(o,r)&&e.ref===t.ref)return yo(e,t,i)}return t.flags|=1,e=aa(s,r),e.ref=t.ref,e.return=t,t.child=e}function C4(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(kf(s,r)&&e.ref===t.ref)if(Tr=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(Tr=!0);else return t.lanes=e.lanes,yo(e,t,i)}return m_(e,t,n,r,i)}function T4(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},It(_c,Br),Br|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,It(_c,Br),Br|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,It(_c,Br),Br|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,It(_c,Br),Br|=r;return pr(e,t,i,n),t.child}function I4(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function m_(e,t,n,r,i){var s=Pr(n)?hl:ar.current;return s=iu(t,s),Dc(t,i),n=VS(e,t,n,r,s,i),r=LS(),e!==null&&!Tr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,yo(e,t,i)):(qt&&r&&SS(t),t.flags|=1,pr(e,t,n,i),t.child)}function aI(e,t,n,r,i){if(Pr(n)){var s=!0;cm(t)}else s=!1;if(Dc(t,i),t.stateNode===null)ag(e,t),n4(t,n,r),p_(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Pi(c):(c=Pr(n)?hl:ar.current,c=iu(t,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&XT(t,o,r,c),No=!1;var h=t.memoizedState;o.state=h,pm(t,r,o,i),l=t.memoizedState,a!==r||h!==l||Ir.current||No?(typeof u=="function"&&(h_(t,n,u,r),l=t.memoizedState),(a=No||JT(t,n,a,r,h,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,e4(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:zi(t.type,a),o.props=c,d=t.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Pi(l):(l=Pr(n)?hl:ar.current,l=iu(t,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&XT(t,o,r,l),No=!1,h=t.memoizedState,o.state=h,pm(t,r,o,i);var g=t.memoizedState;a!==d||h!==g||Ir.current||No?(typeof p=="function"&&(h_(t,n,p,r),g=t.memoizedState),(c=No||JT(t,n,c,r,h,g,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),o.props=r,o.state=g,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return v_(e,t,n,r,s,i)}function v_(e,t,n,r,i,s){I4(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&GT(t,n,!1),yo(e,t,s);r=t.stateNode,Yne.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=ou(t,e.child,null,s),t.child=ou(t,null,a,s)):pr(e,t,a,s),t.memoizedState=r.state,i&&GT(t,n,!0),t.child}function P4(e){var t=e.stateNode;t.pendingContext?qT(e,t.pendingContext,t.pendingContext!==t.context):t.context&&qT(e,t.context,!1),RS(e,t.containerInfo)}function lI(e,t,n,r,i){return su(),ES(i),t.flags|=256,pr(e,t,n,r),t.child}var y_={dehydrated:null,treeContext:null,retryLane:0};function A_(e){return{baseLanes:e,cachePool:null,transitions:null}}function R4(e,t,n){var r=t.pendingProps,i=Kt.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),It(Kt,i&1),e===null)return d_(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=rv(o,r,0,null),e=Ja(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=A_(n),t.memoizedState=y_,e):DS(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Kne(e,t,o,r,a,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=aa(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=aa(a,s):(s=Ja(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?A_(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=y_,r}return s=e.child,e=s.sibling,r=aa(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function DS(e,t){return t=rv({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function gp(e,t,n,r){return r!==null&&ES(r),ou(t,e.child,null,n),e=DS(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Kne(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=Hy(Error(ae(422))),gp(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=rv({mode:"visible",children:r.children},i,0,null),s=Ja(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&ou(t,e.child,null,o),t.child.memoizedState=A_(o),t.memoizedState=y_,s);if(!(t.mode&1))return gp(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(ae(419)),r=Hy(s,r,void 0),gp(e,t,o,r)}if(a=(o&e.childLanes)!==0,Tr||a){if(r=zn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,vo(e,i),ss(r,e,i,-1))}return qS(),r=Hy(Error(ae(421))),gp(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=lre.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Wr=ra(i.nextSibling),Qr=t,qt=!0,Wi=null,e!==null&&(vi[yi++]=eo,vi[yi++]=to,vi[yi++]=pl,eo=e.id,to=e.overflow,pl=t),t=DS(t,r.children),t.flags|=4096,t)}function cI(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),f_(e.return,t,n)}function qy(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function M4(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(pr(e,t,r.children,n),r=Kt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&cI(e,n,t);else if(e.tag===19)cI(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(It(Kt,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&gm(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),qy(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&gm(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}qy(t,!0,n,null,s);break;case"together":qy(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ag(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function yo(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ml|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ae(153));if(t.child!==null){for(e=t.child,n=aa(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=aa(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Qne(e,t,n){switch(t.tag){case 3:P4(t),su();break;case 5:s4(t);break;case 1:Pr(t.type)&&cm(t);break;case 4:RS(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;It(fm,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(It(Kt,Kt.current&1),t.flags|=128,null):n&t.child.childLanes?R4(e,t,n):(It(Kt,Kt.current&1),e=yo(e,t,n),e!==null?e.sibling:null);It(Kt,Kt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return M4(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),It(Kt,Kt.current),r)break;return null;case 22:case 23:return t.lanes=0,T4(e,t,n)}return yo(e,t,n)}var j4,__,O4,V4;j4=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};__=function(){};O4=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,qa(Vs.current);var s=null;switch(n){case"input":i=z1(e,i),r=z1(e,r),s=[];break;case"select":i=Jt({},i,{value:void 0}),r=Jt({},r,{value:void 0}),s=[];break;case"textarea":i=q1(e,i),r=q1(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=am)}W1(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Af.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Af.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Pt("scroll",e),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}};V4=function(e,t,n,r){n!==r&&(t.flags|=4)};function Xu(e,t){if(!qt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function nr(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Jne(e,t,n){var r=t.pendingProps;switch(wS(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nr(t),null;case 1:return Pr(t.type)&&lm(),nr(t),null;case 3:return r=t.stateNode,au(),jt(Ir),jt(ar),jS(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(hp(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Wi!==null&&(T_(Wi),Wi=null))),__(e,t),nr(t),null;case 5:MS(t);var i=qa(Rf.current);if(n=t.type,e!==null&&t.stateNode!=null)O4(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(ae(166));return nr(t),null}if(e=qa(Vs.current),hp(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Es]=t,r[If]=s,e=(t.mode&1)!==0,n){case"dialog":Pt("cancel",r),Pt("close",r);break;case"iframe":case"object":case"embed":Pt("load",r);break;case"video":case"audio":for(i=0;i<yd.length;i++)Pt(yd[i],r);break;case"source":Pt("error",r);break;case"img":case"image":case"link":Pt("error",r),Pt("load",r);break;case"details":Pt("toggle",r);break;case"input":yT(r,s),Pt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Pt("invalid",r);break;case"textarea":_T(r,s),Pt("invalid",r)}W1(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&fp(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&fp(r.textContent,a,e),i=["children",""+a]):Af.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Pt("scroll",r)}switch(n){case"input":ip(r),AT(r,s,!0);break;case"textarea":ip(r),bT(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=am)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=lV(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Es]=t,e[If]=r,j4(e,t,!1,!1),t.stateNode=e;e:{switch(o=Y1(n,r),n){case"dialog":Pt("cancel",e),Pt("close",e),i=r;break;case"iframe":case"object":case"embed":Pt("load",e),i=r;break;case"video":case"audio":for(i=0;i<yd.length;i++)Pt(yd[i],e);i=r;break;case"source":Pt("error",e),i=r;break;case"img":case"image":case"link":Pt("error",e),Pt("load",e),i=r;break;case"details":Pt("toggle",e),i=r;break;case"input":yT(e,r),i=z1(e,r),Pt("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Jt({},r,{value:void 0}),Pt("invalid",e);break;case"textarea":_T(e,r),i=q1(e,r),Pt("invalid",e);break;default:i=r}W1(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?dV(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&cV(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&_f(e,l):typeof l=="number"&&_f(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Af.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Pt("scroll",e):l!=null&&cS(e,s,l,o))}switch(n){case"input":ip(e),AT(e,r,!1);break;case"textarea":ip(e),bT(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ua(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Vc(e,!!r.multiple,s,!1):r.defaultValue!=null&&Vc(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=am)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return nr(t),null;case 6:if(e&&t.stateNode!=null)V4(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(ae(166));if(n=qa(Rf.current),qa(Vs.current),hp(t)){if(r=t.stateNode,n=t.memoizedProps,r[Es]=t,(s=r.nodeValue!==n)&&(e=Qr,e!==null))switch(e.tag){case 3:fp(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&fp(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Es]=t,t.stateNode=r}return nr(t),null;case 13:if(jt(Kt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(qt&&Wr!==null&&t.mode&1&&!(t.flags&128))XV(),su(),t.flags|=98560,s=!1;else if(s=hp(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(ae(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ae(317));s[Es]=t}else su(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;nr(t),s=!1}else Wi!==null&&(T_(Wi),Wi=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Kt.current&1?On===0&&(On=3):qS())),t.updateQueue!==null&&(t.flags|=4),nr(t),null);case 4:return au(),__(e,t),e===null&&Cf(t.stateNode.containerInfo),nr(t),null;case 10:return TS(t.type._context),nr(t),null;case 17:return Pr(t.type)&&lm(),nr(t),null;case 19:if(jt(Kt),s=t.memoizedState,s===null)return nr(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)Xu(s,!1);else{if(On!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=gm(e),o!==null){for(t.flags|=128,Xu(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return It(Kt,Kt.current&1|2),t.child}e=e.sibling}s.tail!==null&&fn()>cu&&(t.flags|=128,r=!0,Xu(s,!1),t.lanes=4194304)}else{if(!r)if(e=gm(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Xu(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!qt)return nr(t),null}else 2*fn()-s.renderingStartTime>cu&&n!==1073741824&&(t.flags|=128,r=!0,Xu(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=fn(),t.sibling=null,n=Kt.current,It(Kt,r?n&1|2:n&1),t):(nr(t),null);case 22:case 23:return HS(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Br&1073741824&&(nr(t),t.subtreeFlags&6&&(t.flags|=8192)):nr(t),null;case 24:return null;case 25:return null}throw Error(ae(156,t.tag))}function Xne(e,t){switch(wS(t),t.tag){case 1:return Pr(t.type)&&lm(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return au(),jt(Ir),jt(ar),jS(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return MS(t),null;case 13:if(jt(Kt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ae(340));su()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return jt(Kt),null;case 4:return au(),null;case 10:return TS(t.type._context),null;case 22:case 23:return HS(),null;case 24:return null;default:return null}}var mp=!1,sr=!1,Zne=typeof WeakSet=="function"?WeakSet:Set,be=null;function Ac(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){rn(e,t,r)}else n.current=null}function b_(e,t,n){try{n()}catch(r){rn(e,t,r)}}var uI=!1;function ere(e,t){if(i_=im,e=DV(),xS(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=e,h=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===e)break t;if(h===n&&++c===i&&(a=o),h===s&&++u===r&&(l=o),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(s_={focusedElem:e,selectionRange:n},im=!1,be=t;be!==null;)if(t=be,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,be=e;else for(;be!==null;){t=be;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var m=g.memoizedProps,A=g.memoizedState,v=t.stateNode,y=v.getSnapshotBeforeUpdate(t.elementType===t.type?m:zi(t.type,m),A);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ae(163))}}catch(S){rn(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,be=e;break}be=t.return}return g=uI,uI=!1,g}function Hd(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&b_(t,n,s)}i=i.next}while(i!==r)}}function tv(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function x_(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function L4(e){var t=e.alternate;t!==null&&(e.alternate=null,L4(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Es],delete t[If],delete t[l_],delete t[Lne],delete t[Nne])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function N4(e){return e.tag===5||e.tag===3||e.tag===4}function dI(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||N4(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function S_(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=am));else if(r!==4&&(e=e.child,e!==null))for(S_(e,t,n),e=e.sibling;e!==null;)S_(e,t,n),e=e.sibling}function w_(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(w_(e,t,n),e=e.sibling;e!==null;)w_(e,t,n),e=e.sibling}var Gn=null,qi=!1;function Mo(e,t,n){for(n=n.child;n!==null;)$4(e,t,n),n=n.sibling}function $4(e,t,n){if(Os&&typeof Os.onCommitFiberUnmount=="function")try{Os.onCommitFiberUnmount(W0,n)}catch{}switch(n.tag){case 5:sr||Ac(n,t);case 6:var r=Gn,i=qi;Gn=null,Mo(e,t,n),Gn=r,qi=i,Gn!==null&&(qi?(e=Gn,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Gn.removeChild(n.stateNode));break;case 18:Gn!==null&&(qi?(e=Gn,n=n.stateNode,e.nodeType===8?$y(e.parentNode,n):e.nodeType===1&&$y(e,n),wf(e)):$y(Gn,n.stateNode));break;case 4:r=Gn,i=qi,Gn=n.stateNode.containerInfo,qi=!0,Mo(e,t,n),Gn=r,qi=i;break;case 0:case 11:case 14:case 15:if(!sr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&b_(n,t,o),i=i.next}while(i!==r)}Mo(e,t,n);break;case 1:if(!sr&&(Ac(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){rn(n,t,a)}Mo(e,t,n);break;case 21:Mo(e,t,n);break;case 22:n.mode&1?(sr=(r=sr)||n.memoizedState!==null,Mo(e,t,n),sr=r):Mo(e,t,n);break;default:Mo(e,t,n)}}function fI(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Zne),t.forEach(function(r){var i=cre.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Bi(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Gn=a.stateNode,qi=!1;break e;case 3:Gn=a.stateNode.containerInfo,qi=!0;break e;case 4:Gn=a.stateNode.containerInfo,qi=!0;break e}a=a.return}if(Gn===null)throw Error(ae(160));$4(s,o,i),Gn=null,qi=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){rn(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)D4(t,e),t=t.sibling}function D4(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Bi(t,e),ps(e),r&4){try{Hd(3,e,e.return),tv(3,e)}catch(m){rn(e,e.return,m)}try{Hd(5,e,e.return)}catch(m){rn(e,e.return,m)}}break;case 1:Bi(t,e),ps(e),r&512&&n!==null&&Ac(n,n.return);break;case 5:if(Bi(t,e),ps(e),r&512&&n!==null&&Ac(n,n.return),e.flags&32){var i=e.stateNode;try{_f(i,"")}catch(m){rn(e,e.return,m)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&oV(i,s),Y1(a,o);var c=Y1(a,s);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?dV(i,d):u==="dangerouslySetInnerHTML"?cV(i,d):u==="children"?_f(i,d):cS(i,u,d,c)}switch(a){case"input":U1(i,s);break;case"textarea":aV(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Vc(i,!!s.multiple,p,!1):h!==!!s.multiple&&(s.defaultValue!=null?Vc(i,!!s.multiple,s.defaultValue,!0):Vc(i,!!s.multiple,s.multiple?[]:"",!1))}i[If]=s}catch(m){rn(e,e.return,m)}}break;case 6:if(Bi(t,e),ps(e),r&4){if(e.stateNode===null)throw Error(ae(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(m){rn(e,e.return,m)}}break;case 3:if(Bi(t,e),ps(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{wf(t.containerInfo)}catch(m){rn(e,e.return,m)}break;case 4:Bi(t,e),ps(e);break;case 13:Bi(t,e),ps(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(zS=fn())),r&4&&fI(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(sr=(c=sr)||u,Bi(t,e),sr=c):Bi(t,e),ps(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(be=e,u=e.child;u!==null;){for(d=be=u;be!==null;){switch(h=be,p=h.child,h.tag){case 0:case 11:case 14:case 15:Hd(4,h,h.return);break;case 1:Ac(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){rn(r,n,m)}}break;case 5:Ac(h,h.return);break;case 22:if(h.memoizedState!==null){pI(d);continue}}p!==null?(p.return=h,be=p):pI(d)}u=u.sibling}e:for(u=null,d=e;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=uV("display",o))}catch(m){rn(e,e.return,m)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(m){rn(e,e.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Bi(t,e),ps(e),r&4&&fI(e);break;case 21:break;default:Bi(t,e),ps(e)}}function ps(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(N4(n)){var r=n;break e}n=n.return}throw Error(ae(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(_f(i,""),r.flags&=-33);var s=dI(e);w_(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=dI(e);S_(e,a,o);break;default:throw Error(ae(161))}}catch(l){rn(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function tre(e,t,n){be=e,B4(e)}function B4(e,t,n){for(var r=(e.mode&1)!==0;be!==null;){var i=be,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||mp;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||sr;a=mp;var c=sr;if(mp=o,(sr=l)&&!c)for(be=i;be!==null;)o=be,l=o.child,o.tag===22&&o.memoizedState!==null?gI(i):l!==null?(l.return=o,be=l):gI(i);for(;s!==null;)be=s,B4(s),s=s.sibling;be=i,mp=a,sr=c}hI(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,be=s):hI(e)}}function hI(e){for(;be!==null;){var t=be;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:sr||tv(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!sr)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:zi(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&QT(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}QT(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&wf(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ae(163))}sr||t.flags&512&&x_(t)}catch(h){rn(t,t.return,h)}}if(t===e){be=null;break}if(n=t.sibling,n!==null){n.return=t.return,be=n;break}be=t.return}}function pI(e){for(;be!==null;){var t=be;if(t===e){be=null;break}var n=t.sibling;if(n!==null){n.return=t.return,be=n;break}be=t.return}}function gI(e){for(;be!==null;){var t=be;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{tv(4,t)}catch(l){rn(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){rn(t,i,l)}}var s=t.return;try{x_(t)}catch(l){rn(t,s,l)}break;case 5:var o=t.return;try{x_(t)}catch(l){rn(t,o,l)}}}catch(l){rn(t,t.return,l)}if(t===e){be=null;break}var a=t.sibling;if(a!==null){a.return=t.return,be=a;break}be=t.return}}var nre=Math.ceil,ym=ko.ReactCurrentDispatcher,BS=ko.ReactCurrentOwner,Si=ko.ReactCurrentBatchConfig,lt=0,zn=null,kn=null,Jn=0,Br=0,_c=ga(0),On=0,Vf=null,ml=0,nv=0,FS=0,qd=null,Er=null,zS=0,cu=1/0,Ys=null,Am=!1,E_=null,sa=null,vp=!1,Wo=null,_m=0,Gd=0,k_=null,lg=-1,cg=0;function Ar(){return lt&6?fn():lg!==-1?lg:lg=fn()}function oa(e){return e.mode&1?lt&2&&Jn!==0?Jn&-Jn:Dne.transition!==null?(cg===0&&(cg=SV()),cg):(e=mt,e!==0||(e=window.event,e=e===void 0?16:PV(e.type)),e):1}function ss(e,t,n,r){if(50<Gd)throw Gd=0,k_=null,Error(ae(185));ph(e,n,r),(!(lt&2)||e!==zn)&&(e===zn&&(!(lt&2)&&(nv|=n),On===4&&Fo(e,Jn)),Rr(e,r),n===1&&lt===0&&!(t.mode&1)&&(cu=fn()+500,X0&&ma()))}function Rr(e,t){var n=e.callbackNode;Dte(e,t);var r=rm(e,e===zn?Jn:0);if(r===0)n!==null&&wT(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&wT(n),t===1)e.tag===0?$ne(mI.bind(null,e)):KV(mI.bind(null,e)),One(function(){!(lt&6)&&ma()}),n=null;else{switch(wV(r)){case 1:n=pS;break;case 4:n=bV;break;case 16:n=nm;break;case 536870912:n=xV;break;default:n=nm}n=Y4(n,F4.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function F4(e,t){if(lg=-1,cg=0,lt&6)throw Error(ae(327));var n=e.callbackNode;if(Bc()&&e.callbackNode!==n)return null;var r=rm(e,e===zn?Jn:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=bm(e,r);else{t=r;var i=lt;lt|=2;var s=U4();(zn!==e||Jn!==t)&&(Ys=null,cu=fn()+500,Qa(e,t));do try{sre();break}catch(a){z4(e,a)}while(!0);CS(),ym.current=s,lt=i,kn!==null?t=0:(zn=null,Jn=0,t=On)}if(t!==0){if(t===2&&(i=Z1(e),i!==0&&(r=i,t=C_(e,i))),t===1)throw n=Vf,Qa(e,0),Fo(e,r),Rr(e,fn()),n;if(t===6)Fo(e,r);else{if(i=e.current.alternate,!(r&30)&&!rre(i)&&(t=bm(e,r),t===2&&(s=Z1(e),s!==0&&(r=s,t=C_(e,s))),t===1))throw n=Vf,Qa(e,0),Fo(e,r),Rr(e,fn()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(ae(345));case 2:Oa(e,Er,Ys);break;case 3:if(Fo(e,r),(r&130023424)===r&&(t=zS+500-fn(),10<t)){if(rm(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Ar(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=a_(Oa.bind(null,e,Er,Ys),t);break}Oa(e,Er,Ys);break;case 4:if(Fo(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-is(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=fn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*nre(r/1960))-r,10<r){e.timeoutHandle=a_(Oa.bind(null,e,Er,Ys),r);break}Oa(e,Er,Ys);break;case 5:Oa(e,Er,Ys);break;default:throw Error(ae(329))}}}return Rr(e,fn()),e.callbackNode===n?F4.bind(null,e):null}function C_(e,t){var n=qd;return e.current.memoizedState.isDehydrated&&(Qa(e,t).flags|=256),e=bm(e,t),e!==2&&(t=Er,Er=n,t!==null&&T_(t)),e}function T_(e){Er===null?Er=e:Er.push.apply(Er,e)}function rre(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!cs(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Fo(e,t){for(t&=~FS,t&=~nv,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-is(t),r=1<<n;e[n]=-1,t&=~r}}function mI(e){if(lt&6)throw Error(ae(327));Bc();var t=rm(e,0);if(!(t&1))return Rr(e,fn()),null;var n=bm(e,t);if(e.tag!==0&&n===2){var r=Z1(e);r!==0&&(t=r,n=C_(e,r))}if(n===1)throw n=Vf,Qa(e,0),Fo(e,t),Rr(e,fn()),n;if(n===6)throw Error(ae(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Oa(e,Er,Ys),Rr(e,fn()),null}function US(e,t){var n=lt;lt|=1;try{return e(t)}finally{lt=n,lt===0&&(cu=fn()+500,X0&&ma())}}function vl(e){Wo!==null&&Wo.tag===0&&!(lt&6)&&Bc();var t=lt;lt|=1;var n=Si.transition,r=mt;try{if(Si.transition=null,mt=1,e)return e()}finally{mt=r,Si.transition=n,lt=t,!(lt&6)&&ma()}}function HS(){Br=_c.current,jt(_c)}function Qa(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,jne(n)),kn!==null)for(n=kn.return;n!==null;){var r=n;switch(wS(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&lm();break;case 3:au(),jt(Ir),jt(ar),jS();break;case 5:MS(r);break;case 4:au();break;case 13:jt(Kt);break;case 19:jt(Kt);break;case 10:TS(r.type._context);break;case 22:case 23:HS()}n=n.return}if(zn=e,kn=e=aa(e.current,null),Jn=Br=t,On=0,Vf=null,FS=nv=ml=0,Er=qd=null,Ha!==null){for(t=0;t<Ha.length;t++)if(n=Ha[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Ha=null}return e}function z4(e,t){do{var n=kn;try{if(CS(),sg.current=vm,mm){for(var r=Qt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}mm=!1}if(gl=0,Dn=Rn=Qt=null,Ud=!1,Mf=0,BS.current=null,n===null||n.return===null){On=1,Vf=t,kn=null;break}e:{var s=e,o=n.return,a=n,l=t;if(t=Jn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=rI(o);if(p!==null){p.flags&=-257,iI(p,o,a,s,t),p.mode&1&&nI(s,c,t),t=p,l=c;var g=t.updateQueue;if(g===null){var m=new Set;m.add(l),t.updateQueue=m}else g.add(l);break e}else{if(!(t&1)){nI(s,c,t),qS();break e}l=Error(ae(426))}}else if(qt&&a.mode&1){var A=rI(o);if(A!==null){!(A.flags&65536)&&(A.flags|=256),iI(A,o,a,s,t),ES(lu(l,a));break e}}s=l=lu(l,a),On!==4&&(On=2),qd===null?qd=[s]:qd.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var v=E4(s,l,t);KT(s,v);break e;case 1:a=l;var y=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(sa===null||!sa.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t;var S=k4(s,a,t);KT(s,S);break e}}s=s.return}while(s!==null)}q4(n)}catch(x){t=x,kn===n&&n!==null&&(kn=n=n.return);continue}break}while(!0)}function U4(){var e=ym.current;return ym.current=vm,e===null?vm:e}function qS(){(On===0||On===3||On===2)&&(On=4),zn===null||!(ml&268435455)&&!(nv&268435455)||Fo(zn,Jn)}function bm(e,t){var n=lt;lt|=2;var r=U4();(zn!==e||Jn!==t)&&(Ys=null,Qa(e,t));do try{ire();break}catch(i){z4(e,i)}while(!0);if(CS(),lt=n,ym.current=r,kn!==null)throw Error(ae(261));return zn=null,Jn=0,On}function ire(){for(;kn!==null;)H4(kn)}function sre(){for(;kn!==null&&!Pte();)H4(kn)}function H4(e){var t=W4(e.alternate,e,Br);e.memoizedProps=e.pendingProps,t===null?q4(e):kn=t,BS.current=null}function q4(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Xne(n,t),n!==null){n.flags&=32767,kn=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{On=6,kn=null;return}}else if(n=Jne(n,t,Br),n!==null){kn=n;return}if(t=t.sibling,t!==null){kn=t;return}kn=t=e}while(t!==null);On===0&&(On=5)}function Oa(e,t,n){var r=mt,i=Si.transition;try{Si.transition=null,mt=1,ore(e,t,n,r)}finally{Si.transition=i,mt=r}return null}function ore(e,t,n,r){do Bc();while(Wo!==null);if(lt&6)throw Error(ae(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ae(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(Bte(e,s),e===zn&&(kn=zn=null,Jn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||vp||(vp=!0,Y4(nm,function(){return Bc(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Si.transition,Si.transition=null;var o=mt;mt=1;var a=lt;lt|=4,BS.current=null,ere(e,n),D4(n,e),kne(s_),im=!!i_,s_=i_=null,e.current=n,tre(n),Rte(),lt=a,mt=o,Si.transition=s}else e.current=n;if(vp&&(vp=!1,Wo=e,_m=i),s=e.pendingLanes,s===0&&(sa=null),Ote(n.stateNode),Rr(e,fn()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Am)throw Am=!1,e=E_,E_=null,e;return _m&1&&e.tag!==0&&Bc(),s=e.pendingLanes,s&1?e===k_?Gd++:(Gd=0,k_=e):Gd=0,ma(),null}function Bc(){if(Wo!==null){var e=wV(_m),t=Si.transition,n=mt;try{if(Si.transition=null,mt=16>e?16:e,Wo===null)var r=!1;else{if(e=Wo,Wo=null,_m=0,lt&6)throw Error(ae(331));var i=lt;for(lt|=4,be=e.current;be!==null;){var s=be,o=s.child;if(be.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(be=c;be!==null;){var u=be;switch(u.tag){case 0:case 11:case 15:Hd(8,u,s)}var d=u.child;if(d!==null)d.return=u,be=d;else for(;be!==null;){u=be;var h=u.sibling,p=u.return;if(L4(u),u===c){be=null;break}if(h!==null){h.return=p,be=h;break}be=p}}}var g=s.alternate;if(g!==null){var m=g.child;if(m!==null){g.child=null;do{var A=m.sibling;m.sibling=null,m=A}while(m!==null)}}be=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,be=o;else e:for(;be!==null;){if(s=be,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Hd(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,be=v;break e}be=s.return}}var y=e.current;for(be=y;be!==null;){o=be;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,be=b;else e:for(o=y;be!==null;){if(a=be,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:tv(9,a)}}catch(x){rn(a,a.return,x)}if(a===o){be=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,be=S;break e}be=a.return}}if(lt=i,ma(),Os&&typeof Os.onPostCommitFiberRoot=="function")try{Os.onPostCommitFiberRoot(W0,e)}catch{}r=!0}return r}finally{mt=n,Si.transition=t}}return!1}function vI(e,t,n){t=lu(n,t),t=E4(e,t,1),e=ia(e,t,1),t=Ar(),e!==null&&(ph(e,1,t),Rr(e,t))}function rn(e,t,n){if(e.tag===3)vI(e,e,n);else for(;t!==null;){if(t.tag===3){vI(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(sa===null||!sa.has(r))){e=lu(n,e),e=k4(t,e,1),t=ia(t,e,1),e=Ar(),t!==null&&(ph(t,1,e),Rr(t,e));break}}t=t.return}}function are(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ar(),e.pingedLanes|=e.suspendedLanes&n,zn===e&&(Jn&n)===n&&(On===4||On===3&&(Jn&130023424)===Jn&&500>fn()-zS?Qa(e,0):FS|=n),Rr(e,t)}function G4(e,t){t===0&&(e.mode&1?(t=ap,ap<<=1,!(ap&130023424)&&(ap=4194304)):t=1);var n=Ar();e=vo(e,t),e!==null&&(ph(e,t,n),Rr(e,n))}function lre(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),G4(e,n)}function cre(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(ae(314))}r!==null&&r.delete(t),G4(e,n)}var W4;W4=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ir.current)Tr=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Tr=!1,Qne(e,t,n);Tr=!!(e.flags&131072)}else Tr=!1,qt&&t.flags&1048576&&QV(t,dm,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ag(e,t),e=t.pendingProps;var i=iu(t,ar.current);Dc(t,n),i=VS(null,t,r,e,i,n);var s=LS();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pr(r)?(s=!0,cm(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,PS(t),i.updater=Z0,t.stateNode=i,i._reactInternals=t,p_(t,r,e,n),t=v_(null,t,r,!0,s,n)):(t.tag=0,qt&&s&&SS(t),pr(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ag(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=dre(r),e=zi(r,e),i){case 0:t=m_(null,t,r,e,n);break e;case 1:t=aI(null,t,r,e,n);break e;case 11:t=sI(null,t,r,e,n);break e;case 14:t=oI(null,t,r,zi(r.type,e),n);break e}throw Error(ae(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:zi(r,i),m_(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:zi(r,i),aI(e,t,r,i,n);case 3:e:{if(P4(t),e===null)throw Error(ae(387));r=t.pendingProps,s=t.memoizedState,i=s.element,e4(e,t),pm(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=lu(Error(ae(423)),t),t=lI(e,t,r,n,i);break e}else if(r!==i){i=lu(Error(ae(424)),t),t=lI(e,t,r,n,i);break e}else for(Wr=ra(t.stateNode.containerInfo.firstChild),Qr=t,qt=!0,Wi=null,n=i4(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(su(),r===i){t=yo(e,t,n);break e}pr(e,t,r,n)}t=t.child}return t;case 5:return s4(t),e===null&&d_(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,o_(r,i)?o=null:s!==null&&o_(r,s)&&(t.flags|=32),I4(e,t),pr(e,t,o,n),t.child;case 6:return e===null&&d_(t),null;case 13:return R4(e,t,n);case 4:return RS(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ou(t,null,r,n):pr(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:zi(r,i),sI(e,t,r,i,n);case 7:return pr(e,t,t.pendingProps,n),t.child;case 8:return pr(e,t,t.pendingProps.children,n),t.child;case 12:return pr(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,It(fm,r._currentValue),r._currentValue=o,s!==null)if(cs(s.value,o)){if(s.children===i.children&&!Ir.current){t=yo(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=so(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),f_(s.return,n,t),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(ae(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),f_(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}pr(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Dc(t,n),i=Pi(i),r=r(i),t.flags|=1,pr(e,t,r,n),t.child;case 14:return r=t.type,i=zi(r,t.pendingProps),i=zi(r.type,i),oI(e,t,r,i,n);case 15:return C4(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:zi(r,i),ag(e,t),t.tag=1,Pr(r)?(e=!0,cm(t)):e=!1,Dc(t,n),n4(t,r,i),p_(t,r,i,n),v_(null,t,r,!0,e,n);case 19:return M4(e,t,n);case 22:return T4(e,t,n)}throw Error(ae(156,t.tag))};function Y4(e,t){return _V(e,t)}function ure(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bi(e,t,n,r){return new ure(e,t,n,r)}function GS(e){return e=e.prototype,!(!e||!e.isReactComponent)}function dre(e){if(typeof e=="function")return GS(e)?1:0;if(e!=null){if(e=e.$$typeof,e===dS)return 11;if(e===fS)return 14}return 2}function aa(e,t){var n=e.alternate;return n===null?(n=bi(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ug(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")GS(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case uc:return Ja(n.children,i,s,t);case uS:o=8,i|=8;break;case $1:return e=bi(12,n,t,i|2),e.elementType=$1,e.lanes=s,e;case D1:return e=bi(13,n,t,i),e.elementType=D1,e.lanes=s,e;case B1:return e=bi(19,n,t,i),e.elementType=B1,e.lanes=s,e;case rV:return rv(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case tV:o=10;break e;case nV:o=9;break e;case dS:o=11;break e;case fS:o=14;break e;case Lo:o=16,r=null;break e}throw Error(ae(130,e==null?e:typeof e,""))}return t=bi(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function Ja(e,t,n,r){return e=bi(7,e,r,t),e.lanes=n,e}function rv(e,t,n,r){return e=bi(22,e,r,t),e.elementType=rV,e.lanes=n,e.stateNode={isHidden:!1},e}function Gy(e,t,n){return e=bi(6,e,null,t),e.lanes=n,e}function Wy(e,t,n){return t=bi(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function fre(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cy(0),this.expirationTimes=Cy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cy(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function WS(e,t,n,r,i,s,o,a,l){return e=new fre(e,t,n,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=bi(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},PS(s),e}function hre(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:cc,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function K4(e){if(!e)return da;e=e._reactInternals;e:{if(Ol(e)!==e||e.tag!==1)throw Error(ae(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ae(171))}if(e.tag===1){var n=e.type;if(Pr(n))return YV(e,n,t)}return t}function Q4(e,t,n,r,i,s,o,a,l){return e=WS(n,r,!0,e,i,s,o,a,l),e.context=K4(null),n=e.current,r=Ar(),i=oa(n),s=so(r,i),s.callback=t??null,ia(n,s,i),e.current.lanes=i,ph(e,i,r),Rr(e,r),e}function iv(e,t,n,r){var i=t.current,s=Ar(),o=oa(i);return n=K4(n),t.context===null?t.context=n:t.pendingContext=n,t=so(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=ia(i,t,o),e!==null&&(ss(e,i,o,s),ig(e,i,o)),o}function xm(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function yI(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function YS(e,t){yI(e,t),(e=e.alternate)&&yI(e,t)}function pre(){return null}var J4=typeof reportError=="function"?reportError:function(e){console.error(e)};function KS(e){this._internalRoot=e}sv.prototype.render=KS.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ae(409));iv(e,t,null,null)};sv.prototype.unmount=KS.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;vl(function(){iv(null,e,null,null)}),t[mo]=null}};function sv(e){this._internalRoot=e}sv.prototype.unstable_scheduleHydration=function(e){if(e){var t=CV();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Bo.length&&t!==0&&t<Bo[n].priority;n++);Bo.splice(n,0,e),n===0&&IV(e)}};function QS(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ov(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function AI(){}function gre(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=xm(o);s.call(c)}}var o=Q4(t,r,e,0,null,!1,!1,"",AI);return e._reactRootContainer=o,e[mo]=o.current,Cf(e.nodeType===8?e.parentNode:e),vl(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=xm(l);a.call(c)}}var l=WS(e,0,!1,null,null,!1,!1,"",AI);return e._reactRootContainer=l,e[mo]=l.current,Cf(e.nodeType===8?e.parentNode:e),vl(function(){iv(t,l,n,r)}),l}function av(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=xm(o);a.call(l)}}iv(t,o,e,i)}else o=gre(n,t,e,i,r);return xm(o)}EV=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=vd(t.pendingLanes);n!==0&&(gS(t,n|1),Rr(t,fn()),!(lt&6)&&(cu=fn()+500,ma()))}break;case 13:vl(function(){var r=vo(e,1);if(r!==null){var i=Ar();ss(r,e,1,i)}}),YS(e,1)}};mS=function(e){if(e.tag===13){var t=vo(e,134217728);if(t!==null){var n=Ar();ss(t,e,134217728,n)}YS(e,134217728)}};kV=function(e){if(e.tag===13){var t=oa(e),n=vo(e,t);if(n!==null){var r=Ar();ss(n,e,t,r)}YS(e,t)}};CV=function(){return mt};TV=function(e,t){var n=mt;try{return mt=e,t()}finally{mt=n}};Q1=function(e,t,n){switch(t){case"input":if(U1(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=J0(r);if(!i)throw Error(ae(90));sV(r),U1(r,i)}}}break;case"textarea":aV(e,n);break;case"select":t=n.value,t!=null&&Vc(e,!!n.multiple,t,!1)}};pV=US;gV=vl;var mre={usingClientEntryPoint:!1,Events:[mh,pc,J0,fV,hV,US]},Zu={findFiberByHostInstance:Ua,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},vre={bundleType:Zu.bundleType,version:Zu.version,rendererPackageName:Zu.rendererPackageName,rendererConfig:Zu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ko.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=yV(e),e===null?null:e.stateNode},findFiberByHostInstance:Zu.findFiberByHostInstance||pre,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yp.isDisabled&&yp.supportsFiber)try{W0=yp.inject(vre),Os=yp}catch{}}ii.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mre;ii.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!QS(t))throw Error(ae(200));return hre(e,t,null,n)};ii.createRoot=function(e,t){if(!QS(e))throw Error(ae(299));var n=!1,r="",i=J4;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=WS(e,1,!1,null,null,n,!1,r,i),e[mo]=t.current,Cf(e.nodeType===8?e.parentNode:e),new KS(t)};ii.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ae(188)):(e=Object.keys(e).join(","),Error(ae(268,e)));return e=yV(t),e=e===null?null:e.stateNode,e};ii.flushSync=function(e){return vl(e)};ii.hydrate=function(e,t,n){if(!ov(t))throw Error(ae(200));return av(null,e,t,!0,n)};ii.hydrateRoot=function(e,t,n){if(!QS(e))throw Error(ae(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=J4;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Q4(t,null,e,1,n??null,i,!1,s,o),e[mo]=t.current,Cf(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new sv(t)};ii.render=function(e,t,n){if(!ov(t))throw Error(ae(200));return av(null,e,t,!1,n)};ii.unmountComponentAtNode=function(e){if(!ov(e))throw Error(ae(40));return e._reactRootContainer?(vl(function(){av(null,null,e,!1,function(){e._reactRootContainer=null,e[mo]=null})}),!0):!1};ii.unstable_batchedUpdates=US;ii.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ov(n))throw Error(ae(200));if(e==null||e._reactInternals===void 0)throw Error(ae(38));return av(e,t,n,!1,r)};ii.version="18.2.0-next-9e3b772b8-20220608";function X4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(X4)}catch(e){console.error(e)}}X4(),QO.exports=ii;var Tu=QO.exports;const Ap=lr(Tu),_I={disabled:!1},Sm=Pe.createContext(null);var yre=function(t){return t.scrollTop},Ad="unmounted",Va="exited",La="entering",Zl="entered",I_="exiting",Co=function(e){KO(t,e);function t(r,i){var s;s=e.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,l;return s.appearStatus=null,r.in?a?(l=Va,s.appearStatus=La):l=Zl:r.unmountOnExit||r.mountOnEnter?l=Ad:l=Va,s.state={status:l},s.nextCallback=null,s}t.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===Ad?{status:Va}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==La&&o!==Zl&&(s=La):(o===La||o===Zl)&&(s=I_)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===La){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:Ap.findDOMNode(this);o&&yre(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Va&&this.setState({status:Ad})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[Ap.findDOMNode(this),a],c=l[0],u=l[1],d=this.getTimeouts(),h=a?d.appear:d.enter;if(!i&&!o||_I.disabled){this.safeSetState({status:Zl},function(){s.props.onEntered(c)});return}this.props.onEnter(c,u),this.safeSetState({status:La},function(){s.props.onEntering(c,u),s.onTransitionEnd(h,function(){s.safeSetState({status:Zl},function(){s.props.onEntered(c,u)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:Ap.findDOMNode(this);if(!s||_I.disabled){this.safeSetState({status:Va},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:I_},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:Va},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:Ap.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],c=l[0],u=l[1];this.props.addEndListener(c,u)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===Ad)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=Xt(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Pe.createElement(Sm.Provider,{value:null},typeof o=="function"?o(i,a):Pe.cloneElement(Pe.Children.only(o),a))},t}(Pe.Component);Co.contextType=Sm;Co.propTypes={};function Yl(){}Co.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Yl,onEntering:Yl,onEntered:Yl,onExit:Yl,onExiting:Yl,onExited:Yl};Co.UNMOUNTED=Ad;Co.EXITED=Va;Co.ENTERING=La;Co.ENTERED=Zl;Co.EXITING=I_;const Are=Co;function _re(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function JS(e,t){var n=function(s){return t&&_.isValidElement(s)?t(s):s},r=Object.create(null);return e&&_.Children.map(e,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function bre(e,t){e=e||{},t=t||{};function n(u){return u in t?t[u]:e[u]}var r=Object.create(null),i=[];for(var s in e)s in t?i.length&&(r[s]=i,i=[]):i.push(s);var o,a={};for(var l in t){if(r[l])for(o=0;o<r[l].length;o++){var c=r[l][o];a[r[l][o]]=n(c)}a[l]=n(l)}for(o=0;o<i.length;o++)a[i[o]]=n(i[o]);return a}function Ga(e,t,n){return n[t]!=null?n[t]:e.props[t]}function xre(e,t){return JS(e.children,function(n){return _.cloneElement(n,{onExited:t.bind(null,n),in:!0,appear:Ga(n,"appear",e),enter:Ga(n,"enter",e),exit:Ga(n,"exit",e)})})}function Sre(e,t,n){var r=JS(e.children),i=bre(t,r);return Object.keys(i).forEach(function(s){var o=i[s];if(_.isValidElement(o)){var a=s in t,l=s in r,c=t[s],u=_.isValidElement(c)&&!c.props.in;l&&(!a||u)?i[s]=_.cloneElement(o,{onExited:n.bind(null,o),in:!0,exit:Ga(o,"exit",e),enter:Ga(o,"enter",e)}):!l&&a&&!u?i[s]=_.cloneElement(o,{in:!1}):l&&a&&_.isValidElement(c)&&(i[s]=_.cloneElement(o,{onExited:n.bind(null,o),in:c.props.in,exit:Ga(o,"exit",e),enter:Ga(o,"enter",e)}))}}),i}var wre=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},Ere={component:"div",childFactory:function(t){return t}},XS=function(e){KO(t,e);function t(r,i){var s;s=e.call(this,r,i)||this;var o=s.handleExited.bind(_re(s));return s.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},s}var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(i,s){var o=s.children,a=s.handleExited,l=s.firstRender;return{children:l?xre(i,a):Sre(i,o,a),firstRender:!1}},n.handleExited=function(i,s){var o=JS(this.props.children);i.key in o||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(a){var l=oe({},a.children);return delete l[i.key],{children:l}}))},n.render=function(){var i=this.props,s=i.component,o=i.childFactory,a=Xt(i,["component","childFactory"]),l=this.state.contextValue,c=wre(this.state.children).map(o);return delete a.appear,delete a.enter,delete a.exit,s===null?Pe.createElement(Sm.Provider,{value:l},c):Pe.createElement(Sm.Provider,{value:l},Pe.createElement(s,a,c))},t}(Pe.Component);XS.propTypes={};XS.defaultProps=Ere;const kre=XS;function ZS(e,t=0,n=1){return kO(e,t,n)}function Cre(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function lv(e){if(e.type)return e;if(e.charAt(0)==="#")return lv(Cre(e));const t=e.indexOf("("),n=e.substring(0,t);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error(fl(9,e));let r=e.substring(t+1,e.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error(fl(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}function ew(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return t.indexOf("rgb")!==-1?r=r.map((i,s)=>s<3?parseInt(i,10):i):t.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),t.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${t}(${r})`}function Tre(e,t){return e=lv(e),t=ZS(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,ew(e)}function u_e(e,t){if(e=lv(e),t=ZS(t),e.type.indexOf("hsl")!==-1)e.values[2]*=1-t;else if(e.type.indexOf("rgb")!==-1||e.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)e.values[n]*=1-t;return ew(e)}function d_e(e,t){if(e=lv(e),t=ZS(t),e.type.indexOf("hsl")!==-1)e.values[2]+=(100-e.values[2])*t;else if(e.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(e.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return ew(e)}const Ire=_.createContext(null),Z4=Ire;function eL(){return _.useContext(Z4)}const Pre=typeof Symbol=="function"&&Symbol.for,Rre=Pre?Symbol.for("mui.nested"):"__THEME_NESTED__";function Mre(e,t){return typeof t=="function"?t(e):oe({},e,t)}function jre(e){const{children:t,theme:n}=e,r=eL(),i=_.useMemo(()=>{const s=r===null?n:Mre(r,n);return s!=null&&(s[Rre]=r!==null),s},[n,r]);return f.jsx(Z4.Provider,{value:i,children:t})}const Ore=["value"],tL=_.createContext();function Vre(e){let{value:t}=e,n=Xt(e,Ore);return f.jsx(tL.Provider,oe({value:t??!0},n))}const Lre=()=>{const e=_.useContext(tL);return e??!1},bI={};function xI(e,t,n,r=!1){return _.useMemo(()=>{const i=e&&t[e]||t;if(typeof n=="function"){const s=n(i),o=e?oe({},t,{[e]:s}):s;return r?()=>o:o}return e?oe({},t,{[e]:n}):oe({},t,n)},[e,t,n,r])}function Nre(e){const{children:t,theme:n,themeId:r}=e,i=LO(bI),s=eL()||bI,o=xI(r,i,n),a=xI(r,s,n,!0),l=o.direction==="rtl";return f.jsx(jre,{theme:a,children:f.jsx(Yf.Provider,{value:o,children:f.jsx(Vre,{value:l,children:t})})})}function $re(e){const{className:t,classes:n,pulsate:r=!1,rippleX:i,rippleY:s,rippleSize:o,in:a,onExited:l,timeout:c}=e,[u,d]=_.useState(!1),h=Sn(t,n.ripple,n.rippleVisible,r&&n.ripplePulsate),p={width:o,height:o,top:-(o/2)+s,left:-(o/2)+i},g=Sn(n.child,u&&n.childLeaving,r&&n.childPulsate);return!a&&!u&&d(!0),_.useEffect(()=>{if(!a&&l!=null){const m=setTimeout(l,c);return()=>{clearTimeout(m)}}},[l,a,c]),f.jsx("span",{className:h,style:p,children:f.jsx("span",{className:g})})}const hi=Ml("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Dre=["center","classes","className"];let cv=e=>e,SI,wI,EI,kI;const P_=550,Bre=80,Fre=_o(SI||(SI=cv`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),zre=_o(wI||(wI=cv`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),Ure=_o(EI||(EI=cv`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),Hre=ri("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),qre=ri($re,{name:"MuiTouchRipple",slot:"Ripple"})(kI||(kI=cv`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),hi.rippleVisible,Fre,P_,({theme:e})=>e.transitions.easing.easeInOut,hi.ripplePulsate,({theme:e})=>e.transitions.duration.shorter,hi.child,hi.childLeaving,zre,P_,({theme:e})=>e.transitions.easing.easeInOut,hi.childPulsate,Ure,({theme:e})=>e.transitions.easing.easeInOut),Gre=_.forwardRef(function(t,n){const r=ha({props:t,name:"MuiTouchRipple"}),{center:i=!1,classes:s={},className:o}=r,a=Xt(r,Dre),[l,c]=_.useState([]),u=_.useRef(0),d=_.useRef(null);_.useEffect(()=>{d.current&&(d.current(),d.current=null)},[l]);const h=_.useRef(!1),p=lc(),g=_.useRef(null),m=_.useRef(null),A=_.useCallback(S=>{const{pulsate:x,rippleX:w,rippleY:E,rippleSize:T,cb:L}=S;c(O=>[...O,f.jsx(qre,{classes:{ripple:Sn(s.ripple,hi.ripple),rippleVisible:Sn(s.rippleVisible,hi.rippleVisible),ripplePulsate:Sn(s.ripplePulsate,hi.ripplePulsate),child:Sn(s.child,hi.child),childLeaving:Sn(s.childLeaving,hi.childLeaving),childPulsate:Sn(s.childPulsate,hi.childPulsate)},timeout:P_,pulsate:x,rippleX:w,rippleY:E,rippleSize:T},u.current)]),u.current+=1,d.current=L},[s]),v=_.useCallback((S={},x={},w=()=>{})=>{const{pulsate:E=!1,center:T=i||x.pulsate,fakeElement:L=!1}=x;if((S==null?void 0:S.type)==="mousedown"&&h.current){h.current=!1;return}(S==null?void 0:S.type)==="touchstart"&&(h.current=!0);const O=L?null:m.current,N=O?O.getBoundingClientRect():{width:0,height:0,left:0,top:0};let Q,M,U;if(T||S===void 0||S.clientX===0&&S.clientY===0||!S.clientX&&!S.touches)Q=Math.round(N.width/2),M=Math.round(N.height/2);else{const{clientX:P,clientY:I}=S.touches&&S.touches.length>0?S.touches[0]:S;Q=Math.round(P-N.left),M=Math.round(I-N.top)}if(T)U=Math.sqrt((2*N.width**2+N.height**2)/3),U%2===0&&(U+=1);else{const P=Math.max(Math.abs((O?O.clientWidth:0)-Q),Q)*2+2,I=Math.max(Math.abs((O?O.clientHeight:0)-M),M)*2+2;U=Math.sqrt(P**2+I**2)}S!=null&&S.touches?g.current===null&&(g.current=()=>{A({pulsate:E,rippleX:Q,rippleY:M,rippleSize:U,cb:w})},p.start(Bre,()=>{g.current&&(g.current(),g.current=null)})):A({pulsate:E,rippleX:Q,rippleY:M,rippleSize:U,cb:w})},[i,A,p]),y=_.useCallback(()=>{v({},{pulsate:!0})},[v]),b=_.useCallback((S,x)=>{if(p.clear(),(S==null?void 0:S.type)==="touchend"&&g.current){g.current(),g.current=null,p.start(0,()=>{b(S,x)});return}g.current=null,c(w=>w.length>0?w.slice(1):w),d.current=x},[p]);return _.useImperativeHandle(n,()=>({pulsate:y,start:v,stop:b}),[y,v,b]),f.jsx(Hre,oe({className:Sn(hi.root,s.root,o),ref:m},a,{children:f.jsx(kre,{component:null,exit:!0,children:l})}))}),Wre=Gre;function Yre(e){return Rl("MuiButtonBase",e)}const Kre=Ml("MuiButtonBase",["root","disabled","focusVisible"]),Qre=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],Jre=e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:r,classes:i}=e,o=Pl({root:["root",t&&"disabled",n&&"focusVisible"]},Yre,i);return n&&r&&(o.root+=` ${r}`),o},Xre=ri("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${Kre.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),Zre=_.forwardRef(function(t,n){const r=ha({props:t,name:"MuiButtonBase"}),{action:i,centerRipple:s=!1,children:o,className:a,component:l="button",disabled:c=!1,disableRipple:u=!1,disableTouchRipple:d=!1,focusRipple:h=!1,LinkComponent:p="a",onBlur:g,onClick:m,onContextMenu:A,onDragLeave:v,onFocus:y,onFocusVisible:b,onKeyDown:S,onKeyUp:x,onMouseDown:w,onMouseLeave:E,onMouseUp:T,onTouchEnd:L,onTouchMove:O,onTouchStart:N,tabIndex:Q=0,TouchRippleProps:M,touchRippleRef:U,type:P}=r,I=Xt(r,Qre),z=_.useRef(null),j=_.useRef(null),$=ho(j,U),{isFocusVisibleRef:B,onFocus:D,onBlur:q,ref:ne}=Yx(),[V,ce]=_.useState(!1);c&&V&&ce(!1),_.useImperativeHandle(i,()=>({focusVisible:()=>{ce(!0),z.current.focus()}}),[]);const[Z,de]=_.useState(!1);_.useEffect(()=>{de(!0)},[]);const we=Z&&!u&&!c;_.useEffect(()=>{V&&h&&!u&&Z&&j.current.pulsate()},[u,h,V,Z]);function Ee(ye,We,Pn=d){return za(bt=>(We&&We(bt),!Pn&&j.current&&j.current[ye](bt),!0))}const pe=Ee("start",w),Ae=Ee("stop",A),qe=Ee("stop",v),Le=Ee("stop",T),Ie=Ee("stop",ye=>{V&&ye.preventDefault(),E&&E(ye)}),_e=Ee("start",N),Ue=Ee("stop",L),Ge=Ee("stop",O),He=Ee("stop",ye=>{q(ye),B.current===!1&&ce(!1),g&&g(ye)},!1),rt=za(ye=>{z.current||(z.current=ye.currentTarget),D(ye),B.current===!0&&(ce(!0),b&&b(ye)),y&&y(ye)}),it=()=>{const ye=z.current;return l&&l!=="button"&&!(ye.tagName==="A"&&ye.href)},Nt=_.useRef(!1),At=za(ye=>{h&&!Nt.current&&V&&j.current&&ye.key===" "&&(Nt.current=!0,j.current.stop(ye,()=>{j.current.start(ye)})),ye.target===ye.currentTarget&&it()&&ye.key===" "&&ye.preventDefault(),S&&S(ye),ye.target===ye.currentTarget&&it()&&ye.key==="Enter"&&!c&&(ye.preventDefault(),m&&m(ye))}),Gt=za(ye=>{h&&ye.key===" "&&j.current&&V&&!ye.defaultPrevented&&(Nt.current=!1,j.current.stop(ye,()=>{j.current.pulsate(ye)})),x&&x(ye),m&&ye.target===ye.currentTarget&&it()&&ye.key===" "&&!ye.defaultPrevented&&m(ye)});let st=l;st==="button"&&(I.href||I.to)&&(st=p);const _t={};st==="button"?(_t.type=P===void 0?"button":P,_t.disabled=c):(!I.href&&!I.to&&(_t.role="button"),c&&(_t["aria-disabled"]=c));const wt=ho(n,ne,z),Ye=oe({},r,{centerRipple:s,component:l,disabled:c,disableRipple:u,disableTouchRipple:d,focusRipple:h,tabIndex:Q,focusVisible:V}),$t=Jre(Ye);return f.jsxs(Xre,oe({as:st,className:Sn($t.root,a),ownerState:Ye,onBlur:He,onClick:m,onContextMenu:Ae,onFocus:rt,onKeyDown:At,onKeyUp:Gt,onMouseDown:pe,onMouseLeave:Ie,onMouseUp:Le,onDragLeave:qe,onTouchEnd:Ue,onTouchMove:Ge,onTouchStart:_e,ref:wt,tabIndex:c?-1:Q,type:P},_t,I,{children:[o,we?f.jsx(Wre,oe({ref:$,center:s},M)):null]}))}),eie=Zre;function tie(e){return Rl("MuiIconButton",e)}const nie=Ml("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),rie=["edge","children","className","color","disabled","disableFocusRipple","size"],iie=e=>{const{classes:t,disabled:n,color:r,edge:i,size:s}=e,o={root:["root",n&&"disabled",r!=="default"&&`color${Cn(r)}`,i&&`edge${Cn(i)}`,`size${Cn(s)}`]};return Pl(o,tie,t)},sie=ri(eie,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="default"&&t[`color${Cn(n.color)}`],n.edge&&t[`edge${Cn(n.edge)}`],t[`size${Cn(n.size)}`]]}})(({theme:e,ownerState:t})=>oe({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest})},!t.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Qg(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.edge==="start"&&{marginLeft:t.size==="small"?-3:-12},t.edge==="end"&&{marginRight:t.size==="small"?-3:-12}),({theme:e,ownerState:t})=>{var n;const r=(n=(e.vars||e).palette)==null?void 0:n[t.color];return oe({},t.color==="inherit"&&{color:"inherit"},t.color!=="inherit"&&t.color!=="default"&&oe({color:r==null?void 0:r.main},!t.disableRipple&&{"&:hover":oe({},r&&{backgroundColor:e.vars?`rgba(${r.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Qg(r.main,e.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),t.size==="small"&&{padding:5,fontSize:e.typography.pxToRem(18)},t.size==="large"&&{padding:12,fontSize:e.typography.pxToRem(28)},{[`&.${nie.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled}})}),oie=_.forwardRef(function(t,n){const r=ha({props:t,name:"MuiIconButton"}),{edge:i=!1,children:s,className:o,color:a="default",disabled:l=!1,disableFocusRipple:c=!1,size:u="medium"}=r,d=Xt(r,rie),h=oe({},r,{edge:i,color:a,disabled:l,disableFocusRipple:c,size:u}),p=iie(h);return f.jsx(sie,oe({className:Sn(p.root,o),centerRipple:!0,focusRipple:!c,disabled:l,ref:n},d,{ownerState:h,children:s}))}),tw=oie;function aie(e){return typeof e=="string"}function _d(e,t,n){return e===void 0||aie(e)?t:oe({},t,{ownerState:oe({},t.ownerState,n)})}const lie={disableDefaultClasses:!1},cie=_.createContext(lie);function uie(e){const{disableDefaultClasses:t}=_.useContext(cie);return n=>t?"":e(n)}function die(e,t=[]){if(e===void 0)return{};const n={};return Object.keys(e).filter(r=>r.match(/^on[A-Z]/)&&typeof e[r]=="function"&&!t.includes(r)).forEach(r=>{n[r]=e[r]}),n}function fie(e,t,n){return typeof e=="function"?e(t,n):e}function CI(e){if(e===void 0)return{};const t={};return Object.keys(e).filter(n=>!(n.match(/^on[A-Z]/)&&typeof e[n]=="function")).forEach(n=>{t[n]=e[n]}),t}function hie(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:s}=e;if(!t){const p=Sn(n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),g=oe({},n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),m=oe({},n,i,r);return p.length>0&&(m.className=p),Object.keys(g).length>0&&(m.style=g),{props:m,internalRef:void 0}}const o=die(oe({},i,r)),a=CI(r),l=CI(i),c=t(o),u=Sn(c==null?void 0:c.className,n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),d=oe({},c==null?void 0:c.style,n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),h=oe({},c,n,l,a);return u.length>0&&(h.className=u),Object.keys(d).length>0&&(h.style=d),{props:h,internalRef:c.ref}}const pie=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function gie(e){var t;const{elementType:n,externalSlotProps:r,ownerState:i,skipResolvingSlotProps:s=!1}=e,o=Xt(e,pie),a=s?{}:fie(r,i),{props:l,internalRef:c}=hie(oe({},o,{externalSlotProps:a})),u=ho(c,a==null?void 0:a.ref,(t=e.additionalProps)==null?void 0:t.ref);return _d(n,oe({},l,{ref:u}),i)}function nL(){const e=NO(iS);return e[vf]||e}const mie=e=>e.scrollTop;function TI(e,t){var n,r;const{timeout:i,easing:s,style:o={}}=e;return{duration:(n=o.transitionDuration)!=null?n:typeof i=="number"?i:i[t.mode]||0,easing:(r=o.transitionTimingFunction)!=null?r:typeof s=="object"?s[t.mode]:s,delay:o.transitionDelay}}const vie=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function R_(e){return`scale(${e}, ${e**2})`}const yie={entering:{opacity:1,transform:R_(1)},entered:{opacity:1,transform:"none"}},Yy=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),rL=_.forwardRef(function(t,n){const{addEndListener:r,appear:i=!0,children:s,easing:o,in:a,onEnter:l,onEntered:c,onEntering:u,onExit:d,onExited:h,onExiting:p,style:g,timeout:m="auto",TransitionComponent:A=Are}=t,v=Xt(t,vie),y=lc(),b=_.useRef(),S=nL(),x=_.useRef(null),w=ho(x,s.ref,n),E=P=>I=>{if(P){const z=x.current;I===void 0?P(z):P(z,I)}},T=E(u),L=E((P,I)=>{mie(P);const{duration:z,delay:j,easing:$}=TI({style:g,timeout:m,easing:o},{mode:"enter"});let B;m==="auto"?(B=S.transitions.getAutoHeightDuration(P.clientHeight),b.current=B):B=z,P.style.transition=[S.transitions.create("opacity",{duration:B,delay:j}),S.transitions.create("transform",{duration:Yy?B:B*.666,delay:j,easing:$})].join(","),l&&l(P,I)}),O=E(c),N=E(p),Q=E(P=>{const{duration:I,delay:z,easing:j}=TI({style:g,timeout:m,easing:o},{mode:"exit"});let $;m==="auto"?($=S.transitions.getAutoHeightDuration(P.clientHeight),b.current=$):$=I,P.style.transition=[S.transitions.create("opacity",{duration:$,delay:z}),S.transitions.create("transform",{duration:Yy?$:$*.666,delay:Yy?z:z||$*.333,easing:j})].join(","),P.style.opacity=0,P.style.transform=R_(.75),d&&d(P)}),M=E(h),U=P=>{m==="auto"&&y.start(b.current||0,P),r&&r(x.current,P)};return f.jsx(A,oe({appear:i,in:a,nodeRef:x,onEnter:L,onEntered:O,onEntering:T,onExit:Q,onExited:M,onExiting:N,addEndListener:U,timeout:m==="auto"?null:m},v,{children:(P,I)=>_.cloneElement(s,oe({style:oe({opacity:0,transform:R_(.75),visibility:P==="exited"&&!a?"hidden":void 0},yie[P],g,s.props.style),ref:w},I))}))});rL.muiSupportAuto=!0;const II=rL;var Mr="top",Mi="bottom",ji="right",jr="left",nw="auto",yh=[Mr,Mi,ji,jr],uu="start",Lf="end",Aie="clippingParents",iL="viewport",ed="popper",_ie="reference",PI=yh.reduce(function(e,t){return e.concat([t+"-"+uu,t+"-"+Lf])},[]),sL=[].concat(yh,[nw]).reduce(function(e,t){return e.concat([t,t+"-"+uu,t+"-"+Lf])},[]),bie="beforeRead",xie="read",Sie="afterRead",wie="beforeMain",Eie="main",kie="afterMain",Cie="beforeWrite",Tie="write",Iie="afterWrite",Pie=[bie,xie,Sie,wie,Eie,kie,Cie,Tie,Iie];function Bs(e){return e?(e.nodeName||"").toLowerCase():null}function Zr(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function yl(e){var t=Zr(e).Element;return e instanceof t||e instanceof Element}function wi(e){var t=Zr(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function rw(e){if(typeof ShadowRoot>"u")return!1;var t=Zr(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function Rie(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},i=t.attributes[n]||{},s=t.elements[n];!wi(s)||!Bs(s)||(Object.assign(s.style,r),Object.keys(i).forEach(function(o){var a=i[o];a===!1?s.removeAttribute(o):s.setAttribute(o,a===!0?"":a)}))})}function Mie(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var i=t.elements[r],s=t.attributes[r]||{},o=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),a=o.reduce(function(l,c){return l[c]="",l},{});!wi(i)||!Bs(i)||(Object.assign(i.style,a),Object.keys(s).forEach(function(l){i.removeAttribute(l)}))})}}const jie={name:"applyStyles",enabled:!0,phase:"write",fn:Rie,effect:Mie,requires:["computeStyles"]};function Ls(e){return e.split("-")[0]}var Xa=Math.max,wm=Math.min,du=Math.round;function M_(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function oL(){return!/^((?!chrome|android).)*safari/i.test(M_())}function fu(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var r=e.getBoundingClientRect(),i=1,s=1;t&&wi(e)&&(i=e.offsetWidth>0&&du(r.width)/e.offsetWidth||1,s=e.offsetHeight>0&&du(r.height)/e.offsetHeight||1);var o=yl(e)?Zr(e):window,a=o.visualViewport,l=!oL()&&n,c=(r.left+(l&&a?a.offsetLeft:0))/i,u=(r.top+(l&&a?a.offsetTop:0))/s,d=r.width/i,h=r.height/s;return{width:d,height:h,top:u,right:c+d,bottom:u+h,left:c,x:c,y:u}}function iw(e){var t=fu(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function aL(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&rw(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Ao(e){return Zr(e).getComputedStyle(e)}function Oie(e){return["table","td","th"].indexOf(Bs(e))>=0}function va(e){return((yl(e)?e.ownerDocument:e.document)||window.document).documentElement}function uv(e){return Bs(e)==="html"?e:e.assignedSlot||e.parentNode||(rw(e)?e.host:null)||va(e)}function RI(e){return!wi(e)||Ao(e).position==="fixed"?null:e.offsetParent}function Vie(e){var t=/firefox/i.test(M_()),n=/Trident/i.test(M_());if(n&&wi(e)){var r=Ao(e);if(r.position==="fixed")return null}var i=uv(e);for(rw(i)&&(i=i.host);wi(i)&&["html","body"].indexOf(Bs(i))<0;){var s=Ao(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||t&&s.willChange==="filter"||t&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function Ah(e){for(var t=Zr(e),n=RI(e);n&&Oie(n)&&Ao(n).position==="static";)n=RI(n);return n&&(Bs(n)==="html"||Bs(n)==="body"&&Ao(n).position==="static")?t:n||Vie(e)||t}function sw(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Wd(e,t,n){return Xa(e,wm(t,n))}function Lie(e,t,n){var r=Wd(e,t,n);return r>n?n:r}function lL(){return{top:0,right:0,bottom:0,left:0}}function cL(e){return Object.assign({},lL(),e)}function uL(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var Nie=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,cL(typeof t!="number"?t:uL(t,yh))};function $ie(e){var t,n=e.state,r=e.name,i=e.options,s=n.elements.arrow,o=n.modifiersData.popperOffsets,a=Ls(n.placement),l=sw(a),c=[jr,ji].indexOf(a)>=0,u=c?"height":"width";if(!(!s||!o)){var d=Nie(i.padding,n),h=iw(s),p=l==="y"?Mr:jr,g=l==="y"?Mi:ji,m=n.rects.reference[u]+n.rects.reference[l]-o[l]-n.rects.popper[u],A=o[l]-n.rects.reference[l],v=Ah(s),y=v?l==="y"?v.clientHeight||0:v.clientWidth||0:0,b=m/2-A/2,S=d[p],x=y-h[u]-d[g],w=y/2-h[u]/2+b,E=Wd(S,w,x),T=l;n.modifiersData[r]=(t={},t[T]=E,t.centerOffset=E-w,t)}}function Die(e){var t=e.state,n=e.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=t.elements.popper.querySelector(i),!i)||aL(t.elements.popper,i)&&(t.elements.arrow=i))}const Bie={name:"arrow",enabled:!0,phase:"main",fn:$ie,effect:Die,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function hu(e){return e.split("-")[1]}var Fie={top:"auto",right:"auto",bottom:"auto",left:"auto"};function zie(e,t){var n=e.x,r=e.y,i=t.devicePixelRatio||1;return{x:du(n*i)/i||0,y:du(r*i)/i||0}}function MI(e){var t,n=e.popper,r=e.popperRect,i=e.placement,s=e.variation,o=e.offsets,a=e.position,l=e.gpuAcceleration,c=e.adaptive,u=e.roundOffsets,d=e.isFixed,h=o.x,p=h===void 0?0:h,g=o.y,m=g===void 0?0:g,A=typeof u=="function"?u({x:p,y:m}):{x:p,y:m};p=A.x,m=A.y;var v=o.hasOwnProperty("x"),y=o.hasOwnProperty("y"),b=jr,S=Mr,x=window;if(c){var w=Ah(n),E="clientHeight",T="clientWidth";if(w===Zr(n)&&(w=va(n),Ao(w).position!=="static"&&a==="absolute"&&(E="scrollHeight",T="scrollWidth")),w=w,i===Mr||(i===jr||i===ji)&&s===Lf){S=Mi;var L=d&&w===x&&x.visualViewport?x.visualViewport.height:w[E];m-=L-r.height,m*=l?1:-1}if(i===jr||(i===Mr||i===Mi)&&s===Lf){b=ji;var O=d&&w===x&&x.visualViewport?x.visualViewport.width:w[T];p-=O-r.width,p*=l?1:-1}}var N=Object.assign({position:a},c&&Fie),Q=u===!0?zie({x:p,y:m},Zr(n)):{x:p,y:m};if(p=Q.x,m=Q.y,l){var M;return Object.assign({},N,(M={},M[S]=y?"0":"",M[b]=v?"0":"",M.transform=(x.devicePixelRatio||1)<=1?"translate("+p+"px, "+m+"px)":"translate3d("+p+"px, "+m+"px, 0)",M))}return Object.assign({},N,(t={},t[S]=y?m+"px":"",t[b]=v?p+"px":"",t.transform="",t))}function Uie(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=r===void 0?!0:r,s=n.adaptive,o=s===void 0?!0:s,a=n.roundOffsets,l=a===void 0?!0:a,c={placement:Ls(t.placement),variation:hu(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,MI(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,MI(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const Hie={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Uie,data:{}};var _p={passive:!0};function qie(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,s=i===void 0?!0:i,o=r.resize,a=o===void 0?!0:o,l=Zr(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return s&&c.forEach(function(u){u.addEventListener("scroll",n.update,_p)}),a&&l.addEventListener("resize",n.update,_p),function(){s&&c.forEach(function(u){u.removeEventListener("scroll",n.update,_p)}),a&&l.removeEventListener("resize",n.update,_p)}}const Gie={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:qie,data:{}};var Wie={left:"right",right:"left",bottom:"top",top:"bottom"};function dg(e){return e.replace(/left|right|bottom|top/g,function(t){return Wie[t]})}var Yie={start:"end",end:"start"};function jI(e){return e.replace(/start|end/g,function(t){return Yie[t]})}function ow(e){var t=Zr(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function aw(e){return fu(va(e)).left+ow(e).scrollLeft}function Kie(e,t){var n=Zr(e),r=va(e),i=n.visualViewport,s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;var c=oL();(c||!c&&t==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a+aw(e),y:l}}function Qie(e){var t,n=va(e),r=ow(e),i=(t=e.ownerDocument)==null?void 0:t.body,s=Xa(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=Xa(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+aw(e),l=-r.scrollTop;return Ao(i||n).direction==="rtl"&&(a+=Xa(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function lw(e){var t=Ao(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function dL(e){return["html","body","#document"].indexOf(Bs(e))>=0?e.ownerDocument.body:wi(e)&&lw(e)?e:dL(uv(e))}function Yd(e,t){var n;t===void 0&&(t=[]);var r=dL(e),i=r===((n=e.ownerDocument)==null?void 0:n.body),s=Zr(r),o=i?[s].concat(s.visualViewport||[],lw(r)?r:[]):r,a=t.concat(o);return i?a:a.concat(Yd(uv(o)))}function j_(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Jie(e,t){var n=fu(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function OI(e,t,n){return t===iL?j_(Kie(e,n)):yl(t)?Jie(t,n):j_(Qie(va(e)))}function Xie(e){var t=Yd(uv(e)),n=["absolute","fixed"].indexOf(Ao(e).position)>=0,r=n&&wi(e)?Ah(e):e;return yl(r)?t.filter(function(i){return yl(i)&&aL(i,r)&&Bs(i)!=="body"}):[]}function Zie(e,t,n,r){var i=t==="clippingParents"?Xie(e):[].concat(t),s=[].concat(i,[n]),o=s[0],a=s.reduce(function(l,c){var u=OI(e,c,r);return l.top=Xa(u.top,l.top),l.right=wm(u.right,l.right),l.bottom=wm(u.bottom,l.bottom),l.left=Xa(u.left,l.left),l},OI(e,o,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function fL(e){var t=e.reference,n=e.element,r=e.placement,i=r?Ls(r):null,s=r?hu(r):null,o=t.x+t.width/2-n.width/2,a=t.y+t.height/2-n.height/2,l;switch(i){case Mr:l={x:o,y:t.y-n.height};break;case Mi:l={x:o,y:t.y+t.height};break;case ji:l={x:t.x+t.width,y:a};break;case jr:l={x:t.x-n.width,y:a};break;default:l={x:t.x,y:t.y}}var c=i?sw(i):null;if(c!=null){var u=c==="y"?"height":"width";switch(s){case uu:l[c]=l[c]-(t[u]/2-n[u]/2);break;case Lf:l[c]=l[c]+(t[u]/2-n[u]/2);break}}return l}function Nf(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=r===void 0?e.placement:r,s=n.strategy,o=s===void 0?e.strategy:s,a=n.boundary,l=a===void 0?Aie:a,c=n.rootBoundary,u=c===void 0?iL:c,d=n.elementContext,h=d===void 0?ed:d,p=n.altBoundary,g=p===void 0?!1:p,m=n.padding,A=m===void 0?0:m,v=cL(typeof A!="number"?A:uL(A,yh)),y=h===ed?_ie:ed,b=e.rects.popper,S=e.elements[g?y:h],x=Zie(yl(S)?S:S.contextElement||va(e.elements.popper),l,u,o),w=fu(e.elements.reference),E=fL({reference:w,element:b,strategy:"absolute",placement:i}),T=j_(Object.assign({},b,E)),L=h===ed?T:w,O={top:x.top-L.top+v.top,bottom:L.bottom-x.bottom+v.bottom,left:x.left-L.left+v.left,right:L.right-x.right+v.right},N=e.modifiersData.offset;if(h===ed&&N){var Q=N[i];Object.keys(O).forEach(function(M){var U=[ji,Mi].indexOf(M)>=0?1:-1,P=[Mr,Mi].indexOf(M)>=0?"y":"x";O[M]+=Q[P]*U})}return O}function ese(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=n.boundary,s=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?sL:l,u=hu(r),d=u?a?PI:PI.filter(function(g){return hu(g)===u}):yh,h=d.filter(function(g){return c.indexOf(g)>=0});h.length===0&&(h=d);var p=h.reduce(function(g,m){return g[m]=Nf(e,{placement:m,boundary:i,rootBoundary:s,padding:o})[Ls(m)],g},{});return Object.keys(p).sort(function(g,m){return p[g]-p[m]})}function tse(e){if(Ls(e)===nw)return[];var t=dg(e);return[jI(e),t,jI(t)]}function nse(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!0:o,l=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,h=n.altBoundary,p=n.flipVariations,g=p===void 0?!0:p,m=n.allowedAutoPlacements,A=t.options.placement,v=Ls(A),y=v===A,b=l||(y||!g?[dg(A)]:tse(A)),S=[A].concat(b).reduce(function(V,ce){return V.concat(Ls(ce)===nw?ese(t,{placement:ce,boundary:u,rootBoundary:d,padding:c,flipVariations:g,allowedAutoPlacements:m}):ce)},[]),x=t.rects.reference,w=t.rects.popper,E=new Map,T=!0,L=S[0],O=0;O<S.length;O++){var N=S[O],Q=Ls(N),M=hu(N)===uu,U=[Mr,Mi].indexOf(Q)>=0,P=U?"width":"height",I=Nf(t,{placement:N,boundary:u,rootBoundary:d,altBoundary:h,padding:c}),z=U?M?ji:jr:M?Mi:Mr;x[P]>w[P]&&(z=dg(z));var j=dg(z),$=[];if(s&&$.push(I[Q]<=0),a&&$.push(I[z]<=0,I[j]<=0),$.every(function(V){return V})){L=N,T=!1;break}E.set(N,$)}if(T)for(var B=g?3:1,D=function(ce){var Z=S.find(function(de){var we=E.get(de);if(we)return we.slice(0,ce).every(function(Ee){return Ee})});if(Z)return L=Z,"break"},q=B;q>0;q--){var ne=D(q);if(ne==="break")break}t.placement!==L&&(t.modifiersData[r]._skip=!0,t.placement=L,t.reset=!0)}}const rse={name:"flip",enabled:!0,phase:"main",fn:nse,requiresIfExists:["offset"],data:{_skip:!1}};function VI(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function LI(e){return[Mr,ji,Mi,jr].some(function(t){return e[t]>=0})}function ise(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,s=t.modifiersData.preventOverflow,o=Nf(t,{elementContext:"reference"}),a=Nf(t,{altBoundary:!0}),l=VI(o,r),c=VI(a,i,s),u=LI(l),d=LI(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}const sse={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:ise};function ose(e,t,n){var r=Ls(e),i=[jr,Mr].indexOf(r)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,o=s[0],a=s[1];return o=o||0,a=(a||0)*i,[jr,ji].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function ase(e){var t=e.state,n=e.options,r=e.name,i=n.offset,s=i===void 0?[0,0]:i,o=sL.reduce(function(u,d){return u[d]=ose(d,t.rects,s),u},{}),a=o[t.placement],l=a.x,c=a.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=o}const lse={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:ase};function cse(e){var t=e.state,n=e.name;t.modifiersData[n]=fL({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const use={name:"popperOffsets",enabled:!0,phase:"read",fn:cse,data:{}};function dse(e){return e==="x"?"y":"x"}function fse(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!1:o,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,d=n.padding,h=n.tether,p=h===void 0?!0:h,g=n.tetherOffset,m=g===void 0?0:g,A=Nf(t,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),v=Ls(t.placement),y=hu(t.placement),b=!y,S=sw(v),x=dse(S),w=t.modifiersData.popperOffsets,E=t.rects.reference,T=t.rects.popper,L=typeof m=="function"?m(Object.assign({},t.rects,{placement:t.placement})):m,O=typeof L=="number"?{mainAxis:L,altAxis:L}:Object.assign({mainAxis:0,altAxis:0},L),N=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,Q={x:0,y:0};if(w){if(s){var M,U=S==="y"?Mr:jr,P=S==="y"?Mi:ji,I=S==="y"?"height":"width",z=w[S],j=z+A[U],$=z-A[P],B=p?-T[I]/2:0,D=y===uu?E[I]:T[I],q=y===uu?-T[I]:-E[I],ne=t.elements.arrow,V=p&&ne?iw(ne):{width:0,height:0},ce=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:lL(),Z=ce[U],de=ce[P],we=Wd(0,E[I],V[I]),Ee=b?E[I]/2-B-we-Z-O.mainAxis:D-we-Z-O.mainAxis,pe=b?-E[I]/2+B+we+de+O.mainAxis:q+we+de+O.mainAxis,Ae=t.elements.arrow&&Ah(t.elements.arrow),qe=Ae?S==="y"?Ae.clientTop||0:Ae.clientLeft||0:0,Le=(M=N==null?void 0:N[S])!=null?M:0,Ie=z+Ee-Le-qe,_e=z+pe-Le,Ue=Wd(p?wm(j,Ie):j,z,p?Xa($,_e):$);w[S]=Ue,Q[S]=Ue-z}if(a){var Ge,He=S==="x"?Mr:jr,rt=S==="x"?Mi:ji,it=w[x],Nt=x==="y"?"height":"width",At=it+A[He],Gt=it-A[rt],st=[Mr,jr].indexOf(v)!==-1,_t=(Ge=N==null?void 0:N[x])!=null?Ge:0,wt=st?At:it-E[Nt]-T[Nt]-_t+O.altAxis,Ye=st?it+E[Nt]+T[Nt]-_t-O.altAxis:Gt,$t=p&&st?Lie(wt,it,Ye):Wd(p?wt:At,it,p?Ye:Gt);w[x]=$t,Q[x]=$t-it}t.modifiersData[r]=Q}}const hse={name:"preventOverflow",enabled:!0,phase:"main",fn:fse,requiresIfExists:["offset"]};function pse(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function gse(e){return e===Zr(e)||!wi(e)?ow(e):pse(e)}function mse(e){var t=e.getBoundingClientRect(),n=du(t.width)/e.offsetWidth||1,r=du(t.height)/e.offsetHeight||1;return n!==1||r!==1}function vse(e,t,n){n===void 0&&(n=!1);var r=wi(t),i=wi(t)&&mse(t),s=va(t),o=fu(e,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((Bs(t)!=="body"||lw(s))&&(a=gse(t)),wi(t)?(l=fu(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):s&&(l.x=aw(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function yse(e){var t=new Map,n=new Set,r=[];e.forEach(function(s){t.set(s.name,s)});function i(s){n.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var l=t.get(a);l&&i(l)}}),r.push(s)}return e.forEach(function(s){n.has(s.name)||i(s)}),r}function Ase(e){var t=yse(e);return Pie.reduce(function(n,r){return n.concat(t.filter(function(i){return i.phase===r}))},[])}function _se(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function bse(e){var t=e.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var NI={placement:"bottom",modifiers:[],strategy:"absolute"};function $I(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function xse(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,i=t.defaultOptions,s=i===void 0?NI:i;return function(a,l,c){c===void 0&&(c=s);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},NI,s),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],h=!1,p={state:u,setOptions:function(v){var y=typeof v=="function"?v(u.options):v;m(),u.options=Object.assign({},s,u.options,y),u.scrollParents={reference:yl(a)?Yd(a):a.contextElement?Yd(a.contextElement):[],popper:Yd(l)};var b=Ase(bse([].concat(r,u.options.modifiers)));return u.orderedModifiers=b.filter(function(S){return S.enabled}),g(),p.update()},forceUpdate:function(){if(!h){var v=u.elements,y=v.reference,b=v.popper;if($I(y,b)){u.rects={reference:vse(y,Ah(b),u.options.strategy==="fixed"),popper:iw(b)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(O){return u.modifiersData[O.name]=Object.assign({},O.data)});for(var S=0;S<u.orderedModifiers.length;S++){if(u.reset===!0){u.reset=!1,S=-1;continue}var x=u.orderedModifiers[S],w=x.fn,E=x.options,T=E===void 0?{}:E,L=x.name;typeof w=="function"&&(u=w({state:u,options:T,name:L,instance:p})||u)}}}},update:_se(function(){return new Promise(function(A){p.forceUpdate(),A(u)})}),destroy:function(){m(),h=!0}};if(!$I(a,l))return p;p.setOptions(c).then(function(A){!h&&c.onFirstUpdate&&c.onFirstUpdate(A)});function g(){u.orderedModifiers.forEach(function(A){var v=A.name,y=A.options,b=y===void 0?{}:y,S=A.effect;if(typeof S=="function"){var x=S({state:u,name:v,instance:p,options:b}),w=function(){};d.push(x||w)}})}function m(){d.forEach(function(A){return A()}),d=[]}return p}}var Sse=[Gie,use,Hie,jie,lse,rse,hse,Bie,sse],wse=xse({defaultModifiers:Sse});function Ese(e){return typeof e=="function"?e():e}const kse=_.forwardRef(function(t,n){const{children:r,container:i,disablePortal:s=!1}=t,[o,a]=_.useState(null),l=ho(_.isValidElement(r)?r.ref:null,n);if(nu(()=>{s||a(Ese(i)||document.body)},[i,s]),nu(()=>{if(o&&!s)return Yg(n,o),()=>{Yg(n,null)}},[n,o,s]),s){if(_.isValidElement(r)){const c={ref:l};return _.cloneElement(r,c)}return f.jsx(_.Fragment,{children:r})}return f.jsx(_.Fragment,{children:o&&Tu.createPortal(r,o)})}),hL="base";function Cse(e){return`${hL}--${e}`}function Tse(e,t){return`${hL}-${e}-${t}`}function pL(e,t){const n=EO[t];return n?Cse(n):Tse(e,t)}function Ise(e,t){const n={};return t.forEach(r=>{n[r]=pL(e,r)}),n}const gL="Popper";function Pse(e){return pL(gL,e)}Ise(gL,["root"]);const Rse=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],Mse=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function jse(e,t){if(t==="ltr")return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}function O_(e){return typeof e=="function"?e():e}function Ose(e){return e.nodeType!==void 0}const Vse=()=>Pl({root:["root"]},uie(Pse)),Lse={},Nse=_.forwardRef(function(t,n){var r;const{anchorEl:i,children:s,direction:o,disablePortal:a,modifiers:l,open:c,placement:u,popperOptions:d,popperRef:h,slotProps:p={},slots:g={},TransitionProps:m}=t,A=Xt(t,Rse),v=_.useRef(null),y=ho(v,n),b=_.useRef(null),S=ho(b,h),x=_.useRef(S);nu(()=>{x.current=S},[S]),_.useImperativeHandle(h,()=>b.current,[]);const w=jse(u,o),[E,T]=_.useState(w),[L,O]=_.useState(O_(i));_.useEffect(()=>{b.current&&b.current.forceUpdate()}),_.useEffect(()=>{i&&O(O_(i))},[i]),nu(()=>{if(!L||!c)return;const P=j=>{T(j.placement)};let I=[{name:"preventOverflow",options:{altBoundary:a}},{name:"flip",options:{altBoundary:a}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:j})=>{P(j)}}];l!=null&&(I=I.concat(l)),d&&d.modifiers!=null&&(I=I.concat(d.modifiers));const z=wse(L,v.current,oe({placement:w},d,{modifiers:I}));return x.current(z),()=>{z.destroy(),x.current(null)}},[L,a,l,c,d,w]);const N={placement:E};m!==null&&(N.TransitionProps=m);const Q=Vse(),M=(r=g.root)!=null?r:"div",U=gie({elementType:M,externalSlotProps:p.root,externalForwardedProps:A,additionalProps:{role:"tooltip",ref:y},ownerState:t,className:Q.root});return f.jsx(M,oe({},U,{children:typeof s=="function"?s(N):s}))}),$se=_.forwardRef(function(t,n){const{anchorEl:r,children:i,container:s,direction:o="ltr",disablePortal:a=!1,keepMounted:l=!1,modifiers:c,open:u,placement:d="bottom",popperOptions:h=Lse,popperRef:p,style:g,transition:m=!1,slotProps:A={},slots:v={}}=t,y=Xt(t,Mse),[b,S]=_.useState(!0),x=()=>{S(!1)},w=()=>{S(!0)};if(!l&&!u&&(!m||b))return null;let E;if(s)E=s;else if(r){const O=O_(r);E=O&&Ose(O)?Wg(O).body:Wg(null).body}const T=!u&&l&&(!m||b)?"none":void 0,L=m?{in:u,onEnter:x,onExited:w}:void 0;return f.jsx(kse,{disablePortal:a,container:E,children:f.jsx(Nse,oe({anchorEl:r,direction:o,disablePortal:a,modifiers:c,ref:n,open:m?!b:u,placement:d,popperOptions:h,popperRef:p,slotProps:A,slots:v},y,{style:oe({position:"fixed",top:0,left:0,display:T},g),TransitionProps:L,children:i}))})});var cw={};Object.defineProperty(cw,"__esModule",{value:!0});var mL=cw.default=void 0,Dse=Fse(_),Bse=qO;function vL(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(vL=function(r){return r?n:t})(e)}function Fse(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=vL(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(s!=="default"&&Object.prototype.hasOwnProperty.call(e,s)){var o=i?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=e[s]}return r.default=e,n&&n.set(e,r),r}function zse(e){return Object.keys(e).length===0}function Use(e=null){const t=Dse.useContext(Bse.ThemeContext);return!t||zse(t)?e:t}mL=cw.default=Use;function Hse(e){return String(e).match(/[\d.\-+]*\s*(.*)/)[1]||""}function qse(e){return parseFloat(e)}const Gse=["theme"];function Wse(e){let{theme:t}=e,n=Xt(e,Gse);const r=t[vf];return f.jsx(Nre,oe({},n,{themeId:r?vf:void 0,theme:r||t}))}const Yse=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],Kse=ri($se,{name:"MuiPopper",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Qse=_.forwardRef(function(t,n){var r;const i=mL(),s=ha({props:t,name:"MuiPopper"}),{anchorEl:o,component:a,components:l,componentsProps:c,container:u,disablePortal:d,keepMounted:h,modifiers:p,open:g,placement:m,popperOptions:A,popperRef:v,transition:y,slots:b,slotProps:S}=s,x=Xt(s,Yse),w=(r=b==null?void 0:b.root)!=null?r:l==null?void 0:l.Root,E=oe({anchorEl:o,container:u,disablePortal:d,keepMounted:h,modifiers:p,open:g,placement:m,popperOptions:A,popperRef:v,transition:y},x);return f.jsx(Kse,oe({as:a,direction:i==null?void 0:i.direction,slots:{root:w},slotProps:S??c},E,{ref:n}))}),yL=Qse;function Jse(e){return Rl("MuiTooltip",e)}const Xse=Ml("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),Yo=Xse,Zse=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];function eoe(e){return Math.round(e*1e5)/1e5}const toe=e=>{const{classes:t,disableInteractive:n,arrow:r,touch:i,placement:s}=e,o={popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",i&&"touch",`tooltipPlacement${Cn(s.split("-")[0])}`],arrow:["arrow"]};return Pl(o,Jse,t)},noe=ri(yL,{name:"MuiTooltip",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.popper,!n.disableInteractive&&t.popperInteractive,n.arrow&&t.popperArrow,!n.open&&t.popperClose]}})(({theme:e,ownerState:t,open:n})=>oe({zIndex:(e.vars||e).zIndex.tooltip,pointerEvents:"none"},!t.disableInteractive&&{pointerEvents:"auto"},!n&&{pointerEvents:"none"},t.arrow&&{[`&[data-popper-placement*="bottom"] .${Yo.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${Yo.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${Yo.arrow}`]:oe({},t.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),[`&[data-popper-placement*="left"] .${Yo.arrow}`]:oe({},t.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})),roe=ri("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.tooltip,n.touch&&t.touch,n.arrow&&t.tooltipArrow,t[`tooltipPlacement${Cn(n.placement.split("-")[0])}`]]}})(({theme:e,ownerState:t})=>oe({backgroundColor:e.vars?e.vars.palette.Tooltip.bg:Qg(e.palette.grey[700],.92),borderRadius:(e.vars||e).shape.borderRadius,color:(e.vars||e).palette.common.white,fontFamily:e.typography.fontFamily,padding:"4px 8px",fontSize:e.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:e.typography.fontWeightMedium},t.arrow&&{position:"relative",margin:0},t.touch&&{padding:"8px 16px",fontSize:e.typography.pxToRem(14),lineHeight:`${eoe(16/14)}em`,fontWeight:e.typography.fontWeightRegular},{[`.${Yo.popper}[data-popper-placement*="left"] &`]:oe({transformOrigin:"right center"},t.isRtl?oe({marginLeft:"14px"},t.touch&&{marginLeft:"24px"}):oe({marginRight:"14px"},t.touch&&{marginRight:"24px"})),[`.${Yo.popper}[data-popper-placement*="right"] &`]:oe({transformOrigin:"left center"},t.isRtl?oe({marginRight:"14px"},t.touch&&{marginRight:"24px"}):oe({marginLeft:"14px"},t.touch&&{marginLeft:"24px"})),[`.${Yo.popper}[data-popper-placement*="top"] &`]:oe({transformOrigin:"center bottom",marginBottom:"14px"},t.touch&&{marginBottom:"24px"}),[`.${Yo.popper}[data-popper-placement*="bottom"] &`]:oe({transformOrigin:"center top",marginTop:"14px"},t.touch&&{marginTop:"24px"})})),ioe=ri("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(e,t)=>t.arrow})(({theme:e})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:e.vars?e.vars.palette.Tooltip.bg:Qg(e.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}));let bp=!1;const DI=new ch;let td={x:0,y:0};function xp(e,t){return(n,...r)=>{t&&t(n,...r),e(n,...r)}}const soe=_.forwardRef(function(t,n){var r,i,s,o,a,l,c,u,d,h,p,g,m,A,v,y,b,S,x;const w=ha({props:t,name:"MuiTooltip"}),{arrow:E=!1,children:T,components:L={},componentsProps:O={},describeChild:N=!1,disableFocusListener:Q=!1,disableHoverListener:M=!1,disableInteractive:U=!1,disableTouchListener:P=!1,enterDelay:I=100,enterNextDelay:z=0,enterTouchDelay:j=700,followCursor:$=!1,id:B,leaveDelay:D=0,leaveTouchDelay:q=1500,onClose:ne,onOpen:V,open:ce,placement:Z="bottom",PopperComponent:de,PopperProps:we={},slotProps:Ee={},slots:pe={},title:Ae,TransitionComponent:qe=II,TransitionProps:Le}=w,Ie=Xt(w,Zse),_e=_.isValidElement(T)?T:f.jsx("span",{children:T}),Ue=nL(),Ge=Lre(),[He,rt]=_.useState(),[it,Nt]=_.useState(null),At=_.useRef(!1),Gt=U||$,st=lc(),_t=lc(),wt=lc(),Ye=lc(),[$t,ye]=xO({controlled:ce,default:!1,name:"Tooltip",state:"open"});let We=$t;const Pn=bO(B),bt=_.useRef(),yn=za(()=>{bt.current!==void 0&&(document.body.style.WebkitUserSelect=bt.current,bt.current=void 0),Ye.clear()});_.useEffect(()=>yn,[yn]);const on=Ke=>{DI.clear(),bp=!0,ye(!0),V&&!We&&V(Ke)},an=za(Ke=>{DI.start(800+D,()=>{bp=!1}),ye(!1),ne&&We&&ne(Ke),st.start(Ue.transitions.duration.shortest,()=>{At.current=!1})}),Zt=Ke=>{At.current&&Ke.type!=="touchstart"||(He&&He.removeAttribute("title"),_t.clear(),wt.clear(),I||bp&&z?_t.start(bp?z:I,()=>{on(Ke)}):on(Ke))},ht=Ke=>{_t.clear(),wt.start(D,()=>{an(Ke)})},{isFocusVisibleRef:ur,onBlur:Li,onFocus:er,ref:Io}=Yx(),[,Ni]=_.useState(!1),Lr=Ke=>{Li(Ke),ur.current===!1&&(Ni(!1),ht(Ke))},$i=Ke=>{He||rt(Ke.currentTarget),er(Ke),ur.current===!0&&(Ni(!0),Zt(Ke))},Ll=Ke=>{At.current=!0;const dr=_e.props;dr.onTouchStart&&dr.onTouchStart(Ke)},Nl=Ke=>{Ll(Ke),wt.clear(),st.clear(),yn(),bt.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",Ye.start(j,()=>{document.body.style.WebkitUserSelect=bt.current,Zt(Ke)})},$l=Ke=>{_e.props.onTouchEnd&&_e.props.onTouchEnd(Ke),yn(),wt.start(q,()=>{an(Ke)})};_.useEffect(()=>{if(!We)return;function Ke(dr){(dr.key==="Escape"||dr.key==="Esc")&&an(dr)}return document.addEventListener("keydown",Ke),()=>{document.removeEventListener("keydown",Ke)}},[an,We]);const _a=ho(_e.ref,Io,rt,n);!Ae&&Ae!==0&&(We=!1);const Mu=_.useRef(),wv=Ke=>{const dr=_e.props;dr.onMouseMove&&dr.onMouseMove(Ke),td={x:Ke.clientX,y:Ke.clientY},Mu.current&&Mu.current.update()},ba={},ju=typeof Ae=="string";N?(ba.title=!We&&ju&&!M?Ae:null,ba["aria-describedby"]=We?Pn:null):(ba["aria-label"]=ju?Ae:null,ba["aria-labelledby"]=We&&!ju?Pn:null);const Nr=oe({},ba,Ie,_e.props,{className:Sn(Ie.className,_e.props.className),onTouchStart:Ll,ref:_a},$?{onMouseMove:wv}:{}),Po={};P||(Nr.onTouchStart=Nl,Nr.onTouchEnd=$l),M||(Nr.onMouseOver=xp(Zt,Nr.onMouseOver),Nr.onMouseLeave=xp(ht,Nr.onMouseLeave),Gt||(Po.onMouseOver=Zt,Po.onMouseLeave=ht)),Q||(Nr.onFocus=xp($i,Nr.onFocus),Nr.onBlur=xp(Lr,Nr.onBlur),Gt||(Po.onFocus=$i,Po.onBlur=Lr));const Ev=_.useMemo(()=>{var Ke;let dr=[{name:"arrow",enabled:!!it,options:{element:it,padding:4}}];return(Ke=we.popperOptions)!=null&&Ke.modifiers&&(dr=dr.concat(we.popperOptions.modifiers)),oe({},we.popperOptions,{modifiers:dr})},[it,we]),xa=oe({},w,{isRtl:Ge,arrow:E,disableInteractive:Gt,placement:Z,PopperComponentProp:de,touch:At.current}),Ou=toe(xa),kh=(r=(i=pe.popper)!=null?i:L.Popper)!=null?r:noe,Ch=(s=(o=(a=pe.transition)!=null?a:L.Transition)!=null?o:qe)!=null?s:II,Th=(l=(c=pe.tooltip)!=null?c:L.Tooltip)!=null?l:roe,Ih=(u=(d=pe.arrow)!=null?d:L.Arrow)!=null?u:ioe,kv=_d(kh,oe({},we,(h=Ee.popper)!=null?h:O.popper,{className:Sn(Ou.popper,we==null?void 0:we.className,(p=(g=Ee.popper)!=null?g:O.popper)==null?void 0:p.className)}),xa),Cv=_d(Ch,oe({},Le,(m=Ee.transition)!=null?m:O.transition),xa),Tv=_d(Th,oe({},(A=Ee.tooltip)!=null?A:O.tooltip,{className:Sn(Ou.tooltip,(v=(y=Ee.tooltip)!=null?y:O.tooltip)==null?void 0:v.className)}),xa),Iv=_d(Ih,oe({},(b=Ee.arrow)!=null?b:O.arrow,{className:Sn(Ou.arrow,(S=(x=Ee.arrow)!=null?x:O.arrow)==null?void 0:S.className)}),xa);return f.jsxs(_.Fragment,{children:[_.cloneElement(_e,Nr),f.jsx(kh,oe({as:de??yL,placement:Z,anchorEl:$?{getBoundingClientRect:()=>({top:td.y,left:td.x,right:td.x,bottom:td.y,width:0,height:0})}:He,popperRef:Mu,open:He?We:!1,id:Pn,transition:!0},Po,kv,{popperOptions:Ev,children:({TransitionProps:Ke})=>f.jsx(Ch,oe({timeout:Ue.transitions.duration.shorter},Ke,Cv,{children:f.jsxs(Th,oe({},Tv,{children:[Ae,E?f.jsx(Ih,oe({},Iv,{ref:Nt})):null]}))}))}))]})}),ooe=soe,aoe=({className:e,...t})=>f.jsx(ooe,{arrow:!0,...t,classes:{tooltip:e}}),pu=C(aoe,{target:"e21jg9v2"})("background:rgba(0, 0, 0, 0.85);font-size:2rem;padding:1rem 1.5rem;border-radius:1rem;max-width:45rem;",Ne,";.MuiTooltip-arrow{&::before{background:rgba(0, 0, 0, 0.85);}}strong{color:",he.colors.text.active,";}"),BI=e=>`tooltip_dismissed_${e}`,loe=({dismissKey:e,timeoutMs:t,oneTime:n=!0,...r})=>{const[i,s]=_.useState(!Ve.local.getItem(BI(e))),o=_.useCallback(()=>{Ve.local.setItem(BI(e),!0),s(void 0)},[e]);_.useEffect(()=>{if(t){const l=setTimeout(o,t);return()=>clearTimeout(l)}},[t,o]);const a=(i===void 0||!i&&!n)&&r.open===void 0;return f.jsx(pu,{open:a?r.open:i,...r,title:f.jsxs(f.Fragment,{children:[r.title,i&&f.jsx(coe,{children:f.jsx(uoe,{"data-test":"close-tooltip-button",onClick:o,children:"Close"})})]})},a?"uncontrolled":"controlled")},coe=C("div",{target:"e21jg9v1"})({name:"g78t84",styles:"display:flex;justify-content:flex-end;margin-top:1rem"}),uoe=C("button",{target:"e21jg9v0"})("padding:0.25rem 2rem;font-weight:bold;cursor:pointer;color:white;border:1px solid white;border-radius:0.5rem;background:none;font-size:1.75rem;&:hover{color:",he.colors.text.active,";border-color:",he.colors.text.active,";}&:active{color:white;background:",he.colors.text.active,";border-color:none;}");var uw={},doe=Xe;Object.defineProperty(uw,"__esModule",{value:!0});var AL=uw.default=void 0,foe=doe(nt()),hoe=f;AL=uw.default=(0,foe.default)((0,hoe.jsx)("path",{d:"M7 14H5v5h5v-2H7zm-2-4h2V7h3V5H5zm12 7h-3v2h5v-5h-2zM14 5v2h3v3h2V5z"}),"Fullscreen");var dw={},poe=Xe;Object.defineProperty(dw,"__esModule",{value:!0});var _L=dw.default=void 0,goe=poe(nt()),moe=f;_L=dw.default=(0,goe.default)((0,moe.jsx)("path",{d:"M5 16h3v3h2v-5H5zm3-8H5v2h5V5H8zm6 11h2v-3h3v-2h-5zm2-11V5h-2v5h5V8z"}),"FullscreenExit");function voe(){const[,e]=$e(Hb),[t]=$e(Zn),[n,r]=_.useState(document.fullscreenElement!==null);return _.useEffect(()=>{const i=()=>{r(document.fullscreenElement!==null)};return document.addEventListener("fullscreenchange",i),()=>{document.removeEventListener("fullscreenchange",i)}},[]),f.jsx(pu,{title:"Toggle fullscreen",children:f.jsx(tw,{"data-test":"toggle-fullscreen",size:"small",onClick:async()=>{var i,s;try{document.fullscreenElement===null?(e(!0),await document.body.requestFullscreen(),t&&(global.screen.orientation.unlock(),await((s=(i=global.screen.orientation).lock)==null?void 0:s.call(i,"landscape")))):(e(!1),await document.exitFullscreen(),t&&global.screen.orientation.unlock())}catch(o){console.info(o)}},children:n?f.jsx(_L,{}):f.jsx(AL,{})})})}const bL=e=>Ot("padding:0.1rem 0.3rem;font-size:2.6rem;display:flex;align-items:center;justify-content:center;text-align:center;cursor:pointer;border:0;background-color:rgba(0, 0, 0, 0.75);text-transform:uppercase;letter-spacing:0.2rem;",Ne,";pointer-events:auto;",e&&fw,";box-sizing:border-box;transition:300ms;",""),xL=Ot(":hover{",fo,";}:active{background:",he.colors.text.active,";}",""),Ki=C("a",{target:"eo7q3x1"})(e=>bL(e.focused),";&&{color:white;text-decoration:none;}",e=>!e.disabled&&xL,";"),ds=C("button",{target:"eo7q3x0"})(e=>bL(e.focused),";:not(:disabled){",xL,";}"),yoe=ls()?Ot("",""):{name:"syxqyq",styles:"@keyframes button-focus-loop{0%,100%{transform:scale(1.045);}50%{transform:scale(1.055);}}animation:button-focus-loop 600ms ease-in-out infinite both"},fw=Ot("transform:scale(1.05);background:",he.colors.text.active,";",yoe,";","");var Aoe={name:"1tj9yd6",styles:"cursor:default;color:#989898;background-color:#212121;border-width:0.3rem;pointer-events:none"};const Te=C(ds,{target:"e1llc1k61"})("margin:0.5rem 0;height:",e=>e.size==="small"?"5rem":"10rem",";border:0 solid black;",e=>e.disabled&&Aoe,";"),fs=C("div",{target:"e1llc1k60"})({name:"10ov2k1",styles:"background:rgba(0, 0, 0, 0.5);padding:1.5rem;width:100vw;box-sizing:border-box;max-width:75rem;margin:2rem auto 0 auto;font-size:2.6rem;display:flex;flex-direction:column;gap:2rem;view-transition-name:menu-container"});function Iu({children:e,onClose:t}){return f.jsxs(f.Fragment,{children:[f.jsx(boe,{onClick:t}),f.jsx(_oe,{onClick:t,children:f.jsx("div",{onClick:n=>n.stopPropagation(),children:e})})]})}const _oe=C("div",{target:"e7rcptf1"})({name:"1uzuniy",styles:"position:fixed;top:0;left:0;width:100vw;height:100vh;display:flex;align-items:center;justify-content:center;z-index:20001;overflow:auto"}),boe=C("div",{target:"e7rcptf0"})({name:"25wq6t",styles:"position:fixed;top:0;left:0;background:rgba(0, 0, 0, 0.7);width:100vw;height:100vh;z-index:20000;backdrop-filter:blur(20px)"});let xoe=0;function Pu(e,t){const n=_.useRef(`${String(Math.random())}-${xoe++}`),{setKeyboard:r,unsetKeyboard:i}=_.useContext(Ux),s=a=>{r(n.current,a)},o=()=>i(n.current);return _.useEffect(()=>(t&&s(e),o),[e,t]),{setHelp:s,clearHelp:o}}function Vn(e={},t=!1){var S;const{enabled:n=!0,onBackspace:r,backspaceHelp:i=null,direction:s="vertical",additionalHelp:o={}}=e,[a,l]=_.useState(null),c=_.useRef([]),u=_.useRef([]),d=_.useRef({}),h=(S=d.current[a])==null?void 0:S.label,p=_.useMemo(()=>({[s]:null,accept:h??null,back:r?i:void 0,...o}),[h,d,i,s]);Pu(p,n);const g=()=>{var x;(x=d.current[a])==null||x.callback(),wx.play()},m=()=>{r&&(Ex.play(),r())},A=x=>{const w=a?c.current.indexOf(a):0;E0.play(),l(c.current.at((w+x)%c.current.length)??null)};Il({[s==="vertical"?"up":"left"]:()=>A(-1),[s==="vertical"?"down":"right"]:()=>A(1),accept:g,back:m},n,[a,c.current]);let v="";const y=(x,w,E,T=!1,{propName:L="onClick",disabled:O=!1}={})=>{if(O)return{disabled:O,focused:!1};u.current.push(x),w&&(d.current[x]={callback:w,label:E,propName:L}),T&&(v=x);const N=n&&a===x;return{focused:N,[L]:w,keyboardNavigationChangeFocus:A,"data-test":x,...n?{"data-focused":N}:{}}};return _.useEffect(()=>{var x;(x=document.querySelector(`[data-test="${a}"]`))==null||x.scrollIntoView({behavior:"smooth",block:"center"})},[a]),_.useEffect(()=>{let x=u.current.filter(w=>!c.current.includes(w));t&&x.length&&console.log("new elements",x),c.current=[...u.current],u.current.length=0,c.current.length&&(a===null||c.current.indexOf(a)===-1||x.includes(v))&&l(v||c.current[0])}),{focusElement:x=>{c.current.includes(x)&&l(x)},focused:a,register:y}}var Soe=Object.defineProperty,Em=Object.getOwnPropertySymbols,SL=Object.prototype.hasOwnProperty,wL=Object.prototype.propertyIsEnumerable,FI=(e,t,n)=>t in e?Soe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$f=(e,t)=>{for(var n in t||(t={}))SL.call(t,n)&&FI(e,n,t[n]);if(Em)for(var n of Em(t))wL.call(t,n)&&FI(e,n,t[n]);return e},hw=(e,t)=>{var n={};for(var r in e)SL.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Em)for(var r of Em(e))t.indexOf(r)<0&&wL.call(e,r)&&(n[r]=e[r]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var Al;(e=>{const t=class{constructor(l,c,u,d){if(this.version=l,this.errorCorrectionLevel=c,this.modules=[],this.isFunction=[],l<t.MIN_VERSION||l>t.MAX_VERSION)throw new RangeError("Version value out of range");if(d<-1||d>7)throw new RangeError("Mask value out of range");this.size=l*4+17;let h=[];for(let g=0;g<this.size;g++)h.push(!1);for(let g=0;g<this.size;g++)this.modules.push(h.slice()),this.isFunction.push(h.slice());this.drawFunctionPatterns();const p=this.addEccAndInterleave(u);if(this.drawCodewords(p),d==-1){let g=1e9;for(let m=0;m<8;m++){this.applyMask(m),this.drawFormatBits(m);const A=this.getPenaltyScore();A<g&&(d=m,g=A),this.applyMask(m)}}s(0<=d&&d<=7),this.mask=d,this.applyMask(d),this.drawFormatBits(d),this.isFunction=[]}static encodeText(l,c){const u=e.QrSegment.makeSegments(l);return t.encodeSegments(u,c)}static encodeBinary(l,c){const u=e.QrSegment.makeBytes(l);return t.encodeSegments([u],c)}static encodeSegments(l,c,u=1,d=40,h=-1,p=!0){if(!(t.MIN_VERSION<=u&&u<=d&&d<=t.MAX_VERSION)||h<-1||h>7)throw new RangeError("Invalid value");let g,m;for(g=u;;g++){const b=t.getNumDataCodewords(g,c)*8,S=a.getTotalBits(l,g);if(S<=b){m=S;break}if(g>=d)throw new RangeError("Data too long")}for(const b of[t.Ecc.MEDIUM,t.Ecc.QUARTILE,t.Ecc.HIGH])p&&m<=t.getNumDataCodewords(g,b)*8&&(c=b);let A=[];for(const b of l){r(b.mode.modeBits,4,A),r(b.numChars,b.mode.numCharCountBits(g),A);for(const S of b.getData())A.push(S)}s(A.length==m);const v=t.getNumDataCodewords(g,c)*8;s(A.length<=v),r(0,Math.min(4,v-A.length),A),r(0,(8-A.length%8)%8,A),s(A.length%8==0);for(let b=236;A.length<v;b^=253)r(b,8,A);let y=[];for(;y.length*8<A.length;)y.push(0);return A.forEach((b,S)=>y[S>>>3]|=b<<7-(S&7)),new t(g,c,y,h)}getModule(l,c){return 0<=l&&l<this.size&&0<=c&&c<this.size&&this.modules[c][l]}getModules(){return this.modules}drawFunctionPatterns(){for(let u=0;u<this.size;u++)this.setFunctionModule(6,u,u%2==0),this.setFunctionModule(u,6,u%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const l=this.getAlignmentPatternPositions(),c=l.length;for(let u=0;u<c;u++)for(let d=0;d<c;d++)u==0&&d==0||u==0&&d==c-1||u==c-1&&d==0||this.drawAlignmentPattern(l[u],l[d]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(l){const c=this.errorCorrectionLevel.formatBits<<3|l;let u=c;for(let h=0;h<10;h++)u=u<<1^(u>>>9)*1335;const d=(c<<10|u)^21522;s(d>>>15==0);for(let h=0;h<=5;h++)this.setFunctionModule(8,h,i(d,h));this.setFunctionModule(8,7,i(d,6)),this.setFunctionModule(8,8,i(d,7)),this.setFunctionModule(7,8,i(d,8));for(let h=9;h<15;h++)this.setFunctionModule(14-h,8,i(d,h));for(let h=0;h<8;h++)this.setFunctionModule(this.size-1-h,8,i(d,h));for(let h=8;h<15;h++)this.setFunctionModule(8,this.size-15+h,i(d,h));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let l=this.version;for(let u=0;u<12;u++)l=l<<1^(l>>>11)*7973;const c=this.version<<12|l;s(c>>>18==0);for(let u=0;u<18;u++){const d=i(c,u),h=this.size-11+u%3,p=Math.floor(u/3);this.setFunctionModule(h,p,d),this.setFunctionModule(p,h,d)}}drawFinderPattern(l,c){for(let u=-4;u<=4;u++)for(let d=-4;d<=4;d++){const h=Math.max(Math.abs(d),Math.abs(u)),p=l+d,g=c+u;0<=p&&p<this.size&&0<=g&&g<this.size&&this.setFunctionModule(p,g,h!=2&&h!=4)}}drawAlignmentPattern(l,c){for(let u=-2;u<=2;u++)for(let d=-2;d<=2;d++)this.setFunctionModule(l+d,c+u,Math.max(Math.abs(d),Math.abs(u))!=1)}setFunctionModule(l,c,u){this.modules[c][l]=u,this.isFunction[c][l]=!0}addEccAndInterleave(l){const c=this.version,u=this.errorCorrectionLevel;if(l.length!=t.getNumDataCodewords(c,u))throw new RangeError("Invalid argument");const d=t.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][c],h=t.ECC_CODEWORDS_PER_BLOCK[u.ordinal][c],p=Math.floor(t.getNumRawDataModules(c)/8),g=d-p%d,m=Math.floor(p/d);let A=[];const v=t.reedSolomonComputeDivisor(h);for(let b=0,S=0;b<d;b++){let x=l.slice(S,S+m-h+(b<g?0:1));S+=x.length;const w=t.reedSolomonComputeRemainder(x,v);b<g&&x.push(0),A.push(x.concat(w))}let y=[];for(let b=0;b<A[0].length;b++)A.forEach((S,x)=>{(b!=m-h||x>=g)&&y.push(S[b])});return s(y.length==p),y}drawCodewords(l){if(l.length!=Math.floor(t.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let c=0;for(let u=this.size-1;u>=1;u-=2){u==6&&(u=5);for(let d=0;d<this.size;d++)for(let h=0;h<2;h++){const p=u-h,m=(u+1&2)==0?this.size-1-d:d;!this.isFunction[m][p]&&c<l.length*8&&(this.modules[m][p]=i(l[c>>>3],7-(c&7)),c++)}}s(c==l.length*8)}applyMask(l){if(l<0||l>7)throw new RangeError("Mask value out of range");for(let c=0;c<this.size;c++)for(let u=0;u<this.size;u++){let d;switch(l){case 0:d=(u+c)%2==0;break;case 1:d=c%2==0;break;case 2:d=u%3==0;break;case 3:d=(u+c)%3==0;break;case 4:d=(Math.floor(u/3)+Math.floor(c/2))%2==0;break;case 5:d=u*c%2+u*c%3==0;break;case 6:d=(u*c%2+u*c%3)%2==0;break;case 7:d=((u+c)%2+u*c%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[c][u]&&d&&(this.modules[c][u]=!this.modules[c][u])}}getPenaltyScore(){let l=0;for(let h=0;h<this.size;h++){let p=!1,g=0,m=[0,0,0,0,0,0,0];for(let A=0;A<this.size;A++)this.modules[h][A]==p?(g++,g==5?l+=t.PENALTY_N1:g>5&&l++):(this.finderPenaltyAddHistory(g,m),p||(l+=this.finderPenaltyCountPatterns(m)*t.PENALTY_N3),p=this.modules[h][A],g=1);l+=this.finderPenaltyTerminateAndCount(p,g,m)*t.PENALTY_N3}for(let h=0;h<this.size;h++){let p=!1,g=0,m=[0,0,0,0,0,0,0];for(let A=0;A<this.size;A++)this.modules[A][h]==p?(g++,g==5?l+=t.PENALTY_N1:g>5&&l++):(this.finderPenaltyAddHistory(g,m),p||(l+=this.finderPenaltyCountPatterns(m)*t.PENALTY_N3),p=this.modules[A][h],g=1);l+=this.finderPenaltyTerminateAndCount(p,g,m)*t.PENALTY_N3}for(let h=0;h<this.size-1;h++)for(let p=0;p<this.size-1;p++){const g=this.modules[h][p];g==this.modules[h][p+1]&&g==this.modules[h+1][p]&&g==this.modules[h+1][p+1]&&(l+=t.PENALTY_N2)}let c=0;for(const h of this.modules)c=h.reduce((p,g)=>p+(g?1:0),c);const u=this.size*this.size,d=Math.ceil(Math.abs(c*20-u*10)/u)-1;return s(0<=d&&d<=9),l+=d*t.PENALTY_N4,s(0<=l&&l<=2568888),l}getAlignmentPatternPositions(){if(this.version==1)return[];{const l=Math.floor(this.version/7)+2,c=this.version==32?26:Math.ceil((this.version*4+4)/(l*2-2))*2;let u=[6];for(let d=this.size-7;u.length<l;d-=c)u.splice(1,0,d);return u}}static getNumRawDataModules(l){if(l<t.MIN_VERSION||l>t.MAX_VERSION)throw new RangeError("Version number out of range");let c=(16*l+128)*l+64;if(l>=2){const u=Math.floor(l/7)+2;c-=(25*u-10)*u-55,l>=7&&(c-=36)}return s(208<=c&&c<=29648),c}static getNumDataCodewords(l,c){return Math.floor(t.getNumRawDataModules(l)/8)-t.ECC_CODEWORDS_PER_BLOCK[c.ordinal][l]*t.NUM_ERROR_CORRECTION_BLOCKS[c.ordinal][l]}static reedSolomonComputeDivisor(l){if(l<1||l>255)throw new RangeError("Degree out of range");let c=[];for(let d=0;d<l-1;d++)c.push(0);c.push(1);let u=1;for(let d=0;d<l;d++){for(let h=0;h<c.length;h++)c[h]=t.reedSolomonMultiply(c[h],u),h+1<c.length&&(c[h]^=c[h+1]);u=t.reedSolomonMultiply(u,2)}return c}static reedSolomonComputeRemainder(l,c){let u=c.map(d=>0);for(const d of l){const h=d^u.shift();u.push(0),c.forEach((p,g)=>u[g]^=t.reedSolomonMultiply(p,h))}return u}static reedSolomonMultiply(l,c){if(l>>>8||c>>>8)throw new RangeError("Byte out of range");let u=0;for(let d=7;d>=0;d--)u=u<<1^(u>>>7)*285,u^=(c>>>d&1)*l;return s(u>>>8==0),u}finderPenaltyCountPatterns(l){const c=l[1];s(c<=this.size*3);const u=c>0&&l[2]==c&&l[3]==c*3&&l[4]==c&&l[5]==c;return(u&&l[0]>=c*4&&l[6]>=c?1:0)+(u&&l[6]>=c*4&&l[0]>=c?1:0)}finderPenaltyTerminateAndCount(l,c,u){return l&&(this.finderPenaltyAddHistory(c,u),c=0),c+=this.size,this.finderPenaltyAddHistory(c,u),this.finderPenaltyCountPatterns(u)}finderPenaltyAddHistory(l,c){c[0]==0&&(l+=this.size),c.pop(),c.unshift(l)}};let n=t;n.MIN_VERSION=1,n.MAX_VERSION=40,n.PENALTY_N1=3,n.PENALTY_N2=3,n.PENALTY_N3=40,n.PENALTY_N4=10,n.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],n.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=n;function r(l,c,u){if(c<0||c>31||l>>>c)throw new RangeError("Value out of range");for(let d=c-1;d>=0;d--)u.push(l>>>d&1)}function i(l,c){return(l>>>c&1)!=0}function s(l){if(!l)throw new Error("Assertion error")}const o=class{constructor(l,c,u){if(this.mode=l,this.numChars=c,this.bitData=u,c<0)throw new RangeError("Invalid argument");this.bitData=u.slice()}static makeBytes(l){let c=[];for(const u of l)r(u,8,c);return new o(o.Mode.BYTE,l.length,c)}static makeNumeric(l){if(!o.isNumeric(l))throw new RangeError("String contains non-numeric characters");let c=[];for(let u=0;u<l.length;){const d=Math.min(l.length-u,3);r(parseInt(l.substr(u,d),10),d*3+1,c),u+=d}return new o(o.Mode.NUMERIC,l.length,c)}static makeAlphanumeric(l){if(!o.isAlphanumeric(l))throw new RangeError("String contains unencodable characters in alphanumeric mode");let c=[],u;for(u=0;u+2<=l.length;u+=2){let d=o.ALPHANUMERIC_CHARSET.indexOf(l.charAt(u))*45;d+=o.ALPHANUMERIC_CHARSET.indexOf(l.charAt(u+1)),r(d,11,c)}return u<l.length&&r(o.ALPHANUMERIC_CHARSET.indexOf(l.charAt(u)),6,c),new o(o.Mode.ALPHANUMERIC,l.length,c)}static makeSegments(l){return l==""?[]:o.isNumeric(l)?[o.makeNumeric(l)]:o.isAlphanumeric(l)?[o.makeAlphanumeric(l)]:[o.makeBytes(o.toUtf8ByteArray(l))]}static makeEci(l){let c=[];if(l<0)throw new RangeError("ECI assignment value out of range");if(l<128)r(l,8,c);else if(l<16384)r(2,2,c),r(l,14,c);else if(l<1e6)r(6,3,c),r(l,21,c);else throw new RangeError("ECI assignment value out of range");return new o(o.Mode.ECI,0,c)}static isNumeric(l){return o.NUMERIC_REGEX.test(l)}static isAlphanumeric(l){return o.ALPHANUMERIC_REGEX.test(l)}getData(){return this.bitData.slice()}static getTotalBits(l,c){let u=0;for(const d of l){const h=d.mode.numCharCountBits(c);if(d.numChars>=1<<h)return 1/0;u+=4+h+d.bitData.length}return u}static toUtf8ByteArray(l){l=encodeURI(l);let c=[];for(let u=0;u<l.length;u++)l.charAt(u)!="%"?c.push(l.charCodeAt(u)):(c.push(parseInt(l.substr(u+1,2),16)),u+=2);return c}};let a=o;a.NUMERIC_REGEX=/^[0-9]*$/,a.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,a.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",e.QrSegment=a})(Al||(Al={}));(e=>{(t=>{const n=class{constructor(i,s){this.ordinal=i,this.formatBits=s}};let r=n;r.LOW=new n(0,1),r.MEDIUM=new n(1,0),r.QUARTILE=new n(2,3),r.HIGH=new n(3,2),t.Ecc=r})(e.QrCode||(e.QrCode={}))})(Al||(Al={}));(e=>{(t=>{const n=class{constructor(i,s){this.modeBits=i,this.numBitsCharCount=s}numCharCountBits(i){return this.numBitsCharCount[Math.floor((i+7)/17)]}};let r=n;r.NUMERIC=new n(1,[10,12,14]),r.ALPHANUMERIC=new n(2,[9,11,13]),r.BYTE=new n(4,[8,16,16]),r.KANJI=new n(8,[8,10,12]),r.ECI=new n(7,[0,0,0]),t.Mode=r})(e.QrSegment||(e.QrSegment={}))})(Al||(Al={}));var bc=Al;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var EL={L:bc.QrCode.Ecc.LOW,M:bc.QrCode.Ecc.MEDIUM,Q:bc.QrCode.Ecc.QUARTILE,H:bc.QrCode.Ecc.HIGH},kL=128,CL="L",TL="#FFFFFF",IL="#000000",PL=!1,pw=4,woe=.1;function RL(e,t=0){const n=[];return e.forEach(function(r,i){let s=null;r.forEach(function(o,a){if(!o&&s!==null){n.push(`M${s+t} ${i+t}h${a-s}v1H${s+t}z`),s=null;return}if(a===r.length-1){if(!o)return;s===null?n.push(`M${a+t},${i+t} h1v1H${a+t}z`):n.push(`M${s+t},${i+t} h${a+1-s}v1H${s+t}z`);return}o&&s===null&&(s=a)})}),n.join("")}function ML(e,t){return e.slice().map((n,r)=>r<t.y||r>=t.y+t.h?n:n.map((i,s)=>s<t.x||s>=t.x+t.w?i:!1))}function jL(e,t,n,r){if(r==null)return null;const i=n?pw:0,s=e.length+i*2,o=Math.floor(t*woe),a=s/t,l=(r.width||o)*a,c=(r.height||o)*a,u=r.x==null?e.length/2-l/2:r.x*a,d=r.y==null?e.length/2-c/2:r.y*a;let h=null;if(r.excavate){let p=Math.floor(u),g=Math.floor(d),m=Math.ceil(l+u-p),A=Math.ceil(c+d-g);h={x:p,y:g,w:m,h:A}}return{x:u,y:d,h:c,w:l,excavation:h}}var Eoe=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}();function OL(e){const t=e,{value:n,size:r=kL,level:i=CL,bgColor:s=TL,fgColor:o=IL,includeMargin:a=PL,style:l,imageSettings:c}=t,u=hw(t,["value","size","level","bgColor","fgColor","includeMargin","style","imageSettings"]),d=c==null?void 0:c.src,h=_.useRef(null),p=_.useRef(null),[g,m]=_.useState(!1);_.useEffect(()=>{if(h.current!=null){const y=h.current,b=y.getContext("2d");if(!b)return;let S=bc.QrCode.encodeText(n,EL[i]).getModules();const x=a?pw:0,w=S.length+x*2,E=jL(S,r,a,c),T=p.current,L=E!=null&&T!==null&&T.complete&&T.naturalHeight!==0&&T.naturalWidth!==0;L&&E.excavation!=null&&(S=ML(S,E.excavation));const O=window.devicePixelRatio||1;y.height=y.width=r*O;const N=r/w*O;b.scale(N,N),b.fillStyle=s,b.fillRect(0,0,w,w),b.fillStyle=o,Eoe?b.fill(new Path2D(RL(S,x))):S.forEach(function(Q,M){Q.forEach(function(U,P){U&&b.fillRect(P+x,M+x,1,1)})}),L&&b.drawImage(T,E.x+x,E.y+x,E.w,E.h)}}),_.useEffect(()=>{m(!1)},[d]);const A=$f({height:r,width:r},l);let v=null;return d!=null&&(v=Pe.createElement("img",{src:d,key:d,style:{display:"none"},onLoad:()=>{m(!0)},ref:p})),Pe.createElement(Pe.Fragment,null,Pe.createElement("canvas",$f({style:A,height:r,width:r,ref:h},u)),v)}function VL(e){const t=e,{value:n,size:r=kL,level:i=CL,bgColor:s=TL,fgColor:o=IL,includeMargin:a=PL,imageSettings:l}=t,c=hw(t,["value","size","level","bgColor","fgColor","includeMargin","imageSettings"]);let u=bc.QrCode.encodeText(n,EL[i]).getModules();const d=a?pw:0,h=u.length+d*2,p=jL(u,r,a,l);let g=null;l!=null&&p!=null&&(p.excavation!=null&&(u=ML(u,p.excavation)),g=Pe.createElement("image",{xlinkHref:l.src,height:p.h,width:p.w,x:p.x+d,y:p.y+d,preserveAspectRatio:"none"}));const m=RL(u,d);return Pe.createElement("svg",$f({height:r,width:r,viewBox:`0 0 ${h} ${h}`},c),Pe.createElement("path",{fill:s,d:`M0,0 h${h}v${h}H0z`,shapeRendering:"crispEdges"}),Pe.createElement("path",{fill:o,d:m,shapeRendering:"crispEdges"}),g)}var koe=e=>{const t=e,{renderAs:n}=t,r=hw(t,["renderAs"]);return n==="svg"?Pe.createElement(VL,$f({},r)):Pe.createElement(OL,$f({},r))};const Coe=Object.freeze(Object.defineProperty({__proto__:null,QRCodeCanvas:OL,QRCodeSVG:VL,default:koe},Symbol.toStringTag,{value:"Module"}));var LL={exports:{}},NL={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gu=_;function Toe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ioe=typeof Object.is=="function"?Object.is:Toe,Poe=gu.useState,Roe=gu.useEffect,Moe=gu.useLayoutEffect,joe=gu.useDebugValue;function Ooe(e,t){var n=t(),r=Poe({inst:{value:n,getSnapshot:t}}),i=r[0].inst,s=r[1];return Moe(function(){i.value=n,i.getSnapshot=t,Ky(i)&&s({inst:i})},[e,n,t]),Roe(function(){return Ky(i)&&s({inst:i}),e(function(){Ky(i)&&s({inst:i})})},[e]),joe(n),n}function Ky(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ioe(e,n)}catch{return!0}}function Voe(e,t){return t()}var Loe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Voe:Ooe;NL.useSyncExternalStore=gu.useSyncExternalStore!==void 0?gu.useSyncExternalStore:Loe;LL.exports=NL;var Noe=LL.exports;const{useEffect:$oe,useLayoutEffect:Doe,useRef:Boe,useInsertionEffect:Foe}=mg,zoe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Uoe=zoe?Doe:$oe,$L=Foe||Uoe,DL=e=>{const t=Boe([e,(...n)=>t[0](...n)]).current;return $L(()=>{t[0]=e}),t[1]},Hoe=(e="",t=location.pathname)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",qoe=(e,t="")=>e[0]==="~"?e.slice(1):t+e,Goe="popstate",gw="pushState",mw="replaceState",Woe="hashchange",zI=[Goe,gw,mw,Woe],Yoe=e=>{for(const t of zI)addEventListener(t,e);return()=>{for(const t of zI)removeEventListener(t,e)}},Koe=(e,t)=>Noe.useSyncExternalStore(Yoe,e,t),UI=()=>location.pathname,Qoe=({ssrPath:e}={})=>Koe(UI,e?()=>e:UI),Joe=(e,{replace:t=!1}={})=>history[t?mw:gw](null,"",e),Xoe=(e={})=>[Hoe(e.base,Qoe(e)),DL((t,n)=>Joe(qoe(t,e.base),n))];if(typeof history<"u")for(const e of[gw,mw]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),r=new Event(e);return r.arguments=arguments,dispatchEvent(r),n}}function Zoe(e=tae){let t={};const n=r=>t[r]||(t[r]=e(r));return(r,i)=>{const{regexp:s,keys:o}=n(r||""),a=s.exec(i);return a?[!0,o.reduce((c,u,d)=>(c[u.name]=a[d+1],c),{})]:[!1,null]}}const HI=e=>e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),eae=(e,t,n)=>{let r=e?"((?:[^\\/]+?)(?:\\/(?:[^\\/]+?))*)":"([^\\/]+?)";return t&&n&&(r="(?:\\/"+r+")"),r+(t?"?":"")},tae=e=>{const t=/:([A-Za-z0-9_]+)([?+*]?)/g;let n=null,r=0,i=[],s="";for(;(n=t.exec(e))!==null;){const[o,a,l]=n,c=l==="+"||l==="*",u=l==="?"||l==="*",d=u&&e[n.index-1]==="/"?1:0,h=e.substring(r,n.index-d);i.push({name:a}),r=t.lastIndex,s+=HI(h)+eae(c,u,d)}return s+=HI(e.substring(r)),{keys:i,regexp:new RegExp("^"+s+"(?:\\/)?$","i")}},V_={hook:Xoe,matcher:Zoe(),base:""},BL=_.createContext(V_),dv=()=>_.useContext(BL),fv=e=>e.hook(e),nae=()=>fv(dv()),FL=e=>{const t=dv(),[n]=fv(t);return t.matcher(e,n)},rae=_.createContext({params:{}}),iae=({hook:e,matcher:t,ssrPath:n,base:r="",parent:i,children:s})=>{const o=(l,c=i||V_)=>(l.hook=e||c.hook,l.matcher=t||c.matcher,l.ssrPath=n||c.ssrPath,l.ownBase=r,l.parent=i,l),[a]=_.useState(()=>o({get base(){return(a.parent||V_).base+a.ownBase}}));return $L(()=>{o(a)}),_.createElement(BL.Provider,{value:a,children:s})},qI=(e,t)=>_.createElement(rae.Provider,{value:{params:e},children:t}),rr=({path:e,match:t,component:n,children:r})=>{const i=FL(e),[s,o]=t||i;return s?n?qI(o,_.createElement(n,{params:o})):qI(o,typeof r=="function"?r(o):r):null},vw=_.forwardRef((e,t)=>{const n=dv(),[,r]=fv(n),{to:i,href:s=i,children:o,onClick:a}=e,l=DL(d=>{d.ctrlKey||d.metaKey||d.altKey||d.shiftKey||d.button!==0||(a&&a(d),d.defaultPrevented||(d.preventDefault(),r(i||s,e)))}),c={href:s[0]==="~"?s.slice(1):n.base+s,onClick:l,to:null,ref:t},u=_.isValidElement(o)?o:_.createElement("a",e);return _.cloneElement(u,c)}),L_=e=>Array.isArray(e)?[].concat(...e.map(t=>t&&t.type===_.Fragment?L_(t.props.children):L_(t))):[e],sae=({children:e,location:t})=>{const n=dv(),r=n.matcher,[i]=fv(n);for(const s of L_(e)){let o=0;if(_.isValidElement(s)&&(o=s.props.path?r(s.props.path,t||i):[!0,{}])[0])return _.cloneElement(s,{match:o})}return null},{QRCodeSVG:oae}=Coe;function GI({gameCode:e,...t}){return f.jsx(dae,{...t,children:e.split("").map((n,r)=>f.jsx("span",{children:n},r))})}function yw(){var i;const e=new URL((i=global.location)==null?void 0:i.href),[t]=FL("remote-mic"),n=I0("room")??Dg.getGameCode();e.pathname="/remote-mic",e.searchParams.set("room",n);const r=e.href;return _.useEffect(()=>{t||Dg.start()},[t]),f.jsxs(hae,{children:[f.jsx(pae,{children:f.jsx(oae,{value:r,width:"100%",height:"100%",includeMargin:!0})}),f.jsxs(gae,{children:[f.jsxs(aae,{children:[f.jsxs("h3",{children:["Game code: ",f.jsx(GI,{gameCode:n,"data-test":"game-code"})]}),f.jsxs("ol",{children:[f.jsxs("li",{children:["Go to"," ",f.jsx("a",{href:e.origin,target:"_blank",rel:"noreferrer",children:"allkaraoke.party"})," ","on your phone"]}),f.jsxs("li",{children:["Click on ",f.jsx("b",{children:"Join game"})]}),f.jsxs("li",{children:["Enter the code ",f.jsx(GI,{gameCode:n})]}),f.jsx("li",{children:"Follow the instructions"})]})]}),f.jsxs(lae,{children:[f.jsx("h4",{children:"Or copy and send the link"}),f.jsxs(cae,{children:[f.jsx(fae,{disabled:!0,value:r,"data-test":"server-link-input"}),f.jsx(uae,{onClick:()=>{navigator.clipboard.writeText(r)},children:"Copy"})]})]})]})]})}const aae=C("div",{target:"eg58fmd8"})({name:"82a6rk",styles:"flex:1"}),lae=C("div",{target:"eg58fmd7"})({name:"4dmv1c",styles:"flex:0"}),cae=C("div",{target:"eg58fmd6"})({name:"sqzzkh",styles:"position:relative;margin-top:0.5rem"}),uae=C("button",{target:"eg58fmd5"})("cursor:pointer;position:absolute;padding:0 2rem;right:0;height:100%;box-sizing:border-box;background:",he.colors.text.active,";",Ne,";font-weight:bold;font-size:2.2rem;border:0;:active{background-color:black;}"),dae=C("strong",{target:"eg58fmd4"})("text-transform:uppercase;padding:0.5rem 1.5rem;border-radius:0.5rem;display:inline-flex;gap:1.5rem;",fo,";"),fae=C("input",{target:"eg58fmd3"})({name:"gri5w4",styles:"padding:1rem;box-sizing:border-box;background:grey;border:none;width:100%;font-size:1.3rem"}),hae=C("div",{target:"eg58fmd2"})({name:"1d1jk7v",styles:"display:flex;flex-direction:row;flex-wrap:nowrap;align-items:stretch;flex:1;gap:2%;@media (max-width: 560px){flex-direction:column;}"}),pae=C("div",{target:"eg58fmd1"})({name:"2ogmzh",styles:"flex:0.6;@media (max-width: 560px){flex:0;}"}),gae=C("div",{target:"eg58fmd0"})("@media (max-width: 560px){display:none;}flex:1;display:flex;flex-direction:column;b{font-weight:bold;",Ne,";color:",he.colors.text.active,";}h3{margin-bottom:1rem;}h4{margin:1rem 0;}ol{padding-left:2.3rem;margin:0 0 1.25rem 0;list-style:decimal inside;}li{color:white;font-size:2rem;line-height:3.2rem;}");function mae({closeModal:e}){const{register:t}=Vn({onBackspace:e});return f.jsx(Iu,{onClose:e,children:f.jsxs(fs,{children:[f.jsx(yw,{}),f.jsx(ds,{...t("quick-connect-close",e),children:"Close"})]})})}function vae(){const[e,t]=_.useState(!1);$e(Zn);const[n,r]=$e(_j),{hasContent:i}=_.useContext(Ux),s=()=>t(!1);return f.jsxs(f.Fragment,{children:[e&&f.jsx(mae,{closeModal:s}),f.jsxs(yae,{children:[i&&f.jsx(pu,{title:"Toggle help",children:f.jsx(Aae,{size:"small",onClick:()=>r(!n),"data-test":"toggle-help",children:n?f.jsx(WO,{}):f.jsx(YO,{})})}),f.jsx(voe,{}),f.jsx(pu,{title:"Connect phone",children:f.jsx(tw,{size:"small",onClick:()=>t(o=>!o),"data-test":"quick-connect-phone",children:f.jsx(yf,{})})})]})]})}const yae=C("div",{target:"efkmcew1"})({name:"18h6jmh",styles:"view-transition-name:toolbar;cursor:pointer;background:rgba(0, 0, 0, 0.75);color:white;padding:0.2rem;padding-left:1rem;margin:0;position:fixed;top:0;right:0;z-index:10000;color:white;svg{fill:white;width:3.5rem;height:3.5rem;transition:transform 200ms;&:hover{transform:scale(1.2);}}display:flex;gap:0.75rem;border-bottom-left-radius:1.5rem"}),Aae=C(tw,{target:"efkmcew0"})({name:"lpoy45",styles:"scale:0.9"});function To({children:e,toolbar:t=!0}){return f.jsxs(qJ,{children:[t&&f.jsx(vae,{}),e]})}var Aw={},_ae=Xe;Object.defineProperty(Aw,"__esModule",{value:!0});var zL=Aw.default=void 0,bae=_ae(nt()),xae=f;zL=Aw.default=(0,bae.default)((0,xae.jsx)("path",{d:"M3 13h2v-2H3zm0 4h2v-2H3zm0-8h2V7H3zm4 4h14v-2H7zm0 4h14v-2H7zM7 7v2h14V7z"}),"List");var _w={},Sae=Xe;Object.defineProperty(_w,"__esModule",{value:!0});var UL=_w.default=void 0,wae=Sae(nt()),Eae=f;UL=_w.default=(0,wae.default)((0,Eae.jsx)("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6"}),"Settings");const bw=({...e})=>f.jsx(Xg,{viewBox:"0 0 512 512",...e,children:f.jsx("path",{stroke:"black",strokeWidth:"2%",xmlns:"http://www.w3.org/2000/svg",d:"M252.529,162.029l168.125,210.156c-12.313,1.25-24.031,6.438-33.031,15.438s-14.188,20.719-15.438,33.031L162.029,252.545  c-3.563-24.922,4.813-50.078,22.625-67.891C202.467,166.857,227.623,158.467,252.529,162.029z M398.936,398.936  c-9.063,9.063-13.031,22.063-10.625,34.656l45.281,45.25c12.5,12.5,32.75,12.5,45.25,0s12.5-32.75,0-45.25l-45.25-45.281  C420.998,385.904,407.998,389.873,398.936,398.936z M162.029,162.029c18.594-18.594,43.188-29.891,68.969-32.297  c-3.375-24.563-14.906-49.391-35.031-69.516c-43.75-43.75-109.594-48.813-147.063-11.313  c-37.5,37.484-32.438,103.328,11.313,147.078c20.125,20.125,44.938,31.656,69.5,35.031  C132.154,205.217,143.436,180.623,162.029,162.029z"})}),HL=C(bw,{target:"e1uhpuaa1"})("fill:",he.colors.players[1].text,";"),N_=C(bw,{target:"e1uhpuaa0"})("fill:",he.colors.players[0].text,";");function kae({active:e,setActiveTab:t}){return f.jsxs(Cae,{children:[f.jsxs(Qy,{active:e==="microphone",onClick:()=>t("microphone"),"data-test":"menu-microphone",children:[f.jsx(Jy,{children:f.jsx(bw,{})}),f.jsx(Xy,{children:"Microphone"})]}),f.jsxs(Qy,{active:e==="song-list",onClick:()=>t("song-list"),"data-test":"menu-song-list",children:[f.jsx(Jy,{children:f.jsx(zL,{})}),f.jsx(Xy,{children:"Song list"})]}),f.jsxs(Qy,{active:e==="settings",onClick:()=>t("settings"),"data-test":"menu-settings",children:[f.jsx(Jy,{children:f.jsx(UL,{})}),f.jsx(Xy,{children:"Settings"})]})]})}const Cae=C("div",{target:"e1c2ys9k3"})({name:"1x8gdpu",styles:"position:fixed;bottom:0;right:0;display:flex;align-items:stretch;width:100%;gap:1px;background:#424242;@media (max-height: 500px) and (min-aspect-ratio: 16/10){max-width:400px;transform:scale(0.75);transform-origin:bottom right;}"}),Qy=C("div",{target:"e1c2ys9k2"})("flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;background:black;padding:1rem;font-size:1.5rem;gap:0.5rem;color:",e=>e.active?he.colors.text.active:"#cecece",";"),Jy=C("div",{target:"e1c2ys9k1"})({name:"immj2t",styles:"svg{width:2.5rem;height:2.5rem;}font-size:2rem"}),Xy=C("div",{target:"e1c2ys9k0"})("");var xw={},Tae=Xe;Object.defineProperty(xw,"__esModule",{value:!0});var Vl=xw.default=void 0,Iae=Tae(nt()),Pae=f;Vl=xw.default=(0,Iae.default)((0,Pae.jsx)("path",{d:"M1 21h22L12 2zm12-3h-2v-2h2zm0-4h-2v-4h2z"}),"Warning");const Sw=()=>{const[e,t]=_.useState(Zo.getStatus());return _.useEffect(()=>Zo.addListener(t),[]),e};function qL(){return navigator==null?void 0:navigator.userAgent.includes("OPR")}const Rae="/assets/allow-mic-DleF1-pf.png",Mae="/assets/enable-mic-opera-B5FfRj_P.png",jae="/assets/enable-mic-TGG47ucR.png",Oae=()=>qL()?Mae:jae,_h=({children:e,fallback:t,showImages:n=!0})=>{const r=Sw();return f.jsxs(f.Fragment,{children:[r==="accepted"&&e,r!=="accepted"&&f.jsxs(f.Fragment,{children:[f.jsx(Lae,{children:f.jsx(Nae,{})}),t,f.jsxs(Vae,{children:[r==="requested"&&n&&f.jsx("img",{src:Rae,alt:"how-to-allow"}),r==="declined"&&f.jsxs(f.Fragment,{children:[f.jsx("h3",{children:"Access is blocked, you can unblock it here"}),n&&f.jsx("img",{src:Oae(),alt:"how-to-enable"})]}),qL()&&f.jsxs("h4",{children:[f.jsx("strong",{children:"Opera"})," is buggy regarding microphone access - if you encounter issue (e.g. this message stays even after the access to microphone was granted), consider other browsers."]})]})]})]})},Vae=C("div",{target:"e1w9vi9z2"})({name:"1hmq8jv",styles:"text-align:center;img{margin:1.5rem 0 0.5rem;box-shadow:0.5rem 0.5rem 0.5rem rgba(0, 0, 0, 0.5),inset 0 0 0.5rem 0.5rem rgba(255, 255, 255, 0.5);border:0.5rem solid white;border-radius:1rem;box-sizing:border-box;max-width:100%;}"}),Lae=C("div",{target:"e1w9vi9z1"})({name:"zov8s0",styles:"width:100%;display:flex;justify-content:center"}),Nae=C(Vl,{target:"e1w9vi9z0"})("color:",he.colors.text.active,";font-size:3rem;");function $ae(){return!1}var ww={},Dae=Xe;Object.defineProperty(ww,"__esModule",{value:!0});var Kd=ww.default=void 0,Bae=Dae(nt()),Fae=f;Kd=ww.default=(0,Bae.default)((0,Fae.jsx)("path",{d:"m1 9 2 2c4.97-4.97 13.03-4.97 18 0l2-2C16.93 2.93 7.08 2.93 1 9m8 8 3 3 3-3c-1.65-1.66-4.34-1.66-6 0m-4-4 2 2c2.76-2.76 7.24-2.76 10 0l2-2C15.14 9.14 8.87 9.14 5 13"}),"Wifi");function bh(e,t,n=1){return n===1?(t+1)%e.length:(t+e.length-1)%e.length}function zae(e,t,n=1){return bh(e,e.indexOf(t),n)}function Za(e,t,n=1){return e[zae(e,t,n)]}const Hr=({focused:e,disabled:t,label:n,value:r,onClick:i,info:s,children:o,...a})=>f.jsxs(Uae,{children:[f.jsxs(Hae,{focused:e,onClick:i,disabled:t,...a,children:[f.jsx("span",{children:n?f.jsxs(f.Fragment,{children:[n,":"]}):""})," ",f.jsx(qae,{children:r}),o??null]}),s&&f.jsx(GL,{children:s})]}),Uae=C("div",{target:"e84wjn53"})(""),GL=C("div",{target:"e84wjn52"})(Ne,";font-size:2rem;padding:1rem 0.5rem 0;text-align:justify;"),Hae=C("span",{target:"e84wjn51"})("background:rgba(0, 0, 0, 0.7);width:auto;",Ne,";text-align:right;font-size:",({expanded:e})=>e?"6rem":"2.7rem",";cursor:",({disabled:e})=>e?"default":"pointer",";padding:0.65rem;display:flex;flex-direction:row;justify-content:space-between;",e=>!e.disabled&&Bx,";"),qae=C("span",{target:"e84wjn50"})("color:",he.colors.text.active,";text-overflow:ellipsis;overflow:hidden;white-space:nowrap;padding-left:1rem;"),Ru=_.forwardRef(({focused:e,label:t,value:n,onChange:r,disabled:i,className:s,adornment:o,info:a,...l},c)=>{const u=_.useRef(null);return _.useImperativeHandle(c,()=>u.current),wr(P1,()=>{var d;return(d=u.current)==null?void 0:d.focus()},{enabled:e}),f.jsxs("div",{children:[f.jsxs(Wae,{focused:e,className:s,children:[f.jsx(Yae,{children:t}),f.jsx(Kae,{value:n,onChange:d=>r(d.target.value),...l,disabled:i,ref:u}),o&&f.jsx(Gae,{children:o})]}),a&&f.jsx(GL,{children:a})]})}),Gae=C("span",{target:"et2ce2n3"})(""),Wae=C("div",{target:"et2ce2n2"})("background:black;caret:underscore;",Bx,";",Ne,";width:auto;display:flex;cursor:text;padding:0.25em;align-items:center;"),Yae=C("span",{target:"et2ce2n1"})({name:"199i11i",styles:"padding-right:0.5em;white-space:nowrap;width:auto;svg{font-size:1em;}"}),Kae=C("input",{target:"et2ce2n0"})("padding:0;border:0;background:transparent;caret:underscore;",Ne,";color:",he.colors.text.active,";width:100%;font-size:1em;&:focus{outline:none;}");function Qae(e){return Rl("MuiCircularProgress",e)}Ml("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const Jae=["className","color","disableShrink","size","style","thickness","value","variant"];let hv=e=>e,WI,YI,KI,QI;const jo=44,Xae=_o(WI||(WI=hv`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),Zae=_o(YI||(YI=hv`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),ele=e=>{const{classes:t,variant:n,color:r,disableShrink:i}=e,s={root:["root",n,`color${Cn(r)}`],svg:["svg"],circle:["circle",`circle${Cn(n)}`,i&&"circleDisableShrink"]};return Pl(s,Qae,t)},tle=ri("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`color${Cn(n.color)}`]]}})(({ownerState:e,theme:t})=>oe({display:"inline-block"},e.variant==="determinate"&&{transition:t.transitions.create("transform")},e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main}),({ownerState:e})=>e.variant==="indeterminate"&&Ot(KI||(KI=hv`
      animation: ${0} 1.4s linear infinite;
    `),Xae)),nle=ri("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),rle=ri("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.circle,t[`circle${Cn(n.variant)}`],n.disableShrink&&t.circleDisableShrink]}})(({ownerState:e,theme:t})=>oe({stroke:"currentColor"},e.variant==="determinate"&&{transition:t.transitions.create("stroke-dashoffset")},e.variant==="indeterminate"&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink&&Ot(QI||(QI=hv`
      animation: ${0} 1.4s ease-in-out infinite;
    `),Zae)),ile=_.forwardRef(function(t,n){const r=ha({props:t,name:"MuiCircularProgress"}),{className:i,color:s="primary",disableShrink:o=!1,size:a=40,style:l,thickness:c=3.6,value:u=0,variant:d="indeterminate"}=r,h=Xt(r,Jae),p=oe({},r,{color:s,disableShrink:o,size:a,thickness:c,value:u,variant:d}),g=ele(p),m={},A={},v={};if(d==="determinate"){const y=2*Math.PI*((jo-c)/2);m.strokeDasharray=y.toFixed(3),v["aria-valuenow"]=Math.round(u),m.strokeDashoffset=`${((100-u)/100*y).toFixed(3)}px`,A.transform="rotate(-90deg)"}return f.jsx(tle,oe({className:Sn(g.root,i),style:oe({width:a,height:a},A,l),ownerState:p,ref:n,role:"progressbar"},v,h,{children:f.jsx(nle,{className:g.svg,ownerState:p,viewBox:`${jo/2} ${jo/2} ${jo} ${jo}`,children:f.jsx(rle,{className:g.circle,style:m,ownerState:p,cx:jo,cy:jo,r:(jo-c)/2,fill:"none",strokeWidth:c})})}))}),sle=ile;function xh(e){return f.jsx(sle,{...e})}function Df(e){document.startViewTransition?document.startViewTransition(async()=>{await e()}):e()}const $_=(e,t)=>{var n;if(t){const r=new URLSearchParams((n=global.location)==null?void 0:n.search);return Object.entries(t).forEach(([i,s])=>{s===null?r.delete(i):r.set(i,s)}),`${e}?${r.toString()}`}return e};function oi(){const[,e]=nae();return(t,n,{smooth:r=!0,...i}={})=>{r?Df(()=>e($_(t,n),i)):e($_(t,n),i)}}var Ew={},ole=Xe;Object.defineProperty(Ew,"__esModule",{value:!0});var kw=Ew.default=void 0,ale=ole(nt()),lle=f;kw=Ew.default=(0,ale.default)((0,lle.jsx)("path",{d:"M20 18c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2H0v2h24v-2zM4 6h16v10H4z"}),"Laptop");var Cw={},cle=Xe;Object.defineProperty(Cw,"__esModule",{value:!0});var Tw=Cw.default=void 0,ule=cle(nt()),dle=f;Tw=Cw.default=(0,ule.default)((0,dle.jsx)("path",{d:"M16 1H8C6.34 1 5 2.34 5 4v16c0 1.66 1.34 3 3 3h8c1.66 0 3-1.34 3-3V4c0-1.66-1.34-3-3-3m-2 20h-4v-1h4zm3.25-3H6.75V4h10.5z"}),"PhoneAndroid");const JI="confirmed-wifi";function fle({onClose:e}){const[t,n]=Pe.useState(Ve.session.getItem(JI)??!1),r=()=>{Ve.session.setItem(JI,!0),n(!0),e==null||e()};return _.useEffect(()=>{var i,s,o;if(navigator!=null&&navigator.connection)if(((i=navigator==null?void 0:navigator.connection)==null?void 0:i.type)==="wifi")r();else{const a=()=>{var l;((l=navigator==null?void 0:navigator.connection)==null?void 0:l.type)==="wifi"&&r()};return(o=(s=navigator==null?void 0:navigator.connection)==null?void 0:s.addEventListener)==null||o.call(s,"change",a),()=>{var l,c;return(c=(l=navigator==null?void 0:navigator.connection)==null?void 0:l.removeEventListener)==null?void 0:c.call(l,"change",a)}}},[]),t?null:f.jsx(Iu,{onClose:r,children:f.jsxs(hle,{children:[f.jsxs(ple,{children:[f.jsxs("h3",{children:["Connect to the ",f.jsx("strong",{children:"same Wi-Fi"})]}),f.jsxs(gle,{children:[f.jsx(Tw,{}),"...",f.jsx(Kd,{}),"...",f.jsx(kw,{})]}),f.jsx("h4",{children:"Connect to the same Wi-Fi as the game."})]}),f.jsx("h6",{children:"Otherwise microphones might not work properly."}),f.jsx(Te,{onClick:r,focused:!0,"data-test":"confirm-wifi-connection",children:"I'm connected, continue"})]})})}const hle=C(fs,{target:"e1200hll2"})({name:"vcyu3g",styles:"gap:1rem"}),ple=C("div",{target:"e1200hll1"})({name:"1uu7723",styles:"display:flex;flex-direction:column;align-items:center;gap:2rem"}),gle=C("div",{target:"e1200hll0"})("margin:2rem 0;display:flex;color:white;align-items:center;gap:2rem;@keyframes pulse{0%{color:",he.colors.text.default,";transform:scale(1);}25%{color:",he.colors.text.active,";transform:scale(1.1);}50%{color:",he.colors.text.default,";transform:scale(1);}}svg{animation:pulse 2s infinite;font-size:7rem;:nth-of-type(1){animation-delay:0s;}:nth-of-type(2){animation-delay:0.5s;}:nth-of-type(3){animation-delay:1s;}}");function mle(e,t,n,r){n===void 0&&(n=global),r===void 0&&(r={});var i=_.useRef(),s=r.capture,o=r.passive,a=r.once;_.useEffect(function(){i.current=t},[t]),_.useEffect(function(){if(n&&n.addEventListener){var l=function(u){return i.current(u)},c={capture:s,passive:o,once:a};return n.addEventListener(e,l,c),function(){n.removeEventListener(e,l,c)}}},[e,n,s,o,a])}var Ta={},vle=function(e,t,n){return Ta[e]||(Ta[e]={callbacks:[],value:n}),Ta[e].callbacks.push(t),{deregister:function(){var r=Ta[e].callbacks,i=r.indexOf(t);i>-1&&r.splice(i,1)},emit:function(r){Ta[e].value!==r&&(Ta[e].value=r,Ta[e].callbacks.forEach(function(i){t!==i&&i(r)}))}}};function Iw(e,t){if(t===void 0&&(t=typeof global<"u"&&global.localStorage?global.localStorage:typeof globalThis<"u"&&globalThis.localStorage?globalThis.localStorage:typeof window<"u"&&window.localStorage?window.localStorage:typeof localStorage<"u"?localStorage:null),t){var n=function(r){return{get:function(i,s){var o=r.getItem(i);return o==null?typeof s=="function"?s():s:JSON.parse(o)},set:function(i,s){r.setItem(i,JSON.stringify(s))}}}(t);return function(r){return function(i,s,o){var a=o.get,l=o.set,c=_.useRef(null),u=_.useState(function(){return a(s,i)}),d=u[0],h=u[1];mle("storage",function(g){if(g.key===s){var m=JSON.parse(g.newValue);d!==m&&h(m)}}),_.useEffect(function(){return c.current=vle(s,h,i),function(){c.current.deregister()}},[i,s]);var p=_.useCallback(function(g){var m=typeof g=="function"?g(d):g;l(s,m),h(m),c.current.emit(g)},[d,l,s]);return[d,p]}(r,e,n)}}return _.useState}const yle=Iw("remote_mic_name");function Ale({isVisible:e,roomId:t,connectionStatus:n,onConnect:r,connectionError:i}){const[s,o]=yle(""),[a,l]=_.useState(!1),c=_.useRef(null),u=_.useRef(null),[d,h]=_.useState(""),p=oi(),g=n!=="uninitialised"&&n!=="error";_.useEffect(()=>{n==="connected"&&!t&&p("remote-mic/",{room:d})},[n,t,d]);const m=(S=!1)=>{gn.connect(t??d,s,S),r(S)},A=S=>{var x,w;S.preventDefault(),l(!1),!t&&d.length!==Yp?(x=c.current)==null||x.focus():s===""?(w=u.current??c.current)==null||w.focus():m()};_.useEffect(()=>{var S;pn.capture(t?"remote-mic-qrcode":"remote-mic-manual"),(S=c.current)==null||S.focus()},[]),_.useEffect(()=>{Ve.session.getItem("reload-mic-request")!==null&&(global.setTimeout(()=>Ve.session.removeItem("reload-mic-request"),1),m(!0))},[]);const[v,y]=_.useState(!1);_.useEffect(()=>{if(y(!1),n==="connecting"||n==="reconnecting"){const S=setTimeout(()=>y(!0),2e3);return()=>clearTimeout(S)}},[n]);const b=n==="error"&&!a;return e?f.jsxs(f.Fragment,{children:[f.jsx(fle,{onClose:()=>{var S;(S=c.current)==null||S.focus()}}),f.jsxs(_le,{onSubmit:A,children:[!t&&f.jsx(xle,{ref:c,placeholder:"_____",label:"Game code",autoCapitalize:"characters",autoComplete:"off",onChange:h,value:d,maxLength:Yp,focused:!1,autoFocus:!0,"data-test":"game-code-input",onFocus:()=>{n==="error"&&l(!0)},onPaste:S=>{S.preventDefault();let x=(S.clipboardData||global.clipboardData).getData("text");x=x.replace(/\s/g,""),h(x.slice(0,Yp))}}),f.jsx(Ru,{maxLength:hx,focused:!1,label:"Your name",placeholder:"Enter your name…",value:s,onChange:o,ref:t?c:u,disabled:g,autoFocus:!0,"data-test":"player-name-input"}),f.jsxs(ble,{type:"submit",disabled:g,"data-test":"connect-button",children:[n==="connecting"&&f.jsx(xh,{size:"1em"}),n==="uninitialised"||a?"Connect":n.toUpperCase()]})]}),(v||b)&&f.jsxs(f.Fragment,{children:[v&&f.jsx("h3",{children:"If it doesn't connect"}),b&&f.jsxs(f.Fragment,{children:[f.jsxs("h3",{children:[f.jsx("strong",{children:f.jsx(Vl,{})})," ","Could not connect:"]}),f.jsxs("h6",{children:["Error code: ",f.jsx("strong",{children:i})]}),f.jsx("br",{}),i==="peer-unavailable"?f.jsxs(f.Fragment,{children:[f.jsx("h4",{children:t===void 0?"Game with this code not found 🤔":"The game seems to be offline 🤔"}),t===void 0&&f.jsxs("h5",{children:["1. Is the code ",f.jsx("strong",{children:d.toUpperCase()})," correct?"]}),f.jsxs("h5",{children:[t===void 0?2:1,". Refresh (",f.jsx("strong",{children:"F5"}),") the Karaoke Game on the PC"]}),t!==void 0&&f.jsxs("h5",{children:["2. Scan the"," ",f.jsxs("strong",{children:[f.jsx(yf,{})," QR Code"]})," ","again"]}),f.jsxs("h5",{children:["3. Make sure you are in the same"," ",f.jsxs("strong",{children:[f.jsx(Kd,{})," Wi-Fi"]})]})]}):i==="network"?f.jsxs(f.Fragment,{children:[f.jsx("h4",{children:"No internet access 💀"}),f.jsxs("h5",{children:["Make sure you are in the same"," ",f.jsxs("strong",{children:[f.jsx(Kd,{})," Wi-Fi"]}),"and that it has internet connection"]})]}):f.jsxs(f.Fragment,{children:[f.jsxs("h5",{children:["1. Make sure you are in the same"," ",f.jsxs("strong",{children:[f.jsx(Kd,{})," Wi-Fi"]})]}),f.jsxs("h5",{children:["2. Refresh (",f.jsx("strong",{children:"F5"}),") the Karaoke Game on the PC"]}),f.jsxs("h5",{children:["3. Scan the"," ",f.jsxs("strong",{children:[f.jsx(yf,{})," QR Code"]})," ","again"]})]})]})]})]}):null}const _le=C("form",{target:"e1ey8ze72"})({name:"fvqkyn",styles:"margin-top:2rem;display:flex;flex-direction:column;gap:1rem"}),ble=C(Te,{target:"e1ey8ze71"})({name:"116s0m5",styles:"margin-bottom:0;height:72px"}),xle=C(Ru,{target:"e1ey8ze70"})({name:"8hhbv6",styles:"input{letter-spacing:2rem;text-align:center;text-transform:uppercase;}"});var Pw={},Sle=Xe;Object.defineProperty(Pw,"__esModule",{value:!0});var WL=Pw.default=void 0,wle=Sle(nt()),Ele=f;WL=Pw.default=(0,wle.default)((0,Ele.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack");var Rw={},kle=Xe;Object.defineProperty(Rw,"__esModule",{value:!0});var YL=Rw.default=void 0,Cle=kle(nt()),Tle=f;YL=Rw.default=(0,Cle.default)((0,Tle.jsx)("path",{d:"m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"}),"ArrowForward");var Mw={},Ile=Xe;Object.defineProperty(Mw,"__esModule",{value:!0});var KL=Mw.default=void 0,Ple=Ile(nt()),Rle=f;KL=Mw.default=(0,Ple.default)((0,Rle.jsx)("path",{d:"M15 7.5V2H9v5.5l3 3zM7.5 9H2v6h5.5l3-3zM9 16.5V22h6v-5.5l-3-3zM16.5 9l-3 3 3 3H22V9z"}),"Games");var jw={},Mle=Xe;Object.defineProperty(jw,"__esModule",{value:!0});var QL=jw.default=void 0,jle=Mle(nt()),Ole=f;QL=jw.default=(0,jle.default)((0,Ole.jsx)("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6z"}),"KeyboardArrowDown");var Ow={},Vle=Xe;Object.defineProperty(Ow,"__esModule",{value:!0});var JL=Ow.default=void 0,Lle=Vle(nt()),Nle=f;JL=Ow.default=(0,Lle.default)((0,Nle.jsx)("path",{d:"M15.41 16.59 10.83 12l4.58-4.59L14 6l-6 6 6 6z"}),"KeyboardArrowLeft");var Vw={},$le=Xe;Object.defineProperty(Vw,"__esModule",{value:!0});var XL=Vw.default=void 0,Dle=$le(nt()),Ble=f;XL=Vw.default=(0,Dle.default)((0,Ble.jsx)("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6z"}),"KeyboardArrowRight");var Lw={},Fle=Xe;Object.defineProperty(Lw,"__esModule",{value:!0});var ZL=Lw.default=void 0,zle=Fle(nt()),Ule=f;ZL=Lw.default=(0,zle.default)((0,Ule.jsx)("path",{d:"M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"}),"KeyboardArrowUp");var Nw={},Hle=Xe;Object.defineProperty(Nw,"__esModule",{value:!0});var eN=Nw.default=void 0,qle=Hle(nt()),Gle=f;eN=Nw.default=(0,qle.default)((0,Gle.jsx)("path",{d:"M10.59 9.17 5.41 4 4 5.41l5.17 5.17zM14.5 4l2.04 2.04L4 18.59 5.41 20 17.96 7.46 20 9.5V4zm.33 9.41-1.41 1.41 3.13 3.13L14.5 20H20v-5.5l-2.04 2.04z"}),"Shuffle");var $w={},Wle=Xe;Object.defineProperty($w,"__esModule",{value:!0});var Dw=$w.default=void 0,Yle=Wle(nt()),Kle=f;Dw=$w.default=(0,Yle.default)((0,Kle.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search");function Bw(e,t){const[n,r]=_.useState(e);return _.useEffect(()=>{const i=setTimeout(()=>{r(e)},t);return()=>{clearTimeout(i)}},[e,t]),n}function Qle(){var e=_.useRef(!0);return e.current?(e.current=!1,!0):e.current}var km=function(){return km=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},km.apply(this,arguments)};function Jle(){var e=_.useRef(!1),t=_.useCallback(function(){return e.current},[]);return _.useEffect(function(){return e.current=!0,function(){e.current=!1}},[]),t}function Xle(e,t,n){t===void 0&&(t=[]),n===void 0&&(n={loading:!1});var r=_.useRef(0),i=Jle(),s=_.useState(n),o=s[0],a=s[1],l=_.useCallback(function(){for(var c=[],u=0;u<arguments.length;u++)c[u]=arguments[u];var d=++r.current;return o.loading||a(function(h){return km(km({},h),{loading:!0})}),e.apply(void 0,c).then(function(h){return i()&&d===r.current&&a({value:h,loading:!1}),h},function(h){return i()&&d===r.current&&a({error:h,loading:!1}),h})},t);return[o,l]}function XI(e,t){t===void 0&&(t=[]);var n=Xle(e,t,{loading:!0}),r=n[0],i=n[1];return _.useEffect(function(){i()},[i]),r}function Zle(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e&&e.addEventListener&&e.addEventListener.apply(e,t)}function ece(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e&&e.removeEventListener&&e.removeEventListener.apply(e,t)}var tce=typeof window<"u",nce=function(e){return(e+1)%1e6};function tN(){var e=_.useReducer(nce,0),t=e[1];return t}var rce=function(e){_.useEffect(e,[])},ice=tce?window:null,ZI=function(e){return!!e.addEventListener},eP=function(e){return!!e.on},sce=function(e,t,n,r){n===void 0&&(n=ice),_.useEffect(function(){if(t&&n)return ZI(n)?Zle(n,e,t,r):eP(n)&&n.on(e,t,r),function(){ZI(n)?ece(n,e,t,r):eP(n)&&n.off(e,t,r)}},[e,t,n,JSON.stringify(r)])},oce=function(e,t){var n=_.useRef(function(){});_.useEffect(function(){n.current=e}),_.useEffect(function(){if(t!==null){var r=setInterval(function(){return n.current()},t||0);return function(){return clearInterval(r)}}},[t])},ace=function(e){var t=_.useRef(e);t.current=e,rce(function(){return function(){return t.current()}})};function lce(e){var t=_.useRef();return _.useEffect(function(){t.current=e}),t.current}var cce=function(e,t){return e===t};function uce(e,t){t===void 0&&(t=cce);var n=_.useRef(),r=_.useRef(e),i=Qle();return!i&&!t(r.current,e)&&(n.current=r.current,r.current=e),n.current}function dce({onSearchStateChange:e}){const[t,n]=_.useState(""),r=_.useRef(null),i=Bw(t,100),s=lce(i);return _.useEffect(()=>{s!==i&&gn.searchSong(i.trim())},[s,i]),ace(()=>e==null?void 0:e(!1)),f.jsx(fce,{onFocus:()=>e==null?void 0:e(!0),onBlur:()=>e==null?void 0:e(!1),maxLength:hx,focused:!1,label:f.jsx(Dw,{}),placeholder:"Search for a song…",value:t,onChange:n,ref:r,"data-test":"search-song-input"})}const fce=C(Ru,{target:"e12hs6m40"})({name:"zrd260",styles:"width:100%;margin-bottom:1rem"});function hce({onSearchStateChange:e}){var s;const[t]=Ds(te.remoteKeyboardLayout,!0)??[],n=(t==null?void 0:t.horizontal)!==void 0||(t==null?void 0:t["horizontal-vertical"])!==void 0,r=(t==null?void 0:t.vertical)!==void 0||(t==null?void 0:t["horizontal-vertical"])!==void 0,i=o=>()=>{gn.sendKeyStroke(o)};return t!==void 0?f.jsxs(pce,{"data-test":"remote-keyboard",children:[((s=t==null?void 0:t.remote)==null?void 0:s.includes("search"))&&f.jsx(dce,{onSearchStateChange:e}),(n||r)&&f.jsxs(eA,{children:[f.jsx(Zy,{children:f.jsx(ec,{onClick:i("up"),disabled:!r,"data-test":"arrow-up",children:f.jsx(ZL,{})})}),f.jsxs(Zy,{children:[f.jsx(ec,{onClick:i("left"),disabled:!n,"data-test":"arrow-left",children:f.jsx(JL,{})}),f.jsx(ec,{disabled:!0,children:f.jsx(KL,{})}),f.jsx(ec,{onClick:i("right"),disabled:!n,"data-test":"arrow-right",children:f.jsx(XL,{})})]}),f.jsx(Zy,{children:f.jsx(ec,{onClick:i("down"),disabled:!r,"data-test":"arrow-down",children:f.jsx(QL,{})})})]}),f.jsxs(eA,{children:[f.jsx(tA,{onClick:i("back"),disabled:(t==null?void 0:t.back)===void 0,"data-test":"keyboard-backspace",children:(t==null?void 0:t.back)||f.jsxs(f.Fragment,{children:[f.jsx(WL,{})," Back"]})}),f.jsx(tA,{onClick:i("accept"),disabled:(t==null?void 0:t.accept)===void 0,"data-test":"keyboard-enter",children:(t==null?void 0:t.accept)||f.jsxs(f.Fragment,{children:["Enter ",f.jsx(YL,{})]})})]}),f.jsx(gce,{}),f.jsx(eA,{disabled:(t==null?void 0:t.shiftR)===void 0,"data-test":"keyboard-shift-r",children:f.jsxs(tA,{onClick:i("random"),children:[f.jsx(eN,{})," ",(t==null?void 0:t.shiftR)||"Random Song"]})})]}):null}const pce=C("div",{target:"epl0eil6"})({name:"17mk58z",styles:"gap:1rem;display:flex;flex-wrap:wrap;margin-bottom:2rem"}),Zy=C("div",{target:"epl0eil5"})({name:"144ujnw",styles:"display:flex;justify-content:center;flex:1;color:white;font-size:2rem"}),eA=C("div",{target:"epl0eil4"})("display:flex;flex-direction:column;flex:1;justify-content:space-between;opacity:",e=>e.disabled?0:1,";"),gce=C("div",{target:"epl0eil3"})({name:"1f76xva",styles:"flex-basis:100%;height:0"}),mce=C("button",{target:"epl0eil2"})("background:none;border:none;box-sizing:border-box;margin:0.25rem;width:4.5rem;height:4.5rem;svg{width:2.5rem;height:2.5rem;}opacity:",e=>e.disabled?.25:1,";");var vce={name:"104le9u",styles:"cursor:pointer;&:active{border:0.3rem solid rgb(130, 130, 130);border-bottom-color:rgb(204, 204, 204);border-right-color:rgb(204, 204, 204);}"};const ec=C(mce,{target:"epl0eil1"})("display:flex;align-items:center;justify-content:center;border-radius:0.3rem;border:0.3rem solid rgb(204, 204, 204);border-bottom-color:rgb(130, 130, 130);border-right-color:rgb(130, 130, 130);gap:0.5rem;",e=>e.disabled?"":vce," color:rgb(51, 51, 51);font-weight:normal;font-size:2.5rem;box-shadow:0 0.1rem 0 rgba(0, 0, 0, 0.2),inset 0 0 0 0.2rem #ffffff;background-color:rgb(247, 247, 247);text-shadow:0 0.1rem 0 #fff;"),tA=C(ec,{target:"epl0eil0"})({name:"1d3w5wq",styles:"width:100%"});var Fw={},yce=Xe;Object.defineProperty(Fw,"__esModule",{value:!0});var pv=Fw.default=void 0,Ace=yce(nt()),_ce=f;pv=Fw.default=(0,Ace.default)((0,_ce.jsx)("path",{d:"M6.99 11 3 15l3.99 4v-3H14v-2H6.99zM21 9l-3.99-4v3H10v2h7.01v3z"}),"SwapHoriz");function nN({playerNumber:e,id:t,onModalClose:n,header:r}){const[i]=Ds(te.remoteStyleChanged,!0)??["regular"],s=a=>{gn.requestPlayerChange(t,a),n()},o=e!==null;return f.jsx(Iu,{onClose:n,children:f.jsxs(bce,{children:[r&&f.jsx("h2",{children:r}),f.jsx(Te,{size:"small","data-test":"change-to-player-0",onClick:()=>s(0),disabled:e===0,style:{color:he.colors.players[0].perfect.fill},children:i==="christmas"?"Green":"Blue"}),f.jsx(Te,{size:"small","data-test":"change-to-player-1",onClick:()=>s(1),disabled:e===1,style:{color:he.colors.players[1].perfect.fill},children:i==="christmas"?"Red":i==="eurovision"?"Violet":"Red"}),f.jsx(Te,{size:"small","data-test":"change-to-player-2",onClick:()=>s(2),disabled:e===2,style:{color:he.colors.players[2].perfect.fill},children:i==="christmas"?"?????":i==="eurovision"?"Yellow":"Green"}),f.jsx(Te,{size:"small","data-test":"change-to-player-3",onClick:()=>s(3),disabled:e===3,style:{color:he.colors.players[3].perfect.fill},children:i==="christmas"?"?????":i==="eurovision"?"Pink":"Yellow"}),f.jsx(Te,{size:"small",onClick:()=>s(null),disabled:!o,"data-test":"change-to-unset",children:"Unassign"}),f.jsx("hr",{}),f.jsx(Te,{onClick:n,size:"small",children:"Close"})]})})}const bce=C(fs,{target:"e1q747tq0"})({name:"8ixhiv",styles:"gap:0"});function rN({number:e,...t}){const[n]=Ds(te.remoteStyleChanged,!0)??["regular"],r=tN();return _.useEffect(()=>{r()},[n]),f.jsx(xce,{style:{background:e!==null?he.colors.players[e].perfect.fill:he.colors.text.inactive},...t})}const xce=C("div",{target:"e1u9853z0"})({name:"97f0zo",styles:"display:inline-block;width:1em;height:1em;aspect-ratio:1;border-radius:1em"}),Sce=_.memo(function({playerNumber:t}){const[n,r]=_.useState(!1),i=()=>r(!1),s=t!==null;return f.jsxs(f.Fragment,{children:[f.jsxs(wce,{onClick:()=>r(!0),"data-test":"change-player",joined:s,children:[s?f.jsxs(f.Fragment,{children:[f.jsx(rN,{number:t})," Change"]}):"Join game"," ",f.jsx(pv,{})]}),n&&f.jsx(nN,{id:gn.getClientId(),playerNumber:t,onModalClose:i})]})}),wce=C("button",{target:"e1x7ggg80"})("position:absolute;z-index:1;color:white;right:1rem;bottom:1rem;padding:1rem;font-size:2rem;text-transform:uppercase;display:flex;align-items:center;gap:1rem;border:none;",Ne,";background:rgba(0, 0, 0, 0.75);",e=>!e.joined&&Ot("font-size:3rem;padding:3rem;",fo,";","")," :hover{",fo,";}:active{",fw,";}svg{width:2rem;height:2rem;}");function zw(){const[e]=Ds(te.remoteMicPermissionsSet,!0)??["write"];return e}function Ece({playerNumber:e,volume:t,frequency:n,isMicOn:r,isConnected:i}){const[s,o]=_.useState(1e-6),a=zw();_.useEffect(()=>{o(u=>t>u?t:u*.99)},[t]);const l=e!==null?he.colors.players[e].miss.stroke:he.colors.lines.normal.fill,c=e!==null?he.colors.players[e].perfect.fill:he.colors.lines.normal.fill;return f.jsxs(Tce,{isMicOn:r,color:l,"data-player-number":`${e??"none"}`,"data-test":"indicator",children:[r&&f.jsx(f.Fragment,{children:f.jsxs(kce,{children:[n?`${Math.round(n)}Hz`:" ",f.jsx("br",{}),String(t*100).slice(0,5)]})}),i&&a==="write"&&f.jsx(Sce,{playerNumber:e}),f.jsx(Cce,{color:c,style:{transform:`scaleY(${r?1-Math.min(1,t/s):1})`}})]})}const kce=C("span",{target:"eik0d702"})({name:"1ikzkvw",styles:"position:absolute;color:white;opacity:0.125"}),Cce=C("div",{target:"eik0d701"})("width:100%;height:100%;background-color:",e=>e.color,";transition:200ms;transform-origin:top;"),Tce=C("div",{target:"eik0d700"})("position:relative;border:0.1rem solid white;flex:1;min-height:200px;max-height:100vw;transition:300ms;background:",e=>e.color,";");function tP({isVisible:e,isMicOn:t,isConnected:n}){const[r,i]=_.useState(0),[s,o]=_.useState(0),[a]=Ds(te.remoteMicPlayerSet,!0)??[null],l=_.useCallback(Mc((c,u)=>{o(c),i(u)},150),[i,o]);return _.useEffect(()=>(Hi.startMonitoring(void 0),Hi.addListener(l)),[l]),e?f.jsx(f.Fragment,{children:f.jsx(Ece,{volume:r,frequency:s,playerNumber:a,isMicOn:t,isConnected:n})}):null}function Ice({}){const[e,t]=_.useState(0);return _.useEffect(()=>{const n=setInterval(()=>{const r=Ic();gn.pinging&&r-gn.pingStart>e?t(r-gn.pingStart):t(gn.latency)},333);return()=>{clearInterval(n)}},[]),f.jsxs(f.Fragment,{children:[e,"ms"]})}function Pce({roomId:e,monitoringStarted:t,setMonitoringStarted:n,isKeepAwakeOn:r,setIsKeepAwakeOn:i,connectionError:s,connectionStatus:o}){const a=zw(),[l,c]=_.useState(!1),[u]=$e(Hb),d=async()=>{var g,m;i(!0);try{!$ae()&&u&&(await document.body.requestFullscreen(),global.screen.orientation.unlock(),await((m=(g=global.screen.orientation).lock)==null?void 0:m.call(g,"portrait")))}catch(A){console.warn(A)}},h=o==="connected",p=f.jsx(tP,{isVisible:!0,isMicOn:t,isConnected:h});return f.jsx(Rce,{children:f.jsxs(_h,{showImages:!1,fallback:f.jsxs(f.Fragment,{children:[p,f.jsx("h2",{children:"Please allow access to the microphone."})]}),children:[f.jsxs(nP,{collapse:l,children:[f.jsx(tP,{isVisible:!0,isMicOn:t,isConnected:h}),f.jsx(Ale,{roomId:e,isVisible:!0,connectionStatus:o,onConnect:d,connectionError:s})]}),f.jsxs(nP,{children:[a==="write"&&f.jsx(hce,{onSearchStateChange:c}),a==="read"&&f.jsxs(Mce,{"data-test":"no-permissions-message",children:["No permission to control the game. Go to in-game ",f.jsx("strong",{children:"Settings"})," menu ➔"," ",f.jsx("strong",{children:"Remote Microphones Settings"})," to manage them."]}),f.jsxs(rP,{onClick:()=>i(!r),children:["WakeLock: ",f.jsx("strong",{children:r?"ON":"OFF"})]}),f.jsxs(iN,{onClick:()=>t?Hi.stopMonitoring():Hi.startMonitoring(void 0),children:["Microphone: ",f.jsx("strong",{"data-test":"monitoring-state",children:t?"ON":"OFF"})]}),h&&f.jsxs(rP,{children:["Ping: ",f.jsx(Ice,{})]})]})]})})}const Rce=C("div",{target:"eakh27i4"})("font-size:2.6rem;display:flex;flex-direction:column;gap:2rem;padding:1.5rem;box-sizing:border-box;@media (max-height: 500px) and (min-aspect-ratio: 16/10){flex-direction:row;}",Te,"{padding:0.5em;height:72px;margin-bottom:1em;display:flex;align-items:center;justify-content:center;gap:0.5em;}h5{margin-top:0.5em;svg{font-size:0.9em;}}"),nP=C("div",{target:"eakh27i3"})("flex:1;transition:300ms ease-in-out;margin-top:",e=>e.collapse?"-100%":"0",";@media (max-height: 500px) and (min-aspect-ratio: 16/10){margin-top:0;display:flex;flex-direction:column;justify-content:center;}"),iN=C("div",{target:"eakh27i2"})(Ne," strong{color:",he.colors.text.active,";}align-self:flex-end;"),rP=C(iN,{target:"eakh27i1"})(""),Mce=C("h5",{target:"eakh27i0"})({name:"1s76ut5",styles:"padding-bottom:5rem"});function jce({onConfirm:e}){const[t,n]=_.useState(!1),[r,i]=_.useState(!1);_.useEffect(()=>{Ve.session.getItem("reload-mic-request")!==null&&i(!0)},[]),Jr(te.remoteMicPlayerSet,()=>{r&&(i(!1),n(!0))}),Jr(te.remoteReadinessRequested,()=>{n(!0)});const s=()=>{gn.confirmReadiness(),n(!1),e()};return t?f.jsx(Oce,{children:f.jsx(fs,{children:f.jsx(Vce,{"data-test":"ready-button",onClick:s,children:"Ready"})})}):null}const Oce=C("div",{target:"eusdifu1"})({name:"1b0uzsn",styles:"display:flex;flex-direction:column;align-items:center;justify-content:center;position:absolute;top:0;left:0;width:100%;height:100%;backdrop-filter:blur(10px);z-index:1000"}),Vce=C(Te,{target:"eusdifu0"})("aspect-ratio:1;",fo,";");function sN({unit:e="",value:t,onChange:n,step:r=50,disabled:i=!1,...s}){return f.jsxs(Nce,{...s,children:[f.jsx(iP,{onClick:()=>n(t-r),disabled:i,"data-test":"numeric-input-down",children:"-"}),f.jsxs(Lce,{children:[f.jsx("strong",{"data-test":"numeric-input-value",children:t}),e]}),f.jsx(iP,{onClick:()=>n(t+r),disabled:i,"data-test":"numeric-input-up",children:"+"})]})}const iP=C("button",{target:"e1tear4c2"})("background:black;padding:0.5rem 2rem;border:none;font-size:3rem;",Ne,";:disabled{opacity:0.5;}"),Lce=C("div",{target:"e1tear4c1"})({name:"2qd0l8",styles:"flex:1;text-align:center"}),Nce=C("div",{target:"e1tear4c0"})(Ne,";display:flex;align-items:center;justify-self:center;background:black;");function $ce({}){const[e,t]=_.useState(0),[n,r]=_.useState(!1);_.useEffect(()=>{r(!0),gn.getGameInputLag().then(({value:s})=>t(s)).catch(s=>console.warn(s)).finally(()=>r(!1))},[]);const i=s=>{r(!0),gn.setGameInputLag(s).then(({value:o})=>t(o)).catch(o=>console.warn(o)).finally(()=>r(!1))};return f.jsxs(f.Fragment,{children:[f.jsx("h3",{children:"Adjust game input lag"}),f.jsx(sN,{value:e,onChange:i,disabled:n,unit:"ms","data-test":"game-input-lag"}),f.jsx("h6",{children:"If the sound is not synchronised with the lyrics, use this to compensate it."})]})}function Dce(e){_.useEffect(()=>(gn.subscribe("remote-mics"),()=>{gn.unsubscribe("remote-mics")}),[]);const[t]=Ds(te.remoteMicListUpdated)??[[]];return f.jsxs(f.Fragment,{children:[f.jsx("h3",{children:"Manage Players"}),t.map(n=>f.jsx(Bce,{mic:n},n.id)),t.length===0&&f.jsx("h4",{children:"No remote microphones connected"})]})}const Bce=({mic:e})=>{var r;const[t,n]=_.useState(!1);return Je.getPermission(e.id),f.jsxs(Fce,{"data-test":"manage-players",children:[t&&f.jsx(nN,{id:e.id,playerNumber:e.number,onModalClose:()=>n(!1),header:f.jsxs(f.Fragment,{children:["Change ",f.jsx("strong",{className:"ph-no-capture",children:e.name}),":"]})}),f.jsxs(zce,{onClick:()=>n(!0),"data-test":"remote-mic-entry","data-id":e.id??e.name,size:"small",children:[f.jsx(rN,{number:e.number}),f.jsx(Hce,{children:((r=e.id)==null?void 0:r.slice(-4))??"????"}),f.jsx(Uce,{className:"ph-no-capture",isSelf:e.id===gn.getClientId(),children:e.name})]})]})},Fce=C("div",{target:"e1sg8znb3"})({name:"4zk4ri",styles:"display:flex;flex-direction:column;gap:1rem"}),zce=C(Te,{target:"e1sg8znb2"})({name:"1n950nl",styles:"display:flex;align-items:center;padding:0 2rem"}),Uce=C("div",{target:"e1sg8znb1"})(e=>e.isSelf&&`color: ${he.colors.text.active};`," text-overflow:ellipsis;overflow:hidden;white-space:nowrap;"),Hce=C("span",{target:"e1sg8znb0"})({name:"dcs29c",styles:"font-size:1.5rem;padding:0 1rem"});function sP(){const[e,t]=$e(bj),[n,r]=_.useState(!1);_.useEffect(()=>{r(!0),gn.getMicrophoneInputLag().then(({value:o})=>t(o)).catch(o=>console.warn(o)).finally(()=>r(!1))},[]);const i=o=>{r(!0),gn.setMicrophoneInputLag(o).then(({value:a})=>t(a)).catch(a=>console.warn(a)).finally(()=>r(!1))},s=()=>{var o;gn.disconnect(),Ve.local.removeItem("remote_mic_name"),Ve.local.removeItem(w1),(o=global.location)==null||o.reload()};return f.jsxs(f.Fragment,{children:[f.jsx(Te,{onClick:s,size:"small","data-test":"reset-microphone",children:"Reset microphone"}),f.jsxs("h6",{children:[f.jsx("strong",{children:"Note:"})," removes all persisted microphone data (your name, ID etc.)"]}),f.jsx("hr",{}),f.jsx("h3",{children:"Adjust microphone lag"}),f.jsx(sN,{value:e,onChange:i,unit:"ms",disabled:n,step:25,"data-test":"microphone-delay"}),f.jsx("h6",{children:"Adjust the microphone input delay (e.g. if the game doesn't detect you hitting the note on time)"})]})}function qce(){var r;const e=zw(),[t,n]=_.useState(e==="write"?null:"microphone");return f.jsxs(Gce,{children:[f.jsxs("h3",{children:["Remote mic ID:"," ",f.jsx("strong",{"data-test":"remote-mic-id",children:((r=gn.getClientId())==null?void 0:r.slice(-4).toUpperCase())??"----"})]}),f.jsx("hr",{}),e==="write"&&t===null&&f.jsxs(f.Fragment,{children:[f.jsx(Te,{onClick:()=>n("microphone"),size:"small","data-test":"microphone-settings",disabled:t==="microphone",children:"Microphone settings"}),f.jsx(Te,{onClick:()=>n("manage"),size:"small","data-test":"manage-game",disabled:t==="manage",children:"Manage the game"})]}),e!=="write"&&f.jsx(sP,{}),t!==null&&e==="write"&&f.jsx(Iu,{onClose:()=>n(null),children:f.jsxs(fs,{children:[f.jsx(Wce,{children:t==="microphone"?"Microphone settings":"Manage game"}),t==="microphone"&&f.jsx(sP,{}),t==="manage"&&f.jsxs(f.Fragment,{children:[f.jsx(Dce,{}),f.jsx($ce,{})]}),f.jsx("hr",{}),f.jsx(Te,{onClick:()=>n(null),size:"small","data-test":"close-modal",children:"Close"})]})})]})}const Gce=C("div",{target:"edoha0h1"})({name:"10ti2i0",styles:"flex-grow:1;font-size:2.6rem;display:flex;flex-direction:column;justify-content:center;padding:5rem 1.5rem 1.5rem;box-sizing:border-box;gap:1rem"}),Wce=C("h1",{target:"edoha0h0"})({name:"bvcr5v",styles:"font-size:3.25rem!important"});var Yce="__lodash_hash_undefined__";function Kce(e){return this.__data__.set(e,Yce),this}function Qce(e){return this.__data__.has(e)}function Bf(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new So;++t<n;)this.add(e[t])}Bf.prototype.add=Bf.prototype.push=Kce;Bf.prototype.has=Qce;function Jce(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function oN(e,t){return e.has(t)}var Xce=1,Zce=2;function aN(e,t,n,r,i,s){var o=n&Xce,a=e.length,l=t.length;if(a!=l&&!(o&&l>a))return!1;var c=s.get(e),u=s.get(t);if(c&&u)return c==t&&u==e;var d=-1,h=!0,p=n&Zce?new Bf:void 0;for(s.set(e,t),s.set(t,e);++d<a;){var g=e[d],m=t[d];if(r)var A=o?r(m,g,d,t,e,s):r(g,m,d,e,t,s);if(A!==void 0){if(A)continue;h=!1;break}if(p){if(!Jce(t,function(v,y){if(!oN(p,y)&&(g===v||i(g,v,n,r,s)))return p.push(y)})){h=!1;break}}else if(!(g===m||i(g,m,n,r,s))){h=!1;break}}return s.delete(e),s.delete(t),h}function eue(e){var t=-1,n=Array(e.size);return e.forEach(function(r,i){n[++t]=[i,r]}),n}function Uw(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var tue=1,nue=2,rue="[object Boolean]",iue="[object Date]",sue="[object Error]",oue="[object Map]",aue="[object Number]",lue="[object RegExp]",cue="[object Set]",uue="[object String]",due="[object Symbol]",fue="[object ArrayBuffer]",hue="[object DataView]",oP=ki?ki.prototype:void 0,nA=oP?oP.valueOf:void 0;function pue(e,t,n,r,i,s,o){switch(n){case hue:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case fue:return!(e.byteLength!=t.byteLength||!s(new Gg(e),new Gg(t)));case rue:case iue:case aue:return g0(+e,+t);case sue:return e.name==t.name&&e.message==t.message;case lue:case uue:return e==t+"";case oue:var a=eue;case cue:var l=r&tue;if(a||(a=Uw),e.size!=t.size&&!l)return!1;var c=o.get(e);if(c)return c==t;r|=nue,o.set(e,t);var u=aN(a(e),a(t),r,i,s,o);return o.delete(e),u;case due:if(nA)return nA.call(e)==nA.call(t)}return!1}var gue=1,mue=Object.prototype,vue=mue.hasOwnProperty;function yue(e,t,n,r,i,s){var o=n&gue,a=E1(e),l=a.length,c=E1(t),u=c.length;if(l!=u&&!o)return!1;for(var d=l;d--;){var h=a[d];if(!(o?h in t:vue.call(t,h)))return!1}var p=s.get(e),g=s.get(t);if(p&&g)return p==t&&g==e;var m=!0;s.set(e,t),s.set(t,e);for(var A=o;++d<l;){h=a[d];var v=e[h],y=t[h];if(r)var b=o?r(y,v,h,t,e,s):r(v,y,h,e,t,s);if(!(b===void 0?v===y||i(v,y,n,r,s):b)){m=!1;break}A||(A=h=="constructor")}if(m&&!A){var S=e.constructor,x=t.constructor;S!=x&&"constructor"in e&&"constructor"in t&&!(typeof S=="function"&&S instanceof S&&typeof x=="function"&&x instanceof x)&&(m=!1)}return s.delete(e),s.delete(t),m}var Aue=1,aP="[object Arguments]",lP="[object Array]",Sp="[object Object]",_ue=Object.prototype,cP=_ue.hasOwnProperty;function bue(e,t,n,r,i,s){var o=Ci(e),a=Ci(t),l=o?lP:pf(e),c=a?lP:pf(t);l=l==aP?Sp:l,c=c==aP?Sp:c;var u=l==Sp,d=c==Sp,h=l==c;if(h&&qg(e)){if(!qg(t))return!1;o=!0,u=!1}if(h&&!u)return s||(s=new js),o||F3(e)?aN(e,t,n,r,i,s):pue(e,t,l,n,r,i,s);if(!(n&Aue)){var p=u&&cP.call(e,"__wrapped__"),g=d&&cP.call(t,"__wrapped__");if(p||g){var m=p?e.value():e,A=g?t.value():t;return s||(s=new js),i(m,A,n,r,s)}}return h?(s||(s=new js),yue(e,t,n,r,i,s)):!1}function Hw(e,t,n,r,i){return e===t?!0:e==null||t==null||!lo(e)&&!lo(t)?e!==e&&t!==t:bue(e,t,n,r,Hw,i)}var xue=1,Sue=2;function wue(e,t,n,r){var i=n.length,s=i,o=!r;if(e==null)return!s;for(e=Object(e);i--;){var a=n[i];if(o&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++i<s;){a=n[i];var l=a[0],c=e[l],u=a[1];if(o&&a[2]){if(c===void 0&&!(l in e))return!1}else{var d=new js;if(r)var h=r(c,u,l,e,t,d);if(!(h===void 0?Hw(u,c,xue|Sue,r,d):h))return!1}}return!0}function lN(e){return e===e&&!as(e)}function Eue(e){for(var t=ah(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,lN(i)]}return t}function cN(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}function kue(e){var t=Eue(e);return t.length==1&&t[0][2]?cN(t[0][0],t[0][1]):function(n){return n===e||wue(n,e,t)}}function Cue(e,t,n){var r=e==null?void 0:$x(e,t);return r===void 0?n:r}function Tue(e,t){return e!=null&&t in Object(e)}function Iue(e,t,n){t=k0(t,e);for(var r=-1,i=t.length,s=!1;++r<i;){var o=lh(t[r]);if(!(s=e!=null&&n(e,o)))break;e=e[o]}return s||++r!=i?s:(i=e==null?0:e.length,!!i&&_x(i)&&xx(o,i)&&(Ci(e)||Tx(e)))}function Pue(e,t){return e!=null&&Iue(e,t,Tue)}var Rue=1,Mue=2;function jue(e,t){return Lx(e)&&lN(t)?cN(lh(e),t):function(n){var r=Cue(n,e);return r===void 0&&r===t?Pue(n,e):Hw(t,r,Rue|Mue)}}function Oue(e){return function(t){return t==null?void 0:t[e]}}function Vue(e){return function(t){return $x(t,e)}}function Lue(e){return Lx(e)?Oue(lh(e)):Vue(e)}function Nue(e){return typeof e=="function"?e:e==null?nO:typeof e=="object"?Ci(e)?jue(e[0],e[1]):kue(e):Lue(e)}function $ue(e,t,n,r){for(var i=e.length,s=n+(r?1:-1);r?s--:++s<i;)if(t(e[s],s,e))return s;return-1}function Due(e){return e!==e}function Bue(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}function Fue(e,t,n){return t===t?Bue(e,t,n):$ue(e,Due,n)}function zue(e,t){var n=e==null?0:e.length;return!!n&&Fue(e,t,0)>-1}function Uue(e,t,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function Hue(){}var que=1/0,Gue=jc&&1/Uw(new jc([,-0]))[1]==que?function(e){return new jc(e)}:Hue,Wue=200;function uN(e,t,n){var r=-1,i=zue,s=e.length,o=!0,a=[],l=a;if(n)o=!1,i=Uue;else if(s>=Wue){var c=t?null:Gue(e);if(c)return Uw(c);o=!1,i=oN,l=new Bf}else l=t?[]:a;e:for(;++r<s;){var u=e[r],d=t?t(u):u;if(u=n||u!==0?u:0,o&&d===d){for(var h=l.length;h--;)if(l[h]===d)continue e;t&&l.push(d),a.push(u)}else i(l,d,n)||(l!==a&&l.push(d),a.push(u))}return a}function Yue(e,t){return e&&e.length?uN(e,Nue(t)):[]}const Kue="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='810'%20height='540'%3e%3crect%20width='810'%20height='540'%20fill='%23FCDD09'/%3e%3cpath%20stroke='%23DA121A'%20stroke-width='60'%20d='M0,90H810m0,120H0m0,120H810m0,120H0'/%3e%3c/svg%3e";function Que(){const e=new Intl.DisplayNames(["en"],{type:"language"}),t={};for(let r=0;r<26;r++)for(let i=0;i<26;i++){let s=String.fromCharCode(97+r)+String.fromCharCode(97+i),o=e.of(s);o!==s&&o!==void 0&&(t[o]=s)}return{...t,...{Akan:"ak",Hebrew:"he",Indonesian:"id",Javanese:"jv",Romanian:"ro",Yiddish:"yi",Tagalog:"tl",English:"gb",Korean:"kr",Swedish:"se",Latin:"va",Japanese:"jp",Catalan:"cat"}}}const Jue=Que();function dN(e){return Jue[e]}const Xue=Object.assign({"./Flag/flags/cat.svg":Kue}),el=e=>{var s;const[t,n]=_.useState(null),r="isocode"in e?(s=e.isocode)==null?void 0:s.toLowerCase():dN(Array.isArray(e.language)?e.language[0]:e.language);if(_.useLayoutEffect(()=>{r&&n(null)},[r]),!r)return null;const i=Xue[`./Flag/flags/${r}.svg`];return f.jsx(Zue,{"data-isocode":r,src:i??`https://flagcdn.com/${t??r}.svg`,alt:r,...e,onError:()=>n("un")})},Zue=C("img",{target:"e1k9lqhf0"})("");function Sh(e=!1){const[t,n]=_.useState($s.getCurrentIndex()),r=_.useRef([]),i=()=>$s.getIndex(e).then(n);return _.useEffect(()=>{i()},[]),{data:t??r.current,reload:i,isLoading:t===null}}function ede({roomId:e,monitoringStarted:t,setMonitoringStarted:n,isKeepAwakeOn:r,setIsKeepAwakeOn:i,connectionError:s,connectionStatus:o}){const a=Sh(),[l,c]=_.useState();_.useEffect(()=>{o==="connected"&&l===void 0&&gn.getSongList().then(c).catch(console.warn)},[l,o]);const u=_.useMemo(()=>Yue(a.data.map(d=>({...d,id:$s.generateSongFile(d)})).filter(d=>!((l==null?void 0:l.deleted)??[]).includes(d.id)).map(d=>({id:d.id,artist:d.artist,title:d.title,video:d.video,language:d.language})).concat(...((l==null?void 0:l.custom)??[]).map(d=>({...d,id:$s.generateSongFile(d)}))),d=>d.id),[a.data,l]);return f.jsx(tde,{children:u.map(d=>f.jsxs(nde,{"data-test":d.id,children:[f.jsx(rde,{children:f.jsx(el,{language:d.language})}),f.jsxs(ide,{children:[f.jsx(ode,{children:d.title}),f.jsx(sde,{children:d.artist})]})]},`${d.artist}-${d.title}`))})}const tde=C("div",{target:"emsrjbt5"})({name:"zldrop",styles:"display:flex;flex-direction:column;padding-bottom:5rem"}),nde=C("div",{target:"emsrjbt4"})({name:"z9lp05",styles:"background:rgba(0, 0, 0, 0.25);display:flex;align-items:center;gap:1rem;padding:1.5rem 1rem;border-bottom:1px solid black"}),rde=C("div",{target:"emsrjbt3"})({name:"1xmi6sr",styles:"img{height:3rem;width:3rem;object-fit:cover;border-radius:3rem;border:0.1rem black solid;aspect-ratio:1;}"}),ide=C("div",{target:"emsrjbt2"})({name:"tpuoeb",styles:"display:flex;flex-direction:column;justify-content:space-between;gap:1rem"}),sde=C("span",{target:"emsrjbt1"})("color:",he.colors.text.default,";font-size:1.25rem;white-space:nowrap;overflow:hidden;font-weight:bold;text-overflow:ellipsis;"),ode=C("span",{target:"emsrjbt0"})("color:",he.colors.text.active,";font-size:1.5rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;"),wp=new VJ;function ade(){const e=I0("room"),[t]=Ds(te.remoteStyleChanged,!0)??["regular"];_.useLayoutEffect(()=>{ij(t)},[t]),Eo(!0,t);const[n,r]=_.useState("microphone"),[i,s]=Ds(te.karaokeConnectionStatusChange)??["uninitialised"],[o,a]=_.useState(!1);Jr(te.micMonitoringStarted,()=>a(!0)),Jr(te.micMonitoringStopped,()=>a(!1));const[l,c]=_.useState(!1),u=async h=>{try{h&&!wp.isEnabled?await wp.enable():!h&&wp.isEnabled&&await wp.disable(),c(h)}catch(p){console.warn("Couldn't set wakelock",p)}},d=()=>{u(!0)};return f.jsxs(To,{children:[f.jsx(jce,{onConfirm:d}),f.jsx(UJ,{size:10}),f.jsx(cde,{id:"phone-ui-container",children:f.jsxs(f.Fragment,{children:[n==="microphone"&&f.jsx(Pce,{roomId:e,monitoringStarted:o,setMonitoringStarted:a,connectionStatus:i,setIsKeepAwakeOn:c,isKeepAwakeOn:l,connectionError:s}),n==="song-list"&&f.jsx(ede,{roomId:e,monitoringStarted:o,setMonitoringStarted:a,connectionStatus:i,setIsKeepAwakeOn:c,isKeepAwakeOn:l,connectionError:s}),n==="settings"&&f.jsx(qce,{}),f.jsx(lde,{}),f.jsx(kae,{setActiveTab:r,active:n})]})})]})}const lde=C("div",{target:"e1ky75ep1"})({name:"4x3vzu",styles:"height:6rem;@media (max-height: 500px) and (min-aspect-ratio: 16/10){height:0;}"}),cde=C("div",{target:"e1ky75ep0"})({name:"1vonyqj",styles:"margin:0 auto;width:100%;max-width:400px;box-sizing:border-box;min-height:100vh;background:rgba(0, 0, 0, 0.5);@media (max-height: 500px) and (min-aspect-ratio: 16/10){max-width:960px;}"}),ude="data:image/gif;base64,R0lGODlhiQAzAOflAAABAAYAAAACAAcAAAkBAAoDAQsEAxAFABEHABIIABMKABgJAhQLAhsLABwNACANAR0OACEOAyMPACMQACcPACgQASgRAioSACsTACwTACwUAC8WAC4WAzAWADQVADUXATYYAjgYADkZADoaADobAD8aAzscAUEbAD4dAEMdAEUeAkAgAEYfAEUfA0ghAE4hAksjAU8iAFEjAFIkAFMlAFQmAVsmAFcoAFwnAF0oAF8qAmEqAGIrAGMsAGksAWUuAGotAmAwDWwuAGsuA20vAF0zDm4wAG8xAHEyAHIzAXgyAHM0AnU1AHo0AHY2AHw1AH43AIA5AoE6AIM7AIQ8AIk7AIU9AIs8AIc+AIw9AI0+AY4+ApFAAJJBAJNCAJRDAJpCAZVEAJtDAp1EAJxEA55FAKBHAKFIAKJJAKhIAaRKAKVLAKtKAKxLAI5RI5BRJK9NALBOALFPALJQALNRALlQBLtRALxSAL1TAL9UAMFWAMJXAMRYArlbCsZZAMVZA8xYAMhaAM9aANFcAdNdAtVfAMpiDddgAN1fANhhAN9hANljAOFiAeNkAOJkA91mAONlBN5nAdhoDeVmAOdoAO5mAOJqB+9nAOlpAPBpAfFqA654SvNrAOduDvRsAPZtAN5yGONxGvduANh0IPFwB/hvAOtxE+B0Gt90I/lwAOxyFPNxCu5zBud0EvRyANt2Is54Ndp2Krt8S+B1JM95L9V4Ked0HeF2G/txAO1zFvRyDOh1E9x3I895NtV4ML19Rsp7NcN8Qbx9TMl7O8J8R9Z5Kq6AW8h7QrZ/ULh/S7V/VsV9O75+R8t8NsR9QqmCYKeCZpqFcLGBVq+BXJGHe4+HgbeAUaOEZqGEbLaAV6CEcauDXKqDYZuGcZmGd42Ih5KIfJCIgpSId4iKh4uKgv///////////////////////////////////////////////////////////////////////////////////////////////////////////yH5BAEIAP8ALAAAAACJADMAAAj+AP8JHEiwoMGDCBMqXMiwocOHECMSHEexosWLGDNq3Mixo8ePIDtKHPhtGK6TKFOqXInrGcuXMGPKnEmzpspU40YKHBdryICfQIMKFVpHFq6hSJOWSMq0qdOnUH8S8PRN579vrFwI2Mq1q9euALbAwvW1bFkAI8yqXcsWbFu1AArgyqkTHK4Ib8v+sEU279cSfgO3HSAYLFWd35RNKryVAIZUfQujZUy5stu5OsfxCkMZgABFNkOLHk065eGR13ClsBxllbdvsL8h04N0S6/YuIXVifrzyu1vsnbz9g1bt1ANqWDbwiHUd0Wd0PR4rozgUbiB43qRKdtDFV3sxbD+BNbBiiKtLoF7tKLoS3zXAqKwkXMFwquOXFWtpsYF5WsClX6UpQcuroAzUDWr5FDWBLhg89034aQiQ2ARNBgOKTf4BUAFuHgTIQ1dDQCAH8dM8wkBXjHooFWwBdOfVwmsEhs2gJTlh4P5/ROMJgicBUgsOY4zDCaCAQAIL8m40mNgg9CyDCYGfPWEK62c4RUARgJp1VUu+rcKXdgE+BUg2BTETBRmAeBCLA8Ow0SRKsQCyxaBEUCADry4+ZVni7SCAVhYxvndSN8Q82JXMeZHo4DQFBQMLpQIiMsoOX5zDC5iclVCSkZ4BQYuvADzA1cIgNEIBF4tkgaqnqWAijP+J6HJFQ246BIKLrJuRSuoOY40TpchGqALmJlyBYAeZU5kjR5lddELRdh9E6ZXJcwC2zCddgWGMt/A8skEAgyQxyqsoMrVAJioMkgBAjCACS/jfBOMIMYykAo21aQC2FYAqFHMN9BaNY6hXzEgI0WLfoVsQZaKUZYOp/QqUMJcoTALRdh6FQYy45BjChgCuJDKNbng1RUn2qSSIRarhFNVN3cZC4gwz2jiVSXTSOwrsF0JK+0woBTLFZkFjVPMEmV5UAo5Bk17rgnWCpntVgNs+8841mACQBdAmmIuV5iE40saAAzCDF3j7HKEsVjkOcfTuFy35U4Ee2UwLZj+8MH+nnpcU7QpE3pFmCfaNF1jVylcXNLUAgAABjICRRiBHMlgZTJXl4CzjR8G4NINScPg0ZUKnqhtLBjwzr0Tz1wJq0kOKJq18ESuVHCWHxwX5DS/UAuzSyqMOw75VbugYAg037Ty9VaYeIONJRsMS9I1qSy5lSa4/MmvIskMKnDdXTFQCQeNq/WH3wRF80lZIpoxjMQUb1XtJ1eA66kyO51SBCrdWO7VJeEIxy2CYItejYMUODCWHhoxHQF4oEOqW92huhICtgxgdgPhxiL25JkhXEx3QjMBJUhwlscJ5Bu0cAMt4lUusGACHChU4aBQCIdwYckJZuhKFE7hve9NsDH+hPnKB6IwB0VkAhfoo1sNzUICV8DvcFQDgQgAEESN4e8qwthE975histthRPgGEcWhWHAbVyCXZ4hAYi4Mghi6CwzrOOXVwjQg0XgwhbMeIaHBjUOWFxBLQZIxecIsrtwyZFqLwjDIDCRiuH9bXkCuIQ3FEKOVLjAMwMoQAK4UqFBRnBgP/wKDBaRClh4I2AG+cYpdPAerxBiGoOK31dUMIhUxMIa2qDGG/3XlUbIDSHfqAXIyrIE/ERQgmopgBlwUYtT9nAiuiAhV0bFFQKk4RixFFpXmJAKXvTvmSRR3rkE8EKFyCZSX7mgM8DpK/B5BQF/SAW32DmQcOBiAV3+SYP2GrcEXvRKll2hwSe8CTBzsuJyVOTELxECDlHUx26pQN4xrxZHroxrRQ25Bjq5kggfjO5LhNTmuUggCFsioxthPAhWvuaZzC1kHKegguB6UJ6JXs2dXImCK6BBz4lIg1lcKcAn1HAuBpRikgMBaIgEAANFVsITslBpF70StoUUil5ekcNtbPqrUCIgFcx4IzCdkUOuiMAVjQBLI54RUq98IC3GEhEACLCxg4zDazcz0EK0cU+waIIbPY0IKAt2GofwJAld+cEpcGE/Ec2BGN+RpQkqsRpj8YsMV2TYQUNU1ZeuApK4EKvA4ggAYQV2IqoIXOPAkApNsLJxAKD+ApuSWqwBmGAUougCBqq4WkcSJHmQrIReDbo8AmCGqzhtly5Ea1dX2I9fBmCA9QQQg1bkSJaJk0UrgGdFlW72XJ01Z8nAElqbUnSChDEtRLyRitgZq4FbqdAvCwmAEvhTaiEyYSpb2BXhMmQc/KXacRuykaIl12DMNcg2EPEWAFyCrROD4lagdi3GCSAMmf3tVMG7UGBumF/l/W9iZqEJT5g4F8dIKXYqql6HfCMZcmgwHYRBrK4Q4LYAy9i59PvIvP4Xr+cacELGEQ5epGINKDCAASywBEzkgqfYObCMHtLHP3IlCSlZG1e6QAtFSbi+UdMxVzDsXS+iq8Nl9kr+iM0Zi0yoAL4DWIAePHFKZHqlxQQeRQ+09b6SOMyGOlgPwkJ4XzGH63GovApw80pP2IgzyIk2yDikkYoVYIkAVAyiAQpxi/wM1m5T/m+8dGGCrszBGhRRRrE0QJVupULCA9iULnKBCwuHoRQFJMh+zIyJUkQ1IbtWMy4ynEpbkAFLsMVk40yAi2jYuWfSY4ilTsIAYx0iF7k4BSkyYSyh4iIWwNiz4AiwiE5AcgAEAAEPdX2HstDVtwaBRh3SOYAxwLsglXxo+cBCgEHgjyJSLqhVh7GEnxgLAhGQBCg2UO24qoAXvdjglW6Qily4Byx0sBZBoIGLUoeIAZ4gdkH+XLI3r0BAFCInCDVEARcqhuEX/4DGME4RSgN4YhjCkPYyzhgiACyBFacg6lf+wAv2ltyQ1qSFMCTulVQAdiKn8MKVgBBthMDUysYyQk0TEo6NpukKOcdGH36wAf/84Aowt2o4XLFGOQLiGMrIhHu3wiFtwNTCAqDENtjbcK6koGUMs8YgrmQGYDD3G8LQZhrepxBqrI8tYoD5NUzxXGOhKA05NydFakGnpuPLFUdv3A92ca0/kyoV4vgGKSrLLyPAyyKw6cbjZSYNj2Bj9myEZUZIkorQl6UQ+PuGKmS6JwjgYhtWPUkq3taVDaQkgTpMSbu7woGUZKgrV4hJFZ7+wH3uY6ImqaBC95/gBMisJDnYOcV21IKCZl/tF4lgnxFI0dNx4AK+VEM2b8NFgJ9Ik978dyVDkWlyhSUGCBWNU4AEiBQ4QRLWkAqs906C8EH/wF749BVrwHjmRBb7J0f41xX7AheWkRdUlCZ7UlhXMwqXEIFbgQB6oAt1dhWkoALpNAiwlHwmuBaTMYKScSUaIgBCBiGjkApmsAIIUAAVwASUoAvXUCm8gHdAiFQbWBkhyIOB0YEkaHMSQxHSgAqrkAqukAqt4AzVMEPLABOB9Q2lgQvmt4Zu+IbPBBvxghsSQ4d0GC8iZod6qIdzuId++IeAGBt9GIh22IfmdYgGiJiIEBEQADs=",dde="/assets/logo-1e2sNsQM.mp4",fde="/assets/logo-CDt7pIML.webm",hde="/assets/pride-CMcO3nTB.png";var RR;(RR=global.location)!=null&&RR.search.includes("pride")&&Ve.session.setItem("pride","true");function qw(e){const[t]=$e(Zn);return t?null:f.jsxs(pde,{children:[Ve.session.getItem("pride")==="true"&&f.jsx(gde,{as:"img",src:hde,alt:"AllKaraoke Pride logo part 1"}),f.jsxs(fN,{...e,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,children:[f.jsx("source",{src:fde,type:"video/webm"}),f.jsx("source",{src:dde,type:"video/mp4"})]}),f.jsx(mde,{src:ude,alt:"AllKaraoke Pride logo part 2"})]})}const fN=C("video",{target:"e1roxo0y3"})({name:"ijjmcg",styles:"width:66rem;height:16.4rem"}),pde=C("div",{target:"e1roxo0y2"})({name:"v1a7wk",styles:"position:relative;height:16.4rem;view-transition-name:logo"}),gde=C(fN,{target:"e1roxo0y1"})({name:"a4hmbt",styles:"position:absolute"}),mde=C("img",{target:"e1roxo0y0"})({name:"o53wk6",styles:"position:absolute;width:13.7rem;height:5.1rem;bottom:-0.5rem;right:-1rem"});function Gw(){return"chrome"in window}function vde(){return f.jsx(f.Fragment,{children:!Gw()&&f.jsxs(yde,{children:[f.jsxs("h2",{children:["This game is tested in ",f.jsx("strong",{children:"Google Chrome"})," and ",f.jsx("strong",{children:"MS Edge"}),"."]}),"It's not guaranteed to work on other browsers (like the one you use now)."]})})}const yde=C("div",{target:"e95w1v80"})("width:100%;",Ne,";text-align:center;background:darkred;padding:3rem 0;margin-top:1rem;h2{margin-top:0;}strong{color:",he.colors.text.active,";}");function hN(){return f.jsx(f.Fragment,{children:f.jsx(Ade,{href:"https://github.com/Asvarox/allkaraoke","aria-label":"View source on GitHub",target:"_blank",rel:"noreferrer",children:f.jsxs("svg",{width:"80",height:"80",viewBox:"0 0 250 250",style:{fill:"#151513",color:"#fff",position:"absolute",top:0,border:0,left:0,transform:"scale(-1, 1)"},"aria-hidden":"true",children:[f.jsx("path",{d:"M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"}),f.jsx("path",{d:"M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2",fill:"currentColor",style:{transformOrigin:"13rem 10.6rem"},className:"octo-arm"}),f.jsx("path",{d:"M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z",fill:"currentColor",className:"octo-body"})]})})})}const Ade=C("a",{target:"e12hl2500"})({name:"zmsk2c",styles:"&:hover .octo-arm{animation:octocat-wave 560ms ease-in-out;}@keyframes octocat-wave{0 %,100%{transform:rotate(0);}20%,60%{transform:rotate(-25deg);}40%,80%{transform:rotate(10deg);}}@media (max-width: 500px){&:hover .octo-arm{animation:none;}.octo-arm{animation:octocat-wave 560ms ease-in-out;}}view-transition-name:github-ribbon"});function ya({children:e,supportedBrowsers:t}){return Eo(!0),f.jsxs(To,{children:[f.jsx(hN,{}),f.jsxs(_de,{children:[f.jsx(qw,{}),t&&f.jsx(vde,{}),f.jsx(fs,{children:e})]})]})}const _de=C("div",{target:"el1pskx0"})({name:"2e2gqg",styles:"display:flex;flex-direction:column;align-items:center;width:100vw;height:100vh;overflow:auto"});function Aa(e){const[t]=$e(Jf),[n]=$e(Ub),r=t==="christmas"?V3:n==="Classic"?O3:j3;_.useEffect(()=>{e?r.playing()||r.play(!1):r.stop()},[e])}function bde(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var pN=_,xde=bde(pN);function uP(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sde(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var wde=!!(typeof window<"u"&&window.document&&window.document.createElement);function Ede(e,t,n){if(typeof e!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof t!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof n<"u"&&typeof n!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function r(i){return i.displayName||i.name||"Component"}return function(s){if(typeof s!="function")throw new Error("Expected WrappedComponent to be a React component.");var o=[],a;function l(){a=e(o.map(function(u){return u.props})),c.canUseDOM?t(a):n&&(a=n(a))}var c=function(u){Sde(d,u);function d(){return u.apply(this,arguments)||this}d.peek=function(){return a},d.rewind=function(){if(d.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var g=a;return a=void 0,o=[],g};var h=d.prototype;return h.UNSAFE_componentWillMount=function(){o.push(this),l()},h.componentDidUpdate=function(){l()},h.componentWillUnmount=function(){var g=o.indexOf(this);o.splice(g,1),l()},h.render=function(){return xde.createElement(s,this.props)},d}(pN.PureComponent);return uP(c,"displayName","SideEffect("+r(s)+")"),uP(c,"canUseDOM",wde),c}}var kde=Ede;const Cde=lr(kde);var Tde=typeof Element<"u",Ide=typeof Map=="function",Pde=typeof Set=="function",Rde=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function fg(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,i;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!fg(e[r],t[r]))return!1;return!0}var s;if(Ide&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(s=e.entries();!(r=s.next()).done;)if(!t.has(r.value[0]))return!1;for(s=e.entries();!(r=s.next()).done;)if(!fg(r.value[1],t.get(r.value[0])))return!1;return!0}if(Pde&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(s=e.entries();!(r=s.next()).done;)if(!t.has(r.value[0]))return!1;return!0}if(Rde&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;if(Tde&&e instanceof Element)return!1;for(r=n;r--!==0;)if(!((i[r]==="_owner"||i[r]==="__v"||i[r]==="__o")&&e.$$typeof)&&!fg(e[i[r]],t[i[r]]))return!1;return!0}return e!==e&&t!==t}var Mde=function(t,n){try{return fg(t,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const jde=lr(Mde);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var dP=Object.getOwnPropertySymbols,Ode=Object.prototype.hasOwnProperty,Vde=Object.prototype.propertyIsEnumerable;function Lde(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function Nde(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(s){return t[s]});if(r.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(s){i[s]=s}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var $de=Nde()?Object.assign:function(e,t){for(var n,r=Lde(e),i,s=1;s<arguments.length;s++){n=Object(arguments[s]);for(var o in n)Ode.call(n,o)&&(r[o]=n[o]);if(dP){i=dP(n);for(var a=0;a<i.length;a++)Vde.call(n,i[a])&&(r[i[a]]=n[i[a]])}}return r};const Dde=lr($de);var tl={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},Be={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(Be).map(function(e){return Be[e]});var zt={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},Cm={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},Ff={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},Bde=Object.keys(Cm).reduce(function(e,t){return e[Cm[t]]=t,e},{}),Fde=[Be.NOSCRIPT,Be.SCRIPT,Be.STYLE],Zi="data-react-helmet",zde=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ude=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},Hde=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Sr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qde=function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},fP=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},Gde=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e},D_=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},Wde=function(t){var n=Fc(t,Be.TITLE),r=Fc(t,Ff.TITLE_TEMPLATE);if(r&&n)return r.replace(/%s/g,function(){return Array.isArray(n)?n.join(""):n});var i=Fc(t,Ff.DEFAULT_TITLE);return n||i||void 0},Yde=function(t){return Fc(t,Ff.ON_CHANGE_CLIENT_STATE)||function(){}},rA=function(t,n){return n.filter(function(r){return typeof r[t]<"u"}).map(function(r){return r[t]}).reduce(function(r,i){return Sr({},r,i)},{})},Kde=function(t,n){return n.filter(function(r){return typeof r[Be.BASE]<"u"}).map(function(r){return r[Be.BASE]}).reverse().reduce(function(r,i){if(!r.length)for(var s=Object.keys(i),o=0;o<s.length;o++){var a=s[o],l=a.toLowerCase();if(t.indexOf(l)!==-1&&i[l])return r.concat(i)}return r},[])},nd=function(t,n,r){var i={};return r.filter(function(s){return Array.isArray(s[t])?!0:(typeof s[t]<"u"&&Zde("Helmet: "+t+' should be of type "Array". Instead found type "'+zde(s[t])+'"'),!1)}).map(function(s){return s[t]}).reverse().reduce(function(s,o){var a={};o.filter(function(h){for(var p=void 0,g=Object.keys(h),m=0;m<g.length;m++){var A=g[m],v=A.toLowerCase();n.indexOf(v)!==-1&&!(p===zt.REL&&h[p].toLowerCase()==="canonical")&&!(v===zt.REL&&h[v].toLowerCase()==="stylesheet")&&(p=v),n.indexOf(A)!==-1&&(A===zt.INNER_HTML||A===zt.CSS_TEXT||A===zt.ITEM_PROP)&&(p=A)}if(!p||!h[p])return!1;var y=h[p].toLowerCase();return i[p]||(i[p]={}),a[p]||(a[p]={}),i[p][y]?!1:(a[p][y]=!0,!0)}).reverse().forEach(function(h){return s.push(h)});for(var l=Object.keys(a),c=0;c<l.length;c++){var u=l[c],d=Dde({},i[u],a[u]);i[u]=d}return s},[]).reverse()},Fc=function(t,n){for(var r=t.length-1;r>=0;r--){var i=t[r];if(i.hasOwnProperty(n))return i[n]}return null},Qde=function(t){return{baseTag:Kde([zt.HREF,zt.TARGET],t),bodyAttributes:rA(tl.BODY,t),defer:Fc(t,Ff.DEFER),encode:Fc(t,Ff.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:rA(tl.HTML,t),linkTags:nd(Be.LINK,[zt.REL,zt.HREF],t),metaTags:nd(Be.META,[zt.NAME,zt.CHARSET,zt.HTTPEQUIV,zt.PROPERTY,zt.ITEM_PROP],t),noscriptTags:nd(Be.NOSCRIPT,[zt.INNER_HTML],t),onChangeClientState:Yde(t),scriptTags:nd(Be.SCRIPT,[zt.SRC,zt.INNER_HTML],t),styleTags:nd(Be.STYLE,[zt.CSS_TEXT],t),title:Wde(t),titleAttributes:rA(tl.TITLE,t)}},B_=function(){var e=Date.now();return function(t){var n=Date.now();n-e>16?(e=n,t(n)):setTimeout(function(){B_(t)},0)}}(),hP=function(t){return clearTimeout(t)},Jde=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||B_:global.requestAnimationFrame||B_,Xde=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||hP:global.cancelAnimationFrame||hP,Zde=function(t){return console&&typeof console.warn=="function"&&console.warn(t)},rd=null,efe=function(t){rd&&Xde(rd),t.defer?rd=Jde(function(){pP(t,function(){rd=null})}):(pP(t),rd=null)},pP=function(t,n){var r=t.baseTag,i=t.bodyAttributes,s=t.htmlAttributes,o=t.linkTags,a=t.metaTags,l=t.noscriptTags,c=t.onChangeClientState,u=t.scriptTags,d=t.styleTags,h=t.title,p=t.titleAttributes;F_(Be.BODY,i),F_(Be.HTML,s),tfe(h,p);var g={baseTag:Kl(Be.BASE,r),linkTags:Kl(Be.LINK,o),metaTags:Kl(Be.META,a),noscriptTags:Kl(Be.NOSCRIPT,l),scriptTags:Kl(Be.SCRIPT,u),styleTags:Kl(Be.STYLE,d)},m={},A={};Object.keys(g).forEach(function(v){var y=g[v],b=y.newTags,S=y.oldTags;b.length&&(m[v]=b),S.length&&(A[v]=g[v].oldTags)}),n&&n(),c(t,m,A)},gN=function(t){return Array.isArray(t)?t.join(""):t},tfe=function(t,n){typeof t<"u"&&document.title!==t&&(document.title=gN(t)),F_(Be.TITLE,n)},F_=function(t,n){var r=document.getElementsByTagName(t)[0];if(r){for(var i=r.getAttribute(Zi),s=i?i.split(","):[],o=[].concat(s),a=Object.keys(n),l=0;l<a.length;l++){var c=a[l],u=n[c]||"";r.getAttribute(c)!==u&&r.setAttribute(c,u),s.indexOf(c)===-1&&s.push(c);var d=o.indexOf(c);d!==-1&&o.splice(d,1)}for(var h=o.length-1;h>=0;h--)r.removeAttribute(o[h]);s.length===o.length?r.removeAttribute(Zi):r.getAttribute(Zi)!==a.join(",")&&r.setAttribute(Zi,a.join(","))}},Kl=function(t,n){var r=document.head||document.querySelector(Be.HEAD),i=r.querySelectorAll(t+"["+Zi+"]"),s=Array.prototype.slice.call(i),o=[],a=void 0;return n&&n.length&&n.forEach(function(l){var c=document.createElement(t);for(var u in l)if(l.hasOwnProperty(u))if(u===zt.INNER_HTML)c.innerHTML=l.innerHTML;else if(u===zt.CSS_TEXT)c.styleSheet?c.styleSheet.cssText=l.cssText:c.appendChild(document.createTextNode(l.cssText));else{var d=typeof l[u]>"u"?"":l[u];c.setAttribute(u,d)}c.setAttribute(Zi,"true"),s.some(function(h,p){return a=p,c.isEqualNode(h)})?s.splice(a,1):o.push(c)}),s.forEach(function(l){return l.parentNode.removeChild(l)}),o.forEach(function(l){return r.appendChild(l)}),{oldTags:s,newTags:o}},mN=function(t){return Object.keys(t).reduce(function(n,r){var i=typeof t[r]<"u"?r+'="'+t[r]+'"':""+r;return n?n+" "+i:i},"")},nfe=function(t,n,r,i){var s=mN(r),o=gN(n);return s?"<"+t+" "+Zi+'="true" '+s+">"+D_(o,i)+"</"+t+">":"<"+t+" "+Zi+'="true">'+D_(o,i)+"</"+t+">"},rfe=function(t,n,r){return n.reduce(function(i,s){var o=Object.keys(s).filter(function(c){return!(c===zt.INNER_HTML||c===zt.CSS_TEXT)}).reduce(function(c,u){var d=typeof s[u]>"u"?u:u+'="'+D_(s[u],r)+'"';return c?c+" "+d:d},""),a=s.innerHTML||s.cssText||"",l=Fde.indexOf(t)===-1;return i+"<"+t+" "+Zi+'="true" '+o+(l?"/>":">"+a+"</"+t+">")},"")},vN=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(r,i){return r[Cm[i]||i]=t[i],r},n)},ife=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(r,i){return r[Bde[i]||i]=t[i],r},n)},sfe=function(t,n,r){var i,s=(i={key:n},i[Zi]=!0,i),o=vN(r,s);return[Pe.createElement(Be.TITLE,o,n)]},ofe=function(t,n){return n.map(function(r,i){var s,o=(s={key:i},s[Zi]=!0,s);return Object.keys(r).forEach(function(a){var l=Cm[a]||a;if(l===zt.INNER_HTML||l===zt.CSS_TEXT){var c=r.innerHTML||r.cssText;o.dangerouslySetInnerHTML={__html:c}}else o[l]=r[a]}),Pe.createElement(t,o)})},qs=function(t,n,r){switch(t){case Be.TITLE:return{toComponent:function(){return sfe(t,n.title,n.titleAttributes)},toString:function(){return nfe(t,n.title,n.titleAttributes,r)}};case tl.BODY:case tl.HTML:return{toComponent:function(){return vN(n)},toString:function(){return mN(n)}};default:return{toComponent:function(){return ofe(t,n)},toString:function(){return rfe(t,n,r)}}}},yN=function(t){var n=t.baseTag,r=t.bodyAttributes,i=t.encode,s=t.htmlAttributes,o=t.linkTags,a=t.metaTags,l=t.noscriptTags,c=t.scriptTags,u=t.styleTags,d=t.title,h=d===void 0?"":d,p=t.titleAttributes;return{base:qs(Be.BASE,n,i),bodyAttributes:qs(tl.BODY,r,i),htmlAttributes:qs(tl.HTML,s,i),link:qs(Be.LINK,o,i),meta:qs(Be.META,a,i),noscript:qs(Be.NOSCRIPT,l,i),script:qs(Be.SCRIPT,c,i),style:qs(Be.STYLE,u,i),title:qs(Be.TITLE,{title:h,titleAttributes:p},i)}},afe=function(t){var n,r;return r=n=function(i){qde(s,i);function s(){return Ude(this,s),Gde(this,i.apply(this,arguments))}return s.prototype.shouldComponentUpdate=function(a){return!jde(this.props,a)},s.prototype.mapNestedChildrenToProps=function(a,l){if(!l)return null;switch(a.type){case Be.SCRIPT:case Be.NOSCRIPT:return{innerHTML:l};case Be.STYLE:return{cssText:l}}throw new Error("<"+a.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},s.prototype.flattenArrayTypeChildren=function(a){var l,c=a.child,u=a.arrayTypeChildren,d=a.newChildProps,h=a.nestedChildren;return Sr({},u,(l={},l[c.type]=[].concat(u[c.type]||[],[Sr({},d,this.mapNestedChildrenToProps(c,h))]),l))},s.prototype.mapObjectTypeChildren=function(a){var l,c,u=a.child,d=a.newProps,h=a.newChildProps,p=a.nestedChildren;switch(u.type){case Be.TITLE:return Sr({},d,(l={},l[u.type]=p,l.titleAttributes=Sr({},h),l));case Be.BODY:return Sr({},d,{bodyAttributes:Sr({},h)});case Be.HTML:return Sr({},d,{htmlAttributes:Sr({},h)})}return Sr({},d,(c={},c[u.type]=Sr({},h),c))},s.prototype.mapArrayTypeChildrenToProps=function(a,l){var c=Sr({},l);return Object.keys(a).forEach(function(u){var d;c=Sr({},c,(d={},d[u]=a[u],d))}),c},s.prototype.warnOnInvalidChildren=function(a,l){return!0},s.prototype.mapChildrenToProps=function(a,l){var c=this,u={};return Pe.Children.forEach(a,function(d){if(!(!d||!d.props)){var h=d.props,p=h.children,g=fP(h,["children"]),m=ife(g);switch(c.warnOnInvalidChildren(d,p),d.type){case Be.LINK:case Be.META:case Be.NOSCRIPT:case Be.SCRIPT:case Be.STYLE:u=c.flattenArrayTypeChildren({child:d,arrayTypeChildren:u,newChildProps:m,nestedChildren:p});break;default:l=c.mapObjectTypeChildren({child:d,newProps:l,newChildProps:m,nestedChildren:p});break}}}),l=this.mapArrayTypeChildrenToProps(u,l),l},s.prototype.render=function(){var a=this.props,l=a.children,c=fP(a,["children"]),u=Sr({},c);return l&&(u=this.mapChildrenToProps(l,u)),Pe.createElement(t,u)},Hde(s,null,[{key:"canUseDOM",set:function(a){t.canUseDOM=a}}]),s}(Pe.Component),n.propTypes={base:ze.object,bodyAttributes:ze.object,children:ze.oneOfType([ze.arrayOf(ze.node),ze.node]),defaultTitle:ze.string,defer:ze.bool,encodeSpecialCharacters:ze.bool,htmlAttributes:ze.object,link:ze.arrayOf(ze.object),meta:ze.arrayOf(ze.object),noscript:ze.arrayOf(ze.object),onChangeClientState:ze.func,script:ze.arrayOf(ze.object),style:ze.arrayOf(ze.object),title:ze.string,titleAttributes:ze.object,titleTemplate:ze.string},n.defaultProps={defer:!0,encodeSpecialCharacters:!0},n.peek=t.peek,n.rewind=function(){var i=t.rewind();return i||(i=yN({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),i},r},lfe=function(){return null},cfe=Cde(Qde,efe,yN)(lfe),ei=afe(cfe);ei.renderStatic=ei.rewind;const AN=_.forwardRef(({...e},t)=>{const n=_.useRef(null);_.useImperativeHandle(t,()=>n.current);const[r,i]=$e(Id);return f.jsx(ufe,{ref:n,label:"Input lag",value:String(r),onChange:s=>i(+s),type:"number",step:50,min:-2e3,max:2e3,adornment:"ms",onKeyDown:s=>{var o;s.code==="Enter"&&((o=n.current)==null||o.blur())},info:"If the sound is not synchronised with the lyrics, use this to compensate it.",...e})}),ufe=C(Ru,{target:"e1vs2glp0"})({name:"q54eim",styles:"input{text-align:right;}"});function dfe(e){Aa(!1);const t=oi(),n=()=>t("menu/"),{register:r}=Vn({onBackspace:n}),[i,s]=$e(Ss),[o,a]=$e(Ya),[l,c]=$e(Zn),[u,d]=$e(Ub),h=_.useRef(null),[p,g]=_.useState(Qi.getPermissionStatus());_.useEffect(()=>Qi.addListener(b=>{g(b)}),[]);const[m,A]=_.useState(!1),v=()=>{A(!0),Qi.requestPermissions().then(()=>A(!1))};let y="Disabled";return m?y=f.jsx(xh,{size:"0.9em"}):p===null?y="Click to enable":p&&(y="Enabled"),f.jsxs(ya,{children:[f.jsx(ei,{children:f.jsx("title",{children:"Settings | AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsx("h1",{children:"Settings"}),f.jsx(Hr,{...r("graphics-level",()=>s(Za(yj,i))),label:"Graphics",value:i.toUpperCase()}),f.jsx(Hr,{...r("fps-count-level",()=>a(Za(Aj,o))),label:"FPS Count",value:o}),f.jsx(Hr,{...r("background-music-selection",()=>d(Za(Sj,u))),label:"Background Music",value:u}),f.jsx(AN,{ref:h,...r("input-lag",()=>{var b;return(b=h.current)==null?void 0:b.focus()})}),f.jsx("hr",{}),f.jsx(Hr,{...r("camera-access",()=>p?Qi.disable():v()),label:"Enable camera mode",value:y,info:"Record a timelapse video from singing. The recording is not sent nor stored anywhere."}),f.jsx("hr",{}),f.jsx(Hr,{...r("mobile-phone-mode",()=>c(!l)),label:"Mobile Phone Mode",value:l?"Yes":"No",info:"Adjust the game to a smaller screen. Disables option to sing in duets."}),f.jsx("hr",{}),f.jsx(Te,{...r("remote-mics-settings",()=>t("settings/remote-mics/")),size:"small",children:"Remote Microphones Settings"}),f.jsx(Te,{...r("setup-mics-button",()=>t("select-input/")),size:"small",children:"Setup Microphones"}),f.jsx(Te,{...r("manage-songs-button",()=>t("manage-songs/")),size:"small",children:"Manage Songs"}),f.jsx(Te,{...r("back-button",n),children:"Return To Main Menu"})]})}function _N(e){return f.jsxs(ffe,{...e,children:[f.jsx(N_,{}),f.jsx(HL,{})]})}const ffe=C("div",{target:"e1lp2lp80"})({name:"9lr88m",styles:"position:relative;transition:300ms;svg{transition:300ms;width:15rem;height:15rem;}svg:first-of-type{top:1.6rem;left:3.5rem;position:absolute;z-index:100;transform:scaleX(-1);}"});function bN(){const[e,t]=_.useState(!1);return _.useEffect(()=>{const n=setTimeout(()=>{t(!0)},500);return()=>{clearTimeout(n)}},[]),f.jsx(hfe,{visible:e,children:f.jsx(pfe,{})})}const hfe=C("div",{target:"e1ej0ve21"})("transition:500ms;opacity:",e=>e.visible?1:0,";position:fixed;inset:0;display:flex;align-items:center;justify-content:center;"),pfe=C(_N,{target:"e1ej0ve20"})({name:"1wwm3j4",styles:"transform:translate(-1.75rem, -0.8rem) scale(2);svg{animation:pulse 1.25s infinite;@keyframes pulse{0%{scale:1;}33%{scale:1.05;}66%{scale:1;}100%{scale:1;}}}svg:first-of-type{animation-delay:1s;}"}),gfe=_.lazy(()=>h0(()=>import("./ConvertView-DkU97l3J.js"),__vite__mapDeps([0,1]))),xN=e=>f.jsxs(_.Suspense,{fallback:f.jsx(bN,{}),children:[f.jsx(ei,{children:f.jsx("title",{children:"Convert Song | AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsx(gfe,{...e})]});var SN={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(zo,function(){return function(n,r,i){n=n||{};var s=r.prototype,o={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function a(c,u,d,h){return s.fromToBase(c,u,d,h)}i.en.relativeTime=o,s.fromToBase=function(c,u,d,h,p){for(var g,m,A,v=d.$locale().relativeTime||o,y=n.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],b=y.length,S=0;S<b;S+=1){var x=y[S];x.d&&(g=h?i(c).diff(d,x.d,!0):d.diff(c,x.d,!0));var w=(n.rounding||Math.round)(Math.abs(g));if(A=g>0,w<=x.r||!x.r){w<=1&&S>0&&(x=y[S-1]);var E=v[x.l];p&&(w=p(""+w)),m=typeof E=="string"?E.replace("%d",w):E(w,u,x.l,A);break}}if(u)return m;var T=A?v.future:v.past;return typeof T=="function"?T(m):T.replace("%s",m)},s.to=function(c,u){return a(c,u,this,!0)},s.from=function(c,u){return a(c,u,this)};var l=function(c){return c.$u?i.utc():i()};s.toNow=function(c){return this.to(l(this),c)},s.fromNow=function(c){return this.from(l(this),c)}}})})(SN);var mfe=SN.exports;const vfe=lr(mfe),wN=1e3,yfe=e=>e.map(t=>{if(t.notes.length===0)debugger;return{...t,start:t.notes[0].start}}),Afe=e=>{const t=e.notes.at(-1);return t.start+t.length},_fe=(e,t=10)=>{let n=0,r=[];return e.forEach(i=>{i.start-n>t&&(r.push({type:"pause",start:n,end:i.start-t}),n=i.start-t),r.push({...i,start:n}),n=Afe(i)}),r},gP=(e,t)=>({...e,sections:_fe(yfe(e.sections.filter(St)),t)});function bfe(e){const t=Su(e),n=Math.round(wN/t);return{...e,tracks:e.tracks.map(r=>gP(r,n)),mergedTrack:gP(e.mergedTrack,n)}}const xfe=(e,t)=>e.map((n,r)=>St(n)?{...n,start:r===0?0:Math.max(0,n.start+t),notes:n.notes.map(i=>({...i,start:i.start+t}))}:{...n,start:Math.max(0,n.start+t),end:Math.max(0,n.end+t)}),mP=(e,t)=>({...e,sections:xfe(e.sections,t)});function Sfe(e){const t=Su(e),n=Math.round(wN/t),r=Math.floor((e.gap-n*t<0?e.gap:n*t)/t),i=e.gap-r*t;return{...e,gap:i,tracks:e.tracks.map(s=>mP(s,r)),mergedTrack:mP(e.mergedTrack,r)}}function EN(e,t){return Su(t)*e}function gv(e){const t=Math.min(...e.tracks.map(n=>"sections"in n?la(n.sections):n.start));return EN(t,e)+e.gap}function wfe(e){const t=gv(e);return{...e,videoGap:Math.round(Math.max(0,Math.min(e.videoGap??0,t/1e3-15)))}}const Efe=(e,t)=>e.map((n,r)=>St(n)?{...n,start:r===0?0:Math.max(0,n.start-t),notes:n.notes.map(i=>({...i,start:i.start-t}))}:{...n,start:Math.max(0,n.start-t),end:Math.max(0,n.end-t)}).filter(n=>St(n)||n.start-n.end>0),vP=(e,t)=>({...e,sections:Efe(e.sections,t)});function kfe(e){const t=Su(e),n=e.tracks.reduce((o,a,l)=>{const c=la(e.tracks[o].sections),u=la(a.sections);return c>u?l:o},0),r=e.tracks[n].sections.find(St);if(!r)return console.error("There are no notes sections in the song, wat",e.tracks),e;const i=r.start+(r.notes[0].start-r.start),s=Math.floor(e.gap+i*t);return{...e,gap:s,tracks:e.tracks.map(o=>vP(o,i)),mergedTrack:vP(e.mergedTrack,i)}}const Cfe=e=>(e.forEach((t,n)=>{t.lyrics.startsWith(" ")&&(t.lyrics=t.lyrics.trim(),n>0&&(e[n-1].lyrics=e[n-1].lyrics+" "))}),e),yP=e=>({...e,sections:e.sections.map(t=>St(t)?{...t,notes:Cfe(t.notes)}:t)});function Tfe(e){return{...e,tracks:e.tracks.map(yP),mergedTrack:yP(e.mergedTrack)}}const Ife=e=>{let t=kfe(e);return t=Sfe(t),t=bfe(t),t=Tfe(t),t=wfe(t),t};function kN(e){const[t,n]=_.useState(null);return _.useEffect(()=>{$s.get(e).then(r=>n(r&&Ife(r)))},[e]),{data:t}}Xi.extend(vfe);function Pfe(){const e=I0("song");Aa(!1);const t=kN(e??"");return t.data?f.jsxs(Mfe,{children:[f.jsx(ei,{children:f.jsx("title",{children:"Edit Song | AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsxs(Rfe,{children:[f.jsx(vw,{to:"edit/list/",children:f.jsx("a",{children:"Return to the song list"})}),f.jsxs("span",{children:["Editing:"," ",f.jsxs("b",{children:[t.data.artist," - ",t.data.title]})]}),f.jsxs("abbr",{title:t.data.lastUpdate,children:["Last updated: ",f.jsx("b",{children:t.data.lastUpdate?Xi(t.data.lastUpdate).fromNow():"-"})]})]}),f.jsx(xN,{song:t.data})]}):f.jsx(f.Fragment,{children:"Loading"})}const Rfe=C("div",{target:"e104ojv11"})({name:"tv6097",styles:"display:flex;justify-content:space-between;align-items:center;margin-bottom:20px"}),Mfe=C("div",{target:"e104ojv10"})({name:"1u1hal4",styles:"margin:30px auto 0 auto;width:1260px;height:100%;background:white"});var jfe=Math.floor,Ofe=Math.random;function Vfe(e,t){return e+jfe(Ofe()*(t-e+1))}function CN(e,t){var n=-1,r=e.length,i=r-1;for(t=t===void 0?r:t;++n<t;){var s=Vfe(n,i),o=e[s];e[s]=e[n],e[n]=o}return e.length=t,e}function Lfe(e){return CN(q3(e))}function Nfe(e,t){return Cx(t,function(n){return e[n]})}function $fe(e){return e==null?[]:Nfe(e,ah(e))}function Dfe(e){return CN($fe(e))}function Bfe(e){var t=Ci(e)?Lfe:Dfe;return t(e)}var MR;const TN=!((MR=document.getElementById("root"))!=null&&MR.hasChildNodes());function Ww(e){return TN?null:e.children}function vr(e){const t=oi(),n=r=>{e.onClick?e.onClick(r):(r.preventDefault(),t(e.to))};return f.jsx(vw,{...e,onClick:n})}function Ffe(e,t){_.useEffect(()=>{var n,r;(r=(n=e.current)==null?void 0:n.getInternalPlayer())==null||r.setVolume(Math.round((t??.5)*100))},[e,t])}var zfe=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(s=Object.keys(t),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var o=s[i];if(!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n};const Ufe=lr(zfe);var z_={exports:{}},IN;/**
* @link https://github.com/gajus/sister for the canonical source repository
* @license https://github.com/gajus/sister/blob/master/LICENSE BSD 3-Clause
*/IN=function(){var e={},t={};return e.on=function(n,r){var i={name:n,handler:r};return t[n]=t[n]||[],t[n].unshift(i),i},e.off=function(n){var r=t[n.name].indexOf(n);r!==-1&&t[n.name].splice(r,1)},e.trigger=function(n,r){var i=t[n],s;if(i)for(s=i.length;s--;)i[s].handler(r)},e};var Hfe=IN,U_={exports:{}},qfe=function(t,n,r){var i=document.head||document.getElementsByTagName("head")[0],s=document.createElement("script");typeof n=="function"&&(r=n,n={}),n=n||{},r=r||function(){},s.type=n.type||"text/javascript",s.charset=n.charset||"utf8",s.async="async"in n?!!n.async:!0,s.src=t,n.attrs&&Gfe(s,n.attrs),n.text&&(s.text=""+n.text);var o="onload"in s?AP:Wfe;o(s,r),s.onload||AP(s,r),i.appendChild(s)};function Gfe(e,t){for(var n in t)e.setAttribute(n,t[n])}function AP(e,t){e.onload=function(){this.onerror=this.onload=null,t(null,e)},e.onerror=function(){this.onerror=this.onload=null,t(new Error("Failed to load "+this.src),e)}}function Wfe(e,t){e.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,t(null,e))}}(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=qfe,r=i(n);function i(s){return s&&s.__esModule?s:{default:s}}t.default=function(s){var o=new Promise(function(a){if(window.YT&&window.YT.Player&&window.YT.Player instanceof Function){a(window.YT);return}else{var l=window.location.protocol==="http:"?"http:":"https:";(0,r.default)(l+"//www.youtube.com/iframe_api",function(u){u&&s.trigger("error",u)})}var c=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){c&&c(),a(window.YT)}});return o},e.exports=t.default})(U_,U_.exports);var Yfe=U_.exports,H_={exports:{}},q_={exports:{}},G_={exports:{}},zf=1e3,Uf=zf*60,Hf=Uf*60,qf=Hf*24,Kfe=qf*365.25,Qfe=function(e,t){t=t||{};var n=typeof e;if(n==="string"&&e.length>0)return Jfe(e);if(n==="number"&&isNaN(e)===!1)return t.long?Zfe(e):Xfe(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function Jfe(e){if(e=String(e),!(e.length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]),r=(t[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return n*Kfe;case"days":case"day":case"d":return n*qf;case"hours":case"hour":case"hrs":case"hr":case"h":return n*Hf;case"minutes":case"minute":case"mins":case"min":case"m":return n*Uf;case"seconds":case"second":case"secs":case"sec":case"s":return n*zf;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function Xfe(e){return e>=qf?Math.round(e/qf)+"d":e>=Hf?Math.round(e/Hf)+"h":e>=Uf?Math.round(e/Uf)+"m":e>=zf?Math.round(e/zf)+"s":e+"ms"}function Zfe(e){return Ep(e,qf,"day")||Ep(e,Hf,"hour")||Ep(e,Uf,"minute")||Ep(e,zf,"second")||e+" ms"}function Ep(e,t,n){if(!(e<t))return e<t*1.5?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}(function(e,t){t=e.exports=i.debug=i.default=i,t.coerce=l,t.disable=o,t.enable=s,t.enabled=a,t.humanize=Qfe,t.names=[],t.skips=[],t.formatters={};var n;function r(c){var u=0,d;for(d in c)u=(u<<5)-u+c.charCodeAt(d),u|=0;return t.colors[Math.abs(u)%t.colors.length]}function i(c){function u(){if(u.enabled){var d=u,h=+new Date,p=h-(n||h);d.diff=p,d.prev=n,d.curr=h,n=h;for(var g=new Array(arguments.length),m=0;m<g.length;m++)g[m]=arguments[m];g[0]=t.coerce(g[0]),typeof g[0]!="string"&&g.unshift("%O");var A=0;g[0]=g[0].replace(/%([a-zA-Z%])/g,function(y,b){if(y==="%%")return y;A++;var S=t.formatters[b];if(typeof S=="function"){var x=g[A];y=S.call(d,x),g.splice(A,1),A--}return y}),t.formatArgs.call(d,g);var v=u.log||t.log||console.log.bind(console);v.apply(d,g)}}return u.namespace=c,u.enabled=t.enabled(c),u.useColors=t.useColors(),u.color=r(c),typeof t.init=="function"&&t.init(u),u}function s(c){t.save(c),t.names=[],t.skips=[];for(var u=(typeof c=="string"?c:"").split(/[\s,]+/),d=u.length,h=0;h<d;h++)u[h]&&(c=u[h].replace(/\*/g,".*?"),c[0]==="-"?t.skips.push(new RegExp("^"+c.substr(1)+"$")):t.names.push(new RegExp("^"+c+"$")))}function o(){t.enable("")}function a(c){var u,d;for(u=0,d=t.skips.length;u<d;u++)if(t.skips[u].test(c))return!1;for(u=0,d=t.names.length;u<d;u++)if(t.names[u].test(c))return!0;return!1}function l(c){return c instanceof Error?c.stack||c.message:c}})(G_,G_.exports);var ehe=G_.exports;(function(e,t){var n={};t=e.exports=ehe,t.log=s,t.formatArgs=i,t.save=o,t.load=a,t.useColors=r,t.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:l(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function r(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}t.formatters.j=function(c){try{return JSON.stringify(c)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}};function i(c){var u=this.useColors;if(c[0]=(u?"%c":"")+this.namespace+(u?" %c":" ")+c[0]+(u?"%c ":" ")+"+"+t.humanize(this.diff),!!u){var d="color: "+this.color;c.splice(1,0,d,"color: inherit");var h=0,p=0;c[0].replace(/%[a-zA-Z%]/g,function(g){g!=="%%"&&(h++,g==="%c"&&(p=h))}),c.splice(p,0,d)}}function s(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function o(c){try{c==null?t.storage.removeItem("debug"):t.storage.debug=c}catch{}}function a(){var c;try{c=t.storage.debug}catch{}return!c&&typeof process<"u"&&"env"in process&&(c=n.DEBUG),c}t.enable(a());function l(){try{return window.localStorage}catch{}}})(q_,q_.exports);var the=q_.exports,W_={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=["cueVideoById","loadVideoById","cueVideoByUrl","loadVideoByUrl","playVideo","pauseVideo","stopVideo","getVideoLoadedFraction","cuePlaylist","loadPlaylist","nextVideo","previousVideo","playVideoAt","setShuffle","setLoop","getPlaylist","getPlaylistIndex","setOption","mute","unMute","isMuted","setVolume","getVolume","seekTo","getPlayerState","getPlaybackRate","setPlaybackRate","getAvailablePlaybackRates","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getCurrentTime","getDuration","removeEventListener","getVideoUrl","getVideoEmbedCode","getOptions","getOption","addEventListener","destroy","setSize","getIframe"],e.exports=t.default})(W_,W_.exports);var nhe=W_.exports,Y_={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=["ready","stateChange","playbackQualityChange","playbackRateChange","error","apiChange","volumeChange"],e.exports=t.default})(Y_,Y_.exports);var rhe=Y_.exports,K_={exports:{}},Q_={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default={BUFFERING:3,ENDED:0,PAUSED:2,PLAYING:1,UNSTARTED:-1,VIDEO_CUED:5},e.exports=t.default})(Q_,Q_.exports);var ihe=Q_.exports;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=ihe,r=i(n);function i(s){return s&&s.__esModule?s:{default:s}}t.default={pauseVideo:{acceptableStates:[r.default.ENDED,r.default.PAUSED],stateChangeRequired:!1},playVideo:{acceptableStates:[r.default.ENDED,r.default.PLAYING],stateChangeRequired:!1},seekTo:{acceptableStates:[r.default.ENDED,r.default.PLAYING,r.default.PAUSED],stateChangeRequired:!0,timeout:3e3}},e.exports=t.default})(K_,K_.exports);var she=K_.exports;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=the,r=u(n),i=nhe,s=u(i),o=rhe,a=u(o),l=she,c=u(l);function u(p){return p&&p.__esModule?p:{default:p}}var d=(0,r.default)("youtube-player"),h={};h.proxyEvents=function(p){var g={},m=function(E){var T="on"+E.slice(0,1).toUpperCase()+E.slice(1);g[T]=function(L){d('event "%s"',T,L),p.trigger(E,L)}},A=!0,v=!1,y=void 0;try{for(var b=a.default[Symbol.iterator](),S;!(A=(S=b.next()).done);A=!0){var x=S.value;m(x)}}catch(w){v=!0,y=w}finally{try{!A&&b.return&&b.return()}finally{if(v)throw y}}return g},h.promisifyPlayer=function(p){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,m={},A=function(T){g&&c.default[T]?m[T]=function(){for(var L=arguments.length,O=Array(L),N=0;N<L;N++)O[N]=arguments[N];return p.then(function(Q){var M=c.default[T],U=Q.getPlayerState(),P=Q[T].apply(Q,O);return M.stateChangeRequired||Array.isArray(M.acceptableStates)&&M.acceptableStates.indexOf(U)===-1?new Promise(function(I){var z=function j(){var $=Q.getPlayerState(),B=void 0;typeof M.timeout=="number"&&(B=setTimeout(function(){Q.removeEventListener("onStateChange",j),I()},M.timeout)),Array.isArray(M.acceptableStates)&&M.acceptableStates.indexOf($)!==-1&&(Q.removeEventListener("onStateChange",j),clearTimeout(B),I())};Q.addEventListener("onStateChange",z)}).then(function(){return P}):P})}:m[T]=function(){for(var L=arguments.length,O=Array(L),N=0;N<L;N++)O[N]=arguments[N];return p.then(function(Q){return Q[T].apply(Q,O)})}},v=!0,y=!1,b=void 0;try{for(var S=s.default[Symbol.iterator](),x;!(v=(x=S.next()).done);v=!0){var w=x.value;A(w)}}catch(E){y=!0,b=E}finally{try{!v&&S.return&&S.return()}finally{if(y)throw b}}return m},t.default=h,e.exports=t.default})(H_,H_.exports);var ohe=H_.exports;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},r=Hfe,i=c(r),s=Yfe,o=c(s),a=ohe,l=c(a);function c(d){return d&&d.__esModule?d:{default:d}}var u=void 0;t.default=function(d){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,g=(0,i.default)();if(u||(u=(0,o.default)(g)),h.events)throw new Error("Event handlers cannot be overwritten.");if(typeof d=="string"&&!document.getElementById(d))throw new Error('Element "'+d+'" does not exist.');h.events=l.default.proxyEvents(g);var m=new Promise(function(v){if((typeof d>"u"?"undefined":n(d))==="object"&&d.playVideo instanceof Function){var y=d;v(y)}else u.then(function(b){var S=new b.Player(d,h);return g.on("ready",function(){v(S)}),null})}),A=l.default.promisifyPlayer(m,p);return A.on=g.on,A.off=g.off,A},e.exports=t.default})(z_,z_.exports);var ahe=z_.exports;const lhe=lr(ahe);var che=Object.defineProperty,uhe=Object.defineProperties,dhe=Object.getOwnPropertyDescriptors,_P=Object.getOwnPropertySymbols,fhe=Object.prototype.hasOwnProperty,hhe=Object.prototype.propertyIsEnumerable,bP=(e,t,n)=>t in e?che(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,J_=(e,t)=>{for(var n in t||(t={}))fhe.call(t,n)&&bP(e,n,t[n]);if(_P)for(var n of _P(t))hhe.call(t,n)&&bP(e,n,t[n]);return e},X_=(e,t)=>uhe(e,dhe(t)),phe=(e,t,n)=>new Promise((r,i)=>{var s=l=>{try{a(n.next(l))}catch(c){i(c)}},o=l=>{try{a(n.throw(l))}catch(c){i(c)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(s,o);a((n=n.apply(e,t)).next())});function ghe(e,t){var n,r;if(e.videoId!==t.videoId)return!0;const i=((n=e.opts)==null?void 0:n.playerVars)||{},s=((r=t.opts)==null?void 0:r.playerVars)||{};return i.start!==s.start||i.end!==s.end}function xP(e={}){return X_(J_({},e),{height:0,width:0,playerVars:X_(J_({},e.playerVars),{autoplay:0,start:0,end:0})})}function mhe(e,t){return e.videoId!==t.videoId||!Ufe(xP(e.opts),xP(t.opts))}function vhe(e,t){var n,r,i,s;return e.id!==t.id||e.className!==t.className||((n=e.opts)==null?void 0:n.width)!==((r=t.opts)==null?void 0:r.width)||((i=e.opts)==null?void 0:i.height)!==((s=t.opts)==null?void 0:s.height)||e.iframeClassName!==t.iframeClassName||e.title!==t.title}var yhe={videoId:"",id:"",className:"",iframeClassName:"",style:{},title:"",loading:void 0,opts:{},onReady:()=>{},onError:()=>{},onPlay:()=>{},onPause:()=>{},onEnd:()=>{},onStateChange:()=>{},onPlaybackRateChange:()=>{},onPlaybackQualityChange:()=>{}},Ahe={videoId:ze.string,id:ze.string,className:ze.string,iframeClassName:ze.string,style:ze.object,title:ze.string,loading:ze.oneOf(["lazy","eager"]),opts:ze.objectOf(ze.any),onReady:ze.func,onError:ze.func,onPlay:ze.func,onPause:ze.func,onEnd:ze.func,onStateChange:ze.func,onPlaybackRateChange:ze.func,onPlaybackQualityChange:ze.func},hg=class extends Pe.Component{constructor(e){super(e),this.destroyPlayerPromise=void 0,this.onPlayerReady=t=>{var n,r;return(r=(n=this.props).onReady)==null?void 0:r.call(n,t)},this.onPlayerError=t=>{var n,r;return(r=(n=this.props).onError)==null?void 0:r.call(n,t)},this.onPlayerStateChange=t=>{var n,r,i,s,o,a,l,c;switch((r=(n=this.props).onStateChange)==null||r.call(n,t),t.data){case hg.PlayerState.ENDED:(s=(i=this.props).onEnd)==null||s.call(i,t);break;case hg.PlayerState.PLAYING:(a=(o=this.props).onPlay)==null||a.call(o,t);break;case hg.PlayerState.PAUSED:(c=(l=this.props).onPause)==null||c.call(l,t);break}},this.onPlayerPlaybackRateChange=t=>{var n,r;return(r=(n=this.props).onPlaybackRateChange)==null?void 0:r.call(n,t)},this.onPlayerPlaybackQualityChange=t=>{var n,r;return(r=(n=this.props).onPlaybackQualityChange)==null?void 0:r.call(n,t)},this.destroyPlayer=()=>this.internalPlayer?(this.destroyPlayerPromise=this.internalPlayer.destroy().then(()=>this.destroyPlayerPromise=void 0),this.destroyPlayerPromise):Promise.resolve(),this.createPlayer=()=>{if(typeof document>"u")return;if(this.destroyPlayerPromise){this.destroyPlayerPromise.then(this.createPlayer);return}const t=X_(J_({},this.props.opts),{videoId:this.props.videoId});this.internalPlayer=lhe(this.container,t),this.internalPlayer.on("ready",this.onPlayerReady),this.internalPlayer.on("error",this.onPlayerError),this.internalPlayer.on("stateChange",this.onPlayerStateChange),this.internalPlayer.on("playbackRateChange",this.onPlayerPlaybackRateChange),this.internalPlayer.on("playbackQualityChange",this.onPlayerPlaybackQualityChange),(this.props.title||this.props.loading)&&this.internalPlayer.getIframe().then(n=>{this.props.title&&n.setAttribute("title",this.props.title),this.props.loading&&n.setAttribute("loading",this.props.loading)})},this.resetPlayer=()=>this.destroyPlayer().then(this.createPlayer),this.updatePlayer=()=>{var t;(t=this.internalPlayer)==null||t.getIframe().then(n=>{this.props.id?n.setAttribute("id",this.props.id):n.removeAttribute("id"),this.props.iframeClassName?n.setAttribute("class",this.props.iframeClassName):n.removeAttribute("class"),this.props.opts&&this.props.opts.width?n.setAttribute("width",this.props.opts.width.toString()):n.removeAttribute("width"),this.props.opts&&this.props.opts.height?n.setAttribute("height",this.props.opts.height.toString()):n.removeAttribute("height"),this.props.title?n.setAttribute("title",this.props.title):n.setAttribute("title","YouTube video player"),this.props.loading?n.setAttribute("loading",this.props.loading):n.removeAttribute("loading")})},this.getInternalPlayer=()=>this.internalPlayer,this.updateVideo=()=>{var t,n,r,i;if(typeof this.props.videoId>"u"||this.props.videoId===null){(t=this.internalPlayer)==null||t.stopVideo();return}let s=!1;const o={videoId:this.props.videoId};if((n=this.props.opts)!=null&&n.playerVars&&(s=this.props.opts.playerVars.autoplay===1,"start"in this.props.opts.playerVars&&(o.startSeconds=this.props.opts.playerVars.start),"end"in this.props.opts.playerVars&&(o.endSeconds=this.props.opts.playerVars.end)),s){(r=this.internalPlayer)==null||r.loadVideoById(o);return}(i=this.internalPlayer)==null||i.cueVideoById(o)},this.refContainer=t=>{this.container=t},this.container=null,this.internalPlayer=null}componentDidMount(){this.createPlayer()}componentDidUpdate(e){return phe(this,null,function*(){vhe(e,this.props)&&this.updatePlayer(),mhe(e,this.props)&&(yield this.resetPlayer()),ghe(e,this.props)&&this.updateVideo()})}componentWillUnmount(){this.destroyPlayer()}render(){return Pe.createElement("div",{className:this.props.className,style:this.props.style},Pe.createElement("div",{id:this.props.id,className:this.props.iframeClassName,ref:this.refContainer}))}},mv=hg;mv.propTypes=Ahe;mv.defaultProps=yhe;mv.PlayerState={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5};var bs=mv;function _he(e){const[t,n]=_.useState(1);return _.useEffect(()=>{if(e===bs.PlayerState.UNSTARTED){const r=setTimeout(()=>{n(i=>i+1)},5e3+t*2500);return()=>{clearTimeout(r)}}}),t}function bhe(e,t){_.useEffect(()=>{if(t===bs.PlayerState.BUFFERING){const n=setInterval(async()=>{var r,i,s;if(navigator.onLine){clearInterval(n);const o=await((r=e.current)==null?void 0:r.getInternalPlayer().getCurrentTime());(s=(i=e.current)==null?void 0:i.getInternalPlayer())==null||s.seekTo(Math.max(o-2,0),!0)}},500);return()=>{clearInterval(n)}}})}function xhe(e,t){return bhe(e,t),_he(t)}var _n=(e=>(e.UNSTARTED="UNSTARTED",e.ENDED="ENDED",e.PLAYING="PLAYING",e.PAUSED="PAUSED",e.BUFFERING="BUFFERING",e.CUED="CUED",e))(_n||{});const She={[bs.PlayerState.UNSTARTED]:"UNSTARTED",[bs.PlayerState.ENDED]:"ENDED",[bs.PlayerState.PLAYING]:"PLAYING",[bs.PlayerState.PAUSED]:"PAUSED",[bs.PlayerState.BUFFERING]:"BUFFERING",[bs.PlayerState.CUED]:"CUED"},whe=_.forwardRef(function({video:t,autoplay:n,startAt:r,controls:i,disablekb:s,volume:o,width:a,height:l,onStateChange:c},u){const d=_.useRef(null),[h,p]=_.useState(bs.PlayerState.UNSTARTED),g=xhe(d,h);return Ffe(d,o),_.useEffect(()=>{d.current&&d.current.getInternalPlayer().setSize(a,l)},[d,a,l,t,g]),_.useImperativeHandle(u,()=>({setSize:(m,A)=>{var v;return(v=d.current)==null?void 0:v.getInternalPlayer().setSize(m,A)},seekTo:m=>{var A;return(A=d.current)==null?void 0:A.getInternalPlayer().seekTo(m,!0)},setPlaybackSpeed:m=>{var A;return(A=d.current)==null?void 0:A.getInternalPlayer().setPlaybackRate(m)},setVolume:m=>{var A;return(A=d.current)==null?void 0:A.getInternalPlayer().setVolume(m)},getCurrentTime:()=>{var m;return(m=d.current)==null?void 0:m.getInternalPlayer().getCurrentTime()},loadVideoById:m=>{var A;return(A=d.current)==null?void 0:A.getInternalPlayer().loadVideoById(m)},playVideo:()=>{var m;(m=d.current)==null||m.getInternalPlayer().playVideo()},pauseVideo:()=>{var m;return(m=d.current)==null?void 0:m.getInternalPlayer().pauseVideo()},getDuration:()=>{var m;return(m=d.current)==null?void 0:m.getInternalPlayer().getDuration()}})),f.jsx(bs,{title:" ",ref:d,videoId:t,opts:{width:"0",height:"0",playerVars:{autoplay:n?1:0,rel:0,fs:0,controls:i?1:0,start:r??0,end:0,disablekb:s?1:0,modestbranding:1}},onStateChange:m=>{p(m.data),c==null||c(She[m.data])}},`${t}-${g}`)}),Ehe=_.forwardRef(function({video:t,autoplay:n,startAt:r,controls:i,disablekb:s,volume:o,width:a,height:l,onStateChange:c},u){const d=_.useRef(null),[h,p]=_.useState({w:a,h:l}),[g,m]=_.useState(_n.UNSTARTED);_.useEffect(()=>{const v=w=>()=>m(w),y=d.current,b=v(_n.PLAYING),S=v(_n.PAUSED),x=v(_n.ENDED);return y==null||y.addEventListener("playing",b),y==null||y.addEventListener("pause",S),y==null||y.addEventListener("ended",x),()=>{y==null||y.removeEventListener("playing",b),y==null||y.removeEventListener("pause",S),y==null||y.removeEventListener("ended",x)}},[d.current,m]),_.useEffect(()=>{c==null||c(g)},[g,c]);const A=_.useMemo(()=>({setSize:(v,y)=>p({w:v,h:y}),seekTo:v=>(d.current&&(d.current.currentTime=v),v),setPlaybackSpeed:v=>{d.current&&(d.current.playbackRate=v)},setVolume:()=>{},getCurrentTime:()=>{var v;return Promise.resolve(((v=d.current)==null?void 0:v.currentTime)??0)},loadVideoById:()=>{},playVideo:()=>{var v;return(v=d.current)==null?void 0:v.play()},pauseVideo:()=>{var v;return(v=d.current)==null?void 0:v.pause()},getDuration:()=>{var v;return Promise.resolve(((v=d.current)==null?void 0:v.duration)??0)}}),[d]);return _.useEffect(()=>{A.setSize(a,l)},[a,l,A]),_.useEffect(()=>{r!==void 0&&A.seekTo(r)},[r,A]),_.useImperativeHandle(u,()=>A),f.jsx("video",{width:h.w,height:h.h,autoPlay:n??!0,controls:i,ref:d,children:f.jsx("source",{src:t})})}),khe="/assets/dummy-BNC13ZxI.mp4",Che=_.forwardRef(function({video:t,controls:n,...r},i){return f.jsx(Ehe,{ref:i,video:khe,controls:!0,...r})});var The={VITE_APP_SENTRY_DSN_URL:"https://66c6e940d24b4096a277f350571921bb@o366978.ingest.sentry.io/6174734",VITE_APP_POSTHOG_KEY:"phc_bw7XLoONmtGVezmMKTvcwk3lj37jzxTfisqzjlJ0Jik",VITE_APP_BACKEND_HOST:"backend.allkaraoke.party",VITE_APP_WEBSOCKET_URL:"wss://backend.allkaraoke.party",VITE_APP_SENTRY_TUNNEL:"https://backend.allkaraoke.party/sentry",VITE_APP_POSTHOG_PROXY:"https://backend.allkaraoke.party/posthog",VITE_APP_SONG_CONVERT_PROXY:"https://backend.allkaraoke.party/proxy",VITE_CJS_IGNORE_WARNING:"true",VITE_APP_PRERENDER:"true",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const Yw=_.forwardRef((e,t)=>The.VITE_APP_OFFLINE?f.jsx(Che,{...e,ref:t}):f.jsx(whe,{...e,ref:t})),SP=()=>({width:global.document.body.clientWidth,height:global.visualViewport.height});function wh(){const[e,t]=_.useState(SP()),n=_.useCallback(Mc(()=>{t(SP())},1e3),[]);return _.useEffect(()=>(global.addEventListener("resize",n),n(),()=>global.removeEventListener("resize",n)),[]),{...e,handleResize:n}}function PN({songData:e,background:t,width:n,height:r,children:i,...s}){return f.jsxs(Ihe,{video:e.video,width:n,height:r,...s,children:[f.jsx(Rhe,{video:e.video,blur:!0}),t&&f.jsx(RN,{children:t}),f.jsx(Mhe,{children:f.jsxs(jhe,{children:[f.jsx(Ohe,{children:e.title}),f.jsx("br",{}),f.jsx(Vhe,{children:e.artist}),f.jsx("br",{}),e.author&&f.jsxs(Lhe,{children:["by ",e.authorUrl?f.jsx("a",{href:e.authorUrl,children:e.author}):e.author]}),i]})})]})}const Ihe=C("div",{target:"e1kx27c8"})(e=>`
    width: ${e.width}px;
    top: 0;
    height: ${e.height}px;
    overflow-y: hidden;
    background: black;
    position: relative;
`,""),RN=C("div",{target:"e1kx27c7"})({name:"1vuuxha",styles:"z-index:1;top:0;left:0;position:absolute;width:100%;height:100%"}),Phe=C(RN,{target:"e1kx27c6"})("background-size:cover;background-position:center center;filter:",e=>e.blur?"blur(0.5rem)":"none",";"),Rhe=e=>f.jsx(Phe,{style:{backgroundImage:`url('https://i3.ytimg.com/vi/${e.video}/hqdefault.jpg')`},...e}),Mhe=C("div",{target:"e1kx27c5"})({name:"11t99gq",styles:"z-index:2;top:0;left:0;width:100%;height:100%;position:absolute;pointer-events:none"}),jhe=C("div",{target:"e1kx27c4"})({name:"t7r80e",styles:"position:relative;margin:0 auto;color:white;max-width:144rem;height:100%;pointer-events:none"}),vv=C("span",{target:"e1kx27c3"})("background:rgba(0, 0, 0, 0.5);display:inline-block;backdrop-filter:blur(0.5rem);",Ne,";padding:0.5rem 2rem;margin:0 0 1rem 0;"),Ohe=C(vv,{target:"e1kx27c2"})("color:",he.colors.text.active,";margin-top:2rem;font-size:4.5rem;"),Vhe=C(vv,{target:"e1kx27c1"})({name:"tic7nk",styles:"font-size:3.5rem"}),Lhe=C(vv,{target:"e1kx27c0"})({name:"a07gmx",styles:"font-size:2rem"});function Nhe(e){var h;Eo(!1),Aa(!1);const t=oi(),{width:n,height:r}=wh(),[i,s]=_.useState(0),o=Sh(),[a,l]=_.useState([]),{register:c}=Vn({onBackspace:()=>t("menu/")});_.useEffect(()=>o.data&&l(Bfe(o.data)),[o.data]);const u=()=>o.data&&s(p=>(p+1)%o.data.length);if(!a.length||!n||!r)return null;const d=$_("game/",{song:a[i].id,playlist:"All"});return f.jsxs(To,{children:[f.jsx(ei,{children:f.jsx("title",{children:"Jukebox | AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsx(Ww,{children:f.jsxs(PN,{width:n,height:r,songData:a[i],"data-test":"jukebox-container","data-song":a[i].id,background:f.jsx(Yw,{autoplay:!0,controls:!0,width:n,height:r,volume:(h=a[i])==null?void 0:h.volume,video:a[i].video,startAt:a[i].videoGap,onStateChange:p=>{p===_n.ENDED&&u()}}),children:[f.jsx(Dhe,{...c("skip-button",u),children:"Skip"}),f.jsx(vr,{to:d,children:f.jsx($he,{...c("sing-button",()=>t(d),void 0,!0),children:"Sing this song"})})]})})]})}const $he=C(ds,{target:"e1573hk21"})({name:"9gmhgo",styles:"bottom:7rem;right:2rem;width:50rem;position:absolute;font-size:1.9vw"}),Dhe=C(ds,{target:"e1573hk20"})({name:"1qbm012",styles:"bottom:15rem;right:2rem;width:30rem;position:absolute;font-size:1.9vw"}),Bhe=C("h1",{target:"enucs171"})({name:"8n9pib",styles:"display:flex;justify-content:center;align-items:center;position:relative"}),Fhe=C("svg",{target:"enucs170"})({name:"1x5387l",styles:"--curve:cubic-bezier(0.65, 0, 0.45, 1);--green:#4caf50;margin-right:1rem;width:5rem;height:5rem;border-radius:50%;display:block;stroke-width:2;stroke:#fff;stroke-miterlimit:10;box-shadow:inset 0px 0px 0px var(--green);animation:fill 0.4s ease-in-out 0.4s forwards,scale 0.3s ease-in-out 0.9s both;.checkmark__circle{stroke-dasharray:166;stroke-dashoffset:166;stroke-width:2;stroke-miterlimit:10;stroke:var(--green);fill:none;animation:stroke 0.6s var(--curve) forwards;}.checkmark__check{transform-origin:50% 50%;stroke-dasharray:48;stroke-dashoffset:48;animation:stroke 0.3s var(--curve) 0.8s forwards;}@keyframes stroke{100%{stroke-dashoffset:0;}}@keyframes scale{0%,100%{transform:none;}50%{transform:scale3d(1.1, 1.1, 1);}}@keyframes fill{100%{box-shadow:inset 0px 0px 0px 3rem var(--green);}}"}),zhe=e=>f.jsx(Fhe,{...e,children:f.jsxs("svg",{className:"checkmark",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 52 52",children:[f.jsx("circle",{className:"checkmark__circle",cx:"26",cy:"26",r:"25",fill:"none"}),f.jsx("path",{className:"checkmark__check",fill:"none",d:"M14.1 27.2l7.1 7.2 16.7-16.8"})]})});var Kw={},Uhe=Xe;Object.defineProperty(Kw,"__esModule",{value:!0});var Qd=Kw.default=void 0,Hhe=Uhe(nt()),iA=f;Qd=Kw.default=(0,Hhe.default)([(0,iA.jsx)("path",{fillRule:"evenodd",d:"M16.67 13.13C18.04 14.06 19 15.32 19 17v3h4v-3c0-2.18-3.57-3.47-6.33-3.87"},"0"),(0,iA.jsx)("circle",{cx:"9",cy:"8",r:"4",fillRule:"evenodd"},"1"),(0,iA.jsx)("path",{fillRule:"evenodd",d:"M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4c-.47 0-.91.1-1.33.24C14.5 5.27 15 6.58 15 8s-.5 2.73-1.33 3.76c.42.14.86.24 1.33.24m-6 1c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4"},"2")],"PeopleAlt");var Qw={},qhe=Xe;Object.defineProperty(Qw,"__esModule",{value:!0});var Z_=Qw.default=void 0,Ghe=qhe(nt()),Whe=f;Z_=Qw.default=(0,Ghe.default)((0,Whe.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"Person");var Jw={},Yhe=Xe;Object.defineProperty(Jw,"__esModule",{value:!0});var pg=Jw.default=void 0,Khe=Yhe(nt()),Qhe=f;pg=Jw.default=(0,Khe.default)((0,Qhe.jsx)("path",{d:"M15.5 1h-8C6.12 1 5 2.12 5 3.5v17C5 21.88 6.12 23 7.5 23h8c1.38 0 2.5-1.12 2.5-2.5v-17C18 2.12 16.88 1 15.5 1m-4 21c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m4.5-4H7V4h9z"}),"PhoneIphone");var Xw={},Jhe=Xe;Object.defineProperty(Xw,"__esModule",{value:!0});var MN=Xw.default=void 0,Xhe=Jhe(nt()),wP=f;MN=Xw.default=(0,Xhe.default)([(0,wP.jsx)("circle",{cx:"12",cy:"12",r:"3.2"},"0"),(0,wP.jsx)("path",{d:"M9 2 7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5"},"1")],"PhotoCamera");var Zw={},Zhe=Xe;Object.defineProperty(Zw,"__esModule",{value:!0});var jN=Zw.default=void 0,epe=Zhe(nt()),tpe=f;jN=Zw.default=(0,epe.default)((0,tpe.jsx)("path",{d:"M3 11h8V3H3zm2-6h4v4H5zM3 21h8v-8H3zm2-6h4v4H5zm8-12v8h8V3zm6 6h-4V5h4zm0 10h2v2h-2zm-6-6h2v2h-2zm2 2h2v2h-2zm-2 2h2v2h-2zm2 2h2v2h-2zm2-2h2v2h-2zm0-4h2v2h-2zm2 2h2v2h-2z"}),"QrCode");const ON=C("span",{target:"ejt1whd0"})("position:absolute;transform:translate(40%, -50%);top:0;right:0;background:",he.colors.text.active,";font-size:1.5rem;",Ne,";color:",he.colors.text.default,";padding:0.5rem 1rem;border-radius:1.5rem;");function npe({onPreferenceSelected:e,previouslySelected:t,onBack:n,skipText:r}){const[i]=$e(Zn),{register:s}=Vn({onBackspace:n});return f.jsxs(f.Fragment,{children:[f.jsxs(Cp,{...s("remote-mics",()=>e("remoteMics"),void 0,t==="remoteMics"),children:[f.jsxs(xd,{children:[f.jsx(Tw,{}),f.jsx(pg,{})]}),f.jsxs("div",{children:[i?"Connect other phones":"Use Smartphones",f.jsxs(bd,{children:["Use"," ",f.jsxs("strong",{children:[f.jsx(MN,{}),"Camera app"]})," ","to scan a"," ",f.jsxs("strong",{children:[f.jsx(jN,{})," QR code"]})," ","that will open Remote Mic website - no need to download an app!"]})]}),f.jsxs(kp,{children:[f.jsx(Qd,{}),f.jsx("strong",{children:"1-4"})]})]}),f.jsxs(Cp,{...s("built-in",()=>e("built-in"),void 0,t==="built-in"),children:[f.jsxs(xd,{children:[f.jsx(Z_,{}),i?f.jsx(pg,{}):f.jsx(kw,{})]}),f.jsxs("div",{children:["This ",i?"device's":"computer's"," microphone",f.jsxs(bd,{children:["Great to ",f.jsx("strong",{children:"test"})," the app, ",f.jsx("strong",{children:"sing alone"})," or don't care about the rivalry at the party"]})]}),f.jsxs(kp,{children:[f.jsx(Z_,{}),f.jsx("strong",{children:"1"})]})]}),f.jsx("hr",{}),!i&&f.jsxs(Cp,{...s("multiple-mics",()=>e("multiple-mics"),void 0,t==="multiple-mics"),children:[f.jsxs(xd,{children:[f.jsx(N_,{}),f.jsx(HL,{})]}),f.jsxs("div",{children:["Multiple microphones",f.jsxs(bd,{children:["Use either ",f.jsx("strong",{children:"SingStar"})," or ",f.jsx("strong",{children:"multiple microphones"})," connected to the device for each player"]})]}),f.jsx(ON,{children:"New"}),f.jsxs(kp,{children:[f.jsx(Qd,{}),f.jsx("strong",{children:"2"})]})]}),f.jsxs(Cp,{...s("advanced",()=>e("advanced"),void 0,t==="advanced"),children:[f.jsxs(xd,{children:[f.jsx(N_,{}),f.jsx(pg,{})]}),f.jsxs("div",{children:["Advanced (manual) setup",f.jsx(bd,{children:"Assign the specific device to a player manually, e.g. if you don't have regular SingStar microphones."})]}),f.jsxs(kp,{children:[f.jsx(Qd,{}),f.jsx("strong",{children:"1-4"})]})]}),f.jsx("hr",{}),f.jsx(vr,{to:"menu/",onClick:o=>{o==null||o.preventDefault(),e("skip")},children:f.jsx(Te,{as:Ki,...s("skip",()=>e("skip"),void 0,t==="skip"),children:r||"Skip"})})]})}const kp=C("div",{target:"eb2r3ii3"})(Ne,";position:absolute;inset:auto 0.5rem 0.5rem auto;svg{font-size:0.9em;}gap:0.5rem;display:flex;align-items:center;justify-content:flex-end;"),bd=C("div",{target:"eb2r3ii2"})({name:"4vipg7",styles:"padding:0 3rem 0 6rem;font-size:1.6rem;max-height:0;overflow:clip;transition:300ms;svg{font-size:1.4rem;}opacity:0"}),xd=C("div",{target:"eb2r3ii1"})("position:relative;margin:0rem 0.6rem 0 2.5rem;transition:300ms;svg{transition:300ms;width:3.6rem;height:3.6rem;color:",he.colors.players[1].text,";}svg:first-of-type{top:0.6rem;left:1.25rem;position:absolute;color:",he.colors.players[0].text,";z-index:100;transform:scaleX(-1);}"),EP=Ot("height:16.5rem;background:black;",fo,";",bd,"{padding-top:1.6rem;max-height:10rem;opacity:1;opacity:1;}",xd,"{transform:scale(1.75);}",""),Cp=C(Te,{target:"eb2r3ii0"})("position:relative;display:flex;align-items:center;:hover{",EP,";}",e=>e.focused?EP:"",";");function VN(){var e,t;return((t=(e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.includes)==null?void 0:t.call(e,"Win"))??!1}const eE=(e,t,n=!0,r=1e3/Ya.get())=>{_.useEffect(()=>{if(!n)return;const i=setInterval(()=>{const s=sn.getPlayerVolume(e)??0,o=sn.getPlayerFrequency(e)??0;t([s,Array.isArray(o)?o[0]:o])},r);return()=>{clearInterval(i)}},[e,r,t,n])},rpe=(e,t=1e3/Ya.get(),n)=>{const[r,i]=_.useState([0,0]);return eE(e,i,!0,t),_.useEffect(()=>{n&&n(r)},[r,n]),r},LN=e=>_.useMemo(()=>{if(!he.colors.players[e])return"0, 0, 0";const t=fe(he.colors.players[e].text).toRgb();return`${t.r}, ${t.g}, ${t.b}`},[e]),NN=C("div",{target:"eq7cjwi0"})("background:linear-gradient(270deg, rgba(",e=>e.color,", 1) 0%, rgba(",e=>e.color,", 0) 100%);height:100%;width:100%;position:absolute;right:0;top:0;background-repeat:repeat-y;transform-origin:right;z-index:1;pointer-events:none;"),ipe=_.forwardRef(({volume:e,playerNumber:t,...n},r)=>{const i=`${Math.min(1,e*20)}`,s=LN(t);return Re.getPlayer(t)?f.jsx(NN,{color:s,...n,style:{transform:`scaleX(${i})`},ref:r}):null}),tE=({playerNumber:e,...t})=>{const[n,r]=_.useState(),i=_.useCallback(([o])=>{if(n){const a=`${Math.min(1,o*20)}`;n.style.transform=`scaleX(${a})`}},[n]);eE(e,i);const s=LN(e);return f.jsx(NN,{...t,color:s,ref:r})};function spe(e,t){const n=Object.keys(t),[r,i]=Ti([te.playerInputChanged,te.inputListChanged],()=>{var l;const a=(l=Re.getPlayer(e))==null?void 0:l.input;return a?[a,uo.getInputForPlayerSelected(a)]:[null,null]});_.useEffect(()=>{var a;if(i===null){const l=n[0],c=t[l].getDefault();c&&((a=Re.getPlayer(e))==null||a.changeInput(n[0],c.channel,c.deviceId))}});const s=a=>{var u;const l=Za(n,(r==null?void 0:r.source)??n[0]),c=a!==void 0?t[l].list[a]:t[l].getDefault();(u=Re.getPlayer(e))==null||u.changeInput(l,c==null?void 0:c.channel,c==null?void 0:c.deviceId)},o=()=>{var u;if(!r)return;const a=t[r.source].list,l=i?a.findIndex(d=>d.id===i.id):0,c=bh(a,l);if(c===0)s(0);else{const d=a[c];(u=Re.getPlayer(e))==null||u.changeInput(r.source,d==null?void 0:d.channel,d==null?void 0:d.deviceId)}};return[(r==null?void 0:r.source)??null,s,i,o]}const $N=e=>{const t=e.player,[n,r,i,s]=spe(t.number,e.inputs);return f.jsxs(f.Fragment,{children:[e.blockSourceChange?f.jsxs(cpe,{children:[f.jsxs("h3",{className:"ph-no-capture",children:[t.getName()," Input"]}),f.jsx("h4",{children:"(click to change)"})]}):f.jsx(lpe,{...e.readonly?{}:e.register(`player-${t.number}-source`,()=>r()),label:f.jsxs("span",{className:"ph-no-capture",children:[t.getName()," Source"]}),value:n,disabled:e.readonly}),f.jsx(ape,{...e.readonly?{}:e.register(`player-${t.number}-input`,s),label:"Input",disabled:e.readonly,value:i==null?void 0:i.label,children:f.jsx(ope,{playerNumber:t.number})})]})},ope=C(tE,{target:"e6monco3"})({name:"1vx2200",styles:"opacity:0.75;width:50%;height:calc(100% - 0.5rem);margin:0.25rem"}),ape=C(Hr,{target:"e6monco2"})({name:"bjn8wh",styles:"position:relative"}),lpe=C(Hr,{target:"e6monco1"})({name:"bigtx2",styles:"background:none"}),cpe=C("div",{target:"e6monco0"})({name:"1laz9o6",styles:"display:flex;justify-content:space-between;align-items:flex-end"});function yv(e=!1,t){const n=Ti(te.inputListChanged,()=>{const r={...uo.getInputList()};if(t)return{[t]:r[t]};for(const i in r)r[i].list.length===0&&delete r[i];return r});return _.useEffect(()=>{e&&uo.loadMics()},[e]),n}function Eh(e,t=Fg){_.useEffect(()=>{Re.setMinPlayerNumber(e);const n=Re.getPlayers();if(n.length>t)for(let r=n.length;r>t;r--)Re.removePlayer(n[r-1].number);else if(n.length<e){const r=Re.getPlayers().map(s=>s.number),i=Array.from(Array(Fg).keys()).filter(s=>!r.includes(s));console.log(i,r);for(let s=n.length;s<e;s++)Re.addPlayer(i.shift())}},[])}function DN(){const e=_.useRef(0);Jr(te.remoteMicConnected,({id:t})=>{var r;console.log("useRemoteMicAutoselect",t);const n=Re.getPlayer(e.current);n?n.changeInput(co.inputName,0,t):(r=Re.addPlayer(e.current))==null||r.changeInput(co.inputName,0,t),e.current=(e.current+1)%Fg})}function upe(e){Eh(2);const t=yv(!0),n=Sw();_.useEffect(()=>{e.onSetupComplete(n==="accepted")},[n]),DN();const{register:r}=Vn({onBackspace:e.onBack}),s=Ti(te.playerInputChanged,()=>Re.getInputs()).filter(a=>a.source===io.inputName),o=Ti([te.inputListChanged,te.playerInputChanged,te.playerRemoved],()=>Re.getPlayers());return f.jsxs(f.Fragment,{children:[f.jsxs(_h,{fallback:f.jsx("h2",{children:"Please allow access to the microphone so we can show them."}),children:[f.jsx(yw,{}),o.map((a,l)=>f.jsx($N,{inputs:t,player:a,register:r,readonly:l>1},a.number)),f.jsx("hr",{}),s.length>1&&Gw()&&VN()&&f.jsxs("h3",{children:[f.jsx("strong",{children:"Chrome"})," is known for not handling SingStar mics well. If you notice any problems, try using an alternative browser (eg. ",f.jsx("strong",{children:"MS Edge"})," or ",f.jsx("strong",{children:"Firefox"}),")"]})]}),f.jsx(Te,{...r("back-button",e.onBack),children:"Change Input Type"}),f.jsx(Te,{...r("save-button",e.onSave),children:e.closeButtonText})]})}var nE={},dpe=Xe;Object.defineProperty(nE,"__esModule",{value:!0});var BN=nE.default=void 0,fpe=dpe(nt()),hpe=f;BN=nE.default=(0,fpe.default)((0,hpe.jsx)("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check");var rE={},ppe=Xe;Object.defineProperty(rE,"__esModule",{value:!0});var iE=rE.default=void 0,gpe=ppe(nt()),mpe=f;iE=rE.default=(0,gpe.default)((0,mpe.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-2h2zm0-4h-2V7h2z"}),"Error");function sE({names:e}){return f.jsx(vpe,{children:Re.getPlayers().map(t=>f.jsxs(ype,{"data-test":`mic-check-p${t.number}`,children:[f.jsx(tE,{playerNumber:t.number}),f.jsx("span",{className:"ph-no-capture",children:(e==null?void 0:e[t.number])??t.getName()})]},t.number))})}const vpe=C("div",{target:"e1e3gceh1"})({name:"e7x0p4",styles:"display:flex;gap:1.25rem;div{flex:1;}"}),ype=C("div",{target:"e1e3gceh0"})({name:"186bnmk",styles:"position:relative;border:0.1rem solid white;padding:1rem 3rem;background:black;text-align:center;gap:1.25rem;font-size:2.3rem;color:white"});function Ape(e){const[t,n]=_.useState(null),r=_.useRef([]),i=_.useRef(0),s=_.useCallback(([o])=>{if(r.current.push(o),r.current.length>35){const l=r.current.sort()[Math.floor(r.current.length/2)]>0;l||i.current>7?n(l):i.current++,r.current.length=0}},[e]);return eE(0,s,t!==!0),_.useEffect(()=>{r.current.length=0,i.current=0,n(null)},[e]),t}function _pe(e){Eh(1,1);const{register:t}=Vn({onBackspace:e.onBack}),{Microphone:n}=yv(!0,"Microphone"),r=Ti([te.playerInputChanged,te.inputListChanged],()=>{var u;const l=Re.getInputs().find(d=>d.source==="Microphone"),c=uo.getInputList().Microphone.list;return l?((u=c.find(d=>d.id===ul(l)))==null?void 0:u.label)??"":""}),i=l=>{Re.getPlayers().forEach(c=>c.changeInput(io.inputName,l.channel,l.deviceId))},s=()=>{if(r===""){const l=n.getDefault();l&&i(l)}};_.useEffect(s,[]),Jr([te.inputListChanged,te.playerRemoved],s);const o=()=>{const l=n.list.findIndex(c=>c.label===r);if(l>-1){const c=n.list[bh(n.list,l)];i(c)}},a=Ape(r);return _.useEffect(()=>{e.onSetupComplete(!!r&&!!a)},[r,a]),f.jsxs(f.Fragment,{children:[f.jsxs(_h,{fallback:f.jsx("h2",{children:"Please allow access to the microphone so the default one can be selected."}),children:[!r&&f.jsx("h3",{children:"The default device is being selected."}),r&&f.jsxs(f.Fragment,{children:[f.jsxs(bpe,{children:[f.jsx("h3",{children:"You'll sing using"}),f.jsx("h4",{children:"(click to change)"})]}),f.jsx(Hr,{...t("selected-mic",o),label:"Mic",value:r}),f.jsxs(xpe,{children:[a===!0&&f.jsxs(f.Fragment,{children:[f.jsx("h3",{children:"Microphone is audible"}),f.jsx(sA,{children:f.jsx(wpe,{})})]}),a===!1&&f.jsxs(f.Fragment,{children:[f.jsx("h3",{children:"Microphone is not audible"}),f.jsx(sA,{children:f.jsx(Spe,{})})]}),a===null&&f.jsxs(f.Fragment,{children:[f.jsx("h3",{children:"Make some noise to the microphone"}),f.jsx(sA,{children:f.jsx(xh,{size:"1em"})})]})]}),a===!1&&f.jsx("h4",{children:"Make some noise to the microphone. If that doesn't work, try using another microphone."})]}),f.jsx(sE,{}),a===!0&&f.jsxs("h4",{children:["Built-in microphones can pick up music from the game. For more accurate scores, try using your"," ",f.jsx("button",{onClick:()=>e.changePreference("remoteMics"),children:"smartphone as a microphone"}),"."]})]}),f.jsx(Te,{...t("back-button",e.onBack),children:"Change Input Type"}),f.jsx(Te,{...t("save-button",e.onSave,void 0,!0,{disabled:!r}),disabled:!r,children:e.closeButtonText})]})}const bpe=C("div",{target:"e19x30ho4"})({name:"1laz9o6",styles:"display:flex;justify-content:space-between;align-items:flex-end"}),xpe=C("div",{target:"e19x30ho3"})({name:"19mh0x6",styles:"display:flex;align-items:center;justify-content:flex-end"}),sA=C("div",{target:"e19x30ho2"})({name:"1wxh51d",styles:"width:4rem;height:3rem;display:flex;align-items:center;justify-content:flex-end"}),Spe=C(iE,{target:"e19x30ho1"})({name:"19g9g9r",styles:"width:2em;height:2em;color:red"}),wpe=C(BN,{target:"e19x30ho0"})({name:"120ozgv",styles:"width:2em;height:2em;color:white"});function Epe(e){Eh(2);const t=yv(!0,"Microphone"),n=Sw();_.useEffect(()=>{e.onSetupComplete(n==="accepted")},[n]),_.useEffect(()=>{Re.getPlayers().forEach(s=>{s.input.source!=="Microphone"&&s.changeInput("Microphone",0)})},[]);const{register:r}=Vn({onBackspace:e.onBack}),i=Ti([te.inputListChanged,te.playerInputChanged,te.playerRemoved],()=>Re.getPlayers());return f.jsxs(f.Fragment,{children:[f.jsxs(_h,{fallback:f.jsx("h2",{children:"Please allow access to the microphone so we can show them."}),children:[i.map((s,o)=>f.jsx($N,{inputs:t,player:s,register:r,readonly:o>1,blockSourceChange:!0},s.number)),f.jsx("hr",{})]}),f.jsx(Te,{...r("back-button",e.onBack),children:"Change Input Type"}),f.jsx(Te,{...r("save-button",e.onSave),children:e.closeButtonText})]})}function kpe(e){const{register:t}=Vn({onBackspace:e.onBack});return f.jsxs(f.Fragment,{children:[f.jsx(Te,{...t("singstar-mics",()=>e.changePreference("singstar-mics")),children:"SingStar microphones"}),f.jsx(Te,{...t("different-mics-button",()=>e.changePreference("different-mics")),children:"Multiple different microphones"}),f.jsx("hr",{}),f.jsx(Te,{...t("back-button",e.onBack),children:"Change Input Type"})]})}function Cpe(e){var s,o;Eh(2);const{register:t}=Vn({onBackspace:e.onBack});DN();const n=Ti([te.inputListChanged,te.playerInputChanged,te.playerRemoved],()=>Re.getInputs().map(a=>a.source==="Remote Microphone"?a:null).map(a=>a?uo.getInputForPlayerSelected(a):null)),r=()=>{e.onSave()},i=!!((s=n[0])!=null&&s.label)&&!!((o=n[1])!=null&&o.label);return _.useEffect(()=>{e.onSetupComplete(i)},[i]),f.jsxs(f.Fragment,{children:[f.jsx(yw,{}),f.jsx("h4",{children:"You can connect multiple phones in advance."}),f.jsx("h4",{children:"You will be able to connect phones later."}),f.jsx(sE,{}),f.jsx(Te,{...t("back-button",e.onBack),children:"Change Input Type"}),f.jsx(Te,{...t("save-button",r,void 0,!0),children:e.closeButtonText})]})}function Tpe(e){Eh(2);const{register:t}=Vn({onBackspace:e.onBack}),{Microphone:n}=yv(!0,"Microphone"),[r,i]=_.useState(!1),s=Ti([te.playerInputChanged,te.inputListChanged],()=>{const c=Re.getInputs(),u=[...new Set(c.map(p=>p.deviceId))].length===1,d=!c.find(p=>p.source!=="Microphone"),h=!c.find(p=>{var g;return((g=uo.getInputForPlayerSelected(p))==null?void 0:g.preferred)===void 0});return u&&d&&h});_.useEffect(()=>(s&&sn.startMonitoring(),()=>{sn.stopMonitoring()}),[s]);const o=()=>{e.onSave()},[a,l]=_.useState(!1);return Jr(te.inputListChanged,c=>{const u=n.list.filter(d=>d.preferred!==void 0);u.length===2&&u[0].deviceId===u[1].deviceId&&u.forEach(d=>{var h;(h=Re.getPlayer(d.preferred))==null||h.changeInput(io.inputName,d.channel,d.deviceId)}),c||l(!0)}),_.useEffect(()=>{e.onSetupComplete(s)},[s]),_.useEffect(()=>{if(s)i(!1);else{const c=setTimeout(()=>i(!0),2500);return()=>clearTimeout(c)}},[s]),f.jsxs(f.Fragment,{children:[f.jsxs(_h,{fallback:f.jsx("h2",{children:"Please allow access to the microphone so we can find SingStar ones."}),children:[!s&&f.jsxs(f.Fragment,{children:[f.jsxs("h3",{children:[f.jsx(xh,{size:"0.85em"})," Connect your SingStar microphones."]}),f.jsx("h4",{"data-test":"setup-not-completed",children:"It can take a couple of seconds to detect after you connect them."}),a&&f.jsx("h4",{children:f.jsxs("h4",{"data-test":"list-change-info",children:["Available microphones list has changed, but no SingStar mics were found. Try"," ",f.jsx("button",{onClick:()=>e.changePreference("advanced"),children:"Advanced"})," setup."]})}),r&&f.jsxs(f.Fragment,{children:[!a&&f.jsxs(kP,{"data-test":"advanced-tip",children:["If they don't get detected, try"," ",f.jsx("button",{onClick:()=>e.changePreference("advanced"),children:"Advanced"})," section in the previous menu."]}),Gw()&&VN()&&f.jsxs(kP,{children:[f.jsx("strong",{children:"Chrome"})," is known for not handling SingStar mics well. If you notice any problems, try using an alternative browser (eg. ",f.jsx("strong",{children:"MS Edge"})," or ",f.jsx("strong",{children:"Firefox"}),")"]})]})]}),s&&f.jsxs(f.Fragment,{children:[f.jsxs("h2",{"data-test":"setup-completed",children:[f.jsx("strong",{children:"SingStar"})," microphone connected!"]}),f.jsx(sE,{names:["Blue","Red"]})]})]}),f.jsx(Te,{...t("back-button",e.onBack),children:"Change Input Type"}),f.jsx(Te,{...t("save-button",o,void 0,!0,{disabled:!s}),"data-test":"save-button",children:e.closeButtonText})]})}const kP=C("h4",{target:"ejfctyg0"})({name:"3v8j4h",styles:"background:darkred;padding:1rem"});function Ipe(e){return _.useEffect(()=>{e.onSave()},[]),null}const FN="Previously selected input type",Ppe=Ve.local.getItem(FN);function oE({onFinish:e,closeButtonText:t,playerNames:n,onBack:r,skipText:i,smooth:s=!0}){const[o,a]=$e(zb),[l,c]=_.useState(o==="skip"?null:o),[u,d]=_.useState(!1);_.useEffect(()=>{const m=sn.monitoringStarted();return sn.startMonitoring(),()=>{!m&&sn.stopMonitoring()}},[]);const h=(...m)=>{s?Df(()=>{Tu.flushSync(()=>{c(...m)})}):c(...m)},p=m=>()=>{a(m==="skip"?o??"skip":m),m&&(Ve.local.setItem(FN,m),pn.capture("sourcePreferenceSet",{source:m})),e==null||e(m)},g=()=>{Df(()=>{c(null),d(!1)})};return f.jsxs(f.Fragment,{children:[f.jsx(Bhe,{children:u?f.jsxs(f.Fragment,{children:[f.jsx(zhe,{})," Setup completed!"]}):"How do you want to sing?"}),(l===null||l==="skip")&&f.jsx(npe,{onPreferenceSelected:h,previouslySelected:Ppe,onBack:r,skipText:i}),l==="remoteMics"&&f.jsx(Cpe,{onSetupComplete:d,onBack:g,onSave:p("remoteMics"),closeButtonText:t,changePreference:c}),l==="multiple-mics"&&f.jsx(kpe,{onSetupComplete:d,onBack:g,closeButtonText:t,changePreference:c}),l==="singstar-mics"&&f.jsx(Tpe,{onSetupComplete:d,onBack:g,onSave:p("singstar-mics"),closeButtonText:t,changePreference:c}),l==="different-mics"&&f.jsx(Epe,{onSetupComplete:d,onBack:g,onSave:p("singstar-mics"),closeButtonText:t,changePreference:c}),l==="built-in"&&f.jsx(_pe,{onSetupComplete:d,onBack:g,onSave:p("built-in"),closeButtonText:t,changePreference:c}),l==="advanced"&&f.jsx(upe,{onSave:p("advanced"),onSetupComplete:d,onBack:g,closeButtonText:t,changePreference:c}),l==="skip"&&f.jsx(Ipe,{onSetupComplete:d,onBack:g,onSave:p("skip"),closeButtonText:t,changePreference:c})]})}function Rpe(e){const t=oi();return f.jsxs(ya,{children:[f.jsx(ei,{children:f.jsx("title",{children:"Select Input | AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsx(oE,{onFinish:()=>t("menu/"),closeButtonText:"Go to main menu"})]})}const Mpe=({error:e,resetError:t})=>f.jsxs(ya,{supportedBrowsers:!0,children:[f.jsxs("h1",{children:[f.jsx(Vl,{fontSize:"large"})," An error occurred :("]}),f.jsx("h3",{children:"The game crashed with following error"}),f.jsx(jpe,{children:e.message}),f.jsxs("h3",{children:["Help me fix it by reporting what exactly has happened at"," ",f.jsx("a",{href:"https://github.com/Asvarox/allkaraoke",target:"_blank",rel:"noreferrer",children:"GitHub"})," ","or"," ",f.jsx("a",{href:"https://www.facebook.com/allkaraoke.party",target:"_blank",rel:"noreferrer",children:"Facebook"})]}),f.jsx(Te,{onClick:t,children:"Reset Error"}),f.jsx("h4",{children:"If that doesn't help"}),f.jsx(Te,{onClick:()=>{var n;return global.location.href=(n=global.location)==null?void 0:n.origin},children:"Reload the game"}),f.jsx("h4",{children:"If that doesn't help"}),f.jsx(Te,{onClick:()=>{var n;global.confirm("Are you sure? It will delete all custom songs and scores. Before doing that, try opening the game in an private window or another browser to make sure it will actually help")&&(Ve.session.clear(),Ve.local.clear(),ll.clear(),global.location.href=(n=global.location)==null?void 0:n.origin)},children:"Clear all data"})]}),jpe=C("span",{target:"e10ztnls0"})({name:"1jmtlcm",styles:"color:white;font-family:monospace"});var Ope={VITE_APP_SENTRY_DSN_URL:"https://66c6e940d24b4096a277f350571921bb@o366978.ingest.sentry.io/6174734",VITE_APP_POSTHOG_KEY:"phc_bw7XLoONmtGVezmMKTvcwk3lj37jzxTfisqzjlJ0Jik",VITE_APP_BACKEND_HOST:"backend.allkaraoke.party",VITE_APP_WEBSOCKET_URL:"wss://backend.allkaraoke.party",VITE_APP_SENTRY_TUNNEL:"https://backend.allkaraoke.party/sentry",VITE_APP_POSTHOG_PROXY:"https://backend.allkaraoke.party/posthog",VITE_APP_SONG_CONVERT_PROXY:"https://backend.allkaraoke.party/proxy",VITE_CJS_IGNORE_WARNING:"true",VITE_APP_PRERENDER:"true",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};function Vpe(e){Aa(!1);const t=Sh();return _.useEffect(()=>{if(t.data){const n={};(async()=>{for(const r of t.data){if(r.realBpm)continue;const i=[`lookup=song:${encodeURIComponent(r.title)}+artist:${encodeURIComponent(r.artist)}`,"type=both",`api_key=${Ope.VITE_APP_GET_SONG_BPM_API_TOKEN}`].join("&"),o=await(await fetch(`https://api.getsongbpm.com/search/?${i}`)).json();n[r.id]=Array.isArray(o.search)&&o.search[0]||null}console.log(n)})()}},[t.data]),f.jsx(f.Fragment,{children:"Copy resulting object to `scripts/scraped-bpm-data.json` file and run fillMetadata script"})}var aE={},Lpe=Xe;Object.defineProperty(aE,"__esModule",{value:!0});var Tm=aE.default=void 0,Npe=Lpe(nt()),$pe=f;Tm=aE.default=(0,Npe.default)((0,$pe.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2m-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckBox");var lE={},Dpe=Xe;Object.defineProperty(lE,"__esModule",{value:!0});var Im=lE.default=void 0,Bpe=Dpe(nt()),Fpe=f;Im=lE.default=(0,Bpe.default)((0,Fpe.jsx)("path",{d:"M19 5v14H5V5zm0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2"}),"CheckBoxOutlineBlank");function zpe(e){return Rl("MuiSkeleton",e)}Ml("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);const Upe=["animation","className","component","height","style","variant","width"];let Pm=e=>e,CP,TP,IP,PP;const Hpe=e=>{const{classes:t,variant:n,animation:r,hasChildren:i,width:s,height:o}=e;return Pl({root:["root",n,r,i&&"withChildren",i&&!s&&"fitContent",i&&!o&&"heightAuto"]},zpe,t)},qpe=_o(CP||(CP=Pm`
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0.4;
  }

  100% {
    opacity: 1;
  }
`)),Gpe=_o(TP||(TP=Pm`
  0% {
    transform: translateX(-100%);
  }

  50% {
    /* +0.5s of delay between each loop */
    transform: translateX(100%);
  }

  100% {
    transform: translateX(100%);
  }
`)),Wpe=ri("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],n.animation!==!1&&t[n.animation],n.hasChildren&&t.withChildren,n.hasChildren&&!n.width&&t.fitContent,n.hasChildren&&!n.height&&t.heightAuto]}})(({theme:e,ownerState:t})=>{const n=Hse(e.shape.borderRadius)||"px",r=qse(e.shape.borderRadius);return oe({display:"block",backgroundColor:e.vars?e.vars.palette.Skeleton.bg:Tre(e.palette.text.primary,e.palette.mode==="light"?.11:.13),height:"1.2em"},t.variant==="text"&&{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:`${r}${n}/${Math.round(r/.6*10)/10}${n}`,"&:empty:before":{content:'"\\00a0"'}},t.variant==="circular"&&{borderRadius:"50%"},t.variant==="rounded"&&{borderRadius:(e.vars||e).shape.borderRadius},t.hasChildren&&{"& > *":{visibility:"hidden"}},t.hasChildren&&!t.width&&{maxWidth:"fit-content"},t.hasChildren&&!t.height&&{height:"auto"})},({ownerState:e})=>e.animation==="pulse"&&Ot(IP||(IP=Pm`
      animation: ${0} 2s ease-in-out 0.5s infinite;
    `),qpe),({ownerState:e,theme:t})=>e.animation==="wave"&&Ot(PP||(PP=Pm`
      position: relative;
      overflow: hidden;

      /* Fix bug in Safari https://bugs.webkit.org/show_bug.cgi?id=68196 */
      -webkit-mask-image: -webkit-radial-gradient(white, black);

      &::after {
        animation: ${0} 2s linear 0.5s infinite;
        background: linear-gradient(
          90deg,
          transparent,
          ${0},
          transparent
        );
        content: '';
        position: absolute;
        transform: translateX(-100%); /* Avoid flash during server-side hydration */
        bottom: 0;
        left: 0;
        right: 0;
        top: 0;
      }
    `),Gpe,(t.vars||t).palette.action.hover)),Ype=_.forwardRef(function(t,n){const r=ha({props:t,name:"MuiSkeleton"}),{animation:i="pulse",className:s,component:o="span",height:a,style:l,variant:c="text",width:u}=r,d=Xt(r,Upe),h=oe({},r,{animation:i,component:o,variant:c,hasChildren:!!d.children}),p=Hpe(h);return f.jsx(Wpe,oe({as:o,ref:n,className:Sn(p.root,s),ownerState:h},d,{style:oe({width:u,height:a},l)}))}),Kpe=Ype;var cE={},Rm=function(){return Rm=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Rm.apply(this,arguments)},Qpe=function(){function e(t,n,r){var i=this;this.endVal=n,this.options=r,this.version="2.8.0",this.defaults={startVal:0,decimalPlaces:0,duration:2,useEasing:!0,useGrouping:!0,useIndianSeparators:!1,smartEasingThreshold:999,smartEasingAmount:333,separator:",",decimal:".",prefix:"",suffix:"",enableScrollSpy:!1,scrollSpyDelay:200,scrollSpyOnce:!1},this.finalEndVal=null,this.useEasing=!0,this.countDown=!1,this.error="",this.startVal=0,this.paused=!0,this.once=!1,this.count=function(s){i.startTime||(i.startTime=s);var o=s-i.startTime;i.remaining=i.duration-o,i.useEasing?i.countDown?i.frameVal=i.startVal-i.easingFn(o,0,i.startVal-i.endVal,i.duration):i.frameVal=i.easingFn(o,i.startVal,i.endVal-i.startVal,i.duration):i.frameVal=i.startVal+(i.endVal-i.startVal)*(o/i.duration);var a=i.countDown?i.frameVal<i.endVal:i.frameVal>i.endVal;i.frameVal=a?i.endVal:i.frameVal,i.frameVal=Number(i.frameVal.toFixed(i.options.decimalPlaces)),i.printValue(i.frameVal),o<i.duration?i.rAF=requestAnimationFrame(i.count):i.finalEndVal!==null?i.update(i.finalEndVal):i.options.onCompleteCallback&&i.options.onCompleteCallback()},this.formatNumber=function(s){var o,a,l,c,u=s<0?"-":"";o=Math.abs(s).toFixed(i.options.decimalPlaces);var d=(o+="").split(".");if(a=d[0],l=d.length>1?i.options.decimal+d[1]:"",i.options.useGrouping){c="";for(var h=3,p=0,g=0,m=a.length;g<m;++g)i.options.useIndianSeparators&&g===4&&(h=2,p=1),g!==0&&p%h==0&&(c=i.options.separator+c),p++,c=a[m-g-1]+c;a=c}return i.options.numerals&&i.options.numerals.length&&(a=a.replace(/[0-9]/g,function(A){return i.options.numerals[+A]}),l=l.replace(/[0-9]/g,function(A){return i.options.numerals[+A]})),u+i.options.prefix+a+l+i.options.suffix},this.easeOutExpo=function(s,o,a,l){return a*(1-Math.pow(2,-10*s/l))*1024/1023+o},this.options=Rm(Rm({},this.defaults),r),this.formattingFn=this.options.formattingFn?this.options.formattingFn:this.formatNumber,this.easingFn=this.options.easingFn?this.options.easingFn:this.easeOutExpo,this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.endVal=this.validateValue(n),this.options.decimalPlaces=Math.max(this.options.decimalPlaces),this.resetDuration(),this.options.separator=String(this.options.separator),this.useEasing=this.options.useEasing,this.options.separator===""&&(this.options.useGrouping=!1),this.el=typeof t=="string"?document.getElementById(t):t,this.el?this.printValue(this.startVal):this.error="[CountUp] target is null or undefined",typeof window<"u"&&this.options.enableScrollSpy&&(this.error?console.error(this.error,t):(window.onScrollFns=window.onScrollFns||[],window.onScrollFns.push(function(){return i.handleScroll(i)}),window.onscroll=function(){window.onScrollFns.forEach(function(s){return s()})},this.handleScroll(this)))}return e.prototype.handleScroll=function(t){if(t&&window&&!t.once){var n=window.innerHeight+window.scrollY,r=t.el.getBoundingClientRect(),i=r.top+window.pageYOffset,s=r.top+r.height+window.pageYOffset;s<n&&s>window.scrollY&&t.paused?(t.paused=!1,setTimeout(function(){return t.start()},t.options.scrollSpyDelay),t.options.scrollSpyOnce&&(t.once=!0)):(window.scrollY>s||i>n)&&!t.paused&&t.reset()}},e.prototype.determineDirectionAndSmartEasing=function(){var t=this.finalEndVal?this.finalEndVal:this.endVal;this.countDown=this.startVal>t;var n=t-this.startVal;if(Math.abs(n)>this.options.smartEasingThreshold&&this.options.useEasing){this.finalEndVal=t;var r=this.countDown?1:-1;this.endVal=t+r*this.options.smartEasingAmount,this.duration=this.duration/2}else this.endVal=t,this.finalEndVal=null;this.finalEndVal!==null?this.useEasing=!1:this.useEasing=this.options.useEasing},e.prototype.start=function(t){this.error||(this.options.onStartCallback&&this.options.onStartCallback(),t&&(this.options.onCompleteCallback=t),this.duration>0?(this.determineDirectionAndSmartEasing(),this.paused=!1,this.rAF=requestAnimationFrame(this.count)):this.printValue(this.endVal))},e.prototype.pauseResume=function(){this.paused?(this.startTime=null,this.duration=this.remaining,this.startVal=this.frameVal,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count)):cancelAnimationFrame(this.rAF),this.paused=!this.paused},e.prototype.reset=function(){cancelAnimationFrame(this.rAF),this.paused=!0,this.resetDuration(),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.printValue(this.startVal)},e.prototype.update=function(t){cancelAnimationFrame(this.rAF),this.startTime=null,this.endVal=this.validateValue(t),this.endVal!==this.frameVal&&(this.startVal=this.frameVal,this.finalEndVal==null&&this.resetDuration(),this.finalEndVal=null,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count))},e.prototype.printValue=function(t){var n;if(this.el){var r=this.formattingFn(t);!((n=this.options.plugin)===null||n===void 0)&&n.render?this.options.plugin.render(this.el,r):this.el.tagName==="INPUT"?this.el.value=r:this.el.tagName==="text"||this.el.tagName==="tspan"?this.el.textContent=r:this.el.innerHTML=r}},e.prototype.ensureNumber=function(t){return typeof t=="number"&&!isNaN(t)},e.prototype.validateValue=function(t){var n=Number(t);return this.ensureNumber(n)?n:(this.error="[CountUp] invalid start or end value: ".concat(t),null)},e.prototype.resetDuration=function(){this.startTime=null,this.duration=1e3*Number(this.options.duration),this.remaining=this.duration},e}();const Jpe=Object.freeze(Object.defineProperty({__proto__:null,CountUp:Qpe},Symbol.toStringTag,{value:"Module"})),Xpe=Fs(Jpe);Object.defineProperty(cE,"__esModule",{value:!0});var Bn=_,Zpe=Xpe;function ege(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function RP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Mm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RP(Object(n),!0).forEach(function(r){tge(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tge(e,t,n){return t=lge(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eb(){return eb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},eb.apply(this,arguments)}function nge(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function zN(e,t){if(e==null)return{};var n=nge(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function rge(e,t){return ige(e)||ege(e,t)||sge(e,t)||oge()}function ige(e){if(Array.isArray(e))return e}function sge(e,t){if(e){if(typeof e=="string")return MP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MP(e,t)}}function MP(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function oge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function age(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lge(e){var t=age(e,"string");return typeof t=="symbol"?t:String(t)}var cge=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?Bn.useLayoutEffect:Bn.useEffect;function Ui(e){var t=Bn.useRef(e);return cge(function(){t.current=e}),Bn.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current.apply(void 0,r)},[])}var uge=function(t,n){var r=n.decimal,i=n.decimals,s=n.duration,o=n.easingFn,a=n.end,l=n.formattingFn,c=n.numerals,u=n.prefix,d=n.separator,h=n.start,p=n.suffix,g=n.useEasing,m=n.useGrouping,A=n.useIndianSeparators,v=n.enableScrollSpy,y=n.scrollSpyDelay,b=n.scrollSpyOnce,S=n.plugin;return new Zpe.CountUp(t,a,{startVal:h,duration:s,decimal:r,decimalPlaces:i,easingFn:o,formattingFn:l,numerals:c,separator:d,prefix:u,suffix:p,plugin:S,useEasing:g,useIndianSeparators:A,useGrouping:m,enableScrollSpy:v,scrollSpyDelay:y,scrollSpyOnce:b})},dge=["ref","startOnMount","enableReinitialize","delay","onEnd","onStart","onPauseResume","onReset","onUpdate"],fge={decimal:".",separator:",",delay:null,prefix:"",suffix:"",duration:2,start:0,decimals:0,startOnMount:!0,enableReinitialize:!0,useEasing:!0,useGrouping:!0,useIndianSeparators:!1},UN=function(t){var n=Object.fromEntries(Object.entries(t).filter(function(L){var O=rge(L,2),N=O[1];return N!==void 0})),r=Bn.useMemo(function(){return Mm(Mm({},fge),n)},[t]),i=r.ref,s=r.startOnMount,o=r.enableReinitialize,a=r.delay,l=r.onEnd,c=r.onStart,u=r.onPauseResume,d=r.onReset,h=r.onUpdate,p=zN(r,dge),g=Bn.useRef(),m=Bn.useRef(),A=Bn.useRef(!1),v=Ui(function(){return uge(typeof i=="string"?i:i.current,p)}),y=Ui(function(L){var O=g.current;if(O&&!L)return O;var N=v();return g.current=N,N}),b=Ui(function(){var L=function(){return y(!0).start(function(){l==null||l({pauseResume:S,reset:x,start:E,update:w})})};a&&a>0?m.current=setTimeout(L,a*1e3):L(),c==null||c({pauseResume:S,reset:x,update:w})}),S=Ui(function(){y().pauseResume(),u==null||u({reset:x,start:E,update:w})}),x=Ui(function(){y().el&&(m.current&&clearTimeout(m.current),y().reset(),d==null||d({pauseResume:S,start:E,update:w}))}),w=Ui(function(L){y().update(L),h==null||h({pauseResume:S,reset:x,start:E})}),E=Ui(function(){x(),b()}),T=Ui(function(L){s&&(L&&x(),b())});return Bn.useEffect(function(){A.current?o&&T(!0):(A.current=!0,T())},[o,A,T,a,t.start,t.suffix,t.prefix,t.duration,t.separator,t.decimals,t.decimal,t.formattingFn]),Bn.useEffect(function(){return function(){x()}},[x]),{start:E,pauseResume:S,reset:x,update:w,getCountUp:y}},hge=["className","redraw","containerProps","children","style"],pge=function(t){var n=t.className,r=t.redraw,i=t.containerProps,s=t.children,o=t.style,a=zN(t,hge),l=Bn.useRef(null),c=Bn.useRef(!1),u=UN(Mm(Mm({},a),{},{ref:l,startOnMount:typeof s!="function"||t.delay===0,enableReinitialize:!1})),d=u.start,h=u.reset,p=u.update,g=u.pauseResume,m=u.getCountUp,A=Ui(function(){d()}),v=Ui(function(S){t.preserveValue||h(),p(S)}),y=Ui(function(){if(typeof t.children=="function"&&!(l.current instanceof Element)){console.error(`Couldn't find attached element to hook the CountUp instance into! Try to attach "containerRef" from the render prop to a an Element, eg. <span ref={containerRef} />.`);return}m()});Bn.useEffect(function(){y()},[y]),Bn.useEffect(function(){c.current&&v(t.end)},[t.end,v]);var b=r&&t;return Bn.useEffect(function(){r&&c.current&&A()},[A,r,b]),Bn.useEffect(function(){!r&&c.current&&A()},[A,r,t.start,t.suffix,t.prefix,t.duration,t.separator,t.decimals,t.decimal,t.className,t.formattingFn]),Bn.useEffect(function(){c.current=!0},[]),typeof s=="function"?s({countUpRef:l,start:d,reset:h,update:p,pauseResume:g,getCountUp:m}):Bn.createElement("span",eb({className:n,ref:l,style:o},i),typeof t.start<"u"?m().formattingFn(t.start):"")},uE=cE.default=pge;cE.useCountUp=UN;const HN=e=>_.useMemo(()=>{const t={};e.forEach(r=>{if(!r.language)return;(Array.isArray(r.language)?r.language:[r.language]).forEach(s=>{const o=s.toLowerCase();t[o]||(t[o]={name:s,count:0}),t[o].count=t[o].count+1})});const n=Object.values(t);return n.sort((r,i)=>i.count-r.count),n},[e]),gge=ls()?0:10;function qN({onClose:e,closeText:t}){const{register:n}=Vn({onBackspace:e}),[r,i]=$e(n0),{data:s,isLoading:o}=Sh(),a=HN(s),l=_.useMemo(()=>a.filter(({name:p,count:g})=>dN(p)&&g>=gge),[a]),c=_.useMemo(()=>a.filter(({name:p})=>!l.find(g=>g.name===p)).reduce((p,{count:g})=>p+g,0),[a,l]),u=l.filter(({name:p})=>!(r!=null&&r.includes(p))).reduce((p,{count:g})=>p+g,0),d=p=>{r===null?i([p]):r.includes(p)?i(r.filter(g=>g!==p)):i([...r,p])};_.useEffect(()=>{if(r===null&&(navigator!=null&&navigator.languages)){let p=new Intl.DisplayNames(["en"],{type:"language"});const g=navigator==null?void 0:navigator.languages.map(A=>{var v;return(v=p.of(A))==null?void 0:v.toLowerCase()}).filter(Boolean),m=l.map(A=>A.name).filter(A=>!g.some(v=>v.includes(A.toLowerCase()))).filter(A=>A!=="English");m.length&&i(m)}},[r,l]);const h=_.useMemo(()=>l.every(p=>r==null?void 0:r.includes(p.name)),[r,l]);return _.useEffect(()=>{r!=null&&r.find(p=>!l.find(g=>g.name===p))&&i(r.filter(p=>l.find(g=>g.name===p)))},[l,r,i]),f.jsxs(ya,{children:[f.jsx("h1",{children:"Select Song Languages"}),f.jsxs(yge,{children:[o&&new Array(6).fill(0).map((p,g)=>f.jsx(Kpe,{variant:"rectangular",width:"100%",height:"10rem",children:f.jsx(jP,{excluded:!0,focused:!1,children:f.jsx(el,{language:["English"]})})},g)),l.map(({name:p,count:g})=>{const m=(r==null?void 0:r.includes(p))??!1;return f.jsxs(jP,{excluded:m,...n(`lang-${p}`,()=>d(p)),children:[f.jsx(vge,{children:m?f.jsx(Im,{}):f.jsx(Tm,{})}),f.jsxs("span",{children:[f.jsx(Age,{children:p})," (",g," songs)"]}),f.jsx(bge,{excluded:m,children:f.jsx(el,{language:[p]})})]},p)}),c>0&&f.jsxs(oA,{children:["…and ",f.jsxs("strong",{children:[c," songs"]})," in other languages"]})]}),f.jsxs("h3",{children:["You can always update the selection in ",f.jsx("strong",{children:"Manage Songs"})," menu"]}),f.jsxs(mge,{children:[f.jsx(Te,{...n("close-exclude-languages",e,void 0,!0,{disabled:h||o}),children:t}),f.jsxs(oA,{children:["The list will contain"," ",f.jsx("strong",{children:f.jsx(uE,{duration:1,preserveValue:!0,end:u+c})})," ","songs"]}),h&&f.jsxs(oA,{"data-test":"all-languages-excluded-warning",children:[f.jsx("strong",{children:f.jsx(Vl,{})})," ","You excluded all the languages, pick at least one"]})]})]})}const mge=C("div",{target:"e17pzmm6"})({name:"4zk4ri",styles:"display:flex;flex-direction:column;gap:1rem"}),oA=C("h4",{target:"e17pzmm5"})({name:"2qga7i",styles:"text-align:right"}),vge=C("div",{target:"e17pzmm4"})({name:"18gxnlc",styles:"svg{width:3rem;height:3rem;}"}),yge=C("div",{target:"e17pzmm3"})({name:"fvqkyn",styles:"margin-top:2rem;display:flex;flex-direction:column;gap:1rem"}),Age=C("span",{target:"e17pzmm2"})({name:"1jwmbuq",styles:"transition:300ms"});var _ge={name:"byti92",styles:"filter:grayscale(0.6);opacity:0.5"};const bge=C("div",{target:"e17pzmm1"})("transition:300ms;opacity:0.95;",e=>e.excluded?_ge:""," position:absolute;bottom:0;right:0;img{width:14rem;height:8rem;object-fit:cover;}overflow:hidden;width:14rem;height:8rem;"),jP=C(Te,{target:"e17pzmm0"})(e=>e.excluded?Ot(e.focused?"":"background: rgba(0, 0, 0, 0.55)",";text-decoration:line-through white;opacity:0.5;",""):""," ",Ne,";display:flex;align-items:center;justify-content:flex-start;gap:2rem;font-size:2.5rem;padding-left:3rem;margin:0;height:8rem;position:relative;width:100%;");function xge(e){const t=oi(),n=()=>t("menu/");return f.jsxs(f.Fragment,{children:[f.jsx(ei,{children:f.jsx("title",{children:"Select Languages | AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsx(Ww,{children:f.jsx(qN,{onClose:n,closeText:"Return to Main Menu"})})]})}function GN(){const[e]=$e(Hb);_.useEffect(()=>{try{e&&document.body.requestFullscreen().catch(console.info)}catch{}},[])}function Sge(){const{width:e,height:t}=wh();return _.useMemo(()=>parseFloat(getComputedStyle(document.documentElement).fontSize),[e,t])}let aA=0;function WN(){_.useEffect(()=>(document.body.classList.add("blockOverflow"),document.documentElement.classList.add("blockOverflow"),aA++,()=>{aA--,aA===0&&(document.body.classList.remove("blockOverflow"),document.documentElement.classList.remove("blockOverflow"))}),[])}var dE={},wge=Xe;Object.defineProperty(dE,"__esModule",{value:!0});var YN=dE.default=void 0,Ege=wge(nt()),kge=f;YN=dE.default=(0,Ege.default)((0,kge.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2M7.5 18c-.83 0-1.5-.67-1.5-1.5S6.67 15 7.5 15s1.5.67 1.5 1.5S8.33 18 7.5 18m0-9C6.67 9 6 8.33 6 7.5S6.67 6 7.5 6 9 6.67 9 7.5 8.33 9 7.5 9m4.5 4.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m4.5 4.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m0-9c-.83 0-1.5-.67-1.5-1.5S15.67 6 16.5 6s1.5.67 1.5 1.5S17.33 9 16.5 9"}),"Casino");function Cge({setFilters:e,filters:t,keyboardControl:n,visible:r,setVisible:i}){const s=_.useRef(null),[o,a]=_.useState(!1),l=h=>{e(p=>({...p,search:h}))};wr("down",()=>{var h;(h=s.current)==null||h.blur()},{enabled:o,enableOnTags:["INPUT"]});const u=h=>{h.stopPropagation(),h.preventDefault(),l(h.key)};wr(P1,h=>{u(h),i(!0)},{enabled:!t.search&&n});const d=_.useCallback(h=>{n&&l(h)},[n]);return Jr(te.remoteSongSearch,d),wr(P1,h=>{var p;u(h),(p=s.current)==null||p.focus()},{enabled:!o&&n},[t.search]),wr("Backspace",h=>{var p;(p=s.current)==null||p.focus()},{enabled:!o&&n},[t.search]),_.useEffect(()=>{o||i(!!t.search)},[o,t.search,i]),!t.search&&!r?null:f.jsx(Tge,{"data-test":"song-list-search",children:f.jsx(Ige,{large:!0,children:f.jsx("form",{"data-test":"filters-search-form",onSubmit:h=>{var p;h.preventDefault(),(p=s.current)==null||p.blur()},children:f.jsx(Ru,{onFocus:()=>a(!0),onBlur:()=>a(!1),onKeyDown:h=>{var p;h.key==="Backspace"&&((p=t.search)==null?void 0:p.length)===0&&i(!1)},focused:o,autoFocus:!0,label:"Search",value:t.search??"",onChange:l,ref:s,"data-test":"filters-search"})})})})}const Tge=C("div",{target:"ektgxsz1"})({name:"t46wvs",styles:"background:rgba(0, 0, 0, 0.7);padding:2rem;font-size:3rem;box-sizing:border-box;display:flex;flex-direction:row;gap:2rem;position:fixed;z-index:200;top:4.5rem;left:30rem;right:30rem"}),Ige=C("div",{target:"ektgxsz0"})("flex:",e=>e.large?1.5:1,";");function Pge({onRandom:e,setFilters:t,filters:n,keyboardControl:r}){const[i,s]=_.useState(!1),o=()=>{t(a=>({...a,search:""}))};return f.jsxs(f.Fragment,{children:[f.jsxs(Rge,{children:[f.jsx(pu,{title:"Search",placement:"left",children:f.jsx(OP,{onClick:()=>i?o():s(!0),"data-test":"search-song-button",children:f.jsx(Dw,{})})}),f.jsx(pu,{title:"Pick random",placement:"left",children:f.jsx(OP,{onClick:e,"data-test":"random-song-button",children:f.jsx(YN,{})})})]}),f.jsx(Cge,{setFilters:t,filters:n,visible:i,setVisible:s,keyboardControl:r})]})}const OP=C(ds,{target:"eie1eis1"})("box-shadow:inset 0 0 2px 2px ",he.colors.text.active,";background:black;width:7.5rem;height:7.5rem;border-radius:50%;display:flex;align-items:center;justify-content:center;svg{width:4.5rem;height:4.5rem;}"),Rge=C("div",{target:"eie1eis0"})({name:"1x0sh4s",styles:"pointer-events:none;position:fixed;display:flex;flex-direction:column;align-items:center;justify-content:center;bottom:2.5rem;right:2.5rem;z-index:100;gap:2rem"});function KN({videoId:e,...t}){return f.jsx(Vge,{src:`https://img.youtube.com/vi/${e}/default.jpg`,alt:`Thumbnail image for YouTube video ${e}`,...t})}function Mge({videoId:e,...t}){const n=uce(e)??e,[r,i]=_.useState(!0);_.useLayoutEffect(()=>{i(o=>!o)},[e]);const[s]=$e(Ss);return s==="low"?null:f.jsxs(jge,{...t,children:[f.jsx(VP,{videoId:r?e:n,visible:r}),f.jsx(VP,{videoId:r?n:e,visible:!r}),f.jsx(Oge,{videoId:n})]})}const jge=C("div",{target:"e1lv5ws3"})({name:"k44s62",styles:"position:relative;overflow:hidden;background:black"}),Oge=C(KN,{target:"e1lv5ws2"})({name:"6dhm9o",styles:"visibility:hidden"}),VP=C(KN,{target:"e1lv5ws1"})("position:absolute;transition:opacity 300ms;opacity:",e=>e.visible?1:0,";"),Vge=C("img",{target:"e1lv5ws0"})({name:"4uwt2b",styles:"width:100%;height:100%;object-fit:cover"});function Lge(e,t,n="mousedown",r={}){sce(n,i=>{const s=i.target;if(!s||!s.isConnected)return;(Array.isArray(e)?e.filter(a=>!!a.current).every(a=>a.current&&!a.current.contains(s)):e.current&&!e.current.contains(s))&&t(i)},void 0,r)}function Nge({active:e,closePlaylist:t,playlists:n,selectedPlaylist:r,setSelectedPlaylist:i}){const{register:s,focused:o,focusElement:a}=Vn({enabled:e,additionalHelp:{vertical:void 0,"horizontal-vertical":null}}),l=_.useRef(null);return Lge(l,()=>{t()}),Il({left:()=>t("left"),right:()=>t("right")},e),_.useEffect(()=>{var u;const c=new URLSearchParams((u=global.location)==null?void 0:u.search).get("playlist");c&&a(`playlist-${c}`)},[]),_.useEffect(()=>{var c;if(o){const u=n.find(d=>`playlist-${d.name}`===o);if(u){const d=new URL((c=global.location)==null?void 0:c.href);d.searchParams.set("playlist",u.name),global.history.replaceState(null,"",d.toString()),i(u.name)}}},[o,n]),f.jsx($ge,{"data-test":"song-list-playlists",active:e,ref:l,children:n.map(({Wrapper:c,...u})=>{const d=f.jsx(Dge,{"data-selected":`playlist-${u.name}`===o,active:e,...s(`playlist-${u.name}`,()=>a(`playlist-${u.name}`),void 0,u.name===r),...e?{}:{selected:`playlist-${u.name}`===o},children:u.display??u.name},u.name);return c?f.jsx(c,{active:e,focused:`playlist-${u.name}`===o,children:d},u.name):d})})}const $ge=C("div",{target:"emspgv91"})("background:rgba(0, 0, 0, ",e=>e.active?.75:.5,");width:100vh;height:var(--song-sidebar-weight);transform-origin:top right;transform:rotate(-90deg);position:absolute;z-index:200;left:-100vh;top:0;box-sizing:border-box;display:flex;flex-direction:row-reverse;gap:0;h2{",Ne,";margin:0;}"),Dge=C(ds,{target:"emspgv90"})("font-size:2.3rem;justify-self:stretch;flex-grow:1;",e=>!e.focused&&e.active&&"background-color: transparent;",";padding:1.5rem 1rem;",e=>e.selected?rO:!e.active&&"opacity: .75;",";"),fE=e=>{const[t,n]=_.useState(null),r=Xc(e),i=async()=>{n(await P3(e))};return _.useEffect(()=>{i()},[r]),Jr(te.songStatStored,i),t},Bge=e=>async(t,n,r,i)=>{const s=Xc(e),o=await P3(e),a=o.scores.map(c=>{if(c.setup.id!==t)return c;const u=c.scores.map(d=>d.name!==r||d.score!==n?d:{name:i.trim(),score:n});return{...c,scores:u}}),l={...o,scores:a};await R3(e,l),te.songScoreUpdated.dispatch(s,l,i.trim())},Fge=JSON.parse(`{
  "af": [
    "Persian Dari",
    "Pashto"
  ],
  "al": [
    "Albanian"
  ],
  "dz": [
    "Arabic",
    "Berber"
  ],
  "ad": [
    "Catalan"
  ],
  "ao": [
    "Portuguese"
  ],
  "ag": [
    "English"
  ],
  "ar": [
    "Spanish"
  ],
  "am": [
    "Armenian"
  ],
  "au": [
    "English"
  ],
  "at": [
    "German"
  ],
  "az": [
    "Azerbaijani"
  ],
  "bs": [
    "English"
  ],
  "bh": [
    "Arabic"
  ],
  "bd": [
    "Bengali"
  ],
  "bb": [
    "English"
  ],
  "by": [
    "Belarusian",
    "Russian"
  ],
  "be": [
    "Dutch",
    "French",
    "German"
  ],
  "bz": [
    "English"
  ],
  "dy": [
    "French"
  ],
  "bt": [
    "Dzongkha"
  ],
  "bo": [
    "Spanish",
    "Aymara",
    "Araona",
    "Baure",
    "Bsiro Chiquitano",
    "Canichana",
    "Cavinea",
    "Cayubaba",
    "Chcobo",
    "Chimn",
    "Ese Ejja",
    "Guaran",
    "Guarasuwe",
    "Guarayu",
    "Itonama",
    "Leco",
    "Machajuyai",
    "Machineri",
    "Maropa",
    "Mojeo",
    "Mojeo",
    "Mor",
    "Mosetn",
    "Movima",
    "Pacawara",
    "Puquina",
    "Quechua",
    "Sirion",
    "Tacana",
    "Tapiet",
    "Toromona",
    "Uru-Chipaya",
    "Weenhayek",
    "Yaminawa",
    "Yuki",
    "Yuracar",
    "Zamuco"
  ],
  "ba": [
    "Bosnian",
      "Croatian",
      "Serbian"
  ],
  "bw": [
    "English"
  ],
  "br": [
    "Portuguese"
  ],
  "bn": [
    "Malay"
  ],
  "bg": [
    "Bulgarian"
  ],
  "hv": [
    "French"
  ],
  "bi": [
    "French",
    "Kirundi",
    "English"
  ],
  "kh": [
    "Khmer"
  ],
  "cm": [
    "English",
    "French"
  ],
  "ca": [
    "English",
    "French"
  ],
  "cv": [
    "Portuguese"
  ],
  "cf": [
    "French",
    "Sango"
  ],
  "td": [
    "Arabic",
    "French"
  ],
  "cl": [
    "Spanish"
  ],
  "cn": [
    "Chinese"
  ],
  "cx": [
    "English",
    "Chinese",
    "Malay"
  ],
  "cc": [
    "English",
    "Cocos Malay"
  ],
  "co": [
    "Spanish"
  ],
  "km": [
    "Arabic",
    "Comorian",
    "French"
  ],
  "cd": [
    "French"
  ],
  "cg": [
    "French"
  ],
  "ck": [
    "English",
    "Cook Islands Mori"
  ],
  "cr": [
    "Spanish"
  ],
  "hr": [
    "Croatian"
  ],
  "cu": [
    "Spanish"
  ],
  "cy": [
    "Turkish"
  ],
  "cz": [
    "Czech",
    "Slovak"
  ],
  "dk": [
    "Danish"
  ],
  "dj": [
    "Arabic",
    "French"
  ],
  "dm": [
    "English"
  ],
  "do": [
    "Spanish"
  ],
  "tl": [
    "Portuguese",
    "Tetum"
  ],
  "ec": [
    "Spanish",
    "Quechua"
  ],
  "eg": [
    "Arabic"
  ],
  "sv": [
    "Spanish"
  ],
  "gq": [
    "French",
    "Portuguese",
    "Spanish"
  ],
  "er": [
    "Tigrinya"
  ],
  "ee": [
    "Estonian"
  ],
  "sz": [
    "English",
    "Swazi"
  ],
  "et": [
    "Afar",
    "Amharic",
    "Oromo",
    "Somali",
    "Tigrinya"
  ],
  "fj": [
    "English",
    "Fijian",
    "Fiji Hindi"
  ],
  "fi": [
    "Finnish",
    "Swedish"
  ],
  "fx": [
    "French"
  ],
  "ga": [
    "French"
  ],
  "gm": [
    "English"
  ],
  "ge": [
    "Ossetian",
    "Russian"
  ],
  "de": [
    "German"
  ],
  "gh": [
    "English"
  ],
  "gr": [
    "Greek"
  ],
  "gd": [
    "English"
  ],
  "gt": [
    "Spanish"
  ],
  "gn": [
    "French"
  ],
  "gw": [
    "Portuguese"
  ],
  "gy": [
    "English"
  ],
  "ht": [
    "French",
    "Creole"
  ],
  "hn": [
    "Spanish"
  ],
  "hu": [
    "Hungarian"
  ],
  "is": [
    "Icelandic"
  ],
  "in": [
    "Hindi",
    "English"
  ],
  "id": [
    "Indonesian"
  ],
  "ir": [
    "Persian"
  ],
  "iq": [
    "Arabic",
    "Kurdish"
  ],
  "ie": [
    "Irish",
    "English"
  ],
  "il": [
    "Hebrew"
  ],
  "it": [
    "Italian"
  ],
  "ci": [
    "French"
  ],
  "jm": [
    "English"
  ],
  "jp": [
    "Japanese"
  ],
  "jo": [
    "Arabic"
  ],
  "kz": [
    "Kazakh",
    "Russian"
  ],
  "ke": [
    "English",
    "Swahili"
  ],
  "ki": [
    "English",
    "Gilbertese"
  ],
  "kp": [
    "Korean"
  ],
  "kr": [
    "Korean"
  ],
  "xk": [
    "Albanian",
    "Serbian"
  ],
  "kw": [
    "Arabic"
  ],
  "kg": [
    "Kyrgyz",
    "Russian"
  ],
  "la": [
    "Lao"
  ],
  "lv": [
    "Latvian"
  ],
  "lb": [
    "Arabic"
  ],
  "ls": [
    "Sotho",
    "English"
  ],
  "lr": [
    "English"
  ],
  "ly": [
    "Arabic"
  ],
  "li": [
    "German"
  ],
  "lt": [
    "Lithuanian"
  ],
  "lu": [
    "French",
    "German",
    "Luxembourgish"
  ],
  "mg": [
    "French",
    "Malagasy"
  ],
  "mw": [
    "English",
    "Chichewa"
  ],
  "my": [
    "Malay"
  ],
  "mv": [
    "Dhivehi"
  ],
  "ml": [
    "Bambara",
    "Bobo",
    "Bozo",
    "Dogon",
    "Fula",
    "Hassaniya",
    "Kassonke",
    "Maninke",
    "Minyanka",
    "Senufo",
    "Songhay",
    "Soninke",
    "Tamasheq"
  ],
  "mt": [
    "Italian"
  ],
  "mh": [
    "English",
    "Marshallese"
  ],
  "mr": [
    "Arabic"
  ],
  "mu": [
    "English",
    "Morisien"
  ],
  "mx": [
    "Spanish"
  ],
  "fm": [
    "English"
  ],
  "md": [
    "Moldovan",
    "Russian",
    "Ukrainian"
  ],
  "mc": [
    "French"
  ],
  "mn": [
    "Mongolian"
  ],
  "me": [
    "Montenegrin"
  ],
  "ma": [
    "Arabic",
    "Berber"
  ],
  "mz": [
    "Portuguese"
  ],
  "mm": [
    "Burmese"
  ],
  "na": [
    "English"
  ],
  "nr": [
    "English",
    "Nauruan"
  ],
  "np": [
    "Nepali"
  ],
  "nl": [
    "Dutch"
  ],
  "nz": [
    "English",
    "Maori"
  ],
  "ni": [
    "Spanish"
  ],
  "ne": [
    "French"
  ],
  "ng": [
    "English"
  ],
  "nu": [
    "English",
    "Niuean"
  ],
  "nf": [
    "English",
    "Norfuk"
  ],
  "mk": [
    "Macedonian",
    "Albanian"
  ],
  "no": [
    "Norwegian",
    "Sami"
  ],
  "om": [
    "Arabic"
  ],
  "pk": [
    "Urdu",
    "English"
  ],
  "pw": [
    "English",
    "Palauan"
  ],
  "ps": [
    "Arabic"
  ],
  "pa": [
    "Spanish"
  ],
  "pg": [
    "English",
    "Hiri Motu",
    "Tok Pisin"
  ],
  "py": [
    "Spanish",
    "Guaran"
  ],
  "pe": [
    "Spanish",
    "Quechua",
    "Aymara",
    "Ashninka"
  ],
  "ph": [
    "Filipino",
    "English"
  ],
  "pl": [
    "Polish"
  ],
  "pt": [
    "Portuguese"
  ],
  "qa": [
    "Arabic"
  ],
  "ro": [
    "Romanian"
  ],
  "su": [
    "Russian"
  ],
  "rw": [
    "English",
    "French",
    "Kinyarwanda",
    "Swahili"
  ],
  "eh": [
    "Arabic"
  ],
  "kn": [
    "English"
  ],
  "lc": [
    "English"
  ],
  "vc": [
    "English"
  ],
  "ws": [
    "English",
    "Samoan"
  ],
  "sm": [
    "Italian"
  ],
  "st": [
    "Portuguese"
  ],
  "sa": [
    "Arabic"
  ],
  "sn": [
    "French"
  ],
  "yu": [
    "Serbian"
  ],
  "sc": [
    "English",
    "French",
    "Creole"
  ],
  "sl": [
    "English"
  ],
  "sg": [
    "English",
    "Malay",
    "Chinese",
    "Tamil"
  ],
  "sk": [
    "Slovak"
  ],
  "si": [
    "Slovene"
  ],
  "sb": [
    "English"
  ],
  "so": [
    "Arabic",
    "English",
    "Somali"
  ],
  "za": [
    "Afrikaans",
    "English",
    "Ndebele",
    "Sotho",
    "Swazi",
    "Tsonga",
    "Tswana",
    "Venda",
    "Xhosa",
    "Zulu"
  ],
  "ss": [
    "English"
  ],
  "es": [
    "Spanish"
  ],
  "lk": [
    "Sinhala",
    "Tamil"
  ],
  "sd": [
    "Arabic",
    "English"
  ],
  "sr": [
    "Dutch"
  ],
  "se": [
    "Swedish"
  ],
  "ch": [
    "French",
    "German",
    "Italian",
    "Romansh"
  ],
  "sy": [
    "Arabic"
  ],
  "tw": [
    "Chinese"
  ],
  "tj": [
    "Tajik"
  ],
  "tz": [
    "Swahili",
    "English"
  ],
  "th": [
    "Thai"
  ],
  "tg": [
    "French"
  ],
  "tk": [
    "English",
    "Tokelauan"
  ],
  "to": [
    "English",
    "Tongan"
  ],
  "tt": [
    "English"
  ],
  "tn": [
    "Arabic"
  ],
  "tr": [
    "Turkish"
  ],
  "tm": [
    "Turkmen"
  ],
  "tv": [
    "Tuvaluan",
    "English"
  ],
  "ug": [
    "English",
    "Swahili"
  ],
  "ua": [
    "Ukrainian"
  ],
  "ae": [
    "Arabic"
  ],
  "uk": [
    "English"
  ],
  "us": [
    "English"
  ],
  "uy": [
    "Spanish"
  ],
  "uz": [
    "Uzbek"
  ],
  "vu": [
    "English",
    "French",
    "Bislama"
  ],
  "va": [
    "Italian"
  ],
  "ve": [
    "Spanish"
  ],
  "vn": [
    "Vietnamese"
  ],
  "ye": [
    "Arabic"
  ],
  "zm": [
    "English"
  ],
  "zw": [
    "Chewa",
    "Chibarwe",
    "English",
    "Kalanga",
    "Khoisan",
    "Nambya",
    "Ndau",
    "Ndebele",
    "Shangani",
    "Shona",
    "Sotho",
    "Tonga",
    "Tswana",
    "Venda",
    "Xhosa"
  ]
}`),zge=["US","GB"];function Uge({song:e,forceFlag:t,...n}){const r=e.language[0],i=_.useMemo(()=>{var s;return e.artistOrigin?((s=Fge[e.artistOrigin.toLowerCase()])==null?void 0:s.includes(r))??t:!1},[e.artistOrigin,r,t]);return f.jsx(f.Fragment,{children:t&&e.artistOrigin?f.jsx(el,{isocode:e.artistOrigin,...n}):i&&!zge.includes(e.artistOrigin)?f.jsx(el,{isocode:e.artistOrigin,...n}):e.language[0]!=="English"?f.jsx(el,{language:e.language,...n}):null})}var hE={},Hge=Xe;Object.defineProperty(hE,"__esModule",{value:!0});var QN=hE.default=void 0,qge=Hge(nt()),Gge=f;QN=hE.default=(0,qge.default)((0,Gge.jsx)("path",{d:"M7.25 12.5 4.75 9H3.5v6h1.25v-3.5L7.3 15h1.2V9H7.25zM9.5 15h4v-1.25H11v-1.11h2.5v-1.26H11v-1.12h2.5V9h-4zm9.75-6v4.5h-1.12V9.99h-1.25v3.52h-1.13V9H14.5v5c0 .55.45 1 1 1h4c.55 0 1-.45 1-1V9z"}),"FiberNewOutlined");var pE={},Wge=Xe;Object.defineProperty(pE,"__esModule",{value:!0});var JN=pE.default=void 0,Yge=Wge(nt()),Kge=f;JN=pE.default=(0,Yge.default)((0,Kge.jsx)("path",{d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star");function XN(e){return Xs(e.edition??"").startsWith("esc")}var Qge=_.createContext({client:pn}),Jge=function(){var e=_.useContext(Qge).client;return e};function Xge(e){var t=Jge(),n=_.useState(),r=n[0],i=n[1];return _.useEffect(function(){return t.onFeatureFlags(function(){i(t.isFeatureEnabled(e))})},[t,e]),r}function gE(e){const t=Xge(e);return ls()?!0:t}const mE="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20width='125.33'%20height='131.46'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:cc='http://creativecommons.org/ns%23'%20xmlns:dc='http://purl.org/dc/elements/1.1/'%20xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23'%3e%3cpath%20stroke='black'%20fill='white'%20d='m12.726%2058.556c0.31803-28.513%2015.157-37.437%2023.237-37.437%2011.285%200%2015.946%208.6151%2016.707%2012.429%200.76116%203.8111%205.0324%206.8595%206.4047%200.60798%201.3734-6.2515%2014.649-25.315%2030.966-25.315%2014.943%200%2020.119%2015.41%2019.671%2028.518-1.2228%2035.683-47.19%2064.158-53.239%2082.143-5.3875-10.891-44.126-26.634-43.746-60.946zm82.652-58.556c-13.42%200-29.29%209.9111-38.896%2026.382-2.592-5.9483-11.827-12.43-22.805-12.43-8.8462%200-33.676%2011.056-33.676%2046.74%200%2046.052%2046.593%2055.508%2056.011%2069.825%200.64721%200.98433%202.7319%201.728%203.5276-0.62388%207.5157-22.18%2065.791-47.242%2065.791-92.379-5.3e-4%20-25.314-16.536-37.513-29.955-37.513z'%20stroke-width='.53006'/%3e%3c/svg%3e",Zge=new Intl.Collator("en",{numeric:!0,sensitivity:"base"}).compare,tb=1/0,lA=e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),LP="eexxaacctt",eme="A-Z",tme="a-z",id=(e,t,n)=>e.replace(eme,t).replace(tme,n),NP={unicode:!1,alpha:null,interSplit:"[^A-Za-z\\d']+",intraSplit:"[a-z][A-Z]",intraBound:"[A-Za-z]\\d|\\d[A-Za-z]|[a-z][A-Z]",interLft:0,interRgt:0,interChars:".",interIns:tb,intraChars:"[a-z\\d']",intraIns:null,intraContr:"'[a-z]{1,2}\\b",intraMode:0,intraSlice:[1,tb],intraSub:null,intraTrn:null,intraDel:null,intraFilt:(e,t,n)=>!0,sort:(e,t,n)=>{let{idx:r,chars:i,terms:s,interLft2:o,interLft1:a,start:l,intraIns:c,interIns:u}=e;return r.map((d,h)=>h).sort((d,h)=>i[h]-i[d]||c[d]-c[h]||s[h]+o[h]+.5*a[h]-(s[d]+o[d]+.5*a[d])||u[d]-u[h]||l[d]-l[h]||Zge(t[r[d]],t[r[h]]))}},cA=(e,t)=>t==0?"":t==1?e+"??":t==tb?e+"*?":e+`{0,${t}}?`,$P="(?:\\b|_)";function Av(e){e=Object.assign({},NP,e);let{unicode:t,interLft:n,interRgt:r,intraMode:i,intraSlice:s,intraIns:o,intraSub:a,intraTrn:l,intraDel:c,intraContr:u,intraSplit:d,interSplit:h,intraBound:p,intraChars:g}=e;o??(o=i),a??(a=i),l??(l=i),c??(c=i);let m=e.letters??e.alpha;if(m!=null){let D=m.toLocaleUpperCase(),q=m.toLocaleLowerCase();h=id(h,D,q),d=id(d,D,q),p=id(p,D,q),g=id(g,D,q),u=id(u,D,q)}let A=t?"u":"";const v='".+?"',y=new RegExp(v,"gi"+A),b=new RegExp(`(?:\\s+|^)-(?:${g}+|${v})`,"gi"+A);let{intraRules:S}=e;S==null&&(S=D=>{let q=NP.intraSlice,ne=0,V=0,ce=0,Z=0;if(/[^\d]/.test(D)){let de=D.length;de<=4?de>=3&&(ce=Math.min(l,1),de==4&&(ne=Math.min(o,1))):(q=s,ne=o,V=a,ce=l,Z=c)}return{intraSlice:q,intraIns:ne,intraSub:V,intraTrn:ce,intraDel:Z}});let x=!!d,w=new RegExp(d,"g"+A),E=new RegExp(h,"g"+A),T=new RegExp("^"+h+"|"+h+"$","g"+A),L=new RegExp(u,"gi"+A);const O=D=>{let q=[];D=D.replace(y,V=>(q.push(V),LP)),D=D.replace(T,"").toLocaleLowerCase(),x&&(D=D.replace(w,V=>V[0]+" "+V[1]));let ne=0;return D.split(E).filter(V=>V!="").map(V=>V===LP?q[ne++]:V)},N=/[^\d]+|\d+/g,Q=(D,q=0,ne=!1)=>{let V=O(D);if(V.length==0)return[];let ce=Array(V.length).fill("");V=V.map((pe,Ae)=>pe.replace(L,qe=>(ce[Ae]=qe,"")));let Z;if(i==1)Z=V.map((pe,Ae)=>{if(pe[0]==='"')return lA(pe.slice(1,-1));let qe="";for(let Le of pe.matchAll(N)){let Ie=Le[0],{intraSlice:_e,intraIns:Ue,intraSub:Ge,intraTrn:He,intraDel:rt}=S(Ie);if(Ue+Ge+He+rt==0)qe+=Ie+ce[Ae];else{let[it,Nt]=_e,At=Ie.slice(0,it),Gt=Ie.slice(Nt),st=Ie.slice(it,Nt);Ue==1&&At.length==1&&At!=st[0]&&(At+="(?!"+At+")");let _t=st.length,wt=[Ie];if(Ge)for(let Ye=0;Ye<_t;Ye++)wt.push(At+st.slice(0,Ye)+g+st.slice(Ye+1)+Gt);if(He)for(let Ye=0;Ye<_t-1;Ye++)st[Ye]!=st[Ye+1]&&wt.push(At+st.slice(0,Ye)+st[Ye+1]+st[Ye]+st.slice(Ye+2)+Gt);if(rt)for(let Ye=0;Ye<_t;Ye++)wt.push(At+st.slice(0,Ye+1)+"?"+st.slice(Ye+1)+Gt);if(Ue){let Ye=cA(g,1);for(let $t=0;$t<_t;$t++)wt.push(At+st.slice(0,$t)+Ye+st.slice($t)+Gt)}qe+="(?:"+wt.join("|")+")"+ce[Ae]}}return qe});else{let pe=cA(g,o);q==2&&o>0&&(pe=")("+pe+")("),Z=V.map((Ae,qe)=>Ae[0]==='"'?lA(Ae.slice(1,-1)):Ae.split("").map((Le,Ie,_e)=>(o==1&&Ie==0&&_e.length>1&&Le!=_e[Ie+1]&&(Le+="(?!"+Le+")"),Le)).join(pe)+ce[qe])}let de=n==2?$P:"",we=r==2?$P:"",Ee=we+cA(e.interChars,e.interIns)+de;return q>0?ne?Z=de+"("+Z.join(")"+we+"|"+de+"(")+")"+we:(Z="("+Z.join(")("+Ee+")(")+")",Z="(.??"+de+")"+Z+"("+we+".*)"):(Z=Z.join(Ee),Z=de+Z+we),[new RegExp(Z,"i"+A),V,ce]},M=(D,q,ne)=>{let[V]=Q(q);if(V==null)return null;let ce=[];if(ne!=null)for(let Z=0;Z<ne.length;Z++){let de=ne[Z];V.test(D[de])&&ce.push(de)}else for(let Z=0;Z<D.length;Z++)V.test(D[Z])&&ce.push(Z);return ce};let U=!!p,P=new RegExp(h,A),I=new RegExp(p,A);const z=(D,q,ne)=>{let[V,ce,Z]=Q(ne,1),[de]=Q(ne,2),we=ce.length,Ee=D.length,pe=Array(Ee).fill(0),Ae={idx:Array(Ee),start:pe.slice(),chars:pe.slice(),terms:pe.slice(),interIns:pe.slice(),intraIns:pe.slice(),interLft2:pe.slice(),interRgt2:pe.slice(),interLft1:pe.slice(),interRgt1:pe.slice(),ranges:Array(Ee)},qe=n==1||r==1,Le=0;for(let Ie=0;Ie<D.length;Ie++){let _e=q[D[Ie]],Ue=_e.match(V),Ge=Ue.index+Ue[1].length,He=Ge,rt=!1,it=0,Nt=0,At=0,Gt=0,st=0,_t=0,wt=0,Ye=0,$t=[];for(let ye=0,We=2;ye<we;ye++,We+=2){let Pn=Ue[We].toLocaleLowerCase(),bt=ce[ye],yn=bt[0]=='"'?bt.slice(1,-1):bt+Z[ye],on=yn.length,an=Pn.length,Zt=Pn==yn;if(!Zt&&Ue[We+1].length>=on){let ht=Ue[We+1].toLocaleLowerCase().indexOf(yn);ht>-1&&($t.push(He,an,ht,on),He+=j(Ue,We,ht,on),Pn=yn,an=on,Zt=!0,ye==0&&(Ge=He))}if(qe||Zt){let ht=He-1,ur=He+an,Li=!1,er=!1;if(ht==-1||P.test(_e[ht]))Zt&&it++,Li=!0;else{if(n==2){rt=!0;break}if(U&&I.test(_e[ht]+_e[ht+1]))Zt&&Nt++,Li=!0;else if(n==1){let Io=Ue[We+1],Ni=He+an;if(Io.length>=on){let Lr=0,$i=!1,Ll=new RegExp(yn,"ig"+A),Nl;for(;Nl=Ll.exec(Io);){Lr=Nl.index;let $l=Ni+Lr,_a=$l-1;if(_a==-1||P.test(_e[_a])){it++,$i=!0;break}else if(I.test(_e[_a]+_e[$l])){Nt++,$i=!0;break}}$i&&(Li=!0,$t.push(He,an,Lr,on),He+=j(Ue,We,Lr,on),Pn=yn,an=on,Zt=!0,ye==0&&(Ge=He))}if(!Li){rt=!0;break}}}if(ur==_e.length||P.test(_e[ur]))Zt&&At++,er=!0;else{if(r==2){rt=!0;break}if(U&&I.test(_e[ur-1]+_e[ur]))Zt&&Gt++,er=!0;else if(r==1){rt=!0;break}}Zt&&(st+=on,Li&&er&&_t++)}if(an>on&&(Ye+=an-on),ye>0&&(wt+=Ue[We-1].length),!e.intraFilt(yn,Pn,He)){rt=!0;break}ye<we-1&&(He+=an+Ue[We+1].length)}if(!rt){Ae.idx[Le]=D[Ie],Ae.interLft2[Le]=it,Ae.interLft1[Le]=Nt,Ae.interRgt2[Le]=At,Ae.interRgt1[Le]=Gt,Ae.chars[Le]=st,Ae.terms[Le]=_t,Ae.interIns[Le]=wt,Ae.intraIns[Le]=Ye,Ae.start[Le]=Ge;let ye=_e.match(de),We=ye.index+ye[1].length,Pn=$t.length,bt=Pn>0?0:1/0,yn=Pn-4;for(let ht=2;ht<ye.length;){let ur=ye[ht].length;if(bt<=yn&&$t[bt]==We){let Li=$t[bt+1],er=$t[bt+2],Io=$t[bt+3],Ni=ht,Lr="";for(let $i=0;$i<Li;Ni++)Lr+=ye[Ni],$i+=ye[Ni].length;ye.splice(ht,Ni-ht,Lr),We+=j(ye,ht,er,Io),bt+=4}else We+=ur,ht++}We=ye.index+ye[1].length;let on=Ae.ranges[Le]=[],an=We,Zt=We;for(let ht=2;ht<ye.length;ht++){let ur=ye[ht].length;We+=ur,ht%2==0?Zt=We:ur>0&&(on.push(an,Zt),an=Zt=We)}Zt>an&&on.push(an,Zt),Le++}}if(Le<D.length)for(let Ie in Ae)Ae[Ie]=Ae[Ie].slice(0,Le);return Ae},j=(D,q,ne,V)=>{let ce=D[q]+D[q+1].slice(0,ne);return D[q-1]+=ce,D[q]=D[q+1].slice(ne,ne+V),D[q+1]=D[q+1].slice(ne+V),ce.length},$=5,B=(D,q,ne,V=1e3,ce)=>{ne=ne?ne===!0?$:ne:0;let Z=null,de=null,we=[];q=q.replace(b,Ie=>{let _e=Ie.trim().slice(1);return _e[0]==='"'&&(_e=lA(_e.slice(1,-1))),we.push(_e),""});let Ee=O(q),pe;if(we.length>0){if(pe=new RegExp(we.join("|"),"i"+A),Ee.length==0){let Ie=[];for(let _e=0;_e<D.length;_e++)pe.test(D[_e])||Ie.push(_e);return[Ie,null,null]}}else if(Ee.length==0)return[null,null,null];if(ne>0){let Ie=O(q);if(Ie.length>1){let _e=Ie.slice().sort((Ge,He)=>He.length-Ge.length);for(let Ge=0;Ge<_e.length;Ge++){if((ce==null?void 0:ce.length)==0)return[[],null,null];ce=M(D,_e[Ge],ce)}if(Ie.length>ne)return[ce,null,null];Z=ZN(Ie).map(Ge=>Ge.join(" ")),de=[];let Ue=new Set;for(let Ge=0;Ge<Z.length;Ge++)if(Ue.size<ce.length){let He=ce.filter(it=>!Ue.has(it)),rt=M(D,Z[Ge],He);for(let it=0;it<rt.length;it++)Ue.add(rt[it]);de.push(rt)}else de.push([])}}Z==null&&(Z=[q],de=[(ce==null?void 0:ce.length)>0?ce:M(D,q)]);let Ae=null,qe=null;if(we.length>0&&(de=de.map(Ie=>Ie.filter(_e=>!pe.test(D[_e])))),de.reduce((Ie,_e)=>Ie+_e.length,0)<=V){Ae={},qe=[];for(let Ie=0;Ie<de.length;Ie++){let _e=de[Ie];if(_e==null||_e.length==0)continue;let Ue=Z[Ie],Ge=z(_e,D,Ue),He=e.sort(Ge,D,Ue);if(Ie>0)for(let rt=0;rt<He.length;rt++)He[rt]+=qe.length;for(let rt in Ge)Ae[rt]=(Ae[rt]??[]).concat(Ge[rt]);qe=qe.concat(He)}}return[[].concat(...de),Ae,qe]};return{search:(...D)=>B(...D),split:O,filter:M,info:z,sort:e.sort}}const nme=(()=>{let e={A:"ÁÀÃÂÄĄ",a:"áàãâäą",E:"ÉÈÊËĖ",e:"éèêëę",I:"ÍÌÎÏĮ",i:"íìîïį",O:"ÓÒÔÕÖ",o:"óòôõö",U:"ÚÙÛÜŪŲ",u:"úùûüūų",C:"ÇČĆ",c:"çčć",L:"Ł",l:"ł",N:"ÑŃ",n:"ñń",S:"ŠŚ",s:"šś",Z:"ŻŹ",z:"żź"},t=new Map,n="";for(let s in e)e[s].split("").forEach(o=>{n+=o,t.set(o,s)});let r=new RegExp(`[${n}]`,"g"),i=s=>t.get(s);return s=>{if(typeof s=="string")return s.replace(r,i);let o=Array(s.length);for(let a=0;a<s.length;a++)o[a]=s[a].replace(r,i);return o}})();function ZN(e){e=e.slice();let t=e.length,n=[e.slice()],r=new Array(t).fill(0),i=1,s,o;for(;i<t;)r[i]<i?(s=i%2&&r[i],o=e[i],e[i]=e[s],e[s]=o,++r[i],i=1,n.push(e.slice())):(r[i]=0,++i);return n}const rme=(e,t)=>t?`<mark>${e}</mark>`:e,ime=(e,t)=>e+t;function sme(e,t,n=rme,r="",i=ime){r=i(r,n(e.substring(0,t[0]),!1))??r;for(let s=0;s<t.length;s+=2){let o=t[s],a=t[s+1];r=i(r,n(e.substring(o,a),!0))??r,s<t.length-3&&(r=i(r,n(e.substring(t[s+1],t[s+2]),!1))??r)}return r=i(r,n(e.substring(t[t.length-1]),!1))??r,r}Av.latinize=nme;Av.permute=e=>ZN([...Array(e.length).keys()]).sort((n,r)=>{for(let i=0;i<n.length;i++)if(n[i]!=r[i])return n[i]-r[i];return 0}).map(n=>n.map(r=>e[r]));Av.highlight=sme;let ome=new Intl.DisplayNames(["en"],{type:"region"});function uA(e){return ome.of(e)}const DP=e=>{var t,n;return((n=(t=e.edition)==null?void 0:t.toLowerCase().replace("esc ",""))==null?void 0:n.trim())??void 0},ame=(e,t,n)=>{const r=HN(e),i=gE(Qf.Eurovision);return _.useMemo(()=>n?[]:[{name:"Selection",Wrapper:({children:l,active:c,focused:u})=>f.jsx(loe,{...c&&u?{open:!0}:{},oneTime:!1,timeoutMs:15e3,dismissKey:"selection-playlist",placement:"right",title:f.jsxs(f.Fragment,{children:["A combination of songs you might like and popular with other players.",f.jsx("br",{}),f.jsx("br",{})," ",f.jsx("strong",{children:"Search"})," is performed across all the songs."]}),children:l}),display:f.jsxs("span",{children:[f.jsx("strong",{children:"★"})," Selection ",f.jsx("strong",{children:"★"})]}),filters:{specificSongs:t}},{name:"All",filters:{}},i?{name:"Eurovision",display:f.jsxs(lme,{children:["Euro",f.jsx(cme,{src:mE,alt:"Eurovision logo"}),"ision"]}),filters:{edition:"esc"},hideNew:!0,groupData:l=>{const c=l.artistOrigin?f.jsx(BP,{isocode:l.artistOrigin}):"Other";return{name:l.artistOrigin??"Other",displayLong:l.artistOrigin?f.jsxs(f.Fragment,{children:[c," ",uA(l.artistOrigin)]}):"Other",displayShort:c}},sortingFn:(l,c)=>{const u=DP(l),d=DP(c);return u&&d?+d-+u:0},postGrouping:l=>{let c=l;const u=l.filter(d=>d.songs.length<=1);if(u.length){let d=l.find(h=>h.name==="Other");d||(d={name:"Other",songs:[]},l.push(d)),d.displayLong=f.jsxs(f.Fragment,{children:[f.jsx(BP,{isocode:"eu"})," Other"]}),d.songs=u.map(h=>h.songs[0]),c=l.filter(h=>h.songs.length>1)}return c.sort((d,h)=>{var p;return d.name==="Other"?1:h.name==="Other"?-1:((p=uA(d.songs[0].song.artistOrigin))==null?void 0:p.localeCompare(uA(h.songs[0].song.artistOrigin)??""))??0}),c}}:null,r[0]?{name:r[0].name,filters:{language:r[0].name}}:null,r[1]?{name:r[1].name,filters:{language:r[1].name}}:null,{name:"Oldies",filters:{yearBefore:1995}},i?null:{name:"Modern",filters:{yearAfter:1995}},{name:"Duets",filters:{duet:!0}},{name:"New",filters:{recentlyUpdated:!0}}].filter(l=>l!==null),[r,n,t])},lme=C("span",{target:"eiie6jw2"})(`background-image:linear-gradient(
    90deg,
    `,Oe.eurovisionPink.text,`,
    `,Oe.eurovisionViolet.text,`,
    `,Oe.eurovisionPink.text,`,
    `,Oe.eurovisionBlue.text,`,
    `,Oe.eurovisionPink.text,`
  );background-size:200% 200%;background-clip:text;color:transparent;display:flex;align-items:center;animation:playlist-gradient 15s linear infinite;@keyframes playlist-gradient{0%{background-position:0% 0%;}100%{background-position:400% 400%;}}`),cme=C("img",{target:"eiie6jw1"})({name:"1ilxznz",styles:"width:1em;height:1em;animation:heartbeat 1.5s infinite;@keyframes heartbeat{0%{transform:scale(0.85);}10%{transform:scale(1);}20%{transform:scale(0.85);}30%{transform:scale(1);}40%{transform:scale(0.85);}100%{transform:scale(0.85);}}"}),BP=C(el,{target:"eiie6jw0"})({name:"nxcr1x",styles:"width:1em;object-fit:contain"}),ume=250,dme=750;function fme(e){const t=XI(async()=>(await fetch("/mostPopularSongs.json")).json(),[]),n=XI(async()=>EW(),[]),r=_.useMemo(()=>jm.recentlyUpdated(e),[e]).map(l=>l.id),[i]=$e(n0),s=t.loading||n.loading||!e.length,o=_.useMemo(()=>{if(s)return;const l=Object.keys(n.value).filter(g=>n.value[g].scores.some(m=>(m.progress??0)>.8)),c=Object.keys(t.value).filter(g=>!(i!=null&&i.includes(g))),u=[...new Set([...c,...i??[]])],d=e.filter(g=>!u.some(m=>g.language.includes(m))||g.local).map(g=>g.id).concat(...l),h=Math.max(ume,dme-Math.round(d.length/1.75)),p=c.map(g=>t.value[g].slice(0,h)).flat();return{popular:[...new Set([...l,...p,...d,...r])]}},[i,s,t.value,e,n.value]),a=_.useMemo(()=>({popular:[]}),[]);return{value:o??a,loading:s}}const FP=e=>Xs((e==null?void 0:e.search)??"").length>2,zP={},hme=e=>{const t=/[^a-zA-Z]/;return{name:isFinite(+e.artist[0])||t.test(e.artist[0])?"0-9":e.artist[0].toUpperCase()}},jm={language:(e,t)=>t===""?e:e.filter(n=>n.language.includes(t)),excludeLanguages:(e,t=[],n)=>t.length===0||FP(n)||n.edition==="esc"?e:e.filter(r=>!r.language.every(i=>t.includes(i))),search:(e,t)=>{const n=Xs(t);if(n.length>0){const r=new Av({}),[,i,s]=r.search(e.map(o=>`${Xs(o.artist)} ${Xs(o.title)}`),t);if(s&&i)return s.map(o=>e[i.idx[o]])}return n.length>0?e.filter(r=>r.search.includes(n)):e},duet:(e,t)=>t===null?e:e.filter(n=>t?n.tracksCount>1:n.tracksCount===1),yearBefore:(e,t)=>t?e.filter(n=>Number(n.year)<t):e,yearAfter:(e,t)=>t?e.filter(n=>Number(n.year)>=t):e,edition:(e,t)=>Xs(t).length?e.filter(r=>Xs(r.edition??"").includes(t)):e,recentlyUpdated:e=>{const t=Xi().subtract(31,"days");return e.filter(n=>n.lastUpdate&&Xi(n.lastUpdate).isAfter(t))},specificSongs:(e,t,n)=>FP(n)?e:e.filter(r=>t.includes(r.id))},UP=(e,t)=>Object.entries(t).filter(n=>n[0]in jm).reduce((n,[r,i])=>jm[r](n,i,t,e),e),pme=(e,t,n)=>{var p;const[r]=$e(n0),i=_.useMemo(()=>UP(e,{excludeLanguages:r??[]}),[e,r]),s=ame(i,t,n),[o,a]=_.useState(new URLSearchParams((p=global.location)==null?void 0:p.search).get("playlist")??null),[l,c]=_.useState(zP);_.useEffect(()=>{c(zP)},[o]);const u=_.useDeferredValue(l),d=s.find(g=>g.name===o)??s[0],h=_.useMemo(()=>UP(e,{...(d==null?void 0:d.filters)??{},...u,excludeLanguages:r??[]}),[e,u,r,d]);return{filters:l,filteredList:h,setFilters:c,selectedPlaylist:o,setSelectedPlaylist:a,playlists:s,playlist:d}};function gme(){const e=Sh(),{value:{popular:t},loading:n}=fme(e.data),r=e.isLoading||n,{filters:i,filteredList:s,setFilters:o,selectedPlaylist:a,setSelectedPlaylist:l,playlists:c,playlist:u}=pme(e.data,t,r);return{groupedSongList:_.useMemo(()=>{var p;if(s.length===0)return[];const h=[];if(i.search)return h.push({name:"Search results",songs:s.map((g,m)=>({index:m,song:g,isPopular:t.includes(g.id)}))}),h;{(u!=null&&u.sortingFn?[...s].sort(u.sortingFn):s).forEach(A=>{try{const{name:v,...y}=((u==null?void 0:u.groupData)??hme)(A);let b=h.find(S=>S.name===v);b||(b={name:v,songs:[],...y},h.push(b)),b.songs.push({index:s.indexOf(A),song:A,isPopular:t.includes(A.id)})}catch(v){console.error(v),Ns(v)}});const m=((p=u==null?void 0:u.postGrouping)==null?void 0:p.call(u,h))??h;if(!(u!=null&&u.hideNew)){const A=s.filter(v=>v.isNew);A.length&&A.length<50&&m.unshift({name:"New",isNew:!0,songs:A.map(v=>({song:v,index:s.indexOf(v),isPopular:t.includes(v.id)}))})}return m}},[s,i.search,t,u]),songList:s,filters:i,setFilters:o,isLoading:r,selectedPlaylist:a,setSelectedPlaylist:l,playlists:c}}const mme=e=>f.jsxs(yme,{children:[e.song.tracksCount>1&&f.jsxs(_me,{"data-test":"multitrack-indicator",children:[f.jsx(Qd,{}),"  Duet"]}),f.jsx(vme,{song:e.song,isPopular:e.isPopular,focused:!!e.video})]}),vme=({song:e,isPopular:t,focused:n})=>{var c,u,d,h;const r=_.useMemo(()=>jm.recentlyUpdated([e]).length>0,[e]),s=gE(Qf.Eurovision)&&XN(e),o=fE(e),a=((u=(c=o==null?void 0:o.scores)==null?void 0:c.at(-1))==null?void 0:u.date)??!1,l=a&&Xi(a).isAfter(Xi().subtract(1,"days"));return o!=null&&o.plays?f.jsx(t$,{"data-test":"song-stat-indicator",children:l?"Played today":f.jsx(f.Fragment,{children:n?f.jsxs(f.Fragment,{children:["Played ",o.plays," time",o.plays>1&&"s"]}):o.plays})}):s?f.jsxs(fA,{white:!0,children:[f.jsx(dA,{children:n?(d=e.edition)==null?void 0:d.replace("ESC","Eurovision"):(h=e.edition)==null?void 0:h.replace("ESC ","")}),f.jsx(Ame,{src:mE,alt:e.edition})]}):r?f.jsx(fA,{white:!0,children:n?f.jsx(dA,{children:"Added recently"}):f.jsx(QN,{})}):t&&e.language.includes("English")?f.jsx(f.Fragment,{children:f.jsxs(fA,{children:[n&&f.jsx(dA,{children:"Popular"}),f.jsx(JN,{})]})}):null},dA=C("div",{target:"enamf7r6"})({name:"eh2bdr",styles:"padding:0 0.5rem;line-height:0;margin-top:0.2rem;&+svg{margin-left:-0.25rem;}"}),yme=C("div",{target:"enamf7r5"})({name:"67oilw",styles:"position:absolute;top:0.5rem;left:0;padding:0 0.5rem;box-sizing:border-box;display:flex;align-items:center;justify-content:flex-end;gap:0.5rem;width:100%"}),e$=C("div",{target:"enamf7r4"})({name:"1utw6sa",styles:"height:2.75rem;min-width:2.75rem;box-sizing:border-box;color:white;font-size:1.4rem;display:flex;align-items:center;justify-content:center;text-transform:uppercase;background:rgba(0, 0, 0, 0.75);border-radius:0.5rem"}),fA=C(e$,{target:"enamf7r3"})("overflow:hidden;display:flex;align-items:center;justify-content:center;svg,img{fill:",e=>e.white?"white":he.colors.text.active,";width:2.5rem;height:2.5rem;}"),Ame=C("img",{target:"enamf7r2"})({name:"1pr315k",styles:"padding:0.35rem;margin:0 0.15rem 0 -0.35rem;box-sizing:border-box"}),t$=C(e$,{target:"enamf7r1"})({name:"2ycp6t",styles:"padding:0 1rem"}),_me=C(t$,{target:"enamf7r0"})({name:"1k65tge",styles:"margin-right:auto;svg{width:1.75rem;height:1.75rem;}"}),n$=({song:e,focused:t,video:n,children:r,index:i,groupLetter:s,handleClick:o,isPopular:a,background:l=!0,expanded:c=!1,forceFlag:u=!1,...d})=>{const h=_.useCallback(()=>o?o(i,s):void 0,[o,i,s]);return f.jsxs(wme,{...d,onClick:o?h:void 0,children:[l&&f.jsx(Eme,{style:{backgroundImage:`url('https://i3.ytimg.com/vi/${e.video}/hqdefault.jpg')`},focused:t,expanded:c}),f.jsxs(Sme,{expanded:c,children:[!c&&f.jsx(mme,{song:e,isPopular:a,video:n}),f.jsx(vE,{expanded:c,children:e.artist}),f.jsx(_v,{expanded:c,children:e.title}),f.jsxs(r$,{expanded:c,children:[c&&f.jsxs(f.Fragment,{children:[e.author&&f.jsxs(s$,{expanded:c,children:["by ",e.authorUrl?f.jsx("a",{href:e.authorUrl,target:"_blank",rel:"noreferrer",children:e.author}):e.author]}),f.jsx(kme,{song:e})]}),!c&&f.jsx(bme,{song:e,forceFlag:u})]})]}),r,n]})},bme=C(Uge,{target:"e1ornw2x8"})({name:"1152n88",styles:"height:2.75rem;object-fit:cover;border-top-right-radius:1rem;border-bottom-left-radius:1rem;position:absolute;z-index:-1;left:0rem;bottom:0rem;opacity:0.95"}),r$=C("div",{target:"e1ornw2x7"})({name:"1dgv8bf",styles:"display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-start"});var xme={name:"1u0tp1t",styles:"align-items:flex-start;justify-content:flex-start"};const Sme=C("div",{target:"e1ornw2x6"})("width:100%;height:100%;display:flex;align-items:flex-end;justify-content:flex-end;z-index:1;box-sizing:border-box;flex-direction:column;",e=>e.expanded&&xme,";"),wme=C("div",{target:"e1ornw2x5"})({name:"1s4n252",styles:"font-size:4.5rem;display:flex;align-items:flex-end;justify-content:flex-end;flex-direction:column;box-sizing:border-box;position:relative;padding:0.5rem;border:0.1rem black solid;border-radius:1rem"}),Eme=C("div",{target:"e1ornw2x4"})("background-color:#2b2b2b;",e=>!e.expanded&&"border-radius: 1rem;"," position:absolute;z-index:-1;inset:0;",e=>e.theme.graphicSetting==="high"?Ot("background-size:",e.focused?100:110,"%;",e.focused?"":"filter: grayscale(90%);"," ",e.expanded?"filter: blur(10px);":""," transition:300ms;opacity:",e.focused?1:.8,";",""):Ot("background-size:100%;opacity:",e.focused?1:.6,";","")," background-position:center center;"),i$=C("span",{target:"e1ornw2x3"})("background:rgba(0, 0, 0, 0.7);width:auto;display:inline-block;padding:0.5rem;",Ne,";text-align:right;font-size:",({expanded:e})=>e?"6rem":"2.7rem",";"),vE=C(i$,{target:"e1ornw2x2"})("color:",he.colors.text.active,";"),_v=C(i$,{target:"e1ornw2x1"})("margin-top:",e=>e.expanded?"1.5rem":"0.5rem",";color:white;"),s$=C(_v,{target:"e1ornw2x0"})({name:"5twmqz",styles:"font-size:3rem;margin-top:3rem"}),kme=({song:e})=>{const t=fE(e);return f.jsx(s$,{children:t!=null&&t.plays?`Played ${t.plays} time${t.plays>1?"s":""}`:"Never played yet"})};function Cme({groupedSongList:e,onScrollToGroup:t,container:n}){const[r,i]=_.useState([]);return _.useEffect(()=>{const s=new IntersectionObserver(a=>{a.forEach(l=>{const c=l.target.getAttribute("data-group-name");l.isIntersecting?i(u=>[...u,c]):i(u=>u.filter(d=>d!==c))})}),o=new MutationObserver(()=>{const a=document.querySelectorAll("[data-group-name]");s.disconnect(),i([]),a.forEach(l=>{s.observe(l)})});if(n)return o.observe(n,{childList:!0,subtree:!0}),()=>{o.disconnect(),i([]),s.disconnect()}},[e,n]),f.jsx(f.Fragment,{children:f.jsx(Tme,{children:e.map(s=>{const o=r.includes(s.name);return f.jsx(Ime,{active:o,onClick:()=>t(s),"data-active":o,"data-test":`group-navigation-${s.name}`,children:s.displayShort??s.name},s.name)})})})}const Tme=C("div",{target:"e131hflw1"})({name:"191ly3l",styles:"position:fixed;display:flex;flex-direction:row;align-items:center;justify-content:flex-start;top:0;left:var(--song-sidebar-weight);padding:1rem 0 1.5rem 2rem;width:100%;z-index:100;gap:1rem;background:rgba(0, 0, 0, 0.75)"}),Ime=C(ds,{target:"e131hflw0"})("border:none;cursor:pointer;",Ne,";display:inline-flex;align-items:center;justify-content:center;height:3.3rem;padding:0.5rem 1.25rem;font-size:2.3rem;z-index:1;color:",he.colors.text.default,";background:",e=>e.active?he.colors.lines.star.stroke:"rgba(0, 0, 0, 0.7)",";"),HP={[mr.DUEL]:"Duel",[mr.PASS_THE_MIC]:"Pass The Mic",[mr.CO_OP]:"Cooperation"},hA=["Hard","Medium","Easy"],Pme=Iw("song_settings-game_mode-v3"),Rme=Iw("song_settings-tolerance-v2");function Mme({songPreview:e,onNextStep:t,keyboardControl:n,onExitKeyboardControl:r}){const[i,s]=Pme(null),o=i??(e.tracksCount>1?mr.CO_OP:mr.DUEL),[a,l]=Rme(1),c=()=>{const p={id:Ug(),players:[],mode:o,tolerance:a+1};t(p)},u=()=>{s(Za(Object.values(mr),o))},d=()=>l(p=>bh(hA,p,-1)),{register:h}=Vn({enabled:n,onBackspace:r});return f.jsxs(f.Fragment,{children:[f.jsx(qP,{...h("difficulty-setting",d,"Change difficulty"),label:"Difficulty",value:hA[a],"data-test-value":hA[a]}),f.jsx(qP,{...h("game-mode-setting",u,"Change mode"),label:"Mode",value:HP[o],"data-test-value":HP[o]}),f.jsxs(Ome,{children:[o===mr.DUEL&&"Face off against each other - person that earns more points wins.",o===mr.CO_OP&&"Join forces and sing together - your points will be added up to a single pool.",o===mr.PASS_THE_MIC&&f.jsxs(f.Fragment,{children:["For more than 2 players - split into groups and pass the microphone within the group when prompted with"," ",f.jsx(pv,{})," symbol."]})]}),f.jsx(jme,{...h("next-step-button",c,void 0,!0),children:"Next ➤"})]})}const jme=C(ds,{target:"ews4mmz2"})({name:"sr8dp2",styles:"padding:0.5rem 9rem;font-size:4.3rem;width:50rem"}),Ome=C("h3",{target:"ews4mmz1"})({name:"rdh6te",styles:"max-width:50rem;margin:-1rem 0 1rem!important;padding:1.5rem;background:rgba(0, 0, 0, 0.7);box-sizing:border-box"}),qP=C(Hr,{target:"ews4mmz0"})({name:"1tcj19k",styles:"font-size:4.3rem;padding:1rem;min-width:50rem;box-sizing:border-box"});function Vme(){const t=Ti(te.playerInputChanged,()=>Re.getInputs()).some(o=>o.source==="Microphone"),n=_.useRef([]),r=_.useCallback(o=>{n.current.push(o)},[]);rpe(0,50,r);const[i,s]=_.useState(!1);return _.useEffect(()=>{const o=setInterval(()=>{const a=n.current.filter(([,h])=>h===0),l=n.current.filter(([,h])=>h>0),c=a.reduce((h,[p])=>h+p,0)/(a.length+1),u=l.reduce((h,[p])=>h+p,0)/(l.length+1),d=l.length>a.length*.1&&u>.01&&c>.01&&u-c<c/2;s(d),n.current.length=0},i?5e3:2500);return()=>clearInterval(o)},[i]),f.jsxs(Lme,{visible:i,children:[f.jsxs("h2",{children:[f.jsx("strong",{children:f.jsx(Vl,{})})," ","Noise detected"]}),f.jsx("hr",{}),f.jsxs("h4",{children:["This might make singing inaccurate. Make sure your microphone doesn't pick up the music."," ",t&&f.jsxs(f.Fragment,{children:["Alternatively, use your ",f.jsx("strong",{children:"smartphone as a microphone"})," instead."]})]})]})}const Lme=C("div",{target:"e1liv9270"})("opacity:",e=>e.visible?1:0,";transition:300ms;background:rgba(0, 0, 0, 0.75);padding:1rem;max-width:50rem;position:relative;top:-1rem;left:-0.5rem;"),o$=(e,t=333,n)=>{const[r,i]=_.useState("ok");return _.useEffect(()=>{const s=setInterval(()=>{i(sn.getInputStatus(e))},t);return()=>{clearInterval(s)}},[e,t,n]),r},a$=e=>{const[t,n]=_.useState(null);return _.useEffect(()=>{const r=setInterval(()=>{const i=Je.getRemoteMicById(e??"");n(i?i.getLatency():null)},1e3);return()=>{clearInterval(r)}},[e]),t};function l$({playerNumber:e,...t}){var r,i;const n=a$((i=(r=Re.getPlayer(e))==null?void 0:r.input)==null?void 0:i.deviceId);return f.jsx(f.Fragment,{children:n!==null?f.jsxs(Nme,{...t,children:[n,"ms"]}):""})}const Nme=C("span",{target:"e10sf0140"})({name:"1wwatg0",styles:"position:absolute;right:4rem;bottom:0.5rem;font-size:1.75rem"});var yE={},$me=Xe;Object.defineProperty(yE,"__esModule",{value:!0});var c$=yE.default=void 0,Dme=$me(nt()),Bme=f;c$=yE.default=(0,Dme.default)((0,Bme.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2"}),"Circle");function u$({status:e,tooltipPosition:t="end",...n}){return f.jsxs(Fme,{...n,children:[e==="ok"?f.jsx(zme,{"data-test":"status-ok"}):e==="unavailable"?f.jsx(Ume,{"data-test":"status-unavailable"}):f.jsx(Hme,{"data-test":"status-unstable"}),e==="unavailable"?f.jsx(GP,{position:t,children:f.jsxs("span",{children:["The device is ",f.jsx("strong",{children:"disconnected"}),". Reconnect it, please."]})}):e==="unstable"?f.jsx(GP,{position:t,children:f.jsxs("span",{children:["The connection seems ",f.jsx("strong",{children:"unstable"}),". Connect to the same Wifi."]})}):null]})}const Fme=C("span",{target:"etoberq4"})({name:"186aqlb",styles:"position:absolute;right:0.5rem;top:0.5rem;font-size:3rem;z-index:10;svg{width:3rem;height:3rem;text-shadow:black;}"}),zme=C(c$,{target:"etoberq3"})({name:"19x2ge",styles:"fill:#ffffff;stroke:black;stroke-width:1px"}),Ume=C(iE,{target:"etoberq2"})({name:"f0g68e",styles:"fill:#ff0000"}),Hme=C(Vl,{target:"etoberq1"})({name:"w492oh",styles:"fill:#f89400;stroke:black"}),GP=C("div",{target:"etoberq0"})(Ne,";position:absolute;",e=>e.position==="end"?"left: 100%":"right: 150%",";top:-0.5rem;font-size:1.5rem;height:100%;display:flex;align-items:center;width:25rem;background:rgba(0, 0, 0, 0.75);padding:0.5rem;margin-left:2rem;");function d$({player:e}){const t=o$(e.number);return f.jsxs(qme,{"data-test":`indicator-player-${e.number}`,children:[f.jsx(l$,{playerNumber:e.number}),f.jsx(u$,{status:t}),t!=="unavailable"&&f.jsx(tE,{playerNumber:e.number}),f.jsx(Gme,{className:"ph-no-capture",children:e.getName()})]},e.number)}const qme=C("div",{target:"e17xkp2e1"})({name:"1gmoqr1",styles:"position:relative;border:0.1rem solid white;padding:1rem 3rem;background:black;width:80%;text-align:center;gap:1.25rem;font-size:2.3rem;color:white;-webkit-text-stroke:1px black"}),Gme=C("span",{target:"e17xkp2e0"})({name:"179t5g5",styles:"position:relative;z-index:1"});function Wme(e){Ds(te.playerNameChanged),_.useEffect(()=>{sn.startMonitoring()},[]);const n=Ti(te.playerInputChanged,()=>Re.getInputs()).some(r=>r.source!=="Dummy");return f.jsxs(Yme,{...e,children:[f.jsxs(Kme,{children:["Microphone Check",n?Re.getPlayers().map(r=>f.jsx(d$,{player:r},r.number)):f.jsxs(f.Fragment,{children:[f.jsx(Qme,{children:"Mic not setup"}),f.jsx("h4",{children:"Singing will be emulated"}),f.jsx("h5",{children:"You can setup in the Next step"})]})]}),f.jsx(Vme,{})]})}const Yme=C("div",{target:"egp8knc2"})("display:flex;font-size:3rem;",Ne,";margin-bottom:8.6rem;gap:3.5rem;"),Kme=C("div",{target:"egp8knc1"})({name:"fmwdml",styles:"gap:1.25rem;display:flex;flex-direction:column;align-items:center"}),Qme=C("div",{target:"egp8knc0"})({name:"1x5xnlp",styles:"position:relative;border:0.1rem solid white;padding:1rem 3rem;background:black;width:80%;text-align:center;gap:1.25rem;font-size:2.3rem;color:white"});function f$({onClose:e,closeButtonText:t}){return f.jsx(Iu,{onClose:e,children:f.jsx(fs,{children:f.jsx(oE,{smooth:!1,onBack:e,onFinish:e,closeButtonText:t,skipText:"Back"})})})}const h$=_.forwardRef(({options:e,focused:t,label:n,value:r,onChange:i,disabled:s,placeholder:o,keyboardNavigationChangeFocus:a,onBlur:l,className:c,...u},d)=>{const h=_.useRef(null);_.useImperativeHandle(d,()=>h.current);const p=_.useRef(null),[g,m]=_.useState(!1),[A,v]=_.useState(-1),y=_.useMemo(()=>e.filter(x=>x.toLowerCase().trim().includes(r.toLowerCase().trim())&&x!==r),[e,r]),b=x=>{var w,E,T;if(x.code==="ArrowUp"||x.code==="ArrowDown")if(y.length){x.preventDefault();const L=bh(y,A,x.code==="ArrowUp"?-1:1);v(L);const O=(w=p.current)==null?void 0:w.querySelector(`[data-index="${L}"]`);O==null||O.scrollIntoView({behavior:"smooth",block:"center"})}else(E=h.current)==null||E.blur(),a==null||a(x.code==="ArrowUp"?-1:1);else if(x.code==="Enter"){const L=y[A];L?(v(-1),i(L)):(T=h.current)==null||T.blur()}},S=()=>{setTimeout(()=>{m(!1),l==null||l()},300)};return f.jsxs(Jme,{className:c,children:[f.jsx(Ru,{onFocus:()=>m(!0),onBlur:S,onKeyDown:b,onChange:i,value:r,focused:t,label:n,disabled:s,ref:h,placeholder:o,...u}),g&&!!y.length&&f.jsx(Xme,{ref:p,role:"listbox",children:y.map((x,w)=>f.jsx(Zme,{role:"listitem","data-index":w,"data-focused":w===A,focused:w===A,onClick:()=>{var E;i(x),v(-1),(E=h.current)==null||E.blur()},children:x},x))})]})}),Jme=C("div",{target:"elw4n422"})({name:"bjn8wh",styles:"position:relative"}),Xme=C("div",{target:"elw4n421"})("margin-top:0.1em;position:absolute;width:100%;background:black;max-height:",(1+2*.3)*4,"em;overflow-y:auto;z-index:2;"),Zme=C("div",{target:"elw4n420"})(Ne,";padding:0.3em;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;color:",e=>e.focused?he.colors.text.active:"white",";cursor:pointer;"),e0e=(e,t)=>{var n;return((n=e[t])==null?void 0:n.name)??`Track ${t+1}`};function t0e({multipleTracks:e,player:t,songPreview:n,playerNames:r,register:i,onChange:s,setup:o}){const[a,l]=_.useState(!1),c=_.useRef(null);if(Ds(te.playerNameChanged),t===void 0)return null;const u=()=>s({number:t.number,track:(o.track+1)%n.tracksCount}),d=g=>{l(!0),t.setName(g)},h=!a,p=t.getName();return f.jsxs(f.Fragment,{children:[f.jsx(n0e,{maxLength:hx,className:"ph-no-capture",value:h?"":p,placeholder:h?p:void 0,options:r,onChange:d,label:"Name:",ref:c,...i(`player-${t.number}-name`,()=>{var g;return(g=c.current)==null?void 0:g.focus()})}),e&&f.jsx(r0e,{...i(`player-${t.number}-track-setting`,u,"Change track"),label:"Track",value:e0e(n.tracks,o.track),"data-test-value":o.track+1})]})}const n0e=C(h$,{target:"euluv3p1"})("input{font-size:4.5rem;}[role='listbox']{max-height:",6*(4.5+.3),"rem;}"),r0e=C(Hr,{target:"euluv3p0"})({name:"1bwrnjg",styles:"font-size:4.5rem;padding:1.1rem"});function i0e({songPreview:e,onNextStep:t,keyboardControl:n,onExitKeyboardControl:r}){const[i]=$e(Zn),[s]=$e(zb),o=Re.getPlayers(),a=!i&&o.length===2&&e.tracksCount>1,l=()=>o.map((S,x)=>({number:S.number,track:a?Math.min(x,e.tracksCount-1):0})),[c,u]=_.useState(l());Jr([te.playerAdded,te.playerRemoved],()=>u(l()));const d=o.map((S,x)=>c.find(w=>w.number===S.number)??l()[x]),h=_.useMemo(()=>JSON.parse(Ve.session.getItem(Zc))??[],[]),p=S=>x=>{u(w=>w.map(E=>E.number===S?x:E))},[g,m]=_.useState(!1);_.useEffect(()=>{g||sn.startMonitoring()},[g]);const{register:A,focusElement:v}=Vn({enabled:n&&!g,onBackspace:r}),y=()=>{t(d)},b=!!s&&s!=="skip";return f.jsxs(f.Fragment,{children:[g&&f.jsx(f$,{closeButtonText:b?"Continue to the song":"Continue to player setup",onClose:()=>{m(!1),b&&v("play")}}),d.map((S,x)=>f.jsxs(s0e,{children:[f.jsxs(o0e,{children:["Player ",x+1]}),f.jsx("div",{children:f.jsx(t0e,{multipleTracks:a,player:Re.getPlayer(S.number),setup:S,onChange:p(S.number),playerNames:h,register:A,songPreview:e})})]},S.number)),b&&f.jsx(WP,{...A("play-song-button",y,void 0,!0),children:"Play"}),f.jsx(WP,{...A("select-inputs-button",()=>m(!0),void 0,!1),children:"Setup mics"})]})}const s0e=C("div",{target:"e12y59822"})({name:"ho1qnd",styles:"display:flex;flex-direction:row"}),WP=C(ds,{target:"e12y59821"})({name:"afgxf2",styles:"padding:0.5rem 9rem;font-size:4.3rem"}),o0e=C("span",{target:"e12y59820"})(Ne,";padding:1.3rem;font-size:4.5rem;");function a0e({songPreview:e,onPlay:t,keyboardControl:n,onExitKeyboardControl:r}){const[i,s]=_.useState(null),[o,a]=_.useState("song"),l=u=>{s(u),a("players")},c=u=>{if(!i)return;const d={...i,players:u};te.songStarted.dispatch(e,d),t({song:e,...d})};return f.jsxs(l0e,{children:[f.jsx(Wme,{style:o==="players"?{viewTransitionName:"player-mic-check-container"}:void 0}),f.jsxs(c0e,{children:[o==="song"&&f.jsx(Mme,{songPreview:e,onNextStep:l,keyboardControl:n,onExitKeyboardControl:r}),o==="players"&&f.jsx(i0e,{songPreview:e,onNextStep:c,keyboardControl:n,onExitKeyboardControl:()=>a("song")})]})]})}const l0e=C("div",{target:"eu207dr1"})({name:"k6gb66",styles:"display:flex;flex-direction:row;align-items:flex-end;justify-content:space-between;width:100%;hr{margin:1rem;opacity:0.25;}"}),c0e=C("div",{target:"eu207dr0"})({name:"115sh08",styles:"width:auto;display:flex;flex-direction:column;align-items:flex-end;gap:1.25rem"}),u0e=30,d0e=(e,t,n)=>{const[r,i]=$e(Jf),s=n(e);Eo(!0,s?t:"regular"),_.useEffect(()=>{s&&i(t)},[]),_.useEffect(()=>{r!==t&&s?i(t):r===t&&!s&&i("regular")},[t,r,e])};function f0e({songPreview:e,top:t,left:n,width:r,height:i,keyboardControl:s,onExitKeyboardControl:o,onPlay:a,isPopular:l,forceFlag:c}){const[u,d]=_.useState(!1),h=_.useRef(null),{width:p,height:g}=wh(),m=gE(Qf.Eurovision);d0e(e,m?"eurovision":"regular",m?XN:()=>!1);const A=s;_.useLayoutEffect(()=>{d(!1)},[e.video]);const v=e.previewStart??(e.videoGap??0)+60,y=e.previewEnd??v+u0e,b=_.useMemo(()=>[e.video,v,y,e.volume],[e.video,v,y,e.volume]),[S,x,w,E]=Bw(b,350);_.useEffect(()=>{var N;(N=h.current)==null||N.loadVideoById({videoId:S,startSeconds:x,endSeconds:w})},[S,h,x,w]);const T=A?p:r,L=A?g:i,O=A?Math.min(p/20*9,g*(4/5)):i;return _.useEffect(()=>{var N;(N=h.current)==null||N.setSize(T,L)},[T,L,s]),f.jsxs(f.Fragment,{children:[A&&f.jsx(m0e,{onClick:o}),!A&&u&&f.jsx(b0e,{width:T,height:L,left:n,top:t,song:e}),f.jsx(g0e,{forceFlag:c,isPopular:l,background:A||u,video:f.jsx(y0e,{show:u,expanded:A,height:O,id:"preview-video-container",children:f.jsx(Yw,{width:0,height:0,disablekb:!0,ref:h,video:"",volume:E,onStateChange:N=>{var Q,M;N===_n.ENDED?((Q=h.current)==null||Q.seekTo(v),(M=h.current)==null||M.playVideo()):N===_n.PLAYING&&d(!0)}})}),focused:!0,song:e,top:t,left:n,width:T,height:O,showVideo:u,expanded:A,"data-test":"song-preview","data-song":e.id,children:f.jsx(A0e,{expanded:A,children:A&&f.jsx(a0e,{songPreview:e,onPlay:a,keyboardControl:s,onExitKeyboardControl:o})})})]})}var h0e={name:"17gota2",styles:"border:0;border-radius:0;position:fixed;padding:var(--preview-padding)"};const p0e=C(n$,{target:"e1vaewax4"})("--preview-padding:5rem;width:",e=>e.width,"px;height:",e=>e.height,"px;position:absolute;z-index:",e=>e.expanded?201:3,";overflow:hidden;visibility:",e=>e.expanded||e.showVideo?"visible":"hidden",";",e=>e.expanded?h0e:Ot("pointer-events:none;",e.showVideo&&e.theme.graphicSetting==="high"?"animation: rhythmPulse 1s infinite":"scale: 1.2",";",""),";@keyframes rhythmPulse{0%{transform:scale(1.2);}15%{transform:scale(1.25);}100%{transform:scale(1.2);}}view-transition-name:song-preview;",vE,"{view-transition-name:song-preview-artist;}",_v,"{view-transition-name:song-preview-title;}",r$,"{view-transition-name:song-preview-expanded-data;}"),g0e=e=>{const t=e.song.realBpm??(e.song.bpm>300?e.song.bpm/4:e.song.bpm/2);return f.jsx(p0e,{style:{top:e.expanded?`calc(50vh - ${e.height}px / 2)`:e.top,left:e.expanded?0:e.left,animationDuration:`${60/t}s`},...e})},m0e=C("div",{target:"e1vaewax3"})({name:"1iz7jdz",styles:"position:fixed;top:0;left:0;background:rgba(0, 0, 0, 0.8);width:100vw;height:100vh;z-index:201"});var v0e={name:"pfrwim",styles:"position:absolute;top:0;left:0;background-image:none!important;border-radius:0.5rem"};const y0e=C("div",{target:"e1vaewax2"})(e=>e.expanded?Ot("position:fixed;inset:0;clip-path:inset(calc((100vh - ",e.height,"px) / 2) 0);",""):v0e," div{opacity:",({show:e})=>e?1:0,";transition:",({show:e,expanded:t})=>e||t?1e3:0,"ms;}"),A0e=C("div",{target:"e1vaewax1"})("inset:auto var(--preview-padding);position:fixed;z-index:100;",e=>!e.expanded&&"transform: scale(0.1);"," border-radius:0.5rem;view-transition-name:song-preview-content;"),_0e=C("div",{target:"e1vaewax0"})("background:white;width:",e=>e.width,"px;height:",e=>e.height,"px;z-index:2;top:0;left:0;position:absolute;animation:bpm 1s infinite;border-radius:0.5rem;pointer-events:none;@keyframes bpm{0%{transform:scale(1.15);opacity:1;}100%{transform:scale(1.45);opacity:0;}}"),b0e=e=>{const[t]=$e(Ss);if(t==="low")return null;const n=e.song.realBpm??(e.song.bpm>300?e.song.bpm/4:e.song.bpm/2);return f.jsx(_0e,{width:e.width,height:e.height,style:{left:e.left,top:e.top,animationDuration:`${60/n}s`}})};function x0e(e){var t=Kp(e),n=t%1;return t===t?n?t-n:t:0}var S0e=Math.ceil,w0e=Math.max;function nb(e,t,n){(n?E3(e,t,n):t===void 0)?t=1:t=w0e(x0e(t),0);var r=e==null?0:e.length;if(!r||t<1)return[];for(var i=0,s=0,o=Array(S0e(r/t));i<r;)o[s++]=Dx(e,i,i+=t);return o}const E0e=(e,t,n)=>e>=t&&e<n;function k0e(e,t){var b,S,x;const n=_.useMemo(()=>{const w=[];return e.groupSizes.forEach((E,T)=>{var L,O;w.push({index:T,type:"group",bottom:(((L=w.at(-1))==null?void 0:L.bottom)??0)+e.groupHeight,groupIndex:T});for(let N=0;N<E;N++){const Q=e.groupSizes.reduce((M,U,P)=>M+(P<T?U:0),0)+N;w.push({index:Q,type:"item",bottom:(((O=w.at(-1))==null?void 0:O.bottom)??0)+e.itemHeight,groupIndex:T})}}),w},[e.itemHeight,e.groupHeight,e.groupSizes]),r=((b=n.at(-1))==null?void 0:b.bottom)??0,i=_.useRef(null),s=((S=i.current)==null?void 0:S.getBoundingClientRect().height)??global.innerHeight,o=_.useCallback(w=>{const E=n.findIndex(L=>L.bottom>w-e.overScan),T=n.findIndex(L=>L.bottom>w+s+e.overScan);return[E,T===-1?n.length:T]},[n,s,e.overScan]),[[a,l],c]=_.useState(o(0));_.useLayoutEffect(()=>{var E;const w=o(((E=i.current)==null?void 0:E.scrollTop)??0);(a!==w[0]||l!==w[1])&&c(w)},[o,e.groupSizes,a,l]),_.useEffect(()=>{if(i.current){const w=()=>{var T;const E=o(((T=i.current)==null?void 0:T.scrollTop)??0);(a!==E[0]||l!==E[1])&&c(E)};return i.current.addEventListener("scroll",w),i.current.scrollTop>r&&i.current.scrollTo({top:0}),()=>{var E;(E=i.current)==null||E.removeEventListener("scroll",w)}}},[a,l,o,r]);const u=_.useCallback((w,E)=>{var T,L;return(((T=n[E])==null?void 0:T.bottom)??0)-(((L=n[w])==null?void 0:L.bottom)??0)},[n]),d=_.useMemo(()=>u(-1,a-1),[a,u]),h=n.slice(0,a).findLastIndex(({type:w})=>w==="group"),p=n.slice(a,l),g=h!==-1?[[]]:[];for(let w=0;w<p.length;w++){const E=p[w];E.type==="group"&&g.push([]),(x=g.at(-1))==null||x.push(E)}_.useImperativeHandle(t,()=>({getItemPositionY:w=>{var E;return(((E=n.find(T=>T.type==="item"&&T.index===w))==null?void 0:E.bottom)??-1)-e.itemHeight},scrollTo:w=>{var E;(E=i.current)==null||E.scrollTo({top:w})},scrollToIndex:async(w,E="auto",T="center")=>{var O,N;const L=n.find(Q=>Q.type==="item"&&Q.index===w);if(L){const Q=(e.itemHeight+(T==="center"?(O=i.current)==null?void 0:O.clientHeight:0))/2;(N=i.current)==null||N.scrollTo({top:L.bottom-Q,behavior:E})}},scrollToGroup:async(w,E="auto",T="top")=>{var O;const L=n.find(N=>N.type==="group"&&N.index===w);L&&((O=i.current)==null||O.scrollTo({top:L.bottom-e.groupHeight,behavior:E}))}}));const{Header:m,Footer:A,EmptyPlaceholder:v}=e.components??{},y=n.findIndex(w=>w.type==="item"&&w.index===e.forceRenderItem);return f.jsx(f.Fragment,{children:f.jsxs(T0e,{ref:i,children:[f.jsxs(C0e,{style:{height:r,paddingTop:h!==-1?d-e.groupHeight:d},children:[m&&f.jsx(m,{context:e.context}),n[y]&&!E0e(y,a,l)&&f.jsx(f.Fragment,{children:e.itemContent(n[y].index,n[y].groupIndex,{style:{width:"100%",position:"absolute",top:n[y].bottom-e.itemHeight,left:0,boxSizing:"border-box"},"data-virtualized-bottom":n[y].bottom,"data-virtualized-index":n[y].index})}),g.map((w,E)=>f.jsxs("div",{children:[E===0&&h!==-1&&e.groupContent(n[h].index),w.map(({index:T,type:L,bottom:O,groupIndex:N})=>f.jsx(_.Fragment,{children:L==="group"?e.groupContent(T):e.itemContent(T,N,{"data-virtualized-bottom":O,"data-virtualized-index":T})},`${O}`))]},(w[0]??n[h]).groupIndex))]}),g.length===0&&v&&f.jsx(v,{context:e.context}),A&&f.jsx(A,{context:e.context})]})})}const C0e=C("div",{target:"e1c20jfn1"})({name:"100d0a9",styles:"box-sizing:border-box;position:relative"}),T0e=C("div",{target:"e1c20jfn0"})({name:"1wyitvb",styles:"overflow:auto;height:100%;width:100%"}),I0e=_.forwardRef(k0e);function P0e(e,t){const n=_.useRef(null),r=_.useMemo(()=>e.groups.map(u=>({group:u,rows:nb(u.songs,e.perRow)})),[e.groups,e.perRow]),i=_.useMemo(()=>r.map(({rows:u})=>u.length),[r]),s=_.useMemo(()=>r.flatMap(({rows:u})=>u),[r]),{ListRowWrapper:o,GroupRowWrapper:a}=e,l=_.useCallback((u,d)=>{let h=e.groups.findIndex(p=>p.name===u);return h===-1?e.groups.findIndex(p=>p.songs.some(g=>g.index===d)):h},[e.groups]),c=_.useCallback((u,d)=>{let h=l(u,d);if(h===-1)return;const p=e.groups[h].songs.findIndex(g=>g.index===d);return r.slice(0,h).reduce((g,{rows:m})=>g+m.length,Math.floor(p/e.perRow))},[l,r,e.groups,e.perRow]);return _.useImperativeHandle(t,()=>({getSongPosition:(u,d)=>{var v;let h=l(u,d);if(h===-1)return;const p=e.groups[h].songs.findIndex(y=>y.index===d),g=r.slice(0,h).reduce((y,{rows:b})=>y+b.length,Math.floor(p/e.perRow)),m=((v=n.current)==null?void 0:v.getItemPositionY(g))??-1;return{x:p%e.perRow,y:m}},scrollToGroup:u=>{var h;const d=e.groups.findIndex(p=>p.name===u);d!==-1&&((h=n.current)==null||h.scrollToGroup(d,"smooth"))},scrollToSongInGroup:async(u,d,h="smooth")=>{var g;const p=c(u,d);p!==void 0&&((g=n.current)==null||g.scrollToIndex(p,ls()?"auto":h))}})),f.jsx(f.Fragment,{children:f.jsx(I0e,{forceRenderItem:c(e.focusedGroup,e.focusedSong)??-1,overScan:e.itemHeight*2,itemHeight:e.itemHeight,groupHeight:e.groupHeight,components:e.components,context:e.context,groupContent:(u,d)=>f.jsx(a,{group:r[u].group,...d,children:e.renderGroup(r[u].group)}),ref:n,groupSizes:i,itemContent:(u,d,h)=>f.jsxs(o,{group:r[d].group,...h,children:[s[u].map(p=>e.renderItem(p,r[d].group)),e.placeholder&&s[u].length<e.perRow&&new Array(e.perRow-s[u].length).fill(null).map((p,g)=>f.jsx(_.Fragment,{children:e.placeholder},g))]})},e.itemHeight)})}const R0e=_.forwardRef(P0e),p$=(e,t)=>e+Math.random()*(t-e),Is=(e,t)=>Math.round(p$(e,t));function Om(e){const t=_.useRef(e);return _.useEffect(()=>{t.current=e},[e]),t.current}const M0e=30;function j0e(e,t,n=M0e){let r;if(t.length<e){const i=[...Array(e).keys()].filter(s=>!t.includes(s));r=i[Is(0,i.length-1)]}else r=Is(0,e-1),t.length=0;return t.length>=n&&t.shift(),t.push(r),r}const O0e=(e=[],t)=>{var A;const[n,r]=_.useState([0,0]),i=_.useMemo(()=>e.map(({songs:v})=>v.length).join(","),[e]),s=_.useMemo(()=>e.map(({songs:v})=>nb(v.map(y=>y.index),t)).flat(),[i,t]),o=_.useMemo(()=>e.map(({songs:v,name:y})=>nb(v.map(()=>y),t)).flat(),[i,t]),a=Om(s??[]),l=n[0]===((A=s[n[1]])==null?void 0:A.length)-1,c=_.useCallback((v,y)=>{var x;const b=s.findIndex((w,E)=>w.includes(v)&&(!y||y===o[E][0])),S=(x=s[b])==null?void 0:x.indexOf(v);S>=0&&b>=0?r([S??0,b??0]):r([0,0])},[s]),u=([v,y],b,S)=>{var w;if(e.length===0)return S;const x=b[y];return(x==null?void 0:x[v])??(x==null?void 0:x.at(-1))??((w=b==null?void 0:b[0])==null?void 0:w[0])??S},d=([v,y],b=s)=>u([v,y],b,0),h=([v,y],b=o)=>u([v,y],b,"A");_.useEffect(()=>{const v=d(n,a),y=d(n,s);a.length&&v!==y&&c(v)},[n,s,a,l]);const p=(v,y)=>{E0.play(),r(([b,S])=>{let x=b,w=S;if(v==="y")w=S+y;else{if(s[S]===void 0)debugger;const E=s[S].length-1;x=Math.min(b,E)+y,x<0?(w=(s.length+S-1)%s.length,x=s[w].length-1):x>E&&(w=S+1,x=0)}return[x%t,(s.length+w)%s.length]})},g=d(n),m=h(n);return[g,m,n,p,c,l]},V0e=(e,t=[],n,r,i,s)=>{const o=oi(),[a,l]=_.useState([!1,null]),c=Om(a),[u,d]=a,[h,p,g,m,A,v]=O0e(t,s),y=g[0]===0,b=()=>{wx.play(),n()},[S,x]=_.useState(!1),w=Om(i.search);_.useLayoutEffect(()=>{if(w&&!i.search){x(!0);const P=setTimeout(()=>x(!1),2e3);return()=>{clearTimeout(P),x(!1)}}},[i.search]);const E=()=>{!S&&!i.search&&(Ex.play(),o("menu/"))},T=_.useCallback(Mc((P,I)=>{const z=(t.length+I+P)%t.length;A(t[z].songs[0].index),E0.play()},700,{trailing:!1}),[t]),L=(P,I)=>{if(!(P!=null&&P.repeat))m("y",I);else{const z=t.findIndex(j=>!!j.songs.find($=>$.index===h));T(I,z)}},O=(P,I=!1)=>{!I&&P===-1&&y&&!u?l([!0,"left"]):m("x",P)},N=_.useRef([]),Q=()=>{const P=j0e(r,N.current);A(P)};Il({accept:b,down:P=>L(P,1),up:P=>L(P,-1),left:()=>O(-1),right:()=>O(1),back:E,random:Q},e&&!u,[t,g,u,i,S]);const M=_.useMemo(()=>({"horizontal-vertical":null,accept:null,back:null,shiftR:null,alphanumeric:null,remote:["search"]}),[]);Pu(M,e);const U=_.useCallback(P=>{l([!1,P??null])},[l,O,t,g]);return _.useLayoutEffect(()=>{const[P,I]=c;P&&!u&&I===d&&O(d==="right"?1:-1,!0)},[u,d,y,v,...g]),[h,p,A,u,U,Q]};function L0e(e,t){const{songList:n,groupedSongList:r,setFilters:i,filters:s,isLoading:o,selectedPlaylist:a,setSelectedPlaylist:l,playlists:c}=gme(),[u,d]=_.useState(!0),h=w=>{Df(()=>{Tu.flushSync(()=>{d(w)})}),kx.play()},[p,g,m,A,v,y]=V0e(u,r,()=>h(!1),n.length,s,t),[b,S]=_.useState(!1);_.useEffect(()=>{if(!b&&n.length&&!o){const w=n.findIndex(L=>L.id===e),E=n.findIndex(L=>L.isNew);let T=Is(0,n.length-1);(w>-1||E>-1)&&(T=w),S(!0),m(T)}},[m,b,p,n,e,o]),_.useEffect(()=>{var w;if(b&&n.length&&n[p]&&!o){const E=new URL((w=global.location)==null?void 0:w.href);E.searchParams.set("song",n[p].id),global.history.replaceState(null,"",E.toString())}},[b,p,n,o]);const x=n==null?void 0:n[p];return{groupedSongList:r,focusedSong:p,focusedGroup:g,moveToSong:m,setKeyboardControl:h,keyboardControl:u,songPreview:x,songList:n??[],filters:s,setFilters:i,showFilters:A,setShowFilters:v,isLoading:o||!b,randomSong:y,selectedPlaylist:a,setSelectedPlaylist:l,playlists:c}}const N0e=1.2,YP=4,g$=7,rb=4.5,KP=g$+rb,Tp=3.5,$0e={Header:({context:e})=>f.jsxs(f.Fragment,{children:[f.jsx(W0e,{}),e&&e.songPreview.songPreview&&f.jsx(f0e,{...e.songPreview})]}),Footer:()=>f.jsxs(B0e,{children:["Missing a song? Try"," ",f.jsx(vw,{to:"convert/",children:f.jsx("a",{children:"adding one"})})," ","yourself!"]}),EmptyPlaceholder:()=>f.jsx(H0e,{children:"No songs found"})};function D0e({onSongSelected:e,preselectedSong:t}){const[n]=$e(Zn),r=n?YP-1:YP;Aa(!1),Eo(!0),WN();const{focusedGroup:i,focusedSong:s,moveToSong:o,groupedSongList:a,keyboardControl:l,songPreview:c,setKeyboardControl:u,setFilters:d,filters:h,setShowFilters:p,showFilters:g,isLoading:m,randomSong:A,selectedPlaylist:v,setSelectedPlaylist:y,playlists:b,songList:S}=L0e(t,r),x=_.useMemo(()=>a.map(D=>D.songs).flat().find(D=>D.song.id===(c==null?void 0:c.id)),[c,a]),w=_.useRef(null),E=Sge(),{width:T,handleResize:L}=wh(),N=(T-(KP+rb)*E-(r-1)*Tp*E)/r,Q=N*(9/16),M=Q/2,U=_.useCallback(()=>u(!1),[u]),P=m||!a||!T,I=v==="Eurovision",z=_.useRef(null);_.useEffect(()=>{const D=q=>S.findIndex(ne=>ne.id===q);return global.__songList={scrollToSong:q=>{var Z;const[ne]=q.split("-new-group"),V=q.endsWith("-new-group"),ce=a.find(de=>!!de.isNew===V&&de.songs.some(we=>we.song.id===ne));if(ce){const de=D(ne);return(Z=w.current)==null||Z.scrollToSongInGroup(ce.name,de,"auto"),!0}return!1}},()=>{delete global.__songList}},[a,S]);const[{previewTop:j,previewLeft:$},B]=_.useState({previewTop:0,previewLeft:0});return _.useEffect(()=>{const D=document.querySelector(`[data-song-index="${s}"][data-group="${i}"]`);!m&&D?B({previewTop:D.offsetTop+D.parentNode.offsetTop,previewLeft:D.offsetLeft}):m||console.warn("!!!!!!!!!!!! Song not found !!!!!!!!!!!!")},[s,i,m,T]),_.useEffect(()=>{var D;L(),m||(D=w.current)==null||D.scrollToSongInGroup(i,s)},[T,s,i,a,m,L]),f.jsx(To,{children:f.jsxs(F0e,{songsPerRow:r,style:{"--song-group-header-height":`${Math.floor(M)}px`,"--song-entry-width":`${Math.floor(N)}px`,"--song-entry-height":`${Math.floor(Q)}px`,"--song-list-gap":`${Math.floor(Tp*E)}px`,"--song-list-padding-left":`${Math.floor(KP*E)}px`,"--song-list-padding-right":`${Math.floor(rb*E)}px`,"--song-sidebar-weight":`${Math.floor(g$*E)}px`},children:[P?f.jsxs(JP,{children:[f.jsx(ZP,{children:f.jsx(QP,{children:f.jsx(ib,{children:"   "})})}),new Array(4).fill(0).map((D,q)=>f.jsx(eR,{children:new Array(4).fill(0).map((ne,V)=>f.jsx(XP,{},V))}))]}):f.jsxs(f.Fragment,{children:[c&&f.jsx(z0e,{videoId:c.video}),f.jsx(Pge,{setFilters:d,filters:h,onRandom:A,keyboardControl:l}),f.jsx(Cme,{container:z.current,groupedSongList:a,onScrollToGroup:D=>{o(D.songs[0].index),setTimeout(()=>{var q;return(q=w.current)==null?void 0:q.scrollToGroup(D.name)},20)}}),f.jsx(JP,{active:l,dim:g,"data-test":"song-list-container",ref:z,children:f.jsx(R0e,{focusedSong:s,focusedGroup:i,ListRowWrapper:eR,GroupRowWrapper:ZP,ref:w,groups:a,itemHeight:Math.floor(Q)+Math.floor(Tp*E),groupHeight:Math.floor(M)+Math.floor(Tp*E),components:$0e,renderGroup:D=>f.jsx(QP,{highlight:D.name==="New",children:f.jsx(ib,{"data-group-name":D.name,children:D.displayLong??D.name})},D.name),perRow:r,renderItem:(D,q)=>{const ne=D.index===s&&q.name===i;return _.createElement(G0e,{...g||!l?{"data-unfocusable":!0}:{},isPopular:D.isPopular,key:D.song.id,song:D.song,handleClick:ne?U:o,focused:!g&&l&&ne,index:D.index,groupLetter:q.name,"data-song-index":D.index,"data-focused":!g&&l&&D.index===s,"data-test":`song-${D.song.id}${q.isNew?"-new-group":""}`,"data-group":q.name,forceFlag:I})},placeholder:f.jsx(XP,{style:{visibility:"hidden"}}),context:{songPreview:{forceFlag:I,isPopular:!!(x!=null&&x.isPopular),keyboardControl:!l,onPlay:e,onExitKeyboardControl:()=>u(!0),songPreview:c,top:j,left:$,width:Math.floor(N),height:Math.floor(Q)}}})})]}),f.jsx(Nge,{selectedPlaylist:v,setSelectedPlaylist:y,playlists:b,active:g,closePlaylist:p})]})})}const B0e=C("div",{target:"e13s0pn12"})(Ne,";text-align:center;font-size:5rem;padding:10rem 0;"),F0e=C("div",{target:"e13s0pn11"})({name:"usdvu5",styles:"display:flex;flex-direction:row;max-height:100vh"}),z0e=e=>{const{theme:t}=_.useContext(Hx);return t==="eurovision"?null:f.jsx(U0e,{...e})},U0e=C(Mge,{target:"e13s0pn10"})({name:"ybgcp",styles:"position:fixed;inset:0;width:100%;height:100%;filter:blur(7px) grayscale(90%);opacity:0.25;object-fit:cover"}),QP=C("div",{target:"e13s0pn9"})("display:flex;align-items:flex-end;height:var(--song-group-header-height);",e=>e.highlight&&Ot(ib,"{animation:new-song-group-header 600ms ease-in-out infinite both;background:#ffffff;@keyframes new-song-group-header{0%,100%{transform:scale(1);}50%{transform:scale(1.1);}}}",""),";"),H0e=C("div",{target:"e13s0pn8"})(Ne,";display:flex;align-items:center;justify-content:center;flex:1;height:75vh;font-size:10rem;"),ib=C("div",{target:"e13s0pn7"})(Ne,";display:flex;padding:0.5rem 1rem;font-size:3.5rem;z-index:1;color:",he.colors.text.active,";background:rgba(0, 0, 0, 0.7);align-items:center;gap:1rem;"),JP=C("div",{target:"e13s0pn6"})("position:relative;flex:1 1 auto;min-height:100vh;max-height:100vh;transition:opacity 500ms;opacity:",e=>e.dim?.5:1,";"),XP=C("div",{target:"e13s0pn5"})({name:"1mtg8xe",styles:"background:black;flex-basis:var(--song-entry-width);height:var(--song-entry-height);border-radius:1rem;animation:skeleton 1s ease-in-out infinite alternate;@keyframes skeleton{0%{opacity:0.65;}100%{opacity:0.75;}}"});var q0e={name:"1jwmbuq",styles:"transition:300ms"};const G0e=_.memo(C(n$,{target:"e13s0pn4"})("cursor:pointer;flex-basis:var(--song-entry-width);height:var(--song-entry-height);",e=>e.theme.graphicSetting==="high"&&q0e," transform:scale(",e=>e.focused?N0e:1,");",e=>e.focused&&"z-index: 2;"," ",e=>e.focused&&fo,";")),W0e=C("div",{target:"e13s0pn3"})(""),m$=C("div",{target:"e13s0pn2"})({name:"1syiygp",styles:"display:flex;flex-wrap:nowrap;justify-content:space-between;padding:calc(var(--song-list-gap) / 2) var(--song-list-padding-right) calc(var(--song-list-gap) / 2) var(--song-list-padding-left)"}),ZP=C(m$,{target:"e13s0pn1"})({name:"1rn35zs",styles:"position:sticky;top:0;z-index:3"});var Y0e={name:"j4wph1",styles:"background:rgba(0, 0, 0, 0.7)"};const eR=C(m$,{target:"e13s0pn0"})("position:relative;",e=>{var t;return((t=e.group)==null?void 0:t.isNew)&&Y0e},";");function K0e(e){const[t,n]=$e(n0),[r,i]=_.useState(t===null),s=()=>{n(t??[]),i(!1)};return r?f.jsx(qN,{onClose:s,closeText:"Continue to Song Selection"}):f.jsx(D0e,{...e})}var AE={},Q0e=Xe;Object.defineProperty(AE,"__esModule",{value:!0});var v$=AE.default=void 0,J0e=Q0e(nt()),X0e=f;v$=AE.default=(0,J0e.default)((0,X0e.jsx)("path",{d:"M16.59 7.58 10 14.17l-3.59-3.58L5 12l5 5 8-8zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"}),"CheckCircleOutline");const sd=e=>new Promise(t=>setTimeout(t,e)),pA=15;function Z0e({onFinish:e}){const[t,n]=_.useState(!1),[r,i]=_.useState([]);Jr(te.readinessConfirmed,a=>{i(l=>[...l,a])});const s=Ti([te.inputListChanged,te.readinessConfirmed],()=>Re.getPlayers().map((a,l)=>[a.input.deviceId,a.getName(),a]));_.useEffect(()=>{(async()=>{let a=!1;const l=Re.requestReadiness().then(()=>{a=!0,n(!0)}),c=sd(1500),u=sd(pA*1e3);await sd(250),a||await Jp.play(),await Promise.race([Promise.all([l,c]),u]),Jp.playing()&&M3.play(),await sd(500),Jp.pause(),await sd(1e3),e()})()},[]);const o=s.map(([a,l,c])=>({confirmed:r.includes(a),name:l,player:c}));return f.jsx(f.Fragment,{children:f.jsxs(eve,{children:[!t&&f.jsxs("span",{children:["Waiting for all players to click ",f.jsx("strong",{children:'"Ready"'})]}),f.jsx(nve,{children:o.map(({confirmed:a,name:l,player:c},u)=>f.jsxs(rve,{className:"ph-no-capture","data-test":"player-confirm-status","data-name":l,"data-confirmed":a,children:[!t&&f.jsx(ive,{children:a?f.jsx(v$,{}):f.jsx(xh,{color:"info",size:"1em"})})," ",f.jsx(d$,{player:c})]},u))}),!t&&f.jsxs(tve,{children:["The song will start automatically in"," ",f.jsx("strong",{children:f.jsx(uE,{end:0,start:pA,duration:pA,useEasing:!1})})]})]})})}const eve=C("div",{target:"e1wiz9j54"})("top:0;left:0;z-index:1000;display:flex;align-items:center;justify-content:center;flex-direction:column;position:absolute;width:100%;height:100%;gap:5rem;font-size:5rem;",Ne,";"),tve=C("span",{target:"e1wiz9j53"})({name:"1umnjfm",styles:"font-size:5rem"}),nve=C("div",{target:"e1wiz9j52"})({name:"1uxgijs",styles:"display:flex;flex-direction:column;gap:5rem;width:50rem;view-transition-name:player-mic-check-container"}),rve=C("div",{target:"e1wiz9j51"})({name:"174652e",styles:"display:flex;align-items:center;gap:2rem;transform:scale(1.5)"}),ive=C("span",{target:"e1wiz9j50"})({name:"1l5xwqu",styles:"svg{width:5rem;height:5rem;stroke:black;}"});function sve({register:e,onExit:t}){const n=_.useRef(null),[r,i]=_.useState(!1),[s,o]=_.useState(!1);_.useEffect(()=>{var l;(l=n.current)==null||l.focus()},[n]);const a=()=>{const l=je.getSong(),c={songId:l==null?void 0:l.id,songLastUpdated:l==null?void 0:l.lastUpdate};r&&pn.capture("rate-song",{type:"not-in-sync",...c}),s&&pn.capture("rate-song",{type:"wrong-volume",...c}),t()};return f.jsx(f.Fragment,{children:f.jsxs(fs,{children:[f.jsx("h1",{children:"Is the song OK?"}),f.jsx("h4",{children:"If there's something wrong with the song, let me know so I can fix it"}),f.jsxs(tR,{...e("button-not-in-sync",()=>i(l=>!l)),size:"small",children:[f.jsx(nR,{children:r?f.jsx(Tm,{}):f.jsx(Im,{})}),f.jsx("span",{children:"Lyrics are not in sync"})]}),f.jsxs(tR,{...e("button-wrong-volume",()=>o(l=>!l)),size:"small",children:[f.jsx(nR,{children:s?f.jsx(Tm,{}):f.jsx(Im,{})}),f.jsx("span",{children:"Too loud/quiet"})]}),f.jsx("hr",{}),f.jsx(Te,{...e("button-song-ok",a,void 0,!0),ref:n,children:s||r?"Submit and exit":"All good, exit the song"})]})})}const tR=C(Te,{target:"e1prcfby1"})({name:"12ib3m7",styles:"justify-content:flex-start;gap:1rem"}),nR=C("div",{target:"e1prcfby0"})({name:"224g68",styles:"svg{width:3rem;height:3rem;}display:flex;align-items:center;justify-content:center"});function ove({onResume:e,onExit:t,onRestart:n}){const r=oi(),i=_.useRef(null),s=_.useRef(null);_.useEffect(()=>{var h;(h=i.current)==null||h.focus()},[i]);const[o,a]=_.useState(!1),{register:l}=Vn({enabled:!o}),[c,u]=_.useState(!1),d=async()=>{const h=je.getSongCompletionProgress(),p=(await $s.getIndex()).find(g=>{var m;return g.id===((m=je.getSong())==null?void 0:m.id)});!(p!=null&&p.local)&&h<.7&&!ls()?u(!0):t()};return f.jsxs(Iu,{onClose:e,children:[!c&&f.jsxs(f.Fragment,{children:[f.jsxs(fs,{children:[f.jsx(Te,{...l("button-resume-song",e),ref:i,children:"Resume song"}),f.jsx(Te,{...l("button-restart-song",n),children:"Restart song"}),f.jsx(Te,{...l("button-exit-song",d),children:"Exit song"}),f.jsx(Te,{...l("input-settings",()=>a(!0)),children:"Microphones settings"}),f.jsx("hr",{}),f.jsx(AN,{ref:s,...l("input-lag",()=>{var h;return(h=s.current)==null?void 0:h.focus()})}),f.jsx(Te,{...l("edit-song",()=>{var h;return r("edit/song/",{song:((h=je.getSong())==null?void 0:h.id)??""})}),size:"small",children:"Edit song"})]}),o&&f.jsx(f$,{onClose:()=>a(!1),closeButtonText:"Back to Pause Menu"})]}),c&&f.jsx(sve,{onExit:t,register:l})]})}const y$=ls()?1e3:8e3;function ave(e){return Math.floor((gv(e)-y$)/1e3)}const lve=2e4;function cve(e){return gv(e)-(e.videoGap??0)*1e3>lve}function uve({playerRef:e,isEnabled:t}){const[n]=$e(Zn),r=je.getSong(),i=_.useMemo(()=>cve(r),[r]),s=_.useMemo(()=>gv(r),[r]),o=je.getCurrentTime(!1)<s-y$*1.2,a=t&&o&&i;Il({accept:()=>{e==null||e.seekTo(ave(r));const{artist:u,title:d}=je.getSong();pn.capture("introSkipped",{name:`${u} - ${d}`,artist:u,title:d})}},a);const c=_.useMemo(()=>({accept:"Skip Intro",back:"Pause Menu"}),[]);return Pu(c,a),!n&&a?f.jsxs(dve,{visible:a,"data-test":"skip-intro-info",children:["Press ",f.jsx(fve,{children:"Enter"})," to skip the intro"]}):null}const dve=C("div",{target:"e167kngm1"})(Ne,";pointer-events:none;position:fixed;bottom:29rem;transform:scale(",e=>e.visible?1:0,");opacity:",e=>e.visible?1:0,";text-align:center;font-size:5rem;text-shadow:0 0 3.5rem black;width:100%;z-index:4;padding:0.5rem;transition:ease 500ms;"),fve=C("kbd",{target:"e167kngm0"})("margin:0.2rem;padding:0.2rem 2rem;border-radius:1.3rem;border:0.5rem solid rgb(204, 204, 204);border-bottom-color:rgb(150, 150, 150);border-right-color:rgb(150, 150, 150);line-height:1.4;display:inline-block;background-color:rgb(247, 247, 247);text-shadow:0 1rem 0 #fff;opacity:",e=>e.disabled?.25:1,";"),hve=15e3;function pve({onSongEnd:e,isEnabled:t}){const[n]=$e(Zn),r=je.getDuration(),i=_.useMemo(()=>Math.max(...je.getPlayers().map(p=>hf(p.getLastNotesSection()))),[]),s=_.useMemo(()=>{var g;const p=EN(i,je.getSong())+(((g=je.getSong())==null?void 0:g.gap)??0);return t&&r*1e3>p+hve},[r,i,t]),[o,a]=_.useState(0),[l,c]=_.useState(!1);oce(()=>a(je.getCurrentBeat()),1e3);const u=Bw(s&&o>i,5e3)&&!l;Il({accept:()=>{c(!0),setTimeout(e,700);const{artist:p,title:g}=je.getSong();pn.capture("outroSkipped",{name:`${p} - ${g}`,artist:p,title:g})}},u);const h=_.useMemo(()=>({accept:"Skip Outro",back:"Pause Menu"}),[]);return Pu(h,u),!n&&s?f.jsxs(gve,{visible:u,"data-test":"skip-outro-info","data-visible":u,children:["Press ",f.jsx(mve,{children:"Enter"})," to skip the outro"]}):null}const gve=C("div",{target:"e1b01y1a1"})(Ne,";pointer-events:none;position:fixed;bottom:29rem;transform:scale(",e=>e.visible?1:0,");opacity:",e=>e.visible?1:0,";text-align:center;font-size:5rem;text-shadow:0 0 3.5rem black;width:100%;z-index:4;padding:0.5rem;transition:ease 500ms;"),mve=C("kbd",{target:"e1b01y1a0"})("margin:0.2rem;padding:0.2rem 2rem;border-radius:1.3rem;border:0.5rem solid rgb(204, 204, 204);border-bottom-color:rgb(150, 150, 150);border-right-color:rgb(150, 150, 150);line-height:1.4;display:inline-block;background-color:rgb(247, 247, 247);text-shadow:0 1rem 0 #fff;opacity:",e=>e.disabled?.25:1,";"),vve=Pe.memo(pve);function rR(e){return e&&e.length?uN(e):[]}function yve({players:e}){const t=je.getCurrentTime(!1),n=je.getSongBeatLength(),r=je.getDuration(),i=je.getSong(),s=_.useMemo(()=>rR(i.tracks.filter((l,c)=>e.find(u=>u.track===c)).map(({sections:l})=>la(l)*n+i.gap)),[i,n,e]),o=_.useMemo(()=>rR(i.tracks.filter((l,c)=>e.find(u=>u.track===c)).map(({sections:l})=>ff(l)*n+i.gap)),[i,n,e]),a=r*1e3;return!t||!r?null:f.jsxs(_E,{children:[s.map(l=>f.jsx(iR,{position:l/a},l)),o.map(l=>f.jsx(iR,{position:l/a},l)),f.jsx(bve,{fill:t/a})]})}const _E=C("div",{target:"e1pz3mwm2"})({name:"1q7pdku",styles:"position:absolute;height:0.6rem;width:100%;background:rgba(0, 0, 0, 0.5);left:0;top:calc(50% - 0.3rem)"}),Ave=C(_E,{target:"e1pz3mwm1"})("top:0;margin-left:-0.25rem;width:0.5rem;background:",he.colors.text.active,";opacity:75%;"),iR=e=>f.jsx(Ave,{style:{left:`${Math.min(e.position*100,100)}%`}}),_ve=C(_E,{target:"e1pz3mwm0"})({name:"1ssqmyb",styles:"top:0;background:white;opacity:50%"}),bve=e=>f.jsx(_ve,{style:{width:`${Math.round(e.fill*1e4)/100}%`}});function xve({player:e,bottom:t=!1,...n}){const r=sn.getPlayerVolume(e.number),i=o$(e.number);return f.jsxs(Sve,{...n,children:[i!=="unavailable"&&f.jsx(ipe,{playerNumber:e.number,volume:r}),f.jsx(wve,{status:i,tooltipPosition:"start"}),f.jsx(Eve,{playerNumber:e.number})]})}const Sve=C("div",{target:"ea232322"})({name:"180gow0",styles:"width:20rem;position:relative"}),wve=C(u$,{target:"ea232321"})({name:"14rk3pa",styles:"top:auto;right:1rem;bottom:-0.5rem"}),Eve=C(l$,{target:"ea232320"})({name:"ed8znk",styles:"z-index:2;font-size:2rem;margin-right:1rem;-webkit-text-stroke:0.1rem black"});function sR({player:e,bottom:t=!1,effectsEnabled:n,showMultipleLines:r}){var S;const i=je.getPlayer(e.number),[s]=$e(Zn),o=he.colors.players[e.number].text,a=((S=je.getSingSetup())==null?void 0:S.mode)===mr.PASS_THE_MIC?i.getTrack().changes:[],l=i.getCurrentSection(),c=i.getNextSection(),u=i.getNextSection(2),d=je.getCurrentBeat(),h=je.getSongBeatLength(),p=Math.max(0,...a.filter(x=>x<=((l==null?void 0:l.start)??-1/0))),g=a.find(x=>x>((l==null?void 0:l.start)??1/0))??1/0,m=(g-d)*h,A=(g-d)/(g-p),v=m<2500,y=St(l),b=y?la([l])-l.start:0;return f.jsxs(Pve,{shouldBlink:v,bottom:t,"data-test":`lyrics-container-player-${e.number}`,children:[!s&&n&&f.jsx(kve,{children:r?f.jsx(oR,{player:e}):je.getPlayers().map(x=>f.jsx(oR,{player:Re.getPlayer(x.getNumber())},x.getNumber()))}),m<1/0&&f.jsx(Lve,{color:o,progress:A<=1?A*100:0}),y?f.jsx(f.Fragment,{children:f.jsxs(Ip,{"data-test":`lyrics-current-player-${e.number}`,effectsEnabled:n,children:[f.jsx(Cve,{children:f.jsx(Ive,{color:o,percent:Math.min(2,(d-l.start)/b)})}),l==null?void 0:l.notes.map(x=>{const w=Math.max(0,Math.min(2,(d-x.start)/x.length));return f.jsxs(Rve,{type:x.type,children:[f.jsxs(Mve,{children:[f.jsx(Ove,{fill:w,color:o,children:x.lyrics.trim()}),x.lyrics.endsWith(" ")&&" "]}),x.lyrics]},x.start)}),(c==null?void 0:c.start)===g&&f.jsx(aR,{shouldShake:!0})]})}):f.jsx(Ip,{effectsEnabled:n,children:" "}),St(c)?f.jsxs(Ip,{nextLine:!0,"data-test":`lyrics-next-player-${e.number}`,effectsEnabled:n,children:[c.notes.map(x=>f.jsx(_.Fragment,{children:x.lyrics},x.start)),(u==null?void 0:u.start)===g&&f.jsx(aR,{})]}):f.jsx(Ip,{effectsEnabled:n,nextLine:!0,children:" "})]})}const oR=C(xve,{target:"e1j3lo7n10"})({name:"82a6rk",styles:"flex:1"}),kve=C("div",{target:"e1j3lo7n9"})({name:"zrovsy",styles:"position:absolute;top:0;right:0;display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%"}),Cve=C("span",{target:"e1j3lo7n8"})({name:"1sngsgs",styles:"position:relative;height:0"}),Tve=C("span",{target:"e1j3lo7n7"})({name:"7drlms",styles:"position:absolute;width:15rem;height:3.1rem;margin:0.7rem 0;right:10rem"}),Ive=({percent:e,color:t})=>{const n=_.useMemo(()=>{const r=fe(t).toRgb();return`${r.r}, ${r.g}, ${r.b}`},[t]);return f.jsx(Tve,{style:{transformOrigin:"right",transform:`scaleX(${Math.min(1,2-e)})`,right:`${Math.max(0,1-e)*15}rem`,background:`linear-gradient(270deg, rgba(${n}, 1) 0%, rgba(${n}, 0.5) 25%, rgba(${n}, 0) 100%)`}})},Pve=C("div",{target:"e1j3lo7n6"})("@keyframes blink{100%{background-color:rgba(0, 0, 0, ",e=>e.bottom?"0.85":"0.5",");}30%{background-color:rgba(0, 0, 0, ",e=>e.bottom?"0.85":"0.5",");}50%{background-color:rgba(200, 200, 200, ",e=>e.bottom?"0.85":"0.5",");}30%{background-color:rgba(0, 0, 0, ",e=>e.bottom?"0.85":"0.5",");}0%{background-color:rgba(0, 0, 0, ",e=>e.bottom?"0.85":"0.5",");}}box-sizing:border-box;padding:1rem;background:rgba(0, 0, 0, ",e=>e.bottom?"0.9":"0.5",");width:100%;text-align:center;line-height:1;position:relative;",e=>e.shouldBlink?"animation: blink 350ms ease-in-out infinite both;":"",";"),Rve=C("span",{target:"e1j3lo7n5"})("font-style:",e=>e.type==="freestyle"?"italic":"normal",";"),Mve=C("span",{target:"e1j3lo7n4"})({name:"nffb2y",styles:"position:absolute;z-index:1"}),jve=C("span",{target:"e1j3lo7n3"})(""),Ove=({fill:e,color:t,children:n})=>f.jsx(jve,{style:{clipPath:`inset(0 ${(1-(e===0?0:e+.05))*100}% -5rem 0)`,color:`${t}`},children:n}),Vve=C("div",{target:"e1j3lo7n2"})("position:absolute;height:1rem;background:",e=>e.color,";width:100%;"),Lve=e=>f.jsx(Vve,{"data-test":"pass-the-mic-progress",style:{transformOrigin:"left",transform:`scaleX(${e.progress/100})`},color:e.color}),aR=C(pv,{shouldForwardProp:e=>e!=="shouldShake",target:"e1j3lo7n1"})("@keyframes shake{10%,90%{transform:translate3d(-0.1rem, 0, 0);}20%,80%{transform:translate3d(0.2rem, 0, 0);}30%,50%,70%{transform:translate3d(-0.4rem, 0, 0);}40%,60%{transform:translate3d(0.4rem, 0, 0);}}",e=>e.shouldShake&&"animation: shake 0.92s cubic-bezier(0.36, 0.07, 0.19, 0.97) both infinite;"," margin-left:2rem;",e=>e.shouldShake?`fill: ${he.colors.text.active};`:""," font-size:",e=>e.shouldShake?4:3,"rem;"),Ip=C("div",{target:"e1j3lo7n0"})("font-size:",({nextLine:e,effectsEnabled:t})=>t?3.5+(e?0:1):2,"rem;height:",({effectsEnabled:e})=>e?4.5:2,"rem;",({effectsEnabled:e})=>e?"":"-webkit-text-stroke-width: 2px",";color:",({nextLine:e})=>e?he.colors.text.inactive:he.colors.text.default,";font-family:'Comic Sans MS',Seravek,'Gill Sans Nova',Ubuntu,Calibri,'DejaVu Sans',source-sans-pro,sans-serif;z-index:10;"),A$=new Intl.NumberFormat(void 0,{maximumFractionDigits:0});function sb({score:e}){return f.jsx(f.Fragment,{children:A$.format(e)})}const _$=6,pi=30,un=pi+6,Nve=e=>{const t=e.canvas.width,n=e.canvas.height,r=Math.max(0,(t-n*(16/9))/2),i=10+(t-2*r)*.15+r,s=n-e.paddingVertical*2;return{width:t-i*2,height:s/e.playerCount,baseX:i,baseY:e.paddingVertical+e.playerIndex*s/e.playerCount}};function lR({canvas:e,currentSectionIndex:t,song:n,songBeatLength:r,minPitch:i,maxPitch:s,track:o,playerIndex:a,playerCount:l,paddingVertical:c}){var b;const u=o.sections,d=u[t],h=u[t+1],p=Nve({canvas:e,playerCount:l,playerIndex:a,paddingVertical:c}),g=St(d)?(b=d==null?void 0:d.notes)==null?void 0:b.at(-1):void 0,m=St(d)?(h==null?void 0:h.start)??g.start+g.length:d.end,A=d.start*r,v=(m-d.start)*r,y=(p.height-20-pi)/(s-i+_$*2);return{playerCanvas:p,currentSection:d,sectionEndBeat:m,timeSectionGap:A,maxTime:v,pitchStepHeight:y}}function b$(e,t,n,r,i){return i&&n?he.colors.players[t].starPerfect:i?he.colors.players[t].perfect:n&&r?he.colors.players[t].star:r?he.colors.players[t].hit:he.colors.players[t].miss}function $ve(e,t,n,r){return b$(e,t,r.note.type==="star",n,r.isPerfect)}const gA={},Dve=e=>{if(!gA[e]){const t=fe(e);gA[e]=[[t.setAlpha(.8).toRgbString(),t.setAlpha(.9).toRgbString(),t.setAlpha(1).toRgbString()],[t.setAlpha(0).toRgbString()],[t.setAlpha(.1).toRgbString(),t.setAlpha(.3).toRgbString(),t.setAlpha(.2).toRgbString()]]}return gA[e]};function ob(e,t,n,r,i,s,o,a=1){if(i<=0)return;t.globalAlpha=1;const l=t.createRadialGradient(n,r,0,n,r,i/2),[c,u,d]=Dve(o);l.addColorStop(0,c[Is(0,c.length-1)]),l.addColorStop(.05,c[Is(0,c.length-1)]),l.addColorStop(.15,d[Is(0,d.length-1)]),l.addColorStop(1,u[Is(0,u.length-1)]),t.beginPath(),t.arc(n,r,i/2,0,2*Math.PI),t.closePath(),t.fillStyle=l,t.fill(),t.fillStyle=o,t.globalAlpha=1}function x$(e,t,n,r,i,s,o,a,l=1){i>0&&ob(e,t,n,r,i,s,a,l)}const gg=(e,t)=>e-t+Math.random()*t*2,cR=(e=0)=>Math.sign(e+Math.random()-.5),Bve=300,Fve=50,Pp=1.3;class zve{constructor(t,n,r){this.x=t,this.y=n,this.color=r,this.finished=!1,this.tick=(i,s,o)=>{const a=1-this.ttl/this.startingTtl,l=this.ttl,c=this.width*a,u=this.width*this.heightModifier*a,d=this.x-c/2+l*this.velocityX,h=this.y+u/2+l*this.velocityY;x$(s,i,d,h,c,u,this.initialAngle+l,this.color,.7*a),this.ttl=this.ttl-o,this.finished=this.ttl<=0},this.startingTtl=this.ttl=gg(Bve,Fve),this.velocityX=Pp*Math.random()-Pp/2,this.velocityY=Pp*Math.random()-Pp/2,this.width=25,this.initialAngle=180-Math.random()*360,this.heightModifier=.5+Math.random()/2}}const Uve=`
precision mediump float;
`,bv=Uve.replace(/\n/g,""),Hve=`
attribute vec3 aVertexPosition;
attribute vec2 aTextureCoord;
`,S$=Hve.replace(/\n/g,""),qve=`
varying vec3 vVertexPosition;
varying vec2 vTextureCoord;
`,xv=qve.replace(/\n/g,""),Gve=bv+S$+xv+`
uniform mat4 uMVMatrix;
uniform mat4 uPMatrix;

void main() {
    vTextureCoord = aTextureCoord;
    vVertexPosition = aVertexPosition;
    
    gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);
}
`;Gve.replace(/\n/g,"");const Wve=bv+xv+`
void main() {
    gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
}
`;Wve.replace(/\n/g,"");const Yve=bv+S$+xv+`
void main() {
    vTextureCoord = aTextureCoord;
    vVertexPosition = aVertexPosition;
    
    gl_Position = vec4(aVertexPosition, 1.0);
}
`;Yve.replace(/\n/g,"");const Kve=bv+xv+`
uniform sampler2D uRenderTexture;

void main() {
    gl_FragColor = texture2D(uRenderTexture, vTextureCoord);
}
`;Kve.replace(/\n/g,"");function Qve(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:Dx(e,t,n)}var Jve="\\ud800-\\udfff",Xve="\\u0300-\\u036f",Zve="\\ufe20-\\ufe2f",eye="\\u20d0-\\u20ff",tye=Xve+Zve+eye,nye="\\ufe0e\\ufe0f",rye="\\u200d",iye=RegExp("["+rye+Jve+tye+nye+"]");function w$(e){return iye.test(e)}function sye(e){return e.split("")}var E$="\\ud800-\\udfff",oye="\\u0300-\\u036f",aye="\\ufe20-\\ufe2f",lye="\\u20d0-\\u20ff",cye=oye+aye+lye,uye="\\ufe0e\\ufe0f",dye="["+E$+"]",ab="["+cye+"]",lb="\\ud83c[\\udffb-\\udfff]",fye="(?:"+ab+"|"+lb+")",k$="[^"+E$+"]",C$="(?:\\ud83c[\\udde6-\\uddff]){2}",T$="[\\ud800-\\udbff][\\udc00-\\udfff]",hye="\\u200d",I$=fye+"?",P$="["+uye+"]?",pye="(?:"+hye+"(?:"+[k$,C$,T$].join("|")+")"+P$+I$+")*",gye=P$+I$+pye,mye="(?:"+[k$+ab+"?",ab,C$,T$,dye].join("|")+")",vye=RegExp(lb+"(?="+lb+")|"+mye+gye,"g");function yye(e){return e.match(vye)||[]}function Aye(e){return w$(e)?yye(e):sye(e)}function _ye(e){return function(t){t=Nx(t);var n=w$(t)?Aye(t):void 0,r=n?n[0]:t.charAt(0),i=n?Qve(n,1).join(""):t.slice(1);return r[e]()+i}}var bye=_ye("toUpperCase");function xye(e){return bye(Nx(e).toLowerCase())}function uR(e,t,n,r,i,s,o,a){const l=Math.max(r,i/2),c=Math.min(l/2,i/2,s);e.beginPath(),e.moveTo(t+c,n),e.lineTo(t+l-c,n),e.quadraticCurveTo(t+l,n,t+l,n+c),e.lineTo(t+l,n+i-c),e.quadraticCurveTo(t+l,n+i,t+l-c,n+i),e.lineTo(t+c,n+i),e.quadraticCurveTo(t,n+i,t,n+i-c),e.lineTo(t,n+c),e.quadraticCurveTo(t,n,t+c,n),e.closePath(),o&&e.fill(),a&&e.stroke()}function bE(e,t,n,r,i,s,o,a,l=.1){uR(e,t,n,r,i,s,o,a),o&&l>0&&(e.save(),uR(e,t,n,r,i,s,!1,!1),e.clip(),e.fillStyle=`rgba(255,255,255,${l})`,e.fillRect(t,n,r,i/2.2),e.restore())}function Sd(e,t){e.fillStyle=t.fill,e.strokeStyle=t.stroke,e.lineWidth=t.lineWidth}function wd(e,t,n,r,i,s,o){s==="star"?Sd(e,he.colors.lines.star):s==="freestyle"||s==="rap"?Sd(e,he.colors.lines.freestyle):s==="rapstar"?Sd(e,{...he.colors.lines.star,fill:he.colors.lines.freestyle.fill}):Sd(e,he.colors.lines.normal),e.shadowBlur=10,e.shadowColor=o!==void 0?he.colors.players[o].miss.stroke:"rgb(31,31,31)",e.shadowOffsetX=0,e.shadowOffsetY=0,bE(e,t,n,r,i,100,!0,!0,.075),e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0}function Sye(e,t,n,r,i,s,o,a,l){Sd(e,b$(e,s,l,o,a)),e.shadowBlur=5,e.shadowColor="rgba(31,31,31, .7)",e.shadowOffsetX=1,e.shadowOffsetY=1,bE(e,t,n,r,i,100,!0,!0,o?.15:0),e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0}const wn=10,wye={start:{x:0,y:0,w:pi/2+wn,h:pi+wn*2},middle:{x:pi/2+wn,y:0,w:1,h:pi+wn*2},end:{x:pi/2+1+wn,y:0,w:pi/2+wn,h:pi+wn*2}},xc={start:{x:0,y:0,w:un/2+wn,h:un+wn*2},middle:{x:un/2+wn,y:0,w:1,h:un+wn*2},end:{x:un/2+1+wn,y:0,w:un/2+wn,h:un+wn*2}},Ql=(e,t,n,r,i)=>({draw:(s,o,a,l,c)=>Sye(s,o,a,l,c,e,t,n,r),width:i?un:pi+1,height:i?un:pi,padding:wn,fragments:i?xc:wye}),Rp=e=>({[`p${e}Normal`]:{draw:(t,n,r,i,s)=>wd(t,n,r,i,s,"normal",e),width:un+1,height:un,padding:wn,fragments:xc},[`p${e}Miss`]:Ql(e,!1,!1,!1,!1),[`p${e}Hit`]:Ql(e,!0,!1,!1,!0),[`p${e}Perfect`]:Ql(e,!0,!0,!1,!0),[`p${e}StarMiss`]:Ql(e,!1,!1,!0,!1),[`p${e}StarHit`]:Ql(e,!0,!1,!0,!0),[`p${e}StarPerfect`]:Ql(e,!0,!0,!0,!0)}),Zs={...Rp(0),...Rp(1),...Rp(2),...Rp(3),noteStar:{draw:(e,t,n,r,i)=>wd(e,t,n,r,i,"star"),width:un+1,height:un,padding:wn,fragments:xc},noteFreestyle:{draw:(e,t,n,r,i)=>wd(e,t,n,r,i,"freestyle"),width:un+1,height:un,padding:wn,fragments:xc},noteRap:{draw:(e,t,n,r,i)=>wd(e,t,n,r,i,"rap"),width:un+1,height:un,padding:wn,fragments:xc},noteRapstar:{draw:(e,t,n,r,i)=>wd(e,t,n,r,i,"rapstar"),width:un+1,height:un,padding:wn,fragments:xc}};function Eye(e,t){const n=document.createElement("canvas");return n.width=e,n.height=t,n}const R$=Math.max(...Object.values(Zs).map(e=>e.padding*2+e.width)),M$=Object.values(Zs).map(e=>e.padding*2+e.height).reduce((e,t)=>e+t,0),j$=Eye(R$,M$),cb=j$.getContext("2d");let Wa=0;const dR=Object.entries(Zs).map(([e,t])=>{const n=t.padding*2,r={name:e,x:0,y:Wa,w:t.width+n,h:t.height+n};return Wa=Wa+t.height+n,r}).reduce((e,t)=>({...e,[t.name]:t}),{}),O$=()=>{cb.clearRect(0,0,R$,M$),Wa=0,Object.entries(Zs).forEach(([e,t])=>{t.draw(cb,t.padding,Wa+t.padding,t.width,t.height),Wa=Wa+t.padding*2+t.height})};O$();te.songStarted.subscribe(O$);const V$=(e,t)=>({canvas:j$,ctx:cb,x:dR[e].x+Zs[e].fragments[t].x,y:dR[e].y+Zs[e].fragments[t].y,w:Zs[e].fragments[t].w,h:Zs[e].fragments[t].h,padding:Zs[e].padding}),mA=(e,t,n,r,i,s,o,a=1,l=1)=>{const c=V$(t,n),{canvas:u,w:d,h,y:p,x:g,padding:m}=c,A=m*a,v=m*l;return e.imageSmoothingEnabled=!1,e.drawImage(u,g,p,d,h,r-A,i-v,s??d,o??h),e.imageSmoothingEnabled=!0,c};function L$(e,t,n,r,i){const s=V$(t,"start"),o=Math.max(i,(s.h-s.padding*2)/2),a=Math.min(1,o/2/(s.w-s.padding)),l=a*s.w,c=l-s.padding*a,u=o-2*c;mA(e,t,"start",n,r,l,void 0,a),u>0&&mA(e,t,"middle",n+l,r,u,void 0,a),mA(e,t,"end",n+u+l,r,l,void 0,a)}const kye=(e,t)=>`${t!==void 0&&e==="normal"?`p${t}`:"note"}${xye(e)}`;function N$(e,t,n,r,i,s){const o=kye(i.type,s);L$(e,o,t,n,r)}function Cye(e,t,n,r,i,s){e.save(),bE(e,t,n,r,i,100,!1,!1),e.clip(),e.beginPath(),e.strokeStyle="rgba(255,255,255, .35)",e.lineWidth=3,e.lineJoin="round",e.moveTo(t,n+i/2-s.frequencyRecords[0].preciseDistance*i/3);for(let o=1;o<s.frequencyRecords.length;o++)e.lineTo(t+o*(r/(s.frequencyRecords.length-1)),n+i/2-s.frequencyRecords[o].preciseDistance*i/3);e.stroke(),e.closePath(),e.restore(),e.lineJoin="miter"}const Tye=(e,t,n,r)=>{let i=`p${e}`;return n&&r?i=`${i}StarPerfect`:n?i=`${i}Perfect`:r&&t?i=`${i}StarHit`:t?i=`${i}Hit`:r&&!t?i=`${i}StarMiss`:i=`${i}Miss`,i},Iye=["star","rapstar"];function Pye(e,t,n,r,i,s,o){const a=Tye(i,s,o.isPerfect,Iye.includes(o.note.type));L$(e,a,t,n,r)}class Rye{constructor(){this.particles=[],this.lastTick=Date.now(),this.getTimeDelta=t=>{const n=Date.now()-t,r=n-this.lastTick;return this.lastTick=n,r},this.tick=(t,n,r=0)=>{const i=this.getTimeDelta(r);this.particles.forEach(s=>s.tick(t,n,i)),this.particles=this.particles.filter(s=>!s.finished)},this.add=t=>this.particles.push(t),this.clearAll=()=>this.particles=[]}}const Ia=new Rye,Mye=50/60*1e3,jye=25/60*1e3,Oye=60,fR=.3;class Vye{constructor(t,n,r,i){this.x=t,this.y=n,this.color=r,this.delay=i,this.finished=!1,this.tick=(s,o,a)=>{if(this.delay-- >0)return;const l=this.ttl/this.startingTtl,c=this.startingTtl-this.ttl,u=this.width*l,d=this.width*this.heightModifier*l,h=this.x-u/2+c*this.velocityX,p=this.y-d/2+c*this.velocityY;x$(o,s,h,p,u,d,this.initialAngle+c,this.color,.8*l),this.velocityX=this.velocityX-.009,this.velocityY=this.velocityY*1.0075,this.ttl=this.ttl-a,this.finished=this.ttl<=0},this.startingTtl=this.ttl=gg(Mye,jye),this.velocityX=gg(.5,fR)*cR(.2),this.velocityY=gg(.4,fR)*cR(),this.width=Oye,this.initialAngle=180-Math.random()*360,this.heightModifier=.5+Math.random()/2}}class Lye{constructor(t,n,r,i,s,o){this.finished=!0,this.tick=(d,h)=>{};const a=s.type==="star"?he.colors.players[i].star.fill:he.colors.players[i].perfect.fill,l=fe(a).lighten(15).toRgbString(),c=fe(a).darken(15).toRgbString(),u=r/8;for(let d=0;d<u;d++){const h=Math.random();let p=a;h>.66?p=l:h>.33&&(p=c);const g=n+20*(Math.random()-.5);o.add(new Vye(t+d*5,g,p,(u-d)/10))}}}const hR=200;class Nye{constructor(t,n,r,i,s){this.x=t,this.y=n,this.width=r,this.note=i,this.playerNumber=s,this.finished=!1,this.ttl=hR,this.tick=(o,a,l)=>{const c=this.ttl/hR;o.save(),o.globalAlpha=c,o.translate(0,un*(1-c)),N$(o,this.x,this.y,this.width,this.note,this.playerNumber),o.globalAlpha=1,o.restore(),this.ttl=this.ttl-l,this.finished=this.ttl<=0}}}const vA=50/60*1e3,Mp=.05,$ye=200,pR=4,Dye=Math.pow;function gR(e){return 1-Dye(1-e,2)}class Bye{constructor(t,n,r,i){this.x=t,this.y=n,this.finished=!1,this.tick=(s,o,a)=>{const l=this.ttl/vA;let c=gR(1-Math.min(1,(1-l)*6));const u=this.maxWidth*c*3/4,d=this.maxWidth*c;ob(o,s,this.x,this.y,u,d,"white",c*.35),c=gR(l);const h=c*this.maxWidth/4,p=c*this.maxWidth/4,g=this.x,m=this.y,A=vA-this.ttl;s.globalAlpha=c*.2,ob(o,s,g+A*this.velocityX,m+A*this.velocityY,h,p,"white",c*.2),this.ttl=this.ttl-a,this.finished=this.ttl<=0},this.ttl=vA,this.velocityX=Mp*Math.random()-Mp/2,this.velocityY=Mp*Math.random()-Mp/2,this.maxWidth=Math.min(.1+i,1)*(Math.sin(r/70)*pR+($ye-pR))}}const mR=20;class Fye{constructor(t,n,r,i,s){this.x=t,this.y=n,this.w=r,this.h=i,this.seed=s,this.finished=!1,this.ttl=2/60*1e3,this.tick=(o,a,l)=>{o.strokeStyle="rgba(255,255,255,.25)",o.lineWidth=2,o.beginPath();for(let c=0;c<this.w;c++){const u=this.x+this.w-c,d=(this.h/2+2)*Math.sin(u/mR+this.seed/250);o.lineTo(u,this.y+this.h/2+d)}o.stroke(),o.beginPath();for(let c=0;c<this.w;c++){const u=this.x+this.w-c,d=-1*(this.h/2+2)*Math.sin(u/mR+this.seed/250);o.lineTo(u,this.y+this.h/2+d)}o.stroke(),this.ttl=this.ttl-l,this.finished=this.ttl<=0}}}const vR=20;function zye(e,t){return e.find(n=>n.start<=t&&n.start+n.length>=t)}class Uye{constructor(t,n=0,r=1){this.canvas=t,this.verticalMargin=n,this.scaleFactor=r,this.loop=!1,this.pauseTime=0,this.pausedOn=0,this.shaders=null,this.start=()=>{te.sectionChange.subscribe(this.onSectionEnd),this.loop=!0,this.drawFrame()},this.pause=()=>{this.end(),this.pausedOn=Date.now()},this.resume=()=>{this.pauseTime+=Date.now()-this.pausedOn,this.start()},this.end=()=>{var i;this.loop=!1,(i=this.shaders)==null||i.cleanup(),te.sectionChange.unsubscribe(this.onSectionEnd)},this.isPlaying=()=>this.loop,this.drawFrame=()=>{const i=Date.now(),s=this.canvas.getContext("2d");if(s){if(je.isPlaying()&&(s.clearRect(0,0,this.canvas.width,this.canvas.height),Re.getPlayers().forEach((a,l)=>{this.drawPlayer(a.number,s)}),Ia.tick(s,this.canvas,this.pauseTime)),Ya.get()===30){const o=Date.now(),a=1e3/30,l=o-i>a?a:a-(o-i);this.loop&&setTimeout(this.drawFrame,l,Ya.get())}Ya.get()!==30&&this.loop&&global.requestAnimationFrame(this.drawFrame)}},this.drawPlayer=(i,s)=>{const o=this.getDrawingData(i),{currentSection:a}=lR(o);if(Ss.get()==="high"&&this.setDistortionForce(o),!St(a))return;const l=this.calculateDisplacements(a,o);this.drawNotesToSing(s,o,l),this.drawSungNotes(s,o,l),Ss.get()==="high"&&this.drawFlare(s,o,l)},this.setDistortionForce=i=>{var o,a,l;const s=i.currentSection;if(!St(s))(a=this.shaders)==null||a.updatePlayerForce(i.playerNumber,(((o=this.shaders)==null?void 0:o.getPlayerForce(i.playerNumber))??0)*.99);else{const c=Math.max(0,i.currentBeat-vR),u=i.currentPlayerNotes.filter(m=>m.note.start+m.note.length>=c).filter(m=>Ng(m)===0).reduce((m,A)=>m+A.length-Math.max(0,c-A.start),0),d=i.currentPlayerNotes.at(-1),h=((d==null?void 0:d.start)??0)+((d==null?void 0:d.length)??0),p=i.currentBeat-h,g=Math.max(Math.min(Math.pow((u-p/1.5)/vR,3),.98),0);(l=this.shaders)==null||l.updatePlayerForce(i.playerNumber,g)}},this.drawNotesToSing=(i,s,o)=>{St(s.currentSection)&&s.currentSection.notes.forEach(a=>{const{x:l,y:c,w:u,h:d}=this.getNoteCoords(s,a,a.pitch,!0,o[a.start]);N$(i,l,c,u,a,s.playerNumber)})},this.drawSungNotes=(i,s,o)=>{St(s.currentSection)&&s.currentPlayerNotes.forEach(a=>{const l=Ng(a),{x:c,y:u,w:d,h}=this.getNoteCoords(s,a,a.note.pitch+l,l===0,o[a.note.start]);(l>0||d>h/2.5)&&(Pye(i,c,u,d,s.playerNumber,l===0,a),a.vibrato&&Ia.add(new Fye(c,u,d,h,s.currentTime)),l===0&&a.frequencyRecords.length>3&&!jd.includes(a.note.type)&&Cye(i,c,u,d,h,a))})},this.drawFlare=(i,s,o)=>{var l;if(!St(s.currentSection))return;const a=zye(s.currentPlayerNotes,s.currentBeat-185/s.songBeatLength);if(a&&a.distance===0){const c=o[a.note.start]||[0,0],{x:u,y:d,w:h,h:p}=this.getNoteCoords(s,a,a.note.pitch,!0,c),g=jd.includes(a.note.type)?0:a.frequencyRecords.at(-1).preciseDistance,m=u+h,A=this.getPreciseY(d,p,g);Ia.add(new Bye(m,A,s.currentTime,1)),Ia.add(new zve(p$(Math.max(u,m-50),m),A,$ve(i,s.playerNumber,!0,a).fill)),(l=this.shaders)==null||l.updatePlayerCenter(s.playerNumber,m,A)}},this.onSectionEnd=i=>{if(je.isPlaying()){const s=this.getDrawingData(i,-1);if(!St(s.currentSection))return;this.fadeoutNotes(s.currentSection,s),this.explodeNotes(s.currentSection,s)}},this.fadeoutNotes=(i,s)=>{Ss.get()==="high"&&i.notes.forEach(o=>{const{x:a,y:l,w:c,h:u}=this.getNoteCoords(s,o,o.pitch,!0);Ia.add(new Nye(a,l,c,o,s.playerNumber))})},this.explodeNotes=(i,s)=>{Ss.get()==="high"&&s.playerNotes.filter(a=>(a.distance===0||jd.includes(a.note.type))&&i.notes.includes(a.note)).forEach(a=>{const{x:l,y:c,w:u,h:d}=this.getNoteCoords(s,a,a.note.pitch,!0);Ia.add(new Lye(l,c+d/2,u,s.playerNumber,a.note,Ia))})},this.calculateDisplacements=(i,s)=>{const o={};return Ss.get()==="high"?i.notes.forEach(a=>{const l=s.playerNotes.filter(h=>h.note.start===a.start).filter(h=>h.note.start+h.note.length+30>=s.currentBeat&&h.distance===0).map(h=>h.start+30<s.currentBeat?h.length-(s.currentBeat-30-h.start):h.length).reduce((h,p)=>Math.min(h+p,30),0),c=Math.max(0,(l-5)/(a.type==="star"?3:5)),u=(Math.random()-.5)*c,d=(Math.random()-.5)*c;o[a.start]=[u,d]}):i.notes.forEach(a=>{o[a.start]=[0,0]}),o},this.getDrawingData=(i,s=0)=>{const o=Re.getPlayers(),a=o.findIndex(m=>m.number===i),l=o.length,c=je.getPlayer(i),u=c.getCurrentSectionIndex()+s,d=je.getSong(),h=c.getTrack(),p=h.sections[u],g=c.getPlayerNotes();return{playerNumber:i,playerIndex:a,playerCount:l,song:d,songBeatLength:je.getSongBeatLength(),minPitch:c.getMinPitch(),maxPitch:c.getMaxPitch(),canvas:this.canvas,currentTime:je.getCurrentTime(),frequencies:c.getPlayerFrequencies(),playerNotes:g,currentPlayerNotes:g.filter(m=>m.note.start>=((p==null?void 0:p.start)??1/0)),track:h,currentBeat:je.getCurrentBeat(),currentSectionIndex:u,currentSection:p,paddingVertical:this.verticalMargin}},this.getNoteCoords=(i,{start:s,length:o},a,l,c=[0,0])=>{const{sectionEndBeat:u,currentSection:d,playerCanvas:h,pitchStepHeight:p}=lR(i),g=St(d)?d.notes[0].start:1,m=h.width/(u-g),[A,v]=l?c:[0,0],y=p*(i.maxPitch-a+_$);return{x:Math.floor(h.baseX+m*(s-g)+A),y:Math.floor(h.baseY+10+y+v-(l?3:0)),w:Math.floor(m*o),h:l?un:pi}},this.getPreciseY=(i,s,o)=>i+s/2-o*s/3}}const Hye=`precision mediump float;

const float MAX_FORCE = 300.0;
const int SAMPLE_COUNT = 8; // 2^x
const float INTENSITY = 0.051;
// get our varyings
varying vec3 vVertexPosition;
varying vec2 vTextureCoord;
// the uniform we declared inside our javascript
uniform float uTime;
uniform sampler2D planeTexture;
uniform vec2 uResolution;

uniform vec2 uP0center;
uniform float uP0force;

uniform vec2 uP1center;
uniform float uP1force;

float rnd(float n) {
    return fract(sin(n) * 43758.5453);
}
float random (vec2 st) {
    return rnd(dot(st.xy, vec2(12.9898, 78.233)));
}

vec4 directionalBlur(in vec2 uv, in vec2 direction, in float intensity)
{
    vec4 color = vec4(0.0);

    for (int i=1; i<=SAMPLE_COUNT; i++)
    {
        color += texture2D(planeTexture,uv+float(i)*intensity/float(SAMPLE_COUNT)*direction);
    }

    return color/float(SAMPLE_COUNT);
}

float distort(vec2 center, float force, float comparedIntensity) {
    float actualForce = force * MAX_FORCE;
    vec2 centerAbs = center * uResolution;

    vec2 direction = gl_FragCoord.xy - centerAbs.xy;
    float dist = length(direction) / length(uResolution);


    float intensity = max(0.0, 0.50 - dist) * INTENSITY * pow(force, 1.5);
    if (intensity > comparedIntensity) {
        vec4 newColor = directionalBlur(gl_FragCoord.xy / uResolution, normalize(direction), intensity);
        gl_FragColor = newColor;
    }
    return intensity;
}

void main() {
    gl_FragColor = texture2D(planeTexture, vTextureCoord);
    float p1intensity = distort(uP0center, uP0force, 0.0);
    float p2intensity = distort(uP1center, uP1force, p1intensity);
}`,qye=`
precision mediump float;

// default mandatory variables
attribute vec3 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat4 uMVMatrix;
uniform mat4 uPMatrix;

uniform mat4 planeTextureMatrix;

// custom varyings
varying vec3 vVertexPosition;
varying vec2 vTextureCoord;

void main() {
    gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);

    // varyings
    vVertexPosition = aVertexPosition;
    vTextureCoord = (planeTextureMatrix * vec4(aTextureCoord, 0.0, 1.0)).xy;
}`,Gye=1920,Wye=_.forwardRef(function({currentStatus:e,width:t,height:n,playerSetups:r,onSongEnd:i,effectsEnabled:s,videoPlayerRef:o,isPauseMenuVisible:a},l){var b,S,x;const[c]=$e(Ss),[u]=$e(Zn),d=_.useRef(null),h=_.useRef(null),p=_.useRef(null),g=Gye,m=g*(n/t),A=m/n;_.useImperativeHandle(l,()=>({pause:()=>{var w;return(w=h.current)==null?void 0:w.pause()},resume:()=>{var w;return(w=h.current)==null?void 0:w.resume()}}),[h.current,(b=p.current)==null?void 0:b.offsetHeight,A]),_.useEffect(()=>(je.startInputMonitoring(),()=>{je.stopInputMonitoring()}),[]),_.useEffect(()=>{if(!(!d.current||!p.current))return h.current=new Uye(d.current,p.current.offsetHeight*A),h.current.start(),()=>{var w;(w=h.current)==null||w.end()}},[(S=p.current)==null?void 0:S.offsetHeight,A]),_.useEffect(()=>{var w,E,T,L;a&&((w=h.current)!=null&&w.isPlaying())?(E=h.current)==null||E.pause():!a&&!((T=h.current)!=null&&T.isPlaying())&&((L=h.current)==null||L.resume())},[a]),_.useEffect(()=>{e===_n.ENDED&&i&&i()},[e,i]);const v=Re.getPlayers(),y=!u&&v.length===2;return f.jsxs(Yye,{children:[c==="high"&&f.jsxs(f.Fragment,{children:[f.jsx("script",{type:"x-shader/x-fragment",id:"plane-fs",children:Hye}),f.jsx("script",{id:"plane-vs",type:"x-shader/x-vertex",children:qye}),f.jsx(Qye,{id:"canvas",style:{zIndex:1e4}})]}),f.jsx(Kye,{id:"plane",style:s?void 0:{opacity:0},children:f.jsx("canvas",{ref:d,width:g,height:m,"data-sampler":"planeTexture"})}),s&&f.jsxs(f.Fragment,{children:[f.jsx(uve,{playerRef:o,isEnabled:!a}),f.jsx(vve,{onSongEnd:i,isEnabled:!a})]}),f.jsx(yve,{players:r}),f.jsx(yR,{children:y&&f.jsx(sR,{player:v[0],effectsEnabled:s,showMultipleLines:y})}),f.jsx(Jye,{children:s&&f.jsx(f.Fragment,{children:((x=je.getSingSetup())==null?void 0:x.mode)===mr.CO_OP?f.jsx(AR,{"data-test":"players-score","data-score":Math.floor(je.getPlayerScore(0)),children:f.jsx(sb,{score:je.getPlayerScore(0)})}):Re.getPlayers().map(w=>f.jsx(AR,{"data-test":`player-${w.number}-score`,"data-score":Math.floor(je.getPlayerScore(w.number)),children:f.jsx(sb,{score:je.getPlayerScore(w.number)})},w.number))})}),f.jsx(yR,{ref:p,children:f.jsx(sR,{showMultipleLines:y,player:v[y?1:0],bottom:!0,effectsEnabled:s})})]})}),yR=C("div",{target:"el0barv5"})({name:"14ci2tu",styles:"padding:2rem 0;box-sizing:border-box"}),Yye=C("div",{target:"el0barv4"})({name:"y3i90j",styles:"height:100%;color:white;-webkit-text-stroke:0.2rem black;font-weight:bold;position:relative;display:flex;flex-direction:column"}),Kye=C("div",{target:"el0barv3"})({name:"1x1omeb",styles:"position:absolute;top:0;left:0;width:100%;height:100%;canvas{width:100%;height:100%;}"}),Qye=C("div",{target:"el0barv2"})({name:"1b4920d",styles:"position:absolute;top:0;left:0;width:100%;height:100%"}),Jye=C("div",{target:"el0barv1"})({name:"od05bk",styles:"flex:1;height:100%;box-sizing:border-box;font-size:5.5rem;display:flex;justify-content:space-around;padding-right:4rem;flex-direction:column;text-align:right;z-index:1"}),AR=C("span",{target:"el0barv0"})("");function Xye(e,t){const[n,r]=_.useState(0);return _.useEffect(()=>{e.current&&t===_n.PLAYING&&n===0&&e.current.getDuration().then(i=>{r(i),je.setDuration(i)})},[n,e,t]),n}function Zye({song:e,width:t,height:n,autoplay:r=!0,showControls:i=!1,onCurrentTimeUpdate:s,onSongEnd:o,onStatusChange:a,players:l,effectsEnabled:c=!0,singSetup:u,restartSong:d,pauseMenu:h=!1,...p},g){const m=_.useRef(null),[A,v]=_.useState(0),[y,b]=_.useState(_n.UNSTARTED),[S]=$e(Id),[x,w]=_.useState(!1);_.useEffect(()=>(je.setSong(e),je.setSingSetup(u),()=>{je.resetSingSetup()}),[e,u]),_.useEffect(()=>{if(m.current&&y===_n.PLAYING){const P=setInterval(async()=>{if(!m.current)return;const I=Math.max(0,await m.current.getCurrentTime()*1e3-S);v(I),s==null||s(I),je.setCurrentTime(I),je.update()},1e3/Ya.get());return()=>clearInterval(P)}},[m,s,y,S]);const E=Xye(m,y);_.useImperativeHandle(g,()=>({seekTo:P=>m.current.seekTo(P),setPlaybackSpeed:P=>m.current.setPlaybackSpeed(P),play:()=>m.current.playVideo(),pause:()=>m.current.pauseVideo()}));const T=_.useCallback(P=>{b(P),a==null||a(P)},[b,a]),L=h,O=()=>{var P;w(!0),(P=m.current)==null||P.pauseVideo()},N=()=>{var P;w(!1),(P=m.current)==null||P.playVideo()},Q=()=>{x?N():O()},M=Om(y);_.useEffect(()=>{var I;if(!L)return;const P=M!==_n.PAUSED&&M!==_n.BUFFERING&&y===_n.PAUSED;y===_n.PLAYING&&x?(I=m.current)==null||I.pauseVideo():P&&!x&&w(!0)},[x,y,M,L]),Il({back:Q},L,[x]);const U=_.useMemo(()=>({back:"Pause Menu"}),[]);return Pu(U,c),f.jsxs(eAe,{...p,children:[x&&f.jsx(ove,{onExit:o,onResume:N,onRestart:d}),y!==_n.UNSTARTED&&f.jsx(tAe,{style:{width:`${t}px`,height:`${n}px`},children:f.jsx(Wye,{isPauseMenuVisible:x,effectsEnabled:c,duration:E,currentStatus:y,song:e,width:t,height:n,onSongEnd:o,playerSetups:l,videoPlayerRef:m.current})}),f.jsxs(nAe,{children:[f.jsx(Yw,{ref:m,video:e.video,width:t,height:n,controls:i,autoplay:r,disablekb:!0,volume:e.volume,startAt:e.videoGap??0,onStateChange:T}),y===_n.PLAYING&&f.jsx(rAe,{"data-test":"make-song-go-fast",onClick:()=>{var P;(P=m.current)==null||P.setPlaybackSpeed(2)}})]})]})}const eAe=C("div",{target:"e1ggxuxd3"})({name:"bjn8wh",styles:"position:relative"}),tAe=C("div",{target:"e1ggxuxd2"})({name:"qkt6ng",styles:"position:absolute;z-index:1;background-color:rgba(0, 0, 0, 0.2);pointer-events:none;width:100%;height:100%;top:0;left:0"}),nAe=C("div",{target:"e1ggxuxd1"})({name:"j387f9",styles:"overflow:hidden;height:100%"}),rAe=C("div",{target:"e1ggxuxd0"})({name:"sp3f84",styles:"width:30px;height:30px;opacity:0.01;background:black;position:absolute;bottom:calc(100vh / 2 - 15px);left:0"}),iAe=_.forwardRef(Zye),_R=[f.jsxs(f.Fragment,{children:["You can follow the updates and give feedback on the game through the Facebook Page:"," ",f.jsx("a",{href:"https://www.facebook.com/allkaraoke.party",target:"_blank",rel:"noreferrer",children:f.jsx("strong",{children:"fb.com/AllKaraoke.Party"})})]}),f.jsxs(f.Fragment,{children:["Start typing a name of a song in ",f.jsx("strong",{children:"Song Selection"})," to active Search feature"]}),f.jsxs(f.Fragment,{children:["Narrow down songs through ",f.jsx("strong",{children:"playlists"})," on the right in Song Selection"]}),f.jsxs(f.Fragment,{children:["Select ",f.jsx("strong",{children:"Pass The Mic"})," Game Mode to share the microphones and sing in a team"]}),f.jsxs(f.Fragment,{children:["Your scores and ",f.jsx("strong",{children:"stats are saved"})," in this browser - they will be available for the next party!"]}),f.jsxs(f.Fragment,{children:["You can remove irrelevant songs from the Song Selection in ",f.jsx("strong",{children:"Edit Songs"})," page"]}),f.jsxs(f.Fragment,{children:["If the game feels a bit jaggy with low FPS, check out ",f.jsx("strong",{children:"Settings"})," page"]}),f.jsxs(f.Fragment,{children:["Party is only getting started? Play ",f.jsx("strong",{children:"Jukebox"})," for the music and to see what songs are available"]}),f.jsxs(f.Fragment,{children:["Research shows that ",f.jsx("strong",{children:"duet songs"})," are that bit more fun than simple one-track ones"]}),f.jsxs(f.Fragment,{children:["Want to sing a ",f.jsx("strong",{children:"new song"}),"? Find UltraStar version of it and import it with",f.jsx("br",{}),f.jsx("strong",{children:"Convert Ultrastar .txt"})]}),f.jsxs(f.Fragment,{children:["The ",f.jsx("strong",{children:"white pulse"})," around selected song in Song Selection tries to match song's tempo"]}),f.jsxs(f.Fragment,{children:["Entire game (besides add/edit song) is navigable with ",f.jsx("strong",{children:"Keyboard"})]}),f.jsxs(f.Fragment,{children:["You can hide or show keyboard navigation help with ",f.jsx("kbd",{children:"H"})," key"]}),f.jsxs(f.Fragment,{children:["In Song Selection, hold ",f.jsx("kbd",{children:"↑"})," or ",f.jsx("kbd",{children:"↓"})," to jump to the next letter"]}),f.jsxs(f.Fragment,{children:["Add ",f.jsx("strong",{children:"vibrato"})," to the notes you sing to get additional ",f.jsx("strong",{children:"bonus points"})]}),f.jsxs(f.Fragment,{children:["You can control the game with your phone - click on the"," ",f.jsxs("strong",{children:[f.jsx(yf,{}),"QR Code Icon"]})," ","on the top right and follow the instructions"]})],sAe=({as:e="h4",...t})=>{const n=_.useRef(Is(0,_R.length-1)),r=e;return f.jsx(r,{...t,children:_R[n.current]})};function oAe({...e}){const[t,n]=_.useState(""),r=_.useRef(null);return _.useEffect(()=>{const i=setTimeout(()=>{n(Qi.getVideo())},1e3);return()=>{clearTimeout(i)}},[]),_.useEffect(()=>{try{r.current&&(r.current.playbackRate=16)}catch(i){Ns(i)}},[t]),f.jsx(aAe,{...e,children:f.jsx(lAe,{src:t,ref:r,loop:!0,autoPlay:!0,className:"ph-no-capture"})})}const aAe=C("div",{target:"e1hckw6c1"})({name:"1g34f1k",styles:"width:80rem;height:60rem"}),lAe=C("video",{target:"e1hckw6c0"})({name:"idj2s4",styles:"object-fit:cover;width:100%;height:100%"});function cAe(e){return 1-Math.pow(1-e,3)}function uAe(e){return cAe(e)}function jp({color:e,maxScore:t,score:n}){return f.jsx(dAe,{style:{border:n===0?0:void 0,width:`${uAe(n/t)*24}%`,backgroundColor:e}})}const dAe=C("div",{target:"e6b38g50"})({name:"1vc31u",styles:`background-image:linear-gradient(
    180deg,
    rgba(0, 0, 0, 0.17) 0%,
    rgba(0, 0, 0, 0.03) 50%,
    rgba(0, 0, 0, 0.18) 51%,
    rgba(0, 0, 0, 0.18) 100%
  );transition:1s;border-radius:0.5rem;height:100%;border:solid 0.1rem black;box-sizing:border-box`});var $$={exports:{}};(function(e,t){(function(n,r){e.exports=r(_)})(typeof self<"u"?self:zo,n=>(()=>{var r={7403:(a,l,c)=>{c.d(l,{default:()=>j});var u=c(4087),d=c.n(u);const h=function($){return new RegExp(/<[a-z][\s\S]*>/i).test($)},p=function($,B){return Math.floor(Math.random()*(B-$+1))+$};var g="TYPE_CHARACTER",m="REMOVE_CHARACTER",A="REMOVE_ALL",v="REMOVE_LAST_VISIBLE_NODE",y="PAUSE_FOR",b="CALL_FUNCTION",S="ADD_HTML_TAG_ELEMENT",x="CHANGE_DELETE_SPEED",w="CHANGE_DELAY",E="CHANGE_CURSOR",T="PASTE_STRING",L="HTML_TAG";function O($){return O=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},O($)}function N($,B){var D=Object.keys($);if(Object.getOwnPropertySymbols){var q=Object.getOwnPropertySymbols($);B&&(q=q.filter(function(ne){return Object.getOwnPropertyDescriptor($,ne).enumerable})),D.push.apply(D,q)}return D}function Q($){for(var B=1;B<arguments.length;B++){var D=arguments[B]!=null?arguments[B]:{};B%2?N(Object(D),!0).forEach(function(q){I($,q,D[q])}):Object.getOwnPropertyDescriptors?Object.defineProperties($,Object.getOwnPropertyDescriptors(D)):N(Object(D)).forEach(function(q){Object.defineProperty($,q,Object.getOwnPropertyDescriptor(D,q))})}return $}function M($){return function(B){if(Array.isArray(B))return U(B)}($)||function(B){if(typeof Symbol<"u"&&B[Symbol.iterator]!=null||B["@@iterator"]!=null)return Array.from(B)}($)||function(B,D){if(B){if(typeof B=="string")return U(B,D);var q=Object.prototype.toString.call(B).slice(8,-1);return q==="Object"&&B.constructor&&(q=B.constructor.name),q==="Map"||q==="Set"?Array.from(B):q==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(q)?U(B,D):void 0}}($)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function U($,B){(B==null||B>$.length)&&(B=$.length);for(var D=0,q=new Array(B);D<B;D++)q[D]=$[D];return q}function P($,B){for(var D=0;D<B.length;D++){var q=B[D];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty($,z(q.key),q)}}function I($,B,D){return(B=z(B))in $?Object.defineProperty($,B,{value:D,enumerable:!0,configurable:!0,writable:!0}):$[B]=D,$}function z($){var B=function(D,q){if(O(D)!=="object"||D===null)return D;var ne=D[Symbol.toPrimitive];if(ne!==void 0){var V=ne.call(D,"string");if(O(V)!=="object")return V;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(D)}($);return O(B)==="symbol"?B:String(B)}const j=function(){function $(q,ne){var V=this;if(function(Z,de){if(!(Z instanceof de))throw new TypeError("Cannot call a class as a function")}(this,$),I(this,"state",{cursorAnimation:null,lastFrameTime:null,pauseUntil:null,eventQueue:[],eventLoop:null,eventLoopPaused:!1,reverseCalledEvents:[],calledEvents:[],visibleNodes:[],initialOptions:null,elements:{container:null,wrapper:document.createElement("span"),cursor:document.createElement("span")}}),I(this,"options",{strings:null,cursor:"|",delay:"natural",pauseFor:1500,deleteSpeed:"natural",loop:!1,autoStart:!1,devMode:!1,skipAddStyles:!1,wrapperClassName:"Typewriter__wrapper",cursorClassName:"Typewriter__cursor",stringSplitter:null,onCreateTextNode:null,onRemoveNode:null}),I(this,"setupWrapperElement",function(){V.state.elements.container&&(V.state.elements.wrapper.className=V.options.wrapperClassName,V.state.elements.cursor.className=V.options.cursorClassName,V.state.elements.cursor.innerHTML=V.options.cursor,V.state.elements.container.innerHTML="",V.state.elements.container.appendChild(V.state.elements.wrapper),V.state.elements.container.appendChild(V.state.elements.cursor))}),I(this,"start",function(){return V.state.eventLoopPaused=!1,V.runEventLoop(),V}),I(this,"pause",function(){return V.state.eventLoopPaused=!0,V}),I(this,"stop",function(){return V.state.eventLoop&&((0,u.cancel)(V.state.eventLoop),V.state.eventLoop=null),V}),I(this,"pauseFor",function(Z){return V.addEventToQueue(y,{ms:Z}),V}),I(this,"typeOutAllStrings",function(){return typeof V.options.strings=="string"?(V.typeString(V.options.strings).pauseFor(V.options.pauseFor),V):(V.options.strings.forEach(function(Z){V.typeString(Z).pauseFor(V.options.pauseFor).deleteAll(V.options.deleteSpeed)}),V)}),I(this,"typeString",function(Z){var de=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(h(Z))return V.typeOutHTMLString(Z,de);if(Z){var we=(V.options||{}).stringSplitter,Ee=typeof we=="function"?we(Z):Z.split("");V.typeCharacters(Ee,de)}return V}),I(this,"pasteString",function(Z){var de=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return h(Z)?V.typeOutHTMLString(Z,de,!0):(Z&&V.addEventToQueue(T,{character:Z,node:de}),V)}),I(this,"typeOutHTMLString",function(Z){var de=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,we=arguments.length>2?arguments[2]:void 0,Ee=function(Le){var Ie=document.createElement("div");return Ie.innerHTML=Le,Ie.childNodes}(Z);if(Ee.length>0)for(var pe=0;pe<Ee.length;pe++){var Ae=Ee[pe],qe=Ae.innerHTML;Ae&&Ae.nodeType!==3?(Ae.innerHTML="",V.addEventToQueue(S,{node:Ae,parentNode:de}),we?V.pasteString(qe,Ae):V.typeString(qe,Ae)):Ae.textContent&&(we?V.pasteString(Ae.textContent,de):V.typeString(Ae.textContent,de))}return V}),I(this,"deleteAll",function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"natural";return V.addEventToQueue(A,{speed:Z}),V}),I(this,"changeDeleteSpeed",function(Z){if(!Z)throw new Error("Must provide new delete speed");return V.addEventToQueue(x,{speed:Z}),V}),I(this,"changeDelay",function(Z){if(!Z)throw new Error("Must provide new delay");return V.addEventToQueue(w,{delay:Z}),V}),I(this,"changeCursor",function(Z){if(!Z)throw new Error("Must provide new cursor");return V.addEventToQueue(E,{cursor:Z}),V}),I(this,"deleteChars",function(Z){if(!Z)throw new Error("Must provide amount of characters to delete");for(var de=0;de<Z;de++)V.addEventToQueue(m);return V}),I(this,"callFunction",function(Z,de){if(!Z||typeof Z!="function")throw new Error("Callback must be a function");return V.addEventToQueue(b,{cb:Z,thisArg:de}),V}),I(this,"typeCharacters",function(Z){var de=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!Z||!Array.isArray(Z))throw new Error("Characters must be an array");return Z.forEach(function(we){V.addEventToQueue(g,{character:we,node:de})}),V}),I(this,"removeCharacters",function(Z){if(!Z||!Array.isArray(Z))throw new Error("Characters must be an array");return Z.forEach(function(){V.addEventToQueue(m)}),V}),I(this,"addEventToQueue",function(Z,de){var we=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return V.addEventToStateProperty(Z,de,we,"eventQueue")}),I(this,"addReverseCalledEvent",function(Z,de){var we=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return V.options.loop?V.addEventToStateProperty(Z,de,we,"reverseCalledEvents"):V}),I(this,"addEventToStateProperty",function(Z,de){var we=arguments.length>2&&arguments[2]!==void 0&&arguments[2],Ee=arguments.length>3?arguments[3]:void 0,pe={eventName:Z,eventArgs:de||{}};return V.state[Ee]=we?[pe].concat(M(V.state[Ee])):[].concat(M(V.state[Ee]),[pe]),V}),I(this,"runEventLoop",function(){V.state.lastFrameTime||(V.state.lastFrameTime=Date.now());var Z=Date.now(),de=Z-V.state.lastFrameTime;if(!V.state.eventQueue.length){if(!V.options.loop)return;V.state.eventQueue=M(V.state.calledEvents),V.state.calledEvents=[],V.options=Q({},V.state.initialOptions)}if(V.state.eventLoop=d()(V.runEventLoop),!V.state.eventLoopPaused){if(V.state.pauseUntil){if(Z<V.state.pauseUntil)return;V.state.pauseUntil=null}var we,Ee=M(V.state.eventQueue),pe=Ee.shift();if(!(de<=(we=pe.eventName===v||pe.eventName===m?V.options.deleteSpeed==="natural"?p(40,80):V.options.deleteSpeed:V.options.delay==="natural"?p(120,160):V.options.delay))){var Ae=pe.eventName,qe=pe.eventArgs;switch(V.logInDevMode({currentEvent:pe,state:V.state,delay:we}),Ae){case T:case g:var Le=qe.character,Ie=qe.node,_e=document.createTextNode(Le),Ue=_e;V.options.onCreateTextNode&&typeof V.options.onCreateTextNode=="function"&&(Ue=V.options.onCreateTextNode(Le,_e)),Ue&&(Ie?Ie.appendChild(Ue):V.state.elements.wrapper.appendChild(Ue)),V.state.visibleNodes=[].concat(M(V.state.visibleNodes),[{type:"TEXT_NODE",character:Le,node:Ue}]);break;case m:Ee.unshift({eventName:v,eventArgs:{removingCharacterNode:!0}});break;case y:var Ge=pe.eventArgs.ms;V.state.pauseUntil=Date.now()+parseInt(Ge);break;case b:var He=pe.eventArgs,rt=He.cb,it=He.thisArg;rt.call(it,{elements:V.state.elements});break;case S:var Nt=pe.eventArgs,At=Nt.node,Gt=Nt.parentNode;Gt?Gt.appendChild(At):V.state.elements.wrapper.appendChild(At),V.state.visibleNodes=[].concat(M(V.state.visibleNodes),[{type:L,node:At,parentNode:Gt||V.state.elements.wrapper}]);break;case A:var st=V.state.visibleNodes,_t=qe.speed,wt=[];_t&&wt.push({eventName:x,eventArgs:{speed:_t,temp:!0}});for(var Ye=0,$t=st.length;Ye<$t;Ye++)wt.push({eventName:v,eventArgs:{removingCharacterNode:!1}});_t&&wt.push({eventName:x,eventArgs:{speed:V.options.deleteSpeed,temp:!0}}),Ee.unshift.apply(Ee,wt);break;case v:var ye=pe.eventArgs.removingCharacterNode;if(V.state.visibleNodes.length){var We=V.state.visibleNodes.pop(),Pn=We.type,bt=We.node,yn=We.character;V.options.onRemoveNode&&typeof V.options.onRemoveNode=="function"&&V.options.onRemoveNode({node:bt,character:yn}),bt&&bt.parentNode.removeChild(bt),Pn===L&&ye&&Ee.unshift({eventName:v,eventArgs:{}})}break;case x:V.options.deleteSpeed=pe.eventArgs.speed;break;case w:V.options.delay=pe.eventArgs.delay;break;case E:V.options.cursor=pe.eventArgs.cursor,V.state.elements.cursor.innerHTML=pe.eventArgs.cursor}V.options.loop&&(pe.eventName===v||pe.eventArgs&&pe.eventArgs.temp||(V.state.calledEvents=[].concat(M(V.state.calledEvents),[pe]))),V.state.eventQueue=Ee,V.state.lastFrameTime=Z}}}),q)if(typeof q=="string"){var ce=document.querySelector(q);if(!ce)throw new Error("Could not find container element");this.state.elements.container=ce}else this.state.elements.container=q;ne&&(this.options=Q(Q({},this.options),ne)),this.state.initialOptions=Q({},this.options),this.init()}var B,D;return B=$,(D=[{key:"init",value:function(){var q,ne;this.setupWrapperElement(),this.addEventToQueue(E,{cursor:this.options.cursor},!0),this.addEventToQueue(A,null,!0),!window||window.___TYPEWRITER_JS_STYLES_ADDED___||this.options.skipAddStyles||(q=".Typewriter__cursor{-webkit-animation:Typewriter-cursor 1s infinite;animation:Typewriter-cursor 1s infinite;margin-left:1px}@-webkit-keyframes Typewriter-cursor{0%{opacity:0}50%{opacity:1}100%{opacity:0}}@keyframes Typewriter-cursor{0%{opacity:0}50%{opacity:1}100%{opacity:0}}",(ne=document.createElement("style")).appendChild(document.createTextNode(q)),document.head.appendChild(ne),window.___TYPEWRITER_JS_STYLES_ADDED___=!0),this.options.autoStart===!0&&this.options.strings&&this.typeOutAllStrings().start()}},{key:"logInDevMode",value:function(q){this.options.devMode&&console.log(q)}}])&&P(B.prototype,D),Object.defineProperty(B,"prototype",{writable:!1}),$}()},8552:(a,l,c)=>{var u=c(852)(c(5639),"DataView");a.exports=u},1989:(a,l,c)=>{var u=c(1789),d=c(401),h=c(7667),p=c(1327),g=c(1866);function m(A){var v=-1,y=A==null?0:A.length;for(this.clear();++v<y;){var b=A[v];this.set(b[0],b[1])}}m.prototype.clear=u,m.prototype.delete=d,m.prototype.get=h,m.prototype.has=p,m.prototype.set=g,a.exports=m},8407:(a,l,c)=>{var u=c(7040),d=c(4125),h=c(2117),p=c(7518),g=c(4705);function m(A){var v=-1,y=A==null?0:A.length;for(this.clear();++v<y;){var b=A[v];this.set(b[0],b[1])}}m.prototype.clear=u,m.prototype.delete=d,m.prototype.get=h,m.prototype.has=p,m.prototype.set=g,a.exports=m},7071:(a,l,c)=>{var u=c(852)(c(5639),"Map");a.exports=u},3369:(a,l,c)=>{var u=c(4785),d=c(1285),h=c(6e3),p=c(9916),g=c(5265);function m(A){var v=-1,y=A==null?0:A.length;for(this.clear();++v<y;){var b=A[v];this.set(b[0],b[1])}}m.prototype.clear=u,m.prototype.delete=d,m.prototype.get=h,m.prototype.has=p,m.prototype.set=g,a.exports=m},3818:(a,l,c)=>{var u=c(852)(c(5639),"Promise");a.exports=u},8525:(a,l,c)=>{var u=c(852)(c(5639),"Set");a.exports=u},8668:(a,l,c)=>{var u=c(3369),d=c(619),h=c(2385);function p(g){var m=-1,A=g==null?0:g.length;for(this.__data__=new u;++m<A;)this.add(g[m])}p.prototype.add=p.prototype.push=d,p.prototype.has=h,a.exports=p},6384:(a,l,c)=>{var u=c(8407),d=c(7465),h=c(3779),p=c(7599),g=c(4758),m=c(4309);function A(v){var y=this.__data__=new u(v);this.size=y.size}A.prototype.clear=d,A.prototype.delete=h,A.prototype.get=p,A.prototype.has=g,A.prototype.set=m,a.exports=A},2705:(a,l,c)=>{var u=c(5639).Symbol;a.exports=u},1149:(a,l,c)=>{var u=c(5639).Uint8Array;a.exports=u},577:(a,l,c)=>{var u=c(852)(c(5639),"WeakMap");a.exports=u},4963:a=>{a.exports=function(l,c){for(var u=-1,d=l==null?0:l.length,h=0,p=[];++u<d;){var g=l[u];c(g,u,l)&&(p[h++]=g)}return p}},4636:(a,l,c)=>{var u=c(2545),d=c(5694),h=c(1469),p=c(4144),g=c(5776),m=c(6719),A=Object.prototype.hasOwnProperty;a.exports=function(v,y){var b=h(v),S=!b&&d(v),x=!b&&!S&&p(v),w=!b&&!S&&!x&&m(v),E=b||S||x||w,T=E?u(v.length,String):[],L=T.length;for(var O in v)!y&&!A.call(v,O)||E&&(O=="length"||x&&(O=="offset"||O=="parent")||w&&(O=="buffer"||O=="byteLength"||O=="byteOffset")||g(O,L))||T.push(O);return T}},2488:a=>{a.exports=function(l,c){for(var u=-1,d=c.length,h=l.length;++u<d;)l[h+u]=c[u];return l}},2908:a=>{a.exports=function(l,c){for(var u=-1,d=l==null?0:l.length;++u<d;)if(c(l[u],u,l))return!0;return!1}},8470:(a,l,c)=>{var u=c(7813);a.exports=function(d,h){for(var p=d.length;p--;)if(u(d[p][0],h))return p;return-1}},8866:(a,l,c)=>{var u=c(2488),d=c(1469);a.exports=function(h,p,g){var m=p(h);return d(h)?m:u(m,g(h))}},4239:(a,l,c)=>{var u=c(2705),d=c(9607),h=c(2333),p=u?u.toStringTag:void 0;a.exports=function(g){return g==null?g===void 0?"[object Undefined]":"[object Null]":p&&p in Object(g)?d(g):h(g)}},9454:(a,l,c)=>{var u=c(4239),d=c(7005);a.exports=function(h){return d(h)&&u(h)=="[object Arguments]"}},939:(a,l,c)=>{var u=c(2492),d=c(7005);a.exports=function h(p,g,m,A,v){return p===g||(p==null||g==null||!d(p)&&!d(g)?p!=p&&g!=g:u(p,g,m,A,h,v))}},2492:(a,l,c)=>{var u=c(6384),d=c(7114),h=c(8351),p=c(6096),g=c(4160),m=c(1469),A=c(4144),v=c(6719),y="[object Arguments]",b="[object Array]",S="[object Object]",x=Object.prototype.hasOwnProperty;a.exports=function(w,E,T,L,O,N){var Q=m(w),M=m(E),U=Q?b:g(w),P=M?b:g(E),I=(U=U==y?S:U)==S,z=(P=P==y?S:P)==S,j=U==P;if(j&&A(w)){if(!A(E))return!1;Q=!0,I=!1}if(j&&!I)return N||(N=new u),Q||v(w)?d(w,E,T,L,O,N):h(w,E,U,T,L,O,N);if(!(1&T)){var $=I&&x.call(w,"__wrapped__"),B=z&&x.call(E,"__wrapped__");if($||B){var D=$?w.value():w,q=B?E.value():E;return N||(N=new u),O(D,q,T,L,N)}}return!!j&&(N||(N=new u),p(w,E,T,L,O,N))}},8458:(a,l,c)=>{var u=c(3560),d=c(5346),h=c(3218),p=c(346),g=/^\[object .+?Constructor\]$/,m=Function.prototype,A=Object.prototype,v=m.toString,y=A.hasOwnProperty,b=RegExp("^"+v.call(y).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");a.exports=function(S){return!(!h(S)||d(S))&&(u(S)?b:g).test(p(S))}},8749:(a,l,c)=>{var u=c(4239),d=c(1780),h=c(7005),p={};p["[object Float32Array]"]=p["[object Float64Array]"]=p["[object Int8Array]"]=p["[object Int16Array]"]=p["[object Int32Array]"]=p["[object Uint8Array]"]=p["[object Uint8ClampedArray]"]=p["[object Uint16Array]"]=p["[object Uint32Array]"]=!0,p["[object Arguments]"]=p["[object Array]"]=p["[object ArrayBuffer]"]=p["[object Boolean]"]=p["[object DataView]"]=p["[object Date]"]=p["[object Error]"]=p["[object Function]"]=p["[object Map]"]=p["[object Number]"]=p["[object Object]"]=p["[object RegExp]"]=p["[object Set]"]=p["[object String]"]=p["[object WeakMap]"]=!1,a.exports=function(g){return h(g)&&d(g.length)&&!!p[u(g)]}},280:(a,l,c)=>{var u=c(5726),d=c(6916),h=Object.prototype.hasOwnProperty;a.exports=function(p){if(!u(p))return d(p);var g=[];for(var m in Object(p))h.call(p,m)&&m!="constructor"&&g.push(m);return g}},2545:a=>{a.exports=function(l,c){for(var u=-1,d=Array(l);++u<l;)d[u]=c(u);return d}},1717:a=>{a.exports=function(l){return function(c){return l(c)}}},4757:a=>{a.exports=function(l,c){return l.has(c)}},4429:(a,l,c)=>{var u=c(5639)["__core-js_shared__"];a.exports=u},7114:(a,l,c)=>{var u=c(8668),d=c(2908),h=c(4757);a.exports=function(p,g,m,A,v,y){var b=1&m,S=p.length,x=g.length;if(S!=x&&!(b&&x>S))return!1;var w=y.get(p),E=y.get(g);if(w&&E)return w==g&&E==p;var T=-1,L=!0,O=2&m?new u:void 0;for(y.set(p,g),y.set(g,p);++T<S;){var N=p[T],Q=g[T];if(A)var M=b?A(Q,N,T,g,p,y):A(N,Q,T,p,g,y);if(M!==void 0){if(M)continue;L=!1;break}if(O){if(!d(g,function(U,P){if(!h(O,P)&&(N===U||v(N,U,m,A,y)))return O.push(P)})){L=!1;break}}else if(N!==Q&&!v(N,Q,m,A,y)){L=!1;break}}return y.delete(p),y.delete(g),L}},8351:(a,l,c)=>{var u=c(2705),d=c(1149),h=c(7813),p=c(7114),g=c(8776),m=c(1814),A=u?u.prototype:void 0,v=A?A.valueOf:void 0;a.exports=function(y,b,S,x,w,E,T){switch(S){case"[object DataView]":if(y.byteLength!=b.byteLength||y.byteOffset!=b.byteOffset)return!1;y=y.buffer,b=b.buffer;case"[object ArrayBuffer]":return!(y.byteLength!=b.byteLength||!E(new d(y),new d(b)));case"[object Boolean]":case"[object Date]":case"[object Number]":return h(+y,+b);case"[object Error]":return y.name==b.name&&y.message==b.message;case"[object RegExp]":case"[object String]":return y==b+"";case"[object Map]":var L=g;case"[object Set]":var O=1&x;if(L||(L=m),y.size!=b.size&&!O)return!1;var N=T.get(y);if(N)return N==b;x|=2,T.set(y,b);var Q=p(L(y),L(b),x,w,E,T);return T.delete(y),Q;case"[object Symbol]":if(v)return v.call(y)==v.call(b)}return!1}},6096:(a,l,c)=>{var u=c(8234),d=Object.prototype.hasOwnProperty;a.exports=function(h,p,g,m,A,v){var y=1&g,b=u(h),S=b.length;if(S!=u(p).length&&!y)return!1;for(var x=S;x--;){var w=b[x];if(!(y?w in p:d.call(p,w)))return!1}var E=v.get(h),T=v.get(p);if(E&&T)return E==p&&T==h;var L=!0;v.set(h,p),v.set(p,h);for(var O=y;++x<S;){var N=h[w=b[x]],Q=p[w];if(m)var M=y?m(Q,N,w,p,h,v):m(N,Q,w,h,p,v);if(!(M===void 0?N===Q||A(N,Q,g,m,v):M)){L=!1;break}O||(O=w=="constructor")}if(L&&!O){var U=h.constructor,P=p.constructor;U==P||!("constructor"in h)||!("constructor"in p)||typeof U=="function"&&U instanceof U&&typeof P=="function"&&P instanceof P||(L=!1)}return v.delete(h),v.delete(p),L}},1957:(a,l,c)=>{var u=typeof c.g=="object"&&c.g&&c.g.Object===Object&&c.g;a.exports=u},8234:(a,l,c)=>{var u=c(8866),d=c(9551),h=c(3674);a.exports=function(p){return u(p,h,d)}},5050:(a,l,c)=>{var u=c(7019);a.exports=function(d,h){var p=d.__data__;return u(h)?p[typeof h=="string"?"string":"hash"]:p.map}},852:(a,l,c)=>{var u=c(8458),d=c(7801);a.exports=function(h,p){var g=d(h,p);return u(g)?g:void 0}},9607:(a,l,c)=>{var u=c(2705),d=Object.prototype,h=d.hasOwnProperty,p=d.toString,g=u?u.toStringTag:void 0;a.exports=function(m){var A=h.call(m,g),v=m[g];try{m[g]=void 0;var y=!0}catch{}var b=p.call(m);return y&&(A?m[g]=v:delete m[g]),b}},9551:(a,l,c)=>{var u=c(4963),d=c(479),h=Object.prototype.propertyIsEnumerable,p=Object.getOwnPropertySymbols,g=p?function(m){return m==null?[]:(m=Object(m),u(p(m),function(A){return h.call(m,A)}))}:d;a.exports=g},4160:(a,l,c)=>{var u=c(8552),d=c(7071),h=c(3818),p=c(8525),g=c(577),m=c(4239),A=c(346),v="[object Map]",y="[object Promise]",b="[object Set]",S="[object WeakMap]",x="[object DataView]",w=A(u),E=A(d),T=A(h),L=A(p),O=A(g),N=m;(u&&N(new u(new ArrayBuffer(1)))!=x||d&&N(new d)!=v||h&&N(h.resolve())!=y||p&&N(new p)!=b||g&&N(new g)!=S)&&(N=function(Q){var M=m(Q),U=M=="[object Object]"?Q.constructor:void 0,P=U?A(U):"";if(P)switch(P){case w:return x;case E:return v;case T:return y;case L:return b;case O:return S}return M}),a.exports=N},7801:a=>{a.exports=function(l,c){return l==null?void 0:l[c]}},1789:(a,l,c)=>{var u=c(4536);a.exports=function(){this.__data__=u?u(null):{},this.size=0}},401:a=>{a.exports=function(l){var c=this.has(l)&&delete this.__data__[l];return this.size-=c?1:0,c}},7667:(a,l,c)=>{var u=c(4536),d=Object.prototype.hasOwnProperty;a.exports=function(h){var p=this.__data__;if(u){var g=p[h];return g==="__lodash_hash_undefined__"?void 0:g}return d.call(p,h)?p[h]:void 0}},1327:(a,l,c)=>{var u=c(4536),d=Object.prototype.hasOwnProperty;a.exports=function(h){var p=this.__data__;return u?p[h]!==void 0:d.call(p,h)}},1866:(a,l,c)=>{var u=c(4536);a.exports=function(d,h){var p=this.__data__;return this.size+=this.has(d)?0:1,p[d]=u&&h===void 0?"__lodash_hash_undefined__":h,this}},5776:a=>{var l=/^(?:0|[1-9]\d*)$/;a.exports=function(c,u){var d=typeof c;return!!(u=u??9007199254740991)&&(d=="number"||d!="symbol"&&l.test(c))&&c>-1&&c%1==0&&c<u}},7019:a=>{a.exports=function(l){var c=typeof l;return c=="string"||c=="number"||c=="symbol"||c=="boolean"?l!=="__proto__":l===null}},5346:(a,l,c)=>{var u,d=c(4429),h=(u=/[^.]+$/.exec(d&&d.keys&&d.keys.IE_PROTO||""))?"Symbol(src)_1."+u:"";a.exports=function(p){return!!h&&h in p}},5726:a=>{var l=Object.prototype;a.exports=function(c){var u=c&&c.constructor;return c===(typeof u=="function"&&u.prototype||l)}},7040:a=>{a.exports=function(){this.__data__=[],this.size=0}},4125:(a,l,c)=>{var u=c(8470),d=Array.prototype.splice;a.exports=function(h){var p=this.__data__,g=u(p,h);return!(g<0||(g==p.length-1?p.pop():d.call(p,g,1),--this.size,0))}},2117:(a,l,c)=>{var u=c(8470);a.exports=function(d){var h=this.__data__,p=u(h,d);return p<0?void 0:h[p][1]}},7518:(a,l,c)=>{var u=c(8470);a.exports=function(d){return u(this.__data__,d)>-1}},4705:(a,l,c)=>{var u=c(8470);a.exports=function(d,h){var p=this.__data__,g=u(p,d);return g<0?(++this.size,p.push([d,h])):p[g][1]=h,this}},4785:(a,l,c)=>{var u=c(1989),d=c(8407),h=c(7071);a.exports=function(){this.size=0,this.__data__={hash:new u,map:new(h||d),string:new u}}},1285:(a,l,c)=>{var u=c(5050);a.exports=function(d){var h=u(this,d).delete(d);return this.size-=h?1:0,h}},6e3:(a,l,c)=>{var u=c(5050);a.exports=function(d){return u(this,d).get(d)}},9916:(a,l,c)=>{var u=c(5050);a.exports=function(d){return u(this,d).has(d)}},5265:(a,l,c)=>{var u=c(5050);a.exports=function(d,h){var p=u(this,d),g=p.size;return p.set(d,h),this.size+=p.size==g?0:1,this}},8776:a=>{a.exports=function(l){var c=-1,u=Array(l.size);return l.forEach(function(d,h){u[++c]=[h,d]}),u}},4536:(a,l,c)=>{var u=c(852)(Object,"create");a.exports=u},6916:(a,l,c)=>{var u=c(5569)(Object.keys,Object);a.exports=u},1167:(a,l,c)=>{a=c.nmd(a);var u=c(1957),d=l&&!l.nodeType&&l,h=d&&a&&!a.nodeType&&a,p=h&&h.exports===d&&u.process,g=function(){try{return h&&h.require&&h.require("util").types||p&&p.binding&&p.binding("util")}catch{}}();a.exports=g},2333:a=>{var l=Object.prototype.toString;a.exports=function(c){return l.call(c)}},5569:a=>{a.exports=function(l,c){return function(u){return l(c(u))}}},5639:(a,l,c)=>{var u=c(1957),d=typeof self=="object"&&self&&self.Object===Object&&self,h=u||d||Function("return this")();a.exports=h},619:a=>{a.exports=function(l){return this.__data__.set(l,"__lodash_hash_undefined__"),this}},2385:a=>{a.exports=function(l){return this.__data__.has(l)}},1814:a=>{a.exports=function(l){var c=-1,u=Array(l.size);return l.forEach(function(d){u[++c]=d}),u}},7465:(a,l,c)=>{var u=c(8407);a.exports=function(){this.__data__=new u,this.size=0}},3779:a=>{a.exports=function(l){var c=this.__data__,u=c.delete(l);return this.size=c.size,u}},7599:a=>{a.exports=function(l){return this.__data__.get(l)}},4758:a=>{a.exports=function(l){return this.__data__.has(l)}},4309:(a,l,c)=>{var u=c(8407),d=c(7071),h=c(3369);a.exports=function(p,g){var m=this.__data__;if(m instanceof u){var A=m.__data__;if(!d||A.length<199)return A.push([p,g]),this.size=++m.size,this;m=this.__data__=new h(A)}return m.set(p,g),this.size=m.size,this}},346:a=>{var l=Function.prototype.toString;a.exports=function(c){if(c!=null){try{return l.call(c)}catch{}try{return c+""}catch{}}return""}},7813:a=>{a.exports=function(l,c){return l===c||l!=l&&c!=c}},5694:(a,l,c)=>{var u=c(9454),d=c(7005),h=Object.prototype,p=h.hasOwnProperty,g=h.propertyIsEnumerable,m=u(function(){return arguments}())?u:function(A){return d(A)&&p.call(A,"callee")&&!g.call(A,"callee")};a.exports=m},1469:a=>{var l=Array.isArray;a.exports=l},8612:(a,l,c)=>{var u=c(3560),d=c(1780);a.exports=function(h){return h!=null&&d(h.length)&&!u(h)}},4144:(a,l,c)=>{a=c.nmd(a);var u=c(5639),d=c(5062),h=l&&!l.nodeType&&l,p=h&&a&&!a.nodeType&&a,g=p&&p.exports===h?u.Buffer:void 0,m=(g?g.isBuffer:void 0)||d;a.exports=m},8446:(a,l,c)=>{var u=c(939);a.exports=function(d,h){return u(d,h)}},3560:(a,l,c)=>{var u=c(4239),d=c(3218);a.exports=function(h){if(!d(h))return!1;var p=u(h);return p=="[object Function]"||p=="[object GeneratorFunction]"||p=="[object AsyncFunction]"||p=="[object Proxy]"}},1780:a=>{a.exports=function(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=9007199254740991}},3218:a=>{a.exports=function(l){var c=typeof l;return l!=null&&(c=="object"||c=="function")}},7005:a=>{a.exports=function(l){return l!=null&&typeof l=="object"}},6719:(a,l,c)=>{var u=c(8749),d=c(1717),h=c(1167),p=h&&h.isTypedArray,g=p?d(p):u;a.exports=g},3674:(a,l,c)=>{var u=c(4636),d=c(280),h=c(8612);a.exports=function(p){return h(p)?u(p):d(p)}},479:a=>{a.exports=function(){return[]}},5062:a=>{a.exports=function(){return!1}},75:function(a){(function(){var l,c,u,d,h,p;typeof performance<"u"&&performance!==null&&performance.now?a.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(a.exports=function(){return(l()-h)/1e6},c=process.hrtime,d=(l=function(){var g;return 1e9*(g=c())[0]+g[1]})(),p=1e9*process.uptime(),h=d-p):Date.now?(a.exports=function(){return Date.now()-u},u=Date.now()):(a.exports=function(){return new Date().getTime()-u},u=new Date().getTime())}).call(this)},4087:(a,l,c)=>{for(var u=c(75),d=typeof window>"u"?c.g:window,h=["moz","webkit"],p="AnimationFrame",g=d["request"+p],m=d["cancel"+p]||d["cancelRequest"+p],A=0;!g&&A<h.length;A++)g=d[h[A]+"Request"+p],m=d[h[A]+"Cancel"+p]||d[h[A]+"CancelRequest"+p];if(!g||!m){var v=0,y=0,b=[];g=function(S){if(b.length===0){var x=u(),w=Math.max(0,16.666666666666668-(x-v));v=w+x,setTimeout(function(){var E=b.slice(0);b.length=0;for(var T=0;T<E.length;T++)if(!E[T].cancelled)try{E[T].callback(v)}catch(L){setTimeout(function(){throw L},0)}},Math.round(w))}return b.push({handle:++y,callback:S,cancelled:!1}),y},m=function(S){for(var x=0;x<b.length;x++)b[x].handle===S&&(b[x].cancelled=!0)}}a.exports=function(S){return g.call(d,S)},a.exports.cancel=function(){m.apply(d,arguments)},a.exports.polyfill=function(S){S||(S=d),S.requestAnimationFrame=g,S.cancelAnimationFrame=m}},8156:a=>{a.exports=n}},i={};function s(a){var l=i[a];if(l!==void 0)return l.exports;var c=i[a]={id:a,loaded:!1,exports:{}};return r[a].call(c.exports,c,c.exports,s),c.loaded=!0,c.exports}s.n=a=>{var l=a&&a.__esModule?()=>a.default:()=>a;return s.d(l,{a:l}),l},s.d=(a,l)=>{for(var c in l)s.o(l,c)&&!s.o(a,c)&&Object.defineProperty(a,c,{enumerable:!0,get:l[c]})},s.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),s.o=(a,l)=>Object.prototype.hasOwnProperty.call(a,l),s.nmd=a=>(a.paths=[],a.children||(a.children=[]),a);var o={};return(()=>{s.d(o,{default:()=>b});var a=s(8156),l=s.n(a),c=s(7403),u=s(8446),d=s.n(u);function h(S){return h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},h(S)}function p(S,x){for(var w=0;w<x.length;w++){var E=x[w];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(S,v(E.key),E)}}function g(S,x){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(w,E){return w.__proto__=E,w},g(S,x)}function m(S){if(S===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S}function A(S){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(x){return x.__proto__||Object.getPrototypeOf(x)},A(S)}function v(S){var x=function(w,E){if(h(w)!=="object"||w===null)return w;var T=w[Symbol.toPrimitive];if(T!==void 0){var L=T.call(w,"string");if(h(L)!=="object")return L;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(w)}(S);return h(x)==="symbol"?x:String(x)}var y=function(S){(function(N,Q){if(typeof Q!="function"&&Q!==null)throw new TypeError("Super expression must either be null or a function");N.prototype=Object.create(Q&&Q.prototype,{constructor:{value:N,writable:!0,configurable:!0}}),Object.defineProperty(N,"prototype",{writable:!1}),Q&&g(N,Q)})(O,S);var x,w,E,T,L=(E=O,T=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var N,Q=A(E);if(T){var M=A(this).constructor;N=Reflect.construct(Q,arguments,M)}else N=Q.apply(this,arguments);return function(U,P){if(P&&(h(P)==="object"||typeof P=="function"))return P;if(P!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return m(U)}(this,N)});function O(){var N,Q,M,U;(function(j,$){if(!(j instanceof $))throw new TypeError("Cannot call a class as a function")})(this,O);for(var P=arguments.length,I=new Array(P),z=0;z<P;z++)I[z]=arguments[z];return Q=m(N=L.call.apply(L,[this].concat(I))),U={instance:null},(M=v(M="state"))in Q?Object.defineProperty(Q,M,{value:U,enumerable:!0,configurable:!0,writable:!0}):Q[M]=U,N}return x=O,(w=[{key:"componentDidMount",value:function(){var N=this,Q=new c.default(this.typewriter,this.props.options);this.setState({instance:Q},function(){var M=N.props.onInit;M&&M(Q)})}},{key:"componentDidUpdate",value:function(N){d()(this.props.options,N.options)||this.setState({instance:new c.default(this.typewriter,this.props.options)})}},{key:"componentWillUnmount",value:function(){this.state.instance&&this.state.instance.stop()}},{key:"render",value:function(){var N=this,Q=this.props.component;return l().createElement(Q,{ref:function(M){return N.typewriter=M},className:"Typewriter","data-testid":"typewriter-wrapper"})}}])&&p(x.prototype,w),Object.defineProperty(x,"prototype",{writable:!1}),O}(a.Component);y.defaultProps={component:"div"};const b=y})(),o.default})())})($$);var fAe=$$.exports;const D$=lr(fAe);function hAe({playerNumber:e,player:t,segment:n}){const[r,i]=t.detailedScore;return f.jsxs(pAe,{children:[f.jsx(jp,{score:n>-1?r.rap+r.freestyle+r.normal:0,maxScore:i.rap+i.freestyle+i.normal,color:he.colors.players[e].perfect.fill}),f.jsx(jp,{score:n>0?r.perfect:0,maxScore:i.perfect,color:he.colors.players[e].stroke}),f.jsx(jp,{score:n>1?r.star:0,maxScore:i.star,color:he.colors.players[e].starPerfect.stroke}),f.jsx(jp,{score:n>2?r.vibrato:0,maxScore:i.vibrato,color:he.colors.players[e].perfect.stroke}),f.jsx(gAe,{children:n<5&&f.jsx(D$,{options:{strings:["Regular notes","Perfect notes","Star notes","Vibrato"],pauseFor:1e3,autoStart:!0,delay:15,deleteSpeed:15,cursor:""}})})]})}const pAe=C("div",{target:"ejw0p7o1"})({name:"rtb9pf",styles:"position:relative;height:5rem;width:100%;display:flex;flex-direction:row;border-radius:1rem;gap:0.5rem;box-sizing:border-box;background:rgba(0, 0, 0, 0.5);padding:0.5rem"}),gAe=C("span",{target:"ejw0p7o0"})("position:absolute;",Ne,";font-size:3rem;text-align:right;white-space:nowrap;top:6rem;left:1rem;display:block;");function mAe({playerNumber:e,player:t,highestScore:n,highScores:r,singSetup:i,useColors:s=!0,revealHighScore:o,segment:a}){const[l]=t.detailedScore;let c=0;a>-1&&(c=l.normal+l.rap+l.freestyle),a>0&&(c=c+l.perfect),a>1&&(c=c+l.star),a>2&&(c=c+l.vibrato);const u=d=>r.some(h=>h.singSetupId===i.id&&h.name===d);return f.jsxs(vAe,{children:[f.jsx(_Ae,{children:f.jsxs(AAe,{highscore:o&&u(t.name),color:s?he.colors.players[e].text:"",win:o&&c===n,"data-test":`player-${e}-score`,"data-score":Math.floor(c),children:[f.jsx(yAe,{color:s?he.colors.players[e].text:"","data-test":`player-${e}-name`,className:"ph-no-capture",children:t.name}),f.jsx(uE,{preserveValue:!0,end:c,formattingFn:A$.format,duration:a<5?1:.5}),f.jsx(bAe,{highscore:o&&u(t.name),children:"High score!"})]})}),f.jsx(hAe,{playerNumber:e,player:t,segment:a})]})}const vAe=C("div",{target:"e1vy0af44"})({name:"use048",styles:"background:rgba(0, 0, 0, 0.5);display:flex;flex-direction:column;align-items:center;border-radius:1rem;gap:1rem;padding:1rem 2rem 1rem 2rem"}),yAe=C("span",{target:"e1vy0af43"})("font-size:4rem;color:",e=>e.color,";"),AAe=C(vv,{target:"e1vy0af42"})("background:transparent;font-size:",e=>e.win?"8.5rem":"5.5rem",";color:",e=>e.win?he.colors.text.active:"white",";transition:400ms ease-in-out;position:relative;display:flex;align-items:center;justify-content:space-between;flex:1;margin:0;padding:0;"),_Ae=C("div",{target:"e1vy0af41"})({name:"8pc2uz",styles:"display:flex;flex:1;width:100%;height:8.5rem"}),bAe=C(ON,{target:"e1vy0af40"})("top:-3.5rem;right:-11rem;font-size:3rem;",e=>e.highscore&&fw,";opacity:",e=>e.highscore?"1":"0",";transition:400ms;");function xAe({onNextStep:e,players:t,highScores:n,singSetup:r}){const[i,s]=_.useState(-1);_.useEffect(()=>{if(i<0)s(0);else if(i<4){const p=setInterval(()=>{s(g=>g+1)},1500);return()=>{clearInterval(p)}}},[i]);const o=i>3,a=()=>{o?e():(pn.capture("animation_skipped"),s(5))};Il({accept:a},!0,[i]);const l=_.useMemo(()=>({accept:"Next"}),[]);Pu(l,!0);const c=r.mode===mr.CO_OP,u=c?[{...t[0],name:t.map(p=>p.name).join(", ")}]:t,d=u.map(p=>px(p.detailedScore[0])),h=Math.max(...d);return f.jsxs(SAe,{children:[f.jsx(wAe,{children:u.map((p,g)=>f.jsx(mAe,{playerNumber:p.playerNumber,useColors:!c,revealHighScore:i>3,segment:i,player:p,highScores:n,highestScore:h,singSetup:r},g))}),f.jsx(EAe,{onClick:a,focused:!0,"data-test":o?"highscores-button":"skip-animation-button",children:o?"Next":"Skip"}),Qi.getPermissionStatus()&&f.jsx(kAe,{})]})}const SAe=C("div",{target:"e1qmbv7g3"})({name:"1vzp6wx",styles:"position:absolute;padding:20rem 15rem 10rem 15rem;top:0;height:100%;box-sizing:border-box;width:100%;display:flex;flex-direction:column"}),wAe=C("div",{target:"e1qmbv7g2"})({name:"1lbl88b",styles:"text-align:center;display:flex;flex-direction:column;justify-content:center;gap:5rem;margin-bottom:15rem;flex:1"}),EAe=C(ds,{target:"e1qmbv7g1"})({name:"195iwp6",styles:"width:40rem;font-size:1.9vw;margin-left:auto"}),kAe=C(oAe,{target:"e1qmbv7g0"})({name:"1c3jvq",styles:"position:absolute;top:calc(50% - 30rem);left:95rem;transform:scale(0.75)"});function CAe(){return _.useMemo(()=>JSON.parse(Ve.session.getItem(Zc))??[],[])}function TAe({score:e,register:t,singSetupId:n,onSave:r,index:i}){const s=_.useRef(null),[o,a]=_.useState(""),l=CAe(),c=()=>{o.trim().length&&o.trim()!==e.name&&r(n,e.score,e.name,o)};return f.jsx(h$,{className:"ph-no-capture",options:l,onChange:a,onBlur:c,value:o,label:"",ref:s,...t(`highscore-rename-${i}`,()=>{var u;return(u=s.current)==null?void 0:u.focus()}),placeholder:e.name,"data-test":"input-edit-highscore","data-original-name":e.name})}function IAe({onNextStep:e,highScores:t,singSetup:n,song:r}){const{register:i}=Vn(),s=Bge(r);return f.jsxs(f.Fragment,{children:[f.jsx(PAe,{"data-test":"highscores-container",children:t.map((o,a)=>f.jsxs(RAe,{isCurrentSing:o.singSetupId===n.id,children:[f.jsx(MAe,{children:a+1}),f.jsx(jAe,{className:"ph-no-capture",children:o.singSetupId===n.id?f.jsx(TAe,{index:a,score:o,register:i,singSetupId:n.id,onSave:s}):o.name}),f.jsx(OAe,{children:f.jsx(sb,{score:o.score})}),f.jsx(VAe,{children:Xi(o.date).format("MMMM DD, YYYY")})]},a))}),f.jsx(LAe,{...i("play-next-song-button",e,void 0,!0),children:"Select song"})]})}const PAe=C("div",{target:"e1kq1u2t6"})({name:"9gtmjg",styles:"position:absolute;top:20rem;width:100%;text-align:center;padding:0 16rem;box-sizing:border-box"}),RAe=C("div",{target:"e1kq1u2t5"})("position:relative;",Ne,";font-size:3.2rem;display:flex;background:",e=>e.isCurrentSing?"rgba(0,0,0,.9)":"rgba(0,0,0,.5)",";margin-bottom:2rem;padding:",e=>e.isCurrentSing?"0 1.5rem":"1rem 3.2rem",";align-items:center;"),MAe=C("div",{target:"e1kq1u2t4"})("padding:0 1.6rem;color:",he.colors.text.active,";"),jAe=C("div",{target:"e1kq1u2t3"})({name:"1mbe2e5",styles:"text-align:left;flex:1;padding:1.6rem"}),OAe=C("div",{target:"e1kq1u2t2"})({name:"2ycp6t",styles:"padding:0 1rem"}),VAe=C("div",{target:"e1kq1u2t1"})({name:"1gbnj87",styles:"position:absolute;font-size:2rem;bottom:-1rem;right:-1.6rem;background:black;padding:0.5rem"}),LAe=C(ds,{target:"e1kq1u2t0"})({name:"dmbiod",styles:"position:absolute;bottom:4rem;right:2rem;width:40rem;font-size:1.9vw"});function NAe({song:e,width:t,height:n,onClickSongSelection:r,players:i,highScores:s,singSetup:o}){const[a]=$e(Jf);Aa(!0);const[l,c]=_.useState("results");return f.jsxs(PN,{songData:e,width:t,height:n,children:[f.jsxs($Ae,{children:[l==="results"&&f.jsx(xAe,{onNextStep:()=>c("highscores"),players:i,singSetup:o,highScores:s}),l==="highscores"&&f.jsx(IAe,{onNextStep:r,singSetup:o,highScores:s,song:e}),f.jsx(DAe,{$active:!0})]}),a==="christmas"&&f.jsxs(BAe,{children:["Credit to ",f.jsx("a",{href:"https://www.FesliyanStudios.com",children:"https://www.FesliyanStudios.com"})," for the background music."]})]})}const $Ae=C("div",{target:"e1fxxvcx2"})({name:"1quw0ni",styles:"pointer-events:auto"}),DAe=C(sAe,{shouldForwardProp:e=>!e.startsWith("$"),target:"e1fxxvcx1"})("transition:300ms;transform:scale(",({$active:e})=>e?1:0,");position:absolute;bottom:20rem;font-size:3.2rem;line-height:1.25;color:white;text-align:center;background:rgba(0, 0, 0, 0.75);width:100%;box-sizing:border-box;padding:2rem 10rem;kbd{padding:0.12rem 0.9rem;border-radius:1rem;border:0.5rem solid rgb(204, 204, 204);border-bottom-color:rgb(150, 150, 150);border-right-color:rgb(150, 150, 150);color:rgb(51, 51, 51);line-height:1.4;display:inline-block;box-shadow:0 0.1rem 0 rgba(0, 0, 0, 0.2),inset 0 0 0 0.2rem #ffffff;background-color:rgb(247, 247, 247);text-shadow:0 0.1rem 0 #fff;font-weight:normal;}"),BAe=C("span",{target:"e1fxxvcx0"})("position:fixed;bottom:2rem;left:2rem;font-size:1.5rem;",Ne,";");function FAe(e){const[t,n,r,i]=zAe(e);return UAe(t,n,r,i)()}function zAe(e){let t=1779033703,n=3144134277,r=1013904242,i=2773480762;for(let s=0,o;s<e.length;s++)o=e.charCodeAt(s),t=n^Math.imul(t^o,597399067),n=r^Math.imul(n^o,2869860233),r=i^Math.imul(r^o,951274213),i=t^Math.imul(i^o,2716044179);return t=Math.imul(r^t>>>18,597399067),n=Math.imul(i^n>>>22,2869860233),r=Math.imul(t^r>>>17,951274213),i=Math.imul(n^i>>>19,2716044179),t^=n^r^i,n^=t,r^=t,i^=t,[t>>>0,n>>>0,r>>>0,i>>>0]}function UAe(e,t,n,r){return function(){e|=0,t|=0,n|=0,r|=0;var i=(e+t|0)+r|0;return r=r+1|0,e=t^t>>>9,t=n+(n<<3)|0,n=n<<21|n>>>11,n=n+i|0,(i>>>0)/4294967296}}const HAe=["Lysa Arryn","Peter Parker","Zordon","Chad Khalimov","Dat Boi","Good Guy Greg","Scumbag Steve","Meme Man","Pepe","Wojak","Ebmarah","Shrek","Vad of ICE Beat","Krasnolud","Mały Aragorn","Morning Breeze","Auytjak Lorav","Smelly Cat","Stinky Foot"],bR=new Date("2016-01-01").getTime(),qAe=new Date("2024-01-07").getTime(),yA=5;function GAe(e,t){const n=fE(e);return _.useMemo(()=>{const i=[...HAe];return[...Array.from({length:yA},(o,a)=>{const l=FAe(e.id+a),c=6e5+14e5/(yA-1)*a,u=i.splice(Math.floor(l*i.length),1)[0];return{singSetupId:a.toString(),name:u,score:ls()?c/1e3:c,date:new Date((qAe-bR)*l+bR).toISOString()}}),...(n==null?void 0:n.scores.filter(({setup:o})=>o.mode===t.mode&&o.tolerance===t.tolerance).map(o=>o.scores.map(a=>({...a,date:o.date,singSetupId:o.setup.id}))).flat())??[]].sort((o,a)=>a.score-o.score).slice(0,yA)},[e.id,n,t])??[]}function WAe({song:e,width:t,height:n,onClickSongSelection:r,singSetup:i}){const s=GAe(e,i),o=_.useMemo(()=>Re.getPlayers().map(a=>({name:a.getName(),playerNumber:a.number,detailedScore:je.getPlayerDetailedScore(a.number)})),[]);return f.jsx(To,{children:f.jsx(NAe,{singSetup:i,song:e,width:t,height:n,onClickSongSelection:r,players:o,highScores:s})})}function YAe({songPreview:e,singSetup:t,returnToSongSelection:n,restartSong:r}){GN(),WN();const i=_.useRef(null),s=kN(e.id),{width:o,height:a}=wh(),[l,c]=_.useState(!1),[u,d]=_.useState(!0),[h,p]=_.useState(_n.UNSTARTED),[g,m]=_.useState(!1);return Eo(!g),_.useEffect(()=>{u&&s.data&&(g||h!==_n.UNSTARTED)&&d(!1)},[s.data,g,h,u]),l&&s.data?f.jsx(WAe,{width:o,height:a,song:s.data,onClickSongSelection:n,singSetup:t}):f.jsx(To,{children:f.jsxs(KAe,{children:[f.jsxs(QAe,{visible:u,"data-test":"background-container",children:[f.jsx(XAe,{video:e.video,width:o,height:a}),f.jsx(ZAe,{"data-test":"song-artist",children:e.artist}),f.jsx(e1e,{"data-test":"song-title",children:e.title}),f.jsx(Z0e,{onFinish:()=>{var A;m(!0),(A=i.current)==null||A.play()}})]}),s.data&&f.jsx(iAe,{pauseMenu:!0,ref:i,onStatusChange:p,players:t.players,song:s.data,width:o,height:a,autoplay:!1,onSongEnd:()=>{var y;const A=((y=je.getSingSetup())==null?void 0:y.mode)===mr.CO_OP?[{name:Re.getPlayers().map(b=>b.getName()).join(", "),score:je.getPlayerScore(0)}]:Re.getPlayers().map(b=>({name:b.getName(),score:je.getPlayerScore(b.number)})),v=je.getSongCompletionProgress();te.songEnded.dispatch(s.data,t,A,v),c(!0)},singSetup:t,restartSong:r})]})})}const KAe=C("div",{target:"e9bbafl4"})({name:"bjn8wh",styles:"position:relative"}),QAe=C("div",{target:"e9bbafl3"})("position:fixed;top:0;left:0;z-index:10;pointer-events:none;background-color:black;view-transition-name:song-preview;opacity:",e=>e.visible?1:0,";transition:500ms;"),JAe=C("div",{target:"e9bbafl2"})({name:"oux8x1",styles:"background-size:cover;background-position:center center;filter:blur(10px)"}),XAe=e=>f.jsx(JAe,{style:{backgroundImage:`url('https://i3.ytimg.com/vi/${e.video}/hqdefault.jpg')`,width:`${e.width}px`,height:`${e.height}px`}}),ZAe=C(vE,{target:"e9bbafl1"})({name:"oyknw4",styles:"view-transition-name:song-preview-artist;position:absolute;top:10rem;left:10rem;font-size:7rem"}),e1e=C(_v,{target:"e9bbafl0"})({name:"1l9juvo",styles:"view-transition-name:song-preview-title;position:absolute;font-size:8rem;top:19rem;left:10rem"});function t1e(){const e=I0("song"),[t,n]=_.useState(null),[r,i]=_.useState(e??null),[s,o]=_.useState(0),a=l=>{document.getElementById("preview-video-container").style.viewTransitionName="song-preview-video",Df(()=>{document.getElementById("preview-video-container").style.viewTransitionName="",Tu.flushSync(()=>{n(l)})}),kx.play()};return GN(),f.jsxs(f.Fragment,{children:[f.jsx(ei,{children:f.jsx("title",{children:"Game | AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsx(Ww,{children:t?f.jsx(YAe,{restartSong:()=>{Qi.restartRecord(),o(l=>l+1)},songPreview:t.song,singSetup:t,returnToSongSelection:()=>{i(t.song.id),n(null)}},s):f.jsx(K0e,{onSongSelected:a,preselectedSong:r})})]})}const n1e=C("div",{target:"e1x9yhuz2"})(aJ,"{display:none;}"),xR=C("div",{target:"e1x9yhuz1"})(tu,"{display:none;}"),r1e="/assets/screenshot1-DaCeVKxL.webp",i1e="/assets/screenshot2-BGzMpznM.webp",s1e=["mVYQSAm8hB0","DCCJCILiX3o","nky4me4NP70","0put0_a--Ng","QGJuMBdaqIw","pok8H_KF1FA","XB8V0fjDuog","53snEGVxAuA","Jnq9wPDoDKg","m2JRghbgeYw","2PVi95J-FMo","orykWFd45iI","eP4eqhWc7sI","rtOvBOTyX00","bQh4EiRdBdA","6VY8ZxcDh1s","pXRviuL6vMY","OJGUbwVMBeA","dPI-mRFEIH0","L_3YJOZmmfk","5CL2xcD0Wk8","F90Cw4l-8NY","ghh0ttnRdiQ","94bGzWyHbu0","iAP9AF6DCu4","Tm8LGxTLtQk","nWZxpN8X0pM","EvuL5jyCHOw","JHnqijwQ55c","YJrQiv-FHEg","IHS3qJdxefY","d2HmiKVoTNA","mqFLXayD6e8","q0hyYWKXF0Q","Qq4j1LtCdww","t6omUxqhG78","Z-9gQjUZMm0","TFSsoWv7zOs","EPo5wWmKEaI","M069q3E2caI","xLj5xaahdF8","3mbBbFH9fAg","dLm19MP26D4","Kk8eJh4i8Lo","0EQyG1Yjlgw","31a56mYvVY8","7jMlFXouPk8","Vzo-EL_62fQ","nhBorPm6JjQ","a_74syM2Wg0","SoWcVX9DzcQ","U8b88US-6ts","f8OHybVhQwc","waw6kIZ3pf0","iMEhjsiHbwM","rp27Ggo_edo","Xcx6MVs2o8E","Y7ONTHp9-jc","FM7MFYoylVs","kiGDvM14Kwg","bfPZn2FUuG0","SCIvOsw0O-M","y5beWOIecS4","FC3y9llDXuM","dkpgz3uQ58U","eP165tiRd24","aqW-VF49Sok","cDoHZb9vCs4","YqeW9_5kURI","SeIJmciN8mo","Zz-DJr1Qs54","oh2LWWORoiM","CevxZvSJLk8","71sqkgaUncI","vzz1BjRlBm8","KRzMtlZjXpU","kDIEOEmr4eM","zaaEvo_8i4Y","h2eKImKZviw","mdB3Oyd5HtU","Y-B0lXnierw","ZueYnZFggoQ","CYpn8yUnX_c","Vysgv7qVYTo","hV1NBfr5OI4","NOSrMg67FwU","z9LiPuVRyU8","YY33oEDtJv0","QN1odfjtMoo","zUwEIt9ez7M","l482T0yNkeo","jakpo7tj7Qw","GTZUvuduWPk","J16lInLZRms","FOt3oQ_k008","vkiyW0vqat8","171skzi5BKc","9GkVhgIeGJQ","S4UEJePR0UE","8SV6UcCHJq4","QEnkU8bQ-xk","1RnPB76mjxI","_GOR5gvQwDI","8UVNT4wvIGY","rvxKb3NVq1U","qSIOp_K5GMw","H7MHZpSNJQc","PfYnvDL0Qcw","xF26mE6xeFs","De2xsb7hNFY","DksSPZTZES0","Vbg7YoXiKn0","ccJw0xx2Nrw","iEe_eraFWWs","f41rIgQF-Mw","6ifMthurwe8","MjRRQdnOR-A","c7rCyll5AeY","AByfaYcOm4A","szeA9tvItJY","fregObNcHC8","X9doLGPa2T4","Ge4AKbnr6ME","QslJYDX3o8s","6JnGBs88sL0","WICybxYndzA","3-uPAP30NuU","Jc10TXOh-yM","v2H4l9RpkwM","tYGt9xT7mng","_I_D_8Z4sJE","Is_2Ng2-yIY","GDEDQ8TCzW8","0xyfnlWs9QA","b3M_zl8FRLA","KE9dxWvTfc0","95xDIF5zYCo","kt0g4dWxEBo","6dmujZr6ld4","psuRGfAaju4","JTpos657Am0","9pdj4iJD08s","YNMmoFRllsM","r0CmpaSV0tc","6bE_MM8awYo","1mjlM_RnsVE","Nb1VOQRs-Vs","1MgNbIO3vP0","J9gKyRmic20","b73BI9eUkjM","HgzGwKwLmgM","HhjHYkPQ8F0","NgsWGfUlwJI","QRTNm6GLJYI","eB6txyhHFG4","J-6fW66IUY4","n2hJA78YuWw","8nTFjVm9sTQ","wQzn4a5qHT4","kffacxfA7G4","cVikZ8Oe_XA","TIy3n2b7V9k","kijpcUv-b8M","s1tAYmMjLdY","Dmdq6J-t4kA","8xvhutWc67k","8pXLQF7Tdkc","_7xMfIp-irg","ktvTqknDobU","HRqOjhNN4hQ","8hLtlzkoGPk","DGRz2BJQRXU","0MUeHF1SOm8","TS9vmrBTxEo","sIGIuLL_pZE","X6ZpumEE3xs","LIIDh-qI9oI","RKGbjJarMeA","fLsBJPlGIDU","4vvBAONkYwI","xsWwLWaZBq8","waMkFIzvDpE","RBumgq5yVrA","is6gtilerPk","LBr7kECsjcQ","SwYN7mTi6HM","EPdn9_h2dCY","kOkQ4T5WO9E","djV11Xbc914","hTWKbfoikeg","u1V8YRJnr4Q","rhut5oqT5io","w6Q3mHyzn78","KEI4qSrkPAs","CxNiUxdJnTQ","WT-VE9OyAJk","ulLm6JCVXuQ","-hMC8pQkEmk","SOI4OF7iIr4","QwtRXG1QpR4"],o1e=["KT Tunstall","P!nk feat. Lily Allen","Portal","Mariah Carey","John Legend","Drake Bell","Bruno Mars","Olivia Rodrigo","James Morrison feat. Nelly Furtado","Sam Ryder","Sam Smith","David Guetta feat. Flo Rida & Nicki Minaj","Dami Im","Justin Bieber","Drake feat. Wizkid & Kyla","Billie Eilish","Christina Aguilera","Wicked","Daft Punk feat. Julian Casablancas","The Rembrandts","Tool","Pixies","Ylvis","Vanessa Hudgens","Abby Trott","Ellie Goulding","Fergie","Shakira feat. Rihanna","Jet","Vanilla Ice","Taio Cruz","Daði Freyr","Journey","Brandy & Monica","Beastie Boys","Peter Gabriel","Starship","Miracle Of Sound","Eurythmics","Helena Paparizou","Matt Redman","Paramore","Johnny Logan","Madcon feat. Ray Dalton","Chumbawamba","The Weeknd feat. Daft Punk","Cutting Crew","The Weeknd feat. Ariana Grande","Phil Collins","Morgan Wallen","LMFAO, Lauren Bennett & Goon Rock","Britney Spears / Elton John","Imagine Dragons x JID","Benny Cristo","Céline Dion","Lady Gaga","Natasha Bedingfield","Eminem","The Darkness","BLACKPINK & Selena Gomez","Against The Current","Plain White T’s","Kanye West feat. Pusha T","Anna Margaret","Santana feat. Rob Thomas","Camila Cabello feat. Daddy Yankee","Dean Martin","NCT 127","Twenty One Pilots","Phantom Planet","Usher feat. Lil’ Jon & Ludacris","Wilson Phillips","Blink 182","Barbie (Ryan Gosling)","Daft Punk","The Black Eyed Peas","Colbie Caillat","Toto","Kaiser Chiefs","Justin Bieber & Ludacris","Kim Wilde","Eric Saade","NCT DREAM","Daisuke Ishiwatari","Shakira","Rufus Wainwright","La Roux","Jim Croce","Dolly Parton","Flo Rida feat. Sia","Pointer Sisters","Corey Hart","Getter Jaani","LP","Disney's Pocahontas","Mark Ronson feat. Bruno Mars","The Kelly Family","Martin Solveig & Dragonette","Empire Of The Sun","Pitbull feat. Ne-Yo, Afrojack & Nayer","Estelle feat. Kanye West","Rihanna feat. Jeezy","Lordi","B.o.B feat. Hayley Williams","Neon Genesis Evangelion","Coldplay","S Club 7","Corinne Bailey Rae","Ariana Grande feat. Iggy Azalea","Usher feat. Pitbull","Thirty Seconds to Mars","Edward Maya & Vika Jigulina","LSD","Shakira feat. Wyclef Jean","Olsen Brothers","The Proclaimers","Paris Hilton","Edward Sharpe And The Magnetic Zeros","Voyager","A★Teens","Macklemore & Ryan Lewis feat. Wanz","Madonna","Skid Row","Selena Gomez & The Scene","Alan Walker","Paul Simon","Amy Winehouse","The Doors","The Baseballs","Rihanna feat. Mikky Ekko","Eminem feat. Dido","Usher feat. will.i.am","Disney's Aladin","Joe Cocker","Kim Petras","League of Legends","Keane","Soundgarden","Cailin Russo & Chrissy Costanza","Morandi","Tiffany","Placebo feat. David Bowie","Spice Girls","Arcade Fire","Olivia Newton-John","Billy Joel","Rihanna","The Cure","Metallica","Psychostick","Dio","Shakira ft. Freshlyground","NF","Lorde","Subwoolfer","Oasis","The Common Linnets","Harry Styles","Rihanna & Ne-Yo","Roxette","Cher","Loreen","Dashboard Confessional","David Guetta feat. Kelly Rowland","Sublime","Bucks Fizz","Rage Against The Machine","Backstreet Boys","Marvin Gaye & Tammi Terrell","Jojo","Demi Lovato","Mitski","KEiiNO","Ben Dolič","America","Interpol","Britney Spears & Iggy Azalea","Lady Gaga feat. Beyoncé","Ariana Grande & The Weeknd","Pitbull feat. Chris Brown","Tenacious D","A Day to Remember","Pink Floyd","Alicia Keys","Justin Bieber feat. Usher","System of a Down","Wham","Adam Lambert","Dana International","Justin Bieber & Nicki Minaj","Boney M.","ISAAK","Taylor Swift feat. Post Malone","Sabaton","Ashlee Simpson","Bryan Adams","Drake","Bôa","Disney’s Moana (Dwayne Johnson)","Destiny","Bob Marley & The Wailers","Akon feat. Eminem","Radiohead","The Greatest Showman","Fool’s Garden","Kylie Minogue","The Who","David Guetta feat. Akon","Shakira feat. Dizzee Rascal","Ben E. King","Avenged Sevenfold","Avicii feat. Sandro Cavazza","Windows95man","Flo Rida feat. David Guetta","Slade","Alexander Rybak","Britney Spears feat. Madonna","Rosa Linn","Daniel Caesar","Rupert Holmes","Michael Jackson","Maroon 5","Mika","Meghan Trainor","Rhapsody","Florence + the Machine","Eminem feat. Rihanna","Take That","Les Fatals Picards","KoRn","Nelly Furtado","Bellamy Brothers","Sylver","Blur","Vanessa Carlton","Dido","Brotherhood Of Man","Nirvana","R.E.M.","Creedence Clearwater Revival","Eleni Foureira","Lipps, Inc.","Nicki Minaj","The Kid Laroi & Justin Bieber","Daft Punk Feat. Todd Edwards","Jamiroquai","Fountains Of Wayne","RAFAŁ","Foreigner","Lea Salonga and Brad Kane","Sophie Ellis-Bextor","2NE1","Chris Rea","The Temptations","Eddie Murphy","Kings Of Leon","Johnny Cash","Skillet","Idina Menzel","Philip Bailey with Phil Collins","Jordin Sparks feat. Chris Brown","Alan Walker & Ava Max","Imagine Dragons","Alanis Morissette","The Kooks","Katy Perry","Victorious Cast feat. Victoria Justice","The Eagles","Cynthia Harrell","Demi Lovato feat. Cher Lloyd","Ultravox","Madonna feat. Britney Spears, Christina Aguilera & Missy Elliott","Cliff Richard","Rihanna feat. Drake","Dua Lipa","Genesis","Zedd & Foxes","Prince and the Revolution","Hooverphonic","Kaleen","Joji","Adele","Slayyyter","Mariah Carey feat. Jay-Z","Wham!","SIAMÉS","Metric","Enrique Iglesias","Natasha Farrow","Hailee Steinfeld feat. DNCE","Guns N' Roses","Beyoncé","Lulu","Beyoncé & Shakira","Shakin’ Stevens","Fredi and Friends","Jay Sean feat. Sean Paul & Lil Jon","Mamma Mia! (Movie)","Anastacia","Enrique Iglesias feat. Pitbull","Men at Work","Ashley Tisdale (The Little Mermaid)","Doja Cat feat. SZA","Alec Benjamin","Foster The People","Frankie Goes To Hollywood","Teach-In","David Guetta & Sia","Post Malone & Swae Lee","Lil Nas X","Jimi Jamison","Netflix","Max Coveri","Queen","Electric Callboy feat. Sido","Sara Evans","Kanye West feat. Young Jeezy","Alice Merton","Miranda Lambert","Amy Grant","George Ezra","3OH!3","Carly Rae Jepsen","Rob Zombie","Kanye West feat. Various Artists","Paul McCartney & Michael Jackson","Ne-Yo","Scooter vs. Marc Acardipane & Dick Rules","The Offspring","Disney’s The Lion King","The White Stripes","Metro Station","The Jacksons","Alesso & Katy Perry","Crowded House","Banana minnions family","Srbuk","Technotronic feat. Felly","Hera Björk","Daniel Powter","Wheatus","Willie Nelson and Merle Haggard","Ke$ha","Savage Garden","Slipknot","Elton John","Ruslana","Ariana Grande feat. Future","Utada Hikaru","Pharrell Williams","Hillsong United","New Kids On The Block","Good Charlotte","Clean Bandit feat. Marina & Luis Fonsi","Muse","Zoe Wees","Chenoa","A.R. Rahman & The Pussycat Dolls feat. Nicole Scherzinger","Mae Muller","Kate Bush","Benson Boone","Disney's Tangled","Fall Out Boy","P!nk","Diana Ross","Psy feat. Suga of BTS","Rihanna feat. Calvin Harris","Loïc Nottet","Kid Cudi feat. MGMT & Ratatat","Soul Asylum","Shakira feat. Carlinhos Brown","Bastille","Victoria Justice & Ariana Grande","Bruno Mars & Cardi B","Ricky Martin","Usher & Alicia Keys","Ashanti","Gym Class Heroes feat. Adam Levine","Audioslave","Dire Straits","Dean Lewis","Lionel Richie","Netta","The Village People","Rainbow","Aretha Franklin & The Blues Brothers Band","DNCE","Sixpence None The Richer","Robbie Williams","Ed Sheeran and Justin Bieber","Falling In Reverse","Vampire Weekend","U2","The Kid Laroi & Miley Cyrus","A Perfect Circle","Swedish House Mafia & The Weeknd","Smokie","The Vines","Bryce Pinkham","Bryan Adams, Rod Stewart & Sting","Elena Siegman","Ike & Tina Turner","The Rolling Stones","Passenger","Tate McRae","Duncan Laurence","Jason Derulo","Marina and the Diamonds","One Direction","LE SSERAFIM","Amy Winehouse feat. Mark Ronson","Marc Cohn","Barei","Gina G","Simon & Garfunkel","Chingiz","Cornelia Jakobs","James Blunt","Lil Dicky","Lewis Capaldi","Cyndi Lauper","Terri Clark","Jimmy Eat World","Rasmussen","Chris Isaak","The Weeknd","Elton John & RuPaul","Whitney Houston","Mumford and Sons","Little Big","B52s","ZAYN feat. Sia","A Great Big World","The Postal Service","Ed Sheeran","Pearl Jam","Kellie Pickler","Creed","Justin Bieber feat. Jaden Smith","Beyoncé feat. Jay-Z","Maroon 5 feat. Wiz Khalifa","Blondie","Christina Milian","Akon","Anitta","Blu Cantrell","Foo Fighters","Secondhand Serenade","Vanessa Williams","Disney’s Encanto","Arctic Monkeys","Big Time Rush","Katrina And The Waves","Shawn Mendes","Nemo","Rod Stewart","Pitbull feat. Marc Anthony","Bonnie Tyler","3OH!3 feat. Katy Perry","Jennifer Lopez & Pitbull","Bing Crosby","Scorpions","3 Doors Down","Finger Eleven","Lana Del Rey feat. The Weeknd","SMiLE.dk","Chuck Berry","Bee Gees","Marilyn Manson","Disney’s Frozen","Chris Brown feat. Justin Bieber","Lyn","We The Kings feat. Demi Lovato","Marshmello x Jonas Brothers","Sean Kingston / Justin Bieber","Melanie Martinez","Aram MP3","George Michael","Little Mix feat. Stormzy","Daði og Gagnamagnið","AURORA","Calvin Harris feat. Rihanna","Girls’ Generation (SNSD)","Coolio feat. L.V.","Tally Hall","Poets Of The Fall","Ricky Martin with Christina Aguilera","Miley Cyrus","Alter Bridge","Kendrick Lamar feat. Drake","Mandaryna","Kid Cudi","Mark Ronson ft  Miley Cyrus","Toni Braxton","Cascada","Christina Aguilera feat. Redman","The Pogues feat. Kirsty MacColl","TheFatRat feat. Laura Brehm","Shania Twain","Iggy Pop","The Cranberries","Remo Forrer","Montaigne","Timbaland presents OneRepublic","System Of A Down","Maria Yaremchuk","Lucy Hale","Avril Lavigne","Jay Sean","David Bowie","Young The Giant","The Killers","Awolnation","Tom Odell","New Order","Chris Brown feat. Benny Benassi","The Smiths","Black Eyed Peas, Shakira","Nicki Minaj feat. Rihanna","David Guetta feat. Nicki Minaj","Lifehouse","Powerwolf","Marina & The Diamonds","David Guetta feat. Kid Cudi","Doja Cat","Conchita Wurst","Nickelback","Billy Boyd","Gwen Stefani & Eve","OneRepublic","Chris Brown","Elvis Presley","Alessandra","Chris Brown feat. Rihanna","Fleetwood Mac","Elton John & Dua Lipa","AC/DC","Lynyrd Skynyrd","Reba McEntire & Kelly Clarkson","Justin Timberlake","The Little Mermaid","Baby Lasagna","Olly Murs feat. Flo-Rida","Lady Gaga feat. Colby O'Donis","Vengaboys","Post Malone feat. 21 Savage","Hoobastank","We Are Domi","Led Zeppelin","BTS","Katy Perry feat. Snoop Dogg","Henry Moodie","Hamilton","Janet Jackson","Weezer","Måns Zelmerlöw","Chicago","Rage Against the Machine","SZA","Aerosmith","Scissor Sisters","Peter Gabriel & Kate Bush","Taylor Swift","John Lennon","The Black Keys","Placebo","LazyTown","Radical Face","Borislav Slavov (Baldur's Gate 3)","Ed Sheeran and Elton John","Enya","Franz Ferdinand","Smash Mouth","Charlie Puth & Selena Gomez","High School Musical","Mariah Carey & Whitney Houston","The Jackson 5","Bobby Helms","Marillion","Gréta Salóme & Jónsi","Jewel","Ava Max","Ariana Grande","Baccara","Ghost","Sandie Shaw","PinkPantheress & Ice Spice","Sinéad O’Connor","Silk Sonic - Bruno Mars & Anderson .Paak","Xavier Rudd","Destiny’s Child","Michael Jackson feat. Justin Timberlake","Alice Cooper","KDA ft. Madison Beer, (G)I-DLE, Lexie Liu, Jaira Burns, Seraphine","Frank Sinatra","Jessie J feat. Ariana Grande & Nicki Minaj","Disney’s Kim Possible (Christina Milian)","Coldplay x BTS","Victoria Justice","Leona Lewis","Linkin Park","Lana Del Rey","Inna","Extreme","Blanka","Joan Jett & The Blackhearts","The BossHoss","The Ronettes","Usher & Pitbull","No Secrets","Kenya Grace","La Bouche","Modern Talking","Drowning Pool","Soulja Boy Tellem feat. Sammie","Don McLean","The Clash","Mumford & Sons","Breaking Benjamin","Boney M","Britney Spears","Counting Crows","Rag’n’Bone Man","will.i.am & Britney Spears","Black Sabbath","blink-182","Mötley Crüe","The Beatles","Steven Curtis Chapman","Jay-Z feat. Rihanna & Kanye West","Eric Clapton","Tracy Chapman","Europe","Gotye & Kimbra","Katy Perry feat. Kanye West","Flo Rida feat. T-Pain","Stone Temple Pilots","Rob Thomas","Yohanna","Faith Hill","Malik Harris","Reba McEntire with Brooks & Dunn","K-391 feat. Alan Walker, Julie Bergan & SeungRi","Texas","Queen & David Bowie","Lenny Kravitz","SEBalter","Doki Doki Literature Club!","Wiz Khalifa ft. Charlie Puth","The Makemakes","Major Lazer & DJ Snake feat. MØ","David Guetta feat. Chris Willis","Faith No More","La La Land (Ryan Gosling & Emma Stone)","4 Non Blondes","Tix","Teya & Salena","Sudden Lights","The Animals","Disney's Moana","Lizzo","Natalie Imbruglia","Emmelie de Forest","Drake feat. Rihanna","Camp Rock 2","Freddie Mercury","Fun.","Danzel","Phoebe Bridgers","Hozier","Marcus & Martinus","Sean Kingston","MELOVIN","will.i.am feat. Justin Bieber","Israel Kamakawiwo’ole","Red Hot Chili Peppers","Guns N’ Roses","The Psychedelic Furs","Flo Rida feat. Ke$ha","Lindsey Stirling feat. Becky G","Gloria Gaynor","The Script","Alphaville","Verka Serduchka","Shawn Mendes, Camila Cabello","My Chemical Romance","Billie Eilish & Khalid","Lil Nas X feat. Billy Ray Cyrus","DragonForce","ABBA","The Calling","Selena Gomez","Lena","ZZ Top","Tove Lo","Dead Or Alive","Jessica Simpson","The Rasmus","Brenda Lee","Kendrick Lamar","Depeche Mode","Kelly Clarkson","RuPaul","David Guetta feat. Usher","Magic!","Petula Clark","R. City feat. Adam Levine","Will Ferrell & Rachel McAdams","Flo Rida","Kay Starr","Rihanna, Kanye West & Paul McCartney","Hilary Duff","Electric Light Orchestra","Owl City","Eva Rivas","Tones And I","Kim Petras & Nicki Minaj","Neil Young","Haddaway & Jim Carrey & The Roxbury Guys","Maroon 5 feat. Christina Aguilera","Melanie Thornton","Sugababes","Panic! at the Disco","The Pussycat Dolls","Dave Rodgers","Måneskin","3OH!3 feat. Ke$ha","Ray Parker Jr.","Simple Plan","Van Halen","Tom Dice","Post Malone","Rusted Root","No Doubt","will.i.am feat. Eva Simons","LeAnn Rimes","The Chainsmokers & Coldplay","Andy Williams","Bill Medley & Jennifer Warnes","Ariana Grande feat. Zedd","Tina Turner","Deep Purple","Jennifer Lopez","a-ha","Grease (John Travolta & Olivia Newton-John)","Glee Cast","Jack Black","Katy Perry feat. Migos","Ashley Tisdale","Kid Rock","Britney Spears feat. Tinashe","Gorillaz","Katy Perry feat. Nicki Minaj","Alice In Chains","Evanescence","Gandalf","BTS feat. Desiigner","Aqua","Blanche","USA for Africa","The Living Tombstone","KISS","TLC","Kings of Leon","Stella Mwangi","Ke$ha feat. 3OH!3","Rascal Flatts","Nicki Taylor","Nick Jonas","Disturbed","Lord Of The Lost","Calvin Harris feat. Pharrell Williams, Katy Perry & Big Sean","My Little Pony","Christina Aguilera, Lil’ Kim, Mya & P!nk (Moulin Rouge)","Nico & Vinz","TheFatRat","★N Sync","Disney’s Frozen II","Roman Lob","The Cinematic Orchestra","Sun Stroke Project & Olia Tira","Crush 40","Sheryl Crow","Fun. feat. Janelle Monáe","Tears For Fears","Cat Stevens","Survivor","Snow Patrol","The Neighbourhood","Gustaph","Usher","Stevie Wonder","Kanye West","Gwen Stefani Feat Akon","David Guetta & Chris Willis feat. Fergie & LMFAO","twenty øne piløts","Jack White","Bradley Cooper & Lady Gaga","David Guetta feat. Rihanna","The Bloodhound Gang","Timbaland feat. Keri Hilson","Jason Mraz","Coldplay feat. Beyoncé","The Police","Avicii","Christina Perri","Disney’s Hercules","Bebe Rexha y David Guetta","Nick Cave & The Bad Seeds + Kylie Minogue","FIFTY FIFTY","Hazbin Hotel","Lily Allen","LMFAO","Margaret Berger","Rick Astley","ALIKA","Michael Schulte","The Fray","Yazoo","Ochman","Spandau Ballet","David Guetta feat. Nicki Minaj & Afrojack","The Mamas & The Papas","Bring Me The Horizon","Bon Jovi","Nelly Furtado feat. Timbaland","The Blues Brothers","Smash Into Pieces","Ween","Joan Jett","Three Days Grace","Justin Bieber feat. Big Sean","Manowar","Goo Goo Dolls","Donna Summer","Jay Sean feat. Lil Wayne","Frankie Valli","Martina McBride","Michael Bublé","Owl City & Carly Rae Jepsen","Sabrina Carpenter","Alice in Chains","Band Aid","Manuel","Little Mix","The Strokes","5 Seconds of Summer","The Black Eyed Peas Feat. Justin Timberlake","Joy Division","Sia","Green Day","Pretenders","Mandy Moore","Amy MacDonald","Richard Marx","Idina Menzel with Michael Bublé","Julie and the Phantoms","Whitesnake","Jessie J","Cheryl Cole","Stephen Sanchez","Andrew Lambrou","Matchbox Twenty"],a1e=["Polish","English","Korean","Japanese","Spanish","Swedish","Indonesian","French","German","Portuguese","Catalan","Czech","Norwegian","Dutch","Italian","Croatian","Latin","Icelandic","Ukrainian","Serbian","Slovenian","Finnish","Romanian","Latvian"],l1e=2433,Ed={videoIds:s1e,artists:o1e,languages:a1e,songs:l1e},c1e=new Intl.NumberFormat(void 0,{maximumFractionDigits:0});function u1e(){const[e]=$e(zb),t=oi();Eo(!0);const n=e===null?"quick-setup/":"menu/";wr("enter",()=>{t(n)},[n]);const[r,i]=_.useState(!1);return _.useEffect(()=>{const s=setTimeout(()=>{i(!0)},4e3);return()=>clearTimeout(s)},[]),f.jsxs(To,{toolbar:!1,children:[f.jsx(ei,{children:f.jsx("title",{children:"AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsx(hN,{}),f.jsxs(g1e,{children:[f.jsx(xR,{children:f.jsxs(d1e,{children:[f.jsx(_N,{}),f.jsx(qw,{})]})}),f.jsx(xR,{children:f.jsx(vr,{to:n,children:f.jsx(AA,{"data-test":"enter-the-game",focused:!0,as:"a",children:"Enter the game"})})}),f.jsxs(f1e,{children:[f.jsxs(B$,{children:[f.jsxs(h1e,{children:[f.jsx("strong",{children:"AllKaraoke"})," is a free online karaoke game inspired by PlayStation's"," ",f.jsx("strong",{children:"SingStar"}),". Sing along to your favorite songs and compete with your friends, all through the browser! Updated almost weekly with new songs and features."]}),f.jsx("hr",{}),f.jsxs(od,{children:["▸ ",f.jsx("strong",{children:c1e.format(Ed.songs)})," songs in"," ",f.jsx("strong",{children:Ed.languages.length})," languages",f.jsxs(ad,{children:["Artists such as"," ",f.jsx("strong",{children:r?f.jsx(D$,{options:{strings:Ed.artists,autoStart:!0,loop:!0,delay:100}}):Ed.artists.at(-1)})]})]}),f.jsxs(od,{children:["▸ Play ",f.jsx("strong",{children:"directly"})," in the browser",f.jsxs(ad,{children:["No ",f.jsx("strong",{children:"download"})," needed"]})]}),f.jsxs(od,{children:["▸ Use ",f.jsx("strong",{children:"phones"})," as microphones",f.jsx(ad,{children:"No need to download an app"})]}),f.jsxs(od,{children:["▸ Supports ",f.jsx("strong",{children:"1-4"})," players",f.jsx(ad,{children:"When using phones as microphones"})]}),f.jsxs(od,{children:["▸ ",f.jsx("strong",{children:"100% Free"})," and open source",f.jsxs(ad,{children:["Check the"," ",f.jsx("a",{href:"https://github.com/Asvarox/allkaraoke",target:"_blank",rel:"noreferrer",children:"GitHub repository"})]})]})]}),f.jsxs(p1e,{children:[f.jsx("img",{src:r1e,alt:"Song list screen"}),f.jsx("img",{src:i1e,alt:"In-game screen"})]})]}),f.jsxs(v1e,{children:["Using this device as remote microphone?",f.jsx(vr,{to:"remote-mic/",children:f.jsx("a",{"data-test":"join-existing-game",children:"Join existing game"})})]}),f.jsxs(m1e,{children:[f.jsx(vr,{to:"remote-mic/",children:f.jsx(AA,{"data-test":"join-existing-game",focused:!0,children:f.jsxs("span",{children:["Join game (with ",f.jsx("strong",{children:"Game Code"}),")"]})})}),f.jsx(vr,{to:"quick-setup/",children:f.jsx(AA,{"data-test":"enter-the-game",children:"Start new game"})})]})]})]})}const d1e=C("div",{target:"e1n22rxp10"})({name:"an0x26",styles:"display:flex;gap:6rem"}),f1e=C("div",{target:"e1n22rxp9"})("display:flex;align-items:center;gap:6rem;padding:6rem;box-sizing:border-box;width:110rem;font-size:2.3rem;",tu,"{width:90%;flex-direction:column;font-size:8.5rem;}",C0,"{font-size:4.9rem;}background:rgba(0, 0, 0, 0.8);backdrop-filter:blur(10px);hr{margin:3rem 0;}"),h1e=C("span",{target:"e1n22rxp8"})("line-height:1.5;text-align:justify;",tu,"{font-size:8.5rem;}",C0,"{font-size:4.9rem;}"),od=C("div",{target:"e1n22rxp7"})(""),ad=C("div",{target:"e1n22rxp6"})({name:"1dzwbkh",styles:"padding-top:0.5rem;font-size:0.7em;text-align:right;.Typewriter{display:inline;}"}),B$=C("div",{target:"e1n22rxp5"})(Ne,";display:flex;flex-direction:column;flex:1;gap:1rem;"),p1e=C(B$,{target:"e1n22rxp4"})(C0,"{display:none;}",tu,"{flex-direction:row;}gap:4rem;img{width:100%;aspect-ratio:16/9;object-fit:cover;box-shadow:0 0 5rem rgba(114, 155, 255, 0.5);border-radius:1rem;",tu,"{width:calc(50% - 2rem);height:50rem;}}img:nth-of-type(2){box-shadow:0 0 10rem rgb(19, 19, 19);}"),g1e=C("div",{target:"e1n22rxp3"})("display:flex;flex-direction:column;",C0,"{flex-direction:row;}align-items:center;justify-content:center;height:100vh;gap:3rem;strong,a{text-shadow:0 0 5rem ",he.colors.text.active,";}"),m1e=C(n1e,{target:"e1n22rxp2"})({name:"1r23i92",styles:"display:flex;flex-direction:column;gap:3rem;width:90%;a{width:100%;flex:1;min-height:30rem;}"}),v1e=C("h3",{target:"e1n22rxp1"})(tu,"{display:none;}text-align:right;width:110rem;margin-top:-2.5rem!important;"),AA=C(Ki,{target:"e1n22rxp0"})("font-size:9rem;padding:1rem 7rem;background:black;width:110rem;",Bx,";transform:none;");function y1e(e){const t=oi(),n=()=>t("menu/"),{register:r}=Vn({onBackspace:n});return f.jsxs(ya,{children:[f.jsx(ei,{children:f.jsx("title",{children:"Manage Songs | AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsx("h1",{children:"Manage Songs"}),f.jsx(vr,{to:"exclude-languages/",children:f.jsx(Te,{as:Ki,...r("exclude-languages",()=>t("exclude-languages/")),children:"Select Song Languages"})}),f.jsx(vr,{to:"edit/list/",children:f.jsx(Te,{as:Ki,...r("edit-songs",()=>t("edit/list/")),children:"Edit songs"})}),f.jsx(vr,{to:"convert/",children:f.jsx(Te,{as:Ki,...r("convert-song",()=>t("convert/")),children:"Convert UltraStar .txt"})}),f.jsx("hr",{}),f.jsx(vr,{to:"menu/",children:f.jsx(Te,{as:Ki,...r("back-button",n),children:"Return To Main Menu"})})]})}var Sv={exports:{}};Sv.exports=xE;Sv.exports.isMobile=xE;Sv.exports.default=xE;const A1e=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,_1e=/CrOS/,b1e=/android|ipad|playbook|silk/i;function xE(e){e||(e={});let t=e.ua;if(!t&&typeof navigator<"u"&&(t=navigator.userAgent),t&&t.headers&&typeof t.headers["user-agent"]=="string"&&(t=t.headers["user-agent"]),typeof t!="string")return!1;let n=A1e.test(t)&&!_1e.test(t)||!!e.tablet&&b1e.test(t);return!n&&e.tablet&&e.featureDetect&&navigator&&navigator.maxTouchPoints>1&&t.indexOf("Macintosh")!==-1&&t.indexOf("Safari")!==-1&&(n=!0),n}var x1e=Sv.exports;const S1e=lr(x1e);function w1e(){const[,e]=$e(Zn),t=async()=>{var n,r;try{e(!0),await document.body.requestFullscreen(),global.screen.orientation.unlock(),await((r=(n=global.screen.orientation).lock)==null?void 0:r.call(n,"landscape"))}catch(i){console.info(i)}};return f.jsx(To,{children:f.jsx(E1e,{children:f.jsxs(k1e,{children:[f.jsx("h1",{children:"Use Mobile Phone Mode?"}),f.jsx("h3",{children:"The regular version of the game isn't optimal for smaller screens. Enable the Mobile Phone Mode to adjust the UI and gameplay elements. Use this, or connect other mobiles to sing songs."}),f.jsxs("h3",{children:["You can always change the setting in the ",f.jsx("strong",{children:"Settings"})," menu."]}),f.jsx(Te,{focused:!0,onClick:t,"data-test":"enable-mobile-mode",children:"Enable Mobile Phone Mode"}),f.jsx(Te,{onClick:()=>e(!1),"data-test":"dismiss-mobile-mode",children:"Dismiss"})]})})})}const E1e=C("div",{target:"e6hg0671"})({name:"wkkrci",styles:"position:fixed;inset:0;display:flex;align-items:center;justify-content:center"}),k1e=C(fs,{target:"e6hg0670"})("max-width:150rem;padding:calc(min(3vw, 4vh));margin:auto;h1{font-size:calc(min(4vw, 5vh));margin-bottom:0.75em;}h3{font-size:calc(min(3vw, 4vh));line-height:1.25;margin-bottom:1em;}",Te,"{font-size:calc(min(3vw, 4vh));height:auto;padding:calc(min(3vw, 4vh));}");function C1e(e){const[t]=$e(Zn),n=_.useMemo(()=>S1e(),[]),r=oi(),i=async s=>{var o,a;if(r("menu/"),t&&document.fullscreenElement===null)try{await document.body.requestFullscreen(),global.screen.orientation.unlock(),await((a=(o=global.screen.orientation).lock)==null?void 0:a.call(o,"landscape"))}catch(l){console.info(l)}};return f.jsxs(f.Fragment,{children:[f.jsx(ei,{children:f.jsx("title",{children:"Select Input | AllKaraoke.Party - Free Online Karaoke Party Game"})}),t===null&&n?f.jsx(w1e,{}):f.jsx(ya,{children:f.jsx(oE,{onFinish:i,closeButtonText:"Sing a song",smooth:!0})})]})}function T1e(e){Aa(!1);const t=oi(),n=()=>t("settings/"),{register:r}=Vn({onBackspace:n}),[i,s]=$e(Pg),[o,a]=$e(xj),l=Ti(te.inputListChanged,()=>Je.getRemoteMics()),c=tN();return _.useEffect(()=>Je.addListener(c),[c]),f.jsxs(ya,{children:[f.jsx("h1",{children:"Remote Microphone Settings"}),f.jsx(Hr,{...r("websocket-connection",()=>s(!i)),label:"Use Websockets",value:i?"Yes":"No"}),f.jsx("hr",{}),f.jsx(Hr,{...r("default-permission",()=>a(Za(Q2,o))),label:"Default permission",info:f.jsxs(f.Fragment,{children:[f.jsx("strong",{children:"WRITE"})," - player is able to navigate the menus remotely and assign themselves and other players to the game.",f.jsx("br",{}),f.jsx("br",{}),f.jsx("strong",{children:"READ"})," - player will only be able to use the device as a microphone and otherwise have no control over the game."]}),value:o.toUpperCase()}),f.jsx("hr",{}),f.jsx("h3",{children:"Connected devices permissions:"}),l.map(u=>{const d=Je.getPermission(u.id);return f.jsx(R1e,{...r(`mic-${u.id}`,()=>Je.setPermission(u.id,Za(Q2,d)),"Change permissions"),"data-test":"remote-mic-entry","data-id":u.id,value:d,label:f.jsxs(P1e,{children:[f.jsx(j1e,{children:u.id.slice(-4)}),f.jsx(O1e,{children:f.jsx(I1e,{deviceId:u.id})}),f.jsx(M1e,{className:"ph-no-capture",children:u.name})]})},u.id)}),l.length===0&&f.jsx("h4",{children:"No remote microphones connected"}),f.jsx("hr",{}),f.jsx(Te,{...r("back-button",n),children:"Return To Settings"})]})}const I1e=({deviceId:e})=>{const t=a$(e);return t===null?null:f.jsxs(f.Fragment,{children:[t,"ms"]})},P1e=C("span",{target:"expzhs34"})({name:"50zrmy",styles:"text-transform:uppercase"}),R1e=C(Hr,{target:"expzhs33"})({name:"50zrmy",styles:"text-transform:uppercase"}),M1e=C("span",{target:"expzhs32"})(""),j1e=C("span",{target:"expzhs31"})({name:"1mrl9vb",styles:"font-size:1.5rem;padding-right:1rem"}),O1e=C("span",{target:"expzhs30"})({name:"13smbnv",styles:"font-size:1.5rem;padding-right:2rem;text-transform:none"}),_A=2500,V1e=()=>{const e=[0,...new Array(21).fill(0).map((n,r)=>Math.round(10*(1.2+Math.sin(r/2.5+1.5)))/10).map(n=>Math.round(n/28*_A)).reduce((n,r)=>[...n,(n.at(-1)??0)+r],[])],t=[{offset:"0%",color:Oe.eurovisionPink.text},{offset:"25%",color:Oe.eurovisionYellow.text},{offset:"50%",color:Oe.eurovisionPink.text},{offset:"75%",color:Oe.eurovisionOrange.text},{offset:"100%",color:Oe.eurovisionPink.text}];return f.jsxs("svg",{width:_A,height:_A,version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:[f.jsx("defs",{children:Array.from({length:21},(n,r)=>f.jsx("linearGradient",{id:`grad${r}`,x1:"0%",x2:"0%",y1:`${r*2}%`,y2:`${r*2+100}%`,spreadMethod:"repeat",children:t.map((i,s)=>f.jsx("stop",{offset:i.offset,stopColor:i.color},s))},r))}),Array.from({length:22},(n,r)=>f.jsx("rect",{x:e[r],y:"0",width:(e[r+1]??501)-e[r]+10,height:"100%",fill:`url(#grad${r})`},r))]})},L1e=`<?xml version="1.0" encoding="utf-8"?>
<svg viewBox="0 0 500 500" xmlns="http://www.w3.org/2000/svg">
  <g style="" transform="matrix(1.071942, 0, 0, 1.071942, 1.835104, 30.483427)">
    <path xmlns="http://www.w3.org/2000/svg" d="M 106.909 108.923 C 93.513 122.319 85.385 140.039 83.629 158.623 C 65.934 156.191 48.056 147.884 33.558 133.384 C 2.037 101.864 -1.61 54.425 25.407 27.42 C 52.402 0.403 99.839 4.05 131.36 35.571 C 145.859 50.07 154.167 67.957 156.598 85.654 C 138.025 87.387 120.305 95.527 106.909 108.923 Z M 277.592 279.606 C 284.12 273.076 293.486 270.217 302.56 271.951 L 335.161 304.574 C 344.167 313.579 344.167 328.169 335.161 337.175 C 326.155 346.181 311.566 346.181 302.56 337.175 L 269.937 304.574 C 268.203 295.502 271.062 286.135 277.592 279.606 Z M 172.111 108.923 C 154.167 106.357 136.043 112.402 123.209 125.224 C 110.377 138.057 104.342 156.181 106.909 174.137 L 258.318 295.253 C 259.219 286.383 262.957 277.94 269.441 271.455 C 275.925 264.971 284.368 261.234 293.239 260.333 L 172.111 108.923 Z" style="stroke: rgb(0, 0, 0); fill: rgb(255, 54, 54); stroke-width: 9.32886px; stroke-linejoin: round;"/>
    <path xmlns="http://www.w3.org/2000/svg" d="M 218.755 301.518 C 205.359 288.122 197.231 270.402 195.475 251.818 C 177.78 254.25 159.902 262.557 145.404 277.057 C 113.883 308.577 110.236 356.016 137.253 383.021 C 164.248 410.038 211.685 406.391 243.206 374.87 C 257.705 360.371 266.013 342.484 268.444 324.787 C 249.871 323.054 232.151 314.914 218.755 301.518 Z M 389.438 130.835 C 395.966 137.365 405.332 140.224 414.406 138.49 L 447.007 105.867 C 456.013 96.862 456.013 82.272 447.007 73.266 C 438.001 64.26 423.412 64.26 414.406 73.266 L 381.783 105.867 C 380.049 114.939 382.908 124.306 389.438 130.835 Z M 283.957 301.518 C 266.013 304.084 247.889 298.039 235.055 285.217 C 222.223 272.384 216.188 254.26 218.755 236.304 L 370.164 115.188 C 371.065 124.058 374.803 132.501 381.287 138.986 C 387.771 145.47 396.214 149.207 405.085 150.108 L 283.957 301.518 Z" style="fill: rgb(4, 153, 255); stroke: rgb(0, 0, 0); stroke-width: 9.32886px; stroke-linejoin: round;" transform="matrix(-1, 0, 0, -1, 572.91568, 467.631317)"/>
  </g>
</svg>`;function N1e(){return Eo(!1),f.jsxs(To,{children:[f.jsxs($1e,{children:[f.jsx(D1e,{dangerouslySetInnerHTML:{__html:L1e}}),f.jsx(F$,{children:f.jsx(R1,{})})]}),f.jsxs(F1e,{children:[f.jsx(B1e,{children:f.jsx(R1,{})}),f.jsx(qw,{}),f.jsx(z1e,{src:mE,alt:"Eurovision"})]}),f.jsx(V1e,{})]})}const $1e=C("div",{target:"e1bt4f566"})({name:"yc537h",styles:"width:400px;aspect-ratio:1/1;position:relative;padding:30px"}),F$=C("div",{target:"e1bt4f565"})(`display:flex;position:absolute;inset:0;z-index:-1;div{background-image:linear-gradient(
      0deg,
      `,Oe.eurovisionViolet.text,`,
      `,Oe.eurovisionBlue.text,`,
      `,Oe.eurovisionYellow.text,`,
      `,Oe.eurovisionBlue.text,`,
      `,Oe.eurovisionViolet.text,`
    );}`),D1e=C("svg",{target:"e1bt4f564"})("width:400px;aspect-ratio:1/1;object-fit:contain;filter:drop-shadow(0 0 10px rgb(0 0 0 / 0.6));path:nth-of-type(1){fill:",Oe.red.text,"!important;}path:nth-of-type(2){fill:",Oe.blue.text,"!important;}"),B1e=C(F$,{target:"e1bt4f563"})(`div{background-image:linear-gradient(
      0deg,
      `,Oe.eurovisionPink.text,`,
      `,Oe.eurovisionOrange.text,`,
      `,Oe.eurovisionYellow.text,`,
      `,Oe.eurovisionPink.text,`
    );}`),F1e=C("div",{target:"e1bt4f562"})(`overflow:hidden;position:relative;height:calc(693px / 1);width:calc(2048px / 1);transform:scale(1);background-color:black;background-image:linear-gradient(
    120deg,
    `,Oe.red.stroke,`,
    `,Oe.red.hit.fill,` 49.9%,
    `,Oe.blue.hit.fill,` 50.1%,
    `,Oe.blue.stroke,`
  );display:flex;align-items:center;justify-content:center;div{}`),z1e=C("img",{target:"e1bt4f561"})({name:"1go3sm",styles:"margin-left:4rem;transform:scale(1.5)"}),U1e=(e,t)=>`
<iframe src="https://www.facebook.com/plugins/page.php?href=https%3A%2F%2Fwww.facebook.com%2Fallkaraoke.party&${Object.entries({show_posts:!0,width:e,height:t,small_header:!0,adapt_container_width:!0,hide_cover:!1,show_facepile:!1,appId:530120230391395}).map(([i,s])=>`${i}=${String(s)}`).join("&")}" width="${e}" height="${t}" style="border:none;overflow:hidden" scrolling="no" frameborder="0" allowfullscreen="true" allow="autoplay; clipboard-write; encrypted-media; picture-in-picture; web-share"></iframe>
`;function H1e(){const[e]=$e(Zn),[t,n]=_.useState(!1),[r,i]=_.useState(200),s=_.useCallback(o=>{i(Math.round(o==null?void 0:o.getBoundingClientRect().width)??200)},[]);return _.useEffect(()=>{const o=setTimeout(()=>{n(!0)},750);return()=>{clearTimeout(o)}},[]),f.jsxs(G1e,{small:!!e,show:t,children:[f.jsx("div",{dangerouslySetInnerHTML:{__html:U1e(350,750)},style:{height:750*(r/350),width:"100%",transformOrigin:"left top",transform:`scale(${r/350})`}}),f.jsx("h5",{ref:s,children:"Get updates, and help by suggesting features and reporting bugs."})]})}var q1e={name:"zko540",styles:"width:25rem;right:1rem;h2{font-size:1.5rem;}h5{font-size:1.15rem;}"};const G1e=C(fs,{target:"e1zzmv40"})("transition:1000ms;opacity:",e=>e.show?1:0,";position:absolute;top:2rem;right:10rem;width:37rem;margin:0;text-decoration:none;text-align:justify;",e=>e.small&&q1e," view-transition-name:fb-notification;");function W1e(){const[e]=$e(Ub);Eo(!0);const t=oi();Aa(!1);const{register:n}=Vn();return f.jsxs(ya,{children:[f.jsxs(ei,{children:[f.jsx("title",{children:"Main Menu | AllKaraoke.Party - Free Online Karaoke Party Game"}),f.jsx("link",{rel:"preload",href:"/songs/index.json",as:"fetch",type:"application/json",crossOrigin:"anonymous"}),f.jsx("link",{rel:"preload",href:"/mostPopularSongs.json",as:"fetch",type:"application/json",crossOrigin:"anonymous"})]}),e!=="Classic"&&f.jsxs(Y1e,{children:[f.jsxs("span",{children:["Bpm data and release year provided by"," ",f.jsx("a",{target:"_blank",href:"https://getsongbpm.com/",rel:"noreferrer",children:"GetSongBPM"})]}),f.jsx("span",{children:"Song: Funk Cool Groove (Music Today 80)"}),f.jsx("span",{children:"• Composed & Produced by : Anwar Amr"}),f.jsxs("span",{children:["• Video Link:"," ",f.jsx("a",{href:"https://youtu.be/FGzzBbYRjFY",target:"_blank",rel:"noreferrer",children:"https://youtu.be/FGzzBbYRjFY"})]})]}),f.jsx(H1e,{}),f.jsxs(f.Fragment,{children:[f.jsx(vr,{to:"game/",children:f.jsx(Te,{as:Ki,...n("sing-a-song",()=>t("game/")),children:"Sing a song"})}),f.jsx(vr,{to:"select-input/",children:f.jsx(Te,{as:Ki,...n("select-input",()=>t("select-input/")),children:"Setup Microphones"})}),f.jsx(vr,{to:"settings/",children:f.jsx(Te,{as:Ki,...n("settings",()=>t("settings/")),children:"Settings"})}),f.jsx(vr,{to:"jukebox/",children:f.jsx(Te,{as:Ki,...n("jukebox",()=>t("jukebox/")),children:"Jukebox"})}),f.jsx(vr,{to:"manage-songs/",children:f.jsx(Te,{as:Ki,...n("manage-songs",()=>t("manage-songs/")),children:"Manage Songs"})})]})]})}const Y1e=C("div",{target:"e1g7uwpd0"})(Ne,";text-decoration:none;flex-direction:column;display:flex;font-size:1rem;gap:1.25rem;opacity:0.85;position:absolute;bottom:1rem;left:1rem;view-transition-name:background-music-credit;"),xr={INDEX:"",QUICK_SETUP:"quick-setup",GAME:"game",MENU:"menu",JUKEBOX:"jukebox",SELECT_INPUT:"select-input",SETTINGS:"settings",SETTINGS_REMOTE_MICS:"settings/remote-mics",REMOTE_MIC:"remote-mic",MANAGE_SONGS:"manage-songs",EXCLUDE_LANGUAGES:"exclude-languages",CONVERT:"convert",EDIT_SONGS_LIST:"edit/list",EDIT_SONG:"edit/song"},K1e=_.lazy(()=>h0(()=>import("./SongList-DsnQGCVY.js"),__vite__mapDeps([2,1])));function Q1e(){const[e]=$e(Zn),[t]=$e(Ss),n=_.useMemo(()=>HO({graphicSetting:t}),[t]);return f.jsxs(Wse,{theme:n,children:[f.jsx(lM,{styles:Ot(":root{--zoom-multipler:",e?1.4:1,";}","")}),f.jsx(fx,{fallback:Mpe,children:f.jsx(NJ,{children:f.jsx(IJ,{children:f.jsx(iae,{base:"/",children:f.jsxs(sae,{children:[f.jsx(rr,{path:xr.QUICK_SETUP,component:C1e}),f.jsx(rr,{path:xr.MENU,component:W1e}),f.jsx(rr,{path:xr.EXCLUDE_LANGUAGES,component:xge}),f.jsx(rr,{path:xr.JUKEBOX,component:Nhe}),f.jsx(rr,{path:xr.GAME,children:f.jsx(t1e,{})}),f.jsx(rr,{path:xr.SELECT_INPUT,component:Rpe}),f.jsx(rr,{path:xr.SETTINGS,component:dfe}),f.jsx(rr,{path:xr.SETTINGS_REMOTE_MICS,component:T1e}),f.jsx(rr,{path:xr.REMOTE_MIC,component:ade}),f.jsx(rr,{path:xr.MANAGE_SONGS,component:y1e}),f.jsx(rr,{path:"social-media-elements",component:N1e}),f.jsx(rr,{path:xr.CONVERT,component:()=>f.jsx(xN,{})}),f.jsx(rr,{path:xr.EDIT_SONGS_LIST,component:()=>f.jsx(_.Suspense,{fallback:f.jsx(bN,{}),children:f.jsx(K1e,{})})}),f.jsx(rr,{path:"edit/get-songs-bpms",component:Vpe}),f.jsx(rr,{path:xr.EDIT_SONG,children:f.jsx(Pfe,{})}),f.jsx(rr,{path:xr.INDEX,component:u1e})]})})})})})]})}const J1e=wH(Q1e),X1e=["AbortError: Version change transaction was aborted in upgradeneeded event handler.","The object can not be found here.","Document is hidden.","Failed to register a ServiceWorker for scope ('https://allkaraoke.party/') with script","NotAllowedError: Permission denied by system","ResizeObserver loop limit exceeded","ResizeObserver loop completed with undelivered notifications.","NotAllowedError: Document is not focused.","Error: Socket was destroyed!",/TypeError: Failed to fetch/,"top.GLOBALS","originalCreateNotification","canvas.contentDocument","MyApp_RemoveAllHighlights","http://tt.epicplay.com","Can't find variable: ZiteReader","jigsaw is not defined","ComboSearch is not defined","http://loading.retry.widdit.com/","atomicFindClose","fb_xd_fragment","bmi_SafeAddOnload","EBCallBackMessageReceived","conduitPage"];var z$,SR=Tu;z$=SR.createRoot,SR.hydrateRoot;AH({integrations:[tU({enableInp:!0})],dsn:"https://66c6e940d24b4096a277f350571921bb@o366978.ingest.sentry.io/6174734",ignoreErrors:X1e,tracesSampleRate:ls()?0:.01,environment:ls()?"e2e":"production",tunnel:"https://backend.allkaraoke.party/sentry"});ls()||pn.init("phc_bw7XLoONmtGVezmMKTvcwk3lj37jzxTfisqzjlJ0Jik",{api_host:"https://backend.allkaraoke.party/posthog",loaded:e=>{let t=Ve.local.getItem("posthog-user-id");t||(t=Ug(),Ve.local.setItem("posthog-user-id",t)),e.identify(t);let n=Ve.local.getItem("posthog-user-name");if(!n){const r=[...new Set(Ed.artists.flatMap(i=>A3(i).split("-")))].filter(i=>i.length<=10);n=new Array(Is(3,5)).fill(0).map(()=>r[Is(0,r.length-1)]).join("-"),Ve.local.setItem("posthog-user-name",n),e.alias(n,t)}H7({id:t})}});const Z1e=vb({key:"ec",speedy:!TN}),e_e=document.getElementById("root"),t_e=z$(e_e);t_e.render(f.jsxs(oM,{value:Z1e,children:[f.jsx(J1e,{}),f.jsx(S1,{position:Et.POSITION.BOTTOM_LEFT,theme:"colored"})]}));export{_o as $,xee as A,eie as B,nL as C,lc as D,ho as E,TI as F,nte as G,II as H,gie as I,za as J,Wg as K,bO as L,yL as M,tw as N,kre as O,ze as P,Tre as Q,Pe as R,$s as S,Are as T,NO as U,fie as V,oX as W,cX as X,Lre as Y,sX as Z,KO as _,Xt as a,kO as a$,Ot as a0,Kpe as a1,d_e as a2,u_e as a3,ooe as a4,sle as a5,_L as a6,AL as a7,Dw as a8,Eo as a9,Tfe as aA,mr as aB,Su as aC,iAe as aD,oi as aE,bZ as aF,SZ as aG,wZ as aH,Zx as aI,MZ as aJ,EZ as aK,eS as aL,Do as aM,po as aN,c_e as aO,RO as aP,rs as aQ,l_e as aR,IZ as aS,dh as aT,hie as aU,_d as aV,HO as aW,vf as aX,wO as aY,SO as aZ,die as a_,Aa as aa,Sh as ab,I0 as ac,vw as ad,$_ as ae,Xi as af,ei as ag,Ww as ah,UJ as ai,C as aj,Xg as ak,lX as al,a_e as am,bs as an,St as ao,je as ap,UW as aq,el as ar,Xp as as,qq as at,la as au,ff as av,EN as aw,kfe as ax,Sfe as ay,bfe as az,oe as b,Yx as b0,Yg as b1,iS as b2,aie as b3,fl as b4,mie as b5,kse as b6,Qee as b7,MG as b8,o_e as b9,Iw as ba,pn as bb,Ns as bc,KG as c,kX as d,nu as e,yre as f,Ax as g,ri as h,ha as i,f as j,Sn as k,Pl as l,nt as m,Xe as n,Ml as o,Rl as p,Cn as q,_ as r,Ve as s,Jee as t,LO as u,xO as v,Qg as w,DZ as x,NZ as y,Tu as z};
//# sourceMappingURL=index-y5MfMsFy.js.map
