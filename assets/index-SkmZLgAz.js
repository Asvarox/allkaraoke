var _D=Object.defineProperty;var SD=(e,t,n)=>t in e?_D(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Af=(e,t,n)=>SD(e,typeof t!="symbol"?t+"":t,n);(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},t=new e.Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="8371bcce-ed5c-4e92-accb-41356a242491",e._sentryDebugIdIdentifier="sentry-dbid-8371bcce-ed5c-4e92-accb-41356a242491")}catch{}})();{var gu=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};gu._sentryModuleMetadata=gu._sentryModuleMetadata||{},gu._sentryModuleMetadata[new gu.Error().stack]=Object.assign({},gu._sentryModuleMetadata[new gu.Error().stack],{"_sentryBundlerPluginAppKey:allkaraoke-party-sentry-key":!0})}function xD(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}var wD=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};wD.SENTRY_RELEASE={id:"32ca3a925d33ae2a60c6220d046e461230893025"};(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var pg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Lr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function ED(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var NA={exports:{}},bf={},BA={exports:{}},Ot={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bk;function CD(){if(bk)return Ot;bk=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;function m(M){return M===null||typeof M!="object"?null:(M=f&&M[f]||M["@@iterator"],typeof M=="function"?M:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,b={};function x(M,z,J){this.props=M,this.context=z,this.refs=b,this.updater=J||v}x.prototype.isReactComponent={},x.prototype.setState=function(M,z){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,z,"setState")},x.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function E(){}E.prototype=x.prototype;function I(M,z,J){this.props=M,this.context=z,this.refs=b,this.updater=J||v}var P=I.prototype=new E;P.constructor=I,A(P,x.prototype),P.isPureReactComponent=!0;var T=Array.isArray,w=Object.prototype.hasOwnProperty,R={current:null},j={key:!0,ref:!0,__self:!0,__source:!0};function V(M,z,J){var ae,W={},ye=null,le=null;if(z!=null)for(ae in z.ref!==void 0&&(le=z.ref),z.key!==void 0&&(ye=""+z.key),z)w.call(z,ae)&&!j.hasOwnProperty(ae)&&(W[ae]=z[ae]);var me=arguments.length-2;if(me===1)W.children=J;else if(1<me){for(var xe=Array(me),Re=0;Re<me;Re++)xe[Re]=arguments[Re+2];W.children=xe}if(M&&M.defaultProps)for(ae in me=M.defaultProps,me)W[ae]===void 0&&(W[ae]=me[ae]);return{$$typeof:e,type:M,key:ye,ref:le,props:W,_owner:R.current}}function N(M,z){return{$$typeof:e,type:M.type,key:z,ref:M.ref,props:M.props,_owner:M._owner}}function k(M){return typeof M=="object"&&M!==null&&M.$$typeof===e}function B(M){var z={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(J){return z[J]})}var H=/\/+/g;function F(M,z){return typeof M=="object"&&M!==null&&M.key!=null?B(""+M.key):z.toString(36)}function U(M,z,J,ae,W){var ye=typeof M;(ye==="undefined"||ye==="boolean")&&(M=null);var le=!1;if(M===null)le=!0;else switch(ye){case"string":case"number":le=!0;break;case"object":switch(M.$$typeof){case e:case t:le=!0}}if(le)return le=M,W=W(le),M=ae===""?"."+F(le,0):ae,T(W)?(J="",M!=null&&(J=M.replace(H,"$&/")+"/"),U(W,z,J,"",function(Re){return Re})):W!=null&&(k(W)&&(W=N(W,J+(!W.key||le&&le.key===W.key?"":(""+W.key).replace(H,"$&/")+"/")+M)),z.push(W)),1;if(le=0,ae=ae===""?".":ae+":",T(M))for(var me=0;me<M.length;me++){ye=M[me];var xe=ae+F(ye,me);le+=U(ye,z,J,xe,W)}else if(xe=m(M),typeof xe=="function")for(M=xe.call(M),me=0;!(ye=M.next()).done;)ye=ye.value,xe=ae+F(ye,me++),le+=U(ye,z,J,xe,W);else if(ye==="object")throw z=String(M),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.");return le}function D(M,z,J){if(M==null)return M;var ae=[],W=0;return U(M,ae,"","",function(ye){return z.call(J,ye,W++)}),ae}function L(M){if(M._status===-1){var z=M._result;z=z(),z.then(function(J){(M._status===0||M._status===-1)&&(M._status=1,M._result=J)},function(J){(M._status===0||M._status===-1)&&(M._status=2,M._result=J)}),M._status===-1&&(M._status=0,M._result=z)}if(M._status===1)return M._result.default;throw M._result}var Y={current:null},q={transition:null},Q={ReactCurrentDispatcher:Y,ReactCurrentBatchConfig:q,ReactCurrentOwner:R};return Ot.Children={map:D,forEach:function(M,z,J){D(M,function(){z.apply(this,arguments)},J)},count:function(M){var z=0;return D(M,function(){z++}),z},toArray:function(M){return D(M,function(z){return z})||[]},only:function(M){if(!k(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Ot.Component=x,Ot.Fragment=n,Ot.Profiler=i,Ot.PureComponent=I,Ot.StrictMode=r,Ot.Suspense=d,Ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q,Ot.cloneElement=function(M,z,J){if(M==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+M+".");var ae=A({},M.props),W=M.key,ye=M.ref,le=M._owner;if(z!=null){if(z.ref!==void 0&&(ye=z.ref,le=R.current),z.key!==void 0&&(W=""+z.key),M.type&&M.type.defaultProps)var me=M.type.defaultProps;for(xe in z)w.call(z,xe)&&!j.hasOwnProperty(xe)&&(ae[xe]=z[xe]===void 0&&me!==void 0?me[xe]:z[xe])}var xe=arguments.length-2;if(xe===1)ae.children=J;else if(1<xe){me=Array(xe);for(var Re=0;Re<xe;Re++)me[Re]=arguments[Re+2];ae.children=me}return{$$typeof:e,type:M.type,key:W,ref:ye,props:ae,_owner:le}},Ot.createContext=function(M){return M={$$typeof:o,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},M.Provider={$$typeof:s,_context:M},M.Consumer=M},Ot.createElement=V,Ot.createFactory=function(M){var z=V.bind(null,M);return z.type=M,z},Ot.createRef=function(){return{current:null}},Ot.forwardRef=function(M){return{$$typeof:l,render:M}},Ot.isValidElement=k,Ot.lazy=function(M){return{$$typeof:h,_payload:{_status:-1,_result:M},_init:L}},Ot.memo=function(M,z){return{$$typeof:c,type:M,compare:z===void 0?null:z}},Ot.startTransition=function(M){var z=q.transition;q.transition={};try{M()}finally{q.transition=z}},Ot.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},Ot.useCallback=function(M,z){return Y.current.useCallback(M,z)},Ot.useContext=function(M){return Y.current.useContext(M)},Ot.useDebugValue=function(){},Ot.useDeferredValue=function(M){return Y.current.useDeferredValue(M)},Ot.useEffect=function(M,z){return Y.current.useEffect(M,z)},Ot.useId=function(){return Y.current.useId()},Ot.useImperativeHandle=function(M,z,J){return Y.current.useImperativeHandle(M,z,J)},Ot.useInsertionEffect=function(M,z){return Y.current.useInsertionEffect(M,z)},Ot.useLayoutEffect=function(M,z){return Y.current.useLayoutEffect(M,z)},Ot.useMemo=function(M,z){return Y.current.useMemo(M,z)},Ot.useReducer=function(M,z,J){return Y.current.useReducer(M,z,J)},Ot.useRef=function(M){return Y.current.useRef(M)},Ot.useState=function(M){return Y.current.useState(M)},Ot.useSyncExternalStore=function(M,z,J){return Y.current.useSyncExternalStore(M,z,J)},Ot.useTransition=function(){return Y.current.useTransition()},Ot.version="18.2.0",Ot}var _k;function Rc(){return _k||(_k=1,BA.exports=CD()),BA.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sk;function kD(){if(Sk)return bf;Sk=1;var e=Rc(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(l,d,c){var h,f={},m=null,v=null;c!==void 0&&(m=""+c),d.key!==void 0&&(m=""+d.key),d.ref!==void 0&&(v=d.ref);for(h in d)r.call(d,h)&&!s.hasOwnProperty(h)&&(f[h]=d[h]);if(l&&l.defaultProps)for(h in d=l.defaultProps,d)f[h]===void 0&&(f[h]=d[h]);return{$$typeof:t,type:l,key:m,ref:v,props:f,_owner:i.current}}return bf.Fragment=n,bf.jsx=o,bf.jsxs=o,bf}var xk;function TD(){return xk||(xk=1,NA.exports=kD()),NA.exports}var p=TD();class oo{constructor(){this.listeners=[],this.onUpdate=(...t)=>{this.listeners.forEach(n=>n(...t))},this.addListener=t=>(this.listeners.push(t),()=>{this.removeListener(t)}),this.removeListener=t=>{this.listeners=this.listeners.filter(n=>n!==t)},this.clearAllListeners=()=>{console.log("clearing all listeners"),this.listeners=[]}}}const kb=e=>({setItem:(t,n)=>{e.setItem(t,JSON.stringify(n))},getItem:t=>{const n=e.getItem(t);if(n===null)return null;try{return JSON.parse(n)}catch{return n}},removeItem:t=>{e.removeItem(t)},clear:()=>{e.clear()},keys:()=>{const t=[];for(let n=0,r=e.length;n<r;++n)t.push(e.key(n));return t}});class Tb{constructor(){this.store={}}setItem(t,n){this.store[t]=n}getItem(t){const n=this.store[t];return n===void 0?null:n}removeItem(t){delete this.store[t]}get length(){return Object.keys(this.store).length}keys(){return Object.keys(this.store)}key(t){return Object.keys(this.store)[t]}clear(){this.store={}}}const wk=kb((global==null?void 0:global.localStorage)??new Tb),ot={...wk,local:wk,session:kb((global==null?void 0:global.sessionStorage)??new Tb),memory:kb(new Tb)},Ib="CAMERA_GRANT_KEY",Ek=ot.local.getItem(Ib);class ID extends oo{constructor(){super(),this.stream=null,this.recorder=null,this.videoData=[],this.permissionGranted=Ek!==null?JSON.parse(Ek):null,this.requestPermissions=async()=>{try{this.stream=await navigator.mediaDevices.getUserMedia({video:!0}),this.permissionGranted=!0,await this.stopRecord()}catch{this.permissionGranted=!1}return ot.local.setItem(Ib,JSON.stringify(this.permissionGranted)),this.onUpdate(this.permissionGranted),this.permissionGranted},this.disable=()=>{this.permissionGranted=!1,ot.local.setItem(Ib,JSON.stringify(this.permissionGranted)),this.onUpdate(this.permissionGranted)},this.startRecord=async()=>{if(this.permissionGranted)try{this.stream=await navigator.mediaDevices.getUserMedia({video:{frameRate:2}});const t=this.stream.getVideoTracks()[0].getSettings();this.video.width=t.width??this.video.width,this.video.height=t.height??this.video.height,this.canvas.width=this.video.width,this.canvas.height=this.video.height,this.video.srcObject=this.stream,await this.video.play(),this.recorder=new MediaRecorder(this.stream,{mimeType:"video/webm"}),this.recorder.ondataavailable=n=>{this.videoData.push(n.data)},this.recorder.start()}catch(t){console.warn(t)}},this.getVideo=()=>{const t=new Blob(this.videoData,{type:"video/webm"});return URL.createObjectURL(t)},this.stopRecord=async()=>{var t,n;this.permissionGranted&&((t=this.recorder)==null||t.stop(),(n=this.stream)==null||n.getTracks().forEach(r=>r.stop()))},this.clearData=()=>{this.videoData.length=0},this.restartRecord=async()=>{await this.stopRecord(),await this.clearData(),await this.startRecord()},this.getPermissionStatus=()=>this.permissionGranted,this.video=document.createElement("video"),this.video.width=480,this.video.height=this.video.width*(9/16),this.canvas=document.createElement("canvas"),this.canvas.width=this.video.width,this.canvas.height=this.video.height}}const Xs=new ID;var ue=typeof window<"u"?window:void 0,Oi=typeof globalThis<"u"?globalThis:ue,E5=Array.prototype,Ck=E5.forEach,kk=E5.indexOf,Qi=Oi==null?void 0:Oi.navigator,He=Oi==null?void 0:Oi.document,ji=Oi==null?void 0:Oi.location,Rb=Oi==null?void 0:Oi.fetch,Pb=Oi!=null&&Oi.XMLHttpRequest&&"withCredentials"in new Oi.XMLHttpRequest?Oi.XMLHttpRequest:void 0,Tk=Oi==null?void 0:Oi.AbortController,jr=Qi==null?void 0:Qi.userAgent,kt=ue??{},Ua={DEBUG:!1,LIB_VERSION:"1.194.1"},Qm={},Z0=function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")};function Fu(e,t,n){if(or(e)){if(Ck&&e.forEach===Ck)e.forEach(t,n);else if("length"in e&&e.length===+e.length){for(var r=0,i=e.length;r<i;r++)if(r in e&&t.call(n,e[r],r)===Qm)return}}}function mn(e,t,n){if(!wn(e)){if(or(e))return Fu(e,t,n);if(VD(e)){for(var r of e.entries())if(t.call(n,r[1],r[0])===Qm)return}else for(var i in e)if(T5.call(e,i)&&t.call(n,e[i],i)===Qm)return}}var vi=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Fu(n,function(i){for(var s in i)i[s]!==void 0&&(e[s]=i[s])}),e};function Vt(e,t){return e.indexOf(t)!==-1}function _m(e){for(var t=Object.keys(e),n=t.length,r=new Array(n);n--;)r[n]=[t[n],e[t[n]]];return r}var Ik=function(e){try{return e()}catch{return}},RD=function(e){return function(){try{for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(this,n)}catch(i){Ae.critical("Implementation error. Please turn on debug mode and open a ticket on https://app.posthog.com/home#panel=support%3Asupport%3A."),Ae.critical(i)}}},Jm=function(e){var t={};return mn(e,function(n,r){ri(n)&&n.length>0&&(t[r]=n)}),t},Mb=function(e){return e.replace(/^\$/,"")};function PD(e,t){return n=e,r=s=>ri(s)&&!fl(t)?s.slice(0,t):s,i=new Set,function s(o,l){return o!==Object(o)?r?r(o,l):o:i.has(o)?void 0:(i.add(o),or(o)?(d=[],Fu(o,c=>{d.push(s(c))})):(d={},mn(o,(c,h)=>{i.has(c)||(d[h]=s(c,h))})),d);var d}(n);var n,r,i}var MD=function(e){var t,n,r,i,s="";for(t=n=0,r=(e=(e+"").replace(/\r\n/g,`
`).replace(/\r/g,`
`)).length,i=0;i<r;i++){var o=e.charCodeAt(i),l=null;o<128?n++:l=o>127&&o<2048?String.fromCharCode(o>>6|192,63&o|128):String.fromCharCode(o>>12|224,o>>6&63|128,63&o|128),fl(l)||(n>t&&(s+=e.substring(t,n)),s+=l,t=n=i+1)}return n>t&&(s+=e.substring(t,e.length)),s},na=function(){function e(t){return t&&(t.preventDefault=e.preventDefault,t.stopPropagation=e.stopPropagation),t}return e.preventDefault=function(){this.returnValue=!1},e.stopPropagation=function(){this.cancelBubble=!0},function(t,n,r,i,s){if(t)if(t.addEventListener&&!i)t.addEventListener(n,r,!!s);else{var o="on"+n,l=t[o];t[o]=function(d,c,h){return function(f){if(f=f||e(ue==null?void 0:ue.event)){var m,v=!0;ws(h)&&(m=h(f));var A=c.call(d,f);return m!==!1&&A!==!1||(v=!1),v}}}(t,r,l)}else Ae.error("No valid element provided to register_event")}}();function C5(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return e[n]}var Qs,DA="$copy_autocapture",jD=["$snapshot","$pageview","$pageleave","$set","survey dismissed","survey sent","survey shown","$identify","$groupidentify","$create_alias","$$client_ingestion_warning","$web_experiment_applied","$feature_enrollment_update","$feature_flag_called"];(function(e){e.GZipJS="gzip-js",e.Base64="base64"})(Qs||(Qs={}));var OD=Array.isArray,k5=Object.prototype,T5=k5.hasOwnProperty,ev=k5.toString,or=OD||function(e){return ev.call(e)==="[object Array]"},ws=e=>typeof e=="function",yr=e=>e===Object(e)&&!or(e),Pu=e=>{if(yr(e)){for(var t in e)if(T5.call(e,t))return!1;return!0}return!1},tt=e=>e===void 0,ri=e=>ev.call(e)=="[object String]",Rk=e=>ri(e)&&e.trim().length===0,fl=e=>e===null,wn=e=>tt(e)||fl(e),Ki=e=>ev.call(e)=="[object Number]",Zl=e=>ev.call(e)==="[object Boolean]",VD=e=>e instanceof FormData,LD=e=>Vt(jD,e),Pk="[PostHog.js]",Ae={_log:function(e){if(ue&&(Ua.DEBUG||kt.POSTHOG_DEBUG)&&!tt(ue.console)&&ue.console){for(var t=("__rrweb_original__"in ue.console[e])?ue.console[e].__rrweb_original__:ue.console[e],n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t(Pk,...r)}},info:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Ae._log("log",...t)},warn:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Ae._log("warn",...t)},error:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Ae._log("error",...t)},critical:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];console.error(Pk,...t)},uninitializedWarning:e=>{Ae.error("You must initialize PostHog before calling ".concat(e))}},Mk=(e,t,n)=>{if(e.config.disable_external_dependency_loading)return Ae.warn("".concat(t," was requested but loading of external scripts is disabled.")),n("Loading of external scripts is disabled");var r=()=>{if(!He)return n("document not found");var i=He.createElement("script");i.type="text/javascript",i.crossOrigin="anonymous",i.src=t,i.onload=l=>n(void 0,l),i.onerror=l=>n(l);var s,o=He.querySelectorAll("body > script");o.length>0?(s=o[0].parentNode)===null||s===void 0||s.insertBefore(i,o[0]):He.body.appendChild(i)};He!=null&&He.body?r():He==null||He.addEventListener("DOMContentLoaded",r)};function jk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ie(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jk(Object(n),!0).forEach(function(r){$e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I5(e,t){if(e==null)return{};var n,r,i=function(o,l){if(o==null)return{};var d,c,h={},f=Object.keys(o);for(c=0;c<f.length;c++)d=f[c],l.indexOf(d)>=0||(h[d]=o[d]);return h}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}kt.__PosthogExtensions__=kt.__PosthogExtensions__||{},kt.__PosthogExtensions__.loadExternalDependency=(e,t,n)=>{var r="/static/".concat(t,".js")+"?v=".concat(e.version);if(t==="toolbar"){var i=3e5,s=Math.floor(Date.now()/i)*i;r="".concat(r,"&t=").concat(s)}var o=e.requestRouter.endpointFor("assets",r);Mk(e,o,n)},kt.__PosthogExtensions__.loadSiteApp=(e,t,n)=>{var r=e.requestRouter.endpointFor("api",t);Mk(e,r,n)};var R5="$people_distinct_id",Ff="__alias",$f="__timers",Ok="$autocapture_disabled_server_side",jb="$heatmaps_enabled_server_side",Vk="$exception_capture_enabled_server_side",Lk="$web_vitals_enabled_server_side",P5="$dead_clicks_enabled_server_side",Nk="$web_vitals_allowed_metrics",Ob="$session_recording_enabled_server_side",Bk="$console_log_recording_enabled_server_side",Dk="$session_recording_network_payload_capture",Fk="$session_recording_canvas_recording",$k="$replay_sample_rate",zk="$replay_minimum_duration",Uk="$replay_script_config",Xm="$sesid",zf="$session_is_sampled",FA="$session_recording_url_trigger_activated_session",$A="$session_recording_event_trigger_activated_session",Mu="$enabled_feature_flags",Vb="$early_access_features",ju="$stored_person_properties",Ha="$stored_group_properties",Lb="$surveys",gg="$surveys_activated",Zm="$flag_call_reported",Jo="$user_state",Nb="$client_session_props",Bb="$capture_rate_limit",Db="$initial_campaign_params",Fb="$initial_referrer_info",$b="$initial_person_info",e0="$epp",M5="__POSTHOG_TOOLBAR__",ND=[R5,Ff,"__cmpns",$f,Ob,jb,Xm,Mu,Jo,Vb,Ha,ju,Lb,Zm,Nb,Bb,Db,Fb,e0],zA="$active_feature_flags",mg="$override_feature_flags",Hk="$feature_flag_payloads",Gk=e=>{var t={};for(var[n,r]of _m(e||{}))r&&(t[n]=r);return t};class BD{constructor(t){this.instance=t,this._override_warning=!1,this.featureFlagEventHandlers=[],this.reloadFeatureFlagsQueued=!1,this.reloadFeatureFlagsInAction=!1}getFlags(){return Object.keys(this.getFlagVariants())}getFlagVariants(){var t=this.instance.get_property(Mu),n=this.instance.get_property(mg);if(!n)return t||{};for(var r=vi({},t),i=Object.keys(n),s=0;s<i.length;s++)r[i[s]]=n[i[s]];return this._override_warning||(Ae.warn(" Overriding feature flags!",{enabledFlags:t,overriddenFlags:n,finalFlags:r}),this._override_warning=!0),r}getFlagPayloads(){return this.instance.get_property(Hk)||{}}reloadFeatureFlags(){this.reloadFeatureFlagsQueued||(this.reloadFeatureFlagsQueued=!0,this._startReloadTimer())}setAnonymousDistinctId(t){this.$anon_distinct_id=t}setReloadingPaused(t){this.reloadFeatureFlagsInAction=t}resetRequestQueue(){this.reloadFeatureFlagsQueued=!1}_startReloadTimer(){this.reloadFeatureFlagsQueued&&!this.reloadFeatureFlagsInAction&&setTimeout(()=>{!this.reloadFeatureFlagsInAction&&this.reloadFeatureFlagsQueued&&(this.reloadFeatureFlagsQueued=!1,this._reloadFeatureFlagsRequest())},5)}_reloadFeatureFlagsRequest(){if(!this.instance.config.advanced_disable_feature_flags){this.setReloadingPaused(!0);var t=this.instance.config.token,n=this.instance.get_property(ju),r=this.instance.get_property(Ha),i={token:t,distinct_id:this.instance.get_distinct_id(),groups:this.instance.getGroups(),$anon_distinct_id:this.$anon_distinct_id,person_properties:n,group_properties:r,disable_flags:this.instance.config.advanced_disable_feature_flags||void 0};this.instance._send_request({method:"POST",url:this.instance.requestRouter.endpointFor("api","/decide/?v=3"),data:i,compression:this.instance.config.disable_compression?void 0:Qs.Base64,timeout:this.instance.config.feature_flag_request_timeout_ms,callback:s=>{var o;this.setReloadingPaused(!1);var l=!0;s.statusCode===200&&(this.$anon_distinct_id=void 0,l=!1),this.receivedFeatureFlags((o=s.json)!==null&&o!==void 0?o:{},l),this._startReloadTimer()}})}}getFeatureFlag(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.instance.decideEndpointWasHit||this.getFlags()&&this.getFlags().length>0){var r,i=this.getFlagVariants()[t],s="".concat(i),o=this.instance.get_property(Zm)||{};return(n.send_event||!("send_event"in n))&&(!(t in o)||!o[t].includes(s))&&(or(o[t])?o[t].push(s):o[t]=[s],(r=this.instance.persistence)===null||r===void 0||r.register({[Zm]:o}),this.instance.capture("$feature_flag_called",{$feature_flag:t,$feature_flag_response:i})),i}Ae.warn('getFeatureFlag for key "'+t+`" failed. Feature flags didn't load in time.`)}getFeatureFlagPayload(t){return this.getFlagPayloads()[t]}isFeatureEnabled(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.instance.decideEndpointWasHit||this.getFlags()&&this.getFlags().length>0)return!!this.getFeatureFlag(t,n);Ae.warn('isFeatureEnabled for key "'+t+`" failed. Feature flags didn't load in time.`)}addFeatureFlagsHandler(t){this.featureFlagEventHandlers.push(t)}removeFeatureFlagsHandler(t){this.featureFlagEventHandlers=this.featureFlagEventHandlers.filter(n=>n!==t)}receivedFeatureFlags(t,n){if(this.instance.persistence){this.instance.decideEndpointWasHit=!0;var r=this.getFlagVariants(),i=this.getFlagPayloads();(function(s,o){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},c=s.featureFlags,h=s.featureFlagPayloads;if(c)if(or(c)){var f={};if(c)for(var m=0;m<c.length;m++)f[c[m]]=!0;o&&o.register({[zA]:c,[Mu]:f})}else{var v=c,A=h;s.errorsWhileComputingFlags&&(v=Ie(Ie({},l),v),A=Ie(Ie({},d),A)),o&&o.register({[zA]:Object.keys(Gk(v)),[Mu]:v||{},[Hk]:A||{}})}})(t,this.instance.persistence,r,i),this._fireFeatureFlagsCallbacks(n)}}override(t){var n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(!this.instance.__loaded||!this.instance.persistence)return Ae.uninitializedWarning("posthog.feature_flags.override");if(this._override_warning=n,t===!1)this.instance.persistence.unregister(mg);else if(or(t)){for(var r={},i=0;i<t.length;i++)r[t[i]]=!0;this.instance.persistence.register({[mg]:r})}else this.instance.persistence.register({[mg]:t})}onFeatureFlags(t){if(this.addFeatureFlagsHandler(t),this.instance.decideEndpointWasHit){var{flags:n,flagVariants:r}=this._prepareFeatureFlagsForCallbacks();t(n,r)}return()=>this.removeFeatureFlagsHandler(t)}updateEarlyAccessFeatureEnrollment(t,n){var r,i={["$feature_enrollment/".concat(t)]:n};this.instance.capture("$feature_enrollment_update",{$feature_flag:t,$feature_enrollment:n,$set:i}),this.setPersonPropertiesForFlags(i,!1);var s=Ie(Ie({},this.getFlagVariants()),{},{[t]:n});(r=this.instance.persistence)===null||r===void 0||r.register({[zA]:Object.keys(Gk(s)),[Mu]:s}),this._fireFeatureFlagsCallbacks()}getEarlyAccessFeatures(t){var n=arguments.length>1&&arguments[1]!==void 0&&arguments[1],r=this.instance.get_property(Vb);if(r&&!n)return t(r);this.instance._send_request({transport:"XHR",url:this.instance.requestRouter.endpointFor("api","/api/early_access_features/?token=".concat(this.instance.config.token)),method:"GET",callback:i=>{var s;if(i.json){var o=i.json.earlyAccessFeatures;return(s=this.instance.persistence)===null||s===void 0||s.register({[Vb]:o}),t(o)}}})}_prepareFeatureFlagsForCallbacks(){var t=this.getFlags(),n=this.getFlagVariants();return{flags:t.filter(r=>n[r]),flagVariants:Object.keys(n).filter(r=>n[r]).reduce((r,i)=>(r[i]=n[i],r),{})}}_fireFeatureFlagsCallbacks(t){var{flags:n,flagVariants:r}=this._prepareFeatureFlagsForCallbacks();this.featureFlagEventHandlers.forEach(i=>i(n,r,{errorsLoading:t}))}setPersonPropertiesForFlags(t){var n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=this.instance.get_property(ju)||{};this.instance.register({[ju]:Ie(Ie({},r),t)}),n&&this.instance.reloadFeatureFlags()}resetPersonPropertiesForFlags(){this.instance.unregister(ju)}setGroupPropertiesForFlags(t){var n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=this.instance.get_property(Ha)||{};Object.keys(r).length!==0&&Object.keys(r).forEach(i=>{r[i]=Ie(Ie({},r[i]),t[i]),delete t[i]}),this.instance.register({[Ha]:Ie(Ie({},r),t)}),n&&this.instance.reloadFeatureFlags()}resetGroupPropertiesForFlags(t){if(t){var n=this.instance.get_property(Ha)||{};this.instance.register({[Ha]:Ie(Ie({},n),{},{[t]:{}})})}else this.instance.unregister(Ha)}}Math.trunc||(Math.trunc=function(e){return e<0?Math.ceil(e):Math.floor(e)}),Number.isInteger||(Number.isInteger=function(e){return Ki(e)&&isFinite(e)&&Math.floor(e)===e});var qk="0123456789abcdef";class t0{constructor(t){if(this.bytes=t,t.length!==16)throw new TypeError("not 128-bit length")}static fromFieldsV7(t,n,r,i){if(!Number.isInteger(t)||!Number.isInteger(n)||!Number.isInteger(r)||!Number.isInteger(i)||t<0||n<0||r<0||i<0||t>0xffffffffffff||n>4095||r>1073741823||i>4294967295)throw new RangeError("invalid field value");var s=new Uint8Array(16);return s[0]=t/Math.pow(2,40),s[1]=t/Math.pow(2,32),s[2]=t/Math.pow(2,24),s[3]=t/Math.pow(2,16),s[4]=t/Math.pow(2,8),s[5]=t,s[6]=112|n>>>8,s[7]=n,s[8]=128|r>>>24,s[9]=r>>>16,s[10]=r>>>8,s[11]=r,s[12]=i>>>24,s[13]=i>>>16,s[14]=i>>>8,s[15]=i,new t0(s)}toString(){for(var t="",n=0;n<this.bytes.length;n++)t=t+qk.charAt(this.bytes[n]>>>4)+qk.charAt(15&this.bytes[n]),n!==3&&n!==5&&n!==7&&n!==9||(t+="-");if(t.length!==36)throw new Error("Invalid UUIDv7 was generated");return t}clone(){return new t0(this.bytes.slice(0))}equals(t){return this.compareTo(t)===0}compareTo(t){for(var n=0;n<16;n++){var r=this.bytes[n]-t.bytes[n];if(r!==0)return Math.sign(r)}return 0}}class DD{constructor(){$e(this,"timestamp",0),$e(this,"counter",0),$e(this,"random",new FD)}generate(){var t=this.generateOrAbort();if(tt(t)){this.timestamp=0;var n=this.generateOrAbort();if(tt(n))throw new Error("Could not generate UUID after timestamp reset");return n}return t}generateOrAbort(){var t=Date.now();if(t>this.timestamp)this.timestamp=t,this.resetCounter();else{if(!(t+1e4>this.timestamp))return;this.counter++,this.counter>4398046511103&&(this.timestamp++,this.resetCounter())}return t0.fromFieldsV7(this.timestamp,Math.trunc(this.counter/Math.pow(2,30)),this.counter&Math.pow(2,30)-1,this.random.nextUint32())}resetCounter(){this.counter=1024*this.random.nextUint32()+(1023&this.random.nextUint32())}}var Wk,j5=e=>{if(typeof UUIDV7_DENY_WEAK_RNG<"u"&&UUIDV7_DENY_WEAK_RNG)throw new Error("no cryptographically strong RNG available");for(var t=0;t<e.length;t++)e[t]=65536*Math.trunc(65536*Math.random())+Math.trunc(65536*Math.random());return e};ue&&!tt(ue.crypto)&&crypto.getRandomValues&&(j5=e=>crypto.getRandomValues(e));class FD{constructor(){$e(this,"buffer",new Uint32Array(8)),$e(this,"cursor",1/0)}nextUint32(){return this.cursor>=this.buffer.length&&(j5(this.buffer),this.cursor=0),this.buffer[this.cursor++]}}var Ka=()=>$D().toString(),$D=()=>(Wk||(Wk=new DD)).generate(),zD="Thu, 01 Jan 1970 00:00:00 GMT",_f="",UD=/[a-z0-9][a-z0-9-]+\.[a-z]{2,}$/i;function HD(e,t){if(t){var n=function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:He;if(_f)return _f;if(!s||["localhost","127.0.0.1"].includes(i))return"";for(var o=i.split("."),l=Math.min(o.length,8),d="dmn_chk_"+Ka(),c=new RegExp("(^|;)\\s*"+d+"=1");!_f&&l--;){var h=o.slice(l).join("."),f=d+"=1;domain=."+h;s.cookie=f,c.test(s.cookie)&&(s.cookie=f+";expires="+zD,_f=h)}return _f}(e);if(!n){var r=(i=>{var s=i.match(UD);return s?s[0]:""})(e);r!==n&&Ae.info("Warning: cookie subdomain discovery mismatch",r,n),n=r}return n?"; domain=."+n:""}return""}var sa={is_supported:()=>!!He,error:function(e){Ae.error("cookieStore error: "+e)},get:function(e){if(He){try{for(var t=e+"=",n=He.cookie.split(";").filter(s=>s.length),r=0;r<n.length;r++){for(var i=n[r];i.charAt(0)==" ";)i=i.substring(1,i.length);if(i.indexOf(t)===0)return decodeURIComponent(i.substring(t.length,i.length))}}catch{}return null}},parse:function(e){var t;try{t=JSON.parse(sa.get(e))||{}}catch{}return t},set:function(e,t,n,r,i){if(He)try{var s="",o="",l=HD(He.location.hostname,r);if(n){var d=new Date;d.setTime(d.getTime()+24*n*60*60*1e3),s="; expires="+d.toUTCString()}i&&(o="; secure");var c=e+"="+encodeURIComponent(JSON.stringify(t))+s+"; SameSite=Lax; path=/"+l+o;return c.length>3686.4&&Ae.warn("cookieStore warning: large cookie, len="+c.length),He.cookie=c,c}catch{return}},remove:function(e,t){try{sa.set(e,"",-1,t)}catch{return}}},UA=null,wr={is_supported:function(){if(!fl(UA))return UA;var e=!0;if(tt(ue))e=!1;else try{var t="__mplssupport__";wr.set(t,"xyz"),wr.get(t)!=='"xyz"'&&(e=!1),wr.remove(t)}catch{e=!1}return e||Ae.error("localStorage unsupported; falling back to cookie store"),UA=e,e},error:function(e){Ae.error("localStorage error: "+e)},get:function(e){try{return ue==null?void 0:ue.localStorage.getItem(e)}catch(t){wr.error(t)}return null},parse:function(e){try{return JSON.parse(wr.get(e))||{}}catch{}return null},set:function(e,t){try{ue==null||ue.localStorage.setItem(e,JSON.stringify(t))}catch(n){wr.error(n)}},remove:function(e){try{ue==null||ue.localStorage.removeItem(e)}catch(t){wr.error(t)}}},GD=["distinct_id",Xm,zf,e0,$b],vg=Ie(Ie({},wr),{},{parse:function(e){try{var t={};try{t=sa.parse(e)||{}}catch{}var n=vi(t,JSON.parse(wr.get(e)||"{}"));return wr.set(e,n),n}catch{}return null},set:function(e,t,n,r,i,s){try{wr.set(e,t,void 0,void 0,s);var o={};GD.forEach(l=>{t[l]&&(o[l]=t[l])}),Object.keys(o).length&&sa.set(e,o,n,r,i,s)}catch(l){wr.error(l)}},remove:function(e,t){try{ue==null||ue.localStorage.removeItem(e),sa.remove(e,t)}catch(n){wr.error(n)}}}),yg={},qD={is_supported:function(){return!0},error:function(e){Ae.error("memoryStorage error: "+e)},get:function(e){return yg[e]||null},parse:function(e){return yg[e]||null},set:function(e,t){yg[e]=t},remove:function(e){delete yg[e]}},Ll=null,Hr={is_supported:function(){if(!fl(Ll))return Ll;if(Ll=!0,tt(ue))Ll=!1;else try{var e="__support__";Hr.set(e,"xyz"),Hr.get(e)!=='"xyz"'&&(Ll=!1),Hr.remove(e)}catch{Ll=!1}return Ll},error:function(e){Ae.error("sessionStorage error: ",e)},get:function(e){try{return ue==null?void 0:ue.sessionStorage.getItem(e)}catch(t){Hr.error(t)}return null},parse:function(e){try{return JSON.parse(Hr.get(e))||null}catch{}return null},set:function(e,t){try{ue==null||ue.sessionStorage.setItem(e,JSON.stringify(t))}catch(n){Hr.error(n)}},remove:function(e){try{ue==null||ue.sessionStorage.removeItem(e)}catch(t){Hr.error(t)}}},WD=["localhost","127.0.0.1"],$u=e=>{var t=He==null?void 0:He.createElement("a");return tt(t)?null:(t.href=e,t)},ed=function(e,t){return!!function(n){try{new RegExp(n)}catch{return!1}return!0}(t)&&new RegExp(t).test(e)},KD=function(e){var t,n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"&",i=[];return mn(e,function(s,o){tt(s)||tt(o)||o==="undefined"||(t=encodeURIComponent((l=>l instanceof File)(s)?s.name:s.toString()),n=encodeURIComponent(o),i[i.length]=n+"="+t)}),i.join(r)},n0=function(e,t){for(var n,r=((e.split("#")[0]||"").split("?")[1]||"").split("&"),i=0;i<r.length;i++){var s=r[i].split("=");if(s[0]===t){n=s;break}}if(!or(n)||n.length<2)return"";var o=n[1];try{o=decodeURIComponent(o)}catch{Ae.error("Skipping decoding for malformed query param: "+o)}return o.replace(/\+/g," ")},r0=function(e,t){var n=e.match(new RegExp(t+"=([^&]*)"));return n?n[1]:null},Cs="Mobile",i0="iOS",Eo="Android",gh="Tablet",O5=Eo+" "+gh,V5="iPad",L5="Apple",N5=L5+" Watch",mh="Safari",td="BlackBerry",B5="Samsung",D5=B5+"Browser",F5=B5+" Internet",Za="Chrome",YD=Za+" OS",$5=Za+" "+i0,BS="Internet Explorer",z5=BS+" "+Cs,DS="Opera",QD=DS+" Mini",FS="Edge",U5="Microsoft "+FS,zu="Firefox",H5=zu+" "+i0,vh="Nintendo",yh="PlayStation",Uu="Xbox",G5=Eo+" "+Cs,q5=Cs+" "+mh,Uf="Windows",zb=Uf+" Phone",Kk="Nokia",Ub="Ouya",W5="Generic",JD=W5+" "+Cs.toLowerCase(),K5=W5+" "+gh.toLowerCase(),Hb="Konqueror",gi="(\\d+(\\.\\d+)?)",HA=new RegExp("Version/"+gi),XD=new RegExp(Uu,"i"),ZD=new RegExp(yh+" \\w+","i"),eF=new RegExp(vh+" \\w+","i"),$S=new RegExp(td+"|PlayBook|BB10","i"),tF={"NT3.51":"NT 3.11","NT4.0":"NT 4.0","5.0":"2000",5.1:"XP",5.2:"XP","6.0":"Vista",6.1:"7",6.2:"8",6.3:"8.1",6.4:"10","10.0":"10"},nF=(e,t)=>t&&Vt(t,L5)||function(n){return Vt(n,mh)&&!Vt(n,Za)&&!Vt(n,Eo)}(e),Yk=function(e,t){return t=t||"",Vt(e," OPR/")&&Vt(e,"Mini")?QD:Vt(e," OPR/")?DS:$S.test(e)?td:Vt(e,"IE"+Cs)||Vt(e,"WPDesktop")?z5:Vt(e,D5)?F5:Vt(e,FS)||Vt(e,"Edg/")?U5:Vt(e,"FBIOS")?"Facebook "+Cs:Vt(e,"UCWEB")||Vt(e,"UCBrowser")?"UC Browser":Vt(e,"CriOS")?$5:Vt(e,"CrMo")?Za:Vt(e,Eo)&&Vt(e,mh)?G5:Vt(e,Za)?Za:Vt(e,"FxiOS")?H5:Vt(e.toLowerCase(),Hb.toLowerCase())?Hb:nF(e,t)?Vt(e,Cs)?q5:mh:Vt(e,zu)?zu:Vt(e,"MSIE")||Vt(e,"Trident/")?BS:Vt(e,"Gecko")?zu:""},rF={[z5]:[new RegExp("rv:"+gi)],[U5]:[new RegExp(FS+"?\\/"+gi)],[Za]:[new RegExp("("+Za+"|CrMo)\\/"+gi)],[$5]:[new RegExp("CriOS\\/"+gi)],"UC Browser":[new RegExp("(UCBrowser|UCWEB)\\/"+gi)],[mh]:[HA],[q5]:[HA],[DS]:[new RegExp("(Opera|OPR)\\/"+gi)],[zu]:[new RegExp(zu+"\\/"+gi)],[H5]:[new RegExp("FxiOS\\/"+gi)],[Hb]:[new RegExp("Konqueror[:/]?"+gi,"i")],[td]:[new RegExp(td+" "+gi),HA],[G5]:[new RegExp("android\\s"+gi,"i")],[F5]:[new RegExp(D5+"\\/"+gi)],[BS]:[new RegExp("(rv:|MSIE )"+gi)],Mozilla:[new RegExp("rv:"+gi)]},Qk=[[new RegExp(Uu+"; "+Uu+" (.*?)[);]","i"),e=>[Uu,e&&e[1]||""]],[new RegExp(vh,"i"),[vh,""]],[new RegExp(yh,"i"),[yh,""]],[$S,[td,""]],[new RegExp(Uf,"i"),(e,t)=>{if(/Phone/.test(t)||/WPDesktop/.test(t))return[zb,""];if(new RegExp(Cs).test(t)&&!/IEMobile\b/.test(t))return[Uf+" "+Cs,""];var n=/Windows NT ([0-9.]+)/i.exec(t);if(n&&n[1]){var r=n[1],i=tF[r]||"";return/arm/i.test(t)&&(i="RT"),[Uf,i]}return[Uf,""]}],[/((iPhone|iPad|iPod).*?OS (\d+)_(\d+)_?(\d+)?|iPhone)/,e=>{if(e&&e[3]){var t=[e[3],e[4],e[5]||"0"];return[i0,t.join(".")]}return[i0,""]}],[/(watch.*\/(\d+\.\d+\.\d+)|watch os,(\d+\.\d+),)/i,e=>{var t="";return e&&e.length>=3&&(t=tt(e[2])?e[3]:e[2]),["watchOS",t]}],[new RegExp("("+Eo+" (\\d+)\\.(\\d+)\\.?(\\d+)?|"+Eo+")","i"),e=>{if(e&&e[2]){var t=[e[2],e[3],e[4]||"0"];return[Eo,t.join(".")]}return[Eo,""]}],[/Mac OS X (\d+)[_.](\d+)[_.]?(\d+)?/i,e=>{var t=["Mac OS X",""];if(e&&e[1]){var n=[e[1],e[2],e[3]||"0"];t[1]=n.join(".")}return t}],[/Mac/i,["Mac OS X",""]],[/CrOS/,[YD,""]],[/Linux|debian/i,["Linux",""]]],Jk=function(e){return eF.test(e)?vh:ZD.test(e)?yh:XD.test(e)?Uu:new RegExp(Ub,"i").test(e)?Ub:new RegExp("("+zb+"|WPDesktop)","i").test(e)?zb:/iPad/.test(e)?V5:/iPod/.test(e)?"iPod Touch":/iPhone/.test(e)?"iPhone":/(watch)(?: ?os[,/]|\d,\d\/)[\d.]+/i.test(e)?N5:$S.test(e)?td:/(kobo)\s(ereader|touch)/i.test(e)?"Kobo":new RegExp(Kk,"i").test(e)?Kk:/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i.test(e)||/(kf[a-z]+)( bui|\)).+silk\//i.test(e)?"Kindle Fire":/(Android|ZTE)/i.test(e)?!new RegExp(Cs).test(e)||/(9138B|TB782B|Nexus [97]|pixel c|HUAWEISHT|BTV|noble nook|smart ultra 6)/i.test(e)?/pixel[\daxl ]{1,6}/i.test(e)&&!/pixel c/i.test(e)||/(huaweimed-al00|tah-|APA|SM-G92|i980|zte|U304AA)/i.test(e)||/lmy47v/i.test(e)&&!/QTAQZ3/i.test(e)?Eo:O5:Eo:new RegExp("(pda|"+Cs+")","i").test(e)?JD:new RegExp(gh,"i").test(e)&&!new RegExp(gh+" pc","i").test(e)?K5:""},Ag="https?://(.*)",iF=["utm_source","utm_medium","utm_campaign","utm_content","utm_term","gclid","gad_source","gclsrc","dclid","gbraid","wbraid","fbclid","msclkid","twclid","li_fat_id","mc_cid","igshid","ttclid","rdt_cid"],Zn={campaignParams:function(e){return He?this._campaignParamsFromUrl(He.URL,e):{}},_campaignParamsFromUrl:function(e,t){var n=iF.concat(t||[]),r={};return mn(n,function(i){var s=n0(e,i);r[i]=s||null}),r},_searchEngine:function(e){return e?e.search(Ag+"google.([^/?]*)")===0?"google":e.search(Ag+"bing.com")===0?"bing":e.search(Ag+"yahoo.com")===0?"yahoo":e.search(Ag+"duckduckgo.com")===0?"duckduckgo":null:null},_searchInfoFromReferrer:function(e){var t=Zn._searchEngine(e),n=t!="yahoo"?"q":"p",r={};if(!fl(t)){r.$search_engine=t;var i=He?n0(He.referrer,n):"";i.length&&(r.ph_keyword=i)}return r},searchInfo:function(){var e=He==null?void 0:He.referrer;return e?this._searchInfoFromReferrer(e):{}},browser:Yk,browserVersion:function(e,t){var n=Yk(e,t),r=rF[n];if(tt(r))return null;for(var i=0;i<r.length;i++){var s=r[i],o=e.match(s);if(o)return parseFloat(o[o.length-2])}return null},browserLanguage:function(){return navigator.language||navigator.userLanguage},browserLanguagePrefix:function(){var e=this.browserLanguage();return typeof e=="string"?e.split("-")[0]:void 0},os:function(e){for(var t=0;t<Qk.length;t++){var[n,r]=Qk[t],i=n.exec(e),s=i&&(ws(r)?r(i,e):r);if(s)return s}return["",""]},device:Jk,deviceType:function(e){var t=Jk(e);return t===V5||t===O5||t==="Kobo"||t==="Kindle Fire"||t===K5?gh:t===vh||t===Uu||t===yh||t===Ub?"Console":t===N5?"Wearable":t?Cs:"Desktop"},referrer:function(){return(He==null?void 0:He.referrer)||"$direct"},referringDomain:function(){var e;return He!=null&&He.referrer&&((e=$u(He.referrer))===null||e===void 0?void 0:e.host)||"$direct"},referrerInfo:function(){return{$referrer:this.referrer(),$referring_domain:this.referringDomain()}},initialPersonInfo:function(){return{r:this.referrer().substring(0,1e3),u:ji==null?void 0:ji.href.substring(0,1e3)}},initialPersonPropsFromInfo:function(e){var t,{r:n,u:r}=e,i={$initial_referrer:n,$initial_referring_domain:n==null?void 0:n=="$direct"?"$direct":(t=$u(n))===null||t===void 0?void 0:t.host};if(r){i.$initial_current_url=r;var s=$u(r);i.$initial_host=s==null?void 0:s.host,i.$initial_pathname=s==null?void 0:s.pathname,mn(this._campaignParamsFromUrl(r),function(o,l){i["$initial_"+Mb(l)]=o})}return n&&mn(this._searchInfoFromReferrer(n),function(o,l){i["$initial_"+Mb(l)]=o}),i},timezone:function(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch{return}},timezoneOffset:function(){try{return new Date().getTimezoneOffset()}catch{return}},properties:function(){if(!jr)return{};var[e,t]=Zn.os(jr);return vi(Jm({$os:e,$os_version:t,$browser:Zn.browser(jr,navigator.vendor),$device:Zn.device(jr),$device_type:Zn.deviceType(jr),$timezone:Zn.timezone(),$timezone_offset:Zn.timezoneOffset()}),{$current_url:ji==null?void 0:ji.href,$host:ji==null?void 0:ji.host,$pathname:ji==null?void 0:ji.pathname,$raw_user_agent:jr.length>1e3?jr.substring(0,997)+"...":jr,$browser_version:Zn.browserVersion(jr,navigator.vendor),$browser_language:Zn.browserLanguage(),$browser_language_prefix:Zn.browserLanguagePrefix(),$screen_height:ue==null?void 0:ue.screen.height,$screen_width:ue==null?void 0:ue.screen.width,$viewport_height:ue==null?void 0:ue.innerHeight,$viewport_width:ue==null?void 0:ue.innerWidth,$lib:"web",$lib_version:Ua.LIB_VERSION,$insert_id:Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10),$time:Date.now()/1e3})},people_properties:function(){if(!jr)return{};var[e,t]=Zn.os(jr);return vi(Jm({$os:e,$os_version:t,$browser:Zn.browser(jr,navigator.vendor)}),{$browser_version:Zn.browserVersion(jr,navigator.vendor)})}},sF=["cookie","localstorage","localstorage+cookie","sessionstorage","memory"];class GA{constructor(t){this.config=t,this.props={},this.campaign_params_saved=!1,this.name=(n=>{var r="";return n.token&&(r=n.token.replace(/\+/g,"PL").replace(/\//g,"SL").replace(/=/g,"EQ")),n.persistence_name?"ph_"+n.persistence_name:"ph_"+r+"_posthog"})(t),this.storage=this.buildStorage(t),this.load(),t.debug&&Ae.info("Persistence loaded",t.persistence,Ie({},this.props)),this.update_config(t,t),this.save()}buildStorage(t){sF.indexOf(t.persistence.toLowerCase())===-1&&(Ae.critical("Unknown persistence type "+t.persistence+"; falling back to localStorage+cookie"),t.persistence="localStorage+cookie");var n=t.persistence.toLowerCase();return n==="localstorage"&&wr.is_supported()?wr:n==="localstorage+cookie"&&vg.is_supported()?vg:n==="sessionstorage"&&Hr.is_supported()?Hr:n==="memory"?qD:n==="cookie"?sa:vg.is_supported()?vg:sa}properties(){var t={};return mn(this.props,function(n,r){if(r===Mu&&yr(n))for(var i=Object.keys(n),s=0;s<i.length;s++)t["$feature/".concat(i[s])]=n[i[s]];else l=r,d=!1,(fl(o=ND)?d:kk&&o.indexOf===kk?o.indexOf(l)!=-1:(mn(o,function(c){if(d||(d=c===l))return Qm}),d))||(t[r]=n);var o,l,d}),t}load(){if(!this.disabled){var t=this.storage.parse(this.name);t&&(this.props=vi({},t))}}save(){this.disabled||this.storage.set(this.name,this.props,this.expire_days,this.cross_subdomain,this.secure,this.config.debug)}remove(){this.storage.remove(this.name,!1),this.storage.remove(this.name,!0)}clear(){this.remove(),this.props={}}register_once(t,n,r){if(yr(t)){tt(n)&&(n="None"),this.expire_days=tt(r)?this.default_expiry:r;var i=!1;if(mn(t,(s,o)=>{this.props.hasOwnProperty(o)&&this.props[o]!==n||(this.props[o]=s,i=!0)}),i)return this.save(),!0}return!1}register(t,n){if(yr(t)){this.expire_days=tt(n)?this.default_expiry:n;var r=!1;if(mn(t,(i,s)=>{t.hasOwnProperty(s)&&this.props[s]!==i&&(this.props[s]=i,r=!0)}),r)return this.save(),!0}return!1}unregister(t){t in this.props&&(delete this.props[t],this.save())}update_campaign_params(){if(!this.campaign_params_saved){var t=Zn.campaignParams(this.config.custom_campaign_params);Pu(Jm(t))||this.register(t),this.campaign_params_saved=!0}}update_search_keyword(){this.register(Zn.searchInfo())}update_referrer_info(){this.register_once(Zn.referrerInfo(),void 0)}set_initial_person_info(){this.props[Db]||this.props[Fb]||this.register_once({[$b]:Zn.initialPersonInfo()},void 0)}get_referrer_info(){return Jm({$referrer:this.props.$referrer,$referring_domain:this.props.$referring_domain})}get_initial_props(){var t={};mn([Fb,Db],i=>{var s=this.props[i];s&&mn(s,function(o,l){t["$initial_"+Mb(l)]=o})});var n=this.props[$b];if(n){var r=Zn.initialPersonPropsFromInfo(n);vi(t,r)}return t}safe_merge(t){return mn(this.props,function(n,r){r in t||(t[r]=n)}),t}update_config(t,n){if(this.default_expiry=this.expire_days=t.cookie_expiration,this.set_disabled(t.disable_persistence),this.set_cross_subdomain(t.cross_subdomain_cookie),this.set_secure(t.secure_cookie),t.persistence!==n.persistence){var r=this.buildStorage(t),i=this.props;this.clear(),this.storage=r,this.props=i,this.save()}}set_disabled(t){this.disabled=t,this.disabled?this.remove():this.save()}set_cross_subdomain(t){t!==this.cross_subdomain&&(this.cross_subdomain=t,this.remove(),this.save())}get_cross_subdomain(){return!!this.cross_subdomain}set_secure(t){t!==this.secure&&(this.secure=t,this.remove(),this.save())}set_event_timer(t,n){var r=this.props[$f]||{};r[t]=n,this.props[$f]=r,this.save()}remove_event_timer(t){var n=(this.props[$f]||{})[t];return tt(n)||(delete this.props[$f][t],this.save()),n}get_property(t){return this.props[t]}set_property(t,n){this.props[t]=n,this.save()}}function s0(e){var t,n;return((t=JSON.stringify(e,(n=[],function(r,i){if(yr(i)){for(;n.length>0&&n[n.length-1]!==this;)n.pop();return n.includes(i)?"[Circular]":(n.push(i),i)}return i})))===null||t===void 0?void 0:t.length)||0}function Gb(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:66060288e-1;if(e.size>=t&&e.data.length>1){var n=Math.floor(e.data.length/2),r=e.data.slice(0,n),i=e.data.slice(n);return[Gb({size:s0(r),data:r,sessionId:e.sessionId,windowId:e.windowId}),Gb({size:s0(i),data:i,sessionId:e.sessionId,windowId:e.windowId})].flatMap(s=>s)}return[e]}var Xo=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(Xo||{}),Ws=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(Ws||{});function Xk(e){var t;return e.id===M5||!((t=e.closest)===null||t===void 0||!t.call(e,".toolbar-global-fade-container"))}function tv(e){return!!e&&e.nodeType===1}function el(e,t){return!!e&&!!e.tagName&&e.tagName.toLowerCase()===t.toLowerCase()}function Y5(e){return!!e&&e.nodeType===3}function Q5(e){return!!e&&e.nodeType===11}function zS(e){return e?Z0(e).split(/\s+/):[]}function Zk(e){var t=ue==null?void 0:ue.location.href;return!!(t&&e&&e.some(n=>t.match(n)))}function o0(e){var t="";switch(typeof e.className){case"string":t=e.className;break;case"object":t=(e.className&&"baseVal"in e.className?e.className.baseVal:null)||e.getAttribute("class")||"";break;default:t=""}return zS(t)}function J5(e){return wn(e)?null:Z0(e).split(/(\s+)/).filter(t=>nd(t)).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255)}function nv(e){var t="";return Wb(e)&&!ej(e)&&e.childNodes&&e.childNodes.length&&mn(e.childNodes,function(n){var r;Y5(n)&&n.textContent&&(t+=(r=J5(n.textContent))!==null&&r!==void 0?r:"")}),Z0(t)}function X5(e){return tt(e.target)?e.srcElement||null:(t=e.target)!==null&&t!==void 0&&t.shadowRoot?e.composedPath()[0]||null:e.target||null;var t}var qb=["a","button","form","input","select","textarea","label"];function Z5(e){var t=e.parentNode;return!(!t||!tv(t))&&t}function oF(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;if(!ue||!e||el(e,"html")||!tv(e)||n!=null&&n.url_allowlist&&!Zk(n.url_allowlist)||n!=null&&n.url_ignorelist&&Zk(n.url_ignorelist))return!1;if(n!=null&&n.dom_event_allowlist){var s=n.dom_event_allowlist;if(s&&!s.some(v=>t.type===v))return!1}for(var o=!1,l=[e],d=!0,c=e;c.parentNode&&!el(c,"body");)if(Q5(c.parentNode))l.push(c.parentNode.host),c=c.parentNode.host;else{if(!(d=Z5(c)))break;if(r||qb.indexOf(d.tagName.toLowerCase())>-1)o=!0;else{var h=ue.getComputedStyle(d);h&&h.getPropertyValue("cursor")==="pointer"&&(o=!0)}l.push(d),c=d}if(!function(v,A){var b=A==null?void 0:A.element_allowlist;if(tt(b))return!0;var x=function(P){if(b.some(T=>P.tagName.toLowerCase()===T))return{v:!0}};for(var E of v){var I=x(E);if(typeof I=="object")return I.v}return!1}(l,n)||!function(v,A){var b=A==null?void 0:A.css_selector_allowlist;if(tt(b))return!0;var x=function(P){if(b.some(T=>P.matches(T)))return{v:!0}};for(var E of v){var I=x(E);if(typeof I=="object")return I.v}return!1}(l,n))return!1;var f=ue.getComputedStyle(e);if(f&&f.getPropertyValue("cursor")==="pointer"&&t.type==="click")return!0;var m=e.tagName.toLowerCase();switch(m){case"html":return!1;case"form":return(i||["submit"]).indexOf(t.type)>=0;case"input":case"select":case"textarea":return(i||["change","click"]).indexOf(t.type)>=0;default:return o?(i||["click"]).indexOf(t.type)>=0:(i||["click"]).indexOf(t.type)>=0&&(qb.indexOf(m)>-1||e.getAttribute("contenteditable")==="true")}}function Wb(e){for(var t=e;t.parentNode&&!el(t,"body");t=t.parentNode){var n=o0(t);if(Vt(n,"ph-sensitive")||Vt(n,"ph-no-capture"))return!1}if(Vt(o0(e),"ph-include"))return!0;var r=e.type||"";if(ri(r))switch(r.toLowerCase()){case"hidden":case"password":return!1}var i=e.name||e.id||"";return!(ri(i)&&/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|pwd|routing|seccode|securitycode|securitynum|socialsec|socsec|ssn/i.test(i.replace(/[^a-zA-Z0-9]/g,"")))}function ej(e){return!!(el(e,"input")&&!["button","checkbox","submit","reset"].includes(e.type)||el(e,"select")||el(e,"textarea")||e.getAttribute("contenteditable")==="true")}var tj="(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11})",aF=new RegExp("^(?:".concat(tj,")$")),lF=new RegExp(tj),nj="\\d{3}-?\\d{2}-?\\d{4}",cF=new RegExp("^(".concat(nj,")$")),uF=new RegExp("(".concat(nj,")"));function nd(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return!(wn(e)||ri(e)&&(e=Z0(e),(t?aF:lF).test((e||"").replace(/[- ]/g,""))||(t?cF:uF).test(e)))}function rj(e){var t=nv(e);return nd(t="".concat(t," ").concat(ij(e)).trim())?t:""}function ij(e){var t="";return e&&e.childNodes&&e.childNodes.length&&mn(e.childNodes,function(n){var r;if(n&&((r=n.tagName)===null||r===void 0?void 0:r.toLowerCase())==="span")try{var i=nv(n);t="".concat(t," ").concat(i).trim(),n.childNodes&&n.childNodes.length&&(t="".concat(t," ").concat(ij(n)).trim())}catch(s){Ae.error(s)}}),t}function dF(e){return function(t){var n=t.map(r=>{var i,s,o="";if(r.tag_name&&(o+=r.tag_name),r.attr_class)for(var l of(r.attr_class.sort(),r.attr_class))o+=".".concat(l.replace(/"/g,""));var d=Ie(Ie(Ie(Ie({},r.text?{text:r.text}:{}),{},{"nth-child":(i=r.nth_child)!==null&&i!==void 0?i:0,"nth-of-type":(s=r.nth_of_type)!==null&&s!==void 0?s:0},r.href?{href:r.href}:{}),r.attr_id?{attr_id:r.attr_id}:{}),r.attributes),c={};return _m(d).sort((h,f)=>{var[m]=h,[v]=f;return m.localeCompare(v)}).forEach(h=>{var[f,m]=h;return c[e2(f.toString())]=e2(m.toString())}),o+=":",o+=_m(d).map(h=>{var[f,m]=h;return"".concat(f,'="').concat(m,'"')}).join("")});return n.join(";")}(function(t){return t.map(n=>{var r,i,s={text:(r=n.$el_text)===null||r===void 0?void 0:r.slice(0,400),tag_name:n.tag_name,href:(i=n.attr__href)===null||i===void 0?void 0:i.slice(0,2048),attr_class:fF(n),attr_id:n.attr__id,nth_child:n.nth_child,nth_of_type:n.nth_of_type,attributes:{}};return _m(n).filter(o=>{var[l]=o;return l.indexOf("attr__")===0}).forEach(o=>{var[l,d]=o;return s.attributes[l]=d}),s})}(e))}function e2(e){return e.replace(/"|\\"/g,'\\"')}function fF(e){var t=e.attr__class;return t?or(t)?t:zS(t):void 0}var Kb="[SessionRecording]",Yb="redacted",bg={initiatorTypes:["audio","beacon","body","css","early-hint","embed","fetch","frame","iframe","icon","image","img","input","link","navigation","object","ping","script","track","video","xmlhttprequest"],maskRequestFn:e=>e,recordHeaders:!1,recordBody:!1,recordInitialRequests:!1,recordPerformance:!1,performanceEntryTypeToObserve:["first-input","navigation","paint","resource"],payloadSizeLimitBytes:1e6,payloadHostDenyList:[".lr-ingest.io",".ingest.sentry.io"]},hF=["authorization","x-forwarded-for","authorization","cookie","set-cookie","x-api-key","x-real-ip","remote-addr","forwarded","proxy-authorization","x-csrf-token","x-csrftoken","x-xsrf-token"],pF=["password","secret","passwd","api_key","apikey","auth","credentials","mysql_pwd","privatekey","private_key","token"],gF=["/s/","/e/","/i/"];function t2(e,t,n,r){if(wn(e))return e;var i=(t==null?void 0:t["content-length"])||function(s){return new Blob([s]).size}(e);return ri(i)&&(i=parseInt(i)),i>n?Kb+" ".concat(r," body too large to record (").concat(i," bytes)"):e}function n2(e,t){if(wn(e))return e;var n=e;return nd(n,!1)||(n=Kb+" "+t+" body "+Yb),mn(pF,r=>{var i,s;(i=n)!==null&&i!==void 0&&i.length&&((s=n)===null||s===void 0?void 0:s.indexOf(r))!==-1&&(n=Kb+" "+t+" body "+Yb+" as might contain: "+r)}),n}var mF=(e,t)=>{var n,r,i,s={payloadSizeLimitBytes:bg.payloadSizeLimitBytes,performanceEntryTypeToObserve:[...bg.performanceEntryTypeToObserve],payloadHostDenyList:[...t.payloadHostDenyList||[],...bg.payloadHostDenyList]},o=e.session_recording.recordHeaders!==!1&&t.recordHeaders,l=e.session_recording.recordBody!==!1&&t.recordBody,d=e.capture_performance!==!1&&t.recordPerformance,c=(n=s,i=Math.min(1e6,(r=n.payloadSizeLimitBytes)!==null&&r!==void 0?r:1e6),m=>(m!=null&&m.requestBody&&(m.requestBody=t2(m.requestBody,m.requestHeaders,i,"Request")),m!=null&&m.responseBody&&(m.responseBody=t2(m.responseBody,m.responseHeaders,i,"Response")),m)),h=m=>{return c(((b,x)=>{var E,I=$u(b.name),P=x.indexOf("http")===0?(E=$u(x))===null||E===void 0?void 0:E.pathname:x;P==="/"&&(P="");var T=I==null?void 0:I.pathname.replace(P||"","");if(!(I&&T&&gF.some(w=>T.indexOf(w)===0)))return b})((A=(v=m).requestHeaders,wn(A)||mn(Object.keys(A??{}),b=>{hF.includes(b.toLowerCase())&&(A[b]=Yb)}),v),e.api_host));var v,A},f=ws(e.session_recording.maskNetworkRequestFn);return f&&ws(e.session_recording.maskCapturedNetworkRequestFn)&&Ae.warn("Both `maskNetworkRequestFn` and `maskCapturedNetworkRequestFn` are defined. `maskNetworkRequestFn` will be ignored."),f&&(e.session_recording.maskCapturedNetworkRequestFn=m=>{var v=e.session_recording.maskNetworkRequestFn({url:m.name});return Ie(Ie({},m),{},{name:v==null?void 0:v.url})}),s.maskRequestFn=ws(e.session_recording.maskCapturedNetworkRequestFn)?m=>{var v,A,b,x=h(m);return x&&(v=(A=(b=e.session_recording).maskCapturedNetworkRequestFn)===null||A===void 0?void 0:A.call(b,x))!==null&&v!==void 0?v:void 0}:m=>function(v){if(!tt(v))return v.requestBody=n2(v.requestBody,"Request"),v.responseBody=n2(v.responseBody,"Response"),v}(h(m)),Ie(Ie(Ie({},bg),s),{},{recordHeaders:o,recordBody:l,recordPerformance:d,recordInitialRequests:d})};function Co(e,t,n,r,i){return t>n&&(Ae.warn("min cannot be greater than max."),t=n),Ki(e)?e>n?(r&&Ae.warn(r+" cannot be  greater than max: "+n+". Using max value instead."),n):e<t?(r&&Ae.warn(r+" cannot be less than min: "+t+". Using min value instead."),t):e:(r&&Ae.warn(r+" must be a number. using max or fallback. max: "+n+", fallback: "+i),Co(i||n,t,n,r))}class vF{constructor(t){var n,r,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};$e(this,"bucketSize",100),$e(this,"refillRate",10),$e(this,"mutationBuckets",{}),$e(this,"loggedTracker",{}),$e(this,"refillBuckets",()=>{Object.keys(this.mutationBuckets).forEach(s=>{this.mutationBuckets[s]=this.mutationBuckets[s]+this.refillRate,this.mutationBuckets[s]>=this.bucketSize&&delete this.mutationBuckets[s]})}),$e(this,"getNodeOrRelevantParent",s=>{var o=this.rrweb.mirror.getNode(s);if((o==null?void 0:o.nodeName)!=="svg"&&o instanceof Element){var l=o.closest("svg");if(l)return[this.rrweb.mirror.getId(l),l]}return[s,o]}),$e(this,"numberOfChanges",s=>{var o,l,d,c,h,f,m,v;return((o=(l=s.removes)===null||l===void 0?void 0:l.length)!==null&&o!==void 0?o:0)+((d=(c=s.attributes)===null||c===void 0?void 0:c.length)!==null&&d!==void 0?d:0)+((h=(f=s.texts)===null||f===void 0?void 0:f.length)!==null&&h!==void 0?h:0)+((m=(v=s.adds)===null||v===void 0?void 0:v.length)!==null&&m!==void 0?m:0)}),$e(this,"throttleMutations",s=>{if(s.type!==3||s.data.source!==0)return s;var o=s.data,l=this.numberOfChanges(o);o.attributes&&(o.attributes=o.attributes.filter(c=>{var h,f,m,[v,A]=this.getNodeOrRelevantParent(c.id);return this.mutationBuckets[v]===0?!1:(this.mutationBuckets[v]=(h=this.mutationBuckets[v])!==null&&h!==void 0?h:this.bucketSize,this.mutationBuckets[v]=Math.max(this.mutationBuckets[v]-1,0),this.mutationBuckets[v]===0&&(this.loggedTracker[v]||(this.loggedTracker[v]=!0,(f=(m=this.options).onBlockedNode)===null||f===void 0||f.call(m,v,A))),c)}));var d=this.numberOfChanges(o);return d!==0||l===d?s:void 0}),this.rrweb=t,this.options=i,this.refillRate=Co((n=this.options.refillRate)!==null&&n!==void 0?n:this.refillRate,0,100,"mutation throttling refill rate"),this.bucketSize=Co((r=this.options.bucketSize)!==null&&r!==void 0?r:this.bucketSize,0,100,"mutation throttling bucket size"),setInterval(()=>{this.refillBuckets()},1e3)}}var ks=Uint8Array,Vi=Uint16Array,rd=Uint32Array,US=new ks([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),HS=new ks([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),r2=new ks([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),sj=function(e,t){for(var n=new Vi(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];var i=new rd(n[30]);for(r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return[n,i]},oj=sj(US,2),yF=oj[0],Qb=oj[1];yF[28]=258,Qb[258]=28;for(var i2=sj(HS,0)[1],aj=new Vi(32768),Rn=0;Rn<32768;++Rn){var Nl=(43690&Rn)>>>1|(21845&Rn)<<1;Nl=(61680&(Nl=(52428&Nl)>>>2|(13107&Nl)<<2))>>>4|(3855&Nl)<<4,aj[Rn]=((65280&Nl)>>>8|(255&Nl)<<8)>>>1}var eh=function(e,t,n){for(var r=e.length,i=0,s=new Vi(t);i<r;++i)++s[e[i]-1];var o,l=new Vi(t);for(i=0;i<t;++i)l[i]=l[i-1]+s[i-1]<<1;for(o=new Vi(r),i=0;i<r;++i)o[i]=aj[l[e[i]-1]++]>>>15-e[i];return o},pc=new ks(288);for(Rn=0;Rn<144;++Rn)pc[Rn]=8;for(Rn=144;Rn<256;++Rn)pc[Rn]=9;for(Rn=256;Rn<280;++Rn)pc[Rn]=7;for(Rn=280;Rn<288;++Rn)pc[Rn]=8;var a0=new ks(32);for(Rn=0;Rn<32;++Rn)a0[Rn]=5;var AF=eh(pc,9),bF=eh(a0,5),lj=function(e){return(e/8>>0)+(7&e&&1)},cj=function(e,t,n){(n==null||n>e.length)&&(n=e.length);var r=new(e instanceof Vi?Vi:e instanceof rd?rd:ks)(n-t);return r.set(e.subarray(t,n)),r},Go=function(e,t,n){n<<=7&t;var r=t/8>>0;e[r]|=n,e[r+1]|=n>>>8},Sf=function(e,t,n){n<<=7&t;var r=t/8>>0;e[r]|=n,e[r+1]|=n>>>8,e[r+2]|=n>>>16},qA=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var i=n.length,s=n.slice();if(!i)return[new ks(0),0];if(i==1){var o=new ks(n[0].s+1);return o[n[0].s]=1,[o,1]}n.sort(function(w,R){return w.f-R.f}),n.push({s:-1,f:25001});var l=n[0],d=n[1],c=0,h=1,f=2;for(n[0]={s:-1,f:l.f+d.f,l,r:d};h!=i-1;)l=n[n[c].f<n[f].f?c++:f++],d=n[c!=h&&n[c].f<n[f].f?c++:f++],n[h++]={s:-1,f:l.f+d.f,l,r:d};var m=s[0].s;for(r=1;r<i;++r)s[r].s>m&&(m=s[r].s);var v=new Vi(m+1),A=Jb(n[h-1],v,0);if(A>t){r=0;var b=0,x=A-t,E=1<<x;for(s.sort(function(w,R){return v[R.s]-v[w.s]||w.f-R.f});r<i;++r){var I=s[r].s;if(!(v[I]>t))break;b+=E-(1<<A-v[I]),v[I]=t}for(b>>>=x;b>0;){var P=s[r].s;v[P]<t?b-=1<<t-v[P]++-1:++r}for(;r>=0&&b;--r){var T=s[r].s;v[T]==t&&(--v[T],++b)}A=t}return[new ks(v),A]},Jb=function(e,t,n){return e.s==-1?Math.max(Jb(e.l,t,n+1),Jb(e.r,t,n+1)):t[e.s]=n},s2=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new Vi(++t),r=0,i=e[0],s=1,o=function(d){n[r++]=d},l=1;l<=t;++l)if(e[l]==i&&l!=t)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=e[l]}return[n.subarray(0,r),t]},xf=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},Xb=function(e,t,n){var r=n.length,i=lj(t+2);e[i]=255&r,e[i+1]=r>>>8,e[i+2]=255^e[i],e[i+3]=255^e[i+1];for(var s=0;s<r;++s)e[i+s+4]=n[s];return 8*(i+4+r)},o2=function(e,t,n,r,i,s,o,l,d,c,h){Go(t,h++,n),++i[256];for(var f=qA(i,15),m=f[0],v=f[1],A=qA(s,15),b=A[0],x=A[1],E=s2(m),I=E[0],P=E[1],T=s2(b),w=T[0],R=T[1],j=new Vi(19),V=0;V<I.length;++V)j[31&I[V]]++;for(V=0;V<w.length;++V)j[31&w[V]]++;for(var N=qA(j,7),k=N[0],B=N[1],H=19;H>4&&!k[r2[H-1]];--H);var F,U,D,L,Y=c+5<<3,q=xf(i,pc)+xf(s,a0)+o,Q=xf(i,m)+xf(s,b)+o+14+3*H+xf(j,k)+(2*j[16]+3*j[17]+7*j[18]);if(Y<=q&&Y<=Q)return Xb(t,h,e.subarray(d,d+c));if(Go(t,h,1+(Q<q)),h+=2,Q<q){F=eh(m,v),U=m,D=eh(b,x),L=b;var M=eh(k,B);for(Go(t,h,P-257),Go(t,h+5,R-1),Go(t,h+10,H-4),h+=14,V=0;V<H;++V)Go(t,h+3*V,k[r2[V]]);h+=3*H;for(var z=[I,w],J=0;J<2;++J){var ae=z[J];for(V=0;V<ae.length;++V){var W=31&ae[V];Go(t,h,M[W]),h+=k[W],W>15&&(Go(t,h,ae[V]>>>5&127),h+=ae[V]>>>12)}}}else F=AF,U=pc,D=bF,L=a0;for(V=0;V<l;++V)if(r[V]>255){W=r[V]>>>18&31,Sf(t,h,F[W+257]),h+=U[W+257],W>7&&(Go(t,h,r[V]>>>23&31),h+=US[W]);var ye=31&r[V];Sf(t,h,D[ye]),h+=L[ye],ye>3&&(Sf(t,h,r[V]>>>5&8191),h+=HS[ye])}else Sf(t,h,F[r[V]]),h+=U[r[V]];return Sf(t,h,F[256]),h+U[256]},_F=new rd([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),SF=function(){for(var e=new rd(256),t=0;t<256;++t){for(var n=t,r=9;--r;)n=(1&n&&3988292384)^n>>>1;e[t]=n}return e}(),xF=function(){var e=4294967295;return{p:function(t){for(var n=e,r=0;r<t.length;++r)n=SF[255&n^t[r]]^n>>>8;e=n},d:function(){return 4294967295^e}}},wF=function(e,t,n,r,i){return function(s,o,l,d,c,h){var f=s.length,m=new ks(d+f+5*(1+Math.floor(f/7e3))+c),v=m.subarray(d,m.length-c),A=0;if(!o||f<8)for(var b=0;b<=f;b+=65535){var x=b+65535;x<f?A=Xb(v,A,s.subarray(b,x)):(v[b]=h,A=Xb(v,A,s.subarray(b,f)))}else{for(var E=_F[o-1],I=E>>>13,P=8191&E,T=(1<<l)-1,w=new Vi(32768),R=new Vi(T+1),j=Math.ceil(l/3),V=2*j,N=function(vt){return(s[vt]^s[vt+1]<<j^s[vt+2]<<V)&T},k=new rd(25e3),B=new Vi(288),H=new Vi(32),F=0,U=0,D=(b=0,0),L=0,Y=0;b<f;++b){var q=N(b),Q=32767&b,M=R[q];if(w[Q]=M,R[q]=Q,L<=b){var z=f-b;if((F>7e3||D>24576)&&z>423){A=o2(s,v,0,k,B,H,U,D,Y,b-Y,A),D=F=U=0,Y=b;for(var J=0;J<286;++J)B[J]=0;for(J=0;J<30;++J)H[J]=0}var ae=2,W=0,ye=P,le=Q-M&32767;if(z>2&&q==N(b-le))for(var me=Math.min(I,z)-1,xe=Math.min(32767,b),Re=Math.min(258,z);le<=xe&&--ye&&Q!=M;){if(s[b+ae]==s[b+ae-le]){for(var be=0;be<Re&&s[b+be]==s[b+be-le];++be);if(be>ae){if(ae=be,W=le,be>me)break;var Oe=Math.min(le,be-2),Ze=0;for(J=0;J<Oe;++J){var Ue=b-le+J+32768&32767,Le=Ue-w[Ue]+32768&32767;Le>Ze&&(Ze=Le,M=Ue)}}}le+=(Q=M)-(M=w[Q])+32768&32767}if(W){k[D++]=268435456|Qb[ae]<<18|i2[W];var je=31&Qb[ae],mt=31&i2[W];U+=US[je]+HS[mt],++B[257+je],++H[mt],L=b+ae,++F}else k[D++]=s[b],++B[s[b]]}}A=o2(s,v,h,k,B,H,U,D,Y,b-Y,A)}return cj(m,0,d+lj(A)+c)}(e,t.level==null?6:t.level,t.mem==null?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):12+t.mem,n,r,!i)},Zb=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},EF=function(e,t){var n=t.filename;if(e[0]=31,e[1]=139,e[2]=8,e[8]=t.level<2?4:t.level==9?2:0,e[9]=3,t.mtime!=0&&Zb(e,4,Math.floor(new Date(t.mtime||Date.now())/1e3)),n){e[3]=8;for(var r=0;r<=n.length;++r)e[r+10]=n.charCodeAt(r)}},CF=function(e){return 10+(e.filename&&e.filename.length+1||0)};function uj(e,t){t===void 0&&(t={});var n=xF(),r=e.length;n.p(e);var i=wF(e,t,CF(t),8),s=i.length;return EF(i,t),Zb(i,s-8,n.d()),Zb(i,s-4,r),i}function dj(e,t){var n=e.length;if(typeof TextEncoder<"u")return new TextEncoder().encode(e);for(var r=new ks(e.length+(e.length>>>1)),i=0,s=function(c){r[i++]=c},o=0;o<n;++o){if(i+5>r.length){var l=new ks(i+8+(n-o<<1));l.set(r),r=l}var d=e.charCodeAt(o);d<128||t?s(d):d<2048?(s(192|d>>>6),s(128|63&d)):d>55295&&d<57344?(s(240|(d=65536+(1047552&d)|1023&e.charCodeAt(++o))>>>18),s(128|d>>>12&63),s(128|d>>>6&63),s(128|63&d)):(s(224|d>>>12),s(128|d>>>6&63),s(128|63&d))}return cj(r,0,i)}var kF=3e5,TF=[Ws.MouseMove,Ws.MouseInteraction,Ws.Scroll,Ws.ViewportResize,Ws.Input,Ws.TouchMove,Ws.MediaInteraction,Ws.Drag],a2=e=>({rrwebMethod:e,enqueuedAt:Date.now(),attempt:1}),$r="[SessionRecording]";function Bl(e){return function(t,n){for(var r="",i=0;i<t.length;){var s=t[i++];s<128||n?r+=String.fromCharCode(s):s<224?r+=String.fromCharCode((31&s)<<6|63&t[i++]):s<240?r+=String.fromCharCode((15&s)<<12|(63&t[i++])<<6|63&t[i++]):(s=((15&s)<<18|(63&t[i++])<<12|(63&t[i++])<<6|63&t[i++])-65536,r+=String.fromCharCode(55296|s>>10,56320|1023&s))}return r}(uj(dj(JSON.stringify(e))),!0)}function l2(e){return e.type===Xo.Custom&&e.data.tag==="sessionIdle"}function c2(e,t){return t.some(n=>n.matching==="regex"&&new RegExp(n.url).test(e))}class IF{get sessionIdleThresholdMilliseconds(){return this.instance.config.session_recording.session_idle_threshold_ms||3e5}get rrwebRecord(){var t,n;return kt==null||(t=kt.__PosthogExtensions__)===null||t===void 0||(n=t.rrweb)===null||n===void 0?void 0:n.record}get started(){return this._captureStarted}get sessionManager(){if(!this.instance.sessionManager)throw new Error($r+" must be started with a valid sessionManager.");return this.instance.sessionManager}get fullSnapshotIntervalMillis(){var t,n;return this.triggerStatus==="trigger_pending"?6e4:(t=(n=this.instance.config.session_recording)===null||n===void 0?void 0:n.full_snapshot_interval_millis)!==null&&t!==void 0?t:kF}get isSampled(){var t=this.instance.get_property(zf);return Zl(t)?t:null}get sessionDuration(){var t,n,r=(t=this.buffer)===null||t===void 0?void 0:t.data[((n=this.buffer)===null||n===void 0?void 0:n.data.length)-1],{sessionStartTimestamp:i}=this.sessionManager.checkAndGetSessionAndWindowId(!0);return r?r.timestamp-i:null}get isRecordingEnabled(){var t=!!this.instance.get_property(Ob),n=!this.instance.config.disable_session_recording;return ue&&t&&n}get isConsoleLogCaptureEnabled(){var t=!!this.instance.get_property(Bk),n=this.instance.config.enable_recording_console_log;return n??t}get canvasRecording(){var t,n,r,i,s,o,l=this.instance.config.session_recording.captureCanvas,d=this.instance.get_property(Fk),c=(t=(n=l==null?void 0:l.recordCanvas)!==null&&n!==void 0?n:d==null?void 0:d.enabled)!==null&&t!==void 0&&t,h=(r=(i=l==null?void 0:l.canvasFps)!==null&&i!==void 0?i:d==null?void 0:d.fps)!==null&&r!==void 0?r:0,f=(s=(o=l==null?void 0:l.canvasQuality)!==null&&o!==void 0?o:d==null?void 0:d.quality)!==null&&s!==void 0?s:0;return{enabled:c,fps:Co(h,0,12,"canvas recording fps"),quality:Co(f,0,1,"canvas recording quality")}}get networkPayloadCapture(){var t,n,r=this.instance.get_property(Dk),i={recordHeaders:(t=this.instance.config.session_recording)===null||t===void 0?void 0:t.recordHeaders,recordBody:(n=this.instance.config.session_recording)===null||n===void 0?void 0:n.recordBody},s=(i==null?void 0:i.recordHeaders)||(r==null?void 0:r.recordHeaders),o=(i==null?void 0:i.recordBody)||(r==null?void 0:r.recordBody),l=yr(this.instance.config.capture_performance)?this.instance.config.capture_performance.network_timing:this.instance.config.capture_performance,d=!!(Zl(l)?l:r!=null&&r.capturePerformance);return s||o||d?{recordHeaders:s,recordBody:o,recordPerformance:d}:void 0}get sampleRate(){var t=this.instance.get_property($k);return Ki(t)?t:null}get minimumDuration(){var t=this.instance.get_property(zk);return Ki(t)?t:null}get status(){return this.receivedDecide?this.isRecordingEnabled?this._urlBlocked?"paused":wn(this._linkedFlag)||this._linkedFlagSeen?this.triggerStatus==="trigger_pending"?"buffering":Zl(this.isSampled)?this.isSampled?"sampled":"disabled":"active":"buffering":"disabled":"buffering"}get urlTriggerStatus(){var t;return this._urlTriggers.length===0?"trigger_disabled":((t=this.instance)===null||t===void 0?void 0:t.get_property(FA))===this.sessionId?"trigger_activated":"trigger_pending"}get eventTriggerStatus(){var t;return this._eventTriggers.length===0?"trigger_disabled":((t=this.instance)===null||t===void 0?void 0:t.get_property($A))===this.sessionId?"trigger_activated":"trigger_pending"}get triggerStatus(){var t=this.eventTriggerStatus==="trigger_activated"||this.urlTriggerStatus==="trigger_activated",n=this.eventTriggerStatus==="trigger_pending"||this.urlTriggerStatus==="trigger_pending";return t?"trigger_activated":n?"trigger_pending":"trigger_disabled"}constructor(t){if($e(this,"queuedRRWebEvents",[]),$e(this,"isIdle",!1),$e(this,"_linkedFlagSeen",!1),$e(this,"_lastActivityTimestamp",Date.now()),$e(this,"_linkedFlag",null),$e(this,"_removePageViewCaptureHook",void 0),$e(this,"_onSessionIdListener",void 0),$e(this,"_persistDecideOnSessionListener",void 0),$e(this,"_samplingSessionListener",void 0),$e(this,"_urlTriggers",[]),$e(this,"_urlBlocklist",[]),$e(this,"_urlBlocked",!1),$e(this,"_eventTriggers",[]),$e(this,"_removeEventTriggerCaptureHook",void 0),$e(this,"_forceAllowLocalhostNetworkCapture",!1),$e(this,"_onBeforeUnload",()=>{this._flushBuffer()}),$e(this,"_onOffline",()=>{this._tryAddCustomEvent("browser offline",{})}),$e(this,"_onOnline",()=>{this._tryAddCustomEvent("browser online",{})}),$e(this,"_onVisibilityChange",()=>{if(He!=null&&He.visibilityState){var i="window "+He.visibilityState;this._tryAddCustomEvent(i,{})}}),this.instance=t,this._captureStarted=!1,this._endpoint="/s/",this.stopRrweb=void 0,this.receivedDecide=!1,!this.instance.sessionManager)throw Ae.error($r+" started without valid sessionManager"),new Error($r+" started without valid sessionManager. This is a bug.");var{sessionId:n,windowId:r}=this.sessionManager.checkAndGetSessionAndWindowId();this.sessionId=n,this.windowId=r,this.buffer=this.clearBuffer(),this.sessionIdleThresholdMilliseconds>=this.sessionManager.sessionTimeoutMs&&Ae.warn($r+" session_idle_threshold_ms (".concat(this.sessionIdleThresholdMilliseconds,") is greater than the session timeout (").concat(this.sessionManager.sessionTimeoutMs,"). Session will never be detected as idle"))}startIfEnabledOrStop(t){this.isRecordingEnabled?(this._startCapture(t),ue==null||ue.addEventListener("beforeunload",this._onBeforeUnload),ue==null||ue.addEventListener("offline",this._onOffline),ue==null||ue.addEventListener("online",this._onOnline),ue==null||ue.addEventListener("visibilitychange",this._onVisibilityChange),this._setupSampling(),this._addEventTriggerListener(),wn(this._removePageViewCaptureHook)&&(this._removePageViewCaptureHook=this.instance.on("eventCaptured",n=>{try{if(n.event==="$pageview"){var r=n!=null&&n.properties.$current_url?this._maskUrl(n==null?void 0:n.properties.$current_url):"";if(!r)return;this._tryAddCustomEvent("$pageview",{href:r})}}catch(i){Ae.error("Could not add $pageview to rrweb session",i)}})),this._onSessionIdListener||(this._onSessionIdListener=this.sessionManager.onSessionId((n,r,i)=>{var s,o,l,d;i&&(this._tryAddCustomEvent("$session_id_change",{sessionId:n,windowId:r,changeReason:i}),(s=this.instance)===null||s===void 0||(o=s.persistence)===null||o===void 0||o.unregister($A),(l=this.instance)===null||l===void 0||(d=l.persistence)===null||d===void 0||d.unregister(FA))}))):this.stopRecording()}stopRecording(){var t,n,r,i;this._captureStarted&&this.stopRrweb&&(this.stopRrweb(),this.stopRrweb=void 0,this._captureStarted=!1,ue==null||ue.removeEventListener("beforeunload",this._onBeforeUnload),ue==null||ue.removeEventListener("offline",this._onOffline),ue==null||ue.removeEventListener("online",this._onOnline),ue==null||ue.removeEventListener("visibilitychange",this._onVisibilityChange),this.clearBuffer(),clearInterval(this._fullSnapshotTimer),(t=this._removePageViewCaptureHook)===null||t===void 0||t.call(this),this._removePageViewCaptureHook=void 0,(n=this._removeEventTriggerCaptureHook)===null||n===void 0||n.call(this),this._removeEventTriggerCaptureHook=void 0,(r=this._onSessionIdListener)===null||r===void 0||r.call(this),this._onSessionIdListener=void 0,(i=this._samplingSessionListener)===null||i===void 0||i.call(this),this._samplingSessionListener=void 0,Ae.info($r+" stopped"))}makeSamplingDecision(t){var n,r=this.sessionId!==t,i=this.sampleRate;if(Ki(i)){var s,o=this.isSampled,l=r||!Zl(o);l?s=Math.random()<i:s=o,l&&(s?this._reportStarted("sampled"):Ae.warn($r+" Sample rate (".concat(i,") has determined that this sessionId (").concat(t,") will not be sent to the server.")),this._tryAddCustomEvent("samplingDecisionMade",{sampleRate:i,isSampled:s})),(n=this.instance.persistence)===null||n===void 0||n.register({[zf]:s})}else{var d;(d=this.instance.persistence)===null||d===void 0||d.register({[zf]:null})}}afterDecideResponse(t){var n,r,i,s,o,l;if(this._persistDecideResponse(t),this._linkedFlag=((n=t.sessionRecording)===null||n===void 0?void 0:n.linkedFlag)||null,(r=t.sessionRecording)!==null&&r!==void 0&&r.endpoint&&(this._endpoint=(l=t.sessionRecording)===null||l===void 0?void 0:l.endpoint),this._setupSampling(),!wn(this._linkedFlag)&&!this._linkedFlagSeen){var d=ri(this._linkedFlag)?this._linkedFlag:this._linkedFlag.flag,c=ri(this._linkedFlag)?null:this._linkedFlag.variant;this.instance.onFeatureFlags((h,f)=>{var m=yr(f)&&d in f,v=c?f[d]===c:m;v&&this._reportStarted("linked_flag_matched",{linkedFlag:d,linkedVariant:c}),this._linkedFlagSeen=v})}(i=t.sessionRecording)!==null&&i!==void 0&&i.urlTriggers&&(this._urlTriggers=t.sessionRecording.urlTriggers),(s=t.sessionRecording)!==null&&s!==void 0&&s.urlBlocklist&&(this._urlBlocklist=t.sessionRecording.urlBlocklist),(o=t.sessionRecording)!==null&&o!==void 0&&o.eventTriggers&&(this._eventTriggers=t.sessionRecording.eventTriggers),this.receivedDecide=!0,this.startIfEnabledOrStop()}_setupSampling(){Ki(this.sampleRate)&&wn(this._samplingSessionListener)&&(this._samplingSessionListener=this.sessionManager.onSessionId(t=>{this.makeSamplingDecision(t)}))}_persistDecideResponse(t){if(this.instance.persistence){var n,r=this.instance.persistence,i=()=>{var s,o,l,d,c,h,f,m,v=(s=t.sessionRecording)===null||s===void 0?void 0:s.sampleRate,A=wn(v)?null:parseFloat(v),b=(o=t.sessionRecording)===null||o===void 0?void 0:o.minimumDurationMilliseconds;r.register({[Ob]:!!t.sessionRecording,[Bk]:(l=t.sessionRecording)===null||l===void 0?void 0:l.consoleLogRecordingEnabled,[Dk]:Ie({capturePerformance:t.capturePerformance},(d=t.sessionRecording)===null||d===void 0?void 0:d.networkPayloadCapture),[Fk]:{enabled:(c=t.sessionRecording)===null||c===void 0?void 0:c.recordCanvas,fps:(h=t.sessionRecording)===null||h===void 0?void 0:h.canvasFps,quality:(f=t.sessionRecording)===null||f===void 0?void 0:f.canvasQuality},[$k]:A,[zk]:tt(b)?null:b,[Uk]:(m=t.sessionRecording)===null||m===void 0?void 0:m.scriptConfig})};i(),(n=this._persistDecideOnSessionListener)===null||n===void 0||n.call(this),this._persistDecideOnSessionListener=this.sessionManager.onSessionId(i)}}log(t){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"log";(n=this.instance.sessionRecording)===null||n===void 0||n.onRRwebEmit({type:6,data:{plugin:"rrweb/console@1",payload:{level:r,trace:[],payload:[JSON.stringify(t)]}},timestamp:Date.now()})}_startCapture(t){if(!tt(Object.assign)&&!tt(Array.from)&&!(this._captureStarted||this.instance.config.disable_session_recording||this.instance.consent.isOptedOut())){var n,r;this._captureStarted=!0,this.sessionManager.checkAndGetSessionAndWindowId(),this.rrwebRecord?this._onScriptLoaded():(n=kt.__PosthogExtensions__)===null||n===void 0||(r=n.loadExternalDependency)===null||r===void 0||r.call(n,this.instance,this.scriptName,i=>{if(i)return Ae.error($r+" could not load recorder",i);this._onScriptLoaded()}),Ae.info($r+" starting"),this.status==="active"&&this._reportStarted(t||"recording_initialized")}}get scriptName(){var t,n,r;return((t=this.instance)===null||t===void 0||(n=t.persistence)===null||n===void 0||(r=n.get_property(Uk))===null||r===void 0?void 0:r.script)||"recorder"}isInteractiveEvent(t){var n;return t.type===3&&TF.indexOf((n=t.data)===null||n===void 0?void 0:n.source)!==-1}_updateWindowAndSessionIds(t){var n=this.isInteractiveEvent(t);n||this.isIdle||t.timestamp-this._lastActivityTimestamp>this.sessionIdleThresholdMilliseconds&&(this.isIdle=!0,clearInterval(this._fullSnapshotTimer),this._tryAddCustomEvent("sessionIdle",{eventTimestamp:t.timestamp,lastActivityTimestamp:this._lastActivityTimestamp,threshold:this.sessionIdleThresholdMilliseconds,bufferLength:this.buffer.data.length,bufferSize:this.buffer.size}),this._flushBuffer());var r=!1;if(n&&(this._lastActivityTimestamp=t.timestamp,this.isIdle&&(this.isIdle=!1,this._tryAddCustomEvent("sessionNoLongerIdle",{reason:"user activity",type:t.type}),r=!0)),!this.isIdle){var{windowId:i,sessionId:s}=this.sessionManager.checkAndGetSessionAndWindowId(!n,t.timestamp),o=this.sessionId!==s,l=this.windowId!==i;this.windowId=i,this.sessionId=s,o||l?(this.stopRecording(),this.startIfEnabledOrStop("session_id_changed")):r&&this._scheduleFullSnapshot()}}_tryRRWebMethod(t){try{return t.rrwebMethod(),!0}catch(n){return this.queuedRRWebEvents.length<10?this.queuedRRWebEvents.push({enqueuedAt:t.enqueuedAt||Date.now(),attempt:t.attempt++,rrwebMethod:t.rrwebMethod}):Ae.warn($r+" could not emit queued rrweb event.",n,t),!1}}_tryAddCustomEvent(t,n){return this._tryRRWebMethod(a2(()=>this.rrwebRecord.addCustomEvent(t,n)))}_tryTakeFullSnapshot(){return this._tryRRWebMethod(a2(()=>this.rrwebRecord.takeFullSnapshot()))}_onScriptLoaded(){var t,n={blockClass:"ph-no-capture",blockSelector:void 0,ignoreClass:"ph-ignore-input",maskTextClass:"ph-mask",maskTextSelector:void 0,maskTextFn:void 0,maskAllInputs:!0,maskInputOptions:{password:!0},maskInputFn:void 0,slimDOMOptions:{},collectFonts:!1,inlineStylesheet:!0,recordCrossOriginIframes:!1},r=this.instance.config.session_recording;for(var[i,s]of Object.entries(r||{}))i in n&&(i==="maskInputOptions"?n.maskInputOptions=Ie({password:!0},s):n[i]=s);if(this.canvasRecording&&this.canvasRecording.enabled&&(n.recordCanvas=!0,n.sampling={canvas:this.canvasRecording.fps},n.dataURLOptions={type:"image/webp",quality:this.canvasRecording.quality}),this.rrwebRecord){this.mutationRateLimiter=(t=this.mutationRateLimiter)!==null&&t!==void 0?t:new vF(this.rrwebRecord,{refillRate:this.instance.config.session_recording.__mutationRateLimiterRefillRate,bucketSize:this.instance.config.session_recording.__mutationRateLimiterBucketSize,onBlockedNode:(l,d)=>{var c="Too many mutations on node '".concat(l,"'. Rate limiting. This could be due to SVG animations or something similar");Ae.info(c,{node:d}),this.log($r+" "+c,"warn")}});var o=this._gatherRRWebPlugins();this.stopRrweb=this.rrwebRecord(Ie({emit:l=>{this.onRRwebEmit(l)},plugins:o},n)),this._lastActivityTimestamp=Date.now(),this.isIdle=!1,this._tryAddCustomEvent("$session_options",{sessionRecordingOptions:n,activePlugins:o.map(l=>l==null?void 0:l.name)}),this._tryAddCustomEvent("$posthog_config",{config:this.instance.config})}else Ae.error($r+"onScriptLoaded was called but rrwebRecord is not available. This indicates something has gone wrong.")}_scheduleFullSnapshot(){if(this._fullSnapshotTimer&&clearInterval(this._fullSnapshotTimer),!this.isIdle){var t=this.fullSnapshotIntervalMillis;t&&(this._fullSnapshotTimer=setInterval(()=>{this._tryTakeFullSnapshot()},t))}}_gatherRRWebPlugins(){var t,n,r,i,s=[],o=(t=kt.__PosthogExtensions__)===null||t===void 0||(n=t.rrwebPlugins)===null||n===void 0?void 0:n.getRecordConsolePlugin;o&&this.isConsoleLogCaptureEnabled&&s.push(o());var l=(r=kt.__PosthogExtensions__)===null||r===void 0||(i=r.rrwebPlugins)===null||i===void 0?void 0:i.getRecordNetworkPlugin;return this.networkPayloadCapture&&ws(l)&&(!WD.includes(location.hostname)||this._forceAllowLocalhostNetworkCapture?s.push(l(mF(this.instance.config,this.networkPayloadCapture))):Ae.info($r+" NetworkCapture not started because we are on localhost.")),s}onRRwebEmit(t){var n;if(this._processQueuedEvents(),t&&yr(t)){if(t.type===Xo.Meta){var r=this._maskUrl(t.data.href);if(this._lastHref=r,!r)return;t.data.href=r}else this._pageViewFallBack();if(this._checkUrlTriggerConditions(),this.status!=="paused"||function(f){return f.type===Xo.Custom&&f.data.tag==="recording paused"}(t)){t.type===Xo.FullSnapshot&&this._scheduleFullSnapshot(),t.type===Xo.FullSnapshot&&this.triggerStatus==="trigger_pending"&&this.clearBuffer();var i=this.mutationRateLimiter?this.mutationRateLimiter.throttleMutations(t):t;if(i){var s=function(f){var m=f;if(m&&yr(m)&&m.type===6&&yr(m.data)&&m.data.plugin==="rrweb/console@1"){m.data.payload.payload.length>10&&(m.data.payload.payload=m.data.payload.payload.slice(0,10),m.data.payload.payload.push("...[truncated]"));for(var v=[],A=0;A<m.data.payload.payload.length;A++)m.data.payload.payload[A]&&m.data.payload.payload[A].length>2e3?v.push(m.data.payload.payload[A].slice(0,2e3)+"...[truncated]"):v.push(m.data.payload.payload[A]);return m.data.payload.payload=v,f}return f}(i);if(this._updateWindowAndSessionIds(s),!this.isIdle||l2(s)){if(l2(s)){var o=s.data.payload;if(o){var l=o.lastActivityTimestamp,d=o.threshold;s.timestamp=l+d}}var c=(n=this.instance.config.session_recording.compress_events)===null||n===void 0||n?function(f){if(s0(f)<1024)return f;try{if(f.type===Xo.FullSnapshot)return Ie(Ie({},f),{},{data:Bl(f.data),cv:"2024-10"});if(f.type===Xo.IncrementalSnapshot&&f.data.source===Ws.Mutation)return Ie(Ie({},f),{},{cv:"2024-10",data:Ie(Ie({},f.data),{},{texts:Bl(f.data.texts),attributes:Bl(f.data.attributes),removes:Bl(f.data.removes),adds:Bl(f.data.adds)})});if(f.type===Xo.IncrementalSnapshot&&f.data.source===Ws.StyleSheetRule)return Ie(Ie({},f),{},{cv:"2024-10",data:Ie(Ie({},f.data),{},{adds:Bl(f.data.adds),removes:Bl(f.data.removes)})})}catch(m){Ae.error($r+" could not compress event - will use uncompressed event",m)}return f}(s):s,h={$snapshot_bytes:s0(c),$snapshot_data:c,$session_id:this.sessionId,$window_id:this.windowId};this.status!=="disabled"?this._captureSnapshotBuffered(h):this.clearBuffer()}}}}}_pageViewFallBack(){if(!this.instance.config.capture_pageview&&ue){var t=this._maskUrl(ue.location.href);this._lastHref!==t&&(this._tryAddCustomEvent("$url_changed",{href:t}),this._lastHref=t)}}_processQueuedEvents(){if(this.queuedRRWebEvents.length){var t=[...this.queuedRRWebEvents];this.queuedRRWebEvents=[],t.forEach(n=>{Date.now()-n.enqueuedAt<=2e3&&this._tryRRWebMethod(n)})}}_maskUrl(t){var n=this.instance.config.session_recording;if(n.maskNetworkRequestFn){var r,i={url:t};return(r=i=n.maskNetworkRequestFn(i))===null||r===void 0?void 0:r.url}return t}clearBuffer(){return this.buffer={size:0,data:[],sessionId:this.sessionId,windowId:this.windowId},this.buffer}_flushBuffer(){this.flushBufferTimer&&(clearTimeout(this.flushBufferTimer),this.flushBufferTimer=void 0);var t=this.minimumDuration,n=this.sessionDuration,r=Ki(n)&&n>=0,i=Ki(t)&&r&&n<t;return this.status==="buffering"||i?(this.flushBufferTimer=setTimeout(()=>{this._flushBuffer()},2e3),this.buffer):(this.buffer.data.length>0&&Gb(this.buffer).forEach(s=>{this._captureSnapshot({$snapshot_bytes:s.size,$snapshot_data:s.data,$session_id:s.sessionId,$window_id:s.windowId})}),this.clearBuffer())}_captureSnapshotBuffered(t){var n,r=2+(((n=this.buffer)===null||n===void 0?void 0:n.data.length)||0);!this.isIdle&&(this.buffer.size+t.$snapshot_bytes+r>943718.4||this.buffer.sessionId!==this.sessionId)&&(this.buffer=this._flushBuffer()),this.buffer.size+=t.$snapshot_bytes,this.buffer.data.push(t.$snapshot_data),this.flushBufferTimer||this.isIdle||(this.flushBufferTimer=setTimeout(()=>{this._flushBuffer()},2e3))}_captureSnapshot(t){this.instance.capture("$snapshot",t,{_url:this.instance.requestRouter.endpointFor("api",this._endpoint),_noTruncate:!0,_batchKey:"recordings",skip_client_rate_limiting:!0})}_checkUrlTriggerConditions(){if(ue!==void 0&&ue.location.href){var t=ue.location.href,n=this.status==="paused",r=c2(t,this._urlBlocklist);r&&!n?this._pauseRecording():!r&&n&&this._resumeRecording(),c2(t,this._urlTriggers)&&this._activateTrigger("url")}}_activateTrigger(t){var n,r;this.triggerStatus==="trigger_pending"&&((n=this.instance)===null||n===void 0||(r=n.persistence)===null||r===void 0||r.register({[t==="url"?FA:$A]:this.sessionId}),this._flushBuffer(),this._reportStarted(t+"_trigger_matched"))}_pauseRecording(){var t,n;this.status!=="paused"&&(this._urlBlocked=!0,He==null||(t=He.body)===null||t===void 0||(n=t.classList)===null||n===void 0||n.add("ph-no-capture"),clearInterval(this._fullSnapshotTimer),setTimeout(()=>{this._flushBuffer()},100),Ae.info($r+" recording paused due to URL blocker"),this._tryAddCustomEvent("recording paused",{reason:"url blocker"}))}_resumeRecording(){var t,n;this.status==="paused"&&(this._urlBlocked=!1,He==null||(t=He.body)===null||t===void 0||(n=t.classList)===null||n===void 0||n.remove("ph-no-capture"),this._tryTakeFullSnapshot(),this._scheduleFullSnapshot(),this._tryAddCustomEvent("recording resumed",{reason:"left blocked url"}),Ae.info($r+" recording resumed"))}_addEventTriggerListener(){this._eventTriggers.length!==0&&wn(this._removeEventTriggerCaptureHook)&&(this._removeEventTriggerCaptureHook=this.instance.on("eventCaptured",t=>{try{this._eventTriggers.includes(t.event)&&this._activateTrigger("event")}catch(n){Ae.error($r+"Could not activate event trigger",n)}}))}overrideLinkedFlag(){this._linkedFlagSeen=!0,this._reportStarted("linked_flag_overridden")}overrideSampling(){var t;(t=this.instance.persistence)===null||t===void 0||t.register({[zf]:!0}),this._reportStarted("sampling_overridden")}overrideTrigger(t){this._activateTrigger(t)}_reportStarted(t,n){this.instance.register_for_session({$session_recording_start_reason:t}),Ae.info($r+" "+t.replace("_"," "),n),Vt(["recording_initialized","session_id_changed"],t)||this._tryAddCustomEvent(t,n)}}class RF{constructor(t){this.instance=t,this.instance.decideEndpointWasHit=this.instance._hasBootstrappedFeatureFlags()}call(){var t={token:this.instance.config.token,distinct_id:this.instance.get_distinct_id(),groups:this.instance.getGroups(),person_properties:this.instance.get_property(ju),group_properties:this.instance.get_property(Ha),disable_flags:this.instance.config.advanced_disable_feature_flags||this.instance.config.advanced_disable_feature_flags_on_first_load||void 0};this.instance._send_request({method:"POST",url:this.instance.requestRouter.endpointFor("api","/decide/?v=3"),data:t,compression:this.instance.config.disable_compression?void 0:Qs.Base64,timeout:this.instance.config.feature_flag_request_timeout_ms,callback:n=>this.parseDecideResponse(n.json)})}parseDecideResponse(t){this.instance.featureFlags.setReloadingPaused(!1),this.instance.featureFlags._startReloadTimer();var n=!t;if(this.instance.config.advanced_disable_feature_flags_on_first_load||this.instance.config.advanced_disable_feature_flags||this.instance.featureFlags.receivedFeatureFlags(t??{},n),!n)return He&&He.body?void this.instance._afterDecideResponse(t):(Ae.info("document not ready yet, trying again in 500 milliseconds..."),void setTimeout(()=>{this.parseDecideResponse(t)},500));Ae.error("Failed to fetch feature flags from PostHog.")}}var Zo,PF=ue!=null&&ue.location?r0(ue.location.hash,"__posthog")||r0(location.hash,"state"):null,u2="_postHogToolbarParams";(function(e){e[e.UNINITIALIZED=0]="UNINITIALIZED",e[e.LOADING=1]="LOADING",e[e.LOADED=2]="LOADED"})(Zo||(Zo={}));class MF{constructor(t){this.instance=t}setToolbarState(t){kt.ph_toolbar_state=t}getToolbarState(){var t;return(t=kt.ph_toolbar_state)!==null&&t!==void 0?t:Zo.UNINITIALIZED}maybeLoadToolbar(){var t,n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;if(!ue||!He)return!1;r=(t=r)!==null&&t!==void 0?t:ue.location,s=(n=s)!==null&&n!==void 0?n:ue.history;try{if(!i){try{ue.localStorage.setItem("test","test"),ue.localStorage.removeItem("test")}catch{return!1}i=ue==null?void 0:ue.localStorage}var o,l=PF||r0(r.hash,"__posthog")||r0(r.hash,"state"),d=l?Ik(()=>JSON.parse(atob(decodeURIComponent(l))))||Ik(()=>JSON.parse(decodeURIComponent(l))):null;return d&&d.action==="ph_authorize"?((o=d).source="url",o&&Object.keys(o).length>0&&(d.desiredHash?r.hash=d.desiredHash:s?s.replaceState(s.state,"",r.pathname+r.search):r.hash="")):((o=JSON.parse(i.getItem(u2)||"{}")).source="localstorage",delete o.userIntent),!(!o.token||this.instance.config.token!==o.token)&&(this.loadToolbar(o),!0)}catch{return!1}}_callLoadToolbar(t){(kt.ph_load_toolbar||kt.ph_load_editor)(t,this.instance)}loadToolbar(t){var n=!(He==null||!He.getElementById(M5));if(!ue||n)return!1;var r=this.instance.requestRouter.region==="custom"&&this.instance.config.advanced_disable_toolbar_metrics,i=Ie(Ie({token:this.instance.config.token},t),{},{apiURL:this.instance.requestRouter.endpointFor("ui")},r?{instrument:!1}:{});if(ue.localStorage.setItem(u2,JSON.stringify(Ie(Ie({},i),{},{source:void 0}))),this.getToolbarState()===Zo.LOADED)this._callLoadToolbar(i);else if(this.getToolbarState()===Zo.UNINITIALIZED){var s,o;this.setToolbarState(Zo.LOADING),(s=kt.__PosthogExtensions__)===null||s===void 0||(o=s.loadExternalDependency)===null||o===void 0||o.call(s,this.instance,"toolbar",l=>{if(l)return Ae.error("Failed to load toolbar",l),void this.setToolbarState(Zo.UNINITIALIZED);this.setToolbarState(Zo.LOADED),this._callLoadToolbar(i)}),na(ue,"turbolinks:load",()=>{this.setToolbarState(Zo.UNINITIALIZED),this.loadToolbar(i)})}return!0}_loadEditor(t){return this.loadToolbar(t)}maybeLoadEditor(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;return this.maybeLoadToolbar(t,n,r)}}class jF{constructor(t){$e(this,"isPaused",!0),$e(this,"queue",[]),$e(this,"flushTimeoutMs",3e3),this.sendRequest=t}enqueue(t){this.queue.push(t),this.flushTimeout||this.setFlushTimeout()}unload(){this.clearFlushTimeout();var t=this.queue.length>0?this.formatQueue():{},n=Object.values(t),r=[...n.filter(i=>i.url.indexOf("/e")===0),...n.filter(i=>i.url.indexOf("/e")!==0)];r.map(i=>{this.sendRequest(Ie(Ie({},i),{},{transport:"sendBeacon"}))})}enable(){this.isPaused=!1,this.setFlushTimeout()}setFlushTimeout(){var t=this;this.isPaused||(this.flushTimeout=setTimeout(()=>{if(this.clearFlushTimeout(),this.queue.length>0){var n=this.formatQueue(),r=function(s){var o=n[s],l=new Date().getTime();o.data&&or(o.data)&&mn(o.data,d=>{d.offset=Math.abs(d.timestamp-l),delete d.timestamp}),t.sendRequest(o)};for(var i in n)r(i)}},this.flushTimeoutMs))}clearFlushTimeout(){clearTimeout(this.flushTimeout),this.flushTimeout=void 0}formatQueue(){var t={};return mn(this.queue,n=>{var r,i=n,s=(i?i.batchKey:null)||i.url;tt(t[s])&&(t[s]=Ie(Ie({},i),{},{data:[]})),(r=t[s].data)===null||r===void 0||r.push(i.data)}),this.queue=[],t}}var OF=!!Pb||!!Rb,d2="text/plain",l0=(e,t)=>{var[n,r]=e.split("?"),i=Ie({},t);r==null||r.split("&").forEach(o=>{var[l]=o.split("=");delete i[l]});var s=KD(i);return s=s?(r?r+"&":"")+s:r,"".concat(n,"?").concat(s)},_g=(e,t)=>JSON.stringify(e,(n,r)=>typeof r=="bigint"?r.toString():r,t),WA=e=>{var{data:t,compression:n}=e;if(t){if(n===Qs.GZipJS){var r=uj(dj(_g(t)),{mtime:0}),i=new Blob([r],{type:d2});return{contentType:d2,body:i,estimatedSize:i.size}}if(n===Qs.Base64){var s=function(d){var c,h,f,m,v,A="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",b=0,x=0,E="",I=[];if(!d)return d;d=MD(d);do c=(v=d.charCodeAt(b++)<<16|d.charCodeAt(b++)<<8|d.charCodeAt(b++))>>18&63,h=v>>12&63,f=v>>6&63,m=63&v,I[x++]=A.charAt(c)+A.charAt(h)+A.charAt(f)+A.charAt(m);while(b<d.length);switch(E=I.join(""),d.length%3){case 1:E=E.slice(0,-2)+"==";break;case 2:E=E.slice(0,-1)+"="}return E}(_g(t)),o=(d=>"data="+encodeURIComponent(typeof d=="string"?d:_g(d)))(s);return{contentType:"application/x-www-form-urlencoded",body:o,estimatedSize:new Blob([o]).size}}var l=_g(t);return{contentType:"application/json",body:l,estimatedSize:new Blob([l]).size}}},th=[];Pb&&th.push({transport:"XHR",method:e=>{var t,n=new Pb;n.open(e.method||"GET",e.url,!0);var{contentType:r,body:i}=(t=WA(e))!==null&&t!==void 0?t:{};mn(e.headers,function(s,o){n.setRequestHeader(o,s)}),r&&n.setRequestHeader("Content-Type",r),e.timeout&&(n.timeout=e.timeout),n.withCredentials=!0,n.onreadystatechange=()=>{if(n.readyState===4){var s,o={statusCode:n.status,text:n.responseText};if(n.status===200)try{o.json=JSON.parse(n.responseText)}catch{}(s=e.callback)===null||s===void 0||s.call(e,o)}},n.send(i)}}),Rb&&th.push({transport:"fetch",method:e=>{var t,n,{contentType:r,body:i,estimatedSize:s}=(t=WA(e))!==null&&t!==void 0?t:{},o=new Headers;mn(e.headers,function(h,f){o.append(f,h)}),r&&o.append("Content-Type",r);var l=e.url,d=null;if(Tk){var c=new Tk;d={signal:c.signal,timeout:setTimeout(()=>c.abort(),e.timeout)}}Rb(l,{method:(e==null?void 0:e.method)||"GET",headers:o,keepalive:e.method==="POST"&&(s||0)<52428.8,body:i,signal:(n=d)===null||n===void 0?void 0:n.signal}).then(h=>h.text().then(f=>{var m,v={statusCode:h.status,text:f};if(h.status===200)try{v.json=JSON.parse(f)}catch(A){Ae.error(A)}(m=e.callback)===null||m===void 0||m.call(e,v)})).catch(h=>{var f;Ae.error(h),(f=e.callback)===null||f===void 0||f.call(e,{statusCode:0,text:h})}).finally(()=>d?clearTimeout(d.timeout):null)}}),Qi!=null&&Qi.sendBeacon&&th.push({transport:"sendBeacon",method:e=>{var t=l0(e.url,{beacon:"1"});try{var n,{contentType:r,body:i}=(n=WA(e))!==null&&n!==void 0?n:{},s=typeof i=="string"?new Blob([i],{type:r}):i;Qi.sendBeacon(t,s)}catch{}}});var VF=["retriesPerformedSoFar"];class LF{constructor(t){$e(this,"isPolling",!1),$e(this,"pollIntervalMs",3e3),$e(this,"queue",[]),this.instance=t,this.queue=[],this.areWeOnline=!0,!tt(ue)&&"onLine"in ue.navigator&&(this.areWeOnline=ue.navigator.onLine,ue.addEventListener("online",()=>{this.areWeOnline=!0,this.flush()}),ue.addEventListener("offline",()=>{this.areWeOnline=!1}))}retriableRequest(t){var{retriesPerformedSoFar:n}=t,r=I5(t,VF);Ki(n)&&n>0&&(r.url=l0(r.url,{retry_count:n})),this.instance._send_request(Ie(Ie({},r),{},{callback:i=>{var s;i.statusCode!==200&&(i.statusCode<400||i.statusCode>=500)&&(n??0)<10?this.enqueue(Ie({retriesPerformedSoFar:n},r)):(s=r.callback)===null||s===void 0||s.call(r,i)}}))}enqueue(t){var n=t.retriesPerformedSoFar||0;t.retriesPerformedSoFar=n+1;var r=function(o){var l=3e3*Math.pow(2,o),d=l/2,c=Math.min(18e5,l),h=(Math.random()-.5)*(c-d);return Math.ceil(c+h)}(n),i=Date.now()+r;this.queue.push({retryAt:i,requestOptions:t});var s="Enqueued failed request for retry in ".concat(r);navigator.onLine||(s+=" (Browser is offline)"),Ae.warn(s),this.isPolling||(this.isPolling=!0,this.poll())}poll(){this.poller&&clearTimeout(this.poller),this.poller=setTimeout(()=>{this.areWeOnline&&this.queue.length>0&&this.flush(),this.poll()},this.pollIntervalMs)}flush(){var t=Date.now(),n=[],r=this.queue.filter(s=>s.retryAt<t||(n.push(s),!1));if(this.queue=n,r.length>0)for(var{requestOptions:i}of r)this.retriableRequest(i)}unload(){for(var{requestOptions:t}of(this.poller&&(clearTimeout(this.poller),this.poller=void 0),this.queue))try{this.instance._send_request(Ie(Ie({},t),{},{transport:"sendBeacon"}))}catch(n){Ae.error(n)}this.queue=[]}}var ec;class NF{constructor(t,n,r){var i;if($e(this,"_sessionIdChangedHandlers",[]),!t.persistence)throw new Error("SessionIdManager requires a PostHogPersistence instance");this.config=t.config,this.persistence=t.persistence,this._windowId=void 0,this._sessionId=void 0,this._sessionStartTimestamp=null,this._sessionActivityTimestamp=null,this._sessionIdGenerator=n||Ka,this._windowIdGenerator=r||Ka;var s=this.config.persistence_name||this.config.token,o=this.config.session_idle_timeout_seconds||1800;if(this._sessionTimeoutMs=1e3*Co(o,60,36e3,"session_idle_timeout_seconds",1800),t.register({$configured_session_timeout_ms:this._sessionTimeoutMs}),this._window_id_storage_key="ph_"+s+"_window_id",this._primary_window_exists_storage_key="ph_"+s+"_primary_window_exists",this._canUseSessionStorage()){var l=Hr.parse(this._window_id_storage_key),d=Hr.parse(this._primary_window_exists_storage_key);l&&!d?this._windowId=l:Hr.remove(this._window_id_storage_key),Hr.set(this._primary_window_exists_storage_key,!0)}if((i=this.config.bootstrap)!==null&&i!==void 0&&i.sessionID)try{var c=(h=>{var f=h.replace(/-/g,"");if(f.length!==32)throw new Error("Not a valid UUID");if(f[12]!=="7")throw new Error("Not a UUIDv7");return parseInt(f.substring(0,12),16)})(this.config.bootstrap.sessionID);this._setSessionId(this.config.bootstrap.sessionID,new Date().getTime(),c)}catch(h){Ae.error("Invalid sessionID in bootstrap",h)}this._listenToReloadWindow()}get sessionTimeoutMs(){return this._sessionTimeoutMs}onSessionId(t){return tt(this._sessionIdChangedHandlers)&&(this._sessionIdChangedHandlers=[]),this._sessionIdChangedHandlers.push(t),this._sessionId&&t(this._sessionId,this._windowId),()=>{this._sessionIdChangedHandlers=this._sessionIdChangedHandlers.filter(n=>n!==t)}}_canUseSessionStorage(){return this.config.persistence!=="memory"&&!this.persistence.disabled&&Hr.is_supported()}_setWindowId(t){t!==this._windowId&&(this._windowId=t,this._canUseSessionStorage()&&Hr.set(this._window_id_storage_key,t))}_getWindowId(){return this._windowId?this._windowId:this._canUseSessionStorage()?Hr.parse(this._window_id_storage_key):null}_setSessionId(t,n,r){t===this._sessionId&&n===this._sessionActivityTimestamp&&r===this._sessionStartTimestamp||(this._sessionStartTimestamp=r,this._sessionActivityTimestamp=n,this._sessionId=t,this.persistence.register({[Xm]:[n,t,r]}))}_getSessionId(){if(this._sessionId&&this._sessionActivityTimestamp&&this._sessionStartTimestamp)return[this._sessionActivityTimestamp,this._sessionId,this._sessionStartTimestamp];var t=this.persistence.props[Xm];return or(t)&&t.length===2&&t.push(t[0]),t||[0,null,0]}resetSessionId(){this._setSessionId(null,null,null)}_listenToReloadWindow(){ue==null||ue.addEventListener("beforeunload",()=>{this._canUseSessionStorage()&&Hr.remove(this._primary_window_exists_storage_key)})}checkAndGetSessionAndWindowId(){var t=arguments.length>0&&arguments[0]!==void 0&&arguments[0],n=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:null)||new Date().getTime(),[r,i,s]=this._getSessionId(),o=this._getWindowId(),l=Ki(s)&&s>0&&Math.abs(n-s)>864e5,d=!1,c=!i,h=!t&&Math.abs(n-r)>this.sessionTimeoutMs;c||h||l?(i=this._sessionIdGenerator(),o=this._windowIdGenerator(),Ae.info("[SessionId] new session ID generated",{sessionId:i,windowId:o,changeReason:{noSessionId:c,activityTimeout:h,sessionPastMaximumLength:l}}),s=n,d=!0):o||(o=this._windowIdGenerator(),d=!0);var f=r===0||!t||l?n:r,m=s===0?new Date().getTime():s;return this._setWindowId(o),this._setSessionId(i,f,m),d&&this._sessionIdChangedHandlers.forEach(v=>v(i,o,d?{noSessionId:c,activityTimeout:h,sessionPastMaximumLength:l}:void 0)),{sessionId:i,windowId:o,sessionStartTimestamp:m,changeReason:d?{noSessionId:c,activityTimeout:h,sessionPastMaximumLength:l}:void 0,lastActivityTimestamp:r}}}(function(e){e.US="us",e.EU="eu",e.CUSTOM="custom"})(ec||(ec={}));var f2="i.posthog.com";class BF{constructor(t){$e(this,"_regionCache",{}),this.instance=t}get apiHost(){var t=this.instance.config.api_host.trim().replace(/\/$/,"");return t==="https://app.posthog.com"?"https://us.i.posthog.com":t}get uiHost(){var t,n=(t=this.instance.config.ui_host)===null||t===void 0?void 0:t.replace(/\/$/,"");return n||(n=this.apiHost.replace(".".concat(f2),".posthog.com")),n==="https://app.posthog.com"?"https://us.posthog.com":n}get region(){return this._regionCache[this.apiHost]||(/https:\/\/(app|us|us-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this._regionCache[this.apiHost]=ec.US:/https:\/\/(eu|eu-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this._regionCache[this.apiHost]=ec.EU:this._regionCache[this.apiHost]=ec.CUSTOM),this._regionCache[this.apiHost]}endpointFor(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(n&&(n=n[0]==="/"?n:"/".concat(n)),t==="ui")return this.uiHost+n;if(this.region===ec.CUSTOM)return this.apiHost+n;var r=f2+n;switch(t){case"assets":return"https://".concat(this.region,"-assets.").concat(r);case"api":return"https://".concat(this.region,".").concat(r)}}}var fj="posthog-js";function hj(e){var{organization:t,projectId:n,prefix:r,severityAllowList:i=["error"]}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return s=>{var o,l,d,c,h;if(!(i==="*"||i.includes(s.level))||!e.__loaded)return s;s.tags||(s.tags={});var f=e.requestRouter.endpointFor("ui","/project/".concat(e.config.token,"/person/").concat(e.get_distinct_id()));s.tags["PostHog Person URL"]=f,e.sessionRecordingStarted()&&(s.tags["PostHog Recording URL"]=e.get_session_replay_url({withTimestamp:!0}));var m=((o=s.exception)===null||o===void 0?void 0:o.values)||[];m.map(A=>{A.stacktrace&&(A.stacktrace.type="raw")});var v={$exception_message:((l=m[0])===null||l===void 0?void 0:l.value)||s.message,$exception_type:(d=m[0])===null||d===void 0?void 0:d.type,$exception_personURL:f,$exception_level:s.level,$exception_list:m,$sentry_event_id:s.event_id,$sentry_exception:s.exception,$sentry_exception_message:((c=m[0])===null||c===void 0?void 0:c.value)||s.message,$sentry_exception_type:(h=m[0])===null||h===void 0?void 0:h.type,$sentry_tags:s.tags};return t&&n&&(v.$sentry_url=(r||"https://sentry.io/organizations/")+t+"/issues/?project="+n+"&query="+s.event_id),e.exceptions.sendExceptionEvent(v),s}}class DF{constructor(t,n,r,i,s){this.name=fj,this.setupOnce=function(o){o(hj(t,{organization:n,projectId:r,prefix:i,severityAllowList:s}))}}}var h2,c0,qs;function FF(e,t){var n=e.config.segment;if(!n)return t();(function(r,i){var s=r.config.segment;if(!s)return i();var o=d=>{var c=()=>d.anonymousId()||Ka();r.config.get_device_id=c,d.id()&&(r.register({distinct_id:d.id(),$device_id:c()}),r.persistence.set_property(Jo,"identified")),i()},l=s.user();"then"in l&&ws(l.then)?l.then(d=>o(d)):o(l)})(e,()=>{n.register((r=>{Promise&&Promise.resolve||Ae.warn("This browser does not have Promise support, and can not use the segment integration");var i=(s,o)=>{var l;if(!o)return s;s.event.userId||s.event.anonymousId===r.get_distinct_id()||(Ae.info("Segment integration does not have a userId set, resetting PostHog"),r.reset()),s.event.userId&&s.event.userId!==r.get_distinct_id()&&(Ae.info("Segment integration has a userId set, identifying with PostHog"),r.identify(s.event.userId));var d=r._calculate_event_properties(o,(l=s.event.properties)!==null&&l!==void 0?l:{},new Date);return s.event.properties=Object.assign({},d,s.event.properties),s};return{name:"PostHog JS",type:"enrichment",version:"1.0.0",isLoaded:()=>!0,load:()=>Promise.resolve(),track:s=>i(s,s.event.event),page:s=>i(s,"$pageview"),identify:s=>i(s,"$identify"),screen:s=>i(s,"$screen")}})(e)).then(()=>{t()})})}class $F{constructor(t){this._instance=t}doPageView(t){var n,r=this._previousPageViewProperties(t);return this._currentPath=(n=ue==null?void 0:ue.location.pathname)!==null&&n!==void 0?n:"",this._instance.scrollManager.resetContext(),this._prevPageviewTimestamp=t,r}doPageLeave(t){return this._previousPageViewProperties(t)}_previousPageViewProperties(t){var n=this._currentPath,r=this._prevPageviewTimestamp,i=this._instance.scrollManager.getContext();if(!r)return{};var s={};if(i){var{maxScrollHeight:o,lastScrollY:l,maxScrollY:d,maxContentHeight:c,lastContentY:h,maxContentY:f}=i;tt(o)||tt(l)||tt(d)||tt(c)||tt(h)||tt(f)||(o=Math.ceil(o),l=Math.ceil(l),d=Math.ceil(d),c=Math.ceil(c),h=Math.ceil(h),f=Math.ceil(f),s={$prev_pageview_last_scroll:l,$prev_pageview_last_scroll_percentage:o<=1?1:Co(l/o,0,1),$prev_pageview_max_scroll:d,$prev_pageview_max_scroll_percentage:o<=1?1:Co(d/o,0,1),$prev_pageview_last_content:h,$prev_pageview_last_content_percentage:c<=1?1:Co(h/c,0,1),$prev_pageview_max_content:f,$prev_pageview_max_content_percentage:c<=1?1:Co(f/c,0,1)})}return n&&(s.$prev_pageview_pathname=n),r&&(s.$prev_pageview_duration=(t.getTime()-r.getTime())/1e3),s}}(function(e){e.Popover="popover",e.API="api",e.Widget="widget"})(h2||(h2={})),function(e){e.Open="open",e.MultipleChoice="multiple_choice",e.SingleChoice="single_choice",e.Rating="rating",e.Link="link"}(c0||(c0={})),function(e){e.NextQuestion="next_question",e.End="end",e.ResponseBased="response_based",e.SpecificQuestion="specific_question"}(qs||(qs={}));class pj{constructor(){$e(this,"events",{}),this.events={}}on(t,n){return this.events[t]||(this.events[t]=[]),this.events[t].push(n),()=>{this.events[t]=this.events[t].filter(r=>r!==n)}}emit(t,n){for(var r of this.events[t]||[])r(n);for(var i of this.events["*"]||[])i(t,n)}}class Kl{constructor(t){$e(this,"_debugEventEmitter",new pj),$e(this,"checkStep",(n,r)=>this.checkStepEvent(n,r)&&this.checkStepUrl(n,r)&&this.checkStepElement(n,r)),$e(this,"checkStepEvent",(n,r)=>r==null||!r.event||(n==null?void 0:n.event)===(r==null?void 0:r.event)),this.instance=t,this.actionEvents=new Set,this.actionRegistry=new Set}init(){var t;if(!tt((t=this.instance)===null||t===void 0?void 0:t._addCaptureHook)){var n;(n=this.instance)===null||n===void 0||n._addCaptureHook((r,i)=>{this.on(r,i)})}}register(t){var n,r;if(!tt((n=this.instance)===null||n===void 0?void 0:n._addCaptureHook)&&(t.forEach(o=>{var l,d;(l=this.actionRegistry)===null||l===void 0||l.add(o),(d=o.steps)===null||d===void 0||d.forEach(c=>{var h;(h=this.actionEvents)===null||h===void 0||h.add((c==null?void 0:c.event)||"")})}),(r=this.instance)!==null&&r!==void 0&&r.autocapture)){var i,s=new Set;t.forEach(o=>{var l;(l=o.steps)===null||l===void 0||l.forEach(d=>{d!=null&&d.selector&&s.add(d==null?void 0:d.selector)})}),(i=this.instance)===null||i===void 0||i.autocapture.setElementSelectors(s)}}on(t,n){var r;n!=null&&t.length!=0&&(this.actionEvents.has(t)||this.actionEvents.has(n==null?void 0:n.event))&&this.actionRegistry&&((r=this.actionRegistry)===null||r===void 0?void 0:r.size)>0&&this.actionRegistry.forEach(i=>{this.checkAction(n,i)&&this._debugEventEmitter.emit("actionCaptured",i.name)})}_addActionHook(t){this.onAction("actionCaptured",n=>t(n))}checkAction(t,n){if((n==null?void 0:n.steps)==null)return!1;for(var r of n.steps)if(this.checkStep(t,r))return!0;return!1}onAction(t,n){return this._debugEventEmitter.on(t,n)}checkStepUrl(t,n){if(n!=null&&n.url){var r,i=t==null||(r=t.properties)===null||r===void 0?void 0:r.$current_url;if(!i||typeof i!="string"||!Kl.matchString(i,n==null?void 0:n.url,(n==null?void 0:n.url_matching)||"contains"))return!1}return!0}static matchString(t,n,r){switch(r){case"regex":return!!ue&&ed(t,n);case"exact":return n===t;case"contains":var i=Kl.escapeStringRegexp(n).replace(/_/g,".").replace(/%/g,".*");return ed(t,i);default:return!1}}static escapeStringRegexp(t){return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}checkStepElement(t,n){if((n!=null&&n.href||n!=null&&n.tag_name||n!=null&&n.text)&&!this.getElementsList(t).some(s=>!(n!=null&&n.href&&!Kl.matchString(s.href||"",n==null?void 0:n.href,(n==null?void 0:n.href_matching)||"exact"))&&(n==null||!n.tag_name||s.tag_name===(n==null?void 0:n.tag_name))&&!(n!=null&&n.text&&!Kl.matchString(s.text||"",n==null?void 0:n.text,(n==null?void 0:n.text_matching)||"exact")&&!Kl.matchString(s.$el_text||"",n==null?void 0:n.text,(n==null?void 0:n.text_matching)||"exact"))))return!1;if(n!=null&&n.selector){var r,i=t==null||(r=t.properties)===null||r===void 0?void 0:r.$element_selectors;if(!i||!i.includes(n==null?void 0:n.selector))return!1}return!0}getElementsList(t){return(t==null?void 0:t.properties.$elements)==null?[]:t==null?void 0:t.properties.$elements}}class Ah{constructor(t){this.instance=t,this.eventToSurveys=new Map,this.actionToSurveys=new Map}register(t){var n;tt((n=this.instance)===null||n===void 0?void 0:n._addCaptureHook)||(this.setupEventBasedSurveys(t),this.setupActionBasedSurveys(t))}setupActionBasedSurveys(t){var n=t.filter(r=>{var i,s,o,l;return((i=r.conditions)===null||i===void 0?void 0:i.actions)&&((s=r.conditions)===null||s===void 0||(o=s.actions)===null||o===void 0||(l=o.values)===null||l===void 0?void 0:l.length)>0});n.length!==0&&(this.actionMatcher==null&&(this.actionMatcher=new Kl(this.instance),this.actionMatcher.init(),this.actionMatcher._addActionHook(r=>{this.onAction(r)})),n.forEach(r=>{var i,s,o,l,d,c,h,f,m,v;r.conditions&&(i=r.conditions)!==null&&i!==void 0&&i.actions&&(s=r.conditions)!==null&&s!==void 0&&(o=s.actions)!==null&&o!==void 0&&o.values&&((l=r.conditions)===null||l===void 0||(d=l.actions)===null||d===void 0||(c=d.values)===null||c===void 0?void 0:c.length)>0&&((h=this.actionMatcher)===null||h===void 0||h.register(r.conditions.actions.values),(f=r.conditions)===null||f===void 0||(m=f.actions)===null||m===void 0||(v=m.values)===null||v===void 0||v.forEach(A=>{if(A&&A.name){var b=this.actionToSurveys.get(A.name);b&&b.push(r.id),this.actionToSurveys.set(A.name,b||[r.id])}}))}))}setupEventBasedSurveys(t){var n;t.filter(r=>{var i,s,o,l;return((i=r.conditions)===null||i===void 0?void 0:i.events)&&((s=r.conditions)===null||s===void 0||(o=s.events)===null||o===void 0||(l=o.values)===null||l===void 0?void 0:l.length)>0}).length!==0&&((n=this.instance)===null||n===void 0||n._addCaptureHook((r,i)=>{this.onEvent(r,i)}),t.forEach(r=>{var i,s,o;(i=r.conditions)===null||i===void 0||(s=i.events)===null||s===void 0||(o=s.values)===null||o===void 0||o.forEach(l=>{if(l&&l.name){var d=this.eventToSurveys.get(l.name);d&&d.push(r.id),this.eventToSurveys.set(l.name,d||[r.id])}})}))}onEvent(t,n){var r,i,s=((r=this.instance)===null||r===void 0||(i=r.persistence)===null||i===void 0?void 0:i.props[gg])||[];if(Ah.SURVEY_SHOWN_EVENT_NAME==t&&n&&s.length>0){var o,l=n==null||(o=n.properties)===null||o===void 0?void 0:o.$survey_id;if(l){var d=s.indexOf(l);d>=0&&(s.splice(d,1),this._updateActivatedSurveys(s))}}else this.eventToSurveys.has(t)&&this._updateActivatedSurveys(s.concat(this.eventToSurveys.get(t)||[]))}onAction(t){var n,r,i=((n=this.instance)===null||n===void 0||(r=n.persistence)===null||r===void 0?void 0:r.props[gg])||[];this.actionToSurveys.has(t)&&this._updateActivatedSurveys(i.concat(this.actionToSurveys.get(t)||[]))}_updateActivatedSurveys(t){var n,r;(n=this.instance)===null||n===void 0||(r=n.persistence)===null||r===void 0||r.register({[gg]:[...new Set(t)]})}getSurveys(){var t,n,r=(t=this.instance)===null||t===void 0||(n=t.persistence)===null||n===void 0?void 0:n.props[gg];return r||[]}getEventToSurveys(){return this.eventToSurveys}_getActionMatcher(){return this.actionMatcher}}$e(Ah,"SURVEY_SHOWN_EVENT_NAME","survey shown");var gj,er,mj,Yl,p2,vj,e_,yj,t_={},Aj=[],zF=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,GS=Array.isArray;function Ya(e,t){for(var n in t)e[n]=t[n];return e}function bj(e){var t=e.parentNode;t&&t.removeChild(e)}function KA(e,t,n,r,i){var s={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:i??++mj,__i:-1,__u:0};return i==null&&er.vnode!=null&&er.vnode(s),s}function qS(e){return e.children}function Sm(e,t){this.props=e,this.context=t}function id(e,t){if(t==null)return e.__?id(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?id(e):null}function _j(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return _j(e)}}function n_(e){(!e.__d&&(e.__d=!0)&&Yl.push(e)&&!u0.__r++||p2!==er.debounceRendering)&&((p2=er.debounceRendering)||vj)(u0)}function u0(){var e,t,n,r,i,s,o,l,d;for(Yl.sort(e_);e=Yl.shift();)e.__d&&(t=Yl.length,r=void 0,s=(i=(n=e).__v).__e,l=[],d=[],(o=n.__P)&&((r=Ya({},i)).__v=i.__v+1,er.vnode&&er.vnode(r),wj(o,r,i,n.__n,o.ownerSVGElement!==void 0,32&i.__u?[s]:null,l,s??id(i),!!(32&i.__u),d),r.__.__k[r.__i]=r,GF(l,r,d),r.__e!=s&&_j(r)),Yl.length>t&&Yl.sort(e_));u0.__r=0}function Sj(e,t,n,r,i,s,o,l,d,c,h){var f,m,v,A,b,x=r&&r.__k||Aj,E=t.length;for(n.__d=d,UF(n,t,x),d=n.__d,f=0;f<E;f++)(v=n.__k[f])!=null&&typeof v!="boolean"&&typeof v!="function"&&(m=v.__i===-1?t_:x[v.__i]||t_,v.__i=f,wj(e,v,m,i,s,o,l,d,c,h),A=v.__e,v.ref&&m.ref!=v.ref&&(m.ref&&WS(m.ref,null,v),h.push(v.ref,v.__c||A,v)),b==null&&A!=null&&(b=A),65536&v.__u||m.__k===v.__k?d=xj(v,d,e):typeof v.type=="function"&&v.__d!==void 0?d=v.__d:A&&(d=A.nextSibling),v.__d=void 0,v.__u&=-196609);n.__d=d,n.__e=b}function UF(e,t,n){var r,i,s,o,l,d=t.length,c=n.length,h=c,f=0;for(e.__k=[],r=0;r<d;r++)(i=e.__k[r]=(i=t[r])==null||typeof i=="boolean"||typeof i=="function"?null:typeof i=="string"||typeof i=="number"||typeof i=="bigint"||i.constructor==String?KA(null,i,null,null,i):GS(i)?KA(qS,{children:i},null,null,null):i.constructor===void 0&&i.__b>0?KA(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i)!=null?(i.__=e,i.__b=e.__b+1,l=HF(i,n,o=r+f,h),i.__i=l,s=null,l!==-1&&(h--,(s=n[l])&&(s.__u|=131072)),s==null||s.__v===null?(l==-1&&f--,typeof i.type!="function"&&(i.__u|=65536)):l!==o&&(l===o+1?f++:l>o?h>d-o?f+=l-o:f--:f=l<o&&l==o-1?l-o:0,l!==r+f&&(i.__u|=65536))):(s=n[r])&&s.key==null&&s.__e&&(s.__e==e.__d&&(e.__d=id(s)),r_(s,s,!1),n[r]=null,h--);if(h)for(r=0;r<c;r++)(s=n[r])!=null&&!(131072&s.__u)&&(s.__e==e.__d&&(e.__d=id(s)),r_(s,s))}function xj(e,t,n){var r,i;if(typeof e.type=="function"){for(r=e.__k,i=0;r&&i<r.length;i++)r[i]&&(r[i].__=e,t=xj(r[i],t,n));return t}return e.__e!=t&&(n.insertBefore(e.__e,t||null),t=e.__e),t&&t.nextSibling}function HF(e,t,n,r){var i=e.key,s=e.type,o=n-1,l=n+1,d=t[n];if(d===null||d&&i==d.key&&s===d.type)return n;if(r>(d!=null&&!(131072&d.__u)?1:0))for(;o>=0||l<t.length;){if(o>=0){if((d=t[o])&&!(131072&d.__u)&&i==d.key&&s===d.type)return o;o--}if(l<t.length){if((d=t[l])&&!(131072&d.__u)&&i==d.key&&s===d.type)return l;l++}}return-1}function g2(e,t,n){t[0]==="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||zF.test(t)?n:n+"px"}function Sg(e,t,n,r,i){var s;e:if(t==="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof r=="string"&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||g2(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||g2(e.style,t,n[t])}else if(t[0]==="o"&&t[1]==="n")s=t!==(t=t.replace(/(PointerCapture)$|Capture$/,"$1")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+s]=n,n?r?n.u=r.u:(n.u=Date.now(),e.addEventListener(t,s?v2:m2,s)):e.removeEventListener(t,s?v2:m2,s);else{if(i)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!=="width"&&t!=="height"&&t!=="href"&&t!=="list"&&t!=="form"&&t!=="tabIndex"&&t!=="download"&&t!=="rowSpan"&&t!=="colSpan"&&t!=="role"&&t in e)try{e[t]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&t[4]!=="-"?e.removeAttribute(t):e.setAttribute(t,n))}}function m2(e){var t=this.l[e.type+!1];if(e.t){if(e.t<=t.u)return}else e.t=Date.now();return t(er.event?er.event(e):e)}function v2(e){return this.l[e.type+!0](er.event?er.event(e):e)}function wj(e,t,n,r,i,s,o,l,d,c){var h,f,m,v,A,b,x,E,I,P,T,w,R,j,V,N=t.type;if(t.constructor!==void 0)return null;128&n.__u&&(d=!!(32&n.__u),s=[l=t.__e=n.__e]),(h=er.__b)&&h(t);e:if(typeof N=="function")try{if(E=t.props,I=(h=N.contextType)&&r[h.__c],P=h?I?I.props.value:h.__:r,n.__c?x=(f=t.__c=n.__c).__=f.__E:("prototype"in N&&N.prototype.render?t.__c=f=new N(E,P):(t.__c=f=new Sm(E,P),f.constructor=N,f.render=WF),I&&I.sub(f),f.props=E,f.state||(f.state={}),f.context=P,f.__n=r,m=f.__d=!0,f.__h=[],f._sb=[]),f.__s==null&&(f.__s=f.state),N.getDerivedStateFromProps!=null&&(f.__s==f.state&&(f.__s=Ya({},f.__s)),Ya(f.__s,N.getDerivedStateFromProps(E,f.__s))),v=f.props,A=f.state,f.__v=t,m)N.getDerivedStateFromProps==null&&f.componentWillMount!=null&&f.componentWillMount(),f.componentDidMount!=null&&f.__h.push(f.componentDidMount);else{if(N.getDerivedStateFromProps==null&&E!==v&&f.componentWillReceiveProps!=null&&f.componentWillReceiveProps(E,P),!f.__e&&(f.shouldComponentUpdate!=null&&f.shouldComponentUpdate(E,f.__s,P)===!1||t.__v===n.__v)){for(t.__v!==n.__v&&(f.props=E,f.state=f.__s,f.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.forEach(function(k){k&&(k.__=t)}),T=0;T<f._sb.length;T++)f.__h.push(f._sb[T]);f._sb=[],f.__h.length&&o.push(f);break e}f.componentWillUpdate!=null&&f.componentWillUpdate(E,f.__s,P),f.componentDidUpdate!=null&&f.__h.push(function(){f.componentDidUpdate(v,A,b)})}if(f.context=P,f.props=E,f.__P=e,f.__e=!1,w=er.__r,R=0,"prototype"in N&&N.prototype.render){for(f.state=f.__s,f.__d=!1,w&&w(t),h=f.render(f.props,f.state,f.context),j=0;j<f._sb.length;j++)f.__h.push(f._sb[j]);f._sb=[]}else do f.__d=!1,w&&w(t),h=f.render(f.props,f.state,f.context),f.state=f.__s;while(f.__d&&++R<25);f.state=f.__s,f.getChildContext!=null&&(r=Ya(Ya({},r),f.getChildContext())),m||f.getSnapshotBeforeUpdate==null||(b=f.getSnapshotBeforeUpdate(v,A)),Sj(e,GS(V=h!=null&&h.type===qS&&h.key==null?h.props.children:h)?V:[V],t,n,r,i,s,o,l,d,c),f.base=t.__e,t.__u&=-161,f.__h.length&&o.push(f),x&&(f.__E=f.__=null)}catch(k){t.__v=null,d||s!=null?(t.__e=l,t.__u|=d?160:32,s[s.indexOf(l)]=null):(t.__e=n.__e,t.__k=n.__k),er.__e(k,t,n)}else s==null&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=qF(n.__e,t,n,r,i,s,o,d,c);(h=er.diffed)&&h(t)}function GF(e,t,n){t.__d=void 0;for(var r=0;r<n.length;r++)WS(n[r],n[++r],n[++r]);er.__c&&er.__c(t,e),e.some(function(i){try{e=i.__h,i.__h=[],e.some(function(s){s.call(i)})}catch(s){er.__e(s,i.__v)}})}function qF(e,t,n,r,i,s,o,l,d){var c,h,f,m,v,A,b,x=n.props,E=t.props,I=t.type;if(I==="svg"&&(i=!0),s!=null){for(c=0;c<s.length;c++)if((v=s[c])&&"setAttribute"in v==!!I&&(I?v.localName===I:v.nodeType===3)){e=v,s[c]=null;break}}if(e==null){if(I===null)return document.createTextNode(E);e=i?document.createElementNS("http://www.w3.org/2000/svg",I):document.createElement(I,E.is&&E),s=null,l=!1}if(I===null)x===E||l&&e.data===E||(e.data=E);else{if(s=s&&gj.call(e.childNodes),x=n.props||t_,!l&&s!=null)for(x={},c=0;c<e.attributes.length;c++)x[(v=e.attributes[c]).name]=v.value;for(c in x)v=x[c],c=="children"||(c=="dangerouslySetInnerHTML"?f=v:c==="key"||c in E||Sg(e,c,null,v,i));for(c in E)v=E[c],c=="children"?m=v:c=="dangerouslySetInnerHTML"?h=v:c=="value"?A=v:c=="checked"?b=v:c==="key"||l&&typeof v!="function"||x[c]===v||Sg(e,c,v,x[c],i);if(h)l||f&&(h.__html===f.__html||h.__html===e.innerHTML)||(e.innerHTML=h.__html),t.__k=[];else if(f&&(e.innerHTML=""),Sj(e,GS(m)?m:[m],t,n,r,i&&I!=="foreignObject",s,o,s?s[0]:n.__k&&id(n,0),l,d),s!=null)for(c=s.length;c--;)s[c]!=null&&bj(s[c]);l||(c="value",A!==void 0&&(A!==e[c]||I==="progress"&&!A||I==="option"&&A!==x[c])&&Sg(e,c,A,x[c],!1),c="checked",b!==void 0&&b!==e[c]&&Sg(e,c,b,x[c],!1))}return e}function WS(e,t,n){try{typeof e=="function"?e(t):e.current=t}catch(r){er.__e(r,n)}}function r_(e,t,n){var r,i;if(er.unmount&&er.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||WS(r,null,t)),(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(s){er.__e(s,t)}r.base=r.__P=null,e.__c=void 0}if(r=e.__k)for(i=0;i<r.length;i++)r[i]&&r_(r[i],t,n||typeof e.type!="function");n||e.__e==null||bj(e.__e),e.__=e.__e=e.__d=void 0}function WF(e,t,n){return this.constructor(e,n)}gj=Aj.slice,er={__e:function(e,t,n,r){for(var i,s,o;t=t.__;)if((i=t.__c)&&!i.__)try{if((s=i.constructor)&&s.getDerivedStateFromError!=null&&(i.setState(s.getDerivedStateFromError(e)),o=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(e,r||{}),o=i.__d),o)return i.__E=i}catch(l){e=l}throw e}},mj=0,Sm.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Ya({},this.state),typeof e=="function"&&(e=e(Ya({},n),this.props)),e&&Ya(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),n_(this))},Sm.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),n_(this))},Sm.prototype.render=qS,Yl=[],vj=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,e_=function(e,t){return e.__v.__b-t.__v.__b},u0.__r=0,yj=0;(function(e,t){var n={__c:t="__cC"+yj++,__:e,Consumer:function(r,i){return r.children(i)},Provider:function(r){var i,s;return this.getChildContext||(i=[],(s={})[t]=this,this.getChildContext=function(){return s},this.shouldComponentUpdate=function(o){this.props.value!==o.value&&i.some(function(l){l.__e=!0,n_(l)})},this.sub=function(o){i.push(o);var l=o.componentWillUnmount;o.componentWillUnmount=function(){i.splice(i.indexOf(o),1),l&&l.call(o)}}),r.children}};n.Provider.__=n.Consumer.contextType=n})({isPreviewMode:!1,previewPageIndex:0,handleCloseSurveyPopup:()=>{},isPopup:!0});var wf="[Surveys]",KF={icontains:e=>!!ue&&ue.location.href.toLowerCase().indexOf(e.toLowerCase())>-1,not_icontains:e=>!!ue&&ue.location.href.toLowerCase().indexOf(e.toLowerCase())===-1,regex:e=>!!ue&&ed(ue.location.href,e),not_regex:e=>!!ue&&!ed(ue.location.href,e),exact:e=>(ue==null?void 0:ue.location.href)===e,is_not:e=>(ue==null?void 0:ue.location.href)!==e};class YF{constructor(t){this.instance=t,this._surveyEventReceiver=null}afterDecideResponse(t){this._decideServerResponse=!!t.surveys,this.loadIfEnabled()}reset(){localStorage.removeItem("lastSeenSurveyDate");var t=(()=>{for(var n=[],r=0;r<localStorage.length;r++){var i=localStorage.key(r);i!=null&&i.startsWith("seenSurvey_")&&n.push(i)}return n})();t.forEach(n=>localStorage.removeItem(n))}loadIfEnabled(){var t,n,r,i=kt==null||(t=kt.__PosthogExtensions__)===null||t===void 0?void 0:t.generateSurveys;this.instance.config.disable_surveys||!this._decideServerResponse||i||(this._surveyEventReceiver==null&&(this._surveyEventReceiver=new Ah(this.instance)),(n=kt.__PosthogExtensions__)===null||n===void 0||(r=n.loadExternalDependency)===null||r===void 0||r.call(n,this.instance,"surveys",s=>{var o,l;if(s)return Ae.error(wf,"Could not load surveys script",s);this._surveyManager=(o=kt.__PosthogExtensions__)===null||o===void 0||(l=o.generateSurveys)===null||l===void 0?void 0:l.call(o,this.instance)}))}getSurveys(t){var n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(this.instance.config.disable_surveys)return t([]);this._surveyEventReceiver==null&&(this._surveyEventReceiver=new Ah(this.instance));var r=this.instance.get_property(Lb);if(r&&!n)return t(r);this.instance._send_request({url:this.instance.requestRouter.endpointFor("api","/api/surveys/?token=".concat(this.instance.config.token)),method:"GET",transport:"XHR",callback:i=>{var s;if(i.statusCode!==200||!i.json)return t([]);var o,l=i.json.surveys||[],d=l.filter(c=>{var h,f,m,v,A,b,x,E,I,P,T,w;return((h=c.conditions)===null||h===void 0?void 0:h.events)&&((f=c.conditions)===null||f===void 0||(m=f.events)===null||m===void 0?void 0:m.values)&&((v=c.conditions)===null||v===void 0||(A=v.events)===null||A===void 0||(b=A.values)===null||b===void 0?void 0:b.length)>0||((x=c.conditions)===null||x===void 0?void 0:x.actions)&&((E=c.conditions)===null||E===void 0||(I=E.actions)===null||I===void 0?void 0:I.values)&&((P=c.conditions)===null||P===void 0||(T=P.actions)===null||T===void 0||(w=T.values)===null||w===void 0?void 0:w.length)>0});return d.length>0&&((o=this._surveyEventReceiver)===null||o===void 0||o.register(d)),(s=this.instance.persistence)===null||s===void 0||s.register({[Lb]:l}),t(l)}})}getActiveMatchingSurveys(t){var n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.getSurveys(r=>{var i,s=r.filter(d=>!(!d.start_date||d.end_date)).filter(d=>{var c,h,f,m;if(!d.conditions)return!0;var v=(c=d.conditions)===null||c===void 0||!c.url||KF[(h=(f=d.conditions)===null||f===void 0?void 0:f.urlMatchType)!==null&&h!==void 0?h:"icontains"](d.conditions.url),A=(m=d.conditions)===null||m===void 0||!m.selector||(He==null?void 0:He.querySelector(d.conditions.selector));return v&&A}),o=(i=this._surveyEventReceiver)===null||i===void 0?void 0:i.getSurveys(),l=s.filter(d=>{var c,h,f,m,v,A,b,x,E,I,P;if(!(d.linked_flag_key||d.targeting_flag_key||d.internal_targeting_flag_key||(c=d.feature_flag_keys)!==null&&c!==void 0&&c.length))return!0;var T=!d.linked_flag_key||this.instance.featureFlags.isFeatureEnabled(d.linked_flag_key),w=!d.targeting_flag_key||this.instance.featureFlags.isFeatureEnabled(d.targeting_flag_key),R=((h=d.conditions)===null||h===void 0?void 0:h.events)&&((f=d.conditions)===null||f===void 0||(m=f.events)===null||m===void 0?void 0:m.values)&&((v=d.conditions)===null||v===void 0||(A=v.events)===null||A===void 0?void 0:A.values.length)>0,j=((b=d.conditions)===null||b===void 0?void 0:b.actions)&&((x=d.conditions)===null||x===void 0||(E=x.actions)===null||E===void 0?void 0:E.values)&&((I=d.conditions)===null||I===void 0||(P=I.actions)===null||P===void 0?void 0:P.values.length)>0,V=!R&&!j||(o==null?void 0:o.includes(d.id)),N=this._canActivateRepeatedly(d),k=!(d.internal_targeting_flag_key&&!N)||this.instance.featureFlags.isFeatureEnabled(d.internal_targeting_flag_key),B=this.checkFlags(d);return T&&w&&k&&V&&B});return t(l)},n)}checkFlags(t){var n;return(n=t.feature_flag_keys)===null||n===void 0||!n.length||t.feature_flag_keys.every(r=>{var{key:i,value:s}=r;return!i||!s||this.instance.featureFlags.isFeatureEnabled(s)})}getNextSurveyStep(t,n,r){var i,s=t.questions[n],o=n+1;if((i=s.branching)===null||i===void 0||!i.type)return n===t.questions.length-1?qs.End:o;if(s.branching.type===qs.End)return qs.End;if(s.branching.type===qs.SpecificQuestion){if(Number.isInteger(s.branching.index))return s.branching.index}else if(s.branching.type===qs.ResponseBased){if(s.type===c0.SingleChoice){var l,d,c=s.choices.indexOf("".concat(r));if((l=s.branching)!==null&&l!==void 0&&(d=l.responseValues)!==null&&d!==void 0&&d.hasOwnProperty(c)){var h=s.branching.responseValues[c];return Number.isInteger(h)?h:h===qs.End?qs.End:o}}else if(s.type===c0.Rating){var f,m;if(typeof r!="number"||!Number.isInteger(r))throw new Error("The response type must be an integer");var v=function(b,x){if(x===3){if(b<1||b>3)throw new Error("The response must be in range 1-3");return b===1?"negative":b===2?"neutral":"positive"}if(x===5){if(b<1||b>5)throw new Error("The response must be in range 1-5");return b<=2?"negative":b===3?"neutral":"positive"}if(x===7){if(b<1||b>7)throw new Error("The response must be in range 1-7");return b<=3?"negative":b===4?"neutral":"positive"}if(x===10){if(b<0||b>10)throw new Error("The response must be in range 0-10");return b<=6?"detractors":b<=8?"passives":"promoters"}throw new Error("The scale must be one of: 3, 5, 7, 10")}(r,s.scale);if((f=s.branching)!==null&&f!==void 0&&(m=f.responseValues)!==null&&m!==void 0&&m.hasOwnProperty(v)){var A=s.branching.responseValues[v];return Number.isInteger(A)?A:A===qs.End?qs.End:o}}return o}return Ae.warn(wf,"Falling back to next question index due to unexpected branching type"),o}_canActivateRepeatedly(t){var n;return wn((n=kt.__PosthogExtensions__)===null||n===void 0?void 0:n.canActivateRepeatedly)?(Ae.warn(wf,"canActivateRepeatedly is not defined, must init before calling"),!1):kt.__PosthogExtensions__.canActivateRepeatedly(t)}canRenderSurvey(t){wn(this._surveyManager)?Ae.warn(wf,"canActivateRepeatedly is not defined, must init before calling"):this.getSurveys(n=>{var r=n.filter(i=>i.id===t)[0];this._surveyManager.canRenderSurvey(r)})}renderSurvey(t,n){wn(this._surveyManager)?Ae.warn(wf,"canActivateRepeatedly is not defined, must init before calling"):this.getSurveys(r=>{var i=r.filter(s=>s.id===t)[0];this._surveyManager.renderSurvey(i,He==null?void 0:He.querySelector(n))})}}class QF{constructor(t){var n,r;$e(this,"serverLimits",{}),$e(this,"lastEventRateLimited",!1),$e(this,"checkForLimiting",i=>{var s=i.text;if(s&&s.length)try{(JSON.parse(s).quota_limited||[]).forEach(o=>{Ae.info("[RateLimiter] ".concat(o||"events"," is quota limited.")),this.serverLimits[o]=new Date().getTime()+6e4})}catch(o){return void Ae.warn('[RateLimiter] could not rate limit - continuing. Error: "'.concat(o==null?void 0:o.message,'"'),{text:s})}}),this.instance=t,this.captureEventsPerSecond=((n=t.config.rate_limiting)===null||n===void 0?void 0:n.events_per_second)||10,this.captureEventsBurstLimit=Math.max(((r=t.config.rate_limiting)===null||r===void 0?void 0:r.events_burst_limit)||10*this.captureEventsPerSecond,this.captureEventsPerSecond),this.lastEventRateLimited=this.clientRateLimitContext(!0).isRateLimited}clientRateLimitContext(){var t,n,r,i=arguments.length>0&&arguments[0]!==void 0&&arguments[0],s=new Date().getTime(),o=(t=(n=this.instance.persistence)===null||n===void 0?void 0:n.get_property(Bb))!==null&&t!==void 0?t:{tokens:this.captureEventsBurstLimit,last:s};o.tokens+=(s-o.last)/1e3*this.captureEventsPerSecond,o.last=s,o.tokens>this.captureEventsBurstLimit&&(o.tokens=this.captureEventsBurstLimit);var l=o.tokens<1;return l||i||(o.tokens=Math.max(0,o.tokens-1)),!l||this.lastEventRateLimited||i||this.instance.capture("$$client_ingestion_warning",{$$client_ingestion_warning_message:"posthog-js client rate limited. Config is set to ".concat(this.captureEventsPerSecond," events per second and ").concat(this.captureEventsBurstLimit," events burst limit.")},{skip_client_rate_limiting:!0}),this.lastEventRateLimited=l,(r=this.instance.persistence)===null||r===void 0||r.set_property(Bb,o),{isRateLimited:l,remainingTokens:o.tokens}}isServerRateLimited(t){var n=this.serverLimits[t||"events"]||!1;return n!==!1&&new Date().getTime()<n}}var JF=()=>Ie({initialPathName:(ji==null?void 0:ji.pathname)||"",referringDomain:Zn.referringDomain()},Zn.campaignParams());class XF{constructor(t,n,r){$e(this,"_onSessionIdCallback",i=>{var s=this._getStoredProps();if(!s||s.sessionId!==i){var o={sessionId:i,props:this._sessionSourceParamGenerator()};this._persistence.register({[Nb]:o})}}),this._sessionIdManager=t,this._persistence=n,this._sessionSourceParamGenerator=r||JF,this._sessionIdManager.onSessionId(this._onSessionIdCallback)}_getStoredProps(){return this._persistence.props[Nb]}getSessionProps(){var t,n=(t=this._getStoredProps())===null||t===void 0?void 0:t.props;return n?{$client_session_initial_referring_host:n.referringDomain,$client_session_initial_pathname:n.initialPathName,$client_session_initial_utm_source:n.utm_source,$client_session_initial_utm_campaign:n.utm_campaign,$client_session_initial_utm_medium:n.utm_medium,$client_session_initial_utm_content:n.utm_content,$client_session_initial_utm_term:n.utm_term}:{}}}var ZF=["ahrefsbot","ahrefssiteaudit","applebot","baiduspider","bingbot","bingpreview","bot.htm","bot.php","crawler","deepscan","duckduckbot","facebookexternal","facebookcatalog","gptbot","http://yandex.com/bots","hubspot","ia_archiver","linkedinbot","mj12bot","msnbot","nessus","petalbot","pinterest","prerender","rogerbot","screaming frog","semrushbot","sitebulb","slurp","turnitin","twitterbot","vercelbot","yahoo! slurp","yandexbot","headlesschrome","cypress","Google-HotelAdsVerifier","adsbot-google","apis-google","duplexweb-google","feedfetcher-google","google favicon","google web preview","google-read-aloud","googlebot","googleweblight","mediapartners-google","storebot-google","Bytespider;"],y2=function(e,t){if(!e)return!1;var n=e.toLowerCase();return ZF.concat(t||[]).some(r=>{var i=r.toLowerCase();return n.indexOf(i)!==-1})},Ej=function(e,t){if(!e)return!1;var n=e.userAgent;if(n&&y2(n,t))return!0;try{var r=e==null?void 0:e.userAgentData;if(r!=null&&r.brands&&r.brands.some(i=>y2(i==null?void 0:i.brand,t)))return!0}catch{}return!!e.webdriver};class Cj{constructor(){this.clicks=[]}isRageClick(t,n,r){var i=this.clicks[this.clicks.length-1];if(i&&Math.abs(t-i.x)+Math.abs(n-i.y)<30&&r-i.timestamp<1e3){if(this.clicks.push({x:t,y:n,timestamp:r}),this.clicks.length===3)return!0}else this.clicks=[{x:t,y:n,timestamp:r}];return!1}}var xg="[Dead Clicks]",e6=()=>!0,t6=e=>{var t,n=!((t=e.instance.persistence)===null||t===void 0||!t.get_property(P5)),r=e.instance.config.capture_dead_clicks;return Zl(r)?r:n};class kj{get lazyLoadedDeadClicksAutocapture(){return this._lazyLoadedDeadClicksAutocapture}constructor(t,n,r){this.instance=t,this.isEnabled=n,this.onCapture=r,this.startIfEnabled()}afterDecideResponse(t){this.instance.persistence&&this.instance.persistence.register({[P5]:t==null?void 0:t.captureDeadClicks}),this.startIfEnabled()}startIfEnabled(){this.isEnabled(this)&&this.loadScript(()=>{this.start()})}loadScript(t){var n,r,i;(n=kt.__PosthogExtensions__)!==null&&n!==void 0&&n.initDeadClicksAutocapture&&t(),(r=kt.__PosthogExtensions__)===null||r===void 0||(i=r.loadExternalDependency)===null||i===void 0||i.call(r,this.instance,"dead-clicks-autocapture",s=>{s?Ae.error(xg+" failed to load script",s):t()})}start(){var t;if(He){if(!this._lazyLoadedDeadClicksAutocapture&&(t=kt.__PosthogExtensions__)!==null&&t!==void 0&&t.initDeadClicksAutocapture){var n=yr(this.instance.config.capture_dead_clicks)?this.instance.config.capture_dead_clicks:{};n.__onCapture=this.onCapture,this._lazyLoadedDeadClicksAutocapture=kt.__PosthogExtensions__.initDeadClicksAutocapture(this.instance,n),this._lazyLoadedDeadClicksAutocapture.start(He),Ae.info("".concat(xg," starting..."))}}else Ae.error(xg+" `document` not found. Cannot start.")}stop(){this._lazyLoadedDeadClicksAutocapture&&(this._lazyLoadedDeadClicksAutocapture.stop(),this._lazyLoadedDeadClicksAutocapture=void 0,Ae.info("".concat(xg," stopping...")))}}class n6{constructor(t){var n;$e(this,"rageclicks",new Cj),$e(this,"_enabledServerSide",!1),$e(this,"_initialized",!1),$e(this,"_flushInterval",null),this.instance=t,this._enabledServerSide=!((n=this.instance.persistence)===null||n===void 0||!n.props[jb]),ue==null||ue.addEventListener("beforeunload",()=>{this.flush()})}get flushIntervalMilliseconds(){var t=5e3;return yr(this.instance.config.capture_heatmaps)&&this.instance.config.capture_heatmaps.flush_interval_milliseconds&&(t=this.instance.config.capture_heatmaps.flush_interval_milliseconds),t}get isEnabled(){return tt(this.instance.config.capture_heatmaps)?tt(this.instance.config.enable_heatmaps)?this._enabledServerSide:this.instance.config.enable_heatmaps:this.instance.config.capture_heatmaps!==!1}startIfEnabled(){if(this.isEnabled){if(this._initialized)return;Ae.info("[heatmaps] starting..."),this._setupListeners(),this._flushInterval=setInterval(this.flush.bind(this),this.flushIntervalMilliseconds)}else{var t,n;clearInterval((t=this._flushInterval)!==null&&t!==void 0?t:void 0),(n=this.deadClicksCapture)===null||n===void 0||n.stop(),this.getAndClearBuffer()}}afterDecideResponse(t){var n=!!t.heatmaps;this.instance.persistence&&this.instance.persistence.register({[jb]:n}),this._enabledServerSide=n,this.startIfEnabled()}getAndClearBuffer(){var t=this.buffer;return this.buffer=void 0,t}_onDeadClick(t){this._onClick(t.originalEvent,"deadclick")}_setupListeners(){ue&&He&&(na(He,"click",t=>this._onClick(t||(ue==null?void 0:ue.event)),!1,!0),na(He,"mousemove",t=>this._onMouseMove(t||(ue==null?void 0:ue.event)),!1,!0),this.deadClicksCapture=new kj(this.instance,e6,this._onDeadClick.bind(this)),this.deadClicksCapture.startIfEnabled(),this._initialized=!0)}_getProperties(t,n){var r=this.instance.scrollManager.scrollY(),i=this.instance.scrollManager.scrollX(),s=this.instance.scrollManager.scrollElement(),o=function(l,d,c){for(var h=l;h&&tv(h)&&!el(h,"body");){if(h===c)return!1;if(Vt(d,ue==null?void 0:ue.getComputedStyle(h).position))return!0;h=Z5(h)}return!1}(X5(t),["fixed","sticky"],s);return{x:t.clientX+(o?0:i),y:t.clientY+(o?0:r),target_fixed:o,type:n}}_onClick(t){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"click";if(!Xk(t.target)){var i=this._getProperties(t,r);(n=this.rageclicks)!==null&&n!==void 0&&n.isRageClick(t.clientX,t.clientY,new Date().getTime())&&this._capture(Ie(Ie({},i),{},{type:"rageclick"})),this._capture(i)}}_onMouseMove(t){Xk(t.target)||(clearTimeout(this._mouseMoveTimeout),this._mouseMoveTimeout=setTimeout(()=>{this._capture(this._getProperties(t,"mousemove"))},500))}_capture(t){if(ue){var n=ue.location.href;this.buffer=this.buffer||{},this.buffer[n]||(this.buffer[n]=[]),this.buffer[n].push(t)}}flush(){this.buffer&&!Pu(this.buffer)&&this.instance.capture("$$heatmap",{$heatmap_data:this.getAndClearBuffer()})}}class r6{constructor(t){$e(this,"_updateScrollData",()=>{var n,r,i,s;this.context||(this.context={});var o=this.scrollElement(),l=this.scrollY(),d=o?Math.max(0,o.scrollHeight-o.clientHeight):0,c=l+((o==null?void 0:o.clientHeight)||0),h=(o==null?void 0:o.scrollHeight)||0;this.context.lastScrollY=Math.ceil(l),this.context.maxScrollY=Math.max(l,(n=this.context.maxScrollY)!==null&&n!==void 0?n:0),this.context.maxScrollHeight=Math.max(d,(r=this.context.maxScrollHeight)!==null&&r!==void 0?r:0),this.context.lastContentY=c,this.context.maxContentY=Math.max(c,(i=this.context.maxContentY)!==null&&i!==void 0?i:0),this.context.maxContentHeight=Math.max(h,(s=this.context.maxContentHeight)!==null&&s!==void 0?s:0)}),this.instance=t}getContext(){return this.context}resetContext(){var t=this.context;return setTimeout(this._updateScrollData,0),t}startMeasuringScrollPosition(){ue==null||ue.addEventListener("scroll",this._updateScrollData,!0),ue==null||ue.addEventListener("scrollend",this._updateScrollData,!0),ue==null||ue.addEventListener("resize",this._updateScrollData)}scrollElement(){if(!this.instance.config.scroll_root_selector)return ue==null?void 0:ue.document.documentElement;var t=or(this.instance.config.scroll_root_selector)?this.instance.config.scroll_root_selector:[this.instance.config.scroll_root_selector];for(var n of t){var r=ue==null?void 0:ue.document.querySelector(n);if(r)return r}}scrollY(){if(this.instance.config.scroll_root_selector){var t=this.scrollElement();return t&&t.scrollTop||0}return ue&&(ue.scrollY||ue.pageYOffset||ue.document.documentElement.scrollTop)||0}scrollX(){if(this.instance.config.scroll_root_selector){var t=this.scrollElement();return t&&t.scrollLeft||0}return ue&&(ue.scrollX||ue.pageXOffset||ue.document.documentElement.scrollLeft)||0}}function YA(e,t){return t.length>e?t.slice(0,e)+"...":t}function i6(e){if(e.previousElementSibling)return e.previousElementSibling;var t=e;do t=t.previousSibling;while(t&&!tv(t));return t}function s6(e,t,n,r){var i=e.tagName.toLowerCase(),s={tag_name:i};qb.indexOf(i)>-1&&!n&&(i.toLowerCase()==="a"||i.toLowerCase()==="button"?s.$el_text=YA(1024,rj(e)):s.$el_text=YA(1024,nv(e)));var o=o0(e);o.length>0&&(s.classes=o.filter(function(h){return h!==""})),mn(e.attributes,function(h){var f;if((!ej(e)||["name","id","class","aria-label"].indexOf(h.name)!==-1)&&(r==null||!r.includes(h.name))&&!t&&nd(h.value)&&(f=h.name,!ri(f)||f.substring(0,10)!=="_ngcontent"&&f.substring(0,7)!=="_nghost")){var m=h.value;h.name==="class"&&(m=zS(m).join(" ")),s["attr__"+h.name]=YA(1024,m)}});for(var l=1,d=1,c=e;c=i6(c);)l++,c.tagName===e.tagName&&d++;return s.nth_child=l,s.nth_of_type=d,s}function o6(e,t){for(var n,r,{e:i,maskAllElementAttributes:s,maskAllText:o,elementAttributeIgnoreList:l,elementsChainAsString:d}=t,c=[e],h=e;h.parentNode&&!el(h,"body");)Q5(h.parentNode)?(c.push(h.parentNode.host),h=h.parentNode.host):(c.push(h.parentNode),h=h.parentNode);var f,m=[],v={},A=!1,b=!1;if(mn(c,T=>{var w=Wb(T);T.tagName.toLowerCase()==="a"&&(A=T.getAttribute("href"),A=w&&A&&nd(A)&&A),Vt(o0(T),"ph-no-capture")&&(b=!0),m.push(s6(T,s,o,l));var R=function(j){if(!Wb(j))return{};var V={};return mn(j.attributes,function(N){if(N.name&&N.name.indexOf("data-ph-capture-attribute")===0){var k=N.name.replace("data-ph-capture-attribute-",""),B=N.value;k&&B&&nd(B)&&(V[k]=B)}}),V}(T);vi(v,R)}),b)return{props:{},explicitNoCapture:b};if(o||(e.tagName.toLowerCase()==="a"||e.tagName.toLowerCase()==="button"?m[0].$el_text=rj(e):m[0].$el_text=nv(e)),A){var x,E;m[0].attr__href=A;var I=(x=$u(A))===null||x===void 0?void 0:x.host,P=ue==null||(E=ue.location)===null||E===void 0?void 0:E.host;I&&P&&I!==P&&(f=A)}return{props:vi({$event_type:i.type,$ce_version:1},d?{}:{$elements:m},{$elements_chain:dF(m)},(n=m[0])!==null&&n!==void 0&&n.$el_text?{$el_text:(r=m[0])===null||r===void 0?void 0:r.$el_text}:{},f&&i.type==="click"?{$external_click_url:f}:{},v)}}class a6{constructor(t){$e(this,"_initialized",!1),$e(this,"_isDisabledServerSide",null),$e(this,"rageclicks",new Cj),$e(this,"_elementsChainAsString",!1),this.instance=t,this._elementSelectors=null}get config(){var t,n,r=yr(this.instance.config.autocapture)?this.instance.config.autocapture:{};return r.url_allowlist=(t=r.url_allowlist)===null||t===void 0?void 0:t.map(i=>new RegExp(i)),r.url_ignorelist=(n=r.url_ignorelist)===null||n===void 0?void 0:n.map(i=>new RegExp(i)),r}_addDomEventHandlers(){if(this.isBrowserSupported()){if(ue&&He){var t=r=>{r=r||(ue==null?void 0:ue.event);try{this._captureEvent(r)}catch(i){Ae.error("Failed to capture event",i)}},n=r=>{r=r||(ue==null?void 0:ue.event),this._captureEvent(r,DA)};na(He,"submit",t,!1,!0),na(He,"change",t,!1,!0),na(He,"click",t,!1,!0),this.config.capture_copied_text&&(na(He,"copy",n,!1,!0),na(He,"cut",n,!1,!0))}}else Ae.info("Disabling Automatic Event Collection because this browser is not supported")}startIfEnabled(){this.isEnabled&&!this._initialized&&(this._addDomEventHandlers(),this._initialized=!0)}afterDecideResponse(t){t.elementsChainAsString&&(this._elementsChainAsString=t.elementsChainAsString),this.instance.persistence&&this.instance.persistence.register({[Ok]:!!t.autocapture_opt_out}),this._isDisabledServerSide=!!t.autocapture_opt_out,this.startIfEnabled()}setElementSelectors(t){this._elementSelectors=t}getElementSelectors(t){var n,r=[];return(n=this._elementSelectors)===null||n===void 0||n.forEach(i=>{var s=He==null?void 0:He.querySelectorAll(i);s==null||s.forEach(o=>{t===o&&r.push(i)})}),r}get isEnabled(){var t,n,r=(t=this.instance.persistence)===null||t===void 0?void 0:t.props[Ok],i=this._isDisabledServerSide;if(fl(i)&&!Zl(r)&&!this.instance.config.advanced_disable_decide)return!1;var s=(n=this._isDisabledServerSide)!==null&&n!==void 0?n:!!r;return!!this.instance.config.autocapture&&!s}_captureEvent(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"$autocapture";if(this.isEnabled){var r,i=X5(t);Y5(i)&&(i=i.parentNode||null),n==="$autocapture"&&t.type==="click"&&t instanceof MouseEvent&&this.instance.config.rageclick&&(r=this.rageclicks)!==null&&r!==void 0&&r.isRageClick(t.clientX,t.clientY,new Date().getTime())&&this._captureEvent(t,"$rageclick");var s=n===DA;if(i&&oF(i,t,this.config,s,s?["copy","cut"]:void 0)){var{props:o,explicitNoCapture:l}=o6(i,{e:t,maskAllElementAttributes:this.instance.config.mask_all_element_attributes,maskAllText:this.instance.config.mask_all_text,elementAttributeIgnoreList:this.config.element_attribute_ignorelist,elementsChainAsString:this._elementsChainAsString});if(l)return!1;var d=this.getElementSelectors(i);if(d&&d.length>0&&(o.$element_selectors=d),n===DA){var c,h=J5(ue==null||(c=ue.getSelection())===null||c===void 0?void 0:c.toString()),f=t.type||"clipboard";if(!h)return!1;o.$selected_content=h,o.$copy_type=f}return this.instance.capture(n,o),!0}}}isBrowserSupported(){return ws(He==null?void 0:He.querySelectorAll)}}class l6{constructor(t){$e(this,"_restoreXHRPatch",void 0),$e(this,"_restoreFetchPatch",void 0),$e(this,"_startCapturing",()=>{var n,r,i,s;tt(this._restoreXHRPatch)&&((n=kt.__PosthogExtensions__)===null||n===void 0||(r=n.tracingHeadersPatchFns)===null||r===void 0||r._patchXHR(this.instance.sessionManager)),tt(this._restoreFetchPatch)&&((i=kt.__PosthogExtensions__)===null||i===void 0||(s=i.tracingHeadersPatchFns)===null||s===void 0||s._patchFetch(this.instance.sessionManager))}),this.instance=t}_loadScript(t){var n,r,i;(n=kt.__PosthogExtensions__)!==null&&n!==void 0&&n.tracingHeadersPatchFns&&t(),(r=kt.__PosthogExtensions__)===null||r===void 0||(i=r.loadExternalDependency)===null||i===void 0||i.call(r,this.instance,"tracing-headers",s=>{if(s)return Ae.error("[TRACING-HEADERS] failed to load script",s);t()})}startIfEnabledOrStop(){var t,n;this.instance.config.__add_tracing_headers?this._loadScript(this._startCapturing):((t=this._restoreXHRPatch)===null||t===void 0||t.call(this),(n=this._restoreFetchPatch)===null||n===void 0||n.call(this),this._restoreXHRPatch=void 0,this._restoreFetchPatch=void 0)}}var Ga;(function(e){e[e.PENDING=-1]="PENDING",e[e.DENIED=0]="DENIED",e[e.GRANTED=1]="GRANTED"})(Ga||(Ga={}));class c6{constructor(t){this.instance=t}get config(){return this.instance.config}get consent(){return this.getDnt()?Ga.DENIED:this.storedConsent}isOptedOut(){return this.consent===Ga.DENIED||this.consent===Ga.PENDING&&this.config.opt_out_capturing_by_default}isOptedIn(){return!this.isOptedOut()}optInOut(t){this.storage.set(this.storageKey,t?1:0,this.config.cookie_expiration,this.config.cross_subdomain_cookie,this.config.secure_cookie)}reset(){this.storage.remove(this.storageKey,this.config.cross_subdomain_cookie)}get storageKey(){var{token:t,opt_out_capturing_cookie_prefix:n}=this.instance.config;return(n||"__ph_opt_in_out_")+t}get storedConsent(){var t=this.storage.get(this.storageKey);return t==="1"?Ga.GRANTED:t==="0"?Ga.DENIED:Ga.PENDING}get storage(){if(!this._storage){var t=this.config.opt_out_capturing_persistence_type;this._storage=t==="localStorage"?wr:sa;var n=t==="localStorage"?sa:wr;n.get(this.storageKey)&&(this._storage.get(this.storageKey)||this.optInOut(n.get(this.storageKey)==="1"),n.remove(this.storageKey,this.config.cross_subdomain_cookie))}return this._storage}getDnt(){return!!this.config.respect_dnt&&!!C5([Qi==null?void 0:Qi.doNotTrack,Qi==null?void 0:Qi.msDoNotTrack,kt.doNotTrack],t=>Vt([!0,1,"1","yes"],t))}}var wg="[Exception Autocapture]";class u6{constructor(t){var n;$e(this,"originalOnUnhandledRejectionHandler",void 0),$e(this,"startCapturing",()=>{var r,i,s,o;if(ue&&this.isEnabled&&!this.hasHandlers&&!this.isCapturing){var l=(r=kt.__PosthogExtensions__)===null||r===void 0||(i=r.errorWrappingFunctions)===null||i===void 0?void 0:i.wrapOnError,d=(s=kt.__PosthogExtensions__)===null||s===void 0||(o=s.errorWrappingFunctions)===null||o===void 0?void 0:o.wrapUnhandledRejection;if(l&&d)try{this.unwrapOnError=l(this.captureException.bind(this)),this.unwrapUnhandledRejection=d(this.captureException.bind(this))}catch(c){Ae.error(wg+" failed to start",c),this.stopCapturing()}else Ae.error(wg+" failed to load error wrapping functions - cannot start")}}),this.instance=t,this.remoteEnabled=!((n=this.instance.persistence)===null||n===void 0||!n.props[Vk]),this.startIfEnabled()}get isEnabled(){var t;return(t=this.remoteEnabled)!==null&&t!==void 0&&t}get isCapturing(){var t;return!(ue==null||(t=ue.onerror)===null||t===void 0||!t.__POSTHOG_INSTRUMENTED__)}get hasHandlers(){return this.originalOnUnhandledRejectionHandler||this.unwrapOnError}startIfEnabled(){this.isEnabled&&!this.isCapturing&&(Ae.info(wg+" enabled, starting..."),this.loadScript(this.startCapturing))}loadScript(t){var n,r;this.hasHandlers&&t(),(n=kt.__PosthogExtensions__)===null||n===void 0||(r=n.loadExternalDependency)===null||r===void 0||r.call(n,this.instance,"exception-autocapture",i=>{if(i)return Ae.error(wg+" failed to load script",i);t()})}stopCapturing(){var t,n;(t=this.unwrapOnError)===null||t===void 0||t.call(this),(n=this.unwrapUnhandledRejection)===null||n===void 0||n.call(this)}afterDecideResponse(t){var n=t.autocaptureExceptions;this.remoteEnabled=!!n||!1,this.instance.persistence&&this.instance.persistence.register({[Vk]:this.remoteEnabled}),this.startIfEnabled()}captureException(t){var n=this.instance.requestRouter.endpointFor("ui");t.$exception_personURL="".concat(n,"/project/").concat(this.instance.config.token,"/person/").concat(this.instance.get_distinct_id()),this.instance.exceptions.sendExceptionEvent(t)}}var A2=9e5,Dl="[Web Vitals]";class d6{constructor(t){var n;$e(this,"_enabledServerSide",!1),$e(this,"_initialized",!1),$e(this,"buffer",{url:void 0,metrics:[],firstMetricTimestamp:void 0}),$e(this,"_flushToCapture",()=>{clearTimeout(this._delayedFlushTimer),this.buffer.metrics.length!==0&&(this.instance.capture("$web_vitals",this.buffer.metrics.reduce((r,i)=>Ie(Ie({},r),{},{["$web_vitals_".concat(i.name,"_event")]:Ie({},i),["$web_vitals_".concat(i.name,"_value")]:i.value}),{})),this.buffer={url:void 0,metrics:[],firstMetricTimestamp:void 0})}),$e(this,"_addToBuffer",r=>{var i,s=(i=this.instance.sessionManager)===null||i===void 0?void 0:i.checkAndGetSessionAndWindowId(!0);if(tt(s))Ae.error(Dl+"Could not read session ID. Dropping metrics!");else{this.buffer=this.buffer||{url:void 0,metrics:[],firstMetricTimestamp:void 0};var o=this._currentURL();tt(o)||(wn(r==null?void 0:r.name)||wn(r==null?void 0:r.value)?Ae.error(Dl+"Invalid metric received",r):this._maxAllowedValue&&r.value>=this._maxAllowedValue?Ae.error(Dl+"Ignoring metric with value >= "+this._maxAllowedValue,r):(this.buffer.url!==o&&(this._flushToCapture(),this._delayedFlushTimer=setTimeout(this._flushToCapture,this.flushToCaptureTimeoutMs)),tt(this.buffer.url)&&(this.buffer.url=o),this.buffer.firstMetricTimestamp=tt(this.buffer.firstMetricTimestamp)?Date.now():this.buffer.firstMetricTimestamp,r.attribution&&r.attribution.interactionTargetElement&&(r.attribution.interactionTargetElement=void 0),this.buffer.metrics.push(Ie(Ie({},r),{},{$current_url:o,$session_id:s.sessionId,$window_id:s.windowId,timestamp:Date.now()})),this.buffer.metrics.length===this.allowedMetrics.length&&this._flushToCapture()))}}),$e(this,"_startCapturing",()=>{var r,i,s,o,l=kt.__PosthogExtensions__;tt(l)||tt(l.postHogWebVitalsCallbacks)||({onLCP:r,onCLS:i,onFCP:s,onINP:o}=l.postHogWebVitalsCallbacks),r&&i&&s&&o?(this.allowedMetrics.indexOf("LCP")>-1&&r(this._addToBuffer.bind(this)),this.allowedMetrics.indexOf("CLS")>-1&&i(this._addToBuffer.bind(this)),this.allowedMetrics.indexOf("FCP")>-1&&s(this._addToBuffer.bind(this)),this.allowedMetrics.indexOf("INP")>-1&&o(this._addToBuffer.bind(this)),this._initialized=!0):Ae.error(Dl+"web vitals callbacks not loaded - not starting")}),this.instance=t,this._enabledServerSide=!((n=this.instance.persistence)===null||n===void 0||!n.props[Lk]),this.startIfEnabled()}get allowedMetrics(){var t,n,r=yr(this.instance.config.capture_performance)?(t=this.instance.config.capture_performance)===null||t===void 0?void 0:t.web_vitals_allowed_metrics:void 0;return tt(r)?((n=this.instance.persistence)===null||n===void 0?void 0:n.props[Nk])||["CLS","FCP","INP","LCP"]:r}get flushToCaptureTimeoutMs(){return(yr(this.instance.config.capture_performance)?this.instance.config.capture_performance.web_vitals_delayed_flush_ms:void 0)||5e3}get _maxAllowedValue(){var t=yr(this.instance.config.capture_performance)&&Ki(this.instance.config.capture_performance.__web_vitals_max_value)?this.instance.config.capture_performance.__web_vitals_max_value:A2;return 0<t&&t<=6e4?A2:t}get isEnabled(){var t=yr(this.instance.config.capture_performance)?this.instance.config.capture_performance.web_vitals:void 0;return Zl(t)?t:this._enabledServerSide}startIfEnabled(){this.isEnabled&&!this._initialized&&(Ae.info(Dl+" enabled, starting..."),this.loadScript(this._startCapturing))}afterDecideResponse(t){var n=yr(t.capturePerformance)&&!!t.capturePerformance.web_vitals,r=yr(t.capturePerformance)?t.capturePerformance.web_vitals_allowed_metrics:void 0;this.instance.persistence&&(this.instance.persistence.register({[Lk]:n}),this.instance.persistence.register({[Nk]:r})),this._enabledServerSide=n,this.startIfEnabled()}loadScript(t){var n,r,i;(n=kt.__PosthogExtensions__)!==null&&n!==void 0&&n.postHogWebVitalsCallbacks&&t(),(r=kt.__PosthogExtensions__)===null||r===void 0||(i=r.loadExternalDependency)===null||i===void 0||i.call(r,this.instance,"web-vitals",s=>{s?Ae.error(Dl+" failed to load script",s):t()})}_currentURL(){var t=ue?ue.location.href:void 0;return t||Ae.error(Dl+"Could not determine current URL"),t}}var f6={icontains:(e,t)=>!!ue&&t.href.toLowerCase().indexOf(e.toLowerCase())>-1,not_icontains:(e,t)=>!!ue&&t.href.toLowerCase().indexOf(e.toLowerCase())===-1,regex:(e,t)=>!!ue&&ed(t.href,e),not_regex:(e,t)=>!!ue&&!ed(t.href,e),exact:(e,t)=>t.href===e,is_not:(e,t)=>t.href!==e};class Pr{constructor(t){var n=this;$e(this,"getWebExperimentsAndEvaluateDisplayLogic",function(){var r=arguments.length>0&&arguments[0]!==void 0&&arguments[0];n.getWebExperiments(i=>{Pr.logInfo("retrieved web experiments from the server"),n._flagToExperiments=new Map,i.forEach(s=>{if(s.feature_flag_key&&n._featureFlags&&n._featureFlags[s.feature_flag_key]){var o;n._flagToExperiments&&(Pr.logInfo("setting flag key ",s.feature_flag_key," to web experiment ",s),(o=n._flagToExperiments)===null||o===void 0||o.set(s.feature_flag_key,s));var l=n._featureFlags[s.feature_flag_key];l&&s.variants[l]&&n.applyTransforms(s.name,l,s.variants[l].transforms)}else if(s.variants)for(var d in s.variants){var c=s.variants[d];Pr.matchesTestVariant(c)&&n.applyTransforms(s.name,d,c.transforms)}})},r)}),this.instance=t,this.instance.onFeatureFlags&&this.instance.onFeatureFlags(r=>{this.applyFeatureFlagChanges(r)}),this._flagToExperiments=new Map}applyFeatureFlagChanges(t){wn(this._flagToExperiments)||this.instance.config.disable_web_experiments||(Pr.logInfo("applying feature flags",t),t.forEach(n=>{var r;if(this._flagToExperiments&&(r=this._flagToExperiments)!==null&&r!==void 0&&r.has(n)){var i,s=this.instance.getFeatureFlag(n),o=(i=this._flagToExperiments)===null||i===void 0?void 0:i.get(n);s&&o!=null&&o.variants[s]&&this.applyTransforms(o.name,s,o.variants[s].transforms)}}))}afterDecideResponse(t){this._is_bot()?Pr.logInfo("Refusing to render web experiment since the viewer is a likely bot"):(this._featureFlags=t.featureFlags,this.loadIfEnabled(),this.previewWebExperiment())}previewWebExperiment(){var t=Pr.getWindowLocation();if(t!=null&&t.search){var n=n0(t==null?void 0:t.search,"__experiment_id"),r=n0(t==null?void 0:t.search,"__experiment_variant");n&&r&&(Pr.logInfo("previewing web experiments ".concat(n," && ").concat(r)),this.getWebExperiments(i=>{this.showPreviewWebExperiment(parseInt(n),r,i)},!1,!0))}}loadIfEnabled(){this.instance.config.disable_web_experiments||this.getWebExperimentsAndEvaluateDisplayLogic()}getWebExperiments(t,n,r){if(this.instance.config.disable_web_experiments&&!r)return t([]);var i=this.instance.get_property("$web_experiments");if(i&&!n)return t(i);this.instance._send_request({url:this.instance.requestRouter.endpointFor("api","/api/web_experiments/?token=".concat(this.instance.config.token)),method:"GET",transport:"XHR",callback:s=>{if(s.statusCode!==200||!s.json)return t([]);var o=s.json.experiments||[];return t(o)}})}showPreviewWebExperiment(t,n,r){var i=r.filter(s=>s.id===t);i&&i.length>0&&(Pr.logInfo("Previewing web experiment [".concat(i[0].name,"] with variant [").concat(n,"]")),this.applyTransforms(i[0].name,n,i[0].variants[n].transforms,!0))}static matchesTestVariant(t){return!wn(t.conditions)&&Pr.matchUrlConditions(t)&&Pr.matchUTMConditions(t)}static matchUrlConditions(t){var n;if(wn(t.conditions)||wn((n=t.conditions)===null||n===void 0?void 0:n.url))return!0;var r,i,s,o=Pr.getWindowLocation();return!!o&&((r=t.conditions)===null||r===void 0||!r.url||f6[(i=(s=t.conditions)===null||s===void 0?void 0:s.urlMatchType)!==null&&i!==void 0?i:"icontains"](t.conditions.url,o))}static getWindowLocation(){return ue==null?void 0:ue.location}static matchUTMConditions(t){var n;if(wn(t.conditions)||wn((n=t.conditions)===null||n===void 0?void 0:n.utm))return!0;var r=Zn.campaignParams();if(r.utm_source){var i,s,o,l,d,c,h,f,m,v,A,b,x,E,I,P,T=(i=t.conditions)===null||i===void 0||(s=i.utm)===null||s===void 0||!s.utm_campaign||((o=t.conditions)===null||o===void 0||(l=o.utm)===null||l===void 0?void 0:l.utm_campaign)==r.utm_campaign,w=(d=t.conditions)===null||d===void 0||(c=d.utm)===null||c===void 0||!c.utm_source||((h=t.conditions)===null||h===void 0||(f=h.utm)===null||f===void 0?void 0:f.utm_source)==r.utm_source,R=(m=t.conditions)===null||m===void 0||(v=m.utm)===null||v===void 0||!v.utm_medium||((A=t.conditions)===null||A===void 0||(b=A.utm)===null||b===void 0?void 0:b.utm_medium)==r.utm_medium,j=(x=t.conditions)===null||x===void 0||(E=x.utm)===null||E===void 0||!E.utm_term||((I=t.conditions)===null||I===void 0||(P=I.utm)===null||P===void 0?void 0:P.utm_term)==r.utm_term;return T&&R&&j&&w}return!1}static logInfo(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];Ae.info("[WebExperiments] ".concat(t),r)}applyTransforms(t,n,r,i){var s;this._is_bot()?Pr.logInfo("Refusing to render web experiment since the viewer is a likely bot"):n!=="control"?r.forEach(o=>{if(o.selector){var l;Pr.logInfo("applying transform of variant ".concat(n," for experiment ").concat(t," "),o);var d,c=0,h=(l=document)===null||l===void 0?void 0:l.querySelectorAll(o.selector);h==null||h.forEach(f=>{var m=f;c+=1,o.attributes&&o.attributes.forEach(v=>{switch(v.name){case"text":m.innerText=v.value;break;case"html":m.innerHTML=v.value;break;case"cssClass":m.className=v.value;break;default:m.setAttribute(v.name,v.value)}}),o.text&&(m.innerText=o.text),o.html&&(m.parentElement?m.parentElement.innerHTML=o.html:m.innerHTML=o.html),o.css&&m.setAttribute("style",o.css)}),this.instance&&this.instance.capture&&this.instance.capture("$web_experiment_applied",{$web_experiment_name:t,$web_experiment_variant:n,$web_experiment_preview:i,$web_experiment_document_url:(d=Pr.getWindowLocation())===null||d===void 0?void 0:d.href,$web_experiment_elements_modified:c})}}):(Pr.logInfo("Control variants leave the page unmodified."),this.instance&&this.instance.capture&&this.instance.capture("$web_experiment_applied",{$web_experiment_name:t,$web_experiment_preview:i,$web_experiment_variant:n,$web_experiment_document_url:(s=Pr.getWindowLocation())===null||s===void 0?void 0:s.href,$web_experiment_elements_modified:0}))}_is_bot(){return Qi&&this.instance?Ej(Qi,this.instance.config.custom_blocked_useragents):void 0}}class h6{constructor(t){this.instance=t}sendExceptionEvent(t){this.instance.capture("$exception",t,{_noTruncate:!0,_batchKey:"exceptionEvent"})}}var p6=["$set_once","$set"];class g6{constructor(t){this.instance=t,this.enabled=!!this.instance.config.opt_in_site_apps&&!this.instance.config.advanced_disable_decide,this.missedInvocations=[],this.loaded=!1,this.appsLoading=new Set}eventCollector(t,n){if(this.enabled&&!this.loaded&&n){var r=this.globalsForEvent(n);this.missedInvocations.push(r),this.missedInvocations.length>1e3&&(this.missedInvocations=this.missedInvocations.slice(10))}}init(){var t;(t=this.instance)===null||t===void 0||t._addCaptureHook(this.eventCollector.bind(this))}globalsForEvent(t){var n,r,i,s,o,l,d;if(!t)throw new Error("Event payload is required");var c={},h=this.instance.get_property("$groups")||[],f=this.instance.get_property("$stored_group_properties")||{};for(var[m,v]of Object.entries(f))c[m]={id:h[m],type:m,properties:v};var{$set_once:A,$set:b}=t;return{event:Ie(Ie({},I5(t,p6)),{},{properties:Ie(Ie(Ie({},t.properties),b?{$set:Ie(Ie({},(n=(r=t.properties)===null||r===void 0?void 0:r.$set)!==null&&n!==void 0?n:{}),b)}:{}),A?{$set_once:Ie(Ie({},(i=(s=t.properties)===null||s===void 0?void 0:s.$set_once)!==null&&i!==void 0?i:{}),A)}:{}),elements_chain:(o=(l=t.properties)===null||l===void 0?void 0:l.$elements_chain)!==null&&o!==void 0?o:"",distinct_id:(d=t.properties)===null||d===void 0?void 0:d.distinct_id}),person:{properties:this.instance.get_property("$stored_person_properties")},groups:c}}afterDecideResponse(t){var n=this;or(t==null?void 0:t.siteApps)&&t.siteApps.length>0?this.enabled&&this.instance.config.opt_in_site_apps?function(){var r=()=>{n.appsLoading.size===0&&(n.loaded=!0,n.missedInvocations=[])},i=function(l,d){var c,h;n.appsLoading.add(l),kt["__$$ph_site_app_".concat(l,"_posthog")]=n.instance,kt["__$$ph_site_app_".concat(l,"_missed_invocations")]=()=>n.missedInvocations,kt["__$$ph_site_app_".concat(l,"_callback")]=()=>{n.appsLoading.delete(l),r()},(c=kt.__PosthogExtensions__)===null||c===void 0||(h=c.loadSiteApp)===null||h===void 0||h.call(c,n.instance,d,f=>{if(f)return n.appsLoading.delete(l),r(),Ae.error("Error while initializing PostHog app with config id ".concat(l),f)})};for(var{id:s,url:o}of t.siteApps)i(s,o)}():t.siteApps.length>0?(Ae.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.'),this.loaded=!0):this.loaded=!0:(this.loaded=!0,this.enabled=!1)}}var nh={},i_=()=>{},ku="posthog",Tj=!OF&&(jr==null?void 0:jr.indexOf("MSIE"))===-1&&(jr==null?void 0:jr.indexOf("Mozilla"))===-1,b2=()=>{var e,t,n;return{api_host:"https://us.i.posthog.com",ui_host:null,token:"",autocapture:!0,rageclick:!0,cross_subdomain_cookie:(t=He==null?void 0:He.location,n=t==null?void 0:t.hostname,!!ri(n)&&n.split(".").slice(-2).join(".")!=="herokuapp.com"),persistence:"localStorage+cookie",persistence_name:"",loaded:i_,store_google:!0,custom_campaign_params:[],custom_blocked_useragents:[],save_referrer:!0,capture_pageview:!0,capture_pageleave:"if_capture_pageview",debug:ji&&ri(ji==null?void 0:ji.search)&&ji.search.indexOf("__posthog_debug=true")!==-1||!1,verbose:!1,cookie_expiration:365,upgrade:!1,disable_session_recording:!1,disable_persistence:!1,disable_web_experiments:!0,disable_surveys:!1,enable_recording_console_log:void 0,secure_cookie:(ue==null||(e=ue.location)===null||e===void 0?void 0:e.protocol)==="https:",ip:!0,opt_out_capturing_by_default:!1,opt_out_persistence_by_default:!1,opt_out_useragent_filter:!1,opt_out_capturing_persistence_type:"localStorage",opt_out_capturing_cookie_prefix:null,opt_in_site_apps:!1,property_denylist:[],respect_dnt:!1,sanitize_properties:null,request_headers:{},inapp_protocol:"//",inapp_link_new_window:!1,request_batching:!0,properties_string_max_length:65535,session_recording:{},mask_all_element_attributes:!1,mask_all_text:!1,advanced_disable_decide:!1,advanced_disable_feature_flags:!1,advanced_disable_feature_flags_on_first_load:!1,advanced_disable_toolbar_metrics:!1,feature_flag_request_timeout_ms:3e3,on_request_error:r=>{var i="Bad HTTP status: "+r.statusCode+" "+r.text;Ae.error(i)},get_device_id:r=>r,_onCapture:i_,capture_performance:void 0,name:"posthog",bootstrap:{},disable_compression:!1,session_idle_timeout_seconds:1800,person_profiles:"identified_only",__add_tracing_headers:!1,before_send:void 0}},_2=e=>{var t={};tt(e.process_person)||(t.person_profiles=e.process_person),tt(e.xhr_headers)||(t.request_headers=e.xhr_headers),tt(e.cookie_name)||(t.persistence_name=e.cookie_name),tt(e.disable_cookie)||(t.disable_persistence=e.disable_cookie);var n=vi({},t,e);return or(e.property_blacklist)&&(tt(e.property_denylist)?n.property_denylist=e.property_blacklist:or(e.property_denylist)?n.property_denylist=[...e.property_blacklist,...e.property_denylist]:Ae.error("Invalid value for property_denylist config: "+e.property_denylist)),n};class m6{constructor(){$e(this,"__forceAllowLocalhost",!1)}get _forceAllowLocalhost(){return this.__forceAllowLocalhost}set _forceAllowLocalhost(t){Ae.error("WebPerformanceObserver is deprecated and has no impact on network capture. Use `_forceAllowLocalhostNetworkCapture` on `posthog.sessionRecording`"),this.__forceAllowLocalhost=t}}class rv{constructor(){$e(this,"webPerformance",new m6),$e(this,"version",Ua.LIB_VERSION),$e(this,"_internalEventEmitter",new pj),this.config=b2(),this.decideEndpointWasHit=!1,this.SentryIntegration=DF,this.sentryIntegration=t=>function(n,r){var i=hj(n,r);return{name:fj,processEvent:s=>i(s)}}(this,t),this.__request_queue=[],this.__loaded=!1,this.analyticsDefaultEndpoint="/e/",this._initialPageviewCaptured=!1,this._initialPersonProfilesConfig=null,this.featureFlags=new BD(this),this.toolbar=new MF(this),this.scrollManager=new r6(this),this.pageViewManager=new $F(this),this.surveys=new YF(this),this.experiments=new Pr(this),this.exceptions=new h6(this),this.rateLimiter=new QF(this),this.requestRouter=new BF(this),this.consent=new c6(this),this.people={set:(t,n,r)=>{var i=ri(t)?{[t]:n}:t;this.setPersonProperties(i),r==null||r({})},set_once:(t,n,r)=>{var i=ri(t)?{[t]:n}:t;this.setPersonProperties(void 0,i),r==null||r({})}},this.on("eventCaptured",t=>Ae.info('send "'.concat(t==null?void 0:t.event,'"'),t))}init(t,n,r){if(r&&r!==ku){var i,s=(i=nh[r])!==null&&i!==void 0?i:new rv;return s._init(t,n,r),nh[r]=s,nh[ku][r]=s,s}return this._init(t,n,r)}_init(t){var n,r,i,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=arguments.length>2?arguments[2]:void 0;if(tt(t)||Rk(t))return Ae.critical("PostHog was initialized without a token. This likely indicates a misconfiguration. Please check the first argument passed to posthog.init()"),this;if(this.__loaded)return Ae.warn("You have already initialized PostHog! Re-initializing is a no-op"),this;this.__loaded=!0,this.config={},this._triggered_notifs=[],s.person_profiles&&(this._initialPersonProfilesConfig=s.person_profiles),this.set_config(vi({},b2(),_2(s),{name:o,token:t})),this.config.on_xhr_error&&Ae.error("[posthog] on_xhr_error is deprecated. Use on_request_error instead"),this.compression=s.disable_compression?void 0:Qs.GZipJS,this.persistence=new GA(this.config),this.sessionPersistence=this.config.persistence==="sessionStorage"||this.config.persistence==="memory"?this.persistence:new GA(Ie(Ie({},this.config),{},{persistence:"sessionStorage"}));var l=Ie({},this.persistence.props),d=Ie({},this.sessionPersistence.props);if(this._requestQueue=new jF(I=>this._send_retriable_request(I)),this._retryQueue=new LF(this),this.__request_queue=[],this.sessionManager=new NF(this),this.sessionPropsManager=new XF(this.sessionManager,this.persistence),new l6(this).startIfEnabledOrStop(),this.siteApps=new g6(this),(n=this.siteApps)===null||n===void 0||n.init(),this.sessionRecording=new IF(this),this.sessionRecording.startIfEnabledOrStop(),this.config.disable_scroll_properties||this.scrollManager.startMeasuringScrollPosition(),this.autocapture=new a6(this),this.autocapture.startIfEnabled(),this.surveys.loadIfEnabled(),this.heatmaps=new n6(this),this.heatmaps.startIfEnabled(),this.webVitalsAutocapture=new d6(this),this.exceptionObserver=new u6(this),this.exceptionObserver.startIfEnabled(),this.deadClicksAutocapture=new kj(this,t6),this.deadClicksAutocapture.startIfEnabled(),Ua.DEBUG=Ua.DEBUG||this.config.debug,Ua.DEBUG&&Ae.info("Starting in debug mode",{this:this,config:s,thisC:Ie({},this.config),p:l,s:d}),this._sync_opt_out_with_persistence(),((r=s.bootstrap)===null||r===void 0?void 0:r.distinctID)!==void 0){var c,h,f=this.config.get_device_id(Ka()),m=(c=s.bootstrap)!==null&&c!==void 0&&c.isIdentifiedID?f:s.bootstrap.distinctID;this.persistence.set_property(Jo,(h=s.bootstrap)!==null&&h!==void 0&&h.isIdentifiedID?"identified":"anonymous"),this.register({distinct_id:s.bootstrap.distinctID,$device_id:m})}if(this._hasBootstrappedFeatureFlags()){var v,A,b=Object.keys(((v=s.bootstrap)===null||v===void 0?void 0:v.featureFlags)||{}).filter(I=>{var P,T;return!((P=s.bootstrap)===null||P===void 0||(T=P.featureFlags)===null||T===void 0||!T[I])}).reduce((I,P)=>{var T,w;return I[P]=((T=s.bootstrap)===null||T===void 0||(w=T.featureFlags)===null||w===void 0?void 0:w[P])||!1,I},{}),x=Object.keys(((A=s.bootstrap)===null||A===void 0?void 0:A.featureFlagPayloads)||{}).filter(I=>b[I]).reduce((I,P)=>{var T,w,R,j;return(T=s.bootstrap)!==null&&T!==void 0&&(w=T.featureFlagPayloads)!==null&&w!==void 0&&w[P]&&(I[P]=(R=s.bootstrap)===null||R===void 0||(j=R.featureFlagPayloads)===null||j===void 0?void 0:j[P]),I},{});this.featureFlags.receivedFeatureFlags({featureFlags:b,featureFlagPayloads:x})}if(!this.get_distinct_id()){var E=this.config.get_device_id(Ka());this.register_once({distinct_id:E,$device_id:E},""),this.persistence.set_property(Jo,"anonymous")}return ue==null||(i=ue.addEventListener)===null||i===void 0||i.call(ue,"onpagehide"in self?"pagehide":"unload",this._handle_unload.bind(this)),this.toolbar.maybeLoadToolbar(),s.segment?FF(this,()=>this._loaded()):this._loaded(),ws(this.config._onCapture)&&this.config._onCapture!==i_&&(Ae.warn("onCapture is deprecated. Please use `before_send` instead"),this.on("eventCaptured",I=>this.config._onCapture(I.event,I))),this}_afterDecideResponse(t){var n,r,i,s,o,l,d,c,h,f;this.compression=void 0,t.supportedCompression&&!this.config.disable_compression&&(this.compression=Vt(t.supportedCompression,Qs.GZipJS)?Qs.GZipJS:Vt(t.supportedCompression,Qs.Base64)?Qs.Base64:void 0),(n=t.analytics)!==null&&n!==void 0&&n.endpoint&&(this.analyticsDefaultEndpoint=t.analytics.endpoint),this.set_config({person_profiles:this._initialPersonProfilesConfig?this._initialPersonProfilesConfig:t.defaultIdentifiedOnly?"identified_only":"always"}),(r=this.siteApps)===null||r===void 0||r.afterDecideResponse(t),(i=this.sessionRecording)===null||i===void 0||i.afterDecideResponse(t),(s=this.autocapture)===null||s===void 0||s.afterDecideResponse(t),(o=this.heatmaps)===null||o===void 0||o.afterDecideResponse(t),(l=this.experiments)===null||l===void 0||l.afterDecideResponse(t),(d=this.surveys)===null||d===void 0||d.afterDecideResponse(t),(c=this.webVitalsAutocapture)===null||c===void 0||c.afterDecideResponse(t),(h=this.exceptionObserver)===null||h===void 0||h.afterDecideResponse(t),(f=this.deadClicksAutocapture)===null||f===void 0||f.afterDecideResponse(t)}_loaded(){var t=this.config.advanced_disable_decide;t||this.featureFlags.setReloadingPaused(!0);try{this.config.loaded(this)}catch(n){Ae.critical("`loaded` function failed",n)}this._start_queue_if_opted_in(),this.config.capture_pageview&&setTimeout(()=>{this.consent.isOptedIn()&&this._captureInitialPageview()},1),t||(new RF(this).call(),this.featureFlags.resetRequestQueue())}_start_queue_if_opted_in(){var t;this.has_opted_out_capturing()||this.config.request_batching&&((t=this._requestQueue)===null||t===void 0||t.enable())}_dom_loaded(){this.has_opted_out_capturing()||Fu(this.__request_queue,t=>this._send_retriable_request(t)),this.__request_queue=[],this._start_queue_if_opted_in()}_handle_unload(){var t,n;this.config.request_batching?(this._shouldCapturePageleave()&&this.capture("$pageleave"),(t=this._requestQueue)===null||t===void 0||t.unload(),(n=this._retryQueue)===null||n===void 0||n.unload()):this._shouldCapturePageleave()&&this.capture("$pageleave",null,{transport:"sendBeacon"})}_send_request(t){this.__loaded&&(Tj?this.__request_queue.push(t):this.rateLimiter.isServerRateLimited(t.batchKey)||(t.transport=t.transport||this.config.api_transport,t.url=l0(t.url,{ip:this.config.ip?1:0}),t.headers=Ie({},this.config.request_headers),t.compression=t.compression==="best-available"?this.compression:t.compression,(n=>{var r,i,s,o=Ie({},n);o.timeout=o.timeout||6e4,o.url=l0(o.url,{_:new Date().getTime().toString(),ver:Ua.LIB_VERSION,compression:o.compression});var l=(r=o.transport)!==null&&r!==void 0?r:"XHR",d=(i=(s=C5(th,c=>c.transport===l))===null||s===void 0?void 0:s.method)!==null&&i!==void 0?i:th[0].method;if(!d)throw new Error("No available transport method");d(o)})(Ie(Ie({},t),{},{callback:n=>{var r,i,s;this.rateLimiter.checkForLimiting(n),n.statusCode>=400&&((i=(s=this.config).on_request_error)===null||i===void 0||i.call(s,n)),(r=t.callback)===null||r===void 0||r.call(t,n)}}))))}_send_retriable_request(t){this._retryQueue?this._retryQueue.retriableRequest(t):this._send_request(t)}_execute_array(t){var n,r=[],i=[],s=[];Fu(t,l=>{l&&(n=l[0],or(n)?s.push(l):ws(l)?l.call(this):or(l)&&n==="alias"?r.push(l):or(l)&&n.indexOf("capture")!==-1&&ws(this[n])?s.push(l):i.push(l))});var o=function(l,d){Fu(l,function(c){if(or(c[0])){var h=d;mn(c,function(f){h=h[f[0]].apply(h,f.slice(1))})}else this[c[0]].apply(this,c.slice(1))},d)};o(r,this),o(i,this),o(s,this)}_hasBootstrappedFeatureFlags(){var t,n;return((t=this.config.bootstrap)===null||t===void 0?void 0:t.featureFlags)&&Object.keys((n=this.config.bootstrap)===null||n===void 0?void 0:n.featureFlags).length>0||!1}push(t){this._execute_array([t])}capture(t,n,r){var i;if(this.__loaded&&this.persistence&&this.sessionPersistence&&this._requestQueue){if(!this.consent.isOptedOut())if(!tt(t)&&ri(t)){if(this.config.opt_out_useragent_filter||!this._is_bot()){var s=r!=null&&r.skip_client_rate_limiting?void 0:this.rateLimiter.clientRateLimitContext();if(s==null||!s.isRateLimited){this.sessionPersistence.update_search_keyword(),this.config.store_google&&this.sessionPersistence.update_campaign_params(),this.config.save_referrer&&this.sessionPersistence.update_referrer_info(),(this.config.store_google||this.config.save_referrer)&&this.persistence.set_initial_person_info();var o=new Date,l=(r==null?void 0:r.timestamp)||o,d={uuid:Ka(),event:t,properties:this._calculate_event_properties(t,n||{},l)};s&&(d.properties.$lib_rate_limit_remaining_tokens=s.remainingTokens),r!=null&&r.$set&&(d.$set=r==null?void 0:r.$set);var c=this._calculate_set_once_properties(r==null?void 0:r.$set_once);c&&(d.$set_once=c),(d=PD(d,r!=null&&r._noTruncate?null:this.config.properties_string_max_length)).timestamp=l,tt(r==null?void 0:r.timestamp)||(d.properties.$event_time_override_provided=!0,d.properties.$event_time_override_system_time=o);var h=Ie(Ie({},d.properties.$set),d.$set);if(Pu(h)||this.setPersonPropertiesForFlags(h),!wn(this.config.before_send)){var f=this._runBeforeSend(d);if(!f)return;d=f}this._internalEventEmitter.emit("eventCaptured",d);var m={method:"POST",url:(i=r==null?void 0:r._url)!==null&&i!==void 0?i:this.requestRouter.endpointFor("api",this.analyticsDefaultEndpoint),data:d,compression:"best-available",batchKey:r==null?void 0:r._batchKey};return!this.config.request_batching||r&&(r==null||!r._batchKey)||r!=null&&r.send_instantly?this._send_retriable_request(m):this._requestQueue.enqueue(m),d}Ae.critical("This capture call is ignored due to client rate limiting.")}}else Ae.error("No event name provided to posthog.capture")}else Ae.uninitializedWarning("posthog.capture")}_addCaptureHook(t){return this.on("eventCaptured",n=>t(n.event,n))}_calculate_event_properties(t,n,r){if(r=r||new Date,!this.persistence||!this.sessionPersistence)return n;var i=this.persistence.remove_event_timer(t),s=Ie({},n);if(s.token=this.config.token,t==="$snapshot"){var o=Ie(Ie({},this.persistence.properties()),this.sessionPersistence.properties());return s.distinct_id=o.distinct_id,(!ri(s.distinct_id)&&!Ki(s.distinct_id)||Rk(s.distinct_id))&&Ae.error("Invalid distinct_id for replay event. This indicates a bug in your implementation"),s}var l=Zn.properties();if(this.sessionManager){var{sessionId:d,windowId:c}=this.sessionManager.checkAndGetSessionAndWindowId();s.$session_id=d,s.$window_id=c}if(this.sessionRecording&&(s.$recording_status=this.sessionRecording.status),this.requestRouter.region===ec.CUSTOM&&(s.$lib_custom_api_host=this.config.api_host),this.sessionPropsManager&&this.config.__preview_send_client_session_params&&(t==="$pageview"||t==="$pageleave"||t==="$autocapture")){var h=this.sessionPropsManager.getSessionProps();s=vi(s,h)}if(!this.config.disable_scroll_properties){var f={};t==="$pageview"?f=this.pageViewManager.doPageView(r):t==="$pageleave"&&(f=this.pageViewManager.doPageLeave(r)),s=vi(s,f)}if(t==="$pageview"&&He&&(s.title=He.title),!tt(i)){var m=r.getTime()-i;s.$duration=parseFloat((m/1e3).toFixed(3))}jr&&this.config.opt_out_useragent_filter&&(s.$browser_type=this._is_bot()?"bot":"browser"),(s=vi({},l,this.persistence.properties(),this.sessionPersistence.properties(),s)).$is_identified=this._isIdentified(),or(this.config.property_denylist)?mn(this.config.property_denylist,function(b){delete s[b]}):Ae.error("Invalid value for property_denylist config: "+this.config.property_denylist+" or property_blacklist config: "+this.config.property_blacklist);var v=this.config.sanitize_properties;v&&(s=v(s,t));var A=this._hasPersonProcessing();return s.$process_person_profile=A,A&&this._requirePersonProcessing("_calculate_event_properties"),s}_calculate_set_once_properties(t){if(!this.persistence||!this._hasPersonProcessing())return t;var n=vi({},this.persistence.get_initial_props(),t||{}),r=this.config.sanitize_properties;return r&&(n=r(n,"$set_once")),Pu(n)?void 0:n}register(t,n){var r;(r=this.persistence)===null||r===void 0||r.register(t,n)}register_once(t,n,r){var i;(i=this.persistence)===null||i===void 0||i.register_once(t,n,r)}register_for_session(t){var n;(n=this.sessionPersistence)===null||n===void 0||n.register(t)}unregister(t){var n;(n=this.persistence)===null||n===void 0||n.unregister(t)}unregister_for_session(t){var n;(n=this.sessionPersistence)===null||n===void 0||n.unregister(t)}_register_single(t,n){this.register({[t]:n})}getFeatureFlag(t,n){return this.featureFlags.getFeatureFlag(t,n)}getFeatureFlagPayload(t){var n=this.featureFlags.getFeatureFlagPayload(t);try{return JSON.parse(n)}catch{return n}}isFeatureEnabled(t,n){return this.featureFlags.isFeatureEnabled(t,n)}reloadFeatureFlags(){this.featureFlags.reloadFeatureFlags()}updateEarlyAccessFeatureEnrollment(t,n){this.featureFlags.updateEarlyAccessFeatureEnrollment(t,n)}getEarlyAccessFeatures(t){var n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return this.featureFlags.getEarlyAccessFeatures(t,n)}on(t,n){return this._internalEventEmitter.on(t,n)}onFeatureFlags(t){return this.featureFlags.onFeatureFlags(t)}onSessionId(t){var n,r;return(n=(r=this.sessionManager)===null||r===void 0?void 0:r.onSessionId(t))!==null&&n!==void 0?n:()=>{}}getSurveys(t){var n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.surveys.getSurveys(t,n)}getActiveMatchingSurveys(t){var n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.surveys.getActiveMatchingSurveys(t,n)}renderSurvey(t,n){this.surveys.renderSurvey(t,n)}canRenderSurvey(t){this.surveys.canRenderSurvey(t)}getNextSurveyStep(t,n,r){return this.surveys.getNextSurveyStep(t,n,r)}identify(t,n,r){if(!this.__loaded||!this.persistence)return Ae.uninitializedWarning("posthog.identify");if(Ki(t)&&(t=t.toString(),Ae.warn("The first argument to posthog.identify was a number, but it should be a string. It has been converted to a string.")),t){if(["distinct_id","distinctid"].includes(t.toLowerCase()))Ae.critical('The string "'.concat(t,'" was set in posthog.identify which indicates an error. This ID should be unique to the user and not a hardcoded string.'));else if(this._requirePersonProcessing("posthog.identify")){var i=this.get_distinct_id();if(this.register({$user_id:t}),!this.get_property("$device_id")){var s=i;this.register_once({$had_persisted_distinct_id:!0,$device_id:s},"")}t!==i&&t!==this.get_property(Ff)&&(this.unregister(Ff),this.register({distinct_id:t}));var o=(this.persistence.get_property(Jo)||"anonymous")==="anonymous";t!==i&&o?(this.persistence.set_property(Jo,"identified"),this.setPersonPropertiesForFlags(n||{},!1),this.capture("$identify",{distinct_id:t,$anon_distinct_id:i},{$set:n||{},$set_once:r||{}}),this.featureFlags.setAnonymousDistinctId(i)):(n||r)&&this.setPersonProperties(n,r),t!==i&&(this.reloadFeatureFlags(),this.unregister(Zm))}}else Ae.error("Unique user id has not been set in posthog.identify")}setPersonProperties(t,n){(t||n)&&this._requirePersonProcessing("posthog.setPersonProperties")&&(this.setPersonPropertiesForFlags(t||{}),this.capture("$set",{$set:t||{},$set_once:n||{}}))}group(t,n,r){if(t&&n){if(this._requirePersonProcessing("posthog.group")){var i=this.getGroups();i[t]!==n&&this.resetGroupPropertiesForFlags(t),this.register({$groups:Ie(Ie({},i),{},{[t]:n})}),r&&(this.capture("$groupidentify",{$group_type:t,$group_key:n,$group_set:r}),this.setGroupPropertiesForFlags({[t]:r})),i[t]===n||r||this.reloadFeatureFlags()}}else Ae.error("posthog.group requires a group type and group key")}resetGroups(){this.register({$groups:{}}),this.resetGroupPropertiesForFlags(),this.reloadFeatureFlags()}setPersonPropertiesForFlags(t){var n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this._requirePersonProcessing("posthog.setPersonPropertiesForFlags")&&this.featureFlags.setPersonPropertiesForFlags(t,n)}resetPersonPropertiesForFlags(){this.featureFlags.resetPersonPropertiesForFlags()}setGroupPropertiesForFlags(t){var n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this._requirePersonProcessing("posthog.setGroupPropertiesForFlags")&&this.featureFlags.setGroupPropertiesForFlags(t,n)}resetGroupPropertiesForFlags(t){this.featureFlags.resetGroupPropertiesForFlags(t)}reset(t){var n,r,i,s,o;if(Ae.info("reset"),!this.__loaded)return Ae.uninitializedWarning("posthog.reset");var l=this.get_property("$device_id");this.consent.reset(),(n=this.persistence)===null||n===void 0||n.clear(),(r=this.sessionPersistence)===null||r===void 0||r.clear(),(i=this.surveys)===null||i===void 0||i.reset(),(s=this.persistence)===null||s===void 0||s.set_property(Jo,"anonymous"),(o=this.sessionManager)===null||o===void 0||o.resetSessionId();var d=this.config.get_device_id(Ka());this.register_once({distinct_id:d,$device_id:t?d:l},"")}get_distinct_id(){return this.get_property("distinct_id")}getGroups(){return this.get_property("$groups")||{}}get_session_id(){var t,n;return(t=(n=this.sessionManager)===null||n===void 0?void 0:n.checkAndGetSessionAndWindowId(!0).sessionId)!==null&&t!==void 0?t:""}get_session_replay_url(t){if(!this.sessionManager)return"";var{sessionId:n,sessionStartTimestamp:r}=this.sessionManager.checkAndGetSessionAndWindowId(!0),i=this.requestRouter.endpointFor("ui","/project/".concat(this.config.token,"/replay/").concat(n));if(t!=null&&t.withTimestamp&&r){var s,o=(s=t.timestampLookBack)!==null&&s!==void 0?s:10;if(!r)return i;var l=Math.max(Math.floor((new Date().getTime()-r)/1e3)-o,0);i+="?t=".concat(l)}return i}alias(t,n){return t===this.get_property(R5)?(Ae.critical("Attempting to create alias for existing People user - aborting."),-2):this._requirePersonProcessing("posthog.alias")?(tt(n)&&(n=this.get_distinct_id()),t!==n?(this._register_single(Ff,t),this.capture("$create_alias",{alias:t,distinct_id:n})):(Ae.warn("alias matches current distinct_id - skipping api call."),this.identify(t),-1)):void 0}set_config(t){var n,r,i,s,o=Ie({},this.config);yr(t)&&(vi(this.config,_2(t)),(n=this.persistence)===null||n===void 0||n.update_config(this.config,o),this.sessionPersistence=this.config.persistence==="sessionStorage"||this.config.persistence==="memory"?this.persistence:new GA(Ie(Ie({},this.config),{},{persistence:"sessionStorage"})),wr.is_supported()&&wr.get("ph_debug")==="true"&&(this.config.debug=!0),this.config.debug&&(Ua.DEBUG=!0,Ae.info("set_config",{config:t,oldConfig:o,newConfig:Ie({},this.config)})),(r=this.sessionRecording)===null||r===void 0||r.startIfEnabledOrStop(),(i=this.autocapture)===null||i===void 0||i.startIfEnabled(),(s=this.heatmaps)===null||s===void 0||s.startIfEnabled(),this.surveys.loadIfEnabled(),this._sync_opt_out_with_persistence())}startSessionRecording(t){var n=t===!0,r={sampling:n||!(t==null||!t.sampling),linked_flag:n||!(t==null||!t.linked_flag),url_trigger:n||!(t==null||!t.url_trigger),event_trigger:n||!(t==null||!t.event_trigger)};if(Object.values(r).some(Boolean)){var i,s,o,l,d;(i=this.sessionManager)===null||i===void 0||i.checkAndGetSessionAndWindowId(),r.sampling&&((s=this.sessionRecording)===null||s===void 0||s.overrideSampling()),r.linked_flag&&((o=this.sessionRecording)===null||o===void 0||o.overrideLinkedFlag()),r.url_trigger&&((l=this.sessionRecording)===null||l===void 0||l.overrideTrigger("url")),r.event_trigger&&((d=this.sessionRecording)===null||d===void 0||d.overrideTrigger("event"))}this.set_config({disable_session_recording:!1})}stopSessionRecording(){this.set_config({disable_session_recording:!0})}sessionRecordingStarted(){var t;return!((t=this.sessionRecording)===null||t===void 0||!t.started)}captureException(t,n){var r,i=new Error("PostHog syntheticException"),s=ws((r=kt.__PosthogExtensions__)===null||r===void 0?void 0:r.parseErrorAsProperties)?kt.__PosthogExtensions__.parseErrorAsProperties([t.message,void 0,void 0,void 0,t],{syntheticException:i}):Ie({$exception_level:"error",$exception_list:[{type:t.name,value:t.message,mechanism:{handled:!0,synthetic:!1}}]},n);this.exceptions.sendExceptionEvent(s)}loadToolbar(t){return this.toolbar.loadToolbar(t)}get_property(t){var n;return(n=this.persistence)===null||n===void 0?void 0:n.props[t]}getSessionProperty(t){var n;return(n=this.sessionPersistence)===null||n===void 0?void 0:n.props[t]}toString(){var t,n=(t=this.config.name)!==null&&t!==void 0?t:ku;return n!==ku&&(n=ku+"."+n),n}_isIdentified(){var t,n;return((t=this.persistence)===null||t===void 0?void 0:t.get_property(Jo))==="identified"||((n=this.sessionPersistence)===null||n===void 0?void 0:n.get_property(Jo))==="identified"}_hasPersonProcessing(){var t,n,r,i;return!(this.config.person_profiles==="never"||this.config.person_profiles==="identified_only"&&!this._isIdentified()&&Pu(this.getGroups())&&((t=this.persistence)===null||t===void 0||(n=t.props)===null||n===void 0||!n[Ff])&&((r=this.persistence)===null||r===void 0||(i=r.props)===null||i===void 0||!i[e0]))}_shouldCapturePageleave(){return this.config.capture_pageleave===!0||this.config.capture_pageleave==="if_capture_pageview"&&this.config.capture_pageview}createPersonProfile(){this._hasPersonProcessing()||this._requirePersonProcessing("posthog.createPersonProfile")&&this.setPersonProperties({},{})}_requirePersonProcessing(t){return this.config.person_profiles==="never"?(Ae.error(t+' was called, but process_person is set to "never". This call will be ignored.'),!1):(this._register_single(e0,!0),!0)}_sync_opt_out_with_persistence(){var t,n,r,i,s=this.consent.isOptedOut(),o=this.config.opt_out_persistence_by_default,l=this.config.disable_persistence||s&&!!o;((t=this.persistence)===null||t===void 0?void 0:t.disabled)!==l&&((r=this.persistence)===null||r===void 0||r.set_disabled(l)),((n=this.sessionPersistence)===null||n===void 0?void 0:n.disabled)!==l&&((i=this.sessionPersistence)===null||i===void 0||i.set_disabled(l))}opt_in_capturing(t){var n;this.consent.optInOut(!0),this._sync_opt_out_with_persistence(),(tt(t==null?void 0:t.captureEventName)||t!=null&&t.captureEventName)&&this.capture((n=t==null?void 0:t.captureEventName)!==null&&n!==void 0?n:"$opt_in",t==null?void 0:t.captureProperties,{send_instantly:!0}),this.config.capture_pageview&&this._captureInitialPageview()}opt_out_capturing(){this.consent.optInOut(!1),this._sync_opt_out_with_persistence()}has_opted_in_capturing(){return this.consent.isOptedIn()}has_opted_out_capturing(){return this.consent.isOptedOut()}clear_opt_in_out_capturing(){this.consent.reset(),this._sync_opt_out_with_persistence()}_is_bot(){return Qi?Ej(Qi,this.config.custom_blocked_useragents):void 0}_captureInitialPageview(){He&&!this._initialPageviewCaptured&&(this._initialPageviewCaptured=!0,this.capture("$pageview",{title:He.title},{send_instantly:!0}))}debug(t){t===!1?(ue==null||ue.console.log("You've disabled debug mode."),localStorage&&localStorage.removeItem("ph_debug"),this.set_config({debug:!1})):(ue==null||ue.console.log("You're now in debug mode. All calls to PostHog will be logged in your console.\nYou can disable this with `posthog.debug(false)`."),localStorage&&localStorage.setItem("ph_debug","true"),this.set_config({debug:!0}))}_runBeforeSend(t){if(wn(this.config.before_send))return t;var n=or(this.config.before_send)?this.config.before_send:[this.config.before_send],r=t;for(var i of n){if(r=i(r),wn(r)){var s="Event '".concat(t.event,"' was rejected in beforeSend function");return LD(t.event)?Ae.warn("".concat(s,". This can cause unexpected behavior.")):Ae.info(s),null}r.properties&&!Pu(r.properties)||Ae.warn("Event '".concat(t.event,"' has no properties after beforeSend function, this is likely an error."))}return r}}(function(e,t){for(var n=0;n<t.length;n++)e.prototype[t[n]]=RD(e.prototype[t[n]])})(rv,["identify"]);var S2,lr=(S2=nh[ku]=new rv,function(){function e(){e.done||(e.done=!0,Tj=!1,mn(nh,function(t){t._dom_loaded()}))}He!=null&&He.addEventListener&&(He.readyState==="complete"?e():He.addEventListener("DOMContentLoaded",e,!1)),ue&&na(ue,"load",e,!0)}(),S2);class Jt{constructor(t,n=!1,r=!0){this.name=t,this.track=n,this.log=r,this.subscribers=[],this.lastParams=null,this.subscribe=(i,s=!1)=>{this.unsubscribe(i),this.subscribers.push(i),s&&this.lastParams!==null&&i(...this.lastParams)},this.unsubscribe=i=>{this.subscribers=this.subscribers.filter(s=>s!==i)},this.dispatch=(...i)=>{this.log&&console.log("dispatch",this.name,...i),this.subscribers.forEach(s=>s(...i)),this.lastParams=i,this.track&&lr.capture(this.name,this.track instanceof Function?this.track(...i):i)}}}const ge={sectionChange:new Jt("sectionChange",!1,!1),playerAdded:new Jt("playerAdded",!1),playerRemoved:new Jt("playerRemoved",!1),songStarted:new Jt("songStarted",!1),songEnded:new Jt("songEnded",!1),remoteMicConnected:new Jt("remoteMicConnected"),remoteMicDisconnected:new Jt("remoteMicDisconnected"),playerNameChanged:new Jt("playerNameChanged"),playerInputChanged:new Jt("playerInputChanged"),inputListChanged:new Jt("inputListChanged"),karaokeConnectionStatusChange:new Jt("karaokeConnectionStatusChange"),remoteMicPlayerSet:new Jt("remoteMicPlayerSet"),remoteMicMonitoringStarted:new Jt("remoteMicMonitoringStarted"),remoteMicMonitoringStopped:new Jt("remoteMicMonitoringStopped"),micMonitoringStarted:new Jt("micMonitoringStarted"),micMonitoringStopped:new Jt("micMonitoringStopped"),playerChangeRequested:new Jt("playerChangeRequested",!0),songStatStored:new Jt("songStatStored"),songScoreUpdated:new Jt("songScoreUpdated",()=>{}),remoteMicSubscribed:new Jt("remoteMicSubscribed"),remoteKeyboardPressed:new Jt("remoteKeyboardPressed"),remoteSongSearch:new Jt("remoteSongSearch"),remoteSongSelected:new Jt("remoteSongSelected",!0),remoteMicListUpdated:new Jt("remoteMicListUpdated"),remoteKeyboardLayout:new Jt("remoteKeyboardLayout"),remoteReadinessRequested:new Jt("remoteReadinessRequested"),remoteStyleChanged:new Jt("remoteStyleChanged"),remoteMicPermissionsSet:new Jt("remoteMicPermissionsSet"),readinessConfirmed:new Jt("remoteReadinessConfirmed"),minPlayerNumberChanged:new Jt("minPlayerNumberChanged"),micServerStarted:new Jt("micServerStarted"),micServerStopped:new Jt("micServerStopped")};ge.songStarted.subscribe(()=>{Xs.clearData(),Xs.startRecord()});ge.songEnded.subscribe(()=>{Xs.stopRecord()});function d0(e){"@babel/helpers - typeof";return d0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d0(e)}var v6=/^\s+/,y6=/\s+$/;function ke(e,t){if(e=e||"",t=t||{},e instanceof ke)return e;if(!(this instanceof ke))return new ke(e,t);var n=A6(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}ke.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3},getLuminance:function(){var t=this.toRgb(),n,r,i,s,o,l;return n=t.r/255,r=t.g/255,i=t.b/255,n<=.03928?s=n/12.92:s=Math.pow((n+.055)/1.055,2.4),r<=.03928?o=r/12.92:o=Math.pow((r+.055)/1.055,2.4),i<=.03928?l=i/12.92:l=Math.pow((i+.055)/1.055,2.4),.2126*s+.7152*o+.0722*l},setAlpha:function(t){return this._a=Ij(t),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var t=w2(this._r,this._g,this._b);return{h:t.h*360,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=w2(this._r,this._g,this._b),n=Math.round(t.h*360),r=Math.round(t.s*100),i=Math.round(t.v*100);return this._a==1?"hsv("+n+", "+r+"%, "+i+"%)":"hsva("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var t=x2(this._r,this._g,this._b);return{h:t.h*360,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=x2(this._r,this._g,this._b),n=Math.round(t.h*360),r=Math.round(t.s*100),i=Math.round(t.l*100);return this._a==1?"hsl("+n+", "+r+"%, "+i+"%)":"hsla("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHex:function(t){return E2(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return x6(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(Fn(this._r,255)*100)+"%",g:Math.round(Fn(this._g,255)*100)+"%",b:Math.round(Fn(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(Fn(this._r,255)*100)+"%, "+Math.round(Fn(this._g,255)*100)+"%, "+Math.round(Fn(this._b,255)*100)+"%)":"rgba("+Math.round(Fn(this._r,255)*100)+"%, "+Math.round(Fn(this._g,255)*100)+"%, "+Math.round(Fn(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:V6[E2(this._r,this._g,this._b,!0)]||!1},toFilter:function(t){var n="#"+C2(this._r,this._g,this._b,this._a),r=n,i=this._gradientType?"GradientType = 1, ":"";if(t){var s=ke(t);r="#"+C2(s._r,s._g,s._b,s._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+n+",endColorstr="+r+")"},toString:function(t){var n=!!t;t=t||this._format;var r=!1,i=this._a<1&&this._a>=0,s=!n&&i&&(t==="hex"||t==="hex6"||t==="hex3"||t==="hex4"||t==="hex8"||t==="name");return s?t==="name"&&this._a===0?this.toName():this.toRgbString():(t==="rgb"&&(r=this.toRgbString()),t==="prgb"&&(r=this.toPercentageRgbString()),(t==="hex"||t==="hex6")&&(r=this.toHexString()),t==="hex3"&&(r=this.toHexString(!0)),t==="hex4"&&(r=this.toHex8String(!0)),t==="hex8"&&(r=this.toHex8String()),t==="name"&&(r=this.toName()),t==="hsl"&&(r=this.toHslString()),t==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return ke(this.toString())},_applyModification:function(t,n){var r=t.apply(null,[this].concat([].slice.call(n)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(k6,arguments)},brighten:function(){return this._applyModification(T6,arguments)},darken:function(){return this._applyModification(I6,arguments)},desaturate:function(){return this._applyModification(w6,arguments)},saturate:function(){return this._applyModification(E6,arguments)},greyscale:function(){return this._applyModification(C6,arguments)},spin:function(){return this._applyModification(R6,arguments)},_applyCombination:function(t,n){return t.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination(j6,arguments)},complement:function(){return this._applyCombination(P6,arguments)},monochromatic:function(){return this._applyCombination(O6,arguments)},splitcomplement:function(){return this._applyCombination(M6,arguments)},triad:function(){return this._applyCombination(k2,[3])},tetrad:function(){return this._applyCombination(k2,[4])}};ke.fromRatio=function(e,t){if(d0(e)=="object"){var n={};for(var r in e)e.hasOwnProperty(r)&&(r==="a"?n[r]=e[r]:n[r]=Hf(e[r]));e=n}return ke(e,t)};function A6(e){var t={r:0,g:0,b:0},n=1,r=null,i=null,s=null,o=!1,l=!1;return typeof e=="string"&&(e=D6(e)),d0(e)=="object"&&(qo(e.r)&&qo(e.g)&&qo(e.b)?(t=b6(e.r,e.g,e.b),o=!0,l=String(e.r).substr(-1)==="%"?"prgb":"rgb"):qo(e.h)&&qo(e.s)&&qo(e.v)?(r=Hf(e.s),i=Hf(e.v),t=S6(e.h,r,i),o=!0,l="hsv"):qo(e.h)&&qo(e.s)&&qo(e.l)&&(r=Hf(e.s),s=Hf(e.l),t=_6(e.h,r,s),o=!0,l="hsl"),e.hasOwnProperty("a")&&(n=e.a)),n=Ij(n),{ok:o,format:e.format||l,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}function b6(e,t,n){return{r:Fn(e,255)*255,g:Fn(t,255)*255,b:Fn(n,255)*255}}function x2(e,t,n){e=Fn(e,255),t=Fn(t,255),n=Fn(n,255);var r=Math.max(e,t,n),i=Math.min(e,t,n),s,o,l=(r+i)/2;if(r==i)s=o=0;else{var d=r-i;switch(o=l>.5?d/(2-r-i):d/(r+i),r){case e:s=(t-n)/d+(t<n?6:0);break;case t:s=(n-e)/d+2;break;case n:s=(e-t)/d+4;break}s/=6}return{h:s,s:o,l}}function _6(e,t,n){var r,i,s;e=Fn(e,360),t=Fn(t,100),n=Fn(n,100);function o(c,h,f){return f<0&&(f+=1),f>1&&(f-=1),f<1/6?c+(h-c)*6*f:f<1/2?h:f<2/3?c+(h-c)*(2/3-f)*6:c}if(t===0)r=i=s=n;else{var l=n<.5?n*(1+t):n+t-n*t,d=2*n-l;r=o(d,l,e+1/3),i=o(d,l,e),s=o(d,l,e-1/3)}return{r:r*255,g:i*255,b:s*255}}function w2(e,t,n){e=Fn(e,255),t=Fn(t,255),n=Fn(n,255);var r=Math.max(e,t,n),i=Math.min(e,t,n),s,o,l=r,d=r-i;if(o=r===0?0:d/r,r==i)s=0;else{switch(r){case e:s=(t-n)/d+(t<n?6:0);break;case t:s=(n-e)/d+2;break;case n:s=(e-t)/d+4;break}s/=6}return{h:s,s:o,v:l}}function S6(e,t,n){e=Fn(e,360)*6,t=Fn(t,100),n=Fn(n,100);var r=Math.floor(e),i=e-r,s=n*(1-t),o=n*(1-i*t),l=n*(1-(1-i)*t),d=r%6,c=[n,o,s,s,l,n][d],h=[l,n,n,o,s,s][d],f=[s,s,l,n,n,o][d];return{r:c*255,g:h*255,b:f*255}}function E2(e,t,n,r){var i=[Zs(Math.round(e).toString(16)),Zs(Math.round(t).toString(16)),Zs(Math.round(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function x6(e,t,n,r,i){var s=[Zs(Math.round(e).toString(16)),Zs(Math.round(t).toString(16)),Zs(Math.round(n).toString(16)),Zs(Rj(r))];return i&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)&&s[3].charAt(0)==s[3].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}function C2(e,t,n,r){var i=[Zs(Rj(r)),Zs(Math.round(e).toString(16)),Zs(Math.round(t).toString(16)),Zs(Math.round(n).toString(16))];return i.join("")}ke.equals=function(e,t){return!e||!t?!1:ke(e).toRgbString()==ke(t).toRgbString()};ke.random=function(){return ke.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function w6(e,t){t=t===0?0:t||10;var n=ke(e).toHsl();return n.s-=t/100,n.s=iv(n.s),ke(n)}function E6(e,t){t=t===0?0:t||10;var n=ke(e).toHsl();return n.s+=t/100,n.s=iv(n.s),ke(n)}function C6(e){return ke(e).desaturate(100)}function k6(e,t){t=t===0?0:t||10;var n=ke(e).toHsl();return n.l+=t/100,n.l=iv(n.l),ke(n)}function T6(e,t){t=t===0?0:t||10;var n=ke(e).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(t/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(t/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(t/100)))),ke(n)}function I6(e,t){t=t===0?0:t||10;var n=ke(e).toHsl();return n.l-=t/100,n.l=iv(n.l),ke(n)}function R6(e,t){var n=ke(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,ke(n)}function P6(e){var t=ke(e).toHsl();return t.h=(t.h+180)%360,ke(t)}function k2(e,t){if(isNaN(t)||t<=0)throw new Error("Argument to polyad must be a positive number");for(var n=ke(e).toHsl(),r=[ke(e)],i=360/t,s=1;s<t;s++)r.push(ke({h:(n.h+s*i)%360,s:n.s,l:n.l}));return r}function M6(e){var t=ke(e).toHsl(),n=t.h;return[ke(e),ke({h:(n+72)%360,s:t.s,l:t.l}),ke({h:(n+216)%360,s:t.s,l:t.l})]}function j6(e,t,n){t=t||6,n=n||30;var r=ke(e).toHsl(),i=360/n,s=[ke(e)];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,s.push(ke(r));return s}function O6(e,t){t=t||6;for(var n=ke(e).toHsv(),r=n.h,i=n.s,s=n.v,o=[],l=1/t;t--;)o.push(ke({h:r,s:i,v:s})),s=(s+l)%1;return o}ke.mix=function(e,t,n){n=n===0?0:n||50;var r=ke(e).toRgb(),i=ke(t).toRgb(),s=n/100,o={r:(i.r-r.r)*s+r.r,g:(i.g-r.g)*s+r.g,b:(i.b-r.b)*s+r.b,a:(i.a-r.a)*s+r.a};return ke(o)};ke.readability=function(e,t){var n=ke(e),r=ke(t);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)};ke.isReadable=function(e,t,n){var r=ke.readability(e,t),i,s;switch(s=!1,i=F6(n),i.level+i.size){case"AAsmall":case"AAAlarge":s=r>=4.5;break;case"AAlarge":s=r>=3;break;case"AAAsmall":s=r>=7;break}return s};ke.mostReadable=function(e,t,n){var r=null,i=0,s,o,l,d;n=n||{},o=n.includeFallbackColors,l=n.level,d=n.size;for(var c=0;c<t.length;c++)s=ke.readability(e,t[c]),s>i&&(i=s,r=ke(t[c]));return ke.isReadable(e,r,{level:l,size:d})||!o?r:(n.includeFallbackColors=!1,ke.mostReadable(e,["#fff","#000"],n))};var s_=ke.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},V6=ke.hexNames=L6(s_);function L6(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function Ij(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function Fn(e,t){N6(e)&&(e="100%");var n=B6(e);return e=Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function iv(e){return Math.min(1,Math.max(0,e))}function Wi(e){return parseInt(e,16)}function N6(e){return typeof e=="string"&&e.indexOf(".")!=-1&&parseFloat(e)===1}function B6(e){return typeof e=="string"&&e.indexOf("%")!=-1}function Zs(e){return e.length==1?"0"+e:""+e}function Hf(e){return e<=1&&(e=e*100+"%"),e}function Rj(e){return Math.round(parseFloat(e)*255).toString(16)}function T2(e){return Wi(e)/255}var Gs=function(){var e="[-\\+]?\\d+%?",t="[-\\+]?\\d*\\.\\d+%?",n="(?:"+t+")|(?:"+e+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function qo(e){return!!Gs.CSS_UNIT.exec(e)}function D6(e){e=e.replace(v6,"").replace(y6,"").toLowerCase();var t=!1;if(s_[e])e=s_[e],t=!0;else if(e=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=Gs.rgb.exec(e))?{r:n[1],g:n[2],b:n[3]}:(n=Gs.rgba.exec(e))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=Gs.hsl.exec(e))?{h:n[1],s:n[2],l:n[3]}:(n=Gs.hsla.exec(e))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=Gs.hsv.exec(e))?{h:n[1],s:n[2],v:n[3]}:(n=Gs.hsva.exec(e))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=Gs.hex8.exec(e))?{r:Wi(n[1]),g:Wi(n[2]),b:Wi(n[3]),a:T2(n[4]),format:t?"name":"hex8"}:(n=Gs.hex6.exec(e))?{r:Wi(n[1]),g:Wi(n[2]),b:Wi(n[3]),format:t?"name":"hex"}:(n=Gs.hex4.exec(e))?{r:Wi(n[1]+""+n[1]),g:Wi(n[2]+""+n[2]),b:Wi(n[3]+""+n[3]),a:T2(n[4]+""+n[4]),format:t?"name":"hex8"}:(n=Gs.hex3.exec(e))?{r:Wi(n[1]+""+n[1]),g:Wi(n[2]+""+n[2]),b:Wi(n[3]+""+n[3]),format:t?"name":"hex"}:!1}function F6(e){var t,n;return e=e||{level:"AA",size:"small"},t=(e.level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),t!=="AA"&&t!=="AAA"&&(t="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:t,size:n}}const $6=ke("rgb(52, 166, 95)"),z6=ke("rgb(15, 138, 95)"),U6=ke("rgb(245, 98, 77)"),H6=ke("rgb(204, 35, 30)"),Pj=ke("rgb(245, 220, 21)"),G6=ke(Pj.toRgbString()).darken(15),Mj=ke("rgb(255, 70, 223)"),q6=ke(Mj.toRgbString()).darken(15),jj=ke("rgb(255, 119, 20)"),W6=ke(jj.toRgbString()).darken(15),Oj=ke("rgb(31, 192, 223)"),K6=ke(Oj.toRgbString()).darken(15),Vj=ke("rgb(102, 44, 182)"),Y6=ke(Vj.toRgbString()).darken(15),Q6=ke("rgb(0, 153, 255)"),J6=ke("rgb(0, 77, 128)"),I2=ke("rgb(255, 54, 54)"),R2=ke("rgb(117, 25, 25)"),X6=ke("rgb(255, 213, 0)"),xm=ke("rgb(255, 183, 0)"),ps=(e,t)=>e.setAlpha(t).toRgbString(),hi=(e,t)=>({text:ps(e,1),stroke:ps(t,1),star:{fill:ps(xm,.5),stroke:ps(xm,0),lineWidth:1},perfect:{fill:ps(e,1),stroke:"white",lineWidth:1},starPerfect:{fill:ps(X6,1),stroke:ps(xm,1),lineWidth:2},hit:{fill:ps(e,.9),stroke:ps(t,0),lineWidth:1},miss:{fill:ps(e,.25),stroke:ps(t,1),lineWidth:1}}),Je={blue:hi(Q6,J6),red:hi(I2,R2),green:hi(ke("rgb(0,183,0)"),ke("rgb(0,84,0)")),yellow:hi(ke("rgb(239,209,0)"),ke("rgb(114,84,0)")),christmasGreen:hi($6,z6),christmasRed:hi(U6,H6),halloweenOrange:hi(ke("#fd9702"),ke("#ff7100")),halloweenViolet:hi(ke("#e102ff"),ke("#ae03ff")),halloweenRed:hi(I2,R2),halloweenGreen:hi(ke("rgb(0,183,0)"),ke("rgb(0,84,0)")),eurovisionYellow:hi(Pj,G6),eurovisionPink:hi(Mj,q6),eurovisionOrange:hi(jj,W6),eurovisionBlue:hi(Oj,K6),eurovisionViolet:hi(Vj,Y6)};let wm=[Je.blue,Je.red,Je.green,Je.yellow];const Ve={colors:{players:wm,lines:{normal:{fill:"rgba(127, 127, 127, .7)",stroke:"black",lineWidth:1},star:{fill:"rgba(158, 144, 106, 1)",stroke:ps(xm,1),lineWidth:1},freestyle:{fill:"rgba(255, 255, 255, 0.1)",stroke:"black",lineWidth:2}},text:{active:"rgb(255, 165, 0)",default:"white",inactive:"grey"}}},P2={christmas:[Je.christmasGreen,Je.christmasRed],eurovision:[Je.eurovisionBlue,Je.eurovisionViolet,Je.eurovisionYellow,Je.eurovisionPink],halloween:[Je.halloweenOrange,Je.halloweenViolet,Je.halloweenRed,Je.halloweenGreen],regular:[Je.blue,Je.red,Je.green,Je.yellow]},Lj=e=>{wm[0]!==P2[e][0]&&(wm=P2[e],Ve.colors.players=wm)};function Hu(e,t,n){e==null||e.send({t,...n})}var o_;try{o_=new TextDecoder}catch{}var Ne,Ss,ie=0,xn={},Ft,Qa,ms=0,So=0,Vr,oa,Bi=[],Nt,M2={useRecords:!1,mapsAsObjects:!0};class Nj{}const Bj=new Nj;Bj.name="MessagePack 0xC1";var tl=!1,Dj=2,j2;try{new Function("")}catch{Dj=1/0}class bh{constructor(t){t&&(t.useRecords===!1&&t.mapsAsObjects===void 0&&(t.mapsAsObjects=!0),t.sequential&&t.trusted!==!1&&(t.trusted=!0,!t.structures&&t.useRecords!=!1&&(t.structures=[],t.maxSharedStructures||(t.maxSharedStructures=0))),t.structures?t.structures.sharedLength=t.structures.length:t.getStructures&&((t.structures=[]).uninitialized=!0,t.structures.sharedLength=0),t.int64AsNumber&&(t.int64AsType="number")),Object.assign(this,t)}unpack(t,n){if(Ne)return Gj(()=>(l_(),this?this.unpack(t,n):bh.prototype.unpack.call(M2,t,n)));!t.buffer&&t.constructor===ArrayBuffer&&(t=typeof Buffer<"u"?Buffer.from(t):new Uint8Array(t)),typeof n=="object"?(Ss=n.end||t.length,ie=n.start||0):(ie=0,Ss=n>-1?n:t.length),So=0,Qa=null,Vr=null,Ne=t;try{Nt=t.dataView||(t.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength))}catch(r){throw Ne=null,t instanceof Uint8Array?r:new Error("Source must be a Uint8Array or Buffer but was a "+(t&&typeof t=="object"?t.constructor.name:typeof t))}if(this instanceof bh){if(xn=this,this.structures)return Ft=this.structures,Eg(n);(!Ft||Ft.length>0)&&(Ft=[])}else xn=M2,(!Ft||Ft.length>0)&&(Ft=[]);return Eg(n)}unpackMultiple(t,n){let r,i=0;try{tl=!0;let s=t.length,o=this?this.unpack(t,s):sv.unpack(t,s);if(n){if(n(o,i,ie)===!1)return;for(;ie<s;)if(i=ie,n(Eg(),i,ie)===!1)return}else{for(r=[o];ie<s;)i=ie,r.push(Eg());return r}}catch(s){throw s.lastPosition=i,s.values=r,s}finally{tl=!1,l_()}}_mergeStructures(t,n){t=t||[],Object.isFrozen(t)&&(t=t.map(r=>r.slice(0)));for(let r=0,i=t.length;r<i;r++){let s=t[r];s&&(s.isShared=!0,r>=32&&(s.highByte=r-32>>5))}t.sharedLength=t.length;for(let r in n||[])if(r>=0){let i=t[r],s=n[r];s&&(i&&((t.restoreStructures||(t.restoreStructures=[]))[r]=i),t[r]=s)}return this.structures=t}decode(t,n){return this.unpack(t,n)}}function Eg(e){try{if(!xn.trusted&&!tl){let n=Ft.sharedLength||0;n<Ft.length&&(Ft.length=n)}let t;if(xn.randomAccessStructure&&Ne[ie]<64&&Ne[ie]>=32&&j2?(t=j2(Ne,ie,Ss,xn),Ne=null,!(e&&e.lazy)&&t&&(t=t.toJSON()),ie=Ss):t=ar(),Vr&&(ie=Vr.postBundlePosition,Vr=null),tl&&(Ft.restoreStructures=null),ie==Ss)Ft&&Ft.restoreStructures&&O2(),Ft=null,Ne=null,oa&&(oa=null);else{if(ie>Ss)throw new Error("Unexpected end of MessagePack data");if(!tl){let n;try{n=JSON.stringify(t,(r,i)=>typeof i=="bigint"?`${i}n`:i).slice(0,100)}catch(r){n="(JSON view not available "+r+")"}throw new Error("Data read, but end of buffer not reached "+n)}}return t}catch(t){throw Ft&&Ft.restoreStructures&&O2(),l_(),(t instanceof RangeError||t.message.startsWith("Unexpected end of buffer")||ie>Ss)&&(t.incomplete=!0),t}}function O2(){for(let e in Ft.restoreStructures)Ft[e]=Ft.restoreStructures[e];Ft.restoreStructures=null}function ar(){let e=Ne[ie++];if(e<160)if(e<128){if(e<64)return e;{let t=Ft[e&63]||xn.getStructures&&Fj()[e&63];return t?(t.read||(t.read=KS(t,e&63)),t.read()):e}}else if(e<144)if(e-=128,xn.mapsAsObjects){let t={};for(let n=0;n<e;n++){let r=zj();r==="__proto__"&&(r="__proto_"),t[r]=ar()}return t}else{let t=new Map;for(let n=0;n<e;n++)t.set(ar(),ar());return t}else{e-=144;let t=new Array(e);for(let n=0;n<e;n++)t[n]=ar();return xn.freezeData?Object.freeze(t):t}else if(e<192){let t=e-160;if(So>=ie)return Qa.slice(ie-ms,(ie+=t)-ms);if(So==0&&Ss<140){let n=t<16?YS(t):$j(t);if(n!=null)return n}return a_(t)}else{let t;switch(e){case 192:return null;case 193:return Vr?(t=ar(),t>0?Vr[1].slice(Vr.position1,Vr.position1+=t):Vr[0].slice(Vr.position0,Vr.position0-=t)):Bj;case 194:return!1;case 195:return!0;case 196:if(t=Ne[ie++],t===void 0)throw new Error("Unexpected end of buffer");return QA(t);case 197:return t=Nt.getUint16(ie),ie+=2,QA(t);case 198:return t=Nt.getUint32(ie),ie+=4,QA(t);case 199:return Fl(Ne[ie++]);case 200:return t=Nt.getUint16(ie),ie+=2,Fl(t);case 201:return t=Nt.getUint32(ie),ie+=4,Fl(t);case 202:if(t=Nt.getFloat32(ie),xn.useFloat32>2){let n=QS[(Ne[ie]&127)<<1|Ne[ie+1]>>7];return ie+=4,(n*t+(t>0?.5:-.5)>>0)/n}return ie+=4,t;case 203:return t=Nt.getFloat64(ie),ie+=8,t;case 204:return Ne[ie++];case 205:return t=Nt.getUint16(ie),ie+=2,t;case 206:return t=Nt.getUint32(ie),ie+=4,t;case 207:return xn.int64AsType==="number"?(t=Nt.getUint32(ie)*4294967296,t+=Nt.getUint32(ie+4)):xn.int64AsType==="string"?t=Nt.getBigUint64(ie).toString():xn.int64AsType==="auto"?(t=Nt.getBigUint64(ie),t<=BigInt(2)<<BigInt(52)&&(t=Number(t))):t=Nt.getBigUint64(ie),ie+=8,t;case 208:return Nt.getInt8(ie++);case 209:return t=Nt.getInt16(ie),ie+=2,t;case 210:return t=Nt.getInt32(ie),ie+=4,t;case 211:return xn.int64AsType==="number"?(t=Nt.getInt32(ie)*4294967296,t+=Nt.getUint32(ie+4)):xn.int64AsType==="string"?t=Nt.getBigInt64(ie).toString():xn.int64AsType==="auto"?(t=Nt.getBigInt64(ie),t>=BigInt(-2)<<BigInt(52)&&t<=BigInt(2)<<BigInt(52)&&(t=Number(t))):t=Nt.getBigInt64(ie),ie+=8,t;case 212:if(t=Ne[ie++],t==114)return F2(Ne[ie++]&63);{let n=Bi[t];if(n)return n.read?(ie++,n.read(ar())):n.noBuffer?(ie++,n()):n(Ne.subarray(ie,++ie));throw new Error("Unknown extension "+t)}case 213:return t=Ne[ie],t==114?(ie++,F2(Ne[ie++]&63,Ne[ie++])):Fl(2);case 214:return Fl(4);case 215:return Fl(8);case 216:return Fl(16);case 217:return t=Ne[ie++],So>=ie?Qa.slice(ie-ms,(ie+=t)-ms):e$(t);case 218:return t=Nt.getUint16(ie),ie+=2,So>=ie?Qa.slice(ie-ms,(ie+=t)-ms):t$(t);case 219:return t=Nt.getUint32(ie),ie+=4,So>=ie?Qa.slice(ie-ms,(ie+=t)-ms):n$(t);case 220:return t=Nt.getUint16(ie),ie+=2,L2(t);case 221:return t=Nt.getUint32(ie),ie+=4,L2(t);case 222:return t=Nt.getUint16(ie),ie+=2,N2(t);case 223:return t=Nt.getUint32(ie),ie+=4,N2(t);default:if(e>=224)return e-256;if(e===void 0){let n=new Error("Unexpected end of MessagePack data");throw n.incomplete=!0,n}throw new Error("Unknown MessagePack token "+e)}}}const Z6=/^[a-zA-Z_$][a-zA-Z\d_$]*$/;function KS(e,t){function n(){if(n.count++>Dj){let i=e.read=new Function("r","return function(){return "+(xn.freezeData?"Object.freeze":"")+"({"+e.map(s=>s==="__proto__"?"__proto_:r()":Z6.test(s)?s+":r()":"["+JSON.stringify(s)+"]:r()").join(",")+"})}")(ar);return e.highByte===0&&(e.read=V2(t,e.read)),i()}let r={};for(let i=0,s=e.length;i<s;i++){let o=e[i];o==="__proto__"&&(o="__proto_"),r[o]=ar()}return xn.freezeData?Object.freeze(r):r}return n.count=0,e.highByte===0?V2(t,n):n}const V2=(e,t)=>function(){let n=Ne[ie++];if(n===0)return t();let r=e<32?-(e+(n<<5)):e+(n<<5),i=Ft[r]||Fj()[r];if(!i)throw new Error("Record id is not defined for "+r);return i.read||(i.read=KS(i,e)),i.read()};function Fj(){let e=Gj(()=>(Ne=null,xn.getStructures()));return Ft=xn._mergeStructures(e,Ft)}var a_=$h,e$=$h,t$=$h,n$=$h;function $h(e){let t;if(e<16&&(t=YS(e)))return t;if(e>64&&o_)return o_.decode(Ne.subarray(ie,ie+=e));const n=ie+e,r=[];for(t="";ie<n;){const i=Ne[ie++];if(!(i&128))r.push(i);else if((i&224)===192){const s=Ne[ie++]&63;r.push((i&31)<<6|s)}else if((i&240)===224){const s=Ne[ie++]&63,o=Ne[ie++]&63;r.push((i&31)<<12|s<<6|o)}else if((i&248)===240){const s=Ne[ie++]&63,o=Ne[ie++]&63,l=Ne[ie++]&63;let d=(i&7)<<18|s<<12|o<<6|l;d>65535&&(d-=65536,r.push(d>>>10&1023|55296),d=56320|d&1023),r.push(d)}else r.push(i);r.length>=4096&&(t+=Mr.apply(String,r),r.length=0)}return r.length>0&&(t+=Mr.apply(String,r)),t}function L2(e){let t=new Array(e);for(let n=0;n<e;n++)t[n]=ar();return xn.freezeData?Object.freeze(t):t}function N2(e){if(xn.mapsAsObjects){let t={};for(let n=0;n<e;n++){let r=zj();r==="__proto__"&&(r="__proto_"),t[r]=ar()}return t}else{let t=new Map;for(let n=0;n<e;n++)t.set(ar(),ar());return t}}var Mr=String.fromCharCode;function $j(e){let t=ie,n=new Array(e);for(let r=0;r<e;r++){const i=Ne[ie++];if((i&128)>0){ie=t;return}n[r]=i}return Mr.apply(String,n)}function YS(e){if(e<4)if(e<2){if(e===0)return"";{let t=Ne[ie++];if((t&128)>1){ie-=1;return}return Mr(t)}}else{let t=Ne[ie++],n=Ne[ie++];if((t&128)>0||(n&128)>0){ie-=2;return}if(e<3)return Mr(t,n);let r=Ne[ie++];if((r&128)>0){ie-=3;return}return Mr(t,n,r)}else{let t=Ne[ie++],n=Ne[ie++],r=Ne[ie++],i=Ne[ie++];if((t&128)>0||(n&128)>0||(r&128)>0||(i&128)>0){ie-=4;return}if(e<6){if(e===4)return Mr(t,n,r,i);{let s=Ne[ie++];if((s&128)>0){ie-=5;return}return Mr(t,n,r,i,s)}}else if(e<8){let s=Ne[ie++],o=Ne[ie++];if((s&128)>0||(o&128)>0){ie-=6;return}if(e<7)return Mr(t,n,r,i,s,o);let l=Ne[ie++];if((l&128)>0){ie-=7;return}return Mr(t,n,r,i,s,o,l)}else{let s=Ne[ie++],o=Ne[ie++],l=Ne[ie++],d=Ne[ie++];if((s&128)>0||(o&128)>0||(l&128)>0||(d&128)>0){ie-=8;return}if(e<10){if(e===8)return Mr(t,n,r,i,s,o,l,d);{let c=Ne[ie++];if((c&128)>0){ie-=9;return}return Mr(t,n,r,i,s,o,l,d,c)}}else if(e<12){let c=Ne[ie++],h=Ne[ie++];if((c&128)>0||(h&128)>0){ie-=10;return}if(e<11)return Mr(t,n,r,i,s,o,l,d,c,h);let f=Ne[ie++];if((f&128)>0){ie-=11;return}return Mr(t,n,r,i,s,o,l,d,c,h,f)}else{let c=Ne[ie++],h=Ne[ie++],f=Ne[ie++],m=Ne[ie++];if((c&128)>0||(h&128)>0||(f&128)>0||(m&128)>0){ie-=12;return}if(e<14){if(e===12)return Mr(t,n,r,i,s,o,l,d,c,h,f,m);{let v=Ne[ie++];if((v&128)>0){ie-=13;return}return Mr(t,n,r,i,s,o,l,d,c,h,f,m,v)}}else{let v=Ne[ie++],A=Ne[ie++];if((v&128)>0||(A&128)>0){ie-=14;return}if(e<15)return Mr(t,n,r,i,s,o,l,d,c,h,f,m,v,A);let b=Ne[ie++];if((b&128)>0){ie-=15;return}return Mr(t,n,r,i,s,o,l,d,c,h,f,m,v,A,b)}}}}}function B2(){let e=Ne[ie++],t;if(e<192)t=e-160;else switch(e){case 217:t=Ne[ie++];break;case 218:t=Nt.getUint16(ie),ie+=2;break;case 219:t=Nt.getUint32(ie),ie+=4;break;default:throw new Error("Expected string")}return $h(t)}function QA(e){return xn.copyBuffers?Uint8Array.prototype.slice.call(Ne,ie,ie+=e):Ne.subarray(ie,ie+=e)}function Fl(e){let t=Ne[ie++];if(Bi[t]){let n;return Bi[t](Ne.subarray(ie,n=ie+=e),r=>{ie=r;try{return ar()}finally{ie=n}})}else throw new Error("Unknown extension type "+t)}var D2=new Array(4096);function zj(){let e=Ne[ie++];if(e>=160&&e<192){if(e=e-160,So>=ie)return Qa.slice(ie-ms,(ie+=e)-ms);if(!(So==0&&Ss<180))return a_(e)}else return ie--,Uj(ar());let t=(e<<5^(e>1?Nt.getUint16(ie):e>0?Ne[ie]:0))&4095,n=D2[t],r=ie,i=ie+e-3,s,o=0;if(n&&n.bytes==e){for(;r<i;){if(s=Nt.getUint32(r),s!=n[o++]){r=1879048192;break}r+=4}for(i+=3;r<i;)if(s=Ne[r++],s!=n[o++]){r=1879048192;break}if(r===i)return ie=r,n.string;i-=3,r=ie}for(n=[],D2[t]=n,n.bytes=e;r<i;)s=Nt.getUint32(r),n.push(s),r+=4;for(i+=3;r<i;)s=Ne[r++],n.push(s);let l=e<16?YS(e):$j(e);return l!=null?n.string=l:n.string=a_(e)}function Uj(e){if(typeof e=="string")return e;if(typeof e=="number")return e.toString();throw new Error("Invalid property type for record",typeof e)}const F2=(e,t)=>{let n=ar().map(Uj),r=e;t!==void 0&&(e=e<32?-((t<<5)+e):(t<<5)+e,n.highByte=t);let i=Ft[e];return i&&(i.isShared||tl)&&((Ft.restoreStructures||(Ft.restoreStructures=[]))[e]=i),Ft[e]=n,n.read=KS(n,r),n.read()};Bi[0]=()=>{};Bi[0].noBuffer=!0;Bi[66]=e=>{let t=e.length,n=BigInt(e[0]&128?e[0]-256:e[0]);for(let r=1;r<t;r++)n<<=8n,n+=BigInt(e[r]);return n};let r$={Error,TypeError,ReferenceError};Bi[101]=()=>{let e=ar();return(r$[e[0]]||Error)(e[1])};Bi[105]=e=>{if(xn.structuredClone===!1)throw new Error("Structured clone extension is disabled");let t=Nt.getUint32(ie-4);oa||(oa=new Map);let n=Ne[ie],r;n>=144&&n<160||n==220||n==221?r=[]:r={};let i={target:r};oa.set(t,i);let s=ar();return i.used?Object.assign(r,s):(i.target=s,s)};Bi[112]=e=>{if(xn.structuredClone===!1)throw new Error("Structured clone extension is disabled");let t=Nt.getUint32(ie-4),n=oa.get(t);return n.used=!0,n.target};Bi[115]=()=>new Set(ar());const Hj=["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64","BigInt64","BigUint64"].map(e=>e+"Array");let i$=typeof globalThis=="object"?globalThis:window;Bi[116]=e=>{let t=e[0],n=Hj[t];if(!n)throw new Error("Could not find typed array for code "+t);return new i$[n](Uint8Array.prototype.slice.call(e,1).buffer)};Bi[120]=()=>{let e=ar();return new RegExp(e[0],e[1])};const s$=[];Bi[98]=e=>{let t=(e[0]<<24)+(e[1]<<16)+(e[2]<<8)+e[3],n=ie;return ie+=t-e.length,Vr=s$,Vr=[B2(),B2()],Vr.position0=0,Vr.position1=0,Vr.postBundlePosition=ie,ie=n,ar()};Bi[255]=e=>e.length==4?new Date((e[0]*16777216+(e[1]<<16)+(e[2]<<8)+e[3])*1e3):e.length==8?new Date(((e[0]<<22)+(e[1]<<14)+(e[2]<<6)+(e[3]>>2))/1e6+((e[3]&3)*4294967296+e[4]*16777216+(e[5]<<16)+(e[6]<<8)+e[7])*1e3):e.length==12?new Date(((e[0]<<24)+(e[1]<<16)+(e[2]<<8)+e[3])/1e6+((e[4]&128?-281474976710656:0)+e[6]*1099511627776+e[7]*4294967296+e[8]*16777216+(e[9]<<16)+(e[10]<<8)+e[11])*1e3):new Date("invalid");function Gj(e){let t=Ss,n=ie,r=ms,i=So,s=Qa,o=oa,l=Vr,d=new Uint8Array(Ne.slice(0,Ss)),c=Ft,h=Ft.slice(0,Ft.length),f=xn,m=tl,v=e();return Ss=t,ie=n,ms=r,So=i,Qa=s,oa=o,Vr=l,Ne=d,tl=m,Ft=c,Ft.splice(0,Ft.length,...h),xn=f,Nt=new DataView(Ne.buffer,Ne.byteOffset,Ne.byteLength),v}function l_(){Ne=null,oa=null,Ft=null}const QS=new Array(147);for(let e=0;e<256;e++)QS[e]=+("1e"+Math.floor(45.15-e*.30103));var sv=new bh({useRecords:!1});const o$=sv.unpack;sv.unpackMultiple;sv.unpack;let a$=new Float32Array(1);new Uint8Array(a$.buffer,0,4);let Em;try{Em=new TextEncoder}catch{}let c_,qj;const ov=typeof Buffer<"u",Cg=ov?function(e){return Buffer.allocUnsafeSlow(e)}:Uint8Array,Wj=ov?Buffer:Uint8Array,$2=ov?4294967296:2144337920;let fe,Ef,gn,oe=0,pi,Gn=null,l$;const c$=21760,u$=/[\u0080-\uFFFF]/,mu=Symbol("record-id");class d$ extends bh{constructor(t){super(t),this.offset=0;let n,r,i,s,o=Wj.prototype.utf8Write?function(F,U){return fe.utf8Write(F,U,4294967295)}:Em&&Em.encodeInto?function(F,U){return Em.encodeInto(F,fe.subarray(U)).written}:!1,l=this;t||(t={});let d=t&&t.sequential,c=t.structures||t.saveStructures,h=t.maxSharedStructures;if(h==null&&(h=c?32:0),h>8160)throw new Error("Maximum maxSharedStructure is 8160");t.structuredClone&&t.moreTypes==null&&(this.moreTypes=!0);let f=t.maxOwnStructures;f==null&&(f=c?32:64),!this.structures&&t.useRecords!=!1&&(this.structures=[]);let m=h>32||f+h>64,v=h+64,A=h+f+64;if(A>8256)throw new Error("Maximum maxSharedStructure + maxOwnStructure is 8192");let b=[],x=0,E=0;this.pack=this.encode=function(F,U){if(fe||(fe=new Cg(8192),gn=fe.dataView||(fe.dataView=new DataView(fe.buffer,0,8192)),oe=0),pi=fe.length-10,pi-oe<2048?(fe=new Cg(fe.length),gn=fe.dataView||(fe.dataView=new DataView(fe.buffer,0,fe.length)),pi=fe.length-10,oe=0):oe=oe+7&2147483640,n=oe,U&v$&&(oe+=U&255),s=l.structuredClone?new Map:null,l.bundleStrings&&typeof F!="string"?(Gn=[],Gn.size=1/0):Gn=null,i=l.structures,i){i.uninitialized&&(i=l._mergeStructures(l.getStructures()));let L=i.sharedLength||0;if(L>h)throw new Error("Shared structures is larger than maximum shared structures, try increasing maxSharedStructures to "+i.sharedLength);if(!i.transitions){i.transitions=Object.create(null);for(let Y=0;Y<L;Y++){let q=i[Y];if(!q)continue;let Q,M=i.transitions;for(let z=0,J=q.length;z<J;z++){let ae=q[z];Q=M[ae],Q||(Q=M[ae]=Object.create(null)),M=Q}M[mu]=Y+64}this.lastNamedStructuresLength=L}d||(i.nextId=L+64)}r&&(r=!1);let D;try{l.randomAccessStructure&&F&&F.constructor&&F.constructor===Object?H(F):T(F);let L=Gn;if(Gn&&H2(n,T,0),s&&s.idsToInsert){let Y=s.idsToInsert.sort((z,J)=>z.offset>J.offset?1:-1),q=Y.length,Q=-1;for(;L&&q>0;){let z=Y[--q].offset+n;z<L.stringsPosition+n&&Q===-1&&(Q=0),z>L.position+n?Q>=0&&(Q+=6):(Q>=0&&(gn.setUint32(L.position+n,gn.getUint32(L.position+n)+Q),Q=-1),L=L.previous,q++)}Q>=0&&L&&gn.setUint32(L.position+n,gn.getUint32(L.position+n)+Q),oe+=Y.length*6,oe>pi&&N(oe),l.offset=oe;let M=h$(fe.subarray(n,oe),Y);return s=null,M}return l.offset=oe,U&g$?(fe.start=n,fe.end=oe,fe):fe.subarray(n,oe)}catch(L){throw D=L,L}finally{if(i&&(I(),r&&l.saveStructures)){let L=i.sharedLength||0,Y=fe.subarray(n,oe),q=p$(i,l);if(!D)return l.saveStructures(q,q.isCompatible)===!1?l.pack(F,U):(l.lastNamedStructuresLength=L,Y)}U&m$&&(oe=n)}};const I=()=>{E<10&&E++;let F=i.sharedLength||0;if(i.length>F&&!d&&(i.length=F),x>1e4)i.transitions=null,E=0,x=0,b.length>0&&(b=[]);else if(b.length>0&&!d){for(let U=0,D=b.length;U<D;U++)b[U][mu]=0;b=[]}},P=F=>{var U=F.length;U<16?fe[oe++]=144|U:U<65536?(fe[oe++]=220,fe[oe++]=U>>8,fe[oe++]=U&255):(fe[oe++]=221,gn.setUint32(oe,U),oe+=4);for(let D=0;D<U;D++)T(F[D])},T=F=>{oe>pi&&(fe=N(oe));var U=typeof F,D;if(U==="string"){let L=F.length;if(Gn&&L>=4&&L<4096){if((Gn.size+=L)>c$){let M,z=(Gn[0]?Gn[0].length*3+Gn[1].length:0)+10;oe+z>pi&&(fe=N(oe+z));let J;Gn.position?(J=Gn,fe[oe]=200,oe+=3,fe[oe++]=98,M=oe-n,oe+=4,H2(n,T,0),gn.setUint16(M+n-3,oe-n-M)):(fe[oe++]=214,fe[oe++]=98,M=oe-n,oe+=4),Gn=["",""],Gn.previous=J,Gn.size=0,Gn.position=M}let Q=u$.test(F);Gn[Q?0:1]+=F,fe[oe++]=193,T(Q?-L:L);return}let Y;L<32?Y=1:L<256?Y=2:L<65536?Y=3:Y=5;let q=L*3;if(oe+q>pi&&(fe=N(oe+q)),L<64||!o){let Q,M,z,J=oe+Y;for(Q=0;Q<L;Q++)M=F.charCodeAt(Q),M<128?fe[J++]=M:M<2048?(fe[J++]=M>>6|192,fe[J++]=M&63|128):(M&64512)===55296&&((z=F.charCodeAt(Q+1))&64512)===56320?(M=65536+((M&1023)<<10)+(z&1023),Q++,fe[J++]=M>>18|240,fe[J++]=M>>12&63|128,fe[J++]=M>>6&63|128,fe[J++]=M&63|128):(fe[J++]=M>>12|224,fe[J++]=M>>6&63|128,fe[J++]=M&63|128);D=J-oe-Y}else D=o(F,oe+Y);D<32?fe[oe++]=160|D:D<256?(Y<2&&fe.copyWithin(oe+2,oe+1,oe+1+D),fe[oe++]=217,fe[oe++]=D):D<65536?(Y<3&&fe.copyWithin(oe+3,oe+2,oe+2+D),fe[oe++]=218,fe[oe++]=D>>8,fe[oe++]=D&255):(Y<5&&fe.copyWithin(oe+5,oe+3,oe+3+D),fe[oe++]=219,gn.setUint32(oe,D),oe+=4),oe+=D}else if(U==="number")if(F>>>0===F)F<32||F<128&&this.useRecords===!1||F<64&&!this.randomAccessStructure?fe[oe++]=F:F<256?(fe[oe++]=204,fe[oe++]=F):F<65536?(fe[oe++]=205,fe[oe++]=F>>8,fe[oe++]=F&255):(fe[oe++]=206,gn.setUint32(oe,F),oe+=4);else if(F>>0===F)F>=-32?fe[oe++]=256+F:F>=-128?(fe[oe++]=208,fe[oe++]=F+256):F>=-32768?(fe[oe++]=209,gn.setInt16(oe,F),oe+=2):(fe[oe++]=210,gn.setInt32(oe,F),oe+=4);else{let L;if((L=this.useFloat32)>0&&F<4294967296&&F>=-2147483648){fe[oe++]=202,gn.setFloat32(oe,F);let Y;if(L<4||(Y=F*QS[(fe[oe]&127)<<1|fe[oe+1]>>7])>>0===Y){oe+=4;return}else oe--}fe[oe++]=203,gn.setFloat64(oe,F),oe+=8}else if(U==="object"||U==="function")if(!F)fe[oe++]=192;else{if(s){let Y=s.get(F);if(Y){if(!Y.id){let q=s.idsToInsert||(s.idsToInsert=[]);Y.id=q.push(Y)}fe[oe++]=214,fe[oe++]=112,gn.setUint32(oe,Y.id),oe+=4;return}else s.set(F,{offset:oe-n})}let L=F.constructor;if(L===Object)V(F,!0);else if(L===Array)P(F);else if(L===Map)if(this.mapAsEmptyObject)fe[oe++]=128;else{D=F.size,D<16?fe[oe++]=128|D:D<65536?(fe[oe++]=222,fe[oe++]=D>>8,fe[oe++]=D&255):(fe[oe++]=223,gn.setUint32(oe,D),oe+=4);for(let[Y,q]of F)T(Y),T(q)}else{for(let Y=0,q=c_.length;Y<q;Y++){let Q=qj[Y];if(F instanceof Q){let M=c_[Y];if(M.write){M.type&&(fe[oe++]=212,fe[oe++]=M.type,fe[oe++]=0);let ye=M.write.call(this,F);ye===F?Array.isArray(F)?P(F):V(F):T(ye);return}let z=fe,J=gn,ae=oe;fe=null;let W;try{W=M.pack.call(this,F,ye=>(fe=z,z=null,oe+=ye,oe>pi&&N(oe),{target:fe,targetView:gn,position:oe-ye}),T)}finally{z&&(fe=z,gn=J,oe=ae,pi=fe.length-10)}W&&(W.length+oe>pi&&N(W.length+oe),oe=f$(W,fe,oe,M.type));return}}if(Array.isArray(F))P(F);else{if(F.toJSON){const Y=F.toJSON();if(Y!==F)return T(Y)}if(U==="function")return T(this.writeFunction&&this.writeFunction(F));V(F,!F.hasOwnProperty)}}}else if(U==="boolean")fe[oe++]=F?195:194;else if(U==="bigint"){if(F<BigInt(1)<<BigInt(63)&&F>=-(BigInt(1)<<BigInt(63)))fe[oe++]=211,gn.setBigInt64(oe,F);else if(F<BigInt(1)<<BigInt(64)&&F>0)fe[oe++]=207,gn.setBigUint64(oe,F);else if(this.largeBigIntToFloat)fe[oe++]=203,gn.setFloat64(oe,Number(F));else if(this.useBigIntExtension&&F<2n**1023n&&F>-(2n**1023n)){fe[oe++]=199,oe++,fe[oe++]=66;let L=[],Y;do{let q=F&0xffn;Y=(q&0x80n)===(F<0n?0x80n:0n),L.push(q),F>>=8n}while(!((F===0n||F===-1n)&&Y));fe[oe-2]=L.length;for(let q=L.length;q>0;)fe[oe++]=Number(L[--q]);return}else throw new RangeError(F+" was too large to fit in MessagePack 64-bit integer format, use useBigIntExtension or set largeBigIntToFloat to convert to float-64");oe+=8}else if(U==="undefined")this.encodeUndefinedAsNil?fe[oe++]=192:(fe[oe++]=212,fe[oe++]=0,fe[oe++]=0);else throw new Error("Unknown type: "+U)},w=this.variableMapSize||this.coercibleKeyAsNumber?F=>{let U=Object.keys(F),D=U.length;D<16?fe[oe++]=128|D:D<65536?(fe[oe++]=222,fe[oe++]=D>>8,fe[oe++]=D&255):(fe[oe++]=223,gn.setUint32(oe,D),oe+=4);let L;if(this.coercibleKeyAsNumber)for(let Y=0;Y<D;Y++){L=U[Y];let q=Number(L);T(isNaN(q)?L:q),T(F[L])}else for(let Y=0;Y<D;Y++)T(L=U[Y]),T(F[L])}:(F,U)=>{fe[oe++]=222;let D=oe-n;oe+=2;let L=0;for(let Y in F)(U||F.hasOwnProperty(Y))&&(T(Y),T(F[Y]),L++);fe[D+++n]=L>>8,fe[D+n]=L&255},R=this.useRecords===!1?w:t.progressiveRecords&&!m?(F,U)=>{let D,L=i.transitions||(i.transitions=Object.create(null)),Y=oe++-n,q;for(let Q in F)if(U||F.hasOwnProperty(Q)){if(D=L[Q],D)L=D;else{let M=Object.keys(F),z=L;L=i.transitions;let J=0;for(let ae=0,W=M.length;ae<W;ae++){let ye=M[ae];D=L[ye],D||(D=L[ye]=Object.create(null),J++),L=D}Y+n+1==oe?(oe--,k(L,M,J)):B(L,M,Y,J),q=!0,L=z[Q]}T(F[Q])}if(!q){let Q=L[mu];Q?fe[Y+n]=Q:B(L,Object.keys(F),Y,0)}}:(F,U)=>{let D,L=i.transitions||(i.transitions=Object.create(null)),Y=0;for(let Q in F)(U||F.hasOwnProperty(Q))&&(D=L[Q],D||(D=L[Q]=Object.create(null),Y++),L=D);let q=L[mu];q?q>=96&&m?(fe[oe++]=((q-=96)&31)+96,fe[oe++]=q>>5):fe[oe++]=q:k(L,L.__keys__||Object.keys(F),Y);for(let Q in F)(U||F.hasOwnProperty(Q))&&T(F[Q])},j=typeof this.useRecords=="function"&&this.useRecords,V=j?(F,U)=>{j(F)?R(F,U):w(F,U)}:R,N=F=>{let U;if(F>16777216){if(F-n>$2)throw new Error("Packed buffer would be larger than maximum buffer size");U=Math.min($2,Math.round(Math.max((F-n)*(F>67108864?1.25:2),4194304)/4096)*4096)}else U=(Math.max(F-n<<2,fe.length-1)>>12)+1<<12;let D=new Cg(U);return gn=D.dataView||(D.dataView=new DataView(D.buffer,0,U)),F=Math.min(F,fe.length),fe.copy?fe.copy(D,0,n,F):D.set(fe.slice(n,F)),oe-=n,n=0,pi=D.length-10,fe=D},k=(F,U,D)=>{let L=i.nextId;L||(L=64),L<v&&this.shouldShareStructure&&!this.shouldShareStructure(U)?(L=i.nextOwnId,L<A||(L=v),i.nextOwnId=L+1):(L>=A&&(L=v),i.nextId=L+1);let Y=U.highByte=L>=96&&m?L-96>>5:-1;F[mu]=L,F.__keys__=U,i[L-64]=U,L<v?(U.isShared=!0,i.sharedLength=L-63,r=!0,Y>=0?(fe[oe++]=(L&31)+96,fe[oe++]=Y):fe[oe++]=L):(Y>=0?(fe[oe++]=213,fe[oe++]=114,fe[oe++]=(L&31)+96,fe[oe++]=Y):(fe[oe++]=212,fe[oe++]=114,fe[oe++]=L),D&&(x+=E*D),b.length>=f&&(b.shift()[mu]=0),b.push(F),T(U))},B=(F,U,D,L)=>{let Y=fe,q=oe,Q=pi,M=n;fe=Ef,oe=0,n=0,fe||(Ef=fe=new Cg(8192)),pi=fe.length-10,k(F,U,L),Ef=fe;let z=oe;if(fe=Y,oe=q,pi=Q,n=M,z>1){let J=oe+z-1;J>pi&&N(J);let ae=D+n;fe.copyWithin(ae+z,ae+1,oe),fe.set(Ef.slice(0,z),ae),oe=J}else fe[D+n]=Ef[0]},H=(F,U)=>{let D=l$(F,fe,n,oe,i,N,(L,Y,q)=>{if(q)return r=!0;oe=Y;let Q=fe;return T(L),I(),Q!==fe?{position:oe,targetView:gn,target:fe}:oe},this);if(D===0)return V(F,!0);oe=D}}useBuffer(t){fe=t,gn=new DataView(fe.buffer,fe.byteOffset,fe.byteLength),oe=0}clearSharedData(){this.structures&&(this.structures=[]),this.typedStructs&&(this.typedStructs=[])}}qj=[Date,Set,Error,RegExp,ArrayBuffer,Object.getPrototypeOf(Uint8Array.prototype).constructor,Nj];c_=[{pack(e,t,n){let r=e.getTime()/1e3;if((this.useTimestamp32||e.getMilliseconds()===0)&&r>=0&&r<4294967296){let{target:i,targetView:s,position:o}=t(6);i[o++]=214,i[o++]=255,s.setUint32(o,r)}else if(r>0&&r<4294967296){let{target:i,targetView:s,position:o}=t(10);i[o++]=215,i[o++]=255,s.setUint32(o,e.getMilliseconds()*4e6+(r/1e3/4294967296>>0)),s.setUint32(o+4,r)}else if(isNaN(r)){if(this.onInvalidDate)return t(0),n(this.onInvalidDate());let{target:i,targetView:s,position:o}=t(3);i[o++]=212,i[o++]=255,i[o++]=255}else{let{target:i,targetView:s,position:o}=t(15);i[o++]=199,i[o++]=12,i[o++]=255,s.setUint32(o,e.getMilliseconds()*1e6),s.setBigInt64(o+4,BigInt(Math.floor(r)))}}},{pack(e,t,n){if(this.setAsEmptyObject)return t(0),n({});let r=Array.from(e),{target:i,position:s}=t(this.moreTypes?3:0);this.moreTypes&&(i[s++]=212,i[s++]=115,i[s++]=0),n(r)}},{pack(e,t,n){let{target:r,position:i}=t(this.moreTypes?3:0);this.moreTypes&&(r[i++]=212,r[i++]=101,r[i++]=0),n([e.name,e.message])}},{pack(e,t,n){let{target:r,position:i}=t(this.moreTypes?3:0);this.moreTypes&&(r[i++]=212,r[i++]=120,r[i++]=0),n([e.source,e.flags])}},{pack(e,t){this.moreTypes?z2(e,16,t):U2(ov?Buffer.from(e):new Uint8Array(e),t)}},{pack(e,t){let n=e.constructor;n!==Wj&&this.moreTypes?z2(e,Hj.indexOf(n.name),t):U2(e,t)}},{pack(e,t){let{target:n,position:r}=t(1);n[r]=193}}];function z2(e,t,n,r){let i=e.byteLength;if(i+1<256){var{target:s,position:o}=n(4+i);s[o++]=199,s[o++]=i+1}else if(i+1<65536){var{target:s,position:o}=n(5+i);s[o++]=200,s[o++]=i+1>>8,s[o++]=i+1&255}else{var{target:s,position:o,targetView:l}=n(7+i);s[o++]=201,l.setUint32(o,i+1),o+=4}s[o++]=116,s[o++]=t,s.set(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),o)}function U2(e,t){let n=e.byteLength;var r,i;if(n<256){var{target:r,position:i}=t(n+2);r[i++]=196,r[i++]=n}else if(n<65536){var{target:r,position:i}=t(n+3);r[i++]=197,r[i++]=n>>8,r[i++]=n&255}else{var{target:r,position:i,targetView:s}=t(n+5);r[i++]=198,s.setUint32(i,n),i+=4}r.set(e,i)}function f$(e,t,n,r){let i=e.length;switch(i){case 1:t[n++]=212;break;case 2:t[n++]=213;break;case 4:t[n++]=214;break;case 8:t[n++]=215;break;case 16:t[n++]=216;break;default:i<256?(t[n++]=199,t[n++]=i):i<65536?(t[n++]=200,t[n++]=i>>8,t[n++]=i&255):(t[n++]=201,t[n++]=i>>24,t[n++]=i>>16&255,t[n++]=i>>8&255,t[n++]=i&255)}return t[n++]=r,t.set(e,n),n+=i,n}function h$(e,t){let n,r=t.length*6,i=e.length-r;for(;n=t.pop();){let s=n.offset,o=n.id;e.copyWithin(s+r,s,i),r-=6;let l=s+r;e[l++]=214,e[l++]=105,e[l++]=o>>24,e[l++]=o>>16&255,e[l++]=o>>8&255,e[l++]=o&255,i=s}return e}function H2(e,t,n){if(Gn.length>0){gn.setUint32(Gn.position+e,oe+n-Gn.position-e),Gn.stringsPosition=oe-e;let r=Gn;Gn=null,t(r[0]),t(r[1])}}function p$(e,t){return e.isCompatible=n=>{let r=!n||(t.lastNamedStructuresLength||0)===n.length;return r||t._mergeStructures(n),r},e}let Kj=new d$({useRecords:!1});const Yj=Kj.pack;Kj.pack;const g$=512,m$=1024,v$=2048;function bi(){return Date.now()}const Ts=e=>Yj(e),Ad=e=>o$(e);let y$=class{constructor(t,n){this.connection=t,this.inputLag=n,this.frequencies=[0],this.volumes=[0],this.requestReadinessPromise=null,this.getFrequencies=()=>this.frequencies,this.clearFrequencies=()=>{Array.isArray(this.frequencies[0])&&(this.frequencies=[this.frequencies[0].at(-1)])},this.getVolumes=()=>this.volumes,this.getInputLag=()=>this.inputLag,this.setInputLag=r=>{this.inputLag=r},this.requestReadiness=()=>(console.log("requestReadiness"),this.requestReadinessPromise||(this.requestReadinessPromise=new Promise(r=>{const i=s=>{s.t==="confirm-readiness"&&(r(!0),this.connection.off("data",i),this.requestReadinessPromise=null)};this.connection.on("data",i),Hu(this.connection,"request-readiness")})),this.requestReadinessPromise),this.startMonitoring=async()=>{var r,i;(r=this.connection)==null||r.off("data",this.handleRTCData),Hu(this.connection,"start-monitor"),(i=this.connection)==null||i.on("data",this.handleRTCData)},this.stopMonitoring=async()=>{var r;Hu(this.connection,"stop-monitor"),(r=this.connection)==null||r.off("data",this.handleRTCData)},this.handleRTCData=r=>{r.t==="freq"&&(this.frequencies=[r[0],r[0]],this.volumes=[r[1],r[1]])}}},A$=class{constructor(t,n,r,i){this.id=t,this.name=n,this.connection=r,this.pingTime=9999,this.pingInterval=null,this.getInput=()=>this.input,this.setPlayerNumber=s=>{Hu(this.connection,"set-player-number",{playerNumber:s})},this.onDisconnect=()=>{this.pingInterval!==null&&clearInterval(this.pingInterval)},this.setPermission=s=>{Hu(this.connection,"set-permissions",{level:s})},this.isPinging=!1,this.latency=9999,this.onPong=()=>{this.latency=bi()-this.pingTime,this.isPinging=!1,this.pingClient()},this.pingClient=()=>{this.pingInterval=setTimeout(()=>{this.pingTime=bi(),this.isPinging=!0,Hu(this.connection,"ping")},1e3)},this.getLatency=()=>this.isPinging?bi()-this.pingTime:this.latency,this.getPingTime=()=>this.pingTime,this.input=new y$(r,i),this.pingClient()}};const JS={RemoteMicConnectionType:"remote_mics_connection_type",InitialInputLag:"initial_input_lag",Eurovision:"eurovision",Halloween:"halloween",SkipInitialSetup:"skip_initial_setup"};var S=Rc();const Xe=Lr(S),f0=xD({__proto__:null,default:Xe},[S]);class Vs extends oo{constructor(t,n,r="local"){super(),this.name=t,this.defaultValue=n,this.driver=r,this.value=void 0,this.get=()=>(this.value===void 0&&(this.value=ot[this.driver].getItem(`settings-${this.name}`)??this.defaultValue),this.value),this.set=i=>{this.value=i,ot[this.driver].setItem(`settings-${this.name}`,i),this.onUpdate(i)}}}const Qj=["high","low"],b$="graphics-level",xs=new Vs(b$,Qj[0]),_$=[null,"skip","remoteMics","singstar-mics","different-mics","advanced","built-in"],S$="mic-setup-preference",XS=new Vs(S$,_$[0],"session"),Jj=[60,30],rc=new Vs("fps-count",Jj[0]),av=new Vs("EXCLUDED_LANGUAGES_KEY_V2",null),Qr=new Vs("MOBILE_PHONE_MODE_KEY",null),Xj=new Vs("keyboard-help-visibility",!0);var d5;const G2=(d5=lr.getFeatureFlagPayload)==null?void 0:d5.call(lr,JS.InitialInputLag),rh=new Vs("INPUT_LAG_V2",typeof G2=="number"?G2:0),Zj=new Vs("REMOTE_MIC_INPUT_LAG",0,"session"),q2=["write","read"],e3=new Vs("DefaultRemoteMicPermission","write"),lv=new Vs("BackgroundThemeSetting","regular","memory"),ZS=new Vs("AutoEnableFullscreenSetting",!0,"session"),x$=["WebSockets","PeerJS","PartyKit"],h0=new Vs("RemoteMicConnectionType","PartyKit","session");var f5;(f5=lr.onFeatureFlags)==null||f5.call(lr,()=>{h0.set(lr.getFeatureFlagPayload(JS.RemoteMicConnectionType)??"PartyKit")});function Tt(e){const[t,n]=S.useState(e.get());return S.useLayoutEffect(()=>e.addListener(n),[e]),[t,e.set]}const W2="RememberedAccessesKey",JA="rememberedSubscriptionsKey";class w$ extends oo{constructor(){var t,n;super(...arguments),this.remoteMics=[],this.micAccessMap=((t=ot.local)==null?void 0:t.getItem(W2))??{},this.subscriptions=((n=ot.session)==null?void 0:n.getItem(JA))??{"remote-mics":[]},this.addRemoteMic=(r,i,s,o,l)=>{this.remoteMics=this.remoteMics.filter(d=>d.id!==r),this.remoteMics=[...this.remoteMics,new A$(r,i,s,l)],this.setPermission(r,this.getPermission(r)),ge.remoteMicConnected.dispatch({id:r,name:i,silent:o})},this.removeRemoteMic=(r,i=!1)=>{const s=this.remoteMics.find(o=>o.id===r);this.remoteMics=this.remoteMics.filter(o=>o.id!==r),s&&(s.onDisconnect(),ge.remoteMicDisconnected.dispatch(s,i))},this.getRemoteMics=()=>this.remoteMics,this.getRemoteMicById=r=>this.remoteMics.find(i=>i.id===r),this.broadcast=r=>{this.getRemoteMics().forEach(i=>i.connection.send(r))},this.broadcastToChannel=(r,i)=>{this.subscriptions[r].forEach(s=>{var o;return(o=this.getRemoteMicById(s))==null?void 0:o.connection.send(i)})},this.getPermission=r=>this.micAccessMap[r]??e3.get(),this.setPermission=(r,i)=>{var s;(s=this.getRemoteMicById(r))==null||s.setPermission(i),this.micAccessMap[r]=i,ot==null||ot.setItem(W2,this.micAccessMap),this.onUpdate(r,i)},this.addSubscription=(r,i)=>{var s;this.subscriptions[i]=[...new Set([...this.subscriptions[i],r])],(s=ot.session)==null||s.setItem(JA,this.subscriptions),ge.remoteMicSubscribed.dispatch(r,i)},this.removeSubscription=(r,i)=>{var s,o;this.subscriptions[i]=((s=this.subscriptions[i])==null?void 0:s.filter(l=>l!==r))??[],(o=ot.session)==null||o.setItem(JA,this.subscriptions)}}}const Mt=new w$;lv.addListener(e=>{Lj(e),Mt.broadcast({t:"style-change",style:e})});ge.remoteMicConnected.subscribe(e=>{var t;(t=Mt.getRemoteMicById(e.id))==null||t.connection.send({t:"style-change",style:lv.get()})});class E${constructor(){this.frequencies=[440,410],this.volumes=[1,1],this.startMonitoring=async()=>{},this.getFrequencies=t=>this.frequencies,this.getVolumes=t=>this.volumes,this.clearFrequencies=t=>{},this.stopMonitoring=async t=>{},this.getInputLag=()=>0,this.setFrequency=(t,n)=>this.frequencies[t]=n,this.requestReadiness=()=>Promise.resolve(!0),this.getStatus=()=>"ok"}}const C$=new E$;class k${constructor(){this.frequencies=[410,210],this.volumes=[1,1],this.timestamp=0,this.interval=null,this.isMonitoring=!1,this.startMonitoring=async()=>{this.isMonitoring||(this.isMonitoring=!0,this.interval=global.setInterval(()=>{this.timestamp=this.timestamp+32,this.frequencies[0]=Math.sin(this.timestamp/1e3)*50+100,this.frequencies[1]=Math.cos(this.timestamp/1e3)*50+200},32))},this.getFrequencies=()=>this.frequencies,this.getVolumes=()=>this.volumes,this.clearFrequencies=t=>{},this.stopMonitoring=async()=>{this.isMonitoring&&(this.isMonitoring=!1,this.interval&&global.clearInterval(this.interval))},this.getInputLag=()=>150,this.requestReadiness=()=>Promise.resolve(!0),this.getStatus=()=>"ok"}}const T$=new k$,Ct=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,ic="8.41.0",$t=globalThis;function cv(e,t,n){const r=$t,i=r.__SENTRY__=r.__SENTRY__||{},s=i[ic]=i[ic]||{};return s[e]||(s[e]=t())}const hl=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,I$="Sentry Logger ",u_=["debug","info","warn","error","log","assert","trace"],p0={};function Pc(e){if(!("console"in $t))return e();const t=$t.console,n={},r=Object.keys(p0);r.forEach(i=>{const s=p0[i];n[i]=t[i],t[i]=s});try{return e()}finally{r.forEach(i=>{t[i]=n[i]})}}function R$(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return hl?u_.forEach(n=>{t[n]=(...r)=>{e&&Pc(()=>{$t.console[n](`${I$}[${n}]:`,...r)})}}):u_.forEach(n=>{t[n]=()=>{}}),t}const Be=cv("logger",R$),t3=50,gc="?",K2=/\(error: (.*)\)/,Y2=/captureMessage|captureException/;function n3(...e){const t=e.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0,i=0)=>{const s=[],o=n.split(`
`);for(let l=r;l<o.length;l++){const d=o[l];if(d.length>1024)continue;const c=K2.test(d)?d.replace(K2,"$1"):d;if(!c.match(/\S*Error: /)){for(const h of t){const f=h(c);if(f){s.push(f);break}}if(s.length>=t3+i)break}}return M$(s.slice(i))}}function P$(e){return Array.isArray(e)?n3(...e):e}function M$(e){if(!e.length)return[];const t=Array.from(e);return/sentryWrapped/.test(kg(t).function||"")&&t.pop(),t.reverse(),Y2.test(kg(t).function||"")&&(t.pop(),Y2.test(kg(t).function||"")&&t.pop()),t.slice(0,t3).map(n=>({...n,filename:n.filename||kg(t).filename,function:n.function||gc}))}function kg(e){return e[e.length-1]||{}}const XA="<anonymous>";function ua(e){try{return!e||typeof e!="function"?XA:e.name||XA}catch{return XA}}function d_(e){const t=e.exception;if(t){const n=[];try{return t.values.forEach(r=>{r.stacktrace.frames&&n.push(...r.stacktrace.frames)}),n}catch{return}}}const Cm={},Q2={};function pl(e,t){Cm[e]=Cm[e]||[],Cm[e].push(t)}function gl(e,t){if(!Q2[e]){Q2[e]=!0;try{t()}catch(n){hl&&Be.error(`Error while instrumenting ${e}`,n)}}}function Is(e,t){const n=e&&Cm[e];if(n)for(const r of n)try{r(t)}catch(i){hl&&Be.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${ua(r)}
Error:`,i)}}let Tg=null;function r3(e){const t="error";pl(t,e),gl(t,j$)}function j$(){Tg=$t.onerror,$t.onerror=function(e,t,n,r,i){return Is("error",{column:r,error:i,line:n,msg:e,url:t}),Tg&&!Tg.__SENTRY_LOADER__?Tg.apply(this,arguments):!1},$t.onerror.__SENTRY_INSTRUMENTED__=!0}let Ig=null;function i3(e){const t="unhandledrejection";pl(t,e),gl(t,O$)}function O$(){Ig=$t.onunhandledrejection,$t.onunhandledrejection=function(e){return Is("unhandledrejection",e),Ig&&!Ig.__SENTRY_LOADER__?Ig.apply(this,arguments):!0},$t.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function Mc(){return ex($t),$t}function ex(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||ic,t[ic]=t[ic]||{}}const s3=Object.prototype.toString;function uv(e){switch(s3.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return da(e,Error)}}function bd(e,t){return s3.call(e)===`[object ${t}]`}function o3(e){return bd(e,"ErrorEvent")}function J2(e){return bd(e,"DOMError")}function V$(e){return bd(e,"DOMException")}function aa(e){return bd(e,"String")}function tx(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function nx(e){return e===null||tx(e)||typeof e!="object"&&typeof e!="function"}function sd(e){return bd(e,"Object")}function dv(e){return typeof Event<"u"&&da(e,Event)}function L$(e){return typeof Element<"u"&&da(e,Element)}function N$(e){return bd(e,"RegExp")}function fv(e){return!!(e&&e.then&&typeof e.then=="function")}function B$(e){return sd(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function da(e,t){try{return e instanceof t}catch{return!1}}function a3(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue))}const Gu=$t,D$=80;function mc(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,i=[];let s=0,o=0;const l=" > ",d=l.length;let c;const h=Array.isArray(t)?t:t.keyAttrs,f=!Array.isArray(t)&&t.maxStringLength||D$;for(;n&&s++<r&&(c=F$(n,h),!(c==="html"||s>1&&o+i.length*d+c.length>=f));)i.push(c),o+=c.length,n=n.parentNode;return i.reverse().join(l)}catch{return"<unknown>"}}function F$(e,t){const n=e,r=[];if(!n||!n.tagName)return"";if(Gu.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());const i=t&&t.length?t.filter(o=>n.getAttribute(o)).map(o=>[o,n.getAttribute(o)]):null;if(i&&i.length)i.forEach(o=>{r.push(`[${o[0]}="${o[1]}"]`)});else{n.id&&r.push(`#${n.id}`);const o=n.className;if(o&&aa(o)){const l=o.split(/\s+/);for(const d of l)r.push(`.${d}`)}}const s=["aria-label","type","name","title","alt"];for(const o of s){const l=n.getAttribute(o);l&&r.push(`[${o}="${l}"]`)}return r.join("")}function $$(){try{return Gu.document.location.href}catch{return""}}function z$(e){return Gu.document&&Gu.document.querySelector?Gu.document.querySelector(e):null}function l3(e){if(!Gu.HTMLElement)return null;let t=e;const n=5;for(let r=0;r<n;r++){if(!t)return null;if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}function qu(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function X2(e,t){if(!Array.isArray(e))return"";const n=[];for(let r=0;r<e.length;r++){const i=e[r];try{a3(i)?n.push("[VueViewModel]"):n.push(String(i))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function U$(e,t,n=!1){return aa(e)?N$(t)?t.test(e):aa(t)?n?e===t:e.includes(t):!1:!1}function sc(e,t=[],n=!1){return t.some(r=>U$(e,r,n))}function Ji(e,t,n){if(!(t in e))return;const r=e[t],i=n(r);typeof i=="function"&&c3(i,r);try{e[t]=i}catch{hl&&Be.log(`Failed to replace method "${t}" in object`,e)}}function Rs(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{hl&&Be.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function c3(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,Rs(e,"__sentry_original__",t)}catch{}}function rx(e){return e.__sentry_original__}function u3(e){if(uv(e))return{message:e.message,name:e.name,stack:e.stack,...eT(e)};if(dv(e)){const t={type:e.type,target:Z2(e.target),currentTarget:Z2(e.currentTarget),...eT(e)};return typeof CustomEvent<"u"&&da(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function Z2(e){try{return L$(e)?mc(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function eT(e){if(typeof e=="object"&&e!==null){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}else return{}}function H$(e,t=40){const n=Object.keys(u3(e));n.sort();const r=n[0];if(!r)return"[object has no keys]";if(r.length>=t)return qu(r,t);for(let i=n.length;i>0;i--){const s=n.slice(0,i).join(", ");if(!(s.length>t))return i===n.length?s:qu(s,t)}return""}function Kr(e){return f_(e,new Map)}function f_(e,t){if(G$(e)){const n=t.get(e);if(n!==void 0)return n;const r={};t.set(e,r);for(const i of Object.getOwnPropertyNames(e))typeof e[i]<"u"&&(r[i]=f_(e[i],t));return r}if(Array.isArray(e)){const n=t.get(e);if(n!==void 0)return n;const r=[];return t.set(e,r),e.forEach(i=>{r.push(f_(i,t))}),r}return e}function G$(e){if(!sd(e))return!1;try{const t=Object.getPrototypeOf(e).constructor.name;return!t||t==="Object"}catch{return!0}}const d3=1e3;function zh(){return Date.now()/d3}function q$(){const{performance:e}=$t;if(!e||!e.now)return zh;const t=Date.now()-e.now(),n=e.timeOrigin==null?t:e.timeOrigin;return()=>(n+e.now())/d3}const Yr=q$(),Di=(()=>{const{performance:e}=$t;if(!e||!e.now)return;const t=3600*1e3,n=e.now(),r=Date.now(),i=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,s=i<t,o=e.timing&&e.timing.navigationStart,d=typeof o=="number"?Math.abs(o+n-r):t,c=d<t;return s||c?i<=d?e.timeOrigin:o:r})();function Er(){const e=$t,t=e.crypto||e.msCrypto;let n=()=>Math.random()*16;try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>{const r=new Uint8Array(1);return t.getRandomValues(r),r[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,r=>(r^(n()&15)>>r/4).toString(16))}function f3(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function qa(e){const{message:t,event_id:n}=e;if(t)return t;const r=f3(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function h_(e,t,n){const r=e.exception=e.exception||{},i=r.values=r.values||[],s=i[0]=i[0]||{};s.value||(s.value=t||""),s.type||(s.type="Error")}function _h(e,t){const n=f3(e);if(!n)return;const r={type:"generic",handled:!0},i=n.mechanism;if(n.mechanism={...r,...i,...t},t&&"data"in t){const s={...i&&i.data,...t.data};n.mechanism.data=s}}function tT(e){if(e&&e.__sentry_captured__)return!0;try{Rs(e,"__sentry_captured__",!0)}catch{}return!1}var ea;(function(e){e[e.PENDING=0]="PENDING";const n=1;e[e.RESOLVED=n]="RESOLVED";const r=2;e[e.REJECTED=r]="REJECTED"})(ea||(ea={}));function vc(e){return new bs(t=>{t(e)})}function g0(e){return new bs((t,n)=>{n(e)})}class bs{constructor(t){bs.prototype.__init.call(this),bs.prototype.__init2.call(this),bs.prototype.__init3.call(this),bs.prototype.__init4.call(this),this._state=ea.PENDING,this._handlers=[];try{t(this._resolve,this._reject)}catch(n){this._reject(n)}}then(t,n){return new bs((r,i)=>{this._handlers.push([!1,s=>{if(!t)r(s);else try{r(t(s))}catch(o){i(o)}},s=>{if(!n)i(s);else try{r(n(s))}catch(o){i(o)}}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new bs((n,r)=>{let i,s;return this.then(o=>{s=!1,i=o,t&&t()},o=>{s=!0,i=o,t&&t()}).then(()=>{if(s){r(i);return}n(i)})})}__init(){this._resolve=t=>{this._setResult(ea.RESOLVED,t)}}__init2(){this._reject=t=>{this._setResult(ea.REJECTED,t)}}__init3(){this._setResult=(t,n)=>{if(this._state===ea.PENDING){if(fv(n)){n.then(this._resolve,this._reject);return}this._state=t,this._value=n,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===ea.PENDING)return;const t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===ea.RESOLVED&&n[1](this._value),this._state===ea.REJECTED&&n[2](this._value),n[0]=!0)})}}}function W$(e){const t=Yr(),n={sid:Er(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>Y$(n)};return e&&od(n,e),n}function od(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||Yr(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:Er()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function K$(e,t){let n={};e.status==="ok"&&(n={status:"exited"}),od(e,n)}function Y$(e){return Kr({sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}function Sh(){return{traceId:Er(),spanId:Er().substring(16)}}function hv(e,t,n=2){if(!t||typeof t!="object"||n<=0)return t;if(e&&t&&Object.keys(t).length===0)return e;const r={...e};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=hv(r[i],t[i],n-1));return r}const p_="_sentrySpan";function xh(e,t){t?Rs(e,p_,t):delete e[p_]}function m0(e){return e[p_]}const Q$=100;class ix{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=Sh()}clone(){const t=new ix;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._requestSession=this._requestSession,t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,xh(t,m0(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&od(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this._tags={...this._tags,[t]:n},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const n=typeof t=="function"?t(this):t,[r,i]=n instanceof il?[n.getScopeData(),n.getRequestSession()]:sd(n)?[t,t.requestSession]:[],{tags:s,extra:o,user:l,contexts:d,level:c,fingerprint:h=[],propagationContext:f}=r||{};return this._tags={...this._tags,...s},this._extra={...this._extra,...o},this._contexts={...this._contexts,...d},l&&Object.keys(l).length&&(this._user=l),c&&(this._level=c),h.length&&(this._fingerprint=h),f&&(this._propagationContext=f),i&&(this._requestSession=i),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,xh(this,void 0),this._attachments=[],this._propagationContext=Sh(),this._notifyScopeListeners(),this}addBreadcrumb(t,n){const r=typeof n=="number"?n:Q$;if(r<=0)return this;const i={timestamp:zh(),...t},s=this._breadcrumbs;return s.push(i),this._breadcrumbs=s.length>r?s.slice(-r):s,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:m0(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=hv(this._sdkProcessingMetadata,t,2),this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,n){const r=n&&n.event_id?n.event_id:Er();if(!this._client)return Be.warn("No client configured on scope - will not capture exception!"),r;const i=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:i,...n,event_id:r},this),r}captureMessage(t,n,r){const i=r&&r.event_id?r.event_id:Er();if(!this._client)return Be.warn("No client configured on scope - will not capture message!"),i;const s=new Error(t);return this._client.captureMessage(t,n,{originalException:t,syntheticException:s,...r,event_id:i},this),i}captureEvent(t,n){const r=n&&n.event_id?n.event_id:Er();return this._client?(this._client.captureEvent(t,{...n,event_id:r},this),r):(Be.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}const il=ix;function J$(){return cv("defaultCurrentScope",()=>new il)}function X$(){return cv("defaultIsolationScope",()=>new il)}class Z${constructor(t,n){let r;t?r=t:r=new il;let i;n?i=n:i=new il,this._stack=[{scope:r}],this._isolationScope=i}withScope(t){const n=this._pushScope();let r;try{r=t(n)}catch(i){throw this._popScope(),i}return fv(r)?r.then(i=>(this._popScope(),i),i=>{throw this._popScope(),i}):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}}function ad(){const e=Mc(),t=ex(e);return t.stack=t.stack||new Z$(J$(),X$())}function e8(e){return ad().withScope(e)}function t8(e,t){const n=ad();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function nT(e){return ad().withScope(()=>e(ad().getIsolationScope()))}function n8(){return{withIsolationScope:nT,withScope:e8,withSetScope:t8,withSetIsolationScope:(e,t)=>nT(t),getCurrentScope:()=>ad().getScope(),getIsolationScope:()=>ad().getIsolationScope()}}function _d(e){const t=ex(e);return t.acs?t.acs:n8()}function Pn(){const e=Mc();return _d(e).getCurrentScope()}function jo(){const e=Mc();return _d(e).getIsolationScope()}function r8(){return cv("globalScope",()=>new il)}function pv(...e){const t=Mc(),n=_d(t);if(e.length===2){const[r,i]=e;return r?n.withSetScope(r,i):n.withScope(i)}return n.withScope(e[0])}function an(){return Pn().getClient()}function i8(e){const t=e.getPropagationContext(),{traceId:n,spanId:r,parentSpanId:i}=t;return Kr({trace_id:n,span_id:r,parent_span_id:i})}const s8="_sentryMetrics";function g_(e){const t=e[s8];if(!t)return;const n={};for(const[,[r,i]]of t)(n[r]||(n[r]=[])).push(Kr(i));return n}const ia="sentry.source",h3="sentry.sample_rate",yc="sentry.op",ur="sentry.origin",m_="sentry.idle_span_finish_reason",gv="sentry.measurement_unit",mv="sentry.measurement_value",o8="sentry.profile_id",sx="sentry.exclusive_time",a8=0,p3=1,Or=2;function l8(e){if(e<400&&e>=100)return{code:p3};if(e>=400&&e<500)switch(e){case 401:return{code:Or,message:"unauthenticated"};case 403:return{code:Or,message:"permission_denied"};case 404:return{code:Or,message:"not_found"};case 409:return{code:Or,message:"already_exists"};case 413:return{code:Or,message:"failed_precondition"};case 429:return{code:Or,message:"resource_exhausted"};case 499:return{code:Or,message:"cancelled"};default:return{code:Or,message:"invalid_argument"}}if(e>=500&&e<600)switch(e){case 501:return{code:Or,message:"unimplemented"};case 503:return{code:Or,message:"unavailable"};case 504:return{code:Or,message:"deadline_exceeded"};default:return{code:Or,message:"internal_error"}}return{code:Or,message:"unknown_error"}}function g3(e,t){e.setAttribute("http.response.status_code",t);const n=l8(t);n.message!=="unknown_error"&&e.setStatus(n)}const ox="sentry-",c8=/^sentry-/,u8=8192;function m3(e){const t=f8(e);if(!t)return;const n=Object.entries(t).reduce((r,[i,s])=>{if(i.match(c8)){const o=i.slice(ox.length);r[o]=s}return r},{});if(Object.keys(n).length>0)return n}function d8(e){if(!e)return;const t=Object.entries(e).reduce((n,[r,i])=>(i&&(n[`${ox}${r}`]=i),n),{});return h8(t)}function f8(e){if(!(!e||!aa(e)&&!Array.isArray(e)))return Array.isArray(e)?e.reduce((t,n)=>{const r=rT(n);return Object.entries(r).forEach(([i,s])=>{t[i]=s}),t},{}):rT(e)}function rT(e){return e.split(",").map(t=>t.split("=").map(n=>decodeURIComponent(n.trim()))).reduce((t,[n,r])=>(n&&r&&(t[n]=r),t),{})}function h8(e){if(Object.keys(e).length!==0)return Object.entries(e).reduce((t,[n,r],i)=>{const s=`${encodeURIComponent(n)}=${encodeURIComponent(r)}`,o=i===0?s:`${t},${s}`;return o.length>u8?(hl&&Be.warn(`Not adding key: ${n} with val: ${r} to baggage header due to exceeding baggage size limits.`),t):o},"")}const v3=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function p8(e){if(!e)return;const t=e.match(v3);if(!t)return;let n;return t[3]==="1"?n=!0:t[3]==="0"&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}function g8(e,t){const n=p8(e),r=m3(t);if(!n||!n.traceId)return Sh();const{traceId:i,parentSpanId:s,parentSampled:o}=n,l=Er().substring(16);return{traceId:i,parentSpanId:s,spanId:l,sampled:o,dsc:r||{}}}function y3(e=Er(),t=Er().substring(16),n){let r="";return n!==void 0&&(r=n?"-1":"-0"),`${e}-${t}${r}`}const A3=0,b3=1;let iT=!1;function m8(e){const{spanId:t,traceId:n}=e.spanContext(),{data:r,op:i,parent_span_id:s,status:o,origin:l}=sn(e);return Kr({parent_span_id:s,span_id:t,trace_id:n,data:r,op:i,status:o,origin:l})}function v8(e){const{spanId:t,traceId:n}=e.spanContext(),{parent_span_id:r}=sn(e);return Kr({parent_span_id:r,span_id:t,trace_id:n})}function y8(e){const{traceId:t,spanId:n}=e.spanContext(),r=jc(e);return y3(t,n,r)}function oc(e){return typeof e=="number"?sT(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?sT(e.getTime()):Yr()}function sT(e){return e>9999999999?e/1e3:e}function sn(e){if(b8(e))return e.getSpanJSON();try{const{spanId:t,traceId:n}=e.spanContext();if(A8(e)){const{attributes:r,startTime:i,name:s,endTime:o,parentSpanId:l,status:d}=e;return Kr({span_id:t,trace_id:n,data:r,description:s,parent_span_id:l,start_timestamp:oc(i),timestamp:oc(o)||void 0,status:_3(d),op:r[yc],origin:r[ur],_metrics_summary:g_(e)})}return{span_id:t,trace_id:n}}catch{return{}}}function A8(e){const t=e;return!!t.attributes&&!!t.startTime&&!!t.name&&!!t.endTime&&!!t.status}function b8(e){return typeof e.getSpanJSON=="function"}function jc(e){const{traceFlags:t}=e.spanContext();return t===b3}function _3(e){if(!(!e||e.code===a8))return e.code===p3?"ok":e.message||"unknown_error"}const ac="_sentryChildSpans",v_="_sentryRootSpan";function S3(e,t){const n=e[v_]||e;Rs(t,v_,n),e[ac]?e[ac].add(t):Rs(e,ac,new Set([t]))}function _8(e,t){e[ac]&&e[ac].delete(t)}function km(e){const t=new Set;function n(r){if(!t.has(r)&&jc(r)){t.add(r);const i=r[ac]?Array.from(r[ac]):[];for(const s of i)n(s)}}return n(e),Array.from(t)}function ii(e){return e[v_]||e}function oi(){const e=Mc(),t=_d(e);return t.getActiveSpan?t.getActiveSpan():m0(Pn())}function x3(){iT||(Pc(()=>{console.warn("[Sentry] Deprecation warning: Returning null from `beforeSendSpan` will be disallowed from SDK version 9.0.0 onwards. The callback will only support mutating spans. To drop certain spans, configure the respective integrations directly.")}),iT=!0)}let oT=!1;function S8(){oT||(oT=!0,r3(y_),i3(y_))}function y_(){const e=oi(),t=e&&ii(e);if(t){const n="internal_error";Ct&&Be.log(`[Tracing] Root span: ${n} -> Global error occurred`),t.setStatus({code:Or,message:n})}}y_.tag="sentry_tracingErrorCallback";const w3="_sentryScope",E3="_sentryIsolationScope";function x8(e,t,n){e&&(Rs(e,E3,n),Rs(e,w3,t))}function aT(e){return{scope:e[w3],isolationScope:e[E3]}}function sl(e){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const t=an(),n=e||t&&t.getOptions();return!!n&&(n.enableTracing||"tracesSampleRate"in n||"tracesSampler"in n)}class Sd{constructor(t={}){this._traceId=t.traceId||Er(),this._spanId=t.spanId||Er().substring(16)}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:A3}}end(t){}setAttribute(t,n){return this}setAttributes(t){return this}setStatus(t){return this}updateName(t){return this}isRecording(){return!1}addEvent(t,n,r){return this}addLink(t){return this}addLinks(t){return this}recordException(t,n){}}const ax="production",C3="_frozenDsc";function lT(e,t){Rs(e,C3,t)}function k3(e,t){const n=t.getOptions(),{publicKey:r}=t.getDsn()||{},i=Kr({environment:n.environment||ax,release:n.release,public_key:r,trace_id:e});return t.emit("createDsc",i),i}function T3(e,t){const n=t.getPropagationContext();return n.dsc||k3(n.traceId,e)}function xd(e){const t=an();if(!t)return{};const n=ii(e),r=n[C3];if(r)return r;const i=n.spanContext().traceState,s=i&&i.get("sentry.dsc"),o=s&&m3(s);if(o)return o;const l=k3(e.spanContext().traceId,t),d=sn(n),c=d.data||{},h=c[h3];h!=null&&(l.sample_rate=`${h}`);const f=c[ia],m=d.description;return f!=="url"&&m&&(l.transaction=m),sl()&&(l.sampled=String(jc(n))),t.emit("createDsc",l,n),l}function w8(e){if(!Ct)return;const{description:t="< unknown name >",op:n="< unknown op >",parent_span_id:r}=sn(e),{spanId:i}=e.spanContext(),s=jc(e),o=ii(e),l=o===e,d=`[Tracing] Starting ${s?"sampled":"unsampled"} ${l?"root ":""}span`,c=[`op: ${n}`,`name: ${t}`,`ID: ${i}`];if(r&&c.push(`parent ID: ${r}`),!l){const{op:h,description:f}=sn(o);c.push(`root ID: ${o.spanContext().spanId}`),h&&c.push(`root op: ${h}`),f&&c.push(`root description: ${f}`)}Be.log(`${d}
  ${c.join(`
  `)}`)}function E8(e){if(!Ct)return;const{description:t="< unknown name >",op:n="< unknown op >"}=sn(e),{spanId:r}=e.spanContext(),s=ii(e)===e,o=`[Tracing] Finishing "${n}" ${s?"root ":""}span "${t}" with ID ${r}`;Be.log(o)}function I3(e){if(typeof e=="boolean")return Number(e);const t=typeof e=="string"?parseFloat(e):e;if(typeof t!="number"||isNaN(t)||t<0||t>1){Ct&&Be.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`);return}return t}function C8(e,t){if(!sl(e))return[!1];let n;typeof e.tracesSampler=="function"?n=e.tracesSampler(t):t.parentSampled!==void 0?n=t.parentSampled:typeof e.tracesSampleRate<"u"?n=e.tracesSampleRate:n=1;const r=I3(n);return r===void 0?(Ct&&Be.warn("[Tracing] Discarding transaction because of invalid sample rate."),[!1]):r?Math.random()<r?[!0,r]:(Ct&&Be.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(n)})`),[!1,r]):(Ct&&Be.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,r])}const k8=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function T8(e){return e==="http"||e==="https"}function wd(e,t=!1){const{host:n,path:r,pass:i,port:s,projectId:o,protocol:l,publicKey:d}=e;return`${l}://${d}${t&&i?`:${i}`:""}@${n}${s?`:${s}`:""}/${r&&`${r}/`}${o}`}function I8(e){const t=k8.exec(e);if(!t){Pc(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}const[n,r,i="",s="",o="",l=""]=t.slice(1);let d="",c=l;const h=c.split("/");if(h.length>1&&(d=h.slice(0,-1).join("/"),c=h.pop()),c){const f=c.match(/^\d+/);f&&(c=f[0])}return R3({host:s,pass:i,path:d,projectId:c,port:o,protocol:n,publicKey:r})}function R3(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function R8(e){if(!hl)return!0;const{port:t,projectId:n,protocol:r}=e;return["protocol","publicKey","host","projectId"].find(o=>e[o]?!1:(Be.error(`Invalid Sentry Dsn: ${o} missing`),!0))?!1:n.match(/^\d+$/)?T8(r)?t&&isNaN(parseInt(t,10))?(Be.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):!0:(Be.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(Be.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}function P3(e){const t=typeof e=="string"?I8(e):R3(e);if(!(!t||!R8(t)))return t}function P8(){const e=typeof WeakSet=="function",t=e?new WeakSet:[];function n(i){if(e)return t.has(i)?!0:(t.add(i),!1);for(let s=0;s<t.length;s++)if(t[s]===i)return!0;return t.push(i),!1}function r(i){if(e)t.delete(i);else for(let s=0;s<t.length;s++)if(t[s]===i){t.splice(s,1);break}}return[n,r]}function Wa(e,t=100,n=1/0){try{return A_("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function M3(e,t=3,n=100*1024){const r=Wa(e,t);return V8(r)>n?M3(e,t-1,n):r}function A_(e,t,n=1/0,r=1/0,i=P8()){const[s,o]=i;if(t==null||["boolean","string"].includes(typeof t)||typeof t=="number"&&Number.isFinite(t))return t;const l=M8(e,t);if(!l.startsWith("[object "))return l;if(t.__sentry_skip_normalization__)return t;const d=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:n;if(d===0)return l.replace("object ","");if(s(t))return"[Circular ~]";const c=t;if(c&&typeof c.toJSON=="function")try{const v=c.toJSON();return A_("",v,d-1,r,i)}catch{}const h=Array.isArray(t)?[]:{};let f=0;const m=u3(t);for(const v in m){if(!Object.prototype.hasOwnProperty.call(m,v))continue;if(f>=r){h[v]="[MaxProperties ~]";break}const A=m[v];h[v]=A_(v,A,d-1,r,i),f++}return o(t),h}function M8(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&t===global)return"[Global]";if(typeof window<"u"&&t===window)return"[Window]";if(typeof document<"u"&&t===document)return"[Document]";if(a3(t))return"[VueViewModel]";if(B$(t))return"[SyntheticEvent]";if(typeof t=="number"&&!Number.isFinite(t))return`[${t}]`;if(typeof t=="function")return`[Function: ${ua(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;const n=j8(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function j8(e){const t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}function O8(e){return~-encodeURI(e).split(/%..|./).length}function V8(e){return O8(JSON.stringify(e))}function Ed(e,t=[]){return[e,t]}function L8(e,t){const[n,r]=e;return[n,[...r,t]]}function b_(e,t){const n=e[1];for(const r of n){const i=r[0].type;if(t(r,i))return!0}return!1}function __(e){return $t.__SENTRY__&&$t.__SENTRY__.encodePolyfill?$t.__SENTRY__.encodePolyfill(e):new TextEncoder().encode(e)}function N8(e){const[t,n]=e;let r=JSON.stringify(t);function i(s){typeof r=="string"?r=typeof s=="string"?r+s:[__(r),s]:r.push(typeof s=="string"?__(s):s)}for(const s of n){const[o,l]=s;if(i(`
${JSON.stringify(o)}
`),typeof l=="string"||l instanceof Uint8Array)i(l);else{let d;try{d=JSON.stringify(l)}catch{d=JSON.stringify(Wa(l))}i(d)}}return typeof r=="string"?r:B8(r)}function B8(e){const t=e.reduce((i,s)=>i+s.length,0),n=new Uint8Array(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return n}function D8(e){return[{type:"span"},e]}function F8(e){const t=typeof e.data=="string"?__(e.data):e.data;return[Kr({type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),t]}const $8={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket"};function cT(e){return $8[e]}function j3(e){if(!e||!e.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function z8(e,t,n,r){const i=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:wd(r)},...i&&{trace:Kr({...i})}}}function U8(e,t){return t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]]),e}function H8(e,t,n,r){const i=j3(n),s={sent_at:new Date().toISOString(),...i&&{sdk:i},...!!r&&t&&{dsn:wd(t)}},o="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return Ed(s,[o])}function G8(e,t,n,r){const i=j3(n),s=e.type&&e.type!=="replay_event"?e.type:"event";U8(e,n&&n.sdk);const o=z8(e,i,r,t);return delete e.sdkProcessingMetadata,Ed(o,[[{type:s},e]])}function q8(e,t){function n(h){return!!h.trace_id&&!!h.public_key}const r=xd(e[0]),i=t&&t.getDsn(),s=t&&t.getOptions().tunnel,o={sent_at:new Date().toISOString(),...n(r)&&{trace:r},...!!s&&i&&{dsn:wd(i)}},l=t&&t.getOptions().beforeSendSpan,d=l?h=>{const f=l(sn(h));return f||x3(),f}:h=>sn(h),c=[];for(const h of e){const f=d(h);f&&c.push(D8(f))}return Ed(o,c)}function W8(e,t,n,r=oi()){const i=r&&ii(r);i&&(Ct&&Be.log(`[Measurement] Setting measurement on root span: ${e} = ${t} ${n}`),i.addEvent(e,{[mv]:t,[gv]:n}))}function uT(e){if(!e||e.length===0)return;const t={};return e.forEach(n=>{const r=n.attributes||{},i=r[gv],s=r[mv];typeof i=="string"&&typeof s=="number"&&(t[n.name]={value:s,unit:i})}),t}const dT=1e3;class lx{constructor(t={}){this._traceId=t.traceId||Er(),this._spanId=t.spanId||Er().substring(16),this._startTime=t.startTimestamp||Yr(),this._attributes={},this.setAttributes({[ur]:"manual",[yc]:t.op,...t.attributes}),this._name=t.name,t.parentSpanId&&(this._parentSpanId=t.parentSpanId),"sampled"in t&&(this._sampled=t.sampled),t.endTimestamp&&(this._endTime=t.endTimestamp),this._events=[],this._isStandaloneSpan=t.isStandalone,this._endTime&&this._onSpanEnded()}addLink(t){return this}addLinks(t){return this}recordException(t,n){}spanContext(){const{_spanId:t,_traceId:n,_sampled:r}=this;return{spanId:t,traceId:n,traceFlags:r?b3:A3}}setAttribute(t,n){return n===void 0?delete this._attributes[t]:this._attributes[t]=n,this}setAttributes(t){return Object.keys(t).forEach(n=>this.setAttribute(n,t[n])),this}updateStartTime(t){this._startTime=oc(t)}setStatus(t){return this._status=t,this}updateName(t){return this._name=t,this.setAttribute(ia,"custom"),this}end(t){this._endTime||(this._endTime=oc(t),E8(this),this._onSpanEnded())}getSpanJSON(){return Kr({data:this._attributes,description:this._name,op:this._attributes[yc],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:_3(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[ur],_metrics_summary:g_(this),profile_id:this._attributes[o8],exclusive_time:this._attributes[sx],measurements:uT(this._events),is_segment:this._isStandaloneSpan&&ii(this)===this||void 0,segment_id:this._isStandaloneSpan?ii(this).spanContext().spanId:void 0})}isRecording(){return!this._endTime&&!!this._sampled}addEvent(t,n,r){Ct&&Be.log("[Tracing] Adding an event to span:",t);const i=fT(n)?n:r||Yr(),s=fT(n)?{}:n||{},o={name:t,time:oc(i),attributes:s};return this._events.push(o),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){const t=an();if(t&&t.emit("spanEnd",this),!(this._isStandaloneSpan||this===ii(this)))return;if(this._isStandaloneSpan){this._sampled?Y8(q8([this],t)):(Ct&&Be.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),t&&t.recordDroppedEvent("sample_rate","span"));return}const r=this._convertSpanToTransaction();r&&(aT(this).scope||Pn()).captureEvent(r)}_convertSpanToTransaction(){if(!hT(sn(this)))return;this._name||(Ct&&Be.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");const{scope:t,isolationScope:n}=aT(this),i=(t||Pn()).getClient()||an();if(this._sampled!==!0){Ct&&Be.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),i&&i.recordDroppedEvent("sample_rate","transaction");return}const o=km(this).filter(f=>f!==this&&!K8(f)).map(f=>sn(f)).filter(hT),l=this._attributes[ia],d={contexts:{trace:m8(this)},spans:o.length>dT?o.sort((f,m)=>f.start_timestamp-m.start_timestamp).slice(0,dT):o,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:t,capturedSpanIsolationScope:n,...Kr({dynamicSamplingContext:xd(this)})},_metrics_summary:g_(this),...l&&{transaction_info:{source:l}}},c=uT(this._events);return c&&Object.keys(c).length&&(Ct&&Be.log("[Measurements] Adding measurements to transaction event",JSON.stringify(c,void 0,2)),d.measurements=c),d}}function fT(e){return e&&typeof e=="number"||e instanceof Date||Array.isArray(e)}function hT(e){return!!e.start_timestamp&&!!e.timestamp&&!!e.span_id&&!!e.trace_id}function K8(e){return e instanceof lx&&e.isStandaloneSpan()}function Y8(e){const t=an();if(!t)return;const n=e[1];if(!n||n.length===0){t.recordDroppedEvent("before_send","span");return}t.sendEnvelope(e)}const O3="__SENTRY_SUPPRESS_TRACING__";function nl(e){const t=V3();if(t.startInactiveSpan)return t.startInactiveSpan(e);const n=J8(e),{forceTransaction:r,parentSpan:i}=e;return(e.scope?o=>pv(e.scope,o):i!==void 0?o=>v0(i,o):o=>o())(()=>{const o=Pn(),l=Z8(o);return e.onlyIfParent&&!l?new Sd:Q8({parentSpan:l,spanArguments:n,forceTransaction:r,scope:o})})}function v0(e,t){const n=V3();return n.withActiveSpan?n.withActiveSpan(e,t):pv(r=>(xh(r,e||void 0),t(r)))}function Q8({parentSpan:e,spanArguments:t,forceTransaction:n,scope:r}){if(!sl())return new Sd;const i=jo();let s;if(e&&!n)s=X8(e,r,t),S3(e,s);else if(e){const o=xd(e),{traceId:l,spanId:d}=e.spanContext(),c=jc(e);s=pT({traceId:l,parentSpanId:d,...t},r,c),lT(s,o)}else{const{traceId:o,dsc:l,parentSpanId:d,sampled:c}={...i.getPropagationContext(),...r.getPropagationContext()};s=pT({traceId:o,parentSpanId:d,...t},r,c),l&&lT(s,l)}return w8(s),x8(s,r,i),s}function J8(e){const n={isStandalone:(e.experimental||{}).standalone,...e};if(e.startTime){const r={...n};return r.startTimestamp=oc(e.startTime),delete r.startTime,r}return n}function V3(){const e=Mc();return _d(e)}function pT(e,t,n){const r=an(),i=r&&r.getOptions()||{},{name:s="",attributes:o}=e,[l,d]=t.getScopeData().sdkProcessingMetadata[O3]?[!1]:C8(i,{name:s,parentSampled:n,attributes:o,transactionContext:{name:s,parentSampled:n}}),c=new lx({...e,attributes:{[ia]:"custom",...e.attributes},sampled:l});return d!==void 0&&c.setAttribute(h3,d),r&&r.emit("spanStart",c),c}function X8(e,t,n){const{spanId:r,traceId:i}=e.spanContext(),s=t.getScopeData().sdkProcessingMetadata[O3]?!1:jc(e),o=s?new lx({...n,parentSpanId:r,traceId:i,sampled:s}):new Sd({traceId:i});S3(e,o);const l=an();return l&&(l.emit("spanStart",o),n.endTimestamp&&l.emit("spanEnd",o)),o}function Z8(e){const t=m0(e);if(!t)return;const n=an();return(n?n.getOptions():{}).parentSpanIsAlwaysRootSpan?ii(t):t}const Tm={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3},ez="heartbeatFailed",tz="idleTimeout",nz="finalTimeout",rz="externalFinish";function L3(e,t={}){const n=new Map;let r=!1,i,s=rz,o=!t.disableAutoFinish;const l=[],{idleTimeout:d=Tm.idleTimeout,finalTimeout:c=Tm.finalTimeout,childSpanTimeout:h=Tm.childSpanTimeout,beforeSpanEnd:f}=t,m=an();if(!m||!sl())return new Sd;const v=Pn(),A=oi(),b=iz(e);b.end=new Proxy(b.end,{apply(R,j,V){f&&f(b);const[N,...k]=V,B=N||Yr(),H=oc(B),F=km(b).filter(q=>q!==b);if(!F.length)return w(H),Reflect.apply(R,j,[H,...k]);const U=F.map(q=>sn(q).timestamp).filter(q=>!!q),D=U.length?Math.max(...U):void 0,L=sn(b).start_timestamp,Y=Math.min(L?L+c/1e3:1/0,Math.max(L||-1/0,Math.min(H,D||1/0)));return w(Y),Reflect.apply(R,j,[Y,...k])}});function x(){i&&(clearTimeout(i),i=void 0)}function E(R){x(),i=setTimeout(()=>{!r&&n.size===0&&o&&(s=tz,b.end(R))},d)}function I(R){i=setTimeout(()=>{!r&&o&&(s=ez,b.end(R))},h)}function P(R){x(),n.set(R,!0);const j=Yr();I(j+h/1e3)}function T(R){if(n.has(R)&&n.delete(R),n.size===0){const j=Yr();E(j+d/1e3)}}function w(R){r=!0,n.clear(),l.forEach(H=>H()),xh(v,A);const j=sn(b),{start_timestamp:V}=j;if(!V)return;(j.data||{})[m_]||b.setAttribute(m_,s),Be.log(`[Tracing] Idle span "${j.op}" finished`);const k=km(b).filter(H=>H!==b);let B=0;k.forEach(H=>{H.isRecording()&&(H.setStatus({code:Or,message:"cancelled"}),H.end(R),Ct&&Be.log("[Tracing] Cancelling span since span ended early",JSON.stringify(H,void 0,2)));const F=sn(H),{timestamp:U=0,start_timestamp:D=0}=F,L=D<=R,Y=(c+d)/1e3,q=U-D<=Y;if(Ct){const Q=JSON.stringify(H,void 0,2);L?q||Be.log("[Tracing] Discarding span since it finished after idle span final timeout",Q):Be.log("[Tracing] Discarding span since it happened after idle span was finished",Q)}(!q||!L)&&(_8(b,H),B++)}),B>0&&b.setAttribute("sentry.idle_span_discarded_spans",B)}return l.push(m.on("spanStart",R=>{if(r||R===b||sn(R).timestamp)return;km(b).includes(R)&&P(R.spanContext().spanId)})),l.push(m.on("spanEnd",R=>{r||T(R.spanContext().spanId)})),l.push(m.on("idleSpanEnableAutoFinish",R=>{R===b&&(o=!0,E(),n.size&&I())})),t.disableAutoFinish||E(),setTimeout(()=>{r||(b.setStatus({code:Or,message:"deadline_exceeded"}),s=nz,b.end())},c),b}function iz(e){const t=nl(e);return xh(Pn(),t),Ct&&Be.log("[Tracing] Started span is an idle span"),t}function S_(e,t,n,r=0){return new bs((i,s)=>{const o=e[r];if(t===null||typeof o!="function")i(t);else{const l=o({...t},n);Ct&&o.id&&l===null&&Be.log(`Event processor "${o.id}" dropped event`),fv(l)?l.then(d=>S_(e,d,n,r+1).then(i)).then(null,s):S_(e,l,n,r+1).then(i).then(null,s)}})}let Rg,gT,Pg;function sz(e){const t=$t._sentryDebugIds;if(!t)return{};const n=Object.keys(t);return Pg&&n.length===gT||(gT=n.length,Pg=n.reduce((r,i)=>{Rg||(Rg={});const s=Rg[i];if(s)r[s[0]]=s[1];else{const o=e(i);for(let l=o.length-1;l>=0;l--){const d=o[l],c=d&&d.filename,h=t[i];if(c&&h){r[c]=h,Rg[i]=[c,h];break}}}return r},{})),Pg}function oz(e,t){const{fingerprint:n,span:r,breadcrumbs:i,sdkProcessingMetadata:s}=t;az(e,t),r&&uz(e,r),dz(e,n),lz(e,i),cz(e,s)}function mT(e,t){const{extra:n,tags:r,user:i,contexts:s,level:o,sdkProcessingMetadata:l,breadcrumbs:d,fingerprint:c,eventProcessors:h,attachments:f,propagationContext:m,transactionName:v,span:A}=t;Mg(e,"extra",n),Mg(e,"tags",r),Mg(e,"user",i),Mg(e,"contexts",s),e.sdkProcessingMetadata=hv(e.sdkProcessingMetadata,l,2),o&&(e.level=o),v&&(e.transactionName=v),A&&(e.span=A),d.length&&(e.breadcrumbs=[...e.breadcrumbs,...d]),c.length&&(e.fingerprint=[...e.fingerprint,...c]),h.length&&(e.eventProcessors=[...e.eventProcessors,...h]),f.length&&(e.attachments=[...e.attachments,...f]),e.propagationContext={...e.propagationContext,...m}}function Mg(e,t,n){e[t]=hv(e[t],n,1)}function az(e,t){const{extra:n,tags:r,user:i,contexts:s,level:o,transactionName:l}=t,d=Kr(n);d&&Object.keys(d).length&&(e.extra={...d,...e.extra});const c=Kr(r);c&&Object.keys(c).length&&(e.tags={...c,...e.tags});const h=Kr(i);h&&Object.keys(h).length&&(e.user={...h,...e.user});const f=Kr(s);f&&Object.keys(f).length&&(e.contexts={...f,...e.contexts}),o&&(e.level=o),l&&e.type!=="transaction"&&(e.transaction=l)}function lz(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}function cz(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}function uz(e,t){e.contexts={trace:v8(t),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:xd(t),...e.sdkProcessingMetadata};const n=ii(t),r=sn(n).description;r&&!e.transaction&&e.type==="transaction"&&(e.transaction=r)}function dz(e,t){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}function fz(e,t,n,r,i,s){const{normalizeDepth:o=3,normalizeMaxBreadth:l=1e3}=e,d={...t,event_id:t.event_id||n.event_id||Er(),timestamp:t.timestamp||zh()},c=n.integrations||e.integrations.map(x=>x.name);hz(d,e),mz(d,c),i&&i.emit("applyFrameMetadata",t),t.type===void 0&&pz(d,e.stackParser);const h=yz(r,n.captureContext);n.mechanism&&_h(d,n.mechanism);const f=i?i.getEventProcessors():[],m=r8().getScopeData();if(s){const x=s.getScopeData();mT(m,x)}if(h){const x=h.getScopeData();mT(m,x)}const v=[...n.attachments||[],...m.attachments];v.length&&(n.attachments=v),oz(d,m);const A=[...f,...m.eventProcessors];return S_(A,d,n).then(x=>(x&&gz(x),typeof o=="number"&&o>0?vz(x,o,l):x))}function hz(e,t){const{environment:n,release:r,dist:i,maxValueLength:s=250}=t;e.environment=e.environment||n||ax,!e.release&&r&&(e.release=r),!e.dist&&i&&(e.dist=i),e.message&&(e.message=qu(e.message,s));const o=e.exception&&e.exception.values&&e.exception.values[0];o&&o.value&&(o.value=qu(o.value,s));const l=e.request;l&&l.url&&(l.url=qu(l.url,s))}function pz(e,t){const n=sz(t);try{e.exception.values.forEach(r=>{r.stacktrace.frames.forEach(i=>{n&&i.filename&&(i.debug_id=n[i.filename])})})}catch{}}function gz(e){const t={};try{e.exception.values.forEach(r=>{r.stacktrace.frames.forEach(i=>{i.debug_id&&(i.abs_path?t[i.abs_path]=i.debug_id:i.filename&&(t[i.filename]=i.debug_id),delete i.debug_id)})})}catch{}if(Object.keys(t).length===0)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.entries(t).forEach(([r,i])=>{n.push({type:"sourcemap",code_file:r,debug_id:i})})}function mz(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function vz(e,t,n){if(!e)return null;const r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(i=>({...i,...i.data&&{data:Wa(i.data,t,n)}}))},...e.user&&{user:Wa(e.user,t,n)},...e.contexts&&{contexts:Wa(e.contexts,t,n)},...e.extra&&{extra:Wa(e.extra,t,n)}};return e.contexts&&e.contexts.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=Wa(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map(i=>({...i,...i.data&&{data:Wa(i.data,t,n)}}))),r}function yz(e,t){if(!t)return e;const n=e?e.clone():new il;return n.update(t),n}function Az(e){if(e)return bz(e)?{captureContext:e}:Sz(e)?{captureContext:e}:e}function bz(e){return e instanceof il||typeof e=="function"}const _z=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function Sz(e){return Object.keys(e).some(t=>_z.includes(t))}function Ps(e,t){return Pn().captureException(e,Az(t))}function N3(e,t){return Pn().captureEvent(e,t)}function xz(e,t){jo().setContext(e,t)}function wz(e){jo().setUser(e)}function Ez(){return jo().lastEventId()}function Cz(){const e=an();return!!e&&e.getOptions().enabled!==!1&&!!e.getTransport()}function vT(e){const t=an(),n=jo(),r=Pn(),{release:i,environment:s=ax}=t&&t.getOptions()||{},{userAgent:o}=$t.navigator||{},l=W$({release:i,environment:s,user:r.getUser()||n.getUser(),...o&&{userAgent:o},...e}),d=n.getSession();return d&&d.status==="ok"&&od(d,{status:"exited"}),B3(),n.setSession(l),r.setSession(l),l}function B3(){const e=jo(),t=Pn(),n=t.getSession()||e.getSession();n&&K$(n),D3(),e.setSession(),t.setSession()}function D3(){const e=jo(),t=Pn(),n=an(),r=t.getSession()||e.getSession();r&&n&&n.captureSession(r)}function yT(e=!1){if(e){B3();return}D3()}const kz="7";function F3(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function Tz(e){return`${F3(e)}${e.projectId}/envelope/`}function Iz(e,t){const n={sentry_version:kz};return e.publicKey&&(n.sentry_key=e.publicKey),t&&(n.sentry_client=`${t.name}/${t.version}`),new URLSearchParams(n).toString()}function Rz(e,t,n){return t||`${Tz(e)}?${Iz(e,n)}`}function Pz(e,t){const n=P3(e);if(!n)return"";const r=`${F3(n)}embed/error-page/`;let i=`dsn=${wd(n)}`;for(const s in t)if(s!=="dsn"&&s!=="onClose")if(s==="user"){const o=t.user;if(!o)continue;o.name&&(i+=`&name=${encodeURIComponent(o.name)}`),o.email&&(i+=`&email=${encodeURIComponent(o.email)}`)}else i+=`&${encodeURIComponent(s)}=${encodeURIComponent(t[s])}`;return`${r}?${i}`}const AT=[];function Mz(e){const t={};return e.forEach(n=>{const{name:r}=n,i=t[r];i&&!i.isDefaultInstance&&n.isDefaultInstance||(t[r]=n)}),Object.values(t)}function jz(e){const t=e.defaultIntegrations||[],n=e.integrations;t.forEach(o=>{o.isDefaultInstance=!0});let r;if(Array.isArray(n))r=[...t,...n];else if(typeof n=="function"){const o=n(t);r=Array.isArray(o)?o:[o]}else r=t;const i=Mz(r),s=i.findIndex(o=>o.name==="Debug");if(s>-1){const[o]=i.splice(s,1);i.push(o)}return i}function Oz(e,t){const n={};return t.forEach(r=>{r&&$3(e,r,n)}),n}function bT(e,t){for(const n of t)n&&n.afterAllSetup&&n.afterAllSetup(e)}function $3(e,t,n){if(n[t.name]){Ct&&Be.log(`Integration skipped because it was already installed: ${t.name}`);return}if(n[t.name]=t,AT.indexOf(t.name)===-1&&typeof t.setupOnce=="function"&&(t.setupOnce(),AT.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),typeof t.preprocessEvent=="function"){const r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(i,s)=>r(i,s,e))}if(typeof t.processEvent=="function"){const r=t.processEvent.bind(t),i=Object.assign((s,o)=>r(s,o,e),{id:t.name});e.addEventProcessor(i)}Ct&&Be.log(`Integration installed: ${t.name}`)}function Vz(e,t,n){const r=[{type:"client_report"},{timestamp:zh(),discarded_events:e}];return Ed(t?{dsn:t}:{},[r])}class xo extends Error{constructor(t,n="warn"){super(t),this.message=t,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=n}}const _T="Not capturing exception because it's already been captured.";class Lz{constructor(t){if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=P3(t.dsn):Ct&&Be.warn("No DSN provided, client will not send events."),this._dsn){const i=Rz(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:i})}const r=["enableTracing","tracesSampleRate","tracesSampler"].find(i=>i in t&&t[i]==null);r&&Pc(()=>{console.warn(`[Sentry] Deprecation warning: \`${r}\` is set to undefined, which leads to tracing being enabled. In v9, a value of \`undefined\` will result in tracing being disabled.`)})}captureException(t,n,r){const i=Er();if(tT(t))return Ct&&Be.log(_T),i;const s={event_id:i,...n};return this._process(this.eventFromException(t,s).then(o=>this._captureEvent(o,s,r))),s.event_id}captureMessage(t,n,r,i){const s={event_id:Er(),...r},o=tx(t)?t:String(t),l=nx(t)?this.eventFromMessage(o,n,s):this.eventFromException(t,s);return this._process(l.then(d=>this._captureEvent(d,s,i))),s.event_id}captureEvent(t,n,r){const i=Er();if(n&&n.originalException&&tT(n.originalException))return Ct&&Be.log(_T),i;const s={event_id:i,...n},l=(t.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(t,s,l||r)),s.event_id}captureSession(t){typeof t.release!="string"?Ct&&Be.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),od(t,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const n=this._transport;return n?(this.emit("flush"),this._isClientDoneProcessing(t).then(r=>n.flush(t).then(i=>r&&i))):vc(!0)}close(t){return this.flush(t).then(n=>(this.getOptions().enabled=!1,this.emit("close"),n))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){(this._isEnabled()||this._options.integrations.some(({name:t})=>t.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){const n=this._integrations[t.name];$3(this,t,this._integrations),n||bT(this,[t])}sendEvent(t,n={}){this.emit("beforeSendEvent",t,n);let r=G8(t,this._dsn,this._options._metadata,this._options.tunnel);for(const s of n.attachments||[])r=L8(r,F8(s));const i=this.sendEnvelope(r);i&&i.then(s=>this.emit("afterSendEvent",t,s),null)}sendSession(t){const n=H8(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(n)}recordDroppedEvent(t,n,r){if(this._options.sendClientReports){const i=typeof r=="number"?r:1,s=`${t}:${n}`;Ct&&Be.log(`Recording outcome: "${s}"${i>1?` (${i} times)`:""}`),this._outcomes[s]=(this._outcomes[s]||0)+i}}on(t,n){const r=this._hooks[t]=this._hooks[t]||[];return r.push(n),()=>{const i=r.indexOf(n);i>-1&&r.splice(i,1)}}emit(t,...n){const r=this._hooks[t];r&&r.forEach(i=>i(...n))}sendEnvelope(t){return this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport?this._transport.send(t).then(null,n=>(Ct&&Be.error("Error while sending envelope:",n),n)):(Ct&&Be.error("Transport disabled"),vc({}))}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=Oz(this,t),bT(this,t)}_updateSessionFromEvent(t,n){let r=!1,i=!1;const s=n.exception&&n.exception.values;if(s){i=!0;for(const d of s){const c=d.mechanism;if(c&&c.handled===!1){r=!0;break}}}const o=t.status==="ok";(o&&t.errors===0||o&&r)&&(od(t,{...r&&{status:"crashed"},errors:t.errors||Number(i||r)}),this.captureSession(t))}_isClientDoneProcessing(t){return new bs(n=>{let r=0;const i=1,s=setInterval(()=>{this._numProcessing==0?(clearInterval(s),n(!0)):(r+=i,t&&r>=t&&(clearInterval(s),n(!1)))},i)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,n,r=Pn(),i=jo()){const s=this.getOptions(),o=Object.keys(this._integrations);return!n.integrations&&o.length>0&&(n.integrations=o),this.emit("preprocessEvent",t,n),t.type||i.setLastEventId(t.event_id||n.event_id),fz(s,t,n,r,this,i).then(l=>{if(l===null)return l;l.contexts={trace:i8(r),...l.contexts};const d=T3(this,r);return l.sdkProcessingMetadata={dynamicSamplingContext:d,...l.sdkProcessingMetadata},l})}_captureEvent(t,n={},r){return this._processEvent(t,n,r).then(i=>i.event_id,i=>{if(Ct){const s=i;s.logLevel==="log"?Be.log(s.message):Be.warn(s)}})}_processEvent(t,n,r){const i=this.getOptions(),{sampleRate:s}=i,o=U3(t),l=z3(t),d=t.type||"error",c=`before send for type \`${d}\``,h=typeof s>"u"?void 0:I3(s);if(l&&typeof h=="number"&&Math.random()>h)return this.recordDroppedEvent("sample_rate","error",t),g0(new xo(`Discarding event because it's not included in the random sample (sampling rate = ${s})`,"log"));const f=d==="replay_event"?"replay":d,v=(t.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(t,n,r,v).then(A=>{if(A===null)throw this.recordDroppedEvent("event_processor",f,t),new xo("An event processor returned `null`, will not send event.","log");if(n.data&&n.data.__sentry__===!0)return A;const x=Bz(this,i,A,n);return Nz(x,c)}).then(A=>{if(A===null){if(this.recordDroppedEvent("before_send",f,t),o){const I=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",I)}throw new xo(`${c} returned \`null\`, will not send event.`,"log")}const b=r&&r.getSession();if(!o&&b&&this._updateSessionFromEvent(b,A),o){const E=A.sdkProcessingMetadata&&A.sdkProcessingMetadata.spanCountBeforeProcessing||0,I=A.spans?A.spans.length:0,P=E-I;P>0&&this.recordDroppedEvent("before_send","span",P)}const x=A.transaction_info;if(o&&x&&A.transaction!==t.transaction){const E="custom";A.transaction_info={...x,source:E}}return this.sendEvent(A,n),A}).then(null,A=>{throw A instanceof xo?A:(this.captureException(A,{data:{__sentry__:!0},originalException:A}),new xo(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${A}`))})}_process(t){this._numProcessing++,t.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.entries(t).map(([n,r])=>{const[i,s]=n.split(":");return{reason:i,category:s,quantity:r}})}_flushOutcomes(){Ct&&Be.log("Flushing outcomes...");const t=this._clearOutcomes();if(t.length===0){Ct&&Be.log("No outcomes to send");return}if(!this._dsn){Ct&&Be.log("No dsn provided, will not send outcomes");return}Ct&&Be.log("Sending outcomes:",t);const n=Vz(t,this._options.tunnel&&wd(this._dsn));this.sendEnvelope(n)}}function Nz(e,t){const n=`${t} must return \`null\` or a valid event.`;if(fv(e))return e.then(r=>{if(!sd(r)&&r!==null)throw new xo(n);return r},r=>{throw new xo(`${t} rejected with ${r}`)});if(!sd(e)&&e!==null)throw new xo(n);return e}function Bz(e,t,n,r){const{beforeSend:i,beforeSendTransaction:s,beforeSendSpan:o}=t;if(z3(n)&&i)return i(n,r);if(U3(n)){if(n.spans&&o){const l=[];for(const d of n.spans){const c=o(d);c?l.push(c):(x3(),e.recordDroppedEvent("before_send","span"))}n.spans=l}if(s){if(n.spans){const l=n.spans.length;n.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:l}}return s(n,r)}}return n}function z3(e){return e.type===void 0}function U3(e){return e.type==="transaction"}function Dz(e,t){t.debug===!0&&(Ct?Be.enable():Pc(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),Pn().update(t.initialScope);const r=new e(t);return Fz(r),r.init(),r}function Fz(e){Pn().setClient(e)}function $z(e){const t=[];function n(){return e===void 0||t.length<e}function r(o){return t.splice(t.indexOf(o),1)[0]||Promise.resolve(void 0)}function i(o){if(!n())return g0(new xo("Not adding Promise because buffer limit was reached."));const l=o();return t.indexOf(l)===-1&&t.push(l),l.then(()=>r(l)).then(null,()=>r(l).then(null,()=>{})),l}function s(o){return new bs((l,d)=>{let c=t.length;if(!c)return l(!0);const h=setTimeout(()=>{o&&o>0&&l(!1)},o);t.forEach(f=>{vc(f).then(()=>{--c||(clearTimeout(h),l(!0))},d)})})}return{$:t,add:i,drain:s}}const zz=60*1e3;function Uz(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return n*1e3;const r=Date.parse(`${e}`);return isNaN(r)?zz:r-t}function Hz(e,t){return e[t]||e.all||0}function Gz(e,t,n=Date.now()){return Hz(e,t)>n}function qz(e,{statusCode:t,headers:n},r=Date.now()){const i={...e},s=n&&n["x-sentry-rate-limits"],o=n&&n["retry-after"];if(s)for(const l of s.trim().split(",")){const[d,c,,,h]=l.split(":",5),f=parseInt(d,10),m=(isNaN(f)?60:f)*1e3;if(!c)i.all=r+m;else for(const v of c.split(";"))v==="metric_bucket"?(!h||h.split(";").includes("custom"))&&(i[v]=r+m):i[v]=r+m}else o?i.all=r+Uz(o,r):t===429&&(i.all=r+60*1e3);return i}const Wz=64;function Kz(e,t,n=$z(e.bufferSize||Wz)){let r={};const i=o=>n.drain(o);function s(o){const l=[];if(b_(o,(f,m)=>{const v=cT(m);if(Gz(r,v)){const A=ST(f,m);e.recordDroppedEvent("ratelimit_backoff",v,A)}else l.push(f)}),l.length===0)return vc({});const d=Ed(o[0],l),c=f=>{b_(d,(m,v)=>{const A=ST(m,v);e.recordDroppedEvent(f,cT(v),A)})},h=()=>t({body:N8(d)}).then(f=>(f.statusCode!==void 0&&(f.statusCode<200||f.statusCode>=300)&&Ct&&Be.warn(`Sentry responded with status code ${f.statusCode} to sent event.`),r=qz(r,f),f),f=>{throw c("network_error"),f});return n.add(h).then(f=>f,f=>{if(f instanceof xo)return Ct&&Be.error("Skipped sending event because buffer is full."),c("queue_overflow"),vc({});throw f})}return{send:s,flush:i}}function ST(e,t){if(!(t!=="event"&&t!=="transaction"))return Array.isArray(e)?e[1]:void 0}function H3(e,t,n=[t],r="npm"){const i=e._metadata||{};i.sdk||(i.sdk={name:`sentry.javascript.${t}`,packages:n.map(s=>({name:`${r}:@sentry/${s}`,version:ic})),version:ic}),e._metadata=i}function G3(e={}){const t=an();if(!Cz()||!t)return{};const n=Mc(),r=_d(n);if(r.getTraceData)return r.getTraceData(e);const i=Pn(),s=e.span||oi(),o=s?y8(s):Yz(i),l=s?xd(s):T3(t,i),d=d8(l);return v3.test(o)?{"sentry-trace":o,baggage:d}:(Be.warn("Invalid sentry-trace data. Cannot generate trace data"),{})}function Yz(e){const{traceId:t,sampled:n,spanId:r}=e.getPropagationContext();return y3(t,r,n)}const Qz=100;function Ac(e,t){const n=an(),r=jo();if(!n)return;const{beforeBreadcrumb:i=null,maxBreadcrumbs:s=Qz}=n.getOptions();if(s<=0)return;const l={timestamp:zh(),...e},d=i?Pc(()=>i(l,t)):l;d!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",d,t),r.addBreadcrumb(d,s))}let xT;const Jz="FunctionToString",wT=new WeakMap,Xz=()=>({name:Jz,setupOnce(){xT=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=rx(this),n=wT.has(an())&&t!==void 0?t:this;return xT.apply(n,e)}}catch{}},setup(e){wT.set(e,!0)}}),Zz=Xz,e7=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler"],t7="InboundFilters",n7=(e={})=>({name:t7,processEvent(t,n,r){const i=r.getOptions(),s=i7(e,i);return s7(t,s)?null:t}}),r7=n7;function i7(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:e7],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]],ignoreInternal:e.ignoreInternal!==void 0?e.ignoreInternal:!0}}function s7(e,t){return t.ignoreInternal&&d7(e)?(Ct&&Be.warn(`Event dropped due to being internal Sentry Error.
Event: ${qa(e)}`),!0):o7(e,t.ignoreErrors)?(Ct&&Be.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${qa(e)}`),!0):h7(e)?(Ct&&Be.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${qa(e)}`),!0):a7(e,t.ignoreTransactions)?(Ct&&Be.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${qa(e)}`),!0):l7(e,t.denyUrls)?(Ct&&Be.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${qa(e)}.
Url: ${y0(e)}`),!0):c7(e,t.allowUrls)?!1:(Ct&&Be.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${qa(e)}.
Url: ${y0(e)}`),!0)}function o7(e,t){return e.type||!t||!t.length?!1:u7(e).some(n=>sc(n,t))}function a7(e,t){if(e.type!=="transaction"||!t||!t.length)return!1;const n=e.transaction;return n?sc(n,t):!1}function l7(e,t){if(!t||!t.length)return!1;const n=y0(e);return n?sc(n,t):!1}function c7(e,t){if(!t||!t.length)return!0;const n=y0(e);return n?sc(n,t):!0}function u7(e){const t=[];e.message&&t.push(e.message);let n;try{n=e.exception.values[e.exception.values.length-1]}catch{}return n&&n.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`)),t}function d7(e){try{return e.exception.values[0].type==="SentryError"}catch{}return!1}function f7(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function y0(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch{}return t?f7(t):null}catch{return Ct&&Be.error(`Cannot extract url for event ${qa(e)}`),null}}function h7(e){return e.type||!e.exception||!e.exception.values||e.exception.values.length===0?!1:!e.message&&!e.exception.values.some(t=>t.stacktrace||t.type&&t.type!=="Error"||t.value)}function p7(e,t,n=250,r,i,s,o){if(!s.exception||!s.exception.values||!o||!da(o.originalException,Error))return;const l=s.exception.values.length>0?s.exception.values[s.exception.values.length-1]:void 0;l&&(s.exception.values=g7(x_(e,t,i,o.originalException,r,s.exception.values,l,0),n))}function x_(e,t,n,r,i,s,o,l){if(s.length>=n+1)return s;let d=[...s];if(da(r[i],Error)){ET(o,l);const c=e(t,r[i]),h=d.length;CT(c,i,h,l),d=x_(e,t,n,r[i],i,[c,...d],c,h)}return Array.isArray(r.errors)&&r.errors.forEach((c,h)=>{if(da(c,Error)){ET(o,l);const f=e(t,c),m=d.length;CT(f,`errors[${h}]`,m,l),d=x_(e,t,n,c,i,[f,...d],f,m)}}),d}function ET(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function CT(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}function g7(e,t){return e.map(n=>(n.value&&(n.value=qu(n.value,t)),n))}const q3=new Map,kT=new Set;function m7(e){if($t._sentryModuleMetadata)for(const t of Object.keys($t._sentryModuleMetadata)){const n=$t._sentryModuleMetadata[t];if(kT.has(t))continue;kT.add(t);const r=e(t);for(const i of r.reverse())if(i.filename){q3.set(i.filename,n);break}}}function v7(e,t){return m7(e),q3.get(t)}function y7(e,t){try{t.exception.values.forEach(n=>{if(n.stacktrace)for(const r of n.stacktrace.frames||[]){if(!r.filename||r.module_metadata)continue;const i=v7(e,r.filename);i&&(r.module_metadata=i)}})}catch{}}function A7(e){try{e.exception.values.forEach(t=>{if(t.stacktrace)for(const n of t.stacktrace.frames||[])delete n.module_metadata})}catch{}}function lc(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}function b7(e){const t="console";pl(t,e),gl(t,_7)}function _7(){"console"in $t&&u_.forEach(function(e){e in $t.console&&Ji($t.console,e,function(t){return p0[e]=t,function(...n){Is("console",{args:n,level:e});const i=p0[e];i&&i.apply($t.console,n)}})})}function S7(e){return e==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(e)?e:"log"}const x7="Dedupe",w7=()=>{let e;return{name:x7,processEvent(t){if(t.type)return t;try{if(C7(t,e))return Ct&&Be.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}},E7=w7;function C7(e,t){return t?!!(k7(e,t)||T7(e,t)):!1}function k7(e,t){const n=e.message,r=t.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!K3(e,t)||!W3(e,t))}function T7(e,t){const n=TT(t),r=TT(e);return!(!n||!r||n.type!==r.type||n.value!==r.value||!K3(e,t)||!W3(e,t))}function W3(e,t){let n=d_(e),r=d_(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let i=0;i<r.length;i++){const s=r[i],o=n[i];if(s.filename!==o.filename||s.lineno!==o.lineno||s.colno!==o.colno||s.function!==o.function)return!1}return!0}function K3(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function TT(e){return e.exception&&e.exception.values&&e.exception.values[0]}const I7=e=>({name:"ThirdPartyErrorsFilter",setup(t){t.on("beforeEnvelope",n=>{b_(n,(r,i)=>{if(i==="event"){const s=Array.isArray(r)?r[1]:void 0;s&&(A7(s),r[1]=s)}})}),t.on("applyFrameMetadata",n=>{if(n.type)return;const r=t.getOptions().stackParser;y7(r,n)})},processEvent(t){const n=R7(t);if(n){const r=e.behaviour==="drop-error-if-contains-third-party-frames"||e.behaviour==="apply-tag-if-contains-third-party-frames"?"some":"every";if(n[r](s=>!s.some(o=>e.filterKeys.includes(o)))){if(e.behaviour==="drop-error-if-contains-third-party-frames"||e.behaviour==="drop-error-if-exclusively-contains-third-party-frames")return null;t.tags={...t.tags,third_party_code:!0}}}return t}});function R7(e){const t=d_(e);if(t)return t.filter(n=>!!n.filename).map(n=>n.module_metadata?Object.keys(n.module_metadata).filter(r=>r.startsWith(IT)).map(r=>r.slice(IT.length)):[])}const IT="_sentryBundlerPluginAppKey:";function P7(e,t,n,r,i="auto.http.browser"){if(!e.fetchData)return;const s=sl()&&t(e.fetchData.url);if(e.endTimestamp&&s){const m=e.fetchData.__span;if(!m)return;const v=r[m];v&&(O7(v,e),delete r[m]);return}const{method:o,url:l}=e.fetchData,d=j7(l),c=d?lc(d).host:void 0,h=!!oi(),f=s&&h?nl({name:`${o} ${l}`,attributes:{url:l,type:"fetch","http.method":o,"http.url":d,"server.address":c,[ur]:i,[yc]:"http.client"}}):new Sd;if(e.fetchData.__span=f.spanContext().spanId,r[f.spanContext().spanId]=f,n(e.fetchData.url)){const m=e.args[0],v=e.args[1]||{},A=M7(m,v,sl()&&h?f:void 0);A&&(e.args[1]=v,v.headers=A)}return f}function M7(e,t,n){const r=G3({span:n}),i=r["sentry-trace"],s=r.baggage;if(!i)return;const o=t.headers||(V7(e)?e.headers:void 0);if(o)if(L7(o)){const l=new Headers(o);if(l.set("sentry-trace",i),s){const d=l.get("baggage");if(d){const c=jg(d);l.set("baggage",c?`${c},${s}`:s)}else l.set("baggage",s)}return l}else if(Array.isArray(o)){const l=[...o.filter(d=>!(Array.isArray(d)&&d[0]==="sentry-trace")).map(d=>{if(Array.isArray(d)&&d[0]==="baggage"&&typeof d[1]=="string"){const[c,h,...f]=d;return[c,jg(h),...f]}else return d}),["sentry-trace",i]];return s&&l.push(["baggage",s]),l}else{const l="baggage"in o?o.baggage:void 0;let d=[];return Array.isArray(l)?d=l.map(c=>typeof c=="string"?jg(c):c).filter(c=>c===""):l&&d.push(jg(l)),s&&d.push(s),{...o,"sentry-trace":i,baggage:d.length>0?d.join(","):void 0}}else return{...r}}function j7(e){try{return new URL(e).href}catch{return}}function O7(e,t){if(t.response){g3(e,t.response.status);const n=t.response&&t.response.headers&&t.response.headers.get("content-length");if(n){const r=parseInt(n);r>0&&e.setAttribute("http.response_content_length",r)}}else t.error&&e.setStatus({code:Or,message:"internal_error"});e.end()}function jg(e){return e.split(",").filter(t=>!t.split("=")[0].startsWith(ox)).join(",")}function V7(e){return typeof Request<"u"&&da(e,Request)}function L7(e){return typeof Headers<"u"&&da(e,Headers)}function Y3(e){if(e!==void 0)return e>=400&&e<500?"warning":e>=500?"error":void 0}const w_=$t;function Q3(){if(!("fetch"in w_))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function E_(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function N7(){if(typeof EdgeRuntime=="string")return!0;if(!Q3())return!1;if(E_(w_.fetch))return!0;let e=!1;const t=w_.document;if(t&&typeof t.createElement=="function")try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=E_(n.contentWindow.fetch)),t.head.removeChild(n)}catch(n){hl&&Be.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e}function J3(e,t){const n="fetch";pl(n,e),gl(n,()=>X3(void 0,t))}function B7(e){const t="fetch-body-resolved";pl(t,e),gl(t,()=>X3(F7))}function X3(e,t=!1){t&&!N7()||Ji($t,"fetch",function(n){return function(...r){const{method:i,url:s}=$7(r),o={args:r,fetchData:{method:i,url:s},startTimestamp:Yr()*1e3};e||Is("fetch",{...o});const l=new Error().stack;return n.apply($t,r).then(async d=>(e?e(d):Is("fetch",{...o,endTimestamp:Yr()*1e3,response:d}),d),d=>{throw Is("fetch",{...o,endTimestamp:Yr()*1e3,error:d}),uv(d)&&d.stack===void 0&&(d.stack=l,Rs(d,"framesToPop",1)),d})}})}async function D7(e,t){if(e&&e.body){const n=e.body,r=n.getReader(),i=setTimeout(()=>{n.cancel().then(null,()=>{})},90*1e3);let s=!0;for(;s;){let o;try{o=setTimeout(()=>{n.cancel().then(null,()=>{})},5e3);const{done:l}=await r.read();clearTimeout(o),l&&(t(),s=!1)}catch{s=!1}finally{clearTimeout(o)}}clearTimeout(i),r.releaseLock(),n.cancel().then(null,()=>{})}}function F7(e){let t;try{t=e.clone()}catch{return}D7(t,()=>{Is("fetch-body-resolved",{endTimestamp:Yr()*1e3,response:e})})}function C_(e,t){return!!e&&typeof e=="object"&&!!e[t]}function RT(e){return typeof e=="string"?e:e?C_(e,"url")?e.url:e.toString?e.toString():"":""}function $7(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){const[n,r]=e;return{url:RT(n),method:C_(r,"method")?String(r.method).toUpperCase():"GET"}}const t=e[0];return{url:RT(t),method:C_(t,"method")?String(t.method).toUpperCase():"GET"}}function z7(){return"npm"}const Og=$t;function U7(){const e=Og.chrome,t=e&&e.app&&e.app.runtime,n="history"in Og&&!!Og.history.pushState&&!!Og.history.replaceState;return!t&&n}const gt=$t;let k_=0;function Z3(){return k_>0}function H7(){k_++,setTimeout(()=>{k_--})}function ld(e,t={},n){if(typeof e!="function")return e;try{const i=e.__sentry_wrapped__;if(i)return typeof i=="function"?i:e;if(rx(e))return e}catch{return e}const r=function(){const i=Array.prototype.slice.call(arguments);try{const s=i.map(o=>ld(o,t));return e.apply(this,s)}catch(s){throw H7(),pv(o=>{o.addEventProcessor(l=>(t.mechanism&&(h_(l,void 0),_h(l,t.mechanism)),l.extra={...l.extra,arguments:i},l)),Ps(s)}),s}};try{for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}catch{}c3(r,e),Rs(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return e.name}})}catch{}return r}const Zi=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function cx(e,t){const n=ux(e,t),r={type:Y7(t),value:Q7(t)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function G7(e,t,n,r){const i=an(),s=i&&i.getOptions().normalizeDepth,o=tU(t),l={__serialized__:M3(t,s)};if(o)return{exception:{values:[cx(e,o)]},extra:l};const d={exception:{values:[{type:dv(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:Z7(t,{isUnhandledRejection:r})}]},extra:l};if(n){const c=ux(e,n);c.length&&(d.exception.values[0].stacktrace={frames:c})}return d}function ZA(e,t){return{exception:{values:[cx(e,t)]}}}function ux(e,t){const n=t.stacktrace||t.stack||"",r=W7(t),i=K7(t);try{return e(n,r,i)}catch{}return[]}const q7=/Minified React error #\d+;/i;function W7(e){return e&&q7.test(e.message)?1:0}function K7(e){return typeof e.framesToPop=="number"?e.framesToPop:0}function eO(e){return typeof WebAssembly<"u"&&typeof WebAssembly.Exception<"u"?e instanceof WebAssembly.Exception:!1}function Y7(e){const t=e&&e.name;return!t&&eO(e)?e.message&&Array.isArray(e.message)&&e.message.length==2?e.message[0]:"WebAssembly.Exception":t}function Q7(e){const t=e&&e.message;return t?t.error&&typeof t.error.message=="string"?t.error.message:eO(e)&&Array.isArray(e.message)&&e.message.length==2?e.message[1]:t:"No error message"}function J7(e,t,n,r){const i=n&&n.syntheticException||void 0,s=dx(e,t,i,r);return _h(s),s.level="error",n&&n.event_id&&(s.event_id=n.event_id),vc(s)}function X7(e,t,n="info",r,i){const s=r&&r.syntheticException||void 0,o=T_(e,t,s,i);return o.level=n,r&&r.event_id&&(o.event_id=r.event_id),vc(o)}function dx(e,t,n,r,i){let s;if(o3(t)&&t.error)return ZA(e,t.error);if(J2(t)||V$(t)){const o=t;if("stack"in t)s=ZA(e,t);else{const l=o.name||(J2(o)?"DOMError":"DOMException"),d=o.message?`${l}: ${o.message}`:l;s=T_(e,d,n,r),h_(s,d)}return"code"in o&&(s.tags={...s.tags,"DOMException.code":`${o.code}`}),s}return uv(t)?ZA(e,t):sd(t)||dv(t)?(s=G7(e,t,n,i),_h(s,{synthetic:!0}),s):(s=T_(e,t,n,r),h_(s,`${t}`),_h(s,{synthetic:!0}),s)}function T_(e,t,n,r){const i={};if(r&&n){const s=ux(e,n);s.length&&(i.exception={values:[{value:t,stacktrace:{frames:s}}]})}if(tx(t)){const{__sentry_template_string__:s,__sentry_template_values__:o}=t;return i.logentry={message:s,params:o},i}return i.message=t,i}function Z7(e,{isUnhandledRejection:t}){const n=H$(e),r=t?"promise rejection":"exception";return o3(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:dv(e)?`Event \`${eU(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}function eU(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}function tU(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const n=e[t];if(n instanceof Error)return n}}function nU(e,{metadata:t,tunnel:n,dsn:r}){const i={event_id:e.event_id,sent_at:new Date().toISOString(),...t&&t.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}},...!!n&&!!r&&{dsn:wd(r)}},s=rU(e);return Ed(i,[s])}function rU(e){return[{type:"user_report"},e]}class iU extends Lz{constructor(t){const n={parentSpanIsAlwaysRootSpan:!0,...t},r=gt.SENTRY_SDK_SOURCE||z7();H3(n,"browser",["browser"],r),super(n),n.sendClientReports&&gt.document&&gt.document.addEventListener("visibilitychange",()=>{gt.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(t,n){return J7(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",r){return X7(this._options.stackParser,t,n,r,this._options.attachStacktrace)}captureUserFeedback(t){if(!this._isEnabled()){Zi&&Be.warn("SDK not enabled, will not capture user feedback.");return}const n=nU(t,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(n)}_prepareEvent(t,n,r){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,r)}}const fx=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,sU=(e,t)=>e>t[1]?"poor":e>t[0]?"needs-improvement":"good",Cd=(e,t,n,r)=>{let i,s;return o=>{t.value>=0&&(o||r)&&(s=t.value-(i||0),(s||i===void 0)&&(i=t.value,t.delta=s,t.rating=sU(t.value,n),e(t)))}},At=$t,oU=()=>`v3-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,Uh=()=>At.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0],Hh=()=>{const e=Uh();return e&&e.activationStart||0},kd=(e,t)=>{const n=Uh();let r="navigate";return n&&(At.document&&At.document.prerendering||Hh()>0?r="prerender":At.document&&At.document.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:typeof t>"u"?-1:t,rating:"good",delta:0,entries:[],id:oU(),navigationType:r}},Oc=(e,t,n)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const r=new PerformanceObserver(i=>{Promise.resolve().then(()=>{t(i.getEntries())})});return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch{}},Gh=e=>{const t=n=>{(n.type==="pagehide"||At.document&&At.document.visibilityState==="hidden")&&e(n)};At.document&&(addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0))},hx=e=>{let t=!1;return n=>{t||(e(n),t=!0)}};let wh=-1;const aU=()=>{wh=At.document.visibilityState==="hidden"&&!At.document.prerendering?0:1/0},A0=e=>{At.document.visibilityState==="hidden"&&wh>-1&&(wh=e.type==="visibilitychange"?e.timeStamp:0,removeEventListener("visibilitychange",A0,!0),removeEventListener("prerenderingchange",A0,!0))},lU=()=>{addEventListener("visibilitychange",A0,!0),addEventListener("prerenderingchange",A0,!0)},vv=()=>(At.document&&wh<0&&(aU(),lU()),{get firstHiddenTime(){return wh}}),qh=e=>{At.document&&At.document.prerendering?addEventListener("prerenderingchange",()=>e(),!0):e()},cU=[1800,3e3],uU=(e,t={})=>{qh(()=>{const n=vv(),r=kd("FCP");let i;const o=Oc("paint",l=>{l.forEach(d=>{d.name==="first-contentful-paint"&&(o.disconnect(),d.startTime<n.firstHiddenTime&&(r.value=Math.max(d.startTime-Hh(),0),r.entries.push(d),i(!0)))})});o&&(i=Cd(e,r,cU,t.reportAllChanges))})},dU=[.1,.25],fU=(e,t={})=>{uU(hx(()=>{const n=kd("CLS",0);let r,i=0,s=[];const o=d=>{d.forEach(c=>{if(!c.hadRecentInput){const h=s[0],f=s[s.length-1];i&&h&&f&&c.startTime-f.startTime<1e3&&c.startTime-h.startTime<5e3?(i+=c.value,s.push(c)):(i=c.value,s=[c])}}),i>n.value&&(n.value=i,n.entries=s,r())},l=Oc("layout-shift",o);l&&(r=Cd(e,n,dU,t.reportAllChanges),Gh(()=>{o(l.takeRecords()),r(!0)}),setTimeout(r,0))}))},hU=[100,300],pU=(e,t={})=>{qh(()=>{const n=vv(),r=kd("FID");let i;const s=d=>{d.startTime<n.firstHiddenTime&&(r.value=d.processingStart-d.startTime,r.entries.push(d),i(!0))},o=d=>{d.forEach(s)},l=Oc("first-input",o);i=Cd(e,r,hU,t.reportAllChanges),l&&Gh(hx(()=>{o(l.takeRecords()),l.disconnect()}))})};let tO=0,e1=1/0,Vg=0;const gU=e=>{e.forEach(t=>{t.interactionId&&(e1=Math.min(e1,t.interactionId),Vg=Math.max(Vg,t.interactionId),tO=Vg?(Vg-e1)/7+1:0)})};let I_;const mU=()=>I_?tO:performance.interactionCount||0,vU=()=>{"interactionCount"in performance||I_||(I_=Oc("event",gU,{type:"event",buffered:!0,durationThreshold:0}))},yU=[200,500],AU=0,nO=()=>mU()-AU,PT=10,ta=[],t1={},MT=e=>{const t=ta[ta.length-1],n=t1[e.interactionId];if(n||ta.length<PT||t&&e.duration>t.latency){if(n)n.entries.push(e),n.latency=Math.max(n.latency,e.duration);else{const r={id:e.interactionId,latency:e.duration,entries:[e]};t1[r.id]=r,ta.push(r)}ta.sort((r,i)=>i.latency-r.latency),ta.splice(PT).forEach(r=>{delete t1[r.id]})}},bU=()=>{const e=Math.min(ta.length-1,Math.floor(nO()/50));return ta[e]},_U=(e,t={})=>{qh(()=>{vU();const n=kd("INP");let r;const i=o=>{o.forEach(d=>{d.interactionId&&MT(d),d.entryType==="first-input"&&!ta.some(h=>h.entries.some(f=>d.duration===f.duration&&d.startTime===f.startTime))&&MT(d)});const l=bU();l&&l.latency!==n.value&&(n.value=l.latency,n.entries=l.entries,r())},s=Oc("event",i,{durationThreshold:t.durationThreshold!=null?t.durationThreshold:40});r=Cd(e,n,yU,t.reportAllChanges),s&&("PerformanceEventTiming"in At&&"interactionId"in PerformanceEventTiming.prototype&&s.observe({type:"first-input",buffered:!0}),Gh(()=>{i(s.takeRecords()),n.value<0&&nO()>0&&(n.value=0,n.entries=[]),r(!0)}))})},SU=[2500,4e3],jT={},xU=(e,t={})=>{qh(()=>{const n=vv(),r=kd("LCP");let i;const s=l=>{const d=l[l.length-1];d&&d.startTime<n.firstHiddenTime&&(r.value=Math.max(d.startTime-Hh(),0),r.entries=[d],i())},o=Oc("largest-contentful-paint",s);if(o){i=Cd(e,r,SU,t.reportAllChanges);const l=hx(()=>{jT[r.id]||(s(o.takeRecords()),o.disconnect(),jT[r.id]=!0,i(!0))});["keydown","click"].forEach(d=>{At.document&&addEventListener(d,()=>setTimeout(l,0),!0)}),Gh(l)}})},wU=[800,1800],R_=e=>{At.document&&At.document.prerendering?qh(()=>R_(e)):At.document&&At.document.readyState!=="complete"?addEventListener("load",()=>R_(e),!0):setTimeout(e,0)},EU=(e,t={})=>{const n=kd("TTFB"),r=Cd(e,n,wU,t.reportAllChanges);R_(()=>{const i=Uh();if(i){const s=i.responseStart;if(s<=0||s>performance.now())return;n.value=Math.max(s-Hh(),0),n.entries=[i],r(!0)}})},ih={},b0={};let rO,iO,sO,oO,aO;function lO(e,t=!1){return Wh("cls",e,RU,rO,t)}function CU(e,t=!1){return Wh("lcp",e,MU,sO,t)}function kU(e){return Wh("fid",e,PU,iO)}function TU(e){return Wh("ttfb",e,jU,oO)}function IU(e){return Wh("inp",e,OU,aO)}function Eh(e,t){return cO(e,t),b0[e]||(VU(e),b0[e]=!0),uO(e,t)}function Td(e,t){const n=ih[e];if(!(!n||!n.length))for(const r of n)try{r(t)}catch(i){fx&&Be.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${ua(r)}
Error:`,i)}}function RU(){return fU(e=>{Td("cls",{metric:e}),rO=e},{reportAllChanges:!0})}function PU(){return pU(e=>{Td("fid",{metric:e}),iO=e})}function MU(){return xU(e=>{Td("lcp",{metric:e}),sO=e},{reportAllChanges:!0})}function jU(){return EU(e=>{Td("ttfb",{metric:e}),oO=e})}function OU(){return _U(e=>{Td("inp",{metric:e}),aO=e})}function Wh(e,t,n,r,i=!1){cO(e,t);let s;return b0[e]||(s=n(),b0[e]=!0),r&&t({metric:r}),uO(e,t,i?s:void 0)}function VU(e){const t={};e==="event"&&(t.durationThreshold=0),Oc(e,n=>{Td(e,{entries:n})},t)}function cO(e,t){ih[e]=ih[e]||[],ih[e].push(t)}function uO(e,t,n){return()=>{n&&n();const r=ih[e];if(!r)return;const i=r.indexOf(t);i!==-1&&r.splice(i,1)}}function LU(e){return"duration"in e}function n1(e){return typeof e=="number"&&isFinite(e)}function fa(e,t,n,{...r}){const i=sn(e).start_timestamp;return i&&i>t&&typeof e.updateStartTime=="function"&&e.updateStartTime(t),v0(e,()=>{const s=nl({startTime:t,...r});return s&&s.end(n),s})}function dO(e){const t=an();if(!t)return;const{name:n,transaction:r,attributes:i,startTime:s}=e,{release:o,environment:l}=t.getOptions(),d=t.getIntegrationByName("Replay"),c=d&&d.getReplayId(),h=Pn(),f=h.getUser(),m=f!==void 0?f.email||f.id||f.ip_address:void 0;let v;try{v=h.getScopeData().contexts.profile.profile_id}catch{}const A={release:o,environment:l,user:m||void 0,profile_id:v||void 0,replay_id:c||void 0,transaction:r,"user_agent.original":At.navigator&&At.navigator.userAgent,...i};return nl({name:n,attributes:A,startTime:s,experimental:{standalone:!0}})}function px(){return At&&At.addEventListener&&At.performance}function cr(e){return e/1e3}function NU(){let e=0,t,n;if(!DU())return;let r=!1;function i(){r||(r=!0,n&&BU(e,t,n),s())}const s=lO(({metric:o})=>{const l=o.entries[o.entries.length-1];l&&(e=o.value,t=l)},!0);Gh(()=>{i()}),setTimeout(()=>{const o=an();if(!o)return;const l=o.on("startNavigationSpan",()=>{i(),l&&l()}),d=oi(),c=d&&ii(d),h=c&&sn(c);h&&h.op==="pageload"&&(n=c.spanContext().spanId)},0)}function BU(e,t,n){fx&&Be.log(`Sending CLS span (${e})`);const r=cr((Di||0)+(t&&t.startTime||0)),i=Pn().getScopeData().transactionName,s=t?mc(t.sources[0]&&t.sources[0].node):"Layout shift",o=Kr({[ur]:"auto.http.browser.cls",[yc]:"ui.webvital.cls",[sx]:t&&t.duration||0,"sentry.pageload.span_id":n}),l=dO({name:s,transaction:i,attributes:o,startTime:r});l&&(l.addEvent("cls",{[gv]:"",[mv]:e}),l.end(r))}function DU(){try{return PerformanceObserver.supportedEntryTypes.includes("layout-shift")}catch{return!1}}const FU=2147483647;let OT=0,Ur={},Mi,sh;function $U({recordClsStandaloneSpans:e}){const t=px();if(t&&Di){t.mark&&At.performance.mark("sentry-tracing-init");const n=WU(),r=qU(),i=KU(),s=e?NU():GU();return()=>{n(),r(),i(),s&&s()}}return()=>{}}function zU(){Eh("longtask",({entries:e})=>{const t=oi();if(!t)return;const{op:n,start_timestamp:r}=sn(t);for(const i of e){const s=cr(Di+i.startTime),o=cr(i.duration);n==="navigation"&&r&&s<r||fa(t,s,s+o,{name:"Main UI thread blocked",op:"ui.long-task",attributes:{[ur]:"auto.ui.browser.metrics"}})}})}function UU(){new PerformanceObserver(t=>{const n=oi();if(n)for(const r of t.getEntries()){if(!r.scripts[0])continue;const i=cr(Di+r.startTime),{start_timestamp:s,op:o}=sn(n);if(o==="navigation"&&s&&i<s)continue;const l=cr(r.duration),d={[ur]:"auto.ui.browser.metrics"},c=r.scripts[0],{invoker:h,invokerType:f,sourceURL:m,sourceFunctionName:v,sourceCharPosition:A}=c;d["browser.script.invoker"]=h,d["browser.script.invoker_type"]=f,m&&(d["code.filepath"]=m),v&&(d["code.function"]=v),A!==-1&&(d["browser.script.source_char_position"]=A),fa(n,i,i+l,{name:"Main UI thread blocked",op:"ui.long-animation-frame",attributes:d})}}).observe({type:"long-animation-frame",buffered:!0})}function HU(){Eh("event",({entries:e})=>{const t=oi();if(t){for(const n of e)if(n.name==="click"){const r=cr(Di+n.startTime),i=cr(n.duration),s={name:mc(n.target),op:`ui.interaction.${n.name}`,startTime:r,attributes:{[ur]:"auto.ui.browser.metrics"}},o=l3(n.target);o&&(s.attributes["ui.component_name"]=o),fa(t,r,r+i,s)}}})}function GU(){return lO(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(Ur.cls={value:e.value,unit:""},sh=t)},!0)}function qU(){return CU(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(Ur.lcp={value:e.value,unit:"millisecond"},Mi=t)},!0)}function WU(){return kU(({metric:e})=>{const t=e.entries[e.entries.length-1];if(!t)return;const n=cr(Di),r=cr(t.startTime);Ur.fid={value:e.value,unit:"millisecond"},Ur["mark.fid"]={value:n+r,unit:"second"}})}function KU(){return TU(({metric:e})=>{e.entries[e.entries.length-1]&&(Ur.ttfb={value:e.value,unit:"millisecond"})})}function YU(e,t){const n=px();if(!n||!At.performance.getEntries||!Di)return;const r=cr(Di),i=n.getEntries(),{op:s,start_timestamp:o}=sn(e);if(i.slice(OT).forEach(l=>{const d=cr(l.startTime),c=cr(Math.max(0,l.duration));if(!(s==="navigation"&&o&&r+d<o))switch(l.entryType){case"navigation":{JU(e,l,r);break}case"mark":case"paint":case"measure":{QU(e,l,d,c,r);const h=vv(),f=l.startTime<h.firstHiddenTime;l.name==="first-paint"&&f&&(Ur.fp={value:l.startTime,unit:"millisecond"}),l.name==="first-contentful-paint"&&f&&(Ur.fcp={value:l.startTime,unit:"millisecond"});break}case"resource":{ZU(e,l,l.name,d,c,r);break}}}),OT=Math.max(i.length-1,0),e9(e),s==="pageload"){n9(Ur);const l=Ur["mark.fid"];l&&Ur.fid&&(fa(e,l.value,l.value+cr(Ur.fid.value),{name:"first input delay",op:"ui.action",attributes:{[ur]:"auto.ui.browser.metrics"}}),delete Ur["mark.fid"]),(!("fcp"in Ur)||!t.recordClsOnPageloadSpan)&&delete Ur.cls,Object.entries(Ur).forEach(([d,c])=>{W8(d,c.value,c.unit)}),e.setAttribute("performance.timeOrigin",r),e.setAttribute("performance.activationStart",Hh()),t9(e)}Mi=void 0,sh=void 0,Ur={}}function QU(e,t,n,r,i){const s=Uh(),o=cr(s?s.requestStart:0),l=i+Math.max(n,o),d=i+n,c=d+r,h={[ur]:"auto.resource.browser.metrics"};return l!==d&&(h["sentry.browser.measure_happened_before_request"]=!0,h["sentry.browser.measure_start_time"]=l),fa(e,l,c,{name:t.name,op:t.entryType,attributes:h}),l}function JU(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(r=>{Lg(e,t,r,n)}),Lg(e,t,"secureConnection",n,"TLS/SSL","connectEnd"),Lg(e,t,"fetch",n,"cache","domainLookupStart"),Lg(e,t,"domainLookup",n,"DNS"),XU(e,t,n)}function Lg(e,t,n,r,i,s){const o=s?t[s]:t[`${n}End`],l=t[`${n}Start`];!l||!o||fa(e,r+cr(l),r+cr(o),{op:`browser.${i||n}`,name:t.name,attributes:{[ur]:"auto.ui.browser.metrics"}})}function XU(e,t,n){const r=n+cr(t.requestStart),i=n+cr(t.responseEnd),s=n+cr(t.responseStart);t.responseEnd&&(fa(e,r,i,{op:"browser.request",name:t.name,attributes:{[ur]:"auto.ui.browser.metrics"}}),fa(e,s,i,{op:"browser.response",name:t.name,attributes:{[ur]:"auto.ui.browser.metrics"}}))}function ZU(e,t,n,r,i,s){if(t.initiatorType==="xmlhttprequest"||t.initiatorType==="fetch")return;const o=lc(n),l={[ur]:"auto.resource.browser.metrics"};r1(l,t,"transferSize","http.response_transfer_size"),r1(l,t,"encodedBodySize","http.response_content_length"),r1(l,t,"decodedBodySize","http.decoded_response_content_length"),t.deliveryType!=null&&(l["http.response_delivery_type"]=t.deliveryType),"renderBlockingStatus"in t&&(l["resource.render_blocking_status"]=t.renderBlockingStatus),o.protocol&&(l["url.scheme"]=o.protocol.split(":").pop()),o.host&&(l["server.address"]=o.host),l["url.same_origin"]=n.includes(At.location.origin);const d=s+r,c=d+i;fa(e,d,c,{name:n.replace(At.location.origin,""),op:t.initiatorType?`resource.${t.initiatorType}`:"resource.other",attributes:l})}function e9(e){const t=At.navigator;if(!t)return;const n=t.connection;n&&(n.effectiveType&&e.setAttribute("effectiveConnectionType",n.effectiveType),n.type&&e.setAttribute("connectionType",n.type),n1(n.rtt)&&(Ur["connection.rtt"]={value:n.rtt,unit:"millisecond"})),n1(t.deviceMemory)&&e.setAttribute("deviceMemory",`${t.deviceMemory} GB`),n1(t.hardwareConcurrency)&&e.setAttribute("hardwareConcurrency",String(t.hardwareConcurrency))}function t9(e){Mi&&(Mi.element&&e.setAttribute("lcp.element",mc(Mi.element)),Mi.id&&e.setAttribute("lcp.id",Mi.id),Mi.url&&e.setAttribute("lcp.url",Mi.url.trim().slice(0,200)),Mi.loadTime!=null&&e.setAttribute("lcp.loadTime",Mi.loadTime),Mi.renderTime!=null&&e.setAttribute("lcp.renderTime",Mi.renderTime),e.setAttribute("lcp.size",Mi.size)),sh&&sh.sources&&sh.sources.forEach((t,n)=>e.setAttribute(`cls.source.${n+1}`,mc(t.node)))}function r1(e,t,n,r){const i=t[n];i!=null&&i<FU&&(e[r]=i)}function n9(e){const t=Uh();if(!t)return;const{responseStart:n,requestStart:r}=t;r<=n&&(e["ttfb.requestTime"]={value:n-r,unit:"millisecond"})}const r9=1e3;let VT,P_,M_;function i9(e){const t="dom";pl(t,e),gl(t,s9)}function s9(){if(!At.document)return;const e=Is.bind(null,"dom"),t=LT(e,!0);At.document.addEventListener("click",t,!1),At.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{const r=At[n]&&At[n].prototype;!r||!r.hasOwnProperty||!r.hasOwnProperty("addEventListener")||(Ji(r,"addEventListener",function(i){return function(s,o,l){if(s==="click"||s=="keypress")try{const d=this,c=d.__sentry_instrumentation_handlers__=d.__sentry_instrumentation_handlers__||{},h=c[s]=c[s]||{refCount:0};if(!h.handler){const f=LT(e);h.handler=f,i.call(this,s,f,l)}h.refCount++}catch{}return i.call(this,s,o,l)}}),Ji(r,"removeEventListener",function(i){return function(s,o,l){if(s==="click"||s=="keypress")try{const d=this,c=d.__sentry_instrumentation_handlers__||{},h=c[s];h&&(h.refCount--,h.refCount<=0&&(i.call(this,s,h.handler,l),h.handler=void 0,delete c[s]),Object.keys(c).length===0&&delete d.__sentry_instrumentation_handlers__)}catch{}return i.call(this,s,o,l)}}))})}function o9(e){if(e.type!==P_)return!1;try{if(!e.target||e.target._sentryId!==M_)return!1}catch{}return!0}function a9(e,t){return e!=="keypress"?!1:!t||!t.tagName?!0:!(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable)}function LT(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=l9(n);if(a9(n.type,r))return;Rs(n,"_sentryCaptured",!0),r&&!r._sentryId&&Rs(r,"_sentryId",Er());const i=n.type==="keypress"?"input":n.type;o9(n)||(e({event:n,name:i,global:t}),P_=n.type,M_=r?r._sentryId:void 0),clearTimeout(VT),VT=At.setTimeout(()=>{M_=void 0,P_=void 0},r9)}}function l9(e){try{return e.target}catch{return null}}let Ng;function gx(e){const t="history";pl(t,e),gl(t,c9)}function c9(){if(!U7())return;const e=At.onpopstate;At.onpopstate=function(...n){const r=At.location.href,i=Ng;if(Ng=r,Is("history",{from:i,to:r}),e)try{return e.apply(this,n)}catch{}};function t(n){return function(...r){const i=r.length>2?r[2]:void 0;if(i){const s=Ng,o=String(i);Ng=o,Is("history",{from:s,to:o})}return n.apply(this,r)}}Ji(At.history,"pushState",t),Ji(At.history,"replaceState",t)}const Im={};function u9(e){const t=Im[e];if(t)return t;let n=At[e];if(E_(n))return Im[e]=n.bind(At);const r=At.document;if(r&&typeof r.createElement=="function")try{const i=r.createElement("iframe");i.hidden=!0,r.head.appendChild(i);const s=i.contentWindow;s&&s[e]&&(n=s[e]),r.head.removeChild(i)}catch(i){fx&&Be.warn(`Could not create sandbox iframe for ${e} check, bailing to window.${e}: `,i)}return n&&(Im[e]=n.bind(At))}function NT(e){Im[e]=void 0}const Ou="__sentry_xhr_v3__";function fO(e){const t="xhr";pl(t,e),gl(t,d9)}function d9(){if(!At.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(t,n,r){const i=Yr()*1e3,s=aa(r[0])?r[0].toUpperCase():void 0,o=f9(r[1]);if(!s||!o)return t.apply(n,r);n[Ou]={method:s,url:o,request_headers:{}},s==="POST"&&o.match(/sentry_key/)&&(n.__sentry_own_request__=!0);const l=()=>{const d=n[Ou];if(d&&n.readyState===4){try{d.status_code=n.status}catch{}const c={endTimestamp:Yr()*1e3,startTimestamp:i,xhr:n};Is("xhr",c)}};return"onreadystatechange"in n&&typeof n.onreadystatechange=="function"?n.onreadystatechange=new Proxy(n.onreadystatechange,{apply(d,c,h){return l(),d.apply(c,h)}}):n.addEventListener("readystatechange",l),n.setRequestHeader=new Proxy(n.setRequestHeader,{apply(d,c,h){const[f,m]=h,v=c[Ou];return v&&aa(f)&&aa(m)&&(v.request_headers[f.toLowerCase()]=m),d.apply(c,h)}}),t.apply(n,r)}}),e.send=new Proxy(e.send,{apply(t,n,r){const i=n[Ou];if(!i)return t.apply(n,r);r[0]!==void 0&&(i.body=r[0]);const s={startTimestamp:Yr()*1e3,xhr:n};return Is("xhr",s),t.apply(n,r)}})}function f9(e){if(aa(e))return e;try{return e.toString()}catch{}}const i1=[],Rm=new Map;function h9(){if(px()&&Di){const t=p9();return()=>{t()}}return()=>{}}const BT={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function p9(){return IU(({metric:e})=>{if(e.value==null)return;const t=e.entries.find(A=>A.duration===e.value&&BT[A.name]);if(!t)return;const{interactionId:n}=t,r=BT[t.name],i=cr(Di+t.startTime),s=cr(e.value),o=oi(),l=o?ii(o):void 0,c=(n!=null?Rm.get(n):void 0)||l,h=c?sn(c).description:Pn().getScopeData().transactionName,f=mc(t.target),m=Kr({[ur]:"auto.http.browser.inp",[yc]:`ui.interaction.${r}`,[sx]:t.duration}),v=dO({name:f,transaction:h,attributes:m,startTime:i});v&&(v.addEvent("inp",{[gv]:"millisecond",[mv]:e.value}),v.end(i+s))})}function g9(e){const t=({entries:n})=>{const r=oi(),i=r&&ii(r);n.forEach(s=>{if(!LU(s)||!i)return;const o=s.interactionId;if(o!=null&&!Rm.has(o)){if(i1.length>10){const l=i1.shift();Rm.delete(l)}i1.push(o),Rm.set(o,i)}})};Eh("event",t),Eh("first-input",t)}function m9(e,t=u9("fetch")){let n=0,r=0;function i(s){const o=s.body.length;n+=o,r++;const l={body:s.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};if(!t)return NT("fetch"),g0("No fetch implementation available");try{return t(e.url,l).then(d=>(n-=o,r--,{statusCode:d.status,headers:{"x-sentry-rate-limits":d.headers.get("X-Sentry-Rate-Limits"),"retry-after":d.headers.get("Retry-After")}}))}catch(d){return NT("fetch"),n-=o,r--,g0(d)}}return Kz(e,i)}const v9=30,y9=50;function j_(e,t,n,r){const i={filename:e,function:t==="<anonymous>"?gc:t,in_app:!0};return n!==void 0&&(i.lineno=n),r!==void 0&&(i.colno=r),i}const A9=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,b9=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,_9=/\((\S*)(?::(\d+))(?::(\d+))\)/,S9=e=>{const t=A9.exec(e);if(t){const[,r,i,s]=t;return j_(r,gc,+i,+s)}const n=b9.exec(e);if(n){if(n[2]&&n[2].indexOf("eval")===0){const o=_9.exec(n[2]);o&&(n[2]=o[1],n[3]=o[2],n[4]=o[3])}const[i,s]=hO(n[1]||gc,n[2]);return j_(s,i,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}},x9=[v9,S9],w9=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,E9=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,C9=e=>{const t=w9.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const s=E9.exec(t[3]);s&&(t[1]=t[1]||"eval",t[3]=s[1],t[4]=s[2],t[5]="")}let r=t[3],i=t[1]||gc;return[i,r]=hO(i,r),j_(r,i,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},k9=[y9,C9],T9=[x9,k9],I9=n3(...T9),hO=(e,t)=>{const n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:gc,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},Bg=1024,R9="Breadcrumbs",P9=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:R9,setup(n){t.console&&b7(V9(n)),t.dom&&i9(O9(n,t.dom)),t.xhr&&fO(L9(n)),t.fetch&&J3(N9(n)),t.history&&gx(B9(n)),t.sentry&&n.on("beforeSendEvent",j9(n))}}},M9=P9;function j9(e){return function(n){an()===e&&Ac({category:`sentry.${n.type==="transaction"?"transaction":"event"}`,event_id:n.event_id,level:n.level,message:qa(n)},{event:n})}}function O9(e,t){return function(r){if(an()!==e)return;let i,s,o=typeof t=="object"?t.serializeAttribute:void 0,l=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;l&&l>Bg&&(Zi&&Be.warn(`\`dom.maxStringLength\` cannot exceed ${Bg}, but a value of ${l} was configured. Sentry will use ${Bg} instead.`),l=Bg),typeof o=="string"&&(o=[o]);try{const c=r.event,h=D9(c)?c.target:c;i=mc(h,{keyAttrs:o,maxStringLength:l}),s=l3(h)}catch{i="<unknown>"}if(i.length===0)return;const d={category:`ui.${r.name}`,message:i};s&&(d.data={"ui.component_name":s}),Ac(d,{event:r.event,name:r.name,global:r.global})}}function V9(e){return function(n){if(an()!==e)return;const r={category:"console",data:{arguments:n.args,logger:"console"},level:S7(n.level),message:X2(n.args," ")};if(n.level==="assert")if(n.args[0]===!1)r.message=`Assertion failed: ${X2(n.args.slice(1)," ")||"console.assert"}`,r.data.arguments=n.args.slice(1);else return;Ac(r,{input:n.args,level:n.level})}}function L9(e){return function(n){if(an()!==e)return;const{startTimestamp:r,endTimestamp:i}=n,s=n.xhr[Ou];if(!r||!i||!s)return;const{method:o,url:l,status_code:d,body:c}=s,h={method:o,url:l,status_code:d},f={xhr:n.xhr,input:c,startTimestamp:r,endTimestamp:i},m=Y3(d);Ac({category:"xhr",data:h,type:"http",level:m},f)}}function N9(e){return function(n){if(an()!==e)return;const{startTimestamp:r,endTimestamp:i}=n;if(i&&!(n.fetchData.url.match(/sentry_key/)&&n.fetchData.method==="POST"))if(n.error){const s=n.fetchData,o={data:n.error,input:n.args,startTimestamp:r,endTimestamp:i};Ac({category:"fetch",data:s,level:"error",type:"http"},o)}else{const s=n.response,o={...n.fetchData,status_code:s&&s.status},l={input:n.args,response:s,startTimestamp:r,endTimestamp:i},d=Y3(o.status_code);Ac({category:"fetch",data:o,type:"http",level:d},l)}}}function B9(e){return function(n){if(an()!==e)return;let r=n.from,i=n.to;const s=lc(gt.location.href);let o=r?lc(r):void 0;const l=lc(i);(!o||!o.path)&&(o=s),s.protocol===l.protocol&&s.host===l.host&&(i=l.relative),s.protocol===o.protocol&&s.host===o.host&&(r=o.relative),Ac({category:"navigation",data:{from:r,to:i}})}}function D9(e){return!!e&&!!e.target}const F9=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],$9="BrowserApiErrors",z9=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:$9,setupOnce(){t.setTimeout&&Ji(gt,"setTimeout",DT),t.setInterval&&Ji(gt,"setInterval",DT),t.requestAnimationFrame&&Ji(gt,"requestAnimationFrame",H9),t.XMLHttpRequest&&"XMLHttpRequest"in gt&&Ji(XMLHttpRequest.prototype,"send",G9);const n=t.eventTarget;n&&(Array.isArray(n)?n:F9).forEach(q9)}}},U9=z9;function DT(e){return function(...t){const n=t[0];return t[0]=ld(n,{mechanism:{data:{function:ua(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function H9(e){return function(t){return e.apply(this,[ld(t,{mechanism:{data:{function:"requestAnimationFrame",handler:ua(e)},handled:!1,type:"instrument"}})])}}function G9(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(i=>{i in n&&typeof n[i]=="function"&&Ji(n,i,function(s){const o={mechanism:{data:{function:i,handler:ua(s)},handled:!1,type:"instrument"}},l=rx(s);return l&&(o.mechanism.data.handler=ua(l)),ld(s,o)})}),e.apply(this,t)}}function q9(e){const t=gt,n=t[e]&&t[e].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(Ji(n,"addEventListener",function(r){return function(i,s,o){try{typeof s.handleEvent=="function"&&(s.handleEvent=ld(s.handleEvent,{mechanism:{data:{function:"handleEvent",handler:ua(s),target:e},handled:!1,type:"instrument"}}))}catch{}return r.apply(this,[i,ld(s,{mechanism:{data:{function:"addEventListener",handler:ua(s),target:e},handled:!1,type:"instrument"}}),o])}}),Ji(n,"removeEventListener",function(r){return function(i,s,o){const l=s;try{const d=l&&l.__sentry_wrapped__;d&&r.call(this,i,d,o)}catch{}return r.call(this,i,l,o)}}))}const W9="GlobalHandlers",K9=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:W9,setupOnce(){Error.stackTraceLimit=50},setup(n){t.onerror&&(Q9(n),FT("onerror")),t.onunhandledrejection&&(J9(n),FT("onunhandledrejection"))}}},Y9=K9;function Q9(e){r3(t=>{const{stackParser:n,attachStacktrace:r}=pO();if(an()!==e||Z3())return;const{msg:i,url:s,line:o,column:l,error:d}=t,c=eH(dx(n,d||i,void 0,r,!1),s,o,l);c.level="error",N3(c,{originalException:d,mechanism:{handled:!1,type:"onerror"}})})}function J9(e){i3(t=>{const{stackParser:n,attachStacktrace:r}=pO();if(an()!==e||Z3())return;const i=X9(t),s=nx(i)?Z9(i):dx(n,i,void 0,r,!0);s.level="error",N3(s,{originalException:i,mechanism:{handled:!1,type:"onunhandledrejection"}})})}function X9(e){if(nx(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch{}return e}function Z9(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function eH(e,t,n,r){const i=e.exception=e.exception||{},s=i.values=i.values||[],o=s[0]=s[0]||{},l=o.stacktrace=o.stacktrace||{},d=l.frames=l.frames||[],c=isNaN(parseInt(r,10))?void 0:r,h=isNaN(parseInt(n,10))?void 0:n,f=aa(t)&&t.length>0?t:$$();return d.length===0&&d.push({colno:c,filename:f,function:gc,in_app:!0,lineno:h}),e}function FT(e){Zi&&Be.log(`Global Handler attached: ${e}`)}function pO(){const e=an();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const tH=()=>({name:"HttpContext",preprocessEvent(e){if(!gt.navigator&&!gt.location&&!gt.document)return;const t=e.request&&e.request.url||gt.location&&gt.location.href,{referrer:n}=gt.document||{},{userAgent:r}=gt.navigator||{},i={...e.request&&e.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},s={...e.request,...t&&{url:t},headers:i};e.request=s}}),nH="cause",rH=5,iH="LinkedErrors",sH=(e={})=>{const t=e.limit||rH,n=e.key||nH;return{name:iH,preprocessEvent(r,i,s){const o=s.getOptions();p7(cx,o.stackParser,o.maxValueLength,n,t,r,i)}}},oH=sH;function aH(e){return[r7(),Zz(),U9(),M9(),Y9(),oH(),E7(),tH()]}function lH(e={}){const t={defaultIntegrations:aH(),release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:gt.SENTRY_RELEASE&&gt.SENTRY_RELEASE.id?gt.SENTRY_RELEASE.id:void 0,autoSessionTracking:!0,sendClientReports:!0};return e.defaultIntegrations==null&&delete e.defaultIntegrations,{...t,...e}}function cH(){const e=typeof gt.window<"u"&&gt;if(!e)return!1;const t=e.chrome?"chrome":"browser",n=e[t],r=n&&n.runtime&&n.runtime.id,i=gt.location&&gt.location.href||"",s=["chrome-extension:","moz-extension:","ms-browser-extension:","safari-web-extension:"],o=!!r&&gt===gt.top&&s.some(d=>i.startsWith(`${d}//`)),l=typeof e.nw<"u";return!!r&&!o&&!l}function uH(e={}){const t=lH(e);if(!t.skipBrowserExtensionCheck&&cH()){Pc(()=>{console.error("[Sentry] You cannot run Sentry this way in a browser extension, check: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")});return}Zi&&(Q3()||Be.warn("No Fetch API detected. The Sentry SDK requires a Fetch API compatible environment to send events. Please add a Fetch API polyfill."));const n={...t,stackParser:P$(t.stackParser||I9),integrations:jz(t),transport:t.transport||m9},r=Dz(iU,n);return t.autoSessionTracking&&dH(),r}function $T(e={}){if(!gt.document){Zi&&Be.error("Global document not defined in showReportDialog call");return}const t=Pn(),n=t.getClient(),r=n&&n.getDsn();if(!r){Zi&&Be.error("DSN not configured for showReportDialog call");return}if(t&&(e.user={...t.getUser(),...e.user}),!e.eventId){const l=Ez();l&&(e.eventId=l)}const i=gt.document.createElement("script");i.async=!0,i.crossOrigin="anonymous",i.src=Pz(r,e),e.onLoad&&(i.onload=e.onLoad);const{onClose:s}=e;if(s){const l=d=>{if(d.data==="__sentry_reportdialog_closed__")try{s()}finally{gt.removeEventListener("message",l)}};gt.addEventListener("message",l)}const o=gt.document.head||gt.document.body;o?o.appendChild(i):Zi&&Be.error("Not injecting report dialog. No injection point found in HTML")}function dH(){if(typeof gt.document>"u"){Zi&&Be.warn("Session tracking in non-browser environment with @sentry/browser is not supported.");return}vT({ignoreDuration:!0}),yT(),gx(({from:e,to:t})=>{e!==void 0&&e!==t&&(vT({ignoreDuration:!0}),yT())})}const zT=new WeakMap,s1=new Map,Pm={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,trackFetchStreamPerformance:!1};function fH(e,t){const{traceFetch:n,traceXHR:r,trackFetchStreamPerformance:i,shouldCreateSpanForRequest:s,enableHTTPTimings:o,tracePropagationTargets:l}={traceFetch:Pm.traceFetch,traceXHR:Pm.traceXHR,trackFetchStreamPerformance:Pm.trackFetchStreamPerformance,...t},d=typeof s=="function"?s:f=>!0,c=f=>mH(f,l),h={};n&&(e.addEventProcessor(f=>(f.type==="transaction"&&f.spans&&f.spans.forEach(m=>{if(m.op==="http.client"){const v=s1.get(m.span_id);v&&(m.timestamp=v/1e3,s1.delete(m.span_id))}}),f)),i&&B7(f=>{if(f.response){const m=zT.get(f.response);m&&f.endTimestamp&&s1.set(m,f.endTimestamp)}}),J3(f=>{const m=P7(f,d,c,h);if(f.response&&f.fetchData.__span&&zT.set(f.response,f.fetchData.__span),m){const v=gO(f.fetchData.url),A=v?lc(v).host:void 0;m.setAttributes({"http.url":v,"server.address":A})}o&&m&&UT(m)})),r&&fO(f=>{const m=vH(f,d,c,h);o&&m&&UT(m)})}function hH(e){return e.entryType==="resource"&&"initiatorType"in e&&typeof e.nextHopProtocol=="string"&&(e.initiatorType==="fetch"||e.initiatorType==="xmlhttprequest")}function UT(e){const{url:t}=sn(e).data||{};if(!t||typeof t!="string")return;const n=Eh("resource",({entries:r})=>{r.forEach(i=>{hH(i)&&i.name.endsWith(t)&&(gH(i).forEach(o=>e.setAttribute(...o)),setTimeout(n))})})}function pH(e){let t="unknown",n="unknown",r="";for(const i of e){if(i==="/"){[t,n]=e.split("/");break}if(!isNaN(Number(i))){t=r==="h"?"http":r,n=e.split(r)[1];break}r+=i}return r===e&&(t=r),{name:t,version:n}}function vo(e=0){return((Di||performance.timeOrigin)+e)/1e3}function gH(e){const{name:t,version:n}=pH(e.nextHopProtocol),r=[];return r.push(["network.protocol.version",n],["network.protocol.name",t]),Di?[...r,["http.request.redirect_start",vo(e.redirectStart)],["http.request.fetch_start",vo(e.fetchStart)],["http.request.domain_lookup_start",vo(e.domainLookupStart)],["http.request.domain_lookup_end",vo(e.domainLookupEnd)],["http.request.connect_start",vo(e.connectStart)],["http.request.secure_connection_start",vo(e.secureConnectionStart)],["http.request.connection_end",vo(e.connectEnd)],["http.request.request_start",vo(e.requestStart)],["http.request.response_start",vo(e.responseStart)],["http.request.response_end",vo(e.responseEnd)]]:r}function mH(e,t){const n=gt.location&&gt.location.href;if(n){let r,i;try{r=new URL(e,n),i=new URL(n).origin}catch{return!1}const s=r.origin===i;return t?sc(r.toString(),t)||s&&sc(r.pathname,t):s}else{const r=!!e.match(/^\/(?!\/)/);return t?sc(e,t):r}}function vH(e,t,n,r){const i=e.xhr,s=i&&i[Ou];if(!i||i.__sentry_own_request__||!s)return;const o=sl()&&t(s.url);if(e.endTimestamp&&o){const f=i.__sentry_xhr_span_id__;if(!f)return;const m=r[f];m&&s.status_code!==void 0&&(g3(m,s.status_code),m.end(),delete r[f]);return}const l=gO(s.url),d=l?lc(l).host:void 0,c=!!oi(),h=o&&c?nl({name:`${s.method} ${s.url}`,attributes:{type:"xhr","http.method":s.method,"http.url":l,url:s.url,"server.address":d,[ur]:"auto.http.browser",[yc]:"http.client"}}):new Sd;return i.__sentry_xhr_span_id__=h.spanContext().spanId,r[i.__sentry_xhr_span_id__]=h,n(s.url)&&yH(i,sl()&&c?h:void 0),h}function yH(e,t){const{"sentry-trace":n,baggage:r}=G3({span:t});n&&AH(e,n,r)}function AH(e,t,n){try{e.setRequestHeader("sentry-trace",t),n&&e.setRequestHeader("baggage",n)}catch{}}function gO(e){try{return new URL(e,gt.location.origin).href}catch{return}}function bH(){gt&&gt.document?gt.document.addEventListener("visibilitychange",()=>{const e=oi();if(!e)return;const t=ii(e);if(gt.document.hidden&&t){const n="cancelled",{op:r,status:i}=sn(t);Zi&&Be.log(`[Tracing] Transaction: ${n} -> since tab moved to the background, op: ${r}`),i||t.setStatus({code:Or,message:n}),t.setAttribute("sentry.cancellation_reason","document.hidden"),t.end()}}):Zi&&Be.warn("[Tracing] Could not set up background tab detection due to lack of global document")}const _H="BrowserTracing",SH={...Tm,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!0,enableInp:!0,_experiments:{},...Pm},xH=(e={})=>{S8();const{enableInp:t,enableLongTask:n,enableLongAnimationFrame:r,_experiments:{enableInteractions:i,enableStandaloneClsSpans:s},beforeStartSpan:o,idleTimeout:l,finalTimeout:d,childSpanTimeout:c,markBackgroundSpan:h,traceFetch:f,traceXHR:m,trackFetchStreamPerformance:v,shouldCreateSpanForRequest:A,enableHTTPTimings:b,instrumentPageLoad:x,instrumentNavigation:E}={...SH,...e},I=$U({recordClsStandaloneSpans:s||!1});t&&h9(),r&&$t.PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?UU():n&&zU(),i&&HU();const P={name:void 0,source:void 0};function T(w,R){const j=R.op==="pageload",V=o?o(R):R,N=V.attributes||{};R.name!==V.name&&(N[ia]="custom",V.attributes=N),P.name=V.name,P.source=N[ia];const k=L3(V,{idleTimeout:l,finalTimeout:d,childSpanTimeout:c,disableAutoFinish:j,beforeSpanEnd:H=>{I(),YU(H,{recordClsOnPageloadSpan:!s})}});function B(){["interactive","complete"].includes(gt.document.readyState)&&w.emit("idleSpanEnableAutoFinish",k)}return j&&gt.document&&(gt.document.addEventListener("readystatechange",()=>{B()}),B()),k}return{name:_H,afterAllSetup(w){let R,j=gt.location&&gt.location.href;function V(){R&&!sn(R).timestamp&&(Zi&&Be.log(`[Tracing] Finishing current active span with op: ${sn(R).op}`),R.end())}w.on("startNavigationSpan",N=>{an()===w&&(V(),R=T(w,{op:"navigation",...N}))}),w.on("startPageLoadSpan",(N,k={})=>{if(an()!==w)return;V();const B=k.sentryTrace||HT("sentry-trace"),H=k.baggage||HT("baggage"),F=g8(B,H);Pn().setPropagationContext(F),R=T(w,{op:"pageload",...N})}),w.on("spanEnd",N=>{const k=sn(N).op;if(N!==ii(N)||k!=="navigation"&&k!=="pageload")return;const B=Pn(),H=B.getPropagationContext();B.setPropagationContext({...H,sampled:H.sampled!==void 0?H.sampled:jc(N),dsc:H.dsc||xd(N)})}),gt.location&&(x&&wH(w,{name:gt.location.pathname,startTime:Di?Di/1e3:void 0,attributes:{[ia]:"url",[ur]:"auto.pageload.browser"}}),E&&gx(({to:N,from:k})=>{if(k===void 0&&j&&j.indexOf(N)!==-1){j=void 0;return}k!==N&&(j=void 0,EH(w,{name:gt.location.pathname,attributes:{[ia]:"url",[ur]:"auto.navigation.browser"}}))})),h&&bH(),i&&CH(l,d,c,P),t&&g9(),fH(w,{traceFetch:f,traceXHR:m,trackFetchStreamPerformance:v,tracePropagationTargets:w.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:A,enableHTTPTimings:b})}}};function wH(e,t,n){e.emit("startPageLoadSpan",t,n),Pn().setTransactionName(t.name);const r=oi();return(r&&sn(r).op)==="pageload"?r:void 0}function EH(e,t){jo().setPropagationContext(Sh()),Pn().setPropagationContext(Sh()),e.emit("startNavigationSpan",t),Pn().setTransactionName(t.name);const n=oi();return(n&&sn(n).op)==="navigation"?n:void 0}function HT(e){const t=z$(`meta[name=${e}]`);return t?t.getAttribute("content"):void 0}function CH(e,t,n,r){let i;const s=()=>{const o="ui.action.click",l=oi(),d=l&&ii(l);if(d){const c=sn(d).op;if(["navigation","pageload"].includes(c)){Zi&&Be.warn(`[Tracing] Did not create ${o} span because a pageload or navigation span is in progress.`);return}}if(i&&(i.setAttribute(m_,"interactionInterrupted"),i.end(),i=void 0),!r.name){Zi&&Be.warn(`[Tracing] Did not create ${o} transaction because _latestRouteName is missing.`);return}i=L3({name:r.name,op:o,attributes:{[ia]:r.source||"url"}},{idleTimeout:e,finalTimeout:t,childSpanTimeout:n})};gt.document&&addEventListener("click",s,{once:!1,capture:!0})}function kH(e){const t={...e};return H3(t,"react"),xz("react",{version:S.version}),uH(t)}function TH(e){const t=e.match(/^([^.]+)/);return t!==null&&parseInt(t[0])>=17}function IH(e,t){const n=new WeakSet;function r(i,s){if(!n.has(i)){if(i.cause)return n.add(i),r(i.cause,s);i.cause=s}}r(e,t)}function RH(e,{componentStack:t},n){if(TH(S.version)&&uv(e)&&t){const r=new Error(e.message);r.name=`React ErrorBoundary ${e.name}`,r.stack=t,IH(e,r)}return Ps(e,{...n,captureContext:{contexts:{react:{componentStack:t}}}})}var o1={exports:{}},on={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GT;function PH(){if(GT)return on;GT=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,n=e?Symbol.for("react.portal"):60106,r=e?Symbol.for("react.fragment"):60107,i=e?Symbol.for("react.strict_mode"):60108,s=e?Symbol.for("react.profiler"):60114,o=e?Symbol.for("react.provider"):60109,l=e?Symbol.for("react.context"):60110,d=e?Symbol.for("react.async_mode"):60111,c=e?Symbol.for("react.concurrent_mode"):60111,h=e?Symbol.for("react.forward_ref"):60112,f=e?Symbol.for("react.suspense"):60113,m=e?Symbol.for("react.suspense_list"):60120,v=e?Symbol.for("react.memo"):60115,A=e?Symbol.for("react.lazy"):60116,b=e?Symbol.for("react.block"):60121,x=e?Symbol.for("react.fundamental"):60117,E=e?Symbol.for("react.responder"):60118,I=e?Symbol.for("react.scope"):60119;function P(w){if(typeof w=="object"&&w!==null){var R=w.$$typeof;switch(R){case t:switch(w=w.type,w){case d:case c:case r:case s:case i:case f:return w;default:switch(w=w&&w.$$typeof,w){case l:case h:case A:case v:case o:return w;default:return R}}case n:return R}}}function T(w){return P(w)===c}return on.AsyncMode=d,on.ConcurrentMode=c,on.ContextConsumer=l,on.ContextProvider=o,on.Element=t,on.ForwardRef=h,on.Fragment=r,on.Lazy=A,on.Memo=v,on.Portal=n,on.Profiler=s,on.StrictMode=i,on.Suspense=f,on.isAsyncMode=function(w){return T(w)||P(w)===d},on.isConcurrentMode=T,on.isContextConsumer=function(w){return P(w)===l},on.isContextProvider=function(w){return P(w)===o},on.isElement=function(w){return typeof w=="object"&&w!==null&&w.$$typeof===t},on.isForwardRef=function(w){return P(w)===h},on.isFragment=function(w){return P(w)===r},on.isLazy=function(w){return P(w)===A},on.isMemo=function(w){return P(w)===v},on.isPortal=function(w){return P(w)===n},on.isProfiler=function(w){return P(w)===s},on.isStrictMode=function(w){return P(w)===i},on.isSuspense=function(w){return P(w)===f},on.isValidElementType=function(w){return typeof w=="string"||typeof w=="function"||w===r||w===c||w===s||w===i||w===f||w===m||typeof w=="object"&&w!==null&&(w.$$typeof===A||w.$$typeof===v||w.$$typeof===o||w.$$typeof===l||w.$$typeof===h||w.$$typeof===x||w.$$typeof===E||w.$$typeof===I||w.$$typeof===b)},on.typeOf=P,on}var qT;function MH(){return qT||(qT=1,o1.exports=PH()),o1.exports}var a1,WT;function jH(){if(WT)return a1;WT=1;var e=MH(),t={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};s[e.ForwardRef]=r,s[e.Memo]=i;function o(A){return e.isMemo(A)?i:s[A.$$typeof]||t}var l=Object.defineProperty,d=Object.getOwnPropertyNames,c=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,m=Object.prototype;function v(A,b,x){if(typeof b!="string"){if(m){var E=f(b);E&&E!==m&&v(A,E,x)}var I=d(b);c&&(I=I.concat(c(b)));for(var P=o(A),T=o(b),w=0;w<I.length;++w){var R=I[w];if(!n[R]&&!(x&&x[R])&&!(T&&T[R])&&!(P&&P[R])){var j=h(b,R);try{l(A,R,j)}catch{}}}}return A}return a1=v,a1}var OH=jH();const VH=Lr(OH),LH="ui.react.render",NH="ui.react.update",BH="ui.react.mount",DH="unknown";class mO extends S.Component{static __initStatic(){this.defaultProps={disabled:!1,includeRender:!0,includeUpdates:!0}}constructor(t){super(t);const{name:n,disabled:r=!1}=this.props;r||(this._mountSpan=nl({name:`<${n}>`,onlyIfParent:!0,op:BH,attributes:{[ur]:"auto.ui.react.profiler","ui.component_name":n}}))}componentDidMount(){this._mountSpan&&this._mountSpan.end()}shouldComponentUpdate({updateProps:t,includeUpdates:n=!0}){if(n&&this._mountSpan&&t!==this.props.updateProps){const r=Object.keys(t).filter(i=>t[i]!==this.props.updateProps[i]);if(r.length>0){const i=Yr();this._updateSpan=v0(this._mountSpan,()=>nl({name:`<${this.props.name}>`,onlyIfParent:!0,op:NH,startTime:i,attributes:{[ur]:"auto.ui.react.profiler","ui.component_name":this.props.name,"ui.react.changed_props":r}}))}}return!0}componentDidUpdate(){this._updateSpan&&(this._updateSpan.end(),this._updateSpan=void 0)}componentWillUnmount(){const t=Yr(),{name:n,includeRender:r=!0}=this.props;if(this._mountSpan&&r){const i=sn(this._mountSpan).timestamp;v0(this._mountSpan,()=>{const s=nl({onlyIfParent:!0,name:`<${n}>`,op:LH,startTime:i,attributes:{[ur]:"auto.ui.react.profiler","ui.component_name":n}});s&&s.end(t)})}}render(){return this.props.children}}mO.__initStatic();function FH(e,t){const n=e.displayName||e.name||DH,r=i=>S.createElement(mO,{...t,name:n,updateProps:i},S.createElement(e,{...i}));return r.displayName=`profiler(${n})`,VH(r,e),r}const $H=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,KT={componentStack:null,error:null,eventId:null};class mx extends S.Component{constructor(t){super(t),mx.prototype.__init.call(this),this.state=KT,this._openFallbackReportDialog=!0;const n=an();n&&t.showDialog&&(this._openFallbackReportDialog=!1,this._cleanupHook=n.on("afterSendEvent",r=>{!r.type&&this._lastEventId&&r.event_id===this._lastEventId&&$T({...t.dialogOptions,eventId:this._lastEventId})}))}componentDidCatch(t,n){const{componentStack:r}=n,i=r??void 0,{beforeCapture:s,onError:o,showDialog:l,dialogOptions:d}=this.props;pv(c=>{s&&s(c,t,i);const h=RH(t,n,{mechanism:{handled:!!this.props.fallback}});o&&o(t,i,h),l&&(this._lastEventId=h,this._openFallbackReportDialog&&$T({...d,eventId:h})),this.setState({error:t,componentStack:r,eventId:h})})}componentDidMount(){const{onMount:t}=this.props;t&&t()}componentWillUnmount(){const{error:t,componentStack:n,eventId:r}=this.state,{onUnmount:i}=this.props;i&&i(t,n,r),this._cleanupHook&&(this._cleanupHook(),this._cleanupHook=void 0)}__init(){this.resetErrorBoundary=()=>{const{onReset:t}=this.props,{error:n,componentStack:r,eventId:i}=this.state;t&&t(n,r,i),this.setState(KT)}}render(){const{fallback:t,children:n}=this.props,r=this.state;if(r.error){let i;return typeof t=="function"?i=S.createElement(t,{error:r.error,componentStack:r.componentStack,resetError:this.resetErrorBoundary,eventId:r.eventId}):i=t,S.isValidElement(i)?i:(t&&$H&&Be.warn("fallback did not produce a valid ReactElement"),null)}return typeof n=="function"?n():n}}const zH="modulepreload",UH=function(e){return"/"+e},YT={},Id=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(d=>{if(d=UH(d),d in YT)return;YT[d]=!0;const c=d.endsWith(".css"),h=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${h}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":zH,c||(f.as="script"),f.crossOrigin="",f.href=d,l&&f.setAttribute("nonce",l),document.head.appendChild(f),c)return new Promise((m,v)=>{f.addEventListener("load",m),f.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${d}`)))})}))}function s(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&s(l.reason);return t().catch(s)})};class vO{constructor(){this.init=async(t,n)=>{const r=await Id(()=>import("./aubio-DQ9FhJvE.js"),[]),{Pitch:i}=await r.default();this.detector=new i("default",n,n/8,t.sampleRate),this.detector.setTolerance(.5)},this.getFrequency=async t=>this.detector.do(t)}getSampleSize(){return 2048}}class HH extends oo{constructor(){super(...arguments),this.status="uninitialised",this.getUserMedia=async(...t)=>this.requestAndTrack(()=>navigator.mediaDevices.getUserMedia(...t)),this.enumerateDevices=async(...t)=>this.requestAndTrack(()=>navigator.mediaDevices.enumerateDevices(...t)),this.requestAndTrack=async t=>{try{this.status!=="accepted"&&this.setStatus("requested");const n=await t();return this.setStatus("accepted"),n}catch(n){throw this.setStatus("declined"),n}},this.setStatus=t=>{this.status=t,this.onUpdate(t)},this.getStatus=()=>this.status}}const rl=new HH;let O_=class{constructor(t=2){this.channels=t,this.stream=null,this.context=null,this.interval=null,this.frequencies=[0,0],this.volumes=[0,0],this.startedMonitoring=!1,this.startMonitoring=async n=>{if(!this.startedMonitoring){this.startedMonitoring=!0;try{this.stream=await rl.getUserMedia({audio:{...n?{deviceId:n,exact:!0}:{},echoCancellation:!1},video:!1});try{this.context=new AudioContext;const r=this.context.createMediaStreamSource(this.stream),i=Array.from({length:this.channels},()=>{const o=this.context.createAnalyser();return o.fftSize=2048,o.minDecibels=-100,o});if(this.channels>1){const o=this.context.createChannelSplitter(2);r.connect(o),i.forEach((l,d)=>{o.connect(l,d)})}else r.connect(i[0]);console.log(this.channels);const s=new vO;await s.init(this.context,i[0].fftSize),this.interval=setInterval(async()=>{const o=i.map(l=>new Float32Array(l.fftSize));i.forEach((l,d)=>{l.getFloatTimeDomainData(o[d])}),this.frequencies=await Promise.all(o.map(l=>s.getFrequency(l))),this.volumes=o.map(l=>this.calculateVolume(l))},this.context.sampleRate/i[0].fftSize),ge.micMonitoringStarted.dispatch()}catch(r){Ps(r),console.error(r)}}catch(r){Ps(r,{level:"warning",extra:{message:"MicInput.startMonitoring"}}),console.warn(r)}}},this.getFrequencies=()=>this.frequencies,this.getVolumes=()=>this.volumes,this.clearFrequencies=n=>{},this.stopMonitoring=async()=>{var n,r;if(this.startedMonitoring){this.startedMonitoring=!1,this.interval&&clearInterval(this.interval),(n=this.stream)==null||n.getTracks().forEach(function(i){i.stop()});try{await((r=this.context)==null?void 0:r.close())}catch(i){console.log("MicInput.stoMonitoring error",i)}ge.micMonitoringStopped.dispatch()}},this.getInputLag=()=>180,this.requestReadiness=()=>Promise.resolve(!0),this.getStatus=()=>"ok"}calculateVolume(t){let n,r=0;for(n=0;n<t.length;++n)r+=t[n]*t[n];return Math.sqrt(r/t.length)}};new O_;const GH=(e=[],t)=>{const n=e.filter(r=>r.deviceId===t).map(r=>r.channel);return n.some(r=>n[0]!==r)};class qH{constructor(){this.devices={},this.startMonitoring=async(t,n)=>{console.log(this.devices),t&&(this.devices[t]||(this.devices[t]=GH(n,t)?new O_(2):new O_(1)),await this.devices[t].startMonitoring(t))},this.getFrequencies=t=>t&&this.devices[t]?this.devices[t].getFrequencies():[0,0],this.getVolumes=t=>t&&this.devices[t]?this.devices[t].getVolumes():[0,0],this.clearFrequencies=t=>{if(t&&this.devices[t])return this.devices[t].clearFrequencies(t)},this.stopMonitoring=async()=>{await Promise.all(Object.values(this.devices).map(t=>t.stopMonitoring())),this.devices={}},this.getInputLag=t=>t&&this.devices[t]?this.devices[t].getInputLag():180,this.requestReadiness=async t=>t&&this.devices[t]?this.devices[t].requestReadiness():!0,this.getStatus=t=>t&&this.devices[t]?this.devices[t].getStatus():"ok"}}const WH=new qH;class KH{constructor(){this.frequencies=[0],this.volumes=[1],this.startMonitoring=async t=>{var n;return(n=Mt.getRemoteMicById(t??""))==null?void 0:n.getInput().startMonitoring()},this.getFrequencies=t=>{var r;return((r=Mt.getRemoteMicById(t??""))==null?void 0:r.getInput().getFrequencies())??this.frequencies},this.clearFrequencies=t=>{var n;(n=Mt.getRemoteMicById(t??""))==null||n.getInput().clearFrequencies()},this.getVolumes=t=>{var r;return((r=Mt.getRemoteMicById(t??""))==null?void 0:r.getInput().getVolumes())??this.volumes},this.stopMonitoring=async t=>{var n;return(n=Mt.getRemoteMicById(t??""))==null?void 0:n.getInput().stopMonitoring()},this.requestReadiness=t=>{var n;return((n=Mt.getRemoteMicById(t??""))==null?void 0:n.getInput().requestReadiness())??Promise.resolve(!0)},this.getInputLag=t=>{var n;return((n=Mt.getRemoteMicById(t??""))==null?void 0:n.getInput().getInputLag())??0},this.getStatus=t=>{const n=Mt.getRemoteMicById(t??"");return!n||n.getLatency()>1500?"unavailable":n.getLatency()>500?"unstable":"ok"}}}const YH=new KH;function ro(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var yO=typeof global=="object"&&global&&global.Object===Object&&global,QH=typeof self=="object"&&self&&self.Object===Object&&self,ao=yO||QH||Function("return this")(),l1=function(){return ao.Date.now()},JH=/\s/;function XH(e){for(var t=e.length;t--&&JH.test(e.charAt(t)););return t}var ZH=/^\s+/;function eG(e){return e&&e.slice(0,XH(e)+1).replace(ZH,"")}var Ms=ao.Symbol,AO=Object.prototype,tG=AO.hasOwnProperty,nG=AO.toString,Cf=Ms?Ms.toStringTag:void 0;function rG(e){var t=tG.call(e,Cf),n=e[Cf];try{e[Cf]=void 0;var r=!0}catch{}var i=nG.call(e);return r&&(t?e[Cf]=n:delete e[Cf]),i}var iG=Object.prototype,sG=iG.toString;function oG(e){return sG.call(e)}var aG="[object Null]",lG="[object Undefined]",QT=Ms?Ms.toStringTag:void 0;function Vc(e){return e==null?e===void 0?lG:aG:QT&&QT in Object(e)?rG(e):oG(e)}function ha(e){return e!=null&&typeof e=="object"}var cG="[object Symbol]";function yv(e){return typeof e=="symbol"||ha(e)&&Vc(e)==cG}var JT=NaN,uG=/^[-+]0x[0-9a-f]+$/i,dG=/^0b[01]+$/i,fG=/^0o[0-7]+$/i,hG=parseInt;function V_(e){if(typeof e=="number")return e;if(yv(e))return JT;if(ro(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=ro(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=eG(e);var n=dG.test(e);return n||fG.test(e)?hG(e.slice(2),n?2:8):uG.test(e)?JT:+e}var pG="Expected a function",gG=Math.max,mG=Math.min;function bO(e,t,n){var r,i,s,o,l,d,c=0,h=!1,f=!1,m=!0;if(typeof e!="function")throw new TypeError(pG);t=V_(t)||0,ro(n)&&(h=!!n.leading,f="maxWait"in n,s=f?gG(V_(n.maxWait)||0,t):s,m="trailing"in n?!!n.trailing:m);function v(R){var j=r,V=i;return r=i=void 0,c=R,o=e.apply(V,j),o}function A(R){return c=R,l=setTimeout(E,t),h?v(R):o}function b(R){var j=R-d,V=R-c,N=t-j;return f?mG(N,s-V):N}function x(R){var j=R-d,V=R-c;return d===void 0||j>=t||j<0||f&&V>=s}function E(){var R=l1();if(x(R))return I(R);l=setTimeout(E,b(R))}function I(R){return l=void 0,m&&r?v(R):(r=i=void 0,o)}function P(){l!==void 0&&clearTimeout(l),c=0,r=d=i=l=void 0}function T(){return l===void 0?o:I(l1())}function w(){var R=l1(),j=x(R);if(r=arguments,i=this,d=R,j){if(l===void 0)return A(d);if(f)return clearTimeout(l),l=setTimeout(E,t),v(d)}return l===void 0&&(l=setTimeout(E,t)),o}return w.cancel=P,w.flush=T,w}const yi={DUEL:"DUEL",PASS_THE_MIC:"PASS_THE_MIC",CO_OP:"CO_OP"},oh=["freestyle","rap"],_O=[],SO=440,xO=69,vx=20;var vG="[object AsyncFunction]",yG="[object Function]",AG="[object GeneratorFunction]",bG="[object Proxy]";function wO(e){if(!ro(e))return!1;var t=Vc(e);return t==yG||t==AG||t==vG||t==bG}var c1=ao["__core-js_shared__"],XT=function(){var e=/[^.]+$/.exec(c1&&c1.keys&&c1.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function _G(e){return!!XT&&XT in e}var SG=Function.prototype,xG=SG.toString;function Lc(e){if(e!=null){try{return xG.call(e)}catch{}try{return e+""}catch{}}return""}var wG=/[\\^$.*+?()[\]{}|]/g,EG=/^\[object .+?Constructor\]$/,CG=Function.prototype,kG=Object.prototype,TG=CG.toString,IG=kG.hasOwnProperty,RG=RegExp("^"+TG.call(IG).replace(wG,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function PG(e){if(!ro(e)||_G(e))return!1;var t=wO(e)?RG:EG;return t.test(Lc(e))}function MG(e,t){return e==null?void 0:e[t]}function Nc(e,t){var n=MG(e,t);return PG(n)?n:void 0}var Ch=Nc(Object,"create");function jG(){this.__data__=Ch?Ch(null):{},this.size=0}function OG(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var VG="__lodash_hash_undefined__",LG=Object.prototype,NG=LG.hasOwnProperty;function BG(e){var t=this.__data__;if(Ch){var n=t[e];return n===VG?void 0:n}return NG.call(t,e)?t[e]:void 0}var DG=Object.prototype,FG=DG.hasOwnProperty;function $G(e){var t=this.__data__;return Ch?t[e]!==void 0:FG.call(t,e)}var zG="__lodash_hash_undefined__";function UG(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Ch&&t===void 0?zG:t,this}function bc(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}bc.prototype.clear=jG;bc.prototype.delete=OG;bc.prototype.get=BG;bc.prototype.has=$G;bc.prototype.set=UG;function HG(){this.__data__=[],this.size=0}function Av(e,t){return e===t||e!==e&&t!==t}function bv(e,t){for(var n=e.length;n--;)if(Av(e[n][0],t))return n;return-1}var GG=Array.prototype,qG=GG.splice;function WG(e){var t=this.__data__,n=bv(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():qG.call(t,n,1),--this.size,!0}function KG(e){var t=this.__data__,n=bv(t,e);return n<0?void 0:t[n][1]}function YG(e){return bv(this.__data__,e)>-1}function QG(e,t){var n=this.__data__,r=bv(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function ma(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ma.prototype.clear=HG;ma.prototype.delete=WG;ma.prototype.get=KG;ma.prototype.has=YG;ma.prototype.set=QG;var kh=Nc(ao,"Map");function JG(){this.size=0,this.__data__={hash:new bc,map:new(kh||ma),string:new bc}}function XG(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function _v(e,t){var n=e.__data__;return XG(t)?n[typeof t=="string"?"string":"hash"]:n.map}function ZG(e){var t=_v(this,e).delete(e);return this.size-=t?1:0,t}function eq(e){return _v(this,e).get(e)}function tq(e){return _v(this,e).has(e)}function nq(e,t){var n=_v(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function va(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}va.prototype.clear=JG;va.prototype.delete=ZG;va.prototype.get=eq;va.prototype.has=tq;va.prototype.set=nq;var rq="Expected a function";function Sv(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(rq);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=e.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(Sv.Cache||va),n}Sv.Cache=va;function _0(e){return oh.includes(e.note.type)?0:e.distance}function ln(e){return(e==null?void 0:e.type)==="notes"&&!!e.notes.length}const iq=35e5,$l={freestyle:.25,rap:.25,rapstar:.5,star:2,normal:1,perfect:.5,vibrato:.25},ZT=e=>({freestyle:e.freestyle*$l.freestyle,rap:e.rap*$l.rap,rapstar:e.rapstar*$l.rapstar,star:e.star*$l.star,normal:e.normal*$l.normal,perfect:e.perfect*$l.perfect,vibrato:e.vibrato*$l.vibrato}),yx=e=>e.freestyle+e.rap+e.star+e.normal+e.perfect+e.vibrato,Dg=(e,t)=>({freestyle:e.freestyle*t,rap:e.rap*t,rapstar:e.rapstar*t,star:e.star*t,normal:e.normal*t,perfect:e.perfect*t,vibrato:e.vibrato*t}),eI=(e,t)=>({freestyle:e.freestyle+t.freestyle,rap:e.rap+t.rap,rapstar:e.rapstar+t.rapstar,star:e.star+t.star,normal:e.normal+t.normal,perfect:e.perfect+t.perfect,vibrato:e.vibrato+t.vibrato}),tI=(e,t)=>({freestyle:e.freestyle/t,rap:e.rap/t,rapstar:e.rapstar/t,star:e.star/t,normal:e.normal/t,perfect:e.perfect/t,vibrato:e.vibrato/t}),nI=Sv(e=>e.tracks.map(({sections:t})=>{const n={freestyle:0,rap:0,rapstar:0,star:0,normal:0,perfect:0,vibrato:0};return t.filter(ln).forEach(r=>{r.notes.filter(s=>!_O.includes(s.type)).forEach(s=>{n[s.type]=n[s.type]+s.length,n.perfect=n.perfect+s.length,n.vibrato=n.vibrato+s.length})}),n}));function EO(e,t,n){const r=nI(t),i={freestyle:0,rap:0,rapstar:0,star:0,normal:0,perfect:0,vibrato:0};if(!r[n])return console.error(`No beat count for track ${n} in song`,t),[0,i,i];const s=ZT(nI(t)[n]),o=iq/yx(s);for(let l=0;l<e.length;l++){const d=e[l];_O.includes(d.note.type)||_0(d)===0&&(i[d.note.type]=i[d.note.type]+d.length,d.isPerfect&&(i.perfect=i.perfect+d.length),d.vibrato&&(i.vibrato=i.vibrato+d.length))}return[o,ZT(i),s]}function sq(e,t,n){const[r,i]=EO(e,t,n);return yx(i)*r}function oq(e,t,n,r=!0){const i=(e-n)/t;return r?Math.floor(i):i}function aq(e){return SO*Math.pow(2,(e-xO)/12)}const lq=e=>Math.round(12*(Math.log(e/SO)/Math.log(2)))+xO,cq=(e,t)=>Math.floor(1200*Math.log(t/e)/Math.log(2)),uq=(e,t,n)=>{const r=aq(e),i=cq(r,t);return Math.sign(i)*((Math.abs(i)%1200+600)%1200-600)/(n*100+50)},dq=(e,t,n)=>{const r=(e%12-t%12+18)%12-6;return Math.abs(r)<=n?0:r},fq=(e,t)=>{const n=ct.getTolerance(),r=lq(e);let i=-1;const s=dq(r,t,n);return s===0&&(i=uq(t,e,n)),{distance:s,preciseDistance:i}},rI=6;function hq(e){const t=[];for(let r=1;r<e.length;r++){if(Math.round(e[r].frequency/2)===Math.round(e[r-1].frequency/2))continue;const i=e[r].frequency>e[r-1].frequency?">":"<";if(t.length===0)t.push({...e[r],interval:e[r].timestamp-e[r-1].timestamp,change:i});else{const s=t.at(-1);s.change!==i&&t.push({...e[r],interval:e[r].timestamp-s.timestamp,change:i})}}const n=t;for(let r=0;r<n.length-rI;r++){const s=n.slice(r,r+rI-1).map(c=>c.interval),o=Math.max(...s),l=Math.min(...s),d=s.reduce((c,h)=>c+h,0)/s.length;if(o<d*1.75&&l>d/1.75)return!0}return!1}const pq=100;function gq(e,t,n,r){if(t.frequency===0)return;const i={...t,beat:Math.max(0,t.timestamp)/r,...fq(t.frequency,n.pitch)},s=e.at(-1),o=pq/r,l=n.start+n.length,d=!s||s.note.start!==n.start,c=!s||s.distance!==i.distance&&!oh.includes(n.type);if(d||c||i.beat-(s.start+s.length)>o){const h=i.beat-o<n.start?n.start:i.beat;if(e.push({start:Math.min(d?h:i.beat,l),length:0,distance:i.distance,note:n,isPerfect:!1,vibrato:!1,frequencyRecords:[{frequency:i.frequency,preciseDistance:i.preciseDistance,timestamp:i.timestamp}]}),s&&n.start!==s.note.start){const f=s.start+s.length,m=s.note.start+s.note.length,v=f+o>m?m:f;s.length=Math.max(0,v-s.start)}}else s.length=Math.max(0,Math.min(i.beat,n.start+n.length)-s.start),s.frequencyRecords.push({frequency:i.frequency,timestamp:i.timestamp,preciseDistance:i.preciseDistance}),s.isPerfect=s.distance===0&&Math.abs(s.length-s.note.length)<.5,s.vibrato=s.distance===0&&hq(s.frequencyRecords)}const mq=e=>e.notes[0],ol=e=>{const t=e.find(ln);return t?mq(t).start:1/0},Th=e=>{const n=e.filter(ln).at(-1);return n?Ih(n):0},Ih=e=>{const t=e.notes.at(-1);return t.start+t.length},iI=(e,t,n=0)=>e.notes.find(r=>r.start-n<=t&&r.start+r.length+n>=t);class vq{constructor(t,n){this.number=t,this.gameState=n,this.frequencyRecords=[],this.playerNotes=[],this.realFrequencyRecords=[],this.realPlayerNotes=[],this.min=1/0,this.max=-1/0,this.storedSectionIndex=0,this.getNumber=()=>this.number,this.update=()=>{const r=this.gameState.getCurrentTime(),i=tr.getPlayerFrequency(this.number),s=r-tr.getPlayerInputLag(this.number);if(Array.isArray(i)){const o=this.realFrequencyRecords.at(-1)||this.frequencyRecords.at(0),l=(o==null?void 0:o.timestamp)??0,d=(s-l)/i.length;this.frequencyRecords=this.realFrequencyRecords,this.playerNotes=this.realPlayerNotes;for(let h=0;h<i.length;h++){const f=l+d*(h+1);this.updatePlayerNotes(f,i[h])}this.realFrequencyRecords=[...this.frequencyRecords],this.realPlayerNotes=[...this.playerNotes];const c=this.realPlayerNotes.at(-1);c&&(this.realPlayerNotes[this.realPlayerNotes.length-1]={...c,frequencyRecords:[...c.frequencyRecords??[]]}),tr.clearPlayerCachedFrequencies(this.number)}else this.updatePlayerNotes(s,i);this.dispatchSectionUpdate()},this.dispatchSectionUpdate=()=>{const r=this.getCurrentSectionIndex();this.storedSectionIndex!==r&&(ge.sectionChange.dispatch(this.number,this.storedSectionIndex),this.storedSectionIndex=r)},this.updatePlayerNotes=(r,i)=>{const s={timestamp:r,frequency:i};this.frequencyRecords.push(s);const o=s.timestamp/this.gameState.getSongBeatLength(),l=this.getSectionByBeat(o);if(ln(l)){const d=iI(l,o,0)??iI(l,o,.5);d&&gq(this.playerNotes,s,d,this.gameState.getSongBeatLength())}},this.getPlayerNotes=()=>this.playerNotes,this.getPlayerFrequencies=()=>this.frequencyRecords,this.getSectionIndexByBeat=r=>this.getTrack().sections.findIndex((i,s,o)=>r<0?!0:r<i.start?!1:s===o.length-1?!0:o[s+1].start>r),this.getCurrentSectionIndex=()=>this.getSectionIndexByBeat(this.gameState.getCurrentBeat()),this.getSectionByBeat=r=>this.getTrack().sections[this.getSectionIndexByBeat(r)]??null,this.getCurrentSection=()=>{const r=this.getCurrentSectionIndex();return this.getTrack().sections[r]??null},this.getNextSection=(r=1)=>{const i=this.getCurrentSectionIndex();return i>-1?this.getTrack().sections[i+r]??null:null},this.getPreviousSection=(r=1)=>{const i=this.getCurrentSectionIndex();return i>-1?this.getTrack().sections[i-r]??null:null},this.getLastNotesSection=()=>{const r=this.getTrack().sections.at(-1);return ln(r)?r:this.getTrack().sections.at(-2)},this.getScore=()=>sq(this.playerNotes,this.gameState.getSong(),this.getTrackIndex()),this.getDetailedScore=()=>EO(this.playerNotes,this.gameState.getSong(),this.getTrackIndex()),this.getMinPitch=()=>this.min,this.getMaxPitch=()=>this.max,this.getTrackIndex=()=>this.gameState.getSingSetup().players.find(r=>r.number===this.number).track,this.getTrack=()=>{var r;return this.gameState.isMergedTrack()?(r=this.gameState.getSong())==null?void 0:r.mergedTrack:this.gameState.getSong().tracks[this.getTrackIndex()]},this.resetNotes=()=>{this.playerNotes=[]},this.getTrack().sections.filter(ln).forEach(r=>r.notes.forEach(i=>{this.min=Math.min(this.min,i.pitch),this.max=Math.max(this.max,i.pitch)}))}}function yq(e){return Math.max(...e.tracks.map(t=>{const n=t.sections.filter(ln).at(-1);return n?Ih(n):0}))}function Ax(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError("Expected a function");const n=function(...r){const i=t?t.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);const o=e.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(Ax.Cache||Map),n}Ax.Cache=Map;const Rd=Ax(function(t){return 60/t.bpm/(t.bar??4)*1e3});class Aq{constructor(){this.song=null,this.currentTime=0,this.duration=0,this.singSetup=null,this.playerStates=[],this.playing=!1,this.setCurrentTime=t=>this.currentTime=t,this.getCurrentTime=(t=!0)=>this.currentTime-(t&&this.song?this.song.gap:0),this.getSongBeatLength=()=>Rd(this.song),this.getCurrentBeat=()=>oq(this.getCurrentTime(),this.getSongBeatLength(),0,!1),this.setSong=t=>this.song=t,this.getSong=()=>this.song,this.getSingSetup=()=>this.singSetup,this.setSingSetup=t=>{this.singSetup=t,this.playerStates=t.players.map(({number:n},r)=>new vq(n,this)),this.currentTime=0,this.playing=!0},this.resetSingSetup=()=>{this.playing=!1},this.isPlaying=()=>this.playing,this.getTolerance=()=>{var t;return((t=this.getSingSetup())==null?void 0:t.tolerance)??2},this.setDuration=t=>this.duration=t,this.getDuration=()=>this.duration,this.getPlayer=t=>this.playerStates.find(n=>n.getNumber()===t),this.getPlayers=()=>this.playerStates,this.getPlayerCount=()=>this.playerStates.length,this.getPlayerScore=t=>{var n,r;return((n=this.getSingSetup())==null?void 0:n.mode)===yi.CO_OP?this.getPlayers().reduce((s,o)=>s+o.getScore(),0)/this.getPlayerCount():((r=this.getPlayer(t))==null?void 0:r.getScore())??-1},this.getPlayerDetailedScore=t=>{var n;if(((n=this.getSingSetup())==null?void 0:n.mode)===yi.CO_OP){const r=this.getPlayers().map(l=>l.getDetailedScore()),[i,...s]=r.map(([l,d,c])=>[Dg(d,l),Dg(c,l)]),o=s.reduce((l,d)=>[eI(l[0],d[0]),eI(l[1],d[1])],i);return[tI(o[0],this.getPlayerCount()),tI(o[1],this.getPlayerCount())]}else{const[r,i,s]=this.getPlayer(t).getDetailedScore();return[Dg(i,r),Dg(s,r)]}},this.getSongCompletionProgress=()=>Math.max(0,Math.min(1,this.getCurrentBeat()/yq(this.getSong()))),this.startInputMonitoring=async()=>tr.startMonitoring(),this.stopInputMonitoring=()=>tr.stopMonitoring(),this.update=()=>{this.playerStates.forEach(t=>t.update())},this.resetPlayerNotes=()=>{this.playerStates.forEach(t=>t.resetNotes())},this.isMergedTrack=()=>{var t;return((t=this.getSingSetup())==null?void 0:t.players.length)!==2}}}const ct=new Aq,CO="wss://allkaraoke-partykit.asvarox.partykit.dev";class bq extends oo{constructor(){super(...arguments),this.name="PartyKit",this.connection=null,this.disconnect=()=>{var t;(t=this.connection)==null||t.close()},this.latency=0,this.pingStart=bi(),this.pinging=!1,this.pingTimeout=null,this.ping=()=>{var t;this.pinging=!0,this.pingStart=bi(),(t=this.connection)==null||t.send(Ts({t:"ping"}))},this.onPong=()=>{this.pinging&&(this.latency=bi()-this.pingStart,this.pinging=!1,this.pingTimeout&&clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(this.ping,5e3))},this.getCurrentPing=()=>this.pinging?Math.max(this.latency,bi()-this.pingStart):this.latency}connect(t,n,r){this.connection=new WebSocket(`${CO}/party/${t}`),this.connection.binaryType="arraybuffer",this.connection.onopen=()=>{var i,s;(i=this.connection)==null||i.send(Ts({t:"register-room",id:t})),n(),this.ping(),(s=this.connection)==null||s.addEventListener("message",o=>{var d;const l=Ad(o.data);if(l.t==="forward"){["ping","pong","freq"].includes((d=l==null?void 0:l.payload)==null?void 0:d.t)||console.log("received",l);const{sender:c,payload:h}=l,f=new _q(c,this.connection);this.onUpdate(h,f)}else l.t==="pong"?this.onPong():console.warn("Unknown message type",l)})},this.connection.onclose=i=>{r(i.reason,i)}}removePlayer(t){var n;(n=this.connection)==null||n.send(Ts({t:"remove-player",id:t}))}}let _q=class{constructor(t,n){this.peer=t,this.socket=n,this.currentPing=0,this.send=r=>{const i={t:"forward",recipients:[this.peer],payload:r};["ping","pong","freq"].includes(r==null?void 0:r.t)||console.log("sending",this.peer,r),this.socket.send(Ts(i))},this.callbacksMap=new Map,this.on=(r,i)=>{r==="data"&&(this.callbacksMap.set(i,s=>{const o=Ad(s.data);if(o.t==="forward"){const{sender:l,payload:d}=o;l===this.peer&&i(d)}}),this.socket.addEventListener("message",this.callbacksMap.get(i)))},this.off=(r,i)=>{if(r==="data"){const s=this.callbacksMap.get(i);this.socket.removeEventListener("message",s),this.callbacksMap.delete(i)}},this.close=()=>{this.socket.close()}}};var h5;const Sq=(h5=global==null?void 0:global.sessionStorage)==null?void 0:h5.getItem("isE2E");function rs(){var t,n;if(Sq)return!0;const e=(global==null?void 0:global.isE2ETests)||((t=global==null?void 0:global.location)==null?void 0:t.search.includes("e2e-test"));return e&&((n=global==null?void 0:global.sessionStorage)==null||n.setItem("isE2E","true")),e}const xq=rs()?{host:"localhost",port:3001,path:"/"}:{},kO={...xq};var wq=Object.create,xv=Object.defineProperty,Eq=Object.defineProperties,Cq=Object.getOwnPropertyDescriptor,kq=Object.getOwnPropertyDescriptors,TO=Object.getOwnPropertyNames,sI=Object.getOwnPropertySymbols,Tq=Object.getPrototypeOf,IO=Object.prototype.hasOwnProperty,Iq=Object.prototype.propertyIsEnumerable,oI=(e,t,n)=>t in e?xv(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,bx=(e,t)=>{for(var n in t||(t={}))IO.call(t,n)&&oI(e,n,t[n]);if(sI)for(var n of sI(t))Iq.call(t,n)&&oI(e,n,t[n]);return e},RO=(e,t)=>Eq(e,kq(t)),Rq=e=>xv(e,"__esModule",{value:!0}),_x=(e,t)=>function(){return t||(0,e[TO(e)[0]])((t={exports:{}}).exports,t),t.exports},Pq=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of TO(t))!IO.call(e,i)&&i!=="default"&&xv(e,i,{get:()=>t[i],enumerable:!(r=Cq(t,i))||r.enumerable});return e},Kh=(e,t)=>Pq(Rq(xv(e!=null?wq(Tq(e)):{},"default",e&&e.__esModule?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e),Vu=(e,t,n)=>new Promise((r,i)=>{var s=d=>{try{l(n.next(d))}catch(c){i(c)}},o=d=>{try{l(n.throw(d))}catch(c){i(c)}},l=d=>d.done?r(d.value):Promise.resolve(d.value).then(s,o);l((n=n.apply(e,t)).next())}),aI=_x({"node_modules/peerjs-js-binarypack/lib/bufferbuilder.js"(e,t){var n={};n.useBlobBuilder=function(){try{return new Blob([]),!1}catch{return!0}}(),n.useArrayBufferView=!n.useBlobBuilder&&function(){try{return new Blob([new Uint8Array([])]).size===0}catch{return!0}}(),t.exports.binaryFeatures=n;var r=t.exports.BlobBuilder;typeof window<"u"&&(r=t.exports.BlobBuilder=window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder||window.BlobBuilder);function i(){this._pieces=[],this._parts=[]}i.prototype.append=function(s){typeof s=="number"?this._pieces.push(s):(this.flush(),this._parts.push(s))},i.prototype.flush=function(){if(this._pieces.length>0){var s=new Uint8Array(this._pieces);n.useArrayBufferView||(s=s.buffer),this._parts.push(s),this._pieces=[]}},i.prototype.getBuffer=function(){if(this.flush(),n.useBlobBuilder){for(var s=new r,o=0,l=this._parts.length;o<l;o++)s.append(this._parts[o]);return s.getBlob()}else return new Blob(this._parts)},t.exports.BufferBuilder=i}}),Mq=_x({"node_modules/peerjs-js-binarypack/lib/binarypack.js"(e,t){var n=aI().BufferBuilder,r=aI().binaryFeatures,i={unpack:function(c){var h=new s(c);return h.unpack()},pack:function(c){var h=new o;h.pack(c);var f=h.getBuffer();return f}};t.exports=i;function s(c){this.index=0,this.dataBuffer=c,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}s.prototype.unpack=function(){var c=this.unpack_uint8();if(c<128)return c;if((c^224)<32)return(c^224)-32;var h;if((h=c^160)<=15)return this.unpack_raw(h);if((h=c^176)<=15)return this.unpack_string(h);if((h=c^144)<=15)return this.unpack_array(h);if((h=c^128)<=15)return this.unpack_map(h);switch(c){case 192:return null;case 193:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 212:return;case 213:return;case 214:return;case 215:return;case 216:return h=this.unpack_uint16(),this.unpack_string(h);case 217:return h=this.unpack_uint32(),this.unpack_string(h);case 218:return h=this.unpack_uint16(),this.unpack_raw(h);case 219:return h=this.unpack_uint32(),this.unpack_raw(h);case 220:return h=this.unpack_uint16(),this.unpack_array(h);case 221:return h=this.unpack_uint32(),this.unpack_array(h);case 222:return h=this.unpack_uint16(),this.unpack_map(h);case 223:return h=this.unpack_uint32(),this.unpack_map(h)}},s.prototype.unpack_uint8=function(){var c=this.dataView[this.index]&255;return this.index++,c},s.prototype.unpack_uint16=function(){var c=this.read(2),h=(c[0]&255)*256+(c[1]&255);return this.index+=2,h},s.prototype.unpack_uint32=function(){var c=this.read(4),h=((c[0]*256+c[1])*256+c[2])*256+c[3];return this.index+=4,h},s.prototype.unpack_uint64=function(){var c=this.read(8),h=((((((c[0]*256+c[1])*256+c[2])*256+c[3])*256+c[4])*256+c[5])*256+c[6])*256+c[7];return this.index+=8,h},s.prototype.unpack_int8=function(){var c=this.unpack_uint8();return c<128?c:c-256},s.prototype.unpack_int16=function(){var c=this.unpack_uint16();return c<32768?c:c-65536},s.prototype.unpack_int32=function(){var c=this.unpack_uint32();return c<Math.pow(2,31)?c:c-Math.pow(2,32)},s.prototype.unpack_int64=function(){var c=this.unpack_uint64();return c<Math.pow(2,63)?c:c-Math.pow(2,64)},s.prototype.unpack_raw=function(c){if(this.length<this.index+c)throw new Error("BinaryPackFailure: index is out of range "+this.index+" "+c+" "+this.length);var h=this.dataBuffer.slice(this.index,this.index+c);return this.index+=c,h},s.prototype.unpack_string=function(c){for(var h=this.read(c),f=0,m="",v,A;f<c;)v=h[f],v<128?(m+=String.fromCharCode(v),f++):(v^192)<32?(A=(v^192)<<6|h[f+1]&63,m+=String.fromCharCode(A),f+=2):(A=(v&15)<<12|(h[f+1]&63)<<6|h[f+2]&63,m+=String.fromCharCode(A),f+=3);return this.index+=c,m},s.prototype.unpack_array=function(c){for(var h=new Array(c),f=0;f<c;f++)h[f]=this.unpack();return h},s.prototype.unpack_map=function(c){for(var h={},f=0;f<c;f++){var m=this.unpack(),v=this.unpack();h[m]=v}return h},s.prototype.unpack_float=function(){var c=this.unpack_uint32(),h=c>>31,f=(c>>23&255)-127,m=c&8388607|8388608;return(h===0?1:-1)*m*Math.pow(2,f-23)},s.prototype.unpack_double=function(){var c=this.unpack_uint32(),h=this.unpack_uint32(),f=c>>31,m=(c>>20&2047)-1023,v=c&1048575|1048576,A=v*Math.pow(2,m-20)+h*Math.pow(2,m-52);return(f===0?1:-1)*A},s.prototype.read=function(c){var h=this.index;if(h+c<=this.length)return this.dataView.subarray(h,h+c);throw new Error("BinaryPackFailure: read index out of range")};function o(){this.bufferBuilder=new n}o.prototype.getBuffer=function(){return this.bufferBuilder.getBuffer()},o.prototype.pack=function(c){var h=typeof c;if(h==="string")this.pack_string(c);else if(h==="number")Math.floor(c)===c?this.pack_integer(c):this.pack_double(c);else if(h==="boolean")c===!0?this.bufferBuilder.append(195):c===!1&&this.bufferBuilder.append(194);else if(h==="undefined")this.bufferBuilder.append(192);else if(h==="object")if(c===null)this.bufferBuilder.append(192);else{var f=c.constructor;if(f==Array)this.pack_array(c);else if(f==Blob||f==File||c instanceof Blob||c instanceof File)this.pack_bin(c);else if(f==ArrayBuffer)r.useArrayBufferView?this.pack_bin(new Uint8Array(c)):this.pack_bin(c);else if("BYTES_PER_ELEMENT"in c)r.useArrayBufferView?this.pack_bin(new Uint8Array(c.buffer)):this.pack_bin(c.buffer);else if(f==Object||f.toString().startsWith("class"))this.pack_object(c);else if(f==Date)this.pack_string(c.toString());else if(typeof c.toBinaryPack=="function")this.bufferBuilder.append(c.toBinaryPack());else throw new Error('Type "'+f.toString()+'" not yet supported')}else throw new Error('Type "'+h+'" not yet supported');this.bufferBuilder.flush()},o.prototype.pack_bin=function(c){var h=c.length||c.byteLength||c.size;if(h<=15)this.pack_uint8(160+h);else if(h<=65535)this.bufferBuilder.append(218),this.pack_uint16(h);else if(h<=4294967295)this.bufferBuilder.append(219),this.pack_uint32(h);else throw new Error("Invalid length");this.bufferBuilder.append(c)},o.prototype.pack_string=function(c){var h=d(c);if(h<=15)this.pack_uint8(176+h);else if(h<=65535)this.bufferBuilder.append(216),this.pack_uint16(h);else if(h<=4294967295)this.bufferBuilder.append(217),this.pack_uint32(h);else throw new Error("Invalid length");this.bufferBuilder.append(c)},o.prototype.pack_array=function(c){var h=c.length;if(h<=15)this.pack_uint8(144+h);else if(h<=65535)this.bufferBuilder.append(220),this.pack_uint16(h);else if(h<=4294967295)this.bufferBuilder.append(221),this.pack_uint32(h);else throw new Error("Invalid length");for(var f=0;f<h;f++)this.pack(c[f])},o.prototype.pack_integer=function(c){if(c>=-32&&c<=127)this.bufferBuilder.append(c&255);else if(c>=0&&c<=255)this.bufferBuilder.append(204),this.pack_uint8(c);else if(c>=-128&&c<=127)this.bufferBuilder.append(208),this.pack_int8(c);else if(c>=0&&c<=65535)this.bufferBuilder.append(205),this.pack_uint16(c);else if(c>=-32768&&c<=32767)this.bufferBuilder.append(209),this.pack_int16(c);else if(c>=0&&c<=4294967295)this.bufferBuilder.append(206),this.pack_uint32(c);else if(c>=-2147483648&&c<=2147483647)this.bufferBuilder.append(210),this.pack_int32(c);else if(c>=-9223372036854776e3&&c<=9223372036854776e3)this.bufferBuilder.append(211),this.pack_int64(c);else if(c>=0&&c<=18446744073709552e3)this.bufferBuilder.append(207),this.pack_uint64(c);else throw new Error("Invalid integer")},o.prototype.pack_double=function(c){var h=0;c<0&&(h=1,c=-c);var f=Math.floor(Math.log(c)/Math.LN2),m=c/Math.pow(2,f)-1,v=Math.floor(m*Math.pow(2,52)),A=Math.pow(2,32),b=h<<31|f+1023<<20|v/A&1048575,x=v%A;this.bufferBuilder.append(203),this.pack_int32(b),this.pack_int32(x)},o.prototype.pack_object=function(c){var h=Object.keys(c),f=h.length;if(f<=15)this.pack_uint8(128+f);else if(f<=65535)this.bufferBuilder.append(222),this.pack_uint16(f);else if(f<=4294967295)this.bufferBuilder.append(223),this.pack_uint32(f);else throw new Error("Invalid length");for(var m in c)c.hasOwnProperty(m)&&(this.pack(m),this.pack(c[m]))},o.prototype.pack_uint8=function(c){this.bufferBuilder.append(c)},o.prototype.pack_uint16=function(c){this.bufferBuilder.append(c>>8),this.bufferBuilder.append(c&255)},o.prototype.pack_uint32=function(c){var h=c&4294967295;this.bufferBuilder.append((h&4278190080)>>>24),this.bufferBuilder.append((h&16711680)>>>16),this.bufferBuilder.append((h&65280)>>>8),this.bufferBuilder.append(h&255)},o.prototype.pack_uint64=function(c){var h=c/Math.pow(2,32),f=c%Math.pow(2,32);this.bufferBuilder.append((h&4278190080)>>>24),this.bufferBuilder.append((h&16711680)>>>16),this.bufferBuilder.append((h&65280)>>>8),this.bufferBuilder.append(h&255),this.bufferBuilder.append((f&4278190080)>>>24),this.bufferBuilder.append((f&16711680)>>>16),this.bufferBuilder.append((f&65280)>>>8),this.bufferBuilder.append(f&255)},o.prototype.pack_int8=function(c){this.bufferBuilder.append(c&255)},o.prototype.pack_int16=function(c){this.bufferBuilder.append((c&65280)>>8),this.bufferBuilder.append(c&255)},o.prototype.pack_int32=function(c){this.bufferBuilder.append(c>>>24&255),this.bufferBuilder.append((c&16711680)>>>16),this.bufferBuilder.append((c&65280)>>>8),this.bufferBuilder.append(c&255)},o.prototype.pack_int64=function(c){var h=Math.floor(c/Math.pow(2,32)),f=c%Math.pow(2,32);this.bufferBuilder.append((h&4278190080)>>>24),this.bufferBuilder.append((h&16711680)>>>16),this.bufferBuilder.append((h&65280)>>>8),this.bufferBuilder.append(h&255),this.bufferBuilder.append((f&4278190080)>>>24),this.bufferBuilder.append((f&16711680)>>>16),this.bufferBuilder.append((f&65280)>>>8),this.bufferBuilder.append(f&255)};function l(c){var h=c.charCodeAt(0);return h<=2047?"00":h<=65535?"000":h<=2097151?"0000":h<=67108863?"00000":"000000"}function d(c){return c.length>600?new Blob([c]).size:c.replace(/[^\u0000-\u007F]/g,l).length}}}),wv=_x({"node_modules/eventemitter3/index.js"(e,t){var n=Object.prototype.hasOwnProperty,r="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(r=!1));function s(c,h,f){this.fn=c,this.context=h,this.once=f||!1}function o(c,h,f,m,v){if(typeof f!="function")throw new TypeError("The listener must be a function");var A=new s(f,m||c,v),b=r?r+h:h;return c._events[b]?c._events[b].fn?c._events[b]=[c._events[b],A]:c._events[b].push(A):(c._events[b]=A,c._eventsCount++),c}function l(c,h){--c._eventsCount===0?c._events=new i:delete c._events[h]}function d(){this._events=new i,this._eventsCount=0}d.prototype.eventNames=function(){var h=[],f,m;if(this._eventsCount===0)return h;for(m in f=this._events)n.call(f,m)&&h.push(r?m.slice(1):m);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(f)):h},d.prototype.listeners=function(h){var f=r?r+h:h,m=this._events[f];if(!m)return[];if(m.fn)return[m.fn];for(var v=0,A=m.length,b=new Array(A);v<A;v++)b[v]=m[v].fn;return b},d.prototype.listenerCount=function(h){var f=r?r+h:h,m=this._events[f];return m?m.fn?1:m.length:0},d.prototype.emit=function(h,f,m,v,A,b){var x=r?r+h:h;if(!this._events[x])return!1;var E=this._events[x],I=arguments.length,P,T;if(E.fn){switch(E.once&&this.removeListener(h,E.fn,void 0,!0),I){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,f),!0;case 3:return E.fn.call(E.context,f,m),!0;case 4:return E.fn.call(E.context,f,m,v),!0;case 5:return E.fn.call(E.context,f,m,v,A),!0;case 6:return E.fn.call(E.context,f,m,v,A,b),!0}for(T=1,P=new Array(I-1);T<I;T++)P[T-1]=arguments[T];E.fn.apply(E.context,P)}else{var w=E.length,R;for(T=0;T<w;T++)switch(E[T].once&&this.removeListener(h,E[T].fn,void 0,!0),I){case 1:E[T].fn.call(E[T].context);break;case 2:E[T].fn.call(E[T].context,f);break;case 3:E[T].fn.call(E[T].context,f,m);break;case 4:E[T].fn.call(E[T].context,f,m,v);break;default:if(!P)for(R=1,P=new Array(I-1);R<I;R++)P[R-1]=arguments[R];E[T].fn.apply(E[T].context,P)}}return!0},d.prototype.on=function(h,f,m){return o(this,h,f,m,!1)},d.prototype.once=function(h,f,m){return o(this,h,f,m,!0)},d.prototype.removeListener=function(h,f,m,v){var A=r?r+h:h;if(!this._events[A])return this;if(!f)return l(this,A),this;var b=this._events[A];if(b.fn)b.fn===f&&(!v||b.once)&&(!m||b.context===m)&&l(this,A);else{for(var x=0,E=[],I=b.length;x<I;x++)(b[x].fn!==f||v&&!b[x].once||m&&b[x].context!==m)&&E.push(b[x]);E.length?this._events[A]=E.length===1?E[0]:E:l(this,A)}return this},d.prototype.removeAllListeners=function(h){var f;return h?(f=r?r+h:h,this._events[f]&&l(this,f)):(this._events=new i,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=r,d.EventEmitter=d,typeof t<"u"&&(t.exports=d)}}),lI=Kh(Mq()),jq={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"turn:0.peerjs.com:3478",username:"peerjs",credential:"peerjsp"}],sdpSemantics:"unified-plan"},qn=new class{constructor(){this.CLOUD_HOST="0.peerjs.com",this.CLOUD_PORT=443,this.chunkedMTU=16300,this.defaultConfig=jq,this.pack=lI.pack,this.unpack=lI.unpack,this._dataCount=1}validateId(e){return!e||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(e)}chunk(e){const t=[],n=e.size,r=Math.ceil(n/qn.chunkedMTU);let i=0,s=0;for(;s<n;){const o=Math.min(n,s+qn.chunkedMTU),l=e.slice(s,o),d={__peerData:this._dataCount,n:i,data:l,total:r};t.push(d),s=o,i++}return this._dataCount++,t}blobToArrayBuffer(e,t,n){const r=new e;return r.onload=function(i){i.target&&n(i.target.result)},r.readAsArrayBuffer(t),r}binaryStringToArrayBuffer(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n)&255;return t.buffer}randomToken(){return Math.random().toString(36).substr(2)}isSecure(){return location.protocol==="https:"}},Oq=Kh(wv()),Vq="PeerJS: ",Lq=class{constructor(){this._logLevel=0}get logLevel(){return this._logLevel}set logLevel(e){this._logLevel=e}log(...e){this._logLevel>=3&&this._print(3,...e)}warn(...e){this._logLevel>=2&&this._print(2,...e)}error(...e){this._logLevel>=1&&this._print(1,...e)}setLogFunction(e){this._print=e}_print(e,...t){const n=[Vq,...t];for(let r in n)n[r]instanceof Error&&(n[r]="("+n[r].name+") "+n[r].message);e>=3?console.log(...n):e>=2?console.warn("WARNING",...n):e>=1&&console.error("ERROR",...n)}},Ye=new Lq,Nq=Kh(wv()),Bq=class extends Nq.EventEmitter{constructor({secure:e,host:t,port:n,path:r,key:i,pingInterval:s=5e3,polyfills:o}){super(),this._disconnected=!0,this._id=null,this._messagesQueue=[],this.alive=!1,this._destroyed=!1;var l;this.pingInterval=s;const d=e?"wss://":"ws://";this._baseUrl=d+t+":"+n+r+"peerjs?key="+i,this.WebSocketConstructor=(l=o==null?void 0:o.WebSocket)!=null?l:window.WebSocket}get messagesQueue(){return this._messagesQueue}get destroyed(){return this._destroyed}start(e,t){if(this._destroyed)throw new Error("Socket was destroyed!");if(this._id=e,this._socket||!this._disconnected)return;const n=`${this._baseUrl}&id=${e}&token=${t}`;this._socket=new this.WebSocketConstructor(n),this._disconnected=!1,this._socket.onmessage=r=>{if(this._destroyed)return;let i;try{i=JSON.parse(r.data),Ye.log("Server message received:",i)}catch{Ye.log("Invalid server message",r.data);return}this.emit("message",i)},this._socket.onclose=r=>{this._disconnected||this._destroyed||(Ye.log("Socket closed.",r),this._cleanup(),this._disconnected=!0,this.emit("disconnected"))},this._socket.onopen=()=>{this._disconnected||this._destroyed||(Ye.log("Socket open"),this.emit("open"),this._sendQueuedMessages(),this._scheduleHeartbeat())}}_scheduleHeartbeat(){this._wsPingTimer=setTimeout(()=>{this._sendHeartbeat()},this.pingInterval)}_sendHeartbeat(){if(this._destroyed)return;if(!this._wsOpen()){Ye.log("Cannot send heartbeat, because socket closed");return}const e=JSON.stringify({type:"HEARTBEAT"});this._socket.send(e),this._scheduleHeartbeat()}_wsOpen(){return!!this._socket&&this._socket.readyState===1}_sendQueuedMessages(){const e=[...this._messagesQueue];this._messagesQueue=[];for(const t of e)this.send(t);e.length>0&&Ye.log(`${e.length} queued messages was sent`)}send(e){if(this._destroyed)throw new Error("Socket was destroyed!");if(!e.type){this.emit("error","Invalid message");return}if(!this.alive)return;if(this._id==null||!this._wsOpen()){this._messagesQueue.push(e);return}const t=JSON.stringify(e);this._socket.send(t)}close(){this._disconnected||(this._cleanup(),this._id=null,this._disconnected=!0)}_cleanup(){this._socket&&(this._socket.onopen=this._socket.onmessage=this._socket.onclose=null,this._socket.close(),this._socket=void 0),clearTimeout(this._wsPingTimer)}destroy(){this._destroyed||(this.close(),this._messagesQueue.length=0,this._destroyed=!0)}};function Dq(){}var PO=class{constructor(e){this.connection=e}get webRtc(){var e,t;return(t=(e=this.connection.provider.options.polyfills)==null?void 0:e.WebRTC)!=null?t:window}startConnection(e){const t=this._startPeerConnection();if(this.connection.peerConnection=t,this.connection.type==="media"&&e._stream&&this._addTracksToConnection(e._stream,t),e.originator){if(this.connection.type==="data"){const n=this.connection,r={ordered:!!e.reliable},i=t.createDataChannel(n.label,r);n.initialize(i)}this._makeOffer()}else this.handleSDP("OFFER",e.sdp)}_startPeerConnection(){Ye.log("Creating RTCPeerConnection.");const e=this.webRtc.RTCPeerConnection,t=new e(this.connection.provider.options.config);return this._setupListeners(t),t}_setupListeners(e){const t=this.connection.peer,n=this.connection.connectionId,r=this.connection.type,i=this.connection.provider;Ye.log("Listening for ICE candidates, remote streams and data channels."),e.onicecandidate=s=>{!s.candidate||!s.candidate.candidate||(Ye.log(`Received ICE candidates for ${t}:`,s.candidate),i.socket.send({type:"CANDIDATE",payload:{candidate:s.candidate,type:r,connectionId:n},dst:t}))},e.oniceconnectionstatechange=()=>{switch(e.iceConnectionState){case"failed":Ye.log("iceConnectionState is failed, closing connections to "+t),this.connection.emit("error",new Error("Negotiation of connection to "+t+" failed.")),this.connection.close();break;case"closed":Ye.log("iceConnectionState is closed, closing connections to "+t),this.connection.emit("error",new Error("Connection to "+t+" closed.")),this.connection.close();break;case"connected":Ye.log("iceConnectionState changed to connected on the connection with "+t);break;case"disconnected":Ye.log("iceConnectionState changed to disconnected on the connection with "+t);break;case"completed":Ye.log("iceConnectionState changed to completed on the connection with "+t),e.onicecandidate=Dq;break}this.connection.emit("iceStateChanged",e.iceConnectionState)},e.ondatachannel=s=>{Ye.log("Received data channel");const o=s.channel;i.getConnection(t,n).initialize(o)},e.ontrack=s=>{Ye.log("Received remote stream");const o=s.streams[0],l=i.getConnection(t,n);if(l.type==="media"){const d=l;this._addStreamToMediaConnection(o,d)}}}cleanup(){Ye.log("Cleaning up PeerConnection to "+this.connection.peer);const e=this.connection.peerConnection;if(!e)return;this.connection.peerConnection=null,e.onicecandidate=e.oniceconnectionstatechange=e.ondatachannel=e.ontrack=null;const t=e.signalingState!=="closed";let n=!1;if(this.connection.type==="data"){const i=this.connection.dataChannel;i&&(n=!!i.readyState&&i.readyState!=="closed")}(t||n)&&e.close()}_makeOffer(){return Vu(this,null,function*(){const e=this.connection.peerConnection,t=this.connection.provider;try{const n=yield e.createOffer(this.connection.options.constraints);if(e.signalingState==="closed")return;Ye.log("Created offer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(n.sdp=this.connection.options.sdpTransform(n.sdp)||n.sdp);try{yield e.setLocalDescription(n),Ye.log("Set localDescription:",n,`for:${this.connection.peer}`);let r={sdp:n,type:this.connection.type,connectionId:this.connection.connectionId,metadata:this.connection.metadata};if(this.connection.type==="data"){const i=this.connection;r=RO(bx({},r),{label:i.label,reliable:i.reliable,serialization:i.serialization})}t.socket.send({type:"OFFER",payload:r,dst:this.connection.peer})}catch(r){r!="OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"&&(t.emitError("webrtc",r),Ye.log("Failed to setLocalDescription, ",r))}}catch(n){t.emitError("webrtc",n),Ye.log("Failed to createOffer, ",n)}})}_makeAnswer(){return Vu(this,null,function*(){const e=this.connection.peerConnection,t=this.connection.provider;try{const n=yield e.createAnswer();if(e.signalingState==="closed")return;Ye.log("Created answer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(n.sdp=this.connection.options.sdpTransform(n.sdp)||n.sdp);try{yield e.setLocalDescription(n),Ye.log("Set localDescription:",n,`for:${this.connection.peer}`),t.socket.send({type:"ANSWER",payload:{sdp:n,type:this.connection.type,connectionId:this.connection.connectionId},dst:this.connection.peer})}catch(r){t.emitError("webrtc",r),Ye.log("Failed to setLocalDescription, ",r)}}catch(n){t.emitError("webrtc",n),Ye.log("Failed to create answer, ",n)}})}handleSDP(e,t){return Vu(this,null,function*(){const n=this.webRtc.RTCSessionDescription;t=new n(t);const r=this.connection.peerConnection,i=this.connection.provider;Ye.log("Setting remote description",t);const s=this;try{yield r.setRemoteDescription(t),Ye.log(`Set remoteDescription:${e} for:${this.connection.peer}`),e==="OFFER"&&(yield s._makeAnswer())}catch(o){i.emitError("webrtc",o),Ye.log("Failed to setRemoteDescription, ",o)}})}handleCandidate(e){return Vu(this,null,function*(){Ye.log("handleCandidate:",e);const t=e.candidate,n=e.sdpMLineIndex,r=e.sdpMid,i=this.connection.peerConnection,s=this.connection.provider;try{const o=this.webRtc.RTCIceCandidate;yield i.addIceCandidate(new o({sdpMid:r,sdpMLineIndex:n,candidate:t})),Ye.log(`Added ICE candidate for:${this.connection.peer}`)}catch(o){s.emitError("webrtc",o),Ye.log("Failed to handleCandidate, ",o)}})}_addTracksToConnection(e,t){if(Ye.log(`add tracks from stream ${e.id} to peer connection`),!t.addTrack)return Ye.error("Your browser does't support RTCPeerConnection#addTrack. Ignored.");e.getTracks().forEach(n=>{t.addTrack(n,e)})}_addStreamToMediaConnection(e,t){Ye.log(`add stream ${e.id} to media connection ${t.connectionId}`),t.addStream(e)}},Fq=Kh(wv()),MO=class extends Fq.EventEmitter{constructor(e,t,n){super(),this.peer=e,this.provider=t,this.options=n,this._open=!1,this.metadata=n.metadata}get open(){return this._open}},jO=class extends MO{get type(){return"media"}get localStream(){return this._localStream}get remoteStream(){return this._remoteStream}constructor(e,t,n){super(e,t,n),this._localStream=this.options._stream,this.connectionId=this.options.connectionId||jO.ID_PREFIX+qn.randomToken(),this._negotiator=new PO(this),this._localStream&&this._negotiator.startConnection({_stream:this._localStream,originator:!0})}addStream(e){Ye.log("Receiving stream",e),this._remoteStream=e,super.emit("stream",e)}handleMessage(e){const t=e.type,n=e.payload;switch(e.type){case"ANSWER":this._negotiator.handleSDP(t,n.sdp),this._open=!0;break;case"CANDIDATE":this._negotiator.handleCandidate(n.candidate);break;default:Ye.warn(`Unrecognized message type:${t} from peer:${this.peer}`);break}}answer(e,t={}){if(this._localStream){Ye.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");return}this._localStream=e,t&&t.sdpTransform&&(this.options.sdpTransform=t.sdpTransform),this._negotiator.startConnection(RO(bx({},this.options._payload),{_stream:e}));const n=this.provider._getMessages(this.connectionId);for(let r of n)this.handleMessage(r);this._open=!0}close(){this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this._localStream=null,this._remoteStream=null,this.provider&&(this.provider._removeConnection(this),this.provider=null),this.options&&this.options._stream&&(this.options._stream=null),this.open&&(this._open=!1,super.emit("close"))}},L_=jO;L_.ID_PREFIX="mc_";var $q=Kh(wv()),zq=class extends $q.EventEmitter{constructor(e){super(),this.fileReader=e,this._queue=[],this._processing=!1,this.fileReader.onload=t=>{this._processing=!1,t.target&&this.emit("done",t.target.result),this.doNextTask()},this.fileReader.onerror=t=>{Ye.error("EncodingQueue error:",t),this._processing=!1,this.destroy(),this.emit("error",t)}}get queue(){return this._queue}get size(){return this.queue.length}get processing(){return this._processing}enque(e){this.queue.push(e),!this.processing&&this.doNextTask()}destroy(){this.fileReader.abort(),this._queue=[]}doNextTask(){this.size!==0&&(this.processing||(this._processing=!0,this.fileReader.readAsArrayBuffer(this.queue.shift())))}},N_=class extends MO{constructor(e,t,n){super(e,t,n),this.stringify=JSON.stringify,this.parse=JSON.parse,this._buffer=[],this._bufferSize=0,this._buffering=!1,this._chunkedData={};var r,i;this.connectionId=this.options.connectionId||N_.ID_PREFIX+qn.randomToken(),this.label=this.options.label||this.connectionId,this.serialization=this.options.serialization||"binary",this.reliable=!!this.options.reliable,this.FileReaderCtr=(i=(r=t.options.polyfills)==null?void 0:r.FileReader)!=null?i:window.FileReader,this._encodingQueue=new zq(new this.FileReaderCtr),this._encodingQueue.on("done",s=>{this._bufferedSend(s)}),this._encodingQueue.on("error",()=>{Ye.error(`DC#${this.connectionId}: Error occured in encoding from blob to arraybuffer, close DC`),this.close()}),this._negotiator=new PO(this),this._negotiator.startConnection(this.options._payload||{originator:!0})}get type(){return"data"}get dataChannel(){return this._dc}get bufferSize(){return this._bufferSize}initialize(e){this._dc=e,this._configureDataChannel()}_configureDataChannel(){(!this.provider.features.binaryBlob||this.provider.features.reliable)&&(this.dataChannel.binaryType="arraybuffer"),this.dataChannel.onopen=()=>{Ye.log(`DC#${this.connectionId} dc connection success`),this._open=!0,this.emit("open")},this.dataChannel.onmessage=e=>{Ye.log(`DC#${this.connectionId} dc onmessage:`,e.data),this._handleDataMessage(e)},this.dataChannel.onclose=()=>{Ye.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}_handleDataMessage({data:e}){const t=e.constructor,n=this.serialization==="binary"||this.serialization==="binary-utf8";let r=e;if(n){if(t===Blob){qn.blobToArrayBuffer(this.FileReaderCtr,e,i=>{const s=qn.unpack(i);this.emit("data",s)});return}else if(t===ArrayBuffer)r=qn.unpack(e);else if(t===String){const i=qn.binaryStringToArrayBuffer(e);r=qn.unpack(i)}}else this.serialization==="json"&&(r=this.parse(e));if(r.__peerData){this._handleChunk(r);return}super.emit("data",r)}_handleChunk(e){const t=e.__peerData,n=this._chunkedData[t]||{data:[],count:0,total:e.total};if(n.data[e.n]=e.data,n.count++,this._chunkedData[t]=n,n.total===n.count){delete this._chunkedData[t];const r=new Blob(n.data);this._handleDataMessage({data:r})}}close(){this._buffer=[],this._bufferSize=0,this._chunkedData={},this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this.provider&&(this.provider._removeConnection(this),this.provider=null),this.dataChannel&&(this.dataChannel.onopen=null,this.dataChannel.onmessage=null,this.dataChannel.onclose=null,this._dc=null),this._encodingQueue&&(this._encodingQueue.destroy(),this._encodingQueue.removeAllListeners(),this._encodingQueue=null),this.open&&(this._open=!1,super.emit("close"))}send(e,t){if(!this.open){super.emit("error",new Error("Connection is not open. You should listen for the `open` event before sending messages."));return}if(this.serialization==="json")this._bufferedSend(this.stringify(e));else if(this.serialization==="binary"||this.serialization==="binary-utf8"){const n=qn.pack(e);if(!t&&n.size>qn.chunkedMTU){this._sendChunks(n);return}this.provider.features.binaryBlob?this._bufferedSend(n):this._encodingQueue.enque(n)}else this._bufferedSend(e)}_bufferedSend(e){(this._buffering||!this._trySend(e))&&(this._buffer.push(e),this._bufferSize=this._buffer.length)}_trySend(e){if(!this.open)return!1;if(this.dataChannel.bufferedAmount>N_.MAX_BUFFERED_AMOUNT)return this._buffering=!0,setTimeout(()=>{this._buffering=!1,this._tryBuffer()},50),!1;try{this.dataChannel.send(e)}catch(t){return Ye.error(`DC#:${this.connectionId} Error when sending:`,t),this._buffering=!0,this.close(),!1}return!0}_tryBuffer(){if(!this.open||this._buffer.length===0)return;const e=this._buffer[0];this._trySend(e)&&(this._buffer.shift(),this._bufferSize=this._buffer.length,this._tryBuffer())}_sendChunks(e){const t=qn.chunk(e);Ye.log(`DC#${this.connectionId} Try to send ${t.length} chunks...`);for(let n of t)this.send(n,!0)}handleMessage(e){const t=e.payload;switch(e.type){case"ANSWER":this._negotiator.handleSDP(e.type,t.sdp);break;case"CANDIDATE":this._negotiator.handleCandidate(t.candidate);break;default:Ye.warn("Unrecognized message type:",e.type,"from peer:",this.peer);break}}},S0=N_;S0.ID_PREFIX="dc_";S0.MAX_BUFFERED_AMOUNT=8*1024*1024;var Uq=class{constructor(e){this._options=e}_request(e){var t,n;return((n=(t=this._options.polyfills)==null?void 0:t.fetch)!=null?n:window.fetch)(e)}_buildUrl(e){let n=(this._options.secure?"https://":"http://")+this._options.host+":"+this._options.port+this._options.path+this._options.key+"/"+e;const r="?ts="+new Date().getTime()+Math.random();return n+=r,n}retrieveId(){return Vu(this,null,function*(){const e=this._buildUrl("id");try{const t=yield this._request(e);if(t.status!==200)throw new Error(`Error. Status:${t.status}`);return t.text()}catch(t){Ye.error("Error retrieving ID",t);let n="";throw this._options.path==="/"&&this._options.host!==qn.CLOUD_HOST&&(n=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),new Error("Could not get an ID from the server."+n)}})}listAllPeers(){return Vu(this,null,function*(){const e=this._buildUrl("peers");try{const t=yield this._request(e);if(t.status!==200){if(t.status===401){let n="";throw this._options.host===qn.CLOUD_HOST?n="It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":n="You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.",new Error("It doesn't look like you have permission to list peers IDs. "+n)}throw new Error(`Error. Status:${t.status}`)}return t.json()}catch(t){throw Ye.error("Error retrieving list peers",t),new Error("Could not get list peers from the server."+t)}})}},Hq={isUnifiedPlanSupported(e){if(!e&&typeof window<"u"&&(e=window),typeof e.RTCRtpTransceiver>"u"||!("currentDirection"in e.RTCRtpTransceiver.prototype))return!1;let t,n=!1;try{t=new e.RTCPeerConnection,t.addTransceiver("audio"),n=!0}catch{}finally{t&&t.close()}return n}},Hl=class extends Oq.EventEmitter{constructor(e,t){super(),this._id=null,this._lastServerId=null,this._destroyed=!1,this._disconnected=!1,this._open=!1,this._connections=new Map,this._lostMessages=new Map;var n;let r;if(e&&e.constructor==Object?t=e:e&&(r=e.toString()),t=bx({debug:0,host:qn.CLOUD_HOST,port:qn.CLOUD_PORT,path:"/",key:Hl.DEFAULT_KEY,token:qn.randomToken(),config:qn.defaultConfig},t),this._options=t,typeof window<"u"&&this._options.host==="/"&&(this._options.host=window.location.hostname),this._options.path&&(this._options.path[0]!=="/"&&(this._options.path="/"+this._options.path),this._options.path[this._options.path.length-1]!=="/"&&(this._options.path+="/")),this._options.secure===void 0&&this._options.host!==qn.CLOUD_HOST?this._options.secure=qn.isSecure():this._options.host==qn.CLOUD_HOST&&(this._options.secure=!0),this._options.logFunction&&Ye.setLogFunction(this._options.logFunction),Ye.logLevel=this._options.debug||0,this._api=new Uq(t),this._socket=this._createServerConnection(),this.features=Hl.getFeatures((n=this._options.polyfills)==null?void 0:n.WebRTC),!this.features.audioVideo&&!this.features.data){this._delayedAbort("browser-incompatible","The current browser does not support WebRTC");return}if(r&&!qn.validateId(r)){this._delayedAbort("invalid-id",`ID "${r}" is invalid`);return}this.socket.alive=!0,r?this._initialize(r):this._api.retrieveId().then(i=>this._initialize(i)).catch(i=>this._abort("server-error",i))}get id(){return this._id}get options(){return this._options}get open(){return this._open}get socket(){return this._socket}get connections(){const e=Object.create(null);for(let[t,n]of this._connections)e[t]=n;return e}get destroyed(){return this._destroyed}get disconnected(){return this._disconnected}_createServerConnection(){const e=new Bq(this._options);return e.on("message",t=>{this._handleMessage(t)}),e.on("error",t=>{this._abort("socket-error",t)}),e.on("disconnected",()=>{this.disconnected||(this.emitError("network","Lost connection to server."),this.disconnect())}),e.on("close",()=>{this.disconnected||this._abort("socket-closed","Underlying socket is already closed.")}),e}_initialize(e){this.destroyed||(this._id=e,this.socket.start(e,this._options.token))}_handleMessage(e){const t=e.type,n=e.payload,r=e.src;switch(t){case"OPEN":this._lastServerId=this.id,this._open=!0,this.emit("open",this.id);break;case"ERROR":this._abort("server-error",n.msg);break;case"ID-TAKEN":this._abort("unavailable-id",`ID "${this.id}" is taken`);break;case"INVALID-KEY":this._abort("invalid-key",`API KEY "${this._options.key}" is invalid`);break;case"LEAVE":Ye.log(`Received leave message from ${r}`),this._cleanupPeer(r),this._connections.delete(r);break;case"EXPIRE":this.emitError("peer-unavailable",`Could not connect to peer ${r}`);break;case"OFFER":{const i=n.connectionId;let s=this.getConnection(r,i);if(s&&(s.close(),Ye.warn(`Offer received for existing Connection ID:${i}`)),n.type==="media")s=new L_(r,this,{connectionId:i,_payload:n,metadata:n.metadata}),this._addConnection(r,s),this.emit("call",s);else if(n.type==="data")s=new S0(r,this,{connectionId:i,_payload:n,metadata:n.metadata,label:n.label,serialization:n.serialization,reliable:n.reliable}),this._addConnection(r,s),this.emit("connection",s);else{Ye.warn(`Received malformed connection type:${n.type}`);return}const o=this._getMessages(i);for(let l of o)s.handleMessage(l);break}default:{if(!n){Ye.warn(`You received a malformed message from ${r} of type ${t}`);return}const i=n.connectionId,s=this.getConnection(r,i);s&&s.peerConnection?s.handleMessage(e):i?this._storeMessage(i,e):Ye.warn("You received an unrecognized message:",e);break}}}_storeMessage(e,t){this._lostMessages.has(e)||this._lostMessages.set(e,[]),this._lostMessages.get(e).push(t)}_getMessages(e){const t=this._lostMessages.get(e);return t?(this._lostMessages.delete(e),t):[]}connect(e,t={}){if(this.disconnected){Ye.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),this.emitError("disconnected","Cannot connect to new Peer after disconnecting from server.");return}const n=new S0(e,this,t);return this._addConnection(e,n),n}call(e,t,n={}){if(this.disconnected){Ye.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),this.emitError("disconnected","Cannot connect to new Peer after disconnecting from server.");return}if(!t){Ye.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.");return}n._stream=t;const r=new L_(e,this,n);return this._addConnection(e,r),r}_addConnection(e,t){Ye.log(`add connection ${t.type}:${t.connectionId} to peerId:${e}`),this._connections.has(e)||this._connections.set(e,[]),this._connections.get(e).push(t)}_removeConnection(e){const t=this._connections.get(e.peer);if(t){const n=t.indexOf(e);n!==-1&&(t.splice(n,1),t.length===0&&this._connections.delete(e.peer))}this._lostMessages.delete(e.connectionId)}getConnection(e,t){const n=this._connections.get(e);if(!n)return null;for(let r of n)if(r.connectionId===t)return r;return null}_delayedAbort(e,t){setTimeout(()=>{this._abort(e,t)},0)}_abort(e,t){Ye.error("Aborting!"),this.emitError(e,t),this._lastServerId?this.disconnect():this.destroy()}emitError(e,t){Ye.error("Error:",t);let n;typeof t=="string"?n=new Error(t):n=t,n.type=e,this.emit("error",n)}destroy(){this.destroyed||(Ye.log(`Destroy peer with ID:${this.id}`),this.disconnect(),this._cleanup(),this.socket.destroy(),this._destroyed=!0,this.emit("close"))}_cleanup(){for(let e of this._connections.keys())this._cleanupPeer(e),this._connections.delete(e);this.socket.removeAllListeners()}_cleanupPeer(e){const t=this._connections.get(e);if(t)for(let n of t)n.close()}disconnect(){if(this.disconnected)return;const e=this.id;Ye.log(`Disconnect peer with ID:${e}`),this._disconnected=!0,this._open=!1,this.socket.alive=!1,this.socket.close(),this._lastServerId=e,this._id=null,this.emit("disconnected",e)}reconnect(){if(this.disconnected&&!this.destroyed)Ye.log(`Attempting reconnection to server with ID ${this._lastServerId}`),this._disconnected=!1,this.socket.alive=!0,this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error("This peer cannot reconnect to the server. It has already been destroyed.");if(!this.disconnected&&!this.open)Ye.error("In a hurry? We're still trying to make the initial connection!");else throw new Error(`Peer ${this.id} cannot reconnect because it is not disconnected from the server!`)}}listAllPeers(e=t=>{}){this._api.listAllPeers().then(t=>e(t)).catch(t=>this._abort("server-error",t))}static getFeatures(e){return!e&&typeof window<"u"&&(e=window),Hl._features||(Hl._features=Hl.checkFeatures(e)),Hl._features}static checkFeatures(e){!e&&typeof window<"u"&&(e=window);const t={webRTC:typeof e.RTCPeerConnection<"u",audioVideo:!0,data:!1,binaryBlob:!1,reliable:!1,unifiedPlan:!1};if(!t.webRTC)return t;let n;try{n=new e.RTCPeerConnection(qn.defaultConfig);let r;try{r=n.createDataChannel("_PEERJSTEST",{ordered:!0}),t.data=!0,t.reliable=!!r.ordered;try{r.binaryType="blob",t.binaryBlob=!0}catch{}}catch{}finally{r&&r.close()}}catch{}finally{n&&n.close()}return t.unifiedPlan=Hq.isUnifiedPlanSupported(e),t}},Ev=Hl;Ev.DEFAULT_KEY="peerjs";typeof window<"u"&&(window.Peer=Ev);class Gq extends oo{constructor(){super(...arguments),this.name="PeerJS",this.peer=null,this.connectedPeers={},this.getCurrentPing=()=>0,this.disconnect=()=>{var t;(t=this.peer)==null||t.disconnect()}}connect(t,n,r){this.peer=new Ev(`allkaraoke-party-room-${t}`,kO),this.peer.on("open",function(i){n(),console.log("My peer ID is: "+i)}),this.peer.on("connection",i=>{this.connectedPeers[i.peer]=i,i.on("data",s=>{this.onUpdate(s,i)}),i.on("error",s=>console.warn("error",s)),i.on("iceStateChanged",s=>{(s==="disconnected"||s==="closed")&&(this.connectedPeers[i.peer]=i,this.onUpdate({t:"unregister"},i))}),i.on("close",()=>{delete this.connectedPeers[i.peer],Mt.removeRemoteMic(i.peer)})})}removePlayer(t){var n;(n=this.connectedPeers[t])==null||n.close()}}const OO="wss://allkaraoke-posthog.fly.dev";class qq extends oo{constructor(){super(),this.name="WebSockets",this.connection=null,this.disconnect=()=>{var t;(t=this.connection)==null||t.close()},this.latency=0,this.pingStart=bi(),this.pinging=!1,this.pingTimeout=null,this.ping=()=>{var t;this.pinging=!0,this.pingStart=bi(),(t=this.connection)==null||t.send(Ts({t:"ping"}))},this.onPong=()=>{this.pinging&&(this.latency=bi()-this.pingStart,this.pinging=!1,this.pingTimeout&&clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(this.ping,5e3))},this.getCurrentPing=()=>this.pinging?Math.max(this.latency,bi()-this.pingStart):this.latency}connect(t,n,r){this.connection=new WebSocket(OO),this.connection.binaryType="arraybuffer",this.connection.onopen=()=>{var i,s;(i=this.connection)==null||i.send(Ts({t:"register-room",id:t})),n(),this.ping(),(s=this.connection)==null||s.addEventListener("message",o=>{var d;const l=Ad(o.data);if(l.t==="forward"){["ping","pong","freq"].includes((d=l==null?void 0:l.payload)==null?void 0:d.t)||console.log("received",l);const{sender:c,payload:h}=l,f=new Wq(c,this.connection);this.onUpdate(h,f)}else l.t==="pong"?this.onPong():console.warn("Unknown message type",l)})},this.connection.onclose=i=>{r(i.reason,i)}}removePlayer(t){var n;(n=this.connection)==null||n.send(Ts({t:"remove-player",id:t}))}}class Wq{constructor(t,n){this.peer=t,this.socket=n,this.currentPing=0,this.send=r=>{const i={t:"forward",recipients:[this.peer],payload:r};["ping","pong","freq"].includes(r==null?void 0:r.t)||console.log("sending",this.peer,r),this.socket.send(Ts(i))},this.callbacksMap=new Map,this.on=(r,i)=>{r==="data"&&(this.callbacksMap.set(i,s=>{const o=Ad(s.data);if(o.t==="forward"){const{sender:l,payload:d}=o;l===this.peer&&i(d)}}),this.socket.addEventListener("message",this.callbacksMap.get(i)))},this.off=(r,i)=>{if(r==="data"){const s=this.callbacksMap.get(i);this.socket.removeEventListener("message",s),this.callbacksMap.delete(i)}},this.close=()=>{this.socket.close()}}}var Mm={exports:{}},Kq=Mm.exports,cI;function Yq(){return cI||(cI=1,function(e,t){(function(n,r){e.exports=r()})(Kq,function(){var n=1e3,r=6e4,i=36e5,s="millisecond",o="second",l="minute",d="hour",c="day",h="week",f="month",m="quarter",v="year",A="date",b="Invalid Date",x=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,E=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,I={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(U){var D=["th","st","nd","rd"],L=U%100;return"["+U+(D[(L-20)%10]||D[L]||D[0])+"]"}},P=function(U,D,L){var Y=String(U);return!Y||Y.length>=D?U:""+Array(D+1-Y.length).join(L)+U},T={s:P,z:function(U){var D=-U.utcOffset(),L=Math.abs(D),Y=Math.floor(L/60),q=L%60;return(D<=0?"+":"-")+P(Y,2,"0")+":"+P(q,2,"0")},m:function U(D,L){if(D.date()<L.date())return-U(L,D);var Y=12*(L.year()-D.year())+(L.month()-D.month()),q=D.clone().add(Y,f),Q=L-q<0,M=D.clone().add(Y+(Q?-1:1),f);return+(-(Y+(L-q)/(Q?q-M:M-q))||0)},a:function(U){return U<0?Math.ceil(U)||0:Math.floor(U)},p:function(U){return{M:f,y:v,w:h,d:c,D:A,h:d,m:l,s:o,ms:s,Q:m}[U]||String(U||"").toLowerCase().replace(/s$/,"")},u:function(U){return U===void 0}},w="en",R={};R[w]=I;var j="$isDayjsObject",V=function(U){return U instanceof H||!(!U||!U[j])},N=function U(D,L,Y){var q;if(!D)return w;if(typeof D=="string"){var Q=D.toLowerCase();R[Q]&&(q=Q),L&&(R[Q]=L,q=Q);var M=D.split("-");if(!q&&M.length>1)return U(M[0])}else{var z=D.name;R[z]=D,q=z}return!Y&&q&&(w=q),q||!Y&&w},k=function(U,D){if(V(U))return U.clone();var L=typeof D=="object"?D:{};return L.date=U,L.args=arguments,new H(L)},B=T;B.l=N,B.i=V,B.w=function(U,D){return k(U,{locale:D.$L,utc:D.$u,x:D.$x,$offset:D.$offset})};var H=function(){function U(L){this.$L=N(L.locale,null,!0),this.parse(L),this.$x=this.$x||L.x||{},this[j]=!0}var D=U.prototype;return D.parse=function(L){this.$d=function(Y){var q=Y.date,Q=Y.utc;if(q===null)return new Date(NaN);if(B.u(q))return new Date;if(q instanceof Date)return new Date(q);if(typeof q=="string"&&!/Z$/i.test(q)){var M=q.match(x);if(M){var z=M[2]-1||0,J=(M[7]||"0").substring(0,3);return Q?new Date(Date.UTC(M[1],z,M[3]||1,M[4]||0,M[5]||0,M[6]||0,J)):new Date(M[1],z,M[3]||1,M[4]||0,M[5]||0,M[6]||0,J)}}return new Date(q)}(L),this.init()},D.init=function(){var L=this.$d;this.$y=L.getFullYear(),this.$M=L.getMonth(),this.$D=L.getDate(),this.$W=L.getDay(),this.$H=L.getHours(),this.$m=L.getMinutes(),this.$s=L.getSeconds(),this.$ms=L.getMilliseconds()},D.$utils=function(){return B},D.isValid=function(){return this.$d.toString()!==b},D.isSame=function(L,Y){var q=k(L);return this.startOf(Y)<=q&&q<=this.endOf(Y)},D.isAfter=function(L,Y){return k(L)<this.startOf(Y)},D.isBefore=function(L,Y){return this.endOf(Y)<k(L)},D.$g=function(L,Y,q){return B.u(L)?this[Y]:this.set(q,L)},D.unix=function(){return Math.floor(this.valueOf()/1e3)},D.valueOf=function(){return this.$d.getTime()},D.startOf=function(L,Y){var q=this,Q=!!B.u(Y)||Y,M=B.p(L),z=function(Re,be){var Oe=B.w(q.$u?Date.UTC(q.$y,be,Re):new Date(q.$y,be,Re),q);return Q?Oe:Oe.endOf(c)},J=function(Re,be){return B.w(q.toDate()[Re].apply(q.toDate("s"),(Q?[0,0,0,0]:[23,59,59,999]).slice(be)),q)},ae=this.$W,W=this.$M,ye=this.$D,le="set"+(this.$u?"UTC":"");switch(M){case v:return Q?z(1,0):z(31,11);case f:return Q?z(1,W):z(0,W+1);case h:var me=this.$locale().weekStart||0,xe=(ae<me?ae+7:ae)-me;return z(Q?ye-xe:ye+(6-xe),W);case c:case A:return J(le+"Hours",0);case d:return J(le+"Minutes",1);case l:return J(le+"Seconds",2);case o:return J(le+"Milliseconds",3);default:return this.clone()}},D.endOf=function(L){return this.startOf(L,!1)},D.$set=function(L,Y){var q,Q=B.p(L),M="set"+(this.$u?"UTC":""),z=(q={},q[c]=M+"Date",q[A]=M+"Date",q[f]=M+"Month",q[v]=M+"FullYear",q[d]=M+"Hours",q[l]=M+"Minutes",q[o]=M+"Seconds",q[s]=M+"Milliseconds",q)[Q],J=Q===c?this.$D+(Y-this.$W):Y;if(Q===f||Q===v){var ae=this.clone().set(A,1);ae.$d[z](J),ae.init(),this.$d=ae.set(A,Math.min(this.$D,ae.daysInMonth())).$d}else z&&this.$d[z](J);return this.init(),this},D.set=function(L,Y){return this.clone().$set(L,Y)},D.get=function(L){return this[B.p(L)]()},D.add=function(L,Y){var q,Q=this;L=Number(L);var M=B.p(Y),z=function(W){var ye=k(Q);return B.w(ye.date(ye.date()+Math.round(W*L)),Q)};if(M===f)return this.set(f,this.$M+L);if(M===v)return this.set(v,this.$y+L);if(M===c)return z(1);if(M===h)return z(7);var J=(q={},q[l]=r,q[d]=i,q[o]=n,q)[M]||1,ae=this.$d.getTime()+L*J;return B.w(ae,this)},D.subtract=function(L,Y){return this.add(-1*L,Y)},D.format=function(L){var Y=this,q=this.$locale();if(!this.isValid())return q.invalidDate||b;var Q=L||"YYYY-MM-DDTHH:mm:ssZ",M=B.z(this),z=this.$H,J=this.$m,ae=this.$M,W=q.weekdays,ye=q.months,le=q.meridiem,me=function(be,Oe,Ze,Ue){return be&&(be[Oe]||be(Y,Q))||Ze[Oe].slice(0,Ue)},xe=function(be){return B.s(z%12||12,be,"0")},Re=le||function(be,Oe,Ze){var Ue=be<12?"AM":"PM";return Ze?Ue.toLowerCase():Ue};return Q.replace(E,function(be,Oe){return Oe||function(Ze){switch(Ze){case"YY":return String(Y.$y).slice(-2);case"YYYY":return B.s(Y.$y,4,"0");case"M":return ae+1;case"MM":return B.s(ae+1,2,"0");case"MMM":return me(q.monthsShort,ae,ye,3);case"MMMM":return me(ye,ae);case"D":return Y.$D;case"DD":return B.s(Y.$D,2,"0");case"d":return String(Y.$W);case"dd":return me(q.weekdaysMin,Y.$W,W,2);case"ddd":return me(q.weekdaysShort,Y.$W,W,3);case"dddd":return W[Y.$W];case"H":return String(z);case"HH":return B.s(z,2,"0");case"h":return xe(1);case"hh":return xe(2);case"a":return Re(z,J,!0);case"A":return Re(z,J,!1);case"m":return String(J);case"mm":return B.s(J,2,"0");case"s":return String(Y.$s);case"ss":return B.s(Y.$s,2,"0");case"SSS":return B.s(Y.$ms,3,"0");case"Z":return M}return null}(be)||M.replace(":","")})},D.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},D.diff=function(L,Y,q){var Q,M=this,z=B.p(Y),J=k(L),ae=(J.utcOffset()-this.utcOffset())*r,W=this-J,ye=function(){return B.m(M,J)};switch(z){case v:Q=ye()/12;break;case f:Q=ye();break;case m:Q=ye()/3;break;case h:Q=(W-ae)/6048e5;break;case c:Q=(W-ae)/864e5;break;case d:Q=W/i;break;case l:Q=W/r;break;case o:Q=W/n;break;default:Q=W}return q?Q:B.a(Q)},D.daysInMonth=function(){return this.endOf(f).$D},D.$locale=function(){return R[this.$L]},D.locale=function(L,Y){if(!L)return this.$L;var q=this.clone(),Q=N(L,Y,!0);return Q&&(q.$L=Q),q},D.clone=function(){return B.w(this.$d,this)},D.toDate=function(){return new Date(this.valueOf())},D.toJSON=function(){return this.isValid()?this.toISOString():null},D.toISOString=function(){return this.$d.toISOString()},D.toString=function(){return this.$d.toUTCString()},U}(),F=H.prototype;return k.prototype=F,[["$ms",s],["$s",o],["$m",l],["$H",d],["$W",c],["$M",f],["$y",v],["$D",A]].forEach(function(U){F[U[1]]=function(D){return this.$g(D,U[0],U[1])}}),k.extend=function(U,D){return U.$i||(U(D,H,k),U.$i=!0),k},k.locale=N,k.isDayjs=V,k.unix=function(U){return k(1e3*U)},k.en=R[w],k.Ls=R,k.p={},k})}(Mm)),Mm.exports}var Qq=Yq();const eo=Lr(Qq);function B_(e){return!!e}function Jq(e){return[...Array(e).keys()]}const Xq=250,u1=(e,t=0,n=1/0)=>e.filter(ln).filter(r=>ol([r])>=t).filter(r=>Th([r])<=n).reduce((r,i)=>r+i.notes.reduce((s,o)=>s+o.length,0),0),Zq=(e,t)=>{const[n,...r]=e.filter(ln),i=[[n]];return r.forEach(s=>{const o=i.at(-1),l=Th(o);(ol([s])-l)*t>Xq?i.push([s]):o.push(s)}),i},VO=(e,t)=>e+t,uI=e=>{const t=e.map(n=>n.reduce(VO,0));return Math.max(...t)-Math.min(...t)},eW=(e,t)=>{const n=JSON.parse(JSON.stringify(e)),r=s=>{if(n[s-1].length<2)return;const o=n[s-1].pop();n[s].push(o)},i=s=>{var d;if(((d=n[s+1])==null?void 0:d.length)<2)return;const[o,...l]=n[s+1];n[s].push(o),n[s+1]=l};return t%2===1?r(Math.ceil(t/2)):i(Math.ceil(t/2)),n},tW=e=>e.reduce(VO,0);function Sx(e,t){const r=Rd(t);if(e.sections.length<9)return[];const i=Zq(e.sections,r);let s=[],o=[u1(i[0])];for(let l=0;l<i.length-2;l++){const d=i[s.flat().length-1]??[],h=u1(e.sections,Th(d)??0)/(10-s.length),f=u1(i[l+1]),m=tW(o);m+f<h?o=[...o,f]:h-m<m+f-h?(s.push(o),o=[f]):(s.push([...o,f]),o=[])}for(let l=0;l<100;l++){const d=uI(s),c=Jq((s.length-2)*2+2).map(v=>eW(s,v)),h=c.map(uI),f=Math.min(...h);if(d<=f)break;const m=h.indexOf(f);s=c[m]}return s.map(l=>l.length).reduce((l,d)=>[...l,(l.at(-1)??0)+d],[]).map(l=>Th(i[l-1]))}var jm={exports:{}},nW=jm.exports,dI;function rW(){return dI||(dI=1,function(e,t){(function(n,r){e.exports=r()})(nW,function(){function n(r){return typeof r=="string"?r.replace(/[^A-Za-z0-9]/g,function(i){return n.characters[i]||i}):r}return n.characters={:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A","":"A",:"A","":"AA",:"AE",:"AE",:"AE","":"AO","":"AU","":"AV","":"AV","":"AY",:"B",:"B",:"B",:"B","":"B",:"B",:"C",:"C",:"C",:"C",:"C",:"C",:"C","":"C",:"D",:"D",:"D",:"D",:"D",:"D",:"D",:"D",:"D",:"D",:"D",:"D",:"DZ",:"DZ",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E","":"E",:"E",:"E","":"ET",:"F",:"F",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"H",:"H",:"H",:"H","":"H",:"H",:"H",:"H",:"H",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I","":"D","":"F","":"G","":"R","":"S","":"T","":"IS",:"J","":"J",:"K",:"K",:"K","":"K","":"K",:"K",:"K",:"K","":"K","":"K",:"L","":"L",:"L",:"L",:"L",:"L",:"L","":"L","":"L",:"L",:"L","":"L",:"L",:"L",:"LJ",:"M",:"M",:"M","":"M",:"N",:"N",:"N",:"N",:"N",:"N",:"N",:"N",:"N","":"N",:"N",:"N",:"NJ",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O","":"O","":"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"OI","":"OO",:"E",:"O",:"OU",:"P",:"P","":"P",:"P","":"P","":"P","":"P","":"Q","":"Q",:"R",:"R",:"R",:"R",:"R",:"R",:"R",:"R",:"R","":"R","":"R","":"C",:"E",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"ss",:"T",:"T",:"T",:"T","":"T",:"T",:"T",:"T",:"T",:"T",:"T","":"A","":"L",:"M","":"V","":"TZ",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U","":"V",:"V",:"V",:"V","":"VY",:"W",:"W",:"W",:"W",:"W",:"W","":"W",:"X",:"X",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y","":"Y",:"Y","":"Y",:"Y",:"YI",:"Z",:"Z",:"Z","":"Z",:"Z",:"Z",:"Z",:"Z",:"Z",:"TH",:"IJ",:"OE","":"A","":"AE",:"B","":"B","":"C","":"D","":"E","":"F",:"G",:"G",:"H",:"I",:"R","":"J","":"K",:"L","":"L","":"M",:"N","":"O",:"OE","":"O","":"OU","":"P",:"R","":"N","":"R","":"S","":"T","":"E","":"R","":"U","":"V","":"W",:"Y","":"Z",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a","":"a",:"a",:"a",:"a",:"a","":"a",:"a","":"aa",:"ae",:"ae",:"ae","":"ao","":"au","":"av","":"av","":"ay",:"b",:"b",:"b",:"b","":"b","":"b",:"b",:"b",:"o",:"c",:"c",:"c",:"c",:"c",:"c",:"c",:"c","":"c",:"d",:"d",:"d","":"d",:"d",:"d",:"d","":"d",:"d","":"d","":"d",:"d",:"d",:"d",:"d",:"i","":"j",:"j",:"j",:"dz",:"dz",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e","":"e",:"e","":"e","":"e",:"e",:"e","":"et",:"f",:"f","":"f","":"f",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"g","":"g",:"g",:"h",:"h",:"h",:"h","":"h",:"h",:"h",:"h",:"h",:"h",:"h",:"hv",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i","":"i",:"i",:"i",:"i",:"i","":"d","":"f","":"g","":"r","":"s","":"t","":"is",:"j",:"j",:"j","":"j",:"k",:"k",:"k","":"k","":"k",:"k",:"k",:"k","":"k","":"k","":"k",:"l",:"l",:"l",:"l",:"l",:"l","":"l",:"l",:"l","":"l","":"l",:"l",:"l",:"l","":"l",:"l",:"l",:"lj",:"s","":"s",:"s","":"s",:"m",:"m",:"m",:"m","":"m","":"m",:"n",:"n",:"n",:"n","":"n",:"n",:"n",:"n",:"n",:"n",:"n","":"n","":"n",:"n",:"n",:"nj",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o","":"o","":"o","":"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"oi","":"oo",:"e","":"e",:"o","":"o",:"ou",:"p",:"p","":"p",:"p","":"p","":"p","":"p","":"p","":"p","":"q",:"q","":"q","":"q",:"r",:"r",:"r",:"r",:"r",:"r",:"r",:"r","":"r",:"r",:"r",:"r","":"r","":"r","":"r",:"r","":"c","":"c",:"e",:"r",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"s","":"s","":"s","":"s",:"g","":"o","":"o","":"u",:"t",:"t",:"t",:"t","":"t",:"t","":"t",:"t",:"t",:"t",:"t","":"t",:"t",:"t",:"t","":"th",:"a","":"ae",:"e","":"g",:"h","":"h","":"h","":"i",:"k","":"l",:"m",:"m","":"oe",:"r",:"r",:"r","":"r",:"t",:"v",:"w",:"y","":"tz",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u","":"u",:"u",:"u",:"u",:"u","":"ue","":"um","":"v","":"v",:"v",:"v","":"v","":"v",:"v","":"vy",:"w",:"w",:"w",:"w",:"w",:"w","":"w",:"w",:"x",:"x","":"x",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y","":"y",:"y",:"y","":"y",:"y",:"yi",:"z",:"z",:"z",:"z","":"z",:"z",:"z",:"z",:"z","":"z","":"z",:"z",:"z","":"z",:"th",:"ff",:"ffi",:"ffl",:"fi",:"fl",:"ij",:"oe",:"st","":"a","":"e","":"i","":"j","":"o","":"r","":"u","":"v","":"x",:"YO",:"I",:"TS",:"U",:"K",:"E",:"N",:"G",:"G",:"SH",:"SCH",:"Z",:"H",:"'",:"yo",:"i",:"ts",:"u",:"k",:"e",:"n",:"g",:"g",:"sh",:"sch",:"z",:"h",:"'",:"F",:"I",:"V",:"a",:"P",:"R",:"O",:"L",:"D",:"ZH",:"E",:"f",:"i",:"v",:"a",:"p",:"r",:"o",:"l",:"d",:"zh",:"e",:"Ya",:"CH",:"S",:"M",:"I",:"T",:"'",:"B",:"YU",:"ya",:"ch",:"s",:"m",:"i",:"t",:"'",:"b",:"yu"},n})}(jm)),jm.exports}var iW=rW();const sW=Lr(iW),oW=/[^0-9a-z]/gi;function cd(e){return xx(e).toLowerCase().normalize("NFKD").replace(oW,"")}function xx(e){return sW(e)}function LO(e){return xx(e).toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+$/,"").replace(/^-+/,"").replace(/-+/g,"-")}function wx(e){return e.id?e.id:LO(`${e==null?void 0:e.artist}-${e==null?void 0:e.title}`)}const fI=(e,t,n)=>n>=e&&n<=t,hI=e=>e.notes.map(t=>t.lyrics).join(""),pI=e=>new Set(cd(e)).size,aW=(e,t)=>{const n=e.reduce((i,s)=>`${i}${hI(s)}`,""),r=hI(t);return pI(n)/pI(r)<.5},lW=(e,t)=>{const n=t.start,r=Ih(t),i=e.filter(o=>{const l=o.start,d=Ih(o);return fI(n,r,l)||fI(n,r,d)||l<=n&&d>=r}),s=aW(i,t);return{section:t,shouldReplace:i.length===0||s,sectionsToRemove:i}};function NO(e,t){if(e){if(e.length===1)return e[0]}else return e;const n=e.map(o=>o.sections.filter(ln)),r=n[1].map(o=>lW(n[0],o));let i=[...n[0]];r.forEach((o,l)=>{o.shouldReplace&&(i=i.filter(d=>!o.sectionsToRemove.some(c=>c.start===d.start)),i.push(o.section))});const s={...e[0],sections:i.sort((o,l)=>o.start-l.start),changes:[]};return s.changes=Sx(s,t),s}const gI={R:"rap",F:"freestyle","*":"star",":":"normal",G:"rapstar"},cW={rap:"R",freestyle:"F",star:"*",normal:":",rapstar:"G"},uW=["TRACKNAMES","YEAR","EDITION","GENRE","LANGUAGE","VIDEOGAP","PREVIEWSTART","CREATOR","TITLE","ARTIST","BPM","GAP","ID","LASTUPDATE","VOLUME","REALBPM","PREVIEWEND","CREATORURL","SOURCEURL","ARTISTORIGIN","VIDEOID","ALLKARAOKE_ID","ALLKARAOKE_LASTUPDATE","ALLKARAOKE_VOLUME","ALLKARAOKE_REALBPM","ALLKARAOKE_PREVIEWEND","ALLKARAOKE_CREATORURL","ALLKARAOKE_SOURCEURL","ALLKARAOKE_ARTISTORIGIN","ALLKARAOKE_VIDEOID"];function dW(e){return e.split(`
`).filter(t=>t.startsWith("#")&&!uW.includes(t.substring(1).split(":")[0]))}function _n(e,t,n="string"){const r=i=>{var l;const s=new RegExp(`#${i}\\:(.*)`),o=(l=e.match(s))==null?void 0:l[1];if(o!==void 0)return n==="number"?Number(o.replace(",","."))??0:n==="array"?o.split(", "):o.trim()};return t.map(r).filter(B_).at(0)}function fW(e){var r;const t=_n(e,["VIDEO"])??"",n=new RegExp("v=(.*?)(,|$)");return(r=t.match(n))==null?void 0:r[1]}const hW=/- -?\d+ -?\d+/;function mI(e){try{const t=new URL(e);return t.host==="youtu.be"?t.pathname.substring(1):t.host==="www.youtube.com"||t.host==="youtube.com"?t.searchParams.get("v"):null}catch{return null}}function pW(e,t){try{return JSON.parse(e)}catch{return t}}function gW(e){const t=_n(e,["P1"]),n=_n(e,["P2"]);return t||n?[t,n]:pW(_n(e,["TRACKNAMES"]),[])}function mW(e,t,n,r,i){var v,A;const s=gW(e),o={year:_n(e,["YEAR"]),artistOrigin:_n(e,["ALLKARAOKE_ARTISTORIGIN","ARTISTORIGIN"]),lastUpdate:_n(e,["ALLKARAOKE_LASTUPDATE","LASTUPDATE"]),edition:_n(e,["EDITION"]),genre:_n(e,["GENRE"]),videoGap:_n(e,["VIDEOGAP"],"number"),realBpm:_n(e,["ALLKARAOKE_REALBPM","REALBPM"],"number"),previewStart:_n(e,["PREVIEWSTART"],"number"),previewEnd:_n(e,["ALLKARAOKE_PREVIEWEND","PREVIEWEND"],"number"),volume:_n(e,["ALLKARAOKE_VOLUME","VOLUME"],"number"),author:_n(e,["CREATOR"])??n,authorUrl:_n(e,["ALLKARAOKE_CREATORURL","CREATORURL"])??r,sourceUrl:_n(e,["ALLKARAOKE_SOURCEURL","SOURCEURL"])??i};o.videoGap&&(o.videoGap=Math.floor(o.videoGap));const l=_n(e,["TITLE"])??"",d=_n(e,["ARTIST"])??"",c=_n(e,["ALLKARAOKE_VIDEOID","VIDEOID"])??mI(_n(e,["AUDIOURL"])??"")??mI(_n(e,["VIDEOURL"])??"")??fW(e)??"",h={id:_n(e,["ALLKARAOKE_ID","ID"])??wx({title:l,artist:d}),title:l,artist:d,video:c,language:_n(e,["LANGUAGE"],"array")??[],bpm:Number(((v=_n(e,["BPM"]))==null?void 0:v.replace(",","."))??0),bar:4,gap:Number(((A=_n(e,["GAP"]))==null?void 0:A.replace(",","."))??0),...o,tracks:[],unsupportedProps:dW(e),mergedTrack:{}};if((t==null?void 0:t.length)===11)h.video=t;else if(t)try{const b=new URL(t);h.video=b.searchParams.get("v")||"Invalid link"}catch(b){h.video=`Invalid link: ${b.message}`}let f=[],m=0;return e.split(`
`).forEach(b=>{if(b.startsWith("#"))return;const x=b.split(" ");if(Number(x[1])<m*.75&&f.length&&(s[h.tracks.length]?h.tracks.push({sections:f,name:s[h.tracks.length],changes:[]}):h.tracks.push({sections:f,changes:[]}),f=[]),hW.test(b)){const[,E,I]=x;f.push({start:Number(E),end:Number(I),type:"pause"}),f.push({start:Number(I),type:"notes",notes:[]}),m=Number(I)}else if(b.startsWith("-"))f.push({start:Number(b.split("-")[1].trim()),notes:[],type:"notes"});else if(Object.keys(gI).includes(b[0])){f.length===0&&(f=[{start:0,notes:[],type:"notes"}]);const E=f[f.length-1],[I,P,T,w,...R]=x;E.notes.push({type:gI[I]??"normal",start:Number(P),length:Number(T),pitch:Number(w),lyrics:R.join(" ")}),m=Number(x[1])}}),s[h.tracks.length]?h.tracks.push({sections:f,name:s[h.tracks.length],changes:[]}):h.tracks.push({sections:f,changes:[]}),h.tracks=h.tracks.map(b=>({...b,sections:b.sections.filter(x=>x.type==="pause"||x.notes.length),changes:[]})).map(b=>({...b,changes:Sx(b,h)})),h.mergedTrack=NO(h.tracks,h),h}const BO="CURRENT_VISIT_KEY",DO="LAST_VISIT_KEY",vW=3*60*60*1e3,Cv=Date.now();var p5;const d1=Number(((p5=ot.local)==null?void 0:p5.getItem(BO))??Cv);var g5;const FO=((g5=ot.local)==null?void 0:g5.getItem("posthog-user-id"))===null,yW=FO?Cv:1673642382501;var m5;let $O=Number(((m5=ot.local)==null?void 0:m5.getItem(DO))??yW);var v5;(FO||Cv-d1>vW)&&((v5=ot.local)==null||v5.setItem(DO,String(d1)),$O=d1);var y5;(y5=ot.local)==null||y5.setItem(BO,String(Cv));const AW=e=>cd(`${e.artist}${e.title}`),bW=({bar:e,unsupportedProps:t,mergedTrack:n,...r},i=!1)=>({...r,id:wx(r),language:Array.isArray(r.language)?r.language:[r.language],tracksCount:r.tracks.length,tracks:r.tracks.map(({name:s,sections:o})=>({name:s,start:ol(o)})),search:AW(r),local:i});let kf=null;async function Da(){if(!kf)if("localStorage"in globalThis)try{kf=Id(async()=>{const{default:e}=await Promise.resolve().then(()=>KO);return{default:e}},void 0).then(({default:e})=>e.createInstance({name:"songs_v2"}))}catch(e){console.error(e),kf=Promise.resolve(ot.memory)}else kf=Promise.resolve(ot.memory);return kf}const Fg="DELETED_SONGS_V2";class _W{constructor(){this.defaultIndex=null,this.finalIndex=null,this.indexWithDeletedSongs=null,this.store=async t=>{var n;await((n=await Da())==null?void 0:n.setItem(this.generateSongFile(t),{...t,lastUpdate:new Date().toISOString()})),await this.reloadIndex()},this.isOverridden=async t=>!!await this.getLocal(t),this.isBuiltIn=t=>{var n;return((n=this.defaultIndex)==null?void 0:n.some(r=>r.id===t))??!1},this.get=async t=>{const n=await this.getLocal(t);return n?{...n,local:!0}:await fetch(`/songs/${t}.txt`).then(r=>r.text()).then(mW).then(r=>({...r,local:!1}))},this.getIndex=async(t=!1)=>(this.finalIndex===null&&await this.reloadIndex(),t?this.indexWithDeletedSongs:this.finalIndex),this.getCurrentIndex=()=>this.finalIndex,this.getDeletedSongsList=async()=>{var n;return await((n=await Da())==null?void 0:n.getItem(Fg))??[]},this.generateSongFile=t=>wx(t),this.reloadIndex=async()=>{const[t,n,r]=await Promise.all([fetch("/songs/index.json").then(l=>l.json()),this.getLocalIndex(),this.getDeletedSongsList()]);this.defaultIndex=t;const i=eo($O),s=n.filter(l=>{const d=t.find(c=>c.id===l.id);return d?eo(l.lastUpdate??0).isAfter(eo(d.lastUpdate??0)):!0}),o=s.map(l=>l.id);n.forEach(async l=>{o.includes(l.id)||(await Da()).removeItem(l.id)}),this.indexWithDeletedSongs=[...s,...t.filter(l=>!o.includes(this.generateSongFile(l)))].map(l=>({...l,isNew:l.lastUpdate?eo(l.lastUpdate).isAfter(i):!1,isDeleted:r==null?void 0:r.includes(this.generateSongFile(l))})),this.indexWithDeletedSongs.sort((l,d)=>`${l.artist} ${l.title}`.localeCompare(`${d.artist} ${d.title}`.toLowerCase())),this.finalIndex=this.indexWithDeletedSongs.filter(l=>!l.isDeleted)},this.deleteSong=async t=>(await(await Da()).removeItem(t),this.reloadIndex()),this.softDeleteSong=async t=>{const n=await this.getDeletedSongsList();return await(await Da()).setItem(Fg,[...new Set([...n,t])]),this.reloadIndex()},this.restoreSong=async t=>{const n=await this.getDeletedSongsList();return await(await Da()).setItem(Fg,n.filter(r=>r!==t)),this.reloadIndex()},this.getLocal=async t=>{var r;const n=await((r=await Da())==null?void 0:r.getItem(decodeURIComponent(t)));return n&&n.tracks?{...n,language:Array.isArray(n.language)?n.language:[n.language],mergedTrack:NO(n.tracks,n),tracks:n.tracks.map(i=>({...i,changes:Sx(i,n)}))}:null},this.getLocalIndex=async()=>(await Promise.all((await this.getKeys()).map(this.getLocal))).filter(n=>n!==null).map(n=>{try{return bW(n,!0)}catch(r){return console.error(r),null}}).filter(n=>n!==null),this.getKeys=async()=>{const t=[Fg];return(await(await Da()).keys()).filter(n=>!t.includes(n))}}}const is=new _W,zO="room_id_key",ah=5,UO=e=>{ot.session.setItem(zO,e)};class SW{constructor(){var t;if(this.gameCode=ot.session.getItem(zO),this.started=!1,this.start=()=>{if(!this.transport){const n=h0.get();this.transport=n==="WebSockets"?new qq:n==="PartyKit"?new bq:new Gq}this.started||(this.started=!0,console.log("connection started",this.getGameCode()),UO(this.gameCode),this.transport.connect(this.getGameCode(),()=>{console.log("connected",this.getGameCode()),this.transport.addListener((n,r)=>{var s,o;const i=n.t;if(i==="register")Mt.addRemoteMic(n.id,n.name,r,n.silent,n.lag);else if(i==="unregister")Mt.removeRemoteMic(r.peer);else if(i==="subscribe-event")Mt.addSubscription(r.peer,n.channel);else if(i==="unsubscribe-event")Mt.removeSubscription(r.peer,n.channel);else if(i==="ping")r.send({t:"pong"});else if(i==="pong")(s=Mt.getRemoteMicById(r.peer))==null||s.onPong();else if(i==="request-songlist")Promise.all([is.getLocalIndex(),is.getDeletedSongsList()]).then(([l,d])=>{r.send({t:"songlist",custom:l.map(c=>({artist:c.artist,title:c.title,video:c.video,language:c.language,search:c.search})),deleted:d})});else if(i==="get-microphone-lag-request"){const l=Mt.getRemoteMicById(r.peer);l&&r.send({t:"get-microphone-lag-response",value:l.getInput().getInputLag()})}else if(i==="set-microphone-lag-request"){const l=Mt.getRemoteMicById(r.peer);l&&(l.getInput().setInputLag(n.value),r.send({t:"get-microphone-lag-response",value:l.getInput().getInputLag()}))}else Mt.getPermission(r.peer)==="write"&&(i==="keystroke"?ge.remoteKeyboardPressed.dispatch(n.key):i==="search-song"?ge.remoteSongSearch.dispatch(n.search):i==="select-song"?ge.remoteSongSelected.dispatch(n.id):i==="request-mic-select"?ge.playerChangeRequested.dispatch(n.id,n.playerNumber):i==="get-game-input-lag-request"?r.send({t:"get-game-input-lag-response",value:rh.get()}):i==="remove-player"?(o=this.transport)==null||o.removePlayer(n.id):i==="set-game-input-lag-request"&&(rh.set(n.value),r.send({t:"get-game-input-lag-response",value:rh.get()})))}),ge.micServerStarted.dispatch()},()=>{ge.micServerStopped.dispatch(),this.started=!1,setTimeout(this.start,1e3)}))},this.isStarted=()=>this.started,this.getLatency=()=>{var n;return((n=this.transport)==null?void 0:n.getCurrentPing())??0},this.getGameCode=()=>{const n=h0.get();return(n==="WebSockets"?"w":n==="PartyKit"?"k":"p")+this.gameCode},!this.gameCode){this.gameCode="";for(let n=0;n<ah-1;n++)this.gameCode+=String.fromCharCode(Math.floor(Math.random()*26)+97)}(t=global==null?void 0:global.addEventListener)==null||t.call(global,"beforeunload",()=>{var n;Mt.getRemoteMics().forEach(r=>r.connection.close()),(n=this.transport)==null||n.disconnect()})}}const cc=new SW,_c=e=>`${e.deviceId};${e.channel}`,vI=[{channels:2,channel:1,label:"Drawing Test Input",id:_c({deviceId:"default",channel:1}),deviceId:"default"}],Ql=class Ql{};Ql.inputName="DrawingTest",Ql.getDefault=()=>vI[0],Ql.getInputs=async()=>vI,Ql.subscribeToListChange=t=>{},Ql.unsubscribeToListChange=t=>{};let D_=Ql;const yI=[{channels:2,channel:0,label:"Dummy Input 1",id:_c({deviceId:"default",channel:0}),deviceId:"default"},{channels:2,channel:1,label:"Dummy Input 2",id:_c({deviceId:"default",channel:1}),deviceId:"default"}],Jl=class Jl{};Jl.inputName="Dummy",Jl.getDefault=()=>yI[0],Jl.getInputs=async()=>yI,Jl.subscribeToListChange=t=>{},Jl.unsubscribeToListChange=t=>{};let x0=Jl;var xW=Math.ceil,wW=Math.max;function EW(e,t,n,r){for(var i=-1,s=wW(xW((t-e)/(n||1)),0),o=Array(s);s--;)o[++i]=e,e+=n;return o}var CW=9007199254740991;function Ex(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=CW}function Cx(e){return e!=null&&Ex(e.length)&&!wO(e)}var kW=9007199254740991,TW=/^(?:0|[1-9]\d*)$/;function kx(e,t){var n=typeof e;return t=t??kW,!!t&&(n=="number"||n!="symbol"&&TW.test(e))&&e>-1&&e%1==0&&e<t}function IW(e,t,n){if(!ro(n))return!1;var r=typeof t;return(r=="number"?Cx(n)&&kx(t,n.length):r=="string"&&t in n)?Av(n[t],e):!1}var AI=1/0,RW=17976931348623157e292;function Om(e){if(!e)return e===0?e:0;if(e=V_(e),e===AI||e===-AI){var t=e<0?-1:1;return t*RW}return e===e?e:0}function PW(e){return function(t,n,r){return r&&typeof r!="number"&&IW(t,n,r)&&(n=r=void 0),t=Om(t),n===void 0?(n=t,t=0):n=Om(n),r=r===void 0?t<n?1:-1:Om(r),EW(t,n,r)}}var MW=PW();const F_={test:e=>e.toLowerCase().includes("wireless mic #")||e.toLowerCase().includes("sony wireless singstar"),map:(e,t)=>`SingStar Wireless - ${t===0?"Blue":"Red"}`},$_={test:e=>e.toLowerCase().includes("usbmic serial#")||e.toLowerCase().includes("singstar"),map:(e,t)=>`SingStar Wired - ${t===0?"Blue":"Red"}`},z_={test:(e,t,n)=>n===2&&e.toLowerCase().includes("singstar"),map:(e,t)=>`SingStar Mic - ${t===0?"Blue":"Red"}`},jW=(...[e,t,n])=>$_.test(e,t,n)||F_.test(e,t,n)||z_.test(e,t,n)?t:void 0,OW=(e,t,n)=>F_.test(e,t,n)?F_.map(e,t):$_.test(e,t,n)?$_.map(e,t):z_.test(e,t,n)?z_.map(e,t):n>1?`${e} (ch ${t+1})`:e,gs=class gs{};gs.inputList=[],gs.inputName="Microphone",gs.getDefault=()=>gs.inputList.find(t=>t.id===_c({deviceId:"default",channel:0}))??gs.inputList[0]??null,gs.getInputs=async()=>{let t=[];try{await rl.getUserMedia({audio:!0,video:!1}),t=await rl.enumerateDevices()}catch(r){Ps(r,{level:"warning",extra:{message:"Microphone.getInputs"}}),console.warn(r)}const n=await Promise.all(t.filter(r=>r.kind==="audioinput").map(async r=>{let i=1;try{i=(await rl.getUserMedia({audio:{deviceId:{exact:r.deviceId},echoCancellation:{exact:!1}},video:!1})).getAudioTracks()[0].getSettings().channelCount??1}catch(s){console.warn(s)}return MW(0,i).map(s=>({label:OW(r.label,s,i),channel:s,channels:i,deviceId:r.deviceId,id:_c({deviceId:r.deviceId,channel:s}),preferred:jW(r.label,s,i)}))}));return gs.inputList=n.flat(),gs.inputList},gs.subscribeToListChange=t=>navigator.mediaDevices.addEventListener("devicechange",t),gs.unsubscribeToListChange=t=>navigator.mediaDevices.removeEventListener("devicechange",t);let la=gs;const bI=e=>({label:`${e.name}`,id:_c({deviceId:e.id,channel:0}),deviceId:e.id,channels:1,channel:0}),Xl=class Xl{};Xl.inputName="Remote Microphone",Xl.getDefault=()=>Mt.getRemoteMics().map(bI)[0]??null,Xl.getInputs=async()=>Mt.getRemoteMics().map(bI),Xl.subscribeToListChange=t=>{ge.remoteMicConnected.subscribe(t),ge.remoteMicDisconnected.subscribe(t)},Xl.unsubscribeToListChange=t=>{ge.remoteMicConnected.unsubscribe(t),ge.remoteMicDisconnected.unsubscribe(t)};let pa=Xl;const VW=e=>`${e.deviceId};${e.channel}`;class LW{constructor(){this.initialiseInputSource=(t,n=!1)=>(n||t.getInputs().then(r=>{this.inputList[t.inputName].list=r,this.inputList[t.inputName].initialised=!0,ge.inputListChanged.dispatch(!0),t.subscribeToListChange(async()=>{this.inputList[t.inputName].list=await t.getInputs(),ge.inputListChanged.dispatch(!1)})}),{list:[],getDefault:t.getDefault,initialised:!1}),this.loadMics=()=>{this.inputList.Microphone.list.length||(this.inputList.Microphone=this.initialiseInputSource(la))},this.getInputList=()=>this.inputList,this.isPlayerInputInitialised=t=>this.inputList[t.source].initialised,this.getInputForPlayerSelected=(t,n=!0)=>{const r=this.inputList[t.source];return r.list.find(i=>i.id===VW(t))??(n?r.getDefault():null)},this.inputList={[la.inputName]:this.initialiseInputSource(la,!0),[x0.inputName]:this.initialiseInputSource(x0),[pa.inputName]:this.initialiseInputSource(pa)}}}const Ro=new LW,_I="playerselectedinputs",w0=4,X0=class X0{constructor(t,n,r){this.number=t,this.input=n,this.name=r,this.nameOverride="",this.changeInput=(i,s=0,o)=>{let l=null;tr.monitoringStarted()&&(l=tr.stopMonitoring());const d={source:i,deviceId:o,channel:s},c=this.input;this.input=d,ge.playerInputChanged.dispatch(this.number,c,d),l&&l.then(tr.startMonitoring)},this.toJSON=()=>({number:this.number,input:this.input,name:this.name}),this.getName=()=>this.nameOverride||(this.name??`Player #${this.number+1}`),this.isDefaultName=()=>this.name===void 0,this.setName=i=>{const s=this.name;this.name=i,ge.playerNameChanged.dispatch(this.number,s)}}};X0.fromJSON=t=>new X0(t.number,t.input,t.name);let Lu=X0;class NW{constructor(){this.minPlayerNumber=2,this.players=[],this.requestingPromise=null,this.storePlayers=()=>{ot.session.setItem(_I,this.getPlayers().map(n=>n.toJSON()))},this.requestReadiness=async()=>(this.requestingPromise||(this.requestingPromise=new Promise(n=>{const r=async()=>{!this.getPlayers().filter(s=>s.input.source==="Remote Microphone").some(s=>Ro.getInputForPlayerSelected(s.input,!1)===null)&&(await Promise.all(this.getPlayers().map(s=>tr.sourceNameToInput(s.input.source).requestReadiness(s.input.deviceId).then(()=>{ge.readinessConfirmed.dispatch(s.input.deviceId)}))),ge.inputListChanged.unsubscribe(r),this.requestingPromise=null,n(!0))};ge.inputListChanged.subscribe(r),r()})),this.requestingPromise),this.getPlayers=()=>this.players,this.getPlayer=n=>this.players.find(r=>r.number===n),this.getMinPlayerNumber=()=>this.minPlayerNumber,this.setMinPlayerNumber=n=>{const r=this.minPlayerNumber;this.minPlayerNumber=n,ge.minPlayerNumberChanged.dispatch(r,n)},this.addPlayer=n=>{if(ct.isPlaying()||this.getPlayer(n))return;const r=new Lu(n,{source:"Dummy",deviceId:"default",channel:0});return this.players.push(r),this.storePlayers(),ge.playerAdded.dispatch(r.number),ge.playerInputChanged.dispatch(r.number,void 0,r.input),r},this.removePlayer=n=>{if(ct.isPlaying())return;const r=this.getPlayer(n);r&&(this.players=this.players.filter(i=>i.number!==n),this.players.length<this.minPlayerNumber&&this.addPlayer(new Array(w0).fill(0).find((i,s)=>!this.players.find(o=>o.number===s))),this.storePlayers(),ge.playerRemoved.dispatch(r))},this.getInputs=()=>this.getPlayers().map(n=>n.input);const t=ot.session.getItem(_I)??[];t.length?(this.players=t.map(Lu.fromJSON),this.getPlayers().some(n=>n.input.source==="Microphone")&&Ro.loadMics(),this.getPlayers().some(n=>n.input.source==="Remote Microphone")&&cc.start()):this.players=[new Lu(0,{source:"Dummy",deviceId:"default",channel:0}),new Lu(1,{source:"Dummy",deviceId:"default",channel:1})],ge.playerInputChanged.subscribe((n,r,i)=>{const s=this.getPlayer(n);if(!(!i||!s)){if(i.source==="Remote Microphone"){const o=Mt.getRemoteMicById(i.deviceId);o&&(s.nameOverride=o.name)}else s.nameOverride="";this.storePlayers()}}),ge.playerNameChanged.subscribe(bO(this.storePlayers,1e3)),ge.remoteMicConnected.subscribe(({id:n,name:r})=>{this.getPlayers().forEach(i=>{i.input.source==="Remote Microphone"&&i.input.deviceId===n&&i.getName()!==r&&(i.nameOverride=r)})})}}const it=new NW;class BW{constructor(){this.isMonitoring=!1,this.getInputStatus=t=>{const n=it.getPlayer(t);return n?this.sourceNameToInput(n.input.source).getStatus(n.input.deviceId,n.input.channel):"unavailable"},this.getPlayerFrequency=t=>{var i;const n=(i=it.getPlayer(t))==null?void 0:i.input;return n?this.sourceNameToInput(n.source).getFrequencies(n.deviceId)[n.channel]:0},this.clearPlayerCachedFrequencies=t=>{var r;const n=(r=it.getPlayer(t))==null?void 0:r.input;if(!n)return 0;this.sourceNameToInput(n.source).clearFrequencies(n.deviceId)},this.getPlayerVolume=t=>{var i;const n=(i=it.getPlayer(t))==null?void 0:i.input;return n?this.sourceNameToInput(n.source).getVolumes(n.deviceId)[n.channel]:0},this.getPlayerInputLag=t=>{var r;const n=(r=it.getPlayer(t))==null?void 0:r.input;return n?this.sourceNameToInput(n.source).getInputLag(n.deviceId):0},this.startMonitoring=async()=>{const t=it.getPlayers().map(n=>n.input);await Promise.all(t.map(n=>this.sourceNameToInput(n.source).startMonitoring(n.deviceId,t))),this.isMonitoring=!0},this.stopMonitoring=async()=>{await Promise.all(it.getPlayers().map(t=>this.sourceNameToInput(t.input.source).stopMonitoring(t.input.deviceId))),this.isMonitoring=!1},this.monitoringStarted=()=>this.isMonitoring,this.sourceNameToInput=t=>t===la.inputName?WH:t===D_.inputName?C$:t===pa.inputName?YH:T$,ge.inputListChanged.subscribe(async()=>{this.isMonitoring&&(await this.stopMonitoring(),this.startMonitoring())})}}const tr=new BW;function HO(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=HO(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function Ja(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=HO(e))&&(r&&(r+=" "),r+=t);return r}const lh=e=>typeof e=="number"&&!isNaN(e),Sc=e=>typeof e=="string",Li=e=>typeof e=="function",Vm=e=>Sc(e)||Li(e)?e:null,f1=e=>S.isValidElement(e)||Sc(e)||Li(e)||lh(e);function DW(e,t,n){n===void 0&&(n=300);const{scrollHeight:r,style:i}=e;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)})})}function kv(e){let{enter:t,exit:n,appendPosition:r=!1,collapse:i=!0,collapseDuration:s=300}=e;return function(o){let{children:l,position:d,preventExitTransition:c,done:h,nodeRef:f,isIn:m}=o;const v=r?`${t}--${d}`:t,A=r?`${n}--${d}`:n,b=S.useRef(0);return S.useLayoutEffect(()=>{const x=f.current,E=v.split(" "),I=P=>{P.target===f.current&&(x.dispatchEvent(new Event("d")),x.removeEventListener("animationend",I),x.removeEventListener("animationcancel",I),b.current===0&&P.type!=="animationcancel"&&x.classList.remove(...E))};x.classList.add(...E),x.addEventListener("animationend",I),x.addEventListener("animationcancel",I)},[]),S.useEffect(()=>{const x=f.current,E=()=>{x.removeEventListener("animationend",E),i?DW(x,h,s):h()};m||(c?E():(b.current=1,x.className+=` ${A}`,x.addEventListener("animationend",E)))},[m]),Xe.createElement(Xe.Fragment,null,l)}}function SI(e,t){return e!=null?{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}:{}}const vs={list:new Map,emitQueue:new Map,on(e,t){return this.list.has(e)||this.list.set(e,[]),this.list.get(e).push(t),this},off(e,t){if(t){const n=this.list.get(e).filter(r=>r!==t);return this.list.set(e,n),this}return this.list.delete(e),this},cancelEmit(e){const t=this.emitQueue.get(e);return t&&(t.forEach(clearTimeout),this.emitQueue.delete(e)),this},emit(e){this.list.has(e)&&this.list.get(e).forEach(t=>{const n=setTimeout(()=>{t(...[].slice.call(arguments,1))},0);this.emitQueue.has(e)||this.emitQueue.set(e,[]),this.emitQueue.get(e).push(n)})}},$g=e=>{let{theme:t,type:n,...r}=e;return Xe.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...r})},h1={info:function(e){return Xe.createElement($g,{...e},Xe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return Xe.createElement($g,{...e},Xe.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return Xe.createElement($g,{...e},Xe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return Xe.createElement($g,{...e},Xe.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return Xe.createElement("div",{className:"Toastify__spinner"})}};function FW(e){const[,t]=S.useReducer(v=>v+1,0),[n,r]=S.useState([]),i=S.useRef(null),s=S.useRef(new Map).current,o=v=>n.indexOf(v)!==-1,l=S.useRef({toastKey:1,displayedToast:0,count:0,queue:[],props:e,containerId:null,isToastActive:o,getToast:v=>s.get(v)}).current;function d(v){let{containerId:A}=v;const{limit:b}=l.props;!b||A&&l.containerId!==A||(l.count-=l.queue.length,l.queue=[])}function c(v){r(A=>v==null?[]:A.filter(b=>b!==v))}function h(){const{toastContent:v,toastProps:A,staleId:b}=l.queue.shift();m(v,A,b)}function f(v,A){let{delay:b,staleId:x,...E}=A;if(!f1(v)||function(H){return!i.current||l.props.enableMultiContainer&&H.containerId!==l.props.containerId||s.has(H.toastId)&&H.updateId==null}(E))return;const{toastId:I,updateId:P,data:T}=E,{props:w}=l,R=()=>c(I),j=P==null;j&&l.count++;const V={...w,style:w.toastStyle,key:l.toastKey++,...Object.fromEntries(Object.entries(E).filter(H=>{let[F,U]=H;return U!=null})),toastId:I,updateId:P,data:T,closeToast:R,isIn:!1,className:Vm(E.className||w.toastClassName),bodyClassName:Vm(E.bodyClassName||w.bodyClassName),progressClassName:Vm(E.progressClassName||w.progressClassName),autoClose:!E.isLoading&&(N=E.autoClose,k=w.autoClose,N===!1||lh(N)&&N>0?N:k),deleteToast(){const H=SI(s.get(I),"removed");s.delete(I),vs.emit(4,H);const F=l.queue.length;if(l.count=I==null?l.count-l.displayedToast:l.count-1,l.count<0&&(l.count=0),F>0){const U=I==null?l.props.limit:1;if(F===1||U===1)l.displayedToast++,h();else{const D=U>F?F:U;l.displayedToast=D;for(let L=0;L<D;L++)h()}}else t()}};var N,k;V.iconOut=function(H){let{theme:F,type:U,isLoading:D,icon:L}=H,Y=null;const q={theme:F,type:U};return L===!1||(Li(L)?Y=L(q):S.isValidElement(L)?Y=S.cloneElement(L,q):Sc(L)||lh(L)?Y=L:D?Y=h1.spinner():(Q=>Q in h1)(U)&&(Y=h1[U](q))),Y}(V),Li(E.onOpen)&&(V.onOpen=E.onOpen),Li(E.onClose)&&(V.onClose=E.onClose),V.closeButton=w.closeButton,E.closeButton===!1||f1(E.closeButton)?V.closeButton=E.closeButton:E.closeButton===!0&&(V.closeButton=!f1(w.closeButton)||w.closeButton);let B=v;S.isValidElement(v)&&!Sc(v.type)?B=S.cloneElement(v,{closeToast:R,toastProps:V,data:T}):Li(v)&&(B=v({closeToast:R,toastProps:V,data:T})),w.limit&&w.limit>0&&l.count>w.limit&&j?l.queue.push({toastContent:B,toastProps:V,staleId:x}):lh(b)?setTimeout(()=>{m(B,V,x)},b):m(B,V,x)}function m(v,A,b){const{toastId:x}=A;b&&s.delete(b);const E={content:v,props:A};s.set(x,E),r(I=>[...I,x].filter(P=>P!==b)),vs.emit(4,SI(E,E.props.updateId==null?"added":"updated"))}return S.useEffect(()=>(l.containerId=e.containerId,vs.cancelEmit(3).on(0,f).on(1,v=>i.current&&c(v)).on(5,d).emit(2,l),()=>{s.clear(),vs.emit(3,l)}),[]),S.useEffect(()=>{l.props=e,l.isToastActive=o,l.displayedToast=n.length}),{getToastToRender:function(v){const A=new Map,b=Array.from(s.values());return e.newestOnTop&&b.reverse(),b.forEach(x=>{const{position:E}=x.props;A.has(E)||A.set(E,[]),A.get(E).push(x)}),Array.from(A,x=>v(x[0],x[1]))},containerRef:i,isToastActive:o}}function xI(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}function wI(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}function $W(e){const[t,n]=S.useState(!1),[r,i]=S.useState(!1),s=S.useRef(null),o=S.useRef({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,l=S.useRef(e),{autoClose:d,pauseOnHover:c,closeToast:h,onClick:f,closeOnClick:m}=e;function v(T){if(e.draggable){T.nativeEvent.type==="touchstart"&&T.nativeEvent.preventDefault(),o.didMove=!1,document.addEventListener("mousemove",E),document.addEventListener("mouseup",I),document.addEventListener("touchmove",E),document.addEventListener("touchend",I);const w=s.current;o.canCloseOnClick=!0,o.canDrag=!0,o.boundingRect=w.getBoundingClientRect(),w.style.transition="",o.x=xI(T.nativeEvent),o.y=wI(T.nativeEvent),e.draggableDirection==="x"?(o.start=o.x,o.removalDistance=w.offsetWidth*(e.draggablePercent/100)):(o.start=o.y,o.removalDistance=w.offsetHeight*(e.draggablePercent===80?1.5*e.draggablePercent:e.draggablePercent/100))}}function A(T){if(o.boundingRect){const{top:w,bottom:R,left:j,right:V}=o.boundingRect;T.nativeEvent.type!=="touchend"&&e.pauseOnHover&&o.x>=j&&o.x<=V&&o.y>=w&&o.y<=R?x():b()}}function b(){n(!0)}function x(){n(!1)}function E(T){const w=s.current;o.canDrag&&w&&(o.didMove=!0,t&&x(),o.x=xI(T),o.y=wI(T),o.delta=e.draggableDirection==="x"?o.x-o.start:o.y-o.start,o.start!==o.x&&(o.canCloseOnClick=!1),w.style.transform=`translate${e.draggableDirection}(${o.delta}px)`,w.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function I(){document.removeEventListener("mousemove",E),document.removeEventListener("mouseup",I),document.removeEventListener("touchmove",E),document.removeEventListener("touchend",I);const T=s.current;if(o.canDrag&&o.didMove&&T){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return i(!0),void e.closeToast();T.style.transition="transform 0.2s, opacity 0.2s",T.style.transform=`translate${e.draggableDirection}(0)`,T.style.opacity="1"}}S.useEffect(()=>{l.current=e}),S.useEffect(()=>(s.current&&s.current.addEventListener("d",b,{once:!0}),Li(e.onOpen)&&e.onOpen(S.isValidElement(e.children)&&e.children.props),()=>{const T=l.current;Li(T.onClose)&&T.onClose(S.isValidElement(T.children)&&T.children.props)}),[]),S.useEffect(()=>(e.pauseOnFocusLoss&&(document.hasFocus()||x(),window.addEventListener("focus",b),window.addEventListener("blur",x)),()=>{e.pauseOnFocusLoss&&(window.removeEventListener("focus",b),window.removeEventListener("blur",x))}),[e.pauseOnFocusLoss]);const P={onMouseDown:v,onTouchStart:v,onMouseUp:A,onTouchEnd:A};return d&&c&&(P.onMouseEnter=x,P.onMouseLeave=b),m&&(P.onClick=T=>{f&&f(T),o.canCloseOnClick&&h()}),{playToast:b,pauseToast:x,isRunning:t,preventExitTransition:r,toastRef:s,eventHandlers:P}}function GO(e){let{closeToast:t,theme:n,ariaLabel:r="close"}=e;return Xe.createElement("button",{className:`Toastify__close-button Toastify__close-button--${n}`,type:"button",onClick:i=>{i.stopPropagation(),t(i)},"aria-label":r},Xe.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Xe.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function zW(e){let{delay:t,isRunning:n,closeToast:r,type:i="default",hide:s,className:o,style:l,controlledProgress:d,progress:c,rtl:h,isIn:f,theme:m}=e;const v=s||d&&c===0,A={...l,animationDuration:`${t}ms`,animationPlayState:n?"running":"paused",opacity:v?0:1};d&&(A.transform=`scaleX(${c})`);const b=Ja("Toastify__progress-bar",d?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${m}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":h}),x=Li(o)?o({rtl:h,type:i,defaultClassName:b}):Ja(b,o);return Xe.createElement("div",{role:"progressbar","aria-hidden":v?"true":"false","aria-label":"notification timer",className:x,style:A,[d&&c>=1?"onTransitionEnd":"onAnimationEnd"]:d&&c<1?null:()=>{f&&r()}})}const UW=e=>{const{isRunning:t,preventExitTransition:n,toastRef:r,eventHandlers:i}=$W(e),{closeButton:s,children:o,autoClose:l,onClick:d,type:c,hideProgressBar:h,closeToast:f,transition:m,position:v,className:A,style:b,bodyClassName:x,bodyStyle:E,progressClassName:I,progressStyle:P,updateId:T,role:w,progress:R,rtl:j,toastId:V,deleteToast:N,isIn:k,isLoading:B,iconOut:H,closeOnClick:F,theme:U}=e,D=Ja("Toastify__toast",`Toastify__toast-theme--${U}`,`Toastify__toast--${c}`,{"Toastify__toast--rtl":j},{"Toastify__toast--close-on-click":F}),L=Li(A)?A({rtl:j,position:v,type:c,defaultClassName:D}):Ja(D,A),Y=!!R||!l,q={closeToast:f,type:c,theme:U};let Q=null;return s===!1||(Q=Li(s)?s(q):S.isValidElement(s)?S.cloneElement(s,q):GO(q)),Xe.createElement(m,{isIn:k,done:N,position:v,preventExitTransition:n,nodeRef:r},Xe.createElement("div",{id:V,onClick:d,className:L,...i,style:b,ref:r},Xe.createElement("div",{...k&&{role:w},className:Li(x)?x({type:c}):Ja("Toastify__toast-body",x),style:E},H!=null&&Xe.createElement("div",{className:Ja("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!B})},H),Xe.createElement("div",null,o)),Q,Xe.createElement(zW,{...T&&!Y?{key:`pb-${T}`}:{},rtl:j,theme:U,delay:l,isRunning:t,isIn:k,closeToast:f,hide:h,type:c,style:P,className:I,controlledProgress:Y,progress:R||0})))},Tv=function(e,t){return t===void 0&&(t=!1),{enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}},HW=kv(Tv("bounce",!0));kv(Tv("slide",!0));kv(Tv("zoom"));kv(Tv("flip"));const U_=S.forwardRef((e,t)=>{const{getToastToRender:n,containerRef:r,isToastActive:i}=FW(e),{className:s,style:o,rtl:l,containerId:d}=e;function c(h){const f=Ja("Toastify__toast-container",`Toastify__toast-container--${h}`,{"Toastify__toast-container--rtl":l});return Li(s)?s({position:h,rtl:l,defaultClassName:f}):Ja(f,Vm(s))}return S.useEffect(()=>{t&&(t.current=r.current)},[]),Xe.createElement("div",{ref:r,className:"Toastify",id:d},n((h,f)=>{const m=f.length?{...o}:{...o,pointerEvents:"none"};return Xe.createElement("div",{className:c(h),style:m,key:`container-${h}`},f.map((v,A)=>{let{content:b,props:x}=v;return Xe.createElement(UW,{...x,isIn:i(x.toastId),style:{...x.style,"--nth":A+1,"--len":f.length},key:`toast-${x.key}`},b)}))}))});U_.displayName="ToastContainer",U_.defaultProps={position:"top-right",transition:HW,autoClose:5e3,closeButton:GO,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let p1,Gl=new Map,Gf=[],GW=1;function qO(){return""+GW++}function qW(e){return e&&(Sc(e.toastId)||lh(e.toastId))?e.toastId:qO()}function ch(e,t){return Gl.size>0?vs.emit(0,e,t):Gf.push({content:e,options:t}),t.toastId}function E0(e,t){return{...t,type:t&&t.type||e,toastId:qW(t)}}function zg(e){return(t,n)=>ch(t,E0(e,n))}function bn(e,t){return ch(e,E0("default",t))}bn.loading=(e,t)=>ch(e,E0("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),bn.promise=function(e,t,n){let r,{pending:i,error:s,success:o}=t;i&&(r=Sc(i)?bn.loading(i,n):bn.loading(i.render,{...n,...i}));const l={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},d=(h,f,m)=>{if(f==null)return void bn.dismiss(r);const v={type:h,...l,...n,data:m},A=Sc(f)?{render:f}:f;return r?bn.update(r,{...v,...A}):bn(A.render,{...v,...A}),m},c=Li(e)?e():e;return c.then(h=>d("success",o,h)).catch(h=>d("error",s,h)),c},bn.success=zg("success"),bn.info=zg("info"),bn.error=zg("error"),bn.warning=zg("warning"),bn.warn=bn.warning,bn.dark=(e,t)=>ch(e,E0("default",{theme:"dark",...t})),bn.dismiss=e=>{Gl.size>0?vs.emit(1,e):Gf=Gf.filter(t=>e!=null&&t.options.toastId!==e)},bn.clearWaitingQueue=function(e){return e===void 0&&(e={}),vs.emit(5,e)},bn.isActive=e=>{let t=!1;return Gl.forEach(n=>{n.isToastActive&&n.isToastActive(e)&&(t=!0)}),t},bn.update=function(e,t){t===void 0&&(t={}),setTimeout(()=>{const n=function(r,i){let{containerId:s}=i;const o=Gl.get(s||p1);return o&&o.getToast(r)}(e,t);if(n){const{props:r,content:i}=n,s={delay:100,...r,...t,toastId:t.toastId||e,updateId:qO()};s.toastId!==e&&(s.staleId=e);const o=s.render||i;delete s.render,ch(o,s)}},0)},bn.done=e=>{bn.update(e,{progress:1})},bn.onChange=e=>(vs.on(4,e),()=>{vs.off(4,e)}),bn.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},bn.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},vs.on(2,e=>{p1=e.containerId||e,Gl.set(p1,e),Gf.forEach(t=>{vs.emit(0,t.content,t.options)}),Gf=[]}).on(3,e=>{Gl.delete(e.containerId||e),Gl.size===0&&vs.off(0).off(1).off(5)});ge.playerRemoved.subscribe(e=>{if(e.input.source===pa.inputName){const t=Mt.getRemoteMicById(e.input.deviceId);t&&t.setPlayerNumber(null)}});ge.playerInputChanged.subscribe((e,t,n)=>{var r;if((t==null?void 0:t.source)===pa.inputName){const i=(r=it.getPlayers().find(o=>o.input.source==="Remote Microphone"&&o.input.deviceId===t.deviceId))==null?void 0:r.number,s=Mt.getRemoteMicById(t.deviceId);s==null||s.setPlayerNumber(i!==void 0?i:null)}if((n==null?void 0:n.source)==="Remote Microphone"){const i=Mt.getRemoteMicById(n.deviceId);i==null||i.setPlayerNumber(e)}});ge.remoteMicConnected.subscribe(({id:e})=>{var n,r;const t=(n=it.getPlayers().find(i=>i.input.source==="Remote Microphone"&&i.input.deviceId===e))==null?void 0:n.number;if(t!==void 0){const i=Mt.getRemoteMicById(e);i==null||i.setPlayerNumber(t),tr.monitoringStarted()&&((r=i==null?void 0:i.getInput())==null||r.startMonitoring())}});ge.playerChangeRequested.subscribe((e,t)=>{var r;const n=it.getPlayers().find(i=>i.input.deviceId===e);if(n&&it.removePlayer(n.number),t!==null){const i=it.getPlayer(t);i?i.changeInput("Remote Microphone",0,e):(r=it.addPlayer(t))==null||r.changeInput("Remote Microphone",0,e)}});ge.remoteMicConnected.subscribe(({name:e,id:t,silent:n})=>{n||bn.success(p.jsxs(p.Fragment,{children:["Remote microphone ",p.jsx("b",{className:"ph-no-capture",children:e})," connected!"]}),{toastId:`connection-status-${t}`,updateId:`connection-status-${t}`})});ge.remoteMicDisconnected.subscribe(({name:e,id:t},n)=>{n||bn.warning(p.jsxs(p.Fragment,{children:["Remote microphone ",p.jsx("b",{className:"ph-no-capture",children:e})," disconnected!"]}),{toastId:`connection-status-${t}`,updateId:`connection-status-${t}`})});const Tx=()=>{const e=Mt.getRemoteMics().map(t=>{var n;return{id:t.id,name:t.name,number:((n=it.getPlayers().find(r=>r.input.deviceId===t.id))==null?void 0:n.number)??null}});Mt.broadcastToChannel("remote-mics",{t:"remote-mics-list",list:e})};ge.inputListChanged.subscribe(Tx);ge.playerInputChanged.subscribe(Tx);ge.remoteMicSubscribed.subscribe(Tx);const WO=e=>({artist:t,title:n,id:r,lastUpdate:i},s,o=[],l)=>{var h;const d=o.length>1&&o.every(f=>f.score===o[0].score),c={};if(it.getPlayers().forEach((f,m)=>c[`input${m}`]=f.input.source),e==="songEnded")try{const f=(h=ct.getPlayer(0))==null?void 0:h.getPlayerNotes().filter(v=>_0(v)===0).map(v=>v.frequencyRecords).flat().map(v=>[v.timestamp,v.frequency]).map((v,A,b)=>{var x,E;return[v[0]-(((x=b[A-1])==null?void 0:x[0])??0),v[1]-(((E=b[A-1])==null?void 0:E[1])??0)]}).map(v=>[Math.round(v[0]*100),Math.round(v[1]*100)]).map(v=>v[1]===0?v[0]:v),m=Yj(f);console.log("compressed",m)}catch(f){Ps(f)}lr.capture(e,{songId:r,songLastUpdated:i,name:`${t} - ${n}`,artist:t,title:n,mode:s.mode,tolerance:s.tolerance,players:s.players.length,tracks:s.players.map(f=>f.track),progress:l??null,singId:s.id,sameScores:d,mobilePhoneMode:!!Qr.get(),...c,...o.reduce((f,m,v)=>({...f,[`score${v}`]:m.score}),{}),...s.players.reduce((f,m,v)=>({...f,[`track${v}`]:m.track}),{})})};ge.songStarted.subscribe(WO("songStarted"));ge.songEnded.subscribe(WO("songEnded"));function Ug(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var g1={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/var EI;function WW(){return EI||(EI=1,function(e,t){(function(n){e.exports=n()})(function(){return function n(r,i,s){function o(c,h){if(!i[c]){if(!r[c]){var f=typeof Ug=="function"&&Ug;if(!h&&f)return f(c,!0);if(l)return l(c,!0);var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m}var v=i[c]={exports:{}};r[c][0].call(v.exports,function(A){var b=r[c][1][A];return o(b||A)},v,v.exports,n,r,i,s)}return i[c].exports}for(var l=typeof Ug=="function"&&Ug,d=0;d<s.length;d++)o(s[d]);return o}({1:[function(n,r,i){(function(s){var o=s.MutationObserver||s.WebKitMutationObserver,l;if(o){var d=0,c=new o(A),h=s.document.createTextNode("");c.observe(h,{characterData:!0}),l=function(){h.data=d=++d%2}}else if(!s.setImmediate&&typeof s.MessageChannel<"u"){var f=new s.MessageChannel;f.port1.onmessage=A,l=function(){f.port2.postMessage(0)}}else"document"in s&&"onreadystatechange"in s.document.createElement("script")?l=function(){var x=s.document.createElement("script");x.onreadystatechange=function(){A(),x.onreadystatechange=null,x.parentNode.removeChild(x),x=null},s.document.documentElement.appendChild(x)}:l=function(){setTimeout(A,0)};var m,v=[];function A(){m=!0;for(var x,E,I=v.length;I;){for(E=v,v=[],x=-1;++x<I;)E[x]();I=v.length}m=!1}r.exports=b;function b(x){v.push(x)===1&&!m&&l()}}).call(this,typeof pg<"u"?pg:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(n,r,i){var s=n(1);function o(){}var l={},d=["REJECTED"],c=["FULFILLED"],h=["PENDING"];r.exports=f;function f(w){if(typeof w!="function")throw new TypeError("resolver must be a function");this.state=h,this.queue=[],this.outcome=void 0,w!==o&&b(this,w)}f.prototype.catch=function(w){return this.then(null,w)},f.prototype.then=function(w,R){if(typeof w!="function"&&this.state===c||typeof R!="function"&&this.state===d)return this;var j=new this.constructor(o);if(this.state!==h){var V=this.state===c?w:R;v(j,V,this.outcome)}else this.queue.push(new m(j,w,R));return j};function m(w,R,j){this.promise=w,typeof R=="function"&&(this.onFulfilled=R,this.callFulfilled=this.otherCallFulfilled),typeof j=="function"&&(this.onRejected=j,this.callRejected=this.otherCallRejected)}m.prototype.callFulfilled=function(w){l.resolve(this.promise,w)},m.prototype.otherCallFulfilled=function(w){v(this.promise,this.onFulfilled,w)},m.prototype.callRejected=function(w){l.reject(this.promise,w)},m.prototype.otherCallRejected=function(w){v(this.promise,this.onRejected,w)};function v(w,R,j){s(function(){var V;try{V=R(j)}catch(N){return l.reject(w,N)}V===w?l.reject(w,new TypeError("Cannot resolve promise with itself")):l.resolve(w,V)})}l.resolve=function(w,R){var j=x(A,R);if(j.status==="error")return l.reject(w,j.value);var V=j.value;if(V)b(w,V);else{w.state=c,w.outcome=R;for(var N=-1,k=w.queue.length;++N<k;)w.queue[N].callFulfilled(R)}return w},l.reject=function(w,R){w.state=d,w.outcome=R;for(var j=-1,V=w.queue.length;++j<V;)w.queue[j].callRejected(R);return w};function A(w){var R=w&&w.then;if(w&&(typeof w=="object"||typeof w=="function")&&typeof R=="function")return function(){R.apply(w,arguments)}}function b(w,R){var j=!1;function V(H){j||(j=!0,l.reject(w,H))}function N(H){j||(j=!0,l.resolve(w,H))}function k(){R(N,V)}var B=x(k);B.status==="error"&&V(B.value)}function x(w,R){var j={};try{j.value=w(R),j.status="success"}catch(V){j.status="error",j.value=V}return j}f.resolve=E;function E(w){return w instanceof this?w:l.resolve(new this(o),w)}f.reject=I;function I(w){var R=new this(o);return l.reject(R,w)}f.all=P;function P(w){var R=this;if(Object.prototype.toString.call(w)!=="[object Array]")return this.reject(new TypeError("must be an array"));var j=w.length,V=!1;if(!j)return this.resolve([]);for(var N=new Array(j),k=0,B=-1,H=new this(o);++B<j;)F(w[B],B);return H;function F(U,D){R.resolve(U).then(L,function(Y){V||(V=!0,l.reject(H,Y))});function L(Y){N[D]=Y,++k===j&&!V&&(V=!0,l.resolve(H,N))}}}f.race=T;function T(w){var R=this;if(Object.prototype.toString.call(w)!=="[object Array]")return this.reject(new TypeError("must be an array"));var j=w.length,V=!1;if(!j)return this.resolve([]);for(var N=-1,k=new this(o);++N<j;)B(w[N]);return k;function B(H){R.resolve(H).then(function(F){V||(V=!0,l.resolve(k,F))},function(F){V||(V=!0,l.reject(k,F))})}}},{1:1}],3:[function(n,r,i){(function(s){typeof s.Promise!="function"&&(s.Promise=n(2))}).call(this,typeof pg<"u"?pg:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(n,r,i){var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $};function o($,Z){if(!($ instanceof Z))throw new TypeError("Cannot call a class as a function")}function l(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var d=l();function c(){try{if(!d||!d.open)return!1;var $=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),Z=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!$||Z)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function h($,Z){$=$||[],Z=Z||{};try{return new Blob($,Z)}catch(te){if(te.name!=="TypeError")throw te;for(var K=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,re=new K,se=0;se<$.length;se+=1)re.append($[se]);return re.getBlob(Z.type)}}typeof Promise>"u"&&n(3);var f=Promise;function m($,Z){Z&&$.then(function(K){Z(null,K)},function(K){Z(K)})}function v($,Z,K){typeof Z=="function"&&$.then(Z),typeof K=="function"&&$.catch(K)}function A($){return typeof $!="string"&&(console.warn($+" used as a key, but it is not a string."),$=String($)),$}function b(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var x="local-forage-detect-blob-support",E=void 0,I={},P=Object.prototype.toString,T="readonly",w="readwrite";function R($){for(var Z=$.length,K=new ArrayBuffer(Z),re=new Uint8Array(K),se=0;se<Z;se++)re[se]=$.charCodeAt(se);return K}function j($){return new f(function(Z){var K=$.transaction(x,w),re=h([""]);K.objectStore(x).put(re,"key"),K.onabort=function(se){se.preventDefault(),se.stopPropagation(),Z(!1)},K.oncomplete=function(){var se=navigator.userAgent.match(/Chrome\/(\d+)/),te=navigator.userAgent.match(/Edge\//);Z(te||!se||parseInt(se[1],10)>=43)}}).catch(function(){return!1})}function V($){return typeof E=="boolean"?f.resolve(E):j($).then(function(Z){return E=Z,E})}function N($){var Z=I[$.name],K={};K.promise=new f(function(re,se){K.resolve=re,K.reject=se}),Z.deferredOperations.push(K),Z.dbReady?Z.dbReady=Z.dbReady.then(function(){return K.promise}):Z.dbReady=K.promise}function k($){var Z=I[$.name],K=Z.deferredOperations.pop();if(K)return K.resolve(),K.promise}function B($,Z){var K=I[$.name],re=K.deferredOperations.pop();if(re)return re.reject(Z),re.promise}function H($,Z){return new f(function(K,re){if(I[$.name]=I[$.name]||J(),$.db)if(Z)N($),$.db.close();else return K($.db);var se=[$.name];Z&&se.push($.version);var te=d.open.apply(d,se);Z&&(te.onupgradeneeded=function(ve){var we=te.result;try{we.createObjectStore($.storeName),ve.oldVersion<=1&&we.createObjectStore(x)}catch(Te){if(Te.name==="ConstraintError")console.warn('The database "'+$.name+'" has been upgraded from version '+ve.oldVersion+" to version "+ve.newVersion+', but the storage "'+$.storeName+'" already exists.');else throw Te}}),te.onerror=function(ve){ve.preventDefault(),re(te.error)},te.onsuccess=function(){var ve=te.result;ve.onversionchange=function(we){we.target.close()},K(ve),k($)}})}function F($){return H($,!1)}function U($){return H($,!0)}function D($,Z){if(!$.db)return!0;var K=!$.db.objectStoreNames.contains($.storeName),re=$.version<$.db.version,se=$.version>$.db.version;if(re&&($.version!==Z&&console.warn('The database "'+$.name+`" can't be downgraded from version `+$.db.version+" to version "+$.version+"."),$.version=$.db.version),se||K){if(K){var te=$.db.version+1;te>$.version&&($.version=te)}return!0}return!1}function L($){return new f(function(Z,K){var re=new FileReader;re.onerror=K,re.onloadend=function(se){var te=btoa(se.target.result||"");Z({__local_forage_encoded_blob:!0,data:te,type:$.type})},re.readAsBinaryString($)})}function Y($){var Z=R(atob($.data));return h([Z],{type:$.type})}function q($){return $&&$.__local_forage_encoded_blob}function Q($){var Z=this,K=Z._initReady().then(function(){var re=I[Z._dbInfo.name];if(re&&re.dbReady)return re.dbReady});return v(K,$,$),K}function M($){N($);for(var Z=I[$.name],K=Z.forages,re=0;re<K.length;re++){var se=K[re];se._dbInfo.db&&(se._dbInfo.db.close(),se._dbInfo.db=null)}return $.db=null,F($).then(function(te){return $.db=te,D($)?U($):te}).then(function(te){$.db=Z.db=te;for(var ve=0;ve<K.length;ve++)K[ve]._dbInfo.db=te}).catch(function(te){throw B($,te),te})}function z($,Z,K,re){re===void 0&&(re=1);try{var se=$.db.transaction($.storeName,Z);K(null,se)}catch(te){if(re>0&&(!$.db||te.name==="InvalidStateError"||te.name==="NotFoundError"))return f.resolve().then(function(){if(!$.db||te.name==="NotFoundError"&&!$.db.objectStoreNames.contains($.storeName)&&$.version<=$.db.version)return $.db&&($.version=$.db.version+1),U($)}).then(function(){return M($).then(function(){z($,Z,K,re-1)})}).catch(K);K(te)}}function J(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function ae($){var Z=this,K={db:null};if($)for(var re in $)K[re]=$[re];var se=I[K.name];se||(se=J(),I[K.name]=se),se.forages.push(Z),Z._initReady||(Z._initReady=Z.ready,Z.ready=Q);var te=[];function ve(){return f.resolve()}for(var we=0;we<se.forages.length;we++){var Te=se.forages[we];Te!==Z&&te.push(Te._initReady().catch(ve))}var Ce=se.forages.slice(0);return f.all(te).then(function(){return K.db=se.db,F(K)}).then(function(Me){return K.db=Me,D(K,Z._defaultConfig.version)?U(K):Me}).then(function(Me){K.db=se.db=Me,Z._dbInfo=K;for(var We=0;We<Ce.length;We++){var St=Ce[We];St!==Z&&(St._dbInfo.db=K.db,St._dbInfo.version=K.version)}})}function W($,Z){var K=this;$=A($);var re=new f(function(se,te){K.ready().then(function(){z(K._dbInfo,T,function(ve,we){if(ve)return te(ve);try{var Te=we.objectStore(K._dbInfo.storeName),Ce=Te.get($);Ce.onsuccess=function(){var Me=Ce.result;Me===void 0&&(Me=null),q(Me)&&(Me=Y(Me)),se(Me)},Ce.onerror=function(){te(Ce.error)}}catch(Me){te(Me)}})}).catch(te)});return m(re,Z),re}function ye($,Z){var K=this,re=new f(function(se,te){K.ready().then(function(){z(K._dbInfo,T,function(ve,we){if(ve)return te(ve);try{var Te=we.objectStore(K._dbInfo.storeName),Ce=Te.openCursor(),Me=1;Ce.onsuccess=function(){var We=Ce.result;if(We){var St=We.value;q(St)&&(St=Y(St));var Yt=$(St,We.key,Me++);Yt!==void 0?se(Yt):We.continue()}else se()},Ce.onerror=function(){te(Ce.error)}}catch(We){te(We)}})}).catch(te)});return m(re,Z),re}function le($,Z,K){var re=this;$=A($);var se=new f(function(te,ve){var we;re.ready().then(function(){return we=re._dbInfo,P.call(Z)==="[object Blob]"?V(we.db).then(function(Te){return Te?Z:L(Z)}):Z}).then(function(Te){z(re._dbInfo,w,function(Ce,Me){if(Ce)return ve(Ce);try{var We=Me.objectStore(re._dbInfo.storeName);Te===null&&(Te=void 0);var St=We.put(Te,$);Me.oncomplete=function(){Te===void 0&&(Te=null),te(Te)},Me.onabort=Me.onerror=function(){var Yt=St.error?St.error:St.transaction.error;ve(Yt)}}catch(Yt){ve(Yt)}})}).catch(ve)});return m(se,K),se}function me($,Z){var K=this;$=A($);var re=new f(function(se,te){K.ready().then(function(){z(K._dbInfo,w,function(ve,we){if(ve)return te(ve);try{var Te=we.objectStore(K._dbInfo.storeName),Ce=Te.delete($);we.oncomplete=function(){se()},we.onerror=function(){te(Ce.error)},we.onabort=function(){var Me=Ce.error?Ce.error:Ce.transaction.error;te(Me)}}catch(Me){te(Me)}})}).catch(te)});return m(re,Z),re}function xe($){var Z=this,K=new f(function(re,se){Z.ready().then(function(){z(Z._dbInfo,w,function(te,ve){if(te)return se(te);try{var we=ve.objectStore(Z._dbInfo.storeName),Te=we.clear();ve.oncomplete=function(){re()},ve.onabort=ve.onerror=function(){var Ce=Te.error?Te.error:Te.transaction.error;se(Ce)}}catch(Ce){se(Ce)}})}).catch(se)});return m(K,$),K}function Re($){var Z=this,K=new f(function(re,se){Z.ready().then(function(){z(Z._dbInfo,T,function(te,ve){if(te)return se(te);try{var we=ve.objectStore(Z._dbInfo.storeName),Te=we.count();Te.onsuccess=function(){re(Te.result)},Te.onerror=function(){se(Te.error)}}catch(Ce){se(Ce)}})}).catch(se)});return m(K,$),K}function be($,Z){var K=this,re=new f(function(se,te){if($<0){se(null);return}K.ready().then(function(){z(K._dbInfo,T,function(ve,we){if(ve)return te(ve);try{var Te=we.objectStore(K._dbInfo.storeName),Ce=!1,Me=Te.openKeyCursor();Me.onsuccess=function(){var We=Me.result;if(!We){se(null);return}$===0||Ce?se(We.key):(Ce=!0,We.advance($))},Me.onerror=function(){te(Me.error)}}catch(We){te(We)}})}).catch(te)});return m(re,Z),re}function Oe($){var Z=this,K=new f(function(re,se){Z.ready().then(function(){z(Z._dbInfo,T,function(te,ve){if(te)return se(te);try{var we=ve.objectStore(Z._dbInfo.storeName),Te=we.openKeyCursor(),Ce=[];Te.onsuccess=function(){var Me=Te.result;if(!Me){re(Ce);return}Ce.push(Me.key),Me.continue()},Te.onerror=function(){se(Te.error)}}catch(Me){se(Me)}})}).catch(se)});return m(K,$),K}function Ze($,Z){Z=b.apply(this,arguments);var K=this.config();$=typeof $!="function"&&$||{},$.name||($.name=$.name||K.name,$.storeName=$.storeName||K.storeName);var re=this,se;if(!$.name)se=f.reject("Invalid arguments");else{var te=$.name===K.name&&re._dbInfo.db,ve=te?f.resolve(re._dbInfo.db):F($).then(function(we){var Te=I[$.name],Ce=Te.forages;Te.db=we;for(var Me=0;Me<Ce.length;Me++)Ce[Me]._dbInfo.db=we;return we});$.storeName?se=ve.then(function(we){if(we.objectStoreNames.contains($.storeName)){var Te=we.version+1;N($);var Ce=I[$.name],Me=Ce.forages;we.close();for(var We=0;We<Me.length;We++){var St=Me[We];St._dbInfo.db=null,St._dbInfo.version=Te}var Yt=new f(function(Gt,ft){var Vn=d.open($.name,Te);Vn.onerror=function(ui){var Lo=Vn.result;Lo.close(),ft(ui)},Vn.onupgradeneeded=function(){var ui=Vn.result;ui.deleteObjectStore($.storeName)},Vn.onsuccess=function(){var ui=Vn.result;ui.close(),Gt(ui)}});return Yt.then(function(Gt){Ce.db=Gt;for(var ft=0;ft<Me.length;ft++){var Vn=Me[ft];Vn._dbInfo.db=Gt,k(Vn._dbInfo)}}).catch(function(Gt){throw(B($,Gt)||f.resolve()).catch(function(){}),Gt})}}):se=ve.then(function(we){N($);var Te=I[$.name],Ce=Te.forages;we.close();for(var Me=0;Me<Ce.length;Me++){var We=Ce[Me];We._dbInfo.db=null}var St=new f(function(Yt,Gt){var ft=d.deleteDatabase($.name);ft.onerror=function(){var Vn=ft.result;Vn&&Vn.close(),Gt(ft.error)},ft.onblocked=function(){console.warn('dropInstance blocked for database "'+$.name+'" until all open connections are closed')},ft.onsuccess=function(){var Vn=ft.result;Vn&&Vn.close(),Yt(Vn)}});return St.then(function(Yt){Te.db=Yt;for(var Gt=0;Gt<Ce.length;Gt++){var ft=Ce[Gt];k(ft._dbInfo)}}).catch(function(Yt){throw(B($,Yt)||f.resolve()).catch(function(){}),Yt})})}return m(se,Z),se}var Ue={_driver:"asyncStorage",_initStorage:ae,_support:c(),iterate:ye,getItem:W,setItem:le,removeItem:me,clear:xe,length:Re,key:be,keys:Oe,dropInstance:Ze};function Le(){return typeof openDatabase=="function"}var je="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",mt="~~local_forage_type~",vt=/^~~local_forage_type~([^~]+)~/,De="__lfsc__:",ht=De.length,Ut="arbf",Wt="blob",Ht="si08",Ge="ui08",jt="uic8",Xt="si16",Zt="si32",bt="ur16",dt="ui32",nt="fl32",_t="fl64",cn=ht+Ut.length,Lt=Object.prototype.toString;function Pt($){var Z=$.length*.75,K=$.length,re,se=0,te,ve,we,Te;$[$.length-1]==="="&&(Z--,$[$.length-2]==="="&&Z--);var Ce=new ArrayBuffer(Z),Me=new Uint8Array(Ce);for(re=0;re<K;re+=4)te=je.indexOf($[re]),ve=je.indexOf($[re+1]),we=je.indexOf($[re+2]),Te=je.indexOf($[re+3]),Me[se++]=te<<2|ve>>4,Me[se++]=(ve&15)<<4|we>>2,Me[se++]=(we&3)<<6|Te&63;return Ce}function vn($){var Z=new Uint8Array($),K="",re;for(re=0;re<Z.length;re+=3)K+=je[Z[re]>>2],K+=je[(Z[re]&3)<<4|Z[re+1]>>4],K+=je[(Z[re+1]&15)<<2|Z[re+2]>>6],K+=je[Z[re+2]&63];return Z.length%3===2?K=K.substring(0,K.length-1)+"=":Z.length%3===1&&(K=K.substring(0,K.length-2)+"=="),K}function jn($,Z){var K="";if($&&(K=Lt.call($)),$&&(K==="[object ArrayBuffer]"||$.buffer&&Lt.call($.buffer)==="[object ArrayBuffer]")){var re,se=De;$ instanceof ArrayBuffer?(re=$,se+=Ut):(re=$.buffer,K==="[object Int8Array]"?se+=Ht:K==="[object Uint8Array]"?se+=Ge:K==="[object Uint8ClampedArray]"?se+=jt:K==="[object Int16Array]"?se+=Xt:K==="[object Uint16Array]"?se+=bt:K==="[object Int32Array]"?se+=Zt:K==="[object Uint32Array]"?se+=dt:K==="[object Float32Array]"?se+=nt:K==="[object Float64Array]"?se+=_t:Z(new Error("Failed to get type for BinaryArray"))),Z(se+vn(re))}else if(K==="[object Blob]"){var te=new FileReader;te.onload=function(){var ve=mt+$.type+"~"+vn(this.result);Z(De+Wt+ve)},te.readAsArrayBuffer($)}else try{Z(JSON.stringify($))}catch(ve){console.error("Couldn't convert value into a JSON string: ",$),Z(null,ve)}}function un($){if($.substring(0,ht)!==De)return JSON.parse($);var Z=$.substring(cn),K=$.substring(ht,cn),re;if(K===Wt&&vt.test(Z)){var se=Z.match(vt);re=se[1],Z=Z.substring(se[0].length)}var te=Pt(Z);switch(K){case Ut:return te;case Wt:return h([te],{type:re});case Ht:return new Int8Array(te);case Ge:return new Uint8Array(te);case jt:return new Uint8ClampedArray(te);case Xt:return new Int16Array(te);case bt:return new Uint16Array(te);case Zt:return new Int32Array(te);case dt:return new Uint32Array(te);case nt:return new Float32Array(te);case _t:return new Float64Array(te);default:throw new Error("Unkown type: "+K)}}var Dt={serialize:jn,deserialize:un,stringToBuffer:Pt,bufferToString:vn};function zn($,Z,K,re){$.executeSql("CREATE TABLE IF NOT EXISTS "+Z.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],K,re)}function fr($){var Z=this,K={db:null};if($)for(var re in $)K[re]=typeof $[re]!="string"?$[re].toString():$[re];var se=new f(function(te,ve){try{K.db=openDatabase(K.name,String(K.version),K.description,K.size)}catch(we){return ve(we)}K.db.transaction(function(we){zn(we,K,function(){Z._dbInfo=K,te()},function(Te,Ce){ve(Ce)})},ve)});return K.serializer=Dt,se}function En($,Z,K,re,se,te){$.executeSql(K,re,se,function(ve,we){we.code===we.SYNTAX_ERR?ve.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[Z.storeName],function(Te,Ce){Ce.rows.length?te(Te,we):zn(Te,Z,function(){Te.executeSql(K,re,se,te)},te)},te):te(ve,we)},te)}function br($,Z){var K=this;$=A($);var re=new f(function(se,te){K.ready().then(function(){var ve=K._dbInfo;ve.db.transaction(function(we){En(we,ve,"SELECT * FROM "+ve.storeName+" WHERE key = ? LIMIT 1",[$],function(Te,Ce){var Me=Ce.rows.length?Ce.rows.item(0).value:null;Me&&(Me=ve.serializer.deserialize(Me)),se(Me)},function(Te,Ce){te(Ce)})})}).catch(te)});return m(re,Z),re}function hr($,Z){var K=this,re=new f(function(se,te){K.ready().then(function(){var ve=K._dbInfo;ve.db.transaction(function(we){En(we,ve,"SELECT * FROM "+ve.storeName,[],function(Te,Ce){for(var Me=Ce.rows,We=Me.length,St=0;St<We;St++){var Yt=Me.item(St),Gt=Yt.value;if(Gt&&(Gt=ve.serializer.deserialize(Gt)),Gt=$(Gt,Yt.key,St+1),Gt!==void 0){se(Gt);return}}se()},function(Te,Ce){te(Ce)})})}).catch(te)});return m(re,Z),re}function Kt($,Z,K,re){var se=this;$=A($);var te=new f(function(ve,we){se.ready().then(function(){Z===void 0&&(Z=null);var Te=Z,Ce=se._dbInfo;Ce.serializer.serialize(Z,function(Me,We){We?we(We):Ce.db.transaction(function(St){En(St,Ce,"INSERT OR REPLACE INTO "+Ce.storeName+" (key, value) VALUES (?, ?)",[$,Me],function(){ve(Te)},function(Yt,Gt){we(Gt)})},function(St){if(St.code===St.QUOTA_ERR){if(re>0){ve(Kt.apply(se,[$,Te,K,re-1]));return}we(St)}})})}).catch(we)});return m(te,K),te}function On($,Z,K){return Kt.apply(this,[$,Z,K,1])}function rt($,Z){var K=this;$=A($);var re=new f(function(se,te){K.ready().then(function(){var ve=K._dbInfo;ve.db.transaction(function(we){En(we,ve,"DELETE FROM "+ve.storeName+" WHERE key = ?",[$],function(){se()},function(Te,Ce){te(Ce)})})}).catch(te)});return m(re,Z),re}function Et($){var Z=this,K=new f(function(re,se){Z.ready().then(function(){var te=Z._dbInfo;te.db.transaction(function(ve){En(ve,te,"DELETE FROM "+te.storeName,[],function(){re()},function(we,Te){se(Te)})})}).catch(se)});return m(K,$),K}function nr($){var Z=this,K=new f(function(re,se){Z.ready().then(function(){var te=Z._dbInfo;te.db.transaction(function(ve){En(ve,te,"SELECT COUNT(key) as c FROM "+te.storeName,[],function(we,Te){var Ce=Te.rows.item(0).c;re(Ce)},function(we,Te){se(Te)})})}).catch(se)});return m(K,$),K}function Nr($,Z){var K=this,re=new f(function(se,te){K.ready().then(function(){var ve=K._dbInfo;ve.db.transaction(function(we){En(we,ve,"SELECT key FROM "+ve.storeName+" WHERE id = ? LIMIT 1",[$+1],function(Te,Ce){var Me=Ce.rows.length?Ce.rows.item(0).key:null;se(Me)},function(Te,Ce){te(Ce)})})}).catch(te)});return m(re,Z),re}function Fe($){var Z=this,K=new f(function(re,se){Z.ready().then(function(){var te=Z._dbInfo;te.db.transaction(function(ve){En(ve,te,"SELECT key FROM "+te.storeName,[],function(we,Te){for(var Ce=[],Me=0;Me<Te.rows.length;Me++)Ce.push(Te.rows.item(Me).key);re(Ce)},function(we,Te){se(Te)})})}).catch(se)});return m(K,$),K}function st($){return new f(function(Z,K){$.transaction(function(re){re.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(se,te){for(var ve=[],we=0;we<te.rows.length;we++)ve.push(te.rows.item(we).name);Z({db:$,storeNames:ve})},function(se,te){K(te)})},function(re){K(re)})})}function pt($,Z){Z=b.apply(this,arguments);var K=this.config();$=typeof $!="function"&&$||{},$.name||($.name=$.name||K.name,$.storeName=$.storeName||K.storeName);var re=this,se;return $.name?se=new f(function(te){var ve;$.name===K.name?ve=re._dbInfo.db:ve=openDatabase($.name,"","",0),$.storeName?te({db:ve,storeNames:[$.storeName]}):te(st(ve))}).then(function(te){return new f(function(ve,we){te.db.transaction(function(Te){function Ce(Yt){return new f(function(Gt,ft){Te.executeSql("DROP TABLE IF EXISTS "+Yt,[],function(){Gt()},function(Vn,ui){ft(ui)})})}for(var Me=[],We=0,St=te.storeNames.length;We<St;We++)Me.push(Ce(te.storeNames[We]));f.all(Me).then(function(){ve()}).catch(function(Yt){we(Yt)})},function(Te){we(Te)})})}):se=f.reject("Invalid arguments"),m(se,Z),se}var yn={_driver:"webSQLStorage",_initStorage:fr,_support:Le(),iterate:hr,getItem:br,setItem:On,removeItem:rt,clear:Et,length:nr,key:Nr,keys:Fe,dropInstance:pt};function pr(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function _r($,Z){var K=$.name+"/";return $.storeName!==Z.storeName&&(K+=$.storeName+"/"),K}function Br(){var $="_localforage_support_test";try{return localStorage.setItem($,!0),localStorage.removeItem($),!1}catch{return!0}}function Kn(){return!Br()||localStorage.length>0}function kr($){var Z=this,K={};if($)for(var re in $)K[re]=$[re];return K.keyPrefix=_r($,Z._defaultConfig),Kn()?(Z._dbInfo=K,K.serializer=Dt,f.resolve()):f.reject()}function dn($){var Z=this,K=Z.ready().then(function(){for(var re=Z._dbInfo.keyPrefix,se=localStorage.length-1;se>=0;se--){var te=localStorage.key(se);te.indexOf(re)===0&&localStorage.removeItem(te)}});return m(K,$),K}function Oo($,Z){var K=this;$=A($);var re=K.ready().then(function(){var se=K._dbInfo,te=localStorage.getItem(se.keyPrefix+$);return te&&(te=se.serializer.deserialize(te)),te});return m(re,Z),re}function Bd($,Z){var K=this,re=K.ready().then(function(){for(var se=K._dbInfo,te=se.keyPrefix,ve=te.length,we=localStorage.length,Te=1,Ce=0;Ce<we;Ce++){var Me=localStorage.key(Ce);if(Me.indexOf(te)===0){var We=localStorage.getItem(Me);if(We&&(We=se.serializer.deserialize(We)),We=$(We,Me.substring(ve),Te++),We!==void 0)return We}}});return m(re,Z),re}function as($,Z){var K=this,re=K.ready().then(function(){var se=K._dbInfo,te;try{te=localStorage.key($)}catch{te=null}return te&&(te=te.substring(se.keyPrefix.length)),te});return m(re,Z),re}function Sl($){var Z=this,K=Z.ready().then(function(){for(var re=Z._dbInfo,se=localStorage.length,te=[],ve=0;ve<se;ve++){var we=localStorage.key(ve);we.indexOf(re.keyPrefix)===0&&te.push(we.substring(re.keyPrefix.length))}return te});return m(K,$),K}function xl($){var Z=this,K=Z.keys().then(function(re){return re.length});return m(K,$),K}function zc($,Z){var K=this;$=A($);var re=K.ready().then(function(){var se=K._dbInfo;localStorage.removeItem(se.keyPrefix+$)});return m(re,Z),re}function en($,Z,K){var re=this;$=A($);var se=re.ready().then(function(){Z===void 0&&(Z=null);var te=Z;return new f(function(ve,we){var Te=re._dbInfo;Te.serializer.serialize(Z,function(Ce,Me){if(Me)we(Me);else try{localStorage.setItem(Te.keyPrefix+$,Ce),ve(te)}catch(We){(We.name==="QuotaExceededError"||We.name==="NS_ERROR_DOM_QUOTA_REACHED")&&we(We),we(We)}})})});return m(se,K),se}function Si($,Z){if(Z=b.apply(this,arguments),$=typeof $!="function"&&$||{},!$.name){var K=this.config();$.name=$.name||K.name,$.storeName=$.storeName||K.storeName}var re=this,se;return $.name?se=new f(function(te){$.storeName?te(_r($,re._defaultConfig)):te($.name+"/")}).then(function(te){for(var ve=localStorage.length-1;ve>=0;ve--){var we=localStorage.key(ve);we.indexOf(te)===0&&localStorage.removeItem(we)}}):se=f.reject("Invalid arguments"),m(se,Z),se}var ba={_driver:"localStorageWrapper",_initStorage:kr,_support:pr(),iterate:Bd,getItem:Oo,setItem:en,removeItem:zc,clear:dn,length:xl,key:as,keys:Sl,dropInstance:Si},co=function(Z,K){return Z===K||typeof Z=="number"&&typeof K=="number"&&isNaN(Z)&&isNaN(K)},Dd=function(Z,K){for(var re=Z.length,se=0;se<re;){if(co(Z[se],K))return!0;se++}return!1},_a=Array.isArray||function($){return Object.prototype.toString.call($)==="[object Array]"},fn={},up={},uo={INDEXEDDB:Ue,WEBSQL:yn,LOCALSTORAGE:ba},dp=[uo.INDEXEDDB._driver,uo.WEBSQL._driver,uo.LOCALSTORAGE._driver],Vo=["dropInstance"],Fd=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Vo),fp={description:"",driver:dp.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Uc($,Z){$[Z]=function(){var K=arguments;return $.ready().then(function(){return $[Z].apply($,K)})}}function xi(){for(var $=1;$<arguments.length;$++){var Z=arguments[$];if(Z)for(var K in Z)Z.hasOwnProperty(K)&&(_a(Z[K])?arguments[0][K]=Z[K].slice():arguments[0][K]=Z[K])}return arguments[0]}var ly=function(){function $(Z){o(this,$);for(var K in uo)if(uo.hasOwnProperty(K)){var re=uo[K],se=re._driver;this[K]=se,fn[se]||this.defineDriver(re)}this._defaultConfig=xi({},fp),this._config=xi({},this._defaultConfig,Z),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return $.prototype.config=function(K){if((typeof K>"u"?"undefined":s(K))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var re in K){if(re==="storeName"&&(K[re]=K[re].replace(/\W/g,"_")),re==="version"&&typeof K[re]!="number")return new Error("Database version must be a number.");this._config[re]=K[re]}return"driver"in K&&K.driver?this.setDriver(this._config.driver):!0}else return typeof K=="string"?this._config[K]:this._config},$.prototype.defineDriver=function(K,re,se){var te=new f(function(ve,we){try{var Te=K._driver,Ce=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!K._driver){we(Ce);return}for(var Me=Fd.concat("_initStorage"),We=0,St=Me.length;We<St;We++){var Yt=Me[We],Gt=!Dd(Vo,Yt);if((Gt||K[Yt])&&typeof K[Yt]!="function"){we(Ce);return}}var ft=function(){for(var Lo=function(qc){return function(){var fo=new Error("Method "+qc+" is not implemented by the current driver"),Bs=f.reject(fo);return m(Bs,arguments[arguments.length-1]),Bs}},Hc=0,hp=Vo.length;Hc<hp;Hc++){var Gc=Vo[Hc];K[Gc]||(K[Gc]=Lo(Gc))}};ft();var Vn=function(Lo){fn[Te]&&console.info("Redefining LocalForage driver: "+Te),fn[Te]=K,up[Te]=Lo,ve()};"_support"in K?K._support&&typeof K._support=="function"?K._support().then(Vn,we):Vn(!!K._support):Vn(!0)}catch(ui){we(ui)}});return v(te,re,se),te},$.prototype.driver=function(){return this._driver||null},$.prototype.getDriver=function(K,re,se){var te=fn[K]?f.resolve(fn[K]):f.reject(new Error("Driver not found."));return v(te,re,se),te},$.prototype.getSerializer=function(K){var re=f.resolve(Dt);return v(re,K),re},$.prototype.ready=function(K){var re=this,se=re._driverSet.then(function(){return re._ready===null&&(re._ready=re._initDriver()),re._ready});return v(se,K,K),se},$.prototype.setDriver=function(K,re,se){var te=this;_a(K)||(K=[K]);var ve=this._getSupportedDrivers(K);function we(){te._config.driver=te.driver()}function Te(We){return te._extend(We),we(),te._ready=te._initStorage(te._config),te._ready}function Ce(We){return function(){var St=0;function Yt(){for(;St<We.length;){var Gt=We[St];return St++,te._dbInfo=null,te._ready=null,te.getDriver(Gt).then(Te).catch(Yt)}we();var ft=new Error("No available storage method found.");return te._driverSet=f.reject(ft),te._driverSet}return Yt()}}var Me=this._driverSet!==null?this._driverSet.catch(function(){return f.resolve()}):f.resolve();return this._driverSet=Me.then(function(){var We=ve[0];return te._dbInfo=null,te._ready=null,te.getDriver(We).then(function(St){te._driver=St._driver,we(),te._wrapLibraryMethodsWithReady(),te._initDriver=Ce(ve)})}).catch(function(){we();var We=new Error("No available storage method found.");return te._driverSet=f.reject(We),te._driverSet}),v(this._driverSet,re,se),this._driverSet},$.prototype.supports=function(K){return!!up[K]},$.prototype._extend=function(K){xi(this,K)},$.prototype._getSupportedDrivers=function(K){for(var re=[],se=0,te=K.length;se<te;se++){var ve=K[se];this.supports(ve)&&re.push(ve)}return re},$.prototype._wrapLibraryMethodsWithReady=function(){for(var K=0,re=Fd.length;K<re;K++)Uc(this,Fd[K])},$.prototype.createInstance=function(K){return new $(K)},$}(),zi=new ly;r.exports=zi},{3:3}]},{},[4])(4)})}(g1)),g1.exports}var KW=WW();const uh=Lr(KW),KO=Object.freeze(Object.defineProperty({__proto__:null,default:uh},Symbol.toStringTag,{value:"Module"}));let Tf=null;async function C0(){if(!Tf)if("localStorage"in globalThis)try{Tf=Id(async()=>{const{default:e}=await Promise.resolve().then(()=>KO);return{default:e}},void 0).then(({default:e})=>e.createInstance({name:"localforage"}))}catch(e){console.error(e),Tf=Promise.resolve(ot.memory)}else Tf=Promise.resolve(ot.memory);return Tf}const ud=e=>is.generateSongFile(e),YO=async e=>{var n;const t=ud(e);return await((n=await C0())==null?void 0:n.getItem(t))||{plays:0,scores:[]}},QO=async(e,t)=>{var n;await((n=await C0())==null?void 0:n.setItem(ud(e),t))},YW=async()=>{var n;const e=await((n=await C0())==null?void 0:n.keys())??[],t={};return await Promise.all(e.map(async r=>{var i;t[r]=await((i=await C0())==null?void 0:i.getItem(r))})),t};ge.songEnded.subscribe(async(e,t,n,r)=>{if(n.every(o=>o.score===0))return;let i=await(uh==null?void 0:uh.getItem(ud(e)));const s={setup:t,scores:n,date:new Date().toISOString(),progress:r};i?(i.scores=[...(i==null?void 0:i.scores)??[],s],i.plays=i.scores.length):i={plays:1,scores:[s]},await QO(e,i),ge.songStatStored.dispatch(ud(e),i)});const dd="session-player-names",QW="previous-player-names";function JW(e){return e!=null}ge.songStarted.subscribe((e,t)=>{let n=JSON.parse(ot.session.getItem(dd))||[];const r=t.players.map(({number:s})=>it.getPlayer(s)).filter(JW).map(s=>s.getName().trim()),i=[...n].concat(...r);n=[...new Set(i)].filter(Boolean),ot.session.setItem(dd,JSON.stringify(n)),ot.session.setItem(QW,JSON.stringify(r))});ge.songScoreUpdated.subscribe((e,t,n)=>{let r=JSON.parse(ot.session.getItem(dd))||[];const i=[...r].concat(n);r=[...new Set(i)].filter(Boolean),ot.session.setItem(dd,JSON.stringify(r))});function XW(e,t){const n=t<0?e.length+t:t;return e[n]}[].at||(Array.prototype.at=function(e){return XW(this,e)});[].findLastIndex||(Array.prototype.findLastIndex=function(e,t){for(let n=this.length-1;n>=0;n--)if(e.call(t,this[n],n,this))return n;return-1});var ZW="Expected a function";function Wu(e,t,n){var r=!0,i=!0;if(typeof e!="function")throw new TypeError(ZW);return ro(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),bO(e,t,{leading:r,maxWait:t,trailing:i})}class eK extends oo{constructor(){super(...arguments),this.stream=null,this.context=null,this.interval=null,this.frequencies=[0,0],this.volumes=[0,0],this.startedMonitoring=!1,this.startMonitoring=async t=>{if(!this.startedMonitoring){this.startedMonitoring=!0;try{this.stream=await rl.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!1},video:!1});try{this.context=new AudioContext;const n=this.context.createMediaStreamSource(this.stream),r=this.context.createAnalyser();r.fftSize=2048,r.minDecibels=-100,n.connect(r);const i=new vO;await i.init(this.context,r.fftSize),this.interval=setInterval(async()=>{const s=new Float32Array(r.fftSize);r.getFloatTimeDomainData(s);const o=await i.getFrequency(s),l=this.calculateVolume(s);this.frequencies=[o,o],this.volumes=[l,l],this.onUpdate(o,l)},this.context.sampleRate/r.fftSize),ge.micMonitoringStarted.dispatch()}catch(n){Ps(n),console.error(n)}}catch(n){n.name!=="NotAllowedError"&&Ps(n,{level:"warning",extra:{message:"SimplifiedMic.startMonitoring"}}),console.warn(n)}}},this.getFrequencies=()=>this.frequencies,this.getVolumes=()=>this.volumes,this.clearFrequencies=t=>{},this.stopMonitoring=async()=>{var t,n;if(this.startedMonitoring){this.startedMonitoring=!1,this.interval&&clearInterval(this.interval),(t=this.stream)==null||t.getTracks().forEach(function(r){r.stop()});try{await((n=this.context)==null?void 0:n.close())}catch(r){console.log("MicInput.stoMonitoring error",r)}ge.micMonitoringStopped.dispatch()}},this.getInputLag=()=>180,this.requestReadiness=()=>Promise.resolve(!0),this.getStatus=()=>"ok"}calculateVolume(t){let n,r=0;for(n=0;n<t.length;++n)r+=t[n]*t[n];return Math.sqrt(r/t.length)}}const Ks=new eK;let CI=null;const tK=(e,t)=>{t.t!==CI&&(Ps(e,{extra:{event:t}}),CI=t.t)};class nK extends oo{constructor(){super(...arguments),this.connection=null,this.roomId=null,this.isConnected=()=>{var t;return(((t=this.connection)==null?void 0:t.readyState)??1/0)<2},this.close=()=>{var t;(t=this.connection)==null||t.close()}}connect(t,n,r,i,s){this.roomId=n,this.connection=new WebSocket(`${CO}/party/${n}`),this.connection.binaryType="arraybuffer",this.connection.onopen=()=>{var o;(o=this.connection)==null||o.send(Ts({t:"register-player",id:t,roomId:n}))},this.connection.onmessage=o=>{const l=Ad(o.data);l.t==="forward"?this.onUpdate(l.payload):l.t==="connected"&&r()},this.connection.onclose=o=>{var d;let l="unknown";try{l=(d=JSON.parse(o.reason))==null?void 0:d.error}catch{console.info("could not parse close reason",o)}this.clearAllListeners(),i(l,o)},this.connection.onerror=o=>{this.clearAllListeners(),s("error",o)}}sendEvent(t){var n,r,i;if(((n=this.connection)==null?void 0:n.readyState)!==WebSocket.OPEN){tK(new Error(`Trying to send event on connection ${(r=this.connection)==null?void 0:r.readyState}`),t);return}(i=this.connection)==null||i.send(Ts({t:"forward",recipients:[this.roomId],payload:t}))}}class rK extends oo{constructor(){super(...arguments),this.peer=null,this.connection=null,this.unavailableIdRetries=0,this.unavailableIdRetryTimeout=null,this.connectToRoom=(t,n,r)=>{var i;this.connection=this.peer.connect(`allkaraoke-party-room-${t}`),this.connection.on("open",()=>{n()}),this.connection.on("close",()=>r("closed",null)),(i=this.connection)==null||i.on("data",s=>{console.log(s),this.onUpdate(s)})},this.isConnected=()=>{var t,n;return!!((t=this.connection)!=null&&t.open)&&!((n=this.peer)!=null&&n.disconnected)},this.close=()=>{var t;(t=this.connection)==null||t.close()}}connect(t,n,r,i,s){this.peer&&!this.peer.disconnected?this.connectToRoom(n,r,i):(this.peer=new Ev(t,{...kO,debug:3}),this.peer.on("open",()=>{this.connectToRoom(n,r,i)}),this.peer.on("error",o=>{var l,d;o.type==="unavailable-id"&&this.unavailableIdRetries<3&&this.unavailableIdRetryTimeout===null?((d=(l=this.peer)==null?void 0:l.destroy)==null||d.call(l),this.unavailableIdRetryTimeout=setTimeout(()=>{this.unavailableIdRetryTimeout=null,this.unavailableIdRetries++,this.connect(t,n,r,i,s)},1750)):(this.unavailableIdRetries=0,console.error(o.type,o),i(o.type,o))}))}sendEvent(t){var n;(n=this.connection)==null||n.send(t)}}class iK extends oo{constructor(){super(...arguments),this.connection=null,this.roomId=null,this.isConnected=()=>{var t;return(((t=this.connection)==null?void 0:t.readyState)??1/0)<2},this.close=()=>{var t;(t=this.connection)==null||t.close()}}connect(t,n,r,i,s){this.roomId=n,this.connection=new WebSocket(OO),this.connection.binaryType="arraybuffer",this.connection.onopen=()=>{var o;(o=this.connection)==null||o.send(Ts({t:"register-player",id:t,roomId:n}))},this.connection.onmessage=o=>{const l=Ad(o.data);l.t==="forward"?this.onUpdate(l.payload):l.t==="connected"&&r()},this.connection.onclose=o=>{var d;let l="unknown";try{l=(d=JSON.parse(o.reason))==null?void 0:d.error}catch{console.info("could not parse close reason",o)}this.clearAllListeners(),i(l,o)},this.connection.onerror=o=>{this.clearAllListeners(),s("error",o)}}sendEvent(t){var n;(n=this.connection)==null||n.send(Ts({t:"forward",recipients:[this.roomId],payload:t}))}}const kI=(e,t)=>{if(e===0)return 0;const n=Math.pow(10,t);return Math.round(e*n)/n};let Hg;const sK=new Uint8Array(16);function oK(){if(!Hg&&(Hg=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Hg))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Hg(sK)}const zr=[];for(let e=0;e<256;++e)zr.push((e+256).toString(16).slice(1));function aK(e,t=0){return zr[e[t+0]]+zr[e[t+1]]+zr[e[t+2]]+zr[e[t+3]]+"-"+zr[e[t+4]]+zr[e[t+5]]+"-"+zr[e[t+6]]+zr[e[t+7]]+"-"+zr[e[t+8]]+zr[e[t+9]]+"-"+zr[e[t+10]]+zr[e[t+11]]+zr[e[t+12]]+zr[e[t+13]]+zr[e[t+14]]+zr[e[t+15]]}const lK=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),TI={randomUUID:lK};function k0(e,t,n){if(TI.randomUUID&&!t&&!e)return TI.randomUUID();e=e||{};const r=e.random||(e.rng||oK)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,aK(r)}const H_="MIC_CLIENT_ID";class cK{constructor(){this.clientId=ot.getItem(H_),this.roomId=null,this.reconnecting=!1,this.connected=!1,this.frequencies=[],this.sendFrequencies=Wu(t=>{const n=this.frequencies.map(r=>kI(r,2));this.frequencies.length=0,this.sendEvent("freq",[n,kI(t,4)])},50),this.onFrequencyUpdate=Wu((t,n)=>{this.frequencies.push(t),this.sendFrequencies(n)},1e3/60),this.getClientId=()=>this.clientId,this.setClientId=t=>{this.clientId=t,ot.setItem(H_,t)},this.connect=(t,n,r)=>{const i=t.toLowerCase();if(this.transport||(this.transport=i.startsWith("w")?new iK:i.startsWith("k")?new nK:new rK),this.clientId===null&&this.setClientId(k0()),this.roomId=i,this.transport.isConnected()){console.log("not reconnecting",this.transport);return}this.reconnecting||ge.karaokeConnectionStatusChange.dispatch("connecting"),this.transport.connect(this.clientId,this.roomId,()=>{this.connectToServer(i,n,r)},(s,o)=>{var l;if(s==="unavailable-id"){this.setClientId(k0()),this.connect(i,n,r);return}global.removeEventListener("beforeunload",this.disconnect),this.reconnecting?ge.karaokeConnectionStatusChange.dispatch("reconnecting"):this.connected?ge.karaokeConnectionStatusChange.dispatch("disconnected"):(ge.karaokeConnectionStatusChange.dispatch("error",s),lr.capture("remote_mic_connection_error",{reason:s,transport:(l=this.roomId)==null?void 0:l.charAt(0)})),ge.remoteMicPlayerSet.dispatch(null),ge.remoteKeyboardLayout.dispatch(void 0),Ks.removeListener(this.onFrequencyUpdate),Ks.stopMonitoring(),s!=="player-removed"&&!this.reconnecting&&this.connected&&(this.reconnecting=!0,setTimeout(()=>this.reconnect(i,n),1500)),this.connected=!1},console.warn)},this.latency=999,this.pingStart=bi(),this.pinging=!1,this.ping=()=>{this.pinging=!0,this.pingStart=bi(),this.sendEvent("ping",{p:this.pingStart})},this.reportPing=Wu(t=>lr.capture("remote_mic_ping",{ping:t}),6e4),this.onPong=()=>{this.latency=bi()-this.pingStart,this.pinging=!1,this.reportPing(this.latency),setTimeout(this.ping,2e3)},this.connectToServer=(t,n,r)=>{var i;this.connected=!0,this.reconnecting=!1,ge.karaokeConnectionStatusChange.dispatch("connected"),lr.capture("remote_mic_connection_successful",{transport:(i=this.roomId)==null?void 0:i.charAt(0)}),this.sendEvent("register",{name:n,id:this.clientId,silent:r,lag:Zj.get()}),this.ping(),global==null||global.addEventListener("beforeunload",this.disconnect),this.transport.addListener(s=>{var l,d;const o=s.t;o==="start-monitor"?(Ks.removeListener(this.onFrequencyUpdate),Ks.addListener(this.onFrequencyUpdate),Ks.startMonitoring(void 0)):o==="stop-monitor"?(Ks.removeListener(this.onFrequencyUpdate),Ks.stopMonitoring()):o==="set-player-number"?ge.remoteMicPlayerSet.dispatch(s.playerNumber):o==="keyboard-layout"?ge.remoteKeyboardLayout.dispatch(s.help):o==="reload-mic"?(global.removeEventListener("beforeunload",this.disconnect),this.sendEvent("unregister"),ot.session.setItem("reload-mic-request","1"),(l=document.getElementById("phone-ui-container"))==null||l.remove(),(d=global.location)==null||d.reload()):o==="request-readiness"?ge.remoteReadinessRequested.dispatch():o==="pong"?this.onPong():o==="ping"?this.sendEvent("pong"):o==="set-permissions"?ge.remoteMicPermissionsSet.dispatch(s.level):o==="remote-mics-list"?ge.remoteMicListUpdated.dispatch(s.list):o==="style-change"&&ge.remoteStyleChanged.dispatch(s.style)})},this.reconnect=(t,n)=>{this.reconnecting&&(ge.karaokeConnectionStatusChange.dispatch("reconnecting"),this.connect(t,n,!1),setTimeout(()=>this.reconnect(t,n),2e3))},this.sendKeyStroke=t=>{this.sendEvent("keystroke",{key:t})},this.searchSong=t=>{this.sendEvent("search-song",{search:t})},this.selectSong=t=>{this.sendEvent("select-song",{id:t})},this.requestPlayerChange=(t,n)=>{this.sendEvent("request-mic-select",{id:t,playerNumber:n})},this.confirmReadiness=()=>{this.sendEvent("confirm-readiness")},this.subscribe=t=>{this.sendEvent("subscribe-event",{channel:t})},this.unsubscribe=t=>{this.sendEvent("unsubscribe-event",{channel:t})},this.getSongList=()=>this.sendRequest({t:"request-songlist"},"songlist"),this.getGameInputLag=()=>this.sendRequest({t:"get-game-input-lag-request"},"get-game-input-lag-response"),this.setGameInputLag=t=>this.sendRequest({t:"set-game-input-lag-request",value:t},"get-game-input-lag-response"),this.getMicrophoneInputLag=()=>this.sendRequest({t:"get-microphone-lag-request"},"get-microphone-lag-response"),this.setMicrophoneInputLag=t=>this.sendRequest({t:"set-microphone-lag-request",value:t},"get-microphone-lag-response"),this.removePlayer=t=>this.sendEvent("remove-player",{id:t}),this.sendEvent=(t,n)=>{var r;(r=this.transport)!=null&&r.isConnected()?this.transport.sendEvent({t,...n}):console.debug("not connected, skipping",t,n)},this.sendRequest=({t,...n},r)=>new Promise((i,s)=>{var d;const o=setTimeout(()=>{var c;(c=this.transport)==null||c.removeListener(l),s(`${t} timed out waiting for ${r}`)},1e4),l=c=>{var h;c.t===r&&(clearTimeout(o),(h=this.transport)==null||h.removeListener(l),i(c))};(d=this.transport)==null||d.addListener(l),this.sendEvent(t,n)}),this.disconnect=()=>{var t;(t=this.transport)==null||t.close()}}}const Wn=new cK,uK="/assets/2020-12-16_-_Christmas_Rock_-_www.FesliyanStudios.com_Steve_Oxen-DMCunqoI.ogg",dK="/assets/376817__original_sound__impact-cinematic-CwEVHJ3C.ogg",fK="/assets/459342__papaninkasettratat__cinematic-music-short-rn-rfKrG.ogg",hK="/assets/60013__qubodup__whoosh-CRSX-bwR.mp3",pK="/assets/Funk%20Cool%20Groove%20(No%20Copyright%20Music)%20By%20Anwar%20Amr-Chfv45i1.ogg",gK="/assets/boo-and-laugh-7060-BidOOj5I.mp3",mK="/assets/croworraven1-6749-Ce48aK2E.mp3",vK="/assets/Halloween%20Cinematic%20by%20Infraction%20_No%20Copyright%20Music_%20%20Halloween%202024%20_%20ezmp3.cc%20_-C2nU6gX4.mp3",yK="/assets/halloween-impact-05-93808-BCpJmIL8.mp3",AK="/assets/scary-music-box-for-spooky-scenes-165983-BgDUokgm.mp3",bK="/assets/menu_back-CXKu2j7w.mp3",_K="data:audio/mpeg;base64,SUQzBAAAAAAAIlRTU0UAAAAOAAADTGF2ZjYwLjMuMTAwAAAAAAAAAAAAAAD/+1QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABYaW5nAAAADwAAABMAAA04AEFBQUFBZWVlZWV/f39/f5GRkZGRkZqampqaoaGhoaGoqKioqLCwsLCwsLe3t7e3vr6+vr7FxcXFxc3Nzc3NzdTU1NTU29vb29vi4uLi4urq6urq6vHx8fHx+Pj4+Pj//////wAAAABMYXZjNjAuMy4AAAAAAAAAAAAAAAAkAuUAAAAAAAANOLGcZrL/+8REAAEA/ADLaAAACh+AGY0AAAFGhC0ZtYMAKP4GYzKwkAUAFJyXj/AAAB7QAAB4eHh4YYAOM////jh4eAAAAAIw8AlNybj/AAAB/AAADw8PDwxwAAGf///5h4eAAAAAIw9hSJuIlQJTskunEz5RFv1Y2byK7n/97llcFmmyCgoMFBQUFAoKCgoMFDX////qAoKChQUFESxJ2AfoAZiMJDhIyAqTJk81xxarn/97lWmgXEJCQoUJCChQUFBQSCgoKChQUv//6YKFAoKCgwUFBQUhBQU0WgEEAFZUiUdVZ7urwsAwAAAoTmeCxjBAdkrnZm5gCuz2BTRyEx8VJUhukDsoNVBjExsWZAsIvo6ZtcOZTJhAKFQlp6a7oGrhgQ1GypacseeN5GgM7LimCHZWKo200F2pFIbcrBxGTFxgYmAAQQh6wspcVlNfLCxvO2HAzIQgDZSzJWt9XFnYFf27////7/0ko32xTymMyqLclUq8QECiT3+7//+laf///9uMHyGvGu2u2so2EgAAAAADIAEGFguPUQDJhoMKHjtm/ExnBISAuP5tq7A0VjIBuAgFjyzu0ITEAhWvB/0sPUTU5MzMnhocNpDqll1v/GBSiOTAAAWq/agAGAMGDkG2YBxmZlUXgGO2D0YAgS4cGyYBIAoNAqIQNjBRA4BAFZgOABuLCYbR9W0P1ijMzWyHU3rL3T2m1K3RtqSLDrfcC31jHuH9r6RUOFIwt0G+T2Y9yNS/FrmLTOcX1qpRxdapf/+f4gPaOLN2fYACixdruAAAHzMDQmBJhGTdzmMADioJDwTNcGAFKgEmAwApvBgDS6/hLpkYzDFewH6hgRt+3pCrr5/3651XUGvoTGe1AAACh1ZV5WQADAgMzFkSzVCXT2T/+6Rk5IAFRzBLfm9kgFGDij/NsCRO4MEnXeeAIQ0NZLe68ATIzWYcjI0FQUTAYG4GARMBYUYAQQoAsBHktFznLy0sSlohrcySM0V97trfW6mUEZ4r3G0Su6apFIYlLPRjDC0HKnNGDPCbCtAP2eeEAA3ZmhL+AAAG5JEGTcHdpB80aHvkDv0YiAhA2mHHOna1doX/uZ6qnnDUzTgKUABohnh230QAAMbEBQnNCETYME2cNbMBjy7BqoGICdqx1SsFklW0zpKswQnCikdnsJ4tsbhp/ASpfR1JaY61CrDJgx/F3EWoNSoEVBqRvuTG5yhcItANgUThn9//+tgCHmIeH3wBoCkKCxgISgSstpAzImgHGYaQ6AVraQgJgaXZN2SAGyriKC3mDpVtvoo5FXA4mYiIj/aAABUhpCZgEAUnGtWKCEAZ/BEFQDhceXTMw8yUktRRlhhbRJYUkSpDzpdNaErxzPiWxVMqtHMxstZL1/1froSdU2dnUSBCnAUUTDiw2FdX+MCo0MrMuDAAAE84aw5jGXtZrP0+3AGAJVVUyjYENrIhERZuDyP8PUISzy7xH/4MlwUJsBBcI7GR4DyaWF6iCwni4hbZmGQWTQIi6L3h+abmhZzs1OZ7gOu0RcL/+4Rk6AAS+iLI+68a+C5DOV9rAxlLuHch7eXlYMgNZP2WFVzAmUIpCmxCchkYSLdCTM0X2sVgAjJ+gEAnQkJe1v9aZjJCCJfFH1YIagNfLtAJODmCQtYaPzBF//yVIIAAAUHjJAVCHeXwjlgBxVOjKgO1ddIsKHgBBT1MQU1FMy4xMDBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVAAABzCFdZkkAAAsCDOBkGYUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVQ0kMkxBTUUzLjEwMKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqoZVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+2Rk7wEStyFJ+08a+icCKR9h4ycGxGkp7CSn6HKE4u2GCJRVVVVVVVVVVVVVVVVVVVVVSUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVSUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjH/+yRk7Idw1QbEowxBAA1AyIgl4wMBUA0PBWMAIBUBolQUmAYwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk6g9wQAJDKU8ACARASJUEQAEAXAsOA4wgIAaAYgAQAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4w/wDwDEAMAACAAAD/AAAAEAGAMUAQAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4o/wBgDEgEAACAAAD/AAAAEADAMaAIAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4g/wAwDGACAACAAAD/AAAAEADAMWAIAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4g/wAwDFgCAACAAAD/AAAAEADAMUAIAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRE4Y/wAAB/gAAACAAAD/AAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRE4Y/wAAB/gAAACAAAD/AAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRE4Y/wAAB/gAAACAAAD/AAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4Y/wAAB/gAAACAAAD/AAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4Y/wAAB/gAAACAAAD/AAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4Y/wAAB/gAAACAAADSAAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4Y/wAAB/gAAACAAAD/AAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4Y/wAAB/gAAACAAAD/AAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4Y/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVU=",SK="/assets/menu_navigate-C6GUIZQM.mp3";class es{constructor(t){this.options=t,this.sound=null,this.play=async(n=!0)=>{var r,i;try{if(n&&this.playing()){const s=(r=this.sound)==null?void 0:r.cloneNode(!0);await s.play(),s.remove()}else await((i=this.sound)==null?void 0:i.play())}catch(s){return console.warn(s)}},this.pause=()=>{var n;(n=this.sound)==null||n.pause()},this.stop=()=>{this.sound&&(this.sound.pause(),this.sound.currentTime=0)},this.playing=()=>{var n;return!((n=this.sound)!=null&&n.paused)},global.Audio&&(this.sound=new Audio(t.src),this.sound.preload=t.preload?"auto":"none",this.sound.volume=t.volume??1,this.sound.loop=t.loop??!1)}}class Iv{constructor(t,n){this.defaultSound=t,this.themeOverrides=n,this.getProperSound=()=>{var i;const r=lv.get();return((i=this.themeOverrides)==null?void 0:i[r])??this.defaultSound},this.play=async(r=!0)=>this.getProperSound().play(r),this.pause=()=>this.getProperSound().pause(),this.stop=()=>this.getProperSound().stop(),this.playing=()=>this.getProperSound().playing()}}const Rv=new es({src:SK}),Ix=new es({src:_K}),Rx=new es({src:bK}),Px=new Iv(new es({src:hK,preload:!0,volume:.5}),{halloween:new es({src:mK,preload:!0,volume:.7})}),Lm=new Iv(new es({src:pK,volume:.3,loop:!0}),{christmas:new es({src:uK,volume:.25,loop:!0}),halloween:new es({src:vK,volume:.3,loop:!0})}),JO=new Iv(new es({src:dK,preload:!0}),{halloween:new es({src:gK,preload:!0,volume:.4})}),Nm=new Iv(new es({src:fK,volume:.8}),{halloween:new es({src:AK,volume:.2})}),xK=new es({src:yK,preload:!0,volume:.5}),wK=Object.freeze(Object.defineProperty({__proto__:null,backgroundMusic:Lm,menuBack:Rx,menuEnter:Ix,menuNavigate:Rv,selectHalloweenSong:xK,waitFinished:JO,waitForReadinessMusic:Nm,woosh:Px},Symbol.toStringTag,{value:"Module"})),EK={RemoteMicClient:Wn,RemoteMicServer:cc,GameState:ct,GameEvents:ge,RemoteMicManager:Mt,SongDao:is,InputManager:tr,InputSourceManager:Ro,CameraManager:Xs,UserMediaService:rl,PlayersManager:it,SoundManager:wK,importSongs:async()=>{await(await Id(()=>import("./importSongsFromPostHog-wl_x4pA0.js"),[])).default()}};global.__exposeSingletons=()=>{global.__singletons=EK};console.log("Run global.__exposeSingletons() and inspect global.__singletons for debugging");var CK=!1;function kK(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function TK(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var IK=function(){function e(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!CK:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(TK(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=kK(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},e}(),ni="-ms-",T0="-moz-",tn="-webkit-",XO="comm",Mx="rule",jx="decl",RK="@import",ZO="@keyframes",PK="@layer",MK=Math.abs,Pv=String.fromCharCode,jK=Object.assign;function OK(e,t){return qr(e,0)^45?(((t<<2^qr(e,0))<<2^qr(e,1))<<2^qr(e,2))<<2^qr(e,3):0}function eV(e){return e.trim()}function VK(e,t){return(e=t.exec(e))?e[0]:e}function nn(e,t,n){return e.replace(t,n)}function G_(e,t){return e.indexOf(t)}function qr(e,t){return e.charCodeAt(t)|0}function Rh(e,t,n){return e.slice(t,n)}function Ao(e){return e.length}function Ox(e){return e.length}function Gg(e,t){return t.push(e),e}function LK(e,t){return e.map(t).join("")}var Mv=1,fd=1,tV=0,Fi=0,Ar=0,Pd="";function jv(e,t,n,r,i,s,o){return{value:e,root:t,parent:n,type:r,props:i,children:s,line:Mv,column:fd,length:o,return:""}}function If(e,t){return jK(jv("",null,null,"",null,null,0),e,{length:-e.length},t)}function NK(){return Ar}function BK(){return Ar=Fi>0?qr(Pd,--Fi):0,fd--,Ar===10&&(fd=1,Mv--),Ar}function ts(){return Ar=Fi<tV?qr(Pd,Fi++):0,fd++,Ar===10&&(fd=1,Mv++),Ar}function To(){return qr(Pd,Fi)}function Bm(){return Fi}function Yh(e,t){return Rh(Pd,e,t)}function Ph(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function nV(e){return Mv=fd=1,tV=Ao(Pd=e),Fi=0,[]}function rV(e){return Pd="",e}function Dm(e){return eV(Yh(Fi-1,q_(e===91?e+2:e===40?e+1:e)))}function DK(e){for(;(Ar=To())&&Ar<33;)ts();return Ph(e)>2||Ph(Ar)>3?"":" "}function FK(e,t){for(;--t&&ts()&&!(Ar<48||Ar>102||Ar>57&&Ar<65||Ar>70&&Ar<97););return Yh(e,Bm()+(t<6&&To()==32&&ts()==32))}function q_(e){for(;ts();)switch(Ar){case e:return Fi;case 34:case 39:e!==34&&e!==39&&q_(Ar);break;case 40:e===41&&q_(e);break;case 92:ts();break}return Fi}function $K(e,t){for(;ts()&&e+Ar!==57;)if(e+Ar===84&&To()===47)break;return"/*"+Yh(t,Fi-1)+"*"+Pv(e===47?e:ts())}function zK(e){for(;!Ph(To());)ts();return Yh(e,Fi)}function UK(e){return rV(Fm("",null,null,null,[""],e=nV(e),0,[0],e))}function Fm(e,t,n,r,i,s,o,l,d){for(var c=0,h=0,f=o,m=0,v=0,A=0,b=1,x=1,E=1,I=0,P="",T=i,w=s,R=r,j=P;x;)switch(A=I,I=ts()){case 40:if(A!=108&&qr(j,f-1)==58){G_(j+=nn(Dm(I),"&","&\f"),"&\f")!=-1&&(E=-1);break}case 34:case 39:case 91:j+=Dm(I);break;case 9:case 10:case 13:case 32:j+=DK(A);break;case 92:j+=FK(Bm()-1,7);continue;case 47:switch(To()){case 42:case 47:Gg(HK($K(ts(),Bm()),t,n),d);break;default:j+="/"}break;case 123*b:l[c++]=Ao(j)*E;case 125*b:case 59:case 0:switch(I){case 0:case 125:x=0;case 59+h:E==-1&&(j=nn(j,/\f/g,"")),v>0&&Ao(j)-f&&Gg(v>32?RI(j+";",r,n,f-1):RI(nn(j," ","")+";",r,n,f-2),d);break;case 59:j+=";";default:if(Gg(R=II(j,t,n,c,h,i,l,P,T=[],w=[],f),s),I===123)if(h===0)Fm(j,t,R,R,T,s,f,l,w);else switch(m===99&&qr(j,3)===110?100:m){case 100:case 108:case 109:case 115:Fm(e,R,R,r&&Gg(II(e,R,R,0,0,i,l,P,i,T=[],f),w),i,w,f,l,r?T:w);break;default:Fm(j,R,R,R,[""],w,0,l,w)}}c=h=v=0,b=E=1,P=j="",f=o;break;case 58:f=1+Ao(j),v=A;default:if(b<1){if(I==123)--b;else if(I==125&&b++==0&&BK()==125)continue}switch(j+=Pv(I),I*b){case 38:E=h>0?1:(j+="\f",-1);break;case 44:l[c++]=(Ao(j)-1)*E,E=1;break;case 64:To()===45&&(j+=Dm(ts())),m=To(),h=f=Ao(P=j+=zK(Bm())),I++;break;case 45:A===45&&Ao(j)==2&&(b=0)}}return s}function II(e,t,n,r,i,s,o,l,d,c,h){for(var f=i-1,m=i===0?s:[""],v=Ox(m),A=0,b=0,x=0;A<r;++A)for(var E=0,I=Rh(e,f+1,f=MK(b=o[A])),P=e;E<v;++E)(P=eV(b>0?m[E]+" "+I:nn(I,/&\f/g,m[E])))&&(d[x++]=P);return jv(e,t,n,i===0?Mx:l,d,c,h)}function HK(e,t,n){return jv(e,t,n,XO,Pv(NK()),Rh(e,2,-2),0)}function RI(e,t,n,r){return jv(e,t,n,jx,Rh(e,0,r),Rh(e,r+1,-1),r)}function Ku(e,t){for(var n="",r=Ox(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function GK(e,t,n,r){switch(e.type){case PK:if(e.children.length)break;case RK:case jx:return e.return=e.return||e.value;case XO:return"";case ZO:return e.return=e.value+"{"+Ku(e.children,r)+"}";case Mx:e.value=e.props.join(",")}return Ao(n=Ku(e.children,r))?e.return=e.value+"{"+n+"}":""}function qK(e){var t=Ox(e);return function(n,r,i,s){for(var o="",l=0;l<t;l++)o+=e[l](n,r,i,s)||"";return o}}function WK(e){return function(t){t.root||(t=t.return)&&e(t)}}function iV(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var KK=function(t,n,r){for(var i=0,s=0;i=s,s=To(),i===38&&s===12&&(n[r]=1),!Ph(s);)ts();return Yh(t,Fi)},YK=function(t,n){var r=-1,i=44;do switch(Ph(i)){case 0:i===38&&To()===12&&(n[r]=1),t[r]+=KK(Fi-1,n,r);break;case 2:t[r]+=Dm(i);break;case 4:if(i===44){t[++r]=To()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=Pv(i)}while(i=ts());return t},QK=function(t,n){return rV(YK(nV(t),n))},PI=new WeakMap,JK=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,i=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!PI.get(r))&&!i){PI.set(t,!0);for(var s=[],o=QK(n,s),l=r.props,d=0,c=0;d<o.length;d++)for(var h=0;h<l.length;h++,c++)t.props[c]=s[d]?o[d].replace(/&\f/g,l[h]):l[h]+" "+o[d]}}},XK=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function sV(e,t){switch(OK(e,t)){case 5103:return tn+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return tn+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return tn+e+T0+e+ni+e+e;case 6828:case 4268:return tn+e+ni+e+e;case 6165:return tn+e+ni+"flex-"+e+e;case 5187:return tn+e+nn(e,/(\w+).+(:[^]+)/,tn+"box-$1$2"+ni+"flex-$1$2")+e;case 5443:return tn+e+ni+"flex-item-"+nn(e,/flex-|-self/,"")+e;case 4675:return tn+e+ni+"flex-line-pack"+nn(e,/align-content|flex-|-self/,"")+e;case 5548:return tn+e+ni+nn(e,"shrink","negative")+e;case 5292:return tn+e+ni+nn(e,"basis","preferred-size")+e;case 6060:return tn+"box-"+nn(e,"-grow","")+tn+e+ni+nn(e,"grow","positive")+e;case 4554:return tn+nn(e,/([^-])(transform)/g,"$1"+tn+"$2")+e;case 6187:return nn(nn(nn(e,/(zoom-|grab)/,tn+"$1"),/(image-set)/,tn+"$1"),e,"")+e;case 5495:case 3959:return nn(e,/(image-set\([^]*)/,tn+"$1$`$1");case 4968:return nn(nn(e,/(.+:)(flex-)?(.*)/,tn+"box-pack:$3"+ni+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+tn+e+e;case 4095:case 3583:case 4068:case 2532:return nn(e,/(.+)-inline(.+)/,tn+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ao(e)-1-t>6)switch(qr(e,t+1)){case 109:if(qr(e,t+4)!==45)break;case 102:return nn(e,/(.+:)(.+)-([^]+)/,"$1"+tn+"$2-$3$1"+T0+(qr(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~G_(e,"stretch")?sV(nn(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(qr(e,t+1)!==115)break;case 6444:switch(qr(e,Ao(e)-3-(~G_(e,"!important")&&10))){case 107:return nn(e,":",":"+tn)+e;case 101:return nn(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+tn+(qr(e,14)===45?"inline-":"")+"box$3$1"+tn+"$2$3$1"+ni+"$2box$3")+e}break;case 5936:switch(qr(e,t+11)){case 114:return tn+e+ni+nn(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return tn+e+ni+nn(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return tn+e+ni+nn(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return tn+e+ni+e+e}return e}var ZK=function(t,n,r,i){if(t.length>-1&&!t.return)switch(t.type){case jx:t.return=sV(t.value,t.length);break;case ZO:return Ku([If(t,{value:nn(t.value,"@","@"+tn)})],i);case Mx:if(t.length)return LK(t.props,function(s){switch(VK(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Ku([If(t,{props:[nn(s,/:(read-\w+)/,":"+T0+"$1")]})],i);case"::placeholder":return Ku([If(t,{props:[nn(s,/:(plac\w+)/,":"+tn+"input-$1")]}),If(t,{props:[nn(s,/:(plac\w+)/,":"+T0+"$1")]}),If(t,{props:[nn(s,/:(plac\w+)/,ni+"input-$1")]})],i)}return""})}},eY=[ZK],oV=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(b){var x=b.getAttribute("data-emotion");x.indexOf(" ")!==-1&&(document.head.appendChild(b),b.setAttribute("data-s",""))})}var i=t.stylisPlugins||eY,s={},o,l=[];o=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(b){for(var x=b.getAttribute("data-emotion").split(" "),E=1;E<x.length;E++)s[x[E]]=!0;l.push(b)});var d,c=[JK,XK];{var h,f=[GK,WK(function(b){h.insert(b)})],m=qK(c.concat(i,f)),v=function(x){return Ku(UK(x),m)};d=function(x,E,I,P){h=I,v(x?x+"{"+E.styles+"}":E.styles),P&&(A.inserted[E.name]=!0)}}var A={key:n,sheet:new IK({key:n,container:o,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:s,registered:{},insert:d};return A.sheet.hydrate(l),A};function I0(){return I0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},I0.apply(null,arguments)}var tY=!0;function nY(e,t,n){var r="";return n.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):i&&(r+=i+" ")}),r}var aV=function(t,n,r){var i=t.key+"-"+n.name;(r===!1||tY===!1)&&t.registered[i]===void 0&&(t.registered[i]=n.styles)},lV=function(t,n,r){aV(t,n,r);var i=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var s=n;do t.insert(n===s?"."+i:"",s,t.sheet,!0),s=s.next;while(s!==void 0)}};function cV(e){for(var t=0,n,r=0,i=e.length;i>=4;++r,i-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var uV={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},rY=!1,iY=/[A-Z]|^ms/g,sY=/_EMO_([^_]+?)_([^]*?)_EMO_/g,dV=function(t){return t.charCodeAt(1)===45},MI=function(t){return t!=null&&typeof t!="boolean"},m1=iV(function(e){return dV(e)?e:e.replace(iY,"-$&").toLowerCase()}),jI=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(sY,function(r,i,s){return bo={name:i,styles:s,next:bo},i})}return uV[t]!==1&&!dV(t)&&typeof n=="number"&&n!==0?n+"px":n},oY="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function Mh(e,t,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return bo={name:i.name,styles:i.styles,next:bo},i.name;var s=n;if(s.styles!==void 0){var o=s.next;if(o!==void 0)for(;o!==void 0;)bo={name:o.name,styles:o.styles,next:bo},o=o.next;var l=s.styles+";";return l}return aY(e,t,n)}case"function":{if(e!==void 0){var d=bo,c=n(e);return bo=d,Mh(e,t,c)}break}}var h=n;if(t==null)return h;var f=t[h];return f!==void 0?f:h}function aY(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Mh(e,t,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object"){var l=o;t!=null&&t[l]!==void 0?r+=s+"{"+t[l]+"}":MI(l)&&(r+=m1(s)+":"+jI(s,l)+";")}else{if(s==="NO_COMPONENT_SELECTOR"&&rY)throw new Error(oY);if(Array.isArray(o)&&typeof o[0]=="string"&&(t==null||t[o[0]]===void 0))for(var d=0;d<o.length;d++)MI(o[d])&&(r+=m1(s)+":"+jI(s,o[d])+";");else{var c=Mh(e,t,o);switch(s){case"animation":case"animationName":{r+=m1(s)+":"+c+";";break}default:r+=s+"{"+c+"}"}}}}return r}var OI=/label:\s*([^\s;{]+)\s*(;|$)/g,bo;function Vx(e,t,n){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var r=!0,i="";bo=void 0;var s=e[0];if(s==null||s.raw===void 0)r=!1,i+=Mh(n,t,s);else{var o=s;i+=o[0]}for(var l=1;l<e.length;l++)if(i+=Mh(n,t,e[l]),r){var d=s;i+=d[l]}OI.lastIndex=0;for(var c="",h;(h=OI.exec(i))!==null;)c+="-"+h[1];var f=cV(i)+c;return{name:f,styles:i,next:bo}}var lY=function(t){return t()},fV=f0.useInsertionEffect?f0.useInsertionEffect:!1,cY=fV||lY,VI=fV||S.useLayoutEffect,hV=S.createContext(typeof HTMLElement<"u"?oV({key:"css"}):null),uY=hV.Provider,pV=function(t){return S.forwardRef(function(n,r){var i=S.useContext(hV);return t(n,i,r)})},Ov=S.createContext({}),dY=pV(function(e,t){var n=e.styles,r=Vx([n],void 0,S.useContext(Ov)),i=S.useRef();return VI(function(){var s=t.key+"-global",o=new t.sheet.constructor({key:s,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),l=!1,d=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return t.sheet.tags.length&&(o.before=t.sheet.tags[0]),d!==null&&(l=!0,d.setAttribute("data-emotion",s),o.hydrate([d])),i.current=[o,l],function(){o.flush()}},[t]),VI(function(){var s=i.current,o=s[0],l=s[1];if(l){s[1]=!1;return}if(r.next!==void 0&&lV(t,r.next,!0),o.tags.length){var d=o.tags[o.tags.length-1].nextElementSibling;o.before=d,o.flush()}t.insert("",r,o,!1)},[t,r.name]),null});function Ls(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Vx(t)}var Bc=function(){var t=Ls.apply(void 0,arguments),n="animation-"+t.name;return{name:n,styles:"@keyframes "+n+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};function Lx(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function fY(){this.__data__=new ma,this.size=0}function hY(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function pY(e){return this.__data__.get(e)}function gY(e){return this.__data__.has(e)}var mY=200;function vY(e,t){var n=this.__data__;if(n instanceof ma){var r=n.__data__;if(!kh||r.length<mY-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new va(r)}return n.set(e,t),this.size=n.size,this}function Io(e){var t=this.__data__=new ma(e);this.size=t.size}Io.prototype.clear=fY;Io.prototype.delete=hY;Io.prototype.get=pY;Io.prototype.has=gY;Io.prototype.set=vY;function yY(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var R0=function(){try{var e=Nc(Object,"defineProperty");return e({},"",{}),e}catch{}}();function gV(e,t,n){t=="__proto__"&&R0?R0(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var AY=Object.prototype,bY=AY.hasOwnProperty;function mV(e,t,n){var r=e[t];(!(bY.call(e,t)&&Av(r,n))||n===void 0&&!(t in e))&&gV(e,t,n)}function Qh(e,t,n,r){var i=!n;n||(n={});for(var s=-1,o=t.length;++s<o;){var l=t[s],d=void 0;d===void 0&&(d=e[l]),i?gV(n,l,d):mV(n,l,d)}return n}function _Y(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var SY="[object Arguments]";function LI(e){return ha(e)&&Vc(e)==SY}var vV=Object.prototype,xY=vV.hasOwnProperty,wY=vV.propertyIsEnumerable,Nx=LI(function(){return arguments}())?LI:function(e){return ha(e)&&xY.call(e,"callee")&&!wY.call(e,"callee")},js=Array.isArray;function EY(){return!1}var yV=typeof exports=="object"&&exports&&!exports.nodeType&&exports,NI=yV&&typeof module=="object"&&module&&!module.nodeType&&module,CY=NI&&NI.exports===yV,BI=CY?ao.Buffer:void 0,kY=BI?BI.isBuffer:void 0,P0=kY||EY,TY="[object Arguments]",IY="[object Array]",RY="[object Boolean]",PY="[object Date]",MY="[object Error]",jY="[object Function]",OY="[object Map]",VY="[object Number]",LY="[object Object]",NY="[object RegExp]",BY="[object Set]",DY="[object String]",FY="[object WeakMap]",$Y="[object ArrayBuffer]",zY="[object DataView]",UY="[object Float32Array]",HY="[object Float64Array]",GY="[object Int8Array]",qY="[object Int16Array]",WY="[object Int32Array]",KY="[object Uint8Array]",YY="[object Uint8ClampedArray]",QY="[object Uint16Array]",JY="[object Uint32Array]",In={};In[UY]=In[HY]=In[GY]=In[qY]=In[WY]=In[KY]=In[YY]=In[QY]=In[JY]=!0;In[TY]=In[IY]=In[$Y]=In[RY]=In[zY]=In[PY]=In[MY]=In[jY]=In[OY]=In[VY]=In[LY]=In[NY]=In[BY]=In[DY]=In[FY]=!1;function XY(e){return ha(e)&&Ex(e.length)&&!!In[Vc(e)]}function Bx(e){return function(t){return e(t)}}var AV=typeof exports=="object"&&exports&&!exports.nodeType&&exports,dh=AV&&typeof module=="object"&&module&&!module.nodeType&&module,ZY=dh&&dh.exports===AV,v1=ZY&&yO.process,hd=function(){try{var e=dh&&dh.require&&dh.require("util").types;return e||v1&&v1.binding&&v1.binding("util")}catch{}}(),DI=hd&&hd.isTypedArray,bV=DI?Bx(DI):XY,eQ=Object.prototype,tQ=eQ.hasOwnProperty;function _V(e,t){var n=js(e),r=!n&&Nx(e),i=!n&&!r&&P0(e),s=!n&&!r&&!i&&bV(e),o=n||r||i||s,l=o?_Y(e.length,String):[],d=l.length;for(var c in e)(t||tQ.call(e,c))&&!(o&&(c=="length"||i&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||kx(c,d)))&&l.push(c);return l}var nQ=Object.prototype;function Dx(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||nQ;return e===n}function SV(e,t){return function(n){return e(t(n))}}var rQ=SV(Object.keys,Object),iQ=Object.prototype,sQ=iQ.hasOwnProperty;function oQ(e){if(!Dx(e))return rQ(e);var t=[];for(var n in Object(e))sQ.call(e,n)&&n!="constructor"&&t.push(n);return t}function Jh(e){return Cx(e)?_V(e):oQ(e)}function aQ(e,t){return e&&Qh(t,Jh(t),e)}function lQ(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var cQ=Object.prototype,uQ=cQ.hasOwnProperty;function dQ(e){if(!ro(e))return lQ(e);var t=Dx(e),n=[];for(var r in e)r=="constructor"&&(t||!uQ.call(e,r))||n.push(r);return n}function Fx(e){return Cx(e)?_V(e,!0):dQ(e)}function fQ(e,t){return e&&Qh(t,Fx(t),e)}var xV=typeof exports=="object"&&exports&&!exports.nodeType&&exports,FI=xV&&typeof module=="object"&&module&&!module.nodeType&&module,hQ=FI&&FI.exports===xV,$I=hQ?ao.Buffer:void 0,zI=$I?$I.allocUnsafe:void 0;function pQ(e,t){if(t)return e.slice();var n=e.length,r=zI?zI(n):new e.constructor(n);return e.copy(r),r}function wV(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}function gQ(e,t){for(var n=-1,r=e==null?0:e.length,i=0,s=[];++n<r;){var o=e[n];t(o,n,e)&&(s[i++]=o)}return s}function EV(){return[]}var mQ=Object.prototype,vQ=mQ.propertyIsEnumerable,UI=Object.getOwnPropertySymbols,$x=UI?function(e){return e==null?[]:(e=Object(e),gQ(UI(e),function(t){return vQ.call(e,t)}))}:EV;function yQ(e,t){return Qh(e,$x(e),t)}function zx(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var Ux=SV(Object.getPrototypeOf,Object),AQ=Object.getOwnPropertySymbols,CV=AQ?function(e){for(var t=[];e;)zx(t,$x(e)),e=Ux(e);return t}:EV;function bQ(e,t){return Qh(e,CV(e),t)}function kV(e,t,n){var r=t(e);return js(e)?r:zx(r,n(e))}function W_(e){return kV(e,Jh,$x)}function TV(e){return kV(e,Fx,CV)}var K_=Nc(ao,"DataView"),Y_=Nc(ao,"Promise"),Yu=Nc(ao,"Set"),Q_=Nc(ao,"WeakMap"),HI="[object Map]",_Q="[object Object]",GI="[object Promise]",qI="[object Set]",WI="[object WeakMap]",KI="[object DataView]",SQ=Lc(K_),xQ=Lc(kh),wQ=Lc(Y_),EQ=Lc(Yu),CQ=Lc(Q_),Ys=Vc;(K_&&Ys(new K_(new ArrayBuffer(1)))!=KI||kh&&Ys(new kh)!=HI||Y_&&Ys(Y_.resolve())!=GI||Yu&&Ys(new Yu)!=qI||Q_&&Ys(new Q_)!=WI)&&(Ys=function(e){var t=Vc(e),n=t==_Q?e.constructor:void 0,r=n?Lc(n):"";if(r)switch(r){case SQ:return KI;case xQ:return HI;case wQ:return GI;case EQ:return qI;case CQ:return WI}return t});var kQ=Object.prototype,TQ=kQ.hasOwnProperty;function IQ(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&TQ.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var M0=ao.Uint8Array;function Hx(e){var t=new e.constructor(e.byteLength);return new M0(t).set(new M0(e)),t}function RQ(e,t){var n=t?Hx(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var PQ=/\w*$/;function MQ(e){var t=new e.constructor(e.source,PQ.exec(e));return t.lastIndex=e.lastIndex,t}var YI=Ms?Ms.prototype:void 0,QI=YI?YI.valueOf:void 0;function jQ(e){return QI?Object(QI.call(e)):{}}function OQ(e,t){var n=t?Hx(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var VQ="[object Boolean]",LQ="[object Date]",NQ="[object Map]",BQ="[object Number]",DQ="[object RegExp]",FQ="[object Set]",$Q="[object String]",zQ="[object Symbol]",UQ="[object ArrayBuffer]",HQ="[object DataView]",GQ="[object Float32Array]",qQ="[object Float64Array]",WQ="[object Int8Array]",KQ="[object Int16Array]",YQ="[object Int32Array]",QQ="[object Uint8Array]",JQ="[object Uint8ClampedArray]",XQ="[object Uint16Array]",ZQ="[object Uint32Array]";function eJ(e,t,n){var r=e.constructor;switch(t){case UQ:return Hx(e);case VQ:case LQ:return new r(+e);case HQ:return RQ(e,n);case GQ:case qQ:case WQ:case KQ:case YQ:case QQ:case JQ:case XQ:case ZQ:return OQ(e,n);case NQ:return new r;case BQ:case $Q:return new r(e);case DQ:return MQ(e);case FQ:return new r;case zQ:return jQ(e)}}var JI=Object.create,tJ=function(){function e(){}return function(t){if(!ro(t))return{};if(JI)return JI(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function nJ(e){return typeof e.constructor=="function"&&!Dx(e)?tJ(Ux(e)):{}}var rJ="[object Map]";function iJ(e){return ha(e)&&Ys(e)==rJ}var XI=hd&&hd.isMap,sJ=XI?Bx(XI):iJ,oJ="[object Set]";function aJ(e){return ha(e)&&Ys(e)==oJ}var ZI=hd&&hd.isSet,lJ=ZI?Bx(ZI):aJ,cJ=1,uJ=2,dJ=4,IV="[object Arguments]",fJ="[object Array]",hJ="[object Boolean]",pJ="[object Date]",gJ="[object Error]",RV="[object Function]",mJ="[object GeneratorFunction]",vJ="[object Map]",yJ="[object Number]",PV="[object Object]",AJ="[object RegExp]",bJ="[object Set]",_J="[object String]",SJ="[object Symbol]",xJ="[object WeakMap]",wJ="[object ArrayBuffer]",EJ="[object DataView]",CJ="[object Float32Array]",kJ="[object Float64Array]",TJ="[object Int8Array]",IJ="[object Int16Array]",RJ="[object Int32Array]",PJ="[object Uint8Array]",MJ="[object Uint8ClampedArray]",jJ="[object Uint16Array]",OJ="[object Uint32Array]",Sn={};Sn[IV]=Sn[fJ]=Sn[wJ]=Sn[EJ]=Sn[hJ]=Sn[pJ]=Sn[CJ]=Sn[kJ]=Sn[TJ]=Sn[IJ]=Sn[RJ]=Sn[vJ]=Sn[yJ]=Sn[PV]=Sn[AJ]=Sn[bJ]=Sn[_J]=Sn[SJ]=Sn[PJ]=Sn[MJ]=Sn[jJ]=Sn[OJ]=!0;Sn[gJ]=Sn[RV]=Sn[xJ]=!1;function $m(e,t,n,r,i,s){var o,l=t&cJ,d=t&uJ,c=t&dJ;if(n&&(o=i?n(e,r,i,s):n(e)),o!==void 0)return o;if(!ro(e))return e;var h=js(e);if(h){if(o=IQ(e),!l)return wV(e,o)}else{var f=Ys(e),m=f==RV||f==mJ;if(P0(e))return pQ(e,l);if(f==PV||f==IV||m&&!i){if(o=d||m?{}:nJ(e),!l)return d?bQ(e,fQ(o,e)):yQ(e,aQ(o,e))}else{if(!Sn[f])return i?e:{};o=eJ(e,f,l)}}s||(s=new Io);var v=s.get(e);if(v)return v;s.set(e,o),lJ(e)?e.forEach(function(x){o.add($m(x,t,n,x,e,s))}):sJ(e)&&e.forEach(function(x,E){o.set(E,$m(x,t,n,E,e,s))});var A=c?d?TV:W_:d?Fx:Jh,b=h?void 0:A(e);return yY(b||e,function(x,E){b&&(E=x,x=e[E]),mV(o,E,$m(x,t,n,E,e,s))}),o}var VJ=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,LJ=/^\w*$/;function Gx(e,t){if(js(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||yv(e)?!0:LJ.test(e)||!VJ.test(e)||t!=null&&e in Object(t)}var NJ=500;function BJ(e){var t=Sv(e,function(r){return n.size===NJ&&n.clear(),r}),n=t.cache;return t}var DJ=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,FJ=/\\(\\)?/g,$J=BJ(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(DJ,function(n,r,i,s){t.push(i?s.replace(FJ,"$1"):r||n)}),t}),zJ=1/0,eR=Ms?Ms.prototype:void 0,tR=eR?eR.toString:void 0;function MV(e){if(typeof e=="string")return e;if(js(e))return Lx(e,MV)+"";if(yv(e))return tR?tR.call(e):"";var t=e+"";return t=="0"&&1/e==-zJ?"-0":t}function qx(e){return e==null?"":MV(e)}function Vv(e,t){return js(e)?e:Gx(e,t)?[e]:$J(qx(e))}function UJ(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var HJ=1/0;function Xh(e){if(typeof e=="string"||yv(e))return e;var t=e+"";return t=="0"&&1/e==-HJ?"-0":t}function Wx(e,t){t=Vv(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[Xh(t[n++])];return n&&n==r?e:void 0}function Kx(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var s=Array(i);++r<i;)s[r]=e[r+t];return s}function GJ(e,t){return t.length<2?e:Wx(e,Kx(t,0,-1))}function qJ(e,t){return t=Vv(t,e),e=GJ(e,t),e==null||delete e[Xh(UJ(t))]}var WJ="[object Object]",KJ=Function.prototype,YJ=Object.prototype,jV=KJ.toString,QJ=YJ.hasOwnProperty,JJ=jV.call(Object);function XJ(e){if(!ha(e)||Vc(e)!=WJ)return!1;var t=Ux(e);if(t===null)return!0;var n=QJ.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&jV.call(n)==JJ}function ZJ(e){return XJ(e)?void 0:e}var nR=Ms?Ms.isConcatSpreadable:void 0;function eX(e){return js(e)||Nx(e)||!!(nR&&e&&e[nR])}function tX(e,t,n,r,i){var s=-1,o=e.length;for(n||(n=eX),i||(i=[]);++s<o;){var l=e[s];n(l)?zx(i,l):i[i.length]=l}return i}function nX(e){var t=e==null?0:e.length;return t?tX(e):[]}function rX(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var rR=Math.max;function iX(e,t,n){return t=rR(t===void 0?e.length-1:t,0),function(){for(var r=arguments,i=-1,s=rR(r.length-t,0),o=Array(s);++i<s;)o[i]=r[t+i];i=-1;for(var l=Array(t+1);++i<t;)l[i]=r[i];return l[t]=n(o),rX(e,this,l)}}function sX(e){return function(){return e}}function OV(e){return e}var oX=R0?function(e,t){return R0(e,"toString",{configurable:!0,enumerable:!1,value:sX(t),writable:!0})}:OV,aX=800,lX=16,cX=Date.now;function uX(e){var t=0,n=0;return function(){var r=cX(),i=lX-(r-n);if(n=r,i>0){if(++t>=aX)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var dX=uX(oX);function fX(e){return dX(iX(e,void 0,nX),e+"")}var hX=1,pX=2,gX=4,mX=fX(function(e,t){var n={};if(e==null)return n;var r=!1;t=Lx(t,function(s){return s=Vv(s,e),r||(r=s.length>1),s}),Qh(e,TV(e),n),r&&(n=$m(n,hX|pX|gX,ZJ));for(var i=t.length;i--;)qJ(n,t[i]);return n});function io(e,t=!1){const[n,r]=S.useState(null);return S.useEffect(()=>{const i=(...s)=>{r(s)};return e.subscribe(i,t),()=>e.unsubscribe(i)},[e]),n}function si(e,t,n=[]){const r=Array.isArray(e)?e:[e];S.useEffect(()=>(r.forEach(i=>i.subscribe(t)),()=>r.forEach(i=>i.unsubscribe(t))),[...r,t,...n])}function ss(e,t,n=[]){const r=S.useMemo(t,[]),[i,s]=S.useState(r),o=Array.isArray(e)?e:[e];return S.useEffect(()=>{s(t())},n),S.useEffect(()=>{const l=()=>s(t());return o.forEach(d=>d.subscribe(l)),()=>o.forEach(d=>d.unsubscribe(l))},[...o]),i}function vX(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var yX=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,AX=vX(function(e){return yX.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),bX=AX,_X=function(t){return t!=="theme"},iR=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?bX:_X},sR=function(t,n,r){var i;if(n){var s=n.shouldForwardProp;i=t.__emotion_forwardProp&&s?function(o){return t.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=t.__emotion_forwardProp),i},SX=function(t){var n=t.cache,r=t.serialized,i=t.isStringTag;return aV(n,r,i),cY(function(){return lV(n,r,i)}),null},G=function e(t,n){var r=t.__emotion_real===t,i=r&&t.__emotion_base||t,s,o;n!==void 0&&(s=n.label,o=n.target);var l=sR(t,n,r),d=l||iR(i),c=!d("as");return function(){var h=arguments,f=r&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(s!==void 0&&f.push("label:"+s+";"),h[0]==null||h[0].raw===void 0)f.push.apply(f,h);else{f.push(h[0][0]);for(var m=h.length,v=1;v<m;v++)f.push(h[v],h[0][v])}var A=pV(function(b,x,E){var I=c&&b.as||i,P="",T=[],w=b;if(b.theme==null){w={};for(var R in b)w[R]=b[R];w.theme=S.useContext(Ov)}typeof b.className=="string"?P=nY(x.registered,T,b.className):b.className!=null&&(P=b.className+" ");var j=Vx(f.concat(T),x.registered,w);P+=x.key+"-"+j.name,o!==void 0&&(P+=" "+o);var V=c&&l===void 0?iR(I):d,N={};for(var k in b)c&&k==="as"||V(k)&&(N[k]=b[k]);return N.className=P,N.ref=E,S.createElement(S.Fragment,null,S.createElement(SX,{cache:x,serialized:j,isStringTag:typeof I=="string"}),S.createElement(I,N))});return A.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",A.defaultProps=t.defaultProps,A.__emotion_real=A,A.__emotion_base=i,A.__emotion_styles=f,A.__emotion_forwardProp=l,Object.defineProperty(A,"toString",{value:function(){return"."+o}}),A.withComponent=function(b,x){return e(b,I0({},n,x,{shouldForwardProp:sR(A,x,!0)})).apply(void 0,f)},A}};const pd={animation:"focusAnimation 1000ms ease-in-out infinite both"},xX={boxShadow:`inset 0px 0px 0px 4px ${Ve.colors.text.active}`},xt={fontWeight:"bold",WebkitTextStroke:"0.1rem black",color:"white","& strong":{color:Ve.colors.text.active}};function wX(){var e=S.useRef(!0);return e.current?(e.current=!1,!0):e.current}var j0=function(){return j0=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},j0.apply(this,arguments)};function EX(){var e=S.useRef(!1),t=S.useCallback(function(){return e.current},[]);return S.useEffect(function(){return e.current=!0,function(){e.current=!1}},[]),t}function CX(e,t,n){t===void 0&&(t=[]),n===void 0&&(n={loading:!1});var r=S.useRef(0),i=EX(),s=S.useState(n),o=s[0],l=s[1],d=S.useCallback(function(){for(var c=[],h=0;h<arguments.length;h++)c[h]=arguments[h];var f=++r.current;return o.loading||l(function(m){return j0(j0({},m),{loading:!0})}),e.apply(void 0,c).then(function(m){return i()&&f===r.current&&l({value:m,loading:!1}),m},function(m){return i()&&f===r.current&&l({error:m,loading:!1}),m})},t);return[o,d]}function oR(e,t){t===void 0&&(t=[]);var n=CX(e,t,{loading:!0}),r=n[0],i=n[1];return S.useEffect(function(){i()},[i]),r}function kX(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e&&e.addEventListener&&e.addEventListener.apply(e,t)}function TX(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e&&e.removeEventListener&&e.removeEventListener.apply(e,t)}var IX=typeof window<"u",RX=function(e){return(e+1)%1e6};function VV(){var e=S.useReducer(RX,0),t=e[1];return t}var PX=function(e){S.useEffect(e,[])},MX=IX?window:null,aR=function(e){return!!e.addEventListener},lR=function(e){return!!e.on},jX=function(e,t,n,r){n===void 0&&(n=MX),S.useEffect(function(){if(t&&n)return aR(n)?kX(n,e,t,r):lR(n)&&n.on(e,t,r),function(){aR(n)?TX(n,e,t,r):lR(n)&&n.off(e,t,r)}},[e,t,n,JSON.stringify(r)])},LV=function(e,t){var n=S.useRef(function(){});S.useEffect(function(){n.current=e}),S.useEffect(function(){{var r=setInterval(function(){return n.current()},t);return function(){return clearInterval(r)}}},[t])},OX=function(e){var t=S.useRef(e);t.current=e,PX(function(){return function(){return t.current()}})};function VX(e){var t=S.useRef();return S.useEffect(function(){t.current=e}),t.current}var LX=function(e,t){return e===t};function NX(e,t){t===void 0&&(t=LX);var n=S.useRef(),r=S.useRef(e),i=wX();return!i&&!t(r.current,e)&&(n.current=r.current,r.current=e),n.current}function BX(){const[e,t]=S.useState(null),[n,r]=S.useState(cc.isStarted()),[i,s]=S.useState(cc.getLatency());LV(()=>{s(cc.getLatency())},1e3),si(ge.micServerStarted,()=>{r(!0)}),si(ge.micServerStopped,()=>{r(!1)});const o=ss([ge.remoteMicConnected,ge.remoteMicDisconnected],()=>Mt.getRemoteMics(),[n]);return S.useEffect(()=>{e===null&&n&&t(!0)},[n,e]),e?p.jsxs(DX,{children:[p.jsxs(cR,{children:[p.jsx("strong",{children:"Remote mic server"}),": ",n?"Online":"Offline",n&&i&&p.jsxs(p.Fragment,{children:[" (",i,"ms)"]})]}),n&&p.jsx(p.Fragment,{children:p.jsxs(cR,{children:[p.jsx("strong",{children:"connected mics"}),": ",o.length]})})]}):null}const DX=G("div",{target:"eeky7rp1"})("opacity:0.75;position:fixed;bottom:0;right:0;",xt,";font-size:1.5rem;padding:0.5rem;display:flex;gap:1rem;z-index:100000;pointer-events:none;"),cR=G("div",{target:"eeky7rp0"})(""),Yx="-",FX=e=>{const t=zX(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{const l=o.split(Yx);return l[0]===""&&l.length!==1&&l.shift(),NV(l,t)||$X(o)},getConflictingClassGroupIds:(o,l)=>{const d=n[o]||[];return l&&r[o]?[...d,...r[o]]:d}}},NV=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),i=r?NV(e.slice(1),r):void 0;if(i)return i;if(t.validators.length===0)return;const s=e.join(Yx);return(o=t.validators.find(({validator:l})=>l(s)))==null?void 0:o.classGroupId},uR=/^\[(.+)\]$/,$X=e=>{if(uR.test(e)){const t=uR.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},zX=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return HX(Object.entries(e.classGroups),n).forEach(([s,o])=>{J_(o,r,s,t)}),r},J_=(e,t,n,r)=>{e.forEach(i=>{if(typeof i=="string"){const s=i===""?t:dR(t,i);s.classGroupId=n;return}if(typeof i=="function"){if(UX(i)){J_(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{J_(o,dR(t,s),n,r)})})},dR=(e,t)=>{let n=e;return t.split(Yx).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},UX=e=>e.isThemeGetter,HX=(e,t)=>t?e.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,l])=>[t+o,l])):s);return[n,i]}):e,GX=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),t++,t>e&&(t=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},BV="!",qX=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,i=t[0],s=t.length,o=l=>{const d=[];let c=0,h=0,f;for(let x=0;x<l.length;x++){let E=l[x];if(c===0){if(E===i&&(r||l.slice(x,x+s)===t)){d.push(l.slice(h,x)),h=x+s;continue}if(E==="/"){f=x;continue}}E==="["?c++:E==="]"&&c--}const m=d.length===0?l:l.substring(h),v=m.startsWith(BV),A=v?m.substring(1):m,b=f&&f>h?f-h:void 0;return{modifiers:d,hasImportantModifier:v,baseClassName:A,maybePostfixModifierPosition:b}};return n?l=>n({className:l,parseClassName:o}):o},WX=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},KX=e=>({cache:GX(e.cacheSize),parseClassName:qX(e),...FX(e)}),YX=/\s+/,QX=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=t,s=[],o=e.trim().split(YX);let l="";for(let d=o.length-1;d>=0;d-=1){const c=o[d],{modifiers:h,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:v}=n(c);let A=!!v,b=r(A?m.substring(0,v):m);if(!b){if(!A){l=c+(l.length>0?" "+l:l);continue}if(b=r(m),!b){l=c+(l.length>0?" "+l:l);continue}A=!1}const x=WX(h).join(":"),E=f?x+BV:x,I=E+b;if(s.includes(I))continue;s.push(I);const P=i(b,A);for(let T=0;T<P.length;++T){const w=P[T];s.push(E+w)}l=c+(l.length>0?" "+l:l)}return l};function JX(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=DV(t))&&(r&&(r+=" "),r+=n);return r}const DV=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=DV(e[r]))&&(n&&(n+=" "),n+=t);return n};function XX(e,...t){let n,r,i,s=o;function o(d){const c=t.reduce((h,f)=>f(h),e());return n=KX(c),r=n.cache.get,i=n.cache.set,s=l,l(d)}function l(d){const c=r(d);if(c)return c;const h=QX(d,n);return i(d,h),h}return function(){return s(JX.apply(null,arguments))}}const Tn=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},FV=/^\[(?:([a-z-]+):)?(.+)\]$/i,ZX=/^\d+\/\d+$/,eZ=new Set(["px","full","screen"]),tZ=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,nZ=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,rZ=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,iZ=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,sZ=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Wo=e=>Qu(e)||eZ.has(e)||ZX.test(e),Fa=e=>Md(e,"length",hZ),Qu=e=>!!e&&!Number.isNaN(Number(e)),y1=e=>Md(e,"number",Qu),Rf=e=>!!e&&Number.isInteger(Number(e)),oZ=e=>e.endsWith("%")&&Qu(e.slice(0,-1)),It=e=>FV.test(e),$a=e=>tZ.test(e),aZ=new Set(["length","size","percentage"]),lZ=e=>Md(e,aZ,$V),cZ=e=>Md(e,"position",$V),uZ=new Set(["image","url"]),dZ=e=>Md(e,uZ,gZ),fZ=e=>Md(e,"",pZ),Pf=()=>!0,Md=(e,t,n)=>{const r=FV.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},hZ=e=>nZ.test(e)&&!rZ.test(e),$V=()=>!1,pZ=e=>iZ.test(e),gZ=e=>sZ.test(e),mZ=()=>{const e=Tn("colors"),t=Tn("spacing"),n=Tn("blur"),r=Tn("brightness"),i=Tn("borderColor"),s=Tn("borderRadius"),o=Tn("borderSpacing"),l=Tn("borderWidth"),d=Tn("contrast"),c=Tn("grayscale"),h=Tn("hueRotate"),f=Tn("invert"),m=Tn("gap"),v=Tn("gradientColorStops"),A=Tn("gradientColorStopPositions"),b=Tn("inset"),x=Tn("margin"),E=Tn("opacity"),I=Tn("padding"),P=Tn("saturate"),T=Tn("scale"),w=Tn("sepia"),R=Tn("skew"),j=Tn("space"),V=Tn("translate"),N=()=>["auto","contain","none"],k=()=>["auto","hidden","clip","visible","scroll"],B=()=>["auto",It,t],H=()=>[It,t],F=()=>["",Wo,Fa],U=()=>["auto",Qu,It],D=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],L=()=>["solid","dashed","dotted","double","none"],Y=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],q=()=>["start","end","center","between","around","evenly","stretch"],Q=()=>["","0",It],M=()=>["auto","avoid","all","avoid-page","page","left","right","column"],z=()=>[Qu,It];return{cacheSize:500,separator:":",theme:{colors:[Pf],spacing:[Wo,Fa],blur:["none","",$a,It],brightness:z(),borderColor:[e],borderRadius:["none","","full",$a,It],borderSpacing:H(),borderWidth:F(),contrast:z(),grayscale:Q(),hueRotate:z(),invert:Q(),gap:H(),gradientColorStops:[e],gradientColorStopPositions:[oZ,Fa],inset:B(),margin:B(),opacity:z(),padding:H(),saturate:z(),scale:z(),sepia:Q(),skew:z(),space:H(),translate:H()},classGroups:{aspect:[{aspect:["auto","square","video",It]}],container:["container"],columns:[{columns:[$a]}],"break-after":[{"break-after":M()}],"break-before":[{"break-before":M()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...D(),It]}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[b]}],"inset-x":[{"inset-x":[b]}],"inset-y":[{"inset-y":[b]}],start:[{start:[b]}],end:[{end:[b]}],top:[{top:[b]}],right:[{right:[b]}],bottom:[{bottom:[b]}],left:[{left:[b]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Rf,It]}],basis:[{basis:B()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",It]}],grow:[{grow:Q()}],shrink:[{shrink:Q()}],order:[{order:["first","last","none",Rf,It]}],"grid-cols":[{"grid-cols":[Pf]}],"col-start-end":[{col:["auto",{span:["full",Rf,It]},It]}],"col-start":[{"col-start":U()}],"col-end":[{"col-end":U()}],"grid-rows":[{"grid-rows":[Pf]}],"row-start-end":[{row:["auto",{span:[Rf,It]},It]}],"row-start":[{"row-start":U()}],"row-end":[{"row-end":U()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",It]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",It]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...q()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...q(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...q(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[I]}],px:[{px:[I]}],py:[{py:[I]}],ps:[{ps:[I]}],pe:[{pe:[I]}],pt:[{pt:[I]}],pr:[{pr:[I]}],pb:[{pb:[I]}],pl:[{pl:[I]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[j]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[j]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",It,t]}],"min-w":[{"min-w":[It,t,"min","max","fit"]}],"max-w":[{"max-w":[It,t,"none","full","min","max","fit","prose",{screen:[$a]},$a]}],h:[{h:[It,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[It,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[It,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[It,t,"auto","min","max","fit"]}],"font-size":[{text:["base",$a,Fa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",y1]}],"font-family":[{font:[Pf]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",It]}],"line-clamp":[{"line-clamp":["none",Qu,y1]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Wo,It]}],"list-image":[{"list-image":["none",It]}],"list-style-type":[{list:["none","disc","decimal",It]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[E]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[E]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...L(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Wo,Fa]}],"underline-offset":[{"underline-offset":["auto",Wo,It]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:H()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",It]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",It]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[E]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...D(),cZ]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",lZ]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},dZ]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[A]}],"gradient-via-pos":[{via:[A]}],"gradient-to-pos":[{to:[A]}],"gradient-from":[{from:[v]}],"gradient-via":[{via:[v]}],"gradient-to":[{to:[v]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[E]}],"border-style":[{border:[...L(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[E]}],"divide-style":[{divide:L()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...L()]}],"outline-offset":[{"outline-offset":[Wo,It]}],"outline-w":[{outline:[Wo,Fa]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:F()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[E]}],"ring-offset-w":[{"ring-offset":[Wo,Fa]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",$a,fZ]}],"shadow-color":[{shadow:[Pf]}],opacity:[{opacity:[E]}],"mix-blend":[{"mix-blend":[...Y(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Y()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[d]}],"drop-shadow":[{"drop-shadow":["","none",$a,It]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[f]}],saturate:[{saturate:[P]}],sepia:[{sepia:[w]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[d]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[E]}],"backdrop-saturate":[{"backdrop-saturate":[P]}],"backdrop-sepia":[{"backdrop-sepia":[w]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",It]}],duration:[{duration:z()}],ease:[{ease:["linear","in","out","in-out",It]}],delay:[{delay:z()}],animate:[{animate:["none","spin","ping","pulse","bounce",It]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[T]}],"scale-x":[{"scale-x":[T]}],"scale-y":[{"scale-y":[T]}],rotate:[{rotate:[Rf,It]}],"translate-x":[{"translate-x":[V]}],"translate-y":[{"translate-y":[V]}],"skew-x":[{"skew-x":[R]}],"skew-y":[{"skew-y":[R]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",It]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",It]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":H()}],"scroll-mx":[{"scroll-mx":H()}],"scroll-my":[{"scroll-my":H()}],"scroll-ms":[{"scroll-ms":H()}],"scroll-me":[{"scroll-me":H()}],"scroll-mt":[{"scroll-mt":H()}],"scroll-mr":[{"scroll-mr":H()}],"scroll-mb":[{"scroll-mb":H()}],"scroll-ml":[{"scroll-ml":H()}],"scroll-p":[{"scroll-p":H()}],"scroll-px":[{"scroll-px":H()}],"scroll-py":[{"scroll-py":H()}],"scroll-ps":[{"scroll-ps":H()}],"scroll-pe":[{"scroll-pe":H()}],"scroll-pt":[{"scroll-pt":H()}],"scroll-pr":[{"scroll-pr":H()}],"scroll-pb":[{"scroll-pb":H()}],"scroll-pl":[{"scroll-pl":H()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",It]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Wo,Fa,y1]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},zV=XX(mZ),xc=S.forwardRef(function({as:t,className:n,children:r,active:i,...s},o){const l=t||"span";return p.jsx(l,{className:zV(`typography text-base [&_a]:text-active [&_a]:typography ${i?"text-active":""}`,n),...s,ref:o,children:r})});var A1=typeof navigator<"u"?navigator.userAgent.toLowerCase().indexOf("firefox")>0:!1;function b1(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r):e.attachEvent&&e.attachEvent("on".concat(t),function(){n(window.event)})}function UV(e,t){for(var n=t.slice(0,t.length-1),r=0;r<n.length;r++)n[r]=e[n[r].toLowerCase()];return n}function HV(e){typeof e!="string"&&(e=""),e=e.replace(/\s/g,"");for(var t=e.split(","),n=t.lastIndexOf("");n>=0;)t[n-1]+=",",t.splice(n,1),n=t.lastIndexOf("");return t}function vZ(e,t){for(var n=e.length>=t.length?e:t,r=e.length>=t.length?t:e,i=!0,s=0;s<n.length;s++)r.indexOf(n[s])===-1&&(i=!1);return i}var Qx={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,num_0:96,num_1:97,num_2:98,num_3:99,num_4:100,num_5:101,num_6:102,num_7:103,num_8:104,num_9:105,num_multiply:106,num_add:107,num_enter:108,num_subtract:109,num_decimal:110,num_divide:111,"":20,",":188,".":190,"/":191,"`":192,"-":A1?173:189,"=":A1?61:187,";":A1?59:186,"'":222,"[":219,"]":221,"\\":220},al={"":16,shift:16,"":18,alt:18,option:18,"":17,ctrl:17,control:17,"":91,cmd:91,command:91},X_={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},Gr={16:!1,18:!1,17:!1,91:!1},mr={};for(var qg=1;qg<20;qg++)Qx["f".concat(qg)]=111+qg;var Bn=[],fR=!1,GV="all",qV=[],Lv=function(t){return Qx[t.toLowerCase()]||al[t.toLowerCase()]||t.toUpperCase().charCodeAt(0)};function WV(e){GV=e||"all"}function jh(){return GV||"all"}function yZ(){return Bn.slice(0)}function AZ(e){var t=e.target||e.srcElement,n=t.tagName,r=!0;return(t.isContentEditable||(n==="INPUT"||n==="TEXTAREA"||n==="SELECT")&&!t.readOnly)&&(r=!1),r}function bZ(e){return typeof e=="string"&&(e=Lv(e)),Bn.indexOf(e)!==-1}function _Z(e,t){var n,r;e||(e=jh());for(var i in mr)if(Object.prototype.hasOwnProperty.call(mr,i))for(n=mr[i],r=0;r<n.length;)n[r].scope===e?n.splice(r,1):r++;jh()===e&&WV(t||"all")}function SZ(e){var t=e.keyCode||e.which||e.charCode,n=Bn.indexOf(t);if(n>=0&&Bn.splice(n,1),e.key&&e.key.toLowerCase()==="meta"&&Bn.splice(0,Bn.length),(t===93||t===224)&&(t=91),t in Gr){Gr[t]=!1;for(var r in al)al[r]===t&&(Xi[r]=!1)}}function xZ(e){if(typeof e>"u")Object.keys(mr).forEach(function(o){return delete mr[o]});else if(Array.isArray(e))e.forEach(function(o){o.key&&_1(o)});else if(typeof e=="object")e.key&&_1(e);else if(typeof e=="string"){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n[0],s=n[1];typeof i=="function"&&(s=i,i=""),_1({key:e,scope:i,method:s,splitKey:"+"})}}var _1=function(t){var n=t.key,r=t.scope,i=t.method,s=t.splitKey,o=s===void 0?"+":s,l=HV(n);l.forEach(function(d){var c=d.split(o),h=c.length,f=c[h-1],m=f==="*"?"*":Lv(f);if(mr[m]){r||(r=jh());var v=h>1?UV(al,c):[];mr[m]=mr[m].filter(function(A){var b=i?A.method===i:!0;return!(b&&A.scope===r&&vZ(A.mods,v))})}})};function hR(e,t,n,r){if(t.element===r){var i;if(t.scope===n||t.scope==="all"){i=t.mods.length>0;for(var s in Gr)Object.prototype.hasOwnProperty.call(Gr,s)&&(!Gr[s]&&t.mods.indexOf(+s)>-1||Gr[s]&&t.mods.indexOf(+s)===-1)&&(i=!1);(t.mods.length===0&&!Gr[16]&&!Gr[18]&&!Gr[17]&&!Gr[91]||i||t.shortcut==="*")&&t.method(e,t)===!1&&(e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.cancelBubble&&(e.cancelBubble=!0))}}}function pR(e,t){var n=mr["*"],r=e.keyCode||e.which||e.charCode;if(Xi.filter.call(this,e)){if((r===93||r===224)&&(r=91),Bn.indexOf(r)===-1&&r!==229&&Bn.push(r),["ctrlKey","altKey","shiftKey","metaKey"].forEach(function(A){var b=X_[A];e[A]&&Bn.indexOf(b)===-1?Bn.push(b):!e[A]&&Bn.indexOf(b)>-1?Bn.splice(Bn.indexOf(b),1):A==="metaKey"&&e[A]&&Bn.length===3&&(e.ctrlKey||e.shiftKey||e.altKey||(Bn=Bn.slice(Bn.indexOf(b))))}),r in Gr){Gr[r]=!0;for(var i in al)al[i]===r&&(Xi[i]=!0);if(!n)return}for(var s in Gr)Object.prototype.hasOwnProperty.call(Gr,s)&&(Gr[s]=e[X_[s]]);e.getModifierState&&!(e.altKey&&!e.ctrlKey)&&e.getModifierState("AltGraph")&&(Bn.indexOf(17)===-1&&Bn.push(17),Bn.indexOf(18)===-1&&Bn.push(18),Gr[17]=!0,Gr[18]=!0);var o=jh();if(n)for(var l=0;l<n.length;l++)n[l].scope===o&&(e.type==="keydown"&&n[l].keydown||e.type==="keyup"&&n[l].keyup)&&hR(e,n[l],o,t);if(r in mr){for(var d=0;d<mr[r].length;d++)if((e.type==="keydown"&&mr[r][d].keydown||e.type==="keyup"&&mr[r][d].keyup)&&mr[r][d].key){for(var c=mr[r][d],h=c.splitKey,f=c.key.split(h),m=[],v=0;v<f.length;v++)m.push(Lv(f[v]));m.sort().join("")===Bn.sort().join("")&&hR(e,c,o,t)}}}}function wZ(e){return qV.indexOf(e)>-1}function Xi(e,t,n){Bn=[];var r=HV(e),i=[],s="all",o=document,l=0,d=!1,c=!0,h="+",f=!1;for(n===void 0&&typeof t=="function"&&(n=t),Object.prototype.toString.call(t)==="[object Object]"&&(t.scope&&(s=t.scope),t.element&&(o=t.element),t.keyup&&(d=t.keyup),t.keydown!==void 0&&(c=t.keydown),t.capture!==void 0&&(f=t.capture),typeof t.splitKey=="string"&&(h=t.splitKey)),typeof t=="string"&&(s=t);l<r.length;l++)e=r[l].split(h),i=[],e.length>1&&(i=UV(al,e)),e=e[e.length-1],e=e==="*"?"*":Lv(e),e in mr||(mr[e]=[]),mr[e].push({keyup:d,keydown:c,scope:s,mods:i,shortcut:r[l],method:n,key:r[l],splitKey:h,element:o});typeof o<"u"&&!wZ(o)&&window&&(qV.push(o),b1(o,"keydown",function(m){pR(m,o)},f),fR||(fR=!0,b1(window,"focus",function(){Bn=[]},f)),b1(o,"keyup",function(m){pR(m,o),SZ(m)},f))}function EZ(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"all";Object.keys(mr).forEach(function(n){var r=mr[n].find(function(i){return i.scope===t&&i.shortcut===e});r&&r.method&&r.method()})}var S1={setScope:WV,getScope:jh,deleteScope:_Z,getPressedKeyCodes:yZ,isPressed:bZ,filter:AZ,trigger:EZ,unbind:xZ,keyMap:Qx,modifier:al,modifierMap:X_};for(var x1 in S1)Object.prototype.hasOwnProperty.call(S1,x1)&&(Xi[x1]=S1[x1]);if(typeof window<"u"){var CZ=window.hotkeys;Xi.noConflict=function(e){return e&&window.hotkeys===Xi&&(window.hotkeys=CZ),Xi},window.hotkeys=Xi}Xi.filter=function(){return!0};var KV=function(t,n){var r=t.target,i=r&&r.tagName;return!!(i&&n&&n.includes(i))},kZ=function(t){return KV(t,["INPUT","TEXTAREA","SELECT"])};function mi(e,t,n,r){n instanceof Array&&(r=n,n=void 0);var i=n||{},s=i.enableOnTags,o=i.filter,l=i.keyup,d=i.keydown,c=i.filterPreventDefault,h=c===void 0?!0:c,f=i.enabled,m=f===void 0?!0:f,v=i.enableOnContentEditable,A=v===void 0?!1:v,b=S.useRef(null),x=S.useCallback(function(E,I){var P,T;return o&&!o(E)?!h:kZ(E)&&!KV(E,s)||(P=E.target)!=null&&P.isContentEditable&&!A?!0:b.current===null||document.activeElement===b.current||(T=b.current)!=null&&T.contains(document.activeElement)?(t(E,I),!0):!1},r?[b,s,o].concat(r):[b,s,o]);return S.useEffect(function(){if(!m){Xi.unbind(e,x);return}return l&&d!==!0&&(n.keydown=!1),Xi(e,n||{},x),function(){return Xi.unbind(e,x)}},[x,e,m]),b}Xi.isPressed;const Z_="a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,r,s,t,u,w,x,y,z,1,2,3,4,5,6,7,8,9,0";var A5,bm,b5;try{(b5=(bm=(A5=global==null?void 0:global.navigator)==null?void 0:A5.keyboard)==null?void 0:bm.lock)==null||b5.call(bm,["Escape"])}catch(e){console.warn(e)}var _5,S5;const TZ=!!((S5=(_5=global==null?void 0:global.navigator)==null?void 0:_5.keyboard)!=null&&S5.lock),zl=e=>t=>{e&&(t.preventDefault(),t.stopPropagation(),e(t))};function Dc(e,t=!0,n){si(ge.remoteKeyboardPressed,r=>{var i;t&&r in e&&((i=e[r])==null||i.call(e))}),mi("up",zl(e.up),{enabled:t&&!!(e!=null&&e.up)},n),mi("down",zl(e.down),{enabled:t&&!!(e!=null&&e.down)},n),mi("left",zl(e.left),{enabled:t&&!!(e!=null&&e.left)},n),mi("right",zl(e.right),{enabled:t&&!!(e!=null&&e.right)},n),mi("Enter",zl(e.accept),{enabled:t&&!!(e!=null&&e.accept)},n),mi("Escape,Backspace",zl(e.back),{enabled:t&&!!(e!=null&&e.back)},n),mi("Shift+R",zl(e.random),{enabled:t&&!!(e!=null&&e.random)},n)}function YV(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=YV(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function rn(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=YV(e))&&(r&&(r+=" "),r+=t);return r}function IZ(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function RZ(...e){return t=>e.forEach(n=>IZ(n,t))}var QV=S.forwardRef((e,t)=>{const{children:n,...r}=e,i=S.Children.toArray(n),s=i.find(MZ);if(s){const o=s.props.children,l=i.map(d=>d===s?S.Children.count(o)>1?S.Children.only(null):S.isValidElement(o)?o.props.children:null:d);return p.jsx(eS,{...r,ref:t,children:S.isValidElement(o)?S.cloneElement(o,void 0,l):null})}return p.jsx(eS,{...r,ref:t,children:n})});QV.displayName="Slot";var eS=S.forwardRef((e,t)=>{const{children:n,...r}=e;if(S.isValidElement(n)){const i=OZ(n);return S.cloneElement(n,{...jZ(r,n.props),ref:t?RZ(t,i):i})}return S.Children.count(n)>1?S.Children.only(null):null});eS.displayName="SlotClone";var PZ=({children:e})=>p.jsx(p.Fragment,{children:e});function MZ(e){return S.isValidElement(e)&&e.type===PZ}function jZ(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...l)=>{s(...l),i(...l)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function OZ(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function VZ(e,t){const n={},r=Object.keys(e);for(let i=0;i<r.length;i++){const s=r[i];t(s)&&(n[s]=e[s])}return n}const LZ=(e={})=>{const t=e.compose||rn,n=e.shouldForwardProp||(i=>i[0]!=="$"),r=i=>{const s=(o,l=n)=>{const d=(c,...h)=>{const f=typeof c=="function",m=!f&&String.raw({raw:c},...h);return S.forwardRef((v,A)=>{const{className:b,asChild:x,...E}=v,I=typeof o=="function"?o(v):o||{},P=VZ({...I,...E},l),T=x?QV:i,w=f?c(v):m;return S.createElement(T,{ref:A,className:typeof w=="function"?R=>t(w(R),typeof b=="function"?b(R):b):t(w,b),...P})})};return d.transientProps=c=>s(o,typeof c=="function"?f=>!c(f):f=>!c.includes(f)),o===void 0&&(d.attrs=c=>s(c)),d};return s()};return new Proxy(i=>r(i),{get(i,s){return r(s)}})},$n=LZ();function NZ({help:e}){const[t]=Tt(Qr),[n,r]=Tt(Xj);mi("shift+h",()=>r(!n),void 0,[n]);const i=Object.entries(e??{}).filter(([,s])=>s!==void 0);return t?null:p.jsx(p.Fragment,{children:p.jsx(qZ,{"data-test":"help-container",onClick:()=>r(!n),"data-visible":!!i.length&&n,children:n&&p.jsxs(p.Fragment,{children:[p.jsx(GZ,{className:"UseKeyboardIndicator",children:"Use indicated keys on your keyboard"}),i.map(([s,o])=>{const{view:l,defaultLabel:d}=HZ[s];return p.jsxs(gR,{children:[p.jsx(vR,{children:o??d}),p.jsx(mR,{children:p.jsx(l,{})})]},s)}),p.jsxs(gR,{children:[p.jsx(vR,{children:"Show/hide this help"}),p.jsx(mR,{children:JV("h")()})]})]})})})}const Jx=({vertical:e=!1,horizontal:t=!1})=>p.jsxs(p.Fragment,{children:[p.jsx(ko,{disabled:!e,children:""}),p.jsx("br",{}),p.jsx(ko,{disabled:!t,children:""}),p.jsx(ko,{disabled:!e,children:""}),p.jsx(ko,{disabled:!t,children:""})]}),BZ=()=>p.jsx(Jx,{horizontal:!0}),DZ=()=>p.jsx(Jx,{vertical:!0}),FZ=()=>p.jsx(Jx,{vertical:!0,horizontal:!0}),$Z=()=>p.jsx(ko,{children:"Enter "}),zZ=()=>TZ?p.jsx(ko,{children:"Escape"}):p.jsx(ko,{children:"Backspace "}),JV=e=>()=>p.jsxs(p.Fragment,{children:[p.jsx(ko,{children:"Shift"})," + ",p.jsx(ko,{children:e.toUpperCase()})]}),UZ=()=>p.jsx(p.Fragment,{children:p.jsx(ko,{children:"start typing"})}),HZ={"horizontal-vertical":{view:FZ,defaultLabel:"Navigate"},horizontal:{view:BZ,defaultLabel:"Navigate"},vertical:{view:DZ,defaultLabel:"Navigate"},accept:{view:$Z,defaultLabel:"Select"},back:{view:zZ,defaultLabel:"Go back"},shiftR:{view:JV("r"),defaultLabel:"Pick random"},alphanumeric:{view:UZ,defaultLabel:"Search"}},gR=$n.div`flex items-center gap-4`,mR=$n.div`flex-nowrap flex-[2] text-white font-bold text-center [&_kbd]:m-1`,vR=$n(xc)`flex-[3] text-base text-right`,GZ=$n(xc)`absolute inset-0 bg-black/75 flex items-center justify-center text-white text-md p-8 invisible opacity-0 duration-300 hover:opacity-100 hover:visible`,qZ=$n.div(e=>["fixed top-[5rem] right-0 p-2 bg-black/50  flex-col gap-4 w-[34rem] cursor-pointer scale-75 z-[1000] [view-transition-name:help-view] [&_svg]:fill-white [&_.UseKeyboardIndicator]:hover:opacity-100 [&_.UseKeyboardIndicator]:hover:visible",e["data-visible"]?"flex mobile:hidden":"hidden"]),ko=$n.kbd(e=>["py-3 px-4 rounded-md border-t-gray-300 border-l-gray-300 border-solid border-[1.25px] border-gray-500 text-gray-700 leading-4 text-sm bg-gray-50 inline-block font-normal",e.disabled?"opacity-25":"opacity-100"]),Xx=S.createContext({setKeyboard:(e,t)=>{},unsetKeyboard:e=>{},hasContent:!1}),WZ=({children:e})=>{const[t,n]=S.useState({}),r=(h,f)=>{n(m=>({...m,[h]:f}))},i=h=>n(f=>mX(f,[h])),[s,o]=Object.entries(t).at(-1)??[];si(ge.remoteMicConnected,({id:h})=>{var f;(f=Mt.getRemoteMicById(h))==null||f.connection.send({t:"keyboard-layout",help:o})}),S.useEffect(()=>{Mt.broadcast({t:"keyboard-layout",help:o})},[s]);const{remote:l,...d}=o??{},c=!!Object.values(d).length;return p.jsxs(Xx.Provider,{value:{setKeyboard:r,unsetKeyboard:i,hasContent:c},children:[e,p.jsx(NZ,{help:d}),p.jsx(BX,{})]})};var w1,yR;function KZ(){return yR||(yR=1,w1={webm:"data:video/webm;base64,GkXfowEAAAAAAAAfQoaBAUL3gQFC8oEEQvOBCEKChHdlYm1Ch4EEQoWBAhhTgGcBAAAAAAAVkhFNm3RALE27i1OrhBVJqWZTrIHfTbuMU6uEFlSua1OsggEwTbuMU6uEHFO7a1OsghV17AEAAAAAAACkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmAQAAAAAAAEUq17GDD0JATYCNTGF2ZjU1LjMzLjEwMFdBjUxhdmY1NS4zMy4xMDBzpJBlrrXf3DCDVB8KcgbMpcr+RImIQJBgAAAAAAAWVK5rAQAAAAAAD++uAQAAAAAAADLXgQFzxYEBnIEAIrWcg3VuZIaFVl9WUDiDgQEj44OEAmJaAOABAAAAAAAABrCBsLqBkK4BAAAAAAAPq9eBAnPFgQKcgQAitZyDdW5khohBX1ZPUkJJU4OBAuEBAAAAAAAAEZ+BArWIQOdwAAAAAABiZIEgY6JPbwIeVgF2b3JiaXMAAAAAAoC7AAAAAAAAgLUBAAAAAAC4AQN2b3JiaXMtAAAAWGlwaC5PcmcgbGliVm9yYmlzIEkgMjAxMDExMDEgKFNjaGF1ZmVudWdnZXQpAQAAABUAAABlbmNvZGVyPUxhdmM1NS41Mi4xMDIBBXZvcmJpcyVCQ1YBAEAAACRzGCpGpXMWhBAaQlAZ4xxCzmvsGUJMEYIcMkxbyyVzkCGkoEKIWyiB0JBVAABAAACHQXgUhIpBCCGEJT1YkoMnPQghhIg5eBSEaUEIIYQQQgghhBBCCCGERTlokoMnQQgdhOMwOAyD5Tj4HIRFOVgQgydB6CCED0K4moOsOQghhCQ1SFCDBjnoHITCLCiKgsQwuBaEBDUojILkMMjUgwtCiJqDSTX4GoRnQXgWhGlBCCGEJEFIkIMGQcgYhEZBWJKDBjm4FITLQagahCo5CB+EIDRkFQCQAACgoiiKoigKEBqyCgDIAAAQQFEUx3EcyZEcybEcCwgNWQUAAAEACAAAoEiKpEiO5EiSJFmSJVmSJVmS5omqLMuyLMuyLMsyEBqyCgBIAABQUQxFcRQHCA1ZBQBkAAAIoDiKpViKpWiK54iOCISGrAIAgAAABAAAEDRDUzxHlETPVFXXtm3btm3btm3btm3btm1blmUZCA1ZBQBAAAAQ0mlmqQaIMAMZBkJDVgEACAAAgBGKMMSA0JBVAABAAACAGEoOogmtOd+c46BZDppKsTkdnEi1eZKbirk555xzzsnmnDHOOeecopxZDJoJrTnnnMSgWQqaCa0555wnsXnQmiqtOeeccc7pYJwRxjnnnCateZCajbU555wFrWmOmkuxOeecSLl5UptLtTnnnHPOOeecc84555zqxekcnBPOOeecqL25lpvQxTnnnE/G6d6cEM4555xzzjnnnHPOOeecIDRkFQAABABAEIaNYdwpCNLnaCBGEWIaMulB9+gwCRqDnELq0ehopJQ6CCWVcVJKJwgNWQUAAAIAQAghhRRSSCGFFFJIIYUUYoghhhhyyimnoIJKKqmooowyyyyzzDLLLLPMOuyssw47DDHEEEMrrcRSU2011lhr7jnnmoO0VlprrbVSSimllFIKQkNWAQAgAAAEQgYZZJBRSCGFFGKIKaeccgoqqIDQkFUAACAAgAAAAABP8hzRER3RER3RER3RER3R8RzPESVREiVREi3TMjXTU0VVdWXXlnVZt31b2IVd933d933d+HVhWJZlWZZlWZZlWZZlWZZlWZYgNGQVAAACAAAghBBCSCGFFFJIKcYYc8w56CSUEAgNWQUAAAIACAAAAHAUR3EcyZEcSbIkS9IkzdIsT/M0TxM9URRF0zRV0RVdUTdtUTZl0zVdUzZdVVZtV5ZtW7Z125dl2/d93/d93/d93/d93/d9XQdCQ1YBABIAADqSIymSIimS4ziOJElAaMgqAEAGAEAAAIriKI7jOJIkSZIlaZJneZaomZrpmZ4qqkBoyCoAABAAQAAAAAAAAIqmeIqpeIqoeI7oiJJomZaoqZoryqbsuq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq4LhIasAgAkAAB0JEdyJEdSJEVSJEdygNCQVQCADACAAAAcwzEkRXIsy9I0T/M0TxM90RM901NFV3SB0JBVAAAgAIAAAAAAAAAMybAUy9EcTRIl1VItVVMt1VJF1VNVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVN0zRNEwgNWQkAkAEAkBBTLS3GmgmLJGLSaqugYwxS7KWxSCpntbfKMYUYtV4ah5RREHupJGOKQcwtpNApJq3WVEKFFKSYYyoVUg5SIDRkhQAQmgHgcBxAsixAsiwAAAAAAAAAkDQN0DwPsDQPAAAAAAAAACRNAyxPAzTPAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABA0jRA8zxA8zwAAAAAAAAA0DwP8DwR8EQRAAAAAAAAACzPAzTRAzxRBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABA0jRA8zxA8zwAAAAAAAAAsDwP8EQR0DwRAAAAAAAAACzPAzxRBDzRAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAEOAAABBgIRQasiIAiBMAcEgSJAmSBM0DSJYFTYOmwTQBkmVB06BpME0AAAAAAAAAAAAAJE2DpkHTIIoASdOgadA0iCIAAAAAAAAAAAAAkqZB06BpEEWApGnQNGgaRBEAAAAAAAAAAAAAzzQhihBFmCbAM02IIkQRpgkAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAGHAAAAgwoQwUGrIiAIgTAHA4imUBAIDjOJYFAACO41gWAABYliWKAABgWZooAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAYcAAACDChDBQashIAiAIAcCiKZQHHsSzgOJYFJMmyAJYF0DyApgFEEQAIAAAocAAACLBBU2JxgEJDVgIAUQAABsWxLE0TRZKkaZoniiRJ0zxPFGma53meacLzPM80IYqiaJoQRVE0TZimaaoqME1VFQAAUOAAABBgg6bE4gCFhqwEAEICAByKYlma5nmeJ4qmqZokSdM8TxRF0TRNU1VJkqZ5niiKommapqqyLE3zPFEURdNUVVWFpnmeKIqiaaqq6sLzPE8URdE0VdV14XmeJ4qiaJqq6roQRVE0TdNUTVV1XSCKpmmaqqqqrgtETxRNU1Vd13WB54miaaqqq7ouEE3TVFVVdV1ZBpimaaqq68oyQFVV1XVdV5YBqqqqruu6sgxQVdd1XVmWZQCu67qyLMsCAAAOHAAAAoygk4wqi7DRhAsPQKEhKwKAKAAAwBimFFPKMCYhpBAaxiSEFEImJaXSUqogpFJSKRWEVEoqJaOUUmopVRBSKamUCkIqJZVSAADYgQMA2IGFUGjISgAgDwCAMEYpxhhzTiKkFGPOOScRUoox55yTSjHmnHPOSSkZc8w556SUzjnnnHNSSuacc845KaVzzjnnnJRSSuecc05KKSWEzkEnpZTSOeecEwAAVOAAABBgo8jmBCNBhYasBABSAQAMjmNZmuZ5omialiRpmud5niiapiZJmuZ5nieKqsnzPE8URdE0VZXneZ4oiqJpqirXFUXTNE1VVV2yLIqmaZqq6rowTdNUVdd1XZimaaqq67oubFtVVdV1ZRm2raqq6rqyDFzXdWXZloEsu67s2rIAAPAEBwCgAhtWRzgpGgssNGQlAJABAEAYg5BCCCFlEEIKIYSUUggJAAAYcAAACDChDBQashIASAUAAIyx1lprrbXWQGettdZaa62AzFprrbXWWmuttdZaa6211lJrrbXWWmuttdZaa6211lprrbXWWmuttdZaa6211lprrbXWWmuttdZaa6211lprrbXWWmstpZRSSimllFJKKaWUUkoppZRSSgUA+lU4APg/2LA6wknRWGChISsBgHAAAMAYpRhzDEIppVQIMeacdFRai7FCiDHnJKTUWmzFc85BKCGV1mIsnnMOQikpxVZjUSmEUlJKLbZYi0qho5JSSq3VWIwxqaTWWoutxmKMSSm01FqLMRYjbE2ptdhqq7EYY2sqLbQYY4zFCF9kbC2m2moNxggjWywt1VprMMYY3VuLpbaaizE++NpSLDHWXAAAd4MDAESCjTOsJJ0VjgYXGrISAAgJACAQUooxxhhzzjnnpFKMOeaccw5CCKFUijHGnHMOQgghlIwx5pxzEEIIIYRSSsaccxBCCCGEkFLqnHMQQgghhBBKKZ1zDkIIIYQQQimlgxBCCCGEEEoopaQUQgghhBBCCKmklEIIIYRSQighlZRSCCGEEEIpJaSUUgohhFJCCKGElFJKKYUQQgillJJSSimlEkoJJYQSUikppRRKCCGUUkpKKaVUSgmhhBJKKSWllFJKIYQQSikFAAAcOAAABBhBJxlVFmGjCRcegEJDVgIAZAAAkKKUUiktRYIipRikGEtGFXNQWoqocgxSzalSziDmJJaIMYSUk1Qy5hRCDELqHHVMKQYtlRhCxhik2HJLoXMOAAAAQQCAgJAAAAMEBTMAwOAA4XMQdAIERxsAgCBEZohEw0JweFAJEBFTAUBigkIuAFRYXKRdXECXAS7o4q4DIQQhCEEsDqCABByccMMTb3jCDU7QKSp1IAAAAAAADADwAACQXAAREdHMYWRobHB0eHyAhIiMkAgAAAAAABcAfAAAJCVAREQ0cxgZGhscHR4fICEiIyQBAIAAAgAAAAAggAAEBAQAAAAAAAIAAAAEBB9DtnUBAAAAAAAEPueBAKOFggAAgACjzoEAA4BwBwCdASqwAJAAAEcIhYWIhYSIAgIABhwJ7kPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99YAD+/6tQgKOFggADgAqjhYIAD4AOo4WCACSADqOZgQArADECAAEQEAAYABhYL/QACIBDmAYAAKOFggA6gA6jhYIAT4AOo5mBAFMAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAGSADqOFggB6gA6jmYEAewAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIAj4AOo5mBAKMAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAKSADqOFggC6gA6jmYEAywAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIAz4AOo4WCAOSADqOZgQDzADECAAEQEAAYABhYL/QACIBDmAYAAKOFggD6gA6jhYIBD4AOo5iBARsAEQIAARAQFGAAYWC/0AAiAQ5gGACjhYIBJIAOo4WCATqADqOZgQFDADECAAEQEAAYABhYL/QACIBDmAYAAKOFggFPgA6jhYIBZIAOo5mBAWsAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAXqADqOFggGPgA6jmYEBkwAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIBpIAOo4WCAbqADqOZgQG7ADECAAEQEAAYABhYL/QACIBDmAYAAKOFggHPgA6jmYEB4wAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIB5IAOo4WCAfqADqOZgQILADECAAEQEAAYABhYL/QACIBDmAYAAKOFggIPgA6jhYICJIAOo5mBAjMAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAjqADqOFggJPgA6jmYECWwAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYICZIAOo4WCAnqADqOZgQKDADECAAEQEAAYABhYL/QACIBDmAYAAKOFggKPgA6jhYICpIAOo5mBAqsAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCArqADqOFggLPgA6jmIEC0wARAgABEBAUYABhYL/QACIBDmAYAKOFggLkgA6jhYIC+oAOo5mBAvsAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAw+ADqOZgQMjADECAAEQEAAYABhYL/QACIBDmAYAAKOFggMkgA6jhYIDOoAOo5mBA0sAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCA0+ADqOFggNkgA6jmYEDcwAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIDeoAOo4WCA4+ADqOZgQObADECAAEQEAAYABhYL/QACIBDmAYAAKOFggOkgA6jhYIDuoAOo5mBA8MAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCA8+ADqOFggPkgA6jhYID+oAOo4WCBA+ADhxTu2sBAAAAAAAAEbuPs4EDt4r3gQHxghEr8IEK",mp4:"data:video/mp4;base64,AAAAHGZ0eXBNNFYgAAACAGlzb21pc28yYXZjMQAAAAhmcmVlAAAGF21kYXTeBAAAbGliZmFhYyAxLjI4AABCAJMgBDIARwAAArEGBf//rdxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNDIgcjIgOTU2YzhkOCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTQgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0wIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz02IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MCB3ZWlnaHRwPTAga2V5aW50PTI1MCBrZXlpbnRfbWluPTI1IHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcmM9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCB2YnZfbWF4cmF0ZT03NjggdmJ2X2J1ZnNpemU9MzAwMCBjcmZfbWF4PTAuMCBuYWxfaHJkPW5vbmUgZmlsbGVyPTAgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAAFZliIQL8mKAAKvMnJycnJycnJycnXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXiEASZACGQAjgCEASZACGQAjgAAAAAdBmjgX4GSAIQBJkAIZACOAAAAAB0GaVAX4GSAhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGagC/AySEASZACGQAjgAAAAAZBmqAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZrAL8DJIQBJkAIZACOAAAAABkGa4C/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmwAvwMkhAEmQAhkAI4AAAAAGQZsgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGbQC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm2AvwMkhAEmQAhkAI4AAAAAGQZuAL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGboC/AySEASZACGQAjgAAAAAZBm8AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZvgL8DJIQBJkAIZACOAAAAABkGaAC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmiAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpAL8DJIQBJkAIZACOAAAAABkGaYC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmoAvwMkhAEmQAhkAI4AAAAAGQZqgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGawC/AySEASZACGQAjgAAAAAZBmuAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZsAL8DJIQBJkAIZACOAAAAABkGbIC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm0AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZtgL8DJIQBJkAIZACOAAAAABkGbgCvAySEASZACGQAjgCEASZACGQAjgAAAAAZBm6AnwMkhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AAAAhubW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAABDcAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAzB0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAA+kAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAALAAAACQAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAPpAAAAAAABAAAAAAKobWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAB1MAAAdU5VxAAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABWaWRlb0hhbmRsZXIAAAACU21pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAhNzdGJsAAAAr3N0c2QAAAAAAAAAAQAAAJ9hdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAALAAkABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAALWF2Y0MBQsAN/+EAFWdCwA3ZAsTsBEAAAPpAADqYA8UKkgEABWjLg8sgAAAAHHV1aWRraEDyXyRPxbo5pRvPAyPzAAAAAAAAABhzdHRzAAAAAAAAAAEAAAAeAAAD6QAAABRzdHNzAAAAAAAAAAEAAAABAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAABAAAAAQAAAIxzdHN6AAAAAAAAAAAAAAAeAAADDwAAAAsAAAALAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAAiHN0Y28AAAAAAAAAHgAAAEYAAANnAAADewAAA5gAAAO0AAADxwAAA+MAAAP2AAAEEgAABCUAAARBAAAEXQAABHAAAASMAAAEnwAABLsAAATOAAAE6gAABQYAAAUZAAAFNQAABUgAAAVkAAAFdwAABZMAAAWmAAAFwgAABd4AAAXxAAAGDQAABGh0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAACAAAAAAAABDcAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAQkAAADcAABAAAAAAPgbWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAAykBVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAADi21pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAADT3N0YmwAAABnc3RzZAAAAAAAAAABAAAAV21wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAAM2VzZHMAAAAAA4CAgCIAAgAEgICAFEAVBbjYAAu4AAAADcoFgICAAhGQBoCAgAECAAAAIHN0dHMAAAAAAAAAAgAAADIAAAQAAAAAAQAAAkAAAAFUc3RzYwAAAAAAAAAbAAAAAQAAAAEAAAABAAAAAgAAAAIAAAABAAAAAwAAAAEAAAABAAAABAAAAAIAAAABAAAABgAAAAEAAAABAAAABwAAAAIAAAABAAAACAAAAAEAAAABAAAACQAAAAIAAAABAAAACgAAAAEAAAABAAAACwAAAAIAAAABAAAADQAAAAEAAAABAAAADgAAAAIAAAABAAAADwAAAAEAAAABAAAAEAAAAAIAAAABAAAAEQAAAAEAAAABAAAAEgAAAAIAAAABAAAAFAAAAAEAAAABAAAAFQAAAAIAAAABAAAAFgAAAAEAAAABAAAAFwAAAAIAAAABAAAAGAAAAAEAAAABAAAAGQAAAAIAAAABAAAAGgAAAAEAAAABAAAAGwAAAAIAAAABAAAAHQAAAAEAAAABAAAAHgAAAAIAAAABAAAAHwAAAAQAAAABAAAA4HN0c3oAAAAAAAAAAAAAADMAAAAaAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAACMc3RjbwAAAAAAAAAfAAAALAAAA1UAAANyAAADhgAAA6IAAAO+AAAD0QAAA+0AAAQAAAAEHAAABC8AAARLAAAEZwAABHoAAASWAAAEqQAABMUAAATYAAAE9AAABRAAAAUjAAAFPwAABVIAAAVuAAAFgQAABZ0AAAWwAAAFzAAABegAAAX7AAAGFwAAAGJ1ZHRhAAAAWm1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAALWlsc3QAAAAlqXRvbwAAAB1kYXRhAAAAAQAAAABMYXZmNTUuMzMuMTAw"}),w1}var E1,AR;function YZ(){if(AR)return E1;AR=1;const{webm:e,mp4:t}=KZ(),n=()=>typeof navigator<"u"&&parseFloat((""+(/CPU.*OS ([0-9_]{3,4})[0-9_]{0,1}|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))<10&&!window.MSStream,r=()=>"wakeLock"in navigator&&window.navigator.userAgent.indexOf("Samsung")===-1;class i{constructor(){if(this.enabled=!1,r()){this._wakeLock=null;const o=()=>{this._wakeLock!==null&&document.visibilityState==="visible"&&this.enable()};document.addEventListener("visibilitychange",o),document.addEventListener("fullscreenchange",o)}else n()?this.noSleepTimer=null:(this.noSleepVideo=document.createElement("video"),this.noSleepVideo.setAttribute("title","No Sleep"),this.noSleepVideo.setAttribute("playsinline",""),this._addSourceToVideo(this.noSleepVideo,"webm",e),this._addSourceToVideo(this.noSleepVideo,"mp4",t),Object.assign(this.noSleepVideo.style,{position:"absolute",left:"-100%",top:"-100%"}),document.querySelector("body").append(this.noSleepVideo),this.noSleepVideo.addEventListener("loadedmetadata",()=>{this.noSleepVideo.duration<=1?this.noSleepVideo.setAttribute("loop",""):this.noSleepVideo.addEventListener("timeupdate",()=>{this.noSleepVideo.currentTime>.5&&(this.noSleepVideo.currentTime=Math.random())})}))}_addSourceToVideo(o,l,d){var c=document.createElement("source");c.src=d,c.type=`video/${l}`,o.appendChild(c)}get isEnabled(){return this.enabled}enable(){return r()?navigator.wakeLock.request("screen").then(o=>{this._wakeLock=o,this.enabled=!0,console.log("Wake Lock active."),this._wakeLock.addEventListener("release",()=>{console.log("Wake Lock released.")})}).catch(o=>{throw this.enabled=!1,console.error(`${o.name}, ${o.message}`),o}):n()?(this.disable(),console.warn(`
        NoSleep enabled for older iOS devices. This can interrupt
        active or long-running network requests from completing successfully.
        See https://github.com/richtr/NoSleep.js/issues/15 for more details.
      `),this.noSleepTimer=window.setInterval(()=>{document.hidden||(window.location.href=window.location.href.split("#")[0],window.setTimeout(window.stop,0))},15e3),this.enabled=!0,Promise.resolve()):this.noSleepVideo.play().then(l=>(this.enabled=!0,l)).catch(l=>{throw this.enabled=!1,l})}disable(){r()?(this._wakeLock&&this._wakeLock.release(),this._wakeLock=null):n()?this.noSleepTimer&&(console.warn(`
          NoSleep now disabled for older iOS devices.
        `),window.clearInterval(this.noSleepTimer),this.noSleepTimer=null):this.noSleepVideo.pause(),this.enabled=!1}}return E1=i,E1}var QZ=YZ();const JZ=Lr(QZ),XZ="/assets/eurovisionbg-CvR5q-FP.svg",Zx=S.createContext({visible:!0,theme:"regular",setVisibility:e=>{},setTheme:e=>{}}),ml=(e,t="regular")=>{const{setVisibility:n,setTheme:r}=S.useContext(Zx);S.useEffect(()=>{n(e)},[e,n]),S.useEffect(()=>{r(t)},[t,r])},bR={default:{backgroundImage:`linear-gradient(-45deg, ${Je.red.stroke}, ${Je.blue.text}, ${Je.blue.stroke}, ${Je.red.stroke})`,backgroundSize:"400% 400%"},halloween:{background:"black"}};function ZZ({children:e}){const[t,n]=S.useState(!0),[r,i]=S.useState("regular"),[s]=Tt(xs);return p.jsxs(Zx.Provider,{value:{visible:t,setVisibility:n,setTheme:i,theme:r},children:[t&&p.jsx(ree,{"data-theme":r,"data-graphic-level":s,style:bR[r]??bR.default}),e]})}const eee={name:"1skrp57",styles:"animation:escGradient 46s linear infinite;flex:1;@keyframes escGradient{0%{background-position:0% 800%;}100%{background-position:0% 0%;}}"},tee=G("div",{target:"ev6htcq0"})("transform:scale(1, 4);background-image:url(",XZ,");background-size:100% 50%;height:100%;&[data-animate='true']{",eee,";}"),_R=()=>{var e;return p.jsx(tee,{"data-animate":!((e=global.location)!=null&&e.href.includes("/remote-mic"))})};Je.christmasGreen.text,Je.christmasGreen.stroke,Je.christmasRed.stroke,Je.christmasRed.stroke;Je.red.stroke,Je.blue.text,Je.blue.stroke,Je.red.stroke;const nee=$n.div`bg-white w-full h-full`,ree=$n(nee)(e=>["z-[-1] top-0 fixed",e["data-theme"]==="halloween"?"bg-black":"",e["data-graphic-level"]==="high"?"animate-gradient":""]);function iee({size:e=16}){return p.jsx("style",{children:`html {
                font-size: ${e}px !important;
            }`})}function Nv(e){return S.useMemo(()=>{var t;return new URLSearchParams((t=global.location)==null?void 0:t.search).get(e)},[e])}const see=G("div",{target:"e1py91zd0"})(":root{--player-blue-text:",Je.blue.text,";--player-blue-stroke:",Je.blue.stroke,";--player-blue-star-fill:",Je.blue.star.fill,";--player-blue-star-stroke:",Je.blue.star.stroke,";--player-blue-perfect-fill:",Je.blue.perfect.fill,";--player-blue-perfect-stroke:",Je.blue.perfect.stroke,";--player-blue-starPerfect-fill:",Je.blue.starPerfect.fill,";--player-blue-starPerfect-stroke:",Je.blue.starPerfect.stroke,";--player-blue-hit-fill:",Je.blue.hit.fill,";--player-blue-hit-stroke:",Je.blue.hit.stroke,";--player-blue-miss-fill:",Je.blue.miss.fill,";--player-blue-miss-stroke:",Je.blue.miss.stroke,";}h1{",xt,";margin:0;text-align:center;font-size:4rem;color:",Ve.colors.text.active,";}h2{",xt,";margin:0;font-size:2.9rem;}h3{",xt,";margin:0;font-size:2.7rem;strong{color:",Ve.colors.text.active,";}}h4{",xt,";margin:0;font-size:2.2rem;line-height:1.15;}h5{",xt,";margin:0;font-size:1.6rem;line-height:1.5;}h6{",xt,";margin:0;line-height:1.5;font-size:1.3rem;}hr{margin:0.5rem 1rem;opacity:0.25;}h1,h2,h3,h4,h5{button{",xt,";background:none;padding:0;margin:0;border:none;font-size:inherit;color:",Ve.colors.text.active,";text-decoration:underline;cursor:pointer;}svg{font-size:0.8em;}}a{",xt,";color:",Ve.colors.text.active,";text-decoration:underline;}strong{color:",Ve.colors.text.active,";}");function wo(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function XV(e){if(S.isValidElement(e)||!wo(e))return e;const t={};return Object.keys(e).forEach(n=>{t[n]=XV(e[n])}),t}function Ni(e,t,n={clone:!0}){const r=n.clone?{...e}:e;return wo(e)&&wo(t)&&Object.keys(t).forEach(i=>{S.isValidElement(t[i])?r[i]=t[i]:wo(t[i])&&Object.prototype.hasOwnProperty.call(e,i)&&wo(e[i])?r[i]=Ni(e[i],t[i],n):n.clone?r[i]=wo(t[i])?XV(t[i]):t[i]:r[i]=t[i]}),r}var C1={exports:{}},k1,SR;function oee(){if(SR)return k1;SR=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return k1=e,k1}var T1,xR;function aee(){if(xR)return T1;xR=1;var e=oee();function t(){}function n(){}return n.resetWarningCache=t,T1=function(){function r(o,l,d,c,h,f){if(f!==e){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return s.PropTypes=s,s},T1}var wR;function lee(){return wR||(wR=1,C1.exports=aee()()),C1.exports}var cee=lee();const Rt=Lr(cee);function wc(e,...t){const n=new URL(`https://mui.com/production-error/?code=${e}`);return t.forEach(r=>n.searchParams.append("args[]",r)),`Minified MUI error #${e}; visit ${n} for the full message.`}function Bt(e){if(typeof e!="string")throw new Error(wc(7));return e.charAt(0).toUpperCase()+e.slice(1)}function ER(...e){return e.reduce((t,n)=>n==null?t:function(...i){t.apply(this,i),n.apply(this,i)},()=>{})}function Ec(e){return e&&e.ownerDocument||document}function O0(e){return Ec(e).defaultView||window}function tS(e,t){typeof e=="function"?e(t):e&&(e.current=t)}const nS=typeof window<"u"?S.useLayoutEffect:S.useEffect;let CR=0;function uee(e){const[t,n]=S.useState(e),r=e||t;return S.useEffect(()=>{t==null&&(CR+=1,n(`mui-${CR}`))},[t]),r}const dee={...f0},kR=dee.useId;function fee(e){if(kR!==void 0){const t=kR();return e??t}return uee(e)}function Nu(e){const t=S.useRef(e);return nS(()=>{t.current=e}),S.useRef((...n)=>(0,t.current)(...n)).current}function ll(...e){return S.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(n=>{tS(n,t)})},e)}const TR={};function ZV(e,t){const n=S.useRef(TR);return n.current===TR&&(n.current=e(t)),n}const hee=[];function pee(e){S.useEffect(e,hee)}class ew{constructor(){Af(this,"currentId",null);Af(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});Af(this,"disposeEffect",()=>this.clear)}static create(){return new ew}start(t,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},t)}}function gee(){const e=ZV(ew.create).current;return pee(e.disposeEffect),e}function IR(e){try{return e.matches(":focus-visible")}catch{}return!1}function mee(e=window){const t=e.document.documentElement.clientWidth;return e.innerWidth-t}function V0(e,t){const n={...t};for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){const i=r;if(i==="components"||i==="slots")n[i]={...e[i],...n[i]};else if(i==="componentsProps"||i==="slotProps"){const s=e[i],o=t[i];if(!o)n[i]=s||{};else if(!s)n[i]=o;else{n[i]={...o};for(const l in s)if(Object.prototype.hasOwnProperty.call(s,l)){const d=l;n[i][d]=V0(s[d],o[d])}}}else n[i]===void 0&&(n[i]=e[i])}return n}function _i(e,t,n=void 0){const r={};for(const i in e){const s=e[i];let o="",l=!0;for(let d=0;d<s.length;d+=1){const c=s[d];c&&(o+=(l===!0?"":" ")+t(c),l=!1,n&&n[c]&&(o+=" "+n[c]))}r[i]=o}return r}const RR=e=>e,vee=()=>{let e=RR;return{configure(t){e=t},generate(t){return e(t)},reset(){e=RR}}},yee=vee(),Aee={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function ai(e,t,n="Mui"){const r=Aee[t];return r?`${n}-${r}`:`${yee.generate(e)}-${t}`}function li(e,t,n="Mui"){const r={};return t.forEach(i=>{r[i]=ai(e,i,n)}),r}function bee(e,t=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(t,Math.min(e,n))}function _ee(e){return typeof e=="string"}function See(e,t,n){return e===void 0||_ee(e)?t:{...t,ownerState:{...t.ownerState,...n}}}function eL(e,t=[]){if(e===void 0)return{};const n={};return Object.keys(e).filter(r=>r.match(/^on[A-Z]/)&&typeof e[r]=="function"&&!t.includes(r)).forEach(r=>{n[r]=e[r]}),n}function PR(e){if(e===void 0)return{};const t={};return Object.keys(e).filter(n=>!(n.match(/^on[A-Z]/)&&typeof e[n]=="function")).forEach(n=>{t[n]=e[n]}),t}function xee(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:s}=e;if(!t){const v=rn(n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),A={...n==null?void 0:n.style,...i==null?void 0:i.style,...r==null?void 0:r.style},b={...n,...i,...r};return v.length>0&&(b.className=v),Object.keys(A).length>0&&(b.style=A),{props:b,internalRef:void 0}}const o=eL({...i,...r}),l=PR(r),d=PR(i),c=t(o),h=rn(c==null?void 0:c.className,n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),f={...c==null?void 0:c.style,...n==null?void 0:n.style,...i==null?void 0:i.style,...r==null?void 0:r.style},m={...c,...n,...d,...l};return h.length>0&&(m.className=h),Object.keys(f).length>0&&(m.style=f),{props:m,internalRef:c.ref}}function wee(e,t,n){return typeof e=="function"?e(t,n):e}function tw(e){var t;return parseInt(S.version,10)>=19?((t=e==null?void 0:e.props)==null?void 0:t.ref)||null:(e==null?void 0:e.ref)||null}function fh(e,t){return t?Ni(e,t,{clone:!1}):e}function Eee(e,t){if(!e.containerQueries)return t;const n=Object.keys(t).filter(r=>r.startsWith("@container")).sort((r,i)=>{var o,l;const s=/min-width:\s*([0-9.]+)/;return+(((o=r.match(s))==null?void 0:o[1])||0)-+(((l=i.match(s))==null?void 0:l[1])||0)});return n.length?n.reduce((r,i)=>{const s=t[i];return delete r[i],r[i]=s,r},{...t}):t}function Cee(e,t){return t==="@"||t.startsWith("@")&&(e.some(n=>t.startsWith(`@${n}`))||!!t.match(/^@\d/))}function kee(e,t){const n=t.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,i]=n,s=Number.isNaN(+r)?r||0:+r;return e.containerQueries(i).up(s)}function Tee(e){const t=(s,o)=>s.replace("@media",o?`@container ${o}`:"@container");function n(s,o){s.up=(...l)=>t(e.breakpoints.up(...l),o),s.down=(...l)=>t(e.breakpoints.down(...l),o),s.between=(...l)=>t(e.breakpoints.between(...l),o),s.only=(...l)=>t(e.breakpoints.only(...l),o),s.not=(...l)=>{const d=t(e.breakpoints.not(...l),o);return d.includes("not all and")?d.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):d}}const r={},i=s=>(n(r,s),r);return n(i),{...e,containerQueries:i}}const Bv={xs:0,sm:600,md:900,lg:1200,xl:1536},MR={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${Bv[e]}px)`},Iee={containerQueries:e=>({up:t=>{let n=typeof t=="number"?t:Bv[t]||t;return typeof n=="number"&&(n=`${n}px`),e?`@container ${e} (min-width:${n})`:`@container (min-width:${n})`}})};function ga(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const s=r.breakpoints||MR;return t.reduce((o,l,d)=>(o[s.up(s.keys[d])]=n(t[d]),o),{})}if(typeof t=="object"){const s=r.breakpoints||MR;return Object.keys(t).reduce((o,l)=>{if(Cee(s.keys,l)){const d=kee(r.containerQueries?r:Iee,l);d&&(o[d]=n(t[l],l))}else if(Object.keys(s.values||Bv).includes(l)){const d=s.up(l);o[d]=n(t[l],l)}else{const d=l;o[d]=t[d]}return o},{})}return n(t)}function tL(e={}){var n;return((n=e.keys)==null?void 0:n.reduce((r,i)=>{const s=e.up(i);return r[s]={},r},{}))||{}}function nL(e,t){return e.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},t)}function vye(e,...t){const n=tL(e),r=[n,...t].reduce((i,s)=>Ni(i,s),{});return nL(Object.keys(n),r)}function Ree(e,t){if(typeof e!="object")return{};const n={},r=Object.keys(t);return Array.isArray(e)?r.forEach((i,s)=>{s<e.length&&(n[i]=!0)}):r.forEach(i=>{e[i]!=null&&(n[i]=!0)}),n}function yye({values:e,breakpoints:t,base:n}){const r=n||Ree(e,t),i=Object.keys(r);if(i.length===0)return e;let s;return i.reduce((o,l,d)=>(Array.isArray(e)?(o[l]=e[d]!=null?e[d]:e[s],s=d):typeof e=="object"?(o[l]=e[l]!=null?e[l]:e[s],s=l):o[l]=e,o),{})}function Dv(e,t,n=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&n){const r=`vars.${t}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,e);if(r!=null)return r}return t.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,e)}function L0(e,t,n,r=n){let i;return typeof e=="function"?i=e(n):Array.isArray(e)?i=e[n]||r:i=Dv(e,n)||r,t&&(i=t(i,r,e)),i}function dr(e){const{prop:t,cssProperty:n=e.prop,themeKey:r,transform:i}=e,s=o=>{if(o[t]==null)return null;const l=o[t],d=o.theme,c=Dv(d,r)||{};return ga(o,l,f=>{let m=L0(c,i,f);return f===m&&typeof f=="string"&&(m=L0(c,i,`${t}${f==="default"?"":Bt(f)}`,f)),n===!1?m:{[n]:m}})};return s.propTypes={},s.filterProps=[t],s}function Pee(e){const t={};return n=>(t[n]===void 0&&(t[n]=e(n)),t[n])}const Mee={m:"margin",p:"padding"},jee={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},jR={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Oee=Pee(e=>{if(e.length>2)if(jR[e])e=jR[e];else return[e];const[t,n]=e.split(""),r=Mee[t],i=jee[n]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),nw=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],rw=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...nw,...rw];function Zh(e,t,n,r){const i=Dv(e,t,!0)??n;return typeof i=="number"||typeof i=="string"?s=>typeof s=="string"?s:typeof i=="string"?`calc(${s} * ${i})`:i*s:Array.isArray(i)?s=>{if(typeof s=="string")return s;const o=Math.abs(s),l=i[o];return s>=0?l:typeof l=="number"?-l:`-${l}`}:typeof i=="function"?i:()=>{}}function iw(e){return Zh(e,"spacing",8)}function ep(e,t){return typeof t=="string"||t==null?t:e(t)}function Vee(e,t){return n=>e.reduce((r,i)=>(r[i]=ep(t,n),r),{})}function Lee(e,t,n,r){if(!t.includes(n))return null;const i=Oee(n),s=Vee(i,r),o=e[n];return ga(e,o,s)}function rL(e,t){const n=iw(e.theme);return Object.keys(e).map(r=>Lee(e,t,r,n)).reduce(fh,{})}function Jn(e){return rL(e,nw)}Jn.propTypes={};Jn.filterProps=nw;function Xn(e){return rL(e,rw)}Xn.propTypes={};Xn.filterProps=rw;function Fv(...e){const t=e.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),n=r=>Object.keys(r).reduce((i,s)=>t[s]?fh(i,t[s](r)):i,{});return n.propTypes={},n.filterProps=e.reduce((r,i)=>r.concat(i.filterProps),[]),n}function _s(e){return typeof e!="number"?e:`${e}px solid`}function Ns(e,t){return dr({prop:e,themeKey:"borders",transform:t})}const Nee=Ns("border",_s),Bee=Ns("borderTop",_s),Dee=Ns("borderRight",_s),Fee=Ns("borderBottom",_s),$ee=Ns("borderLeft",_s),zee=Ns("borderColor"),Uee=Ns("borderTopColor"),Hee=Ns("borderRightColor"),Gee=Ns("borderBottomColor"),qee=Ns("borderLeftColor"),Wee=Ns("outline",_s),Kee=Ns("outlineColor"),$v=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=Zh(e.theme,"shape.borderRadius",4),n=r=>({borderRadius:ep(t,r)});return ga(e,e.borderRadius,n)}return null};$v.propTypes={};$v.filterProps=["borderRadius"];Fv(Nee,Bee,Dee,Fee,$ee,zee,Uee,Hee,Gee,qee,$v,Wee,Kee);const zv=e=>{if(e.gap!==void 0&&e.gap!==null){const t=Zh(e.theme,"spacing",8),n=r=>({gap:ep(t,r)});return ga(e,e.gap,n)}return null};zv.propTypes={};zv.filterProps=["gap"];const Uv=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=Zh(e.theme,"spacing",8),n=r=>({columnGap:ep(t,r)});return ga(e,e.columnGap,n)}return null};Uv.propTypes={};Uv.filterProps=["columnGap"];const Hv=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=Zh(e.theme,"spacing",8),n=r=>({rowGap:ep(t,r)});return ga(e,e.rowGap,n)}return null};Hv.propTypes={};Hv.filterProps=["rowGap"];const Yee=dr({prop:"gridColumn"}),Qee=dr({prop:"gridRow"}),Jee=dr({prop:"gridAutoFlow"}),Xee=dr({prop:"gridAutoColumns"}),Zee=dr({prop:"gridAutoRows"}),ete=dr({prop:"gridTemplateColumns"}),tte=dr({prop:"gridTemplateRows"}),nte=dr({prop:"gridTemplateAreas"}),rte=dr({prop:"gridArea"});Fv(zv,Uv,Hv,Yee,Qee,Jee,Xee,Zee,ete,tte,nte,rte);function Ju(e,t){return t==="grey"?t:e}const ite=dr({prop:"color",themeKey:"palette",transform:Ju}),ste=dr({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Ju}),ote=dr({prop:"backgroundColor",themeKey:"palette",transform:Ju});Fv(ite,ste,ote);function Yi(e){return e<=1&&e!==0?`${e*100}%`:e}const ate=dr({prop:"width",transform:Yi}),sw=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=n=>{var i,s,o,l,d;const r=((o=(s=(i=e.theme)==null?void 0:i.breakpoints)==null?void 0:s.values)==null?void 0:o[n])||Bv[n];return r?((d=(l=e.theme)==null?void 0:l.breakpoints)==null?void 0:d.unit)!=="px"?{maxWidth:`${r}${e.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:Yi(n)}};return ga(e,e.maxWidth,t)}return null};sw.filterProps=["maxWidth"];const lte=dr({prop:"minWidth",transform:Yi}),cte=dr({prop:"height",transform:Yi}),ute=dr({prop:"maxHeight",transform:Yi}),dte=dr({prop:"minHeight",transform:Yi});dr({prop:"size",cssProperty:"width",transform:Yi});dr({prop:"size",cssProperty:"height",transform:Yi});const fte=dr({prop:"boxSizing"});Fv(ate,sw,lte,cte,ute,dte,fte);const tp={border:{themeKey:"borders",transform:_s},borderTop:{themeKey:"borders",transform:_s},borderRight:{themeKey:"borders",transform:_s},borderBottom:{themeKey:"borders",transform:_s},borderLeft:{themeKey:"borders",transform:_s},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:_s},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:$v},color:{themeKey:"palette",transform:Ju},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Ju},backgroundColor:{themeKey:"palette",transform:Ju},p:{style:Xn},pt:{style:Xn},pr:{style:Xn},pb:{style:Xn},pl:{style:Xn},px:{style:Xn},py:{style:Xn},padding:{style:Xn},paddingTop:{style:Xn},paddingRight:{style:Xn},paddingBottom:{style:Xn},paddingLeft:{style:Xn},paddingX:{style:Xn},paddingY:{style:Xn},paddingInline:{style:Xn},paddingInlineStart:{style:Xn},paddingInlineEnd:{style:Xn},paddingBlock:{style:Xn},paddingBlockStart:{style:Xn},paddingBlockEnd:{style:Xn},m:{style:Jn},mt:{style:Jn},mr:{style:Jn},mb:{style:Jn},ml:{style:Jn},mx:{style:Jn},my:{style:Jn},margin:{style:Jn},marginTop:{style:Jn},marginRight:{style:Jn},marginBottom:{style:Jn},marginLeft:{style:Jn},marginX:{style:Jn},marginY:{style:Jn},marginInline:{style:Jn},marginInlineStart:{style:Jn},marginInlineEnd:{style:Jn},marginBlock:{style:Jn},marginBlockStart:{style:Jn},marginBlockEnd:{style:Jn},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:zv},rowGap:{style:Hv},columnGap:{style:Uv},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Yi},maxWidth:{style:sw},minWidth:{transform:Yi},height:{transform:Yi},maxHeight:{transform:Yi},minHeight:{transform:Yi},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function hte(...e){const t=e.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(t);return e.every(r=>n.size===Object.keys(r).length)}function pte(e,t){return typeof e=="function"?e(t):e}function gte(){function e(n,r,i,s){const o={[n]:r,theme:i},l=s[n];if(!l)return{[n]:r};const{cssProperty:d=n,themeKey:c,transform:h,style:f}=l;if(r==null)return null;if(c==="typography"&&r==="inherit")return{[n]:r};const m=Dv(i,c)||{};return f?f(o):ga(o,r,A=>{let b=L0(m,h,A);return A===b&&typeof A=="string"&&(b=L0(m,h,`${n}${A==="default"?"":Bt(A)}`,A)),d===!1?b:{[d]:b}})}function t(n){const{sx:r,theme:i={}}=n||{};if(!r)return null;const s=i.unstable_sxConfig??tp;function o(l){let d=l;if(typeof l=="function")d=l(i);else if(typeof l!="object")return l;if(!d)return null;const c=tL(i.breakpoints),h=Object.keys(c);let f=c;return Object.keys(d).forEach(m=>{const v=pte(d[m],i);if(v!=null)if(typeof v=="object")if(s[m])f=fh(f,e(m,v,i,s));else{const A=ga({theme:i},v,b=>({[m]:b}));hte(A,v)?f[m]=t({sx:v,theme:i}):f=fh(f,A)}else f=fh(f,e(m,v,i,s))}),Eee(i,nL(h,f))}return Array.isArray(r)?r.map(o):o(r)}return t}const Cc=gte();Cc.filterProps=["sx"];const mte=e=>{var r;const t={systemProps:{},otherProps:{}},n=((r=e==null?void 0:e.theme)==null?void 0:r.unstable_sxConfig)??tp;return Object.keys(e).forEach(i=>{n[i]?t.systemProps[i]=e[i]:t.otherProps[i]=e[i]}),t};function vte(e){const{sx:t,...n}=e,{systemProps:r,otherProps:i}=mte(n);let s;return Array.isArray(t)?s=[r,...t]:typeof t=="function"?s=(...o)=>{const l=t(...o);return wo(l)?{...r,...l}:r}:s={...r,...t},{...i,sx:s}}var yte=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],rS=G.bind();yte.forEach(function(e){rS[e]=rS(e)});var Ate=!1,bte=/[A-Z]|^ms/g,_te=/_EMO_([^_]+?)_([^]*?)_EMO_/g,iL=function(t){return t.charCodeAt(1)===45},OR=function(t){return t!=null&&typeof t!="boolean"},I1=iV(function(e){return iL(e)?e:e.replace(bte,"-$&").toLowerCase()}),VR=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(_te,function(r,i,s){return Xa={name:i,styles:s,next:Xa},i})}return uV[t]!==1&&!iL(t)&&typeof n=="number"&&n!==0?n+"px":n},Ste="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function N0(e,t,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return Xa={name:i.name,styles:i.styles,next:Xa},i.name;var s=n;if(s.styles!==void 0){var o=s.next;if(o!==void 0)for(;o!==void 0;)Xa={name:o.name,styles:o.styles,next:Xa},o=o.next;var l=s.styles+";";return l}return xte(e,t,n)}}var d=n;return d}function xte(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=N0(e,t,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object"){var l=o;OR(l)&&(r+=I1(s)+":"+VR(s,l)+";")}else{if(s==="NO_COMPONENT_SELECTOR"&&Ate)throw new Error(Ste);if(Array.isArray(o)&&typeof o[0]=="string"&&t==null)for(var d=0;d<o.length;d++)OR(o[d])&&(r+=I1(s)+":"+VR(s,o[d])+";");else{var c=N0(e,t,o);switch(s){case"animation":case"animationName":{r+=I1(s)+":"+c+";";break}default:r+=s+"{"+c+"}"}}}}return r}var LR=/label:\s*([^\s;{]+)\s*(;|$)/g,Xa;function wte(e,t,n){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var r=!0,i="";Xa=void 0;var s=e[0];if(s==null||s.raw===void 0)r=!1,i+=N0(n,t,s);else{var o=s;i+=o[0]}for(var l=1;l<e.length;l++)if(i+=N0(n,t,e[l]),r){var d=s;i+=d[l]}LR.lastIndex=0;for(var c="",h;(h=LR.exec(i))!==null;)c+="-"+h[1];var f=cV(i)+c;return{name:f,styles:i,next:Xa}}function Ete(e){return e==null||Object.keys(e).length===0}function sL(e){const{styles:t,defaultTheme:n={}}=e,r=typeof t=="function"?i=>t(Ete(i)?n:i):t;return p.jsx(dY,{styles:r})}/**
 * @mui/styled-engine v6.1.9
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function Cte(e,t){return rS(e,t)}function kte(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}const NR=[];function BR(e){return NR[0]=e,wte(NR)}const Tte=e=>{const t=Object.keys(e).map(n=>({key:n,val:e[n]}))||[];return t.sort((n,r)=>n.val-r.val),t.reduce((n,r)=>({...n,[r.key]:r.val}),{})};function Ite(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5,...i}=e,s=Tte(t),o=Object.keys(s);function l(m){return`@media (min-width:${typeof t[m]=="number"?t[m]:m}${n})`}function d(m){return`@media (max-width:${(typeof t[m]=="number"?t[m]:m)-r/100}${n})`}function c(m,v){const A=o.indexOf(v);return`@media (min-width:${typeof t[m]=="number"?t[m]:m}${n}) and (max-width:${(A!==-1&&typeof t[o[A]]=="number"?t[o[A]]:v)-r/100}${n})`}function h(m){return o.indexOf(m)+1<o.length?c(m,o[o.indexOf(m)+1]):l(m)}function f(m){const v=o.indexOf(m);return v===0?l(o[1]):v===o.length-1?d(o[v]):c(m,o[o.indexOf(m)+1]).replace("@media","@media not all and")}return{keys:o,values:s,up:l,down:d,between:c,only:h,not:f,unit:n,...i}}const Rte={borderRadius:4};function oL(e=8,t=iw({spacing:e})){if(e.mui)return e;const n=(...r)=>(r.length===0?[1]:r).map(s=>{const o=t(s);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}function Pte(e,t){var r;const n=this;if(n.vars){if(!((r=n.colorSchemes)!=null&&r[e])||typeof n.getColorSchemeSelector!="function")return{};let i=n.getColorSchemeSelector(e);return i==="&"?t:((i.includes("data-")||i.includes("."))&&(i=`*:where(${i.replace(/\s*&$/,"")}) &`),{[i]:t})}return n.palette.mode===e?t:{}}function ow(e={},...t){const{breakpoints:n={},palette:r={},spacing:i,shape:s={},...o}=e,l=Ite(n),d=oL(i);let c=Ni({breakpoints:l,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:d,shape:{...Rte,...s}},o);return c=Tee(c),c.applyStyles=Pte,c=t.reduce((h,f)=>Ni(h,f),c),c.unstable_sxConfig={...tp,...o==null?void 0:o.unstable_sxConfig},c.unstable_sx=function(f){return Cc({sx:f,theme:this})},c}function Mte(e){return Object.keys(e).length===0}function aL(e=null){const t=S.useContext(Ov);return!t||Mte(t)?e:t}const jte=ow();function lL(e=jte){return aL(e)}function Ote({styles:e,themeId:t,defaultTheme:n={}}){const r=lL(n),i=typeof e=="function"?e(t&&r[t]||r):e;return p.jsx(sL,{styles:i})}function cL(e){const{variants:t,...n}=e,r={variants:t,style:BR(n),isProcessed:!0};return r.style===n||t&&t.forEach(i=>{typeof i.style!="function"&&(i.style=BR(i.style))}),r}const Vte=ow();function R1(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}function Lte(e){return e?(t,n)=>n[e]:null}function Nte(e,t,n){e.theme=Fte(e.theme)?n:e.theme[t]||e.theme}function zm(e,t){const n=typeof t=="function"?t(e):t;if(Array.isArray(n))return n.flatMap(r=>zm(e,r));if(Array.isArray(n==null?void 0:n.variants)){let r;if(n.isProcessed)r=n.style;else{const{variants:i,...s}=n;r=s}return uL(e,n.variants,[r])}return n!=null&&n.isProcessed?n.style:n}function uL(e,t,n=[]){var i;let r;e:for(let s=0;s<t.length;s+=1){const o=t[s];if(typeof o.props=="function"){if(r??(r={...e,...e.ownerState,ownerState:e.ownerState}),!o.props(r))continue}else for(const l in o.props)if(e[l]!==o.props[l]&&((i=e.ownerState)==null?void 0:i[l])!==o.props[l])continue e;typeof o.style=="function"?(r??(r={...e,...e.ownerState,ownerState:e.ownerState}),n.push(o.style(r))):n.push(o.style)}return n}function Bte(e={}){const{themeId:t,defaultTheme:n=Vte,rootShouldForwardProp:r=R1,slotShouldForwardProp:i=R1}=e;function s(l){Nte(l,t,n)}return(l,d={})=>{kte(l,w=>w.filter(R=>R!==Cc));const{name:c,slot:h,skipVariantsResolver:f,skipSx:m,overridesResolver:v=Lte(zte(h)),...A}=d,b=f!==void 0?f:h&&h!=="Root"&&h!=="root"||!1,x=m||!1;let E=R1;h==="Root"||h==="root"?E=r:h?E=i:$te(l)&&(E=void 0);const I=Cte(l,{shouldForwardProp:E,label:Dte(),...A}),P=w=>{if(typeof w=="function"&&w.__emotion_real!==w)return function(j){return zm(j,w)};if(wo(w)){const R=cL(w);return R.variants?function(V){return zm(V,R)}:R.style}return w},T=(...w)=>{const R=[],j=w.map(P),V=[];if(R.push(s),c&&v&&V.push(function(H){var L,Y;const U=(Y=(L=H.theme.components)==null?void 0:L[c])==null?void 0:Y.styleOverrides;if(!U)return null;const D={};for(const q in U)D[q]=zm(H,U[q]);return v(H,D)}),c&&!b&&V.push(function(H){var D,L;const F=H.theme,U=(L=(D=F==null?void 0:F.components)==null?void 0:D[c])==null?void 0:L.variants;return U?uL(H,U):null}),x||V.push(Cc),Array.isArray(j[0])){const B=j.shift(),H=new Array(R.length).fill(""),F=new Array(V.length).fill("");let U;U=[...H,...B,...F],U.raw=[...H,...B.raw,...F],R.unshift(U)}const N=[...R,...j,...V],k=I(...N);return l.muiName&&(k.muiName=l.muiName),k};return I.withConfig&&(T.withConfig=I.withConfig),T}}function Dte(e,t){return void 0}function Fte(e){for(const t in e)return!1;return!0}function $te(e){return typeof e=="string"&&e.charCodeAt(0)>96}function zte(e){return e&&e.charAt(0).toLowerCase()+e.slice(1)}function aw(e,t=0,n=1){return bee(e,t,n)}function Ute(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function cl(e){if(e.type)return e;if(e.charAt(0)==="#")return cl(Ute(e));const t=e.indexOf("("),n=e.substring(0,t);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(wc(9,e));let r=e.substring(t+1,e.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(wc(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}const Hte=e=>{const t=cl(e);return t.values.slice(0,3).map((n,r)=>t.type.includes("hsl")&&r!==0?`${n}%`:n).join(" ")},qf=(e,t)=>{try{return Hte(e)}catch{return e}};function Gv(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return t.includes("rgb")?r=r.map((i,s)=>s<3?parseInt(i,10):i):t.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),t.includes("color")?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${t}(${r})`}function dL(e){e=cl(e);const{values:t}=e,n=t[0],r=t[1]/100,i=t[2]/100,s=r*Math.min(i,1-i),o=(c,h=(c+n/30)%12)=>i-s*Math.max(Math.min(h-3,9-h,1),-1);let l="rgb";const d=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return e.type==="hsla"&&(l+="a",d.push(t[3])),Gv({type:l,values:d})}function iS(e){e=cl(e);let t=e.type==="hsl"||e.type==="hsla"?cl(dL(e)).values:e.values;return t=t.map(n=>(e.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function Gte(e,t){const n=iS(e),r=iS(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function Js(e,t){return e=cl(e),t=aw(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,Gv(e)}function Wg(e,t,n){try{return Js(e,t)}catch{return e}}function lw(e,t){if(e=cl(e),t=aw(t),e.type.includes("hsl"))e.values[2]*=1-t;else if(e.type.includes("rgb")||e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]*=1-t;return Gv(e)}function hn(e,t,n){try{return lw(e,t)}catch{return e}}function cw(e,t){if(e=cl(e),t=aw(t),e.type.includes("hsl"))e.values[2]+=(100-e.values[2])*t;else if(e.type.includes("rgb"))for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return Gv(e)}function pn(e,t,n){try{return cw(e,t)}catch{return e}}function qte(e,t=.15){return iS(e)>.5?lw(e,t):cw(e,t)}function Kg(e,t,n){try{return qte(e,t)}catch{return e}}const fL=S.createContext(null);function uw(){return S.useContext(fL)}const Wte=typeof Symbol=="function"&&Symbol.for,Kte=Wte?Symbol.for("mui.nested"):"__THEME_NESTED__";function Yte(e,t){return typeof t=="function"?t(e):{...e,...t}}function Qte(e){const{children:t,theme:n}=e,r=uw(),i=S.useMemo(()=>{const s=r===null?{...n}:Yte(r,n);return s!=null&&(s[Kte]=r!==null),s},[n,r]);return p.jsx(fL.Provider,{value:i,children:t})}const hL=S.createContext();function Jte({value:e,...t}){return p.jsx(hL.Provider,{value:e??!0,...t})}const Aye=()=>S.useContext(hL)??!1,pL=S.createContext(void 0);function Xte({value:e,children:t}){return p.jsx(pL.Provider,{value:e,children:t})}function Zte(e){const{theme:t,name:n,props:r}=e;if(!t||!t.components||!t.components[n])return r;const i=t.components[n];return i.defaultProps?V0(i.defaultProps,r):!i.styleOverrides&&!i.variants?V0(i,r):r}function ene({props:e,name:t}){const n=S.useContext(pL);return Zte({props:e,name:t,theme:{components:n}})}const DR={};function FR(e,t,n,r=!1){return S.useMemo(()=>{const i=e&&t[e]||t;if(typeof n=="function"){const s=n(i),o=e?{...t,[e]:s}:s;return r?()=>o:o}return e?{...t,[e]:n}:{...t,...n}},[e,t,n,r])}function gL(e){const{children:t,theme:n,themeId:r}=e,i=aL(DR),s=uw()||DR,o=FR(r,i,n),l=FR(r,s,n,!0),d=(r?o[r]:o).direction==="rtl";return p.jsx(Qte,{theme:l,children:p.jsx(Ov.Provider,{value:o,children:p.jsx(Jte,{value:d,children:p.jsx(Xte,{value:r?o[r].components:o.components,children:t})})})})}const $R={theme:void 0};function tne(e){let t,n;return function(i){let s=t;return(s===void 0||i.theme!==n)&&($R.theme=i.theme,s=cL(e($R)),t=s,n=i.theme),s}}const dw="mode",fw="color-scheme",nne="data-color-scheme";function rne(e){const{defaultMode:t="system",defaultLightColorScheme:n="light",defaultDarkColorScheme:r="dark",modeStorageKey:i=dw,colorSchemeStorageKey:s=fw,attribute:o=nne,colorSchemeNode:l="document.documentElement",nonce:d}=e||{};let c="",h=o;if(o==="class"&&(h=".%s"),o==="data"&&(h="[data-%s]"),h.startsWith(".")){const m=h.substring(1);c+=`${l}.classList.remove('${m}'.replace('%s', light), '${m}'.replace('%s', dark));
      ${l}.classList.add('${m}'.replace('%s', colorScheme));`}const f=h.match(/\[([^\]]+)\]/);if(f){const[m,v]=f[1].split("=");v||(c+=`${l}.removeAttribute('${m}'.replace('%s', light));
      ${l}.removeAttribute('${m}'.replace('%s', dark));`),c+=`
      ${l}.setAttribute('${m}'.replace('%s', colorScheme), ${v?`${v}.replace('%s', colorScheme)`:'""'});`}else c+=`${l}.setAttribute('${h}', colorScheme);`;return p.jsx("script",{suppressHydrationWarning:!0,nonce:typeof window>"u"?d:"",dangerouslySetInnerHTML:{__html:`(function() {
try {
  let colorScheme = '';
  const mode = localStorage.getItem('${i}') || '${t}';
  const dark = localStorage.getItem('${s}-dark') || '${r}';
  const light = localStorage.getItem('${s}-light') || '${n}';
  if (mode === 'system') {
    // handle system mode
    const mql = window.matchMedia('(prefers-color-scheme: dark)');
    if (mql.matches) {
      colorScheme = dark
    } else {
      colorScheme = light
    }
  }
  if (mode === 'light') {
    colorScheme = light;
  }
  if (mode === 'dark') {
    colorScheme = dark;
  }
  if (colorScheme) {
    ${c}
  }
} catch(e){}})();`}},"mui-color-scheme-init")}function zR(e){if(typeof window<"u"&&typeof window.matchMedia=="function"&&e==="system")return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function mL(e,t){if(e.mode==="light"||e.mode==="system"&&e.systemMode==="light")return t("light");if(e.mode==="dark"||e.mode==="system"&&e.systemMode==="dark")return t("dark")}function ine(e){return mL(e,t=>{if(t==="light")return e.lightColorScheme;if(t==="dark")return e.darkColorScheme})}function P1(e,t){if(typeof window>"u")return;let n;try{n=localStorage.getItem(e)||void 0,n||localStorage.setItem(e,t)}catch{}return n||t}function sne(e){const{defaultMode:t="light",defaultLightColorScheme:n,defaultDarkColorScheme:r,supportedColorSchemes:i=[],modeStorageKey:s=dw,colorSchemeStorageKey:o=fw,storageWindow:l=typeof window>"u"?void 0:window,noSsr:d=!1}=e,c=i.join(","),h=i.length>1,[f,m]=S.useState(()=>{const T=P1(s,t),w=P1(`${o}-light`,n),R=P1(`${o}-dark`,r);return{mode:T,systemMode:zR(T),lightColorScheme:w,darkColorScheme:R}}),[v,A]=S.useState(d||!h);S.useEffect(()=>{A(!0)},[]);const b=ine(f),x=S.useCallback(T=>{m(w=>{if(T===w.mode)return w;const R=T??t;try{localStorage.setItem(s,R)}catch{}return{...w,mode:R,systemMode:zR(R)}})},[s,t]),E=S.useCallback(T=>{T?typeof T=="string"?T&&!c.includes(T)?console.error(`\`${T}\` does not exist in \`theme.colorSchemes\`.`):m(w=>{const R={...w};return mL(w,j=>{try{localStorage.setItem(`${o}-${j}`,T)}catch{}j==="light"&&(R.lightColorScheme=T),j==="dark"&&(R.darkColorScheme=T)}),R}):m(w=>{const R={...w},j=T.light===null?n:T.light,V=T.dark===null?r:T.dark;if(j)if(!c.includes(j))console.error(`\`${j}\` does not exist in \`theme.colorSchemes\`.`);else{R.lightColorScheme=j;try{localStorage.setItem(`${o}-light`,j)}catch{}}if(V)if(!c.includes(V))console.error(`\`${V}\` does not exist in \`theme.colorSchemes\`.`);else{R.darkColorScheme=V;try{localStorage.setItem(`${o}-dark`,V)}catch{}}return R}):m(w=>{try{localStorage.setItem(`${o}-light`,n),localStorage.setItem(`${o}-dark`,r)}catch{}return{...w,lightColorScheme:n,darkColorScheme:r}})},[c,o,n,r]),I=S.useCallback(T=>{f.mode==="system"&&m(w=>{const R=T!=null&&T.matches?"dark":"light";return w.systemMode===R?w:{...w,systemMode:R}})},[f.mode]),P=S.useRef(I);return P.current=I,S.useEffect(()=>{if(typeof window.matchMedia!="function"||!h)return;const T=(...R)=>P.current(...R),w=window.matchMedia("(prefers-color-scheme: dark)");return w.addListener(T),T(w),()=>{w.removeListener(T)}},[h]),S.useEffect(()=>{if(l&&h){const T=w=>{const R=w.newValue;typeof w.key=="string"&&w.key.startsWith(o)&&(!R||c.match(R))&&(w.key.endsWith("light")&&E({light:R}),w.key.endsWith("dark")&&E({dark:R})),w.key===s&&(!R||["light","dark","system"].includes(R))&&x(R||t)};return l.addEventListener("storage",T),()=>{l.removeEventListener("storage",T)}}},[E,x,s,o,c,t,l,h]),{...f,mode:v?f.mode:void 0,systemMode:v?f.systemMode:void 0,colorScheme:v?b:void 0,setMode:x,setColorScheme:E}}const one="*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function ane(e){const{themeId:t,theme:n={},modeStorageKey:r=dw,colorSchemeStorageKey:i=fw,disableTransitionOnChange:s=!1,defaultColorScheme:o,resolveTheme:l}=e,d={allColorSchemes:[],colorScheme:void 0,darkColorScheme:void 0,lightColorScheme:void 0,mode:void 0,setColorScheme:()=>{},setMode:()=>{},systemMode:void 0},c=S.createContext(void 0),h=()=>S.useContext(c)||d;function f(b){var Ge,jt,Xt,Zt,bt;const{children:x,theme:E,modeStorageKey:I=r,colorSchemeStorageKey:P=i,disableTransitionOnChange:T=s,storageWindow:w=typeof window>"u"?void 0:window,documentNode:R=typeof document>"u"?void 0:document,colorSchemeNode:j=typeof document>"u"?void 0:document.documentElement,disableNestedContext:V=!1,disableStyleSheetGeneration:N=!1,defaultMode:k="system",noSsr:B}=b,H=S.useRef(!1),F=uw(),U=S.useContext(c),D=!!U&&!V,L=S.useMemo(()=>E||(typeof n=="function"?n():n),[E]),Y=L[t],{colorSchemes:q={},components:Q={},cssVarPrefix:M,...z}=Y||L,J=Object.keys(q).filter(dt=>!!q[dt]).join(","),ae=S.useMemo(()=>J.split(","),[J]),W=typeof o=="string"?o:o.light,ye=typeof o=="string"?o:o.dark,le=q[W]&&q[ye]?k:((jt=(Ge=q[z.defaultColorScheme])==null?void 0:Ge.palette)==null?void 0:jt.mode)||((Xt=z.palette)==null?void 0:Xt.mode),{mode:me,setMode:xe,systemMode:Re,lightColorScheme:be,darkColorScheme:Oe,colorScheme:Ze,setColorScheme:Ue}=sne({supportedColorSchemes:ae,defaultLightColorScheme:W,defaultDarkColorScheme:ye,modeStorageKey:I,colorSchemeStorageKey:P,defaultMode:le,storageWindow:w,noSsr:B});let Le=me,je=Ze;D&&(Le=U.mode,je=U.colorScheme);const mt=je||z.defaultColorScheme,vt=((Zt=z.generateThemeVars)==null?void 0:Zt.call(z))||z.vars,De={...z,components:Q,colorSchemes:q,cssVarPrefix:M,vars:vt};if(typeof De.generateSpacing=="function"&&(De.spacing=De.generateSpacing()),mt){const dt=q[mt];dt&&typeof dt=="object"&&Object.keys(dt).forEach(nt=>{dt[nt]&&typeof dt[nt]=="object"?De[nt]={...De[nt],...dt[nt]}:De[nt]=dt[nt]})}const ht=z.colorSchemeSelector;S.useEffect(()=>{if(je&&j&&ht&&ht!=="media"){const dt=ht;let nt=ht;if(dt==="class"&&(nt=".%s"),dt==="data"&&(nt="[data-%s]"),dt!=null&&dt.startsWith("data-")&&!dt.includes("%s")&&(nt=`[${dt}="%s"]`),nt.startsWith("."))j.classList.remove(...ae.map(_t=>nt.substring(1).replace("%s",_t))),j.classList.add(nt.substring(1).replace("%s",je));else{const _t=nt.replace("%s",je).match(/\[([^\]]+)\]/);if(_t){const[cn,Lt]=_t[1].split("=");Lt||ae.forEach(Pt=>{j.removeAttribute(cn.replace(je,Pt))}),j.setAttribute(cn,Lt?Lt.replace(/"|'/g,""):"")}else j.setAttribute(nt,je)}}},[je,ht,j,ae]),S.useEffect(()=>{let dt;if(T&&H.current&&R){const nt=R.createElement("style");nt.appendChild(R.createTextNode(one)),R.head.appendChild(nt),window.getComputedStyle(R.body),dt=setTimeout(()=>{R.head.removeChild(nt)},1)}return()=>{clearTimeout(dt)}},[je,T,R]),S.useEffect(()=>(H.current=!0,()=>{H.current=!1}),[]);const Ut=S.useMemo(()=>({allColorSchemes:ae,colorScheme:je,darkColorScheme:Oe,lightColorScheme:be,mode:Le,setColorScheme:Ue,setMode:xe,systemMode:Re}),[ae,je,Oe,be,Le,Ue,xe,Re,De.colorSchemeSelector]);let Wt=!0;(N||z.cssVariables===!1||D&&(F==null?void 0:F.cssVarPrefix)===M)&&(Wt=!1);const Ht=p.jsxs(S.Fragment,{children:[p.jsx(gL,{themeId:Y?t:void 0,theme:l?l(De):De,children:x}),Wt&&p.jsx(sL,{styles:((bt=De.generateStyleSheets)==null?void 0:bt.call(De))||[]})]});return D?Ht:p.jsx(c.Provider,{value:Ut,children:Ht})}const m=typeof o=="string"?o:o.light,v=typeof o=="string"?o:o.dark;return{CssVarsProvider:f,useColorScheme:h,getInitColorSchemeScript:b=>rne({colorSchemeStorageKey:i,defaultLightColorScheme:m,defaultDarkColorScheme:v,modeStorageKey:r,...b})}}function lne(e=""){function t(...r){if(!r.length)return"";const i=r[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${e?`${e}-`:""}${i}${t(...r.slice(1))})`:`, ${i}`}return(r,...i)=>`var(--${e?`${e}-`:""}${r}${t(...i)})`}const UR=(e,t,n,r=[])=>{let i=e;t.forEach((s,o)=>{o===t.length-1?Array.isArray(i)?i[Number(s)]=n:i&&typeof i=="object"&&(i[s]=n):i&&typeof i=="object"&&(i[s]||(i[s]=r.includes(s)?[]:{}),i=i[s])})},cne=(e,t,n)=>{function r(i,s=[],o=[]){Object.entries(i).forEach(([l,d])=>{(!n||n&&!n([...s,l]))&&d!=null&&(typeof d=="object"&&Object.keys(d).length>0?r(d,[...s,l],Array.isArray(d)?[...o,l]:o):t([...s,l],d,o))})}r(e)},une=(e,t)=>typeof t=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>e.includes(r))||e[e.length-1].toLowerCase().includes("opacity")?t:`${t}px`:t;function M1(e,t){const{prefix:n,shouldSkipGeneratingVar:r}=t||{},i={},s={},o={};return cne(e,(l,d,c)=>{if((typeof d=="string"||typeof d=="number")&&(!r||!r(l,d))){const h=`--${n?`${n}-`:""}${l.join("-")}`,f=une(l,d);Object.assign(i,{[h]:f}),UR(s,l,`var(${h})`,c),UR(o,l,`var(${h}, ${f})`,c)}},l=>l[0]==="vars"),{css:i,vars:s,varsWithDefaults:o}}function dne(e,t={}){const{getSelector:n=x,disableCssColorScheme:r,colorSchemeSelector:i}=t,{colorSchemes:s={},components:o,defaultColorScheme:l="light",...d}=e,{vars:c,css:h,varsWithDefaults:f}=M1(d,t);let m=f;const v={},{[l]:A,...b}=s;if(Object.entries(b||{}).forEach(([P,T])=>{const{vars:w,css:R,varsWithDefaults:j}=M1(T,t);m=Ni(m,j),v[P]={css:R,vars:w}}),A){const{css:P,vars:T,varsWithDefaults:w}=M1(A,t);m=Ni(m,w),v[l]={css:P,vars:T}}function x(P,T){var R,j;let w=i;if(i==="class"&&(w=".%s"),i==="data"&&(w="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(w=`[${i}="%s"]`),P){if(w==="media")return e.defaultColorScheme===P?":root":{[`@media (prefers-color-scheme: ${((j=(R=s[P])==null?void 0:R.palette)==null?void 0:j.mode)||P})`]:{":root":T}};if(w)return e.defaultColorScheme===P?`:root, ${w.replace("%s",String(P))}`:w.replace("%s",String(P))}return":root"}return{vars:m,generateThemeVars:()=>{let P={...c};return Object.entries(v).forEach(([,{vars:T}])=>{P=Ni(P,T)}),P},generateStyleSheets:()=>{var V,N;const P=[],T=e.defaultColorScheme||"light";function w(k,B){Object.keys(B).length&&P.push(typeof k=="string"?{[k]:{...B}}:k)}w(n(void 0,{...h}),h);const{[T]:R,...j}=v;if(R){const{css:k}=R,B=(N=(V=s[T])==null?void 0:V.palette)==null?void 0:N.mode,H=!r&&B?{colorScheme:B,...k}:{...k};w(n(T,{...H}),H)}return Object.entries(j).forEach(([k,{css:B}])=>{var U,D;const H=(D=(U=s[k])==null?void 0:U.palette)==null?void 0:D.mode,F=!r&&H?{colorScheme:H,...B}:{...B};w(n(k,{...F}),F)}),P}}}function fne(e){return function(n){return e==="media"?`@media (prefers-color-scheme: ${n})`:e?e.startsWith("data-")&&!e.includes("%s")?`[${e}="${n}"] &`:e==="class"?`.${n} &`:e==="data"?`[data-${n}] &`:`${e.replace("%s",n)} &`:"&"}}const Oh={black:"#000",white:"#fff"},hne={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},vu={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},yu={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Mf={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Au={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},bu={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},_u={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};function vL(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Oh.white,default:Oh.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const pne=vL();function yL(){return{text:{primary:Oh.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Oh.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const HR=yL();function GR(e,t,n,r){const i=r.light||r,s=r.dark||r*1.5;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:t==="light"?e.light=cw(e.main,i):t==="dark"&&(e.dark=lw(e.main,s)))}function gne(e="light"){return e==="dark"?{main:Au[200],light:Au[50],dark:Au[400]}:{main:Au[700],light:Au[400],dark:Au[800]}}function mne(e="light"){return e==="dark"?{main:vu[200],light:vu[50],dark:vu[400]}:{main:vu[500],light:vu[300],dark:vu[700]}}function vne(e="light"){return e==="dark"?{main:yu[500],light:yu[300],dark:yu[700]}:{main:yu[700],light:yu[400],dark:yu[800]}}function yne(e="light"){return e==="dark"?{main:bu[400],light:bu[300],dark:bu[700]}:{main:bu[700],light:bu[500],dark:bu[900]}}function Ane(e="light"){return e==="dark"?{main:_u[400],light:_u[300],dark:_u[700]}:{main:_u[800],light:_u[500],dark:_u[900]}}function bne(e="light"){return e==="dark"?{main:Mf[400],light:Mf[300],dark:Mf[700]}:{main:"#ed6c02",light:Mf[500],dark:Mf[900]}}function hw(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:r=.2,...i}=e,s=e.primary||gne(t),o=e.secondary||mne(t),l=e.error||vne(t),d=e.info||yne(t),c=e.success||Ane(t),h=e.warning||bne(t);function f(b){return Gte(b,HR.text.primary)>=n?HR.text.primary:pne.text.primary}const m=({color:b,name:x,mainShade:E=500,lightShade:I=300,darkShade:P=700})=>{if(b={...b},!b.main&&b[E]&&(b.main=b[E]),!b.hasOwnProperty("main"))throw new Error(wc(11,x?` (${x})`:"",E));if(typeof b.main!="string")throw new Error(wc(12,x?` (${x})`:"",JSON.stringify(b.main)));return GR(b,"light",I,r),GR(b,"dark",P,r),b.contrastText||(b.contrastText=f(b.main)),b};let v;return t==="light"?v=vL():t==="dark"&&(v=yL()),Ni({common:{...Oh},mode:t,primary:m({color:s,name:"primary"}),secondary:m({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:m({color:l,name:"error"}),warning:m({color:h,name:"warning"}),info:m({color:d,name:"info"}),success:m({color:c,name:"success"}),grey:hne,contrastThreshold:n,getContrastText:f,augmentColor:m,tonalOffset:r,...v},i)}function _ne(e){const t={};return Object.entries(e).forEach(r=>{const[i,s]=r;typeof s=="object"&&(t[i]=`${s.fontStyle?`${s.fontStyle} `:""}${s.fontVariant?`${s.fontVariant} `:""}${s.fontWeight?`${s.fontWeight} `:""}${s.fontStretch?`${s.fontStretch} `:""}${s.fontSize||""}${s.lineHeight?`/${s.lineHeight} `:""}${s.fontFamily||""}`)}),t}function Sne(e,t){return{toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}},...t}}function xne(e){return Math.round(e*1e5)/1e5}const qR={textTransform:"uppercase"},WR='"Roboto", "Helvetica", "Arial", sans-serif';function AL(e,t){const{fontFamily:n=WR,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:s=400,fontWeightMedium:o=500,fontWeightBold:l=700,htmlFontSize:d=16,allVariants:c,pxToRem:h,...f}=typeof t=="function"?t(e):t,m=r/14,v=h||(x=>`${x/d*m}rem`),A=(x,E,I,P,T)=>({fontFamily:n,fontWeight:x,fontSize:v(E),lineHeight:I,...n===WR?{letterSpacing:`${xne(P/E)}em`}:{},...T,...c}),b={h1:A(i,96,1.167,-1.5),h2:A(i,60,1.2,-.5),h3:A(s,48,1.167,0),h4:A(s,34,1.235,.25),h5:A(s,24,1.334,0),h6:A(o,20,1.6,.15),subtitle1:A(s,16,1.75,.15),subtitle2:A(o,14,1.57,.1),body1:A(s,16,1.5,.15),body2:A(s,14,1.43,.15),button:A(o,14,1.75,.4,qR),caption:A(s,12,1.66,.4),overline:A(s,12,2.66,1,qR),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Ni({htmlFontSize:d,pxToRem:v,fontFamily:n,fontSize:r,fontWeightLight:i,fontWeightRegular:s,fontWeightMedium:o,fontWeightBold:l,...b},f,{clone:!1})}const wne=.2,Ene=.14,Cne=.12;function Nn(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${wne})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${Ene})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${Cne})`].join(",")}const kne=["none",Nn(0,2,1,-1,0,1,1,0,0,1,3,0),Nn(0,3,1,-2,0,2,2,0,0,1,5,0),Nn(0,3,3,-2,0,3,4,0,0,1,8,0),Nn(0,2,4,-1,0,4,5,0,0,1,10,0),Nn(0,3,5,-1,0,5,8,0,0,1,14,0),Nn(0,3,5,-1,0,6,10,0,0,1,18,0),Nn(0,4,5,-2,0,7,10,1,0,2,16,1),Nn(0,5,5,-3,0,8,10,1,0,3,14,2),Nn(0,5,6,-3,0,9,12,1,0,3,16,2),Nn(0,6,6,-3,0,10,14,1,0,4,18,3),Nn(0,6,7,-4,0,11,15,1,0,4,20,3),Nn(0,7,8,-4,0,12,17,2,0,5,22,4),Nn(0,7,8,-4,0,13,19,2,0,5,24,4),Nn(0,7,9,-4,0,14,21,2,0,5,26,4),Nn(0,8,9,-5,0,15,22,2,0,6,28,5),Nn(0,8,10,-5,0,16,24,2,0,6,30,5),Nn(0,8,11,-5,0,17,26,2,0,6,32,5),Nn(0,9,11,-5,0,18,28,2,0,7,34,6),Nn(0,9,12,-6,0,19,29,2,0,7,36,6),Nn(0,10,13,-6,0,20,31,3,0,8,38,7),Nn(0,10,13,-6,0,21,33,3,0,8,40,7),Nn(0,10,14,-6,0,22,35,3,0,8,42,7),Nn(0,11,14,-7,0,23,36,3,0,9,44,8),Nn(0,11,15,-7,0,24,38,3,0,9,46,8)],Tne={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Ine={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function KR(e){return`${Math.round(e)}ms`}function Rne(e){if(!e)return 0;const t=e/36;return Math.min(Math.round((4+15*t**.25+t/5)*10),3e3)}function Pne(e){const t={...Tne,...e.easing},n={...Ine,...e.duration};return{getAutoHeightDuration:Rne,create:(i=["all"],s={})=>{const{duration:o=n.standard,easing:l=t.easeInOut,delay:d=0,...c}=s;return(Array.isArray(i)?i:[i]).map(h=>`${h} ${typeof o=="string"?o:KR(o)} ${l} ${typeof d=="string"?d:KR(d)}`).join(",")},...e,easing:t,duration:n}}const Mne={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function jne(e){return wo(e)||typeof e>"u"||typeof e=="string"||typeof e=="boolean"||typeof e=="number"||Array.isArray(e)}function bL(e={}){const t={...e};function n(r){const i=Object.entries(r);for(let s=0;s<i.length;s++){const[o,l]=i[s];!jne(l)||o.startsWith("unstable_")?delete r[o]:wo(l)&&(r[o]={...l},n(r[o]))}}return n(t),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(t,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function sS(e={},...t){const{breakpoints:n,mixins:r={},spacing:i,palette:s={},transitions:o={},typography:l={},shape:d,...c}=e;if(e.vars)throw new Error(wc(20));const h=hw(s),f=ow(e);let m=Ni(f,{mixins:Sne(f.breakpoints,r),palette:h,shadows:kne.slice(),typography:AL(h,l),transitions:Pne(o),zIndex:{...Mne}});return m=Ni(m,c),m=t.reduce((v,A)=>Ni(v,A),m),m.unstable_sxConfig={...tp,...c==null?void 0:c.unstable_sxConfig},m.unstable_sx=function(A){return Cc({sx:A,theme:this})},m.toRuntimeSource=bL,m}function oS(e){let t;return e<1?t=5.11916*e**2:t=4.5*Math.log(e+1)+2,Math.round(t*10)/1e3}const One=[...Array(25)].map((e,t)=>{if(t===0)return"none";const n=oS(t);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`});function _L(e){return{inputPlaceholder:e==="dark"?.5:.42,inputUnderline:e==="dark"?.7:.42,switchTrackDisabled:e==="dark"?.2:.12,switchTrack:e==="dark"?.3:.38}}function SL(e){return e==="dark"?One:[]}function Vne(e){const{palette:t={mode:"light"},opacity:n,overlays:r,...i}=e,s=hw(t);return{palette:s,opacity:{..._L(s.mode),...n},overlays:r||SL(s.mode),...i}}function Lne(e){var t;return!!e[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!e[0].match(/sxConfig$/)||e[0]==="palette"&&!!((t=e[1])!=null&&t.match(/(mode|contrastThreshold|tonalOffset)/))}const Nne=e=>[...[...Array(25)].map((t,n)=>`--${e?`${e}-`:""}overlays-${n}`),`--${e?`${e}-`:""}palette-AppBar-darkBg`,`--${e?`${e}-`:""}palette-AppBar-darkColor`],Bne=e=>(t,n)=>{const r=e.rootSelector||":root",i=e.colorSchemeSelector;let s=i;if(i==="class"&&(s=".%s"),i==="data"&&(s="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(s=`[${i}="%s"]`),e.defaultColorScheme===t){if(t==="dark"){const o={};return Nne(e.cssVarPrefix).forEach(l=>{o[l]=n[l],delete n[l]}),s==="media"?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:o}}:s?{[s.replace("%s",t)]:o,[`${r}, ${s.replace("%s",t)}`]:n}:{[r]:{...n,...o}}}if(s&&s!=="media")return`${r}, ${s.replace("%s",String(t))}`}else if(t){if(s==="media")return{[`@media (prefers-color-scheme: ${String(t)})`]:{[r]:n}};if(s)return s.replace("%s",String(t))}return r};function Dne(e,t){t.forEach(n=>{e[n]||(e[n]={})})}function pe(e,t,n){!e[t]&&n&&(e[t]=n)}function Wf(e){return!e||!e.startsWith("hsl")?e:dL(e)}function Ko(e,t){`${t}Channel`in e||(e[`${t}Channel`]=qf(Wf(e[t]),`MUI: Can't create \`palette.${t}Channel\` because \`palette.${t}\` is not one of these formats: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla(), color().
To suppress this warning, you need to explicitly provide the \`palette.${t}Channel\` as a string (in rgb format, for example "12 12 12") or undefined if you want to remove the channel token.`))}function Fne(e){return typeof e=="number"?`${e}px`:typeof e=="string"||typeof e=="function"||Array.isArray(e)?e:"8px"}const yo=e=>{try{return e()}catch{}},$ne=(e="mui")=>lne(e);function j1(e,t,n,r){if(!t)return;t=t===!0?{}:t;const i=r==="dark"?"dark":"light";if(!n){e[r]=Vne({...t,palette:{mode:i,...t==null?void 0:t.palette}});return}const{palette:s,...o}=sS({...n,palette:{mode:i,...t==null?void 0:t.palette}});return e[r]={...t,palette:s,opacity:{..._L(i),...t==null?void 0:t.opacity},overlays:(t==null?void 0:t.overlays)||SL(i)},o}function zne(e={},...t){const{colorSchemes:n={light:!0},defaultColorScheme:r,disableCssColorScheme:i=!1,cssVarPrefix:s="mui",shouldSkipGeneratingVar:o=Lne,colorSchemeSelector:l=n.light&&n.dark?"media":void 0,rootSelector:d=":root",...c}=e,h=Object.keys(n)[0],f=r||(n.light&&h!=="light"?"light":h),m=$ne(s),{[f]:v,light:A,dark:b,...x}=n,E={...x};let I=v;if((f==="dark"&&!("dark"in n)||f==="light"&&!("light"in n))&&(I=!0),!I)throw new Error(wc(21,f));const P=j1(E,I,c,f);A&&!E.light&&j1(E,A,void 0,"light"),b&&!E.dark&&j1(E,b,void 0,"dark");let T={defaultColorScheme:f,...P,cssVarPrefix:s,colorSchemeSelector:l,rootSelector:d,getCssVar:m,colorSchemes:E,font:{..._ne(P.typography),...P.font},spacing:Fne(c.spacing)};Object.keys(T.colorSchemes).forEach(N=>{const k=T.colorSchemes[N].palette,B=H=>{const F=H.split("-"),U=F[1],D=F[2];return m(H,k[U][D])};if(k.mode==="light"&&(pe(k.common,"background","#fff"),pe(k.common,"onBackground","#000")),k.mode==="dark"&&(pe(k.common,"background","#000"),pe(k.common,"onBackground","#fff")),Dne(k,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),k.mode==="light"){pe(k.Alert,"errorColor",hn(k.error.light,.6)),pe(k.Alert,"infoColor",hn(k.info.light,.6)),pe(k.Alert,"successColor",hn(k.success.light,.6)),pe(k.Alert,"warningColor",hn(k.warning.light,.6)),pe(k.Alert,"errorFilledBg",B("palette-error-main")),pe(k.Alert,"infoFilledBg",B("palette-info-main")),pe(k.Alert,"successFilledBg",B("palette-success-main")),pe(k.Alert,"warningFilledBg",B("palette-warning-main")),pe(k.Alert,"errorFilledColor",yo(()=>k.getContrastText(k.error.main))),pe(k.Alert,"infoFilledColor",yo(()=>k.getContrastText(k.info.main))),pe(k.Alert,"successFilledColor",yo(()=>k.getContrastText(k.success.main))),pe(k.Alert,"warningFilledColor",yo(()=>k.getContrastText(k.warning.main))),pe(k.Alert,"errorStandardBg",pn(k.error.light,.9)),pe(k.Alert,"infoStandardBg",pn(k.info.light,.9)),pe(k.Alert,"successStandardBg",pn(k.success.light,.9)),pe(k.Alert,"warningStandardBg",pn(k.warning.light,.9)),pe(k.Alert,"errorIconColor",B("palette-error-main")),pe(k.Alert,"infoIconColor",B("palette-info-main")),pe(k.Alert,"successIconColor",B("palette-success-main")),pe(k.Alert,"warningIconColor",B("palette-warning-main")),pe(k.AppBar,"defaultBg",B("palette-grey-100")),pe(k.Avatar,"defaultBg",B("palette-grey-400")),pe(k.Button,"inheritContainedBg",B("palette-grey-300")),pe(k.Button,"inheritContainedHoverBg",B("palette-grey-A100")),pe(k.Chip,"defaultBorder",B("palette-grey-400")),pe(k.Chip,"defaultAvatarColor",B("palette-grey-700")),pe(k.Chip,"defaultIconColor",B("palette-grey-700")),pe(k.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),pe(k.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),pe(k.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),pe(k.LinearProgress,"primaryBg",pn(k.primary.main,.62)),pe(k.LinearProgress,"secondaryBg",pn(k.secondary.main,.62)),pe(k.LinearProgress,"errorBg",pn(k.error.main,.62)),pe(k.LinearProgress,"infoBg",pn(k.info.main,.62)),pe(k.LinearProgress,"successBg",pn(k.success.main,.62)),pe(k.LinearProgress,"warningBg",pn(k.warning.main,.62)),pe(k.Skeleton,"bg",`rgba(${B("palette-text-primaryChannel")} / 0.11)`),pe(k.Slider,"primaryTrack",pn(k.primary.main,.62)),pe(k.Slider,"secondaryTrack",pn(k.secondary.main,.62)),pe(k.Slider,"errorTrack",pn(k.error.main,.62)),pe(k.Slider,"infoTrack",pn(k.info.main,.62)),pe(k.Slider,"successTrack",pn(k.success.main,.62)),pe(k.Slider,"warningTrack",pn(k.warning.main,.62));const H=Kg(k.background.default,.8);pe(k.SnackbarContent,"bg",H),pe(k.SnackbarContent,"color",yo(()=>k.getContrastText(H))),pe(k.SpeedDialAction,"fabHoverBg",Kg(k.background.paper,.15)),pe(k.StepConnector,"border",B("palette-grey-400")),pe(k.StepContent,"border",B("palette-grey-400")),pe(k.Switch,"defaultColor",B("palette-common-white")),pe(k.Switch,"defaultDisabledColor",B("palette-grey-100")),pe(k.Switch,"primaryDisabledColor",pn(k.primary.main,.62)),pe(k.Switch,"secondaryDisabledColor",pn(k.secondary.main,.62)),pe(k.Switch,"errorDisabledColor",pn(k.error.main,.62)),pe(k.Switch,"infoDisabledColor",pn(k.info.main,.62)),pe(k.Switch,"successDisabledColor",pn(k.success.main,.62)),pe(k.Switch,"warningDisabledColor",pn(k.warning.main,.62)),pe(k.TableCell,"border",pn(Wg(k.divider,1),.88)),pe(k.Tooltip,"bg",Wg(k.grey[700],.92))}if(k.mode==="dark"){pe(k.Alert,"errorColor",pn(k.error.light,.6)),pe(k.Alert,"infoColor",pn(k.info.light,.6)),pe(k.Alert,"successColor",pn(k.success.light,.6)),pe(k.Alert,"warningColor",pn(k.warning.light,.6)),pe(k.Alert,"errorFilledBg",B("palette-error-dark")),pe(k.Alert,"infoFilledBg",B("palette-info-dark")),pe(k.Alert,"successFilledBg",B("palette-success-dark")),pe(k.Alert,"warningFilledBg",B("palette-warning-dark")),pe(k.Alert,"errorFilledColor",yo(()=>k.getContrastText(k.error.dark))),pe(k.Alert,"infoFilledColor",yo(()=>k.getContrastText(k.info.dark))),pe(k.Alert,"successFilledColor",yo(()=>k.getContrastText(k.success.dark))),pe(k.Alert,"warningFilledColor",yo(()=>k.getContrastText(k.warning.dark))),pe(k.Alert,"errorStandardBg",hn(k.error.light,.9)),pe(k.Alert,"infoStandardBg",hn(k.info.light,.9)),pe(k.Alert,"successStandardBg",hn(k.success.light,.9)),pe(k.Alert,"warningStandardBg",hn(k.warning.light,.9)),pe(k.Alert,"errorIconColor",B("palette-error-main")),pe(k.Alert,"infoIconColor",B("palette-info-main")),pe(k.Alert,"successIconColor",B("palette-success-main")),pe(k.Alert,"warningIconColor",B("palette-warning-main")),pe(k.AppBar,"defaultBg",B("palette-grey-900")),pe(k.AppBar,"darkBg",B("palette-background-paper")),pe(k.AppBar,"darkColor",B("palette-text-primary")),pe(k.Avatar,"defaultBg",B("palette-grey-600")),pe(k.Button,"inheritContainedBg",B("palette-grey-800")),pe(k.Button,"inheritContainedHoverBg",B("palette-grey-700")),pe(k.Chip,"defaultBorder",B("palette-grey-700")),pe(k.Chip,"defaultAvatarColor",B("palette-grey-300")),pe(k.Chip,"defaultIconColor",B("palette-grey-300")),pe(k.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),pe(k.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),pe(k.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),pe(k.LinearProgress,"primaryBg",hn(k.primary.main,.5)),pe(k.LinearProgress,"secondaryBg",hn(k.secondary.main,.5)),pe(k.LinearProgress,"errorBg",hn(k.error.main,.5)),pe(k.LinearProgress,"infoBg",hn(k.info.main,.5)),pe(k.LinearProgress,"successBg",hn(k.success.main,.5)),pe(k.LinearProgress,"warningBg",hn(k.warning.main,.5)),pe(k.Skeleton,"bg",`rgba(${B("palette-text-primaryChannel")} / 0.13)`),pe(k.Slider,"primaryTrack",hn(k.primary.main,.5)),pe(k.Slider,"secondaryTrack",hn(k.secondary.main,.5)),pe(k.Slider,"errorTrack",hn(k.error.main,.5)),pe(k.Slider,"infoTrack",hn(k.info.main,.5)),pe(k.Slider,"successTrack",hn(k.success.main,.5)),pe(k.Slider,"warningTrack",hn(k.warning.main,.5));const H=Kg(k.background.default,.98);pe(k.SnackbarContent,"bg",H),pe(k.SnackbarContent,"color",yo(()=>k.getContrastText(H))),pe(k.SpeedDialAction,"fabHoverBg",Kg(k.background.paper,.15)),pe(k.StepConnector,"border",B("palette-grey-600")),pe(k.StepContent,"border",B("palette-grey-600")),pe(k.Switch,"defaultColor",B("palette-grey-300")),pe(k.Switch,"defaultDisabledColor",B("palette-grey-600")),pe(k.Switch,"primaryDisabledColor",hn(k.primary.main,.55)),pe(k.Switch,"secondaryDisabledColor",hn(k.secondary.main,.55)),pe(k.Switch,"errorDisabledColor",hn(k.error.main,.55)),pe(k.Switch,"infoDisabledColor",hn(k.info.main,.55)),pe(k.Switch,"successDisabledColor",hn(k.success.main,.55)),pe(k.Switch,"warningDisabledColor",hn(k.warning.main,.55)),pe(k.TableCell,"border",hn(Wg(k.divider,1),.68)),pe(k.Tooltip,"bg",Wg(k.grey[700],.92))}Ko(k.background,"default"),Ko(k.background,"paper"),Ko(k.common,"background"),Ko(k.common,"onBackground"),Ko(k,"divider"),Object.keys(k).forEach(H=>{const F=k[H];F&&typeof F=="object"&&(F.main&&pe(k[H],"mainChannel",qf(Wf(F.main))),F.light&&pe(k[H],"lightChannel",qf(Wf(F.light))),F.dark&&pe(k[H],"darkChannel",qf(Wf(F.dark))),F.contrastText&&pe(k[H],"contrastTextChannel",qf(Wf(F.contrastText))),H==="text"&&(Ko(k[H],"primary"),Ko(k[H],"secondary")),H==="action"&&(F.active&&Ko(k[H],"active"),F.selected&&Ko(k[H],"selected")))})}),T=t.reduce((N,k)=>Ni(N,k),T);const w={prefix:s,disableCssColorScheme:i,shouldSkipGeneratingVar:o,getSelector:Bne(T)},{vars:R,generateThemeVars:j,generateStyleSheets:V}=dne(T,w);return T.vars=R,Object.entries(T.colorSchemes[T.defaultColorScheme]).forEach(([N,k])=>{T[N]=k}),T.generateThemeVars=j,T.generateStyleSheets=V,T.generateSpacing=function(){return oL(c.spacing,iw(this))},T.getColorSchemeSelector=fne(l),T.spacing=T.generateSpacing(),T.shouldSkipGeneratingVar=o,T.unstable_sxConfig={...tp,...c==null?void 0:c.unstable_sxConfig},T.unstable_sx=function(k){return Cc({sx:k,theme:this})},T.toRuntimeSource=bL,T}function YR(e,t,n){e.colorSchemes&&n&&(e.colorSchemes[t]={...n!==!0&&n,palette:hw({...n===!0?{}:n.palette,mode:t})})}function pw(e={},...t){const{palette:n,cssVariables:r=!1,colorSchemes:i=n?void 0:{light:!0},defaultColorScheme:s=n==null?void 0:n.mode,...o}=e,l=s||"light",d=i==null?void 0:i[l],c={...i,...n?{[l]:{...typeof d!="boolean"&&d,palette:n}}:void 0};if(r===!1){if(!("colorSchemes"in e))return sS(e,...t);let h=n;"palette"in e||c[l]&&(c[l]!==!0?h=c[l].palette:l==="dark"&&(h={mode:"dark"}));const f=sS({...e,palette:h},...t);return f.defaultColorScheme=l,f.colorSchemes=c,f.palette.mode==="light"&&(f.colorSchemes.light={...c.light!==!0&&c.light,palette:f.palette},YR(f,"dark",c.dark)),f.palette.mode==="dark"&&(f.colorSchemes.dark={...c.dark!==!0&&c.dark,palette:f.palette},YR(f,"light",c.light)),f}return!n&&!("light"in c)&&l==="light"&&(c.light=!0),zne({...o,colorSchemes:c,defaultColorScheme:l,...typeof r!="boolean"&&r},...t)}const gw=pw(),ca="$$material";function mw(){const e=lL(gw);return e[ca]||e}function Une(e){return p.jsx(Ote,{...e,defaultTheme:gw,themeId:ca})}function Hne(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const vw=e=>Hne(e)&&e!=="classes",Mn=Bte({themeId:ca,defaultTheme:gw,rootShouldForwardProp:vw});function bye(e){return function(n){return p.jsx(Une,{styles:typeof e=="function"?r=>e({theme:r,...n}):e})}}function Gne(){return vte}const Os=tne;function ci(e){return ene(e)}function qne(e){return ai("MuiSvgIcon",e)}li("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const Wne=e=>{const{color:t,fontSize:n,classes:r}=e,i={root:["root",t!=="inherit"&&`color${Bt(t)}`,`fontSize${Bt(n)}`]};return _i(i,qne,r)},Kne=Mn("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="inherit"&&t[`color${Bt(n.color)}`],t[`fontSize${Bt(n.fontSize)}`]]}})(Os(({theme:e})=>{var t,n,r,i,s,o,l,d,c,h,f,m,v,A;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(i=(t=e.transitions)==null?void 0:t.create)==null?void 0:i.call(t,"fill",{duration:(r=(n=(e.vars??e).transitions)==null?void 0:n.duration)==null?void 0:r.shorter}),variants:[{props:b=>!b.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((o=(s=e.typography)==null?void 0:s.pxToRem)==null?void 0:o.call(s,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((d=(l=e.typography)==null?void 0:l.pxToRem)==null?void 0:d.call(l,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((h=(c=e.typography)==null?void 0:c.pxToRem)==null?void 0:h.call(c,35))||"2.1875rem"}},...Object.entries((e.vars??e).palette).filter(([,b])=>b&&b.main).map(([b])=>{var x,E;return{props:{color:b},style:{color:(E=(x=(e.vars??e).palette)==null?void 0:x[b])==null?void 0:E.main}}}),{props:{color:"action"},style:{color:(m=(f=(e.vars??e).palette)==null?void 0:f.action)==null?void 0:m.active}},{props:{color:"disabled"},style:{color:(A=(v=(e.vars??e).palette)==null?void 0:v.action)==null?void 0:A.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),B0=S.forwardRef(function(t,n){const r=ci({props:t,name:"MuiSvgIcon"}),{children:i,className:s,color:o="inherit",component:l="svg",fontSize:d="medium",htmlColor:c,inheritViewBox:h=!1,titleAccess:f,viewBox:m="0 0 24 24",...v}=r,A=S.isValidElement(i)&&i.type==="svg",b={...r,color:o,component:l,fontSize:d,instanceFontSize:t.fontSize,inheritViewBox:h,viewBox:m,hasSvgAsChild:A},x={};h||(x.viewBox=m);const E=Wne(b);return p.jsxs(Kne,{as:l,className:rn(E.root,s),focusable:"false",color:c,"aria-hidden":f?void 0:!0,role:f?"img":void 0,ref:n,...x,...v,...A&&i.props,ownerState:b,children:[A?i.props.children:i,f?p.jsx("title",{children:f}):null]})});B0&&(B0.muiName="SvgIcon");function zt(e,t){function n(r,i){return p.jsx(B0,{"data-testid":`${t}Icon`,ref:i,...r,children:e})}return n.muiName=B0.muiName,S.memo(S.forwardRef(n))}const Yne=zt(p.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 17h-2v-2h2zm2.07-7.75-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25"}),"Help"),Qne=zt(p.jsx("path",{d:"M11 18h2v-2h-2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4"}),"HelpOutline"),D0=zt(p.jsx("path",{d:"M15 21h-2v-2h2zm-2-7h-2v5h2zm8-2h-2v4h2zm-2-2h-2v2h2zM7 12H5v2h2zm-2-2H3v2h2zm7-5h2V3h-2zm-7.5-.5v3h3v-3zM9 9H3V3h6zm-4.5 7.5v3h3v-3zM9 21H3v-6h6zm7.5-16.5v3h3v-3zM21 9h-6V3h6zm-2 10v-3h-4v2h2v3h4v-2zm-2-7h-4v2h4zm-4-2H7v2h2v2h2v-2h2zm1-1V7h-2V5h-2v4zM6.75 5.25h-1.5v1.5h1.5zm0 12h-1.5v1.5h1.5zm12-12h-1.5v1.5h1.5z"}),"QrCode2");function Jne(e){return typeof e.main=="string"}function Xne(e,t=[]){if(!Jne(e))return!1;for(const n of t)if(!e.hasOwnProperty(n)||typeof e[n]!="string")return!1;return!0}function Vh(e=[]){return([,t])=>t&&Xne(t,e)}class F0{constructor(){Af(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new F0}static use(){const t=ZV(F0.create).current,[n,r]=S.useState(!1);return t.shouldMount=n,t.setShouldMount=r,S.useEffect(t.mountEffect,[n]),t}mount(){return this.mounted||(this.mounted=ere(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...t){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.start(...t)})}stop(...t){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.stop(...t)})}pulsate(...t){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.pulsate(...t)})}}function Zne(){return F0.use()}function ere(){let e,t;const n=new Promise((r,i)=>{e=r,t=i});return n.resolve=e,n.reject=t,n}function xL(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}function aS(e,t){return aS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},aS(e,t)}function wL(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,aS(e,t)}var O1={exports:{}},Ii={},V1={exports:{}},L1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QR;function tre(){return QR||(QR=1,function(e){function t(q,Q){var M=q.length;q.push(Q);e:for(;0<M;){var z=M-1>>>1,J=q[z];if(0<i(J,Q))q[z]=Q,q[M]=J,M=z;else break e}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var Q=q[0],M=q.pop();if(M!==Q){q[0]=M;e:for(var z=0,J=q.length,ae=J>>>1;z<ae;){var W=2*(z+1)-1,ye=q[W],le=W+1,me=q[le];if(0>i(ye,M))le<J&&0>i(me,ye)?(q[z]=me,q[le]=M,z=le):(q[z]=ye,q[W]=M,z=W);else if(le<J&&0>i(me,M))q[z]=me,q[le]=M,z=le;else break e}}return Q}function i(q,Q){var M=q.sortIndex-Q.sortIndex;return M!==0?M:q.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var d=[],c=[],h=1,f=null,m=3,v=!1,A=!1,b=!1,x=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(q){for(var Q=n(c);Q!==null;){if(Q.callback===null)r(c);else if(Q.startTime<=q)r(c),Q.sortIndex=Q.expirationTime,t(d,Q);else break;Q=n(c)}}function T(q){if(b=!1,P(q),!A)if(n(d)!==null)A=!0,L(w);else{var Q=n(c);Q!==null&&Y(T,Q.startTime-q)}}function w(q,Q){A=!1,b&&(b=!1,E(V),V=-1),v=!0;var M=m;try{for(P(Q),f=n(d);f!==null&&(!(f.expirationTime>Q)||q&&!B());){var z=f.callback;if(typeof z=="function"){f.callback=null,m=f.priorityLevel;var J=z(f.expirationTime<=Q);Q=e.unstable_now(),typeof J=="function"?f.callback=J:f===n(d)&&r(d),P(Q)}else r(d);f=n(d)}if(f!==null)var ae=!0;else{var W=n(c);W!==null&&Y(T,W.startTime-Q),ae=!1}return ae}finally{f=null,m=M,v=!1}}var R=!1,j=null,V=-1,N=5,k=-1;function B(){return!(e.unstable_now()-k<N)}function H(){if(j!==null){var q=e.unstable_now();k=q;var Q=!0;try{Q=j(!0,q)}finally{Q?F():(R=!1,j=null)}}else R=!1}var F;if(typeof I=="function")F=function(){I(H)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,D=U.port2;U.port1.onmessage=H,F=function(){D.postMessage(null)}}else F=function(){x(H,0)};function L(q){j=q,R||(R=!0,F())}function Y(q,Q){V=x(function(){q(e.unstable_now())},Q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(q){q.callback=null},e.unstable_continueExecution=function(){A||v||(A=!0,L(w))},e.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<q?Math.floor(1e3/q):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(d)},e.unstable_next=function(q){switch(m){case 1:case 2:case 3:var Q=3;break;default:Q=m}var M=m;m=Q;try{return q()}finally{m=M}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(q,Q){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var M=m;m=q;try{return Q()}finally{m=M}},e.unstable_scheduleCallback=function(q,Q,M){var z=e.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?z+M:z):M=z,q){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=M+J,q={id:h++,callback:Q,priorityLevel:q,startTime:M,expirationTime:J,sortIndex:-1},M>z?(q.sortIndex=M,t(c,q),n(d)===null&&q===n(c)&&(b?(E(V),V=-1):b=!0,Y(T,M-z))):(q.sortIndex=J,t(d,q),A||v||(A=!0,L(w))),q},e.unstable_shouldYield=B,e.unstable_wrapCallback=function(q){var Q=m;return function(){var M=m;m=Q;try{return q.apply(this,arguments)}finally{m=M}}}}(L1)),L1}var JR;function nre(){return JR||(JR=1,V1.exports=tre()),V1.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XR;function rre(){if(XR)return Ii;XR=1;var e=Rc(),t=nre();function n(a){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+a,g=1;g<arguments.length;g++)u+="&args[]="+encodeURIComponent(arguments[g]);return"Minified React error #"+a+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(a,u){o(a,u),o(a+"Capture",u)}function o(a,u){for(i[a]=u,a=0;a<u.length;a++)r.add(u[a])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,c=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},f={};function m(a){return d.call(f,a)?!0:d.call(h,a)?!1:c.test(a)?f[a]=!0:(h[a]=!0,!1)}function v(a,u,g,y){if(g!==null&&g.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return y?!1:g!==null?!g.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function A(a,u,g,y){if(u===null||typeof u>"u"||v(a,u,g,y))return!0;if(y)return!1;if(g!==null)switch(g.type){case 3:return!u;case 4:return u===!1;case 5:return isNaN(u);case 6:return isNaN(u)||1>u}return!1}function b(a,u,g,y,_,C,O){this.acceptsBooleans=u===2||u===3||u===4,this.attributeName=y,this.attributeNamespace=_,this.mustUseProperty=g,this.propertyName=a,this.type=u,this.sanitizeURL=C,this.removeEmptyString=O}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){x[a]=new b(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var u=a[0];x[u]=new b(u,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){x[a]=new b(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){x[a]=new b(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){x[a]=new b(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){x[a]=new b(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){x[a]=new b(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){x[a]=new b(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){x[a]=new b(a,5,!1,a.toLowerCase(),null,!1,!1)});var E=/[\-:]([a-z])/g;function I(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var u=a.replace(E,I);x[u]=new b(u,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var u=a.replace(E,I);x[u]=new b(u,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var u=a.replace(E,I);x[u]=new b(u,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){x[a]=new b(a,1,!1,a.toLowerCase(),null,!1,!1)}),x.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){x[a]=new b(a,1,!1,a.toLowerCase(),null,!0,!0)});function P(a,u,g,y){var _=x.hasOwnProperty(u)?x[u]:null;(_!==null?_.type!==0:y||!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(A(u,g,_,y)&&(g=null),y||_===null?m(u)&&(g===null?a.removeAttribute(u):a.setAttribute(u,""+g)):_.mustUseProperty?a[_.propertyName]=g===null?_.type===3?!1:"":g:(u=_.attributeName,y=_.attributeNamespace,g===null?a.removeAttribute(u):(_=_.type,g=_===3||_===4&&g===!0?"":""+g,y?a.setAttributeNS(y,u,g):a.setAttribute(u,g))))}var T=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),R=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),B=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),Y=Symbol.for("react.offscreen"),q=Symbol.iterator;function Q(a){return a===null||typeof a!="object"?null:(a=q&&a[q]||a["@@iterator"],typeof a=="function"?a:null)}var M=Object.assign,z;function J(a){if(z===void 0)try{throw Error()}catch(g){var u=g.stack.trim().match(/\n( *(at )?)/);z=u&&u[1]||""}return`
`+z+a}var ae=!1;function W(a,u){if(!a||ae)return"";ae=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(he){var y=he}Reflect.construct(a,[],u)}else{try{u.call()}catch(he){y=he}a.call(u.prototype)}else{try{throw Error()}catch(he){y=he}a()}}catch(he){if(he&&y&&typeof he.stack=="string"){for(var _=he.stack.split(`
`),C=y.stack.split(`
`),O=_.length-1,X=C.length-1;1<=O&&0<=X&&_[O]!==C[X];)X--;for(;1<=O&&0<=X;O--,X--)if(_[O]!==C[X]){if(O!==1||X!==1)do if(O--,X--,0>X||_[O]!==C[X]){var ee=`
`+_[O].replace(" at new "," at ");return a.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",a.displayName)),ee}while(1<=O&&0<=X);break}}}finally{ae=!1,Error.prepareStackTrace=g}return(a=a?a.displayName||a.name:"")?J(a):""}function ye(a){switch(a.tag){case 5:return J(a.type);case 16:return J("Lazy");case 13:return J("Suspense");case 19:return J("SuspenseList");case 0:case 2:case 15:return a=W(a.type,!1),a;case 11:return a=W(a.type.render,!1),a;case 1:return a=W(a.type,!0),a;default:return""}}function le(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case j:return"Fragment";case R:return"Portal";case N:return"Profiler";case V:return"StrictMode";case F:return"Suspense";case U:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case B:return(a.displayName||"Context")+".Consumer";case k:return(a._context.displayName||"Context")+".Provider";case H:var u=a.render;return a=a.displayName,a||(a=u.displayName||u.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case D:return u=a.displayName||null,u!==null?u:le(a.type)||"Memo";case L:u=a._payload,a=a._init;try{return le(a(u))}catch{}}return null}function me(a){var u=a.type;switch(a.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=u.render,a=a.displayName||a.name||"",u.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return le(u);case 8:return u===V?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function xe(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Re(a){var u=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function be(a){var u=Re(a)?"checked":"value",g=Object.getOwnPropertyDescriptor(a.constructor.prototype,u),y=""+a[u];if(!a.hasOwnProperty(u)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var _=g.get,C=g.set;return Object.defineProperty(a,u,{configurable:!0,get:function(){return _.call(this)},set:function(O){y=""+O,C.call(this,O)}}),Object.defineProperty(a,u,{enumerable:g.enumerable}),{getValue:function(){return y},setValue:function(O){y=""+O},stopTracking:function(){a._valueTracker=null,delete a[u]}}}}function Oe(a){a._valueTracker||(a._valueTracker=be(a))}function Ze(a){if(!a)return!1;var u=a._valueTracker;if(!u)return!0;var g=u.getValue(),y="";return a&&(y=Re(a)?a.checked?"true":"false":a.value),a=y,a!==g?(u.setValue(a),!0):!1}function Ue(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function Le(a,u){var g=u.checked;return M({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:g??a._wrapperState.initialChecked})}function je(a,u){var g=u.defaultValue==null?"":u.defaultValue,y=u.checked!=null?u.checked:u.defaultChecked;g=xe(u.value!=null?u.value:g),a._wrapperState={initialChecked:y,initialValue:g,controlled:u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null}}function mt(a,u){u=u.checked,u!=null&&P(a,"checked",u,!1)}function vt(a,u){mt(a,u);var g=xe(u.value),y=u.type;if(g!=null)y==="number"?(g===0&&a.value===""||a.value!=g)&&(a.value=""+g):a.value!==""+g&&(a.value=""+g);else if(y==="submit"||y==="reset"){a.removeAttribute("value");return}u.hasOwnProperty("value")?ht(a,u.type,g):u.hasOwnProperty("defaultValue")&&ht(a,u.type,xe(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(a.defaultChecked=!!u.defaultChecked)}function De(a,u,g){if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var y=u.type;if(!(y!=="submit"&&y!=="reset"||u.value!==void 0&&u.value!==null))return;u=""+a._wrapperState.initialValue,g||u===a.value||(a.value=u),a.defaultValue=u}g=a.name,g!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,g!==""&&(a.name=g)}function ht(a,u,g){(u!=="number"||Ue(a.ownerDocument)!==a)&&(g==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+g&&(a.defaultValue=""+g))}var Ut=Array.isArray;function Wt(a,u,g,y){if(a=a.options,u){u={};for(var _=0;_<g.length;_++)u["$"+g[_]]=!0;for(g=0;g<a.length;g++)_=u.hasOwnProperty("$"+a[g].value),a[g].selected!==_&&(a[g].selected=_),_&&y&&(a[g].defaultSelected=!0)}else{for(g=""+xe(g),u=null,_=0;_<a.length;_++){if(a[_].value===g){a[_].selected=!0,y&&(a[_].defaultSelected=!0);return}u!==null||a[_].disabled||(u=a[_])}u!==null&&(u.selected=!0)}}function Ht(a,u){if(u.dangerouslySetInnerHTML!=null)throw Error(n(91));return M({},u,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function Ge(a,u){var g=u.value;if(g==null){if(g=u.children,u=u.defaultValue,g!=null){if(u!=null)throw Error(n(92));if(Ut(g)){if(1<g.length)throw Error(n(93));g=g[0]}u=g}u==null&&(u=""),g=u}a._wrapperState={initialValue:xe(g)}}function jt(a,u){var g=xe(u.value),y=xe(u.defaultValue);g!=null&&(g=""+g,g!==a.value&&(a.value=g),u.defaultValue==null&&a.defaultValue!==g&&(a.defaultValue=g)),y!=null&&(a.defaultValue=""+y)}function Xt(a){var u=a.textContent;u===a._wrapperState.initialValue&&u!==""&&u!==null&&(a.value=u)}function Zt(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function bt(a,u){return a==null||a==="http://www.w3.org/1999/xhtml"?Zt(u):a==="http://www.w3.org/2000/svg"&&u==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var dt,nt=function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,g,y,_){MSApp.execUnsafeLocalFunction(function(){return a(u,g,y,_)})}:a}(function(a,u){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=u;else{for(dt=dt||document.createElement("div"),dt.innerHTML="<svg>"+u.valueOf().toString()+"</svg>",u=dt.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;u.firstChild;)a.appendChild(u.firstChild)}});function _t(a,u){if(u){var g=a.firstChild;if(g&&g===a.lastChild&&g.nodeType===3){g.nodeValue=u;return}}a.textContent=u}var cn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Lt=["Webkit","ms","Moz","O"];Object.keys(cn).forEach(function(a){Lt.forEach(function(u){u=u+a.charAt(0).toUpperCase()+a.substring(1),cn[u]=cn[a]})});function Pt(a,u,g){return u==null||typeof u=="boolean"||u===""?"":g||typeof u!="number"||u===0||cn.hasOwnProperty(a)&&cn[a]?(""+u).trim():u+"px"}function vn(a,u){a=a.style;for(var g in u)if(u.hasOwnProperty(g)){var y=g.indexOf("--")===0,_=Pt(g,u[g],y);g==="float"&&(g="cssFloat"),y?a.setProperty(g,_):a[g]=_}}var jn=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function un(a,u){if(u){if(jn[a]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw Error(n(137,a));if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw Error(n(60));if(typeof u.dangerouslySetInnerHTML!="object"||!("__html"in u.dangerouslySetInnerHTML))throw Error(n(61))}if(u.style!=null&&typeof u.style!="object")throw Error(n(62))}}function Dt(a,u){if(a.indexOf("-")===-1)return typeof u.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zn=null;function fr(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var En=null,br=null,hr=null;function Kt(a){if(a=rf(a)){if(typeof En!="function")throw Error(n(280));var u=a.stateNode;u&&(u=Ip(u),En(a.stateNode,a.type,u))}}function On(a){br?hr?hr.push(a):hr=[a]:br=a}function rt(){if(br){var a=br,u=hr;if(hr=br=null,Kt(a),u)for(a=0;a<u.length;a++)Kt(u[a])}}function Et(a,u){return a(u)}function nr(){}var Nr=!1;function Fe(a,u,g){if(Nr)return a(u,g);Nr=!0;try{return Et(a,u,g)}finally{Nr=!1,(br!==null||hr!==null)&&(nr(),rt())}}function st(a,u){var g=a.stateNode;if(g===null)return null;var y=Ip(g);if(y===null)return null;g=y[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(a=a.type,y=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!y;break e;default:a=!1}if(a)return null;if(g&&typeof g!="function")throw Error(n(231,u,typeof g));return g}var pt=!1;if(l)try{var yn={};Object.defineProperty(yn,"passive",{get:function(){pt=!0}}),window.addEventListener("test",yn,yn),window.removeEventListener("test",yn,yn)}catch{pt=!1}function pr(a,u,g,y,_,C,O,X,ee){var he=Array.prototype.slice.call(arguments,3);try{u.apply(g,he)}catch(Se){this.onError(Se)}}var _r=!1,Br=null,Kn=!1,kr=null,dn={onError:function(a){_r=!0,Br=a}};function Oo(a,u,g,y,_,C,O,X,ee){_r=!1,Br=null,pr.apply(dn,arguments)}function Bd(a,u,g,y,_,C,O,X,ee){if(Oo.apply(this,arguments),_r){if(_r){var he=Br;_r=!1,Br=null}else throw Error(n(198));Kn||(Kn=!0,kr=he)}}function as(a){var u=a,g=a;if(a.alternate)for(;u.return;)u=u.return;else{a=u;do u=a,u.flags&4098&&(g=u.return),a=u.return;while(a)}return u.tag===3?g:null}function Sl(a){if(a.tag===13){var u=a.memoizedState;if(u===null&&(a=a.alternate,a!==null&&(u=a.memoizedState)),u!==null)return u.dehydrated}return null}function xl(a){if(as(a)!==a)throw Error(n(188))}function zc(a){var u=a.alternate;if(!u){if(u=as(a),u===null)throw Error(n(188));return u!==a?null:a}for(var g=a,y=u;;){var _=g.return;if(_===null)break;var C=_.alternate;if(C===null){if(y=_.return,y!==null){g=y;continue}break}if(_.child===C.child){for(C=_.child;C;){if(C===g)return xl(_),a;if(C===y)return xl(_),u;C=C.sibling}throw Error(n(188))}if(g.return!==y.return)g=_,y=C;else{for(var O=!1,X=_.child;X;){if(X===g){O=!0,g=_,y=C;break}if(X===y){O=!0,y=_,g=C;break}X=X.sibling}if(!O){for(X=C.child;X;){if(X===g){O=!0,g=C,y=_;break}if(X===y){O=!0,y=C,g=_;break}X=X.sibling}if(!O)throw Error(n(189))}}if(g.alternate!==y)throw Error(n(190))}if(g.tag!==3)throw Error(n(188));return g.stateNode.current===g?a:u}function en(a){return a=zc(a),a!==null?Si(a):null}function Si(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var u=Si(a);if(u!==null)return u;a=a.sibling}return null}var ba=t.unstable_scheduleCallback,co=t.unstable_cancelCallback,Dd=t.unstable_shouldYield,_a=t.unstable_requestPaint,fn=t.unstable_now,up=t.unstable_getCurrentPriorityLevel,uo=t.unstable_ImmediatePriority,dp=t.unstable_UserBlockingPriority,Vo=t.unstable_NormalPriority,Fd=t.unstable_LowPriority,fp=t.unstable_IdlePriority,Uc=null,xi=null;function ly(a){if(xi&&typeof xi.onCommitFiberRoot=="function")try{xi.onCommitFiberRoot(Uc,a,void 0,(a.current.flags&128)===128)}catch{}}var zi=Math.clz32?Math.clz32:K,$=Math.log,Z=Math.LN2;function K(a){return a>>>=0,a===0?32:31-($(a)/Z|0)|0}var re=64,se=4194304;function te(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function ve(a,u){var g=a.pendingLanes;if(g===0)return 0;var y=0,_=a.suspendedLanes,C=a.pingedLanes,O=g&268435455;if(O!==0){var X=O&~_;X!==0?y=te(X):(C&=O,C!==0&&(y=te(C)))}else O=g&~_,O!==0?y=te(O):C!==0&&(y=te(C));if(y===0)return 0;if(u!==0&&u!==y&&!(u&_)&&(_=y&-y,C=u&-u,_>=C||_===16&&(C&4194240)!==0))return u;if(y&4&&(y|=g&16),u=a.entangledLanes,u!==0)for(a=a.entanglements,u&=y;0<u;)g=31-zi(u),_=1<<g,y|=a[g],u&=~_;return y}function we(a,u){switch(a){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Te(a,u){for(var g=a.suspendedLanes,y=a.pingedLanes,_=a.expirationTimes,C=a.pendingLanes;0<C;){var O=31-zi(C),X=1<<O,ee=_[O];ee===-1?(!(X&g)||X&y)&&(_[O]=we(X,u)):ee<=u&&(a.expiredLanes|=X),C&=~X}}function Ce(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function Me(){var a=re;return re<<=1,!(re&4194240)&&(re=64),a}function We(a){for(var u=[],g=0;31>g;g++)u.push(a);return u}function St(a,u,g){a.pendingLanes|=u,u!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,u=31-zi(u),a[u]=g}function Yt(a,u){var g=a.pendingLanes&~u;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=u,a.mutableReadLanes&=u,a.entangledLanes&=u,u=a.entanglements;var y=a.eventTimes;for(a=a.expirationTimes;0<g;){var _=31-zi(g),C=1<<_;u[_]=0,y[_]=-1,a[_]=-1,g&=~C}}function Gt(a,u){var g=a.entangledLanes|=u;for(a=a.entanglements;g;){var y=31-zi(g),_=1<<y;_&u|a[y]&u&&(a[y]|=u),g&=~_}}var ft=0;function Vn(a){return a&=-a,1<a?4<a?a&268435455?16:536870912:4:1}var ui,Lo,Hc,hp,Gc,pp=!1,qc=[],fo=null,Bs=null,Sa=null,$d=new Map,zd=new Map,xa=[],UN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function nE(a,u){switch(a){case"focusin":case"focusout":fo=null;break;case"dragenter":case"dragleave":Bs=null;break;case"mouseover":case"mouseout":Sa=null;break;case"pointerover":case"pointerout":$d.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":zd.delete(u.pointerId)}}function Ud(a,u,g,y,_,C){return a===null||a.nativeEvent!==C?(a={blockedOn:u,domEventName:g,eventSystemFlags:y,nativeEvent:C,targetContainers:[_]},u!==null&&(u=rf(u),u!==null&&Lo(u)),a):(a.eventSystemFlags|=y,u=a.targetContainers,_!==null&&u.indexOf(_)===-1&&u.push(_),a)}function HN(a,u,g,y,_){switch(u){case"focusin":return fo=Ud(fo,a,u,g,y,_),!0;case"dragenter":return Bs=Ud(Bs,a,u,g,y,_),!0;case"mouseover":return Sa=Ud(Sa,a,u,g,y,_),!0;case"pointerover":var C=_.pointerId;return $d.set(C,Ud($d.get(C)||null,a,u,g,y,_)),!0;case"gotpointercapture":return C=_.pointerId,zd.set(C,Ud(zd.get(C)||null,a,u,g,y,_)),!0}return!1}function rE(a){var u=wl(a.target);if(u!==null){var g=as(u);if(g!==null){if(u=g.tag,u===13){if(u=Sl(g),u!==null){a.blockedOn=u,Gc(a.priority,function(){Hc(g)});return}}else if(u===3&&g.stateNode.current.memoizedState.isDehydrated){a.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}a.blockedOn=null}function gp(a){if(a.blockedOn!==null)return!1;for(var u=a.targetContainers;0<u.length;){var g=uy(a.domEventName,a.eventSystemFlags,u[0],a.nativeEvent);if(g===null){g=a.nativeEvent;var y=new g.constructor(g.type,g);zn=y,g.target.dispatchEvent(y),zn=null}else return u=rf(g),u!==null&&Lo(u),a.blockedOn=g,!1;u.shift()}return!0}function iE(a,u,g){gp(a)&&g.delete(u)}function GN(){pp=!1,fo!==null&&gp(fo)&&(fo=null),Bs!==null&&gp(Bs)&&(Bs=null),Sa!==null&&gp(Sa)&&(Sa=null),$d.forEach(iE),zd.forEach(iE)}function Hd(a,u){a.blockedOn===u&&(a.blockedOn=null,pp||(pp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,GN)))}function Gd(a){function u(_){return Hd(_,a)}if(0<qc.length){Hd(qc[0],a);for(var g=1;g<qc.length;g++){var y=qc[g];y.blockedOn===a&&(y.blockedOn=null)}}for(fo!==null&&Hd(fo,a),Bs!==null&&Hd(Bs,a),Sa!==null&&Hd(Sa,a),$d.forEach(u),zd.forEach(u),g=0;g<xa.length;g++)y=xa[g],y.blockedOn===a&&(y.blockedOn=null);for(;0<xa.length&&(g=xa[0],g.blockedOn===null);)rE(g),g.blockedOn===null&&xa.shift()}var Wc=T.ReactCurrentBatchConfig,mp=!0;function qN(a,u,g,y){var _=ft,C=Wc.transition;Wc.transition=null;try{ft=1,cy(a,u,g,y)}finally{ft=_,Wc.transition=C}}function WN(a,u,g,y){var _=ft,C=Wc.transition;Wc.transition=null;try{ft=4,cy(a,u,g,y)}finally{ft=_,Wc.transition=C}}function cy(a,u,g,y){if(mp){var _=uy(a,u,g,y);if(_===null)ky(a,u,y,vp,g),nE(a,y);else if(HN(_,a,u,g,y))y.stopPropagation();else if(nE(a,y),u&4&&-1<UN.indexOf(a)){for(;_!==null;){var C=rf(_);if(C!==null&&ui(C),C=uy(a,u,g,y),C===null&&ky(a,u,y,vp,g),C===_)break;_=C}_!==null&&y.stopPropagation()}else ky(a,u,y,null,g)}}var vp=null;function uy(a,u,g,y){if(vp=null,a=fr(y),a=wl(a),a!==null)if(u=as(a),u===null)a=null;else if(g=u.tag,g===13){if(a=Sl(u),a!==null)return a;a=null}else if(g===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;a=null}else u!==a&&(a=null);return vp=a,null}function sE(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(up()){case uo:return 1;case dp:return 4;case Vo:case Fd:return 16;case fp:return 536870912;default:return 16}default:return 16}}var wa=null,dy=null,yp=null;function oE(){if(yp)return yp;var a,u=dy,g=u.length,y,_="value"in wa?wa.value:wa.textContent,C=_.length;for(a=0;a<g&&u[a]===_[a];a++);var O=g-a;for(y=1;y<=O&&u[g-y]===_[C-y];y++);return yp=_.slice(a,1<y?1-y:void 0)}function Ap(a){var u=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&u===13&&(a=13)):a=u,a===10&&(a=13),32<=a||a===13?a:0}function bp(){return!0}function aE(){return!1}function Ui(a){function u(g,y,_,C,O){this._reactName=g,this._targetInst=_,this.type=y,this.nativeEvent=C,this.target=O,this.currentTarget=null;for(var X in a)a.hasOwnProperty(X)&&(g=a[X],this[X]=g?g(C):C[X]);return this.isDefaultPrevented=(C.defaultPrevented!=null?C.defaultPrevented:C.returnValue===!1)?bp:aE,this.isPropagationStopped=aE,this}return M(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=bp)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=bp)},persist:function(){},isPersistent:bp}),u}var Kc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fy=Ui(Kc),qd=M({},Kc,{view:0,detail:0}),KN=Ui(qd),hy,py,Wd,_p=M({},qd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:my,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Wd&&(Wd&&a.type==="mousemove"?(hy=a.screenX-Wd.screenX,py=a.screenY-Wd.screenY):py=hy=0,Wd=a),hy)},movementY:function(a){return"movementY"in a?a.movementY:py}}),lE=Ui(_p),YN=M({},_p,{dataTransfer:0}),QN=Ui(YN),JN=M({},qd,{relatedTarget:0}),gy=Ui(JN),XN=M({},Kc,{animationName:0,elapsedTime:0,pseudoElement:0}),ZN=Ui(XN),eB=M({},Kc,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),tB=Ui(eB),nB=M({},Kc,{data:0}),cE=Ui(nB),rB={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},iB={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sB={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oB(a){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(a):(a=sB[a])?!!u[a]:!1}function my(){return oB}var aB=M({},qd,{key:function(a){if(a.key){var u=rB[a.key]||a.key;if(u!=="Unidentified")return u}return a.type==="keypress"?(a=Ap(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?iB[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:my,charCode:function(a){return a.type==="keypress"?Ap(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Ap(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),lB=Ui(aB),cB=M({},_p,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),uE=Ui(cB),uB=M({},qd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:my}),dB=Ui(uB),fB=M({},Kc,{propertyName:0,elapsedTime:0,pseudoElement:0}),hB=Ui(fB),pB=M({},_p,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),gB=Ui(pB),mB=[9,13,27,32],vy=l&&"CompositionEvent"in window,Kd=null;l&&"documentMode"in document&&(Kd=document.documentMode);var vB=l&&"TextEvent"in window&&!Kd,dE=l&&(!vy||Kd&&8<Kd&&11>=Kd),fE=" ",hE=!1;function pE(a,u){switch(a){case"keyup":return mB.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gE(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Yc=!1;function yB(a,u){switch(a){case"compositionend":return gE(u);case"keypress":return u.which!==32?null:(hE=!0,fE);case"textInput":return a=u.data,a===fE&&hE?null:a;default:return null}}function AB(a,u){if(Yc)return a==="compositionend"||!vy&&pE(a,u)?(a=oE(),yp=dy=wa=null,Yc=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return dE&&u.locale!=="ko"?null:u.data;default:return null}}var bB={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mE(a){var u=a&&a.nodeName&&a.nodeName.toLowerCase();return u==="input"?!!bB[a.type]:u==="textarea"}function vE(a,u,g,y){On(y),u=Cp(u,"onChange"),0<u.length&&(g=new fy("onChange","change",null,g,y),a.push({event:g,listeners:u}))}var Yd=null,Qd=null;function _B(a){VE(a,0)}function Sp(a){var u=eu(a);if(Ze(u))return a}function SB(a,u){if(a==="change")return u}var yE=!1;if(l){var yy;if(l){var Ay="oninput"in document;if(!Ay){var AE=document.createElement("div");AE.setAttribute("oninput","return;"),Ay=typeof AE.oninput=="function"}yy=Ay}else yy=!1;yE=yy&&(!document.documentMode||9<document.documentMode)}function bE(){Yd&&(Yd.detachEvent("onpropertychange",_E),Qd=Yd=null)}function _E(a){if(a.propertyName==="value"&&Sp(Qd)){var u=[];vE(u,Qd,a,fr(a)),Fe(_B,u)}}function xB(a,u,g){a==="focusin"?(bE(),Yd=u,Qd=g,Yd.attachEvent("onpropertychange",_E)):a==="focusout"&&bE()}function wB(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Sp(Qd)}function EB(a,u){if(a==="click")return Sp(u)}function CB(a,u){if(a==="input"||a==="change")return Sp(u)}function kB(a,u){return a===u&&(a!==0||1/a===1/u)||a!==a&&u!==u}var Ds=typeof Object.is=="function"?Object.is:kB;function Jd(a,u){if(Ds(a,u))return!0;if(typeof a!="object"||a===null||typeof u!="object"||u===null)return!1;var g=Object.keys(a),y=Object.keys(u);if(g.length!==y.length)return!1;for(y=0;y<g.length;y++){var _=g[y];if(!d.call(u,_)||!Ds(a[_],u[_]))return!1}return!0}function SE(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function xE(a,u){var g=SE(a);a=0;for(var y;g;){if(g.nodeType===3){if(y=a+g.textContent.length,a<=u&&y>=u)return{node:g,offset:u-a};a=y}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=SE(g)}}function wE(a,u){return a&&u?a===u?!0:a&&a.nodeType===3?!1:u&&u.nodeType===3?wE(a,u.parentNode):"contains"in a?a.contains(u):a.compareDocumentPosition?!!(a.compareDocumentPosition(u)&16):!1:!1}function EE(){for(var a=window,u=Ue();u instanceof a.HTMLIFrameElement;){try{var g=typeof u.contentWindow.location.href=="string"}catch{g=!1}if(g)a=u.contentWindow;else break;u=Ue(a.document)}return u}function by(a){var u=a&&a.nodeName&&a.nodeName.toLowerCase();return u&&(u==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||u==="textarea"||a.contentEditable==="true")}function TB(a){var u=EE(),g=a.focusedElem,y=a.selectionRange;if(u!==g&&g&&g.ownerDocument&&wE(g.ownerDocument.documentElement,g)){if(y!==null&&by(g)){if(u=y.start,a=y.end,a===void 0&&(a=u),"selectionStart"in g)g.selectionStart=u,g.selectionEnd=Math.min(a,g.value.length);else if(a=(u=g.ownerDocument||document)&&u.defaultView||window,a.getSelection){a=a.getSelection();var _=g.textContent.length,C=Math.min(y.start,_);y=y.end===void 0?C:Math.min(y.end,_),!a.extend&&C>y&&(_=y,y=C,C=_),_=xE(g,C);var O=xE(g,y);_&&O&&(a.rangeCount!==1||a.anchorNode!==_.node||a.anchorOffset!==_.offset||a.focusNode!==O.node||a.focusOffset!==O.offset)&&(u=u.createRange(),u.setStart(_.node,_.offset),a.removeAllRanges(),C>y?(a.addRange(u),a.extend(O.node,O.offset)):(u.setEnd(O.node,O.offset),a.addRange(u)))}}for(u=[],a=g;a=a.parentNode;)a.nodeType===1&&u.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof g.focus=="function"&&g.focus(),g=0;g<u.length;g++)a=u[g],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var IB=l&&"documentMode"in document&&11>=document.documentMode,Qc=null,_y=null,Xd=null,Sy=!1;function CE(a,u,g){var y=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;Sy||Qc==null||Qc!==Ue(y)||(y=Qc,"selectionStart"in y&&by(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),Xd&&Jd(Xd,y)||(Xd=y,y=Cp(_y,"onSelect"),0<y.length&&(u=new fy("onSelect","select",null,u,g),a.push({event:u,listeners:y}),u.target=Qc)))}function xp(a,u){var g={};return g[a.toLowerCase()]=u.toLowerCase(),g["Webkit"+a]="webkit"+u,g["Moz"+a]="moz"+u,g}var Jc={animationend:xp("Animation","AnimationEnd"),animationiteration:xp("Animation","AnimationIteration"),animationstart:xp("Animation","AnimationStart"),transitionend:xp("Transition","TransitionEnd")},xy={},kE={};l&&(kE=document.createElement("div").style,"AnimationEvent"in window||(delete Jc.animationend.animation,delete Jc.animationiteration.animation,delete Jc.animationstart.animation),"TransitionEvent"in window||delete Jc.transitionend.transition);function wp(a){if(xy[a])return xy[a];if(!Jc[a])return a;var u=Jc[a],g;for(g in u)if(u.hasOwnProperty(g)&&g in kE)return xy[a]=u[g];return a}var TE=wp("animationend"),IE=wp("animationiteration"),RE=wp("animationstart"),PE=wp("transitionend"),ME=new Map,jE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ea(a,u){ME.set(a,u),s(u,[a])}for(var wy=0;wy<jE.length;wy++){var Ey=jE[wy],RB=Ey.toLowerCase(),PB=Ey[0].toUpperCase()+Ey.slice(1);Ea(RB,"on"+PB)}Ea(TE,"onAnimationEnd"),Ea(IE,"onAnimationIteration"),Ea(RE,"onAnimationStart"),Ea("dblclick","onDoubleClick"),Ea("focusin","onFocus"),Ea("focusout","onBlur"),Ea(PE,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),MB=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zd));function OE(a,u,g){var y=a.type||"unknown-event";a.currentTarget=g,Bd(y,u,void 0,a),a.currentTarget=null}function VE(a,u){u=(u&4)!==0;for(var g=0;g<a.length;g++){var y=a[g],_=y.event;y=y.listeners;e:{var C=void 0;if(u)for(var O=y.length-1;0<=O;O--){var X=y[O],ee=X.instance,he=X.currentTarget;if(X=X.listener,ee!==C&&_.isPropagationStopped())break e;OE(_,X,he),C=ee}else for(O=0;O<y.length;O++){if(X=y[O],ee=X.instance,he=X.currentTarget,X=X.listener,ee!==C&&_.isPropagationStopped())break e;OE(_,X,he),C=ee}}}if(Kn)throw a=kr,Kn=!1,kr=null,a}function Cn(a,u){var g=u[jy];g===void 0&&(g=u[jy]=new Set);var y=a+"__bubble";g.has(y)||(LE(u,a,2,!1),g.add(y))}function Cy(a,u,g){var y=0;u&&(y|=4),LE(g,a,y,u)}var Ep="_reactListening"+Math.random().toString(36).slice(2);function ef(a){if(!a[Ep]){a[Ep]=!0,r.forEach(function(g){g!=="selectionchange"&&(MB.has(g)||Cy(g,!1,a),Cy(g,!0,a))});var u=a.nodeType===9?a:a.ownerDocument;u===null||u[Ep]||(u[Ep]=!0,Cy("selectionchange",!1,u))}}function LE(a,u,g,y){switch(sE(u)){case 1:var _=qN;break;case 4:_=WN;break;default:_=cy}g=_.bind(null,u,g,a),_=void 0,!pt||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(_=!0),y?_!==void 0?a.addEventListener(u,g,{capture:!0,passive:_}):a.addEventListener(u,g,!0):_!==void 0?a.addEventListener(u,g,{passive:_}):a.addEventListener(u,g,!1)}function ky(a,u,g,y,_){var C=y;if(!(u&1)&&!(u&2)&&y!==null)e:for(;;){if(y===null)return;var O=y.tag;if(O===3||O===4){var X=y.stateNode.containerInfo;if(X===_||X.nodeType===8&&X.parentNode===_)break;if(O===4)for(O=y.return;O!==null;){var ee=O.tag;if((ee===3||ee===4)&&(ee=O.stateNode.containerInfo,ee===_||ee.nodeType===8&&ee.parentNode===_))return;O=O.return}for(;X!==null;){if(O=wl(X),O===null)return;if(ee=O.tag,ee===5||ee===6){y=C=O;continue e}X=X.parentNode}}y=y.return}Fe(function(){var he=C,Se=fr(g),Ee=[];e:{var _e=ME.get(a);if(_e!==void 0){var ze=fy,Ke=a;switch(a){case"keypress":if(Ap(g)===0)break e;case"keydown":case"keyup":ze=lB;break;case"focusin":Ke="focus",ze=gy;break;case"focusout":Ke="blur",ze=gy;break;case"beforeblur":case"afterblur":ze=gy;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ze=lE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ze=QN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ze=dB;break;case TE:case IE:case RE:ze=ZN;break;case PE:ze=hB;break;case"scroll":ze=KN;break;case"wheel":ze=gB;break;case"copy":case"cut":case"paste":ze=tB;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ze=uE}var Qe=(u&4)!==0,rr=!Qe&&a==="scroll",ce=Qe?_e!==null?_e+"Capture":null:_e;Qe=[];for(var ne=he,de;ne!==null;){de=ne;var Pe=de.stateNode;if(de.tag===5&&Pe!==null&&(de=Pe,ce!==null&&(Pe=st(ne,ce),Pe!=null&&Qe.push(tf(ne,Pe,de)))),rr)break;ne=ne.return}0<Qe.length&&(_e=new ze(_e,Ke,null,g,Se),Ee.push({event:_e,listeners:Qe}))}}if(!(u&7)){e:{if(_e=a==="mouseover"||a==="pointerover",ze=a==="mouseout"||a==="pointerout",_e&&g!==zn&&(Ke=g.relatedTarget||g.fromElement)&&(wl(Ke)||Ke[No]))break e;if((ze||_e)&&(_e=Se.window===Se?Se:(_e=Se.ownerDocument)?_e.defaultView||_e.parentWindow:window,ze?(Ke=g.relatedTarget||g.toElement,ze=he,Ke=Ke?wl(Ke):null,Ke!==null&&(rr=as(Ke),Ke!==rr||Ke.tag!==5&&Ke.tag!==6)&&(Ke=null)):(ze=null,Ke=he),ze!==Ke)){if(Qe=lE,Pe="onMouseLeave",ce="onMouseEnter",ne="mouse",(a==="pointerout"||a==="pointerover")&&(Qe=uE,Pe="onPointerLeave",ce="onPointerEnter",ne="pointer"),rr=ze==null?_e:eu(ze),de=Ke==null?_e:eu(Ke),_e=new Qe(Pe,ne+"leave",ze,g,Se),_e.target=rr,_e.relatedTarget=de,Pe=null,wl(Se)===he&&(Qe=new Qe(ce,ne+"enter",Ke,g,Se),Qe.target=de,Qe.relatedTarget=rr,Pe=Qe),rr=Pe,ze&&Ke)t:{for(Qe=ze,ce=Ke,ne=0,de=Qe;de;de=Xc(de))ne++;for(de=0,Pe=ce;Pe;Pe=Xc(Pe))de++;for(;0<ne-de;)Qe=Xc(Qe),ne--;for(;0<de-ne;)ce=Xc(ce),de--;for(;ne--;){if(Qe===ce||ce!==null&&Qe===ce.alternate)break t;Qe=Xc(Qe),ce=Xc(ce)}Qe=null}else Qe=null;ze!==null&&NE(Ee,_e,ze,Qe,!1),Ke!==null&&rr!==null&&NE(Ee,rr,Ke,Qe,!0)}}e:{if(_e=he?eu(he):window,ze=_e.nodeName&&_e.nodeName.toLowerCase(),ze==="select"||ze==="input"&&_e.type==="file")var et=SB;else if(mE(_e))if(yE)et=CB;else{et=wB;var at=xB}else(ze=_e.nodeName)&&ze.toLowerCase()==="input"&&(_e.type==="checkbox"||_e.type==="radio")&&(et=EB);if(et&&(et=et(a,he))){vE(Ee,et,g,Se);break e}at&&at(a,_e,he),a==="focusout"&&(at=_e._wrapperState)&&at.controlled&&_e.type==="number"&&ht(_e,"number",_e.value)}switch(at=he?eu(he):window,a){case"focusin":(mE(at)||at.contentEditable==="true")&&(Qc=at,_y=he,Xd=null);break;case"focusout":Xd=_y=Qc=null;break;case"mousedown":Sy=!0;break;case"contextmenu":case"mouseup":case"dragend":Sy=!1,CE(Ee,g,Se);break;case"selectionchange":if(IB)break;case"keydown":case"keyup":CE(Ee,g,Se)}var lt;if(vy)e:{switch(a){case"compositionstart":var yt="onCompositionStart";break e;case"compositionend":yt="onCompositionEnd";break e;case"compositionupdate":yt="onCompositionUpdate";break e}yt=void 0}else Yc?pE(a,g)&&(yt="onCompositionEnd"):a==="keydown"&&g.keyCode===229&&(yt="onCompositionStart");yt&&(dE&&g.locale!=="ko"&&(Yc||yt!=="onCompositionStart"?yt==="onCompositionEnd"&&Yc&&(lt=oE()):(wa=Se,dy="value"in wa?wa.value:wa.textContent,Yc=!0)),at=Cp(he,yt),0<at.length&&(yt=new cE(yt,a,null,g,Se),Ee.push({event:yt,listeners:at}),lt?yt.data=lt:(lt=gE(g),lt!==null&&(yt.data=lt)))),(lt=vB?yB(a,g):AB(a,g))&&(he=Cp(he,"onBeforeInput"),0<he.length&&(Se=new cE("onBeforeInput","beforeinput",null,g,Se),Ee.push({event:Se,listeners:he}),Se.data=lt))}VE(Ee,u)})}function tf(a,u,g){return{instance:a,listener:u,currentTarget:g}}function Cp(a,u){for(var g=u+"Capture",y=[];a!==null;){var _=a,C=_.stateNode;_.tag===5&&C!==null&&(_=C,C=st(a,g),C!=null&&y.unshift(tf(a,C,_)),C=st(a,u),C!=null&&y.push(tf(a,C,_))),a=a.return}return y}function Xc(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function NE(a,u,g,y,_){for(var C=u._reactName,O=[];g!==null&&g!==y;){var X=g,ee=X.alternate,he=X.stateNode;if(ee!==null&&ee===y)break;X.tag===5&&he!==null&&(X=he,_?(ee=st(g,C),ee!=null&&O.unshift(tf(g,ee,X))):_||(ee=st(g,C),ee!=null&&O.push(tf(g,ee,X)))),g=g.return}O.length!==0&&a.push({event:u,listeners:O})}var jB=/\r\n?/g,OB=/\u0000|\uFFFD/g;function BE(a){return(typeof a=="string"?a:""+a).replace(jB,`
`).replace(OB,"")}function kp(a,u,g){if(u=BE(u),BE(a)!==u&&g)throw Error(n(425))}function Tp(){}var Ty=null,Iy=null;function Ry(a,u){return a==="textarea"||a==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var Py=typeof setTimeout=="function"?setTimeout:void 0,VB=typeof clearTimeout=="function"?clearTimeout:void 0,DE=typeof Promise=="function"?Promise:void 0,LB=typeof queueMicrotask=="function"?queueMicrotask:typeof DE<"u"?function(a){return DE.resolve(null).then(a).catch(NB)}:Py;function NB(a){setTimeout(function(){throw a})}function My(a,u){var g=u,y=0;do{var _=g.nextSibling;if(a.removeChild(g),_&&_.nodeType===8)if(g=_.data,g==="/$"){if(y===0){a.removeChild(_),Gd(u);return}y--}else g!=="$"&&g!=="$?"&&g!=="$!"||y++;g=_}while(g);Gd(u)}function Ca(a){for(;a!=null;a=a.nextSibling){var u=a.nodeType;if(u===1||u===3)break;if(u===8){if(u=a.data,u==="$"||u==="$!"||u==="$?")break;if(u==="/$")return null}}return a}function FE(a){a=a.previousSibling;for(var u=0;a;){if(a.nodeType===8){var g=a.data;if(g==="$"||g==="$!"||g==="$?"){if(u===0)return a;u--}else g==="/$"&&u++}a=a.previousSibling}return null}var Zc=Math.random().toString(36).slice(2),ho="__reactFiber$"+Zc,nf="__reactProps$"+Zc,No="__reactContainer$"+Zc,jy="__reactEvents$"+Zc,BB="__reactListeners$"+Zc,DB="__reactHandles$"+Zc;function wl(a){var u=a[ho];if(u)return u;for(var g=a.parentNode;g;){if(u=g[No]||g[ho]){if(g=u.alternate,u.child!==null||g!==null&&g.child!==null)for(a=FE(a);a!==null;){if(g=a[ho])return g;a=FE(a)}return u}a=g,g=a.parentNode}return null}function rf(a){return a=a[ho]||a[No],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function eu(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(n(33))}function Ip(a){return a[nf]||null}var Oy=[],tu=-1;function ka(a){return{current:a}}function kn(a){0>tu||(a.current=Oy[tu],Oy[tu]=null,tu--)}function An(a,u){tu++,Oy[tu]=a.current,a.current=u}var Ta={},Jr=ka(Ta),wi=ka(!1),El=Ta;function nu(a,u){var g=a.type.contextTypes;if(!g)return Ta;var y=a.stateNode;if(y&&y.__reactInternalMemoizedUnmaskedChildContext===u)return y.__reactInternalMemoizedMaskedChildContext;var _={},C;for(C in g)_[C]=u[C];return y&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=u,a.__reactInternalMemoizedMaskedChildContext=_),_}function Ei(a){return a=a.childContextTypes,a!=null}function Rp(){kn(wi),kn(Jr)}function $E(a,u,g){if(Jr.current!==Ta)throw Error(n(168));An(Jr,u),An(wi,g)}function zE(a,u,g){var y=a.stateNode;if(u=u.childContextTypes,typeof y.getChildContext!="function")return g;y=y.getChildContext();for(var _ in y)if(!(_ in u))throw Error(n(108,me(a)||"Unknown",_));return M({},g,y)}function Pp(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Ta,El=Jr.current,An(Jr,a),An(wi,wi.current),!0}function UE(a,u,g){var y=a.stateNode;if(!y)throw Error(n(169));g?(a=zE(a,u,El),y.__reactInternalMemoizedMergedChildContext=a,kn(wi),kn(Jr),An(Jr,a)):kn(wi),An(wi,g)}var Bo=null,Mp=!1,Vy=!1;function HE(a){Bo===null?Bo=[a]:Bo.push(a)}function FB(a){Mp=!0,HE(a)}function Ia(){if(!Vy&&Bo!==null){Vy=!0;var a=0,u=ft;try{var g=Bo;for(ft=1;a<g.length;a++){var y=g[a];do y=y(!0);while(y!==null)}Bo=null,Mp=!1}catch(_){throw Bo!==null&&(Bo=Bo.slice(a+1)),ba(uo,Ia),_}finally{ft=u,Vy=!1}}return null}var ru=[],iu=0,jp=null,Op=0,ls=[],cs=0,Cl=null,Do=1,Fo="";function kl(a,u){ru[iu++]=Op,ru[iu++]=jp,jp=a,Op=u}function GE(a,u,g){ls[cs++]=Do,ls[cs++]=Fo,ls[cs++]=Cl,Cl=a;var y=Do;a=Fo;var _=32-zi(y)-1;y&=~(1<<_),g+=1;var C=32-zi(u)+_;if(30<C){var O=_-_%5;C=(y&(1<<O)-1).toString(32),y>>=O,_-=O,Do=1<<32-zi(u)+_|g<<_|y,Fo=C+a}else Do=1<<C|g<<_|y,Fo=a}function Ly(a){a.return!==null&&(kl(a,1),GE(a,1,0))}function Ny(a){for(;a===jp;)jp=ru[--iu],ru[iu]=null,Op=ru[--iu],ru[iu]=null;for(;a===Cl;)Cl=ls[--cs],ls[cs]=null,Fo=ls[--cs],ls[cs]=null,Do=ls[--cs],ls[cs]=null}var Hi=null,Gi=null,Ln=!1,Fs=null;function qE(a,u){var g=hs(5,null,null,0);g.elementType="DELETED",g.stateNode=u,g.return=a,u=a.deletions,u===null?(a.deletions=[g],a.flags|=16):u.push(g)}function WE(a,u){switch(a.tag){case 5:var g=a.type;return u=u.nodeType!==1||g.toLowerCase()!==u.nodeName.toLowerCase()?null:u,u!==null?(a.stateNode=u,Hi=a,Gi=Ca(u.firstChild),!0):!1;case 6:return u=a.pendingProps===""||u.nodeType!==3?null:u,u!==null?(a.stateNode=u,Hi=a,Gi=null,!0):!1;case 13:return u=u.nodeType!==8?null:u,u!==null?(g=Cl!==null?{id:Do,overflow:Fo}:null,a.memoizedState={dehydrated:u,treeContext:g,retryLane:1073741824},g=hs(18,null,null,0),g.stateNode=u,g.return=a,a.child=g,Hi=a,Gi=null,!0):!1;default:return!1}}function By(a){return(a.mode&1)!==0&&(a.flags&128)===0}function Dy(a){if(Ln){var u=Gi;if(u){var g=u;if(!WE(a,u)){if(By(a))throw Error(n(418));u=Ca(g.nextSibling);var y=Hi;u&&WE(a,u)?qE(y,g):(a.flags=a.flags&-4097|2,Ln=!1,Hi=a)}}else{if(By(a))throw Error(n(418));a.flags=a.flags&-4097|2,Ln=!1,Hi=a}}}function KE(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;Hi=a}function Vp(a){if(a!==Hi)return!1;if(!Ln)return KE(a),Ln=!0,!1;var u;if((u=a.tag!==3)&&!(u=a.tag!==5)&&(u=a.type,u=u!=="head"&&u!=="body"&&!Ry(a.type,a.memoizedProps)),u&&(u=Gi)){if(By(a))throw YE(),Error(n(418));for(;u;)qE(a,u),u=Ca(u.nextSibling)}if(KE(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));e:{for(a=a.nextSibling,u=0;a;){if(a.nodeType===8){var g=a.data;if(g==="/$"){if(u===0){Gi=Ca(a.nextSibling);break e}u--}else g!=="$"&&g!=="$!"&&g!=="$?"||u++}a=a.nextSibling}Gi=null}}else Gi=Hi?Ca(a.stateNode.nextSibling):null;return!0}function YE(){for(var a=Gi;a;)a=Ca(a.nextSibling)}function su(){Gi=Hi=null,Ln=!1}function Fy(a){Fs===null?Fs=[a]:Fs.push(a)}var $B=T.ReactCurrentBatchConfig;function $s(a,u){if(a&&a.defaultProps){u=M({},u),a=a.defaultProps;for(var g in a)u[g]===void 0&&(u[g]=a[g]);return u}return u}var Lp=ka(null),Np=null,ou=null,$y=null;function zy(){$y=ou=Np=null}function Uy(a){var u=Lp.current;kn(Lp),a._currentValue=u}function Hy(a,u,g){for(;a!==null;){var y=a.alternate;if((a.childLanes&u)!==u?(a.childLanes|=u,y!==null&&(y.childLanes|=u)):y!==null&&(y.childLanes&u)!==u&&(y.childLanes|=u),a===g)break;a=a.return}}function au(a,u){Np=a,$y=ou=null,a=a.dependencies,a!==null&&a.firstContext!==null&&(a.lanes&u&&(Ci=!0),a.firstContext=null)}function us(a){var u=a._currentValue;if($y!==a)if(a={context:a,memoizedValue:u,next:null},ou===null){if(Np===null)throw Error(n(308));ou=a,Np.dependencies={lanes:0,firstContext:a}}else ou=ou.next=a;return u}var Tl=null;function Gy(a){Tl===null?Tl=[a]:Tl.push(a)}function QE(a,u,g,y){var _=u.interleaved;return _===null?(g.next=g,Gy(u)):(g.next=_.next,_.next=g),u.interleaved=g,$o(a,y)}function $o(a,u){a.lanes|=u;var g=a.alternate;for(g!==null&&(g.lanes|=u),g=a,a=a.return;a!==null;)a.childLanes|=u,g=a.alternate,g!==null&&(g.childLanes|=u),g=a,a=a.return;return g.tag===3?g.stateNode:null}var Ra=!1;function qy(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function JE(a,u){a=a.updateQueue,u.updateQueue===a&&(u.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function zo(a,u){return{eventTime:a,lane:u,tag:0,payload:null,callback:null,next:null}}function Pa(a,u,g){var y=a.updateQueue;if(y===null)return null;if(y=y.shared,qt&2){var _=y.pending;return _===null?u.next=u:(u.next=_.next,_.next=u),y.pending=u,$o(a,g)}return _=y.interleaved,_===null?(u.next=u,Gy(y)):(u.next=_.next,_.next=u),y.interleaved=u,$o(a,g)}function Bp(a,u,g){if(u=u.updateQueue,u!==null&&(u=u.shared,(g&4194240)!==0)){var y=u.lanes;y&=a.pendingLanes,g|=y,u.lanes=g,Gt(a,g)}}function XE(a,u){var g=a.updateQueue,y=a.alternate;if(y!==null&&(y=y.updateQueue,g===y)){var _=null,C=null;if(g=g.firstBaseUpdate,g!==null){do{var O={eventTime:g.eventTime,lane:g.lane,tag:g.tag,payload:g.payload,callback:g.callback,next:null};C===null?_=C=O:C=C.next=O,g=g.next}while(g!==null);C===null?_=C=u:C=C.next=u}else _=C=u;g={baseState:y.baseState,firstBaseUpdate:_,lastBaseUpdate:C,shared:y.shared,effects:y.effects},a.updateQueue=g;return}a=g.lastBaseUpdate,a===null?g.firstBaseUpdate=u:a.next=u,g.lastBaseUpdate=u}function Dp(a,u,g,y){var _=a.updateQueue;Ra=!1;var C=_.firstBaseUpdate,O=_.lastBaseUpdate,X=_.shared.pending;if(X!==null){_.shared.pending=null;var ee=X,he=ee.next;ee.next=null,O===null?C=he:O.next=he,O=ee;var Se=a.alternate;Se!==null&&(Se=Se.updateQueue,X=Se.lastBaseUpdate,X!==O&&(X===null?Se.firstBaseUpdate=he:X.next=he,Se.lastBaseUpdate=ee))}if(C!==null){var Ee=_.baseState;O=0,Se=he=ee=null,X=C;do{var _e=X.lane,ze=X.eventTime;if((y&_e)===_e){Se!==null&&(Se=Se.next={eventTime:ze,lane:0,tag:X.tag,payload:X.payload,callback:X.callback,next:null});e:{var Ke=a,Qe=X;switch(_e=u,ze=g,Qe.tag){case 1:if(Ke=Qe.payload,typeof Ke=="function"){Ee=Ke.call(ze,Ee,_e);break e}Ee=Ke;break e;case 3:Ke.flags=Ke.flags&-65537|128;case 0:if(Ke=Qe.payload,_e=typeof Ke=="function"?Ke.call(ze,Ee,_e):Ke,_e==null)break e;Ee=M({},Ee,_e);break e;case 2:Ra=!0}}X.callback!==null&&X.lane!==0&&(a.flags|=64,_e=_.effects,_e===null?_.effects=[X]:_e.push(X))}else ze={eventTime:ze,lane:_e,tag:X.tag,payload:X.payload,callback:X.callback,next:null},Se===null?(he=Se=ze,ee=Ee):Se=Se.next=ze,O|=_e;if(X=X.next,X===null){if(X=_.shared.pending,X===null)break;_e=X,X=_e.next,_e.next=null,_.lastBaseUpdate=_e,_.shared.pending=null}}while(!0);if(Se===null&&(ee=Ee),_.baseState=ee,_.firstBaseUpdate=he,_.lastBaseUpdate=Se,u=_.shared.interleaved,u!==null){_=u;do O|=_.lane,_=_.next;while(_!==u)}else C===null&&(_.shared.lanes=0);Pl|=O,a.lanes=O,a.memoizedState=Ee}}function ZE(a,u,g){if(a=u.effects,u.effects=null,a!==null)for(u=0;u<a.length;u++){var y=a[u],_=y.callback;if(_!==null){if(y.callback=null,y=g,typeof _!="function")throw Error(n(191,_));_.call(y)}}}var eC=new e.Component().refs;function Wy(a,u,g,y){u=a.memoizedState,g=g(y,u),g=g==null?u:M({},u,g),a.memoizedState=g,a.lanes===0&&(a.updateQueue.baseState=g)}var Fp={isMounted:function(a){return(a=a._reactInternals)?as(a)===a:!1},enqueueSetState:function(a,u,g){a=a._reactInternals;var y=fi(),_=Va(a),C=zo(y,_);C.payload=u,g!=null&&(C.callback=g),u=Pa(a,C,_),u!==null&&(Hs(u,a,_,y),Bp(u,a,_))},enqueueReplaceState:function(a,u,g){a=a._reactInternals;var y=fi(),_=Va(a),C=zo(y,_);C.tag=1,C.payload=u,g!=null&&(C.callback=g),u=Pa(a,C,_),u!==null&&(Hs(u,a,_,y),Bp(u,a,_))},enqueueForceUpdate:function(a,u){a=a._reactInternals;var g=fi(),y=Va(a),_=zo(g,y);_.tag=2,u!=null&&(_.callback=u),u=Pa(a,_,y),u!==null&&(Hs(u,a,y,g),Bp(u,a,y))}};function tC(a,u,g,y,_,C,O){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(y,C,O):u.prototype&&u.prototype.isPureReactComponent?!Jd(g,y)||!Jd(_,C):!0}function nC(a,u,g){var y=!1,_=Ta,C=u.contextType;return typeof C=="object"&&C!==null?C=us(C):(_=Ei(u)?El:Jr.current,y=u.contextTypes,C=(y=y!=null)?nu(a,_):Ta),u=new u(g,C),a.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Fp,a.stateNode=u,u._reactInternals=a,y&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=_,a.__reactInternalMemoizedMaskedChildContext=C),u}function rC(a,u,g,y){a=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(g,y),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(g,y),u.state!==a&&Fp.enqueueReplaceState(u,u.state,null)}function Ky(a,u,g,y){var _=a.stateNode;_.props=g,_.state=a.memoizedState,_.refs=eC,qy(a);var C=u.contextType;typeof C=="object"&&C!==null?_.context=us(C):(C=Ei(u)?El:Jr.current,_.context=nu(a,C)),_.state=a.memoizedState,C=u.getDerivedStateFromProps,typeof C=="function"&&(Wy(a,u,C,g),_.state=a.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(u=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),u!==_.state&&Fp.enqueueReplaceState(_,_.state,null),Dp(a,g,_,y),_.state=a.memoizedState),typeof _.componentDidMount=="function"&&(a.flags|=4194308)}function sf(a,u,g){if(a=g.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(g._owner){if(g=g._owner,g){if(g.tag!==1)throw Error(n(309));var y=g.stateNode}if(!y)throw Error(n(147,a));var _=y,C=""+a;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===C?u.ref:(u=function(O){var X=_.refs;X===eC&&(X=_.refs={}),O===null?delete X[C]:X[C]=O},u._stringRef=C,u)}if(typeof a!="string")throw Error(n(284));if(!g._owner)throw Error(n(290,a))}return a}function $p(a,u){throw a=Object.prototype.toString.call(u),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":a))}function iC(a){var u=a._init;return u(a._payload)}function sC(a){function u(ce,ne){if(a){var de=ce.deletions;de===null?(ce.deletions=[ne],ce.flags|=16):de.push(ne)}}function g(ce,ne){if(!a)return null;for(;ne!==null;)u(ce,ne),ne=ne.sibling;return null}function y(ce,ne){for(ce=new Map;ne!==null;)ne.key!==null?ce.set(ne.key,ne):ce.set(ne.index,ne),ne=ne.sibling;return ce}function _(ce,ne){return ce=Na(ce,ne),ce.index=0,ce.sibling=null,ce}function C(ce,ne,de){return ce.index=de,a?(de=ce.alternate,de!==null?(de=de.index,de<ne?(ce.flags|=2,ne):de):(ce.flags|=2,ne)):(ce.flags|=1048576,ne)}function O(ce){return a&&ce.alternate===null&&(ce.flags|=2),ce}function X(ce,ne,de,Pe){return ne===null||ne.tag!==6?(ne=PA(de,ce.mode,Pe),ne.return=ce,ne):(ne=_(ne,de),ne.return=ce,ne)}function ee(ce,ne,de,Pe){var et=de.type;return et===j?Se(ce,ne,de.props.children,Pe,de.key):ne!==null&&(ne.elementType===et||typeof et=="object"&&et!==null&&et.$$typeof===L&&iC(et)===ne.type)?(Pe=_(ne,de.props),Pe.ref=sf(ce,ne,de),Pe.return=ce,Pe):(Pe=og(de.type,de.key,de.props,null,ce.mode,Pe),Pe.ref=sf(ce,ne,de),Pe.return=ce,Pe)}function he(ce,ne,de,Pe){return ne===null||ne.tag!==4||ne.stateNode.containerInfo!==de.containerInfo||ne.stateNode.implementation!==de.implementation?(ne=MA(de,ce.mode,Pe),ne.return=ce,ne):(ne=_(ne,de.children||[]),ne.return=ce,ne)}function Se(ce,ne,de,Pe,et){return ne===null||ne.tag!==7?(ne=Vl(de,ce.mode,Pe,et),ne.return=ce,ne):(ne=_(ne,de),ne.return=ce,ne)}function Ee(ce,ne,de){if(typeof ne=="string"&&ne!==""||typeof ne=="number")return ne=PA(""+ne,ce.mode,de),ne.return=ce,ne;if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case w:return de=og(ne.type,ne.key,ne.props,null,ce.mode,de),de.ref=sf(ce,null,ne),de.return=ce,de;case R:return ne=MA(ne,ce.mode,de),ne.return=ce,ne;case L:var Pe=ne._init;return Ee(ce,Pe(ne._payload),de)}if(Ut(ne)||Q(ne))return ne=Vl(ne,ce.mode,de,null),ne.return=ce,ne;$p(ce,ne)}return null}function _e(ce,ne,de,Pe){var et=ne!==null?ne.key:null;if(typeof de=="string"&&de!==""||typeof de=="number")return et!==null?null:X(ce,ne,""+de,Pe);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case w:return de.key===et?ee(ce,ne,de,Pe):null;case R:return de.key===et?he(ce,ne,de,Pe):null;case L:return et=de._init,_e(ce,ne,et(de._payload),Pe)}if(Ut(de)||Q(de))return et!==null?null:Se(ce,ne,de,Pe,null);$p(ce,de)}return null}function ze(ce,ne,de,Pe,et){if(typeof Pe=="string"&&Pe!==""||typeof Pe=="number")return ce=ce.get(de)||null,X(ne,ce,""+Pe,et);if(typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case w:return ce=ce.get(Pe.key===null?de:Pe.key)||null,ee(ne,ce,Pe,et);case R:return ce=ce.get(Pe.key===null?de:Pe.key)||null,he(ne,ce,Pe,et);case L:var at=Pe._init;return ze(ce,ne,de,at(Pe._payload),et)}if(Ut(Pe)||Q(Pe))return ce=ce.get(de)||null,Se(ne,ce,Pe,et,null);$p(ne,Pe)}return null}function Ke(ce,ne,de,Pe){for(var et=null,at=null,lt=ne,yt=ne=0,Rr=null;lt!==null&&yt<de.length;yt++){lt.index>yt?(Rr=lt,lt=null):Rr=lt.sibling;var Qt=_e(ce,lt,de[yt],Pe);if(Qt===null){lt===null&&(lt=Rr);break}a&&lt&&Qt.alternate===null&&u(ce,lt),ne=C(Qt,ne,yt),at===null?et=Qt:at.sibling=Qt,at=Qt,lt=Rr}if(yt===de.length)return g(ce,lt),Ln&&kl(ce,yt),et;if(lt===null){for(;yt<de.length;yt++)lt=Ee(ce,de[yt],Pe),lt!==null&&(ne=C(lt,ne,yt),at===null?et=lt:at.sibling=lt,at=lt);return Ln&&kl(ce,yt),et}for(lt=y(ce,lt);yt<de.length;yt++)Rr=ze(lt,ce,yt,de[yt],Pe),Rr!==null&&(a&&Rr.alternate!==null&&lt.delete(Rr.key===null?yt:Rr.key),ne=C(Rr,ne,yt),at===null?et=Rr:at.sibling=Rr,at=Rr);return a&&lt.forEach(function(Ba){return u(ce,Ba)}),Ln&&kl(ce,yt),et}function Qe(ce,ne,de,Pe){var et=Q(de);if(typeof et!="function")throw Error(n(150));if(de=et.call(de),de==null)throw Error(n(151));for(var at=et=null,lt=ne,yt=ne=0,Rr=null,Qt=de.next();lt!==null&&!Qt.done;yt++,Qt=de.next()){lt.index>yt?(Rr=lt,lt=null):Rr=lt.sibling;var Ba=_e(ce,lt,Qt.value,Pe);if(Ba===null){lt===null&&(lt=Rr);break}a&&lt&&Ba.alternate===null&&u(ce,lt),ne=C(Ba,ne,yt),at===null?et=Ba:at.sibling=Ba,at=Ba,lt=Rr}if(Qt.done)return g(ce,lt),Ln&&kl(ce,yt),et;if(lt===null){for(;!Qt.done;yt++,Qt=de.next())Qt=Ee(ce,Qt.value,Pe),Qt!==null&&(ne=C(Qt,ne,yt),at===null?et=Qt:at.sibling=Qt,at=Qt);return Ln&&kl(ce,yt),et}for(lt=y(ce,lt);!Qt.done;yt++,Qt=de.next())Qt=ze(lt,ce,yt,Qt.value,Pe),Qt!==null&&(a&&Qt.alternate!==null&&lt.delete(Qt.key===null?yt:Qt.key),ne=C(Qt,ne,yt),at===null?et=Qt:at.sibling=Qt,at=Qt);return a&&lt.forEach(function(bD){return u(ce,bD)}),Ln&&kl(ce,yt),et}function rr(ce,ne,de,Pe){if(typeof de=="object"&&de!==null&&de.type===j&&de.key===null&&(de=de.props.children),typeof de=="object"&&de!==null){switch(de.$$typeof){case w:e:{for(var et=de.key,at=ne;at!==null;){if(at.key===et){if(et=de.type,et===j){if(at.tag===7){g(ce,at.sibling),ne=_(at,de.props.children),ne.return=ce,ce=ne;break e}}else if(at.elementType===et||typeof et=="object"&&et!==null&&et.$$typeof===L&&iC(et)===at.type){g(ce,at.sibling),ne=_(at,de.props),ne.ref=sf(ce,at,de),ne.return=ce,ce=ne;break e}g(ce,at);break}else u(ce,at);at=at.sibling}de.type===j?(ne=Vl(de.props.children,ce.mode,Pe,de.key),ne.return=ce,ce=ne):(Pe=og(de.type,de.key,de.props,null,ce.mode,Pe),Pe.ref=sf(ce,ne,de),Pe.return=ce,ce=Pe)}return O(ce);case R:e:{for(at=de.key;ne!==null;){if(ne.key===at)if(ne.tag===4&&ne.stateNode.containerInfo===de.containerInfo&&ne.stateNode.implementation===de.implementation){g(ce,ne.sibling),ne=_(ne,de.children||[]),ne.return=ce,ce=ne;break e}else{g(ce,ne);break}else u(ce,ne);ne=ne.sibling}ne=MA(de,ce.mode,Pe),ne.return=ce,ce=ne}return O(ce);case L:return at=de._init,rr(ce,ne,at(de._payload),Pe)}if(Ut(de))return Ke(ce,ne,de,Pe);if(Q(de))return Qe(ce,ne,de,Pe);$p(ce,de)}return typeof de=="string"&&de!==""||typeof de=="number"?(de=""+de,ne!==null&&ne.tag===6?(g(ce,ne.sibling),ne=_(ne,de),ne.return=ce,ce=ne):(g(ce,ne),ne=PA(de,ce.mode,Pe),ne.return=ce,ce=ne),O(ce)):g(ce,ne)}return rr}var lu=sC(!0),oC=sC(!1),of={},po=ka(of),af=ka(of),lf=ka(of);function Il(a){if(a===of)throw Error(n(174));return a}function Yy(a,u){switch(An(lf,u),An(af,a),An(po,of),a=u.nodeType,a){case 9:case 11:u=(u=u.documentElement)?u.namespaceURI:bt(null,"");break;default:a=a===8?u.parentNode:u,u=a.namespaceURI||null,a=a.tagName,u=bt(u,a)}kn(po),An(po,u)}function cu(){kn(po),kn(af),kn(lf)}function aC(a){Il(lf.current);var u=Il(po.current),g=bt(u,a.type);u!==g&&(An(af,a),An(po,g))}function Qy(a){af.current===a&&(kn(po),kn(af))}var Un=ka(0);function zp(a){for(var u=a;u!==null;){if(u.tag===13){var g=u.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||g.data==="$?"||g.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if(u.flags&128)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var Jy=[];function Xy(){for(var a=0;a<Jy.length;a++)Jy[a]._workInProgressVersionPrimary=null;Jy.length=0}var Up=T.ReactCurrentDispatcher,Zy=T.ReactCurrentBatchConfig,Rl=0,Hn=null,Sr=null,Tr=null,Hp=!1,cf=!1,uf=0,zB=0;function Xr(){throw Error(n(321))}function eA(a,u){if(u===null)return!1;for(var g=0;g<u.length&&g<a.length;g++)if(!Ds(a[g],u[g]))return!1;return!0}function tA(a,u,g,y,_,C){if(Rl=C,Hn=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,Up.current=a===null||a.memoizedState===null?qB:WB,a=g(y,_),cf){C=0;do{if(cf=!1,uf=0,25<=C)throw Error(n(301));C+=1,Tr=Sr=null,u.updateQueue=null,Up.current=KB,a=g(y,_)}while(cf)}if(Up.current=Wp,u=Sr!==null&&Sr.next!==null,Rl=0,Tr=Sr=Hn=null,Hp=!1,u)throw Error(n(300));return a}function nA(){var a=uf!==0;return uf=0,a}function go(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tr===null?Hn.memoizedState=Tr=a:Tr=Tr.next=a,Tr}function ds(){if(Sr===null){var a=Hn.alternate;a=a!==null?a.memoizedState:null}else a=Sr.next;var u=Tr===null?Hn.memoizedState:Tr.next;if(u!==null)Tr=u,Sr=a;else{if(a===null)throw Error(n(310));Sr=a,a={memoizedState:Sr.memoizedState,baseState:Sr.baseState,baseQueue:Sr.baseQueue,queue:Sr.queue,next:null},Tr===null?Hn.memoizedState=Tr=a:Tr=Tr.next=a}return Tr}function df(a,u){return typeof u=="function"?u(a):u}function rA(a){var u=ds(),g=u.queue;if(g===null)throw Error(n(311));g.lastRenderedReducer=a;var y=Sr,_=y.baseQueue,C=g.pending;if(C!==null){if(_!==null){var O=_.next;_.next=C.next,C.next=O}y.baseQueue=_=C,g.pending=null}if(_!==null){C=_.next,y=y.baseState;var X=O=null,ee=null,he=C;do{var Se=he.lane;if((Rl&Se)===Se)ee!==null&&(ee=ee.next={lane:0,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null}),y=he.hasEagerState?he.eagerState:a(y,he.action);else{var Ee={lane:Se,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null};ee===null?(X=ee=Ee,O=y):ee=ee.next=Ee,Hn.lanes|=Se,Pl|=Se}he=he.next}while(he!==null&&he!==C);ee===null?O=y:ee.next=X,Ds(y,u.memoizedState)||(Ci=!0),u.memoizedState=y,u.baseState=O,u.baseQueue=ee,g.lastRenderedState=y}if(a=g.interleaved,a!==null){_=a;do C=_.lane,Hn.lanes|=C,Pl|=C,_=_.next;while(_!==a)}else _===null&&(g.lanes=0);return[u.memoizedState,g.dispatch]}function iA(a){var u=ds(),g=u.queue;if(g===null)throw Error(n(311));g.lastRenderedReducer=a;var y=g.dispatch,_=g.pending,C=u.memoizedState;if(_!==null){g.pending=null;var O=_=_.next;do C=a(C,O.action),O=O.next;while(O!==_);Ds(C,u.memoizedState)||(Ci=!0),u.memoizedState=C,u.baseQueue===null&&(u.baseState=C),g.lastRenderedState=C}return[C,y]}function lC(){}function cC(a,u){var g=Hn,y=ds(),_=u(),C=!Ds(y.memoizedState,_);if(C&&(y.memoizedState=_,Ci=!0),y=y.queue,sA(fC.bind(null,g,y,a),[a]),y.getSnapshot!==u||C||Tr!==null&&Tr.memoizedState.tag&1){if(g.flags|=2048,ff(9,dC.bind(null,g,y,_,u),void 0,null),Ir===null)throw Error(n(349));Rl&30||uC(g,u,_)}return _}function uC(a,u,g){a.flags|=16384,a={getSnapshot:u,value:g},u=Hn.updateQueue,u===null?(u={lastEffect:null,stores:null},Hn.updateQueue=u,u.stores=[a]):(g=u.stores,g===null?u.stores=[a]:g.push(a))}function dC(a,u,g,y){u.value=g,u.getSnapshot=y,hC(u)&&pC(a)}function fC(a,u,g){return g(function(){hC(u)&&pC(a)})}function hC(a){var u=a.getSnapshot;a=a.value;try{var g=u();return!Ds(a,g)}catch{return!0}}function pC(a){var u=$o(a,1);u!==null&&Hs(u,a,1,-1)}function gC(a){var u=go();return typeof a=="function"&&(a=a()),u.memoizedState=u.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:df,lastRenderedState:a},u.queue=a,a=a.dispatch=GB.bind(null,Hn,a),[u.memoizedState,a]}function ff(a,u,g,y){return a={tag:a,create:u,destroy:g,deps:y,next:null},u=Hn.updateQueue,u===null?(u={lastEffect:null,stores:null},Hn.updateQueue=u,u.lastEffect=a.next=a):(g=u.lastEffect,g===null?u.lastEffect=a.next=a:(y=g.next,g.next=a,a.next=y,u.lastEffect=a)),a}function mC(){return ds().memoizedState}function Gp(a,u,g,y){var _=go();Hn.flags|=a,_.memoizedState=ff(1|u,g,void 0,y===void 0?null:y)}function qp(a,u,g,y){var _=ds();y=y===void 0?null:y;var C=void 0;if(Sr!==null){var O=Sr.memoizedState;if(C=O.destroy,y!==null&&eA(y,O.deps)){_.memoizedState=ff(u,g,C,y);return}}Hn.flags|=a,_.memoizedState=ff(1|u,g,C,y)}function vC(a,u){return Gp(8390656,8,a,u)}function sA(a,u){return qp(2048,8,a,u)}function yC(a,u){return qp(4,2,a,u)}function AC(a,u){return qp(4,4,a,u)}function bC(a,u){if(typeof u=="function")return a=a(),u(a),function(){u(null)};if(u!=null)return a=a(),u.current=a,function(){u.current=null}}function _C(a,u,g){return g=g!=null?g.concat([a]):null,qp(4,4,bC.bind(null,u,a),g)}function oA(){}function SC(a,u){var g=ds();u=u===void 0?null:u;var y=g.memoizedState;return y!==null&&u!==null&&eA(u,y[1])?y[0]:(g.memoizedState=[a,u],a)}function xC(a,u){var g=ds();u=u===void 0?null:u;var y=g.memoizedState;return y!==null&&u!==null&&eA(u,y[1])?y[0]:(a=a(),g.memoizedState=[a,u],a)}function wC(a,u,g){return Rl&21?(Ds(g,u)||(g=Me(),Hn.lanes|=g,Pl|=g,a.baseState=!0),u):(a.baseState&&(a.baseState=!1,Ci=!0),a.memoizedState=g)}function UB(a,u){var g=ft;ft=g!==0&&4>g?g:4,a(!0);var y=Zy.transition;Zy.transition={};try{a(!1),u()}finally{ft=g,Zy.transition=y}}function EC(){return ds().memoizedState}function HB(a,u,g){var y=Va(a);if(g={lane:y,action:g,hasEagerState:!1,eagerState:null,next:null},CC(a))kC(u,g);else if(g=QE(a,u,g,y),g!==null){var _=fi();Hs(g,a,y,_),TC(g,u,y)}}function GB(a,u,g){var y=Va(a),_={lane:y,action:g,hasEagerState:!1,eagerState:null,next:null};if(CC(a))kC(u,_);else{var C=a.alternate;if(a.lanes===0&&(C===null||C.lanes===0)&&(C=u.lastRenderedReducer,C!==null))try{var O=u.lastRenderedState,X=C(O,g);if(_.hasEagerState=!0,_.eagerState=X,Ds(X,O)){var ee=u.interleaved;ee===null?(_.next=_,Gy(u)):(_.next=ee.next,ee.next=_),u.interleaved=_;return}}catch{}finally{}g=QE(a,u,_,y),g!==null&&(_=fi(),Hs(g,a,y,_),TC(g,u,y))}}function CC(a){var u=a.alternate;return a===Hn||u!==null&&u===Hn}function kC(a,u){cf=Hp=!0;var g=a.pending;g===null?u.next=u:(u.next=g.next,g.next=u),a.pending=u}function TC(a,u,g){if(g&4194240){var y=u.lanes;y&=a.pendingLanes,g|=y,u.lanes=g,Gt(a,g)}}var Wp={readContext:us,useCallback:Xr,useContext:Xr,useEffect:Xr,useImperativeHandle:Xr,useInsertionEffect:Xr,useLayoutEffect:Xr,useMemo:Xr,useReducer:Xr,useRef:Xr,useState:Xr,useDebugValue:Xr,useDeferredValue:Xr,useTransition:Xr,useMutableSource:Xr,useSyncExternalStore:Xr,useId:Xr,unstable_isNewReconciler:!1},qB={readContext:us,useCallback:function(a,u){return go().memoizedState=[a,u===void 0?null:u],a},useContext:us,useEffect:vC,useImperativeHandle:function(a,u,g){return g=g!=null?g.concat([a]):null,Gp(4194308,4,bC.bind(null,u,a),g)},useLayoutEffect:function(a,u){return Gp(4194308,4,a,u)},useInsertionEffect:function(a,u){return Gp(4,2,a,u)},useMemo:function(a,u){var g=go();return u=u===void 0?null:u,a=a(),g.memoizedState=[a,u],a},useReducer:function(a,u,g){var y=go();return u=g!==void 0?g(u):u,y.memoizedState=y.baseState=u,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:u},y.queue=a,a=a.dispatch=HB.bind(null,Hn,a),[y.memoizedState,a]},useRef:function(a){var u=go();return a={current:a},u.memoizedState=a},useState:gC,useDebugValue:oA,useDeferredValue:function(a){return go().memoizedState=a},useTransition:function(){var a=gC(!1),u=a[0];return a=UB.bind(null,a[1]),go().memoizedState=a,[u,a]},useMutableSource:function(){},useSyncExternalStore:function(a,u,g){var y=Hn,_=go();if(Ln){if(g===void 0)throw Error(n(407));g=g()}else{if(g=u(),Ir===null)throw Error(n(349));Rl&30||uC(y,u,g)}_.memoizedState=g;var C={value:g,getSnapshot:u};return _.queue=C,vC(fC.bind(null,y,C,a),[a]),y.flags|=2048,ff(9,dC.bind(null,y,C,g,u),void 0,null),g},useId:function(){var a=go(),u=Ir.identifierPrefix;if(Ln){var g=Fo,y=Do;g=(y&~(1<<32-zi(y)-1)).toString(32)+g,u=":"+u+"R"+g,g=uf++,0<g&&(u+="H"+g.toString(32)),u+=":"}else g=zB++,u=":"+u+"r"+g.toString(32)+":";return a.memoizedState=u},unstable_isNewReconciler:!1},WB={readContext:us,useCallback:SC,useContext:us,useEffect:sA,useImperativeHandle:_C,useInsertionEffect:yC,useLayoutEffect:AC,useMemo:xC,useReducer:rA,useRef:mC,useState:function(){return rA(df)},useDebugValue:oA,useDeferredValue:function(a){var u=ds();return wC(u,Sr.memoizedState,a)},useTransition:function(){var a=rA(df)[0],u=ds().memoizedState;return[a,u]},useMutableSource:lC,useSyncExternalStore:cC,useId:EC,unstable_isNewReconciler:!1},KB={readContext:us,useCallback:SC,useContext:us,useEffect:sA,useImperativeHandle:_C,useInsertionEffect:yC,useLayoutEffect:AC,useMemo:xC,useReducer:iA,useRef:mC,useState:function(){return iA(df)},useDebugValue:oA,useDeferredValue:function(a){var u=ds();return Sr===null?u.memoizedState=a:wC(u,Sr.memoizedState,a)},useTransition:function(){var a=iA(df)[0],u=ds().memoizedState;return[a,u]},useMutableSource:lC,useSyncExternalStore:cC,useId:EC,unstable_isNewReconciler:!1};function uu(a,u){try{var g="",y=u;do g+=ye(y),y=y.return;while(y);var _=g}catch(C){_=`
Error generating stack: `+C.message+`
`+C.stack}return{value:a,source:u,stack:_,digest:null}}function aA(a,u,g){return{value:a,source:null,stack:g??null,digest:u??null}}function lA(a,u){try{console.error(u.value)}catch(g){setTimeout(function(){throw g})}}var YB=typeof WeakMap=="function"?WeakMap:Map;function IC(a,u,g){g=zo(-1,g),g.tag=3,g.payload={element:null};var y=u.value;return g.callback=function(){eg||(eg=!0,xA=y),lA(a,u)},g}function RC(a,u,g){g=zo(-1,g),g.tag=3;var y=a.type.getDerivedStateFromError;if(typeof y=="function"){var _=u.value;g.payload=function(){return y(_)},g.callback=function(){lA(a,u)}}var C=a.stateNode;return C!==null&&typeof C.componentDidCatch=="function"&&(g.callback=function(){lA(a,u),typeof y!="function"&&(ja===null?ja=new Set([this]):ja.add(this));var O=u.stack;this.componentDidCatch(u.value,{componentStack:O!==null?O:""})}),g}function PC(a,u,g){var y=a.pingCache;if(y===null){y=a.pingCache=new YB;var _=new Set;y.set(u,_)}else _=y.get(u),_===void 0&&(_=new Set,y.set(u,_));_.has(g)||(_.add(g),a=cD.bind(null,a,u,g),u.then(a,a))}function MC(a){do{var u;if((u=a.tag===13)&&(u=a.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return a;a=a.return}while(a!==null);return null}function jC(a,u,g,y,_){return a.mode&1?(a.flags|=65536,a.lanes=_,a):(a===u?a.flags|=65536:(a.flags|=128,g.flags|=131072,g.flags&=-52805,g.tag===1&&(g.alternate===null?g.tag=17:(u=zo(-1,1),u.tag=2,Pa(g,u,1))),g.lanes|=1),a)}var QB=T.ReactCurrentOwner,Ci=!1;function di(a,u,g,y){u.child=a===null?oC(u,null,g,y):lu(u,a.child,g,y)}function OC(a,u,g,y,_){g=g.render;var C=u.ref;return au(u,_),y=tA(a,u,g,y,C,_),g=nA(),a!==null&&!Ci?(u.updateQueue=a.updateQueue,u.flags&=-2053,a.lanes&=~_,Uo(a,u,_)):(Ln&&g&&Ly(u),u.flags|=1,di(a,u,y,_),u.child)}function VC(a,u,g,y,_){if(a===null){var C=g.type;return typeof C=="function"&&!RA(C)&&C.defaultProps===void 0&&g.compare===null&&g.defaultProps===void 0?(u.tag=15,u.type=C,LC(a,u,C,y,_)):(a=og(g.type,null,y,u,u.mode,_),a.ref=u.ref,a.return=u,u.child=a)}if(C=a.child,!(a.lanes&_)){var O=C.memoizedProps;if(g=g.compare,g=g!==null?g:Jd,g(O,y)&&a.ref===u.ref)return Uo(a,u,_)}return u.flags|=1,a=Na(C,y),a.ref=u.ref,a.return=u,u.child=a}function LC(a,u,g,y,_){if(a!==null){var C=a.memoizedProps;if(Jd(C,y)&&a.ref===u.ref)if(Ci=!1,u.pendingProps=y=C,(a.lanes&_)!==0)a.flags&131072&&(Ci=!0);else return u.lanes=a.lanes,Uo(a,u,_)}return cA(a,u,g,y,_)}function NC(a,u,g){var y=u.pendingProps,_=y.children,C=a!==null?a.memoizedState:null;if(y.mode==="hidden")if(!(u.mode&1))u.memoizedState={baseLanes:0,cachePool:null,transitions:null},An(fu,qi),qi|=g;else{if(!(g&1073741824))return a=C!==null?C.baseLanes|g:g,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:a,cachePool:null,transitions:null},u.updateQueue=null,An(fu,qi),qi|=a,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},y=C!==null?C.baseLanes:g,An(fu,qi),qi|=y}else C!==null?(y=C.baseLanes|g,u.memoizedState=null):y=g,An(fu,qi),qi|=y;return di(a,u,_,g),u.child}function BC(a,u){var g=u.ref;(a===null&&g!==null||a!==null&&a.ref!==g)&&(u.flags|=512,u.flags|=2097152)}function cA(a,u,g,y,_){var C=Ei(g)?El:Jr.current;return C=nu(u,C),au(u,_),g=tA(a,u,g,y,C,_),y=nA(),a!==null&&!Ci?(u.updateQueue=a.updateQueue,u.flags&=-2053,a.lanes&=~_,Uo(a,u,_)):(Ln&&y&&Ly(u),u.flags|=1,di(a,u,g,_),u.child)}function DC(a,u,g,y,_){if(Ei(g)){var C=!0;Pp(u)}else C=!1;if(au(u,_),u.stateNode===null)Yp(a,u),nC(u,g,y),Ky(u,g,y,_),y=!0;else if(a===null){var O=u.stateNode,X=u.memoizedProps;O.props=X;var ee=O.context,he=g.contextType;typeof he=="object"&&he!==null?he=us(he):(he=Ei(g)?El:Jr.current,he=nu(u,he));var Se=g.getDerivedStateFromProps,Ee=typeof Se=="function"||typeof O.getSnapshotBeforeUpdate=="function";Ee||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(X!==y||ee!==he)&&rC(u,O,y,he),Ra=!1;var _e=u.memoizedState;O.state=_e,Dp(u,y,O,_),ee=u.memoizedState,X!==y||_e!==ee||wi.current||Ra?(typeof Se=="function"&&(Wy(u,g,Se,y),ee=u.memoizedState),(X=Ra||tC(u,g,X,y,_e,ee,he))?(Ee||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount()),typeof O.componentDidMount=="function"&&(u.flags|=4194308)):(typeof O.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=y,u.memoizedState=ee),O.props=y,O.state=ee,O.context=he,y=X):(typeof O.componentDidMount=="function"&&(u.flags|=4194308),y=!1)}else{O=u.stateNode,JE(a,u),X=u.memoizedProps,he=u.type===u.elementType?X:$s(u.type,X),O.props=he,Ee=u.pendingProps,_e=O.context,ee=g.contextType,typeof ee=="object"&&ee!==null?ee=us(ee):(ee=Ei(g)?El:Jr.current,ee=nu(u,ee));var ze=g.getDerivedStateFromProps;(Se=typeof ze=="function"||typeof O.getSnapshotBeforeUpdate=="function")||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(X!==Ee||_e!==ee)&&rC(u,O,y,ee),Ra=!1,_e=u.memoizedState,O.state=_e,Dp(u,y,O,_);var Ke=u.memoizedState;X!==Ee||_e!==Ke||wi.current||Ra?(typeof ze=="function"&&(Wy(u,g,ze,y),Ke=u.memoizedState),(he=Ra||tC(u,g,he,y,_e,Ke,ee)||!1)?(Se||typeof O.UNSAFE_componentWillUpdate!="function"&&typeof O.componentWillUpdate!="function"||(typeof O.componentWillUpdate=="function"&&O.componentWillUpdate(y,Ke,ee),typeof O.UNSAFE_componentWillUpdate=="function"&&O.UNSAFE_componentWillUpdate(y,Ke,ee)),typeof O.componentDidUpdate=="function"&&(u.flags|=4),typeof O.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof O.componentDidUpdate!="function"||X===a.memoizedProps&&_e===a.memoizedState||(u.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||X===a.memoizedProps&&_e===a.memoizedState||(u.flags|=1024),u.memoizedProps=y,u.memoizedState=Ke),O.props=y,O.state=Ke,O.context=ee,y=he):(typeof O.componentDidUpdate!="function"||X===a.memoizedProps&&_e===a.memoizedState||(u.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||X===a.memoizedProps&&_e===a.memoizedState||(u.flags|=1024),y=!1)}return uA(a,u,g,y,C,_)}function uA(a,u,g,y,_,C){BC(a,u);var O=(u.flags&128)!==0;if(!y&&!O)return _&&UE(u,g,!1),Uo(a,u,C);y=u.stateNode,QB.current=u;var X=O&&typeof g.getDerivedStateFromError!="function"?null:y.render();return u.flags|=1,a!==null&&O?(u.child=lu(u,a.child,null,C),u.child=lu(u,null,X,C)):di(a,u,X,C),u.memoizedState=y.state,_&&UE(u,g,!0),u.child}function FC(a){var u=a.stateNode;u.pendingContext?$E(a,u.pendingContext,u.pendingContext!==u.context):u.context&&$E(a,u.context,!1),Yy(a,u.containerInfo)}function $C(a,u,g,y,_){return su(),Fy(_),u.flags|=256,di(a,u,g,y),u.child}var dA={dehydrated:null,treeContext:null,retryLane:0};function fA(a){return{baseLanes:a,cachePool:null,transitions:null}}function zC(a,u,g){var y=u.pendingProps,_=Un.current,C=!1,O=(u.flags&128)!==0,X;if((X=O)||(X=a!==null&&a.memoizedState===null?!1:(_&2)!==0),X?(C=!0,u.flags&=-129):(a===null||a.memoizedState!==null)&&(_|=1),An(Un,_&1),a===null)return Dy(u),a=u.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?(u.mode&1?a.data==="$!"?u.lanes=8:u.lanes=1073741824:u.lanes=1,null):(O=y.children,a=y.fallback,C?(y=u.mode,C=u.child,O={mode:"hidden",children:O},!(y&1)&&C!==null?(C.childLanes=0,C.pendingProps=O):C=ag(O,y,0,null),a=Vl(a,y,g,null),C.return=u,a.return=u,C.sibling=a,u.child=C,u.child.memoizedState=fA(g),u.memoizedState=dA,a):hA(u,O));if(_=a.memoizedState,_!==null&&(X=_.dehydrated,X!==null))return JB(a,u,O,y,X,_,g);if(C){C=y.fallback,O=u.mode,_=a.child,X=_.sibling;var ee={mode:"hidden",children:y.children};return!(O&1)&&u.child!==_?(y=u.child,y.childLanes=0,y.pendingProps=ee,u.deletions=null):(y=Na(_,ee),y.subtreeFlags=_.subtreeFlags&14680064),X!==null?C=Na(X,C):(C=Vl(C,O,g,null),C.flags|=2),C.return=u,y.return=u,y.sibling=C,u.child=y,y=C,C=u.child,O=a.child.memoizedState,O=O===null?fA(g):{baseLanes:O.baseLanes|g,cachePool:null,transitions:O.transitions},C.memoizedState=O,C.childLanes=a.childLanes&~g,u.memoizedState=dA,y}return C=a.child,a=C.sibling,y=Na(C,{mode:"visible",children:y.children}),!(u.mode&1)&&(y.lanes=g),y.return=u,y.sibling=null,a!==null&&(g=u.deletions,g===null?(u.deletions=[a],u.flags|=16):g.push(a)),u.child=y,u.memoizedState=null,y}function hA(a,u){return u=ag({mode:"visible",children:u},a.mode,0,null),u.return=a,a.child=u}function Kp(a,u,g,y){return y!==null&&Fy(y),lu(u,a.child,null,g),a=hA(u,u.pendingProps.children),a.flags|=2,u.memoizedState=null,a}function JB(a,u,g,y,_,C,O){if(g)return u.flags&256?(u.flags&=-257,y=aA(Error(n(422))),Kp(a,u,O,y)):u.memoizedState!==null?(u.child=a.child,u.flags|=128,null):(C=y.fallback,_=u.mode,y=ag({mode:"visible",children:y.children},_,0,null),C=Vl(C,_,O,null),C.flags|=2,y.return=u,C.return=u,y.sibling=C,u.child=y,u.mode&1&&lu(u,a.child,null,O),u.child.memoizedState=fA(O),u.memoizedState=dA,C);if(!(u.mode&1))return Kp(a,u,O,null);if(_.data==="$!"){if(y=_.nextSibling&&_.nextSibling.dataset,y)var X=y.dgst;return y=X,C=Error(n(419)),y=aA(C,y,void 0),Kp(a,u,O,y)}if(X=(O&a.childLanes)!==0,Ci||X){if(y=Ir,y!==null){switch(O&-O){case 4:_=2;break;case 16:_=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:_=32;break;case 536870912:_=268435456;break;default:_=0}_=_&(y.suspendedLanes|O)?0:_,_!==0&&_!==C.retryLane&&(C.retryLane=_,$o(a,_),Hs(y,a,_,-1))}return IA(),y=aA(Error(n(421))),Kp(a,u,O,y)}return _.data==="$?"?(u.flags|=128,u.child=a.child,u=uD.bind(null,a),_._reactRetry=u,null):(a=C.treeContext,Gi=Ca(_.nextSibling),Hi=u,Ln=!0,Fs=null,a!==null&&(ls[cs++]=Do,ls[cs++]=Fo,ls[cs++]=Cl,Do=a.id,Fo=a.overflow,Cl=u),u=hA(u,y.children),u.flags|=4096,u)}function UC(a,u,g){a.lanes|=u;var y=a.alternate;y!==null&&(y.lanes|=u),Hy(a.return,u,g)}function pA(a,u,g,y,_){var C=a.memoizedState;C===null?a.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:y,tail:g,tailMode:_}:(C.isBackwards=u,C.rendering=null,C.renderingStartTime=0,C.last=y,C.tail=g,C.tailMode=_)}function HC(a,u,g){var y=u.pendingProps,_=y.revealOrder,C=y.tail;if(di(a,u,y.children,g),y=Un.current,y&2)y=y&1|2,u.flags|=128;else{if(a!==null&&a.flags&128)e:for(a=u.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&UC(a,g,u);else if(a.tag===19)UC(a,g,u);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===u)break e;for(;a.sibling===null;){if(a.return===null||a.return===u)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}y&=1}if(An(Un,y),!(u.mode&1))u.memoizedState=null;else switch(_){case"forwards":for(g=u.child,_=null;g!==null;)a=g.alternate,a!==null&&zp(a)===null&&(_=g),g=g.sibling;g=_,g===null?(_=u.child,u.child=null):(_=g.sibling,g.sibling=null),pA(u,!1,_,g,C);break;case"backwards":for(g=null,_=u.child,u.child=null;_!==null;){if(a=_.alternate,a!==null&&zp(a)===null){u.child=_;break}a=_.sibling,_.sibling=g,g=_,_=a}pA(u,!0,g,null,C);break;case"together":pA(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function Yp(a,u){!(u.mode&1)&&a!==null&&(a.alternate=null,u.alternate=null,u.flags|=2)}function Uo(a,u,g){if(a!==null&&(u.dependencies=a.dependencies),Pl|=u.lanes,!(g&u.childLanes))return null;if(a!==null&&u.child!==a.child)throw Error(n(153));if(u.child!==null){for(a=u.child,g=Na(a,a.pendingProps),u.child=g,g.return=u;a.sibling!==null;)a=a.sibling,g=g.sibling=Na(a,a.pendingProps),g.return=u;g.sibling=null}return u.child}function XB(a,u,g){switch(u.tag){case 3:FC(u),su();break;case 5:aC(u);break;case 1:Ei(u.type)&&Pp(u);break;case 4:Yy(u,u.stateNode.containerInfo);break;case 10:var y=u.type._context,_=u.memoizedProps.value;An(Lp,y._currentValue),y._currentValue=_;break;case 13:if(y=u.memoizedState,y!==null)return y.dehydrated!==null?(An(Un,Un.current&1),u.flags|=128,null):g&u.child.childLanes?zC(a,u,g):(An(Un,Un.current&1),a=Uo(a,u,g),a!==null?a.sibling:null);An(Un,Un.current&1);break;case 19:if(y=(g&u.childLanes)!==0,a.flags&128){if(y)return HC(a,u,g);u.flags|=128}if(_=u.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),An(Un,Un.current),y)break;return null;case 22:case 23:return u.lanes=0,NC(a,u,g)}return Uo(a,u,g)}var GC,gA,qC,WC;GC=function(a,u){for(var g=u.child;g!==null;){if(g.tag===5||g.tag===6)a.appendChild(g.stateNode);else if(g.tag!==4&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===u)break;for(;g.sibling===null;){if(g.return===null||g.return===u)return;g=g.return}g.sibling.return=g.return,g=g.sibling}},gA=function(){},qC=function(a,u,g,y){var _=a.memoizedProps;if(_!==y){a=u.stateNode,Il(po.current);var C=null;switch(g){case"input":_=Le(a,_),y=Le(a,y),C=[];break;case"select":_=M({},_,{value:void 0}),y=M({},y,{value:void 0}),C=[];break;case"textarea":_=Ht(a,_),y=Ht(a,y),C=[];break;default:typeof _.onClick!="function"&&typeof y.onClick=="function"&&(a.onclick=Tp)}un(g,y);var O;g=null;for(he in _)if(!y.hasOwnProperty(he)&&_.hasOwnProperty(he)&&_[he]!=null)if(he==="style"){var X=_[he];for(O in X)X.hasOwnProperty(O)&&(g||(g={}),g[O]="")}else he!=="dangerouslySetInnerHTML"&&he!=="children"&&he!=="suppressContentEditableWarning"&&he!=="suppressHydrationWarning"&&he!=="autoFocus"&&(i.hasOwnProperty(he)?C||(C=[]):(C=C||[]).push(he,null));for(he in y){var ee=y[he];if(X=_!=null?_[he]:void 0,y.hasOwnProperty(he)&&ee!==X&&(ee!=null||X!=null))if(he==="style")if(X){for(O in X)!X.hasOwnProperty(O)||ee&&ee.hasOwnProperty(O)||(g||(g={}),g[O]="");for(O in ee)ee.hasOwnProperty(O)&&X[O]!==ee[O]&&(g||(g={}),g[O]=ee[O])}else g||(C||(C=[]),C.push(he,g)),g=ee;else he==="dangerouslySetInnerHTML"?(ee=ee?ee.__html:void 0,X=X?X.__html:void 0,ee!=null&&X!==ee&&(C=C||[]).push(he,ee)):he==="children"?typeof ee!="string"&&typeof ee!="number"||(C=C||[]).push(he,""+ee):he!=="suppressContentEditableWarning"&&he!=="suppressHydrationWarning"&&(i.hasOwnProperty(he)?(ee!=null&&he==="onScroll"&&Cn("scroll",a),C||X===ee||(C=[])):(C=C||[]).push(he,ee))}g&&(C=C||[]).push("style",g);var he=C;(u.updateQueue=he)&&(u.flags|=4)}},WC=function(a,u,g,y){g!==y&&(u.flags|=4)};function hf(a,u){if(!Ln)switch(a.tailMode){case"hidden":u=a.tail;for(var g=null;u!==null;)u.alternate!==null&&(g=u),u=u.sibling;g===null?a.tail=null:g.sibling=null;break;case"collapsed":g=a.tail;for(var y=null;g!==null;)g.alternate!==null&&(y=g),g=g.sibling;y===null?u||a.tail===null?a.tail=null:a.tail.sibling=null:y.sibling=null}}function Zr(a){var u=a.alternate!==null&&a.alternate.child===a.child,g=0,y=0;if(u)for(var _=a.child;_!==null;)g|=_.lanes|_.childLanes,y|=_.subtreeFlags&14680064,y|=_.flags&14680064,_.return=a,_=_.sibling;else for(_=a.child;_!==null;)g|=_.lanes|_.childLanes,y|=_.subtreeFlags,y|=_.flags,_.return=a,_=_.sibling;return a.subtreeFlags|=y,a.childLanes=g,u}function ZB(a,u,g){var y=u.pendingProps;switch(Ny(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zr(u),null;case 1:return Ei(u.type)&&Rp(),Zr(u),null;case 3:return y=u.stateNode,cu(),kn(wi),kn(Jr),Xy(),y.pendingContext&&(y.context=y.pendingContext,y.pendingContext=null),(a===null||a.child===null)&&(Vp(u)?u.flags|=4:a===null||a.memoizedState.isDehydrated&&!(u.flags&256)||(u.flags|=1024,Fs!==null&&(CA(Fs),Fs=null))),gA(a,u),Zr(u),null;case 5:Qy(u);var _=Il(lf.current);if(g=u.type,a!==null&&u.stateNode!=null)qC(a,u,g,y,_),a.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!y){if(u.stateNode===null)throw Error(n(166));return Zr(u),null}if(a=Il(po.current),Vp(u)){y=u.stateNode,g=u.type;var C=u.memoizedProps;switch(y[ho]=u,y[nf]=C,a=(u.mode&1)!==0,g){case"dialog":Cn("cancel",y),Cn("close",y);break;case"iframe":case"object":case"embed":Cn("load",y);break;case"video":case"audio":for(_=0;_<Zd.length;_++)Cn(Zd[_],y);break;case"source":Cn("error",y);break;case"img":case"image":case"link":Cn("error",y),Cn("load",y);break;case"details":Cn("toggle",y);break;case"input":je(y,C),Cn("invalid",y);break;case"select":y._wrapperState={wasMultiple:!!C.multiple},Cn("invalid",y);break;case"textarea":Ge(y,C),Cn("invalid",y)}un(g,C),_=null;for(var O in C)if(C.hasOwnProperty(O)){var X=C[O];O==="children"?typeof X=="string"?y.textContent!==X&&(C.suppressHydrationWarning!==!0&&kp(y.textContent,X,a),_=["children",X]):typeof X=="number"&&y.textContent!==""+X&&(C.suppressHydrationWarning!==!0&&kp(y.textContent,X,a),_=["children",""+X]):i.hasOwnProperty(O)&&X!=null&&O==="onScroll"&&Cn("scroll",y)}switch(g){case"input":Oe(y),De(y,C,!0);break;case"textarea":Oe(y),Xt(y);break;case"select":case"option":break;default:typeof C.onClick=="function"&&(y.onclick=Tp)}y=_,u.updateQueue=y,y!==null&&(u.flags|=4)}else{O=_.nodeType===9?_:_.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=Zt(g)),a==="http://www.w3.org/1999/xhtml"?g==="script"?(a=O.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof y.is=="string"?a=O.createElement(g,{is:y.is}):(a=O.createElement(g),g==="select"&&(O=a,y.multiple?O.multiple=!0:y.size&&(O.size=y.size))):a=O.createElementNS(a,g),a[ho]=u,a[nf]=y,GC(a,u,!1,!1),u.stateNode=a;e:{switch(O=Dt(g,y),g){case"dialog":Cn("cancel",a),Cn("close",a),_=y;break;case"iframe":case"object":case"embed":Cn("load",a),_=y;break;case"video":case"audio":for(_=0;_<Zd.length;_++)Cn(Zd[_],a);_=y;break;case"source":Cn("error",a),_=y;break;case"img":case"image":case"link":Cn("error",a),Cn("load",a),_=y;break;case"details":Cn("toggle",a),_=y;break;case"input":je(a,y),_=Le(a,y),Cn("invalid",a);break;case"option":_=y;break;case"select":a._wrapperState={wasMultiple:!!y.multiple},_=M({},y,{value:void 0}),Cn("invalid",a);break;case"textarea":Ge(a,y),_=Ht(a,y),Cn("invalid",a);break;default:_=y}un(g,_),X=_;for(C in X)if(X.hasOwnProperty(C)){var ee=X[C];C==="style"?vn(a,ee):C==="dangerouslySetInnerHTML"?(ee=ee?ee.__html:void 0,ee!=null&&nt(a,ee)):C==="children"?typeof ee=="string"?(g!=="textarea"||ee!=="")&&_t(a,ee):typeof ee=="number"&&_t(a,""+ee):C!=="suppressContentEditableWarning"&&C!=="suppressHydrationWarning"&&C!=="autoFocus"&&(i.hasOwnProperty(C)?ee!=null&&C==="onScroll"&&Cn("scroll",a):ee!=null&&P(a,C,ee,O))}switch(g){case"input":Oe(a),De(a,y,!1);break;case"textarea":Oe(a),Xt(a);break;case"option":y.value!=null&&a.setAttribute("value",""+xe(y.value));break;case"select":a.multiple=!!y.multiple,C=y.value,C!=null?Wt(a,!!y.multiple,C,!1):y.defaultValue!=null&&Wt(a,!!y.multiple,y.defaultValue,!0);break;default:typeof _.onClick=="function"&&(a.onclick=Tp)}switch(g){case"button":case"input":case"select":case"textarea":y=!!y.autoFocus;break e;case"img":y=!0;break e;default:y=!1}}y&&(u.flags|=4)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return Zr(u),null;case 6:if(a&&u.stateNode!=null)WC(a,u,a.memoizedProps,y);else{if(typeof y!="string"&&u.stateNode===null)throw Error(n(166));if(g=Il(lf.current),Il(po.current),Vp(u)){if(y=u.stateNode,g=u.memoizedProps,y[ho]=u,(C=y.nodeValue!==g)&&(a=Hi,a!==null))switch(a.tag){case 3:kp(y.nodeValue,g,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&kp(y.nodeValue,g,(a.mode&1)!==0)}C&&(u.flags|=4)}else y=(g.nodeType===9?g:g.ownerDocument).createTextNode(y),y[ho]=u,u.stateNode=y}return Zr(u),null;case 13:if(kn(Un),y=u.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(Ln&&Gi!==null&&u.mode&1&&!(u.flags&128))YE(),su(),u.flags|=98560,C=!1;else if(C=Vp(u),y!==null&&y.dehydrated!==null){if(a===null){if(!C)throw Error(n(318));if(C=u.memoizedState,C=C!==null?C.dehydrated:null,!C)throw Error(n(317));C[ho]=u}else su(),!(u.flags&128)&&(u.memoizedState=null),u.flags|=4;Zr(u),C=!1}else Fs!==null&&(CA(Fs),Fs=null),C=!0;if(!C)return u.flags&65536?u:null}return u.flags&128?(u.lanes=g,u):(y=y!==null,y!==(a!==null&&a.memoizedState!==null)&&y&&(u.child.flags|=8192,u.mode&1&&(a===null||Un.current&1?xr===0&&(xr=3):IA())),u.updateQueue!==null&&(u.flags|=4),Zr(u),null);case 4:return cu(),gA(a,u),a===null&&ef(u.stateNode.containerInfo),Zr(u),null;case 10:return Uy(u.type._context),Zr(u),null;case 17:return Ei(u.type)&&Rp(),Zr(u),null;case 19:if(kn(Un),C=u.memoizedState,C===null)return Zr(u),null;if(y=(u.flags&128)!==0,O=C.rendering,O===null)if(y)hf(C,!1);else{if(xr!==0||a!==null&&a.flags&128)for(a=u.child;a!==null;){if(O=zp(a),O!==null){for(u.flags|=128,hf(C,!1),y=O.updateQueue,y!==null&&(u.updateQueue=y,u.flags|=4),u.subtreeFlags=0,y=g,g=u.child;g!==null;)C=g,a=y,C.flags&=14680066,O=C.alternate,O===null?(C.childLanes=0,C.lanes=a,C.child=null,C.subtreeFlags=0,C.memoizedProps=null,C.memoizedState=null,C.updateQueue=null,C.dependencies=null,C.stateNode=null):(C.childLanes=O.childLanes,C.lanes=O.lanes,C.child=O.child,C.subtreeFlags=0,C.deletions=null,C.memoizedProps=O.memoizedProps,C.memoizedState=O.memoizedState,C.updateQueue=O.updateQueue,C.type=O.type,a=O.dependencies,C.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),g=g.sibling;return An(Un,Un.current&1|2),u.child}a=a.sibling}C.tail!==null&&fn()>hu&&(u.flags|=128,y=!0,hf(C,!1),u.lanes=4194304)}else{if(!y)if(a=zp(O),a!==null){if(u.flags|=128,y=!0,g=a.updateQueue,g!==null&&(u.updateQueue=g,u.flags|=4),hf(C,!0),C.tail===null&&C.tailMode==="hidden"&&!O.alternate&&!Ln)return Zr(u),null}else 2*fn()-C.renderingStartTime>hu&&g!==1073741824&&(u.flags|=128,y=!0,hf(C,!1),u.lanes=4194304);C.isBackwards?(O.sibling=u.child,u.child=O):(g=C.last,g!==null?g.sibling=O:u.child=O,C.last=O)}return C.tail!==null?(u=C.tail,C.rendering=u,C.tail=u.sibling,C.renderingStartTime=fn(),u.sibling=null,g=Un.current,An(Un,y?g&1|2:g&1),u):(Zr(u),null);case 22:case 23:return TA(),y=u.memoizedState!==null,a!==null&&a.memoizedState!==null!==y&&(u.flags|=8192),y&&u.mode&1?qi&1073741824&&(Zr(u),u.subtreeFlags&6&&(u.flags|=8192)):Zr(u),null;case 24:return null;case 25:return null}throw Error(n(156,u.tag))}function eD(a,u){switch(Ny(u),u.tag){case 1:return Ei(u.type)&&Rp(),a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 3:return cu(),kn(wi),kn(Jr),Xy(),a=u.flags,a&65536&&!(a&128)?(u.flags=a&-65537|128,u):null;case 5:return Qy(u),null;case 13:if(kn(Un),a=u.memoizedState,a!==null&&a.dehydrated!==null){if(u.alternate===null)throw Error(n(340));su()}return a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 19:return kn(Un),null;case 4:return cu(),null;case 10:return Uy(u.type._context),null;case 22:case 23:return TA(),null;case 24:return null;default:return null}}var Qp=!1,ei=!1,tD=typeof WeakSet=="function"?WeakSet:Set,qe=null;function du(a,u){var g=a.ref;if(g!==null)if(typeof g=="function")try{g(null)}catch(y){Yn(a,u,y)}else g.current=null}function mA(a,u,g){try{g()}catch(y){Yn(a,u,y)}}var KC=!1;function nD(a,u){if(Ty=mp,a=EE(),by(a)){if("selectionStart"in a)var g={start:a.selectionStart,end:a.selectionEnd};else e:{g=(g=a.ownerDocument)&&g.defaultView||window;var y=g.getSelection&&g.getSelection();if(y&&y.rangeCount!==0){g=y.anchorNode;var _=y.anchorOffset,C=y.focusNode;y=y.focusOffset;try{g.nodeType,C.nodeType}catch{g=null;break e}var O=0,X=-1,ee=-1,he=0,Se=0,Ee=a,_e=null;t:for(;;){for(var ze;Ee!==g||_!==0&&Ee.nodeType!==3||(X=O+_),Ee!==C||y!==0&&Ee.nodeType!==3||(ee=O+y),Ee.nodeType===3&&(O+=Ee.nodeValue.length),(ze=Ee.firstChild)!==null;)_e=Ee,Ee=ze;for(;;){if(Ee===a)break t;if(_e===g&&++he===_&&(X=O),_e===C&&++Se===y&&(ee=O),(ze=Ee.nextSibling)!==null)break;Ee=_e,_e=Ee.parentNode}Ee=ze}g=X===-1||ee===-1?null:{start:X,end:ee}}else g=null}g=g||{start:0,end:0}}else g=null;for(Iy={focusedElem:a,selectionRange:g},mp=!1,qe=u;qe!==null;)if(u=qe,a=u.child,(u.subtreeFlags&1028)!==0&&a!==null)a.return=u,qe=a;else for(;qe!==null;){u=qe;try{var Ke=u.alternate;if(u.flags&1024)switch(u.tag){case 0:case 11:case 15:break;case 1:if(Ke!==null){var Qe=Ke.memoizedProps,rr=Ke.memoizedState,ce=u.stateNode,ne=ce.getSnapshotBeforeUpdate(u.elementType===u.type?Qe:$s(u.type,Qe),rr);ce.__reactInternalSnapshotBeforeUpdate=ne}break;case 3:var de=u.stateNode.containerInfo;de.nodeType===1?de.textContent="":de.nodeType===9&&de.documentElement&&de.removeChild(de.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Pe){Yn(u,u.return,Pe)}if(a=u.sibling,a!==null){a.return=u.return,qe=a;break}qe=u.return}return Ke=KC,KC=!1,Ke}function pf(a,u,g){var y=u.updateQueue;if(y=y!==null?y.lastEffect:null,y!==null){var _=y=y.next;do{if((_.tag&a)===a){var C=_.destroy;_.destroy=void 0,C!==void 0&&mA(u,g,C)}_=_.next}while(_!==y)}}function Jp(a,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var g=u=u.next;do{if((g.tag&a)===a){var y=g.create;g.destroy=y()}g=g.next}while(g!==u)}}function vA(a){var u=a.ref;if(u!==null){var g=a.stateNode;switch(a.tag){case 5:a=g;break;default:a=g}typeof u=="function"?u(a):u.current=a}}function YC(a){var u=a.alternate;u!==null&&(a.alternate=null,YC(u)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(u=a.stateNode,u!==null&&(delete u[ho],delete u[nf],delete u[jy],delete u[BB],delete u[DB])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function QC(a){return a.tag===5||a.tag===3||a.tag===4}function JC(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||QC(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function yA(a,u,g){var y=a.tag;if(y===5||y===6)a=a.stateNode,u?g.nodeType===8?g.parentNode.insertBefore(a,u):g.insertBefore(a,u):(g.nodeType===8?(u=g.parentNode,u.insertBefore(a,g)):(u=g,u.appendChild(a)),g=g._reactRootContainer,g!=null||u.onclick!==null||(u.onclick=Tp));else if(y!==4&&(a=a.child,a!==null))for(yA(a,u,g),a=a.sibling;a!==null;)yA(a,u,g),a=a.sibling}function AA(a,u,g){var y=a.tag;if(y===5||y===6)a=a.stateNode,u?g.insertBefore(a,u):g.appendChild(a);else if(y!==4&&(a=a.child,a!==null))for(AA(a,u,g),a=a.sibling;a!==null;)AA(a,u,g),a=a.sibling}var Dr=null,zs=!1;function Ma(a,u,g){for(g=g.child;g!==null;)XC(a,u,g),g=g.sibling}function XC(a,u,g){if(xi&&typeof xi.onCommitFiberUnmount=="function")try{xi.onCommitFiberUnmount(Uc,g)}catch{}switch(g.tag){case 5:ei||du(g,u);case 6:var y=Dr,_=zs;Dr=null,Ma(a,u,g),Dr=y,zs=_,Dr!==null&&(zs?(a=Dr,g=g.stateNode,a.nodeType===8?a.parentNode.removeChild(g):a.removeChild(g)):Dr.removeChild(g.stateNode));break;case 18:Dr!==null&&(zs?(a=Dr,g=g.stateNode,a.nodeType===8?My(a.parentNode,g):a.nodeType===1&&My(a,g),Gd(a)):My(Dr,g.stateNode));break;case 4:y=Dr,_=zs,Dr=g.stateNode.containerInfo,zs=!0,Ma(a,u,g),Dr=y,zs=_;break;case 0:case 11:case 14:case 15:if(!ei&&(y=g.updateQueue,y!==null&&(y=y.lastEffect,y!==null))){_=y=y.next;do{var C=_,O=C.destroy;C=C.tag,O!==void 0&&(C&2||C&4)&&mA(g,u,O),_=_.next}while(_!==y)}Ma(a,u,g);break;case 1:if(!ei&&(du(g,u),y=g.stateNode,typeof y.componentWillUnmount=="function"))try{y.props=g.memoizedProps,y.state=g.memoizedState,y.componentWillUnmount()}catch(X){Yn(g,u,X)}Ma(a,u,g);break;case 21:Ma(a,u,g);break;case 22:g.mode&1?(ei=(y=ei)||g.memoizedState!==null,Ma(a,u,g),ei=y):Ma(a,u,g);break;default:Ma(a,u,g)}}function ZC(a){var u=a.updateQueue;if(u!==null){a.updateQueue=null;var g=a.stateNode;g===null&&(g=a.stateNode=new tD),u.forEach(function(y){var _=dD.bind(null,a,y);g.has(y)||(g.add(y),y.then(_,_))})}}function Us(a,u){var g=u.deletions;if(g!==null)for(var y=0;y<g.length;y++){var _=g[y];try{var C=a,O=u,X=O;e:for(;X!==null;){switch(X.tag){case 5:Dr=X.stateNode,zs=!1;break e;case 3:Dr=X.stateNode.containerInfo,zs=!0;break e;case 4:Dr=X.stateNode.containerInfo,zs=!0;break e}X=X.return}if(Dr===null)throw Error(n(160));XC(C,O,_),Dr=null,zs=!1;var ee=_.alternate;ee!==null&&(ee.return=null),_.return=null}catch(he){Yn(_,u,he)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)ek(u,a),u=u.sibling}function ek(a,u){var g=a.alternate,y=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(Us(u,a),mo(a),y&4){try{pf(3,a,a.return),Jp(3,a)}catch(Qe){Yn(a,a.return,Qe)}try{pf(5,a,a.return)}catch(Qe){Yn(a,a.return,Qe)}}break;case 1:Us(u,a),mo(a),y&512&&g!==null&&du(g,g.return);break;case 5:if(Us(u,a),mo(a),y&512&&g!==null&&du(g,g.return),a.flags&32){var _=a.stateNode;try{_t(_,"")}catch(Qe){Yn(a,a.return,Qe)}}if(y&4&&(_=a.stateNode,_!=null)){var C=a.memoizedProps,O=g!==null?g.memoizedProps:C,X=a.type,ee=a.updateQueue;if(a.updateQueue=null,ee!==null)try{X==="input"&&C.type==="radio"&&C.name!=null&&mt(_,C),Dt(X,O);var he=Dt(X,C);for(O=0;O<ee.length;O+=2){var Se=ee[O],Ee=ee[O+1];Se==="style"?vn(_,Ee):Se==="dangerouslySetInnerHTML"?nt(_,Ee):Se==="children"?_t(_,Ee):P(_,Se,Ee,he)}switch(X){case"input":vt(_,C);break;case"textarea":jt(_,C);break;case"select":var _e=_._wrapperState.wasMultiple;_._wrapperState.wasMultiple=!!C.multiple;var ze=C.value;ze!=null?Wt(_,!!C.multiple,ze,!1):_e!==!!C.multiple&&(C.defaultValue!=null?Wt(_,!!C.multiple,C.defaultValue,!0):Wt(_,!!C.multiple,C.multiple?[]:"",!1))}_[nf]=C}catch(Qe){Yn(a,a.return,Qe)}}break;case 6:if(Us(u,a),mo(a),y&4){if(a.stateNode===null)throw Error(n(162));_=a.stateNode,C=a.memoizedProps;try{_.nodeValue=C}catch(Qe){Yn(a,a.return,Qe)}}break;case 3:if(Us(u,a),mo(a),y&4&&g!==null&&g.memoizedState.isDehydrated)try{Gd(u.containerInfo)}catch(Qe){Yn(a,a.return,Qe)}break;case 4:Us(u,a),mo(a);break;case 13:Us(u,a),mo(a),_=a.child,_.flags&8192&&(C=_.memoizedState!==null,_.stateNode.isHidden=C,!C||_.alternate!==null&&_.alternate.memoizedState!==null||(SA=fn())),y&4&&ZC(a);break;case 22:if(Se=g!==null&&g.memoizedState!==null,a.mode&1?(ei=(he=ei)||Se,Us(u,a),ei=he):Us(u,a),mo(a),y&8192){if(he=a.memoizedState!==null,(a.stateNode.isHidden=he)&&!Se&&a.mode&1)for(qe=a,Se=a.child;Se!==null;){for(Ee=qe=Se;qe!==null;){switch(_e=qe,ze=_e.child,_e.tag){case 0:case 11:case 14:case 15:pf(4,_e,_e.return);break;case 1:du(_e,_e.return);var Ke=_e.stateNode;if(typeof Ke.componentWillUnmount=="function"){y=_e,g=_e.return;try{u=y,Ke.props=u.memoizedProps,Ke.state=u.memoizedState,Ke.componentWillUnmount()}catch(Qe){Yn(y,g,Qe)}}break;case 5:du(_e,_e.return);break;case 22:if(_e.memoizedState!==null){rk(Ee);continue}}ze!==null?(ze.return=_e,qe=ze):rk(Ee)}Se=Se.sibling}e:for(Se=null,Ee=a;;){if(Ee.tag===5){if(Se===null){Se=Ee;try{_=Ee.stateNode,he?(C=_.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none"):(X=Ee.stateNode,ee=Ee.memoizedProps.style,O=ee!=null&&ee.hasOwnProperty("display")?ee.display:null,X.style.display=Pt("display",O))}catch(Qe){Yn(a,a.return,Qe)}}}else if(Ee.tag===6){if(Se===null)try{Ee.stateNode.nodeValue=he?"":Ee.memoizedProps}catch(Qe){Yn(a,a.return,Qe)}}else if((Ee.tag!==22&&Ee.tag!==23||Ee.memoizedState===null||Ee===a)&&Ee.child!==null){Ee.child.return=Ee,Ee=Ee.child;continue}if(Ee===a)break e;for(;Ee.sibling===null;){if(Ee.return===null||Ee.return===a)break e;Se===Ee&&(Se=null),Ee=Ee.return}Se===Ee&&(Se=null),Ee.sibling.return=Ee.return,Ee=Ee.sibling}}break;case 19:Us(u,a),mo(a),y&4&&ZC(a);break;case 21:break;default:Us(u,a),mo(a)}}function mo(a){var u=a.flags;if(u&2){try{e:{for(var g=a.return;g!==null;){if(QC(g)){var y=g;break e}g=g.return}throw Error(n(160))}switch(y.tag){case 5:var _=y.stateNode;y.flags&32&&(_t(_,""),y.flags&=-33);var C=JC(a);AA(a,C,_);break;case 3:case 4:var O=y.stateNode.containerInfo,X=JC(a);yA(a,X,O);break;default:throw Error(n(161))}}catch(ee){Yn(a,a.return,ee)}a.flags&=-3}u&4096&&(a.flags&=-4097)}function rD(a,u,g){qe=a,tk(a)}function tk(a,u,g){for(var y=(a.mode&1)!==0;qe!==null;){var _=qe,C=_.child;if(_.tag===22&&y){var O=_.memoizedState!==null||Qp;if(!O){var X=_.alternate,ee=X!==null&&X.memoizedState!==null||ei;X=Qp;var he=ei;if(Qp=O,(ei=ee)&&!he)for(qe=_;qe!==null;)O=qe,ee=O.child,O.tag===22&&O.memoizedState!==null?ik(_):ee!==null?(ee.return=O,qe=ee):ik(_);for(;C!==null;)qe=C,tk(C),C=C.sibling;qe=_,Qp=X,ei=he}nk(a)}else _.subtreeFlags&8772&&C!==null?(C.return=_,qe=C):nk(a)}}function nk(a){for(;qe!==null;){var u=qe;if(u.flags&8772){var g=u.alternate;try{if(u.flags&8772)switch(u.tag){case 0:case 11:case 15:ei||Jp(5,u);break;case 1:var y=u.stateNode;if(u.flags&4&&!ei)if(g===null)y.componentDidMount();else{var _=u.elementType===u.type?g.memoizedProps:$s(u.type,g.memoizedProps);y.componentDidUpdate(_,g.memoizedState,y.__reactInternalSnapshotBeforeUpdate)}var C=u.updateQueue;C!==null&&ZE(u,C,y);break;case 3:var O=u.updateQueue;if(O!==null){if(g=null,u.child!==null)switch(u.child.tag){case 5:g=u.child.stateNode;break;case 1:g=u.child.stateNode}ZE(u,O,g)}break;case 5:var X=u.stateNode;if(g===null&&u.flags&4){g=X;var ee=u.memoizedProps;switch(u.type){case"button":case"input":case"select":case"textarea":ee.autoFocus&&g.focus();break;case"img":ee.src&&(g.src=ee.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(u.memoizedState===null){var he=u.alternate;if(he!==null){var Se=he.memoizedState;if(Se!==null){var Ee=Se.dehydrated;Ee!==null&&Gd(Ee)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}ei||u.flags&512&&vA(u)}catch(_e){Yn(u,u.return,_e)}}if(u===a){qe=null;break}if(g=u.sibling,g!==null){g.return=u.return,qe=g;break}qe=u.return}}function rk(a){for(;qe!==null;){var u=qe;if(u===a){qe=null;break}var g=u.sibling;if(g!==null){g.return=u.return,qe=g;break}qe=u.return}}function ik(a){for(;qe!==null;){var u=qe;try{switch(u.tag){case 0:case 11:case 15:var g=u.return;try{Jp(4,u)}catch(ee){Yn(u,g,ee)}break;case 1:var y=u.stateNode;if(typeof y.componentDidMount=="function"){var _=u.return;try{y.componentDidMount()}catch(ee){Yn(u,_,ee)}}var C=u.return;try{vA(u)}catch(ee){Yn(u,C,ee)}break;case 5:var O=u.return;try{vA(u)}catch(ee){Yn(u,O,ee)}}}catch(ee){Yn(u,u.return,ee)}if(u===a){qe=null;break}var X=u.sibling;if(X!==null){X.return=u.return,qe=X;break}qe=u.return}}var iD=Math.ceil,Xp=T.ReactCurrentDispatcher,bA=T.ReactCurrentOwner,fs=T.ReactCurrentBatchConfig,qt=0,Ir=null,gr=null,Fr=0,qi=0,fu=ka(0),xr=0,gf=null,Pl=0,Zp=0,_A=0,mf=null,ki=null,SA=0,hu=1/0,Ho=null,eg=!1,xA=null,ja=null,tg=!1,Oa=null,ng=0,vf=0,wA=null,rg=-1,ig=0;function fi(){return qt&6?fn():rg!==-1?rg:rg=fn()}function Va(a){return a.mode&1?qt&2&&Fr!==0?Fr&-Fr:$B.transition!==null?(ig===0&&(ig=Me()),ig):(a=ft,a!==0||(a=window.event,a=a===void 0?16:sE(a.type)),a):1}function Hs(a,u,g,y){if(50<vf)throw vf=0,wA=null,Error(n(185));St(a,g,y),(!(qt&2)||a!==Ir)&&(a===Ir&&(!(qt&2)&&(Zp|=g),xr===4&&La(a,Fr)),Ti(a,y),g===1&&qt===0&&!(u.mode&1)&&(hu=fn()+500,Mp&&Ia()))}function Ti(a,u){var g=a.callbackNode;Te(a,u);var y=ve(a,a===Ir?Fr:0);if(y===0)g!==null&&co(g),a.callbackNode=null,a.callbackPriority=0;else if(u=y&-y,a.callbackPriority!==u){if(g!=null&&co(g),u===1)a.tag===0?FB(ok.bind(null,a)):HE(ok.bind(null,a)),LB(function(){!(qt&6)&&Ia()}),g=null;else{switch(Vn(y)){case 1:g=uo;break;case 4:g=dp;break;case 16:g=Vo;break;case 536870912:g=fp;break;default:g=Vo}g=pk(g,sk.bind(null,a))}a.callbackPriority=u,a.callbackNode=g}}function sk(a,u){if(rg=-1,ig=0,qt&6)throw Error(n(327));var g=a.callbackNode;if(pu()&&a.callbackNode!==g)return null;var y=ve(a,a===Ir?Fr:0);if(y===0)return null;if(y&30||y&a.expiredLanes||u)u=sg(a,y);else{u=y;var _=qt;qt|=2;var C=lk();(Ir!==a||Fr!==u)&&(Ho=null,hu=fn()+500,jl(a,u));do try{aD();break}catch(X){ak(a,X)}while(!0);zy(),Xp.current=C,qt=_,gr!==null?u=0:(Ir=null,Fr=0,u=xr)}if(u!==0){if(u===2&&(_=Ce(a),_!==0&&(y=_,u=EA(a,_))),u===1)throw g=gf,jl(a,0),La(a,y),Ti(a,fn()),g;if(u===6)La(a,y);else{if(_=a.current.alternate,!(y&30)&&!sD(_)&&(u=sg(a,y),u===2&&(C=Ce(a),C!==0&&(y=C,u=EA(a,C))),u===1))throw g=gf,jl(a,0),La(a,y),Ti(a,fn()),g;switch(a.finishedWork=_,a.finishedLanes=y,u){case 0:case 1:throw Error(n(345));case 2:Ol(a,ki,Ho);break;case 3:if(La(a,y),(y&130023424)===y&&(u=SA+500-fn(),10<u)){if(ve(a,0)!==0)break;if(_=a.suspendedLanes,(_&y)!==y){fi(),a.pingedLanes|=a.suspendedLanes&_;break}a.timeoutHandle=Py(Ol.bind(null,a,ki,Ho),u);break}Ol(a,ki,Ho);break;case 4:if(La(a,y),(y&4194240)===y)break;for(u=a.eventTimes,_=-1;0<y;){var O=31-zi(y);C=1<<O,O=u[O],O>_&&(_=O),y&=~C}if(y=_,y=fn()-y,y=(120>y?120:480>y?480:1080>y?1080:1920>y?1920:3e3>y?3e3:4320>y?4320:1960*iD(y/1960))-y,10<y){a.timeoutHandle=Py(Ol.bind(null,a,ki,Ho),y);break}Ol(a,ki,Ho);break;case 5:Ol(a,ki,Ho);break;default:throw Error(n(329))}}}return Ti(a,fn()),a.callbackNode===g?sk.bind(null,a):null}function EA(a,u){var g=mf;return a.current.memoizedState.isDehydrated&&(jl(a,u).flags|=256),a=sg(a,u),a!==2&&(u=ki,ki=g,u!==null&&CA(u)),a}function CA(a){ki===null?ki=a:ki.push.apply(ki,a)}function sD(a){for(var u=a;;){if(u.flags&16384){var g=u.updateQueue;if(g!==null&&(g=g.stores,g!==null))for(var y=0;y<g.length;y++){var _=g[y],C=_.getSnapshot;_=_.value;try{if(!Ds(C(),_))return!1}catch{return!1}}}if(g=u.child,u.subtreeFlags&16384&&g!==null)g.return=u,u=g;else{if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function La(a,u){for(u&=~_A,u&=~Zp,a.suspendedLanes|=u,a.pingedLanes&=~u,a=a.expirationTimes;0<u;){var g=31-zi(u),y=1<<g;a[g]=-1,u&=~y}}function ok(a){if(qt&6)throw Error(n(327));pu();var u=ve(a,0);if(!(u&1))return Ti(a,fn()),null;var g=sg(a,u);if(a.tag!==0&&g===2){var y=Ce(a);y!==0&&(u=y,g=EA(a,y))}if(g===1)throw g=gf,jl(a,0),La(a,u),Ti(a,fn()),g;if(g===6)throw Error(n(345));return a.finishedWork=a.current.alternate,a.finishedLanes=u,Ol(a,ki,Ho),Ti(a,fn()),null}function kA(a,u){var g=qt;qt|=1;try{return a(u)}finally{qt=g,qt===0&&(hu=fn()+500,Mp&&Ia())}}function Ml(a){Oa!==null&&Oa.tag===0&&!(qt&6)&&pu();var u=qt;qt|=1;var g=fs.transition,y=ft;try{if(fs.transition=null,ft=1,a)return a()}finally{ft=y,fs.transition=g,qt=u,!(qt&6)&&Ia()}}function TA(){qi=fu.current,kn(fu)}function jl(a,u){a.finishedWork=null,a.finishedLanes=0;var g=a.timeoutHandle;if(g!==-1&&(a.timeoutHandle=-1,VB(g)),gr!==null)for(g=gr.return;g!==null;){var y=g;switch(Ny(y),y.tag){case 1:y=y.type.childContextTypes,y!=null&&Rp();break;case 3:cu(),kn(wi),kn(Jr),Xy();break;case 5:Qy(y);break;case 4:cu();break;case 13:kn(Un);break;case 19:kn(Un);break;case 10:Uy(y.type._context);break;case 22:case 23:TA()}g=g.return}if(Ir=a,gr=a=Na(a.current,null),Fr=qi=u,xr=0,gf=null,_A=Zp=Pl=0,ki=mf=null,Tl!==null){for(u=0;u<Tl.length;u++)if(g=Tl[u],y=g.interleaved,y!==null){g.interleaved=null;var _=y.next,C=g.pending;if(C!==null){var O=C.next;C.next=_,y.next=O}g.pending=y}Tl=null}return a}function ak(a,u){do{var g=gr;try{if(zy(),Up.current=Wp,Hp){for(var y=Hn.memoizedState;y!==null;){var _=y.queue;_!==null&&(_.pending=null),y=y.next}Hp=!1}if(Rl=0,Tr=Sr=Hn=null,cf=!1,uf=0,bA.current=null,g===null||g.return===null){xr=1,gf=u,gr=null;break}e:{var C=a,O=g.return,X=g,ee=u;if(u=Fr,X.flags|=32768,ee!==null&&typeof ee=="object"&&typeof ee.then=="function"){var he=ee,Se=X,Ee=Se.tag;if(!(Se.mode&1)&&(Ee===0||Ee===11||Ee===15)){var _e=Se.alternate;_e?(Se.updateQueue=_e.updateQueue,Se.memoizedState=_e.memoizedState,Se.lanes=_e.lanes):(Se.updateQueue=null,Se.memoizedState=null)}var ze=MC(O);if(ze!==null){ze.flags&=-257,jC(ze,O,X,C,u),ze.mode&1&&PC(C,he,u),u=ze,ee=he;var Ke=u.updateQueue;if(Ke===null){var Qe=new Set;Qe.add(ee),u.updateQueue=Qe}else Ke.add(ee);break e}else{if(!(u&1)){PC(C,he,u),IA();break e}ee=Error(n(426))}}else if(Ln&&X.mode&1){var rr=MC(O);if(rr!==null){!(rr.flags&65536)&&(rr.flags|=256),jC(rr,O,X,C,u),Fy(uu(ee,X));break e}}C=ee=uu(ee,X),xr!==4&&(xr=2),mf===null?mf=[C]:mf.push(C),C=O;do{switch(C.tag){case 3:C.flags|=65536,u&=-u,C.lanes|=u;var ce=IC(C,ee,u);XE(C,ce);break e;case 1:X=ee;var ne=C.type,de=C.stateNode;if(!(C.flags&128)&&(typeof ne.getDerivedStateFromError=="function"||de!==null&&typeof de.componentDidCatch=="function"&&(ja===null||!ja.has(de)))){C.flags|=65536,u&=-u,C.lanes|=u;var Pe=RC(C,X,u);XE(C,Pe);break e}}C=C.return}while(C!==null)}uk(g)}catch(et){u=et,gr===g&&g!==null&&(gr=g=g.return);continue}break}while(!0)}function lk(){var a=Xp.current;return Xp.current=Wp,a===null?Wp:a}function IA(){(xr===0||xr===3||xr===2)&&(xr=4),Ir===null||!(Pl&268435455)&&!(Zp&268435455)||La(Ir,Fr)}function sg(a,u){var g=qt;qt|=2;var y=lk();(Ir!==a||Fr!==u)&&(Ho=null,jl(a,u));do try{oD();break}catch(_){ak(a,_)}while(!0);if(zy(),qt=g,Xp.current=y,gr!==null)throw Error(n(261));return Ir=null,Fr=0,xr}function oD(){for(;gr!==null;)ck(gr)}function aD(){for(;gr!==null&&!Dd();)ck(gr)}function ck(a){var u=hk(a.alternate,a,qi);a.memoizedProps=a.pendingProps,u===null?uk(a):gr=u,bA.current=null}function uk(a){var u=a;do{var g=u.alternate;if(a=u.return,u.flags&32768){if(g=eD(g,u),g!==null){g.flags&=32767,gr=g;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{xr=6,gr=null;return}}else if(g=ZB(g,u,qi),g!==null){gr=g;return}if(u=u.sibling,u!==null){gr=u;return}gr=u=a}while(u!==null);xr===0&&(xr=5)}function Ol(a,u,g){var y=ft,_=fs.transition;try{fs.transition=null,ft=1,lD(a,u,g,y)}finally{fs.transition=_,ft=y}return null}function lD(a,u,g,y){do pu();while(Oa!==null);if(qt&6)throw Error(n(327));g=a.finishedWork;var _=a.finishedLanes;if(g===null)return null;if(a.finishedWork=null,a.finishedLanes=0,g===a.current)throw Error(n(177));a.callbackNode=null,a.callbackPriority=0;var C=g.lanes|g.childLanes;if(Yt(a,C),a===Ir&&(gr=Ir=null,Fr=0),!(g.subtreeFlags&2064)&&!(g.flags&2064)||tg||(tg=!0,pk(Vo,function(){return pu(),null})),C=(g.flags&15990)!==0,g.subtreeFlags&15990||C){C=fs.transition,fs.transition=null;var O=ft;ft=1;var X=qt;qt|=4,bA.current=null,nD(a,g),ek(g,a),TB(Iy),mp=!!Ty,Iy=Ty=null,a.current=g,rD(g),_a(),qt=X,ft=O,fs.transition=C}else a.current=g;if(tg&&(tg=!1,Oa=a,ng=_),C=a.pendingLanes,C===0&&(ja=null),ly(g.stateNode),Ti(a,fn()),u!==null)for(y=a.onRecoverableError,g=0;g<u.length;g++)_=u[g],y(_.value,{componentStack:_.stack,digest:_.digest});if(eg)throw eg=!1,a=xA,xA=null,a;return ng&1&&a.tag!==0&&pu(),C=a.pendingLanes,C&1?a===wA?vf++:(vf=0,wA=a):vf=0,Ia(),null}function pu(){if(Oa!==null){var a=Vn(ng),u=fs.transition,g=ft;try{if(fs.transition=null,ft=16>a?16:a,Oa===null)var y=!1;else{if(a=Oa,Oa=null,ng=0,qt&6)throw Error(n(331));var _=qt;for(qt|=4,qe=a.current;qe!==null;){var C=qe,O=C.child;if(qe.flags&16){var X=C.deletions;if(X!==null){for(var ee=0;ee<X.length;ee++){var he=X[ee];for(qe=he;qe!==null;){var Se=qe;switch(Se.tag){case 0:case 11:case 15:pf(8,Se,C)}var Ee=Se.child;if(Ee!==null)Ee.return=Se,qe=Ee;else for(;qe!==null;){Se=qe;var _e=Se.sibling,ze=Se.return;if(YC(Se),Se===he){qe=null;break}if(_e!==null){_e.return=ze,qe=_e;break}qe=ze}}}var Ke=C.alternate;if(Ke!==null){var Qe=Ke.child;if(Qe!==null){Ke.child=null;do{var rr=Qe.sibling;Qe.sibling=null,Qe=rr}while(Qe!==null)}}qe=C}}if(C.subtreeFlags&2064&&O!==null)O.return=C,qe=O;else e:for(;qe!==null;){if(C=qe,C.flags&2048)switch(C.tag){case 0:case 11:case 15:pf(9,C,C.return)}var ce=C.sibling;if(ce!==null){ce.return=C.return,qe=ce;break e}qe=C.return}}var ne=a.current;for(qe=ne;qe!==null;){O=qe;var de=O.child;if(O.subtreeFlags&2064&&de!==null)de.return=O,qe=de;else e:for(O=ne;qe!==null;){if(X=qe,X.flags&2048)try{switch(X.tag){case 0:case 11:case 15:Jp(9,X)}}catch(et){Yn(X,X.return,et)}if(X===O){qe=null;break e}var Pe=X.sibling;if(Pe!==null){Pe.return=X.return,qe=Pe;break e}qe=X.return}}if(qt=_,Ia(),xi&&typeof xi.onPostCommitFiberRoot=="function")try{xi.onPostCommitFiberRoot(Uc,a)}catch{}y=!0}return y}finally{ft=g,fs.transition=u}}return!1}function dk(a,u,g){u=uu(g,u),u=IC(a,u,1),a=Pa(a,u,1),u=fi(),a!==null&&(St(a,1,u),Ti(a,u))}function Yn(a,u,g){if(a.tag===3)dk(a,a,g);else for(;u!==null;){if(u.tag===3){dk(u,a,g);break}else if(u.tag===1){var y=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(ja===null||!ja.has(y))){a=uu(g,a),a=RC(u,a,1),u=Pa(u,a,1),a=fi(),u!==null&&(St(u,1,a),Ti(u,a));break}}u=u.return}}function cD(a,u,g){var y=a.pingCache;y!==null&&y.delete(u),u=fi(),a.pingedLanes|=a.suspendedLanes&g,Ir===a&&(Fr&g)===g&&(xr===4||xr===3&&(Fr&130023424)===Fr&&500>fn()-SA?jl(a,0):_A|=g),Ti(a,u)}function fk(a,u){u===0&&(a.mode&1?(u=se,se<<=1,!(se&130023424)&&(se=4194304)):u=1);var g=fi();a=$o(a,u),a!==null&&(St(a,u,g),Ti(a,g))}function uD(a){var u=a.memoizedState,g=0;u!==null&&(g=u.retryLane),fk(a,g)}function dD(a,u){var g=0;switch(a.tag){case 13:var y=a.stateNode,_=a.memoizedState;_!==null&&(g=_.retryLane);break;case 19:y=a.stateNode;break;default:throw Error(n(314))}y!==null&&y.delete(u),fk(a,g)}var hk;hk=function(a,u,g){if(a!==null)if(a.memoizedProps!==u.pendingProps||wi.current)Ci=!0;else{if(!(a.lanes&g)&&!(u.flags&128))return Ci=!1,XB(a,u,g);Ci=!!(a.flags&131072)}else Ci=!1,Ln&&u.flags&1048576&&GE(u,Op,u.index);switch(u.lanes=0,u.tag){case 2:var y=u.type;Yp(a,u),a=u.pendingProps;var _=nu(u,Jr.current);au(u,g),_=tA(null,u,y,a,_,g);var C=nA();return u.flags|=1,typeof _=="object"&&_!==null&&typeof _.render=="function"&&_.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,Ei(y)?(C=!0,Pp(u)):C=!1,u.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,qy(u),_.updater=Fp,u.stateNode=_,_._reactInternals=u,Ky(u,y,a,g),u=uA(null,u,y,!0,C,g)):(u.tag=0,Ln&&C&&Ly(u),di(null,u,_,g),u=u.child),u;case 16:y=u.elementType;e:{switch(Yp(a,u),a=u.pendingProps,_=y._init,y=_(y._payload),u.type=y,_=u.tag=hD(y),a=$s(y,a),_){case 0:u=cA(null,u,y,a,g);break e;case 1:u=DC(null,u,y,a,g);break e;case 11:u=OC(null,u,y,a,g);break e;case 14:u=VC(null,u,y,$s(y.type,a),g);break e}throw Error(n(306,y,""))}return u;case 0:return y=u.type,_=u.pendingProps,_=u.elementType===y?_:$s(y,_),cA(a,u,y,_,g);case 1:return y=u.type,_=u.pendingProps,_=u.elementType===y?_:$s(y,_),DC(a,u,y,_,g);case 3:e:{if(FC(u),a===null)throw Error(n(387));y=u.pendingProps,C=u.memoizedState,_=C.element,JE(a,u),Dp(u,y,null,g);var O=u.memoizedState;if(y=O.element,C.isDehydrated)if(C={element:y,isDehydrated:!1,cache:O.cache,pendingSuspenseBoundaries:O.pendingSuspenseBoundaries,transitions:O.transitions},u.updateQueue.baseState=C,u.memoizedState=C,u.flags&256){_=uu(Error(n(423)),u),u=$C(a,u,y,g,_);break e}else if(y!==_){_=uu(Error(n(424)),u),u=$C(a,u,y,g,_);break e}else for(Gi=Ca(u.stateNode.containerInfo.firstChild),Hi=u,Ln=!0,Fs=null,g=oC(u,null,y,g),u.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling;else{if(su(),y===_){u=Uo(a,u,g);break e}di(a,u,y,g)}u=u.child}return u;case 5:return aC(u),a===null&&Dy(u),y=u.type,_=u.pendingProps,C=a!==null?a.memoizedProps:null,O=_.children,Ry(y,_)?O=null:C!==null&&Ry(y,C)&&(u.flags|=32),BC(a,u),di(a,u,O,g),u.child;case 6:return a===null&&Dy(u),null;case 13:return zC(a,u,g);case 4:return Yy(u,u.stateNode.containerInfo),y=u.pendingProps,a===null?u.child=lu(u,null,y,g):di(a,u,y,g),u.child;case 11:return y=u.type,_=u.pendingProps,_=u.elementType===y?_:$s(y,_),OC(a,u,y,_,g);case 7:return di(a,u,u.pendingProps,g),u.child;case 8:return di(a,u,u.pendingProps.children,g),u.child;case 12:return di(a,u,u.pendingProps.children,g),u.child;case 10:e:{if(y=u.type._context,_=u.pendingProps,C=u.memoizedProps,O=_.value,An(Lp,y._currentValue),y._currentValue=O,C!==null)if(Ds(C.value,O)){if(C.children===_.children&&!wi.current){u=Uo(a,u,g);break e}}else for(C=u.child,C!==null&&(C.return=u);C!==null;){var X=C.dependencies;if(X!==null){O=C.child;for(var ee=X.firstContext;ee!==null;){if(ee.context===y){if(C.tag===1){ee=zo(-1,g&-g),ee.tag=2;var he=C.updateQueue;if(he!==null){he=he.shared;var Se=he.pending;Se===null?ee.next=ee:(ee.next=Se.next,Se.next=ee),he.pending=ee}}C.lanes|=g,ee=C.alternate,ee!==null&&(ee.lanes|=g),Hy(C.return,g,u),X.lanes|=g;break}ee=ee.next}}else if(C.tag===10)O=C.type===u.type?null:C.child;else if(C.tag===18){if(O=C.return,O===null)throw Error(n(341));O.lanes|=g,X=O.alternate,X!==null&&(X.lanes|=g),Hy(O,g,u),O=C.sibling}else O=C.child;if(O!==null)O.return=C;else for(O=C;O!==null;){if(O===u){O=null;break}if(C=O.sibling,C!==null){C.return=O.return,O=C;break}O=O.return}C=O}di(a,u,_.children,g),u=u.child}return u;case 9:return _=u.type,y=u.pendingProps.children,au(u,g),_=us(_),y=y(_),u.flags|=1,di(a,u,y,g),u.child;case 14:return y=u.type,_=$s(y,u.pendingProps),_=$s(y.type,_),VC(a,u,y,_,g);case 15:return LC(a,u,u.type,u.pendingProps,g);case 17:return y=u.type,_=u.pendingProps,_=u.elementType===y?_:$s(y,_),Yp(a,u),u.tag=1,Ei(y)?(a=!0,Pp(u)):a=!1,au(u,g),nC(u,y,_),Ky(u,y,_,g),uA(null,u,y,!0,a,g);case 19:return HC(a,u,g);case 22:return NC(a,u,g)}throw Error(n(156,u.tag))};function pk(a,u){return ba(a,u)}function fD(a,u,g,y){this.tag=a,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hs(a,u,g,y){return new fD(a,u,g,y)}function RA(a){return a=a.prototype,!(!a||!a.isReactComponent)}function hD(a){if(typeof a=="function")return RA(a)?1:0;if(a!=null){if(a=a.$$typeof,a===H)return 11;if(a===D)return 14}return 2}function Na(a,u){var g=a.alternate;return g===null?(g=hs(a.tag,u,a.key,a.mode),g.elementType=a.elementType,g.type=a.type,g.stateNode=a.stateNode,g.alternate=a,a.alternate=g):(g.pendingProps=u,g.type=a.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=a.flags&14680064,g.childLanes=a.childLanes,g.lanes=a.lanes,g.child=a.child,g.memoizedProps=a.memoizedProps,g.memoizedState=a.memoizedState,g.updateQueue=a.updateQueue,u=a.dependencies,g.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},g.sibling=a.sibling,g.index=a.index,g.ref=a.ref,g}function og(a,u,g,y,_,C){var O=2;if(y=a,typeof a=="function")RA(a)&&(O=1);else if(typeof a=="string")O=5;else e:switch(a){case j:return Vl(g.children,_,C,u);case V:O=8,_|=8;break;case N:return a=hs(12,g,u,_|2),a.elementType=N,a.lanes=C,a;case F:return a=hs(13,g,u,_),a.elementType=F,a.lanes=C,a;case U:return a=hs(19,g,u,_),a.elementType=U,a.lanes=C,a;case Y:return ag(g,_,C,u);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case k:O=10;break e;case B:O=9;break e;case H:O=11;break e;case D:O=14;break e;case L:O=16,y=null;break e}throw Error(n(130,a==null?a:typeof a,""))}return u=hs(O,g,u,_),u.elementType=a,u.type=y,u.lanes=C,u}function Vl(a,u,g,y){return a=hs(7,a,y,u),a.lanes=g,a}function ag(a,u,g,y){return a=hs(22,a,y,u),a.elementType=Y,a.lanes=g,a.stateNode={isHidden:!1},a}function PA(a,u,g){return a=hs(6,a,null,u),a.lanes=g,a}function MA(a,u,g){return u=hs(4,a.children!==null?a.children:[],a.key,u),u.lanes=g,u.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},u}function pD(a,u,g,y,_){this.tag=u,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=We(0),this.expirationTimes=We(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=We(0),this.identifierPrefix=y,this.onRecoverableError=_,this.mutableSourceEagerHydrationData=null}function jA(a,u,g,y,_,C,O,X,ee){return a=new pD(a,u,g,X,ee),u===1?(u=1,C===!0&&(u|=8)):u=0,C=hs(3,null,null,u),a.current=C,C.stateNode=a,C.memoizedState={element:y,isDehydrated:g,cache:null,transitions:null,pendingSuspenseBoundaries:null},qy(C),a}function gD(a,u,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:R,key:y==null?null:""+y,children:a,containerInfo:u,implementation:g}}function gk(a){if(!a)return Ta;a=a._reactInternals;e:{if(as(a)!==a||a.tag!==1)throw Error(n(170));var u=a;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(Ei(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(n(171))}if(a.tag===1){var g=a.type;if(Ei(g))return zE(a,g,u)}return u}function mk(a,u,g,y,_,C,O,X,ee){return a=jA(g,y,!0,a,_,C,O,X,ee),a.context=gk(null),g=a.current,y=fi(),_=Va(g),C=zo(y,_),C.callback=u??null,Pa(g,C,_),a.current.lanes=_,St(a,_,y),Ti(a,y),a}function lg(a,u,g,y){var _=u.current,C=fi(),O=Va(_);return g=gk(g),u.context===null?u.context=g:u.pendingContext=g,u=zo(C,O),u.payload={element:a},y=y===void 0?null:y,y!==null&&(u.callback=y),a=Pa(_,u,O),a!==null&&(Hs(a,_,O,C),Bp(a,_,O)),O}function cg(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function vk(a,u){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var g=a.retryLane;a.retryLane=g!==0&&g<u?g:u}}function OA(a,u){vk(a,u),(a=a.alternate)&&vk(a,u)}function mD(){return null}var yk=typeof reportError=="function"?reportError:function(a){console.error(a)};function VA(a){this._internalRoot=a}ug.prototype.render=VA.prototype.render=function(a){var u=this._internalRoot;if(u===null)throw Error(n(409));lg(a,u,null,null)},ug.prototype.unmount=VA.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var u=a.containerInfo;Ml(function(){lg(null,a,null,null)}),u[No]=null}};function ug(a){this._internalRoot=a}ug.prototype.unstable_scheduleHydration=function(a){if(a){var u=hp();a={blockedOn:null,target:a,priority:u};for(var g=0;g<xa.length&&u!==0&&u<xa[g].priority;g++);xa.splice(g,0,a),g===0&&rE(a)}};function LA(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function dg(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function Ak(){}function vD(a,u,g,y,_){if(_){if(typeof y=="function"){var C=y;y=function(){var he=cg(O);C.call(he)}}var O=mk(u,y,a,0,null,!1,!1,"",Ak);return a._reactRootContainer=O,a[No]=O.current,ef(a.nodeType===8?a.parentNode:a),Ml(),O}for(;_=a.lastChild;)a.removeChild(_);if(typeof y=="function"){var X=y;y=function(){var he=cg(ee);X.call(he)}}var ee=jA(a,0,!1,null,null,!1,!1,"",Ak);return a._reactRootContainer=ee,a[No]=ee.current,ef(a.nodeType===8?a.parentNode:a),Ml(function(){lg(u,ee,g,y)}),ee}function fg(a,u,g,y,_){var C=g._reactRootContainer;if(C){var O=C;if(typeof _=="function"){var X=_;_=function(){var ee=cg(O);X.call(ee)}}lg(u,O,a,_)}else O=vD(g,u,a,_,y);return cg(O)}ui=function(a){switch(a.tag){case 3:var u=a.stateNode;if(u.current.memoizedState.isDehydrated){var g=te(u.pendingLanes);g!==0&&(Gt(u,g|1),Ti(u,fn()),!(qt&6)&&(hu=fn()+500,Ia()))}break;case 13:Ml(function(){var y=$o(a,1);if(y!==null){var _=fi();Hs(y,a,1,_)}}),OA(a,1)}},Lo=function(a){if(a.tag===13){var u=$o(a,134217728);if(u!==null){var g=fi();Hs(u,a,134217728,g)}OA(a,134217728)}},Hc=function(a){if(a.tag===13){var u=Va(a),g=$o(a,u);if(g!==null){var y=fi();Hs(g,a,u,y)}OA(a,u)}},hp=function(){return ft},Gc=function(a,u){var g=ft;try{return ft=a,u()}finally{ft=g}},En=function(a,u,g){switch(u){case"input":if(vt(a,g),u=g.name,g.type==="radio"&&u!=null){for(g=a;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),u=0;u<g.length;u++){var y=g[u];if(y!==a&&y.form===a.form){var _=Ip(y);if(!_)throw Error(n(90));Ze(y),vt(y,_)}}}break;case"textarea":jt(a,g);break;case"select":u=g.value,u!=null&&Wt(a,!!g.multiple,u,!1)}},Et=kA,nr=Ml;var yD={usingClientEntryPoint:!1,Events:[rf,eu,Ip,On,rt,kA]},yf={findFiberByHostInstance:wl,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},AD={bundleType:yf.bundleType,version:yf.version,rendererPackageName:yf.rendererPackageName,rendererConfig:yf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:T.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=en(a),a===null?null:a.stateNode},findFiberByHostInstance:yf.findFiberByHostInstance||mD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hg.isDisabled&&hg.supportsFiber)try{Uc=hg.inject(AD),xi=hg}catch{}}return Ii.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yD,Ii.createPortal=function(a,u){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!LA(u))throw Error(n(200));return gD(a,u,null,g)},Ii.createRoot=function(a,u){if(!LA(a))throw Error(n(299));var g=!1,y="",_=yk;return u!=null&&(u.unstable_strictMode===!0&&(g=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onRecoverableError!==void 0&&(_=u.onRecoverableError)),u=jA(a,1,!1,null,null,g,!1,y,_),a[No]=u.current,ef(a.nodeType===8?a.parentNode:a),new VA(u)},Ii.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var u=a._reactInternals;if(u===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=en(u),a=a===null?null:a.stateNode,a},Ii.flushSync=function(a){return Ml(a)},Ii.hydrate=function(a,u,g){if(!dg(u))throw Error(n(200));return fg(null,a,u,!0,g)},Ii.hydrateRoot=function(a,u,g){if(!LA(a))throw Error(n(405));var y=g!=null&&g.hydratedSources||null,_=!1,C="",O=yk;if(g!=null&&(g.unstable_strictMode===!0&&(_=!0),g.identifierPrefix!==void 0&&(C=g.identifierPrefix),g.onRecoverableError!==void 0&&(O=g.onRecoverableError)),u=mk(u,null,a,1,g??null,_,!1,C,O),a[No]=u.current,ef(a),y)for(a=0;a<y.length;a++)g=y[a],_=g._getVersion,_=_(g._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[g,_]:u.mutableSourceEagerHydrationData.push(g,_);return new ug(u)},Ii.render=function(a,u,g){if(!dg(u))throw Error(n(200));return fg(null,a,u,!1,g)},Ii.unmountComponentAtNode=function(a){if(!dg(a))throw Error(n(40));return a._reactRootContainer?(Ml(function(){fg(null,null,a,!1,function(){a._reactRootContainer=null,a[No]=null})}),!0):!1},Ii.unstable_batchedUpdates=kA,Ii.unstable_renderSubtreeIntoContainer=function(a,u,g,y){if(!dg(g))throw Error(n(200));if(a==null||a._reactInternals===void 0)throw Error(n(38));return fg(a,u,g,!1,y)},Ii.version="18.2.0-next-9e3b772b8-20220608",Ii}var ZR;function EL(){if(ZR)return O1.exports;ZR=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),O1.exports=rre(),O1.exports}var jd=EL();const Yg=Lr(jd),eP={disabled:!1},$0=Xe.createContext(null);var ire=function(t){return t.scrollTop},Kf="unmounted",ql="exited",Wl="entering",Tu="entered",lS="exiting",ya=function(e){wL(t,e);function t(r,i){var s;s=e.call(this,r,i)||this;var o=i,l=o&&!o.isMounting?r.enter:r.appear,d;return s.appearStatus=null,r.in?l?(d=ql,s.appearStatus=Wl):d=Tu:r.unmountOnExit||r.mountOnEnter?d=Kf:d=ql,s.state={status:d},s.nextCallback=null,s}t.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===Kf?{status:ql}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==Wl&&o!==Tu&&(s=Wl):(o===Wl||o===Tu)&&(s=lS)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,l;return s=o=l=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,l=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:l}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===Wl){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:Yg.findDOMNode(this);o&&ire(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===ql&&this.setState({status:Kf})},n.performEnter=function(i){var s=this,o=this.props.enter,l=this.context?this.context.isMounting:i,d=this.props.nodeRef?[l]:[Yg.findDOMNode(this),l],c=d[0],h=d[1],f=this.getTimeouts(),m=l?f.appear:f.enter;if(!i&&!o||eP.disabled){this.safeSetState({status:Tu},function(){s.props.onEntered(c)});return}this.props.onEnter(c,h),this.safeSetState({status:Wl},function(){s.props.onEntering(c,h),s.onTransitionEnd(m,function(){s.safeSetState({status:Tu},function(){s.props.onEntered(c,h)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),l=this.props.nodeRef?void 0:Yg.findDOMNode(this);if(!s||eP.disabled){this.safeSetState({status:ql},function(){i.props.onExited(l)});return}this.props.onExit(l),this.safeSetState({status:lS},function(){i.props.onExiting(l),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:ql},function(){i.props.onExited(l)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(l){o&&(o=!1,s.nextCallback=null,i(l))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:Yg.findDOMNode(this),l=i==null&&!this.props.addEndListener;if(!o||l){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var d=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],c=d[0],h=d[1];this.props.addEndListener(c,h)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===Kf)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var l=xL(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Xe.createElement($0.Provider,{value:null},typeof o=="function"?o(i,l):Xe.cloneElement(Xe.Children.only(o),l))},t}(Xe.Component);ya.contextType=$0;ya.propTypes={};function Su(){}ya.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Su,onEntering:Su,onEntered:Su,onExit:Su,onExiting:Su,onExited:Su};ya.UNMOUNTED=Kf;ya.EXITED=ql;ya.ENTERING=Wl;ya.ENTERED=Tu;ya.EXITING=lS;function sre(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yw(e,t){var n=function(s){return t&&S.isValidElement(s)?t(s):s},r=Object.create(null);return e&&S.Children.map(e,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function ore(e,t){e=e||{},t=t||{};function n(h){return h in t?t[h]:e[h]}var r=Object.create(null),i=[];for(var s in e)s in t?i.length&&(r[s]=i,i=[]):i.push(s);var o,l={};for(var d in t){if(r[d])for(o=0;o<r[d].length;o++){var c=r[d][o];l[r[d][o]]=n(c)}l[d]=n(d)}for(o=0;o<i.length;o++)l[i[o]]=n(i[o]);return l}function tc(e,t,n){return n[t]!=null?n[t]:e.props[t]}function are(e,t){return yw(e.children,function(n){return S.cloneElement(n,{onExited:t.bind(null,n),in:!0,appear:tc(n,"appear",e),enter:tc(n,"enter",e),exit:tc(n,"exit",e)})})}function lre(e,t,n){var r=yw(e.children),i=ore(t,r);return Object.keys(i).forEach(function(s){var o=i[s];if(S.isValidElement(o)){var l=s in t,d=s in r,c=t[s],h=S.isValidElement(c)&&!c.props.in;d&&(!l||h)?i[s]=S.cloneElement(o,{onExited:n.bind(null,o),in:!0,exit:tc(o,"exit",e),enter:tc(o,"enter",e)}):!d&&l&&!h?i[s]=S.cloneElement(o,{in:!1}):d&&l&&S.isValidElement(c)&&(i[s]=S.cloneElement(o,{onExited:n.bind(null,o),in:c.props.in,exit:tc(o,"exit",e),enter:tc(o,"enter",e)}))}}),i}var cre=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},ure={component:"div",childFactory:function(t){return t}},Aw=function(e){wL(t,e);function t(r,i){var s;s=e.call(this,r,i)||this;var o=s.handleExited.bind(sre(s));return s.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},s}var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(i,s){var o=s.children,l=s.handleExited,d=s.firstRender;return{children:d?are(i,l):lre(i,o,l),firstRender:!1}},n.handleExited=function(i,s){var o=yw(this.props.children);i.key in o||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(l){var d=I0({},l.children);return delete d[i.key],{children:d}}))},n.render=function(){var i=this.props,s=i.component,o=i.childFactory,l=xL(i,["component","childFactory"]),d=this.state.contextValue,c=cre(this.state.children).map(o);return delete l.appear,delete l.enter,delete l.exit,s===null?Xe.createElement($0.Provider,{value:d},c):Xe.createElement($0.Provider,{value:d},Xe.createElement(s,l,c))},t}(Xe.Component);Aw.propTypes={};Aw.defaultProps=ure;function dre(e){const{className:t,classes:n,pulsate:r=!1,rippleX:i,rippleY:s,rippleSize:o,in:l,onExited:d,timeout:c}=e,[h,f]=S.useState(!1),m=rn(t,n.ripple,n.rippleVisible,r&&n.ripplePulsate),v={width:o,height:o,top:-(o/2)+s,left:-(o/2)+i},A=rn(n.child,h&&n.childLeaving,r&&n.childPulsate);return!l&&!h&&f(!0),S.useEffect(()=>{if(!l&&d!=null){const b=setTimeout(d,c);return()=>{clearTimeout(b)}}},[d,l,c]),p.jsx("span",{className:m,style:v,children:p.jsx("span",{className:A})})}const ys=li("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),cS=550,fre=80,hre=Bc`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,pre=Bc`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,gre=Bc`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,mre=Mn("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),vre=Mn(dre,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${ys.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${hre};
    animation-duration: ${cS}ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
  }

  &.${ys.ripplePulsate} {
    animation-duration: ${({theme:e})=>e.transitions.duration.shorter}ms;
  }

  & .${ys.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${ys.childLeaving} {
    opacity: 0;
    animation-name: ${pre};
    animation-duration: ${cS}ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
  }

  & .${ys.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${gre};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,yre=S.forwardRef(function(t,n){const r=ci({props:t,name:"MuiTouchRipple"}),{center:i=!1,classes:s={},className:o,...l}=r,[d,c]=S.useState([]),h=S.useRef(0),f=S.useRef(null);S.useEffect(()=>{f.current&&(f.current(),f.current=null)},[d]);const m=S.useRef(!1),v=gee(),A=S.useRef(null),b=S.useRef(null),x=S.useCallback(T=>{const{pulsate:w,rippleX:R,rippleY:j,rippleSize:V,cb:N}=T;c(k=>[...k,p.jsx(vre,{classes:{ripple:rn(s.ripple,ys.ripple),rippleVisible:rn(s.rippleVisible,ys.rippleVisible),ripplePulsate:rn(s.ripplePulsate,ys.ripplePulsate),child:rn(s.child,ys.child),childLeaving:rn(s.childLeaving,ys.childLeaving),childPulsate:rn(s.childPulsate,ys.childPulsate)},timeout:cS,pulsate:w,rippleX:R,rippleY:j,rippleSize:V},h.current)]),h.current+=1,f.current=N},[s]),E=S.useCallback((T={},w={},R=()=>{})=>{const{pulsate:j=!1,center:V=i||w.pulsate,fakeElement:N=!1}=w;if((T==null?void 0:T.type)==="mousedown"&&m.current){m.current=!1;return}(T==null?void 0:T.type)==="touchstart"&&(m.current=!0);const k=N?null:b.current,B=k?k.getBoundingClientRect():{width:0,height:0,left:0,top:0};let H,F,U;if(V||T===void 0||T.clientX===0&&T.clientY===0||!T.clientX&&!T.touches)H=Math.round(B.width/2),F=Math.round(B.height/2);else{const{clientX:D,clientY:L}=T.touches&&T.touches.length>0?T.touches[0]:T;H=Math.round(D-B.left),F=Math.round(L-B.top)}if(V)U=Math.sqrt((2*B.width**2+B.height**2)/3),U%2===0&&(U+=1);else{const D=Math.max(Math.abs((k?k.clientWidth:0)-H),H)*2+2,L=Math.max(Math.abs((k?k.clientHeight:0)-F),F)*2+2;U=Math.sqrt(D**2+L**2)}T!=null&&T.touches?A.current===null&&(A.current=()=>{x({pulsate:j,rippleX:H,rippleY:F,rippleSize:U,cb:R})},v.start(fre,()=>{A.current&&(A.current(),A.current=null)})):x({pulsate:j,rippleX:H,rippleY:F,rippleSize:U,cb:R})},[i,x,v]),I=S.useCallback(()=>{E({},{pulsate:!0})},[E]),P=S.useCallback((T,w)=>{if(v.clear(),(T==null?void 0:T.type)==="touchend"&&A.current){A.current(),A.current=null,v.start(0,()=>{P(T,w)});return}A.current=null,c(R=>R.length>0?R.slice(1):R),f.current=w},[v]);return S.useImperativeHandle(n,()=>({pulsate:I,start:E,stop:P}),[I,E,P]),p.jsx(mre,{className:rn(ys.root,s.root,o),ref:b,...l,children:p.jsx(Aw,{component:null,exit:!0,children:d})})});function Are(e){return ai("MuiButtonBase",e)}const bre=li("MuiButtonBase",["root","disabled","focusVisible"]),_re=e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:r,classes:i}=e,o=_i({root:["root",t&&"disabled",n&&"focusVisible"]},Are,i);return n&&r&&(o.root+=` ${r}`),o},Sre=Mn("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${bre.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),CL=S.forwardRef(function(t,n){const r=ci({props:t,name:"MuiButtonBase"}),{action:i,centerRipple:s=!1,children:o,className:l,component:d="button",disabled:c=!1,disableRipple:h=!1,disableTouchRipple:f=!1,focusRipple:m=!1,focusVisibleClassName:v,LinkComponent:A="a",onBlur:b,onClick:x,onContextMenu:E,onDragLeave:I,onFocus:P,onFocusVisible:T,onKeyDown:w,onKeyUp:R,onMouseDown:j,onMouseLeave:V,onMouseUp:N,onTouchEnd:k,onTouchMove:B,onTouchStart:H,tabIndex:F=0,TouchRippleProps:U,touchRippleRef:D,type:L,...Y}=r,q=S.useRef(null),Q=Zne(),M=ll(Q.ref,D),[z,J]=S.useState(!1);c&&z&&J(!1),S.useImperativeHandle(i,()=>({focusVisible:()=>{J(!0),q.current.focus()}}),[]);const ae=Q.shouldMount&&!h&&!c;S.useEffect(()=>{z&&m&&!h&&Q.pulsate()},[h,m,z,Q]);function W(Ge,jt,Xt=f){return Nu(Zt=>(jt&&jt(Zt),Xt||Q[Ge](Zt),!0))}const ye=W("start",j),le=W("stop",E),me=W("stop",I),xe=W("stop",N),Re=W("stop",Ge=>{z&&Ge.preventDefault(),V&&V(Ge)}),be=W("start",H),Oe=W("stop",k),Ze=W("stop",B),Ue=W("stop",Ge=>{IR(Ge.target)||J(!1),b&&b(Ge)},!1),Le=Nu(Ge=>{q.current||(q.current=Ge.currentTarget),IR(Ge.target)&&(J(!0),T&&T(Ge)),P&&P(Ge)}),je=()=>{const Ge=q.current;return d&&d!=="button"&&!(Ge.tagName==="A"&&Ge.href)},mt=Nu(Ge=>{m&&!Ge.repeat&&z&&Ge.key===" "&&Q.stop(Ge,()=>{Q.start(Ge)}),Ge.target===Ge.currentTarget&&je()&&Ge.key===" "&&Ge.preventDefault(),w&&w(Ge),Ge.target===Ge.currentTarget&&je()&&Ge.key==="Enter"&&!c&&(Ge.preventDefault(),x&&x(Ge))}),vt=Nu(Ge=>{m&&Ge.key===" "&&z&&!Ge.defaultPrevented&&Q.stop(Ge,()=>{Q.pulsate(Ge)}),R&&R(Ge),x&&Ge.target===Ge.currentTarget&&je()&&Ge.key===" "&&!Ge.defaultPrevented&&x(Ge)});let De=d;De==="button"&&(Y.href||Y.to)&&(De=A);const ht={};De==="button"?(ht.type=L===void 0?"button":L,ht.disabled=c):(!Y.href&&!Y.to&&(ht.role="button"),c&&(ht["aria-disabled"]=c));const Ut=ll(n,q),Wt={...r,centerRipple:s,component:d,disabled:c,disableRipple:h,disableTouchRipple:f,focusRipple:m,tabIndex:F,focusVisible:z},Ht=_re(Wt);return p.jsxs(Sre,{as:De,className:rn(Ht.root,l),ownerState:Wt,onBlur:Ue,onClick:x,onContextMenu:le,onFocus:Le,onKeyDown:mt,onKeyUp:vt,onMouseDown:ye,onMouseLeave:Re,onMouseUp:xe,onDragLeave:me,onTouchEnd:Oe,onTouchMove:Ze,onTouchStart:be,ref:Ut,tabIndex:c?-1:F,type:L,...ht,...Y,children:[o,ae?p.jsx(yre,{ref:M,center:s,...U}):null]})});function xre(e){return ai("MuiIconButton",e)}const wre=li("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),Ere=e=>{const{classes:t,disabled:n,color:r,edge:i,size:s}=e,o={root:["root",n&&"disabled",r!=="default"&&`color${Bt(r)}`,i&&`edge${Bt(i)}`,`size${Bt(s)}`]};return _i(o,xre,t)},Cre=Mn(CL,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="default"&&t[`color${Bt(n.color)}`],n.edge&&t[`edge${Bt(n.edge)}`],t[`size${Bt(n.size)}`]]}})(Os(({theme:e})=>({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),variants:[{props:t=>!t.disableRipple,style:{"--IconButton-hoverBg":e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Js(e.palette.action.active,e.palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),Os(({theme:e})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(e.palette).filter(Vh()).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}})),...Object.entries(e.palette).filter(Vh()).map(([t])=>({props:{color:t},style:{"--IconButton-hoverBg":e.vars?`rgba(${(e.vars||e).palette[t].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Js((e.vars||e).palette[t].main,e.palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:e.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:e.typography.pxToRem(28)}}],[`&.${wre.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled}}))),qv=S.forwardRef(function(t,n){const r=ci({props:t,name:"MuiIconButton"}),{edge:i=!1,children:s,className:o,color:l="default",disabled:d=!1,disableFocusRipple:c=!1,size:h="medium",...f}=r,m={...r,edge:i,color:l,disabled:d,disableFocusRipple:c,size:h},v=Ere(m);return p.jsx(Cre,{className:rn(v.root,o),centerRipple:!0,focusRipple:!c,disabled:d,ref:n,...f,ownerState:m,children:s})}),gd=Math.min,uc=Math.max,z0=Math.round,Qg=Math.floor,ul=e=>({x:e,y:e}),kre={left:"right",right:"left",bottom:"top",top:"bottom"},Tre={start:"end",end:"start"};function uS(e,t,n){return uc(e,gd(t,n))}function np(e,t){return typeof e=="function"?e(t):e}function kc(e){return e.split("-")[0]}function rp(e){return e.split("-")[1]}function kL(e){return e==="x"?"y":"x"}function bw(e){return e==="y"?"height":"width"}function md(e){return["top","bottom"].includes(kc(e))?"y":"x"}function _w(e){return kL(md(e))}function Ire(e,t,n){n===void 0&&(n=!1);const r=rp(e),i=_w(e),s=bw(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(o=U0(o)),[o,U0(o)]}function Rre(e){const t=U0(e);return[dS(e),t,dS(t)]}function dS(e){return e.replace(/start|end/g,t=>Tre[t])}function Pre(e,t,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?s:o;default:return[]}}function Mre(e,t,n,r){const i=rp(e);let s=Pre(kc(e),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),t&&(s=s.concat(s.map(dS)))),s}function U0(e){return e.replace(/left|right|bottom|top/g,t=>kre[t])}function jre(e){return{top:0,right:0,bottom:0,left:0,...e}}function TL(e){return typeof e!="number"?jre(e):{top:e,right:e,bottom:e,left:e}}function H0(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function tP(e,t,n){let{reference:r,floating:i}=e;const s=md(t),o=_w(t),l=bw(o),d=kc(t),c=s==="y",h=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,m=r[l]/2-i[l]/2;let v;switch(d){case"top":v={x:h,y:r.y-i.height};break;case"bottom":v={x:h,y:r.y+r.height};break;case"right":v={x:r.x+r.width,y:f};break;case"left":v={x:r.x-i.width,y:f};break;default:v={x:r.x,y:r.y}}switch(rp(t)){case"start":v[o]-=m*(n&&c?-1:1);break;case"end":v[o]+=m*(n&&c?-1:1);break}return v}const Ore=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,l=s.filter(Boolean),d=await(o.isRTL==null?void 0:o.isRTL(t));let c=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:h,y:f}=tP(c,r,d),m=r,v={},A=0;for(let b=0;b<l.length;b++){const{name:x,fn:E}=l[b],{x:I,y:P,data:T,reset:w}=await E({x:h,y:f,initialPlacement:r,placement:m,strategy:i,middlewareData:v,rects:c,platform:o,elements:{reference:e,floating:t}});h=I??h,f=P??f,v={...v,[x]:{...v[x],...T}},w&&A<=50&&(A++,typeof w=="object"&&(w.placement&&(m=w.placement),w.rects&&(c=w.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):w.rects),{x:h,y:f}=tP(c,m,d)),b=-1)}return{x:h,y:f,placement:m,strategy:i,middlewareData:v}};async function IL(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:s,rects:o,elements:l,strategy:d}=e,{boundary:c="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:m=!1,padding:v=0}=np(t,e),A=TL(v),x=l[m?f==="floating"?"reference":"floating":f],E=H0(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(x)))==null||n?x:x.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:c,rootBoundary:h,strategy:d})),I=f==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,P=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),T=await(s.isElement==null?void 0:s.isElement(P))?await(s.getScale==null?void 0:s.getScale(P))||{x:1,y:1}:{x:1,y:1},w=H0(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:I,offsetParent:P,strategy:d}):I);return{top:(E.top-w.top+A.top)/T.y,bottom:(w.bottom-E.bottom+A.bottom)/T.y,left:(E.left-w.left+A.left)/T.x,right:(w.right-E.right+A.right)/T.x}}const Vre=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:s,platform:o,elements:l,middlewareData:d}=t,{element:c,padding:h=0}=np(e,t)||{};if(c==null)return{};const f=TL(h),m={x:n,y:r},v=_w(i),A=bw(v),b=await o.getDimensions(c),x=v==="y",E=x?"top":"left",I=x?"bottom":"right",P=x?"clientHeight":"clientWidth",T=s.reference[A]+s.reference[v]-m[v]-s.floating[A],w=m[v]-s.reference[v],R=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let j=R?R[P]:0;(!j||!await(o.isElement==null?void 0:o.isElement(R)))&&(j=l.floating[P]||s.floating[A]);const V=T/2-w/2,N=j/2-b[A]/2-1,k=gd(f[E],N),B=gd(f[I],N),H=k,F=j-b[A]-B,U=j/2-b[A]/2+V,D=uS(H,U,F),L=!d.arrow&&rp(i)!=null&&U!==D&&s.reference[A]/2-(U<H?k:B)-b[A]/2<0,Y=L?U<H?U-H:U-F:0;return{[v]:m[v]+Y,data:{[v]:D,centerOffset:U-D-Y,...L&&{alignmentOffset:Y}},reset:L}}}),Lre=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:l,platform:d,elements:c}=t,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:A="none",flipAlignment:b=!0,...x}=np(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const E=kc(i),I=md(l),P=kc(l)===l,T=await(d.isRTL==null?void 0:d.isRTL(c.floating)),w=m||(P||!b?[U0(l)]:Rre(l)),R=A!=="none";!m&&R&&w.push(...Mre(l,b,A,T));const j=[l,...w],V=await IL(t,x),N=[];let k=((r=s.flip)==null?void 0:r.overflows)||[];if(h&&N.push(V[E]),f){const U=Ire(i,o,T);N.push(V[U[0]],V[U[1]])}if(k=[...k,{placement:i,overflows:N}],!N.every(U=>U<=0)){var B,H;const U=(((B=s.flip)==null?void 0:B.index)||0)+1,D=j[U];if(D)return{data:{index:U,overflows:k},reset:{placement:D}};let L=(H=k.filter(Y=>Y.overflows[0]<=0).sort((Y,q)=>Y.overflows[1]-q.overflows[1])[0])==null?void 0:H.placement;if(!L)switch(v){case"bestFit":{var F;const Y=(F=k.filter(q=>{if(R){const Q=md(q.placement);return Q===I||Q==="y"}return!0}).map(q=>[q.placement,q.overflows.filter(Q=>Q>0).reduce((Q,M)=>Q+M,0)]).sort((q,Q)=>q[1]-Q[1])[0])==null?void 0:F[0];Y&&(L=Y);break}case"initialPlacement":L=l;break}if(i!==L)return{reset:{placement:L}}}return{}}}};async function Nre(e,t){const{placement:n,platform:r,elements:i}=e,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=kc(n),l=rp(n),d=md(n)==="y",c=["left","top"].includes(o)?-1:1,h=s&&d?-1:1,f=np(t,e);let{mainAxis:m,crossAxis:v,alignmentAxis:A}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...f};return l&&typeof A=="number"&&(v=l==="end"?A*-1:A),d?{x:v*h,y:m*c}:{x:m*c,y:v*h}}const Bre=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:s,placement:o,middlewareData:l}=t,d=await Nre(t,e);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:i+d.x,y:s+d.y,data:{...d,placement:o}}}}},Dre=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:s=!0,crossAxis:o=!1,limiter:l={fn:x=>{let{x:E,y:I}=x;return{x:E,y:I}}},...d}=np(e,t),c={x:n,y:r},h=await IL(t,d),f=md(kc(i)),m=kL(f);let v=c[m],A=c[f];if(s){const x=m==="y"?"top":"left",E=m==="y"?"bottom":"right",I=v+h[x],P=v-h[E];v=uS(I,v,P)}if(o){const x=f==="y"?"top":"left",E=f==="y"?"bottom":"right",I=A+h[x],P=A-h[E];A=uS(I,A,P)}const b=l.fn({...t,[m]:v,[f]:A});return{...b,data:{x:b.x-n,y:b.y-r}}}}};function Od(e){return RL(e)?(e.nodeName||"").toLowerCase():"#document"}function ns(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Aa(e){var t;return(t=(RL(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function RL(e){return e instanceof Node||e instanceof ns(e).Node}function Po(e){return e instanceof Element||e instanceof ns(e).Element}function Mo(e){return e instanceof HTMLElement||e instanceof ns(e).HTMLElement}function nP(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ns(e).ShadowRoot}function ip(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=so(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function Fre(e){return["table","td","th"].includes(Od(e))}function Wv(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Sw(e){const t=xw(),n=so(e);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function $re(e){let t=dl(e);for(;Mo(t)&&!vd(t);){if(Wv(t))return null;if(Sw(t))return t;t=dl(t)}return null}function xw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function vd(e){return["html","body","#document"].includes(Od(e))}function so(e){return ns(e).getComputedStyle(e)}function Kv(e){return Po(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function dl(e){if(Od(e)==="html")return e;const t=e.assignedSlot||e.parentNode||nP(e)&&e.host||Aa(e);return nP(t)?t.host:t}function PL(e){const t=dl(e);return vd(t)?e.ownerDocument?e.ownerDocument.body:e.body:Mo(t)&&ip(t)?t:PL(t)}function Lh(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=PL(e),s=i===((r=e.ownerDocument)==null?void 0:r.body),o=ns(i);return s?t.concat(o,o.visualViewport||[],ip(i)?i:[],o.frameElement&&n?Lh(o.frameElement):[]):t.concat(i,Lh(i,[],n))}function ML(e){const t=so(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Mo(e),s=i?e.offsetWidth:n,o=i?e.offsetHeight:r,l=z0(n)!==s||z0(r)!==o;return l&&(n=s,r=o),{width:n,height:r,$:l}}function ww(e){return Po(e)?e:e.contextElement}function Xu(e){const t=ww(e);if(!Mo(t))return ul(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:s}=ML(t);let o=(s?z0(n.width):n.width)/r,l=(s?z0(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const zre=ul(0);function jL(e){const t=ns(e);return!xw()||!t.visualViewport?zre:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Ure(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==ns(e)?!1:t}function Tc(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),s=ww(e);let o=ul(1);t&&(r?Po(r)&&(o=Xu(r)):o=Xu(e));const l=Ure(s,n,r)?jL(s):ul(0);let d=(i.left+l.x)/o.x,c=(i.top+l.y)/o.y,h=i.width/o.x,f=i.height/o.y;if(s){const m=ns(s),v=r&&Po(r)?ns(r):r;let A=m,b=A.frameElement;for(;b&&r&&v!==A;){const x=Xu(b),E=b.getBoundingClientRect(),I=so(b),P=E.left+(b.clientLeft+parseFloat(I.paddingLeft))*x.x,T=E.top+(b.clientTop+parseFloat(I.paddingTop))*x.y;d*=x.x,c*=x.y,h*=x.x,f*=x.y,d+=P,c+=T,A=ns(b),b=A.frameElement}}return H0({width:h,height:f,x:d,y:c})}function Hre(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const s=i==="fixed",o=Aa(r),l=t?Wv(t.floating):!1;if(r===o||l&&s)return n;let d={scrollLeft:0,scrollTop:0},c=ul(1);const h=ul(0),f=Mo(r);if((f||!f&&!s)&&((Od(r)!=="body"||ip(o))&&(d=Kv(r)),Mo(r))){const m=Tc(r);c=Xu(r),h.x=m.x+r.clientLeft,h.y=m.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-d.scrollLeft*c.x+h.x,y:n.y*c.y-d.scrollTop*c.y+h.y}}function Gre(e){return Array.from(e.getClientRects())}function OL(e){return Tc(Aa(e)).left+Kv(e).scrollLeft}function qre(e){const t=Aa(e),n=Kv(e),r=e.ownerDocument.body,i=uc(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=uc(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+OL(e);const l=-n.scrollTop;return so(r).direction==="rtl"&&(o+=uc(t.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:l}}function Wre(e,t){const n=ns(e),r=Aa(e),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,l=0,d=0;if(i){s=i.width,o=i.height;const c=xw();(!c||c&&t==="fixed")&&(l=i.offsetLeft,d=i.offsetTop)}return{width:s,height:o,x:l,y:d}}function Kre(e,t){const n=Tc(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,s=Mo(e)?Xu(e):ul(1),o=e.clientWidth*s.x,l=e.clientHeight*s.y,d=i*s.x,c=r*s.y;return{width:o,height:l,x:d,y:c}}function rP(e,t,n){let r;if(t==="viewport")r=Wre(e,n);else if(t==="document")r=qre(Aa(e));else if(Po(t))r=Kre(t,n);else{const i=jL(e);r={...t,x:t.x-i.x,y:t.y-i.y}}return H0(r)}function VL(e,t){const n=dl(e);return n===t||!Po(n)||vd(n)?!1:so(n).position==="fixed"||VL(n,t)}function Yre(e,t){const n=t.get(e);if(n)return n;let r=Lh(e,[],!1).filter(l=>Po(l)&&Od(l)!=="body"),i=null;const s=so(e).position==="fixed";let o=s?dl(e):e;for(;Po(o)&&!vd(o);){const l=so(o),d=Sw(o);!d&&l.position==="fixed"&&(i=null),(s?!d&&!i:!d&&l.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||ip(o)&&!d&&VL(e,o))?r=r.filter(h=>h!==o):i=l,o=dl(o)}return t.set(e,r),r}function Qre(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const o=[...n==="clippingAncestors"?Wv(t)?[]:Yre(t,this._c):[].concat(n),r],l=o[0],d=o.reduce((c,h)=>{const f=rP(t,h,i);return c.top=uc(f.top,c.top),c.right=gd(f.right,c.right),c.bottom=gd(f.bottom,c.bottom),c.left=uc(f.left,c.left),c},rP(t,l,i));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function Jre(e){const{width:t,height:n}=ML(e);return{width:t,height:n}}function Xre(e,t,n){const r=Mo(t),i=Aa(t),s=n==="fixed",o=Tc(e,!0,s,t);let l={scrollLeft:0,scrollTop:0};const d=ul(0);if(r||!r&&!s)if((Od(t)!=="body"||ip(i))&&(l=Kv(t)),r){const f=Tc(t,!0,s,t);d.x=f.x+t.clientLeft,d.y=f.y+t.clientTop}else i&&(d.x=OL(i));const c=o.left+l.scrollLeft-d.x,h=o.top+l.scrollTop-d.y;return{x:c,y:h,width:o.width,height:o.height}}function N1(e){return so(e).position==="static"}function iP(e,t){return!Mo(e)||so(e).position==="fixed"?null:t?t(e):e.offsetParent}function LL(e,t){const n=ns(e);if(Wv(e))return n;if(!Mo(e)){let i=dl(e);for(;i&&!vd(i);){if(Po(i)&&!N1(i))return i;i=dl(i)}return n}let r=iP(e,t);for(;r&&Fre(r)&&N1(r);)r=iP(r,t);return r&&vd(r)&&N1(r)&&!Sw(r)?n:r||$re(e)||n}const Zre=async function(e){const t=this.getOffsetParent||LL,n=this.getDimensions,r=await n(e.floating);return{reference:Xre(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function eie(e){return so(e).direction==="rtl"}const tie={convertOffsetParentRelativeRectToViewportRelativeRect:Hre,getDocumentElement:Aa,getClippingRect:Qre,getOffsetParent:LL,getElementRects:Zre,getClientRects:Gre,getDimensions:Jre,getScale:Xu,isElement:Po,isRTL:eie};function nie(e,t){let n=null,r;const i=Aa(e);function s(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,d){l===void 0&&(l=!1),d===void 0&&(d=1),s();const{left:c,top:h,width:f,height:m}=e.getBoundingClientRect();if(l||t(),!f||!m)return;const v=Qg(h),A=Qg(i.clientWidth-(c+f)),b=Qg(i.clientHeight-(h+m)),x=Qg(c),I={rootMargin:-v+"px "+-A+"px "+-b+"px "+-x+"px",threshold:uc(0,gd(1,d))||1};let P=!0;function T(w){const R=w[0].intersectionRatio;if(R!==d){if(!P)return o();R?o(!1,R):r=setTimeout(()=>{o(!1,1e-7)},1e3)}P=!1}try{n=new IntersectionObserver(T,{...I,root:i.ownerDocument})}catch{n=new IntersectionObserver(T,I)}n.observe(e)}return o(!0),s}function rie(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:d=!1}=r,c=ww(e),h=i||s?[...c?Lh(c):[],...Lh(t)]:[];h.forEach(E=>{i&&E.addEventListener("scroll",n,{passive:!0}),s&&E.addEventListener("resize",n)});const f=c&&l?nie(c,n):null;let m=-1,v=null;o&&(v=new ResizeObserver(E=>{let[I]=E;I&&I.target===c&&v&&(v.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var P;(P=v)==null||P.observe(t)})),n()}),c&&!d&&v.observe(c),v.observe(t));let A,b=d?Tc(e):null;d&&x();function x(){const E=Tc(e);b&&(E.x!==b.x||E.y!==b.y||E.width!==b.width||E.height!==b.height)&&n(),b=E,A=requestAnimationFrame(x)}return n(),()=>{var E;h.forEach(I=>{i&&I.removeEventListener("scroll",n),s&&I.removeEventListener("resize",n)}),f==null||f(),(E=v)==null||E.disconnect(),v=null,d&&cancelAnimationFrame(A)}}const iie=Bre,sie=Dre,oie=Lre,aie=Vre,sP=(e,t,n)=>{const r=new Map,i={platform:tie,...n},s={...i.platform,_c:r};return Ore(e,t,{...i,platform:s})};var B1={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var oP;function lie(){return oP||(oP=1,function(e){(function(){var t={}.hasOwnProperty;function n(){for(var s="",o=0;o<arguments.length;o++){var l=arguments[o];l&&(s=i(s,r(l)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var l in s)t.call(s,l)&&s[l]&&(o=i(o,l));return o}function i(s,o){return o?s?s+" "+o:s+o:s}e.exports?(n.default=n,e.exports=n):window.classNames=n})()}(B1)),B1.exports}var cie=lie();const fS=Lr(cie);var aP={};const uie="react-tooltip-core-styles",die="react-tooltip-base-styles",lP={core:!1,base:!1};function cP({css:e,id:t=die,type:n="base",ref:r}){var i,s;if(!e||typeof document>"u"||lP[n]||n==="core"&&typeof process<"u"&&(!((i=process==null?void 0:aP)===null||i===void 0)&&i.REACT_TOOLTIP_DISABLE_CORE_STYLES)||n!=="base"&&typeof process<"u"&&(!((s=process==null?void 0:aP)===null||s===void 0)&&s.REACT_TOOLTIP_DISABLE_BASE_STYLES))return;n==="core"&&(t=uie),r||(r={});const{insertAt:o}=r;if(document.getElementById(t))return void console.warn(`[react-tooltip] Element with id '${t}' already exists. Call \`removeStyle()\` first`);const l=document.head||document.getElementsByTagName("head")[0],d=document.createElement("style");d.id=t,d.type="text/css",o==="top"&&l.firstChild?l.insertBefore(d,l.firstChild):l.appendChild(d),d.styleSheet?d.styleSheet.cssText=e:d.appendChild(document.createTextNode(e)),lP[n]=!0}const uP=async({elementReference:e=null,tooltipReference:t=null,tooltipArrowReference:n=null,place:r="top",offset:i=10,strategy:s="absolute",middlewares:o=[iie(Number(i)),oie({fallbackAxisSideDirection:"start"}),sie({padding:5})],border:l})=>{if(!e)return{tooltipStyles:{},tooltipArrowStyles:{},place:r};if(t===null)return{tooltipStyles:{},tooltipArrowStyles:{},place:r};const d=o;return n?(d.push(aie({element:n,padding:5})),sP(e,t,{placement:r,strategy:s,middleware:d}).then(({x:c,y:h,placement:f,middlewareData:m})=>{var v,A;const b={left:`${c}px`,top:`${h}px`,border:l},{x,y:E}=(v=m.arrow)!==null&&v!==void 0?v:{x:0,y:0},I=(A={top:"bottom",right:"left",bottom:"top",left:"right"}[f.split("-")[0]])!==null&&A!==void 0?A:"bottom",P=l&&{borderBottom:l,borderRight:l};let T=0;if(l){const w=`${l}`.match(/(\d+)px/);T=w!=null&&w[1]?Number(w[1]):1}return{tooltipStyles:b,tooltipArrowStyles:{left:x!=null?`${x}px`:"",top:E!=null?`${E}px`:"",right:"",bottom:"",...P,[I]:`-${4+T}px`},place:f}})):sP(e,t,{placement:"bottom",strategy:s,middleware:d}).then(({x:c,y:h,placement:f})=>({tooltipStyles:{left:`${c}px`,top:`${h}px`},tooltipArrowStyles:{},place:f}))},dP=(e,t)=>!("CSS"in window&&"supports"in window.CSS)||window.CSS.supports(e,t),fP=(e,t,n)=>{let r=null;const i=function(...s){const o=()=>{r=null};!r&&(e.apply(this,s),r=setTimeout(o,t))};return i.cancel=()=>{r&&(clearTimeout(r),r=null)},i},hP=e=>e!==null&&!Array.isArray(e)&&typeof e=="object",hS=(e,t)=>{if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t))return e.length===t.length&&e.every((i,s)=>hS(i,t[s]));if(Array.isArray(e)!==Array.isArray(t))return!1;if(!hP(e)||!hP(t))return e===t;const n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&n.every(i=>hS(e[i],t[i]))},fie=e=>{if(!(e instanceof HTMLElement||e instanceof SVGElement))return!1;const t=getComputedStyle(e);return["overflow","overflow-x","overflow-y"].some(n=>{const r=t.getPropertyValue(n);return r==="auto"||r==="scroll"})},pP=e=>{if(!e)return null;let t=e.parentElement;for(;t;){if(fie(t))return t;t=t.parentElement}return document.scrollingElement||document.documentElement},hie=typeof window<"u"?S.useLayoutEffect:S.useEffect,pie="DEFAULT_TOOLTIP_ID",gie={anchorRefs:new Set,activeAnchor:{current:null},attach:()=>{},detach:()=>{},setActiveAnchor:()=>{}},mie=S.createContext({getTooltipData:()=>gie});function NL(e=pie){return S.useContext(mie).getTooltipData(e)}var xu={tooltip:"core-styles-module_tooltip__3vRRp",fixed:"core-styles-module_fixed__pcSol",arrow:"core-styles-module_arrow__cvMwQ",noArrow:"core-styles-module_noArrow__xock6",clickable:"core-styles-module_clickable__ZuTTB",show:"core-styles-module_show__Nt9eE",closing:"core-styles-module_closing__sGnxF"},D1={tooltip:"styles-module_tooltip__mnnfp",arrow:"styles-module_arrow__K0L3T",dark:"styles-module_dark__xNqje",light:"styles-module_light__Z6W-X",success:"styles-module_success__A2AKt",warning:"styles-module_warning__SCK0X",error:"styles-module_error__JvumD",info:"styles-module_info__BWdHW"};const vie=({forwardRef:e,id:t,className:n,classNameArrow:r,variant:i="dark",anchorId:s,anchorSelect:o,place:l="top",offset:d=10,events:c=["hover"],openOnClick:h=!1,positionStrategy:f="absolute",middlewares:m,wrapper:v,delayShow:A=0,delayHide:b=0,float:x=!1,hidden:E=!1,noArrow:I=!1,clickable:P=!1,closeOnEsc:T=!1,closeOnScroll:w=!1,closeOnResize:R=!1,openEvents:j,closeEvents:V,globalCloseEvents:N,imperativeModeOnly:k,style:B,position:H,afterShow:F,afterHide:U,content:D,contentWrapperRef:L,isOpen:Y,defaultIsOpen:q=!1,setIsOpen:Q,activeAnchor:M,setActiveAnchor:z,border:J,opacity:ae,arrowColor:W,role:ye="tooltip"})=>{var le;const me=S.useRef(null),xe=S.useRef(null),Re=S.useRef(null),be=S.useRef(null),Oe=S.useRef(null),[Ze,Ue]=S.useState({tooltipStyles:{},tooltipArrowStyles:{},place:l}),[Le,je]=S.useState(!1),[mt,vt]=S.useState(!1),[De,ht]=S.useState(null),Ut=S.useRef(!1),Wt=S.useRef(null),{anchorRefs:Ht,setActiveAnchor:Ge}=NL(t),jt=S.useRef(!1),[Xt,Zt]=S.useState([]),bt=S.useRef(!1),dt=h||c.includes("click"),nt=dt||(j==null?void 0:j.click)||(j==null?void 0:j.dblclick)||(j==null?void 0:j.mousedown),_t=j?{...j}:{mouseover:!0,focus:!0,mouseenter:!1,click:!1,dblclick:!1,mousedown:!1};!j&&dt&&Object.assign(_t,{mouseenter:!1,focus:!1,mouseover:!1,click:!0});const cn=V?{...V}:{mouseout:!0,blur:!0,mouseleave:!1,click:!1,dblclick:!1,mouseup:!1};!V&&dt&&Object.assign(cn,{mouseleave:!1,blur:!1,mouseout:!1});const Lt=N?{...N}:{escape:T||!1,scroll:w||!1,resize:R||!1,clickOutsideAnchor:nt||!1};k&&(Object.assign(_t,{mouseenter:!1,focus:!1,click:!1,dblclick:!1,mousedown:!1}),Object.assign(cn,{mouseleave:!1,blur:!1,click:!1,dblclick:!1,mouseup:!1}),Object.assign(Lt,{escape:!1,scroll:!1,resize:!1,clickOutsideAnchor:!1})),hie(()=>(bt.current=!0,()=>{bt.current=!1}),[]);const Pt=Fe=>{bt.current&&(Fe&&vt(!0),setTimeout(()=>{bt.current&&(Q==null||Q(Fe),Y===void 0&&je(Fe))},10))};S.useEffect(()=>{if(Y===void 0)return()=>null;Y&&vt(!0);const Fe=setTimeout(()=>{je(Y)},10);return()=>{clearTimeout(Fe)}},[Y]),S.useEffect(()=>{if(Le!==Ut.current)if(Oe.current&&clearTimeout(Oe.current),Ut.current=Le,Le)F==null||F();else{const Fe=(st=>{const pt=st.match(/^([\d.]+)(ms|s)$/);if(!pt)return 0;const[,yn,pr]=pt;return Number(yn)*(pr==="ms"?1:1e3)})(getComputedStyle(document.body).getPropertyValue("--rt-transition-show-delay"));Oe.current=setTimeout(()=>{vt(!1),ht(null),U==null||U()},Fe+25)}},[Le]);const vn=Fe=>{Ue(st=>hS(st,Fe)?st:Fe)},jn=(Fe=A)=>{Re.current&&clearTimeout(Re.current),mt?Pt(!0):Re.current=setTimeout(()=>{Pt(!0)},Fe)},un=(Fe=b)=>{be.current&&clearTimeout(be.current),be.current=setTimeout(()=>{jt.current||Pt(!1)},Fe)},Dt=Fe=>{var st;if(!Fe)return;const pt=(st=Fe.currentTarget)!==null&&st!==void 0?st:Fe.target;if(!(pt!=null&&pt.isConnected))return z(null),void Ge({current:null});A?jn():Pt(!0),z(pt),Ge({current:pt}),be.current&&clearTimeout(be.current)},zn=()=>{P?un(b||100):b?un():Pt(!1),Re.current&&clearTimeout(Re.current)},fr=({x:Fe,y:st})=>{var pt;const yn={getBoundingClientRect:()=>({x:Fe,y:st,width:0,height:0,top:st,left:Fe,right:Fe,bottom:st})};uP({place:(pt=De==null?void 0:De.place)!==null&&pt!==void 0?pt:l,offset:d,elementReference:yn,tooltipReference:me.current,tooltipArrowReference:xe.current,strategy:f,middlewares:m,border:J}).then(pr=>{vn(pr)})},En=Fe=>{if(!Fe)return;const st=Fe,pt={x:st.clientX,y:st.clientY};fr(pt),Wt.current=pt},br=Fe=>{var st;if(!Le)return;const pt=Fe.target;pt.isConnected&&(!((st=me.current)===null||st===void 0)&&st.contains(pt)||[document.querySelector(`[id='${s}']`),...Xt].some(yn=>yn==null?void 0:yn.contains(pt))||(Pt(!1),Re.current&&clearTimeout(Re.current)))},hr=fP(Dt,50),Kt=fP(zn,50),On=Fe=>{Kt.cancel(),hr(Fe)},rt=()=>{hr.cancel(),Kt()},Et=S.useCallback(()=>{var Fe,st;const pt=(Fe=De==null?void 0:De.position)!==null&&Fe!==void 0?Fe:H;pt?fr(pt):x?Wt.current&&fr(Wt.current):M!=null&&M.isConnected&&uP({place:(st=De==null?void 0:De.place)!==null&&st!==void 0?st:l,offset:d,elementReference:M,tooltipReference:me.current,tooltipArrowReference:xe.current,strategy:f,middlewares:m,border:J}).then(yn=>{bt.current&&vn(yn)})},[Le,M,D,B,l,De==null?void 0:De.place,d,f,H,De==null?void 0:De.position,x]);S.useEffect(()=>{var Fe,st;const pt=new Set(Ht);Xt.forEach(en=>{pt.add({current:en})});const yn=document.querySelector(`[id='${s}']`);yn&&pt.add({current:yn});const pr=()=>{Pt(!1)},_r=pP(M),Br=pP(me.current);Lt.scroll&&(window.addEventListener("scroll",pr),_r==null||_r.addEventListener("scroll",pr),Br==null||Br.addEventListener("scroll",pr));let Kn=null;Lt.resize?window.addEventListener("resize",pr):M&&me.current&&(Kn=rie(M,me.current,Et,{ancestorResize:!0,elementResize:!0,layoutShift:!0}));const kr=en=>{en.key==="Escape"&&Pt(!1)};Lt.escape&&window.addEventListener("keydown",kr),Lt.clickOutsideAnchor&&window.addEventListener("click",br);const dn=[],Oo=en=>{Le&&(en==null?void 0:en.target)===M||Dt(en)},Bd=en=>{Le&&(en==null?void 0:en.target)===M&&zn()},as=["mouseover","mouseout","mouseenter","mouseleave","focus","blur"],Sl=["click","dblclick","mousedown","mouseup"];Object.entries(_t).forEach(([en,Si])=>{Si&&(as.includes(en)?dn.push({event:en,listener:On}):Sl.includes(en)&&dn.push({event:en,listener:Oo}))}),Object.entries(cn).forEach(([en,Si])=>{Si&&(as.includes(en)?dn.push({event:en,listener:rt}):Sl.includes(en)&&dn.push({event:en,listener:Bd}))}),x&&dn.push({event:"pointermove",listener:En});const xl=()=>{jt.current=!0},zc=()=>{jt.current=!1,zn()};return P&&!nt&&((Fe=me.current)===null||Fe===void 0||Fe.addEventListener("mouseenter",xl),(st=me.current)===null||st===void 0||st.addEventListener("mouseleave",zc)),dn.forEach(({event:en,listener:Si})=>{pt.forEach(ba=>{var co;(co=ba.current)===null||co===void 0||co.addEventListener(en,Si)})}),()=>{var en,Si;Lt.scroll&&(window.removeEventListener("scroll",pr),_r==null||_r.removeEventListener("scroll",pr),Br==null||Br.removeEventListener("scroll",pr)),Lt.resize?window.removeEventListener("resize",pr):Kn==null||Kn(),Lt.clickOutsideAnchor&&window.removeEventListener("click",br),Lt.escape&&window.removeEventListener("keydown",kr),P&&!nt&&((en=me.current)===null||en===void 0||en.removeEventListener("mouseenter",xl),(Si=me.current)===null||Si===void 0||Si.removeEventListener("mouseleave",zc)),dn.forEach(({event:ba,listener:co})=>{pt.forEach(Dd=>{var _a;(_a=Dd.current)===null||_a===void 0||_a.removeEventListener(ba,co)})})}},[M,Et,mt,Ht,Xt,j,V,N,dt,A,b]),S.useEffect(()=>{var Fe,st;let pt=(st=(Fe=De==null?void 0:De.anchorSelect)!==null&&Fe!==void 0?Fe:o)!==null&&st!==void 0?st:"";!pt&&t&&(pt=`[data-tooltip-id='${t.replace(/'/g,"\\'")}']`);const yn=new MutationObserver(pr=>{const _r=[],Br=[];pr.forEach(Kn=>{if(Kn.type==="attributes"&&Kn.attributeName==="data-tooltip-id"&&(Kn.target.getAttribute("data-tooltip-id")===t?_r.push(Kn.target):Kn.oldValue===t&&Br.push(Kn.target)),Kn.type==="childList"){if(M){const kr=[...Kn.removedNodes].filter(dn=>dn.nodeType===1);if(pt)try{Br.push(...kr.filter(dn=>dn.matches(pt))),Br.push(...kr.flatMap(dn=>[...dn.querySelectorAll(pt)]))}catch{}kr.some(dn=>{var Oo;return!!(!((Oo=dn==null?void 0:dn.contains)===null||Oo===void 0)&&Oo.call(dn,M))&&(vt(!1),Pt(!1),z(null),Re.current&&clearTimeout(Re.current),be.current&&clearTimeout(be.current),!0)})}if(pt)try{const kr=[...Kn.addedNodes].filter(dn=>dn.nodeType===1);_r.push(...kr.filter(dn=>dn.matches(pt))),_r.push(...kr.flatMap(dn=>[...dn.querySelectorAll(pt)]))}catch{}}}),(_r.length||Br.length)&&Zt(Kn=>[...Kn.filter(kr=>!Br.includes(kr)),..._r])});return yn.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["data-tooltip-id"],attributeOldValue:!0}),()=>{yn.disconnect()}},[t,o,De==null?void 0:De.anchorSelect,M]),S.useEffect(()=>{Et()},[Et]),S.useEffect(()=>{if(!(L!=null&&L.current))return()=>null;const Fe=new ResizeObserver(()=>{setTimeout(()=>Et())});return Fe.observe(L.current),()=>{Fe.disconnect()}},[D,L==null?void 0:L.current]),S.useEffect(()=>{var Fe;const st=document.querySelector(`[id='${s}']`),pt=[...Xt,st];M&&pt.includes(M)||z((Fe=Xt[0])!==null&&Fe!==void 0?Fe:st)},[s,Xt,M]),S.useEffect(()=>(q&&Pt(!0),()=>{Re.current&&clearTimeout(Re.current),be.current&&clearTimeout(be.current)}),[]),S.useEffect(()=>{var Fe;let st=(Fe=De==null?void 0:De.anchorSelect)!==null&&Fe!==void 0?Fe:o;if(!st&&t&&(st=`[data-tooltip-id='${t.replace(/'/g,"\\'")}']`),st)try{const pt=Array.from(document.querySelectorAll(st));Zt(pt)}catch{Zt([])}},[t,o,De==null?void 0:De.anchorSelect]),S.useEffect(()=>{Re.current&&(clearTimeout(Re.current),jn(A))},[A]);const nr=(le=De==null?void 0:De.content)!==null&&le!==void 0?le:D,Nr=Le&&Object.keys(Ze.tooltipStyles).length>0;return S.useImperativeHandle(e,()=>({open:Fe=>{if(Fe!=null&&Fe.anchorSelect)try{document.querySelector(Fe.anchorSelect)}catch{return void console.warn(`[react-tooltip] "${Fe.anchorSelect}" is not a valid CSS selector`)}ht(Fe??null),Fe!=null&&Fe.delay?jn(Fe.delay):Pt(!0)},close:Fe=>{Fe!=null&&Fe.delay?un(Fe.delay):Pt(!1)},activeAnchor:M,place:Ze.place,isOpen:!!(mt&&!E&&nr&&Nr)})),mt&&!E&&nr?Xe.createElement(v,{id:t,role:ye,className:fS("react-tooltip",xu.tooltip,D1.tooltip,D1[i],n,`react-tooltip__place-${Ze.place}`,xu[Nr?"show":"closing"],Nr?"react-tooltip__show":"react-tooltip__closing",f==="fixed"&&xu.fixed,P&&xu.clickable),onTransitionEnd:Fe=>{Oe.current&&clearTimeout(Oe.current),Le||Fe.propertyName!=="opacity"||(vt(!1),ht(null),U==null||U())},style:{...B,...Ze.tooltipStyles,opacity:ae!==void 0&&Nr?ae:void 0},ref:me},nr,Xe.createElement(v,{className:fS("react-tooltip-arrow",xu.arrow,D1.arrow,r,I&&xu.noArrow),style:{...Ze.tooltipArrowStyles,background:W?`linear-gradient(to right bottom, transparent 50%, ${W} 50%)`:void 0},ref:xe})):null},yie=({content:e})=>Xe.createElement("span",{dangerouslySetInnerHTML:{__html:e}}),Aie=Xe.forwardRef(({id:e,anchorId:t,anchorSelect:n,content:r,html:i,render:s,className:o,classNameArrow:l,variant:d="dark",place:c="top",offset:h=10,wrapper:f="div",children:m=null,events:v=["hover"],openOnClick:A=!1,positionStrategy:b="absolute",middlewares:x,delayShow:E=0,delayHide:I=0,float:P=!1,hidden:T=!1,noArrow:w=!1,clickable:R=!1,closeOnEsc:j=!1,closeOnScroll:V=!1,closeOnResize:N=!1,openEvents:k,closeEvents:B,globalCloseEvents:H,imperativeModeOnly:F=!1,style:U,position:D,isOpen:L,defaultIsOpen:Y=!1,disableStyleInjection:q=!1,border:Q,opacity:M,arrowColor:z,setIsOpen:J,afterShow:ae,afterHide:W,role:ye="tooltip"},le)=>{const[me,xe]=S.useState(r),[Re,be]=S.useState(i),[Oe,Ze]=S.useState(c),[Ue,Le]=S.useState(d),[je,mt]=S.useState(h),[vt,De]=S.useState(E),[ht,Ut]=S.useState(I),[Wt,Ht]=S.useState(P),[Ge,jt]=S.useState(T),[Xt,Zt]=S.useState(f),[bt,dt]=S.useState(v),[nt,_t]=S.useState(b),[cn,Lt]=S.useState(null),[Pt,vn]=S.useState(null),jn=S.useRef(q),{anchorRefs:un,activeAnchor:Dt}=NL(e),zn=Kt=>Kt==null?void 0:Kt.getAttributeNames().reduce((On,rt)=>{var Et;return rt.startsWith("data-tooltip-")&&(On[rt.replace(/^data-tooltip-/,"")]=(Et=Kt==null?void 0:Kt.getAttribute(rt))!==null&&Et!==void 0?Et:null),On},{}),fr=Kt=>{const On={place:rt=>{var Et;Ze((Et=rt)!==null&&Et!==void 0?Et:c)},content:rt=>{xe(rt??r)},html:rt=>{be(rt??i)},variant:rt=>{var Et;Le((Et=rt)!==null&&Et!==void 0?Et:d)},offset:rt=>{mt(rt===null?h:Number(rt))},wrapper:rt=>{var Et;Zt((Et=rt)!==null&&Et!==void 0?Et:f)},events:rt=>{const Et=rt==null?void 0:rt.split(" ");dt(Et??v)},"position-strategy":rt=>{var Et;_t((Et=rt)!==null&&Et!==void 0?Et:b)},"delay-show":rt=>{De(rt===null?E:Number(rt))},"delay-hide":rt=>{Ut(rt===null?I:Number(rt))},float:rt=>{Ht(rt===null?P:rt==="true")},hidden:rt=>{jt(rt===null?T:rt==="true")},"class-name":rt=>{Lt(rt)}};Object.values(On).forEach(rt=>rt(null)),Object.entries(Kt).forEach(([rt,Et])=>{var nr;(nr=On[rt])===null||nr===void 0||nr.call(On,Et)})};S.useEffect(()=>{xe(r)},[r]),S.useEffect(()=>{be(i)},[i]),S.useEffect(()=>{Ze(c)},[c]),S.useEffect(()=>{Le(d)},[d]),S.useEffect(()=>{mt(h)},[h]),S.useEffect(()=>{De(E)},[E]),S.useEffect(()=>{Ut(I)},[I]),S.useEffect(()=>{Ht(P)},[P]),S.useEffect(()=>{jt(T)},[T]),S.useEffect(()=>{_t(b)},[b]),S.useEffect(()=>{jn.current!==q&&console.warn("[react-tooltip] Do not change `disableStyleInjection` dynamically.")},[q]),S.useEffect(()=>{typeof window<"u"&&window.dispatchEvent(new CustomEvent("react-tooltip-inject-styles",{detail:{disableCore:q==="core",disableBase:q}}))},[]),S.useEffect(()=>{var Kt;const On=new Set(un);let rt=n;if(!rt&&e&&(rt=`[data-tooltip-id='${e.replace(/'/g,"\\'")}']`),rt)try{document.querySelectorAll(rt).forEach(st=>{On.add({current:st})})}catch{console.warn(`[react-tooltip] "${rt}" is not a valid CSS selector`)}const Et=document.querySelector(`[id='${t}']`);if(Et&&On.add({current:Et}),!On.size)return()=>null;const nr=(Kt=Pt??Et)!==null&&Kt!==void 0?Kt:Dt.current,Nr=new MutationObserver(st=>{st.forEach(pt=>{var yn;if(!nr||pt.type!=="attributes"||!(!((yn=pt.attributeName)===null||yn===void 0)&&yn.startsWith("data-tooltip-")))return;const pr=zn(nr);fr(pr)})}),Fe={attributes:!0,childList:!1,subtree:!1};if(nr){const st=zn(nr);fr(st),Nr.observe(nr,Fe)}return()=>{Nr.disconnect()}},[un,Dt,Pt,t,n]),S.useEffect(()=>{U!=null&&U.border&&console.warn("[react-tooltip] Do not set `style.border`. Use `border` prop instead."),Q&&!dP("border",`${Q}`)&&console.warn(`[react-tooltip] "${Q}" is not a valid \`border\`.`),U!=null&&U.opacity&&console.warn("[react-tooltip] Do not set `style.opacity`. Use `opacity` prop instead."),M&&!dP("opacity",`${M}`)&&console.warn(`[react-tooltip] "${M}" is not a valid \`opacity\`.`)},[]);let En=m;const br=S.useRef(null);if(s){const Kt=s({content:(Pt==null?void 0:Pt.getAttribute("data-tooltip-content"))||me||null,activeAnchor:Pt});En=Kt?Xe.createElement("div",{ref:br,className:"react-tooltip-content-wrapper"},Kt):null}else me&&(En=me);Re&&(En=Xe.createElement(yie,{content:Re}));const hr={forwardRef:le,id:e,anchorId:t,anchorSelect:n,className:fS(o,cn),classNameArrow:l,content:En,contentWrapperRef:br,place:Oe,variant:Ue,offset:je,wrapper:Xt,events:bt,openOnClick:A,positionStrategy:nt,middlewares:x,delayShow:vt,delayHide:ht,float:Wt,hidden:Ge,noArrow:w,clickable:R,closeOnEsc:j,closeOnScroll:V,closeOnResize:N,openEvents:k,closeEvents:B,globalCloseEvents:H,imperativeModeOnly:F,style:U,position:D,isOpen:L,defaultIsOpen:Y,border:Q,opacity:M,arrowColor:z,setIsOpen:J,afterShow:ae,afterHide:W,activeAnchor:Pt,setActiveAnchor:Kt=>vn(Kt),role:ye};return Xe.createElement(vie,{...hr})});typeof window<"u"&&window.addEventListener("react-tooltip-inject-styles",e=>{e.detail.disableCore||cP({css:":root{--rt-color-white:#fff;--rt-color-dark:#222;--rt-color-success:#8dc572;--rt-color-error:#be6464;--rt-color-warning:#f0ad4e;--rt-color-info:#337ab7;--rt-opacity:0.9;--rt-transition-show-delay:0.15s;--rt-transition-closing-delay:0.15s}.core-styles-module_tooltip__3vRRp{position:absolute;top:0;left:0;pointer-events:none;opacity:0;will-change:opacity}.core-styles-module_fixed__pcSol{position:fixed}.core-styles-module_arrow__cvMwQ{position:absolute;background:inherit}.core-styles-module_noArrow__xock6{display:none}.core-styles-module_clickable__ZuTTB{pointer-events:auto}.core-styles-module_show__Nt9eE{opacity:var(--rt-opacity);transition:opacity var(--rt-transition-show-delay)ease-out}.core-styles-module_closing__sGnxF{opacity:0;transition:opacity var(--rt-transition-closing-delay)ease-in}",type:"core"}),e.detail.disableBase||cP({css:`
.styles-module_tooltip__mnnfp{padding:8px 16px;border-radius:3px;font-size:90%;width:max-content}.styles-module_arrow__K0L3T{width:8px;height:8px}[class*='react-tooltip__place-top']>.styles-module_arrow__K0L3T{transform:rotate(45deg)}[class*='react-tooltip__place-right']>.styles-module_arrow__K0L3T{transform:rotate(135deg)}[class*='react-tooltip__place-bottom']>.styles-module_arrow__K0L3T{transform:rotate(225deg)}[class*='react-tooltip__place-left']>.styles-module_arrow__K0L3T{transform:rotate(315deg)}.styles-module_dark__xNqje{background:var(--rt-color-dark);color:var(--rt-color-white)}.styles-module_light__Z6W-X{background-color:var(--rt-color-white);color:var(--rt-color-dark)}.styles-module_success__A2AKt{background-color:var(--rt-color-success);color:var(--rt-color-white)}.styles-module_warning__SCK0X{background-color:var(--rt-color-warning);color:var(--rt-color-white)}.styles-module_error__JvumD{background-color:var(--rt-color-error);color:var(--rt-color-white)}.styles-module_info__BWdHW{background-color:var(--rt-color-info);color:var(--rt-color-white)}`,type:"base"})});const bie=G(Aie,{target:"e21jg9v2"})("&&&{background:rgba(0, 0, 0, 0.85);font-size:2rem;padding:1rem 1.5rem;border-radius:1rem;max-width:45rem;",xt,";.MuiTooltip-arrow{&::before{background:rgba(0, 0, 0, 0.85);}}strong{color:",Ve.colors.text.active,";}}z-index:10000;"),yd=({children:e,title:t,open:n,...r})=>{const i=S.useRef(null),s=S.useMemo(()=>`${Math.random()}`,[]);return p.jsxs(p.Fragment,{children:[jd.createPortal(p.jsx(bie,{...r,id:s,ref:i,isOpen:n,children:t}),document.body),S.cloneElement(e,{"data-tooltip-id":s})]})},gP=e=>`tooltip_dismissed_${e}`,_ie=({dismissKey:e,timeoutMs:t,oneTime:n=!0,children:r,title:i,...s})=>{const[o,l]=S.useState(!ot.local.getItem(gP(e))),d=S.useCallback(()=>{ot.local.setItem(gP(e),!0),l(void 0)},[e]);S.useEffect(()=>{if(t){const h=setTimeout(d,t);return()=>clearTimeout(h)}},[t,d]);const c=(o===void 0||!o&&!n)&&s.open===void 0;return p.jsx(yd,{clickable:!0,open:c?s.open:o,hidden:s.open===!1,...s,title:p.jsxs(p.Fragment,{children:[i,o&&p.jsx(Sie,{children:p.jsx(xie,{"data-test":"close-tooltip-button",onClick:d,children:"Close"})})]}),children:r},c?"uncontrolled":"controlled")},Sie=G("div",{target:"e21jg9v1"})({name:"g78t84",styles:"display:flex;justify-content:flex-end;margin-top:1rem"}),xie=G("button",{target:"e21jg9v0"})("padding:0.25rem 2rem;font-weight:bold;cursor:pointer;color:white;border:1px solid white;border-radius:0.5rem;background:none;font-size:1.75rem;&:hover{color:",Ve.colors.text.active,";border-color:",Ve.colors.text.active,";}&:active{color:white;background:",Ve.colors.text.active,";border-color:none;}"),wie=zt(p.jsx("path",{d:"M7 14H5v5h5v-2H7zm-2-4h2V7h3V5H5zm12 7h-3v2h5v-5h-2zM14 5v2h3v3h2V5z"}),"Fullscreen"),Eie=zt(p.jsx("path",{d:"M5 16h3v3h2v-5H5zm3-8H5v2h5V5H8zm6 11h2v-3h3v-2h-5zm2-11V5h-2v5h5V8z"}),"FullscreenExit");function Cie(){const[,e]=Tt(ZS),[t]=Tt(Qr),[n,r]=S.useState(document.fullscreenElement!==null);return S.useEffect(()=>{const i=()=>{r(document.fullscreenElement!==null)};return document.addEventListener("fullscreenchange",i),()=>{document.removeEventListener("fullscreenchange",i)}},[]),p.jsx(yd,{title:"Toggle fullscreen",place:"bottom-end",children:p.jsx(qv,{"data-test":"toggle-fullscreen",size:"small",onClick:async()=>{var i,s;try{document.fullscreenElement===null?(e(!0),await document.body.requestFullscreen(),t&&(global.screen.orientation.unlock(),await((s=(i=global.screen.orientation).lock)==null?void 0:s.call(i,"landscape")))):(e(!1),await document.exitFullscreen(),t&&global.screen.orientation.unlock())}catch(o){console.info(o)}},children:n?p.jsx(Eie,{}):p.jsx(wie,{})})})}const BL=Ls("padding:0.1rem 0.3rem;font-size:2.6rem;display:flex;align-items:center;justify-content:center;text-align:center;cursor:pointer;border:0;background-color:rgba(0, 0, 0, 0.75);text-transform:uppercase;letter-spacing:0.2rem;pointer-events:auto;box-sizing:border-box;transition:300ms;",xt,",;",""),kie=Ls("@keyframes button-focus-loop{0%,100%{transform:scale(1.045);}50%{transform:scale(1.055);}}animation:button-focus-loop 600ms ease-in-out infinite both;transform:scale(1.05);background:",Ve.colors.text.active,";",""),Tie=Ls("transform:scale(1.05);background:",Ve.colors.text.active,";",""),Yv=rs()?Tie:kie,Iie={animation:"focusAnimation 1000ms ease-in-out infinite both"},pS=Ls("&:hover{",Iie,";}&&&:active{background:",Ve.colors.text.active,";}",""),Rie=G("a",{target:"eo7q3x1"})(BL," &&{color:white;text-decoration:none;}&[data-focused='true']{",Yv,";}&[disabled='false']{",pS,";}"),Pie=({focused:e,...t})=>p.jsx(Rie,{...t}),Mie=G("button",{target:"eo7q3x0"})(BL,";&:not(:disabled){",pS,";}&[data-focused='true']{",Yv,";}&[disabled='false']{",pS,";}"),lo=({focused:e,...t})=>p.jsx(Mie,{"data-focused":e,...t}),Ew=S.forwardRef(function({as:t,className:n,children:r,...i},s){const o=t||"div";return p.jsx(o,{className:zV("flex flex-col items-center bg-black/50 justify-center box-border",n),...i,ref:s,children:r})}),DL=$n(Ew)(e=>["!flex-row duration-300 text-md typography cursor-pointer justify-center border-0 bg-black/75 !text-white uppercase",!rs()&&e["data-focused"]?"animate-button-focused scale-105":"",e["data-focused"]?"bg-active":"",e.disabled?"cursor-default !text-gray-300 bg-gray-500 pointer-events-none !animate-none !scale-100":"active:bg-active",e["data-inactive"]?"!line-through decoration-white opacity-25":"!no-underline"]),jie=({children:e,...t})=>p.jsx(DL,{className:"",...t,as:"button",children:e}),FL=({children:e,...t})=>p.jsx(DL,{...t,as:"a",children:e}),Oie=({size:e="regular",focused:t=!1,className:n,...r})=>{const i="href"in r?FL:jie;return p.jsx(i,{...r,"data-size":e,"data-focused":t,className:`my-2 ${e==="small"?"h-20":"h-40"} ${n}`})},Vie=$n(Ew)`w-[100vw] max-w-[75rem] m-[2rem auto 0 auto] [view-transition-name:menu-container] items-stretch`,$L=$n(xc)`text-xl text-active flex items-center justify-center`,Wr=({title:e,children:t,className:n,spacing:r="regular",...i})=>p.jsxs(Vie,{...i,className:`${n} ${r==="tight"?"p-6 gap-1":"p-10 gap-4"}`,children:[e&&p.jsx($L,{children:e}),t]});Wr.Header=$L;Wr.Button=Oie;Wr.Divider=()=>p.jsx("hr",{});const Lie={name:"1tj9yd6",styles:"cursor:default;color:#989898;background-color:#212121;border-width:0.3rem;pointer-events:none"},zL=Ls("margin:0.5rem 0;height:10rem;border:0 solid black;&[data-disabled='true']{",Lie,";}&[data-size='small']{height:5rem;}",""),Nie=G(Pie,{target:"e1llc1k61"})(zL,";"),Bie=G(lo,{target:"e1llc1k60"})(zL,";"),ut=({size:e,disabled:t,...n})=>{const r="href"in n?Nie:Bie;return p.jsx(r,{...n,"data-disabled":t,"data-size":e})},vl=Wr;function Fc({children:e,onClose:t}){return p.jsxs(p.Fragment,{children:[p.jsx(Die,{onClick:t}),p.jsx("div",{onClick:t,className:"fixed top-0 left-0 w-screen h-screen z-[20001] overflow-auto",children:p.jsx("div",{className:"flex items-center justify-center min-h-full",children:p.jsx("div",{onClick:n=>n.stopPropagation(),children:e})})})]})}const Die=G("div",{target:"e7rcptf0"})({name:"25wq6t",styles:"position:fixed;top:0;left:0;background:rgba(0, 0, 0, 0.7);width:100vw;height:100vh;z-index:20000;backdrop-filter:blur(20px)"});let Fie=0;function Vd(e,t){const n=S.useRef(`${String(Math.random())}-${Fie++}`),{setKeyboard:r,unsetKeyboard:i}=S.useContext(Xx),s=l=>{r(n.current,l)},o=()=>i(n.current);return S.useEffect(()=>(t&&s(e),o),[e,t]),{setHelp:s,clearHelp:o}}function Cr(e={},t=!1){var T;const{enabled:n=!0,onBackspace:r,backspaceHelp:i=null,direction:s="vertical",additionalHelp:o={}}=e,[l,d]=S.useState(null),c=S.useRef([]),h=S.useRef([]),f=S.useRef({}),m=(T=f.current[l])==null?void 0:T.label,v=S.useMemo(()=>({[s]:null,accept:m??null,back:r?i:void 0,...o}),[m,f,i,s]);Vd(v,n);const A=()=>{var w;(w=f.current[l])==null||w.callback(),Ix.play()},b=()=>{r&&(Rx.play(),r())},x=w=>{const R=l?c.current.indexOf(l):0;Rv.play(),d(c.current.at((R+w)%c.current.length)??null)};Dc({[s==="vertical"?"up":"left"]:()=>x(-1),[s==="vertical"?"down":"right"]:()=>x(1),accept:A,back:b},n,[l,c.current]);let E="";const I=(w,R,j,V=!1,{propName:N="onClick",disabled:k=!1}={})=>{if(k)return{disabled:k,focused:!1};h.current.push(w),R&&(f.current[w]={callback:R,label:j,propName:N}),V&&(E=w);const B=n&&l===w;return{focused:B,[N]:R,$keyboardNavigationChangeFocus:x,"data-test":w,...n?{"data-focused":B,"data-e2e-focused":B}:{}}};return S.useEffect(()=>{var w;(w=document.querySelector(`[data-test="${l}"]`))==null||w.scrollIntoView({behavior:"smooth",block:"center"})},[l]),S.useEffect(()=>{const w=h.current.filter(R=>!c.current.includes(R));t&&w.length&&console.log("new elements",w),c.current=[...h.current],h.current.length=0,c.current.length&&(l===null||c.current.indexOf(l)===-1||w.includes(E))&&d(E||c.current[0])}),{focusElement:w=>{c.current.includes(w)&&d(w)},focused:l,register:I}}var $ie=Object.defineProperty,G0=Object.getOwnPropertySymbols,UL=Object.prototype.hasOwnProperty,HL=Object.prototype.propertyIsEnumerable,mP=(e,t,n)=>t in e?$ie(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Nh=(e,t)=>{for(var n in t||(t={}))UL.call(t,n)&&mP(e,n,t[n]);if(G0)for(var n of G0(t))HL.call(t,n)&&mP(e,n,t[n]);return e},Cw=(e,t)=>{var n={};for(var r in e)UL.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&G0)for(var r of G0(e))t.indexOf(r)<0&&HL.call(e,r)&&(n[r]=e[r]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var Ic;(e=>{const t=class{constructor(d,c,h,f){if(this.version=d,this.errorCorrectionLevel=c,this.modules=[],this.isFunction=[],d<t.MIN_VERSION||d>t.MAX_VERSION)throw new RangeError("Version value out of range");if(f<-1||f>7)throw new RangeError("Mask value out of range");this.size=d*4+17;let m=[];for(let A=0;A<this.size;A++)m.push(!1);for(let A=0;A<this.size;A++)this.modules.push(m.slice()),this.isFunction.push(m.slice());this.drawFunctionPatterns();const v=this.addEccAndInterleave(h);if(this.drawCodewords(v),f==-1){let A=1e9;for(let b=0;b<8;b++){this.applyMask(b),this.drawFormatBits(b);const x=this.getPenaltyScore();x<A&&(f=b,A=x),this.applyMask(b)}}s(0<=f&&f<=7),this.mask=f,this.applyMask(f),this.drawFormatBits(f),this.isFunction=[]}static encodeText(d,c){const h=e.QrSegment.makeSegments(d);return t.encodeSegments(h,c)}static encodeBinary(d,c){const h=e.QrSegment.makeBytes(d);return t.encodeSegments([h],c)}static encodeSegments(d,c,h=1,f=40,m=-1,v=!0){if(!(t.MIN_VERSION<=h&&h<=f&&f<=t.MAX_VERSION)||m<-1||m>7)throw new RangeError("Invalid value");let A,b;for(A=h;;A++){const P=t.getNumDataCodewords(A,c)*8,T=l.getTotalBits(d,A);if(T<=P){b=T;break}if(A>=f)throw new RangeError("Data too long")}for(const P of[t.Ecc.MEDIUM,t.Ecc.QUARTILE,t.Ecc.HIGH])v&&b<=t.getNumDataCodewords(A,P)*8&&(c=P);let x=[];for(const P of d){r(P.mode.modeBits,4,x),r(P.numChars,P.mode.numCharCountBits(A),x);for(const T of P.getData())x.push(T)}s(x.length==b);const E=t.getNumDataCodewords(A,c)*8;s(x.length<=E),r(0,Math.min(4,E-x.length),x),r(0,(8-x.length%8)%8,x),s(x.length%8==0);for(let P=236;x.length<E;P^=253)r(P,8,x);let I=[];for(;I.length*8<x.length;)I.push(0);return x.forEach((P,T)=>I[T>>>3]|=P<<7-(T&7)),new t(A,c,I,m)}getModule(d,c){return 0<=d&&d<this.size&&0<=c&&c<this.size&&this.modules[c][d]}getModules(){return this.modules}drawFunctionPatterns(){for(let h=0;h<this.size;h++)this.setFunctionModule(6,h,h%2==0),this.setFunctionModule(h,6,h%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const d=this.getAlignmentPatternPositions(),c=d.length;for(let h=0;h<c;h++)for(let f=0;f<c;f++)h==0&&f==0||h==0&&f==c-1||h==c-1&&f==0||this.drawAlignmentPattern(d[h],d[f]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(d){const c=this.errorCorrectionLevel.formatBits<<3|d;let h=c;for(let m=0;m<10;m++)h=h<<1^(h>>>9)*1335;const f=(c<<10|h)^21522;s(f>>>15==0);for(let m=0;m<=5;m++)this.setFunctionModule(8,m,i(f,m));this.setFunctionModule(8,7,i(f,6)),this.setFunctionModule(8,8,i(f,7)),this.setFunctionModule(7,8,i(f,8));for(let m=9;m<15;m++)this.setFunctionModule(14-m,8,i(f,m));for(let m=0;m<8;m++)this.setFunctionModule(this.size-1-m,8,i(f,m));for(let m=8;m<15;m++)this.setFunctionModule(8,this.size-15+m,i(f,m));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let d=this.version;for(let h=0;h<12;h++)d=d<<1^(d>>>11)*7973;const c=this.version<<12|d;s(c>>>18==0);for(let h=0;h<18;h++){const f=i(c,h),m=this.size-11+h%3,v=Math.floor(h/3);this.setFunctionModule(m,v,f),this.setFunctionModule(v,m,f)}}drawFinderPattern(d,c){for(let h=-4;h<=4;h++)for(let f=-4;f<=4;f++){const m=Math.max(Math.abs(f),Math.abs(h)),v=d+f,A=c+h;0<=v&&v<this.size&&0<=A&&A<this.size&&this.setFunctionModule(v,A,m!=2&&m!=4)}}drawAlignmentPattern(d,c){for(let h=-2;h<=2;h++)for(let f=-2;f<=2;f++)this.setFunctionModule(d+f,c+h,Math.max(Math.abs(f),Math.abs(h))!=1)}setFunctionModule(d,c,h){this.modules[c][d]=h,this.isFunction[c][d]=!0}addEccAndInterleave(d){const c=this.version,h=this.errorCorrectionLevel;if(d.length!=t.getNumDataCodewords(c,h))throw new RangeError("Invalid argument");const f=t.NUM_ERROR_CORRECTION_BLOCKS[h.ordinal][c],m=t.ECC_CODEWORDS_PER_BLOCK[h.ordinal][c],v=Math.floor(t.getNumRawDataModules(c)/8),A=f-v%f,b=Math.floor(v/f);let x=[];const E=t.reedSolomonComputeDivisor(m);for(let P=0,T=0;P<f;P++){let w=d.slice(T,T+b-m+(P<A?0:1));T+=w.length;const R=t.reedSolomonComputeRemainder(w,E);P<A&&w.push(0),x.push(w.concat(R))}let I=[];for(let P=0;P<x[0].length;P++)x.forEach((T,w)=>{(P!=b-m||w>=A)&&I.push(T[P])});return s(I.length==v),I}drawCodewords(d){if(d.length!=Math.floor(t.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let c=0;for(let h=this.size-1;h>=1;h-=2){h==6&&(h=5);for(let f=0;f<this.size;f++)for(let m=0;m<2;m++){const v=h-m,b=(h+1&2)==0?this.size-1-f:f;!this.isFunction[b][v]&&c<d.length*8&&(this.modules[b][v]=i(d[c>>>3],7-(c&7)),c++)}}s(c==d.length*8)}applyMask(d){if(d<0||d>7)throw new RangeError("Mask value out of range");for(let c=0;c<this.size;c++)for(let h=0;h<this.size;h++){let f;switch(d){case 0:f=(h+c)%2==0;break;case 1:f=c%2==0;break;case 2:f=h%3==0;break;case 3:f=(h+c)%3==0;break;case 4:f=(Math.floor(h/3)+Math.floor(c/2))%2==0;break;case 5:f=h*c%2+h*c%3==0;break;case 6:f=(h*c%2+h*c%3)%2==0;break;case 7:f=((h+c)%2+h*c%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[c][h]&&f&&(this.modules[c][h]=!this.modules[c][h])}}getPenaltyScore(){let d=0;for(let m=0;m<this.size;m++){let v=!1,A=0,b=[0,0,0,0,0,0,0];for(let x=0;x<this.size;x++)this.modules[m][x]==v?(A++,A==5?d+=t.PENALTY_N1:A>5&&d++):(this.finderPenaltyAddHistory(A,b),v||(d+=this.finderPenaltyCountPatterns(b)*t.PENALTY_N3),v=this.modules[m][x],A=1);d+=this.finderPenaltyTerminateAndCount(v,A,b)*t.PENALTY_N3}for(let m=0;m<this.size;m++){let v=!1,A=0,b=[0,0,0,0,0,0,0];for(let x=0;x<this.size;x++)this.modules[x][m]==v?(A++,A==5?d+=t.PENALTY_N1:A>5&&d++):(this.finderPenaltyAddHistory(A,b),v||(d+=this.finderPenaltyCountPatterns(b)*t.PENALTY_N3),v=this.modules[x][m],A=1);d+=this.finderPenaltyTerminateAndCount(v,A,b)*t.PENALTY_N3}for(let m=0;m<this.size-1;m++)for(let v=0;v<this.size-1;v++){const A=this.modules[m][v];A==this.modules[m][v+1]&&A==this.modules[m+1][v]&&A==this.modules[m+1][v+1]&&(d+=t.PENALTY_N2)}let c=0;for(const m of this.modules)c=m.reduce((v,A)=>v+(A?1:0),c);const h=this.size*this.size,f=Math.ceil(Math.abs(c*20-h*10)/h)-1;return s(0<=f&&f<=9),d+=f*t.PENALTY_N4,s(0<=d&&d<=2568888),d}getAlignmentPatternPositions(){if(this.version==1)return[];{const d=Math.floor(this.version/7)+2,c=this.version==32?26:Math.ceil((this.version*4+4)/(d*2-2))*2;let h=[6];for(let f=this.size-7;h.length<d;f-=c)h.splice(1,0,f);return h}}static getNumRawDataModules(d){if(d<t.MIN_VERSION||d>t.MAX_VERSION)throw new RangeError("Version number out of range");let c=(16*d+128)*d+64;if(d>=2){const h=Math.floor(d/7)+2;c-=(25*h-10)*h-55,d>=7&&(c-=36)}return s(208<=c&&c<=29648),c}static getNumDataCodewords(d,c){return Math.floor(t.getNumRawDataModules(d)/8)-t.ECC_CODEWORDS_PER_BLOCK[c.ordinal][d]*t.NUM_ERROR_CORRECTION_BLOCKS[c.ordinal][d]}static reedSolomonComputeDivisor(d){if(d<1||d>255)throw new RangeError("Degree out of range");let c=[];for(let f=0;f<d-1;f++)c.push(0);c.push(1);let h=1;for(let f=0;f<d;f++){for(let m=0;m<c.length;m++)c[m]=t.reedSolomonMultiply(c[m],h),m+1<c.length&&(c[m]^=c[m+1]);h=t.reedSolomonMultiply(h,2)}return c}static reedSolomonComputeRemainder(d,c){let h=c.map(f=>0);for(const f of d){const m=f^h.shift();h.push(0),c.forEach((v,A)=>h[A]^=t.reedSolomonMultiply(v,m))}return h}static reedSolomonMultiply(d,c){if(d>>>8||c>>>8)throw new RangeError("Byte out of range");let h=0;for(let f=7;f>=0;f--)h=h<<1^(h>>>7)*285,h^=(c>>>f&1)*d;return s(h>>>8==0),h}finderPenaltyCountPatterns(d){const c=d[1];s(c<=this.size*3);const h=c>0&&d[2]==c&&d[3]==c*3&&d[4]==c&&d[5]==c;return(h&&d[0]>=c*4&&d[6]>=c?1:0)+(h&&d[6]>=c*4&&d[0]>=c?1:0)}finderPenaltyTerminateAndCount(d,c,h){return d&&(this.finderPenaltyAddHistory(c,h),c=0),c+=this.size,this.finderPenaltyAddHistory(c,h),this.finderPenaltyCountPatterns(h)}finderPenaltyAddHistory(d,c){c[0]==0&&(d+=this.size),c.pop(),c.unshift(d)}};let n=t;n.MIN_VERSION=1,n.MAX_VERSION=40,n.PENALTY_N1=3,n.PENALTY_N2=3,n.PENALTY_N3=40,n.PENALTY_N4=10,n.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],n.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=n;function r(d,c,h){if(c<0||c>31||d>>>c)throw new RangeError("Value out of range");for(let f=c-1;f>=0;f--)h.push(d>>>f&1)}function i(d,c){return(d>>>c&1)!=0}function s(d){if(!d)throw new Error("Assertion error")}const o=class{constructor(d,c,h){if(this.mode=d,this.numChars=c,this.bitData=h,c<0)throw new RangeError("Invalid argument");this.bitData=h.slice()}static makeBytes(d){let c=[];for(const h of d)r(h,8,c);return new o(o.Mode.BYTE,d.length,c)}static makeNumeric(d){if(!o.isNumeric(d))throw new RangeError("String contains non-numeric characters");let c=[];for(let h=0;h<d.length;){const f=Math.min(d.length-h,3);r(parseInt(d.substr(h,f),10),f*3+1,c),h+=f}return new o(o.Mode.NUMERIC,d.length,c)}static makeAlphanumeric(d){if(!o.isAlphanumeric(d))throw new RangeError("String contains unencodable characters in alphanumeric mode");let c=[],h;for(h=0;h+2<=d.length;h+=2){let f=o.ALPHANUMERIC_CHARSET.indexOf(d.charAt(h))*45;f+=o.ALPHANUMERIC_CHARSET.indexOf(d.charAt(h+1)),r(f,11,c)}return h<d.length&&r(o.ALPHANUMERIC_CHARSET.indexOf(d.charAt(h)),6,c),new o(o.Mode.ALPHANUMERIC,d.length,c)}static makeSegments(d){return d==""?[]:o.isNumeric(d)?[o.makeNumeric(d)]:o.isAlphanumeric(d)?[o.makeAlphanumeric(d)]:[o.makeBytes(o.toUtf8ByteArray(d))]}static makeEci(d){let c=[];if(d<0)throw new RangeError("ECI assignment value out of range");if(d<128)r(d,8,c);else if(d<16384)r(2,2,c),r(d,14,c);else if(d<1e6)r(6,3,c),r(d,21,c);else throw new RangeError("ECI assignment value out of range");return new o(o.Mode.ECI,0,c)}static isNumeric(d){return o.NUMERIC_REGEX.test(d)}static isAlphanumeric(d){return o.ALPHANUMERIC_REGEX.test(d)}getData(){return this.bitData.slice()}static getTotalBits(d,c){let h=0;for(const f of d){const m=f.mode.numCharCountBits(c);if(f.numChars>=1<<m)return 1/0;h+=4+m+f.bitData.length}return h}static toUtf8ByteArray(d){d=encodeURI(d);let c=[];for(let h=0;h<d.length;h++)d.charAt(h)!="%"?c.push(d.charCodeAt(h)):(c.push(parseInt(d.substr(h+1,2),16)),h+=2);return c}};let l=o;l.NUMERIC_REGEX=/^[0-9]*$/,l.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,l.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",e.QrSegment=l})(Ic||(Ic={}));(e=>{(t=>{const n=class{constructor(i,s){this.ordinal=i,this.formatBits=s}};let r=n;r.LOW=new n(0,1),r.MEDIUM=new n(1,0),r.QUARTILE=new n(2,3),r.HIGH=new n(3,2),t.Ecc=r})(e.QrCode||(e.QrCode={}))})(Ic||(Ic={}));(e=>{(t=>{const n=class{constructor(i,s){this.modeBits=i,this.numBitsCharCount=s}numCharCountBits(i){return this.numBitsCharCount[Math.floor((i+7)/17)]}};let r=n;r.NUMERIC=new n(1,[10,12,14]),r.ALPHANUMERIC=new n(2,[9,11,13]),r.BYTE=new n(4,[8,16,16]),r.KANJI=new n(8,[8,10,12]),r.ECI=new n(7,[0,0,0]),t.Mode=r})(e.QrSegment||(e.QrSegment={}))})(Ic||(Ic={}));var Bu=Ic;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var GL={L:Bu.QrCode.Ecc.LOW,M:Bu.QrCode.Ecc.MEDIUM,Q:Bu.QrCode.Ecc.QUARTILE,H:Bu.QrCode.Ecc.HIGH},qL=128,WL="L",KL="#FFFFFF",YL="#000000",QL=!1,kw=4,zie=.1;function JL(e,t=0){const n=[];return e.forEach(function(r,i){let s=null;r.forEach(function(o,l){if(!o&&s!==null){n.push(`M${s+t} ${i+t}h${l-s}v1H${s+t}z`),s=null;return}if(l===r.length-1){if(!o)return;s===null?n.push(`M${l+t},${i+t} h1v1H${l+t}z`):n.push(`M${s+t},${i+t} h${l+1-s}v1H${s+t}z`);return}o&&s===null&&(s=l)})}),n.join("")}function XL(e,t){return e.slice().map((n,r)=>r<t.y||r>=t.y+t.h?n:n.map((i,s)=>s<t.x||s>=t.x+t.w?i:!1))}function ZL(e,t,n,r){if(r==null)return null;const i=n?kw:0,s=e.length+i*2,o=Math.floor(t*zie),l=s/t,d=(r.width||o)*l,c=(r.height||o)*l,h=r.x==null?e.length/2-d/2:r.x*l,f=r.y==null?e.length/2-c/2:r.y*l;let m=null;if(r.excavate){let v=Math.floor(h),A=Math.floor(f),b=Math.ceil(d+h-v),x=Math.ceil(c+f-A);m={x:v,y:A,w:b,h:x}}return{x:h,y:f,h:c,w:d,excavation:m}}var Uie=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}();function e4(e){const t=e,{value:n,size:r=qL,level:i=WL,bgColor:s=KL,fgColor:o=YL,includeMargin:l=QL,style:d,imageSettings:c}=t,h=Cw(t,["value","size","level","bgColor","fgColor","includeMargin","style","imageSettings"]),f=c==null?void 0:c.src,m=S.useRef(null),v=S.useRef(null),[A,b]=S.useState(!1);S.useEffect(()=>{if(m.current!=null){const I=m.current,P=I.getContext("2d");if(!P)return;let T=Bu.QrCode.encodeText(n,GL[i]).getModules();const w=l?kw:0,R=T.length+w*2,j=ZL(T,r,l,c),V=v.current,N=j!=null&&V!==null&&V.complete&&V.naturalHeight!==0&&V.naturalWidth!==0;N&&j.excavation!=null&&(T=XL(T,j.excavation));const k=window.devicePixelRatio||1;I.height=I.width=r*k;const B=r/R*k;P.scale(B,B),P.fillStyle=s,P.fillRect(0,0,R,R),P.fillStyle=o,Uie?P.fill(new Path2D(JL(T,w))):T.forEach(function(H,F){H.forEach(function(U,D){U&&P.fillRect(D+w,F+w,1,1)})}),N&&P.drawImage(V,j.x+w,j.y+w,j.w,j.h)}}),S.useEffect(()=>{b(!1)},[f]);const x=Nh({height:r,width:r},d);let E=null;return f!=null&&(E=Xe.createElement("img",{src:f,key:f,style:{display:"none"},onLoad:()=>{b(!0)},ref:v})),Xe.createElement(Xe.Fragment,null,Xe.createElement("canvas",Nh({style:x,height:r,width:r,ref:m},h)),E)}function t4(e){const t=e,{value:n,size:r=qL,level:i=WL,bgColor:s=KL,fgColor:o=YL,includeMargin:l=QL,imageSettings:d}=t,c=Cw(t,["value","size","level","bgColor","fgColor","includeMargin","imageSettings"]);let h=Bu.QrCode.encodeText(n,GL[i]).getModules();const f=l?kw:0,m=h.length+f*2,v=ZL(h,r,l,d);let A=null;d!=null&&v!=null&&(v.excavation!=null&&(h=XL(h,v.excavation)),A=Xe.createElement("image",{xlinkHref:d.src,height:v.h,width:v.w,x:v.x+f,y:v.y+f,preserveAspectRatio:"none"}));const b=JL(h,f);return Xe.createElement("svg",Nh({height:r,width:r,viewBox:`0 0 ${m} ${m}`},c),Xe.createElement("path",{fill:s,d:`M0,0 h${m}v${m}H0z`,shapeRendering:"crispEdges"}),Xe.createElement("path",{fill:o,d:b,shapeRendering:"crispEdges"}),A)}var Hie=e=>{const t=e,{renderAs:n}=t,r=Cw(t,["renderAs"]);return n==="svg"?Xe.createElement(t4,Nh({},r)):Xe.createElement(e4,Nh({},r))};const Gie=Object.freeze(Object.defineProperty({__proto__:null,QRCodeCanvas:e4,QRCodeSVG:t4,default:Hie},Symbol.toStringTag,{value:"Module"}));var F1={exports:{}},$1={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vP;function qie(){if(vP)return $1;vP=1;var e=Rc();function t(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,s=e.useLayoutEffect,o=e.useDebugValue;function l(f,m){var v=m(),A=r({inst:{value:v,getSnapshot:m}}),b=A[0].inst,x=A[1];return s(function(){b.value=v,b.getSnapshot=m,d(b)&&x({inst:b})},[f,v,m]),i(function(){return d(b)&&x({inst:b}),f(function(){d(b)&&x({inst:b})})},[f]),o(v),v}function d(f){var m=f.getSnapshot;f=f.value;try{var v=m();return!n(f,v)}catch{return!0}}function c(f,m){return m()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:l;return $1.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,$1}var yP;function Wie(){return yP||(yP=1,F1.exports=qie()),F1.exports}var Kie=Wie();const{useEffect:Yie,useLayoutEffect:Qie,useRef:Jie,useInsertionEffect:Xie}=f0,Zie=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ese=Zie?Qie:Yie,n4=Xie||ese,r4=e=>{const t=Jie([e,(...n)=>t[0](...n)]).current;return n4(()=>{t[0]=e}),t[1]},tse=(e="",t=location.pathname)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",nse=(e,t="")=>e[0]==="~"?e.slice(1):t+e,rse="popstate",Tw="pushState",Iw="replaceState",ise="hashchange",AP=[rse,Tw,Iw,ise],sse=e=>{for(const t of AP)addEventListener(t,e);return()=>{for(const t of AP)removeEventListener(t,e)}},ose=(e,t)=>Kie.useSyncExternalStore(sse,e,t),bP=()=>location.pathname,ase=({ssrPath:e}={})=>ose(bP,e?()=>e:bP),lse=(e,{replace:t=!1}={})=>history[t?Iw:Tw](null,"",e),cse=(e={})=>[tse(e.base,ase(e)),r4((t,n)=>lse(nse(t,e.base),n))];if(typeof history<"u")for(const e of[Tw,Iw]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),r=new Event(e);return r.arguments=arguments,dispatchEvent(r),n}}function use(e=fse){let t={};const n=r=>t[r]||(t[r]=e(r));return(r,i)=>{const{regexp:s,keys:o}=n(r||""),l=s.exec(i);return l?[!0,o.reduce((c,h,f)=>(c[h.name]=l[f+1],c),{})]:[!1,null]}}const _P=e=>e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),dse=(e,t,n)=>{let r=e?"((?:[^\\/]+?)(?:\\/(?:[^\\/]+?))*)":"([^\\/]+?)";return t&&n&&(r="(?:\\/"+r+")"),r+(t?"?":"")},fse=e=>{const t=/:([A-Za-z0-9_]+)([?+*]?)/g;let n=null,r=0,i=[],s="";for(;(n=t.exec(e))!==null;){const[o,l,d]=n,c=d==="+"||d==="*",h=d==="?"||d==="*",f=h&&e[n.index-1]==="/"?1:0,m=e.substring(r,n.index-f);i.push({name:l}),r=t.lastIndex,s+=_P(m)+dse(c,h,f)}return s+=_P(e.substring(r)),{keys:i,regexp:new RegExp("^"+s+"(?:\\/)?$","i")}},gS={hook:cse,matcher:use(),base:""},i4=S.createContext(gS),Qv=()=>S.useContext(i4),Jv=e=>e.hook(e),hse=()=>Jv(Qv()),s4=e=>{const t=Qv(),[n]=Jv(t);return t.matcher(e,n)},pse=S.createContext({params:{}}),gse=({hook:e,matcher:t,ssrPath:n,base:r="",parent:i,children:s})=>{const o=(d,c=i||gS)=>(d.hook=e||c.hook,d.matcher=t||c.matcher,d.ssrPath=n||c.ssrPath,d.ownBase=r,d.parent=i,d),[l]=S.useState(()=>o({get base(){return(l.parent||gS).base+l.ownBase}}));return n4(()=>{o(l)}),S.createElement(i4.Provider,{value:l,children:s})},SP=(e,t)=>S.createElement(pse.Provider,{value:{params:e},children:t}),ti=({path:e,match:t,component:n,children:r})=>{const i=s4(e),[s,o]=t||i;return s?n?SP(o,S.createElement(n,{params:o})):SP(o,typeof r=="function"?r(o):r):null},Rw=S.forwardRef((e,t)=>{const n=Qv(),[,r]=Jv(n),{to:i,href:s=i,children:o,onClick:l}=e,d=r4(f=>{f.ctrlKey||f.metaKey||f.altKey||f.shiftKey||f.button!==0||(l&&l(f),f.defaultPrevented||(f.preventDefault(),r(i||s,e)))}),c={href:s[0]==="~"?s.slice(1):n.base+s,onClick:d,to:null,ref:t},h=S.isValidElement(o)?o:S.createElement("a",e);return S.cloneElement(h,c)}),mS=e=>Array.isArray(e)?[].concat(...e.map(t=>t&&t.type===S.Fragment?mS(t.props.children):mS(t))):[e],mse=({children:e,location:t})=>{const n=Qv(),r=n.matcher,[i]=Jv(n);for(const s of mS(e)){let o=0;if(S.isValidElement(s)&&(o=s.props.path?r(s.props.path,t||i):[!0,{}])[0])return S.cloneElement(s,{match:o})}return null},{QRCodeSVG:vse}=Gie;function z1({gameCode:e,...t}){return p.jsx(Sse,{...t,children:e.split("").map((n,r)=>p.jsx("span",{children:n},r))})}function Pw(){var i;const e=new URL((i=global.location)==null?void 0:i.href),[t]=s4("remote-mic"),n=Nv("room")??cc.getGameCode();e.pathname="/remote-mic",e.searchParams.set("room",n);const r=e.href;return S.useEffect(()=>{t||cc.start()},[t]),p.jsxs(wse,{children:[p.jsx(Cse,{children:p.jsxs("h1",{children:["Code: ",p.jsx(z1,{gameCode:n})]})}),p.jsx(Ese,{children:p.jsx(vse,{value:r,width:"100%",height:"100%",includeMargin:!0})}),p.jsxs(kse,{children:[p.jsxs(yse,{children:[p.jsxs("h3",{children:["Game code: ",p.jsx(z1,{gameCode:n,"data-test":"game-code"})]}),p.jsxs("ol",{children:[p.jsxs("li",{children:["Go to"," ",p.jsx("a",{href:e.origin,target:"_blank",rel:"noreferrer",children:"allkaraoke.party"})," ","on your phone"]}),p.jsxs("li",{children:["Click on ",p.jsx("b",{children:"Join game"})]}),p.jsxs("li",{children:["Enter the code ",p.jsx(z1,{gameCode:n})]}),p.jsx("li",{children:"Follow the instructions"})]})]}),p.jsxs(Ase,{children:[p.jsx("h4",{children:"Or copy and send the link"}),p.jsxs(bse,{children:[p.jsx(xse,{disabled:!0,value:r,"data-test":"server-link-input"}),p.jsx(_se,{onClick:()=>{navigator.clipboard.writeText(r)},children:"Copy"})]})]})]})]})}const yse=G("div",{target:"eg58fmd9"})({name:"82a6rk",styles:"flex:1"}),Ase=G("div",{target:"eg58fmd8"})({name:"4dmv1c",styles:"flex:0"}),bse=G("div",{target:"eg58fmd7"})({name:"sqzzkh",styles:"position:relative;margin-top:0.5rem"}),_se=G("button",{target:"eg58fmd6"})("cursor:pointer;position:absolute;padding:0 2rem;right:0;height:100%;box-sizing:border-box;background:",Ve.colors.text.active,";",xt,";font-weight:bold;font-size:2.2rem;border:0;:active{background-color:black;}"),Sse=G("strong",{target:"eg58fmd5"})("text-transform:uppercase;padding:0.5rem 1.5rem;border-radius:0.5rem;display:inline-flex;gap:1.5rem;",pd,";"),xse=G("input",{target:"eg58fmd4"})({name:"gri5w4",styles:"padding:1rem;box-sizing:border-box;background:grey;border:none;width:100%;font-size:1.3rem"}),wse=G("div",{target:"eg58fmd3"})({name:"1d1jk7v",styles:"display:flex;flex-direction:row;flex-wrap:nowrap;align-items:stretch;flex:1;gap:2%;@media (max-width: 560px){flex-direction:column;}"}),Ese=G("div",{target:"eg58fmd2"})({name:"2ogmzh",styles:"flex:0.6;@media (max-width: 560px){flex:0;}"}),Cse=G("div",{target:"eg58fmd1"})({name:"mhlr3w",styles:"display:none;@media (max-width: 560px){display:block;}margin-bottom:2rem"}),kse=G("div",{target:"eg58fmd0"})("@media (max-width: 560px){display:none;}flex:1;display:flex;flex-direction:column;b{font-weight:bold;",xt,";color:",Ve.colors.text.active,";}h3{margin-bottom:1rem;}h4{margin:1rem 0;}ol{padding-left:2.3rem;margin:0 0 1.25rem 0;list-style:decimal inside;}li{color:white;font-size:2rem;line-height:3.2rem;}");function Tse({closeModal:e}){const{register:t}=Cr({onBackspace:e});return p.jsx(Fc,{onClose:e,children:p.jsxs(vl,{children:[p.jsx(Pw,{}),p.jsx(lo,{...t("quick-connect-close",e),children:"Close"})]})})}function Ise(){const[e,t]=S.useState(!1);Tt(Qr);const[n,r]=Tt(Xj),{hasContent:i}=S.useContext(Xx),s=()=>t(!1);return p.jsxs(p.Fragment,{children:[e&&p.jsx(Tse,{closeModal:s}),p.jsxs(Rse,{children:[i&&p.jsx(yd,{title:"Toggle help",place:"bottom-end",children:p.jsx(Pse,{size:"small",onClick:()=>r(!n),"data-test":"toggle-help",children:n?p.jsx(Yne,{}):p.jsx(Qne,{})})}),p.jsx(Cie,{}),p.jsx(yd,{title:"Connect phone",place:"bottom-end",children:p.jsx(qv,{size:"small",onClick:()=>t(o=>!o),"data-test":"quick-connect-phone",children:p.jsx(D0,{})})})]})]})}const Rse=G("div",{target:"efkmcew1"})({name:"17druna",styles:"view-transition-name:toolbar;cursor:pointer;background:rgba(0, 0, 0, 0.75);color:white;padding-left:1rem;margin:0;position:fixed;top:0;right:0;z-index:10000;color:white;svg{fill:white;width:3.25rem;height:3.25rem;transition:transform 200ms;&:hover{transform:scale(1.2);}}display:flex;gap:0.75rem;border-bottom-left-radius:1.5rem"}),Pse=G(qv,{target:"efkmcew0"})({name:"lpoy45",styles:"scale:0.9"});function yl({children:e,toolbar:t=!0}){return p.jsxs(see,{children:[t&&p.jsx(Ise,{}),e]})}const Mse=zt(p.jsx("path",{d:"M3 13h2v-2H3zm0 4h2v-2H3zm0-8h2V7H3zm4 4h14v-2H7zm0 4h14v-2H7zM7 7v2h14V7z"}),"List"),jse=zt(p.jsx("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6"}),"Settings"),Mw=({...e})=>p.jsx("svg",{viewBox:"0 0 512 512",fill:"currentcolor",...e,children:p.jsx("path",{stroke:"black",strokeWidth:"2%",xmlns:"http://www.w3.org/2000/svg",d:"M252.529,162.029l168.125,210.156c-12.313,1.25-24.031,6.438-33.031,15.438s-14.188,20.719-15.438,33.031L162.029,252.545  c-3.563-24.922,4.813-50.078,22.625-67.891C202.467,166.857,227.623,158.467,252.529,162.029z M398.936,398.936  c-9.063,9.063-13.031,22.063-10.625,34.656l45.281,45.25c12.5,12.5,32.75,12.5,45.25,0s12.5-32.75,0-45.25l-45.25-45.281  C420.998,385.904,407.998,389.873,398.936,398.936z M162.029,162.029c18.594-18.594,43.188-29.891,68.969-32.297  c-3.375-24.563-14.906-49.391-35.031-69.516c-43.75-43.75-109.594-48.813-147.063-11.313  c-37.5,37.484-32.438,103.328,11.313,147.078c20.125,20.125,44.938,31.656,69.5,35.031  C132.154,205.217,143.436,180.623,162.029,162.029z"})}),vS=$n(Mw)`fill-text-player-0`,o4=$n(Mw)`fill-text-player-1`;function Ose({active:e,setActiveTab:t}){return p.jsxs(Vse,{children:[p.jsxs(U1,{active:e==="microphone",onClick:()=>t("microphone"),"data-test":"menu-microphone",children:[p.jsx(H1,{children:p.jsx(Mw,{})}),p.jsx(G1,{children:"Microphone"})]}),p.jsxs(U1,{active:e==="song-list",onClick:()=>t("song-list"),"data-test":"menu-song-list",children:[p.jsx(H1,{children:p.jsx(Mse,{})}),p.jsx(G1,{children:"Song list"})]}),p.jsxs(U1,{active:e==="settings",onClick:()=>t("settings"),"data-test":"menu-settings",children:[p.jsx(H1,{children:p.jsx(jse,{})}),p.jsx(G1,{children:"Settings"})]})]})}const Vse=G("div",{target:"e1c2ys9k3"})({name:"1x8gdpu",styles:"position:fixed;bottom:0;right:0;display:flex;align-items:stretch;width:100%;gap:1px;background:#424242;@media (max-height: 500px) and (min-aspect-ratio: 16/10){max-width:400px;transform:scale(0.75);transform-origin:bottom right;}"}),U1=G("div",{target:"e1c2ys9k2"})("cursor:pointer;flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;background:black;padding:1rem;font-size:1.5rem;gap:0.5rem;color:",e=>e.active?Ve.colors.text.active:"#cecece",";"),H1=G("div",{target:"e1c2ys9k1"})({name:"immj2t",styles:"svg{width:2.5rem;height:2.5rem;}font-size:2rem"}),G1=G("div",{target:"e1c2ys9k0"})(""),Ld=zt(p.jsx("path",{d:"M1 21h22L12 2zm12-3h-2v-2h2zm0-4h-2v-4h2z"}),"Warning"),jw=()=>{const[e,t]=S.useState(rl.getStatus());return S.useEffect(()=>rl.addListener(t),[]),e};function a4(){return navigator==null?void 0:navigator.userAgent.includes("OPR")}const Lse="/assets/allow-mic-DleF1-pf.png",Nse="/assets/enable-mic-opera-B5FfRj_P.png",Bse="/assets/enable-mic-TGG47ucR.png",Dse=()=>a4()?Nse:Bse,sp=({children:e,fallback:t,showImages:n=!0})=>{const r=jw();return p.jsxs(p.Fragment,{children:[r==="accepted"&&e,r!=="accepted"&&p.jsxs(p.Fragment,{children:[p.jsx($se,{children:p.jsx(zse,{})}),t,p.jsxs(Fse,{children:[r==="requested"&&n&&p.jsx("img",{src:Lse,alt:"how-to-allow"}),r==="declined"&&p.jsxs(p.Fragment,{children:[p.jsx("h3",{children:"Access is blocked, you can unblock it here"}),n&&p.jsx("img",{src:Dse(),alt:"how-to-enable"})]}),a4()&&p.jsxs("h4",{children:[p.jsx("strong",{children:"Opera"})," is buggy regarding microphone access - if you encounter issue (e.g. this message stays even after the access to microphone was granted), consider other browsers."]})]})]})]})},Fse=G("div",{target:"e1w9vi9z2"})({name:"1hmq8jv",styles:"text-align:center;img{margin:1.5rem 0 0.5rem;box-shadow:0.5rem 0.5rem 0.5rem rgba(0, 0, 0, 0.5),inset 0 0 0.5rem 0.5rem rgba(255, 255, 255, 0.5);border:0.5rem solid white;border-radius:1rem;box-sizing:border-box;max-width:100%;}"}),$se=G("div",{target:"e1w9vi9z1"})({name:"zov8s0",styles:"width:100%;display:flex;justify-content:center"}),zse=G(Ld,{target:"e1w9vi9z0"})("color:",Ve.colors.text.active,";font-size:3rem;");function Use(){return!1}const Um=zt(p.jsx("path",{d:"m1 9 2 2c4.97-4.97 13.03-4.97 18 0l2-2C16.93 2.93 7.08 2.93 1 9m8 8 3 3 3-3c-1.65-1.66-4.34-1.66-6 0m-4-4 2 2c2.76-2.76 7.24-2.76 10 0l2-2C15.14 9.14 8.87 9.14 5 13"}),"Wifi");function op(e,t,n=1){return n===1?(t+1)%e.length:(t+e.length-1)%e.length}function Hse(e,t,n=1){return op(e,e.indexOf(t),n)}function dc(e,t,n=1){return e[Hse(e,t,n)]}const Es=({focused:e,disabled:t=!1,label:n,value:r,onClick:i,info:s,children:o,...l})=>p.jsxs(Gse,{children:[p.jsxs(qse,{"data-focused":e,onClick:i,"data-disabled":t,...l,children:[p.jsx("span",{children:n?p.jsxs(p.Fragment,{children:[n,":"]}):""})," ",p.jsx(Wse,{children:r}),o??null]}),s&&p.jsx(l4,{children:s})]}),Gse=G("div",{target:"e84wjn53"})(""),l4=G("div",{target:"e84wjn52"})(xt,";font-size:2rem;padding:1rem 0.5rem 0;text-align:justify;"),qse=G("span",{target:"e84wjn51"})("background:rgba(0, 0, 0, 0.7);width:auto;",xt,";text-align:right;font-size:2.7rem;cursor:pointer;padding:0.65rem;display:flex;flex-direction:row;justify-content:space-between;&[data-expanded='true']{font-size:6rem;}&[data-disabled='true']{cursor:default;}&[data-focused='true'][data-disabled='false']{animation:focusAnimation 1000ms ease-in-out infinite both;}&:hover{animation:focusAnimation 1000ms ease-in-out infinite both;}"),Wse=G("span",{target:"e84wjn50"})("color:",Ve.colors.text.active,";text-overflow:ellipsis;overflow:hidden;white-space:nowrap;padding-left:1rem;"),$c=S.forwardRef(({focused:e,label:t,value:n,onChange:r,disabled:i,className:s,adornment:o,info:l,...d},c)=>{const h=S.useRef(null);return S.useImperativeHandle(c,()=>h.current),mi(Z_,()=>{var f;return(f=h.current)==null?void 0:f.focus()},{enabled:e}),p.jsxs("div",{children:[p.jsxs(Yse,{"data-focused":e,className:s,children:[p.jsx(Qse,{children:t}),p.jsx(Jse,{value:n,onChange:f=>r(f.target.value),...d,disabled:i,ref:h}),o&&p.jsx(Kse,{children:o})]}),l&&p.jsx(l4,{children:l})]})}),Kse=G("span",{target:"et2ce2n3"})(""),Yse=G("div",{target:"et2ce2n2"})("background:black;caret:underscore;",xt,";width:auto;display:flex;cursor:text;padding:0.25em;align-items:center;&[data-focused='true']{animation:focusAnimation 1000ms ease-in-out infinite both;}&:hover{animation:focusAnimation 1000ms ease-in-out infinite both;}"),Qse=G("span",{target:"et2ce2n1"})({name:"1vbnwdc",styles:"display:inline-flex;align-items:center;justify-content:center;padding-right:0.5em;white-space:nowrap;width:auto;svg{font-size:1em;}"}),Jse=G("input",{target:"et2ce2n0"})("padding:0;border:0;background:transparent;caret:underscore;",xt,";color:",Ve.colors.text.active,";width:100%;font-size:1em;&:focus{outline:none;}");function Xse(e){return ai("MuiCircularProgress",e)}li("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const za=44,yS=Bc`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,AS=Bc`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`,Zse=typeof yS!="string"?Ls`
        animation: ${yS} 1.4s linear infinite;
      `:null,eoe=typeof AS!="string"?Ls`
        animation: ${AS} 1.4s ease-in-out infinite;
      `:null,toe=e=>{const{classes:t,variant:n,color:r,disableShrink:i}=e,s={root:["root",n,`color${Bt(r)}`],svg:["svg"],circle:["circle",`circle${Bt(n)}`,i&&"circleDisableShrink"]};return _i(s,Xse,t)},noe=Mn("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`color${Bt(n.color)}`]]}})(Os(({theme:e})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("transform")}},{props:{variant:"indeterminate"},style:Zse||{animation:`${yS} 1.4s linear infinite`}},...Object.entries(e.palette).filter(Vh()).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}}))]}))),roe=Mn("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),ioe=Mn("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.circle,t[`circle${Bt(n.variant)}`],n.disableShrink&&t.circleDisableShrink]}})(Os(({theme:e})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:t})=>t.variant==="indeterminate"&&!t.disableShrink,style:eoe||{animation:`${AS} 1.4s ease-in-out infinite`}}]}))),soe=S.forwardRef(function(t,n){const r=ci({props:t,name:"MuiCircularProgress"}),{className:i,color:s="primary",disableShrink:o=!1,size:l=40,style:d,thickness:c=3.6,value:h=0,variant:f="indeterminate",...m}=r,v={...r,color:s,disableShrink:o,size:l,thickness:c,value:h,variant:f},A=toe(v),b={},x={},E={};if(f==="determinate"){const I=2*Math.PI*((za-c)/2);b.strokeDasharray=I.toFixed(3),E["aria-valuenow"]=Math.round(h),b.strokeDashoffset=`${((100-h)/100*I).toFixed(3)}px`,x.transform="rotate(-90deg)"}return p.jsx(noe,{className:rn(A.root,i),style:{width:l,height:l,...x,...d},ownerState:v,ref:n,role:"progressbar",...E,...m,children:p.jsx(roe,{className:A.svg,ownerState:v,viewBox:`${za/2} ${za/2} ${za} ${za}`,children:p.jsx(ioe,{className:A.circle,style:b,ownerState:v,cx:za,cy:za,r:(za-c)/2,fill:"none",strokeWidth:c})})})});function ap(e){return p.jsx(soe,{...e})}function Bh(e){document.startViewTransition?document.startViewTransition(async()=>{await e()}):e()}const q0=(e,t)=>{var n;if(t){const r=new URLSearchParams((n=global.location)==null?void 0:n.search);return Object.entries(t).forEach(([i,s])=>{s===null?r.delete(i):r.set(i,s)}),`${e}?${r.toString()}`}return e};function $i(){const[,e]=hse();return(t,n,{smooth:r=!0,...i}={})=>{r?Bh(()=>e(q0(t,n),i)):e(q0(t,n),i)}}const c4=zt(p.jsx("path",{d:"M20 18c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2H0v2h24v-2zM4 6h16v10H4z"}),"Laptop"),u4=zt(p.jsx("path",{d:"M16 1H8C6.34 1 5 2.34 5 4v16c0 1.66 1.34 3 3 3h8c1.66 0 3-1.34 3-3V4c0-1.66-1.34-3-3-3m-2 20h-4v-1h4zm3.25-3H6.75V4h10.5z"}),"PhoneAndroid"),xP="confirmed-wifi";function ooe({onClose:e}){const[t,n]=Xe.useState(ot.session.getItem(xP)??!1),r=()=>{ot.session.setItem(xP,!0),n(!0),e==null||e()};return S.useEffect(()=>{var i,s,o;if(navigator!=null&&navigator.connection)if(((i=navigator==null?void 0:navigator.connection)==null?void 0:i.type)==="wifi")r();else{const l=()=>{var d;((d=navigator==null?void 0:navigator.connection)==null?void 0:d.type)==="wifi"&&r()};return(o=(s=navigator==null?void 0:navigator.connection)==null?void 0:s.addEventListener)==null||o.call(s,"change",l),()=>{var d,c;return(c=(d=navigator==null?void 0:navigator.connection)==null?void 0:d.removeEventListener)==null?void 0:c.call(d,"change",l)}}},[]),t?null:p.jsx(Fc,{onClose:r,children:p.jsxs(aoe,{children:[p.jsxs(loe,{children:[p.jsxs("h3",{children:["Connect to the ",p.jsx("strong",{children:"same Wi-Fi"})]}),p.jsxs(coe,{children:[p.jsx(u4,{}),"...",p.jsx(Um,{}),"...",p.jsx(c4,{})]}),p.jsx("h4",{children:"Connect to the same Wi-Fi as the game."})]}),p.jsx("h6",{children:"Otherwise microphones might not work properly."}),p.jsx(ut,{onClick:r,focused:!0,"data-test":"confirm-wifi-connection",children:"I'm connected, continue"})]})})}const aoe=G(vl,{target:"e1200hll2"})({name:"vcyu3g",styles:"gap:1rem"}),loe=G("div",{target:"e1200hll1"})({name:"1uu7723",styles:"display:flex;flex-direction:column;align-items:center;gap:2rem"}),coe=G("div",{target:"e1200hll0"})("margin:2rem 0;display:flex;color:white;align-items:center;gap:2rem;@keyframes pulse{0%{color:",Ve.colors.text.default,";transform:scale(1);}25%{color:",Ve.colors.text.active,";transform:scale(1.1);}50%{color:",Ve.colors.text.default,";transform:scale(1);}}svg{animation:pulse 2s infinite;font-size:7rem;:nth-of-type(1){animation-delay:0s;}:nth-of-type(2){animation-delay:0.5s;}:nth-of-type(3){animation-delay:1s;}}");function uoe(e,t,n,r){n===void 0&&(n=global),r===void 0&&(r={});var i=S.useRef(),s=r.capture,o=r.passive,l=r.once;S.useEffect(function(){i.current=t},[t]),S.useEffect(function(){if(n&&n.addEventListener){var d=function(h){return i.current(h)},c={capture:s,passive:o,once:l};return n.addEventListener(e,d,c),function(){n.removeEventListener(e,d,c)}}},[e,n,s,o,l])}var Ul={},doe=function(e,t,n){return Ul[e]||(Ul[e]={callbacks:[],value:n}),Ul[e].callbacks.push(t),{deregister:function(){var r=Ul[e].callbacks,i=r.indexOf(t);i>-1&&r.splice(i,1)},emit:function(r){Ul[e].value!==r&&(Ul[e].value=r,Ul[e].callbacks.forEach(function(i){t!==i&&i(r)}))}}};function Al(e,t){if(t===void 0&&(t=typeof global<"u"&&global.localStorage?global.localStorage:typeof globalThis<"u"&&globalThis.localStorage?globalThis.localStorage:typeof window<"u"&&window.localStorage?window.localStorage:typeof localStorage<"u"?localStorage:null),t){var n=function(r){return{get:function(i,s){var o=r.getItem(i);return o==null?typeof s=="function"?s():s:JSON.parse(o)},set:function(i,s){r.setItem(i,JSON.stringify(s))}}}(t);return function(r){return function(i,s,o){var l=o.get,d=o.set,c=S.useRef(null),h=S.useState(function(){return l(s,i)}),f=h[0],m=h[1];uoe("storage",function(A){if(A.key===s){var b=JSON.parse(A.newValue);f!==b&&m(b)}}),S.useEffect(function(){return c.current=doe(s,m,i),function(){c.current.deregister()}},[i,s]);var v=S.useCallback(function(A){var b=typeof A=="function"?A(f):A;d(s,b),m(b),c.current.emit(A)},[f,d,s]);return[f,v]}(r,e,n)}}return S.useState}const foe=Al("remote_mic_name");function hoe({isVisible:e,roomId:t,connectionStatus:n,onConnect:r,connectionError:i}){const[s,o]=foe(""),[l,d]=S.useState(!1),c=S.useRef(null),h=S.useRef(null),[f,m]=S.useState(t??""),v=$i(),A=n!=="uninitialised"&&n!=="error";S.useEffect(()=>{n==="connected"&&!t&&v("remote-mic/",{room:f})},[n,t,f]);const b=(T=!1)=>{Wn.connect(f,s,T),r(T)},x=T=>{var w,R;T.preventDefault(),d(!1),!t&&f.length!==ah?(w=c.current)==null||w.focus():s===""?(R=h.current??c.current)==null||R.focus():b()};S.useEffect(()=>{var T;lr.capture(t?"remote-mic-qrcode":"remote-mic-manual"),(T=c.current)==null||T.focus()},[]),S.useEffect(()=>{ot.session.getItem("reload-mic-request")!==null&&(global.setTimeout(()=>ot.session.removeItem("reload-mic-request"),1),b(!0))},[]);const[E,I]=S.useState(!1);S.useEffect(()=>{if(I(!1),n==="connecting"||n==="reconnecting"){const T=setTimeout(()=>I(!0),2e3);return()=>clearTimeout(T)}},[n]);const P=n==="error"&&!l;return e?p.jsxs(p.Fragment,{children:[(t==null?void 0:t.startsWith("p"))&&p.jsx(ooe,{onClose:()=>{var T;(T=c.current)==null||T.focus()}}),p.jsxs(poe,{onSubmit:x,children:[!A&&p.jsx(moe,{ref:c,placeholder:"_____",label:"Game code",autoCapitalize:"characters",autoComplete:"off",onChange:m,value:f,maxLength:ah,focused:!1,autoFocus:!0,"data-test":"game-code-input",onFocus:()=>{n==="error"&&d(!0)},onPaste:T=>{T.preventDefault();let w=(T.clipboardData||global.clipboardData).getData("text");w=w.replace(/\s/g,""),m(w.slice(0,ah))}}),p.jsx($c,{maxLength:vx,focused:!1,label:"Your name",placeholder:"Enter your name",value:s,onChange:o,ref:t?c:h,disabled:A,autoFocus:!0,"data-test":"player-name-input"}),p.jsxs(goe,{type:"submit",disabled:A,"data-test":"connect-button",children:[n==="connecting"&&p.jsx(ap,{size:"1em"}),n==="uninitialised"||l?"Connect":n.toUpperCase()]})]}),(E||P)&&p.jsxs(p.Fragment,{children:[E&&p.jsx("h3",{children:"If it doesn't connect"}),P&&p.jsxs(p.Fragment,{children:[p.jsxs("h3",{children:[p.jsx("strong",{children:p.jsx(Ld,{})})," ","Could not connect:"]}),p.jsxs("h6",{children:["Error code: ",p.jsx("strong",{children:i})]}),p.jsx("br",{}),i==="peer-unavailable"?p.jsxs(p.Fragment,{children:[p.jsx("h4",{children:t===void 0?"Game with this code not found ":"The game seems to be offline "}),t===void 0&&p.jsxs("h5",{children:["1. Is the code ",p.jsx("strong",{children:f.toUpperCase()})," correct?"]}),p.jsxs("h5",{children:[t===void 0?2:1,". Refresh (",p.jsx("strong",{children:"F5"}),") the Karaoke Game on the PC"]}),t!==void 0&&p.jsxs("h5",{children:["2. Scan the"," ",p.jsxs("strong",{children:[p.jsx(D0,{})," QR Code"]})," ","again"]}),p.jsxs("h5",{children:["3. Make sure you are in the same"," ",p.jsxs("strong",{children:[p.jsx(Um,{})," Wi-Fi"]})]})]}):i==="network"?p.jsxs(p.Fragment,{children:[p.jsx("h4",{children:"No internet access "}),p.jsxs("h5",{children:["Make sure you are in the same"," ",p.jsxs("strong",{children:[p.jsx(Um,{})," Wi-Fi"]}),"and that it has internet connection"]})]}):p.jsxs(p.Fragment,{children:[p.jsxs("h5",{children:["1. Make sure you are in the same"," ",p.jsxs("strong",{children:[p.jsx(Um,{})," Wi-Fi"]})]}),p.jsxs("h5",{children:["2. Refresh (",p.jsx("strong",{children:"F5"}),") the Karaoke Game on the PC"]}),p.jsxs("h5",{children:["3. Scan the"," ",p.jsxs("strong",{children:[p.jsx(D0,{})," QR Code"]})," ","again"]})]})]})]})]}):null}const poe=G("form",{target:"e1ey8ze72"})({name:"fvqkyn",styles:"margin-top:2rem;display:flex;flex-direction:column;gap:1rem"}),goe=G(ut,{target:"e1ey8ze71"})({name:"116s0m5",styles:"margin-bottom:0;height:72px"}),moe=G($c,{target:"e1ey8ze70"})({name:"8hhbv6",styles:"input{letter-spacing:2rem;text-align:center;text-transform:uppercase;}"}),voe=zt(p.jsx("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack"),yoe=zt(p.jsx("path",{d:"m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"}),"ArrowForward"),Aoe=zt(p.jsx("path",{d:"M15 7.5V2H9v5.5l3 3zM7.5 9H2v6h5.5l3-3zM9 16.5V22h6v-5.5l-3-3zM16.5 9l-3 3 3 3H22V9z"}),"Games"),boe=zt(p.jsx("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6z"}),"KeyboardArrowDown"),_oe=zt(p.jsx("path",{d:"M15.41 16.59 10.83 12l4.58-4.59L14 6l-6 6 6 6z"}),"KeyboardArrowLeft"),Soe=zt(p.jsx("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6z"}),"KeyboardArrowRight"),xoe=zt(p.jsx("path",{d:"M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"}),"KeyboardArrowUp"),woe=zt(p.jsx("path",{d:"M10.59 9.17 5.41 4 4 5.41l5.17 5.17zM14.5 4l2.04 2.04L4 18.59 5.41 20 17.96 7.46 20 9.5V4zm.33 9.41-1.41 1.41 3.13 3.13L14.5 20H20v-5.5l-2.04 2.04z"}),"Shuffle"),Ow=zt(p.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search");function Vw(e,t){const[n,r]=S.useState(e);return S.useEffect(()=>{const i=setTimeout(()=>{r(e)},t);return()=>{clearTimeout(i)}},[e,t]),n}function Eoe({onSearchStateChange:e}){const[t,n]=S.useState(""),r=S.useRef(null),i=Vw(t,100),s=VX(i);return S.useEffect(()=>{s!==i&&Wn.searchSong(i.trim())},[s,i]),OX(()=>e==null?void 0:e(!1)),p.jsx(Coe,{onFocus:()=>e==null?void 0:e(!0),onBlur:()=>e==null?void 0:e(!1),maxLength:vx,focused:!1,label:p.jsx(Ow,{}),placeholder:"Search for a song",value:t,onChange:n,ref:r,"data-test":"search-song-input"})}const Coe=G($c,{target:"e12hs6m40"})({name:"zrd260",styles:"width:100%;margin-bottom:1rem"});function koe({onSearchStateChange:e}){var s;const[t]=io(ge.remoteKeyboardLayout,!0)??[],n=(t==null?void 0:t.horizontal)!==void 0||(t==null?void 0:t["horizontal-vertical"])!==void 0,r=(t==null?void 0:t.vertical)!==void 0||(t==null?void 0:t["horizontal-vertical"])!==void 0,i=o=>()=>{Wn.sendKeyStroke(o)};return t!==void 0?p.jsxs(Toe,{"data-test":"remote-keyboard",children:[((s=t==null?void 0:t.remote)==null?void 0:s.includes("search"))&&p.jsx(Eoe,{onSearchStateChange:e}),(n||r)&&p.jsxs(W1,{children:[p.jsx(q1,{children:p.jsx(Iu,{onClick:i("up"),disabled:!r,"data-disabled":!r,"data-test":"arrow-up",children:p.jsx(xoe,{})})}),p.jsxs(q1,{children:[p.jsx(Iu,{onClick:i("left"),disabled:!n,"data-disabled":!n,"data-test":"arrow-left",children:p.jsx(_oe,{})}),p.jsx(Iu,{disabled:!0,"data-disabled":!0,children:p.jsx(Aoe,{})}),p.jsx(Iu,{onClick:i("right"),disabled:!n,"data-disabled":!n,"data-test":"arrow-right",children:p.jsx(Soe,{})})]}),p.jsx(q1,{children:p.jsx(Iu,{onClick:i("down"),disabled:!r,"data-disabled":!r,"data-test":"arrow-down",children:p.jsx(boe,{})})})]}),p.jsxs(W1,{children:[p.jsx(K1,{onClick:i("back"),disabled:(t==null?void 0:t.back)===void 0,"data-test":"keyboard-backspace",children:(t==null?void 0:t.back)||p.jsxs(p.Fragment,{children:[p.jsx(voe,{})," Back"]})}),p.jsx(K1,{onClick:i("accept"),disabled:(t==null?void 0:t.accept)===void 0,"data-test":"keyboard-enter",children:(t==null?void 0:t.accept)||p.jsxs(p.Fragment,{children:["Enter ",p.jsx(yoe,{})]})})]}),p.jsx(Ioe,{}),p.jsx(W1,{disabled:(t==null?void 0:t.shiftR)===void 0,"data-test":"keyboard-shift-r",children:p.jsxs(K1,{onClick:i("random"),children:[p.jsx(woe,{})," ",(t==null?void 0:t.shiftR)||"Random Song"]})})]}):null}const Toe=G("div",{target:"epl0eil6"})({name:"17mk58z",styles:"gap:1rem;display:flex;flex-wrap:wrap;margin-bottom:2rem"}),q1=G("div",{target:"epl0eil5"})({name:"144ujnw",styles:"display:flex;justify-content:center;flex:1;color:white;font-size:2rem"}),W1=G("div",{target:"epl0eil4"})("display:flex;flex-direction:column;flex:1;justify-content:space-between;opacity:",e=>e.disabled?0:1,";"),Ioe=G("div",{target:"epl0eil3"})({name:"1f76xva",styles:"flex-basis:100%;height:0"}),Roe=G("button",{target:"epl0eil2"})("background:none;border:none;box-sizing:border-box;margin:0.25rem;width:4.5rem;height:4.5rem;svg{width:2.5rem;height:2.5rem;}opacity:",e=>e.disabled?.25:1,";"),Iu=G(Roe,{target:"epl0eil1"})({name:"1dzx4ce",styles:"display:flex;align-items:center;justify-content:center;border-radius:0.3rem;border:0.3rem solid rgb(204, 204, 204);border-bottom-color:rgb(130, 130, 130);border-right-color:rgb(130, 130, 130);gap:0.5rem;&[data-disabled='false']{cursor:pointer;&:active{border:0.3rem solid rgb(130, 130, 130);border-bottom-color:rgb(204, 204, 204);border-right-color:rgb(204, 204, 204);}}color:rgb(51, 51, 51);font-weight:normal;font-size:2.5rem;box-shadow:0 0.1rem 0 rgba(0, 0, 0, 0.2),inset 0 0 0 0.2rem #ffffff;background-color:rgb(247, 247, 247);text-shadow:0 0.1rem 0 #fff"}),K1=G(Iu,{target:"epl0eil0"})({name:"1d3w5wq",styles:"width:100%"}),Lw=zt(p.jsx("path",{d:"M6.99 11 3 15l3.99 4v-3H14v-2H6.99zM21 9l-3.99-4v3H10v2h7.01v3z"}),"SwapHoriz"),Jg={regular:["Blue","Red","Green","Yellow"],christmas:["Green","Red","?????","?????"],eurovision:["Blue","Violet","Yellow","Pink"],halloween:["Orange","Violet","Red","Green"]};function d4({playerNumber:e,id:t,onModalClose:n,header:r}){const[i]=io(ge.remoteStyleChanged,!0)??["regular"],s=l=>{Wn.requestPlayerChange(t,l),n()},o=e!==null;return p.jsx(Fc,{onClose:n,children:p.jsxs(Poe,{children:[r&&p.jsx("h2",{children:r}),p.jsx(ut,{size:"small","data-test":"change-to-player-0",onClick:()=>s(0),disabled:e===0,style:{color:Ve.colors.players[0].perfect.fill},children:Jg[i][0]}),p.jsx(ut,{size:"small","data-test":"change-to-player-1",onClick:()=>s(1),disabled:e===1,style:{color:Ve.colors.players[1].perfect.fill},children:Jg[i][1]}),p.jsx(ut,{size:"small","data-test":"change-to-player-2",onClick:()=>s(2),disabled:e===2,style:{color:Ve.colors.players[2].perfect.fill},children:Jg[i][2]}),p.jsx(ut,{size:"small","data-test":"change-to-player-3",onClick:()=>s(3),disabled:e===3,style:{color:Ve.colors.players[3].perfect.fill},children:Jg[i][3]}),p.jsx(ut,{size:"small",onClick:()=>s(null),disabled:!o,"data-test":"change-to-unset",children:"Unassign"}),p.jsx("hr",{}),p.jsx(ut,{size:"small",onClick:()=>Wn.removePlayer(t),"data-test":"remove-player",children:"Remove"}),p.jsx(ut,{onClick:n,size:"small",children:"Close"})]})})}const Poe=G(vl,{target:"e1q747tq0"})({name:"8ixhiv",styles:"gap:0"});function f4({number:e,...t}){const[n]=io(ge.remoteStyleChanged,!0)??["regular"],r=VV();return S.useEffect(()=>{r()},[n]),p.jsx(Moe,{style:{background:e!==null?Ve.colors.players[e].perfect.fill:Ve.colors.text.inactive},...t})}const Moe=G("div",{target:"e1u9853z0"})({name:"97f0zo",styles:"display:inline-block;width:1em;height:1em;aspect-ratio:1;border-radius:1em"}),joe=S.memo(function({playerNumber:t}){const[n,r]=S.useState(!1),i=()=>r(!1),s=t!==null;return p.jsxs(p.Fragment,{children:[p.jsxs(Ooe,{onClick:()=>r(!0),"data-test":"change-player","data-joined":s,children:[s?p.jsxs(p.Fragment,{children:[p.jsx(f4,{number:t})," Change"]}):"Join game"," ",p.jsx(Lw,{})]}),n&&p.jsx(d4,{id:Wn.getClientId(),playerNumber:t,onModalClose:i})]})}),Ooe=G("button",{target:"e1x7ggg80"})("position:absolute;z-index:1;color:white;right:1rem;bottom:1rem;padding:1rem;font-size:2rem;text-transform:uppercase;display:flex;align-items:center;gap:1rem;border:none;",xt,";background:rgba(0, 0, 0, 0.75);&[data-joined='false']{font-size:3rem;padding:3rem;",pd,";}:hover{",pd,";}:active{",Yv,";}svg{width:2rem;height:2rem;}");function Xv(){const[e]=io(ge.remoteMicPermissionsSet,!0)??["write"];return e}function Voe({playerNumber:e,volume:t,frequency:n,isMicOn:r,isConnected:i}){const[s,o]=S.useState(1e-6),l=Xv();S.useEffect(()=>{o(h=>t>h?t:h*.99)},[t]);const d=e!==null?Ve.colors.players[e].miss.stroke:Ve.colors.lines.normal.fill,c=e!==null?Ve.colors.players[e].perfect.fill:Ve.colors.lines.normal.fill;return p.jsxs(Boe,{isMicOn:r,color:d,"data-player-number":`${e??"none"}`,"data-test":"indicator",children:[r&&p.jsx(p.Fragment,{children:p.jsxs(Loe,{children:[n?`${Math.round(n)}Hz`:" ",p.jsx("br",{}),String(t*100).slice(0,5)]})}),i&&l==="write"&&p.jsx(joe,{playerNumber:e}),p.jsx(Noe,{color:c,style:{transform:`scaleY(${r?1-Math.min(1,t/s):1})`}})]})}const Loe=G("span",{target:"eik0d702"})({name:"1ikzkvw",styles:"position:absolute;color:white;opacity:0.125"}),Noe=G("div",{target:"eik0d701"})("width:100%;height:100%;background-color:",e=>e.color,";transition:200ms;transform-origin:top;"),Boe=G("div",{target:"eik0d700"})("position:relative;border:0.1rem solid white;flex:1;min-height:200px;max-height:100vw;transition:300ms;background:",e=>e.color,";");function wP({isVisible:e,isMicOn:t,isConnected:n}){const[r,i]=S.useState(0),[s,o]=S.useState(0),[l]=io(ge.remoteMicPlayerSet,!0)??[null],d=S.useCallback(Wu((c,h)=>{o(c),i(h)},150),[i,o]);return S.useEffect(()=>(Ks.startMonitoring(void 0),Ks.addListener(d)),[d]),e?p.jsx(p.Fragment,{children:p.jsx(Voe,{volume:r,frequency:s,playerNumber:l,isMicOn:t,isConnected:n})}):null}function Doe(){const[e,t]=S.useState(0);return S.useEffect(()=>{const n=setInterval(()=>{const r=bi();Wn.pinging&&r-Wn.pingStart>e?t(r-Wn.pingStart):t(Wn.latency)},333);return()=>{clearInterval(n)}},[]),p.jsxs(p.Fragment,{children:[e,"ms"]})}function Foe({roomId:e,monitoringStarted:t,setMonitoringStarted:n,isKeepAwakeOn:r,setIsKeepAwakeOn:i,connectionError:s,connectionStatus:o}){const l=Xv(),[d,c]=S.useState(!1),[h]=Tt(ZS),f=async()=>{var A,b;i(!0);try{!Use()&&h&&(await document.body.requestFullscreen(),global.screen.orientation.unlock(),await((b=(A=global.screen.orientation).lock)==null?void 0:b.call(A,"portrait")))}catch(x){console.warn(x)}},m=o==="connected",v=p.jsx(wP,{isVisible:!0,isMicOn:t,isConnected:m});return p.jsx($oe,{children:p.jsxs(sp,{showImages:!1,fallback:p.jsxs(p.Fragment,{children:[v,p.jsx("h2",{children:"Please allow access to the microphone."})]}),children:[p.jsxs(EP,{collapse:d,children:[p.jsx(wP,{isVisible:!0,isMicOn:t,isConnected:m}),p.jsx(hoe,{roomId:e,isVisible:!0,connectionStatus:o,onConnect:f,connectionError:s})]}),p.jsxs(EP,{children:[l==="write"&&p.jsx(koe,{onSearchStateChange:c}),l==="read"&&p.jsxs(zoe,{"data-test":"no-permissions-message",children:["No permission to control the game. Go to in-game ",p.jsx("strong",{children:"Settings"})," menu "," ",p.jsx("strong",{children:"Remote Microphones Settings"})," to manage them."]}),p.jsxs(CP,{onClick:()=>i(!r),children:["WakeLock: ",p.jsx("strong",{children:r?"ON":"OFF"})]}),p.jsxs(h4,{onClick:()=>t?Ks.stopMonitoring():Ks.startMonitoring(void 0),children:["Microphone: ",p.jsx("strong",{"data-test":"monitoring-state",children:t?"ON":"OFF"})]}),m&&p.jsxs(CP,{children:["Ping: ",p.jsx(Doe,{})]})]})]})})}const $oe=G("div",{target:"eakh27i4"})({name:"15sh5r0",styles:"font-size:2.6rem;display:flex;flex-direction:column;gap:2rem;padding:1.5rem;box-sizing:border-box;@media (max-height: 500px) and (min-aspect-ratio: 16/10){flex-direction:row;}h5{margin-top:0.5em;svg{font-size:0.9em;}}"}),EP=G("div",{target:"eakh27i3"})("flex:1;transition:300ms ease-in-out;margin-top:",e=>e.collapse?"-100%":"0",";@media (max-height: 500px) and (min-aspect-ratio: 16/10){margin-top:0;display:flex;flex-direction:column;justify-content:center;}"),h4=G("div",{target:"eakh27i2"})(xt," strong{color:",Ve.colors.text.active,";}align-self:flex-end;"),CP=G(h4,{target:"eakh27i1"})(""),zoe=G("h5",{target:"eakh27i0"})({name:"1s76ut5",styles:"padding-bottom:5rem"});function Uoe({onConfirm:e}){const[t,n]=S.useState(!1),[r,i]=S.useState(!1);S.useEffect(()=>{ot.session.getItem("reload-mic-request")!==null&&i(!0)},[]),si(ge.remoteMicPlayerSet,()=>{r&&(i(!1),n(!0))}),si(ge.remoteReadinessRequested,()=>{n(!0)});const s=()=>{Wn.confirmReadiness(),n(!1),e()};return t?p.jsx(Hoe,{children:p.jsx(vl,{children:p.jsx(Goe,{"data-test":"ready-button",onClick:s,children:"Ready"})})}):null}const Hoe=G("div",{target:"eusdifu1"})({name:"1b0uzsn",styles:"display:flex;flex-direction:column;align-items:center;justify-content:center;position:absolute;top:0;left:0;width:100%;height:100%;backdrop-filter:blur(10px);z-index:1000"}),Goe=G(ut,{target:"eusdifu0"})("aspect-ratio:1;",pd,";");function p4({unit:e="",value:t,onChange:n,step:r=50,disabled:i=!1,...s}){return p.jsxs(Woe,{...s,children:[p.jsx(kP,{onClick:()=>n(t-r),disabled:i,"data-test":"numeric-input-down",children:"-"}),p.jsxs(qoe,{children:[p.jsx("strong",{"data-test":"numeric-input-value",children:t}),e]}),p.jsx(kP,{onClick:()=>n(t+r),disabled:i,"data-test":"numeric-input-up",children:"+"})]})}const kP=G("button",{target:"e1tear4c2"})("background:black;padding:0.5rem 2rem;border:none;font-size:3rem;",xt,";:disabled{opacity:0.5;}"),qoe=G("div",{target:"e1tear4c1"})({name:"2qd0l8",styles:"flex:1;text-align:center"}),Woe=G("div",{target:"e1tear4c0"})(xt,";display:flex;align-items:center;justify-self:center;background:black;");function Koe(){const[e,t]=S.useState(0),[n,r]=S.useState(!1);S.useEffect(()=>{r(!0),Wn.getGameInputLag().then(({value:s})=>t(s)).catch(s=>console.warn(s)).finally(()=>r(!1))},[]);const i=s=>{r(!0),Wn.setGameInputLag(s).then(({value:o})=>t(o)).catch(o=>console.warn(o)).finally(()=>r(!1))};return p.jsxs(p.Fragment,{children:[p.jsx("h3",{children:"Adjust game input lag"}),p.jsx(p4,{value:e,onChange:i,disabled:n,unit:"ms","data-test":"game-input-lag"}),p.jsx("h6",{children:"If the sound is not synchronised with the lyrics, use this to compensate it."})]})}function Yoe(){S.useEffect(()=>(Wn.subscribe("remote-mics"),()=>{Wn.unsubscribe("remote-mics")}),[]);const[e]=io(ge.remoteMicListUpdated)??[[]];return p.jsxs(p.Fragment,{children:[p.jsx("h3",{children:"Manage Players"}),e.map(t=>p.jsx(Qoe,{mic:t},t.id)),e.length===0&&p.jsx("h4",{children:"No remote microphones connected"})]})}const Qoe=({mic:e})=>{var r;const[t,n]=S.useState(!1);return Mt.getPermission(e.id),p.jsxs(Joe,{"data-test":"manage-players",children:[t&&p.jsx(d4,{id:e.id,playerNumber:e.number,onModalClose:()=>n(!1),header:p.jsxs(p.Fragment,{children:["Change ",p.jsx("strong",{className:"ph-no-capture",children:e.name}),":"]})}),p.jsxs(Xoe,{onClick:()=>n(!0),"data-test":"remote-mic-entry","data-id":e.id??e.name,size:"small",children:[p.jsx(f4,{number:e.number}),p.jsx(eae,{children:((r=e.id)==null?void 0:r.slice(-4))??"????"}),p.jsx(Zoe,{className:"ph-no-capture",isSelf:e.id===Wn.getClientId(),children:e.name})]})]})},Joe=G("div",{target:"e1sg8znb3"})({name:"4zk4ri",styles:"display:flex;flex-direction:column;gap:1rem"}),Xoe=G(ut,{target:"e1sg8znb2"})({name:"1n950nl",styles:"display:flex;align-items:center;padding:0 2rem"}),Zoe=G("div",{target:"e1sg8znb1"})("color:",e=>e.isSelf?`${Ve.colors.text.active}`:"auto",";text-overflow:ellipsis;overflow:hidden;white-space:nowrap;"),eae=G("span",{target:"e1sg8znb0"})({name:"dcs29c",styles:"font-size:1.5rem;padding:0 1rem"});function TP(){const[e,t]=Tt(Zj),[n,r]=S.useState(!1);S.useEffect(()=>{r(!0),Wn.getMicrophoneInputLag().then(({value:o})=>t(o)).catch(o=>console.warn(o)).finally(()=>r(!1))},[]);const i=o=>{r(!0),Wn.setMicrophoneInputLag(o).then(({value:l})=>t(l)).catch(l=>console.warn(l)).finally(()=>r(!1))},s=()=>{var o;Wn.disconnect(),ot.local.removeItem("remote_mic_name"),ot.local.removeItem(H_),(o=global.location)==null||o.reload()};return p.jsxs(p.Fragment,{children:[p.jsx(ut,{onClick:s,size:"small","data-test":"reset-microphone",children:"Reset microphone"}),p.jsxs("h6",{"data-test":"reset-mic-info",children:[p.jsx("strong",{children:"Note:"})," removes all persisted microphone data (your name, ID etc.)"]}),p.jsx("hr",{}),p.jsx("h3",{children:"Adjust microphone lag"}),p.jsx(p4,{value:e,onChange:i,unit:"ms",disabled:n,step:25,"data-test":"microphone-delay"}),p.jsx("h6",{children:"Adjust the microphone input delay (e.g. if the game doesn't detect you hitting the note on time)"})]})}function tae(){var r;const e=Xv(),[t,n]=S.useState(e==="write"?null:"microphone");return p.jsxs(nae,{children:[p.jsxs("h3",{children:["Remote mic ID:"," ",p.jsx("strong",{"data-test":"remote-mic-id",children:((r=Wn.getClientId())==null?void 0:r.slice(-4).toUpperCase())??"----"})]}),p.jsx("hr",{}),e==="write"&&t===null&&p.jsxs(p.Fragment,{children:[p.jsx(ut,{onClick:()=>n("microphone"),size:"small","data-test":"microphone-settings",disabled:t==="microphone",children:"Microphone settings"}),p.jsx(ut,{onClick:()=>n("manage"),size:"small","data-test":"manage-game",disabled:t==="manage",children:"Manage the game"})]}),e!=="write"&&p.jsx(TP,{}),t!==null&&e==="write"&&p.jsx(Fc,{onClose:()=>n(null),children:p.jsxs(vl,{children:[p.jsx(rae,{children:t==="microphone"?"Microphone settings":"Manage game"}),t==="microphone"&&p.jsx(TP,{}),t==="manage"&&p.jsxs(p.Fragment,{children:[p.jsx(Yoe,{}),p.jsx(Koe,{})]}),p.jsx("hr",{}),p.jsx(ut,{onClick:()=>n(null),size:"small","data-test":"close-modal",children:"Close"})]})})]})}const nae=G("div",{target:"edoha0h1"})({name:"10ti2i0",styles:"flex-grow:1;font-size:2.6rem;display:flex;flex-direction:column;justify-content:center;padding:5rem 1.5rem 1.5rem;box-sizing:border-box;gap:1rem"}),rae=G("h1",{target:"edoha0h0"})({name:"bvcr5v",styles:"font-size:3.25rem!important"});var iae="__lodash_hash_undefined__";function sae(e){return this.__data__.set(e,iae),this}function oae(e){return this.__data__.has(e)}function Dh(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new va;++t<n;)this.add(e[t])}Dh.prototype.add=Dh.prototype.push=sae;Dh.prototype.has=oae;function aae(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function g4(e,t){return e.has(t)}var lae=1,cae=2;function m4(e,t,n,r,i,s){var o=n&lae,l=e.length,d=t.length;if(l!=d&&!(o&&d>l))return!1;var c=s.get(e),h=s.get(t);if(c&&h)return c==t&&h==e;var f=-1,m=!0,v=n&cae?new Dh:void 0;for(s.set(e,t),s.set(t,e);++f<l;){var A=e[f],b=t[f];if(r)var x=o?r(b,A,f,t,e,s):r(A,b,f,e,t,s);if(x!==void 0){if(x)continue;m=!1;break}if(v){if(!aae(t,function(E,I){if(!g4(v,I)&&(A===E||i(A,E,n,r,s)))return v.push(I)})){m=!1;break}}else if(!(A===b||i(A,b,n,r,s))){m=!1;break}}return s.delete(e),s.delete(t),m}function uae(e){var t=-1,n=Array(e.size);return e.forEach(function(r,i){n[++t]=[i,r]}),n}function Nw(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var dae=1,fae=2,hae="[object Boolean]",pae="[object Date]",gae="[object Error]",mae="[object Map]",vae="[object Number]",yae="[object RegExp]",Aae="[object Set]",bae="[object String]",_ae="[object Symbol]",Sae="[object ArrayBuffer]",xae="[object DataView]",IP=Ms?Ms.prototype:void 0,Y1=IP?IP.valueOf:void 0;function wae(e,t,n,r,i,s,o){switch(n){case xae:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Sae:return!(e.byteLength!=t.byteLength||!s(new M0(e),new M0(t)));case hae:case pae:case vae:return Av(+e,+t);case gae:return e.name==t.name&&e.message==t.message;case yae:case bae:return e==t+"";case mae:var l=uae;case Aae:var d=r&dae;if(l||(l=Nw),e.size!=t.size&&!d)return!1;var c=o.get(e);if(c)return c==t;r|=fae,o.set(e,t);var h=m4(l(e),l(t),r,i,s,o);return o.delete(e),h;case _ae:if(Y1)return Y1.call(e)==Y1.call(t)}return!1}var Eae=1,Cae=Object.prototype,kae=Cae.hasOwnProperty;function Tae(e,t,n,r,i,s){var o=n&Eae,l=W_(e),d=l.length,c=W_(t),h=c.length;if(d!=h&&!o)return!1;for(var f=d;f--;){var m=l[f];if(!(o?m in t:kae.call(t,m)))return!1}var v=s.get(e),A=s.get(t);if(v&&A)return v==t&&A==e;var b=!0;s.set(e,t),s.set(t,e);for(var x=o;++f<d;){m=l[f];var E=e[m],I=t[m];if(r)var P=o?r(I,E,m,t,e,s):r(E,I,m,e,t,s);if(!(P===void 0?E===I||i(E,I,n,r,s):P)){b=!1;break}x||(x=m=="constructor")}if(b&&!x){var T=e.constructor,w=t.constructor;T!=w&&"constructor"in e&&"constructor"in t&&!(typeof T=="function"&&T instanceof T&&typeof w=="function"&&w instanceof w)&&(b=!1)}return s.delete(e),s.delete(t),b}var Iae=1,RP="[object Arguments]",PP="[object Array]",Xg="[object Object]",Rae=Object.prototype,MP=Rae.hasOwnProperty;function Pae(e,t,n,r,i,s){var o=js(e),l=js(t),d=o?PP:Ys(e),c=l?PP:Ys(t);d=d==RP?Xg:d,c=c==RP?Xg:c;var h=d==Xg,f=c==Xg,m=d==c;if(m&&P0(e)){if(!P0(t))return!1;o=!0,h=!1}if(m&&!h)return s||(s=new Io),o||bV(e)?m4(e,t,n,r,i,s):wae(e,t,d,n,r,i,s);if(!(n&Iae)){var v=h&&MP.call(e,"__wrapped__"),A=f&&MP.call(t,"__wrapped__");if(v||A){var b=v?e.value():e,x=A?t.value():t;return s||(s=new Io),i(b,x,n,r,s)}}return m?(s||(s=new Io),Tae(e,t,n,r,i,s)):!1}function Bw(e,t,n,r,i){return e===t?!0:e==null||t==null||!ha(e)&&!ha(t)?e!==e&&t!==t:Pae(e,t,n,r,Bw,i)}var Mae=1,jae=2;function Oae(e,t,n,r){var i=n.length,s=i;if(e==null)return!s;for(e=Object(e);i--;){var o=n[i];if(o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++i<s;){o=n[i];var l=o[0],d=e[l],c=o[1];if(o[2]){if(d===void 0&&!(l in e))return!1}else{var h=new Io,f;if(!(f===void 0?Bw(c,d,Mae|jae,r,h):f))return!1}}return!0}function v4(e){return e===e&&!ro(e)}function Vae(e){for(var t=Jh(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,v4(i)]}return t}function y4(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}function Lae(e){var t=Vae(e);return t.length==1&&t[0][2]?y4(t[0][0],t[0][1]):function(n){return n===e||Oae(n,e,t)}}function Nae(e,t,n){var r=e==null?void 0:Wx(e,t);return r===void 0?n:r}function Bae(e,t){return e!=null&&t in Object(e)}function Dae(e,t,n){t=Vv(t,e);for(var r=-1,i=t.length,s=!1;++r<i;){var o=Xh(t[r]);if(!(s=e!=null&&n(e,o)))break;e=e[o]}return s||++r!=i?s:(i=e==null?0:e.length,!!i&&Ex(i)&&kx(o,i)&&(js(e)||Nx(e)))}function Fae(e,t){return e!=null&&Dae(e,t,Bae)}var $ae=1,zae=2;function Uae(e,t){return Gx(e)&&v4(t)?y4(Xh(e),t):function(n){var r=Nae(n,e);return r===void 0&&r===t?Fae(n,e):Bw(t,r,$ae|zae)}}function Hae(e){return function(t){return t==null?void 0:t[e]}}function Gae(e){return function(t){return Wx(t,e)}}function qae(e){return Gx(e)?Hae(Xh(e)):Gae(e)}function Wae(e){return typeof e=="function"?e:e==null?OV:typeof e=="object"?js(e)?Uae(e[0],e[1]):Lae(e):qae(e)}function Kae(e,t,n,r){for(var i=e.length,s=n+-1;++s<i;)if(t(e[s],s,e))return s;return-1}function Yae(e){return e!==e}function Qae(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}function Jae(e,t,n){return t===t?Qae(e,t,n):Kae(e,Yae,n)}function Xae(e,t){var n=e==null?0:e.length;return!!n&&Jae(e,t,0)>-1}function Zae(){}var ele=1/0,tle=Yu&&1/Nw(new Yu([,-0]))[1]==ele?function(e){return new Yu(e)}:Zae,nle=200;function A4(e,t,n){var r=-1,i=Xae,s=e.length,o=!0,l=[],d=l;if(s>=nle){var c=t?null:tle(e);if(c)return Nw(c);o=!1,i=g4,d=new Dh}else d=t?[]:l;e:for(;++r<s;){var h=e[r],f=t?t(h):h;if(h=h!==0?h:0,o&&f===f){for(var m=d.length;m--;)if(d[m]===f)continue e;t&&d.push(f),l.push(h)}else i(d,f,n)||(d!==l&&d.push(f),l.push(h))}return l}function rle(e,t){return e&&e.length?A4(e,Wae(t)):[]}const Dw=G("span",{target:"ejt1whd0"})("position:absolute;transform:translate(40%, -50%);top:0;right:0;background:",Ve.colors.text.active,";font-size:1.75rem;",xt,";color:",Ve.colors.text.default,";padding:0.25rem 0.75rem;border-radius:1.5rem;box-shadow:0 0 2px 1px rgba(0, 0, 0, 0.5);"),ile="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='810'%20height='540'%3e%3crect%20width='810'%20height='540'%20fill='%23FCDD09'/%3e%3cpath%20stroke='%23DA121A'%20stroke-width='60'%20d='M0,90H810m0,120H0m0,120H810m0,120H0'/%3e%3c/svg%3e";function sle(){const e=new Intl.DisplayNames(["en"],{type:"language"}),t={};for(let r=0;r<26;r++)for(let i=0;i<26;i++){const s=String.fromCharCode(97+r)+String.fromCharCode(97+i),o=e.of(s);o!==s&&o!==void 0&&(t[o]=s)}return{...t,...{Akan:"ak",Hebrew:"he",Indonesian:"id",Javanese:"jv",Romanian:"ro",Yiddish:"yi",Tagalog:"tl",English:"gb",Korean:"kr",Swedish:"se",Latin:"va",Japanese:"jp",Catalan:"cat",Ukrainian:"ua"}}}const ole=sle();function b4(e){return ole[e]}const ale=Object.assign({"./Flag/flags/cat.svg":ile}),fc=e=>{var s;const[t,n]=S.useState(null),r="isocode"in e?(s=e.isocode)==null?void 0:s.toLowerCase():b4(Array.isArray(e.language)?e.language[0]:e.language);if(S.useLayoutEffect(()=>{r&&n(null)},[r]),!r)return null;const i=ale[`./Flag/flags/${r}.svg`];return p.jsx(lle,{"data-isocode":r,src:i??`https://flagcdn.com/${t??r}.svg`,alt:r,...e,onError:()=>n("un")})},lle=G("img",{target:"e1k9lqhf0"})("");function Nd(e=!1){const[t,n]=S.useState(is.getCurrentIndex()),r=S.useRef([]),i=()=>is.getIndex(e).then(n);return S.useEffect(()=>{i()},[]),{data:t??r.current,reload:i,isLoading:t===null}}const jP=()=>({width:global.document.body.clientWidth,height:global.visualViewport.height});function lp(){const[e,t]=S.useState(jP()),n=S.useCallback(Wu(()=>{t(jP())},1e3),[]);return S.useEffect(()=>(global.addEventListener("resize",n),n(),()=>global.removeEventListener("resize",n)),[]),{...e,handleResize:n}}function _4(){const{width:e,height:t}=lp();return S.useMemo(()=>e*.0035,[e,t])}const Hm=zt(p.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2m-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckBox"),Gm=zt(p.jsx("path",{d:"M19 5v14H5V5zm0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2"}),"CheckBoxOutlineBlank");function cle(e){return String(e).match(/[\d.\-+]*\s*(.*)/)[1]||""}function ule(e){return parseFloat(e)}function OP({theme:e,...t}){const n=ca in e?e[ca]:void 0;return p.jsx(gL,{...t,themeId:n?ca:void 0,theme:n||e})}const Zg={attribute:"data-mui-color-scheme",colorSchemeStorageKey:"mui-color-scheme",defaultLightColorScheme:"light",defaultDarkColorScheme:"dark",modeStorageKey:"mui-mode"},{CssVarsProvider:dle,useColorScheme:_ye,getInitColorSchemeScript:Sye}=ane({themeId:ca,theme:()=>pw({cssVariables:!0}),colorSchemeStorageKey:Zg.colorSchemeStorageKey,modeStorageKey:Zg.modeStorageKey,defaultColorScheme:{light:Zg.defaultLightColorScheme,dark:Zg.defaultDarkColorScheme},resolveTheme:e=>{const t={...e,typography:AL(e.palette,e.typography)};return t.unstable_sx=function(r){return Cc({sx:r,theme:this})},t}}),fle=dle;function hle({theme:e,...t}){return typeof e=="function"?p.jsx(OP,{theme:e,...t}):"colorSchemes"in(ca in e?e[ca]:e)?p.jsx(fle,{theme:e,...t}):p.jsx(OP,{theme:e,...t})}function ple(e){return ai("MuiSkeleton",e)}li("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);const gle=e=>{const{classes:t,variant:n,animation:r,hasChildren:i,width:s,height:o}=e;return _i({root:["root",n,r,i&&"withChildren",i&&!s&&"fitContent",i&&!o&&"heightAuto"]},ple,t)},bS=Bc`
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0.4;
  }

  100% {
    opacity: 1;
  }
`,_S=Bc`
  0% {
    transform: translateX(-100%);
  }

  50% {
    /* +0.5s of delay between each loop */
    transform: translateX(100%);
  }

  100% {
    transform: translateX(100%);
  }
`,mle=typeof bS!="string"?Ls`
        animation: ${bS} 2s ease-in-out 0.5s infinite;
      `:null,vle=typeof _S!="string"?Ls`
        &::after {
          animation: ${_S} 2s linear 0.5s infinite;
        }
      `:null,yle=Mn("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],n.animation!==!1&&t[n.animation],n.hasChildren&&t.withChildren,n.hasChildren&&!n.width&&t.fitContent,n.hasChildren&&!n.height&&t.heightAuto]}})(Os(({theme:e})=>{const t=cle(e.shape.borderRadius)||"px",n=ule(e.shape.borderRadius);return{display:"block",backgroundColor:e.vars?e.vars.palette.Skeleton.bg:Js(e.palette.text.primary,e.palette.mode==="light"?.11:.13),height:"1.2em",variants:[{props:{variant:"text"},style:{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:`${n}${t}/${Math.round(n/.6*10)/10}${t}`,"&:empty:before":{content:'"\\00a0"'}}},{props:{variant:"circular"},style:{borderRadius:"50%"}},{props:{variant:"rounded"},style:{borderRadius:(e.vars||e).shape.borderRadius}},{props:({ownerState:r})=>r.hasChildren,style:{"& > *":{visibility:"hidden"}}},{props:({ownerState:r})=>r.hasChildren&&!r.width,style:{maxWidth:"fit-content"}},{props:({ownerState:r})=>r.hasChildren&&!r.height,style:{height:"auto"}},{props:{animation:"pulse"},style:mle||{animation:`${bS} 2s ease-in-out 0.5s infinite`}},{props:{animation:"wave"},style:{position:"relative",overflow:"hidden",WebkitMaskImage:"-webkit-radial-gradient(white, black)","&::after":{background:`linear-gradient(
                90deg,
                transparent,
                ${(e.vars||e).palette.action.hover},
                transparent
              )`,content:'""',position:"absolute",transform:"translateX(-100%)",bottom:0,left:0,right:0,top:0}}},{props:{animation:"wave"},style:vle||{"&::after":{animation:`${_S} 2s linear 0.5s infinite`}}}]}})),Ale=S.forwardRef(function(t,n){const r=ci({props:t,name:"MuiSkeleton"}),{animation:i="pulse",className:s,component:o="span",height:l,style:d,variant:c="text",width:h,...f}=r,m={...r,animation:i,component:o,variant:c,hasChildren:!!f.children},v=gle(m);return p.jsx(yle,{as:o,ref:n,className:rn(v.root,s),ownerState:m,...f,style:{width:h,height:l,...d}})}),ble="data:image/gif;base64,R0lGODlhiQAzAOflAAABAAYAAAACAAcAAAkBAAoDAQsEAxAFABEHABIIABMKABgJAhQLAhsLABwNACANAR0OACEOAyMPACMQACcPACgQASgRAioSACsTACwTACwUAC8WAC4WAzAWADQVADUXATYYAjgYADkZADoaADobAD8aAzscAUEbAD4dAEMdAEUeAkAgAEYfAEUfA0ghAE4hAksjAU8iAFEjAFIkAFMlAFQmAVsmAFcoAFwnAF0oAF8qAmEqAGIrAGMsAGksAWUuAGotAmAwDWwuAGsuA20vAF0zDm4wAG8xAHEyAHIzAXgyAHM0AnU1AHo0AHY2AHw1AH43AIA5AoE6AIM7AIQ8AIk7AIU9AIs8AIc+AIw9AI0+AY4+ApFAAJJBAJNCAJRDAJpCAZVEAJtDAp1EAJxEA55FAKBHAKFIAKJJAKhIAaRKAKVLAKtKAKxLAI5RI5BRJK9NALBOALFPALJQALNRALlQBLtRALxSAL1TAL9UAMFWAMJXAMRYArlbCsZZAMVZA8xYAMhaAM9aANFcAdNdAtVfAMpiDddgAN1fANhhAN9hANljAOFiAeNkAOJkA91mAONlBN5nAdhoDeVmAOdoAO5mAOJqB+9nAOlpAPBpAfFqA654SvNrAOduDvRsAPZtAN5yGONxGvduANh0IPFwB/hvAOtxE+B0Gt90I/lwAOxyFPNxCu5zBud0EvRyANt2Is54Ndp2Krt8S+B1JM95L9V4Ked0HeF2G/txAO1zFvRyDOh1E9x3I895NtV4ML19Rsp7NcN8Qbx9TMl7O8J8R9Z5Kq6AW8h7QrZ/ULh/S7V/VsV9O75+R8t8NsR9QqmCYKeCZpqFcLGBVq+BXJGHe4+HgbeAUaOEZqGEbLaAV6CEcauDXKqDYZuGcZmGd42Ih5KIfJCIgpSId4iKh4uKgv///////////////////////////////////////////////////////////////////////////////////////////////////////////yH5BAEIAP8ALAAAAACJADMAAAj+AP8JHEiwoMGDCBMqXMiwocOHECMSHEexosWLGDNq3Mixo8ePIDtKHPhtGK6TKFOqXInrGcuXMGPKnEmzpspU40YKHBdryICfQIMKFVpHFq6hSJOWSMq0qdOnUH8S8PRN579vrFwI2Mq1q9euALbAwvW1bFkAI8yqXcsWbFu1AArgyqkTHK4Ib8v+sEU279cSfgO3HSAYLFWd35RNKryVAIZUfQujZUy5stu5OsfxCkMZgABFNkOLHk065eGR13ClsBxllbdvsL8h04N0S6/YuIXVifrzyu1vsnbz9g1bt1ANqWDbwiHUd0Wd0PR4rozgUbiB43qRKdtDFV3sxbD+BNbBiiKtLoF7tKLoS3zXAqKwkXMFwquOXFWtpsYF5WsClX6UpQcuroAzUDWr5FDWBLhg89034aQiQ2ARNBgOKTf4BUAFuHgTIQ1dDQCAH8dM8wkBXjHooFWwBdOfVwmsEhs2gJTlh4P5/ROMJgicBUgsOY4zDCaCAQAIL8m40mNgg9CyDCYGfPWEK62c4RUARgJp1VUu+rcKXdgE+BUg2BTETBRmAeBCLA8Ow0SRKsQCyxaBEUCADry4+ZVni7SCAVhYxvndSN8Q82JXMeZHo4DQFBQMLpQIiMsoOX5zDC5iclVCSkZ4BQYuvADzA1cIgNEIBF4tkgaqnqWAijP+J6HJFQ246BIKLrJuRSuoOY40TpchGqALmJlyBYAeZU5kjR5lddELRdh9E6ZXJcwC2zCddgWGMt/A8skEAgyQxyqsoMrVAJioMkgBAjCACS/jfBOMIMYykAo21aQC2FYAqFHMN9BaNY6hXzEgI0WLfoVsQZaKUZYOp/QqUMJcoTALRdh6FQYy45BjChgCuJDKNbng1RUn2qSSIRarhFNVN3cZC4gwz2jiVSXTSOwrsF0JK+0woBTLFZkFjVPMEmV5UAo5Bk17rgnWCpntVgNs+8841mACQBdAmmIuV5iE40saAAzCDF3j7HKEsVjkOcfTuFy35U4Ee2UwLZj+8MH+nnpcU7QpE3pFmCfaNF1jVylcXNLUAgAABjICRRiBHMlgZTJXl4CzjR8G4NINScPg0ZUKnqhtLBjwzr0Tz1wJq0kOKJq18ESuVHCWHxwX5DS/UAuzSyqMOw75VbugYAg037Ty9VaYeIONJRsMS9I1qSy5lSa4/MmvIskMKnDdXTFQCQeNq/WH3wRF80lZIpoxjMQUb1XtJ1eA66kyO51SBCrdWO7VJeEIxy2CYItejYMUODCWHhoxHQF4oEOqW92huhICtgxgdgPhxiL25JkhXEx3QjMBJUhwlscJ5Bu0cAMt4lUusGACHChU4aBQCIdwYckJZuhKFE7hve9NsDH+hPnKB6IwB0VkAhfoo1sNzUICV8DvcFQDgQgAEESN4e8qwthE975histthRPgGEcWhWHAbVyCXZ4hAYi4Mghi6CwzrOOXVwjQg0XgwhbMeIaHBjUOWFxBLQZIxecIsrtwyZFqLwjDIDCRiuH9bXkCuIQ3FEKOVLjAMwMoQAK4UqFBRnBgP/wKDBaRClh4I2AG+cYpdPAerxBiGoOK31dUMIhUxMIa2qDGG/3XlUbIDSHfqAXIyrIE/ERQgmopgBlwUYtT9nAiuiAhV0bFFQKk4RixFFpXmJAKXvTvmSRR3rkE8EKFyCZSX7mgM8DpK/B5BQF/SAW32DmQcOBiAV3+SYP2GrcEXvRKll2hwSe8CTBzsuJyVOTELxECDlHUx26pQN4xrxZHroxrRQ25Bjq5kggfjO5LhNTmuUggCFsioxthPAhWvuaZzC1kHKegguB6UJ6JXs2dXImCK6BBz4lIg1lcKcAn1HAuBpRikgMBaIgEAANFVsITslBpF70StoUUil5ekcNtbPqrUCIgFcx4IzCdkUOuiMAVjQBLI54RUq98IC3GEhEACLCxg4zDazcz0EK0cU+waIIbPY0IKAt2GofwJAld+cEpcGE/Ec2BGN+RpQkqsRpj8YsMV2TYQUNU1ZeuApK4EKvA4ggAYQV2IqoIXOPAkApNsLJxAKD+ApuSWqwBmGAUougCBqq4WkcSJHmQrIReDbo8AmCGqzhtly5Ea1dX2I9fBmCA9QQQg1bkSJaJk0UrgGdFlW72XJ01Z8nAElqbUnSChDEtRLyRitgZq4FbqdAvCwmAEvhTaiEyYSpb2BXhMmQc/KXacRuykaIl12DMNcg2EPEWAFyCrROD4lagdi3GCSAMmf3tVMG7UGBumF/l/W9iZqEJT5g4F8dIKXYqql6HfCMZcmgwHYRBrK4Q4LYAy9i59PvIvP4Xr+cacELGEQ5epGINKDCAASywBEzkgqfYObCMHtLHP3IlCSlZG1e6QAtFSbi+UdMxVzDsXS+iq8Nl9kr+iM0Zi0yoAL4DWIAePHFKZHqlxQQeRQ+09b6SOMyGOlgPwkJ4XzGH63GovApw80pP2IgzyIk2yDikkYoVYIkAVAyiAQpxi/wM1m5T/m+8dGGCrszBGhRRRrE0QJVupULCA9iULnKBCwuHoRQFJMh+zIyJUkQ1IbtWMy4ynEpbkAFLsMVk40yAi2jYuWfSY4ilTsIAYx0iF7k4BSkyYSyh4iIWwNiz4AiwiE5AcgAEAAEPdX2HstDVtwaBRh3SOYAxwLsglXxo+cBCgEHgjyJSLqhVh7GEnxgLAhGQBCg2UO24qoAXvdjglW6Qily4Byx0sBZBoIGLUoeIAZ4gdkH+XLI3r0BAFCInCDVEARcqhuEX/4DGME4RSgN4YhjCkPYyzhgiACyBFacg6lf+wAv2ltyQ1qSFMCTulVQAdiKn8MKVgBBthMDUysYyQk0TEo6NpukKOcdGH36wAf/84Aowt2o4XLFGOQLiGMrIhHu3wiFtwNTCAqDENtjbcK6koGUMs8YgrmQGYDD3G8LQZhrepxBqrI8tYoD5NUzxXGOhKA05NydFakGnpuPLFUdv3A92ca0/kyoV4vgGKSrLLyPAyyKw6cbjZSYNj2Bj9myEZUZIkorQl6UQ+PuGKmS6JwjgYhtWPUkq3taVDaQkgTpMSbu7woGUZKgrV4hJFZ7+wH3uY6ImqaBC95/gBMisJDnYOcV21IKCZl/tF4lgnxFI0dNx4AK+VEM2b8NFgJ9Ik978dyVDkWlyhSUGCBWNU4AEiBQ4QRLWkAqs906C8EH/wF749BVrwHjmRBb7J0f41xX7AheWkRdUlCZ7UlhXMwqXEIFbgQB6oAt1dhWkoALpNAiwlHwmuBaTMYKScSUaIgBCBiGjkApmsAIIUAAVwASUoAvXUCm8gHdAiFQbWBkhyIOB0YEkaHMSQxHSgAqrkAqukAqt4AzVMEPLABOB9Q2lgQvmt4Zu+IbPBBvxghsSQ4d0GC8iZod6qIdzuId++IeAGBt9GIh22IfmdYgGiJiIEBEQADs=",_le="/assets/logo-1e2sNsQM.mp4",Sle="/assets/logo-CDt7pIML.webm",xle="/assets/pride-CMcO3nTB.png";var x5;(x5=global.location)!=null&&x5.search.includes("pride")&&ot.session.setItem("pride","true");function Fw(e){const[t]=Tt(Qr);return t?null:p.jsxs("div",{className:"relative h-[16.4rem] [view-transition-name:logo]",children:[ot.session.getItem("pride")==="true"&&p.jsx(VP,{asChild:!0,children:p.jsx("img",{className:"absolute",src:xle,alt:"AllKaraoke Pride logo part 1"})}),p.jsxs(VP,{...e,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,children:[p.jsx("source",{src:Sle,type:"video/webm"}),p.jsx("source",{src:_le,type:"video/mp4"})]}),p.jsx("img",{className:"absolute w-[13.7rem] h-[5.1rem] bottom-[-0.5rem] right-[-1rem]",src:ble,alt:"AllKaraoke Pride logo part 2"})]})}const VP=$n.video`w-[66rem] h-[16.4rem]`;function $w(){return"chrome"in window}function wle(){return p.jsx(p.Fragment,{children:!$w()&&p.jsxs(Ew,{className:"w-full py-12 bg-red-900 text-center",children:[p.jsxs(xc,{className:"text-lg",children:["This game is tested in ",p.jsx("strong",{children:"Google Chrome"})," and ",p.jsx("strong",{children:"MS Edge"}),"."]}),p.jsx(xc,{children:"It's not guaranteed to work on other browsers (like the one you use now)."})]})})}function S4(){return p.jsx(p.Fragment,{children:p.jsx("a",{href:"https://github.com/Asvarox/allkaraoke",target:"_blank",rel:"noreferrer",className:"github-corner","aria-label":"View source on GitHub",dangerouslySetInnerHTML:{__html:`
      <svg width="80" height="80" viewBox="0 0 250 250"
           style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; left: 0; transform: scale(-1, 1);"
           aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z" />
        <path
          d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
          fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm" />
        <path
          d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
          fill="currentColor" class="octo-body" />
      </svg>
      <style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes
        octocat-wave{0 %,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media
        (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>`}})})}function bl({children:e,supportedBrowsers:t}){return ml(!0),p.jsxs(yl,{children:[p.jsx(S4,{}),p.jsxs("div",{className:"w-screen h-screen flex items-center flex-col gap-8",children:[p.jsx(Fw,{}),t&&p.jsx(wle,{}),p.jsx(Wr,{children:e})]})]})}var jf={},W0=function(){return W0=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},W0.apply(this,arguments)},Ele=function(){function e(t,n,r){var i=this;this.endVal=n,this.options=r,this.version="2.8.0",this.defaults={startVal:0,decimalPlaces:0,duration:2,useEasing:!0,useGrouping:!0,useIndianSeparators:!1,smartEasingThreshold:999,smartEasingAmount:333,separator:",",decimal:".",prefix:"",suffix:"",enableScrollSpy:!1,scrollSpyDelay:200,scrollSpyOnce:!1},this.finalEndVal=null,this.useEasing=!0,this.countDown=!1,this.error="",this.startVal=0,this.paused=!0,this.once=!1,this.count=function(s){i.startTime||(i.startTime=s);var o=s-i.startTime;i.remaining=i.duration-o,i.useEasing?i.countDown?i.frameVal=i.startVal-i.easingFn(o,0,i.startVal-i.endVal,i.duration):i.frameVal=i.easingFn(o,i.startVal,i.endVal-i.startVal,i.duration):i.frameVal=i.startVal+(i.endVal-i.startVal)*(o/i.duration);var l=i.countDown?i.frameVal<i.endVal:i.frameVal>i.endVal;i.frameVal=l?i.endVal:i.frameVal,i.frameVal=Number(i.frameVal.toFixed(i.options.decimalPlaces)),i.printValue(i.frameVal),o<i.duration?i.rAF=requestAnimationFrame(i.count):i.finalEndVal!==null?i.update(i.finalEndVal):i.options.onCompleteCallback&&i.options.onCompleteCallback()},this.formatNumber=function(s){var o,l,d,c,h=s<0?"-":"";o=Math.abs(s).toFixed(i.options.decimalPlaces);var f=(o+="").split(".");if(l=f[0],d=f.length>1?i.options.decimal+f[1]:"",i.options.useGrouping){c="";for(var m=3,v=0,A=0,b=l.length;A<b;++A)i.options.useIndianSeparators&&A===4&&(m=2,v=1),A!==0&&v%m==0&&(c=i.options.separator+c),v++,c=l[b-A-1]+c;l=c}return i.options.numerals&&i.options.numerals.length&&(l=l.replace(/[0-9]/g,function(x){return i.options.numerals[+x]}),d=d.replace(/[0-9]/g,function(x){return i.options.numerals[+x]})),h+i.options.prefix+l+d+i.options.suffix},this.easeOutExpo=function(s,o,l,d){return l*(1-Math.pow(2,-10*s/d))*1024/1023+o},this.options=W0(W0({},this.defaults),r),this.formattingFn=this.options.formattingFn?this.options.formattingFn:this.formatNumber,this.easingFn=this.options.easingFn?this.options.easingFn:this.easeOutExpo,this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.endVal=this.validateValue(n),this.options.decimalPlaces=Math.max(this.options.decimalPlaces),this.resetDuration(),this.options.separator=String(this.options.separator),this.useEasing=this.options.useEasing,this.options.separator===""&&(this.options.useGrouping=!1),this.el=typeof t=="string"?document.getElementById(t):t,this.el?this.printValue(this.startVal):this.error="[CountUp] target is null or undefined",typeof window<"u"&&this.options.enableScrollSpy&&(this.error?console.error(this.error,t):(window.onScrollFns=window.onScrollFns||[],window.onScrollFns.push(function(){return i.handleScroll(i)}),window.onscroll=function(){window.onScrollFns.forEach(function(s){return s()})},this.handleScroll(this)))}return e.prototype.handleScroll=function(t){if(t&&window&&!t.once){var n=window.innerHeight+window.scrollY,r=t.el.getBoundingClientRect(),i=r.top+window.pageYOffset,s=r.top+r.height+window.pageYOffset;s<n&&s>window.scrollY&&t.paused?(t.paused=!1,setTimeout(function(){return t.start()},t.options.scrollSpyDelay),t.options.scrollSpyOnce&&(t.once=!0)):(window.scrollY>s||i>n)&&!t.paused&&t.reset()}},e.prototype.determineDirectionAndSmartEasing=function(){var t=this.finalEndVal?this.finalEndVal:this.endVal;this.countDown=this.startVal>t;var n=t-this.startVal;if(Math.abs(n)>this.options.smartEasingThreshold&&this.options.useEasing){this.finalEndVal=t;var r=this.countDown?1:-1;this.endVal=t+r*this.options.smartEasingAmount,this.duration=this.duration/2}else this.endVal=t,this.finalEndVal=null;this.finalEndVal!==null?this.useEasing=!1:this.useEasing=this.options.useEasing},e.prototype.start=function(t){this.error||(this.options.onStartCallback&&this.options.onStartCallback(),t&&(this.options.onCompleteCallback=t),this.duration>0?(this.determineDirectionAndSmartEasing(),this.paused=!1,this.rAF=requestAnimationFrame(this.count)):this.printValue(this.endVal))},e.prototype.pauseResume=function(){this.paused?(this.startTime=null,this.duration=this.remaining,this.startVal=this.frameVal,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count)):cancelAnimationFrame(this.rAF),this.paused=!this.paused},e.prototype.reset=function(){cancelAnimationFrame(this.rAF),this.paused=!0,this.resetDuration(),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.printValue(this.startVal)},e.prototype.update=function(t){cancelAnimationFrame(this.rAF),this.startTime=null,this.endVal=this.validateValue(t),this.endVal!==this.frameVal&&(this.startVal=this.frameVal,this.finalEndVal==null&&this.resetDuration(),this.finalEndVal=null,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count))},e.prototype.printValue=function(t){var n;if(this.el){var r=this.formattingFn(t);!((n=this.options.plugin)===null||n===void 0)&&n.render?this.options.plugin.render(this.el,r):this.el.tagName==="INPUT"?this.el.value=r:this.el.tagName==="text"||this.el.tagName==="tspan"?this.el.textContent=r:this.el.innerHTML=r}},e.prototype.ensureNumber=function(t){return typeof t=="number"&&!isNaN(t)},e.prototype.validateValue=function(t){var n=Number(t);return this.ensureNumber(n)?n:(this.error="[CountUp] invalid start or end value: ".concat(t),null)},e.prototype.resetDuration=function(){this.startTime=null,this.duration=1e3*Number(this.options.duration),this.remaining=this.duration},e}();const Cle=Object.freeze(Object.defineProperty({__proto__:null,CountUp:Ele},Symbol.toStringTag,{value:"Module"})),kle=ED(Cle);var LP;function Tle(){if(LP)return jf;LP=1,Object.defineProperty(jf,"__esModule",{value:!0});var e=Rc(),t=kle;function n(V,N){var k=V==null?null:typeof Symbol<"u"&&V[Symbol.iterator]||V["@@iterator"];if(k!=null){var B,H,F,U,D=[],L=!0,Y=!1;try{if(F=(k=k.call(V)).next,N!==0)for(;!(L=(B=F.call(k)).done)&&(D.push(B.value),D.length!==N);L=!0);}catch(q){Y=!0,H=q}finally{try{if(!L&&k.return!=null&&(U=k.return(),Object(U)!==U))return}finally{if(Y)throw H}}return D}}function r(V,N){var k=Object.keys(V);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(V);N&&(B=B.filter(function(H){return Object.getOwnPropertyDescriptor(V,H).enumerable})),k.push.apply(k,B)}return k}function i(V){for(var N=1;N<arguments.length;N++){var k=arguments[N]!=null?arguments[N]:{};N%2?r(Object(k),!0).forEach(function(B){s(V,B,k[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(V,Object.getOwnPropertyDescriptors(k)):r(Object(k)).forEach(function(B){Object.defineProperty(V,B,Object.getOwnPropertyDescriptor(k,B))})}return V}function s(V,N,k){return N=b(N),N in V?Object.defineProperty(V,N,{value:k,enumerable:!0,configurable:!0,writable:!0}):V[N]=k,V}function o(){return o=Object.assign?Object.assign.bind():function(V){for(var N=1;N<arguments.length;N++){var k=arguments[N];for(var B in k)Object.prototype.hasOwnProperty.call(k,B)&&(V[B]=k[B])}return V},o.apply(this,arguments)}function l(V,N){if(V==null)return{};var k={},B=Object.keys(V),H,F;for(F=0;F<B.length;F++)H=B[F],!(N.indexOf(H)>=0)&&(k[H]=V[H]);return k}function d(V,N){if(V==null)return{};var k=l(V,N),B,H;if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(V);for(H=0;H<F.length;H++)B=F[H],!(N.indexOf(B)>=0)&&Object.prototype.propertyIsEnumerable.call(V,B)&&(k[B]=V[B])}return k}function c(V,N){return h(V)||n(V,N)||f(V,N)||v()}function h(V){if(Array.isArray(V))return V}function f(V,N){if(V){if(typeof V=="string")return m(V,N);var k=Object.prototype.toString.call(V).slice(8,-1);if(k==="Object"&&V.constructor&&(k=V.constructor.name),k==="Map"||k==="Set")return Array.from(V);if(k==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(k))return m(V,N)}}function m(V,N){(N==null||N>V.length)&&(N=V.length);for(var k=0,B=new Array(N);k<N;k++)B[k]=V[k];return B}function v(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function A(V,N){if(typeof V!="object"||V===null)return V;var k=V[Symbol.toPrimitive];if(k!==void 0){var B=k.call(V,N||"default");if(typeof B!="object")return B;throw new TypeError("@@toPrimitive must return a primitive value.")}return(N==="string"?String:Number)(V)}function b(V){var N=A(V,"string");return typeof N=="symbol"?N:String(N)}var x=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?e.useLayoutEffect:e.useEffect;function E(V){var N=e.useRef(V);return x(function(){N.current=V}),e.useCallback(function(){for(var k=arguments.length,B=new Array(k),H=0;H<k;H++)B[H]=arguments[H];return N.current.apply(void 0,B)},[])}var I=function(N,k){var B=k.decimal,H=k.decimals,F=k.duration,U=k.easingFn,D=k.end,L=k.formattingFn,Y=k.numerals,q=k.prefix,Q=k.separator,M=k.start,z=k.suffix,J=k.useEasing,ae=k.useGrouping,W=k.useIndianSeparators,ye=k.enableScrollSpy,le=k.scrollSpyDelay,me=k.scrollSpyOnce,xe=k.plugin;return new t.CountUp(N,D,{startVal:M,duration:F,decimal:B,decimalPlaces:H,easingFn:U,formattingFn:L,numerals:Y,separator:Q,prefix:q,suffix:z,plugin:xe,useEasing:J,useIndianSeparators:W,useGrouping:ae,enableScrollSpy:ye,scrollSpyDelay:le,scrollSpyOnce:me})},P=["ref","startOnMount","enableReinitialize","delay","onEnd","onStart","onPauseResume","onReset","onUpdate"],T={decimal:".",separator:",",delay:null,prefix:"",suffix:"",duration:2,start:0,decimals:0,startOnMount:!0,enableReinitialize:!0,useEasing:!0,useGrouping:!0,useIndianSeparators:!1},w=function(N){var k=Object.fromEntries(Object.entries(N).filter(function(Ue){var Le=c(Ue,2),je=Le[1];return je!==void 0})),B=e.useMemo(function(){return i(i({},T),k)},[N]),H=B.ref,F=B.startOnMount,U=B.enableReinitialize,D=B.delay,L=B.onEnd,Y=B.onStart,q=B.onPauseResume,Q=B.onReset,M=B.onUpdate,z=d(B,P),J=e.useRef(),ae=e.useRef(),W=e.useRef(!1),ye=E(function(){return I(typeof H=="string"?H:H.current,z)}),le=E(function(Ue){var Le=J.current;if(Le&&!Ue)return Le;var je=ye();return J.current=je,je}),me=E(function(){var Ue=function(){return le(!0).start(function(){L==null||L({pauseResume:xe,reset:Re,start:Oe,update:be})})};D&&D>0?ae.current=setTimeout(Ue,D*1e3):Ue(),Y==null||Y({pauseResume:xe,reset:Re,update:be})}),xe=E(function(){le().pauseResume(),q==null||q({reset:Re,start:Oe,update:be})}),Re=E(function(){le().el&&(ae.current&&clearTimeout(ae.current),le().reset(),Q==null||Q({pauseResume:xe,start:Oe,update:be}))}),be=E(function(Ue){le().update(Ue),M==null||M({pauseResume:xe,reset:Re,start:Oe})}),Oe=E(function(){Re(),me()}),Ze=E(function(Ue){F&&(Ue&&Re(),me())});return e.useEffect(function(){W.current?U&&Ze(!0):(W.current=!0,Ze())},[U,W,Ze,D,N.start,N.suffix,N.prefix,N.duration,N.separator,N.decimals,N.decimal,N.formattingFn]),e.useEffect(function(){return function(){Re()}},[Re]),{start:Oe,pauseResume:xe,reset:Re,update:be,getCountUp:le}},R=["className","redraw","containerProps","children","style"],j=function(N){var k=N.className,B=N.redraw,H=N.containerProps,F=N.children,U=N.style,D=d(N,R),L=e.useRef(null),Y=e.useRef(!1),q=w(i(i({},D),{},{ref:L,startOnMount:typeof F!="function"||N.delay===0,enableReinitialize:!1})),Q=q.start,M=q.reset,z=q.update,J=q.pauseResume,ae=q.getCountUp,W=E(function(){Q()}),ye=E(function(xe){N.preserveValue||M(),z(xe)}),le=E(function(){if(typeof N.children=="function"&&!(L.current instanceof Element)){console.error(`Couldn't find attached element to hook the CountUp instance into! Try to attach "containerRef" from the render prop to a an Element, eg. <span ref={containerRef} />.`);return}ae()});e.useEffect(function(){le()},[le]),e.useEffect(function(){Y.current&&ye(N.end)},[N.end,ye]);var me=B&&N;return e.useEffect(function(){B&&Y.current&&W()},[W,B,me]),e.useEffect(function(){!B&&Y.current&&W()},[W,B,N.start,N.suffix,N.prefix,N.duration,N.separator,N.decimals,N.decimal,N.className,N.formattingFn]),e.useEffect(function(){Y.current=!0},[]),typeof F=="function"?F({countUpRef:L,start:Q,reset:M,update:z,pauseResume:J,getCountUp:ae}):e.createElement("span",o({className:k,ref:L,style:U},H),typeof N.start<"u"?ae().formattingFn(N.start):"")};return jf.default=j,jf.useCountUp=w,jf}var Ile=Tle();const zw=Lr(Ile),Uw=e=>S.useMemo(()=>{const t={};e.forEach(r=>{if(!r.language)return;(Array.isArray(r.language)?r.language:[r.language]).forEach(s=>{const o=s.toLowerCase();t[o]||(t[o]={name:s,count:0}),t[o].count=t[o].count+1})});const n=Object.values(t);return n.sort((r,i)=>i.count-r.count),n},[e]),Rle=rs()?0:20;function x4({onClose:e,closeText:t}){const{register:n}=Cr({onBackspace:e}),[r,i]=Tt(av),{data:s,isLoading:o}=Nd(),l=Uw(s),d=S.useMemo(()=>l.filter(({name:v,count:A})=>b4(v)&&A>=Rle),[l]),c=S.useMemo(()=>l.filter(({name:v})=>!d.find(A=>A.name===v)).reduce((v,{count:A})=>v+A,0),[l,d]),h=d.filter(({name:v})=>!(r!=null&&r.includes(v))).reduce((v,{count:A})=>v+A,0),f=v=>{r===null?i([v]):r.includes(v)?i(r.filter(A=>A!==v)):i([...r,v])};S.useEffect(()=>{if(r===null&&(navigator!=null&&navigator.languages)){const v=new Intl.DisplayNames(["en"],{type:"language"}),A=navigator==null?void 0:navigator.languages.map(x=>{var E;return(E=v.of(x))==null?void 0:E.toLowerCase()}).filter(Boolean),b=d.map(x=>x.name).filter(x=>!A.some(E=>E.includes(x.toLowerCase()))).filter(x=>x!=="English");b.length&&i(b)}},[r,d]);const m=S.useMemo(()=>d.every(v=>r==null?void 0:r.includes(v.name)),[r,d]);return S.useEffect(()=>{r!=null&&r.find(v=>!d.find(A=>A.name===v))&&i(r.filter(v=>d.find(A=>A.name===v)))},[d,r,i]),p.jsxs(bl,{children:[p.jsx("h1",{children:"Select Song Languages"}),p.jsxs(jle,{children:[o&&new Array(6).fill(0).map((v,A)=>p.jsx(Ale,{variant:"rectangular",width:"100%",height:"10rem",children:p.jsx(NP,{"data-excluded":!0,focused:!1,children:p.jsx(fc,{language:["English"]})})},A)),d.map(({name:v,count:A})=>{const b=(r==null?void 0:r.includes(v))??!1;return p.jsxs(NP,{"data-excluded":b,...n(`lang-${v}`,()=>f(v)),children:[p.jsx(Mle,{children:b?p.jsx(Gm,{}):p.jsx(Hm,{})}),p.jsxs("span",{children:[p.jsx(Ole,{children:v})," (",A," songs)"]}),p.jsx(Vle,{"data-excluded":b,children:p.jsx(fc,{language:[v]})})]},v)}),c>0&&p.jsxs(Q1,{children:["and ",p.jsxs("strong",{children:[c," songs"]})," in other languages"]})]}),p.jsxs("h3",{children:["You can always update the selection in ",p.jsx("strong",{children:"Manage Songs"})," menu"]}),p.jsxs(Ple,{children:[p.jsx(ut,{...n("close-exclude-languages",e,void 0,!0,{disabled:m||o}),children:t}),p.jsxs(Q1,{children:["The list will contain"," ",p.jsx("strong",{children:p.jsx(zw,{duration:1,preserveValue:!0,end:h+c})})," ","songs"]}),m&&p.jsxs(Q1,{"data-test":"all-languages-excluded-warning",children:[p.jsx("strong",{children:p.jsx(Ld,{})})," ","You excluded all the languages, pick at least one"]})]})]})}const Ple=G("div",{target:"e17pzmm6"})({name:"4zk4ri",styles:"display:flex;flex-direction:column;gap:1rem"}),Q1=G("h4",{target:"e17pzmm5"})({name:"2qga7i",styles:"text-align:right"}),Mle=G("div",{target:"e17pzmm4"})({name:"18gxnlc",styles:"svg{width:3rem;height:3rem;}"}),jle=G("div",{target:"e17pzmm3"})({name:"fvqkyn",styles:"margin-top:2rem;display:flex;flex-direction:column;gap:1rem"}),Ole=G("span",{target:"e17pzmm2"})({name:"1jwmbuq",styles:"transition:300ms"}),Vle=G("div",{target:"e17pzmm1"})({name:"5606u9",styles:"transition:300ms;opacity:0.95;&[data-excluded='true']{filter:grayscale(0.6);opacity:0.5;}position:absolute;bottom:0;right:0;img{width:14rem;height:8rem;object-fit:cover;}overflow:hidden;width:14rem;height:8rem"}),NP=G(ut,{target:"e17pzmm0"})("&[data-excluded='true']{text-decoration:line-through white;opacity:0.5;&[data-focused='false']{background:rgba(0, 0, 0, 0.55);}}",xt,";display:flex;align-items:center;justify-content:flex-start;gap:2rem;font-size:2.5rem;padding-left:3rem;margin:0;height:8rem;position:relative;width:100%;"),Lle=rs()?0:30;function Nle({children:e,languageList:t,excludedLanguages:n,onListChange:r}){const[i,s]=S.useState(!1),o=()=>s(!1),l=t.filter(c=>c.count>Lle),d=c=>{const h=n.filter(f=>l.find(m=>m.name===f));h.length===0?r(t.filter(f=>f.name!==c).map(f=>f.name)):h.includes(c)?r(n.filter(f=>f!==c)):h.length===l.length-1?r([]):r([...n,c])};return p.jsxs(p.Fragment,{children:[i&&p.jsx(Fc,{onClose:o,children:p.jsxs(Wr,{"data-test":"languages-container",spacing:"tight",children:[l.map(({name:c,count:h})=>{const f=n.length&&n.includes(c);return p.jsxs(Wr.Button,{size:"small","data-inactive":f,"data-active":!!n.length&&!n.includes(c),onClick:()=>d(c),"data-test":c,className:"!justify-between",children:[p.jsxs("span",{children:[c," ",p.jsxs("small",{className:"text-sm pl-2",children:["(",h," songs)"]})]}),p.jsx(fc,{language:[c],className:" h-full w-32 object-cover"})]},c)}),p.jsx(Wr.Divider,{}),p.jsx(Wr.Button,{size:"small",onClick:o,"data-test":"close-language-filter",children:"Close"})]})}),e({open:()=>s(!0)})]})}const Ble=(e,t,n)=>e>=t&&e<n;function Dle(e,t){var P,T,w;const n=S.useMemo(()=>{const R=[];return e.groupSizes.forEach((j,V)=>{var N,k;R.push({index:V,type:"group",bottom:(((N=R.at(-1))==null?void 0:N.bottom)??0)+e.groupHeaderHeight,groupIndex:V});for(let B=0;B<j;B++){const H=e.groupSizes.reduce((F,U,D)=>F+(D<V?U:0),0)+B;R.push({index:H,type:"item",bottom:(((k=R.at(-1))==null?void 0:k.bottom)??0)+e.itemHeight,groupIndex:V})}}),R},[e.itemHeight,e.groupHeaderHeight,e.groupSizes]),r=((P=n.at(-1))==null?void 0:P.bottom)??0,i=S.useRef(null),s=((T=i.current)==null?void 0:T.getBoundingClientRect().height)??global.innerHeight,o=S.useCallback(R=>{const j=n.findIndex(N=>N.bottom>R-e.overScan),V=n.findIndex(N=>N.bottom>R+s+e.overScan);return[j,V===-1?n.length:V]},[n,s,e.overScan]),[[l,d],c]=S.useState(o(0));S.useLayoutEffect(()=>{var j;const R=o(((j=i.current)==null?void 0:j.scrollTop)??0);(l!==R[0]||d!==R[1])&&c(R)},[o,e.groupSizes,l,d]),S.useEffect(()=>{if(i.current){const R=()=>{var V;const j=o(((V=i.current)==null?void 0:V.scrollTop)??0);(l!==j[0]||d!==j[1])&&c(j)};return i.current.addEventListener("scroll",R),i.current.scrollTop>r&&i.current.scrollTo({top:0}),()=>{var j;(j=i.current)==null||j.removeEventListener("scroll",R)}}},[l,d,o,r]);const h=S.useCallback((R,j)=>{var V,N;return(((V=n[j])==null?void 0:V.bottom)??0)-(((N=n[R])==null?void 0:N.bottom)??0)},[n]),f=S.useMemo(()=>h(-1,l-1),[l,h]),m=n.slice(0,l).findLastIndex(({type:R})=>R==="group"),v=n.slice(l,d),A=m!==-1?[[]]:[];for(let R=0;R<v.length;R++){const j=v[R];j.type==="group"&&A.push([]),(w=A.at(-1))==null||w.push(j)}S.useImperativeHandle(t,()=>({getItemPositionY:R=>{var j;return(((j=n.find(V=>V.type==="item"&&V.index===R))==null?void 0:j.bottom)??-1)-e.itemHeight},scrollTo:R=>{var j;(j=i.current)==null||j.scrollTo({top:R})},scrollToIndex:async(R,j="auto",V="center")=>{var k,B;const N=n.find(H=>H.type==="item"&&H.index===R);if(N){const H=(e.itemHeight+(V==="center"?(k=i.current)==null?void 0:k.clientHeight:0))/2;(B=i.current)==null||B.scrollTo({top:N.bottom-H,behavior:j})}},scrollToGroup:async(R,j="auto",V="top")=>{var k;const N=n.find(B=>B.type==="group"&&B.index===R);N&&((k=i.current)==null||k.scrollTo({top:N.bottom-e.groupHeaderHeight,behavior:j}))}}));const{Header:b,Footer:x,EmptyPlaceholder:E}=e.components??{},I=n.findIndex(R=>R.type==="item"&&R.index===e.forceRenderItem);return p.jsxs($le,{ref:i,children:[p.jsxs(Fle,{style:{height:r,paddingTop:m!==-1?f-e.groupHeaderHeight:f},children:[b&&p.jsx(b,{context:e.context}),n[I]&&!Ble(I,l,d)&&p.jsx(p.Fragment,{children:e.itemContent(n[I].index,n[I].groupIndex,{style:{width:"100%",position:"absolute",top:n[I].bottom-e.itemHeight,left:0,boxSizing:"border-box"},"data-virtualized-bottom":n[I].bottom,"data-virtualized-index":n[I].index})}),A.map((R,j)=>p.jsxs("div",{children:[j===0&&m!==-1&&e.groupContent(n[m].index),R.map(({index:V,type:N,bottom:k,groupIndex:B})=>p.jsx(S.Fragment,{children:N==="group"?e.groupContent(V):e.itemContent(V,B,{"data-virtualized-bottom":k,"data-virtualized-index":V})},`${k}`))]},(R[0]??n[m]).groupIndex))]}),A.length===0&&E&&p.jsx(E,{context:e.context}),x&&p.jsx(x,{context:e.context})]})}const Fle=G("div",{target:"e1c20jfn1"})({name:"100d0a9",styles:"box-sizing:border-box;position:relative"}),$le=G("div",{target:"e1c20jfn0"})({name:"1wyitvb",styles:"overflow:auto;height:100%;width:100%"}),w4=S.forwardRef(Dle),zle=new Intl.Collator("en",{numeric:!0,sensitivity:"base"}).compare,SS=1/0,J1=e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),BP="eexxaacctt",Ule="A-Z",Hle="a-z",Of=(e,t,n)=>e.replace(Ule,t).replace(Hle,n),DP={unicode:!1,alpha:null,interSplit:"[^A-Za-z\\d']+",intraSplit:"[a-z][A-Z]",intraBound:"[A-Za-z]\\d|\\d[A-Za-z]|[a-z][A-Z]",interLft:0,interRgt:0,interChars:".",interIns:SS,intraChars:"[a-z\\d']",intraIns:null,intraContr:"'[a-z]{1,2}\\b",intraMode:0,intraSlice:[1,SS],intraSub:null,intraTrn:null,intraDel:null,intraFilt:(e,t,n)=>!0,sort:(e,t,n)=>{let{idx:r,chars:i,terms:s,interLft2:o,interLft1:l,start:d,intraIns:c,interIns:h}=e;return r.map((f,m)=>m).sort((f,m)=>i[m]-i[f]||c[f]-c[m]||s[m]+o[m]+.5*l[m]-(s[f]+o[f]+.5*l[f])||h[f]-h[m]||d[f]-d[m]||zle(t[r[f]],t[r[m]]))}},X1=(e,t)=>t==0?"":t==1?e+"??":t==SS?e+"*?":e+`{0,${t}}?`,FP="(?:\\b|_)";function Zv(e){e=Object.assign({},DP,e);let{unicode:t,interLft:n,interRgt:r,intraMode:i,intraSlice:s,intraIns:o,intraSub:l,intraTrn:d,intraDel:c,intraContr:h,intraSplit:f,interSplit:m,intraBound:v,intraChars:A}=e;o??(o=i),l??(l=i),d??(d=i),c??(c=i);let b=e.letters??e.alpha;if(b!=null){let z=b.toLocaleUpperCase(),J=b.toLocaleLowerCase();m=Of(m,z,J),f=Of(f,z,J),v=Of(v,z,J),A=Of(A,z,J),h=Of(h,z,J)}let x=t?"u":"";const E='".+?"',I=new RegExp(E,"gi"+x),P=new RegExp(`(?:\\s+|^)-(?:${A}+|${E})`,"gi"+x);let{intraRules:T}=e;T==null&&(T=z=>{let J=DP.intraSlice,ae=0,W=0,ye=0,le=0;if(/[^\d]/.test(z)){let me=z.length;me<=4?me>=3&&(ye=Math.min(d,1),me==4&&(ae=Math.min(o,1))):(J=s,ae=o,W=l,ye=d,le=c)}return{intraSlice:J,intraIns:ae,intraSub:W,intraTrn:ye,intraDel:le}});let w=!!f,R=new RegExp(f,"g"+x),j=new RegExp(m,"g"+x),V=new RegExp("^"+m+"|"+m+"$","g"+x),N=new RegExp(h,"gi"+x);const k=z=>{let J=[];z=z.replace(I,W=>(J.push(W),BP)),z=z.replace(V,"").toLocaleLowerCase(),w&&(z=z.replace(R,W=>W[0]+" "+W[1]));let ae=0;return z.split(j).filter(W=>W!="").map(W=>W===BP?J[ae++]:W)},B=/[^\d]+|\d+/g,H=(z,J=0,ae=!1)=>{let W=k(z);if(W.length==0)return[];let ye=Array(W.length).fill("");W=W.map((be,Oe)=>be.replace(N,Ze=>(ye[Oe]=Ze,"")));let le;if(i==1)le=W.map((be,Oe)=>{if(be[0]==='"')return J1(be.slice(1,-1));let Ze="";for(let Ue of be.matchAll(B)){let Le=Ue[0],{intraSlice:je,intraIns:mt,intraSub:vt,intraTrn:De,intraDel:ht}=T(Le);if(mt+vt+De+ht==0)Ze+=Le+ye[Oe];else{let[Ut,Wt]=je,Ht=Le.slice(0,Ut),Ge=Le.slice(Wt),jt=Le.slice(Ut,Wt);mt==1&&Ht.length==1&&Ht!=jt[0]&&(Ht+="(?!"+Ht+")");let Xt=jt.length,Zt=[Le];if(vt)for(let bt=0;bt<Xt;bt++)Zt.push(Ht+jt.slice(0,bt)+A+jt.slice(bt+1)+Ge);if(De)for(let bt=0;bt<Xt-1;bt++)jt[bt]!=jt[bt+1]&&Zt.push(Ht+jt.slice(0,bt)+jt[bt+1]+jt[bt]+jt.slice(bt+2)+Ge);if(ht)for(let bt=0;bt<Xt;bt++)Zt.push(Ht+jt.slice(0,bt+1)+"?"+jt.slice(bt+1)+Ge);if(mt){let bt=X1(A,1);for(let dt=0;dt<Xt;dt++)Zt.push(Ht+jt.slice(0,dt)+bt+jt.slice(dt)+Ge)}Ze+="(?:"+Zt.join("|")+")"+ye[Oe]}}return Ze});else{let be=X1(A,o);J==2&&o>0&&(be=")("+be+")("),le=W.map((Oe,Ze)=>Oe[0]==='"'?J1(Oe.slice(1,-1)):Oe.split("").map((Ue,Le,je)=>(o==1&&Le==0&&je.length>1&&Ue!=je[Le+1]&&(Ue+="(?!"+Ue+")"),Ue)).join(be)+ye[Ze])}let me=n==2?FP:"",xe=r==2?FP:"",Re=xe+X1(e.interChars,e.interIns)+me;return J>0?ae?le=me+"("+le.join(")"+xe+"|"+me+"(")+")"+xe:(le="("+le.join(")("+Re+")(")+")",le="(.??"+me+")"+le+"("+xe+".*)"):(le=le.join(Re),le=me+le+xe),[new RegExp(le,"i"+x),W,ye]},F=(z,J,ae)=>{let[W]=H(J);if(W==null)return null;let ye=[];if(ae!=null)for(let le=0;le<ae.length;le++){let me=ae[le];W.test(z[me])&&ye.push(me)}else for(let le=0;le<z.length;le++)W.test(z[le])&&ye.push(le);return ye};let U=!!v,D=new RegExp(m,x),L=new RegExp(v,x);const Y=(z,J,ae)=>{let[W,ye,le]=H(ae,1),[me]=H(ae,2),xe=ye.length,Re=z.length,be=Array(Re).fill(0),Oe={idx:Array(Re),start:be.slice(),chars:be.slice(),terms:be.slice(),interIns:be.slice(),intraIns:be.slice(),interLft2:be.slice(),interRgt2:be.slice(),interLft1:be.slice(),interRgt1:be.slice(),ranges:Array(Re)},Ze=n==1||r==1,Ue=0;for(let Le=0;Le<z.length;Le++){let je=J[z[Le]],mt=je.match(W),vt=mt.index+mt[1].length,De=vt,ht=!1,Ut=0,Wt=0,Ht=0,Ge=0,jt=0,Xt=0,Zt=0,bt=0,dt=[];for(let nt=0,_t=2;nt<xe;nt++,_t+=2){let cn=mt[_t].toLocaleLowerCase(),Lt=ye[nt],Pt=Lt[0]=='"'?Lt.slice(1,-1):Lt+le[nt],vn=Pt.length,jn=cn.length,un=cn==Pt;if(!un&&mt[_t+1].length>=vn){let Dt=mt[_t+1].toLocaleLowerCase().indexOf(Pt);Dt>-1&&(dt.push(De,jn,Dt,vn),De+=q(mt,_t,Dt,vn),cn=Pt,jn=vn,un=!0,nt==0&&(vt=De))}if(Ze||un){let Dt=De-1,zn=De+jn,fr=!1,En=!1;if(Dt==-1||D.test(je[Dt]))un&&Ut++,fr=!0;else{if(n==2){ht=!0;break}if(U&&L.test(je[Dt]+je[Dt+1]))un&&Wt++,fr=!0;else if(n==1){let br=mt[_t+1],hr=De+jn;if(br.length>=vn){let Kt=0,On=!1,rt=new RegExp(Pt,"ig"+x),Et;for(;Et=rt.exec(br);){Kt=Et.index;let nr=hr+Kt,Nr=nr-1;if(Nr==-1||D.test(je[Nr])){Ut++,On=!0;break}else if(L.test(je[Nr]+je[nr])){Wt++,On=!0;break}}On&&(fr=!0,dt.push(De,jn,Kt,vn),De+=q(mt,_t,Kt,vn),cn=Pt,jn=vn,un=!0,nt==0&&(vt=De))}if(!fr){ht=!0;break}}}if(zn==je.length||D.test(je[zn]))un&&Ht++,En=!0;else{if(r==2){ht=!0;break}if(U&&L.test(je[zn-1]+je[zn]))un&&Ge++,En=!0;else if(r==1){ht=!0;break}}un&&(jt+=vn,fr&&En&&Xt++)}if(jn>vn&&(bt+=jn-vn),nt>0&&(Zt+=mt[_t-1].length),!e.intraFilt(Pt,cn,De)){ht=!0;break}nt<xe-1&&(De+=jn+mt[_t+1].length)}if(!ht){Oe.idx[Ue]=z[Le],Oe.interLft2[Ue]=Ut,Oe.interLft1[Ue]=Wt,Oe.interRgt2[Ue]=Ht,Oe.interRgt1[Ue]=Ge,Oe.chars[Ue]=jt,Oe.terms[Ue]=Xt,Oe.interIns[Ue]=Zt,Oe.intraIns[Ue]=bt,Oe.start[Ue]=vt;let nt=je.match(me),_t=nt.index+nt[1].length,cn=dt.length,Lt=cn>0?0:1/0,Pt=cn-4;for(let Dt=2;Dt<nt.length;){let zn=nt[Dt].length;if(Lt<=Pt&&dt[Lt]==_t){let fr=dt[Lt+1],En=dt[Lt+2],br=dt[Lt+3],hr=Dt,Kt="";for(let On=0;On<fr;hr++)Kt+=nt[hr],On+=nt[hr].length;nt.splice(Dt,hr-Dt,Kt),_t+=q(nt,Dt,En,br),Lt+=4}else _t+=zn,Dt++}_t=nt.index+nt[1].length;let vn=Oe.ranges[Ue]=[],jn=_t,un=_t;for(let Dt=2;Dt<nt.length;Dt++){let zn=nt[Dt].length;_t+=zn,Dt%2==0?un=_t:zn>0&&(vn.push(jn,un),jn=un=_t)}un>jn&&vn.push(jn,un),Ue++}}if(Ue<z.length)for(let Le in Oe)Oe[Le]=Oe[Le].slice(0,Ue);return Oe},q=(z,J,ae,W)=>{let ye=z[J]+z[J+1].slice(0,ae);return z[J-1]+=ye,z[J]=z[J+1].slice(ae,ae+W),z[J+1]=z[J+1].slice(ae+W),ye.length},Q=5,M=(z,J,ae,W=1e3,ye)=>{ae=ae?ae===!0?Q:ae:0;let le=null,me=null,xe=[];J=J.replace(P,Le=>{let je=Le.trim().slice(1);return je[0]==='"'&&(je=J1(je.slice(1,-1))),xe.push(je),""});let Re=k(J),be;if(xe.length>0){if(be=new RegExp(xe.join("|"),"i"+x),Re.length==0){let Le=[];for(let je=0;je<z.length;je++)be.test(z[je])||Le.push(je);return[Le,null,null]}}else if(Re.length==0)return[null,null,null];if(ae>0){let Le=k(J);if(Le.length>1){let je=Le.slice().sort((vt,De)=>De.length-vt.length);for(let vt=0;vt<je.length;vt++){if((ye==null?void 0:ye.length)==0)return[[],null,null];ye=F(z,je[vt],ye)}if(Le.length>ae)return[ye,null,null];le=E4(Le).map(vt=>vt.join(" ")),me=[];let mt=new Set;for(let vt=0;vt<le.length;vt++)if(mt.size<ye.length){let De=ye.filter(Ut=>!mt.has(Ut)),ht=F(z,le[vt],De);for(let Ut=0;Ut<ht.length;Ut++)mt.add(ht[Ut]);me.push(ht)}else me.push([])}}le==null&&(le=[J],me=[(ye==null?void 0:ye.length)>0?ye:F(z,J)]);let Oe=null,Ze=null;if(xe.length>0&&(me=me.map(Le=>Le.filter(je=>!be.test(z[je])))),me.reduce((Le,je)=>Le+je.length,0)<=W){Oe={},Ze=[];for(let Le=0;Le<me.length;Le++){let je=me[Le];if(je==null||je.length==0)continue;let mt=le[Le],vt=Y(je,z,mt),De=e.sort(vt,z,mt);if(Le>0)for(let ht=0;ht<De.length;ht++)De[ht]+=Ze.length;for(let ht in vt)Oe[ht]=(Oe[ht]??[]).concat(vt[ht]);Ze=Ze.concat(De)}}return[[].concat(...me),Oe,Ze]};return{search:(...z)=>M(...z),split:k,filter:F,info:Y,sort:e.sort}}const Gle=(()=>{let e={A:"",a:"",E:"",e:"",I:"",i:"",O:"",o:"",U:"",u:"",C:"",c:"",L:"",l:"",N:"",n:"",S:"",s:"",Z:"",z:""},t=new Map,n="";for(let s in e)e[s].split("").forEach(o=>{n+=o,t.set(o,s)});let r=new RegExp(`[${n}]`,"g"),i=s=>t.get(s);return s=>{if(typeof s=="string")return s.replace(r,i);let o=Array(s.length);for(let l=0;l<s.length;l++)o[l]=s[l].replace(r,i);return o}})();function E4(e){e=e.slice();let t=e.length,n=[e.slice()],r=new Array(t).fill(0),i=1,s,o;for(;i<t;)r[i]<i?(s=i%2&&r[i],o=e[i],e[i]=e[s],e[s]=o,++r[i],i=1,n.push(e.slice())):(r[i]=0,++i);return n}const qle=(e,t)=>t?`<mark>${e}</mark>`:e,Wle=(e,t)=>e+t;function Kle(e,t,n=qle,r="",i=Wle){r=i(r,n(e.substring(0,t[0]),!1))??r;for(let s=0;s<t.length;s+=2){let o=t[s],l=t[s+1];r=i(r,n(e.substring(o,l),!0))??r,s<t.length-3&&(r=i(r,n(e.substring(t[s+1],t[s+2]),!1))??r)}return r=i(r,n(e.substring(t[t.length-1]),!1))??r,r}Zv.latinize=Gle;Zv.permute=e=>E4([...Array(e.length).keys()]).sort((n,r)=>{for(let i=0;i<n.length;i++)if(n[i]!=r[i])return n[i]-r[i];return 0}).map(n=>n.map(r=>e[r]));Zv.highlight=Kle;const Yle=(e,t,n)=>{const r=Uw(e);return S.useMemo(()=>n?[]:[{name:"Selection",Wrapper:({children:l,active:d,focused:c})=>p.jsx(_ie,{...d&&c?{open:!0}:{},oneTime:!1,timeoutMs:15e3,dismissKey:"selection-playlist",place:"right",title:p.jsxs(p.Fragment,{children:["A combination of songs you might like and popular with other players.",p.jsx("br",{}),p.jsx("br",{})," ",p.jsx("strong",{children:"Search"})," is performed across all the songs."]}),children:l}),display:p.jsxs("span",{children:[p.jsx("strong",{children:""}),"Selection",p.jsx("strong",{children:""})]}),filters:{specificSongs:t}},{name:"All",filters:{}},r[0]?{name:r[0].name,filters:{language:r[0].name}}:null,r[1]?{name:r[1].name,filters:{language:r[1].name}}:null,{name:"Duets",filters:{duet:!0}},{name:"New",filters:{recentlyUpdated:!0}}].filter(l=>l!==null),[r,n,t])},$P=e=>cd((e==null?void 0:e.search)??"").length>2,zP={},Qle=/[^0-9a-z ]/gi,Z1=e=>xx(e).toLowerCase().replace(Qle,"");function xS(e,t){const n=cd(t);if(n.length>0){const r=new Zv({}),[,i,s]=r.search(e.map(o=>`${Z1(o.artist)} ${Z1(o.title)}`),Z1(t));return s&&i?s.map(o=>e[i.idx[o]]):e.filter(o=>o.search.includes(n))}return e}const K0={language:(e,t)=>t===""?e:e.filter(n=>n.language.includes(t)),excludeLanguages:(e,t=[],n)=>t.length===0||$P(n)||n.edition==="esc"?e:e.filter(r=>!r.language.every(i=>t.includes(i))),search:(e,t)=>xS(e,t),duet:(e,t)=>t===null?e:e.filter(n=>t?n.tracksCount>1:n.tracksCount===1),yearBefore:(e,t)=>t?e.filter(n=>Number(n.year)<t):e,yearAfter:(e,t)=>t?e.filter(n=>Number(n.year)>=t):e,edition:(e,t)=>cd(t).length?e.filter(r=>cd(r.edition??"").includes(t)):e,recentlyUpdated:e=>{const t=eo().subtract(31,"days");return e.filter(n=>n.lastUpdate&&eo(n.lastUpdate).isAfter(t))},specificSongs:(e,t,n)=>$P(n)?e:e.filter(r=>t.includes(r.id))},UP=(e,t)=>Object.entries(t).filter(n=>n[0]in K0).reduce((n,[r,i])=>K0[r](n,i,t,e),e),Jle=(e,t,n)=>{var A;const[r]=Tt(av),i=S.useMemo(()=>UP(e,{excludeLanguages:r??[]}),[e,r]),s=Yle(i,t,n),[o,l]=S.useState(new URLSearchParams((A=global.location)==null?void 0:A.search).get("playlist")??null),d=b=>{var E;const x=new URL((E=global.location)==null?void 0:E.href);x.searchParams.set("playlist",b),global.history.replaceState(null,"",x.toString()),l(b)},c=s.find(b=>b.name===o)??s[0],[h,f]=S.useState(zP);S.useEffect(()=>{f(zP)},[o]);const m=S.useDeferredValue(h),v=S.useMemo(()=>UP(e,{...(c==null?void 0:c.filters)??{},...m,excludeLanguages:r??[]}),[e,m,r,c]);return{filters:h,filteredList:v,setFilters:f,selectedPlaylist:o,setSelectedPlaylist:d,playlists:s,playlist:c}},Xle=Al("remote-mic-saved-songs"),Zle=Al("remote-mic-excluded-languages"),ece=Al("remote-mic-selected-song-list"),tce=Al("remote-mic-song-list-search");function nce({roomId:e,monitoringStarted:t,setMonitoringStarted:n,isKeepAwakeOn:r,setIsKeepAwakeOn:i,connectionError:s,connectionStatus:o}){const[l]=io(ge.remoteKeyboardLayout,!0)??[],d=Xv(),c=Nd(),[h,f]=S.useState();S.useEffect(()=>{o==="connected"&&h===void 0&&Wn.getSongList().then(f).catch(console.warn)},[h,o]);const m=S.useMemo(()=>rle(c.data.map(k=>({...k,id:is.generateSongFile(k)})).filter(k=>!((h==null?void 0:h.deleted)??[]).includes(k.id)).map(k=>({id:k.id,artist:k.artist,title:k.title,video:k.video,language:k.language,search:k.search})).concat(...((h==null?void 0:h.custom)??[]).map(k=>({...k,id:is.generateSongFile(k)}))),k=>k.id),[c.data,h]),v=Uw(m),[A,b]=tce(""),[x,E]=Zle([]),[I,P]=Xle([]),[T,w]=ece("list"),R=_4(),j=k=>{w(k),b("")},V=S.useMemo(()=>{if(T==="list"){const k=xS(m,A);return k.length!==m.length?k:m.filter(B=>!B.language.every(H=>x.includes(H)))}else{const k=I.map(B=>m.find(H=>H.id===B)).filter(Boolean);return xS(k,A)}},[A,m,T,I,x]),N=v.length-x.length;return p.jsxs(rce,{children:[p.jsxs(ice,{children:[p.jsx($c,{focused:!1,label:p.jsx(Ow,{}),placeholder:"Search for a song",value:A,onChange:k=>b(k),"data-test":"search-input"}),p.jsxs(sce,{children:[p.jsx(eb,{"data-test":"all-songs-button","data-active":T==="list",onClick:()=>j("list"),children:"All songs"}),p.jsxs(eb,{"data-test":"your-list-button","data-active":T==="queue",onClick:()=>j("queue"),children:["Your list (",I.length,")"]}),p.jsx(Nle,{excludedLanguages:x,languageList:v,onListChange:E,children:({open:k})=>p.jsxs(eb,{className:"!flex-grow-[0.3]",onClick:k,"data-test":"song-language-filter","data-active":x.length>0&&T==="list"?!0:void 0,children:["",N<v.length&&p.jsx(Dw,{children:N})]})})]})]}),p.jsx(w4,{forceRenderItem:-1,overScan:100,components:{},context:{},groupSizes:[V.length],groupHeaderHeight:1,groupContent:()=>null,itemHeight:R*7+1,itemContent:(k,B,H)=>{var D;const F=V[k],U=I.includes(F.id);return p.jsxs(oce,{className:U?"!bg-black !bg-opacity-35":"","data-test":F.id,...H,children:[p.jsx(ace,{children:p.jsx(fc,{language:F.language})}),p.jsxs(lce,{children:[p.jsx(uce,{children:F.title}),p.jsx(cce,{children:F.artist})]}),p.jsxs(dce,{children:[((D=l==null?void 0:l.remote)==null?void 0:D.includes("select-song"))&&d==="write"&&p.jsx(HP,{onClick:L=>{L.stopPropagation(),Wn.selectSong(F.id)},"data-test":"select-song-button",children:"SELECT"}),U?p.jsx(HP,{"data-test":"remove-song-button",onClick:L=>{L.stopPropagation(),P(Y=>Y.filter(q=>q!==F.id))},children:"-"}):p.jsx(C4,{"data-test":"add-song-button",onClick:L=>{L.stopPropagation(),P(Y=>[...Y,F.id])},children:"+"})]})]})}})]})}const rce=G("div",{target:"emsrjbt9"})({name:"lrzqpm",styles:"display:flex;flex-direction:column;position:relative;flex:1 1 auto;min-height:calc(100vh - 6rem);max-height:calc(100vh - 6rem)"}),ice=G("div",{target:"emsrjbt8"})(xt,";font-size:2.5rem;display:flex;flex-direction:column;"),sce=G("div",{target:"emsrjbt7"})({name:"7whenc",styles:"display:flex;width:100%"}),eb=G("button",{target:"emsrjbt6"})("border:none;flex:1;display:flex;align-items:center;justify-content:center;min-width:4rem;height:4rem;background:rgba(0, 0, 0, 0.75);",xt,";font-size:2rem;position:relative;transition:300ms;&[data-active='true']{background:",Ve.colors.text.active,";}&[data-active='false']{box-shadow:inset 0px 0px 0px 2px orange;}"),oce=G("div",{target:"emsrjbt5"})({name:"16qu2op",styles:"background:rgba(0, 0, 0, 0.15);display:flex;align-items:center;height:7rem;padding:0 1rem;gap:1rem;border-bottom:1px solid black;overflow:hidden;position:relative;transition:100ms"}),ace=G("div",{target:"emsrjbt4"})({name:"1xmi6sr",styles:"img{height:3rem;width:3rem;object-fit:cover;border-radius:3rem;border:0.1rem black solid;aspect-ratio:1;}"}),lce=G("div",{target:"emsrjbt3"})({name:"tpuoeb",styles:"display:flex;flex-direction:column;justify-content:space-between;gap:1rem"}),cce=G("span",{target:"emsrjbt2"})("color:",Ve.colors.text.default,";font-size:1.25rem;white-space:nowrap;"),uce=G("span",{target:"emsrjbt1"})("color:",Ve.colors.text.active,";font-size:1.5rem;white-space:nowrap;"),dce=G("div",{target:"emsrjbt0"})({name:"1m2flic",styles:"position:absolute;top:0;right:0;display:flex;height:7rem;align-items:center;justify-content:center;gap:1rem;padding-right:1rem"}),C4=$n.button`transition-all duration-300 active:text-text-default active:bg-active typography p-[1rem] min-w-[4rem] h-[4rem] rounded-full text-center bg-black text-[1.5rem] border-none cursor-pointer transition-[300ms]`,HP=$n(C4)`text-active`,tb=new JZ;function fce(){const e=Nv("room"),[t]=io(ge.remoteStyleChanged,!0)??["regular"];S.useLayoutEffect(()=>{Lj(t)},[t]),ml(!0,t);const[n,r]=S.useState("microphone"),[i,s]=io(ge.karaokeConnectionStatusChange)??["uninitialised"],[o,l]=S.useState(!1);si(ge.micMonitoringStarted,()=>l(!0)),si(ge.micMonitoringStopped,()=>l(!1));const[d,c]=S.useState(!1),h=async m=>{try{m&&!tb.isEnabled?await tb.enable():!m&&tb.isEnabled,c(m)}catch(v){console.warn("Couldn't set wakelock",v)}},f=()=>{h(!0)};return p.jsxs(yl,{children:[p.jsx(Uoe,{onConfirm:f}),p.jsx(iee,{size:10}),p.jsx(pce,{id:"phone-ui-container",children:p.jsxs(p.Fragment,{children:[n==="microphone"&&p.jsx(Foe,{roomId:e,monitoringStarted:o,setMonitoringStarted:l,connectionStatus:i,setIsKeepAwakeOn:c,isKeepAwakeOn:d,connectionError:s}),n==="song-list"&&p.jsx(nce,{roomId:e,monitoringStarted:o,setMonitoringStarted:l,connectionStatus:i,setIsKeepAwakeOn:c,isKeepAwakeOn:d,connectionError:s}),n==="settings"&&p.jsx(tae,{}),p.jsx(hce,{}),p.jsx(Ose,{setActiveTab:r,active:n})]})})]})}const hce=G("div",{target:"e1ky75ep1"})({name:"4x3vzu",styles:"height:6rem;@media (max-height: 500px) and (min-aspect-ratio: 16/10){height:0;}"}),pce=G("div",{target:"e1ky75ep0"})({name:"1tjfysn",styles:"margin:0 auto;width:100%;max-width:400px;box-sizing:border-box;min-height:100vh;max-height:100vh;background:rgba(0, 0, 0, 0.5);display:flex;flex-direction:column;@media (max-height: 500px) and (min-aspect-ratio: 16/10){max-width:960px;}"});function _l(e){S.useEffect(()=>{e?Lm.playing()||Lm.play(!1):Lm.stop()},[e])}var nb,GP;function gce(){if(GP)return nb;GP=1;function e(l){return l&&typeof l=="object"&&"default"in l?l.default:l}var t=Rc(),n=e(t);function r(l,d,c){return d in l?Object.defineProperty(l,d,{value:c,enumerable:!0,configurable:!0,writable:!0}):l[d]=c,l}function i(l,d){l.prototype=Object.create(d.prototype),l.prototype.constructor=l,l.__proto__=d}var s=!!(typeof window<"u"&&window.document&&window.document.createElement);function o(l,d,c){if(typeof l!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof d!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof c<"u"&&typeof c!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function h(f){return f.displayName||f.name||"Component"}return function(m){if(typeof m!="function")throw new Error("Expected WrappedComponent to be a React component.");var v=[],A;function b(){A=l(v.map(function(E){return E.props})),x.canUseDOM?d(A):c&&(A=c(A))}var x=function(E){i(I,E);function I(){return E.apply(this,arguments)||this}I.peek=function(){return A},I.rewind=function(){if(I.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var w=A;return A=void 0,v=[],w};var P=I.prototype;return P.UNSAFE_componentWillMount=function(){v.push(this),b()},P.componentDidUpdate=function(){b()},P.componentWillUnmount=function(){var w=v.indexOf(this);v.splice(w,1),b()},P.render=function(){return n.createElement(m,this.props)},I}(t.PureComponent);return r(x,"displayName","SideEffect("+h(m)+")"),r(x,"canUseDOM",s),x}}return nb=o,nb}var mce=gce();const vce=Lr(mce);var rb,qP;function yce(){if(qP)return rb;qP=1;var e=typeof Element<"u",t=typeof Map=="function",n=typeof Set=="function",r=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function i(s,o){if(s===o)return!0;if(s&&o&&typeof s=="object"&&typeof o=="object"){if(s.constructor!==o.constructor)return!1;var l,d,c;if(Array.isArray(s)){if(l=s.length,l!=o.length)return!1;for(d=l;d--!==0;)if(!i(s[d],o[d]))return!1;return!0}var h;if(t&&s instanceof Map&&o instanceof Map){if(s.size!==o.size)return!1;for(h=s.entries();!(d=h.next()).done;)if(!o.has(d.value[0]))return!1;for(h=s.entries();!(d=h.next()).done;)if(!i(d.value[1],o.get(d.value[0])))return!1;return!0}if(n&&s instanceof Set&&o instanceof Set){if(s.size!==o.size)return!1;for(h=s.entries();!(d=h.next()).done;)if(!o.has(d.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(s)&&ArrayBuffer.isView(o)){if(l=s.length,l!=o.length)return!1;for(d=l;d--!==0;)if(s[d]!==o[d])return!1;return!0}if(s.constructor===RegExp)return s.source===o.source&&s.flags===o.flags;if(s.valueOf!==Object.prototype.valueOf&&typeof s.valueOf=="function"&&typeof o.valueOf=="function")return s.valueOf()===o.valueOf();if(s.toString!==Object.prototype.toString&&typeof s.toString=="function"&&typeof o.toString=="function")return s.toString()===o.toString();if(c=Object.keys(s),l=c.length,l!==Object.keys(o).length)return!1;for(d=l;d--!==0;)if(!Object.prototype.hasOwnProperty.call(o,c[d]))return!1;if(e&&s instanceof Element)return!1;for(d=l;d--!==0;)if(!((c[d]==="_owner"||c[d]==="__v"||c[d]==="__o")&&s.$$typeof)&&!i(s[c[d]],o[c[d]]))return!1;return!0}return s!==s&&o!==o}return rb=function(o,l){try{return i(o,l)}catch(d){if((d.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw d}},rb}var Ace=yce();const bce=Lr(Ace);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var ib,WP;function _ce(){if(WP)return ib;WP=1;var e=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;function r(s){if(s==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(s)}function i(){try{if(!Object.assign)return!1;var s=new String("abc");if(s[5]="de",Object.getOwnPropertyNames(s)[0]==="5")return!1;for(var o={},l=0;l<10;l++)o["_"+String.fromCharCode(l)]=l;var d=Object.getOwnPropertyNames(o).map(function(h){return o[h]});if(d.join("")!=="0123456789")return!1;var c={};return"abcdefghijklmnopqrst".split("").forEach(function(h){c[h]=h}),Object.keys(Object.assign({},c)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return ib=i()?Object.assign:function(s,o){for(var l,d=r(s),c,h=1;h<arguments.length;h++){l=Object(arguments[h]);for(var f in l)t.call(l,f)&&(d[f]=l[f]);if(e){c=e(l);for(var m=0;m<c.length;m++)n.call(l,c[m])&&(d[c[m]]=l[c[m]])}}return d},ib}var Sce=_ce();const xce=Lr(Sce);var hc={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},wt={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(wt).map(function(e){return wt[e]});var Dn={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},Y0={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},Fh={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},wce=Object.keys(Y0).reduce(function(e,t){return e[Y0[t]]=t,e},{}),Ece=[wt.NOSCRIPT,wt.SCRIPT,wt.STYLE],to="data-react-helmet",Cce=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kce=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},Tce=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Pi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ice=function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},KP=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},Rce=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e},wS=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},Pce=function(t){var n=Zu(t,wt.TITLE),r=Zu(t,Fh.TITLE_TEMPLATE);if(r&&n)return r.replace(/%s/g,function(){return Array.isArray(n)?n.join(""):n});var i=Zu(t,Fh.DEFAULT_TITLE);return n||i||void 0},Mce=function(t){return Zu(t,Fh.ON_CHANGE_CLIENT_STATE)||function(){}},sb=function(t,n){return n.filter(function(r){return typeof r[t]<"u"}).map(function(r){return r[t]}).reduce(function(r,i){return Pi({},r,i)},{})},jce=function(t,n){return n.filter(function(r){return typeof r[wt.BASE]<"u"}).map(function(r){return r[wt.BASE]}).reverse().reduce(function(r,i){if(!r.length)for(var s=Object.keys(i),o=0;o<s.length;o++){var l=s[o],d=l.toLowerCase();if(t.indexOf(d)!==-1&&i[d])return r.concat(i)}return r},[])},Vf=function(t,n,r){var i={};return r.filter(function(s){return Array.isArray(s[t])?!0:(typeof s[t]<"u"&&Nce("Helmet: "+t+' should be of type "Array". Instead found type "'+Cce(s[t])+'"'),!1)}).map(function(s){return s[t]}).reverse().reduce(function(s,o){var l={};o.filter(function(m){for(var v=void 0,A=Object.keys(m),b=0;b<A.length;b++){var x=A[b],E=x.toLowerCase();n.indexOf(E)!==-1&&!(v===Dn.REL&&m[v].toLowerCase()==="canonical")&&!(E===Dn.REL&&m[E].toLowerCase()==="stylesheet")&&(v=E),n.indexOf(x)!==-1&&(x===Dn.INNER_HTML||x===Dn.CSS_TEXT||x===Dn.ITEM_PROP)&&(v=x)}if(!v||!m[v])return!1;var I=m[v].toLowerCase();return i[v]||(i[v]={}),l[v]||(l[v]={}),i[v][I]?!1:(l[v][I]=!0,!0)}).reverse().forEach(function(m){return s.push(m)});for(var d=Object.keys(l),c=0;c<d.length;c++){var h=d[c],f=xce({},i[h],l[h]);i[h]=f}return s},[]).reverse()},Zu=function(t,n){for(var r=t.length-1;r>=0;r--){var i=t[r];if(i.hasOwnProperty(n))return i[n]}return null},Oce=function(t){return{baseTag:jce([Dn.HREF,Dn.TARGET],t),bodyAttributes:sb(hc.BODY,t),defer:Zu(t,Fh.DEFER),encode:Zu(t,Fh.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:sb(hc.HTML,t),linkTags:Vf(wt.LINK,[Dn.REL,Dn.HREF],t),metaTags:Vf(wt.META,[Dn.NAME,Dn.CHARSET,Dn.HTTPEQUIV,Dn.PROPERTY,Dn.ITEM_PROP],t),noscriptTags:Vf(wt.NOSCRIPT,[Dn.INNER_HTML],t),onChangeClientState:Mce(t),scriptTags:Vf(wt.SCRIPT,[Dn.SRC,Dn.INNER_HTML],t),styleTags:Vf(wt.STYLE,[Dn.CSS_TEXT],t),title:Pce(t),titleAttributes:sb(hc.TITLE,t)}},ES=function(){var e=Date.now();return function(t){var n=Date.now();n-e>16?(e=n,t(n)):setTimeout(function(){ES(t)},0)}}(),YP=function(t){return clearTimeout(t)},Vce=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||ES:global.requestAnimationFrame||ES,Lce=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||YP:global.cancelAnimationFrame||YP,Nce=function(t){return console&&typeof console.warn=="function"&&console.warn(t)},Lf=null,Bce=function(t){Lf&&Lce(Lf),t.defer?Lf=Vce(function(){QP(t,function(){Lf=null})}):(QP(t),Lf=null)},QP=function(t,n){var r=t.baseTag,i=t.bodyAttributes,s=t.htmlAttributes,o=t.linkTags,l=t.metaTags,d=t.noscriptTags,c=t.onChangeClientState,h=t.scriptTags,f=t.styleTags,m=t.title,v=t.titleAttributes;CS(wt.BODY,i),CS(wt.HTML,s),Dce(m,v);var A={baseTag:wu(wt.BASE,r),linkTags:wu(wt.LINK,o),metaTags:wu(wt.META,l),noscriptTags:wu(wt.NOSCRIPT,d),scriptTags:wu(wt.SCRIPT,h),styleTags:wu(wt.STYLE,f)},b={},x={};Object.keys(A).forEach(function(E){var I=A[E],P=I.newTags,T=I.oldTags;P.length&&(b[E]=P),T.length&&(x[E]=A[E].oldTags)}),n&&n(),c(t,b,x)},k4=function(t){return Array.isArray(t)?t.join(""):t},Dce=function(t,n){typeof t<"u"&&document.title!==t&&(document.title=k4(t)),CS(wt.TITLE,n)},CS=function(t,n){var r=document.getElementsByTagName(t)[0];if(r){for(var i=r.getAttribute(to),s=i?i.split(","):[],o=[].concat(s),l=Object.keys(n),d=0;d<l.length;d++){var c=l[d],h=n[c]||"";r.getAttribute(c)!==h&&r.setAttribute(c,h),s.indexOf(c)===-1&&s.push(c);var f=o.indexOf(c);f!==-1&&o.splice(f,1)}for(var m=o.length-1;m>=0;m--)r.removeAttribute(o[m]);s.length===o.length?r.removeAttribute(to):r.getAttribute(to)!==l.join(",")&&r.setAttribute(to,l.join(","))}},wu=function(t,n){var r=document.head||document.querySelector(wt.HEAD),i=r.querySelectorAll(t+"["+to+"]"),s=Array.prototype.slice.call(i),o=[],l=void 0;return n&&n.length&&n.forEach(function(d){var c=document.createElement(t);for(var h in d)if(d.hasOwnProperty(h))if(h===Dn.INNER_HTML)c.innerHTML=d.innerHTML;else if(h===Dn.CSS_TEXT)c.styleSheet?c.styleSheet.cssText=d.cssText:c.appendChild(document.createTextNode(d.cssText));else{var f=typeof d[h]>"u"?"":d[h];c.setAttribute(h,f)}c.setAttribute(to,"true"),s.some(function(m,v){return l=v,c.isEqualNode(m)})?s.splice(l,1):o.push(c)}),s.forEach(function(d){return d.parentNode.removeChild(d)}),o.forEach(function(d){return r.appendChild(d)}),{oldTags:s,newTags:o}},T4=function(t){return Object.keys(t).reduce(function(n,r){var i=typeof t[r]<"u"?r+'="'+t[r]+'"':""+r;return n?n+" "+i:i},"")},Fce=function(t,n,r,i){var s=T4(r),o=k4(n);return s?"<"+t+" "+to+'="true" '+s+">"+wS(o,i)+"</"+t+">":"<"+t+" "+to+'="true">'+wS(o,i)+"</"+t+">"},$ce=function(t,n,r){return n.reduce(function(i,s){var o=Object.keys(s).filter(function(c){return!(c===Dn.INNER_HTML||c===Dn.CSS_TEXT)}).reduce(function(c,h){var f=typeof s[h]>"u"?h:h+'="'+wS(s[h],r)+'"';return c?c+" "+f:f},""),l=s.innerHTML||s.cssText||"",d=Ece.indexOf(t)===-1;return i+"<"+t+" "+to+'="true" '+o+(d?"/>":">"+l+"</"+t+">")},"")},I4=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(r,i){return r[Y0[i]||i]=t[i],r},n)},zce=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(r,i){return r[wce[i]||i]=t[i],r},n)},Uce=function(t,n,r){var i,s=(i={key:n},i[to]=!0,i),o=I4(r,s);return[Xe.createElement(wt.TITLE,o,n)]},Hce=function(t,n){return n.map(function(r,i){var s,o=(s={key:i},s[to]=!0,s);return Object.keys(r).forEach(function(l){var d=Y0[l]||l;if(d===Dn.INNER_HTML||d===Dn.CSS_TEXT){var c=r.innerHTML||r.cssText;o.dangerouslySetInnerHTML={__html:c}}else o[d]=r[l]}),Xe.createElement(t,o)})},Yo=function(t,n,r){switch(t){case wt.TITLE:return{toComponent:function(){return Uce(t,n.title,n.titleAttributes)},toString:function(){return Fce(t,n.title,n.titleAttributes,r)}};case hc.BODY:case hc.HTML:return{toComponent:function(){return I4(n)},toString:function(){return T4(n)}};default:return{toComponent:function(){return Hce(t,n)},toString:function(){return $ce(t,n,r)}}}},R4=function(t){var n=t.baseTag,r=t.bodyAttributes,i=t.encode,s=t.htmlAttributes,o=t.linkTags,l=t.metaTags,d=t.noscriptTags,c=t.scriptTags,h=t.styleTags,f=t.title,m=f===void 0?"":f,v=t.titleAttributes;return{base:Yo(wt.BASE,n,i),bodyAttributes:Yo(hc.BODY,r,i),htmlAttributes:Yo(hc.HTML,s,i),link:Yo(wt.LINK,o,i),meta:Yo(wt.META,l,i),noscript:Yo(wt.NOSCRIPT,d,i),script:Yo(wt.SCRIPT,c,i),style:Yo(wt.STYLE,h,i),title:Yo(wt.TITLE,{title:m,titleAttributes:v},i)}},Gce=function(t){var n,r;return r=n=function(i){Ice(s,i);function s(){return kce(this,s),Rce(this,i.apply(this,arguments))}return s.prototype.shouldComponentUpdate=function(l){return!bce(this.props,l)},s.prototype.mapNestedChildrenToProps=function(l,d){if(!d)return null;switch(l.type){case wt.SCRIPT:case wt.NOSCRIPT:return{innerHTML:d};case wt.STYLE:return{cssText:d}}throw new Error("<"+l.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},s.prototype.flattenArrayTypeChildren=function(l){var d,c=l.child,h=l.arrayTypeChildren,f=l.newChildProps,m=l.nestedChildren;return Pi({},h,(d={},d[c.type]=[].concat(h[c.type]||[],[Pi({},f,this.mapNestedChildrenToProps(c,m))]),d))},s.prototype.mapObjectTypeChildren=function(l){var d,c,h=l.child,f=l.newProps,m=l.newChildProps,v=l.nestedChildren;switch(h.type){case wt.TITLE:return Pi({},f,(d={},d[h.type]=v,d.titleAttributes=Pi({},m),d));case wt.BODY:return Pi({},f,{bodyAttributes:Pi({},m)});case wt.HTML:return Pi({},f,{htmlAttributes:Pi({},m)})}return Pi({},f,(c={},c[h.type]=Pi({},m),c))},s.prototype.mapArrayTypeChildrenToProps=function(l,d){var c=Pi({},d);return Object.keys(l).forEach(function(h){var f;c=Pi({},c,(f={},f[h]=l[h],f))}),c},s.prototype.warnOnInvalidChildren=function(l,d){return!0},s.prototype.mapChildrenToProps=function(l,d){var c=this,h={};return Xe.Children.forEach(l,function(f){if(!(!f||!f.props)){var m=f.props,v=m.children,A=KP(m,["children"]),b=zce(A);switch(c.warnOnInvalidChildren(f,v),f.type){case wt.LINK:case wt.META:case wt.NOSCRIPT:case wt.SCRIPT:case wt.STYLE:h=c.flattenArrayTypeChildren({child:f,arrayTypeChildren:h,newChildProps:b,nestedChildren:v});break;default:d=c.mapObjectTypeChildren({child:f,newProps:d,newChildProps:b,nestedChildren:v});break}}}),d=this.mapArrayTypeChildrenToProps(h,d),d},s.prototype.render=function(){var l=this.props,d=l.children,c=KP(l,["children"]),h=Pi({},c);return d&&(h=this.mapChildrenToProps(d,h)),Xe.createElement(t,h)},Tce(s,null,[{key:"canUseDOM",set:function(l){t.canUseDOM=l}}]),s}(Xe.Component),n.propTypes={base:Rt.object,bodyAttributes:Rt.object,children:Rt.oneOfType([Rt.arrayOf(Rt.node),Rt.node]),defaultTitle:Rt.string,defer:Rt.bool,encodeSpecialCharacters:Rt.bool,htmlAttributes:Rt.object,link:Rt.arrayOf(Rt.object),meta:Rt.arrayOf(Rt.object),noscript:Rt.arrayOf(Rt.object),onChangeClientState:Rt.func,script:Rt.arrayOf(Rt.object),style:Rt.arrayOf(Rt.object),title:Rt.string,titleAttributes:Rt.object,titleTemplate:Rt.string},n.defaultProps={defer:!0,encodeSpecialCharacters:!0},n.peek=t.peek,n.rewind=function(){var i=t.rewind();return i||(i=R4({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),i},r},qce=function(){return null},Wce=vce(Oce,Bce,R4)(qce),os=Gce(Wce);os.renderStatic=os.rewind;const P4=S.forwardRef(({...e},t)=>{const n=S.useRef(null);S.useImperativeHandle(t,()=>n.current);const[r,i]=Tt(rh);return p.jsx(Kce,{className:"text-[2.7rem]",ref:n,label:"Input lag",value:String(r),onChange:s=>i(+s),type:"number",step:50,min:-2e3,max:2e3,adornment:"ms",onKeyDown:s=>{var o;s.code==="Enter"&&((o=n.current)==null||o.blur())},info:"If the sound is not synchronised with the lyrics, use this to compensate it.",...e})}),Kce=G($c,{target:"e1vs2glp0"})({name:"q54eim",styles:"input{text-align:right;}"});function Yce(){_l(!1);const e=$i(),t=()=>e("menu/"),{register:n}=Cr({onBackspace:t}),[r,i]=Tt(xs),[s,o]=Tt(rc),[l,d]=Tt(Qr),c=S.useRef(null),[h,f]=S.useState(Xs.getPermissionStatus());S.useEffect(()=>Xs.addListener(x=>{f(x)}),[]);const[m,v]=S.useState(!1),A=()=>{v(!0),Xs.requestPermissions().then(()=>v(!1))};let b="Disabled";return m?b=p.jsx(ap,{size:"0.9em"}):h===null?b="Click to enable":h&&(b="Enabled"),p.jsxs(bl,{children:[p.jsx(os,{children:p.jsx("title",{children:"Settings | AllKaraoke.Party - Free Online Karaoke Party Game"})}),p.jsx("h1",{children:"Settings"}),p.jsx(Es,{...n("graphics-level",()=>i(dc(Qj,r))),label:"Graphics",value:r.toUpperCase()}),p.jsx(Es,{...n("fps-count-level",()=>o(dc(Jj,s))),label:"FPS Count",value:s}),p.jsx(P4,{ref:c,...n("input-lag",()=>{var x;return(x=c.current)==null?void 0:x.focus()})}),p.jsx("hr",{}),p.jsx(Es,{...n("camera-access",()=>h?Xs.disable():A()),label:"Enable camera mode",value:b,info:"Record a timelapse video from singing. The recording is not sent nor stored anywhere."}),p.jsx("hr",{}),p.jsx(Es,{...n("mobile-phone-mode",()=>d(!l)),label:"Mobile Phone Mode",value:l?"Yes":"No",info:"Adjust the game to a smaller screen. Disables option to sing in duets."}),p.jsx("hr",{}),p.jsx(ut,{...n("remote-mics-settings",()=>e("settings/remote-mics/")),size:"small",children:"Remote Microphones Settings"}),p.jsx(ut,{...n("setup-mics-button",()=>e("select-input/")),size:"small",children:"Setup Microphones"}),p.jsx(ut,{...n("manage-songs-button",()=>e("manage-songs/")),size:"small",children:"Manage Songs"}),p.jsx(ut,{...n("back-button",t),children:"Return To Main Menu"})]})}function Qce(e){return ai("MuiPaper",e)}li("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const Jce=e=>{const{square:t,elevation:n,variant:r,classes:i}=e,s={root:["root",r,!t&&"rounded",r==="elevation"&&`elevation${n}`]};return _i(s,Qce,i)},Xce=Mn("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,n.variant==="elevation"&&t[`elevation${n.elevation}`]]}})(Os(({theme:e})=>({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow"),variants:[{props:({ownerState:t})=>!t.square,style:{borderRadius:e.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(e.vars||e).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),ey=S.forwardRef(function(t,n){var v;const r=ci({props:t,name:"MuiPaper"}),i=mw(),{className:s,component:o="div",elevation:l=1,square:d=!1,variant:c="elevation",...h}=r,f={...r,component:o,elevation:l,square:d,variant:c},m=Jce(f);return p.jsx(Xce,{as:o,ownerState:f,className:rn(m.root,s),ref:n,...h,style:{...c==="elevation"&&{"--Paper-shadow":(i.vars||i).shadows[l],...i.vars&&{"--Paper-overlay":(v=i.vars.overlays)==null?void 0:v[l]},...!i.vars&&i.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${Js("#fff",oS(l))}, ${Js("#fff",oS(l))})`}},...h.style}})});function M4(e){return p.jsxs(Zce,{...e,children:[p.jsx(j4,{asChild:!0,children:p.jsx(o4,{})}),p.jsx(eue,{asChild:!0,children:p.jsx(vS,{})})]})}const Zce=$n.div`relative transition-[300ms] [&_svg]:w-[15rem] [&_svg]:h-[15rem]`,j4=$n.svg`w-[15rem] h-[15rem] transition-[300ms]`,eue=$n(j4)`absolute top-[1.6rem] left-[3.5rem] z-[100] scale-x-[-1]`;function O4(){const[e,t]=S.useState(!1);return S.useEffect(()=>{const n=setTimeout(()=>{t(!0)},500);return()=>{clearTimeout(n)}},[]),p.jsx(tue,{visible:e,children:p.jsx(nue,{})})}const tue=G("div",{target:"e1ej0ve21"})("transition:500ms;opacity:",e=>e.visible?1:0,";position:fixed;inset:0;display:flex;align-items:center;justify-content:center;"),nue=G(M4,{target:"e1ej0ve20"})({name:"1wwm3j4",styles:"transform:translate(-1.75rem, -0.8rem) scale(2);svg{animation:pulse 1.25s infinite;@keyframes pulse{0%{scale:1;}33%{scale:1.05;}66%{scale:1;}100%{scale:1;}}}svg:first-of-type{animation-delay:1s;}"}),V4=S.lazy(()=>Id(()=>import("./SongManagement-C0VwDpFh.js"),[]).then(e=>({default:e.Convert}))),rue=e=>p.jsxs(S.Suspense,{fallback:p.jsx(O4,{}),children:[p.jsx(os,{children:p.jsx("title",{children:"Convert Song | AllKaraoke.Party - Free Online Karaoke Party Game"})}),p.jsx(ey,{elevation:2,sx:{minHeight:"100vh",width:"1260px",margin:"0 auto",paddingTop:"30px"},children:p.jsx(V4,{...e})})]}),iue=zt(p.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete");var qm={exports:{}},sue=qm.exports,JP;function oue(){return JP||(JP=1,function(e,t){(function(n,r){e.exports=r()})(sue,function(){return function(n,r,i){n=n||{};var s=r.prototype,o={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function l(c,h,f,m){return s.fromToBase(c,h,f,m)}i.en.relativeTime=o,s.fromToBase=function(c,h,f,m,v){for(var A,b,x,E=f.$locale().relativeTime||o,I=n.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],P=I.length,T=0;T<P;T+=1){var w=I[T];w.d&&(A=m?i(c).diff(f,w.d,!0):f.diff(c,w.d,!0));var R=(n.rounding||Math.round)(Math.abs(A));if(x=A>0,R<=w.r||!w.r){R<=1&&T>0&&(w=I[T-1]);var j=E[w.l];v&&(R=v(""+R)),b=typeof j=="string"?j.replace("%d",R):j(R,h,w.l,x);break}}if(h)return b;var V=x?E.future:E.past;return typeof V=="function"?V(b):V.replace("%s",b)},s.to=function(c,h){return l(c,h,this,!0)},s.from=function(c,h){return l(c,h,this)};var d=function(c){return c.$u?i.utc():i()};s.toNow=function(c){return this.to(d(this),c)},s.fromNow=function(c){return this.from(d(this),c)}}})}(qm)),qm.exports}var aue=oue();const lue=Lr(aue),L4=1e3,cue=e=>e.map(t=>{if(t.notes.length===0)debugger;return{...t,start:t.notes[0].start}}),uue=e=>{const t=e.notes.at(-1);return t.start+t.length},due=(e,t=10)=>{let n=0;const r=[];return e.forEach(i=>{i.start-n>t&&(r.push({type:"pause",start:n,end:i.start-t}),n=i.start-t),r.push({...i,start:n}),n=uue(i)}),r},XP=(e,t)=>({...e,sections:due(cue(e.sections.filter(ln)),t)});function fue(e){const t=Rd(e),n=Math.round(L4/t);return{...e,tracks:e.tracks.map(r=>XP(r,n)),mergedTrack:XP(e.mergedTrack,n)}}const hue=(e,t)=>e.map((n,r)=>ln(n)?{...n,start:r===0?0:Math.max(0,n.start+t),notes:n.notes.map(i=>({...i,start:i.start+t}))}:{...n,start:Math.max(0,n.start+t),end:Math.max(0,n.end+t)}),ZP=(e,t)=>({...e,sections:hue(e.sections,t)});function pue(e){const t=Rd(e),n=Math.round(L4/t),r=Math.floor((e.gap-n*t<0?e.gap:n*t)/t),i=e.gap-r*t;return{...e,gap:i,tracks:e.tracks.map(s=>ZP(s,r)),mergedTrack:ZP(e.mergedTrack,r)}}function N4(e,t){return Rd(t)*e}function ty(e){const t=Math.min(...e.tracks.map(n=>"sections"in n?ol(n.sections):n.start));return N4(t,e)+e.gap}function gue(e){const t=ty(e);return{...e,videoGap:Math.round(Math.max(0,Math.min(e.videoGap??0,t/1e3-15)))}}const mue=(e,t)=>e.map((n,r)=>ln(n)?{...n,start:r===0?0:Math.max(0,n.start-t),notes:n.notes.map(i=>({...i,start:i.start-t}))}:{...n,start:Math.max(0,n.start-t),end:Math.max(0,n.end-t)}).filter(n=>ln(n)||n.start-n.end>0),eM=(e,t)=>({...e,sections:mue(e.sections,t)});function vue(e){const t=Rd(e),n=e.tracks.reduce((o,l,d)=>{const c=ol(e.tracks[o].sections),h=ol(l.sections);return c>h?d:o},0),r=e.tracks[n].sections.find(ln);if(!r)return console.error("There are no notes sections in the song, wat",e.tracks),e;const i=r.start+(r.notes[0].start-r.start),s=Math.floor(e.gap+i*t);return{...e,gap:s,tracks:e.tracks.map(o=>eM(o,i)),mergedTrack:eM(e.mergedTrack,i)}}const yue=e=>(e.forEach((t,n)=>{t.lyrics.startsWith(" ")&&(t.lyrics=t.lyrics.trimStart(),n>0&&(e[n-1].lyrics=e[n-1].lyrics.trimEnd()+" ")),n===e.length-1&&(t.lyrics=t.lyrics.trimEnd())}),e),tM=e=>({...e,sections:e.sections.map(t=>ln(t)?{...t,notes:yue(t.notes)}:t)});function Aue(e){return{...e,tracks:e.tracks.map(tM),mergedTrack:tM(e.mergedTrack)}}const bue=e=>{let t=vue(e);return t=pue(t),t=fue(t),t=Aue(t),t=gue(t),t};function B4(e){const[t,n]=S.useState(null);return S.useEffect(()=>{is.get(e).then(r=>n(r&&bue(r)))},[e]),{data:t}}function _ue(e){return ai("MuiButton",e)}const Eu=li("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),Sue=S.createContext({}),xue=S.createContext(void 0),wue=e=>{const{color:t,disableElevation:n,fullWidth:r,size:i,variant:s,classes:o}=e,l={root:["root",s,`${s}${Bt(t)}`,`size${Bt(i)}`,`${s}Size${Bt(i)}`,`color${Bt(t)}`,n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${Bt(i)}`],endIcon:["icon","endIcon",`iconSize${Bt(i)}`]},d=_i(l,_ue,o);return{...o,...d}},D4=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],Eue=Mn(CL,{shouldForwardProp:e=>vw(e)||e==="classes",name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${Bt(n.color)}`],t[`size${Bt(n.size)}`],t[`${n.variant}Size${Bt(n.size)}`],n.color==="inherit"&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})(Os(({theme:e})=>{const t=e.palette.mode==="light"?e.palette.grey[300]:e.palette.grey[800],n=e.palette.mode==="light"?e.palette.grey.A100:e.palette.grey[700];return{...e.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${Eu.disabled}`]:{color:(e.vars||e).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(e.vars||e).shadows[2],"&:hover":{boxShadow:(e.vars||e).shadows[4],"@media (hover: none)":{boxShadow:(e.vars||e).shadows[2]}},"&:active":{boxShadow:(e.vars||e).shadows[8]},[`&.${Eu.focusVisible}`]:{boxShadow:(e.vars||e).shadows[6]},[`&.${Eu.disabled}`]:{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${Eu.disabled}`]:{border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(e.palette).filter(Vh()).map(([r])=>({props:{color:r},style:{"--variant-textColor":(e.vars||e).palette[r].main,"--variant-outlinedColor":(e.vars||e).palette[r].main,"--variant-outlinedBorder":e.vars?`rgba(${e.vars.palette[r].mainChannel} / 0.5)`:Js(e.palette[r].main,.5),"--variant-containedColor":(e.vars||e).palette[r].contrastText,"--variant-containedBg":(e.vars||e).palette[r].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(e.vars||e).palette[r].dark,"--variant-textBg":e.vars?`rgba(${e.vars.palette[r].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Js(e.palette[r].main,e.palette.action.hoverOpacity),"--variant-outlinedBorder":(e.vars||e).palette[r].main,"--variant-outlinedBg":e.vars?`rgba(${e.vars.palette[r].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Js(e.palette[r].main,e.palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":e.vars?e.vars.palette.Button.inheritContainedBg:t,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":e.vars?e.vars.palette.Button.inheritContainedHoverBg:n,"--variant-textBg":e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:Js(e.palette.text.primary,e.palette.action.hoverOpacity),"--variant-outlinedBg":e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:Js(e.palette.text.primary,e.palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Eu.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Eu.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}}]}})),Cue=Mn("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.startIcon,t[`iconSize${Bt(n.size)}`]]}})({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},...D4]}),kue=Mn("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.endIcon,t[`iconSize${Bt(n.size)}`]]}})({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},...D4]}),nM=S.forwardRef(function(t,n){const r=S.useContext(Sue),i=S.useContext(xue),s=V0(r,t),o=ci({props:s,name:"MuiButton"}),{children:l,color:d="primary",component:c="button",className:h,disabled:f=!1,disableElevation:m=!1,disableFocusRipple:v=!1,endIcon:A,focusVisibleClassName:b,fullWidth:x=!1,size:E="medium",startIcon:I,type:P,variant:T="text",...w}=o,R={...o,color:d,component:c,disabled:f,disableElevation:m,disableFocusRipple:v,fullWidth:x,size:E,type:P,variant:T},j=wue(R),V=I&&p.jsx(Cue,{className:j.startIcon,ownerState:R,children:I}),N=A&&p.jsx(kue,{className:j.endIcon,ownerState:R,children:A}),k=i||"";return p.jsxs(Eue,{ownerState:R,className:rn(r.className,j.root,h,k),component:c,disabled:f,focusRipple:!v,focusVisibleClassName:rn(j.focusVisible,b),ref:n,type:P,...w,classes:j,children:[V,l,N]})});function Tue(e){const t=Ec(e);return t.body===e?O0(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}function hh(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function rM(e){return parseInt(O0(e).getComputedStyle(e).paddingRight,10)||0}function Iue(e){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(e.tagName),r=e.tagName==="INPUT"&&e.getAttribute("type")==="hidden";return n||r}function iM(e,t,n,r,i){const s=[t,n,...r];[].forEach.call(e.children,o=>{const l=!s.includes(o),d=!Iue(o);l&&d&&hh(o,i)})}function ob(e,t){let n=-1;return e.some((r,i)=>t(r)?(n=i,!0):!1),n}function Rue(e,t){const n=[],r=e.container;if(!t.disableScrollLock){if(Tue(r)){const o=mee(O0(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${rM(r)+o}px`;const l=Ec(r).querySelectorAll(".mui-fixed");[].forEach.call(l,d=>{n.push({value:d.style.paddingRight,property:"padding-right",el:d}),d.style.paddingRight=`${rM(d)+o}px`})}let s;if(r.parentNode instanceof DocumentFragment)s=Ec(r).body;else{const o=r.parentElement,l=O0(r);s=(o==null?void 0:o.nodeName)==="HTML"&&l.getComputedStyle(o).overflowY==="scroll"?o:r}n.push({value:s.style.overflow,property:"overflow",el:s},{value:s.style.overflowX,property:"overflow-x",el:s},{value:s.style.overflowY,property:"overflow-y",el:s}),s.style.overflow="hidden"}return()=>{n.forEach(({value:s,el:o,property:l})=>{s?o.style.setProperty(l,s):o.style.removeProperty(l)})}}function Pue(e){const t=[];return[].forEach.call(e.children,n=>{n.getAttribute("aria-hidden")==="true"&&t.push(n)}),t}class Mue{constructor(){this.modals=[],this.containers=[]}add(t,n){let r=this.modals.indexOf(t);if(r!==-1)return r;r=this.modals.length,this.modals.push(t),t.modalRef&&hh(t.modalRef,!1);const i=Pue(n);iM(n,t.mount,t.modalRef,i,!0);const s=ob(this.containers,o=>o.container===n);return s!==-1?(this.containers[s].modals.push(t),r):(this.containers.push({modals:[t],container:n,restore:null,hiddenSiblings:i}),r)}mount(t,n){const r=ob(this.containers,s=>s.modals.includes(t)),i=this.containers[r];i.restore||(i.restore=Rue(i,n))}remove(t,n=!0){const r=this.modals.indexOf(t);if(r===-1)return r;const i=ob(this.containers,o=>o.modals.includes(t)),s=this.containers[i];if(s.modals.splice(s.modals.indexOf(t),1),this.modals.splice(r,1),s.modals.length===0)s.restore&&s.restore(),t.modalRef&&hh(t.modalRef,n),iM(s.container,t.mount,t.modalRef,s.hiddenSiblings,!1),this.containers.splice(i,1);else{const o=s.modals[s.modals.length-1];o.modalRef&&hh(o.modalRef,!1)}return r}isTopModal(t){return this.modals.length>0&&this.modals[this.modals.length-1]===t}}const jue=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function Oue(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?e.contentEditable==="true"||(e.nodeName==="AUDIO"||e.nodeName==="VIDEO"||e.nodeName==="DETAILS")&&e.getAttribute("tabindex")===null?0:e.tabIndex:t}function Vue(e){if(e.tagName!=="INPUT"||e.type!=="radio"||!e.name)return!1;const t=r=>e.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=t(`[name="${e.name}"]:checked`);return n||(n=t(`[name="${e.name}"]`)),n!==e}function Lue(e){return!(e.disabled||e.tagName==="INPUT"&&e.type==="hidden"||Vue(e))}function Nue(e){const t=[],n=[];return Array.from(e.querySelectorAll(jue)).forEach((r,i)=>{const s=Oue(r);s===-1||!Lue(r)||(s===0?t.push(r):n.push({documentOrder:i,tabIndex:s,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(t)}function Bue(){return!0}function Due(e){const{children:t,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:s=Nue,isEnabled:o=Bue,open:l}=e,d=S.useRef(!1),c=S.useRef(null),h=S.useRef(null),f=S.useRef(null),m=S.useRef(null),v=S.useRef(!1),A=S.useRef(null),b=ll(tw(t),A),x=S.useRef(null);S.useEffect(()=>{!l||!A.current||(v.current=!n)},[n,l]),S.useEffect(()=>{if(!l||!A.current)return;const P=Ec(A.current);return A.current.contains(P.activeElement)||(A.current.hasAttribute("tabIndex")||A.current.setAttribute("tabIndex","-1"),v.current&&A.current.focus()),()=>{i||(f.current&&f.current.focus&&(d.current=!0,f.current.focus()),f.current=null)}},[l]),S.useEffect(()=>{if(!l||!A.current)return;const P=Ec(A.current),T=j=>{x.current=j,!(r||!o()||j.key!=="Tab")&&P.activeElement===A.current&&j.shiftKey&&(d.current=!0,h.current&&h.current.focus())},w=()=>{var N,k;const j=A.current;if(j===null)return;if(!P.hasFocus()||!o()||d.current){d.current=!1;return}if(j.contains(P.activeElement)||r&&P.activeElement!==c.current&&P.activeElement!==h.current)return;if(P.activeElement!==m.current)m.current=null;else if(m.current!==null)return;if(!v.current)return;let V=[];if((P.activeElement===c.current||P.activeElement===h.current)&&(V=s(A.current)),V.length>0){const B=!!((N=x.current)!=null&&N.shiftKey&&((k=x.current)==null?void 0:k.key)==="Tab"),H=V[0],F=V[V.length-1];typeof H!="string"&&typeof F!="string"&&(B?F.focus():H.focus())}else j.focus()};P.addEventListener("focusin",w),P.addEventListener("keydown",T,!0);const R=setInterval(()=>{P.activeElement&&P.activeElement.tagName==="BODY"&&w()},50);return()=>{clearInterval(R),P.removeEventListener("focusin",w),P.removeEventListener("keydown",T,!0)}},[n,r,i,o,l,s]);const E=P=>{f.current===null&&(f.current=P.relatedTarget),v.current=!0,m.current=P.target;const T=t.props.onFocus;T&&T(P)},I=P=>{f.current===null&&(f.current=P.relatedTarget),v.current=!0};return p.jsxs(S.Fragment,{children:[p.jsx("div",{tabIndex:l?0:-1,onFocus:I,ref:c,"data-testid":"sentinelStart"}),S.cloneElement(t,{ref:b,onFocus:E}),p.jsx("div",{tabIndex:l?0:-1,onFocus:I,ref:h,"data-testid":"sentinelEnd"})]})}function Fue(e){return typeof e=="function"?e():e}const $ue=S.forwardRef(function(t,n){const{children:r,container:i,disablePortal:s=!1}=t,[o,l]=S.useState(null),d=ll(S.isValidElement(r)?tw(r):null,n);if(nS(()=>{s||l(Fue(i)||document.body)},[i,s]),nS(()=>{if(o&&!s)return tS(n,o),()=>{tS(n,null)}},[n,o,s]),s){if(S.isValidElement(r)){const c={ref:d};return S.cloneElement(r,c)}return p.jsx(S.Fragment,{children:r})}return p.jsx(S.Fragment,{children:o&&jd.createPortal(r,o)})});function Q0(e,t){const{className:n,elementType:r,ownerState:i,externalForwardedProps:s,getSlotOwnerState:o,internalForwardedProps:l,...d}=t,{component:c,slots:h={[e]:void 0},slotProps:f={[e]:void 0},...m}=s,v=h[e]||r,A=wee(f[e],i),{props:{component:b,...x},internalRef:E}=xee({className:n,...d,externalForwardedProps:e==="root"?m:void 0,externalSlotProps:A}),I=ll(E,A==null?void 0:A.ref,t.ref),P=o?o(x):{},T={...i,...P},w=e==="root"?b||c:b,R=See(v,{...e==="root"&&!c&&!h[e]&&l,...e!=="root"&&!h[e]&&l,...x,...w&&{as:w},ref:I},T);return Object.keys(P).forEach(j=>{delete R[j]}),[v,R]}const zue=e=>e.scrollTop;function sM(e,t){const{timeout:n,easing:r,style:i={}}=e;return{duration:i.transitionDuration??(typeof n=="number"?n:n[t.mode]||0),easing:i.transitionTimingFunction??(typeof r=="object"?r[t.mode]:r),delay:i.transitionDelay}}const Uue={entering:{opacity:1},entered:{opacity:1}},F4=S.forwardRef(function(t,n){const r=mw(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:s,appear:o=!0,children:l,easing:d,in:c,onEnter:h,onEntered:f,onEntering:m,onExit:v,onExited:A,onExiting:b,style:x,timeout:E=i,TransitionComponent:I=ya,...P}=t,T=S.useRef(null),w=ll(T,tw(l),n),R=U=>D=>{if(U){const L=T.current;D===void 0?U(L):U(L,D)}},j=R(m),V=R((U,D)=>{zue(U);const L=sM({style:x,timeout:E,easing:d},{mode:"enter"});U.style.webkitTransition=r.transitions.create("opacity",L),U.style.transition=r.transitions.create("opacity",L),h&&h(U,D)}),N=R(f),k=R(b),B=R(U=>{const D=sM({style:x,timeout:E,easing:d},{mode:"exit"});U.style.webkitTransition=r.transitions.create("opacity",D),U.style.transition=r.transitions.create("opacity",D),v&&v(U)}),H=R(A),F=U=>{s&&s(T.current,U)};return p.jsx(I,{appear:o,in:c,nodeRef:T,onEnter:V,onEntered:N,onEntering:j,onExit:B,onExited:H,onExiting:k,addEndListener:F,timeout:E,...P,children:(U,D)=>S.cloneElement(l,{style:{opacity:0,visibility:U==="exited"&&!c?"hidden":void 0,...Uue[U],...x,...l.props.style},ref:w,...D})})});function Hue(e){return ai("MuiBackdrop",e)}li("MuiBackdrop",["root","invisible"]);const Gue=e=>{const{ownerState:t,...n}=e;return n},que=e=>{const{classes:t,invisible:n}=e;return _i({root:["root",n&&"invisible"]},Hue,t)},Wue=Mn("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.invisible&&t.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),$4=S.forwardRef(function(t,n){const r=ci({props:t,name:"MuiBackdrop"}),{children:i,className:s,component:o="div",invisible:l=!1,open:d,components:c={},componentsProps:h={},slotProps:f={},slots:m={},TransitionComponent:v,transitionDuration:A,...b}=r,x={...r,component:o,invisible:l},E=que(x),I={transition:v,root:c.Root,...m},P={...h,...f},T={slots:I,slotProps:P},[w,R]=Q0("root",{elementType:Wue,externalForwardedProps:T,className:rn(E.root,s),ownerState:x}),[j,V]=Q0("transition",{elementType:F4,externalForwardedProps:T,ownerState:x}),N=Gue(V);return p.jsx(j,{in:d,timeout:A,...b,...N,children:p.jsx(w,{"aria-hidden":!0,...R,classes:E,ref:n,children:i})})});function Kue(e){return typeof e=="function"?e():e}function Yue(e){return e?e.props.hasOwnProperty("in"):!1}const em=new Mue;function Que(e){const{container:t,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,closeAfterTransition:i=!1,onTransitionEnter:s,onTransitionExited:o,children:l,onClose:d,open:c,rootRef:h}=e,f=S.useRef({}),m=S.useRef(null),v=S.useRef(null),A=ll(v,h),[b,x]=S.useState(!c),E=Yue(l);let I=!0;(e["aria-hidden"]==="false"||e["aria-hidden"]===!1)&&(I=!1);const P=()=>Ec(m.current),T=()=>(f.current.modalRef=v.current,f.current.mount=m.current,f.current),w=()=>{em.mount(T(),{disableScrollLock:r}),v.current&&(v.current.scrollTop=0)},R=Nu(()=>{const D=Kue(t)||P().body;em.add(T(),D),v.current&&w()}),j=()=>em.isTopModal(T()),V=Nu(D=>{m.current=D,D&&(c&&j()?w():v.current&&hh(v.current,I))}),N=S.useCallback(()=>{em.remove(T(),I)},[I]);S.useEffect(()=>()=>{N()},[N]),S.useEffect(()=>{c?R():(!E||!i)&&N()},[c,N,E,i,R]);const k=D=>L=>{var Y;(Y=D.onKeyDown)==null||Y.call(D,L),!(L.key!=="Escape"||L.which===229||!j())&&(n||(L.stopPropagation(),d&&d(L,"escapeKeyDown")))},B=D=>L=>{var Y;(Y=D.onClick)==null||Y.call(D,L),L.target===L.currentTarget&&d&&d(L,"backdropClick")};return{getRootProps:(D={})=>{const L=eL(e);delete L.onTransitionEnter,delete L.onTransitionExited;const Y={...L,...D};return{role:"presentation",...Y,onKeyDown:k(Y),ref:A}},getBackdropProps:(D={})=>{const L=D;return{"aria-hidden":!0,...L,onClick:B(L),open:c}},getTransitionProps:()=>{const D=()=>{x(!1),s&&s()},L=()=>{x(!0),o&&o(),i&&N()};return{onEnter:ER(D,l==null?void 0:l.props.onEnter),onExited:ER(L,l==null?void 0:l.props.onExited)}},rootRef:A,portalRef:V,isTopModal:j,exited:b,hasTransition:E}}function Jue(e){return ai("MuiModal",e)}li("MuiModal",["root","hidden","backdrop"]);const Xue=e=>{const{open:t,exited:n,classes:r}=e;return _i({root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]},Jue,r)},Zue=Mn("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.open&&n.exited&&t.hidden]}})(Os(({theme:e})=>({position:"fixed",zIndex:(e.vars||e).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:t})=>!t.open&&t.exited,style:{visibility:"hidden"}}]}))),ede=Mn($4,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),tde=S.forwardRef(function(t,n){const r=ci({name:"MuiModal",props:t}),{BackdropComponent:i=ede,BackdropProps:s,classes:o,className:l,closeAfterTransition:d=!1,children:c,container:h,component:f,components:m={},componentsProps:v={},disableAutoFocus:A=!1,disableEnforceFocus:b=!1,disableEscapeKeyDown:x=!1,disablePortal:E=!1,disableRestoreFocus:I=!1,disableScrollLock:P=!1,hideBackdrop:T=!1,keepMounted:w=!1,onBackdropClick:R,onClose:j,onTransitionEnter:V,onTransitionExited:N,open:k,slotProps:B={},slots:H={},theme:F,...U}=r,D={...r,closeAfterTransition:d,disableAutoFocus:A,disableEnforceFocus:b,disableEscapeKeyDown:x,disablePortal:E,disableRestoreFocus:I,disableScrollLock:P,hideBackdrop:T,keepMounted:w},{getRootProps:L,getBackdropProps:Y,getTransitionProps:q,portalRef:Q,isTopModal:M,exited:z,hasTransition:J}=Que({...D,rootRef:n}),ae={...D,exited:z},W=Xue(ae),ye={};if(c.props.tabIndex===void 0&&(ye.tabIndex="-1"),J){const{onEnter:Ze,onExited:Ue}=q();ye.onEnter=Ze,ye.onExited=Ue}const le={...U,slots:{root:m.Root,backdrop:m.Backdrop,...H},slotProps:{...v,...B}},[me,xe]=Q0("root",{elementType:Zue,externalForwardedProps:le,getSlotProps:L,additionalProps:{ref:n,as:f},ownerState:ae,className:rn(l,W==null?void 0:W.root,!ae.open&&ae.exited&&(W==null?void 0:W.hidden))}),[Re,be]=Q0("backdrop",{elementType:i,externalForwardedProps:le,additionalProps:s,getSlotProps:Ze=>Y({...Ze,onClick:Ue=>{R&&R(Ue),Ze!=null&&Ze.onClick&&Ze.onClick(Ue)}}),className:rn(s==null?void 0:s.className,W==null?void 0:W.backdrop),ownerState:ae}),Oe=ll(s==null?void 0:s.ref,be.ref);return!w&&!k&&(!J||z)?null:p.jsx($ue,{ref:Q,container:h,disablePortal:E,children:p.jsxs(me,{...xe,children:[!T&&i?p.jsx(Re,{...be,ref:Oe}):null,p.jsx(Due,{disableEnforceFocus:b,disableAutoFocus:A,disableRestoreFocus:I,isEnabled:M,open:k,children:S.cloneElement(c,ye)})]})})});function nde(e){return ai("MuiDialog",e)}const ab=li("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),z4=S.createContext({}),rde=Mn($4,{name:"MuiDialog",slot:"Backdrop",overrides:(e,t)=>t.backdrop})({zIndex:-1}),ide=e=>{const{classes:t,scroll:n,maxWidth:r,fullWidth:i,fullScreen:s}=e,o={root:["root"],container:["container",`scroll${Bt(n)}`],paper:["paper",`paperScroll${Bt(n)}`,`paperWidth${Bt(String(r))}`,i&&"paperFullWidth",s&&"paperFullScreen"]};return _i(o,nde,t)},sde=Mn(tde,{name:"MuiDialog",slot:"Root",overridesResolver:(e,t)=>t.root})({"@media print":{position:"absolute !important"}}),ode=Mn("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.container,t[`scroll${Bt(n.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),ade=Mn(ey,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.paper,t[`scrollPaper${Bt(n.scroll)}`],t[`paperWidth${Bt(String(n.maxWidth))}`],n.fullWidth&&t.paperFullWidth,n.fullScreen&&t.paperFullScreen]}})(Os(({theme:e})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:t})=>!t.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:e.breakpoints.unit==="px"?Math.max(e.breakpoints.values.xs,444):`max(${e.breakpoints.values.xs}${e.breakpoints.unit}, 444px)`,[`&.${ab.paperScrollBody}`]:{[e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(e.breakpoints.values).filter(t=>t!=="xs").map(t=>({props:{maxWidth:t},style:{maxWidth:`${e.breakpoints.values[t]}${e.breakpoints.unit}`,[`&.${ab.paperScrollBody}`]:{[e.breakpoints.down(e.breakpoints.values[t]+32*2)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:t})=>t.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:t})=>t.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${ab.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),lde=S.forwardRef(function(t,n){const r=ci({props:t,name:"MuiDialog"}),i=mw(),s={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{"aria-describedby":o,"aria-labelledby":l,"aria-modal":d=!0,BackdropComponent:c,BackdropProps:h,children:f,className:m,disableEscapeKeyDown:v=!1,fullScreen:A=!1,fullWidth:b=!1,maxWidth:x="sm",onBackdropClick:E,onClick:I,onClose:P,open:T,PaperComponent:w=ey,PaperProps:R={},scroll:j="paper",TransitionComponent:V=F4,transitionDuration:N=s,TransitionProps:k,...B}=r,H={...r,disableEscapeKeyDown:v,fullScreen:A,fullWidth:b,maxWidth:x,scroll:j},F=ide(H),U=S.useRef(),D=Q=>{U.current=Q.target===Q.currentTarget},L=Q=>{I&&I(Q),U.current&&(U.current=null,E&&E(Q),P&&P(Q,"backdropClick"))},Y=fee(l),q=S.useMemo(()=>({titleId:Y}),[Y]);return p.jsx(sde,{className:rn(F.root,m),closeAfterTransition:!0,components:{Backdrop:rde},componentsProps:{backdrop:{transitionDuration:N,as:c,...h}},disableEscapeKeyDown:v,onClose:P,open:T,ref:n,onClick:L,ownerState:H,...B,children:p.jsx(V,{appear:!0,in:T,timeout:N,role:"presentation",...k,children:p.jsx(ode,{className:rn(F.container),onMouseDown:D,ownerState:H,children:p.jsx(ade,{as:w,elevation:24,role:"dialog","aria-describedby":o,"aria-labelledby":Y,"aria-modal":d,...R,className:rn(F.paper,R.className),ownerState:H,children:p.jsx(z4.Provider,{value:q,children:f})})})})})});function cde(e){return ai("MuiDialogActions",e)}li("MuiDialogActions",["root","spacing"]);const ude=e=>{const{classes:t,disableSpacing:n}=e;return _i({root:["root",!n&&"spacing"]},cde,t)},dde=Mn("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto",variants:[{props:({ownerState:e})=>!e.disableSpacing,style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),fde=S.forwardRef(function(t,n){const r=ci({props:t,name:"MuiDialogActions"}),{className:i,disableSpacing:s=!1,...o}=r,l={...r,disableSpacing:s},d=ude(l);return p.jsx(dde,{className:rn(d.root,i),ownerState:l,ref:n,...o})});function hde(e){return ai("MuiDialogContent",e)}li("MuiDialogContent",["root","dividers"]);function pde(e){return ai("MuiDialogTitle",e)}const gde=li("MuiDialogTitle",["root"]),mde=e=>{const{classes:t,dividers:n}=e;return _i({root:["root",n&&"dividers"]},hde,t)},vde=Mn("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dividers&&t.dividers]}})(Os(({theme:e})=>({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:({ownerState:t})=>t.dividers,style:{padding:"16px 24px",borderTop:`1px solid ${(e.vars||e).palette.divider}`,borderBottom:`1px solid ${(e.vars||e).palette.divider}`}},{props:({ownerState:t})=>!t.dividers,style:{[`.${gde.root} + &`]:{paddingTop:0}}}]}))),yde=S.forwardRef(function(t,n){const r=ci({props:t,name:"MuiDialogContent"}),{className:i,dividers:s=!1,...o}=r,l={...r,dividers:s},d=mde(l);return p.jsx(vde,{className:rn(d.root,i),ownerState:l,ref:n,...o})});function Ade(e){return ai("MuiTypography",e)}const xye=li("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]),bde={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},_de=Gne(),Sde=e=>{const{align:t,gutterBottom:n,noWrap:r,paragraph:i,variant:s,classes:o}=e,l={root:["root",s,e.align!=="inherit"&&`align${Bt(t)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return _i(l,Ade,o)},xde=Mn("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],n.align!=="inherit"&&t[`align${Bt(n.align)}`],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})(Os(({theme:e})=>{var t;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(e.typography).filter(([n,r])=>n!=="inherit"&&r&&typeof r=="object").map(([n,r])=>({props:{variant:n},style:r})),...Object.entries(e.palette).filter(Vh()).map(([n])=>({props:{color:n},style:{color:(e.vars||e).palette[n].main}})),...Object.entries(((t=e.palette)==null?void 0:t.text)||{}).filter(([,n])=>typeof n=="string").map(([n])=>({props:{color:`text${Bt(n)}`},style:{color:(e.vars||e).palette.text[n]}})),{props:({ownerState:n})=>n.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:n})=>n.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:n})=>n.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:n})=>n.paragraph,style:{marginBottom:16}}]}})),oM={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},U4=S.forwardRef(function(t,n){const{color:r,...i}=ci({props:t,name:"MuiTypography"}),s=!bde[r],o=_de({...i,...s&&{color:r}}),{align:l="inherit",className:d,component:c,gutterBottom:h=!1,noWrap:f=!1,paragraph:m=!1,variant:v="body1",variantMapping:A=oM,...b}=o,x={...o,align:l,color:r,className:d,component:c,gutterBottom:h,noWrap:f,paragraph:m,variant:v,variantMapping:A},E=c||(m?"p":A[v]||oM[v])||"span",I=Sde(x);return p.jsx(xde,{as:E,ref:n,className:rn(I.root,d),...b,ownerState:x,style:{...l!=="inherit"&&{"--Typography-textAlign":l},...b.style}})});function wde(e){return ai("MuiDialogContentText",e)}li("MuiDialogContentText",["root"]);const Ede=e=>{const{classes:t}=e,r=_i({root:["root"]},wde,t);return{...t,...r}},Cde=Mn(U4,{shouldForwardProp:e=>vw(e)||e==="classes",name:"MuiDialogContentText",slot:"Root",overridesResolver:(e,t)=>t.root})({}),kde=S.forwardRef(function(t,n){const r=ci({props:t,name:"MuiDialogContentText"}),{children:i,className:s,...o}=r,l=Ede(o);return p.jsx(Cde,{component:"p",variant:"body1",color:"textSecondary",ref:n,ownerState:o,className:rn(l.root,s),...r,classes:l})}),Tde=e=>{const{classes:t}=e;return _i({root:["root"]},pde,t)},Ide=Mn(U4,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:"16px 24px",flex:"0 0 auto"}),Rde=S.forwardRef(function(t,n){const r=ci({props:t,name:"MuiDialogTitle"}),{className:i,id:s,...o}=r,l=r,d=Tde(l),{titleId:c=s}=S.useContext(z4);return p.jsx(Ide,{component:"h2",className:rn(d.root,i),ownerState:l,ref:n,variant:"h6",id:s??c,...o})});function Qn(e,t){if(t!==void 0)return`#${e}:${typeof t=="number"?t.toString(10).replace(".",","):Array.isArray(t)?t.map(n=>n.trim()).join(", "):t.trim()}`}const aM=e=>e.map(t=>`${cW[t.type]} ${t.start} ${t.length} ${t.pitch} ${t.lyrics}`).join(`
`),lM=e=>e.split(":")[0];function Pde(e){const t={artist:Qn("ARTIST",e.artist),title:Qn("TITLE",e.title),author:Qn("CREATOR",e.author),bpm:Qn("BPM",e.bpm),year:Qn("YEAR",e.year),previewStart:Qn("PREVIEWSTART",e.previewStart),video:Qn("VIDEO",`v=${e.video}`),videoGap:Qn("VIDEOGAP",e.videoGap),genre:Qn("GENRE",e.genre),language:Qn("LANGUAGE",e.language),gap:Qn("GAP",e.gap),edition:Qn("EDITION",e.edition),id:Qn("ALLKARAOKE_ID",e.id),lastUpdate:Qn("ALLKARAOKE_LASTUPDATE",e.lastUpdate),artistOrigin:Qn("ALLKARAOKE_ARTISTORIGIN",e.artistOrigin),authorUrl:Qn("ALLKARAOKE_CREATORURL",e.authorUrl),realBpm:Qn("ALLKARAOKE_REALBPM",e.realBpm),sourceUrl:Qn("ALLKARAOKE_SOURCEURL",e.sourceUrl),previewEnd:Qn("ALLKARAOKE_PREVIEWEND",e.previewEnd),volume:Qn("ALLKARAOKE_VOLUME",e.volume)},n=e.tracks.map(l=>l.name??null),r=[];e.tracks.map(l=>l.sections).forEach(([l,...d])=>{r.push(ln(l)?aM(l.notes):`- ${l.start} ${l.end}`),d.forEach(c=>r.push(ln(c)?`- ${c.start}
${aM(c.notes)}`:`- ${c.start} ${c.end}`))});const i=Object.values(t).concat(n[0]?Qn("P1",n[0]):void 0).concat(n[1]?Qn("P2",n[1]):void 0).filter(B_),s=i.map(lM),o=(e.unsupportedProps??[]).filter(l=>!s.includes(lM(l)));return i.concat(...o).concat(r).concat("E").filter(B_).join(`
`)}const H4="share-songs",G4=Al(H4),Mde=async e=>{try{if(!ot.getItem(H4))return;const n=await is.get(e);n&&lr.capture("share-song",{song:Pde(n),isBuiltIn:is.isBuiltIn(e)})}catch(t){console.error(t),Ps(t)}};function wye(e){const[t,n]=G4(null),[r,i]=S.useState(!!e.id&&t===null),s=()=>{i(!1)},o=l=>{n(l),l&&e.id&&Mde(e.id),s()};return p.jsxs(lde,{open:r,onClose:()=>i(!1),fullWidth:!0,children:[p.jsx(Rde,{children:"Share songs?"}),p.jsx(yde,{children:p.jsx(kde,{children:p.jsxs("p",{children:["Can you share songs you add? This would help tremendously as I will be able to add it for everyone to play ",p.jsx("br",{}),p.jsx("br",{}),"Shared songs appear for other players with a couple of days of delay."]})})}),p.jsxs(fde,{children:[p.jsx(nM,{onClick:()=>o(!1),"data-test":"share-songs-disagree",children:"Disagree"}),p.jsx(nM,{onClick:()=>o(!0),autoFocus:!0,variant:"contained","data-test":"share-songs-agree",children:"Agree"})]})]})}eo.extend(lue);function jde(){const{data:e}=Nd(!0),[t]=G4(null),n=Nv("song");_l(!1);const r=B4(n??"");return r.data?p.jsxs(ey,{elevation:2,sx:{minHeight:"100vh",width:"1260px",margin:"0 auto",paddingTop:"30px"},children:[p.jsx(os,{children:p.jsx("title",{children:"Edit Song | AllKaraoke.Party - Free Online Karaoke Party Game"})}),p.jsxs(Ode,{children:[p.jsx(Rw,{to:"edit/list/",children:p.jsx("a",{children:"Return to the song list"})}),p.jsxs("span",{children:["Editing:"," ",p.jsxs("b",{children:[r.data.artist," - ",r.data.title]}),r.data.local&&p.jsx(qv,{title:"Delete the song",onClick:async()=>{global.confirm("Are you sure you want to delete this song?")&&(await is.deleteSong(r.data.id),t&&e.some(s=>s.id===r.data.id)&&lr.capture("unshare-song",{songId:r.data.id}))},"data-test":"delete-song",children:p.jsx(iue,{})})]}),p.jsxs("abbr",{title:r.data.lastUpdate,children:["Last updated: ",p.jsx("b",{children:r.data.lastUpdate?eo(r.data.lastUpdate).fromNow():"-"})]})]}),p.jsx(V4,{song:r.data})]}):p.jsx(p.Fragment,{children:"Loading"})}const Ode=G("div",{target:"e104ojv10"})({name:"12zd36v",styles:"display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;padding:0 8px"});var Vde=Math.floor,Lde=Math.random;function Nde(e,t){return e+Vde(Lde()*(t-e+1))}function q4(e,t){var n=-1,r=e.length,i=r-1;for(t=t===void 0?r:t;++n<t;){var s=Nde(n,i),o=e[s];e[s]=e[n],e[n]=o}return e.length=t,e}function Bde(e){return q4(wV(e))}function Dde(e,t){return Lx(t,function(n){return e[n]})}function Fde(e){return e==null?[]:Dde(e,Jh(e))}function $de(e){return q4(Fde(e))}function zde(e){var t=js(e)?Bde:$de;return t(e)}var w5;const W4=!((w5=document.getElementById("root"))!=null&&w5.hasChildNodes());function Hw(e){return W4?null:e.children}function Ai(e){const t=$i(),n=r=>{e.onClick?e.onClick(r):(r.preventDefault(),t(e.to))};return p.jsx(Rw,{...e,onClick:n})}const Ru=e=>new Promise(t=>setTimeout(t,e));function Ude(e,t){S.useEffect(()=>{var n,r;(r=(n=e.current)==null?void 0:n.getInternalPlayer())==null||r.setVolume(Math.round((t??.5)*100))},[e,t])}var lb,cM;function Hde(){return cM||(cM=1,lb=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(s=Object.keys(t),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var o=s[i];if(!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n}),lb}var Gde=Hde();const qde=Lr(Gde);var tm={exports:{}},cb,uM;function Wde(){if(uM)return cb;uM=1;var e;/**
* @link https://github.com/gajus/sister for the canonical source repository
* @license https://github.com/gajus/sister/blob/master/LICENSE BSD 3-Clause
*/return e=function(){var t={},n={};return t.on=function(r,i){var s={name:r,handler:i};return n[r]=n[r]||[],n[r].unshift(s),s},t.off=function(r){var i=n[r.name].indexOf(r);i!==-1&&n[r.name].splice(i,1)},t.trigger=function(r,i){var s=n[r],o;if(s)for(o=s.length;o--;)s[o].handler(i)},t},cb=e,cb}var nm={exports:{}},ub,dM;function Kde(){if(dM)return ub;dM=1,ub=function(i,s,o){var l=document.head||document.getElementsByTagName("head")[0],d=document.createElement("script");typeof s=="function"&&(o=s,s={}),s=s||{},o=o||function(){},d.type=s.type||"text/javascript",d.charset=s.charset||"utf8",d.async="async"in s?!!s.async:!0,d.src=i,s.attrs&&e(d,s.attrs),s.text&&(d.text=""+s.text);var c="onload"in d?t:n;c(d,o),d.onload||t(d,o),l.appendChild(d)};function e(r,i){for(var s in i)r.setAttribute(s,i[s])}function t(r,i){r.onload=function(){this.onerror=this.onload=null,i(null,r)},r.onerror=function(){this.onerror=this.onload=null,i(new Error("Failed to load "+this.src),r)}}function n(r,i){r.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,i(null,r))}}return ub}var fM;function Yde(){return fM||(fM=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=Kde(),r=i(n);function i(s){return s&&s.__esModule?s:{default:s}}t.default=function(s){var o=new Promise(function(l){if(window.YT&&window.YT.Player&&window.YT.Player instanceof Function){l(window.YT);return}else{var d=window.location.protocol==="http:"?"http:":"https:";(0,r.default)(d+"//www.youtube.com/iframe_api",function(h){h&&s.trigger("error",h)})}var c=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){c&&c(),l(window.YT)}});return o},e.exports=t.default}(nm,nm.exports)),nm.exports}var rm={exports:{}},im={exports:{}},sm={exports:{}},db,hM;function Qde(){if(hM)return db;hM=1;var e=1e3,t=e*60,n=t*60,r=n*24,i=r*365.25;db=function(c,h){h=h||{};var f=typeof c;if(f==="string"&&c.length>0)return s(c);if(f==="number"&&isNaN(c)===!1)return h.long?l(c):o(c);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(c))};function s(c){if(c=String(c),!(c.length>100)){var h=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(c);if(h){var f=parseFloat(h[1]),m=(h[2]||"ms").toLowerCase();switch(m){case"years":case"year":case"yrs":case"yr":case"y":return f*i;case"days":case"day":case"d":return f*r;case"hours":case"hour":case"hrs":case"hr":case"h":return f*n;case"minutes":case"minute":case"mins":case"min":case"m":return f*t;case"seconds":case"second":case"secs":case"sec":case"s":return f*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return f;default:return}}}}function o(c){return c>=r?Math.round(c/r)+"d":c>=n?Math.round(c/n)+"h":c>=t?Math.round(c/t)+"m":c>=e?Math.round(c/e)+"s":c+"ms"}function l(c){return d(c,r,"day")||d(c,n,"hour")||d(c,t,"minute")||d(c,e,"second")||c+" ms"}function d(c,h,f){if(!(c<h))return c<h*1.5?Math.floor(c/h)+" "+f:Math.ceil(c/h)+" "+f+"s"}return db}var pM;function Jde(){return pM||(pM=1,function(e,t){t=e.exports=i.debug=i.default=i,t.coerce=d,t.disable=o,t.enable=s,t.enabled=l,t.humanize=Qde(),t.names=[],t.skips=[],t.formatters={};var n;function r(c){var h=0,f;for(f in c)h=(h<<5)-h+c.charCodeAt(f),h|=0;return t.colors[Math.abs(h)%t.colors.length]}function i(c){function h(){if(h.enabled){var f=h,m=+new Date,v=m-(n||m);f.diff=v,f.prev=n,f.curr=m,n=m;for(var A=new Array(arguments.length),b=0;b<A.length;b++)A[b]=arguments[b];A[0]=t.coerce(A[0]),typeof A[0]!="string"&&A.unshift("%O");var x=0;A[0]=A[0].replace(/%([a-zA-Z%])/g,function(I,P){if(I==="%%")return I;x++;var T=t.formatters[P];if(typeof T=="function"){var w=A[x];I=T.call(f,w),A.splice(x,1),x--}return I}),t.formatArgs.call(f,A);var E=h.log||t.log||console.log.bind(console);E.apply(f,A)}}return h.namespace=c,h.enabled=t.enabled(c),h.useColors=t.useColors(),h.color=r(c),typeof t.init=="function"&&t.init(h),h}function s(c){t.save(c),t.names=[],t.skips=[];for(var h=(typeof c=="string"?c:"").split(/[\s,]+/),f=h.length,m=0;m<f;m++)h[m]&&(c=h[m].replace(/\*/g,".*?"),c[0]==="-"?t.skips.push(new RegExp("^"+c.substr(1)+"$")):t.names.push(new RegExp("^"+c+"$")))}function o(){t.enable("")}function l(c){var h,f;for(h=0,f=t.skips.length;h<f;h++)if(t.skips[h].test(c))return!1;for(h=0,f=t.names.length;h<f;h++)if(t.names[h].test(c))return!0;return!1}function d(c){return c instanceof Error?c.stack||c.message:c}}(sm,sm.exports)),sm.exports}var gM;function Xde(){return gM||(gM=1,function(e,t){var n={};t=e.exports=Jde(),t.log=s,t.formatArgs=i,t.save=o,t.load=l,t.useColors=r,t.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:d(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function r(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}t.formatters.j=function(c){try{return JSON.stringify(c)}catch(h){return"[UnexpectedJSONParseError]: "+h.message}};function i(c){var h=this.useColors;if(c[0]=(h?"%c":"")+this.namespace+(h?" %c":" ")+c[0]+(h?"%c ":" ")+"+"+t.humanize(this.diff),!!h){var f="color: "+this.color;c.splice(1,0,f,"color: inherit");var m=0,v=0;c[0].replace(/%[a-zA-Z%]/g,function(A){A!=="%%"&&(m++,A==="%c"&&(v=m))}),c.splice(v,0,f)}}function s(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function o(c){try{c==null?t.storage.removeItem("debug"):t.storage.debug=c}catch{}}function l(){var c;try{c=t.storage.debug}catch{}return!c&&typeof process<"u"&&"env"in process&&(c=n.DEBUG),c}t.enable(l());function d(){try{return window.localStorage}catch{}}}(im,im.exports)),im.exports}var om={exports:{}},mM;function Zde(){return mM||(mM=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=["cueVideoById","loadVideoById","cueVideoByUrl","loadVideoByUrl","playVideo","pauseVideo","stopVideo","getVideoLoadedFraction","cuePlaylist","loadPlaylist","nextVideo","previousVideo","playVideoAt","setShuffle","setLoop","getPlaylist","getPlaylistIndex","setOption","mute","unMute","isMuted","setVolume","getVolume","seekTo","getPlayerState","getPlaybackRate","setPlaybackRate","getAvailablePlaybackRates","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getCurrentTime","getDuration","removeEventListener","getVideoUrl","getVideoEmbedCode","getOptions","getOption","addEventListener","destroy","setSize","getIframe"],e.exports=t.default}(om,om.exports)),om.exports}var am={exports:{}},vM;function efe(){return vM||(vM=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=["ready","stateChange","playbackQualityChange","playbackRateChange","error","apiChange","volumeChange"],e.exports=t.default}(am,am.exports)),am.exports}var lm={exports:{}},cm={exports:{}},yM;function tfe(){return yM||(yM=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default={BUFFERING:3,ENDED:0,PAUSED:2,PLAYING:1,UNSTARTED:-1,VIDEO_CUED:5},e.exports=t.default}(cm,cm.exports)),cm.exports}var AM;function nfe(){return AM||(AM=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=tfe(),r=i(n);function i(s){return s&&s.__esModule?s:{default:s}}t.default={pauseVideo:{acceptableStates:[r.default.ENDED,r.default.PAUSED],stateChangeRequired:!1},playVideo:{acceptableStates:[r.default.ENDED,r.default.PLAYING],stateChangeRequired:!1},seekTo:{acceptableStates:[r.default.ENDED,r.default.PLAYING,r.default.PAUSED],stateChangeRequired:!0,timeout:3e3}},e.exports=t.default}(lm,lm.exports)),lm.exports}var bM;function rfe(){return bM||(bM=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=Xde(),r=h(n),i=Zde(),s=h(i),o=efe(),l=h(o),d=nfe(),c=h(d);function h(v){return v&&v.__esModule?v:{default:v}}var f=(0,r.default)("youtube-player"),m={};m.proxyEvents=function(v){var A={},b=function(j){var V="on"+j.slice(0,1).toUpperCase()+j.slice(1);A[V]=function(N){f('event "%s"',V,N),v.trigger(j,N)}},x=!0,E=!1,I=void 0;try{for(var P=l.default[Symbol.iterator](),T;!(x=(T=P.next()).done);x=!0){var w=T.value;b(w)}}catch(R){E=!0,I=R}finally{try{!x&&P.return&&P.return()}finally{if(E)throw I}}return A},m.promisifyPlayer=function(v){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,b={},x=function(V){A&&c.default[V]?b[V]=function(){for(var N=arguments.length,k=Array(N),B=0;B<N;B++)k[B]=arguments[B];return v.then(function(H){var F=c.default[V],U=H.getPlayerState(),D=H[V].apply(H,k);return F.stateChangeRequired||Array.isArray(F.acceptableStates)&&F.acceptableStates.indexOf(U)===-1?new Promise(function(L){var Y=function q(){var Q=H.getPlayerState(),M=void 0;typeof F.timeout=="number"&&(M=setTimeout(function(){H.removeEventListener("onStateChange",q),L()},F.timeout)),Array.isArray(F.acceptableStates)&&F.acceptableStates.indexOf(Q)!==-1&&(H.removeEventListener("onStateChange",q),clearTimeout(M),L())};H.addEventListener("onStateChange",Y)}).then(function(){return D}):D})}:b[V]=function(){for(var N=arguments.length,k=Array(N),B=0;B<N;B++)k[B]=arguments[B];return v.then(function(H){return H[V].apply(H,k)})}},E=!0,I=!1,P=void 0;try{for(var T=s.default[Symbol.iterator](),w;!(E=(w=T.next()).done);E=!0){var R=w.value;x(R)}}catch(j){I=!0,P=j}finally{try{!E&&T.return&&T.return()}finally{if(I)throw P}}return b},t.default=m,e.exports=t.default}(rm,rm.exports)),rm.exports}var _M;function ife(){return _M||(_M=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},r=Wde(),i=c(r),s=Yde(),o=c(s),l=rfe(),d=c(l);function c(f){return f&&f.__esModule?f:{default:f}}var h=void 0;t.default=function(f){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,A=(0,i.default)();if(h||(h=(0,o.default)(A)),m.events)throw new Error("Event handlers cannot be overwritten.");if(typeof f=="string"&&!document.getElementById(f))throw new Error('Element "'+f+'" does not exist.');m.events=d.default.proxyEvents(A);var b=new Promise(function(E){if((typeof f>"u"?"undefined":n(f))==="object"&&f.playVideo instanceof Function){var I=f;E(I)}else h.then(function(P){var T=new P.Player(f,m);return A.on("ready",function(){E(T)}),null})}),x=d.default.promisifyPlayer(b,v);return x.on=A.on,x.off=A.off,x},e.exports=t.default}(tm,tm.exports)),tm.exports}var sfe=ife();const ofe=Lr(sfe);var afe=Object.defineProperty,lfe=Object.defineProperties,cfe=Object.getOwnPropertyDescriptors,SM=Object.getOwnPropertySymbols,ufe=Object.prototype.hasOwnProperty,dfe=Object.prototype.propertyIsEnumerable,xM=(e,t,n)=>t in e?afe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,kS=(e,t)=>{for(var n in t||(t={}))ufe.call(t,n)&&xM(e,n,t[n]);if(SM)for(var n of SM(t))dfe.call(t,n)&&xM(e,n,t[n]);return e},TS=(e,t)=>lfe(e,cfe(t)),ffe=(e,t,n)=>new Promise((r,i)=>{var s=d=>{try{l(n.next(d))}catch(c){i(c)}},o=d=>{try{l(n.throw(d))}catch(c){i(c)}},l=d=>d.done?r(d.value):Promise.resolve(d.value).then(s,o);l((n=n.apply(e,t)).next())});function hfe(e,t){var n,r;if(e.videoId!==t.videoId)return!0;const i=((n=e.opts)==null?void 0:n.playerVars)||{},s=((r=t.opts)==null?void 0:r.playerVars)||{};return i.start!==s.start||i.end!==s.end}function wM(e={}){return TS(kS({},e),{height:0,width:0,playerVars:TS(kS({},e.playerVars),{autoplay:0,start:0,end:0})})}function pfe(e,t){return e.videoId!==t.videoId||!qde(wM(e.opts),wM(t.opts))}function gfe(e,t){var n,r,i,s;return e.id!==t.id||e.className!==t.className||((n=e.opts)==null?void 0:n.width)!==((r=t.opts)==null?void 0:r.width)||((i=e.opts)==null?void 0:i.height)!==((s=t.opts)==null?void 0:s.height)||e.iframeClassName!==t.iframeClassName||e.title!==t.title}var mfe={videoId:"",id:"",className:"",iframeClassName:"",style:{},title:"",loading:void 0,opts:{},onReady:()=>{},onError:()=>{},onPlay:()=>{},onPause:()=>{},onEnd:()=>{},onStateChange:()=>{},onPlaybackRateChange:()=>{},onPlaybackQualityChange:()=>{}},vfe={videoId:Rt.string,id:Rt.string,className:Rt.string,iframeClassName:Rt.string,style:Rt.object,title:Rt.string,loading:Rt.oneOf(["lazy","eager"]),opts:Rt.objectOf(Rt.any),onReady:Rt.func,onError:Rt.func,onPlay:Rt.func,onPause:Rt.func,onEnd:Rt.func,onStateChange:Rt.func,onPlaybackRateChange:Rt.func,onPlaybackQualityChange:Rt.func},Wm=class extends Xe.Component{constructor(e){super(e),this.destroyPlayerPromise=void 0,this.onPlayerReady=t=>{var n,r;return(r=(n=this.props).onReady)==null?void 0:r.call(n,t)},this.onPlayerError=t=>{var n,r;return(r=(n=this.props).onError)==null?void 0:r.call(n,t)},this.onPlayerStateChange=t=>{var n,r,i,s,o,l,d,c;switch((r=(n=this.props).onStateChange)==null||r.call(n,t),t.data){case Wm.PlayerState.ENDED:(s=(i=this.props).onEnd)==null||s.call(i,t);break;case Wm.PlayerState.PLAYING:(l=(o=this.props).onPlay)==null||l.call(o,t);break;case Wm.PlayerState.PAUSED:(c=(d=this.props).onPause)==null||c.call(d,t);break}},this.onPlayerPlaybackRateChange=t=>{var n,r;return(r=(n=this.props).onPlaybackRateChange)==null?void 0:r.call(n,t)},this.onPlayerPlaybackQualityChange=t=>{var n,r;return(r=(n=this.props).onPlaybackQualityChange)==null?void 0:r.call(n,t)},this.destroyPlayer=()=>this.internalPlayer?(this.destroyPlayerPromise=this.internalPlayer.destroy().then(()=>this.destroyPlayerPromise=void 0),this.destroyPlayerPromise):Promise.resolve(),this.createPlayer=()=>{if(typeof document>"u")return;if(this.destroyPlayerPromise){this.destroyPlayerPromise.then(this.createPlayer);return}const t=TS(kS({},this.props.opts),{videoId:this.props.videoId});this.internalPlayer=ofe(this.container,t),this.internalPlayer.on("ready",this.onPlayerReady),this.internalPlayer.on("error",this.onPlayerError),this.internalPlayer.on("stateChange",this.onPlayerStateChange),this.internalPlayer.on("playbackRateChange",this.onPlayerPlaybackRateChange),this.internalPlayer.on("playbackQualityChange",this.onPlayerPlaybackQualityChange),(this.props.title||this.props.loading)&&this.internalPlayer.getIframe().then(n=>{this.props.title&&n.setAttribute("title",this.props.title),this.props.loading&&n.setAttribute("loading",this.props.loading)})},this.resetPlayer=()=>this.destroyPlayer().then(this.createPlayer),this.updatePlayer=()=>{var t;(t=this.internalPlayer)==null||t.getIframe().then(n=>{this.props.id?n.setAttribute("id",this.props.id):n.removeAttribute("id"),this.props.iframeClassName?n.setAttribute("class",this.props.iframeClassName):n.removeAttribute("class"),this.props.opts&&this.props.opts.width?n.setAttribute("width",this.props.opts.width.toString()):n.removeAttribute("width"),this.props.opts&&this.props.opts.height?n.setAttribute("height",this.props.opts.height.toString()):n.removeAttribute("height"),this.props.title?n.setAttribute("title",this.props.title):n.setAttribute("title","YouTube video player"),this.props.loading?n.setAttribute("loading",this.props.loading):n.removeAttribute("loading")})},this.getInternalPlayer=()=>this.internalPlayer,this.updateVideo=()=>{var t,n,r,i;if(typeof this.props.videoId>"u"||this.props.videoId===null){(t=this.internalPlayer)==null||t.stopVideo();return}let s=!1;const o={videoId:this.props.videoId};if((n=this.props.opts)!=null&&n.playerVars&&(s=this.props.opts.playerVars.autoplay===1,"start"in this.props.opts.playerVars&&(o.startSeconds=this.props.opts.playerVars.start),"end"in this.props.opts.playerVars&&(o.endSeconds=this.props.opts.playerVars.end)),s){(r=this.internalPlayer)==null||r.loadVideoById(o);return}(i=this.internalPlayer)==null||i.cueVideoById(o)},this.refContainer=t=>{this.container=t},this.container=null,this.internalPlayer=null}componentDidMount(){this.createPlayer()}componentDidUpdate(e){return ffe(this,null,function*(){gfe(e,this.props)&&this.updatePlayer(),pfe(e,this.props)&&(yield this.resetPlayer()),hfe(e,this.props)&&this.updateVideo()})}componentWillUnmount(){this.destroyPlayer()}render(){return Xe.createElement("div",{className:this.props.className,style:this.props.style},Xe.createElement("div",{id:this.props.id,className:this.props.iframeClassName,ref:this.refContainer}))}},ny=Wm;ny.propTypes=vfe;ny.defaultProps=mfe;ny.PlayerState={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5};var _o=ny;function yfe(e){const[t,n]=S.useState(1);return S.useEffect(()=>{if(e===_o.PlayerState.UNSTARTED){const r=setTimeout(()=>{n(i=>i+1)},5e3+t*2500);return()=>{clearTimeout(r)}}}),t}function Afe(e,t){S.useEffect(()=>{if(t===_o.PlayerState.BUFFERING){const n=setInterval(async()=>{var r,i,s;if(navigator.onLine){clearInterval(n);const o=await((r=e.current)==null?void 0:r.getInternalPlayer().getCurrentTime());(s=(i=e.current)==null?void 0:i.getInternalPlayer())==null||s.seekTo(Math.max(o-2,0),!0)}},500);return()=>{clearInterval(n)}}})}function bfe(e,t){return Afe(e,t),yfe(t)}var ir=(e=>(e.UNSTARTED="UNSTARTED",e.ENDED="ENDED",e.PLAYING="PLAYING",e.PAUSED="PAUSED",e.BUFFERING="BUFFERING",e.CUED="CUED",e))(ir||{});const _fe={[_o.PlayerState.UNSTARTED]:"UNSTARTED",[_o.PlayerState.ENDED]:"ENDED",[_o.PlayerState.PLAYING]:"PLAYING",[_o.PlayerState.PAUSED]:"PAUSED",[_o.PlayerState.BUFFERING]:"BUFFERING",[_o.PlayerState.CUED]:"CUED"},Sfe=S.forwardRef(function({video:t,autoplay:n,startAt:r,controls:i,disablekb:s,volume:o,width:l,height:d,onStateChange:c},h){const f=S.useRef(null),[m,v]=S.useState(_o.PlayerState.UNSTARTED),A=bfe(f,m);return Ude(f,o),S.useEffect(()=>{f.current&&f.current.getInternalPlayer().setSize(l,d)},[f,l,d,t,A]),S.useImperativeHandle(h,()=>({setSize:(b,x)=>{var E;return(E=f.current)==null?void 0:E.getInternalPlayer().setSize(b,x)},seekTo:b=>{var x;return(x=f.current)==null?void 0:x.getInternalPlayer().seekTo(b,!0)},setPlaybackSpeed:b=>{var x;return(x=f.current)==null?void 0:x.getInternalPlayer().setPlaybackRate(b)},setVolume:b=>{var x;return(x=f.current)==null?void 0:x.getInternalPlayer().setVolume(b)},getCurrentTime:()=>{var b,x,E,I;return((I=(E=(x=(b=f.current)==null?void 0:b.getInternalPlayer)==null?void 0:x.call(b))==null?void 0:E.getCurrentTime)==null?void 0:I.call(E))??Promise.resolve(0)},loadVideoById:b=>{var x;return(x=f.current)==null?void 0:x.getInternalPlayer().loadVideoById(b)},playVideo:()=>{var b;(b=f.current)==null||b.getInternalPlayer().playVideo()},pauseVideo:()=>{var b;return(b=f.current)==null?void 0:b.getInternalPlayer().pauseVideo()},getDuration:()=>{var b,x,E,I;return((I=(E=(x=(b=f.current)==null?void 0:b.getInternalPlayer)==null?void 0:x.call(b))==null?void 0:E.getDuration)==null?void 0:I.call(E))??Promise.resolve(0)}})),p.jsx(_o,{title:" ",ref:f,videoId:t,opts:{width:"0",height:"0",playerVars:{autoplay:n?1:0,rel:0,fs:0,controls:i?1:0,start:r??0,end:0,disablekb:s?1:0,modestbranding:1}},onStateChange:b=>{v(b.data),c==null||c(_fe[b.data])}},`${t}-${A}`)}),xfe=S.forwardRef(function({video:t,autoplay:n=!0,startAt:r,controls:i,disablekb:s,volume:o,width:l,height:d,onStateChange:c},h){const f=S.useRef(null),[m,v]=S.useState({w:l,h:d}),[A,b]=S.useState(ir.UNSTARTED);S.useEffect(()=>{const I=j=>()=>b(j),P=f.current,T=I(ir.PLAYING),w=I(ir.PAUSED),R=I(ir.ENDED);return P==null||P.addEventListener("playing",T),P==null||P.addEventListener("pause",w),P==null||P.addEventListener("ended",R),()=>{P==null||P.removeEventListener("playing",T),P==null||P.removeEventListener("pause",w),P==null||P.removeEventListener("ended",R)}},[b]),S.useEffect(()=>{c==null||c(A)},[A,c]);const x=S.useRef(null),E=S.useMemo(()=>({setSize:(I,P)=>v({w:I,h:P}),seekTo:I=>(f.current&&(f.current.currentTime=I),I),setPlaybackSpeed:I=>{f.current&&(f.current.playbackRate=I)},setVolume:()=>{},getCurrentTime:()=>{var I;return Promise.resolve(((I=f.current)==null?void 0:I.currentTime)??0)},playVideo:async()=>{var I;return await Ru(200),(I=f.current)==null?void 0:I.play()},pauseVideo:()=>{var I;return(I=f.current)==null?void 0:I.pause()},getDuration:()=>{var I;return Promise.resolve(((I=f.current)==null?void 0:I.duration)??0)},loadVideoById:()=>{var I;clearTimeout(x.current),(I=f.current)==null||I.pause(),b(ir.UNSTARTED),x.current=setTimeout(()=>{var P;(P=f.current)==null||P.play()},300)}}),[f]);return S.useEffect(()=>{E.setSize(l,d)},[l,d,E]),S.useEffect(()=>{r!==void 0&&E.seekTo(r)},[r,E]),S.useImperativeHandle(h,()=>E),p.jsx("video",{style:{width:m.w,height:m.h},autoPlay:n,controls:i,ref:f,children:p.jsx("source",{src:t})})}),wfe="/assets/dummy-video-long-C7qbKeYK.webm",Efe="/assets/dummy-video-9QP_sTy6.webm",Cfe=S.forwardRef(function({video:t,controls:n,...r},i){return p.jsx(xfe,{ref:i,video:t==="Vueyx9TBEqE"?wfe:Efe,controls:!0,...r})}),Gw=S.forwardRef((e,t)=>rs()?p.jsx(Cfe,{...e,ref:t}):p.jsx(Sfe,{...e,ref:t}));function K4({songData:e,background:t,width:n,height:r,children:i,...s}){return p.jsxs(kfe,{video:e.video,width:n,height:r,...s,children:[p.jsx(Ife,{video:e.video,blur:!0}),t&&p.jsx(Y4,{children:t}),p.jsx(Rfe,{children:p.jsxs(Pfe,{children:[p.jsx(Mfe,{children:e.title}),p.jsx("br",{}),p.jsx(jfe,{children:e.artist}),p.jsx("br",{}),e.author&&p.jsxs(Ofe,{children:["by",e.authorUrl?p.jsx("a",{href:e.authorUrl,children:e.author}):e.author]}),i]})})]})}const kfe=G("div",{target:"e1kx27c8"})("width:",e=>e.width,"px;top:0;height:",e=>e.height,"px;overflow-y:hidden;background:black;position:relative;"),Y4=G("div",{target:"e1kx27c7"})({name:"1vuuxha",styles:"z-index:1;top:0;left:0;position:absolute;width:100%;height:100%"}),Tfe=G(Y4,{target:"e1kx27c6"})("background-size:cover;background-position:center center;filter:",e=>e.blur?"blur(0.5rem)":"none",";"),Ife=e=>p.jsx(Tfe,{style:{backgroundImage:`url('https://i3.ytimg.com/vi/${e.video}/hqdefault.jpg')`},...e}),Rfe=G("div",{target:"e1kx27c5"})({name:"11t99gq",styles:"z-index:2;top:0;left:0;width:100%;height:100%;position:absolute;pointer-events:none"}),Pfe=G("div",{target:"e1kx27c4"})({name:"t7r80e",styles:"position:relative;margin:0 auto;color:white;max-width:144rem;height:100%;pointer-events:none"}),ry=G("span",{target:"e1kx27c3"})("background:rgba(0, 0, 0, 0.5);display:inline-block;backdrop-filter:blur(0.5rem);",xt,";padding:0.5rem 2rem;margin:0 0 1rem 0;"),Mfe=G(ry,{target:"e1kx27c2"})("color:",Ve.colors.text.active,";margin-top:2rem;font-size:4.5rem;"),jfe=G(ry,{target:"e1kx27c1"})({name:"tic7nk",styles:"font-size:3.5rem"}),Ofe=G(ry,{target:"e1kx27c0"})({name:"a07gmx",styles:"font-size:2rem"});function Vfe(){var f;ml(!1),_l(!1);const e=$i(),{width:t,height:n}=lp(),[r,i]=S.useState(0),s=Nd(),[o,l]=S.useState([]),{register:d}=Cr({onBackspace:()=>e("menu/")});S.useEffect(()=>s.data&&l(zde(s.data)),[s.data]);const c=()=>s.data&&i(m=>(m+1)%s.data.length);if(!o.length||!t||!n)return null;const h=q0("game/",{song:o[r].id,playlist:"All"});return p.jsxs(yl,{children:[p.jsx(os,{children:p.jsx("title",{children:"Jukebox | AllKaraoke.Party - Free Online Karaoke Party Game"})}),p.jsx(Hw,{children:p.jsxs(K4,{width:t,height:n,songData:o[r],"data-test":"jukebox-container","data-song":o[r].id,background:p.jsx(Gw,{autoplay:!0,controls:!0,width:t,height:n,volume:(f=o[r])==null?void 0:f.volume,video:o[r].video,startAt:o[r].videoGap,onStateChange:m=>{m===ir.ENDED&&c()}}),children:[p.jsx(Nfe,{...d("skip-button",c),children:"Skip"}),p.jsx(Ai,{to:h,children:p.jsx(Lfe,{...d("sing-button",()=>e(h),void 0,!0),children:"Sing this song"})})]})})]})}const Lfe=G(lo,{target:"e1573hk21"})({name:"9gmhgo",styles:"bottom:7rem;right:2rem;width:50rem;position:absolute;font-size:1.9vw"}),Nfe=G(lo,{target:"e1573hk20"})({name:"1qbm012",styles:"bottom:15rem;right:2rem;width:30rem;position:absolute;font-size:1.9vw"}),Bfe=G("svg",{target:"enucs170"})({name:"w3i2x3",styles:"--curve:cubic-bezier(0.65, 0, 0.45, 1);--green:#4caf50;margin-right:1rem;width:3.5rem;height:3.5rem;border-radius:50%;display:block;stroke-width:2;stroke:#fff;stroke-miterlimit:10;box-shadow:inset 0px 0px 0px var(--green);animation:fill 0.4s ease-in-out 0.4s forwards,scale 0.3s ease-in-out 0.9s both;.checkmark__circle{stroke-dasharray:166;stroke-dashoffset:166;stroke-width:2;stroke-miterlimit:10;stroke:var(--green);fill:none;animation:stroke 0.6s var(--curve) forwards;}.checkmark__check{transform-origin:50% 50%;stroke-dasharray:48;stroke-dashoffset:48;animation:stroke 0.3s var(--curve) 0.8s forwards;}@keyframes stroke{100%{stroke-dashoffset:0;}}@keyframes scale{0%,100%{transform:none;}50%{transform:scale3d(1.1, 1.1, 1);}}@keyframes fill{100%{box-shadow:inset 0px 0px 0px 3rem var(--green);}}"}),Dfe=e=>p.jsx(Bfe,{...e,children:p.jsxs("svg",{className:"checkmark",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 52 52",children:[p.jsx("circle",{className:"checkmark__circle",cx:"26",cy:"26",r:"25",fill:"none"}),p.jsx("path",{className:"checkmark__check",fill:"none",d:"M14.1 27.2l7.1 7.2 16.7-16.8"})]})}),Km=zt([p.jsx("path",{fillRule:"evenodd",d:"M16.67 13.13C18.04 14.06 19 15.32 19 17v3h4v-3c0-2.18-3.57-3.47-6.33-3.87"},"0"),p.jsx("circle",{cx:"9",cy:"8",r:"4",fillRule:"evenodd"},"1"),p.jsx("path",{fillRule:"evenodd",d:"M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4c-.47 0-.91.1-1.33.24C14.5 5.27 15 6.58 15 8s-.5 2.73-1.33 3.76c.42.14.86.24 1.33.24m-6 1c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4"},"2")],"PeopleAlt"),EM=zt(p.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"Person"),fb=zt(p.jsx("path",{d:"M15.5 1h-8C6.12 1 5 2.12 5 3.5v17C5 21.88 6.12 23 7.5 23h8c1.38 0 2.5-1.12 2.5-2.5v-17C18 2.12 16.88 1 15.5 1m-4 21c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m4.5-4H7V4h9z"}),"PhoneIphone"),Ffe=zt([p.jsx("circle",{cx:"12",cy:"12",r:"3.2"},"0"),p.jsx("path",{d:"M9 2 7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5"},"1")],"PhotoCamera"),$fe=zt(p.jsx("path",{d:"M3 11h8V3H3zm2-6h4v4H5zM3 21h8v-8H3zm2-6h4v4H5zm8-12v8h8V3zm6 6h-4V5h4zm0 10h2v2h-2zm-6-6h2v2h-2zm2 2h2v2h-2zm-2 2h2v2h-2zm2 2h2v2h-2zm2-2h2v2h-2zm0-4h2v2h-2zm2 2h2v2h-2z"}),"QrCode");function zfe({onPreferenceSelected:e,previouslySelected:t,onBack:n,skipText:r}){const[i]=Tt(Qr),{register:s}=Cr({onBackspace:n});return p.jsxs(p.Fragment,{children:[p.jsxs(dm,{...s("remote-mics",()=>e("remoteMics"),void 0,t==="remoteMics"),children:[p.jsxs(Qf,{children:[p.jsx(u4,{}),p.jsx(fb,{})]}),p.jsxs("div",{children:[i?"Connect other phones":"Use Smartphones",p.jsxs(Yf,{children:["Use"," ",p.jsxs("strong",{children:[p.jsx(Ffe,{}),"Camera app"]})," ","to scan a"," ",p.jsxs("strong",{children:[p.jsx($fe,{})," QR code"]})," ","that will open Remote Mic website - no need to download an app!"]})]}),p.jsx(Dw,{children:"Recommended"}),p.jsxs(um,{children:[p.jsx(Km,{}),p.jsx("strong",{children:"1-4"})]})]}),p.jsxs(dm,{...s("built-in",()=>e("built-in"),void 0,t==="built-in"),children:[p.jsxs(Qf,{children:[p.jsx(EM,{}),i?p.jsx(fb,{}):p.jsx(c4,{})]}),p.jsxs("div",{children:["This ",i?"device's":"computer's"," microphone",p.jsxs(Yf,{children:["Great to ",p.jsx("strong",{children:"test"})," the app, ",p.jsx("strong",{children:"sing alone"})," or don't care about the rivalry at the party"]})]}),p.jsxs(um,{children:[p.jsx(EM,{}),p.jsx("strong",{children:"1"})]})]}),p.jsx("hr",{}),!i&&p.jsxs(dm,{...s("multiple-mics",()=>e("multiple-mics"),void 0,t==="multiple-mics"),children:[p.jsxs(Qf,{children:[p.jsx(vS,{}),p.jsx(o4,{})]}),p.jsxs("div",{children:["Multiple microphones",p.jsxs(Yf,{children:["Use either ",p.jsx("strong",{children:"SingStar"})," or ",p.jsx("strong",{children:"multiple microphones"})," connected to the device for each player"]})]}),p.jsxs(um,{children:[p.jsx(Km,{}),p.jsx("strong",{children:"2"})]})]}),p.jsxs(dm,{...s("advanced",()=>e("advanced"),void 0,t==="advanced"),children:[p.jsxs(Qf,{children:[p.jsx(vS,{}),p.jsx(fb,{})]}),p.jsxs("div",{children:["Advanced (manual) setup",p.jsx(Yf,{children:"Assign the specific device to a player manually, e.g. if you don't have regular SingStar microphones."})]}),p.jsxs(um,{children:[p.jsx(Km,{}),p.jsx("strong",{children:"1-4"})]})]}),p.jsx("hr",{}),p.jsx(Ai,{to:"menu/",onClick:o=>{o==null||o.preventDefault(),e("skip")},children:p.jsx(ut,{...s("skip",()=>e("skip"),void 0,t==="skip"),children:r||"Skip"})})]})}const um=G("div",{target:"eb2r3ii3"})(xt,";position:absolute;inset:auto 0.5rem 0.5rem auto;svg{font-size:0.9em;}gap:0.5rem;display:flex;align-items:center;justify-content:flex-end;"),Yf=G("div",{target:"eb2r3ii2"})({name:"4vipg7",styles:"padding:0 3rem 0 6rem;font-size:1.6rem;max-height:0;overflow:clip;transition:300ms;svg{font-size:1.4rem;}opacity:0"}),Qf=G("div",{target:"eb2r3ii1"})("position:relative;margin:0rem 0.6rem 0 2.5rem;transition:300ms;svg{transition:300ms;width:3.6rem;height:3.6rem;color:",Ve.colors.players[1].text,";}svg:first-of-type{top:0.6rem;left:1.25rem;position:absolute;color:",Ve.colors.players[0].text,";z-index:100;transform:scaleX(-1);}"),dm=G(ut,{target:"eb2r3ii0"})("position:relative;display:flex;align-items:center;&:hover,&[data-focused='true']{height:16.5rem;background:black;",pd,";",Yf,"{padding-top:1.6rem;max-height:10rem;opacity:1;opacity:1;}",Qf,"{transform:scale(1.75);}}");function Q4(){var e,t;return((t=(e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.includes)==null?void 0:t.call(e,"Win"))??!1}const qw=(e,t,n=!0,r=1e3/rc.get())=>{S.useEffect(()=>{if(!n)return;const i=setInterval(()=>{const s=tr.getPlayerVolume(e)??0,o=tr.getPlayerFrequency(e)??0;t([s,Array.isArray(o)?o[0]:o])},r);return()=>{clearInterval(i)}},[e,r,t,n])},Ufe=(e,t=1e3/rc.get(),n)=>{const[r,i]=S.useState([0,0]);return qw(e,i,!0,t),S.useEffect(()=>{n&&n(r)},[r,n]),r},J4=e=>S.useMemo(()=>{if(!Ve.colors.players[e])return"0, 0, 0";const t=ke(Ve.colors.players[e].text).toRgb();return`${t.r}, ${t.g}, ${t.b}`},[e]),X4=G("div",{target:"eq7cjwi0"})({name:"5jivz6",styles:"height:100%;width:100%;position:absolute;right:0;top:0;background-repeat:repeat-y;transform-origin:right;z-index:1;pointer-events:none"}),Hfe=S.forwardRef(({volume:e,playerNumber:t,...n},r)=>{const i=`${Math.min(1,e*20)}`,s=J4(t);return it.getPlayer(t)?p.jsx(X4,{...n,style:{transform:`scaleX(${i})`,background:`linear-gradient(270deg, rgba(${s}, 1) 0%, rgba(${s}, 0) 100%)`},ref:r}):null}),Ww=({playerNumber:e,...t})=>{const[n,r]=S.useState(),i=S.useCallback(([o])=>{if(n){const l=`${Math.min(1,o*20)}`;n.style.transform=`scaleX(${l})`}},[n]);qw(e,i);const s=J4(e);return p.jsx(X4,{...t,ref:r,style:{background:`linear-gradient(270deg, rgba(${s}, 1) 0%, rgba(${s}, 0) 100%)`}})};function Gfe(e,t){const n=Object.keys(t),[r,i,s]=ss([ge.playerInputChanged,ge.inputListChanged],()=>{var c;const d=(c=it.getPlayer(e))==null?void 0:c.input;return d?[d,Ro.getInputForPlayerSelected(d),Ro.isPlayerInputInitialised(d)]:[null,null,!0]});S.useEffect(()=>{var d;if(s&&i===null){const c=n[0],h=t[c].getDefault();h&&((d=it.getPlayer(e))==null||d.changeInput(n[0],h.channel,h.deviceId))}});const o=d=>{var f;const c=dc(n,(r==null?void 0:r.source)??n[0]),h=d!==void 0?t[c].list[d]:t[c].getDefault();(f=it.getPlayer(e))==null||f.changeInput(c,h==null?void 0:h.channel,h==null?void 0:h.deviceId)},l=()=>{var f;if(!r)return;const d=t[r.source].list,c=i?d.findIndex(m=>m.id===i.id):0,h=op(d,c);if(h===0)o(0);else{const m=d[h];(f=it.getPlayer(e))==null||f.changeInput(r.source,m==null?void 0:m.channel,m==null?void 0:m.deviceId)}};return[(r==null?void 0:r.source)??null,o,i,l]}const Z4=e=>{const t=e.player,[n,r,i,s]=Gfe(t.number,e.inputs);return p.jsxs(p.Fragment,{children:[e.blockSourceChange?p.jsxs(Yfe,{children:[p.jsxs("h3",{className:"ph-no-capture",children:[t.getName()," Input"]}),p.jsx("h4",{children:"(click to change)"})]}):p.jsx(Kfe,{...e.readonly?{}:e.register(`player-${t.number}-source`,()=>r()),label:p.jsxs("span",{className:"ph-no-capture",children:[t.getName()," Source"]}),value:n,disabled:e.readonly}),p.jsx(Wfe,{...e.readonly?{}:e.register(`player-${t.number}-input`,s),label:"Input",disabled:e.readonly,value:i==null?void 0:i.label,children:p.jsx(qfe,{playerNumber:t.number})})]})},qfe=G(Ww,{target:"e6monco3"})({name:"1vx2200",styles:"opacity:0.75;width:50%;height:calc(100% - 0.5rem);margin:0.25rem"}),Wfe=G(Es,{target:"e6monco2"})({name:"bjn8wh",styles:"position:relative"}),Kfe=G(Es,{target:"e6monco1"})({name:"bigtx2",styles:"background:none"}),Yfe=G("div",{target:"e6monco0"})({name:"1laz9o6",styles:"display:flex;justify-content:space-between;align-items:flex-end"});function iy(e=!1,t){const n=ss(ge.inputListChanged,()=>{const r={...Ro.getInputList()};if(t)return{[t]:r[t]};for(const i in r)r[i].list.length===0&&delete r[i];return r});return S.useEffect(()=>{e&&Ro.loadMics()},[e]),n}function cp(e,t=w0){S.useEffect(()=>{it.setMinPlayerNumber(e);const n=it.getPlayers();if(n.length>t)for(let r=n.length;r>t;r--)it.removePlayer(n[r-1].number);else if(n.length<e){const r=it.getPlayers().map(s=>s.number),i=Array.from(Array(w0).keys()).filter(s=>!r.includes(s));console.log(i,r);for(let s=n.length;s<e;s++)it.addPlayer(i.shift())}},[])}function eN(){const e=S.useRef(0);si(ge.remoteMicConnected,({id:t})=>{var r;if(console.log("useRemoteMicAutoselect",t),it.getInputs().some(i=>i.deviceId===t)){console.log(`Input ${t} already assigned to player`);return}const n=it.getPlayer(e.current);n?n.changeInput(pa.inputName,0,t):(r=it.addPlayer(e.current))==null||r.changeInput(pa.inputName,0,t),e.current=(e.current+1)%w0})}function Qfe(e){cp(2);const t=iy(!0),n=jw();S.useEffect(()=>{e.onSetupComplete(n==="accepted")},[n]),eN();const{register:r}=Cr({onBackspace:e.onBack}),s=ss(ge.playerInputChanged,()=>it.getInputs()).filter(l=>l.source===la.inputName),o=ss([ge.inputListChanged,ge.playerInputChanged,ge.playerRemoved],()=>it.getPlayers());return p.jsxs(p.Fragment,{children:[p.jsxs(sp,{fallback:p.jsx("h2",{children:"Please allow access to the microphone so we can show them."}),children:[p.jsx(Pw,{}),o.map((l,d)=>p.jsx(Z4,{inputs:t,player:l,register:r,readonly:d>1},l.number)),p.jsx("hr",{}),s.length>1&&$w()&&Q4()&&p.jsxs("h3",{children:[p.jsx("strong",{children:"Chrome"})," is known for not handling SingStar mics well. If you notice any problems, try using an alternative browser (eg. ",p.jsx("strong",{children:"MS Edge"})," or ",p.jsx("strong",{children:"Firefox"}),")"]})]}),p.jsx(ut,{...r("back-button",e.onBack),children:"Change Input Type"}),p.jsx(ut,{...r("save-button",e.onSave),children:e.closeButtonText})]})}const Jfe=zt(p.jsx("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check"),tN=zt(p.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-2h2zm0-4h-2V7h2z"}),"Error");function Kw({names:e}){return p.jsx(Xfe,{children:it.getPlayers().map(t=>p.jsxs(Zfe,{"data-test":`mic-check-p${t.number}`,children:[p.jsx(Ww,{playerNumber:t.number}),p.jsx("span",{className:"ph-no-capture",children:(e==null?void 0:e[t.number])??t.getName()})]},t.number))})}const Xfe=G("div",{target:"e1e3gceh1"})({name:"e7x0p4",styles:"display:flex;gap:1.25rem;div{flex:1;}"}),Zfe=G("div",{target:"e1e3gceh0"})({name:"186bnmk",styles:"position:relative;border:0.1rem solid white;padding:1rem 3rem;background:black;text-align:center;gap:1.25rem;font-size:2.3rem;color:white"});function ehe(e){const[t,n]=S.useState(null),r=S.useRef([]),i=S.useRef(0),s=S.useCallback(([o])=>{if(r.current.push(o),r.current.length>35){const d=r.current.sort()[Math.floor(r.current.length/2)]>0;d||i.current>7?n(d):i.current++,r.current.length=0}},[e]);return qw(0,s,t!==!0),S.useEffect(()=>{r.current.length=0,i.current=0,n(null)},[e]),t}function the(e){cp(1,1);const{register:t}=Cr({onBackspace:e.onBack}),{Microphone:n}=iy(!0,"Microphone"),r=ss([ge.playerInputChanged,ge.inputListChanged],()=>{var h;const d=it.getInputs().find(f=>f.source==="Microphone"),c=Ro.getInputList().Microphone.list;return d?((h=c.find(f=>f.id===_c(d)))==null?void 0:h.label)??"":""}),i=d=>{it.getPlayers().forEach(c=>c.changeInput(la.inputName,d.channel,d.deviceId))},s=()=>{if(r===""){const d=n.getDefault();d&&i(d)}};S.useEffect(s,[]),si([ge.inputListChanged,ge.playerRemoved],s);const o=()=>{const d=n.list.findIndex(c=>c.label===r);if(d>-1){const c=n.list[op(n.list,d)];i(c)}},l=ehe(r);return S.useEffect(()=>{e.onSetupComplete(!!r&&!!l)},[r,l]),p.jsxs(p.Fragment,{children:[p.jsxs(sp,{fallback:p.jsx("h2",{children:"Please allow access to the microphone so the default one can be selected."}),children:[!r&&p.jsx("h3",{children:"The default device is being selected."}),r&&p.jsxs(p.Fragment,{children:[p.jsxs(nhe,{children:[p.jsx("h3",{children:"You'll sing using"}),p.jsx("h4",{children:"(click to change)"})]}),p.jsx(Es,{...t("selected-mic",o),label:"Mic",value:r}),p.jsxs(rhe,{children:[l===!0&&p.jsxs(p.Fragment,{children:[p.jsx("h3",{children:"Microphone is audible"}),p.jsx(hb,{children:p.jsx(she,{})})]}),l===!1&&p.jsxs(p.Fragment,{children:[p.jsx("h3",{children:"Microphone is not audible"}),p.jsx(hb,{children:p.jsx(ihe,{})})]}),l===null&&p.jsxs(p.Fragment,{children:[p.jsx("h3",{children:"Make some noise to the microphone"}),p.jsx(hb,{children:p.jsx(ap,{size:"1em"})})]})]}),l===!1&&p.jsx("h4",{children:"Make some noise to the microphone. If that doesn't work, try using another microphone."})]}),p.jsx(Kw,{}),l===!0&&p.jsxs("h4",{children:["Built-in microphones can pick up music from the game. For more accurate scores, try using your"," ",p.jsx("button",{onClick:()=>e.changePreference("remoteMics"),children:"smartphone as a microphone"}),"."]})]}),p.jsx(ut,{...t("back-button",e.onBack),children:"Change Input Type"}),p.jsx(ut,{...t("save-button",e.onSave,void 0,!0,{disabled:!r}),disabled:!r,children:e.closeButtonText})]})}const nhe=G("div",{target:"e19x30ho4"})({name:"1laz9o6",styles:"display:flex;justify-content:space-between;align-items:flex-end"}),rhe=G("div",{target:"e19x30ho3"})({name:"19mh0x6",styles:"display:flex;align-items:center;justify-content:flex-end"}),hb=G("div",{target:"e19x30ho2"})({name:"1wxh51d",styles:"width:4rem;height:3rem;display:flex;align-items:center;justify-content:flex-end"}),ihe=G(tN,{target:"e19x30ho1"})({name:"72zlrs",styles:"&&{width:2em;height:2em;}color:red"}),she=G(Jfe,{target:"e19x30ho0"})({name:"17t2lqr",styles:"&&{width:2em;height:2em;}color:white"});function ohe(e){cp(2);const t=iy(!0,"Microphone"),n=jw();S.useEffect(()=>{e.onSetupComplete(n==="accepted")},[n]),S.useEffect(()=>{it.getPlayers().forEach(s=>{s.input.source!=="Microphone"&&s.changeInput("Microphone",0)})},[]);const{register:r}=Cr({onBackspace:e.onBack}),i=ss([ge.inputListChanged,ge.playerInputChanged,ge.playerRemoved],()=>it.getPlayers());return p.jsxs(p.Fragment,{children:[p.jsxs(sp,{fallback:p.jsx("h2",{children:"Please allow access to the microphone so we can show them."}),children:[i.map((s,o)=>p.jsx(Z4,{inputs:t,player:s,register:r,readonly:o>1,blockSourceChange:!0},s.number)),p.jsx("hr",{})]}),p.jsx(ut,{...r("back-button",e.onBack),children:"Change Input Type"}),p.jsx(ut,{...r("save-button",e.onSave),children:e.closeButtonText})]})}function ahe(e){const{register:t}=Cr({onBackspace:e.onBack});return p.jsxs(p.Fragment,{children:[p.jsx(ut,{...t("singstar-mics",()=>e.changePreference("singstar-mics")),children:"SingStar microphones"}),p.jsx(ut,{...t("different-mics-button",()=>e.changePreference("different-mics")),children:"Multiple different microphones"}),p.jsx("hr",{}),p.jsx(ut,{...t("back-button",e.onBack),children:"Change Input Type"})]})}function lhe(e){var s,o;cp(2);const{register:t}=Cr({onBackspace:e.onBack});eN();const n=ss([ge.inputListChanged,ge.playerInputChanged,ge.playerRemoved],()=>it.getInputs().map(l=>l.source==="Remote Microphone"?l:null).map(l=>l?Ro.getInputForPlayerSelected(l):null)),r=()=>{e.onSave()},i=!!((s=n[0])!=null&&s.label)&&!!((o=n[1])!=null&&o.label);return S.useEffect(()=>{e.onSetupComplete(i)},[i]),p.jsxs(p.Fragment,{children:[p.jsx(Pw,{}),p.jsx("h4",{children:"You can connect multiple phones in advance."}),p.jsx("h4",{children:"You will be able to connect phones later."}),p.jsx(Kw,{}),p.jsx(ut,{...t("back-button",e.onBack),children:"Change Input Type"}),p.jsx(ut,{...t("save-button",r,void 0,!0),children:e.closeButtonText})]})}function che(e){cp(2);const{register:t}=Cr({onBackspace:e.onBack}),{Microphone:n}=iy(!0,"Microphone"),[r,i]=S.useState(!1),s=ss([ge.playerInputChanged,ge.inputListChanged],()=>{const c=it.getInputs(),h=[...new Set(c.map(v=>v.deviceId))].length===1,f=!c.find(v=>v.source!=="Microphone"),m=!c.find(v=>{var A;return((A=Ro.getInputForPlayerSelected(v))==null?void 0:A.preferred)===void 0});return h&&f&&m});S.useEffect(()=>(s&&tr.startMonitoring(),()=>{tr.stopMonitoring()}),[s]);const o=()=>{e.onSave()},[l,d]=S.useState(!1);return si(ge.inputListChanged,c=>{const h=n.list.filter(f=>f.preferred!==void 0);h.length===2&&h[0].deviceId===h[1].deviceId&&h.forEach(f=>{var m;(m=it.getPlayer(f.preferred))==null||m.changeInput(la.inputName,f.channel,f.deviceId)}),c||d(!0)}),S.useEffect(()=>{e.onSetupComplete(s)},[s]),S.useEffect(()=>{if(s)i(!1);else{const c=setTimeout(()=>i(!0),2500);return()=>clearTimeout(c)}},[s]),p.jsxs(p.Fragment,{children:[p.jsxs(sp,{fallback:p.jsx("h2",{children:"Please allow access to the microphone so we can find SingStar ones."}),children:[!s&&p.jsxs(p.Fragment,{children:[p.jsxs("h3",{children:[p.jsx(ap,{size:"0.85em"})," Connect your SingStar microphones."]}),p.jsx("h4",{"data-test":"setup-not-completed",children:"It can take a couple of seconds to detect after you connect them."}),l&&p.jsx("h4",{children:p.jsxs("h4",{"data-test":"list-change-info",children:["Available microphones list has changed, but no SingStar mics were found. Try"," ",p.jsx("button",{onClick:()=>e.changePreference("advanced"),children:"Advanced"})," setup."]})}),r&&p.jsxs(p.Fragment,{children:[!l&&p.jsxs(CM,{"data-test":"advanced-tip",children:["If they don't get detected, try"," ",p.jsx("button",{onClick:()=>e.changePreference("advanced"),children:"Advanced"})," section in the previous menu."]}),$w()&&Q4()&&p.jsxs(CM,{children:[p.jsx("strong",{children:"Chrome"})," is known for not handling SingStar mics well. If you notice any problems, try using an alternative browser (eg. ",p.jsx("strong",{children:"MS Edge"})," or ",p.jsx("strong",{children:"Firefox"}),")"]})]})]}),s&&p.jsxs(p.Fragment,{children:[p.jsxs("h2",{"data-test":"setup-completed",children:[p.jsx("strong",{children:"SingStar"})," microphone connected!"]}),p.jsx(Kw,{names:["Blue","Red"]})]})]}),p.jsx(ut,{...t("back-button",e.onBack),children:"Change Input Type"}),p.jsx(ut,{...t("save-button",o,void 0,!0,{disabled:!s}),"data-test":"save-button",children:e.closeButtonText})]})}const CM=G("h4",{target:"ejfctyg0"})({name:"3v8j4h",styles:"background:darkred;padding:1rem"});function uhe(e){return S.useEffect(()=>{e.onSave()},[]),null}const nN="Previously selected input type",dhe=ot.local.getItem(nN);function Yw({onFinish:e,closeButtonText:t,playerNames:n,onBack:r,skipText:i,smooth:s=!0}){const[o,l]=Tt(XS),[d,c]=S.useState(o==="skip"?null:o),[h,f]=S.useState(!1);S.useEffect(()=>{const b=tr.monitoringStarted();return tr.startMonitoring(),()=>{!b&&tr.stopMonitoring()}},[]);const m=(...b)=>{s?Bh(()=>{jd.flushSync(()=>{c(...b)})}):c(...b)},v=b=>()=>{l(b==="skip"?o??"skip":b),b&&(ot.local.setItem(nN,b),lr.capture("sourcePreferenceSet",{source:b})),e==null||e(b)},A=()=>{Bh(()=>{c(null),f(!1)})};return p.jsxs(p.Fragment,{children:[p.jsx(Wr.Header,{children:h?p.jsxs(p.Fragment,{children:[p.jsx(Dfe,{})," Setup completed!"]}):"How do you want to sing?"}),(d===null||d==="skip")&&p.jsx(zfe,{onPreferenceSelected:m,previouslySelected:dhe,onBack:r,skipText:i}),d==="remoteMics"&&p.jsx(lhe,{onSetupComplete:f,onBack:A,onSave:v("remoteMics"),closeButtonText:t,changePreference:c}),d==="multiple-mics"&&p.jsx(ahe,{onSetupComplete:f,onBack:A,closeButtonText:t,changePreference:c}),d==="singstar-mics"&&p.jsx(che,{onSetupComplete:f,onBack:A,onSave:v("singstar-mics"),closeButtonText:t,changePreference:c}),d==="different-mics"&&p.jsx(ohe,{onSetupComplete:f,onBack:A,onSave:v("singstar-mics"),closeButtonText:t,changePreference:c}),d==="built-in"&&p.jsx(the,{onSetupComplete:f,onBack:A,onSave:v("built-in"),closeButtonText:t,changePreference:c}),d==="advanced"&&p.jsx(Qfe,{onSave:v("advanced"),onSetupComplete:f,onBack:A,closeButtonText:t,changePreference:c}),d==="skip"&&p.jsx(uhe,{onSetupComplete:f,onBack:A,onSave:v("skip"),closeButtonText:t,changePreference:c})]})}function fhe(){const e=$i();return p.jsxs(bl,{children:[p.jsx(os,{children:p.jsx("title",{children:"Select Input | AllKaraoke.Party - Free Online Karaoke Party Game"})}),p.jsx(Yw,{onFinish:()=>e("menu/"),closeButtonText:"Go to main menu"})]})}const hhe=({error:e,resetError:t})=>p.jsxs(bl,{supportedBrowsers:!0,children:[p.jsxs("h1",{children:[p.jsx(Ld,{fontSize:"large"})," An error occurred :("]}),"message"in e?p.jsxs(p.Fragment,{children:[p.jsx("h3",{children:"The game crashed with following error"}),p.jsx(phe,{children:e.message})]}):p.jsx("h3",{children:"The game crashed"}),p.jsxs("h3",{children:["Help fix it by reporting what exactly has happened at"," ",p.jsx("a",{href:"https://github.com/Asvarox/allkaraoke",target:"_blank",rel:"noreferrer",children:"GitHub"})," ","or"," ",p.jsx("a",{href:"https://www.facebook.com/allkaraoke.party",target:"_blank",rel:"noreferrer",children:"Facebook"})]}),p.jsx(ut,{onClick:t,children:"Reset Error"}),p.jsx("h4",{children:"If that doesn't help"}),p.jsx(ut,{onClick:()=>{var n;return global.location.href=(n=global.location)==null?void 0:n.origin},children:"Reload the game"}),p.jsx("h4",{children:"If that doesn't help"}),p.jsx(ut,{onClick:()=>{var n;global.confirm("Are you sure? It will delete all custom songs and scores. Before doing that, try opening the game in an private window or another browser to make sure it will actually help")&&(ot.session.clear(),ot.local.clear(),uh.clear(),global.location.href=(n=global.location)==null?void 0:n.origin)},children:"Clear all data"})]}),phe=G("span",{target:"e10ztnls0"})({name:"1jmtlcm",styles:"color:white;font-family:monospace"});function ghe(){_l(!1);const e=Nd();return S.useEffect(()=>{if(e.data){const t={};(async()=>{for(const n of e.data){if(n.realBpm)continue;const r=[`lookup=song:${encodeURIComponent(n.title)}+artist:${encodeURIComponent(n.artist)}`,"type=both","api_key=undefined"].join("&"),s=await(await fetch(`https://api.getsongbpm.com/search/?${r}`)).json();t[n.id]=Array.isArray(s.search)&&s.search[0]||null}console.log(t)})()}},[e.data]),p.jsx(p.Fragment,{children:"Copy resulting object to `scripts/scraped-bpm-data.json` file and run fillMetadata script"})}function mhe(){const e=$i(),t=()=>e("menu/");return p.jsxs(p.Fragment,{children:[p.jsx(os,{children:p.jsx("title",{children:"Select Languages | AllKaraoke.Party - Free Online Karaoke Party Game"})}),p.jsx(Hw,{children:p.jsx(x4,{onClose:t,closeText:"Return to Main Menu"})})]})}function rN(){const[e]=Tt(ZS);S.useEffect(()=>{try{e&&document.body.requestFullscreen().catch(console.info)}catch{}},[])}let pb=0;function iN(){S.useEffect(()=>(document.body.classList.add("blockOverflow"),document.documentElement.classList.add("blockOverflow"),pb++,()=>{pb--,pb===0&&(document.body.classList.remove("blockOverflow"),document.documentElement.classList.remove("blockOverflow"))}),[])}const vhe=zt(p.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2M7.5 18c-.83 0-1.5-.67-1.5-1.5S6.67 15 7.5 15s1.5.67 1.5 1.5S8.33 18 7.5 18m0-9C6.67 9 6 8.33 6 7.5S6.67 6 7.5 6 9 6.67 9 7.5 8.33 9 7.5 9m4.5 4.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m4.5 4.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m0-9c-.83 0-1.5-.67-1.5-1.5S15.67 6 16.5 6s1.5.67 1.5 1.5S17.33 9 16.5 9"}),"Casino");function yhe({setFilters:e,filters:t,keyboardControl:n,visible:r,setVisible:i}){const s=S.useRef(null),[o,l]=S.useState(!1),d=m=>{e(v=>({...v,search:m}))};mi("down",()=>{var m;(m=s.current)==null||m.blur()},{enabled:o,enableOnTags:["INPUT"]});const h=m=>{m.stopPropagation(),m.preventDefault(),d(m.key)};mi(Z_,m=>{h(m),i(!0)},{enabled:!t.search&&n});const f=S.useCallback(m=>{n&&d(m)},[n]);return si(ge.remoteSongSearch,f),mi(Z_,m=>{var v;h(m),(v=s.current)==null||v.focus()},{enabled:!o&&n},[t.search]),mi("Backspace",m=>{var v;(v=s.current)==null||v.focus()},{enabled:!o&&n},[t.search]),S.useEffect(()=>{o||i(!!t.search)},[o,t.search,i]),!t.search&&!r?null:p.jsx(Ahe,{"data-test":"song-list-search",children:p.jsx(bhe,{large:!0,children:p.jsx("form",{"data-test":"filters-search-form",onSubmit:m=>{var v;m.preventDefault(),(v=s.current)==null||v.blur()},children:p.jsx($c,{onFocus:()=>l(!0),onBlur:()=>l(!1),onKeyDown:m=>{var v;m.key==="Backspace"&&((v=t.search)==null?void 0:v.length)===0&&i(!1)},focused:o,autoFocus:!0,label:"Search",value:t.search??"",onChange:d,ref:s,"data-test":"filters-search"})})})})}const Ahe=G("div",{target:"ektgxsz1"})({name:"t46wvs",styles:"background:rgba(0, 0, 0, 0.7);padding:2rem;font-size:3rem;box-sizing:border-box;display:flex;flex-direction:row;gap:2rem;position:fixed;z-index:200;top:4.5rem;left:30rem;right:30rem"}),bhe=G("div",{target:"ektgxsz0"})("flex:",e=>e.large?1.5:1,";");function _he({onRandom:e,setFilters:t,filters:n,keyboardControl:r}){const[i,s]=S.useState(!1),o=()=>{t(l=>({...l,search:""}))};return p.jsxs(p.Fragment,{children:[p.jsxs(She,{children:[p.jsx(yd,{title:"Search",place:"left",children:p.jsx(kM,{onClick:()=>i?o():s(!0),"data-test":"search-song-button",children:p.jsx(Ow,{})})}),p.jsx(yd,{title:"Pick random",place:"left",children:p.jsx(kM,{onClick:e,"data-test":"random-song-button",children:p.jsx(vhe,{})})})]}),p.jsx(yhe,{setFilters:t,filters:n,visible:i,setVisible:s,keyboardControl:r})]})}const kM=G(lo,{target:"eie1eis1"})("box-shadow:inset 0 0 2px 2px ",Ve.colors.text.active,";background:black;width:7.5rem;height:7.5rem;border-radius:50%;display:flex;align-items:center;justify-content:center;svg{width:4.5rem;height:4.5rem;}"),She=G("div",{target:"eie1eis0"})({name:"1x0sh4s",styles:"pointer-events:none;position:fixed;display:flex;flex-direction:column;align-items:center;justify-content:center;bottom:2.5rem;right:2.5rem;z-index:100;gap:2rem"});function sN({videoId:e,...t}){return p.jsx(Che,{src:`https://img.youtube.com/vi/${e}/default.jpg`,alt:`Thumbnail image for YouTube video ${e}`,...t})}function xhe({videoId:e,...t}){const n=NX(e)??e,[r,i]=S.useState(!0);S.useLayoutEffect(()=>{i(o=>!o)},[e]);const[s]=Tt(xs);return s==="low"?null:p.jsxs(whe,{...t,children:[p.jsx(TM,{videoId:r?e:n,visible:r}),p.jsx(TM,{videoId:r?n:e,visible:!r}),p.jsx(Ehe,{videoId:n})]})}const whe=G("div",{target:"e1lv5ws3"})({name:"k44s62",styles:"position:relative;overflow:hidden;background:black"}),Ehe=G(sN,{target:"e1lv5ws2"})({name:"6dhm9o",styles:"visibility:hidden"}),TM=G(sN,{target:"e1lv5ws1"})("position:absolute;transition:opacity 300ms;opacity:",e=>e.visible?1:0,";"),Che=G("img",{target:"e1lv5ws0"})({name:"4uwt2b",styles:"width:100%;height:100%;object-fit:cover"});function khe(e,t,n="mousedown",r={}){jX(n,i=>{const s=i.target;if(!s||!s.isConnected)return;(Array.isArray(e)?e.filter(l=>!!l.current).every(l=>l.current&&!l.current.contains(s)):e.current&&!e.current.contains(s))&&t(i)},void 0,r)}function The({active:e,closePlaylist:t,playlists:n,selectedPlaylist:r,setSelectedPlaylist:i}){const{register:s,focused:o,focusElement:l}=Cr({enabled:e,additionalHelp:{vertical:void 0,"horizontal-vertical":null}}),d=S.useRef(null);return khe(d,()=>{t()}),Dc({left:()=>t("left"),right:()=>t("right")},e),S.useEffect(()=>{l(`playlist-${r}`)},[r]),S.useEffect(()=>{if(o){const c=n.find(h=>`playlist-${h.name}`===o);c&&i(c.name)}},[o,n]),p.jsx(Ihe,{"data-test":"song-list-playlists",active:e,ref:d,children:n.map(({Wrapper:c,...h})=>{const f=p.jsx(Rhe,{"data-selected":`playlist-${h.name}`===o,"data-active":e,...s(`playlist-${h.name}`,()=>l(`playlist-${h.name}`),void 0,h.name===r),children:h.display??h.name},h.name);return c?p.jsx(c,{active:e,focused:`playlist-${h.name}`===o,children:f},h.name):f})})}const Ihe=G("div",{target:"emspgv91"})("background:rgba(0, 0, 0, ",e=>e.active?.75:.5,");width:100vh;height:var(--song-sidebar-weight);transform-origin:top right;transform:rotate(-90deg);position:absolute;z-index:200;left:-100vh;top:0;box-sizing:border-box;display:flex;flex-direction:row-reverse;gap:0;h2{",xt,";margin:0;}"),Rhe=G(lo,{target:"emspgv90"})("font-size:2.3rem;justify-self:stretch;flex-grow:1;&[data-focused='false'][data-active='true']{background-color:transparent;}&[data-selected='true']{",xX,";}&[data-selected='false'][data-active='false']{opacity:0.75;}padding:1.5rem 1rem;"),Qw=e=>{const[t,n]=S.useState(null),r=ud(e),i=async()=>{n(await YO(e))};return S.useEffect(()=>{i()},[r]),si(ge.songStatStored,i),t},Phe=e=>async(t,n,r,i)=>{const s=ud(e),o=await YO(e),l=o.scores.map(c=>{if(c.setup.id!==t)return c;const h=c.scores.map(f=>f.name!==r||f.score!==n?f:{name:i.trim(),score:n});return{...c,scores:h}}),d={...o,scores:l};await QO(e,d),ge.songScoreUpdated.dispatch(s,d,i.trim())},Mhe=JSON.parse(`{
  "af": [
    "Persian Dari",
    "Pashto"
  ],
  "al": [
    "Albanian"
  ],
  "dz": [
    "Arabic",
    "Berber"
  ],
  "ad": [
    "Catalan"
  ],
  "ao": [
    "Portuguese"
  ],
  "ag": [
    "English"
  ],
  "ar": [
    "Spanish"
  ],
  "am": [
    "Armenian"
  ],
  "au": [
    "English"
  ],
  "at": [
    "German"
  ],
  "az": [
    "Azerbaijani"
  ],
  "bs": [
    "English"
  ],
  "bh": [
    "Arabic"
  ],
  "bd": [
    "Bengali"
  ],
  "bb": [
    "English"
  ],
  "by": [
    "Belarusian",
    "Russian"
  ],
  "be": [
    "Dutch",
    "French",
    "German"
  ],
  "bz": [
    "English"
  ],
  "dy": [
    "French"
  ],
  "bt": [
    "Dzongkha"
  ],
  "bo": [
    "Spanish",
    "Aymara",
    "Araona",
    "Baure",
    "Bsiro Chiquitano",
    "Canichana",
    "Cavinea",
    "Cayubaba",
    "Chcobo",
    "Chimn",
    "Ese Ejja",
    "Guaran",
    "Guarasuwe",
    "Guarayu",
    "Itonama",
    "Leco",
    "Machajuyai",
    "Machineri",
    "Maropa",
    "Mojeo",
    "Mojeo",
    "Mor",
    "Mosetn",
    "Movima",
    "Pacawara",
    "Puquina",
    "Quechua",
    "Sirion",
    "Tacana",
    "Tapiet",
    "Toromona",
    "Uru-Chipaya",
    "Weenhayek",
    "Yaminawa",
    "Yuki",
    "Yuracar",
    "Zamuco"
  ],
  "ba": [
    "Bosnian",
      "Croatian",
      "Serbian"
  ],
  "bw": [
    "English"
  ],
  "br": [
    "Portuguese"
  ],
  "bn": [
    "Malay"
  ],
  "bg": [
    "Bulgarian"
  ],
  "hv": [
    "French"
  ],
  "bi": [
    "French",
    "Kirundi",
    "English"
  ],
  "kh": [
    "Khmer"
  ],
  "cm": [
    "English",
    "French"
  ],
  "ca": [
    "English",
    "French"
  ],
  "cv": [
    "Portuguese"
  ],
  "cf": [
    "French",
    "Sango"
  ],
  "td": [
    "Arabic",
    "French"
  ],
  "cl": [
    "Spanish"
  ],
  "cn": [
    "Chinese"
  ],
  "cx": [
    "English",
    "Chinese",
    "Malay"
  ],
  "cc": [
    "English",
    "Cocos Malay"
  ],
  "co": [
    "Spanish"
  ],
  "km": [
    "Arabic",
    "Comorian",
    "French"
  ],
  "cd": [
    "French"
  ],
  "cg": [
    "French"
  ],
  "ck": [
    "English",
    "Cook Islands Mori"
  ],
  "cr": [
    "Spanish"
  ],
  "hr": [
    "Croatian"
  ],
  "cu": [
    "Spanish"
  ],
  "cy": [
    "Turkish"
  ],
  "cz": [
    "Czech",
    "Slovak"
  ],
  "dk": [
    "Danish"
  ],
  "dj": [
    "Arabic",
    "French"
  ],
  "dm": [
    "English"
  ],
  "do": [
    "Spanish"
  ],
  "tl": [
    "Portuguese",
    "Tetum"
  ],
  "ec": [
    "Spanish",
    "Quechua"
  ],
  "eg": [
    "Arabic"
  ],
  "sv": [
    "Spanish"
  ],
  "gq": [
    "French",
    "Portuguese",
    "Spanish"
  ],
  "er": [
    "Tigrinya"
  ],
  "ee": [
    "Estonian"
  ],
  "sz": [
    "English",
    "Swazi"
  ],
  "et": [
    "Afar",
    "Amharic",
    "Oromo",
    "Somali",
    "Tigrinya"
  ],
  "fj": [
    "English",
    "Fijian",
    "Fiji Hindi"
  ],
  "fi": [
    "Finnish",
    "Swedish"
  ],
  "fx": [
    "French"
  ],
  "ga": [
    "French"
  ],
  "gm": [
    "English"
  ],
  "ge": [
    "Ossetian",
    "Russian"
  ],
  "de": [
    "German"
  ],
  "gh": [
    "English"
  ],
  "gr": [
    "Greek"
  ],
  "gd": [
    "English"
  ],
  "gt": [
    "Spanish"
  ],
  "gn": [
    "French"
  ],
  "gw": [
    "Portuguese"
  ],
  "gy": [
    "English"
  ],
  "ht": [
    "French",
    "Creole"
  ],
  "hn": [
    "Spanish"
  ],
  "hu": [
    "Hungarian"
  ],
  "is": [
    "Icelandic"
  ],
  "in": [
    "Hindi",
    "English"
  ],
  "id": [
    "Indonesian"
  ],
  "ir": [
    "Persian"
  ],
  "iq": [
    "Arabic",
    "Kurdish"
  ],
  "ie": [
    "Irish",
    "English"
  ],
  "il": [
    "Hebrew"
  ],
  "it": [
    "Italian"
  ],
  "ci": [
    "French"
  ],
  "jm": [
    "English"
  ],
  "jp": [
    "Japanese"
  ],
  "jo": [
    "Arabic"
  ],
  "kz": [
    "Kazakh",
    "Russian"
  ],
  "ke": [
    "English",
    "Swahili"
  ],
  "ki": [
    "English",
    "Gilbertese"
  ],
  "kp": [
    "Korean"
  ],
  "kr": [
    "Korean"
  ],
  "xk": [
    "Albanian",
    "Serbian"
  ],
  "kw": [
    "Arabic"
  ],
  "kg": [
    "Kyrgyz",
    "Russian"
  ],
  "la": [
    "Lao"
  ],
  "lv": [
    "Latvian"
  ],
  "lb": [
    "Arabic"
  ],
  "ls": [
    "Sotho",
    "English"
  ],
  "lr": [
    "English"
  ],
  "ly": [
    "Arabic"
  ],
  "li": [
    "German"
  ],
  "lt": [
    "Lithuanian"
  ],
  "lu": [
    "French",
    "German",
    "Luxembourgish"
  ],
  "mg": [
    "French",
    "Malagasy"
  ],
  "mw": [
    "English",
    "Chichewa"
  ],
  "my": [
    "Malay"
  ],
  "mv": [
    "Dhivehi"
  ],
  "ml": [
    "Bambara",
    "Bobo",
    "Bozo",
    "Dogon",
    "Fula",
    "Hassaniya",
    "Kassonke",
    "Maninke",
    "Minyanka",
    "Senufo",
    "Songhay",
    "Soninke",
    "Tamasheq"
  ],
  "mt": [
    "Italian"
  ],
  "mh": [
    "English",
    "Marshallese"
  ],
  "mr": [
    "Arabic"
  ],
  "mu": [
    "English",
    "Morisien"
  ],
  "mx": [
    "Spanish"
  ],
  "fm": [
    "English"
  ],
  "md": [
    "Moldovan",
    "Russian",
    "Ukrainian"
  ],
  "mc": [
    "French"
  ],
  "mn": [
    "Mongolian"
  ],
  "me": [
    "Montenegrin"
  ],
  "ma": [
    "Arabic",
    "Berber"
  ],
  "mz": [
    "Portuguese"
  ],
  "mm": [
    "Burmese"
  ],
  "na": [
    "English"
  ],
  "nr": [
    "English",
    "Nauruan"
  ],
  "np": [
    "Nepali"
  ],
  "nl": [
    "Dutch"
  ],
  "nz": [
    "English",
    "Maori"
  ],
  "ni": [
    "Spanish"
  ],
  "ne": [
    "French"
  ],
  "ng": [
    "English"
  ],
  "nu": [
    "English",
    "Niuean"
  ],
  "nf": [
    "English",
    "Norfuk"
  ],
  "mk": [
    "Macedonian",
    "Albanian"
  ],
  "no": [
    "Norwegian",
    "Sami"
  ],
  "om": [
    "Arabic"
  ],
  "pk": [
    "Urdu",
    "English"
  ],
  "pw": [
    "English",
    "Palauan"
  ],
  "ps": [
    "Arabic"
  ],
  "pa": [
    "Spanish"
  ],
  "pg": [
    "English",
    "Hiri Motu",
    "Tok Pisin"
  ],
  "py": [
    "Spanish",
    "Guaran"
  ],
  "pe": [
    "Spanish",
    "Quechua",
    "Aymara",
    "Ashninka"
  ],
  "ph": [
    "Filipino",
    "English"
  ],
  "pl": [
    "Polish"
  ],
  "pt": [
    "Portuguese"
  ],
  "qa": [
    "Arabic"
  ],
  "ro": [
    "Romanian"
  ],
  "su": [
    "Russian"
  ],
  "rw": [
    "English",
    "French",
    "Kinyarwanda",
    "Swahili"
  ],
  "eh": [
    "Arabic"
  ],
  "kn": [
    "English"
  ],
  "lc": [
    "English"
  ],
  "vc": [
    "English"
  ],
  "ws": [
    "English",
    "Samoan"
  ],
  "sm": [
    "Italian"
  ],
  "st": [
    "Portuguese"
  ],
  "sa": [
    "Arabic"
  ],
  "sn": [
    "French"
  ],
  "yu": [
    "Serbian"
  ],
  "sc": [
    "English",
    "French",
    "Creole"
  ],
  "sl": [
    "English"
  ],
  "sg": [
    "English",
    "Malay",
    "Chinese",
    "Tamil"
  ],
  "sk": [
    "Slovak"
  ],
  "si": [
    "Slovene"
  ],
  "sb": [
    "English"
  ],
  "so": [
    "Arabic",
    "English",
    "Somali"
  ],
  "za": [
    "Afrikaans",
    "English",
    "Ndebele",
    "Sotho",
    "Swazi",
    "Tsonga",
    "Tswana",
    "Venda",
    "Xhosa",
    "Zulu"
  ],
  "ss": [
    "English"
  ],
  "es": [
    "Spanish"
  ],
  "lk": [
    "Sinhala",
    "Tamil"
  ],
  "sd": [
    "Arabic",
    "English"
  ],
  "sr": [
    "Dutch"
  ],
  "se": [
    "Swedish"
  ],
  "ch": [
    "French",
    "German",
    "Italian",
    "Romansh"
  ],
  "sy": [
    "Arabic"
  ],
  "tw": [
    "Chinese"
  ],
  "tj": [
    "Tajik"
  ],
  "tz": [
    "Swahili",
    "English"
  ],
  "th": [
    "Thai"
  ],
  "tg": [
    "French"
  ],
  "tk": [
    "English",
    "Tokelauan"
  ],
  "to": [
    "English",
    "Tongan"
  ],
  "tt": [
    "English"
  ],
  "tn": [
    "Arabic"
  ],
  "tr": [
    "Turkish"
  ],
  "tm": [
    "Turkmen"
  ],
  "tv": [
    "Tuvaluan",
    "English"
  ],
  "ug": [
    "English",
    "Swahili"
  ],
  "ua": [
    "Ukrainian"
  ],
  "ae": [
    "Arabic"
  ],
  "uk": [
    "English"
  ],
  "us": [
    "English"
  ],
  "uy": [
    "Spanish"
  ],
  "uz": [
    "Uzbek"
  ],
  "vu": [
    "English",
    "French",
    "Bislama"
  ],
  "va": [
    "Italian"
  ],
  "ve": [
    "Spanish"
  ],
  "vn": [
    "Vietnamese"
  ],
  "ye": [
    "Arabic"
  ],
  "zm": [
    "English"
  ],
  "zw": [
    "Chewa",
    "Chibarwe",
    "English",
    "Kalanga",
    "Khoisan",
    "Nambya",
    "Ndau",
    "Ndebele",
    "Shangani",
    "Shona",
    "Sotho",
    "Tonga",
    "Tswana",
    "Venda",
    "Xhosa"
  ]
}`),jhe=["US","GB"];function Ohe({song:e,forceFlag:t,...n}){const r=e.language[0],i=S.useMemo(()=>{var s;return e.artistOrigin?((s=Mhe[e.artistOrigin.toLowerCase()])==null?void 0:s.includes(r))??t:!1},[e.artistOrigin,r,t]);return p.jsx(p.Fragment,{children:t&&e.artistOrigin?p.jsx(fc,{isocode:e.artistOrigin,...n}):i&&!jhe.includes(e.artistOrigin)?p.jsx(fc,{isocode:e.artistOrigin,...n}):e.language[0]!=="English"?p.jsx(fc,{language:e.language,...n}):null})}const Vhe=zt(p.jsx("path",{d:"M7.25 12.5 4.75 9H3.5v6h1.25v-3.5L7.3 15h1.2V9H7.25zM9.5 15h4v-1.25H11v-1.11h2.5v-1.26H11v-1.12h2.5V9h-4zm9.75-6v4.5h-1.12V9.99h-1.25v3.52h-1.13V9H14.5v5c0 .55.45 1 1 1h4c.55 0 1-.45 1-1V9z"}),"FiberNewOutlined"),Lhe=zt(p.jsx("path",{d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star"),IS=e=>{var t,n,r;return((r=(n=(t=e.edition)==null?void 0:t.split(",").find(i=>i.toLowerCase().startsWith("esc ")))==null?void 0:n.replace("Esc ",""))==null?void 0:r.trim())??void 0};function Nhe(e){return!!IS(e)}const oN="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20width='125.33'%20height='131.46'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:cc='http://creativecommons.org/ns%23'%20xmlns:dc='http://purl.org/dc/elements/1.1/'%20xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23'%3e%3cpath%20stroke='black'%20fill='white'%20d='m12.726%2058.556c0.31803-28.513%2015.157-37.437%2023.237-37.437%2011.285%200%2015.946%208.6151%2016.707%2012.429%200.76116%203.8111%205.0324%206.8595%206.4047%200.60798%201.3734-6.2515%2014.649-25.315%2030.966-25.315%2014.943%200%2020.119%2015.41%2019.671%2028.518-1.2228%2035.683-47.19%2064.158-53.239%2082.143-5.3875-10.891-44.126-26.634-43.746-60.946zm82.652-58.556c-13.42%200-29.29%209.9111-38.896%2026.382-2.592-5.9483-11.827-12.43-22.805-12.43-8.8462%200-33.676%2011.056-33.676%2046.74%200%2046.052%2046.593%2055.508%2056.011%2069.825%200.64721%200.98433%202.7319%201.728%203.5276-0.62388%207.5157-22.18%2065.791-47.242%2065.791-92.379-5.3e-4%20-25.314-16.536-37.513-29.955-37.513z'%20stroke-width='.53006'/%3e%3c/svg%3e",Bhe=e=>p.jsxs(Fhe,{children:[e.song.tracksCount>1&&p.jsxs(zhe,{"data-test":"multitrack-indicator",children:[p.jsx(Km,{})," Duet"]}),p.jsx(Dhe,{song:e.song,isPopular:e.isPopular,focused:!!e.video})]}),Dhe=({song:e,isPopular:t,focused:n})=>{var d,c;const r=S.useMemo(()=>K0.recentlyUpdated([e]).length>0,[e]),i=Nhe(e),s=Qw(e),o=((c=(d=s==null?void 0:s.scores)==null?void 0:d.at(-1))==null?void 0:c.date)??!1,l=o&&eo(o).isAfter(eo().subtract(1,"days"));return s!=null&&s.plays?p.jsx(lN,{"data-test":"song-stat-indicator",children:l?"Played today":p.jsx(p.Fragment,{children:n?p.jsxs(p.Fragment,{children:["Played ",s.plays," time",s.plays>1&&"s"]}):s.plays})}):i?p.jsxs(mb,{white:!0,children:[p.jsx(gb,{children:n?`Eurovision ${IS(e)}`:IS(e)}),p.jsx($he,{src:oN,alt:e.edition})]}):r?p.jsx(mb,{white:!0,children:n?p.jsx(gb,{children:"Added recently"}):p.jsx(Vhe,{})}):t&&e.language.includes("English")?p.jsx(p.Fragment,{children:p.jsxs(mb,{children:[n&&p.jsx(gb,{children:"Popular"}),p.jsx(Lhe,{})]})}):null},gb=G("div",{target:"enamf7r6"})({name:"eh2bdr",styles:"padding:0 0.5rem;line-height:0;margin-top:0.2rem;&+svg{margin-left:-0.25rem;}"}),Fhe=G("div",{target:"enamf7r5"})({name:"67oilw",styles:"position:absolute;top:0.5rem;left:0;padding:0 0.5rem;box-sizing:border-box;display:flex;align-items:center;justify-content:flex-end;gap:0.5rem;width:100%"}),aN=G("div",{target:"enamf7r4"})({name:"1utw6sa",styles:"height:2.75rem;min-width:2.75rem;box-sizing:border-box;color:white;font-size:1.4rem;display:flex;align-items:center;justify-content:center;text-transform:uppercase;background:rgba(0, 0, 0, 0.75);border-radius:0.5rem"}),mb=G(aN,{target:"enamf7r3"})("overflow:hidden;display:flex;align-items:center;justify-content:center;svg,img{fill:",e=>e.white?"white":Ve.colors.text.active,";width:2.5rem;height:2.5rem;}"),$he=G("img",{target:"enamf7r2"})({name:"1pr315k",styles:"padding:0.35rem;margin:0 0.15rem 0 -0.35rem;box-sizing:border-box"}),lN=G(aN,{target:"enamf7r1"})({name:"2ycp6t",styles:"padding:0 1rem"}),zhe=G(lN,{target:"enamf7r0"})({name:"1k65tge",styles:"margin-right:auto;svg{width:1.75rem;height:1.75rem;}"}),cN=({song:e,focused:t,video:n,children:r,index:i,groupLetter:s,handleClick:o,isPopular:l,background:d=!0,forceFlag:c=!1,...h})=>{const f=h["data-expanded"]??!1,m=S.useCallback(()=>o?o(i,s):void 0,[o,i,s]),[v]=Tt(xs);return p.jsxs(Ghe,{...h,onClick:o?m:void 0,children:[d&&p.jsx(qhe,{style:{backgroundImage:`url('https://i3.ytimg.com/vi/${e.video}/hqdefault.jpg')`},"data-focused":f?!1:t,"data-expanded":h["data-expanded"],"data-graphic-setting":v}),p.jsxs(Hhe,{"data-expanded":f,children:[!f&&p.jsx(Bhe,{song:e,isPopular:l,video:n}),p.jsx(Jw,{"data-expanded":f,children:e.artist}),p.jsx(sy,{"data-expanded":f,children:e.title}),p.jsxs(uN,{"data-expanded":f,children:[f&&p.jsxs(p.Fragment,{children:[e.author&&p.jsxs(fN,{expanded:f,children:["by",e.authorUrl?p.jsx("a",{href:e.authorUrl,target:"_blank",rel:"noreferrer",children:e.author}):e.author]}),p.jsx(Whe,{song:e})]}),!f&&p.jsx(Uhe,{song:e,forceFlag:c})]})]}),r,n]})},Uhe=G(Ohe,{target:"e1ornw2x8"})({name:"1152n88",styles:"height:2.75rem;object-fit:cover;border-top-right-radius:1rem;border-bottom-left-radius:1rem;position:absolute;z-index:-1;left:0rem;bottom:0rem;opacity:0.95"}),uN=G("div",{target:"e1ornw2x7"})({name:"1dgv8bf",styles:"display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-start"}),Hhe=G("div",{target:"e1ornw2x6"})({name:"cwmgde",styles:"width:100%;height:100%;display:flex;align-items:flex-end;justify-content:flex-end;z-index:1;box-sizing:border-box;flex-direction:column;&[data-expanded='true']{align-items:flex-start;justify-content:flex-start;}"}),Ghe=G("div",{target:"e1ornw2x5"})({name:"1s4n252",styles:"font-size:4.5rem;display:flex;align-items:flex-end;justify-content:flex-end;flex-direction:column;box-sizing:border-box;position:relative;padding:0.5rem;border:0.1rem black solid;border-radius:1rem"}),qhe=G("div",{target:"e1ornw2x4"})({name:"10xrxr9",styles:"background-color:#2b2b2b;border-radius:1rem;&[data-expanded='true']{border-radius:0;}position:absolute;z-index:-1;inset:0;&[data-graphic-setting='high']{transition:300ms;&[data-focused='true']{background-size:100%;opacity:1;}&[data-focused='false']{background-size:110%;filter:grayscale(90%);opacity:0.8;}&[data-expanded='true']{filter:blur(10px);}}&[data-graphic-setting='low']{background-size:100%;opacity:0.6;&[data-focused='true']{opacity:1;}}background-position:center center"}),dN=G("span",{target:"e1ornw2x3"})("background:rgba(0, 0, 0, 0.7);width:auto;display:inline-block;padding:0.5rem;",xt,";text-align:right;font-size:2.7rem;&[data-expanded='true']{font-size:6rem;}"),Jw=G(dN,{target:"e1ornw2x2"})("color:",Ve.colors.text.active,";"),sy=G(dN,{target:"e1ornw2x1"})("margin-top:",e=>e.expanded?"1.5rem":"0.5rem",";color:white;"),fN=G(sy,{target:"e1ornw2x0"})({name:"5twmqz",styles:"font-size:3rem;margin-top:3rem"}),Whe=({song:e})=>{const t=Qw(e);return p.jsx(fN,{children:t!=null&&t.plays?`Played ${t.plays} time${t.plays>1?"s":""}`:"Never played yet"})};function Khe({groupedSongList:e,onScrollToGroup:t,container:n}){const[r,i]=S.useState([]);return S.useEffect(()=>{const s=new IntersectionObserver(l=>{l.forEach(d=>{const c=d.target.getAttribute("data-group-name");d.isIntersecting?i(h=>[...h,c]):i(h=>h.filter(f=>f!==c))})}),o=new MutationObserver(()=>{const l=document.querySelectorAll("[data-group-name]");s.disconnect(),i([]),l.forEach(d=>{s.observe(d)})});if(n)return o.observe(n,{childList:!0,subtree:!0}),()=>{o.disconnect(),i([]),s.disconnect()}},[e,n]),p.jsx(p.Fragment,{children:p.jsx(Yhe,{children:e.map(s=>{const o=r.includes(s.name);return p.jsx(Qhe,{onClick:()=>t(s),"data-active":o,"data-test":`group-navigation-${s.name}`,children:s.displayShort??s.name},s.name)})})})}const Yhe=G("div",{target:"e131hflw1"})({name:"191ly3l",styles:"position:fixed;display:flex;flex-direction:row;align-items:center;justify-content:flex-start;top:0;left:var(--song-sidebar-weight);padding:1rem 0 1.5rem 2rem;width:100%;z-index:100;gap:1rem;background:rgba(0, 0, 0, 0.75)"}),Qhe=G(lo,{target:"e131hflw0"})("border:none;cursor:pointer;",xt,";display:inline-flex;align-items:center;justify-content:center;height:3.3rem;padding:0.5rem 1.25rem;font-size:2.3rem;z-index:1;color:",Ve.colors.text.default,";&[data-active='true']{background:",Ve.colors.text.active,";}&[data-active='false']{background:rgba(0, 0, 0, 0.7);}");var Jhe=S.createContext({client:lr}),Xhe=function(){var e=S.useContext(Jhe).client;return e};function Zhe(e){var t=Xhe(),n=S.useState(),r=n[0],i=n[1];return S.useEffect(function(){return t.onFeatureFlags(function(){i(t.getFeatureFlag(e))})},[t,e]),r}const IM={[yi.DUEL]:"Duel",[yi.PASS_THE_MIC]:"Pass The Mic",[yi.CO_OP]:"Cooperation"},vb=["Hard","Medium","Easy"],epe=Al("song_settings-game_mode-v3"),tpe=Al("song_settings-tolerance-v2");function npe({songPreview:e,onNextStep:t,keyboardControl:n,onExitKeyboardControl:r}){const[i,s]=epe(null),o=i??(e.tracksCount>1?yi.CO_OP:yi.DUEL),[l,d]=tpe(1),c=()=>{const v={id:k0(),players:[],mode:o,tolerance:l+1};t(v)},h=()=>{s(dc(Object.values(yi),o))},f=()=>d(v=>op(vb,v,-1)),{register:m}=Cr({enabled:n,onBackspace:r,additionalHelp:{remote:["select-song"]}});return p.jsxs(p.Fragment,{children:[p.jsx(RM,{...m("difficulty-setting",f,"Change difficulty"),label:"Difficulty",value:vb[l],"data-test-value":vb[l]}),p.jsx(RM,{...m("game-mode-setting",h,"Change mode"),label:"Mode",value:IM[o],"data-test-value":IM[o]}),p.jsxs(ipe,{children:[o===yi.DUEL&&"Face off against each other - person that earns more points wins.",o===yi.CO_OP&&"Join forces and sing together - your points will be added up to a single pool.",o===yi.PASS_THE_MIC&&p.jsxs(p.Fragment,{children:["For more than 2 players - split into groups and pass the microphone within the group when prompted with"," ",p.jsx(Lw,{})," symbol."]})]}),p.jsx(rpe,{...m("next-step-button",c,void 0,!0),children:"Next "})]})}const rpe=G(lo,{target:"ews4mmz2"})({name:"sr8dp2",styles:"padding:0.5rem 9rem;font-size:4.3rem;width:50rem"}),ipe=G("h3",{target:"ews4mmz1"})({name:"rdh6te",styles:"max-width:50rem;margin:-1rem 0 1rem!important;padding:1.5rem;background:rgba(0, 0, 0, 0.7);box-sizing:border-box"}),RM=G(Es,{target:"ews4mmz0"})({name:"1tcj19k",styles:"font-size:4.3rem;padding:1rem;min-width:50rem;box-sizing:border-box"});function spe(){const t=ss(ge.playerInputChanged,()=>it.getInputs()).some(o=>o.source==="Microphone"),n=S.useRef([]),r=S.useCallback(o=>{n.current.push(o)},[]);Ufe(0,50,r);const[i,s]=S.useState(!1);return S.useEffect(()=>{const o=setInterval(()=>{const l=n.current.filter(([,m])=>m===0),d=n.current.filter(([,m])=>m>0),c=l.reduce((m,[v])=>m+v,0)/(l.length+1),h=d.reduce((m,[v])=>m+v,0)/(d.length+1),f=d.length>l.length*.1&&h>.01&&c>.01&&h-c<c/2;s(f),n.current.length=0},i?5e3:2500);return()=>clearInterval(o)},[i]),p.jsxs(ope,{visible:i,children:[p.jsxs("h2",{children:[p.jsx("strong",{children:p.jsx(Ld,{})})," ","Noise detected"]}),p.jsx("hr",{}),p.jsxs("h4",{children:["This might make singing inaccurate. Make sure your microphone doesn't pick up the music."," ",t&&p.jsxs(p.Fragment,{children:["Alternatively, use your ",p.jsx("strong",{children:"smartphone as a microphone"})," instead."]})]})]})}const ope=G("div",{target:"e1liv9270"})("opacity:",e=>e.visible?1:0,";transition:300ms;background:rgba(0, 0, 0, 0.75);padding:1rem;max-width:50rem;position:relative;top:-1rem;left:-0.5rem;"),hN=(e,t=333,n)=>{const[r,i]=S.useState("ok");return S.useEffect(()=>{const s=setInterval(()=>{i(tr.getInputStatus(e))},t);return()=>{clearInterval(s)}},[e,t,n]),r},pN=e=>{const[t,n]=S.useState(null);return S.useEffect(()=>{const r=setInterval(()=>{const i=Mt.getRemoteMicById(e??"");n(i?i.getLatency():null)},1e3);return()=>{clearInterval(r)}},[e]),t};function gN({playerNumber:e,...t}){var r,i;const n=pN((i=(r=it.getPlayer(e))==null?void 0:r.input)==null?void 0:i.deviceId);return p.jsx(p.Fragment,{children:n!==null?p.jsxs(ape,{...t,children:[n,"ms"]}):""})}const ape=G("span",{target:"e10sf0140"})({name:"1wwatg0",styles:"position:absolute;right:4rem;bottom:0.5rem;font-size:1.75rem"});function mN({status:e,tooltipPosition:t="end",...n}){return p.jsxs(lpe,{...n,children:[e==="ok"?p.jsx(cpe,{"data-test":"status-ok"}):e==="unavailable"?p.jsx(upe,{"data-test":"status-unavailable"}):p.jsx(dpe,{"data-test":"status-unstable"}),e==="unavailable"?p.jsx(PM,{position:t,children:p.jsxs("span",{children:["The device is ",p.jsx("strong",{children:"disconnected"}),". Reconnect it, please."]})}):e==="unstable"?p.jsx(PM,{position:t,children:p.jsxs("span",{children:["The connection seems ",p.jsx("strong",{children:"unstable"}),". Connect to the same Wifi."]})}):null]})}const lpe=G("span",{target:"etoberq4"})({name:"186aqlb",styles:"position:absolute;right:0.5rem;top:0.5rem;font-size:3rem;z-index:10;svg{width:3rem;height:3rem;text-shadow:black;}"}),cpe=G("div",{target:"etoberq3"})({name:"1jjo9fl",styles:"margin:0.15rem;width:2.7rem;height:2.7rem;display:inline-block;background:#ffffff;border:1px solid black;border-radius:50%"}),upe=G(tN,{target:"etoberq2"})({name:"f0g68e",styles:"fill:#ff0000"}),dpe=G(Ld,{target:"etoberq1"})({name:"w492oh",styles:"fill:#f89400;stroke:black"}),PM=G("div",{target:"etoberq0"})(xt,";position:absolute;left:",e=>e.position==="end"?"100%":"auto",";right:",e=>e.position==="end"?"auto":"150%",";top:-0.5rem;font-size:1.5rem;height:100%;display:flex;align-items:center;width:25rem;background:rgba(0, 0, 0, 0.75);padding:0.5rem;margin-left:2rem;");function vN({player:e}){const t=hN(e.number);return p.jsxs(fpe,{"data-test":`indicator-player-${e.number}`,children:[p.jsx(gN,{playerNumber:e.number}),p.jsx(mN,{status:t}),t!=="unavailable"&&p.jsx(Ww,{playerNumber:e.number}),p.jsx(hpe,{className:"ph-no-capture",children:e.getName()})]},e.number)}const fpe=G("div",{target:"e17xkp2e1"})({name:"1gmoqr1",styles:"position:relative;border:0.1rem solid white;padding:1rem 3rem;background:black;width:80%;text-align:center;gap:1.25rem;font-size:2.3rem;color:white;-webkit-text-stroke:1px black"}),hpe=G("span",{target:"e17xkp2e0"})({name:"179t5g5",styles:"position:relative;z-index:1"});function ppe(e){io(ge.playerNameChanged),S.useEffect(()=>{tr.startMonitoring()},[]);const n=ss(ge.playerInputChanged,()=>it.getInputs()).some(r=>r.source!=="Dummy");return p.jsxs(gpe,{...e,children:[p.jsxs(mpe,{children:["Microphone Check",n?it.getPlayers().map(r=>p.jsx(vN,{player:r},r.number)):p.jsxs(p.Fragment,{children:[p.jsx(vpe,{children:"Mic not setup"}),p.jsx("h4",{children:"Singing will be emulated"}),p.jsx("h5",{children:"You can setup in the Next step"})]})]}),p.jsx(spe,{})]})}const gpe=G("div",{target:"egp8knc2"})("display:flex;font-size:3rem;",xt,";margin-bottom:8.6rem;gap:3.5rem;"),mpe=G("div",{target:"egp8knc1"})({name:"fmwdml",styles:"gap:1.25rem;display:flex;flex-direction:column;align-items:center"}),vpe=G("div",{target:"egp8knc0"})({name:"1x5xnlp",styles:"position:relative;border:0.1rem solid white;padding:1rem 3rem;background:black;width:80%;text-align:center;gap:1.25rem;font-size:2.3rem;color:white"});function yN({onClose:e,closeButtonText:t}){return p.jsx(Fc,{onClose:e,children:p.jsx(vl,{children:p.jsx(Yw,{smooth:!1,onBack:e,onFinish:e,closeButtonText:t,skipText:"Back"})})})}const Xw=S.forwardRef(({options:e,focused:t,label:n,value:r,onChange:i,disabled:s,placeholder:o,$keyboardNavigationChangeFocus:l,onBlur:d,className:c,...h},f)=>{const m=S.useRef(null);S.useImperativeHandle(f,()=>m.current);const v=S.useRef(null),[A,b]=S.useState(!1),[x,E]=S.useState(-1),I=S.useMemo(()=>e.filter(w=>w.toLowerCase().trim().includes(r.toLowerCase().trim())&&w!==r),[e,r]),P=w=>{var R,j,V;if(w.code==="ArrowUp"||w.code==="ArrowDown")if(I.length){w.preventDefault();const N=op(I,x,w.code==="ArrowUp"?-1:1);E(N);const k=(R=v.current)==null?void 0:R.querySelector(`[data-index="${N}"]`);k==null||k.scrollIntoView({behavior:"smooth",block:"center"})}else(j=m.current)==null||j.blur(),l==null||l(w.code==="ArrowUp"?-1:1);else if(w.code==="Enter"){const N=I[x];N?(E(-1),i(N)):(V=m.current)==null||V.blur()}},T=()=>{setTimeout(()=>{b(!1),d==null||d()},300)};return p.jsxs(ype,{className:c,children:[p.jsx($c,{onFocus:()=>b(!0),onBlur:T,onKeyDown:P,onChange:i,value:r,focused:t,label:n,disabled:s,ref:m,placeholder:o,...h}),A&&!!I.length&&p.jsx(Ape,{ref:v,role:"listbox",children:I.map((w,R)=>p.jsx(bpe,{role:"listitem","data-index":R,"data-focused":R===x,"data-e2e-focused":R===x,focused:R===x,onClick:()=>{var j;i(w),E(-1),(j=m.current)==null||j.blur()},children:w},w))})]})});Xw.displayName="Autocomplete";const ype=G("div",{target:"elw4n422"})({name:"bjn8wh",styles:"position:relative"}),Ape=G("div",{target:"elw4n421"})("margin-top:0.1em;position:absolute;width:100%;background:black;max-height:",(1+2*.3)*4,"em;overflow-y:auto;z-index:2;"),bpe=G("div",{target:"elw4n420"})(xt,";padding:0.3em;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;color:",e=>e.focused?Ve.colors.text.active:"white",";cursor:pointer;"),_pe=(e,t)=>{var n;return((n=e[t])==null?void 0:n.name)??`Track ${t+1}`};function Spe({multipleTracks:e,player:t,songPreview:n,playerNames:r,register:i,onChange:s,setup:o}){const[l,d]=S.useState(!1),c=S.useRef(null);if(io(ge.playerNameChanged),t===void 0)return null;const h=()=>s({number:t.number,track:(o.track+1)%n.tracksCount}),f=A=>{d(!0),t.setName(A)},m=!l,v=t.getName();return p.jsxs(p.Fragment,{children:[p.jsx(xpe,{maxLength:vx,className:"ph-no-capture",value:m?"":v,placeholder:m?v:void 0,options:r,onChange:f,label:"Name:",ref:c,...i(`player-${t.number}-name`,()=>{var A;return(A=c.current)==null?void 0:A.focus()})}),e&&p.jsx(wpe,{...i(`player-${t.number}-track-setting`,h,"Change track"),label:"Track",value:_pe(n.tracks,o.track),"data-test-value":o.track+1})]})}const xpe=G(Xw,{target:"euluv3p1"})("input{font-size:4.5rem;}[role='listbox']{max-height:",6*(4.5+.3),"rem;}"),wpe=G(Es,{target:"euluv3p0"})({name:"1bwrnjg",styles:"font-size:4.5rem;padding:1.1rem"});function Epe({songPreview:e,onNextStep:t,keyboardControl:n,onExitKeyboardControl:r}){const[i]=Tt(Qr),[s]=Tt(XS),o=it.getPlayers(),l=!i&&o.length===2&&e.tracksCount>1,d=()=>o.map((T,w)=>({number:T.number,track:l?Math.min(w,e.tracksCount-1):0})),[c,h]=S.useState(d());si([ge.playerAdded,ge.playerRemoved],()=>h(d()));const f=o.map((T,w)=>c.find(R=>R.number===T.number)??d()[w]),m=S.useMemo(()=>JSON.parse(ot.session.getItem(dd))??[],[]),v=T=>w=>{h(R=>R.map(j=>j.number===T?w:j))},[A,b]=S.useState(!1);S.useEffect(()=>{A||tr.startMonitoring()},[A]);const{register:x,focusElement:E}=Cr({enabled:n&&!A,onBackspace:r,additionalHelp:{remote:["select-song"]}}),I=()=>{t(f)},P=!!s&&s!=="skip";return p.jsxs(p.Fragment,{children:[A&&p.jsx(yN,{closeButtonText:P?"Continue to the song":"Continue to player setup",onClose:()=>{b(!1),P&&E("play")}}),f.map((T,w)=>p.jsxs(Cpe,{children:[p.jsxs(kpe,{children:["Player ",w+1]}),p.jsx("div",{children:p.jsx(Spe,{multipleTracks:l,player:it.getPlayer(T.number),setup:T,onChange:v(T.number),playerNames:m,register:x,songPreview:e})})]},T.number)),P&&p.jsx(MM,{...x("play-song-button",I,void 0,!0),children:"Play"}),p.jsx(MM,{...x("select-inputs-button",()=>b(!0),void 0,!1),children:"Setup mics"})]})}const Cpe=G("div",{target:"e12y59822"})({name:"ho1qnd",styles:"display:flex;flex-direction:row"}),MM=G(lo,{target:"e12y59821"})({name:"afgxf2",styles:"padding:0.5rem 9rem;font-size:4.3rem"}),kpe=G("span",{target:"e12y59820"})(xt,";padding:1.3rem;font-size:4.5rem;");function Tpe({songPreview:e,onPlay:t,keyboardControl:n,onExitKeyboardControl:r}){const[i,s]=S.useState(null),[o,l]=S.useState("song"),d=h=>{s(h),l("players")},c=h=>{if(!i)return;const f={...i,players:h};ge.songStarted.dispatch(e,f),t({song:e,...f})};return p.jsxs(Ipe,{children:[p.jsx(ppe,{style:o==="players"?{viewTransitionName:"player-mic-check-container"}:void 0}),p.jsxs(Rpe,{children:[o==="song"&&p.jsx(npe,{songPreview:e,onNextStep:d,keyboardControl:n,onExitKeyboardControl:r}),o==="players"&&p.jsx(Epe,{songPreview:e,onNextStep:c,keyboardControl:n,onExitKeyboardControl:()=>l("song")})]})]})}const Ipe=G("div",{target:"eu207dr1"})({name:"k6gb66",styles:"display:flex;flex-direction:row;align-items:flex-end;justify-content:space-between;width:100%;hr{margin:1rem;opacity:0.25;}"}),Rpe=G("div",{target:"eu207dr0"})({name:"115sh08",styles:"width:auto;display:flex;flex-direction:column;align-items:flex-end;gap:1.25rem"}),Ppe=30;function Mpe({songPreview:e,top:t,left:n,width:r,height:i,keyboardControl:s,onExitKeyboardControl:o,onPlay:l,isPopular:d,forceFlag:c}){const[h,f]=S.useState(!1),m=S.useRef(null),{width:v,height:A}=lp(),b=s;S.useLayoutEffect(()=>{f(!1)},[e.video]);const x=e.previewStart??(e.videoGap??0)+60,E=e.previewEnd??x+Ppe,I=S.useMemo(()=>[e.video,x,E,e.volume],[e.video,x,E,e.volume]),[P,T,w,R]=Vw(I,350);S.useEffect(()=>{var B;(B=m.current)==null||B.loadVideoById({videoId:P,startSeconds:T,endSeconds:w})},[P,m,T,w]);const j=b?v:r,V=b?A:i,N=b?Math.min(v/20*9,A*(4/5)):i;S.useEffect(()=>{var B;(B=m.current)==null||B.setSize(j,V)},[j,V,s]);const k=S.useCallback(B=>{var H,F;B===ir.ENDED?((H=m.current)==null||H.seekTo(x),(F=m.current)==null||F.playVideo()):B===ir.PLAYING&&f(!0)},[x]);return p.jsxs(p.Fragment,{children:[b&&p.jsx(Vpe,{onClick:o}),!b&&h&&p.jsx(Dpe,{width:j,height:V,left:n,top:t,song:e}),p.jsx(Ope,{forceFlag:c,isPopular:d,background:b||h,video:p.jsx(Lpe,{"data-show":h,"data-expanded":b,height:N,id:"preview-video-container",children:p.jsx(Gw,{width:0,height:0,disablekb:!0,ref:m,video:"",volume:R,onStateChange:k})}),focused:!0,song:e,top:t,left:n,width:j,height:N,"data-show-video":h,"data-expanded":b,"data-song":e.id,"data-test":"song-preview",children:p.jsx(Npe,{"data-expanded":b,children:b&&p.jsx(Tpe,{songPreview:e,onPlay:l,keyboardControl:s,onExitKeyboardControl:o})})})]})}const jpe=G(cN,{target:"e1vaewax4"})("--preview-padding:5rem;width:",e=>e.width,"px;height:",e=>e.height,"px;position:absolute;z-index:3;overflow:hidden;visibility:hidden;&[data-expanded='true'],&[data-show-video='true']{visibility:visible;}&[data-expanded='true']{z-index:201;border-radius:0;border:0;position:fixed;padding:var(--preview-padding);}&[data-expanded='false']{pointer-events:none;&[data-show-video='true']{animation:rhythmPulse 1s infinite;}}@keyframes rhythmPulse{0%{transform:scale(1.2);}15%{transform:scale(1.25);}100%{transform:scale(1.2);}}view-transition-name:song-preview;",Jw,"{view-transition-name:song-preview-artist;}",sy,"{view-transition-name:song-preview-title;}",uN,"{view-transition-name:song-preview-expanded-data;}"),Ope=e=>{const t=e.song.realBpm||(e.song.bpm>300?e.song.bpm/4:e.song.bpm/2),n=e["data-expanded"];return p.jsx(jpe,{...e,style:{...e.style,top:n?`calc(50vh - ${e.height}px / 2)`:e.top,left:n?0:e.left,animationDuration:`${60/t}s`}})},Vpe=G("div",{target:"e1vaewax3"})({name:"1iz7jdz",styles:"position:fixed;top:0;left:0;background:rgba(0, 0, 0, 0.8);width:100vw;height:100vh;z-index:201"}),Lpe=G("div",{target:"e1vaewax2"})("&[data-expanded='true']{position:fixed;inset:0;clip-path:inset(calc((100vh - ",e=>e.height,"px) / 2) 0);}&[data-expanded='true'],&[data-show='true']{div{transition:1000ms;}}&[data-expanded='false']{position:absolute;top:0;left:0;background-image:none!important;border-radius:0.5rem;}&[data-show='false']{div{opacity:0;}}&[data-show='true']{div{opacity:1;}}"),Npe=G("div",{target:"e1vaewax1"})({name:"uljwlo",styles:"inset:auto var(--preview-padding);position:fixed;z-index:100;&[data-expanded='false']{transform:scale(0.1);}border-radius:0.5rem;view-transition-name:song-preview-content"}),Bpe=G("div",{target:"e1vaewax0"})("background:white;width:",e=>e.width,"px;height:",e=>e.height,"px;z-index:2;top:0;left:0;position:absolute;animation:bpm 1s infinite;border-radius:0.5rem;pointer-events:none;@keyframes bpm{0%{transform:scale(1.15);opacity:1;}100%{transform:scale(1.45);opacity:0;}}"),Dpe=e=>{const[t]=Tt(xs);if(t==="low")return null;const n=e.song.realBpm||(e.song.bpm>300?e.song.bpm/4:e.song.bpm/2);return p.jsx(Bpe,{width:e.width,height:e.height,style:{left:e.left,top:e.top,animationDuration:`${60/n}s`}})};function Fpe(e){var t=Om(e),n=t%1;return t===t?n?t-n:t:0}var $pe=Math.ceil,zpe=Math.max;function RS(e,t,n){t===void 0?t=1:t=zpe(Fpe(t),0);var r=e==null?0:e.length;if(!r||t<1)return[];for(var i=0,s=0,o=Array($pe(r/t));i<r;)o[s++]=Kx(e,i,i+=t);return o}function Upe(e,t){const n=S.useRef(null),r=S.useMemo(()=>e.groups.map(h=>({group:h,rows:RS(h.songs,e.perRow)})),[e.groups,e.perRow]),i=S.useMemo(()=>r.map(({rows:h})=>h.length),[r]),s=S.useMemo(()=>r.flatMap(({rows:h})=>h),[r]),{ListRowWrapper:o,GroupRowWrapper:l}=e,d=S.useCallback((h,f)=>{const m=e.groups.findIndex(v=>v.name===h);return m===-1?e.groups.findIndex(v=>v.songs.some(A=>A.index===f)):m},[e.groups]),c=S.useCallback((h,f)=>{const m=d(h,f);if(m===-1)return;const v=e.groups[m].songs.findIndex(A=>A.index===f);return r.slice(0,m).reduce((A,{rows:b})=>A+b.length,Math.floor(v/e.perRow))},[d,r,e.groups,e.perRow]);return S.useImperativeHandle(t,()=>({getSongPosition:(h,f)=>{var E;const m=d(h,f);if(m===-1)return;const v=e.groups[m].songs.findIndex(I=>I.index===f),A=r.slice(0,m).reduce((I,{rows:P})=>I+P.length,Math.floor(v/e.perRow)),b=((E=n.current)==null?void 0:E.getItemPositionY(A))??-1;return{x:v%e.perRow,y:b}},scrollToGroup:h=>{var m;const f=e.groups.findIndex(v=>v.name===h);f!==-1&&((m=n.current)==null||m.scrollToGroup(f,"smooth"))},scrollToSongInGroup:async(h,f,m="smooth")=>{var A;const v=c(h,f);v!==void 0&&((A=n.current)==null||A.scrollToIndex(v,rs()?"auto":m))}})),p.jsx(p.Fragment,{children:p.jsx(w4,{forceRenderItem:c(e.focusedGroup,e.focusedSong)??-1,overScan:e.itemHeight*2,itemHeight:e.itemHeight,groupHeaderHeight:e.groupHeight,components:e.components,context:e.context,groupContent:(h,f)=>p.jsx(l,{group:r[h].group,...f,children:e.renderGroup(r[h].group)}),ref:n,groupSizes:i,itemContent:(h,f,m)=>p.jsxs(o,{"data-is-new":r[f].group.isNew,...m,children:[s[h].map(v=>e.renderItem(v,r[f].group)),e.placeholder&&s[h].length<e.perRow&&new Array(e.perRow-s[h].length).fill(null).map((v,A)=>p.jsx(S.Fragment,{children:e.placeholder},A))]})},e.itemHeight)})}const Hpe=S.forwardRef(Upe),AN=(e,t)=>e+Math.random()*(t-e),no=(e,t)=>Math.round(AN(e,t)),Gpe=250,qpe=750;function Wpe(e){const t=oR(async()=>(await fetch("/mostPopularSongs.json")).json(),[]),n=oR(async()=>YW(),[]),r=S.useMemo(()=>K0.recentlyUpdated(e),[e]).map(d=>d.id),[i]=Tt(av),s=t.loading||n.loading||!e.length,o=S.useMemo(()=>{if(s)return;const d=Object.keys(n.value).filter(A=>n.value[A].scores.some(b=>(b.progress??0)>.8)),c=Object.keys(t.value).filter(A=>!(i!=null&&i.includes(A))),h=[...new Set([...c,...i??[]])],f=e.filter(A=>!h.some(b=>A.language.includes(b))||A.local).map(A=>A.id).concat(...d),m=Math.max(Gpe,qpe-Math.round(f.length/1.75)),v=c.map(A=>t.value[A].slice(0,m)).flat();return{popular:[...new Set([...d,...v,...f,...r])]}},[i,s,t.value,e,n.value]),l=S.useMemo(()=>({popular:[]}),[]);return{value:o??l,loading:s}}const Kpe=e=>{const t=/[^a-zA-Z]/;return{name:isFinite(+e.artist[0])||t.test(e.artist[0])?"0-9":e.artist[0].toUpperCase()}};function Ype(){const e=Nd(),{value:{popular:t},loading:n}=Wpe(e.data),r=e.isLoading||n,{filters:i,filteredList:s,setFilters:o,selectedPlaylist:l,setSelectedPlaylist:d,playlists:c,playlist:h}=Jle(e.data,t,r);return{groupedSongList:S.useMemo(()=>{var v;if(s.length===0)return[];const m=[];if(i.search)return m.push({name:"Search results",songs:s.map((A,b)=>({index:b,song:A,isPopular:t.includes(A.id)}))}),m;{(h!=null&&h.sortingFn?[...s].sort(h.sortingFn):s).forEach(x=>{try{const{name:E,...I}=((h==null?void 0:h.groupData)??Kpe)(x);let P=m.find(T=>T.name===E);P||(P={name:E,songs:[],...I},m.push(P)),P.songs.push({index:s.indexOf(x),song:x,isPopular:t.includes(x.id)})}catch(E){console.error(E),Ps(E)}});const b=((v=h==null?void 0:h.postGrouping)==null?void 0:v.call(h,m))??m;if(!(h!=null&&h.hideNew)){const x=s.filter(E=>E.isNew);x.length&&x.length<50&&b.unshift({name:"New",isNew:!0,songs:x.map(E=>({song:E,index:s.indexOf(E),isPopular:t.includes(E.id)}))})}return b}},[s,i.search,t,h]),songList:s,filters:i,setFilters:o,isLoading:r,selectedPlaylist:l,setSelectedPlaylist:d,playlists:c}}function J0(e){const t=S.useRef(e);return S.useEffect(()=>{t.current=e},[e]),t.current}const Qpe=30;function Jpe(e,t,n=Qpe){let r;if(t.length<e){const i=[...Array(e).keys()].filter(s=>!t.includes(s));r=i[no(0,i.length-1)]}else r=no(0,e-1),t.length=0;return t.length>=n&&t.shift(),t.push(r),r}const Xpe=(e=[],t)=>{var x;const[n,r]=S.useState([0,0]),i=S.useMemo(()=>e.map(({songs:E})=>E.length).join(","),[e]),s=S.useMemo(()=>e.map(({songs:E})=>RS(E.map(I=>I.index),t)).flat(),[i,t]),o=S.useMemo(()=>e.map(({songs:E,name:I})=>RS(E.map(()=>I),t)).flat(),[i,t]),l=J0(s??[]),d=n[0]===((x=s[n[1]])==null?void 0:x.length)-1,c=S.useCallback((E,I)=>{var w;const P=s.findIndex((R,j)=>R.includes(E)&&(!I||I===o[j][0])),T=(w=s[P])==null?void 0:w.indexOf(E);T>=0&&P>=0?r([T??0,P??0]):r([0,0])},[s]),h=([E,I],P,T)=>{var R;if(e.length===0)return T;const w=P[I];return(w==null?void 0:w[E])??(w==null?void 0:w.at(-1))??((R=P==null?void 0:P[0])==null?void 0:R[0])??T},f=([E,I],P=s)=>h([E,I],P,0),m=([E,I],P=o)=>h([E,I],P,"A");S.useEffect(()=>{const E=f(n,l),I=f(n,s);l.length&&E!==I&&c(E)},[n,s,l,d]);const v=(E,I)=>{Rv.play(),r(([P,T])=>{let w=P,R=T;if(E==="y")R=T+I;else{if(s[T]===void 0)debugger;const j=s[T].length-1;w=Math.min(P,j)+I,w<0?(R=(s.length+T-1)%s.length,w=s[R].length-1):w>j&&(R=T+1,w=0)}return[w%t,(s.length+R)%s.length]})},A=f(n),b=m(n);return[A,b,n,v,c,d]},Zpe=(e,t=[],n,r,i,s)=>{const o=$i(),[l,d]=S.useState([!1,null]),c=J0(l),[h,f]=l,[m,v,A,b,x,E]=Xpe(t,s),I=A[0]===0,P=()=>{Ix.play(),n()},[T,w]=S.useState(!1),R=J0(i.search);S.useLayoutEffect(()=>{if(R&&!i.search){w(!0);const D=setTimeout(()=>w(!1),2e3);return()=>{clearTimeout(D),w(!1)}}},[i.search]);const j=()=>{!T&&!i.search&&(Rx.play(),o("menu/"))},V=S.useCallback(Wu((D,L)=>{const Y=(t.length+L+D)%t.length;x(t[Y].songs[0].index),Rv.play()},700,{trailing:!1}),[t]),N=(D,L)=>{if(!(D!=null&&D.repeat))b("y",L);else{const Y=t.findIndex(q=>!!q.songs.find(Q=>Q.index===m));V(L,Y)}},k=(D,L=!1)=>{!L&&D===-1&&I&&!h?d([!0,"left"]):b("x",D)},B=S.useRef([]),H=()=>{const D=Jpe(r,B.current);x(D)};Dc({accept:P,down:D=>N(D,1),up:D=>N(D,-1),left:()=>k(-1),right:()=>k(1),back:j,random:H},e&&!h,[t,A,h,i,T]);const F=S.useMemo(()=>({"horizontal-vertical":null,accept:null,back:null,shiftR:null,alphanumeric:null,remote:["search","select-song"]}),[]);Vd(F,e);const U=S.useCallback(D=>{d([!1,D??null])},[d,k,t,A]);return S.useLayoutEffect(()=>{const[D,L]=c;D&&!h&&L===f&&k(f==="right"?1:-1,!0)},[h,f,I,E,...A]),[m,v,x,h,U,H]};function ege(e,t){const{songList:n,groupedSongList:r,setFilters:i,filters:s,isLoading:o,selectedPlaylist:l,setSelectedPlaylist:d,playlists:c}=Ype(),[h,f]=S.useState(!0),m=R=>{Bh(()=>{jd.flushSync(()=>{f(R)})}),Px.play(!1)},[v,A,b,x,E,I]=Zpe(h,r,()=>m(!1),n.length,s,t),[P,T]=S.useState(!1);S.useEffect(()=>{if(!P&&n.length&&!o){const R=n.findIndex(N=>N.id===e),j=n.findIndex(N=>N.isNew);let V=no(0,n.length-1);(R>-1||j>-1)&&(V=R),T(!0),b(V)}},[b,P,v,n,e,o]),S.useEffect(()=>{var R;if(P&&n.length&&n[v]&&!o){const j=new URL((R=global.location)==null?void 0:R.href);j.searchParams.set("song",n[v].id),global.history.replaceState(null,"",j.toString())}},[P,v,n,o]);const w=n==null?void 0:n[v];return{groupedSongList:r,focusedSong:v,focusedGroup:A,moveToSong:b,setKeyboardControl:m,keyboardControl:h,songPreview:w,songList:n??[],filters:s,setFilters:i,showFilters:x,setShowFilters:E,isLoading:o||!P,randomSong:I,selectedPlaylist:l,setSelectedPlaylist:d,playlists:c}}const tge=1.2,jM=4,bN=7,PS=4.5,OM=bN+PS,fm=3.5,nge={Header:({context:e})=>p.jsxs(p.Fragment,{children:[p.jsx(uge,{}),e&&e.songPreview.songPreview&&p.jsx(Mpe,{...e.songPreview})]}),Footer:()=>p.jsxs(ige,{children:["Missing a song? Try"," ",p.jsx(Rw,{to:"convert/",children:p.jsx("a",{children:"adding one"})})," ","yourself!"]}),EmptyPlaceholder:()=>p.jsx(lge,{children:"No songs found"})};function rge({onSongSelected:e,preselectedSong:t}){const[n]=Tt(Qr),r=n?jM-1:jM;_l(!1),ml(!0),iN();const{focusedGroup:i,focusedSong:s,moveToSong:o,groupedSongList:l,keyboardControl:d,songPreview:c,setKeyboardControl:h,setFilters:f,filters:m,setShowFilters:v,showFilters:A,isLoading:b,randomSong:x,selectedPlaylist:E,setSelectedPlaylist:I,playlists:P,songList:T}=ege(t,r),w=S.useMemo(()=>l.map(J=>J.songs).flat().find(J=>J.song.id===(c==null?void 0:c.id)),[c,l]),R=S.useRef(null),j=_4(),{width:V,handleResize:N}=lp(),B=(V-(OM+PS)*j-(r-1)*fm*j)/r,H=B*(9/16),F=H/2,U=S.useCallback(()=>h(!1),[h]),D=b||!l||!V,L=E==="Eurovision",Y=S.useRef(null);S.useEffect(()=>{const J=ae=>T.findIndex(W=>W.id===ae);return global.__songList={scrollToSong:ae=>{var me;const[W]=ae.split("-new-group"),ye=ae.endsWith("-new-group"),le=l.find(xe=>!!xe.isNew===ye&&xe.songs.some(Re=>Re.song.id===W));if(le){const xe=J(W);return(me=R.current)==null||me.scrollToSongInGroup(le.name,xe,"auto"),!0}return!1}},()=>{delete global.__songList}},[l,T]);const[{previewTop:q,previewLeft:Q},M]=S.useState({previewTop:0,previewLeft:0});S.useEffect(()=>{const J=document.querySelector(`[data-song-index="${s}"][data-group="${i}"]`);!b&&J?M({previewTop:J.offsetTop+J.parentNode.offsetTop,previewLeft:J.offsetLeft}):b||console.warn("!!!!!!!!!!!! Song not found !!!!!!!!!!!!")},[s,i,b,V]),S.useEffect(()=>{var J;N(),b||(J=R.current)==null||J.scrollToSongInGroup(i,s)},[V,s,i,l,b,N]);const z=$i();return mi("Shift + E",()=>z(q0("edit/song/",{playlist:null,step:"metadata"})),[z]),si(ge.remoteSongSelected,async J=>{I("All");const ae=T.findIndex(W=>W.id===J);ae&&(s!==ae?(o(ae),d||h(!0),U()):d&&U())},[T,o,U,I,h,d,s]),p.jsx(yl,{children:p.jsxs(sge,{songsPerRow:r,style:{"--song-group-header-height":`${Math.floor(F)}px`,"--song-entry-width":`${Math.floor(B)}px`,"--song-entry-height":`${Math.floor(H)}px`,"--song-list-gap":`${Math.floor(fm*j)}px`,"--song-list-padding-left":`${Math.floor(OM*j)}px`,"--song-list-padding-right":`${Math.floor(PS*j)}px`,"--song-sidebar-weight":`${Math.floor(bN*j)}px`},children:[D?p.jsxs(VM,{children:[p.jsx(NM,{children:p.jsx(DM,{children:p.jsx(MS,{children:""})})}),new Array(4).fill(0).map((J,ae)=>p.jsx(BM,{children:new Array(4).fill(0).map((W,ye)=>p.jsx(LM,{},ye))},ae))]}):p.jsxs(p.Fragment,{children:[c&&p.jsx(oge,{videoId:c.video}),p.jsx(_he,{setFilters:f,filters:m,onRandom:x,keyboardControl:d}),p.jsx(Khe,{container:Y.current,groupedSongList:l,onScrollToGroup:J=>{o(J.songs[0].index),setTimeout(()=>{var ae;return(ae=R.current)==null?void 0:ae.scrollToGroup(J.name)},20)}}),p.jsx(VM,{active:d,dim:A,"data-test":"song-list-container",ref:Y,children:p.jsx(Hpe,{focusedSong:s,focusedGroup:i,ListRowWrapper:BM,GroupRowWrapper:NM,ref:R,groups:l,itemHeight:Math.floor(H)+Math.floor(fm*j),groupHeight:Math.floor(F)+Math.floor(fm*j),components:nge,renderGroup:J=>p.jsx(DM,{"data-highlight":J.name==="New",children:p.jsx(MS,{"data-group-name":J.name,children:J.displayLong??J.name})},J.name),perRow:r,renderItem:(J,ae)=>{const W=J.index===s&&ae.name===i;return S.createElement(cge,{...A||!d?{"data-unfocusable":!0}:{},isPopular:J.isPopular,key:J.song.id,song:J.song,handleClick:W?U:o,focused:!A&&d&&W,index:J.index,groupLetter:ae.name,"data-song-index":J.index,"data-focused":!A&&d&&J.index===s,"data-test":`song-${J.song.id}${ae.isNew?"-new-group":""}`,"data-group":ae.name,forceFlag:L})},placeholder:p.jsx(LM,{style:{visibility:"hidden"}}),context:{songPreview:{forceFlag:L,isPopular:!!(w!=null&&w.isPopular),keyboardControl:!d,onPlay:e,onExitKeyboardControl:()=>h(!0),songPreview:c,top:q,left:Q,width:Math.floor(B),height:Math.floor(H)}}})})]}),p.jsx(The,{selectedPlaylist:E,setSelectedPlaylist:I,playlists:P,active:A,closePlaylist:v})]})})}const ige=G("div",{target:"e13s0pn12"})(xt,";text-align:center;font-size:5rem;padding:10rem 0;"),sge=G("div",{target:"e13s0pn11"})({name:"usdvu5",styles:"display:flex;flex-direction:row;max-height:100vh"}),oge=e=>{const{theme:t}=S.useContext(Zx);return t==="eurovision"?null:p.jsx(age,{...e})},age=G(xhe,{target:"e13s0pn10"})({name:"ybgcp",styles:"position:fixed;inset:0;width:100%;height:100%;filter:blur(7px) grayscale(90%);opacity:0.25;object-fit:cover"}),lge=G("div",{target:"e13s0pn9"})(xt,";display:flex;align-items:center;justify-content:center;flex:1;height:75vh;font-size:10rem;"),MS=G("div",{target:"e13s0pn8"})(xt,";display:flex;padding:0.5rem 1rem;font-size:3.5rem;z-index:1;color:",Ve.colors.text.active,";background:rgba(0, 0, 0, 0.7);align-items:center;gap:1rem;"),VM=G("div",{target:"e13s0pn7"})("position:relative;flex:1 1 auto;min-height:100vh;max-height:100vh;transition:opacity 500ms;opacity:",e=>e.dim?.5:1,";"),LM=G("div",{target:"e13s0pn6"})({name:"1mtg8xe",styles:"background:black;flex-basis:var(--song-entry-width);height:var(--song-entry-height);border-radius:1rem;animation:skeleton 1s ease-in-out infinite alternate;@keyframes skeleton{0%{opacity:0.65;}100%{opacity:0.75;}}"}),cge=S.memo(G(cN,{target:"e13s0pn5"})("cursor:pointer;flex-basis:var(--song-entry-width);height:var(--song-entry-height);transition:300ms;transform:scale(1);&[data-focused='true']{transform:scale(",tge,");z-index:2;",pd,";}")),uge=G("div",{target:"e13s0pn4"})(""),_N=G("div",{target:"e13s0pn3"})({name:"17ig0qd",styles:"display:flex;flex-wrap:nowrap;gap:var(--song-list-gap);padding:calc(var(--song-list-gap) / 2) var(--song-list-padding-right) calc(var(--song-list-gap) / 2) var(--song-list-padding-left)"}),NM=G(_N,{target:"e13s0pn2"})({name:"1rn35zs",styles:"position:sticky;top:0;z-index:3"}),BM=G(_N,{target:"e13s0pn1"})({name:"s8hqg9",styles:"position:relative;&[data-is-new='true']{background:rgba(0, 0, 0, 0.7);}"}),DM=G("div",{target:"e13s0pn0"})("display:flex;align-items:flex-end;height:var(--song-group-header-height);&[data-highlight='true']{",MS,"{animation:new-song-group-header 600ms ease-in-out infinite both;background:#ffffff;@keyframes new-song-group-header{0%,100%{transform:scale(1);}50%{transform:scale(1.1);}}}}");function dge(e){const[t,n]=Tt(av),[r,i]=S.useState(t===null),s=()=>{n(t??[]),i(!1)};return r?p.jsx(x4,{onClose:s,closeText:"Continue to Song Selection"}):p.jsx(rge,{...e})}const fge=zt(p.jsx("path",{d:"M16.59 7.58 10 14.17l-3.59-3.58L5 12l5 5 8-8zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"}),"CheckCircleOutline"),yb=15;function hge({onFinish:e}){const[t,n]=S.useState(!1),[r,i]=S.useState([]);si(ge.readinessConfirmed,l=>{i(d=>[...d,l])});const s=ss([ge.inputListChanged,ge.readinessConfirmed],()=>it.getPlayers().map((l,d)=>[l.input.deviceId,l.getName(),l]));S.useEffect(()=>{(async()=>{let l=!1;const d=it.requestReadiness().then(()=>{l=!0,n(!0)}),c=Ru(1500),h=Ru(yb*1e3);await Ru(250),l||await Nm.play(),await Promise.race([Promise.all([d,c]),h]),Nm.playing()&&JO.play(),await Ru(500),Nm.stop(),await Ru(1e3),e()})()},[]);const o=s.map(([l,d,c])=>({confirmed:r.includes(l),name:d,player:c}));return p.jsx(p.Fragment,{children:p.jsxs(pge,{children:[!t&&p.jsxs("span",{children:["Waiting for all players to click ",p.jsx("strong",{children:'"Ready"'})]}),p.jsx(mge,{children:o.map(({confirmed:l,name:d,player:c},h)=>p.jsxs(vge,{className:"ph-no-capture","data-test":"player-confirm-status","data-name":d,"data-confirmed":l,children:[!t&&p.jsx(yge,{children:l?p.jsx(fge,{}):p.jsx(ap,{color:"info",size:"1em"})})," ",p.jsx(vN,{player:c})]},h))}),!t&&p.jsxs(gge,{children:["The song will start automatically in"," ",p.jsx("strong",{children:p.jsx(zw,{end:0,start:yb,duration:yb,useEasing:!1})})]})]})})}const pge=G("div",{target:"e1wiz9j54"})("top:0;left:0;z-index:1000;display:flex;align-items:center;justify-content:center;flex-direction:column;position:absolute;width:100%;height:100%;gap:5rem;font-size:5rem;",xt,";"),gge=G("span",{target:"e1wiz9j53"})({name:"1umnjfm",styles:"font-size:5rem"}),mge=G("div",{target:"e1wiz9j52"})({name:"1uxgijs",styles:"display:flex;flex-direction:column;gap:5rem;width:50rem;view-transition-name:player-mic-check-container"}),vge=G("div",{target:"e1wiz9j51"})({name:"174652e",styles:"display:flex;align-items:center;gap:2rem;transform:scale(1.5)"}),yge=G("span",{target:"e1wiz9j50"})({name:"1l5xwqu",styles:"svg{width:5rem;height:5rem;stroke:black;}"});function Age({register:e,onExit:t}){const n=S.useRef(null),[r,i]=S.useState(!1),[s,o]=S.useState(!1),[l,d]=S.useState(!1);S.useEffect(()=>{var f;(f=n.current)==null||f.focus()},[n]);const c=()=>{const f=ct.getSong(),m={songId:f==null?void 0:f.id,songLastUpdated:f==null?void 0:f.lastUpdate},v=[];r&&v.push("not-in-sync"),s&&v.push("wrong-volume"),l&&v.push("bad-lyrics"),v.length&&lr.capture("rate-song",{issues:v,...m}),t()},h=s||r||l;return p.jsx(p.Fragment,{children:p.jsxs(Wr,{"data-test":"rate-song-container",title:"Is the song OK?",children:[p.jsx("h4",{children:"If there's something wrong with the song, let me know so I can fix it"}),p.jsxs(Ab,{...e("button-not-in-sync",()=>i(f=>!f)),size:"small",children:[p.jsx(bb,{children:r?p.jsx(Hm,{}):p.jsx(Gm,{})}),p.jsx("span",{children:"Lyrics are not in sync"})]}),p.jsxs(Ab,{...e("button-bad-lyrics",()=>d(f=>!f)),size:"small",children:[p.jsx(bb,{children:l?p.jsx(Hm,{}):p.jsx(Gm,{})}),p.jsx("span",{children:"Wrong lyrics, missing spaces etc."})]}),p.jsxs(Ab,{...e("button-wrong-volume",()=>o(f=>!f)),size:"small",children:[p.jsx(bb,{children:s?p.jsx(Hm,{}):p.jsx(Gm,{})}),p.jsx("span",{children:"Too loud/quiet"})]}),p.jsx("hr",{}),p.jsx(ut,{...e("button-song-ok",c,void 0,!0),ref:n,children:h?"Submit and exit":"All good, exit the song"})]})})}const Ab=G(ut,{target:"e1prcfby1"})({name:"12ib3m7",styles:"justify-content:flex-start;gap:1rem"}),bb=G("div",{target:"e1prcfby0"})({name:"224g68",styles:"svg{width:3rem;height:3rem;}display:flex;align-items:center;justify-content:center"});function bge({onResume:e,onExit:t,onRestart:n}){const r=$i(),i=S.useRef(null),s=S.useRef(null);S.useEffect(()=>{var m;(m=i.current)==null||m.focus()},[i]);const[o,l]=S.useState(!1),{register:d}=Cr({enabled:!o}),[c,h]=S.useState(!1),f=async()=>{const m=ct.getSongCompletionProgress(),v=(await is.getIndex()).find(A=>{var b;return A.id===((b=ct.getSong())==null?void 0:b.id)});!(v!=null&&v.local)&&m<.7?h(!0):t()};return p.jsxs(Fc,{onClose:e,children:[!c&&p.jsxs(p.Fragment,{children:[p.jsxs(Wr,{children:[p.jsx(ut,{...d("button-resume-song",e),ref:i,children:"Resume song"}),p.jsx(ut,{...d("button-restart-song",n),children:"Restart song"}),p.jsx(ut,{...d("button-exit-song",f),children:"Exit song"}),p.jsx(ut,{...d("input-settings",()=>l(!0)),children:"Microphones settings"}),p.jsx("hr",{}),p.jsx(P4,{ref:s,...d("input-lag",()=>{var m;return(m=s.current)==null?void 0:m.focus()})}),p.jsx(ut,{...d("edit-song",()=>{var m;return r("edit/song/",{song:((m=ct.getSong())==null?void 0:m.id)??""})}),size:"small",children:"Edit song"})]}),o&&p.jsx(yN,{onClose:()=>l(!1),closeButtonText:"Back to Pause Menu"})]}),c&&p.jsx(Age,{onExit:t,register:d})]})}const SN=rs()?1e3:8e3;function _ge(e){return Math.floor((ty(e)-SN)/1e3)}const Sge=2e4;function xge(e){return ty(e)-(e.videoGap??0)*1e3>Sge}function wge({playerRef:e,isEnabled:t}){const[n]=Tt(Qr),r=ct.getSong(),i=S.useMemo(()=>xge(r),[r]),s=S.useMemo(()=>ty(r),[r]),o=ct.getCurrentTime(!1)<s-SN*1.2,l=t&&o&&i;Dc({accept:()=>{e==null||e.seekTo(_ge(r));const{artist:h,title:f}=ct.getSong();lr.capture("introSkipped",{name:`${h} - ${f}`,artist:h,title:f})}},l);const c=S.useMemo(()=>({accept:"Skip Intro",back:"Pause Menu"}),[]);return Vd(c,l),!n&&l?p.jsxs(Ege,{visible:l,"data-test":"skip-intro-info",children:["Press ",p.jsx(Cge,{children:"Enter"})," to skip the intro"]}):null}const Ege=G("div",{target:"e167kngm1"})(xt,";pointer-events:none;position:fixed;bottom:29rem;transform:scale(",e=>e.visible?1:0,");opacity:",e=>e.visible?1:0,";text-align:center;font-size:5rem;text-shadow:0 0 3.5rem black;width:100%;z-index:4;padding:0.5rem;transition:ease 500ms;"),Cge=G("kbd",{target:"e167kngm0"})("margin:0.2rem;padding:0.2rem 2rem;border-radius:1.3rem;border:0.5rem solid rgb(204, 204, 204);border-bottom-color:rgb(150, 150, 150);border-right-color:rgb(150, 150, 150);line-height:1.4;display:inline-block;background-color:rgb(247, 247, 247);text-shadow:0 1rem 0 #fff;opacity:",e=>e.disabled?.25:1,";"),kge=15e3;function Tge({onSongEnd:e,isEnabled:t}){const[n]=Tt(Qr),r=ct.getDuration(),i=S.useMemo(()=>Math.max(...ct.getPlayers().map(v=>Ih(v.getLastNotesSection()))),[]),s=S.useMemo(()=>{var A;const v=N4(i,ct.getSong())+(((A=ct.getSong())==null?void 0:A.gap)??0);return t&&r*1e3>v+kge},[r,i,t]),[o,l]=S.useState(0),[d,c]=S.useState(!1);LV(()=>l(ct.getCurrentBeat()),1e3);const h=Vw(s&&o>i,5e3)&&!d;Dc({accept:()=>{c(!0),setTimeout(e,700);const{artist:v,title:A}=ct.getSong();lr.capture("outroSkipped",{name:`${v} - ${A}`,artist:v,title:A})}},h);const m=S.useMemo(()=>({accept:"Skip Outro",back:"Pause Menu"}),[]);return Vd(m,h),!n&&s?p.jsxs(Ige,{visible:h,"data-test":"skip-outro-info","data-visible":h,children:["Press ",p.jsx(Rge,{children:"Enter"})," to skip the outro"]}):null}const Ige=G("div",{target:"e1b01y1a1"})(xt,";pointer-events:none;position:fixed;bottom:29rem;transform:scale(",e=>e.visible?1:0,");opacity:",e=>e.visible?1:0,";text-align:center;font-size:5rem;text-shadow:0 0 3.5rem black;width:100%;z-index:4;padding:0.5rem;transition:ease 500ms;"),Rge=G("kbd",{target:"e1b01y1a0"})("margin:0.2rem;padding:0.2rem 2rem;border-radius:1.3rem;border:0.5rem solid rgb(204, 204, 204);border-bottom-color:rgb(150, 150, 150);border-right-color:rgb(150, 150, 150);line-height:1.4;display:inline-block;background-color:rgb(247, 247, 247);text-shadow:0 1rem 0 #fff;opacity:",e=>e.disabled?.25:1,";"),Pge=Xe.memo(Tge);function FM(e){return e&&e.length?A4(e):[]}function Mge({players:e}){const t=ct.getCurrentTime(!1),n=ct.getSongBeatLength(),r=ct.getDuration(),i=ct.getSong(),s=S.useMemo(()=>FM(i.tracks.filter((d,c)=>e.find(h=>h.track===c)).map(({sections:d})=>ol(d)*n+i.gap)),[i,n,e]),o=S.useMemo(()=>FM(i.tracks.filter((d,c)=>e.find(h=>h.track===c)).map(({sections:d})=>Th(d)*n+i.gap)),[i,n,e]),l=r*1e3;return!t||!r?null:p.jsxs(Zw,{children:[s.map(d=>p.jsx($M,{position:d/l},d)),o.map(d=>p.jsx($M,{position:d/l},d)),p.jsx(Vge,{fill:t/l})]})}const Zw=G("div",{target:"e1pz3mwm2"})({name:"1q7pdku",styles:"position:absolute;height:0.6rem;width:100%;background:rgba(0, 0, 0, 0.5);left:0;top:calc(50% - 0.3rem)"}),jge=G(Zw,{target:"e1pz3mwm1"})("top:0;margin-left:-0.25rem;width:0.5rem;background:",Ve.colors.text.active,";opacity:75%;"),$M=e=>p.jsx(jge,{style:{left:`${Math.min(e.position*100,100)}%`}}),Oge=G(Zw,{target:"e1pz3mwm0"})({name:"1ssqmyb",styles:"top:0;background:white;opacity:50%"}),Vge=e=>p.jsx(Oge,{style:{width:`${Math.round(e.fill*1e4)/100}%`}});function Lge({player:e,bottom:t=!1,...n}){const r=tr.getPlayerVolume(e.number),i=hN(e.number);return p.jsxs(Nge,{...n,children:[i!=="unavailable"&&p.jsx(Hfe,{playerNumber:e.number,volume:r}),p.jsx(Bge,{status:i,tooltipPosition:"start"}),p.jsx(Dge,{playerNumber:e.number})]})}const Nge=G("div",{target:"ea232322"})({name:"180gow0",styles:"width:20rem;position:relative"}),Bge=G(mN,{target:"ea232321"})({name:"14rk3pa",styles:"top:auto;right:1rem;bottom:-0.5rem"}),Dge=G(gN,{target:"ea232320"})({name:"ed8znk",styles:"z-index:2;font-size:2rem;margin-right:1rem;-webkit-text-stroke:0.1rem black"});function zM({player:e,bottom:t=!1,effectsEnabled:n,showStatusForAllPlayers:r}){var T;const i=ct.getPlayer(e.number),[s]=Tt(Qr),o=Ve.colors.players[e.number].text,l=((T=ct.getSingSetup())==null?void 0:T.mode)===yi.PASS_THE_MIC?i.getTrack().changes:[],d=i.getCurrentSection(),c=i.getNextSection(),h=i.getNextSection(2),f=ct.getCurrentBeat(),m=ct.getSongBeatLength(),v=Math.max(0,...l.filter(w=>w<=((d==null?void 0:d.start)??-1/0))),A=l.find(w=>w>((d==null?void 0:d.start)??1/0))??1/0,b=(A-f)*m,x=(A-f)/(A-v),E=b<2500,I=ln(d),P=I?ol([d])-d.start:0;return p.jsxs(Hge,{shouldBlink:E,bottom:t,"data-test":`lyrics-container-player-${e.number}`,children:[!s&&n&&p.jsx(Fge,{children:r?ct.getPlayers().map(w=>p.jsx(UM,{player:it.getPlayer(w.getNumber())},w.getNumber())):p.jsx(UM,{player:e})}),b<1/0&&p.jsx(Qge,{color:o,progress:x<=1?x*100:0}),I?p.jsx(p.Fragment,{children:p.jsxs(hm,{"data-test":`lyrics-current-player-${e.number}`,effectsEnabled:n,children:[p.jsx($ge,{children:p.jsx(Uge,{color:o,percent:Math.min(2,(f-d.start)/P)})}),d==null?void 0:d.notes.map(w=>{const R=Math.max(0,Math.min(2,(f-w.start)/w.length));return p.jsxs(Gge,{type:w.type,children:[p.jsxs(qge,{children:[p.jsx(Kge,{fill:R,color:o,children:w.lyrics.trim()}),w.lyrics.endsWith(" ")&&" "]}),w.lyrics]},w.start)}),(c==null?void 0:c.start)===A&&p.jsx(HM,{"data-should-shake":!0})]})}):p.jsx(hm,{effectsEnabled:n,children:""}),ln(c)?p.jsxs(hm,{nextLine:!0,"data-test":`lyrics-next-player-${e.number}`,effectsEnabled:n,children:[c.notes.map(w=>p.jsx(S.Fragment,{children:w.lyrics},w.start)),(h==null?void 0:h.start)===A&&p.jsx(HM,{})]}):p.jsx(hm,{effectsEnabled:n,nextLine:!0,children:""})]})}const UM=G(Lge,{target:"e1j3lo7n10"})({name:"82a6rk",styles:"flex:1"}),Fge=G("div",{target:"e1j3lo7n9"})({name:"zrovsy",styles:"position:absolute;top:0;right:0;display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%"}),$ge=G("span",{target:"e1j3lo7n8"})({name:"1sngsgs",styles:"position:relative;height:0"}),zge=G("span",{target:"e1j3lo7n7"})({name:"7drlms",styles:"position:absolute;width:15rem;height:3.1rem;margin:0.7rem 0;right:10rem"}),Uge=({percent:e,color:t})=>{const n=S.useMemo(()=>{const r=ke(t).toRgb();return`${r.r}, ${r.g}, ${r.b}`},[t]);return p.jsx(zge,{style:{transformOrigin:"right",transform:`scaleX(${Math.min(1,2-e)})`,right:`${Math.max(0,1-e)*15}rem`,background:`linear-gradient(270deg, rgba(${n}, 1) 0%, rgba(${n}, 0.5) 25%, rgba(${n}, 0) 100%)`}})},Hge=G("div",{target:"e1j3lo7n6"})("@keyframes blink{100%{background-color:rgba(0, 0, 0, ",e=>e.bottom?"0.85":"0.5",");}30%{background-color:rgba(0, 0, 0, ",e=>e.bottom?"0.85":"0.5",");}50%{background-color:rgba(200, 200, 200, ",e=>e.bottom?"0.85":"0.5",");}30%{background-color:rgba(0, 0, 0, ",e=>e.bottom?"0.85":"0.5",");}0%{background-color:rgba(0, 0, 0, ",e=>e.bottom?"0.85":"0.5",");}}box-sizing:border-box;padding:1rem;background:rgba(0, 0, 0, ",e=>e.bottom?"0.9":"0.5",");width:100%;text-align:center;line-height:1;position:relative;",e=>e.shouldBlink?"animation: blink 350ms ease-in-out infinite both;":"",";"),Gge=G("span",{target:"e1j3lo7n5"})("font-style:",e=>e.type==="freestyle"?"italic":"normal",";"),qge=G("span",{target:"e1j3lo7n4"})({name:"nffb2y",styles:"position:absolute;z-index:1"}),Wge=G("span",{target:"e1j3lo7n3"})(""),Kge=({fill:e,color:t,children:n})=>p.jsx(Wge,{style:{clipPath:`inset(0 ${(1-(e===0?0:e+.05))*100}% -5rem 0)`,color:`${t}`},children:n}),Yge=G("div",{target:"e1j3lo7n2"})({name:"d6fl9l",styles:"position:absolute;height:1rem;width:100%"}),Qge=e=>p.jsx(Yge,{"data-test":"pass-the-mic-progress",style:{background:e.color,transformOrigin:"left",transform:`scaleX(${e.progress/100})`}}),HM=G(Lw,{target:"e1j3lo7n1"})("@keyframes shake{10%,90%{transform:translate3d(-0.1rem, 0, 0);}20%,80%{transform:translate3d(0.2rem, 0, 0);}30%,50%,70%{transform:translate3d(-0.4rem, 0, 0);}40%,60%{transform:translate3d(0.4rem, 0, 0);}}font-size:3rem;margin-left:2rem;&[data-should-shake='true']{animation:shake 0.92s cubic-bezier(0.36, 0.07, 0.19, 0.97) both infinite;fill:",Ve.colors.text.active,";font-size:4rem;}"),hm=G("div",{target:"e1j3lo7n0"})("font-size:",({nextLine:e,effectsEnabled:t})=>t?3.5+(e?0:1):2,"rem;height:",({effectsEnabled:e})=>e?4.5:2,"rem;-webkit-text-stroke-width:",({effectsEnabled:e})=>e?"0.2rem":"1px",";color:",({nextLine:e})=>e?Ve.colors.text.inactive:Ve.colors.text.default,";font-family:'Comic Sans MS',Seravek,'Gill Sans Nova',Ubuntu,Calibri,'DejaVu Sans',source-sans-pro,sans-serif;z-index:10;"),xN=new Intl.NumberFormat(void 0,{maximumFractionDigits:0});function jS({score:e}){return p.jsx(p.Fragment,{children:xN.format(e)})}const wN=6,As=30,sr=As+6,Jge=e=>{const t=e.canvas.width,n=e.canvas.height,r=Math.max(0,(t-n*(16/9))/2),i=10+(t-2*r)*.15+r,s=n-e.paddingVertical*2;return{width:t-i*2,height:s/e.playerCount,baseX:i,baseY:e.paddingVertical+e.playerIndex*s/e.playerCount}};function GM({canvas:e,currentSectionIndex:t,song:n,songBeatLength:r,minPitch:i,maxPitch:s,track:o,playerIndex:l,playerCount:d,paddingVertical:c}){var P;const h=o.sections,f=h[t],m=h[t+1],v=Jge({canvas:e,playerCount:d,playerIndex:l,paddingVertical:c}),A=ln(f)?(P=f==null?void 0:f.notes)==null?void 0:P.at(-1):void 0,b=ln(f)?(m==null?void 0:m.start)??A.start+A.length:f.end,x=f.start*r,E=(b-f.start)*r,I=(v.height-20-As)/(s-i+wN*2);return{playerCanvas:v,currentSection:f,sectionEndBeat:b,timeSectionGap:x,maxTime:E,pitchStepHeight:I}}function EN(e,t,n,r,i){return i&&n?Ve.colors.players[t].starPerfect:i?Ve.colors.players[t].perfect:n&&r?Ve.colors.players[t].star:r?Ve.colors.players[t].hit:Ve.colors.players[t].miss}function Xge(e,t,n,r){return EN(e,t,r.note.type==="star",n,r.isPerfect)}const _b={},Zge=e=>{if(!_b[e]){const t=ke(e);_b[e]=[[t.setAlpha(.8).toRgbString(),t.setAlpha(.9).toRgbString(),t.setAlpha(1).toRgbString()],[t.setAlpha(0).toRgbString()],[t.setAlpha(.1).toRgbString(),t.setAlpha(.3).toRgbString(),t.setAlpha(.2).toRgbString()]]}return _b[e]};function OS(e,t,n,r,i,s,o,l=1){if(i<=0)return;t.globalAlpha=1;const d=t.createRadialGradient(n,r,0,n,r,i/2),[c,h,f]=Zge(o);d.addColorStop(0,c[no(0,c.length-1)]),d.addColorStop(.05,c[no(0,c.length-1)]),d.addColorStop(.15,f[no(0,f.length-1)]),d.addColorStop(1,h[no(0,h.length-1)]),t.beginPath(),t.arc(n,r,i/2,0,2*Math.PI),t.closePath(),t.fillStyle=d,t.fill(),t.fillStyle=o,t.globalAlpha=1}function eE(e,t,n,r,i,s,o,l,d=1){i>0&&OS(e,t,n,r,i,s,l,d)}const ph=(e,t)=>e-t+Math.random()*t*2,qM=(e=0)=>Math.sign(e+Math.random()-.5),eme=500,tme=100,pm=.2;class nme{constructor(t,n,r){this.x=t,this.y=n,this.color=r,this.finished=!1,this.tick=(i,s,o)=>{const l=1-this.ttl/this.startingTtl,d=this.startingTtl-this.ttl,c=this.width*l,h=this.width*this.heightModifier*l,f=this.x-c/2+d*this.velocityX,m=this.y+h/2+d*this.velocityY;eE(s,i,f,m,c,h,this.initialAngle+d,this.color,.5*l),this.ttl=this.ttl-o,this.finished=this.ttl<=0},this.startingTtl=this.ttl=ph(eme,tme),this.velocityX=pm*Math.random()-pm/2,this.velocityY=pm*Math.random()-pm/2,this.width=25,this.initialAngle=180-Math.random()*360,this.heightModifier=.5+Math.random()/2}}class rme{constructor(t,n,r,i,s){this.finished=!0,this.tick=(c,h)=>{};const o=Ve.colors.players[i].starPerfect.fill,l=ke(o).lighten(15).toRgbString(),d=ke(o).darken(15).toRgbString();if(Math.random()>.85){const c=no(0,r/8),h=Math.random();let f=o;h>.66?f=l:h>.33&&(f=d);const m=n+20*(Math.random()-.5);s.add(new nme(t+c*8,m,f))}}}const ime=300,sme=50,gm=1.3;class ome{constructor(t,n,r){this.x=t,this.y=n,this.color=r,this.finished=!1,this.tick=(i,s,o)=>{const l=1-this.ttl/this.startingTtl,d=this.ttl,c=this.width*l,h=this.width*this.heightModifier*l,f=this.x-c/2+d*this.velocityX,m=this.y+h/2+d*this.velocityY;eE(s,i,f,m,c,h,this.initialAngle+d,this.color,.7*l),this.ttl=this.ttl-o,this.finished=this.ttl<=0},this.startingTtl=this.ttl=ph(ime,sme),this.velocityX=gm*Math.random()-gm/2,this.velocityY=gm*Math.random()-gm/2,this.width=25,this.initialAngle=180-Math.random()*360,this.heightModifier=.5+Math.random()/2}}const ame=`
precision mediump float;
`,oy=ame.replace(/\n/g,""),lme=`
attribute vec3 aVertexPosition;
attribute vec2 aTextureCoord;
`,CN=lme.replace(/\n/g,""),cme=`
varying vec3 vVertexPosition;
varying vec2 vTextureCoord;
`,ay=cme.replace(/\n/g,""),ume=oy+CN+ay+`
uniform mat4 uMVMatrix;
uniform mat4 uPMatrix;

void main() {
    vTextureCoord = aTextureCoord;
    vVertexPosition = aVertexPosition;
    
    gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);
}
`;ume.replace(/\n/g,"");const dme=oy+ay+`
void main() {
    gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
}
`;dme.replace(/\n/g,"");const fme=oy+CN+ay+`
void main() {
    vTextureCoord = aTextureCoord;
    vVertexPosition = aVertexPosition;
    
    gl_Position = vec4(aVertexPosition, 1.0);
}
`;fme.replace(/\n/g,"");const hme=oy+ay+`
uniform sampler2D uRenderTexture;

void main() {
    gl_FragColor = texture2D(uRenderTexture, vTextureCoord);
}
`;hme.replace(/\n/g,"");function pme(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:Kx(e,t,n)}var gme="\\ud800-\\udfff",mme="\\u0300-\\u036f",vme="\\ufe20-\\ufe2f",yme="\\u20d0-\\u20ff",Ame=mme+vme+yme,bme="\\ufe0e\\ufe0f",_me="\\u200d",Sme=RegExp("["+_me+gme+Ame+bme+"]");function kN(e){return Sme.test(e)}function xme(e){return e.split("")}var TN="\\ud800-\\udfff",wme="\\u0300-\\u036f",Eme="\\ufe20-\\ufe2f",Cme="\\u20d0-\\u20ff",kme=wme+Eme+Cme,Tme="\\ufe0e\\ufe0f",Ime="["+TN+"]",VS="["+kme+"]",LS="\\ud83c[\\udffb-\\udfff]",Rme="(?:"+VS+"|"+LS+")",IN="[^"+TN+"]",RN="(?:\\ud83c[\\udde6-\\uddff]){2}",PN="[\\ud800-\\udbff][\\udc00-\\udfff]",Pme="\\u200d",MN=Rme+"?",jN="["+Tme+"]?",Mme="(?:"+Pme+"(?:"+[IN,RN,PN].join("|")+")"+jN+MN+")*",jme=jN+MN+Mme,Ome="(?:"+[IN+VS+"?",VS,RN,PN,Ime].join("|")+")",Vme=RegExp(LS+"(?="+LS+")|"+Ome+jme,"g");function Lme(e){return e.match(Vme)||[]}function Nme(e){return kN(e)?Lme(e):xme(e)}function Bme(e){return function(t){t=qx(t);var n=kN(t)?Nme(t):void 0,r=n?n[0]:t.charAt(0),i=n?pme(n,1).join(""):t.slice(1);return r[e]()+i}}var Dme=Bme("toUpperCase");function Fme(e){return Dme(qx(e).toLowerCase())}function WM(e,t,n,r,i,s,o,l){const d=Math.max(r,i/2),c=Math.min(d/2,i/2,s);e.beginPath(),e.moveTo(t+c,n),e.lineTo(t+d-c,n),e.quadraticCurveTo(t+d,n,t+d,n+c),e.lineTo(t+d,n+i-c),e.quadraticCurveTo(t+d,n+i,t+d-c,n+i),e.lineTo(t+c,n+i),e.quadraticCurveTo(t,n+i,t,n+i-c),e.lineTo(t,n+c),e.quadraticCurveTo(t,n,t+c,n),e.closePath(),o&&e.fill(),l&&e.stroke()}function tE(e,t,n,r,i,s,o,l,d=.1){WM(e,t,n,r,i,s,o,l),o&&d>0&&(e.save(),WM(e,t,n,r,i,s,!1,!1),e.clip(),e.fillStyle=`rgba(255,255,255,${d})`,e.fillRect(t,n,r,i/2.2),e.restore())}function Jf(e,t){e.fillStyle=t.fill,e.strokeStyle=t.stroke,e.lineWidth=t.lineWidth}function Xf(e,t,n,r,i,s,o){s==="star"?Jf(e,Ve.colors.lines.star):s==="freestyle"||s==="rap"?Jf(e,Ve.colors.lines.freestyle):s==="rapstar"?Jf(e,{...Ve.colors.lines.star,fill:Ve.colors.lines.freestyle.fill}):Jf(e,Ve.colors.lines.normal),e.shadowBlur=10,e.shadowColor=o!==void 0?Ve.colors.players[o].miss.stroke:"rgb(31,31,31)",e.shadowOffsetX=0,e.shadowOffsetY=0,tE(e,t,n,r,i,100,!0,!0,.075),e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0}function $me(e,t,n,r,i,s,o,l,d){Jf(e,EN(e,s,d,o,l)),e.shadowBlur=5,e.shadowColor="rgba(31,31,31, .7)",e.shadowOffsetX=1,e.shadowOffsetY=1,tE(e,t,n,r,i,100,!0,!0,o?.15:0),e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0}const vr=10,zme={start:{x:0,y:0,w:As/2+vr,h:As+vr*2},middle:{x:As/2+vr,y:0,w:1,h:As+vr*2},end:{x:As/2+1+vr,y:0,w:As/2+vr,h:As+vr*2}},Du={start:{x:0,y:0,w:sr/2+vr,h:sr+vr*2},middle:{x:sr/2+vr,y:0,w:1,h:sr+vr*2},end:{x:sr/2+1+vr,y:0,w:sr/2+vr,h:sr+vr*2}},Cu=(e,t,n,r,i)=>({draw:(s,o,l,d,c)=>$me(s,o,l,d,c,e,t,n,r),width:i?sr:As+1,height:i?sr:As,padding:vr,fragments:i?Du:zme}),mm=e=>({[`p${e}Normal`]:{draw:(t,n,r,i,s)=>Xf(t,n,r,i,s,"normal",e),width:sr+1,height:sr,padding:vr,fragments:Du},[`p${e}Miss`]:Cu(e,!1,!1,!1,!1),[`p${e}Hit`]:Cu(e,!0,!1,!1,!0),[`p${e}Perfect`]:Cu(e,!0,!0,!1,!0),[`p${e}StarMiss`]:Cu(e,!1,!1,!0,!1),[`p${e}StarHit`]:Cu(e,!0,!1,!0,!0),[`p${e}StarPerfect`]:Cu(e,!0,!0,!0,!0)}),ra={...mm(0),...mm(1),...mm(2),...mm(3),noteStar:{draw:(e,t,n,r,i)=>Xf(e,t,n,r,i,"star"),width:sr+1,height:sr,padding:vr,fragments:Du},noteFreestyle:{draw:(e,t,n,r,i)=>Xf(e,t,n,r,i,"freestyle"),width:sr+1,height:sr,padding:vr,fragments:Du},noteRap:{draw:(e,t,n,r,i)=>Xf(e,t,n,r,i,"rap"),width:sr+1,height:sr,padding:vr,fragments:Du},noteRapstar:{draw:(e,t,n,r,i)=>Xf(e,t,n,r,i,"rapstar"),width:sr+1,height:sr,padding:vr,fragments:Du}};function Ume(e,t){const n=document.createElement("canvas");return n.width=e,n.height=t,n}const ON=Math.max(...Object.values(ra).map(e=>e.padding*2+e.width)),VN=Object.values(ra).map(e=>e.padding*2+e.height).reduce((e,t)=>e+t,0),LN=Ume(ON,VN),NS=LN.getContext("2d");let nc=0;const KM=Object.entries(ra).map(([e,t])=>{const n=t.padding*2,r={name:e,x:0,y:nc,w:t.width+n,h:t.height+n};return nc=nc+t.height+n,r}).reduce((e,t)=>({...e,[t.name]:t}),{}),NN=()=>{NS.clearRect(0,0,ON,VN),nc=0,Object.entries(ra).forEach(([e,t])=>{t.draw(NS,t.padding,nc+t.padding,t.width,t.height),nc=nc+t.padding*2+t.height})};NN();ge.songStarted.subscribe(NN);const BN=(e,t)=>({canvas:LN,ctx:NS,x:KM[e].x+ra[e].fragments[t].x,y:KM[e].y+ra[e].fragments[t].y,w:ra[e].fragments[t].w,h:ra[e].fragments[t].h,padding:ra[e].padding}),Sb=(e,t,n,r,i,s,o,l=1,d=1)=>{const c=BN(t,n),{canvas:h,w:f,h:m,y:v,x:A,padding:b}=c,x=b*l,E=b*d;return e.imageSmoothingEnabled=!1,e.drawImage(h,A,v,f,m,r-x,i-E,s??f,m),e.imageSmoothingEnabled=!0,c};function DN(e,t,n,r,i){const s=BN(t,"start"),o=Math.max(i,(s.h-s.padding*2)/2),l=Math.min(1,o/2/(s.w-s.padding)),d=l*s.w,c=d-s.padding*l,h=o-2*c;Sb(e,t,"start",n,r,d,void 0,l),h>0&&Sb(e,t,"middle",n+d,r,h,void 0,l),Sb(e,t,"end",n+h+d,r,d,void 0,l)}const Hme=(e,t)=>`${t!==void 0&&e==="normal"?`p${t}`:"note"}${Fme(e)}`;function FN(e,t,n,r,i,s){const o=Hme(i.type,s);DN(e,o,t,n,r)}function Gme(e,t,n,r,i,s){e.save(),tE(e,t,n,r,i,100,!1,!1),e.clip(),e.beginPath(),e.strokeStyle="rgba(255,255,255, .35)",e.lineWidth=3,e.lineJoin="round",e.moveTo(t,n+i/2-s.frequencyRecords[0].preciseDistance*i/3);for(let o=1;o<s.frequencyRecords.length;o++)e.lineTo(t+o*(r/(s.frequencyRecords.length-1)),n+i/2-s.frequencyRecords[o].preciseDistance*i/3);e.stroke(),e.closePath(),e.restore(),e.lineJoin="miter"}const qme=(e,t,n,r)=>{let i=`p${e}`;return n&&r?i=`${i}StarPerfect`:n?i=`${i}Perfect`:r&&t?i=`${i}StarHit`:t?i=`${i}Hit`:r&&!t?i=`${i}StarMiss`:i=`${i}Miss`,i},Wme=["star","rapstar"];function Kme(e,t,n,r,i,s,o){const l=qme(i,s,o.isPerfect,Wme.includes(o.note.type));DN(e,l,t,n,r)}class Yme{constructor(){this.particles=[],this.lastTick=Date.now(),this.getTimeDelta=t=>{const n=Date.now()-t,r=n-this.lastTick;return this.lastTick=n,r},this.tick=(t,n,r=0)=>{const i=this.getTimeDelta(r);this.particles.forEach(s=>s.tick(t,n,i)),this.particles=this.particles.filter(s=>!s.finished)},this.add=t=>this.particles.push(t),this.clearAll=()=>this.particles=[]}}const Qo=new Yme,Qme=50/60*1e3,Jme=25/60*1e3,Xme=60,YM=.3;class Zme{constructor(t,n,r,i){this.x=t,this.y=n,this.color=r,this.delay=i,this.finished=!1,this.tick=(s,o,l)=>{if(this.delay-- >0)return;const d=this.ttl/this.startingTtl,c=this.startingTtl-this.ttl,h=this.width*d,f=this.width*this.heightModifier*d,m=this.x-h/2+c*this.velocityX,v=this.y-f/2+c*this.velocityY;eE(o,s,m,v,h,f,this.initialAngle+c,this.color,.8*d),this.velocityX=this.velocityX-.009,this.velocityY=this.velocityY*1.0075,this.ttl=this.ttl-l,this.finished=this.ttl<=0},this.startingTtl=this.ttl=ph(Qme,Jme),this.velocityX=ph(.5,YM)*qM(.2),this.velocityY=ph(.4,YM)*qM(),this.width=Xme,this.initialAngle=180-Math.random()*360,this.heightModifier=.5+Math.random()/2}}class e0e{constructor(t,n,r,i,s,o){this.finished=!0,this.tick=(f,m)=>{};const l=s.type==="star"?Ve.colors.players[i].star.fill:Ve.colors.players[i].perfect.fill,d=ke(l).lighten(15).toRgbString(),c=ke(l).darken(15).toRgbString(),h=r/9;for(let f=0;f<h;f++){const m=Math.random();let v=l;m>.66?v=d:m>.33&&(v=c);const A=n+20*(Math.random()-.5);o.add(new Zme(t+f*9,A,v,(h-f)/10))}}}const QM=200;class t0e{constructor(t,n,r,i,s){this.x=t,this.y=n,this.width=r,this.note=i,this.playerNumber=s,this.finished=!1,this.ttl=QM,this.tick=(o,l,d)=>{const c=this.ttl/QM;o.save(),o.globalAlpha=c,o.translate(0,sr*(1-c)),FN(o,this.x,this.y,this.width,this.note,this.playerNumber),o.globalAlpha=1,o.restore(),this.ttl=this.ttl-d,this.finished=this.ttl<=0}}}const xb=50/60*1e3,vm=.05,n0e=200,JM=4,r0e=Math.pow;function XM(e){return 1-r0e(1-e,2)}class i0e{constructor(t,n,r,i){this.x=t,this.y=n,this.finished=!1,this.tick=(s,o,l)=>{const d=this.ttl/xb;let c=XM(1-Math.min(1,(1-d)*6));const h=this.maxWidth*c*3/4,f=this.maxWidth*c;OS(o,s,this.x,this.y,h,f,"white",c*.35),c=XM(d);const m=c*this.maxWidth/4,v=c*this.maxWidth/4,A=this.x,b=this.y,x=xb-this.ttl;s.globalAlpha=c*.2,OS(o,s,A+x*this.velocityX,b+x*this.velocityY,m,v,"white",c*.2),this.ttl=this.ttl-l,this.finished=this.ttl<=0},this.ttl=xb,this.velocityX=vm*Math.random()-vm/2,this.velocityY=vm*Math.random()-vm/2,this.maxWidth=Math.min(.1+i,1)*(Math.sin(r/70)*JM+(n0e-JM))}}const ZM=20;class s0e{constructor(t,n,r,i,s){this.x=t,this.y=n,this.w=r,this.h=i,this.seed=s,this.finished=!1,this.ttl=2/60*1e3,this.tick=(o,l,d)=>{o.strokeStyle="rgba(255,255,255,.25)",o.lineWidth=2,o.beginPath();for(let c=0;c<this.w;c++){const h=this.x+this.w-c,f=(this.h/2+2)*Math.sin(h/ZM+this.seed/250);o.lineTo(h,this.y+this.h/2+f)}o.stroke(),o.beginPath();for(let c=0;c<this.w;c++){const h=this.x+this.w-c,f=-1*(this.h/2+2)*Math.sin(h/ZM+this.seed/250);o.lineTo(h,this.y+this.h/2+f)}o.stroke(),this.ttl=this.ttl-d,this.finished=this.ttl<=0}}}const e5=20;function o0e(e,t){return e.find(n=>n.start<=t&&n.start+n.length>=t)}class a0e{constructor(t,n=0,r=1){this.canvas=t,this.verticalMargin=n,this.scaleFactor=r,this.loop=!1,this.pauseTime=0,this.pausedOn=0,this.shaders=null,this.start=()=>{ge.sectionChange.subscribe(this.onSectionEnd),this.loop=!0,this.drawFrame()},this.pause=()=>{this.end(),this.pausedOn=Date.now()},this.resume=()=>{this.pauseTime+=Date.now()-this.pausedOn,this.start()},this.end=()=>{var i;this.loop=!1,(i=this.shaders)==null||i.cleanup(),ge.sectionChange.unsubscribe(this.onSectionEnd)},this.isPlaying=()=>this.loop,this.drawFrame=()=>{const i=Date.now(),s=this.canvas.getContext("2d");if(s){if(ct.isPlaying()&&(s.clearRect(0,0,this.canvas.width,this.canvas.height),it.getPlayers().forEach((l,d)=>{this.drawPlayer(l.number,s)}),Qo.tick(s,this.canvas,this.pauseTime)),rc.get()===30){const o=Date.now(),l=1e3/30,d=o-i>l?l:l-(o-i);this.loop&&setTimeout(this.drawFrame,d,rc.get())}rc.get()!==30&&this.loop&&global.requestAnimationFrame(this.drawFrame)}},this.drawPlayer=(i,s)=>{const o=this.getDrawingData(i),{currentSection:l}=GM(o);if(xs.get()==="high"&&this.setDistortionForce(o),!ln(l))return;const d=this.calculateDisplacements(l,o);this.drawNotesToSing(s,o,d),this.drawSungNotes(s,o,d),xs.get()==="high"&&(this.drawFlare(s,o,d),this.markGoldNotes(l,o))},this.setDistortionForce=i=>{var o,l,d;const s=i.currentSection;if(!ln(s))(l=this.shaders)==null||l.updatePlayerForce(i.playerNumber,(((o=this.shaders)==null?void 0:o.getPlayerForce(i.playerNumber))??0)*.99);else{const c=Math.max(0,i.currentBeat-e5),h=i.currentPlayerNotes.filter(b=>b.note.start+b.note.length>=c).filter(b=>_0(b)===0).reduce((b,x)=>b+x.length-Math.max(0,c-x.start),0),f=i.currentPlayerNotes.at(-1),m=((f==null?void 0:f.start)??0)+((f==null?void 0:f.length)??0),v=i.currentBeat-m,A=Math.max(Math.min(Math.pow((h-v/1.5)/e5,3),.98),0);(d=this.shaders)==null||d.updatePlayerForce(i.playerNumber,A)}},this.drawNotesToSing=(i,s,o)=>{ln(s.currentSection)&&s.currentSection.notes.forEach(l=>{const{x:d,y:c,w:h,h:f}=this.getNoteCoords(s,l,l.pitch,!0,o[l.start]);FN(i,d,c,h,l,s.playerNumber)})},this.drawSungNotes=(i,s,o)=>{ln(s.currentSection)&&s.currentPlayerNotes.forEach(l=>{const d=_0(l),{x:c,y:h,w:f,h:m}=this.getNoteCoords(s,l,l.note.pitch+d,d===0,o[l.note.start]);(d>0||f>m/2.5)&&(Kme(i,c,h,f,s.playerNumber,d===0,l),l.vibrato&&Qo.add(new s0e(c,h,f,m,s.currentTime)),d===0&&l.frequencyRecords.length>3&&!oh.includes(l.note.type)&&Gme(i,c,h,f,m,l))})},this.drawFlare=(i,s,o)=>{var d;if(!ln(s.currentSection))return;const l=o0e(s.currentPlayerNotes,s.currentBeat-185/s.songBeatLength);if(l&&l.distance===0){const c=o[l.note.start]||[0,0],{x:h,y:f,w:m,h:v}=this.getNoteCoords(s,l,l.note.pitch,!0,c),A=oh.includes(l.note.type)?0:l.frequencyRecords.at(-1).preciseDistance,b=h+m,x=this.getPreciseY(f,v,A);Qo.add(new i0e(b,x,s.currentTime,1)),Qo.add(new ome(AN(Math.max(h,b-50),b),x,Xge(i,s.playerNumber,!0,l).fill)),(d=this.shaders)==null||d.updatePlayerCenter(s.playerNumber,b,x)}},this.onSectionEnd=i=>{if(ct.isPlaying()){const s=this.getDrawingData(i,-1);if(!ln(s.currentSection))return;this.fadeoutNotes(s.currentSection,s),this.explodeNotes(s.currentSection,s)}},this.fadeoutNotes=(i,s)=>{xs.get()==="high"&&i.notes.forEach(o=>{const{x:l,y:d,w:c,h}=this.getNoteCoords(s,o,o.pitch,!0);Qo.add(new t0e(l,d,c,o,s.playerNumber))})},this.explodeNotes=(i,s)=>{xs.get()==="high"&&s.playerNotes.filter(l=>(l.distance===0||oh.includes(l.note.type))&&i.notes.includes(l.note)).forEach(l=>{const{x:d,y:c,w:h,h:f}=this.getNoteCoords(s,l,l.note.pitch,!0);Qo.add(new e0e(d,c+f/2,h,s.playerNumber,l.note,Qo))})},this.markGoldNotes=(i,s)=>{i.notes.filter(l=>l.type==="star"||l.type==="rapstar").forEach(l=>{const{x:d,y:c,w:h,h:f}=this.getNoteCoords(s,l,l.pitch,!0);Qo.add(new rme(d,c+f/2,h,s.playerNumber,Qo))})},this.calculateDisplacements=(i,s)=>{const o={};return xs.get()==="high"?i.notes.forEach(l=>{const d=s.playerNotes.filter(m=>m.note.start===l.start).filter(m=>m.note.start+m.note.length+30>=s.currentBeat&&m.distance===0).map(m=>m.start+30<s.currentBeat?m.length-(s.currentBeat-30-m.start):m.length).reduce((m,v)=>Math.min(m+v,30),0),c=Math.max(0,(d-5)/(l.type==="star"?3:5)),h=(Math.random()-.5)*c,f=(Math.random()-.5)*c;o[l.start]=[h,f]}):i.notes.forEach(l=>{o[l.start]=[0,0]}),o},this.getDrawingData=(i,s=0)=>{const o=it.getPlayers(),l=o.findIndex(b=>b.number===i),d=o.length,c=ct.getPlayer(i),h=c.getCurrentSectionIndex()+s,f=ct.getSong(),m=c.getTrack(),v=m.sections[h],A=c.getPlayerNotes();return{playerNumber:i,playerIndex:l,playerCount:d,song:f,songBeatLength:ct.getSongBeatLength(),minPitch:c.getMinPitch(),maxPitch:c.getMaxPitch(),canvas:this.canvas,currentTime:ct.getCurrentTime(),frequencies:c.getPlayerFrequencies(),playerNotes:A,currentPlayerNotes:A.filter(b=>b.note.start>=((v==null?void 0:v.start)??1/0)),track:m,currentBeat:ct.getCurrentBeat(),currentSectionIndex:h,currentSection:v,paddingVertical:this.verticalMargin}},this.getNoteCoords=(i,{start:s,length:o},l,d,c=[0,0])=>{const{sectionEndBeat:h,currentSection:f,playerCanvas:m,pitchStepHeight:v}=GM(i),A=ln(f)?f.notes[0].start:1,b=m.width/(h-A),[x,E]=d?c:[0,0],I=v*(i.maxPitch-l+wN);return{x:Math.floor(m.baseX+b*(s-A)+x),y:Math.floor(m.baseY+10+I+E-(d?3:0)),w:Math.floor(b*o),h:d?sr:As}},this.getPreciseY=(i,s,o)=>i+s/2-o*s/3}}const l0e=`precision mediump float;

const float MAX_FORCE = 300.0;
const int SAMPLE_COUNT = 8; // 2^x
const float INTENSITY = 0.051;
// get our varyings
varying vec3 vVertexPosition;
varying vec2 vTextureCoord;
// the uniform we declared inside our javascript
uniform float uTime;
uniform sampler2D planeTexture;
uniform vec2 uResolution;

uniform vec2 uP0center;
uniform float uP0force;

uniform vec2 uP1center;
uniform float uP1force;

float rnd(float n) {
    return fract(sin(n) * 43758.5453);
}
float random (vec2 st) {
    return rnd(dot(st.xy, vec2(12.9898, 78.233)));
}

vec4 directionalBlur(in vec2 uv, in vec2 direction, in float intensity)
{
    vec4 color = vec4(0.0);

    for (int i=1; i<=SAMPLE_COUNT; i++)
    {
        color += texture2D(planeTexture,uv+float(i)*intensity/float(SAMPLE_COUNT)*direction);
    }

    return color/float(SAMPLE_COUNT);
}

float distort(vec2 center, float force, float comparedIntensity) {
    float actualForce = force * MAX_FORCE;
    vec2 centerAbs = center * uResolution;

    vec2 direction = gl_FragCoord.xy - centerAbs.xy;
    float dist = length(direction) / length(uResolution);


    float intensity = max(0.0, 0.50 - dist) * INTENSITY * pow(force, 1.5);
    if (intensity > comparedIntensity) {
        vec4 newColor = directionalBlur(gl_FragCoord.xy / uResolution, normalize(direction), intensity);
        gl_FragColor = newColor;
    }
    return intensity;
}

void main() {
    gl_FragColor = texture2D(planeTexture, vTextureCoord);
    float p1intensity = distort(uP0center, uP0force, 0.0);
    float p2intensity = distort(uP1center, uP1force, p1intensity);
}`,c0e=`
precision mediump float;

// default mandatory variables
attribute vec3 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat4 uMVMatrix;
uniform mat4 uPMatrix;

uniform mat4 planeTextureMatrix;

// custom varyings
varying vec3 vVertexPosition;
varying vec2 vTextureCoord;

void main() {
    gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);

    // varyings
    vVertexPosition = aVertexPosition;
    vTextureCoord = (planeTextureMatrix * vec4(aTextureCoord, 0.0, 1.0)).xy;
}`,u0e=1920,d0e=S.forwardRef(function({currentStatus:e,width:t,height:n,playerSetups:r,onSongEnd:i,effectsEnabled:s,videoPlayerRef:o,isPauseMenuVisible:l},d){var P,T,w;const[c]=Tt(xs),[h]=Tt(Qr),f=S.useRef(null),m=S.useRef(null),v=S.useRef(null),A=u0e,b=A*(n/t),x=b/n;S.useImperativeHandle(d,()=>({pause:()=>{var R;return(R=m.current)==null?void 0:R.pause()},resume:()=>{var R;return(R=m.current)==null?void 0:R.resume()}}),[m.current,(P=v.current)==null?void 0:P.offsetHeight,x]),S.useEffect(()=>(ct.startInputMonitoring(),()=>{ct.stopInputMonitoring()}),[]),S.useEffect(()=>{if(!(!f.current||!v.current))return m.current=new a0e(f.current,v.current.offsetHeight*x),m.current.start(),()=>{var R;(R=m.current)==null||R.end()}},[(T=v.current)==null?void 0:T.offsetHeight,x]),S.useEffect(()=>{var R,j,V,N;l&&((R=m.current)!=null&&R.isPlaying())?(j=m.current)==null||j.pause():!l&&!((V=m.current)!=null&&V.isPlaying())&&((N=m.current)==null||N.resume())},[l]),S.useEffect(()=>{e===ir.ENDED&&i&&i()},[e,i]);const E=it.getPlayers(),I=!h&&E.length>1;return p.jsxs(f0e,{children:[c==="high"&&p.jsxs(p.Fragment,{children:[p.jsx("script",{type:"x-shader/x-fragment",id:"plane-fs",children:l0e}),p.jsx("script",{id:"plane-vs",type:"x-shader/x-vertex",children:c0e}),p.jsx(p0e,{id:"canvas",style:{zIndex:1e4}})]}),p.jsx(h0e,{id:"plane",style:s?void 0:{opacity:0},children:p.jsx("canvas",{ref:f,width:A,height:b,"data-sampler":"planeTexture"})}),s&&p.jsxs(p.Fragment,{children:[p.jsx(wge,{playerRef:o,isEnabled:!l}),p.jsx(Pge,{onSongEnd:i,isEnabled:!l})]}),p.jsx(Mge,{players:r}),p.jsx(t5,{children:I&&p.jsx(zM,{player:E[0],effectsEnabled:s,showStatusForAllPlayers:E.length>2})}),p.jsx(g0e,{children:s&&p.jsx(p.Fragment,{children:((w=ct.getSingSetup())==null?void 0:w.mode)===yi.CO_OP?p.jsx(n5,{"data-test":"players-score","data-score":Math.floor(ct.getPlayerScore(0)),children:p.jsx(jS,{score:ct.getPlayerScore(0)})}):it.getPlayers().map(R=>p.jsx(n5,{"data-test":`player-${R.number}-score`,"data-score":Math.floor(ct.getPlayerScore(R.number)),children:p.jsx(jS,{score:ct.getPlayerScore(R.number)})},R.number))})}),p.jsx(t5,{ref:v,children:p.jsx(zM,{showStatusForAllPlayers:E.length>2,player:E.length>2?E[0]:E.at(-1),bottom:!0,effectsEnabled:s})})]})}),t5=G("div",{target:"el0barv5"})({name:"14ci2tu",styles:"padding:2rem 0;box-sizing:border-box"}),f0e=G("div",{target:"el0barv4"})({name:"y3i90j",styles:"height:100%;color:white;-webkit-text-stroke:0.2rem black;font-weight:bold;position:relative;display:flex;flex-direction:column"}),h0e=G("div",{target:"el0barv3"})({name:"1x1omeb",styles:"position:absolute;top:0;left:0;width:100%;height:100%;canvas{width:100%;height:100%;}"}),p0e=G("div",{target:"el0barv2"})({name:"1b4920d",styles:"position:absolute;top:0;left:0;width:100%;height:100%"}),g0e=G("div",{target:"el0barv1"})({name:"od05bk",styles:"flex:1;height:100%;box-sizing:border-box;font-size:5.5rem;display:flex;justify-content:space-around;padding-right:4rem;flex-direction:column;text-align:right;z-index:1"}),n5=G("span",{target:"el0barv0"})("");function m0e(e,t){const[n,r]=S.useState(0);return S.useEffect(()=>{e.current&&t===ir.PLAYING&&n===0&&e.current.getDuration().then(i=>{r(i),ct.setDuration(i)})},[n,e,t]),n}function v0e({song:e,width:t,height:n,autoplay:r=!0,showControls:i=!1,onCurrentTimeUpdate:s,onSongEnd:o,onStatusChange:l,players:d,effectsEnabled:c=!0,singSetup:h,restartSong:f,pauseMenu:m=!1,...v},A){const b=S.useRef(null),[x,E]=S.useState(0),[I,P]=S.useState(ir.UNSTARTED),[T]=Tt(rh),[w,R]=S.useState(!1);S.useEffect(()=>(ct.setSong(e),ct.setSingSetup(h),()=>{ct.resetSingSetup()}),[e,h]),S.useEffect(()=>{if(b.current&&I===ir.PLAYING){const D=setInterval(async()=>{if(!b.current)return;const L=Math.max(0,await b.current.getCurrentTime()*1e3-T);E(L),s==null||s(L),ct.setCurrentTime(L),ct.update()},1e3/rc.get());return()=>clearInterval(D)}},[b,s,I,T]);const j=m0e(b,I);S.useImperativeHandle(A,()=>({seekTo:D=>b.current.seekTo(D),setPlaybackSpeed:D=>b.current.setPlaybackSpeed(D),play:()=>b.current.playVideo(),pause:()=>b.current.pauseVideo()}));const V=S.useCallback(D=>{P(D),l==null||l(D)},[P,l]),N=m,k=()=>{var D;R(!0),(D=b.current)==null||D.pauseVideo()},B=()=>{var D;R(!1),(D=b.current)==null||D.playVideo()},H=()=>{w?B():k()},F=J0(I);S.useEffect(()=>{var L;if(!N)return;const D=F!==ir.PAUSED&&F!==ir.BUFFERING&&I===ir.PAUSED;I===ir.PLAYING&&w?(L=b.current)==null||L.pauseVideo():D&&!w&&R(!0)},[w,I,F,N]),Dc({back:H},N,[w]);const U=S.useMemo(()=>({back:"Pause Menu"}),[]);return Vd(U,c),p.jsxs(y0e,{...v,children:[w&&p.jsx(bge,{onExit:o,onResume:B,onRestart:f}),I!==ir.UNSTARTED&&p.jsx(A0e,{style:{width:`${t}px`,height:`${n}px`},children:p.jsx(d0e,{isPauseMenuVisible:w,effectsEnabled:c,duration:j,currentStatus:I,song:e,width:t,height:n,onSongEnd:o,playerSetups:d,videoPlayerRef:b.current})}),p.jsxs(b0e,{children:[p.jsx(Gw,{ref:b,video:e.video,width:t,height:n,controls:i,autoplay:r,disablekb:!0,volume:e.volume,startAt:e.videoGap??0,onStateChange:V}),I===ir.PLAYING&&p.jsx(_0e,{"data-test":"make-song-go-fast",onClick:()=>{var D;(D=b.current)==null||D.setPlaybackSpeed(2)}})]})]})}const y0e=G("div",{target:"e1ggxuxd3"})({name:"bjn8wh",styles:"position:relative"}),A0e=G("div",{target:"e1ggxuxd2"})({name:"qkt6ng",styles:"position:absolute;z-index:1;background-color:rgba(0, 0, 0, 0.2);pointer-events:none;width:100%;height:100%;top:0;left:0"}),b0e=G("div",{target:"e1ggxuxd1"})({name:"j387f9",styles:"overflow:hidden;height:100%"}),_0e=G("div",{target:"e1ggxuxd0"})({name:"sp3f84",styles:"width:30px;height:30px;opacity:0.01;background:black;position:absolute;bottom:calc(100vh / 2 - 15px);left:0"}),S0e=S.forwardRef(v0e),r5=[p.jsxs(p.Fragment,{children:["You can follow the updates and give feedback on the game through the Facebook Page:"," ",p.jsx("a",{href:"https://www.facebook.com/allkaraoke.party",target:"_blank",rel:"noreferrer",children:p.jsx("strong",{children:"fb.com/AllKaraoke.Party"})})]}),p.jsxs(p.Fragment,{children:["Start typing a name of a song in ",p.jsx("strong",{children:"Song Selection"})," to active Search feature"]}),p.jsxs(p.Fragment,{children:["Narrow down songs through ",p.jsx("strong",{children:"playlists"})," on the right in Song Selection"]}),p.jsxs(p.Fragment,{children:["Select ",p.jsx("strong",{children:"Pass The Mic"})," Game Mode to share the microphones and sing in a team"]}),p.jsxs(p.Fragment,{children:["Your scores and ",p.jsx("strong",{children:"stats are saved"})," in this browser - they will be available for the next party!"]}),p.jsxs(p.Fragment,{children:["You can remove irrelevant songs from the Song Selection in ",p.jsx("strong",{children:"Edit Songs"})," page"]}),p.jsxs(p.Fragment,{children:["If the game feels a bit jaggy with low FPS, check out ",p.jsx("strong",{children:"Settings"})," page"]}),p.jsxs(p.Fragment,{children:["Party is only getting started? Play ",p.jsx("strong",{children:"Jukebox"})," for the music and to see what songs are available"]}),p.jsxs(p.Fragment,{children:["Research shows that ",p.jsx("strong",{children:"duet songs"})," are that bit more fun than simple one-track ones"]}),p.jsxs(p.Fragment,{children:["Want to sing a ",p.jsx("strong",{children:"new song"}),"? Find UltraStar version of it and import it with",p.jsx("br",{}),p.jsx("strong",{children:"Convert Ultrastar .txt"})]}),p.jsxs(p.Fragment,{children:["The ",p.jsx("strong",{children:"white pulse"})," around selected song in Song Selection tries to match song's tempo"]}),p.jsxs(p.Fragment,{children:["Entire game (besides add/edit song) is navigable with ",p.jsx("strong",{children:"Keyboard"})]}),p.jsxs(p.Fragment,{children:["You can hide or show keyboard navigation help with ",p.jsx("kbd",{children:"H"})," key"]}),p.jsxs(p.Fragment,{children:["In Song Selection, hold ",p.jsx("kbd",{children:""})," or ",p.jsx("kbd",{children:""})," to jump to the next letter"]}),p.jsxs(p.Fragment,{children:["Add ",p.jsx("strong",{children:"vibrato"})," to the notes you sing to get additional ",p.jsx("strong",{children:"bonus points"})]}),p.jsxs(p.Fragment,{children:["You can control the game with your phone - click on the"," ",p.jsxs("strong",{children:[p.jsx(D0,{}),"QR Code Icon"]})," ","on the top right and follow the instructions"]})],x0e=({as:e="h4",...t})=>{const n=S.useRef(no(0,r5.length-1)),r=e;return p.jsx(r,{...t,children:r5[n.current]})};function w0e({...e}){const[t,n]=S.useState(""),r=S.useRef(null);return S.useEffect(()=>{const i=setTimeout(()=>{n(Xs.getVideo())},1e3);return()=>{clearTimeout(i)}},[]),S.useEffect(()=>{try{r.current&&(r.current.playbackRate=16)}catch(i){Ps(i)}},[t]),p.jsx(E0e,{...e,children:p.jsx(C0e,{src:t,ref:r,loop:!0,autoPlay:!0,className:"ph-no-capture"})})}const E0e=G("div",{target:"e1hckw6c1"})({name:"1g34f1k",styles:"width:80rem;height:60rem"}),C0e=G("video",{target:"e1hckw6c0"})({name:"idj2s4",styles:"object-fit:cover;width:100%;height:100%"});function k0e(e){return 1-Math.pow(1-e,3)}function T0e(e){return k0e(e)}function ym({color:e,maxScore:t,score:n}){return p.jsx(I0e,{style:{border:n===0?0:void 0,width:`${T0e(n/t)*24}%`,backgroundColor:e}})}const I0e=G("div",{target:"e6b38g50"})({name:"1vc31u",styles:`background-image:linear-gradient(
    180deg,
    rgba(0, 0, 0, 0.17) 0%,
    rgba(0, 0, 0, 0.03) 50%,
    rgba(0, 0, 0, 0.18) 51%,
    rgba(0, 0, 0, 0.18) 100%
  );transition:1s;border-radius:0.5rem;height:100%;border:solid 0.1rem black;box-sizing:border-box`});var Ym={exports:{}},R0e=Ym.exports,i5;function P0e(){return i5||(i5=1,function(e,t){(function(n,r){e.exports=r(Rc())})(typeof self<"u"?self:R0e,n=>(()=>{var r={7403:(l,d,c)=>{c.d(d,{default:()=>q});var h=c(4087),f=c.n(h);const m=function(Q){return new RegExp(/<[a-z][\s\S]*>/i).test(Q)},v=function(Q,M){return Math.floor(Math.random()*(M-Q+1))+Q};var A="TYPE_CHARACTER",b="REMOVE_CHARACTER",x="REMOVE_ALL",E="REMOVE_LAST_VISIBLE_NODE",I="PAUSE_FOR",P="CALL_FUNCTION",T="ADD_HTML_TAG_ELEMENT",w="CHANGE_DELETE_SPEED",R="CHANGE_DELAY",j="CHANGE_CURSOR",V="PASTE_STRING",N="HTML_TAG";function k(Q){return k=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(M){return typeof M}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M},k(Q)}function B(Q,M){var z=Object.keys(Q);if(Object.getOwnPropertySymbols){var J=Object.getOwnPropertySymbols(Q);M&&(J=J.filter(function(ae){return Object.getOwnPropertyDescriptor(Q,ae).enumerable})),z.push.apply(z,J)}return z}function H(Q){for(var M=1;M<arguments.length;M++){var z=arguments[M]!=null?arguments[M]:{};M%2?B(Object(z),!0).forEach(function(J){L(Q,J,z[J])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Q,Object.getOwnPropertyDescriptors(z)):B(Object(z)).forEach(function(J){Object.defineProperty(Q,J,Object.getOwnPropertyDescriptor(z,J))})}return Q}function F(Q){return function(M){if(Array.isArray(M))return U(M)}(Q)||function(M){if(typeof Symbol<"u"&&M[Symbol.iterator]!=null||M["@@iterator"]!=null)return Array.from(M)}(Q)||function(M,z){if(M){if(typeof M=="string")return U(M,z);var J=Object.prototype.toString.call(M).slice(8,-1);return J==="Object"&&M.constructor&&(J=M.constructor.name),J==="Map"||J==="Set"?Array.from(M):J==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(J)?U(M,z):void 0}}(Q)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function U(Q,M){(M==null||M>Q.length)&&(M=Q.length);for(var z=0,J=new Array(M);z<M;z++)J[z]=Q[z];return J}function D(Q,M){for(var z=0;z<M.length;z++){var J=M[z];J.enumerable=J.enumerable||!1,J.configurable=!0,"value"in J&&(J.writable=!0),Object.defineProperty(Q,Y(J.key),J)}}function L(Q,M,z){return(M=Y(M))in Q?Object.defineProperty(Q,M,{value:z,enumerable:!0,configurable:!0,writable:!0}):Q[M]=z,Q}function Y(Q){var M=function(z,J){if(k(z)!=="object"||z===null)return z;var ae=z[Symbol.toPrimitive];if(ae!==void 0){var W=ae.call(z,"string");if(k(W)!=="object")return W;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(z)}(Q);return k(M)==="symbol"?M:String(M)}const q=function(){function Q(J,ae){var W=this;if(function(le,me){if(!(le instanceof me))throw new TypeError("Cannot call a class as a function")}(this,Q),L(this,"state",{cursorAnimation:null,lastFrameTime:null,pauseUntil:null,eventQueue:[],eventLoop:null,eventLoopPaused:!1,reverseCalledEvents:[],calledEvents:[],visibleNodes:[],initialOptions:null,elements:{container:null,wrapper:document.createElement("span"),cursor:document.createElement("span")}}),L(this,"options",{strings:null,cursor:"|",delay:"natural",pauseFor:1500,deleteSpeed:"natural",loop:!1,autoStart:!1,devMode:!1,skipAddStyles:!1,wrapperClassName:"Typewriter__wrapper",cursorClassName:"Typewriter__cursor",stringSplitter:null,onCreateTextNode:null,onRemoveNode:null}),L(this,"setupWrapperElement",function(){W.state.elements.container&&(W.state.elements.wrapper.className=W.options.wrapperClassName,W.state.elements.cursor.className=W.options.cursorClassName,W.state.elements.cursor.innerHTML=W.options.cursor,W.state.elements.container.innerHTML="",W.state.elements.container.appendChild(W.state.elements.wrapper),W.state.elements.container.appendChild(W.state.elements.cursor))}),L(this,"start",function(){return W.state.eventLoopPaused=!1,W.runEventLoop(),W}),L(this,"pause",function(){return W.state.eventLoopPaused=!0,W}),L(this,"stop",function(){return W.state.eventLoop&&((0,h.cancel)(W.state.eventLoop),W.state.eventLoop=null),W}),L(this,"pauseFor",function(le){return W.addEventToQueue(I,{ms:le}),W}),L(this,"typeOutAllStrings",function(){return typeof W.options.strings=="string"?(W.typeString(W.options.strings).pauseFor(W.options.pauseFor),W):(W.options.strings.forEach(function(le){W.typeString(le).pauseFor(W.options.pauseFor).deleteAll(W.options.deleteSpeed)}),W)}),L(this,"typeString",function(le){var me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(m(le))return W.typeOutHTMLString(le,me);if(le){var xe=(W.options||{}).stringSplitter,Re=typeof xe=="function"?xe(le):le.split("");W.typeCharacters(Re,me)}return W}),L(this,"pasteString",function(le){var me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return m(le)?W.typeOutHTMLString(le,me,!0):(le&&W.addEventToQueue(V,{character:le,node:me}),W)}),L(this,"typeOutHTMLString",function(le){var me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,xe=arguments.length>2?arguments[2]:void 0,Re=function(Ue){var Le=document.createElement("div");return Le.innerHTML=Ue,Le.childNodes}(le);if(Re.length>0)for(var be=0;be<Re.length;be++){var Oe=Re[be],Ze=Oe.innerHTML;Oe&&Oe.nodeType!==3?(Oe.innerHTML="",W.addEventToQueue(T,{node:Oe,parentNode:me}),xe?W.pasteString(Ze,Oe):W.typeString(Ze,Oe)):Oe.textContent&&(xe?W.pasteString(Oe.textContent,me):W.typeString(Oe.textContent,me))}return W}),L(this,"deleteAll",function(){var le=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"natural";return W.addEventToQueue(x,{speed:le}),W}),L(this,"changeDeleteSpeed",function(le){if(!le)throw new Error("Must provide new delete speed");return W.addEventToQueue(w,{speed:le}),W}),L(this,"changeDelay",function(le){if(!le)throw new Error("Must provide new delay");return W.addEventToQueue(R,{delay:le}),W}),L(this,"changeCursor",function(le){if(!le)throw new Error("Must provide new cursor");return W.addEventToQueue(j,{cursor:le}),W}),L(this,"deleteChars",function(le){if(!le)throw new Error("Must provide amount of characters to delete");for(var me=0;me<le;me++)W.addEventToQueue(b);return W}),L(this,"callFunction",function(le,me){if(!le||typeof le!="function")throw new Error("Callback must be a function");return W.addEventToQueue(P,{cb:le,thisArg:me}),W}),L(this,"typeCharacters",function(le){var me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!le||!Array.isArray(le))throw new Error("Characters must be an array");return le.forEach(function(xe){W.addEventToQueue(A,{character:xe,node:me})}),W}),L(this,"removeCharacters",function(le){if(!le||!Array.isArray(le))throw new Error("Characters must be an array");return le.forEach(function(){W.addEventToQueue(b)}),W}),L(this,"addEventToQueue",function(le,me){var xe=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return W.addEventToStateProperty(le,me,xe,"eventQueue")}),L(this,"addReverseCalledEvent",function(le,me){var xe=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return W.options.loop?W.addEventToStateProperty(le,me,xe,"reverseCalledEvents"):W}),L(this,"addEventToStateProperty",function(le,me){var xe=arguments.length>2&&arguments[2]!==void 0&&arguments[2],Re=arguments.length>3?arguments[3]:void 0,be={eventName:le,eventArgs:me||{}};return W.state[Re]=xe?[be].concat(F(W.state[Re])):[].concat(F(W.state[Re]),[be]),W}),L(this,"runEventLoop",function(){W.state.lastFrameTime||(W.state.lastFrameTime=Date.now());var le=Date.now(),me=le-W.state.lastFrameTime;if(!W.state.eventQueue.length){if(!W.options.loop)return;W.state.eventQueue=F(W.state.calledEvents),W.state.calledEvents=[],W.options=H({},W.state.initialOptions)}if(W.state.eventLoop=f()(W.runEventLoop),!W.state.eventLoopPaused){if(W.state.pauseUntil){if(le<W.state.pauseUntil)return;W.state.pauseUntil=null}var xe,Re=F(W.state.eventQueue),be=Re.shift();if(!(me<=(xe=be.eventName===E||be.eventName===b?W.options.deleteSpeed==="natural"?v(40,80):W.options.deleteSpeed:W.options.delay==="natural"?v(120,160):W.options.delay))){var Oe=be.eventName,Ze=be.eventArgs;switch(W.logInDevMode({currentEvent:be,state:W.state,delay:xe}),Oe){case V:case A:var Ue=Ze.character,Le=Ze.node,je=document.createTextNode(Ue),mt=je;W.options.onCreateTextNode&&typeof W.options.onCreateTextNode=="function"&&(mt=W.options.onCreateTextNode(Ue,je)),mt&&(Le?Le.appendChild(mt):W.state.elements.wrapper.appendChild(mt)),W.state.visibleNodes=[].concat(F(W.state.visibleNodes),[{type:"TEXT_NODE",character:Ue,node:mt}]);break;case b:Re.unshift({eventName:E,eventArgs:{removingCharacterNode:!0}});break;case I:var vt=be.eventArgs.ms;W.state.pauseUntil=Date.now()+parseInt(vt);break;case P:var De=be.eventArgs,ht=De.cb,Ut=De.thisArg;ht.call(Ut,{elements:W.state.elements});break;case T:var Wt=be.eventArgs,Ht=Wt.node,Ge=Wt.parentNode;Ge?Ge.appendChild(Ht):W.state.elements.wrapper.appendChild(Ht),W.state.visibleNodes=[].concat(F(W.state.visibleNodes),[{type:N,node:Ht,parentNode:Ge||W.state.elements.wrapper}]);break;case x:var jt=W.state.visibleNodes,Xt=Ze.speed,Zt=[];Xt&&Zt.push({eventName:w,eventArgs:{speed:Xt,temp:!0}});for(var bt=0,dt=jt.length;bt<dt;bt++)Zt.push({eventName:E,eventArgs:{removingCharacterNode:!1}});Xt&&Zt.push({eventName:w,eventArgs:{speed:W.options.deleteSpeed,temp:!0}}),Re.unshift.apply(Re,Zt);break;case E:var nt=be.eventArgs.removingCharacterNode;if(W.state.visibleNodes.length){var _t=W.state.visibleNodes.pop(),cn=_t.type,Lt=_t.node,Pt=_t.character;W.options.onRemoveNode&&typeof W.options.onRemoveNode=="function"&&W.options.onRemoveNode({node:Lt,character:Pt}),Lt&&Lt.parentNode.removeChild(Lt),cn===N&&nt&&Re.unshift({eventName:E,eventArgs:{}})}break;case w:W.options.deleteSpeed=be.eventArgs.speed;break;case R:W.options.delay=be.eventArgs.delay;break;case j:W.options.cursor=be.eventArgs.cursor,W.state.elements.cursor.innerHTML=be.eventArgs.cursor}W.options.loop&&(be.eventName===E||be.eventArgs&&be.eventArgs.temp||(W.state.calledEvents=[].concat(F(W.state.calledEvents),[be]))),W.state.eventQueue=Re,W.state.lastFrameTime=le}}}),J)if(typeof J=="string"){var ye=document.querySelector(J);if(!ye)throw new Error("Could not find container element");this.state.elements.container=ye}else this.state.elements.container=J;ae&&(this.options=H(H({},this.options),ae)),this.state.initialOptions=H({},this.options),this.init()}var M,z;return M=Q,(z=[{key:"init",value:function(){var J,ae;this.setupWrapperElement(),this.addEventToQueue(j,{cursor:this.options.cursor},!0),this.addEventToQueue(x,null,!0),!window||window.___TYPEWRITER_JS_STYLES_ADDED___||this.options.skipAddStyles||(J=".Typewriter__cursor{-webkit-animation:Typewriter-cursor 1s infinite;animation:Typewriter-cursor 1s infinite;margin-left:1px}@-webkit-keyframes Typewriter-cursor{0%{opacity:0}50%{opacity:1}100%{opacity:0}}@keyframes Typewriter-cursor{0%{opacity:0}50%{opacity:1}100%{opacity:0}}",(ae=document.createElement("style")).appendChild(document.createTextNode(J)),document.head.appendChild(ae),window.___TYPEWRITER_JS_STYLES_ADDED___=!0),this.options.autoStart===!0&&this.options.strings&&this.typeOutAllStrings().start()}},{key:"logInDevMode",value:function(J){this.options.devMode&&console.log(J)}}])&&D(M.prototype,z),Object.defineProperty(M,"prototype",{writable:!1}),Q}()},8552:(l,d,c)=>{var h=c(852)(c(5639),"DataView");l.exports=h},1989:(l,d,c)=>{var h=c(1789),f=c(401),m=c(7667),v=c(1327),A=c(1866);function b(x){var E=-1,I=x==null?0:x.length;for(this.clear();++E<I;){var P=x[E];this.set(P[0],P[1])}}b.prototype.clear=h,b.prototype.delete=f,b.prototype.get=m,b.prototype.has=v,b.prototype.set=A,l.exports=b},8407:(l,d,c)=>{var h=c(7040),f=c(4125),m=c(2117),v=c(7518),A=c(4705);function b(x){var E=-1,I=x==null?0:x.length;for(this.clear();++E<I;){var P=x[E];this.set(P[0],P[1])}}b.prototype.clear=h,b.prototype.delete=f,b.prototype.get=m,b.prototype.has=v,b.prototype.set=A,l.exports=b},7071:(l,d,c)=>{var h=c(852)(c(5639),"Map");l.exports=h},3369:(l,d,c)=>{var h=c(4785),f=c(1285),m=c(6e3),v=c(9916),A=c(5265);function b(x){var E=-1,I=x==null?0:x.length;for(this.clear();++E<I;){var P=x[E];this.set(P[0],P[1])}}b.prototype.clear=h,b.prototype.delete=f,b.prototype.get=m,b.prototype.has=v,b.prototype.set=A,l.exports=b},3818:(l,d,c)=>{var h=c(852)(c(5639),"Promise");l.exports=h},8525:(l,d,c)=>{var h=c(852)(c(5639),"Set");l.exports=h},8668:(l,d,c)=>{var h=c(3369),f=c(619),m=c(2385);function v(A){var b=-1,x=A==null?0:A.length;for(this.__data__=new h;++b<x;)this.add(A[b])}v.prototype.add=v.prototype.push=f,v.prototype.has=m,l.exports=v},6384:(l,d,c)=>{var h=c(8407),f=c(7465),m=c(3779),v=c(7599),A=c(4758),b=c(4309);function x(E){var I=this.__data__=new h(E);this.size=I.size}x.prototype.clear=f,x.prototype.delete=m,x.prototype.get=v,x.prototype.has=A,x.prototype.set=b,l.exports=x},2705:(l,d,c)=>{var h=c(5639).Symbol;l.exports=h},1149:(l,d,c)=>{var h=c(5639).Uint8Array;l.exports=h},577:(l,d,c)=>{var h=c(852)(c(5639),"WeakMap");l.exports=h},4963:l=>{l.exports=function(d,c){for(var h=-1,f=d==null?0:d.length,m=0,v=[];++h<f;){var A=d[h];c(A,h,d)&&(v[m++]=A)}return v}},4636:(l,d,c)=>{var h=c(2545),f=c(5694),m=c(1469),v=c(4144),A=c(5776),b=c(6719),x=Object.prototype.hasOwnProperty;l.exports=function(E,I){var P=m(E),T=!P&&f(E),w=!P&&!T&&v(E),R=!P&&!T&&!w&&b(E),j=P||T||w||R,V=j?h(E.length,String):[],N=V.length;for(var k in E)!I&&!x.call(E,k)||j&&(k=="length"||w&&(k=="offset"||k=="parent")||R&&(k=="buffer"||k=="byteLength"||k=="byteOffset")||A(k,N))||V.push(k);return V}},2488:l=>{l.exports=function(d,c){for(var h=-1,f=c.length,m=d.length;++h<f;)d[m+h]=c[h];return d}},2908:l=>{l.exports=function(d,c){for(var h=-1,f=d==null?0:d.length;++h<f;)if(c(d[h],h,d))return!0;return!1}},8470:(l,d,c)=>{var h=c(7813);l.exports=function(f,m){for(var v=f.length;v--;)if(h(f[v][0],m))return v;return-1}},8866:(l,d,c)=>{var h=c(2488),f=c(1469);l.exports=function(m,v,A){var b=v(m);return f(m)?b:h(b,A(m))}},4239:(l,d,c)=>{var h=c(2705),f=c(9607),m=c(2333),v=h?h.toStringTag:void 0;l.exports=function(A){return A==null?A===void 0?"[object Undefined]":"[object Null]":v&&v in Object(A)?f(A):m(A)}},9454:(l,d,c)=>{var h=c(4239),f=c(7005);l.exports=function(m){return f(m)&&h(m)=="[object Arguments]"}},939:(l,d,c)=>{var h=c(2492),f=c(7005);l.exports=function m(v,A,b,x,E){return v===A||(v==null||A==null||!f(v)&&!f(A)?v!=v&&A!=A:h(v,A,b,x,m,E))}},2492:(l,d,c)=>{var h=c(6384),f=c(7114),m=c(8351),v=c(6096),A=c(4160),b=c(1469),x=c(4144),E=c(6719),I="[object Arguments]",P="[object Array]",T="[object Object]",w=Object.prototype.hasOwnProperty;l.exports=function(R,j,V,N,k,B){var H=b(R),F=b(j),U=H?P:A(R),D=F?P:A(j),L=(U=U==I?T:U)==T,Y=(D=D==I?T:D)==T,q=U==D;if(q&&x(R)){if(!x(j))return!1;H=!0,L=!1}if(q&&!L)return B||(B=new h),H||E(R)?f(R,j,V,N,k,B):m(R,j,U,V,N,k,B);if(!(1&V)){var Q=L&&w.call(R,"__wrapped__"),M=Y&&w.call(j,"__wrapped__");if(Q||M){var z=Q?R.value():R,J=M?j.value():j;return B||(B=new h),k(z,J,V,N,B)}}return!!q&&(B||(B=new h),v(R,j,V,N,k,B))}},8458:(l,d,c)=>{var h=c(3560),f=c(5346),m=c(3218),v=c(346),A=/^\[object .+?Constructor\]$/,b=Function.prototype,x=Object.prototype,E=b.toString,I=x.hasOwnProperty,P=RegExp("^"+E.call(I).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");l.exports=function(T){return!(!m(T)||f(T))&&(h(T)?P:A).test(v(T))}},8749:(l,d,c)=>{var h=c(4239),f=c(1780),m=c(7005),v={};v["[object Float32Array]"]=v["[object Float64Array]"]=v["[object Int8Array]"]=v["[object Int16Array]"]=v["[object Int32Array]"]=v["[object Uint8Array]"]=v["[object Uint8ClampedArray]"]=v["[object Uint16Array]"]=v["[object Uint32Array]"]=!0,v["[object Arguments]"]=v["[object Array]"]=v["[object ArrayBuffer]"]=v["[object Boolean]"]=v["[object DataView]"]=v["[object Date]"]=v["[object Error]"]=v["[object Function]"]=v["[object Map]"]=v["[object Number]"]=v["[object Object]"]=v["[object RegExp]"]=v["[object Set]"]=v["[object String]"]=v["[object WeakMap]"]=!1,l.exports=function(A){return m(A)&&f(A.length)&&!!v[h(A)]}},280:(l,d,c)=>{var h=c(5726),f=c(6916),m=Object.prototype.hasOwnProperty;l.exports=function(v){if(!h(v))return f(v);var A=[];for(var b in Object(v))m.call(v,b)&&b!="constructor"&&A.push(b);return A}},2545:l=>{l.exports=function(d,c){for(var h=-1,f=Array(d);++h<d;)f[h]=c(h);return f}},1717:l=>{l.exports=function(d){return function(c){return d(c)}}},4757:l=>{l.exports=function(d,c){return d.has(c)}},4429:(l,d,c)=>{var h=c(5639)["__core-js_shared__"];l.exports=h},7114:(l,d,c)=>{var h=c(8668),f=c(2908),m=c(4757);l.exports=function(v,A,b,x,E,I){var P=1&b,T=v.length,w=A.length;if(T!=w&&!(P&&w>T))return!1;var R=I.get(v),j=I.get(A);if(R&&j)return R==A&&j==v;var V=-1,N=!0,k=2&b?new h:void 0;for(I.set(v,A),I.set(A,v);++V<T;){var B=v[V],H=A[V];if(x)var F=P?x(H,B,V,A,v,I):x(B,H,V,v,A,I);if(F!==void 0){if(F)continue;N=!1;break}if(k){if(!f(A,function(U,D){if(!m(k,D)&&(B===U||E(B,U,b,x,I)))return k.push(D)})){N=!1;break}}else if(B!==H&&!E(B,H,b,x,I)){N=!1;break}}return I.delete(v),I.delete(A),N}},8351:(l,d,c)=>{var h=c(2705),f=c(1149),m=c(7813),v=c(7114),A=c(8776),b=c(1814),x=h?h.prototype:void 0,E=x?x.valueOf:void 0;l.exports=function(I,P,T,w,R,j,V){switch(T){case"[object DataView]":if(I.byteLength!=P.byteLength||I.byteOffset!=P.byteOffset)return!1;I=I.buffer,P=P.buffer;case"[object ArrayBuffer]":return!(I.byteLength!=P.byteLength||!j(new f(I),new f(P)));case"[object Boolean]":case"[object Date]":case"[object Number]":return m(+I,+P);case"[object Error]":return I.name==P.name&&I.message==P.message;case"[object RegExp]":case"[object String]":return I==P+"";case"[object Map]":var N=A;case"[object Set]":var k=1&w;if(N||(N=b),I.size!=P.size&&!k)return!1;var B=V.get(I);if(B)return B==P;w|=2,V.set(I,P);var H=v(N(I),N(P),w,R,j,V);return V.delete(I),H;case"[object Symbol]":if(E)return E.call(I)==E.call(P)}return!1}},6096:(l,d,c)=>{var h=c(8234),f=Object.prototype.hasOwnProperty;l.exports=function(m,v,A,b,x,E){var I=1&A,P=h(m),T=P.length;if(T!=h(v).length&&!I)return!1;for(var w=T;w--;){var R=P[w];if(!(I?R in v:f.call(v,R)))return!1}var j=E.get(m),V=E.get(v);if(j&&V)return j==v&&V==m;var N=!0;E.set(m,v),E.set(v,m);for(var k=I;++w<T;){var B=m[R=P[w]],H=v[R];if(b)var F=I?b(H,B,R,v,m,E):b(B,H,R,m,v,E);if(!(F===void 0?B===H||x(B,H,A,b,E):F)){N=!1;break}k||(k=R=="constructor")}if(N&&!k){var U=m.constructor,D=v.constructor;U==D||!("constructor"in m)||!("constructor"in v)||typeof U=="function"&&U instanceof U&&typeof D=="function"&&D instanceof D||(N=!1)}return E.delete(m),E.delete(v),N}},1957:(l,d,c)=>{var h=typeof c.g=="object"&&c.g&&c.g.Object===Object&&c.g;l.exports=h},8234:(l,d,c)=>{var h=c(8866),f=c(9551),m=c(3674);l.exports=function(v){return h(v,m,f)}},5050:(l,d,c)=>{var h=c(7019);l.exports=function(f,m){var v=f.__data__;return h(m)?v[typeof m=="string"?"string":"hash"]:v.map}},852:(l,d,c)=>{var h=c(8458),f=c(7801);l.exports=function(m,v){var A=f(m,v);return h(A)?A:void 0}},9607:(l,d,c)=>{var h=c(2705),f=Object.prototype,m=f.hasOwnProperty,v=f.toString,A=h?h.toStringTag:void 0;l.exports=function(b){var x=m.call(b,A),E=b[A];try{b[A]=void 0;var I=!0}catch{}var P=v.call(b);return I&&(x?b[A]=E:delete b[A]),P}},9551:(l,d,c)=>{var h=c(4963),f=c(479),m=Object.prototype.propertyIsEnumerable,v=Object.getOwnPropertySymbols,A=v?function(b){return b==null?[]:(b=Object(b),h(v(b),function(x){return m.call(b,x)}))}:f;l.exports=A},4160:(l,d,c)=>{var h=c(8552),f=c(7071),m=c(3818),v=c(8525),A=c(577),b=c(4239),x=c(346),E="[object Map]",I="[object Promise]",P="[object Set]",T="[object WeakMap]",w="[object DataView]",R=x(h),j=x(f),V=x(m),N=x(v),k=x(A),B=b;(h&&B(new h(new ArrayBuffer(1)))!=w||f&&B(new f)!=E||m&&B(m.resolve())!=I||v&&B(new v)!=P||A&&B(new A)!=T)&&(B=function(H){var F=b(H),U=F=="[object Object]"?H.constructor:void 0,D=U?x(U):"";if(D)switch(D){case R:return w;case j:return E;case V:return I;case N:return P;case k:return T}return F}),l.exports=B},7801:l=>{l.exports=function(d,c){return d==null?void 0:d[c]}},1789:(l,d,c)=>{var h=c(4536);l.exports=function(){this.__data__=h?h(null):{},this.size=0}},401:l=>{l.exports=function(d){var c=this.has(d)&&delete this.__data__[d];return this.size-=c?1:0,c}},7667:(l,d,c)=>{var h=c(4536),f=Object.prototype.hasOwnProperty;l.exports=function(m){var v=this.__data__;if(h){var A=v[m];return A==="__lodash_hash_undefined__"?void 0:A}return f.call(v,m)?v[m]:void 0}},1327:(l,d,c)=>{var h=c(4536),f=Object.prototype.hasOwnProperty;l.exports=function(m){var v=this.__data__;return h?v[m]!==void 0:f.call(v,m)}},1866:(l,d,c)=>{var h=c(4536);l.exports=function(f,m){var v=this.__data__;return this.size+=this.has(f)?0:1,v[f]=h&&m===void 0?"__lodash_hash_undefined__":m,this}},5776:l=>{var d=/^(?:0|[1-9]\d*)$/;l.exports=function(c,h){var f=typeof c;return!!(h=h??9007199254740991)&&(f=="number"||f!="symbol"&&d.test(c))&&c>-1&&c%1==0&&c<h}},7019:l=>{l.exports=function(d){var c=typeof d;return c=="string"||c=="number"||c=="symbol"||c=="boolean"?d!=="__proto__":d===null}},5346:(l,d,c)=>{var h,f=c(4429),m=(h=/[^.]+$/.exec(f&&f.keys&&f.keys.IE_PROTO||""))?"Symbol(src)_1."+h:"";l.exports=function(v){return!!m&&m in v}},5726:l=>{var d=Object.prototype;l.exports=function(c){var h=c&&c.constructor;return c===(typeof h=="function"&&h.prototype||d)}},7040:l=>{l.exports=function(){this.__data__=[],this.size=0}},4125:(l,d,c)=>{var h=c(8470),f=Array.prototype.splice;l.exports=function(m){var v=this.__data__,A=h(v,m);return!(A<0||(A==v.length-1?v.pop():f.call(v,A,1),--this.size,0))}},2117:(l,d,c)=>{var h=c(8470);l.exports=function(f){var m=this.__data__,v=h(m,f);return v<0?void 0:m[v][1]}},7518:(l,d,c)=>{var h=c(8470);l.exports=function(f){return h(this.__data__,f)>-1}},4705:(l,d,c)=>{var h=c(8470);l.exports=function(f,m){var v=this.__data__,A=h(v,f);return A<0?(++this.size,v.push([f,m])):v[A][1]=m,this}},4785:(l,d,c)=>{var h=c(1989),f=c(8407),m=c(7071);l.exports=function(){this.size=0,this.__data__={hash:new h,map:new(m||f),string:new h}}},1285:(l,d,c)=>{var h=c(5050);l.exports=function(f){var m=h(this,f).delete(f);return this.size-=m?1:0,m}},6e3:(l,d,c)=>{var h=c(5050);l.exports=function(f){return h(this,f).get(f)}},9916:(l,d,c)=>{var h=c(5050);l.exports=function(f){return h(this,f).has(f)}},5265:(l,d,c)=>{var h=c(5050);l.exports=function(f,m){var v=h(this,f),A=v.size;return v.set(f,m),this.size+=v.size==A?0:1,this}},8776:l=>{l.exports=function(d){var c=-1,h=Array(d.size);return d.forEach(function(f,m){h[++c]=[m,f]}),h}},4536:(l,d,c)=>{var h=c(852)(Object,"create");l.exports=h},6916:(l,d,c)=>{var h=c(5569)(Object.keys,Object);l.exports=h},1167:(l,d,c)=>{l=c.nmd(l);var h=c(1957),f=d&&!d.nodeType&&d,m=f&&l&&!l.nodeType&&l,v=m&&m.exports===f&&h.process,A=function(){try{return m&&m.require&&m.require("util").types||v&&v.binding&&v.binding("util")}catch{}}();l.exports=A},2333:l=>{var d=Object.prototype.toString;l.exports=function(c){return d.call(c)}},5569:l=>{l.exports=function(d,c){return function(h){return d(c(h))}}},5639:(l,d,c)=>{var h=c(1957),f=typeof self=="object"&&self&&self.Object===Object&&self,m=h||f||Function("return this")();l.exports=m},619:l=>{l.exports=function(d){return this.__data__.set(d,"__lodash_hash_undefined__"),this}},2385:l=>{l.exports=function(d){return this.__data__.has(d)}},1814:l=>{l.exports=function(d){var c=-1,h=Array(d.size);return d.forEach(function(f){h[++c]=f}),h}},7465:(l,d,c)=>{var h=c(8407);l.exports=function(){this.__data__=new h,this.size=0}},3779:l=>{l.exports=function(d){var c=this.__data__,h=c.delete(d);return this.size=c.size,h}},7599:l=>{l.exports=function(d){return this.__data__.get(d)}},4758:l=>{l.exports=function(d){return this.__data__.has(d)}},4309:(l,d,c)=>{var h=c(8407),f=c(7071),m=c(3369);l.exports=function(v,A){var b=this.__data__;if(b instanceof h){var x=b.__data__;if(!f||x.length<199)return x.push([v,A]),this.size=++b.size,this;b=this.__data__=new m(x)}return b.set(v,A),this.size=b.size,this}},346:l=>{var d=Function.prototype.toString;l.exports=function(c){if(c!=null){try{return d.call(c)}catch{}try{return c+""}catch{}}return""}},7813:l=>{l.exports=function(d,c){return d===c||d!=d&&c!=c}},5694:(l,d,c)=>{var h=c(9454),f=c(7005),m=Object.prototype,v=m.hasOwnProperty,A=m.propertyIsEnumerable,b=h(function(){return arguments}())?h:function(x){return f(x)&&v.call(x,"callee")&&!A.call(x,"callee")};l.exports=b},1469:l=>{var d=Array.isArray;l.exports=d},8612:(l,d,c)=>{var h=c(3560),f=c(1780);l.exports=function(m){return m!=null&&f(m.length)&&!h(m)}},4144:(l,d,c)=>{l=c.nmd(l);var h=c(5639),f=c(5062),m=d&&!d.nodeType&&d,v=m&&l&&!l.nodeType&&l,A=v&&v.exports===m?h.Buffer:void 0,b=(A?A.isBuffer:void 0)||f;l.exports=b},8446:(l,d,c)=>{var h=c(939);l.exports=function(f,m){return h(f,m)}},3560:(l,d,c)=>{var h=c(4239),f=c(3218);l.exports=function(m){if(!f(m))return!1;var v=h(m);return v=="[object Function]"||v=="[object GeneratorFunction]"||v=="[object AsyncFunction]"||v=="[object Proxy]"}},1780:l=>{l.exports=function(d){return typeof d=="number"&&d>-1&&d%1==0&&d<=9007199254740991}},3218:l=>{l.exports=function(d){var c=typeof d;return d!=null&&(c=="object"||c=="function")}},7005:l=>{l.exports=function(d){return d!=null&&typeof d=="object"}},6719:(l,d,c)=>{var h=c(8749),f=c(1717),m=c(1167),v=m&&m.isTypedArray,A=v?f(v):h;l.exports=A},3674:(l,d,c)=>{var h=c(4636),f=c(280),m=c(8612);l.exports=function(v){return m(v)?h(v):f(v)}},479:l=>{l.exports=function(){return[]}},5062:l=>{l.exports=function(){return!1}},75:function(l){(function(){var d,c,h,f,m,v;typeof performance<"u"&&performance!==null&&performance.now?l.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(l.exports=function(){return(d()-m)/1e6},c=process.hrtime,f=(d=function(){var A;return 1e9*(A=c())[0]+A[1]})(),v=1e9*process.uptime(),m=f-v):Date.now?(l.exports=function(){return Date.now()-h},h=Date.now()):(l.exports=function(){return new Date().getTime()-h},h=new Date().getTime())}).call(this)},4087:(l,d,c)=>{for(var h=c(75),f=typeof window>"u"?c.g:window,m=["moz","webkit"],v="AnimationFrame",A=f["request"+v],b=f["cancel"+v]||f["cancelRequest"+v],x=0;!A&&x<m.length;x++)A=f[m[x]+"Request"+v],b=f[m[x]+"Cancel"+v]||f[m[x]+"CancelRequest"+v];if(!A||!b){var E=0,I=0,P=[];A=function(T){if(P.length===0){var w=h(),R=Math.max(0,16.666666666666668-(w-E));E=R+w,setTimeout(function(){var j=P.slice(0);P.length=0;for(var V=0;V<j.length;V++)if(!j[V].cancelled)try{j[V].callback(E)}catch(N){setTimeout(function(){throw N},0)}},Math.round(R))}return P.push({handle:++I,callback:T,cancelled:!1}),I},b=function(T){for(var w=0;w<P.length;w++)P[w].handle===T&&(P[w].cancelled=!0)}}l.exports=function(T){return A.call(f,T)},l.exports.cancel=function(){b.apply(f,arguments)},l.exports.polyfill=function(T){T||(T=f),T.requestAnimationFrame=A,T.cancelAnimationFrame=b}},8156:l=>{l.exports=n}},i={};function s(l){var d=i[l];if(d!==void 0)return d.exports;var c=i[l]={id:l,loaded:!1,exports:{}};return r[l].call(c.exports,c,c.exports,s),c.loaded=!0,c.exports}s.n=l=>{var d=l&&l.__esModule?()=>l.default:()=>l;return s.d(d,{a:d}),d},s.d=(l,d)=>{for(var c in d)s.o(d,c)&&!s.o(l,c)&&Object.defineProperty(l,c,{enumerable:!0,get:d[c]})},s.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),s.o=(l,d)=>Object.prototype.hasOwnProperty.call(l,d),s.nmd=l=>(l.paths=[],l.children||(l.children=[]),l);var o={};return(()=>{s.d(o,{default:()=>P});var l=s(8156),d=s.n(l),c=s(7403),h=s(8446),f=s.n(h);function m(T){return m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},m(T)}function v(T,w){for(var R=0;R<w.length;R++){var j=w[R];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(T,E(j.key),j)}}function A(T,w){return A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(R,j){return R.__proto__=j,R},A(T,w)}function b(T){if(T===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T}function x(T){return x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(w){return w.__proto__||Object.getPrototypeOf(w)},x(T)}function E(T){var w=function(R,j){if(m(R)!=="object"||R===null)return R;var V=R[Symbol.toPrimitive];if(V!==void 0){var N=V.call(R,"string");if(m(N)!=="object")return N;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(R)}(T);return m(w)==="symbol"?w:String(w)}var I=function(T){(function(B,H){if(typeof H!="function"&&H!==null)throw new TypeError("Super expression must either be null or a function");B.prototype=Object.create(H&&H.prototype,{constructor:{value:B,writable:!0,configurable:!0}}),Object.defineProperty(B,"prototype",{writable:!1}),H&&A(B,H)})(k,T);var w,R,j,V,N=(j=k,V=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var B,H=x(j);if(V){var F=x(this).constructor;B=Reflect.construct(H,arguments,F)}else B=H.apply(this,arguments);return function(U,D){if(D&&(m(D)==="object"||typeof D=="function"))return D;if(D!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return b(U)}(this,B)});function k(){var B,H,F,U;(function(q,Q){if(!(q instanceof Q))throw new TypeError("Cannot call a class as a function")})(this,k);for(var D=arguments.length,L=new Array(D),Y=0;Y<D;Y++)L[Y]=arguments[Y];return H=b(B=N.call.apply(N,[this].concat(L))),U={instance:null},(F=E(F="state"))in H?Object.defineProperty(H,F,{value:U,enumerable:!0,configurable:!0,writable:!0}):H[F]=U,B}return w=k,(R=[{key:"componentDidMount",value:function(){var B=this,H=new c.default(this.typewriter,this.props.options);this.setState({instance:H},function(){var F=B.props.onInit;F&&F(H)})}},{key:"componentDidUpdate",value:function(B){f()(this.props.options,B.options)||this.setState({instance:new c.default(this.typewriter,this.props.options)})}},{key:"componentWillUnmount",value:function(){this.state.instance&&this.state.instance.stop()}},{key:"render",value:function(){var B=this,H=this.props.component;return d().createElement(H,{ref:function(F){return B.typewriter=F},className:"Typewriter","data-testid":"typewriter-wrapper"})}}])&&v(w.prototype,R),Object.defineProperty(w,"prototype",{writable:!1}),k}(l.Component);I.defaultProps={component:"div"};const P=I})(),o.default})())}(Ym)),Ym.exports}var M0e=P0e();const $N=Lr(M0e);function j0e({playerNumber:e,player:t,segment:n}){const[r,i]=t.detailedScore;return p.jsxs(O0e,{children:[p.jsx(ym,{score:n>-1?r.rap+r.freestyle+r.normal:0,maxScore:i.rap+i.freestyle+i.normal,color:Ve.colors.players[e].perfect.fill}),p.jsx(ym,{score:n>0?r.perfect:0,maxScore:i.perfect,color:Ve.colors.players[e].stroke}),p.jsx(ym,{score:n>1?r.star:0,maxScore:i.star,color:Ve.colors.players[e].starPerfect.stroke}),p.jsx(ym,{score:n>2?r.vibrato:0,maxScore:i.vibrato,color:Ve.colors.players[e].perfect.stroke}),p.jsx(V0e,{children:n<5&&p.jsx($N,{options:{strings:["Regular notes","Perfect notes","Star notes","Vibrato"],pauseFor:1e3,autoStart:!0,delay:15,deleteSpeed:15,cursor:""}})})]})}const O0e=G("div",{target:"ejw0p7o1"})({name:"rtb9pf",styles:"position:relative;height:5rem;width:100%;display:flex;flex-direction:row;border-radius:1rem;gap:0.5rem;box-sizing:border-box;background:rgba(0, 0, 0, 0.5);padding:0.5rem"}),V0e=G("span",{target:"ejw0p7o0"})("position:absolute;",xt,";font-size:3rem;text-align:right;white-space:nowrap;top:6rem;left:1rem;display:block;");function L0e({playerNumber:e,player:t,highestScore:n,highScores:r,singSetup:i,useColors:s=!0,revealHighScore:o,segment:l}){const[d]=t.detailedScore;let c=0;l>-1&&(c=d.normal+d.rap+d.freestyle),l>0&&(c=c+d.perfect),l>1&&(c=c+d.star),l>2&&(c=c+d.vibrato);const h=f=>r.some(m=>m.singSetupId===i.id&&m.name===f);return p.jsxs(N0e,{children:[p.jsx(F0e,{children:p.jsxs(D0e,{"data-win":o&&c===n,"data-test":`player-${e}-score`,"data-score":Math.floor(c),children:[p.jsx(B0e,{color:s?Ve.colors.players[e].text:"","data-test":`player-${e}-name`,className:"ph-no-capture",children:t.name}),p.jsx(zw,{preserveValue:!0,end:c,formattingFn:xN.format,duration:l<5?1:.5})]})}),p.jsx(j0e,{playerNumber:e,player:t,segment:l}),p.jsx($0e,{"data-highscore":o&&h(t.name),children:"High score!"})]})}const N0e=G("div",{target:"e1vy0af44"})({name:"1kta8sk",styles:"background:rgba(0, 0, 0, 0.5);display:flex;flex-direction:column;align-items:center;border-radius:1rem;gap:1rem;padding:1rem 2rem;position:relative"}),B0e=G("span",{target:"e1vy0af43"})("color:",e=>e.color,";font-size:4rem;"),D0e=G(ry,{target:"e1vy0af42"})("background:transparent;font-size:5.5rem;color:white;transition:400ms ease-in-out;position:relative;display:flex;align-items:center;justify-content:space-between;flex:1;margin:0;padding:0;&[data-win='true']{font-size:8.5rem;color:",Ve.colors.text.active,";}"),F0e=G("div",{target:"e1vy0af41"})({name:"8pc2uz",styles:"display:flex;flex:1;width:100%;height:8.5rem"}),$0e=G(Dw,{target:"e1vy0af40"})("font-size:3rem;opacity:0;&[data-highscore='true']{top:-2.5rem;right:-9rem;",Yv,";opacity:1;}transition:400ms;");function z0e({onNextStep:e,players:t,highScores:n,singSetup:r}){const[i,s]=S.useState(-1);S.useEffect(()=>{if(i<0)s(0);else if(i<4){const v=setInterval(()=>{s(A=>A+1)},1500);return()=>{clearInterval(v)}}},[i]);const o=i>3,l=()=>{o?e():s(5)};Dc({accept:l},!0,[i]);const d=S.useMemo(()=>({accept:"Next"}),[]);Vd(d,!0);const c=r.mode===yi.CO_OP,h=c?[{...t[0],name:t.map(v=>v.name).join(", ")}]:t,f=h.map(v=>yx(v.detailedScore[0])),m=Math.max(...f);return p.jsxs(U0e,{children:[p.jsx(H0e,{children:h.map((v,A)=>p.jsx(L0e,{playerNumber:v.playerNumber,useColors:!c,revealHighScore:i>3,segment:i,player:v,highScores:n,highestScore:m,singSetup:r},A))}),p.jsx(G0e,{onClick:l,focused:!0,"data-test":o?"highscores-button":"skip-animation-button",children:o?"Next":"Skip"}),Xs.getPermissionStatus()&&p.jsx(q0e,{})]})}const U0e=G("div",{target:"e1qmbv7g3"})({name:"1vzp6wx",styles:"position:absolute;padding:20rem 15rem 10rem 15rem;top:0;height:100%;box-sizing:border-box;width:100%;display:flex;flex-direction:column"}),H0e=G("div",{target:"e1qmbv7g2"})({name:"1lbl88b",styles:"text-align:center;display:flex;flex-direction:column;justify-content:center;gap:5rem;margin-bottom:15rem;flex:1"}),G0e=G(lo,{target:"e1qmbv7g1"})({name:"195iwp6",styles:"width:40rem;font-size:1.9vw;margin-left:auto"}),q0e=G(w0e,{target:"e1qmbv7g0"})({name:"1c3jvq",styles:"position:absolute;top:calc(50% - 30rem);left:95rem;transform:scale(0.75)"});function W0e(){return S.useMemo(()=>JSON.parse(ot.session.getItem(dd))??[],[])}function K0e({score:e,register:t,singSetupId:n,onSave:r,index:i}){const s=S.useRef(null),[o,l]=S.useState(""),d=W0e(),c=()=>{o.trim().length&&o.trim()!==e.name&&r(n,e.score,e.name,o)};return p.jsx(Xw,{className:"ph-no-capture",options:d,onChange:l,onBlur:c,value:o,label:"",ref:s,...t(`highscore-rename-${i}`,()=>{var h;return(h=s.current)==null?void 0:h.focus()}),placeholder:e.name,"data-test":"input-edit-highscore","data-original-name":e.name})}function Y0e({onNextStep:e,highScores:t,singSetup:n,song:r}){const{register:i}=Cr(),s=Phe(r);return p.jsxs(p.Fragment,{children:[p.jsx(Q0e,{"data-test":"highscores-container",children:t.map((o,l)=>p.jsxs(J0e,{isCurrentSing:o.singSetupId===n.id,children:[p.jsx(X0e,{children:l+1}),p.jsx(Z0e,{className:"ph-no-capture",children:o.singSetupId===n.id?p.jsx(K0e,{index:l,score:o,register:i,singSetupId:n.id,onSave:s}):o.name}),p.jsx(eve,{children:p.jsx(jS,{score:o.score})}),p.jsx(tve,{children:eo(o.date).format("MMMM DD, YYYY")})]},l))}),p.jsx(nve,{...i("play-next-song-button",e,void 0,!0),children:"Select song"})]})}const Q0e=G("div",{target:"e1kq1u2t6"})({name:"9gtmjg",styles:"position:absolute;top:20rem;width:100%;text-align:center;padding:0 16rem;box-sizing:border-box"}),J0e=G("div",{target:"e1kq1u2t5"})("position:relative;",xt,";font-size:3.2rem;display:flex;background:",e=>e.isCurrentSing?"rgba(0,0,0,.9)":"rgba(0,0,0,.5)",";margin-bottom:2rem;padding:",e=>e.isCurrentSing?"0 1.5rem":"1rem 3.2rem",";align-items:center;"),X0e=G("div",{target:"e1kq1u2t4"})("padding:0 1.6rem;color:",Ve.colors.text.active,";"),Z0e=G("div",{target:"e1kq1u2t3"})({name:"1mbe2e5",styles:"text-align:left;flex:1;padding:1.6rem"}),eve=G("div",{target:"e1kq1u2t2"})({name:"2ycp6t",styles:"padding:0 1rem"}),tve=G("div",{target:"e1kq1u2t1"})({name:"1gbnj87",styles:"position:absolute;font-size:2rem;bottom:-1rem;right:-1.6rem;background:black;padding:0.5rem"}),nve=G(lo,{target:"e1kq1u2t0"})({name:"dmbiod",styles:"position:absolute;bottom:4rem;right:2rem;width:40rem;font-size:1.9vw"});function rve({song:e,width:t,height:n,onClickSongSelection:r,players:i,highScores:s,singSetup:o}){const[l]=Tt(lv);_l(!0);const[d,c]=S.useState("results");return p.jsxs(K4,{songData:e,width:t,height:n,children:[p.jsxs(ive,{children:[d==="results"&&p.jsx(z0e,{onNextStep:()=>c("highscores"),players:i,singSetup:o,highScores:s}),d==="highscores"&&p.jsx(Y0e,{onNextStep:r,singSetup:o,highScores:s,song:e}),p.jsx(sve,{"data-active":"true"})]}),l==="christmas"&&p.jsxs(ove,{children:["Credit to ",p.jsx("a",{href:"https://www.FesliyanStudios.com",children:"https://www.FesliyanStudios.com"})," for the background music."]})]})}const ive=G("div",{target:"e1fxxvcx2"})({name:"1quw0ni",styles:"pointer-events:auto"}),sve=G(x0e,{target:"e1fxxvcx1"})({name:"1l1st43",styles:"transition:300ms;position:absolute;bottom:20rem;font-size:3.2rem;line-height:1.25;color:white;text-align:center;background:rgba(0, 0, 0, 0.75);width:100%;box-sizing:border-box;transform:scale(0);&[data-active='true']{transform:scale(1);}padding:2rem 10rem;kbd{padding:0.12rem 0.9rem;border-radius:1rem;border:0.5rem solid rgb(204, 204, 204);border-bottom-color:rgb(150, 150, 150);border-right-color:rgb(150, 150, 150);color:rgb(51, 51, 51);line-height:1.4;display:inline-block;box-shadow:0 0.1rem 0 rgba(0, 0, 0, 0.2),inset 0 0 0 0.2rem #ffffff;background-color:rgb(247, 247, 247);text-shadow:0 0.1rem 0 #fff;font-weight:normal;}"}),ove=G("span",{target:"e1fxxvcx0"})("position:fixed;bottom:2rem;left:2rem;font-size:1.5rem;",xt,";");function ave(e){const[t,n,r,i]=lve(e);return cve(t,n,r,i)()}function lve(e){let t=1779033703,n=3144134277,r=1013904242,i=2773480762;for(let s=0,o;s<e.length;s++)o=e.charCodeAt(s),t=n^Math.imul(t^o,597399067),n=r^Math.imul(n^o,2869860233),r=i^Math.imul(r^o,951274213),i=t^Math.imul(i^o,2716044179);return t=Math.imul(r^t>>>18,597399067),n=Math.imul(i^n>>>22,2869860233),r=Math.imul(t^r>>>17,951274213),i=Math.imul(n^i>>>19,2716044179),t^=n^r^i,n^=t,r^=t,i^=t,[t>>>0,n>>>0,r>>>0,i>>>0]}function cve(e,t,n,r){return function(){e|=0,t|=0,n|=0,r|=0;var i=(e+t|0)+r|0;return r=r+1|0,e=t^t>>>9,t=n+(n<<3)|0,n=n<<21|n>>>11,n=n+i|0,(i>>>0)/4294967296}}const uve=["Lysa Arryn","Peter Parker","Zordon","Chad Khalimov","Dat Boi","Good Guy Greg","Scumbag Steve","Meme Man","Pepe","Wojak","Ebmarah","Shrek","Vad of ICE Beat","Krasnolud","May Aragorn","Morning Breeze","Auytjak Lorav","Smelly Cat","Stinky Foot"],s5=new Date("2016-01-01").getTime(),dve=new Date("2024-01-07").getTime(),wb=5;function fve(e,t){const n=Qw(e);return S.useMemo(()=>{const i=[...uve];return[...Array.from({length:wb},(o,l)=>{const d=ave(e.id+l),c=6e5+14e5/(wb-1)*l,h=i.splice(Math.floor(d*i.length),1)[0];return{singSetupId:l.toString(),name:h,score:rs()?c/1e3:c,date:new Date((dve-s5)*d+s5).toISOString()}}),...(n==null?void 0:n.scores.filter(({setup:o})=>o.mode===t.mode&&o.tolerance===t.tolerance).map(o=>o.scores.map(l=>({...l,date:o.date,singSetupId:o.setup.id}))).flat())??[]].sort((o,l)=>l.score-o.score).slice(0,wb)},[e.id,n,t])??[]}function hve({song:e,width:t,height:n,onClickSongSelection:r,singSetup:i}){const s=fve(e,i),o=S.useMemo(()=>it.getPlayers().map(l=>({name:l.getName(),playerNumber:l.number,detailedScore:ct.getPlayerDetailedScore(l.number)})),[]);return p.jsx(yl,{children:p.jsx(rve,{singSetup:i,song:e,width:t,height:n,onClickSongSelection:r,players:o,highScores:s})})}function pve({songPreview:e,singSetup:t,returnToSongSelection:n,restartSong:r}){rN(),iN();const i=S.useRef(null),s=B4(e.id),{width:o,height:l}=lp(),[d,c]=S.useState(!1),[h,f]=S.useState(!0),[m,v]=S.useState(ir.UNSTARTED),[A,b]=S.useState(!1);return ml(!A),S.useEffect(()=>{h&&s.data&&(A||m!==ir.UNSTARTED)&&f(!1)},[s.data,A,m,h]),d&&s.data?p.jsx(hve,{width:o,height:l,song:s.data,onClickSongSelection:n,singSetup:t}):p.jsx(yl,{children:p.jsxs(gve,{children:[p.jsxs(mve,{visible:h,"data-test":"background-container",children:[p.jsx(yve,{video:e.video,width:o,height:l}),p.jsx(Ave,{"data-test":"song-artist",children:e.artist}),p.jsx(bve,{"data-test":"song-title",children:e.title}),p.jsx(hge,{onFinish:()=>{var x;b(!0),(x=i.current)==null||x.play()}})]}),s.data&&p.jsx(S0e,{pauseMenu:!0,ref:i,onStatusChange:v,players:t.players,song:s.data,width:o,height:l,autoplay:!1,onSongEnd:()=>{var I;const x=((I=ct.getSingSetup())==null?void 0:I.mode)===yi.CO_OP?[{name:it.getPlayers().map(P=>P.getName()).join(", "),score:ct.getPlayerScore(0)}]:it.getPlayers().map(P=>({name:P.getName(),score:ct.getPlayerScore(P.number)})),E=ct.getSongCompletionProgress();ge.songEnded.dispatch(s.data,t,x,E),c(!0)},singSetup:t,restartSong:r})]})})}const gve=G("div",{target:"e9bbafl4"})({name:"bjn8wh",styles:"position:relative"}),mve=G("div",{target:"e9bbafl3"})("position:fixed;top:0;left:0;z-index:10;pointer-events:none;background-color:black;view-transition-name:song-preview;opacity:",e=>e.visible?1:0,";transition:500ms;"),vve=G("div",{target:"e9bbafl2"})({name:"oux8x1",styles:"background-size:cover;background-position:center center;filter:blur(10px)"}),yve=e=>p.jsx(vve,{style:{backgroundImage:`url('https://i3.ytimg.com/vi/${e.video}/hqdefault.jpg')`,width:`${e.width}px`,height:`${e.height}px`}}),Ave=G(Jw,{target:"e9bbafl1"})({name:"oyknw4",styles:"view-transition-name:song-preview-artist;position:absolute;top:10rem;left:10rem;font-size:7rem"}),bve=G(sy,{target:"e9bbafl0"})({name:"1l9juvo",styles:"view-transition-name:song-preview-title;position:absolute;font-size:8rem;top:19rem;left:10rem"});function _ve(){const e=Nv("song"),[t,n]=S.useState(null),[r,i]=S.useState(e??null),[s,o]=S.useState(0),l=d=>{document.getElementById("preview-video-container").style.viewTransitionName="song-preview-video",Bh(()=>{document.getElementById("preview-video-container").style.viewTransitionName="",jd.flushSync(()=>{n(d)})}),Px.play(!1)};return rN(),p.jsxs(p.Fragment,{children:[p.jsx(os,{children:p.jsx("title",{children:"Game | AllKaraoke.Party - Free Online Karaoke Party Game"})}),p.jsx(Hw,{children:t?p.jsx(pve,{restartSong:()=>{Xs.restartRecord(),o(d=>d+1)},songPreview:t.song,singSetup:t,returnToSongSelection:()=>{i(t.song.id),n(null)}},s):p.jsx(dge,{onSongSelected:l,preselectedSong:r})})]})}const Sve="/assets/screenshot1-DaCeVKxL.webp",xve="/assets/screenshot2-uopWyjAi.webp",wve=JSON.parse(`["2NE1","3 Doors Down","3OH!3","3OH!3 feat. Katy Perry","3OH!3 feat. Ke$ha","4 Non Blondes","5 Seconds of Summer","50 Cent","A Day to Remember","A Flock Of Seagulls","A Great Big World","a-ha","A Perfect Circle","AaRON","ABBA","Abby Trott","AC/DC","Ace of Base","Adam Lambert","Adele","Aerosmith","Against The Current","Air Supply","AJR","Akon","Akon feat. Eminem","Alan Jackson","Alan Walker","Alan Walker & Ava Max","Alanis Morissette","Alannah Myles","Alec Benjamin","Alessandra","Alessia Cara","Alesso feat. Tove Lo","Alesso & Katy Perry","Alexander Rybak","Alexis Jordan","Alice Cooper","Alice In Chains","Alice in Chains","Alice Merton","Alicia Keys","ALIKA","All Time Low","Alphaville","Alter Bridge","Alvvays","Aly & AJ","Alyona Alyona & Jerry Heil","America","Amy Grant","Amy MacDonald","Amy Winehouse","Anastacia","Andrew Lambrou","Andy Williams","Anitta","Anna Kendrick","Anna Margaret","Apocalyptica ft. Adam Gontier","Aqua","Aram MP3","Arcade Fire","Arctic Monkeys","Ariana Grande","Ariana Grande feat. Future","Ariana Grande feat. Zedd","Ariana Grande & John Legend","Ariana Grande & Justin Bieber","Ariana Grande & The Weeknd","Ashanti","Ashlee Simpson","Ashley Tisdale","Asking Alexandria","ATeens","Audioslave","AURORA","Ava Max","Avantasia","Avenged Sevenfold","Avicii feat. Sandro Cavazza","Avicii","Avril Lavigne","Awolnation","B52s","Baby Lasagna","Babymetal x Electric Callboy","Baccara","Backstreet Boys","Bad Lip Reading","Bad Omens","Bai Sha JAWS","Baldurs Gate 3","Bambie Thug","Banana minnions family","Band Aid","Barbie (Ryan Gosling)","Barei","Bastille","Beastie Boys","Bebe Rexha y David Guetta","Bee Gees","Bella Poarch","Bella Thorne","Bellamy Brothers","Ben Doli","Ben E. King","Benny Blanco, Halsey & Khalid","Benny Cristo","Benson Boone","Bette Midler","Beyonc","Beyonc feat. Jay-Z","Beyonc & Shakira","Big Time Rush","Bikini Kill","Bill Medley & Jennifer Warnes","Billie Eilish","Billie Eilish & Khalid","Billy Boyd","Billy Idol","Billy Joel","Billy Talent","Bing Crosby","Bjrnzone","Black Eyed Peas, Shakira","Black Sabbath","Black Veil Brides","BLACKPINK & Selena Gomez","Blackstreet feat. Dr. Dre","Blanche","Blanka","Blind Guardian","blink-182","Blink 182","Blondie","Blu Cantrell","Blue","Blue yster Cult","Blur","Ba","B.o.B feat. Bruno Mars","B.o.B feat. Hayley Williams","Bob Marley & The Wailers","Bobby Helms","Bon Jovi","Boney M","Boney M.","Bonnie Tyler","Bowling For Soup","Boyz II Men","Bradley Cooper & Lady Gaga","Brandy & Monica","Breaking Benjamin","Brenda Lee","Bridgit Mendler","Bring Me The Horizon","Britney Spears","Britney Spears / Elton John","Britney Spears feat. Madonna","Britney Spears feat. Tinashe","Britney Spears & Iggy Azalea","Brotherhood Of Man","Bruno Mars & Cardi B","Bruno Mars","Bryan Adams","Bryce Pinkham","BTS","BTS feat. Desiigner","BTS featuring  Desiigner","BTS - J-Hope feat. Becky G","Bucks Fizz","Bush","Busted","Calum Scott","Calvin Harris feat. Rihanna","Camila Cabello ft. Ed Sheeran","Camp Rock 2","Capital Cities","Cardi B & Bruno Mars","Carly Rae Jepsen","Carpenters","Carrie Underwood","Cascada","Cat Stevens","Cee Lo Green","Cline Dion","Chaka Khan","Chappell Roan","Charli XCX","Charlie Puth","Charlie Puth & Selena Gomez","Chenoa","Cher","Cheryl Cole","Chicago","Childish Gambino","Chingiz","Chris Brown","Chris Brown feat. Rihanna","Chris Isaak","Chris Rea","Christina Aguilera","Christina Milian","Christina Perri","Chuck Berry","Chumbawamba","Cliff Richard","Colbie Caillat","Coldplay","Coldplay feat. Beyonc","Coldplay x BTS","Conchita Wurst","Coolio feat. L.V.","Corey Hart","Corinne Bailey Rae","Cornelia Jakobs","Counting Crows","Creed","Creedence Clearwater Revival","Crowded House","Crush 40","Crusher-P feat. GUMI","Culture Club","Cutting Crew","Cyndi Lauper","Cynthia Harrell","Dai Freyr","Dai og Gagnamagni","Daft Punk","Daft Punk Feat. Todd Edwards","Daisuke Ishiwatari","Dami Im","Dana International","Daniel Caesar","Daniel Powter","Danzel","Darius Rucker","Daryl Hall & John Oates","Dashboard Confessional","Daughtry","Dave Rodgers","David Archuleta","David Bowie","David Cook","David Guetta feat. Akon","David Guetta feat. Kid Cudi","David Guetta feat. Rihanna","David Guetta feat. Usher","David Guetta & Sia","David Hasselhoff","Dead Or Alive","deadmau5 feat. Chris James","deadmau5 feat. Gerard Way","Deadmau5 & Kaskade","Dean Lewis","Dean Martin","Dear Evan Hansen","Deep Purple","Def Leppard","Deftones","Demi Lovato","Demi Lovato feat. Cher Lloyd","Deorro x Chris Brown","Depeche Mode","Destiny","Destinys Child","Diana Ross","Dido","Dimash Kudaibergen","Dio","Dire Straits","Disney's Aladin","Disneys Beauty and the Beast","Disneys Brother Bear","Disneys Descendants 2","Disneys Descendants","Disneys Encanto","Disneys Frozen","Disneys Frozen II","Disneys Hercules","Disney's Moana","Disneys Mulan","Disney's Pocahontas","Disney's Tangled","Disneys Tarzan","Disneys Teen Beach Movie","Disneys The Jungle Book","Disneys The Lion King","Disturbed","DJ Sammy & Yanou feat. Do","DJ Snake feat. Justin Bieber","DNCE","Doja Cat feat. SZA","Doja Cat","Doki Doki Literature Club!","Dolly Parton","Don McLean","Donna Summer","Doris Day","Dove Cameron","DragonForce","Drake Bell","Drake feat. Rihanna","Drake feat. Wizkid & Kyla","Drake","Dream Theater","Drowning Pool","Dua Lipa","Dua Lipa & BLACKPINK","Duck Sauce","Duncan Laurence","Duran Duran","Dusty Springfield","Earth, Wind & Fire","Echosmith","Ed Sheeran and Elton John","Ed Sheeran and Justin Bieber","Ed Sheeran","Ed Sheeran feat. Khalid","Ed Sheeran & Pokmon","Eddie Murphy","Edward Maya & Vika Jigulina","Electric Callboy","Electric Callboy feat. Sido","Electric Light Orchestra","Elena Siegman","Eleni Foureira","Ellie Goulding","Elton John","Elton John & Dua Lipa","Elton John & RuPaul","Elvis Presley","Eminem feat. Dido","Eminem feat. Juice WRLD","Eminem feat. Rihanna","Eminem","Emmelie de Forest","Empire Of The Sun","Enrique Iglesias","Enya","Eric Clapton","Eric Saade","Estelle feat. Kanye West","Europe","Eurythmics","Eva Rivas","Evanescence","Extreme","Faith Hill","Faith No More","Fall Out Boy","Falling In Reverse","Fergie","Fetty Wap","Fifth Harmony feat. Kid Ink","Fifth Harmony","FIFTY FIFTY","Finger Eleven","Five For Fighting","Fleetwood Mac","Flo Rida feat. David Guetta","Flo Rida feat. Ke$ha","Flo Rida feat. Sia","Flo Rida feat. T-Pain","Flo Rida","Florence + the Machine","Foo Fighters","Fools Garden","Foreigner","Foster The People","Fountains Of Wayne","Frank Ocean","Frank Sinatra","Frankie Goes To Hollywood","Frankie Valli","Franz Ferdinand","Freddie Mercury","Fredi and Friends","Fugees","Fun. feat. Janelle Mone","Fun.","Gandalf","Gary Barlow & Elton John","Gayle","Genesis","George Ezra","George Michael","George Michael & Elton John","Getter Jaani","Ghost","Gina G","Ginuwine","Girls Generation (SNSD)","Glee Cast","Gloria Gaynor","GloryHammer","Gnarls Barkley","Goo Goo Dolls","Good Charlotte","Gorillaz","Gorillaz feat. Shaun Ryder","Gotye & Kimbra","Grabbitz","Green Day","Grta Salme & Jnsi","Guns N' Roses","Guns N Roses","Gustaph","Gwen Stefani","Gwen Stefani & Eve","Gwen Stefani Feat Akon","Hailee Steinfeld feat. DNCE","Hailee Steinfeld","Hairspray (Movie)","Hamilton","Hanson","Harpo","Harry Styles","Hazbin Hotel","Heathers","Helena Paparizou","Hellogoodbye","Helloween","Henry Moodie","Hera Bjrk","High School Musical 2","High School Musical","Hilary Duff","Hillsong United","Himesh Patel","Hinder","Hole","Hollywood Undead","Hoobastank","Hootie & The Blowfish","Hooverphonic","Hozier","Huey Lewis & The News","Hunter Hayes","Ice Cube","Idina Menzel","Iggy Pop","Ike & Tina Turner","Imagine Dragons","Imagine Dragons x JID","Inna","Interpol","Into the Woods","INXS","Iron Maiden","ISAAK","Israel Kamakawiwoole","Jack Black","Jack Johnson","Jack White","Jagwar Twin","James Arthur","James Bay","James Blunt","Jamiroquai","Janet Jackson","Jason Derulo","Jason Derulo feat. 2 Chainz","Jason Derulo feat. Snoop Dogg","Jason Mraz","Jason Paige","Jay Sean feat. Lil Wayne","Jay Sean","Jay-Z feat. Alicia Keys","Jaymes Young","Jedward","Jennette McCurdy","Jennifer Lopez","Jennifer Lopez & Pitbull","Jesse McCartney","Jessica Simpson","Jessie J","Jet","Jethro Tull","Jewel","Jim Croce","Jimi Jamison","Jimmy Eat World","Joan Jett","Joan Jett & The Blackhearts","Joe Cocker","John Cougar Mellencamp","John Denver","John Legend","John Lennon","John Mayer","John Rzeznik","John Travolta (Grease)","John Waite","Johnny Cash","Johnny Logan","Johnny Rivers","Joji","JoJo","Jojo","Jon Bellion","Jonas Brothers","Jonathan Coulton","Josh Groban","Josh Turner","Journey","Joy Division","Julie and the Phantoms","Justin Bieber","Justin Bieber & Benny Blanco","Justin Bieber feat. Big Sean","Justin Bieber feat. Usher","Justin Bieber & Ludacris","Justin Bieber & Nicki Minaj","Justin Timberlake","Kaiser Chiefs","Kaleen","Kaleo","Kane Brown","Kansas","Kanye West","Kanye West feat. Dwele","Kanye West feat. Pusha T","Kanye West feat. Young Jeezy","Kardinal Offishall feat. Akon","Kasabian","Kate Bush","Katrina And The Waves","KATSEYE","Katy Perry","Katy Perry feat. Kanye West","Katy Perry feat. Migos","Katy Perry feat. Nicki Minaj","Katy Perry feat. Snoop Dogg","Kay Starr","Keane","Keep Shelly in Athens","Keep Shelly In Athens","Ke$ha feat. 3OH!3","Ke$ha","KEiiNO","Kellie Pickler","Kelly Clarkson","Kendrick Lamar feat. Drake","Kendrick Lamar","Kendrick Lamar & SZA","Kenny Rogers & Dolly Parton","Kenya Grace","Khalid x Normani","Kid Cudi","Kid Cudi feat. MGMT & Ratatat","Kid Rock","Kid Rock feat. Sheryl Crow","Kim Petras","Kim Petras & Nicki Minaj","Kim Wilde","Kings Of Leon","Kings of Leon","KISS","Kodaline","KoRn","KT Tunstall","Kygo feat. Maty Noyes","Kygo & Selena Gomez","Kygo x Whitney Houston","Kyle Justin","Kylie Minogue","La Bouche","La Roux","Lady Antebellum","Lady Gaga","Lady Gaga & Ariana Grande","Lady Gaga & BLACKPINK","Lady Gaga, Bradley Cooper","Lady Gaga & Bruno Mars","Lady Gaga feat. Beyonc","Lady Gaga feat. Colby O'Donis","Lana Del Rey","Lana Del Rey feat. The Weeknd","Lauv feat. BTS","LazyTown","LE SSERAFIM","Lea Salonga and Brad Kane","League of Legends","LeAnn Rimes","Led Zeppelin","Lena","Lenny Kravitz","Leona Lewis","Les Fatals Picards","Les Misrables","Lewis Capaldi","Lifehouse","Lil Dicky","Lil Nas X feat. Miley Cyrus","Lil Nas X","Lil Wayne feat. Bruno Mars","Lil Wayne feat. Eminem","Lily Allen","Linkin Park","Lionel Richie","Lipps, Inc.","Little Big","Little Mix feat. Stormzy","Little Mix","Lizzo","LMFAO","Loc Nottet","Lord Of The Lost","Lorde","Lordi","Loreen","Loverboy","LP","LSD","Lucy Hale","Lulu","Lykke Li","Lyn","Lynyrd Skynyrd","M83 feat. Susanne Sundfr","Madcon feat. Ray Dalton","Madcon","Madness","Madonna","Mae Muller","Magic!","Malik Harris","Mamma Mia! (Movie)","Man With A Mission","Manchester Orchestra","Mandaryna","Mandy Moore","Mneskin","Manfred Mann","Manowar","Mns Zelmerlw","Manuel","Marc Cohn","Marc DeMarco","Marcus & Martinus","Margaret Berger","Maria Yaremchuk","Mariah Carey","Mariah Carey & Boyz II Men","Mariah Carey feat. Jay-Z","Marillion","Marilyn Manson","Marina and the Diamonds","Marina & The Diamonds","Mark Ronson feat. Bruno Mars","Mark Ronson ft  Miley Cyrus","Maroon 5 feat. Cardi B","Maroon 5 feat. Wiz Khalifa","Maroon 5","Marshmello & Anne-Marie","Marshmello & Bastille","Marshmello & Kane Brown","Marshmello x Jonas Brothers","Martin Garrix & Bebe Rexha","Martin Garrix feat. Bonn","Martin Solveig & Dragonette","Martin Solveig & GTA","Martina McBride","Marvin Gaye & Tammi Terrell","Mary J. Blige","Matchbox Twenty","Matt Redman","Max Coveri","Meat Loaf","Meatloaf","Meghan Trainor","Melanie Martinez","Melanie Thornton","Melissa Etheridge","MELOVIN","Men at Work","Metallica","Metric","Metro Station","M.I.A.","Michael Bubl","Michael Jackson","Michael Schulte","Michelle Branch","Midnight Oil","Mika feat. Ariana Grande","Mika","Mike Posner","Miley Cyrus","Miley Cyrus & Jessie J","Mili","Milo Manheim & Meg Donnelly","Miracle Of Sound","Miranda Lambert","Mitski","Modern Talking","Modest Mouse","Montaigne","Morandi","Morgan Wallen","Mother Mother","Mtley Cre","Moulin Rouge","Mr. Big","Mumford and Sons","Mumford & Sons","Muse","My Chemical Romance","My Little Pony","Myles Smith","N Sync","Natalia Kills","Natalie Imbruglia","Natasha Bedingfield","Natasha Farrow","Nathan Evans","Naughty Boy feat. Sam Smith","Nazareth","NCT 127","NCT DREAM","Ne-Yo","Neil Young","Nelly feat. Kelly Rowland","Nelly Furtado","Nelly Furtado feat. Timbaland","Nemo","Nena","Neon Genesis Evangelion","Neon Trees","Netflix","Netta","New Kids On The Block","New Order","NewJeans; League of Legends","NF","Niall Horan","Nick Cave & The Bad Seeds","Nick Jonas","Nickelback","Nicki Minaj feat. Rihanna","Nicki Minaj","Nicki Taylor","Nico Bruno","Nico & Vinz","Nightwish","NIKI","Nilsson","Nirvana","No Doubt","No Secrets","Noah Kahan","Nothing But Thieves","O.A.R.","Oasis","Ochman","OK Go","Olivia Newton-John","Olivia Rodrigo","Olly Murs","Olly Murs feat. Flo-Rida","Olsen Brothers","One Direction","OneRepublic","OutKast","Owl City & Carly Rae Jepsen","Owl City","Ozzy Osbourne","Panic! at the Disco","Papa Roach","Paramore","Paris Hilton","Passenger","Pat Benatar","Patrice Rushen","Paul Simon","Paula Abdul","Pearl Jam","Peter Cetera","Peter Gabriel","Peter Gabriel & Kate Bush","Petula Clark","Phantom Planet","Pharrell Williams","Phil Collins","Phoebe Bridgers","Pink Floyd","PinkPantheress & Ice Spice","Pitbull feat. Chris Brown","Pitbull feat. Marc Anthony","Pitbull feat. T-Pain","Pixies","Placebo","Placebo feat. David Bowie","Plain White Ts","P!nk feat. Lily Allen","P!nk feat. Nate Ruess","P!nk","Poets Of The Fall","Poets of the Fall","Pointer Sisters","Portal","Post Malone","Post Malone feat. 21 Savage","Post Malone & Swae Lee","Powerwolf","Pretenders","Prince and the Revolution","Psy feat. Suga of BTS","Psychostick","Queen","Queen & David Bowie","Queens Of The Stone Age","R. City feat. Adam Levine","R. Kelly","Radical Face","Radiohead","RAFA","Rage Against the Machine","Rage Against The Machine","RagnBone Man","Rag'n'Bone Man","Rainbow","Ramones","Rascal Flatts","Rasmussen","Ray Parker Jr.","Real Life","Red","Red Hot Chili Peppers","Rednex","R.E.M.","Remo Forrer","Ren","REO Speedwagon","Rhapsody","Richard Marx & Donna Lewis","Richard Marx","Rick Astley","Ricky Martin","Rihanna","Rihanna feat. Calvin Harris","Rihanna feat. Drake","Rihanna feat. Eminem","Rihanna feat. Jay-Z","Rihanna feat. Jeezy","Rihanna feat. Mikky Ekko","Rihanna & Ne-Yo","Rise Against","Rob Thomas","Rob Zombie","Robbie Williams","Rockwell","Rod Stewart","Roman Lob","Rosa Linn","Rosa Walton & Hallie Coggins","ROS & Bruno Mars","Roxette","Roy Orbison","Rufus Wainwright","Run DMC","RuPaul","Rupert Holmes","Ruslana","Rusted Root","S Club 7","Sabaton","Sabrina Carpenter","Sam Fender","Sam Ryder","Sam Smith","Sam The Sham And The Pharaohs","Sandie Shaw","Santana feat. Rob Thomas","Sara Bareilles","Sara Evans","Sarah McLachlan","Savage Garden","Savatage","Scars On Broadway","Scissor Sisters","Scorpions","Scott McKenzie","Sean Kingston","Sean Kingston / Justin Bieber","SEBalter","Secondhand Serenade","Selena Gomez","Selena Gomez feat. Gucci Mane","Selena Gomez & The Scene","Selena Gomez x Marshmello","Serj Tankian","Set It Off","Shaggy feat. RikRok","Shakin Stevens","Shakira","Shakira feat. Carlinhos Brown","Shakira feat. Dizzee Rascal","Shakira feat. Rihanna","Shakira feat. Wyclef Jean","Shakira ft. Freshlyground","Shania Twain","Shawn Mendes & Camila Cabello","Shawn Mendes, Camila Cabello","Shawn Mendes","Sheryl Crow","Shinedown","Shrek 2","Sia","Sia feat. Kendrick Lamar","SIAMS","Silia Kapsis","SiM","Simon & Garfunkel","Simple Minds","Simple Plan","Simply Red","Sinad OConnor","SING (Taron Egerton)","Sixpence None The Richer","Skid Row","Skillet","Skunk Anansie","Slade","SLANDER feat. Dylan Matthews","Slayyyter","Slipknot","Smash Into Pieces","Smash Mouth","SMiLE.dk","Smokie","Snow Patrol","Sophie Ellis-Bextor","Soul Asylum","Soundgarden","Spandau Ballet","Spice Girls","Srbuk","Starship","Status Quo","Steindi","Stella Mwangi","Stephen Sanchez","Stereophonics","Steve Aoki feat. BTS","Steve Lacy","Steven Curtis Chapman","Stevie Wonder","Sting","Stone Temple Pilots","Sublime","Subwoolfer","Sudden Lights","Sugababes","Sum 41","Sunrise Ave","Supergrass","Supertramp","Survivor","Sylver","Symphony X","System of a Down","System Of A Down","SZA","Taio Cruz","Taio Cruz feat. Flo Rida","Take That","Taking Back Sunday","Tal Bachman","Talking Heads","Tally Hall","Tate McRae","t.A.T.u.","Taylor Swift","Taylor Swift feat. Bon Iver","Teach-In","Tears For Fears","Technotronic feat. Felly","Teddy Swims","Tenacious D","Terence Trent DArby","Terri Clark","Texas","Teya & Salena","The 1975","The Animals","The Baseballs","The Beach Boys","The Beatles","The Beautiful South","The Black Eyed Peas","The Black Keys","The Bloodhound Gang","The Blues Brothers","The Boomtown Rats","The BossHoss","The Calling","The Cardigans","The Chainsmokers & Coldplay","The Chainsmokers feat. Daya","The Chainsmokers feat. Halsey","The Champs","The Charlie Daniels Band","The Cinematic Orchestra","The Clash","The Common Linnets","The Corrs","The Cranberries","The Cure","The Darkness","The Doors","The Eagles","The Fray","The Greatest Showman","The Ink Spots","The Jackson 5","The Jacksons","The Jam","The Kelly Family","The Kid Laroi & Justin Bieber","The Kid Laroi & Miley Cyrus","The Killers","The Kooks","The Little Mermaid","The Living Tombstone","The Lonely Island feat. Akon","The Makemakes","The Mamas & The Papas","The Neighbourhood","The Offspring","The Phantom of the Opera","The Police","The Postal Service","The Proclaimers","The Psychedelic Furs","The Pussycat Dolls","The Rasmus","The Rembrandts","The Rocky Horror Picture Show","The Rolling Stones","The Ronettes","The Script","The Script feat. will.i.am","The Smashing Pumpkins","The Smiths","The Specials","The Stone Roses","The Strokes","The Sweet","The Temptations","The Tony Rich Project","The Verve","The Village People","The Vines","The Weeknd","The Weeknd feat. Daft Punk","The White Stripes","The Who","The Witcher (Joey Batey)","The Zutons","TheFatRat feat. Laura Brehm","TheFatRat","Third Eye Blind","Thirty Seconds to Mars","Three Days Grace","Thundercats","Tiffany","Timbaland feat. Keri Hilson","Tina Turner","Tix","TLC","Tokio Hotel","Tom Dice","Tom Jones and Mousse T.","Tom Jones","Tom Odell","Tones And I","Toni Braxton","Tool","Toto","Tove Lo","Tracy Chapman","Train","Travie McCoy feat. Bruno Mars","Troye Sivan","Twenty One Pilots","twenty ne pilts","TWICE","Tyler, The Creator","U2","Ultravox","USA for Africa","Usher & Alicia Keys","Usher feat. Pitbull","Usher feat. will.i.am","Usher & Pitbull","Usher","Utada Hikaru","Vampire Weekend","Van Halen","Vance Joy","Vanessa Carlton","Vanessa Hudgens","Vanessa Williams","Vanilla Ice","Vengaboys","Verka Serduchka","Victoria Justice","Vitamin C","Volbeat","Volbeat feat. Sarah Blackwood","Voyager","Warren Zevon","We Are Domi","Ween","Weezer","Weird Al Yankovic","Westlife","Wham!","Wham","Wheatus","Whitesnake","Whitney Houston","Wicked","Wilbur Soot","Will Ferrell & Rachel McAdams","Will Smith","will.i.am & Britney Spears","will.i.am feat. Eva Simons","will.i.am feat. Justin Bieber","will.i.am","Wilson Phillips","Windows95man","Wiz Khalifa","Wiz Khalifa ft. Charlie Puth","Xavier Rudd","Yazoo","Ylvis","Yohanna","Young The Giant","Zara Larsson","Zara Larsson & MNEK","ZAYN feat. Sia","ZAYN","ZAYN & Taylor Swift","Zedd & Alessia Cara","Zedd feat. Selena Gomez","Zedd & Foxes","Zendaya & Bella Thorne","Zoe Wees","ZZ Top"]`),Eve=["Polish","Korean","English","Japanese","Spanish","Estonian","German","Swedish","Indonesian","Chinese","French","Ukrainian","Portuguese","Dutch","Italian","Catalan","Finnish","Czech","Norwegian","Croatian","Latin","Icelandic","Serbian","Slovenian","ENGL","Armenian","Romanian","Lithuanian","Latvian"],Cve=3806,Zf={artists:wve,languages:Eve,songs:Cve},kve=new Intl.NumberFormat(void 0,{maximumFractionDigits:0});function Tve(){const[e]=Tt(XS),t=Zhe(JS.SkipInitialSetup),n=$i();ml(!0);const r=t==="test"&&!rs()?"menu/":e===null?"quick-setup/":"menu/";mi("enter",()=>{n(r)},[r]);const[i,s]=S.useState(!1);return S.useEffect(()=>{const o=setTimeout(()=>{s(!0)},4e3);return()=>clearTimeout(o)},[]),p.jsxs(p.Fragment,{children:[p.jsx(os,{children:p.jsx("title",{children:"AllKaraoke.Party - Free Online Karaoke Party Game"})}),p.jsx(S4,{}),p.jsxs("div",{className:"flex flex-col w-[110rem] items-stretch justify-center h-screen gap-12 mx-auto landscap:flex-row landscap:w-full mobile:w-full shadow-active [&_strong]:[text-shadow:_0_0_5rem_var(--tw-shadow-color)] [&_a]:[text-shadow:_0_0_5rem_var(--tw-shadow-color)]",children:[p.jsxs("div",{className:"flex justify-center gap-24 mobile:hidden",children:[p.jsx(M4,{}),p.jsx(Fw,{})]}),p.jsx(Ai,{to:r,children:p.jsx(Eb,{"data-test":"enter-the-game",className:"mobile:hidden",children:"Enter the game"})}),p.jsxs("div",{className:"flex gap-24 p-24 items-center box-border bg-black/75 landscap:flex-1 [&_hr]:my-12 mobile:flex-col",children:[p.jsxs(o5,{children:[p.jsxs("div",{className:"leading-normal text-justify",children:[p.jsx("strong",{children:"AllKaraoke"})," is a free online karaoke game inspired by PlayStation's"," ",p.jsx("strong",{children:"SingStar"}),". Sing along to your favorite songs and compete with your friends, all through the browser! Updated almost weekly with new songs and features."]}),p.jsx("hr",{}),p.jsxs(Nf,{children:[" ",p.jsx("strong",{children:kve.format(Zf.songs)})," songs in"," ",p.jsx("strong",{children:Zf.languages.length})," languages",p.jsxs(Bf,{children:["Artists such as"," ",p.jsx("strong",{children:i?p.jsx($N,{options:{strings:Zf.artists,autoStart:!0,loop:!0,delay:100}}):Zf.artists.at(-1)})]})]}),p.jsxs(Nf,{children:[" Play ",p.jsx("strong",{children:"directly"})," in the browser",p.jsxs(Bf,{children:["No ",p.jsx("strong",{children:"download"})," needed"]})]}),p.jsxs(Nf,{children:[" Use ",p.jsx("strong",{children:"phones"})," as microphones",p.jsx(Bf,{children:"No need to download an app"})]}),p.jsxs(Nf,{children:[" Supports ",p.jsx("strong",{children:"1-4"})," players",p.jsx(Bf,{children:"When using phones as microphones"})]}),p.jsxs(Nf,{children:[" ",p.jsx("strong",{children:"100% Free"})," and open source",p.jsxs(Bf,{children:["Check the"," ",p.jsx("a",{href:"https://github.com/Asvarox/allkaraoke",target:"_blank",rel:"noreferrer",children:"GitHub repository"})]})]})]}),p.jsxs(o5,{className:"gap-16 mobile:flex-row landscap:hidden",children:[p.jsx(a5,{src:Sve,alt:"Song list screen",className:"[box-shadow:_0_0_5rem_rgba(114,155,255,0.5)]"}),p.jsx(a5,{src:xve,alt:"In-game screen",className:"[box-shadow:_0_0_10rem_rgb(19,19,19)]"})]})]}),p.jsxs(xc,{className:"mobile:hidden text-md text-right !mt-[-2.5rem]",children:["Using this device as remote microphone?"," ",p.jsx(Ai,{to:"remote-mic/",children:p.jsx("a",{"data-test":"join-existing-game",children:"Join existing game"})})]}),p.jsxs("div",{className:"flex flex-col gap-12 landscap:flex-1 [&&_a]:min-h-[30rem] justify-center",children:[p.jsx(Ai,{to:"remote-mic/",children:p.jsx(Eb,{"data-test":"join-existing-game",className:"hidden mobile:flex",children:p.jsxs("span",{children:["Join game (with ",p.jsx("strong",{children:"Game Code"}),")"]})})}),p.jsx(Ai,{to:"quick-setup/",children:p.jsx(Eb,{"data-test":"enter-the-game",className:"hidden mobile:flex",children:"Start new game"})})]})]})]})}const Nf=$n.div``,Bf=$n.div`pt-2 text-right text-[0.7em] [&_.Typewriter]:inline`,o5=$n(xc)`flex flex-col flex-1 gap-4 typography text-[2.3rem] mobile:text-[8.5rem] landscap:text-[4.9rem]`,a5=$n.img`w-full aspect-video object-cover shadow-5 border-1 border-black/50 rounded-2xl mobile:w-[calc(50%-2rem)] mobile:h-[50rem]`,Eb=$n(FL)`text-[9rem] bg-black w-full px-28 py-4 animate-focused`;function Ive(){const e=$i(),t=()=>e("menu/"),{register:n}=Cr({onBackspace:t});return p.jsxs(bl,{children:[p.jsx(os,{children:p.jsx("title",{children:"Manage Songs | AllKaraoke.Party - Free Online Karaoke Party Game"})}),p.jsx("h1",{children:"Manage Songs"}),p.jsx(Ai,{to:"exclude-languages/",children:p.jsx(ut,{...n("exclude-languages",()=>e("exclude-languages/")),children:"Select Song Languages"})}),p.jsx(Ai,{to:"edit/list/",children:p.jsx(ut,{...n("edit-songs",()=>e("edit/list/")),children:"Edit songs"})}),p.jsx(Ai,{to:"convert/",children:p.jsx(ut,{...n("convert-song",()=>e("convert/")),children:"Convert UltraStar .txt"})}),p.jsx("hr",{}),p.jsx(Ai,{to:"menu/",children:p.jsx(ut,{...n("back-button",t),children:"Return To Main Menu"})})]})}var Df={exports:{}},l5;function Rve(){if(l5)return Df.exports;l5=1,Df.exports=r,Df.exports.isMobile=r,Df.exports.default=r;const e=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,t=/CrOS/,n=/android|ipad|playbook|silk/i;function r(i){i||(i={});let s=i.ua;if(!s&&typeof navigator<"u"&&(s=navigator.userAgent),s&&s.headers&&typeof s.headers["user-agent"]=="string"&&(s=s.headers["user-agent"]),typeof s!="string")return!1;let o=e.test(s)&&!t.test(s)||!!i.tablet&&n.test(s);return!o&&i.tablet&&i.featureDetect&&navigator&&navigator.maxTouchPoints>1&&s.indexOf("Macintosh")!==-1&&s.indexOf("Safari")!==-1&&(o=!0),o}return Df.exports}var Pve=Rve();const Mve=Lr(Pve);function jve(){const[,e]=Tt(Qr),t=async()=>{var n,r;try{e(!0),await document.body.requestFullscreen(),global.screen.orientation.unlock(),await((r=(n=global.screen.orientation).lock)==null?void 0:r.call(n,"landscape"))}catch(i){console.info(i)}};return p.jsx(yl,{children:p.jsx(Ove,{children:p.jsxs(Vve,{children:[p.jsx("h1",{children:"Use Mobile Phone Mode?"}),p.jsx("h3",{children:"The regular version of the game isn't optimal for smaller screens. Enable the Mobile Phone Mode to adjust the UI and gameplay elements. Use this, or connect other mobiles to sing songs."}),p.jsxs("h3",{children:["You can always change the setting in the ",p.jsx("strong",{children:"Settings"})," menu."]}),p.jsx(c5,{focused:!0,onClick:t,"data-test":"enable-mobile-mode",children:"Enable Mobile Phone Mode"}),p.jsx(c5,{onClick:()=>e(!1),"data-test":"dismiss-mobile-mode",children:"Dismiss"})]})})})}const c5=G(ut,{target:"e6hg0672"})({name:"h427ha",styles:"font-size:calc(min(3vw, 4vh));height:auto;padding:calc(min(3vw, 4vh))"}),Ove=G("div",{target:"e6hg0671"})({name:"wkkrci",styles:"position:fixed;inset:0;display:flex;align-items:center;justify-content:center"}),Vve=G(vl,{target:"e6hg0670"})({name:"x689zy",styles:"max-width:150rem;padding:calc(min(3vw, 4vh));margin:auto;h1{font-size:calc(min(4vw, 5vh));margin-bottom:0.75em;}h3{font-size:calc(min(3vw, 4vh));line-height:1.25;margin-bottom:1em;}"});function Lve(){const[e]=Tt(Qr),t=S.useMemo(()=>Mve(),[]),n=$i(),r=async i=>{var s,o;if(n("menu/"),e&&document.fullscreenElement===null)try{await document.body.requestFullscreen(),global.screen.orientation.unlock(),await((o=(s=global.screen.orientation).lock)==null?void 0:o.call(s,"landscape"))}catch(l){console.info(l)}};return p.jsxs(p.Fragment,{children:[p.jsx(os,{children:p.jsx("title",{children:"Select Input | AllKaraoke.Party - Free Online Karaoke Party Game"})}),e===null&&t?p.jsx(jve,{}):p.jsx(bl,{children:p.jsx(Yw,{onFinish:r,closeButtonText:"Sing a song",smooth:!0})})]})}function Nve(){_l(!1);const e=$i(),t=()=>e("settings/"),{register:n}=Cr({onBackspace:t}),[r,i]=Tt(h0),[s,o]=Tt(e3),l=ss(ge.inputListChanged,()=>Mt.getRemoteMics()),d=VV();return S.useEffect(()=>Mt.addListener(d),[d]),p.jsxs(bl,{children:[p.jsx("h1",{onClick:()=>{const c=prompt("Code");(c==null?void 0:c.length)===ah-1&&(UO(c),global.location.reload())},children:"Remote Microphone Settings"}),p.jsx(Es,{...n("connection type",()=>i(dc(x$,r))),label:"Connection type",value:r}),p.jsx("hr",{}),p.jsx(Es,{...n("default-permission",()=>o(dc(q2,s))),label:"Default permission",info:p.jsxs(p.Fragment,{children:[p.jsx("strong",{children:"WRITE"})," - player is able to navigate the menus remotely and assign themselves and other players to the game.",p.jsx("br",{}),p.jsx("br",{}),p.jsx("strong",{children:"READ"})," - player will only be able to use the device as a microphone and otherwise have no control over the game."]}),value:s.toUpperCase()}),p.jsx("hr",{}),p.jsx("h3",{children:"Connected devices permissions:"}),l.map(c=>{const h=Mt.getPermission(c.id);return p.jsx(Fve,{...n(`mic-${c.id}`,()=>Mt.setPermission(c.id,dc(q2,h)),"Change permissions"),"data-test":"remote-mic-entry","data-id":c.id,value:h,label:p.jsxs(Dve,{children:[p.jsx(zve,{children:c.id.slice(-4)}),p.jsx(Uve,{children:p.jsx(Bve,{deviceId:c.id})}),p.jsx($ve,{className:"ph-no-capture",children:c.name})]})},c.id)}),l.length===0&&p.jsx("h4",{children:"No remote microphones connected"}),p.jsx("hr",{}),p.jsx(ut,{...n("back-button",t),children:"Return To Settings"})]})}const Bve=({deviceId:e})=>{const t=pN(e);return t===null?null:p.jsxs(p.Fragment,{children:[t,"ms"]})},Dve=G("span",{target:"expzhs34"})({name:"50zrmy",styles:"text-transform:uppercase"}),Fve=G(Es,{target:"expzhs33"})({name:"50zrmy",styles:"text-transform:uppercase"}),$ve=G("span",{target:"expzhs32"})(""),zve=G("span",{target:"expzhs31"})({name:"1mrl9vb",styles:"font-size:1.5rem;padding-right:1rem"}),Uve=G("span",{target:"expzhs30"})({name:"13smbnv",styles:"font-size:1.5rem;padding-right:2rem;text-transform:none"}),Cb=2500,Hve=()=>{const e=[0,...new Array(21).fill(0).map((n,r)=>Math.round(10*(1.2+Math.sin(r/2.5+1.5)))/10).map(n=>Math.round(n/28*Cb)).reduce((n,r)=>[...n,(n.at(-1)??0)+r],[])],t=[{offset:"0%",color:Je.eurovisionPink.text},{offset:"25%",color:Je.eurovisionYellow.text},{offset:"50%",color:Je.eurovisionPink.text},{offset:"75%",color:Je.eurovisionOrange.text},{offset:"100%",color:Je.eurovisionPink.text}];return p.jsxs("svg",{width:Cb,height:Cb,version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:[p.jsx("defs",{children:Array.from({length:21},(n,r)=>p.jsx("linearGradient",{id:`grad${r}`,x1:"0%",x2:"0%",y1:`${r*2}%`,y2:`${r*2+100}%`,spreadMethod:"repeat",children:t.map((i,s)=>p.jsx("stop",{offset:i.offset,stopColor:i.color},s))},r))}),Array.from({length:22},(n,r)=>p.jsx("rect",{x:e[r],y:"0",width:(e[r+1]??501)-e[r]+10,height:"100%",fill:`url(#grad${r})`},r))]})},Gve=`<?xml version="1.0" encoding="utf-8"?>
<svg viewBox="0 0 500 500" xmlns="http://www.w3.org/2000/svg">
  <g style="" transform="matrix(1.071942, 0, 0, 1.071942, 1.835104, 30.483427)">
    <path xmlns="http://www.w3.org/2000/svg" d="M 106.909 108.923 C 93.513 122.319 85.385 140.039 83.629 158.623 C 65.934 156.191 48.056 147.884 33.558 133.384 C 2.037 101.864 -1.61 54.425 25.407 27.42 C 52.402 0.403 99.839 4.05 131.36 35.571 C 145.859 50.07 154.167 67.957 156.598 85.654 C 138.025 87.387 120.305 95.527 106.909 108.923 Z M 277.592 279.606 C 284.12 273.076 293.486 270.217 302.56 271.951 L 335.161 304.574 C 344.167 313.579 344.167 328.169 335.161 337.175 C 326.155 346.181 311.566 346.181 302.56 337.175 L 269.937 304.574 C 268.203 295.502 271.062 286.135 277.592 279.606 Z M 172.111 108.923 C 154.167 106.357 136.043 112.402 123.209 125.224 C 110.377 138.057 104.342 156.181 106.909 174.137 L 258.318 295.253 C 259.219 286.383 262.957 277.94 269.441 271.455 C 275.925 264.971 284.368 261.234 293.239 260.333 L 172.111 108.923 Z" style="stroke: rgb(0, 0, 0); fill: rgb(255, 54, 54); stroke-width: 9.32886px; stroke-linejoin: round;"/>
    <path xmlns="http://www.w3.org/2000/svg" d="M 218.755 301.518 C 205.359 288.122 197.231 270.402 195.475 251.818 C 177.78 254.25 159.902 262.557 145.404 277.057 C 113.883 308.577 110.236 356.016 137.253 383.021 C 164.248 410.038 211.685 406.391 243.206 374.87 C 257.705 360.371 266.013 342.484 268.444 324.787 C 249.871 323.054 232.151 314.914 218.755 301.518 Z M 389.438 130.835 C 395.966 137.365 405.332 140.224 414.406 138.49 L 447.007 105.867 C 456.013 96.862 456.013 82.272 447.007 73.266 C 438.001 64.26 423.412 64.26 414.406 73.266 L 381.783 105.867 C 380.049 114.939 382.908 124.306 389.438 130.835 Z M 283.957 301.518 C 266.013 304.084 247.889 298.039 235.055 285.217 C 222.223 272.384 216.188 254.26 218.755 236.304 L 370.164 115.188 C 371.065 124.058 374.803 132.501 381.287 138.986 C 387.771 145.47 396.214 149.207 405.085 150.108 L 283.957 301.518 Z" style="fill: rgb(4, 153, 255); stroke: rgb(0, 0, 0); stroke-width: 9.32886px; stroke-linejoin: round;" transform="matrix(-1, 0, 0, -1, 572.91568, 467.631317)"/>
  </g>
</svg>`;function qve(){return ml(!1),p.jsxs(yl,{children:[p.jsxs(Wve,{children:[p.jsx(Kve,{dangerouslySetInnerHTML:{__html:Gve}}),p.jsx(zN,{children:p.jsx(_R,{})})]}),p.jsxs(Qve,{children:[p.jsx(Yve,{children:p.jsx(_R,{})}),p.jsx(Fw,{}),p.jsx(Jve,{src:oN,alt:"Eurovision"})]}),p.jsx(Hve,{})]})}const Wve=G("div",{target:"e1bt4f566"})({name:"yc537h",styles:"width:400px;aspect-ratio:1/1;position:relative;padding:30px"}),zN=G("div",{target:"e1bt4f565"})(`display:flex;position:absolute;inset:0;z-index:-1;div{background-image:linear-gradient(
      0deg,
      `,Je.eurovisionViolet.text,`,
      `,Je.eurovisionBlue.text,`,
      `,Je.eurovisionYellow.text,`,
      `,Je.eurovisionBlue.text,`,
      `,Je.eurovisionViolet.text,`
    );}`),Kve=G("svg",{target:"e1bt4f564"})("width:400px;aspect-ratio:1/1;object-fit:contain;filter:drop-shadow(0 0 10px rgb(0 0 0 / 0.6));path:nth-of-type(1){fill:",Je.red.text,"!important;}path:nth-of-type(2){fill:",Je.blue.text,"!important;}"),Yve=G(zN,{target:"e1bt4f563"})(`div{background-image:linear-gradient(
      0deg,
      `,Je.eurovisionPink.text,`,
      `,Je.eurovisionOrange.text,`,
      `,Je.eurovisionYellow.text,`,
      `,Je.eurovisionPink.text,`
    );}`),Qve=G("div",{target:"e1bt4f562"})(`overflow:hidden;position:relative;height:calc(693px / 1);width:calc(2048px / 1);transform:scale(1);background-color:black;background-image:linear-gradient(
    120deg,
    `,Je.red.stroke,`,
    `,Je.red.hit.fill,` 49.9%,
    `,Je.blue.hit.fill,` 50.1%,
    `,Je.blue.stroke,`
  );display:flex;align-items:center;justify-content:center;div{}`),Jve=G("img",{target:"e1bt4f561"})({name:"1go3sm",styles:"margin-left:4rem;transform:scale(1.5)"}),Xve=(e,t)=>`
<iframe src="https://www.facebook.com/plugins/page.php?href=https%3A%2F%2Fwww.facebook.com%2Fallkaraoke.party&${Object.entries({show_posts:!0,width:e,height:t,small_header:!0,adapt_container_width:!0,hide_cover:!1,show_facepile:!1,appId:530120230391395}).map(([i,s])=>`${i}=${String(s)}`).join("&")}" width="${e}" height="${t}" style="border:none;overflow:hidden" scrolling="no" frameborder="0" allowfullscreen="true" allow="autoplay; clipboard-write; encrypted-media; picture-in-picture; web-share"></iframe>
`;function Zve(){const[e]=Tt(Qr),[t,n]=S.useState(!1),[r,i]=S.useState(180),s=S.useCallback(o=>{i(Math.round(o==null?void 0:o.getBoundingClientRect().width)??200)},[]);return S.useEffect(()=>{const o=setTimeout(()=>{n(!0)},750);return()=>{clearTimeout(o)}},[]),p.jsxs(eye,{"data-small":!!e,show:t,children:[p.jsx("div",{dangerouslySetInnerHTML:{__html:Xve(450,750)},style:{height:750*(r/350),width:"100%",transformOrigin:"left top",transform:`scale(${r/450})`}}),p.jsx("h5",{ref:s,children:"Get updates, and help by suggesting features and reporting bugs."})]})}const eye=G(vl,{target:"e1zzmv40"})("transition:1000ms;opacity:",e=>e.show?1:0,";position:absolute;top:2rem;right:10rem;width:37rem;margin:0;text-decoration:none;text-align:justify;&[data-small='true'] &{width:25rem;right:1rem;h2{font-size:1.5rem;}h5{font-size:1.15rem;}}view-transition-name:fb-notification;");function tye(){ml(!0);const e=$i();_l(!1);const{register:t}=Cr();return p.jsxs(bl,{children:[p.jsxs(os,{children:[p.jsx("title",{children:"Main Menu | AllKaraoke.Party - Free Online Karaoke Party Game"}),p.jsx("link",{rel:"preload",href:"/songs/index.json",as:"fetch",type:"application/json",crossOrigin:"anonymous"}),p.jsx("link",{rel:"preload",href:"/mostPopularSongs.json",as:"fetch",type:"application/json",crossOrigin:"anonymous"})]}),p.jsxs(nye,{children:[p.jsxs("span",{children:["Bpm data and release year provided by"," ",p.jsx("a",{target:"_blank",href:"https://getsongbpm.com/",rel:"noreferrer",children:"GetSongBPM"})]}),p.jsx("span",{children:"Song: Funk Cool Groove (Music Today 80)"}),p.jsx("span",{children:" Composed & Produced by : Anwar Amr"}),p.jsxs("span",{children:[" Video Link:"," ",p.jsx("a",{href:"https://youtu.be/FGzzBbYRjFY",target:"_blank",rel:"noreferrer",children:"https://youtu.be/FGzzBbYRjFY"})]})]}),p.jsx(Zve,{}),p.jsxs(p.Fragment,{children:[p.jsx(Ai,{to:"game/",children:p.jsx(Wr.Button,{...t("sing-a-song",()=>e("game/")),children:"Sing a song"})}),p.jsx(Ai,{to:"select-input/",children:p.jsx(Wr.Button,{...t("select-input",()=>e("select-input/")),children:"Setup Microphones"})}),p.jsx(Ai,{to:"settings/",children:p.jsx(Wr.Button,{...t("settings",()=>e("settings/")),children:"Settings"})}),p.jsx(Ai,{to:"jukebox/",children:p.jsx(Wr.Button,{...t("jukebox",()=>e("jukebox/")),children:"Jukebox"})}),p.jsx(Ai,{to:"manage-songs/",children:p.jsx(Wr.Button,{...t("manage-songs",()=>e("manage-songs/")),children:"Manage Songs"})})]})]})}const nye=G("div",{target:"e1g7uwpd0"})(xt,";text-decoration:none;flex-direction:column;display:flex;font-size:1.5rem;gap:1.25rem;opacity:0.85;position:absolute;bottom:4rem;left:1rem;view-transition-name:background-music-credit;"),Ri={INDEX:"",QUICK_SETUP:"quick-setup",GAME:"game",MENU:"menu",JUKEBOX:"jukebox",SELECT_INPUT:"select-input",SETTINGS:"settings",SETTINGS_REMOTE_MICS:"settings/remote-mics",REMOTE_MIC:"remote-mic",MANAGE_SONGS:"manage-songs",EXCLUDE_LANGUAGES:"exclude-languages",CONVERT:"convert",EDIT_SONGS_LIST:"edit/list",EDIT_SONG:"edit/song"},rye=S.lazy(()=>Id(()=>import("./SongManagement-C0VwDpFh.js"),[]).then(e=>({default:e.SongList})));function iye(){Tt(Qr);const[e]=Tt(xs),t=S.useMemo(()=>pw({graphicSetting:e}),[e]);return p.jsx(hle,{theme:t,children:p.jsx(mx,{fallback:hhe,children:p.jsx(ZZ,{children:p.jsx(WZ,{children:p.jsx(gse,{base:"/",children:p.jsxs(mse,{children:[p.jsx(ti,{path:Ri.QUICK_SETUP,component:Lve}),p.jsx(ti,{path:Ri.MENU,component:tye}),p.jsx(ti,{path:Ri.EXCLUDE_LANGUAGES,component:mhe}),p.jsx(ti,{path:Ri.JUKEBOX,component:Vfe}),p.jsx(ti,{path:Ri.GAME,children:p.jsx(_ve,{})}),p.jsx(ti,{path:Ri.SELECT_INPUT,component:fhe}),p.jsx(ti,{path:Ri.SETTINGS,component:Yce}),p.jsx(ti,{path:Ri.SETTINGS_REMOTE_MICS,component:Nve}),p.jsx(ti,{path:Ri.REMOTE_MIC,component:fce}),p.jsx(ti,{path:Ri.MANAGE_SONGS,component:Ive}),p.jsx(ti,{path:"social-media-elements",component:qve}),p.jsx(ti,{path:Ri.CONVERT,component:()=>p.jsx(rue,{})}),p.jsx(ti,{path:Ri.EDIT_SONGS_LIST,component:()=>p.jsx(S.Suspense,{fallback:p.jsx(O4,{}),children:p.jsx(rye,{})})}),p.jsx(ti,{path:"edit/get-songs-bpms",component:ghe}),p.jsx(ti,{path:Ri.EDIT_SONG,children:p.jsx(jde,{})}),p.jsx(ti,{path:Ri.INDEX,component:Tve})]})})})})})})}const sye=FH(iye),oye=["AbortError: Version change transaction was aborted in upgradeneeded event handler.","The object can not be found here.","Document is hidden.","Failed to register a ServiceWorker for scope ('https://allkaraoke.party/') with script","NotAllowedError: Permission denied by system","ResizeObserver loop limit exceeded","ResizeObserver loop completed with undelivered notifications.","NotAllowedError: Document is not focused.","Error: Socket was destroyed!",/TypeError: Failed to fetch/,"top.GLOBALS","originalCreateNotification","canvas.contentDocument","MyApp_RemoveAllHighlights","http://tt.epicplay.com","Can't find variable: ZiteReader","jigsaw is not defined","ComboSearch is not defined","http://loading.retry.widdit.com/","atomicFindClose","fb_xd_fragment","bmi_SafeAddOnload","EBCallBackMessageReceived","conduitPage"];var Am={},u5;function aye(){if(u5)return Am;u5=1;var e=EL();return Am.createRoot=e.createRoot,Am.hydrateRoot=e.hydrateRoot,Am}var lye=aye();kH({integrations:[xH({enableInp:!0}),I7({filterKeys:["allkaraoke-party-sentry-key"],behaviour:"apply-tag-if-contains-third-party-frames"})],dsn:"https://66c6e940d24b4096a277f350571921bb@o366978.ingest.sentry.io/6174734",ignoreErrors:oye,tracesSampleRate:rs()?0:.01,environment:rs()?"e2e":"production",tunnel:"https://backend.allkaraoke.party/sentry"});rs()||lr.init("phc_bw7XLoONmtGVezmMKTvcwk3lj37jzxTfisqzjlJ0Jik",{api_host:"https://backend.allkaraoke.party/posthog",loaded:e=>{let t=ot.local.getItem("posthog-user-id");t||(t=k0(),ot.local.setItem("posthog-user-id",t)),e.identify(t);let n=ot.local.getItem("posthog-user-name");if(!n){const r=[...new Set(Zf.artists.flatMap(i=>LO(i).split("-")))].filter(i=>i.length<=10);n=new Array(no(3,5)).fill(0).map(()=>r[no(0,r.length-1)]).join("-"),ot.local.setItem("posthog-user-name",n),e.alias(n,t)}wz({id:t})}});const cye=oV({key:"ec",speedy:!W4}),uye=document.getElementById("root"),dye=lye.createRoot(uye);dye.render(p.jsxs(uY,{value:cye,children:[p.jsx(sye,{}),p.jsx(U_,{position:bn.POSITION.BOTTOM_LEFT,theme:"colored"})]}));export{yye as $,OK as A,qr as B,Ao as C,jx as D,G_ as E,Yh as F,Fi as G,p as H,uY as I,Cte as J,ZO as K,Cc as L,T0 as M,lL as N,vte as O,Rt as P,rn as Q,Mx as R,is as S,Bte as T,V0 as U,aL as V,tn as W,nS as X,f0 as Y,ow as Z,ga as _,wee as a,Nd as a$,iw as a0,Ni as a1,vye as a2,_i as a3,ai as a4,ep as a5,wL as a6,ire as a7,xL as a8,Xe as a9,mee as aA,Ec as aB,gee as aC,tw as aD,zue as aE,sM as aF,tde as aG,Aye as aH,Hne as aI,fee as aJ,$ue as aK,Js as aL,Nu as aM,ew as aN,IR as aO,G as aP,nM as aQ,Ow as aR,mI as aS,_o as aT,ln as aU,tS as aV,xye as aW,bee as aX,eL as aY,ct as aZ,pK as a_,ya as aa,I0 as ab,gw as ac,ca as ad,li as ae,zt as af,Mn as ag,ey as ah,Bt as ai,Os as aj,ci as ak,Q0 as al,qv as am,lw as an,cw as ao,Vh as ap,U4 as aq,mw as ar,B0 as as,CL as at,pw as au,yee as av,O0 as aw,bye as ax,wc as ay,vw as az,See as b,fc as b0,$m as b1,Sue as b2,xue as b3,oq as b4,ol as b5,Th as b6,N4 as b7,vue as b8,pue as b9,soe as bA,Rde as bB,Eie as bC,wie as bD,G4 as bE,q0 as bF,eo as bG,os as bH,Hw as bI,wye as bJ,Pde as bK,lr as bL,iue as bM,fue as ba,Aue as bb,yi as bc,Rd as bd,S0e as be,ml as bf,$i as bg,_l as bh,Nv as bi,iee as bj,Rw as bk,Mde as bl,jd as bm,Ine as bn,F4 as bo,Due as bp,fde as bq,R1 as br,Aw as bs,lde as bt,ab as bu,yde as bv,ER as bw,Bc as bx,Ls as by,Ale as bz,mW as c,qK as d,IK as e,GK as f,wx as g,WK as h,Ku as i,UK as j,rV as k,nV as l,xee as m,LK as n,VK as o,If as p,nn as q,S as r,ot as s,ni as t,ll as u,ts as v,Ph as w,Pv as x,To as y,Dm as z};
//# sourceMappingURL=index-SkmZLgAz.js.map
