var oF=Object.defineProperty;var aF=(e,t,n)=>t in e?oF(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var mh=(e,t,n)=>aF(e,typeof t!="symbol"?t+"":t,n);(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},t=new e.Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="92093838-a3de-470e-b62b-8f678aeaeac2",e._sentryDebugIdIdentifier="sentry-dbid-92093838-a3de-470e-b62b-8f678aeaeac2")}catch{}})();{var Yu=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};Yu._sentryModuleMetadata=Yu._sentryModuleMetadata||{},Yu._sentryModuleMetadata[new Yu.Error().stack]=Object.assign({},Yu._sentryModuleMetadata[new Yu.Error().stack],{"_sentryBundlerPluginAppKey:allkaraoke-party-sentry-key":!0})}function lF(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}var cF=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};cF.SENTRY_RELEASE={id:"c3ba89414aca61171aea827f18a15a8bcd492421"};(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var dm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Pr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function uF(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var e1={exports:{}},vh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dk;function dF(){if(Dk)return vh;Dk=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,s){var l=null;if(s!==void 0&&(l=""+s),i.key!==void 0&&(l=""+i.key),"key"in i){s={};for(var c in i)c!=="key"&&(s[c]=i[c])}else s=i;return i=s.ref,{$$typeof:e,type:r,key:l,ref:i!==void 0?i:null,props:s}}return vh.Fragment=t,vh.jsx=n,vh.jsxs=n,vh}var Bk;function fF(){return Bk||(Bk=1,e1.exports=dF()),e1.exports}var g=fF();class Ys{constructor(){this.listeners=[],this.onUpdate=(...t)=>{this.listeners.forEach(n=>n(...t))},this.addListener=t=>(this.listeners.push(t),()=>{this.removeListener(t)}),this.removeListener=t=>{this.listeners=this.listeners.filter(n=>n!==t)},this.clearAllListeners=()=>{console.log("clearing all listeners"),this.listeners=[]}}}const $_=e=>({setItem:(t,n)=>{e.setItem(t,JSON.stringify(n))},getItem:t=>{const n=e.getItem(t);if(n===null)return null;try{return JSON.parse(n)}catch{return n}},removeItem:t=>{e.removeItem(t)},clear:()=>{e.clear()},keys:()=>{const t=[];for(let n=0,r=e.length;n<r;++n)t.push(e.key(n));return t}});class U_{constructor(){this.store={}}setItem(t,n){this.store[t]=n}getItem(t){const n=this.store[t];return n===void 0?null:n}removeItem(t){delete this.store[t]}get length(){return Object.keys(this.store).length}keys(){return Object.keys(this.store)}key(t){return Object.keys(this.store)[t]}clear(){this.store={}}}const Nk=$_((global==null?void 0:global.localStorage)??new U_),st={...Nk,local:Nk,session:$_((global==null?void 0:global.sessionStorage)??new U_),memory:$_(new U_)},H_="CAMERA_GRANT_KEY",Lk=st.local.getItem(H_);class hF extends Ys{constructor(){super(),this.stream=null,this.recorder=null,this.videoData=[],this.permissionGranted=Lk!==null?JSON.parse(Lk):null,this.requestPermissions=async()=>{try{this.stream=await navigator.mediaDevices.getUserMedia({video:!0}),this.permissionGranted=!0,await this.stopRecord()}catch{this.permissionGranted=!1}return st.local.setItem(H_,JSON.stringify(this.permissionGranted)),this.onUpdate(this.permissionGranted),this.permissionGranted},this.disable=()=>{this.permissionGranted=!1,st.local.setItem(H_,JSON.stringify(this.permissionGranted)),this.onUpdate(this.permissionGranted)},this.startRecord=async()=>{if(this.permissionGranted)try{this.stream=await navigator.mediaDevices.getUserMedia({video:{frameRate:2}});const t=this.stream.getVideoTracks()[0].getSettings();this.video.width=t.width??this.video.width,this.video.height=t.height??this.video.height,this.canvas.width=this.video.width,this.canvas.height=this.video.height,this.video.srcObject=this.stream,await this.video.play(),this.recorder=new MediaRecorder(this.stream,{mimeType:"video/webm"}),this.recorder.ondataavailable=n=>{this.videoData.push(n.data)},this.recorder.start()}catch(t){console.warn(t)}},this.getVideo=()=>{const t=new Blob(this.videoData,{type:"video/webm"});return URL.createObjectURL(t)},this.stopRecord=async()=>{var t,n;this.permissionGranted&&((t=this.recorder)==null||t.stop(),(n=this.stream)==null||n.getTracks().forEach(r=>r.stop()))},this.clearData=()=>{this.videoData.length=0},this.restartRecord=async()=>{await this.stopRecord(),await this.clearData(),await this.startRecord()},this.getPermissionStatus=()=>this.permissionGranted,this.getLiveCameraFeed=async()=>{if(this.permissionGranted)try{return this.stream=await navigator.mediaDevices.getUserMedia({video:!0}),this.stream}catch(t){console.warn(t)}},this.video=document.createElement("video"),this.video.width=480,this.video.height=this.video.width*(9/16),this.canvas=document.createElement("canvas"),this.canvas.width=this.video.width,this.canvas.height=this.video.height}}const Fi=new hF;var fe=typeof window<"u"?window:void 0,zi=typeof globalThis<"u"?globalThis:fe,Bj=Array.prototype,Fk=Bj.forEach,zk=Bj.indexOf,is=zi==null?void 0:zi.navigator,He=zi==null?void 0:zi.document,Li=zi==null?void 0:zi.location,q_=zi==null?void 0:zi.fetch,G_=zi!=null&&zi.XMLHttpRequest&&"withCredentials"in new zi.XMLHttpRequest?zi.XMLHttpRequest:void 0,$k=zi==null?void 0:zi.AbortController,$r=is==null?void 0:is.userAgent,Tt=fe??{},cl={DEBUG:!1,LIB_VERSION:"1.194.1"},U0={},Hv=function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")};function yd(e,t,n){if(mr(e)){if(Fk&&e.forEach===Fk)e.forEach(t,n);else if("length"in e&&e.length===+e.length){for(var r=0,i=e.length;r<i;r++)if(r in e&&t.call(n,e[r],r)===U0)return}}}function wn(e,t,n){if(!On(e)){if(mr(e))return yd(e,t,n);if(AF(e)){for(var r of e.entries())if(t.call(n,r[1],r[0])===U0)return}else for(var i in e)if(Fj.call(e,i)&&t.call(n,e[i],i)===U0)return}}var Ti=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return yd(n,function(i){for(var s in i)i[s]!==void 0&&(e[s]=i[s])}),e};function $t(e,t){return e.indexOf(t)!==-1}function p0(e){for(var t=Object.keys(e),n=t.length,r=new Array(n);n--;)r[n]=[t[n],e[t[n]]];return r}var Uk=function(e){try{return e()}catch{return}},pF=function(e){return function(){try{for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(this,n)}catch(i){xe.critical("Implementation error. Please turn on debug mode and open a ticket on https://app.posthog.com/home#panel=support%3Asupport%3A."),xe.critical(i)}}},H0=function(e){var t={};return wn(e,function(n,r){fi(n)&&n.length>0&&(t[r]=n)}),t},Y_=function(e){return e.replace(/^\$/,"")};function gF(e,t){return n=e,r=s=>fi(s)&&!Rl(t)?s.slice(0,t):s,i=new Set,function s(l,c){return l!==Object(l)?r?r(l,c):l:i.has(l)?void 0:(i.add(l),mr(l)?(d=[],yd(l,u=>{d.push(s(u))})):(d={},wn(l,(u,p)=>{i.has(u)||(d[p]=s(u,p))})),d);var d}(n);var n,r,i}var mF=function(e){var t,n,r,i,s="";for(t=n=0,r=(e=(e+"").replace(/\r\n/g,`
`).replace(/\r/g,`
`)).length,i=0;i<r;i++){var l=e.charCodeAt(i),c=null;l<128?n++:c=l>127&&l<2048?String.fromCharCode(l>>6|192,63&l|128):String.fromCharCode(l>>12|224,l>>6&63|128,63&l|128),Rl(c)||(n>t&&(s+=e.substring(t,n)),s+=c,t=n=i+1)}return n>t&&(s+=e.substring(t,e.length)),s},ga=function(){function e(t){return t&&(t.preventDefault=e.preventDefault,t.stopPropagation=e.stopPropagation),t}return e.preventDefault=function(){this.returnValue=!1},e.stopPropagation=function(){this.cancelBubble=!0},function(t,n,r,i,s){if(t)if(t.addEventListener&&!i)t.addEventListener(n,r,!!s);else{var l="on"+n,c=t[l];t[l]=function(d,u,p){return function(h){if(h=h||e(fe==null?void 0:fe.event)){var v,y=!0;Ds(p)&&(v=p(h));var b=u.call(d,h);return v!==!1&&b!==!1||(y=!1),y}}}(t,r,c)}else xe.error("No valid element provided to register_event")}}();function Nj(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return e[n]}var so,t1="$copy_autocapture",vF=["$snapshot","$pageview","$pageleave","$set","survey dismissed","survey sent","survey shown","$identify","$groupidentify","$create_alias","$$client_ingestion_warning","$web_experiment_applied","$feature_enrollment_update","$feature_flag_called"];(function(e){e.GZipJS="gzip-js",e.Base64="base64"})(so||(so={}));var yF=Array.isArray,Lj=Object.prototype,Fj=Lj.hasOwnProperty,qv=Lj.toString,mr=yF||function(e){return qv.call(e)==="[object Array]"},Ds=e=>typeof e=="function",Cr=e=>e===Object(e)&&!mr(e),cd=e=>{if(Cr(e)){for(var t in e)if(Fj.call(e,t))return!1;return!0}return!1},et=e=>e===void 0,fi=e=>qv.call(e)=="[object String]",Hk=e=>fi(e)&&e.trim().length===0,Rl=e=>e===null,On=e=>et(e)||Rl(e),ns=e=>qv.call(e)=="[object Number]",_c=e=>qv.call(e)==="[object Boolean]",AF=e=>e instanceof FormData,bF=e=>$t(vF,e),qk="[PostHog.js]",xe={_log:function(e){if(fe&&(cl.DEBUG||Tt.POSTHOG_DEBUG)&&!et(fe.console)&&fe.console){for(var t=("__rrweb_original__"in fe.console[e])?fe.console[e].__rrweb_original__:fe.console[e],n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t(qk,...r)}},info:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];xe._log("log",...t)},warn:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];xe._log("warn",...t)},error:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];xe._log("error",...t)},critical:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];console.error(qk,...t)},uninitializedWarning:e=>{xe.error("You must initialize PostHog before calling ".concat(e))}},Gk=(e,t,n)=>{if(e.config.disable_external_dependency_loading)return xe.warn("".concat(t," was requested but loading of external scripts is disabled.")),n("Loading of external scripts is disabled");var r=()=>{if(!He)return n("document not found");var i=He.createElement("script");i.type="text/javascript",i.crossOrigin="anonymous",i.src=t,i.onload=c=>n(void 0,c),i.onerror=c=>n(c);var s,l=He.querySelectorAll("body > script");l.length>0?(s=l[0].parentNode)===null||s===void 0||s.insertBefore(i,l[0]):He.body.appendChild(i)};He!=null&&He.body?r():He==null||He.addEventListener("DOMContentLoaded",r)};function Yk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Oe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Yk(Object(n),!0).forEach(function(r){ze(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ze(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zj(e,t){if(e==null)return{};var n,r,i=function(l,c){if(l==null)return{};var d,u,p={},h=Object.keys(l);for(u=0;u<h.length;u++)d=h[u],c.indexOf(d)>=0||(p[d]=l[d]);return p}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}Tt.__PosthogExtensions__=Tt.__PosthogExtensions__||{},Tt.__PosthogExtensions__.loadExternalDependency=(e,t,n)=>{var r="/static/".concat(t,".js")+"?v=".concat(e.version);if(t==="toolbar"){var i=3e5,s=Math.floor(Date.now()/i)*i;r="".concat(r,"&t=").concat(s)}var l=e.requestRouter.endpointFor("assets",r);Gk(e,l,n)},Tt.__PosthogExtensions__.loadSiteApp=(e,t,n)=>{var r=e.requestRouter.endpointFor("api",t);Gk(e,r,n)};var $j="$people_distinct_id",Nh="__alias",Lh="__timers",Kk="$autocapture_disabled_server_side",K_="$heatmaps_enabled_server_side",Wk="$exception_capture_enabled_server_side",Qk="$web_vitals_enabled_server_side",Uj="$dead_clicks_enabled_server_side",Xk="$web_vitals_allowed_metrics",W_="$session_recording_enabled_server_side",Jk="$console_log_recording_enabled_server_side",Zk="$session_recording_network_payload_capture",eM="$session_recording_canvas_recording",tM="$replay_sample_rate",nM="$replay_minimum_duration",rM="$replay_script_config",q0="$sesid",Fh="$session_is_sampled",n1="$session_recording_url_trigger_activated_session",r1="$session_recording_event_trigger_activated_session",ud="$enabled_feature_flags",Q_="$early_access_features",dd="$stored_person_properties",ul="$stored_group_properties",X_="$surveys",fm="$surveys_activated",G0="$flag_call_reported",ua="$user_state",J_="$client_session_props",Z_="$capture_rate_limit",eS="$initial_campaign_params",tS="$initial_referrer_info",nS="$initial_person_info",Y0="$epp",Hj="__POSTHOG_TOOLBAR__",_F=[$j,Nh,"__cmpns",Lh,W_,K_,q0,ud,ua,Q_,ul,dd,X_,G0,J_,Z_,eS,tS,Y0],i1="$active_feature_flags",hm="$override_feature_flags",iM="$feature_flag_payloads",sM=e=>{var t={};for(var[n,r]of p0(e||{}))r&&(t[n]=r);return t};class SF{constructor(t){this.instance=t,this._override_warning=!1,this.featureFlagEventHandlers=[],this.reloadFeatureFlagsQueued=!1,this.reloadFeatureFlagsInAction=!1}getFlags(){return Object.keys(this.getFlagVariants())}getFlagVariants(){var t=this.instance.get_property(ud),n=this.instance.get_property(hm);if(!n)return t||{};for(var r=Ti({},t),i=Object.keys(n),s=0;s<i.length;s++)r[i[s]]=n[i[s]];return this._override_warning||(xe.warn(" Overriding feature flags!",{enabledFlags:t,overriddenFlags:n,finalFlags:r}),this._override_warning=!0),r}getFlagPayloads(){return this.instance.get_property(iM)||{}}reloadFeatureFlags(){this.reloadFeatureFlagsQueued||(this.reloadFeatureFlagsQueued=!0,this._startReloadTimer())}setAnonymousDistinctId(t){this.$anon_distinct_id=t}setReloadingPaused(t){this.reloadFeatureFlagsInAction=t}resetRequestQueue(){this.reloadFeatureFlagsQueued=!1}_startReloadTimer(){this.reloadFeatureFlagsQueued&&!this.reloadFeatureFlagsInAction&&setTimeout(()=>{!this.reloadFeatureFlagsInAction&&this.reloadFeatureFlagsQueued&&(this.reloadFeatureFlagsQueued=!1,this._reloadFeatureFlagsRequest())},5)}_reloadFeatureFlagsRequest(){if(!this.instance.config.advanced_disable_feature_flags){this.setReloadingPaused(!0);var t=this.instance.config.token,n=this.instance.get_property(dd),r=this.instance.get_property(ul),i={token:t,distinct_id:this.instance.get_distinct_id(),groups:this.instance.getGroups(),$anon_distinct_id:this.$anon_distinct_id,person_properties:n,group_properties:r,disable_flags:this.instance.config.advanced_disable_feature_flags||void 0};this.instance._send_request({method:"POST",url:this.instance.requestRouter.endpointFor("api","/decide/?v=3"),data:i,compression:this.instance.config.disable_compression?void 0:so.Base64,timeout:this.instance.config.feature_flag_request_timeout_ms,callback:s=>{var l;this.setReloadingPaused(!1);var c=!0;s.statusCode===200&&(this.$anon_distinct_id=void 0,c=!1),this.receivedFeatureFlags((l=s.json)!==null&&l!==void 0?l:{},c),this._startReloadTimer()}})}}getFeatureFlag(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.instance.decideEndpointWasHit||this.getFlags()&&this.getFlags().length>0){var r,i=this.getFlagVariants()[t],s="".concat(i),l=this.instance.get_property(G0)||{};return(n.send_event||!("send_event"in n))&&(!(t in l)||!l[t].includes(s))&&(mr(l[t])?l[t].push(s):l[t]=[s],(r=this.instance.persistence)===null||r===void 0||r.register({[G0]:l}),this.instance.capture("$feature_flag_called",{$feature_flag:t,$feature_flag_response:i})),i}xe.warn('getFeatureFlag for key "'+t+`" failed. Feature flags didn't load in time.`)}getFeatureFlagPayload(t){return this.getFlagPayloads()[t]}isFeatureEnabled(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.instance.decideEndpointWasHit||this.getFlags()&&this.getFlags().length>0)return!!this.getFeatureFlag(t,n);xe.warn('isFeatureEnabled for key "'+t+`" failed. Feature flags didn't load in time.`)}addFeatureFlagsHandler(t){this.featureFlagEventHandlers.push(t)}removeFeatureFlagsHandler(t){this.featureFlagEventHandlers=this.featureFlagEventHandlers.filter(n=>n!==t)}receivedFeatureFlags(t,n){if(this.instance.persistence){this.instance.decideEndpointWasHit=!0;var r=this.getFlagVariants(),i=this.getFlagPayloads();(function(s,l){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},u=s.featureFlags,p=s.featureFlagPayloads;if(u)if(mr(u)){var h={};if(u)for(var v=0;v<u.length;v++)h[u[v]]=!0;l&&l.register({[i1]:u,[ud]:h})}else{var y=u,b=p;s.errorsWhileComputingFlags&&(y=Oe(Oe({},c),y),b=Oe(Oe({},d),b)),l&&l.register({[i1]:Object.keys(sM(y)),[ud]:y||{},[iM]:b||{}})}})(t,this.instance.persistence,r,i),this._fireFeatureFlagsCallbacks(n)}}override(t){var n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(!this.instance.__loaded||!this.instance.persistence)return xe.uninitializedWarning("posthog.feature_flags.override");if(this._override_warning=n,t===!1)this.instance.persistence.unregister(hm);else if(mr(t)){for(var r={},i=0;i<t.length;i++)r[t[i]]=!0;this.instance.persistence.register({[hm]:r})}else this.instance.persistence.register({[hm]:t})}onFeatureFlags(t){if(this.addFeatureFlagsHandler(t),this.instance.decideEndpointWasHit){var{flags:n,flagVariants:r}=this._prepareFeatureFlagsForCallbacks();t(n,r)}return()=>this.removeFeatureFlagsHandler(t)}updateEarlyAccessFeatureEnrollment(t,n){var r,i={["$feature_enrollment/".concat(t)]:n};this.instance.capture("$feature_enrollment_update",{$feature_flag:t,$feature_enrollment:n,$set:i}),this.setPersonPropertiesForFlags(i,!1);var s=Oe(Oe({},this.getFlagVariants()),{},{[t]:n});(r=this.instance.persistence)===null||r===void 0||r.register({[i1]:Object.keys(sM(s)),[ud]:s}),this._fireFeatureFlagsCallbacks()}getEarlyAccessFeatures(t){var n=arguments.length>1&&arguments[1]!==void 0&&arguments[1],r=this.instance.get_property(Q_);if(r&&!n)return t(r);this.instance._send_request({transport:"XHR",url:this.instance.requestRouter.endpointFor("api","/api/early_access_features/?token=".concat(this.instance.config.token)),method:"GET",callback:i=>{var s;if(i.json){var l=i.json.earlyAccessFeatures;return(s=this.instance.persistence)===null||s===void 0||s.register({[Q_]:l}),t(l)}}})}_prepareFeatureFlagsForCallbacks(){var t=this.getFlags(),n=this.getFlagVariants();return{flags:t.filter(r=>n[r]),flagVariants:Object.keys(n).filter(r=>n[r]).reduce((r,i)=>(r[i]=n[i],r),{})}}_fireFeatureFlagsCallbacks(t){var{flags:n,flagVariants:r}=this._prepareFeatureFlagsForCallbacks();this.featureFlagEventHandlers.forEach(i=>i(n,r,{errorsLoading:t}))}setPersonPropertiesForFlags(t){var n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=this.instance.get_property(dd)||{};this.instance.register({[dd]:Oe(Oe({},r),t)}),n&&this.instance.reloadFeatureFlags()}resetPersonPropertiesForFlags(){this.instance.unregister(dd)}setGroupPropertiesForFlags(t){var n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=this.instance.get_property(ul)||{};Object.keys(r).length!==0&&Object.keys(r).forEach(i=>{r[i]=Oe(Oe({},r[i]),t[i]),delete t[i]}),this.instance.register({[ul]:Oe(Oe({},r),t)}),n&&this.instance.reloadFeatureFlags()}resetGroupPropertiesForFlags(t){if(t){var n=this.instance.get_property(ul)||{};this.instance.register({[ul]:Oe(Oe({},n),{},{[t]:{}})})}else this.instance.unregister(ul)}}Math.trunc||(Math.trunc=function(e){return e<0?Math.ceil(e):Math.floor(e)}),Number.isInteger||(Number.isInteger=function(e){return ns(e)&&isFinite(e)&&Math.floor(e)===e});var oM="0123456789abcdef";class K0{constructor(t){if(this.bytes=t,t.length!==16)throw new TypeError("not 128-bit length")}static fromFieldsV7(t,n,r,i){if(!Number.isInteger(t)||!Number.isInteger(n)||!Number.isInteger(r)||!Number.isInteger(i)||t<0||n<0||r<0||i<0||t>0xffffffffffff||n>4095||r>1073741823||i>4294967295)throw new RangeError("invalid field value");var s=new Uint8Array(16);return s[0]=t/Math.pow(2,40),s[1]=t/Math.pow(2,32),s[2]=t/Math.pow(2,24),s[3]=t/Math.pow(2,16),s[4]=t/Math.pow(2,8),s[5]=t,s[6]=112|n>>>8,s[7]=n,s[8]=128|r>>>24,s[9]=r>>>16,s[10]=r>>>8,s[11]=r,s[12]=i>>>24,s[13]=i>>>16,s[14]=i>>>8,s[15]=i,new K0(s)}toString(){for(var t="",n=0;n<this.bytes.length;n++)t=t+oM.charAt(this.bytes[n]>>>4)+oM.charAt(15&this.bytes[n]),n!==3&&n!==5&&n!==7&&n!==9||(t+="-");if(t.length!==36)throw new Error("Invalid UUIDv7 was generated");return t}clone(){return new K0(this.bytes.slice(0))}equals(t){return this.compareTo(t)===0}compareTo(t){for(var n=0;n<16;n++){var r=this.bytes[n]-t.bytes[n];if(r!==0)return Math.sign(r)}return 0}}class xF{constructor(){ze(this,"timestamp",0),ze(this,"counter",0),ze(this,"random",new wF)}generate(){var t=this.generateOrAbort();if(et(t)){this.timestamp=0;var n=this.generateOrAbort();if(et(n))throw new Error("Could not generate UUID after timestamp reset");return n}return t}generateOrAbort(){var t=Date.now();if(t>this.timestamp)this.timestamp=t,this.resetCounter();else{if(!(t+1e4>this.timestamp))return;this.counter++,this.counter>4398046511103&&(this.timestamp++,this.resetCounter())}return K0.fromFieldsV7(this.timestamp,Math.trunc(this.counter/Math.pow(2,30)),this.counter&Math.pow(2,30)-1,this.random.nextUint32())}resetCounter(){this.counter=1024*this.random.nextUint32()+(1023&this.random.nextUint32())}}var aM,qj=e=>{if(typeof UUIDV7_DENY_WEAK_RNG<"u"&&UUIDV7_DENY_WEAK_RNG)throw new Error("no cryptographically strong RNG available");for(var t=0;t<e.length;t++)e[t]=65536*Math.trunc(65536*Math.random())+Math.trunc(65536*Math.random());return e};fe&&!et(fe.crypto)&&crypto.getRandomValues&&(qj=e=>crypto.getRandomValues(e));class wF{constructor(){ze(this,"buffer",new Uint32Array(8)),ze(this,"cursor",1/0)}nextUint32(){return this.cursor>=this.buffer.length&&(qj(this.buffer),this.cursor=0),this.buffer[this.cursor++]}}var pl=()=>EF().toString(),EF=()=>(aM||(aM=new xF)).generate(),TF="Thu, 01 Jan 1970 00:00:00 GMT",yh="",CF=/[a-z0-9][a-z0-9-]+\.[a-z]{2,}$/i;function kF(e,t){if(t){var n=function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:He;if(yh)return yh;if(!s||["localhost","127.0.0.1"].includes(i))return"";for(var l=i.split("."),c=Math.min(l.length,8),d="dmn_chk_"+pl(),u=new RegExp("(^|;)\\s*"+d+"=1");!yh&&c--;){var p=l.slice(c).join("."),h=d+"=1;domain=."+p;s.cookie=h,u.test(s.cookie)&&(s.cookie=h+";expires="+TF,yh=p)}return yh}(e);if(!n){var r=(i=>{var s=i.match(CF);return s?s[0]:""})(e);r!==n&&xe.info("Warning: cookie subdomain discovery mismatch",r,n),n=r}return n?"; domain=."+n:""}return""}var Aa={is_supported:()=>!!He,error:function(e){xe.error("cookieStore error: "+e)},get:function(e){if(He){try{for(var t=e+"=",n=He.cookie.split(";").filter(s=>s.length),r=0;r<n.length;r++){for(var i=n[r];i.charAt(0)==" ";)i=i.substring(1,i.length);if(i.indexOf(t)===0)return decodeURIComponent(i.substring(t.length,i.length))}}catch{}return null}},parse:function(e){var t;try{t=JSON.parse(Aa.get(e))||{}}catch{}return t},set:function(e,t,n,r,i){if(He)try{var s="",l="",c=kF(He.location.hostname,r);if(n){var d=new Date;d.setTime(d.getTime()+24*n*60*60*1e3),s="; expires="+d.toUTCString()}i&&(l="; secure");var u=e+"="+encodeURIComponent(JSON.stringify(t))+s+"; SameSite=Lax; path=/"+c+l;return u.length>3686.4&&xe.warn("cookieStore warning: large cookie, len="+u.length),He.cookie=u,u}catch{return}},remove:function(e,t){try{Aa.set(e,"",-1,t)}catch{return}}},s1=null,Or={is_supported:function(){if(!Rl(s1))return s1;var e=!0;if(et(fe))e=!1;else try{var t="__mplssupport__";Or.set(t,"xyz"),Or.get(t)!=='"xyz"'&&(e=!1),Or.remove(t)}catch{e=!1}return e||xe.error("localStorage unsupported; falling back to cookie store"),s1=e,e},error:function(e){xe.error("localStorage error: "+e)},get:function(e){try{return fe==null?void 0:fe.localStorage.getItem(e)}catch(t){Or.error(t)}return null},parse:function(e){try{return JSON.parse(Or.get(e))||{}}catch{}return null},set:function(e,t){try{fe==null||fe.localStorage.setItem(e,JSON.stringify(t))}catch(n){Or.error(n)}},remove:function(e){try{fe==null||fe.localStorage.removeItem(e)}catch(t){Or.error(t)}}},MF=["distinct_id",q0,Fh,Y0,nS],pm=Oe(Oe({},Or),{},{parse:function(e){try{var t={};try{t=Aa.parse(e)||{}}catch{}var n=Ti(t,JSON.parse(Or.get(e)||"{}"));return Or.set(e,n),n}catch{}return null},set:function(e,t,n,r,i,s){try{Or.set(e,t,void 0,void 0,s);var l={};MF.forEach(c=>{t[c]&&(l[c]=t[c])}),Object.keys(l).length&&Aa.set(e,l,n,r,i,s)}catch(c){Or.error(c)}},remove:function(e,t){try{fe==null||fe.localStorage.removeItem(e),Aa.remove(e,t)}catch(n){Or.error(n)}}}),gm={},RF={is_supported:function(){return!0},error:function(e){xe.error("memoryStorage error: "+e)},get:function(e){return gm[e]||null},parse:function(e){return gm[e]||null},set:function(e,t){gm[e]=t},remove:function(e){delete gm[e]}},sc=null,ei={is_supported:function(){if(!Rl(sc))return sc;if(sc=!0,et(fe))sc=!1;else try{var e="__support__";ei.set(e,"xyz"),ei.get(e)!=='"xyz"'&&(sc=!1),ei.remove(e)}catch{sc=!1}return sc},error:function(e){xe.error("sessionStorage error: ",e)},get:function(e){try{return fe==null?void 0:fe.sessionStorage.getItem(e)}catch(t){ei.error(t)}return null},parse:function(e){try{return JSON.parse(ei.get(e))||null}catch{}return null},set:function(e,t){try{fe==null||fe.sessionStorage.setItem(e,JSON.stringify(t))}catch(n){ei.error(n)}},remove:function(e){try{fe==null||fe.sessionStorage.removeItem(e)}catch(t){ei.error(t)}}},IF=["localhost","127.0.0.1"],Ad=e=>{var t=He==null?void 0:He.createElement("a");return et(t)?null:(t.href=e,t)},jd=function(e,t){return!!function(n){try{new RegExp(n)}catch{return!1}return!0}(t)&&new RegExp(t).test(e)},OF=function(e){var t,n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"&",i=[];return wn(e,function(s,l){et(s)||et(l)||l==="undefined"||(t=encodeURIComponent((c=>c instanceof File)(s)?s.name:s.toString()),n=encodeURIComponent(l),i[i.length]=n+"="+t)}),i.join(r)},W0=function(e,t){for(var n,r=((e.split("#")[0]||"").split("?")[1]||"").split("&"),i=0;i<r.length;i++){var s=r[i].split("=");if(s[0]===t){n=s;break}}if(!mr(n)||n.length<2)return"";var l=n[1];try{l=decodeURIComponent(l)}catch{xe.error("Skipping decoding for malformed query param: "+l)}return l.replace(/\+/g," ")},Q0=function(e,t){var n=e.match(new RegExp(t+"=([^&]*)"));return n?n[1]:null},Ns="Mobile",X0="iOS",Ro="Android",cp="Tablet",Gj=Ro+" "+cp,Yj="iPad",Kj="Apple",Wj=Kj+" Watch",up="Safari",Pd="BlackBerry",Qj="Samsung",Xj=Qj+"Browser",Jj=Qj+" Internet",vl="Chrome",jF=vl+" OS",Zj=vl+" "+X0,nw="Internet Explorer",eP=nw+" "+Ns,rw="Opera",PF=rw+" Mini",iw="Edge",tP="Microsoft "+iw,bd="Firefox",nP=bd+" "+X0,dp="Nintendo",fp="PlayStation",_d="Xbox",rP=Ro+" "+Ns,iP=Ns+" "+up,zh="Windows",rS=zh+" Phone",lM="Nokia",iS="Ouya",sP="Generic",VF=sP+" "+Ns.toLowerCase(),oP=sP+" "+cp.toLowerCase(),sS="Konqueror",Ei="(\\d+(\\.\\d+)?)",o1=new RegExp("Version/"+Ei),DF=new RegExp(_d,"i"),BF=new RegExp(fp+" \\w+","i"),NF=new RegExp(dp+" \\w+","i"),sw=new RegExp(Pd+"|PlayBook|BB10","i"),LF={"NT3.51":"NT 3.11","NT4.0":"NT 4.0","5.0":"2000",5.1:"XP",5.2:"XP","6.0":"Vista",6.1:"7",6.2:"8",6.3:"8.1",6.4:"10","10.0":"10"},FF=(e,t)=>t&&$t(t,Kj)||function(n){return $t(n,up)&&!$t(n,vl)&&!$t(n,Ro)}(e),cM=function(e,t){return t=t||"",$t(e," OPR/")&&$t(e,"Mini")?PF:$t(e," OPR/")?rw:sw.test(e)?Pd:$t(e,"IE"+Ns)||$t(e,"WPDesktop")?eP:$t(e,Xj)?Jj:$t(e,iw)||$t(e,"Edg/")?tP:$t(e,"FBIOS")?"Facebook "+Ns:$t(e,"UCWEB")||$t(e,"UCBrowser")?"UC Browser":$t(e,"CriOS")?Zj:$t(e,"CrMo")?vl:$t(e,Ro)&&$t(e,up)?rP:$t(e,vl)?vl:$t(e,"FxiOS")?nP:$t(e.toLowerCase(),sS.toLowerCase())?sS:FF(e,t)?$t(e,Ns)?iP:up:$t(e,bd)?bd:$t(e,"MSIE")||$t(e,"Trident/")?nw:$t(e,"Gecko")?bd:""},zF={[eP]:[new RegExp("rv:"+Ei)],[tP]:[new RegExp(iw+"?\\/"+Ei)],[vl]:[new RegExp("("+vl+"|CrMo)\\/"+Ei)],[Zj]:[new RegExp("CriOS\\/"+Ei)],"UC Browser":[new RegExp("(UCBrowser|UCWEB)\\/"+Ei)],[up]:[o1],[iP]:[o1],[rw]:[new RegExp("(Opera|OPR)\\/"+Ei)],[bd]:[new RegExp(bd+"\\/"+Ei)],[nP]:[new RegExp("FxiOS\\/"+Ei)],[sS]:[new RegExp("Konqueror[:/]?"+Ei,"i")],[Pd]:[new RegExp(Pd+" "+Ei),o1],[rP]:[new RegExp("android\\s"+Ei,"i")],[Jj]:[new RegExp(Xj+"\\/"+Ei)],[nw]:[new RegExp("(rv:|MSIE )"+Ei)],Mozilla:[new RegExp("rv:"+Ei)]},uM=[[new RegExp(_d+"; "+_d+" (.*?)[);]","i"),e=>[_d,e&&e[1]||""]],[new RegExp(dp,"i"),[dp,""]],[new RegExp(fp,"i"),[fp,""]],[sw,[Pd,""]],[new RegExp(zh,"i"),(e,t)=>{if(/Phone/.test(t)||/WPDesktop/.test(t))return[rS,""];if(new RegExp(Ns).test(t)&&!/IEMobile\b/.test(t))return[zh+" "+Ns,""];var n=/Windows NT ([0-9.]+)/i.exec(t);if(n&&n[1]){var r=n[1],i=LF[r]||"";return/arm/i.test(t)&&(i="RT"),[zh,i]}return[zh,""]}],[/((iPhone|iPad|iPod).*?OS (\d+)_(\d+)_?(\d+)?|iPhone)/,e=>{if(e&&e[3]){var t=[e[3],e[4],e[5]||"0"];return[X0,t.join(".")]}return[X0,""]}],[/(watch.*\/(\d+\.\d+\.\d+)|watch os,(\d+\.\d+),)/i,e=>{var t="";return e&&e.length>=3&&(t=et(e[2])?e[3]:e[2]),["watchOS",t]}],[new RegExp("("+Ro+" (\\d+)\\.(\\d+)\\.?(\\d+)?|"+Ro+")","i"),e=>{if(e&&e[2]){var t=[e[2],e[3],e[4]||"0"];return[Ro,t.join(".")]}return[Ro,""]}],[/Mac OS X (\d+)[_.](\d+)[_.]?(\d+)?/i,e=>{var t=["Mac OS X",""];if(e&&e[1]){var n=[e[1],e[2],e[3]||"0"];t[1]=n.join(".")}return t}],[/Mac/i,["Mac OS X",""]],[/CrOS/,[jF,""]],[/Linux|debian/i,["Linux",""]]],dM=function(e){return NF.test(e)?dp:BF.test(e)?fp:DF.test(e)?_d:new RegExp(iS,"i").test(e)?iS:new RegExp("("+rS+"|WPDesktop)","i").test(e)?rS:/iPad/.test(e)?Yj:/iPod/.test(e)?"iPod Touch":/iPhone/.test(e)?"iPhone":/(watch)(?: ?os[,/]|\d,\d\/)[\d.]+/i.test(e)?Wj:sw.test(e)?Pd:/(kobo)\s(ereader|touch)/i.test(e)?"Kobo":new RegExp(lM,"i").test(e)?lM:/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i.test(e)||/(kf[a-z]+)( bui|\)).+silk\//i.test(e)?"Kindle Fire":/(Android|ZTE)/i.test(e)?!new RegExp(Ns).test(e)||/(9138B|TB782B|Nexus [97]|pixel c|HUAWEISHT|BTV|noble nook|smart ultra 6)/i.test(e)?/pixel[\daxl ]{1,6}/i.test(e)&&!/pixel c/i.test(e)||/(huaweimed-al00|tah-|APA|SM-G92|i980|zte|U304AA)/i.test(e)||/lmy47v/i.test(e)&&!/QTAQZ3/i.test(e)?Ro:Gj:Ro:new RegExp("(pda|"+Ns+")","i").test(e)?VF:new RegExp(cp,"i").test(e)&&!new RegExp(cp+" pc","i").test(e)?oP:""},mm="https?://(.*)",$F=["utm_source","utm_medium","utm_campaign","utm_content","utm_term","gclid","gad_source","gclsrc","dclid","gbraid","wbraid","fbclid","msclkid","twclid","li_fat_id","mc_cid","igshid","ttclid","rdt_cid"],lr={campaignParams:function(e){return He?this._campaignParamsFromUrl(He.URL,e):{}},_campaignParamsFromUrl:function(e,t){var n=$F.concat(t||[]),r={};return wn(n,function(i){var s=W0(e,i);r[i]=s||null}),r},_searchEngine:function(e){return e?e.search(mm+"google.([^/?]*)")===0?"google":e.search(mm+"bing.com")===0?"bing":e.search(mm+"yahoo.com")===0?"yahoo":e.search(mm+"duckduckgo.com")===0?"duckduckgo":null:null},_searchInfoFromReferrer:function(e){var t=lr._searchEngine(e),n=t!="yahoo"?"q":"p",r={};if(!Rl(t)){r.$search_engine=t;var i=He?W0(He.referrer,n):"";i.length&&(r.ph_keyword=i)}return r},searchInfo:function(){var e=He==null?void 0:He.referrer;return e?this._searchInfoFromReferrer(e):{}},browser:cM,browserVersion:function(e,t){var n=cM(e,t),r=zF[n];if(et(r))return null;for(var i=0;i<r.length;i++){var s=r[i],l=e.match(s);if(l)return parseFloat(l[l.length-2])}return null},browserLanguage:function(){return navigator.language||navigator.userLanguage},browserLanguagePrefix:function(){var e=this.browserLanguage();return typeof e=="string"?e.split("-")[0]:void 0},os:function(e){for(var t=0;t<uM.length;t++){var[n,r]=uM[t],i=n.exec(e),s=i&&(Ds(r)?r(i,e):r);if(s)return s}return["",""]},device:dM,deviceType:function(e){var t=dM(e);return t===Yj||t===Gj||t==="Kobo"||t==="Kindle Fire"||t===oP?cp:t===dp||t===_d||t===fp||t===iS?"Console":t===Wj?"Wearable":t?Ns:"Desktop"},referrer:function(){return(He==null?void 0:He.referrer)||"$direct"},referringDomain:function(){var e;return He!=null&&He.referrer&&((e=Ad(He.referrer))===null||e===void 0?void 0:e.host)||"$direct"},referrerInfo:function(){return{$referrer:this.referrer(),$referring_domain:this.referringDomain()}},initialPersonInfo:function(){return{r:this.referrer().substring(0,1e3),u:Li==null?void 0:Li.href.substring(0,1e3)}},initialPersonPropsFromInfo:function(e){var t,{r:n,u:r}=e,i={$initial_referrer:n,$initial_referring_domain:n==null?void 0:n=="$direct"?"$direct":(t=Ad(n))===null||t===void 0?void 0:t.host};if(r){i.$initial_current_url=r;var s=Ad(r);i.$initial_host=s==null?void 0:s.host,i.$initial_pathname=s==null?void 0:s.pathname,wn(this._campaignParamsFromUrl(r),function(l,c){i["$initial_"+Y_(c)]=l})}return n&&wn(this._searchInfoFromReferrer(n),function(l,c){i["$initial_"+Y_(c)]=l}),i},timezone:function(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch{return}},timezoneOffset:function(){try{return new Date().getTimezoneOffset()}catch{return}},properties:function(){if(!$r)return{};var[e,t]=lr.os($r);return Ti(H0({$os:e,$os_version:t,$browser:lr.browser($r,navigator.vendor),$device:lr.device($r),$device_type:lr.deviceType($r),$timezone:lr.timezone(),$timezone_offset:lr.timezoneOffset()}),{$current_url:Li==null?void 0:Li.href,$host:Li==null?void 0:Li.host,$pathname:Li==null?void 0:Li.pathname,$raw_user_agent:$r.length>1e3?$r.substring(0,997)+"...":$r,$browser_version:lr.browserVersion($r,navigator.vendor),$browser_language:lr.browserLanguage(),$browser_language_prefix:lr.browserLanguagePrefix(),$screen_height:fe==null?void 0:fe.screen.height,$screen_width:fe==null?void 0:fe.screen.width,$viewport_height:fe==null?void 0:fe.innerHeight,$viewport_width:fe==null?void 0:fe.innerWidth,$lib:"web",$lib_version:cl.LIB_VERSION,$insert_id:Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10),$time:Date.now()/1e3})},people_properties:function(){if(!$r)return{};var[e,t]=lr.os($r);return Ti(H0({$os:e,$os_version:t,$browser:lr.browser($r,navigator.vendor)}),{$browser_version:lr.browserVersion($r,navigator.vendor)})}},UF=["cookie","localstorage","localstorage+cookie","sessionstorage","memory"];class a1{constructor(t){this.config=t,this.props={},this.campaign_params_saved=!1,this.name=(n=>{var r="";return n.token&&(r=n.token.replace(/\+/g,"PL").replace(/\//g,"SL").replace(/=/g,"EQ")),n.persistence_name?"ph_"+n.persistence_name:"ph_"+r+"_posthog"})(t),this.storage=this.buildStorage(t),this.load(),t.debug&&xe.info("Persistence loaded",t.persistence,Oe({},this.props)),this.update_config(t,t),this.save()}buildStorage(t){UF.indexOf(t.persistence.toLowerCase())===-1&&(xe.critical("Unknown persistence type "+t.persistence+"; falling back to localStorage+cookie"),t.persistence="localStorage+cookie");var n=t.persistence.toLowerCase();return n==="localstorage"&&Or.is_supported()?Or:n==="localstorage+cookie"&&pm.is_supported()?pm:n==="sessionstorage"&&ei.is_supported()?ei:n==="memory"?RF:n==="cookie"?Aa:pm.is_supported()?pm:Aa}properties(){var t={};return wn(this.props,function(n,r){if(r===ud&&Cr(n))for(var i=Object.keys(n),s=0;s<i.length;s++)t["$feature/".concat(i[s])]=n[i[s]];else c=r,d=!1,(Rl(l=_F)?d:zk&&l.indexOf===zk?l.indexOf(c)!=-1:(wn(l,function(u){if(d||(d=u===c))return U0}),d))||(t[r]=n);var l,c,d}),t}load(){if(!this.disabled){var t=this.storage.parse(this.name);t&&(this.props=Ti({},t))}}save(){this.disabled||this.storage.set(this.name,this.props,this.expire_days,this.cross_subdomain,this.secure,this.config.debug)}remove(){this.storage.remove(this.name,!1),this.storage.remove(this.name,!0)}clear(){this.remove(),this.props={}}register_once(t,n,r){if(Cr(t)){et(n)&&(n="None"),this.expire_days=et(r)?this.default_expiry:r;var i=!1;if(wn(t,(s,l)=>{this.props.hasOwnProperty(l)&&this.props[l]!==n||(this.props[l]=s,i=!0)}),i)return this.save(),!0}return!1}register(t,n){if(Cr(t)){this.expire_days=et(n)?this.default_expiry:n;var r=!1;if(wn(t,(i,s)=>{t.hasOwnProperty(s)&&this.props[s]!==i&&(this.props[s]=i,r=!0)}),r)return this.save(),!0}return!1}unregister(t){t in this.props&&(delete this.props[t],this.save())}update_campaign_params(){if(!this.campaign_params_saved){var t=lr.campaignParams(this.config.custom_campaign_params);cd(H0(t))||this.register(t),this.campaign_params_saved=!0}}update_search_keyword(){this.register(lr.searchInfo())}update_referrer_info(){this.register_once(lr.referrerInfo(),void 0)}set_initial_person_info(){this.props[eS]||this.props[tS]||this.register_once({[nS]:lr.initialPersonInfo()},void 0)}get_referrer_info(){return H0({$referrer:this.props.$referrer,$referring_domain:this.props.$referring_domain})}get_initial_props(){var t={};wn([tS,eS],i=>{var s=this.props[i];s&&wn(s,function(l,c){t["$initial_"+Y_(c)]=l})});var n=this.props[nS];if(n){var r=lr.initialPersonPropsFromInfo(n);Ti(t,r)}return t}safe_merge(t){return wn(this.props,function(n,r){r in t||(t[r]=n)}),t}update_config(t,n){if(this.default_expiry=this.expire_days=t.cookie_expiration,this.set_disabled(t.disable_persistence),this.set_cross_subdomain(t.cross_subdomain_cookie),this.set_secure(t.secure_cookie),t.persistence!==n.persistence){var r=this.buildStorage(t),i=this.props;this.clear(),this.storage=r,this.props=i,this.save()}}set_disabled(t){this.disabled=t,this.disabled?this.remove():this.save()}set_cross_subdomain(t){t!==this.cross_subdomain&&(this.cross_subdomain=t,this.remove(),this.save())}get_cross_subdomain(){return!!this.cross_subdomain}set_secure(t){t!==this.secure&&(this.secure=t,this.remove(),this.save())}set_event_timer(t,n){var r=this.props[Lh]||{};r[t]=n,this.props[Lh]=r,this.save()}remove_event_timer(t){var n=(this.props[Lh]||{})[t];return et(n)||(delete this.props[Lh][t],this.save()),n}get_property(t){return this.props[t]}set_property(t,n){this.props[t]=n,this.save()}}function J0(e){var t,n;return((t=JSON.stringify(e,(n=[],function(r,i){if(Cr(i)){for(;n.length>0&&n[n.length-1]!==this;)n.pop();return n.includes(i)?"[Circular]":(n.push(i),i)}return i})))===null||t===void 0?void 0:t.length)||0}function oS(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:66060288e-1;if(e.size>=t&&e.data.length>1){var n=Math.floor(e.data.length/2),r=e.data.slice(0,n),i=e.data.slice(n);return[oS({size:J0(r),data:r,sessionId:e.sessionId,windowId:e.windowId}),oS({size:J0(i),data:i,sessionId:e.sessionId,windowId:e.windowId})].flatMap(s=>s)}return[e]}var da=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(da||{}),no=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(no||{});function fM(e){var t;return e.id===Hj||!((t=e.closest)===null||t===void 0||!t.call(e,".toolbar-global-fade-container"))}function Gv(e){return!!e&&e.nodeType===1}function yl(e,t){return!!e&&!!e.tagName&&e.tagName.toLowerCase()===t.toLowerCase()}function aP(e){return!!e&&e.nodeType===3}function lP(e){return!!e&&e.nodeType===11}function ow(e){return e?Hv(e).split(/\s+/):[]}function hM(e){var t=fe==null?void 0:fe.location.href;return!!(t&&e&&e.some(n=>t.match(n)))}function Z0(e){var t="";switch(typeof e.className){case"string":t=e.className;break;case"object":t=(e.className&&"baseVal"in e.className?e.className.baseVal:null)||e.getAttribute("class")||"";break;default:t=""}return ow(t)}function cP(e){return On(e)?null:Hv(e).split(/(\s+)/).filter(t=>Vd(t)).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255)}function Yv(e){var t="";return lS(e)&&!fP(e)&&e.childNodes&&e.childNodes.length&&wn(e.childNodes,function(n){var r;aP(n)&&n.textContent&&(t+=(r=cP(n.textContent))!==null&&r!==void 0?r:"")}),Hv(t)}function uP(e){return et(e.target)?e.srcElement||null:(t=e.target)!==null&&t!==void 0&&t.shadowRoot?e.composedPath()[0]||null:e.target||null;var t}var aS=["a","button","form","input","select","textarea","label"];function dP(e){var t=e.parentNode;return!(!t||!Gv(t))&&t}function HF(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;if(!fe||!e||yl(e,"html")||!Gv(e)||n!=null&&n.url_allowlist&&!hM(n.url_allowlist)||n!=null&&n.url_ignorelist&&hM(n.url_ignorelist))return!1;if(n!=null&&n.dom_event_allowlist){var s=n.dom_event_allowlist;if(s&&!s.some(y=>t.type===y))return!1}for(var l=!1,c=[e],d=!0,u=e;u.parentNode&&!yl(u,"body");)if(lP(u.parentNode))c.push(u.parentNode.host),u=u.parentNode.host;else{if(!(d=dP(u)))break;if(r||aS.indexOf(d.tagName.toLowerCase())>-1)l=!0;else{var p=fe.getComputedStyle(d);p&&p.getPropertyValue("cursor")==="pointer"&&(l=!0)}c.push(d),u=d}if(!function(y,b){var _=b==null?void 0:b.element_allowlist;if(et(_))return!0;var w=function(R){if(_.some(M=>R.tagName.toLowerCase()===M))return{v:!0}};for(var T of y){var k=w(T);if(typeof k=="object")return k.v}return!1}(c,n)||!function(y,b){var _=b==null?void 0:b.css_selector_allowlist;if(et(_))return!0;var w=function(R){if(_.some(M=>R.matches(M)))return{v:!0}};for(var T of y){var k=w(T);if(typeof k=="object")return k.v}return!1}(c,n))return!1;var h=fe.getComputedStyle(e);if(h&&h.getPropertyValue("cursor")==="pointer"&&t.type==="click")return!0;var v=e.tagName.toLowerCase();switch(v){case"html":return!1;case"form":return(i||["submit"]).indexOf(t.type)>=0;case"input":case"select":case"textarea":return(i||["change","click"]).indexOf(t.type)>=0;default:return l?(i||["click"]).indexOf(t.type)>=0:(i||["click"]).indexOf(t.type)>=0&&(aS.indexOf(v)>-1||e.getAttribute("contenteditable")==="true")}}function lS(e){for(var t=e;t.parentNode&&!yl(t,"body");t=t.parentNode){var n=Z0(t);if($t(n,"ph-sensitive")||$t(n,"ph-no-capture"))return!1}if($t(Z0(e),"ph-include"))return!0;var r=e.type||"";if(fi(r))switch(r.toLowerCase()){case"hidden":case"password":return!1}var i=e.name||e.id||"";return!(fi(i)&&/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|pwd|routing|seccode|securitycode|securitynum|socialsec|socsec|ssn/i.test(i.replace(/[^a-zA-Z0-9]/g,"")))}function fP(e){return!!(yl(e,"input")&&!["button","checkbox","submit","reset"].includes(e.type)||yl(e,"select")||yl(e,"textarea")||e.getAttribute("contenteditable")==="true")}var hP="(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11})",qF=new RegExp("^(?:".concat(hP,")$")),GF=new RegExp(hP),pP="\\d{3}-?\\d{2}-?\\d{4}",YF=new RegExp("^(".concat(pP,")$")),KF=new RegExp("(".concat(pP,")"));function Vd(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return!(On(e)||fi(e)&&(e=Hv(e),(t?qF:GF).test((e||"").replace(/[- ]/g,""))||(t?YF:KF).test(e)))}function gP(e){var t=Yv(e);return Vd(t="".concat(t," ").concat(mP(e)).trim())?t:""}function mP(e){var t="";return e&&e.childNodes&&e.childNodes.length&&wn(e.childNodes,function(n){var r;if(n&&((r=n.tagName)===null||r===void 0?void 0:r.toLowerCase())==="span")try{var i=Yv(n);t="".concat(t," ").concat(i).trim(),n.childNodes&&n.childNodes.length&&(t="".concat(t," ").concat(mP(n)).trim())}catch(s){xe.error(s)}}),t}function WF(e){return function(t){var n=t.map(r=>{var i,s,l="";if(r.tag_name&&(l+=r.tag_name),r.attr_class)for(var c of(r.attr_class.sort(),r.attr_class))l+=".".concat(c.replace(/"/g,""));var d=Oe(Oe(Oe(Oe({},r.text?{text:r.text}:{}),{},{"nth-child":(i=r.nth_child)!==null&&i!==void 0?i:0,"nth-of-type":(s=r.nth_of_type)!==null&&s!==void 0?s:0},r.href?{href:r.href}:{}),r.attr_id?{attr_id:r.attr_id}:{}),r.attributes),u={};return p0(d).sort((p,h)=>{var[v]=p,[y]=h;return v.localeCompare(y)}).forEach(p=>{var[h,v]=p;return u[pM(h.toString())]=pM(v.toString())}),l+=":",l+=p0(d).map(p=>{var[h,v]=p;return"".concat(h,'="').concat(v,'"')}).join("")});return n.join(";")}(function(t){return t.map(n=>{var r,i,s={text:(r=n.$el_text)===null||r===void 0?void 0:r.slice(0,400),tag_name:n.tag_name,href:(i=n.attr__href)===null||i===void 0?void 0:i.slice(0,2048),attr_class:QF(n),attr_id:n.attr__id,nth_child:n.nth_child,nth_of_type:n.nth_of_type,attributes:{}};return p0(n).filter(l=>{var[c]=l;return c.indexOf("attr__")===0}).forEach(l=>{var[c,d]=l;return s.attributes[c]=d}),s})}(e))}function pM(e){return e.replace(/"|\\"/g,'\\"')}function QF(e){var t=e.attr__class;return t?mr(t)?t:ow(t):void 0}var cS="[SessionRecording]",uS="redacted",vm={initiatorTypes:["audio","beacon","body","css","early-hint","embed","fetch","frame","iframe","icon","image","img","input","link","navigation","object","ping","script","track","video","xmlhttprequest"],maskRequestFn:e=>e,recordHeaders:!1,recordBody:!1,recordInitialRequests:!1,recordPerformance:!1,performanceEntryTypeToObserve:["first-input","navigation","paint","resource"],payloadSizeLimitBytes:1e6,payloadHostDenyList:[".lr-ingest.io",".ingest.sentry.io"]},XF=["authorization","x-forwarded-for","authorization","cookie","set-cookie","x-api-key","x-real-ip","remote-addr","forwarded","proxy-authorization","x-csrf-token","x-csrftoken","x-xsrf-token"],JF=["password","secret","passwd","api_key","apikey","auth","credentials","mysql_pwd","privatekey","private_key","token"],ZF=["/s/","/e/","/i/"];function gM(e,t,n,r){if(On(e))return e;var i=(t==null?void 0:t["content-length"])||function(s){return new Blob([s]).size}(e);return fi(i)&&(i=parseInt(i)),i>n?cS+" ".concat(r," body too large to record (").concat(i," bytes)"):e}function mM(e,t){if(On(e))return e;var n=e;return Vd(n,!1)||(n=cS+" "+t+" body "+uS),wn(JF,r=>{var i,s;(i=n)!==null&&i!==void 0&&i.length&&((s=n)===null||s===void 0?void 0:s.indexOf(r))!==-1&&(n=cS+" "+t+" body "+uS+" as might contain: "+r)}),n}var ez=(e,t)=>{var n,r,i,s={payloadSizeLimitBytes:vm.payloadSizeLimitBytes,performanceEntryTypeToObserve:[...vm.performanceEntryTypeToObserve],payloadHostDenyList:[...t.payloadHostDenyList||[],...vm.payloadHostDenyList]},l=e.session_recording.recordHeaders!==!1&&t.recordHeaders,c=e.session_recording.recordBody!==!1&&t.recordBody,d=e.capture_performance!==!1&&t.recordPerformance,u=(n=s,i=Math.min(1e6,(r=n.payloadSizeLimitBytes)!==null&&r!==void 0?r:1e6),v=>(v!=null&&v.requestBody&&(v.requestBody=gM(v.requestBody,v.requestHeaders,i,"Request")),v!=null&&v.responseBody&&(v.responseBody=gM(v.responseBody,v.responseHeaders,i,"Response")),v)),p=v=>{return u(((_,w)=>{var T,k=Ad(_.name),R=w.indexOf("http")===0?(T=Ad(w))===null||T===void 0?void 0:T.pathname:w;R==="/"&&(R="");var M=k==null?void 0:k.pathname.replace(R||"","");if(!(k&&M&&ZF.some(E=>M.indexOf(E)===0)))return _})((b=(y=v).requestHeaders,On(b)||wn(Object.keys(b??{}),_=>{XF.includes(_.toLowerCase())&&(b[_]=uS)}),y),e.api_host));var y,b},h=Ds(e.session_recording.maskNetworkRequestFn);return h&&Ds(e.session_recording.maskCapturedNetworkRequestFn)&&xe.warn("Both `maskNetworkRequestFn` and `maskCapturedNetworkRequestFn` are defined. `maskNetworkRequestFn` will be ignored."),h&&(e.session_recording.maskCapturedNetworkRequestFn=v=>{var y=e.session_recording.maskNetworkRequestFn({url:v.name});return Oe(Oe({},v),{},{name:y==null?void 0:y.url})}),s.maskRequestFn=Ds(e.session_recording.maskCapturedNetworkRequestFn)?v=>{var y,b,_,w=p(v);return w&&(y=(b=(_=e.session_recording).maskCapturedNetworkRequestFn)===null||b===void 0?void 0:b.call(_,w))!==null&&y!==void 0?y:void 0}:v=>function(y){if(!et(y))return y.requestBody=mM(y.requestBody,"Request"),y.responseBody=mM(y.responseBody,"Response"),y}(p(v)),Oe(Oe(Oe({},vm),s),{},{recordHeaders:l,recordBody:c,recordPerformance:d,recordInitialRequests:d})};function Io(e,t,n,r,i){return t>n&&(xe.warn("min cannot be greater than max."),t=n),ns(e)?e>n?(r&&xe.warn(r+" cannot be  greater than max: "+n+". Using max value instead."),n):e<t?(r&&xe.warn(r+" cannot be less than min: "+t+". Using min value instead."),t):e:(r&&xe.warn(r+" must be a number. using max or fallback. max: "+n+", fallback: "+i),Io(i||n,t,n,r))}class tz{constructor(t){var n,r,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};ze(this,"bucketSize",100),ze(this,"refillRate",10),ze(this,"mutationBuckets",{}),ze(this,"loggedTracker",{}),ze(this,"refillBuckets",()=>{Object.keys(this.mutationBuckets).forEach(s=>{this.mutationBuckets[s]=this.mutationBuckets[s]+this.refillRate,this.mutationBuckets[s]>=this.bucketSize&&delete this.mutationBuckets[s]})}),ze(this,"getNodeOrRelevantParent",s=>{var l=this.rrweb.mirror.getNode(s);if((l==null?void 0:l.nodeName)!=="svg"&&l instanceof Element){var c=l.closest("svg");if(c)return[this.rrweb.mirror.getId(c),c]}return[s,l]}),ze(this,"numberOfChanges",s=>{var l,c,d,u,p,h,v,y;return((l=(c=s.removes)===null||c===void 0?void 0:c.length)!==null&&l!==void 0?l:0)+((d=(u=s.attributes)===null||u===void 0?void 0:u.length)!==null&&d!==void 0?d:0)+((p=(h=s.texts)===null||h===void 0?void 0:h.length)!==null&&p!==void 0?p:0)+((v=(y=s.adds)===null||y===void 0?void 0:y.length)!==null&&v!==void 0?v:0)}),ze(this,"throttleMutations",s=>{if(s.type!==3||s.data.source!==0)return s;var l=s.data,c=this.numberOfChanges(l);l.attributes&&(l.attributes=l.attributes.filter(u=>{var p,h,v,[y,b]=this.getNodeOrRelevantParent(u.id);return this.mutationBuckets[y]===0?!1:(this.mutationBuckets[y]=(p=this.mutationBuckets[y])!==null&&p!==void 0?p:this.bucketSize,this.mutationBuckets[y]=Math.max(this.mutationBuckets[y]-1,0),this.mutationBuckets[y]===0&&(this.loggedTracker[y]||(this.loggedTracker[y]=!0,(h=(v=this.options).onBlockedNode)===null||h===void 0||h.call(v,y,b))),u)}));var d=this.numberOfChanges(l);return d!==0||c===d?s:void 0}),this.rrweb=t,this.options=i,this.refillRate=Io((n=this.options.refillRate)!==null&&n!==void 0?n:this.refillRate,0,100,"mutation throttling refill rate"),this.bucketSize=Io((r=this.options.bucketSize)!==null&&r!==void 0?r:this.bucketSize,0,100,"mutation throttling bucket size"),setInterval(()=>{this.refillBuckets()},1e3)}}var Ls=Uint8Array,$i=Uint16Array,Dd=Uint32Array,aw=new Ls([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),lw=new Ls([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),vM=new Ls([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),vP=function(e,t){for(var n=new $i(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];var i=new Dd(n[30]);for(r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return[n,i]},yP=vP(aw,2),nz=yP[0],dS=yP[1];nz[28]=258,dS[258]=28;for(var yM=vP(lw,0)[1],AP=new $i(32768),Vn=0;Vn<32768;++Vn){var oc=(43690&Vn)>>>1|(21845&Vn)<<1;oc=(61680&(oc=(52428&oc)>>>2|(13107&oc)<<2))>>>4|(3855&oc)<<4,AP[Vn]=((65280&oc)>>>8|(255&oc)<<8)>>>1}var Xh=function(e,t,n){for(var r=e.length,i=0,s=new $i(t);i<r;++i)++s[e[i]-1];var l,c=new $i(t);for(i=0;i<t;++i)c[i]=c[i-1]+s[i-1]<<1;for(l=new $i(r),i=0;i<r;++i)l[i]=AP[c[e[i]-1]++]>>>15-e[i];return l},Bc=new Ls(288);for(Vn=0;Vn<144;++Vn)Bc[Vn]=8;for(Vn=144;Vn<256;++Vn)Bc[Vn]=9;for(Vn=256;Vn<280;++Vn)Bc[Vn]=7;for(Vn=280;Vn<288;++Vn)Bc[Vn]=8;var ev=new Ls(32);for(Vn=0;Vn<32;++Vn)ev[Vn]=5;var rz=Xh(Bc,9),iz=Xh(ev,5),bP=function(e){return(e/8>>0)+(7&e&&1)},_P=function(e,t,n){(n==null||n>e.length)&&(n=e.length);var r=new(e instanceof $i?$i:e instanceof Dd?Dd:Ls)(n-t);return r.set(e.subarray(t,n)),r},ra=function(e,t,n){n<<=7&t;var r=t/8>>0;e[r]|=n,e[r+1]|=n>>>8},Ah=function(e,t,n){n<<=7&t;var r=t/8>>0;e[r]|=n,e[r+1]|=n>>>8,e[r+2]|=n>>>16},l1=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var i=n.length,s=n.slice();if(!i)return[new Ls(0),0];if(i==1){var l=new Ls(n[0].s+1);return l[n[0].s]=1,[l,1]}n.sort(function(E,O){return E.f-O.f}),n.push({s:-1,f:25001});var c=n[0],d=n[1],u=0,p=1,h=2;for(n[0]={s:-1,f:c.f+d.f,l:c,r:d};p!=i-1;)c=n[n[u].f<n[h].f?u++:h++],d=n[u!=p&&n[u].f<n[h].f?u++:h++],n[p++]={s:-1,f:c.f+d.f,l:c,r:d};var v=s[0].s;for(r=1;r<i;++r)s[r].s>v&&(v=s[r].s);var y=new $i(v+1),b=fS(n[p-1],y,0);if(b>t){r=0;var _=0,w=b-t,T=1<<w;for(s.sort(function(E,O){return y[O.s]-y[E.s]||E.f-O.f});r<i;++r){var k=s[r].s;if(!(y[k]>t))break;_+=T-(1<<b-y[k]),y[k]=t}for(_>>>=w;_>0;){var R=s[r].s;y[R]<t?_-=1<<t-y[R]++-1:++r}for(;r>=0&&_;--r){var M=s[r].s;y[M]==t&&(--y[M],++_)}b=t}return[new Ls(y),b]},fS=function(e,t,n){return e.s==-1?Math.max(fS(e.l,t,n+1),fS(e.r,t,n+1)):t[e.s]=n},AM=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new $i(++t),r=0,i=e[0],s=1,l=function(d){n[r++]=d},c=1;c<=t;++c)if(e[c]==i&&c!=t)++s;else{if(!i&&s>2){for(;s>138;s-=138)l(32754);s>2&&(l(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(l(i),--s;s>6;s-=6)l(8304);s>2&&(l(s-3<<5|8208),s=0)}for(;s--;)l(i);s=1,i=e[c]}return[n.subarray(0,r),t]},bh=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},hS=function(e,t,n){var r=n.length,i=bP(t+2);e[i]=255&r,e[i+1]=r>>>8,e[i+2]=255^e[i],e[i+3]=255^e[i+1];for(var s=0;s<r;++s)e[i+s+4]=n[s];return 8*(i+4+r)},bM=function(e,t,n,r,i,s,l,c,d,u,p){ra(t,p++,n),++i[256];for(var h=l1(i,15),v=h[0],y=h[1],b=l1(s,15),_=b[0],w=b[1],T=AM(v),k=T[0],R=T[1],M=AM(_),E=M[0],O=M[1],j=new $i(19),P=0;P<k.length;++P)j[31&k[P]]++;for(P=0;P<E.length;++P)j[31&E[P]]++;for(var V=l1(j,7),C=V[0],N=V[1],U=19;U>4&&!C[vM[U-1]];--U);var L,q,H,D,W=u+5<<3,Q=bh(i,Bc)+bh(s,ev)+l,J=bh(i,v)+bh(s,_)+l+14+3*U+bh(j,C)+(2*j[16]+3*j[17]+7*j[18]);if(W<=Q&&W<=J)return hS(t,p,e.subarray(d,d+u));if(ra(t,p,1+(J<Q)),p+=2,J<Q){L=Xh(v,y),q=v,H=Xh(_,w),D=_;var B=Xh(C,N);for(ra(t,p,R-257),ra(t,p+5,O-1),ra(t,p+10,U-4),p+=14,P=0;P<U;++P)ra(t,p+3*P,C[vM[P]]);p+=3*U;for(var G=[k,E],ee=0;ee<2;++ee){var ue=G[ee];for(P=0;P<ue.length;++P){var F=31&ue[P];ra(t,p,B[F]),p+=C[F],F>15&&(ra(t,p,ue[P]>>>5&127),p+=ue[P]>>>12)}}}else L=rz,q=Bc,H=iz,D=ev;for(P=0;P<c;++P)if(r[P]>255){F=r[P]>>>18&31,Ah(t,p,L[F+257]),p+=q[F+257],F>7&&(ra(t,p,r[P]>>>23&31),p+=aw[F]);var ge=31&r[P];Ah(t,p,H[ge]),p+=D[ge],ge>3&&(Ah(t,p,r[P]>>>5&8191),p+=lw[ge])}else Ah(t,p,L[r[P]]),p+=q[r[P]];return Ah(t,p,L[256]),p+q[256]},sz=new Dd([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),oz=function(){for(var e=new Dd(256),t=0;t<256;++t){for(var n=t,r=9;--r;)n=(1&n&&3988292384)^n>>>1;e[t]=n}return e}(),az=function(){var e=4294967295;return{p:function(t){for(var n=e,r=0;r<t.length;++r)n=oz[255&n^t[r]]^n>>>8;e=n},d:function(){return 4294967295^e}}},lz=function(e,t,n,r,i){return function(s,l,c,d,u,p){var h=s.length,v=new Ls(d+h+5*(1+Math.floor(h/7e3))+u),y=v.subarray(d,v.length-u),b=0;if(!l||h<8)for(var _=0;_<=h;_+=65535){var w=_+65535;w<h?b=hS(y,b,s.subarray(_,w)):(y[_]=p,b=hS(y,b,s.subarray(_,h)))}else{for(var T=sz[l-1],k=T>>>13,R=8191&T,M=(1<<c)-1,E=new $i(32768),O=new $i(M+1),j=Math.ceil(c/3),P=2*j,V=function(ft){return(s[ft]^s[ft+1]<<j^s[ft+2]<<P)&M},C=new Dd(25e3),N=new $i(288),U=new $i(32),L=0,q=0,H=(_=0,0),D=0,W=0;_<h;++_){var Q=V(_),J=32767&_,B=O[Q];if(E[J]=B,O[Q]=J,D<=_){var G=h-_;if((L>7e3||H>24576)&&G>423){b=bM(s,y,0,C,N,U,q,H,W,_-W,b),H=L=q=0,W=_;for(var ee=0;ee<286;++ee)N[ee]=0;for(ee=0;ee<30;++ee)U[ee]=0}var ue=2,F=0,ge=R,se=J-B&32767;if(G>2&&Q==V(_-se))for(var Se=Math.min(k,G)-1,Me=Math.min(32767,_),Re=Math.min(258,G);se<=Me&&--ge&&J!=B;){if(s[_+ue]==s[_+ue-se]){for(var ve=0;ve<Re&&s[_+ve]==s[_+ve-se];++ve);if(ve>ue){if(ue=ve,F=se,ve>Se)break;var je=Math.min(se,ve-2),Ge=0;for(ee=0;ee<je;++ee){var $e=_-se+ee+32768&32767,De=$e-E[$e]+32768&32767;De>Ge&&(Ge=De,B=$e)}}}se+=(J=B)-(B=E[J])+32768&32767}if(F){C[H++]=268435456|dS[ue]<<18|yM[F];var Ve=31&dS[ue],ot=31&yM[F];q+=aw[Ve]+lw[ot],++N[257+Ve],++U[ot],D=_+ue,++L}else C[H++]=s[_],++N[s[_]]}}b=bM(s,y,p,C,N,U,q,H,W,_-W,b)}return _P(v,0,d+bP(b)+u)}(e,t.level==null?6:t.level,t.mem==null?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):12+t.mem,n,r,!i)},pS=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},cz=function(e,t){var n=t.filename;if(e[0]=31,e[1]=139,e[2]=8,e[8]=t.level<2?4:t.level==9?2:0,e[9]=3,t.mtime!=0&&pS(e,4,Math.floor(new Date(t.mtime||Date.now())/1e3)),n){e[3]=8;for(var r=0;r<=n.length;++r)e[r+10]=n.charCodeAt(r)}},uz=function(e){return 10+(e.filename&&e.filename.length+1||0)};function SP(e,t){t===void 0&&(t={});var n=az(),r=e.length;n.p(e);var i=lz(e,t,uz(t),8),s=i.length;return cz(i,t),pS(i,s-8,n.d()),pS(i,s-4,r),i}function xP(e,t){var n=e.length;if(typeof TextEncoder<"u")return new TextEncoder().encode(e);for(var r=new Ls(e.length+(e.length>>>1)),i=0,s=function(u){r[i++]=u},l=0;l<n;++l){if(i+5>r.length){var c=new Ls(i+8+(n-l<<1));c.set(r),r=c}var d=e.charCodeAt(l);d<128||t?s(d):d<2048?(s(192|d>>>6),s(128|63&d)):d>55295&&d<57344?(s(240|(d=65536+(1047552&d)|1023&e.charCodeAt(++l))>>>18),s(128|d>>>12&63),s(128|d>>>6&63),s(128|63&d)):(s(224|d>>>12),s(128|d>>>6&63),s(128|63&d))}return _P(r,0,i)}var dz=3e5,fz=[no.MouseMove,no.MouseInteraction,no.Scroll,no.ViewportResize,no.Input,no.TouchMove,no.MediaInteraction,no.Drag],_M=e=>({rrwebMethod:e,enqueuedAt:Date.now(),attempt:1}),Wr="[SessionRecording]";function ac(e){return function(t,n){for(var r="",i=0;i<t.length;){var s=t[i++];s<128||n?r+=String.fromCharCode(s):s<224?r+=String.fromCharCode((31&s)<<6|63&t[i++]):s<240?r+=String.fromCharCode((15&s)<<12|(63&t[i++])<<6|63&t[i++]):(s=((15&s)<<18|(63&t[i++])<<12|(63&t[i++])<<6|63&t[i++])-65536,r+=String.fromCharCode(55296|s>>10,56320|1023&s))}return r}(SP(xP(JSON.stringify(e))),!0)}function SM(e){return e.type===da.Custom&&e.data.tag==="sessionIdle"}function xM(e,t){return t.some(n=>n.matching==="regex"&&new RegExp(n.url).test(e))}class hz{get sessionIdleThresholdMilliseconds(){return this.instance.config.session_recording.session_idle_threshold_ms||3e5}get rrwebRecord(){var t,n;return Tt==null||(t=Tt.__PosthogExtensions__)===null||t===void 0||(n=t.rrweb)===null||n===void 0?void 0:n.record}get started(){return this._captureStarted}get sessionManager(){if(!this.instance.sessionManager)throw new Error(Wr+" must be started with a valid sessionManager.");return this.instance.sessionManager}get fullSnapshotIntervalMillis(){var t,n;return this.triggerStatus==="trigger_pending"?6e4:(t=(n=this.instance.config.session_recording)===null||n===void 0?void 0:n.full_snapshot_interval_millis)!==null&&t!==void 0?t:dz}get isSampled(){var t=this.instance.get_property(Fh);return _c(t)?t:null}get sessionDuration(){var t,n,r=(t=this.buffer)===null||t===void 0?void 0:t.data[((n=this.buffer)===null||n===void 0?void 0:n.data.length)-1],{sessionStartTimestamp:i}=this.sessionManager.checkAndGetSessionAndWindowId(!0);return r?r.timestamp-i:null}get isRecordingEnabled(){var t=!!this.instance.get_property(W_),n=!this.instance.config.disable_session_recording;return fe&&t&&n}get isConsoleLogCaptureEnabled(){var t=!!this.instance.get_property(Jk),n=this.instance.config.enable_recording_console_log;return n??t}get canvasRecording(){var t,n,r,i,s,l,c=this.instance.config.session_recording.captureCanvas,d=this.instance.get_property(eM),u=(t=(n=c==null?void 0:c.recordCanvas)!==null&&n!==void 0?n:d==null?void 0:d.enabled)!==null&&t!==void 0&&t,p=(r=(i=c==null?void 0:c.canvasFps)!==null&&i!==void 0?i:d==null?void 0:d.fps)!==null&&r!==void 0?r:0,h=(s=(l=c==null?void 0:c.canvasQuality)!==null&&l!==void 0?l:d==null?void 0:d.quality)!==null&&s!==void 0?s:0;return{enabled:u,fps:Io(p,0,12,"canvas recording fps"),quality:Io(h,0,1,"canvas recording quality")}}get networkPayloadCapture(){var t,n,r=this.instance.get_property(Zk),i={recordHeaders:(t=this.instance.config.session_recording)===null||t===void 0?void 0:t.recordHeaders,recordBody:(n=this.instance.config.session_recording)===null||n===void 0?void 0:n.recordBody},s=(i==null?void 0:i.recordHeaders)||(r==null?void 0:r.recordHeaders),l=(i==null?void 0:i.recordBody)||(r==null?void 0:r.recordBody),c=Cr(this.instance.config.capture_performance)?this.instance.config.capture_performance.network_timing:this.instance.config.capture_performance,d=!!(_c(c)?c:r!=null&&r.capturePerformance);return s||l||d?{recordHeaders:s,recordBody:l,recordPerformance:d}:void 0}get sampleRate(){var t=this.instance.get_property(tM);return ns(t)?t:null}get minimumDuration(){var t=this.instance.get_property(nM);return ns(t)?t:null}get status(){return this.receivedDecide?this.isRecordingEnabled?this._urlBlocked?"paused":On(this._linkedFlag)||this._linkedFlagSeen?this.triggerStatus==="trigger_pending"?"buffering":_c(this.isSampled)?this.isSampled?"sampled":"disabled":"active":"buffering":"disabled":"buffering"}get urlTriggerStatus(){var t;return this._urlTriggers.length===0?"trigger_disabled":((t=this.instance)===null||t===void 0?void 0:t.get_property(n1))===this.sessionId?"trigger_activated":"trigger_pending"}get eventTriggerStatus(){var t;return this._eventTriggers.length===0?"trigger_disabled":((t=this.instance)===null||t===void 0?void 0:t.get_property(r1))===this.sessionId?"trigger_activated":"trigger_pending"}get triggerStatus(){var t=this.eventTriggerStatus==="trigger_activated"||this.urlTriggerStatus==="trigger_activated",n=this.eventTriggerStatus==="trigger_pending"||this.urlTriggerStatus==="trigger_pending";return t?"trigger_activated":n?"trigger_pending":"trigger_disabled"}constructor(t){if(ze(this,"queuedRRWebEvents",[]),ze(this,"isIdle",!1),ze(this,"_linkedFlagSeen",!1),ze(this,"_lastActivityTimestamp",Date.now()),ze(this,"_linkedFlag",null),ze(this,"_removePageViewCaptureHook",void 0),ze(this,"_onSessionIdListener",void 0),ze(this,"_persistDecideOnSessionListener",void 0),ze(this,"_samplingSessionListener",void 0),ze(this,"_urlTriggers",[]),ze(this,"_urlBlocklist",[]),ze(this,"_urlBlocked",!1),ze(this,"_eventTriggers",[]),ze(this,"_removeEventTriggerCaptureHook",void 0),ze(this,"_forceAllowLocalhostNetworkCapture",!1),ze(this,"_onBeforeUnload",()=>{this._flushBuffer()}),ze(this,"_onOffline",()=>{this._tryAddCustomEvent("browser offline",{})}),ze(this,"_onOnline",()=>{this._tryAddCustomEvent("browser online",{})}),ze(this,"_onVisibilityChange",()=>{if(He!=null&&He.visibilityState){var i="window "+He.visibilityState;this._tryAddCustomEvent(i,{})}}),this.instance=t,this._captureStarted=!1,this._endpoint="/s/",this.stopRrweb=void 0,this.receivedDecide=!1,!this.instance.sessionManager)throw xe.error(Wr+" started without valid sessionManager"),new Error(Wr+" started without valid sessionManager. This is a bug.");var{sessionId:n,windowId:r}=this.sessionManager.checkAndGetSessionAndWindowId();this.sessionId=n,this.windowId=r,this.buffer=this.clearBuffer(),this.sessionIdleThresholdMilliseconds>=this.sessionManager.sessionTimeoutMs&&xe.warn(Wr+" session_idle_threshold_ms (".concat(this.sessionIdleThresholdMilliseconds,") is greater than the session timeout (").concat(this.sessionManager.sessionTimeoutMs,"). Session will never be detected as idle"))}startIfEnabledOrStop(t){this.isRecordingEnabled?(this._startCapture(t),fe==null||fe.addEventListener("beforeunload",this._onBeforeUnload),fe==null||fe.addEventListener("offline",this._onOffline),fe==null||fe.addEventListener("online",this._onOnline),fe==null||fe.addEventListener("visibilitychange",this._onVisibilityChange),this._setupSampling(),this._addEventTriggerListener(),On(this._removePageViewCaptureHook)&&(this._removePageViewCaptureHook=this.instance.on("eventCaptured",n=>{try{if(n.event==="$pageview"){var r=n!=null&&n.properties.$current_url?this._maskUrl(n==null?void 0:n.properties.$current_url):"";if(!r)return;this._tryAddCustomEvent("$pageview",{href:r})}}catch(i){xe.error("Could not add $pageview to rrweb session",i)}})),this._onSessionIdListener||(this._onSessionIdListener=this.sessionManager.onSessionId((n,r,i)=>{var s,l,c,d;i&&(this._tryAddCustomEvent("$session_id_change",{sessionId:n,windowId:r,changeReason:i}),(s=this.instance)===null||s===void 0||(l=s.persistence)===null||l===void 0||l.unregister(r1),(c=this.instance)===null||c===void 0||(d=c.persistence)===null||d===void 0||d.unregister(n1))}))):this.stopRecording()}stopRecording(){var t,n,r,i;this._captureStarted&&this.stopRrweb&&(this.stopRrweb(),this.stopRrweb=void 0,this._captureStarted=!1,fe==null||fe.removeEventListener("beforeunload",this._onBeforeUnload),fe==null||fe.removeEventListener("offline",this._onOffline),fe==null||fe.removeEventListener("online",this._onOnline),fe==null||fe.removeEventListener("visibilitychange",this._onVisibilityChange),this.clearBuffer(),clearInterval(this._fullSnapshotTimer),(t=this._removePageViewCaptureHook)===null||t===void 0||t.call(this),this._removePageViewCaptureHook=void 0,(n=this._removeEventTriggerCaptureHook)===null||n===void 0||n.call(this),this._removeEventTriggerCaptureHook=void 0,(r=this._onSessionIdListener)===null||r===void 0||r.call(this),this._onSessionIdListener=void 0,(i=this._samplingSessionListener)===null||i===void 0||i.call(this),this._samplingSessionListener=void 0,xe.info(Wr+" stopped"))}makeSamplingDecision(t){var n,r=this.sessionId!==t,i=this.sampleRate;if(ns(i)){var s,l=this.isSampled,c=r||!_c(l);c?s=Math.random()<i:s=l,c&&(s?this._reportStarted("sampled"):xe.warn(Wr+" Sample rate (".concat(i,") has determined that this sessionId (").concat(t,") will not be sent to the server.")),this._tryAddCustomEvent("samplingDecisionMade",{sampleRate:i,isSampled:s})),(n=this.instance.persistence)===null||n===void 0||n.register({[Fh]:s})}else{var d;(d=this.instance.persistence)===null||d===void 0||d.register({[Fh]:null})}}afterDecideResponse(t){var n,r,i,s,l,c;if(this._persistDecideResponse(t),this._linkedFlag=((n=t.sessionRecording)===null||n===void 0?void 0:n.linkedFlag)||null,(r=t.sessionRecording)!==null&&r!==void 0&&r.endpoint&&(this._endpoint=(c=t.sessionRecording)===null||c===void 0?void 0:c.endpoint),this._setupSampling(),!On(this._linkedFlag)&&!this._linkedFlagSeen){var d=fi(this._linkedFlag)?this._linkedFlag:this._linkedFlag.flag,u=fi(this._linkedFlag)?null:this._linkedFlag.variant;this.instance.onFeatureFlags((p,h)=>{var v=Cr(h)&&d in h,y=u?h[d]===u:v;y&&this._reportStarted("linked_flag_matched",{linkedFlag:d,linkedVariant:u}),this._linkedFlagSeen=y})}(i=t.sessionRecording)!==null&&i!==void 0&&i.urlTriggers&&(this._urlTriggers=t.sessionRecording.urlTriggers),(s=t.sessionRecording)!==null&&s!==void 0&&s.urlBlocklist&&(this._urlBlocklist=t.sessionRecording.urlBlocklist),(l=t.sessionRecording)!==null&&l!==void 0&&l.eventTriggers&&(this._eventTriggers=t.sessionRecording.eventTriggers),this.receivedDecide=!0,this.startIfEnabledOrStop()}_setupSampling(){ns(this.sampleRate)&&On(this._samplingSessionListener)&&(this._samplingSessionListener=this.sessionManager.onSessionId(t=>{this.makeSamplingDecision(t)}))}_persistDecideResponse(t){if(this.instance.persistence){var n,r=this.instance.persistence,i=()=>{var s,l,c,d,u,p,h,v,y=(s=t.sessionRecording)===null||s===void 0?void 0:s.sampleRate,b=On(y)?null:parseFloat(y),_=(l=t.sessionRecording)===null||l===void 0?void 0:l.minimumDurationMilliseconds;r.register({[W_]:!!t.sessionRecording,[Jk]:(c=t.sessionRecording)===null||c===void 0?void 0:c.consoleLogRecordingEnabled,[Zk]:Oe({capturePerformance:t.capturePerformance},(d=t.sessionRecording)===null||d===void 0?void 0:d.networkPayloadCapture),[eM]:{enabled:(u=t.sessionRecording)===null||u===void 0?void 0:u.recordCanvas,fps:(p=t.sessionRecording)===null||p===void 0?void 0:p.canvasFps,quality:(h=t.sessionRecording)===null||h===void 0?void 0:h.canvasQuality},[tM]:b,[nM]:et(_)?null:_,[rM]:(v=t.sessionRecording)===null||v===void 0?void 0:v.scriptConfig})};i(),(n=this._persistDecideOnSessionListener)===null||n===void 0||n.call(this),this._persistDecideOnSessionListener=this.sessionManager.onSessionId(i)}}log(t){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"log";(n=this.instance.sessionRecording)===null||n===void 0||n.onRRwebEmit({type:6,data:{plugin:"rrweb/console@1",payload:{level:r,trace:[],payload:[JSON.stringify(t)]}},timestamp:Date.now()})}_startCapture(t){if(!et(Object.assign)&&!et(Array.from)&&!(this._captureStarted||this.instance.config.disable_session_recording||this.instance.consent.isOptedOut())){var n,r;this._captureStarted=!0,this.sessionManager.checkAndGetSessionAndWindowId(),this.rrwebRecord?this._onScriptLoaded():(n=Tt.__PosthogExtensions__)===null||n===void 0||(r=n.loadExternalDependency)===null||r===void 0||r.call(n,this.instance,this.scriptName,i=>{if(i)return xe.error(Wr+" could not load recorder",i);this._onScriptLoaded()}),xe.info(Wr+" starting"),this.status==="active"&&this._reportStarted(t||"recording_initialized")}}get scriptName(){var t,n,r;return((t=this.instance)===null||t===void 0||(n=t.persistence)===null||n===void 0||(r=n.get_property(rM))===null||r===void 0?void 0:r.script)||"recorder"}isInteractiveEvent(t){var n;return t.type===3&&fz.indexOf((n=t.data)===null||n===void 0?void 0:n.source)!==-1}_updateWindowAndSessionIds(t){var n=this.isInteractiveEvent(t);n||this.isIdle||t.timestamp-this._lastActivityTimestamp>this.sessionIdleThresholdMilliseconds&&(this.isIdle=!0,clearInterval(this._fullSnapshotTimer),this._tryAddCustomEvent("sessionIdle",{eventTimestamp:t.timestamp,lastActivityTimestamp:this._lastActivityTimestamp,threshold:this.sessionIdleThresholdMilliseconds,bufferLength:this.buffer.data.length,bufferSize:this.buffer.size}),this._flushBuffer());var r=!1;if(n&&(this._lastActivityTimestamp=t.timestamp,this.isIdle&&(this.isIdle=!1,this._tryAddCustomEvent("sessionNoLongerIdle",{reason:"user activity",type:t.type}),r=!0)),!this.isIdle){var{windowId:i,sessionId:s}=this.sessionManager.checkAndGetSessionAndWindowId(!n,t.timestamp),l=this.sessionId!==s,c=this.windowId!==i;this.windowId=i,this.sessionId=s,l||c?(this.stopRecording(),this.startIfEnabledOrStop("session_id_changed")):r&&this._scheduleFullSnapshot()}}_tryRRWebMethod(t){try{return t.rrwebMethod(),!0}catch(n){return this.queuedRRWebEvents.length<10?this.queuedRRWebEvents.push({enqueuedAt:t.enqueuedAt||Date.now(),attempt:t.attempt++,rrwebMethod:t.rrwebMethod}):xe.warn(Wr+" could not emit queued rrweb event.",n,t),!1}}_tryAddCustomEvent(t,n){return this._tryRRWebMethod(_M(()=>this.rrwebRecord.addCustomEvent(t,n)))}_tryTakeFullSnapshot(){return this._tryRRWebMethod(_M(()=>this.rrwebRecord.takeFullSnapshot()))}_onScriptLoaded(){var t,n={blockClass:"ph-no-capture",blockSelector:void 0,ignoreClass:"ph-ignore-input",maskTextClass:"ph-mask",maskTextSelector:void 0,maskTextFn:void 0,maskAllInputs:!0,maskInputOptions:{password:!0},maskInputFn:void 0,slimDOMOptions:{},collectFonts:!1,inlineStylesheet:!0,recordCrossOriginIframes:!1},r=this.instance.config.session_recording;for(var[i,s]of Object.entries(r||{}))i in n&&(i==="maskInputOptions"?n.maskInputOptions=Oe({password:!0},s):n[i]=s);if(this.canvasRecording&&this.canvasRecording.enabled&&(n.recordCanvas=!0,n.sampling={canvas:this.canvasRecording.fps},n.dataURLOptions={type:"image/webp",quality:this.canvasRecording.quality}),this.rrwebRecord){this.mutationRateLimiter=(t=this.mutationRateLimiter)!==null&&t!==void 0?t:new tz(this.rrwebRecord,{refillRate:this.instance.config.session_recording.__mutationRateLimiterRefillRate,bucketSize:this.instance.config.session_recording.__mutationRateLimiterBucketSize,onBlockedNode:(c,d)=>{var u="Too many mutations on node '".concat(c,"'. Rate limiting. This could be due to SVG animations or something similar");xe.info(u,{node:d}),this.log(Wr+" "+u,"warn")}});var l=this._gatherRRWebPlugins();this.stopRrweb=this.rrwebRecord(Oe({emit:c=>{this.onRRwebEmit(c)},plugins:l},n)),this._lastActivityTimestamp=Date.now(),this.isIdle=!1,this._tryAddCustomEvent("$session_options",{sessionRecordingOptions:n,activePlugins:l.map(c=>c==null?void 0:c.name)}),this._tryAddCustomEvent("$posthog_config",{config:this.instance.config})}else xe.error(Wr+"onScriptLoaded was called but rrwebRecord is not available. This indicates something has gone wrong.")}_scheduleFullSnapshot(){if(this._fullSnapshotTimer&&clearInterval(this._fullSnapshotTimer),!this.isIdle){var t=this.fullSnapshotIntervalMillis;t&&(this._fullSnapshotTimer=setInterval(()=>{this._tryTakeFullSnapshot()},t))}}_gatherRRWebPlugins(){var t,n,r,i,s=[],l=(t=Tt.__PosthogExtensions__)===null||t===void 0||(n=t.rrwebPlugins)===null||n===void 0?void 0:n.getRecordConsolePlugin;l&&this.isConsoleLogCaptureEnabled&&s.push(l());var c=(r=Tt.__PosthogExtensions__)===null||r===void 0||(i=r.rrwebPlugins)===null||i===void 0?void 0:i.getRecordNetworkPlugin;return this.networkPayloadCapture&&Ds(c)&&(!IF.includes(location.hostname)||this._forceAllowLocalhostNetworkCapture?s.push(c(ez(this.instance.config,this.networkPayloadCapture))):xe.info(Wr+" NetworkCapture not started because we are on localhost.")),s}onRRwebEmit(t){var n;if(this._processQueuedEvents(),t&&Cr(t)){if(t.type===da.Meta){var r=this._maskUrl(t.data.href);if(this._lastHref=r,!r)return;t.data.href=r}else this._pageViewFallBack();if(this._checkUrlTriggerConditions(),this.status!=="paused"||function(h){return h.type===da.Custom&&h.data.tag==="recording paused"}(t)){t.type===da.FullSnapshot&&this._scheduleFullSnapshot(),t.type===da.FullSnapshot&&this.triggerStatus==="trigger_pending"&&this.clearBuffer();var i=this.mutationRateLimiter?this.mutationRateLimiter.throttleMutations(t):t;if(i){var s=function(h){var v=h;if(v&&Cr(v)&&v.type===6&&Cr(v.data)&&v.data.plugin==="rrweb/console@1"){v.data.payload.payload.length>10&&(v.data.payload.payload=v.data.payload.payload.slice(0,10),v.data.payload.payload.push("...[truncated]"));for(var y=[],b=0;b<v.data.payload.payload.length;b++)v.data.payload.payload[b]&&v.data.payload.payload[b].length>2e3?y.push(v.data.payload.payload[b].slice(0,2e3)+"...[truncated]"):y.push(v.data.payload.payload[b]);return v.data.payload.payload=y,h}return h}(i);if(this._updateWindowAndSessionIds(s),!this.isIdle||SM(s)){if(SM(s)){var l=s.data.payload;if(l){var c=l.lastActivityTimestamp,d=l.threshold;s.timestamp=c+d}}var u=(n=this.instance.config.session_recording.compress_events)===null||n===void 0||n?function(h){if(J0(h)<1024)return h;try{if(h.type===da.FullSnapshot)return Oe(Oe({},h),{},{data:ac(h.data),cv:"2024-10"});if(h.type===da.IncrementalSnapshot&&h.data.source===no.Mutation)return Oe(Oe({},h),{},{cv:"2024-10",data:Oe(Oe({},h.data),{},{texts:ac(h.data.texts),attributes:ac(h.data.attributes),removes:ac(h.data.removes),adds:ac(h.data.adds)})});if(h.type===da.IncrementalSnapshot&&h.data.source===no.StyleSheetRule)return Oe(Oe({},h),{},{cv:"2024-10",data:Oe(Oe({},h.data),{},{adds:ac(h.data.adds),removes:ac(h.data.removes)})})}catch(v){xe.error(Wr+" could not compress event - will use uncompressed event",v)}return h}(s):s,p={$snapshot_bytes:J0(u),$snapshot_data:u,$session_id:this.sessionId,$window_id:this.windowId};this.status!=="disabled"?this._captureSnapshotBuffered(p):this.clearBuffer()}}}}}_pageViewFallBack(){if(!this.instance.config.capture_pageview&&fe){var t=this._maskUrl(fe.location.href);this._lastHref!==t&&(this._tryAddCustomEvent("$url_changed",{href:t}),this._lastHref=t)}}_processQueuedEvents(){if(this.queuedRRWebEvents.length){var t=[...this.queuedRRWebEvents];this.queuedRRWebEvents=[],t.forEach(n=>{Date.now()-n.enqueuedAt<=2e3&&this._tryRRWebMethod(n)})}}_maskUrl(t){var n=this.instance.config.session_recording;if(n.maskNetworkRequestFn){var r,i={url:t};return(r=i=n.maskNetworkRequestFn(i))===null||r===void 0?void 0:r.url}return t}clearBuffer(){return this.buffer={size:0,data:[],sessionId:this.sessionId,windowId:this.windowId},this.buffer}_flushBuffer(){this.flushBufferTimer&&(clearTimeout(this.flushBufferTimer),this.flushBufferTimer=void 0);var t=this.minimumDuration,n=this.sessionDuration,r=ns(n)&&n>=0,i=ns(t)&&r&&n<t;return this.status==="buffering"||i?(this.flushBufferTimer=setTimeout(()=>{this._flushBuffer()},2e3),this.buffer):(this.buffer.data.length>0&&oS(this.buffer).forEach(s=>{this._captureSnapshot({$snapshot_bytes:s.size,$snapshot_data:s.data,$session_id:s.sessionId,$window_id:s.windowId})}),this.clearBuffer())}_captureSnapshotBuffered(t){var n,r=2+(((n=this.buffer)===null||n===void 0?void 0:n.data.length)||0);!this.isIdle&&(this.buffer.size+t.$snapshot_bytes+r>943718.4||this.buffer.sessionId!==this.sessionId)&&(this.buffer=this._flushBuffer()),this.buffer.size+=t.$snapshot_bytes,this.buffer.data.push(t.$snapshot_data),this.flushBufferTimer||this.isIdle||(this.flushBufferTimer=setTimeout(()=>{this._flushBuffer()},2e3))}_captureSnapshot(t){this.instance.capture("$snapshot",t,{_url:this.instance.requestRouter.endpointFor("api",this._endpoint),_noTruncate:!0,_batchKey:"recordings",skip_client_rate_limiting:!0})}_checkUrlTriggerConditions(){if(fe!==void 0&&fe.location.href){var t=fe.location.href,n=this.status==="paused",r=xM(t,this._urlBlocklist);r&&!n?this._pauseRecording():!r&&n&&this._resumeRecording(),xM(t,this._urlTriggers)&&this._activateTrigger("url")}}_activateTrigger(t){var n,r;this.triggerStatus==="trigger_pending"&&((n=this.instance)===null||n===void 0||(r=n.persistence)===null||r===void 0||r.register({[t==="url"?n1:r1]:this.sessionId}),this._flushBuffer(),this._reportStarted(t+"_trigger_matched"))}_pauseRecording(){var t,n;this.status!=="paused"&&(this._urlBlocked=!0,He==null||(t=He.body)===null||t===void 0||(n=t.classList)===null||n===void 0||n.add("ph-no-capture"),clearInterval(this._fullSnapshotTimer),setTimeout(()=>{this._flushBuffer()},100),xe.info(Wr+" recording paused due to URL blocker"),this._tryAddCustomEvent("recording paused",{reason:"url blocker"}))}_resumeRecording(){var t,n;this.status==="paused"&&(this._urlBlocked=!1,He==null||(t=He.body)===null||t===void 0||(n=t.classList)===null||n===void 0||n.remove("ph-no-capture"),this._tryTakeFullSnapshot(),this._scheduleFullSnapshot(),this._tryAddCustomEvent("recording resumed",{reason:"left blocked url"}),xe.info(Wr+" recording resumed"))}_addEventTriggerListener(){this._eventTriggers.length!==0&&On(this._removeEventTriggerCaptureHook)&&(this._removeEventTriggerCaptureHook=this.instance.on("eventCaptured",t=>{try{this._eventTriggers.includes(t.event)&&this._activateTrigger("event")}catch(n){xe.error(Wr+"Could not activate event trigger",n)}}))}overrideLinkedFlag(){this._linkedFlagSeen=!0,this._reportStarted("linked_flag_overridden")}overrideSampling(){var t;(t=this.instance.persistence)===null||t===void 0||t.register({[Fh]:!0}),this._reportStarted("sampling_overridden")}overrideTrigger(t){this._activateTrigger(t)}_reportStarted(t,n){this.instance.register_for_session({$session_recording_start_reason:t}),xe.info(Wr+" "+t.replace("_"," "),n),$t(["recording_initialized","session_id_changed"],t)||this._tryAddCustomEvent(t,n)}}class pz{constructor(t){this.instance=t,this.instance.decideEndpointWasHit=this.instance._hasBootstrappedFeatureFlags()}call(){var t={token:this.instance.config.token,distinct_id:this.instance.get_distinct_id(),groups:this.instance.getGroups(),person_properties:this.instance.get_property(dd),group_properties:this.instance.get_property(ul),disable_flags:this.instance.config.advanced_disable_feature_flags||this.instance.config.advanced_disable_feature_flags_on_first_load||void 0};this.instance._send_request({method:"POST",url:this.instance.requestRouter.endpointFor("api","/decide/?v=3"),data:t,compression:this.instance.config.disable_compression?void 0:so.Base64,timeout:this.instance.config.feature_flag_request_timeout_ms,callback:n=>this.parseDecideResponse(n.json)})}parseDecideResponse(t){this.instance.featureFlags.setReloadingPaused(!1),this.instance.featureFlags._startReloadTimer();var n=!t;if(this.instance.config.advanced_disable_feature_flags_on_first_load||this.instance.config.advanced_disable_feature_flags||this.instance.featureFlags.receivedFeatureFlags(t??{},n),!n)return He&&He.body?void this.instance._afterDecideResponse(t):(xe.info("document not ready yet, trying again in 500 milliseconds..."),void setTimeout(()=>{this.parseDecideResponse(t)},500));xe.error("Failed to fetch feature flags from PostHog.")}}var fa,gz=fe!=null&&fe.location?Q0(fe.location.hash,"__posthog")||Q0(location.hash,"state"):null,wM="_postHogToolbarParams";(function(e){e[e.UNINITIALIZED=0]="UNINITIALIZED",e[e.LOADING=1]="LOADING",e[e.LOADED=2]="LOADED"})(fa||(fa={}));class mz{constructor(t){this.instance=t}setToolbarState(t){Tt.ph_toolbar_state=t}getToolbarState(){var t;return(t=Tt.ph_toolbar_state)!==null&&t!==void 0?t:fa.UNINITIALIZED}maybeLoadToolbar(){var t,n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;if(!fe||!He)return!1;r=(t=r)!==null&&t!==void 0?t:fe.location,s=(n=s)!==null&&n!==void 0?n:fe.history;try{if(!i){try{fe.localStorage.setItem("test","test"),fe.localStorage.removeItem("test")}catch{return!1}i=fe==null?void 0:fe.localStorage}var l,c=gz||Q0(r.hash,"__posthog")||Q0(r.hash,"state"),d=c?Uk(()=>JSON.parse(atob(decodeURIComponent(c))))||Uk(()=>JSON.parse(decodeURIComponent(c))):null;return d&&d.action==="ph_authorize"?((l=d).source="url",l&&Object.keys(l).length>0&&(d.desiredHash?r.hash=d.desiredHash:s?s.replaceState(s.state,"",r.pathname+r.search):r.hash="")):((l=JSON.parse(i.getItem(wM)||"{}")).source="localstorage",delete l.userIntent),!(!l.token||this.instance.config.token!==l.token)&&(this.loadToolbar(l),!0)}catch{return!1}}_callLoadToolbar(t){(Tt.ph_load_toolbar||Tt.ph_load_editor)(t,this.instance)}loadToolbar(t){var n=!(He==null||!He.getElementById(Hj));if(!fe||n)return!1;var r=this.instance.requestRouter.region==="custom"&&this.instance.config.advanced_disable_toolbar_metrics,i=Oe(Oe({token:this.instance.config.token},t),{},{apiURL:this.instance.requestRouter.endpointFor("ui")},r?{instrument:!1}:{});if(fe.localStorage.setItem(wM,JSON.stringify(Oe(Oe({},i),{},{source:void 0}))),this.getToolbarState()===fa.LOADED)this._callLoadToolbar(i);else if(this.getToolbarState()===fa.UNINITIALIZED){var s,l;this.setToolbarState(fa.LOADING),(s=Tt.__PosthogExtensions__)===null||s===void 0||(l=s.loadExternalDependency)===null||l===void 0||l.call(s,this.instance,"toolbar",c=>{if(c)return xe.error("Failed to load toolbar",c),void this.setToolbarState(fa.UNINITIALIZED);this.setToolbarState(fa.LOADED),this._callLoadToolbar(i)}),ga(fe,"turbolinks:load",()=>{this.setToolbarState(fa.UNINITIALIZED),this.loadToolbar(i)})}return!0}_loadEditor(t){return this.loadToolbar(t)}maybeLoadEditor(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;return this.maybeLoadToolbar(t,n,r)}}class vz{constructor(t){ze(this,"isPaused",!0),ze(this,"queue",[]),ze(this,"flushTimeoutMs",3e3),this.sendRequest=t}enqueue(t){this.queue.push(t),this.flushTimeout||this.setFlushTimeout()}unload(){this.clearFlushTimeout();var t=this.queue.length>0?this.formatQueue():{},n=Object.values(t),r=[...n.filter(i=>i.url.indexOf("/e")===0),...n.filter(i=>i.url.indexOf("/e")!==0)];r.map(i=>{this.sendRequest(Oe(Oe({},i),{},{transport:"sendBeacon"}))})}enable(){this.isPaused=!1,this.setFlushTimeout()}setFlushTimeout(){var t=this;this.isPaused||(this.flushTimeout=setTimeout(()=>{if(this.clearFlushTimeout(),this.queue.length>0){var n=this.formatQueue(),r=function(s){var l=n[s],c=new Date().getTime();l.data&&mr(l.data)&&wn(l.data,d=>{d.offset=Math.abs(d.timestamp-c),delete d.timestamp}),t.sendRequest(l)};for(var i in n)r(i)}},this.flushTimeoutMs))}clearFlushTimeout(){clearTimeout(this.flushTimeout),this.flushTimeout=void 0}formatQueue(){var t={};return wn(this.queue,n=>{var r,i=n,s=(i?i.batchKey:null)||i.url;et(t[s])&&(t[s]=Oe(Oe({},i),{},{data:[]})),(r=t[s].data)===null||r===void 0||r.push(i.data)}),this.queue=[],t}}var yz=!!G_||!!q_,EM="text/plain",tv=(e,t)=>{var[n,r]=e.split("?"),i=Oe({},t);r==null||r.split("&").forEach(l=>{var[c]=l.split("=");delete i[c]});var s=OF(i);return s=s?(r?r+"&":"")+s:r,"".concat(n,"?").concat(s)},ym=(e,t)=>JSON.stringify(e,(n,r)=>typeof r=="bigint"?r.toString():r,t),c1=e=>{var{data:t,compression:n}=e;if(t){if(n===so.GZipJS){var r=SP(xP(ym(t)),{mtime:0}),i=new Blob([r],{type:EM});return{contentType:EM,body:i,estimatedSize:i.size}}if(n===so.Base64){var s=function(d){var u,p,h,v,y,b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_=0,w=0,T="",k=[];if(!d)return d;d=mF(d);do u=(y=d.charCodeAt(_++)<<16|d.charCodeAt(_++)<<8|d.charCodeAt(_++))>>18&63,p=y>>12&63,h=y>>6&63,v=63&y,k[w++]=b.charAt(u)+b.charAt(p)+b.charAt(h)+b.charAt(v);while(_<d.length);switch(T=k.join(""),d.length%3){case 1:T=T.slice(0,-2)+"==";break;case 2:T=T.slice(0,-1)+"="}return T}(ym(t)),l=(d=>"data="+encodeURIComponent(typeof d=="string"?d:ym(d)))(s);return{contentType:"application/x-www-form-urlencoded",body:l,estimatedSize:new Blob([l]).size}}var c=ym(t);return{contentType:"application/json",body:c,estimatedSize:new Blob([c]).size}}},Jh=[];G_&&Jh.push({transport:"XHR",method:e=>{var t,n=new G_;n.open(e.method||"GET",e.url,!0);var{contentType:r,body:i}=(t=c1(e))!==null&&t!==void 0?t:{};wn(e.headers,function(s,l){n.setRequestHeader(l,s)}),r&&n.setRequestHeader("Content-Type",r),e.timeout&&(n.timeout=e.timeout),n.withCredentials=!0,n.onreadystatechange=()=>{if(n.readyState===4){var s,l={statusCode:n.status,text:n.responseText};if(n.status===200)try{l.json=JSON.parse(n.responseText)}catch{}(s=e.callback)===null||s===void 0||s.call(e,l)}},n.send(i)}}),q_&&Jh.push({transport:"fetch",method:e=>{var t,n,{contentType:r,body:i,estimatedSize:s}=(t=c1(e))!==null&&t!==void 0?t:{},l=new Headers;wn(e.headers,function(p,h){l.append(h,p)}),r&&l.append("Content-Type",r);var c=e.url,d=null;if($k){var u=new $k;d={signal:u.signal,timeout:setTimeout(()=>u.abort(),e.timeout)}}q_(c,{method:(e==null?void 0:e.method)||"GET",headers:l,keepalive:e.method==="POST"&&(s||0)<52428.8,body:i,signal:(n=d)===null||n===void 0?void 0:n.signal}).then(p=>p.text().then(h=>{var v,y={statusCode:p.status,text:h};if(p.status===200)try{y.json=JSON.parse(h)}catch(b){xe.error(b)}(v=e.callback)===null||v===void 0||v.call(e,y)})).catch(p=>{var h;xe.error(p),(h=e.callback)===null||h===void 0||h.call(e,{statusCode:0,text:p})}).finally(()=>d?clearTimeout(d.timeout):null)}}),is!=null&&is.sendBeacon&&Jh.push({transport:"sendBeacon",method:e=>{var t=tv(e.url,{beacon:"1"});try{var n,{contentType:r,body:i}=(n=c1(e))!==null&&n!==void 0?n:{},s=typeof i=="string"?new Blob([i],{type:r}):i;is.sendBeacon(t,s)}catch{}}});var Az=["retriesPerformedSoFar"];class bz{constructor(t){ze(this,"isPolling",!1),ze(this,"pollIntervalMs",3e3),ze(this,"queue",[]),this.instance=t,this.queue=[],this.areWeOnline=!0,!et(fe)&&"onLine"in fe.navigator&&(this.areWeOnline=fe.navigator.onLine,fe.addEventListener("online",()=>{this.areWeOnline=!0,this.flush()}),fe.addEventListener("offline",()=>{this.areWeOnline=!1}))}retriableRequest(t){var{retriesPerformedSoFar:n}=t,r=zj(t,Az);ns(n)&&n>0&&(r.url=tv(r.url,{retry_count:n})),this.instance._send_request(Oe(Oe({},r),{},{callback:i=>{var s;i.statusCode!==200&&(i.statusCode<400||i.statusCode>=500)&&(n??0)<10?this.enqueue(Oe({retriesPerformedSoFar:n},r)):(s=r.callback)===null||s===void 0||s.call(r,i)}}))}enqueue(t){var n=t.retriesPerformedSoFar||0;t.retriesPerformedSoFar=n+1;var r=function(l){var c=3e3*Math.pow(2,l),d=c/2,u=Math.min(18e5,c),p=(Math.random()-.5)*(u-d);return Math.ceil(u+p)}(n),i=Date.now()+r;this.queue.push({retryAt:i,requestOptions:t});var s="Enqueued failed request for retry in ".concat(r);navigator.onLine||(s+=" (Browser is offline)"),xe.warn(s),this.isPolling||(this.isPolling=!0,this.poll())}poll(){this.poller&&clearTimeout(this.poller),this.poller=setTimeout(()=>{this.areWeOnline&&this.queue.length>0&&this.flush(),this.poll()},this.pollIntervalMs)}flush(){var t=Date.now(),n=[],r=this.queue.filter(s=>s.retryAt<t||(n.push(s),!1));if(this.queue=n,r.length>0)for(var{requestOptions:i}of r)this.retriableRequest(i)}unload(){for(var{requestOptions:t}of(this.poller&&(clearTimeout(this.poller),this.poller=void 0),this.queue))try{this.instance._send_request(Oe(Oe({},t),{},{transport:"sendBeacon"}))}catch(n){xe.error(n)}this.queue=[]}}var Sc;class _z{constructor(t,n,r){var i;if(ze(this,"_sessionIdChangedHandlers",[]),!t.persistence)throw new Error("SessionIdManager requires a PostHogPersistence instance");this.config=t.config,this.persistence=t.persistence,this._windowId=void 0,this._sessionId=void 0,this._sessionStartTimestamp=null,this._sessionActivityTimestamp=null,this._sessionIdGenerator=n||pl,this._windowIdGenerator=r||pl;var s=this.config.persistence_name||this.config.token,l=this.config.session_idle_timeout_seconds||1800;if(this._sessionTimeoutMs=1e3*Io(l,60,36e3,"session_idle_timeout_seconds",1800),t.register({$configured_session_timeout_ms:this._sessionTimeoutMs}),this._window_id_storage_key="ph_"+s+"_window_id",this._primary_window_exists_storage_key="ph_"+s+"_primary_window_exists",this._canUseSessionStorage()){var c=ei.parse(this._window_id_storage_key),d=ei.parse(this._primary_window_exists_storage_key);c&&!d?this._windowId=c:ei.remove(this._window_id_storage_key),ei.set(this._primary_window_exists_storage_key,!0)}if((i=this.config.bootstrap)!==null&&i!==void 0&&i.sessionID)try{var u=(p=>{var h=p.replace(/-/g,"");if(h.length!==32)throw new Error("Not a valid UUID");if(h[12]!=="7")throw new Error("Not a UUIDv7");return parseInt(h.substring(0,12),16)})(this.config.bootstrap.sessionID);this._setSessionId(this.config.bootstrap.sessionID,new Date().getTime(),u)}catch(p){xe.error("Invalid sessionID in bootstrap",p)}this._listenToReloadWindow()}get sessionTimeoutMs(){return this._sessionTimeoutMs}onSessionId(t){return et(this._sessionIdChangedHandlers)&&(this._sessionIdChangedHandlers=[]),this._sessionIdChangedHandlers.push(t),this._sessionId&&t(this._sessionId,this._windowId),()=>{this._sessionIdChangedHandlers=this._sessionIdChangedHandlers.filter(n=>n!==t)}}_canUseSessionStorage(){return this.config.persistence!=="memory"&&!this.persistence.disabled&&ei.is_supported()}_setWindowId(t){t!==this._windowId&&(this._windowId=t,this._canUseSessionStorage()&&ei.set(this._window_id_storage_key,t))}_getWindowId(){return this._windowId?this._windowId:this._canUseSessionStorage()?ei.parse(this._window_id_storage_key):null}_setSessionId(t,n,r){t===this._sessionId&&n===this._sessionActivityTimestamp&&r===this._sessionStartTimestamp||(this._sessionStartTimestamp=r,this._sessionActivityTimestamp=n,this._sessionId=t,this.persistence.register({[q0]:[n,t,r]}))}_getSessionId(){if(this._sessionId&&this._sessionActivityTimestamp&&this._sessionStartTimestamp)return[this._sessionActivityTimestamp,this._sessionId,this._sessionStartTimestamp];var t=this.persistence.props[q0];return mr(t)&&t.length===2&&t.push(t[0]),t||[0,null,0]}resetSessionId(){this._setSessionId(null,null,null)}_listenToReloadWindow(){fe==null||fe.addEventListener("beforeunload",()=>{this._canUseSessionStorage()&&ei.remove(this._primary_window_exists_storage_key)})}checkAndGetSessionAndWindowId(){var t=arguments.length>0&&arguments[0]!==void 0&&arguments[0],n=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:null)||new Date().getTime(),[r,i,s]=this._getSessionId(),l=this._getWindowId(),c=ns(s)&&s>0&&Math.abs(n-s)>864e5,d=!1,u=!i,p=!t&&Math.abs(n-r)>this.sessionTimeoutMs;u||p||c?(i=this._sessionIdGenerator(),l=this._windowIdGenerator(),xe.info("[SessionId] new session ID generated",{sessionId:i,windowId:l,changeReason:{noSessionId:u,activityTimeout:p,sessionPastMaximumLength:c}}),s=n,d=!0):l||(l=this._windowIdGenerator(),d=!0);var h=r===0||!t||c?n:r,v=s===0?new Date().getTime():s;return this._setWindowId(l),this._setSessionId(i,h,v),d&&this._sessionIdChangedHandlers.forEach(y=>y(i,l,d?{noSessionId:u,activityTimeout:p,sessionPastMaximumLength:c}:void 0)),{sessionId:i,windowId:l,sessionStartTimestamp:v,changeReason:d?{noSessionId:u,activityTimeout:p,sessionPastMaximumLength:c}:void 0,lastActivityTimestamp:r}}}(function(e){e.US="us",e.EU="eu",e.CUSTOM="custom"})(Sc||(Sc={}));var TM="i.posthog.com";class Sz{constructor(t){ze(this,"_regionCache",{}),this.instance=t}get apiHost(){var t=this.instance.config.api_host.trim().replace(/\/$/,"");return t==="https://app.posthog.com"?"https://us.i.posthog.com":t}get uiHost(){var t,n=(t=this.instance.config.ui_host)===null||t===void 0?void 0:t.replace(/\/$/,"");return n||(n=this.apiHost.replace(".".concat(TM),".posthog.com")),n==="https://app.posthog.com"?"https://us.posthog.com":n}get region(){return this._regionCache[this.apiHost]||(/https:\/\/(app|us|us-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this._regionCache[this.apiHost]=Sc.US:/https:\/\/(eu|eu-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this._regionCache[this.apiHost]=Sc.EU:this._regionCache[this.apiHost]=Sc.CUSTOM),this._regionCache[this.apiHost]}endpointFor(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(n&&(n=n[0]==="/"?n:"/".concat(n)),t==="ui")return this.uiHost+n;if(this.region===Sc.CUSTOM)return this.apiHost+n;var r=TM+n;switch(t){case"assets":return"https://".concat(this.region,"-assets.").concat(r);case"api":return"https://".concat(this.region,".").concat(r)}}}var wP="posthog-js";function EP(e){var{organization:t,projectId:n,prefix:r,severityAllowList:i=["error"]}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return s=>{var l,c,d,u,p;if(!(i==="*"||i.includes(s.level))||!e.__loaded)return s;s.tags||(s.tags={});var h=e.requestRouter.endpointFor("ui","/project/".concat(e.config.token,"/person/").concat(e.get_distinct_id()));s.tags["PostHog Person URL"]=h,e.sessionRecordingStarted()&&(s.tags["PostHog Recording URL"]=e.get_session_replay_url({withTimestamp:!0}));var v=((l=s.exception)===null||l===void 0?void 0:l.values)||[];v.map(b=>{b.stacktrace&&(b.stacktrace.type="raw")});var y={$exception_message:((c=v[0])===null||c===void 0?void 0:c.value)||s.message,$exception_type:(d=v[0])===null||d===void 0?void 0:d.type,$exception_personURL:h,$exception_level:s.level,$exception_list:v,$sentry_event_id:s.event_id,$sentry_exception:s.exception,$sentry_exception_message:((u=v[0])===null||u===void 0?void 0:u.value)||s.message,$sentry_exception_type:(p=v[0])===null||p===void 0?void 0:p.type,$sentry_tags:s.tags};return t&&n&&(y.$sentry_url=(r||"https://sentry.io/organizations/")+t+"/issues/?project="+n+"&query="+s.event_id),e.exceptions.sendExceptionEvent(y),s}}class xz{constructor(t,n,r,i,s){this.name=wP,this.setupOnce=function(l){l(EP(t,{organization:n,projectId:r,prefix:i,severityAllowList:s}))}}}var CM,nv,to;function wz(e,t){var n=e.config.segment;if(!n)return t();(function(r,i){var s=r.config.segment;if(!s)return i();var l=d=>{var u=()=>d.anonymousId()||pl();r.config.get_device_id=u,d.id()&&(r.register({distinct_id:d.id(),$device_id:u()}),r.persistence.set_property(ua,"identified")),i()},c=s.user();"then"in c&&Ds(c.then)?c.then(d=>l(d)):l(c)})(e,()=>{n.register((r=>{Promise&&Promise.resolve||xe.warn("This browser does not have Promise support, and can not use the segment integration");var i=(s,l)=>{var c;if(!l)return s;s.event.userId||s.event.anonymousId===r.get_distinct_id()||(xe.info("Segment integration does not have a userId set, resetting PostHog"),r.reset()),s.event.userId&&s.event.userId!==r.get_distinct_id()&&(xe.info("Segment integration has a userId set, identifying with PostHog"),r.identify(s.event.userId));var d=r._calculate_event_properties(l,(c=s.event.properties)!==null&&c!==void 0?c:{},new Date);return s.event.properties=Object.assign({},d,s.event.properties),s};return{name:"PostHog JS",type:"enrichment",version:"1.0.0",isLoaded:()=>!0,load:()=>Promise.resolve(),track:s=>i(s,s.event.event),page:s=>i(s,"$pageview"),identify:s=>i(s,"$identify"),screen:s=>i(s,"$screen")}})(e)).then(()=>{t()})})}class Ez{constructor(t){this._instance=t}doPageView(t){var n,r=this._previousPageViewProperties(t);return this._currentPath=(n=fe==null?void 0:fe.location.pathname)!==null&&n!==void 0?n:"",this._instance.scrollManager.resetContext(),this._prevPageviewTimestamp=t,r}doPageLeave(t){return this._previousPageViewProperties(t)}_previousPageViewProperties(t){var n=this._currentPath,r=this._prevPageviewTimestamp,i=this._instance.scrollManager.getContext();if(!r)return{};var s={};if(i){var{maxScrollHeight:l,lastScrollY:c,maxScrollY:d,maxContentHeight:u,lastContentY:p,maxContentY:h}=i;et(l)||et(c)||et(d)||et(u)||et(p)||et(h)||(l=Math.ceil(l),c=Math.ceil(c),d=Math.ceil(d),u=Math.ceil(u),p=Math.ceil(p),h=Math.ceil(h),s={$prev_pageview_last_scroll:c,$prev_pageview_last_scroll_percentage:l<=1?1:Io(c/l,0,1),$prev_pageview_max_scroll:d,$prev_pageview_max_scroll_percentage:l<=1?1:Io(d/l,0,1),$prev_pageview_last_content:p,$prev_pageview_last_content_percentage:u<=1?1:Io(p/u,0,1),$prev_pageview_max_content:h,$prev_pageview_max_content_percentage:u<=1?1:Io(h/u,0,1)})}return n&&(s.$prev_pageview_pathname=n),r&&(s.$prev_pageview_duration=(t.getTime()-r.getTime())/1e3),s}}(function(e){e.Popover="popover",e.API="api",e.Widget="widget"})(CM||(CM={})),function(e){e.Open="open",e.MultipleChoice="multiple_choice",e.SingleChoice="single_choice",e.Rating="rating",e.Link="link"}(nv||(nv={})),function(e){e.NextQuestion="next_question",e.End="end",e.ResponseBased="response_based",e.SpecificQuestion="specific_question"}(to||(to={}));class TP{constructor(){ze(this,"events",{}),this.events={}}on(t,n){return this.events[t]||(this.events[t]=[]),this.events[t].push(n),()=>{this.events[t]=this.events[t].filter(r=>r!==n)}}emit(t,n){for(var r of this.events[t]||[])r(n);for(var i of this.events["*"]||[])i(t,n)}}class mc{constructor(t){ze(this,"_debugEventEmitter",new TP),ze(this,"checkStep",(n,r)=>this.checkStepEvent(n,r)&&this.checkStepUrl(n,r)&&this.checkStepElement(n,r)),ze(this,"checkStepEvent",(n,r)=>r==null||!r.event||(n==null?void 0:n.event)===(r==null?void 0:r.event)),this.instance=t,this.actionEvents=new Set,this.actionRegistry=new Set}init(){var t;if(!et((t=this.instance)===null||t===void 0?void 0:t._addCaptureHook)){var n;(n=this.instance)===null||n===void 0||n._addCaptureHook((r,i)=>{this.on(r,i)})}}register(t){var n,r;if(!et((n=this.instance)===null||n===void 0?void 0:n._addCaptureHook)&&(t.forEach(l=>{var c,d;(c=this.actionRegistry)===null||c===void 0||c.add(l),(d=l.steps)===null||d===void 0||d.forEach(u=>{var p;(p=this.actionEvents)===null||p===void 0||p.add((u==null?void 0:u.event)||"")})}),(r=this.instance)!==null&&r!==void 0&&r.autocapture)){var i,s=new Set;t.forEach(l=>{var c;(c=l.steps)===null||c===void 0||c.forEach(d=>{d!=null&&d.selector&&s.add(d==null?void 0:d.selector)})}),(i=this.instance)===null||i===void 0||i.autocapture.setElementSelectors(s)}}on(t,n){var r;n!=null&&t.length!=0&&(this.actionEvents.has(t)||this.actionEvents.has(n==null?void 0:n.event))&&this.actionRegistry&&((r=this.actionRegistry)===null||r===void 0?void 0:r.size)>0&&this.actionRegistry.forEach(i=>{this.checkAction(n,i)&&this._debugEventEmitter.emit("actionCaptured",i.name)})}_addActionHook(t){this.onAction("actionCaptured",n=>t(n))}checkAction(t,n){if((n==null?void 0:n.steps)==null)return!1;for(var r of n.steps)if(this.checkStep(t,r))return!0;return!1}onAction(t,n){return this._debugEventEmitter.on(t,n)}checkStepUrl(t,n){if(n!=null&&n.url){var r,i=t==null||(r=t.properties)===null||r===void 0?void 0:r.$current_url;if(!i||typeof i!="string"||!mc.matchString(i,n==null?void 0:n.url,(n==null?void 0:n.url_matching)||"contains"))return!1}return!0}static matchString(t,n,r){switch(r){case"regex":return!!fe&&jd(t,n);case"exact":return n===t;case"contains":var i=mc.escapeStringRegexp(n).replace(/_/g,".").replace(/%/g,".*");return jd(t,i);default:return!1}}static escapeStringRegexp(t){return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}checkStepElement(t,n){if((n!=null&&n.href||n!=null&&n.tag_name||n!=null&&n.text)&&!this.getElementsList(t).some(s=>!(n!=null&&n.href&&!mc.matchString(s.href||"",n==null?void 0:n.href,(n==null?void 0:n.href_matching)||"exact"))&&(n==null||!n.tag_name||s.tag_name===(n==null?void 0:n.tag_name))&&!(n!=null&&n.text&&!mc.matchString(s.text||"",n==null?void 0:n.text,(n==null?void 0:n.text_matching)||"exact")&&!mc.matchString(s.$el_text||"",n==null?void 0:n.text,(n==null?void 0:n.text_matching)||"exact"))))return!1;if(n!=null&&n.selector){var r,i=t==null||(r=t.properties)===null||r===void 0?void 0:r.$element_selectors;if(!i||!i.includes(n==null?void 0:n.selector))return!1}return!0}getElementsList(t){return(t==null?void 0:t.properties.$elements)==null?[]:t==null?void 0:t.properties.$elements}}class hp{constructor(t){this.instance=t,this.eventToSurveys=new Map,this.actionToSurveys=new Map}register(t){var n;et((n=this.instance)===null||n===void 0?void 0:n._addCaptureHook)||(this.setupEventBasedSurveys(t),this.setupActionBasedSurveys(t))}setupActionBasedSurveys(t){var n=t.filter(r=>{var i,s,l,c;return((i=r.conditions)===null||i===void 0?void 0:i.actions)&&((s=r.conditions)===null||s===void 0||(l=s.actions)===null||l===void 0||(c=l.values)===null||c===void 0?void 0:c.length)>0});n.length!==0&&(this.actionMatcher==null&&(this.actionMatcher=new mc(this.instance),this.actionMatcher.init(),this.actionMatcher._addActionHook(r=>{this.onAction(r)})),n.forEach(r=>{var i,s,l,c,d,u,p,h,v,y;r.conditions&&(i=r.conditions)!==null&&i!==void 0&&i.actions&&(s=r.conditions)!==null&&s!==void 0&&(l=s.actions)!==null&&l!==void 0&&l.values&&((c=r.conditions)===null||c===void 0||(d=c.actions)===null||d===void 0||(u=d.values)===null||u===void 0?void 0:u.length)>0&&((p=this.actionMatcher)===null||p===void 0||p.register(r.conditions.actions.values),(h=r.conditions)===null||h===void 0||(v=h.actions)===null||v===void 0||(y=v.values)===null||y===void 0||y.forEach(b=>{if(b&&b.name){var _=this.actionToSurveys.get(b.name);_&&_.push(r.id),this.actionToSurveys.set(b.name,_||[r.id])}}))}))}setupEventBasedSurveys(t){var n;t.filter(r=>{var i,s,l,c;return((i=r.conditions)===null||i===void 0?void 0:i.events)&&((s=r.conditions)===null||s===void 0||(l=s.events)===null||l===void 0||(c=l.values)===null||c===void 0?void 0:c.length)>0}).length!==0&&((n=this.instance)===null||n===void 0||n._addCaptureHook((r,i)=>{this.onEvent(r,i)}),t.forEach(r=>{var i,s,l;(i=r.conditions)===null||i===void 0||(s=i.events)===null||s===void 0||(l=s.values)===null||l===void 0||l.forEach(c=>{if(c&&c.name){var d=this.eventToSurveys.get(c.name);d&&d.push(r.id),this.eventToSurveys.set(c.name,d||[r.id])}})}))}onEvent(t,n){var r,i,s=((r=this.instance)===null||r===void 0||(i=r.persistence)===null||i===void 0?void 0:i.props[fm])||[];if(hp.SURVEY_SHOWN_EVENT_NAME==t&&n&&s.length>0){var l,c=n==null||(l=n.properties)===null||l===void 0?void 0:l.$survey_id;if(c){var d=s.indexOf(c);d>=0&&(s.splice(d,1),this._updateActivatedSurveys(s))}}else this.eventToSurveys.has(t)&&this._updateActivatedSurveys(s.concat(this.eventToSurveys.get(t)||[]))}onAction(t){var n,r,i=((n=this.instance)===null||n===void 0||(r=n.persistence)===null||r===void 0?void 0:r.props[fm])||[];this.actionToSurveys.has(t)&&this._updateActivatedSurveys(i.concat(this.actionToSurveys.get(t)||[]))}_updateActivatedSurveys(t){var n,r;(n=this.instance)===null||n===void 0||(r=n.persistence)===null||r===void 0||r.register({[fm]:[...new Set(t)]})}getSurveys(){var t,n,r=(t=this.instance)===null||t===void 0||(n=t.persistence)===null||n===void 0?void 0:n.props[fm];return r||[]}getEventToSurveys(){return this.eventToSurveys}_getActionMatcher(){return this.actionMatcher}}ze(hp,"SURVEY_SHOWN_EVENT_NAME","survey shown");var CP,cr,kP,vc,kM,MP,gS,RP,mS={},IP=[],Tz=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,cw=Array.isArray;function gl(e,t){for(var n in t)e[n]=t[n];return e}function OP(e){var t=e.parentNode;t&&t.removeChild(e)}function u1(e,t,n,r,i){var s={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:i??++kP,__i:-1,__u:0};return i==null&&cr.vnode!=null&&cr.vnode(s),s}function uw(e){return e.children}function g0(e,t){this.props=e,this.context=t}function Bd(e,t){if(t==null)return e.__?Bd(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?Bd(e):null}function jP(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return jP(e)}}function vS(e){(!e.__d&&(e.__d=!0)&&vc.push(e)&&!rv.__r++||kM!==cr.debounceRendering)&&((kM=cr.debounceRendering)||MP)(rv)}function rv(){var e,t,n,r,i,s,l,c,d;for(vc.sort(gS);e=vc.shift();)e.__d&&(t=vc.length,r=void 0,s=(i=(n=e).__v).__e,c=[],d=[],(l=n.__P)&&((r=gl({},i)).__v=i.__v+1,cr.vnode&&cr.vnode(r),DP(l,r,i,n.__n,l.ownerSVGElement!==void 0,32&i.__u?[s]:null,c,s??Bd(i),!!(32&i.__u),d),r.__.__k[r.__i]=r,Mz(c,r,d),r.__e!=s&&jP(r)),vc.length>t&&vc.sort(gS));rv.__r=0}function PP(e,t,n,r,i,s,l,c,d,u,p){var h,v,y,b,_,w=r&&r.__k||IP,T=t.length;for(n.__d=d,Cz(n,t,w),d=n.__d,h=0;h<T;h++)(y=n.__k[h])!=null&&typeof y!="boolean"&&typeof y!="function"&&(v=y.__i===-1?mS:w[y.__i]||mS,y.__i=h,DP(e,y,v,i,s,l,c,d,u,p),b=y.__e,y.ref&&v.ref!=y.ref&&(v.ref&&dw(v.ref,null,y),p.push(y.ref,y.__c||b,y)),_==null&&b!=null&&(_=b),65536&y.__u||v.__k===y.__k?d=VP(y,d,e):typeof y.type=="function"&&y.__d!==void 0?d=y.__d:b&&(d=b.nextSibling),y.__d=void 0,y.__u&=-196609);n.__d=d,n.__e=_}function Cz(e,t,n){var r,i,s,l,c,d=t.length,u=n.length,p=u,h=0;for(e.__k=[],r=0;r<d;r++)(i=e.__k[r]=(i=t[r])==null||typeof i=="boolean"||typeof i=="function"?null:typeof i=="string"||typeof i=="number"||typeof i=="bigint"||i.constructor==String?u1(null,i,null,null,i):cw(i)?u1(uw,{children:i},null,null,null):i.constructor===void 0&&i.__b>0?u1(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i)!=null?(i.__=e,i.__b=e.__b+1,c=kz(i,n,l=r+h,p),i.__i=c,s=null,c!==-1&&(p--,(s=n[c])&&(s.__u|=131072)),s==null||s.__v===null?(c==-1&&h--,typeof i.type!="function"&&(i.__u|=65536)):c!==l&&(c===l+1?h++:c>l?p>d-l?h+=c-l:h--:h=c<l&&c==l-1?c-l:0,c!==r+h&&(i.__u|=65536))):(s=n[r])&&s.key==null&&s.__e&&(s.__e==e.__d&&(e.__d=Bd(s)),yS(s,s,!1),n[r]=null,p--);if(p)for(r=0;r<u;r++)(s=n[r])!=null&&!(131072&s.__u)&&(s.__e==e.__d&&(e.__d=Bd(s)),yS(s,s))}function VP(e,t,n){var r,i;if(typeof e.type=="function"){for(r=e.__k,i=0;r&&i<r.length;i++)r[i]&&(r[i].__=e,t=VP(r[i],t,n));return t}return e.__e!=t&&(n.insertBefore(e.__e,t||null),t=e.__e),t&&t.nextSibling}function kz(e,t,n,r){var i=e.key,s=e.type,l=n-1,c=n+1,d=t[n];if(d===null||d&&i==d.key&&s===d.type)return n;if(r>(d!=null&&!(131072&d.__u)?1:0))for(;l>=0||c<t.length;){if(l>=0){if((d=t[l])&&!(131072&d.__u)&&i==d.key&&s===d.type)return l;l--}if(c<t.length){if((d=t[c])&&!(131072&d.__u)&&i==d.key&&s===d.type)return c;c++}}return-1}function MM(e,t,n){t[0]==="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||Tz.test(t)?n:n+"px"}function Am(e,t,n,r,i){var s;e:if(t==="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof r=="string"&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||MM(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||MM(e.style,t,n[t])}else if(t[0]==="o"&&t[1]==="n")s=t!==(t=t.replace(/(PointerCapture)$|Capture$/,"$1")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+s]=n,n?r?n.u=r.u:(n.u=Date.now(),e.addEventListener(t,s?IM:RM,s)):e.removeEventListener(t,s?IM:RM,s);else{if(i)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!=="width"&&t!=="height"&&t!=="href"&&t!=="list"&&t!=="form"&&t!=="tabIndex"&&t!=="download"&&t!=="rowSpan"&&t!=="colSpan"&&t!=="role"&&t in e)try{e[t]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&t[4]!=="-"?e.removeAttribute(t):e.setAttribute(t,n))}}function RM(e){var t=this.l[e.type+!1];if(e.t){if(e.t<=t.u)return}else e.t=Date.now();return t(cr.event?cr.event(e):e)}function IM(e){return this.l[e.type+!0](cr.event?cr.event(e):e)}function DP(e,t,n,r,i,s,l,c,d,u){var p,h,v,y,b,_,w,T,k,R,M,E,O,j,P,V=t.type;if(t.constructor!==void 0)return null;128&n.__u&&(d=!!(32&n.__u),s=[c=t.__e=n.__e]),(p=cr.__b)&&p(t);e:if(typeof V=="function")try{if(T=t.props,k=(p=V.contextType)&&r[p.__c],R=p?k?k.props.value:p.__:r,n.__c?w=(h=t.__c=n.__c).__=h.__E:("prototype"in V&&V.prototype.render?t.__c=h=new V(T,R):(t.__c=h=new g0(T,R),h.constructor=V,h.render=Iz),k&&k.sub(h),h.props=T,h.state||(h.state={}),h.context=R,h.__n=r,v=h.__d=!0,h.__h=[],h._sb=[]),h.__s==null&&(h.__s=h.state),V.getDerivedStateFromProps!=null&&(h.__s==h.state&&(h.__s=gl({},h.__s)),gl(h.__s,V.getDerivedStateFromProps(T,h.__s))),y=h.props,b=h.state,h.__v=t,v)V.getDerivedStateFromProps==null&&h.componentWillMount!=null&&h.componentWillMount(),h.componentDidMount!=null&&h.__h.push(h.componentDidMount);else{if(V.getDerivedStateFromProps==null&&T!==y&&h.componentWillReceiveProps!=null&&h.componentWillReceiveProps(T,R),!h.__e&&(h.shouldComponentUpdate!=null&&h.shouldComponentUpdate(T,h.__s,R)===!1||t.__v===n.__v)){for(t.__v!==n.__v&&(h.props=T,h.state=h.__s,h.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.forEach(function(C){C&&(C.__=t)}),M=0;M<h._sb.length;M++)h.__h.push(h._sb[M]);h._sb=[],h.__h.length&&l.push(h);break e}h.componentWillUpdate!=null&&h.componentWillUpdate(T,h.__s,R),h.componentDidUpdate!=null&&h.__h.push(function(){h.componentDidUpdate(y,b,_)})}if(h.context=R,h.props=T,h.__P=e,h.__e=!1,E=cr.__r,O=0,"prototype"in V&&V.prototype.render){for(h.state=h.__s,h.__d=!1,E&&E(t),p=h.render(h.props,h.state,h.context),j=0;j<h._sb.length;j++)h.__h.push(h._sb[j]);h._sb=[]}else do h.__d=!1,E&&E(t),p=h.render(h.props,h.state,h.context),h.state=h.__s;while(h.__d&&++O<25);h.state=h.__s,h.getChildContext!=null&&(r=gl(gl({},r),h.getChildContext())),v||h.getSnapshotBeforeUpdate==null||(_=h.getSnapshotBeforeUpdate(y,b)),PP(e,cw(P=p!=null&&p.type===uw&&p.key==null?p.props.children:p)?P:[P],t,n,r,i,s,l,c,d,u),h.base=t.__e,t.__u&=-161,h.__h.length&&l.push(h),w&&(h.__E=h.__=null)}catch(C){t.__v=null,d||s!=null?(t.__e=c,t.__u|=d?160:32,s[s.indexOf(c)]=null):(t.__e=n.__e,t.__k=n.__k),cr.__e(C,t,n)}else s==null&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=Rz(n.__e,t,n,r,i,s,l,d,u);(p=cr.diffed)&&p(t)}function Mz(e,t,n){t.__d=void 0;for(var r=0;r<n.length;r++)dw(n[r],n[++r],n[++r]);cr.__c&&cr.__c(t,e),e.some(function(i){try{e=i.__h,i.__h=[],e.some(function(s){s.call(i)})}catch(s){cr.__e(s,i.__v)}})}function Rz(e,t,n,r,i,s,l,c,d){var u,p,h,v,y,b,_,w=n.props,T=t.props,k=t.type;if(k==="svg"&&(i=!0),s!=null){for(u=0;u<s.length;u++)if((y=s[u])&&"setAttribute"in y==!!k&&(k?y.localName===k:y.nodeType===3)){e=y,s[u]=null;break}}if(e==null){if(k===null)return document.createTextNode(T);e=i?document.createElementNS("http://www.w3.org/2000/svg",k):document.createElement(k,T.is&&T),s=null,c=!1}if(k===null)w===T||c&&e.data===T||(e.data=T);else{if(s=s&&CP.call(e.childNodes),w=n.props||mS,!c&&s!=null)for(w={},u=0;u<e.attributes.length;u++)w[(y=e.attributes[u]).name]=y.value;for(u in w)y=w[u],u=="children"||(u=="dangerouslySetInnerHTML"?h=y:u==="key"||u in T||Am(e,u,null,y,i));for(u in T)y=T[u],u=="children"?v=y:u=="dangerouslySetInnerHTML"?p=y:u=="value"?b=y:u=="checked"?_=y:u==="key"||c&&typeof y!="function"||w[u]===y||Am(e,u,y,w[u],i);if(p)c||h&&(p.__html===h.__html||p.__html===e.innerHTML)||(e.innerHTML=p.__html),t.__k=[];else if(h&&(e.innerHTML=""),PP(e,cw(v)?v:[v],t,n,r,i&&k!=="foreignObject",s,l,s?s[0]:n.__k&&Bd(n,0),c,d),s!=null)for(u=s.length;u--;)s[u]!=null&&OP(s[u]);c||(u="value",b!==void 0&&(b!==e[u]||k==="progress"&&!b||k==="option"&&b!==w[u])&&Am(e,u,b,w[u],!1),u="checked",_!==void 0&&_!==e[u]&&Am(e,u,_,w[u],!1))}return e}function dw(e,t,n){try{typeof e=="function"?e(t):e.current=t}catch(r){cr.__e(r,n)}}function yS(e,t,n){var r,i;if(cr.unmount&&cr.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||dw(r,null,t)),(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(s){cr.__e(s,t)}r.base=r.__P=null,e.__c=void 0}if(r=e.__k)for(i=0;i<r.length;i++)r[i]&&yS(r[i],t,n||typeof e.type!="function");n||e.__e==null||OP(e.__e),e.__=e.__e=e.__d=void 0}function Iz(e,t,n){return this.constructor(e,n)}CP=IP.slice,cr={__e:function(e,t,n,r){for(var i,s,l;t=t.__;)if((i=t.__c)&&!i.__)try{if((s=i.constructor)&&s.getDerivedStateFromError!=null&&(i.setState(s.getDerivedStateFromError(e)),l=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(e,r||{}),l=i.__d),l)return i.__E=i}catch(c){e=c}throw e}},kP=0,g0.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=gl({},this.state),typeof e=="function"&&(e=e(gl({},n),this.props)),e&&gl(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),vS(this))},g0.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),vS(this))},g0.prototype.render=uw,vc=[],MP=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,gS=function(e,t){return e.__v.__b-t.__v.__b},rv.__r=0,RP=0;(function(e,t){var n={__c:t="__cC"+RP++,__:e,Consumer:function(r,i){return r.children(i)},Provider:function(r){var i,s;return this.getChildContext||(i=[],(s={})[t]=this,this.getChildContext=function(){return s},this.shouldComponentUpdate=function(l){this.props.value!==l.value&&i.some(function(c){c.__e=!0,vS(c)})},this.sub=function(l){i.push(l);var c=l.componentWillUnmount;l.componentWillUnmount=function(){i.splice(i.indexOf(l),1),c&&c.call(l)}}),r.children}};n.Provider.__=n.Consumer.contextType=n})({isPreviewMode:!1,previewPageIndex:0,handleCloseSurveyPopup:()=>{},isPopup:!0});var _h="[Surveys]",Oz={icontains:e=>!!fe&&fe.location.href.toLowerCase().indexOf(e.toLowerCase())>-1,not_icontains:e=>!!fe&&fe.location.href.toLowerCase().indexOf(e.toLowerCase())===-1,regex:e=>!!fe&&jd(fe.location.href,e),not_regex:e=>!!fe&&!jd(fe.location.href,e),exact:e=>(fe==null?void 0:fe.location.href)===e,is_not:e=>(fe==null?void 0:fe.location.href)!==e};class jz{constructor(t){this.instance=t,this._surveyEventReceiver=null}afterDecideResponse(t){this._decideServerResponse=!!t.surveys,this.loadIfEnabled()}reset(){localStorage.removeItem("lastSeenSurveyDate");var t=(()=>{for(var n=[],r=0;r<localStorage.length;r++){var i=localStorage.key(r);i!=null&&i.startsWith("seenSurvey_")&&n.push(i)}return n})();t.forEach(n=>localStorage.removeItem(n))}loadIfEnabled(){var t,n,r,i=Tt==null||(t=Tt.__PosthogExtensions__)===null||t===void 0?void 0:t.generateSurveys;this.instance.config.disable_surveys||!this._decideServerResponse||i||(this._surveyEventReceiver==null&&(this._surveyEventReceiver=new hp(this.instance)),(n=Tt.__PosthogExtensions__)===null||n===void 0||(r=n.loadExternalDependency)===null||r===void 0||r.call(n,this.instance,"surveys",s=>{var l,c;if(s)return xe.error(_h,"Could not load surveys script",s);this._surveyManager=(l=Tt.__PosthogExtensions__)===null||l===void 0||(c=l.generateSurveys)===null||c===void 0?void 0:c.call(l,this.instance)}))}getSurveys(t){var n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(this.instance.config.disable_surveys)return t([]);this._surveyEventReceiver==null&&(this._surveyEventReceiver=new hp(this.instance));var r=this.instance.get_property(X_);if(r&&!n)return t(r);this.instance._send_request({url:this.instance.requestRouter.endpointFor("api","/api/surveys/?token=".concat(this.instance.config.token)),method:"GET",transport:"XHR",callback:i=>{var s;if(i.statusCode!==200||!i.json)return t([]);var l,c=i.json.surveys||[],d=c.filter(u=>{var p,h,v,y,b,_,w,T,k,R,M,E;return((p=u.conditions)===null||p===void 0?void 0:p.events)&&((h=u.conditions)===null||h===void 0||(v=h.events)===null||v===void 0?void 0:v.values)&&((y=u.conditions)===null||y===void 0||(b=y.events)===null||b===void 0||(_=b.values)===null||_===void 0?void 0:_.length)>0||((w=u.conditions)===null||w===void 0?void 0:w.actions)&&((T=u.conditions)===null||T===void 0||(k=T.actions)===null||k===void 0?void 0:k.values)&&((R=u.conditions)===null||R===void 0||(M=R.actions)===null||M===void 0||(E=M.values)===null||E===void 0?void 0:E.length)>0});return d.length>0&&((l=this._surveyEventReceiver)===null||l===void 0||l.register(d)),(s=this.instance.persistence)===null||s===void 0||s.register({[X_]:c}),t(c)}})}getActiveMatchingSurveys(t){var n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.getSurveys(r=>{var i,s=r.filter(d=>!(!d.start_date||d.end_date)).filter(d=>{var u,p,h,v;if(!d.conditions)return!0;var y=(u=d.conditions)===null||u===void 0||!u.url||Oz[(p=(h=d.conditions)===null||h===void 0?void 0:h.urlMatchType)!==null&&p!==void 0?p:"icontains"](d.conditions.url),b=(v=d.conditions)===null||v===void 0||!v.selector||(He==null?void 0:He.querySelector(d.conditions.selector));return y&&b}),l=(i=this._surveyEventReceiver)===null||i===void 0?void 0:i.getSurveys(),c=s.filter(d=>{var u,p,h,v,y,b,_,w,T,k,R;if(!(d.linked_flag_key||d.targeting_flag_key||d.internal_targeting_flag_key||(u=d.feature_flag_keys)!==null&&u!==void 0&&u.length))return!0;var M=!d.linked_flag_key||this.instance.featureFlags.isFeatureEnabled(d.linked_flag_key),E=!d.targeting_flag_key||this.instance.featureFlags.isFeatureEnabled(d.targeting_flag_key),O=((p=d.conditions)===null||p===void 0?void 0:p.events)&&((h=d.conditions)===null||h===void 0||(v=h.events)===null||v===void 0?void 0:v.values)&&((y=d.conditions)===null||y===void 0||(b=y.events)===null||b===void 0?void 0:b.values.length)>0,j=((_=d.conditions)===null||_===void 0?void 0:_.actions)&&((w=d.conditions)===null||w===void 0||(T=w.actions)===null||T===void 0?void 0:T.values)&&((k=d.conditions)===null||k===void 0||(R=k.actions)===null||R===void 0?void 0:R.values.length)>0,P=!O&&!j||(l==null?void 0:l.includes(d.id)),V=this._canActivateRepeatedly(d),C=!(d.internal_targeting_flag_key&&!V)||this.instance.featureFlags.isFeatureEnabled(d.internal_targeting_flag_key),N=this.checkFlags(d);return M&&E&&C&&P&&N});return t(c)},n)}checkFlags(t){var n;return(n=t.feature_flag_keys)===null||n===void 0||!n.length||t.feature_flag_keys.every(r=>{var{key:i,value:s}=r;return!i||!s||this.instance.featureFlags.isFeatureEnabled(s)})}getNextSurveyStep(t,n,r){var i,s=t.questions[n],l=n+1;if((i=s.branching)===null||i===void 0||!i.type)return n===t.questions.length-1?to.End:l;if(s.branching.type===to.End)return to.End;if(s.branching.type===to.SpecificQuestion){if(Number.isInteger(s.branching.index))return s.branching.index}else if(s.branching.type===to.ResponseBased){if(s.type===nv.SingleChoice){var c,d,u=s.choices.indexOf("".concat(r));if((c=s.branching)!==null&&c!==void 0&&(d=c.responseValues)!==null&&d!==void 0&&d.hasOwnProperty(u)){var p=s.branching.responseValues[u];return Number.isInteger(p)?p:p===to.End?to.End:l}}else if(s.type===nv.Rating){var h,v;if(typeof r!="number"||!Number.isInteger(r))throw new Error("The response type must be an integer");var y=function(_,w){if(w===3){if(_<1||_>3)throw new Error("The response must be in range 1-3");return _===1?"negative":_===2?"neutral":"positive"}if(w===5){if(_<1||_>5)throw new Error("The response must be in range 1-5");return _<=2?"negative":_===3?"neutral":"positive"}if(w===7){if(_<1||_>7)throw new Error("The response must be in range 1-7");return _<=3?"negative":_===4?"neutral":"positive"}if(w===10){if(_<0||_>10)throw new Error("The response must be in range 0-10");return _<=6?"detractors":_<=8?"passives":"promoters"}throw new Error("The scale must be one of: 3, 5, 7, 10")}(r,s.scale);if((h=s.branching)!==null&&h!==void 0&&(v=h.responseValues)!==null&&v!==void 0&&v.hasOwnProperty(y)){var b=s.branching.responseValues[y];return Number.isInteger(b)?b:b===to.End?to.End:l}}return l}return xe.warn(_h,"Falling back to next question index due to unexpected branching type"),l}_canActivateRepeatedly(t){var n;return On((n=Tt.__PosthogExtensions__)===null||n===void 0?void 0:n.canActivateRepeatedly)?(xe.warn(_h,"canActivateRepeatedly is not defined, must init before calling"),!1):Tt.__PosthogExtensions__.canActivateRepeatedly(t)}canRenderSurvey(t){On(this._surveyManager)?xe.warn(_h,"canActivateRepeatedly is not defined, must init before calling"):this.getSurveys(n=>{var r=n.filter(i=>i.id===t)[0];this._surveyManager.canRenderSurvey(r)})}renderSurvey(t,n){On(this._surveyManager)?xe.warn(_h,"canActivateRepeatedly is not defined, must init before calling"):this.getSurveys(r=>{var i=r.filter(s=>s.id===t)[0];this._surveyManager.renderSurvey(i,He==null?void 0:He.querySelector(n))})}}class Pz{constructor(t){var n,r;ze(this,"serverLimits",{}),ze(this,"lastEventRateLimited",!1),ze(this,"checkForLimiting",i=>{var s=i.text;if(s&&s.length)try{(JSON.parse(s).quota_limited||[]).forEach(l=>{xe.info("[RateLimiter] ".concat(l||"events"," is quota limited.")),this.serverLimits[l]=new Date().getTime()+6e4})}catch(l){return void xe.warn('[RateLimiter] could not rate limit - continuing. Error: "'.concat(l==null?void 0:l.message,'"'),{text:s})}}),this.instance=t,this.captureEventsPerSecond=((n=t.config.rate_limiting)===null||n===void 0?void 0:n.events_per_second)||10,this.captureEventsBurstLimit=Math.max(((r=t.config.rate_limiting)===null||r===void 0?void 0:r.events_burst_limit)||10*this.captureEventsPerSecond,this.captureEventsPerSecond),this.lastEventRateLimited=this.clientRateLimitContext(!0).isRateLimited}clientRateLimitContext(){var t,n,r,i=arguments.length>0&&arguments[0]!==void 0&&arguments[0],s=new Date().getTime(),l=(t=(n=this.instance.persistence)===null||n===void 0?void 0:n.get_property(Z_))!==null&&t!==void 0?t:{tokens:this.captureEventsBurstLimit,last:s};l.tokens+=(s-l.last)/1e3*this.captureEventsPerSecond,l.last=s,l.tokens>this.captureEventsBurstLimit&&(l.tokens=this.captureEventsBurstLimit);var c=l.tokens<1;return c||i||(l.tokens=Math.max(0,l.tokens-1)),!c||this.lastEventRateLimited||i||this.instance.capture("$$client_ingestion_warning",{$$client_ingestion_warning_message:"posthog-js client rate limited. Config is set to ".concat(this.captureEventsPerSecond," events per second and ").concat(this.captureEventsBurstLimit," events burst limit.")},{skip_client_rate_limiting:!0}),this.lastEventRateLimited=c,(r=this.instance.persistence)===null||r===void 0||r.set_property(Z_,l),{isRateLimited:c,remainingTokens:l.tokens}}isServerRateLimited(t){var n=this.serverLimits[t||"events"]||!1;return n!==!1&&new Date().getTime()<n}}var Vz=()=>Oe({initialPathName:(Li==null?void 0:Li.pathname)||"",referringDomain:lr.referringDomain()},lr.campaignParams());class Dz{constructor(t,n,r){ze(this,"_onSessionIdCallback",i=>{var s=this._getStoredProps();if(!s||s.sessionId!==i){var l={sessionId:i,props:this._sessionSourceParamGenerator()};this._persistence.register({[J_]:l})}}),this._sessionIdManager=t,this._persistence=n,this._sessionSourceParamGenerator=r||Vz,this._sessionIdManager.onSessionId(this._onSessionIdCallback)}_getStoredProps(){return this._persistence.props[J_]}getSessionProps(){var t,n=(t=this._getStoredProps())===null||t===void 0?void 0:t.props;return n?{$client_session_initial_referring_host:n.referringDomain,$client_session_initial_pathname:n.initialPathName,$client_session_initial_utm_source:n.utm_source,$client_session_initial_utm_campaign:n.utm_campaign,$client_session_initial_utm_medium:n.utm_medium,$client_session_initial_utm_content:n.utm_content,$client_session_initial_utm_term:n.utm_term}:{}}}var Bz=["ahrefsbot","ahrefssiteaudit","applebot","baiduspider","bingbot","bingpreview","bot.htm","bot.php","crawler","deepscan","duckduckbot","facebookexternal","facebookcatalog","gptbot","http://yandex.com/bots","hubspot","ia_archiver","linkedinbot","mj12bot","msnbot","nessus","petalbot","pinterest","prerender","rogerbot","screaming frog","semrushbot","sitebulb","slurp","turnitin","twitterbot","vercelbot","yahoo! slurp","yandexbot","headlesschrome","cypress","Google-HotelAdsVerifier","adsbot-google","apis-google","duplexweb-google","feedfetcher-google","google favicon","google web preview","google-read-aloud","googlebot","googleweblight","mediapartners-google","storebot-google","Bytespider;"],OM=function(e,t){if(!e)return!1;var n=e.toLowerCase();return Bz.concat(t||[]).some(r=>{var i=r.toLowerCase();return n.indexOf(i)!==-1})},BP=function(e,t){if(!e)return!1;var n=e.userAgent;if(n&&OM(n,t))return!0;try{var r=e==null?void 0:e.userAgentData;if(r!=null&&r.brands&&r.brands.some(i=>OM(i==null?void 0:i.brand,t)))return!0}catch{}return!!e.webdriver};class NP{constructor(){this.clicks=[]}isRageClick(t,n,r){var i=this.clicks[this.clicks.length-1];if(i&&Math.abs(t-i.x)+Math.abs(n-i.y)<30&&r-i.timestamp<1e3){if(this.clicks.push({x:t,y:n,timestamp:r}),this.clicks.length===3)return!0}else this.clicks=[{x:t,y:n,timestamp:r}];return!1}}var bm="[Dead Clicks]",Nz=()=>!0,Lz=e=>{var t,n=!((t=e.instance.persistence)===null||t===void 0||!t.get_property(Uj)),r=e.instance.config.capture_dead_clicks;return _c(r)?r:n};class LP{get lazyLoadedDeadClicksAutocapture(){return this._lazyLoadedDeadClicksAutocapture}constructor(t,n,r){this.instance=t,this.isEnabled=n,this.onCapture=r,this.startIfEnabled()}afterDecideResponse(t){this.instance.persistence&&this.instance.persistence.register({[Uj]:t==null?void 0:t.captureDeadClicks}),this.startIfEnabled()}startIfEnabled(){this.isEnabled(this)&&this.loadScript(()=>{this.start()})}loadScript(t){var n,r,i;(n=Tt.__PosthogExtensions__)!==null&&n!==void 0&&n.initDeadClicksAutocapture&&t(),(r=Tt.__PosthogExtensions__)===null||r===void 0||(i=r.loadExternalDependency)===null||i===void 0||i.call(r,this.instance,"dead-clicks-autocapture",s=>{s?xe.error(bm+" failed to load script",s):t()})}start(){var t;if(He){if(!this._lazyLoadedDeadClicksAutocapture&&(t=Tt.__PosthogExtensions__)!==null&&t!==void 0&&t.initDeadClicksAutocapture){var n=Cr(this.instance.config.capture_dead_clicks)?this.instance.config.capture_dead_clicks:{};n.__onCapture=this.onCapture,this._lazyLoadedDeadClicksAutocapture=Tt.__PosthogExtensions__.initDeadClicksAutocapture(this.instance,n),this._lazyLoadedDeadClicksAutocapture.start(He),xe.info("".concat(bm," starting..."))}}else xe.error(bm+" `document` not found. Cannot start.")}stop(){this._lazyLoadedDeadClicksAutocapture&&(this._lazyLoadedDeadClicksAutocapture.stop(),this._lazyLoadedDeadClicksAutocapture=void 0,xe.info("".concat(bm," stopping...")))}}class Fz{constructor(t){var n;ze(this,"rageclicks",new NP),ze(this,"_enabledServerSide",!1),ze(this,"_initialized",!1),ze(this,"_flushInterval",null),this.instance=t,this._enabledServerSide=!((n=this.instance.persistence)===null||n===void 0||!n.props[K_]),fe==null||fe.addEventListener("beforeunload",()=>{this.flush()})}get flushIntervalMilliseconds(){var t=5e3;return Cr(this.instance.config.capture_heatmaps)&&this.instance.config.capture_heatmaps.flush_interval_milliseconds&&(t=this.instance.config.capture_heatmaps.flush_interval_milliseconds),t}get isEnabled(){return et(this.instance.config.capture_heatmaps)?et(this.instance.config.enable_heatmaps)?this._enabledServerSide:this.instance.config.enable_heatmaps:this.instance.config.capture_heatmaps!==!1}startIfEnabled(){if(this.isEnabled){if(this._initialized)return;xe.info("[heatmaps] starting..."),this._setupListeners(),this._flushInterval=setInterval(this.flush.bind(this),this.flushIntervalMilliseconds)}else{var t,n;clearInterval((t=this._flushInterval)!==null&&t!==void 0?t:void 0),(n=this.deadClicksCapture)===null||n===void 0||n.stop(),this.getAndClearBuffer()}}afterDecideResponse(t){var n=!!t.heatmaps;this.instance.persistence&&this.instance.persistence.register({[K_]:n}),this._enabledServerSide=n,this.startIfEnabled()}getAndClearBuffer(){var t=this.buffer;return this.buffer=void 0,t}_onDeadClick(t){this._onClick(t.originalEvent,"deadclick")}_setupListeners(){fe&&He&&(ga(He,"click",t=>this._onClick(t||(fe==null?void 0:fe.event)),!1,!0),ga(He,"mousemove",t=>this._onMouseMove(t||(fe==null?void 0:fe.event)),!1,!0),this.deadClicksCapture=new LP(this.instance,Nz,this._onDeadClick.bind(this)),this.deadClicksCapture.startIfEnabled(),this._initialized=!0)}_getProperties(t,n){var r=this.instance.scrollManager.scrollY(),i=this.instance.scrollManager.scrollX(),s=this.instance.scrollManager.scrollElement(),l=function(c,d,u){for(var p=c;p&&Gv(p)&&!yl(p,"body");){if(p===u)return!1;if($t(d,fe==null?void 0:fe.getComputedStyle(p).position))return!0;p=dP(p)}return!1}(uP(t),["fixed","sticky"],s);return{x:t.clientX+(l?0:i),y:t.clientY+(l?0:r),target_fixed:l,type:n}}_onClick(t){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"click";if(!fM(t.target)){var i=this._getProperties(t,r);(n=this.rageclicks)!==null&&n!==void 0&&n.isRageClick(t.clientX,t.clientY,new Date().getTime())&&this._capture(Oe(Oe({},i),{},{type:"rageclick"})),this._capture(i)}}_onMouseMove(t){fM(t.target)||(clearTimeout(this._mouseMoveTimeout),this._mouseMoveTimeout=setTimeout(()=>{this._capture(this._getProperties(t,"mousemove"))},500))}_capture(t){if(fe){var n=fe.location.href;this.buffer=this.buffer||{},this.buffer[n]||(this.buffer[n]=[]),this.buffer[n].push(t)}}flush(){this.buffer&&!cd(this.buffer)&&this.instance.capture("$$heatmap",{$heatmap_data:this.getAndClearBuffer()})}}class zz{constructor(t){ze(this,"_updateScrollData",()=>{var n,r,i,s;this.context||(this.context={});var l=this.scrollElement(),c=this.scrollY(),d=l?Math.max(0,l.scrollHeight-l.clientHeight):0,u=c+((l==null?void 0:l.clientHeight)||0),p=(l==null?void 0:l.scrollHeight)||0;this.context.lastScrollY=Math.ceil(c),this.context.maxScrollY=Math.max(c,(n=this.context.maxScrollY)!==null&&n!==void 0?n:0),this.context.maxScrollHeight=Math.max(d,(r=this.context.maxScrollHeight)!==null&&r!==void 0?r:0),this.context.lastContentY=u,this.context.maxContentY=Math.max(u,(i=this.context.maxContentY)!==null&&i!==void 0?i:0),this.context.maxContentHeight=Math.max(p,(s=this.context.maxContentHeight)!==null&&s!==void 0?s:0)}),this.instance=t}getContext(){return this.context}resetContext(){var t=this.context;return setTimeout(this._updateScrollData,0),t}startMeasuringScrollPosition(){fe==null||fe.addEventListener("scroll",this._updateScrollData,!0),fe==null||fe.addEventListener("scrollend",this._updateScrollData,!0),fe==null||fe.addEventListener("resize",this._updateScrollData)}scrollElement(){if(!this.instance.config.scroll_root_selector)return fe==null?void 0:fe.document.documentElement;var t=mr(this.instance.config.scroll_root_selector)?this.instance.config.scroll_root_selector:[this.instance.config.scroll_root_selector];for(var n of t){var r=fe==null?void 0:fe.document.querySelector(n);if(r)return r}}scrollY(){if(this.instance.config.scroll_root_selector){var t=this.scrollElement();return t&&t.scrollTop||0}return fe&&(fe.scrollY||fe.pageYOffset||fe.document.documentElement.scrollTop)||0}scrollX(){if(this.instance.config.scroll_root_selector){var t=this.scrollElement();return t&&t.scrollLeft||0}return fe&&(fe.scrollX||fe.pageXOffset||fe.document.documentElement.scrollLeft)||0}}function d1(e,t){return t.length>e?t.slice(0,e)+"...":t}function $z(e){if(e.previousElementSibling)return e.previousElementSibling;var t=e;do t=t.previousSibling;while(t&&!Gv(t));return t}function Uz(e,t,n,r){var i=e.tagName.toLowerCase(),s={tag_name:i};aS.indexOf(i)>-1&&!n&&(i.toLowerCase()==="a"||i.toLowerCase()==="button"?s.$el_text=d1(1024,gP(e)):s.$el_text=d1(1024,Yv(e)));var l=Z0(e);l.length>0&&(s.classes=l.filter(function(p){return p!==""})),wn(e.attributes,function(p){var h;if((!fP(e)||["name","id","class","aria-label"].indexOf(p.name)!==-1)&&(r==null||!r.includes(p.name))&&!t&&Vd(p.value)&&(h=p.name,!fi(h)||h.substring(0,10)!=="_ngcontent"&&h.substring(0,7)!=="_nghost")){var v=p.value;p.name==="class"&&(v=ow(v).join(" ")),s["attr__"+p.name]=d1(1024,v)}});for(var c=1,d=1,u=e;u=$z(u);)c++,u.tagName===e.tagName&&d++;return s.nth_child=c,s.nth_of_type=d,s}function Hz(e,t){for(var n,r,{e:i,maskAllElementAttributes:s,maskAllText:l,elementAttributeIgnoreList:c,elementsChainAsString:d}=t,u=[e],p=e;p.parentNode&&!yl(p,"body");)lP(p.parentNode)?(u.push(p.parentNode.host),p=p.parentNode.host):(u.push(p.parentNode),p=p.parentNode);var h,v=[],y={},b=!1,_=!1;if(wn(u,M=>{var E=lS(M);M.tagName.toLowerCase()==="a"&&(b=M.getAttribute("href"),b=E&&b&&Vd(b)&&b),$t(Z0(M),"ph-no-capture")&&(_=!0),v.push(Uz(M,s,l,c));var O=function(j){if(!lS(j))return{};var P={};return wn(j.attributes,function(V){if(V.name&&V.name.indexOf("data-ph-capture-attribute")===0){var C=V.name.replace("data-ph-capture-attribute-",""),N=V.value;C&&N&&Vd(N)&&(P[C]=N)}}),P}(M);Ti(y,O)}),_)return{props:{},explicitNoCapture:_};if(l||(e.tagName.toLowerCase()==="a"||e.tagName.toLowerCase()==="button"?v[0].$el_text=gP(e):v[0].$el_text=Yv(e)),b){var w,T;v[0].attr__href=b;var k=(w=Ad(b))===null||w===void 0?void 0:w.host,R=fe==null||(T=fe.location)===null||T===void 0?void 0:T.host;k&&R&&k!==R&&(h=b)}return{props:Ti({$event_type:i.type,$ce_version:1},d?{}:{$elements:v},{$elements_chain:WF(v)},(n=v[0])!==null&&n!==void 0&&n.$el_text?{$el_text:(r=v[0])===null||r===void 0?void 0:r.$el_text}:{},h&&i.type==="click"?{$external_click_url:h}:{},y)}}class qz{constructor(t){ze(this,"_initialized",!1),ze(this,"_isDisabledServerSide",null),ze(this,"rageclicks",new NP),ze(this,"_elementsChainAsString",!1),this.instance=t,this._elementSelectors=null}get config(){var t,n,r=Cr(this.instance.config.autocapture)?this.instance.config.autocapture:{};return r.url_allowlist=(t=r.url_allowlist)===null||t===void 0?void 0:t.map(i=>new RegExp(i)),r.url_ignorelist=(n=r.url_ignorelist)===null||n===void 0?void 0:n.map(i=>new RegExp(i)),r}_addDomEventHandlers(){if(this.isBrowserSupported()){if(fe&&He){var t=r=>{r=r||(fe==null?void 0:fe.event);try{this._captureEvent(r)}catch(i){xe.error("Failed to capture event",i)}},n=r=>{r=r||(fe==null?void 0:fe.event),this._captureEvent(r,t1)};ga(He,"submit",t,!1,!0),ga(He,"change",t,!1,!0),ga(He,"click",t,!1,!0),this.config.capture_copied_text&&(ga(He,"copy",n,!1,!0),ga(He,"cut",n,!1,!0))}}else xe.info("Disabling Automatic Event Collection because this browser is not supported")}startIfEnabled(){this.isEnabled&&!this._initialized&&(this._addDomEventHandlers(),this._initialized=!0)}afterDecideResponse(t){t.elementsChainAsString&&(this._elementsChainAsString=t.elementsChainAsString),this.instance.persistence&&this.instance.persistence.register({[Kk]:!!t.autocapture_opt_out}),this._isDisabledServerSide=!!t.autocapture_opt_out,this.startIfEnabled()}setElementSelectors(t){this._elementSelectors=t}getElementSelectors(t){var n,r=[];return(n=this._elementSelectors)===null||n===void 0||n.forEach(i=>{var s=He==null?void 0:He.querySelectorAll(i);s==null||s.forEach(l=>{t===l&&r.push(i)})}),r}get isEnabled(){var t,n,r=(t=this.instance.persistence)===null||t===void 0?void 0:t.props[Kk],i=this._isDisabledServerSide;if(Rl(i)&&!_c(r)&&!this.instance.config.advanced_disable_decide)return!1;var s=(n=this._isDisabledServerSide)!==null&&n!==void 0?n:!!r;return!!this.instance.config.autocapture&&!s}_captureEvent(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"$autocapture";if(this.isEnabled){var r,i=uP(t);aP(i)&&(i=i.parentNode||null),n==="$autocapture"&&t.type==="click"&&t instanceof MouseEvent&&this.instance.config.rageclick&&(r=this.rageclicks)!==null&&r!==void 0&&r.isRageClick(t.clientX,t.clientY,new Date().getTime())&&this._captureEvent(t,"$rageclick");var s=n===t1;if(i&&HF(i,t,this.config,s,s?["copy","cut"]:void 0)){var{props:l,explicitNoCapture:c}=Hz(i,{e:t,maskAllElementAttributes:this.instance.config.mask_all_element_attributes,maskAllText:this.instance.config.mask_all_text,elementAttributeIgnoreList:this.config.element_attribute_ignorelist,elementsChainAsString:this._elementsChainAsString});if(c)return!1;var d=this.getElementSelectors(i);if(d&&d.length>0&&(l.$element_selectors=d),n===t1){var u,p=cP(fe==null||(u=fe.getSelection())===null||u===void 0?void 0:u.toString()),h=t.type||"clipboard";if(!p)return!1;l.$selected_content=p,l.$copy_type=h}return this.instance.capture(n,l),!0}}}isBrowserSupported(){return Ds(He==null?void 0:He.querySelectorAll)}}class Gz{constructor(t){ze(this,"_restoreXHRPatch",void 0),ze(this,"_restoreFetchPatch",void 0),ze(this,"_startCapturing",()=>{var n,r,i,s;et(this._restoreXHRPatch)&&((n=Tt.__PosthogExtensions__)===null||n===void 0||(r=n.tracingHeadersPatchFns)===null||r===void 0||r._patchXHR(this.instance.sessionManager)),et(this._restoreFetchPatch)&&((i=Tt.__PosthogExtensions__)===null||i===void 0||(s=i.tracingHeadersPatchFns)===null||s===void 0||s._patchFetch(this.instance.sessionManager))}),this.instance=t}_loadScript(t){var n,r,i;(n=Tt.__PosthogExtensions__)!==null&&n!==void 0&&n.tracingHeadersPatchFns&&t(),(r=Tt.__PosthogExtensions__)===null||r===void 0||(i=r.loadExternalDependency)===null||i===void 0||i.call(r,this.instance,"tracing-headers",s=>{if(s)return xe.error("[TRACING-HEADERS] failed to load script",s);t()})}startIfEnabledOrStop(){var t,n;this.instance.config.__add_tracing_headers?this._loadScript(this._startCapturing):((t=this._restoreXHRPatch)===null||t===void 0||t.call(this),(n=this._restoreFetchPatch)===null||n===void 0||n.call(this),this._restoreXHRPatch=void 0,this._restoreFetchPatch=void 0)}}var dl;(function(e){e[e.PENDING=-1]="PENDING",e[e.DENIED=0]="DENIED",e[e.GRANTED=1]="GRANTED"})(dl||(dl={}));class Yz{constructor(t){this.instance=t}get config(){return this.instance.config}get consent(){return this.getDnt()?dl.DENIED:this.storedConsent}isOptedOut(){return this.consent===dl.DENIED||this.consent===dl.PENDING&&this.config.opt_out_capturing_by_default}isOptedIn(){return!this.isOptedOut()}optInOut(t){this.storage.set(this.storageKey,t?1:0,this.config.cookie_expiration,this.config.cross_subdomain_cookie,this.config.secure_cookie)}reset(){this.storage.remove(this.storageKey,this.config.cross_subdomain_cookie)}get storageKey(){var{token:t,opt_out_capturing_cookie_prefix:n}=this.instance.config;return(n||"__ph_opt_in_out_")+t}get storedConsent(){var t=this.storage.get(this.storageKey);return t==="1"?dl.GRANTED:t==="0"?dl.DENIED:dl.PENDING}get storage(){if(!this._storage){var t=this.config.opt_out_capturing_persistence_type;this._storage=t==="localStorage"?Or:Aa;var n=t==="localStorage"?Aa:Or;n.get(this.storageKey)&&(this._storage.get(this.storageKey)||this.optInOut(n.get(this.storageKey)==="1"),n.remove(this.storageKey,this.config.cross_subdomain_cookie))}return this._storage}getDnt(){return!!this.config.respect_dnt&&!!Nj([is==null?void 0:is.doNotTrack,is==null?void 0:is.msDoNotTrack,Tt.doNotTrack],t=>$t([!0,1,"1","yes"],t))}}var _m="[Exception Autocapture]";class Kz{constructor(t){var n;ze(this,"originalOnUnhandledRejectionHandler",void 0),ze(this,"startCapturing",()=>{var r,i,s,l;if(fe&&this.isEnabled&&!this.hasHandlers&&!this.isCapturing){var c=(r=Tt.__PosthogExtensions__)===null||r===void 0||(i=r.errorWrappingFunctions)===null||i===void 0?void 0:i.wrapOnError,d=(s=Tt.__PosthogExtensions__)===null||s===void 0||(l=s.errorWrappingFunctions)===null||l===void 0?void 0:l.wrapUnhandledRejection;if(c&&d)try{this.unwrapOnError=c(this.captureException.bind(this)),this.unwrapUnhandledRejection=d(this.captureException.bind(this))}catch(u){xe.error(_m+" failed to start",u),this.stopCapturing()}else xe.error(_m+" failed to load error wrapping functions - cannot start")}}),this.instance=t,this.remoteEnabled=!((n=this.instance.persistence)===null||n===void 0||!n.props[Wk]),this.startIfEnabled()}get isEnabled(){var t;return(t=this.remoteEnabled)!==null&&t!==void 0&&t}get isCapturing(){var t;return!(fe==null||(t=fe.onerror)===null||t===void 0||!t.__POSTHOG_INSTRUMENTED__)}get hasHandlers(){return this.originalOnUnhandledRejectionHandler||this.unwrapOnError}startIfEnabled(){this.isEnabled&&!this.isCapturing&&(xe.info(_m+" enabled, starting..."),this.loadScript(this.startCapturing))}loadScript(t){var n,r;this.hasHandlers&&t(),(n=Tt.__PosthogExtensions__)===null||n===void 0||(r=n.loadExternalDependency)===null||r===void 0||r.call(n,this.instance,"exception-autocapture",i=>{if(i)return xe.error(_m+" failed to load script",i);t()})}stopCapturing(){var t,n;(t=this.unwrapOnError)===null||t===void 0||t.call(this),(n=this.unwrapUnhandledRejection)===null||n===void 0||n.call(this)}afterDecideResponse(t){var n=t.autocaptureExceptions;this.remoteEnabled=!!n||!1,this.instance.persistence&&this.instance.persistence.register({[Wk]:this.remoteEnabled}),this.startIfEnabled()}captureException(t){var n=this.instance.requestRouter.endpointFor("ui");t.$exception_personURL="".concat(n,"/project/").concat(this.instance.config.token,"/person/").concat(this.instance.get_distinct_id()),this.instance.exceptions.sendExceptionEvent(t)}}var jM=9e5,lc="[Web Vitals]";class Wz{constructor(t){var n;ze(this,"_enabledServerSide",!1),ze(this,"_initialized",!1),ze(this,"buffer",{url:void 0,metrics:[],firstMetricTimestamp:void 0}),ze(this,"_flushToCapture",()=>{clearTimeout(this._delayedFlushTimer),this.buffer.metrics.length!==0&&(this.instance.capture("$web_vitals",this.buffer.metrics.reduce((r,i)=>Oe(Oe({},r),{},{["$web_vitals_".concat(i.name,"_event")]:Oe({},i),["$web_vitals_".concat(i.name,"_value")]:i.value}),{})),this.buffer={url:void 0,metrics:[],firstMetricTimestamp:void 0})}),ze(this,"_addToBuffer",r=>{var i,s=(i=this.instance.sessionManager)===null||i===void 0?void 0:i.checkAndGetSessionAndWindowId(!0);if(et(s))xe.error(lc+"Could not read session ID. Dropping metrics!");else{this.buffer=this.buffer||{url:void 0,metrics:[],firstMetricTimestamp:void 0};var l=this._currentURL();et(l)||(On(r==null?void 0:r.name)||On(r==null?void 0:r.value)?xe.error(lc+"Invalid metric received",r):this._maxAllowedValue&&r.value>=this._maxAllowedValue?xe.error(lc+"Ignoring metric with value >= "+this._maxAllowedValue,r):(this.buffer.url!==l&&(this._flushToCapture(),this._delayedFlushTimer=setTimeout(this._flushToCapture,this.flushToCaptureTimeoutMs)),et(this.buffer.url)&&(this.buffer.url=l),this.buffer.firstMetricTimestamp=et(this.buffer.firstMetricTimestamp)?Date.now():this.buffer.firstMetricTimestamp,r.attribution&&r.attribution.interactionTargetElement&&(r.attribution.interactionTargetElement=void 0),this.buffer.metrics.push(Oe(Oe({},r),{},{$current_url:l,$session_id:s.sessionId,$window_id:s.windowId,timestamp:Date.now()})),this.buffer.metrics.length===this.allowedMetrics.length&&this._flushToCapture()))}}),ze(this,"_startCapturing",()=>{var r,i,s,l,c=Tt.__PosthogExtensions__;et(c)||et(c.postHogWebVitalsCallbacks)||({onLCP:r,onCLS:i,onFCP:s,onINP:l}=c.postHogWebVitalsCallbacks),r&&i&&s&&l?(this.allowedMetrics.indexOf("LCP")>-1&&r(this._addToBuffer.bind(this)),this.allowedMetrics.indexOf("CLS")>-1&&i(this._addToBuffer.bind(this)),this.allowedMetrics.indexOf("FCP")>-1&&s(this._addToBuffer.bind(this)),this.allowedMetrics.indexOf("INP")>-1&&l(this._addToBuffer.bind(this)),this._initialized=!0):xe.error(lc+"web vitals callbacks not loaded - not starting")}),this.instance=t,this._enabledServerSide=!((n=this.instance.persistence)===null||n===void 0||!n.props[Qk]),this.startIfEnabled()}get allowedMetrics(){var t,n,r=Cr(this.instance.config.capture_performance)?(t=this.instance.config.capture_performance)===null||t===void 0?void 0:t.web_vitals_allowed_metrics:void 0;return et(r)?((n=this.instance.persistence)===null||n===void 0?void 0:n.props[Xk])||["CLS","FCP","INP","LCP"]:r}get flushToCaptureTimeoutMs(){return(Cr(this.instance.config.capture_performance)?this.instance.config.capture_performance.web_vitals_delayed_flush_ms:void 0)||5e3}get _maxAllowedValue(){var t=Cr(this.instance.config.capture_performance)&&ns(this.instance.config.capture_performance.__web_vitals_max_value)?this.instance.config.capture_performance.__web_vitals_max_value:jM;return 0<t&&t<=6e4?jM:t}get isEnabled(){var t=Cr(this.instance.config.capture_performance)?this.instance.config.capture_performance.web_vitals:void 0;return _c(t)?t:this._enabledServerSide}startIfEnabled(){this.isEnabled&&!this._initialized&&(xe.info(lc+" enabled, starting..."),this.loadScript(this._startCapturing))}afterDecideResponse(t){var n=Cr(t.capturePerformance)&&!!t.capturePerformance.web_vitals,r=Cr(t.capturePerformance)?t.capturePerformance.web_vitals_allowed_metrics:void 0;this.instance.persistence&&(this.instance.persistence.register({[Qk]:n}),this.instance.persistence.register({[Xk]:r})),this._enabledServerSide=n,this.startIfEnabled()}loadScript(t){var n,r,i;(n=Tt.__PosthogExtensions__)!==null&&n!==void 0&&n.postHogWebVitalsCallbacks&&t(),(r=Tt.__PosthogExtensions__)===null||r===void 0||(i=r.loadExternalDependency)===null||i===void 0||i.call(r,this.instance,"web-vitals",s=>{s?xe.error(lc+" failed to load script",s):t()})}_currentURL(){var t=fe?fe.location.href:void 0;return t||xe.error(lc+"Could not determine current URL"),t}}var Qz={icontains:(e,t)=>!!fe&&t.href.toLowerCase().indexOf(e.toLowerCase())>-1,not_icontains:(e,t)=>!!fe&&t.href.toLowerCase().indexOf(e.toLowerCase())===-1,regex:(e,t)=>!!fe&&jd(t.href,e),not_regex:(e,t)=>!!fe&&!jd(t.href,e),exact:(e,t)=>t.href===e,is_not:(e,t)=>t.href!==e};class Fr{constructor(t){var n=this;ze(this,"getWebExperimentsAndEvaluateDisplayLogic",function(){var r=arguments.length>0&&arguments[0]!==void 0&&arguments[0];n.getWebExperiments(i=>{Fr.logInfo("retrieved web experiments from the server"),n._flagToExperiments=new Map,i.forEach(s=>{if(s.feature_flag_key&&n._featureFlags&&n._featureFlags[s.feature_flag_key]){var l;n._flagToExperiments&&(Fr.logInfo("setting flag key ",s.feature_flag_key," to web experiment ",s),(l=n._flagToExperiments)===null||l===void 0||l.set(s.feature_flag_key,s));var c=n._featureFlags[s.feature_flag_key];c&&s.variants[c]&&n.applyTransforms(s.name,c,s.variants[c].transforms)}else if(s.variants)for(var d in s.variants){var u=s.variants[d];Fr.matchesTestVariant(u)&&n.applyTransforms(s.name,d,u.transforms)}})},r)}),this.instance=t,this.instance.onFeatureFlags&&this.instance.onFeatureFlags(r=>{this.applyFeatureFlagChanges(r)}),this._flagToExperiments=new Map}applyFeatureFlagChanges(t){On(this._flagToExperiments)||this.instance.config.disable_web_experiments||(Fr.logInfo("applying feature flags",t),t.forEach(n=>{var r;if(this._flagToExperiments&&(r=this._flagToExperiments)!==null&&r!==void 0&&r.has(n)){var i,s=this.instance.getFeatureFlag(n),l=(i=this._flagToExperiments)===null||i===void 0?void 0:i.get(n);s&&l!=null&&l.variants[s]&&this.applyTransforms(l.name,s,l.variants[s].transforms)}}))}afterDecideResponse(t){this._is_bot()?Fr.logInfo("Refusing to render web experiment since the viewer is a likely bot"):(this._featureFlags=t.featureFlags,this.loadIfEnabled(),this.previewWebExperiment())}previewWebExperiment(){var t=Fr.getWindowLocation();if(t!=null&&t.search){var n=W0(t==null?void 0:t.search,"__experiment_id"),r=W0(t==null?void 0:t.search,"__experiment_variant");n&&r&&(Fr.logInfo("previewing web experiments ".concat(n," && ").concat(r)),this.getWebExperiments(i=>{this.showPreviewWebExperiment(parseInt(n),r,i)},!1,!0))}}loadIfEnabled(){this.instance.config.disable_web_experiments||this.getWebExperimentsAndEvaluateDisplayLogic()}getWebExperiments(t,n,r){if(this.instance.config.disable_web_experiments&&!r)return t([]);var i=this.instance.get_property("$web_experiments");if(i&&!n)return t(i);this.instance._send_request({url:this.instance.requestRouter.endpointFor("api","/api/web_experiments/?token=".concat(this.instance.config.token)),method:"GET",transport:"XHR",callback:s=>{if(s.statusCode!==200||!s.json)return t([]);var l=s.json.experiments||[];return t(l)}})}showPreviewWebExperiment(t,n,r){var i=r.filter(s=>s.id===t);i&&i.length>0&&(Fr.logInfo("Previewing web experiment [".concat(i[0].name,"] with variant [").concat(n,"]")),this.applyTransforms(i[0].name,n,i[0].variants[n].transforms,!0))}static matchesTestVariant(t){return!On(t.conditions)&&Fr.matchUrlConditions(t)&&Fr.matchUTMConditions(t)}static matchUrlConditions(t){var n;if(On(t.conditions)||On((n=t.conditions)===null||n===void 0?void 0:n.url))return!0;var r,i,s,l=Fr.getWindowLocation();return!!l&&((r=t.conditions)===null||r===void 0||!r.url||Qz[(i=(s=t.conditions)===null||s===void 0?void 0:s.urlMatchType)!==null&&i!==void 0?i:"icontains"](t.conditions.url,l))}static getWindowLocation(){return fe==null?void 0:fe.location}static matchUTMConditions(t){var n;if(On(t.conditions)||On((n=t.conditions)===null||n===void 0?void 0:n.utm))return!0;var r=lr.campaignParams();if(r.utm_source){var i,s,l,c,d,u,p,h,v,y,b,_,w,T,k,R,M=(i=t.conditions)===null||i===void 0||(s=i.utm)===null||s===void 0||!s.utm_campaign||((l=t.conditions)===null||l===void 0||(c=l.utm)===null||c===void 0?void 0:c.utm_campaign)==r.utm_campaign,E=(d=t.conditions)===null||d===void 0||(u=d.utm)===null||u===void 0||!u.utm_source||((p=t.conditions)===null||p===void 0||(h=p.utm)===null||h===void 0?void 0:h.utm_source)==r.utm_source,O=(v=t.conditions)===null||v===void 0||(y=v.utm)===null||y===void 0||!y.utm_medium||((b=t.conditions)===null||b===void 0||(_=b.utm)===null||_===void 0?void 0:_.utm_medium)==r.utm_medium,j=(w=t.conditions)===null||w===void 0||(T=w.utm)===null||T===void 0||!T.utm_term||((k=t.conditions)===null||k===void 0||(R=k.utm)===null||R===void 0?void 0:R.utm_term)==r.utm_term;return M&&O&&j&&E}return!1}static logInfo(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];xe.info("[WebExperiments] ".concat(t),r)}applyTransforms(t,n,r,i){var s;this._is_bot()?Fr.logInfo("Refusing to render web experiment since the viewer is a likely bot"):n!=="control"?r.forEach(l=>{if(l.selector){var c;Fr.logInfo("applying transform of variant ".concat(n," for experiment ").concat(t," "),l);var d,u=0,p=(c=document)===null||c===void 0?void 0:c.querySelectorAll(l.selector);p==null||p.forEach(h=>{var v=h;u+=1,l.attributes&&l.attributes.forEach(y=>{switch(y.name){case"text":v.innerText=y.value;break;case"html":v.innerHTML=y.value;break;case"cssClass":v.className=y.value;break;default:v.setAttribute(y.name,y.value)}}),l.text&&(v.innerText=l.text),l.html&&(v.parentElement?v.parentElement.innerHTML=l.html:v.innerHTML=l.html),l.css&&v.setAttribute("style",l.css)}),this.instance&&this.instance.capture&&this.instance.capture("$web_experiment_applied",{$web_experiment_name:t,$web_experiment_variant:n,$web_experiment_preview:i,$web_experiment_document_url:(d=Fr.getWindowLocation())===null||d===void 0?void 0:d.href,$web_experiment_elements_modified:u})}}):(Fr.logInfo("Control variants leave the page unmodified."),this.instance&&this.instance.capture&&this.instance.capture("$web_experiment_applied",{$web_experiment_name:t,$web_experiment_preview:i,$web_experiment_variant:n,$web_experiment_document_url:(s=Fr.getWindowLocation())===null||s===void 0?void 0:s.href,$web_experiment_elements_modified:0}))}_is_bot(){return is&&this.instance?BP(is,this.instance.config.custom_blocked_useragents):void 0}}class Xz{constructor(t){this.instance=t}sendExceptionEvent(t){this.instance.capture("$exception",t,{_noTruncate:!0,_batchKey:"exceptionEvent"})}}var Jz=["$set_once","$set"];class Zz{constructor(t){this.instance=t,this.enabled=!!this.instance.config.opt_in_site_apps&&!this.instance.config.advanced_disable_decide,this.missedInvocations=[],this.loaded=!1,this.appsLoading=new Set}eventCollector(t,n){if(this.enabled&&!this.loaded&&n){var r=this.globalsForEvent(n);this.missedInvocations.push(r),this.missedInvocations.length>1e3&&(this.missedInvocations=this.missedInvocations.slice(10))}}init(){var t;(t=this.instance)===null||t===void 0||t._addCaptureHook(this.eventCollector.bind(this))}globalsForEvent(t){var n,r,i,s,l,c,d;if(!t)throw new Error("Event payload is required");var u={},p=this.instance.get_property("$groups")||[],h=this.instance.get_property("$stored_group_properties")||{};for(var[v,y]of Object.entries(h))u[v]={id:p[v],type:v,properties:y};var{$set_once:b,$set:_}=t;return{event:Oe(Oe({},zj(t,Jz)),{},{properties:Oe(Oe(Oe({},t.properties),_?{$set:Oe(Oe({},(n=(r=t.properties)===null||r===void 0?void 0:r.$set)!==null&&n!==void 0?n:{}),_)}:{}),b?{$set_once:Oe(Oe({},(i=(s=t.properties)===null||s===void 0?void 0:s.$set_once)!==null&&i!==void 0?i:{}),b)}:{}),elements_chain:(l=(c=t.properties)===null||c===void 0?void 0:c.$elements_chain)!==null&&l!==void 0?l:"",distinct_id:(d=t.properties)===null||d===void 0?void 0:d.distinct_id}),person:{properties:this.instance.get_property("$stored_person_properties")},groups:u}}afterDecideResponse(t){var n=this;mr(t==null?void 0:t.siteApps)&&t.siteApps.length>0?this.enabled&&this.instance.config.opt_in_site_apps?function(){var r=()=>{n.appsLoading.size===0&&(n.loaded=!0,n.missedInvocations=[])},i=function(c,d){var u,p;n.appsLoading.add(c),Tt["__$$ph_site_app_".concat(c,"_posthog")]=n.instance,Tt["__$$ph_site_app_".concat(c,"_missed_invocations")]=()=>n.missedInvocations,Tt["__$$ph_site_app_".concat(c,"_callback")]=()=>{n.appsLoading.delete(c),r()},(u=Tt.__PosthogExtensions__)===null||u===void 0||(p=u.loadSiteApp)===null||p===void 0||p.call(u,n.instance,d,h=>{if(h)return n.appsLoading.delete(c),r(),xe.error("Error while initializing PostHog app with config id ".concat(c),h)})};for(var{id:s,url:l}of t.siteApps)i(s,l)}():t.siteApps.length>0?(xe.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.'),this.loaded=!0):this.loaded=!0:(this.loaded=!0,this.enabled=!1)}}var Zh={},AS=()=>{},sd="posthog",FP=!yz&&($r==null?void 0:$r.indexOf("MSIE"))===-1&&($r==null?void 0:$r.indexOf("Mozilla"))===-1,PM=()=>{var e,t,n;return{api_host:"https://us.i.posthog.com",ui_host:null,token:"",autocapture:!0,rageclick:!0,cross_subdomain_cookie:(t=He==null?void 0:He.location,n=t==null?void 0:t.hostname,!!fi(n)&&n.split(".").slice(-2).join(".")!=="herokuapp.com"),persistence:"localStorage+cookie",persistence_name:"",loaded:AS,store_google:!0,custom_campaign_params:[],custom_blocked_useragents:[],save_referrer:!0,capture_pageview:!0,capture_pageleave:"if_capture_pageview",debug:Li&&fi(Li==null?void 0:Li.search)&&Li.search.indexOf("__posthog_debug=true")!==-1||!1,verbose:!1,cookie_expiration:365,upgrade:!1,disable_session_recording:!1,disable_persistence:!1,disable_web_experiments:!0,disable_surveys:!1,enable_recording_console_log:void 0,secure_cookie:(fe==null||(e=fe.location)===null||e===void 0?void 0:e.protocol)==="https:",ip:!0,opt_out_capturing_by_default:!1,opt_out_persistence_by_default:!1,opt_out_useragent_filter:!1,opt_out_capturing_persistence_type:"localStorage",opt_out_capturing_cookie_prefix:null,opt_in_site_apps:!1,property_denylist:[],respect_dnt:!1,sanitize_properties:null,request_headers:{},inapp_protocol:"//",inapp_link_new_window:!1,request_batching:!0,properties_string_max_length:65535,session_recording:{},mask_all_element_attributes:!1,mask_all_text:!1,advanced_disable_decide:!1,advanced_disable_feature_flags:!1,advanced_disable_feature_flags_on_first_load:!1,advanced_disable_toolbar_metrics:!1,feature_flag_request_timeout_ms:3e3,on_request_error:r=>{var i="Bad HTTP status: "+r.statusCode+" "+r.text;xe.error(i)},get_device_id:r=>r,_onCapture:AS,capture_performance:void 0,name:"posthog",bootstrap:{},disable_compression:!1,session_idle_timeout_seconds:1800,person_profiles:"identified_only",__add_tracing_headers:!1,before_send:void 0}},VM=e=>{var t={};et(e.process_person)||(t.person_profiles=e.process_person),et(e.xhr_headers)||(t.request_headers=e.xhr_headers),et(e.cookie_name)||(t.persistence_name=e.cookie_name),et(e.disable_cookie)||(t.disable_persistence=e.disable_cookie);var n=Ti({},t,e);return mr(e.property_blacklist)&&(et(e.property_denylist)?n.property_denylist=e.property_blacklist:mr(e.property_denylist)?n.property_denylist=[...e.property_blacklist,...e.property_denylist]:xe.error("Invalid value for property_denylist config: "+e.property_denylist)),n};class e${constructor(){ze(this,"__forceAllowLocalhost",!1)}get _forceAllowLocalhost(){return this.__forceAllowLocalhost}set _forceAllowLocalhost(t){xe.error("WebPerformanceObserver is deprecated and has no impact on network capture. Use `_forceAllowLocalhostNetworkCapture` on `posthog.sessionRecording`"),this.__forceAllowLocalhost=t}}class Kv{constructor(){ze(this,"webPerformance",new e$),ze(this,"version",cl.LIB_VERSION),ze(this,"_internalEventEmitter",new TP),this.config=PM(),this.decideEndpointWasHit=!1,this.SentryIntegration=xz,this.sentryIntegration=t=>function(n,r){var i=EP(n,r);return{name:wP,processEvent:s=>i(s)}}(this,t),this.__request_queue=[],this.__loaded=!1,this.analyticsDefaultEndpoint="/e/",this._initialPageviewCaptured=!1,this._initialPersonProfilesConfig=null,this.featureFlags=new SF(this),this.toolbar=new mz(this),this.scrollManager=new zz(this),this.pageViewManager=new Ez(this),this.surveys=new jz(this),this.experiments=new Fr(this),this.exceptions=new Xz(this),this.rateLimiter=new Pz(this),this.requestRouter=new Sz(this),this.consent=new Yz(this),this.people={set:(t,n,r)=>{var i=fi(t)?{[t]:n}:t;this.setPersonProperties(i),r==null||r({})},set_once:(t,n,r)=>{var i=fi(t)?{[t]:n}:t;this.setPersonProperties(void 0,i),r==null||r({})}},this.on("eventCaptured",t=>xe.info('send "'.concat(t==null?void 0:t.event,'"'),t))}init(t,n,r){if(r&&r!==sd){var i,s=(i=Zh[r])!==null&&i!==void 0?i:new Kv;return s._init(t,n,r),Zh[r]=s,Zh[sd][r]=s,s}return this._init(t,n,r)}_init(t){var n,r,i,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=arguments.length>2?arguments[2]:void 0;if(et(t)||Hk(t))return xe.critical("PostHog was initialized without a token. This likely indicates a misconfiguration. Please check the first argument passed to posthog.init()"),this;if(this.__loaded)return xe.warn("You have already initialized PostHog! Re-initializing is a no-op"),this;this.__loaded=!0,this.config={},this._triggered_notifs=[],s.person_profiles&&(this._initialPersonProfilesConfig=s.person_profiles),this.set_config(Ti({},PM(),VM(s),{name:l,token:t})),this.config.on_xhr_error&&xe.error("[posthog] on_xhr_error is deprecated. Use on_request_error instead"),this.compression=s.disable_compression?void 0:so.GZipJS,this.persistence=new a1(this.config),this.sessionPersistence=this.config.persistence==="sessionStorage"||this.config.persistence==="memory"?this.persistence:new a1(Oe(Oe({},this.config),{},{persistence:"sessionStorage"}));var c=Oe({},this.persistence.props),d=Oe({},this.sessionPersistence.props);if(this._requestQueue=new vz(k=>this._send_retriable_request(k)),this._retryQueue=new bz(this),this.__request_queue=[],this.sessionManager=new _z(this),this.sessionPropsManager=new Dz(this.sessionManager,this.persistence),new Gz(this).startIfEnabledOrStop(),this.siteApps=new Zz(this),(n=this.siteApps)===null||n===void 0||n.init(),this.sessionRecording=new hz(this),this.sessionRecording.startIfEnabledOrStop(),this.config.disable_scroll_properties||this.scrollManager.startMeasuringScrollPosition(),this.autocapture=new qz(this),this.autocapture.startIfEnabled(),this.surveys.loadIfEnabled(),this.heatmaps=new Fz(this),this.heatmaps.startIfEnabled(),this.webVitalsAutocapture=new Wz(this),this.exceptionObserver=new Kz(this),this.exceptionObserver.startIfEnabled(),this.deadClicksAutocapture=new LP(this,Lz),this.deadClicksAutocapture.startIfEnabled(),cl.DEBUG=cl.DEBUG||this.config.debug,cl.DEBUG&&xe.info("Starting in debug mode",{this:this,config:s,thisC:Oe({},this.config),p:c,s:d}),this._sync_opt_out_with_persistence(),((r=s.bootstrap)===null||r===void 0?void 0:r.distinctID)!==void 0){var u,p,h=this.config.get_device_id(pl()),v=(u=s.bootstrap)!==null&&u!==void 0&&u.isIdentifiedID?h:s.bootstrap.distinctID;this.persistence.set_property(ua,(p=s.bootstrap)!==null&&p!==void 0&&p.isIdentifiedID?"identified":"anonymous"),this.register({distinct_id:s.bootstrap.distinctID,$device_id:v})}if(this._hasBootstrappedFeatureFlags()){var y,b,_=Object.keys(((y=s.bootstrap)===null||y===void 0?void 0:y.featureFlags)||{}).filter(k=>{var R,M;return!((R=s.bootstrap)===null||R===void 0||(M=R.featureFlags)===null||M===void 0||!M[k])}).reduce((k,R)=>{var M,E;return k[R]=((M=s.bootstrap)===null||M===void 0||(E=M.featureFlags)===null||E===void 0?void 0:E[R])||!1,k},{}),w=Object.keys(((b=s.bootstrap)===null||b===void 0?void 0:b.featureFlagPayloads)||{}).filter(k=>_[k]).reduce((k,R)=>{var M,E,O,j;return(M=s.bootstrap)!==null&&M!==void 0&&(E=M.featureFlagPayloads)!==null&&E!==void 0&&E[R]&&(k[R]=(O=s.bootstrap)===null||O===void 0||(j=O.featureFlagPayloads)===null||j===void 0?void 0:j[R]),k},{});this.featureFlags.receivedFeatureFlags({featureFlags:_,featureFlagPayloads:w})}if(!this.get_distinct_id()){var T=this.config.get_device_id(pl());this.register_once({distinct_id:T,$device_id:T},""),this.persistence.set_property(ua,"anonymous")}return fe==null||(i=fe.addEventListener)===null||i===void 0||i.call(fe,"onpagehide"in self?"pagehide":"unload",this._handle_unload.bind(this)),this.toolbar.maybeLoadToolbar(),s.segment?wz(this,()=>this._loaded()):this._loaded(),Ds(this.config._onCapture)&&this.config._onCapture!==AS&&(xe.warn("onCapture is deprecated. Please use `before_send` instead"),this.on("eventCaptured",k=>this.config._onCapture(k.event,k))),this}_afterDecideResponse(t){var n,r,i,s,l,c,d,u,p,h;this.compression=void 0,t.supportedCompression&&!this.config.disable_compression&&(this.compression=$t(t.supportedCompression,so.GZipJS)?so.GZipJS:$t(t.supportedCompression,so.Base64)?so.Base64:void 0),(n=t.analytics)!==null&&n!==void 0&&n.endpoint&&(this.analyticsDefaultEndpoint=t.analytics.endpoint),this.set_config({person_profiles:this._initialPersonProfilesConfig?this._initialPersonProfilesConfig:t.defaultIdentifiedOnly?"identified_only":"always"}),(r=this.siteApps)===null||r===void 0||r.afterDecideResponse(t),(i=this.sessionRecording)===null||i===void 0||i.afterDecideResponse(t),(s=this.autocapture)===null||s===void 0||s.afterDecideResponse(t),(l=this.heatmaps)===null||l===void 0||l.afterDecideResponse(t),(c=this.experiments)===null||c===void 0||c.afterDecideResponse(t),(d=this.surveys)===null||d===void 0||d.afterDecideResponse(t),(u=this.webVitalsAutocapture)===null||u===void 0||u.afterDecideResponse(t),(p=this.exceptionObserver)===null||p===void 0||p.afterDecideResponse(t),(h=this.deadClicksAutocapture)===null||h===void 0||h.afterDecideResponse(t)}_loaded(){var t=this.config.advanced_disable_decide;t||this.featureFlags.setReloadingPaused(!0);try{this.config.loaded(this)}catch(n){xe.critical("`loaded` function failed",n)}this._start_queue_if_opted_in(),this.config.capture_pageview&&setTimeout(()=>{this.consent.isOptedIn()&&this._captureInitialPageview()},1),t||(new pz(this).call(),this.featureFlags.resetRequestQueue())}_start_queue_if_opted_in(){var t;this.has_opted_out_capturing()||this.config.request_batching&&((t=this._requestQueue)===null||t===void 0||t.enable())}_dom_loaded(){this.has_opted_out_capturing()||yd(this.__request_queue,t=>this._send_retriable_request(t)),this.__request_queue=[],this._start_queue_if_opted_in()}_handle_unload(){var t,n;this.config.request_batching?(this._shouldCapturePageleave()&&this.capture("$pageleave"),(t=this._requestQueue)===null||t===void 0||t.unload(),(n=this._retryQueue)===null||n===void 0||n.unload()):this._shouldCapturePageleave()&&this.capture("$pageleave",null,{transport:"sendBeacon"})}_send_request(t){this.__loaded&&(FP?this.__request_queue.push(t):this.rateLimiter.isServerRateLimited(t.batchKey)||(t.transport=t.transport||this.config.api_transport,t.url=tv(t.url,{ip:this.config.ip?1:0}),t.headers=Oe({},this.config.request_headers),t.compression=t.compression==="best-available"?this.compression:t.compression,(n=>{var r,i,s,l=Oe({},n);l.timeout=l.timeout||6e4,l.url=tv(l.url,{_:new Date().getTime().toString(),ver:cl.LIB_VERSION,compression:l.compression});var c=(r=l.transport)!==null&&r!==void 0?r:"XHR",d=(i=(s=Nj(Jh,u=>u.transport===c))===null||s===void 0?void 0:s.method)!==null&&i!==void 0?i:Jh[0].method;if(!d)throw new Error("No available transport method");d(l)})(Oe(Oe({},t),{},{callback:n=>{var r,i,s;this.rateLimiter.checkForLimiting(n),n.statusCode>=400&&((i=(s=this.config).on_request_error)===null||i===void 0||i.call(s,n)),(r=t.callback)===null||r===void 0||r.call(t,n)}}))))}_send_retriable_request(t){this._retryQueue?this._retryQueue.retriableRequest(t):this._send_request(t)}_execute_array(t){var n,r=[],i=[],s=[];yd(t,c=>{c&&(n=c[0],mr(n)?s.push(c):Ds(c)?c.call(this):mr(c)&&n==="alias"?r.push(c):mr(c)&&n.indexOf("capture")!==-1&&Ds(this[n])?s.push(c):i.push(c))});var l=function(c,d){yd(c,function(u){if(mr(u[0])){var p=d;wn(u,function(h){p=p[h[0]].apply(p,h.slice(1))})}else this[u[0]].apply(this,u.slice(1))},d)};l(r,this),l(i,this),l(s,this)}_hasBootstrappedFeatureFlags(){var t,n;return((t=this.config.bootstrap)===null||t===void 0?void 0:t.featureFlags)&&Object.keys((n=this.config.bootstrap)===null||n===void 0?void 0:n.featureFlags).length>0||!1}push(t){this._execute_array([t])}capture(t,n,r){var i;if(this.__loaded&&this.persistence&&this.sessionPersistence&&this._requestQueue){if(!this.consent.isOptedOut())if(!et(t)&&fi(t)){if(this.config.opt_out_useragent_filter||!this._is_bot()){var s=r!=null&&r.skip_client_rate_limiting?void 0:this.rateLimiter.clientRateLimitContext();if(s==null||!s.isRateLimited){this.sessionPersistence.update_search_keyword(),this.config.store_google&&this.sessionPersistence.update_campaign_params(),this.config.save_referrer&&this.sessionPersistence.update_referrer_info(),(this.config.store_google||this.config.save_referrer)&&this.persistence.set_initial_person_info();var l=new Date,c=(r==null?void 0:r.timestamp)||l,d={uuid:pl(),event:t,properties:this._calculate_event_properties(t,n||{},c)};s&&(d.properties.$lib_rate_limit_remaining_tokens=s.remainingTokens),r!=null&&r.$set&&(d.$set=r==null?void 0:r.$set);var u=this._calculate_set_once_properties(r==null?void 0:r.$set_once);u&&(d.$set_once=u),(d=gF(d,r!=null&&r._noTruncate?null:this.config.properties_string_max_length)).timestamp=c,et(r==null?void 0:r.timestamp)||(d.properties.$event_time_override_provided=!0,d.properties.$event_time_override_system_time=l);var p=Oe(Oe({},d.properties.$set),d.$set);if(cd(p)||this.setPersonPropertiesForFlags(p),!On(this.config.before_send)){var h=this._runBeforeSend(d);if(!h)return;d=h}this._internalEventEmitter.emit("eventCaptured",d);var v={method:"POST",url:(i=r==null?void 0:r._url)!==null&&i!==void 0?i:this.requestRouter.endpointFor("api",this.analyticsDefaultEndpoint),data:d,compression:"best-available",batchKey:r==null?void 0:r._batchKey};return!this.config.request_batching||r&&(r==null||!r._batchKey)||r!=null&&r.send_instantly?this._send_retriable_request(v):this._requestQueue.enqueue(v),d}xe.critical("This capture call is ignored due to client rate limiting.")}}else xe.error("No event name provided to posthog.capture")}else xe.uninitializedWarning("posthog.capture")}_addCaptureHook(t){return this.on("eventCaptured",n=>t(n.event,n))}_calculate_event_properties(t,n,r){if(r=r||new Date,!this.persistence||!this.sessionPersistence)return n;var i=this.persistence.remove_event_timer(t),s=Oe({},n);if(s.token=this.config.token,t==="$snapshot"){var l=Oe(Oe({},this.persistence.properties()),this.sessionPersistence.properties());return s.distinct_id=l.distinct_id,(!fi(s.distinct_id)&&!ns(s.distinct_id)||Hk(s.distinct_id))&&xe.error("Invalid distinct_id for replay event. This indicates a bug in your implementation"),s}var c=lr.properties();if(this.sessionManager){var{sessionId:d,windowId:u}=this.sessionManager.checkAndGetSessionAndWindowId();s.$session_id=d,s.$window_id=u}if(this.sessionRecording&&(s.$recording_status=this.sessionRecording.status),this.requestRouter.region===Sc.CUSTOM&&(s.$lib_custom_api_host=this.config.api_host),this.sessionPropsManager&&this.config.__preview_send_client_session_params&&(t==="$pageview"||t==="$pageleave"||t==="$autocapture")){var p=this.sessionPropsManager.getSessionProps();s=Ti(s,p)}if(!this.config.disable_scroll_properties){var h={};t==="$pageview"?h=this.pageViewManager.doPageView(r):t==="$pageleave"&&(h=this.pageViewManager.doPageLeave(r)),s=Ti(s,h)}if(t==="$pageview"&&He&&(s.title=He.title),!et(i)){var v=r.getTime()-i;s.$duration=parseFloat((v/1e3).toFixed(3))}$r&&this.config.opt_out_useragent_filter&&(s.$browser_type=this._is_bot()?"bot":"browser"),(s=Ti({},c,this.persistence.properties(),this.sessionPersistence.properties(),s)).$is_identified=this._isIdentified(),mr(this.config.property_denylist)?wn(this.config.property_denylist,function(_){delete s[_]}):xe.error("Invalid value for property_denylist config: "+this.config.property_denylist+" or property_blacklist config: "+this.config.property_blacklist);var y=this.config.sanitize_properties;y&&(s=y(s,t));var b=this._hasPersonProcessing();return s.$process_person_profile=b,b&&this._requirePersonProcessing("_calculate_event_properties"),s}_calculate_set_once_properties(t){if(!this.persistence||!this._hasPersonProcessing())return t;var n=Ti({},this.persistence.get_initial_props(),t||{}),r=this.config.sanitize_properties;return r&&(n=r(n,"$set_once")),cd(n)?void 0:n}register(t,n){var r;(r=this.persistence)===null||r===void 0||r.register(t,n)}register_once(t,n,r){var i;(i=this.persistence)===null||i===void 0||i.register_once(t,n,r)}register_for_session(t){var n;(n=this.sessionPersistence)===null||n===void 0||n.register(t)}unregister(t){var n;(n=this.persistence)===null||n===void 0||n.unregister(t)}unregister_for_session(t){var n;(n=this.sessionPersistence)===null||n===void 0||n.unregister(t)}_register_single(t,n){this.register({[t]:n})}getFeatureFlag(t,n){return this.featureFlags.getFeatureFlag(t,n)}getFeatureFlagPayload(t){var n=this.featureFlags.getFeatureFlagPayload(t);try{return JSON.parse(n)}catch{return n}}isFeatureEnabled(t,n){return this.featureFlags.isFeatureEnabled(t,n)}reloadFeatureFlags(){this.featureFlags.reloadFeatureFlags()}updateEarlyAccessFeatureEnrollment(t,n){this.featureFlags.updateEarlyAccessFeatureEnrollment(t,n)}getEarlyAccessFeatures(t){var n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return this.featureFlags.getEarlyAccessFeatures(t,n)}on(t,n){return this._internalEventEmitter.on(t,n)}onFeatureFlags(t){return this.featureFlags.onFeatureFlags(t)}onSessionId(t){var n,r;return(n=(r=this.sessionManager)===null||r===void 0?void 0:r.onSessionId(t))!==null&&n!==void 0?n:()=>{}}getSurveys(t){var n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.surveys.getSurveys(t,n)}getActiveMatchingSurveys(t){var n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.surveys.getActiveMatchingSurveys(t,n)}renderSurvey(t,n){this.surveys.renderSurvey(t,n)}canRenderSurvey(t){this.surveys.canRenderSurvey(t)}getNextSurveyStep(t,n,r){return this.surveys.getNextSurveyStep(t,n,r)}identify(t,n,r){if(!this.__loaded||!this.persistence)return xe.uninitializedWarning("posthog.identify");if(ns(t)&&(t=t.toString(),xe.warn("The first argument to posthog.identify was a number, but it should be a string. It has been converted to a string.")),t){if(["distinct_id","distinctid"].includes(t.toLowerCase()))xe.critical('The string "'.concat(t,'" was set in posthog.identify which indicates an error. This ID should be unique to the user and not a hardcoded string.'));else if(this._requirePersonProcessing("posthog.identify")){var i=this.get_distinct_id();if(this.register({$user_id:t}),!this.get_property("$device_id")){var s=i;this.register_once({$had_persisted_distinct_id:!0,$device_id:s},"")}t!==i&&t!==this.get_property(Nh)&&(this.unregister(Nh),this.register({distinct_id:t}));var l=(this.persistence.get_property(ua)||"anonymous")==="anonymous";t!==i&&l?(this.persistence.set_property(ua,"identified"),this.setPersonPropertiesForFlags(n||{},!1),this.capture("$identify",{distinct_id:t,$anon_distinct_id:i},{$set:n||{},$set_once:r||{}}),this.featureFlags.setAnonymousDistinctId(i)):(n||r)&&this.setPersonProperties(n,r),t!==i&&(this.reloadFeatureFlags(),this.unregister(G0))}}else xe.error("Unique user id has not been set in posthog.identify")}setPersonProperties(t,n){(t||n)&&this._requirePersonProcessing("posthog.setPersonProperties")&&(this.setPersonPropertiesForFlags(t||{}),this.capture("$set",{$set:t||{},$set_once:n||{}}))}group(t,n,r){if(t&&n){if(this._requirePersonProcessing("posthog.group")){var i=this.getGroups();i[t]!==n&&this.resetGroupPropertiesForFlags(t),this.register({$groups:Oe(Oe({},i),{},{[t]:n})}),r&&(this.capture("$groupidentify",{$group_type:t,$group_key:n,$group_set:r}),this.setGroupPropertiesForFlags({[t]:r})),i[t]===n||r||this.reloadFeatureFlags()}}else xe.error("posthog.group requires a group type and group key")}resetGroups(){this.register({$groups:{}}),this.resetGroupPropertiesForFlags(),this.reloadFeatureFlags()}setPersonPropertiesForFlags(t){var n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this._requirePersonProcessing("posthog.setPersonPropertiesForFlags")&&this.featureFlags.setPersonPropertiesForFlags(t,n)}resetPersonPropertiesForFlags(){this.featureFlags.resetPersonPropertiesForFlags()}setGroupPropertiesForFlags(t){var n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this._requirePersonProcessing("posthog.setGroupPropertiesForFlags")&&this.featureFlags.setGroupPropertiesForFlags(t,n)}resetGroupPropertiesForFlags(t){this.featureFlags.resetGroupPropertiesForFlags(t)}reset(t){var n,r,i,s,l;if(xe.info("reset"),!this.__loaded)return xe.uninitializedWarning("posthog.reset");var c=this.get_property("$device_id");this.consent.reset(),(n=this.persistence)===null||n===void 0||n.clear(),(r=this.sessionPersistence)===null||r===void 0||r.clear(),(i=this.surveys)===null||i===void 0||i.reset(),(s=this.persistence)===null||s===void 0||s.set_property(ua,"anonymous"),(l=this.sessionManager)===null||l===void 0||l.resetSessionId();var d=this.config.get_device_id(pl());this.register_once({distinct_id:d,$device_id:t?d:c},"")}get_distinct_id(){return this.get_property("distinct_id")}getGroups(){return this.get_property("$groups")||{}}get_session_id(){var t,n;return(t=(n=this.sessionManager)===null||n===void 0?void 0:n.checkAndGetSessionAndWindowId(!0).sessionId)!==null&&t!==void 0?t:""}get_session_replay_url(t){if(!this.sessionManager)return"";var{sessionId:n,sessionStartTimestamp:r}=this.sessionManager.checkAndGetSessionAndWindowId(!0),i=this.requestRouter.endpointFor("ui","/project/".concat(this.config.token,"/replay/").concat(n));if(t!=null&&t.withTimestamp&&r){var s,l=(s=t.timestampLookBack)!==null&&s!==void 0?s:10;if(!r)return i;var c=Math.max(Math.floor((new Date().getTime()-r)/1e3)-l,0);i+="?t=".concat(c)}return i}alias(t,n){return t===this.get_property($j)?(xe.critical("Attempting to create alias for existing People user - aborting."),-2):this._requirePersonProcessing("posthog.alias")?(et(n)&&(n=this.get_distinct_id()),t!==n?(this._register_single(Nh,t),this.capture("$create_alias",{alias:t,distinct_id:n})):(xe.warn("alias matches current distinct_id - skipping api call."),this.identify(t),-1)):void 0}set_config(t){var n,r,i,s,l=Oe({},this.config);Cr(t)&&(Ti(this.config,VM(t)),(n=this.persistence)===null||n===void 0||n.update_config(this.config,l),this.sessionPersistence=this.config.persistence==="sessionStorage"||this.config.persistence==="memory"?this.persistence:new a1(Oe(Oe({},this.config),{},{persistence:"sessionStorage"})),Or.is_supported()&&Or.get("ph_debug")==="true"&&(this.config.debug=!0),this.config.debug&&(cl.DEBUG=!0,xe.info("set_config",{config:t,oldConfig:l,newConfig:Oe({},this.config)})),(r=this.sessionRecording)===null||r===void 0||r.startIfEnabledOrStop(),(i=this.autocapture)===null||i===void 0||i.startIfEnabled(),(s=this.heatmaps)===null||s===void 0||s.startIfEnabled(),this.surveys.loadIfEnabled(),this._sync_opt_out_with_persistence())}startSessionRecording(t){var n=t===!0,r={sampling:n||!(t==null||!t.sampling),linked_flag:n||!(t==null||!t.linked_flag),url_trigger:n||!(t==null||!t.url_trigger),event_trigger:n||!(t==null||!t.event_trigger)};if(Object.values(r).some(Boolean)){var i,s,l,c,d;(i=this.sessionManager)===null||i===void 0||i.checkAndGetSessionAndWindowId(),r.sampling&&((s=this.sessionRecording)===null||s===void 0||s.overrideSampling()),r.linked_flag&&((l=this.sessionRecording)===null||l===void 0||l.overrideLinkedFlag()),r.url_trigger&&((c=this.sessionRecording)===null||c===void 0||c.overrideTrigger("url")),r.event_trigger&&((d=this.sessionRecording)===null||d===void 0||d.overrideTrigger("event"))}this.set_config({disable_session_recording:!1})}stopSessionRecording(){this.set_config({disable_session_recording:!0})}sessionRecordingStarted(){var t;return!((t=this.sessionRecording)===null||t===void 0||!t.started)}captureException(t,n){var r,i=new Error("PostHog syntheticException"),s=Ds((r=Tt.__PosthogExtensions__)===null||r===void 0?void 0:r.parseErrorAsProperties)?Tt.__PosthogExtensions__.parseErrorAsProperties([t.message,void 0,void 0,void 0,t],{syntheticException:i}):Oe({$exception_level:"error",$exception_list:[{type:t.name,value:t.message,mechanism:{handled:!0,synthetic:!1}}]},n);this.exceptions.sendExceptionEvent(s)}loadToolbar(t){return this.toolbar.loadToolbar(t)}get_property(t){var n;return(n=this.persistence)===null||n===void 0?void 0:n.props[t]}getSessionProperty(t){var n;return(n=this.sessionPersistence)===null||n===void 0?void 0:n.props[t]}toString(){var t,n=(t=this.config.name)!==null&&t!==void 0?t:sd;return n!==sd&&(n=sd+"."+n),n}_isIdentified(){var t,n;return((t=this.persistence)===null||t===void 0?void 0:t.get_property(ua))==="identified"||((n=this.sessionPersistence)===null||n===void 0?void 0:n.get_property(ua))==="identified"}_hasPersonProcessing(){var t,n,r,i;return!(this.config.person_profiles==="never"||this.config.person_profiles==="identified_only"&&!this._isIdentified()&&cd(this.getGroups())&&((t=this.persistence)===null||t===void 0||(n=t.props)===null||n===void 0||!n[Nh])&&((r=this.persistence)===null||r===void 0||(i=r.props)===null||i===void 0||!i[Y0]))}_shouldCapturePageleave(){return this.config.capture_pageleave===!0||this.config.capture_pageleave==="if_capture_pageview"&&this.config.capture_pageview}createPersonProfile(){this._hasPersonProcessing()||this._requirePersonProcessing("posthog.createPersonProfile")&&this.setPersonProperties({},{})}_requirePersonProcessing(t){return this.config.person_profiles==="never"?(xe.error(t+' was called, but process_person is set to "never". This call will be ignored.'),!1):(this._register_single(Y0,!0),!0)}_sync_opt_out_with_persistence(){var t,n,r,i,s=this.consent.isOptedOut(),l=this.config.opt_out_persistence_by_default,c=this.config.disable_persistence||s&&!!l;((t=this.persistence)===null||t===void 0?void 0:t.disabled)!==c&&((r=this.persistence)===null||r===void 0||r.set_disabled(c)),((n=this.sessionPersistence)===null||n===void 0?void 0:n.disabled)!==c&&((i=this.sessionPersistence)===null||i===void 0||i.set_disabled(c))}opt_in_capturing(t){var n;this.consent.optInOut(!0),this._sync_opt_out_with_persistence(),(et(t==null?void 0:t.captureEventName)||t!=null&&t.captureEventName)&&this.capture((n=t==null?void 0:t.captureEventName)!==null&&n!==void 0?n:"$opt_in",t==null?void 0:t.captureProperties,{send_instantly:!0}),this.config.capture_pageview&&this._captureInitialPageview()}opt_out_capturing(){this.consent.optInOut(!1),this._sync_opt_out_with_persistence()}has_opted_in_capturing(){return this.consent.isOptedIn()}has_opted_out_capturing(){return this.consent.isOptedOut()}clear_opt_in_out_capturing(){this.consent.reset(),this._sync_opt_out_with_persistence()}_is_bot(){return is?BP(is,this.config.custom_blocked_useragents):void 0}_captureInitialPageview(){He&&!this._initialPageviewCaptured&&(this._initialPageviewCaptured=!0,this.capture("$pageview",{title:He.title},{send_instantly:!0}))}debug(t){t===!1?(fe==null||fe.console.log("You've disabled debug mode."),localStorage&&localStorage.removeItem("ph_debug"),this.set_config({debug:!1})):(fe==null||fe.console.log("You're now in debug mode. All calls to PostHog will be logged in your console.\nYou can disable this with `posthog.debug(false)`."),localStorage&&localStorage.setItem("ph_debug","true"),this.set_config({debug:!0}))}_runBeforeSend(t){if(On(this.config.before_send))return t;var n=mr(this.config.before_send)?this.config.before_send:[this.config.before_send],r=t;for(var i of n){if(r=i(r),On(r)){var s="Event '".concat(t.event,"' was rejected in beforeSend function");return bF(t.event)?xe.warn("".concat(s,". This can cause unexpected behavior.")):xe.info(s),null}r.properties&&!cd(r.properties)||xe.warn("Event '".concat(t.event,"' has no properties after beforeSend function, this is likely an error."))}return r}}(function(e,t){for(var n=0;n<t.length;n++)e.prototype[t[n]]=pF(e.prototype[t[n]])})(Kv,["identify"]);var DM,er=(DM=Zh[sd]=new Kv,function(){function e(){e.done||(e.done=!0,FP=!1,wn(Zh,function(t){t._dom_loaded()}))}He!=null&&He.addEventListener&&(He.readyState==="complete"?e():He.addEventListener("DOMContentLoaded",e,!1)),fe&&ga(fe,"load",e,!0)}(),DM);class Zt{constructor(t,n=!1,r=!0){this.name=t,this.track=n,this.log=r,this.subscribers=[],this.lastParams=null,this.subscribe=(i,s=!1)=>{this.unsubscribe(i),this.subscribers.push(i),s&&this.lastParams!==null&&i(...this.lastParams)},this.unsubscribe=i=>{this.subscribers=this.subscribers.filter(s=>s!==i)},this.dispatch=(...i)=>{this.log&&console.log("dispatch",this.name,...i),this.subscribers.forEach(s=>s(...i)),this.lastParams=i,this.track&&er.capture(this.name,this.track instanceof Function?this.track(...i):i)}}}const me={sectionChange:new Zt("sectionChange",!1,!1),playerAdded:new Zt("playerAdded",!1),playerRemoved:new Zt("playerRemoved",!1),songStarted:new Zt("songStarted",!1),songEnded:new Zt("songEnded",!1),remoteMicConnected:new Zt("remoteMicConnected"),remoteMicDisconnected:new Zt("remoteMicDisconnected"),playerNameChanged:new Zt("playerNameChanged"),playerInputChanged:new Zt("playerInputChanged"),inputListChanged:new Zt("inputListChanged"),karaokeConnectionStatusChange:new Zt("karaokeConnectionStatusChange"),remoteMicPlayerSet:new Zt("remoteMicPlayerSet"),remoteMicMonitoringStarted:new Zt("remoteMicMonitoringStarted"),remoteMicMonitoringStopped:new Zt("remoteMicMonitoringStopped"),micMonitoringStarted:new Zt("micMonitoringStarted"),micMonitoringStopped:new Zt("micMonitoringStopped"),playerChangeRequested:new Zt("playerChangeRequested",!0),songStatStored:new Zt("songStatStored"),songScoreUpdated:new Zt("songScoreUpdated",()=>{}),remoteMicSubscribed:new Zt("remoteMicSubscribed"),remoteKeyboardPressed:new Zt("remoteKeyboardPressed"),remoteSongSearch:new Zt("remoteSongSearch"),remoteSongSelected:new Zt("remoteSongSelected",!0),remoteMicListUpdated:new Zt("remoteMicListUpdated"),remoteMicSongListUpdated:new Zt("remoteMicSongListUpdate"),remoteKeyboardLayout:new Zt("remoteKeyboardLayout"),remoteReadinessRequested:new Zt("remoteReadinessRequested"),remoteStyleChanged:new Zt("remoteStyleChanged"),remoteMicPermissionsSet:new Zt("remoteMicPermissionsSet"),readinessConfirmed:new Zt("remoteReadinessConfirmed"),minPlayerNumberChanged:new Zt("minPlayerNumberChanged"),micServerStarted:new Zt("micServerStarted"),micServerStopped:new Zt("micServerStopped")};me.songStarted.subscribe(()=>{Fi.clearData(),Fi.startRecord()});me.songEnded.subscribe(()=>{Fi.stopRecord()});function iv(e){"@babel/helpers - typeof";return iv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iv(e)}var t$=/^\s+/,n$=/\s+$/;function ke(e,t){if(e=e||"",t=t||{},e instanceof ke)return e;if(!(this instanceof ke))return new ke(e,t);var n=r$(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}ke.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3},getLuminance:function(){var t=this.toRgb(),n,r,i,s,l,c;return n=t.r/255,r=t.g/255,i=t.b/255,n<=.03928?s=n/12.92:s=Math.pow((n+.055)/1.055,2.4),r<=.03928?l=r/12.92:l=Math.pow((r+.055)/1.055,2.4),i<=.03928?c=i/12.92:c=Math.pow((i+.055)/1.055,2.4),.2126*s+.7152*l+.0722*c},setAlpha:function(t){return this._a=zP(t),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var t=NM(this._r,this._g,this._b);return{h:t.h*360,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=NM(this._r,this._g,this._b),n=Math.round(t.h*360),r=Math.round(t.s*100),i=Math.round(t.v*100);return this._a==1?"hsv("+n+", "+r+"%, "+i+"%)":"hsva("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var t=BM(this._r,this._g,this._b);return{h:t.h*360,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=BM(this._r,this._g,this._b),n=Math.round(t.h*360),r=Math.round(t.s*100),i=Math.round(t.l*100);return this._a==1?"hsl("+n+", "+r+"%, "+i+"%)":"hsla("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHex:function(t){return LM(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return a$(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(Hn(this._r,255)*100)+"%",g:Math.round(Hn(this._g,255)*100)+"%",b:Math.round(Hn(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(Hn(this._r,255)*100)+"%, "+Math.round(Hn(this._g,255)*100)+"%, "+Math.round(Hn(this._b,255)*100)+"%)":"rgba("+Math.round(Hn(this._r,255)*100)+"%, "+Math.round(Hn(this._g,255)*100)+"%, "+Math.round(Hn(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:A$[LM(this._r,this._g,this._b,!0)]||!1},toFilter:function(t){var n="#"+FM(this._r,this._g,this._b,this._a),r=n,i=this._gradientType?"GradientType = 1, ":"";if(t){var s=ke(t);r="#"+FM(s._r,s._g,s._b,s._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+n+",endColorstr="+r+")"},toString:function(t){var n=!!t;t=t||this._format;var r=!1,i=this._a<1&&this._a>=0,s=!n&&i&&(t==="hex"||t==="hex6"||t==="hex3"||t==="hex4"||t==="hex8"||t==="name");return s?t==="name"&&this._a===0?this.toName():this.toRgbString():(t==="rgb"&&(r=this.toRgbString()),t==="prgb"&&(r=this.toPercentageRgbString()),(t==="hex"||t==="hex6")&&(r=this.toHexString()),t==="hex3"&&(r=this.toHexString(!0)),t==="hex4"&&(r=this.toHex8String(!0)),t==="hex8"&&(r=this.toHex8String()),t==="name"&&(r=this.toName()),t==="hsl"&&(r=this.toHslString()),t==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return ke(this.toString())},_applyModification:function(t,n){var r=t.apply(null,[this].concat([].slice.call(n)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(d$,arguments)},brighten:function(){return this._applyModification(f$,arguments)},darken:function(){return this._applyModification(h$,arguments)},desaturate:function(){return this._applyModification(l$,arguments)},saturate:function(){return this._applyModification(c$,arguments)},greyscale:function(){return this._applyModification(u$,arguments)},spin:function(){return this._applyModification(p$,arguments)},_applyCombination:function(t,n){return t.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination(v$,arguments)},complement:function(){return this._applyCombination(g$,arguments)},monochromatic:function(){return this._applyCombination(y$,arguments)},splitcomplement:function(){return this._applyCombination(m$,arguments)},triad:function(){return this._applyCombination(zM,[3])},tetrad:function(){return this._applyCombination(zM,[4])}};ke.fromRatio=function(e,t){if(iv(e)=="object"){var n={};for(var r in e)e.hasOwnProperty(r)&&(r==="a"?n[r]=e[r]:n[r]=$h(e[r]));e=n}return ke(e,t)};function r$(e){var t={r:0,g:0,b:0},n=1,r=null,i=null,s=null,l=!1,c=!1;return typeof e=="string"&&(e=x$(e)),iv(e)=="object"&&(ia(e.r)&&ia(e.g)&&ia(e.b)?(t=i$(e.r,e.g,e.b),l=!0,c=String(e.r).substr(-1)==="%"?"prgb":"rgb"):ia(e.h)&&ia(e.s)&&ia(e.v)?(r=$h(e.s),i=$h(e.v),t=o$(e.h,r,i),l=!0,c="hsv"):ia(e.h)&&ia(e.s)&&ia(e.l)&&(r=$h(e.s),s=$h(e.l),t=s$(e.h,r,s),l=!0,c="hsl"),e.hasOwnProperty("a")&&(n=e.a)),n=zP(n),{ok:l,format:e.format||c,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}function i$(e,t,n){return{r:Hn(e,255)*255,g:Hn(t,255)*255,b:Hn(n,255)*255}}function BM(e,t,n){e=Hn(e,255),t=Hn(t,255),n=Hn(n,255);var r=Math.max(e,t,n),i=Math.min(e,t,n),s,l,c=(r+i)/2;if(r==i)s=l=0;else{var d=r-i;switch(l=c>.5?d/(2-r-i):d/(r+i),r){case e:s=(t-n)/d+(t<n?6:0);break;case t:s=(n-e)/d+2;break;case n:s=(e-t)/d+4;break}s/=6}return{h:s,s:l,l:c}}function s$(e,t,n){var r,i,s;e=Hn(e,360),t=Hn(t,100),n=Hn(n,100);function l(u,p,h){return h<0&&(h+=1),h>1&&(h-=1),h<1/6?u+(p-u)*6*h:h<1/2?p:h<2/3?u+(p-u)*(2/3-h)*6:u}if(t===0)r=i=s=n;else{var c=n<.5?n*(1+t):n+t-n*t,d=2*n-c;r=l(d,c,e+1/3),i=l(d,c,e),s=l(d,c,e-1/3)}return{r:r*255,g:i*255,b:s*255}}function NM(e,t,n){e=Hn(e,255),t=Hn(t,255),n=Hn(n,255);var r=Math.max(e,t,n),i=Math.min(e,t,n),s,l,c=r,d=r-i;if(l=r===0?0:d/r,r==i)s=0;else{switch(r){case e:s=(t-n)/d+(t<n?6:0);break;case t:s=(n-e)/d+2;break;case n:s=(e-t)/d+4;break}s/=6}return{h:s,s:l,v:c}}function o$(e,t,n){e=Hn(e,360)*6,t=Hn(t,100),n=Hn(n,100);var r=Math.floor(e),i=e-r,s=n*(1-t),l=n*(1-i*t),c=n*(1-(1-i)*t),d=r%6,u=[n,l,s,s,c,n][d],p=[c,n,n,l,s,s][d],h=[s,s,c,n,n,l][d];return{r:u*255,g:p*255,b:h*255}}function LM(e,t,n,r){var i=[ao(Math.round(e).toString(16)),ao(Math.round(t).toString(16)),ao(Math.round(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function a$(e,t,n,r,i){var s=[ao(Math.round(e).toString(16)),ao(Math.round(t).toString(16)),ao(Math.round(n).toString(16)),ao($P(r))];return i&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)&&s[3].charAt(0)==s[3].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}function FM(e,t,n,r){var i=[ao($P(r)),ao(Math.round(e).toString(16)),ao(Math.round(t).toString(16)),ao(Math.round(n).toString(16))];return i.join("")}ke.equals=function(e,t){return!e||!t?!1:ke(e).toRgbString()==ke(t).toRgbString()};ke.random=function(){return ke.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function l$(e,t){t=t===0?0:t||10;var n=ke(e).toHsl();return n.s-=t/100,n.s=Wv(n.s),ke(n)}function c$(e,t){t=t===0?0:t||10;var n=ke(e).toHsl();return n.s+=t/100,n.s=Wv(n.s),ke(n)}function u$(e){return ke(e).desaturate(100)}function d$(e,t){t=t===0?0:t||10;var n=ke(e).toHsl();return n.l+=t/100,n.l=Wv(n.l),ke(n)}function f$(e,t){t=t===0?0:t||10;var n=ke(e).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(t/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(t/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(t/100)))),ke(n)}function h$(e,t){t=t===0?0:t||10;var n=ke(e).toHsl();return n.l-=t/100,n.l=Wv(n.l),ke(n)}function p$(e,t){var n=ke(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,ke(n)}function g$(e){var t=ke(e).toHsl();return t.h=(t.h+180)%360,ke(t)}function zM(e,t){if(isNaN(t)||t<=0)throw new Error("Argument to polyad must be a positive number");for(var n=ke(e).toHsl(),r=[ke(e)],i=360/t,s=1;s<t;s++)r.push(ke({h:(n.h+s*i)%360,s:n.s,l:n.l}));return r}function m$(e){var t=ke(e).toHsl(),n=t.h;return[ke(e),ke({h:(n+72)%360,s:t.s,l:t.l}),ke({h:(n+216)%360,s:t.s,l:t.l})]}function v$(e,t,n){t=t||6,n=n||30;var r=ke(e).toHsl(),i=360/n,s=[ke(e)];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,s.push(ke(r));return s}function y$(e,t){t=t||6;for(var n=ke(e).toHsv(),r=n.h,i=n.s,s=n.v,l=[],c=1/t;t--;)l.push(ke({h:r,s:i,v:s})),s=(s+c)%1;return l}ke.mix=function(e,t,n){n=n===0?0:n||50;var r=ke(e).toRgb(),i=ke(t).toRgb(),s=n/100,l={r:(i.r-r.r)*s+r.r,g:(i.g-r.g)*s+r.g,b:(i.b-r.b)*s+r.b,a:(i.a-r.a)*s+r.a};return ke(l)};ke.readability=function(e,t){var n=ke(e),r=ke(t);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)};ke.isReadable=function(e,t,n){var r=ke.readability(e,t),i,s;switch(s=!1,i=w$(n),i.level+i.size){case"AAsmall":case"AAAlarge":s=r>=4.5;break;case"AAlarge":s=r>=3;break;case"AAAsmall":s=r>=7;break}return s};ke.mostReadable=function(e,t,n){var r=null,i=0,s,l,c,d;n=n||{},l=n.includeFallbackColors,c=n.level,d=n.size;for(var u=0;u<t.length;u++)s=ke.readability(e,t[u]),s>i&&(i=s,r=ke(t[u]));return ke.isReadable(e,r,{level:c,size:d})||!l?r:(n.includeFallbackColors=!1,ke.mostReadable(e,["#fff","#000"],n))};var bS=ke.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},A$=ke.hexNames=b$(bS);function b$(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function zP(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function Hn(e,t){_$(e)&&(e="100%");var n=S$(e);return e=Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function Wv(e){return Math.min(1,Math.max(0,e))}function ts(e){return parseInt(e,16)}function _$(e){return typeof e=="string"&&e.indexOf(".")!=-1&&parseFloat(e)===1}function S$(e){return typeof e=="string"&&e.indexOf("%")!=-1}function ao(e){return e.length==1?"0"+e:""+e}function $h(e){return e<=1&&(e=e*100+"%"),e}function $P(e){return Math.round(parseFloat(e)*255).toString(16)}function $M(e){return ts(e)/255}var eo=function(){var e="[-\\+]?\\d+%?",t="[-\\+]?\\d*\\.\\d+%?",n="(?:"+t+")|(?:"+e+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function ia(e){return!!eo.CSS_UNIT.exec(e)}function x$(e){e=e.replace(t$,"").replace(n$,"").toLowerCase();var t=!1;if(bS[e])e=bS[e],t=!0;else if(e=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=eo.rgb.exec(e))?{r:n[1],g:n[2],b:n[3]}:(n=eo.rgba.exec(e))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=eo.hsl.exec(e))?{h:n[1],s:n[2],l:n[3]}:(n=eo.hsla.exec(e))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=eo.hsv.exec(e))?{h:n[1],s:n[2],v:n[3]}:(n=eo.hsva.exec(e))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=eo.hex8.exec(e))?{r:ts(n[1]),g:ts(n[2]),b:ts(n[3]),a:$M(n[4]),format:t?"name":"hex8"}:(n=eo.hex6.exec(e))?{r:ts(n[1]),g:ts(n[2]),b:ts(n[3]),format:t?"name":"hex"}:(n=eo.hex4.exec(e))?{r:ts(n[1]+""+n[1]),g:ts(n[2]+""+n[2]),b:ts(n[3]+""+n[3]),a:$M(n[4]+""+n[4]),format:t?"name":"hex8"}:(n=eo.hex3.exec(e))?{r:ts(n[1]+""+n[1]),g:ts(n[2]+""+n[2]),b:ts(n[3]+""+n[3]),format:t?"name":"hex"}:!1}function w$(e){var t,n;return e=e||{level:"AA",size:"small"},t=(e.level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),t!=="AA"&&t!=="AAA"&&(t="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:t,size:n}}ke("rgb(52, 166, 95)");ke("rgb(15, 138, 95)");ke("rgb(245, 98, 77)");ke("rgb(204, 35, 30)");const UP=ke("rgb(245, 220, 21)"),E$=ke(UP.toRgbString()).darken(15),HP=ke("rgb(255, 70, 223)"),T$=ke(HP.toRgbString()).darken(15),qP=ke("rgb(255, 119, 20)"),C$=ke(qP.toRgbString()).darken(15),GP=ke("rgb(31, 192, 223)"),k$=ke(GP.toRgbString()).darken(15),YP=ke("rgb(102, 44, 182)"),M$=ke(YP.toRgbString()).darken(15),R$=ke("rgb(0, 153, 255)"),I$=ke("rgb(0, 77, 128)"),UM=ke("rgb(255, 54, 54)"),HM=ke("rgb(117, 25, 25)"),O$=ke("rgb(255, 213, 0)"),m0=ke("rgb(255, 183, 0)"),Cs=(e,t)=>e.setAlpha(t).toRgbString(),Qr=(e,t)=>({text:Cs(e,1),stroke:Cs(t,1),star:{fill:Cs(m0,.5),stroke:Cs(m0,0),lineWidth:1},perfect:{fill:Cs(e,1),stroke:"white",lineWidth:1},starPerfect:{fill:Cs(O$,1),stroke:Cs(m0,1),lineWidth:2},hit:{fill:Cs(e,.9),stroke:Cs(t,0),lineWidth:1},miss:{fill:Cs(e,.25),stroke:Cs(t,1),lineWidth:1}}),Ze={blue:Qr(R$,I$),red:Qr(UM,HM),green:Qr(ke("rgb(0,183,0)"),ke("rgb(0,84,0)")),yellow:Qr(ke("rgb(239,209,0)"),ke("rgb(114,84,0)")),christmasGreen:Qr(ke("rgb(44,133,0)"),ke("rgb(3, 79, 27)")),christmasRed:Qr(ke("rgb(181,27,42)"),ke("rgb(126, 18, 29)")),christmasBlue:Qr(ke("rgb(87 140 190)"),ke("rgb(34 53 90)")),christmasGold:Qr(ke("rgb(206, 172, 92)"),ke("rgb(129,108,58)")),halloweenOrange:Qr(ke("#fd9702"),ke("#ff7100")),halloweenViolet:Qr(ke("#e102ff"),ke("#ae03ff")),halloweenRed:Qr(UM,HM),halloweenGreen:Qr(ke("rgb(0,183,0)"),ke("rgb(0,84,0)")),eurovisionYellow:Qr(UP,E$),eurovisionPink:Qr(HP,T$),eurovisionOrange:Qr(qP,C$),eurovisionBlue:Qr(GP,k$),eurovisionViolet:Qr(YP,M$)};let v0=[Ze.blue,Ze.red,Ze.green,Ze.yellow];const Ue={colors:{players:v0,lines:{normal:{fill:"rgba(127, 127, 127, .7)",stroke:"black",lineWidth:1},star:{fill:"rgba(158, 144, 106, 1)",stroke:Cs(m0,1),lineWidth:1},freestyle:{fill:"rgba(255, 255, 255, 0.1)",stroke:"black",lineWidth:2}},text:{active:"rgb(255, 165, 0)",default:"white",inactive:"grey"}}},qM={christmas:[Ze.christmasGreen,Ze.christmasRed,Ze.christmasBlue,Ze.christmasGold],eurovision:[Ze.eurovisionBlue,Ze.eurovisionViolet,Ze.eurovisionYellow,Ze.eurovisionPink],halloween:[Ze.halloweenOrange,Ze.halloweenViolet,Ze.halloweenRed,Ze.halloweenGreen],regular:[Ze.blue,Ze.red,Ze.green,Ze.yellow]},KP=e=>{v0[0]!==qM[e][0]&&(v0=qM[e],Ue.colors.players=v0)};function Sd(e,t,n){e==null||e.send({t,...n})}var _S;try{_S=new TextDecoder}catch{}var Ne,Ps,oe=0,In={},Yt,ml,Ms=0,Co=0,Hr,ba,Hi=[],Ht,GM={useRecords:!1,mapsAsObjects:!0};class WP{}const QP=new WP;QP.name="MessagePack 0xC1";var Al=!1,XP=2,YM;try{new Function("")}catch{XP=1/0}class pp{constructor(t){t&&(t.useRecords===!1&&t.mapsAsObjects===void 0&&(t.mapsAsObjects=!0),t.sequential&&t.trusted!==!1&&(t.trusted=!0,!t.structures&&t.useRecords!=!1&&(t.structures=[],t.maxSharedStructures||(t.maxSharedStructures=0))),t.structures?t.structures.sharedLength=t.structures.length:t.getStructures&&((t.structures=[]).uninitialized=!0,t.structures.sharedLength=0),t.int64AsNumber&&(t.int64AsType="number")),Object.assign(this,t)}unpack(t,n){if(Ne)return rV(()=>(xS(),this?this.unpack(t,n):pp.prototype.unpack.call(GM,t,n)));!t.buffer&&t.constructor===ArrayBuffer&&(t=typeof Buffer<"u"?Buffer.from(t):new Uint8Array(t)),typeof n=="object"?(Ps=n.end||t.length,oe=n.start||0):(oe=0,Ps=n>-1?n:t.length),Co=0,ml=null,Hr=null,Ne=t;try{Ht=t.dataView||(t.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength))}catch(r){throw Ne=null,t instanceof Uint8Array?r:new Error("Source must be a Uint8Array or Buffer but was a "+(t&&typeof t=="object"?t.constructor.name:typeof t))}if(this instanceof pp){if(In=this,this.structures)return Yt=this.structures,Sm(n);(!Yt||Yt.length>0)&&(Yt=[])}else In=GM,(!Yt||Yt.length>0)&&(Yt=[]);return Sm(n)}unpackMultiple(t,n){let r,i=0;try{Al=!0;let s=t.length,l=this?this.unpack(t,s):Qv.unpack(t,s);if(n){if(n(l,i,oe)===!1)return;for(;oe<s;)if(i=oe,n(Sm(),i,oe)===!1)return}else{for(r=[l];oe<s;)i=oe,r.push(Sm());return r}}catch(s){throw s.lastPosition=i,s.values=r,s}finally{Al=!1,xS()}}_mergeStructures(t,n){t=t||[],Object.isFrozen(t)&&(t=t.map(r=>r.slice(0)));for(let r=0,i=t.length;r<i;r++){let s=t[r];s&&(s.isShared=!0,r>=32&&(s.highByte=r-32>>5))}t.sharedLength=t.length;for(let r in n||[])if(r>=0){let i=t[r],s=n[r];s&&(i&&((t.restoreStructures||(t.restoreStructures=[]))[r]=i),t[r]=s)}return this.structures=t}decode(t,n){return this.unpack(t,n)}}function Sm(e){try{if(!In.trusted&&!Al){let n=Yt.sharedLength||0;n<Yt.length&&(Yt.length=n)}let t;if(In.randomAccessStructure&&Ne[oe]<64&&Ne[oe]>=32&&YM?(t=YM(Ne,oe,Ps,In),Ne=null,!(e&&e.lazy)&&t&&(t=t.toJSON()),oe=Ps):t=vr(),Hr&&(oe=Hr.postBundlePosition,Hr=null),Al&&(Yt.restoreStructures=null),oe==Ps)Yt&&Yt.restoreStructures&&KM(),Yt=null,Ne=null,ba&&(ba=null);else{if(oe>Ps)throw new Error("Unexpected end of MessagePack data");if(!Al){let n;try{n=JSON.stringify(t,(r,i)=>typeof i=="bigint"?`${i}n`:i).slice(0,100)}catch(r){n="(JSON view not available "+r+")"}throw new Error("Data read, but end of buffer not reached "+n)}}return t}catch(t){throw Yt&&Yt.restoreStructures&&KM(),xS(),(t instanceof RangeError||t.message.startsWith("Unexpected end of buffer")||oe>Ps)&&(t.incomplete=!0),t}}function KM(){for(let e in Yt.restoreStructures)Yt[e]=Yt.restoreStructures[e];Yt.restoreStructures=null}function vr(){let e=Ne[oe++];if(e<160)if(e<128){if(e<64)return e;{let t=Yt[e&63]||In.getStructures&&JP()[e&63];return t?(t.read||(t.read=fw(t,e&63)),t.read()):e}}else if(e<144)if(e-=128,In.mapsAsObjects){let t={};for(let n=0;n<e;n++){let r=eV();r==="__proto__"&&(r="__proto_"),t[r]=vr()}return t}else{let t=new Map;for(let n=0;n<e;n++)t.set(vr(),vr());return t}else{e-=144;let t=new Array(e);for(let n=0;n<e;n++)t[n]=vr();return In.freezeData?Object.freeze(t):t}else if(e<192){let t=e-160;if(Co>=oe)return ml.slice(oe-Ms,(oe+=t)-Ms);if(Co==0&&Ps<140){let n=t<16?hw(t):ZP(t);if(n!=null)return n}return SS(t)}else{let t;switch(e){case 192:return null;case 193:return Hr?(t=vr(),t>0?Hr[1].slice(Hr.position1,Hr.position1+=t):Hr[0].slice(Hr.position0,Hr.position0-=t)):QP;case 194:return!1;case 195:return!0;case 196:if(t=Ne[oe++],t===void 0)throw new Error("Unexpected end of buffer");return f1(t);case 197:return t=Ht.getUint16(oe),oe+=2,f1(t);case 198:return t=Ht.getUint32(oe),oe+=4,f1(t);case 199:return cc(Ne[oe++]);case 200:return t=Ht.getUint16(oe),oe+=2,cc(t);case 201:return t=Ht.getUint32(oe),oe+=4,cc(t);case 202:if(t=Ht.getFloat32(oe),In.useFloat32>2){let n=pw[(Ne[oe]&127)<<1|Ne[oe+1]>>7];return oe+=4,(n*t+(t>0?.5:-.5)>>0)/n}return oe+=4,t;case 203:return t=Ht.getFloat64(oe),oe+=8,t;case 204:return Ne[oe++];case 205:return t=Ht.getUint16(oe),oe+=2,t;case 206:return t=Ht.getUint32(oe),oe+=4,t;case 207:return In.int64AsType==="number"?(t=Ht.getUint32(oe)*4294967296,t+=Ht.getUint32(oe+4)):In.int64AsType==="string"?t=Ht.getBigUint64(oe).toString():In.int64AsType==="auto"?(t=Ht.getBigUint64(oe),t<=BigInt(2)<<BigInt(52)&&(t=Number(t))):t=Ht.getBigUint64(oe),oe+=8,t;case 208:return Ht.getInt8(oe++);case 209:return t=Ht.getInt16(oe),oe+=2,t;case 210:return t=Ht.getInt32(oe),oe+=4,t;case 211:return In.int64AsType==="number"?(t=Ht.getInt32(oe)*4294967296,t+=Ht.getUint32(oe+4)):In.int64AsType==="string"?t=Ht.getBigInt64(oe).toString():In.int64AsType==="auto"?(t=Ht.getBigInt64(oe),t>=BigInt(-2)<<BigInt(52)&&t<=BigInt(2)<<BigInt(52)&&(t=Number(t))):t=Ht.getBigInt64(oe),oe+=8,t;case 212:if(t=Ne[oe++],t==114)return eR(Ne[oe++]&63);{let n=Hi[t];if(n)return n.read?(oe++,n.read(vr())):n.noBuffer?(oe++,n()):n(Ne.subarray(oe,++oe));throw new Error("Unknown extension "+t)}case 213:return t=Ne[oe],t==114?(oe++,eR(Ne[oe++]&63,Ne[oe++])):cc(2);case 214:return cc(4);case 215:return cc(8);case 216:return cc(16);case 217:return t=Ne[oe++],Co>=oe?ml.slice(oe-Ms,(oe+=t)-Ms):P$(t);case 218:return t=Ht.getUint16(oe),oe+=2,Co>=oe?ml.slice(oe-Ms,(oe+=t)-Ms):V$(t);case 219:return t=Ht.getUint32(oe),oe+=4,Co>=oe?ml.slice(oe-Ms,(oe+=t)-Ms):D$(t);case 220:return t=Ht.getUint16(oe),oe+=2,QM(t);case 221:return t=Ht.getUint32(oe),oe+=4,QM(t);case 222:return t=Ht.getUint16(oe),oe+=2,XM(t);case 223:return t=Ht.getUint32(oe),oe+=4,XM(t);default:if(e>=224)return e-256;if(e===void 0){let n=new Error("Unexpected end of MessagePack data");throw n.incomplete=!0,n}throw new Error("Unknown MessagePack token "+e)}}}const j$=/^[a-zA-Z_$][a-zA-Z\d_$]*$/;function fw(e,t){function n(){if(n.count++>XP){let i=e.read=new Function("r","return function(){return "+(In.freezeData?"Object.freeze":"")+"({"+e.map(s=>s==="__proto__"?"__proto_:r()":j$.test(s)?s+":r()":"["+JSON.stringify(s)+"]:r()").join(",")+"})}")(vr);return e.highByte===0&&(e.read=WM(t,e.read)),i()}let r={};for(let i=0,s=e.length;i<s;i++){let l=e[i];l==="__proto__"&&(l="__proto_"),r[l]=vr()}return In.freezeData?Object.freeze(r):r}return n.count=0,e.highByte===0?WM(t,n):n}const WM=(e,t)=>function(){let n=Ne[oe++];if(n===0)return t();let r=e<32?-(e+(n<<5)):e+(n<<5),i=Yt[r]||JP()[r];if(!i)throw new Error("Record id is not defined for "+r);return i.read||(i.read=fw(i,e)),i.read()};function JP(){let e=rV(()=>(Ne=null,In.getStructures()));return Yt=In._mergeStructures(e,Yt)}var SS=Vp,P$=Vp,V$=Vp,D$=Vp;function Vp(e){let t;if(e<16&&(t=hw(e)))return t;if(e>64&&_S)return _S.decode(Ne.subarray(oe,oe+=e));const n=oe+e,r=[];for(t="";oe<n;){const i=Ne[oe++];if(!(i&128))r.push(i);else if((i&224)===192){const s=Ne[oe++]&63;r.push((i&31)<<6|s)}else if((i&240)===224){const s=Ne[oe++]&63,l=Ne[oe++]&63;r.push((i&31)<<12|s<<6|l)}else if((i&248)===240){const s=Ne[oe++]&63,l=Ne[oe++]&63,c=Ne[oe++]&63;let d=(i&7)<<18|s<<12|l<<6|c;d>65535&&(d-=65536,r.push(d>>>10&1023|55296),d=56320|d&1023),r.push(d)}else r.push(i);r.length>=4096&&(t+=zr.apply(String,r),r.length=0)}return r.length>0&&(t+=zr.apply(String,r)),t}function QM(e){let t=new Array(e);for(let n=0;n<e;n++)t[n]=vr();return In.freezeData?Object.freeze(t):t}function XM(e){if(In.mapsAsObjects){let t={};for(let n=0;n<e;n++){let r=eV();r==="__proto__"&&(r="__proto_"),t[r]=vr()}return t}else{let t=new Map;for(let n=0;n<e;n++)t.set(vr(),vr());return t}}var zr=String.fromCharCode;function ZP(e){let t=oe,n=new Array(e);for(let r=0;r<e;r++){const i=Ne[oe++];if((i&128)>0){oe=t;return}n[r]=i}return zr.apply(String,n)}function hw(e){if(e<4)if(e<2){if(e===0)return"";{let t=Ne[oe++];if((t&128)>1){oe-=1;return}return zr(t)}}else{let t=Ne[oe++],n=Ne[oe++];if((t&128)>0||(n&128)>0){oe-=2;return}if(e<3)return zr(t,n);let r=Ne[oe++];if((r&128)>0){oe-=3;return}return zr(t,n,r)}else{let t=Ne[oe++],n=Ne[oe++],r=Ne[oe++],i=Ne[oe++];if((t&128)>0||(n&128)>0||(r&128)>0||(i&128)>0){oe-=4;return}if(e<6){if(e===4)return zr(t,n,r,i);{let s=Ne[oe++];if((s&128)>0){oe-=5;return}return zr(t,n,r,i,s)}}else if(e<8){let s=Ne[oe++],l=Ne[oe++];if((s&128)>0||(l&128)>0){oe-=6;return}if(e<7)return zr(t,n,r,i,s,l);let c=Ne[oe++];if((c&128)>0){oe-=7;return}return zr(t,n,r,i,s,l,c)}else{let s=Ne[oe++],l=Ne[oe++],c=Ne[oe++],d=Ne[oe++];if((s&128)>0||(l&128)>0||(c&128)>0||(d&128)>0){oe-=8;return}if(e<10){if(e===8)return zr(t,n,r,i,s,l,c,d);{let u=Ne[oe++];if((u&128)>0){oe-=9;return}return zr(t,n,r,i,s,l,c,d,u)}}else if(e<12){let u=Ne[oe++],p=Ne[oe++];if((u&128)>0||(p&128)>0){oe-=10;return}if(e<11)return zr(t,n,r,i,s,l,c,d,u,p);let h=Ne[oe++];if((h&128)>0){oe-=11;return}return zr(t,n,r,i,s,l,c,d,u,p,h)}else{let u=Ne[oe++],p=Ne[oe++],h=Ne[oe++],v=Ne[oe++];if((u&128)>0||(p&128)>0||(h&128)>0||(v&128)>0){oe-=12;return}if(e<14){if(e===12)return zr(t,n,r,i,s,l,c,d,u,p,h,v);{let y=Ne[oe++];if((y&128)>0){oe-=13;return}return zr(t,n,r,i,s,l,c,d,u,p,h,v,y)}}else{let y=Ne[oe++],b=Ne[oe++];if((y&128)>0||(b&128)>0){oe-=14;return}if(e<15)return zr(t,n,r,i,s,l,c,d,u,p,h,v,y,b);let _=Ne[oe++];if((_&128)>0){oe-=15;return}return zr(t,n,r,i,s,l,c,d,u,p,h,v,y,b,_)}}}}}function JM(){let e=Ne[oe++],t;if(e<192)t=e-160;else switch(e){case 217:t=Ne[oe++];break;case 218:t=Ht.getUint16(oe),oe+=2;break;case 219:t=Ht.getUint32(oe),oe+=4;break;default:throw new Error("Expected string")}return Vp(t)}function f1(e){return In.copyBuffers?Uint8Array.prototype.slice.call(Ne,oe,oe+=e):Ne.subarray(oe,oe+=e)}function cc(e){let t=Ne[oe++];if(Hi[t]){let n;return Hi[t](Ne.subarray(oe,n=oe+=e),r=>{oe=r;try{return vr()}finally{oe=n}})}else throw new Error("Unknown extension type "+t)}var ZM=new Array(4096);function eV(){let e=Ne[oe++];if(e>=160&&e<192){if(e=e-160,Co>=oe)return ml.slice(oe-Ms,(oe+=e)-Ms);if(!(Co==0&&Ps<180))return SS(e)}else return oe--,tV(vr());let t=(e<<5^(e>1?Ht.getUint16(oe):e>0?Ne[oe]:0))&4095,n=ZM[t],r=oe,i=oe+e-3,s,l=0;if(n&&n.bytes==e){for(;r<i;){if(s=Ht.getUint32(r),s!=n[l++]){r=1879048192;break}r+=4}for(i+=3;r<i;)if(s=Ne[r++],s!=n[l++]){r=1879048192;break}if(r===i)return oe=r,n.string;i-=3,r=oe}for(n=[],ZM[t]=n,n.bytes=e;r<i;)s=Ht.getUint32(r),n.push(s),r+=4;for(i+=3;r<i;)s=Ne[r++],n.push(s);let c=e<16?hw(e):ZP(e);return c!=null?n.string=c:n.string=SS(e)}function tV(e){if(typeof e=="string")return e;if(typeof e=="number")return e.toString();throw new Error("Invalid property type for record",typeof e)}const eR=(e,t)=>{let n=vr().map(tV),r=e;t!==void 0&&(e=e<32?-((t<<5)+e):(t<<5)+e,n.highByte=t);let i=Yt[e];return i&&(i.isShared||Al)&&((Yt.restoreStructures||(Yt.restoreStructures=[]))[e]=i),Yt[e]=n,n.read=fw(n,r),n.read()};Hi[0]=()=>{};Hi[0].noBuffer=!0;Hi[66]=e=>{let t=e.length,n=BigInt(e[0]&128?e[0]-256:e[0]);for(let r=1;r<t;r++)n<<=8n,n+=BigInt(e[r]);return n};let B$={Error,TypeError,ReferenceError};Hi[101]=()=>{let e=vr();return(B$[e[0]]||Error)(e[1])};Hi[105]=e=>{if(In.structuredClone===!1)throw new Error("Structured clone extension is disabled");let t=Ht.getUint32(oe-4);ba||(ba=new Map);let n=Ne[oe],r;n>=144&&n<160||n==220||n==221?r=[]:r={};let i={target:r};ba.set(t,i);let s=vr();return i.used?Object.assign(r,s):(i.target=s,s)};Hi[112]=e=>{if(In.structuredClone===!1)throw new Error("Structured clone extension is disabled");let t=Ht.getUint32(oe-4),n=ba.get(t);return n.used=!0,n.target};Hi[115]=()=>new Set(vr());const nV=["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64","BigInt64","BigUint64"].map(e=>e+"Array");let N$=typeof globalThis=="object"?globalThis:window;Hi[116]=e=>{let t=e[0],n=nV[t];if(!n)throw new Error("Could not find typed array for code "+t);return new N$[n](Uint8Array.prototype.slice.call(e,1).buffer)};Hi[120]=()=>{let e=vr();return new RegExp(e[0],e[1])};const L$=[];Hi[98]=e=>{let t=(e[0]<<24)+(e[1]<<16)+(e[2]<<8)+e[3],n=oe;return oe+=t-e.length,Hr=L$,Hr=[JM(),JM()],Hr.position0=0,Hr.position1=0,Hr.postBundlePosition=oe,oe=n,vr()};Hi[255]=e=>e.length==4?new Date((e[0]*16777216+(e[1]<<16)+(e[2]<<8)+e[3])*1e3):e.length==8?new Date(((e[0]<<22)+(e[1]<<14)+(e[2]<<6)+(e[3]>>2))/1e6+((e[3]&3)*4294967296+e[4]*16777216+(e[5]<<16)+(e[6]<<8)+e[7])*1e3):e.length==12?new Date(((e[0]<<24)+(e[1]<<16)+(e[2]<<8)+e[3])/1e6+((e[4]&128?-281474976710656:0)+e[6]*1099511627776+e[7]*4294967296+e[8]*16777216+(e[9]<<16)+(e[10]<<8)+e[11])*1e3):new Date("invalid");function rV(e){let t=Ps,n=oe,r=Ms,i=Co,s=ml,l=ba,c=Hr,d=new Uint8Array(Ne.slice(0,Ps)),u=Yt,p=Yt.slice(0,Yt.length),h=In,v=Al,y=e();return Ps=t,oe=n,Ms=r,Co=i,ml=s,ba=l,Hr=c,Ne=d,Al=v,Yt=u,Yt.splice(0,Yt.length,...p),In=h,Ht=new DataView(Ne.buffer,Ne.byteOffset,Ne.byteLength),y}function xS(){Ne=null,ba=null,Yt=null}const pw=new Array(147);for(let e=0;e<256;e++)pw[e]=+("1e"+Math.floor(45.15-e*.30103));var Qv=new pp({useRecords:!1});const F$=Qv.unpack;Qv.unpackMultiple;Qv.unpack;let z$=new Float32Array(1);new Uint8Array(z$.buffer,0,4);let y0;try{y0=new TextEncoder}catch{}let wS,iV;const Xv=typeof Buffer<"u",xm=Xv?function(e){return Buffer.allocUnsafeSlow(e)}:Uint8Array,sV=Xv?Buffer:Uint8Array,tR=Xv?4294967296:2144337920;let pe,Sh,xn,ae=0,xi,Jn=null,$$;const U$=21760,H$=/[\u0080-\uFFFF]/,Ku=Symbol("record-id");class q$ extends pp{constructor(t){super(t),this.offset=0;let n,r,i,s,l=sV.prototype.utf8Write?function(L,q){return pe.utf8Write(L,q,4294967295)}:y0&&y0.encodeInto?function(L,q){return y0.encodeInto(L,pe.subarray(q)).written}:!1,c=this;t||(t={});let d=t&&t.sequential,u=t.structures||t.saveStructures,p=t.maxSharedStructures;if(p==null&&(p=u?32:0),p>8160)throw new Error("Maximum maxSharedStructure is 8160");t.structuredClone&&t.moreTypes==null&&(this.moreTypes=!0);let h=t.maxOwnStructures;h==null&&(h=u?32:64),!this.structures&&t.useRecords!=!1&&(this.structures=[]);let v=p>32||h+p>64,y=p+64,b=p+h+64;if(b>8256)throw new Error("Maximum maxSharedStructure + maxOwnStructure is 8192");let _=[],w=0,T=0;this.pack=this.encode=function(L,q){if(pe||(pe=new xm(8192),xn=pe.dataView||(pe.dataView=new DataView(pe.buffer,0,8192)),ae=0),xi=pe.length-10,xi-ae<2048?(pe=new xm(pe.length),xn=pe.dataView||(pe.dataView=new DataView(pe.buffer,0,pe.length)),xi=pe.length-10,ae=0):ae=ae+7&2147483640,n=ae,q&X$&&(ae+=q&255),s=c.structuredClone?new Map:null,c.bundleStrings&&typeof L!="string"?(Jn=[],Jn.size=1/0):Jn=null,i=c.structures,i){i.uninitialized&&(i=c._mergeStructures(c.getStructures()));let D=i.sharedLength||0;if(D>p)throw new Error("Shared structures is larger than maximum shared structures, try increasing maxSharedStructures to "+i.sharedLength);if(!i.transitions){i.transitions=Object.create(null);for(let W=0;W<D;W++){let Q=i[W];if(!Q)continue;let J,B=i.transitions;for(let G=0,ee=Q.length;G<ee;G++){let ue=Q[G];J=B[ue],J||(J=B[ue]=Object.create(null)),B=J}B[Ku]=W+64}this.lastNamedStructuresLength=D}d||(i.nextId=D+64)}r&&(r=!1);let H;try{c.randomAccessStructure&&L&&L.constructor&&L.constructor===Object?U(L):M(L);let D=Jn;if(Jn&&iR(n,M,0),s&&s.idsToInsert){let W=s.idsToInsert.sort((G,ee)=>G.offset>ee.offset?1:-1),Q=W.length,J=-1;for(;D&&Q>0;){let G=W[--Q].offset+n;G<D.stringsPosition+n&&J===-1&&(J=0),G>D.position+n?J>=0&&(J+=6):(J>=0&&(xn.setUint32(D.position+n,xn.getUint32(D.position+n)+J),J=-1),D=D.previous,Q++)}J>=0&&D&&xn.setUint32(D.position+n,xn.getUint32(D.position+n)+J),ae+=W.length*6,ae>xi&&V(ae),c.offset=ae;let B=Y$(pe.subarray(n,ae),W);return s=null,B}return c.offset=ae,q&W$?(pe.start=n,pe.end=ae,pe):pe.subarray(n,ae)}catch(D){throw H=D,D}finally{if(i&&(k(),r&&c.saveStructures)){let D=i.sharedLength||0,W=pe.subarray(n,ae),Q=K$(i,c);if(!H)return c.saveStructures(Q,Q.isCompatible)===!1?c.pack(L,q):(c.lastNamedStructuresLength=D,W)}q&Q$&&(ae=n)}};const k=()=>{T<10&&T++;let L=i.sharedLength||0;if(i.length>L&&!d&&(i.length=L),w>1e4)i.transitions=null,T=0,w=0,_.length>0&&(_=[]);else if(_.length>0&&!d){for(let q=0,H=_.length;q<H;q++)_[q][Ku]=0;_=[]}},R=L=>{var q=L.length;q<16?pe[ae++]=144|q:q<65536?(pe[ae++]=220,pe[ae++]=q>>8,pe[ae++]=q&255):(pe[ae++]=221,xn.setUint32(ae,q),ae+=4);for(let H=0;H<q;H++)M(L[H])},M=L=>{ae>xi&&(pe=V(ae));var q=typeof L,H;if(q==="string"){let D=L.length;if(Jn&&D>=4&&D<4096){if((Jn.size+=D)>U$){let B,G=(Jn[0]?Jn[0].length*3+Jn[1].length:0)+10;ae+G>xi&&(pe=V(ae+G));let ee;Jn.position?(ee=Jn,pe[ae]=200,ae+=3,pe[ae++]=98,B=ae-n,ae+=4,iR(n,M,0),xn.setUint16(B+n-3,ae-n-B)):(pe[ae++]=214,pe[ae++]=98,B=ae-n,ae+=4),Jn=["",""],Jn.previous=ee,Jn.size=0,Jn.position=B}let J=H$.test(L);Jn[J?0:1]+=L,pe[ae++]=193,M(J?-D:D);return}let W;D<32?W=1:D<256?W=2:D<65536?W=3:W=5;let Q=D*3;if(ae+Q>xi&&(pe=V(ae+Q)),D<64||!l){let J,B,G,ee=ae+W;for(J=0;J<D;J++)B=L.charCodeAt(J),B<128?pe[ee++]=B:B<2048?(pe[ee++]=B>>6|192,pe[ee++]=B&63|128):(B&64512)===55296&&((G=L.charCodeAt(J+1))&64512)===56320?(B=65536+((B&1023)<<10)+(G&1023),J++,pe[ee++]=B>>18|240,pe[ee++]=B>>12&63|128,pe[ee++]=B>>6&63|128,pe[ee++]=B&63|128):(pe[ee++]=B>>12|224,pe[ee++]=B>>6&63|128,pe[ee++]=B&63|128);H=ee-ae-W}else H=l(L,ae+W);H<32?pe[ae++]=160|H:H<256?(W<2&&pe.copyWithin(ae+2,ae+1,ae+1+H),pe[ae++]=217,pe[ae++]=H):H<65536?(W<3&&pe.copyWithin(ae+3,ae+2,ae+2+H),pe[ae++]=218,pe[ae++]=H>>8,pe[ae++]=H&255):(W<5&&pe.copyWithin(ae+5,ae+3,ae+3+H),pe[ae++]=219,xn.setUint32(ae,H),ae+=4),ae+=H}else if(q==="number")if(L>>>0===L)L<32||L<128&&this.useRecords===!1||L<64&&!this.randomAccessStructure?pe[ae++]=L:L<256?(pe[ae++]=204,pe[ae++]=L):L<65536?(pe[ae++]=205,pe[ae++]=L>>8,pe[ae++]=L&255):(pe[ae++]=206,xn.setUint32(ae,L),ae+=4);else if(L>>0===L)L>=-32?pe[ae++]=256+L:L>=-128?(pe[ae++]=208,pe[ae++]=L+256):L>=-32768?(pe[ae++]=209,xn.setInt16(ae,L),ae+=2):(pe[ae++]=210,xn.setInt32(ae,L),ae+=4);else{let D;if((D=this.useFloat32)>0&&L<4294967296&&L>=-2147483648){pe[ae++]=202,xn.setFloat32(ae,L);let W;if(D<4||(W=L*pw[(pe[ae]&127)<<1|pe[ae+1]>>7])>>0===W){ae+=4;return}else ae--}pe[ae++]=203,xn.setFloat64(ae,L),ae+=8}else if(q==="object"||q==="function")if(!L)pe[ae++]=192;else{if(s){let W=s.get(L);if(W){if(!W.id){let Q=s.idsToInsert||(s.idsToInsert=[]);W.id=Q.push(W)}pe[ae++]=214,pe[ae++]=112,xn.setUint32(ae,W.id),ae+=4;return}else s.set(L,{offset:ae-n})}let D=L.constructor;if(D===Object)P(L,!0);else if(D===Array)R(L);else if(D===Map)if(this.mapAsEmptyObject)pe[ae++]=128;else{H=L.size,H<16?pe[ae++]=128|H:H<65536?(pe[ae++]=222,pe[ae++]=H>>8,pe[ae++]=H&255):(pe[ae++]=223,xn.setUint32(ae,H),ae+=4);for(let[W,Q]of L)M(W),M(Q)}else{for(let W=0,Q=wS.length;W<Q;W++){let J=iV[W];if(L instanceof J){let B=wS[W];if(B.write){B.type&&(pe[ae++]=212,pe[ae++]=B.type,pe[ae++]=0);let ge=B.write.call(this,L);ge===L?Array.isArray(L)?R(L):P(L):M(ge);return}let G=pe,ee=xn,ue=ae;pe=null;let F;try{F=B.pack.call(this,L,ge=>(pe=G,G=null,ae+=ge,ae>xi&&V(ae),{target:pe,targetView:xn,position:ae-ge}),M)}finally{G&&(pe=G,xn=ee,ae=ue,xi=pe.length-10)}F&&(F.length+ae>xi&&V(F.length+ae),ae=G$(F,pe,ae,B.type));return}}if(Array.isArray(L))R(L);else{if(L.toJSON){const W=L.toJSON();if(W!==L)return M(W)}if(q==="function")return M(this.writeFunction&&this.writeFunction(L));P(L,!L.hasOwnProperty)}}}else if(q==="boolean")pe[ae++]=L?195:194;else if(q==="bigint"){if(L<BigInt(1)<<BigInt(63)&&L>=-(BigInt(1)<<BigInt(63)))pe[ae++]=211,xn.setBigInt64(ae,L);else if(L<BigInt(1)<<BigInt(64)&&L>0)pe[ae++]=207,xn.setBigUint64(ae,L);else if(this.largeBigIntToFloat)pe[ae++]=203,xn.setFloat64(ae,Number(L));else if(this.useBigIntExtension&&L<2n**1023n&&L>-(2n**1023n)){pe[ae++]=199,ae++,pe[ae++]=66;let D=[],W;do{let Q=L&0xffn;W=(Q&0x80n)===(L<0n?0x80n:0n),D.push(Q),L>>=8n}while(!((L===0n||L===-1n)&&W));pe[ae-2]=D.length;for(let Q=D.length;Q>0;)pe[ae++]=Number(D[--Q]);return}else throw new RangeError(L+" was too large to fit in MessagePack 64-bit integer format, use useBigIntExtension or set largeBigIntToFloat to convert to float-64");ae+=8}else if(q==="undefined")this.encodeUndefinedAsNil?pe[ae++]=192:(pe[ae++]=212,pe[ae++]=0,pe[ae++]=0);else throw new Error("Unknown type: "+q)},E=this.variableMapSize||this.coercibleKeyAsNumber?L=>{let q=Object.keys(L),H=q.length;H<16?pe[ae++]=128|H:H<65536?(pe[ae++]=222,pe[ae++]=H>>8,pe[ae++]=H&255):(pe[ae++]=223,xn.setUint32(ae,H),ae+=4);let D;if(this.coercibleKeyAsNumber)for(let W=0;W<H;W++){D=q[W];let Q=Number(D);M(isNaN(Q)?D:Q),M(L[D])}else for(let W=0;W<H;W++)M(D=q[W]),M(L[D])}:(L,q)=>{pe[ae++]=222;let H=ae-n;ae+=2;let D=0;for(let W in L)(q||L.hasOwnProperty(W))&&(M(W),M(L[W]),D++);pe[H+++n]=D>>8,pe[H+n]=D&255},O=this.useRecords===!1?E:t.progressiveRecords&&!v?(L,q)=>{let H,D=i.transitions||(i.transitions=Object.create(null)),W=ae++-n,Q;for(let J in L)if(q||L.hasOwnProperty(J)){if(H=D[J],H)D=H;else{let B=Object.keys(L),G=D;D=i.transitions;let ee=0;for(let ue=0,F=B.length;ue<F;ue++){let ge=B[ue];H=D[ge],H||(H=D[ge]=Object.create(null),ee++),D=H}W+n+1==ae?(ae--,C(D,B,ee)):N(D,B,W,ee),Q=!0,D=G[J]}M(L[J])}if(!Q){let J=D[Ku];J?pe[W+n]=J:N(D,Object.keys(L),W,0)}}:(L,q)=>{let H,D=i.transitions||(i.transitions=Object.create(null)),W=0;for(let J in L)(q||L.hasOwnProperty(J))&&(H=D[J],H||(H=D[J]=Object.create(null),W++),D=H);let Q=D[Ku];Q?Q>=96&&v?(pe[ae++]=((Q-=96)&31)+96,pe[ae++]=Q>>5):pe[ae++]=Q:C(D,D.__keys__||Object.keys(L),W);for(let J in L)(q||L.hasOwnProperty(J))&&M(L[J])},j=typeof this.useRecords=="function"&&this.useRecords,P=j?(L,q)=>{j(L)?O(L,q):E(L,q)}:O,V=L=>{let q;if(L>16777216){if(L-n>tR)throw new Error("Packed buffer would be larger than maximum buffer size");q=Math.min(tR,Math.round(Math.max((L-n)*(L>67108864?1.25:2),4194304)/4096)*4096)}else q=(Math.max(L-n<<2,pe.length-1)>>12)+1<<12;let H=new xm(q);return xn=H.dataView||(H.dataView=new DataView(H.buffer,0,q)),L=Math.min(L,pe.length),pe.copy?pe.copy(H,0,n,L):H.set(pe.slice(n,L)),ae-=n,n=0,xi=H.length-10,pe=H},C=(L,q,H)=>{let D=i.nextId;D||(D=64),D<y&&this.shouldShareStructure&&!this.shouldShareStructure(q)?(D=i.nextOwnId,D<b||(D=y),i.nextOwnId=D+1):(D>=b&&(D=y),i.nextId=D+1);let W=q.highByte=D>=96&&v?D-96>>5:-1;L[Ku]=D,L.__keys__=q,i[D-64]=q,D<y?(q.isShared=!0,i.sharedLength=D-63,r=!0,W>=0?(pe[ae++]=(D&31)+96,pe[ae++]=W):pe[ae++]=D):(W>=0?(pe[ae++]=213,pe[ae++]=114,pe[ae++]=(D&31)+96,pe[ae++]=W):(pe[ae++]=212,pe[ae++]=114,pe[ae++]=D),H&&(w+=T*H),_.length>=h&&(_.shift()[Ku]=0),_.push(L),M(q))},N=(L,q,H,D)=>{let W=pe,Q=ae,J=xi,B=n;pe=Sh,ae=0,n=0,pe||(Sh=pe=new xm(8192)),xi=pe.length-10,C(L,q,D),Sh=pe;let G=ae;if(pe=W,ae=Q,xi=J,n=B,G>1){let ee=ae+G-1;ee>xi&&V(ee);let ue=H+n;pe.copyWithin(ue+G,ue+1,ae),pe.set(Sh.slice(0,G),ue),ae=ee}else pe[H+n]=Sh[0]},U=(L,q)=>{let H=$$(L,pe,n,ae,i,V,(D,W,Q)=>{if(Q)return r=!0;ae=W;let J=pe;return M(D),k(),J!==pe?{position:ae,targetView:xn,target:pe}:ae},this);if(H===0)return P(L,!0);ae=H}}useBuffer(t){pe=t,xn=new DataView(pe.buffer,pe.byteOffset,pe.byteLength),ae=0}clearSharedData(){this.structures&&(this.structures=[]),this.typedStructs&&(this.typedStructs=[])}}iV=[Date,Set,Error,RegExp,ArrayBuffer,Object.getPrototypeOf(Uint8Array.prototype).constructor,WP];wS=[{pack(e,t,n){let r=e.getTime()/1e3;if((this.useTimestamp32||e.getMilliseconds()===0)&&r>=0&&r<4294967296){let{target:i,targetView:s,position:l}=t(6);i[l++]=214,i[l++]=255,s.setUint32(l,r)}else if(r>0&&r<4294967296){let{target:i,targetView:s,position:l}=t(10);i[l++]=215,i[l++]=255,s.setUint32(l,e.getMilliseconds()*4e6+(r/1e3/4294967296>>0)),s.setUint32(l+4,r)}else if(isNaN(r)){if(this.onInvalidDate)return t(0),n(this.onInvalidDate());let{target:i,targetView:s,position:l}=t(3);i[l++]=212,i[l++]=255,i[l++]=255}else{let{target:i,targetView:s,position:l}=t(15);i[l++]=199,i[l++]=12,i[l++]=255,s.setUint32(l,e.getMilliseconds()*1e6),s.setBigInt64(l+4,BigInt(Math.floor(r)))}}},{pack(e,t,n){if(this.setAsEmptyObject)return t(0),n({});let r=Array.from(e),{target:i,position:s}=t(this.moreTypes?3:0);this.moreTypes&&(i[s++]=212,i[s++]=115,i[s++]=0),n(r)}},{pack(e,t,n){let{target:r,position:i}=t(this.moreTypes?3:0);this.moreTypes&&(r[i++]=212,r[i++]=101,r[i++]=0),n([e.name,e.message])}},{pack(e,t,n){let{target:r,position:i}=t(this.moreTypes?3:0);this.moreTypes&&(r[i++]=212,r[i++]=120,r[i++]=0),n([e.source,e.flags])}},{pack(e,t){this.moreTypes?nR(e,16,t):rR(Xv?Buffer.from(e):new Uint8Array(e),t)}},{pack(e,t){let n=e.constructor;n!==sV&&this.moreTypes?nR(e,nV.indexOf(n.name),t):rR(e,t)}},{pack(e,t){let{target:n,position:r}=t(1);n[r]=193}}];function nR(e,t,n,r){let i=e.byteLength;if(i+1<256){var{target:s,position:l}=n(4+i);s[l++]=199,s[l++]=i+1}else if(i+1<65536){var{target:s,position:l}=n(5+i);s[l++]=200,s[l++]=i+1>>8,s[l++]=i+1&255}else{var{target:s,position:l,targetView:c}=n(7+i);s[l++]=201,c.setUint32(l,i+1),l+=4}s[l++]=116,s[l++]=t,s.set(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),l)}function rR(e,t){let n=e.byteLength;var r,i;if(n<256){var{target:r,position:i}=t(n+2);r[i++]=196,r[i++]=n}else if(n<65536){var{target:r,position:i}=t(n+3);r[i++]=197,r[i++]=n>>8,r[i++]=n&255}else{var{target:r,position:i,targetView:s}=t(n+5);r[i++]=198,s.setUint32(i,n),i+=4}r.set(e,i)}function G$(e,t,n,r){let i=e.length;switch(i){case 1:t[n++]=212;break;case 2:t[n++]=213;break;case 4:t[n++]=214;break;case 8:t[n++]=215;break;case 16:t[n++]=216;break;default:i<256?(t[n++]=199,t[n++]=i):i<65536?(t[n++]=200,t[n++]=i>>8,t[n++]=i&255):(t[n++]=201,t[n++]=i>>24,t[n++]=i>>16&255,t[n++]=i>>8&255,t[n++]=i&255)}return t[n++]=r,t.set(e,n),n+=i,n}function Y$(e,t){let n,r=t.length*6,i=e.length-r;for(;n=t.pop();){let s=n.offset,l=n.id;e.copyWithin(s+r,s,i),r-=6;let c=s+r;e[c++]=214,e[c++]=105,e[c++]=l>>24,e[c++]=l>>16&255,e[c++]=l>>8&255,e[c++]=l&255,i=s}return e}function iR(e,t,n){if(Jn.length>0){xn.setUint32(Jn.position+e,ae+n-Jn.position-e),Jn.stringsPosition=ae-e;let r=Jn;Jn=null,t(r[0]),t(r[1])}}function K$(e,t){return e.isCompatible=n=>{let r=!n||(t.lastNamedStructuresLength||0)===n.length;return r||t._mergeStructures(n),r},e}let oV=new q$({useRecords:!1});const aV=oV.pack;oV.pack;const W$=512,Q$=1024,X$=2048;function Mi(){return Date.now()}const Fs=e=>aV(e),Zd=e=>F$(e);let J$=class{constructor(t,n){this.connection=t,this.inputLag=n,this.frequencies=[0],this.volumes=[0],this.requestReadinessPromise=null,this.getFrequencies=()=>this.frequencies,this.clearFrequencies=()=>{Array.isArray(this.frequencies[0])&&(this.frequencies=[this.frequencies[0].at(-1)])},this.getVolumes=()=>this.volumes,this.getInputLag=()=>this.inputLag,this.setInputLag=r=>{this.inputLag=r},this.requestReadiness=()=>(console.log("requestReadiness"),this.requestReadinessPromise||(this.requestReadinessPromise=new Promise(r=>{const i=s=>{s.t==="confirm-readiness"&&(r(!0),this.connection.off("data",i),this.requestReadinessPromise=null)};this.connection.on("data",i),Sd(this.connection,"request-readiness")})),this.requestReadinessPromise),this.startMonitoring=async()=>{var r,i;(r=this.connection)==null||r.off("data",this.handleRTCData),Sd(this.connection,"start-monitor"),(i=this.connection)==null||i.on("data",this.handleRTCData)},this.stopMonitoring=async()=>{var r;Sd(this.connection,"stop-monitor"),(r=this.connection)==null||r.off("data",this.handleRTCData)},this.handleRTCData=r=>{r.t==="freq"&&(this.frequencies=[r[0],r[0]],this.volumes=[r[1],r[1]])}}},Z$=class{constructor(t,n,r,i){this.id=t,this.name=n,this.connection=r,this.pingTime=9999,this.pingInterval=null,this.getInput=()=>this.input,this.setPlayerNumber=s=>{Sd(this.connection,"set-player-number",{playerNumber:s})},this.onDisconnect=()=>{this.pingInterval!==null&&clearInterval(this.pingInterval)},this.setPermission=s=>{Sd(this.connection,"set-permissions",{level:s})},this.isPinging=!1,this.latency=9999,this.onPong=()=>{this.latency=Mi()-this.pingTime,this.isPinging=!1,this.pingClient()},this.pingClient=()=>{this.pingInterval=setTimeout(()=>{this.pingTime=Mi(),this.isPinging=!0,Sd(this.connection,"ping")},1e3)},this.getLatency=()=>this.isPinging?Mi()-this.pingTime:this.latency,this.getPingTime=()=>this.pingTime,this.input=new J$(r,i),this.pingClient()}};const lV={RemoteMicConnectionType:"remote_mics_connection_type",InitialInputLag:"initial_input_lag"};var h1={exports:{}},Mt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sR;function e7(){if(sR)return Mt;sR=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),h=Symbol.iterator;function v(B){return B===null||typeof B!="object"?null:(B=h&&B[h]||B["@@iterator"],typeof B=="function"?B:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,_={};function w(B,G,ee){this.props=B,this.context=G,this.refs=_,this.updater=ee||y}w.prototype.isReactComponent={},w.prototype.setState=function(B,G){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,G,"setState")},w.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function T(){}T.prototype=w.prototype;function k(B,G,ee){this.props=B,this.context=G,this.refs=_,this.updater=ee||y}var R=k.prototype=new T;R.constructor=k,b(R,w.prototype),R.isPureReactComponent=!0;var M=Array.isArray,E={H:null,A:null,T:null,S:null},O=Object.prototype.hasOwnProperty;function j(B,G,ee,ue,F,ge){return ee=ge.ref,{$$typeof:e,type:B,key:G,ref:ee!==void 0?ee:null,props:ge}}function P(B,G){return j(B.type,G,void 0,void 0,void 0,B.props)}function V(B){return typeof B=="object"&&B!==null&&B.$$typeof===e}function C(B){var G={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(ee){return G[ee]})}var N=/\/+/g;function U(B,G){return typeof B=="object"&&B!==null&&B.key!=null?C(""+B.key):G.toString(36)}function L(){}function q(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(L,L):(B.status="pending",B.then(function(G){B.status==="pending"&&(B.status="fulfilled",B.value=G)},function(G){B.status==="pending"&&(B.status="rejected",B.reason=G)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function H(B,G,ee,ue,F){var ge=typeof B;(ge==="undefined"||ge==="boolean")&&(B=null);var se=!1;if(B===null)se=!0;else switch(ge){case"bigint":case"string":case"number":se=!0;break;case"object":switch(B.$$typeof){case e:case t:se=!0;break;case p:return se=B._init,H(se(B._payload),G,ee,ue,F)}}if(se)return F=F(B),se=ue===""?"."+U(B,0):ue,M(F)?(ee="",se!=null&&(ee=se.replace(N,"$&/")+"/"),H(F,G,ee,"",function(Re){return Re})):F!=null&&(V(F)&&(F=P(F,ee+(F.key==null||B&&B.key===F.key?"":(""+F.key).replace(N,"$&/")+"/")+se)),G.push(F)),1;se=0;var Se=ue===""?".":ue+":";if(M(B))for(var Me=0;Me<B.length;Me++)ue=B[Me],ge=Se+U(ue,Me),se+=H(ue,G,ee,ge,F);else if(Me=v(B),typeof Me=="function")for(B=Me.call(B),Me=0;!(ue=B.next()).done;)ue=ue.value,ge=Se+U(ue,Me++),se+=H(ue,G,ee,ge,F);else if(ge==="object"){if(typeof B.then=="function")return H(q(B),G,ee,ue,F);throw G=String(B),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return se}function D(B,G,ee){if(B==null)return B;var ue=[],F=0;return H(B,ue,"","",function(ge){return G.call(ee,ge,F++)}),ue}function W(B){if(B._status===-1){var G=B._result;G=G(),G.then(function(ee){(B._status===0||B._status===-1)&&(B._status=1,B._result=ee)},function(ee){(B._status===0||B._status===-1)&&(B._status=2,B._result=ee)}),B._status===-1&&(B._status=0,B._result=G)}if(B._status===1)return B._result.default;throw B._result}var Q=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)};function J(){}return Mt.Children={map:D,forEach:function(B,G,ee){D(B,function(){G.apply(this,arguments)},ee)},count:function(B){var G=0;return D(B,function(){G++}),G},toArray:function(B){return D(B,function(G){return G})||[]},only:function(B){if(!V(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},Mt.Component=w,Mt.Fragment=n,Mt.Profiler=i,Mt.PureComponent=k,Mt.StrictMode=r,Mt.Suspense=d,Mt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=E,Mt.act=function(){throw Error("act(...) is not supported in production builds of React.")},Mt.cache=function(B){return function(){return B.apply(null,arguments)}},Mt.cloneElement=function(B,G,ee){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var ue=b({},B.props),F=B.key,ge=void 0;if(G!=null)for(se in G.ref!==void 0&&(ge=void 0),G.key!==void 0&&(F=""+G.key),G)!O.call(G,se)||se==="key"||se==="__self"||se==="__source"||se==="ref"&&G.ref===void 0||(ue[se]=G[se]);var se=arguments.length-2;if(se===1)ue.children=ee;else if(1<se){for(var Se=Array(se),Me=0;Me<se;Me++)Se[Me]=arguments[Me+2];ue.children=Se}return j(B.type,F,void 0,void 0,ge,ue)},Mt.createContext=function(B){return B={$$typeof:l,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:s,_context:B},B},Mt.createElement=function(B,G,ee){var ue,F={},ge=null;if(G!=null)for(ue in G.key!==void 0&&(ge=""+G.key),G)O.call(G,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(F[ue]=G[ue]);var se=arguments.length-2;if(se===1)F.children=ee;else if(1<se){for(var Se=Array(se),Me=0;Me<se;Me++)Se[Me]=arguments[Me+2];F.children=Se}if(B&&B.defaultProps)for(ue in se=B.defaultProps,se)F[ue]===void 0&&(F[ue]=se[ue]);return j(B,ge,void 0,void 0,null,F)},Mt.createRef=function(){return{current:null}},Mt.forwardRef=function(B){return{$$typeof:c,render:B}},Mt.isValidElement=V,Mt.lazy=function(B){return{$$typeof:p,_payload:{_status:-1,_result:B},_init:W}},Mt.memo=function(B,G){return{$$typeof:u,type:B,compare:G===void 0?null:G}},Mt.startTransition=function(B){var G=E.T,ee={};E.T=ee;try{var ue=B(),F=E.S;F!==null&&F(ee,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(J,Q)}catch(ge){Q(ge)}finally{E.T=G}},Mt.unstable_useCacheRefresh=function(){return E.H.useCacheRefresh()},Mt.use=function(B){return E.H.use(B)},Mt.useActionState=function(B,G,ee){return E.H.useActionState(B,G,ee)},Mt.useCallback=function(B,G){return E.H.useCallback(B,G)},Mt.useContext=function(B){return E.H.useContext(B)},Mt.useDebugValue=function(){},Mt.useDeferredValue=function(B,G){return E.H.useDeferredValue(B,G)},Mt.useEffect=function(B,G){return E.H.useEffect(B,G)},Mt.useId=function(){return E.H.useId()},Mt.useImperativeHandle=function(B,G,ee){return E.H.useImperativeHandle(B,G,ee)},Mt.useInsertionEffect=function(B,G){return E.H.useInsertionEffect(B,G)},Mt.useLayoutEffect=function(B,G){return E.H.useLayoutEffect(B,G)},Mt.useMemo=function(B,G){return E.H.useMemo(B,G)},Mt.useOptimistic=function(B,G){return E.H.useOptimistic(B,G)},Mt.useReducer=function(B,G,ee){return E.H.useReducer(B,G,ee)},Mt.useRef=function(B){return E.H.useRef(B)},Mt.useState=function(B){return E.H.useState(B)},Mt.useSyncExternalStore=function(B,G,ee){return E.H.useSyncExternalStore(B,G,ee)},Mt.useTransition=function(){return E.H.useTransition()},Mt.version="19.0.0",Mt}var oR;function Jc(){return oR||(oR=1,h1.exports=e7()),h1.exports}var x=Jc();const Qe=Pr(x),sv=lF({__proto__:null,default:Qe},[x]);class ms extends Ys{constructor(t,n,r="local"){super(),this.name=t,this.defaultValue=n,this.driver=r,this.value=void 0,this.get=()=>(this.value===void 0&&(this.value=st[this.driver].getItem(`settings-${this.name}`)??this.defaultValue),this.value),this.set=i=>{this.value=i,st[this.driver].setItem(`settings-${this.name}`,i),this.onUpdate(i)}}}const cV=["high","low"],t7="graphics-level",Vs=new ms(t7,cV[0]),n7=[null,"skip","remoteMics","singstar-mics","different-mics","advanced","built-in"],r7="mic-setup-preference",uV=new ms(r7,n7[0],"session"),dV=[60,30],Ec=new ms("fps-count",dV[0]),Jv=new ms("EXCLUDED_LANGUAGES_KEY_V2",null),oi=new ms("MOBILE_PHONE_MODE_KEY",null),fV=new ms("keyboard-help-visibility",!0);var Tj;const aR=(Tj=er.getFeatureFlagPayload)==null?void 0:Tj.call(er,lV.InitialInputLag),xd=new ms("INPUT_LAG_V2",typeof aR=="number"?aR:0),hV=new ms("REMOTE_MIC_INPUT_LAG",0,"session"),lR=["write","read"],pV=new ms("DefaultRemoteMicPermission","write"),Zv=new ms("BackgroundThemeSetting","regular","memory"),gw=new ms("AutoEnableFullscreenSetting",!0,"session"),i7=["WebSockets","PeerJS","PartyKit"],ov=new ms("RemoteMicConnectionType","PartyKit","session"),s7=new ms("IsCalibrated",!1);var Cj;(Cj=er.onFeatureFlags)==null||Cj.call(er,()=>{ov.set(er.getFeatureFlagPayload(lV.RemoteMicConnectionType)??"PartyKit")});function xt(e){const[t,n]=x.useState(()=>e.get());return x.useLayoutEffect(()=>e.addListener(n),[e]),[t,e.set]}const cR="RememberedAccessesKey",p1="rememberedSubscriptionsKey";class o7 extends Ys{constructor(){var t,n;super(...arguments),this.remoteMics=[],this.micAccessMap=((t=st.local)==null?void 0:t.getItem(cR))??{},this.subscriptions=((n=st.session)==null?void 0:n.getItem(p1))??{"remote-mics":[]},this.addRemoteMic=(r,i,s,l,c)=>{this.remoteMics=this.remoteMics.filter(d=>d.id!==r),this.remoteMics=[...this.remoteMics,new Z$(r,i,s,c)],this.setPermission(r,this.getPermission(r)),me.remoteMicConnected.dispatch({id:r,name:i,silent:l})},this.removeRemoteMic=(r,i=!1)=>{const s=this.remoteMics.find(l=>l.id===r);this.remoteMics=this.remoteMics.filter(l=>l.id!==r),s&&(s.onDisconnect(),me.remoteMicDisconnected.dispatch(s,i))},this.getRemoteMics=()=>this.remoteMics,this.getRemoteMicById=r=>this.remoteMics.find(i=>i.id===r),this.broadcast=r=>{this.getRemoteMics().forEach(i=>i.connection.send(r))},this.broadcastToChannel=(r,i)=>{this.subscriptions[r].forEach(s=>{var l;return(l=this.getRemoteMicById(s))==null?void 0:l.connection.send(i)})},this.getPermission=r=>this.micAccessMap[r]??pV.get(),this.setPermission=(r,i)=>{var s;(s=this.getRemoteMicById(r))==null||s.setPermission(i),this.micAccessMap[r]=i,st==null||st.setItem(cR,this.micAccessMap),this.onUpdate(r,i)},this.addSubscription=(r,i)=>{var s;this.subscriptions[i]=[...new Set([...this.subscriptions[i],r])],(s=st.session)==null||s.setItem(p1,this.subscriptions),me.remoteMicSubscribed.dispatch(r,i)},this.removeSubscription=(r,i)=>{var s,l;this.subscriptions[i]=((s=this.subscriptions[i])==null?void 0:s.filter(c=>c!==r))??[],(l=st.session)==null||l.setItem(p1,this.subscriptions)}}}const Vt=new o7;Zv.addListener(e=>{KP(e),Vt.broadcast({t:"style-change",style:e})});me.remoteMicConnected.subscribe(e=>{var t;(t=Vt.getRemoteMicById(e.id))==null||t.connection.send({t:"style-change",style:Zv.get()})});class a7{constructor(){this.frequencies=[440,410],this.volumes=[1,1],this.startMonitoring=async()=>{},this.getFrequencies=t=>this.frequencies,this.getVolumes=t=>this.volumes,this.clearFrequencies=t=>{},this.stopMonitoring=async t=>{},this.getInputLag=()=>0,this.setFrequency=(t,n)=>this.frequencies[t]=n,this.requestReadiness=()=>Promise.resolve(!0),this.getStatus=()=>"ok"}}const l7=new a7;class c7{constructor(){this.frequencies=[410,210],this.volumes=[1,1],this.timestamp=0,this.interval=null,this.isMonitoring=!1,this.startMonitoring=async()=>{this.isMonitoring||(this.isMonitoring=!0,this.interval=global.setInterval(()=>{this.timestamp=this.timestamp+32,this.frequencies[0]=Math.sin(this.timestamp/1e3)*50+100,this.frequencies[1]=Math.cos(this.timestamp/1e3)*50+200},32))},this.getFrequencies=()=>this.frequencies,this.getVolumes=()=>this.volumes,this.clearFrequencies=t=>{},this.stopMonitoring=async()=>{this.isMonitoring&&(this.isMonitoring=!1,this.interval&&global.clearInterval(this.interval))},this.getInputLag=()=>150,this.requestReadiness=()=>Promise.resolve(!0),this.getStatus=()=>"ok"}}const u7=new c7,Et=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Tc="8.41.0",Kt=globalThis;function ey(e,t,n){const r=Kt,i=r.__SENTRY__=r.__SENTRY__||{},s=i[Tc]=i[Tc]||{};return s[e]||(s[e]=t())}const Il=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,d7="Sentry Logger ",ES=["debug","info","warn","error","log","assert","trace"],av={};function Zc(e){if(!("console"in Kt))return e();const t=Kt.console,n={},r=Object.keys(av);r.forEach(i=>{const s=av[i];n[i]=t[i],t[i]=s});try{return e()}finally{r.forEach(i=>{t[i]=n[i]})}}function f7(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return Il?ES.forEach(n=>{t[n]=(...r)=>{e&&Zc(()=>{Kt.console[n](`${d7}[${n}]:`,...r)})}}):ES.forEach(n=>{t[n]=()=>{}}),t}const Fe=ey("logger",f7),gV=50,Nc="?",uR=/\(error: (.*)\)/,dR=/captureMessage|captureException/;function mV(...e){const t=e.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0,i=0)=>{const s=[],l=n.split(`
`);for(let c=r;c<l.length;c++){const d=l[c];if(d.length>1024)continue;const u=uR.test(d)?d.replace(uR,"$1"):d;if(!u.match(/\S*Error: /)){for(const p of t){const h=p(u);if(h){s.push(h);break}}if(s.length>=gV+i)break}}return p7(s.slice(i))}}function h7(e){return Array.isArray(e)?mV(...e):e}function p7(e){if(!e.length)return[];const t=Array.from(e);return/sentryWrapped/.test(wm(t).function||"")&&t.pop(),t.reverse(),dR.test(wm(t).function||"")&&(t.pop(),dR.test(wm(t).function||"")&&t.pop()),t.slice(0,gV).map(n=>({...n,filename:n.filename||wm(t).filename,function:n.function||Nc}))}function wm(e){return e[e.length-1]||{}}const g1="<anonymous>";function wa(e){try{return!e||typeof e!="function"?g1:e.name||g1}catch{return g1}}function TS(e){const t=e.exception;if(t){const n=[];try{return t.values.forEach(r=>{r.stacktrace.frames&&n.push(...r.stacktrace.frames)}),n}catch{return}}}const A0={},fR={};function Ol(e,t){A0[e]=A0[e]||[],A0[e].push(t)}function jl(e,t){if(!fR[e]){fR[e]=!0;try{t()}catch(n){Il&&Fe.error(`Error while instrumenting ${e}`,n)}}}function zs(e,t){const n=e&&A0[e];if(n)for(const r of n)try{r(t)}catch(i){Il&&Fe.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${wa(r)}
Error:`,i)}}let Em=null;function vV(e){const t="error";Ol(t,e),jl(t,g7)}function g7(){Em=Kt.onerror,Kt.onerror=function(e,t,n,r,i){return zs("error",{column:r,error:i,line:n,msg:e,url:t}),Em&&!Em.__SENTRY_LOADER__?Em.apply(this,arguments):!1},Kt.onerror.__SENTRY_INSTRUMENTED__=!0}let Tm=null;function yV(e){const t="unhandledrejection";Ol(t,e),jl(t,m7)}function m7(){Tm=Kt.onunhandledrejection,Kt.onunhandledrejection=function(e){return zs("unhandledrejection",e),Tm&&!Tm.__SENTRY_LOADER__?Tm.apply(this,arguments):!0},Kt.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function eu(){return mw(Kt),Kt}function mw(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||Tc,t[Tc]=t[Tc]||{}}const AV=Object.prototype.toString;function ty(e){switch(AV.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return Ea(e,Error)}}function ef(e,t){return AV.call(e)===`[object ${t}]`}function bV(e){return ef(e,"ErrorEvent")}function hR(e){return ef(e,"DOMError")}function v7(e){return ef(e,"DOMException")}function _a(e){return ef(e,"String")}function vw(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function yw(e){return e===null||vw(e)||typeof e!="object"&&typeof e!="function"}function Nd(e){return ef(e,"Object")}function ny(e){return typeof Event<"u"&&Ea(e,Event)}function y7(e){return typeof Element<"u"&&Ea(e,Element)}function A7(e){return ef(e,"RegExp")}function ry(e){return!!(e&&e.then&&typeof e.then=="function")}function b7(e){return Nd(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function Ea(e,t){try{return e instanceof t}catch{return!1}}function _V(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue))}const wd=Kt,_7=80;function Lc(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,i=[];let s=0,l=0;const c=" > ",d=c.length;let u;const p=Array.isArray(t)?t:t.keyAttrs,h=!Array.isArray(t)&&t.maxStringLength||_7;for(;n&&s++<r&&(u=S7(n,p),!(u==="html"||s>1&&l+i.length*d+u.length>=h));)i.push(u),l+=u.length,n=n.parentNode;return i.reverse().join(c)}catch{return"<unknown>"}}function S7(e,t){const n=e,r=[];if(!n||!n.tagName)return"";if(wd.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());const i=t&&t.length?t.filter(l=>n.getAttribute(l)).map(l=>[l,n.getAttribute(l)]):null;if(i&&i.length)i.forEach(l=>{r.push(`[${l[0]}="${l[1]}"]`)});else{n.id&&r.push(`#${n.id}`);const l=n.className;if(l&&_a(l)){const c=l.split(/\s+/);for(const d of c)r.push(`.${d}`)}}const s=["aria-label","type","name","title","alt"];for(const l of s){const c=n.getAttribute(l);c&&r.push(`[${l}="${c}"]`)}return r.join("")}function x7(){try{return wd.document.location.href}catch{return""}}function w7(e){return wd.document&&wd.document.querySelector?wd.document.querySelector(e):null}function SV(e){if(!wd.HTMLElement)return null;let t=e;const n=5;for(let r=0;r<n;r++){if(!t)return null;if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}function Ed(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function pR(e,t){if(!Array.isArray(e))return"";const n=[];for(let r=0;r<e.length;r++){const i=e[r];try{_V(i)?n.push("[VueViewModel]"):n.push(String(i))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function E7(e,t,n=!1){return _a(e)?A7(t)?t.test(e):_a(t)?n?e===t:e.includes(t):!1:!1}function Cc(e,t=[],n=!1){return t.some(r=>E7(e,r,n))}function ss(e,t,n){if(!(t in e))return;const r=e[t],i=n(r);typeof i=="function"&&xV(i,r);try{e[t]=i}catch{Il&&Fe.log(`Failed to replace method "${t}" in object`,e)}}function $s(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{Il&&Fe.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function xV(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,$s(e,"__sentry_original__",t)}catch{}}function Aw(e){return e.__sentry_original__}function wV(e){if(ty(e))return{message:e.message,name:e.name,stack:e.stack,...mR(e)};if(ny(e)){const t={type:e.type,target:gR(e.target),currentTarget:gR(e.currentTarget),...mR(e)};return typeof CustomEvent<"u"&&Ea(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function gR(e){try{return y7(e)?Lc(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function mR(e){if(typeof e=="object"&&e!==null){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}else return{}}function T7(e,t=40){const n=Object.keys(wV(e));n.sort();const r=n[0];if(!r)return"[object has no keys]";if(r.length>=t)return Ed(r,t);for(let i=n.length;i>0;i--){const s=n.slice(0,i).join(", ");if(!(s.length>t))return i===n.length?s:Ed(s,t)}return""}function ii(e){return CS(e,new Map)}function CS(e,t){if(C7(e)){const n=t.get(e);if(n!==void 0)return n;const r={};t.set(e,r);for(const i of Object.getOwnPropertyNames(e))typeof e[i]<"u"&&(r[i]=CS(e[i],t));return r}if(Array.isArray(e)){const n=t.get(e);if(n!==void 0)return n;const r=[];return t.set(e,r),e.forEach(i=>{r.push(CS(i,t))}),r}return e}function C7(e){if(!Nd(e))return!1;try{const t=Object.getPrototypeOf(e).constructor.name;return!t||t==="Object"}catch{return!0}}const EV=1e3;function Dp(){return Date.now()/EV}function k7(){const{performance:e}=Kt;if(!e||!e.now)return Dp;const t=Date.now()-e.now(),n=e.timeOrigin==null?t:e.timeOrigin;return()=>(n+e.now())/EV}const si=k7(),qi=(()=>{const{performance:e}=Kt;if(!e||!e.now)return;const t=3600*1e3,n=e.now(),r=Date.now(),i=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,s=i<t,l=e.timing&&e.timing.navigationStart,d=typeof l=="number"?Math.abs(l+n-r):t,u=d<t;return s||u?i<=d?e.timeOrigin:l:r})();function jr(){const e=Kt,t=e.crypto||e.msCrypto;let n=()=>Math.random()*16;try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>{const r=new Uint8Array(1);return t.getRandomValues(r),r[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,r=>(r^(n()&15)>>r/4).toString(16))}function TV(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function fl(e){const{message:t,event_id:n}=e;if(t)return t;const r=TV(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function kS(e,t,n){const r=e.exception=e.exception||{},i=r.values=r.values||[],s=i[0]=i[0]||{};s.value||(s.value=t||""),s.type||(s.type="Error")}function gp(e,t){const n=TV(e);if(!n)return;const r={type:"generic",handled:!0},i=n.mechanism;if(n.mechanism={...r,...i,...t},t&&"data"in t){const s={...i&&i.data,...t.data};n.mechanism.data=s}}function vR(e){if(e&&e.__sentry_captured__)return!0;try{$s(e,"__sentry_captured__",!0)}catch{}return!1}var ha;(function(e){e[e.PENDING=0]="PENDING";const n=1;e[e.RESOLVED=n]="RESOLVED";const r=2;e[e.REJECTED=r]="REJECTED"})(ha||(ha={}));function Fc(e){return new Os(t=>{t(e)})}function lv(e){return new Os((t,n)=>{n(e)})}class Os{constructor(t){Os.prototype.__init.call(this),Os.prototype.__init2.call(this),Os.prototype.__init3.call(this),Os.prototype.__init4.call(this),this._state=ha.PENDING,this._handlers=[];try{t(this._resolve,this._reject)}catch(n){this._reject(n)}}then(t,n){return new Os((r,i)=>{this._handlers.push([!1,s=>{if(!t)r(s);else try{r(t(s))}catch(l){i(l)}},s=>{if(!n)i(s);else try{r(n(s))}catch(l){i(l)}}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new Os((n,r)=>{let i,s;return this.then(l=>{s=!1,i=l,t&&t()},l=>{s=!0,i=l,t&&t()}).then(()=>{if(s){r(i);return}n(i)})})}__init(){this._resolve=t=>{this._setResult(ha.RESOLVED,t)}}__init2(){this._reject=t=>{this._setResult(ha.REJECTED,t)}}__init3(){this._setResult=(t,n)=>{if(this._state===ha.PENDING){if(ry(n)){n.then(this._resolve,this._reject);return}this._state=t,this._value=n,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===ha.PENDING)return;const t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===ha.RESOLVED&&n[1](this._value),this._state===ha.REJECTED&&n[2](this._value),n[0]=!0)})}}}function M7(e){const t=si(),n={sid:jr(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>I7(n)};return e&&Ld(n,e),n}function Ld(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||si(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:jr()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function R7(e,t){let n={};e.status==="ok"&&(n={status:"exited"}),Ld(e,n)}function I7(e){return ii({sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}function mp(){return{traceId:jr(),spanId:jr().substring(16)}}function iy(e,t,n=2){if(!t||typeof t!="object"||n<=0)return t;if(e&&t&&Object.keys(t).length===0)return e;const r={...e};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=iy(r[i],t[i],n-1));return r}const MS="_sentrySpan";function vp(e,t){t?$s(e,MS,t):delete e[MS]}function cv(e){return e[MS]}const O7=100;class bw{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=mp()}clone(){const t=new bw;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._requestSession=this._requestSession,t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,vp(t,cv(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&Ld(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this._tags={...this._tags,[t]:n},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const n=typeof t=="function"?t(this):t,[r,i]=n instanceof Sl?[n.getScopeData(),n.getRequestSession()]:Nd(n)?[t,t.requestSession]:[],{tags:s,extra:l,user:c,contexts:d,level:u,fingerprint:p=[],propagationContext:h}=r||{};return this._tags={...this._tags,...s},this._extra={...this._extra,...l},this._contexts={...this._contexts,...d},c&&Object.keys(c).length&&(this._user=c),u&&(this._level=u),p.length&&(this._fingerprint=p),h&&(this._propagationContext=h),i&&(this._requestSession=i),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,vp(this,void 0),this._attachments=[],this._propagationContext=mp(),this._notifyScopeListeners(),this}addBreadcrumb(t,n){const r=typeof n=="number"?n:O7;if(r<=0)return this;const i={timestamp:Dp(),...t},s=this._breadcrumbs;return s.push(i),this._breadcrumbs=s.length>r?s.slice(-r):s,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:cv(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=iy(this._sdkProcessingMetadata,t,2),this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,n){const r=n&&n.event_id?n.event_id:jr();if(!this._client)return Fe.warn("No client configured on scope - will not capture exception!"),r;const i=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:i,...n,event_id:r},this),r}captureMessage(t,n,r){const i=r&&r.event_id?r.event_id:jr();if(!this._client)return Fe.warn("No client configured on scope - will not capture message!"),i;const s=new Error(t);return this._client.captureMessage(t,n,{originalException:t,syntheticException:s,...r,event_id:i},this),i}captureEvent(t,n){const r=n&&n.event_id?n.event_id:jr();return this._client?(this._client.captureEvent(t,{...n,event_id:r},this),r):(Fe.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}const Sl=bw;function j7(){return ey("defaultCurrentScope",()=>new Sl)}function P7(){return ey("defaultIsolationScope",()=>new Sl)}class V7{constructor(t,n){let r;t?r=t:r=new Sl;let i;n?i=n:i=new Sl,this._stack=[{scope:r}],this._isolationScope=i}withScope(t){const n=this._pushScope();let r;try{r=t(n)}catch(i){throw this._popScope(),i}return ry(r)?r.then(i=>(this._popScope(),i),i=>{throw this._popScope(),i}):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}}function Fd(){const e=eu(),t=mw(e);return t.stack=t.stack||new V7(j7(),P7())}function D7(e){return Fd().withScope(e)}function B7(e,t){const n=Fd();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function yR(e){return Fd().withScope(()=>e(Fd().getIsolationScope()))}function N7(){return{withIsolationScope:yR,withScope:D7,withSetScope:B7,withSetIsolationScope:(e,t)=>yR(t),getCurrentScope:()=>Fd().getScope(),getIsolationScope:()=>Fd().getIsolationScope()}}function tf(e){const t=mw(e);return t.acs?t.acs:N7()}function Dn(){const e=eu();return tf(e).getCurrentScope()}function Bo(){const e=eu();return tf(e).getIsolationScope()}function L7(){return ey("globalScope",()=>new Sl)}function sy(...e){const t=eu(),n=tf(t);if(e.length===2){const[r,i]=e;return r?n.withSetScope(r,i):n.withScope(i)}return n.withScope(e[0])}function hn(){return Dn().getClient()}function F7(e){const t=e.getPropagationContext(),{traceId:n,spanId:r,parentSpanId:i}=t;return ii({trace_id:n,span_id:r,parent_span_id:i})}const z7="_sentryMetrics";function RS(e){const t=e[z7];if(!t)return;const n={};for(const[,[r,i]]of t)(n[r]||(n[r]=[])).push(ii(i));return n}const va="sentry.source",CV="sentry.sample_rate",zc="sentry.op",Ar="sentry.origin",IS="sentry.idle_span_finish_reason",oy="sentry.measurement_unit",ay="sentry.measurement_value",$7="sentry.profile_id",_w="sentry.exclusive_time",U7=0,kV=1,Ur=2;function H7(e){if(e<400&&e>=100)return{code:kV};if(e>=400&&e<500)switch(e){case 401:return{code:Ur,message:"unauthenticated"};case 403:return{code:Ur,message:"permission_denied"};case 404:return{code:Ur,message:"not_found"};case 409:return{code:Ur,message:"already_exists"};case 413:return{code:Ur,message:"failed_precondition"};case 429:return{code:Ur,message:"resource_exhausted"};case 499:return{code:Ur,message:"cancelled"};default:return{code:Ur,message:"invalid_argument"}}if(e>=500&&e<600)switch(e){case 501:return{code:Ur,message:"unimplemented"};case 503:return{code:Ur,message:"unavailable"};case 504:return{code:Ur,message:"deadline_exceeded"};default:return{code:Ur,message:"internal_error"}}return{code:Ur,message:"unknown_error"}}function MV(e,t){e.setAttribute("http.response.status_code",t);const n=H7(t);n.message!=="unknown_error"&&e.setStatus(n)}const Sw="sentry-",q7=/^sentry-/,G7=8192;function RV(e){const t=K7(e);if(!t)return;const n=Object.entries(t).reduce((r,[i,s])=>{if(i.match(q7)){const l=i.slice(Sw.length);r[l]=s}return r},{});if(Object.keys(n).length>0)return n}function Y7(e){if(!e)return;const t=Object.entries(e).reduce((n,[r,i])=>(i&&(n[`${Sw}${r}`]=i),n),{});return W7(t)}function K7(e){if(!(!e||!_a(e)&&!Array.isArray(e)))return Array.isArray(e)?e.reduce((t,n)=>{const r=AR(n);return Object.entries(r).forEach(([i,s])=>{t[i]=s}),t},{}):AR(e)}function AR(e){return e.split(",").map(t=>t.split("=").map(n=>decodeURIComponent(n.trim()))).reduce((t,[n,r])=>(n&&r&&(t[n]=r),t),{})}function W7(e){if(Object.keys(e).length!==0)return Object.entries(e).reduce((t,[n,r],i)=>{const s=`${encodeURIComponent(n)}=${encodeURIComponent(r)}`,l=i===0?s:`${t},${s}`;return l.length>G7?(Il&&Fe.warn(`Not adding key: ${n} with val: ${r} to baggage header due to exceeding baggage size limits.`),t):l},"")}const IV=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function Q7(e){if(!e)return;const t=e.match(IV);if(!t)return;let n;return t[3]==="1"?n=!0:t[3]==="0"&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}function X7(e,t){const n=Q7(e),r=RV(t);if(!n||!n.traceId)return mp();const{traceId:i,parentSpanId:s,parentSampled:l}=n,c=jr().substring(16);return{traceId:i,parentSpanId:s,spanId:c,sampled:l,dsc:r||{}}}function OV(e=jr(),t=jr().substring(16),n){let r="";return n!==void 0&&(r=n?"-1":"-0"),`${e}-${t}${r}`}const jV=0,PV=1;let bR=!1;function J7(e){const{spanId:t,traceId:n}=e.spanContext(),{data:r,op:i,parent_span_id:s,status:l,origin:c}=cn(e);return ii({parent_span_id:s,span_id:t,trace_id:n,data:r,op:i,status:l,origin:c})}function Z7(e){const{spanId:t,traceId:n}=e.spanContext(),{parent_span_id:r}=cn(e);return ii({parent_span_id:r,span_id:t,trace_id:n})}function eU(e){const{traceId:t,spanId:n}=e.spanContext(),r=tu(e);return OV(t,n,r)}function kc(e){return typeof e=="number"?_R(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?_R(e.getTime()):si()}function _R(e){return e>9999999999?e/1e3:e}function cn(e){if(nU(e))return e.getSpanJSON();try{const{spanId:t,traceId:n}=e.spanContext();if(tU(e)){const{attributes:r,startTime:i,name:s,endTime:l,parentSpanId:c,status:d}=e;return ii({span_id:t,trace_id:n,data:r,description:s,parent_span_id:c,start_timestamp:kc(i),timestamp:kc(l)||void 0,status:VV(d),op:r[zc],origin:r[Ar],_metrics_summary:RS(e)})}return{span_id:t,trace_id:n}}catch{return{}}}function tU(e){const t=e;return!!t.attributes&&!!t.startTime&&!!t.name&&!!t.endTime&&!!t.status}function nU(e){return typeof e.getSpanJSON=="function"}function tu(e){const{traceFlags:t}=e.spanContext();return t===PV}function VV(e){if(!(!e||e.code===U7))return e.code===kV?"ok":e.message||"unknown_error"}const Mc="_sentryChildSpans",OS="_sentryRootSpan";function DV(e,t){const n=e[OS]||e;$s(t,OS,n),e[Mc]?e[Mc].add(t):$s(e,Mc,new Set([t]))}function rU(e,t){e[Mc]&&e[Mc].delete(t)}function b0(e){const t=new Set;function n(r){if(!t.has(r)&&tu(r)){t.add(r);const i=r[Mc]?Array.from(r[Mc]):[];for(const s of i)n(s)}}return n(e),Array.from(t)}function hi(e){return e[OS]||e}function gi(){const e=eu(),t=tf(e);return t.getActiveSpan?t.getActiveSpan():cv(Dn())}function BV(){bR||(Zc(()=>{console.warn("[Sentry] Deprecation warning: Returning null from `beforeSendSpan` will be disallowed from SDK version 9.0.0 onwards. The callback will only support mutating spans. To drop certain spans, configure the respective integrations directly.")}),bR=!0)}let SR=!1;function iU(){SR||(SR=!0,vV(jS),yV(jS))}function jS(){const e=gi(),t=e&&hi(e);if(t){const n="internal_error";Et&&Fe.log(`[Tracing] Root span: ${n} -> Global error occurred`),t.setStatus({code:Ur,message:n})}}jS.tag="sentry_tracingErrorCallback";const NV="_sentryScope",LV="_sentryIsolationScope";function sU(e,t,n){e&&($s(e,LV,n),$s(e,NV,t))}function xR(e){return{scope:e[NV],isolationScope:e[LV]}}function xl(e){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const t=hn(),n=e||t&&t.getOptions();return!!n&&(n.enableTracing||"tracesSampleRate"in n||"tracesSampler"in n)}class nf{constructor(t={}){this._traceId=t.traceId||jr(),this._spanId=t.spanId||jr().substring(16)}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:jV}}end(t){}setAttribute(t,n){return this}setAttributes(t){return this}setStatus(t){return this}updateName(t){return this}isRecording(){return!1}addEvent(t,n,r){return this}addLink(t){return this}addLinks(t){return this}recordException(t,n){}}const xw="production",FV="_frozenDsc";function wR(e,t){$s(e,FV,t)}function zV(e,t){const n=t.getOptions(),{publicKey:r}=t.getDsn()||{},i=ii({environment:n.environment||xw,release:n.release,public_key:r,trace_id:e});return t.emit("createDsc",i),i}function $V(e,t){const n=t.getPropagationContext();return n.dsc||zV(n.traceId,e)}function rf(e){const t=hn();if(!t)return{};const n=hi(e),r=n[FV];if(r)return r;const i=n.spanContext().traceState,s=i&&i.get("sentry.dsc"),l=s&&RV(s);if(l)return l;const c=zV(e.spanContext().traceId,t),d=cn(n),u=d.data||{},p=u[CV];p!=null&&(c.sample_rate=`${p}`);const h=u[va],v=d.description;return h!=="url"&&v&&(c.transaction=v),xl()&&(c.sampled=String(tu(n))),t.emit("createDsc",c,n),c}function oU(e){if(!Et)return;const{description:t="< unknown name >",op:n="< unknown op >",parent_span_id:r}=cn(e),{spanId:i}=e.spanContext(),s=tu(e),l=hi(e),c=l===e,d=`[Tracing] Starting ${s?"sampled":"unsampled"} ${c?"root ":""}span`,u=[`op: ${n}`,`name: ${t}`,`ID: ${i}`];if(r&&u.push(`parent ID: ${r}`),!c){const{op:p,description:h}=cn(l);u.push(`root ID: ${l.spanContext().spanId}`),p&&u.push(`root op: ${p}`),h&&u.push(`root description: ${h}`)}Fe.log(`${d}
  ${u.join(`
  `)}`)}function aU(e){if(!Et)return;const{description:t="< unknown name >",op:n="< unknown op >"}=cn(e),{spanId:r}=e.spanContext(),s=hi(e)===e,l=`[Tracing] Finishing "${n}" ${s?"root ":""}span "${t}" with ID ${r}`;Fe.log(l)}function UV(e){if(typeof e=="boolean")return Number(e);const t=typeof e=="string"?parseFloat(e):e;if(typeof t!="number"||isNaN(t)||t<0||t>1){Et&&Fe.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`);return}return t}function lU(e,t){if(!xl(e))return[!1];let n;typeof e.tracesSampler=="function"?n=e.tracesSampler(t):t.parentSampled!==void 0?n=t.parentSampled:typeof e.tracesSampleRate<"u"?n=e.tracesSampleRate:n=1;const r=UV(n);return r===void 0?(Et&&Fe.warn("[Tracing] Discarding transaction because of invalid sample rate."),[!1]):r?Math.random()<r?[!0,r]:(Et&&Fe.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(n)})`),[!1,r]):(Et&&Fe.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,r])}const cU=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function uU(e){return e==="http"||e==="https"}function sf(e,t=!1){const{host:n,path:r,pass:i,port:s,projectId:l,protocol:c,publicKey:d}=e;return`${c}://${d}${t&&i?`:${i}`:""}@${n}${s?`:${s}`:""}/${r&&`${r}/`}${l}`}function dU(e){const t=cU.exec(e);if(!t){Zc(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}const[n,r,i="",s="",l="",c=""]=t.slice(1);let d="",u=c;const p=u.split("/");if(p.length>1&&(d=p.slice(0,-1).join("/"),u=p.pop()),u){const h=u.match(/^\d+/);h&&(u=h[0])}return HV({host:s,pass:i,path:d,projectId:u,port:l,protocol:n,publicKey:r})}function HV(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function fU(e){if(!Il)return!0;const{port:t,projectId:n,protocol:r}=e;return["protocol","publicKey","host","projectId"].find(l=>e[l]?!1:(Fe.error(`Invalid Sentry Dsn: ${l} missing`),!0))?!1:n.match(/^\d+$/)?uU(r)?t&&isNaN(parseInt(t,10))?(Fe.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):!0:(Fe.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(Fe.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}function qV(e){const t=typeof e=="string"?dU(e):HV(e);if(!(!t||!fU(t)))return t}function hU(){const e=typeof WeakSet=="function",t=e?new WeakSet:[];function n(i){if(e)return t.has(i)?!0:(t.add(i),!1);for(let s=0;s<t.length;s++)if(t[s]===i)return!0;return t.push(i),!1}function r(i){if(e)t.delete(i);else for(let s=0;s<t.length;s++)if(t[s]===i){t.splice(s,1);break}}return[n,r]}function hl(e,t=100,n=1/0){try{return PS("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function GV(e,t=3,n=100*1024){const r=hl(e,t);return vU(r)>n?GV(e,t-1,n):r}function PS(e,t,n=1/0,r=1/0,i=hU()){const[s,l]=i;if(t==null||["boolean","string"].includes(typeof t)||typeof t=="number"&&Number.isFinite(t))return t;const c=pU(e,t);if(!c.startsWith("[object "))return c;if(t.__sentry_skip_normalization__)return t;const d=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:n;if(d===0)return c.replace("object ","");if(s(t))return"[Circular ~]";const u=t;if(u&&typeof u.toJSON=="function")try{const y=u.toJSON();return PS("",y,d-1,r,i)}catch{}const p=Array.isArray(t)?[]:{};let h=0;const v=wV(t);for(const y in v){if(!Object.prototype.hasOwnProperty.call(v,y))continue;if(h>=r){p[y]="[MaxProperties ~]";break}const b=v[y];p[y]=PS(y,b,d-1,r,i),h++}return l(t),p}function pU(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&t===global)return"[Global]";if(typeof window<"u"&&t===window)return"[Window]";if(typeof document<"u"&&t===document)return"[Document]";if(_V(t))return"[VueViewModel]";if(b7(t))return"[SyntheticEvent]";if(typeof t=="number"&&!Number.isFinite(t))return`[${t}]`;if(typeof t=="function")return`[Function: ${wa(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;const n=gU(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function gU(e){const t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}function mU(e){return~-encodeURI(e).split(/%..|./).length}function vU(e){return mU(JSON.stringify(e))}function of(e,t=[]){return[e,t]}function yU(e,t){const[n,r]=e;return[n,[...r,t]]}function VS(e,t){const n=e[1];for(const r of n){const i=r[0].type;if(t(r,i))return!0}return!1}function DS(e){return Kt.__SENTRY__&&Kt.__SENTRY__.encodePolyfill?Kt.__SENTRY__.encodePolyfill(e):new TextEncoder().encode(e)}function AU(e){const[t,n]=e;let r=JSON.stringify(t);function i(s){typeof r=="string"?r=typeof s=="string"?r+s:[DS(r),s]:r.push(typeof s=="string"?DS(s):s)}for(const s of n){const[l,c]=s;if(i(`
${JSON.stringify(l)}
`),typeof c=="string"||c instanceof Uint8Array)i(c);else{let d;try{d=JSON.stringify(c)}catch{d=JSON.stringify(hl(c))}i(d)}}return typeof r=="string"?r:bU(r)}function bU(e){const t=e.reduce((i,s)=>i+s.length,0),n=new Uint8Array(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return n}function _U(e){return[{type:"span"},e]}function SU(e){const t=typeof e.data=="string"?DS(e.data):e.data;return[ii({type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),t]}const xU={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket"};function ER(e){return xU[e]}function YV(e){if(!e||!e.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function wU(e,t,n,r){const i=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:sf(r)},...i&&{trace:ii({...i})}}}function EU(e,t){return t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]]),e}function TU(e,t,n,r){const i=YV(n),s={sent_at:new Date().toISOString(),...i&&{sdk:i},...!!r&&t&&{dsn:sf(t)}},l="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return of(s,[l])}function CU(e,t,n,r){const i=YV(n),s=e.type&&e.type!=="replay_event"?e.type:"event";EU(e,n&&n.sdk);const l=wU(e,i,r,t);return delete e.sdkProcessingMetadata,of(l,[[{type:s},e]])}function kU(e,t){function n(p){return!!p.trace_id&&!!p.public_key}const r=rf(e[0]),i=t&&t.getDsn(),s=t&&t.getOptions().tunnel,l={sent_at:new Date().toISOString(),...n(r)&&{trace:r},...!!s&&i&&{dsn:sf(i)}},c=t&&t.getOptions().beforeSendSpan,d=c?p=>{const h=c(cn(p));return h||BV(),h}:p=>cn(p),u=[];for(const p of e){const h=d(p);h&&u.push(_U(h))}return of(l,u)}function MU(e,t,n,r=gi()){const i=r&&hi(r);i&&(Et&&Fe.log(`[Measurement] Setting measurement on root span: ${e} = ${t} ${n}`),i.addEvent(e,{[ay]:t,[oy]:n}))}function TR(e){if(!e||e.length===0)return;const t={};return e.forEach(n=>{const r=n.attributes||{},i=r[oy],s=r[ay];typeof i=="string"&&typeof s=="number"&&(t[n.name]={value:s,unit:i})}),t}const CR=1e3;class ww{constructor(t={}){this._traceId=t.traceId||jr(),this._spanId=t.spanId||jr().substring(16),this._startTime=t.startTimestamp||si(),this._attributes={},this.setAttributes({[Ar]:"manual",[zc]:t.op,...t.attributes}),this._name=t.name,t.parentSpanId&&(this._parentSpanId=t.parentSpanId),"sampled"in t&&(this._sampled=t.sampled),t.endTimestamp&&(this._endTime=t.endTimestamp),this._events=[],this._isStandaloneSpan=t.isStandalone,this._endTime&&this._onSpanEnded()}addLink(t){return this}addLinks(t){return this}recordException(t,n){}spanContext(){const{_spanId:t,_traceId:n,_sampled:r}=this;return{spanId:t,traceId:n,traceFlags:r?PV:jV}}setAttribute(t,n){return n===void 0?delete this._attributes[t]:this._attributes[t]=n,this}setAttributes(t){return Object.keys(t).forEach(n=>this.setAttribute(n,t[n])),this}updateStartTime(t){this._startTime=kc(t)}setStatus(t){return this._status=t,this}updateName(t){return this._name=t,this.setAttribute(va,"custom"),this}end(t){this._endTime||(this._endTime=kc(t),aU(this),this._onSpanEnded())}getSpanJSON(){return ii({data:this._attributes,description:this._name,op:this._attributes[zc],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:VV(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[Ar],_metrics_summary:RS(this),profile_id:this._attributes[$7],exclusive_time:this._attributes[_w],measurements:TR(this._events),is_segment:this._isStandaloneSpan&&hi(this)===this||void 0,segment_id:this._isStandaloneSpan?hi(this).spanContext().spanId:void 0})}isRecording(){return!this._endTime&&!!this._sampled}addEvent(t,n,r){Et&&Fe.log("[Tracing] Adding an event to span:",t);const i=kR(n)?n:r||si(),s=kR(n)?{}:n||{},l={name:t,time:kc(i),attributes:s};return this._events.push(l),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){const t=hn();if(t&&t.emit("spanEnd",this),!(this._isStandaloneSpan||this===hi(this)))return;if(this._isStandaloneSpan){this._sampled?IU(kU([this],t)):(Et&&Fe.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),t&&t.recordDroppedEvent("sample_rate","span"));return}const r=this._convertSpanToTransaction();r&&(xR(this).scope||Dn()).captureEvent(r)}_convertSpanToTransaction(){if(!MR(cn(this)))return;this._name||(Et&&Fe.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");const{scope:t,isolationScope:n}=xR(this),i=(t||Dn()).getClient()||hn();if(this._sampled!==!0){Et&&Fe.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),i&&i.recordDroppedEvent("sample_rate","transaction");return}const l=b0(this).filter(h=>h!==this&&!RU(h)).map(h=>cn(h)).filter(MR),c=this._attributes[va],d={contexts:{trace:J7(this)},spans:l.length>CR?l.sort((h,v)=>h.start_timestamp-v.start_timestamp).slice(0,CR):l,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:t,capturedSpanIsolationScope:n,...ii({dynamicSamplingContext:rf(this)})},_metrics_summary:RS(this),...c&&{transaction_info:{source:c}}},u=TR(this._events);return u&&Object.keys(u).length&&(Et&&Fe.log("[Measurements] Adding measurements to transaction event",JSON.stringify(u,void 0,2)),d.measurements=u),d}}function kR(e){return e&&typeof e=="number"||e instanceof Date||Array.isArray(e)}function MR(e){return!!e.start_timestamp&&!!e.timestamp&&!!e.span_id&&!!e.trace_id}function RU(e){return e instanceof ww&&e.isStandaloneSpan()}function IU(e){const t=hn();if(!t)return;const n=e[1];if(!n||n.length===0){t.recordDroppedEvent("before_send","span");return}t.sendEnvelope(e)}const KV="__SENTRY_SUPPRESS_TRACING__";function bl(e){const t=WV();if(t.startInactiveSpan)return t.startInactiveSpan(e);const n=jU(e),{forceTransaction:r,parentSpan:i}=e;return(e.scope?l=>sy(e.scope,l):i!==void 0?l=>uv(i,l):l=>l())(()=>{const l=Dn(),c=VU(l);return e.onlyIfParent&&!c?new nf:OU({parentSpan:c,spanArguments:n,forceTransaction:r,scope:l})})}function uv(e,t){const n=WV();return n.withActiveSpan?n.withActiveSpan(e,t):sy(r=>(vp(r,e||void 0),t(r)))}function OU({parentSpan:e,spanArguments:t,forceTransaction:n,scope:r}){if(!xl())return new nf;const i=Bo();let s;if(e&&!n)s=PU(e,r,t),DV(e,s);else if(e){const l=rf(e),{traceId:c,spanId:d}=e.spanContext(),u=tu(e);s=RR({traceId:c,parentSpanId:d,...t},r,u),wR(s,l)}else{const{traceId:l,dsc:c,parentSpanId:d,sampled:u}={...i.getPropagationContext(),...r.getPropagationContext()};s=RR({traceId:l,parentSpanId:d,...t},r,u),c&&wR(s,c)}return oU(s),sU(s,r,i),s}function jU(e){const n={isStandalone:(e.experimental||{}).standalone,...e};if(e.startTime){const r={...n};return r.startTimestamp=kc(e.startTime),delete r.startTime,r}return n}function WV(){const e=eu();return tf(e)}function RR(e,t,n){const r=hn(),i=r&&r.getOptions()||{},{name:s="",attributes:l}=e,[c,d]=t.getScopeData().sdkProcessingMetadata[KV]?[!1]:lU(i,{name:s,parentSampled:n,attributes:l,transactionContext:{name:s,parentSampled:n}}),u=new ww({...e,attributes:{[va]:"custom",...e.attributes},sampled:c});return d!==void 0&&u.setAttribute(CV,d),r&&r.emit("spanStart",u),u}function PU(e,t,n){const{spanId:r,traceId:i}=e.spanContext(),s=t.getScopeData().sdkProcessingMetadata[KV]?!1:tu(e),l=s?new ww({...n,parentSpanId:r,traceId:i,sampled:s}):new nf({traceId:i});DV(e,l);const c=hn();return c&&(c.emit("spanStart",l),n.endTimestamp&&c.emit("spanEnd",l)),l}function VU(e){const t=cv(e);if(!t)return;const n=hn();return(n?n.getOptions():{}).parentSpanIsAlwaysRootSpan?hi(t):t}const _0={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3},DU="heartbeatFailed",BU="idleTimeout",NU="finalTimeout",LU="externalFinish";function QV(e,t={}){const n=new Map;let r=!1,i,s=LU,l=!t.disableAutoFinish;const c=[],{idleTimeout:d=_0.idleTimeout,finalTimeout:u=_0.finalTimeout,childSpanTimeout:p=_0.childSpanTimeout,beforeSpanEnd:h}=t,v=hn();if(!v||!xl())return new nf;const y=Dn(),b=gi(),_=FU(e);_.end=new Proxy(_.end,{apply(O,j,P){h&&h(_);const[V,...C]=P,N=V||si(),U=kc(N),L=b0(_).filter(Q=>Q!==_);if(!L.length)return E(U),Reflect.apply(O,j,[U,...C]);const q=L.map(Q=>cn(Q).timestamp).filter(Q=>!!Q),H=q.length?Math.max(...q):void 0,D=cn(_).start_timestamp,W=Math.min(D?D+u/1e3:1/0,Math.max(D||-1/0,Math.min(U,H||1/0)));return E(W),Reflect.apply(O,j,[W,...C])}});function w(){i&&(clearTimeout(i),i=void 0)}function T(O){w(),i=setTimeout(()=>{!r&&n.size===0&&l&&(s=BU,_.end(O))},d)}function k(O){i=setTimeout(()=>{!r&&l&&(s=DU,_.end(O))},p)}function R(O){w(),n.set(O,!0);const j=si();k(j+p/1e3)}function M(O){if(n.has(O)&&n.delete(O),n.size===0){const j=si();T(j+d/1e3)}}function E(O){r=!0,n.clear(),c.forEach(U=>U()),vp(y,b);const j=cn(_),{start_timestamp:P}=j;if(!P)return;(j.data||{})[IS]||_.setAttribute(IS,s),Fe.log(`[Tracing] Idle span "${j.op}" finished`);const C=b0(_).filter(U=>U!==_);let N=0;C.forEach(U=>{U.isRecording()&&(U.setStatus({code:Ur,message:"cancelled"}),U.end(O),Et&&Fe.log("[Tracing] Cancelling span since span ended early",JSON.stringify(U,void 0,2)));const L=cn(U),{timestamp:q=0,start_timestamp:H=0}=L,D=H<=O,W=(u+d)/1e3,Q=q-H<=W;if(Et){const J=JSON.stringify(U,void 0,2);D?Q||Fe.log("[Tracing] Discarding span since it finished after idle span final timeout",J):Fe.log("[Tracing] Discarding span since it happened after idle span was finished",J)}(!Q||!D)&&(rU(_,U),N++)}),N>0&&_.setAttribute("sentry.idle_span_discarded_spans",N)}return c.push(v.on("spanStart",O=>{if(r||O===_||cn(O).timestamp)return;b0(_).includes(O)&&R(O.spanContext().spanId)})),c.push(v.on("spanEnd",O=>{r||M(O.spanContext().spanId)})),c.push(v.on("idleSpanEnableAutoFinish",O=>{O===_&&(l=!0,T(),n.size&&k())})),t.disableAutoFinish||T(),setTimeout(()=>{r||(_.setStatus({code:Ur,message:"deadline_exceeded"}),s=NU,_.end())},u),_}function FU(e){const t=bl(e);return vp(Dn(),t),Et&&Fe.log("[Tracing] Started span is an idle span"),t}function BS(e,t,n,r=0){return new Os((i,s)=>{const l=e[r];if(t===null||typeof l!="function")i(t);else{const c=l({...t},n);Et&&l.id&&c===null&&Fe.log(`Event processor "${l.id}" dropped event`),ry(c)?c.then(d=>BS(e,d,n,r+1).then(i)).then(null,s):BS(e,c,n,r+1).then(i).then(null,s)}})}let Cm,IR,km;function zU(e){const t=Kt._sentryDebugIds;if(!t)return{};const n=Object.keys(t);return km&&n.length===IR||(IR=n.length,km=n.reduce((r,i)=>{Cm||(Cm={});const s=Cm[i];if(s)r[s[0]]=s[1];else{const l=e(i);for(let c=l.length-1;c>=0;c--){const d=l[c],u=d&&d.filename,p=t[i];if(u&&p){r[u]=p,Cm[i]=[u,p];break}}}return r},{})),km}function $U(e,t){const{fingerprint:n,span:r,breadcrumbs:i,sdkProcessingMetadata:s}=t;UU(e,t),r&&GU(e,r),YU(e,n),HU(e,i),qU(e,s)}function OR(e,t){const{extra:n,tags:r,user:i,contexts:s,level:l,sdkProcessingMetadata:c,breadcrumbs:d,fingerprint:u,eventProcessors:p,attachments:h,propagationContext:v,transactionName:y,span:b}=t;Mm(e,"extra",n),Mm(e,"tags",r),Mm(e,"user",i),Mm(e,"contexts",s),e.sdkProcessingMetadata=iy(e.sdkProcessingMetadata,c,2),l&&(e.level=l),y&&(e.transactionName=y),b&&(e.span=b),d.length&&(e.breadcrumbs=[...e.breadcrumbs,...d]),u.length&&(e.fingerprint=[...e.fingerprint,...u]),p.length&&(e.eventProcessors=[...e.eventProcessors,...p]),h.length&&(e.attachments=[...e.attachments,...h]),e.propagationContext={...e.propagationContext,...v}}function Mm(e,t,n){e[t]=iy(e[t],n,1)}function UU(e,t){const{extra:n,tags:r,user:i,contexts:s,level:l,transactionName:c}=t,d=ii(n);d&&Object.keys(d).length&&(e.extra={...d,...e.extra});const u=ii(r);u&&Object.keys(u).length&&(e.tags={...u,...e.tags});const p=ii(i);p&&Object.keys(p).length&&(e.user={...p,...e.user});const h=ii(s);h&&Object.keys(h).length&&(e.contexts={...h,...e.contexts}),l&&(e.level=l),c&&e.type!=="transaction"&&(e.transaction=c)}function HU(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}function qU(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}function GU(e,t){e.contexts={trace:Z7(t),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:rf(t),...e.sdkProcessingMetadata};const n=hi(t),r=cn(n).description;r&&!e.transaction&&e.type==="transaction"&&(e.transaction=r)}function YU(e,t){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}function KU(e,t,n,r,i,s){const{normalizeDepth:l=3,normalizeMaxBreadth:c=1e3}=e,d={...t,event_id:t.event_id||n.event_id||jr(),timestamp:t.timestamp||Dp()},u=n.integrations||e.integrations.map(w=>w.name);WU(d,e),JU(d,u),i&&i.emit("applyFrameMetadata",t),t.type===void 0&&QU(d,e.stackParser);const p=e9(r,n.captureContext);n.mechanism&&gp(d,n.mechanism);const h=i?i.getEventProcessors():[],v=L7().getScopeData();if(s){const w=s.getScopeData();OR(v,w)}if(p){const w=p.getScopeData();OR(v,w)}const y=[...n.attachments||[],...v.attachments];y.length&&(n.attachments=y),$U(d,v);const b=[...h,...v.eventProcessors];return BS(b,d,n).then(w=>(w&&XU(w),typeof l=="number"&&l>0?ZU(w,l,c):w))}function WU(e,t){const{environment:n,release:r,dist:i,maxValueLength:s=250}=t;e.environment=e.environment||n||xw,!e.release&&r&&(e.release=r),!e.dist&&i&&(e.dist=i),e.message&&(e.message=Ed(e.message,s));const l=e.exception&&e.exception.values&&e.exception.values[0];l&&l.value&&(l.value=Ed(l.value,s));const c=e.request;c&&c.url&&(c.url=Ed(c.url,s))}function QU(e,t){const n=zU(t);try{e.exception.values.forEach(r=>{r.stacktrace.frames.forEach(i=>{n&&i.filename&&(i.debug_id=n[i.filename])})})}catch{}}function XU(e){const t={};try{e.exception.values.forEach(r=>{r.stacktrace.frames.forEach(i=>{i.debug_id&&(i.abs_path?t[i.abs_path]=i.debug_id:i.filename&&(t[i.filename]=i.debug_id),delete i.debug_id)})})}catch{}if(Object.keys(t).length===0)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.entries(t).forEach(([r,i])=>{n.push({type:"sourcemap",code_file:r,debug_id:i})})}function JU(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function ZU(e,t,n){if(!e)return null;const r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(i=>({...i,...i.data&&{data:hl(i.data,t,n)}}))},...e.user&&{user:hl(e.user,t,n)},...e.contexts&&{contexts:hl(e.contexts,t,n)},...e.extra&&{extra:hl(e.extra,t,n)}};return e.contexts&&e.contexts.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=hl(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map(i=>({...i,...i.data&&{data:hl(i.data,t,n)}}))),r}function e9(e,t){if(!t)return e;const n=e?e.clone():new Sl;return n.update(t),n}function t9(e){if(e)return n9(e)?{captureContext:e}:i9(e)?{captureContext:e}:e}function n9(e){return e instanceof Sl||typeof e=="function"}const r9=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function i9(e){return Object.keys(e).some(t=>r9.includes(t))}function fo(e,t){return Dn().captureException(e,t9(t))}function XV(e,t){return Dn().captureEvent(e,t)}function s9(e,t){Bo().setContext(e,t)}function o9(e){Bo().setUser(e)}function a9(){return Bo().lastEventId()}function l9(){const e=hn();return!!e&&e.getOptions().enabled!==!1&&!!e.getTransport()}function jR(e){const t=hn(),n=Bo(),r=Dn(),{release:i,environment:s=xw}=t&&t.getOptions()||{},{userAgent:l}=Kt.navigator||{},c=M7({release:i,environment:s,user:r.getUser()||n.getUser(),...l&&{userAgent:l},...e}),d=n.getSession();return d&&d.status==="ok"&&Ld(d,{status:"exited"}),JV(),n.setSession(c),r.setSession(c),c}function JV(){const e=Bo(),t=Dn(),n=t.getSession()||e.getSession();n&&R7(n),ZV(),e.setSession(),t.setSession()}function ZV(){const e=Bo(),t=Dn(),n=hn(),r=t.getSession()||e.getSession();r&&n&&n.captureSession(r)}function PR(e=!1){if(e){JV();return}ZV()}const c9="7";function e4(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function u9(e){return`${e4(e)}${e.projectId}/envelope/`}function d9(e,t){const n={sentry_version:c9};return e.publicKey&&(n.sentry_key=e.publicKey),t&&(n.sentry_client=`${t.name}/${t.version}`),new URLSearchParams(n).toString()}function f9(e,t,n){return t||`${u9(e)}?${d9(e,n)}`}function h9(e,t){const n=qV(e);if(!n)return"";const r=`${e4(n)}embed/error-page/`;let i=`dsn=${sf(n)}`;for(const s in t)if(s!=="dsn"&&s!=="onClose")if(s==="user"){const l=t.user;if(!l)continue;l.name&&(i+=`&name=${encodeURIComponent(l.name)}`),l.email&&(i+=`&email=${encodeURIComponent(l.email)}`)}else i+=`&${encodeURIComponent(s)}=${encodeURIComponent(t[s])}`;return`${r}?${i}`}const VR=[];function p9(e){const t={};return e.forEach(n=>{const{name:r}=n,i=t[r];i&&!i.isDefaultInstance&&n.isDefaultInstance||(t[r]=n)}),Object.values(t)}function g9(e){const t=e.defaultIntegrations||[],n=e.integrations;t.forEach(l=>{l.isDefaultInstance=!0});let r;if(Array.isArray(n))r=[...t,...n];else if(typeof n=="function"){const l=n(t);r=Array.isArray(l)?l:[l]}else r=t;const i=p9(r),s=i.findIndex(l=>l.name==="Debug");if(s>-1){const[l]=i.splice(s,1);i.push(l)}return i}function m9(e,t){const n={};return t.forEach(r=>{r&&t4(e,r,n)}),n}function DR(e,t){for(const n of t)n&&n.afterAllSetup&&n.afterAllSetup(e)}function t4(e,t,n){if(n[t.name]){Et&&Fe.log(`Integration skipped because it was already installed: ${t.name}`);return}if(n[t.name]=t,VR.indexOf(t.name)===-1&&typeof t.setupOnce=="function"&&(t.setupOnce(),VR.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),typeof t.preprocessEvent=="function"){const r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(i,s)=>r(i,s,e))}if(typeof t.processEvent=="function"){const r=t.processEvent.bind(t),i=Object.assign((s,l)=>r(s,l,e),{id:t.name});e.addEventProcessor(i)}Et&&Fe.log(`Integration installed: ${t.name}`)}function v9(e,t,n){const r=[{type:"client_report"},{timestamp:Dp(),discarded_events:e}];return of(t?{dsn:t}:{},[r])}class ko extends Error{constructor(t,n="warn"){super(t),this.message=t,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=n}}const BR="Not capturing exception because it's already been captured.";class y9{constructor(t){if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=qV(t.dsn):Et&&Fe.warn("No DSN provided, client will not send events."),this._dsn){const i=f9(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:i})}const r=["enableTracing","tracesSampleRate","tracesSampler"].find(i=>i in t&&t[i]==null);r&&Zc(()=>{console.warn(`[Sentry] Deprecation warning: \`${r}\` is set to undefined, which leads to tracing being enabled. In v9, a value of \`undefined\` will result in tracing being disabled.`)})}captureException(t,n,r){const i=jr();if(vR(t))return Et&&Fe.log(BR),i;const s={event_id:i,...n};return this._process(this.eventFromException(t,s).then(l=>this._captureEvent(l,s,r))),s.event_id}captureMessage(t,n,r,i){const s={event_id:jr(),...r},l=vw(t)?t:String(t),c=yw(t)?this.eventFromMessage(l,n,s):this.eventFromException(t,s);return this._process(c.then(d=>this._captureEvent(d,s,i))),s.event_id}captureEvent(t,n,r){const i=jr();if(n&&n.originalException&&vR(n.originalException))return Et&&Fe.log(BR),i;const s={event_id:i,...n},c=(t.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(t,s,c||r)),s.event_id}captureSession(t){typeof t.release!="string"?Et&&Fe.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),Ld(t,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const n=this._transport;return n?(this.emit("flush"),this._isClientDoneProcessing(t).then(r=>n.flush(t).then(i=>r&&i))):Fc(!0)}close(t){return this.flush(t).then(n=>(this.getOptions().enabled=!1,this.emit("close"),n))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){(this._isEnabled()||this._options.integrations.some(({name:t})=>t.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){const n=this._integrations[t.name];t4(this,t,this._integrations),n||DR(this,[t])}sendEvent(t,n={}){this.emit("beforeSendEvent",t,n);let r=CU(t,this._dsn,this._options._metadata,this._options.tunnel);for(const s of n.attachments||[])r=yU(r,SU(s));const i=this.sendEnvelope(r);i&&i.then(s=>this.emit("afterSendEvent",t,s),null)}sendSession(t){const n=TU(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(n)}recordDroppedEvent(t,n,r){if(this._options.sendClientReports){const i=typeof r=="number"?r:1,s=`${t}:${n}`;Et&&Fe.log(`Recording outcome: "${s}"${i>1?` (${i} times)`:""}`),this._outcomes[s]=(this._outcomes[s]||0)+i}}on(t,n){const r=this._hooks[t]=this._hooks[t]||[];return r.push(n),()=>{const i=r.indexOf(n);i>-1&&r.splice(i,1)}}emit(t,...n){const r=this._hooks[t];r&&r.forEach(i=>i(...n))}sendEnvelope(t){return this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport?this._transport.send(t).then(null,n=>(Et&&Fe.error("Error while sending envelope:",n),n)):(Et&&Fe.error("Transport disabled"),Fc({}))}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=m9(this,t),DR(this,t)}_updateSessionFromEvent(t,n){let r=!1,i=!1;const s=n.exception&&n.exception.values;if(s){i=!0;for(const d of s){const u=d.mechanism;if(u&&u.handled===!1){r=!0;break}}}const l=t.status==="ok";(l&&t.errors===0||l&&r)&&(Ld(t,{...r&&{status:"crashed"},errors:t.errors||Number(i||r)}),this.captureSession(t))}_isClientDoneProcessing(t){return new Os(n=>{let r=0;const i=1,s=setInterval(()=>{this._numProcessing==0?(clearInterval(s),n(!0)):(r+=i,t&&r>=t&&(clearInterval(s),n(!1)))},i)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,n,r=Dn(),i=Bo()){const s=this.getOptions(),l=Object.keys(this._integrations);return!n.integrations&&l.length>0&&(n.integrations=l),this.emit("preprocessEvent",t,n),t.type||i.setLastEventId(t.event_id||n.event_id),KU(s,t,n,r,this,i).then(c=>{if(c===null)return c;c.contexts={trace:F7(r),...c.contexts};const d=$V(this,r);return c.sdkProcessingMetadata={dynamicSamplingContext:d,...c.sdkProcessingMetadata},c})}_captureEvent(t,n={},r){return this._processEvent(t,n,r).then(i=>i.event_id,i=>{if(Et){const s=i;s.logLevel==="log"?Fe.log(s.message):Fe.warn(s)}})}_processEvent(t,n,r){const i=this.getOptions(),{sampleRate:s}=i,l=r4(t),c=n4(t),d=t.type||"error",u=`before send for type \`${d}\``,p=typeof s>"u"?void 0:UV(s);if(c&&typeof p=="number"&&Math.random()>p)return this.recordDroppedEvent("sample_rate","error",t),lv(new ko(`Discarding event because it's not included in the random sample (sampling rate = ${s})`,"log"));const h=d==="replay_event"?"replay":d,y=(t.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(t,n,r,y).then(b=>{if(b===null)throw this.recordDroppedEvent("event_processor",h,t),new ko("An event processor returned `null`, will not send event.","log");if(n.data&&n.data.__sentry__===!0)return b;const w=b9(this,i,b,n);return A9(w,u)}).then(b=>{if(b===null){if(this.recordDroppedEvent("before_send",h,t),l){const k=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",k)}throw new ko(`${u} returned \`null\`, will not send event.`,"log")}const _=r&&r.getSession();if(!l&&_&&this._updateSessionFromEvent(_,b),l){const T=b.sdkProcessingMetadata&&b.sdkProcessingMetadata.spanCountBeforeProcessing||0,k=b.spans?b.spans.length:0,R=T-k;R>0&&this.recordDroppedEvent("before_send","span",R)}const w=b.transaction_info;if(l&&w&&b.transaction!==t.transaction){const T="custom";b.transaction_info={...w,source:T}}return this.sendEvent(b,n),b}).then(null,b=>{throw b instanceof ko?b:(this.captureException(b,{data:{__sentry__:!0},originalException:b}),new ko(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${b}`))})}_process(t){this._numProcessing++,t.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.entries(t).map(([n,r])=>{const[i,s]=n.split(":");return{reason:i,category:s,quantity:r}})}_flushOutcomes(){Et&&Fe.log("Flushing outcomes...");const t=this._clearOutcomes();if(t.length===0){Et&&Fe.log("No outcomes to send");return}if(!this._dsn){Et&&Fe.log("No dsn provided, will not send outcomes");return}Et&&Fe.log("Sending outcomes:",t);const n=v9(t,this._options.tunnel&&sf(this._dsn));this.sendEnvelope(n)}}function A9(e,t){const n=`${t} must return \`null\` or a valid event.`;if(ry(e))return e.then(r=>{if(!Nd(r)&&r!==null)throw new ko(n);return r},r=>{throw new ko(`${t} rejected with ${r}`)});if(!Nd(e)&&e!==null)throw new ko(n);return e}function b9(e,t,n,r){const{beforeSend:i,beforeSendTransaction:s,beforeSendSpan:l}=t;if(n4(n)&&i)return i(n,r);if(r4(n)){if(n.spans&&l){const c=[];for(const d of n.spans){const u=l(d);u?c.push(u):(BV(),e.recordDroppedEvent("before_send","span"))}n.spans=c}if(s){if(n.spans){const c=n.spans.length;n.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:c}}return s(n,r)}}return n}function n4(e){return e.type===void 0}function r4(e){return e.type==="transaction"}function _9(e,t){t.debug===!0&&(Et?Fe.enable():Zc(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),Dn().update(t.initialScope);const r=new e(t);return S9(r),r.init(),r}function S9(e){Dn().setClient(e)}function x9(e){const t=[];function n(){return e===void 0||t.length<e}function r(l){return t.splice(t.indexOf(l),1)[0]||Promise.resolve(void 0)}function i(l){if(!n())return lv(new ko("Not adding Promise because buffer limit was reached."));const c=l();return t.indexOf(c)===-1&&t.push(c),c.then(()=>r(c)).then(null,()=>r(c).then(null,()=>{})),c}function s(l){return new Os((c,d)=>{let u=t.length;if(!u)return c(!0);const p=setTimeout(()=>{l&&l>0&&c(!1)},l);t.forEach(h=>{Fc(h).then(()=>{--u||(clearTimeout(p),c(!0))},d)})})}return{$:t,add:i,drain:s}}const w9=60*1e3;function E9(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return n*1e3;const r=Date.parse(`${e}`);return isNaN(r)?w9:r-t}function T9(e,t){return e[t]||e.all||0}function C9(e,t,n=Date.now()){return T9(e,t)>n}function k9(e,{statusCode:t,headers:n},r=Date.now()){const i={...e},s=n&&n["x-sentry-rate-limits"],l=n&&n["retry-after"];if(s)for(const c of s.trim().split(",")){const[d,u,,,p]=c.split(":",5),h=parseInt(d,10),v=(isNaN(h)?60:h)*1e3;if(!u)i.all=r+v;else for(const y of u.split(";"))y==="metric_bucket"?(!p||p.split(";").includes("custom"))&&(i[y]=r+v):i[y]=r+v}else l?i.all=r+E9(l,r):t===429&&(i.all=r+60*1e3);return i}const M9=64;function R9(e,t,n=x9(e.bufferSize||M9)){let r={};const i=l=>n.drain(l);function s(l){const c=[];if(VS(l,(h,v)=>{const y=ER(v);if(C9(r,y)){const b=NR(h,v);e.recordDroppedEvent("ratelimit_backoff",y,b)}else c.push(h)}),c.length===0)return Fc({});const d=of(l[0],c),u=h=>{VS(d,(v,y)=>{const b=NR(v,y);e.recordDroppedEvent(h,ER(y),b)})},p=()=>t({body:AU(d)}).then(h=>(h.statusCode!==void 0&&(h.statusCode<200||h.statusCode>=300)&&Et&&Fe.warn(`Sentry responded with status code ${h.statusCode} to sent event.`),r=k9(r,h),h),h=>{throw u("network_error"),h});return n.add(p).then(h=>h,h=>{if(h instanceof ko)return Et&&Fe.error("Skipped sending event because buffer is full."),u("queue_overflow"),Fc({});throw h})}return{send:s,flush:i}}function NR(e,t){if(!(t!=="event"&&t!=="transaction"))return Array.isArray(e)?e[1]:void 0}function i4(e,t,n=[t],r="npm"){const i=e._metadata||{};i.sdk||(i.sdk={name:`sentry.javascript.${t}`,packages:n.map(s=>({name:`${r}:@sentry/${s}`,version:Tc})),version:Tc}),e._metadata=i}function s4(e={}){const t=hn();if(!l9()||!t)return{};const n=eu(),r=tf(n);if(r.getTraceData)return r.getTraceData(e);const i=Dn(),s=e.span||gi(),l=s?eU(s):I9(i),c=s?rf(s):$V(t,i),d=Y7(c);return IV.test(l)?{"sentry-trace":l,baggage:d}:(Fe.warn("Invalid sentry-trace data. Cannot generate trace data"),{})}function I9(e){const{traceId:t,sampled:n,spanId:r}=e.getPropagationContext();return OV(t,r,n)}const O9=100;function $c(e,t){const n=hn(),r=Bo();if(!n)return;const{beforeBreadcrumb:i=null,maxBreadcrumbs:s=O9}=n.getOptions();if(s<=0)return;const c={timestamp:Dp(),...e},d=i?Zc(()=>i(c,t)):c;d!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",d,t),r.addBreadcrumb(d,s))}let LR;const j9="FunctionToString",FR=new WeakMap,P9=()=>({name:j9,setupOnce(){LR=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=Aw(this),n=FR.has(hn())&&t!==void 0?t:this;return LR.apply(n,e)}}catch{}},setup(e){FR.set(e,!0)}}),V9=P9,D9=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler"],B9="InboundFilters",N9=(e={})=>({name:B9,processEvent(t,n,r){const i=r.getOptions(),s=F9(e,i);return z9(t,s)?null:t}}),L9=N9;function F9(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:D9],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]],ignoreInternal:e.ignoreInternal!==void 0?e.ignoreInternal:!0}}function z9(e,t){return t.ignoreInternal&&Y9(e)?(Et&&Fe.warn(`Event dropped due to being internal Sentry Error.
Event: ${fl(e)}`),!0):$9(e,t.ignoreErrors)?(Et&&Fe.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${fl(e)}`),!0):W9(e)?(Et&&Fe.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${fl(e)}`),!0):U9(e,t.ignoreTransactions)?(Et&&Fe.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${fl(e)}`),!0):H9(e,t.denyUrls)?(Et&&Fe.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${fl(e)}.
Url: ${dv(e)}`),!0):q9(e,t.allowUrls)?!1:(Et&&Fe.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${fl(e)}.
Url: ${dv(e)}`),!0)}function $9(e,t){return e.type||!t||!t.length?!1:G9(e).some(n=>Cc(n,t))}function U9(e,t){if(e.type!=="transaction"||!t||!t.length)return!1;const n=e.transaction;return n?Cc(n,t):!1}function H9(e,t){if(!t||!t.length)return!1;const n=dv(e);return n?Cc(n,t):!1}function q9(e,t){if(!t||!t.length)return!0;const n=dv(e);return n?Cc(n,t):!0}function G9(e){const t=[];e.message&&t.push(e.message);let n;try{n=e.exception.values[e.exception.values.length-1]}catch{}return n&&n.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`)),t}function Y9(e){try{return e.exception.values[0].type==="SentryError"}catch{}return!1}function K9(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function dv(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch{}return t?K9(t):null}catch{return Et&&Fe.error(`Cannot extract url for event ${fl(e)}`),null}}function W9(e){return e.type||!e.exception||!e.exception.values||e.exception.values.length===0?!1:!e.message&&!e.exception.values.some(t=>t.stacktrace||t.type&&t.type!=="Error"||t.value)}function Q9(e,t,n=250,r,i,s,l){if(!s.exception||!s.exception.values||!l||!Ea(l.originalException,Error))return;const c=s.exception.values.length>0?s.exception.values[s.exception.values.length-1]:void 0;c&&(s.exception.values=X9(NS(e,t,i,l.originalException,r,s.exception.values,c,0),n))}function NS(e,t,n,r,i,s,l,c){if(s.length>=n+1)return s;let d=[...s];if(Ea(r[i],Error)){zR(l,c);const u=e(t,r[i]),p=d.length;$R(u,i,p,c),d=NS(e,t,n,r[i],i,[u,...d],u,p)}return Array.isArray(r.errors)&&r.errors.forEach((u,p)=>{if(Ea(u,Error)){zR(l,c);const h=e(t,u),v=d.length;$R(h,`errors[${p}]`,v,c),d=NS(e,t,n,u,i,[h,...d],h,v)}}),d}function zR(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function $R(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}function X9(e,t){return e.map(n=>(n.value&&(n.value=Ed(n.value,t)),n))}const o4=new Map,UR=new Set;function J9(e){if(Kt._sentryModuleMetadata)for(const t of Object.keys(Kt._sentryModuleMetadata)){const n=Kt._sentryModuleMetadata[t];if(UR.has(t))continue;UR.add(t);const r=e(t);for(const i of r.reverse())if(i.filename){o4.set(i.filename,n);break}}}function Z9(e,t){return J9(e),o4.get(t)}function eH(e,t){try{t.exception.values.forEach(n=>{if(n.stacktrace)for(const r of n.stacktrace.frames||[]){if(!r.filename||r.module_metadata)continue;const i=Z9(e,r.filename);i&&(r.module_metadata=i)}})}catch{}}function tH(e){try{e.exception.values.forEach(t=>{if(t.stacktrace)for(const n of t.stacktrace.frames||[])delete n.module_metadata})}catch{}}function Rc(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}function nH(e){const t="console";Ol(t,e),jl(t,rH)}function rH(){"console"in Kt&&ES.forEach(function(e){e in Kt.console&&ss(Kt.console,e,function(t){return av[e]=t,function(...n){zs("console",{args:n,level:e});const i=av[e];i&&i.apply(Kt.console,n)}})})}function iH(e){return e==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(e)?e:"log"}const sH="Dedupe",oH=()=>{let e;return{name:sH,processEvent(t){if(t.type)return t;try{if(lH(t,e))return Et&&Fe.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}},aH=oH;function lH(e,t){return t?!!(cH(e,t)||uH(e,t)):!1}function cH(e,t){const n=e.message,r=t.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!l4(e,t)||!a4(e,t))}function uH(e,t){const n=HR(t),r=HR(e);return!(!n||!r||n.type!==r.type||n.value!==r.value||!l4(e,t)||!a4(e,t))}function a4(e,t){let n=TS(e),r=TS(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let i=0;i<r.length;i++){const s=r[i],l=n[i];if(s.filename!==l.filename||s.lineno!==l.lineno||s.colno!==l.colno||s.function!==l.function)return!1}return!0}function l4(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function HR(e){return e.exception&&e.exception.values&&e.exception.values[0]}const dH=e=>({name:"ThirdPartyErrorsFilter",setup(t){t.on("beforeEnvelope",n=>{VS(n,(r,i)=>{if(i==="event"){const s=Array.isArray(r)?r[1]:void 0;s&&(tH(s),r[1]=s)}})}),t.on("applyFrameMetadata",n=>{if(n.type)return;const r=t.getOptions().stackParser;eH(r,n)})},processEvent(t){const n=fH(t);if(n){const r=e.behaviour==="drop-error-if-contains-third-party-frames"||e.behaviour==="apply-tag-if-contains-third-party-frames"?"some":"every";if(n[r](s=>!s.some(l=>e.filterKeys.includes(l)))){if(e.behaviour==="drop-error-if-contains-third-party-frames"||e.behaviour==="drop-error-if-exclusively-contains-third-party-frames")return null;t.tags={...t.tags,third_party_code:!0}}}return t}});function fH(e){const t=TS(e);if(t)return t.filter(n=>!!n.filename).map(n=>n.module_metadata?Object.keys(n.module_metadata).filter(r=>r.startsWith(qR)).map(r=>r.slice(qR.length)):[])}const qR="_sentryBundlerPluginAppKey:";function hH(e,t,n,r,i="auto.http.browser"){if(!e.fetchData)return;const s=xl()&&t(e.fetchData.url);if(e.endTimestamp&&s){const v=e.fetchData.__span;if(!v)return;const y=r[v];y&&(mH(y,e),delete r[v]);return}const{method:l,url:c}=e.fetchData,d=gH(c),u=d?Rc(d).host:void 0,p=!!gi(),h=s&&p?bl({name:`${l} ${c}`,attributes:{url:c,type:"fetch","http.method":l,"http.url":d,"server.address":u,[Ar]:i,[zc]:"http.client"}}):new nf;if(e.fetchData.__span=h.spanContext().spanId,r[h.spanContext().spanId]=h,n(e.fetchData.url)){const v=e.args[0],y=e.args[1]||{},b=pH(v,y,xl()&&p?h:void 0);b&&(e.args[1]=y,y.headers=b)}return h}function pH(e,t,n){const r=s4({span:n}),i=r["sentry-trace"],s=r.baggage;if(!i)return;const l=t.headers||(vH(e)?e.headers:void 0);if(l)if(yH(l)){const c=new Headers(l);if(c.set("sentry-trace",i),s){const d=c.get("baggage");if(d){const u=Rm(d);c.set("baggage",u?`${u},${s}`:s)}else c.set("baggage",s)}return c}else if(Array.isArray(l)){const c=[...l.filter(d=>!(Array.isArray(d)&&d[0]==="sentry-trace")).map(d=>{if(Array.isArray(d)&&d[0]==="baggage"&&typeof d[1]=="string"){const[u,p,...h]=d;return[u,Rm(p),...h]}else return d}),["sentry-trace",i]];return s&&c.push(["baggage",s]),c}else{const c="baggage"in l?l.baggage:void 0;let d=[];return Array.isArray(c)?d=c.map(u=>typeof u=="string"?Rm(u):u).filter(u=>u===""):c&&d.push(Rm(c)),s&&d.push(s),{...l,"sentry-trace":i,baggage:d.length>0?d.join(","):void 0}}else return{...r}}function gH(e){try{return new URL(e).href}catch{return}}function mH(e,t){if(t.response){MV(e,t.response.status);const n=t.response&&t.response.headers&&t.response.headers.get("content-length");if(n){const r=parseInt(n);r>0&&e.setAttribute("http.response_content_length",r)}}else t.error&&e.setStatus({code:Ur,message:"internal_error"});e.end()}function Rm(e){return e.split(",").filter(t=>!t.split("=")[0].startsWith(Sw)).join(",")}function vH(e){return typeof Request<"u"&&Ea(e,Request)}function yH(e){return typeof Headers<"u"&&Ea(e,Headers)}function c4(e){if(e!==void 0)return e>=400&&e<500?"warning":e>=500?"error":void 0}const LS=Kt;function u4(){if(!("fetch"in LS))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function FS(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function AH(){if(typeof EdgeRuntime=="string")return!0;if(!u4())return!1;if(FS(LS.fetch))return!0;let e=!1;const t=LS.document;if(t&&typeof t.createElement=="function")try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=FS(n.contentWindow.fetch)),t.head.removeChild(n)}catch(n){Il&&Fe.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e}function d4(e,t){const n="fetch";Ol(n,e),jl(n,()=>f4(void 0,t))}function bH(e){const t="fetch-body-resolved";Ol(t,e),jl(t,()=>f4(SH))}function f4(e,t=!1){t&&!AH()||ss(Kt,"fetch",function(n){return function(...r){const{method:i,url:s}=xH(r),l={args:r,fetchData:{method:i,url:s},startTimestamp:si()*1e3};e||zs("fetch",{...l});const c=new Error().stack;return n.apply(Kt,r).then(async d=>(e?e(d):zs("fetch",{...l,endTimestamp:si()*1e3,response:d}),d),d=>{throw zs("fetch",{...l,endTimestamp:si()*1e3,error:d}),ty(d)&&d.stack===void 0&&(d.stack=c,$s(d,"framesToPop",1)),d})}})}async function _H(e,t){if(e&&e.body){const n=e.body,r=n.getReader(),i=setTimeout(()=>{n.cancel().then(null,()=>{})},90*1e3);let s=!0;for(;s;){let l;try{l=setTimeout(()=>{n.cancel().then(null,()=>{})},5e3);const{done:c}=await r.read();clearTimeout(l),c&&(t(),s=!1)}catch{s=!1}finally{clearTimeout(l)}}clearTimeout(i),r.releaseLock(),n.cancel().then(null,()=>{})}}function SH(e){let t;try{t=e.clone()}catch{return}_H(t,()=>{zs("fetch-body-resolved",{endTimestamp:si()*1e3,response:e})})}function zS(e,t){return!!e&&typeof e=="object"&&!!e[t]}function GR(e){return typeof e=="string"?e:e?zS(e,"url")?e.url:e.toString?e.toString():"":""}function xH(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){const[n,r]=e;return{url:GR(n),method:zS(r,"method")?String(r.method).toUpperCase():"GET"}}const t=e[0];return{url:GR(t),method:zS(t,"method")?String(t.method).toUpperCase():"GET"}}function wH(){return"npm"}const Im=Kt;function EH(){const e=Im.chrome,t=e&&e.app&&e.app.runtime,n="history"in Im&&!!Im.history.pushState&&!!Im.history.replaceState;return!t&&n}const dt=Kt;let $S=0;function h4(){return $S>0}function TH(){$S++,setTimeout(()=>{$S--})}function zd(e,t={},n){if(typeof e!="function")return e;try{const i=e.__sentry_wrapped__;if(i)return typeof i=="function"?i:e;if(Aw(e))return e}catch{return e}const r=function(){const i=Array.prototype.slice.call(arguments);try{const s=i.map(l=>zd(l,t));return e.apply(this,s)}catch(s){throw TH(),sy(l=>{l.addEventProcessor(c=>(t.mechanism&&(kS(c,void 0),gp(c,t.mechanism)),c.extra={...c.extra,arguments:i},c)),fo(s)}),s}};try{for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}catch{}xV(r,e),$s(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return e.name}})}catch{}return r}const as=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function Ew(e,t){const n=Tw(e,t),r={type:IH(t),value:OH(t)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function CH(e,t,n,r){const i=hn(),s=i&&i.getOptions().normalizeDepth,l=BH(t),c={__serialized__:GV(t,s)};if(l)return{exception:{values:[Ew(e,l)]},extra:c};const d={exception:{values:[{type:ny(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:VH(t,{isUnhandledRejection:r})}]},extra:c};if(n){const u=Tw(e,n);u.length&&(d.exception.values[0].stacktrace={frames:u})}return d}function m1(e,t){return{exception:{values:[Ew(e,t)]}}}function Tw(e,t){const n=t.stacktrace||t.stack||"",r=MH(t),i=RH(t);try{return e(n,r,i)}catch{}return[]}const kH=/Minified React error #\d+;/i;function MH(e){return e&&kH.test(e.message)?1:0}function RH(e){return typeof e.framesToPop=="number"?e.framesToPop:0}function p4(e){return typeof WebAssembly<"u"&&typeof WebAssembly.Exception<"u"?e instanceof WebAssembly.Exception:!1}function IH(e){const t=e&&e.name;return!t&&p4(e)?e.message&&Array.isArray(e.message)&&e.message.length==2?e.message[0]:"WebAssembly.Exception":t}function OH(e){const t=e&&e.message;return t?t.error&&typeof t.error.message=="string"?t.error.message:p4(e)&&Array.isArray(e.message)&&e.message.length==2?e.message[1]:t:"No error message"}function jH(e,t,n,r){const i=n&&n.syntheticException||void 0,s=Cw(e,t,i,r);return gp(s),s.level="error",n&&n.event_id&&(s.event_id=n.event_id),Fc(s)}function PH(e,t,n="info",r,i){const s=r&&r.syntheticException||void 0,l=US(e,t,s,i);return l.level=n,r&&r.event_id&&(l.event_id=r.event_id),Fc(l)}function Cw(e,t,n,r,i){let s;if(bV(t)&&t.error)return m1(e,t.error);if(hR(t)||v7(t)){const l=t;if("stack"in t)s=m1(e,t);else{const c=l.name||(hR(l)?"DOMError":"DOMException"),d=l.message?`${c}: ${l.message}`:c;s=US(e,d,n,r),kS(s,d)}return"code"in l&&(s.tags={...s.tags,"DOMException.code":`${l.code}`}),s}return ty(t)?m1(e,t):Nd(t)||ny(t)?(s=CH(e,t,n,i),gp(s,{synthetic:!0}),s):(s=US(e,t,n,r),kS(s,`${t}`),gp(s,{synthetic:!0}),s)}function US(e,t,n,r){const i={};if(r&&n){const s=Tw(e,n);s.length&&(i.exception={values:[{value:t,stacktrace:{frames:s}}]})}if(vw(t)){const{__sentry_template_string__:s,__sentry_template_values__:l}=t;return i.logentry={message:s,params:l},i}return i.message=t,i}function VH(e,{isUnhandledRejection:t}){const n=T7(e),r=t?"promise rejection":"exception";return bV(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:ny(e)?`Event \`${DH(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}function DH(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}function BH(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const n=e[t];if(n instanceof Error)return n}}function NH(e,{metadata:t,tunnel:n,dsn:r}){const i={event_id:e.event_id,sent_at:new Date().toISOString(),...t&&t.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}},...!!n&&!!r&&{dsn:sf(r)}},s=LH(e);return of(i,[s])}function LH(e){return[{type:"user_report"},e]}class FH extends y9{constructor(t){const n={parentSpanIsAlwaysRootSpan:!0,...t},r=dt.SENTRY_SDK_SOURCE||wH();i4(n,"browser",["browser"],r),super(n),n.sendClientReports&&dt.document&&dt.document.addEventListener("visibilitychange",()=>{dt.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(t,n){return jH(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",r){return PH(this._options.stackParser,t,n,r,this._options.attachStacktrace)}captureUserFeedback(t){if(!this._isEnabled()){as&&Fe.warn("SDK not enabled, will not capture user feedback.");return}const n=NH(t,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(n)}_prepareEvent(t,n,r){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,r)}}const kw=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,zH=(e,t)=>e>t[1]?"poor":e>t[0]?"needs-improvement":"good",af=(e,t,n,r)=>{let i,s;return l=>{t.value>=0&&(l||r)&&(s=t.value-(i||0),(s||i===void 0)&&(i=t.value,t.delta=s,t.rating=zH(t.value,n),e(t)))}},gt=Kt,$H=()=>`v3-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,Bp=()=>gt.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0],Np=()=>{const e=Bp();return e&&e.activationStart||0},lf=(e,t)=>{const n=Bp();let r="navigate";return n&&(gt.document&&gt.document.prerendering||Np()>0?r="prerender":gt.document&&gt.document.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:typeof t>"u"?-1:t,rating:"good",delta:0,entries:[],id:$H(),navigationType:r}},nu=(e,t,n)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const r=new PerformanceObserver(i=>{Promise.resolve().then(()=>{t(i.getEntries())})});return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch{}},Lp=e=>{const t=n=>{(n.type==="pagehide"||gt.document&&gt.document.visibilityState==="hidden")&&e(n)};gt.document&&(addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0))},Mw=e=>{let t=!1;return n=>{t||(e(n),t=!0)}};let yp=-1;const UH=()=>{yp=gt.document.visibilityState==="hidden"&&!gt.document.prerendering?0:1/0},fv=e=>{gt.document.visibilityState==="hidden"&&yp>-1&&(yp=e.type==="visibilitychange"?e.timeStamp:0,removeEventListener("visibilitychange",fv,!0),removeEventListener("prerenderingchange",fv,!0))},HH=()=>{addEventListener("visibilitychange",fv,!0),addEventListener("prerenderingchange",fv,!0)},ly=()=>(gt.document&&yp<0&&(UH(),HH()),{get firstHiddenTime(){return yp}}),Fp=e=>{gt.document&&gt.document.prerendering?addEventListener("prerenderingchange",()=>e(),!0):e()},qH=[1800,3e3],GH=(e,t={})=>{Fp(()=>{const n=ly(),r=lf("FCP");let i;const l=nu("paint",c=>{c.forEach(d=>{d.name==="first-contentful-paint"&&(l.disconnect(),d.startTime<n.firstHiddenTime&&(r.value=Math.max(d.startTime-Np(),0),r.entries.push(d),i(!0)))})});l&&(i=af(e,r,qH,t.reportAllChanges))})},YH=[.1,.25],KH=(e,t={})=>{GH(Mw(()=>{const n=lf("CLS",0);let r,i=0,s=[];const l=d=>{d.forEach(u=>{if(!u.hadRecentInput){const p=s[0],h=s[s.length-1];i&&p&&h&&u.startTime-h.startTime<1e3&&u.startTime-p.startTime<5e3?(i+=u.value,s.push(u)):(i=u.value,s=[u])}}),i>n.value&&(n.value=i,n.entries=s,r())},c=nu("layout-shift",l);c&&(r=af(e,n,YH,t.reportAllChanges),Lp(()=>{l(c.takeRecords()),r(!0)}),setTimeout(r,0))}))},WH=[100,300],QH=(e,t={})=>{Fp(()=>{const n=ly(),r=lf("FID");let i;const s=d=>{d.startTime<n.firstHiddenTime&&(r.value=d.processingStart-d.startTime,r.entries.push(d),i(!0))},l=d=>{d.forEach(s)},c=nu("first-input",l);i=af(e,r,WH,t.reportAllChanges),c&&Lp(Mw(()=>{l(c.takeRecords()),c.disconnect()}))})};let g4=0,v1=1/0,Om=0;const XH=e=>{e.forEach(t=>{t.interactionId&&(v1=Math.min(v1,t.interactionId),Om=Math.max(Om,t.interactionId),g4=Om?(Om-v1)/7+1:0)})};let HS;const JH=()=>HS?g4:performance.interactionCount||0,ZH=()=>{"interactionCount"in performance||HS||(HS=nu("event",XH,{type:"event",buffered:!0,durationThreshold:0}))},eq=[200,500],tq=0,m4=()=>JH()-tq,YR=10,pa=[],y1={},KR=e=>{const t=pa[pa.length-1],n=y1[e.interactionId];if(n||pa.length<YR||t&&e.duration>t.latency){if(n)n.entries.push(e),n.latency=Math.max(n.latency,e.duration);else{const r={id:e.interactionId,latency:e.duration,entries:[e]};y1[r.id]=r,pa.push(r)}pa.sort((r,i)=>i.latency-r.latency),pa.splice(YR).forEach(r=>{delete y1[r.id]})}},nq=()=>{const e=Math.min(pa.length-1,Math.floor(m4()/50));return pa[e]},rq=(e,t={})=>{Fp(()=>{ZH();const n=lf("INP");let r;const i=l=>{l.forEach(d=>{d.interactionId&&KR(d),d.entryType==="first-input"&&!pa.some(p=>p.entries.some(h=>d.duration===h.duration&&d.startTime===h.startTime))&&KR(d)});const c=nq();c&&c.latency!==n.value&&(n.value=c.latency,n.entries=c.entries,r())},s=nu("event",i,{durationThreshold:t.durationThreshold!=null?t.durationThreshold:40});r=af(e,n,eq,t.reportAllChanges),s&&("PerformanceEventTiming"in gt&&"interactionId"in PerformanceEventTiming.prototype&&s.observe({type:"first-input",buffered:!0}),Lp(()=>{i(s.takeRecords()),n.value<0&&m4()>0&&(n.value=0,n.entries=[]),r(!0)}))})},iq=[2500,4e3],WR={},sq=(e,t={})=>{Fp(()=>{const n=ly(),r=lf("LCP");let i;const s=c=>{const d=c[c.length-1];d&&d.startTime<n.firstHiddenTime&&(r.value=Math.max(d.startTime-Np(),0),r.entries=[d],i())},l=nu("largest-contentful-paint",s);if(l){i=af(e,r,iq,t.reportAllChanges);const c=Mw(()=>{WR[r.id]||(s(l.takeRecords()),l.disconnect(),WR[r.id]=!0,i(!0))});["keydown","click"].forEach(d=>{gt.document&&addEventListener(d,()=>setTimeout(c,0),!0)}),Lp(c)}})},oq=[800,1800],qS=e=>{gt.document&&gt.document.prerendering?Fp(()=>qS(e)):gt.document&&gt.document.readyState!=="complete"?addEventListener("load",()=>qS(e),!0):setTimeout(e,0)},aq=(e,t={})=>{const n=lf("TTFB"),r=af(e,n,oq,t.reportAllChanges);qS(()=>{const i=Bp();if(i){const s=i.responseStart;if(s<=0||s>performance.now())return;n.value=Math.max(s-Np(),0),n.entries=[i],r(!0)}})},ep={},hv={};let v4,y4,A4,b4,_4;function S4(e,t=!1){return zp("cls",e,fq,v4,t)}function lq(e,t=!1){return zp("lcp",e,pq,A4,t)}function cq(e){return zp("fid",e,hq,y4)}function uq(e){return zp("ttfb",e,gq,b4)}function dq(e){return zp("inp",e,mq,_4)}function Ap(e,t){return x4(e,t),hv[e]||(vq(e),hv[e]=!0),w4(e,t)}function cf(e,t){const n=ep[e];if(!(!n||!n.length))for(const r of n)try{r(t)}catch(i){kw&&Fe.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${wa(r)}
Error:`,i)}}function fq(){return KH(e=>{cf("cls",{metric:e}),v4=e},{reportAllChanges:!0})}function hq(){return QH(e=>{cf("fid",{metric:e}),y4=e})}function pq(){return sq(e=>{cf("lcp",{metric:e}),A4=e},{reportAllChanges:!0})}function gq(){return aq(e=>{cf("ttfb",{metric:e}),b4=e})}function mq(){return rq(e=>{cf("inp",{metric:e}),_4=e})}function zp(e,t,n,r,i=!1){x4(e,t);let s;return hv[e]||(s=n(),hv[e]=!0),r&&t({metric:r}),w4(e,t,i?s:void 0)}function vq(e){const t={};e==="event"&&(t.durationThreshold=0),nu(e,n=>{cf(e,{entries:n})},t)}function x4(e,t){ep[e]=ep[e]||[],ep[e].push(t)}function w4(e,t,n){return()=>{n&&n();const r=ep[e];if(!r)return;const i=r.indexOf(t);i!==-1&&r.splice(i,1)}}function yq(e){return"duration"in e}function A1(e){return typeof e=="number"&&isFinite(e)}function Ta(e,t,n,{...r}){const i=cn(e).start_timestamp;return i&&i>t&&typeof e.updateStartTime=="function"&&e.updateStartTime(t),uv(e,()=>{const s=bl({startTime:t,...r});return s&&s.end(n),s})}function E4(e){const t=hn();if(!t)return;const{name:n,transaction:r,attributes:i,startTime:s}=e,{release:l,environment:c}=t.getOptions(),d=t.getIntegrationByName("Replay"),u=d&&d.getReplayId(),p=Dn(),h=p.getUser(),v=h!==void 0?h.email||h.id||h.ip_address:void 0;let y;try{y=p.getScopeData().contexts.profile.profile_id}catch{}const b={release:l,environment:c,user:v||void 0,profile_id:y||void 0,replay_id:u||void 0,transaction:r,"user_agent.original":gt.navigator&&gt.navigator.userAgent,...i};return bl({name:n,attributes:b,startTime:s,experimental:{standalone:!0}})}function Rw(){return gt&&gt.addEventListener&&gt.performance}function yr(e){return e/1e3}function Aq(){let e=0,t,n;if(!_q())return;let r=!1;function i(){r||(r=!0,n&&bq(e,t,n),s())}const s=S4(({metric:l})=>{const c=l.entries[l.entries.length-1];c&&(e=l.value,t=c)},!0);Lp(()=>{i()}),setTimeout(()=>{const l=hn();if(!l)return;const c=l.on("startNavigationSpan",()=>{i(),c&&c()}),d=gi(),u=d&&hi(d),p=u&&cn(u);p&&p.op==="pageload"&&(n=u.spanContext().spanId)},0)}function bq(e,t,n){kw&&Fe.log(`Sending CLS span (${e})`);const r=yr((qi||0)+(t&&t.startTime||0)),i=Dn().getScopeData().transactionName,s=t?Lc(t.sources[0]&&t.sources[0].node):"Layout shift",l=ii({[Ar]:"auto.http.browser.cls",[zc]:"ui.webvital.cls",[_w]:t&&t.duration||0,"sentry.pageload.span_id":n}),c=E4({name:s,transaction:i,attributes:l,startTime:r});c&&(c.addEvent("cls",{[oy]:"",[ay]:e}),c.end(r))}function _q(){try{return PerformanceObserver.supportedEntryTypes.includes("layout-shift")}catch{return!1}}const Sq=2147483647;let QR=0,Zr={},Ni,tp;function xq({recordClsStandaloneSpans:e}){const t=Rw();if(t&&qi){t.mark&&gt.performance.mark("sentry-tracing-init");const n=Mq(),r=kq(),i=Rq(),s=e?Aq():Cq();return()=>{n(),r(),i(),s&&s()}}return()=>{}}function wq(){Ap("longtask",({entries:e})=>{const t=gi();if(!t)return;const{op:n,start_timestamp:r}=cn(t);for(const i of e){const s=yr(qi+i.startTime),l=yr(i.duration);n==="navigation"&&r&&s<r||Ta(t,s,s+l,{name:"Main UI thread blocked",op:"ui.long-task",attributes:{[Ar]:"auto.ui.browser.metrics"}})}})}function Eq(){new PerformanceObserver(t=>{const n=gi();if(n)for(const r of t.getEntries()){if(!r.scripts[0])continue;const i=yr(qi+r.startTime),{start_timestamp:s,op:l}=cn(n);if(l==="navigation"&&s&&i<s)continue;const c=yr(r.duration),d={[Ar]:"auto.ui.browser.metrics"},u=r.scripts[0],{invoker:p,invokerType:h,sourceURL:v,sourceFunctionName:y,sourceCharPosition:b}=u;d["browser.script.invoker"]=p,d["browser.script.invoker_type"]=h,v&&(d["code.filepath"]=v),y&&(d["code.function"]=y),b!==-1&&(d["browser.script.source_char_position"]=b),Ta(n,i,i+c,{name:"Main UI thread blocked",op:"ui.long-animation-frame",attributes:d})}}).observe({type:"long-animation-frame",buffered:!0})}function Tq(){Ap("event",({entries:e})=>{const t=gi();if(t){for(const n of e)if(n.name==="click"){const r=yr(qi+n.startTime),i=yr(n.duration),s={name:Lc(n.target),op:`ui.interaction.${n.name}`,startTime:r,attributes:{[Ar]:"auto.ui.browser.metrics"}},l=SV(n.target);l&&(s.attributes["ui.component_name"]=l),Ta(t,r,r+i,s)}}})}function Cq(){return S4(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(Zr.cls={value:e.value,unit:""},tp=t)},!0)}function kq(){return lq(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(Zr.lcp={value:e.value,unit:"millisecond"},Ni=t)},!0)}function Mq(){return cq(({metric:e})=>{const t=e.entries[e.entries.length-1];if(!t)return;const n=yr(qi),r=yr(t.startTime);Zr.fid={value:e.value,unit:"millisecond"},Zr["mark.fid"]={value:n+r,unit:"second"}})}function Rq(){return uq(({metric:e})=>{e.entries[e.entries.length-1]&&(Zr.ttfb={value:e.value,unit:"millisecond"})})}function Iq(e,t){const n=Rw();if(!n||!gt.performance.getEntries||!qi)return;const r=yr(qi),i=n.getEntries(),{op:s,start_timestamp:l}=cn(e);if(i.slice(QR).forEach(c=>{const d=yr(c.startTime),u=yr(Math.max(0,c.duration));if(!(s==="navigation"&&l&&r+d<l))switch(c.entryType){case"navigation":{jq(e,c,r);break}case"mark":case"paint":case"measure":{Oq(e,c,d,u,r);const p=ly(),h=c.startTime<p.firstHiddenTime;c.name==="first-paint"&&h&&(Zr.fp={value:c.startTime,unit:"millisecond"}),c.name==="first-contentful-paint"&&h&&(Zr.fcp={value:c.startTime,unit:"millisecond"});break}case"resource":{Vq(e,c,c.name,d,u,r);break}}}),QR=Math.max(i.length-1,0),Dq(e),s==="pageload"){Nq(Zr);const c=Zr["mark.fid"];c&&Zr.fid&&(Ta(e,c.value,c.value+yr(Zr.fid.value),{name:"first input delay",op:"ui.action",attributes:{[Ar]:"auto.ui.browser.metrics"}}),delete Zr["mark.fid"]),(!("fcp"in Zr)||!t.recordClsOnPageloadSpan)&&delete Zr.cls,Object.entries(Zr).forEach(([d,u])=>{MU(d,u.value,u.unit)}),e.setAttribute("performance.timeOrigin",r),e.setAttribute("performance.activationStart",Np()),Bq(e)}Ni=void 0,tp=void 0,Zr={}}function Oq(e,t,n,r,i){const s=Bp(),l=yr(s?s.requestStart:0),c=i+Math.max(n,l),d=i+n,u=d+r,p={[Ar]:"auto.resource.browser.metrics"};return c!==d&&(p["sentry.browser.measure_happened_before_request"]=!0,p["sentry.browser.measure_start_time"]=c),Ta(e,c,u,{name:t.name,op:t.entryType,attributes:p}),c}function jq(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(r=>{jm(e,t,r,n)}),jm(e,t,"secureConnection",n,"TLS/SSL","connectEnd"),jm(e,t,"fetch",n,"cache","domainLookupStart"),jm(e,t,"domainLookup",n,"DNS"),Pq(e,t,n)}function jm(e,t,n,r,i,s){const l=s?t[s]:t[`${n}End`],c=t[`${n}Start`];!c||!l||Ta(e,r+yr(c),r+yr(l),{op:`browser.${i||n}`,name:t.name,attributes:{[Ar]:"auto.ui.browser.metrics"}})}function Pq(e,t,n){const r=n+yr(t.requestStart),i=n+yr(t.responseEnd),s=n+yr(t.responseStart);t.responseEnd&&(Ta(e,r,i,{op:"browser.request",name:t.name,attributes:{[Ar]:"auto.ui.browser.metrics"}}),Ta(e,s,i,{op:"browser.response",name:t.name,attributes:{[Ar]:"auto.ui.browser.metrics"}}))}function Vq(e,t,n,r,i,s){if(t.initiatorType==="xmlhttprequest"||t.initiatorType==="fetch")return;const l=Rc(n),c={[Ar]:"auto.resource.browser.metrics"};b1(c,t,"transferSize","http.response_transfer_size"),b1(c,t,"encodedBodySize","http.response_content_length"),b1(c,t,"decodedBodySize","http.decoded_response_content_length"),t.deliveryType!=null&&(c["http.response_delivery_type"]=t.deliveryType),"renderBlockingStatus"in t&&(c["resource.render_blocking_status"]=t.renderBlockingStatus),l.protocol&&(c["url.scheme"]=l.protocol.split(":").pop()),l.host&&(c["server.address"]=l.host),c["url.same_origin"]=n.includes(gt.location.origin);const d=s+r,u=d+i;Ta(e,d,u,{name:n.replace(gt.location.origin,""),op:t.initiatorType?`resource.${t.initiatorType}`:"resource.other",attributes:c})}function Dq(e){const t=gt.navigator;if(!t)return;const n=t.connection;n&&(n.effectiveType&&e.setAttribute("effectiveConnectionType",n.effectiveType),n.type&&e.setAttribute("connectionType",n.type),A1(n.rtt)&&(Zr["connection.rtt"]={value:n.rtt,unit:"millisecond"})),A1(t.deviceMemory)&&e.setAttribute("deviceMemory",`${t.deviceMemory} GB`),A1(t.hardwareConcurrency)&&e.setAttribute("hardwareConcurrency",String(t.hardwareConcurrency))}function Bq(e){Ni&&(Ni.element&&e.setAttribute("lcp.element",Lc(Ni.element)),Ni.id&&e.setAttribute("lcp.id",Ni.id),Ni.url&&e.setAttribute("lcp.url",Ni.url.trim().slice(0,200)),Ni.loadTime!=null&&e.setAttribute("lcp.loadTime",Ni.loadTime),Ni.renderTime!=null&&e.setAttribute("lcp.renderTime",Ni.renderTime),e.setAttribute("lcp.size",Ni.size)),tp&&tp.sources&&tp.sources.forEach((t,n)=>e.setAttribute(`cls.source.${n+1}`,Lc(t.node)))}function b1(e,t,n,r){const i=t[n];i!=null&&i<Sq&&(e[r]=i)}function Nq(e){const t=Bp();if(!t)return;const{responseStart:n,requestStart:r}=t;r<=n&&(e["ttfb.requestTime"]={value:n-r,unit:"millisecond"})}const Lq=1e3;let XR,GS,YS;function Fq(e){const t="dom";Ol(t,e),jl(t,zq)}function zq(){if(!gt.document)return;const e=zs.bind(null,"dom"),t=JR(e,!0);gt.document.addEventListener("click",t,!1),gt.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{const r=gt[n]&&gt[n].prototype;!r||!r.hasOwnProperty||!r.hasOwnProperty("addEventListener")||(ss(r,"addEventListener",function(i){return function(s,l,c){if(s==="click"||s=="keypress")try{const d=this,u=d.__sentry_instrumentation_handlers__=d.__sentry_instrumentation_handlers__||{},p=u[s]=u[s]||{refCount:0};if(!p.handler){const h=JR(e);p.handler=h,i.call(this,s,h,c)}p.refCount++}catch{}return i.call(this,s,l,c)}}),ss(r,"removeEventListener",function(i){return function(s,l,c){if(s==="click"||s=="keypress")try{const d=this,u=d.__sentry_instrumentation_handlers__||{},p=u[s];p&&(p.refCount--,p.refCount<=0&&(i.call(this,s,p.handler,c),p.handler=void 0,delete u[s]),Object.keys(u).length===0&&delete d.__sentry_instrumentation_handlers__)}catch{}return i.call(this,s,l,c)}}))})}function $q(e){if(e.type!==GS)return!1;try{if(!e.target||e.target._sentryId!==YS)return!1}catch{}return!0}function Uq(e,t){return e!=="keypress"?!1:!t||!t.tagName?!0:!(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable)}function JR(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=Hq(n);if(Uq(n.type,r))return;$s(n,"_sentryCaptured",!0),r&&!r._sentryId&&$s(r,"_sentryId",jr());const i=n.type==="keypress"?"input":n.type;$q(n)||(e({event:n,name:i,global:t}),GS=n.type,YS=r?r._sentryId:void 0),clearTimeout(XR),XR=gt.setTimeout(()=>{YS=void 0,GS=void 0},Lq)}}function Hq(e){try{return e.target}catch{return null}}let Pm;function Iw(e){const t="history";Ol(t,e),jl(t,qq)}function qq(){if(!EH())return;const e=gt.onpopstate;gt.onpopstate=function(...n){const r=gt.location.href,i=Pm;if(Pm=r,zs("history",{from:i,to:r}),e)try{return e.apply(this,n)}catch{}};function t(n){return function(...r){const i=r.length>2?r[2]:void 0;if(i){const s=Pm,l=String(i);Pm=l,zs("history",{from:s,to:l})}return n.apply(this,r)}}ss(gt.history,"pushState",t),ss(gt.history,"replaceState",t)}const S0={};function Gq(e){const t=S0[e];if(t)return t;let n=gt[e];if(FS(n))return S0[e]=n.bind(gt);const r=gt.document;if(r&&typeof r.createElement=="function")try{const i=r.createElement("iframe");i.hidden=!0,r.head.appendChild(i);const s=i.contentWindow;s&&s[e]&&(n=s[e]),r.head.removeChild(i)}catch(i){kw&&Fe.warn(`Could not create sandbox iframe for ${e} check, bailing to window.${e}: `,i)}return n&&(S0[e]=n.bind(gt))}function ZR(e){S0[e]=void 0}const fd="__sentry_xhr_v3__";function T4(e){const t="xhr";Ol(t,e),jl(t,Yq)}function Yq(){if(!gt.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(t,n,r){const i=si()*1e3,s=_a(r[0])?r[0].toUpperCase():void 0,l=Kq(r[1]);if(!s||!l)return t.apply(n,r);n[fd]={method:s,url:l,request_headers:{}},s==="POST"&&l.match(/sentry_key/)&&(n.__sentry_own_request__=!0);const c=()=>{const d=n[fd];if(d&&n.readyState===4){try{d.status_code=n.status}catch{}const u={endTimestamp:si()*1e3,startTimestamp:i,xhr:n};zs("xhr",u)}};return"onreadystatechange"in n&&typeof n.onreadystatechange=="function"?n.onreadystatechange=new Proxy(n.onreadystatechange,{apply(d,u,p){return c(),d.apply(u,p)}}):n.addEventListener("readystatechange",c),n.setRequestHeader=new Proxy(n.setRequestHeader,{apply(d,u,p){const[h,v]=p,y=u[fd];return y&&_a(h)&&_a(v)&&(y.request_headers[h.toLowerCase()]=v),d.apply(u,p)}}),t.apply(n,r)}}),e.send=new Proxy(e.send,{apply(t,n,r){const i=n[fd];if(!i)return t.apply(n,r);r[0]!==void 0&&(i.body=r[0]);const s={startTimestamp:si()*1e3,xhr:n};return zs("xhr",s),t.apply(n,r)}})}function Kq(e){if(_a(e))return e;try{return e.toString()}catch{}}const _1=[],x0=new Map;function Wq(){if(Rw()&&qi){const t=Qq();return()=>{t()}}return()=>{}}const e5={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function Qq(){return dq(({metric:e})=>{if(e.value==null)return;const t=e.entries.find(b=>b.duration===e.value&&e5[b.name]);if(!t)return;const{interactionId:n}=t,r=e5[t.name],i=yr(qi+t.startTime),s=yr(e.value),l=gi(),c=l?hi(l):void 0,u=(n!=null?x0.get(n):void 0)||c,p=u?cn(u).description:Dn().getScopeData().transactionName,h=Lc(t.target),v=ii({[Ar]:"auto.http.browser.inp",[zc]:`ui.interaction.${r}`,[_w]:t.duration}),y=E4({name:h,transaction:p,attributes:v,startTime:i});y&&(y.addEvent("inp",{[oy]:"millisecond",[ay]:e.value}),y.end(i+s))})}function Xq(e){const t=({entries:n})=>{const r=gi(),i=r&&hi(r);n.forEach(s=>{if(!yq(s)||!i)return;const l=s.interactionId;if(l!=null&&!x0.has(l)){if(_1.length>10){const c=_1.shift();x0.delete(c)}_1.push(l),x0.set(l,i)}})};Ap("event",t),Ap("first-input",t)}function Jq(e,t=Gq("fetch")){let n=0,r=0;function i(s){const l=s.body.length;n+=l,r++;const c={body:s.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};if(!t)return ZR("fetch"),lv("No fetch implementation available");try{return t(e.url,c).then(d=>(n-=l,r--,{statusCode:d.status,headers:{"x-sentry-rate-limits":d.headers.get("X-Sentry-Rate-Limits"),"retry-after":d.headers.get("Retry-After")}}))}catch(d){return ZR("fetch"),n-=l,r--,lv(d)}}return R9(e,i)}const Zq=30,eG=50;function KS(e,t,n,r){const i={filename:e,function:t==="<anonymous>"?Nc:t,in_app:!0};return n!==void 0&&(i.lineno=n),r!==void 0&&(i.colno=r),i}const tG=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,nG=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,rG=/\((\S*)(?::(\d+))(?::(\d+))\)/,iG=e=>{const t=tG.exec(e);if(t){const[,r,i,s]=t;return KS(r,Nc,+i,+s)}const n=nG.exec(e);if(n){if(n[2]&&n[2].indexOf("eval")===0){const l=rG.exec(n[2]);l&&(n[2]=l[1],n[3]=l[2],n[4]=l[3])}const[i,s]=C4(n[1]||Nc,n[2]);return KS(s,i,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}},sG=[Zq,iG],oG=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,aG=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,lG=e=>{const t=oG.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const s=aG.exec(t[3]);s&&(t[1]=t[1]||"eval",t[3]=s[1],t[4]=s[2],t[5]="")}let r=t[3],i=t[1]||Nc;return[i,r]=C4(i,r),KS(r,i,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},cG=[eG,lG],uG=[sG,cG],dG=mV(...uG),C4=(e,t)=>{const n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:Nc,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},Vm=1024,fG="Breadcrumbs",hG=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:fG,setup(n){t.console&&nH(vG(n)),t.dom&&Fq(mG(n,t.dom)),t.xhr&&T4(yG(n)),t.fetch&&d4(AG(n)),t.history&&Iw(bG(n)),t.sentry&&n.on("beforeSendEvent",gG(n))}}},pG=hG;function gG(e){return function(n){hn()===e&&$c({category:`sentry.${n.type==="transaction"?"transaction":"event"}`,event_id:n.event_id,level:n.level,message:fl(n)},{event:n})}}function mG(e,t){return function(r){if(hn()!==e)return;let i,s,l=typeof t=="object"?t.serializeAttribute:void 0,c=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;c&&c>Vm&&(as&&Fe.warn(`\`dom.maxStringLength\` cannot exceed ${Vm}, but a value of ${c} was configured. Sentry will use ${Vm} instead.`),c=Vm),typeof l=="string"&&(l=[l]);try{const u=r.event,p=_G(u)?u.target:u;i=Lc(p,{keyAttrs:l,maxStringLength:c}),s=SV(p)}catch{i="<unknown>"}if(i.length===0)return;const d={category:`ui.${r.name}`,message:i};s&&(d.data={"ui.component_name":s}),$c(d,{event:r.event,name:r.name,global:r.global})}}function vG(e){return function(n){if(hn()!==e)return;const r={category:"console",data:{arguments:n.args,logger:"console"},level:iH(n.level),message:pR(n.args," ")};if(n.level==="assert")if(n.args[0]===!1)r.message=`Assertion failed: ${pR(n.args.slice(1)," ")||"console.assert"}`,r.data.arguments=n.args.slice(1);else return;$c(r,{input:n.args,level:n.level})}}function yG(e){return function(n){if(hn()!==e)return;const{startTimestamp:r,endTimestamp:i}=n,s=n.xhr[fd];if(!r||!i||!s)return;const{method:l,url:c,status_code:d,body:u}=s,p={method:l,url:c,status_code:d},h={xhr:n.xhr,input:u,startTimestamp:r,endTimestamp:i},v=c4(d);$c({category:"xhr",data:p,type:"http",level:v},h)}}function AG(e){return function(n){if(hn()!==e)return;const{startTimestamp:r,endTimestamp:i}=n;if(i&&!(n.fetchData.url.match(/sentry_key/)&&n.fetchData.method==="POST"))if(n.error){const s=n.fetchData,l={data:n.error,input:n.args,startTimestamp:r,endTimestamp:i};$c({category:"fetch",data:s,level:"error",type:"http"},l)}else{const s=n.response,l={...n.fetchData,status_code:s&&s.status},c={input:n.args,response:s,startTimestamp:r,endTimestamp:i},d=c4(l.status_code);$c({category:"fetch",data:l,type:"http",level:d},c)}}}function bG(e){return function(n){if(hn()!==e)return;let r=n.from,i=n.to;const s=Rc(dt.location.href);let l=r?Rc(r):void 0;const c=Rc(i);(!l||!l.path)&&(l=s),s.protocol===c.protocol&&s.host===c.host&&(i=c.relative),s.protocol===l.protocol&&s.host===l.host&&(r=l.relative),$c({category:"navigation",data:{from:r,to:i}})}}function _G(e){return!!e&&!!e.target}const SG=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],xG="BrowserApiErrors",wG=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:xG,setupOnce(){t.setTimeout&&ss(dt,"setTimeout",t5),t.setInterval&&ss(dt,"setInterval",t5),t.requestAnimationFrame&&ss(dt,"requestAnimationFrame",TG),t.XMLHttpRequest&&"XMLHttpRequest"in dt&&ss(XMLHttpRequest.prototype,"send",CG);const n=t.eventTarget;n&&(Array.isArray(n)?n:SG).forEach(kG)}}},EG=wG;function t5(e){return function(...t){const n=t[0];return t[0]=zd(n,{mechanism:{data:{function:wa(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function TG(e){return function(t){return e.apply(this,[zd(t,{mechanism:{data:{function:"requestAnimationFrame",handler:wa(e)},handled:!1,type:"instrument"}})])}}function CG(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(i=>{i in n&&typeof n[i]=="function"&&ss(n,i,function(s){const l={mechanism:{data:{function:i,handler:wa(s)},handled:!1,type:"instrument"}},c=Aw(s);return c&&(l.mechanism.data.handler=wa(c)),zd(s,l)})}),e.apply(this,t)}}function kG(e){const t=dt,n=t[e]&&t[e].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(ss(n,"addEventListener",function(r){return function(i,s,l){try{typeof s.handleEvent=="function"&&(s.handleEvent=zd(s.handleEvent,{mechanism:{data:{function:"handleEvent",handler:wa(s),target:e},handled:!1,type:"instrument"}}))}catch{}return r.apply(this,[i,zd(s,{mechanism:{data:{function:"addEventListener",handler:wa(s),target:e},handled:!1,type:"instrument"}}),l])}}),ss(n,"removeEventListener",function(r){return function(i,s,l){const c=s;try{const d=c&&c.__sentry_wrapped__;d&&r.call(this,i,d,l)}catch{}return r.call(this,i,c,l)}}))}const MG="GlobalHandlers",RG=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:MG,setupOnce(){Error.stackTraceLimit=50},setup(n){t.onerror&&(OG(n),n5("onerror")),t.onunhandledrejection&&(jG(n),n5("onunhandledrejection"))}}},IG=RG;function OG(e){vV(t=>{const{stackParser:n,attachStacktrace:r}=k4();if(hn()!==e||h4())return;const{msg:i,url:s,line:l,column:c,error:d}=t,u=DG(Cw(n,d||i,void 0,r,!1),s,l,c);u.level="error",XV(u,{originalException:d,mechanism:{handled:!1,type:"onerror"}})})}function jG(e){yV(t=>{const{stackParser:n,attachStacktrace:r}=k4();if(hn()!==e||h4())return;const i=PG(t),s=yw(i)?VG(i):Cw(n,i,void 0,r,!0);s.level="error",XV(s,{originalException:i,mechanism:{handled:!1,type:"onunhandledrejection"}})})}function PG(e){if(yw(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch{}return e}function VG(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function DG(e,t,n,r){const i=e.exception=e.exception||{},s=i.values=i.values||[],l=s[0]=s[0]||{},c=l.stacktrace=l.stacktrace||{},d=c.frames=c.frames||[],u=isNaN(parseInt(r,10))?void 0:r,p=isNaN(parseInt(n,10))?void 0:n,h=_a(t)&&t.length>0?t:x7();return d.length===0&&d.push({colno:u,filename:h,function:Nc,in_app:!0,lineno:p}),e}function n5(e){as&&Fe.log(`Global Handler attached: ${e}`)}function k4(){const e=hn();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const BG=()=>({name:"HttpContext",preprocessEvent(e){if(!dt.navigator&&!dt.location&&!dt.document)return;const t=e.request&&e.request.url||dt.location&&dt.location.href,{referrer:n}=dt.document||{},{userAgent:r}=dt.navigator||{},i={...e.request&&e.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},s={...e.request,...t&&{url:t},headers:i};e.request=s}}),NG="cause",LG=5,FG="LinkedErrors",zG=(e={})=>{const t=e.limit||LG,n=e.key||NG;return{name:FG,preprocessEvent(r,i,s){const l=s.getOptions();Q9(Ew,l.stackParser,l.maxValueLength,n,t,r,i)}}},$G=zG;function UG(e){return[L9(),V9(),EG(),pG(),IG(),$G(),aH(),BG()]}function HG(e={}){const t={defaultIntegrations:UG(),release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:dt.SENTRY_RELEASE&&dt.SENTRY_RELEASE.id?dt.SENTRY_RELEASE.id:void 0,autoSessionTracking:!0,sendClientReports:!0};return e.defaultIntegrations==null&&delete e.defaultIntegrations,{...t,...e}}function qG(){const e=typeof dt.window<"u"&&dt;if(!e)return!1;const t=e.chrome?"chrome":"browser",n=e[t],r=n&&n.runtime&&n.runtime.id,i=dt.location&&dt.location.href||"",s=["chrome-extension:","moz-extension:","ms-browser-extension:","safari-web-extension:"],l=!!r&&dt===dt.top&&s.some(d=>i.startsWith(`${d}//`)),c=typeof e.nw<"u";return!!r&&!l&&!c}function GG(e={}){const t=HG(e);if(!t.skipBrowserExtensionCheck&&qG()){Zc(()=>{console.error("[Sentry] You cannot run Sentry this way in a browser extension, check: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")});return}as&&(u4()||Fe.warn("No Fetch API detected. The Sentry SDK requires a Fetch API compatible environment to send events. Please add a Fetch API polyfill."));const n={...t,stackParser:h7(t.stackParser||dG),integrations:g9(t),transport:t.transport||Jq},r=_9(FH,n);return t.autoSessionTracking&&YG(),r}function r5(e={}){if(!dt.document){as&&Fe.error("Global document not defined in showReportDialog call");return}const t=Dn(),n=t.getClient(),r=n&&n.getDsn();if(!r){as&&Fe.error("DSN not configured for showReportDialog call");return}if(t&&(e.user={...t.getUser(),...e.user}),!e.eventId){const c=a9();c&&(e.eventId=c)}const i=dt.document.createElement("script");i.async=!0,i.crossOrigin="anonymous",i.src=h9(r,e),e.onLoad&&(i.onload=e.onLoad);const{onClose:s}=e;if(s){const c=d=>{if(d.data==="__sentry_reportdialog_closed__")try{s()}finally{dt.removeEventListener("message",c)}};dt.addEventListener("message",c)}const l=dt.document.head||dt.document.body;l?l.appendChild(i):as&&Fe.error("Not injecting report dialog. No injection point found in HTML")}function YG(){if(typeof dt.document>"u"){as&&Fe.warn("Session tracking in non-browser environment with @sentry/browser is not supported.");return}jR({ignoreDuration:!0}),PR(),Iw(({from:e,to:t})=>{e!==void 0&&e!==t&&(jR({ignoreDuration:!0}),PR())})}const i5=new WeakMap,S1=new Map,w0={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,trackFetchStreamPerformance:!1};function KG(e,t){const{traceFetch:n,traceXHR:r,trackFetchStreamPerformance:i,shouldCreateSpanForRequest:s,enableHTTPTimings:l,tracePropagationTargets:c}={traceFetch:w0.traceFetch,traceXHR:w0.traceXHR,trackFetchStreamPerformance:w0.trackFetchStreamPerformance,...t},d=typeof s=="function"?s:h=>!0,u=h=>JG(h,c),p={};n&&(e.addEventProcessor(h=>(h.type==="transaction"&&h.spans&&h.spans.forEach(v=>{if(v.op==="http.client"){const y=S1.get(v.span_id);y&&(v.timestamp=y/1e3,S1.delete(v.span_id))}}),h)),i&&bH(h=>{if(h.response){const v=i5.get(h.response);v&&h.endTimestamp&&S1.set(v,h.endTimestamp)}}),d4(h=>{const v=hH(h,d,u,p);if(h.response&&h.fetchData.__span&&i5.set(h.response,h.fetchData.__span),v){const y=M4(h.fetchData.url),b=y?Rc(y).host:void 0;v.setAttributes({"http.url":y,"server.address":b})}l&&v&&s5(v)})),r&&T4(h=>{const v=ZG(h,d,u,p);l&&v&&s5(v)})}function WG(e){return e.entryType==="resource"&&"initiatorType"in e&&typeof e.nextHopProtocol=="string"&&(e.initiatorType==="fetch"||e.initiatorType==="xmlhttprequest")}function s5(e){const{url:t}=cn(e).data||{};if(!t||typeof t!="string")return;const n=Ap("resource",({entries:r})=>{r.forEach(i=>{WG(i)&&i.name.endsWith(t)&&(XG(i).forEach(l=>e.setAttribute(...l)),setTimeout(n))})})}function QG(e){let t="unknown",n="unknown",r="";for(const i of e){if(i==="/"){[t,n]=e.split("/");break}if(!isNaN(Number(i))){t=r==="h"?"http":r,n=e.split(r)[1];break}r+=i}return r===e&&(t=r),{name:t,version:n}}function So(e=0){return((qi||performance.timeOrigin)+e)/1e3}function XG(e){const{name:t,version:n}=QG(e.nextHopProtocol),r=[];return r.push(["network.protocol.version",n],["network.protocol.name",t]),qi?[...r,["http.request.redirect_start",So(e.redirectStart)],["http.request.fetch_start",So(e.fetchStart)],["http.request.domain_lookup_start",So(e.domainLookupStart)],["http.request.domain_lookup_end",So(e.domainLookupEnd)],["http.request.connect_start",So(e.connectStart)],["http.request.secure_connection_start",So(e.secureConnectionStart)],["http.request.connection_end",So(e.connectEnd)],["http.request.request_start",So(e.requestStart)],["http.request.response_start",So(e.responseStart)],["http.request.response_end",So(e.responseEnd)]]:r}function JG(e,t){const n=dt.location&&dt.location.href;if(n){let r,i;try{r=new URL(e,n),i=new URL(n).origin}catch{return!1}const s=r.origin===i;return t?Cc(r.toString(),t)||s&&Cc(r.pathname,t):s}else{const r=!!e.match(/^\/(?!\/)/);return t?Cc(e,t):r}}function ZG(e,t,n,r){const i=e.xhr,s=i&&i[fd];if(!i||i.__sentry_own_request__||!s)return;const l=xl()&&t(s.url);if(e.endTimestamp&&l){const h=i.__sentry_xhr_span_id__;if(!h)return;const v=r[h];v&&s.status_code!==void 0&&(MV(v,s.status_code),v.end(),delete r[h]);return}const c=M4(s.url),d=c?Rc(c).host:void 0,u=!!gi(),p=l&&u?bl({name:`${s.method} ${s.url}`,attributes:{type:"xhr","http.method":s.method,"http.url":c,url:s.url,"server.address":d,[Ar]:"auto.http.browser",[zc]:"http.client"}}):new nf;return i.__sentry_xhr_span_id__=p.spanContext().spanId,r[i.__sentry_xhr_span_id__]=p,n(s.url)&&eY(i,xl()&&u?p:void 0),p}function eY(e,t){const{"sentry-trace":n,baggage:r}=s4({span:t});n&&tY(e,n,r)}function tY(e,t,n){try{e.setRequestHeader("sentry-trace",t),n&&e.setRequestHeader("baggage",n)}catch{}}function M4(e){try{return new URL(e,dt.location.origin).href}catch{return}}function nY(){dt&&dt.document?dt.document.addEventListener("visibilitychange",()=>{const e=gi();if(!e)return;const t=hi(e);if(dt.document.hidden&&t){const n="cancelled",{op:r,status:i}=cn(t);as&&Fe.log(`[Tracing] Transaction: ${n} -> since tab moved to the background, op: ${r}`),i||t.setStatus({code:Ur,message:n}),t.setAttribute("sentry.cancellation_reason","document.hidden"),t.end()}}):as&&Fe.warn("[Tracing] Could not set up background tab detection due to lack of global document")}const rY="BrowserTracing",iY={..._0,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!0,enableInp:!0,_experiments:{},...w0},sY=(e={})=>{iU();const{enableInp:t,enableLongTask:n,enableLongAnimationFrame:r,_experiments:{enableInteractions:i,enableStandaloneClsSpans:s},beforeStartSpan:l,idleTimeout:c,finalTimeout:d,childSpanTimeout:u,markBackgroundSpan:p,traceFetch:h,traceXHR:v,trackFetchStreamPerformance:y,shouldCreateSpanForRequest:b,enableHTTPTimings:_,instrumentPageLoad:w,instrumentNavigation:T}={...iY,...e},k=xq({recordClsStandaloneSpans:s||!1});t&&Wq(),r&&Kt.PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?Eq():n&&wq(),i&&Tq();const R={name:void 0,source:void 0};function M(E,O){const j=O.op==="pageload",P=l?l(O):O,V=P.attributes||{};O.name!==P.name&&(V[va]="custom",P.attributes=V),R.name=P.name,R.source=V[va];const C=QV(P,{idleTimeout:c,finalTimeout:d,childSpanTimeout:u,disableAutoFinish:j,beforeSpanEnd:U=>{k(),Iq(U,{recordClsOnPageloadSpan:!s})}});function N(){["interactive","complete"].includes(dt.document.readyState)&&E.emit("idleSpanEnableAutoFinish",C)}return j&&dt.document&&(dt.document.addEventListener("readystatechange",()=>{N()}),N()),C}return{name:rY,afterAllSetup(E){let O,j=dt.location&&dt.location.href;function P(){O&&!cn(O).timestamp&&(as&&Fe.log(`[Tracing] Finishing current active span with op: ${cn(O).op}`),O.end())}E.on("startNavigationSpan",V=>{hn()===E&&(P(),O=M(E,{op:"navigation",...V}))}),E.on("startPageLoadSpan",(V,C={})=>{if(hn()!==E)return;P();const N=C.sentryTrace||o5("sentry-trace"),U=C.baggage||o5("baggage"),L=X7(N,U);Dn().setPropagationContext(L),O=M(E,{op:"pageload",...V})}),E.on("spanEnd",V=>{const C=cn(V).op;if(V!==hi(V)||C!=="navigation"&&C!=="pageload")return;const N=Dn(),U=N.getPropagationContext();N.setPropagationContext({...U,sampled:U.sampled!==void 0?U.sampled:tu(V),dsc:U.dsc||rf(V)})}),dt.location&&(w&&oY(E,{name:dt.location.pathname,startTime:qi?qi/1e3:void 0,attributes:{[va]:"url",[Ar]:"auto.pageload.browser"}}),T&&Iw(({to:V,from:C})=>{if(C===void 0&&j&&j.indexOf(V)!==-1){j=void 0;return}C!==V&&(j=void 0,aY(E,{name:dt.location.pathname,attributes:{[va]:"url",[Ar]:"auto.navigation.browser"}}))})),p&&nY(),i&&lY(c,d,u,R),t&&Xq(),KG(E,{traceFetch:h,traceXHR:v,trackFetchStreamPerformance:y,tracePropagationTargets:E.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:b,enableHTTPTimings:_})}}};function oY(e,t,n){e.emit("startPageLoadSpan",t,n),Dn().setTransactionName(t.name);const r=gi();return(r&&cn(r).op)==="pageload"?r:void 0}function aY(e,t){Bo().setPropagationContext(mp()),Dn().setPropagationContext(mp()),e.emit("startNavigationSpan",t),Dn().setTransactionName(t.name);const n=gi();return(n&&cn(n).op)==="navigation"?n:void 0}function o5(e){const t=w7(`meta[name=${e}]`);return t?t.getAttribute("content"):void 0}function lY(e,t,n,r){let i;const s=()=>{const l="ui.action.click",c=gi(),d=c&&hi(c);if(d){const u=cn(d).op;if(["navigation","pageload"].includes(u)){as&&Fe.warn(`[Tracing] Did not create ${l} span because a pageload or navigation span is in progress.`);return}}if(i&&(i.setAttribute(IS,"interactionInterrupted"),i.end(),i=void 0),!r.name){as&&Fe.warn(`[Tracing] Did not create ${l} transaction because _latestRouteName is missing.`);return}i=QV({name:r.name,op:l,attributes:{[va]:r.source||"url"}},{idleTimeout:e,finalTimeout:t,childSpanTimeout:n})};dt.document&&addEventListener("click",s,{once:!1,capture:!0})}function cY(e){const t={...e};return i4(t,"react"),s9("react",{version:x.version}),GG(t)}function uY(e){const t=e.match(/^([^.]+)/);return t!==null&&parseInt(t[0])>=17}function dY(e,t){const n=new WeakSet;function r(i,s){if(!n.has(i)){if(i.cause)return n.add(i),r(i.cause,s);i.cause=s}}r(e,t)}function fY(e,{componentStack:t},n){if(uY(x.version)&&ty(e)&&t){const r=new Error(e.message);r.name=`React ErrorBoundary ${e.name}`,r.stack=t,dY(e,r)}return fo(e,{...n,captureContext:{contexts:{react:{componentStack:t}}}})}var x1={exports:{}},dn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a5;function hY(){if(a5)return dn;a5=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,n=e?Symbol.for("react.portal"):60106,r=e?Symbol.for("react.fragment"):60107,i=e?Symbol.for("react.strict_mode"):60108,s=e?Symbol.for("react.profiler"):60114,l=e?Symbol.for("react.provider"):60109,c=e?Symbol.for("react.context"):60110,d=e?Symbol.for("react.async_mode"):60111,u=e?Symbol.for("react.concurrent_mode"):60111,p=e?Symbol.for("react.forward_ref"):60112,h=e?Symbol.for("react.suspense"):60113,v=e?Symbol.for("react.suspense_list"):60120,y=e?Symbol.for("react.memo"):60115,b=e?Symbol.for("react.lazy"):60116,_=e?Symbol.for("react.block"):60121,w=e?Symbol.for("react.fundamental"):60117,T=e?Symbol.for("react.responder"):60118,k=e?Symbol.for("react.scope"):60119;function R(E){if(typeof E=="object"&&E!==null){var O=E.$$typeof;switch(O){case t:switch(E=E.type,E){case d:case u:case r:case s:case i:case h:return E;default:switch(E=E&&E.$$typeof,E){case c:case p:case b:case y:case l:return E;default:return O}}case n:return O}}}function M(E){return R(E)===u}return dn.AsyncMode=d,dn.ConcurrentMode=u,dn.ContextConsumer=c,dn.ContextProvider=l,dn.Element=t,dn.ForwardRef=p,dn.Fragment=r,dn.Lazy=b,dn.Memo=y,dn.Portal=n,dn.Profiler=s,dn.StrictMode=i,dn.Suspense=h,dn.isAsyncMode=function(E){return M(E)||R(E)===d},dn.isConcurrentMode=M,dn.isContextConsumer=function(E){return R(E)===c},dn.isContextProvider=function(E){return R(E)===l},dn.isElement=function(E){return typeof E=="object"&&E!==null&&E.$$typeof===t},dn.isForwardRef=function(E){return R(E)===p},dn.isFragment=function(E){return R(E)===r},dn.isLazy=function(E){return R(E)===b},dn.isMemo=function(E){return R(E)===y},dn.isPortal=function(E){return R(E)===n},dn.isProfiler=function(E){return R(E)===s},dn.isStrictMode=function(E){return R(E)===i},dn.isSuspense=function(E){return R(E)===h},dn.isValidElementType=function(E){return typeof E=="string"||typeof E=="function"||E===r||E===u||E===s||E===i||E===h||E===v||typeof E=="object"&&E!==null&&(E.$$typeof===b||E.$$typeof===y||E.$$typeof===l||E.$$typeof===c||E.$$typeof===p||E.$$typeof===w||E.$$typeof===T||E.$$typeof===k||E.$$typeof===_)},dn.typeOf=R,dn}var l5;function pY(){return l5||(l5=1,x1.exports=hY()),x1.exports}var w1,c5;function gY(){if(c5)return w1;c5=1;var e=pY(),t={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};s[e.ForwardRef]=r,s[e.Memo]=i;function l(b){return e.isMemo(b)?i:s[b.$$typeof]||t}var c=Object.defineProperty,d=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,v=Object.prototype;function y(b,_,w){if(typeof _!="string"){if(v){var T=h(_);T&&T!==v&&y(b,T,w)}var k=d(_);u&&(k=k.concat(u(_)));for(var R=l(b),M=l(_),E=0;E<k.length;++E){var O=k[E];if(!n[O]&&!(w&&w[O])&&!(M&&M[O])&&!(R&&R[O])){var j=p(_,O);try{c(b,O,j)}catch{}}}}return b}return w1=y,w1}var mY=gY();const vY=Pr(mY),yY="ui.react.render",AY="ui.react.update",bY="ui.react.mount",_Y="unknown";class R4 extends x.Component{static __initStatic(){this.defaultProps={disabled:!1,includeRender:!0,includeUpdates:!0}}constructor(t){super(t);const{name:n,disabled:r=!1}=this.props;r||(this._mountSpan=bl({name:`<${n}>`,onlyIfParent:!0,op:bY,attributes:{[Ar]:"auto.ui.react.profiler","ui.component_name":n}}))}componentDidMount(){this._mountSpan&&this._mountSpan.end()}shouldComponentUpdate({updateProps:t,includeUpdates:n=!0}){if(n&&this._mountSpan&&t!==this.props.updateProps){const r=Object.keys(t).filter(i=>t[i]!==this.props.updateProps[i]);if(r.length>0){const i=si();this._updateSpan=uv(this._mountSpan,()=>bl({name:`<${this.props.name}>`,onlyIfParent:!0,op:AY,startTime:i,attributes:{[Ar]:"auto.ui.react.profiler","ui.component_name":this.props.name,"ui.react.changed_props":r}}))}}return!0}componentDidUpdate(){this._updateSpan&&(this._updateSpan.end(),this._updateSpan=void 0)}componentWillUnmount(){const t=si(),{name:n,includeRender:r=!0}=this.props;if(this._mountSpan&&r){const i=cn(this._mountSpan).timestamp;uv(this._mountSpan,()=>{const s=bl({onlyIfParent:!0,name:`<${n}>`,op:yY,startTime:i,attributes:{[Ar]:"auto.ui.react.profiler","ui.component_name":n}});s&&s.end(t)})}}render(){return this.props.children}}R4.__initStatic();function SY(e,t){const n=e.displayName||e.name||_Y,r=i=>x.createElement(R4,{...t,name:n,updateProps:i},x.createElement(e,{...i}));return r.displayName=`profiler(${n})`,vY(r,e),r}const xY=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,u5={componentStack:null,error:null,eventId:null};class Ow extends x.Component{constructor(t){super(t),Ow.prototype.__init.call(this),this.state=u5,this._openFallbackReportDialog=!0;const n=hn();n&&t.showDialog&&(this._openFallbackReportDialog=!1,this._cleanupHook=n.on("afterSendEvent",r=>{!r.type&&this._lastEventId&&r.event_id===this._lastEventId&&r5({...t.dialogOptions,eventId:this._lastEventId})}))}componentDidCatch(t,n){const{componentStack:r}=n,i=r??void 0,{beforeCapture:s,onError:l,showDialog:c,dialogOptions:d}=this.props;sy(u=>{s&&s(u,t,i);const p=fY(t,n,{mechanism:{handled:!!this.props.fallback}});l&&l(t,i,p),c&&(this._lastEventId=p,this._openFallbackReportDialog&&r5({...d,eventId:p})),this.setState({error:t,componentStack:r,eventId:p})})}componentDidMount(){const{onMount:t}=this.props;t&&t()}componentWillUnmount(){const{error:t,componentStack:n,eventId:r}=this.state,{onUnmount:i}=this.props;i&&i(t,n,r),this._cleanupHook&&(this._cleanupHook(),this._cleanupHook=void 0)}__init(){this.resetErrorBoundary=()=>{const{onReset:t}=this.props,{error:n,componentStack:r,eventId:i}=this.state;t&&t(n,r,i),this.setState(u5)}}render(){const{fallback:t,children:n}=this.props,r=this.state;if(r.error){let i;return typeof t=="function"?i=x.createElement(t,{error:r.error,componentStack:r.componentStack,resetError:this.resetErrorBoundary,eventId:r.eventId}):i=t,x.isValidElement(i)?i:(t&&xY&&Fe.warn("fallback did not produce a valid ReactElement"),null)}return typeof n=="function"?n():n}}const wY="modulepreload",EY=function(e){return"/"+e},d5={},uf=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));i=Promise.allSettled(n.map(d=>{if(d=EY(d),d in d5)return;d5[d]=!0;const u=d.endsWith(".css"),p=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${p}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":wY,u||(h.as="script"),h.crossOrigin="",h.href=d,c&&h.setAttribute("nonce",c),document.head.appendChild(h),u)return new Promise((v,y)=>{h.addEventListener("load",v),h.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${d}`)))})}))}function s(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return i.then(l=>{for(const c of l||[])c.status==="rejected"&&s(c.reason);return t().catch(s)})};class I4{constructor(){this.init=async(t,n)=>{const r=await uf(()=>import("./aubio-DQ9FhJvE.js"),[]),{Pitch:i}=await r.default();this.detector=new i("default",n,n/8,t.sampleRate),this.detector.setTolerance(.5)},this.getFrequency=async t=>this.detector.do(t)}getSampleSize(){return 2048}}class TY extends Ys{constructor(){super(...arguments),this.status="uninitialised",this.getUserMedia=async(...t)=>this.requestAndTrack(()=>navigator.mediaDevices.getUserMedia(...t)),this.enumerateDevices=async(...t)=>this.requestAndTrack(()=>navigator.mediaDevices.enumerateDevices(...t)),this.requestAndTrack=async t=>{try{this.status!=="accepted"&&this.setStatus("requested");const n=await t();return this.setStatus("accepted"),n}catch(n){throw this.setStatus("declined"),n}},this.setStatus=t=>{this.status=t,this.onUpdate(t)},this.getStatus=()=>this.status}}const _l=new TY;let WS=class{constructor(t=2){this.channels=t,this.stream=null,this.context=null,this.interval=null,this.frequencies=[0,0],this.volumes=[0,0],this.startedMonitoring=!1,this.startMonitoring=async n=>{if(!this.startedMonitoring){this.startedMonitoring=!0;try{this.stream=await _l.getUserMedia({audio:{...n?{deviceId:n,exact:!0}:{},echoCancellation:!1},video:!1});try{this.context=new AudioContext;const r=this.context.createMediaStreamSource(this.stream),i=Array.from({length:this.channels},()=>{const l=this.context.createAnalyser();return l.fftSize=2048,l.minDecibels=-100,l});if(this.channels>1){const l=this.context.createChannelSplitter(2);r.connect(l),i.forEach((c,d)=>{l.connect(c,d)})}else r.connect(i[0]);console.log(this.channels);const s=new I4;await s.init(this.context,i[0].fftSize),this.interval=setInterval(async()=>{const l=i.map(c=>new Float32Array(c.fftSize));i.forEach((c,d)=>{c.getFloatTimeDomainData(l[d])}),this.frequencies=await Promise.all(l.map(c=>s.getFrequency(c))),this.volumes=l.map(c=>this.calculateVolume(c))},this.context.sampleRate/i[0].fftSize),me.micMonitoringStarted.dispatch()}catch(r){fo(r),console.error(r)}}catch(r){fo(r,{level:"warning",extra:{message:"MicInput.startMonitoring"}}),console.warn(r)}}},this.getFrequencies=()=>this.frequencies,this.getVolumes=()=>this.volumes,this.clearFrequencies=n=>{},this.stopMonitoring=async()=>{var n,r;if(this.startedMonitoring){this.startedMonitoring=!1,this.interval&&clearInterval(this.interval),(n=this.stream)==null||n.getTracks().forEach(function(i){i.stop()});try{await((r=this.context)==null?void 0:r.close())}catch(i){console.log("MicInput.stoMonitoring error",i)}me.micMonitoringStopped.dispatch()}},this.getInputLag=()=>180,this.requestReadiness=()=>Promise.resolve(!0),this.getStatus=()=>"ok"}calculateVolume(t){let n,r=0;for(n=0;n<t.length;++n)r+=t[n]*t[n];return Math.sqrt(r/t.length)}};new WS;const CY=(e=[],t)=>{const n=e.filter(r=>r.deviceId===t).map(r=>r.channel);return n.some(r=>n[0]!==r)};class kY{constructor(){this.devices={},this.startMonitoring=async(t,n)=>{console.log(this.devices),t&&(this.devices[t]||(this.devices[t]=CY(n,t)?new WS(2):new WS(1)),await this.devices[t].startMonitoring(t))},this.getFrequencies=t=>t&&this.devices[t]?this.devices[t].getFrequencies():[0,0],this.getVolumes=t=>t&&this.devices[t]?this.devices[t].getVolumes():[0,0],this.clearFrequencies=t=>{if(t&&this.devices[t])return this.devices[t].clearFrequencies(t)},this.stopMonitoring=async()=>{await Promise.all(Object.values(this.devices).map(t=>t.stopMonitoring())),this.devices={}},this.getInputLag=t=>t&&this.devices[t]?this.devices[t].getInputLag():180,this.requestReadiness=async t=>t&&this.devices[t]?this.devices[t].requestReadiness():!0,this.getStatus=t=>t&&this.devices[t]?this.devices[t].getStatus():"ok"}}const MY=new kY;class RY{constructor(){this.frequencies=[0],this.volumes=[1],this.startMonitoring=async t=>{var n;return(n=Vt.getRemoteMicById(t??""))==null?void 0:n.getInput().startMonitoring()},this.getFrequencies=t=>{var r;return((r=Vt.getRemoteMicById(t??""))==null?void 0:r.getInput().getFrequencies())??this.frequencies},this.clearFrequencies=t=>{var n;(n=Vt.getRemoteMicById(t??""))==null||n.getInput().clearFrequencies()},this.getVolumes=t=>{var r;return((r=Vt.getRemoteMicById(t??""))==null?void 0:r.getInput().getVolumes())??this.volumes},this.stopMonitoring=async t=>{var n;return(n=Vt.getRemoteMicById(t??""))==null?void 0:n.getInput().stopMonitoring()},this.requestReadiness=t=>{var n;return((n=Vt.getRemoteMicById(t??""))==null?void 0:n.getInput().requestReadiness())??Promise.resolve(!0)},this.getInputLag=t=>{var n;return((n=Vt.getRemoteMicById(t??""))==null?void 0:n.getInput().getInputLag())??0},this.getStatus=t=>{const n=Vt.getRemoteMicById(t??"");return!n||n.getLatency()>1500?"unavailable":n.getLatency()>500?"unstable":"ok"}}}const IY=new RY;function ho(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var O4=typeof global=="object"&&global&&global.Object===Object&&global,OY=typeof self=="object"&&self&&self.Object===Object&&self,go=O4||OY||Function("return this")(),E1=function(){return go.Date.now()},jY=/\s/;function PY(e){for(var t=e.length;t--&&jY.test(e.charAt(t)););return t}var VY=/^\s+/;function DY(e){return e&&e.slice(0,PY(e)+1).replace(VY,"")}var Us=go.Symbol,j4=Object.prototype,BY=j4.hasOwnProperty,NY=j4.toString,xh=Us?Us.toStringTag:void 0;function LY(e){var t=BY.call(e,xh),n=e[xh];try{e[xh]=void 0;var r=!0}catch{}var i=NY.call(e);return r&&(t?e[xh]=n:delete e[xh]),i}var FY=Object.prototype,zY=FY.toString;function $Y(e){return zY.call(e)}var UY="[object Null]",HY="[object Undefined]",f5=Us?Us.toStringTag:void 0;function ru(e){return e==null?e===void 0?HY:UY:f5&&f5 in Object(e)?LY(e):$Y(e)}function Ca(e){return e!=null&&typeof e=="object"}var qY="[object Symbol]";function cy(e){return typeof e=="symbol"||Ca(e)&&ru(e)==qY}var h5=NaN,GY=/^[-+]0x[0-9a-f]+$/i,YY=/^0b[01]+$/i,KY=/^0o[0-7]+$/i,WY=parseInt;function QS(e){if(typeof e=="number")return e;if(cy(e))return h5;if(ho(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=ho(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=DY(e);var n=YY.test(e);return n||KY.test(e)?WY(e.slice(2),n?2:8):GY.test(e)?h5:+e}var QY="Expected a function",XY=Math.max,JY=Math.min;function P4(e,t,n){var r,i,s,l,c,d,u=0,p=!1,h=!1,v=!0;if(typeof e!="function")throw new TypeError(QY);t=QS(t)||0,ho(n)&&(p=!!n.leading,h="maxWait"in n,s=h?XY(QS(n.maxWait)||0,t):s,v="trailing"in n?!!n.trailing:v);function y(O){var j=r,P=i;return r=i=void 0,u=O,l=e.apply(P,j),l}function b(O){return u=O,c=setTimeout(T,t),p?y(O):l}function _(O){var j=O-d,P=O-u,V=t-j;return h?JY(V,s-P):V}function w(O){var j=O-d,P=O-u;return d===void 0||j>=t||j<0||h&&P>=s}function T(){var O=E1();if(w(O))return k(O);c=setTimeout(T,_(O))}function k(O){return c=void 0,v&&r?y(O):(r=i=void 0,l)}function R(){c!==void 0&&clearTimeout(c),u=0,r=d=i=c=void 0}function M(){return c===void 0?l:k(E1())}function E(){var O=E1(),j=w(O);if(r=arguments,i=this,d=O,j){if(c===void 0)return b(d);if(h)return clearTimeout(c),c=setTimeout(T,t),y(d)}return c===void 0&&(c=setTimeout(T,t)),l}return E.cancel=R,E.flush=M,E}const Ci={DUEL:"DUEL",PASS_THE_MIC:"PASS_THE_MIC",CO_OP:"CO_OP"},np=["freestyle","rap"],V4=[],D4=440,B4=69,jw=20;var ZY="[object AsyncFunction]",eK="[object Function]",tK="[object GeneratorFunction]",nK="[object Proxy]";function N4(e){if(!ho(e))return!1;var t=ru(e);return t==eK||t==tK||t==ZY||t==nK}var T1=go["__core-js_shared__"],p5=function(){var e=/[^.]+$/.exec(T1&&T1.keys&&T1.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function rK(e){return!!p5&&p5 in e}var iK=Function.prototype,sK=iK.toString;function iu(e){if(e!=null){try{return sK.call(e)}catch{}try{return e+""}catch{}}return""}var oK=/[\\^$.*+?()[\]{}|]/g,aK=/^\[object .+?Constructor\]$/,lK=Function.prototype,cK=Object.prototype,uK=lK.toString,dK=cK.hasOwnProperty,fK=RegExp("^"+uK.call(dK).replace(oK,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function hK(e){if(!ho(e)||rK(e))return!1;var t=N4(e)?fK:aK;return t.test(iu(e))}function pK(e,t){return e==null?void 0:e[t]}function su(e,t){var n=pK(e,t);return hK(n)?n:void 0}var bp=su(Object,"create");function gK(){this.__data__=bp?bp(null):{},this.size=0}function mK(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var vK="__lodash_hash_undefined__",yK=Object.prototype,AK=yK.hasOwnProperty;function bK(e){var t=this.__data__;if(bp){var n=t[e];return n===vK?void 0:n}return AK.call(t,e)?t[e]:void 0}var _K=Object.prototype,SK=_K.hasOwnProperty;function xK(e){var t=this.__data__;return bp?t[e]!==void 0:SK.call(t,e)}var wK="__lodash_hash_undefined__";function EK(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=bp&&t===void 0?wK:t,this}function Uc(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Uc.prototype.clear=gK;Uc.prototype.delete=mK;Uc.prototype.get=bK;Uc.prototype.has=xK;Uc.prototype.set=EK;function TK(){this.__data__=[],this.size=0}function uy(e,t){return e===t||e!==e&&t!==t}function dy(e,t){for(var n=e.length;n--;)if(uy(e[n][0],t))return n;return-1}var CK=Array.prototype,kK=CK.splice;function MK(e){var t=this.__data__,n=dy(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():kK.call(t,n,1),--this.size,!0}function RK(e){var t=this.__data__,n=dy(t,e);return n<0?void 0:t[n][1]}function IK(e){return dy(this.__data__,e)>-1}function OK(e,t){var n=this.__data__,r=dy(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function Ia(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ia.prototype.clear=TK;Ia.prototype.delete=MK;Ia.prototype.get=RK;Ia.prototype.has=IK;Ia.prototype.set=OK;var _p=su(go,"Map");function jK(){this.size=0,this.__data__={hash:new Uc,map:new(_p||Ia),string:new Uc}}function PK(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function fy(e,t){var n=e.__data__;return PK(t)?n[typeof t=="string"?"string":"hash"]:n.map}function VK(e){var t=fy(this,e).delete(e);return this.size-=t?1:0,t}function DK(e){return fy(this,e).get(e)}function BK(e){return fy(this,e).has(e)}function NK(e,t){var n=fy(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function Oa(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Oa.prototype.clear=jK;Oa.prototype.delete=VK;Oa.prototype.get=DK;Oa.prototype.has=BK;Oa.prototype.set=NK;var LK="Expected a function";function hy(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(LK);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var l=e.apply(this,r);return n.cache=s.set(i,l)||s,l};return n.cache=new(hy.Cache||Oa),n}hy.Cache=Oa;function pv(e){return np.includes(e.note.type)?0:e.distance}function fn(e){return(e==null?void 0:e.type)==="notes"&&!!e.notes.length}const FK=35e5,uc={freestyle:.25,rap:.25,rapstar:.5,star:2,normal:1,perfect:.5,vibrato:.25},g5=e=>({freestyle:e.freestyle*uc.freestyle,rap:e.rap*uc.rap,rapstar:e.rapstar*uc.rapstar,star:e.star*uc.star,normal:e.normal*uc.normal,perfect:e.perfect*uc.perfect,vibrato:e.vibrato*uc.vibrato}),Pw=e=>e.freestyle+e.rap+e.star+e.normal+e.perfect+e.vibrato,Dm=(e,t)=>({freestyle:e.freestyle*t,rap:e.rap*t,rapstar:e.rapstar*t,star:e.star*t,normal:e.normal*t,perfect:e.perfect*t,vibrato:e.vibrato*t}),m5=(e,t)=>({freestyle:e.freestyle+t.freestyle,rap:e.rap+t.rap,rapstar:e.rapstar+t.rapstar,star:e.star+t.star,normal:e.normal+t.normal,perfect:e.perfect+t.perfect,vibrato:e.vibrato+t.vibrato}),v5=(e,t)=>({freestyle:e.freestyle/t,rap:e.rap/t,rapstar:e.rapstar/t,star:e.star/t,normal:e.normal/t,perfect:e.perfect/t,vibrato:e.vibrato/t}),y5=hy(e=>e.tracks.map(({sections:t})=>{const n={freestyle:0,rap:0,rapstar:0,star:0,normal:0,perfect:0,vibrato:0};return t.filter(fn).forEach(r=>{r.notes.filter(s=>!V4.includes(s.type)).forEach(s=>{n[s.type]=n[s.type]+s.length,n.perfect=n.perfect+s.length,n.vibrato=n.vibrato+s.length})}),n}));function L4(e,t,n){const r=y5(t),i={freestyle:0,rap:0,rapstar:0,star:0,normal:0,perfect:0,vibrato:0};if(!r[n])return console.error(`No beat count for track ${n} in song`,t),[0,i,i];const s=g5(y5(t)[n]),l=FK/Pw(s);for(let c=0;c<e.length;c++){const d=e[c];V4.includes(d.note.type)||pv(d)===0&&(i[d.note.type]=i[d.note.type]+d.length,d.isPerfect&&(i.perfect=i.perfect+d.length),d.vibrato&&(i.vibrato=i.vibrato+d.length))}return[l,g5(i),s]}function zK(e,t,n){const[r,i]=L4(e,t,n);return Pw(i)*r}function $K(e,t,n,r=!0){const i=(e-n)/t;return r?Math.floor(i):i}function UK(e){return D4*Math.pow(2,(e-B4)/12)}const HK=e=>Math.round(12*(Math.log(e/D4)/Math.log(2)))+B4,qK=(e,t)=>Math.floor(1200*Math.log(t/e)/Math.log(2)),GK=(e,t,n)=>{const r=UK(e),i=qK(r,t);return Math.sign(i)*((Math.abs(i)%1200+600)%1200-600)/(n*100+50)},YK=(e,t,n)=>{const r=(e%12-t%12+18)%12-6;return Math.abs(r)<=n?0:r},KK=(e,t)=>{const n=at.getTolerance(),r=HK(e);let i=-1;const s=YK(r,t,n);return s===0&&(i=GK(t,e,n)),{distance:s,preciseDistance:i}},A5=6;function WK(e){const t=[];for(let r=1;r<e.length;r++){if(Math.round(e[r].frequency/2)===Math.round(e[r-1].frequency/2))continue;const i=e[r].frequency>e[r-1].frequency?">":"<";if(t.length===0)t.push({...e[r],interval:e[r].timestamp-e[r-1].timestamp,change:i});else{const s=t.at(-1);s.change!==i&&t.push({...e[r],interval:e[r].timestamp-s.timestamp,change:i})}}const n=t;for(let r=0;r<n.length-A5;r++){const s=n.slice(r,r+A5-1).map(u=>u.interval),l=Math.max(...s),c=Math.min(...s),d=s.reduce((u,p)=>u+p,0)/s.length;if(l<d*1.75&&c>d/1.75)return!0}return!1}const QK=100;function XK(e,t,n,r){if(t.frequency===0)return;const i={...t,beat:Math.max(0,t.timestamp)/r,...KK(t.frequency,n.pitch)},s=e.at(-1),l=QK/r,c=n.start+n.length,d=!s||s.note.start!==n.start,u=!s||s.distance!==i.distance&&!np.includes(n.type);if(d||u||i.beat-(s.start+s.length)>l){const p=i.beat-l<n.start?n.start:i.beat;if(e.push({start:Math.min(d?p:i.beat,c),length:0,distance:i.distance,note:n,isPerfect:!1,vibrato:!1,frequencyRecords:[{frequency:i.frequency,preciseDistance:i.preciseDistance,timestamp:i.timestamp}]}),s&&n.start!==s.note.start){const h=s.start+s.length,v=s.note.start+s.note.length,y=h+l>v?v:h;s.length=Math.max(0,y-s.start)}}else s.length=Math.max(0,Math.min(i.beat,n.start+n.length)-s.start),s.frequencyRecords.push({frequency:i.frequency,timestamp:i.timestamp,preciseDistance:i.preciseDistance}),s.isPerfect=s.distance===0&&Math.abs(s.length-s.note.length)<.5,s.vibrato=s.distance===0&&WK(s.frequencyRecords)}const JK=e=>e.notes[0],wl=e=>{const t=e.find(fn);return t?JK(t).start:1/0},Sp=e=>{const n=e.filter(fn).at(-1);return n?$d(n):0},$d=e=>{const t=e.notes.at(-1);return t.start+t.length},b5=(e,t,n=0)=>e.notes.find(r=>r.start-n<=t&&r.start+r.length+n>=t);class ZK{constructor(t,n){this.number=t,this.gameState=n,this.frequencyRecords=[],this.playerNotes=[],this.realFrequencyRecords=[],this.realPlayerNotes=[],this.min=1/0,this.max=-1/0,this.storedSectionIndex=0,this.getNumber=()=>this.number,this.update=()=>{const r=this.gameState.getCurrentTime(),i=ur.getPlayerFrequency(this.number),s=r-ur.getPlayerInputLag(this.number);if(Array.isArray(i)){const l=this.realFrequencyRecords.at(-1)||this.frequencyRecords.at(0),c=(l==null?void 0:l.timestamp)??0,d=(s-c)/i.length;this.frequencyRecords=this.realFrequencyRecords,this.playerNotes=this.realPlayerNotes;for(let p=0;p<i.length;p++){const h=c+d*(p+1);this.updatePlayerNotes(h,i[p])}this.realFrequencyRecords=[...this.frequencyRecords],this.realPlayerNotes=[...this.playerNotes];const u=this.realPlayerNotes.at(-1);u&&(this.realPlayerNotes[this.realPlayerNotes.length-1]={...u,frequencyRecords:[...u.frequencyRecords??[]]}),ur.clearPlayerCachedFrequencies(this.number)}else this.updatePlayerNotes(s,i);this.dispatchSectionUpdate()},this.dispatchSectionUpdate=()=>{const r=this.getCurrentSectionIndex();this.storedSectionIndex!==r&&(me.sectionChange.dispatch(this.number,this.storedSectionIndex),this.storedSectionIndex=r)},this.updatePlayerNotes=(r,i)=>{const s={timestamp:r,frequency:i};this.frequencyRecords.push(s);const l=s.timestamp/this.gameState.getSongBeatLength(),c=this.getSectionByBeat(l);if(fn(c)){const d=b5(c,l,0)??b5(c,l,.5);d&&XK(this.playerNotes,s,d,this.gameState.getSongBeatLength())}},this.getPlayerNotes=()=>this.playerNotes,this.getPlayerFrequencies=()=>this.frequencyRecords,this.getSectionIndexByBeat=r=>this.getTrack().sections.findIndex((i,s,l)=>r<0?!0:r<i.start?!1:s===l.length-1?!0:l[s+1].start>r),this.getCurrentSectionIndex=()=>this.getSectionIndexByBeat(this.gameState.getCurrentBeat()),this.getSectionByBeat=r=>this.getTrack().sections[this.getSectionIndexByBeat(r)]??null,this.getCurrentSection=()=>{const r=this.getCurrentSectionIndex();return this.getTrack().sections[r]??null},this.getNextSection=(r=1)=>{const i=this.getCurrentSectionIndex();return i>-1?this.getTrack().sections[i+r]??null:null},this.getPreviousSection=(r=1)=>{const i=this.getCurrentSectionIndex();return i>-1?this.getTrack().sections[i-r]??null:null},this.getLastNotesSection=()=>{const r=this.getTrack().sections.at(-1);return fn(r)?r:this.getTrack().sections.at(-2)},this.getScore=()=>zK(this.playerNotes,this.gameState.getSong(),this.getTrackIndex()),this.getDetailedScore=()=>L4(this.playerNotes,this.gameState.getSong(),this.getTrackIndex()),this.getMinPitch=()=>this.min,this.getMaxPitch=()=>this.max,this.getTrackIndex=()=>this.gameState.getSingSetup().players.find(r=>r.number===this.number).track,this.getTrack=()=>{var r;return this.gameState.isMergedTrack()?(r=this.gameState.getSong())==null?void 0:r.mergedTrack:this.gameState.getSong().tracks[this.getTrackIndex()]},this.resetNotes=()=>{this.playerNotes=[]},this.getTrack().sections.filter(fn).forEach(r=>r.notes.forEach(i=>{this.min=Math.min(this.min,i.pitch),this.max=Math.max(this.max,i.pitch)}))}}function _5(e){return Math.max(...e.tracks.map(t=>{const n=t.sections.filter(fn).at(-1);return n?$d(n):0}))}function Vw(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError("Expected a function");const n=function(...r){const i=t?t.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);const l=e.apply(this,r);return n.cache=s.set(i,l)||s,l};return n.cache=new(Vw.Cache||Map),n}Vw.Cache=Map;const df=Vw(function(t){return 60/t.bpm/(t.bar??4)*1e3});class eW{constructor(){this.song=null,this.currentTime=0,this.duration=0,this.singSetup=null,this.playerStates=[],this.playing=!1,this.setCurrentTime=t=>this.currentTime=t,this.getCurrentTime=(t=!0)=>this.currentTime-(t&&this.song?this.song.gap:0),this.getSongBeatLength=()=>df(this.song),this.getCurrentBeat=()=>$K(this.getCurrentTime(),this.getSongBeatLength(),0,!1),this.setSong=t=>this.song=t,this.getSong=()=>this.song,this.getSingSetup=()=>this.singSetup,this.setSingSetup=t=>{this.singSetup=t,this.playerStates=t.players.map(({number:n},r)=>new ZK(n,this)),this.currentTime=0,this.playing=!0},this.resetSingSetup=()=>{this.playing=!1},this.isPlaying=()=>this.playing,this.getTolerance=()=>{var t;return((t=this.getSingSetup())==null?void 0:t.tolerance)??2},this.setDuration=t=>this.duration=t,this.getDuration=()=>this.duration,this.getPlayer=t=>this.playerStates.find(n=>n.getNumber()===t),this.getPlayers=()=>this.playerStates,this.getPlayerCount=()=>this.playerStates.length,this.getPlayerScore=t=>{var n,r;return((n=this.getSingSetup())==null?void 0:n.mode)===Ci.CO_OP?this.getPlayers().reduce((s,l)=>s+l.getScore(),0)/this.getPlayerCount():((r=this.getPlayer(t))==null?void 0:r.getScore())??-1},this.getPlayerDetailedScore=t=>{var n;if(((n=this.getSingSetup())==null?void 0:n.mode)===Ci.CO_OP){const r=this.getPlayers().map(c=>c.getDetailedScore()),[i,...s]=r.map(([c,d,u])=>[Dm(d,c),Dm(u,c)]),l=s.reduce((c,d)=>[m5(c[0],d[0]),m5(c[1],d[1])],i);return[v5(l[0],this.getPlayerCount()),v5(l[1],this.getPlayerCount())]}else{const[r,i,s]=this.getPlayer(t).getDetailedScore();return[Dm(i,r),Dm(s,r)]}},this.getSongCompletionProgress=()=>(console.log("getSongCompletionProgress",this.getCurrentBeat(),_5(this.getSong()),this.getSong()),Math.max(0,Math.min(1,this.getCurrentBeat()/_5(this.getSong())))),this.startInputMonitoring=async()=>ur.startMonitoring(),this.stopInputMonitoring=()=>ur.stopMonitoring(),this.update=()=>{this.playerStates.forEach(t=>t.update())},this.resetPlayerNotes=()=>{this.playerStates.forEach(t=>t.resetNotes())},this.isMergedTrack=()=>{var t;return((t=this.getSingSetup())==null?void 0:t.players.length)!==2}}}const at=new eW,F4="wss://allkaraoke-partykit.asvarox.partykit.dev";class tW extends Ys{constructor(){super(...arguments),this.name="PartyKit",this.connection=null,this.disconnect=()=>{var t;(t=this.connection)==null||t.close()},this.latency=0,this.pingStart=Mi(),this.pinging=!1,this.pingTimeout=null,this.ping=()=>{var t;this.pinging=!0,this.pingStart=Mi(),(t=this.connection)==null||t.send(Fs({t:"ping"}))},this.onPong=()=>{this.pinging&&(this.latency=Mi()-this.pingStart,this.pinging=!1,this.pingTimeout&&clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(this.ping,5e3))},this.getCurrentPing=()=>this.pinging?Math.max(this.latency,Mi()-this.pingStart):this.latency}connect(t,n,r){this.connection=new WebSocket(`${F4}/party/${t}`),this.connection.binaryType="arraybuffer",this.connection.onopen=()=>{var i,s;(i=this.connection)==null||i.send(Fs({t:"register-room",id:t})),n(),this.ping(),(s=this.connection)==null||s.addEventListener("message",l=>{var d;const c=Zd(l.data);if(c.t==="forward"){["ping","pong","freq"].includes((d=c==null?void 0:c.payload)==null?void 0:d.t)||console.log("received",c);const{sender:u,payload:p}=c,h=new nW(u,this.connection);this.onUpdate(p,h)}else c.t==="pong"?this.onPong():console.warn("Unknown message type",c)})},this.connection.onclose=i=>{r(i.reason,i)}}removePlayer(t){var n;(n=this.connection)==null||n.send(Fs({t:"remove-player",id:t}))}}let nW=class{constructor(t,n){this.peer=t,this.socket=n,this.currentPing=0,this.send=r=>{const i={t:"forward",recipients:[this.peer],payload:r};["ping","pong","freq"].includes(r==null?void 0:r.t)||console.log("sending",this.peer,r),this.socket.send(Fs(i))},this.callbacksMap=new Map,this.on=(r,i)=>{r==="data"&&(this.callbacksMap.set(i,s=>{const l=Zd(s.data);if(l.t==="forward"){const{sender:c,payload:d}=l;c===this.peer&&i(d)}}),this.socket.addEventListener("message",this.callbacksMap.get(i)))},this.off=(r,i)=>{if(r==="data"){const s=this.callbacksMap.get(i);this.socket.removeEventListener("message",s),this.callbacksMap.delete(i)}},this.close=()=>{this.socket.close()}}};var kj;const rW=(kj=global==null?void 0:global.sessionStorage)==null?void 0:kj.getItem("isE2E");var Mj;const iW=(Mj=global==null?void 0:global.location)==null?void 0:Mj.search.includes("e2e-test");function ds(){var t;if(rW)return!0;const e=(global==null?void 0:global.isE2ETests)||iW;return e&&((t=global==null?void 0:global.sessionStorage)==null||t.setItem("isE2E","true")),e}const sW=ds()?{host:"localhost",port:3001,path:"/"}:{},z4={...sW};var oW=Object.create,py=Object.defineProperty,aW=Object.defineProperties,lW=Object.getOwnPropertyDescriptor,cW=Object.getOwnPropertyDescriptors,$4=Object.getOwnPropertyNames,S5=Object.getOwnPropertySymbols,uW=Object.getPrototypeOf,U4=Object.prototype.hasOwnProperty,dW=Object.prototype.propertyIsEnumerable,x5=(e,t,n)=>t in e?py(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Dw=(e,t)=>{for(var n in t||(t={}))U4.call(t,n)&&x5(e,n,t[n]);if(S5)for(var n of S5(t))dW.call(t,n)&&x5(e,n,t[n]);return e},H4=(e,t)=>aW(e,cW(t)),fW=e=>py(e,"__esModule",{value:!0}),Bw=(e,t)=>function(){return t||(0,e[$4(e)[0]])((t={exports:{}}).exports,t),t.exports},hW=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of $4(t))!U4.call(e,i)&&i!=="default"&&py(e,i,{get:()=>t[i],enumerable:!(r=lW(t,i))||r.enumerable});return e},$p=(e,t)=>hW(fW(py(e!=null?oW(uW(e)):{},"default",e&&e.__esModule?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e),hd=(e,t,n)=>new Promise((r,i)=>{var s=d=>{try{c(n.next(d))}catch(u){i(u)}},l=d=>{try{c(n.throw(d))}catch(u){i(u)}},c=d=>d.done?r(d.value):Promise.resolve(d.value).then(s,l);c((n=n.apply(e,t)).next())}),w5=Bw({"node_modules/peerjs-js-binarypack/lib/bufferbuilder.js"(e,t){var n={};n.useBlobBuilder=function(){try{return new Blob([]),!1}catch{return!0}}(),n.useArrayBufferView=!n.useBlobBuilder&&function(){try{return new Blob([new Uint8Array([])]).size===0}catch{return!0}}(),t.exports.binaryFeatures=n;var r=t.exports.BlobBuilder;typeof window<"u"&&(r=t.exports.BlobBuilder=window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder||window.BlobBuilder);function i(){this._pieces=[],this._parts=[]}i.prototype.append=function(s){typeof s=="number"?this._pieces.push(s):(this.flush(),this._parts.push(s))},i.prototype.flush=function(){if(this._pieces.length>0){var s=new Uint8Array(this._pieces);n.useArrayBufferView||(s=s.buffer),this._parts.push(s),this._pieces=[]}},i.prototype.getBuffer=function(){if(this.flush(),n.useBlobBuilder){for(var s=new r,l=0,c=this._parts.length;l<c;l++)s.append(this._parts[l]);return s.getBlob()}else return new Blob(this._parts)},t.exports.BufferBuilder=i}}),pW=Bw({"node_modules/peerjs-js-binarypack/lib/binarypack.js"(e,t){var n=w5().BufferBuilder,r=w5().binaryFeatures,i={unpack:function(u){var p=new s(u);return p.unpack()},pack:function(u){var p=new l;p.pack(u);var h=p.getBuffer();return h}};t.exports=i;function s(u){this.index=0,this.dataBuffer=u,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}s.prototype.unpack=function(){var u=this.unpack_uint8();if(u<128)return u;if((u^224)<32)return(u^224)-32;var p;if((p=u^160)<=15)return this.unpack_raw(p);if((p=u^176)<=15)return this.unpack_string(p);if((p=u^144)<=15)return this.unpack_array(p);if((p=u^128)<=15)return this.unpack_map(p);switch(u){case 192:return null;case 193:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 212:return;case 213:return;case 214:return;case 215:return;case 216:return p=this.unpack_uint16(),this.unpack_string(p);case 217:return p=this.unpack_uint32(),this.unpack_string(p);case 218:return p=this.unpack_uint16(),this.unpack_raw(p);case 219:return p=this.unpack_uint32(),this.unpack_raw(p);case 220:return p=this.unpack_uint16(),this.unpack_array(p);case 221:return p=this.unpack_uint32(),this.unpack_array(p);case 222:return p=this.unpack_uint16(),this.unpack_map(p);case 223:return p=this.unpack_uint32(),this.unpack_map(p)}},s.prototype.unpack_uint8=function(){var u=this.dataView[this.index]&255;return this.index++,u},s.prototype.unpack_uint16=function(){var u=this.read(2),p=(u[0]&255)*256+(u[1]&255);return this.index+=2,p},s.prototype.unpack_uint32=function(){var u=this.read(4),p=((u[0]*256+u[1])*256+u[2])*256+u[3];return this.index+=4,p},s.prototype.unpack_uint64=function(){var u=this.read(8),p=((((((u[0]*256+u[1])*256+u[2])*256+u[3])*256+u[4])*256+u[5])*256+u[6])*256+u[7];return this.index+=8,p},s.prototype.unpack_int8=function(){var u=this.unpack_uint8();return u<128?u:u-256},s.prototype.unpack_int16=function(){var u=this.unpack_uint16();return u<32768?u:u-65536},s.prototype.unpack_int32=function(){var u=this.unpack_uint32();return u<Math.pow(2,31)?u:u-Math.pow(2,32)},s.prototype.unpack_int64=function(){var u=this.unpack_uint64();return u<Math.pow(2,63)?u:u-Math.pow(2,64)},s.prototype.unpack_raw=function(u){if(this.length<this.index+u)throw new Error("BinaryPackFailure: index is out of range "+this.index+" "+u+" "+this.length);var p=this.dataBuffer.slice(this.index,this.index+u);return this.index+=u,p},s.prototype.unpack_string=function(u){for(var p=this.read(u),h=0,v="",y,b;h<u;)y=p[h],y<128?(v+=String.fromCharCode(y),h++):(y^192)<32?(b=(y^192)<<6|p[h+1]&63,v+=String.fromCharCode(b),h+=2):(b=(y&15)<<12|(p[h+1]&63)<<6|p[h+2]&63,v+=String.fromCharCode(b),h+=3);return this.index+=u,v},s.prototype.unpack_array=function(u){for(var p=new Array(u),h=0;h<u;h++)p[h]=this.unpack();return p},s.prototype.unpack_map=function(u){for(var p={},h=0;h<u;h++){var v=this.unpack(),y=this.unpack();p[v]=y}return p},s.prototype.unpack_float=function(){var u=this.unpack_uint32(),p=u>>31,h=(u>>23&255)-127,v=u&8388607|8388608;return(p===0?1:-1)*v*Math.pow(2,h-23)},s.prototype.unpack_double=function(){var u=this.unpack_uint32(),p=this.unpack_uint32(),h=u>>31,v=(u>>20&2047)-1023,y=u&1048575|1048576,b=y*Math.pow(2,v-20)+p*Math.pow(2,v-52);return(h===0?1:-1)*b},s.prototype.read=function(u){var p=this.index;if(p+u<=this.length)return this.dataView.subarray(p,p+u);throw new Error("BinaryPackFailure: read index out of range")};function l(){this.bufferBuilder=new n}l.prototype.getBuffer=function(){return this.bufferBuilder.getBuffer()},l.prototype.pack=function(u){var p=typeof u;if(p==="string")this.pack_string(u);else if(p==="number")Math.floor(u)===u?this.pack_integer(u):this.pack_double(u);else if(p==="boolean")u===!0?this.bufferBuilder.append(195):u===!1&&this.bufferBuilder.append(194);else if(p==="undefined")this.bufferBuilder.append(192);else if(p==="object")if(u===null)this.bufferBuilder.append(192);else{var h=u.constructor;if(h==Array)this.pack_array(u);else if(h==Blob||h==File||u instanceof Blob||u instanceof File)this.pack_bin(u);else if(h==ArrayBuffer)r.useArrayBufferView?this.pack_bin(new Uint8Array(u)):this.pack_bin(u);else if("BYTES_PER_ELEMENT"in u)r.useArrayBufferView?this.pack_bin(new Uint8Array(u.buffer)):this.pack_bin(u.buffer);else if(h==Object||h.toString().startsWith("class"))this.pack_object(u);else if(h==Date)this.pack_string(u.toString());else if(typeof u.toBinaryPack=="function")this.bufferBuilder.append(u.toBinaryPack());else throw new Error('Type "'+h.toString()+'" not yet supported')}else throw new Error('Type "'+p+'" not yet supported');this.bufferBuilder.flush()},l.prototype.pack_bin=function(u){var p=u.length||u.byteLength||u.size;if(p<=15)this.pack_uint8(160+p);else if(p<=65535)this.bufferBuilder.append(218),this.pack_uint16(p);else if(p<=4294967295)this.bufferBuilder.append(219),this.pack_uint32(p);else throw new Error("Invalid length");this.bufferBuilder.append(u)},l.prototype.pack_string=function(u){var p=d(u);if(p<=15)this.pack_uint8(176+p);else if(p<=65535)this.bufferBuilder.append(216),this.pack_uint16(p);else if(p<=4294967295)this.bufferBuilder.append(217),this.pack_uint32(p);else throw new Error("Invalid length");this.bufferBuilder.append(u)},l.prototype.pack_array=function(u){var p=u.length;if(p<=15)this.pack_uint8(144+p);else if(p<=65535)this.bufferBuilder.append(220),this.pack_uint16(p);else if(p<=4294967295)this.bufferBuilder.append(221),this.pack_uint32(p);else throw new Error("Invalid length");for(var h=0;h<p;h++)this.pack(u[h])},l.prototype.pack_integer=function(u){if(u>=-32&&u<=127)this.bufferBuilder.append(u&255);else if(u>=0&&u<=255)this.bufferBuilder.append(204),this.pack_uint8(u);else if(u>=-128&&u<=127)this.bufferBuilder.append(208),this.pack_int8(u);else if(u>=0&&u<=65535)this.bufferBuilder.append(205),this.pack_uint16(u);else if(u>=-32768&&u<=32767)this.bufferBuilder.append(209),this.pack_int16(u);else if(u>=0&&u<=4294967295)this.bufferBuilder.append(206),this.pack_uint32(u);else if(u>=-2147483648&&u<=2147483647)this.bufferBuilder.append(210),this.pack_int32(u);else if(u>=-9223372036854776e3&&u<=9223372036854776e3)this.bufferBuilder.append(211),this.pack_int64(u);else if(u>=0&&u<=18446744073709552e3)this.bufferBuilder.append(207),this.pack_uint64(u);else throw new Error("Invalid integer")},l.prototype.pack_double=function(u){var p=0;u<0&&(p=1,u=-u);var h=Math.floor(Math.log(u)/Math.LN2),v=u/Math.pow(2,h)-1,y=Math.floor(v*Math.pow(2,52)),b=Math.pow(2,32),_=p<<31|h+1023<<20|y/b&1048575,w=y%b;this.bufferBuilder.append(203),this.pack_int32(_),this.pack_int32(w)},l.prototype.pack_object=function(u){var p=Object.keys(u),h=p.length;if(h<=15)this.pack_uint8(128+h);else if(h<=65535)this.bufferBuilder.append(222),this.pack_uint16(h);else if(h<=4294967295)this.bufferBuilder.append(223),this.pack_uint32(h);else throw new Error("Invalid length");for(var v in u)u.hasOwnProperty(v)&&(this.pack(v),this.pack(u[v]))},l.prototype.pack_uint8=function(u){this.bufferBuilder.append(u)},l.prototype.pack_uint16=function(u){this.bufferBuilder.append(u>>8),this.bufferBuilder.append(u&255)},l.prototype.pack_uint32=function(u){var p=u&4294967295;this.bufferBuilder.append((p&4278190080)>>>24),this.bufferBuilder.append((p&16711680)>>>16),this.bufferBuilder.append((p&65280)>>>8),this.bufferBuilder.append(p&255)},l.prototype.pack_uint64=function(u){var p=u/Math.pow(2,32),h=u%Math.pow(2,32);this.bufferBuilder.append((p&4278190080)>>>24),this.bufferBuilder.append((p&16711680)>>>16),this.bufferBuilder.append((p&65280)>>>8),this.bufferBuilder.append(p&255),this.bufferBuilder.append((h&4278190080)>>>24),this.bufferBuilder.append((h&16711680)>>>16),this.bufferBuilder.append((h&65280)>>>8),this.bufferBuilder.append(h&255)},l.prototype.pack_int8=function(u){this.bufferBuilder.append(u&255)},l.prototype.pack_int16=function(u){this.bufferBuilder.append((u&65280)>>8),this.bufferBuilder.append(u&255)},l.prototype.pack_int32=function(u){this.bufferBuilder.append(u>>>24&255),this.bufferBuilder.append((u&16711680)>>>16),this.bufferBuilder.append((u&65280)>>>8),this.bufferBuilder.append(u&255)},l.prototype.pack_int64=function(u){var p=Math.floor(u/Math.pow(2,32)),h=u%Math.pow(2,32);this.bufferBuilder.append((p&4278190080)>>>24),this.bufferBuilder.append((p&16711680)>>>16),this.bufferBuilder.append((p&65280)>>>8),this.bufferBuilder.append(p&255),this.bufferBuilder.append((h&4278190080)>>>24),this.bufferBuilder.append((h&16711680)>>>16),this.bufferBuilder.append((h&65280)>>>8),this.bufferBuilder.append(h&255)};function c(u){var p=u.charCodeAt(0);return p<=2047?"00":p<=65535?"000":p<=2097151?"0000":p<=67108863?"00000":"000000"}function d(u){return u.length>600?new Blob([u]).size:u.replace(/[^\u0000-\u007F]/g,c).length}}}),gy=Bw({"node_modules/eventemitter3/index.js"(e,t){var n=Object.prototype.hasOwnProperty,r="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(r=!1));function s(u,p,h){this.fn=u,this.context=p,this.once=h||!1}function l(u,p,h,v,y){if(typeof h!="function")throw new TypeError("The listener must be a function");var b=new s(h,v||u,y),_=r?r+p:p;return u._events[_]?u._events[_].fn?u._events[_]=[u._events[_],b]:u._events[_].push(b):(u._events[_]=b,u._eventsCount++),u}function c(u,p){--u._eventsCount===0?u._events=new i:delete u._events[p]}function d(){this._events=new i,this._eventsCount=0}d.prototype.eventNames=function(){var p=[],h,v;if(this._eventsCount===0)return p;for(v in h=this._events)n.call(h,v)&&p.push(r?v.slice(1):v);return Object.getOwnPropertySymbols?p.concat(Object.getOwnPropertySymbols(h)):p},d.prototype.listeners=function(p){var h=r?r+p:p,v=this._events[h];if(!v)return[];if(v.fn)return[v.fn];for(var y=0,b=v.length,_=new Array(b);y<b;y++)_[y]=v[y].fn;return _},d.prototype.listenerCount=function(p){var h=r?r+p:p,v=this._events[h];return v?v.fn?1:v.length:0},d.prototype.emit=function(p,h,v,y,b,_){var w=r?r+p:p;if(!this._events[w])return!1;var T=this._events[w],k=arguments.length,R,M;if(T.fn){switch(T.once&&this.removeListener(p,T.fn,void 0,!0),k){case 1:return T.fn.call(T.context),!0;case 2:return T.fn.call(T.context,h),!0;case 3:return T.fn.call(T.context,h,v),!0;case 4:return T.fn.call(T.context,h,v,y),!0;case 5:return T.fn.call(T.context,h,v,y,b),!0;case 6:return T.fn.call(T.context,h,v,y,b,_),!0}for(M=1,R=new Array(k-1);M<k;M++)R[M-1]=arguments[M];T.fn.apply(T.context,R)}else{var E=T.length,O;for(M=0;M<E;M++)switch(T[M].once&&this.removeListener(p,T[M].fn,void 0,!0),k){case 1:T[M].fn.call(T[M].context);break;case 2:T[M].fn.call(T[M].context,h);break;case 3:T[M].fn.call(T[M].context,h,v);break;case 4:T[M].fn.call(T[M].context,h,v,y);break;default:if(!R)for(O=1,R=new Array(k-1);O<k;O++)R[O-1]=arguments[O];T[M].fn.apply(T[M].context,R)}}return!0},d.prototype.on=function(p,h,v){return l(this,p,h,v,!1)},d.prototype.once=function(p,h,v){return l(this,p,h,v,!0)},d.prototype.removeListener=function(p,h,v,y){var b=r?r+p:p;if(!this._events[b])return this;if(!h)return c(this,b),this;var _=this._events[b];if(_.fn)_.fn===h&&(!y||_.once)&&(!v||_.context===v)&&c(this,b);else{for(var w=0,T=[],k=_.length;w<k;w++)(_[w].fn!==h||y&&!_[w].once||v&&_[w].context!==v)&&T.push(_[w]);T.length?this._events[b]=T.length===1?T[0]:T:c(this,b)}return this},d.prototype.removeAllListeners=function(p){var h;return p?(h=r?r+p:p,this._events[h]&&c(this,h)):(this._events=new i,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=r,d.EventEmitter=d,typeof t<"u"&&(t.exports=d)}}),E5=$p(pW()),gW={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"turn:0.peerjs.com:3478",username:"peerjs",credential:"peerjsp"}],sdpSemantics:"unified-plan"},Zn=new class{constructor(){this.CLOUD_HOST="0.peerjs.com",this.CLOUD_PORT=443,this.chunkedMTU=16300,this.defaultConfig=gW,this.pack=E5.pack,this.unpack=E5.unpack,this._dataCount=1}validateId(e){return!e||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(e)}chunk(e){const t=[],n=e.size,r=Math.ceil(n/Zn.chunkedMTU);let i=0,s=0;for(;s<n;){const l=Math.min(n,s+Zn.chunkedMTU),c=e.slice(s,l),d={__peerData:this._dataCount,n:i,data:c,total:r};t.push(d),s=l,i++}return this._dataCount++,t}blobToArrayBuffer(e,t,n){const r=new e;return r.onload=function(i){i.target&&n(i.target.result)},r.readAsArrayBuffer(t),r}binaryStringToArrayBuffer(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n)&255;return t.buffer}randomToken(){return Math.random().toString(36).substr(2)}isSecure(){return location.protocol==="https:"}},mW=$p(gy()),vW="PeerJS: ",yW=class{constructor(){this._logLevel=0}get logLevel(){return this._logLevel}set logLevel(e){this._logLevel=e}log(...e){this._logLevel>=3&&this._print(3,...e)}warn(...e){this._logLevel>=2&&this._print(2,...e)}error(...e){this._logLevel>=1&&this._print(1,...e)}setLogFunction(e){this._print=e}_print(e,...t){const n=[vW,...t];for(let r in n)n[r]instanceof Error&&(n[r]="("+n[r].name+") "+n[r].message);e>=3?console.log(...n):e>=2?console.warn("WARNING",...n):e>=1&&console.error("ERROR",...n)}},Ke=new yW,AW=$p(gy()),bW=class extends AW.EventEmitter{constructor({secure:e,host:t,port:n,path:r,key:i,pingInterval:s=5e3,polyfills:l}){super(),this._disconnected=!0,this._id=null,this._messagesQueue=[],this.alive=!1,this._destroyed=!1;var c;this.pingInterval=s;const d=e?"wss://":"ws://";this._baseUrl=d+t+":"+n+r+"peerjs?key="+i,this.WebSocketConstructor=(c=l==null?void 0:l.WebSocket)!=null?c:window.WebSocket}get messagesQueue(){return this._messagesQueue}get destroyed(){return this._destroyed}start(e,t){if(this._destroyed)throw new Error("Socket was destroyed!");if(this._id=e,this._socket||!this._disconnected)return;const n=`${this._baseUrl}&id=${e}&token=${t}`;this._socket=new this.WebSocketConstructor(n),this._disconnected=!1,this._socket.onmessage=r=>{if(this._destroyed)return;let i;try{i=JSON.parse(r.data),Ke.log("Server message received:",i)}catch{Ke.log("Invalid server message",r.data);return}this.emit("message",i)},this._socket.onclose=r=>{this._disconnected||this._destroyed||(Ke.log("Socket closed.",r),this._cleanup(),this._disconnected=!0,this.emit("disconnected"))},this._socket.onopen=()=>{this._disconnected||this._destroyed||(Ke.log("Socket open"),this.emit("open"),this._sendQueuedMessages(),this._scheduleHeartbeat())}}_scheduleHeartbeat(){this._wsPingTimer=setTimeout(()=>{this._sendHeartbeat()},this.pingInterval)}_sendHeartbeat(){if(this._destroyed)return;if(!this._wsOpen()){Ke.log("Cannot send heartbeat, because socket closed");return}const e=JSON.stringify({type:"HEARTBEAT"});this._socket.send(e),this._scheduleHeartbeat()}_wsOpen(){return!!this._socket&&this._socket.readyState===1}_sendQueuedMessages(){const e=[...this._messagesQueue];this._messagesQueue=[];for(const t of e)this.send(t);e.length>0&&Ke.log(`${e.length} queued messages was sent`)}send(e){if(this._destroyed)throw new Error("Socket was destroyed!");if(!e.type){this.emit("error","Invalid message");return}if(!this.alive)return;if(this._id==null||!this._wsOpen()){this._messagesQueue.push(e);return}const t=JSON.stringify(e);this._socket.send(t)}close(){this._disconnected||(this._cleanup(),this._id=null,this._disconnected=!0)}_cleanup(){this._socket&&(this._socket.onopen=this._socket.onmessage=this._socket.onclose=null,this._socket.close(),this._socket=void 0),clearTimeout(this._wsPingTimer)}destroy(){this._destroyed||(this.close(),this._messagesQueue.length=0,this._destroyed=!0)}};function _W(){}var q4=class{constructor(e){this.connection=e}get webRtc(){var e,t;return(t=(e=this.connection.provider.options.polyfills)==null?void 0:e.WebRTC)!=null?t:window}startConnection(e){const t=this._startPeerConnection();if(this.connection.peerConnection=t,this.connection.type==="media"&&e._stream&&this._addTracksToConnection(e._stream,t),e.originator){if(this.connection.type==="data"){const n=this.connection,r={ordered:!!e.reliable},i=t.createDataChannel(n.label,r);n.initialize(i)}this._makeOffer()}else this.handleSDP("OFFER",e.sdp)}_startPeerConnection(){Ke.log("Creating RTCPeerConnection.");const e=this.webRtc.RTCPeerConnection,t=new e(this.connection.provider.options.config);return this._setupListeners(t),t}_setupListeners(e){const t=this.connection.peer,n=this.connection.connectionId,r=this.connection.type,i=this.connection.provider;Ke.log("Listening for ICE candidates, remote streams and data channels."),e.onicecandidate=s=>{!s.candidate||!s.candidate.candidate||(Ke.log(`Received ICE candidates for ${t}:`,s.candidate),i.socket.send({type:"CANDIDATE",payload:{candidate:s.candidate,type:r,connectionId:n},dst:t}))},e.oniceconnectionstatechange=()=>{switch(e.iceConnectionState){case"failed":Ke.log("iceConnectionState is failed, closing connections to "+t),this.connection.emit("error",new Error("Negotiation of connection to "+t+" failed.")),this.connection.close();break;case"closed":Ke.log("iceConnectionState is closed, closing connections to "+t),this.connection.emit("error",new Error("Connection to "+t+" closed.")),this.connection.close();break;case"connected":Ke.log("iceConnectionState changed to connected on the connection with "+t);break;case"disconnected":Ke.log("iceConnectionState changed to disconnected on the connection with "+t);break;case"completed":Ke.log("iceConnectionState changed to completed on the connection with "+t),e.onicecandidate=_W;break}this.connection.emit("iceStateChanged",e.iceConnectionState)},e.ondatachannel=s=>{Ke.log("Received data channel");const l=s.channel;i.getConnection(t,n).initialize(l)},e.ontrack=s=>{Ke.log("Received remote stream");const l=s.streams[0],c=i.getConnection(t,n);if(c.type==="media"){const d=c;this._addStreamToMediaConnection(l,d)}}}cleanup(){Ke.log("Cleaning up PeerConnection to "+this.connection.peer);const e=this.connection.peerConnection;if(!e)return;this.connection.peerConnection=null,e.onicecandidate=e.oniceconnectionstatechange=e.ondatachannel=e.ontrack=null;const t=e.signalingState!=="closed";let n=!1;if(this.connection.type==="data"){const i=this.connection.dataChannel;i&&(n=!!i.readyState&&i.readyState!=="closed")}(t||n)&&e.close()}_makeOffer(){return hd(this,null,function*(){const e=this.connection.peerConnection,t=this.connection.provider;try{const n=yield e.createOffer(this.connection.options.constraints);if(e.signalingState==="closed")return;Ke.log("Created offer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(n.sdp=this.connection.options.sdpTransform(n.sdp)||n.sdp);try{yield e.setLocalDescription(n),Ke.log("Set localDescription:",n,`for:${this.connection.peer}`);let r={sdp:n,type:this.connection.type,connectionId:this.connection.connectionId,metadata:this.connection.metadata};if(this.connection.type==="data"){const i=this.connection;r=H4(Dw({},r),{label:i.label,reliable:i.reliable,serialization:i.serialization})}t.socket.send({type:"OFFER",payload:r,dst:this.connection.peer})}catch(r){r!="OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"&&(t.emitError("webrtc",r),Ke.log("Failed to setLocalDescription, ",r))}}catch(n){t.emitError("webrtc",n),Ke.log("Failed to createOffer, ",n)}})}_makeAnswer(){return hd(this,null,function*(){const e=this.connection.peerConnection,t=this.connection.provider;try{const n=yield e.createAnswer();if(e.signalingState==="closed")return;Ke.log("Created answer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(n.sdp=this.connection.options.sdpTransform(n.sdp)||n.sdp);try{yield e.setLocalDescription(n),Ke.log("Set localDescription:",n,`for:${this.connection.peer}`),t.socket.send({type:"ANSWER",payload:{sdp:n,type:this.connection.type,connectionId:this.connection.connectionId},dst:this.connection.peer})}catch(r){t.emitError("webrtc",r),Ke.log("Failed to setLocalDescription, ",r)}}catch(n){t.emitError("webrtc",n),Ke.log("Failed to create answer, ",n)}})}handleSDP(e,t){return hd(this,null,function*(){const n=this.webRtc.RTCSessionDescription;t=new n(t);const r=this.connection.peerConnection,i=this.connection.provider;Ke.log("Setting remote description",t);const s=this;try{yield r.setRemoteDescription(t),Ke.log(`Set remoteDescription:${e} for:${this.connection.peer}`),e==="OFFER"&&(yield s._makeAnswer())}catch(l){i.emitError("webrtc",l),Ke.log("Failed to setRemoteDescription, ",l)}})}handleCandidate(e){return hd(this,null,function*(){Ke.log("handleCandidate:",e);const t=e.candidate,n=e.sdpMLineIndex,r=e.sdpMid,i=this.connection.peerConnection,s=this.connection.provider;try{const l=this.webRtc.RTCIceCandidate;yield i.addIceCandidate(new l({sdpMid:r,sdpMLineIndex:n,candidate:t})),Ke.log(`Added ICE candidate for:${this.connection.peer}`)}catch(l){s.emitError("webrtc",l),Ke.log("Failed to handleCandidate, ",l)}})}_addTracksToConnection(e,t){if(Ke.log(`add tracks from stream ${e.id} to peer connection`),!t.addTrack)return Ke.error("Your browser does't support RTCPeerConnection#addTrack. Ignored.");e.getTracks().forEach(n=>{t.addTrack(n,e)})}_addStreamToMediaConnection(e,t){Ke.log(`add stream ${e.id} to media connection ${t.connectionId}`),t.addStream(e)}},SW=$p(gy()),G4=class extends SW.EventEmitter{constructor(e,t,n){super(),this.peer=e,this.provider=t,this.options=n,this._open=!1,this.metadata=n.metadata}get open(){return this._open}},Y4=class extends G4{get type(){return"media"}get localStream(){return this._localStream}get remoteStream(){return this._remoteStream}constructor(e,t,n){super(e,t,n),this._localStream=this.options._stream,this.connectionId=this.options.connectionId||Y4.ID_PREFIX+Zn.randomToken(),this._negotiator=new q4(this),this._localStream&&this._negotiator.startConnection({_stream:this._localStream,originator:!0})}addStream(e){Ke.log("Receiving stream",e),this._remoteStream=e,super.emit("stream",e)}handleMessage(e){const t=e.type,n=e.payload;switch(e.type){case"ANSWER":this._negotiator.handleSDP(t,n.sdp),this._open=!0;break;case"CANDIDATE":this._negotiator.handleCandidate(n.candidate);break;default:Ke.warn(`Unrecognized message type:${t} from peer:${this.peer}`);break}}answer(e,t={}){if(this._localStream){Ke.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");return}this._localStream=e,t&&t.sdpTransform&&(this.options.sdpTransform=t.sdpTransform),this._negotiator.startConnection(H4(Dw({},this.options._payload),{_stream:e}));const n=this.provider._getMessages(this.connectionId);for(let r of n)this.handleMessage(r);this._open=!0}close(){this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this._localStream=null,this._remoteStream=null,this.provider&&(this.provider._removeConnection(this),this.provider=null),this.options&&this.options._stream&&(this.options._stream=null),this.open&&(this._open=!1,super.emit("close"))}},XS=Y4;XS.ID_PREFIX="mc_";var xW=$p(gy()),wW=class extends xW.EventEmitter{constructor(e){super(),this.fileReader=e,this._queue=[],this._processing=!1,this.fileReader.onload=t=>{this._processing=!1,t.target&&this.emit("done",t.target.result),this.doNextTask()},this.fileReader.onerror=t=>{Ke.error("EncodingQueue error:",t),this._processing=!1,this.destroy(),this.emit("error",t)}}get queue(){return this._queue}get size(){return this.queue.length}get processing(){return this._processing}enque(e){this.queue.push(e),!this.processing&&this.doNextTask()}destroy(){this.fileReader.abort(),this._queue=[]}doNextTask(){this.size!==0&&(this.processing||(this._processing=!0,this.fileReader.readAsArrayBuffer(this.queue.shift())))}},JS=class extends G4{constructor(e,t,n){super(e,t,n),this.stringify=JSON.stringify,this.parse=JSON.parse,this._buffer=[],this._bufferSize=0,this._buffering=!1,this._chunkedData={};var r,i;this.connectionId=this.options.connectionId||JS.ID_PREFIX+Zn.randomToken(),this.label=this.options.label||this.connectionId,this.serialization=this.options.serialization||"binary",this.reliable=!!this.options.reliable,this.FileReaderCtr=(i=(r=t.options.polyfills)==null?void 0:r.FileReader)!=null?i:window.FileReader,this._encodingQueue=new wW(new this.FileReaderCtr),this._encodingQueue.on("done",s=>{this._bufferedSend(s)}),this._encodingQueue.on("error",()=>{Ke.error(`DC#${this.connectionId}: Error occured in encoding from blob to arraybuffer, close DC`),this.close()}),this._negotiator=new q4(this),this._negotiator.startConnection(this.options._payload||{originator:!0})}get type(){return"data"}get dataChannel(){return this._dc}get bufferSize(){return this._bufferSize}initialize(e){this._dc=e,this._configureDataChannel()}_configureDataChannel(){(!this.provider.features.binaryBlob||this.provider.features.reliable)&&(this.dataChannel.binaryType="arraybuffer"),this.dataChannel.onopen=()=>{Ke.log(`DC#${this.connectionId} dc connection success`),this._open=!0,this.emit("open")},this.dataChannel.onmessage=e=>{Ke.log(`DC#${this.connectionId} dc onmessage:`,e.data),this._handleDataMessage(e)},this.dataChannel.onclose=()=>{Ke.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}_handleDataMessage({data:e}){const t=e.constructor,n=this.serialization==="binary"||this.serialization==="binary-utf8";let r=e;if(n){if(t===Blob){Zn.blobToArrayBuffer(this.FileReaderCtr,e,i=>{const s=Zn.unpack(i);this.emit("data",s)});return}else if(t===ArrayBuffer)r=Zn.unpack(e);else if(t===String){const i=Zn.binaryStringToArrayBuffer(e);r=Zn.unpack(i)}}else this.serialization==="json"&&(r=this.parse(e));if(r.__peerData){this._handleChunk(r);return}super.emit("data",r)}_handleChunk(e){const t=e.__peerData,n=this._chunkedData[t]||{data:[],count:0,total:e.total};if(n.data[e.n]=e.data,n.count++,this._chunkedData[t]=n,n.total===n.count){delete this._chunkedData[t];const r=new Blob(n.data);this._handleDataMessage({data:r})}}close(){this._buffer=[],this._bufferSize=0,this._chunkedData={},this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this.provider&&(this.provider._removeConnection(this),this.provider=null),this.dataChannel&&(this.dataChannel.onopen=null,this.dataChannel.onmessage=null,this.dataChannel.onclose=null,this._dc=null),this._encodingQueue&&(this._encodingQueue.destroy(),this._encodingQueue.removeAllListeners(),this._encodingQueue=null),this.open&&(this._open=!1,super.emit("close"))}send(e,t){if(!this.open){super.emit("error",new Error("Connection is not open. You should listen for the `open` event before sending messages."));return}if(this.serialization==="json")this._bufferedSend(this.stringify(e));else if(this.serialization==="binary"||this.serialization==="binary-utf8"){const n=Zn.pack(e);if(!t&&n.size>Zn.chunkedMTU){this._sendChunks(n);return}this.provider.features.binaryBlob?this._bufferedSend(n):this._encodingQueue.enque(n)}else this._bufferedSend(e)}_bufferedSend(e){(this._buffering||!this._trySend(e))&&(this._buffer.push(e),this._bufferSize=this._buffer.length)}_trySend(e){if(!this.open)return!1;if(this.dataChannel.bufferedAmount>JS.MAX_BUFFERED_AMOUNT)return this._buffering=!0,setTimeout(()=>{this._buffering=!1,this._tryBuffer()},50),!1;try{this.dataChannel.send(e)}catch(t){return Ke.error(`DC#:${this.connectionId} Error when sending:`,t),this._buffering=!0,this.close(),!1}return!0}_tryBuffer(){if(!this.open||this._buffer.length===0)return;const e=this._buffer[0];this._trySend(e)&&(this._buffer.shift(),this._bufferSize=this._buffer.length,this._tryBuffer())}_sendChunks(e){const t=Zn.chunk(e);Ke.log(`DC#${this.connectionId} Try to send ${t.length} chunks...`);for(let n of t)this.send(n,!0)}handleMessage(e){const t=e.payload;switch(e.type){case"ANSWER":this._negotiator.handleSDP(e.type,t.sdp);break;case"CANDIDATE":this._negotiator.handleCandidate(t.candidate);break;default:Ke.warn("Unrecognized message type:",e.type,"from peer:",this.peer);break}}},gv=JS;gv.ID_PREFIX="dc_";gv.MAX_BUFFERED_AMOUNT=8*1024*1024;var EW=class{constructor(e){this._options=e}_request(e){var t,n;return((n=(t=this._options.polyfills)==null?void 0:t.fetch)!=null?n:window.fetch)(e)}_buildUrl(e){let n=(this._options.secure?"https://":"http://")+this._options.host+":"+this._options.port+this._options.path+this._options.key+"/"+e;const r="?ts="+new Date().getTime()+Math.random();return n+=r,n}retrieveId(){return hd(this,null,function*(){const e=this._buildUrl("id");try{const t=yield this._request(e);if(t.status!==200)throw new Error(`Error. Status:${t.status}`);return t.text()}catch(t){Ke.error("Error retrieving ID",t);let n="";throw this._options.path==="/"&&this._options.host!==Zn.CLOUD_HOST&&(n=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),new Error("Could not get an ID from the server."+n)}})}listAllPeers(){return hd(this,null,function*(){const e=this._buildUrl("peers");try{const t=yield this._request(e);if(t.status!==200){if(t.status===401){let n="";throw this._options.host===Zn.CLOUD_HOST?n="It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":n="You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.",new Error("It doesn't look like you have permission to list peers IDs. "+n)}throw new Error(`Error. Status:${t.status}`)}return t.json()}catch(t){throw Ke.error("Error retrieving list peers",t),new Error("Could not get list peers from the server."+t)}})}},TW={isUnifiedPlanSupported(e){if(!e&&typeof window<"u"&&(e=window),typeof e.RTCRtpTransceiver>"u"||!("currentDirection"in e.RTCRtpTransceiver.prototype))return!1;let t,n=!1;try{t=new e.RTCPeerConnection,t.addTransceiver("audio"),n=!0}catch{}finally{t&&t.close()}return n}},hc=class extends mW.EventEmitter{constructor(e,t){super(),this._id=null,this._lastServerId=null,this._destroyed=!1,this._disconnected=!1,this._open=!1,this._connections=new Map,this._lostMessages=new Map;var n;let r;if(e&&e.constructor==Object?t=e:e&&(r=e.toString()),t=Dw({debug:0,host:Zn.CLOUD_HOST,port:Zn.CLOUD_PORT,path:"/",key:hc.DEFAULT_KEY,token:Zn.randomToken(),config:Zn.defaultConfig},t),this._options=t,typeof window<"u"&&this._options.host==="/"&&(this._options.host=window.location.hostname),this._options.path&&(this._options.path[0]!=="/"&&(this._options.path="/"+this._options.path),this._options.path[this._options.path.length-1]!=="/"&&(this._options.path+="/")),this._options.secure===void 0&&this._options.host!==Zn.CLOUD_HOST?this._options.secure=Zn.isSecure():this._options.host==Zn.CLOUD_HOST&&(this._options.secure=!0),this._options.logFunction&&Ke.setLogFunction(this._options.logFunction),Ke.logLevel=this._options.debug||0,this._api=new EW(t),this._socket=this._createServerConnection(),this.features=hc.getFeatures((n=this._options.polyfills)==null?void 0:n.WebRTC),!this.features.audioVideo&&!this.features.data){this._delayedAbort("browser-incompatible","The current browser does not support WebRTC");return}if(r&&!Zn.validateId(r)){this._delayedAbort("invalid-id",`ID "${r}" is invalid`);return}this.socket.alive=!0,r?this._initialize(r):this._api.retrieveId().then(i=>this._initialize(i)).catch(i=>this._abort("server-error",i))}get id(){return this._id}get options(){return this._options}get open(){return this._open}get socket(){return this._socket}get connections(){const e=Object.create(null);for(let[t,n]of this._connections)e[t]=n;return e}get destroyed(){return this._destroyed}get disconnected(){return this._disconnected}_createServerConnection(){const e=new bW(this._options);return e.on("message",t=>{this._handleMessage(t)}),e.on("error",t=>{this._abort("socket-error",t)}),e.on("disconnected",()=>{this.disconnected||(this.emitError("network","Lost connection to server."),this.disconnect())}),e.on("close",()=>{this.disconnected||this._abort("socket-closed","Underlying socket is already closed.")}),e}_initialize(e){this.destroyed||(this._id=e,this.socket.start(e,this._options.token))}_handleMessage(e){const t=e.type,n=e.payload,r=e.src;switch(t){case"OPEN":this._lastServerId=this.id,this._open=!0,this.emit("open",this.id);break;case"ERROR":this._abort("server-error",n.msg);break;case"ID-TAKEN":this._abort("unavailable-id",`ID "${this.id}" is taken`);break;case"INVALID-KEY":this._abort("invalid-key",`API KEY "${this._options.key}" is invalid`);break;case"LEAVE":Ke.log(`Received leave message from ${r}`),this._cleanupPeer(r),this._connections.delete(r);break;case"EXPIRE":this.emitError("peer-unavailable",`Could not connect to peer ${r}`);break;case"OFFER":{const i=n.connectionId;let s=this.getConnection(r,i);if(s&&(s.close(),Ke.warn(`Offer received for existing Connection ID:${i}`)),n.type==="media")s=new XS(r,this,{connectionId:i,_payload:n,metadata:n.metadata}),this._addConnection(r,s),this.emit("call",s);else if(n.type==="data")s=new gv(r,this,{connectionId:i,_payload:n,metadata:n.metadata,label:n.label,serialization:n.serialization,reliable:n.reliable}),this._addConnection(r,s),this.emit("connection",s);else{Ke.warn(`Received malformed connection type:${n.type}`);return}const l=this._getMessages(i);for(let c of l)s.handleMessage(c);break}default:{if(!n){Ke.warn(`You received a malformed message from ${r} of type ${t}`);return}const i=n.connectionId,s=this.getConnection(r,i);s&&s.peerConnection?s.handleMessage(e):i?this._storeMessage(i,e):Ke.warn("You received an unrecognized message:",e);break}}}_storeMessage(e,t){this._lostMessages.has(e)||this._lostMessages.set(e,[]),this._lostMessages.get(e).push(t)}_getMessages(e){const t=this._lostMessages.get(e);return t?(this._lostMessages.delete(e),t):[]}connect(e,t={}){if(this.disconnected){Ke.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),this.emitError("disconnected","Cannot connect to new Peer after disconnecting from server.");return}const n=new gv(e,this,t);return this._addConnection(e,n),n}call(e,t,n={}){if(this.disconnected){Ke.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),this.emitError("disconnected","Cannot connect to new Peer after disconnecting from server.");return}if(!t){Ke.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.");return}n._stream=t;const r=new XS(e,this,n);return this._addConnection(e,r),r}_addConnection(e,t){Ke.log(`add connection ${t.type}:${t.connectionId} to peerId:${e}`),this._connections.has(e)||this._connections.set(e,[]),this._connections.get(e).push(t)}_removeConnection(e){const t=this._connections.get(e.peer);if(t){const n=t.indexOf(e);n!==-1&&(t.splice(n,1),t.length===0&&this._connections.delete(e.peer))}this._lostMessages.delete(e.connectionId)}getConnection(e,t){const n=this._connections.get(e);if(!n)return null;for(let r of n)if(r.connectionId===t)return r;return null}_delayedAbort(e,t){setTimeout(()=>{this._abort(e,t)},0)}_abort(e,t){Ke.error("Aborting!"),this.emitError(e,t),this._lastServerId?this.disconnect():this.destroy()}emitError(e,t){Ke.error("Error:",t);let n;typeof t=="string"?n=new Error(t):n=t,n.type=e,this.emit("error",n)}destroy(){this.destroyed||(Ke.log(`Destroy peer with ID:${this.id}`),this.disconnect(),this._cleanup(),this.socket.destroy(),this._destroyed=!0,this.emit("close"))}_cleanup(){for(let e of this._connections.keys())this._cleanupPeer(e),this._connections.delete(e);this.socket.removeAllListeners()}_cleanupPeer(e){const t=this._connections.get(e);if(t)for(let n of t)n.close()}disconnect(){if(this.disconnected)return;const e=this.id;Ke.log(`Disconnect peer with ID:${e}`),this._disconnected=!0,this._open=!1,this.socket.alive=!1,this.socket.close(),this._lastServerId=e,this._id=null,this.emit("disconnected",e)}reconnect(){if(this.disconnected&&!this.destroyed)Ke.log(`Attempting reconnection to server with ID ${this._lastServerId}`),this._disconnected=!1,this.socket.alive=!0,this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error("This peer cannot reconnect to the server. It has already been destroyed.");if(!this.disconnected&&!this.open)Ke.error("In a hurry? We're still trying to make the initial connection!");else throw new Error(`Peer ${this.id} cannot reconnect because it is not disconnected from the server!`)}}listAllPeers(e=t=>{}){this._api.listAllPeers().then(t=>e(t)).catch(t=>this._abort("server-error",t))}static getFeatures(e){return!e&&typeof window<"u"&&(e=window),hc._features||(hc._features=hc.checkFeatures(e)),hc._features}static checkFeatures(e){!e&&typeof window<"u"&&(e=window);const t={webRTC:typeof e.RTCPeerConnection<"u",audioVideo:!0,data:!1,binaryBlob:!1,reliable:!1,unifiedPlan:!1};if(!t.webRTC)return t;let n;try{n=new e.RTCPeerConnection(Zn.defaultConfig);let r;try{r=n.createDataChannel("_PEERJSTEST",{ordered:!0}),t.data=!0,t.reliable=!!r.ordered;try{r.binaryType="blob",t.binaryBlob=!0}catch{}}catch{}finally{r&&r.close()}}catch{}finally{n&&n.close()}return t.unifiedPlan=TW.isUnifiedPlanSupported(e),t}},my=hc;my.DEFAULT_KEY="peerjs";typeof window<"u"&&(window.Peer=my);class CW extends Ys{constructor(){super(...arguments),this.name="PeerJS",this.peer=null,this.connectedPeers={},this.getCurrentPing=()=>0,this.disconnect=()=>{var t;(t=this.peer)==null||t.disconnect()}}connect(t,n,r){this.peer=new my(`allkaraoke-party-room-${t}`,z4),this.peer.on("open",function(i){n(),console.log("My peer ID is: "+i)}),this.peer.on("connection",i=>{this.connectedPeers[i.peer]=i,i.on("data",s=>{this.onUpdate(s,i)}),i.on("error",s=>console.warn("error",s)),i.on("iceStateChanged",s=>{(s==="disconnected"||s==="closed")&&(this.connectedPeers[i.peer]=i,this.onUpdate({t:"unregister"},i))}),i.on("close",()=>{delete this.connectedPeers[i.peer],Vt.removeRemoteMic(i.peer)})})}removePlayer(t){var n;(n=this.connectedPeers[t])==null||n.close()}}const K4="wss://allkaraoke-posthog.fly.dev";class kW extends Ys{constructor(){super(),this.name="WebSockets",this.connection=null,this.disconnect=()=>{var t;(t=this.connection)==null||t.close()},this.latency=0,this.pingStart=Mi(),this.pinging=!1,this.pingTimeout=null,this.ping=()=>{var t;this.pinging=!0,this.pingStart=Mi(),(t=this.connection)==null||t.send(Fs({t:"ping"}))},this.onPong=()=>{this.pinging&&(this.latency=Mi()-this.pingStart,this.pinging=!1,this.pingTimeout&&clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(this.ping,5e3))},this.getCurrentPing=()=>this.pinging?Math.max(this.latency,Mi()-this.pingStart):this.latency}connect(t,n,r){this.connection=new WebSocket(K4),this.connection.binaryType="arraybuffer",this.connection.onopen=()=>{var i,s;(i=this.connection)==null||i.send(Fs({t:"register-room",id:t})),n(),this.ping(),(s=this.connection)==null||s.addEventListener("message",l=>{var d;const c=Zd(l.data);if(c.t==="forward"){["ping","pong","freq"].includes((d=c==null?void 0:c.payload)==null?void 0:d.t)||console.log("received",c);const{sender:u,payload:p}=c,h=new MW(u,this.connection);this.onUpdate(p,h)}else c.t==="pong"?this.onPong():console.warn("Unknown message type",c)})},this.connection.onclose=i=>{r(i.reason,i)}}removePlayer(t){var n;(n=this.connection)==null||n.send(Fs({t:"remove-player",id:t}))}}class MW{constructor(t,n){this.peer=t,this.socket=n,this.currentPing=0,this.send=r=>{const i={t:"forward",recipients:[this.peer],payload:r};["ping","pong","freq"].includes(r==null?void 0:r.t)||console.log("sending",this.peer,r),this.socket.send(Fs(i))},this.callbacksMap=new Map,this.on=(r,i)=>{r==="data"&&(this.callbacksMap.set(i,s=>{const l=Zd(s.data);if(l.t==="forward"){const{sender:c,payload:d}=l;c===this.peer&&i(d)}}),this.socket.addEventListener("message",this.callbacksMap.get(i)))},this.off=(r,i)=>{if(r==="data"){const s=this.callbacksMap.get(i);this.socket.removeEventListener("message",s),this.callbacksMap.delete(i)}},this.close=()=>{this.socket.close()}}}var E0={exports:{}},RW=E0.exports,T5;function IW(){return T5||(T5=1,function(e,t){(function(n,r){e.exports=r()})(RW,function(){var n=1e3,r=6e4,i=36e5,s="millisecond",l="second",c="minute",d="hour",u="day",p="week",h="month",v="quarter",y="year",b="date",_="Invalid Date",w=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,T=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,k={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(q){var H=["th","st","nd","rd"],D=q%100;return"["+q+(H[(D-20)%10]||H[D]||H[0])+"]"}},R=function(q,H,D){var W=String(q);return!W||W.length>=H?q:""+Array(H+1-W.length).join(D)+q},M={s:R,z:function(q){var H=-q.utcOffset(),D=Math.abs(H),W=Math.floor(D/60),Q=D%60;return(H<=0?"+":"-")+R(W,2,"0")+":"+R(Q,2,"0")},m:function q(H,D){if(H.date()<D.date())return-q(D,H);var W=12*(D.year()-H.year())+(D.month()-H.month()),Q=H.clone().add(W,h),J=D-Q<0,B=H.clone().add(W+(J?-1:1),h);return+(-(W+(D-Q)/(J?Q-B:B-Q))||0)},a:function(q){return q<0?Math.ceil(q)||0:Math.floor(q)},p:function(q){return{M:h,y,w:p,d:u,D:b,h:d,m:c,s:l,ms:s,Q:v}[q]||String(q||"").toLowerCase().replace(/s$/,"")},u:function(q){return q===void 0}},E="en",O={};O[E]=k;var j="$isDayjsObject",P=function(q){return q instanceof U||!(!q||!q[j])},V=function q(H,D,W){var Q;if(!H)return E;if(typeof H=="string"){var J=H.toLowerCase();O[J]&&(Q=J),D&&(O[J]=D,Q=J);var B=H.split("-");if(!Q&&B.length>1)return q(B[0])}else{var G=H.name;O[G]=H,Q=G}return!W&&Q&&(E=Q),Q||!W&&E},C=function(q,H){if(P(q))return q.clone();var D=typeof H=="object"?H:{};return D.date=q,D.args=arguments,new U(D)},N=M;N.l=V,N.i=P,N.w=function(q,H){return C(q,{locale:H.$L,utc:H.$u,x:H.$x,$offset:H.$offset})};var U=function(){function q(D){this.$L=V(D.locale,null,!0),this.parse(D),this.$x=this.$x||D.x||{},this[j]=!0}var H=q.prototype;return H.parse=function(D){this.$d=function(W){var Q=W.date,J=W.utc;if(Q===null)return new Date(NaN);if(N.u(Q))return new Date;if(Q instanceof Date)return new Date(Q);if(typeof Q=="string"&&!/Z$/i.test(Q)){var B=Q.match(w);if(B){var G=B[2]-1||0,ee=(B[7]||"0").substring(0,3);return J?new Date(Date.UTC(B[1],G,B[3]||1,B[4]||0,B[5]||0,B[6]||0,ee)):new Date(B[1],G,B[3]||1,B[4]||0,B[5]||0,B[6]||0,ee)}}return new Date(Q)}(D),this.init()},H.init=function(){var D=this.$d;this.$y=D.getFullYear(),this.$M=D.getMonth(),this.$D=D.getDate(),this.$W=D.getDay(),this.$H=D.getHours(),this.$m=D.getMinutes(),this.$s=D.getSeconds(),this.$ms=D.getMilliseconds()},H.$utils=function(){return N},H.isValid=function(){return this.$d.toString()!==_},H.isSame=function(D,W){var Q=C(D);return this.startOf(W)<=Q&&Q<=this.endOf(W)},H.isAfter=function(D,W){return C(D)<this.startOf(W)},H.isBefore=function(D,W){return this.endOf(W)<C(D)},H.$g=function(D,W,Q){return N.u(D)?this[W]:this.set(Q,D)},H.unix=function(){return Math.floor(this.valueOf()/1e3)},H.valueOf=function(){return this.$d.getTime()},H.startOf=function(D,W){var Q=this,J=!!N.u(W)||W,B=N.p(D),G=function(Re,ve){var je=N.w(Q.$u?Date.UTC(Q.$y,ve,Re):new Date(Q.$y,ve,Re),Q);return J?je:je.endOf(u)},ee=function(Re,ve){return N.w(Q.toDate()[Re].apply(Q.toDate("s"),(J?[0,0,0,0]:[23,59,59,999]).slice(ve)),Q)},ue=this.$W,F=this.$M,ge=this.$D,se="set"+(this.$u?"UTC":"");switch(B){case y:return J?G(1,0):G(31,11);case h:return J?G(1,F):G(0,F+1);case p:var Se=this.$locale().weekStart||0,Me=(ue<Se?ue+7:ue)-Se;return G(J?ge-Me:ge+(6-Me),F);case u:case b:return ee(se+"Hours",0);case d:return ee(se+"Minutes",1);case c:return ee(se+"Seconds",2);case l:return ee(se+"Milliseconds",3);default:return this.clone()}},H.endOf=function(D){return this.startOf(D,!1)},H.$set=function(D,W){var Q,J=N.p(D),B="set"+(this.$u?"UTC":""),G=(Q={},Q[u]=B+"Date",Q[b]=B+"Date",Q[h]=B+"Month",Q[y]=B+"FullYear",Q[d]=B+"Hours",Q[c]=B+"Minutes",Q[l]=B+"Seconds",Q[s]=B+"Milliseconds",Q)[J],ee=J===u?this.$D+(W-this.$W):W;if(J===h||J===y){var ue=this.clone().set(b,1);ue.$d[G](ee),ue.init(),this.$d=ue.set(b,Math.min(this.$D,ue.daysInMonth())).$d}else G&&this.$d[G](ee);return this.init(),this},H.set=function(D,W){return this.clone().$set(D,W)},H.get=function(D){return this[N.p(D)]()},H.add=function(D,W){var Q,J=this;D=Number(D);var B=N.p(W),G=function(F){var ge=C(J);return N.w(ge.date(ge.date()+Math.round(F*D)),J)};if(B===h)return this.set(h,this.$M+D);if(B===y)return this.set(y,this.$y+D);if(B===u)return G(1);if(B===p)return G(7);var ee=(Q={},Q[c]=r,Q[d]=i,Q[l]=n,Q)[B]||1,ue=this.$d.getTime()+D*ee;return N.w(ue,this)},H.subtract=function(D,W){return this.add(-1*D,W)},H.format=function(D){var W=this,Q=this.$locale();if(!this.isValid())return Q.invalidDate||_;var J=D||"YYYY-MM-DDTHH:mm:ssZ",B=N.z(this),G=this.$H,ee=this.$m,ue=this.$M,F=Q.weekdays,ge=Q.months,se=Q.meridiem,Se=function(ve,je,Ge,$e){return ve&&(ve[je]||ve(W,J))||Ge[je].slice(0,$e)},Me=function(ve){return N.s(G%12||12,ve,"0")},Re=se||function(ve,je,Ge){var $e=ve<12?"AM":"PM";return Ge?$e.toLowerCase():$e};return J.replace(T,function(ve,je){return je||function(Ge){switch(Ge){case"YY":return String(W.$y).slice(-2);case"YYYY":return N.s(W.$y,4,"0");case"M":return ue+1;case"MM":return N.s(ue+1,2,"0");case"MMM":return Se(Q.monthsShort,ue,ge,3);case"MMMM":return Se(ge,ue);case"D":return W.$D;case"DD":return N.s(W.$D,2,"0");case"d":return String(W.$W);case"dd":return Se(Q.weekdaysMin,W.$W,F,2);case"ddd":return Se(Q.weekdaysShort,W.$W,F,3);case"dddd":return F[W.$W];case"H":return String(G);case"HH":return N.s(G,2,"0");case"h":return Me(1);case"hh":return Me(2);case"a":return Re(G,ee,!0);case"A":return Re(G,ee,!1);case"m":return String(ee);case"mm":return N.s(ee,2,"0");case"s":return String(W.$s);case"ss":return N.s(W.$s,2,"0");case"SSS":return N.s(W.$ms,3,"0");case"Z":return B}return null}(ve)||B.replace(":","")})},H.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},H.diff=function(D,W,Q){var J,B=this,G=N.p(W),ee=C(D),ue=(ee.utcOffset()-this.utcOffset())*r,F=this-ee,ge=function(){return N.m(B,ee)};switch(G){case y:J=ge()/12;break;case h:J=ge();break;case v:J=ge()/3;break;case p:J=(F-ue)/6048e5;break;case u:J=(F-ue)/864e5;break;case d:J=F/i;break;case c:J=F/r;break;case l:J=F/n;break;default:J=F}return Q?J:N.a(J)},H.daysInMonth=function(){return this.endOf(h).$D},H.$locale=function(){return O[this.$L]},H.locale=function(D,W){if(!D)return this.$L;var Q=this.clone(),J=V(D,W,!0);return J&&(Q.$L=J),Q},H.clone=function(){return N.w(this.$d,this)},H.toDate=function(){return new Date(this.valueOf())},H.toJSON=function(){return this.isValid()?this.toISOString():null},H.toISOString=function(){return this.$d.toISOString()},H.toString=function(){return this.$d.toUTCString()},q}(),L=U.prototype;return C.prototype=L,[["$ms",s],["$s",l],["$m",c],["$H",d],["$W",u],["$M",h],["$y",y],["$D",b]].forEach(function(q){L[q[1]]=function(H){return this.$g(H,q[0],q[1])}}),C.extend=function(q,H){return q.$i||(q(H,U,C),q.$i=!0),C},C.locale=V,C.isDayjs=P,C.unix=function(q){return C(1e3*q)},C.en=O[E],C.Ls=O,C.p={},C})}(E0)),E0.exports}var OW=IW();const lo=Pr(OW);function ZS(e){return!!e}function jW(e){return[...Array(e).keys()]}const PW=250,C1=(e,t=0,n=1/0)=>e.filter(fn).filter(r=>wl([r])>=t).filter(r=>Sp([r])<=n).reduce((r,i)=>r+i.notes.reduce((s,l)=>s+l.length,0),0),VW=(e,t)=>{const[n,...r]=e.filter(fn),i=[[n]];return r.forEach(s=>{const l=i.at(-1),c=Sp(l);(wl([s])-c)*t>PW?i.push([s]):l.push(s)}),i},W4=(e,t)=>e+t,C5=e=>{const t=e.map(n=>n.reduce(W4,0));return Math.max(...t)-Math.min(...t)},DW=(e,t)=>{const n=JSON.parse(JSON.stringify(e)),r=s=>{if(n[s-1].length<2)return;const l=n[s-1].pop();n[s].push(l)},i=s=>{var d;if(((d=n[s+1])==null?void 0:d.length)<2)return;const[l,...c]=n[s+1];n[s].push(l),n[s+1]=c};return t%2===1?r(Math.ceil(t/2)):i(Math.ceil(t/2)),n},BW=e=>e.reduce(W4,0);function Nw(e,t){const r=df(t);if(e.sections.length<9)return[];const i=VW(e.sections,r);let s=[],l=[C1(i[0])];for(let c=0;c<i.length-2;c++){const d=i[s.flat().length-1]??[],p=C1(e.sections,Sp(d)??0)/(10-s.length),h=C1(i[c+1]),v=BW(l);v+h<p?l=[...l,h]:p-v<v+h-p?(s.push(l),l=[h]):(s.push([...l,h]),l=[])}for(let c=0;c<100;c++){const d=C5(s),u=jW((s.length-2)*2+2).map(y=>DW(s,y)),p=u.map(C5),h=Math.min(...p);if(d<=h)break;const v=p.indexOf(h);s=u[v]}return s.map(c=>c.length).reduce((c,d)=>[...c,(c.at(-1)??0)+d],[]).map(c=>Sp(i[c-1]))}var T0={exports:{}},NW=T0.exports,k5;function LW(){return k5||(k5=1,function(e,t){(function(n,r){e.exports=r()})(NW,function(){function n(r){return typeof r=="string"?r.replace(/[^A-Za-z0-9]/g,function(i){return n.characters[i]||i}):r}return n.characters={:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A","":"A",:"A","":"AA",:"AE",:"AE",:"AE","":"AO","":"AU","":"AV","":"AV","":"AY",:"B",:"B",:"B",:"B","":"B",:"B",:"C",:"C",:"C",:"C",:"C",:"C",:"C","":"C",:"D",:"D",:"D",:"D",:"D",:"D",:"D",:"D",:"D",:"D",:"D",:"D",:"DZ",:"DZ",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E","":"E",:"E",:"E","":"ET",:"F",:"F",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"H",:"H",:"H",:"H","":"H",:"H",:"H",:"H",:"H",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I","":"D","":"F","":"G","":"R","":"S","":"T","":"IS",:"J","":"J",:"K",:"K",:"K","":"K","":"K",:"K",:"K",:"K","":"K","":"K",:"L","":"L",:"L",:"L",:"L",:"L",:"L","":"L","":"L",:"L",:"L","":"L",:"L",:"L",:"LJ",:"M",:"M",:"M","":"M",:"N",:"N",:"N",:"N",:"N",:"N",:"N",:"N",:"N","":"N",:"N",:"N",:"NJ",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O","":"O","":"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"OI","":"OO",:"E",:"O",:"OU",:"P",:"P","":"P",:"P","":"P","":"P","":"P","":"Q","":"Q",:"R",:"R",:"R",:"R",:"R",:"R",:"R",:"R",:"R","":"R","":"R","":"C",:"E",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"ss",:"T",:"T",:"T",:"T","":"T",:"T",:"T",:"T",:"T",:"T",:"T","":"A","":"L",:"M","":"V","":"TZ",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U","":"V",:"V",:"V",:"V","":"VY",:"W",:"W",:"W",:"W",:"W",:"W","":"W",:"X",:"X",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y","":"Y",:"Y","":"Y",:"Y",:"YI",:"Z",:"Z",:"Z","":"Z",:"Z",:"Z",:"Z",:"Z",:"Z",:"TH",:"IJ",:"OE","":"A","":"AE",:"B","":"B","":"C","":"D","":"E","":"F",:"G",:"G",:"H",:"I",:"R","":"J","":"K",:"L","":"L","":"M",:"N","":"O",:"OE","":"O","":"OU","":"P",:"R","":"N","":"R","":"S","":"T","":"E","":"R","":"U","":"V","":"W",:"Y","":"Z",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a","":"a",:"a",:"a",:"a",:"a","":"a",:"a","":"aa",:"ae",:"ae",:"ae","":"ao","":"au","":"av","":"av","":"ay",:"b",:"b",:"b",:"b","":"b","":"b",:"b",:"b",:"o",:"c",:"c",:"c",:"c",:"c",:"c",:"c",:"c","":"c",:"d",:"d",:"d","":"d",:"d",:"d",:"d","":"d",:"d","":"d","":"d",:"d",:"d",:"d",:"d",:"i","":"j",:"j",:"j",:"dz",:"dz",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e","":"e",:"e","":"e","":"e",:"e",:"e","":"et",:"f",:"f","":"f","":"f",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"g","":"g",:"g",:"h",:"h",:"h",:"h","":"h",:"h",:"h",:"h",:"h",:"h",:"h",:"hv",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i","":"i",:"i",:"i",:"i",:"i","":"d","":"f","":"g","":"r","":"s","":"t","":"is",:"j",:"j",:"j","":"j",:"k",:"k",:"k","":"k","":"k",:"k",:"k",:"k","":"k","":"k","":"k",:"l",:"l",:"l",:"l",:"l",:"l","":"l",:"l",:"l","":"l","":"l",:"l",:"l",:"l","":"l",:"l",:"l",:"lj",:"s","":"s",:"s","":"s",:"m",:"m",:"m",:"m","":"m","":"m",:"n",:"n",:"n",:"n","":"n",:"n",:"n",:"n",:"n",:"n",:"n","":"n","":"n",:"n",:"n",:"nj",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o","":"o","":"o","":"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"oi","":"oo",:"e","":"e",:"o","":"o",:"ou",:"p",:"p","":"p",:"p","":"p","":"p","":"p","":"p","":"p","":"q",:"q","":"q","":"q",:"r",:"r",:"r",:"r",:"r",:"r",:"r",:"r","":"r",:"r",:"r",:"r","":"r","":"r","":"r",:"r","":"c","":"c",:"e",:"r",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"s","":"s","":"s","":"s",:"g","":"o","":"o","":"u",:"t",:"t",:"t",:"t","":"t",:"t","":"t",:"t",:"t",:"t",:"t","":"t",:"t",:"t",:"t","":"th",:"a","":"ae",:"e","":"g",:"h","":"h","":"h","":"i",:"k","":"l",:"m",:"m","":"oe",:"r",:"r",:"r","":"r",:"t",:"v",:"w",:"y","":"tz",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u","":"u",:"u",:"u",:"u",:"u","":"ue","":"um","":"v","":"v",:"v",:"v","":"v","":"v",:"v","":"vy",:"w",:"w",:"w",:"w",:"w",:"w","":"w",:"w",:"x",:"x","":"x",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y","":"y",:"y",:"y","":"y",:"y",:"yi",:"z",:"z",:"z",:"z","":"z",:"z",:"z",:"z",:"z","":"z","":"z",:"z",:"z","":"z",:"th",:"ff",:"ffi",:"ffl",:"fi",:"fl",:"ij",:"oe",:"st","":"a","":"e","":"i","":"j","":"o","":"r","":"u","":"v","":"x",:"YO",:"I",:"TS",:"U",:"K",:"E",:"N",:"G",:"G",:"SH",:"SCH",:"Z",:"H",:"'",:"yo",:"i",:"ts",:"u",:"k",:"e",:"n",:"g",:"g",:"sh",:"sch",:"z",:"h",:"'",:"F",:"I",:"V",:"a",:"P",:"R",:"O",:"L",:"D",:"ZH",:"E",:"f",:"i",:"v",:"a",:"p",:"r",:"o",:"l",:"d",:"zh",:"e",:"Ya",:"CH",:"S",:"M",:"I",:"T",:"'",:"B",:"YU",:"ya",:"ch",:"s",:"m",:"i",:"t",:"'",:"b",:"yu"},n})}(T0)),T0.exports}var FW=LW();const zW=Pr(FW),$W=/[^0-9a-z]/gi;function Ud(e){return Lw(e).toLowerCase().normalize("NFKD").replace($W,"")}function Lw(e){return zW(e)}function Q4(e){return Lw(e).toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+$/,"").replace(/^-+/,"").replace(/-+/g,"-")}function Fw(e){return e.id?e.id:Q4(`${e==null?void 0:e.artist}-${e==null?void 0:e.title}`)}const M5=(e,t,n)=>n>=e&&n<=t,R5=e=>e.notes.map(t=>t.lyrics).join(""),I5=e=>new Set(Ud(e)).size,UW=(e,t)=>{const n=e.reduce((i,s)=>`${i}${R5(s)}`,""),r=R5(t);return I5(n)/I5(r)<.5},HW=(e,t)=>{const n=t.start,r=$d(t),i=e.filter(l=>{const c=l.start,d=$d(l);return M5(n,r,c)||M5(n,r,d)||c<=n&&d>=r}),s=UW(i,t);return{section:t,shouldReplace:i.length===0||s,sectionsToRemove:i}};function X4(e,t){if(e){if(e.length===1)return e[0]}else return e;const n=e.map(l=>l.sections.filter(fn)),r=n[1].map(l=>HW(n[0],l));let i=[...n[0]];r.forEach((l,c)=>{l.shouldReplace&&(i=i.filter(d=>!l.sectionsToRemove.some(u=>u.start===d.start)),i.push(l.section))});const s={...e[0],sections:i.sort((l,c)=>l.start-c.start),changes:[]};return s.changes=Nw(s,t),s}const O5={R:"rap",F:"freestyle","*":"star",":":"normal",G:"rapstar"},qW={rap:"R",freestyle:"F",star:"*",normal:":",rapstar:"G"},GW=["TRACKNAMES","YEAR","EDITION","GENRE","LANGUAGE","VIDEOGAP","PREVIEWSTART","CREATOR","TITLE","ARTIST","BPM","GAP","ID","LASTUPDATE","VOLUME","REALBPM","PREVIEWEND","CREATORURL","SOURCEURL","ARTISTORIGIN","VIDEOID","ALLKARAOKE_ID","ALLKARAOKE_LASTUPDATE","ALLKARAOKE_VOLUME","ALLKARAOKE_REALBPM","ALLKARAOKE_PREVIEWEND","ALLKARAOKE_CREATORURL","ALLKARAOKE_SOURCEURL","ALLKARAOKE_ARTISTORIGIN","ALLKARAOKE_VIDEOID"];function YW(e){return e.split(`
`).filter(t=>t.startsWith("#")&&!GW.includes(t.substring(1).split(":")[0]))}function Mn(e,t,n="string"){const r=i=>{var c;const s=new RegExp(`#${i}\\:(.*)`),l=(c=e.match(s))==null?void 0:c[1];if(l!==void 0)return n==="number"?Number(l.replace(",","."))??0:n==="array"?l.split(", "):l.trim()};return t.map(r).filter(ZS).at(0)}function KW(e){var r;const t=Mn(e,["VIDEO"])??"",n=new RegExp("v=(.*?)(,|$)");return(r=t.match(n))==null?void 0:r[1]}const WW=/- -?\d+ -?\d+/;function j5(e){try{const t=new URL(e);return t.host==="youtu.be"?t.pathname.substring(1):t.host==="www.youtube.com"||t.host==="youtube.com"?t.searchParams.get("v"):null}catch{return null}}function QW(e,t){try{return JSON.parse(e)}catch{return t}}function XW(e){const t=Mn(e,["P1"]),n=Mn(e,["P2"]);return t||n?[t,n]:QW(Mn(e,["TRACKNAMES"]),[])}function JW(e,t,n,r,i){var y,b;const s=XW(e),l={year:Mn(e,["YEAR"]),artistOrigin:Mn(e,["ALLKARAOKE_ARTISTORIGIN","ARTISTORIGIN"]),lastUpdate:Mn(e,["ALLKARAOKE_LASTUPDATE","LASTUPDATE"]),edition:Mn(e,["EDITION"]),genre:Mn(e,["GENRE"]),videoGap:Mn(e,["VIDEOGAP"],"number"),realBpm:Mn(e,["ALLKARAOKE_REALBPM","REALBPM"],"number"),previewStart:Mn(e,["PREVIEWSTART"],"number"),previewEnd:Mn(e,["ALLKARAOKE_PREVIEWEND","PREVIEWEND"],"number"),volume:Mn(e,["ALLKARAOKE_VOLUME","VOLUME"],"number"),author:Mn(e,["CREATOR"])??n,authorUrl:Mn(e,["ALLKARAOKE_CREATORURL","CREATORURL"])??r,sourceUrl:Mn(e,["ALLKARAOKE_SOURCEURL","SOURCEURL"])??i};l.videoGap&&(l.videoGap=Math.floor(l.videoGap));const c=Mn(e,["TITLE"])??"",d=Mn(e,["ARTIST"])??"",u=Mn(e,["ALLKARAOKE_VIDEOID","VIDEOID"])??j5(Mn(e,["AUDIOURL"])??"")??j5(Mn(e,["VIDEOURL"])??"")??KW(e)??"",p={id:Mn(e,["ALLKARAOKE_ID","ID"])??Fw({title:c,artist:d}),title:c,artist:d,video:u,language:Mn(e,["LANGUAGE"],"array")??[],bpm:Number(((y=Mn(e,["BPM"]))==null?void 0:y.replace(",","."))??0),bar:4,gap:Number(((b=Mn(e,["GAP"]))==null?void 0:b.replace(",","."))??0),...l,tracks:[],unsupportedProps:YW(e),mergedTrack:{}};if((t==null?void 0:t.length)===11)p.video=t;else if(t)try{const _=new URL(t);p.video=_.searchParams.get("v")||"Invalid link"}catch(_){p.video=`Invalid link: ${_.message}`}let h=[],v=0;return e.split(`
`).forEach(_=>{if(_.startsWith("#"))return;const w=_.split(" ");if(Number(w[1])<v*.75&&h.length&&(s[p.tracks.length]?p.tracks.push({sections:h,name:s[p.tracks.length],changes:[]}):p.tracks.push({sections:h,changes:[]}),h=[]),WW.test(_)){const[,T,k]=w;h.push({start:Number(T),end:Number(k),type:"pause"}),h.push({start:Number(k),type:"notes",notes:[]}),v=Number(k)}else if(_.startsWith("-"))h.push({start:Number(_.split("-")[1].trim()),notes:[],type:"notes"});else if(Object.keys(O5).includes(_[0])){h.length===0&&(h=[{start:0,notes:[],type:"notes"}]);const T=h[h.length-1],[k,R,M,E,...O]=w;T.notes.push({type:O5[k]??"normal",start:Number(R),length:Number(M),pitch:Number(E),lyrics:O.join(" ")}),v=Number(w[1])}}),s[p.tracks.length]?p.tracks.push({sections:h,name:s[p.tracks.length],changes:[]}):p.tracks.push({sections:h,changes:[]}),p.tracks=p.tracks.map(_=>({..._,sections:_.sections.filter(w=>w.type==="pause"||w.notes.length),changes:[]})).map(_=>({..._,changes:Nw(_,p)})),p.mergedTrack=X4(p.tracks,p),p}const J4="CURRENT_VISIT_KEY",Z4="LAST_VISIT_KEY",ZW=3*60*60*1e3,vy=Date.now();var Rj;const k1=Number(((Rj=st.local)==null?void 0:Rj.getItem(J4))??vy);var Ij;const eD=((Ij=st.local)==null?void 0:Ij.getItem("posthog-user-id"))===null,eQ=eD?vy:1673642382501;var Oj;let tD=Number(((Oj=st.local)==null?void 0:Oj.getItem(Z4))??eQ);var jj;(eD||vy-k1>ZW)&&((jj=st.local)==null||jj.setItem(Z4,String(k1)),tD=k1);var Pj;(Pj=st.local)==null||Pj.setItem(J4,String(vy));const tQ=e=>Ud(`${e.artist}${e.title}`),nQ=({bar:e,unsupportedProps:t,mergedTrack:n,...r},i=!1)=>({...r,id:Fw(r),language:Array.isArray(r.language)?r.language:[r.language],tracksCount:r.tracks.length,tracks:r.tracks.map(({name:s,sections:l})=>({name:s,start:wl(l)})),search:tQ(r),local:i});let wh=null;async function sl(){if(!wh)if("localStorage"in globalThis)try{wh=uf(async()=>{const{default:e}=await Promise.resolve().then(()=>fD);return{default:e}},void 0).then(({default:e})=>e.createInstance({name:"songs_v2"}))}catch(e){console.error(e),wh=Promise.resolve(st.memory)}else wh=Promise.resolve(st.memory);return wh}const Bm="DELETED_SONGS_V2";class rQ{constructor(){this.defaultIndex=null,this.finalIndex=null,this.indexWithDeletedSongs=null,this.store=async t=>{var n;await((n=await sl())==null?void 0:n.setItem(this.generateSongFile(t),{...t,lastUpdate:new Date().toISOString()})),await this.reloadIndex()},this.isOverridden=async t=>!!await this.getLocal(t),this.isBuiltIn=t=>{var n;return((n=this.defaultIndex)==null?void 0:n.some(r=>r.id===t))??!1},this.get=async t=>{const n=await this.getLocal(t);return n?{...n,local:!0}:await fetch(`/songs/${t}.txt`).then(r=>r.text()).then(JW).then(r=>({...r,local:!1}))},this.getIndex=async(t=!1)=>(this.finalIndex===null&&await this.reloadIndex(),t?this.indexWithDeletedSongs:this.finalIndex),this.getCurrentIndex=()=>this.finalIndex,this.getDeletedSongsList=async()=>{var n;return await((n=await sl())==null?void 0:n.getItem(Bm))??[]},this.generateSongFile=t=>Fw(t),this.reloadIndex=async()=>{const[t,n,r]=await Promise.all([fetch("/songs/index.json").then(c=>c.json()),this.getLocalIndex(),this.getDeletedSongsList()]);this.defaultIndex=t;const i=lo(tD),s=n.filter(c=>{const d=t.find(u=>u.id===c.id);return d?lo(c.lastUpdate??0).isAfter(lo(d.lastUpdate??0)):!0}),l=s.map(c=>c.id);n.forEach(async c=>{l.includes(c.id)||(await sl()).removeItem(c.id)}),this.indexWithDeletedSongs=[...s,...t.filter(c=>!l.includes(this.generateSongFile(c)))].map(c=>({...c,isNew:c.lastUpdate?lo(c.lastUpdate).isAfter(i):!1,isDeleted:r==null?void 0:r.includes(this.generateSongFile(c))})),this.indexWithDeletedSongs.sort((c,d)=>`${c.artist} ${c.title}`.localeCompare(`${d.artist} ${d.title}`.toLowerCase())),this.finalIndex=this.indexWithDeletedSongs.filter(c=>!c.isDeleted)},this.deleteSong=async t=>(await(await sl()).removeItem(t),this.reloadIndex()),this.softDeleteSong=async t=>{const n=await this.getDeletedSongsList();return await(await sl()).setItem(Bm,[...new Set([...n,t])]),this.reloadIndex()},this.restoreSong=async t=>{const n=await this.getDeletedSongsList();return await(await sl()).setItem(Bm,n.filter(r=>r!==t)),this.reloadIndex()},this.getLocal=async t=>{var r;const n=await((r=await sl())==null?void 0:r.getItem(decodeURIComponent(t)));return n&&n.tracks?{...n,language:Array.isArray(n.language)?n.language:[n.language],mergedTrack:X4(n.tracks,n),tracks:n.tracks.map(i=>({...i,changes:Nw(i,n)}))}:null},this.getLocalIndex=async()=>(await Promise.all((await this.getKeys()).map(this.getLocal))).filter(n=>n!==null).map(n=>{try{return nQ(n,!0)}catch(r){return console.error(r),null}}).filter(n=>n!==null),this.getKeys=async()=>{const t=[Bm];return(await(await sl()).keys()).filter(n=>!t.includes(n))}}}const fs=new rQ,nD="room_id_key",rp=5,rD=e=>{st.session.setItem(nD,e)};class iQ{constructor(){var t;if(this.gameCode=st.session.getItem(nD),this.started=!1,this.start=()=>{if(!this.transport){const n=ov.get();this.transport=n==="WebSockets"?new kW:n==="PartyKit"?new tW:new CW}this.started||(this.started=!0,console.log("connection started",this.getGameCode()),rD(this.gameCode),this.transport.connect(this.getGameCode(),()=>{console.log("connected",this.getGameCode()),this.transport.addListener((n,r)=>{var s,l;const i=n.t;if(i==="register")Vt.addRemoteMic(n.id,n.name,r,n.silent,n.lag);else if(i==="unregister")Vt.removeRemoteMic(r.peer);else if(i==="subscribe-event")Vt.addSubscription(r.peer,n.channel);else if(i==="unsubscribe-event")Vt.removeSubscription(r.peer,n.channel);else if(i==="ping")r.send({t:"pong"});else if(i==="pong")(s=Vt.getRemoteMicById(r.peer))==null||s.onPong();else if(i==="request-songlist")Promise.all([fs.getLocalIndex(),fs.getDeletedSongsList()]).then(([c,d])=>{r.send({t:"songlist",custom:c.map(u=>({artist:u.artist,title:u.title,video:u.video,language:u.language,search:u.search})),deleted:d})});else if(i==="get-microphone-lag-request"){const c=Vt.getRemoteMicById(r.peer);c&&r.send({t:"get-microphone-lag-response",value:c.getInput().getInputLag()})}else if(i==="set-microphone-lag-request"){const c=Vt.getRemoteMicById(r.peer);c&&(c.getInput().setInputLag(n.value),r.send({t:"get-microphone-lag-response",value:c.getInput().getInputLag()}))}else Vt.getPermission(r.peer)==="write"&&(i==="keystroke"?me.remoteKeyboardPressed.dispatch(n.key):i==="search-song"?me.remoteSongSearch.dispatch(n.search):i==="select-song"?me.remoteSongSelected.dispatch(n.id):i==="request-mic-select"?me.playerChangeRequested.dispatch(n.id,n.playerNumber):i==="get-game-input-lag-request"?r.send({t:"get-game-input-lag-response",value:xd.get()}):i==="remove-player"?(l=this.transport)==null||l.removePlayer(n.id):i==="set-game-input-lag-request"?(xd.set(n.value),r.send({t:"get-game-input-lag-response",value:xd.get()})):i==="my-list"&&me.remoteMicSongListUpdated.dispatch(r.peer,n))}),me.micServerStarted.dispatch()},()=>{me.micServerStopped.dispatch(),this.started=!1,setTimeout(this.start,1e3)}))},this.isStarted=()=>this.started,this.getLatency=()=>{var n;return((n=this.transport)==null?void 0:n.getCurrentPing())??0},this.getGameCode=()=>{const n=ov.get();return(n==="WebSockets"?"w":n==="PartyKit"?"k":"p")+this.gameCode},!this.gameCode){this.gameCode="";for(let n=0;n<rp-1;n++)this.gameCode+=String.fromCharCode(Math.floor(Math.random()*26)+97)}(t=global==null?void 0:global.addEventListener)==null||t.call(global,"beforeunload",()=>{var n;Vt.getRemoteMics().forEach(r=>r.connection.close()),(n=this.transport)==null||n.disconnect()})}}const Ic=new iQ,Hc=e=>`${e.deviceId};${e.channel}`,P5=[{channels:2,channel:1,label:"Drawing Test Input",id:Hc({deviceId:"default",channel:1}),deviceId:"default"}],yc=class yc{};yc.inputName="DrawingTest",yc.getDefault=()=>P5[0],yc.getInputs=async()=>P5,yc.subscribeToListChange=t=>{},yc.unsubscribeToListChange=t=>{};let ex=yc;const V5=[{channels:2,channel:0,label:"Dummy Input 1",id:Hc({deviceId:"default",channel:0}),deviceId:"default"},{channels:2,channel:1,label:"Dummy Input 2",id:Hc({deviceId:"default",channel:1}),deviceId:"default"}],Ac=class Ac{};Ac.inputName="Dummy",Ac.getDefault=()=>V5[0],Ac.getInputs=async()=>V5,Ac.subscribeToListChange=t=>{},Ac.unsubscribeToListChange=t=>{};let mv=Ac;var sQ=Math.ceil,oQ=Math.max;function aQ(e,t,n,r){for(var i=-1,s=oQ(sQ((t-e)/(n||1)),0),l=Array(s);s--;)l[++i]=e,e+=n;return l}var lQ=9007199254740991;function zw(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=lQ}function $w(e){return e!=null&&zw(e.length)&&!N4(e)}var cQ=9007199254740991,uQ=/^(?:0|[1-9]\d*)$/;function Uw(e,t){var n=typeof e;return t=t??cQ,!!t&&(n=="number"||n!="symbol"&&uQ.test(e))&&e>-1&&e%1==0&&e<t}function dQ(e,t,n){if(!ho(n))return!1;var r=typeof t;return(r=="number"?$w(n)&&Uw(t,n.length):r=="string"&&t in n)?uy(n[t],e):!1}var D5=1/0,fQ=17976931348623157e292;function C0(e){if(!e)return e===0?e:0;if(e=QS(e),e===D5||e===-D5){var t=e<0?-1:1;return t*fQ}return e===e?e:0}function hQ(e){return function(t,n,r){return r&&typeof r!="number"&&dQ(t,n,r)&&(n=r=void 0),t=C0(t),n===void 0?(n=t,t=0):n=C0(n),r=r===void 0?t<n?1:-1:C0(r),aQ(t,n,r)}}var pQ=hQ();const tx={test:e=>e.toLowerCase().includes("wireless mic #")||e.toLowerCase().includes("sony wireless singstar"),map:(e,t)=>`SingStar Wireless - ${t===0?"Blue":"Red"}`},nx={test:e=>e.toLowerCase().includes("usbmic serial#")||e.toLowerCase().includes("singstar"),map:(e,t)=>`SingStar Wired - ${t===0?"Blue":"Red"}`},rx={test:(e,t,n)=>n===2&&e.toLowerCase().includes("singstar"),map:(e,t)=>`SingStar Mic - ${t===0?"Blue":"Red"}`},gQ=(...[e,t,n])=>nx.test(e,t,n)||tx.test(e,t,n)||rx.test(e,t,n)?t:void 0,mQ=(e,t,n)=>tx.test(e,t,n)?tx.map(e,t):nx.test(e,t,n)?nx.map(e,t):rx.test(e,t,n)?rx.map(e,t):n>1?`${e} (ch ${t+1})`:e,ks=class ks{};ks.inputList=[],ks.inputName="Microphone",ks.getDefault=()=>ks.inputList.find(t=>t.id===Hc({deviceId:"default",channel:0}))??ks.inputList[0]??null,ks.getInputs=async()=>{let t=[];try{await _l.getUserMedia({audio:!0,video:!1}),t=await _l.enumerateDevices()}catch(r){fo(r,{level:"warning",extra:{message:"Microphone.getInputs"}}),console.warn(r)}const n=await Promise.all(t.filter(r=>r.kind==="audioinput").map(async r=>{let i=1;try{i=(await _l.getUserMedia({audio:{deviceId:{exact:r.deviceId},echoCancellation:{exact:!1}},video:!1})).getAudioTracks()[0].getSettings().channelCount??1}catch(s){console.warn(s)}return pQ(0,i).map(s=>({label:mQ(r.label,s,i),channel:s,channels:i,deviceId:r.deviceId,id:Hc({deviceId:r.deviceId,channel:s}),preferred:gQ(r.label,s,i)}))}));return ks.inputList=n.flat(),ks.inputList},ks.subscribeToListChange=t=>navigator.mediaDevices.addEventListener("devicechange",t),ks.unsubscribeToListChange=t=>navigator.mediaDevices.removeEventListener("devicechange",t);let Sa=ks;const B5=e=>({label:`${e.name}`,id:Hc({deviceId:e.id,channel:0}),deviceId:e.id,channels:1,channel:0}),bc=class bc{};bc.inputName="Remote Microphone",bc.getDefault=()=>Vt.getRemoteMics().map(B5)[0]??null,bc.getInputs=async()=>Vt.getRemoteMics().map(B5),bc.subscribeToListChange=t=>{me.remoteMicConnected.subscribe(t),me.remoteMicDisconnected.subscribe(t)},bc.unsubscribeToListChange=t=>{me.remoteMicConnected.unsubscribe(t),me.remoteMicDisconnected.unsubscribe(t)};let ka=bc;const vQ=e=>`${e.deviceId};${e.channel}`;class yQ{constructor(){this.initialiseInputSource=(t,n=!1)=>(n||t.getInputs().then(r=>{this.inputList[t.inputName].list=r,this.inputList[t.inputName].initialised=!0,me.inputListChanged.dispatch(!0),t.subscribeToListChange(async()=>{this.inputList[t.inputName].list=await t.getInputs(),me.inputListChanged.dispatch(!1)})}),{list:[],getDefault:t.getDefault,initialised:!1}),this.loadMics=()=>{this.inputList.Microphone.list.length||(this.inputList.Microphone=this.initialiseInputSource(Sa))},this.getInputList=()=>this.inputList,this.isPlayerInputInitialised=t=>this.inputList[t.source].initialised,this.getInputForPlayerSelected=(t,n=!0)=>{const r=this.inputList[t.source];return r.list.find(i=>i.id===vQ(t))??(n?r.getDefault():null)},this.inputList={[Sa.inputName]:this.initialiseInputSource(Sa,!0),[mv.inputName]:this.initialiseInputSource(mv),[ka.inputName]:this.initialiseInputSource(ka)}}}const Po=new yQ,N5="playerselectedinputs",vv=4,Uv=class Uv{constructor(t,n,r){this.number=t,this.input=n,this.name=r,this.nameOverride="",this.changeInput=(i,s=0,l)=>{let c=null;ur.monitoringStarted()&&(c=ur.stopMonitoring());const d={source:i,deviceId:l,channel:s},u=this.input;this.input=d,me.playerInputChanged.dispatch(this.number,u,d),c&&c.then(ur.startMonitoring)},this.toJSON=()=>({number:this.number,input:this.input,name:this.name}),this.getName=()=>this.nameOverride||(this.name??`Player #${this.number+1}`),this.isDefaultName=()=>this.name===void 0,this.setName=i=>{const s=this.name;this.name=i,me.playerNameChanged.dispatch(this.number,s)}}};Uv.fromJSON=t=>new Uv(t.number,t.input,t.name);let pd=Uv;class AQ{constructor(){this.minPlayerNumber=2,this.players=[],this.requestingPromise=null,this.storePlayers=()=>{st.session.setItem(N5,this.getPlayers().map(n=>n.toJSON()))},this.requestReadiness=async()=>(this.requestingPromise||(this.requestingPromise=new Promise(n=>{const r=async()=>{!this.getPlayers().filter(s=>s.input.source==="Remote Microphone").some(s=>Po.getInputForPlayerSelected(s.input,!1)===null)&&(await Promise.all(this.getPlayers().map(s=>ur.sourceNameToInput(s.input.source).requestReadiness(s.input.deviceId).then(()=>{me.readinessConfirmed.dispatch(s.input.deviceId)}))),me.inputListChanged.unsubscribe(r),this.requestingPromise=null,n(!0))};me.inputListChanged.subscribe(r),r()})),this.requestingPromise),this.getPlayers=()=>this.players,this.getPlayer=n=>this.players.find(r=>r.number===n),this.getMinPlayerNumber=()=>this.minPlayerNumber,this.setMinPlayerNumber=n=>{const r=this.minPlayerNumber;this.minPlayerNumber=n,me.minPlayerNumberChanged.dispatch(r,n)},this.addPlayer=n=>{if(at.isPlaying()||this.getPlayer(n))return;const r=new pd(n,{source:"Dummy",deviceId:"default",channel:0});return this.players.push(r),this.storePlayers(),me.playerAdded.dispatch(r.number),me.playerInputChanged.dispatch(r.number,void 0,r.input),r},this.removePlayer=n=>{if(at.isPlaying())return;const r=this.getPlayer(n);r&&(this.players=this.players.filter(i=>i.number!==n),this.players.length<this.minPlayerNumber&&this.addPlayer(new Array(vv).fill(0).find((i,s)=>!this.players.find(l=>l.number===s))),this.storePlayers(),me.playerRemoved.dispatch(r))},this.getInputs=()=>this.getPlayers().map(n=>n.input);const t=st.session.getItem(N5)??[];t.length?(this.players=t.map(pd.fromJSON),this.getPlayers().some(n=>n.input.source==="Microphone")&&Po.loadMics(),this.getPlayers().some(n=>n.input.source==="Remote Microphone")&&Ic.start()):this.players=[new pd(0,{source:"Dummy",deviceId:"default",channel:0}),new pd(1,{source:"Dummy",deviceId:"default",channel:1})],me.playerInputChanged.subscribe((n,r,i)=>{const s=this.getPlayer(n);if(!(!i||!s)){if(i.source==="Remote Microphone"){const l=Vt.getRemoteMicById(i.deviceId);l&&(s.nameOverride=l.name)}else s.nameOverride="";this.storePlayers()}}),me.playerNameChanged.subscribe(P4(this.storePlayers,1e3)),me.remoteMicConnected.subscribe(({id:n,name:r})=>{this.getPlayers().forEach(i=>{i.input.source==="Remote Microphone"&&i.input.deviceId===n&&i.getName()!==r&&(i.nameOverride=r)})})}}const tt=new AQ;class bQ{constructor(){this.isMonitoring=!1,this.getInputStatus=t=>{const n=tt.getPlayer(t);return n?this.sourceNameToInput(n.input.source).getStatus(n.input.deviceId,n.input.channel):"unavailable"},this.getPlayerFrequency=t=>{var i;const n=(i=tt.getPlayer(t))==null?void 0:i.input;return n?this.sourceNameToInput(n.source).getFrequencies(n.deviceId)[n.channel]:0},this.clearPlayerCachedFrequencies=t=>{var r;const n=(r=tt.getPlayer(t))==null?void 0:r.input;if(!n)return 0;this.sourceNameToInput(n.source).clearFrequencies(n.deviceId)},this.getPlayerVolume=t=>{var i;const n=(i=tt.getPlayer(t))==null?void 0:i.input;return n?this.sourceNameToInput(n.source).getVolumes(n.deviceId)[n.channel]:0},this.getPlayerInputLag=t=>{var r;const n=(r=tt.getPlayer(t))==null?void 0:r.input;return n?this.sourceNameToInput(n.source).getInputLag(n.deviceId):0},this.startMonitoring=async()=>{const t=tt.getPlayers().map(n=>n.input);await Promise.all(t.map(n=>this.sourceNameToInput(n.source).startMonitoring(n.deviceId,t))),this.isMonitoring=!0},this.stopMonitoring=async()=>{await Promise.all(tt.getPlayers().map(t=>this.sourceNameToInput(t.input.source).stopMonitoring(t.input.deviceId))),this.isMonitoring=!1},this.monitoringStarted=()=>this.isMonitoring,this.sourceNameToInput=t=>t===Sa.inputName?MY:t===ex.inputName?l7:t===ka.inputName?IY:u7,me.inputListChanged.subscribe(async()=>{this.isMonitoring&&(await this.stopMonitoring(),this.startMonitoring())})}}const ur=new bQ;function iD(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=iD(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Bt(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=iD(e))&&(r&&(r+=" "),r+=t);return r}function _Q(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}_Q(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Up=e=>typeof e=="number"&&!isNaN(e),qc=e=>typeof e=="string",Ma=e=>typeof e=="function",SQ=e=>qc(e)||Up(e),ix=e=>qc(e)||Ma(e)?e:null,xQ=(e,t)=>e===!1||Up(e)&&e>0?e:t,sx=e=>x.isValidElement(e)||qc(e)||Ma(e)||Up(e);function wQ(e,t,n=300){let{scrollHeight:r,style:i}=e;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)})})}function EQ({enter:e,exit:t,appendPosition:n=!1,collapse:r=!0,collapseDuration:i=300}){return function({children:s,position:l,preventExitTransition:c,done:d,nodeRef:u,isIn:p,playToast:h}){let v=n?`${e}--${l}`:e,y=n?`${t}--${l}`:t,b=x.useRef(0);return x.useLayoutEffect(()=>{let _=u.current,w=v.split(" "),T=k=>{k.target===u.current&&(h(),_.removeEventListener("animationend",T),_.removeEventListener("animationcancel",T),b.current===0&&k.type!=="animationcancel"&&_.classList.remove(...w))};_.classList.add(...w),_.addEventListener("animationend",T),_.addEventListener("animationcancel",T)},[]),x.useEffect(()=>{let _=u.current,w=()=>{_.removeEventListener("animationend",w),r?wQ(_,d,i):d()};p||(c?w():(b.current=1,_.className+=` ${y}`,_.addEventListener("animationend",w)))},[p]),Qe.createElement(Qe.Fragment,null,s)}}function L5(e,t){return{content:sD(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:t}}function sD(e,t,n=!1){return x.isValidElement(e)&&!qc(e.type)?x.cloneElement(e,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):Ma(e)?e({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):e}function TQ({closeToast:e,theme:t,ariaLabel:n="close"}){return Qe.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:r=>{r.stopPropagation(),e(!0)},"aria-label":n},Qe.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Qe.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function CQ({delay:e,isRunning:t,closeToast:n,type:r="default",hide:i,className:s,controlledProgress:l,progress:c,rtl:d,isIn:u,theme:p}){let h=i||l&&c===0,v={animationDuration:`${e}ms`,animationPlayState:t?"running":"paused"};l&&(v.transform=`scaleX(${c})`);let y=Bt("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${p}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":d}),b=Ma(s)?s({rtl:d,type:r,defaultClassName:y}):Bt(y,s),_={[l&&c>=1?"onTransitionEnd":"onAnimationEnd"]:l&&c<1?null:()=>{u&&n()}};return Qe.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":h},Qe.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${p} Toastify__progress-bar--${r}`}),Qe.createElement("div",{role:"progressbar","aria-hidden":h?"true":"false","aria-label":"notification timer",className:b,style:v,..._}))}var kQ=1,oD=()=>`${kQ++}`;function MQ(e,t,n){let r=1,i=0,s=[],l=[],c=t,d=new Map,u=new Set,p=k=>(u.add(k),()=>u.delete(k)),h=()=>{l=Array.from(d.values()),u.forEach(k=>k())},v=({containerId:k,toastId:R,updateId:M})=>{let E=k?k!==e:e!==1,O=d.has(R)&&M==null;return E||O},y=(k,R)=>{d.forEach(M=>{var E;(R==null||R===M.props.toastId)&&((E=M.toggle)==null||E.call(M,k))})},b=k=>{var R,M;(M=(R=k.props)==null?void 0:R.onClose)==null||M.call(R,k.removalReason),k.isActive=!1},_=k=>{if(k==null)d.forEach(b);else{let R=d.get(k);R&&b(R)}h()},w=()=>{i-=s.length,s=[]},T=k=>{var R,M;let{toastId:E,updateId:O}=k.props,j=O==null;k.staleId&&d.delete(k.staleId),k.isActive=!0,d.set(E,k),h(),n(L5(k,j?"added":"updated")),j&&((M=(R=k.props).onOpen)==null||M.call(R))};return{id:e,props:c,observe:p,toggle:y,removeToast:_,toasts:d,clearQueue:w,buildToast:(k,R)=>{if(v(R))return;let{toastId:M,updateId:E,data:O,staleId:j,delay:P}=R,V=E==null;V&&i++;let C={...c,style:c.toastStyle,key:r++,...Object.fromEntries(Object.entries(R).filter(([U,L])=>L!=null)),toastId:M,updateId:E,data:O,isIn:!1,className:ix(R.className||c.toastClassName),progressClassName:ix(R.progressClassName||c.progressClassName),autoClose:R.isLoading?!1:xQ(R.autoClose,c.autoClose),closeToast(U){d.get(M).removalReason=U,_(M)},deleteToast(){let U=d.get(M);if(U!=null){if(n(L5(U,"removed")),d.delete(M),i--,i<0&&(i=0),s.length>0){T(s.shift());return}h()}}};C.closeButton=c.closeButton,R.closeButton===!1||sx(R.closeButton)?C.closeButton=R.closeButton:R.closeButton===!0&&(C.closeButton=sx(c.closeButton)?c.closeButton:!0);let N={content:k,props:C,staleId:j};c.limit&&c.limit>0&&i>c.limit&&V?s.push(N):Up(P)?setTimeout(()=>{T(N)},P):T(N)},setProps(k){c=k},setToggle:(k,R)=>{let M=d.get(k);M&&(M.toggle=R)},isToastActive:k=>{var R;return(R=d.get(k))==null?void 0:R.isActive},getSnapshot:()=>l}}var Ri=new Map,xp=[],ox=new Set,RQ=e=>ox.forEach(t=>t(e)),aD=()=>Ri.size>0;function IQ(){xp.forEach(e=>cD(e.content,e.options)),xp=[]}var OQ=(e,{containerId:t})=>{var n;return(n=Ri.get(t||1))==null?void 0:n.toasts.get(e)};function lD(e,t){var n;if(t)return!!((n=Ri.get(t))!=null&&n.isToastActive(e));let r=!1;return Ri.forEach(i=>{i.isToastActive(e)&&(r=!0)}),r}function jQ(e){if(!aD()){xp=xp.filter(t=>e!=null&&t.options.toastId!==e);return}if(e==null||SQ(e))Ri.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=Ri.get(e.containerId);t?t.removeToast(e.id):Ri.forEach(n=>{n.removeToast(e.id)})}}var PQ=(e={})=>{Ri.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})};function cD(e,t){sx(e)&&(aD()||xp.push({content:e,options:t}),Ri.forEach(n=>{n.buildToast(e,t)}))}function VQ(e){var t;(t=Ri.get(e.containerId||1))==null||t.setToggle(e.id,e.fn)}function uD(e,t){Ri.forEach(n=>{(t==null||!(t!=null&&t.containerId)||(t==null?void 0:t.containerId)===n.id)&&n.toggle(e,t==null?void 0:t.id)})}function DQ(e){let t=e.containerId||1;return{subscribe(n){let r=MQ(t,e,RQ);Ri.set(t,r);let i=r.observe(n);return IQ(),()=>{i(),Ri.delete(t)}},setProps(n){var r;(r=Ri.get(t))==null||r.setProps(n)},getSnapshot(){var n;return(n=Ri.get(t))==null?void 0:n.getSnapshot()}}}function BQ(e){return ox.add(e),()=>{ox.delete(e)}}function NQ(e){return e&&(qc(e.toastId)||Up(e.toastId))?e.toastId:oD()}function Hp(e,t){return cD(e,t),t.toastId}function yy(e,t){return{...t,type:t&&t.type||e,toastId:NQ(t)}}function Ay(e){return(t,n)=>Hp(t,yy(e,n))}function gn(e,t){return Hp(e,yy("default",t))}gn.loading=(e,t)=>Hp(e,yy("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function LQ(e,{pending:t,error:n,success:r},i){let s;t&&(s=qc(t)?gn.loading(t,i):gn.loading(t.render,{...i,...t}));let l={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},c=(u,p,h)=>{if(p==null){gn.dismiss(s);return}let v={type:u,...l,...i,data:h},y=qc(p)?{render:p}:p;return s?gn.update(s,{...v,...y}):gn(y.render,{...v,...y}),h},d=Ma(e)?e():e;return d.then(u=>c("success",r,u)).catch(u=>c("error",n,u)),d}gn.promise=LQ;gn.success=Ay("success");gn.info=Ay("info");gn.error=Ay("error");gn.warning=Ay("warning");gn.warn=gn.warning;gn.dark=(e,t)=>Hp(e,yy("default",{theme:"dark",...t}));function FQ(e){jQ(e)}gn.dismiss=FQ;gn.clearWaitingQueue=PQ;gn.isActive=lD;gn.update=(e,t={})=>{let n=OQ(e,t);if(n){let{props:r,content:i}=n,s={delay:100,...r,...t,toastId:t.toastId||e,updateId:oD()};s.toastId!==e&&(s.staleId=e);let l=s.render||i;delete s.render,Hp(l,s)}};gn.done=e=>{gn.update(e,{progress:1})};gn.onChange=BQ;gn.play=e=>uD(!0,e);gn.pause=e=>uD(!1,e);function zQ(e){var t;let{subscribe:n,getSnapshot:r,setProps:i}=x.useRef(DQ(e)).current;i(e);let s=(t=x.useSyncExternalStore(n,r,r))==null?void 0:t.slice();function l(c){if(!s)return[];let d=new Map;return e.newestOnTop&&s.reverse(),s.forEach(u=>{let{position:p}=u.props;d.has(p)||d.set(p,[]),d.get(p).push(u)}),Array.from(d,u=>c(u[0],u[1]))}return{getToastToRender:l,isToastActive:lD,count:s==null?void 0:s.length}}function $Q(e){let[t,n]=x.useState(!1),[r,i]=x.useState(!1),s=x.useRef(null),l=x.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:c,pauseOnHover:d,closeToast:u,onClick:p,closeOnClick:h}=e;VQ({id:e.toastId,containerId:e.containerId,fn:n}),x.useEffect(()=>{if(e.pauseOnFocusLoss)return v(),()=>{y()}},[e.pauseOnFocusLoss]);function v(){document.hasFocus()||T(),window.addEventListener("focus",w),window.addEventListener("blur",T)}function y(){window.removeEventListener("focus",w),window.removeEventListener("blur",T)}function b(j){if(e.draggable===!0||e.draggable===j.pointerType){k();let P=s.current;l.canCloseOnClick=!0,l.canDrag=!0,P.style.transition="none",e.draggableDirection==="x"?(l.start=j.clientX,l.removalDistance=P.offsetWidth*(e.draggablePercent/100)):(l.start=j.clientY,l.removalDistance=P.offsetHeight*(e.draggablePercent===80?e.draggablePercent*1.5:e.draggablePercent)/100)}}function _(j){let{top:P,bottom:V,left:C,right:N}=s.current.getBoundingClientRect();j.nativeEvent.type!=="touchend"&&e.pauseOnHover&&j.clientX>=C&&j.clientX<=N&&j.clientY>=P&&j.clientY<=V?T():w()}function w(){n(!0)}function T(){n(!1)}function k(){l.didMove=!1,document.addEventListener("pointermove",M),document.addEventListener("pointerup",E)}function R(){document.removeEventListener("pointermove",M),document.removeEventListener("pointerup",E)}function M(j){let P=s.current;if(l.canDrag&&P){l.didMove=!0,t&&T(),e.draggableDirection==="x"?l.delta=j.clientX-l.start:l.delta=j.clientY-l.start,l.start!==j.clientX&&(l.canCloseOnClick=!1);let V=e.draggableDirection==="x"?`${l.delta}px, var(--y)`:`0, calc(${l.delta}px + var(--y))`;P.style.transform=`translate3d(${V},0)`,P.style.opacity=`${1-Math.abs(l.delta/l.removalDistance)}`}}function E(){R();let j=s.current;if(l.canDrag&&l.didMove&&j){if(l.canDrag=!1,Math.abs(l.delta)>l.removalDistance){i(!0),e.closeToast(!0),e.collapseAll();return}j.style.transition="transform 0.2s, opacity 0.2s",j.style.removeProperty("transform"),j.style.removeProperty("opacity")}}let O={onPointerDown:b,onPointerUp:_};return c&&d&&(O.onMouseEnter=T,e.stacked||(O.onMouseLeave=w)),h&&(O.onClick=j=>{p&&p(j),l.canCloseOnClick&&u(!0)}),{playToast:w,pauseToast:T,isRunning:t,preventExitTransition:r,toastRef:s,eventHandlers:O}}var UQ=typeof window<"u"?x.useLayoutEffect:x.useEffect,by=({theme:e,type:t,isLoading:n,...r})=>Qe.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...r});function HQ(e){return Qe.createElement(by,{...e},Qe.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function qQ(e){return Qe.createElement(by,{...e},Qe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function GQ(e){return Qe.createElement(by,{...e},Qe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function YQ(e){return Qe.createElement(by,{...e},Qe.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function KQ(){return Qe.createElement("div",{className:"Toastify__spinner"})}var ax={info:qQ,warning:HQ,success:GQ,error:YQ,spinner:KQ},WQ=e=>e in ax;function QQ({theme:e,type:t,isLoading:n,icon:r}){let i=null,s={theme:e,type:t};return r===!1||(Ma(r)?i=r({...s,isLoading:n}):x.isValidElement(r)?i=x.cloneElement(r,s):n?i=ax.spinner():WQ(t)&&(i=ax[t](s))),i}var XQ=e=>{let{isRunning:t,preventExitTransition:n,toastRef:r,eventHandlers:i,playToast:s}=$Q(e),{closeButton:l,children:c,autoClose:d,onClick:u,type:p,hideProgressBar:h,closeToast:v,transition:y,position:b,className:_,style:w,progressClassName:T,updateId:k,role:R,progress:M,rtl:E,toastId:O,deleteToast:j,isIn:P,isLoading:V,closeOnClick:C,theme:N,ariaLabel:U}=e,L=Bt("Toastify__toast",`Toastify__toast-theme--${N}`,`Toastify__toast--${p}`,{"Toastify__toast--rtl":E},{"Toastify__toast--close-on-click":C}),q=Ma(_)?_({rtl:E,position:b,type:p,defaultClassName:L}):Bt(L,_),H=QQ(e),D=!!M||!d,W={closeToast:v,type:p,theme:N},Q=null;return l===!1||(Ma(l)?Q=l(W):x.isValidElement(l)?Q=x.cloneElement(l,W):Q=TQ(W)),Qe.createElement(y,{isIn:P,done:j,position:b,preventExitTransition:n,nodeRef:r,playToast:s},Qe.createElement("div",{id:O,tabIndex:0,onClick:u,"data-in":P,className:q,...i,style:w,ref:r,...P&&{role:R,"aria-label":U}},H!=null&&Qe.createElement("div",{className:Bt("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!V})},H),sD(c,e,!t),Q,!e.customProgressBar&&Qe.createElement(CQ,{...k&&!D?{key:`p-${k}`}:{},rtl:E,theme:N,delay:d,isRunning:t,isIn:P,closeToast:v,hide:h,type:p,className:T,controlledProgress:D,progress:M||0})))},JQ=(e,t=!1)=>({enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}),ZQ=EQ(JQ("bounce",!0)),eX={position:"top-right",transition:ZQ,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&e.code==="KeyT"};function tX(e){let t={...eX,...e},n=e.stacked,[r,i]=x.useState(!0),s=x.useRef(null),{getToastToRender:l,isToastActive:c,count:d}=zQ(t),{className:u,style:p,rtl:h,containerId:v,hotKeys:y}=t;function b(w){let T=Bt("Toastify__toast-container",`Toastify__toast-container--${w}`,{"Toastify__toast-container--rtl":h});return Ma(u)?u({position:w,rtl:h,defaultClassName:T}):Bt(T,ix(u))}function _(){n&&(i(!0),gn.play())}return UQ(()=>{var w;if(n){let T=s.current.querySelectorAll('[data-in="true"]'),k=12,R=(w=t.position)==null?void 0:w.includes("top"),M=0,E=0;Array.from(T).reverse().forEach((O,j)=>{let P=O;P.classList.add("Toastify__toast--stacked"),j>0&&(P.dataset.collapsed=`${r}`),P.dataset.pos||(P.dataset.pos=R?"top":"bot");let V=M*(r?.2:1)+(r?0:k*j);P.style.setProperty("--y",`${R?V:V*-1}px`),P.style.setProperty("--g",`${k}`),P.style.setProperty("--s",`${1-(r?E:0)}`),M+=P.offsetHeight,E+=.025})}},[r,d,n]),x.useEffect(()=>{function w(T){var k;let R=s.current;y(T)&&((k=R.querySelector('[tabIndex="0"]'))==null||k.focus(),i(!1),gn.pause()),T.key==="Escape"&&(document.activeElement===R||R!=null&&R.contains(document.activeElement))&&(i(!0),gn.play())}return document.addEventListener("keydown",w),()=>{document.removeEventListener("keydown",w)}},[y]),Qe.createElement("section",{ref:s,className:"Toastify",id:v,onMouseEnter:()=>{n&&(i(!1),gn.pause())},onMouseLeave:_,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},l((w,T)=>{let k=T.length?{...p}:{...p,pointerEvents:"none"};return Qe.createElement("div",{tabIndex:-1,className:b(w),"data-stacked":n,style:k,key:`c-${w}`},T.map(({content:R,props:M})=>Qe.createElement(XQ,{...M,stacked:n,collapseAll:_,isIn:c(M.toastId,M.containerId),key:`t-${M.key}`},R)))}))}me.playerRemoved.subscribe(e=>{if(e.input.source===ka.inputName){const t=Vt.getRemoteMicById(e.input.deviceId);t&&t.setPlayerNumber(null)}});me.playerInputChanged.subscribe((e,t,n)=>{var r;if((t==null?void 0:t.source)===ka.inputName){const i=(r=tt.getPlayers().find(l=>l.input.source==="Remote Microphone"&&l.input.deviceId===t.deviceId))==null?void 0:r.number,s=Vt.getRemoteMicById(t.deviceId);s==null||s.setPlayerNumber(i!==void 0?i:null)}if((n==null?void 0:n.source)==="Remote Microphone"){const i=Vt.getRemoteMicById(n.deviceId);i==null||i.setPlayerNumber(e)}});me.remoteMicConnected.subscribe(({id:e})=>{var n,r;const t=(n=tt.getPlayers().find(i=>i.input.source==="Remote Microphone"&&i.input.deviceId===e))==null?void 0:n.number;if(t!==void 0){const i=Vt.getRemoteMicById(e);i==null||i.setPlayerNumber(t),ur.monitoringStarted()&&((r=i==null?void 0:i.getInput())==null||r.startMonitoring())}});me.playerChangeRequested.subscribe((e,t)=>{var r;const n=tt.getPlayers().find(i=>i.input.deviceId===e);if(n&&tt.removePlayer(n.number),t!==null){const i=tt.getPlayer(t);i?i.changeInput("Remote Microphone",0,e):(r=tt.addPlayer(t))==null||r.changeInput("Remote Microphone",0,e)}});me.remoteMicConnected.subscribe(({name:e,id:t,silent:n})=>{n||gn.success(g.jsxs(g.Fragment,{children:["Remote microphone ",g.jsx("b",{className:"ph-no-capture",children:e})," connected!"]}),{toastId:`connection-status-${t}`,updateId:`connection-status-${t}`})});me.remoteMicDisconnected.subscribe(({name:e,id:t},n)=>{n||gn.warning(g.jsxs(g.Fragment,{children:["Remote microphone ",g.jsx("b",{className:"ph-no-capture",children:e})," disconnected!"]}),{toastId:`connection-status-${t}`,updateId:`connection-status-${t}`})});const _y=()=>{const e=Vt.getRemoteMics().map(t=>{var n;return{id:t.id,name:t.name,number:((n=tt.getPlayers().find(r=>r.input.deviceId===t.id))==null?void 0:n.number)??null}});Vt.broadcastToChannel("remote-mics",{t:"remote-mics-list",list:e})};me.playerRemoved.subscribe(_y);me.inputListChanged.subscribe(_y);me.playerInputChanged.subscribe(_y);me.remoteMicSubscribed.subscribe(_y);const dD=e=>({artist:t,title:n,id:r,lastUpdate:i},s,l=[],c)=>{var p;const d=l.length>1&&l.every(h=>h.score===l[0].score),u={};if(tt.getPlayers().forEach((h,v)=>u[`input${v}`]=h.input.source),e==="songEnded")try{const h=(p=at.getPlayer(0))==null?void 0:p.getPlayerNotes().filter(y=>pv(y)===0).map(y=>y.frequencyRecords).flat().map(y=>[y.timestamp,y.frequency]).map((y,b,_)=>{var w,T;return[y[0]-(((w=_[b-1])==null?void 0:w[0])??0),y[1]-(((T=_[b-1])==null?void 0:T[1])??0)]}).map(y=>[Math.round(y[0]*100),Math.round(y[1]*100)]).map(y=>y[1]===0?y[0]:y),v=aV(h);console.log("compressed",v)}catch(h){fo(h)}er.capture(e,{songId:r,songLastUpdated:i,name:`${t} - ${n}`,artist:t,title:n,mode:s.mode,tolerance:s.tolerance,players:s.players.length,tracks:s.players.map(h=>h.track),progress:c??null,singId:s.id,sameScores:d,mobilePhoneMode:!!oi.get(),...u,...l.reduce((h,v,y)=>({...h,[`score${y}`]:v.score}),{}),...s.players.reduce((h,v,y)=>({...h,[`track${y}`]:v.track}),{})})};me.songStarted.subscribe(dD("songStarted"));me.songEnded.subscribe(dD("songEnded"));function Nm(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var M1={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/var F5;function nX(){return F5||(F5=1,function(e,t){(function(n){e.exports=n()})(function(){return function n(r,i,s){function l(u,p){if(!i[u]){if(!r[u]){var h=typeof Nm=="function"&&Nm;if(!p&&h)return h(u,!0);if(c)return c(u,!0);var v=new Error("Cannot find module '"+u+"'");throw v.code="MODULE_NOT_FOUND",v}var y=i[u]={exports:{}};r[u][0].call(y.exports,function(b){var _=r[u][1][b];return l(_||b)},y,y.exports,n,r,i,s)}return i[u].exports}for(var c=typeof Nm=="function"&&Nm,d=0;d<s.length;d++)l(s[d]);return l}({1:[function(n,r,i){(function(s){var l=s.MutationObserver||s.WebKitMutationObserver,c;if(l){var d=0,u=new l(b),p=s.document.createTextNode("");u.observe(p,{characterData:!0}),c=function(){p.data=d=++d%2}}else if(!s.setImmediate&&typeof s.MessageChannel<"u"){var h=new s.MessageChannel;h.port1.onmessage=b,c=function(){h.port2.postMessage(0)}}else"document"in s&&"onreadystatechange"in s.document.createElement("script")?c=function(){var w=s.document.createElement("script");w.onreadystatechange=function(){b(),w.onreadystatechange=null,w.parentNode.removeChild(w),w=null},s.document.documentElement.appendChild(w)}:c=function(){setTimeout(b,0)};var v,y=[];function b(){v=!0;for(var w,T,k=y.length;k;){for(T=y,y=[],w=-1;++w<k;)T[w]();k=y.length}v=!1}r.exports=_;function _(w){y.push(w)===1&&!v&&c()}}).call(this,typeof dm<"u"?dm:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(n,r,i){var s=n(1);function l(){}var c={},d=["REJECTED"],u=["FULFILLED"],p=["PENDING"];r.exports=h;function h(E){if(typeof E!="function")throw new TypeError("resolver must be a function");this.state=p,this.queue=[],this.outcome=void 0,E!==l&&_(this,E)}h.prototype.catch=function(E){return this.then(null,E)},h.prototype.then=function(E,O){if(typeof E!="function"&&this.state===u||typeof O!="function"&&this.state===d)return this;var j=new this.constructor(l);if(this.state!==p){var P=this.state===u?E:O;y(j,P,this.outcome)}else this.queue.push(new v(j,E,O));return j};function v(E,O,j){this.promise=E,typeof O=="function"&&(this.onFulfilled=O,this.callFulfilled=this.otherCallFulfilled),typeof j=="function"&&(this.onRejected=j,this.callRejected=this.otherCallRejected)}v.prototype.callFulfilled=function(E){c.resolve(this.promise,E)},v.prototype.otherCallFulfilled=function(E){y(this.promise,this.onFulfilled,E)},v.prototype.callRejected=function(E){c.reject(this.promise,E)},v.prototype.otherCallRejected=function(E){y(this.promise,this.onRejected,E)};function y(E,O,j){s(function(){var P;try{P=O(j)}catch(V){return c.reject(E,V)}P===E?c.reject(E,new TypeError("Cannot resolve promise with itself")):c.resolve(E,P)})}c.resolve=function(E,O){var j=w(b,O);if(j.status==="error")return c.reject(E,j.value);var P=j.value;if(P)_(E,P);else{E.state=u,E.outcome=O;for(var V=-1,C=E.queue.length;++V<C;)E.queue[V].callFulfilled(O)}return E},c.reject=function(E,O){E.state=d,E.outcome=O;for(var j=-1,P=E.queue.length;++j<P;)E.queue[j].callRejected(O);return E};function b(E){var O=E&&E.then;if(E&&(typeof E=="object"||typeof E=="function")&&typeof O=="function")return function(){O.apply(E,arguments)}}function _(E,O){var j=!1;function P(U){j||(j=!0,c.reject(E,U))}function V(U){j||(j=!0,c.resolve(E,U))}function C(){O(V,P)}var N=w(C);N.status==="error"&&P(N.value)}function w(E,O){var j={};try{j.value=E(O),j.status="success"}catch(P){j.status="error",j.value=P}return j}h.resolve=T;function T(E){return E instanceof this?E:c.resolve(new this(l),E)}h.reject=k;function k(E){var O=new this(l);return c.reject(O,E)}h.all=R;function R(E){var O=this;if(Object.prototype.toString.call(E)!=="[object Array]")return this.reject(new TypeError("must be an array"));var j=E.length,P=!1;if(!j)return this.resolve([]);for(var V=new Array(j),C=0,N=-1,U=new this(l);++N<j;)L(E[N],N);return U;function L(q,H){O.resolve(q).then(D,function(W){P||(P=!0,c.reject(U,W))});function D(W){V[H]=W,++C===j&&!P&&(P=!0,c.resolve(U,V))}}}h.race=M;function M(E){var O=this;if(Object.prototype.toString.call(E)!=="[object Array]")return this.reject(new TypeError("must be an array"));var j=E.length,P=!1;if(!j)return this.resolve([]);for(var V=-1,C=new this(l);++V<j;)N(E[V]);return C;function N(U){O.resolve(U).then(function(L){P||(P=!0,c.resolve(C,L))},function(L){P||(P=!0,c.reject(C,L))})}}},{1:1}],3:[function(n,r,i){(function(s){typeof s.Promise!="function"&&(s.Promise=n(2))}).call(this,typeof dm<"u"?dm:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(n,r,i){var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $};function l($,Z){if(!($ instanceof Z))throw new TypeError("Cannot call a class as a function")}function c(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var d=c();function u(){try{if(!d||!d.open)return!1;var $=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),Z=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!$||Z)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function p($,Z){$=$||[],Z=Z||{};try{return new Blob($,Z)}catch(te){if(te.name!=="TypeError")throw te;for(var Y=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,re=new Y,le=0;le<$.length;le+=1)re.append($[le]);return re.getBlob(Z.type)}}typeof Promise>"u"&&n(3);var h=Promise;function v($,Z){Z&&$.then(function(Y){Z(null,Y)},function(Y){Z(Y)})}function y($,Z,Y){typeof Z=="function"&&$.then(Z),typeof Y=="function"&&$.catch(Y)}function b($){return typeof $!="string"&&(console.warn($+" used as a key, but it is not a string."),$=String($)),$}function _(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var w="local-forage-detect-blob-support",T=void 0,k={},R=Object.prototype.toString,M="readonly",E="readwrite";function O($){for(var Z=$.length,Y=new ArrayBuffer(Z),re=new Uint8Array(Y),le=0;le<Z;le++)re[le]=$.charCodeAt(le);return Y}function j($){return new h(function(Z){var Y=$.transaction(w,E),re=p([""]);Y.objectStore(w).put(re,"key"),Y.onabort=function(le){le.preventDefault(),le.stopPropagation(),Z(!1)},Y.oncomplete=function(){var le=navigator.userAgent.match(/Chrome\/(\d+)/),te=navigator.userAgent.match(/Edge\//);Z(te||!le||parseInt(le[1],10)>=43)}}).catch(function(){return!1})}function P($){return typeof T=="boolean"?h.resolve(T):j($).then(function(Z){return T=Z,T})}function V($){var Z=k[$.name],Y={};Y.promise=new h(function(re,le){Y.resolve=re,Y.reject=le}),Z.deferredOperations.push(Y),Z.dbReady?Z.dbReady=Z.dbReady.then(function(){return Y.promise}):Z.dbReady=Y.promise}function C($){var Z=k[$.name],Y=Z.deferredOperations.pop();if(Y)return Y.resolve(),Y.promise}function N($,Z){var Y=k[$.name],re=Y.deferredOperations.pop();if(re)return re.reject(Z),re.promise}function U($,Z){return new h(function(Y,re){if(k[$.name]=k[$.name]||ee(),$.db)if(Z)V($),$.db.close();else return Y($.db);var le=[$.name];Z&&le.push($.version);var te=d.open.apply(d,le);Z&&(te.onupgradeneeded=function(_e){var Ee=te.result;try{Ee.createObjectStore($.storeName),_e.oldVersion<=1&&Ee.createObjectStore(w)}catch(Ie){if(Ie.name==="ConstraintError")console.warn('The database "'+$.name+'" has been upgraded from version '+_e.oldVersion+" to version "+_e.newVersion+', but the storage "'+$.storeName+'" already exists.');else throw Ie}}),te.onerror=function(_e){_e.preventDefault(),re(te.error)},te.onsuccess=function(){var _e=te.result;_e.onversionchange=function(Ee){Ee.target.close()},Y(_e),C($)}})}function L($){return U($,!1)}function q($){return U($,!0)}function H($,Z){if(!$.db)return!0;var Y=!$.db.objectStoreNames.contains($.storeName),re=$.version<$.db.version,le=$.version>$.db.version;if(re&&($.version!==Z&&console.warn('The database "'+$.name+`" can't be downgraded from version `+$.db.version+" to version "+$.version+"."),$.version=$.db.version),le||Y){if(Y){var te=$.db.version+1;te>$.version&&($.version=te)}return!0}return!1}function D($){return new h(function(Z,Y){var re=new FileReader;re.onerror=Y,re.onloadend=function(le){var te=btoa(le.target.result||"");Z({__local_forage_encoded_blob:!0,data:te,type:$.type})},re.readAsBinaryString($)})}function W($){var Z=O(atob($.data));return p([Z],{type:$.type})}function Q($){return $&&$.__local_forage_encoded_blob}function J($){var Z=this,Y=Z._initReady().then(function(){var re=k[Z._dbInfo.name];if(re&&re.dbReady)return re.dbReady});return y(Y,$,$),Y}function B($){V($);for(var Z=k[$.name],Y=Z.forages,re=0;re<Y.length;re++){var le=Y[re];le._dbInfo.db&&(le._dbInfo.db.close(),le._dbInfo.db=null)}return $.db=null,L($).then(function(te){return $.db=te,H($)?q($):te}).then(function(te){$.db=Z.db=te;for(var _e=0;_e<Y.length;_e++)Y[_e]._dbInfo.db=te}).catch(function(te){throw N($,te),te})}function G($,Z,Y,re){re===void 0&&(re=1);try{var le=$.db.transaction($.storeName,Z);Y(null,le)}catch(te){if(re>0&&(!$.db||te.name==="InvalidStateError"||te.name==="NotFoundError"))return h.resolve().then(function(){if(!$.db||te.name==="NotFoundError"&&!$.db.objectStoreNames.contains($.storeName)&&$.version<=$.db.version)return $.db&&($.version=$.db.version+1),q($)}).then(function(){return B($).then(function(){G($,Z,Y,re-1)})}).catch(Y);Y(te)}}function ee(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function ue($){var Z=this,Y={db:null};if($)for(var re in $)Y[re]=$[re];var le=k[Y.name];le||(le=ee(),k[Y.name]=le),le.forages.push(Z),Z._initReady||(Z._initReady=Z.ready,Z.ready=J);var te=[];function _e(){return h.resolve()}for(var Ee=0;Ee<le.forages.length;Ee++){var Ie=le.forages[Ee];Ie!==Z&&te.push(Ie._initReady().catch(_e))}var Ce=le.forages.slice(0);return h.all(te).then(function(){return Y.db=le.db,L(Y)}).then(function(Pe){return Y.db=Pe,H(Y,Z._defaultConfig.version)?q(Y):Pe}).then(function(Pe){Y.db=le.db=Pe,Z._dbInfo=Y;for(var We=0;We<Ce.length;We++){var wt=Ce[We];wt!==Z&&(wt._dbInfo.db=Y.db,wt._dbInfo.version=Y.version)}})}function F($,Z){var Y=this;$=b($);var re=new h(function(le,te){Y.ready().then(function(){G(Y._dbInfo,M,function(_e,Ee){if(_e)return te(_e);try{var Ie=Ee.objectStore(Y._dbInfo.storeName),Ce=Ie.get($);Ce.onsuccess=function(){var Pe=Ce.result;Pe===void 0&&(Pe=null),Q(Pe)&&(Pe=W(Pe)),le(Pe)},Ce.onerror=function(){te(Ce.error)}}catch(Pe){te(Pe)}})}).catch(te)});return v(re,Z),re}function ge($,Z){var Y=this,re=new h(function(le,te){Y.ready().then(function(){G(Y._dbInfo,M,function(_e,Ee){if(_e)return te(_e);try{var Ie=Ee.objectStore(Y._dbInfo.storeName),Ce=Ie.openCursor(),Pe=1;Ce.onsuccess=function(){var We=Ce.result;if(We){var wt=We.value;Q(wt)&&(wt=W(wt));var Ft=$(wt,We.key,Pe++);Ft!==void 0?le(Ft):We.continue()}else le()},Ce.onerror=function(){te(Ce.error)}}catch(We){te(We)}})}).catch(te)});return v(re,Z),re}function se($,Z,Y){var re=this;$=b($);var le=new h(function(te,_e){var Ee;re.ready().then(function(){return Ee=re._dbInfo,R.call(Z)==="[object Blob]"?P(Ee.db).then(function(Ie){return Ie?Z:D(Z)}):Z}).then(function(Ie){G(re._dbInfo,E,function(Ce,Pe){if(Ce)return _e(Ce);try{var We=Pe.objectStore(re._dbInfo.storeName);Ie===null&&(Ie=void 0);var wt=We.put(Ie,$);Pe.oncomplete=function(){Ie===void 0&&(Ie=null),te(Ie)},Pe.onabort=Pe.onerror=function(){var Ft=wt.error?wt.error:wt.transaction.error;_e(Ft)}}catch(Ft){_e(Ft)}})}).catch(_e)});return v(le,Y),le}function Se($,Z){var Y=this;$=b($);var re=new h(function(le,te){Y.ready().then(function(){G(Y._dbInfo,E,function(_e,Ee){if(_e)return te(_e);try{var Ie=Ee.objectStore(Y._dbInfo.storeName),Ce=Ie.delete($);Ee.oncomplete=function(){le()},Ee.onerror=function(){te(Ce.error)},Ee.onabort=function(){var Pe=Ce.error?Ce.error:Ce.transaction.error;te(Pe)}}catch(Pe){te(Pe)}})}).catch(te)});return v(re,Z),re}function Me($){var Z=this,Y=new h(function(re,le){Z.ready().then(function(){G(Z._dbInfo,E,function(te,_e){if(te)return le(te);try{var Ee=_e.objectStore(Z._dbInfo.storeName),Ie=Ee.clear();_e.oncomplete=function(){re()},_e.onabort=_e.onerror=function(){var Ce=Ie.error?Ie.error:Ie.transaction.error;le(Ce)}}catch(Ce){le(Ce)}})}).catch(le)});return v(Y,$),Y}function Re($){var Z=this,Y=new h(function(re,le){Z.ready().then(function(){G(Z._dbInfo,M,function(te,_e){if(te)return le(te);try{var Ee=_e.objectStore(Z._dbInfo.storeName),Ie=Ee.count();Ie.onsuccess=function(){re(Ie.result)},Ie.onerror=function(){le(Ie.error)}}catch(Ce){le(Ce)}})}).catch(le)});return v(Y,$),Y}function ve($,Z){var Y=this,re=new h(function(le,te){if($<0){le(null);return}Y.ready().then(function(){G(Y._dbInfo,M,function(_e,Ee){if(_e)return te(_e);try{var Ie=Ee.objectStore(Y._dbInfo.storeName),Ce=!1,Pe=Ie.openKeyCursor();Pe.onsuccess=function(){var We=Pe.result;if(!We){le(null);return}$===0||Ce?le(We.key):(Ce=!0,We.advance($))},Pe.onerror=function(){te(Pe.error)}}catch(We){te(We)}})}).catch(te)});return v(re,Z),re}function je($){var Z=this,Y=new h(function(re,le){Z.ready().then(function(){G(Z._dbInfo,M,function(te,_e){if(te)return le(te);try{var Ee=_e.objectStore(Z._dbInfo.storeName),Ie=Ee.openKeyCursor(),Ce=[];Ie.onsuccess=function(){var Pe=Ie.result;if(!Pe){re(Ce);return}Ce.push(Pe.key),Pe.continue()},Ie.onerror=function(){le(Ie.error)}}catch(Pe){le(Pe)}})}).catch(le)});return v(Y,$),Y}function Ge($,Z){Z=_.apply(this,arguments);var Y=this.config();$=typeof $!="function"&&$||{},$.name||($.name=$.name||Y.name,$.storeName=$.storeName||Y.storeName);var re=this,le;if(!$.name)le=h.reject("Invalid arguments");else{var te=$.name===Y.name&&re._dbInfo.db,_e=te?h.resolve(re._dbInfo.db):L($).then(function(Ee){var Ie=k[$.name],Ce=Ie.forages;Ie.db=Ee;for(var Pe=0;Pe<Ce.length;Pe++)Ce[Pe]._dbInfo.db=Ee;return Ee});$.storeName?le=_e.then(function(Ee){if(Ee.objectStoreNames.contains($.storeName)){var Ie=Ee.version+1;V($);var Ce=k[$.name],Pe=Ce.forages;Ee.close();for(var We=0;We<Pe.length;We++){var wt=Pe[We];wt._dbInfo.db=null,wt._dbInfo.version=Ie}var Ft=new h(function(tn,Wn){var mn=d.open($.name,Ie);mn.onerror=function(Pi){var Ba=mn.result;Ba.close(),Wn(Pi)},mn.onupgradeneeded=function(){var Pi=mn.result;Pi.deleteObjectStore($.storeName)},mn.onsuccess=function(){var Pi=mn.result;Pi.close(),tn(Pi)}});return Ft.then(function(tn){Ce.db=tn;for(var Wn=0;Wn<Pe.length;Wn++){var mn=Pe[Wn];mn._dbInfo.db=tn,C(mn._dbInfo)}}).catch(function(tn){throw(N($,tn)||h.resolve()).catch(function(){}),tn})}}):le=_e.then(function(Ee){V($);var Ie=k[$.name],Ce=Ie.forages;Ee.close();for(var Pe=0;Pe<Ce.length;Pe++){var We=Ce[Pe];We._dbInfo.db=null}var wt=new h(function(Ft,tn){var Wn=d.deleteDatabase($.name);Wn.onerror=function(){var mn=Wn.result;mn&&mn.close(),tn(Wn.error)},Wn.onblocked=function(){console.warn('dropInstance blocked for database "'+$.name+'" until all open connections are closed')},Wn.onsuccess=function(){var mn=Wn.result;mn&&mn.close(),Ft(mn)}});return wt.then(function(Ft){Ie.db=Ft;for(var tn=0;tn<Ce.length;tn++){var Wn=Ce[tn];C(Wn._dbInfo)}}).catch(function(Ft){throw(N($,Ft)||h.resolve()).catch(function(){}),Ft})})}return v(le,Z),le}var $e={_driver:"asyncStorage",_initStorage:ue,_support:u(),iterate:ge,getItem:F,setItem:se,removeItem:Se,clear:Me,length:Re,key:ve,keys:je,dropInstance:Ge};function De(){return typeof openDatabase=="function"}var Ve="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ot="~~local_forage_type~",ft=/^~~local_forage_type~([^~]+)~/,Be="__lfsc__:",ut=Be.length,en="arbf",pn="blob",sn="si08",qe="ui08",pt="uic8",un="si16",on="si32",yt="ur16",lt="ui32",rt="fl32",Ct="fl64",Nn=ut+en.length,Ut=Object.prototype.toString;function bt($){var Z=$.length*.75,Y=$.length,re,le=0,te,_e,Ee,Ie;$[$.length-1]==="="&&(Z--,$[$.length-2]==="="&&Z--);var Ce=new ArrayBuffer(Z),Pe=new Uint8Array(Ce);for(re=0;re<Y;re+=4)te=Ve.indexOf($[re]),_e=Ve.indexOf($[re+1]),Ee=Ve.indexOf($[re+2]),Ie=Ve.indexOf($[re+3]),Pe[le++]=te<<2|_e>>4,Pe[le++]=(_e&15)<<4|Ee>>2,Pe[le++]=(Ee&3)<<6|Ie&63;return Ce}function Nt($){var Z=new Uint8Array($),Y="",re;for(re=0;re<Z.length;re+=3)Y+=Ve[Z[re]>>2],Y+=Ve[(Z[re]&3)<<4|Z[re+1]>>4],Y+=Ve[(Z[re+1]&15)<<2|Z[re+2]>>6],Y+=Ve[Z[re+2]&63];return Z.length%3===2?Y=Y.substring(0,Y.length-1)+"=":Z.length%3===1&&(Y=Y.substring(0,Y.length-2)+"=="),Y}function Ln($,Z){var Y="";if($&&(Y=Ut.call($)),$&&(Y==="[object ArrayBuffer]"||$.buffer&&Ut.call($.buffer)==="[object ArrayBuffer]")){var re,le=Be;$ instanceof ArrayBuffer?(re=$,le+=en):(re=$.buffer,Y==="[object Int8Array]"?le+=sn:Y==="[object Uint8Array]"?le+=qe:Y==="[object Uint8ClampedArray]"?le+=pt:Y==="[object Int16Array]"?le+=un:Y==="[object Uint16Array]"?le+=yt:Y==="[object Int32Array]"?le+=on:Y==="[object Uint32Array]"?le+=lt:Y==="[object Float32Array]"?le+=rt:Y==="[object Float64Array]"?le+=Ct:Z(new Error("Failed to get type for BinaryArray"))),Z(le+Nt(re))}else if(Y==="[object Blob]"){var te=new FileReader;te.onload=function(){var _e=ot+$.type+"~"+Nt(this.result);Z(Be+pn+_e)},te.readAsArrayBuffer($)}else try{Z(JSON.stringify($))}catch(_e){console.error("Couldn't convert value into a JSON string: ",$),Z(null,_e)}}function Jt($){if($.substring(0,ut)!==Be)return JSON.parse($);var Z=$.substring(Nn),Y=$.substring(ut,Nn),re;if(Y===pn&&ft.test(Z)){var le=Z.match(ft);re=le[1],Z=Z.substring(le[0].length)}var te=bt(Z);switch(Y){case en:return te;case pn:return p([te],{type:re});case sn:return new Int8Array(te);case qe:return new Uint8Array(te);case pt:return new Uint8ClampedArray(te);case un:return new Int16Array(te);case yt:return new Uint16Array(te);case on:return new Int32Array(te);case lt:return new Uint32Array(te);case rt:return new Float32Array(te);case Ct:return new Float64Array(te);default:throw new Error("Unkown type: "+Y)}}var mt={serialize:Ln,deserialize:Jt,stringToBuffer:bt,bufferToString:Nt};function fr($,Z,Y,re){$.executeSql("CREATE TABLE IF NOT EXISTS "+Z.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],Y,re)}function Vr($){var Z=this,Y={db:null};if($)for(var re in $)Y[re]=typeof $[re]!="string"?$[re].toString():$[re];var le=new h(function(te,_e){try{Y.db=openDatabase(Y.name,String(Y.version),Y.description,Y.size)}catch(Ee){return _e(Ee)}Y.db.transaction(function(Ee){fr(Ee,Y,function(){Z._dbInfo=Y,te()},function(Ie,Ce){_e(Ce)})},_e)});return Y.serializer=mt,le}function Gn($,Z,Y,re,le,te){$.executeSql(Y,re,le,function(_e,Ee){Ee.code===Ee.SYNTAX_ERR?_e.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[Z.storeName],function(Ie,Ce){Ce.rows.length?te(Ie,Ee):fr(Ie,Z,function(){Ie.executeSql(Y,re,le,te)},te)},te):te(_e,Ee)},te)}function qr($,Z){var Y=this;$=b($);var re=new h(function(le,te){Y.ready().then(function(){var _e=Y._dbInfo;_e.db.transaction(function(Ee){Gn(Ee,_e,"SELECT * FROM "+_e.storeName+" WHERE key = ? LIMIT 1",[$],function(Ie,Ce){var Pe=Ce.rows.length?Ce.rows.item(0).value:null;Pe&&(Pe=_e.serializer.deserialize(Pe)),le(Pe)},function(Ie,Ce){te(Ce)})})}).catch(te)});return v(re,Z),re}function Dr($,Z){var Y=this,re=new h(function(le,te){Y.ready().then(function(){var _e=Y._dbInfo;_e.db.transaction(function(Ee){Gn(Ee,_e,"SELECT * FROM "+_e.storeName,[],function(Ie,Ce){for(var Pe=Ce.rows,We=Pe.length,wt=0;wt<We;wt++){var Ft=Pe.item(wt),tn=Ft.value;if(tn&&(tn=_e.serializer.deserialize(tn)),tn=$(tn,Ft.key,wt+1),tn!==void 0){le(tn);return}}le()},function(Ie,Ce){te(Ce)})})}).catch(te)});return v(re,Z),re}function Lt($,Z,Y,re){var le=this;$=b($);var te=new h(function(_e,Ee){le.ready().then(function(){Z===void 0&&(Z=null);var Ie=Z,Ce=le._dbInfo;Ce.serializer.serialize(Z,function(Pe,We){We?Ee(We):Ce.db.transaction(function(wt){Gn(wt,Ce,"INSERT OR REPLACE INTO "+Ce.storeName+" (key, value) VALUES (?, ?)",[$,Pe],function(){_e(Ie)},function(Ft,tn){Ee(tn)})},function(wt){if(wt.code===wt.QUOTA_ERR){if(re>0){_e(Lt.apply(le,[$,Ie,Y,re-1]));return}Ee(wt)}})})}).catch(Ee)});return v(te,Y),te}function Tn($,Z,Y){return Lt.apply(this,[$,Z,Y,1])}function Xe($,Z){var Y=this;$=b($);var re=new h(function(le,te){Y.ready().then(function(){var _e=Y._dbInfo;_e.db.transaction(function(Ee){Gn(Ee,_e,"DELETE FROM "+_e.storeName+" WHERE key = ?",[$],function(){le()},function(Ie,Ce){te(Ce)})})}).catch(te)});return v(re,Z),re}function kt($){var Z=this,Y=new h(function(re,le){Z.ready().then(function(){var te=Z._dbInfo;te.db.transaction(function(_e){Gn(_e,te,"DELETE FROM "+te.storeName,[],function(){re()},function(Ee,Ie){le(Ie)})})}).catch(le)});return v(Y,$),Y}function hr($){var Z=this,Y=new h(function(re,le){Z.ready().then(function(){var te=Z._dbInfo;te.db.transaction(function(_e){Gn(_e,te,"SELECT COUNT(key) as c FROM "+te.storeName,[],function(Ee,Ie){var Ce=Ie.rows.item(0).c;re(Ce)},function(Ee,Ie){le(Ie)})})}).catch(le)});return v(Y,$),Y}function ai($,Z){var Y=this,re=new h(function(le,te){Y.ready().then(function(){var _e=Y._dbInfo;_e.db.transaction(function(Ee){Gn(Ee,_e,"SELECT key FROM "+_e.storeName+" WHERE id = ? LIMIT 1",[$+1],function(Ie,Ce){var Pe=Ce.rows.length?Ce.rows.item(0).key:null;le(Pe)},function(Ie,Ce){te(Ce)})})}).catch(te)});return v(re,Z),re}function Le($){var Z=this,Y=new h(function(re,le){Z.ready().then(function(){var te=Z._dbInfo;te.db.transaction(function(_e){Gn(_e,te,"SELECT key FROM "+te.storeName,[],function(Ee,Ie){for(var Ce=[],Pe=0;Pe<Ie.rows.length;Pe++)Ce.push(Ie.rows.item(Pe).key);re(Ce)},function(Ee,Ie){le(Ie)})})}).catch(le)});return v(Y,$),Y}function it($){return new h(function(Z,Y){$.transaction(function(re){re.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(le,te){for(var _e=[],Ee=0;Ee<te.rows.length;Ee++)_e.push(te.rows.item(Ee).name);Z({db:$,storeNames:_e})},function(le,te){Y(te)})},function(re){Y(re)})})}function ht($,Z){Z=_.apply(this,arguments);var Y=this.config();$=typeof $!="function"&&$||{},$.name||($.name=$.name||Y.name,$.storeName=$.storeName||Y.storeName);var re=this,le;return $.name?le=new h(function(te){var _e;$.name===Y.name?_e=re._dbInfo.db:_e=openDatabase($.name,"","",0),$.storeName?te({db:_e,storeNames:[$.storeName]}):te(it(_e))}).then(function(te){return new h(function(_e,Ee){te.db.transaction(function(Ie){function Ce(Ft){return new h(function(tn,Wn){Ie.executeSql("DROP TABLE IF EXISTS "+Ft,[],function(){tn()},function(mn,Pi){Wn(Pi)})})}for(var Pe=[],We=0,wt=te.storeNames.length;We<wt;We++)Pe.push(Ce(te.storeNames[We]));h.all(Pe).then(function(){_e()}).catch(function(Ft){Ee(Ft)})},function(Ie){Ee(Ie)})})}):le=h.reject("Invalid arguments"),v(le,Z),le}var Yn={_driver:"webSQLStorage",_initStorage:Vr,_support:De(),iterate:Dr,getItem:qr,setItem:Tn,removeItem:Xe,clear:kt,length:hr,key:ai,keys:Le,dropInstance:ht};function pr(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function li($,Z){var Y=$.name+"/";return $.storeName!==Z.storeName&&(Y+=$.storeName+"/"),Y}function Ai(){var $="_localforage_support_test";try{return localStorage.setItem($,!0),localStorage.removeItem($),!1}catch{return!0}}function Mr(){return!Ai()||localStorage.length>0}function Kn($){var Z=this,Y={};if($)for(var re in $)Y[re]=$[re];return Y.keyPrefix=li($,Z._defaultConfig),Mr()?(Z._dbInfo=Y,Y.serializer=mt,h.resolve()):h.reject()}function _t($){var Z=this,Y=Z.ready().then(function(){for(var re=Z._dbInfo.keyPrefix,le=localStorage.length-1;le>=0;le--){var te=localStorage.key(le);te.indexOf(re)===0&&localStorage.removeItem(te)}});return v(Y,$),Y}function tr($,Z){var Y=this;$=b($);var re=Y.ready().then(function(){var le=Y._dbInfo,te=localStorage.getItem(le.keyPrefix+$);return te&&(te=le.serializer.deserialize(te)),te});return v(re,Z),re}function mo($,Z){var Y=this,re=Y.ready().then(function(){for(var le=Y._dbInfo,te=le.keyPrefix,_e=te.length,Ee=localStorage.length,Ie=1,Ce=0;Ce<Ee;Ce++){var Pe=localStorage.key(Ce);if(Pe.indexOf(te)===0){var We=localStorage.getItem(Pe);if(We&&(We=le.serializer.deserialize(We)),We=$(We,Pe.substring(_e),Ie++),We!==void 0)return We}}});return v(re,Z),re}function Da($,Z){var Y=this,re=Y.ready().then(function(){var le=Y._dbInfo,te;try{te=localStorage.key($)}catch{te=null}return te&&(te=te.substring(le.keyPrefix.length)),te});return v(re,Z),re}function du($){var Z=this,Y=Z.ready().then(function(){for(var re=Z._dbInfo,le=localStorage.length,te=[],_e=0;_e<le;_e++){var Ee=localStorage.key(_e);Ee.indexOf(re.keyPrefix)===0&&te.push(Ee.substring(re.keyPrefix.length))}return te});return v(Y,$),Y}function fu($){var Z=this,Y=Z.keys().then(function(re){return re.length});return v(Y,$),Y}function Ll($,Z){var Y=this;$=b($);var re=Y.ready().then(function(){var le=Y._dbInfo;localStorage.removeItem(le.keyPrefix+$)});return v(re,Z),re}function Qt($,Z,Y){var re=this;$=b($);var le=re.ready().then(function(){Z===void 0&&(Z=null);var te=Z;return new h(function(_e,Ee){var Ie=re._dbInfo;Ie.serializer.serialize(Z,function(Ce,Pe){if(Pe)Ee(Pe);else try{localStorage.setItem(Ie.keyPrefix+$,Ce),_e(te)}catch(We){(We.name==="QuotaExceededError"||We.name==="NS_ERROR_DOM_QUOTA_REACHED")&&Ee(We),Ee(We)}})})});return v(le,Y),le}function bi($,Z){if(Z=_.apply(this,arguments),$=typeof $!="function"&&$||{},!$.name){var Y=this.config();$.name=$.name||Y.name,$.storeName=$.storeName||Y.storeName}var re=this,le;return $.name?le=new h(function(te){$.storeName?te(li($,re._defaultConfig)):te($.name+"/")}).then(function(te){for(var _e=localStorage.length-1;_e>=0;_e--){var Ee=localStorage.key(_e);Ee.indexOf(te)===0&&localStorage.removeItem(Ee)}}):le=h.reject("Invalid arguments"),v(le,Z),le}var Yi={_driver:"localStorageWrapper",_initStorage:Kn,_support:pr(),iterate:mo,getItem:tr,setItem:Qt,removeItem:Ll,clear:_t,length:fu,key:Da,keys:du,dropInstance:bi},ji=function(Z,Y){return Z===Y||typeof Z=="number"&&typeof Y=="number"&&isNaN(Z)&&isNaN(Y)},Lo=function(Z,Y){for(var re=Z.length,le=0;le<re;){if(ji(Z[le],Y))return!0;le++}return!1},Ki=Array.isArray||function($){return Object.prototype.toString.call($)==="[object Array]"},Fn={},_f={},Fo={INDEXEDDB:$e,WEBSQL:Yn,LOCALSTORAGE:Yi},zo=[Fo.INDEXEDDB._driver,Fo.WEBSQL._driver,Fo.LOCALSTORAGE._driver],Ws=["dropInstance"],Wi=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Ws),tA={description:"",driver:zo.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function lg($,Z){$[Z]=function(){var Y=arguments;return $.ready().then(function(){return $[Z].apply($,Y)})}}function hu(){for(var $=1;$<arguments.length;$++){var Z=arguments[$];if(Z)for(var Y in Z)Z.hasOwnProperty(Y)&&(Ki(Z[Y])?arguments[0][Y]=Z[Y].slice():arguments[0][Y]=Z[Y])}return arguments[0]}var nA=function(){function $(Z){l(this,$);for(var Y in Fo)if(Fo.hasOwnProperty(Y)){var re=Fo[Y],le=re._driver;this[Y]=le,Fn[le]||this.defineDriver(re)}this._defaultConfig=hu({},tA),this._config=hu({},this._defaultConfig,Z),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return $.prototype.config=function(Y){if((typeof Y>"u"?"undefined":s(Y))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var re in Y){if(re==="storeName"&&(Y[re]=Y[re].replace(/\W/g,"_")),re==="version"&&typeof Y[re]!="number")return new Error("Database version must be a number.");this._config[re]=Y[re]}return"driver"in Y&&Y.driver?this.setDriver(this._config.driver):!0}else return typeof Y=="string"?this._config[Y]:this._config},$.prototype.defineDriver=function(Y,re,le){var te=new h(function(_e,Ee){try{var Ie=Y._driver,Ce=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!Y._driver){Ee(Ce);return}for(var Pe=Wi.concat("_initStorage"),We=0,wt=Pe.length;We<wt;We++){var Ft=Pe[We],tn=!Lo(Ws,Ft);if((tn||Y[Ft])&&typeof Y[Ft]!="function"){Ee(Ce);return}}var Wn=function(){for(var Ba=function(mu){return function(){var wf=new Error("Method "+mu+" is not implemented by the current driver"),vu=h.reject(wf);return v(vu,arguments[arguments.length-1]),vu}},gu=0,Sf=Ws.length;gu<Sf;gu++){var xf=Ws[gu];Y[xf]||(Y[xf]=Ba(xf))}};Wn();var mn=function(Ba){Fn[Ie]&&console.info("Redefining LocalForage driver: "+Ie),Fn[Ie]=Y,_f[Ie]=Ba,_e()};"_support"in Y?Y._support&&typeof Y._support=="function"?Y._support().then(mn,Ee):mn(!!Y._support):mn(!0)}catch(Pi){Ee(Pi)}});return y(te,re,le),te},$.prototype.driver=function(){return this._driver||null},$.prototype.getDriver=function(Y,re,le){var te=Fn[Y]?h.resolve(Fn[Y]):h.reject(new Error("Driver not found."));return y(te,re,le),te},$.prototype.getSerializer=function(Y){var re=h.resolve(mt);return y(re,Y),re},$.prototype.ready=function(Y){var re=this,le=re._driverSet.then(function(){return re._ready===null&&(re._ready=re._initDriver()),re._ready});return y(le,Y,Y),le},$.prototype.setDriver=function(Y,re,le){var te=this;Ki(Y)||(Y=[Y]);var _e=this._getSupportedDrivers(Y);function Ee(){te._config.driver=te.driver()}function Ie(We){return te._extend(We),Ee(),te._ready=te._initStorage(te._config),te._ready}function Ce(We){return function(){var wt=0;function Ft(){for(;wt<We.length;){var tn=We[wt];return wt++,te._dbInfo=null,te._ready=null,te.getDriver(tn).then(Ie).catch(Ft)}Ee();var Wn=new Error("No available storage method found.");return te._driverSet=h.reject(Wn),te._driverSet}return Ft()}}var Pe=this._driverSet!==null?this._driverSet.catch(function(){return h.resolve()}):h.resolve();return this._driverSet=Pe.then(function(){var We=_e[0];return te._dbInfo=null,te._ready=null,te.getDriver(We).then(function(wt){te._driver=wt._driver,Ee(),te._wrapLibraryMethodsWithReady(),te._initDriver=Ce(_e)})}).catch(function(){Ee();var We=new Error("No available storage method found.");return te._driverSet=h.reject(We),te._driverSet}),y(this._driverSet,re,le),this._driverSet},$.prototype.supports=function(Y){return!!_f[Y]},$.prototype._extend=function(Y){hu(this,Y)},$.prototype._getSupportedDrivers=function(Y){for(var re=[],le=0,te=Y.length;le<te;le++){var _e=Y[le];this.supports(_e)&&re.push(_e)}return re},$.prototype._wrapLibraryMethodsWithReady=function(){for(var Y=0,re=Wi.length;Y<re;Y++)lg(this,Wi[Y])},$.prototype.createInstance=function(Y){return new $(Y)},$}(),pu=new nA;r.exports=pu},{3:3}]},{},[4])(4)})}(M1)),M1.exports}var rX=nX();const ip=Pr(rX),fD=Object.freeze(Object.defineProperty({__proto__:null,default:ip},Symbol.toStringTag,{value:"Module"}));let Eh=null;async function yv(){if(!Eh)if("localStorage"in globalThis)try{Eh=uf(async()=>{const{default:e}=await Promise.resolve().then(()=>fD);return{default:e}},void 0).then(({default:e})=>e.createInstance({name:"localforage"}))}catch(e){console.error(e),Eh=Promise.resolve(st.memory)}else Eh=Promise.resolve(st.memory);return Eh}const Hd=e=>fs.generateSongFile(e),hD=async e=>{var n;const t=Hd(e);return await((n=await yv())==null?void 0:n.getItem(t))||{plays:0,scores:[]}},pD=async(e,t)=>{var n;await((n=await yv())==null?void 0:n.setItem(Hd(e),t))},iX=async()=>{var n;const e=await((n=await yv())==null?void 0:n.keys())??[],t={};return await Promise.all(e.map(async r=>{var i;t[r]=await((i=await yv())==null?void 0:i.getItem(r))})),t};me.songEnded.subscribe(async(e,t,n,r)=>{if(n.every(l=>l.score===0))return;let i=await(ip==null?void 0:ip.getItem(Hd(e)));const s={setup:t,scores:n,date:new Date().toISOString(),progress:r};i?(i.scores=[...(i==null?void 0:i.scores)??[],s],i.plays=i.scores.length):i={plays:1,scores:[s]},await pD(e,i),me.songStatStored.dispatch(Hd(e),i)});const qd="session-player-names",sX="previous-player-names";function oX(e){return e!=null}me.songStarted.subscribe((e,t)=>{let n=JSON.parse(st.session.getItem(qd))||[];const r=t.players.map(({number:s})=>tt.getPlayer(s)).filter(oX).map(s=>s.getName().trim()),i=[...n].concat(...r);n=[...new Set(i)].filter(Boolean),st.session.setItem(qd,JSON.stringify(n)),st.session.setItem(sX,JSON.stringify(r))});me.songScoreUpdated.subscribe((e,t,n)=>{let r=JSON.parse(st.session.getItem(qd))||[];const i=[...r].concat(n);r=[...new Set(i)].filter(Boolean),st.session.setItem(qd,JSON.stringify(r))});function aX(e,t){const n=t<0?e.length+t:t;return e[n]}[].at||(Array.prototype.at=function(e){return aX(this,e)});[].findLastIndex||(Array.prototype.findLastIndex=function(e,t){for(let n=this.length-1;n>=0;n--)if(e.call(t,this[n],n,this))return n;return-1});var lX="Expected a function";function Td(e,t,n){var r=!0,i=!0;if(typeof e!="function")throw new TypeError(lX);return ho(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),P4(e,t,{leading:r,maxWait:t,trailing:i})}class cX extends Ys{constructor(){super(...arguments),this.stream=null,this.context=null,this.interval=null,this.frequencies=[0,0],this.volumes=[0,0],this.startedMonitoring=!1,this.startMonitoring=async t=>{if(!this.startedMonitoring){this.startedMonitoring=!0;try{this.stream=await _l.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!1},video:!1});try{this.context=new AudioContext;const n=this.context.createMediaStreamSource(this.stream),r=this.context.createAnalyser();r.fftSize=2048,r.minDecibels=-100,n.connect(r);const i=new I4;await i.init(this.context,r.fftSize),this.interval=setInterval(async()=>{const s=new Float32Array(r.fftSize);r.getFloatTimeDomainData(s);const l=await i.getFrequency(s),c=this.calculateVolume(s);this.frequencies=[l,l],this.volumes=[c,c],this.onUpdate(l,c)},this.context.sampleRate/r.fftSize),me.micMonitoringStarted.dispatch()}catch(n){fo(n),console.error(n)}}catch(n){n.name!=="NotAllowedError"&&fo(n,{level:"warning",extra:{message:"SimplifiedMic.startMonitoring"}}),console.warn(n)}}},this.getFrequencies=()=>this.frequencies,this.getVolumes=()=>this.volumes,this.clearFrequencies=t=>{},this.stopMonitoring=async()=>{var t,n;if(this.startedMonitoring){this.startedMonitoring=!1,this.interval&&clearInterval(this.interval),(t=this.stream)==null||t.getTracks().forEach(function(r){r.stop()});try{await((n=this.context)==null?void 0:n.close())}catch(r){console.log("MicInput.stoMonitoring error",r)}me.micMonitoringStopped.dispatch()}},this.getInputLag=()=>180,this.requestReadiness=()=>Promise.resolve(!0),this.getStatus=()=>"ok"}calculateVolume(t){let n,r=0;for(n=0;n<t.length;++n)r+=t[n]*t[n];return Math.sqrt(r/t.length)}}const ro=new cX;class uX extends Ys{constructor(){super(...arguments),this.connection=null,this.roomId=null,this.isConnected=()=>{var t;return(((t=this.connection)==null?void 0:t.readyState)??1/0)<2},this.close=()=>{var t;(t=this.connection)==null||t.close()}}connect(t,n,r,i,s){this.roomId=n,this.connection=new WebSocket(`${F4}/party/${n}`),this.connection.binaryType="arraybuffer",this.connection.onopen=()=>{var l;(l=this.connection)==null||l.send(Fs({t:"register-player",id:t,roomId:n}))},this.connection.onmessage=l=>{const c=Zd(l.data);c.t==="forward"?this.onUpdate(c.payload):c.t==="connected"&&r()},this.connection.onclose=l=>{var d;let c="unknown";try{c=(d=JSON.parse(l.reason))==null?void 0:d.error}catch{console.info("could not parse close reason",l)}this.clearAllListeners(),i(c,l)},this.connection.onerror=l=>{this.clearAllListeners(),s("error",l)}}sendEvent(t){var n,r;((n=this.connection)==null?void 0:n.readyState)===WebSocket.OPEN&&((r=this.connection)==null||r.send(Fs({t:"forward",recipients:[this.roomId],payload:t})))}}class dX extends Ys{constructor(){super(...arguments),this.peer=null,this.connection=null,this.unavailableIdRetries=0,this.unavailableIdRetryTimeout=null,this.connectToRoom=(t,n,r)=>{var i;this.connection=this.peer.connect(`allkaraoke-party-room-${t}`),this.connection.on("open",()=>{n()}),this.connection.on("close",()=>r("closed",null)),(i=this.connection)==null||i.on("data",s=>{console.log(s),this.onUpdate(s)})},this.isConnected=()=>{var t,n;return!!((t=this.connection)!=null&&t.open)&&!((n=this.peer)!=null&&n.disconnected)},this.close=()=>{var t;(t=this.connection)==null||t.close()}}connect(t,n,r,i,s){this.peer&&!this.peer.disconnected?this.connectToRoom(n,r,i):(this.peer=new my(t,{...z4,debug:3}),this.peer.on("open",()=>{this.connectToRoom(n,r,i)}),this.peer.on("error",l=>{var c,d;l.type==="unavailable-id"&&this.unavailableIdRetries<3&&this.unavailableIdRetryTimeout===null?((d=(c=this.peer)==null?void 0:c.destroy)==null||d.call(c),this.unavailableIdRetryTimeout=setTimeout(()=>{this.unavailableIdRetryTimeout=null,this.unavailableIdRetries++,this.connect(t,n,r,i,s)},1750)):(this.unavailableIdRetries=0,console.error(l.type,l),i(l.type,l))}))}sendEvent(t){var n;(n=this.connection)==null||n.send(t)}}class fX extends Ys{constructor(){super(...arguments),this.connection=null,this.roomId=null,this.isConnected=()=>{var t;return(((t=this.connection)==null?void 0:t.readyState)??1/0)<2},this.close=()=>{var t;(t=this.connection)==null||t.close()}}connect(t,n,r,i,s){this.roomId=n,this.connection=new WebSocket(K4),this.connection.binaryType="arraybuffer",this.connection.onopen=()=>{var l;(l=this.connection)==null||l.send(Fs({t:"register-player",id:t,roomId:n}))},this.connection.onmessage=l=>{const c=Zd(l.data);c.t==="forward"?this.onUpdate(c.payload):c.t==="connected"&&r()},this.connection.onclose=l=>{var d;let c="unknown";try{c=(d=JSON.parse(l.reason))==null?void 0:d.error}catch{console.info("could not parse close reason",l)}this.clearAllListeners(),i(c,l)},this.connection.onerror=l=>{this.clearAllListeners(),s("error",l)}}sendEvent(t){var n;(n=this.connection)==null||n.send(Fs({t:"forward",recipients:[this.roomId],payload:t}))}}const z5=(e,t)=>{if(e===0)return 0;const n=Math.pow(10,t);return Math.round(e*n)/n};let Lm;const hX=new Uint8Array(16);function pX(){if(!Lm&&(Lm=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Lm))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Lm(hX)}const Jr=[];for(let e=0;e<256;++e)Jr.push((e+256).toString(16).slice(1));function gX(e,t=0){return Jr[e[t+0]]+Jr[e[t+1]]+Jr[e[t+2]]+Jr[e[t+3]]+"-"+Jr[e[t+4]]+Jr[e[t+5]]+"-"+Jr[e[t+6]]+Jr[e[t+7]]+"-"+Jr[e[t+8]]+Jr[e[t+9]]+"-"+Jr[e[t+10]]+Jr[e[t+11]]+Jr[e[t+12]]+Jr[e[t+13]]+Jr[e[t+14]]+Jr[e[t+15]]}const mX=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),$5={randomUUID:mX};function Av(e,t,n){if($5.randomUUID&&!t&&!e)return $5.randomUUID();e=e||{};const r=e.random||(e.rng||pX)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,gX(r)}const lx="MIC_CLIENT_ID",sa={};class vX{constructor(){this.clientId=st.getItem(lx),this.roomId=null,this.reconnecting=!1,this.connected=!1,this.frequencies=[],this.sendFrequencies=Td(t=>{const n=this.frequencies.map(r=>z5(r,2));this.frequencies.length=0,this.sendEvent("freq",[n,z5(t,4)])},50),this.onFrequencyUpdate=Td((t,n)=>{this.frequencies.push(t),this.sendFrequencies(n)},1e3/60),this.getClientId=()=>this.clientId,this.setClientId=t=>{this.clientId=t,st.setItem(lx,t)},this.connect=(t,n,r)=>{const i=t.toLowerCase();if(this.transport||(this.transport=i.startsWith("w")?new fX:i.startsWith("k")?new uX:new dX),this.clientId===null&&this.setClientId(Av()),this.roomId=i,this.transport.isConnected()){console.log("not reconnecting",this.transport);return}this.reconnecting||me.karaokeConnectionStatusChange.dispatch("connecting"),this.transport.connect(this.clientId,this.roomId,()=>{this.connectToServer(i,n,r)},(s,l)=>{var c;if(s==="unavailable-id"){this.setClientId(Av()),this.connect(i,n,r);return}global.removeEventListener("beforeunload",this.disconnect),this.reconnecting?me.karaokeConnectionStatusChange.dispatch("reconnecting"):this.connected?me.karaokeConnectionStatusChange.dispatch("disconnected"):(me.karaokeConnectionStatusChange.dispatch("error",s),er.capture("remote_mic_connection_error",{reason:s,transport:(c=this.roomId)==null?void 0:c.charAt(0)})),me.remoteMicPlayerSet.dispatch(null),me.remoteKeyboardLayout.dispatch(void 0),ro.removeListener(this.onFrequencyUpdate),ro.stopMonitoring(),s!=="player-removed"&&!this.reconnecting&&this.connected&&(this.reconnecting=!0,setTimeout(()=>this.reconnect(i,n),1500)),this.connected=!1},console.warn)},this.latency=999,this.pingStart=Mi(),this.pinging=!1,this.ping=()=>{this.pinging=!0,this.pingStart=Mi(),this.sendEvent("ping",{p:this.pingStart})},this.reportPing=Td(t=>er.capture("remote_mic_ping",{ping:t}),6e4),this.onPong=()=>{this.latency=Mi()-this.pingStart,this.pinging=!1,this.reportPing(this.latency),setTimeout(this.ping,2e3)},this.connectToServer=(t,n,r)=>{var i;this.connected=!0,this.reconnecting=!1,me.karaokeConnectionStatusChange.dispatch("connected"),er.capture("remote_mic_connection_successful",{transport:(i=this.roomId)==null?void 0:i.charAt(0)}),this.sendEvent("register",{name:n,id:this.clientId,silent:r,lag:hV.get()}),this.ping(),global==null||global.addEventListener("beforeunload",this.disconnect),this.transport.addListener(s=>{var c,d;const l=s.t;l==="start-monitor"?(ro.removeListener(this.onFrequencyUpdate),ro.addListener(this.onFrequencyUpdate),ro.startMonitoring(void 0)):l==="stop-monitor"?(ro.removeListener(this.onFrequencyUpdate),ro.stopMonitoring()):l==="set-player-number"?me.remoteMicPlayerSet.dispatch(s.playerNumber):l==="keyboard-layout"?me.remoteKeyboardLayout.dispatch(s.help):l==="reload-mic"?(global.removeEventListener("beforeunload",this.disconnect),this.sendEvent("unregister"),st.session.setItem("reload-mic-request","1"),(c=document.getElementById("phone-ui-container"))==null||c.remove(),(d=global.location)==null||d.reload()):l==="request-readiness"?me.remoteReadinessRequested.dispatch():l==="pong"?this.onPong():l==="ping"?this.sendEvent("pong"):l==="set-permissions"?me.remoteMicPermissionsSet.dispatch(s.level):l==="remote-mics-list"?me.remoteMicListUpdated.dispatch(s.list):l==="style-change"&&me.remoteStyleChanged.dispatch(s.style)})},this.reconnect=(t,n)=>{this.reconnecting&&(me.karaokeConnectionStatusChange.dispatch("reconnecting"),this.connect(t,n,!1),setTimeout(()=>this.reconnect(t,n),2e3))},this.sendKeyStroke=t=>{this.sendEvent("keystroke",{key:t})},this.searchSong=t=>{this.sendEvent("search-song",{search:t})},this.sendMySongList=t=>{this.sendEvent("my-list",t)},this.selectSong=t=>{this.sendEvent("select-song",{id:t})},this.requestPlayerChange=(t,n)=>{this.sendEvent("request-mic-select",{id:t,playerNumber:n})},this.confirmReadiness=()=>{this.sendEvent("confirm-readiness")},this.subscribe=t=>{sa[t]===void 0&&(sa[t]=0),sa[t]===0&&this.sendEvent("subscribe-event",{channel:t}),sa[t]++},this.unsubscribe=t=>{sa[t]===void 0&&(sa[t]=0),sa[t]===1&&this.sendEvent("unsubscribe-event",{channel:t}),sa[t]=Math.max(0,sa[t]-1)},this.getSongList=()=>this.sendRequest({t:"request-songlist"},"songlist"),this.getGameInputLag=()=>this.sendRequest({t:"get-game-input-lag-request"},"get-game-input-lag-response"),this.setGameInputLag=t=>this.sendRequest({t:"set-game-input-lag-request",value:t},"get-game-input-lag-response"),this.getMicrophoneInputLag=()=>this.sendRequest({t:"get-microphone-lag-request"},"get-microphone-lag-response"),this.setMicrophoneInputLag=t=>this.sendRequest({t:"set-microphone-lag-request",value:t},"get-microphone-lag-response"),this.removePlayer=t=>this.sendEvent("remove-player",{id:t}),this.sendEvent=(t,n)=>{var r;(r=this.transport)!=null&&r.isConnected()?this.transport.sendEvent({t,...n}):console.debug("not connected, skipping",t,n)},this.sendRequest=({t,...n},r)=>new Promise((i,s)=>{var d;const l=setTimeout(()=>{var u;(u=this.transport)==null||u.removeListener(c),s(`${t} timed out waiting for ${r}`)},1e4),c=u=>{var p;u.t===r&&(clearTimeout(l),(p=this.transport)==null||p.removeListener(c),i(u))};(d=this.transport)==null||d.addListener(c),this.sendEvent(t,n)}),this.disconnect=()=>{var t;(t=this.transport)==null||t.close()}}}const An=new vX,yX="/assets/2020-12-16_-_Christmas_Rock_-_www.FesliyanStudios.com_Steve_Oxen-DMCunqoI.ogg",AX="/assets/376817__original_sound__impact-cinematic-CwEVHJ3C.ogg",bX="/assets/459342__papaninkasettratat__cinematic-music-short-rn-rfKrG.ogg",_X="/assets/60013__qubodup__whoosh-CRSX-bwR.mp3",SX="/assets/Funk%20Cool%20Groove%20(No%20Copyright%20Music)%20By%20Anwar%20Amr-Chfv45i1.ogg",xX="/assets/boo-and-laugh-7060-BidOOj5I.mp3",wX="/assets/croworraven1-6749-Ce48aK2E.mp3",EX="/assets/Halloween%20Cinematic%20by%20Infraction%20_No%20Copyright%20Music_%20%20Halloween%202024%20_%20ezmp3.cc%20_-C2nU6gX4.mp3",TX="/assets/halloween-impact-05-93808-BCpJmIL8.mp3",CX="/assets/scary-music-box-for-spooky-scenes-165983-BgDUokgm.mp3",kX="/assets/menu_back-CXKu2j7w.mp3",MX="data:audio/mpeg;base64,SUQzBAAAAAAAIlRTU0UAAAAOAAADTGF2ZjYwLjMuMTAwAAAAAAAAAAAAAAD/+1QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABYaW5nAAAADwAAABMAAA04AEFBQUFBZWVlZWV/f39/f5GRkZGRkZqampqaoaGhoaGoqKioqLCwsLCwsLe3t7e3vr6+vr7FxcXFxc3Nzc3NzdTU1NTU29vb29vi4uLi4urq6urq6vHx8fHx+Pj4+Pj//////wAAAABMYXZjNjAuMy4AAAAAAAAAAAAAAAAkAuUAAAAAAAANOLGcZrL/+8REAAEA/ADLaAAACh+AGY0AAAFGhC0ZtYMAKP4GYzKwkAUAFJyXj/AAAB7QAAB4eHh4YYAOM////jh4eAAAAAIw8AlNybj/AAAB/AAADw8PDwxwAAGf///5h4eAAAAAIw9hSJuIlQJTskunEz5RFv1Y2byK7n/97llcFmmyCgoMFBQUFAoKCgoMFDX////qAoKChQUFESxJ2AfoAZiMJDhIyAqTJk81xxarn/97lWmgXEJCQoUJCChQUFBQSCgoKChQUv//6YKFAoKCgwUFBQUhBQU0WgEEAFZUiUdVZ7urwsAwAAAoTmeCxjBAdkrnZm5gCuz2BTRyEx8VJUhukDsoNVBjExsWZAsIvo6ZtcOZTJhAKFQlp6a7oGrhgQ1GypacseeN5GgM7LimCHZWKo200F2pFIbcrBxGTFxgYmAAQQh6wspcVlNfLCxvO2HAzIQgDZSzJWt9XFnYFf27////7/0ko32xTymMyqLclUq8QECiT3+7//+laf///9uMHyGvGu2u2so2EgAAAAADIAEGFguPUQDJhoMKHjtm/ExnBISAuP5tq7A0VjIBuAgFjyzu0ITEAhWvB/0sPUTU5MzMnhocNpDqll1v/GBSiOTAAAWq/agAGAMGDkG2YBxmZlUXgGO2D0YAgS4cGyYBIAoNAqIQNjBRA4BAFZgOABuLCYbR9W0P1ijMzWyHU3rL3T2m1K3RtqSLDrfcC31jHuH9r6RUOFIwt0G+T2Y9yNS/FrmLTOcX1qpRxdapf/+f4gPaOLN2fYACixdruAAAHzMDQmBJhGTdzmMADioJDwTNcGAFKgEmAwApvBgDS6/hLpkYzDFewH6hgRt+3pCrr5/3651XUGvoTGe1AAACh1ZV5WQADAgMzFkSzVCXT2T/+6Rk5IAFRzBLfm9kgFGDij/NsCRO4MEnXeeAIQ0NZLe68ATIzWYcjI0FQUTAYG4GARMBYUYAQQoAsBHktFznLy0sSlohrcySM0V97trfW6mUEZ4r3G0Su6apFIYlLPRjDC0HKnNGDPCbCtAP2eeEAA3ZmhL+AAAG5JEGTcHdpB80aHvkDv0YiAhA2mHHOna1doX/uZ6qnnDUzTgKUABohnh230QAAMbEBQnNCETYME2cNbMBjy7BqoGICdqx1SsFklW0zpKswQnCikdnsJ4tsbhp/ASpfR1JaY61CrDJgx/F3EWoNSoEVBqRvuTG5yhcItANgUThn9//+tgCHmIeH3wBoCkKCxgISgSstpAzImgHGYaQ6AVraQgJgaXZN2SAGyriKC3mDpVtvoo5FXA4mYiIj/aAABUhpCZgEAUnGtWKCEAZ/BEFQDhceXTMw8yUktRRlhhbRJYUkSpDzpdNaErxzPiWxVMqtHMxstZL1/1froSdU2dnUSBCnAUUTDiw2FdX+MCo0MrMuDAAAE84aw5jGXtZrP0+3AGAJVVUyjYENrIhERZuDyP8PUISzy7xH/4MlwUJsBBcI7GR4DyaWF6iCwni4hbZmGQWTQIi6L3h+abmhZzs1OZ7gOu0RcL/+4Rk6AAS+iLI+68a+C5DOV9rAxlLuHch7eXlYMgNZP2WFVzAmUIpCmxCchkYSLdCTM0X2sVgAjJ+gEAnQkJe1v9aZjJCCJfFH1YIagNfLtAJODmCQtYaPzBF//yVIIAAAUHjJAVCHeXwjlgBxVOjKgO1ddIsKHgBBT1MQU1FMy4xMDBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVAAABzCFdZkkAAAsCDOBkGYUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVQ0kMkxBTUUzLjEwMKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqoZVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+2Rk7wEStyFJ+08a+icCKR9h4ycGxGkp7CSn6HKE4u2GCJRVVVVVVVVVVVVVVVVVVVVVSUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVSUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjH/+yRk7Idw1QbEowxBAA1AyIgl4wMBUA0PBWMAIBUBolQUmAYwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk6g9wQAJDKU8ACARASJUEQAEAXAsOA4wgIAaAYgAQAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4w/wDwDEAMAACAAAD/AAAAEAGAMUAQAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4o/wBgDEgEAACAAAD/AAAAEADAMaAIAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4g/wAwDGACAACAAAD/AAAAEADAMWAIAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4g/wAwDFgCAACAAAD/AAAAEADAMUAIAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRE4Y/wAAB/gAAACAAAD/AAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRE4Y/wAAB/gAAACAAAD/AAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRE4Y/wAAB/gAAACAAAD/AAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4Y/wAAB/gAAACAAAD/AAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4Y/wAAB/gAAACAAAD/AAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4Y/wAAB/gAAACAAADSAAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4Y/wAAB/gAAACAAAD/AAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4Y/wAAB/gAAACAAAD/AAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4Y/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVU=",RX="/assets/menu_navigate-C6GUIZQM.mp3";class ls{constructor(t){this.options=t,this.sound=null,this.play=async(n=!0)=>{var r,i;try{if(n&&this.playing()){const s=(r=this.sound)==null?void 0:r.cloneNode(!0);await s.play(),s.remove()}else await((i=this.sound)==null?void 0:i.play())}catch(s){return console.warn(s)}},this.pause=()=>{var n;(n=this.sound)==null||n.pause()},this.stop=()=>{this.sound&&(this.sound.pause(),this.sound.currentTime=0)},this.playing=()=>{var n;return!((n=this.sound)!=null&&n.paused)},global.Audio&&(this.sound=new Audio(t.src),this.sound.preload=t.preload?"auto":"none",this.sound.volume=t.volume??1,this.sound.loop=t.loop??!1)}}class Sy{constructor(t,n){this.defaultSound=t,this.themeOverrides=n,this.getProperSound=()=>{var i;const r=Zv.get();return((i=this.themeOverrides)==null?void 0:i[r])??this.defaultSound},this.play=async(r=!0)=>this.getProperSound().play(r),this.pause=()=>this.getProperSound().pause(),this.stop=()=>this.getProperSound().stop(),this.playing=()=>this.getProperSound().playing()}}const xy=new ls({src:RX}),Hw=new ls({src:MX}),qw=new ls({src:kX}),Gw=new Sy(new ls({src:_X,preload:!0,volume:.5}),{halloween:new ls({src:wX,preload:!0,volume:.7})}),k0=new Sy(new ls({src:SX,volume:.3,loop:!0}),{christmas:new ls({src:yX,volume:.25,loop:!0}),halloween:new ls({src:EX,volume:.3,loop:!0})}),gD=new Sy(new ls({src:AX,preload:!0}),{halloween:new ls({src:xX,preload:!0,volume:.4})}),M0=new Sy(new ls({src:bX,volume:.8}),{halloween:new ls({src:CX,volume:.2})}),IX=new ls({src:TX,preload:!0,volume:.5}),OX=Object.freeze(Object.defineProperty({__proto__:null,backgroundMusic:k0,menuBack:qw,menuEnter:Hw,menuNavigate:xy,selectHalloweenSong:IX,waitFinished:gD,waitForReadinessMusic:M0,woosh:Gw},Symbol.toStringTag,{value:"Module"})),jX={RemoteMicClient:An,RemoteMicServer:Ic,GameState:at,GameEvents:me,RemoteMicManager:Vt,SongDao:fs,InputManager:ur,InputSourceManager:Po,CameraManager:Fi,UserMediaService:_l,PlayersManager:tt,SoundManager:OX,importSongs:async()=>{await(await uf(()=>import("./importSongsFromPostHog-Bq9rYtay.js"),[])).default()}};global.__exposeSingletons=()=>{global.__singletons=jX};console.log("Run global.__exposeSingletons() and inspect global.__singletons for debugging");var PX=!1;function VX(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function DX(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var BX=function(){function e(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!PX:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(DX(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=VX(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},e}(),di="-ms-",bv="-moz-",an="-webkit-",mD="comm",Yw="rule",Kw="decl",NX="@import",vD="@keyframes",LX="@layer",FX=Math.abs,wy=String.fromCharCode,zX=Object.assign;function $X(e,t){return ni(e,0)^45?(((t<<2^ni(e,0))<<2^ni(e,1))<<2^ni(e,2))<<2^ni(e,3):0}function yD(e){return e.trim()}function UX(e,t){return(e=t.exec(e))?e[0]:e}function ln(e,t,n){return e.replace(t,n)}function cx(e,t){return e.indexOf(t)}function ni(e,t){return e.charCodeAt(t)|0}function wp(e,t,n){return e.slice(t,n)}function wo(e){return e.length}function Ww(e){return e.length}function Fm(e,t){return t.push(e),e}function HX(e,t){return e.map(t).join("")}var Ey=1,Gd=1,AD=0,Gi=0,kr=0,ff="";function Ty(e,t,n,r,i,s,l){return{value:e,root:t,parent:n,type:r,props:i,children:s,line:Ey,column:Gd,length:l,return:""}}function Th(e,t){return zX(Ty("",null,null,"",null,null,0),e,{length:-e.length},t)}function qX(){return kr}function GX(){return kr=Gi>0?ni(ff,--Gi):0,Gd--,kr===10&&(Gd=1,Ey--),kr}function cs(){return kr=Gi<AD?ni(ff,Gi++):0,Gd++,kr===10&&(Gd=1,Ey++),kr}function Oo(){return ni(ff,Gi)}function R0(){return Gi}function qp(e,t){return wp(ff,e,t)}function Ep(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function bD(e){return Ey=Gd=1,AD=wo(ff=e),Gi=0,[]}function _D(e){return ff="",e}function I0(e){return yD(qp(Gi-1,ux(e===91?e+2:e===40?e+1:e)))}function YX(e){for(;(kr=Oo())&&kr<33;)cs();return Ep(e)>2||Ep(kr)>3?"":" "}function KX(e,t){for(;--t&&cs()&&!(kr<48||kr>102||kr>57&&kr<65||kr>70&&kr<97););return qp(e,R0()+(t<6&&Oo()==32&&cs()==32))}function ux(e){for(;cs();)switch(kr){case e:return Gi;case 34:case 39:e!==34&&e!==39&&ux(kr);break;case 40:e===41&&ux(e);break;case 92:cs();break}return Gi}function WX(e,t){for(;cs()&&e+kr!==57;)if(e+kr===84&&Oo()===47)break;return"/*"+qp(t,Gi-1)+"*"+wy(e===47?e:cs())}function QX(e){for(;!Ep(Oo());)cs();return qp(e,Gi)}function XX(e){return _D(O0("",null,null,null,[""],e=bD(e),0,[0],e))}function O0(e,t,n,r,i,s,l,c,d){for(var u=0,p=0,h=l,v=0,y=0,b=0,_=1,w=1,T=1,k=0,R="",M=i,E=s,O=r,j=R;w;)switch(b=k,k=cs()){case 40:if(b!=108&&ni(j,h-1)==58){cx(j+=ln(I0(k),"&","&\f"),"&\f")!=-1&&(T=-1);break}case 34:case 39:case 91:j+=I0(k);break;case 9:case 10:case 13:case 32:j+=YX(b);break;case 92:j+=KX(R0()-1,7);continue;case 47:switch(Oo()){case 42:case 47:Fm(JX(WX(cs(),R0()),t,n),d);break;default:j+="/"}break;case 123*_:c[u++]=wo(j)*T;case 125*_:case 59:case 0:switch(k){case 0:case 125:w=0;case 59+p:T==-1&&(j=ln(j,/\f/g,"")),y>0&&wo(j)-h&&Fm(y>32?H5(j+";",r,n,h-1):H5(ln(j," ","")+";",r,n,h-2),d);break;case 59:j+=";";default:if(Fm(O=U5(j,t,n,u,p,i,c,R,M=[],E=[],h),s),k===123)if(p===0)O0(j,t,O,O,M,s,h,c,E);else switch(v===99&&ni(j,3)===110?100:v){case 100:case 108:case 109:case 115:O0(e,O,O,r&&Fm(U5(e,O,O,0,0,i,c,R,i,M=[],h),E),i,E,h,c,r?M:E);break;default:O0(j,O,O,O,[""],E,0,c,E)}}u=p=y=0,_=T=1,R=j="",h=l;break;case 58:h=1+wo(j),y=b;default:if(_<1){if(k==123)--_;else if(k==125&&_++==0&&GX()==125)continue}switch(j+=wy(k),k*_){case 38:T=p>0?1:(j+="\f",-1);break;case 44:c[u++]=(wo(j)-1)*T,T=1;break;case 64:Oo()===45&&(j+=I0(cs())),v=Oo(),p=h=wo(R=j+=QX(R0())),k++;break;case 45:b===45&&wo(j)==2&&(_=0)}}return s}function U5(e,t,n,r,i,s,l,c,d,u,p){for(var h=i-1,v=i===0?s:[""],y=Ww(v),b=0,_=0,w=0;b<r;++b)for(var T=0,k=wp(e,h+1,h=FX(_=l[b])),R=e;T<y;++T)(R=yD(_>0?v[T]+" "+k:ln(k,/&\f/g,v[T])))&&(d[w++]=R);return Ty(e,t,n,i===0?Yw:c,d,u,p)}function JX(e,t,n){return Ty(e,t,n,mD,wy(qX()),wp(e,2,-2),0)}function H5(e,t,n,r){return Ty(e,t,n,Kw,wp(e,0,r),wp(e,r+1,-1),r)}function Cd(e,t){for(var n="",r=Ww(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function ZX(e,t,n,r){switch(e.type){case LX:if(e.children.length)break;case NX:case Kw:return e.return=e.return||e.value;case mD:return"";case vD:return e.return=e.value+"{"+Cd(e.children,r)+"}";case Yw:e.value=e.props.join(",")}return wo(n=Cd(e.children,r))?e.return=e.value+"{"+n+"}":""}function eJ(e){var t=Ww(e);return function(n,r,i,s){for(var l="",c=0;c<t;c++)l+=e[c](n,r,i,s)||"";return l}}function tJ(e){return function(t){t.root||(t=t.return)&&e(t)}}function SD(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var nJ=function(t,n,r){for(var i=0,s=0;i=s,s=Oo(),i===38&&s===12&&(n[r]=1),!Ep(s);)cs();return qp(t,Gi)},rJ=function(t,n){var r=-1,i=44;do switch(Ep(i)){case 0:i===38&&Oo()===12&&(n[r]=1),t[r]+=nJ(Gi-1,n,r);break;case 2:t[r]+=I0(i);break;case 4:if(i===44){t[++r]=Oo()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=wy(i)}while(i=cs());return t},iJ=function(t,n){return _D(rJ(bD(t),n))},q5=new WeakMap,sJ=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,i=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!q5.get(r))&&!i){q5.set(t,!0);for(var s=[],l=iJ(n,s),c=r.props,d=0,u=0;d<l.length;d++)for(var p=0;p<c.length;p++,u++)t.props[u]=s[d]?l[d].replace(/&\f/g,c[p]):c[p]+" "+l[d]}}},oJ=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function xD(e,t){switch($X(e,t)){case 5103:return an+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return an+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return an+e+bv+e+di+e+e;case 6828:case 4268:return an+e+di+e+e;case 6165:return an+e+di+"flex-"+e+e;case 5187:return an+e+ln(e,/(\w+).+(:[^]+)/,an+"box-$1$2"+di+"flex-$1$2")+e;case 5443:return an+e+di+"flex-item-"+ln(e,/flex-|-self/,"")+e;case 4675:return an+e+di+"flex-line-pack"+ln(e,/align-content|flex-|-self/,"")+e;case 5548:return an+e+di+ln(e,"shrink","negative")+e;case 5292:return an+e+di+ln(e,"basis","preferred-size")+e;case 6060:return an+"box-"+ln(e,"-grow","")+an+e+di+ln(e,"grow","positive")+e;case 4554:return an+ln(e,/([^-])(transform)/g,"$1"+an+"$2")+e;case 6187:return ln(ln(ln(e,/(zoom-|grab)/,an+"$1"),/(image-set)/,an+"$1"),e,"")+e;case 5495:case 3959:return ln(e,/(image-set\([^]*)/,an+"$1$`$1");case 4968:return ln(ln(e,/(.+:)(flex-)?(.*)/,an+"box-pack:$3"+di+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+an+e+e;case 4095:case 3583:case 4068:case 2532:return ln(e,/(.+)-inline(.+)/,an+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(wo(e)-1-t>6)switch(ni(e,t+1)){case 109:if(ni(e,t+4)!==45)break;case 102:return ln(e,/(.+:)(.+)-([^]+)/,"$1"+an+"$2-$3$1"+bv+(ni(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~cx(e,"stretch")?xD(ln(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(ni(e,t+1)!==115)break;case 6444:switch(ni(e,wo(e)-3-(~cx(e,"!important")&&10))){case 107:return ln(e,":",":"+an)+e;case 101:return ln(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+an+(ni(e,14)===45?"inline-":"")+"box$3$1"+an+"$2$3$1"+di+"$2box$3")+e}break;case 5936:switch(ni(e,t+11)){case 114:return an+e+di+ln(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return an+e+di+ln(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return an+e+di+ln(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return an+e+di+e+e}return e}var aJ=function(t,n,r,i){if(t.length>-1&&!t.return)switch(t.type){case Kw:t.return=xD(t.value,t.length);break;case vD:return Cd([Th(t,{value:ln(t.value,"@","@"+an)})],i);case Yw:if(t.length)return HX(t.props,function(s){switch(UX(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Cd([Th(t,{props:[ln(s,/:(read-\w+)/,":"+bv+"$1")]})],i);case"::placeholder":return Cd([Th(t,{props:[ln(s,/:(plac\w+)/,":"+an+"input-$1")]}),Th(t,{props:[ln(s,/:(plac\w+)/,":"+bv+"$1")]}),Th(t,{props:[ln(s,/:(plac\w+)/,di+"input-$1")]})],i)}return""})}},lJ=[aJ],wD=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(_){var w=_.getAttribute("data-emotion");w.indexOf(" ")!==-1&&(document.head.appendChild(_),_.setAttribute("data-s",""))})}var i=t.stylisPlugins||lJ,s={},l,c=[];l=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(_){for(var w=_.getAttribute("data-emotion").split(" "),T=1;T<w.length;T++)s[w[T]]=!0;c.push(_)});var d,u=[sJ,oJ];{var p,h=[ZX,tJ(function(_){p.insert(_)})],v=eJ(u.concat(i,h)),y=function(w){return Cd(XX(w),v)};d=function(w,T,k,R){p=k,y(w?w+"{"+T.styles+"}":T.styles),R&&(b.inserted[T.name]=!0)}}var b={key:n,sheet:new BX({key:n,container:l,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:s,registered:{},insert:d};return b.sheet.hydrate(c),b};function _v(){return _v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_v.apply(null,arguments)}var cJ=!0;function ED(e,t,n){var r="";return n.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):i&&(r+=i+" ")}),r}var Qw=function(t,n,r){var i=t.key+"-"+n.name;(r===!1||cJ===!1)&&t.registered[i]===void 0&&(t.registered[i]=n.styles)},Xw=function(t,n,r){Qw(t,n,r);var i=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var s=n;do t.insert(n===s?"."+i:"",s,t.sheet,!0),s=s.next;while(s!==void 0)}};function uJ(e){for(var t=0,n,r=0,i=e.length;i>=4;++r,i-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var dJ={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},fJ=!1,hJ=/[A-Z]|^ms/g,pJ=/_EMO_([^_]+?)_([^]*?)_EMO_/g,TD=function(t){return t.charCodeAt(1)===45},G5=function(t){return t!=null&&typeof t!="boolean"},R1=SD(function(e){return TD(e)?e:e.replace(hJ,"-$&").toLowerCase()}),Y5=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(pJ,function(r,i,s){return Eo={name:i,styles:s,next:Eo},i})}return dJ[t]!==1&&!TD(t)&&typeof n=="number"&&n!==0?n+"px":n},gJ="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function Tp(e,t,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return Eo={name:i.name,styles:i.styles,next:Eo},i.name;var s=n;if(s.styles!==void 0){var l=s.next;if(l!==void 0)for(;l!==void 0;)Eo={name:l.name,styles:l.styles,next:Eo},l=l.next;var c=s.styles+";";return c}return mJ(e,t,n)}case"function":{if(e!==void 0){var d=Eo,u=n(e);return Eo=d,Tp(e,t,u)}break}}var p=n;if(t==null)return p;var h=t[p];return h!==void 0?h:p}function mJ(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Tp(e,t,n[i])+";";else for(var s in n){var l=n[s];if(typeof l!="object"){var c=l;t!=null&&t[c]!==void 0?r+=s+"{"+t[c]+"}":G5(c)&&(r+=R1(s)+":"+Y5(s,c)+";")}else{if(s==="NO_COMPONENT_SELECTOR"&&fJ)throw new Error(gJ);if(Array.isArray(l)&&typeof l[0]=="string"&&(t==null||t[l[0]]===void 0))for(var d=0;d<l.length;d++)G5(l[d])&&(r+=R1(s)+":"+Y5(s,l[d])+";");else{var u=Tp(e,t,l);switch(s){case"animation":case"animationName":{r+=R1(s)+":"+u+";";break}default:r+=s+"{"+u+"}"}}}}return r}var K5=/label:\s*([^\s;{]+)\s*(;|$)/g,Eo;function Gp(e,t,n){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var r=!0,i="";Eo=void 0;var s=e[0];if(s==null||s.raw===void 0)r=!1,i+=Tp(n,t,s);else{var l=s;i+=l[0]}for(var c=1;c<e.length;c++)if(i+=Tp(n,t,e[c]),r){var d=s;i+=d[c]}K5.lastIndex=0;for(var u="",p;(p=K5.exec(i))!==null;)u+="-"+p[1];var h=uJ(i)+u;return{name:h,styles:i,next:Eo}}var vJ=function(t){return t()},CD=sv.useInsertionEffect?sv.useInsertionEffect:!1,kD=CD||vJ,W5=CD||x.useLayoutEffect,yJ=!1,MD=x.createContext(typeof HTMLElement<"u"?wD({key:"css"}):null),AJ=MD.Provider,Jw=function(t){return x.forwardRef(function(n,r){var i=x.useContext(MD);return t(n,i,r)})},Yp=x.createContext({}),Zw={}.hasOwnProperty,dx="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",bJ=function(t,n){var r={};for(var i in n)Zw.call(n,i)&&(r[i]=n[i]);return r[dx]=t,r},_J=function(t){var n=t.cache,r=t.serialized,i=t.isStringTag;return Qw(n,r,i),kD(function(){return Xw(n,r,i)}),null},SJ=Jw(function(e,t,n){var r=e.css;typeof r=="string"&&t.registered[r]!==void 0&&(r=t.registered[r]);var i=e[dx],s=[r],l="";typeof e.className=="string"?l=ED(t.registered,s,e.className):e.className!=null&&(l=e.className+" ");var c=Gp(s,void 0,x.useContext(Yp));l+=t.key+"-"+c.name;var d={};for(var u in e)Zw.call(e,u)&&u!=="css"&&u!==dx&&!yJ&&(d[u]=e[u]);return d.className=l,n&&(d.ref=n),x.createElement(x.Fragment,null,x.createElement(_J,{cache:t,serialized:c,isStringTag:typeof i=="string"}),x.createElement(i,d))}),xJ=SJ,Q5=function(t,n){var r=arguments;if(n==null||!Zw.call(n,"css"))return x.createElement.apply(void 0,r);var i=r.length,s=new Array(i);s[0]=xJ,s[1]=bJ(t,n);for(var l=2;l<i;l++)s[l]=r[l];return x.createElement.apply(null,s)};(function(e){var t;t||(t=e.JSX||(e.JSX={}))})(Q5||(Q5={}));var wJ=Jw(function(e,t){var n=e.styles,r=Gp([n],void 0,x.useContext(Yp)),i=x.useRef();return W5(function(){var s=t.key+"-global",l=new t.sheet.constructor({key:s,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),c=!1,d=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return t.sheet.tags.length&&(l.before=t.sheet.tags[0]),d!==null&&(c=!0,d.setAttribute("data-emotion",s),l.hydrate([d])),i.current=[l,c],function(){l.flush()}},[t]),W5(function(){var s=i.current,l=s[0],c=s[1];if(c){s[1]=!1;return}if(r.next!==void 0&&Xw(t,r.next,!0),l.tags.length){var d=l.tags[l.tags.length-1].nextElementSibling;l.before=d,l.flush()}t.insert("",r,l,!1)},[t,r.name]),null});function ou(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Gp(t)}function au(){var e=ou.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function eE(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function EJ(){this.__data__=new Ia,this.size=0}function TJ(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function CJ(e){return this.__data__.get(e)}function kJ(e){return this.__data__.has(e)}var MJ=200;function RJ(e,t){var n=this.__data__;if(n instanceof Ia){var r=n.__data__;if(!_p||r.length<MJ-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Oa(r)}return n.set(e,t),this.size=n.size,this}function jo(e){var t=this.__data__=new Ia(e);this.size=t.size}jo.prototype.clear=EJ;jo.prototype.delete=TJ;jo.prototype.get=CJ;jo.prototype.has=kJ;jo.prototype.set=RJ;function IJ(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var Sv=function(){try{var e=su(Object,"defineProperty");return e({},"",{}),e}catch{}}();function RD(e,t,n){t=="__proto__"&&Sv?Sv(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var OJ=Object.prototype,jJ=OJ.hasOwnProperty;function ID(e,t,n){var r=e[t];(!(jJ.call(e,t)&&uy(r,n))||n===void 0&&!(t in e))&&RD(e,t,n)}function Kp(e,t,n,r){var i=!n;n||(n={});for(var s=-1,l=t.length;++s<l;){var c=t[s],d=void 0;d===void 0&&(d=e[c]),i?RD(n,c,d):ID(n,c,d)}return n}function PJ(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var VJ="[object Arguments]";function X5(e){return Ca(e)&&ru(e)==VJ}var OD=Object.prototype,DJ=OD.hasOwnProperty,BJ=OD.propertyIsEnumerable,tE=X5(function(){return arguments}())?X5:function(e){return Ca(e)&&DJ.call(e,"callee")&&!BJ.call(e,"callee")},Hs=Array.isArray;function NJ(){return!1}var jD=typeof exports=="object"&&exports&&!exports.nodeType&&exports,J5=jD&&typeof module=="object"&&module&&!module.nodeType&&module,LJ=J5&&J5.exports===jD,Z5=LJ?go.Buffer:void 0,FJ=Z5?Z5.isBuffer:void 0,xv=FJ||NJ,zJ="[object Arguments]",$J="[object Array]",UJ="[object Boolean]",HJ="[object Date]",qJ="[object Error]",GJ="[object Function]",YJ="[object Map]",KJ="[object Number]",WJ="[object Object]",QJ="[object RegExp]",XJ="[object Set]",JJ="[object String]",ZJ="[object WeakMap]",eZ="[object ArrayBuffer]",tZ="[object DataView]",nZ="[object Float32Array]",rZ="[object Float64Array]",iZ="[object Int8Array]",sZ="[object Int16Array]",oZ="[object Int32Array]",aZ="[object Uint8Array]",lZ="[object Uint8ClampedArray]",cZ="[object Uint16Array]",uZ="[object Uint32Array]",Pn={};Pn[nZ]=Pn[rZ]=Pn[iZ]=Pn[sZ]=Pn[oZ]=Pn[aZ]=Pn[lZ]=Pn[cZ]=Pn[uZ]=!0;Pn[zJ]=Pn[$J]=Pn[eZ]=Pn[UJ]=Pn[tZ]=Pn[HJ]=Pn[qJ]=Pn[GJ]=Pn[YJ]=Pn[KJ]=Pn[WJ]=Pn[QJ]=Pn[XJ]=Pn[JJ]=Pn[ZJ]=!1;function dZ(e){return Ca(e)&&zw(e.length)&&!!Pn[ru(e)]}function nE(e){return function(t){return e(t)}}var PD=typeof exports=="object"&&exports&&!exports.nodeType&&exports,sp=PD&&typeof module=="object"&&module&&!module.nodeType&&module,fZ=sp&&sp.exports===PD,I1=fZ&&O4.process,Yd=function(){try{var e=sp&&sp.require&&sp.require("util").types;return e||I1&&I1.binding&&I1.binding("util")}catch{}}(),eI=Yd&&Yd.isTypedArray,VD=eI?nE(eI):dZ,hZ=Object.prototype,pZ=hZ.hasOwnProperty;function DD(e,t){var n=Hs(e),r=!n&&tE(e),i=!n&&!r&&xv(e),s=!n&&!r&&!i&&VD(e),l=n||r||i||s,c=l?PJ(e.length,String):[],d=c.length;for(var u in e)(t||pZ.call(e,u))&&!(l&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Uw(u,d)))&&c.push(u);return c}var gZ=Object.prototype;function rE(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||gZ;return e===n}function BD(e,t){return function(n){return e(t(n))}}var mZ=BD(Object.keys,Object),vZ=Object.prototype,yZ=vZ.hasOwnProperty;function AZ(e){if(!rE(e))return mZ(e);var t=[];for(var n in Object(e))yZ.call(e,n)&&n!="constructor"&&t.push(n);return t}function Wp(e){return $w(e)?DD(e):AZ(e)}function bZ(e,t){return e&&Kp(t,Wp(t),e)}function _Z(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var SZ=Object.prototype,xZ=SZ.hasOwnProperty;function wZ(e){if(!ho(e))return _Z(e);var t=rE(e),n=[];for(var r in e)r=="constructor"&&(t||!xZ.call(e,r))||n.push(r);return n}function iE(e){return $w(e)?DD(e,!0):wZ(e)}function EZ(e,t){return e&&Kp(t,iE(t),e)}var ND=typeof exports=="object"&&exports&&!exports.nodeType&&exports,tI=ND&&typeof module=="object"&&module&&!module.nodeType&&module,TZ=tI&&tI.exports===ND,nI=TZ?go.Buffer:void 0,rI=nI?nI.allocUnsafe:void 0;function CZ(e,t){if(t)return e.slice();var n=e.length,r=rI?rI(n):new e.constructor(n);return e.copy(r),r}function LD(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}function kZ(e,t){for(var n=-1,r=e==null?0:e.length,i=0,s=[];++n<r;){var l=e[n];t(l,n,e)&&(s[i++]=l)}return s}function FD(){return[]}var MZ=Object.prototype,RZ=MZ.propertyIsEnumerable,iI=Object.getOwnPropertySymbols,sE=iI?function(e){return e==null?[]:(e=Object(e),kZ(iI(e),function(t){return RZ.call(e,t)}))}:FD;function IZ(e,t){return Kp(e,sE(e),t)}function oE(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var aE=BD(Object.getPrototypeOf,Object),OZ=Object.getOwnPropertySymbols,zD=OZ?function(e){for(var t=[];e;)oE(t,sE(e)),e=aE(e);return t}:FD;function jZ(e,t){return Kp(e,zD(e),t)}function $D(e,t,n){var r=t(e);return Hs(e)?r:oE(r,n(e))}function fx(e){return $D(e,Wp,sE)}function UD(e){return $D(e,iE,zD)}var hx=su(go,"DataView"),px=su(go,"Promise"),kd=su(go,"Set"),gx=su(go,"WeakMap"),sI="[object Map]",PZ="[object Object]",oI="[object Promise]",aI="[object Set]",lI="[object WeakMap]",cI="[object DataView]",VZ=iu(hx),DZ=iu(_p),BZ=iu(px),NZ=iu(kd),LZ=iu(gx),io=ru;(hx&&io(new hx(new ArrayBuffer(1)))!=cI||_p&&io(new _p)!=sI||px&&io(px.resolve())!=oI||kd&&io(new kd)!=aI||gx&&io(new gx)!=lI)&&(io=function(e){var t=ru(e),n=t==PZ?e.constructor:void 0,r=n?iu(n):"";if(r)switch(r){case VZ:return cI;case DZ:return sI;case BZ:return oI;case NZ:return aI;case LZ:return lI}return t});var FZ=Object.prototype,zZ=FZ.hasOwnProperty;function $Z(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&zZ.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var wv=go.Uint8Array;function lE(e){var t=new e.constructor(e.byteLength);return new wv(t).set(new wv(e)),t}function UZ(e,t){var n=t?lE(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var HZ=/\w*$/;function qZ(e){var t=new e.constructor(e.source,HZ.exec(e));return t.lastIndex=e.lastIndex,t}var uI=Us?Us.prototype:void 0,dI=uI?uI.valueOf:void 0;function GZ(e){return dI?Object(dI.call(e)):{}}function YZ(e,t){var n=t?lE(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var KZ="[object Boolean]",WZ="[object Date]",QZ="[object Map]",XZ="[object Number]",JZ="[object RegExp]",ZZ="[object Set]",eee="[object String]",tee="[object Symbol]",nee="[object ArrayBuffer]",ree="[object DataView]",iee="[object Float32Array]",see="[object Float64Array]",oee="[object Int8Array]",aee="[object Int16Array]",lee="[object Int32Array]",cee="[object Uint8Array]",uee="[object Uint8ClampedArray]",dee="[object Uint16Array]",fee="[object Uint32Array]";function hee(e,t,n){var r=e.constructor;switch(t){case nee:return lE(e);case KZ:case WZ:return new r(+e);case ree:return UZ(e,n);case iee:case see:case oee:case aee:case lee:case cee:case uee:case dee:case fee:return YZ(e,n);case QZ:return new r;case XZ:case eee:return new r(e);case JZ:return qZ(e);case ZZ:return new r;case tee:return GZ(e)}}var fI=Object.create,pee=function(){function e(){}return function(t){if(!ho(t))return{};if(fI)return fI(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function gee(e){return typeof e.constructor=="function"&&!rE(e)?pee(aE(e)):{}}var mee="[object Map]";function vee(e){return Ca(e)&&io(e)==mee}var hI=Yd&&Yd.isMap,yee=hI?nE(hI):vee,Aee="[object Set]";function bee(e){return Ca(e)&&io(e)==Aee}var pI=Yd&&Yd.isSet,_ee=pI?nE(pI):bee,See=1,xee=2,wee=4,HD="[object Arguments]",Eee="[object Array]",Tee="[object Boolean]",Cee="[object Date]",kee="[object Error]",qD="[object Function]",Mee="[object GeneratorFunction]",Ree="[object Map]",Iee="[object Number]",GD="[object Object]",Oee="[object RegExp]",jee="[object Set]",Pee="[object String]",Vee="[object Symbol]",Dee="[object WeakMap]",Bee="[object ArrayBuffer]",Nee="[object DataView]",Lee="[object Float32Array]",Fee="[object Float64Array]",zee="[object Int8Array]",$ee="[object Int16Array]",Uee="[object Int32Array]",Hee="[object Uint8Array]",qee="[object Uint8ClampedArray]",Gee="[object Uint16Array]",Yee="[object Uint32Array]",Rn={};Rn[HD]=Rn[Eee]=Rn[Bee]=Rn[Nee]=Rn[Tee]=Rn[Cee]=Rn[Lee]=Rn[Fee]=Rn[zee]=Rn[$ee]=Rn[Uee]=Rn[Ree]=Rn[Iee]=Rn[GD]=Rn[Oee]=Rn[jee]=Rn[Pee]=Rn[Vee]=Rn[Hee]=Rn[qee]=Rn[Gee]=Rn[Yee]=!0;Rn[kee]=Rn[qD]=Rn[Dee]=!1;function j0(e,t,n,r,i,s){var l,c=t&See,d=t&xee,u=t&wee;if(n&&(l=i?n(e,r,i,s):n(e)),l!==void 0)return l;if(!ho(e))return e;var p=Hs(e);if(p){if(l=$Z(e),!c)return LD(e,l)}else{var h=io(e),v=h==qD||h==Mee;if(xv(e))return CZ(e,c);if(h==GD||h==HD||v&&!i){if(l=d||v?{}:gee(e),!c)return d?jZ(e,EZ(l,e)):IZ(e,bZ(l,e))}else{if(!Rn[h])return i?e:{};l=hee(e,h,c)}}s||(s=new jo);var y=s.get(e);if(y)return y;s.set(e,l),_ee(e)?e.forEach(function(w){l.add(j0(w,t,n,w,e,s))}):yee(e)&&e.forEach(function(w,T){l.set(T,j0(w,t,n,T,e,s))});var b=u?d?UD:fx:d?iE:Wp,_=p?void 0:b(e);return IJ(_||e,function(w,T){_&&(T=w,w=e[T]),ID(l,T,j0(w,t,n,T,e,s))}),l}var Kee=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Wee=/^\w*$/;function cE(e,t){if(Hs(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||cy(e)?!0:Wee.test(e)||!Kee.test(e)||t!=null&&e in Object(t)}var Qee=500;function Xee(e){var t=hy(e,function(r){return n.size===Qee&&n.clear(),r}),n=t.cache;return t}var Jee=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Zee=/\\(\\)?/g,ete=Xee(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Jee,function(n,r,i,s){t.push(i?s.replace(Zee,"$1"):r||n)}),t}),tte=1/0,gI=Us?Us.prototype:void 0,mI=gI?gI.toString:void 0;function YD(e){if(typeof e=="string")return e;if(Hs(e))return eE(e,YD)+"";if(cy(e))return mI?mI.call(e):"";var t=e+"";return t=="0"&&1/e==-tte?"-0":t}function uE(e){return e==null?"":YD(e)}function Cy(e,t){return Hs(e)?e:cE(e,t)?[e]:ete(uE(e))}function nte(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var rte=1/0;function Qp(e){if(typeof e=="string"||cy(e))return e;var t=e+"";return t=="0"&&1/e==-rte?"-0":t}function dE(e,t){t=Cy(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[Qp(t[n++])];return n&&n==r?e:void 0}function fE(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var s=Array(i);++r<i;)s[r]=e[r+t];return s}function ite(e,t){return t.length<2?e:dE(e,fE(t,0,-1))}function ste(e,t){return t=Cy(t,e),e=ite(e,t),e==null||delete e[Qp(nte(t))]}var ote="[object Object]",ate=Function.prototype,lte=Object.prototype,KD=ate.toString,cte=lte.hasOwnProperty,ute=KD.call(Object);function dte(e){if(!Ca(e)||ru(e)!=ote)return!1;var t=aE(e);if(t===null)return!0;var n=cte.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&KD.call(n)==ute}function fte(e){return dte(e)?void 0:e}var vI=Us?Us.isConcatSpreadable:void 0;function hte(e){return Hs(e)||tE(e)||!!(vI&&e&&e[vI])}function pte(e,t,n,r,i){var s=-1,l=e.length;for(n||(n=hte),i||(i=[]);++s<l;){var c=e[s];n(c)?oE(i,c):i[i.length]=c}return i}function gte(e){var t=e==null?0:e.length;return t?pte(e):[]}function mte(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var yI=Math.max;function vte(e,t,n){return t=yI(t===void 0?e.length-1:t,0),function(){for(var r=arguments,i=-1,s=yI(r.length-t,0),l=Array(s);++i<s;)l[i]=r[t+i];i=-1;for(var c=Array(t+1);++i<t;)c[i]=r[i];return c[t]=n(l),mte(e,this,c)}}function yte(e){return function(){return e}}function WD(e){return e}var Ate=Sv?function(e,t){return Sv(e,"toString",{configurable:!0,enumerable:!1,value:yte(t),writable:!0})}:WD,bte=800,_te=16,Ste=Date.now;function xte(e){var t=0,n=0;return function(){var r=Ste(),i=_te-(r-n);if(n=r,i>0){if(++t>=bte)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var wte=xte(Ate);function Ete(e){return wte(vte(e,void 0,gte),e+"")}var Tte=1,Cte=2,kte=4,Mte=Ete(function(e,t){var n={};if(e==null)return n;var r=!1;t=eE(t,function(s){return s=Cy(s,e),r||(r=s.length>1),s}),Kp(e,UD(e),n),r&&(n=j0(n,Tte|Cte|kte,fte));for(var i=t.length;i--;)ste(n,t[i]);return n});function qs(e,t=!1){const[n,r]=x.useState(null);return x.useEffect(()=>{const i=(...s)=>{r(s)};return e.subscribe(i,t),()=>e.unsubscribe(i)},[e]),n}function pi(e,t,n=[]){const r=Array.isArray(e)?e:[e];x.useEffect(()=>(r.forEach(i=>i.subscribe(t)),()=>r.forEach(i=>i.unsubscribe(t))),[...r,t,...n])}function hs(e,t,n=[]){const r=x.useMemo(t,[]),[i,s]=x.useState(r),l=Array.isArray(e)?e:[e];return x.useEffect(()=>{s(t())},n),x.useEffect(()=>{const c=()=>s(t());return l.forEach(d=>d.subscribe(c)),()=>l.forEach(d=>d.unsubscribe(c))},[...l]),i}var Rte=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Ite=SD(function(e){return Rte.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),Ote=!1,jte=Ite,Pte=function(t){return t!=="theme"},AI=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?jte:Pte},bI=function(t,n,r){var i;if(n){var s=n.shouldForwardProp;i=t.__emotion_forwardProp&&s?function(l){return t.__emotion_forwardProp(l)&&s(l)}:s}return typeof i!="function"&&r&&(i=t.__emotion_forwardProp),i},Vte=function(t){var n=t.cache,r=t.serialized,i=t.isStringTag;return Qw(n,r,i),kD(function(){return Xw(n,r,i)}),null},K=function e(t,n){var r=t.__emotion_real===t,i=r&&t.__emotion_base||t,s,l;n!==void 0&&(s=n.label,l=n.target);var c=bI(t,n,r),d=c||AI(i),u=!d("as");return function(){var p=arguments,h=r&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(s!==void 0&&h.push("label:"+s+";"),p[0]==null||p[0].raw===void 0)h.push.apply(h,p);else{var v=p[0];h.push(v[0]);for(var y=p.length,b=1;b<y;b++)h.push(p[b],v[b])}var _=Jw(function(w,T,k){var R=u&&w.as||i,M="",E=[],O=w;if(w.theme==null){O={};for(var j in w)O[j]=w[j];O.theme=x.useContext(Yp)}typeof w.className=="string"?M=ED(T.registered,E,w.className):w.className!=null&&(M=w.className+" ");var P=Gp(h.concat(E),T.registered,O);M+=T.key+"-"+P.name,l!==void 0&&(M+=" "+l);var V=u&&c===void 0?AI(R):d,C={};for(var N in w)u&&N==="as"||V(N)&&(C[N]=w[N]);return C.className=M,k&&(C.ref=k),x.createElement(x.Fragment,null,x.createElement(Vte,{cache:T,serialized:P,isStringTag:typeof R=="string"}),x.createElement(R,C))});return _.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",_.defaultProps=t.defaultProps,_.__emotion_real=_,_.__emotion_base=i,_.__emotion_styles=h,_.__emotion_forwardProp=c,Object.defineProperty(_,"toString",{value:function(){return l===void 0&&Ote?"NO_COMPONENT_SELECTOR":"."+l}}),_.withComponent=function(w,T){var k=e(w,_v({},n,T,{shouldForwardProp:bI(_,T,!0)}));return k.apply(void 0,h)},_}};const Kd={animation:"focusAnimation 1000ms ease-in-out infinite both"},Dte={boxShadow:`inset 0px 0px 0px 4px ${Ue.colors.text.active}`},Ot={fontWeight:"bold",WebkitTextStroke:"0.1rem black",color:"white","& strong":{color:Ue.colors.text.active}};function Bte(){var e=x.useRef(!0);return e.current?(e.current=!1,!0):e.current}var Ev=function(){return Ev=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Ev.apply(this,arguments)};function Nte(){var e=x.useRef(!1),t=x.useCallback(function(){return e.current},[]);return x.useEffect(function(){return e.current=!0,function(){e.current=!1}},[]),t}function Lte(e,t,n){t===void 0&&(t=[]),n===void 0&&(n={loading:!1});var r=x.useRef(0),i=Nte(),s=x.useState(n),l=s[0],c=s[1],d=x.useCallback(function(){for(var u=[],p=0;p<arguments.length;p++)u[p]=arguments[p];var h=++r.current;return l.loading||c(function(v){return Ev(Ev({},v),{loading:!0})}),e.apply(void 0,u).then(function(v){return i()&&h===r.current&&c({value:v,loading:!1}),v},function(v){return i()&&h===r.current&&c({error:v,loading:!1}),v})},t);return[l,d]}function _I(e,t){t===void 0&&(t=[]);var n=Lte(e,t,{loading:!0}),r=n[0],i=n[1];return x.useEffect(function(){i()},[i]),r}var Fte=function(){};function zte(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e&&e.addEventListener&&e.addEventListener.apply(e,t)}function $te(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e&&e.removeEventListener&&e.removeEventListener.apply(e,t)}var hE=typeof window<"u",Ute=function(e){return(e+1)%1e6};function QD(){var e=x.useReducer(Ute,0),t=e[1];return t}var Hte=hE?x.useLayoutEffect:x.useEffect,qte=function(e){x.useEffect(e,[])},Gte=hE?window:null,SI=function(e){return!!e.addEventListener},xI=function(e){return!!e.on},Yte=function(e,t,n,r){n===void 0&&(n=Gte),x.useEffect(function(){if(t&&n)return SI(n)?zte(n,e,t,r):xI(n)&&n.on(e,t,r),function(){SI(n)?$te(n,e,t,r):xI(n)&&n.off(e,t,r)}},[e,t,n,JSON.stringify(r)])},XD=function(e,t){var n=x.useRef(function(){});x.useEffect(function(){n.current=e}),x.useEffect(function(){{var r=setInterval(function(){return n.current()},t);return function(){return clearInterval(r)}}},[t])},Kte=function(e){var t=x.useRef(e);t.current=e,qte(function(){return function(){return t.current()}})};function Wte(e){var t=x.useRef();return x.useEffect(function(){t.current=e}),t.current}var Qte=function(e,t){return e===t};function Xte(e,t){t===void 0&&(t=Qte);var n=x.useRef(),r=x.useRef(e),i=Bte();return!i&&!t(r.current,e)&&(n.current=r.current,r.current=e),n.current}var JD={x:0,y:0,width:0,height:0,top:0,left:0,bottom:0,right:0};function Jte(){var e=x.useState(null),t=e[0],n=e[1],r=x.useState(JD),i=r[0],s=r[1],l=x.useMemo(function(){return new window.ResizeObserver(function(c){if(c[0]){var d=c[0].contentRect,u=d.x,p=d.y,h=d.width,v=d.height,y=d.top,b=d.left,_=d.bottom,w=d.right;s({x:u,y:p,width:h,height:v,top:y,left:b,bottom:_,right:w})}})},[]);return Hte(function(){if(t)return l.observe(t),function(){l.disconnect()}},[t]),[n,i]}const Zte=hE&&typeof window.ResizeObserver<"u"?Jte:function(){return[Fte,JD]};function ZD(){const[e,t]=x.useState(()=>Ic.isStarted()),[n,r]=x.useState(()=>Ic.getLatency());XD(()=>{r(Ic.getLatency())},1e3),pi(me.micServerStarted,()=>{t(!0)}),pi(me.micServerStopped,()=>{t(!1)});const i=hs([me.remoteMicConnected,me.remoteMicDisconnected],()=>Vt.getRemoteMics(),[e]);return{isOnline:e,latency:n,connected:i}}function ene(){const[e,t]=x.useState(null),{connected:n,isOnline:r,latency:i}=ZD();return e===null&&r&&t(!0),e?g.jsxs(tne,{children:[g.jsxs(wI,{children:[g.jsx("strong",{children:"Remote mic server"}),": ",r?"Online":"Offline",r&&i&&g.jsxs(g.Fragment,{children:[" (",i,"ms)"]})]}),r&&g.jsx(g.Fragment,{children:g.jsxs(wI,{children:[g.jsx("strong",{children:"connected mics"}),": ",n.length]})})]}):null}const tne=K("div",{target:"eeky7rp1"})("opacity:0.75;position:fixed;bottom:0;right:0;",Ot,";font-size:1.5rem;padding:0.5rem;display:flex;gap:1rem;z-index:100000;pointer-events:none;"),wI=K("div",{target:"eeky7rp0"})(""),pE="-",nne=e=>{const t=ine(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:l=>{const c=l.split(pE);return c[0]===""&&c.length!==1&&c.shift(),eB(c,t)||rne(l)},getConflictingClassGroupIds:(l,c)=>{const d=n[l]||[];return c&&r[l]?[...d,...r[l]]:d}}},eB=(e,t)=>{var l;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),i=r?eB(e.slice(1),r):void 0;if(i)return i;if(t.validators.length===0)return;const s=e.join(pE);return(l=t.validators.find(({validator:c})=>c(s)))==null?void 0:l.classGroupId},EI=/^\[(.+)\]$/,rne=e=>{if(EI.test(e)){const t=EI.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},ine=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return one(Object.entries(e.classGroups),n).forEach(([s,l])=>{mx(l,r,s,t)}),r},mx=(e,t,n,r)=>{e.forEach(i=>{if(typeof i=="string"){const s=i===""?t:TI(t,i);s.classGroupId=n;return}if(typeof i=="function"){if(sne(i)){mx(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,l])=>{mx(l,TI(t,s),n,r)})})},TI=(e,t)=>{let n=e;return t.split(pE).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},sne=e=>e.isThemeGetter,one=(e,t)=>t?e.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([l,c])=>[t+l,c])):s);return[n,i]}):e,ane=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(s,l)=>{n.set(s,l),t++,t>e&&(t=0,r=n,n=new Map)};return{get(s){let l=n.get(s);if(l!==void 0)return l;if((l=r.get(s))!==void 0)return i(s,l),l},set(s,l){n.has(s)?n.set(s,l):i(s,l)}}},tB="!",lne=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,i=t[0],s=t.length,l=c=>{const d=[];let u=0,p=0,h;for(let w=0;w<c.length;w++){let T=c[w];if(u===0){if(T===i&&(r||c.slice(w,w+s)===t)){d.push(c.slice(p,w)),p=w+s;continue}if(T==="/"){h=w;continue}}T==="["?u++:T==="]"&&u--}const v=d.length===0?c:c.substring(p),y=v.startsWith(tB),b=y?v.substring(1):v,_=h&&h>p?h-p:void 0;return{modifiers:d,hasImportantModifier:y,baseClassName:b,maybePostfixModifierPosition:_}};return n?c=>n({className:c,parseClassName:l}):l},cne=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},une=e=>({cache:ane(e.cacheSize),parseClassName:lne(e),...nne(e)}),dne=/\s+/,fne=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=t,s=[],l=e.trim().split(dne);let c="";for(let d=l.length-1;d>=0;d-=1){const u=l[d],{modifiers:p,hasImportantModifier:h,baseClassName:v,maybePostfixModifierPosition:y}=n(u);let b=!!y,_=r(b?v.substring(0,y):v);if(!_){if(!b){c=u+(c.length>0?" "+c:c);continue}if(_=r(v),!_){c=u+(c.length>0?" "+c:c);continue}b=!1}const w=cne(p).join(":"),T=h?w+tB:w,k=T+_;if(s.includes(k))continue;s.push(k);const R=i(_,b);for(let M=0;M<R.length;++M){const E=R[M];s.push(T+E)}c=u+(c.length>0?" "+c:c)}return c};function hne(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=nB(t))&&(r&&(r+=" "),r+=n);return r}const nB=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=nB(e[r]))&&(n&&(n+=" "),n+=t);return n};function pne(e,...t){let n,r,i,s=l;function l(d){const u=t.reduce((p,h)=>h(p),e());return n=une(u),r=n.cache.get,i=n.cache.set,s=c,c(d)}function c(d){const u=r(d);if(u)return u;const p=fne(d,n);return i(d,p),p}return function(){return s(hne.apply(null,arguments))}}const jn=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},rB=/^\[(?:([a-z-]+):)?(.+)\]$/i,gne=/^\d+\/\d+$/,mne=new Set(["px","full","screen"]),vne=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,yne=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Ane=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,bne=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,_ne=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,oa=e=>Md(e)||mne.has(e)||gne.test(e),ol=e=>hf(e,"length",Mne),Md=e=>!!e&&!Number.isNaN(Number(e)),O1=e=>hf(e,"number",Md),Ch=e=>!!e&&Number.isInteger(Number(e)),Sne=e=>e.endsWith("%")&&Md(e.slice(0,-1)),Rt=e=>rB.test(e),al=e=>vne.test(e),xne=new Set(["length","size","percentage"]),wne=e=>hf(e,xne,iB),Ene=e=>hf(e,"position",iB),Tne=new Set(["image","url"]),Cne=e=>hf(e,Tne,Ine),kne=e=>hf(e,"",Rne),kh=()=>!0,hf=(e,t,n)=>{const r=rB.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},Mne=e=>yne.test(e)&&!Ane.test(e),iB=()=>!1,Rne=e=>bne.test(e),Ine=e=>_ne.test(e),One=()=>{const e=jn("colors"),t=jn("spacing"),n=jn("blur"),r=jn("brightness"),i=jn("borderColor"),s=jn("borderRadius"),l=jn("borderSpacing"),c=jn("borderWidth"),d=jn("contrast"),u=jn("grayscale"),p=jn("hueRotate"),h=jn("invert"),v=jn("gap"),y=jn("gradientColorStops"),b=jn("gradientColorStopPositions"),_=jn("inset"),w=jn("margin"),T=jn("opacity"),k=jn("padding"),R=jn("saturate"),M=jn("scale"),E=jn("sepia"),O=jn("skew"),j=jn("space"),P=jn("translate"),V=()=>["auto","contain","none"],C=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto",Rt,t],U=()=>[Rt,t],L=()=>["",oa,ol],q=()=>["auto",Md,Rt],H=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],D=()=>["solid","dashed","dotted","double","none"],W=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Q=()=>["start","end","center","between","around","evenly","stretch"],J=()=>["","0",Rt],B=()=>["auto","avoid","all","avoid-page","page","left","right","column"],G=()=>[Md,Rt];return{cacheSize:500,separator:":",theme:{colors:[kh],spacing:[oa,ol],blur:["none","",al,Rt],brightness:G(),borderColor:[e],borderRadius:["none","","full",al,Rt],borderSpacing:U(),borderWidth:L(),contrast:G(),grayscale:J(),hueRotate:G(),invert:J(),gap:U(),gradientColorStops:[e],gradientColorStopPositions:[Sne,ol],inset:N(),margin:N(),opacity:G(),padding:U(),saturate:G(),scale:G(),sepia:J(),skew:G(),space:U(),translate:U()},classGroups:{aspect:[{aspect:["auto","square","video",Rt]}],container:["container"],columns:[{columns:[al]}],"break-after":[{"break-after":B()}],"break-before":[{"break-before":B()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...H(),Rt]}],overflow:[{overflow:C()}],"overflow-x":[{"overflow-x":C()}],"overflow-y":[{"overflow-y":C()}],overscroll:[{overscroll:V()}],"overscroll-x":[{"overscroll-x":V()}],"overscroll-y":[{"overscroll-y":V()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[_]}],"inset-x":[{"inset-x":[_]}],"inset-y":[{"inset-y":[_]}],start:[{start:[_]}],end:[{end:[_]}],top:[{top:[_]}],right:[{right:[_]}],bottom:[{bottom:[_]}],left:[{left:[_]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ch,Rt]}],basis:[{basis:N()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Rt]}],grow:[{grow:J()}],shrink:[{shrink:J()}],order:[{order:["first","last","none",Ch,Rt]}],"grid-cols":[{"grid-cols":[kh]}],"col-start-end":[{col:["auto",{span:["full",Ch,Rt]},Rt]}],"col-start":[{"col-start":q()}],"col-end":[{"col-end":q()}],"grid-rows":[{"grid-rows":[kh]}],"row-start-end":[{row:["auto",{span:[Ch,Rt]},Rt]}],"row-start":[{"row-start":q()}],"row-end":[{"row-end":q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Rt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Rt]}],gap:[{gap:[v]}],"gap-x":[{"gap-x":[v]}],"gap-y":[{"gap-y":[v]}],"justify-content":[{justify:["normal",...Q()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Q(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Q(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[k]}],px:[{px:[k]}],py:[{py:[k]}],ps:[{ps:[k]}],pe:[{pe:[k]}],pt:[{pt:[k]}],pr:[{pr:[k]}],pb:[{pb:[k]}],pl:[{pl:[k]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[j]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[j]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Rt,t]}],"min-w":[{"min-w":[Rt,t,"min","max","fit"]}],"max-w":[{"max-w":[Rt,t,"none","full","min","max","fit","prose",{screen:[al]},al]}],h:[{h:[Rt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Rt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Rt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Rt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",al,ol]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",O1]}],"font-family":[{font:[kh]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Rt]}],"line-clamp":[{"line-clamp":["none",Md,O1]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",oa,Rt]}],"list-image":[{"list-image":["none",Rt]}],"list-style-type":[{list:["none","disc","decimal",Rt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[T]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[T]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...D(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",oa,ol]}],"underline-offset":[{"underline-offset":["auto",oa,Rt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:U()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Rt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Rt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[T]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...H(),Ene]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",wne]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Cne]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[T]}],"border-style":[{border:[...D(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[T]}],"divide-style":[{divide:D()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...D()]}],"outline-offset":[{"outline-offset":[oa,Rt]}],"outline-w":[{outline:[oa,ol]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:L()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[T]}],"ring-offset-w":[{"ring-offset":[oa,ol]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",al,kne]}],"shadow-color":[{shadow:[kh]}],opacity:[{opacity:[T]}],"mix-blend":[{"mix-blend":[...W(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":W()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[d]}],"drop-shadow":[{"drop-shadow":["","none",al,Rt]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[p]}],invert:[{invert:[h]}],saturate:[{saturate:[R]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[d]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[p]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[T]}],"backdrop-saturate":[{"backdrop-saturate":[R]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Rt]}],duration:[{duration:G()}],ease:[{ease:["linear","in","out","in-out",Rt]}],delay:[{delay:G()}],animate:[{animate:["none","spin","ping","pulse","bounce",Rt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[M]}],"scale-x":[{"scale-x":[M]}],"scale-y":[{"scale-y":[M]}],rotate:[{rotate:[Ch,Rt]}],"translate-x":[{"translate-x":[P]}],"translate-y":[{"translate-y":[P]}],"skew-x":[{"skew-x":[O]}],"skew-y":[{"skew-y":[O]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Rt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Rt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":U()}],"scroll-mx":[{"scroll-mx":U()}],"scroll-my":[{"scroll-my":U()}],"scroll-ms":[{"scroll-ms":U()}],"scroll-me":[{"scroll-me":U()}],"scroll-mt":[{"scroll-mt":U()}],"scroll-mr":[{"scroll-mr":U()}],"scroll-mb":[{"scroll-mb":U()}],"scroll-ml":[{"scroll-ml":U()}],"scroll-p":[{"scroll-p":U()}],"scroll-px":[{"scroll-px":U()}],"scroll-py":[{"scroll-py":U()}],"scroll-ps":[{"scroll-ps":U()}],"scroll-pe":[{"scroll-pe":U()}],"scroll-pt":[{"scroll-pt":U()}],"scroll-pr":[{"scroll-pr":U()}],"scroll-pb":[{"scroll-pb":U()}],"scroll-pl":[{"scroll-pl":U()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Rt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[oa,ol,O1]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},sB=pne(One),lu=x.forwardRef(function({as:t,className:n,children:r,...i},s){const l=t||"div";return g.jsx(l,{className:sB("flex flex-col items-center bg-black/50 justify-center box-border rounded-md",n),...i,ref:s,children:r})}),ps=x.forwardRef(function({as:t,className:n,children:r,active:i,...s},l){const c=t||"span";return g.jsx(c,{className:sB(`typography text-base [&_a]:text-active [&_a]:typography ${i?"text-active":""}`,n),...s,ref:l,children:r})});var j1=typeof navigator<"u"?navigator.userAgent.toLowerCase().indexOf("firefox")>0:!1;function P1(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r):e.attachEvent&&e.attachEvent("on".concat(t),function(){n(window.event)})}function oB(e,t){for(var n=t.slice(0,t.length-1),r=0;r<n.length;r++)n[r]=e[n[r].toLowerCase()];return n}function aB(e){typeof e!="string"&&(e=""),e=e.replace(/\s/g,"");for(var t=e.split(","),n=t.lastIndexOf("");n>=0;)t[n-1]+=",",t.splice(n,1),n=t.lastIndexOf("");return t}function jne(e,t){for(var n=e.length>=t.length?e:t,r=e.length>=t.length?t:e,i=!0,s=0;s<n.length;s++)r.indexOf(n[s])===-1&&(i=!1);return i}var gE={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,num_0:96,num_1:97,num_2:98,num_3:99,num_4:100,num_5:101,num_6:102,num_7:103,num_8:104,num_9:105,num_multiply:106,num_add:107,num_enter:108,num_subtract:109,num_decimal:110,num_divide:111,"":20,",":188,".":190,"/":191,"`":192,"-":j1?173:189,"=":j1?61:187,";":j1?59:186,"'":222,"[":219,"]":221,"\\":220},El={"":16,shift:16,"":18,alt:18,option:18,"":17,ctrl:17,control:17,"":91,cmd:91,command:91},vx={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},ti={16:!1,18:!1,17:!1,91:!1},Er={};for(var zm=1;zm<20;zm++)gE["f".concat(zm)]=111+zm;var $n=[],CI=!1,lB="all",cB=[],ky=function(t){return gE[t.toLowerCase()]||El[t.toLowerCase()]||t.toUpperCase().charCodeAt(0)};function uB(e){lB=e||"all"}function Cp(){return lB||"all"}function Pne(){return $n.slice(0)}function Vne(e){var t=e.target||e.srcElement,n=t.tagName,r=!0;return(t.isContentEditable||(n==="INPUT"||n==="TEXTAREA"||n==="SELECT")&&!t.readOnly)&&(r=!1),r}function Dne(e){return typeof e=="string"&&(e=ky(e)),$n.indexOf(e)!==-1}function Bne(e,t){var n,r;e||(e=Cp());for(var i in Er)if(Object.prototype.hasOwnProperty.call(Er,i))for(n=Er[i],r=0;r<n.length;)n[r].scope===e?n.splice(r,1):r++;Cp()===e&&uB(t||"all")}function Nne(e){var t=e.keyCode||e.which||e.charCode,n=$n.indexOf(t);if(n>=0&&$n.splice(n,1),e.key&&e.key.toLowerCase()==="meta"&&$n.splice(0,$n.length),(t===93||t===224)&&(t=91),t in ti){ti[t]=!1;for(var r in El)El[r]===t&&(os[r]=!1)}}function Lne(e){if(typeof e>"u")Object.keys(Er).forEach(function(l){return delete Er[l]});else if(Array.isArray(e))e.forEach(function(l){l.key&&V1(l)});else if(typeof e=="object")e.key&&V1(e);else if(typeof e=="string"){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n[0],s=n[1];typeof i=="function"&&(s=i,i=""),V1({key:e,scope:i,method:s,splitKey:"+"})}}var V1=function(t){var n=t.key,r=t.scope,i=t.method,s=t.splitKey,l=s===void 0?"+":s,c=aB(n);c.forEach(function(d){var u=d.split(l),p=u.length,h=u[p-1],v=h==="*"?"*":ky(h);if(Er[v]){r||(r=Cp());var y=p>1?oB(El,u):[];Er[v]=Er[v].filter(function(b){var _=i?b.method===i:!0;return!(_&&b.scope===r&&jne(b.mods,y))})}})};function kI(e,t,n,r){if(t.element===r){var i;if(t.scope===n||t.scope==="all"){i=t.mods.length>0;for(var s in ti)Object.prototype.hasOwnProperty.call(ti,s)&&(!ti[s]&&t.mods.indexOf(+s)>-1||ti[s]&&t.mods.indexOf(+s)===-1)&&(i=!1);(t.mods.length===0&&!ti[16]&&!ti[18]&&!ti[17]&&!ti[91]||i||t.shortcut==="*")&&t.method(e,t)===!1&&(e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.cancelBubble&&(e.cancelBubble=!0))}}}function MI(e,t){var n=Er["*"],r=e.keyCode||e.which||e.charCode;if(os.filter.call(this,e)){if((r===93||r===224)&&(r=91),$n.indexOf(r)===-1&&r!==229&&$n.push(r),["ctrlKey","altKey","shiftKey","metaKey"].forEach(function(b){var _=vx[b];e[b]&&$n.indexOf(_)===-1?$n.push(_):!e[b]&&$n.indexOf(_)>-1?$n.splice($n.indexOf(_),1):b==="metaKey"&&e[b]&&$n.length===3&&(e.ctrlKey||e.shiftKey||e.altKey||($n=$n.slice($n.indexOf(_))))}),r in ti){ti[r]=!0;for(var i in El)El[i]===r&&(os[i]=!0);if(!n)return}for(var s in ti)Object.prototype.hasOwnProperty.call(ti,s)&&(ti[s]=e[vx[s]]);e.getModifierState&&!(e.altKey&&!e.ctrlKey)&&e.getModifierState("AltGraph")&&($n.indexOf(17)===-1&&$n.push(17),$n.indexOf(18)===-1&&$n.push(18),ti[17]=!0,ti[18]=!0);var l=Cp();if(n)for(var c=0;c<n.length;c++)n[c].scope===l&&(e.type==="keydown"&&n[c].keydown||e.type==="keyup"&&n[c].keyup)&&kI(e,n[c],l,t);if(r in Er){for(var d=0;d<Er[r].length;d++)if((e.type==="keydown"&&Er[r][d].keydown||e.type==="keyup"&&Er[r][d].keyup)&&Er[r][d].key){for(var u=Er[r][d],p=u.splitKey,h=u.key.split(p),v=[],y=0;y<h.length;y++)v.push(ky(h[y]));v.sort().join("")===$n.sort().join("")&&kI(e,u,l,t)}}}}function Fne(e){return cB.indexOf(e)>-1}function os(e,t,n){$n=[];var r=aB(e),i=[],s="all",l=document,c=0,d=!1,u=!0,p="+",h=!1;for(n===void 0&&typeof t=="function"&&(n=t),Object.prototype.toString.call(t)==="[object Object]"&&(t.scope&&(s=t.scope),t.element&&(l=t.element),t.keyup&&(d=t.keyup),t.keydown!==void 0&&(u=t.keydown),t.capture!==void 0&&(h=t.capture),typeof t.splitKey=="string"&&(p=t.splitKey)),typeof t=="string"&&(s=t);c<r.length;c++)e=r[c].split(p),i=[],e.length>1&&(i=oB(El,e)),e=e[e.length-1],e=e==="*"?"*":ky(e),e in Er||(Er[e]=[]),Er[e].push({keyup:d,keydown:u,scope:s,mods:i,shortcut:r[c],method:n,key:r[c],splitKey:p,element:l});typeof l<"u"&&!Fne(l)&&window&&(cB.push(l),P1(l,"keydown",function(v){MI(v,l)},h),CI||(CI=!0,P1(window,"focus",function(){$n=[]},h)),P1(l,"keyup",function(v){MI(v,l),Nne(v)},h))}function zne(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"all";Object.keys(Er).forEach(function(n){var r=Er[n].find(function(i){return i.scope===t&&i.shortcut===e});r&&r.method&&r.method()})}var D1={setScope:uB,getScope:Cp,deleteScope:Bne,getPressedKeyCodes:Pne,isPressed:Dne,filter:Vne,trigger:zne,unbind:Lne,keyMap:gE,modifier:El,modifierMap:vx};for(var B1 in D1)Object.prototype.hasOwnProperty.call(D1,B1)&&(os[B1]=D1[B1]);if(typeof window<"u"){var $ne=window.hotkeys;os.noConflict=function(e){return e&&window.hotkeys===os&&(window.hotkeys=$ne),os},window.hotkeys=os}os.filter=function(){return!0};var dB=function(t,n){var r=t.target,i=r&&r.tagName;return!!(i&&n&&n.includes(i))},Une=function(t){return dB(t,["INPUT","TEXTAREA","SELECT"])};function ri(e,t,n,r){n instanceof Array&&(r=n,n=void 0);var i=n||{},s=i.enableOnTags,l=i.filter,c=i.keyup,d=i.keydown,u=i.filterPreventDefault,p=u===void 0?!0:u,h=i.enabled,v=h===void 0?!0:h,y=i.enableOnContentEditable,b=y===void 0?!1:y,_=x.useRef(null),w=x.useCallback(function(T,k){var R,M;return l&&!l(T)?!p:Une(T)&&!dB(T,s)||(R=T.target)!=null&&R.isContentEditable&&!b?!0:_.current===null||document.activeElement===_.current||(M=_.current)!=null&&M.contains(document.activeElement)?(t(T,k),!0):!1},r?[_,s,l].concat(r):[_,s,l]);return x.useEffect(function(){if(!v){os.unbind(e,w);return}return c&&d!==!0&&(n.keydown=!1),os(e,n||{},w),function(){return os.unbind(e,w)}},[w,e,v]),_}os.isPressed;const yx="a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,r,s,t,u,w,x,y,z,1,2,3,4,5,6,7,8,9,0",dc=e=>t=>{e&&(t.preventDefault(),t.stopPropagation(),e(t))};function pf(e,t=!0,n){pi(me.remoteKeyboardPressed,r=>{var i;t&&r in e&&((i=e[r])==null||i.call(e))}),ri("up",dc(e.up),{enabled:t&&!!(e!=null&&e.up)},n),ri("down",dc(e.down),{enabled:t&&!!(e!=null&&e.down)},n),ri("left",dc(e.left),{enabled:t&&!!(e!=null&&e.left)},n),ri("right",dc(e.right),{enabled:t&&!!(e!=null&&e.right)},n),ri("Enter",dc(e.accept),{enabled:t&&!!(e!=null&&e.accept)},n),ri("Escape,Backspace",dc(e.back),{enabled:t&&!!(e!=null&&e.back)},n),ri("Shift+R",dc(e.random),{enabled:t&&!!(e!=null&&e.random)},n)}function Hne(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function qne(...e){return t=>e.forEach(n=>Hne(n,t))}var fB=x.forwardRef((e,t)=>{const{children:n,...r}=e,i=x.Children.toArray(n),s=i.find(Yne);if(s){const l=s.props.children,c=i.map(d=>d===s?x.Children.count(l)>1?x.Children.only(null):x.isValidElement(l)?l.props.children:null:d);return g.jsx(Ax,{...r,ref:t,children:x.isValidElement(l)?x.cloneElement(l,void 0,c):null})}return g.jsx(Ax,{...r,ref:t,children:n})});fB.displayName="Slot";var Ax=x.forwardRef((e,t)=>{const{children:n,...r}=e;if(x.isValidElement(n)){const i=Wne(n);return x.cloneElement(n,{...Kne(r,n.props),ref:t?qne(t,i):i})}return x.Children.count(n)>1?x.Children.only(null):null});Ax.displayName="SlotClone";var Gne=({children:e})=>g.jsx(g.Fragment,{children:e});function Yne(e){return x.isValidElement(e)&&e.type===Gne}function Kne(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...c)=>{s(...c),i(...c)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function Wne(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Qne(e,t){const n={},r=Object.keys(e);for(let i=0;i<r.length;i++){const s=r[i];t(s)&&(n[s]=e[s])}return n}const Xne=(e={})=>{const t=e.compose||Bt,n=e.shouldForwardProp||(i=>i[0]!=="$"),r=i=>{const s=(l,c=n)=>{const d=(u,...p)=>{const h=typeof u=="function",v=!h&&String.raw({raw:u},...p);return x.forwardRef((y,b)=>{const{className:_,asChild:w,...T}=y,k=typeof l=="function"?l(y):l||{},R=Qne({...k,...T},c),M=w?fB:i,E=h?u(y):v;return x.createElement(M,{ref:b,className:typeof E=="function"?O=>t(E(O),typeof _=="function"?_(O):_):t(E,_),...R})})};return d.transientProps=u=>s(l,typeof u=="function"?h=>!u(h):h=>!u.includes(h)),l===void 0&&(d.attrs=u=>s(u)),d};return s()};return new Proxy(i=>r(i),{get(i,s){return r(s)}})},En=Xne();function Jne({help:e}){const[t]=xt(oi),[n,r]=xt(fV);ri("shift+h",()=>r(!n),void 0,[n]);const i=Object.entries(e??{}).filter(([,s])=>s!==void 0);return t?null:g.jsx(g.Fragment,{children:g.jsx(are,{"data-test":"help-container",onClick:()=>r(!n),"data-visible":!!i.length&&n,children:n&&g.jsxs(g.Fragment,{children:[g.jsx(ore,{className:"UseKeyboardIndicator",children:"Use indicated keys on your keyboard"}),i.map(([s,l])=>{const{view:c,defaultLabel:d}=sre[s];return g.jsxs(RI,{children:[g.jsx(OI,{children:l??d}),g.jsx(II,{children:g.jsx(c,{})})]},s)}),g.jsxs(RI,{children:[g.jsx(OI,{children:"Show/hide this help"}),g.jsx(II,{children:hB("h")()})]})]})})})}const mE=({vertical:e=!1,horizontal:t=!1})=>g.jsxs(g.Fragment,{children:[g.jsx(ya,{disabled:!e,children:""}),g.jsx("br",{}),g.jsx(ya,{disabled:!t,children:""}),g.jsx(ya,{disabled:!e,children:""}),g.jsx(ya,{disabled:!t,children:""})]}),Zne=()=>g.jsx(mE,{horizontal:!0}),ere=()=>g.jsx(mE,{vertical:!0}),tre=()=>g.jsx(mE,{vertical:!0,horizontal:!0}),nre=()=>g.jsx(ya,{children:"Enter "}),rre=()=>g.jsx(ya,{children:"Backspace "}),hB=e=>()=>g.jsxs(g.Fragment,{children:[g.jsx(ya,{children:"Shift"})," + ",g.jsx(ya,{children:e.toUpperCase()})]}),ire=()=>g.jsx(g.Fragment,{children:g.jsx(ya,{children:"start typing"})}),sre={"horizontal-vertical":{view:tre,defaultLabel:"Navigate"},horizontal:{view:Zne,defaultLabel:"Navigate"},vertical:{view:ere,defaultLabel:"Navigate"},accept:{view:nre,defaultLabel:"Select"},back:{view:rre,defaultLabel:"Go back"},shiftR:{view:hB("r"),defaultLabel:"Pick random"},alphanumeric:{view:ire,defaultLabel:"Search"}},RI=En.div`flex items-center gap-4`,II=En.div`flex-nowrap flex-[2] text-white font-bold text-center [&_kbd]:m-1`,OI=En(ps)`flex-[3] text-base text-right`,ore=En(ps)`absolute inset-0 bg-black/75 flex items-center justify-center text-white text-md p-8 invisible opacity-0 duration-300 hover:opacity-100 hover:visible`,are=En(lu)(e=>["fixed top-[5rem] right-0 p-2 items-stretch gap-4 w-[34rem] cursor-pointer scale-75 z-[1000] [view-transition-name:help-view] [&_svg]:fill-white [&_.UseKeyboardIndicator]:hover:opacity-100 [&_.UseKeyboardIndicator]:hover:visible",e["data-visible"]?"flex mobile:hidden":"hidden"]),ya=En.kbd(e=>["py-3 px-4 rounded-md border-t-gray-300 border-l-gray-300 border-solid border-[1.25px] border-gray-500 text-gray-700 leading-4 text-sm bg-gray-50 inline-block font-normal",e.disabled?"opacity-25":"opacity-100"]),vE=x.createContext({setKeyboard:(e,t)=>{},unsetKeyboard:e=>{},hasContent:!1}),lre=({children:e})=>{const[t,n]=x.useState({}),r=(p,h)=>{n(v=>({...v,[p]:h}))},i=p=>n(h=>Mte(h,[p])),[s,l]=Object.entries(t).at(-1)??[];pi(me.remoteMicConnected,({id:p})=>{var h;(h=Vt.getRemoteMicById(p))==null||h.connection.send({t:"keyboard-layout",help:l})}),x.useEffect(()=>{Vt.broadcast({t:"keyboard-layout",help:l})},[s]);const{remote:c,...d}=l??{},u=!!Object.values(d).length;return g.jsxs(vE.Provider,{value:{setKeyboard:r,unsetKeyboard:i,hasContent:u},children:[e,g.jsx(Jne,{help:d}),g.jsx(ene,{})]})};var N1,jI;function cre(){return jI||(jI=1,N1={webm:"data:video/webm;base64,GkXfowEAAAAAAAAfQoaBAUL3gQFC8oEEQvOBCEKChHdlYm1Ch4EEQoWBAhhTgGcBAAAAAAAVkhFNm3RALE27i1OrhBVJqWZTrIHfTbuMU6uEFlSua1OsggEwTbuMU6uEHFO7a1OsghV17AEAAAAAAACkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmAQAAAAAAAEUq17GDD0JATYCNTGF2ZjU1LjMzLjEwMFdBjUxhdmY1NS4zMy4xMDBzpJBlrrXf3DCDVB8KcgbMpcr+RImIQJBgAAAAAAAWVK5rAQAAAAAAD++uAQAAAAAAADLXgQFzxYEBnIEAIrWcg3VuZIaFVl9WUDiDgQEj44OEAmJaAOABAAAAAAAABrCBsLqBkK4BAAAAAAAPq9eBAnPFgQKcgQAitZyDdW5khohBX1ZPUkJJU4OBAuEBAAAAAAAAEZ+BArWIQOdwAAAAAABiZIEgY6JPbwIeVgF2b3JiaXMAAAAAAoC7AAAAAAAAgLUBAAAAAAC4AQN2b3JiaXMtAAAAWGlwaC5PcmcgbGliVm9yYmlzIEkgMjAxMDExMDEgKFNjaGF1ZmVudWdnZXQpAQAAABUAAABlbmNvZGVyPUxhdmM1NS41Mi4xMDIBBXZvcmJpcyVCQ1YBAEAAACRzGCpGpXMWhBAaQlAZ4xxCzmvsGUJMEYIcMkxbyyVzkCGkoEKIWyiB0JBVAABAAACHQXgUhIpBCCGEJT1YkoMnPQghhIg5eBSEaUEIIYQQQgghhBBCCCGERTlokoMnQQgdhOMwOAyD5Tj4HIRFOVgQgydB6CCED0K4moOsOQghhCQ1SFCDBjnoHITCLCiKgsQwuBaEBDUojILkMMjUgwtCiJqDSTX4GoRnQXgWhGlBCCGEJEFIkIMGQcgYhEZBWJKDBjm4FITLQagahCo5CB+EIDRkFQCQAACgoiiKoigKEBqyCgDIAAAQQFEUx3EcyZEcybEcCwgNWQUAAAEACAAAoEiKpEiO5EiSJFmSJVmSJVmS5omqLMuyLMuyLMsyEBqyCgBIAABQUQxFcRQHCA1ZBQBkAAAIoDiKpViKpWiK54iOCISGrAIAgAAABAAAEDRDUzxHlETPVFXXtm3btm3btm3btm3btm1blmUZCA1ZBQBAAAAQ0mlmqQaIMAMZBkJDVgEACAAAgBGKMMSA0JBVAABAAACAGEoOogmtOd+c46BZDppKsTkdnEi1eZKbirk555xzzsnmnDHOOeecopxZDJoJrTnnnMSgWQqaCa0555wnsXnQmiqtOeeccc7pYJwRxjnnnCateZCajbU555wFrWmOmkuxOeecSLl5UptLtTnnnHPOOeecc84555zqxekcnBPOOeecqL25lpvQxTnnnE/G6d6cEM4555xzzjnnnHPOOeecIDRkFQAABABAEIaNYdwpCNLnaCBGEWIaMulB9+gwCRqDnELq0ehopJQ6CCWVcVJKJwgNWQUAAAIAQAghhRRSSCGFFFJIIYUUYoghhhhyyimnoIJKKqmooowyyyyzzDLLLLPMOuyssw47DDHEEEMrrcRSU2011lhr7jnnmoO0VlprrbVSSimllFIKQkNWAQAgAAAEQgYZZJBRSCGFFGKIKaeccgoqqIDQkFUAACAAgAAAAABP8hzRER3RER3RER3RER3R8RzPESVREiVREi3TMjXTU0VVdWXXlnVZt31b2IVd933d933d+HVhWJZlWZZlWZZlWZZlWZZlWZYgNGQVAAACAAAghBBCSCGFFFJIKcYYc8w56CSUEAgNWQUAAAIACAAAAHAUR3EcyZEcSbIkS9IkzdIsT/M0TxM9URRF0zRV0RVdUTdtUTZl0zVdUzZdVVZtV5ZtW7Z125dl2/d93/d93/d93/d93/d9XQdCQ1YBABIAADqSIymSIimS4ziOJElAaMgqAEAGAEAAAIriKI7jOJIkSZIlaZJneZaomZrpmZ4qqkBoyCoAABAAQAAAAAAAAIqmeIqpeIqoeI7oiJJomZaoqZoryqbsuq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq4LhIasAgAkAAB0JEdyJEdSJEVSJEdygNCQVQCADACAAAAcwzEkRXIsy9I0T/M0TxM90RM901NFV3SB0JBVAAAgAIAAAAAAAAAMybAUy9EcTRIl1VItVVMt1VJF1VNVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVN0zRNEwgNWQkAkAEAkBBTLS3GmgmLJGLSaqugYwxS7KWxSCpntbfKMYUYtV4ah5RREHupJGOKQcwtpNApJq3WVEKFFKSYYyoVUg5SIDRkhQAQmgHgcBxAsixAsiwAAAAAAAAAkDQN0DwPsDQPAAAAAAAAACRNAyxPAzTPAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABA0jRA8zxA8zwAAAAAAAAA0DwP8DwR8EQRAAAAAAAAACzPAzTRAzxRBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABA0jRA8zxA8zwAAAAAAAAAsDwP8EQR0DwRAAAAAAAAACzPAzxRBDzRAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAEOAAABBgIRQasiIAiBMAcEgSJAmSBM0DSJYFTYOmwTQBkmVB06BpME0AAAAAAAAAAAAAJE2DpkHTIIoASdOgadA0iCIAAAAAAAAAAAAAkqZB06BpEEWApGnQNGgaRBEAAAAAAAAAAAAAzzQhihBFmCbAM02IIkQRpgkAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAGHAAAAgwoQwUGrIiAIgTAHA4imUBAIDjOJYFAACO41gWAABYliWKAABgWZooAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAYcAAACDChDBQashIAiAIAcCiKZQHHsSzgOJYFJMmyAJYF0DyApgFEEQAIAAAocAAACLBBU2JxgEJDVgIAUQAABsWxLE0TRZKkaZoniiRJ0zxPFGma53meacLzPM80IYqiaJoQRVE0TZimaaoqME1VFQAAUOAAABBgg6bE4gCFhqwEAEICAByKYlma5nmeJ4qmqZokSdM8TxRF0TRNU1VJkqZ5niiKommapqqyLE3zPFEURdNUVVWFpnmeKIqiaaqq6sLzPE8URdE0VdV14XmeJ4qiaJqq6roQRVE0TdNUTVV1XSCKpmmaqqqqrgtETxRNU1Vd13WB54miaaqqq7ouEE3TVFVVdV1ZBpimaaqq68oyQFVV1XVdV5YBqqqqruu6sgxQVdd1XVmWZQCu67qyLMsCAAAOHAAAAoygk4wqi7DRhAsPQKEhKwKAKAAAwBimFFPKMCYhpBAaxiSEFEImJaXSUqogpFJSKRWEVEoqJaOUUmopVRBSKamUCkIqJZVSAADYgQMA2IGFUGjISgAgDwCAMEYpxhhzTiKkFGPOOScRUoox55yTSjHmnHPOSSkZc8w556SUzjnnnHNSSuacc845KaVzzjnnnJRSSuecc05KKSWEzkEnpZTSOeecEwAAVOAAABBgo8jmBCNBhYasBABSAQAMjmNZmuZ5omialiRpmud5niiapiZJmuZ5nieKqsnzPE8URdE0VZXneZ4oiqJpqirXFUXTNE1VVV2yLIqmaZqq6rowTdNUVdd1XZimaaqq67oubFtVVdV1ZRm2raqq6rqyDFzXdWXZloEsu67s2rIAAPAEBwCgAhtWRzgpGgssNGQlAJABAEAYg5BCCCFlEEIKIYSUUggJAAAYcAAACDChDBQashIASAUAAIyx1lprrbXWQGettdZaa62AzFprrbXWWmuttdZaa6211lJrrbXWWmuttdZaa6211lprrbXWWmuttdZaa6211lprrbXWWmuttdZaa6211lprrbXWWmstpZRSSimllFJKKaWUUkoppZRSSgUA+lU4APg/2LA6wknRWGChISsBgHAAAMAYpRhzDEIppVQIMeacdFRai7FCiDHnJKTUWmzFc85BKCGV1mIsnnMOQikpxVZjUSmEUlJKLbZYi0qho5JSSq3VWIwxqaTWWoutxmKMSSm01FqLMRYjbE2ptdhqq7EYY2sqLbQYY4zFCF9kbC2m2moNxggjWywt1VprMMYY3VuLpbaaizE++NpSLDHWXAAAd4MDAESCjTOsJJ0VjgYXGrISAAgJACAQUooxxhhzzjnnpFKMOeaccw5CCKFUijHGnHMOQgghlIwx5pxzEEIIIYRSSsaccxBCCCGEkFLqnHMQQgghhBBKKZ1zDkIIIYQQQimlgxBCCCGEEEoopaQUQgghhBBCCKmklEIIIYRSQighlZRSCCGEEEIpJaSUUgohhFJCCKGElFJKKYUQQgillJJSSimlEkoJJYQSUikppRRKCCGUUkpKKaVUSgmhhBJKKSWllFJKIYQQSikFAAAcOAAABBhBJxlVFmGjCRcegEJDVgIAZAAAkKKUUiktRYIipRikGEtGFXNQWoqocgxSzalSziDmJJaIMYSUk1Qy5hRCDELqHHVMKQYtlRhCxhik2HJLoXMOAAAAQQCAgJAAAAMEBTMAwOAA4XMQdAIERxsAgCBEZohEw0JweFAJEBFTAUBigkIuAFRYXKRdXECXAS7o4q4DIQQhCEEsDqCABByccMMTb3jCDU7QKSp1IAAAAAAADADwAACQXAAREdHMYWRobHB0eHyAhIiMkAgAAAAAABcAfAAAJCVAREQ0cxgZGhscHR4fICEiIyQBAIAAAgAAAAAggAAEBAQAAAAAAAIAAAAEBB9DtnUBAAAAAAAEPueBAKOFggAAgACjzoEAA4BwBwCdASqwAJAAAEcIhYWIhYSIAgIABhwJ7kPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99YAD+/6tQgKOFggADgAqjhYIAD4AOo4WCACSADqOZgQArADECAAEQEAAYABhYL/QACIBDmAYAAKOFggA6gA6jhYIAT4AOo5mBAFMAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAGSADqOFggB6gA6jmYEAewAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIAj4AOo5mBAKMAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAKSADqOFggC6gA6jmYEAywAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIAz4AOo4WCAOSADqOZgQDzADECAAEQEAAYABhYL/QACIBDmAYAAKOFggD6gA6jhYIBD4AOo5iBARsAEQIAARAQFGAAYWC/0AAiAQ5gGACjhYIBJIAOo4WCATqADqOZgQFDADECAAEQEAAYABhYL/QACIBDmAYAAKOFggFPgA6jhYIBZIAOo5mBAWsAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAXqADqOFggGPgA6jmYEBkwAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIBpIAOo4WCAbqADqOZgQG7ADECAAEQEAAYABhYL/QACIBDmAYAAKOFggHPgA6jmYEB4wAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIB5IAOo4WCAfqADqOZgQILADECAAEQEAAYABhYL/QACIBDmAYAAKOFggIPgA6jhYICJIAOo5mBAjMAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAjqADqOFggJPgA6jmYECWwAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYICZIAOo4WCAnqADqOZgQKDADECAAEQEAAYABhYL/QACIBDmAYAAKOFggKPgA6jhYICpIAOo5mBAqsAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCArqADqOFggLPgA6jmIEC0wARAgABEBAUYABhYL/QACIBDmAYAKOFggLkgA6jhYIC+oAOo5mBAvsAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAw+ADqOZgQMjADECAAEQEAAYABhYL/QACIBDmAYAAKOFggMkgA6jhYIDOoAOo5mBA0sAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCA0+ADqOFggNkgA6jmYEDcwAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIDeoAOo4WCA4+ADqOZgQObADECAAEQEAAYABhYL/QACIBDmAYAAKOFggOkgA6jhYIDuoAOo5mBA8MAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCA8+ADqOFggPkgA6jhYID+oAOo4WCBA+ADhxTu2sBAAAAAAAAEbuPs4EDt4r3gQHxghEr8IEK",mp4:"data:video/mp4;base64,AAAAHGZ0eXBNNFYgAAACAGlzb21pc28yYXZjMQAAAAhmcmVlAAAGF21kYXTeBAAAbGliZmFhYyAxLjI4AABCAJMgBDIARwAAArEGBf//rdxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNDIgcjIgOTU2YzhkOCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTQgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0wIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz02IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MCB3ZWlnaHRwPTAga2V5aW50PTI1MCBrZXlpbnRfbWluPTI1IHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcmM9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCB2YnZfbWF4cmF0ZT03NjggdmJ2X2J1ZnNpemU9MzAwMCBjcmZfbWF4PTAuMCBuYWxfaHJkPW5vbmUgZmlsbGVyPTAgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAAFZliIQL8mKAAKvMnJycnJycnJycnXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXiEASZACGQAjgCEASZACGQAjgAAAAAdBmjgX4GSAIQBJkAIZACOAAAAAB0GaVAX4GSAhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGagC/AySEASZACGQAjgAAAAAZBmqAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZrAL8DJIQBJkAIZACOAAAAABkGa4C/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmwAvwMkhAEmQAhkAI4AAAAAGQZsgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGbQC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm2AvwMkhAEmQAhkAI4AAAAAGQZuAL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGboC/AySEASZACGQAjgAAAAAZBm8AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZvgL8DJIQBJkAIZACOAAAAABkGaAC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmiAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpAL8DJIQBJkAIZACOAAAAABkGaYC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmoAvwMkhAEmQAhkAI4AAAAAGQZqgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGawC/AySEASZACGQAjgAAAAAZBmuAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZsAL8DJIQBJkAIZACOAAAAABkGbIC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm0AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZtgL8DJIQBJkAIZACOAAAAABkGbgCvAySEASZACGQAjgCEASZACGQAjgAAAAAZBm6AnwMkhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AAAAhubW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAABDcAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAzB0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAA+kAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAALAAAACQAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAPpAAAAAAABAAAAAAKobWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAB1MAAAdU5VxAAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABWaWRlb0hhbmRsZXIAAAACU21pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAhNzdGJsAAAAr3N0c2QAAAAAAAAAAQAAAJ9hdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAALAAkABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAALWF2Y0MBQsAN/+EAFWdCwA3ZAsTsBEAAAPpAADqYA8UKkgEABWjLg8sgAAAAHHV1aWRraEDyXyRPxbo5pRvPAyPzAAAAAAAAABhzdHRzAAAAAAAAAAEAAAAeAAAD6QAAABRzdHNzAAAAAAAAAAEAAAABAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAABAAAAAQAAAIxzdHN6AAAAAAAAAAAAAAAeAAADDwAAAAsAAAALAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAAiHN0Y28AAAAAAAAAHgAAAEYAAANnAAADewAAA5gAAAO0AAADxwAAA+MAAAP2AAAEEgAABCUAAARBAAAEXQAABHAAAASMAAAEnwAABLsAAATOAAAE6gAABQYAAAUZAAAFNQAABUgAAAVkAAAFdwAABZMAAAWmAAAFwgAABd4AAAXxAAAGDQAABGh0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAACAAAAAAAABDcAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAQkAAADcAABAAAAAAPgbWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAAykBVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAADi21pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAADT3N0YmwAAABnc3RzZAAAAAAAAAABAAAAV21wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAAM2VzZHMAAAAAA4CAgCIAAgAEgICAFEAVBbjYAAu4AAAADcoFgICAAhGQBoCAgAECAAAAIHN0dHMAAAAAAAAAAgAAADIAAAQAAAAAAQAAAkAAAAFUc3RzYwAAAAAAAAAbAAAAAQAAAAEAAAABAAAAAgAAAAIAAAABAAAAAwAAAAEAAAABAAAABAAAAAIAAAABAAAABgAAAAEAAAABAAAABwAAAAIAAAABAAAACAAAAAEAAAABAAAACQAAAAIAAAABAAAACgAAAAEAAAABAAAACwAAAAIAAAABAAAADQAAAAEAAAABAAAADgAAAAIAAAABAAAADwAAAAEAAAABAAAAEAAAAAIAAAABAAAAEQAAAAEAAAABAAAAEgAAAAIAAAABAAAAFAAAAAEAAAABAAAAFQAAAAIAAAABAAAAFgAAAAEAAAABAAAAFwAAAAIAAAABAAAAGAAAAAEAAAABAAAAGQAAAAIAAAABAAAAGgAAAAEAAAABAAAAGwAAAAIAAAABAAAAHQAAAAEAAAABAAAAHgAAAAIAAAABAAAAHwAAAAQAAAABAAAA4HN0c3oAAAAAAAAAAAAAADMAAAAaAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAACMc3RjbwAAAAAAAAAfAAAALAAAA1UAAANyAAADhgAAA6IAAAO+AAAD0QAAA+0AAAQAAAAEHAAABC8AAARLAAAEZwAABHoAAASWAAAEqQAABMUAAATYAAAE9AAABRAAAAUjAAAFPwAABVIAAAVuAAAFgQAABZ0AAAWwAAAFzAAABegAAAX7AAAGFwAAAGJ1ZHRhAAAAWm1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAALWlsc3QAAAAlqXRvbwAAAB1kYXRhAAAAAQAAAABMYXZmNTUuMzMuMTAw"}),N1}var L1,PI;function ure(){if(PI)return L1;PI=1;const{webm:e,mp4:t}=cre(),n=()=>typeof navigator<"u"&&parseFloat((""+(/CPU.*OS ([0-9_]{3,4})[0-9_]{0,1}|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))<10&&!window.MSStream,r=()=>"wakeLock"in navigator&&window.navigator.userAgent.indexOf("Samsung")===-1;class i{constructor(){if(this.enabled=!1,r()){this._wakeLock=null;const l=()=>{this._wakeLock!==null&&document.visibilityState==="visible"&&this.enable()};document.addEventListener("visibilitychange",l),document.addEventListener("fullscreenchange",l)}else n()?this.noSleepTimer=null:(this.noSleepVideo=document.createElement("video"),this.noSleepVideo.setAttribute("title","No Sleep"),this.noSleepVideo.setAttribute("playsinline",""),this._addSourceToVideo(this.noSleepVideo,"webm",e),this._addSourceToVideo(this.noSleepVideo,"mp4",t),Object.assign(this.noSleepVideo.style,{position:"absolute",left:"-100%",top:"-100%"}),document.querySelector("body").append(this.noSleepVideo),this.noSleepVideo.addEventListener("loadedmetadata",()=>{this.noSleepVideo.duration<=1?this.noSleepVideo.setAttribute("loop",""):this.noSleepVideo.addEventListener("timeupdate",()=>{this.noSleepVideo.currentTime>.5&&(this.noSleepVideo.currentTime=Math.random())})}))}_addSourceToVideo(l,c,d){var u=document.createElement("source");u.src=d,u.type=`video/${c}`,l.appendChild(u)}get isEnabled(){return this.enabled}enable(){return r()?navigator.wakeLock.request("screen").then(l=>{this._wakeLock=l,this.enabled=!0,console.log("Wake Lock active."),this._wakeLock.addEventListener("release",()=>{console.log("Wake Lock released.")})}).catch(l=>{throw this.enabled=!1,console.error(`${l.name}, ${l.message}`),l}):n()?(this.disable(),console.warn(`
        NoSleep enabled for older iOS devices. This can interrupt
        active or long-running network requests from completing successfully.
        See https://github.com/richtr/NoSleep.js/issues/15 for more details.
      `),this.noSleepTimer=window.setInterval(()=>{document.hidden||(window.location.href=window.location.href.split("#")[0],window.setTimeout(window.stop,0))},15e3),this.enabled=!0,Promise.resolve()):this.noSleepVideo.play().then(c=>(this.enabled=!0,c)).catch(c=>{throw this.enabled=!1,c})}disable(){r()?(this._wakeLock&&this._wakeLock.release(),this._wakeLock=null):n()?this.noSleepTimer&&(console.warn(`
          NoSleep now disabled for older iOS devices.
        `),window.clearInterval(this.noSleepTimer),this.noSleepTimer=null):this.noSleepVideo.pause(),this.enabled=!1}}return L1=i,L1}var dre=ure();const fre=Pr(dre),VI=()=>({width:global.document.body.clientWidth,height:global.visualViewport.height});function gf(){const[e,t]=x.useState(VI()),n=x.useCallback(Td(()=>{t(VI())},1e3),[]);return x.useEffect(()=>(global.addEventListener("resize",n),n(),()=>global.removeEventListener("resize",n)),[]),{...e,handleResize:n}}const hre=45,pre=7,gre=.005,mre="#ddd",DI=[];function vre(){const e=x.useRef(null);x.useEffect(()=>{const r=e.current;if(!r)return;const i=r.getContext("2d"),s=(p=1)=>({x:Math.random()*r.width,y:Math.random()/p*r.height,opacity:0,radius:Math.floor(Math.random()*pre)+1,color:mre,speed:Math.random()*gre+1,sway:Math.random()-.5}),l=p=>{i&&(i.beginPath(),i.arc(p.x,p.y,p.radius,0,Math.PI*2),i.globalAlpha=p.opacity,i.fillStyle=p.color,i.fill(),i.closePath(),i.globalAlpha=1)},c=p=>{p.y+=p.speed,p.opacity=Math.min(1,p.opacity+p.speed-1),p.x+=p.sway,p.y>r.height&&Object.assign(p,s(1))};let d=!0;const u=()=>{i!==null&&(i.clearRect(0,0,r.width,r.height),DI.forEach(p=>{c(p),l(p)}),d&&requestAnimationFrame(u))};for(let p=0;p<hre;p++)DI.push(s());return u(),()=>{d=!1}},[]);const{width:t,height:n}=gf();return g.jsx("canvas",{ref:e,width:t,height:n})}const yre="/assets/eurovisionbg-CvR5q-FP.svg",Xp=x.createContext({visible:!0,theme:"regular",setVisibility:e=>{},setTheme:e=>{}}),Pl=(e,t="regular")=>{const{setVisibility:n,setTheme:r}=x.useContext(Xp);x.useEffect(()=>{n(e)},[e,n]),x.useEffect(()=>{r(t)},[t,r])},BI={default:{backgroundImage:`linear-gradient(-45deg, ${Ze.red.stroke}, ${Ze.blue.text}, ${Ze.blue.stroke}, ${Ze.red.stroke})`,backgroundSize:"400% 400%"},christmas:{backgroundImage:`linear-gradient(-45deg, ${Ze.christmasGreen.text}, ${Ze.christmasGreen.stroke}, #05144a, #05144a)`,backgroundSize:"400% 400%"},halloween:{background:"black"}};function Are({children:e}){const[t,n]=x.useState(!0),[r,i]=x.useState("regular"),[s]=xt(Vs);return g.jsxs(Xp.Provider,{value:{visible:t,setVisibility:n,setTheme:i,theme:r},children:[t&&g.jsx(xre,{"data-theme":r,"data-graphic-level":s,style:BI[r]??BI.default,children:r==="christmas"&&g.jsx(vre,{})}),e]})}const bre={name:"1skrp57",styles:"animation:escGradient 46s linear infinite;flex:1;@keyframes escGradient{0%{background-position:0% 800%;}100%{background-position:0% 0%;}}"},_re=K("div",{target:"ev6htcq0"})("transform:scale(1, 4);background-image:url(",yre,");background-size:100% 50%;height:100%;&[data-animate='true']{",bre,";}"),NI=()=>{var e;return g.jsx(_re,{"data-animate":!((e=global.location)!=null&&e.href.includes("/remote-mic"))})},Sre=En.div`bg-white w-full h-full`,xre=En(Sre)(e=>["z-[-1] top-0 fixed",e["data-theme"]==="halloween"?"bg-black":"",e["data-graphic-level"]==="high"?"animate-gradient":""]);function wre({size:e=16}){return g.jsx("style",{children:`html {
                font-size: ${e}px !important;
            }`})}function My(e){return x.useMemo(()=>{var t;return new URLSearchParams((t=global.location)==null?void 0:t.search).get(e)},[e])}const Ere=K("div",{target:"e1py91zd0"})(":root{--player-blue-text:",Ze.blue.text,";--player-blue-stroke:",Ze.blue.stroke,";--player-blue-star-fill:",Ze.blue.star.fill,";--player-blue-star-stroke:",Ze.blue.star.stroke,";--player-blue-perfect-fill:",Ze.blue.perfect.fill,";--player-blue-perfect-stroke:",Ze.blue.perfect.stroke,";--player-blue-starPerfect-fill:",Ze.blue.starPerfect.fill,";--player-blue-starPerfect-stroke:",Ze.blue.starPerfect.stroke,";--player-blue-hit-fill:",Ze.blue.hit.fill,";--player-blue-hit-stroke:",Ze.blue.hit.stroke,";--player-blue-miss-fill:",Ze.blue.miss.fill,";--player-blue-miss-stroke:",Ze.blue.miss.stroke,";}h1{",Ot,";margin:0;text-align:center;font-size:4rem;color:",Ue.colors.text.active,";}h2{",Ot,";margin:0;font-size:2.9rem;}h3{",Ot,";margin:0;font-size:2.7rem;strong{color:",Ue.colors.text.active,";}}h4{",Ot,";margin:0;font-size:2.2rem;line-height:1.15;}h5{",Ot,";margin:0;font-size:1.6rem;line-height:1.5;}h6{",Ot,";margin:0;line-height:1.5;font-size:1.3rem;}hr{margin:0.5rem 1rem;opacity:0.25;}h1,h2,h3,h4,h5{button{",Ot,";background:none;padding:0;margin:0;border:none;font-size:inherit;color:",Ue.colors.text.active,";text-decoration:underline;cursor:pointer;}svg{font-size:0.8em;}}strong{color:",Ue.colors.text.active,";}");function Mo(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function pB(e){if(x.isValidElement(e)||!Mo(e))return e;const t={};return Object.keys(e).forEach(n=>{t[n]=pB(e[n])}),t}function Ui(e,t,n={clone:!0}){const r=n.clone?{...e}:e;return Mo(e)&&Mo(t)&&Object.keys(t).forEach(i=>{x.isValidElement(t[i])?r[i]=t[i]:Mo(t[i])&&Object.prototype.hasOwnProperty.call(e,i)&&Mo(e[i])?r[i]=Ui(e[i],t[i],n):n.clone?r[i]=Mo(t[i])?pB(t[i]):t[i]:r[i]=t[i]}),r}var F1={exports:{}},z1,LI;function Tre(){if(LI)return z1;LI=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return z1=e,z1}var $1,FI;function Cre(){if(FI)return $1;FI=1;var e=Tre();function t(){}function n(){}return n.resetWarningCache=t,$1=function(){function r(l,c,d,u,p,h){if(h!==e){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return s.PropTypes=s,s},$1}var zI;function kre(){return zI||(zI=1,F1.exports=Cre()()),F1.exports}var Mre=kre();const It=Pr(Mre);function Gc(e,...t){const n=new URL(`https://mui.com/production-error/?code=${e}`);return t.forEach(r=>n.searchParams.append("args[]",r)),`Minified MUI error #${e}; visit ${n} for the full message.`}function qt(e){if(typeof e!="string")throw new Error(Gc(7));return e.charAt(0).toUpperCase()+e.slice(1)}function $I(...e){return e.reduce((t,n)=>n==null?t:function(...i){t.apply(this,i),n.apply(this,i)},()=>{})}function Yc(e){return e&&e.ownerDocument||document}function Tv(e){return Yc(e).defaultView||window}function bx(e,t){typeof e=="function"?e(t):e&&(e.current=t)}const _x=typeof window<"u"?x.useLayoutEffect:x.useEffect;let UI=0;function Rre(e){const[t,n]=x.useState(e),r=e||t;return x.useEffect(()=>{t==null&&(UI+=1,n(`mui-${UI}`))},[t]),r}const Ire={...sv},HI=Ire.useId;function Ore(e){if(HI!==void 0){const t=HI();return e??t}return Rre(e)}function gd(e){const t=x.useRef(e);return _x(()=>{t.current=e}),x.useRef((...n)=>(0,t.current)(...n)).current}function Tl(...e){return x.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(n=>{bx(n,t)})},e)}const qI={};function gB(e,t){const n=x.useRef(qI);return n.current===qI&&(n.current=e(t)),n}const jre=[];function Pre(e){x.useEffect(e,jre)}class yE{constructor(){mh(this,"currentId",null);mh(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});mh(this,"disposeEffect",()=>this.clear)}static create(){return new yE}start(t,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},t)}}function Vre(){const e=gB(yE.create).current;return Pre(e.disposeEffect),e}function GI(e){try{return e.matches(":focus-visible")}catch{}return!1}function Dre(e=window){const t=e.document.documentElement.clientWidth;return e.innerWidth-t}function Cv(e,t){const n={...t};for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){const i=r;if(i==="components"||i==="slots")n[i]={...e[i],...n[i]};else if(i==="componentsProps"||i==="slotProps"){const s=e[i],l=t[i];if(!l)n[i]=s||{};else if(!s)n[i]=l;else{n[i]={...l};for(const c in s)if(Object.prototype.hasOwnProperty.call(s,c)){const d=c;n[i][d]=Cv(s[d],l[d])}}}else n[i]===void 0&&(n[i]=e[i])}return n}function Ii(e,t,n=void 0){const r={};for(const i in e){const s=e[i];let l="",c=!0;for(let d=0;d<s.length;d+=1){const u=s[d];u&&(l+=(c===!0?"":" ")+t(u),c=!1,n&&n[u]&&(l+=" "+n[u]))}r[i]=l}return r}const YI=e=>e,Bre=()=>{let e=YI;return{configure(t){e=t},generate(t){return e(t)},reset(){e=YI}}},Nre=Bre(),Lre={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function mi(e,t,n="Mui"){const r=Lre[t];return r?`${n}-${r}`:`${Nre.generate(e)}-${t}`}function vi(e,t,n="Mui"){const r={};return t.forEach(i=>{r[i]=mi(e,i,n)}),r}function Fre(e,t=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(t,Math.min(e,n))}function zre(e){return typeof e=="string"}function $re(e,t,n){return e===void 0||zre(e)?t:{...t,ownerState:{...t.ownerState,...n}}}function mB(e,t=[]){if(e===void 0)return{};const n={};return Object.keys(e).filter(r=>r.match(/^on[A-Z]/)&&typeof e[r]=="function"&&!t.includes(r)).forEach(r=>{n[r]=e[r]}),n}function KI(e){if(e===void 0)return{};const t={};return Object.keys(e).filter(n=>!(n.match(/^on[A-Z]/)&&typeof e[n]=="function")).forEach(n=>{t[n]=e[n]}),t}function Ure(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:s}=e;if(!t){const y=Bt(n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),b={...n==null?void 0:n.style,...i==null?void 0:i.style,...r==null?void 0:r.style},_={...n,...i,...r};return y.length>0&&(_.className=y),Object.keys(b).length>0&&(_.style=b),{props:_,internalRef:void 0}}const l=mB({...i,...r}),c=KI(r),d=KI(i),u=t(l),p=Bt(u==null?void 0:u.className,n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),h={...u==null?void 0:u.style,...n==null?void 0:n.style,...i==null?void 0:i.style,...r==null?void 0:r.style},v={...u,...n,...d,...c};return p.length>0&&(v.className=p),Object.keys(h).length>0&&(v.style=h),{props:v,internalRef:u.ref}}function Hre(e,t,n){return typeof e=="function"?e(t,n):e}function AE(e){var t;return parseInt(x.version,10)>=19?((t=e==null?void 0:e.props)==null?void 0:t.ref)||null:(e==null?void 0:e.ref)||null}function op(e,t){return t?Ui(e,t,{clone:!1}):e}function qre(e,t){if(!e.containerQueries)return t;const n=Object.keys(t).filter(r=>r.startsWith("@container")).sort((r,i)=>{var l,c;const s=/min-width:\s*([0-9.]+)/;return+(((l=r.match(s))==null?void 0:l[1])||0)-+(((c=i.match(s))==null?void 0:c[1])||0)});return n.length?n.reduce((r,i)=>{const s=t[i];return delete r[i],r[i]=s,r},{...t}):t}function Gre(e,t){return t==="@"||t.startsWith("@")&&(e.some(n=>t.startsWith(`@${n}`))||!!t.match(/^@\d/))}function Yre(e,t){const n=t.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,i]=n,s=Number.isNaN(+r)?r||0:+r;return e.containerQueries(i).up(s)}function Kre(e){const t=(s,l)=>s.replace("@media",l?`@container ${l}`:"@container");function n(s,l){s.up=(...c)=>t(e.breakpoints.up(...c),l),s.down=(...c)=>t(e.breakpoints.down(...c),l),s.between=(...c)=>t(e.breakpoints.between(...c),l),s.only=(...c)=>t(e.breakpoints.only(...c),l),s.not=(...c)=>{const d=t(e.breakpoints.not(...c),l);return d.includes("not all and")?d.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):d}}const r={},i=s=>(n(r,s),r);return n(i),{...e,containerQueries:i}}const Ry={xs:0,sm:600,md:900,lg:1200,xl:1536},WI={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${Ry[e]}px)`},Wre={containerQueries:e=>({up:t=>{let n=typeof t=="number"?t:Ry[t]||t;return typeof n=="number"&&(n=`${n}px`),e?`@container ${e} (min-width:${n})`:`@container (min-width:${n})`}})};function Ra(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const s=r.breakpoints||WI;return t.reduce((l,c,d)=>(l[s.up(s.keys[d])]=n(t[d]),l),{})}if(typeof t=="object"){const s=r.breakpoints||WI;return Object.keys(t).reduce((l,c)=>{if(Gre(s.keys,c)){const d=Yre(r.containerQueries?r:Wre,c);d&&(l[d]=n(t[c],c))}else if(Object.keys(s.values||Ry).includes(c)){const d=s.up(c);l[d]=n(t[c],c)}else{const d=c;l[d]=t[d]}return l},{})}return n(t)}function vB(e={}){var n;return((n=e.keys)==null?void 0:n.reduce((r,i)=>{const s=e.up(i);return r[s]={},r},{}))||{}}function yB(e,t){return e.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},t)}function P1e(e,...t){const n=vB(e),r=[n,...t].reduce((i,s)=>Ui(i,s),{});return yB(Object.keys(n),r)}function Qre(e,t){if(typeof e!="object")return{};const n={},r=Object.keys(t);return Array.isArray(e)?r.forEach((i,s)=>{s<e.length&&(n[i]=!0)}):r.forEach(i=>{e[i]!=null&&(n[i]=!0)}),n}function V1e({values:e,breakpoints:t,base:n}){const r=n||Qre(e,t),i=Object.keys(r);if(i.length===0)return e;let s;return i.reduce((l,c,d)=>(Array.isArray(e)?(l[c]=e[d]!=null?e[d]:e[s],s=d):typeof e=="object"?(l[c]=e[c]!=null?e[c]:e[s],s=c):l[c]=e,l),{})}function Iy(e,t,n=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&n){const r=`vars.${t}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,e);if(r!=null)return r}return t.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,e)}function kv(e,t,n,r=n){let i;return typeof e=="function"?i=e(n):Array.isArray(e)?i=e[n]||r:i=Iy(e,n)||r,t&&(i=t(i,r,e)),i}function br(e){const{prop:t,cssProperty:n=e.prop,themeKey:r,transform:i}=e,s=l=>{if(l[t]==null)return null;const c=l[t],d=l.theme,u=Iy(d,r)||{};return Ra(l,c,h=>{let v=kv(u,i,h);return h===v&&typeof h=="string"&&(v=kv(u,i,`${t}${h==="default"?"":qt(h)}`,h)),n===!1?v:{[n]:v}})};return s.propTypes={},s.filterProps=[t],s}function Xre(e){const t={};return n=>(t[n]===void 0&&(t[n]=e(n)),t[n])}const Jre={m:"margin",p:"padding"},Zre={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},QI={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},eie=Xre(e=>{if(e.length>2)if(QI[e])e=QI[e];else return[e];const[t,n]=e.split(""),r=Jre[t],i=Zre[n]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),bE=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],_E=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...bE,..._E];function Jp(e,t,n,r){const i=Iy(e,t,!0)??n;return typeof i=="number"||typeof i=="string"?s=>typeof s=="string"?s:typeof i=="string"?`calc(${s} * ${i})`:i*s:Array.isArray(i)?s=>{if(typeof s=="string")return s;const l=Math.abs(s),c=i[l];return s>=0?c:typeof c=="number"?-c:`-${c}`}:typeof i=="function"?i:()=>{}}function SE(e){return Jp(e,"spacing",8)}function Zp(e,t){return typeof t=="string"||t==null?t:e(t)}function tie(e,t){return n=>e.reduce((r,i)=>(r[i]=Zp(t,n),r),{})}function nie(e,t,n,r){if(!t.includes(n))return null;const i=eie(n),s=tie(i,r),l=e[n];return Ra(e,l,s)}function AB(e,t){const n=SE(e.theme);return Object.keys(e).map(r=>nie(e,t,r,n)).reduce(op,{})}function or(e){return AB(e,bE)}or.propTypes={};or.filterProps=bE;function ar(e){return AB(e,_E)}ar.propTypes={};ar.filterProps=_E;function Oy(...e){const t=e.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),n=r=>Object.keys(r).reduce((i,s)=>t[s]?op(i,t[s](r)):i,{});return n.propTypes={},n.filterProps=e.reduce((r,i)=>r.concat(i.filterProps),[]),n}function js(e){return typeof e!="number"?e:`${e}px solid`}function Ks(e,t){return br({prop:e,themeKey:"borders",transform:t})}const rie=Ks("border",js),iie=Ks("borderTop",js),sie=Ks("borderRight",js),oie=Ks("borderBottom",js),aie=Ks("borderLeft",js),lie=Ks("borderColor"),cie=Ks("borderTopColor"),uie=Ks("borderRightColor"),die=Ks("borderBottomColor"),fie=Ks("borderLeftColor"),hie=Ks("outline",js),pie=Ks("outlineColor"),jy=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=Jp(e.theme,"shape.borderRadius",4),n=r=>({borderRadius:Zp(t,r)});return Ra(e,e.borderRadius,n)}return null};jy.propTypes={};jy.filterProps=["borderRadius"];Oy(rie,iie,sie,oie,aie,lie,cie,uie,die,fie,jy,hie,pie);const Py=e=>{if(e.gap!==void 0&&e.gap!==null){const t=Jp(e.theme,"spacing",8),n=r=>({gap:Zp(t,r)});return Ra(e,e.gap,n)}return null};Py.propTypes={};Py.filterProps=["gap"];const Vy=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=Jp(e.theme,"spacing",8),n=r=>({columnGap:Zp(t,r)});return Ra(e,e.columnGap,n)}return null};Vy.propTypes={};Vy.filterProps=["columnGap"];const Dy=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=Jp(e.theme,"spacing",8),n=r=>({rowGap:Zp(t,r)});return Ra(e,e.rowGap,n)}return null};Dy.propTypes={};Dy.filterProps=["rowGap"];const gie=br({prop:"gridColumn"}),mie=br({prop:"gridRow"}),vie=br({prop:"gridAutoFlow"}),yie=br({prop:"gridAutoColumns"}),Aie=br({prop:"gridAutoRows"}),bie=br({prop:"gridTemplateColumns"}),_ie=br({prop:"gridTemplateRows"}),Sie=br({prop:"gridTemplateAreas"}),xie=br({prop:"gridArea"});Oy(Py,Vy,Dy,gie,mie,vie,yie,Aie,bie,_ie,Sie,xie);function Rd(e,t){return t==="grey"?t:e}const wie=br({prop:"color",themeKey:"palette",transform:Rd}),Eie=br({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Rd}),Tie=br({prop:"backgroundColor",themeKey:"palette",transform:Rd});Oy(wie,Eie,Tie);function rs(e){return e<=1&&e!==0?`${e*100}%`:e}const Cie=br({prop:"width",transform:rs}),xE=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=n=>{var i,s,l,c,d;const r=((l=(s=(i=e.theme)==null?void 0:i.breakpoints)==null?void 0:s.values)==null?void 0:l[n])||Ry[n];return r?((d=(c=e.theme)==null?void 0:c.breakpoints)==null?void 0:d.unit)!=="px"?{maxWidth:`${r}${e.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:rs(n)}};return Ra(e,e.maxWidth,t)}return null};xE.filterProps=["maxWidth"];const kie=br({prop:"minWidth",transform:rs}),Mie=br({prop:"height",transform:rs}),Rie=br({prop:"maxHeight",transform:rs}),Iie=br({prop:"minHeight",transform:rs});br({prop:"size",cssProperty:"width",transform:rs});br({prop:"size",cssProperty:"height",transform:rs});const Oie=br({prop:"boxSizing"});Oy(Cie,xE,kie,Mie,Rie,Iie,Oie);const eg={border:{themeKey:"borders",transform:js},borderTop:{themeKey:"borders",transform:js},borderRight:{themeKey:"borders",transform:js},borderBottom:{themeKey:"borders",transform:js},borderLeft:{themeKey:"borders",transform:js},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:js},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:jy},color:{themeKey:"palette",transform:Rd},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Rd},backgroundColor:{themeKey:"palette",transform:Rd},p:{style:ar},pt:{style:ar},pr:{style:ar},pb:{style:ar},pl:{style:ar},px:{style:ar},py:{style:ar},padding:{style:ar},paddingTop:{style:ar},paddingRight:{style:ar},paddingBottom:{style:ar},paddingLeft:{style:ar},paddingX:{style:ar},paddingY:{style:ar},paddingInline:{style:ar},paddingInlineStart:{style:ar},paddingInlineEnd:{style:ar},paddingBlock:{style:ar},paddingBlockStart:{style:ar},paddingBlockEnd:{style:ar},m:{style:or},mt:{style:or},mr:{style:or},mb:{style:or},ml:{style:or},mx:{style:or},my:{style:or},margin:{style:or},marginTop:{style:or},marginRight:{style:or},marginBottom:{style:or},marginLeft:{style:or},marginX:{style:or},marginY:{style:or},marginInline:{style:or},marginInlineStart:{style:or},marginInlineEnd:{style:or},marginBlock:{style:or},marginBlockStart:{style:or},marginBlockEnd:{style:or},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Py},rowGap:{style:Dy},columnGap:{style:Vy},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:rs},maxWidth:{style:xE},minWidth:{transform:rs},height:{transform:rs},maxHeight:{transform:rs},minHeight:{transform:rs},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function jie(...e){const t=e.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(t);return e.every(r=>n.size===Object.keys(r).length)}function Pie(e,t){return typeof e=="function"?e(t):e}function Vie(){function e(n,r,i,s){const l={[n]:r,theme:i},c=s[n];if(!c)return{[n]:r};const{cssProperty:d=n,themeKey:u,transform:p,style:h}=c;if(r==null)return null;if(u==="typography"&&r==="inherit")return{[n]:r};const v=Iy(i,u)||{};return h?h(l):Ra(l,r,b=>{let _=kv(v,p,b);return b===_&&typeof b=="string"&&(_=kv(v,p,`${n}${b==="default"?"":qt(b)}`,b)),d===!1?_:{[d]:_}})}function t(n){const{sx:r,theme:i={}}=n||{};if(!r)return null;const s=i.unstable_sxConfig??eg;function l(c){let d=c;if(typeof c=="function")d=c(i);else if(typeof c!="object")return c;if(!d)return null;const u=vB(i.breakpoints),p=Object.keys(u);let h=u;return Object.keys(d).forEach(v=>{const y=Pie(d[v],i);if(y!=null)if(typeof y=="object")if(s[v])h=op(h,e(v,y,i,s));else{const b=Ra({theme:i},y,_=>({[v]:_}));jie(b,y)?h[v]=t({sx:y,theme:i}):h=op(h,b)}else h=op(h,e(v,y,i,s))}),qre(i,yB(p,h))}return Array.isArray(r)?r.map(l):l(r)}return t}const Kc=Vie();Kc.filterProps=["sx"];const Die=e=>{var r;const t={systemProps:{},otherProps:{}},n=((r=e==null?void 0:e.theme)==null?void 0:r.unstable_sxConfig)??eg;return Object.keys(e).forEach(i=>{n[i]?t.systemProps[i]=e[i]:t.otherProps[i]=e[i]}),t};function Bie(e){const{sx:t,...n}=e,{systemProps:r,otherProps:i}=Die(n);let s;return Array.isArray(t)?s=[r,...t]:typeof t=="function"?s=(...l)=>{const c=t(...l);return Mo(c)?{...r,...c}:r}:s={...r,...t},{...i,sx:s}}var Nie=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Sx=K.bind(null);Nie.forEach(function(e){Sx[e]=Sx(e)});function Lie(e){return e==null||Object.keys(e).length===0}function bB(e){const{styles:t,defaultTheme:n={}}=e,r=typeof t=="function"?i=>t(Lie(i)?n:i):t;return g.jsx(wJ,{styles:r})}/**
 * @mui/styled-engine v6.1.9
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function Fie(e,t){return Sx(e,t)}function zie(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}const XI=[];function JI(e){return XI[0]=e,Gp(XI)}const $ie=e=>{const t=Object.keys(e).map(n=>({key:n,val:e[n]}))||[];return t.sort((n,r)=>n.val-r.val),t.reduce((n,r)=>({...n,[r.key]:r.val}),{})};function Uie(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5,...i}=e,s=$ie(t),l=Object.keys(s);function c(v){return`@media (min-width:${typeof t[v]=="number"?t[v]:v}${n})`}function d(v){return`@media (max-width:${(typeof t[v]=="number"?t[v]:v)-r/100}${n})`}function u(v,y){const b=l.indexOf(y);return`@media (min-width:${typeof t[v]=="number"?t[v]:v}${n}) and (max-width:${(b!==-1&&typeof t[l[b]]=="number"?t[l[b]]:y)-r/100}${n})`}function p(v){return l.indexOf(v)+1<l.length?u(v,l[l.indexOf(v)+1]):c(v)}function h(v){const y=l.indexOf(v);return y===0?c(l[1]):y===l.length-1?d(l[y]):u(v,l[l.indexOf(v)+1]).replace("@media","@media not all and")}return{keys:l,values:s,up:c,down:d,between:u,only:p,not:h,unit:n,...i}}const Hie={borderRadius:4};function _B(e=8,t=SE({spacing:e})){if(e.mui)return e;const n=(...r)=>(r.length===0?[1]:r).map(s=>{const l=t(s);return typeof l=="number"?`${l}px`:l}).join(" ");return n.mui=!0,n}function qie(e,t){var r;const n=this;if(n.vars){if(!((r=n.colorSchemes)!=null&&r[e])||typeof n.getColorSchemeSelector!="function")return{};let i=n.getColorSchemeSelector(e);return i==="&"?t:((i.includes("data-")||i.includes("."))&&(i=`*:where(${i.replace(/\s*&$/,"")}) &`),{[i]:t})}return n.palette.mode===e?t:{}}function wE(e={},...t){const{breakpoints:n={},palette:r={},spacing:i,shape:s={},...l}=e,c=Uie(n),d=_B(i);let u=Ui({breakpoints:c,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:d,shape:{...Hie,...s}},l);return u=Kre(u),u.applyStyles=qie,u=t.reduce((p,h)=>Ui(p,h),u),u.unstable_sxConfig={...eg,...l==null?void 0:l.unstable_sxConfig},u.unstable_sx=function(h){return Kc({sx:h,theme:this})},u}function Gie(e){return Object.keys(e).length===0}function SB(e=null){const t=x.useContext(Yp);return!t||Gie(t)?e:t}const Yie=wE();function xB(e=Yie){return SB(e)}function Kie({styles:e,themeId:t,defaultTheme:n={}}){const r=xB(n),i=typeof e=="function"?e(t&&r[t]||r):e;return g.jsx(bB,{styles:i})}function wB(e){const{variants:t,...n}=e,r={variants:t,style:JI(n),isProcessed:!0};return r.style===n||t&&t.forEach(i=>{typeof i.style!="function"&&(i.style=JI(i.style))}),r}const Wie=wE();function U1(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}function Qie(e){return e?(t,n)=>n[e]:null}function Xie(e,t,n){e.theme=ese(e.theme)?n:e.theme[t]||e.theme}function P0(e,t){const n=typeof t=="function"?t(e):t;if(Array.isArray(n))return n.flatMap(r=>P0(e,r));if(Array.isArray(n==null?void 0:n.variants)){let r;if(n.isProcessed)r=n.style;else{const{variants:i,...s}=n;r=s}return EB(e,n.variants,[r])}return n!=null&&n.isProcessed?n.style:n}function EB(e,t,n=[]){var i;let r;e:for(let s=0;s<t.length;s+=1){const l=t[s];if(typeof l.props=="function"){if(r??(r={...e,...e.ownerState,ownerState:e.ownerState}),!l.props(r))continue}else for(const c in l.props)if(e[c]!==l.props[c]&&((i=e.ownerState)==null?void 0:i[c])!==l.props[c])continue e;typeof l.style=="function"?(r??(r={...e,...e.ownerState,ownerState:e.ownerState}),n.push(l.style(r))):n.push(l.style)}return n}function Jie(e={}){const{themeId:t,defaultTheme:n=Wie,rootShouldForwardProp:r=U1,slotShouldForwardProp:i=U1}=e;function s(c){Xie(c,t,n)}return(c,d={})=>{zie(c,E=>E.filter(O=>O!==Kc));const{name:u,slot:p,skipVariantsResolver:h,skipSx:v,overridesResolver:y=Qie(nse(p)),...b}=d,_=h!==void 0?h:p&&p!=="Root"&&p!=="root"||!1,w=v||!1;let T=U1;p==="Root"||p==="root"?T=r:p?T=i:tse(c)&&(T=void 0);const k=Fie(c,{shouldForwardProp:T,label:Zie(),...b}),R=E=>{if(typeof E=="function"&&E.__emotion_real!==E)return function(j){return P0(j,E)};if(Mo(E)){const O=wB(E);return O.variants?function(P){return P0(P,O)}:O.style}return E},M=(...E)=>{const O=[],j=E.map(R),P=[];if(O.push(s),u&&y&&P.push(function(U){var D,W;const q=(W=(D=U.theme.components)==null?void 0:D[u])==null?void 0:W.styleOverrides;if(!q)return null;const H={};for(const Q in q)H[Q]=P0(U,q[Q]);return y(U,H)}),u&&!_&&P.push(function(U){var H,D;const L=U.theme,q=(D=(H=L==null?void 0:L.components)==null?void 0:H[u])==null?void 0:D.variants;return q?EB(U,q):null}),w||P.push(Kc),Array.isArray(j[0])){const N=j.shift(),U=new Array(O.length).fill(""),L=new Array(P.length).fill("");let q;q=[...U,...N,...L],q.raw=[...U,...N.raw,...L],O.unshift(q)}const V=[...O,...j,...P],C=k(...V);return c.muiName&&(C.muiName=c.muiName),C};return k.withConfig&&(M.withConfig=k.withConfig),M}}function Zie(e,t){return void 0}function ese(e){for(const t in e)return!1;return!0}function tse(e){return typeof e=="string"&&e.charCodeAt(0)>96}function nse(e){return e&&e.charAt(0).toLowerCase()+e.slice(1)}function EE(e,t=0,n=1){return Fre(e,t,n)}function rse(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function Cl(e){if(e.type)return e;if(e.charAt(0)==="#")return Cl(rse(e));const t=e.indexOf("("),n=e.substring(0,t);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(Gc(9,e));let r=e.substring(t+1,e.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(Gc(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}const ise=e=>{const t=Cl(e);return t.values.slice(0,3).map((n,r)=>t.type.includes("hsl")&&r!==0?`${n}%`:n).join(" ")},Uh=(e,t)=>{try{return ise(e)}catch{return e}};function By(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return t.includes("rgb")?r=r.map((i,s)=>s<3?parseInt(i,10):i):t.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),t.includes("color")?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${t}(${r})`}function TB(e){e=Cl(e);const{values:t}=e,n=t[0],r=t[1]/100,i=t[2]/100,s=r*Math.min(i,1-i),l=(u,p=(u+n/30)%12)=>i-s*Math.max(Math.min(p-3,9-p,1),-1);let c="rgb";const d=[Math.round(l(0)*255),Math.round(l(8)*255),Math.round(l(4)*255)];return e.type==="hsla"&&(c+="a",d.push(t[3])),By({type:c,values:d})}function xx(e){e=Cl(e);let t=e.type==="hsl"||e.type==="hsla"?Cl(TB(e)).values:e.values;return t=t.map(n=>(e.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function sse(e,t){const n=xx(e),r=xx(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function oo(e,t){return e=Cl(e),t=EE(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,By(e)}function $m(e,t,n){try{return oo(e,t)}catch{return e}}function TE(e,t){if(e=Cl(e),t=EE(t),e.type.includes("hsl"))e.values[2]*=1-t;else if(e.type.includes("rgb")||e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]*=1-t;return By(e)}function _n(e,t,n){try{return TE(e,t)}catch{return e}}function CE(e,t){if(e=Cl(e),t=EE(t),e.type.includes("hsl"))e.values[2]+=(100-e.values[2])*t;else if(e.type.includes("rgb"))for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return By(e)}function Sn(e,t,n){try{return CE(e,t)}catch{return e}}function ose(e,t=.15){return xx(e)>.5?TE(e,t):CE(e,t)}function Um(e,t,n){try{return ose(e,t)}catch{return e}}const CB=x.createContext(null);function kE(){return x.useContext(CB)}const ase=typeof Symbol=="function"&&Symbol.for,lse=ase?Symbol.for("mui.nested"):"__THEME_NESTED__";function cse(e,t){return typeof t=="function"?t(e):{...e,...t}}function use(e){const{children:t,theme:n}=e,r=kE(),i=x.useMemo(()=>{const s=r===null?{...n}:cse(r,n);return s!=null&&(s[lse]=r!==null),s},[n,r]);return g.jsx(CB.Provider,{value:i,children:t})}const kB=x.createContext();function dse({value:e,...t}){return g.jsx(kB.Provider,{value:e??!0,...t})}const D1e=()=>x.useContext(kB)??!1,MB=x.createContext(void 0);function fse({value:e,children:t}){return g.jsx(MB.Provider,{value:e,children:t})}function hse(e){const{theme:t,name:n,props:r}=e;if(!t||!t.components||!t.components[n])return r;const i=t.components[n];return i.defaultProps?Cv(i.defaultProps,r):!i.styleOverrides&&!i.variants?Cv(i,r):r}function pse({props:e,name:t}){const n=x.useContext(MB);return hse({props:e,name:t,theme:{components:n}})}const ZI={};function e3(e,t,n,r=!1){return x.useMemo(()=>{const i=e&&t[e]||t;if(typeof n=="function"){const s=n(i),l=e?{...t,[e]:s}:s;return r?()=>l:l}return e?{...t,[e]:n}:{...t,...n}},[e,t,n,r])}function RB(e){const{children:t,theme:n,themeId:r}=e,i=SB(ZI),s=kE()||ZI,l=e3(r,i,n),c=e3(r,s,n,!0),d=(r?l[r]:l).direction==="rtl";return g.jsx(use,{theme:c,children:g.jsx(Yp.Provider,{value:l,children:g.jsx(dse,{value:d,children:g.jsx(fse,{value:r?l[r].components:l.components,children:t})})})})}const t3={theme:void 0};function gse(e){let t,n;return function(i){let s=t;return(s===void 0||i.theme!==n)&&(t3.theme=i.theme,s=wB(e(t3)),t=s,n=i.theme),s}}const ME="mode",RE="color-scheme",mse="data-color-scheme";function vse(e){const{defaultMode:t="system",defaultLightColorScheme:n="light",defaultDarkColorScheme:r="dark",modeStorageKey:i=ME,colorSchemeStorageKey:s=RE,attribute:l=mse,colorSchemeNode:c="document.documentElement",nonce:d}=e||{};let u="",p=l;if(l==="class"&&(p=".%s"),l==="data"&&(p="[data-%s]"),p.startsWith(".")){const v=p.substring(1);u+=`${c}.classList.remove('${v}'.replace('%s', light), '${v}'.replace('%s', dark));
      ${c}.classList.add('${v}'.replace('%s', colorScheme));`}const h=p.match(/\[([^\]]+)\]/);if(h){const[v,y]=h[1].split("=");y||(u+=`${c}.removeAttribute('${v}'.replace('%s', light));
      ${c}.removeAttribute('${v}'.replace('%s', dark));`),u+=`
      ${c}.setAttribute('${v}'.replace('%s', colorScheme), ${y?`${y}.replace('%s', colorScheme)`:'""'});`}else u+=`${c}.setAttribute('${p}', colorScheme);`;return g.jsx("script",{suppressHydrationWarning:!0,nonce:typeof window>"u"?d:"",dangerouslySetInnerHTML:{__html:`(function() {
try {
  let colorScheme = '';
  const mode = localStorage.getItem('${i}') || '${t}';
  const dark = localStorage.getItem('${s}-dark') || '${r}';
  const light = localStorage.getItem('${s}-light') || '${n}';
  if (mode === 'system') {
    // handle system mode
    const mql = window.matchMedia('(prefers-color-scheme: dark)');
    if (mql.matches) {
      colorScheme = dark
    } else {
      colorScheme = light
    }
  }
  if (mode === 'light') {
    colorScheme = light;
  }
  if (mode === 'dark') {
    colorScheme = dark;
  }
  if (colorScheme) {
    ${u}
  }
} catch(e){}})();`}},"mui-color-scheme-init")}function n3(e){if(typeof window<"u"&&typeof window.matchMedia=="function"&&e==="system")return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function IB(e,t){if(e.mode==="light"||e.mode==="system"&&e.systemMode==="light")return t("light");if(e.mode==="dark"||e.mode==="system"&&e.systemMode==="dark")return t("dark")}function yse(e){return IB(e,t=>{if(t==="light")return e.lightColorScheme;if(t==="dark")return e.darkColorScheme})}function H1(e,t){if(typeof window>"u")return;let n;try{n=localStorage.getItem(e)||void 0,n||localStorage.setItem(e,t)}catch{}return n||t}function Ase(e){const{defaultMode:t="light",defaultLightColorScheme:n,defaultDarkColorScheme:r,supportedColorSchemes:i=[],modeStorageKey:s=ME,colorSchemeStorageKey:l=RE,storageWindow:c=typeof window>"u"?void 0:window,noSsr:d=!1}=e,u=i.join(","),p=i.length>1,[h,v]=x.useState(()=>{const M=H1(s,t),E=H1(`${l}-light`,n),O=H1(`${l}-dark`,r);return{mode:M,systemMode:n3(M),lightColorScheme:E,darkColorScheme:O}}),[y,b]=x.useState(d||!p);x.useEffect(()=>{b(!0)},[]);const _=yse(h),w=x.useCallback(M=>{v(E=>{if(M===E.mode)return E;const O=M??t;try{localStorage.setItem(s,O)}catch{}return{...E,mode:O,systemMode:n3(O)}})},[s,t]),T=x.useCallback(M=>{M?typeof M=="string"?M&&!u.includes(M)?console.error(`\`${M}\` does not exist in \`theme.colorSchemes\`.`):v(E=>{const O={...E};return IB(E,j=>{try{localStorage.setItem(`${l}-${j}`,M)}catch{}j==="light"&&(O.lightColorScheme=M),j==="dark"&&(O.darkColorScheme=M)}),O}):v(E=>{const O={...E},j=M.light===null?n:M.light,P=M.dark===null?r:M.dark;if(j)if(!u.includes(j))console.error(`\`${j}\` does not exist in \`theme.colorSchemes\`.`);else{O.lightColorScheme=j;try{localStorage.setItem(`${l}-light`,j)}catch{}}if(P)if(!u.includes(P))console.error(`\`${P}\` does not exist in \`theme.colorSchemes\`.`);else{O.darkColorScheme=P;try{localStorage.setItem(`${l}-dark`,P)}catch{}}return O}):v(E=>{try{localStorage.setItem(`${l}-light`,n),localStorage.setItem(`${l}-dark`,r)}catch{}return{...E,lightColorScheme:n,darkColorScheme:r}})},[u,l,n,r]),k=x.useCallback(M=>{h.mode==="system"&&v(E=>{const O=M!=null&&M.matches?"dark":"light";return E.systemMode===O?E:{...E,systemMode:O}})},[h.mode]),R=x.useRef(k);return R.current=k,x.useEffect(()=>{if(typeof window.matchMedia!="function"||!p)return;const M=(...O)=>R.current(...O),E=window.matchMedia("(prefers-color-scheme: dark)");return E.addListener(M),M(E),()=>{E.removeListener(M)}},[p]),x.useEffect(()=>{if(c&&p){const M=E=>{const O=E.newValue;typeof E.key=="string"&&E.key.startsWith(l)&&(!O||u.match(O))&&(E.key.endsWith("light")&&T({light:O}),E.key.endsWith("dark")&&T({dark:O})),E.key===s&&(!O||["light","dark","system"].includes(O))&&w(O||t)};return c.addEventListener("storage",M),()=>{c.removeEventListener("storage",M)}}},[T,w,s,l,u,t,c,p]),{...h,mode:y?h.mode:void 0,systemMode:y?h.systemMode:void 0,colorScheme:y?_:void 0,setMode:w,setColorScheme:T}}const bse="*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function _se(e){const{themeId:t,theme:n={},modeStorageKey:r=ME,colorSchemeStorageKey:i=RE,disableTransitionOnChange:s=!1,defaultColorScheme:l,resolveTheme:c}=e,d={allColorSchemes:[],colorScheme:void 0,darkColorScheme:void 0,lightColorScheme:void 0,mode:void 0,setColorScheme:()=>{},setMode:()=>{},systemMode:void 0},u=x.createContext(void 0),p=()=>x.useContext(u)||d;function h(_){var qe,pt,un,on,yt;const{children:w,theme:T,modeStorageKey:k=r,colorSchemeStorageKey:R=i,disableTransitionOnChange:M=s,storageWindow:E=typeof window>"u"?void 0:window,documentNode:O=typeof document>"u"?void 0:document,colorSchemeNode:j=typeof document>"u"?void 0:document.documentElement,disableNestedContext:P=!1,disableStyleSheetGeneration:V=!1,defaultMode:C="system",noSsr:N}=_,U=x.useRef(!1),L=kE(),q=x.useContext(u),H=!!q&&!P,D=x.useMemo(()=>T||(typeof n=="function"?n():n),[T]),W=D[t],{colorSchemes:Q={},components:J={},cssVarPrefix:B,...G}=W||D,ee=Object.keys(Q).filter(lt=>!!Q[lt]).join(","),ue=x.useMemo(()=>ee.split(","),[ee]),F=typeof l=="string"?l:l.light,ge=typeof l=="string"?l:l.dark,se=Q[F]&&Q[ge]?C:((pt=(qe=Q[G.defaultColorScheme])==null?void 0:qe.palette)==null?void 0:pt.mode)||((un=G.palette)==null?void 0:un.mode),{mode:Se,setMode:Me,systemMode:Re,lightColorScheme:ve,darkColorScheme:je,colorScheme:Ge,setColorScheme:$e}=Ase({supportedColorSchemes:ue,defaultLightColorScheme:F,defaultDarkColorScheme:ge,modeStorageKey:k,colorSchemeStorageKey:R,defaultMode:se,storageWindow:E,noSsr:N});let De=Se,Ve=Ge;H&&(De=q.mode,Ve=q.colorScheme);const ot=Ve||G.defaultColorScheme,ft=((on=G.generateThemeVars)==null?void 0:on.call(G))||G.vars,Be={...G,components:J,colorSchemes:Q,cssVarPrefix:B,vars:ft};if(typeof Be.generateSpacing=="function"&&(Be.spacing=Be.generateSpacing()),ot){const lt=Q[ot];lt&&typeof lt=="object"&&Object.keys(lt).forEach(rt=>{lt[rt]&&typeof lt[rt]=="object"?Be[rt]={...Be[rt],...lt[rt]}:Be[rt]=lt[rt]})}const ut=G.colorSchemeSelector;x.useEffect(()=>{if(Ve&&j&&ut&&ut!=="media"){const lt=ut;let rt=ut;if(lt==="class"&&(rt=".%s"),lt==="data"&&(rt="[data-%s]"),lt!=null&&lt.startsWith("data-")&&!lt.includes("%s")&&(rt=`[${lt}="%s"]`),rt.startsWith("."))j.classList.remove(...ue.map(Ct=>rt.substring(1).replace("%s",Ct))),j.classList.add(rt.substring(1).replace("%s",Ve));else{const Ct=rt.replace("%s",Ve).match(/\[([^\]]+)\]/);if(Ct){const[Nn,Ut]=Ct[1].split("=");Ut||ue.forEach(bt=>{j.removeAttribute(Nn.replace(Ve,bt))}),j.setAttribute(Nn,Ut?Ut.replace(/"|'/g,""):"")}else j.setAttribute(rt,Ve)}}},[Ve,ut,j,ue]),x.useEffect(()=>{let lt;if(M&&U.current&&O){const rt=O.createElement("style");rt.appendChild(O.createTextNode(bse)),O.head.appendChild(rt),window.getComputedStyle(O.body),lt=setTimeout(()=>{O.head.removeChild(rt)},1)}return()=>{clearTimeout(lt)}},[Ve,M,O]),x.useEffect(()=>(U.current=!0,()=>{U.current=!1}),[]);const en=x.useMemo(()=>({allColorSchemes:ue,colorScheme:Ve,darkColorScheme:je,lightColorScheme:ve,mode:De,setColorScheme:$e,setMode:Me,systemMode:Re}),[ue,Ve,je,ve,De,$e,Me,Re,Be.colorSchemeSelector]);let pn=!0;(V||G.cssVariables===!1||H&&(L==null?void 0:L.cssVarPrefix)===B)&&(pn=!1);const sn=g.jsxs(x.Fragment,{children:[g.jsx(RB,{themeId:W?t:void 0,theme:c?c(Be):Be,children:w}),pn&&g.jsx(bB,{styles:((yt=Be.generateStyleSheets)==null?void 0:yt.call(Be))||[]})]});return H?sn:g.jsx(u.Provider,{value:en,children:sn})}const v=typeof l=="string"?l:l.light,y=typeof l=="string"?l:l.dark;return{CssVarsProvider:h,useColorScheme:p,getInitColorSchemeScript:_=>vse({colorSchemeStorageKey:i,defaultLightColorScheme:v,defaultDarkColorScheme:y,modeStorageKey:r,..._})}}function Sse(e=""){function t(...r){if(!r.length)return"";const i=r[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${e?`${e}-`:""}${i}${t(...r.slice(1))})`:`, ${i}`}return(r,...i)=>`var(--${e?`${e}-`:""}${r}${t(...i)})`}const r3=(e,t,n,r=[])=>{let i=e;t.forEach((s,l)=>{l===t.length-1?Array.isArray(i)?i[Number(s)]=n:i&&typeof i=="object"&&(i[s]=n):i&&typeof i=="object"&&(i[s]||(i[s]=r.includes(s)?[]:{}),i=i[s])})},xse=(e,t,n)=>{function r(i,s=[],l=[]){Object.entries(i).forEach(([c,d])=>{(!n||n&&!n([...s,c]))&&d!=null&&(typeof d=="object"&&Object.keys(d).length>0?r(d,[...s,c],Array.isArray(d)?[...l,c]:l):t([...s,c],d,l))})}r(e)},wse=(e,t)=>typeof t=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>e.includes(r))||e[e.length-1].toLowerCase().includes("opacity")?t:`${t}px`:t;function q1(e,t){const{prefix:n,shouldSkipGeneratingVar:r}=t||{},i={},s={},l={};return xse(e,(c,d,u)=>{if((typeof d=="string"||typeof d=="number")&&(!r||!r(c,d))){const p=`--${n?`${n}-`:""}${c.join("-")}`,h=wse(c,d);Object.assign(i,{[p]:h}),r3(s,c,`var(${p})`,u),r3(l,c,`var(${p}, ${h})`,u)}},c=>c[0]==="vars"),{css:i,vars:s,varsWithDefaults:l}}function Ese(e,t={}){const{getSelector:n=w,disableCssColorScheme:r,colorSchemeSelector:i}=t,{colorSchemes:s={},components:l,defaultColorScheme:c="light",...d}=e,{vars:u,css:p,varsWithDefaults:h}=q1(d,t);let v=h;const y={},{[c]:b,..._}=s;if(Object.entries(_||{}).forEach(([R,M])=>{const{vars:E,css:O,varsWithDefaults:j}=q1(M,t);v=Ui(v,j),y[R]={css:O,vars:E}}),b){const{css:R,vars:M,varsWithDefaults:E}=q1(b,t);v=Ui(v,E),y[c]={css:R,vars:M}}function w(R,M){var O,j;let E=i;if(i==="class"&&(E=".%s"),i==="data"&&(E="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(E=`[${i}="%s"]`),R){if(E==="media")return e.defaultColorScheme===R?":root":{[`@media (prefers-color-scheme: ${((j=(O=s[R])==null?void 0:O.palette)==null?void 0:j.mode)||R})`]:{":root":M}};if(E)return e.defaultColorScheme===R?`:root, ${E.replace("%s",String(R))}`:E.replace("%s",String(R))}return":root"}return{vars:v,generateThemeVars:()=>{let R={...u};return Object.entries(y).forEach(([,{vars:M}])=>{R=Ui(R,M)}),R},generateStyleSheets:()=>{var P,V;const R=[],M=e.defaultColorScheme||"light";function E(C,N){Object.keys(N).length&&R.push(typeof C=="string"?{[C]:{...N}}:C)}E(n(void 0,{...p}),p);const{[M]:O,...j}=y;if(O){const{css:C}=O,N=(V=(P=s[M])==null?void 0:P.palette)==null?void 0:V.mode,U=!r&&N?{colorScheme:N,...C}:{...C};E(n(M,{...U}),U)}return Object.entries(j).forEach(([C,{css:N}])=>{var q,H;const U=(H=(q=s[C])==null?void 0:q.palette)==null?void 0:H.mode,L=!r&&U?{colorScheme:U,...N}:{...N};E(n(C,{...L}),L)}),R}}}function Tse(e){return function(n){return e==="media"?`@media (prefers-color-scheme: ${n})`:e?e.startsWith("data-")&&!e.includes("%s")?`[${e}="${n}"] &`:e==="class"?`.${n} &`:e==="data"?`[data-${n}] &`:`${e.replace("%s",n)} &`:"&"}}const kp={black:"#000",white:"#fff"},Cse={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Wu={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Qu={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Mh={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Xu={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Ju={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Zu={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};function OB(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:kp.white,default:kp.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const kse=OB();function jB(){return{text:{primary:kp.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:kp.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const i3=jB();function s3(e,t,n,r){const i=r.light||r,s=r.dark||r*1.5;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:t==="light"?e.light=CE(e.main,i):t==="dark"&&(e.dark=TE(e.main,s)))}function Mse(e="light"){return e==="dark"?{main:Xu[200],light:Xu[50],dark:Xu[400]}:{main:Xu[700],light:Xu[400],dark:Xu[800]}}function Rse(e="light"){return e==="dark"?{main:Wu[200],light:Wu[50],dark:Wu[400]}:{main:Wu[500],light:Wu[300],dark:Wu[700]}}function Ise(e="light"){return e==="dark"?{main:Qu[500],light:Qu[300],dark:Qu[700]}:{main:Qu[700],light:Qu[400],dark:Qu[800]}}function Ose(e="light"){return e==="dark"?{main:Ju[400],light:Ju[300],dark:Ju[700]}:{main:Ju[700],light:Ju[500],dark:Ju[900]}}function jse(e="light"){return e==="dark"?{main:Zu[400],light:Zu[300],dark:Zu[700]}:{main:Zu[800],light:Zu[500],dark:Zu[900]}}function Pse(e="light"){return e==="dark"?{main:Mh[400],light:Mh[300],dark:Mh[700]}:{main:"#ed6c02",light:Mh[500],dark:Mh[900]}}function IE(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:r=.2,...i}=e,s=e.primary||Mse(t),l=e.secondary||Rse(t),c=e.error||Ise(t),d=e.info||Ose(t),u=e.success||jse(t),p=e.warning||Pse(t);function h(_){return sse(_,i3.text.primary)>=n?i3.text.primary:kse.text.primary}const v=({color:_,name:w,mainShade:T=500,lightShade:k=300,darkShade:R=700})=>{if(_={..._},!_.main&&_[T]&&(_.main=_[T]),!_.hasOwnProperty("main"))throw new Error(Gc(11,w?` (${w})`:"",T));if(typeof _.main!="string")throw new Error(Gc(12,w?` (${w})`:"",JSON.stringify(_.main)));return s3(_,"light",k,r),s3(_,"dark",R,r),_.contrastText||(_.contrastText=h(_.main)),_};let y;return t==="light"?y=OB():t==="dark"&&(y=jB()),Ui({common:{...kp},mode:t,primary:v({color:s,name:"primary"}),secondary:v({color:l,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:v({color:c,name:"error"}),warning:v({color:p,name:"warning"}),info:v({color:d,name:"info"}),success:v({color:u,name:"success"}),grey:Cse,contrastThreshold:n,getContrastText:h,augmentColor:v,tonalOffset:r,...y},i)}function Vse(e){const t={};return Object.entries(e).forEach(r=>{const[i,s]=r;typeof s=="object"&&(t[i]=`${s.fontStyle?`${s.fontStyle} `:""}${s.fontVariant?`${s.fontVariant} `:""}${s.fontWeight?`${s.fontWeight} `:""}${s.fontStretch?`${s.fontStretch} `:""}${s.fontSize||""}${s.lineHeight?`/${s.lineHeight} `:""}${s.fontFamily||""}`)}),t}function Dse(e,t){return{toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}},...t}}function Bse(e){return Math.round(e*1e5)/1e5}const o3={textTransform:"uppercase"},a3='"Roboto", "Helvetica", "Arial", sans-serif';function PB(e,t){const{fontFamily:n=a3,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:s=400,fontWeightMedium:l=500,fontWeightBold:c=700,htmlFontSize:d=16,allVariants:u,pxToRem:p,...h}=typeof t=="function"?t(e):t,v=r/14,y=p||(w=>`${w/d*v}rem`),b=(w,T,k,R,M)=>({fontFamily:n,fontWeight:w,fontSize:y(T),lineHeight:k,...n===a3?{letterSpacing:`${Bse(R/T)}em`}:{},...M,...u}),_={h1:b(i,96,1.167,-1.5),h2:b(i,60,1.2,-.5),h3:b(s,48,1.167,0),h4:b(s,34,1.235,.25),h5:b(s,24,1.334,0),h6:b(l,20,1.6,.15),subtitle1:b(s,16,1.75,.15),subtitle2:b(l,14,1.57,.1),body1:b(s,16,1.5,.15),body2:b(s,14,1.43,.15),button:b(l,14,1.75,.4,o3),caption:b(s,12,1.66,.4),overline:b(s,12,2.66,1,o3),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Ui({htmlFontSize:d,pxToRem:y,fontFamily:n,fontSize:r,fontWeightLight:i,fontWeightRegular:s,fontWeightMedium:l,fontWeightBold:c,..._},h,{clone:!1})}const Nse=.2,Lse=.14,Fse=.12;function zn(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${Nse})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${Lse})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${Fse})`].join(",")}const zse=["none",zn(0,2,1,-1,0,1,1,0,0,1,3,0),zn(0,3,1,-2,0,2,2,0,0,1,5,0),zn(0,3,3,-2,0,3,4,0,0,1,8,0),zn(0,2,4,-1,0,4,5,0,0,1,10,0),zn(0,3,5,-1,0,5,8,0,0,1,14,0),zn(0,3,5,-1,0,6,10,0,0,1,18,0),zn(0,4,5,-2,0,7,10,1,0,2,16,1),zn(0,5,5,-3,0,8,10,1,0,3,14,2),zn(0,5,6,-3,0,9,12,1,0,3,16,2),zn(0,6,6,-3,0,10,14,1,0,4,18,3),zn(0,6,7,-4,0,11,15,1,0,4,20,3),zn(0,7,8,-4,0,12,17,2,0,5,22,4),zn(0,7,8,-4,0,13,19,2,0,5,24,4),zn(0,7,9,-4,0,14,21,2,0,5,26,4),zn(0,8,9,-5,0,15,22,2,0,6,28,5),zn(0,8,10,-5,0,16,24,2,0,6,30,5),zn(0,8,11,-5,0,17,26,2,0,6,32,5),zn(0,9,11,-5,0,18,28,2,0,7,34,6),zn(0,9,12,-6,0,19,29,2,0,7,36,6),zn(0,10,13,-6,0,20,31,3,0,8,38,7),zn(0,10,13,-6,0,21,33,3,0,8,40,7),zn(0,10,14,-6,0,22,35,3,0,8,42,7),zn(0,11,14,-7,0,23,36,3,0,9,44,8),zn(0,11,15,-7,0,24,38,3,0,9,46,8)],$se={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Use={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function l3(e){return`${Math.round(e)}ms`}function Hse(e){if(!e)return 0;const t=e/36;return Math.min(Math.round((4+15*t**.25+t/5)*10),3e3)}function qse(e){const t={...$se,...e.easing},n={...Use,...e.duration};return{getAutoHeightDuration:Hse,create:(i=["all"],s={})=>{const{duration:l=n.standard,easing:c=t.easeInOut,delay:d=0,...u}=s;return(Array.isArray(i)?i:[i]).map(p=>`${p} ${typeof l=="string"?l:l3(l)} ${c} ${typeof d=="string"?d:l3(d)}`).join(",")},...e,easing:t,duration:n}}const Gse={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function Yse(e){return Mo(e)||typeof e>"u"||typeof e=="string"||typeof e=="boolean"||typeof e=="number"||Array.isArray(e)}function VB(e={}){const t={...e};function n(r){const i=Object.entries(r);for(let s=0;s<i.length;s++){const[l,c]=i[s];!Yse(c)||l.startsWith("unstable_")?delete r[l]:Mo(c)&&(r[l]={...c},n(r[l]))}}return n(t),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(t,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function wx(e={},...t){const{breakpoints:n,mixins:r={},spacing:i,palette:s={},transitions:l={},typography:c={},shape:d,...u}=e;if(e.vars)throw new Error(Gc(20));const p=IE(s),h=wE(e);let v=Ui(h,{mixins:Dse(h.breakpoints,r),palette:p,shadows:zse.slice(),typography:PB(p,c),transitions:qse(l),zIndex:{...Gse}});return v=Ui(v,u),v=t.reduce((y,b)=>Ui(y,b),v),v.unstable_sxConfig={...eg,...u==null?void 0:u.unstable_sxConfig},v.unstable_sx=function(b){return Kc({sx:b,theme:this})},v.toRuntimeSource=VB,v}function Ex(e){let t;return e<1?t=5.11916*e**2:t=4.5*Math.log(e+1)+2,Math.round(t*10)/1e3}const Kse=[...Array(25)].map((e,t)=>{if(t===0)return"none";const n=Ex(t);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`});function DB(e){return{inputPlaceholder:e==="dark"?.5:.42,inputUnderline:e==="dark"?.7:.42,switchTrackDisabled:e==="dark"?.2:.12,switchTrack:e==="dark"?.3:.38}}function BB(e){return e==="dark"?Kse:[]}function Wse(e){const{palette:t={mode:"light"},opacity:n,overlays:r,...i}=e,s=IE(t);return{palette:s,opacity:{...DB(s.mode),...n},overlays:r||BB(s.mode),...i}}function Qse(e){var t;return!!e[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!e[0].match(/sxConfig$/)||e[0]==="palette"&&!!((t=e[1])!=null&&t.match(/(mode|contrastThreshold|tonalOffset)/))}const Xse=e=>[...[...Array(25)].map((t,n)=>`--${e?`${e}-`:""}overlays-${n}`),`--${e?`${e}-`:""}palette-AppBar-darkBg`,`--${e?`${e}-`:""}palette-AppBar-darkColor`],Jse=e=>(t,n)=>{const r=e.rootSelector||":root",i=e.colorSchemeSelector;let s=i;if(i==="class"&&(s=".%s"),i==="data"&&(s="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(s=`[${i}="%s"]`),e.defaultColorScheme===t){if(t==="dark"){const l={};return Xse(e.cssVarPrefix).forEach(c=>{l[c]=n[c],delete n[c]}),s==="media"?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:l}}:s?{[s.replace("%s",t)]:l,[`${r}, ${s.replace("%s",t)}`]:n}:{[r]:{...n,...l}}}if(s&&s!=="media")return`${r}, ${s.replace("%s",String(t))}`}else if(t){if(s==="media")return{[`@media (prefers-color-scheme: ${String(t)})`]:{[r]:n}};if(s)return s.replace("%s",String(t))}return r};function Zse(e,t){t.forEach(n=>{e[n]||(e[n]={})})}function ye(e,t,n){!e[t]&&n&&(e[t]=n)}function Hh(e){return!e||!e.startsWith("hsl")?e:TB(e)}function aa(e,t){`${t}Channel`in e||(e[`${t}Channel`]=Uh(Hh(e[t]),`MUI: Can't create \`palette.${t}Channel\` because \`palette.${t}\` is not one of these formats: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla(), color().
To suppress this warning, you need to explicitly provide the \`palette.${t}Channel\` as a string (in rgb format, for example "12 12 12") or undefined if you want to remove the channel token.`))}function eoe(e){return typeof e=="number"?`${e}px`:typeof e=="string"||typeof e=="function"||Array.isArray(e)?e:"8px"}const xo=e=>{try{return e()}catch{}},toe=(e="mui")=>Sse(e);function G1(e,t,n,r){if(!t)return;t=t===!0?{}:t;const i=r==="dark"?"dark":"light";if(!n){e[r]=Wse({...t,palette:{mode:i,...t==null?void 0:t.palette}});return}const{palette:s,...l}=wx({...n,palette:{mode:i,...t==null?void 0:t.palette}});return e[r]={...t,palette:s,opacity:{...DB(i),...t==null?void 0:t.opacity},overlays:(t==null?void 0:t.overlays)||BB(i)},l}function noe(e={},...t){const{colorSchemes:n={light:!0},defaultColorScheme:r,disableCssColorScheme:i=!1,cssVarPrefix:s="mui",shouldSkipGeneratingVar:l=Qse,colorSchemeSelector:c=n.light&&n.dark?"media":void 0,rootSelector:d=":root",...u}=e,p=Object.keys(n)[0],h=r||(n.light&&p!=="light"?"light":p),v=toe(s),{[h]:y,light:b,dark:_,...w}=n,T={...w};let k=y;if((h==="dark"&&!("dark"in n)||h==="light"&&!("light"in n))&&(k=!0),!k)throw new Error(Gc(21,h));const R=G1(T,k,u,h);b&&!T.light&&G1(T,b,void 0,"light"),_&&!T.dark&&G1(T,_,void 0,"dark");let M={defaultColorScheme:h,...R,cssVarPrefix:s,colorSchemeSelector:c,rootSelector:d,getCssVar:v,colorSchemes:T,font:{...Vse(R.typography),...R.font},spacing:eoe(u.spacing)};Object.keys(M.colorSchemes).forEach(V=>{const C=M.colorSchemes[V].palette,N=U=>{const L=U.split("-"),q=L[1],H=L[2];return v(U,C[q][H])};if(C.mode==="light"&&(ye(C.common,"background","#fff"),ye(C.common,"onBackground","#000")),C.mode==="dark"&&(ye(C.common,"background","#000"),ye(C.common,"onBackground","#fff")),Zse(C,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),C.mode==="light"){ye(C.Alert,"errorColor",_n(C.error.light,.6)),ye(C.Alert,"infoColor",_n(C.info.light,.6)),ye(C.Alert,"successColor",_n(C.success.light,.6)),ye(C.Alert,"warningColor",_n(C.warning.light,.6)),ye(C.Alert,"errorFilledBg",N("palette-error-main")),ye(C.Alert,"infoFilledBg",N("palette-info-main")),ye(C.Alert,"successFilledBg",N("palette-success-main")),ye(C.Alert,"warningFilledBg",N("palette-warning-main")),ye(C.Alert,"errorFilledColor",xo(()=>C.getContrastText(C.error.main))),ye(C.Alert,"infoFilledColor",xo(()=>C.getContrastText(C.info.main))),ye(C.Alert,"successFilledColor",xo(()=>C.getContrastText(C.success.main))),ye(C.Alert,"warningFilledColor",xo(()=>C.getContrastText(C.warning.main))),ye(C.Alert,"errorStandardBg",Sn(C.error.light,.9)),ye(C.Alert,"infoStandardBg",Sn(C.info.light,.9)),ye(C.Alert,"successStandardBg",Sn(C.success.light,.9)),ye(C.Alert,"warningStandardBg",Sn(C.warning.light,.9)),ye(C.Alert,"errorIconColor",N("palette-error-main")),ye(C.Alert,"infoIconColor",N("palette-info-main")),ye(C.Alert,"successIconColor",N("palette-success-main")),ye(C.Alert,"warningIconColor",N("palette-warning-main")),ye(C.AppBar,"defaultBg",N("palette-grey-100")),ye(C.Avatar,"defaultBg",N("palette-grey-400")),ye(C.Button,"inheritContainedBg",N("palette-grey-300")),ye(C.Button,"inheritContainedHoverBg",N("palette-grey-A100")),ye(C.Chip,"defaultBorder",N("palette-grey-400")),ye(C.Chip,"defaultAvatarColor",N("palette-grey-700")),ye(C.Chip,"defaultIconColor",N("palette-grey-700")),ye(C.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),ye(C.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),ye(C.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),ye(C.LinearProgress,"primaryBg",Sn(C.primary.main,.62)),ye(C.LinearProgress,"secondaryBg",Sn(C.secondary.main,.62)),ye(C.LinearProgress,"errorBg",Sn(C.error.main,.62)),ye(C.LinearProgress,"infoBg",Sn(C.info.main,.62)),ye(C.LinearProgress,"successBg",Sn(C.success.main,.62)),ye(C.LinearProgress,"warningBg",Sn(C.warning.main,.62)),ye(C.Skeleton,"bg",`rgba(${N("palette-text-primaryChannel")} / 0.11)`),ye(C.Slider,"primaryTrack",Sn(C.primary.main,.62)),ye(C.Slider,"secondaryTrack",Sn(C.secondary.main,.62)),ye(C.Slider,"errorTrack",Sn(C.error.main,.62)),ye(C.Slider,"infoTrack",Sn(C.info.main,.62)),ye(C.Slider,"successTrack",Sn(C.success.main,.62)),ye(C.Slider,"warningTrack",Sn(C.warning.main,.62));const U=Um(C.background.default,.8);ye(C.SnackbarContent,"bg",U),ye(C.SnackbarContent,"color",xo(()=>C.getContrastText(U))),ye(C.SpeedDialAction,"fabHoverBg",Um(C.background.paper,.15)),ye(C.StepConnector,"border",N("palette-grey-400")),ye(C.StepContent,"border",N("palette-grey-400")),ye(C.Switch,"defaultColor",N("palette-common-white")),ye(C.Switch,"defaultDisabledColor",N("palette-grey-100")),ye(C.Switch,"primaryDisabledColor",Sn(C.primary.main,.62)),ye(C.Switch,"secondaryDisabledColor",Sn(C.secondary.main,.62)),ye(C.Switch,"errorDisabledColor",Sn(C.error.main,.62)),ye(C.Switch,"infoDisabledColor",Sn(C.info.main,.62)),ye(C.Switch,"successDisabledColor",Sn(C.success.main,.62)),ye(C.Switch,"warningDisabledColor",Sn(C.warning.main,.62)),ye(C.TableCell,"border",Sn($m(C.divider,1),.88)),ye(C.Tooltip,"bg",$m(C.grey[700],.92))}if(C.mode==="dark"){ye(C.Alert,"errorColor",Sn(C.error.light,.6)),ye(C.Alert,"infoColor",Sn(C.info.light,.6)),ye(C.Alert,"successColor",Sn(C.success.light,.6)),ye(C.Alert,"warningColor",Sn(C.warning.light,.6)),ye(C.Alert,"errorFilledBg",N("palette-error-dark")),ye(C.Alert,"infoFilledBg",N("palette-info-dark")),ye(C.Alert,"successFilledBg",N("palette-success-dark")),ye(C.Alert,"warningFilledBg",N("palette-warning-dark")),ye(C.Alert,"errorFilledColor",xo(()=>C.getContrastText(C.error.dark))),ye(C.Alert,"infoFilledColor",xo(()=>C.getContrastText(C.info.dark))),ye(C.Alert,"successFilledColor",xo(()=>C.getContrastText(C.success.dark))),ye(C.Alert,"warningFilledColor",xo(()=>C.getContrastText(C.warning.dark))),ye(C.Alert,"errorStandardBg",_n(C.error.light,.9)),ye(C.Alert,"infoStandardBg",_n(C.info.light,.9)),ye(C.Alert,"successStandardBg",_n(C.success.light,.9)),ye(C.Alert,"warningStandardBg",_n(C.warning.light,.9)),ye(C.Alert,"errorIconColor",N("palette-error-main")),ye(C.Alert,"infoIconColor",N("palette-info-main")),ye(C.Alert,"successIconColor",N("palette-success-main")),ye(C.Alert,"warningIconColor",N("palette-warning-main")),ye(C.AppBar,"defaultBg",N("palette-grey-900")),ye(C.AppBar,"darkBg",N("palette-background-paper")),ye(C.AppBar,"darkColor",N("palette-text-primary")),ye(C.Avatar,"defaultBg",N("palette-grey-600")),ye(C.Button,"inheritContainedBg",N("palette-grey-800")),ye(C.Button,"inheritContainedHoverBg",N("palette-grey-700")),ye(C.Chip,"defaultBorder",N("palette-grey-700")),ye(C.Chip,"defaultAvatarColor",N("palette-grey-300")),ye(C.Chip,"defaultIconColor",N("palette-grey-300")),ye(C.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),ye(C.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),ye(C.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),ye(C.LinearProgress,"primaryBg",_n(C.primary.main,.5)),ye(C.LinearProgress,"secondaryBg",_n(C.secondary.main,.5)),ye(C.LinearProgress,"errorBg",_n(C.error.main,.5)),ye(C.LinearProgress,"infoBg",_n(C.info.main,.5)),ye(C.LinearProgress,"successBg",_n(C.success.main,.5)),ye(C.LinearProgress,"warningBg",_n(C.warning.main,.5)),ye(C.Skeleton,"bg",`rgba(${N("palette-text-primaryChannel")} / 0.13)`),ye(C.Slider,"primaryTrack",_n(C.primary.main,.5)),ye(C.Slider,"secondaryTrack",_n(C.secondary.main,.5)),ye(C.Slider,"errorTrack",_n(C.error.main,.5)),ye(C.Slider,"infoTrack",_n(C.info.main,.5)),ye(C.Slider,"successTrack",_n(C.success.main,.5)),ye(C.Slider,"warningTrack",_n(C.warning.main,.5));const U=Um(C.background.default,.98);ye(C.SnackbarContent,"bg",U),ye(C.SnackbarContent,"color",xo(()=>C.getContrastText(U))),ye(C.SpeedDialAction,"fabHoverBg",Um(C.background.paper,.15)),ye(C.StepConnector,"border",N("palette-grey-600")),ye(C.StepContent,"border",N("palette-grey-600")),ye(C.Switch,"defaultColor",N("palette-grey-300")),ye(C.Switch,"defaultDisabledColor",N("palette-grey-600")),ye(C.Switch,"primaryDisabledColor",_n(C.primary.main,.55)),ye(C.Switch,"secondaryDisabledColor",_n(C.secondary.main,.55)),ye(C.Switch,"errorDisabledColor",_n(C.error.main,.55)),ye(C.Switch,"infoDisabledColor",_n(C.info.main,.55)),ye(C.Switch,"successDisabledColor",_n(C.success.main,.55)),ye(C.Switch,"warningDisabledColor",_n(C.warning.main,.55)),ye(C.TableCell,"border",_n($m(C.divider,1),.68)),ye(C.Tooltip,"bg",$m(C.grey[700],.92))}aa(C.background,"default"),aa(C.background,"paper"),aa(C.common,"background"),aa(C.common,"onBackground"),aa(C,"divider"),Object.keys(C).forEach(U=>{const L=C[U];L&&typeof L=="object"&&(L.main&&ye(C[U],"mainChannel",Uh(Hh(L.main))),L.light&&ye(C[U],"lightChannel",Uh(Hh(L.light))),L.dark&&ye(C[U],"darkChannel",Uh(Hh(L.dark))),L.contrastText&&ye(C[U],"contrastTextChannel",Uh(Hh(L.contrastText))),U==="text"&&(aa(C[U],"primary"),aa(C[U],"secondary")),U==="action"&&(L.active&&aa(C[U],"active"),L.selected&&aa(C[U],"selected")))})}),M=t.reduce((V,C)=>Ui(V,C),M);const E={prefix:s,disableCssColorScheme:i,shouldSkipGeneratingVar:l,getSelector:Jse(M)},{vars:O,generateThemeVars:j,generateStyleSheets:P}=Ese(M,E);return M.vars=O,Object.entries(M.colorSchemes[M.defaultColorScheme]).forEach(([V,C])=>{M[V]=C}),M.generateThemeVars=j,M.generateStyleSheets=P,M.generateSpacing=function(){return _B(u.spacing,SE(this))},M.getColorSchemeSelector=Tse(c),M.spacing=M.generateSpacing(),M.shouldSkipGeneratingVar=l,M.unstable_sxConfig={...eg,...u==null?void 0:u.unstable_sxConfig},M.unstable_sx=function(C){return Kc({sx:C,theme:this})},M.toRuntimeSource=VB,M}function c3(e,t,n){e.colorSchemes&&n&&(e.colorSchemes[t]={...n!==!0&&n,palette:IE({...n===!0?{}:n.palette,mode:t})})}function OE(e={},...t){const{palette:n,cssVariables:r=!1,colorSchemes:i=n?void 0:{light:!0},defaultColorScheme:s=n==null?void 0:n.mode,...l}=e,c=s||"light",d=i==null?void 0:i[c],u={...i,...n?{[c]:{...typeof d!="boolean"&&d,palette:n}}:void 0};if(r===!1){if(!("colorSchemes"in e))return wx(e,...t);let p=n;"palette"in e||u[c]&&(u[c]!==!0?p=u[c].palette:c==="dark"&&(p={mode:"dark"}));const h=wx({...e,palette:p},...t);return h.defaultColorScheme=c,h.colorSchemes=u,h.palette.mode==="light"&&(h.colorSchemes.light={...u.light!==!0&&u.light,palette:h.palette},c3(h,"dark",u.dark)),h.palette.mode==="dark"&&(h.colorSchemes.dark={...u.dark!==!0&&u.dark,palette:h.palette},c3(h,"light",u.light)),h}return!n&&!("light"in u)&&c==="light"&&(u.light=!0),noe({...l,colorSchemes:u,defaultColorScheme:c,...typeof r!="boolean"&&r},...t)}const jE=OE(),xa="$$material";function PE(){const e=xB(jE);return e[xa]||e}function roe(e){return g.jsx(Kie,{...e,defaultTheme:jE,themeId:xa})}function ioe(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const VE=e=>ioe(e)&&e!=="classes",Bn=Jie({themeId:xa,defaultTheme:jE,rootShouldForwardProp:VE});function B1e(e){return function(n){return g.jsx(roe,{styles:typeof e=="function"?r=>e({theme:r,...n}):e})}}function soe(){return Bie}const Gs=gse;function yi(e){return pse(e)}function ooe(e){return mi("MuiSvgIcon",e)}vi("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const aoe=e=>{const{color:t,fontSize:n,classes:r}=e,i={root:["root",t!=="inherit"&&`color${qt(t)}`,`fontSize${qt(n)}`]};return Ii(i,ooe,r)},loe=Bn("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="inherit"&&t[`color${qt(n.color)}`],t[`fontSize${qt(n.fontSize)}`]]}})(Gs(({theme:e})=>{var t,n,r,i,s,l,c,d,u,p,h,v,y,b;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(i=(t=e.transitions)==null?void 0:t.create)==null?void 0:i.call(t,"fill",{duration:(r=(n=(e.vars??e).transitions)==null?void 0:n.duration)==null?void 0:r.shorter}),variants:[{props:_=>!_.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((l=(s=e.typography)==null?void 0:s.pxToRem)==null?void 0:l.call(s,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((d=(c=e.typography)==null?void 0:c.pxToRem)==null?void 0:d.call(c,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((p=(u=e.typography)==null?void 0:u.pxToRem)==null?void 0:p.call(u,35))||"2.1875rem"}},...Object.entries((e.vars??e).palette).filter(([,_])=>_&&_.main).map(([_])=>{var w,T;return{props:{color:_},style:{color:(T=(w=(e.vars??e).palette)==null?void 0:w[_])==null?void 0:T.main}}}),{props:{color:"action"},style:{color:(v=(h=(e.vars??e).palette)==null?void 0:h.action)==null?void 0:v.active}},{props:{color:"disabled"},style:{color:(b=(y=(e.vars??e).palette)==null?void 0:y.action)==null?void 0:b.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),Mv=x.forwardRef(function(t,n){const r=yi({props:t,name:"MuiSvgIcon"}),{children:i,className:s,color:l="inherit",component:c="svg",fontSize:d="medium",htmlColor:u,inheritViewBox:p=!1,titleAccess:h,viewBox:v="0 0 24 24",...y}=r,b=x.isValidElement(i)&&i.type==="svg",_={...r,color:l,component:c,fontSize:d,instanceFontSize:t.fontSize,inheritViewBox:p,viewBox:v,hasSvgAsChild:b},w={};p||(w.viewBox=v);const T=aoe(_);return g.jsxs(loe,{as:c,className:Bt(T.root,s),focusable:"false",color:u,"aria-hidden":h?void 0:!0,role:h?"img":void 0,ref:n,...w,...y,...b&&i.props,ownerState:_,children:[b?i.props.children:i,h?g.jsx("title",{children:h}):null]})});Mv&&(Mv.muiName="SvgIcon");function Wt(e,t){function n(r,i){return g.jsx(Mv,{"data-testid":`${t}Icon`,ref:i,...r,children:e})}return n.muiName=Mv.muiName,x.memo(x.forwardRef(n))}const coe=Wt(g.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 17h-2v-2h2zm2.07-7.75-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25"}),"Help"),uoe=Wt(g.jsx("path",{d:"M11 18h2v-2h-2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4"}),"HelpOutline"),Rv=Wt(g.jsx("path",{d:"M15 21h-2v-2h2zm-2-7h-2v5h2zm8-2h-2v4h2zm-2-2h-2v2h2zM7 12H5v2h2zm-2-2H3v2h2zm7-5h2V3h-2zm-7.5-.5v3h3v-3zM9 9H3V3h6zm-4.5 7.5v3h3v-3zM9 21H3v-6h6zm7.5-16.5v3h3v-3zM21 9h-6V3h6zm-2 10v-3h-4v2h2v3h4v-2zm-2-7h-4v2h4zm-4-2H7v2h2v2h2v-2h2zm1-1V7h-2V5h-2v4zM6.75 5.25h-1.5v1.5h1.5zm0 12h-1.5v1.5h1.5zm12-12h-1.5v1.5h1.5z"}),"QrCode2");function doe(e){return typeof e.main=="string"}function foe(e,t=[]){if(!doe(e))return!1;for(const n of t)if(!e.hasOwnProperty(n)||typeof e[n]!="string")return!1;return!0}function Mp(e=[]){return([,t])=>t&&foe(t,e)}class Iv{constructor(){mh(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new Iv}static use(){const t=gB(Iv.create).current,[n,r]=x.useState(!1);return t.shouldMount=n,t.setShouldMount=r,x.useEffect(t.mountEffect,[n]),t}mount(){return this.mounted||(this.mounted=poe(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...t){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.start(...t)})}stop(...t){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.stop(...t)})}pulsate(...t){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.pulsate(...t)})}}function hoe(){return Iv.use()}function poe(){let e,t;const n=new Promise((r,i)=>{e=r,t=i});return n.resolve=e,n.reject=t,n}function NB(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}function Tx(e,t){return Tx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Tx(e,t)}function LB(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Tx(e,t)}var Y1={exports:{}},ui={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u3;function goe(){if(u3)return ui;u3=1;var e=Jc();function t(d){var u="https://react.dev/errors/"+d;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)u+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(d,u,p){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:h==null?null:""+h,children:d,containerInfo:u,implementation:p}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,u){if(d==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return ui.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ui.createPortal=function(d,u){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(t(299));return s(d,u,null,p)},ui.flushSync=function(d){var u=l.T,p=r.p;try{if(l.T=null,r.p=2,d)return d()}finally{l.T=u,r.p=p,r.d.f()}},ui.preconnect=function(d,u){typeof d=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,r.d.C(d,u))},ui.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},ui.preinit=function(d,u){if(typeof d=="string"&&u&&typeof u.as=="string"){var p=u.as,h=c(p,u.crossOrigin),v=typeof u.integrity=="string"?u.integrity:void 0,y=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;p==="style"?r.d.S(d,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:h,integrity:v,fetchPriority:y}):p==="script"&&r.d.X(d,{crossOrigin:h,integrity:v,fetchPriority:y,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},ui.preinitModule=function(d,u){if(typeof d=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var p=c(u.as,u.crossOrigin);r.d.M(d,{crossOrigin:p,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&r.d.M(d)},ui.preload=function(d,u){if(typeof d=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var p=u.as,h=c(p,u.crossOrigin);r.d.L(d,p,{crossOrigin:h,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},ui.preloadModule=function(d,u){if(typeof d=="string")if(u){var p=c(u.as,u.crossOrigin);r.d.m(d,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:p,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else r.d.m(d)},ui.requestFormReset=function(d){r.d.r(d)},ui.unstable_batchedUpdates=function(d,u){return d(u)},ui.useFormState=function(d,u,p){return l.H.useFormState(d,u,p)},ui.useFormStatus=function(){return l.H.useHostTransitionStatus()},ui.version="19.0.0",ui}var d3;function FB(){if(d3)return Y1.exports;d3=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Y1.exports=goe(),Y1.exports}var mf=FB();const Hm=Pr(mf),f3={disabled:!1},Ov=Qe.createContext(null);var moe=function(t){return t.scrollTop},qh="unmounted",pc="exited",gc="entering",od="entered",Cx="exiting",ja=function(e){LB(t,e);function t(r,i){var s;s=e.call(this,r,i)||this;var l=i,c=l&&!l.isMounting?r.enter:r.appear,d;return s.appearStatus=null,r.in?c?(d=pc,s.appearStatus=gc):d=od:r.unmountOnExit||r.mountOnEnter?d=qh:d=pc,s.state={status:d},s.nextCallback=null,s}t.getDerivedStateFromProps=function(i,s){var l=i.in;return l&&s.status===qh?{status:pc}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var l=this.state.status;this.props.in?l!==gc&&l!==od&&(s=gc):(l===gc||l===od)&&(s=Cx)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,l,c;return s=l=c=i,i!=null&&typeof i!="number"&&(s=i.exit,l=i.enter,c=i.appear!==void 0?i.appear:l),{exit:s,enter:l,appear:c}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===gc){if(this.props.unmountOnExit||this.props.mountOnEnter){var l=this.props.nodeRef?this.props.nodeRef.current:Hm.findDOMNode(this);l&&moe(l)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===pc&&this.setState({status:qh})},n.performEnter=function(i){var s=this,l=this.props.enter,c=this.context?this.context.isMounting:i,d=this.props.nodeRef?[c]:[Hm.findDOMNode(this),c],u=d[0],p=d[1],h=this.getTimeouts(),v=c?h.appear:h.enter;if(!i&&!l||f3.disabled){this.safeSetState({status:od},function(){s.props.onEntered(u)});return}this.props.onEnter(u,p),this.safeSetState({status:gc},function(){s.props.onEntering(u,p),s.onTransitionEnd(v,function(){s.safeSetState({status:od},function(){s.props.onEntered(u,p)})})})},n.performExit=function(){var i=this,s=this.props.exit,l=this.getTimeouts(),c=this.props.nodeRef?void 0:Hm.findDOMNode(this);if(!s||f3.disabled){this.safeSetState({status:pc},function(){i.props.onExited(c)});return}this.props.onExit(c),this.safeSetState({status:Cx},function(){i.props.onExiting(c),i.onTransitionEnd(l.exit,function(){i.safeSetState({status:pc},function(){i.props.onExited(c)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,l=!0;return this.nextCallback=function(c){l&&(l=!1,s.nextCallback=null,i(c))},this.nextCallback.cancel=function(){l=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var l=this.props.nodeRef?this.props.nodeRef.current:Hm.findDOMNode(this),c=i==null&&!this.props.addEndListener;if(!l||c){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var d=this.props.nodeRef?[this.nextCallback]:[l,this.nextCallback],u=d[0],p=d[1];this.props.addEndListener(u,p)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===qh)return null;var s=this.props,l=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var c=NB(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Qe.createElement(Ov.Provider,{value:null},typeof l=="function"?l(i,c):Qe.cloneElement(Qe.Children.only(l),c))},t}(Qe.Component);ja.contextType=Ov;ja.propTypes={};function ed(){}ja.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ed,onEntering:ed,onEntered:ed,onExit:ed,onExiting:ed,onExited:ed};ja.UNMOUNTED=qh;ja.EXITED=pc;ja.ENTERING=gc;ja.ENTERED=od;ja.EXITING=Cx;function voe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DE(e,t){var n=function(s){return t&&x.isValidElement(s)?t(s):s},r=Object.create(null);return e&&x.Children.map(e,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function yoe(e,t){e=e||{},t=t||{};function n(p){return p in t?t[p]:e[p]}var r=Object.create(null),i=[];for(var s in e)s in t?i.length&&(r[s]=i,i=[]):i.push(s);var l,c={};for(var d in t){if(r[d])for(l=0;l<r[d].length;l++){var u=r[d][l];c[r[d][l]]=n(u)}c[d]=n(d)}for(l=0;l<i.length;l++)c[i[l]]=n(i[l]);return c}function xc(e,t,n){return n[t]!=null?n[t]:e.props[t]}function Aoe(e,t){return DE(e.children,function(n){return x.cloneElement(n,{onExited:t.bind(null,n),in:!0,appear:xc(n,"appear",e),enter:xc(n,"enter",e),exit:xc(n,"exit",e)})})}function boe(e,t,n){var r=DE(e.children),i=yoe(t,r);return Object.keys(i).forEach(function(s){var l=i[s];if(x.isValidElement(l)){var c=s in t,d=s in r,u=t[s],p=x.isValidElement(u)&&!u.props.in;d&&(!c||p)?i[s]=x.cloneElement(l,{onExited:n.bind(null,l),in:!0,exit:xc(l,"exit",e),enter:xc(l,"enter",e)}):!d&&c&&!p?i[s]=x.cloneElement(l,{in:!1}):d&&c&&x.isValidElement(u)&&(i[s]=x.cloneElement(l,{onExited:n.bind(null,l),in:u.props.in,exit:xc(l,"exit",e),enter:xc(l,"enter",e)}))}}),i}var _oe=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},Soe={component:"div",childFactory:function(t){return t}},BE=function(e){LB(t,e);function t(r,i){var s;s=e.call(this,r,i)||this;var l=s.handleExited.bind(voe(s));return s.state={contextValue:{isMounting:!0},handleExited:l,firstRender:!0},s}var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(i,s){var l=s.children,c=s.handleExited,d=s.firstRender;return{children:d?Aoe(i,c):boe(i,l,c),firstRender:!1}},n.handleExited=function(i,s){var l=DE(this.props.children);i.key in l||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(c){var d=_v({},c.children);return delete d[i.key],{children:d}}))},n.render=function(){var i=this.props,s=i.component,l=i.childFactory,c=NB(i,["component","childFactory"]),d=this.state.contextValue,u=_oe(this.state.children).map(l);return delete c.appear,delete c.enter,delete c.exit,s===null?Qe.createElement(Ov.Provider,{value:d},u):Qe.createElement(Ov.Provider,{value:d},Qe.createElement(s,c,u))},t}(Qe.Component);BE.propTypes={};BE.defaultProps=Soe;function xoe(e){const{className:t,classes:n,pulsate:r=!1,rippleX:i,rippleY:s,rippleSize:l,in:c,onExited:d,timeout:u}=e,[p,h]=x.useState(!1),v=Bt(t,n.ripple,n.rippleVisible,r&&n.ripplePulsate),y={width:l,height:l,top:-(l/2)+s,left:-(l/2)+i},b=Bt(n.child,p&&n.childLeaving,r&&n.childPulsate);return!c&&!p&&h(!0),x.useEffect(()=>{if(!c&&d!=null){const _=setTimeout(d,u);return()=>{clearTimeout(_)}}},[d,c,u]),g.jsx("span",{className:v,style:y,children:g.jsx("span",{className:b})})}const Rs=vi("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),kx=550,woe=80,Eoe=au`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,Toe=au`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,Coe=au`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,koe=Bn("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),Moe=Bn(xoe,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${Rs.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${Eoe};
    animation-duration: ${kx}ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
  }

  &.${Rs.ripplePulsate} {
    animation-duration: ${({theme:e})=>e.transitions.duration.shorter}ms;
  }

  & .${Rs.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${Rs.childLeaving} {
    opacity: 0;
    animation-name: ${Toe};
    animation-duration: ${kx}ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
  }

  & .${Rs.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${Coe};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,Roe=x.forwardRef(function(t,n){const r=yi({props:t,name:"MuiTouchRipple"}),{center:i=!1,classes:s={},className:l,...c}=r,[d,u]=x.useState([]),p=x.useRef(0),h=x.useRef(null);x.useEffect(()=>{h.current&&(h.current(),h.current=null)},[d]);const v=x.useRef(!1),y=Vre(),b=x.useRef(null),_=x.useRef(null),w=x.useCallback(M=>{const{pulsate:E,rippleX:O,rippleY:j,rippleSize:P,cb:V}=M;u(C=>[...C,g.jsx(Moe,{classes:{ripple:Bt(s.ripple,Rs.ripple),rippleVisible:Bt(s.rippleVisible,Rs.rippleVisible),ripplePulsate:Bt(s.ripplePulsate,Rs.ripplePulsate),child:Bt(s.child,Rs.child),childLeaving:Bt(s.childLeaving,Rs.childLeaving),childPulsate:Bt(s.childPulsate,Rs.childPulsate)},timeout:kx,pulsate:E,rippleX:O,rippleY:j,rippleSize:P},p.current)]),p.current+=1,h.current=V},[s]),T=x.useCallback((M={},E={},O=()=>{})=>{const{pulsate:j=!1,center:P=i||E.pulsate,fakeElement:V=!1}=E;if((M==null?void 0:M.type)==="mousedown"&&v.current){v.current=!1;return}(M==null?void 0:M.type)==="touchstart"&&(v.current=!0);const C=V?null:_.current,N=C?C.getBoundingClientRect():{width:0,height:0,left:0,top:0};let U,L,q;if(P||M===void 0||M.clientX===0&&M.clientY===0||!M.clientX&&!M.touches)U=Math.round(N.width/2),L=Math.round(N.height/2);else{const{clientX:H,clientY:D}=M.touches&&M.touches.length>0?M.touches[0]:M;U=Math.round(H-N.left),L=Math.round(D-N.top)}if(P)q=Math.sqrt((2*N.width**2+N.height**2)/3),q%2===0&&(q+=1);else{const H=Math.max(Math.abs((C?C.clientWidth:0)-U),U)*2+2,D=Math.max(Math.abs((C?C.clientHeight:0)-L),L)*2+2;q=Math.sqrt(H**2+D**2)}M!=null&&M.touches?b.current===null&&(b.current=()=>{w({pulsate:j,rippleX:U,rippleY:L,rippleSize:q,cb:O})},y.start(woe,()=>{b.current&&(b.current(),b.current=null)})):w({pulsate:j,rippleX:U,rippleY:L,rippleSize:q,cb:O})},[i,w,y]),k=x.useCallback(()=>{T({},{pulsate:!0})},[T]),R=x.useCallback((M,E)=>{if(y.clear(),(M==null?void 0:M.type)==="touchend"&&b.current){b.current(),b.current=null,y.start(0,()=>{R(M,E)});return}b.current=null,u(O=>O.length>0?O.slice(1):O),h.current=E},[y]);return x.useImperativeHandle(n,()=>({pulsate:k,start:T,stop:R}),[k,T,R]),g.jsx(koe,{className:Bt(Rs.root,s.root,l),ref:_,...c,children:g.jsx(BE,{component:null,exit:!0,children:d})})});function Ioe(e){return mi("MuiButtonBase",e)}const Ooe=vi("MuiButtonBase",["root","disabled","focusVisible"]),joe=e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:r,classes:i}=e,l=Ii({root:["root",t&&"disabled",n&&"focusVisible"]},Ioe,i);return n&&r&&(l.root+=` ${r}`),l},Poe=Bn("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${Ooe.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),zB=x.forwardRef(function(t,n){const r=yi({props:t,name:"MuiButtonBase"}),{action:i,centerRipple:s=!1,children:l,className:c,component:d="button",disabled:u=!1,disableRipple:p=!1,disableTouchRipple:h=!1,focusRipple:v=!1,focusVisibleClassName:y,LinkComponent:b="a",onBlur:_,onClick:w,onContextMenu:T,onDragLeave:k,onFocus:R,onFocusVisible:M,onKeyDown:E,onKeyUp:O,onMouseDown:j,onMouseLeave:P,onMouseUp:V,onTouchEnd:C,onTouchMove:N,onTouchStart:U,tabIndex:L=0,TouchRippleProps:q,touchRippleRef:H,type:D,...W}=r,Q=x.useRef(null),J=hoe(),B=Tl(J.ref,H),[G,ee]=x.useState(!1);u&&G&&ee(!1),x.useImperativeHandle(i,()=>({focusVisible:()=>{ee(!0),Q.current.focus()}}),[]);const ue=J.shouldMount&&!p&&!u;x.useEffect(()=>{G&&v&&!p&&J.pulsate()},[p,v,G,J]);function F(qe,pt,un=h){return gd(on=>(pt&&pt(on),un||J[qe](on),!0))}const ge=F("start",j),se=F("stop",T),Se=F("stop",k),Me=F("stop",V),Re=F("stop",qe=>{G&&qe.preventDefault(),P&&P(qe)}),ve=F("start",U),je=F("stop",C),Ge=F("stop",N),$e=F("stop",qe=>{GI(qe.target)||ee(!1),_&&_(qe)},!1),De=gd(qe=>{Q.current||(Q.current=qe.currentTarget),GI(qe.target)&&(ee(!0),M&&M(qe)),R&&R(qe)}),Ve=()=>{const qe=Q.current;return d&&d!=="button"&&!(qe.tagName==="A"&&qe.href)},ot=gd(qe=>{v&&!qe.repeat&&G&&qe.key===" "&&J.stop(qe,()=>{J.start(qe)}),qe.target===qe.currentTarget&&Ve()&&qe.key===" "&&qe.preventDefault(),E&&E(qe),qe.target===qe.currentTarget&&Ve()&&qe.key==="Enter"&&!u&&(qe.preventDefault(),w&&w(qe))}),ft=gd(qe=>{v&&qe.key===" "&&G&&!qe.defaultPrevented&&J.stop(qe,()=>{J.pulsate(qe)}),O&&O(qe),w&&qe.target===qe.currentTarget&&Ve()&&qe.key===" "&&!qe.defaultPrevented&&w(qe)});let Be=d;Be==="button"&&(W.href||W.to)&&(Be=b);const ut={};Be==="button"?(ut.type=D===void 0?"button":D,ut.disabled=u):(!W.href&&!W.to&&(ut.role="button"),u&&(ut["aria-disabled"]=u));const en=Tl(n,Q),pn={...r,centerRipple:s,component:d,disabled:u,disableRipple:p,disableTouchRipple:h,focusRipple:v,tabIndex:L,focusVisible:G},sn=joe(pn);return g.jsxs(Poe,{as:Be,className:Bt(sn.root,c),ownerState:pn,onBlur:$e,onClick:w,onContextMenu:se,onFocus:De,onKeyDown:ot,onKeyUp:ft,onMouseDown:ge,onMouseLeave:Re,onMouseUp:Me,onDragLeave:Se,onTouchEnd:je,onTouchMove:Ge,onTouchStart:ve,ref:en,tabIndex:u?-1:L,type:D,...ut,...W,children:[l,ue?g.jsx(Roe,{ref:B,center:s,...q}):null]})});function Voe(e){return mi("MuiIconButton",e)}const Doe=vi("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),Boe=e=>{const{classes:t,disabled:n,color:r,edge:i,size:s}=e,l={root:["root",n&&"disabled",r!=="default"&&`color${qt(r)}`,i&&`edge${qt(i)}`,`size${qt(s)}`]};return Ii(l,Voe,t)},Noe=Bn(zB,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="default"&&t[`color${qt(n.color)}`],n.edge&&t[`edge${qt(n.edge)}`],t[`size${qt(n.size)}`]]}})(Gs(({theme:e})=>({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),variants:[{props:t=>!t.disableRipple,style:{"--IconButton-hoverBg":e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:oo(e.palette.action.active,e.palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),Gs(({theme:e})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(e.palette).filter(Mp()).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}})),...Object.entries(e.palette).filter(Mp()).map(([t])=>({props:{color:t},style:{"--IconButton-hoverBg":e.vars?`rgba(${(e.vars||e).palette[t].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:oo((e.vars||e).palette[t].main,e.palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:e.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:e.typography.pxToRem(28)}}],[`&.${Doe.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled}}))),Ny=x.forwardRef(function(t,n){const r=yi({props:t,name:"MuiIconButton"}),{edge:i=!1,children:s,className:l,color:c="default",disabled:d=!1,disableFocusRipple:u=!1,size:p="medium",...h}=r,v={...r,edge:i,color:c,disabled:d,disableFocusRipple:u,size:p},y=Boe(v);return g.jsx(Noe,{className:Bt(y.root,l),centerRipple:!0,focusRipple:!u,disabled:d,ref:n,...h,ownerState:v,children:s})}),Wd=Math.min,Oc=Math.max,jv=Math.round,qm=Math.floor,kl=e=>({x:e,y:e}),Loe={left:"right",right:"left",bottom:"top",top:"bottom"},Foe={start:"end",end:"start"};function Mx(e,t,n){return Oc(e,Wd(t,n))}function tg(e,t){return typeof e=="function"?e(t):e}function Wc(e){return e.split("-")[0]}function ng(e){return e.split("-")[1]}function $B(e){return e==="x"?"y":"x"}function NE(e){return e==="y"?"height":"width"}function Qd(e){return["top","bottom"].includes(Wc(e))?"y":"x"}function LE(e){return $B(Qd(e))}function zoe(e,t,n){n===void 0&&(n=!1);const r=ng(e),i=LE(e),s=NE(i);let l=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(l=Pv(l)),[l,Pv(l)]}function $oe(e){const t=Pv(e);return[Rx(e),t,Rx(t)]}function Rx(e){return e.replace(/start|end/g,t=>Foe[t])}function Uoe(e,t,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],l=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?s:l;default:return[]}}function Hoe(e,t,n,r){const i=ng(e);let s=Uoe(Wc(e),n==="start",r);return i&&(s=s.map(l=>l+"-"+i),t&&(s=s.concat(s.map(Rx)))),s}function Pv(e){return e.replace(/left|right|bottom|top/g,t=>Loe[t])}function qoe(e){return{top:0,right:0,bottom:0,left:0,...e}}function UB(e){return typeof e!="number"?qoe(e):{top:e,right:e,bottom:e,left:e}}function Vv(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function h3(e,t,n){let{reference:r,floating:i}=e;const s=Qd(t),l=LE(t),c=NE(l),d=Wc(t),u=s==="y",p=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,v=r[c]/2-i[c]/2;let y;switch(d){case"top":y={x:p,y:r.y-i.height};break;case"bottom":y={x:p,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:h};break;case"left":y={x:r.x-i.width,y:h};break;default:y={x:r.x,y:r.y}}switch(ng(t)){case"start":y[l]-=v*(n&&u?-1:1);break;case"end":y[l]+=v*(n&&u?-1:1);break}return y}const Goe=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:l}=n,c=s.filter(Boolean),d=await(l.isRTL==null?void 0:l.isRTL(t));let u=await l.getElementRects({reference:e,floating:t,strategy:i}),{x:p,y:h}=h3(u,r,d),v=r,y={},b=0;for(let _=0;_<c.length;_++){const{name:w,fn:T}=c[_],{x:k,y:R,data:M,reset:E}=await T({x:p,y:h,initialPlacement:r,placement:v,strategy:i,middlewareData:y,rects:u,platform:l,elements:{reference:e,floating:t}});p=k??p,h=R??h,y={...y,[w]:{...y[w],...M}},E&&b<=50&&(b++,typeof E=="object"&&(E.placement&&(v=E.placement),E.rects&&(u=E.rects===!0?await l.getElementRects({reference:e,floating:t,strategy:i}):E.rects),{x:p,y:h}=h3(u,v,d)),_=-1)}return{x:p,y:h,placement:v,strategy:i,middlewareData:y}};async function HB(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:s,rects:l,elements:c,strategy:d}=e,{boundary:u="clippingAncestors",rootBoundary:p="viewport",elementContext:h="floating",altBoundary:v=!1,padding:y=0}=tg(t,e),b=UB(y),w=c[v?h==="floating"?"reference":"floating":h],T=Vv(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(w)))==null||n?w:w.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(c.floating)),boundary:u,rootBoundary:p,strategy:d})),k=h==="floating"?{x:r,y:i,width:l.floating.width,height:l.floating.height}:l.reference,R=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c.floating)),M=await(s.isElement==null?void 0:s.isElement(R))?await(s.getScale==null?void 0:s.getScale(R))||{x:1,y:1}:{x:1,y:1},E=Vv(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:k,offsetParent:R,strategy:d}):k);return{top:(T.top-E.top+b.top)/M.y,bottom:(E.bottom-T.bottom+b.bottom)/M.y,left:(T.left-E.left+b.left)/M.x,right:(E.right-T.right+b.right)/M.x}}const Yoe=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:s,platform:l,elements:c,middlewareData:d}=t,{element:u,padding:p=0}=tg(e,t)||{};if(u==null)return{};const h=UB(p),v={x:n,y:r},y=LE(i),b=NE(y),_=await l.getDimensions(u),w=y==="y",T=w?"top":"left",k=w?"bottom":"right",R=w?"clientHeight":"clientWidth",M=s.reference[b]+s.reference[y]-v[y]-s.floating[b],E=v[y]-s.reference[y],O=await(l.getOffsetParent==null?void 0:l.getOffsetParent(u));let j=O?O[R]:0;(!j||!await(l.isElement==null?void 0:l.isElement(O)))&&(j=c.floating[R]||s.floating[b]);const P=M/2-E/2,V=j/2-_[b]/2-1,C=Wd(h[T],V),N=Wd(h[k],V),U=C,L=j-_[b]-N,q=j/2-_[b]/2+P,H=Mx(U,q,L),D=!d.arrow&&ng(i)!=null&&q!==H&&s.reference[b]/2-(q<U?C:N)-_[b]/2<0,W=D?q<U?q-U:q-L:0;return{[y]:v[y]+W,data:{[y]:H,centerOffset:q-H-W,...D&&{alignmentOffset:W}},reset:D}}}),Koe=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:s,rects:l,initialPlacement:c,platform:d,elements:u}=t,{mainAxis:p=!0,crossAxis:h=!0,fallbackPlacements:v,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:_=!0,...w}=tg(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const T=Wc(i),k=Qd(c),R=Wc(c)===c,M=await(d.isRTL==null?void 0:d.isRTL(u.floating)),E=v||(R||!_?[Pv(c)]:$oe(c)),O=b!=="none";!v&&O&&E.push(...Hoe(c,_,b,M));const j=[c,...E],P=await HB(t,w),V=[];let C=((r=s.flip)==null?void 0:r.overflows)||[];if(p&&V.push(P[T]),h){const q=zoe(i,l,M);V.push(P[q[0]],P[q[1]])}if(C=[...C,{placement:i,overflows:V}],!V.every(q=>q<=0)){var N,U;const q=(((N=s.flip)==null?void 0:N.index)||0)+1,H=j[q];if(H)return{data:{index:q,overflows:C},reset:{placement:H}};let D=(U=C.filter(W=>W.overflows[0]<=0).sort((W,Q)=>W.overflows[1]-Q.overflows[1])[0])==null?void 0:U.placement;if(!D)switch(y){case"bestFit":{var L;const W=(L=C.filter(Q=>{if(O){const J=Qd(Q.placement);return J===k||J==="y"}return!0}).map(Q=>[Q.placement,Q.overflows.filter(J=>J>0).reduce((J,B)=>J+B,0)]).sort((Q,J)=>Q[1]-J[1])[0])==null?void 0:L[0];W&&(D=W);break}case"initialPlacement":D=c;break}if(i!==D)return{reset:{placement:D}}}return{}}}};async function Woe(e,t){const{placement:n,platform:r,elements:i}=e,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),l=Wc(n),c=ng(n),d=Qd(n)==="y",u=["left","top"].includes(l)?-1:1,p=s&&d?-1:1,h=tg(t,e);let{mainAxis:v,crossAxis:y,alignmentAxis:b}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...h};return c&&typeof b=="number"&&(y=c==="end"?b*-1:b),d?{x:y*p,y:v*u}:{x:v*u,y:y*p}}const Qoe=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:s,placement:l,middlewareData:c}=t,d=await Woe(t,e);return l===((n=c.offset)==null?void 0:n.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:i+d.x,y:s+d.y,data:{...d,placement:l}}}}},Xoe=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:s=!0,crossAxis:l=!1,limiter:c={fn:w=>{let{x:T,y:k}=w;return{x:T,y:k}}},...d}=tg(e,t),u={x:n,y:r},p=await HB(t,d),h=Qd(Wc(i)),v=$B(h);let y=u[v],b=u[h];if(s){const w=v==="y"?"top":"left",T=v==="y"?"bottom":"right",k=y+p[w],R=y-p[T];y=Mx(k,y,R)}if(l){const w=h==="y"?"top":"left",T=h==="y"?"bottom":"right",k=b+p[w],R=b-p[T];b=Mx(k,b,R)}const _=c.fn({...t,[v]:y,[h]:b});return{..._,data:{x:_.x-n,y:_.y-r}}}}};function vf(e){return qB(e)?(e.nodeName||"").toLowerCase():"#document"}function us(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Pa(e){var t;return(t=(qB(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function qB(e){return e instanceof Node||e instanceof us(e).Node}function Vo(e){return e instanceof Element||e instanceof us(e).Element}function Do(e){return e instanceof HTMLElement||e instanceof us(e).HTMLElement}function p3(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof us(e).ShadowRoot}function rg(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=po(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function Joe(e){return["table","td","th"].includes(vf(e))}function Ly(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function FE(e){const t=zE(),n=po(e);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function Zoe(e){let t=Ml(e);for(;Do(t)&&!Xd(t);){if(Ly(t))return null;if(FE(t))return t;t=Ml(t)}return null}function zE(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Xd(e){return["html","body","#document"].includes(vf(e))}function po(e){return us(e).getComputedStyle(e)}function Fy(e){return Vo(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ml(e){if(vf(e)==="html")return e;const t=e.assignedSlot||e.parentNode||p3(e)&&e.host||Pa(e);return p3(t)?t.host:t}function GB(e){const t=Ml(e);return Xd(t)?e.ownerDocument?e.ownerDocument.body:e.body:Do(t)&&rg(t)?t:GB(t)}function Rp(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=GB(e),s=i===((r=e.ownerDocument)==null?void 0:r.body),l=us(i);return s?t.concat(l,l.visualViewport||[],rg(i)?i:[],l.frameElement&&n?Rp(l.frameElement):[]):t.concat(i,Rp(i,[],n))}function YB(e){const t=po(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Do(e),s=i?e.offsetWidth:n,l=i?e.offsetHeight:r,c=jv(n)!==s||jv(r)!==l;return c&&(n=s,r=l),{width:n,height:r,$:c}}function $E(e){return Vo(e)?e:e.contextElement}function Id(e){const t=$E(e);if(!Do(t))return kl(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:s}=YB(t);let l=(s?jv(n.width):n.width)/r,c=(s?jv(n.height):n.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!c||!Number.isFinite(c))&&(c=1),{x:l,y:c}}const eae=kl(0);function KB(e){const t=us(e);return!zE()||!t.visualViewport?eae:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function tae(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==us(e)?!1:t}function Qc(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),s=$E(e);let l=kl(1);t&&(r?Vo(r)&&(l=Id(r)):l=Id(e));const c=tae(s,n,r)?KB(s):kl(0);let d=(i.left+c.x)/l.x,u=(i.top+c.y)/l.y,p=i.width/l.x,h=i.height/l.y;if(s){const v=us(s),y=r&&Vo(r)?us(r):r;let b=v,_=b.frameElement;for(;_&&r&&y!==b;){const w=Id(_),T=_.getBoundingClientRect(),k=po(_),R=T.left+(_.clientLeft+parseFloat(k.paddingLeft))*w.x,M=T.top+(_.clientTop+parseFloat(k.paddingTop))*w.y;d*=w.x,u*=w.y,p*=w.x,h*=w.y,d+=R,u+=M,b=us(_),_=b.frameElement}}return Vv({width:p,height:h,x:d,y:u})}function nae(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const s=i==="fixed",l=Pa(r),c=t?Ly(t.floating):!1;if(r===l||c&&s)return n;let d={scrollLeft:0,scrollTop:0},u=kl(1);const p=kl(0),h=Do(r);if((h||!h&&!s)&&((vf(r)!=="body"||rg(l))&&(d=Fy(r)),Do(r))){const v=Qc(r);u=Id(r),p.x=v.x+r.clientLeft,p.y=v.y+r.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-d.scrollLeft*u.x+p.x,y:n.y*u.y-d.scrollTop*u.y+p.y}}function rae(e){return Array.from(e.getClientRects())}function WB(e){return Qc(Pa(e)).left+Fy(e).scrollLeft}function iae(e){const t=Pa(e),n=Fy(e),r=e.ownerDocument.body,i=Oc(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=Oc(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let l=-n.scrollLeft+WB(e);const c=-n.scrollTop;return po(r).direction==="rtl"&&(l+=Oc(t.clientWidth,r.clientWidth)-i),{width:i,height:s,x:l,y:c}}function sae(e,t){const n=us(e),r=Pa(e),i=n.visualViewport;let s=r.clientWidth,l=r.clientHeight,c=0,d=0;if(i){s=i.width,l=i.height;const u=zE();(!u||u&&t==="fixed")&&(c=i.offsetLeft,d=i.offsetTop)}return{width:s,height:l,x:c,y:d}}function oae(e,t){const n=Qc(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,s=Do(e)?Id(e):kl(1),l=e.clientWidth*s.x,c=e.clientHeight*s.y,d=i*s.x,u=r*s.y;return{width:l,height:c,x:d,y:u}}function g3(e,t,n){let r;if(t==="viewport")r=sae(e,n);else if(t==="document")r=iae(Pa(e));else if(Vo(t))r=oae(t,n);else{const i=KB(e);r={...t,x:t.x-i.x,y:t.y-i.y}}return Vv(r)}function QB(e,t){const n=Ml(e);return n===t||!Vo(n)||Xd(n)?!1:po(n).position==="fixed"||QB(n,t)}function aae(e,t){const n=t.get(e);if(n)return n;let r=Rp(e,[],!1).filter(c=>Vo(c)&&vf(c)!=="body"),i=null;const s=po(e).position==="fixed";let l=s?Ml(e):e;for(;Vo(l)&&!Xd(l);){const c=po(l),d=FE(l);!d&&c.position==="fixed"&&(i=null),(s?!d&&!i:!d&&c.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||rg(l)&&!d&&QB(e,l))?r=r.filter(p=>p!==l):i=c,l=Ml(l)}return t.set(e,r),r}function lae(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const l=[...n==="clippingAncestors"?Ly(t)?[]:aae(t,this._c):[].concat(n),r],c=l[0],d=l.reduce((u,p)=>{const h=g3(t,p,i);return u.top=Oc(h.top,u.top),u.right=Wd(h.right,u.right),u.bottom=Wd(h.bottom,u.bottom),u.left=Oc(h.left,u.left),u},g3(t,c,i));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function cae(e){const{width:t,height:n}=YB(e);return{width:t,height:n}}function uae(e,t,n){const r=Do(t),i=Pa(t),s=n==="fixed",l=Qc(e,!0,s,t);let c={scrollLeft:0,scrollTop:0};const d=kl(0);if(r||!r&&!s)if((vf(t)!=="body"||rg(i))&&(c=Fy(t)),r){const h=Qc(t,!0,s,t);d.x=h.x+t.clientLeft,d.y=h.y+t.clientTop}else i&&(d.x=WB(i));const u=l.left+c.scrollLeft-d.x,p=l.top+c.scrollTop-d.y;return{x:u,y:p,width:l.width,height:l.height}}function K1(e){return po(e).position==="static"}function m3(e,t){return!Do(e)||po(e).position==="fixed"?null:t?t(e):e.offsetParent}function XB(e,t){const n=us(e);if(Ly(e))return n;if(!Do(e)){let i=Ml(e);for(;i&&!Xd(i);){if(Vo(i)&&!K1(i))return i;i=Ml(i)}return n}let r=m3(e,t);for(;r&&Joe(r)&&K1(r);)r=m3(r,t);return r&&Xd(r)&&K1(r)&&!FE(r)?n:r||Zoe(e)||n}const dae=async function(e){const t=this.getOffsetParent||XB,n=this.getDimensions,r=await n(e.floating);return{reference:uae(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function fae(e){return po(e).direction==="rtl"}const hae={convertOffsetParentRelativeRectToViewportRelativeRect:nae,getDocumentElement:Pa,getClippingRect:lae,getOffsetParent:XB,getElementRects:dae,getClientRects:rae,getDimensions:cae,getScale:Id,isElement:Vo,isRTL:fae};function pae(e,t){let n=null,r;const i=Pa(e);function s(){var c;clearTimeout(r),(c=n)==null||c.disconnect(),n=null}function l(c,d){c===void 0&&(c=!1),d===void 0&&(d=1),s();const{left:u,top:p,width:h,height:v}=e.getBoundingClientRect();if(c||t(),!h||!v)return;const y=qm(p),b=qm(i.clientWidth-(u+h)),_=qm(i.clientHeight-(p+v)),w=qm(u),k={rootMargin:-y+"px "+-b+"px "+-_+"px "+-w+"px",threshold:Oc(0,Wd(1,d))||1};let R=!0;function M(E){const O=E[0].intersectionRatio;if(O!==d){if(!R)return l();O?l(!1,O):r=setTimeout(()=>{l(!1,1e-7)},1e3)}R=!1}try{n=new IntersectionObserver(M,{...k,root:i.ownerDocument})}catch{n=new IntersectionObserver(M,k)}n.observe(e)}return l(!0),s}function gae(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:d=!1}=r,u=$E(e),p=i||s?[...u?Rp(u):[],...Rp(t)]:[];p.forEach(T=>{i&&T.addEventListener("scroll",n,{passive:!0}),s&&T.addEventListener("resize",n)});const h=u&&c?pae(u,n):null;let v=-1,y=null;l&&(y=new ResizeObserver(T=>{let[k]=T;k&&k.target===u&&y&&(y.unobserve(t),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var R;(R=y)==null||R.observe(t)})),n()}),u&&!d&&y.observe(u),y.observe(t));let b,_=d?Qc(e):null;d&&w();function w(){const T=Qc(e);_&&(T.x!==_.x||T.y!==_.y||T.width!==_.width||T.height!==_.height)&&n(),_=T,b=requestAnimationFrame(w)}return n(),()=>{var T;p.forEach(k=>{i&&k.removeEventListener("scroll",n),s&&k.removeEventListener("resize",n)}),h==null||h(),(T=y)==null||T.disconnect(),y=null,d&&cancelAnimationFrame(b)}}const mae=Qoe,vae=Xoe,yae=Koe,Aae=Yoe,v3=(e,t,n)=>{const r=new Map,i={platform:hae,...n},s={...i.platform,_c:r};return Goe(e,t,{...i,platform:s})};var W1={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var y3;function bae(){return y3||(y3=1,function(e){(function(){var t={}.hasOwnProperty;function n(){for(var s="",l=0;l<arguments.length;l++){var c=arguments[l];c&&(s=i(s,r(c)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var l="";for(var c in s)t.call(s,c)&&s[c]&&(l=i(l,c));return l}function i(s,l){return l?s?s+" "+l:s+l:s}e.exports?(n.default=n,e.exports=n):window.classNames=n})()}(W1)),W1.exports}var _ae=bae();const Ix=Pr(_ae);var A3={};const Sae="react-tooltip-core-styles",xae="react-tooltip-base-styles",b3={core:!1,base:!1};function _3({css:e,id:t=xae,type:n="base",ref:r}){var i,s;if(!e||typeof document>"u"||b3[n]||n==="core"&&typeof process<"u"&&(!((i=process==null?void 0:A3)===null||i===void 0)&&i.REACT_TOOLTIP_DISABLE_CORE_STYLES)||n!=="base"&&typeof process<"u"&&(!((s=process==null?void 0:A3)===null||s===void 0)&&s.REACT_TOOLTIP_DISABLE_BASE_STYLES))return;n==="core"&&(t=Sae),r||(r={});const{insertAt:l}=r;if(document.getElementById(t))return void console.warn(`[react-tooltip] Element with id '${t}' already exists. Call \`removeStyle()\` first`);const c=document.head||document.getElementsByTagName("head")[0],d=document.createElement("style");d.id=t,d.type="text/css",l==="top"&&c.firstChild?c.insertBefore(d,c.firstChild):c.appendChild(d),d.styleSheet?d.styleSheet.cssText=e:d.appendChild(document.createTextNode(e)),b3[n]=!0}const S3=async({elementReference:e=null,tooltipReference:t=null,tooltipArrowReference:n=null,place:r="top",offset:i=10,strategy:s="absolute",middlewares:l=[mae(Number(i)),yae({fallbackAxisSideDirection:"start"}),vae({padding:5})],border:c})=>{if(!e)return{tooltipStyles:{},tooltipArrowStyles:{},place:r};if(t===null)return{tooltipStyles:{},tooltipArrowStyles:{},place:r};const d=l;return n?(d.push(Aae({element:n,padding:5})),v3(e,t,{placement:r,strategy:s,middleware:d}).then(({x:u,y:p,placement:h,middlewareData:v})=>{var y,b;const _={left:`${u}px`,top:`${p}px`,border:c},{x:w,y:T}=(y=v.arrow)!==null&&y!==void 0?y:{x:0,y:0},k=(b={top:"bottom",right:"left",bottom:"top",left:"right"}[h.split("-")[0]])!==null&&b!==void 0?b:"bottom",R=c&&{borderBottom:c,borderRight:c};let M=0;if(c){const E=`${c}`.match(/(\d+)px/);M=E!=null&&E[1]?Number(E[1]):1}return{tooltipStyles:_,tooltipArrowStyles:{left:w!=null?`${w}px`:"",top:T!=null?`${T}px`:"",right:"",bottom:"",...R,[k]:`-${4+M}px`},place:h}})):v3(e,t,{placement:"bottom",strategy:s,middleware:d}).then(({x:u,y:p,placement:h})=>({tooltipStyles:{left:`${u}px`,top:`${p}px`},tooltipArrowStyles:{},place:h}))},x3=(e,t)=>!("CSS"in window&&"supports"in window.CSS)||window.CSS.supports(e,t),w3=(e,t,n)=>{let r=null;const i=function(...s){const l=()=>{r=null};!r&&(e.apply(this,s),r=setTimeout(l,t))};return i.cancel=()=>{r&&(clearTimeout(r),r=null)},i},E3=e=>e!==null&&!Array.isArray(e)&&typeof e=="object",Ox=(e,t)=>{if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t))return e.length===t.length&&e.every((i,s)=>Ox(i,t[s]));if(Array.isArray(e)!==Array.isArray(t))return!1;if(!E3(e)||!E3(t))return e===t;const n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&n.every(i=>Ox(e[i],t[i]))},wae=e=>{if(!(e instanceof HTMLElement||e instanceof SVGElement))return!1;const t=getComputedStyle(e);return["overflow","overflow-x","overflow-y"].some(n=>{const r=t.getPropertyValue(n);return r==="auto"||r==="scroll"})},T3=e=>{if(!e)return null;let t=e.parentElement;for(;t;){if(wae(t))return t;t=t.parentElement}return document.scrollingElement||document.documentElement},Eae=typeof window<"u"?x.useLayoutEffect:x.useEffect,Tae="DEFAULT_TOOLTIP_ID",Cae={anchorRefs:new Set,activeAnchor:{current:null},attach:()=>{},detach:()=>{},setActiveAnchor:()=>{}},kae=x.createContext({getTooltipData:()=>Cae});function JB(e=Tae){return x.useContext(kae).getTooltipData(e)}var td={tooltip:"core-styles-module_tooltip__3vRRp",fixed:"core-styles-module_fixed__pcSol",arrow:"core-styles-module_arrow__cvMwQ",noArrow:"core-styles-module_noArrow__xock6",clickable:"core-styles-module_clickable__ZuTTB",show:"core-styles-module_show__Nt9eE",closing:"core-styles-module_closing__sGnxF"},Q1={tooltip:"styles-module_tooltip__mnnfp",arrow:"styles-module_arrow__K0L3T",dark:"styles-module_dark__xNqje",light:"styles-module_light__Z6W-X",success:"styles-module_success__A2AKt",warning:"styles-module_warning__SCK0X",error:"styles-module_error__JvumD",info:"styles-module_info__BWdHW"};const Mae=({forwardRef:e,id:t,className:n,classNameArrow:r,variant:i="dark",anchorId:s,anchorSelect:l,place:c="top",offset:d=10,events:u=["hover"],openOnClick:p=!1,positionStrategy:h="absolute",middlewares:v,wrapper:y,delayShow:b=0,delayHide:_=0,float:w=!1,hidden:T=!1,noArrow:k=!1,clickable:R=!1,closeOnEsc:M=!1,closeOnScroll:E=!1,closeOnResize:O=!1,openEvents:j,closeEvents:P,globalCloseEvents:V,imperativeModeOnly:C,style:N,position:U,afterShow:L,afterHide:q,content:H,contentWrapperRef:D,isOpen:W,defaultIsOpen:Q=!1,setIsOpen:J,activeAnchor:B,setActiveAnchor:G,border:ee,opacity:ue,arrowColor:F,role:ge="tooltip"})=>{var se;const Se=x.useRef(null),Me=x.useRef(null),Re=x.useRef(null),ve=x.useRef(null),je=x.useRef(null),[Ge,$e]=x.useState({tooltipStyles:{},tooltipArrowStyles:{},place:c}),[De,Ve]=x.useState(!1),[ot,ft]=x.useState(!1),[Be,ut]=x.useState(null),en=x.useRef(!1),pn=x.useRef(null),{anchorRefs:sn,setActiveAnchor:qe}=JB(t),pt=x.useRef(!1),[un,on]=x.useState([]),yt=x.useRef(!1),lt=p||u.includes("click"),rt=lt||(j==null?void 0:j.click)||(j==null?void 0:j.dblclick)||(j==null?void 0:j.mousedown),Ct=j?{...j}:{mouseover:!0,focus:!0,mouseenter:!1,click:!1,dblclick:!1,mousedown:!1};!j&&lt&&Object.assign(Ct,{mouseenter:!1,focus:!1,mouseover:!1,click:!0});const Nn=P?{...P}:{mouseout:!0,blur:!0,mouseleave:!1,click:!1,dblclick:!1,mouseup:!1};!P&&lt&&Object.assign(Nn,{mouseleave:!1,blur:!1,mouseout:!1});const Ut=V?{...V}:{escape:M||!1,scroll:E||!1,resize:O||!1,clickOutsideAnchor:rt||!1};C&&(Object.assign(Ct,{mouseenter:!1,focus:!1,click:!1,dblclick:!1,mousedown:!1}),Object.assign(Nn,{mouseleave:!1,blur:!1,click:!1,dblclick:!1,mouseup:!1}),Object.assign(Ut,{escape:!1,scroll:!1,resize:!1,clickOutsideAnchor:!1})),Eae(()=>(yt.current=!0,()=>{yt.current=!1}),[]);const bt=Le=>{yt.current&&(Le&&ft(!0),setTimeout(()=>{yt.current&&(J==null||J(Le),W===void 0&&Ve(Le))},10))};x.useEffect(()=>{if(W===void 0)return()=>null;W&&ft(!0);const Le=setTimeout(()=>{Ve(W)},10);return()=>{clearTimeout(Le)}},[W]),x.useEffect(()=>{if(De!==en.current)if(je.current&&clearTimeout(je.current),en.current=De,De)L==null||L();else{const Le=(it=>{const ht=it.match(/^([\d.]+)(ms|s)$/);if(!ht)return 0;const[,Yn,pr]=ht;return Number(Yn)*(pr==="ms"?1:1e3)})(getComputedStyle(document.body).getPropertyValue("--rt-transition-show-delay"));je.current=setTimeout(()=>{ft(!1),ut(null),q==null||q()},Le+25)}},[De]);const Nt=Le=>{$e(it=>Ox(it,Le)?it:Le)},Ln=(Le=b)=>{Re.current&&clearTimeout(Re.current),ot?bt(!0):Re.current=setTimeout(()=>{bt(!0)},Le)},Jt=(Le=_)=>{ve.current&&clearTimeout(ve.current),ve.current=setTimeout(()=>{pt.current||bt(!1)},Le)},mt=Le=>{var it;if(!Le)return;const ht=(it=Le.currentTarget)!==null&&it!==void 0?it:Le.target;if(!(ht!=null&&ht.isConnected))return G(null),void qe({current:null});b?Ln():bt(!0),G(ht),qe({current:ht}),ve.current&&clearTimeout(ve.current)},fr=()=>{R?Jt(_||100):_?Jt():bt(!1),Re.current&&clearTimeout(Re.current)},Vr=({x:Le,y:it})=>{var ht;const Yn={getBoundingClientRect:()=>({x:Le,y:it,width:0,height:0,top:it,left:Le,right:Le,bottom:it})};S3({place:(ht=Be==null?void 0:Be.place)!==null&&ht!==void 0?ht:c,offset:d,elementReference:Yn,tooltipReference:Se.current,tooltipArrowReference:Me.current,strategy:h,middlewares:v,border:ee}).then(pr=>{Nt(pr)})},Gn=Le=>{if(!Le)return;const it=Le,ht={x:it.clientX,y:it.clientY};Vr(ht),pn.current=ht},qr=Le=>{var it;if(!De)return;const ht=Le.target;ht.isConnected&&(!((it=Se.current)===null||it===void 0)&&it.contains(ht)||[document.querySelector(`[id='${s}']`),...un].some(Yn=>Yn==null?void 0:Yn.contains(ht))||(bt(!1),Re.current&&clearTimeout(Re.current)))},Dr=w3(mt,50),Lt=w3(fr,50),Tn=Le=>{Lt.cancel(),Dr(Le)},Xe=()=>{Dr.cancel(),Lt()},kt=x.useCallback(()=>{var Le,it;const ht=(Le=Be==null?void 0:Be.position)!==null&&Le!==void 0?Le:U;ht?Vr(ht):w?pn.current&&Vr(pn.current):B!=null&&B.isConnected&&S3({place:(it=Be==null?void 0:Be.place)!==null&&it!==void 0?it:c,offset:d,elementReference:B,tooltipReference:Se.current,tooltipArrowReference:Me.current,strategy:h,middlewares:v,border:ee}).then(Yn=>{yt.current&&Nt(Yn)})},[De,B,H,N,c,Be==null?void 0:Be.place,d,h,U,Be==null?void 0:Be.position,w]);x.useEffect(()=>{var Le,it;const ht=new Set(sn);un.forEach(Qt=>{ht.add({current:Qt})});const Yn=document.querySelector(`[id='${s}']`);Yn&&ht.add({current:Yn});const pr=()=>{bt(!1)},li=T3(B),Ai=T3(Se.current);Ut.scroll&&(window.addEventListener("scroll",pr),li==null||li.addEventListener("scroll",pr),Ai==null||Ai.addEventListener("scroll",pr));let Mr=null;Ut.resize?window.addEventListener("resize",pr):B&&Se.current&&(Mr=gae(B,Se.current,kt,{ancestorResize:!0,elementResize:!0,layoutShift:!0}));const Kn=Qt=>{Qt.key==="Escape"&&bt(!1)};Ut.escape&&window.addEventListener("keydown",Kn),Ut.clickOutsideAnchor&&window.addEventListener("click",qr);const _t=[],tr=Qt=>{De&&(Qt==null?void 0:Qt.target)===B||mt(Qt)},mo=Qt=>{De&&(Qt==null?void 0:Qt.target)===B&&fr()},Da=["mouseover","mouseout","mouseenter","mouseleave","focus","blur"],du=["click","dblclick","mousedown","mouseup"];Object.entries(Ct).forEach(([Qt,bi])=>{bi&&(Da.includes(Qt)?_t.push({event:Qt,listener:Tn}):du.includes(Qt)&&_t.push({event:Qt,listener:tr}))}),Object.entries(Nn).forEach(([Qt,bi])=>{bi&&(Da.includes(Qt)?_t.push({event:Qt,listener:Xe}):du.includes(Qt)&&_t.push({event:Qt,listener:mo}))}),w&&_t.push({event:"pointermove",listener:Gn});const fu=()=>{pt.current=!0},Ll=()=>{pt.current=!1,fr()};return R&&!rt&&((Le=Se.current)===null||Le===void 0||Le.addEventListener("mouseenter",fu),(it=Se.current)===null||it===void 0||it.addEventListener("mouseleave",Ll)),_t.forEach(({event:Qt,listener:bi})=>{ht.forEach(Yi=>{var ji;(ji=Yi.current)===null||ji===void 0||ji.addEventListener(Qt,bi)})}),()=>{var Qt,bi;Ut.scroll&&(window.removeEventListener("scroll",pr),li==null||li.removeEventListener("scroll",pr),Ai==null||Ai.removeEventListener("scroll",pr)),Ut.resize?window.removeEventListener("resize",pr):Mr==null||Mr(),Ut.clickOutsideAnchor&&window.removeEventListener("click",qr),Ut.escape&&window.removeEventListener("keydown",Kn),R&&!rt&&((Qt=Se.current)===null||Qt===void 0||Qt.removeEventListener("mouseenter",fu),(bi=Se.current)===null||bi===void 0||bi.removeEventListener("mouseleave",Ll)),_t.forEach(({event:Yi,listener:ji})=>{ht.forEach(Lo=>{var Ki;(Ki=Lo.current)===null||Ki===void 0||Ki.removeEventListener(Yi,ji)})})}},[B,kt,ot,sn,un,j,P,V,lt,b,_]),x.useEffect(()=>{var Le,it;let ht=(it=(Le=Be==null?void 0:Be.anchorSelect)!==null&&Le!==void 0?Le:l)!==null&&it!==void 0?it:"";!ht&&t&&(ht=`[data-tooltip-id='${t.replace(/'/g,"\\'")}']`);const Yn=new MutationObserver(pr=>{const li=[],Ai=[];pr.forEach(Mr=>{if(Mr.type==="attributes"&&Mr.attributeName==="data-tooltip-id"&&(Mr.target.getAttribute("data-tooltip-id")===t?li.push(Mr.target):Mr.oldValue===t&&Ai.push(Mr.target)),Mr.type==="childList"){if(B){const Kn=[...Mr.removedNodes].filter(_t=>_t.nodeType===1);if(ht)try{Ai.push(...Kn.filter(_t=>_t.matches(ht))),Ai.push(...Kn.flatMap(_t=>[..._t.querySelectorAll(ht)]))}catch{}Kn.some(_t=>{var tr;return!!(!((tr=_t==null?void 0:_t.contains)===null||tr===void 0)&&tr.call(_t,B))&&(ft(!1),bt(!1),G(null),Re.current&&clearTimeout(Re.current),ve.current&&clearTimeout(ve.current),!0)})}if(ht)try{const Kn=[...Mr.addedNodes].filter(_t=>_t.nodeType===1);li.push(...Kn.filter(_t=>_t.matches(ht))),li.push(...Kn.flatMap(_t=>[..._t.querySelectorAll(ht)]))}catch{}}}),(li.length||Ai.length)&&on(Mr=>[...Mr.filter(Kn=>!Ai.includes(Kn)),...li])});return Yn.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["data-tooltip-id"],attributeOldValue:!0}),()=>{Yn.disconnect()}},[t,l,Be==null?void 0:Be.anchorSelect,B]),x.useEffect(()=>{kt()},[kt]),x.useEffect(()=>{if(!(D!=null&&D.current))return()=>null;const Le=new ResizeObserver(()=>{setTimeout(()=>kt())});return Le.observe(D.current),()=>{Le.disconnect()}},[H,D==null?void 0:D.current]),x.useEffect(()=>{var Le;const it=document.querySelector(`[id='${s}']`),ht=[...un,it];B&&ht.includes(B)||G((Le=un[0])!==null&&Le!==void 0?Le:it)},[s,un,B]),x.useEffect(()=>(Q&&bt(!0),()=>{Re.current&&clearTimeout(Re.current),ve.current&&clearTimeout(ve.current)}),[]),x.useEffect(()=>{var Le;let it=(Le=Be==null?void 0:Be.anchorSelect)!==null&&Le!==void 0?Le:l;if(!it&&t&&(it=`[data-tooltip-id='${t.replace(/'/g,"\\'")}']`),it)try{const ht=Array.from(document.querySelectorAll(it));on(ht)}catch{on([])}},[t,l,Be==null?void 0:Be.anchorSelect]),x.useEffect(()=>{Re.current&&(clearTimeout(Re.current),Ln(b))},[b]);const hr=(se=Be==null?void 0:Be.content)!==null&&se!==void 0?se:H,ai=De&&Object.keys(Ge.tooltipStyles).length>0;return x.useImperativeHandle(e,()=>({open:Le=>{if(Le!=null&&Le.anchorSelect)try{document.querySelector(Le.anchorSelect)}catch{return void console.warn(`[react-tooltip] "${Le.anchorSelect}" is not a valid CSS selector`)}ut(Le??null),Le!=null&&Le.delay?Ln(Le.delay):bt(!0)},close:Le=>{Le!=null&&Le.delay?Jt(Le.delay):bt(!1)},activeAnchor:B,place:Ge.place,isOpen:!!(ot&&!T&&hr&&ai)})),ot&&!T&&hr?Qe.createElement(y,{id:t,role:ge,className:Ix("react-tooltip",td.tooltip,Q1.tooltip,Q1[i],n,`react-tooltip__place-${Ge.place}`,td[ai?"show":"closing"],ai?"react-tooltip__show":"react-tooltip__closing",h==="fixed"&&td.fixed,R&&td.clickable),onTransitionEnd:Le=>{je.current&&clearTimeout(je.current),De||Le.propertyName!=="opacity"||(ft(!1),ut(null),q==null||q())},style:{...N,...Ge.tooltipStyles,opacity:ue!==void 0&&ai?ue:void 0},ref:Se},hr,Qe.createElement(y,{className:Ix("react-tooltip-arrow",td.arrow,Q1.arrow,r,k&&td.noArrow),style:{...Ge.tooltipArrowStyles,background:F?`linear-gradient(to right bottom, transparent 50%, ${F} 50%)`:void 0},ref:Me})):null},Rae=({content:e})=>Qe.createElement("span",{dangerouslySetInnerHTML:{__html:e}}),Iae=Qe.forwardRef(({id:e,anchorId:t,anchorSelect:n,content:r,html:i,render:s,className:l,classNameArrow:c,variant:d="dark",place:u="top",offset:p=10,wrapper:h="div",children:v=null,events:y=["hover"],openOnClick:b=!1,positionStrategy:_="absolute",middlewares:w,delayShow:T=0,delayHide:k=0,float:R=!1,hidden:M=!1,noArrow:E=!1,clickable:O=!1,closeOnEsc:j=!1,closeOnScroll:P=!1,closeOnResize:V=!1,openEvents:C,closeEvents:N,globalCloseEvents:U,imperativeModeOnly:L=!1,style:q,position:H,isOpen:D,defaultIsOpen:W=!1,disableStyleInjection:Q=!1,border:J,opacity:B,arrowColor:G,setIsOpen:ee,afterShow:ue,afterHide:F,role:ge="tooltip"},se)=>{const[Se,Me]=x.useState(r),[Re,ve]=x.useState(i),[je,Ge]=x.useState(u),[$e,De]=x.useState(d),[Ve,ot]=x.useState(p),[ft,Be]=x.useState(T),[ut,en]=x.useState(k),[pn,sn]=x.useState(R),[qe,pt]=x.useState(M),[un,on]=x.useState(h),[yt,lt]=x.useState(y),[rt,Ct]=x.useState(_),[Nn,Ut]=x.useState(null),[bt,Nt]=x.useState(null),Ln=x.useRef(Q),{anchorRefs:Jt,activeAnchor:mt}=JB(e),fr=Lt=>Lt==null?void 0:Lt.getAttributeNames().reduce((Tn,Xe)=>{var kt;return Xe.startsWith("data-tooltip-")&&(Tn[Xe.replace(/^data-tooltip-/,"")]=(kt=Lt==null?void 0:Lt.getAttribute(Xe))!==null&&kt!==void 0?kt:null),Tn},{}),Vr=Lt=>{const Tn={place:Xe=>{var kt;Ge((kt=Xe)!==null&&kt!==void 0?kt:u)},content:Xe=>{Me(Xe??r)},html:Xe=>{ve(Xe??i)},variant:Xe=>{var kt;De((kt=Xe)!==null&&kt!==void 0?kt:d)},offset:Xe=>{ot(Xe===null?p:Number(Xe))},wrapper:Xe=>{var kt;on((kt=Xe)!==null&&kt!==void 0?kt:h)},events:Xe=>{const kt=Xe==null?void 0:Xe.split(" ");lt(kt??y)},"position-strategy":Xe=>{var kt;Ct((kt=Xe)!==null&&kt!==void 0?kt:_)},"delay-show":Xe=>{Be(Xe===null?T:Number(Xe))},"delay-hide":Xe=>{en(Xe===null?k:Number(Xe))},float:Xe=>{sn(Xe===null?R:Xe==="true")},hidden:Xe=>{pt(Xe===null?M:Xe==="true")},"class-name":Xe=>{Ut(Xe)}};Object.values(Tn).forEach(Xe=>Xe(null)),Object.entries(Lt).forEach(([Xe,kt])=>{var hr;(hr=Tn[Xe])===null||hr===void 0||hr.call(Tn,kt)})};x.useEffect(()=>{Me(r)},[r]),x.useEffect(()=>{ve(i)},[i]),x.useEffect(()=>{Ge(u)},[u]),x.useEffect(()=>{De(d)},[d]),x.useEffect(()=>{ot(p)},[p]),x.useEffect(()=>{Be(T)},[T]),x.useEffect(()=>{en(k)},[k]),x.useEffect(()=>{sn(R)},[R]),x.useEffect(()=>{pt(M)},[M]),x.useEffect(()=>{Ct(_)},[_]),x.useEffect(()=>{Ln.current!==Q&&console.warn("[react-tooltip] Do not change `disableStyleInjection` dynamically.")},[Q]),x.useEffect(()=>{typeof window<"u"&&window.dispatchEvent(new CustomEvent("react-tooltip-inject-styles",{detail:{disableCore:Q==="core",disableBase:Q}}))},[]),x.useEffect(()=>{var Lt;const Tn=new Set(Jt);let Xe=n;if(!Xe&&e&&(Xe=`[data-tooltip-id='${e.replace(/'/g,"\\'")}']`),Xe)try{document.querySelectorAll(Xe).forEach(it=>{Tn.add({current:it})})}catch{console.warn(`[react-tooltip] "${Xe}" is not a valid CSS selector`)}const kt=document.querySelector(`[id='${t}']`);if(kt&&Tn.add({current:kt}),!Tn.size)return()=>null;const hr=(Lt=bt??kt)!==null&&Lt!==void 0?Lt:mt.current,ai=new MutationObserver(it=>{it.forEach(ht=>{var Yn;if(!hr||ht.type!=="attributes"||!(!((Yn=ht.attributeName)===null||Yn===void 0)&&Yn.startsWith("data-tooltip-")))return;const pr=fr(hr);Vr(pr)})}),Le={attributes:!0,childList:!1,subtree:!1};if(hr){const it=fr(hr);Vr(it),ai.observe(hr,Le)}return()=>{ai.disconnect()}},[Jt,mt,bt,t,n]),x.useEffect(()=>{q!=null&&q.border&&console.warn("[react-tooltip] Do not set `style.border`. Use `border` prop instead."),J&&!x3("border",`${J}`)&&console.warn(`[react-tooltip] "${J}" is not a valid \`border\`.`),q!=null&&q.opacity&&console.warn("[react-tooltip] Do not set `style.opacity`. Use `opacity` prop instead."),B&&!x3("opacity",`${B}`)&&console.warn(`[react-tooltip] "${B}" is not a valid \`opacity\`.`)},[]);let Gn=v;const qr=x.useRef(null);if(s){const Lt=s({content:(bt==null?void 0:bt.getAttribute("data-tooltip-content"))||Se||null,activeAnchor:bt});Gn=Lt?Qe.createElement("div",{ref:qr,className:"react-tooltip-content-wrapper"},Lt):null}else Se&&(Gn=Se);Re&&(Gn=Qe.createElement(Rae,{content:Re}));const Dr={forwardRef:se,id:e,anchorId:t,anchorSelect:n,className:Ix(l,Nn),classNameArrow:c,content:Gn,contentWrapperRef:qr,place:je,variant:$e,offset:Ve,wrapper:un,events:yt,openOnClick:b,positionStrategy:rt,middlewares:w,delayShow:ft,delayHide:ut,float:pn,hidden:qe,noArrow:E,clickable:O,closeOnEsc:j,closeOnScroll:P,closeOnResize:V,openEvents:C,closeEvents:N,globalCloseEvents:U,imperativeModeOnly:L,style:q,position:H,isOpen:D,defaultIsOpen:W,border:J,opacity:B,arrowColor:G,setIsOpen:ee,afterShow:ue,afterHide:F,activeAnchor:bt,setActiveAnchor:Lt=>Nt(Lt),role:ge};return Qe.createElement(Mae,{...Dr})});typeof window<"u"&&window.addEventListener("react-tooltip-inject-styles",e=>{e.detail.disableCore||_3({css:":root{--rt-color-white:#fff;--rt-color-dark:#222;--rt-color-success:#8dc572;--rt-color-error:#be6464;--rt-color-warning:#f0ad4e;--rt-color-info:#337ab7;--rt-opacity:0.9;--rt-transition-show-delay:0.15s;--rt-transition-closing-delay:0.15s}.core-styles-module_tooltip__3vRRp{position:absolute;top:0;left:0;pointer-events:none;opacity:0;will-change:opacity}.core-styles-module_fixed__pcSol{position:fixed}.core-styles-module_arrow__cvMwQ{position:absolute;background:inherit}.core-styles-module_noArrow__xock6{display:none}.core-styles-module_clickable__ZuTTB{pointer-events:auto}.core-styles-module_show__Nt9eE{opacity:var(--rt-opacity);transition:opacity var(--rt-transition-show-delay)ease-out}.core-styles-module_closing__sGnxF{opacity:0;transition:opacity var(--rt-transition-closing-delay)ease-in}",type:"core"}),e.detail.disableBase||_3({css:`
.styles-module_tooltip__mnnfp{padding:8px 16px;border-radius:3px;font-size:90%;width:max-content}.styles-module_arrow__K0L3T{width:8px;height:8px}[class*='react-tooltip__place-top']>.styles-module_arrow__K0L3T{transform:rotate(45deg)}[class*='react-tooltip__place-right']>.styles-module_arrow__K0L3T{transform:rotate(135deg)}[class*='react-tooltip__place-bottom']>.styles-module_arrow__K0L3T{transform:rotate(225deg)}[class*='react-tooltip__place-left']>.styles-module_arrow__K0L3T{transform:rotate(315deg)}.styles-module_dark__xNqje{background:var(--rt-color-dark);color:var(--rt-color-white)}.styles-module_light__Z6W-X{background-color:var(--rt-color-white);color:var(--rt-color-dark)}.styles-module_success__A2AKt{background-color:var(--rt-color-success);color:var(--rt-color-white)}.styles-module_warning__SCK0X{background-color:var(--rt-color-warning);color:var(--rt-color-white)}.styles-module_error__JvumD{background-color:var(--rt-color-error);color:var(--rt-color-white)}.styles-module_info__BWdHW{background-color:var(--rt-color-info);color:var(--rt-color-white)}`,type:"base"})});const Oae=K(Iae,{target:"e21jg9v2"})("&&&{background:rgba(0, 0, 0, 0.85);font-size:2rem;padding:1rem 1.5rem;border-radius:1rem;max-width:45rem;",Ot,";.MuiTooltip-arrow{&::before{background:rgba(0, 0, 0, 0.85);}}strong{color:",Ue.colors.text.active,";}}z-index:10000;"),Jd=({children:e,title:t,open:n,...r})=>{const i=x.useRef(null),s=x.useMemo(()=>`${Math.random()}`,[]);return g.jsxs(g.Fragment,{children:[mf.createPortal(g.jsx(Oae,{...r,id:s,ref:i,isOpen:n,children:t}),document.body),x.cloneElement(e,{"data-tooltip-id":s})]})},C3=e=>`tooltip_dismissed_${e}`,jae=({dismissKey:e,timeoutMs:t,oneTime:n=!0,children:r,title:i,...s})=>{const[l,c]=x.useState(!st.local.getItem(C3(e))),d=x.useCallback(()=>{st.local.setItem(C3(e),!0),c(void 0)},[e]);x.useEffect(()=>{if(t){const p=setTimeout(d,t);return()=>clearTimeout(p)}},[t,d]);const u=(l===void 0||!l&&!n)&&s.open===void 0;return g.jsx(Jd,{clickable:!0,open:u?s.open:l,hidden:s.open===!1,...s,title:g.jsxs(g.Fragment,{children:[i,l&&g.jsx(Pae,{children:g.jsx(Vae,{"data-test":"close-tooltip-button",onClick:d,children:"Close"})})]}),children:r},u?"uncontrolled":"controlled")},Pae=K("div",{target:"e21jg9v1"})({name:"g78t84",styles:"display:flex;justify-content:flex-end;margin-top:1rem"}),Vae=K("button",{target:"e21jg9v0"})("padding:0.25rem 2rem;font-weight:bold;cursor:pointer;color:white;border:1px solid white;border-radius:0.5rem;background:none;font-size:1.75rem;&:hover{color:",Ue.colors.text.active,";border-color:",Ue.colors.text.active,";}&:active{color:white;background:",Ue.colors.text.active,";border-color:none;}"),Dae=Wt(g.jsx("path",{d:"M7 14H5v5h5v-2H7zm-2-4h2V7h3V5H5zm12 7h-3v2h5v-5h-2zM14 5v2h3v3h2V5z"}),"Fullscreen"),Bae=Wt(g.jsx("path",{d:"M5 16h3v3h2v-5H5zm3-8H5v2h5V5H8zm6 11h2v-3h3v-2h-5zm2-11V5h-2v5h5V8z"}),"FullscreenExit");function Nae(){const[,e]=xt(gw),[t]=xt(oi),[n,r]=x.useState(document.fullscreenElement!==null);return x.useEffect(()=>{const i=()=>{r(document.fullscreenElement!==null)};return document.addEventListener("fullscreenchange",i),()=>{document.removeEventListener("fullscreenchange",i)}},[]),g.jsx(Jd,{title:"Toggle fullscreen",place:"bottom-end",children:g.jsx(Ny,{"data-test":"toggle-fullscreen",size:"small",onClick:async()=>{var i,s;try{document.fullscreenElement===null?(e(!0),await document.body.requestFullscreen(),t&&(global.screen.orientation.unlock(),await((s=(i=global.screen.orientation).lock)==null?void 0:s.call(i,"landscape")))):(e(!1),await document.exitFullscreen(),t&&global.screen.orientation.unlock())}catch(l){console.info(l)}},children:n?g.jsx(Bae,{}):g.jsx(Dae,{})})})}const ZB=En(lu)(e=>["!flex-row duration-300 text-md typography cursor-pointer justify-center border-0 bg-black/75 text-white uppercase shadow-focusable pointer-events-auto",!ds()&&e["data-focused"]?"animate-button-focused scale-105":"",e["data-focused"]?"bg-active shadow-none":"",e.disabled?"cursor-default !text-gray-300 bg-gray-500 pointer-events-none !animate-none !scale-100":"active:bg-active",e["data-inactive"]?"!line-through decoration-white opacity-25":"!no-underline",e["data-read-only"]?"!cursor-default active:bg-black/75":""]),eN=({inactive:e,readOnly:t,focused:n,...r})=>({...r,...n?{"data-focused":!0}:{},...e?{"data-inactive":!0}:{},...t?{"data-read-only":!0,"aria-readonly":!0}:{}}),UE=({children:e,...t})=>g.jsx(ZB,{className:"",...eN(t),as:"button",children:e}),tN=({children:e,...t})=>g.jsx(ZB,{...eN(t),as:"a",children:e}),Lae=ou("@keyframes button-focus-loop{0%,100%{transform:scale(1.045);}50%{transform:scale(1.055);}}animation:button-focus-loop 600ms ease-in-out infinite both;transform:scale(1.05);background:",Ue.colors.text.active,";",""),Fae=ou("transform:scale(1.05);background:",Ue.colors.text.active,";",""),nN=ds()?Fae:Lae,No=UE,zae=({size:e="regular",className:t,...n})=>{const r="href"in n?tN:UE;return g.jsx(r,{...n,"data-size":e,className:`${e==="small"?"h-20":"h-36"} ${t}`})},$ae=En(lu)`w-[100vw] sm:max-w-[85rem] m-[2rem auto 0 auto] [view-transition-name:menu-container] items-stretch pointer-events-auto`,rN=En(ps)`text-xl text-active flex items-center justify-center`,Uae=En(ps)`text-md`,jt=({title:e,children:t,className:n,spacing:r="regular",ref:i,...s})=>g.jsxs($ae,{...s,className:`${n} ${r==="tight"?"p-6 gap-3":"p-10 gap-6"}`,ref:i,children:[e&&g.jsx(rN,{children:e}),t]});jt.Header=rN;jt.Button=zae;jt.ButtonGroup=En.div`flex`;jt.HelpText=Uae;jt.Divider=()=>g.jsx("hr",{});const vt=jt.Button,cu=jt;function Vl({children:e,onClose:t}){return g.jsxs(g.Fragment,{children:[g.jsx(Hae,{onClick:t,className:"starting:opacity-0 opacity-100 duration-300"}),g.jsx("div",{onClick:t,className:"fixed top-0 left-0 w-screen h-screen z-[20001] overflow-auto opacity-100 starting:opacity-0 starting:top-20 duration-300",children:g.jsx("div",{className:"flex items-center justify-center min-h-full",children:g.jsx("div",{onClick:n=>n.stopPropagation(),children:e})})})]})}const Hae=K("div",{target:"e7rcptf0"})({name:"25wq6t",styles:"position:fixed;top:0;left:0;background:rgba(0, 0, 0, 0.7);width:100vw;height:100vh;z-index:20000;backdrop-filter:blur(20px)"});let qae=0;function yf(e,t){const n=x.useRef(`${String(Math.random())}-${qae++}`),{setKeyboard:r,unsetKeyboard:i}=x.useContext(vE),s=c=>{r(n.current,c)},l=()=>i(n.current);return x.useEffect(()=>(t&&s(e),l),[e,t]),{setHelp:s,clearHelp:l}}function dr(e={},t=!1){var M;const{enabled:n=!0,onBackspace:r,backspaceHelp:i=null,direction:s="vertical",additionalHelp:l={}}=e,[c,d]=x.useState(null),u=x.useRef([]),p=x.useRef([]),h=x.useRef({}),v=(M=h.current[c])==null?void 0:M.label,y=x.useMemo(()=>({[s]:null,accept:v??null,back:r?i:void 0,...l}),[v,h,i,s]);yf(y,n);const b=()=>{var E;(E=h.current[c])==null||E.callback(),Hw.play()},_=()=>{r&&(qw.play(),r())},w=E=>{const O=c?u.current.indexOf(c):0;xy.play(),d(u.current.at((O+E)%u.current.length)??null)};pf({[s==="vertical"?"up":"left"]:()=>w(-1),[s==="vertical"?"down":"right"]:()=>w(1),accept:b,back:_},n,[c,u.current]);let T="";const k=(E,O,j,P=!1,{propName:V="onClick",disabled:C=!1}={})=>{if(C)return{disabled:C,focused:!1};p.current.push(E),O&&(h.current[E]={callback:O,label:j,propName:V}),P&&(T=E);const N=n&&c===E;return{focused:N,[V]:O,$keyboardNavigationChangeFocus:w,"data-test":E,...n?{"data-focused":N,"data-e2e-focused":N}:{}}};return x.useEffect(()=>{var E;(E=document.querySelector(`[data-test="${c}"]`))==null||E.scrollIntoView({behavior:"smooth",block:"center"})},[c]),x.useEffect(()=>{const E=p.current.filter(O=>!u.current.includes(O));t&&E.length&&console.log("new elements",E),u.current=[...p.current],p.current.length=0,u.current.length&&(c===null||u.current.indexOf(c)===-1||E.includes(T))&&d(T||u.current[0])}),{focusElement:E=>{u.current.includes(E)&&d(E)},focused:c,register:k}}var Gae=Object.defineProperty,Dv=Object.getOwnPropertySymbols,iN=Object.prototype.hasOwnProperty,sN=Object.prototype.propertyIsEnumerable,k3=(e,t,n)=>t in e?Gae(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ip=(e,t)=>{for(var n in t||(t={}))iN.call(t,n)&&k3(e,n,t[n]);if(Dv)for(var n of Dv(t))sN.call(t,n)&&k3(e,n,t[n]);return e},HE=(e,t)=>{var n={};for(var r in e)iN.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Dv)for(var r of Dv(e))t.indexOf(r)<0&&sN.call(e,r)&&(n[r]=e[r]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var Xc;(e=>{const t=class{constructor(d,u,p,h){if(this.version=d,this.errorCorrectionLevel=u,this.modules=[],this.isFunction=[],d<t.MIN_VERSION||d>t.MAX_VERSION)throw new RangeError("Version value out of range");if(h<-1||h>7)throw new RangeError("Mask value out of range");this.size=d*4+17;let v=[];for(let b=0;b<this.size;b++)v.push(!1);for(let b=0;b<this.size;b++)this.modules.push(v.slice()),this.isFunction.push(v.slice());this.drawFunctionPatterns();const y=this.addEccAndInterleave(p);if(this.drawCodewords(y),h==-1){let b=1e9;for(let _=0;_<8;_++){this.applyMask(_),this.drawFormatBits(_);const w=this.getPenaltyScore();w<b&&(h=_,b=w),this.applyMask(_)}}s(0<=h&&h<=7),this.mask=h,this.applyMask(h),this.drawFormatBits(h),this.isFunction=[]}static encodeText(d,u){const p=e.QrSegment.makeSegments(d);return t.encodeSegments(p,u)}static encodeBinary(d,u){const p=e.QrSegment.makeBytes(d);return t.encodeSegments([p],u)}static encodeSegments(d,u,p=1,h=40,v=-1,y=!0){if(!(t.MIN_VERSION<=p&&p<=h&&h<=t.MAX_VERSION)||v<-1||v>7)throw new RangeError("Invalid value");let b,_;for(b=p;;b++){const R=t.getNumDataCodewords(b,u)*8,M=c.getTotalBits(d,b);if(M<=R){_=M;break}if(b>=h)throw new RangeError("Data too long")}for(const R of[t.Ecc.MEDIUM,t.Ecc.QUARTILE,t.Ecc.HIGH])y&&_<=t.getNumDataCodewords(b,R)*8&&(u=R);let w=[];for(const R of d){r(R.mode.modeBits,4,w),r(R.numChars,R.mode.numCharCountBits(b),w);for(const M of R.getData())w.push(M)}s(w.length==_);const T=t.getNumDataCodewords(b,u)*8;s(w.length<=T),r(0,Math.min(4,T-w.length),w),r(0,(8-w.length%8)%8,w),s(w.length%8==0);for(let R=236;w.length<T;R^=253)r(R,8,w);let k=[];for(;k.length*8<w.length;)k.push(0);return w.forEach((R,M)=>k[M>>>3]|=R<<7-(M&7)),new t(b,u,k,v)}getModule(d,u){return 0<=d&&d<this.size&&0<=u&&u<this.size&&this.modules[u][d]}getModules(){return this.modules}drawFunctionPatterns(){for(let p=0;p<this.size;p++)this.setFunctionModule(6,p,p%2==0),this.setFunctionModule(p,6,p%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const d=this.getAlignmentPatternPositions(),u=d.length;for(let p=0;p<u;p++)for(let h=0;h<u;h++)p==0&&h==0||p==0&&h==u-1||p==u-1&&h==0||this.drawAlignmentPattern(d[p],d[h]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(d){const u=this.errorCorrectionLevel.formatBits<<3|d;let p=u;for(let v=0;v<10;v++)p=p<<1^(p>>>9)*1335;const h=(u<<10|p)^21522;s(h>>>15==0);for(let v=0;v<=5;v++)this.setFunctionModule(8,v,i(h,v));this.setFunctionModule(8,7,i(h,6)),this.setFunctionModule(8,8,i(h,7)),this.setFunctionModule(7,8,i(h,8));for(let v=9;v<15;v++)this.setFunctionModule(14-v,8,i(h,v));for(let v=0;v<8;v++)this.setFunctionModule(this.size-1-v,8,i(h,v));for(let v=8;v<15;v++)this.setFunctionModule(8,this.size-15+v,i(h,v));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let d=this.version;for(let p=0;p<12;p++)d=d<<1^(d>>>11)*7973;const u=this.version<<12|d;s(u>>>18==0);for(let p=0;p<18;p++){const h=i(u,p),v=this.size-11+p%3,y=Math.floor(p/3);this.setFunctionModule(v,y,h),this.setFunctionModule(y,v,h)}}drawFinderPattern(d,u){for(let p=-4;p<=4;p++)for(let h=-4;h<=4;h++){const v=Math.max(Math.abs(h),Math.abs(p)),y=d+h,b=u+p;0<=y&&y<this.size&&0<=b&&b<this.size&&this.setFunctionModule(y,b,v!=2&&v!=4)}}drawAlignmentPattern(d,u){for(let p=-2;p<=2;p++)for(let h=-2;h<=2;h++)this.setFunctionModule(d+h,u+p,Math.max(Math.abs(h),Math.abs(p))!=1)}setFunctionModule(d,u,p){this.modules[u][d]=p,this.isFunction[u][d]=!0}addEccAndInterleave(d){const u=this.version,p=this.errorCorrectionLevel;if(d.length!=t.getNumDataCodewords(u,p))throw new RangeError("Invalid argument");const h=t.NUM_ERROR_CORRECTION_BLOCKS[p.ordinal][u],v=t.ECC_CODEWORDS_PER_BLOCK[p.ordinal][u],y=Math.floor(t.getNumRawDataModules(u)/8),b=h-y%h,_=Math.floor(y/h);let w=[];const T=t.reedSolomonComputeDivisor(v);for(let R=0,M=0;R<h;R++){let E=d.slice(M,M+_-v+(R<b?0:1));M+=E.length;const O=t.reedSolomonComputeRemainder(E,T);R<b&&E.push(0),w.push(E.concat(O))}let k=[];for(let R=0;R<w[0].length;R++)w.forEach((M,E)=>{(R!=_-v||E>=b)&&k.push(M[R])});return s(k.length==y),k}drawCodewords(d){if(d.length!=Math.floor(t.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let u=0;for(let p=this.size-1;p>=1;p-=2){p==6&&(p=5);for(let h=0;h<this.size;h++)for(let v=0;v<2;v++){const y=p-v,_=(p+1&2)==0?this.size-1-h:h;!this.isFunction[_][y]&&u<d.length*8&&(this.modules[_][y]=i(d[u>>>3],7-(u&7)),u++)}}s(u==d.length*8)}applyMask(d){if(d<0||d>7)throw new RangeError("Mask value out of range");for(let u=0;u<this.size;u++)for(let p=0;p<this.size;p++){let h;switch(d){case 0:h=(p+u)%2==0;break;case 1:h=u%2==0;break;case 2:h=p%3==0;break;case 3:h=(p+u)%3==0;break;case 4:h=(Math.floor(p/3)+Math.floor(u/2))%2==0;break;case 5:h=p*u%2+p*u%3==0;break;case 6:h=(p*u%2+p*u%3)%2==0;break;case 7:h=((p+u)%2+p*u%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[u][p]&&h&&(this.modules[u][p]=!this.modules[u][p])}}getPenaltyScore(){let d=0;for(let v=0;v<this.size;v++){let y=!1,b=0,_=[0,0,0,0,0,0,0];for(let w=0;w<this.size;w++)this.modules[v][w]==y?(b++,b==5?d+=t.PENALTY_N1:b>5&&d++):(this.finderPenaltyAddHistory(b,_),y||(d+=this.finderPenaltyCountPatterns(_)*t.PENALTY_N3),y=this.modules[v][w],b=1);d+=this.finderPenaltyTerminateAndCount(y,b,_)*t.PENALTY_N3}for(let v=0;v<this.size;v++){let y=!1,b=0,_=[0,0,0,0,0,0,0];for(let w=0;w<this.size;w++)this.modules[w][v]==y?(b++,b==5?d+=t.PENALTY_N1:b>5&&d++):(this.finderPenaltyAddHistory(b,_),y||(d+=this.finderPenaltyCountPatterns(_)*t.PENALTY_N3),y=this.modules[w][v],b=1);d+=this.finderPenaltyTerminateAndCount(y,b,_)*t.PENALTY_N3}for(let v=0;v<this.size-1;v++)for(let y=0;y<this.size-1;y++){const b=this.modules[v][y];b==this.modules[v][y+1]&&b==this.modules[v+1][y]&&b==this.modules[v+1][y+1]&&(d+=t.PENALTY_N2)}let u=0;for(const v of this.modules)u=v.reduce((y,b)=>y+(b?1:0),u);const p=this.size*this.size,h=Math.ceil(Math.abs(u*20-p*10)/p)-1;return s(0<=h&&h<=9),d+=h*t.PENALTY_N4,s(0<=d&&d<=2568888),d}getAlignmentPatternPositions(){if(this.version==1)return[];{const d=Math.floor(this.version/7)+2,u=this.version==32?26:Math.ceil((this.version*4+4)/(d*2-2))*2;let p=[6];for(let h=this.size-7;p.length<d;h-=u)p.splice(1,0,h);return p}}static getNumRawDataModules(d){if(d<t.MIN_VERSION||d>t.MAX_VERSION)throw new RangeError("Version number out of range");let u=(16*d+128)*d+64;if(d>=2){const p=Math.floor(d/7)+2;u-=(25*p-10)*p-55,d>=7&&(u-=36)}return s(208<=u&&u<=29648),u}static getNumDataCodewords(d,u){return Math.floor(t.getNumRawDataModules(d)/8)-t.ECC_CODEWORDS_PER_BLOCK[u.ordinal][d]*t.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][d]}static reedSolomonComputeDivisor(d){if(d<1||d>255)throw new RangeError("Degree out of range");let u=[];for(let h=0;h<d-1;h++)u.push(0);u.push(1);let p=1;for(let h=0;h<d;h++){for(let v=0;v<u.length;v++)u[v]=t.reedSolomonMultiply(u[v],p),v+1<u.length&&(u[v]^=u[v+1]);p=t.reedSolomonMultiply(p,2)}return u}static reedSolomonComputeRemainder(d,u){let p=u.map(h=>0);for(const h of d){const v=h^p.shift();p.push(0),u.forEach((y,b)=>p[b]^=t.reedSolomonMultiply(y,v))}return p}static reedSolomonMultiply(d,u){if(d>>>8||u>>>8)throw new RangeError("Byte out of range");let p=0;for(let h=7;h>=0;h--)p=p<<1^(p>>>7)*285,p^=(u>>>h&1)*d;return s(p>>>8==0),p}finderPenaltyCountPatterns(d){const u=d[1];s(u<=this.size*3);const p=u>0&&d[2]==u&&d[3]==u*3&&d[4]==u&&d[5]==u;return(p&&d[0]>=u*4&&d[6]>=u?1:0)+(p&&d[6]>=u*4&&d[0]>=u?1:0)}finderPenaltyTerminateAndCount(d,u,p){return d&&(this.finderPenaltyAddHistory(u,p),u=0),u+=this.size,this.finderPenaltyAddHistory(u,p),this.finderPenaltyCountPatterns(p)}finderPenaltyAddHistory(d,u){u[0]==0&&(d+=this.size),u.pop(),u.unshift(d)}};let n=t;n.MIN_VERSION=1,n.MAX_VERSION=40,n.PENALTY_N1=3,n.PENALTY_N2=3,n.PENALTY_N3=40,n.PENALTY_N4=10,n.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],n.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=n;function r(d,u,p){if(u<0||u>31||d>>>u)throw new RangeError("Value out of range");for(let h=u-1;h>=0;h--)p.push(d>>>h&1)}function i(d,u){return(d>>>u&1)!=0}function s(d){if(!d)throw new Error("Assertion error")}const l=class{constructor(d,u,p){if(this.mode=d,this.numChars=u,this.bitData=p,u<0)throw new RangeError("Invalid argument");this.bitData=p.slice()}static makeBytes(d){let u=[];for(const p of d)r(p,8,u);return new l(l.Mode.BYTE,d.length,u)}static makeNumeric(d){if(!l.isNumeric(d))throw new RangeError("String contains non-numeric characters");let u=[];for(let p=0;p<d.length;){const h=Math.min(d.length-p,3);r(parseInt(d.substr(p,h),10),h*3+1,u),p+=h}return new l(l.Mode.NUMERIC,d.length,u)}static makeAlphanumeric(d){if(!l.isAlphanumeric(d))throw new RangeError("String contains unencodable characters in alphanumeric mode");let u=[],p;for(p=0;p+2<=d.length;p+=2){let h=l.ALPHANUMERIC_CHARSET.indexOf(d.charAt(p))*45;h+=l.ALPHANUMERIC_CHARSET.indexOf(d.charAt(p+1)),r(h,11,u)}return p<d.length&&r(l.ALPHANUMERIC_CHARSET.indexOf(d.charAt(p)),6,u),new l(l.Mode.ALPHANUMERIC,d.length,u)}static makeSegments(d){return d==""?[]:l.isNumeric(d)?[l.makeNumeric(d)]:l.isAlphanumeric(d)?[l.makeAlphanumeric(d)]:[l.makeBytes(l.toUtf8ByteArray(d))]}static makeEci(d){let u=[];if(d<0)throw new RangeError("ECI assignment value out of range");if(d<128)r(d,8,u);else if(d<16384)r(2,2,u),r(d,14,u);else if(d<1e6)r(6,3,u),r(d,21,u);else throw new RangeError("ECI assignment value out of range");return new l(l.Mode.ECI,0,u)}static isNumeric(d){return l.NUMERIC_REGEX.test(d)}static isAlphanumeric(d){return l.ALPHANUMERIC_REGEX.test(d)}getData(){return this.bitData.slice()}static getTotalBits(d,u){let p=0;for(const h of d){const v=h.mode.numCharCountBits(u);if(h.numChars>=1<<v)return 1/0;p+=4+v+h.bitData.length}return p}static toUtf8ByteArray(d){d=encodeURI(d);let u=[];for(let p=0;p<d.length;p++)d.charAt(p)!="%"?u.push(d.charCodeAt(p)):(u.push(parseInt(d.substr(p+1,2),16)),p+=2);return u}};let c=l;c.NUMERIC_REGEX=/^[0-9]*$/,c.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,c.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",e.QrSegment=c})(Xc||(Xc={}));(e=>{(t=>{const n=class{constructor(i,s){this.ordinal=i,this.formatBits=s}};let r=n;r.LOW=new n(0,1),r.MEDIUM=new n(1,0),r.QUARTILE=new n(2,3),r.HIGH=new n(3,2),t.Ecc=r})(e.QrCode||(e.QrCode={}))})(Xc||(Xc={}));(e=>{(t=>{const n=class{constructor(i,s){this.modeBits=i,this.numBitsCharCount=s}numCharCountBits(i){return this.numBitsCharCount[Math.floor((i+7)/17)]}};let r=n;r.NUMERIC=new n(1,[10,12,14]),r.ALPHANUMERIC=new n(2,[9,11,13]),r.BYTE=new n(4,[8,16,16]),r.KANJI=new n(8,[8,10,12]),r.ECI=new n(7,[0,0,0]),t.Mode=r})(e.QrSegment||(e.QrSegment={}))})(Xc||(Xc={}));var md=Xc;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var oN={L:md.QrCode.Ecc.LOW,M:md.QrCode.Ecc.MEDIUM,Q:md.QrCode.Ecc.QUARTILE,H:md.QrCode.Ecc.HIGH},aN=128,lN="L",cN="#FFFFFF",uN="#000000",dN=!1,qE=4,Yae=.1;function fN(e,t=0){const n=[];return e.forEach(function(r,i){let s=null;r.forEach(function(l,c){if(!l&&s!==null){n.push(`M${s+t} ${i+t}h${c-s}v1H${s+t}z`),s=null;return}if(c===r.length-1){if(!l)return;s===null?n.push(`M${c+t},${i+t} h1v1H${c+t}z`):n.push(`M${s+t},${i+t} h${c+1-s}v1H${s+t}z`);return}l&&s===null&&(s=c)})}),n.join("")}function hN(e,t){return e.slice().map((n,r)=>r<t.y||r>=t.y+t.h?n:n.map((i,s)=>s<t.x||s>=t.x+t.w?i:!1))}function pN(e,t,n,r){if(r==null)return null;const i=n?qE:0,s=e.length+i*2,l=Math.floor(t*Yae),c=s/t,d=(r.width||l)*c,u=(r.height||l)*c,p=r.x==null?e.length/2-d/2:r.x*c,h=r.y==null?e.length/2-u/2:r.y*c;let v=null;if(r.excavate){let y=Math.floor(p),b=Math.floor(h),_=Math.ceil(d+p-y),w=Math.ceil(u+h-b);v={x:y,y:b,w:_,h:w}}return{x:p,y:h,h:u,w:d,excavation:v}}var Kae=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}();function gN(e){const t=e,{value:n,size:r=aN,level:i=lN,bgColor:s=cN,fgColor:l=uN,includeMargin:c=dN,style:d,imageSettings:u}=t,p=HE(t,["value","size","level","bgColor","fgColor","includeMargin","style","imageSettings"]),h=u==null?void 0:u.src,v=x.useRef(null),y=x.useRef(null),[b,_]=x.useState(!1);x.useEffect(()=>{if(v.current!=null){const k=v.current,R=k.getContext("2d");if(!R)return;let M=md.QrCode.encodeText(n,oN[i]).getModules();const E=c?qE:0,O=M.length+E*2,j=pN(M,r,c,u),P=y.current,V=j!=null&&P!==null&&P.complete&&P.naturalHeight!==0&&P.naturalWidth!==0;V&&j.excavation!=null&&(M=hN(M,j.excavation));const C=window.devicePixelRatio||1;k.height=k.width=r*C;const N=r/O*C;R.scale(N,N),R.fillStyle=s,R.fillRect(0,0,O,O),R.fillStyle=l,Kae?R.fill(new Path2D(fN(M,E))):M.forEach(function(U,L){U.forEach(function(q,H){q&&R.fillRect(H+E,L+E,1,1)})}),V&&R.drawImage(P,j.x+E,j.y+E,j.w,j.h)}}),x.useEffect(()=>{_(!1)},[h]);const w=Ip({height:r,width:r},d);let T=null;return h!=null&&(T=Qe.createElement("img",{src:h,key:h,style:{display:"none"},onLoad:()=>{_(!0)},ref:y})),Qe.createElement(Qe.Fragment,null,Qe.createElement("canvas",Ip({style:w,height:r,width:r,ref:v},p)),T)}function mN(e){const t=e,{value:n,size:r=aN,level:i=lN,bgColor:s=cN,fgColor:l=uN,includeMargin:c=dN,imageSettings:d}=t,u=HE(t,["value","size","level","bgColor","fgColor","includeMargin","imageSettings"]);let p=md.QrCode.encodeText(n,oN[i]).getModules();const h=c?qE:0,v=p.length+h*2,y=pN(p,r,c,d);let b=null;d!=null&&y!=null&&(y.excavation!=null&&(p=hN(p,y.excavation)),b=Qe.createElement("image",{xlinkHref:d.src,height:y.h,width:y.w,x:y.x+h,y:y.y+h,preserveAspectRatio:"none"}));const _=fN(p,h);return Qe.createElement("svg",Ip({height:r,width:r,viewBox:`0 0 ${v} ${v}`},u),Qe.createElement("path",{fill:s,d:`M0,0 h${v}v${v}H0z`,shapeRendering:"crispEdges"}),Qe.createElement("path",{fill:l,d:_,shapeRendering:"crispEdges"}),b)}var Wae=e=>{const t=e,{renderAs:n}=t,r=HE(t,["renderAs"]);return n==="svg"?Qe.createElement(mN,Ip({},r)):Qe.createElement(gN,Ip({},r))};const Qae=Object.freeze(Object.defineProperty({__proto__:null,QRCodeCanvas:gN,QRCodeSVG:mN,default:Wae},Symbol.toStringTag,{value:"Module"}));var X1={exports:{}},J1={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M3;function Xae(){if(M3)return J1;M3=1;var e=Jc();function t(h,v){return h===v&&(h!==0||1/h===1/v)||h!==h&&v!==v}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,s=e.useLayoutEffect,l=e.useDebugValue;function c(h,v){var y=v(),b=r({inst:{value:y,getSnapshot:v}}),_=b[0].inst,w=b[1];return s(function(){_.value=y,_.getSnapshot=v,d(_)&&w({inst:_})},[h,y,v]),i(function(){return d(_)&&w({inst:_}),h(function(){d(_)&&w({inst:_})})},[h]),l(y),y}function d(h){var v=h.getSnapshot;h=h.value;try{var y=v();return!n(h,y)}catch{return!0}}function u(h,v){return v()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:c;return J1.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:p,J1}var R3;function Jae(){return R3||(R3=1,X1.exports=Xae()),X1.exports}var Zae=Jae();const{useEffect:ele,useLayoutEffect:tle,useRef:nle,useInsertionEffect:rle}=sv,ile=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",sle=ile?tle:ele,vN=rle||sle,yN=e=>{const t=nle([e,(...n)=>t[0](...n)]).current;return vN(()=>{t[0]=e}),t[1]},ole=(e="",t=location.pathname)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",ale=(e,t="")=>e[0]==="~"?e.slice(1):t+e,lle="popstate",GE="pushState",YE="replaceState",cle="hashchange",I3=[lle,GE,YE,cle],ule=e=>{for(const t of I3)addEventListener(t,e);return()=>{for(const t of I3)removeEventListener(t,e)}},dle=(e,t)=>Zae.useSyncExternalStore(ule,e,t),O3=()=>location.pathname,fle=({ssrPath:e}={})=>dle(O3,e?()=>e:O3),hle=(e,{replace:t=!1}={})=>history[t?YE:GE](null,"",e),ple=(e={})=>[ole(e.base,fle(e)),yN((t,n)=>hle(ale(t,e.base),n))];if(typeof history<"u")for(const e of[GE,YE]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),r=new Event(e);return r.arguments=arguments,dispatchEvent(r),n}}function gle(e=vle){let t={};const n=r=>t[r]||(t[r]=e(r));return(r,i)=>{const{regexp:s,keys:l}=n(r||""),c=s.exec(i);return c?[!0,l.reduce((u,p,h)=>(u[p.name]=c[h+1],u),{})]:[!1,null]}}const j3=e=>e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),mle=(e,t,n)=>{let r=e?"((?:[^\\/]+?)(?:\\/(?:[^\\/]+?))*)":"([^\\/]+?)";return t&&n&&(r="(?:\\/"+r+")"),r+(t?"?":"")},vle=e=>{const t=/:([A-Za-z0-9_]+)([?+*]?)/g;let n=null,r=0,i=[],s="";for(;(n=t.exec(e))!==null;){const[l,c,d]=n,u=d==="+"||d==="*",p=d==="?"||d==="*",h=p&&e[n.index-1]==="/"?1:0,v=e.substring(r,n.index-h);i.push({name:c}),r=t.lastIndex,s+=j3(v)+mle(u,p,h)}return s+=j3(e.substring(r)),{keys:i,regexp:new RegExp("^"+s+"(?:\\/)?$","i")}},jx={hook:ple,matcher:gle(),base:""},AN=x.createContext(jx),zy=()=>x.useContext(AN),$y=e=>e.hook(e),yle=()=>$y(zy()),bN=e=>{const t=zy(),[n]=$y(t);return t.matcher(e,n)},Ale=x.createContext({params:{}}),ble=({hook:e,matcher:t,ssrPath:n,base:r="",parent:i,children:s})=>{const l=(d,u=i||jx)=>(d.hook=e||u.hook,d.matcher=t||u.matcher,d.ssrPath=n||u.ssrPath,d.ownBase=r,d.parent=i,d),[c]=x.useState(()=>l({get base(){return(c.parent||jx).base+c.ownBase}}));return vN(()=>{l(c)}),x.createElement(AN.Provider,{value:c,children:s})},P3=(e,t)=>x.createElement(Ale.Provider,{value:{params:e},children:t}),Xr=({path:e,match:t,component:n,children:r})=>{const i=bN(e),[s,l]=t||i;return s?n?P3(l,x.createElement(n,{params:l})):P3(l,typeof r=="function"?r(l):r):null},Uy=x.forwardRef((e,t)=>{const n=zy(),[,r]=$y(n),{to:i,href:s=i,children:l,onClick:c}=e,d=yN(h=>{h.ctrlKey||h.metaKey||h.altKey||h.shiftKey||h.button!==0||(c&&c(h),h.defaultPrevented||(h.preventDefault(),r(i||s,e)))}),u={href:s[0]==="~"?s.slice(1):n.base+s,onClick:d,to:null,ref:t},p=x.isValidElement(l)?l:x.createElement("a",e);return x.cloneElement(p,u)}),Px=e=>Array.isArray(e)?[].concat(...e.map(t=>t&&t.type===x.Fragment?Px(t.props.children):Px(t))):[e],_le=({children:e,location:t})=>{const n=zy(),r=n.matcher,[i]=$y(n);for(const s of Px(e)){let l=0;if(x.isValidElement(s)&&(l=s.props.path?r(s.props.path,t||i):[!0,{}])[0])return x.cloneElement(s,{match:l})}return null},{QRCodeSVG:Sle}=Qae;function Z1({gameCode:e,...t}){return g.jsx(Cle,{...t,children:e.split("").map((n,r)=>g.jsx("span",{children:n},r))})}function KE(){var i;const e=new URL((i=global.location)==null?void 0:i.href),[t]=bN("remote-mic"),n=My("room")??Ic.getGameCode();e.pathname="/remote-mic",e.searchParams.set("room",n);const r=e.href;return x.useEffect(()=>{t||Ic.start()},[t]),g.jsxs(Mle,{children:[g.jsx(Ile,{children:g.jsxs("h1",{children:["Code: ",g.jsx(Z1,{gameCode:n})]})}),g.jsx(Rle,{children:g.jsx(Sle,{value:r,width:"100%",height:"100%",includeMargin:!0})}),g.jsxs(Ole,{children:[g.jsxs(xle,{children:[g.jsxs("h3",{children:["Game code: ",g.jsx(Z1,{gameCode:n,"data-test":"game-code"})]}),g.jsxs("ol",{children:[g.jsxs("li",{children:["Go to"," ",g.jsx("a",{href:e.origin,target:"_blank",rel:"noreferrer",children:"allkaraoke.party"})," ","on your phone"]}),g.jsxs("li",{children:["Click on ",g.jsx("b",{children:"Join game"})]}),g.jsxs("li",{children:["Enter the code ",g.jsx(Z1,{gameCode:n})]}),g.jsx("li",{children:"Follow the instructions"})]})]}),g.jsxs(wle,{children:[g.jsx("h4",{children:"Or copy and send the link"}),g.jsxs(Ele,{children:[g.jsx(kle,{disabled:!0,value:r,"data-test":"server-link-input"}),g.jsx(Tle,{onClick:()=>{navigator.clipboard.writeText(r)},children:"Copy"})]})]})]})]})}const xle=K("div",{target:"eg58fmd9"})({name:"82a6rk",styles:"flex:1"}),wle=K("div",{target:"eg58fmd8"})({name:"4dmv1c",styles:"flex:0"}),Ele=K("div",{target:"eg58fmd7"})({name:"sqzzkh",styles:"position:relative;margin-top:0.5rem"}),Tle=K("button",{target:"eg58fmd6"})("cursor:pointer;position:absolute;padding:0 2rem;right:0;height:100%;box-sizing:border-box;background:",Ue.colors.text.active,";",Ot,";font-weight:bold;font-size:2.2rem;border:0;:active{background-color:black;}"),Cle=K("strong",{target:"eg58fmd5"})("text-transform:uppercase;padding:0.5rem 1.5rem;border-radius:0.5rem;display:inline-flex;gap:1.5rem;",Kd,";"),kle=K("input",{target:"eg58fmd4"})({name:"gri5w4",styles:"padding:1rem;box-sizing:border-box;background:grey;border:none;width:100%;font-size:1.3rem"}),Mle=K("div",{target:"eg58fmd3"})({name:"1d1jk7v",styles:"display:flex;flex-direction:row;flex-wrap:nowrap;align-items:stretch;flex:1;gap:2%;@media (max-width: 560px){flex-direction:column;}"}),Rle=K("div",{target:"eg58fmd2"})({name:"2ogmzh",styles:"flex:0.6;@media (max-width: 560px){flex:0;}"}),Ile=K("div",{target:"eg58fmd1"})({name:"mhlr3w",styles:"display:none;@media (max-width: 560px){display:block;}margin-bottom:2rem"}),Ole=K("div",{target:"eg58fmd0"})("@media (max-width: 560px){display:none;}flex:1;display:flex;flex-direction:column;b{font-weight:bold;",Ot,";color:",Ue.colors.text.active,";}h3{margin-bottom:1rem;}h4{margin:1rem 0;}ol{padding-left:2.3rem;margin:0 0 1.25rem 0;list-style:decimal inside;}li{color:white;font-size:2rem;line-height:3.2rem;}");function jle({closeModal:e}){const{register:t}=dr({onBackspace:e});return g.jsx(Vl,{onClose:e,children:g.jsxs(cu,{children:[g.jsx(KE,{}),g.jsx(No,{...t("quick-connect-close",e),children:"Close"})]})})}function Ple(){const[e,t]=x.useState(!1);xt(oi);const[n,r]=xt(fV),{hasContent:i}=x.useContext(vE),s=()=>t(!1);return g.jsxs(g.Fragment,{children:[e&&g.jsx(jle,{closeModal:s}),g.jsxs(Vle,{children:[i&&g.jsx(Jd,{title:"Toggle help",place:"bottom-end",children:g.jsx(Dle,{size:"small",onClick:()=>r(!n),"data-test":"toggle-help",children:n?g.jsx(coe,{}):g.jsx(uoe,{})})}),g.jsx(Nae,{}),g.jsx(Jd,{title:"Connect phone",place:"bottom-end",children:g.jsx(Ny,{size:"small",onClick:()=>t(l=>!l),"data-test":"quick-connect-phone",children:g.jsx(Rv,{})})})]})]})}const Vle=K("div",{target:"efkmcew1"})({name:"17druna",styles:"view-transition-name:toolbar;cursor:pointer;background:rgba(0, 0, 0, 0.75);color:white;padding-left:1rem;margin:0;position:fixed;top:0;right:0;z-index:10000;color:white;svg{fill:white;width:3.25rem;height:3.25rem;transition:transform 200ms;&:hover{transform:scale(1.2);}}display:flex;gap:0.75rem;border-bottom-left-radius:1.5rem"}),Dle=K(Ny,{target:"efkmcew0"})({name:"lpoy45",styles:"scale:0.9"});function Dl({children:e,toolbar:t=!0}){return g.jsxs(Ere,{children:[t&&g.jsx(Ple,{}),e]})}const _N=Wt(g.jsx("path",{d:"M3 13h2v-2H3zm0 4h2v-2H3zm0-8h2V7H3zm4 4h14v-2H7zm0 4h14v-2H7zM7 7v2h14V7z"}),"List"),Ble=Wt(g.jsx("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6"}),"Settings"),WE=({christmas:e,...t})=>g.jsx("svg",{viewBox:"0 0 512 512",fill:"currentcolor",...t,children:g.jsx("path",{stroke:"black",strokeWidth:"2%",xmlns:"http://www.w3.org/2000/svg",d:"M252.529,162.029l168.125,210.156c-12.313,1.25-24.031,6.438-33.031,15.438s-14.188,20.719-15.438,33.031L162.029,252.545  c-3.563-24.922,4.813-50.078,22.625-67.891C202.467,166.857,227.623,158.467,252.529,162.029z M398.936,398.936  c-9.063,9.063-13.031,22.063-10.625,34.656l45.281,45.25c12.5,12.5,32.75,12.5,45.25,0s12.5-32.75,0-45.25l-45.25-45.281  C420.998,385.904,407.998,389.873,398.936,398.936z M162.029,162.029c18.594-18.594,43.188-29.891,68.969-32.297  c-3.375-24.563-14.906-49.391-35.031-69.516c-43.75-43.75-109.594-48.813-147.063-11.313  c-37.5,37.484-32.438,103.328,11.313,147.078c20.125,20.125,44.938,31.656,69.5,35.031  C132.154,205.217,143.436,180.623,162.029,162.029z"})}),Vx=En(WE)(e=>[e.christmas?"fill-text-player-0-christmas":"fill-text-player-0"]),SN=En(WE)(e=>[e.christmas?"fill-text-player-1-christmas":"fill-text-player-1"]);function Nle({active:e,setActiveTab:t}){return g.jsxs(Lle,{children:[g.jsxs(e_,{active:e==="microphone",onClick:()=>t("microphone"),"data-test":"menu-microphone",children:[g.jsx(t_,{children:g.jsx(WE,{})}),g.jsx(n_,{children:"Microphone"})]}),g.jsxs(e_,{active:e==="song-list",onClick:()=>t("song-list"),"data-test":"menu-song-list",children:[g.jsx(t_,{children:g.jsx(_N,{})}),g.jsx(n_,{children:"Song list"})]}),g.jsxs(e_,{active:e==="settings",onClick:()=>t("settings"),"data-test":"menu-settings",children:[g.jsx(t_,{children:g.jsx(Ble,{})}),g.jsx(n_,{children:"Settings"})]})]})}const Lle=K("div",{target:"e1c2ys9k3"})({name:"1x8gdpu",styles:"position:fixed;bottom:0;right:0;display:flex;align-items:stretch;width:100%;gap:1px;background:#424242;@media (max-height: 500px) and (min-aspect-ratio: 16/10){max-width:400px;transform:scale(0.75);transform-origin:bottom right;}"}),e_=K("div",{target:"e1c2ys9k2"})("cursor:pointer;flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;background:black;padding:1rem;font-size:1.5rem;gap:0.5rem;color:",e=>e.active?Ue.colors.text.active:"#cecece",";"),t_=K("div",{target:"e1c2ys9k1"})({name:"immj2t",styles:"svg{width:2.5rem;height:2.5rem;}font-size:2rem"}),n_=K("div",{target:"e1c2ys9k0"})(""),Af=Wt(g.jsx("path",{d:"M1 21h22L12 2zm12-3h-2v-2h2zm0-4h-2v-4h2z"}),"Warning"),QE=()=>{const[e,t]=x.useState(_l.getStatus());return x.useEffect(()=>_l.addListener(t),[]),e};function xN(){return navigator==null?void 0:navigator.userAgent.includes("OPR")}const Fle="/assets/allow-mic-DleF1-pf.png",zle="/assets/enable-mic-opera-B5FfRj_P.png",$le="/assets/enable-mic-TGG47ucR.png",Ule=()=>xN()?zle:$le,ig=({children:e,fallback:t,showImages:n=!0})=>{const r=QE();return g.jsxs(g.Fragment,{children:[r==="accepted"&&e,r!=="accepted"&&g.jsxs(g.Fragment,{children:[g.jsx(qle,{children:g.jsx(Gle,{})}),t,g.jsxs(Hle,{children:[r==="requested"&&n&&g.jsx("img",{src:Fle,alt:"how-to-allow"}),r==="declined"&&g.jsxs(g.Fragment,{children:[g.jsx("h3",{children:"Access is blocked, you can unblock it here"}),n&&g.jsx("img",{src:Ule(),alt:"how-to-enable"})]}),xN()&&g.jsxs("h4",{children:[g.jsx("strong",{children:"Opera"})," is buggy regarding microphone access - if you encounter issue (e.g. this message stays even after the access to microphone was granted), consider other browsers."]})]})]})]})},Hle=K("div",{target:"e1w9vi9z2"})({name:"1hmq8jv",styles:"text-align:center;img{margin:1.5rem 0 0.5rem;box-shadow:0.5rem 0.5rem 0.5rem rgba(0, 0, 0, 0.5),inset 0 0 0.5rem 0.5rem rgba(255, 255, 255, 0.5);border:0.5rem solid white;border-radius:1rem;box-sizing:border-box;max-width:100%;}"}),qle=K("div",{target:"e1w9vi9z1"})({name:"zov8s0",styles:"width:100%;display:flex;justify-content:center"}),Gle=K(Af,{target:"e1w9vi9z0"})("color:",Ue.colors.text.active,";font-size:3rem;");function Yle(){return!1}const V0=Wt(g.jsx("path",{d:"m1 9 2 2c4.97-4.97 13.03-4.97 18 0l2-2C16.93 2.93 7.08 2.93 1 9m8 8 3 3 3-3c-1.65-1.66-4.34-1.66-6 0m-4-4 2 2c2.76-2.76 7.24-2.76 10 0l2-2C15.14 9.14 8.87 9.14 5 13"}),"Wifi");function sg(e,t,n=1){return n===1?(t+1)%e.length:(t+e.length-1)%e.length}function Kle(e,t,n=1){return sg(e,e.indexOf(t),n)}function jc(e,t,n=1){return e[Kle(e,t,n)]}const Bs=({focused:e,disabled:t=!1,label:n,value:r,onClick:i,info:s,children:l,className:c="",...d})=>g.jsxs(Wle,{children:[g.jsxs(Qle,{"data-focused":e,onClick:i,"data-disabled":t,...d,className:`${c} rounded-md shadow-focusable`,children:[g.jsx("span",{children:n?g.jsxs(g.Fragment,{children:[n,":"]}):""})," ",g.jsx(Xle,{children:r}),l??null]}),s&&g.jsx(XE,{children:s})]}),Wle=K("div",{target:"e84wjn53"})(""),XE=K("div",{target:"e84wjn52"})(Ot,";font-size:2rem;padding:1rem 0.5rem 0;text-align:justify;"),Qle=K("span",{target:"e84wjn51"})("background:rgba(0, 0, 0, 0.7);width:auto;",Ot,";text-align:right;font-size:2.7rem;cursor:pointer;padding:0.65rem;display:flex;flex-direction:row;justify-content:space-between;&[data-expanded='true']{font-size:6rem;}&[data-disabled='true']{cursor:default;}&[data-focused='true'][data-disabled='false']{animation:focusAnimation 1000ms ease-in-out infinite both;}&:hover{animation:focusAnimation 1000ms ease-in-out infinite both;}"),Xle=K("span",{target:"e84wjn50"})("color:",Ue.colors.text.active,";text-overflow:ellipsis;overflow:hidden;white-space:nowrap;padding-left:1rem;"),uu=({focused:e,label:t,value:n,onChange:r,disabled:i,className:s,adornment:l,info:c,ref:d,...u})=>{const p=x.useRef(null);return x.useImperativeHandle(d,()=>p.current),ri(yx,()=>{var h;return(h=p.current)==null?void 0:h.focus()},{enabled:e}),g.jsxs("div",{children:[g.jsxs(Zle,{"data-focused":e,className:`${s} rounded-md`,onClick:()=>{var h;(h=p.current)==null||h.focus()},children:[g.jsx(ece,{children:t}),g.jsx(tce,{value:n,onChange:h=>r(h.target.value),...u,disabled:i,ref:p}),l&&g.jsx(Jle,{children:l})]}),c&&g.jsx(XE,{children:c})]})},Jle=K("span",{target:"et2ce2n3"})(""),Zle=K("div",{target:"et2ce2n2"})("background:black;caret:underscore;",Ot,";width:auto;display:flex;cursor:text;padding:0.25em;align-items:center;&[data-focused='true']{animation:focusAnimation 1000ms ease-in-out infinite both;}&:hover{animation:focusAnimation 1000ms ease-in-out infinite both;}"),ece=K("span",{target:"et2ce2n1"})({name:"1805px",styles:"display:inline-flex;align-items:center;justify-content:center;padding-right:0.5em;white-space:nowrap;width:auto;pointer-events:none;svg{font-size:1em;}"}),tce=K("input",{target:"et2ce2n0"})("padding:0;border:0;background:transparent;caret:underscore;",Ot,";color:",Ue.colors.text.active,";width:100%;font-size:1em;&:focus{outline:none;}");function nce(e){return mi("MuiCircularProgress",e)}vi("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const ll=44,Dx=au`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,Bx=au`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`,rce=typeof Dx!="string"?ou`
        animation: ${Dx} 1.4s linear infinite;
      `:null,ice=typeof Bx!="string"?ou`
        animation: ${Bx} 1.4s ease-in-out infinite;
      `:null,sce=e=>{const{classes:t,variant:n,color:r,disableShrink:i}=e,s={root:["root",n,`color${qt(r)}`],svg:["svg"],circle:["circle",`circle${qt(n)}`,i&&"circleDisableShrink"]};return Ii(s,nce,t)},oce=Bn("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`color${qt(n.color)}`]]}})(Gs(({theme:e})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("transform")}},{props:{variant:"indeterminate"},style:rce||{animation:`${Dx} 1.4s linear infinite`}},...Object.entries(e.palette).filter(Mp()).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}}))]}))),ace=Bn("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),lce=Bn("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.circle,t[`circle${qt(n.variant)}`],n.disableShrink&&t.circleDisableShrink]}})(Gs(({theme:e})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:t})=>t.variant==="indeterminate"&&!t.disableShrink,style:ice||{animation:`${Bx} 1.4s ease-in-out infinite`}}]}))),cce=x.forwardRef(function(t,n){const r=yi({props:t,name:"MuiCircularProgress"}),{className:i,color:s="primary",disableShrink:l=!1,size:c=40,style:d,thickness:u=3.6,value:p=0,variant:h="indeterminate",...v}=r,y={...r,color:s,disableShrink:l,size:c,thickness:u,value:p,variant:h},b=sce(y),_={},w={},T={};if(h==="determinate"){const k=2*Math.PI*((ll-u)/2);_.strokeDasharray=k.toFixed(3),T["aria-valuenow"]=Math.round(p),_.strokeDashoffset=`${((100-p)/100*k).toFixed(3)}px`,w.transform="rotate(-90deg)"}return g.jsx(oce,{className:Bt(b.root,i),style:{width:c,height:c,...w,...d},ownerState:y,ref:n,role:"progressbar",...T,...v,children:g.jsx(ace,{className:b.svg,ownerState:y,viewBox:`${ll/2} ${ll/2} ${ll} ${ll}`,children:g.jsx(lce,{className:b.circle,style:_,ownerState:y,cx:ll,cy:ll,r:(ll-u)/2,fill:"none",strokeWidth:u})})})});function og(e){return g.jsx(cce,{...e})}let Gm=null;function Op(e){if(!document.startViewTransition)e();else try{Gm&&!Gm.finished&&Gm.skipTransition(),Gm=document.startViewTransition(async()=>{await e()})}catch(t){console.error(t)}}const Bv=(e,t)=>{var n;if(t){const r=new URLSearchParams((n=global.location)==null?void 0:n.search);return Object.entries(t).forEach(([i,s])=>{s===null?r.delete(i):r.set(i,s)}),`${e}?${r.toString()}`}return e};function Oi(){const[,e]=yle();return(t,n,{smooth:r=!0,...i}={})=>{r?Op(()=>e(Bv(t,n),i)):e(Bv(t,n),i)}}const wN=Wt(g.jsx("path",{d:"M20 18c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2H0v2h24v-2zM4 6h16v10H4z"}),"Laptop"),EN=Wt(g.jsx("path",{d:"M16 1H8C6.34 1 5 2.34 5 4v16c0 1.66 1.34 3 3 3h8c1.66 0 3-1.34 3-3V4c0-1.66-1.34-3-3-3m-2 20h-4v-1h4zm3.25-3H6.75V4h10.5z"}),"PhoneAndroid"),V3="confirmed-wifi";function uce({onClose:e}){const[t,n]=Qe.useState(st.session.getItem(V3)??!1),r=()=>{st.session.setItem(V3,!0),n(!0),e==null||e()};return x.useEffect(()=>{var i,s,l;if(navigator!=null&&navigator.connection)if(((i=navigator==null?void 0:navigator.connection)==null?void 0:i.type)==="wifi")r();else{const c=()=>{var d;((d=navigator==null?void 0:navigator.connection)==null?void 0:d.type)==="wifi"&&r()};return(l=(s=navigator==null?void 0:navigator.connection)==null?void 0:s.addEventListener)==null||l.call(s,"change",c),()=>{var d,u;return(u=(d=navigator==null?void 0:navigator.connection)==null?void 0:d.removeEventListener)==null?void 0:u.call(d,"change",c)}}},[]),t?null:g.jsx(Vl,{onClose:r,children:g.jsxs(dce,{children:[g.jsxs(fce,{children:[g.jsxs("h3",{children:["Connect to the ",g.jsx("strong",{children:"same Wi-Fi"})]}),g.jsxs(hce,{children:[g.jsx(EN,{}),"...",g.jsx(V0,{}),"...",g.jsx(wN,{})]}),g.jsx("h4",{children:"Connect to the same Wi-Fi as the game."})]}),g.jsx("h6",{children:"Otherwise microphones might not work properly."}),g.jsx(vt,{onClick:r,focused:!0,"data-test":"confirm-wifi-connection",children:"I'm connected, continue"})]})})}const dce=K(cu,{target:"e1200hll2"})({name:"vcyu3g",styles:"gap:1rem"}),fce=K("div",{target:"e1200hll1"})({name:"1uu7723",styles:"display:flex;flex-direction:column;align-items:center;gap:2rem"}),hce=K("div",{target:"e1200hll0"})("margin:2rem 0;display:flex;color:white;align-items:center;gap:2rem;@keyframes pulse{0%{color:",Ue.colors.text.default,";transform:scale(1);}25%{color:",Ue.colors.text.active,";transform:scale(1.1);}50%{color:",Ue.colors.text.default,";transform:scale(1);}}svg{animation:pulse 2s infinite;font-size:7rem;:nth-of-type(1){animation-delay:0s;}:nth-of-type(2){animation-delay:0.5s;}:nth-of-type(3){animation-delay:1s;}}");function pce(e,t,n,r){n===void 0&&(n=global),r===void 0&&(r={});var i=x.useRef(),s=r.capture,l=r.passive,c=r.once;x.useEffect(function(){i.current=t},[t]),x.useEffect(function(){if(n&&n.addEventListener){var d=function(p){return i.current(p)},u={capture:s,passive:l,once:c};return n.addEventListener(e,d,u),function(){n.removeEventListener(e,d,u)}}},[e,n,s,l,c])}var fc={},gce=function(e,t,n){return fc[e]||(fc[e]={callbacks:[],value:n}),fc[e].callbacks.push(t),{deregister:function(){var r=fc[e].callbacks,i=r.indexOf(t);i>-1&&r.splice(i,1)},emit:function(r){fc[e].value!==r&&(fc[e].value=r,fc[e].callbacks.forEach(function(i){t!==i&&i(r)}))}}};function Bl(e,t){if(t===void 0&&(t=typeof global<"u"&&global.localStorage?global.localStorage:typeof globalThis<"u"&&globalThis.localStorage?globalThis.localStorage:typeof window<"u"&&window.localStorage?window.localStorage:typeof localStorage<"u"?localStorage:null),t){var n=function(r){return{get:function(i,s){var l=r.getItem(i);return l==null?typeof s=="function"?s():s:JSON.parse(l)},set:function(i,s){r.setItem(i,JSON.stringify(s))}}}(t);return function(r){return function(i,s,l){var c=l.get,d=l.set,u=x.useRef(null),p=x.useState(function(){return c(s,i)}),h=p[0],v=p[1];pce("storage",function(b){if(b.key===s){var _=JSON.parse(b.newValue);h!==_&&v(_)}}),x.useEffect(function(){return u.current=gce(s,v,i),function(){u.current.deregister()}},[i,s]);var y=x.useCallback(function(b){var _=typeof b=="function"?b(h):b;d(s,_),v(_),u.current.emit(b)},[h,d,s]);return[h,y]}(r,e,n)}}return x.useState}const mce=Bl("remote_mic_name");function vce({isVisible:e,roomId:t,connectionStatus:n,onConnect:r,connectionError:i}){const[s,l]=mce(""),[c,d]=x.useState(!1),u=x.useRef(null),p=x.useRef(null),[h,v]=x.useState(t??""),y=Oi(),b=n!=="uninitialised"&&n!=="error";x.useEffect(()=>{n==="connected"&&!t&&y("remote-mic/",{room:h})},[n,t,h]);const _=(M=!1)=>{An.connect(h,s,M),r(M)},w=M=>{var E,O;M.preventDefault(),d(!1),!t&&h.length!==rp?(E=u.current)==null||E.focus():s===""?(O=p.current??u.current)==null||O.focus():_()};x.useEffect(()=>{var M;er.capture(t?"remote-mic-qrcode":"remote-mic-manual"),(M=u.current)==null||M.focus()},[]),x.useEffect(()=>{st.session.getItem("reload-mic-request")!==null&&(global.setTimeout(()=>st.session.removeItem("reload-mic-request"),1),_(!0))},[]);const[T,k]=x.useState(!1);x.useEffect(()=>{if(k(!1),n==="connecting"||n==="reconnecting"){const M=setTimeout(()=>k(!0),2e3);return()=>clearTimeout(M)}},[n]);const R=n==="error"&&!c;return e?g.jsxs(g.Fragment,{children:[(t==null?void 0:t.startsWith("p"))&&g.jsx(uce,{onClose:()=>{var M;(M=u.current)==null||M.focus()}}),g.jsxs(yce,{onSubmit:w,children:[!b&&g.jsx(bce,{ref:u,placeholder:"_____",label:"Game code",autoCapitalize:"characters",autoComplete:"off",onChange:v,value:h,maxLength:rp,focused:!1,autoFocus:!0,"data-test":"game-code-input",onFocus:()=>{n==="error"&&d(!0)},onPaste:M=>{M.preventDefault();let E=(M.clipboardData||global.clipboardData).getData("text");E=E.replace(/\s/g,""),v(E.slice(0,rp))}}),g.jsx(uu,{maxLength:jw,focused:!1,label:"Your name",placeholder:"Enter your name",value:s,onChange:l,ref:t?u:p,disabled:b,autoFocus:!0,"data-test":"player-name-input"}),g.jsxs(Ace,{type:"submit",disabled:b,"data-test":"connect-button",children:[n==="connecting"&&g.jsx(og,{size:"1em"}),n==="uninitialised"||c?"Connect":n.toUpperCase()]})]}),(T||R)&&g.jsxs(g.Fragment,{children:[T&&g.jsx("h3",{children:"If it doesn't connect"}),R&&g.jsxs(g.Fragment,{children:[g.jsxs("h3",{children:[g.jsx("strong",{children:g.jsx(Af,{})})," ","Could not connect:"]}),g.jsxs("h6",{children:["Error code: ",g.jsx("strong",{children:i})]}),g.jsx("br",{}),i==="peer-unavailable"?g.jsxs(g.Fragment,{children:[g.jsx("h4",{children:t===void 0?"Game with this code not found ":"The game seems to be offline "}),t===void 0&&g.jsxs("h5",{children:["1. Is the code ",g.jsx("strong",{children:h.toUpperCase()})," correct?"]}),g.jsxs("h5",{children:[t===void 0?2:1,". Refresh (",g.jsx("strong",{children:"F5"}),") the Karaoke Game on the PC"]}),t!==void 0&&g.jsxs("h5",{children:["2. Scan the"," ",g.jsxs("strong",{children:[g.jsx(Rv,{})," QR Code"]})," ","again"]}),g.jsxs("h5",{children:["3. Make sure you are in the same"," ",g.jsxs("strong",{children:[g.jsx(V0,{})," Wi-Fi"]})]})]}):i==="network"?g.jsxs(g.Fragment,{children:[g.jsx("h4",{children:"No internet access "}),g.jsxs("h5",{children:["Make sure you are in the same"," ",g.jsxs("strong",{children:[g.jsx(V0,{})," Wi-Fi"]}),"and that it has internet connection"]})]}):g.jsxs(g.Fragment,{children:[g.jsxs("h5",{children:["1. Make sure you are in the same"," ",g.jsxs("strong",{children:[g.jsx(V0,{})," Wi-Fi"]})]}),g.jsxs("h5",{children:["2. Refresh (",g.jsx("strong",{children:"F5"}),") the Karaoke Game on the PC"]}),g.jsxs("h5",{children:["3. Scan the"," ",g.jsxs("strong",{children:[g.jsx(Rv,{})," QR Code"]})," ","again"]})]})]})]})]}):null}const yce=K("form",{target:"e1ey8ze72"})({name:"fvqkyn",styles:"margin-top:2rem;display:flex;flex-direction:column;gap:1rem"}),Ace=K(vt,{target:"e1ey8ze71"})({name:"116s0m5",styles:"margin-bottom:0;height:72px"}),bce=K(uu,{target:"e1ey8ze70"})({name:"8hhbv6",styles:"input{letter-spacing:2rem;text-align:center;text-transform:uppercase;}"}),_ce=Wt(g.jsx("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack"),Sce=Wt(g.jsx("path",{d:"m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"}),"ArrowForward"),xce=Wt(g.jsx("path",{d:"M15 7.5V2H9v5.5l3 3zM7.5 9H2v6h5.5l3-3zM9 16.5V22h6v-5.5l-3-3zM16.5 9l-3 3 3 3H22V9z"}),"Games"),wce=Wt(g.jsx("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6z"}),"KeyboardArrowDown"),Ece=Wt(g.jsx("path",{d:"M15.41 16.59 10.83 12l4.58-4.59L14 6l-6 6 6 6z"}),"KeyboardArrowLeft"),Tce=Wt(g.jsx("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6z"}),"KeyboardArrowRight"),Cce=Wt(g.jsx("path",{d:"M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"}),"KeyboardArrowUp"),kce=Wt(g.jsx("path",{d:"M10.59 9.17 5.41 4 4 5.41l5.17 5.17zM14.5 4l2.04 2.04L4 18.59 5.41 20 17.96 7.46 20 9.5V4zm.33 9.41-1.41 1.41 3.13 3.13L14.5 20H20v-5.5l-2.04 2.04z"}),"Shuffle"),JE=Wt(g.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search");function ZE(e,t){const[n,r]=x.useState(e);return x.useEffect(()=>{const i=setTimeout(()=>{r(e)},t);return()=>{clearTimeout(i)}},[e,t]),n}function Mce({onSearchStateChange:e}){const[t,n]=x.useState(""),r=x.useRef(null),i=ZE(t,100),s=Wte(i);return x.useEffect(()=>{s!==i&&An.searchSong(i.trim())},[s,i]),Kte(()=>e==null?void 0:e(!1)),g.jsx(Rce,{onFocus:()=>e==null?void 0:e(!0),onBlur:()=>e==null?void 0:e(!1),maxLength:jw,focused:!1,label:g.jsx(JE,{}),placeholder:"Search for a song",value:t,onChange:n,ref:r,"data-test":"search-song-input"})}const Rce=K(uu,{target:"e12hs6m40"})({name:"zrd260",styles:"width:100%;margin-bottom:1rem"});function Ice({onSearchStateChange:e}){var s;const[t]=qs(me.remoteKeyboardLayout,!0)??[],n=(t==null?void 0:t.horizontal)!==void 0||(t==null?void 0:t["horizontal-vertical"])!==void 0,r=(t==null?void 0:t.vertical)!==void 0||(t==null?void 0:t["horizontal-vertical"])!==void 0,i=l=>()=>{An.sendKeyStroke(l)};return t!==void 0?g.jsxs(Oce,{"data-test":"remote-keyboard",children:[((s=t==null?void 0:t.remote)==null?void 0:s.includes("search"))&&g.jsx(Mce,{onSearchStateChange:e}),(n||r)&&g.jsxs(i_,{children:[g.jsx(r_,{children:g.jsx(ad,{onClick:i("up"),disabled:!r,"data-disabled":!r,"data-test":"arrow-up",children:g.jsx(Cce,{})})}),g.jsxs(r_,{children:[g.jsx(ad,{onClick:i("left"),disabled:!n,"data-disabled":!n,"data-test":"arrow-left",children:g.jsx(Ece,{})}),g.jsx(ad,{disabled:!0,"data-disabled":!0,children:g.jsx(xce,{})}),g.jsx(ad,{onClick:i("right"),disabled:!n,"data-disabled":!n,"data-test":"arrow-right",children:g.jsx(Tce,{})})]}),g.jsx(r_,{children:g.jsx(ad,{onClick:i("down"),disabled:!r,"data-disabled":!r,"data-test":"arrow-down",children:g.jsx(wce,{})})})]}),g.jsxs(i_,{children:[g.jsx(s_,{onClick:i("back"),disabled:(t==null?void 0:t.back)===void 0,"data-test":"keyboard-backspace",children:(t==null?void 0:t.back)||g.jsxs(g.Fragment,{children:[g.jsx(_ce,{})," Back"]})}),g.jsx(s_,{onClick:i("accept"),disabled:(t==null?void 0:t.accept)===void 0,"data-test":"keyboard-enter",children:(t==null?void 0:t.accept)||g.jsxs(g.Fragment,{children:["Enter ",g.jsx(Sce,{})]})})]}),g.jsx(jce,{}),g.jsx(i_,{disabled:(t==null?void 0:t.shiftR)===void 0,"data-test":"keyboard-shift-r",children:g.jsxs(s_,{onClick:i("random"),children:[g.jsx(kce,{})," ",(t==null?void 0:t.shiftR)||"Random Song"]})})]}):null}const Oce=K("div",{target:"epl0eil6"})({name:"17mk58z",styles:"gap:1rem;display:flex;flex-wrap:wrap;margin-bottom:2rem"}),r_=K("div",{target:"epl0eil5"})({name:"144ujnw",styles:"display:flex;justify-content:center;flex:1;color:white;font-size:2rem"}),i_=K("div",{target:"epl0eil4"})("display:flex;flex-direction:column;flex:1;justify-content:space-between;opacity:",e=>e.disabled?0:1,";"),jce=K("div",{target:"epl0eil3"})({name:"1f76xva",styles:"flex-basis:100%;height:0"}),Pce=K("button",{target:"epl0eil2"})("background:none;border:none;box-sizing:border-box;margin:0.25rem;width:4.5rem;height:4.5rem;svg{width:2.5rem;height:2.5rem;}opacity:",e=>e.disabled?.25:1,";"),ad=K(Pce,{target:"epl0eil1"})({name:"1dzx4ce",styles:"display:flex;align-items:center;justify-content:center;border-radius:0.3rem;border:0.3rem solid rgb(204, 204, 204);border-bottom-color:rgb(130, 130, 130);border-right-color:rgb(130, 130, 130);gap:0.5rem;&[data-disabled='false']{cursor:pointer;&:active{border:0.3rem solid rgb(130, 130, 130);border-bottom-color:rgb(204, 204, 204);border-right-color:rgb(204, 204, 204);}}color:rgb(51, 51, 51);font-weight:normal;font-size:2.5rem;box-shadow:0 0.1rem 0 rgba(0, 0, 0, 0.2),inset 0 0 0 0.2rem #ffffff;background-color:rgb(247, 247, 247);text-shadow:0 0.1rem 0 #fff"}),s_=K(ad,{target:"epl0eil0"})({name:"1d3w5wq",styles:"width:100%"}),e2=Wt(g.jsx("path",{d:"M6.99 11 3 15l3.99 4v-3H14v-2H6.99zM21 9l-3.99-4v3H10v2h7.01v3z"}),"SwapHoriz"),Vce={regular:["Blue","Red","Green","Yellow"],christmas:["Green","Red","Blue","Gold"],eurovision:["Blue","Violet","Yellow","Pink"],halloween:["Orange","Violet","Red","Green"]};function TN({playerNumber:e,id:t,onModalClose:n,header:r}){x.useEffect(()=>(An.subscribe("remote-mics"),()=>{An.unsubscribe("remote-mics")}),[]);const[i]=qs(me.remoteMicListUpdated)??[[]],[s]=qs(me.remoteStyleChanged,!0)??["regular"],l=d=>{An.requestPlayerChange(t,d),n()},c=e!==null;return g.jsx(Vl,{onClose:n,children:g.jsxs(jt,{children:[r&&g.jsx("h2",{children:r}),[0,1,2,3].map(d=>{const u=i.find(h=>h.number===d),p=d===e;return g.jsxs(jt.Button,{size:"small","data-test":`change-to-player-${d}`,onClick:()=>l(d),disabled:p,className:"gap-2",style:{color:Ue.colors.players[d].perfect.fill},children:[Vce[s][d],p||u?g.jsxs("span",{className:"text-gray-300 text-sm","data-test":"mic-occupant",children:[" ","(",p?"You":u==null?void 0:u.name,")"]}):""]},d)}),g.jsx(jt.Button,{size:"small",onClick:()=>l(null),disabled:!c,"data-test":"change-to-unset",children:"Unassign"}),g.jsx("hr",{}),g.jsx(jt.Button,{size:"small",onClick:()=>An.removePlayer(t),"data-test":"remove-player",children:"Remove"}),g.jsx(jt.Button,{onClick:n,size:"small",children:"Close"})]})})}function CN({number:e,...t}){const[n]=qs(me.remoteStyleChanged,!0)??["regular"],r=QD();return x.useEffect(()=>{r()},[n]),g.jsx(Dce,{style:{background:e!==null?Ue.colors.players[e].perfect.fill:Ue.colors.text.inactive},...t})}const Dce=K("div",{target:"e1u9853z0"})({name:"97f0zo",styles:"display:inline-block;width:1em;height:1em;aspect-ratio:1;border-radius:1em"}),Bce=x.memo(function({playerNumber:t}){const[n,r]=x.useState(!1),i=()=>r(!1),s=t!==null;return g.jsxs(g.Fragment,{children:[g.jsxs(Nce,{onClick:()=>r(!0),"data-test":"change-player","data-joined":s,children:[s?g.jsxs(g.Fragment,{children:[g.jsx(CN,{number:t})," Change"]}):"Join game"," ",g.jsx(e2,{})]}),n&&g.jsx(TN,{id:An.getClientId(),playerNumber:t,onModalClose:i})]})}),Nce=K("button",{target:"e1x7ggg80"})("position:absolute;z-index:1;color:white;right:1rem;bottom:1rem;padding:1rem;font-size:2rem;text-transform:uppercase;display:flex;align-items:center;gap:1rem;border:none;",Ot,";background:rgba(0, 0, 0, 0.75);&[data-joined='false']{font-size:3rem;padding:3rem;",Kd,";}:hover{",Kd,";}:active{",nN,";}svg{width:2rem;height:2rem;}");function Hy(){const[e]=qs(me.remoteMicPermissionsSet,!0)??["write"];return e}function Lce({playerNumber:e,volume:t,frequency:n,isMicOn:r,isConnected:i}){const[s,l]=x.useState(1e-6),c=Hy();x.useEffect(()=>{l(u=>t>u?t:u*.99)},[t]);const d=e!==null?Ue.colors.players[e].hit.fill:Ue.colors.lines.normal.fill;return g.jsxs($ce,{className:"rounded-md","data-is-mic-on":r,color:d,"data-player-number":`${e??"none"}`,"data-test":"indicator",children:[r&&g.jsx(g.Fragment,{children:g.jsx(Fce,{children:n?`${Math.round(n)}Hz`:" "})}),i&&c==="write"&&g.jsx(Bce,{playerNumber:e}),g.jsx(zce,{style:{transform:`scaleY(${r?1-Math.min(1,t/s):1})`}})]})}const Fce=K("span",{target:"eik0d702"})({name:"1ikzkvw",styles:"position:absolute;color:white;opacity:0.125"}),zce=K("div",{target:"eik0d701"})({name:"c7d9oe",styles:"width:100%;min-height:200px;max-height:100vw;background-color:rgba(0, 0, 0, 0.25);transition:200ms;transform-origin:top"}),$ce=K("div",{target:"eik0d700"})("position:relative;border:0.1rem solid white;flex:1;min-height:200px;max-height:100vw;transition:300ms;background:",e=>e.color,";");function D3({isVisible:e,isMicOn:t,isConnected:n}){const[r,i]=x.useState(0),[s,l]=x.useState(0),[c]=qs(me.remoteMicPlayerSet,!0)??[null],d=x.useCallback(Td((u,p)=>{l(u),i(p)},150),[i,l]);return x.useEffect(()=>(ro.startMonitoring(void 0),ro.addListener(d)),[d]),e?g.jsx(g.Fragment,{children:g.jsx(Lce,{volume:r,frequency:s,playerNumber:c,isMicOn:t,isConnected:n})}):null}function Uce(){const[e,t]=x.useState(0);return x.useEffect(()=>{const n=setInterval(()=>{const r=Mi();An.pinging&&r-An.pingStart>e?t(r-An.pingStart):t(An.latency)},333);return()=>{clearInterval(n)}},[]),g.jsxs(g.Fragment,{children:[e,"ms"]})}function Hce({roomId:e,monitoringStarted:t,setIsKeepAwakeOn:n,connectionError:r,connectionStatus:i}){const s=Hy(),[l,c]=x.useState(!1),[d]=xt(gw),u=async()=>{var v,y;n(!0);try{!Yle()&&d&&(await document.body.requestFullscreen(),global.screen.orientation.unlock(),await((y=(v=global.screen.orientation).lock)==null?void 0:y.call(v,"portrait")))}catch(b){console.warn(b)}},p=i==="connected",h=g.jsx(D3,{isVisible:!0,isMicOn:t,isConnected:p});return g.jsx(qce,{children:g.jsxs(ig,{showImages:!1,fallback:g.jsxs(g.Fragment,{children:[h,g.jsx("h2",{children:"Please allow access to the microphone."})]}),children:[g.jsxs(B3,{collapse:l,children:[g.jsx(D3,{isVisible:!0,isMicOn:t,isConnected:p}),g.jsx(vce,{roomId:e,isVisible:!0,connectionStatus:i,onConnect:u,connectionError:r})]}),g.jsxs(B3,{children:[s==="write"&&g.jsx(Ice,{onSearchStateChange:c}),s==="read"&&g.jsxs(Kce,{"data-test":"no-permissions-message",children:["No permission to control the game. Go to in-game ",g.jsx("strong",{children:"Settings"})," menu "," ",g.jsx("strong",{children:"Remote Microphones Settings"})," to manage them."]}),p&&g.jsxs(Yce,{children:["Ping: ",g.jsx(Uce,{})]})]})]})})}const qce=K("div",{target:"eakh27i4"})({name:"15sh5r0",styles:"font-size:2.6rem;display:flex;flex-direction:column;gap:2rem;padding:1.5rem;box-sizing:border-box;@media (max-height: 500px) and (min-aspect-ratio: 16/10){flex-direction:row;}h5{margin-top:0.5em;svg{font-size:0.9em;}}"}),B3=K("div",{target:"eakh27i3"})("flex:1;transition:300ms ease-in-out;margin-top:",e=>e.collapse?"-100%":"0",";@media (max-height: 500px) and (min-aspect-ratio: 16/10){margin-top:0;display:flex;flex-direction:column;justify-content:center;}"),Gce=K("div",{target:"eakh27i2"})(Ot," strong{color:",Ue.colors.text.active,";}"),Yce=K(Gce,{target:"eakh27i1"})(""),Kce=K("h5",{target:"eakh27i0"})({name:"1s76ut5",styles:"padding-bottom:5rem"});function Wce({onConfirm:e}){const[t,n]=x.useState(!1),[r,i]=x.useState(!1);x.useEffect(()=>{st.session.getItem("reload-mic-request")!==null&&i(!0)},[]),pi(me.remoteMicPlayerSet,()=>{r&&(i(!1),n(!0))}),pi(me.remoteReadinessRequested,()=>{n(!0)});const s=()=>{An.confirmReadiness(),n(!1),e()};return t?g.jsx(Qce,{className:"animate-blink",children:g.jsx(cu,{children:g.jsx(Xce,{"data-test":"ready-button",onClick:s,children:"Ready"})})}):null}const Qce=K("div",{target:"eusdifu1"})({name:"1b0uzsn",styles:"display:flex;flex-direction:column;align-items:center;justify-content:center;position:absolute;top:0;left:0;width:100%;height:100%;backdrop-filter:blur(10px);z-index:1000"}),Xce=K(vt,{target:"eusdifu0"})("aspect-ratio:1;",Kd,";");function kN({unit:e="",value:t,onChange:n,step:r=50,disabled:i=!1,className:s="",...l}){return g.jsxs(Zce,{className:`${s} rounded-md shadow-focusable`,...l,children:[g.jsx(N3,{onClick:()=>n(t-r),disabled:i,"data-test":"numeric-input-down",className:"rounded-l-md",children:"-"}),g.jsxs(Jce,{children:[g.jsx("strong",{"data-test":"numeric-input-value",children:t}),e]}),g.jsx(N3,{onClick:()=>n(t+r),disabled:i,"data-test":"numeric-input-up",className:"rounded-r-md",children:"+"})]})}const N3=K("button",{target:"e1tear4c2"})("padding:0.5rem 2rem;border:none;font-size:3rem;",Ot,";:disabled{opacity:0.5;}"),Jce=K("div",{target:"e1tear4c1"})({name:"2qd0l8",styles:"flex:1;text-align:center"}),Zce=K("div",{target:"e1tear4c0"})(Ot,";display:flex;align-items:center;justify-self:center;background:black;");function eue(){const[e,t]=x.useState(0),[n,r]=x.useState(!1);x.useEffect(()=>{r(!0),An.getGameInputLag().then(({value:s})=>t(s)).catch(s=>console.warn(s)).finally(()=>r(!1))},[]);const i=s=>{r(!0),An.setGameInputLag(s).then(({value:l})=>t(l)).catch(l=>console.warn(l)).finally(()=>r(!1))};return g.jsxs(g.Fragment,{children:[g.jsx("h3",{children:"Adjust game input lag"}),g.jsx(kN,{value:e,onChange:i,disabled:n,unit:"ms","data-test":"game-input-lag"}),g.jsx("h6",{children:"If the sound is not synchronised with the lyrics, use this to compensate it."})]})}function tue(){x.useEffect(()=>(An.subscribe("remote-mics"),()=>{An.unsubscribe("remote-mics")}),[]);const[e]=qs(me.remoteMicListUpdated)??[[]];return g.jsxs(g.Fragment,{children:[g.jsx("h3",{children:"Manage Players"}),e.map(t=>g.jsx(nue,{mic:t},t.id)),e.length===0&&g.jsx("h4",{children:"No remote microphones connected"})]})}const nue=({mic:e})=>{var r;const[t,n]=x.useState(!1);return Vt.getPermission(e.id),g.jsxs(rue,{"data-test":"manage-players",children:[t&&g.jsx(TN,{id:e.id,playerNumber:e.number,onModalClose:()=>n(!1),header:g.jsxs(g.Fragment,{children:["Change ",g.jsx("strong",{className:"ph-no-capture",children:e.name}),":"]})}),g.jsxs(iue,{onClick:()=>n(!0),"data-test":"remote-mic-entry","data-id":e.id??e.name,size:"small",children:[g.jsx(CN,{number:e.number}),g.jsx(oue,{children:((r=e.id)==null?void 0:r.slice(-4))??"????"}),g.jsx(sue,{className:"ph-no-capture",isSelf:e.id===An.getClientId(),children:e.name})]})]})},rue=K("div",{target:"e1sg8znb3"})({name:"4zk4ri",styles:"display:flex;flex-direction:column;gap:1rem"}),iue=K(vt,{target:"e1sg8znb2"})({name:"1n950nl",styles:"display:flex;align-items:center;padding:0 2rem"}),sue=K("div",{target:"e1sg8znb1"})("color:",e=>e.isSelf?`${Ue.colors.text.active}`:"auto",";text-overflow:ellipsis;overflow:hidden;white-space:nowrap;"),oue=K("span",{target:"e1sg8znb0"})({name:"dcs29c",styles:"font-size:1.5rem;padding:0 1rem"});function L3(){const[e,t]=xt(hV),[n,r]=x.useState(!1);x.useEffect(()=>{r(!0),An.getMicrophoneInputLag().then(({value:l})=>t(l)).catch(l=>console.warn(l)).finally(()=>r(!1))},[]);const i=l=>{r(!0),An.setMicrophoneInputLag(l).then(({value:c})=>t(c)).catch(c=>console.warn(c)).finally(()=>r(!1))},s=()=>{var l;An.disconnect(),st.local.removeItem("remote_mic_name"),st.local.removeItem(lx),(l=global.location)==null||l.reload()};return g.jsxs(g.Fragment,{children:[g.jsx(vt,{onClick:s,size:"small","data-test":"reset-microphone",children:"Reset microphone"}),g.jsxs("h6",{"data-test":"reset-mic-info",children:[g.jsx("strong",{children:"Note:"})," removes all persisted microphone data (your name, ID etc.)"]}),g.jsx("hr",{}),g.jsx("h3",{children:"Adjust microphone lag"}),g.jsx(kN,{value:e,onChange:i,unit:"ms",disabled:n,step:25,"data-test":"microphone-delay"}),g.jsx("h6",{children:"Adjust the microphone input delay (e.g. if the game doesn't detect you hitting the note on time)"})]})}function aue({setIsKeepAwakeOn:e,monitoringStarted:t,isKeepAwakeOn:n}){var l;const r=Hy(),[i,s]=x.useState(r==="write"?null:"microphone");return g.jsxs(lue,{children:[g.jsxs("h3",{children:["Remote mic ID:"," ",g.jsx("strong",{"data-test":"remote-mic-id",children:((l=An.getClientId())==null?void 0:l.slice(-4).toUpperCase())??"----"})]}),g.jsx("hr",{}),r==="write"&&i===null&&g.jsxs(g.Fragment,{children:[g.jsx(vt,{onClick:()=>s("microphone"),size:"small","data-test":"microphone-settings",disabled:i==="microphone",children:"Microphone settings"}),g.jsx(vt,{onClick:()=>s("manage"),size:"small","data-test":"manage-game",disabled:i==="manage",children:"Manage the game"})]}),r!=="write"&&g.jsx(L3,{}),i!==null&&r==="write"&&g.jsx(Vl,{onClose:()=>s(null),children:g.jsxs(cu,{children:[g.jsx(cue,{children:i==="microphone"?"Microphone settings":"Manage game"}),i==="microphone"&&g.jsx(L3,{}),i==="manage"&&g.jsxs(g.Fragment,{children:[g.jsx(tue,{}),g.jsx(eue,{})]}),g.jsx("hr",{}),g.jsx(vt,{onClick:()=>s(null),size:"small","data-test":"close-modal",children:"Close"})]})}),g.jsxs("div",{role:"button",className:"typography mt-auto",onClick:()=>e(!n),children:["WakeLock: ",g.jsx("strong",{children:n?"ON":"OFF"})]}),g.jsxs("div",{role:"button",className:"typography",onClick:()=>t?ro.stopMonitoring():ro.startMonitoring(void 0),children:["Microphone: ",g.jsx("strong",{"data-test":"monitoring-state",children:t?"ON":"OFF"})]})]})}const lue=K("div",{target:"edoha0h1"})({name:"10ti2i0",styles:"flex-grow:1;font-size:2.6rem;display:flex;flex-direction:column;justify-content:center;padding:5rem 1.5rem 1.5rem;box-sizing:border-box;gap:1rem"}),cue=K("h1",{target:"edoha0h0"})({name:"bvcr5v",styles:"font-size:3.25rem!important"});var uue="__lodash_hash_undefined__";function due(e){return this.__data__.set(e,uue),this}function fue(e){return this.__data__.has(e)}function jp(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new Oa;++t<n;)this.add(e[t])}jp.prototype.add=jp.prototype.push=due;jp.prototype.has=fue;function hue(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function MN(e,t){return e.has(t)}var pue=1,gue=2;function RN(e,t,n,r,i,s){var l=n&pue,c=e.length,d=t.length;if(c!=d&&!(l&&d>c))return!1;var u=s.get(e),p=s.get(t);if(u&&p)return u==t&&p==e;var h=-1,v=!0,y=n&gue?new jp:void 0;for(s.set(e,t),s.set(t,e);++h<c;){var b=e[h],_=t[h];if(r)var w=l?r(_,b,h,t,e,s):r(b,_,h,e,t,s);if(w!==void 0){if(w)continue;v=!1;break}if(y){if(!hue(t,function(T,k){if(!MN(y,k)&&(b===T||i(b,T,n,r,s)))return y.push(k)})){v=!1;break}}else if(!(b===_||i(b,_,n,r,s))){v=!1;break}}return s.delete(e),s.delete(t),v}function mue(e){var t=-1,n=Array(e.size);return e.forEach(function(r,i){n[++t]=[i,r]}),n}function t2(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var vue=1,yue=2,Aue="[object Boolean]",bue="[object Date]",_ue="[object Error]",Sue="[object Map]",xue="[object Number]",wue="[object RegExp]",Eue="[object Set]",Tue="[object String]",Cue="[object Symbol]",kue="[object ArrayBuffer]",Mue="[object DataView]",F3=Us?Us.prototype:void 0,o_=F3?F3.valueOf:void 0;function Rue(e,t,n,r,i,s,l){switch(n){case Mue:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case kue:return!(e.byteLength!=t.byteLength||!s(new wv(e),new wv(t)));case Aue:case bue:case xue:return uy(+e,+t);case _ue:return e.name==t.name&&e.message==t.message;case wue:case Tue:return e==t+"";case Sue:var c=mue;case Eue:var d=r&vue;if(c||(c=t2),e.size!=t.size&&!d)return!1;var u=l.get(e);if(u)return u==t;r|=yue,l.set(e,t);var p=RN(c(e),c(t),r,i,s,l);return l.delete(e),p;case Cue:if(o_)return o_.call(e)==o_.call(t)}return!1}var Iue=1,Oue=Object.prototype,jue=Oue.hasOwnProperty;function Pue(e,t,n,r,i,s){var l=n&Iue,c=fx(e),d=c.length,u=fx(t),p=u.length;if(d!=p&&!l)return!1;for(var h=d;h--;){var v=c[h];if(!(l?v in t:jue.call(t,v)))return!1}var y=s.get(e),b=s.get(t);if(y&&b)return y==t&&b==e;var _=!0;s.set(e,t),s.set(t,e);for(var w=l;++h<d;){v=c[h];var T=e[v],k=t[v];if(r)var R=l?r(k,T,v,t,e,s):r(T,k,v,e,t,s);if(!(R===void 0?T===k||i(T,k,n,r,s):R)){_=!1;break}w||(w=v=="constructor")}if(_&&!w){var M=e.constructor,E=t.constructor;M!=E&&"constructor"in e&&"constructor"in t&&!(typeof M=="function"&&M instanceof M&&typeof E=="function"&&E instanceof E)&&(_=!1)}return s.delete(e),s.delete(t),_}var Vue=1,z3="[object Arguments]",$3="[object Array]",Ym="[object Object]",Due=Object.prototype,U3=Due.hasOwnProperty;function Bue(e,t,n,r,i,s){var l=Hs(e),c=Hs(t),d=l?$3:io(e),u=c?$3:io(t);d=d==z3?Ym:d,u=u==z3?Ym:u;var p=d==Ym,h=u==Ym,v=d==u;if(v&&xv(e)){if(!xv(t))return!1;l=!0,p=!1}if(v&&!p)return s||(s=new jo),l||VD(e)?RN(e,t,n,r,i,s):Rue(e,t,d,n,r,i,s);if(!(n&Vue)){var y=p&&U3.call(e,"__wrapped__"),b=h&&U3.call(t,"__wrapped__");if(y||b){var _=y?e.value():e,w=b?t.value():t;return s||(s=new jo),i(_,w,n,r,s)}}return v?(s||(s=new jo),Pue(e,t,n,r,i,s)):!1}function n2(e,t,n,r,i){return e===t?!0:e==null||t==null||!Ca(e)&&!Ca(t)?e!==e&&t!==t:Bue(e,t,n,r,n2,i)}var Nue=1,Lue=2;function Fue(e,t,n,r){var i=n.length,s=i;if(e==null)return!s;for(e=Object(e);i--;){var l=n[i];if(l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++i<s;){l=n[i];var c=l[0],d=e[c],u=l[1];if(l[2]){if(d===void 0&&!(c in e))return!1}else{var p=new jo,h;if(!(h===void 0?n2(u,d,Nue|Lue,r,p):h))return!1}}return!0}function IN(e){return e===e&&!ho(e)}function zue(e){for(var t=Wp(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,IN(i)]}return t}function ON(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}function $ue(e){var t=zue(e);return t.length==1&&t[0][2]?ON(t[0][0],t[0][1]):function(n){return n===e||Fue(n,e,t)}}function Uue(e,t,n){var r=e==null?void 0:dE(e,t);return r===void 0?n:r}function Hue(e,t){return e!=null&&t in Object(e)}function que(e,t,n){t=Cy(t,e);for(var r=-1,i=t.length,s=!1;++r<i;){var l=Qp(t[r]);if(!(s=e!=null&&n(e,l)))break;e=e[l]}return s||++r!=i?s:(i=e==null?0:e.length,!!i&&zw(i)&&Uw(l,i)&&(Hs(e)||tE(e)))}function Gue(e,t){return e!=null&&que(e,t,Hue)}var Yue=1,Kue=2;function Wue(e,t){return cE(e)&&IN(t)?ON(Qp(e),t):function(n){var r=Uue(n,e);return r===void 0&&r===t?Gue(n,e):n2(t,r,Yue|Kue)}}function Que(e){return function(t){return t==null?void 0:t[e]}}function Xue(e){return function(t){return dE(t,e)}}function Jue(e){return cE(e)?Que(Qp(e)):Xue(e)}function Zue(e){return typeof e=="function"?e:e==null?WD:typeof e=="object"?Hs(e)?Wue(e[0],e[1]):$ue(e):Jue(e)}function ede(e,t,n,r){for(var i=e.length,s=n+-1;++s<i;)if(t(e[s],s,e))return s;return-1}function tde(e){return e!==e}function nde(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}function rde(e,t,n){return t===t?nde(e,t,n):ede(e,tde,n)}function ide(e,t){var n=e==null?0:e.length;return!!n&&rde(e,t,0)>-1}function sde(){}var ode=1/0,ade=kd&&1/t2(new kd([,-0]))[1]==ode?function(e){return new kd(e)}:sde,lde=200;function jN(e,t,n){var r=-1,i=ide,s=e.length,l=!0,c=[],d=c;if(s>=lde){var u=t?null:ade(e);if(u)return t2(u);l=!1,i=MN,d=new jp}else d=t?[]:c;e:for(;++r<s;){var p=e[r],h=t?t(p):p;if(p=p!==0?p:0,l&&h===h){for(var v=d.length;v--;)if(d[v]===h)continue e;t&&d.push(h),c.push(p)}else i(d,h,n)||(d!==c&&d.push(h),c.push(p))}return c}function cde(e,t){return e&&e.length?jN(e,Zue(t)):[]}const r2=K("span",{target:"ejt1whd0"})("position:absolute;transform:translate(40%, -50%);top:0;right:0;background:",Ue.colors.text.active,";font-size:1.75rem;",Ot,";color:",Ue.colors.text.default,";padding:0.25rem 0.75rem;border-radius:1.5rem;box-shadow:0 0 2px 1px rgba(0, 0, 0, 0.5);"),ude="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='810'%20height='540'%3e%3crect%20width='810'%20height='540'%20fill='%23FCDD09'/%3e%3cpath%20stroke='%23DA121A'%20stroke-width='60'%20d='M0,90H810m0,120H0m0,120H810m0,120H0'/%3e%3c/svg%3e";function dde(){const e=new Intl.DisplayNames(["en"],{type:"language"}),t={};for(let r=0;r<26;r++)for(let i=0;i<26;i++){const s=String.fromCharCode(97+r)+String.fromCharCode(97+i),l=e.of(s);l!==s&&l!==void 0&&(t[l]=s)}return{...t,...{Akan:"ak",Hebrew:"he",Indonesian:"id",Javanese:"jv",Romanian:"ro",Yiddish:"yi",Tagalog:"tl",English:"gb",Korean:"kr",Swedish:"se",Latin:"va",Japanese:"jp",Catalan:"cat",Ukrainian:"ua"}}}const fde=dde();function PN(e){return fde[e]}const hde=Object.assign({"./Flag/flags/cat.svg":ude}),Pc=e=>{var s;const[t,n]=x.useState(null),r="isocode"in e?(s=e.isocode)==null?void 0:s.toLowerCase():PN(Array.isArray(e.language)?e.language[0]:e.language);if(x.useLayoutEffect(()=>{r&&n(null)},[r]),!r)return null;const i=hde[`./Flag/flags/${r}.svg`];return g.jsx(pde,{"data-isocode":r,src:i??`https://flagcdn.com/${t??r}.svg`,alt:r,...e,onError:()=>n("un")})},pde=K("img",{target:"e1k9lqhf0"})("");function bf(e=!1){const[t,n]=x.useState(fs.getCurrentIndex()),r=x.useRef([]),i=()=>fs.getIndex(e).then(n);return x.useEffect(()=>{i()},[]),{data:t??r.current,reload:i,isLoading:t===null}}function VN(){const{width:e,height:t}=gf();return x.useMemo(()=>parseFloat(getComputedStyle(document.documentElement).fontSize),[e,t])}const D0=Wt(g.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2m-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckBox"),B0=Wt(g.jsx("path",{d:"M19 5v14H5V5zm0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2"}),"CheckBoxOutlineBlank");function gde(e){return String(e).match(/[\d.\-+]*\s*(.*)/)[1]||""}function mde(e){return parseFloat(e)}function H3({theme:e,...t}){const n=xa in e?e[xa]:void 0;return g.jsx(RB,{...t,themeId:n?xa:void 0,theme:n||e})}const Km={attribute:"data-mui-color-scheme",colorSchemeStorageKey:"mui-color-scheme",defaultLightColorScheme:"light",defaultDarkColorScheme:"dark",modeStorageKey:"mui-mode"},{CssVarsProvider:vde,useColorScheme:N1e,getInitColorSchemeScript:L1e}=_se({themeId:xa,theme:()=>OE({cssVariables:!0}),colorSchemeStorageKey:Km.colorSchemeStorageKey,modeStorageKey:Km.modeStorageKey,defaultColorScheme:{light:Km.defaultLightColorScheme,dark:Km.defaultDarkColorScheme},resolveTheme:e=>{const t={...e,typography:PB(e.palette,e.typography)};return t.unstable_sx=function(r){return Kc({sx:r,theme:this})},t}}),yde=vde;function Ade({theme:e,...t}){return typeof e=="function"?g.jsx(H3,{theme:e,...t}):"colorSchemes"in(xa in e?e[xa]:e)?g.jsx(yde,{theme:e,...t}):g.jsx(H3,{theme:e,...t})}function bde(e){return mi("MuiSkeleton",e)}vi("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);const _de=e=>{const{classes:t,variant:n,animation:r,hasChildren:i,width:s,height:l}=e;return Ii({root:["root",n,r,i&&"withChildren",i&&!s&&"fitContent",i&&!l&&"heightAuto"]},bde,t)},Nx=au`
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0.4;
  }

  100% {
    opacity: 1;
  }
`,Lx=au`
  0% {
    transform: translateX(-100%);
  }

  50% {
    /* +0.5s of delay between each loop */
    transform: translateX(100%);
  }

  100% {
    transform: translateX(100%);
  }
`,Sde=typeof Nx!="string"?ou`
        animation: ${Nx} 2s ease-in-out 0.5s infinite;
      `:null,xde=typeof Lx!="string"?ou`
        &::after {
          animation: ${Lx} 2s linear 0.5s infinite;
        }
      `:null,wde=Bn("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],n.animation!==!1&&t[n.animation],n.hasChildren&&t.withChildren,n.hasChildren&&!n.width&&t.fitContent,n.hasChildren&&!n.height&&t.heightAuto]}})(Gs(({theme:e})=>{const t=gde(e.shape.borderRadius)||"px",n=mde(e.shape.borderRadius);return{display:"block",backgroundColor:e.vars?e.vars.palette.Skeleton.bg:oo(e.palette.text.primary,e.palette.mode==="light"?.11:.13),height:"1.2em",variants:[{props:{variant:"text"},style:{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:`${n}${t}/${Math.round(n/.6*10)/10}${t}`,"&:empty:before":{content:'"\\00a0"'}}},{props:{variant:"circular"},style:{borderRadius:"50%"}},{props:{variant:"rounded"},style:{borderRadius:(e.vars||e).shape.borderRadius}},{props:({ownerState:r})=>r.hasChildren,style:{"& > *":{visibility:"hidden"}}},{props:({ownerState:r})=>r.hasChildren&&!r.width,style:{maxWidth:"fit-content"}},{props:({ownerState:r})=>r.hasChildren&&!r.height,style:{height:"auto"}},{props:{animation:"pulse"},style:Sde||{animation:`${Nx} 2s ease-in-out 0.5s infinite`}},{props:{animation:"wave"},style:{position:"relative",overflow:"hidden",WebkitMaskImage:"-webkit-radial-gradient(white, black)","&::after":{background:`linear-gradient(
                90deg,
                transparent,
                ${(e.vars||e).palette.action.hover},
                transparent
              )`,content:'""',position:"absolute",transform:"translateX(-100%)",bottom:0,left:0,right:0,top:0}}},{props:{animation:"wave"},style:xde||{"&::after":{animation:`${Lx} 2s linear 0.5s infinite`}}}]}})),Ede=x.forwardRef(function(t,n){const r=yi({props:t,name:"MuiSkeleton"}),{animation:i="pulse",className:s,component:l="span",height:c,style:d,variant:u="text",width:p,...h}=r,v={...r,animation:i,component:l,variant:u,hasChildren:!!h.children},y=_de(v);return g.jsx(wde,{as:l,ref:n,className:Bt(y.root,s),ownerState:v,...h,style:{width:p,height:c,...d}})}),Tde="data:image/gif;base64,R0lGODlhiQAzAOflAAABAAYAAAACAAcAAAkBAAoDAQsEAxAFABEHABIIABMKABgJAhQLAhsLABwNACANAR0OACEOAyMPACMQACcPACgQASgRAioSACsTACwTACwUAC8WAC4WAzAWADQVADUXATYYAjgYADkZADoaADobAD8aAzscAUEbAD4dAEMdAEUeAkAgAEYfAEUfA0ghAE4hAksjAU8iAFEjAFIkAFMlAFQmAVsmAFcoAFwnAF0oAF8qAmEqAGIrAGMsAGksAWUuAGotAmAwDWwuAGsuA20vAF0zDm4wAG8xAHEyAHIzAXgyAHM0AnU1AHo0AHY2AHw1AH43AIA5AoE6AIM7AIQ8AIk7AIU9AIs8AIc+AIw9AI0+AY4+ApFAAJJBAJNCAJRDAJpCAZVEAJtDAp1EAJxEA55FAKBHAKFIAKJJAKhIAaRKAKVLAKtKAKxLAI5RI5BRJK9NALBOALFPALJQALNRALlQBLtRALxSAL1TAL9UAMFWAMJXAMRYArlbCsZZAMVZA8xYAMhaAM9aANFcAdNdAtVfAMpiDddgAN1fANhhAN9hANljAOFiAeNkAOJkA91mAONlBN5nAdhoDeVmAOdoAO5mAOJqB+9nAOlpAPBpAfFqA654SvNrAOduDvRsAPZtAN5yGONxGvduANh0IPFwB/hvAOtxE+B0Gt90I/lwAOxyFPNxCu5zBud0EvRyANt2Is54Ndp2Krt8S+B1JM95L9V4Ked0HeF2G/txAO1zFvRyDOh1E9x3I895NtV4ML19Rsp7NcN8Qbx9TMl7O8J8R9Z5Kq6AW8h7QrZ/ULh/S7V/VsV9O75+R8t8NsR9QqmCYKeCZpqFcLGBVq+BXJGHe4+HgbeAUaOEZqGEbLaAV6CEcauDXKqDYZuGcZmGd42Ih5KIfJCIgpSId4iKh4uKgv///////////////////////////////////////////////////////////////////////////////////////////////////////////yH5BAEIAP8ALAAAAACJADMAAAj+AP8JHEiwoMGDCBMqXMiwocOHECMSHEexosWLGDNq3Mixo8ePIDtKHPhtGK6TKFOqXInrGcuXMGPKnEmzpspU40YKHBdryICfQIMKFVpHFq6hSJOWSMq0qdOnUH8S8PRN579vrFwI2Mq1q9euALbAwvW1bFkAI8yqXcsWbFu1AArgyqkTHK4Ib8v+sEU279cSfgO3HSAYLFWd35RNKryVAIZUfQujZUy5stu5OsfxCkMZgABFNkOLHk065eGR13ClsBxllbdvsL8h04N0S6/YuIXVifrzyu1vsnbz9g1bt1ANqWDbwiHUd0Wd0PR4rozgUbiB43qRKdtDFV3sxbD+BNbBiiKtLoF7tKLoS3zXAqKwkXMFwquOXFWtpsYF5WsClX6UpQcuroAzUDWr5FDWBLhg89034aQiQ2ARNBgOKTf4BUAFuHgTIQ1dDQCAH8dM8wkBXjHooFWwBdOfVwmsEhs2gJTlh4P5/ROMJgicBUgsOY4zDCaCAQAIL8m40mNgg9CyDCYGfPWEK62c4RUARgJp1VUu+rcKXdgE+BUg2BTETBRmAeBCLA8Ow0SRKsQCyxaBEUCADry4+ZVni7SCAVhYxvndSN8Q82JXMeZHo4DQFBQMLpQIiMsoOX5zDC5iclVCSkZ4BQYuvADzA1cIgNEIBF4tkgaqnqWAijP+J6HJFQ246BIKLrJuRSuoOY40TpchGqALmJlyBYAeZU5kjR5lddELRdh9E6ZXJcwC2zCddgWGMt/A8skEAgyQxyqsoMrVAJioMkgBAjCACS/jfBOMIMYykAo21aQC2FYAqFHMN9BaNY6hXzEgI0WLfoVsQZaKUZYOp/QqUMJcoTALRdh6FQYy45BjChgCuJDKNbng1RUn2qSSIRarhFNVN3cZC4gwz2jiVSXTSOwrsF0JK+0woBTLFZkFjVPMEmV5UAo5Bk17rgnWCpntVgNs+8841mACQBdAmmIuV5iE40saAAzCDF3j7HKEsVjkOcfTuFy35U4Ee2UwLZj+8MH+nnpcU7QpE3pFmCfaNF1jVylcXNLUAgAABjICRRiBHMlgZTJXl4CzjR8G4NINScPg0ZUKnqhtLBjwzr0Tz1wJq0kOKJq18ESuVHCWHxwX5DS/UAuzSyqMOw75VbugYAg037Ty9VaYeIONJRsMS9I1qSy5lSa4/MmvIskMKnDdXTFQCQeNq/WH3wRF80lZIpoxjMQUb1XtJ1eA66kyO51SBCrdWO7VJeEIxy2CYItejYMUODCWHhoxHQF4oEOqW92huhICtgxgdgPhxiL25JkhXEx3QjMBJUhwlscJ5Bu0cAMt4lUusGACHChU4aBQCIdwYckJZuhKFE7hve9NsDH+hPnKB6IwB0VkAhfoo1sNzUICV8DvcFQDgQgAEESN4e8qwthE975histthRPgGEcWhWHAbVyCXZ4hAYi4Mghi6CwzrOOXVwjQg0XgwhbMeIaHBjUOWFxBLQZIxecIsrtwyZFqLwjDIDCRiuH9bXkCuIQ3FEKOVLjAMwMoQAK4UqFBRnBgP/wKDBaRClh4I2AG+cYpdPAerxBiGoOK31dUMIhUxMIa2qDGG/3XlUbIDSHfqAXIyrIE/ERQgmopgBlwUYtT9nAiuiAhV0bFFQKk4RixFFpXmJAKXvTvmSRR3rkE8EKFyCZSX7mgM8DpK/B5BQF/SAW32DmQcOBiAV3+SYP2GrcEXvRKll2hwSe8CTBzsuJyVOTELxECDlHUx26pQN4xrxZHroxrRQ25Bjq5kggfjO5LhNTmuUggCFsioxthPAhWvuaZzC1kHKegguB6UJ6JXs2dXImCK6BBz4lIg1lcKcAn1HAuBpRikgMBaIgEAANFVsITslBpF70StoUUil5ekcNtbPqrUCIgFcx4IzCdkUOuiMAVjQBLI54RUq98IC3GEhEACLCxg4zDazcz0EK0cU+waIIbPY0IKAt2GofwJAld+cEpcGE/Ec2BGN+RpQkqsRpj8YsMV2TYQUNU1ZeuApK4EKvA4ggAYQV2IqoIXOPAkApNsLJxAKD+ApuSWqwBmGAUougCBqq4WkcSJHmQrIReDbo8AmCGqzhtly5Ea1dX2I9fBmCA9QQQg1bkSJaJk0UrgGdFlW72XJ01Z8nAElqbUnSChDEtRLyRitgZq4FbqdAvCwmAEvhTaiEyYSpb2BXhMmQc/KXacRuykaIl12DMNcg2EPEWAFyCrROD4lagdi3GCSAMmf3tVMG7UGBumF/l/W9iZqEJT5g4F8dIKXYqql6HfCMZcmgwHYRBrK4Q4LYAy9i59PvIvP4Xr+cacELGEQ5epGINKDCAASywBEzkgqfYObCMHtLHP3IlCSlZG1e6QAtFSbi+UdMxVzDsXS+iq8Nl9kr+iM0Zi0yoAL4DWIAePHFKZHqlxQQeRQ+09b6SOMyGOlgPwkJ4XzGH63GovApw80pP2IgzyIk2yDikkYoVYIkAVAyiAQpxi/wM1m5T/m+8dGGCrszBGhRRRrE0QJVupULCA9iULnKBCwuHoRQFJMh+zIyJUkQ1IbtWMy4ynEpbkAFLsMVk40yAi2jYuWfSY4ilTsIAYx0iF7k4BSkyYSyh4iIWwNiz4AiwiE5AcgAEAAEPdX2HstDVtwaBRh3SOYAxwLsglXxo+cBCgEHgjyJSLqhVh7GEnxgLAhGQBCg2UO24qoAXvdjglW6Qily4Byx0sBZBoIGLUoeIAZ4gdkH+XLI3r0BAFCInCDVEARcqhuEX/4DGME4RSgN4YhjCkPYyzhgiACyBFacg6lf+wAv2ltyQ1qSFMCTulVQAdiKn8MKVgBBthMDUysYyQk0TEo6NpukKOcdGH36wAf/84Aowt2o4XLFGOQLiGMrIhHu3wiFtwNTCAqDENtjbcK6koGUMs8YgrmQGYDD3G8LQZhrepxBqrI8tYoD5NUzxXGOhKA05NydFakGnpuPLFUdv3A92ca0/kyoV4vgGKSrLLyPAyyKw6cbjZSYNj2Bj9myEZUZIkorQl6UQ+PuGKmS6JwjgYhtWPUkq3taVDaQkgTpMSbu7woGUZKgrV4hJFZ7+wH3uY6ImqaBC95/gBMisJDnYOcV21IKCZl/tF4lgnxFI0dNx4AK+VEM2b8NFgJ9Ik978dyVDkWlyhSUGCBWNU4AEiBQ4QRLWkAqs906C8EH/wF749BVrwHjmRBb7J0f41xX7AheWkRdUlCZ7UlhXMwqXEIFbgQB6oAt1dhWkoALpNAiwlHwmuBaTMYKScSUaIgBCBiGjkApmsAIIUAAVwASUoAvXUCm8gHdAiFQbWBkhyIOB0YEkaHMSQxHSgAqrkAqukAqt4AzVMEPLABOB9Q2lgQvmt4Zu+IbPBBvxghsSQ4d0GC8iZod6qIdzuId++IeAGBt9GIh22IfmdYgGiJiIEBEQADs=",Cde="/assets/logo-1e2sNsQM.mp4",kde="/assets/logo-CDt7pIML.webm",Mde="/assets/pride-CMcO3nTB.png",Rde="/assets/santas-hat-DkaW4YUe.webp";var Vj;(Vj=global.location)!=null&&Vj.search.includes("pride")&&st.session.setItem("pride","true");function i2(e){const[t]=xt(oi),{theme:n}=x.useContext(Xp);return t?null:g.jsxs("div",{className:"relative h-[16.4rem] [view-transition-name:logo]",children:[st.session.getItem("pride")==="true"&&g.jsx(q3,{asChild:!0,children:g.jsx("img",{className:"absolute",src:Mde,alt:"AllKaraoke Pride logo part 1"})}),g.jsxs(q3,{...e,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,children:[g.jsx("source",{src:kde,type:"video/webm"}),g.jsx("source",{src:Cde,type:"video/mp4"})]}),g.jsx("img",{className:"absolute w-[13.7rem] h-[5.1rem] bottom-[-0.5rem] right-[-1rem]",src:Tde,alt:"AllKaraoke Pride logo part 2"}),n==="christmas"&&g.jsx("img",{className:"absolute w-[13.7rem] h-[11.1rem] top-[-3rem] right-[-7rem] rotate-[30deg] object-contain",src:Rde,alt:"AllKaraoke Pride logo part 2"})]})}const q3=En.video`w-[66rem] h-[16.4rem]`;function s2(){return"chrome"in window}function Ide(){return g.jsx(g.Fragment,{children:!s2()&&g.jsxs(lu,{className:"w-full py-12 bg-red-900 text-center rounded-none",children:[g.jsxs(ps,{className:"text-lg",children:["This game is tested in ",g.jsx("strong",{children:"Google Chrome"})," and ",g.jsx("strong",{children:"MS Edge"}),"."]}),g.jsx(ps,{children:"It's not guaranteed to work on other browsers (like the one you use now)."})]})})}function DN(){return g.jsx(g.Fragment,{children:g.jsx("a",{href:"https://github.com/Asvarox/allkaraoke",target:"_blank",rel:"noreferrer",className:"github-corner","aria-label":"View source on GitHub",dangerouslySetInnerHTML:{__html:`
      <svg width="80" height="80" viewBox="0 0 250 250"
           style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; left: 0; transform: scale(-1, 1);"
           aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z" />
        <path
          d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
          fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm" />
        <path
          d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
          fill="currentColor" class="octo-body" />
      </svg>
      <style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes
        octocat-wave{0 %,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media
        (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>`}})})}function Va({children:e,supportedBrowsers:t}){return Pl(!0),g.jsxs(Dl,{children:[g.jsx(DN,{}),g.jsxs("div",{className:"w-screen h-screen flex items-center flex-col gap-8",children:[g.jsx(i2,{}),t&&g.jsx(Ide,{}),g.jsx(jt,{children:e})]})]})}var Rh={},Nv=function(){return Nv=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Nv.apply(this,arguments)},Ode=function(){function e(t,n,r){var i=this;this.endVal=n,this.options=r,this.version="2.8.0",this.defaults={startVal:0,decimalPlaces:0,duration:2,useEasing:!0,useGrouping:!0,useIndianSeparators:!1,smartEasingThreshold:999,smartEasingAmount:333,separator:",",decimal:".",prefix:"",suffix:"",enableScrollSpy:!1,scrollSpyDelay:200,scrollSpyOnce:!1},this.finalEndVal=null,this.useEasing=!0,this.countDown=!1,this.error="",this.startVal=0,this.paused=!0,this.once=!1,this.count=function(s){i.startTime||(i.startTime=s);var l=s-i.startTime;i.remaining=i.duration-l,i.useEasing?i.countDown?i.frameVal=i.startVal-i.easingFn(l,0,i.startVal-i.endVal,i.duration):i.frameVal=i.easingFn(l,i.startVal,i.endVal-i.startVal,i.duration):i.frameVal=i.startVal+(i.endVal-i.startVal)*(l/i.duration);var c=i.countDown?i.frameVal<i.endVal:i.frameVal>i.endVal;i.frameVal=c?i.endVal:i.frameVal,i.frameVal=Number(i.frameVal.toFixed(i.options.decimalPlaces)),i.printValue(i.frameVal),l<i.duration?i.rAF=requestAnimationFrame(i.count):i.finalEndVal!==null?i.update(i.finalEndVal):i.options.onCompleteCallback&&i.options.onCompleteCallback()},this.formatNumber=function(s){var l,c,d,u,p=s<0?"-":"";l=Math.abs(s).toFixed(i.options.decimalPlaces);var h=(l+="").split(".");if(c=h[0],d=h.length>1?i.options.decimal+h[1]:"",i.options.useGrouping){u="";for(var v=3,y=0,b=0,_=c.length;b<_;++b)i.options.useIndianSeparators&&b===4&&(v=2,y=1),b!==0&&y%v==0&&(u=i.options.separator+u),y++,u=c[_-b-1]+u;c=u}return i.options.numerals&&i.options.numerals.length&&(c=c.replace(/[0-9]/g,function(w){return i.options.numerals[+w]}),d=d.replace(/[0-9]/g,function(w){return i.options.numerals[+w]})),p+i.options.prefix+c+d+i.options.suffix},this.easeOutExpo=function(s,l,c,d){return c*(1-Math.pow(2,-10*s/d))*1024/1023+l},this.options=Nv(Nv({},this.defaults),r),this.formattingFn=this.options.formattingFn?this.options.formattingFn:this.formatNumber,this.easingFn=this.options.easingFn?this.options.easingFn:this.easeOutExpo,this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.endVal=this.validateValue(n),this.options.decimalPlaces=Math.max(this.options.decimalPlaces),this.resetDuration(),this.options.separator=String(this.options.separator),this.useEasing=this.options.useEasing,this.options.separator===""&&(this.options.useGrouping=!1),this.el=typeof t=="string"?document.getElementById(t):t,this.el?this.printValue(this.startVal):this.error="[CountUp] target is null or undefined",typeof window<"u"&&this.options.enableScrollSpy&&(this.error?console.error(this.error,t):(window.onScrollFns=window.onScrollFns||[],window.onScrollFns.push(function(){return i.handleScroll(i)}),window.onscroll=function(){window.onScrollFns.forEach(function(s){return s()})},this.handleScroll(this)))}return e.prototype.handleScroll=function(t){if(t&&window&&!t.once){var n=window.innerHeight+window.scrollY,r=t.el.getBoundingClientRect(),i=r.top+window.pageYOffset,s=r.top+r.height+window.pageYOffset;s<n&&s>window.scrollY&&t.paused?(t.paused=!1,setTimeout(function(){return t.start()},t.options.scrollSpyDelay),t.options.scrollSpyOnce&&(t.once=!0)):(window.scrollY>s||i>n)&&!t.paused&&t.reset()}},e.prototype.determineDirectionAndSmartEasing=function(){var t=this.finalEndVal?this.finalEndVal:this.endVal;this.countDown=this.startVal>t;var n=t-this.startVal;if(Math.abs(n)>this.options.smartEasingThreshold&&this.options.useEasing){this.finalEndVal=t;var r=this.countDown?1:-1;this.endVal=t+r*this.options.smartEasingAmount,this.duration=this.duration/2}else this.endVal=t,this.finalEndVal=null;this.finalEndVal!==null?this.useEasing=!1:this.useEasing=this.options.useEasing},e.prototype.start=function(t){this.error||(this.options.onStartCallback&&this.options.onStartCallback(),t&&(this.options.onCompleteCallback=t),this.duration>0?(this.determineDirectionAndSmartEasing(),this.paused=!1,this.rAF=requestAnimationFrame(this.count)):this.printValue(this.endVal))},e.prototype.pauseResume=function(){this.paused?(this.startTime=null,this.duration=this.remaining,this.startVal=this.frameVal,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count)):cancelAnimationFrame(this.rAF),this.paused=!this.paused},e.prototype.reset=function(){cancelAnimationFrame(this.rAF),this.paused=!0,this.resetDuration(),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.printValue(this.startVal)},e.prototype.update=function(t){cancelAnimationFrame(this.rAF),this.startTime=null,this.endVal=this.validateValue(t),this.endVal!==this.frameVal&&(this.startVal=this.frameVal,this.finalEndVal==null&&this.resetDuration(),this.finalEndVal=null,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count))},e.prototype.printValue=function(t){var n;if(this.el){var r=this.formattingFn(t);!((n=this.options.plugin)===null||n===void 0)&&n.render?this.options.plugin.render(this.el,r):this.el.tagName==="INPUT"?this.el.value=r:this.el.tagName==="text"||this.el.tagName==="tspan"?this.el.textContent=r:this.el.innerHTML=r}},e.prototype.ensureNumber=function(t){return typeof t=="number"&&!isNaN(t)},e.prototype.validateValue=function(t){var n=Number(t);return this.ensureNumber(n)?n:(this.error="[CountUp] invalid start or end value: ".concat(t),null)},e.prototype.resetDuration=function(){this.startTime=null,this.duration=1e3*Number(this.options.duration),this.remaining=this.duration},e}();const jde=Object.freeze(Object.defineProperty({__proto__:null,CountUp:Ode},Symbol.toStringTag,{value:"Module"})),Pde=uF(jde);var G3;function Vde(){if(G3)return Rh;G3=1,Object.defineProperty(Rh,"__esModule",{value:!0});var e=Jc(),t=Pde;function n(P,V){var C=P==null?null:typeof Symbol<"u"&&P[Symbol.iterator]||P["@@iterator"];if(C!=null){var N,U,L,q,H=[],D=!0,W=!1;try{if(L=(C=C.call(P)).next,V!==0)for(;!(D=(N=L.call(C)).done)&&(H.push(N.value),H.length!==V);D=!0);}catch(Q){W=!0,U=Q}finally{try{if(!D&&C.return!=null&&(q=C.return(),Object(q)!==q))return}finally{if(W)throw U}}return H}}function r(P,V){var C=Object.keys(P);if(Object.getOwnPropertySymbols){var N=Object.getOwnPropertySymbols(P);V&&(N=N.filter(function(U){return Object.getOwnPropertyDescriptor(P,U).enumerable})),C.push.apply(C,N)}return C}function i(P){for(var V=1;V<arguments.length;V++){var C=arguments[V]!=null?arguments[V]:{};V%2?r(Object(C),!0).forEach(function(N){s(P,N,C[N])}):Object.getOwnPropertyDescriptors?Object.defineProperties(P,Object.getOwnPropertyDescriptors(C)):r(Object(C)).forEach(function(N){Object.defineProperty(P,N,Object.getOwnPropertyDescriptor(C,N))})}return P}function s(P,V,C){return V=_(V),V in P?Object.defineProperty(P,V,{value:C,enumerable:!0,configurable:!0,writable:!0}):P[V]=C,P}function l(){return l=Object.assign?Object.assign.bind():function(P){for(var V=1;V<arguments.length;V++){var C=arguments[V];for(var N in C)Object.prototype.hasOwnProperty.call(C,N)&&(P[N]=C[N])}return P},l.apply(this,arguments)}function c(P,V){if(P==null)return{};var C={},N=Object.keys(P),U,L;for(L=0;L<N.length;L++)U=N[L],!(V.indexOf(U)>=0)&&(C[U]=P[U]);return C}function d(P,V){if(P==null)return{};var C=c(P,V),N,U;if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(P);for(U=0;U<L.length;U++)N=L[U],!(V.indexOf(N)>=0)&&Object.prototype.propertyIsEnumerable.call(P,N)&&(C[N]=P[N])}return C}function u(P,V){return p(P)||n(P,V)||h(P,V)||y()}function p(P){if(Array.isArray(P))return P}function h(P,V){if(P){if(typeof P=="string")return v(P,V);var C=Object.prototype.toString.call(P).slice(8,-1);if(C==="Object"&&P.constructor&&(C=P.constructor.name),C==="Map"||C==="Set")return Array.from(P);if(C==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(C))return v(P,V)}}function v(P,V){(V==null||V>P.length)&&(V=P.length);for(var C=0,N=new Array(V);C<V;C++)N[C]=P[C];return N}function y(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b(P,V){if(typeof P!="object"||P===null)return P;var C=P[Symbol.toPrimitive];if(C!==void 0){var N=C.call(P,V||"default");if(typeof N!="object")return N;throw new TypeError("@@toPrimitive must return a primitive value.")}return(V==="string"?String:Number)(P)}function _(P){var V=b(P,"string");return typeof V=="symbol"?V:String(V)}var w=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?e.useLayoutEffect:e.useEffect;function T(P){var V=e.useRef(P);return w(function(){V.current=P}),e.useCallback(function(){for(var C=arguments.length,N=new Array(C),U=0;U<C;U++)N[U]=arguments[U];return V.current.apply(void 0,N)},[])}var k=function(V,C){var N=C.decimal,U=C.decimals,L=C.duration,q=C.easingFn,H=C.end,D=C.formattingFn,W=C.numerals,Q=C.prefix,J=C.separator,B=C.start,G=C.suffix,ee=C.useEasing,ue=C.useGrouping,F=C.useIndianSeparators,ge=C.enableScrollSpy,se=C.scrollSpyDelay,Se=C.scrollSpyOnce,Me=C.plugin;return new t.CountUp(V,H,{startVal:B,duration:L,decimal:N,decimalPlaces:U,easingFn:q,formattingFn:D,numerals:W,separator:J,prefix:Q,suffix:G,plugin:Me,useEasing:ee,useIndianSeparators:F,useGrouping:ue,enableScrollSpy:ge,scrollSpyDelay:se,scrollSpyOnce:Se})},R=["ref","startOnMount","enableReinitialize","delay","onEnd","onStart","onPauseResume","onReset","onUpdate"],M={decimal:".",separator:",",delay:null,prefix:"",suffix:"",duration:2,start:0,decimals:0,startOnMount:!0,enableReinitialize:!0,useEasing:!0,useGrouping:!0,useIndianSeparators:!1},E=function(V){var C=Object.fromEntries(Object.entries(V).filter(function($e){var De=u($e,2),Ve=De[1];return Ve!==void 0})),N=e.useMemo(function(){return i(i({},M),C)},[V]),U=N.ref,L=N.startOnMount,q=N.enableReinitialize,H=N.delay,D=N.onEnd,W=N.onStart,Q=N.onPauseResume,J=N.onReset,B=N.onUpdate,G=d(N,R),ee=e.useRef(),ue=e.useRef(),F=e.useRef(!1),ge=T(function(){return k(typeof U=="string"?U:U.current,G)}),se=T(function($e){var De=ee.current;if(De&&!$e)return De;var Ve=ge();return ee.current=Ve,Ve}),Se=T(function(){var $e=function(){return se(!0).start(function(){D==null||D({pauseResume:Me,reset:Re,start:je,update:ve})})};H&&H>0?ue.current=setTimeout($e,H*1e3):$e(),W==null||W({pauseResume:Me,reset:Re,update:ve})}),Me=T(function(){se().pauseResume(),Q==null||Q({reset:Re,start:je,update:ve})}),Re=T(function(){se().el&&(ue.current&&clearTimeout(ue.current),se().reset(),J==null||J({pauseResume:Me,start:je,update:ve}))}),ve=T(function($e){se().update($e),B==null||B({pauseResume:Me,reset:Re,start:je})}),je=T(function(){Re(),Se()}),Ge=T(function($e){L&&($e&&Re(),Se())});return e.useEffect(function(){F.current?q&&Ge(!0):(F.current=!0,Ge())},[q,F,Ge,H,V.start,V.suffix,V.prefix,V.duration,V.separator,V.decimals,V.decimal,V.formattingFn]),e.useEffect(function(){return function(){Re()}},[Re]),{start:je,pauseResume:Me,reset:Re,update:ve,getCountUp:se}},O=["className","redraw","containerProps","children","style"],j=function(V){var C=V.className,N=V.redraw,U=V.containerProps,L=V.children,q=V.style,H=d(V,O),D=e.useRef(null),W=e.useRef(!1),Q=E(i(i({},H),{},{ref:D,startOnMount:typeof L!="function"||V.delay===0,enableReinitialize:!1})),J=Q.start,B=Q.reset,G=Q.update,ee=Q.pauseResume,ue=Q.getCountUp,F=T(function(){J()}),ge=T(function(Me){V.preserveValue||B(),G(Me)}),se=T(function(){if(typeof V.children=="function"&&!(D.current instanceof Element)){console.error(`Couldn't find attached element to hook the CountUp instance into! Try to attach "containerRef" from the render prop to a an Element, eg. <span ref={containerRef} />.`);return}ue()});e.useEffect(function(){se()},[se]),e.useEffect(function(){W.current&&ge(V.end)},[V.end,ge]);var Se=N&&V;return e.useEffect(function(){N&&W.current&&F()},[F,N,Se]),e.useEffect(function(){!N&&W.current&&F()},[F,N,V.start,V.suffix,V.prefix,V.duration,V.separator,V.decimals,V.decimal,V.className,V.formattingFn]),e.useEffect(function(){W.current=!0},[]),typeof L=="function"?L({countUpRef:D,start:J,reset:B,update:G,pauseResume:ee,getCountUp:ue}):e.createElement("span",l({className:C,ref:D,style:q},U),typeof V.start<"u"?ue().formattingFn(V.start):"")};return Rh.default=j,Rh.useCountUp=E,Rh}var Dde=Vde();const o2=Pr(Dde),a2=e=>x.useMemo(()=>{const t={};e.forEach(r=>{if(!r.language)return;(Array.isArray(r.language)?r.language:[r.language]).forEach(s=>{const l=s.toLowerCase();t[l]||(t[l]={name:s,count:0}),t[l].count=t[l].count+1})});const n=Object.values(t);return n.sort((r,i)=>i.count-r.count),n},[e]),Bde=ds()?0:20;function BN({onClose:e,closeText:t}){const{register:n}=dr({onBackspace:e}),[r,i]=xt(Jv),{data:s,isLoading:l}=bf(),c=a2(s),d=x.useMemo(()=>c.filter(({name:y,count:b})=>PN(y)&&b>=Bde),[c]),u=x.useMemo(()=>c.filter(({name:y})=>!d.find(b=>b.name===y)).reduce((y,{count:b})=>y+b,0),[c,d]),p=d.filter(({name:y})=>!(r!=null&&r.includes(y))).reduce((y,{count:b})=>y+b,0),h=y=>{r===null?i([y]):r.includes(y)?i(r.filter(b=>b!==y)):i([...r,y])};x.useEffect(()=>{if(r===null&&(navigator!=null&&navigator.languages)){const y=new Intl.DisplayNames(["en"],{type:"language"}),b=navigator==null?void 0:navigator.languages.map(w=>{var T;return(T=y.of(w))==null?void 0:T.toLowerCase()}).filter(Boolean),_=d.map(w=>w.name).filter(w=>!b.some(T=>T.includes(w.toLowerCase()))).filter(w=>w!=="English");_.length&&i(_)}},[r,d]);const v=x.useMemo(()=>d.every(y=>r==null?void 0:r.includes(y.name)),[r,d]);return x.useEffect(()=>{r!=null&&r.find(y=>!d.find(b=>b.name===y))&&i(r.filter(y=>d.find(b=>b.name===y)))},[d,r,i]),g.jsxs(Va,{children:[g.jsx("h1",{children:"Select Song Languages"}),g.jsxs(Fde,{children:[l&&new Array(6).fill(0).map((y,b)=>g.jsx(Ede,{variant:"rectangular",width:"100%",height:"10rem",children:g.jsx(Y3,{"data-excluded":!0,focused:!1,children:g.jsx(Pc,{language:["English"]})})},b)),d.map(({name:y,count:b})=>{const _=(r==null?void 0:r.includes(y))??!1;return g.jsxs(Y3,{"data-excluded":_,...n(`lang-${y}`,()=>h(y)),children:[g.jsx(Lde,{children:_?g.jsx(B0,{}):g.jsx(D0,{})}),g.jsxs("span",{children:[g.jsx(zde,{children:y})," (",b," songs)"]}),g.jsx($de,{"data-excluded":_,children:g.jsx(Pc,{language:[y]})})]},y)}),u>0&&g.jsxs(a_,{children:["and ",g.jsxs("strong",{children:[u," songs"]})," in other languages"]})]}),g.jsxs("h3",{children:["You can always update the selection in ",g.jsx("strong",{children:"Manage Songs"})," menu"]}),g.jsxs(Nde,{children:[g.jsx(vt,{...n("close-exclude-languages",e,void 0,!0,{disabled:v||l}),children:t}),g.jsxs(a_,{children:["The list will contain"," ",g.jsx("strong",{children:g.jsx(o2,{duration:1,preserveValue:!0,end:p+u})})," ","songs"]}),v&&g.jsxs(a_,{"data-test":"all-languages-excluded-warning",children:[g.jsx("strong",{children:g.jsx(Af,{})})," ","You excluded all the languages, pick at least one"]})]})]})}const Nde=K("div",{target:"e17pzmm6"})({name:"4zk4ri",styles:"display:flex;flex-direction:column;gap:1rem"}),a_=K("h4",{target:"e17pzmm5"})({name:"2qga7i",styles:"text-align:right"}),Lde=K("div",{target:"e17pzmm4"})({name:"18gxnlc",styles:"svg{width:3rem;height:3rem;}"}),Fde=K("div",{target:"e17pzmm3"})({name:"fvqkyn",styles:"margin-top:2rem;display:flex;flex-direction:column;gap:1rem"}),zde=K("span",{target:"e17pzmm2"})({name:"1jwmbuq",styles:"transition:300ms"}),$de=K("div",{target:"e17pzmm1"})({name:"5606u9",styles:"transition:300ms;opacity:0.95;&[data-excluded='true']{filter:grayscale(0.6);opacity:0.5;}position:absolute;bottom:0;right:0;img{width:14rem;height:8rem;object-fit:cover;}overflow:hidden;width:14rem;height:8rem"}),Y3=K(vt,{target:"e17pzmm0"})({name:"l4ecx7",styles:"&[data-excluded='true']{text-decoration:line-through white;opacity:0.5;&[data-focused='false']{background:rgba(0, 0, 0, 0.55);}}justify-content:flex-start;gap:2rem;font-size:2.5rem;padding-left:3rem;margin:0;height:8rem;position:relative;width:100%"}),Ude=ds()?0:30;function Hde({children:e,languageList:t,excludedLanguages:n,onListChange:r}){const[i,s]=x.useState(!1),l=()=>s(!1),c=t.filter(u=>u.count>Ude),d=u=>{const p=n.filter(h=>c.find(v=>v.name===h));p.length===0?r(t.filter(h=>h.name!==u).map(h=>h.name)):p.includes(u)?r(n.filter(h=>h!==u)):p.length===c.length-1?r([]):r([...n,u])};return g.jsxs(g.Fragment,{children:[i&&g.jsx(Vl,{onClose:l,children:g.jsxs(jt,{"data-test":"languages-container",spacing:"tight",children:[c.map(({name:u,count:p})=>{const h=n.length&&n.includes(u);return g.jsxs(jt.Button,{size:"small","data-inactive":h,"data-active":!!n.length&&!n.includes(u),onClick:()=>d(u),"data-test":u,className:"!justify-between pl-4",children:[g.jsxs("span",{children:[u," ",g.jsxs("small",{className:"text-sm pl-2",children:["(",p," songs)"]})]}),g.jsx(Pc,{language:[u],className:" h-full w-32 object-cover"})]},u)}),g.jsx(jt.Divider,{}),g.jsx(jt.Button,{size:"small",onClick:l,"data-test":"close-language-filter",children:"Close"})]})}),e({open:()=>s(!0)})]})}const qde=Bl("remote-mic-saved-songs"),NN=()=>{const[e,t]=qde([]),n=x.useCallback(r=>{e.includes(r)?(t(i=>i.filter(s=>s!==r)),An.sendMySongList({deleted:[r]})):(er.capture("remote-song-list-add",{songId:r}),t(i=>[...i,r]),An.sendMySongList({added:[r]}))},[e]);return{savedSongList:e,toggleSong:n}},Gde=(e,t,n)=>e>=t&&e<n;function LN(e){var M,E,O;const t=x.useRef(null),n=((M=t.current)==null?void 0:M.getBoundingClientRect().height)??global.innerHeight,r=x.useMemo(()=>{const j=[];return e.groupSizes.forEach((P,V)=>{var C,N;j.push({index:V,type:"group",bottom:(((C=j.at(-1))==null?void 0:C.bottom)??0)+e.groupHeaderHeight,groupIndex:V});for(let U=0;U<P;U++){const L=e.groupSizes.reduce((q,H,D)=>q+(D<V?H:0),0)+U;j.push({index:L,type:"item",bottom:(((N=j.at(-1))==null?void 0:N.bottom)??0)+e.itemHeight,groupIndex:V})}}),j},[e.itemHeight,e.groupHeaderHeight,e.groupSizes]),i=!r.some(j=>j.type==="item"),s=((E=r.at(-1))==null?void 0:E.bottom)??0,l=x.useCallback(j=>{const P=r.findIndex(C=>C.bottom>j-e.overScan),V=r.findIndex(C=>C.bottom>j+n+e.overScan);return[P,V===-1?r.length:V]},[r,n,e.overScan]),[[c,d],u]=x.useState(()=>l(0));x.useLayoutEffect(()=>{if(t.current){const j=()=>{var V;const P=l(((V=t.current)==null?void 0:V.scrollTop)??0);(c!==P[0]||d!==P[1])&&u(P)};return t.current.addEventListener("scroll",j),t.current.scrollTop>s&&t.current.scrollTo({top:0}),j(),()=>{var P;(P=t.current)==null||P.removeEventListener("scroll",j)}}},[c,d,l,s]);const p=x.useCallback((j,P)=>{var V,C;return(((V=r[P])==null?void 0:V.bottom)??0)-(((C=r[j])==null?void 0:C.bottom)??0)},[r]),h=x.useMemo(()=>p(-1,c-1),[c,p]),v=r.slice(0,c).findLastIndex(({type:j})=>j==="group"),y=r.slice(c,d),b=v!==-1?[[]]:[];for(let j=0;j<y.length;j++){const P=y[j];P.type==="group"&&b.push([]),(O=b.at(-1))==null||O.push(P)}x.useImperativeHandle(e.ref,()=>({getItemPositionY:j=>{var P;return(((P=r.find(V=>V.type==="item"&&V.index===j))==null?void 0:P.bottom)??-1)-e.itemHeight},scrollTo:j=>{var P;(P=t.current)==null||P.scrollTo({top:j})},scrollToIndex:async(j,P="auto",V="center")=>{var N,U;const C=r.find(L=>L.type==="item"&&L.index===j);if(C){const L=(e.itemHeight+(V==="center"?(N=t.current)==null?void 0:N.clientHeight:0))/2;(U=t.current)==null||U.scrollTo({top:C.bottom-L,behavior:P})}},scrollToGroup:async(j,P="auto",V="top")=>{var N;const C=r.find(U=>U.type==="group"&&U.index===j);C&&((N=t.current)==null||N.scrollTo({top:C.bottom-e.groupHeaderHeight,behavior:P}))}}));const{Header:_,EmptyPlaceholder:w}=e.components??{},T=e.Footer,k=r.findIndex(j=>j.type==="item"&&j.index===e.forceRenderItem),R=v!==-1?h-e.groupHeaderHeight:h;return g.jsxs(Kde,{ref:t,children:[g.jsxs(Yde,{style:{height:s},children:[_&&g.jsx(_,{context:e.context}),r[k]&&!Gde(k,c,d)&&g.jsx(g.Fragment,{children:e.itemContent(r[k].index,r[k].groupIndex,{style:{width:"100%",position:"absolute",top:r[k].bottom-e.itemHeight,left:0,boxSizing:"border-box"},"data-virtualized-bottom":r[k].bottom,"data-virtualized-index":r[k].index})}),g.jsx("div",{style:{transform:`translateY(${R}px)`},children:b.map((j,P)=>g.jsxs("div",{"data-virtualized-group":(j[0]??r[v]).groupIndex,children:[P===0&&v!==-1&&e.groupContent(r[v].index),j.map(({index:V,type:C,bottom:N,groupIndex:U})=>g.jsx(x.Fragment,{children:C==="group"?e.groupContent(V):e.itemContent(V,U,{"data-virtualized-bottom":N,"data-virtualized-index":V})},`${N}`))]},(j[0]??r[v]).groupIndex))})]}),i&&w&&g.jsx(w,{context:e.context}),T&&T]})}const Yde=K("div",{target:"e1c20jfn1"})({name:"100d0a9",styles:"box-sizing:border-box;position:relative"}),Kde=K("div",{target:"e1c20jfn0"})({name:"1wyitvb",styles:"overflow:auto;height:100%;width:100%"}),Wde=new Intl.Collator("en",{numeric:!0,sensitivity:"base"}).compare,Fx=1/0,l_=e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),K3="eexxaacctt",Qde="A-Z",Xde="a-z",Ih=(e,t,n)=>e.replace(Qde,t).replace(Xde,n),W3={unicode:!1,alpha:null,interSplit:"[^A-Za-z\\d']+",intraSplit:"[a-z][A-Z]",intraBound:"[A-Za-z]\\d|\\d[A-Za-z]|[a-z][A-Z]",interLft:0,interRgt:0,interChars:".",interIns:Fx,intraChars:"[a-z\\d']",intraIns:null,intraContr:"'[a-z]{1,2}\\b",intraMode:0,intraSlice:[1,Fx],intraSub:null,intraTrn:null,intraDel:null,intraFilt:(e,t,n)=>!0,sort:(e,t,n)=>{let{idx:r,chars:i,terms:s,interLft2:l,interLft1:c,start:d,intraIns:u,interIns:p}=e;return r.map((h,v)=>v).sort((h,v)=>i[v]-i[h]||u[h]-u[v]||s[v]+l[v]+.5*c[v]-(s[h]+l[h]+.5*c[h])||p[h]-p[v]||d[h]-d[v]||Wde(t[r[h]],t[r[v]]))}},c_=(e,t)=>t==0?"":t==1?e+"??":t==Fx?e+"*?":e+`{0,${t}}?`,Q3="(?:\\b|_)";function qy(e){e=Object.assign({},W3,e);let{unicode:t,interLft:n,interRgt:r,intraMode:i,intraSlice:s,intraIns:l,intraSub:c,intraTrn:d,intraDel:u,intraContr:p,intraSplit:h,interSplit:v,intraBound:y,intraChars:b}=e;l??(l=i),c??(c=i),d??(d=i),u??(u=i);let _=e.letters??e.alpha;if(_!=null){let G=_.toLocaleUpperCase(),ee=_.toLocaleLowerCase();v=Ih(v,G,ee),h=Ih(h,G,ee),y=Ih(y,G,ee),b=Ih(b,G,ee),p=Ih(p,G,ee)}let w=t?"u":"";const T='".+?"',k=new RegExp(T,"gi"+w),R=new RegExp(`(?:\\s+|^)-(?:${b}+|${T})`,"gi"+w);let{intraRules:M}=e;M==null&&(M=G=>{let ee=W3.intraSlice,ue=0,F=0,ge=0,se=0;if(/[^\d]/.test(G)){let Se=G.length;Se<=4?Se>=3&&(ge=Math.min(d,1),Se==4&&(ue=Math.min(l,1))):(ee=s,ue=l,F=c,ge=d,se=u)}return{intraSlice:ee,intraIns:ue,intraSub:F,intraTrn:ge,intraDel:se}});let E=!!h,O=new RegExp(h,"g"+w),j=new RegExp(v,"g"+w),P=new RegExp("^"+v+"|"+v+"$","g"+w),V=new RegExp(p,"gi"+w);const C=G=>{let ee=[];G=G.replace(k,F=>(ee.push(F),K3)),G=G.replace(P,"").toLocaleLowerCase(),E&&(G=G.replace(O,F=>F[0]+" "+F[1]));let ue=0;return G.split(j).filter(F=>F!="").map(F=>F===K3?ee[ue++]:F)},N=/[^\d]+|\d+/g,U=(G,ee=0,ue=!1)=>{let F=C(G);if(F.length==0)return[];let ge=Array(F.length).fill("");F=F.map((ve,je)=>ve.replace(V,Ge=>(ge[je]=Ge,"")));let se;if(i==1)se=F.map((ve,je)=>{if(ve[0]==='"')return l_(ve.slice(1,-1));let Ge="";for(let $e of ve.matchAll(N)){let De=$e[0],{intraSlice:Ve,intraIns:ot,intraSub:ft,intraTrn:Be,intraDel:ut}=M(De);if(ot+ft+Be+ut==0)Ge+=De+ge[je];else{let[en,pn]=Ve,sn=De.slice(0,en),qe=De.slice(pn),pt=De.slice(en,pn);ot==1&&sn.length==1&&sn!=pt[0]&&(sn+="(?!"+sn+")");let un=pt.length,on=[De];if(ft)for(let yt=0;yt<un;yt++)on.push(sn+pt.slice(0,yt)+b+pt.slice(yt+1)+qe);if(Be)for(let yt=0;yt<un-1;yt++)pt[yt]!=pt[yt+1]&&on.push(sn+pt.slice(0,yt)+pt[yt+1]+pt[yt]+pt.slice(yt+2)+qe);if(ut)for(let yt=0;yt<un;yt++)on.push(sn+pt.slice(0,yt+1)+"?"+pt.slice(yt+1)+qe);if(ot){let yt=c_(b,1);for(let lt=0;lt<un;lt++)on.push(sn+pt.slice(0,lt)+yt+pt.slice(lt)+qe)}Ge+="(?:"+on.join("|")+")"+ge[je]}}return Ge});else{let ve=c_(b,l);ee==2&&l>0&&(ve=")("+ve+")("),se=F.map((je,Ge)=>je[0]==='"'?l_(je.slice(1,-1)):je.split("").map(($e,De,Ve)=>(l==1&&De==0&&Ve.length>1&&$e!=Ve[De+1]&&($e+="(?!"+$e+")"),$e)).join(ve)+ge[Ge])}let Se=n==2?Q3:"",Me=r==2?Q3:"",Re=Me+c_(e.interChars,e.interIns)+Se;return ee>0?ue?se=Se+"("+se.join(")"+Me+"|"+Se+"(")+")"+Me:(se="("+se.join(")("+Re+")(")+")",se="(.??"+Se+")"+se+"("+Me+".*)"):(se=se.join(Re),se=Se+se+Me),[new RegExp(se,"i"+w),F,ge]},L=(G,ee,ue)=>{let[F]=U(ee);if(F==null)return null;let ge=[];if(ue!=null)for(let se=0;se<ue.length;se++){let Se=ue[se];F.test(G[Se])&&ge.push(Se)}else for(let se=0;se<G.length;se++)F.test(G[se])&&ge.push(se);return ge};let q=!!y,H=new RegExp(v,w),D=new RegExp(y,w);const W=(G,ee,ue)=>{let[F,ge,se]=U(ue,1),[Se]=U(ue,2),Me=ge.length,Re=G.length,ve=Array(Re).fill(0),je={idx:Array(Re),start:ve.slice(),chars:ve.slice(),terms:ve.slice(),interIns:ve.slice(),intraIns:ve.slice(),interLft2:ve.slice(),interRgt2:ve.slice(),interLft1:ve.slice(),interRgt1:ve.slice(),ranges:Array(Re)},Ge=n==1||r==1,$e=0;for(let De=0;De<G.length;De++){let Ve=ee[G[De]],ot=Ve.match(F),ft=ot.index+ot[1].length,Be=ft,ut=!1,en=0,pn=0,sn=0,qe=0,pt=0,un=0,on=0,yt=0,lt=[];for(let rt=0,Ct=2;rt<Me;rt++,Ct+=2){let Nn=ot[Ct].toLocaleLowerCase(),Ut=ge[rt],bt=Ut[0]=='"'?Ut.slice(1,-1):Ut+se[rt],Nt=bt.length,Ln=Nn.length,Jt=Nn==bt;if(!Jt&&ot[Ct+1].length>=Nt){let mt=ot[Ct+1].toLocaleLowerCase().indexOf(bt);mt>-1&&(lt.push(Be,Ln,mt,Nt),Be+=Q(ot,Ct,mt,Nt),Nn=bt,Ln=Nt,Jt=!0,rt==0&&(ft=Be))}if(Ge||Jt){let mt=Be-1,fr=Be+Ln,Vr=!1,Gn=!1;if(mt==-1||H.test(Ve[mt]))Jt&&en++,Vr=!0;else{if(n==2){ut=!0;break}if(q&&D.test(Ve[mt]+Ve[mt+1]))Jt&&pn++,Vr=!0;else if(n==1){let qr=ot[Ct+1],Dr=Be+Ln;if(qr.length>=Nt){let Lt=0,Tn=!1,Xe=new RegExp(bt,"ig"+w),kt;for(;kt=Xe.exec(qr);){Lt=kt.index;let hr=Dr+Lt,ai=hr-1;if(ai==-1||H.test(Ve[ai])){en++,Tn=!0;break}else if(D.test(Ve[ai]+Ve[hr])){pn++,Tn=!0;break}}Tn&&(Vr=!0,lt.push(Be,Ln,Lt,Nt),Be+=Q(ot,Ct,Lt,Nt),Nn=bt,Ln=Nt,Jt=!0,rt==0&&(ft=Be))}if(!Vr){ut=!0;break}}}if(fr==Ve.length||H.test(Ve[fr]))Jt&&sn++,Gn=!0;else{if(r==2){ut=!0;break}if(q&&D.test(Ve[fr-1]+Ve[fr]))Jt&&qe++,Gn=!0;else if(r==1){ut=!0;break}}Jt&&(pt+=Nt,Vr&&Gn&&un++)}if(Ln>Nt&&(yt+=Ln-Nt),rt>0&&(on+=ot[Ct-1].length),!e.intraFilt(bt,Nn,Be)){ut=!0;break}rt<Me-1&&(Be+=Ln+ot[Ct+1].length)}if(!ut){je.idx[$e]=G[De],je.interLft2[$e]=en,je.interLft1[$e]=pn,je.interRgt2[$e]=sn,je.interRgt1[$e]=qe,je.chars[$e]=pt,je.terms[$e]=un,je.interIns[$e]=on,je.intraIns[$e]=yt,je.start[$e]=ft;let rt=Ve.match(Se),Ct=rt.index+rt[1].length,Nn=lt.length,Ut=Nn>0?0:1/0,bt=Nn-4;for(let mt=2;mt<rt.length;){let fr=rt[mt].length;if(Ut<=bt&&lt[Ut]==Ct){let Vr=lt[Ut+1],Gn=lt[Ut+2],qr=lt[Ut+3],Dr=mt,Lt="";for(let Tn=0;Tn<Vr;Dr++)Lt+=rt[Dr],Tn+=rt[Dr].length;rt.splice(mt,Dr-mt,Lt),Ct+=Q(rt,mt,Gn,qr),Ut+=4}else Ct+=fr,mt++}Ct=rt.index+rt[1].length;let Nt=je.ranges[$e]=[],Ln=Ct,Jt=Ct;for(let mt=2;mt<rt.length;mt++){let fr=rt[mt].length;Ct+=fr,mt%2==0?Jt=Ct:fr>0&&(Nt.push(Ln,Jt),Ln=Jt=Ct)}Jt>Ln&&Nt.push(Ln,Jt),$e++}}if($e<G.length)for(let De in je)je[De]=je[De].slice(0,$e);return je},Q=(G,ee,ue,F)=>{let ge=G[ee]+G[ee+1].slice(0,ue);return G[ee-1]+=ge,G[ee]=G[ee+1].slice(ue,ue+F),G[ee+1]=G[ee+1].slice(ue+F),ge.length},J=5,B=(G,ee,ue,F=1e3,ge)=>{ue=ue?ue===!0?J:ue:0;let se=null,Se=null,Me=[];ee=ee.replace(R,De=>{let Ve=De.trim().slice(1);return Ve[0]==='"'&&(Ve=l_(Ve.slice(1,-1))),Me.push(Ve),""});let Re=C(ee),ve;if(Me.length>0){if(ve=new RegExp(Me.join("|"),"i"+w),Re.length==0){let De=[];for(let Ve=0;Ve<G.length;Ve++)ve.test(G[Ve])||De.push(Ve);return[De,null,null]}}else if(Re.length==0)return[null,null,null];if(ue>0){let De=C(ee);if(De.length>1){let Ve=De.slice().sort((ft,Be)=>Be.length-ft.length);for(let ft=0;ft<Ve.length;ft++){if((ge==null?void 0:ge.length)==0)return[[],null,null];ge=L(G,Ve[ft],ge)}if(De.length>ue)return[ge,null,null];se=FN(De).map(ft=>ft.join(" ")),Se=[];let ot=new Set;for(let ft=0;ft<se.length;ft++)if(ot.size<ge.length){let Be=ge.filter(en=>!ot.has(en)),ut=L(G,se[ft],Be);for(let en=0;en<ut.length;en++)ot.add(ut[en]);Se.push(ut)}else Se.push([])}}se==null&&(se=[ee],Se=[(ge==null?void 0:ge.length)>0?ge:L(G,ee)]);let je=null,Ge=null;if(Me.length>0&&(Se=Se.map(De=>De.filter(Ve=>!ve.test(G[Ve])))),Se.reduce((De,Ve)=>De+Ve.length,0)<=F){je={},Ge=[];for(let De=0;De<Se.length;De++){let Ve=Se[De];if(Ve==null||Ve.length==0)continue;let ot=se[De],ft=W(Ve,G,ot),Be=e.sort(ft,G,ot);if(De>0)for(let ut=0;ut<Be.length;ut++)Be[ut]+=Ge.length;for(let ut in ft)je[ut]=(je[ut]??[]).concat(ft[ut]);Ge=Ge.concat(Be)}}return[[].concat(...Se),je,Ge]};return{search:(...G)=>B(...G),split:C,filter:L,info:W,sort:e.sort}}const Jde=(()=>{let e={A:"",a:"",E:"",e:"",I:"",i:"",O:"",o:"",U:"",u:"",C:"",c:"",L:"",l:"",N:"",n:"",S:"",s:"",Z:"",z:""},t=new Map,n="";for(let s in e)e[s].split("").forEach(l=>{n+=l,t.set(l,s)});let r=new RegExp(`[${n}]`,"g"),i=s=>t.get(s);return s=>{if(typeof s=="string")return s.replace(r,i);let l=Array(s.length);for(let c=0;c<s.length;c++)l[c]=s[c].replace(r,i);return l}})();function FN(e){e=e.slice();let t=e.length,n=[e.slice()],r=new Array(t).fill(0),i=1,s,l;for(;i<t;)r[i]<i?(s=i%2&&r[i],l=e[i],e[i]=e[s],e[s]=l,++r[i],i=1,n.push(e.slice())):(r[i]=0,++i);return n}const Zde=(e,t)=>t?`<mark>${e}</mark>`:e,efe=(e,t)=>e+t;function tfe(e,t,n=Zde,r="",i=efe){r=i(r,n(e.substring(0,t[0]),!1))??r;for(let s=0;s<t.length;s+=2){let l=t[s],c=t[s+1];r=i(r,n(e.substring(l,c),!0))??r,s<t.length-3&&(r=i(r,n(e.substring(t[s+1],t[s+2]),!1))??r)}return r=i(r,n(e.substring(t[t.length-1]),!1))??r,r}qy.latinize=Jde;qy.permute=e=>FN([...Array(e.length).keys()]).sort((n,r)=>{for(let i=0;i<n.length;i++)if(n[i]!=r[i])return n[i]-r[i];return 0}).map(n=>n.map(r=>e[r]));qy.highlight=tfe;const nfe=lo().subtract(31,"days");function l2(e){return!!e.lastUpdate&&lo(e.lastUpdate).isAfter(nfe)}function Lv(e){return e&&e.length?jN(e):[]}class rfe extends Ys{constructor(){super(),this.lists={},this.updateList=(t,n)=>{this.lists[t]||(this.lists[t]=[]),n.added&&(this.lists[t]=Lv(this.lists[t].concat(n.added))),n.deleted&&(this.lists[t]=this.lists[t].filter(r=>{var i;return!((i=n.deleted)!=null&&i.includes(r))})),this.onUpdate(this.getSongList())},this.getSongList=()=>Lv(Object.values(this.lists).flat()),me.remoteMicSongListUpdated.subscribe(this.updateList),me.remoteMicDisconnected.subscribe(t=>{delete this.lists[t.id],this.onUpdate(this.getSongList())})}}const u_=new rfe;function ife(){const[e,t]=x.useState(()=>u_.getSongList());return x.useEffect(()=>(u_.addListener(t),()=>{u_.removeListener(t)}),[]),e}const sfe=(e,t,n)=>{const r=a2(e),i=ife(),{connected:s}=ZD();return x.useMemo(()=>n?[]:[{name:"Selection",Wrapper:({children:u,active:p,focused:h})=>g.jsx(jae,{...p&&h?{open:!0}:{},oneTime:!1,timeoutMs:15e3,dismissKey:"selection-playlist",place:"right",title:g.jsxs(g.Fragment,{children:["A combination of songs you might like and popular with other players.",g.jsx("br",{}),g.jsx("br",{})," ",g.jsx("strong",{children:"Search"})," is performed across all the songs."]}),children:u}),display:g.jsxs("span",{children:[g.jsx("strong",{children:""}),"Selection",g.jsx("strong",{children:""})]}),filters:{specificSongs:t}},{name:"All",filters:{}},null,r[0]?{name:r[0].name,filters:{language:r[0].name}}:null,r[1]?{name:r[1].name,filters:{language:r[1].name}}:null,{name:"Duets",filters:{duet:!0}},{name:"New",filters:{recentlyUpdated:!0}},s.length>0?{name:"remote-mics",display:g.jsx(g.Fragment,{children:"From Phones"}),filters:{specificSongs:i,skipExcludedLanguages:!0},footerComponent:g.jsx("div",{className:"flex justify-center",children:g.jsxs(ps,{className:"text-xl",children:["Add songs on your ",g.jsx("strong",{children:"phone"})," using"," ",g.jsxs("strong",{children:[g.jsx(_N,{className:"!text-[1em]"})," Song List"]})," ","tab on the bottom of the screen"]})})}:null].filter(u=>u!==null),[r,n,t,i,s.length])},X3=e=>Ud((e==null?void 0:e.search)??"").length>2,J3={},ofe=/[^0-9a-z ]/gi,d_=e=>Lw(e).toLowerCase().replace(ofe,"");function zx(e,t){const n=Ud(t);if(n.length>0){const r=new qy({}),[,i,s]=r.search(e.map(l=>`${d_(l.artist)} ${d_(l.title)}`),d_(t));return s&&i?s.map(l=>e[i.idx[l]]):e.filter(l=>l.search.includes(n))}return e}const Z3={language:(e,t)=>t===""?e:e.filter(n=>n.language.includes(t)),excludeLanguages:(e,t=[],n={})=>t.length===0||X3(n)||n.skipExcludedLanguages?e:e.filter(r=>!r.language.every(i=>t.includes(i))),search:(e,t)=>zx(e,t),duet:(e,t)=>t===null?e:e.filter(n=>t?n.tracksCount>1:n.tracksCount===1),yearBefore:(e,t)=>t?e.filter(n=>Number(n.year)<t):e,yearAfter:(e,t)=>t?e.filter(n=>Number(n.year)>=t):e,edition:(e,t)=>Ud(t).length?e.filter(r=>Ud(r.edition??"").includes(t)):e,recentlyUpdated:e=>e.filter(l2),specificSongs:(e,t,n)=>X3(n)?e:e.filter(r=>t.includes(r.id)),additionalSongs:(e,t,n,r)=>{const i=r.filter(s=>t.includes(s.id));return[...e,...i.filter(s=>!e.includes(s))]},skipExcludedLanguages:e=>e},eO=(e,t)=>Object.entries(t).filter(n=>n[0]in Z3).reduce((n,[r,i])=>Z3[r](n,i,t,e),e),afe=(e,t,n,r)=>{var w;const[i]=xt(Jv),s=x.useMemo(()=>eO(e,{excludeLanguages:i??[]}),[e,i]),l=sfe(s,t,n),[c,d]=x.useState(new URLSearchParams((w=global.location)==null?void 0:w.search).get("playlist")??null),u=T=>{var R;const k=new URL((R=global.location)==null?void 0:R.href);k.searchParams.set("playlist",T),global.history.replaceState(null,"",k.toString()),d(T)},p=l.find(T=>T.name===c)??l[0],[h,v]=x.useState(()=>J3);x.useEffect(()=>{v(J3)},[c]);const y=x.useDeferredValue(h),b=!!y.search,_=x.useMemo(()=>eO(e,{...(p==null?void 0:p.filters)??{},...y,excludeLanguages:i??[],additionalSongs:r?[r]:[]}),[e,y,i,p,r,b]);return{filters:h,filteredList:_,setFilters:v,selectedPlaylist:c,setSelectedPlaylist:u,playlists:l,playlist:p}},lfe=Bl("remote-mic-excluded-languages"),cfe=Bl("remote-mic-selected-song-list"),ufe=Bl("remote-mic-song-list-search");function dfe({roomId:e,monitoringStarted:t,setMonitoringStarted:n,isKeepAwakeOn:r,setIsKeepAwakeOn:i,connectionError:s,connectionStatus:l}){const[c]=qs(me.remoteKeyboardLayout,!0)??[],d=Hy(),u=bf(),[p,h]=x.useState();x.useEffect(()=>{l==="connected"&&p===void 0&&An.getSongList().then(h).catch(console.warn)},[p,l]);const v=x.useMemo(()=>cde(u.data.map(C=>({...C,id:fs.generateSongFile(C)})).filter(C=>!((p==null?void 0:p.deleted)??[]).includes(C.id)).map(C=>({id:C.id,artist:C.artist,title:C.title,video:C.video,language:C.language,search:C.search})).concat(...((p==null?void 0:p.custom)??[]).map(C=>({...C,id:fs.generateSongFile(C)}))),C=>C.id),[u.data,p]),y=a2(v),[b,_]=ufe(""),[w,T]=lfe([]),{savedSongList:k,toggleSong:R}=NN(),[M,E]=cfe("list"),O=VN(),j=C=>{E(C),_("")},P=x.useMemo(()=>{if(M==="list"){const C=zx(v,b);return C.length!==v.length?C:v.filter(N=>!N.language.every(U=>w.includes(U)))}else{const C=k.map(N=>v.find(U=>U.id===N)).filter(Boolean);return zx(C,b)}},[b,v,M,k,w]),V=y.length-w.length;return g.jsxs(ffe,{children:[g.jsxs(hfe,{children:[g.jsx(uu,{focused:!1,label:g.jsx(JE,{}),placeholder:"Search for a song",value:b,onChange:C=>_(C),"data-test":"search-input"}),g.jsxs(pfe,{children:[g.jsx(f_,{"data-test":"all-songs-button","data-active":M==="list",onClick:()=>j("list"),children:"All songs"}),g.jsxs(f_,{"data-test":"your-list-button","data-active":M==="queue",onClick:()=>j("queue"),children:["Your list (",k.length,")"]}),g.jsx(Hde,{excludedLanguages:w,languageList:y,onListChange:T,children:({open:C})=>g.jsxs(f_,{className:"!flex-grow-[0.3]",onClick:C,"data-test":"song-language-filter","data-active":w.length>0&&M==="list"?!0:void 0,children:["",V<y.length&&g.jsx(r2,{children:V})]})})]})]}),g.jsx(LN,{forceRenderItem:-1,overScan:100,components:{},context:{},groupSizes:[P.length],groupHeaderHeight:1,groupContent:()=>null,itemHeight:O*7+1,itemContent:(C,N,U)=>{var H;const L=P[C],q=k.includes(L.id);return g.jsxs(gfe,{className:q?"!bg-black !bg-opacity-35":"","data-test":L.id,...U,children:[g.jsx(mfe,{children:g.jsx(Pc,{language:L.language})}),g.jsxs(vfe,{children:[g.jsx(Afe,{children:L.title}),g.jsx(yfe,{children:L.artist})]}),g.jsxs(bfe,{children:[((H=c==null?void 0:c.remote)==null?void 0:H.includes("select-song"))&&d==="write"&&g.jsx(tO,{onClick:D=>{D.stopPropagation(),An.selectSong(L.id)},"data-test":"select-song-button",children:"SELECT"}),q?g.jsx(tO,{"data-test":"remove-song-button",onClick:D=>{D.stopPropagation(),R(L.id)},children:"-"}):g.jsx(zN,{"data-test":"add-song-button",onClick:D=>{D.stopPropagation(),R(L.id)},children:"+"})]})]})}})]})}const ffe=K("div",{target:"emsrjbt9"})({name:"lrzqpm",styles:"display:flex;flex-direction:column;position:relative;flex:1 1 auto;min-height:calc(100vh - 6rem);max-height:calc(100vh - 6rem)"}),hfe=K("div",{target:"emsrjbt8"})(Ot,";font-size:2.5rem;display:flex;flex-direction:column;"),pfe=K("div",{target:"emsrjbt7"})({name:"7whenc",styles:"display:flex;width:100%"}),f_=K("button",{target:"emsrjbt6"})("border:none;flex:1;display:flex;align-items:center;justify-content:center;min-width:4rem;height:4rem;background:rgba(0, 0, 0, 0.75);",Ot,";font-size:2rem;position:relative;transition:300ms;&[data-active='true']{background:",Ue.colors.text.active,";}&[data-active='false']{box-shadow:inset 0px 0px 0px 2px orange;}"),gfe=K("div",{target:"emsrjbt5"})({name:"16qu2op",styles:"background:rgba(0, 0, 0, 0.15);display:flex;align-items:center;height:7rem;padding:0 1rem;gap:1rem;border-bottom:1px solid black;overflow:hidden;position:relative;transition:100ms"}),mfe=K("div",{target:"emsrjbt4"})({name:"1xmi6sr",styles:"img{height:3rem;width:3rem;object-fit:cover;border-radius:3rem;border:0.1rem black solid;aspect-ratio:1;}"}),vfe=K("div",{target:"emsrjbt3"})({name:"tpuoeb",styles:"display:flex;flex-direction:column;justify-content:space-between;gap:1rem"}),yfe=K("span",{target:"emsrjbt2"})("color:",Ue.colors.text.default,";font-size:1.25rem;white-space:nowrap;"),Afe=K("span",{target:"emsrjbt1"})("color:",Ue.colors.text.active,";font-size:1.5rem;white-space:nowrap;"),bfe=K("div",{target:"emsrjbt0"})({name:"1m2flic",styles:"position:absolute;top:0;right:0;display:flex;height:7rem;align-items:center;justify-content:center;gap:1rem;padding-right:1rem"}),zN=En.button`transition-all duration-300 active:text-text-default active:bg-active typography p-[1rem] min-w-[4rem] h-[4rem] rounded-full text-center bg-black text-[1.5rem] border-none cursor-pointer transition-[300ms]`,tO=En(zN)`text-active`,_fe=e=>{const{savedSongList:t}=NN();x.useEffect(()=>{e&&An.sendMySongList({added:t})},[e])},h_=new fre;function Sfe(){const e=My("room"),[t]=qs(me.remoteStyleChanged,!0)??["regular"];x.useLayoutEffect(()=>{KP(t)},[t]),Pl(!0,t);const[n,r]=x.useState("microphone"),[i,s]=qs(me.karaokeConnectionStatusChange)??["uninitialised"],[l,c]=x.useState(!1);pi(me.micMonitoringStarted,()=>c(!0)),pi(me.micMonitoringStopped,()=>c(!1)),_fe(i==="connected");const[d,u]=x.useState(!1),p=async v=>{try{v&&!h_.isEnabled?await h_.enable():!v&&h_.isEnabled,u(v)}catch(y){console.warn("Couldn't set wakelock",y)}},h=()=>{p(!0)};return g.jsxs(Dl,{children:[g.jsx(Wce,{onConfirm:h}),g.jsx(wre,{size:10}),g.jsx(xfe,{id:"phone-ui-container",className:"pb-24 landscap:pb-0",children:g.jsxs(g.Fragment,{children:[n==="microphone"&&g.jsx(Hce,{roomId:e,monitoringStarted:l,setMonitoringStarted:c,connectionStatus:i,setIsKeepAwakeOn:u,isKeepAwakeOn:d,connectionError:s}),n==="song-list"&&g.jsx(dfe,{roomId:e,monitoringStarted:l,setMonitoringStarted:c,connectionStatus:i,setIsKeepAwakeOn:u,isKeepAwakeOn:d,connectionError:s}),n==="settings"&&g.jsx(aue,{roomId:e,monitoringStarted:l,setMonitoringStarted:c,connectionStatus:i,setIsKeepAwakeOn:u,isKeepAwakeOn:d,connectionError:s}),g.jsx(Nle,{setActiveTab:r,active:n})]})})]})}const xfe=K("div",{target:"e1ky75ep0"})({name:"1tjfysn",styles:"margin:0 auto;width:100%;max-width:400px;box-sizing:border-box;min-height:100vh;max-height:100vh;background:rgba(0, 0, 0, 0.5);display:flex;flex-direction:column;@media (max-height: 500px) and (min-aspect-ratio: 16/10){max-width:960px;}"});function Nl(e){x.useEffect(()=>{e?k0.playing()||k0.play(!1):k0.stop()},[e])}var p_,nO;function wfe(){if(nO)return p_;nO=1;function e(c){return c&&typeof c=="object"&&"default"in c?c.default:c}var t=Jc(),n=e(t);function r(c,d,u){return d in c?Object.defineProperty(c,d,{value:u,enumerable:!0,configurable:!0,writable:!0}):c[d]=u,c}function i(c,d){c.prototype=Object.create(d.prototype),c.prototype.constructor=c,c.__proto__=d}var s=!!(typeof window<"u"&&window.document&&window.document.createElement);function l(c,d,u){if(typeof c!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof d!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof u<"u"&&typeof u!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function p(h){return h.displayName||h.name||"Component"}return function(v){if(typeof v!="function")throw new Error("Expected WrappedComponent to be a React component.");var y=[],b;function _(){b=c(y.map(function(T){return T.props})),w.canUseDOM?d(b):u&&(b=u(b))}var w=function(T){i(k,T);function k(){return T.apply(this,arguments)||this}k.peek=function(){return b},k.rewind=function(){if(k.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var E=b;return b=void 0,y=[],E};var R=k.prototype;return R.UNSAFE_componentWillMount=function(){y.push(this),_()},R.componentDidUpdate=function(){_()},R.componentWillUnmount=function(){var E=y.indexOf(this);y.splice(E,1),_()},R.render=function(){return n.createElement(v,this.props)},k}(t.PureComponent);return r(w,"displayName","SideEffect("+p(v)+")"),r(w,"canUseDOM",s),w}}return p_=l,p_}var Efe=wfe();const Tfe=Pr(Efe);var g_,rO;function Cfe(){if(rO)return g_;rO=1;var e=typeof Element<"u",t=typeof Map=="function",n=typeof Set=="function",r=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function i(s,l){if(s===l)return!0;if(s&&l&&typeof s=="object"&&typeof l=="object"){if(s.constructor!==l.constructor)return!1;var c,d,u;if(Array.isArray(s)){if(c=s.length,c!=l.length)return!1;for(d=c;d--!==0;)if(!i(s[d],l[d]))return!1;return!0}var p;if(t&&s instanceof Map&&l instanceof Map){if(s.size!==l.size)return!1;for(p=s.entries();!(d=p.next()).done;)if(!l.has(d.value[0]))return!1;for(p=s.entries();!(d=p.next()).done;)if(!i(d.value[1],l.get(d.value[0])))return!1;return!0}if(n&&s instanceof Set&&l instanceof Set){if(s.size!==l.size)return!1;for(p=s.entries();!(d=p.next()).done;)if(!l.has(d.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(s)&&ArrayBuffer.isView(l)){if(c=s.length,c!=l.length)return!1;for(d=c;d--!==0;)if(s[d]!==l[d])return!1;return!0}if(s.constructor===RegExp)return s.source===l.source&&s.flags===l.flags;if(s.valueOf!==Object.prototype.valueOf&&typeof s.valueOf=="function"&&typeof l.valueOf=="function")return s.valueOf()===l.valueOf();if(s.toString!==Object.prototype.toString&&typeof s.toString=="function"&&typeof l.toString=="function")return s.toString()===l.toString();if(u=Object.keys(s),c=u.length,c!==Object.keys(l).length)return!1;for(d=c;d--!==0;)if(!Object.prototype.hasOwnProperty.call(l,u[d]))return!1;if(e&&s instanceof Element)return!1;for(d=c;d--!==0;)if(!((u[d]==="_owner"||u[d]==="__v"||u[d]==="__o")&&s.$$typeof)&&!i(s[u[d]],l[u[d]]))return!1;return!0}return s!==s&&l!==l}return g_=function(l,c){try{return i(l,c)}catch(d){if((d.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw d}},g_}var kfe=Cfe();const Mfe=Pr(kfe);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var m_,iO;function Rfe(){if(iO)return m_;iO=1;var e=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;function r(s){if(s==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(s)}function i(){try{if(!Object.assign)return!1;var s=new String("abc");if(s[5]="de",Object.getOwnPropertyNames(s)[0]==="5")return!1;for(var l={},c=0;c<10;c++)l["_"+String.fromCharCode(c)]=c;var d=Object.getOwnPropertyNames(l).map(function(p){return l[p]});if(d.join("")!=="0123456789")return!1;var u={};return"abcdefghijklmnopqrst".split("").forEach(function(p){u[p]=p}),Object.keys(Object.assign({},u)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return m_=i()?Object.assign:function(s,l){for(var c,d=r(s),u,p=1;p<arguments.length;p++){c=Object(arguments[p]);for(var h in c)t.call(c,h)&&(d[h]=c[h]);if(e){u=e(c);for(var v=0;v<u.length;v++)n.call(c,u[v])&&(d[u[v]]=c[u[v]])}}return d},m_}var Ife=Rfe();const Ofe=Pr(Ife);var Vc={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},St={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(St).map(function(e){return St[e]});var Un={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},Fv={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},Pp={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},jfe=Object.keys(Fv).reduce(function(e,t){return e[Fv[t]]=t,e},{}),Pfe=[St.NOSCRIPT,St.SCRIPT,St.STYLE],co="data-react-helmet",Vfe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dfe=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},Bfe=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Bi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nfe=function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},sO=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},Lfe=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e},$x=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},Ffe=function(t){var n=Od(t,St.TITLE),r=Od(t,Pp.TITLE_TEMPLATE);if(r&&n)return r.replace(/%s/g,function(){return Array.isArray(n)?n.join(""):n});var i=Od(t,Pp.DEFAULT_TITLE);return n||i||void 0},zfe=function(t){return Od(t,Pp.ON_CHANGE_CLIENT_STATE)||function(){}},v_=function(t,n){return n.filter(function(r){return typeof r[t]<"u"}).map(function(r){return r[t]}).reduce(function(r,i){return Bi({},r,i)},{})},$fe=function(t,n){return n.filter(function(r){return typeof r[St.BASE]<"u"}).map(function(r){return r[St.BASE]}).reverse().reduce(function(r,i){if(!r.length)for(var s=Object.keys(i),l=0;l<s.length;l++){var c=s[l],d=c.toLowerCase();if(t.indexOf(d)!==-1&&i[d])return r.concat(i)}return r},[])},Oh=function(t,n,r){var i={};return r.filter(function(s){return Array.isArray(s[t])?!0:(typeof s[t]<"u"&&Gfe("Helmet: "+t+' should be of type "Array". Instead found type "'+Vfe(s[t])+'"'),!1)}).map(function(s){return s[t]}).reverse().reduce(function(s,l){var c={};l.filter(function(v){for(var y=void 0,b=Object.keys(v),_=0;_<b.length;_++){var w=b[_],T=w.toLowerCase();n.indexOf(T)!==-1&&!(y===Un.REL&&v[y].toLowerCase()==="canonical")&&!(T===Un.REL&&v[T].toLowerCase()==="stylesheet")&&(y=T),n.indexOf(w)!==-1&&(w===Un.INNER_HTML||w===Un.CSS_TEXT||w===Un.ITEM_PROP)&&(y=w)}if(!y||!v[y])return!1;var k=v[y].toLowerCase();return i[y]||(i[y]={}),c[y]||(c[y]={}),i[y][k]?!1:(c[y][k]=!0,!0)}).reverse().forEach(function(v){return s.push(v)});for(var d=Object.keys(c),u=0;u<d.length;u++){var p=d[u],h=Ofe({},i[p],c[p]);i[p]=h}return s},[]).reverse()},Od=function(t,n){for(var r=t.length-1;r>=0;r--){var i=t[r];if(i.hasOwnProperty(n))return i[n]}return null},Ufe=function(t){return{baseTag:$fe([Un.HREF,Un.TARGET],t),bodyAttributes:v_(Vc.BODY,t),defer:Od(t,Pp.DEFER),encode:Od(t,Pp.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:v_(Vc.HTML,t),linkTags:Oh(St.LINK,[Un.REL,Un.HREF],t),metaTags:Oh(St.META,[Un.NAME,Un.CHARSET,Un.HTTPEQUIV,Un.PROPERTY,Un.ITEM_PROP],t),noscriptTags:Oh(St.NOSCRIPT,[Un.INNER_HTML],t),onChangeClientState:zfe(t),scriptTags:Oh(St.SCRIPT,[Un.SRC,Un.INNER_HTML],t),styleTags:Oh(St.STYLE,[Un.CSS_TEXT],t),title:Ffe(t),titleAttributes:v_(Vc.TITLE,t)}},Ux=function(){var e=Date.now();return function(t){var n=Date.now();n-e>16?(e=n,t(n)):setTimeout(function(){Ux(t)},0)}}(),oO=function(t){return clearTimeout(t)},Hfe=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||Ux:global.requestAnimationFrame||Ux,qfe=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||oO:global.cancelAnimationFrame||oO,Gfe=function(t){return console&&typeof console.warn=="function"&&console.warn(t)},jh=null,Yfe=function(t){jh&&qfe(jh),t.defer?jh=Hfe(function(){aO(t,function(){jh=null})}):(aO(t),jh=null)},aO=function(t,n){var r=t.baseTag,i=t.bodyAttributes,s=t.htmlAttributes,l=t.linkTags,c=t.metaTags,d=t.noscriptTags,u=t.onChangeClientState,p=t.scriptTags,h=t.styleTags,v=t.title,y=t.titleAttributes;Hx(St.BODY,i),Hx(St.HTML,s),Kfe(v,y);var b={baseTag:nd(St.BASE,r),linkTags:nd(St.LINK,l),metaTags:nd(St.META,c),noscriptTags:nd(St.NOSCRIPT,d),scriptTags:nd(St.SCRIPT,p),styleTags:nd(St.STYLE,h)},_={},w={};Object.keys(b).forEach(function(T){var k=b[T],R=k.newTags,M=k.oldTags;R.length&&(_[T]=R),M.length&&(w[T]=b[T].oldTags)}),n&&n(),u(t,_,w)},$N=function(t){return Array.isArray(t)?t.join(""):t},Kfe=function(t,n){typeof t<"u"&&document.title!==t&&(document.title=$N(t)),Hx(St.TITLE,n)},Hx=function(t,n){var r=document.getElementsByTagName(t)[0];if(r){for(var i=r.getAttribute(co),s=i?i.split(","):[],l=[].concat(s),c=Object.keys(n),d=0;d<c.length;d++){var u=c[d],p=n[u]||"";r.getAttribute(u)!==p&&r.setAttribute(u,p),s.indexOf(u)===-1&&s.push(u);var h=l.indexOf(u);h!==-1&&l.splice(h,1)}for(var v=l.length-1;v>=0;v--)r.removeAttribute(l[v]);s.length===l.length?r.removeAttribute(co):r.getAttribute(co)!==c.join(",")&&r.setAttribute(co,c.join(","))}},nd=function(t,n){var r=document.head||document.querySelector(St.HEAD),i=r.querySelectorAll(t+"["+co+"]"),s=Array.prototype.slice.call(i),l=[],c=void 0;return n&&n.length&&n.forEach(function(d){var u=document.createElement(t);for(var p in d)if(d.hasOwnProperty(p))if(p===Un.INNER_HTML)u.innerHTML=d.innerHTML;else if(p===Un.CSS_TEXT)u.styleSheet?u.styleSheet.cssText=d.cssText:u.appendChild(document.createTextNode(d.cssText));else{var h=typeof d[p]>"u"?"":d[p];u.setAttribute(p,h)}u.setAttribute(co,"true"),s.some(function(v,y){return c=y,u.isEqualNode(v)})?s.splice(c,1):l.push(u)}),s.forEach(function(d){return d.parentNode.removeChild(d)}),l.forEach(function(d){return r.appendChild(d)}),{oldTags:s,newTags:l}},UN=function(t){return Object.keys(t).reduce(function(n,r){var i=typeof t[r]<"u"?r+'="'+t[r]+'"':""+r;return n?n+" "+i:i},"")},Wfe=function(t,n,r,i){var s=UN(r),l=$N(n);return s?"<"+t+" "+co+'="true" '+s+">"+$x(l,i)+"</"+t+">":"<"+t+" "+co+'="true">'+$x(l,i)+"</"+t+">"},Qfe=function(t,n,r){return n.reduce(function(i,s){var l=Object.keys(s).filter(function(u){return!(u===Un.INNER_HTML||u===Un.CSS_TEXT)}).reduce(function(u,p){var h=typeof s[p]>"u"?p:p+'="'+$x(s[p],r)+'"';return u?u+" "+h:h},""),c=s.innerHTML||s.cssText||"",d=Pfe.indexOf(t)===-1;return i+"<"+t+" "+co+'="true" '+l+(d?"/>":">"+c+"</"+t+">")},"")},HN=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(r,i){return r[Fv[i]||i]=t[i],r},n)},Xfe=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(r,i){return r[jfe[i]||i]=t[i],r},n)},Jfe=function(t,n,r){var i,s=(i={key:n},i[co]=!0,i),l=HN(r,s);return[Qe.createElement(St.TITLE,l,n)]},Zfe=function(t,n){return n.map(function(r,i){var s,l=(s={key:i},s[co]=!0,s);return Object.keys(r).forEach(function(c){var d=Fv[c]||c;if(d===Un.INNER_HTML||d===Un.CSS_TEXT){var u=r.innerHTML||r.cssText;l.dangerouslySetInnerHTML={__html:u}}else l[d]=r[c]}),Qe.createElement(t,l)})},la=function(t,n,r){switch(t){case St.TITLE:return{toComponent:function(){return Jfe(t,n.title,n.titleAttributes)},toString:function(){return Wfe(t,n.title,n.titleAttributes,r)}};case Vc.BODY:case Vc.HTML:return{toComponent:function(){return HN(n)},toString:function(){return UN(n)}};default:return{toComponent:function(){return Zfe(t,n)},toString:function(){return Qfe(t,n,r)}}}},qN=function(t){var n=t.baseTag,r=t.bodyAttributes,i=t.encode,s=t.htmlAttributes,l=t.linkTags,c=t.metaTags,d=t.noscriptTags,u=t.scriptTags,p=t.styleTags,h=t.title,v=h===void 0?"":h,y=t.titleAttributes;return{base:la(St.BASE,n,i),bodyAttributes:la(Vc.BODY,r,i),htmlAttributes:la(Vc.HTML,s,i),link:la(St.LINK,l,i),meta:la(St.META,c,i),noscript:la(St.NOSCRIPT,d,i),script:la(St.SCRIPT,u,i),style:la(St.STYLE,p,i),title:la(St.TITLE,{title:v,titleAttributes:y},i)}},ehe=function(t){var n,r;return r=n=function(i){Nfe(s,i);function s(){return Dfe(this,s),Lfe(this,i.apply(this,arguments))}return s.prototype.shouldComponentUpdate=function(c){return!Mfe(this.props,c)},s.prototype.mapNestedChildrenToProps=function(c,d){if(!d)return null;switch(c.type){case St.SCRIPT:case St.NOSCRIPT:return{innerHTML:d};case St.STYLE:return{cssText:d}}throw new Error("<"+c.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},s.prototype.flattenArrayTypeChildren=function(c){var d,u=c.child,p=c.arrayTypeChildren,h=c.newChildProps,v=c.nestedChildren;return Bi({},p,(d={},d[u.type]=[].concat(p[u.type]||[],[Bi({},h,this.mapNestedChildrenToProps(u,v))]),d))},s.prototype.mapObjectTypeChildren=function(c){var d,u,p=c.child,h=c.newProps,v=c.newChildProps,y=c.nestedChildren;switch(p.type){case St.TITLE:return Bi({},h,(d={},d[p.type]=y,d.titleAttributes=Bi({},v),d));case St.BODY:return Bi({},h,{bodyAttributes:Bi({},v)});case St.HTML:return Bi({},h,{htmlAttributes:Bi({},v)})}return Bi({},h,(u={},u[p.type]=Bi({},v),u))},s.prototype.mapArrayTypeChildrenToProps=function(c,d){var u=Bi({},d);return Object.keys(c).forEach(function(p){var h;u=Bi({},u,(h={},h[p]=c[p],h))}),u},s.prototype.warnOnInvalidChildren=function(c,d){return!0},s.prototype.mapChildrenToProps=function(c,d){var u=this,p={};return Qe.Children.forEach(c,function(h){if(!(!h||!h.props)){var v=h.props,y=v.children,b=sO(v,["children"]),_=Xfe(b);switch(u.warnOnInvalidChildren(h,y),h.type){case St.LINK:case St.META:case St.NOSCRIPT:case St.SCRIPT:case St.STYLE:p=u.flattenArrayTypeChildren({child:h,arrayTypeChildren:p,newChildProps:_,nestedChildren:y});break;default:d=u.mapObjectTypeChildren({child:h,newProps:d,newChildProps:_,nestedChildren:y});break}}}),d=this.mapArrayTypeChildrenToProps(p,d),d},s.prototype.render=function(){var c=this.props,d=c.children,u=sO(c,["children"]),p=Bi({},u);return d&&(p=this.mapChildrenToProps(d,p)),Qe.createElement(t,p)},Bfe(s,null,[{key:"canUseDOM",set:function(c){t.canUseDOM=c}}]),s}(Qe.Component),n.propTypes={base:It.object,bodyAttributes:It.object,children:It.oneOfType([It.arrayOf(It.node),It.node]),defaultTitle:It.string,defer:It.bool,encodeSpecialCharacters:It.bool,htmlAttributes:It.object,link:It.arrayOf(It.object),meta:It.arrayOf(It.object),noscript:It.arrayOf(It.object),onChangeClientState:It.func,script:It.arrayOf(It.object),style:It.arrayOf(It.object),title:It.string,titleAttributes:It.object,titleTemplate:It.string},n.defaultProps={defer:!0,encodeSpecialCharacters:!0},n.peek=t.peek,n.rewind=function(){var i=t.rewind();return i||(i=qN({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),i},r},the=function(){return null},nhe=Tfe(Ufe,Yfe,qN)(the),gs=ehe(nhe);gs.renderStatic=gs.rewind;function rhe(){Nl(!1);const e=Oi(),t=()=>e("menu/"),{register:n}=dr({onBackspace:t}),[r,i]=xt(Vs),[s,l]=xt(Ec),[c,d]=xt(oi),[u,p]=x.useState(Fi.getPermissionStatus());x.useEffect(()=>Fi.addListener(_=>{p(_)}),[]);const[h,v]=x.useState(!1),y=()=>{v(!0),Fi.requestPermissions().then(()=>v(!1))};let b="Disabled";return h?b=g.jsx(og,{size:"0.9em"}):u===null?b="Click to enable":u&&(b="Enabled"),g.jsxs(Va,{children:[g.jsx(gs,{children:g.jsx("title",{children:"Settings | AllKaraoke.Party - Free Online Karaoke Party Game"})}),g.jsx("h1",{children:"Settings"}),g.jsx(Bs,{...n("graphics-level",()=>i(jc(cV,r))),label:"Graphics",value:r.toUpperCase()}),g.jsx(Bs,{...n("fps-count-level",()=>l(jc(dV,s))),label:"FPS Count",value:s}),g.jsxs("div",{className:"flex flex-col",children:[g.jsx(jt.Button,{...n("calibration-settings",()=>e("settings/calibration/")),size:"small",children:"Calibrate input lag"}),g.jsx(XE,{children:"If the sound is not synchronised with the lyrics, use this to compensate it."})]}),g.jsx("hr",{}),g.jsx(Bs,{...n("camera-access",()=>u?Fi.disable():y()),label:"Enable camera mode",value:b,info:"Record a timelapse video from singing. The recording is not sent nor stored anywhere."}),g.jsx("hr",{}),g.jsx(Bs,{...n("mobile-phone-mode",()=>d(!c)),label:"Mobile Phone Mode",value:c?"Yes":"No",info:"Adjust the game to a smaller screen. Disables option to sing in duets."}),g.jsx("hr",{}),g.jsx(vt,{...n("remote-mics-settings",()=>e("settings/remote-mics/")),size:"small",children:"Remote Microphones Settings"}),g.jsx(vt,{...n("setup-mics-button",()=>e("select-input/")),size:"small",children:"Setup Microphones"}),g.jsx(vt,{...n("manage-songs-button",()=>e("manage-songs/")),size:"small",children:"Manage Songs"}),g.jsx(vt,{...n("back-button",t),children:"Return To Main Menu"})]})}function ihe(e){return mi("MuiPaper",e)}vi("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const she=e=>{const{square:t,elevation:n,variant:r,classes:i}=e,s={root:["root",r,!t&&"rounded",r==="elevation"&&`elevation${n}`]};return Ii(s,ihe,i)},ohe=Bn("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,n.variant==="elevation"&&t[`elevation${n.elevation}`]]}})(Gs(({theme:e})=>({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow"),variants:[{props:({ownerState:t})=>!t.square,style:{borderRadius:e.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(e.vars||e).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),Gy=x.forwardRef(function(t,n){var y;const r=yi({props:t,name:"MuiPaper"}),i=PE(),{className:s,component:l="div",elevation:c=1,square:d=!1,variant:u="elevation",...p}=r,h={...r,component:l,elevation:c,square:d,variant:u},v=she(h);return g.jsx(ohe,{as:l,ownerState:h,className:Bt(v.root,s),ref:n,...p,style:{...u==="elevation"&&{"--Paper-shadow":(i.vars||i).shadows[c],...i.vars&&{"--Paper-overlay":(y=i.vars.overlays)==null?void 0:y[c]},...!i.vars&&i.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${oo("#fff",Ex(c))}, ${oo("#fff",Ex(c))})`}},...p.style}})});function GN(e){const{theme:t}=x.useContext(Xp);return g.jsxs(ahe,{...e,children:[g.jsx(YN,{asChild:!0,children:g.jsx(SN,{christmas:t==="christmas"})}),g.jsx(lhe,{asChild:!0,children:g.jsx(Vx,{christmas:t==="christmas"})})]})}const ahe=En.div`relative transition-[300ms] [&_svg]:w-[15rem] [&_svg]:h-[15rem]`,YN=En.svg`w-[15rem] h-[15rem] transition-[300ms]`,lhe=En(YN)`absolute top-[1.6rem] left-[3.5rem] z-[100] scale-x-[-1]`;function KN(){const[e,t]=x.useState(!1);return x.useEffect(()=>{const n=setTimeout(()=>{t(!0)},500);return()=>{clearTimeout(n)}},[]),g.jsx(che,{visible:e,children:g.jsx(uhe,{})})}const che=K("div",{target:"e1ej0ve21"})("transition:500ms;opacity:",e=>e.visible?1:0,";position:fixed;inset:0;display:flex;align-items:center;justify-content:center;"),uhe=K(GN,{target:"e1ej0ve20"})({name:"1wwm3j4",styles:"transform:translate(-1.75rem, -0.8rem) scale(2);svg{animation:pulse 1.25s infinite;@keyframes pulse{0%{scale:1;}33%{scale:1.05;}66%{scale:1;}100%{scale:1;}}}svg:first-of-type{animation-delay:1s;}"}),WN=x.lazy(()=>uf(()=>import("./SongManagement-vte2jF8Q.js"),[]).then(e=>({default:e.Convert}))),dhe=e=>g.jsxs(x.Suspense,{fallback:g.jsx(KN,{}),children:[g.jsx(gs,{children:g.jsx("title",{children:"Convert Song | AllKaraoke.Party - Free Online Karaoke Party Game"})}),g.jsx(Gy,{elevation:2,sx:{minHeight:"100vh",width:"1260px",margin:"0 auto",paddingTop:"30px"},children:g.jsx(WN,{...e})})]}),fhe=Wt(g.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete");var N0={exports:{}},hhe=N0.exports,lO;function phe(){return lO||(lO=1,function(e,t){(function(n,r){e.exports=r()})(hhe,function(){return function(n,r,i){n=n||{};var s=r.prototype,l={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function c(u,p,h,v){return s.fromToBase(u,p,h,v)}i.en.relativeTime=l,s.fromToBase=function(u,p,h,v,y){for(var b,_,w,T=h.$locale().relativeTime||l,k=n.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],R=k.length,M=0;M<R;M+=1){var E=k[M];E.d&&(b=v?i(u).diff(h,E.d,!0):h.diff(u,E.d,!0));var O=(n.rounding||Math.round)(Math.abs(b));if(w=b>0,O<=E.r||!E.r){O<=1&&M>0&&(E=k[M-1]);var j=T[E.l];y&&(O=y(""+O)),_=typeof j=="string"?j.replace("%d",O):j(O,p,E.l,w);break}}if(p)return _;var P=w?T.future:T.past;return typeof P=="function"?P(_):P.replace("%s",_)},s.to=function(u,p){return c(u,p,this,!0)},s.from=function(u,p){return c(u,p,this)};var d=function(u){return u.$u?i.utc():i()};s.toNow=function(u){return this.to(d(this),u)},s.fromNow=function(u){return this.from(d(this),u)}}})}(N0)),N0.exports}var ghe=phe();const mhe=Pr(ghe),QN=1e3,vhe=e=>e.map(t=>{if(t.notes.length===0)debugger;return{...t,start:t.notes[0].start}}),yhe=e=>{const t=e.notes.at(-1);return t.start+t.length},Ahe=(e,t=10)=>{let n=0;const r=[];return e.forEach(i=>{i.start-n>t&&(r.push({type:"pause",start:n,end:i.start-t}),n=i.start-t),r.push({...i,start:n}),n=yhe(i)}),r},cO=(e,t)=>({...e,sections:Ahe(vhe(e.sections.filter(fn)),t)});function bhe(e){const t=df(e),n=Math.round(QN/t);return{...e,tracks:e.tracks.map(r=>cO(r,n)),mergedTrack:cO(e.mergedTrack,n)}}const _he=(e,t)=>e.map((n,r)=>fn(n)?{...n,start:r===0?0:Math.max(0,n.start+t),notes:n.notes.map(i=>({...i,start:i.start+t}))}:{...n,start:Math.max(0,n.start+t),end:Math.max(0,n.end+t)}),uO=(e,t)=>({...e,sections:_he(e.sections,t)});function She(e){const t=df(e),n=Math.round(QN/t),r=Math.floor((e.gap-n*t<0?e.gap:n*t)/t),i=e.gap-r*t;return{...e,gap:i,tracks:e.tracks.map(s=>uO(s,r)),mergedTrack:uO(e.mergedTrack,r)}}function zv(e,t){return df(t)*e}function Yy(e){const t=Math.min(...e.tracks.map(n=>"sections"in n?wl(n.sections):n.start));return zv(t,e)+e.gap}function xhe(e){const t=Yy(e);return{...e,videoGap:Math.round(Math.max(0,Math.min(e.videoGap??0,t/1e3-15)))}}const whe=(e,t)=>e.map((n,r)=>fn(n)?{...n,start:r===0?0:Math.max(0,n.start-t),notes:n.notes.map(i=>({...i,start:i.start-t}))}:{...n,start:Math.max(0,n.start-t),end:Math.max(0,n.end-t)}).filter(n=>fn(n)||n.start-n.end>0),dO=(e,t)=>({...e,sections:whe(e.sections,t)});function Ehe(e){const t=df(e),n=e.tracks.reduce((l,c,d)=>{const u=wl(e.tracks[l].sections),p=wl(c.sections);return u>p?d:l},0),r=e.tracks[n].sections.find(fn);if(!r)return console.error("There are no notes sections in the song, wat",e.tracks),e;const i=r.start+(r.notes[0].start-r.start),s=Math.floor(e.gap+i*t);return{...e,gap:s,tracks:e.tracks.map(l=>dO(l,i)),mergedTrack:dO(e.mergedTrack,i)}}const The=e=>(e.forEach((t,n)=>{t.lyrics.startsWith(" ")&&(t.lyrics=t.lyrics.trimStart(),n>0&&(e[n-1].lyrics=e[n-1].lyrics.trimEnd()+" ")),n===e.length-1&&(t.lyrics=t.lyrics.trimEnd())}),e),fO=e=>({...e,sections:e.sections.map(t=>fn(t)?{...t,notes:The(t.notes)}:t)});function Che(e){return{...e,tracks:e.tracks.map(fO),mergedTrack:fO(e.mergedTrack)}}const khe=e=>{let t=Ehe(e);return t=She(t),t=bhe(t),t=Che(t),t=xhe(t),t};function XN(e){const[t,n]=x.useState(null);return x.useEffect(()=>{fs.get(e).then(r=>n(r&&khe(r)))},[e]),{data:t}}function Mhe(e){return mi("MuiButton",e)}const rd=vi("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),Rhe=x.createContext({}),Ihe=x.createContext(void 0),Ohe=e=>{const{color:t,disableElevation:n,fullWidth:r,size:i,variant:s,classes:l}=e,c={root:["root",s,`${s}${qt(t)}`,`size${qt(i)}`,`${s}Size${qt(i)}`,`color${qt(t)}`,n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${qt(i)}`],endIcon:["icon","endIcon",`iconSize${qt(i)}`]},d=Ii(c,Mhe,l);return{...l,...d}},JN=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],jhe=Bn(zB,{shouldForwardProp:e=>VE(e)||e==="classes",name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${qt(n.color)}`],t[`size${qt(n.size)}`],t[`${n.variant}Size${qt(n.size)}`],n.color==="inherit"&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})(Gs(({theme:e})=>{const t=e.palette.mode==="light"?e.palette.grey[300]:e.palette.grey[800],n=e.palette.mode==="light"?e.palette.grey.A100:e.palette.grey[700];return{...e.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${rd.disabled}`]:{color:(e.vars||e).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(e.vars||e).shadows[2],"&:hover":{boxShadow:(e.vars||e).shadows[4],"@media (hover: none)":{boxShadow:(e.vars||e).shadows[2]}},"&:active":{boxShadow:(e.vars||e).shadows[8]},[`&.${rd.focusVisible}`]:{boxShadow:(e.vars||e).shadows[6]},[`&.${rd.disabled}`]:{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${rd.disabled}`]:{border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(e.palette).filter(Mp()).map(([r])=>({props:{color:r},style:{"--variant-textColor":(e.vars||e).palette[r].main,"--variant-outlinedColor":(e.vars||e).palette[r].main,"--variant-outlinedBorder":e.vars?`rgba(${e.vars.palette[r].mainChannel} / 0.5)`:oo(e.palette[r].main,.5),"--variant-containedColor":(e.vars||e).palette[r].contrastText,"--variant-containedBg":(e.vars||e).palette[r].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(e.vars||e).palette[r].dark,"--variant-textBg":e.vars?`rgba(${e.vars.palette[r].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:oo(e.palette[r].main,e.palette.action.hoverOpacity),"--variant-outlinedBorder":(e.vars||e).palette[r].main,"--variant-outlinedBg":e.vars?`rgba(${e.vars.palette[r].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:oo(e.palette[r].main,e.palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":e.vars?e.vars.palette.Button.inheritContainedBg:t,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":e.vars?e.vars.palette.Button.inheritContainedHoverBg:n,"--variant-textBg":e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:oo(e.palette.text.primary,e.palette.action.hoverOpacity),"--variant-outlinedBg":e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:oo(e.palette.text.primary,e.palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${rd.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${rd.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}}]}})),Phe=Bn("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.startIcon,t[`iconSize${qt(n.size)}`]]}})({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},...JN]}),Vhe=Bn("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.endIcon,t[`iconSize${qt(n.size)}`]]}})({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},...JN]}),hO=x.forwardRef(function(t,n){const r=x.useContext(Rhe),i=x.useContext(Ihe),s=Cv(r,t),l=yi({props:s,name:"MuiButton"}),{children:c,color:d="primary",component:u="button",className:p,disabled:h=!1,disableElevation:v=!1,disableFocusRipple:y=!1,endIcon:b,focusVisibleClassName:_,fullWidth:w=!1,size:T="medium",startIcon:k,type:R,variant:M="text",...E}=l,O={...l,color:d,component:u,disabled:h,disableElevation:v,disableFocusRipple:y,fullWidth:w,size:T,type:R,variant:M},j=Ohe(O),P=k&&g.jsx(Phe,{className:j.startIcon,ownerState:O,children:k}),V=b&&g.jsx(Vhe,{className:j.endIcon,ownerState:O,children:b}),C=i||"";return g.jsxs(jhe,{ownerState:O,className:Bt(r.className,j.root,p,C),component:u,disabled:h,focusRipple:!y,focusVisibleClassName:Bt(j.focusVisible,_),ref:n,type:R,...E,classes:j,children:[P,c,V]})});function Dhe(e){const t=Yc(e);return t.body===e?Tv(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}function ap(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function pO(e){return parseInt(Tv(e).getComputedStyle(e).paddingRight,10)||0}function Bhe(e){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(e.tagName),r=e.tagName==="INPUT"&&e.getAttribute("type")==="hidden";return n||r}function gO(e,t,n,r,i){const s=[t,n,...r];[].forEach.call(e.children,l=>{const c=!s.includes(l),d=!Bhe(l);c&&d&&ap(l,i)})}function y_(e,t){let n=-1;return e.some((r,i)=>t(r)?(n=i,!0):!1),n}function Nhe(e,t){const n=[],r=e.container;if(!t.disableScrollLock){if(Dhe(r)){const l=Dre(Tv(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${pO(r)+l}px`;const c=Yc(r).querySelectorAll(".mui-fixed");[].forEach.call(c,d=>{n.push({value:d.style.paddingRight,property:"padding-right",el:d}),d.style.paddingRight=`${pO(d)+l}px`})}let s;if(r.parentNode instanceof DocumentFragment)s=Yc(r).body;else{const l=r.parentElement,c=Tv(r);s=(l==null?void 0:l.nodeName)==="HTML"&&c.getComputedStyle(l).overflowY==="scroll"?l:r}n.push({value:s.style.overflow,property:"overflow",el:s},{value:s.style.overflowX,property:"overflow-x",el:s},{value:s.style.overflowY,property:"overflow-y",el:s}),s.style.overflow="hidden"}return()=>{n.forEach(({value:s,el:l,property:c})=>{s?l.style.setProperty(c,s):l.style.removeProperty(c)})}}function Lhe(e){const t=[];return[].forEach.call(e.children,n=>{n.getAttribute("aria-hidden")==="true"&&t.push(n)}),t}class Fhe{constructor(){this.modals=[],this.containers=[]}add(t,n){let r=this.modals.indexOf(t);if(r!==-1)return r;r=this.modals.length,this.modals.push(t),t.modalRef&&ap(t.modalRef,!1);const i=Lhe(n);gO(n,t.mount,t.modalRef,i,!0);const s=y_(this.containers,l=>l.container===n);return s!==-1?(this.containers[s].modals.push(t),r):(this.containers.push({modals:[t],container:n,restore:null,hiddenSiblings:i}),r)}mount(t,n){const r=y_(this.containers,s=>s.modals.includes(t)),i=this.containers[r];i.restore||(i.restore=Nhe(i,n))}remove(t,n=!0){const r=this.modals.indexOf(t);if(r===-1)return r;const i=y_(this.containers,l=>l.modals.includes(t)),s=this.containers[i];if(s.modals.splice(s.modals.indexOf(t),1),this.modals.splice(r,1),s.modals.length===0)s.restore&&s.restore(),t.modalRef&&ap(t.modalRef,n),gO(s.container,t.mount,t.modalRef,s.hiddenSiblings,!1),this.containers.splice(i,1);else{const l=s.modals[s.modals.length-1];l.modalRef&&ap(l.modalRef,!1)}return r}isTopModal(t){return this.modals.length>0&&this.modals[this.modals.length-1]===t}}const zhe=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function $he(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?e.contentEditable==="true"||(e.nodeName==="AUDIO"||e.nodeName==="VIDEO"||e.nodeName==="DETAILS")&&e.getAttribute("tabindex")===null?0:e.tabIndex:t}function Uhe(e){if(e.tagName!=="INPUT"||e.type!=="radio"||!e.name)return!1;const t=r=>e.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=t(`[name="${e.name}"]:checked`);return n||(n=t(`[name="${e.name}"]`)),n!==e}function Hhe(e){return!(e.disabled||e.tagName==="INPUT"&&e.type==="hidden"||Uhe(e))}function qhe(e){const t=[],n=[];return Array.from(e.querySelectorAll(zhe)).forEach((r,i)=>{const s=$he(r);s===-1||!Hhe(r)||(s===0?t.push(r):n.push({documentOrder:i,tabIndex:s,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(t)}function Ghe(){return!0}function Yhe(e){const{children:t,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:s=qhe,isEnabled:l=Ghe,open:c}=e,d=x.useRef(!1),u=x.useRef(null),p=x.useRef(null),h=x.useRef(null),v=x.useRef(null),y=x.useRef(!1),b=x.useRef(null),_=Tl(AE(t),b),w=x.useRef(null);x.useEffect(()=>{!c||!b.current||(y.current=!n)},[n,c]),x.useEffect(()=>{if(!c||!b.current)return;const R=Yc(b.current);return b.current.contains(R.activeElement)||(b.current.hasAttribute("tabIndex")||b.current.setAttribute("tabIndex","-1"),y.current&&b.current.focus()),()=>{i||(h.current&&h.current.focus&&(d.current=!0,h.current.focus()),h.current=null)}},[c]),x.useEffect(()=>{if(!c||!b.current)return;const R=Yc(b.current),M=j=>{w.current=j,!(r||!l()||j.key!=="Tab")&&R.activeElement===b.current&&j.shiftKey&&(d.current=!0,p.current&&p.current.focus())},E=()=>{var V,C;const j=b.current;if(j===null)return;if(!R.hasFocus()||!l()||d.current){d.current=!1;return}if(j.contains(R.activeElement)||r&&R.activeElement!==u.current&&R.activeElement!==p.current)return;if(R.activeElement!==v.current)v.current=null;else if(v.current!==null)return;if(!y.current)return;let P=[];if((R.activeElement===u.current||R.activeElement===p.current)&&(P=s(b.current)),P.length>0){const N=!!((V=w.current)!=null&&V.shiftKey&&((C=w.current)==null?void 0:C.key)==="Tab"),U=P[0],L=P[P.length-1];typeof U!="string"&&typeof L!="string"&&(N?L.focus():U.focus())}else j.focus()};R.addEventListener("focusin",E),R.addEventListener("keydown",M,!0);const O=setInterval(()=>{R.activeElement&&R.activeElement.tagName==="BODY"&&E()},50);return()=>{clearInterval(O),R.removeEventListener("focusin",E),R.removeEventListener("keydown",M,!0)}},[n,r,i,l,c,s]);const T=R=>{h.current===null&&(h.current=R.relatedTarget),y.current=!0,v.current=R.target;const M=t.props.onFocus;M&&M(R)},k=R=>{h.current===null&&(h.current=R.relatedTarget),y.current=!0};return g.jsxs(x.Fragment,{children:[g.jsx("div",{tabIndex:c?0:-1,onFocus:k,ref:u,"data-testid":"sentinelStart"}),x.cloneElement(t,{ref:_,onFocus:T}),g.jsx("div",{tabIndex:c?0:-1,onFocus:k,ref:p,"data-testid":"sentinelEnd"})]})}function Khe(e){return typeof e=="function"?e():e}const Whe=x.forwardRef(function(t,n){const{children:r,container:i,disablePortal:s=!1}=t,[l,c]=x.useState(null),d=Tl(x.isValidElement(r)?AE(r):null,n);if(_x(()=>{s||c(Khe(i)||document.body)},[i,s]),_x(()=>{if(l&&!s)return bx(n,l),()=>{bx(n,null)}},[n,l,s]),s){if(x.isValidElement(r)){const u={ref:d};return x.cloneElement(r,u)}return g.jsx(x.Fragment,{children:r})}return g.jsx(x.Fragment,{children:l&&mf.createPortal(r,l)})});function $v(e,t){const{className:n,elementType:r,ownerState:i,externalForwardedProps:s,getSlotOwnerState:l,internalForwardedProps:c,...d}=t,{component:u,slots:p={[e]:void 0},slotProps:h={[e]:void 0},...v}=s,y=p[e]||r,b=Hre(h[e],i),{props:{component:_,...w},internalRef:T}=Ure({className:n,...d,externalForwardedProps:e==="root"?v:void 0,externalSlotProps:b}),k=Tl(T,b==null?void 0:b.ref,t.ref),R=l?l(w):{},M={...i,...R},E=e==="root"?_||u:_,O=$re(y,{...e==="root"&&!u&&!p[e]&&c,...e!=="root"&&!p[e]&&c,...w,...E&&{as:E},ref:k},M);return Object.keys(R).forEach(j=>{delete O[j]}),[y,O]}const Qhe=e=>e.scrollTop;function mO(e,t){const{timeout:n,easing:r,style:i={}}=e;return{duration:i.transitionDuration??(typeof n=="number"?n:n[t.mode]||0),easing:i.transitionTimingFunction??(typeof r=="object"?r[t.mode]:r),delay:i.transitionDelay}}const Xhe={entering:{opacity:1},entered:{opacity:1}},ZN=x.forwardRef(function(t,n){const r=PE(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:s,appear:l=!0,children:c,easing:d,in:u,onEnter:p,onEntered:h,onEntering:v,onExit:y,onExited:b,onExiting:_,style:w,timeout:T=i,TransitionComponent:k=ja,...R}=t,M=x.useRef(null),E=Tl(M,AE(c),n),O=q=>H=>{if(q){const D=M.current;H===void 0?q(D):q(D,H)}},j=O(v),P=O((q,H)=>{Qhe(q);const D=mO({style:w,timeout:T,easing:d},{mode:"enter"});q.style.webkitTransition=r.transitions.create("opacity",D),q.style.transition=r.transitions.create("opacity",D),p&&p(q,H)}),V=O(h),C=O(_),N=O(q=>{const H=mO({style:w,timeout:T,easing:d},{mode:"exit"});q.style.webkitTransition=r.transitions.create("opacity",H),q.style.transition=r.transitions.create("opacity",H),y&&y(q)}),U=O(b),L=q=>{s&&s(M.current,q)};return g.jsx(k,{appear:l,in:u,nodeRef:M,onEnter:P,onEntered:V,onEntering:j,onExit:N,onExited:U,onExiting:C,addEndListener:L,timeout:T,...R,children:(q,H)=>x.cloneElement(c,{style:{opacity:0,visibility:q==="exited"&&!u?"hidden":void 0,...Xhe[q],...w,...c.props.style},ref:E,...H})})});function Jhe(e){return mi("MuiBackdrop",e)}vi("MuiBackdrop",["root","invisible"]);const Zhe=e=>{const{ownerState:t,...n}=e;return n},epe=e=>{const{classes:t,invisible:n}=e;return Ii({root:["root",n&&"invisible"]},Jhe,t)},tpe=Bn("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.invisible&&t.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),eL=x.forwardRef(function(t,n){const r=yi({props:t,name:"MuiBackdrop"}),{children:i,className:s,component:l="div",invisible:c=!1,open:d,components:u={},componentsProps:p={},slotProps:h={},slots:v={},TransitionComponent:y,transitionDuration:b,..._}=r,w={...r,component:l,invisible:c},T=epe(w),k={transition:y,root:u.Root,...v},R={...p,...h},M={slots:k,slotProps:R},[E,O]=$v("root",{elementType:tpe,externalForwardedProps:M,className:Bt(T.root,s),ownerState:w}),[j,P]=$v("transition",{elementType:ZN,externalForwardedProps:M,ownerState:w}),V=Zhe(P);return g.jsx(j,{in:d,timeout:b,..._,...V,children:g.jsx(E,{"aria-hidden":!0,...O,classes:T,ref:n,children:i})})});function npe(e){return typeof e=="function"?e():e}function rpe(e){return e?e.props.hasOwnProperty("in"):!1}const Wm=new Fhe;function ipe(e){const{container:t,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,closeAfterTransition:i=!1,onTransitionEnter:s,onTransitionExited:l,children:c,onClose:d,open:u,rootRef:p}=e,h=x.useRef({}),v=x.useRef(null),y=x.useRef(null),b=Tl(y,p),[_,w]=x.useState(!u),T=rpe(c);let k=!0;(e["aria-hidden"]==="false"||e["aria-hidden"]===!1)&&(k=!1);const R=()=>Yc(v.current),M=()=>(h.current.modalRef=y.current,h.current.mount=v.current,h.current),E=()=>{Wm.mount(M(),{disableScrollLock:r}),y.current&&(y.current.scrollTop=0)},O=gd(()=>{const H=npe(t)||R().body;Wm.add(M(),H),y.current&&E()}),j=()=>Wm.isTopModal(M()),P=gd(H=>{v.current=H,H&&(u&&j()?E():y.current&&ap(y.current,k))}),V=x.useCallback(()=>{Wm.remove(M(),k)},[k]);x.useEffect(()=>()=>{V()},[V]),x.useEffect(()=>{u?O():(!T||!i)&&V()},[u,V,T,i,O]);const C=H=>D=>{var W;(W=H.onKeyDown)==null||W.call(H,D),!(D.key!=="Escape"||D.which===229||!j())&&(n||(D.stopPropagation(),d&&d(D,"escapeKeyDown")))},N=H=>D=>{var W;(W=H.onClick)==null||W.call(H,D),D.target===D.currentTarget&&d&&d(D,"backdropClick")};return{getRootProps:(H={})=>{const D=mB(e);delete D.onTransitionEnter,delete D.onTransitionExited;const W={...D,...H};return{role:"presentation",...W,onKeyDown:C(W),ref:b}},getBackdropProps:(H={})=>{const D=H;return{"aria-hidden":!0,...D,onClick:N(D),open:u}},getTransitionProps:()=>{const H=()=>{w(!1),s&&s()},D=()=>{w(!0),l&&l(),i&&V()};return{onEnter:$I(H,c==null?void 0:c.props.onEnter),onExited:$I(D,c==null?void 0:c.props.onExited)}},rootRef:b,portalRef:P,isTopModal:j,exited:_,hasTransition:T}}function spe(e){return mi("MuiModal",e)}vi("MuiModal",["root","hidden","backdrop"]);const ope=e=>{const{open:t,exited:n,classes:r}=e;return Ii({root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]},spe,r)},ape=Bn("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.open&&n.exited&&t.hidden]}})(Gs(({theme:e})=>({position:"fixed",zIndex:(e.vars||e).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:t})=>!t.open&&t.exited,style:{visibility:"hidden"}}]}))),lpe=Bn(eL,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),cpe=x.forwardRef(function(t,n){const r=yi({name:"MuiModal",props:t}),{BackdropComponent:i=lpe,BackdropProps:s,classes:l,className:c,closeAfterTransition:d=!1,children:u,container:p,component:h,components:v={},componentsProps:y={},disableAutoFocus:b=!1,disableEnforceFocus:_=!1,disableEscapeKeyDown:w=!1,disablePortal:T=!1,disableRestoreFocus:k=!1,disableScrollLock:R=!1,hideBackdrop:M=!1,keepMounted:E=!1,onBackdropClick:O,onClose:j,onTransitionEnter:P,onTransitionExited:V,open:C,slotProps:N={},slots:U={},theme:L,...q}=r,H={...r,closeAfterTransition:d,disableAutoFocus:b,disableEnforceFocus:_,disableEscapeKeyDown:w,disablePortal:T,disableRestoreFocus:k,disableScrollLock:R,hideBackdrop:M,keepMounted:E},{getRootProps:D,getBackdropProps:W,getTransitionProps:Q,portalRef:J,isTopModal:B,exited:G,hasTransition:ee}=ipe({...H,rootRef:n}),ue={...H,exited:G},F=ope(ue),ge={};if(u.props.tabIndex===void 0&&(ge.tabIndex="-1"),ee){const{onEnter:Ge,onExited:$e}=Q();ge.onEnter=Ge,ge.onExited=$e}const se={...q,slots:{root:v.Root,backdrop:v.Backdrop,...U},slotProps:{...y,...N}},[Se,Me]=$v("root",{elementType:ape,externalForwardedProps:se,getSlotProps:D,additionalProps:{ref:n,as:h},ownerState:ue,className:Bt(c,F==null?void 0:F.root,!ue.open&&ue.exited&&(F==null?void 0:F.hidden))}),[Re,ve]=$v("backdrop",{elementType:i,externalForwardedProps:se,additionalProps:s,getSlotProps:Ge=>W({...Ge,onClick:$e=>{O&&O($e),Ge!=null&&Ge.onClick&&Ge.onClick($e)}}),className:Bt(s==null?void 0:s.className,F==null?void 0:F.backdrop),ownerState:ue}),je=Tl(s==null?void 0:s.ref,ve.ref);return!E&&!C&&(!ee||G)?null:g.jsx(Whe,{ref:J,container:p,disablePortal:T,children:g.jsxs(Se,{...Me,children:[!M&&i?g.jsx(Re,{...ve,ref:je}):null,g.jsx(Yhe,{disableEnforceFocus:_,disableAutoFocus:b,disableRestoreFocus:k,isEnabled:B,open:C,children:x.cloneElement(u,ge)})]})})});function upe(e){return mi("MuiDialog",e)}const A_=vi("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),tL=x.createContext({}),dpe=Bn(eL,{name:"MuiDialog",slot:"Backdrop",overrides:(e,t)=>t.backdrop})({zIndex:-1}),fpe=e=>{const{classes:t,scroll:n,maxWidth:r,fullWidth:i,fullScreen:s}=e,l={root:["root"],container:["container",`scroll${qt(n)}`],paper:["paper",`paperScroll${qt(n)}`,`paperWidth${qt(String(r))}`,i&&"paperFullWidth",s&&"paperFullScreen"]};return Ii(l,upe,t)},hpe=Bn(cpe,{name:"MuiDialog",slot:"Root",overridesResolver:(e,t)=>t.root})({"@media print":{position:"absolute !important"}}),ppe=Bn("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.container,t[`scroll${qt(n.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),gpe=Bn(Gy,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.paper,t[`scrollPaper${qt(n.scroll)}`],t[`paperWidth${qt(String(n.maxWidth))}`],n.fullWidth&&t.paperFullWidth,n.fullScreen&&t.paperFullScreen]}})(Gs(({theme:e})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:t})=>!t.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:e.breakpoints.unit==="px"?Math.max(e.breakpoints.values.xs,444):`max(${e.breakpoints.values.xs}${e.breakpoints.unit}, 444px)`,[`&.${A_.paperScrollBody}`]:{[e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(e.breakpoints.values).filter(t=>t!=="xs").map(t=>({props:{maxWidth:t},style:{maxWidth:`${e.breakpoints.values[t]}${e.breakpoints.unit}`,[`&.${A_.paperScrollBody}`]:{[e.breakpoints.down(e.breakpoints.values[t]+32*2)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:t})=>t.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:t})=>t.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${A_.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),mpe=x.forwardRef(function(t,n){const r=yi({props:t,name:"MuiDialog"}),i=PE(),s={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{"aria-describedby":l,"aria-labelledby":c,"aria-modal":d=!0,BackdropComponent:u,BackdropProps:p,children:h,className:v,disableEscapeKeyDown:y=!1,fullScreen:b=!1,fullWidth:_=!1,maxWidth:w="sm",onBackdropClick:T,onClick:k,onClose:R,open:M,PaperComponent:E=Gy,PaperProps:O={},scroll:j="paper",TransitionComponent:P=ZN,transitionDuration:V=s,TransitionProps:C,...N}=r,U={...r,disableEscapeKeyDown:y,fullScreen:b,fullWidth:_,maxWidth:w,scroll:j},L=fpe(U),q=x.useRef(),H=J=>{q.current=J.target===J.currentTarget},D=J=>{k&&k(J),q.current&&(q.current=null,T&&T(J),R&&R(J,"backdropClick"))},W=Ore(c),Q=x.useMemo(()=>({titleId:W}),[W]);return g.jsx(hpe,{className:Bt(L.root,v),closeAfterTransition:!0,components:{Backdrop:dpe},componentsProps:{backdrop:{transitionDuration:V,as:u,...p}},disableEscapeKeyDown:y,onClose:R,open:M,ref:n,onClick:D,ownerState:U,...N,children:g.jsx(P,{appear:!0,in:M,timeout:V,role:"presentation",...C,children:g.jsx(ppe,{className:Bt(L.container),onMouseDown:H,ownerState:U,children:g.jsx(gpe,{as:E,elevation:24,role:"dialog","aria-describedby":l,"aria-labelledby":W,"aria-modal":d,...O,className:Bt(L.paper,O.className),ownerState:U,children:g.jsx(tL.Provider,{value:Q,children:h})})})})})});function vpe(e){return mi("MuiDialogActions",e)}vi("MuiDialogActions",["root","spacing"]);const ype=e=>{const{classes:t,disableSpacing:n}=e;return Ii({root:["root",!n&&"spacing"]},vpe,t)},Ape=Bn("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto",variants:[{props:({ownerState:e})=>!e.disableSpacing,style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),bpe=x.forwardRef(function(t,n){const r=yi({props:t,name:"MuiDialogActions"}),{className:i,disableSpacing:s=!1,...l}=r,c={...r,disableSpacing:s},d=ype(c);return g.jsx(Ape,{className:Bt(d.root,i),ownerState:c,ref:n,...l})});function _pe(e){return mi("MuiDialogContent",e)}vi("MuiDialogContent",["root","dividers"]);function Spe(e){return mi("MuiDialogTitle",e)}const xpe=vi("MuiDialogTitle",["root"]),wpe=e=>{const{classes:t,dividers:n}=e;return Ii({root:["root",n&&"dividers"]},_pe,t)},Epe=Bn("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dividers&&t.dividers]}})(Gs(({theme:e})=>({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:({ownerState:t})=>t.dividers,style:{padding:"16px 24px",borderTop:`1px solid ${(e.vars||e).palette.divider}`,borderBottom:`1px solid ${(e.vars||e).palette.divider}`}},{props:({ownerState:t})=>!t.dividers,style:{[`.${xpe.root} + &`]:{paddingTop:0}}}]}))),Tpe=x.forwardRef(function(t,n){const r=yi({props:t,name:"MuiDialogContent"}),{className:i,dividers:s=!1,...l}=r,c={...r,dividers:s},d=wpe(c);return g.jsx(Epe,{className:Bt(d.root,i),ownerState:c,ref:n,...l})});function Cpe(e){return mi("MuiTypography",e)}const F1e=vi("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]),kpe={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},Mpe=soe(),Rpe=e=>{const{align:t,gutterBottom:n,noWrap:r,paragraph:i,variant:s,classes:l}=e,c={root:["root",s,e.align!=="inherit"&&`align${qt(t)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return Ii(c,Cpe,l)},Ipe=Bn("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],n.align!=="inherit"&&t[`align${qt(n.align)}`],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})(Gs(({theme:e})=>{var t;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(e.typography).filter(([n,r])=>n!=="inherit"&&r&&typeof r=="object").map(([n,r])=>({props:{variant:n},style:r})),...Object.entries(e.palette).filter(Mp()).map(([n])=>({props:{color:n},style:{color:(e.vars||e).palette[n].main}})),...Object.entries(((t=e.palette)==null?void 0:t.text)||{}).filter(([,n])=>typeof n=="string").map(([n])=>({props:{color:`text${qt(n)}`},style:{color:(e.vars||e).palette.text[n]}})),{props:({ownerState:n})=>n.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:n})=>n.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:n})=>n.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:n})=>n.paragraph,style:{marginBottom:16}}]}})),vO={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},nL=x.forwardRef(function(t,n){const{color:r,...i}=yi({props:t,name:"MuiTypography"}),s=!kpe[r],l=Mpe({...i,...s&&{color:r}}),{align:c="inherit",className:d,component:u,gutterBottom:p=!1,noWrap:h=!1,paragraph:v=!1,variant:y="body1",variantMapping:b=vO,..._}=l,w={...l,align:c,color:r,className:d,component:u,gutterBottom:p,noWrap:h,paragraph:v,variant:y,variantMapping:b},T=u||(v?"p":b[y]||vO[y])||"span",k=Rpe(w);return g.jsx(Ipe,{as:T,ref:n,className:Bt(k.root,d),..._,ownerState:w,style:{...c!=="inherit"&&{"--Typography-textAlign":c},..._.style}})});function Ope(e){return mi("MuiDialogContentText",e)}vi("MuiDialogContentText",["root"]);const jpe=e=>{const{classes:t}=e,r=Ii({root:["root"]},Ope,t);return{...t,...r}},Ppe=Bn(nL,{shouldForwardProp:e=>VE(e)||e==="classes",name:"MuiDialogContentText",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Vpe=x.forwardRef(function(t,n){const r=yi({props:t,name:"MuiDialogContentText"}),{children:i,className:s,...l}=r,c=jpe(l);return g.jsx(Ppe,{component:"p",variant:"body1",color:"textSecondary",ref:n,ownerState:l,className:Bt(c.root,s),...r,classes:c})}),Dpe=e=>{const{classes:t}=e;return Ii({root:["root"]},Spe,t)},Bpe=Bn(nL,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:"16px 24px",flex:"0 0 auto"}),Npe=x.forwardRef(function(t,n){const r=yi({props:t,name:"MuiDialogTitle"}),{className:i,id:s,...l}=r,c=r,d=Dpe(c),{titleId:u=s}=x.useContext(tL);return g.jsx(Bpe,{component:"h2",className:Bt(d.root,i),ownerState:c,ref:n,variant:"h6",id:s??u,...l})});function sr(e,t){if(t!==void 0)return`#${e}:${typeof t=="number"?t.toString(10).replace(".",","):Array.isArray(t)?t.map(n=>n.trim()).join(", "):t.trim()}`}const yO=e=>e.map(t=>`${qW[t.type]} ${t.start} ${t.length} ${t.pitch} ${t.lyrics}`).join(`
`),AO=e=>e.split(":")[0];function Lpe(e){const t={artist:sr("ARTIST",e.artist),title:sr("TITLE",e.title),author:sr("CREATOR",e.author),bpm:sr("BPM",e.bpm),year:sr("YEAR",e.year),previewStart:sr("PREVIEWSTART",e.previewStart),video:sr("VIDEO",`v=${e.video}`),videoGap:sr("VIDEOGAP",e.videoGap),genre:sr("GENRE",e.genre),language:sr("LANGUAGE",e.language),gap:sr("GAP",e.gap),edition:sr("EDITION",e.edition),id:sr("ALLKARAOKE_ID",e.id),lastUpdate:sr("ALLKARAOKE_LASTUPDATE",e.lastUpdate),artistOrigin:sr("ALLKARAOKE_ARTISTORIGIN",e.artistOrigin),authorUrl:sr("ALLKARAOKE_CREATORURL",e.authorUrl),realBpm:sr("ALLKARAOKE_REALBPM",e.realBpm),sourceUrl:sr("ALLKARAOKE_SOURCEURL",e.sourceUrl),previewEnd:sr("ALLKARAOKE_PREVIEWEND",e.previewEnd),volume:sr("ALLKARAOKE_VOLUME",e.volume)},n=e.tracks.map(c=>c.name??null),r=[];e.tracks.map(c=>c.sections).forEach(([c,...d])=>{r.push(fn(c)?yO(c.notes):`- ${c.start} ${c.end}`),d.forEach(u=>r.push(fn(u)?`- ${u.start}
${yO(u.notes)}`:`- ${u.start} ${u.end}`))});const i=Object.values(t).concat(n[0]?sr("P1",n[0]):void 0).concat(n[1]?sr("P2",n[1]):void 0).filter(ZS),s=i.map(AO),l=(e.unsupportedProps??[]).filter(c=>!s.includes(AO(c)));return i.concat(...l).concat(r).concat("E").filter(ZS).join(`
`)}const rL="share-songs",iL=Bl(rL),Fpe=async e=>{try{if(!st.getItem(rL))return;const n=await fs.get(e);n&&er.capture("share-song",{song:Lpe(n),isBuiltIn:fs.isBuiltIn(e)})}catch(t){console.error(t),fo(t)}};function z1e(e){const[t,n]=iL(null),[r,i]=x.useState(!!e.id&&t===null),s=()=>{i(!1)},l=c=>{n(c),c&&e.id&&Fpe(e.id),s()};return g.jsxs(mpe,{open:r,onClose:()=>i(!1),fullWidth:!0,children:[g.jsx(Npe,{children:"Share songs?"}),g.jsx(Tpe,{children:g.jsx(Vpe,{children:g.jsxs("p",{children:["Can you share songs you add? This would help tremendously as I will be able to add it for everyone to play ",g.jsx("br",{}),g.jsx("br",{}),"Shared songs appear for other players with a couple of days of delay."]})})}),g.jsxs(bpe,{children:[g.jsx(hO,{onClick:()=>l(!1),"data-test":"share-songs-disagree",children:"Disagree"}),g.jsx(hO,{onClick:()=>l(!0),autoFocus:!0,variant:"contained","data-test":"share-songs-agree",children:"Agree"})]})]})}lo.extend(mhe);function zpe(){const{data:e}=bf(!0),[t]=iL(null),n=My("song");Nl(!1);const r=XN(n??"");return r.data?g.jsxs(Gy,{elevation:2,sx:{minHeight:"100vh",width:"1260px",margin:"0 auto",paddingTop:"30px"},children:[g.jsx(gs,{children:g.jsx("title",{children:"Edit Song | AllKaraoke.Party - Free Online Karaoke Party Game"})}),g.jsxs($pe,{children:[g.jsx(Uy,{to:"edit/list/",children:g.jsx("a",{children:"Return to the song list"})}),g.jsxs("span",{children:["Editing:"," ",g.jsxs("b",{children:[r.data.artist," - ",r.data.title]}),r.data.local&&g.jsx(Ny,{title:"Delete the song",onClick:async()=>{global.confirm("Are you sure you want to delete this song?")&&(await fs.deleteSong(r.data.id),t&&e.some(s=>s.id===r.data.id)&&er.capture("unshare-song",{songId:r.data.id}))},"data-test":"delete-song",children:g.jsx(fhe,{})})]}),g.jsxs("abbr",{title:r.data.lastUpdate,children:["Last updated: ",g.jsx("b",{children:r.data.lastUpdate?lo(r.data.lastUpdate).fromNow():"-"})]})]}),g.jsx(WN,{song:r.data})]}):g.jsx(g.Fragment,{children:"Loading"})}const $pe=K("div",{target:"e104ojv10"})({name:"12zd36v",styles:"display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;padding:0 8px"});var Upe=Math.floor,Hpe=Math.random;function qpe(e,t){return e+Upe(Hpe()*(t-e+1))}function sL(e,t){var n=-1,r=e.length,i=r-1;for(t=t===void 0?r:t;++n<t;){var s=qpe(n,i),l=e[s];e[s]=e[n],e[n]=l}return e.length=t,e}function Gpe(e){return sL(LD(e))}function Ype(e,t){return eE(t,function(n){return e[n]})}function Kpe(e){return e==null?[]:Ype(e,Wp(e))}function Wpe(e){return sL(Kpe(e))}function Qpe(e){var t=Hs(e)?Gpe:Wpe;return t(e)}var Dj;const oL=!((Dj=document.getElementById("root"))!=null&&Dj.hasChildNodes());function c2(e){return oL?null:e.children}function ki(e){const t=Oi(),n=r=>{e.onClick?e.onClick(r):(r.preventDefault(),t(e.to))};return g.jsx(Uy,{...e,onClick:n})}const ld=e=>new Promise(t=>setTimeout(t,e));function Xpe(e,t){x.useEffect(()=>{var n,r;(r=(n=e.current)==null?void 0:n.getInternalPlayer())==null||r.setVolume(Math.round((t??.5)*100))},[e,t])}var b_,bO;function Jpe(){return bO||(bO=1,b_=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(s=Object.keys(t),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var l=s[i];if(!e(t[l],n[l]))return!1}return!0}return t!==t&&n!==n}),b_}var Zpe=Jpe();const ege=Pr(Zpe);var Qm={exports:{}},__,_O;function tge(){if(_O)return __;_O=1;var e;/**
* @link https://github.com/gajus/sister for the canonical source repository
* @license https://github.com/gajus/sister/blob/master/LICENSE BSD 3-Clause
*/return e=function(){var t={},n={};return t.on=function(r,i){var s={name:r,handler:i};return n[r]=n[r]||[],n[r].unshift(s),s},t.off=function(r){var i=n[r.name].indexOf(r);i!==-1&&n[r.name].splice(i,1)},t.trigger=function(r,i){var s=n[r],l;if(s)for(l=s.length;l--;)s[l].handler(i)},t},__=e,__}var Xm={exports:{}},S_,SO;function nge(){if(SO)return S_;SO=1,S_=function(i,s,l){var c=document.head||document.getElementsByTagName("head")[0],d=document.createElement("script");typeof s=="function"&&(l=s,s={}),s=s||{},l=l||function(){},d.type=s.type||"text/javascript",d.charset=s.charset||"utf8",d.async="async"in s?!!s.async:!0,d.src=i,s.attrs&&e(d,s.attrs),s.text&&(d.text=""+s.text);var u="onload"in d?t:n;u(d,l),d.onload||t(d,l),c.appendChild(d)};function e(r,i){for(var s in i)r.setAttribute(s,i[s])}function t(r,i){r.onload=function(){this.onerror=this.onload=null,i(null,r)},r.onerror=function(){this.onerror=this.onload=null,i(new Error("Failed to load "+this.src),r)}}function n(r,i){r.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,i(null,r))}}return S_}var xO;function rge(){return xO||(xO=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=nge(),r=i(n);function i(s){return s&&s.__esModule?s:{default:s}}t.default=function(s){var l=new Promise(function(c){if(window.YT&&window.YT.Player&&window.YT.Player instanceof Function){c(window.YT);return}else{var d=window.location.protocol==="http:"?"http:":"https:";(0,r.default)(d+"//www.youtube.com/iframe_api",function(p){p&&s.trigger("error",p)})}var u=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){u&&u(),c(window.YT)}});return l},e.exports=t.default}(Xm,Xm.exports)),Xm.exports}var Jm={exports:{}},Zm={exports:{}},e0={exports:{}},x_,wO;function ige(){if(wO)return x_;wO=1;var e=1e3,t=e*60,n=t*60,r=n*24,i=r*365.25;x_=function(u,p){p=p||{};var h=typeof u;if(h==="string"&&u.length>0)return s(u);if(h==="number"&&isNaN(u)===!1)return p.long?c(u):l(u);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(u))};function s(u){if(u=String(u),!(u.length>100)){var p=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(u);if(p){var h=parseFloat(p[1]),v=(p[2]||"ms").toLowerCase();switch(v){case"years":case"year":case"yrs":case"yr":case"y":return h*i;case"days":case"day":case"d":return h*r;case"hours":case"hour":case"hrs":case"hr":case"h":return h*n;case"minutes":case"minute":case"mins":case"min":case"m":return h*t;case"seconds":case"second":case"secs":case"sec":case"s":return h*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return h;default:return}}}}function l(u){return u>=r?Math.round(u/r)+"d":u>=n?Math.round(u/n)+"h":u>=t?Math.round(u/t)+"m":u>=e?Math.round(u/e)+"s":u+"ms"}function c(u){return d(u,r,"day")||d(u,n,"hour")||d(u,t,"minute")||d(u,e,"second")||u+" ms"}function d(u,p,h){if(!(u<p))return u<p*1.5?Math.floor(u/p)+" "+h:Math.ceil(u/p)+" "+h+"s"}return x_}var EO;function sge(){return EO||(EO=1,function(e,t){t=e.exports=i.debug=i.default=i,t.coerce=d,t.disable=l,t.enable=s,t.enabled=c,t.humanize=ige(),t.names=[],t.skips=[],t.formatters={};var n;function r(u){var p=0,h;for(h in u)p=(p<<5)-p+u.charCodeAt(h),p|=0;return t.colors[Math.abs(p)%t.colors.length]}function i(u){function p(){if(p.enabled){var h=p,v=+new Date,y=v-(n||v);h.diff=y,h.prev=n,h.curr=v,n=v;for(var b=new Array(arguments.length),_=0;_<b.length;_++)b[_]=arguments[_];b[0]=t.coerce(b[0]),typeof b[0]!="string"&&b.unshift("%O");var w=0;b[0]=b[0].replace(/%([a-zA-Z%])/g,function(k,R){if(k==="%%")return k;w++;var M=t.formatters[R];if(typeof M=="function"){var E=b[w];k=M.call(h,E),b.splice(w,1),w--}return k}),t.formatArgs.call(h,b);var T=p.log||t.log||console.log.bind(console);T.apply(h,b)}}return p.namespace=u,p.enabled=t.enabled(u),p.useColors=t.useColors(),p.color=r(u),typeof t.init=="function"&&t.init(p),p}function s(u){t.save(u),t.names=[],t.skips=[];for(var p=(typeof u=="string"?u:"").split(/[\s,]+/),h=p.length,v=0;v<h;v++)p[v]&&(u=p[v].replace(/\*/g,".*?"),u[0]==="-"?t.skips.push(new RegExp("^"+u.substr(1)+"$")):t.names.push(new RegExp("^"+u+"$")))}function l(){t.enable("")}function c(u){var p,h;for(p=0,h=t.skips.length;p<h;p++)if(t.skips[p].test(u))return!1;for(p=0,h=t.names.length;p<h;p++)if(t.names[p].test(u))return!0;return!1}function d(u){return u instanceof Error?u.stack||u.message:u}}(e0,e0.exports)),e0.exports}var TO;function oge(){return TO||(TO=1,function(e,t){var n={};t=e.exports=sge(),t.log=s,t.formatArgs=i,t.save=l,t.load=c,t.useColors=r,t.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:d(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function r(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}t.formatters.j=function(u){try{return JSON.stringify(u)}catch(p){return"[UnexpectedJSONParseError]: "+p.message}};function i(u){var p=this.useColors;if(u[0]=(p?"%c":"")+this.namespace+(p?" %c":" ")+u[0]+(p?"%c ":" ")+"+"+t.humanize(this.diff),!!p){var h="color: "+this.color;u.splice(1,0,h,"color: inherit");var v=0,y=0;u[0].replace(/%[a-zA-Z%]/g,function(b){b!=="%%"&&(v++,b==="%c"&&(y=v))}),u.splice(y,0,h)}}function s(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function l(u){try{u==null?t.storage.removeItem("debug"):t.storage.debug=u}catch{}}function c(){var u;try{u=t.storage.debug}catch{}return!u&&typeof process<"u"&&"env"in process&&(u=n.DEBUG),u}t.enable(c());function d(){try{return window.localStorage}catch{}}}(Zm,Zm.exports)),Zm.exports}var t0={exports:{}},CO;function age(){return CO||(CO=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=["cueVideoById","loadVideoById","cueVideoByUrl","loadVideoByUrl","playVideo","pauseVideo","stopVideo","getVideoLoadedFraction","cuePlaylist","loadPlaylist","nextVideo","previousVideo","playVideoAt","setShuffle","setLoop","getPlaylist","getPlaylistIndex","setOption","mute","unMute","isMuted","setVolume","getVolume","seekTo","getPlayerState","getPlaybackRate","setPlaybackRate","getAvailablePlaybackRates","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getCurrentTime","getDuration","removeEventListener","getVideoUrl","getVideoEmbedCode","getOptions","getOption","addEventListener","destroy","setSize","getIframe"],e.exports=t.default}(t0,t0.exports)),t0.exports}var n0={exports:{}},kO;function lge(){return kO||(kO=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=["ready","stateChange","playbackQualityChange","playbackRateChange","error","apiChange","volumeChange"],e.exports=t.default}(n0,n0.exports)),n0.exports}var r0={exports:{}},i0={exports:{}},MO;function cge(){return MO||(MO=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default={BUFFERING:3,ENDED:0,PAUSED:2,PLAYING:1,UNSTARTED:-1,VIDEO_CUED:5},e.exports=t.default}(i0,i0.exports)),i0.exports}var RO;function uge(){return RO||(RO=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=cge(),r=i(n);function i(s){return s&&s.__esModule?s:{default:s}}t.default={pauseVideo:{acceptableStates:[r.default.ENDED,r.default.PAUSED],stateChangeRequired:!1},playVideo:{acceptableStates:[r.default.ENDED,r.default.PLAYING],stateChangeRequired:!1},seekTo:{acceptableStates:[r.default.ENDED,r.default.PLAYING,r.default.PAUSED],stateChangeRequired:!0,timeout:3e3}},e.exports=t.default}(r0,r0.exports)),r0.exports}var IO;function dge(){return IO||(IO=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=oge(),r=p(n),i=age(),s=p(i),l=lge(),c=p(l),d=uge(),u=p(d);function p(y){return y&&y.__esModule?y:{default:y}}var h=(0,r.default)("youtube-player"),v={};v.proxyEvents=function(y){var b={},_=function(j){var P="on"+j.slice(0,1).toUpperCase()+j.slice(1);b[P]=function(V){h('event "%s"',P,V),y.trigger(j,V)}},w=!0,T=!1,k=void 0;try{for(var R=c.default[Symbol.iterator](),M;!(w=(M=R.next()).done);w=!0){var E=M.value;_(E)}}catch(O){T=!0,k=O}finally{try{!w&&R.return&&R.return()}finally{if(T)throw k}}return b},v.promisifyPlayer=function(y){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,_={},w=function(P){b&&u.default[P]?_[P]=function(){for(var V=arguments.length,C=Array(V),N=0;N<V;N++)C[N]=arguments[N];return y.then(function(U){var L=u.default[P],q=U.getPlayerState(),H=U[P].apply(U,C);return L.stateChangeRequired||Array.isArray(L.acceptableStates)&&L.acceptableStates.indexOf(q)===-1?new Promise(function(D){var W=function Q(){var J=U.getPlayerState(),B=void 0;typeof L.timeout=="number"&&(B=setTimeout(function(){U.removeEventListener("onStateChange",Q),D()},L.timeout)),Array.isArray(L.acceptableStates)&&L.acceptableStates.indexOf(J)!==-1&&(U.removeEventListener("onStateChange",Q),clearTimeout(B),D())};U.addEventListener("onStateChange",W)}).then(function(){return H}):H})}:_[P]=function(){for(var V=arguments.length,C=Array(V),N=0;N<V;N++)C[N]=arguments[N];return y.then(function(U){return U[P].apply(U,C)})}},T=!0,k=!1,R=void 0;try{for(var M=s.default[Symbol.iterator](),E;!(T=(E=M.next()).done);T=!0){var O=E.value;w(O)}}catch(j){k=!0,R=j}finally{try{!T&&M.return&&M.return()}finally{if(k)throw R}}return _},t.default=v,e.exports=t.default}(Jm,Jm.exports)),Jm.exports}var OO;function fge(){return OO||(OO=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},r=tge(),i=u(r),s=rge(),l=u(s),c=dge(),d=u(c);function u(h){return h&&h.__esModule?h:{default:h}}var p=void 0;t.default=function(h){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,b=(0,i.default)();if(p||(p=(0,l.default)(b)),v.events)throw new Error("Event handlers cannot be overwritten.");if(typeof h=="string"&&!document.getElementById(h))throw new Error('Element "'+h+'" does not exist.');v.events=d.default.proxyEvents(b);var _=new Promise(function(T){if((typeof h>"u"?"undefined":n(h))==="object"&&h.playVideo instanceof Function){var k=h;T(k)}else p.then(function(R){var M=new R.Player(h,v);return b.on("ready",function(){T(M)}),null})}),w=d.default.promisifyPlayer(_,y);return w.on=b.on,w.off=b.off,w},e.exports=t.default}(Qm,Qm.exports)),Qm.exports}var hge=fge();const pge=Pr(hge);var gge=Object.defineProperty,mge=Object.defineProperties,vge=Object.getOwnPropertyDescriptors,jO=Object.getOwnPropertySymbols,yge=Object.prototype.hasOwnProperty,Age=Object.prototype.propertyIsEnumerable,PO=(e,t,n)=>t in e?gge(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qx=(e,t)=>{for(var n in t||(t={}))yge.call(t,n)&&PO(e,n,t[n]);if(jO)for(var n of jO(t))Age.call(t,n)&&PO(e,n,t[n]);return e},Gx=(e,t)=>mge(e,vge(t)),bge=(e,t,n)=>new Promise((r,i)=>{var s=d=>{try{c(n.next(d))}catch(u){i(u)}},l=d=>{try{c(n.throw(d))}catch(u){i(u)}},c=d=>d.done?r(d.value):Promise.resolve(d.value).then(s,l);c((n=n.apply(e,t)).next())});function _ge(e,t){var n,r;if(e.videoId!==t.videoId)return!0;const i=((n=e.opts)==null?void 0:n.playerVars)||{},s=((r=t.opts)==null?void 0:r.playerVars)||{};return i.start!==s.start||i.end!==s.end}function VO(e={}){return Gx(qx({},e),{height:0,width:0,playerVars:Gx(qx({},e.playerVars),{autoplay:0,start:0,end:0})})}function Sge(e,t){return e.videoId!==t.videoId||!ege(VO(e.opts),VO(t.opts))}function xge(e,t){var n,r,i,s;return e.id!==t.id||e.className!==t.className||((n=e.opts)==null?void 0:n.width)!==((r=t.opts)==null?void 0:r.width)||((i=e.opts)==null?void 0:i.height)!==((s=t.opts)==null?void 0:s.height)||e.iframeClassName!==t.iframeClassName||e.title!==t.title}var wge={videoId:"",id:"",className:"",iframeClassName:"",style:{},title:"",loading:void 0,opts:{},onReady:()=>{},onError:()=>{},onPlay:()=>{},onPause:()=>{},onEnd:()=>{},onStateChange:()=>{},onPlaybackRateChange:()=>{},onPlaybackQualityChange:()=>{}},Ege={videoId:It.string,id:It.string,className:It.string,iframeClassName:It.string,style:It.object,title:It.string,loading:It.oneOf(["lazy","eager"]),opts:It.objectOf(It.any),onReady:It.func,onError:It.func,onPlay:It.func,onPause:It.func,onEnd:It.func,onStateChange:It.func,onPlaybackRateChange:It.func,onPlaybackQualityChange:It.func},L0=class extends Qe.Component{constructor(e){super(e),this.destroyPlayerPromise=void 0,this.onPlayerReady=t=>{var n,r;return(r=(n=this.props).onReady)==null?void 0:r.call(n,t)},this.onPlayerError=t=>{var n,r;return(r=(n=this.props).onError)==null?void 0:r.call(n,t)},this.onPlayerStateChange=t=>{var n,r,i,s,l,c,d,u;switch((r=(n=this.props).onStateChange)==null||r.call(n,t),t.data){case L0.PlayerState.ENDED:(s=(i=this.props).onEnd)==null||s.call(i,t);break;case L0.PlayerState.PLAYING:(c=(l=this.props).onPlay)==null||c.call(l,t);break;case L0.PlayerState.PAUSED:(u=(d=this.props).onPause)==null||u.call(d,t);break}},this.onPlayerPlaybackRateChange=t=>{var n,r;return(r=(n=this.props).onPlaybackRateChange)==null?void 0:r.call(n,t)},this.onPlayerPlaybackQualityChange=t=>{var n,r;return(r=(n=this.props).onPlaybackQualityChange)==null?void 0:r.call(n,t)},this.destroyPlayer=()=>this.internalPlayer?(this.destroyPlayerPromise=this.internalPlayer.destroy().then(()=>this.destroyPlayerPromise=void 0),this.destroyPlayerPromise):Promise.resolve(),this.createPlayer=()=>{if(typeof document>"u")return;if(this.destroyPlayerPromise){this.destroyPlayerPromise.then(this.createPlayer);return}const t=Gx(qx({},this.props.opts),{videoId:this.props.videoId});this.internalPlayer=pge(this.container,t),this.internalPlayer.on("ready",this.onPlayerReady),this.internalPlayer.on("error",this.onPlayerError),this.internalPlayer.on("stateChange",this.onPlayerStateChange),this.internalPlayer.on("playbackRateChange",this.onPlayerPlaybackRateChange),this.internalPlayer.on("playbackQualityChange",this.onPlayerPlaybackQualityChange),(this.props.title||this.props.loading)&&this.internalPlayer.getIframe().then(n=>{this.props.title&&n.setAttribute("title",this.props.title),this.props.loading&&n.setAttribute("loading",this.props.loading)})},this.resetPlayer=()=>this.destroyPlayer().then(this.createPlayer),this.updatePlayer=()=>{var t;(t=this.internalPlayer)==null||t.getIframe().then(n=>{this.props.id?n.setAttribute("id",this.props.id):n.removeAttribute("id"),this.props.iframeClassName?n.setAttribute("class",this.props.iframeClassName):n.removeAttribute("class"),this.props.opts&&this.props.opts.width?n.setAttribute("width",this.props.opts.width.toString()):n.removeAttribute("width"),this.props.opts&&this.props.opts.height?n.setAttribute("height",this.props.opts.height.toString()):n.removeAttribute("height"),this.props.title?n.setAttribute("title",this.props.title):n.setAttribute("title","YouTube video player"),this.props.loading?n.setAttribute("loading",this.props.loading):n.removeAttribute("loading")})},this.getInternalPlayer=()=>this.internalPlayer,this.updateVideo=()=>{var t,n,r,i;if(typeof this.props.videoId>"u"||this.props.videoId===null){(t=this.internalPlayer)==null||t.stopVideo();return}let s=!1;const l={videoId:this.props.videoId};if((n=this.props.opts)!=null&&n.playerVars&&(s=this.props.opts.playerVars.autoplay===1,"start"in this.props.opts.playerVars&&(l.startSeconds=this.props.opts.playerVars.start),"end"in this.props.opts.playerVars&&(l.endSeconds=this.props.opts.playerVars.end)),s){(r=this.internalPlayer)==null||r.loadVideoById(l);return}(i=this.internalPlayer)==null||i.cueVideoById(l)},this.refContainer=t=>{this.container=t},this.container=null,this.internalPlayer=null}componentDidMount(){this.createPlayer()}componentDidUpdate(e){return bge(this,null,function*(){xge(e,this.props)&&this.updatePlayer(),Sge(e,this.props)&&(yield this.resetPlayer()),_ge(e,this.props)&&this.updateVideo()})}componentWillUnmount(){this.destroyPlayer()}render(){return Qe.createElement("div",{className:this.props.className,style:this.props.style},Qe.createElement("div",{id:this.props.id,className:this.props.iframeClassName,ref:this.refContainer}))}},Ky=L0;Ky.propTypes=Ege;Ky.defaultProps=wge;Ky.PlayerState={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5};var To=Ky;function Tge(e){const[t,n]=x.useState(1);return x.useEffect(()=>{if(e===To.PlayerState.UNSTARTED){const r=setTimeout(()=>{n(i=>i+1)},5e3+t*2500);return()=>{clearTimeout(r)}}}),t}function Cge(e,t){x.useEffect(()=>{if(t===To.PlayerState.BUFFERING){const n=setInterval(async()=>{var r,i,s;if(navigator.onLine){clearInterval(n);const l=await((r=e.current)==null?void 0:r.getInternalPlayer().getCurrentTime());(s=(i=e.current)==null?void 0:i.getInternalPlayer())==null||s.seekTo(Math.max(l-2,0),!0)}},500);return()=>{clearInterval(n)}}})}function kge(e,t){return Cge(e,t),Tge(t)}var qn=(e=>(e.UNSTARTED="UNSTARTED",e.ENDED="ENDED",e.PLAYING="PLAYING",e.PAUSED="PAUSED",e.BUFFERING="BUFFERING",e.CUED="CUED",e))(qn||{});const DO={[To.PlayerState.UNSTARTED]:"UNSTARTED",[To.PlayerState.ENDED]:"ENDED",[To.PlayerState.PLAYING]:"PLAYING",[To.PlayerState.PAUSED]:"PAUSED",[To.PlayerState.BUFFERING]:"BUFFERING",[To.PlayerState.CUED]:"CUED"},Mge=x.forwardRef(function({video:t,autoplay:n,startAt:r,controls:i,disablekb:s,volume:l,width:c,height:d,onStateChange:u},p){const h=x.useRef(null),[v,y]=x.useState(To.PlayerState.UNSTARTED),b=kge(h,v);return Xpe(h,l),x.useEffect(()=>{h.current&&h.current.getInternalPlayer().setSize(c,d)},[h,c,d,t,b]),x.useImperativeHandle(p,()=>({getStatus:()=>DO[v],setSize:(_,w)=>{var T;return(T=h.current)==null?void 0:T.getInternalPlayer().setSize(_,w)},seekTo:_=>{var w;return(w=h.current)==null?void 0:w.getInternalPlayer().seekTo(_,!0)},setPlaybackSpeed:_=>{var w;return(w=h.current)==null?void 0:w.getInternalPlayer().setPlaybackRate(_)},setVolume:_=>{var w;return(w=h.current)==null?void 0:w.getInternalPlayer().setVolume(_)},getCurrentTime:()=>{var _,w,T,k;return((k=(T=(w=(_=h.current)==null?void 0:_.getInternalPlayer)==null?void 0:w.call(_))==null?void 0:T.getCurrentTime)==null?void 0:k.call(T))??Promise.resolve(0)},loadVideoById:_=>{var w;return(w=h.current)==null?void 0:w.getInternalPlayer().loadVideoById(_)},playVideo:()=>{var _;(_=h.current)==null||_.getInternalPlayer().playVideo()},pauseVideo:()=>{var _;return(_=h.current)==null?void 0:_.getInternalPlayer().pauseVideo()},getDuration:()=>{var _,w,T,k;return((k=(T=(w=(_=h.current)==null?void 0:_.getInternalPlayer)==null?void 0:w.call(_))==null?void 0:T.getDuration)==null?void 0:k.call(T))??Promise.resolve(0)}})),g.jsx(To,{title:" ",ref:h,videoId:t,opts:{width:"0",height:"0",playerVars:{autoplay:n?1:0,rel:0,fs:0,controls:i?1:0,start:r??0,end:0,disablekb:s?1:0,modestbranding:1}},onStateChange:_=>{y(_.data),u==null||u(DO[_.data])}},`${t}-${b}`)}),Rge=x.forwardRef(function({video:t,autoplay:n=!0,startAt:r,controls:i,disablekb:s,volume:l,width:c,height:d,onStateChange:u},p){const h=x.useRef(null),[v,y]=x.useState({w:c,h:d}),[b,_]=x.useState(qn.UNSTARTED);x.useEffect(()=>{const k=j=>()=>_(j),R=h.current,M=k(qn.PLAYING),E=k(qn.PAUSED),O=k(qn.ENDED);return R==null||R.addEventListener("playing",M),R==null||R.addEventListener("pause",E),R==null||R.addEventListener("ended",O),()=>{R==null||R.removeEventListener("playing",M),R==null||R.removeEventListener("pause",E),R==null||R.removeEventListener("ended",O)}},[_]),x.useEffect(()=>{u==null||u(b)},[b,u]);const w=x.useRef(null),T=x.useMemo(()=>({getStatus:()=>b,setSize:(k,R)=>y({w:k,h:R}),seekTo:k=>(h.current&&(h.current.currentTime=k),k),setPlaybackSpeed:k=>{h.current&&(h.current.playbackRate=k)},setVolume:()=>{},getCurrentTime:()=>{var k;return Promise.resolve(((k=h.current)==null?void 0:k.currentTime)??0)},playVideo:async()=>{var k;return await ld(200),(k=h.current)==null?void 0:k.play()},pauseVideo:()=>{var k;return(k=h.current)==null?void 0:k.pause()},getDuration:()=>{var k;return Promise.resolve(((k=h.current)==null?void 0:k.duration)??0)},loadVideoById:()=>{var k;clearTimeout(w.current),(k=h.current)==null||k.pause(),_(qn.UNSTARTED),w.current=setTimeout(()=>{var R;(R=h.current)==null||R.play()},300)}}),[h]);return x.useEffect(()=>{T.setSize(c,d)},[c,d,T]),x.useEffect(()=>{r!==void 0&&T.seekTo(r)},[r,T]),x.useImperativeHandle(p,()=>T),g.jsx("video",{style:{width:v.w,height:v.h},autoPlay:n,controls:i,ref:h,children:g.jsx("source",{src:t})})}),Ige="/assets/dummy-video-long-C7qbKeYK.webm",Oge="/assets/dummy-video-9QP_sTy6.webm",jge=x.forwardRef(function({video:t,controls:n,...r},i){return g.jsx(Rge,{ref:i,video:t==="Vueyx9TBEqE"?Ige:Oge,controls:!0,...r})}),Wy=x.forwardRef((e,t)=>ds()?g.jsx(jge,{...e,ref:t}):g.jsx(Mge,{...e,ref:t}));function aL({songData:e,background:t,width:n,height:r,children:i,...s}){return g.jsxs(Pge,{video:e.video,width:n,height:r,...s,children:[g.jsx(Dge,{video:e.video,blur:!0}),t&&g.jsx(lL,{children:t}),g.jsx(Bge,{children:g.jsxs(Nge,{children:[g.jsx(Lge,{children:e.title}),g.jsx("br",{}),g.jsx(Fge,{children:e.artist}),g.jsx("br",{}),e.author&&g.jsxs(zge,{children:["by",e.authorUrl?g.jsx("a",{href:e.authorUrl,children:e.author}):e.author]}),i]})})]})}const Pge=K("div",{target:"e1kx27c8"})("width:",e=>e.width,"px;top:0;height:",e=>e.height,"px;overflow-y:hidden;background:black;position:relative;"),lL=K("div",{target:"e1kx27c7"})({name:"1vuuxha",styles:"z-index:1;top:0;left:0;position:absolute;width:100%;height:100%"}),Vge=K(lL,{target:"e1kx27c6"})("background-size:cover;background-position:center center;filter:",e=>e.blur?"blur(0.5rem)":"none",";"),Dge=e=>g.jsx(Vge,{style:{backgroundImage:`url('https://i3.ytimg.com/vi/${e.video}/hqdefault.jpg')`},...e}),Bge=K("div",{target:"e1kx27c5"})({name:"11t99gq",styles:"z-index:2;top:0;left:0;width:100%;height:100%;position:absolute;pointer-events:none"}),Nge=K("div",{target:"e1kx27c4"})({name:"14zbexy",styles:"position:relative;margin:0 auto;color:white;max-width:80vw;height:100%;pointer-events:none"}),Qy=K("span",{target:"e1kx27c3"})("background:rgba(0, 0, 0, 0.5);display:inline-block;backdrop-filter:blur(0.5rem);",Ot,";padding:0.5rem 2rem;margin:0 0 1rem 0;"),Lge=K(Qy,{target:"e1kx27c2"})("color:",Ue.colors.text.active,";margin-top:2rem;font-size:4.5rem;"),Fge=K(Qy,{target:"e1kx27c1"})({name:"tic7nk",styles:"font-size:3.5rem"}),zge=K(Qy,{target:"e1kx27c0"})({name:"a07gmx",styles:"font-size:2rem"});function $ge(){var h;Pl(!1),Nl(!1);const e=Oi(),{width:t,height:n}=gf(),[r,i]=x.useState(0),s=bf(),[l,c]=x.useState([]),{register:d}=dr({onBackspace:()=>e("menu/")});x.useEffect(()=>s.data&&c(Qpe(s.data)),[s.data]);const u=()=>s.data&&i(v=>(v+1)%s.data.length);if(!l.length||!t||!n)return null;const p=Bv("game/",{song:l[r].id,playlist:"All"});return g.jsxs(Dl,{children:[g.jsx(gs,{children:g.jsx("title",{children:"Jukebox | AllKaraoke.Party - Free Online Karaoke Party Game"})}),g.jsx(c2,{children:g.jsxs(aL,{width:t,height:n,songData:l[r],"data-test":"jukebox-container","data-song":l[r].id,background:g.jsx(Wy,{autoplay:!0,controls:!0,width:t,height:n,volume:(h=l[r])==null?void 0:h.volume,video:l[r].video,startAt:l[r].videoGap,onStateChange:v=>{v===qn.ENDED&&u()}}),children:[g.jsx(Hge,{...d("skip-button",u),children:"Skip"}),g.jsx(ki,{to:p,children:g.jsx(Uge,{...d("sing-button",()=>e(p),void 0,!0),children:"Sing this song"})})]})})]})}const Uge=K(No,{target:"e1573hk21"})({name:"9gmhgo",styles:"bottom:7rem;right:2rem;width:50rem;position:absolute;font-size:1.9vw"}),Hge=K(No,{target:"e1573hk20"})({name:"1qbm012",styles:"bottom:15rem;right:2rem;width:30rem;position:absolute;font-size:1.9vw"}),qge=K("svg",{target:"enucs170"})({name:"w3i2x3",styles:"--curve:cubic-bezier(0.65, 0, 0.45, 1);--green:#4caf50;margin-right:1rem;width:3.5rem;height:3.5rem;border-radius:50%;display:block;stroke-width:2;stroke:#fff;stroke-miterlimit:10;box-shadow:inset 0px 0px 0px var(--green);animation:fill 0.4s ease-in-out 0.4s forwards,scale 0.3s ease-in-out 0.9s both;.checkmark__circle{stroke-dasharray:166;stroke-dashoffset:166;stroke-width:2;stroke-miterlimit:10;stroke:var(--green);fill:none;animation:stroke 0.6s var(--curve) forwards;}.checkmark__check{transform-origin:50% 50%;stroke-dasharray:48;stroke-dashoffset:48;animation:stroke 0.3s var(--curve) 0.8s forwards;}@keyframes stroke{100%{stroke-dashoffset:0;}}@keyframes scale{0%,100%{transform:none;}50%{transform:scale3d(1.1, 1.1, 1);}}@keyframes fill{100%{box-shadow:inset 0px 0px 0px 3rem var(--green);}}"}),Gge=e=>g.jsx(qge,{...e,children:g.jsxs("svg",{className:"checkmark",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 52 52",children:[g.jsx("circle",{className:"checkmark__circle",cx:"26",cy:"26",r:"25",fill:"none"}),g.jsx("path",{className:"checkmark__check",fill:"none",d:"M14.1 27.2l7.1 7.2 16.7-16.8"})]})}),F0=Wt([g.jsx("path",{fillRule:"evenodd",d:"M16.67 13.13C18.04 14.06 19 15.32 19 17v3h4v-3c0-2.18-3.57-3.47-6.33-3.87"},"0"),g.jsx("circle",{cx:"9",cy:"8",r:"4",fillRule:"evenodd"},"1"),g.jsx("path",{fillRule:"evenodd",d:"M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4c-.47 0-.91.1-1.33.24C14.5 5.27 15 6.58 15 8s-.5 2.73-1.33 3.76c.42.14.86.24 1.33.24m-6 1c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4"},"2")],"PeopleAlt"),BO=Wt(g.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"Person"),w_=Wt(g.jsx("path",{d:"M15.5 1h-8C6.12 1 5 2.12 5 3.5v17C5 21.88 6.12 23 7.5 23h8c1.38 0 2.5-1.12 2.5-2.5v-17C18 2.12 16.88 1 15.5 1m-4 21c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m4.5-4H7V4h9z"}),"PhoneIphone"),Yge=Wt([g.jsx("circle",{cx:"12",cy:"12",r:"3.2"},"0"),g.jsx("path",{d:"M9 2 7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5"},"1")],"PhotoCamera"),Kge=Wt(g.jsx("path",{d:"M3 11h8V3H3zm2-6h4v4H5zM3 21h8v-8H3zm2-6h4v4H5zm8-12v8h8V3zm6 6h-4V5h4zm0 10h2v2h-2zm-6-6h2v2h-2zm2 2h2v2h-2zm-2 2h2v2h-2zm2 2h2v2h-2zm2-2h2v2h-2zm0-4h2v2h-2zm2 2h2v2h-2z"}),"QrCode");function Wge({onPreferenceSelected:e,previouslySelected:t,onBack:n,skipText:r}){const[i]=xt(oi),{register:s}=dr({onBackspace:n});return g.jsxs(g.Fragment,{children:[g.jsxs(o0,{...s("remote-mics",()=>e("remoteMics"),void 0,t==="remoteMics"),children:[g.jsxs(Yh,{children:[g.jsx(EN,{}),g.jsx(w_,{})]}),g.jsxs("div",{children:[i?"Connect other phones":"Use Smartphones",g.jsxs(Gh,{children:["Use"," ",g.jsxs("strong",{children:[g.jsx(Yge,{}),"Camera app"]})," ","to scan a"," ",g.jsxs("strong",{children:[g.jsx(Kge,{})," QR code"]})," ","that will open Remote Mic website - no need to download an app!"]})]}),g.jsx(r2,{children:"Recommended"}),g.jsxs(s0,{children:[g.jsx(F0,{}),g.jsx("strong",{children:"1-4"})]})]}),g.jsxs(o0,{...s("built-in",()=>e("built-in"),void 0,t==="built-in"),children:[g.jsxs(Yh,{children:[g.jsx(BO,{}),i?g.jsx(w_,{}):g.jsx(wN,{})]}),g.jsxs("div",{children:["This ",i?"device's":"computer's"," microphone",g.jsxs(Gh,{children:["Great to ",g.jsx("strong",{children:"test"})," the app, ",g.jsx("strong",{children:"sing alone"})," or don't care about the rivalry at the party"]})]}),g.jsxs(s0,{children:[g.jsx(BO,{}),g.jsx("strong",{children:"1"})]})]}),g.jsx("hr",{}),!i&&g.jsxs(o0,{...s("multiple-mics",()=>e("multiple-mics"),void 0,t==="multiple-mics"),children:[g.jsxs(Yh,{children:[g.jsx(Vx,{}),g.jsx(SN,{})]}),g.jsxs("div",{children:["Multiple microphones",g.jsxs(Gh,{children:["Use either ",g.jsx("strong",{children:"SingStar"})," or ",g.jsx("strong",{children:"multiple microphones"})," connected to the device for each player"]})]}),g.jsxs(s0,{children:[g.jsx(F0,{}),g.jsx("strong",{children:"2"})]})]}),g.jsxs(o0,{...s("advanced",()=>e("advanced"),void 0,t==="advanced"),children:[g.jsxs(Yh,{children:[g.jsx(Vx,{}),g.jsx(w_,{})]}),g.jsxs("div",{children:["Advanced (manual) setup",g.jsx(Gh,{children:"Assign the specific device to a player manually, e.g. if you don't have regular SingStar microphones."})]}),g.jsxs(s0,{children:[g.jsx(F0,{}),g.jsx("strong",{children:"1-4"})]})]}),g.jsx("hr",{}),g.jsx(ki,{to:"menu/",onClick:l=>{l==null||l.preventDefault(),e("skip")},children:g.jsx(vt,{...s("skip",()=>e("skip"),void 0,t==="skip"),children:r||"Skip"})})]})}const s0=K("div",{target:"eb2r3ii3"})(Ot,";position:absolute;inset:auto 0.5rem 0.5rem auto;svg{font-size:0.9em;}gap:0.5rem;display:flex;align-items:center;justify-content:flex-end;"),Gh=K("div",{target:"eb2r3ii2"})({name:"4vipg7",styles:"padding:0 3rem 0 6rem;font-size:1.6rem;max-height:0;overflow:clip;transition:300ms;svg{font-size:1.4rem;}opacity:0"}),Yh=K("div",{target:"eb2r3ii1"})("position:relative;margin:0rem 0.6rem 0 2.5rem;transition:300ms;svg{transition:300ms;width:3.6rem;height:3.6rem;color:",Ue.colors.players[1].text,";}svg:first-of-type{top:0.6rem;left:1.25rem;position:absolute;color:",Ue.colors.players[0].text,";z-index:100;transform:scaleX(-1);}"),o0=K(vt,{target:"eb2r3ii0"})("position:relative;display:flex;align-items:center;&:hover,&[data-focused='true']{height:16.5rem;background:black;",Kd,";",Gh,"{padding-top:1.6rem;max-height:10rem;opacity:1;opacity:1;}",Yh,"{transform:scale(1.75);}}");function cL(){var e,t;return((t=(e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.includes)==null?void 0:t.call(e,"Win"))??!1}const u2=(e,t,n=!0,r=1e3/Ec.get())=>{x.useEffect(()=>{if(!n)return;const i=setInterval(()=>{const s=ur.getPlayerVolume(e)??0,l=ur.getPlayerFrequency(e)??0;t([s,Array.isArray(l)?l[0]:l])},r);return()=>{clearInterval(i)}},[e,r,t,n])},Qge=(e,t=1e3/Ec.get(),n)=>{const[r,i]=x.useState([0,0]);return u2(e,i,!0,t),x.useEffect(()=>{n&&n(r)},[r,n]),r},uL=e=>x.useMemo(()=>{if(!Ue.colors.players[e])return"0, 0, 0";const t=ke(Ue.colors.players[e].text).toRgb();return`${t.r}, ${t.g}, ${t.b}`},[e]),dL=K("div",{target:"eq7cjwi0"})({name:"5jivz6",styles:"height:100%;width:100%;position:absolute;right:0;top:0;background-repeat:repeat-y;transform-origin:right;z-index:1;pointer-events:none"}),Xge=x.forwardRef(({volume:e,playerNumber:t,...n},r)=>{const i=`${Math.min(1,e*20)}`,s=uL(t);return tt.getPlayer(t)?g.jsx(dL,{...n,style:{transform:`scaleX(${i})`,background:`linear-gradient(270deg, rgba(${s}, 1) 0%, rgba(${s}, 0) 100%)`},ref:r}):null}),d2=({playerNumber:e,...t})=>{const[n,r]=x.useState(),i=x.useCallback(([l])=>{if(n){const c=`${Math.min(1,l*20)}`;n.style.transform=`scaleX(${c})`}},[n]);u2(e,i);const s=uL(e);return g.jsx(dL,{...t,ref:r,style:{background:`linear-gradient(270deg, rgba(${s}, 1) 0%, rgba(${s}, 0) 100%)`}})};function Jge(e,t){const n=Object.keys(t),[r,i,s]=hs([me.playerInputChanged,me.inputListChanged],()=>{var u;const d=(u=tt.getPlayer(e))==null?void 0:u.input;return d?[d,Po.getInputForPlayerSelected(d),Po.isPlayerInputInitialised(d)]:[null,null,!0]});x.useEffect(()=>{var d;if(s&&i===null){const u=n[0],p=t[u].getDefault();p&&((d=tt.getPlayer(e))==null||d.changeInput(n[0],p.channel,p.deviceId))}});const l=d=>{var h;const u=jc(n,(r==null?void 0:r.source)??n[0]),p=d!==void 0?t[u].list[d]:t[u].getDefault();(h=tt.getPlayer(e))==null||h.changeInput(u,p==null?void 0:p.channel,p==null?void 0:p.deviceId)},c=()=>{var h;if(!r)return;const d=t[r.source].list,u=i?d.findIndex(v=>v.id===i.id):0,p=sg(d,u);if(p===0)l(0);else{const v=d[p];(h=tt.getPlayer(e))==null||h.changeInput(r.source,v==null?void 0:v.channel,v==null?void 0:v.deviceId)}};return[(r==null?void 0:r.source)??null,l,i,c]}const fL=e=>{const t=e.player,[n,r,i,s]=Jge(t.number,e.inputs);return g.jsxs(g.Fragment,{children:[e.blockSourceChange?g.jsxs(nme,{children:[g.jsxs("h3",{className:"ph-no-capture",children:[t.getName()," Input"]}),g.jsx("h4",{children:"(click to change)"})]}):g.jsx(tme,{...e.readonly?{}:e.register(`player-${t.number}-source`,()=>r()),label:g.jsxs("span",{className:"ph-no-capture",children:[t.getName()," Source"]}),value:n,disabled:e.readonly}),g.jsx(eme,{...e.readonly?{}:e.register(`player-${t.number}-input`,s),label:"Input",disabled:e.readonly,value:i==null?void 0:i.label,children:g.jsx(Zge,{playerNumber:t.number})})]})},Zge=K(d2,{target:"e6monco3"})({name:"1vx2200",styles:"opacity:0.75;width:50%;height:calc(100% - 0.5rem);margin:0.25rem"}),eme=K(Bs,{target:"e6monco2"})({name:"bjn8wh",styles:"position:relative"}),tme=K(Bs,{target:"e6monco1"})({name:"bigtx2",styles:"background:none"}),nme=K("div",{target:"e6monco0"})({name:"1laz9o6",styles:"display:flex;justify-content:space-between;align-items:flex-end"});function Xy(e=!1,t){const n=hs(me.inputListChanged,()=>{const r={...Po.getInputList()};if(t)return{[t]:r[t]};for(const i in r)r[i].list.length===0&&delete r[i];return r});return x.useEffect(()=>{e&&Po.loadMics()},[e]),n}function ag(e,t=vv){x.useEffect(()=>{tt.setMinPlayerNumber(e);const n=tt.getPlayers();if(n.length>t)for(let r=n.length;r>t;r--)tt.removePlayer(n[r-1].number);else if(n.length<e){const r=tt.getPlayers().map(s=>s.number),i=Array.from(Array(vv).keys()).filter(s=>!r.includes(s));console.log(i,r);for(let s=n.length;s<e;s++)tt.addPlayer(i.shift())}},[])}function hL(){const e=x.useRef(0);pi(me.remoteMicConnected,({id:t})=>{var r;if(console.log("useRemoteMicAutoselect",t),tt.getInputs().some(i=>i.deviceId===t)){console.log(`Input ${t} already assigned to player`);return}const n=tt.getPlayer(e.current);n?n.changeInput(ka.inputName,0,t):(r=tt.addPlayer(e.current))==null||r.changeInput(ka.inputName,0,t),e.current=(e.current+1)%vv})}function rme(e){ag(2);const t=Xy(!0),n=QE();x.useEffect(()=>{e.onSetupComplete(n==="accepted")},[n]),hL();const{register:r}=dr({onBackspace:e.onBack}),s=hs(me.playerInputChanged,()=>tt.getInputs()).filter(c=>c.source===Sa.inputName),l=hs([me.inputListChanged,me.playerInputChanged,me.playerRemoved],()=>tt.getPlayers());return g.jsxs(g.Fragment,{children:[g.jsxs(ig,{fallback:g.jsx("h2",{children:"Please allow access to the microphone so we can show them."}),children:[g.jsx(KE,{}),l.map((c,d)=>g.jsx(fL,{inputs:t,player:c,register:r,readonly:d>1},c.number)),g.jsx("hr",{}),s.length>1&&s2()&&cL()&&g.jsxs("h3",{children:[g.jsx("strong",{children:"Chrome"})," is known for not handling SingStar mics well. If you notice any problems, try using an alternative browser (eg. ",g.jsx("strong",{children:"MS Edge"})," or ",g.jsx("strong",{children:"Firefox"}),")"]})]}),g.jsx(vt,{...r("back-button",e.onBack),children:"Change Input Type"}),g.jsx(vt,{...r("save-button",e.onSave),children:e.closeButtonText})]})}const ime=Wt(g.jsx("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check"),pL=Wt(g.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-2h2zm0-4h-2V7h2z"}),"Error");function f2({names:e}){return g.jsx(sme,{children:tt.getPlayers().map(t=>g.jsxs(ome,{"data-test":`mic-check-p${t.number}`,children:[g.jsx(d2,{playerNumber:t.number}),g.jsx("span",{className:"ph-no-capture",children:(e==null?void 0:e[t.number])??t.getName()})]},t.number))})}const sme=K("div",{target:"e1e3gceh1"})({name:"e7x0p4",styles:"display:flex;gap:1.25rem;div{flex:1;}"}),ome=K("div",{target:"e1e3gceh0"})({name:"186bnmk",styles:"position:relative;border:0.1rem solid white;padding:1rem 3rem;background:black;text-align:center;gap:1.25rem;font-size:2.3rem;color:white"});function ame(e){const[t,n]=x.useState(null),r=x.useRef([]),i=x.useRef(0),s=x.useCallback(([l])=>{if(r.current.push(l),r.current.length>35){const d=r.current.sort()[Math.floor(r.current.length/2)]>0;d||i.current>7?n(d):i.current++,r.current.length=0}},[e]);return u2(0,s,t!==!0),x.useEffect(()=>{r.current.length=0,i.current=0,n(null)},[e]),t}function lme(e){ag(1,1);const{register:t}=dr({onBackspace:e.onBack}),{Microphone:n}=Xy(!0,"Microphone"),r=hs([me.playerInputChanged,me.inputListChanged],()=>{var p;const d=tt.getInputs().find(h=>h.source==="Microphone"),u=Po.getInputList().Microphone.list;return d?((p=u.find(h=>h.id===Hc(d)))==null?void 0:p.label)??"":""}),i=d=>{tt.getPlayers().forEach(u=>u.changeInput(Sa.inputName,d.channel,d.deviceId))},s=()=>{if(r===""){const d=n.getDefault();d&&i(d)}};x.useEffect(s,[]),pi([me.inputListChanged,me.playerRemoved],s);const l=()=>{const d=n.list.findIndex(u=>u.label===r);if(d>-1){const u=n.list[sg(n.list,d)];i(u)}},c=ame(r);return x.useEffect(()=>{e.onSetupComplete(!!r&&!!c)},[r,c]),g.jsxs(g.Fragment,{children:[g.jsxs(ig,{fallback:g.jsx("h2",{children:"Please allow access to the microphone so the default one can be selected."}),children:[!r&&g.jsx("h3",{children:"The default device is being selected."}),r&&g.jsxs(g.Fragment,{children:[g.jsxs(cme,{children:[g.jsx("h3",{children:"You'll sing using"}),g.jsx("h4",{children:"(click to change)"})]}),g.jsx(Bs,{...t("selected-mic",l),label:"Mic",value:r}),g.jsxs(ume,{children:[c===!0&&g.jsxs(g.Fragment,{children:[g.jsx("h3",{children:"Microphone is audible"}),g.jsx(E_,{children:g.jsx(fme,{})})]}),c===!1&&g.jsxs(g.Fragment,{children:[g.jsx("h3",{children:"Microphone is not audible"}),g.jsx(E_,{children:g.jsx(dme,{})})]}),c===null&&g.jsxs(g.Fragment,{children:[g.jsx("h3",{children:"Make some noise to the microphone"}),g.jsx(E_,{children:g.jsx(og,{size:"1em"})})]})]}),c===!1&&g.jsx("h4",{children:"Make some noise to the microphone. If that doesn't work, try using another microphone."})]}),g.jsx(f2,{}),c===!0&&g.jsxs("h4",{children:["Built-in microphones can pick up music from the game. For more accurate scores, try using your"," ",g.jsx("button",{onClick:()=>e.changePreference("remoteMics"),children:"smartphone as a microphone"}),"."]})]}),g.jsx(vt,{...t("back-button",e.onBack),children:"Change Input Type"}),g.jsx(vt,{...t("save-button",e.onSave,void 0,!0,{disabled:!r}),disabled:!r,children:e.closeButtonText})]})}const cme=K("div",{target:"e19x30ho4"})({name:"1laz9o6",styles:"display:flex;justify-content:space-between;align-items:flex-end"}),ume=K("div",{target:"e19x30ho3"})({name:"19mh0x6",styles:"display:flex;align-items:center;justify-content:flex-end"}),E_=K("div",{target:"e19x30ho2"})({name:"1wxh51d",styles:"width:4rem;height:3rem;display:flex;align-items:center;justify-content:flex-end"}),dme=K(pL,{target:"e19x30ho1"})({name:"72zlrs",styles:"&&{width:2em;height:2em;}color:red"}),fme=K(ime,{target:"e19x30ho0"})({name:"17t2lqr",styles:"&&{width:2em;height:2em;}color:white"});function hme(e){ag(2);const t=Xy(!0,"Microphone"),n=QE();x.useEffect(()=>{e.onSetupComplete(n==="accepted")},[n]),x.useEffect(()=>{tt.getPlayers().forEach(s=>{s.input.source!=="Microphone"&&s.changeInput("Microphone",0)})},[]);const{register:r}=dr({onBackspace:e.onBack}),i=hs([me.inputListChanged,me.playerInputChanged,me.playerRemoved],()=>tt.getPlayers());return g.jsxs(g.Fragment,{children:[g.jsxs(ig,{fallback:g.jsx("h2",{children:"Please allow access to the microphone so we can show them."}),children:[i.map((s,l)=>g.jsx(fL,{inputs:t,player:s,register:r,readonly:l>1,blockSourceChange:!0},s.number)),g.jsx("hr",{})]}),g.jsx(vt,{...r("back-button",e.onBack),children:"Change Input Type"}),g.jsx(vt,{...r("save-button",e.onSave),children:e.closeButtonText})]})}function pme(e){const{register:t}=dr({onBackspace:e.onBack});return g.jsxs(g.Fragment,{children:[g.jsx(vt,{...t("singstar-mics",()=>e.changePreference("singstar-mics")),children:"SingStar microphones"}),g.jsx(vt,{...t("different-mics-button",()=>e.changePreference("different-mics")),children:"Multiple different microphones"}),g.jsx("hr",{}),g.jsx(vt,{...t("back-button",e.onBack),children:"Change Input Type"})]})}function gme(e){var s,l;ag(2);const{register:t}=dr({onBackspace:e.onBack});hL();const n=hs([me.inputListChanged,me.playerInputChanged,me.playerRemoved],()=>tt.getInputs().map(c=>c.source==="Remote Microphone"?c:null).map(c=>c?Po.getInputForPlayerSelected(c):null)),r=()=>{e.onSave()},i=!!((s=n[0])!=null&&s.label)&&!!((l=n[1])!=null&&l.label);return x.useEffect(()=>{e.onSetupComplete(i)},[i]),g.jsxs(g.Fragment,{children:[g.jsx(KE,{}),g.jsx("h4",{children:"You can connect multiple phones in advance."}),g.jsx("h4",{children:"You will be able to connect phones later."}),g.jsx(f2,{}),g.jsx(vt,{...t("back-button",e.onBack),children:"Change Input Type"}),g.jsx(vt,{...t("save-button",r,void 0,!0),children:e.closeButtonText})]})}function mme(e){ag(2);const{register:t}=dr({onBackspace:e.onBack}),{Microphone:n}=Xy(!0,"Microphone"),[r,i]=x.useState(!1),s=hs([me.playerInputChanged,me.inputListChanged],()=>{const u=tt.getInputs(),p=[...new Set(u.map(y=>y.deviceId))].length===1,h=!u.find(y=>y.source!=="Microphone"),v=!u.find(y=>{var b;return((b=Po.getInputForPlayerSelected(y))==null?void 0:b.preferred)===void 0});return p&&h&&v});x.useEffect(()=>(s&&ur.startMonitoring(),()=>{ur.stopMonitoring()}),[s]);const l=()=>{e.onSave()},[c,d]=x.useState(!1);return pi(me.inputListChanged,u=>{const p=n.list.filter(h=>h.preferred!==void 0);p.length===2&&p[0].deviceId===p[1].deviceId&&p.forEach(h=>{var v;(v=tt.getPlayer(h.preferred))==null||v.changeInput(Sa.inputName,h.channel,h.deviceId)}),u||d(!0)}),x.useEffect(()=>{e.onSetupComplete(s)},[s]),x.useEffect(()=>{if(s)i(!1);else{const u=setTimeout(()=>i(!0),2500);return()=>clearTimeout(u)}},[s]),g.jsxs(g.Fragment,{children:[g.jsxs(ig,{fallback:g.jsx("h2",{children:"Please allow access to the microphone so we can find SingStar ones."}),children:[!s&&g.jsxs(g.Fragment,{children:[g.jsxs("h3",{children:[g.jsx(og,{size:"0.85em"})," Connect your SingStar microphones."]}),g.jsx("h4",{"data-test":"setup-not-completed",children:"It can take a couple of seconds to detect after you connect them."}),c&&g.jsx("h4",{children:g.jsxs("h4",{"data-test":"list-change-info",children:["Available microphones list has changed, but no SingStar mics were found. Try"," ",g.jsx("button",{onClick:()=>e.changePreference("advanced"),children:"Advanced"})," setup."]})}),r&&g.jsxs(g.Fragment,{children:[!c&&g.jsxs(NO,{"data-test":"advanced-tip",children:["If they don't get detected, try"," ",g.jsx("button",{onClick:()=>e.changePreference("advanced"),children:"Advanced"})," section in the previous menu."]}),s2()&&cL()&&g.jsxs(NO,{children:[g.jsx("strong",{children:"Chrome"})," is known for not handling SingStar mics well. If you notice any problems, try using an alternative browser (eg. ",g.jsx("strong",{children:"MS Edge"})," or ",g.jsx("strong",{children:"Firefox"}),")"]})]})]}),s&&g.jsxs(g.Fragment,{children:[g.jsxs("h2",{"data-test":"setup-completed",children:[g.jsx("strong",{children:"SingStar"})," microphone connected!"]}),g.jsx(f2,{names:["Blue","Red"]})]})]}),g.jsx(vt,{...t("back-button",e.onBack),children:"Change Input Type"}),g.jsx(vt,{...t("save-button",l,void 0,!0,{disabled:!s}),"data-test":"save-button",children:e.closeButtonText})]})}const NO=K("h4",{target:"ejfctyg0"})({name:"3v8j4h",styles:"background:darkred;padding:1rem"});function vme(e){return x.useEffect(()=>{e.onSave()},[]),null}const gL="Previously selected input type",yme=st.local.getItem(gL);function h2({onFinish:e,closeButtonText:t,playerNames:n,onBack:r,skipText:i,smooth:s=!0}){const[l,c]=xt(uV),[d,u]=x.useState(l==="skip"?null:l),[p,h]=x.useState(!1);x.useEffect(()=>{const _=ur.monitoringStarted();return ur.startMonitoring(),()=>{!_&&ur.stopMonitoring()}},[]);const v=(..._)=>{s?Op(()=>{mf.flushSync(()=>{u(..._)})}):u(..._)},y=_=>()=>{c(_==="skip"?l??"skip":_),_&&(st.local.setItem(gL,_),er.capture("sourcePreferenceSet",{source:_})),e==null||e(_)},b=()=>{Op(()=>{u(null),h(!1)})};return g.jsxs(g.Fragment,{children:[g.jsx(jt.Header,{children:p?g.jsxs(g.Fragment,{children:[g.jsx(Gge,{})," Setup completed!"]}):"How do you want to sing?"}),(d===null||d==="skip")&&g.jsx(Wge,{onPreferenceSelected:v,previouslySelected:yme,onBack:r,skipText:i}),d==="remoteMics"&&g.jsx(gme,{onSetupComplete:h,onBack:b,onSave:y("remoteMics"),closeButtonText:t,changePreference:u}),d==="multiple-mics"&&g.jsx(pme,{onSetupComplete:h,onBack:b,closeButtonText:t,changePreference:u}),d==="singstar-mics"&&g.jsx(mme,{onSetupComplete:h,onBack:b,onSave:y("singstar-mics"),closeButtonText:t,changePreference:u}),d==="different-mics"&&g.jsx(hme,{onSetupComplete:h,onBack:b,onSave:y("singstar-mics"),closeButtonText:t,changePreference:u}),d==="built-in"&&g.jsx(lme,{onSetupComplete:h,onBack:b,onSave:y("built-in"),closeButtonText:t,changePreference:u}),d==="advanced"&&g.jsx(rme,{onSave:y("advanced"),onSetupComplete:h,onBack:b,closeButtonText:t,changePreference:u}),d==="skip"&&g.jsx(vme,{onSetupComplete:h,onBack:b,onSave:y("skip"),closeButtonText:t,changePreference:u})]})}function Ame(){const e=Oi();return g.jsxs(Va,{children:[g.jsx(gs,{children:g.jsx("title",{children:"Select Input | AllKaraoke.Party - Free Online Karaoke Party Game"})}),g.jsx(h2,{onFinish:()=>e("menu/"),closeButtonText:"Go to main menu"})]})}const bme=({error:e,resetError:t})=>g.jsxs(Va,{supportedBrowsers:!0,children:[g.jsxs("h1",{children:[g.jsx(Af,{fontSize:"large"})," An error occurred :("]}),"message"in e?g.jsxs(g.Fragment,{children:[g.jsx("h3",{children:"The game crashed with following error"}),g.jsx(_me,{children:e.message})]}):g.jsx("h3",{children:"The game crashed"}),g.jsxs("h3",{children:["Help fix it by reporting what exactly has happened at"," ",g.jsx("a",{href:"https://github.com/Asvarox/allkaraoke",target:"_blank",rel:"noreferrer",children:"GitHub"})," ","or"," ",g.jsx("a",{href:"https://www.facebook.com/allkaraoke.party",target:"_blank",rel:"noreferrer",children:"Facebook"})]}),g.jsx(vt,{onClick:t,children:"Reset Error"}),g.jsx("h4",{children:"If that doesn't help"}),g.jsx(vt,{onClick:()=>{var n;return global.location.href=(n=global.location)==null?void 0:n.origin},children:"Reload the game"}),g.jsx("h4",{children:"If that doesn't help"}),g.jsx(vt,{onClick:()=>{var n;global.confirm("Are you sure? It will delete all custom songs and scores. Before doing that, try opening the game in an private window or another browser to make sure it will actually help")&&(st.session.clear(),st.local.clear(),ip.clear(),global.location.href=(n=global.location)==null?void 0:n.origin)},children:"Clear all data"})]}),_me=K("span",{target:"e10ztnls0"})({name:"1jmtlcm",styles:"color:white;font-family:monospace"});function Sme(){Nl(!1);const e=bf();return x.useEffect(()=>{if(e.data){const t={};(async()=>{for(const n of e.data){if(n.realBpm)continue;const r=[`lookup=song:${encodeURIComponent(n.title)}+artist:${encodeURIComponent(n.artist)}`,"type=both","api_key=undefined"].join("&"),s=await(await fetch(`https://api.getsongbpm.com/search/?${r}`)).json();t[n.id]=Array.isArray(s.search)&&s.search[0]||null}console.log(t)})()}},[e.data]),g.jsx(g.Fragment,{children:"Copy resulting object to `scripts/scraped-bpm-data.json` file and run fillMetadata script"})}function xme(){const e=Oi(),t=()=>e("menu/");return g.jsxs(g.Fragment,{children:[g.jsx(gs,{children:g.jsx("title",{children:"Select Languages | AllKaraoke.Party - Free Online Karaoke Party Game"})}),g.jsx(c2,{children:g.jsx(BN,{onClose:t,closeText:"Return to Main Menu"})})]})}function mL(){const[e]=xt(gw);x.useEffect(()=>{try{e&&document.body.requestFullscreen().catch(console.info)}catch{}},[])}let T_=0;function vL(){x.useEffect(()=>(document.body.classList.add("blockOverflow"),document.documentElement.classList.add("blockOverflow"),T_++,()=>{T_--,T_===0&&(document.body.classList.remove("blockOverflow"),document.documentElement.classList.remove("blockOverflow"))}),[])}const wme=Wt(g.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2M7.5 18c-.83 0-1.5-.67-1.5-1.5S6.67 15 7.5 15s1.5.67 1.5 1.5S8.33 18 7.5 18m0-9C6.67 9 6 8.33 6 7.5S6.67 6 7.5 6 9 6.67 9 7.5 8.33 9 7.5 9m4.5 4.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m4.5 4.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m0-9c-.83 0-1.5-.67-1.5-1.5S15.67 6 16.5 6s1.5.67 1.5 1.5S17.33 9 16.5 9"}),"Casino");function Eme({setFilters:e,filters:t,keyboardControl:n,visible:r,setVisible:i}){const s=x.useRef(null),[l,c]=x.useState(!1),d=v=>{e(y=>({...y,search:v}))};ri("down",()=>{var v;(v=s.current)==null||v.blur()},{enabled:l,enableOnTags:["INPUT"]});const p=v=>{v.stopPropagation(),v.preventDefault(),d(v.key)};ri(yx,v=>{p(v),i(!0)},{enabled:!t.search&&n});const h=x.useCallback(v=>{n&&d(v)},[n]);return pi(me.remoteSongSearch,h),ri(yx,v=>{var y;p(v),(y=s.current)==null||y.focus()},{enabled:!l&&n},[t.search]),ri("Backspace",v=>{var y;(y=s.current)==null||y.focus()},{enabled:!l&&n},[t.search]),x.useEffect(()=>{l||i(!!t.search)},[l,t.search,i]),!t.search&&!r?null:g.jsx(Tme,{"data-test":"song-list-search",children:g.jsx(Cme,{large:!0,children:g.jsx("form",{"data-test":"filters-search-form",onSubmit:v=>{var y;v.preventDefault(),(y=s.current)==null||y.blur()},children:g.jsx(uu,{onFocus:()=>c(!0),onBlur:()=>c(!1),onKeyDown:v=>{var y;v.key==="Backspace"&&((y=t.search)==null?void 0:y.length)===0&&i(!1)},focused:l,autoFocus:!0,label:"Search",value:t.search??"",onChange:d,ref:s,"data-test":"filters-search"})})})})}const Tme=K("div",{target:"ektgxsz1"})({name:"t46wvs",styles:"background:rgba(0, 0, 0, 0.7);padding:2rem;font-size:3rem;box-sizing:border-box;display:flex;flex-direction:row;gap:2rem;position:fixed;z-index:200;top:4.5rem;left:30rem;right:30rem"}),Cme=K("div",{target:"ektgxsz0"})("flex:",e=>e.large?1.5:1,";");function kme({onRandom:e,setFilters:t,filters:n,keyboardControl:r}){const[i,s]=x.useState(!1),l=()=>{t(c=>({...c,search:""}))};return g.jsxs(g.Fragment,{children:[g.jsxs(Mme,{children:[g.jsx(Jd,{title:"Search",place:"left",children:g.jsx(LO,{onClick:()=>i?l():s(!0),"data-test":"search-song-button",children:g.jsx(JE,{})})}),g.jsx(Jd,{title:"Pick random",place:"left",children:g.jsx(LO,{onClick:e,"data-test":"random-song-button",children:g.jsx(wme,{})})})]}),g.jsx(Eme,{setFilters:t,filters:n,visible:i,setVisible:s,keyboardControl:r})]})}const LO=K(No,{target:"eie1eis1"})("box-shadow:inset 0 0 2px 2px ",Ue.colors.text.active,";background:black;width:7.5rem;height:7.5rem;border-radius:50%;display:flex;align-items:center;justify-content:center;svg{width:4.5rem;height:4.5rem;}"),Mme=K("div",{target:"eie1eis0"})({name:"1x0sh4s",styles:"pointer-events:none;position:fixed;display:flex;flex-direction:column;align-items:center;justify-content:center;bottom:2.5rem;right:2.5rem;z-index:100;gap:2rem"});function yL({videoId:e,...t}){return g.jsx(jme,{src:`https://img.youtube.com/vi/${e}/default.jpg`,alt:`Thumbnail image for YouTube video ${e}`,...t})}function Rme({videoId:e,...t}){const n=Xte(e)??e,[r,i]=x.useState(!0);x.useLayoutEffect(()=>{i(l=>!l)},[e]);const[s]=xt(Vs);return s==="low"?null:g.jsxs(Ime,{...t,children:[g.jsx(FO,{videoId:r?e:n,visible:r}),g.jsx(FO,{videoId:r?n:e,visible:!r}),g.jsx(Ome,{videoId:n})]})}const Ime=K("div",{target:"e1lv5ws3"})({name:"k44s62",styles:"position:relative;overflow:hidden;background:black"}),Ome=K(yL,{target:"e1lv5ws2"})({name:"6dhm9o",styles:"visibility:hidden"}),FO=K(yL,{target:"e1lv5ws1"})("position:absolute;transition:opacity 300ms;opacity:",e=>e.visible?1:0,";"),jme=K("img",{target:"e1lv5ws0"})({name:"4uwt2b",styles:"width:100%;height:100%;object-fit:cover"});function Pme(e,t,n="mousedown",r={}){Yte(n,i=>{const s=i.target;if(!s||!s.isConnected)return;(Array.isArray(e)?e.filter(c=>!!c.current).every(c=>c.current&&!c.current.contains(s)):e.current&&!e.current.contains(s))&&t(i)},void 0,r)}function Vme({active:e,closePlaylist:t,playlists:n,selectedPlaylist:r,setSelectedPlaylist:i}){const{register:s,focused:l,focusElement:c}=dr({enabled:e,additionalHelp:{vertical:void 0,"horizontal-vertical":null}}),d=x.useRef(null);return Pme(d,()=>{t()}),pf({left:()=>t("left"),right:()=>t("right")},e),x.useEffect(()=>{c(`playlist-${r}`)},[r]),x.useEffect(()=>{if(l){const u=n.find(p=>`playlist-${p.name}`===l);u&&i(u.name)}},[l,n]),g.jsx(Dme,{"data-test":"song-list-playlists",active:e,ref:d,children:n.map(({Wrapper:u,...p})=>{const h=g.jsx(Bme,{className:"shadow-none rounded-none","data-selected":`playlist-${p.name}`===l,"data-active":e,...s(`playlist-${p.name}`,()=>c(`playlist-${p.name}`),void 0,p.name===r),children:p.display??p.name},p.name);return u?g.jsx(u,{active:e,focused:`playlist-${p.name}`===l,children:h},p.name):h})})}const Dme=K("div",{target:"emspgv91"})("background:rgba(0, 0, 0, ",e=>e.active?.75:.5,");width:100vh;height:var(--song-sidebar-weight);transform-origin:top right;transform:rotate(-90deg);position:absolute;z-index:200;left:-100vh;top:0;box-sizing:border-box;display:flex;flex-direction:row-reverse;gap:0;h2{",Ot,";margin:0;}"),Bme=K(No,{target:"emspgv90"})("font-size:2.3rem;justify-self:stretch;flex-grow:1;&[data-focused='false'][data-active='true']{background-color:transparent;}&[data-selected='true']{",Dte,";}&[data-selected='false'][data-active='false']{opacity:0.75;}padding:1.5rem 1rem;"),p2=e=>{const[t,n]=x.useState(null),r=Hd(e),i=async()=>{n(await hD(e))};return x.useEffect(()=>{i()},[r]),pi(me.songStatStored,i),t},Nme=e=>async(t,n,r,i)=>{const s=Hd(e),l=await hD(e),c=l.scores.map(u=>{if(u.setup.id!==t)return u;const p=u.scores.map(h=>h.name!==r||h.score!==n?h:{name:i.trim(),score:n});return{...u,scores:p}}),d={...l,scores:c};await pD(e,d),me.songScoreUpdated.dispatch(s,d,i.trim())},Lme=JSON.parse(`{
  "af": [
    "Persian Dari",
    "Pashto"
  ],
  "al": [
    "Albanian"
  ],
  "dz": [
    "Arabic",
    "Berber"
  ],
  "ad": [
    "Catalan"
  ],
  "ao": [
    "Portuguese"
  ],
  "ag": [
    "English"
  ],
  "ar": [
    "Spanish"
  ],
  "am": [
    "Armenian"
  ],
  "au": [
    "English"
  ],
  "at": [
    "German"
  ],
  "az": [
    "Azerbaijani"
  ],
  "bs": [
    "English"
  ],
  "bh": [
    "Arabic"
  ],
  "bd": [
    "Bengali"
  ],
  "bb": [
    "English"
  ],
  "by": [
    "Belarusian",
    "Russian"
  ],
  "be": [
    "Dutch",
    "French",
    "German"
  ],
  "bz": [
    "English"
  ],
  "dy": [
    "French"
  ],
  "bt": [
    "Dzongkha"
  ],
  "bo": [
    "Spanish",
    "Aymara",
    "Araona",
    "Baure",
    "Bsiro Chiquitano",
    "Canichana",
    "Cavinea",
    "Cayubaba",
    "Chcobo",
    "Chimn",
    "Ese Ejja",
    "Guaran",
    "Guarasuwe",
    "Guarayu",
    "Itonama",
    "Leco",
    "Machajuyai",
    "Machineri",
    "Maropa",
    "Mojeo",
    "Mojeo",
    "Mor",
    "Mosetn",
    "Movima",
    "Pacawara",
    "Puquina",
    "Quechua",
    "Sirion",
    "Tacana",
    "Tapiet",
    "Toromona",
    "Uru-Chipaya",
    "Weenhayek",
    "Yaminawa",
    "Yuki",
    "Yuracar",
    "Zamuco"
  ],
  "ba": [
    "Bosnian",
      "Croatian",
      "Serbian"
  ],
  "bw": [
    "English"
  ],
  "br": [
    "Portuguese"
  ],
  "bn": [
    "Malay"
  ],
  "bg": [
    "Bulgarian"
  ],
  "hv": [
    "French"
  ],
  "bi": [
    "French",
    "Kirundi",
    "English"
  ],
  "kh": [
    "Khmer"
  ],
  "cm": [
    "English",
    "French"
  ],
  "ca": [
    "English",
    "French"
  ],
  "cv": [
    "Portuguese"
  ],
  "cf": [
    "French",
    "Sango"
  ],
  "td": [
    "Arabic",
    "French"
  ],
  "cl": [
    "Spanish"
  ],
  "cn": [
    "Chinese"
  ],
  "cx": [
    "English",
    "Chinese",
    "Malay"
  ],
  "cc": [
    "English",
    "Cocos Malay"
  ],
  "co": [
    "Spanish"
  ],
  "km": [
    "Arabic",
    "Comorian",
    "French"
  ],
  "cd": [
    "French"
  ],
  "cg": [
    "French"
  ],
  "ck": [
    "English",
    "Cook Islands Mori"
  ],
  "cr": [
    "Spanish"
  ],
  "hr": [
    "Croatian"
  ],
  "cu": [
    "Spanish"
  ],
  "cy": [
    "Turkish"
  ],
  "cz": [
    "Czech",
    "Slovak"
  ],
  "dk": [
    "Danish"
  ],
  "dj": [
    "Arabic",
    "French"
  ],
  "dm": [
    "English"
  ],
  "do": [
    "Spanish"
  ],
  "tl": [
    "Portuguese",
    "Tetum"
  ],
  "ec": [
    "Spanish",
    "Quechua"
  ],
  "eg": [
    "Arabic"
  ],
  "sv": [
    "Spanish"
  ],
  "gq": [
    "French",
    "Portuguese",
    "Spanish"
  ],
  "er": [
    "Tigrinya"
  ],
  "ee": [
    "Estonian"
  ],
  "sz": [
    "English",
    "Swazi"
  ],
  "et": [
    "Afar",
    "Amharic",
    "Oromo",
    "Somali",
    "Tigrinya"
  ],
  "fj": [
    "English",
    "Fijian",
    "Fiji Hindi"
  ],
  "fi": [
    "Finnish",
    "Swedish"
  ],
  "fx": [
    "French"
  ],
  "ga": [
    "French"
  ],
  "gm": [
    "English"
  ],
  "ge": [
    "Ossetian",
    "Russian"
  ],
  "de": [
    "German"
  ],
  "gh": [
    "English"
  ],
  "gr": [
    "Greek"
  ],
  "gd": [
    "English"
  ],
  "gt": [
    "Spanish"
  ],
  "gn": [
    "French"
  ],
  "gw": [
    "Portuguese"
  ],
  "gy": [
    "English"
  ],
  "ht": [
    "French",
    "Creole"
  ],
  "hn": [
    "Spanish"
  ],
  "hu": [
    "Hungarian"
  ],
  "is": [
    "Icelandic"
  ],
  "in": [
    "Hindi",
    "English"
  ],
  "id": [
    "Indonesian"
  ],
  "ir": [
    "Persian"
  ],
  "iq": [
    "Arabic",
    "Kurdish"
  ],
  "ie": [
    "Irish",
    "English"
  ],
  "il": [
    "Hebrew"
  ],
  "it": [
    "Italian"
  ],
  "ci": [
    "French"
  ],
  "jm": [
    "English"
  ],
  "jp": [
    "Japanese"
  ],
  "jo": [
    "Arabic"
  ],
  "kz": [
    "Kazakh",
    "Russian"
  ],
  "ke": [
    "English",
    "Swahili"
  ],
  "ki": [
    "English",
    "Gilbertese"
  ],
  "kp": [
    "Korean"
  ],
  "kr": [
    "Korean"
  ],
  "xk": [
    "Albanian",
    "Serbian"
  ],
  "kw": [
    "Arabic"
  ],
  "kg": [
    "Kyrgyz",
    "Russian"
  ],
  "la": [
    "Lao"
  ],
  "lv": [
    "Latvian"
  ],
  "lb": [
    "Arabic"
  ],
  "ls": [
    "Sotho",
    "English"
  ],
  "lr": [
    "English"
  ],
  "ly": [
    "Arabic"
  ],
  "li": [
    "German"
  ],
  "lt": [
    "Lithuanian"
  ],
  "lu": [
    "French",
    "German",
    "Luxembourgish"
  ],
  "mg": [
    "French",
    "Malagasy"
  ],
  "mw": [
    "English",
    "Chichewa"
  ],
  "my": [
    "Malay"
  ],
  "mv": [
    "Dhivehi"
  ],
  "ml": [
    "Bambara",
    "Bobo",
    "Bozo",
    "Dogon",
    "Fula",
    "Hassaniya",
    "Kassonke",
    "Maninke",
    "Minyanka",
    "Senufo",
    "Songhay",
    "Soninke",
    "Tamasheq"
  ],
  "mt": [
    "Italian"
  ],
  "mh": [
    "English",
    "Marshallese"
  ],
  "mr": [
    "Arabic"
  ],
  "mu": [
    "English",
    "Morisien"
  ],
  "mx": [
    "Spanish"
  ],
  "fm": [
    "English"
  ],
  "md": [
    "Moldovan",
    "Russian",
    "Ukrainian"
  ],
  "mc": [
    "French"
  ],
  "mn": [
    "Mongolian"
  ],
  "me": [
    "Montenegrin"
  ],
  "ma": [
    "Arabic",
    "Berber"
  ],
  "mz": [
    "Portuguese"
  ],
  "mm": [
    "Burmese"
  ],
  "na": [
    "English"
  ],
  "nr": [
    "English",
    "Nauruan"
  ],
  "np": [
    "Nepali"
  ],
  "nl": [
    "Dutch"
  ],
  "nz": [
    "English",
    "Maori"
  ],
  "ni": [
    "Spanish"
  ],
  "ne": [
    "French"
  ],
  "ng": [
    "English"
  ],
  "nu": [
    "English",
    "Niuean"
  ],
  "nf": [
    "English",
    "Norfuk"
  ],
  "mk": [
    "Macedonian",
    "Albanian"
  ],
  "no": [
    "Norwegian",
    "Sami"
  ],
  "om": [
    "Arabic"
  ],
  "pk": [
    "Urdu",
    "English"
  ],
  "pw": [
    "English",
    "Palauan"
  ],
  "ps": [
    "Arabic"
  ],
  "pa": [
    "Spanish"
  ],
  "pg": [
    "English",
    "Hiri Motu",
    "Tok Pisin"
  ],
  "py": [
    "Spanish",
    "Guaran"
  ],
  "pe": [
    "Spanish",
    "Quechua",
    "Aymara",
    "Ashninka"
  ],
  "ph": [
    "Filipino",
    "English"
  ],
  "pl": [
    "Polish"
  ],
  "pt": [
    "Portuguese"
  ],
  "qa": [
    "Arabic"
  ],
  "ro": [
    "Romanian"
  ],
  "su": [
    "Russian"
  ],
  "rw": [
    "English",
    "French",
    "Kinyarwanda",
    "Swahili"
  ],
  "eh": [
    "Arabic"
  ],
  "kn": [
    "English"
  ],
  "lc": [
    "English"
  ],
  "vc": [
    "English"
  ],
  "ws": [
    "English",
    "Samoan"
  ],
  "sm": [
    "Italian"
  ],
  "st": [
    "Portuguese"
  ],
  "sa": [
    "Arabic"
  ],
  "sn": [
    "French"
  ],
  "yu": [
    "Serbian"
  ],
  "sc": [
    "English",
    "French",
    "Creole"
  ],
  "sl": [
    "English"
  ],
  "sg": [
    "English",
    "Malay",
    "Chinese",
    "Tamil"
  ],
  "sk": [
    "Slovak"
  ],
  "si": [
    "Slovene"
  ],
  "sb": [
    "English"
  ],
  "so": [
    "Arabic",
    "English",
    "Somali"
  ],
  "za": [
    "Afrikaans",
    "English",
    "Ndebele",
    "Sotho",
    "Swazi",
    "Tsonga",
    "Tswana",
    "Venda",
    "Xhosa",
    "Zulu"
  ],
  "ss": [
    "English"
  ],
  "es": [
    "Spanish"
  ],
  "lk": [
    "Sinhala",
    "Tamil"
  ],
  "sd": [
    "Arabic",
    "English"
  ],
  "sr": [
    "Dutch"
  ],
  "se": [
    "Swedish"
  ],
  "ch": [
    "French",
    "German",
    "Italian",
    "Romansh"
  ],
  "sy": [
    "Arabic"
  ],
  "tw": [
    "Chinese"
  ],
  "tj": [
    "Tajik"
  ],
  "tz": [
    "Swahili",
    "English"
  ],
  "th": [
    "Thai"
  ],
  "tg": [
    "French"
  ],
  "tk": [
    "English",
    "Tokelauan"
  ],
  "to": [
    "English",
    "Tongan"
  ],
  "tt": [
    "English"
  ],
  "tn": [
    "Arabic"
  ],
  "tr": [
    "Turkish"
  ],
  "tm": [
    "Turkmen"
  ],
  "tv": [
    "Tuvaluan",
    "English"
  ],
  "ug": [
    "English",
    "Swahili"
  ],
  "ua": [
    "Ukrainian"
  ],
  "ae": [
    "Arabic"
  ],
  "uk": [
    "English"
  ],
  "us": [
    "English"
  ],
  "uy": [
    "Spanish"
  ],
  "uz": [
    "Uzbek"
  ],
  "vu": [
    "English",
    "French",
    "Bislama"
  ],
  "va": [
    "Italian"
  ],
  "ve": [
    "Spanish"
  ],
  "vn": [
    "Vietnamese"
  ],
  "ye": [
    "Arabic"
  ],
  "zm": [
    "English"
  ],
  "zw": [
    "Chewa",
    "Chibarwe",
    "English",
    "Kalanga",
    "Khoisan",
    "Nambya",
    "Ndau",
    "Ndebele",
    "Shangani",
    "Shona",
    "Sotho",
    "Tonga",
    "Tswana",
    "Venda",
    "Xhosa"
  ]
}`),Fme=["US","GB"];function zme({song:e,forceFlag:t,...n}){const r=e.language[0],i=x.useMemo(()=>{var s;return e.artistOrigin?((s=Lme[e.artistOrigin.toLowerCase()])==null?void 0:s.includes(r))??t:!1},[e.artistOrigin,r,t]);return g.jsx(g.Fragment,{children:t&&e.artistOrigin?g.jsx(Pc,{isocode:e.artistOrigin,...n}):i&&!Fme.includes(e.artistOrigin)?g.jsx(Pc,{isocode:e.artistOrigin,...n}):e.language[0]!=="English"?g.jsx(Pc,{language:e.language,...n}):null})}const $me=Wt(g.jsx("path",{d:"M7.25 12.5 4.75 9H3.5v6h1.25v-3.5L7.3 15h1.2V9H7.25zM9.5 15h4v-1.25H11v-1.11h2.5v-1.26H11v-1.12h2.5V9h-4zm9.75-6v4.5h-1.12V9.99h-1.25v3.52h-1.13V9H14.5v5c0 .55.45 1 1 1h4c.55 0 1-.45 1-1V9z"}),"FiberNewOutlined"),Ume=Wt(g.jsx("path",{d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star"),Yx=e=>{var t,n,r;return((r=(n=(t=e.edition)==null?void 0:t.split(",").find(i=>i.toLowerCase().startsWith("esc ")))==null?void 0:n.replace("Esc ",""))==null?void 0:r.trim())??void 0};function Hme(e){return!!Yx(e)}const AL="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20width='125.33'%20height='131.46'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:cc='http://creativecommons.org/ns%23'%20xmlns:dc='http://purl.org/dc/elements/1.1/'%20xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23'%3e%3cpath%20stroke='black'%20fill='white'%20d='m12.726%2058.556c0.31803-28.513%2015.157-37.437%2023.237-37.437%2011.285%200%2015.946%208.6151%2016.707%2012.429%200.76116%203.8111%205.0324%206.8595%206.4047%200.60798%201.3734-6.2515%2014.649-25.315%2030.966-25.315%2014.943%200%2020.119%2015.41%2019.671%2028.518-1.2228%2035.683-47.19%2064.158-53.239%2082.143-5.3875-10.891-44.126-26.634-43.746-60.946zm82.652-58.556c-13.42%200-29.29%209.9111-38.896%2026.382-2.592-5.9483-11.827-12.43-22.805-12.43-8.8462%200-33.676%2011.056-33.676%2046.74%200%2046.052%2046.593%2055.508%2056.011%2069.825%200.64721%200.98433%202.7319%201.728%203.5276-0.62388%207.5157-22.18%2065.791-47.242%2065.791-92.379-5.3e-4%20-25.314-16.536-37.513-29.955-37.513z'%20stroke-width='.53006'/%3e%3c/svg%3e",qme=e=>g.jsxs(Yme,{children:[e.song.tracksCount>1&&g.jsxs(Wme,{"data-test":"multitrack-indicator",children:[g.jsx(F0,{})," Duet"]}),g.jsx(Gme,{song:e.song,isPopular:e.isPopular,focused:!!e.video})]}),Gme=({song:e,isPopular:t,focused:n})=>{var d,u;const r=x.useMemo(()=>l2(e),[e]),i=Hme(e),s=p2(e),l=((u=(d=s==null?void 0:s.scores)==null?void 0:d.at(-1))==null?void 0:u.date)??!1,c=l&&lo(l).isAfter(lo().subtract(1,"days"));return s!=null&&s.plays?g.jsx(_L,{"data-test":"song-stat-indicator",children:c?"Played today":g.jsx(g.Fragment,{children:n?g.jsxs(g.Fragment,{children:["Played ",s.plays," time",s.plays>1&&"s"]}):s.plays})}):i?g.jsxs(k_,{white:!0,children:[g.jsx(C_,{children:n?`Eurovision ${Yx(e)}`:Yx(e)}),g.jsx(Kme,{src:AL,alt:e.edition})]}):r?g.jsx(k_,{white:!0,children:n?g.jsx(C_,{children:"Added recently"}):g.jsx($me,{})}):t&&e.language.includes("English")?g.jsx(g.Fragment,{children:g.jsxs(k_,{children:[n&&g.jsx(C_,{children:"Popular"}),g.jsx(Ume,{})]})}):null},C_=K("div",{target:"enamf7r6"})({name:"eh2bdr",styles:"padding:0 0.5rem;line-height:0;margin-top:0.2rem;&+svg{margin-left:-0.25rem;}"}),Yme=K("div",{target:"enamf7r5"})({name:"67oilw",styles:"position:absolute;top:0.5rem;left:0;padding:0 0.5rem;box-sizing:border-box;display:flex;align-items:center;justify-content:flex-end;gap:0.5rem;width:100%"}),bL=K("div",{target:"enamf7r4"})({name:"1utw6sa",styles:"height:2.75rem;min-width:2.75rem;box-sizing:border-box;color:white;font-size:1.4rem;display:flex;align-items:center;justify-content:center;text-transform:uppercase;background:rgba(0, 0, 0, 0.75);border-radius:0.5rem"}),k_=K(bL,{target:"enamf7r3"})("overflow:hidden;display:flex;align-items:center;justify-content:center;svg,img{fill:",e=>e.white?"white":Ue.colors.text.active,";width:2.5rem;height:2.5rem;}"),Kme=K("img",{target:"enamf7r2"})({name:"1pr315k",styles:"padding:0.35rem;margin:0 0.15rem 0 -0.35rem;box-sizing:border-box"}),_L=K(bL,{target:"enamf7r1"})({name:"2ycp6t",styles:"padding:0 1rem"}),Wme=K(_L,{target:"enamf7r0"})({name:"1k65tge",styles:"margin-right:auto;svg{width:1.75rem;height:1.75rem;}"}),SL=({song:e,focused:t,video:n,children:r,songId:i,groupLetter:s,handleClick:l,isPopular:c,background:d=!0,forceFlag:u=!1,...p})=>{const h=p["data-expanded"]??!1,v=x.useCallback(()=>l?l(i,s):void 0,[l,i,s]),[y]=xt(Vs);return g.jsxs(Jme,{...p,onClick:l?v:void 0,children:[d&&g.jsx(Zme,{style:{backgroundImage:`url('https://i3.ytimg.com/vi/${e.video}/hqdefault.jpg')`},"data-focused":h?!1:t,"data-expanded":p["data-expanded"],"data-graphic-setting":y}),g.jsxs(Xme,{"data-expanded":h,children:[!h&&g.jsx(qme,{song:e,isPopular:c,video:n}),g.jsx(g2,{"data-expanded":h,children:e.artist}),g.jsx(Jy,{"data-expanded":h,children:e.title}),g.jsxs(xL,{"data-expanded":h,children:[h&&g.jsxs(g.Fragment,{children:[e.author&&g.jsxs(EL,{expanded:h,children:["by",e.authorUrl?g.jsx("a",{href:e.authorUrl,target:"_blank",rel:"noreferrer",children:e.author}):e.author]}),g.jsx(e0e,{song:e})]}),!h&&g.jsx(Qme,{song:e,forceFlag:u})]})]}),r,n]})},Qme=K(zme,{target:"e1ornw2x8"})({name:"1152n88",styles:"height:2.75rem;object-fit:cover;border-top-right-radius:1rem;border-bottom-left-radius:1rem;position:absolute;z-index:-1;left:0rem;bottom:0rem;opacity:0.95"}),xL=K("div",{target:"e1ornw2x7"})({name:"1dgv8bf",styles:"display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-start"}),Xme=K("div",{target:"e1ornw2x6"})({name:"cwmgde",styles:"width:100%;height:100%;display:flex;align-items:flex-end;justify-content:flex-end;z-index:1;box-sizing:border-box;flex-direction:column;&[data-expanded='true']{align-items:flex-start;justify-content:flex-start;}"}),Jme=K("div",{target:"e1ornw2x5"})({name:"1s4n252",styles:"font-size:4.5rem;display:flex;align-items:flex-end;justify-content:flex-end;flex-direction:column;box-sizing:border-box;position:relative;padding:0.5rem;border:0.1rem black solid;border-radius:1rem"}),Zme=K("div",{target:"e1ornw2x4"})({name:"10xrxr9",styles:"background-color:#2b2b2b;border-radius:1rem;&[data-expanded='true']{border-radius:0;}position:absolute;z-index:-1;inset:0;&[data-graphic-setting='high']{transition:300ms;&[data-focused='true']{background-size:100%;opacity:1;}&[data-focused='false']{background-size:110%;filter:grayscale(90%);opacity:0.8;}&[data-expanded='true']{filter:blur(10px);}}&[data-graphic-setting='low']{background-size:100%;opacity:0.6;&[data-focused='true']{opacity:1;}}background-position:center center"}),wL=K(lu,{target:"e1ornw2x3"})("background:rgba(0, 0, 0, 0.7);width:auto;display:inline-block;padding:0.5rem;",Ot,";text-align:right;font-size:2.7rem;&[data-expanded='true']{font-size:6rem;}"),g2=K(wL,{target:"e1ornw2x2"})("color:",Ue.colors.text.active,";"),Jy=K(wL,{target:"e1ornw2x1"})("margin-top:",e=>e.expanded?"1.5rem":"0.5rem",";color:white;"),EL=K(Jy,{target:"e1ornw2x0"})({name:"5twmqz",styles:"font-size:3rem;margin-top:3rem"}),e0e=({song:e})=>{const t=p2(e);return g.jsx(EL,{children:t!=null&&t.plays?`Played ${t.plays} time${t.plays>1?"s":""}`:"Never played yet"})};function t0e({groupedSongList:e,onScrollToGroup:t,container:n}){const[r,i]=x.useState([]);return x.useEffect(()=>{const s=new IntersectionObserver(c=>{c.forEach(d=>{const u=Number(d.target.getAttribute("data-virtualized-group"));d.isIntersecting?i(p=>[...p,u]):i(p=>p.filter(h=>h!==u))})}),l=new MutationObserver(()=>{const c=document.querySelectorAll("[data-virtualized-group]");s.disconnect(),i([]),c.forEach(d=>{s.observe(d)})});if(n)return l.observe(n,{childList:!0,subtree:!0}),()=>{l.disconnect(),i([]),s.disconnect()}},[e,n]),g.jsx(g.Fragment,{children:g.jsx(n0e,{children:e.map((s,l)=>{const c=r.includes(l);return g.jsx(r0e,{onClick:()=>t(s),"data-active":c,"data-test":`group-navigation-${s.name}`,children:s.displayShort??s.name},s.name)})})})}const n0e=K("div",{target:"e131hflw1"})({name:"191ly3l",styles:"position:fixed;display:flex;flex-direction:row;align-items:center;justify-content:flex-start;top:0;left:var(--song-sidebar-weight);padding:1rem 0 1.5rem 2rem;width:100%;z-index:100;gap:1rem;background:rgba(0, 0, 0, 0.75)"}),r0e=K(No,{target:"e131hflw0"})("border:none;cursor:pointer;",Ot,";display:inline-flex;align-items:center;justify-content:center;height:3.3rem;padding:0.5rem 1.25rem;font-size:2.3rem;z-index:1;color:",Ue.colors.text.default,";&[data-active='true']{background:",Ue.colors.text.active,";}&[data-active='false']{background:rgba(0, 0, 0, 0.7);}");x.createContext({client:er});const zO={[Ci.DUEL]:"Duel",[Ci.PASS_THE_MIC]:"Pass The Mic",[Ci.CO_OP]:"Cooperation"},M_=["Hard","Medium","Easy"],i0e=Bl("song_settings-game_mode-v3"),s0e=Bl("song_settings-tolerance-v2");function o0e({songPreview:e,onNextStep:t,keyboardControl:n,onExitKeyboardControl:r}){const[i,s]=i0e(null),l=i??(e.tracksCount>1?Ci.CO_OP:Ci.DUEL),[c,d]=s0e(1),u=()=>{const y={id:Av(),players:[],mode:l,tolerance:c+1};t(y)},p=()=>{s(jc(Object.values(Ci),l))},h=()=>d(y=>sg(M_,y,-1)),{register:v}=dr({enabled:n,onBackspace:r,additionalHelp:{remote:["select-song"]}});return g.jsxs(g.Fragment,{children:[g.jsx($O,{...v("difficulty-setting",h,"Change difficulty"),label:"Difficulty",value:M_[c],"data-test-value":M_[c]}),g.jsx($O,{...v("game-mode-setting",p,"Change mode"),label:"Mode",value:zO[l],"data-test-value":zO[l]}),g.jsx(l0e,{children:g.jsxs("h3",{children:[l===Ci.DUEL&&"Face off against each other - person that earns more points wins.",l===Ci.CO_OP&&"Join forces and sing together - your points will be added up to a single pool.",l===Ci.PASS_THE_MIC&&g.jsxs(g.Fragment,{children:["For more than 2 players - split into groups and pass the microphone within the group when prompted with"," ",g.jsx(e2,{})," symbol."]})]})}),g.jsx(a0e,{...v("next-step-button",u,void 0,!0),children:"Next "})]})}const a0e=K(No,{target:"ews4mmz2"})({name:"sr8dp2",styles:"padding:0.5rem 9rem;font-size:4.3rem;width:50rem"}),l0e=K(lu,{target:"ews4mmz1"})({name:"rdh6te",styles:"max-width:50rem;margin:-1rem 0 1rem!important;padding:1.5rem;background:rgba(0, 0, 0, 0.7);box-sizing:border-box"}),$O=K(Bs,{target:"ews4mmz0"})({name:"1tcj19k",styles:"font-size:4.3rem;padding:1rem;min-width:50rem;box-sizing:border-box"});function c0e(){const t=hs(me.playerInputChanged,()=>tt.getInputs()).some(l=>l.source==="Microphone"),n=x.useRef([]),r=x.useCallback(l=>{n.current.push(l)},[]);Qge(0,50,r);const[i,s]=x.useState(!1);return x.useEffect(()=>{const l=setInterval(()=>{const c=n.current.filter(([,v])=>v===0),d=n.current.filter(([,v])=>v>0),u=c.reduce((v,[y])=>v+y,0)/(c.length+1),p=d.reduce((v,[y])=>v+y,0)/(d.length+1),h=d.length>c.length*.1&&p>.01&&u>.01&&p-u<u/2;s(h),n.current.length=0},i?5e3:2500);return()=>clearInterval(l)},[i]),g.jsxs(u0e,{visible:i,children:[g.jsxs("h2",{children:[g.jsx("strong",{children:g.jsx(Af,{})})," ","Noise detected"]}),g.jsx("hr",{}),g.jsxs("h4",{children:["This might make singing inaccurate. Make sure your microphone doesn't pick up the music."," ",t&&g.jsxs(g.Fragment,{children:["Alternatively, use your ",g.jsx("strong",{children:"smartphone as a microphone"})," instead."]})]})]})}const u0e=K("div",{target:"e1liv9270"})("opacity:",e=>e.visible?1:0,";transition:300ms;background:rgba(0, 0, 0, 0.75);padding:1rem;max-width:50rem;position:relative;top:-1rem;left:-0.5rem;"),TL=(e,t=333,n)=>{const[r,i]=x.useState("ok");return x.useEffect(()=>{const s=setInterval(()=>{i(ur.getInputStatus(e))},t);return()=>{clearInterval(s)}},[e,t,n]),r},CL=e=>{const[t,n]=x.useState(null);return x.useEffect(()=>{const r=setInterval(()=>{const i=Vt.getRemoteMicById(e??"");n(i?i.getLatency():null)},1e3);return()=>{clearInterval(r)}},[e]),t};function kL({playerNumber:e,...t}){var r,i;const n=CL((i=(r=tt.getPlayer(e))==null?void 0:r.input)==null?void 0:i.deviceId);return g.jsx(g.Fragment,{children:n!==null?g.jsxs(d0e,{...t,children:[n,"ms"]}):""})}const d0e=K("span",{target:"e10sf0140"})({name:"1wwatg0",styles:"position:absolute;right:4rem;bottom:0.5rem;font-size:1.75rem"});function ML({status:e,tooltipPosition:t="end",...n}){return g.jsxs(f0e,{...n,children:[e==="ok"?g.jsx(h0e,{"data-test":"status-ok"}):e==="unavailable"?g.jsx(p0e,{"data-test":"status-unavailable"}):g.jsx(g0e,{"data-test":"status-unstable"}),e==="unavailable"?g.jsx(UO,{position:t,children:g.jsxs("span",{children:["The device is ",g.jsx("strong",{children:"disconnected"}),". Reconnect it, please."]})}):e==="unstable"?g.jsx(UO,{position:t,children:g.jsxs("span",{children:["The connection seems ",g.jsx("strong",{children:"unstable"}),". Connect to the same Wifi."]})}):null]})}const f0e=K("span",{target:"etoberq4"})({name:"186aqlb",styles:"position:absolute;right:0.5rem;top:0.5rem;font-size:3rem;z-index:10;svg{width:3rem;height:3rem;text-shadow:black;}"}),h0e=K("div",{target:"etoberq3"})({name:"1jjo9fl",styles:"margin:0.15rem;width:2.7rem;height:2.7rem;display:inline-block;background:#ffffff;border:1px solid black;border-radius:50%"}),p0e=K(pL,{target:"etoberq2"})({name:"f0g68e",styles:"fill:#ff0000"}),g0e=K(Af,{target:"etoberq1"})({name:"w492oh",styles:"fill:#f89400;stroke:black"}),UO=K("div",{target:"etoberq0"})(Ot,";position:absolute;left:",e=>e.position==="end"?"100%":"auto",";right:",e=>e.position==="end"?"auto":"150%",";top:-0.5rem;font-size:1.5rem;height:100%;display:flex;align-items:center;width:25rem;background:rgba(0, 0, 0, 0.75);padding:0.5rem;margin-left:2rem;");function RL({player:e}){const t=TL(e.number);return g.jsxs(m0e,{"data-test":`indicator-player-${e.number}`,children:[g.jsx(kL,{playerNumber:e.number}),g.jsx(ML,{status:t}),t!=="unavailable"&&g.jsx(d2,{playerNumber:e.number}),g.jsx(v0e,{className:"ph-no-capture",children:e.getName()})]},e.number)}const m0e=K("div",{target:"e17xkp2e1"})({name:"1gmoqr1",styles:"position:relative;border:0.1rem solid white;padding:1rem 3rem;background:black;width:80%;text-align:center;gap:1.25rem;font-size:2.3rem;color:white;-webkit-text-stroke:1px black"}),v0e=K("span",{target:"e17xkp2e0"})({name:"179t5g5",styles:"position:relative;z-index:1"});function y0e(e){qs(me.playerNameChanged),x.useEffect(()=>{ur.startMonitoring()},[]);const n=hs(me.playerInputChanged,()=>tt.getInputs()).some(r=>r.source!=="Dummy");return g.jsxs(A0e,{...e,children:[g.jsxs(b0e,{children:["Microphone Check",n?tt.getPlayers().map(r=>g.jsx(RL,{player:r},r.number)):g.jsxs(g.Fragment,{children:[g.jsx(_0e,{children:"Mic not setup"}),g.jsx("h4",{children:"Singing will be emulated"}),g.jsx("h5",{children:"You can setup in the Next step"})]})]}),g.jsx(c0e,{})]})}const A0e=K("div",{target:"egp8knc2"})("display:flex;font-size:3rem;",Ot,";margin-bottom:8.6rem;gap:3.5rem;"),b0e=K("div",{target:"egp8knc1"})({name:"fmwdml",styles:"gap:1.25rem;display:flex;flex-direction:column;align-items:center"}),_0e=K("div",{target:"egp8knc0"})({name:"1x5xnlp",styles:"position:relative;border:0.1rem solid white;padding:1rem 3rem;background:black;width:80%;text-align:center;gap:1.25rem;font-size:2.3rem;color:white"});function IL({onClose:e,closeButtonText:t}){return g.jsx(Vl,{onClose:e,children:g.jsx(cu,{children:g.jsx(h2,{smooth:!1,onBack:e,onFinish:e,closeButtonText:t,skipText:"Back"})})})}const m2=x.forwardRef(({options:e,focused:t,label:n,value:r,onChange:i,disabled:s,placeholder:l,$keyboardNavigationChangeFocus:c,onBlur:d,className:u,...p},h)=>{const v=x.useRef(null);x.useImperativeHandle(h,()=>v.current);const y=x.useRef(null),[b,_]=x.useState(!1),[w,T]=x.useState(-1),k=x.useMemo(()=>e.filter(E=>E.toLowerCase().trim().includes(r.toLowerCase().trim())&&E!==r),[e,r]),R=E=>{var O,j,P;if(E.code==="ArrowUp"||E.code==="ArrowDown")if(k.length){E.preventDefault();const V=sg(k,w,E.code==="ArrowUp"?-1:1);T(V);const C=(O=y.current)==null?void 0:O.querySelector(`[data-index="${V}"]`);C==null||C.scrollIntoView({behavior:"smooth",block:"center"})}else(j=v.current)==null||j.blur(),c==null||c(E.code==="ArrowUp"?-1:1);else if(E.code==="Enter"){const V=k[w];V?(T(-1),i(V)):(P=v.current)==null||P.blur()}},M=()=>{setTimeout(()=>{_(!1),d==null||d()},300)};return g.jsxs(S0e,{className:u,children:[g.jsx(uu,{onFocus:()=>_(!0),onBlur:M,onKeyDown:R,onChange:i,value:r,focused:t,label:n,disabled:s,ref:v,placeholder:l,...p}),b&&!!k.length&&g.jsx(x0e,{ref:y,role:"listbox",children:k.map((E,O)=>g.jsx(w0e,{role:"listitem","data-index":O,"data-focused":O===w,"data-e2e-focused":O===w,focused:O===w,onClick:()=>{var j;i(E),T(-1),(j=v.current)==null||j.blur()},children:E},E))})]})});m2.displayName="Autocomplete";const S0e=K("div",{target:"elw4n422"})({name:"bjn8wh",styles:"position:relative"}),x0e=K("div",{target:"elw4n421"})("margin-top:0.1em;position:absolute;width:100%;background:black;max-height:",(1+2*.3)*4,"em;overflow-y:auto;z-index:2;"),w0e=K("div",{target:"elw4n420"})(Ot,";padding:0.3em;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;color:",e=>e.focused?Ue.colors.text.active:"white",";cursor:pointer;"),E0e=(e,t)=>{var n;return((n=e[t])==null?void 0:n.name)??`Track ${t+1}`};function T0e({multipleTracks:e,player:t,songPreview:n,playerNames:r,register:i,onChange:s,setup:l}){const[c,d]=x.useState(!1),u=x.useRef(null);if(qs(me.playerNameChanged),t===void 0)return null;const p=()=>s({number:t.number,track:(l.track+1)%n.tracksCount}),h=b=>{d(!0),t.setName(b)},v=!c,y=t.getName();return g.jsxs(g.Fragment,{children:[g.jsx(C0e,{maxLength:jw,className:"ph-no-capture",value:v?"":y,placeholder:v?y:void 0,options:r,onChange:h,label:"Name:",ref:u,...i(`player-${t.number}-name`,()=>{var b;return(b=u.current)==null?void 0:b.focus()})}),e&&g.jsx(k0e,{...i(`player-${t.number}-track-setting`,p,"Change track"),label:"Track",value:E0e(n.tracks,l.track),"data-test-value":l.track+1})]})}const C0e=K(m2,{target:"euluv3p1"})("input{font-size:4.5rem;}[role='listbox']{max-height:",6*(4.5+.3),"rem;}"),k0e=K(Bs,{target:"euluv3p0"})({name:"1bwrnjg",styles:"font-size:4.5rem;padding:1.1rem"});function M0e({songPreview:e,onNextStep:t,keyboardControl:n,onExitKeyboardControl:r}){const[i]=xt(oi),[s]=xt(uV),l=tt.getPlayers(),c=!i&&l.length===2&&e.tracksCount>1,d=()=>l.map((M,E)=>({number:M.number,track:c?Math.min(E,e.tracksCount-1):0})),[u,p]=x.useState(d());pi([me.playerAdded,me.playerRemoved],()=>p(d()));const h=l.map((M,E)=>u.find(O=>O.number===M.number)??d()[E]),v=x.useMemo(()=>JSON.parse(st.session.getItem(qd))??[],[]),y=M=>E=>{p(O=>O.map(j=>j.number===M?E:j))},[b,_]=x.useState(!1);x.useEffect(()=>{b||ur.startMonitoring()},[b]);const{register:w,focusElement:T}=dr({enabled:n&&!b,onBackspace:r,additionalHelp:{remote:["select-song"]}}),k=()=>{t(h)},R=!!s&&s!=="skip";return g.jsxs(g.Fragment,{children:[b&&g.jsx(IL,{closeButtonText:R?"Continue to the song":"Continue to player setup",onClose:()=>{_(!1),R&&T("play")}}),h.map((M,E)=>g.jsxs(R0e,{children:[g.jsxs(I0e,{children:["Player ",E+1]}),g.jsx("div",{children:g.jsx(T0e,{multipleTracks:c,player:tt.getPlayer(M.number),setup:M,onChange:y(M.number),playerNames:v,register:w,songPreview:e})})]},M.number)),R&&g.jsx(HO,{...w("play-song-button",k,void 0,!0),children:"Play"}),g.jsx(HO,{...w("select-inputs-button",()=>_(!0),void 0,!1),children:"Setup mics"})]})}const R0e=K("div",{target:"e12y59822"})({name:"ho1qnd",styles:"display:flex;flex-direction:row"}),HO=K(No,{target:"e12y59821"})({name:"afgxf2",styles:"padding:0.5rem 9rem;font-size:4.3rem"}),I0e=K("span",{target:"e12y59820"})(Ot,";padding:1.3rem;font-size:4.5rem;");function O0e({songPreview:e,onPlay:t,keyboardControl:n,onExitKeyboardControl:r}){const[i,s]=x.useState(null),[l,c]=x.useState("song"),d=p=>{s(p),c("players")},u=p=>{if(!i)return;const h={...i,players:p};me.songStarted.dispatch(e,h),t({song:e,...h})};return g.jsxs(j0e,{children:[g.jsx(y0e,{style:l==="players"?{viewTransitionName:"player-mic-check-container"}:void 0}),g.jsxs(P0e,{children:[l==="song"&&g.jsx(o0e,{songPreview:e,onNextStep:d,keyboardControl:n,onExitKeyboardControl:r}),l==="players"&&g.jsx(M0e,{songPreview:e,onNextStep:u,keyboardControl:n,onExitKeyboardControl:()=>c("song")})]})]})}const j0e=K("div",{target:"eu207dr1"})({name:"k6gb66",styles:"display:flex;flex-direction:row;align-items:flex-end;justify-content:space-between;width:100%;hr{margin:1rem;opacity:0.25;}"}),P0e=K("div",{target:"eu207dr0"})({name:"115sh08",styles:"width:auto;display:flex;flex-direction:column;align-items:flex-end;gap:1.25rem"}),V0e=30;function D0e({songPreview:e,top:t,left:n,width:r,height:i,keyboardControl:s,onExitKeyboardControl:l,onPlay:c,isPopular:d,forceFlag:u}){const[p,h]=x.useState(!1),v=x.useRef(null),{width:y,height:b}=gf(),_=s,w=e.previewStart??(e.videoGap??0)+60,T=e.previewEnd??w+V0e,k=x.useMemo(()=>[e.video,w,T,e.volume],[e.video,w,T,e.volume]),[R,M,E,O]=ZE(k,350);x.useLayoutEffect(()=>{var N;h(e.video===R&&((N=v.current)==null?void 0:N.getStatus())===qn.PLAYING)},[e.video,R]),x.useEffect(()=>{var N,U;(N=v.current)==null||N.loadVideoById({videoId:R,startSeconds:M,endSeconds:E}),(U=v.current)==null||U.playVideo()},[R,v,M,E]);const j=_?y:r,P=_?b:i,V=_?Math.min(y/20*9,b*(4/5)):i;x.useEffect(()=>{var N;(N=v.current)==null||N.setSize(j,P)},[j,P,s,R]);const C=x.useCallback(N=>{var U,L;N===qn.ENDED?((U=v.current)==null||U.seekTo(w),(L=v.current)==null||L.playVideo()):N===qn.PLAYING&&h(!0)},[w]);return g.jsxs(g.Fragment,{children:[_&&g.jsx(L0e,{onClick:l}),!_&&p&&g.jsx(U0e,{width:j,height:P,left:n,top:t,song:e}),g.jsx(N0e,{forceFlag:u,isPopular:d,background:_||p,video:g.jsx(F0e,{"data-show":p,"data-expanded":_,height:V,id:"preview-video-container",children:g.jsx(Wy,{width:0,height:0,disablekb:!0,ref:v,video:"",volume:O,onStateChange:C})}),focused:!0,song:e,top:t,left:n,width:j,height:V,"data-show-video":p,"data-expanded":_,"data-song":e.id,"data-test":"song-preview",children:g.jsx(z0e,{"data-expanded":_,children:_&&g.jsx(O0e,{songPreview:e,onPlay:c,keyboardControl:s,onExitKeyboardControl:l})})})]})}const B0e=K(SL,{target:"e1vaewax4"})("--preview-padding:5rem;width:",e=>e.width,"px;height:",e=>e.height,"px;position:absolute;z-index:3;overflow:hidden;visibility:hidden;&[data-expanded='true'],&[data-show-video='true']{visibility:visible;}&[data-expanded='true']{z-index:201;border-radius:0;border:0;position:fixed;padding:var(--preview-padding);}&[data-expanded='false']{pointer-events:none;&[data-show-video='true']{animation:rhythmPulse 1s infinite;}}@keyframes rhythmPulse{0%{transform:scale(1.15);}15%{transform:scale(1.2);}100%{transform:scale(1.15);}}view-transition-name:song-preview;",g2,"{view-transition-name:song-preview-artist;}",Jy,"{view-transition-name:song-preview-title;}",xL,"{view-transition-name:song-preview-expanded-data;}"),N0e=e=>{const t=e.song.realBpm||(e.song.bpm>300?e.song.bpm/4:e.song.bpm/2),n=e["data-expanded"];return g.jsx(B0e,{...e,style:{...e.style,top:n?`calc(50vh - ${e.height}px / 2)`:e.top,left:n?0:e.left,animationDuration:`${60/t}s`}})},L0e=K("div",{target:"e1vaewax3"})({name:"1iz7jdz",styles:"position:fixed;top:0;left:0;background:rgba(0, 0, 0, 0.8);width:100vw;height:100vh;z-index:201"}),F0e=K("div",{target:"e1vaewax2"})("&[data-expanded='true']{position:fixed;inset:0;clip-path:inset(calc((100vh - ",e=>e.height,"px) / 2) 0);}&[data-expanded='true'],&[data-show='true']{div{transition:1000ms;}}&[data-expanded='false']{position:absolute;top:0;left:0;background-image:none!important;border-radius:0.5rem;}&[data-show='false']{div{opacity:0;}}&[data-show='true']{div{opacity:1;}}"),z0e=K("div",{target:"e1vaewax1"})({name:"uljwlo",styles:"inset:auto var(--preview-padding);position:fixed;z-index:100;&[data-expanded='false']{transform:scale(0.1);}border-radius:0.5rem;view-transition-name:song-preview-content"}),$0e=K("div",{target:"e1vaewax0"})("background:white;width:",e=>e.width,"px;height:",e=>e.height,"px;z-index:2;top:0;left:0;position:absolute;animation:bpm 1s infinite;border-radius:0.5rem;pointer-events:none;@keyframes bpm{0%{transform:scale(1.15);opacity:1;}100%{transform:scale(1.45);opacity:0;}}"),U0e=e=>{const[t]=xt(Vs);if(t==="low")return null;const n=e.song.realBpm||(e.song.bpm>300?e.song.bpm/4:e.song.bpm/2);return g.jsx($0e,{width:e.width,height:e.height,style:{left:e.left,top:e.top,animationDuration:`${60/n}s`}})};function H0e(e){var t=C0(e),n=t%1;return t===t?n?t-n:t:0}var q0e=Math.ceil,G0e=Math.max;function OL(e,t,n){t===void 0?t=1:t=G0e(H0e(t),0);var r=e==null?0:e.length;if(!r||t<1)return[];for(var i=0,s=0,l=Array(q0e(r/t));i<r;)l[s++]=fE(e,i,i+=t);return l}const Dc=(e,t)=>`${e.song.id}${t.isNew?"-new-group":""}`;function Y0e(e){const t=x.useRef(null),n=x.useMemo(()=>e.groups.map(u=>({group:u,rows:OL(u.songs,e.perRow)})),[e.groups,e.perRow]),r=x.useMemo(()=>n.map(({rows:u})=>u.length),[n]),i=x.useMemo(()=>n.flatMap(({rows:u})=>u),[n]),{ListRowWrapper:s,GroupRowWrapper:l}=e,c=x.useCallback(u=>e.groups.findIndex(p=>p.songs.some(h=>Dc(h,p)===u)),[e.groups]),d=x.useCallback(u=>{const p=c(u);if(p===-1)return;const h=e.groups[p].songs.findIndex(v=>Dc(v,e.groups[p])===u);return n.slice(0,p).reduce((v,{rows:y})=>v+y.length,Math.floor(h/e.perRow))},[c,n,e.groups,e.perRow]);return x.useImperativeHandle(e.ref,()=>({getSongPosition:u=>{var b;const p=c(u);if(p===-1)return;const h=e.groups[p].songs.findIndex(_=>Dc(_,e.groups[p])===u),v=n.slice(0,p).reduce((_,{rows:w})=>_+w.length,Math.floor(h/e.perRow));return{y:((b=t.current)==null?void 0:b.getItemPositionY(v))??-1}},scrollToGroup:u=>{var h;const p=e.groups.findIndex(v=>v.name===u);p!==-1&&((h=t.current)==null||h.scrollToGroup(p,"smooth"))},scrollToSongInGroup:async(u,p="smooth")=>{var v;const h=d(u);h!==void 0&&((v=t.current)==null||v.scrollToIndex(h,ds()?"instant":p))}})),g.jsx(g.Fragment,{children:g.jsx(LN,{Footer:e.Footer,forceRenderItem:d(e.focusedSong)??-1,overScan:e.itemHeight*2,itemHeight:e.itemHeight,groupHeaderHeight:e.groupHeight,components:e.components,context:e.context,groupContent:(u,p)=>g.jsx(l,{group:n[u].group,...p,children:e.renderGroup(n[u].group)}),ref:t,groupSizes:r,itemContent:(u,p,h)=>g.jsxs(s,{"data-is-new":n[p].group.isNew,...h,children:[i[u].map(v=>e.renderItem(v,n[p].group)),e.placeholder&&i[u].length<e.perRow&&new Array(e.perRow-i[u].length).fill(null).map((v,y)=>g.jsx(x.Fragment,{children:e.placeholder},y))]})})})}const jL=(e,t)=>e+Math.random()*(t-e),uo=(e,t)=>Math.round(jL(e,t)),K0e=250,W0e=750;function Q0e(e){const t=_I(async()=>(await fetch("/mostPopularSongs.json")).json(),[]),n=_I(async()=>iX(),[]),r=x.useMemo(()=>e.filter(l2).map(d=>d.id),[e]),[i]=xt(Jv),s=t.loading||n.loading||!e.length,l=x.useMemo(()=>{if(s)return;const d=Object.keys(n.value).filter(b=>n.value[b].scores.some(_=>(_.progress??0)>.8)),u=Object.keys(t.value).filter(b=>!(i!=null&&i.includes(b))),p=[...new Set([...u,...i??[]])],h=e.filter(b=>!p.some(_=>b.language.includes(_))||b.local).map(b=>b.id).concat(...d),v=Math.max(K0e,W0e-Math.round(h.length/1.75)),y=u.map(b=>t.value[b].slice(0,v)).flat();return{popular:[...new Set([...d,...y,...h,...r])]}},[i,s,t.value,e,n.value]),c=x.useMemo(()=>({popular:[]}),[]);return{value:l??c,loading:s}}const X0e=e=>{const t=/[^a-zA-Z]/;return{name:isFinite(+e.artist[0])||t.test(e.artist[0])?"0-9":e.artist[0].toUpperCase()}};function J0e(e){const t=bf(),{value:{popular:n},loading:r}=Q0e(t.data),i=t.isLoading||r,{filters:s,filteredList:l,setFilters:c,selectedPlaylist:d,setSelectedPlaylist:u,playlists:p,playlist:h}=afe(t.data,n,i,e);return{groupedSongList:x.useMemo(()=>{var b;const y=[];if(s.search)return y.push({name:"Search results",songs:l.map((_,w)=>({index:w,song:_,isPopular:n.includes(_.id)}))}),y;{if(l.length===0)return[];(h!=null&&h.sortingFn?[...l].sort(h.sortingFn):l).forEach(T=>{try{const{name:k,...R}=((h==null?void 0:h.groupData)??X0e)(T);let M=y.find(E=>E.name===k);M||(M={name:k,songs:[],...R},y.push(M)),M.songs.push({index:l.indexOf(T),song:T,isPopular:n.includes(T.id)})}catch(k){console.error(k),fo(k)}});const w=((b=h==null?void 0:h.postGrouping)==null?void 0:b.call(h,y))??y;if(!(h!=null&&h.hideNew)){const T=l.filter(k=>k.isNew);T.length&&T.length<50&&w.unshift({name:"New",isNew:!0,songs:T.map(k=>({song:k,index:l.indexOf(k),isPopular:n.includes(k.id)}))})}return w}},[l,s.search,n,h]),songList:l,filters:s,setFilters:c,isLoading:i,selectedPlaylist:d,setSelectedPlaylist:u,playlists:p}}function Kx(e){const t=x.useRef(e);return x.useEffect(()=>{t.current=e},[e]),t.current}const Z0e=30;function eve(e,t,n=Z0e){let r;if(t.length<e){const i=[...Array(e).keys()].filter(s=>!t.includes(s));r=i[uo(0,i.length-1)]}else r=uo(0,e-1),t.length=0;return t.length>=n&&t.shift(),t.push(r),r}const tve=(e=[],t)=>{var y;const[n,r]=x.useState([0,0]),i=x.useMemo(()=>e.map(b=>OL(b.songs.map(_=>Dc(_,b)),t)).flat(),[e,t]),s=n[0]===((y=i[n[1]])==null?void 0:y.length)-1,l=x.useMemo(()=>{const[b,_]=n,w=i[_];if(!w)return"";const T=Math.min(b,w.length-1);return w[T]},[n,i]),c=x.useCallback(b=>{var T;const _=i.findIndex(k=>k.includes(b)),w=((T=i[_])==null?void 0:T.indexOf(b))??-1;r(w===-1||_===-1?[0,0]:[w,_])},[i]),[d,u]=x.useState(()=>l);d!==l&&u(l);const[p,h]=x.useState(()=>i);return p!==i&&h(i),p!==i&&d&&d!==l&&(h(i),c(d)),[l,n,(b,_)=>{xy.play(),r(([w,T])=>{var M;if(i.length===0)return[0,0];let k=w,R=T;if(b==="y")R=T+_;else{if(i[T]===void 0)debugger;const E=(((M=i[T])==null?void 0:M.length)??1)-1;k=Math.min(w,E)+_,k<0?(R=(i.length+T-1)%i.length,k=i[R].length-1):k>E&&(R=T+1,k=0)}return[k%t,(i.length+R)%i.length]})},c,s]},nve=(e,t=[],n,r,i,s)=>{const l=Oi(),[c,d]=x.useState([!1,null]),u=Kx(c),[p,h]=c,[v,y,b,_,w]=tve(t,s),T=y[0]===0,k=()=>{Hw.play(),n()},[R,M]=x.useState(!1),E=Kx(i.search);x.useLayoutEffect(()=>{if(E&&!i.search){M(!0);const q=setTimeout(()=>M(!1),2e3);return()=>{clearTimeout(q),M(!1)}}},[i.search]);const O=()=>{!R&&!i.search&&(qw.play(),l("menu/"))},j=x.useCallback(Td((q,H)=>{const D=(t.length+H+q)%t.length;_(t[D].songs[0].song.id),xy.play()},700,{trailing:!1}),[t]),P=(q,H)=>{if(!(q!=null&&q.repeat))b("y",H);else{const D=t.findIndex(W=>!!W.songs.find(Q=>Q.song.id===v));j(H,D)}},V=(q,H=!1)=>{!H&&q===-1&&T&&!p?d([!0,"left"]):b("x",q)},C=x.useRef([]),N=()=>{const q=eve(r,C.current);for(const H of t)for(const D of H.songs)if(D.index===q){_(D.song.id);return}};pf({accept:k,down:q=>P(q,1),up:q=>P(q,-1),left:()=>V(-1),right:()=>V(1),back:O,random:N},e&&!p,[t,y,p,i,R]);const U=x.useMemo(()=>({"horizontal-vertical":null,accept:null,back:null,shiftR:null,alphanumeric:null,remote:["search","select-song"]}),[]);yf(U,e);const L=x.useCallback(q=>{d([!1,q??null])},[d,V,t,y]);return x.useLayoutEffect(()=>{const[q,H]=u;q&&!p&&H===h&&V(h==="right"?1:-1,!0)},[p,h,T,w,...y]),[v,_,p,L,N]};function rve(e,t){const n=(e==null?void 0:e.replace("-new-group",""))??null,{songList:r,groupedSongList:i,setFilters:s,filters:l,isLoading:c,selectedPlaylist:d,setSelectedPlaylist:u,playlists:p}=J0e(n),[h,v]=x.useState(!0),y=(j,P)=>{Op(()=>{mf.flushSync(()=>{v(j),P==null||P()})}),Gw.play(!1)},[b,_,w,T,k]=nve(h,i,()=>y(!1),r.length,l,t),R=b.replace("-new-group",""),[M,E]=x.useState(!1);if(!M&&r.length&&!c){let j="";const P=r.find(V=>V.isNew);e&&r.some(V=>V.id===n)?j=e:P?j=P.id:j=r[uo(0,r.length-1)].id,_(j),E(!0)}x.useEffect(()=>{e!==null&&E(!1)},[e]),x.useEffect(()=>{var j;if(M&&!c&&r.length&&r.some(P=>P.id===R)){const P=new URL((j=global.location)==null?void 0:j.href);P.searchParams.set("song",b),global.history.replaceState(null,"",P.toString())}},[M,b,r,c]);const O=r==null?void 0:r.find(j=>j.id===R);return{groupedSongList:i,focusedSong:b,moveToSong:_,setKeyboardControl:y,keyboardControl:h,songPreview:O,songList:r??[],filters:l,setFilters:s,showFilters:w,setShowFilters:T,isLoading:c||!M,randomSong:k,selectedPlaylist:d,setSelectedPlaylist:u,playlists:p}}const ive=1.1,qO=4,PL=7,Wx=4.5,GO=PL+Wx,a0=3.5,sve={Header:({context:e})=>g.jsxs(g.Fragment,{children:[g.jsx(fve,{}),e&&e.songPreviewProps.songPreview&&g.jsx(D0e,{...e.songPreviewProps,songPreview:e.songPreviewProps.songPreview})]}),Footer:()=>g.jsxs(VL,{children:["Missing a song? Try"," ",g.jsx(Uy,{to:"convert/",children:g.jsx("a",{children:"adding one"})})," ","yourself!"]}),EmptyPlaceholder:()=>g.jsx(uve,{children:"No songs found"})};function ove({onSongSelected:e,preselectedSong:t}){const[n,r]=x.useState(t),[i]=xt(oi),s=i?qO-1:qO;Nl(!1),Pl(!0),vL();const{focusedSong:l,moveToSong:c,groupedSongList:d,keyboardControl:u,songPreview:p,setKeyboardControl:h,setFilters:v,filters:y,setShowFilters:b,showFilters:_,isLoading:w,randomSong:T,selectedPlaylist:k,setSelectedPlaylist:R,playlists:M,songList:E}=rve(n,s),O=x.useMemo(()=>d.map(F=>F.songs).flat().find(F=>F.song.id===(p==null?void 0:p.id)),[p,d]),j=x.useMemo(()=>M.find(F=>F.name===k),[M,k]),P=x.useRef(null),V=VN(),{width:C,handleResize:N}=gf(),L=(C-(GO+Wx)*V-(s-1)*a0*V)/s,q=L*(9/16),H=q/2,D=x.useCallback(()=>h(!1),[h]),W=w||!d||!C,Q=k==="Eurovision",J=x.useRef(null);x.useEffect(()=>(global.__songList={scrollToSong:F=>{var Me;const[ge]=F.split("-new-group"),se=F.endsWith("-new-group");return d.find(Re=>!!Re.isNew===se&&Re.songs.some(ve=>ve.song.id===ge))?((Me=P.current)==null||Me.scrollToSongInGroup(F,"instant"),!0):!1}},()=>{delete global.__songList}),[d]);const[{previewTop:B,previewLeft:G},ee]=x.useState(()=>({previewTop:0,previewLeft:0}));x.useEffect(()=>{var ge;const F=document.querySelector(`[data-song-id="${l}"]`);if(!w&&F){const se=(ge=P.current)==null?void 0:ge.getSongPosition(l);ee({previewTop:(se==null?void 0:se.y)??0,previewLeft:F.offsetLeft})}else w||console.warn(`!!!!!!!!!!!! Song not found "${l}" !!!!!!!!!!!!`,l,"focusedSong")},[l,w,C,E]),x.useEffect(()=>{var F;N(),w||(F=P.current)==null||F.scrollToSongInGroup(l)},[C,l,d,w,N]);const ue=Oi();return ri("Shift + E",()=>ue(Bv("edit/song/",{playlist:null,step:"metadata"})),[ue]),pi(me.remoteSongSelected,async F=>{if(!E.some(se=>se.id===F))return h(!1,()=>{r(F)});l!==F?(c(F),u||h(!0),D()):u&&D()},[E,l,u,D,c]),u&&n&&n!==l&&!w&&r(null),g.jsx(Dl,{children:g.jsxs(ave,{songsPerRow:s,style:{"--song-group-header-height":`${Math.floor(H)}px`,"--song-entry-width":`${Math.floor(L)}px`,"--song-entry-height":`${Math.floor(q)}px`,"--song-list-gap":`${Math.floor(a0*V)}px`,"--song-list-padding-left":`${Math.floor(GO*V)}px`,"--song-list-padding-right":`${Math.floor(Wx*V)}px`,"--song-sidebar-weight":`${Math.floor(PL*V)}px`},children:[W?g.jsxs(YO,{children:[g.jsx(WO,{children:g.jsx(XO,{children:g.jsx(Qx,{children:""})})}),new Array(4).fill(0).map((F,ge)=>g.jsx(QO,{children:new Array(4).fill(0).map((se,Se)=>g.jsx(KO,{},Se))},ge))]}):g.jsxs(g.Fragment,{children:[p&&g.jsx(lve,{videoId:p.video}),g.jsx(kme,{setFilters:v,filters:y,onRandom:T,keyboardControl:u}),g.jsx(t0e,{container:J.current,groupedSongList:d,onScrollToGroup:F=>{c(Dc(F.songs[0],F)),setTimeout(()=>{var ge;return(ge=P.current)==null?void 0:ge.scrollToGroup(F.name)},20)}}),g.jsx(YO,{active:u,dim:_,"data-test":"song-list-container",ref:J,children:g.jsx(Y0e,{focusedSong:l,ListRowWrapper:QO,GroupRowWrapper:WO,ref:P,groups:d,itemHeight:Math.floor(q)+Math.floor(a0*V),groupHeight:Math.floor(H)+Math.floor(a0*V),components:sve,renderGroup:F=>g.jsx(XO,{"data-highlight":F.name==="New",children:g.jsx(Qx,{"data-group-name":F.name,className:"rounded-md",children:F.displayLong??F.name})},F.name),perRow:s,renderItem:(F,ge)=>{const se=Dc(F,ge),Se=se===l;return x.createElement(dve,{..._||!u?{"data-unfocusable":!0}:{},isPopular:F.isPopular,key:F.song.id,song:F.song,handleClick:Se?D:c,focused:!_&&u&&Se,songId:se,groupLetter:ge.name,"data-song-index":F.index,"data-song-id":se,"data-focused":!_&&u&&Se,"data-test":`song-${Dc(F,ge)}`,"data-group":ge.name,forceFlag:Q})},placeholder:g.jsx(KO,{style:{visibility:"hidden"}}),context:{songPreviewProps:{forceFlag:Q,isPopular:!!(O!=null&&O.isPopular),keyboardControl:!u,onPlay:e,onExitKeyboardControl:()=>h(!0),songPreview:p,top:B,left:G,width:Math.floor(L),height:Math.floor(q)}},Footer:(j==null?void 0:j.footerComponent)??g.jsxs(VL,{children:["Missing a song? Try"," ",g.jsx(Uy,{to:"convert/",children:g.jsx("a",{children:"adding one"})})," ","yourself!"]})})})]}),g.jsx(Vme,{selectedPlaylist:k,setSelectedPlaylist:R,playlists:M,active:_,closePlaylist:b})]})})}const VL=K("div",{target:"e13s0pn12"})(Ot,";text-align:center;font-size:5rem;padding:10rem 0;"),ave=K("div",{target:"e13s0pn11"})({name:"usdvu5",styles:"display:flex;flex-direction:row;max-height:100vh"}),lve=e=>{const{theme:t}=x.useContext(Xp);return t==="eurovision"?null:g.jsx(cve,{...e})},cve=K(Rme,{target:"e13s0pn10"})({name:"ybgcp",styles:"position:fixed;inset:0;width:100%;height:100%;filter:blur(7px) grayscale(90%);opacity:0.25;object-fit:cover"}),uve=K("div",{target:"e13s0pn9"})(Ot,";display:flex;align-items:center;justify-content:center;flex:1;height:75vh;font-size:10rem;"),YO=K("div",{target:"e13s0pn8"})("position:relative;flex:1 1 auto;min-height:100vh;max-height:100vh;transition:opacity 500ms;opacity:",e=>e.dim?.5:1,";"),KO=K("div",{target:"e13s0pn7"})({name:"1mtg8xe",styles:"background:black;flex-basis:var(--song-entry-width);height:var(--song-entry-height);border-radius:1rem;animation:skeleton 1s ease-in-out infinite alternate;@keyframes skeleton{0%{opacity:0.65;}100%{opacity:0.75;}}"}),dve=x.memo(K(SL,{target:"e13s0pn6"})("cursor:pointer;flex-basis:var(--song-entry-width);height:var(--song-entry-height);transition:300ms;transform:scale(1);&[data-focused='true']{transform:scale(",ive,");z-index:2;",Kd,";}")),fve=K("div",{target:"e13s0pn5"})(""),DL=K("div",{target:"e13s0pn4"})({name:"1apqsvn",styles:"display:flex;flex-wrap:nowrap;gap:var(--song-list-gap);padding:0 var(--song-list-padding-right) 0 var(--song-list-padding-left);margin-bottom:var(--song-list-gap)"}),WO=K(DL,{target:"e13s0pn3"})(""),QO=K(DL,{target:"e13s0pn2"})({name:"1xj3zav",styles:"position:relative;&[data-is-new='true']{background-color:rgba(0, 0, 0, 0.7);background-position-y:var(--song-list-gap);background-repeat:no-repeat;}"}),Qx=K("div",{target:"e13s0pn1"})(Ot,";display:flex;padding:0.5rem 1rem;font-size:5.4rem;z-index:1;color:",Ue.colors.text.active,";background:rgba(0, 0, 0, 0.7);align-items:center;gap:1rem;"),XO=K("div",{target:"e13s0pn0"})("display:flex;align-items:flex-end;height:var(--song-group-header-height);&[data-highlight='true']{",Qx,"{animation:new-song-group-header 600ms ease-in-out infinite both;background:#ffffff;@keyframes new-song-group-header{0%,100%{transform:scale(1);}50%{transform:scale(1.1);}}}}");function hve(e){const[t,n]=xt(Jv),[r,i]=x.useState(t===null),s=()=>{n(t??[]),i(!1)};return r?g.jsx(BN,{onClose:s,closeText:"Continue to Song Selection"}):g.jsx(ove,{...e})}function pve({register:e,onExit:t}){const n=x.useRef(null),[r,i]=x.useState(!1),[s,l]=x.useState(!1),[c,d]=x.useState(!1);x.useEffect(()=>{var h;(h=n.current)==null||h.focus()},[n]);const u=()=>{const h=at.getSong(),v={songId:h==null?void 0:h.id,songLastUpdated:h==null?void 0:h.lastUpdate},y=[];r&&y.push("not-in-sync"),s&&y.push("wrong-volume"),c&&y.push("bad-lyrics"),y.length&&er.capture("rate-song",{issues:y,...v}),t==null||t()},p=s||r||c;return g.jsx(g.Fragment,{children:g.jsxs(jt,{"data-test":"rate-song-container",title:"Is the song OK?",children:[g.jsx("h4",{children:"If there's something wrong with the song, let me know so I can fix it"}),g.jsxs(R_,{...e("button-not-in-sync",()=>i(h=>!h)),size:"small",children:[g.jsx(I_,{children:r?g.jsx(D0,{}):g.jsx(B0,{})}),g.jsx("span",{children:"Lyrics are not in sync"})]}),g.jsxs(R_,{...e("button-bad-lyrics",()=>d(h=>!h)),size:"small",children:[g.jsx(I_,{children:c?g.jsx(D0,{}):g.jsx(B0,{})}),g.jsx("span",{children:"Wrong lyrics, missing spaces etc."})]}),g.jsxs(R_,{...e("button-wrong-volume",()=>l(h=>!h)),size:"small",children:[g.jsx(I_,{children:s?g.jsx(D0,{}):g.jsx(B0,{})}),g.jsx("span",{children:"Too loud/quiet"})]}),g.jsx("hr",{}),g.jsx(vt,{...e("button-song-ok",u,void 0,!0),ref:n,children:p?"Submit and exit":"All good, exit the song"})]})})}const R_=En(vt)`gap-4 justify-start pl-4`,I_=K("div",{target:"e1prcfby0"})({name:"224g68",styles:"svg{width:3rem;height:3rem;}display:flex;align-items:center;justify-content:center"}),gve=x.forwardRef(({...e},t)=>{const n=x.useRef(null);x.useImperativeHandle(t,()=>n.current);const[r,i]=xt(xd);return g.jsx(mve,{className:"text-[2.7rem]",ref:n,label:"Input lag",value:String(r),onChange:s=>i(+s),type:"number",step:50,min:-2e3,max:2e3,adornment:"ms",onKeyDown:s=>{var l;s.code==="Enter"&&((l=n.current)==null||l.blur())},info:"If the sound is not synchronised with the lyrics, use this to compensate it.",...e})}),mve=K(uu,{target:"e1vs2glp0"})({name:"q54eim",styles:"input{text-align:right;}"});function vve({onResume:e,onExit:t,onRestart:n}){const r=Oi(),i=x.useRef(null),s=x.useRef(null);x.useEffect(()=>{var v;(v=i.current)==null||v.focus()},[i]);const[l,c]=x.useState(!1),{register:d}=dr({enabled:!l}),[u,p]=x.useState(!1),h=async()=>{const v=at.getSongCompletionProgress(),y=(await fs.getIndex()).find(b=>{var _;return b.id===((_=at.getSong())==null?void 0:_.id)});!(y!=null&&y.local)&&v<.7?p(!0):t==null||t()};return g.jsxs(Vl,{onClose:e,children:[!u&&g.jsxs(g.Fragment,{children:[g.jsxs(jt,{children:[g.jsx(vt,{...d("button-resume-song",e),ref:i,children:"Resume song"}),g.jsx(vt,{...d("button-restart-song",n),children:"Restart song"}),g.jsx(vt,{...d("button-exit-song",h),children:"Exit song"}),g.jsx(vt,{...d("input-settings",()=>c(!0)),children:"Microphones settings"}),g.jsx("hr",{}),g.jsx(gve,{ref:s,...d("input-lag",()=>{var v;return(v=s.current)==null?void 0:v.focus()})}),g.jsx(vt,{...d("edit-song",()=>{var v;return r("edit/song/",{song:((v=at.getSong())==null?void 0:v.id)??""})}),size:"small",children:"Edit song"})]}),l&&g.jsx(IL,{onClose:()=>c(!1),closeButtonText:"Back to Pause Menu"})]}),u&&g.jsx(pve,{onExit:t,register:d})]})}const BL=ds()?1e3:8e3;function yve(e){return Math.floor((Yy(e)-BL)/1e3)}const Ave=2e4;function bve(e){return Yy(e)-(e.videoGap??0)*1e3>Ave}function _ve({playerRef:e,isEnabled:t}){const[n]=xt(oi),r=at.getSong(),i=x.useMemo(()=>bve(r),[r]),s=x.useMemo(()=>Yy(r),[r]),l=at.getCurrentTime(!1)<s-BL*1.2,c=t&&l&&i;pf({accept:()=>{e==null||e.seekTo(yve(r));const{artist:p,title:h}=at.getSong();er.capture("introSkipped",{name:`${p} - ${h}`,artist:p,title:h})}},c);const u=x.useMemo(()=>({accept:"Skip Intro",back:"Pause Menu"}),[]);return yf(u,c),!n&&c?g.jsxs(Sve,{visible:c,"data-test":"skip-intro-info",children:["Press ",g.jsx(xve,{children:"Enter"})," to skip the intro"]}):null}const Sve=K("div",{target:"e167kngm1"})(Ot,";pointer-events:none;position:fixed;bottom:29rem;transform:scale(",e=>e.visible?1:0,");opacity:",e=>e.visible?1:0,";text-align:center;font-size:5rem;text-shadow:0 0 3.5rem black;width:100%;z-index:4;padding:0.5rem;transition:ease 500ms;"),xve=K("kbd",{target:"e167kngm0"})("margin:0.2rem;padding:0.2rem 2rem;border-radius:1.3rem;border:0.5rem solid rgb(204, 204, 204);border-bottom-color:rgb(150, 150, 150);border-right-color:rgb(150, 150, 150);line-height:1.4;display:inline-block;background-color:rgb(247, 247, 247);text-shadow:0 1rem 0 #fff;opacity:",e=>e.disabled?.25:1,";"),wve=15e3;function Eve({onSongEnd:e,isEnabled:t}){const[n]=xt(oi),r=at.getDuration(),i=x.useMemo(()=>Math.max(...at.getPlayers().map(y=>$d(y.getLastNotesSection()))),[]),s=x.useMemo(()=>{var b;const y=zv(i,at.getSong())+(((b=at.getSong())==null?void 0:b.gap)??0);return t&&r*1e3>y+wve},[r,i,t]),[l,c]=x.useState(0),[d,u]=x.useState(!1);XD(()=>c(at.getCurrentBeat()),1e3);const p=ZE(s&&l>i,5e3)&&!d;pf({accept:()=>{u(!0),e&&setTimeout(e,700);const{artist:y,title:b}=at.getSong();er.capture("outroSkipped",{name:`${y} - ${b}`,artist:y,title:b})}},p);const v=x.useMemo(()=>({accept:"Skip Outro",back:"Pause Menu"}),[]);return yf(v,p),!n&&s?g.jsxs(Tve,{visible:p,"data-test":"skip-outro-info","data-visible":p,children:["Press ",g.jsx(Cve,{children:"Enter"})," to skip the outro"]}):null}const Tve=K("div",{target:"e1b01y1a1"})(Ot,";pointer-events:none;position:fixed;bottom:29rem;transform:scale(",e=>e.visible?1:0,");opacity:",e=>e.visible?1:0,";text-align:center;font-size:5rem;text-shadow:0 0 3.5rem black;width:100%;z-index:4;padding:0.5rem;transition:ease 500ms;"),Cve=K("kbd",{target:"e1b01y1a0"})("margin:0.2rem;padding:0.2rem 2rem;border-radius:1.3rem;border:0.5rem solid rgb(204, 204, 204);border-bottom-color:rgb(150, 150, 150);border-right-color:rgb(150, 150, 150);line-height:1.4;display:inline-block;background-color:rgb(247, 247, 247);text-shadow:0 1rem 0 #fff;opacity:",e=>e.disabled?.25:1,";"),kve=Qe.memo(Eve);function Mve({players:e}){const t=at.getCurrentTime(!1),n=at.getSongBeatLength(),r=at.getDuration(),i=at.getSong(),s=x.useMemo(()=>Lv(i.tracks.filter((d,u)=>e.find(p=>p.track===u)).map(({sections:d})=>wl(d)*n+i.gap)),[i,n,e]),l=x.useMemo(()=>Lv(i.tracks.filter((d,u)=>e.find(p=>p.track===u)).map(({sections:d})=>Sp(d)*n+i.gap)),[i,n,e]),c=r*1e3;return!t||!r?null:g.jsxs(v2,{children:[s.map(d=>g.jsx(JO,{position:d/c},d)),l.map(d=>g.jsx(JO,{position:d/c},d)),g.jsx(Ove,{fill:t/c})]})}const v2=K("div",{target:"e1pz3mwm2"})({name:"1q7pdku",styles:"position:absolute;height:0.6rem;width:100%;background:rgba(0, 0, 0, 0.5);left:0;top:calc(50% - 0.3rem)"}),Rve=K(v2,{target:"e1pz3mwm1"})("top:0;margin-left:-0.25rem;width:0.5rem;background:",Ue.colors.text.active,";opacity:75%;"),JO=e=>g.jsx(Rve,{style:{left:`${Math.min(e.position*100,100)}%`}}),Ive=K(v2,{target:"e1pz3mwm0"})({name:"1ssqmyb",styles:"top:0;background:white;opacity:50%"}),Ove=e=>g.jsx(Ive,{style:{width:`${Math.round(e.fill*1e4)/100}%`}});function jve({player:e,bottom:t=!1,...n}){const r=ur.getPlayerVolume(e.number),i=TL(e.number);return g.jsxs(Pve,{...n,children:[i!=="unavailable"&&g.jsx(Xge,{playerNumber:e.number,volume:r}),g.jsx(Vve,{status:i,tooltipPosition:"start"}),g.jsx(Dve,{playerNumber:e.number})]})}const Pve=K("div",{target:"ea232322"})({name:"180gow0",styles:"width:20rem;position:relative"}),Vve=K(ML,{target:"ea232321"})({name:"14rk3pa",styles:"top:auto;right:1rem;bottom:-0.5rem"}),Dve=K(kL,{target:"ea232320"})({name:"ed8znk",styles:"z-index:2;font-size:2rem;margin-right:1rem;-webkit-text-stroke:0.1rem black"});function ZO({player:e,bottom:t=!1,effectsEnabled:n,showStatusForAllPlayers:r}){var M;const i=at.getPlayer(e.number),[s]=xt(oi),l=Ue.colors.players[e.number].text,c=((M=at.getSingSetup())==null?void 0:M.mode)===Ci.PASS_THE_MIC?i.getTrack().changes:[],d=i.getCurrentSection(),u=i.getNextSection(),p=i.getNextSection(2),h=at.getCurrentBeat(),v=at.getSongBeatLength(),y=Math.max(0,...c.filter(E=>E<=((d==null?void 0:d.start)??-1/0))),b=c.find(E=>E>((d==null?void 0:d.start)??1/0))??1/0,_=(b-h)*v,w=(b-h)/(b-y),T=_<2500,k=fn(d),R=k?wl([d])-d.start:0;return g.jsxs(zve,{shouldBlink:T,bottom:t,"data-test":`lyrics-container-player-${e.number}`,children:[!s&&n&&g.jsx(Bve,{children:r?at.getPlayers().map(E=>g.jsx(ej,{player:tt.getPlayer(E.getNumber())},E.getNumber())):g.jsx(ej,{player:e})}),_<1/0&&g.jsx(Yve,{color:l,progress:w<=1?w*100:0}),k?g.jsx(g.Fragment,{children:g.jsxs(l0,{"data-test":`lyrics-current-player-${e.number}`,effectsEnabled:n,children:[g.jsx(Nve,{children:g.jsx(Fve,{color:l,percent:Math.min(2,(h-d.start)/R)})}),d==null?void 0:d.notes.map(E=>{const O=Math.max(0,Math.min(2,(h-E.start)/E.length));return g.jsxs($ve,{type:E.type,children:[g.jsxs(Uve,{children:[g.jsx(qve,{fill:O,color:l,children:E.lyrics.trim()}),E.lyrics.endsWith(" ")&&" "]}),E.lyrics]},E.start)}),(u==null?void 0:u.start)===b&&g.jsx(tj,{"data-should-shake":!0})]})}):g.jsx(l0,{effectsEnabled:n,children:""}),fn(u)?g.jsxs(l0,{nextLine:!0,"data-test":`lyrics-next-player-${e.number}`,effectsEnabled:n,children:[u.notes.map(E=>g.jsx(x.Fragment,{children:E.lyrics},E.start)),(p==null?void 0:p.start)===b&&g.jsx(tj,{})]}):g.jsx(l0,{effectsEnabled:n,nextLine:!0,children:""})]})}const ej=K(jve,{target:"e1j3lo7n10"})({name:"82a6rk",styles:"flex:1"}),Bve=K("div",{target:"e1j3lo7n9"})({name:"zrovsy",styles:"position:absolute;top:0;right:0;display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%"}),Nve=K("span",{target:"e1j3lo7n8"})({name:"1sngsgs",styles:"position:relative;height:0"}),Lve=K("span",{target:"e1j3lo7n7"})({name:"7drlms",styles:"position:absolute;width:15rem;height:3.1rem;margin:0.7rem 0;right:10rem"}),Fve=({percent:e,color:t})=>{const n=x.useMemo(()=>{const r=ke(t).toRgb();return`${r.r}, ${r.g}, ${r.b}`},[t]);return g.jsx(Lve,{style:{transformOrigin:"right",transform:`scaleX(${Math.min(1,2-e)})`,right:`${Math.max(0,1-e)*15}rem`,background:`linear-gradient(270deg, rgba(${n}, 1) 0%, rgba(${n}, 0.5) 25%, rgba(${n}, 0) 100%)`}})},zve=K("div",{target:"e1j3lo7n6"})("@keyframes blink{100%{background-color:rgba(0, 0, 0, ",e=>e.bottom?"0.85":"0.5",");}30%{background-color:rgba(0, 0, 0, ",e=>e.bottom?"0.85":"0.5",");}50%{background-color:rgba(200, 200, 200, ",e=>e.bottom?"0.85":"0.5",");}30%{background-color:rgba(0, 0, 0, ",e=>e.bottom?"0.85":"0.5",");}0%{background-color:rgba(0, 0, 0, ",e=>e.bottom?"0.85":"0.5",");}}box-sizing:border-box;padding:1rem;background:rgba(0, 0, 0, ",e=>e.bottom?"0.9":"0.5",");width:100%;text-align:center;line-height:1;position:relative;",e=>e.shouldBlink?"animation: blink 350ms ease-in-out infinite both;":"",";"),$ve=K("span",{target:"e1j3lo7n5"})("font-style:",e=>e.type==="freestyle"?"italic":"normal",";"),Uve=K("span",{target:"e1j3lo7n4"})({name:"nffb2y",styles:"position:absolute;z-index:1"}),Hve=K("span",{target:"e1j3lo7n3"})(""),qve=({fill:e,color:t,children:n})=>g.jsx(Hve,{style:{clipPath:`inset(0 ${(1-(e===0?0:e+.05))*100}% -5rem 0)`,color:`${t}`},children:n}),Gve=K("div",{target:"e1j3lo7n2"})({name:"d6fl9l",styles:"position:absolute;height:1rem;width:100%"}),Yve=e=>g.jsx(Gve,{"data-test":"pass-the-mic-progress",style:{background:e.color,transformOrigin:"left",transform:`scaleX(${e.progress/100})`}}),tj=K(e2,{target:"e1j3lo7n1"})("@keyframes shake{10%,90%{transform:translate3d(-0.1rem, 0, 0);}20%,80%{transform:translate3d(0.2rem, 0, 0);}30%,50%,70%{transform:translate3d(-0.4rem, 0, 0);}40%,60%{transform:translate3d(0.4rem, 0, 0);}}font-size:3rem;margin-left:2rem;&[data-should-shake='true']{animation:shake 0.92s cubic-bezier(0.36, 0.07, 0.19, 0.97) both infinite;fill:",Ue.colors.text.active,";font-size:4rem;}"),l0=K("div",{target:"e1j3lo7n0"})("font-size:",({nextLine:e,effectsEnabled:t})=>t?3.5+(e?0:1):2,"rem;height:",({effectsEnabled:e})=>e?4.5:2,"rem;-webkit-text-stroke-width:",({effectsEnabled:e})=>e?"0.2rem":"1px",";color:",({nextLine:e})=>e?Ue.colors.text.inactive:Ue.colors.text.default,";font-family:'Comic Sans MS',Seravek,'Gill Sans Nova',Ubuntu,Calibri,'DejaVu Sans',source-sans-pro,sans-serif;z-index:10;"),NL=new Intl.NumberFormat(void 0,{maximumFractionDigits:0});function Xx({score:e}){return g.jsx(g.Fragment,{children:NL.format(e)})}var O_,nj;function Kve(){if(nj)return O_;nj=1;var e=4,t=.001,n=1e-7,r=10,i=11,s=1/(i-1),l=typeof Float32Array=="function";function c(_,w){return 1-3*w+3*_}function d(_,w){return 3*w-6*_}function u(_){return 3*_}function p(_,w,T){return((c(w,T)*_+d(w,T))*_+u(w))*_}function h(_,w,T){return 3*c(w,T)*_*_+2*d(w,T)*_+u(w)}function v(_,w,T,k,R){var M,E,O=0;do E=w+(T-w)/2,M=p(E,k,R)-_,M>0?T=E:w=E;while(Math.abs(M)>n&&++O<r);return E}function y(_,w,T,k){for(var R=0;R<e;++R){var M=h(w,T,k);if(M===0)return w;var E=p(w,T,k)-_;w-=E/M}return w}function b(_){return _}return O_=function(w,T,k,R){if(!(0<=w&&w<=1&&0<=k&&k<=1))throw new Error("bezier x values must be in [0, 1] range");if(w===T&&k===R)return b;for(var M=l?new Float32Array(i):new Array(i),E=0;E<i;++E)M[E]=p(E*s,w,k);function O(j){for(var P=0,V=1,C=i-1;V!==C&&M[V]<=j;++V)P+=s;--V;var N=(j-M[V])/(M[V+1]-M[V]),U=P+N*s,L=h(U,w,k);return L>=t?y(j,U,w,k):L===0?U:v(j,P,P+s,w,k)}return function(P){return P===0?0:P===1?1:p(O(P),T,R)}},O_}var Wve=Kve();const Qve=Pr(Wve),LL=6,Is=30,wr=Is+6,Xve=e=>{const t=e.canvas.width,n=e.canvas.height,r=Math.max(0,(t-n*(16/9))/2),i=10+(t-2*r)*.15+r,s=n-e.paddingVertical*2;return{width:t-i*2,height:s/e.playerCount,baseX:i,baseY:e.paddingVertical+e.playerIndex*s/e.playerCount}};function rj({canvas:e,currentSectionIndex:t,song:n,songBeatLength:r,minPitch:i,maxPitch:s,track:l,playerIndex:c,playerCount:d,paddingVertical:u}){var R;const p=l.sections,h=p[t],v=p[t+1],y=Xve({canvas:e,playerCount:d,playerIndex:c,paddingVertical:u}),b=fn(h)?(R=h==null?void 0:h.notes)==null?void 0:R.at(-1):void 0,_=fn(h)?(v==null?void 0:v.start)??b.start+b.length:h.end,w=h.start*r,T=(_-h.start)*r,k=(y.height-20-Is)/(s-i+LL*2);return{playerCanvas:y,currentSection:h,sectionEndBeat:_,timeSectionGap:w,maxTime:T,pitchStepHeight:k}}function FL(e,t,n,r,i){return i&&n?Ue.colors.players[t].starPerfect:i?Ue.colors.players[t].perfect:n&&r?Ue.colors.players[t].star:r?Ue.colors.players[t].hit:Ue.colors.players[t].miss}function Jve(e,t,n,r){return FL(e,t,r.note.type==="star",n,r.isPerfect)}const z0={},Zve=e=>{if(!z0[e]){const t=ke(e);z0[e]=[[t.setAlpha(.8).toRgbString(),t.setAlpha(.9).toRgbString(),t.setAlpha(1).toRgbString()],[t.setAlpha(0).toRgbString()],[t.setAlpha(.1).toRgbString(),t.setAlpha(.3).toRgbString(),t.setAlpha(.2).toRgbString()]]}return z0[e]};console.log("cachedColors",z0);function Jx(e,t,n,r,i,s,l,c=1){if(!(i<=0)){t.globalAlpha=1;try{const d=t.createRadialGradient(n,r,0,n,r,i/2),[u,p,h]=Zve(l);d.addColorStop(0,u[uo(0,u.length-1)]),d.addColorStop(.05,u[uo(0,u.length-1)]),d.addColorStop(.15,h[uo(0,h.length-1)]),d.addColorStop(1,p[uo(0,p.length-1)]),t.beginPath(),t.arc(n,r,i/2,0,2*Math.PI),t.closePath(),t.fillStyle=d,t.fill(),t.fillStyle=l,t.globalAlpha=1}catch(d){throw console.log("error",d,n,r,0,n,r,i/2),d}}}function y2(e,t,n,r,i,s,l,c,d=1){i>0&&Jx(e,t,n,r,i,s,c,d)}const lp=(e,t)=>e-t+Math.random()*t*2,ij=(e=0)=>Math.sign(e+Math.random()-.5),eye=500,tye=100,c0=.2;class nye{constructor(t,n,r){this.x=t,this.y=n,this.color=r,this.finished=!1,this.tick=(i,s,l)=>{const c=1-this.ttl/this.startingTtl,d=this.startingTtl-this.ttl,u=this.width*c,p=this.width*this.heightModifier*c,h=this.x-u/2+d*this.velocityX,v=this.y+p/2+d*this.velocityY;y2(s,i,h,v,u,p,this.initialAngle+d,this.color,.5*c),this.ttl=this.ttl-l,this.finished=this.ttl<=0},this.startingTtl=this.ttl=lp(eye,tye),this.velocityX=c0*Math.random()-c0/2,this.velocityY=c0*Math.random()-c0/2,this.width=25,this.initialAngle=180-Math.random()*360,this.heightModifier=.5+Math.random()/2}}class rye{constructor(t,n,r,i,s){this.finished=!0,this.tick=(u,p)=>{};const l=Ue.colors.players[i].starPerfect.fill,c=ke(l).lighten(15).toRgbString(),d=ke(l).darken(15).toRgbString();if(Math.random()>.85){const u=uo(0,r/8),p=Math.random();let h=l;p>.66?h=c:p>.33&&(h=d);const v=n+20*(Math.random()-.5);s.add(new nye(t+u*8,v,h))}}}const iye=300,sye=50,u0=1.3;class oye{constructor(t,n,r){this.x=t,this.y=n,this.color=r,this.finished=!1,this.tick=(i,s,l)=>{const c=1-this.ttl/this.startingTtl,d=this.ttl,u=this.width*c,p=this.width*this.heightModifier*c,h=this.x-u/2+d*this.velocityX,v=this.y+p/2+d*this.velocityY;y2(s,i,h,v,u,p,this.initialAngle+d,this.color,.7*c),this.ttl=this.ttl-l,this.finished=this.ttl<=0},this.startingTtl=this.ttl=lp(iye,sye),this.velocityX=u0*Math.random()-u0/2,this.velocityY=u0*Math.random()-u0/2,this.width=25,this.initialAngle=180-Math.random()*360,this.heightModifier=.5+Math.random()/2}}const aye=`
precision mediump float;
`,Zy=aye.replace(/\n/g,""),lye=`
attribute vec3 aVertexPosition;
attribute vec2 aTextureCoord;
`,zL=lye.replace(/\n/g,""),cye=`
varying vec3 vVertexPosition;
varying vec2 vTextureCoord;
`,eA=cye.replace(/\n/g,""),uye=Zy+zL+eA+`
uniform mat4 uMVMatrix;
uniform mat4 uPMatrix;

void main() {
    vTextureCoord = aTextureCoord;
    vVertexPosition = aVertexPosition;
    
    gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);
}
`;uye.replace(/\n/g,"");const dye=Zy+eA+`
void main() {
    gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
}
`;dye.replace(/\n/g,"");const fye=Zy+zL+eA+`
void main() {
    vTextureCoord = aTextureCoord;
    vVertexPosition = aVertexPosition;
    
    gl_Position = vec4(aVertexPosition, 1.0);
}
`;fye.replace(/\n/g,"");const hye=Zy+eA+`
uniform sampler2D uRenderTexture;

void main() {
    gl_FragColor = texture2D(uRenderTexture, vTextureCoord);
}
`;hye.replace(/\n/g,"");function pye(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:fE(e,t,n)}var gye="\\ud800-\\udfff",mye="\\u0300-\\u036f",vye="\\ufe20-\\ufe2f",yye="\\u20d0-\\u20ff",Aye=mye+vye+yye,bye="\\ufe0e\\ufe0f",_ye="\\u200d",Sye=RegExp("["+_ye+gye+Aye+bye+"]");function $L(e){return Sye.test(e)}function xye(e){return e.split("")}var UL="\\ud800-\\udfff",wye="\\u0300-\\u036f",Eye="\\ufe20-\\ufe2f",Tye="\\u20d0-\\u20ff",Cye=wye+Eye+Tye,kye="\\ufe0e\\ufe0f",Mye="["+UL+"]",Zx="["+Cye+"]",ew="\\ud83c[\\udffb-\\udfff]",Rye="(?:"+Zx+"|"+ew+")",HL="[^"+UL+"]",qL="(?:\\ud83c[\\udde6-\\uddff]){2}",GL="[\\ud800-\\udbff][\\udc00-\\udfff]",Iye="\\u200d",YL=Rye+"?",KL="["+kye+"]?",Oye="(?:"+Iye+"(?:"+[HL,qL,GL].join("|")+")"+KL+YL+")*",jye=KL+YL+Oye,Pye="(?:"+[HL+Zx+"?",Zx,qL,GL,Mye].join("|")+")",Vye=RegExp(ew+"(?="+ew+")|"+Pye+jye,"g");function Dye(e){return e.match(Vye)||[]}function Bye(e){return $L(e)?Dye(e):xye(e)}function Nye(e){return function(t){t=uE(t);var n=$L(t)?Bye(t):void 0,r=n?n[0]:t.charAt(0),i=n?pye(n,1).join(""):t.slice(1);return r[e]()+i}}var Lye=Nye("toUpperCase");function Fye(e){return Lye(uE(e).toLowerCase())}function sj(e,t,n,r,i,s,l,c){const d=Math.max(r,i/2),u=Math.min(d/2,i/2,s);e.beginPath(),e.moveTo(t+u,n),e.lineTo(t+d-u,n),e.quadraticCurveTo(t+d,n,t+d,n+u),e.lineTo(t+d,n+i-u),e.quadraticCurveTo(t+d,n+i,t+d-u,n+i),e.lineTo(t+u,n+i),e.quadraticCurveTo(t,n+i,t,n+i-u),e.lineTo(t,n+u),e.quadraticCurveTo(t,n,t+u,n),e.closePath(),l&&e.fill(),c&&e.stroke()}function A2(e,t,n,r,i,s,l,c,d=.1){sj(e,t,n,r,i,s,l,c),l&&d>0&&(e.save(),sj(e,t,n,r,i,s,!1,!1),e.clip(),e.fillStyle=`rgba(255,255,255,${d})`,e.fillRect(t,n,r,i/2.2),e.restore())}function Kh(e,t){e.fillStyle=t.fill,e.strokeStyle=t.stroke,e.lineWidth=t.lineWidth}function Wh(e,t,n,r,i,s,l){s==="star"?Kh(e,Ue.colors.lines.star):s==="freestyle"||s==="rap"?Kh(e,Ue.colors.lines.freestyle):s==="rapstar"?Kh(e,{...Ue.colors.lines.star,fill:Ue.colors.lines.freestyle.fill}):Kh(e,Ue.colors.lines.normal),e.shadowBlur=10,e.shadowColor=l!==void 0?Ue.colors.players[l].miss.stroke:"rgb(31,31,31)",e.shadowOffsetX=0,e.shadowOffsetY=0,A2(e,t,n,r,i,100,!0,!0,.075),e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0}function zye(e,t,n,r,i,s,l,c,d){Kh(e,FL(e,s,d,l,c)),e.shadowBlur=5,e.shadowColor="rgba(31,31,31, .7)",e.shadowOffsetX=1,e.shadowOffsetY=1,A2(e,t,n,r,i,100,!0,!0,l?.15:0),e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0}const Tr=10,$ye={start:{x:0,y:0,w:Is/2+Tr,h:Is+Tr*2},middle:{x:Is/2+Tr,y:0,w:1,h:Is+Tr*2},end:{x:Is/2+1+Tr,y:0,w:Is/2+Tr,h:Is+Tr*2}},vd={start:{x:0,y:0,w:wr/2+Tr,h:wr+Tr*2},middle:{x:wr/2+Tr,y:0,w:1,h:wr+Tr*2},end:{x:wr/2+1+Tr,y:0,w:wr/2+Tr,h:wr+Tr*2}},id=(e,t,n,r,i)=>({draw:(s,l,c,d,u)=>zye(s,l,c,d,u,e,t,n,r),width:i?wr:Is+1,height:i?wr:Is,padding:Tr,fragments:i?vd:$ye}),d0=e=>({[`p${e}Normal`]:{draw:(t,n,r,i,s)=>Wh(t,n,r,i,s,"normal",e),width:wr+1,height:wr,padding:Tr,fragments:vd},[`p${e}Miss`]:id(e,!1,!1,!1,!1),[`p${e}Hit`]:id(e,!0,!1,!1,!0),[`p${e}Perfect`]:id(e,!0,!0,!1,!0),[`p${e}StarMiss`]:id(e,!1,!1,!0,!1),[`p${e}StarHit`]:id(e,!0,!1,!0,!0),[`p${e}StarPerfect`]:id(e,!0,!0,!0,!0)}),ma={...d0(0),...d0(1),...d0(2),...d0(3),noteStar:{draw:(e,t,n,r,i)=>Wh(e,t,n,r,i,"star"),width:wr+1,height:wr,padding:Tr,fragments:vd},noteFreestyle:{draw:(e,t,n,r,i)=>Wh(e,t,n,r,i,"freestyle"),width:wr+1,height:wr,padding:Tr,fragments:vd},noteRap:{draw:(e,t,n,r,i)=>Wh(e,t,n,r,i,"rap"),width:wr+1,height:wr,padding:Tr,fragments:vd},noteRapstar:{draw:(e,t,n,r,i)=>Wh(e,t,n,r,i,"rapstar"),width:wr+1,height:wr,padding:Tr,fragments:vd}};function Uye(e,t){const n=document.createElement("canvas");return n.width=e,n.height=t,n}const WL=Math.max(...Object.values(ma).map(e=>e.padding*2+e.width)),QL=Object.values(ma).map(e=>e.padding*2+e.height).reduce((e,t)=>e+t,0),XL=Uye(WL,QL),tw=XL.getContext("2d");let wc=0;const oj=Object.entries(ma).map(([e,t])=>{const n=t.padding*2,r={name:e,x:0,y:wc,w:t.width+n,h:t.height+n};return wc=wc+t.height+n,r}).reduce((e,t)=>({...e,[t.name]:t}),{}),JL=()=>{tw.clearRect(0,0,WL,QL),wc=0,Object.entries(ma).forEach(([e,t])=>{t.draw(tw,t.padding,wc+t.padding,t.width,t.height),wc=wc+t.padding*2+t.height})};JL();me.songStarted.subscribe(JL);const ZL=(e,t)=>({canvas:XL,ctx:tw,x:oj[e].x+ma[e].fragments[t].x,y:oj[e].y+ma[e].fragments[t].y,w:ma[e].fragments[t].w,h:ma[e].fragments[t].h,padding:ma[e].padding}),j_=(e,t,n,r,i,s,l,c=1,d=1)=>{const u=ZL(t,n),{canvas:p,w:h,h:v,y,x:b,padding:_}=u,w=_*c,T=_*d;return e.imageSmoothingEnabled=!1,e.drawImage(p,b,y,h,v,r-w,i-T,s??h,v),e.imageSmoothingEnabled=!0,u};function e6(e,t,n,r,i){const s=ZL(t,"start"),l=Math.max(i,(s.h-s.padding*2)/2),c=Math.min(1,l/2/(s.w-s.padding)),d=c*s.w,u=d-s.padding*c,p=l-2*u;j_(e,t,"start",n,r,d,void 0,c),p>0&&j_(e,t,"middle",n+d,r,p,void 0,c),j_(e,t,"end",n+p+d,r,d,void 0,c)}const Hye=(e,t)=>`${t!==void 0&&e==="normal"?`p${t}`:"note"}${Fye(e)}`;function t6(e,t,n,r,i,s){const l=Hye(i.type,s);e6(e,l,t,n,r)}function qye(e,t,n,r,i,s){e.save(),A2(e,t,n,r,i,100,!1,!1),e.clip(),e.beginPath(),e.strokeStyle="rgba(255,255,255, .35)",e.lineWidth=3,e.lineJoin="round",e.moveTo(t,n+i/2-s.frequencyRecords[0].preciseDistance*i/3);for(let l=1;l<s.frequencyRecords.length;l++)e.lineTo(t+l*(r/(s.frequencyRecords.length-1)),n+i/2-s.frequencyRecords[l].preciseDistance*i/3);e.stroke(),e.closePath(),e.restore(),e.lineJoin="miter"}const Gye=(e,t,n,r)=>{let i=`p${e}`;return n&&r?i=`${i}StarPerfect`:n?i=`${i}Perfect`:r&&t?i=`${i}StarHit`:t?i=`${i}Hit`:r&&!t?i=`${i}StarMiss`:i=`${i}Miss`,i},Yye=["star","rapstar"];function Kye(e,t,n,r,i,s,l){const c=Gye(i,s,l.isPerfect,Yye.includes(l.note.type));e6(e,c,t,n,r)}class Wye{constructor(){this.particles=[],this.lastTick=Date.now(),this.getTimeDelta=t=>{const n=Date.now()-t,r=n-this.lastTick;return this.lastTick=n,r},this.tick=(t,n,r=0)=>{const i=this.getTimeDelta(r);this.particles.forEach(s=>s.tick(t,n,i)),this.particles=this.particles.filter(s=>!s.finished)},this.add=t=>this.particles.push(t),this.clearAll=()=>this.particles=[]}}const ca=new Wye,Qye=50/60*1e3,Xye=25/60*1e3,Jye=100,aj=.3;class Zye{constructor(t,n,r,i){this.x=t,this.y=n,this.color=r,this.delay=i,this.finished=!1,this.tick=(s,l,c)=>{if(this.delay-- >0)return;const d=this.ttl/this.startingTtl,u=this.startingTtl-this.ttl,p=this.width*d,h=this.width*this.heightModifier*d,v=this.x-p/2+u*this.velocityX,y=this.y-h/2+u*this.velocityY;y2(l,s,v,y,p,h,this.initialAngle+u,this.color,.8*d),this.velocityX=this.velocityX-.009,this.velocityY=this.velocityY*1.0075,this.ttl=this.ttl-c,this.finished=this.ttl<=0},this.startingTtl=this.ttl=lp(Qye,Xye),this.velocityX=lp(.5,aj)*ij(.2),this.velocityY=lp(.4,aj)*ij(),this.width=Jye,this.initialAngle=180-Math.random()*360,this.heightModifier=.5+Math.random()/2}}class eAe{constructor(t,n,r,i,s,l){this.finished=!0,this.tick=(h,v)=>{};const c=s.type==="star"?Ue.colors.players[i].star.fill:Ue.colors.players[i].perfect.fill,d=ke(c).lighten(15).toRgbString(),u=ke(c).darken(15).toRgbString(),p=r/9;for(let h=0;h<p;h++){const v=Math.random();let y=c;v>.66?y=d:v>.33&&(y=u);const b=n+20*(Math.random()-.5);l.add(new Zye(t+h*9,b,y,(p-h)/10))}}}const lj=400;class tAe{constructor(t,n,r,i,s){this.x=t,this.y=n,this.width=r,this.note=i,this.playerNumber=s,this.finished=!1,this.ttl=lj,this.tick=(l,c,d)=>{const u=this.ttl/lj;l.save(),l.globalAlpha=u,l.translate(Math.round(c.width*(u-1)),0),t6(l,this.x,this.y,this.width,this.note,this.playerNumber),l.globalAlpha=1,l.restore(),this.ttl=this.ttl-d,this.finished=this.ttl<=0}}}const P_=50/60*1e3,f0=.05,nAe=200,cj=4,rAe=Math.pow;function uj(e){return 1-rAe(1-e,2)}function iAe(e){const t=Math.round(e*100),n=255,r=Math.min(255,Math.max(0,Math.round(255*(200-t*2)/100))),i=Math.max(0,Math.round(255*(100-t)/100));return`rgb(${n}, ${r}, ${i})`}class sAe{constructor(t,n,r,i){this.x=t,this.y=n,this.finished=!1,this.tick=(s,l,c)=>{const d=this.ttl/P_;let u=uj(1-Math.min(1,(1-d)*6));const p=this.maxWidth*u*3/4,h=this.maxWidth*u,v=iAe(1-d);Jx(l,s,this.x,this.y,p,h,"white",u*.35),u=uj(d);const y=u*this.maxWidth/2,b=u*this.maxWidth/2,_=this.x,w=this.y,T=P_-this.ttl;s.globalAlpha=u*.2,Jx(l,s,_+T*this.velocityX,w+T*this.velocityY,y,b,v,u*.2),this.ttl=this.ttl-c,this.finished=this.ttl<=0},this.ttl=P_,this.velocityX=f0*Math.random()-f0/2,this.velocityY=f0*Math.random()-f0/2,this.maxWidth=Math.min(.1+i,1)*(Math.sin(r/70)*cj+(nAe-cj))}}const dj=20;class oAe{constructor(t,n,r,i,s){this.x=t,this.y=n,this.w=r,this.h=i,this.seed=s,this.finished=!1,this.ttl=2/60*1e3,this.tick=(l,c,d)=>{l.strokeStyle="rgba(255,255,255,.25)",l.lineWidth=2,l.beginPath();for(let u=0;u<this.w;u++){const p=this.x+this.w-u,h=(this.h/2+2)*Math.sin(p/dj+this.seed/250);l.lineTo(p,this.y+this.h/2+h)}l.stroke(),l.beginPath();for(let u=0;u<this.w;u++){const p=this.x+this.w-u,h=-1*(this.h/2+2)*Math.sin(p/dj+this.seed/250);l.lineTo(p,this.y+this.h/2+h)}l.stroke(),this.ttl=this.ttl-d,this.finished=this.ttl<=0}}}const fj=20;function aAe(e,t){return e.find(n=>n.start<=t&&n.start+n.length>=t)}class lAe{constructor(t,n=0,r=1){this.canvas=t,this.verticalMargin=n,this.scaleFactor=r,this.loop=!1,this.pauseTime=0,this.pausedOn=0,this.shaders=null,this.start=()=>{me.sectionChange.subscribe(this.onSectionEnd),this.loop=!0,this.drawFrame()},this.pause=()=>{this.end(),this.pausedOn=Date.now()},this.resume=()=>{this.pauseTime+=Date.now()-this.pausedOn,this.start()},this.end=()=>{var i;this.loop=!1,(i=this.shaders)==null||i.cleanup(),me.sectionChange.unsubscribe(this.onSectionEnd)},this.isPlaying=()=>this.loop,this.drawFrame=()=>{const i=Date.now(),s=this.canvas.getContext("2d");if(s){if(at.isPlaying()&&(s.clearRect(0,0,this.canvas.width,this.canvas.height),tt.getPlayers().forEach((c,d)=>{this.drawPlayer(c.number,s)}),ca.tick(s,this.canvas,this.pauseTime)),Ec.get()===30){const l=Date.now(),c=1e3/30,d=l-i>c?c:c-(l-i);this.loop&&setTimeout(this.drawFrame,d,Ec.get())}Ec.get()!==30&&this.loop&&global.requestAnimationFrame(this.drawFrame)}},this.drawPlayer=(i,s)=>{const l=this.getDrawingData(i),{currentSection:c}=rj(l);if(Vs.get()==="high"&&this.setDistortionForce(l),!fn(c))return;const d=this.calculateDisplacements(c,l);this.drawNotesToSing(s,l,d),this.drawSungNotes(s,l,d),Vs.get()==="high"&&(this.drawFlare(s,l,d),this.markGoldNotes(c,l))},this.setDistortionForce=i=>{var l,c,d;const s=i.currentSection;if(!fn(s))(c=this.shaders)==null||c.updatePlayerForce(i.playerNumber,(((l=this.shaders)==null?void 0:l.getPlayerForce(i.playerNumber))??0)*.99);else{const u=Math.max(0,i.currentBeat-fj),p=i.currentPlayerNotes.filter(_=>_.note.start+_.note.length>=u).filter(_=>pv(_)===0).reduce((_,w)=>_+w.length-Math.max(0,u-w.start),0),h=i.currentPlayerNotes.at(-1),v=((h==null?void 0:h.start)??0)+((h==null?void 0:h.length)??0),y=i.currentBeat-v,b=Math.max(Math.min(Math.pow((p-y/1.5)/fj,3),.98),0);(d=this.shaders)==null||d.updatePlayerForce(i.playerNumber,b)}},this.drawNotesToSing=(i,s,l)=>{fn(s.currentSection)&&s.currentSection.notes.forEach(c=>{const{x:d,y:u,w:p,h}=this.getNoteCoords(s,c,c.pitch,!0,l[c.start]);t6(i,d,u,p,c,s.playerNumber)})},this.drawSungNotes=(i,s,l)=>{fn(s.currentSection)&&s.currentPlayerNotes.forEach(c=>{const d=pv(c),{x:u,y:p,w:h,h:v}=this.getNoteCoords(s,c,c.note.pitch+d,d===0,l[c.note.start]);(d>0||h>v/2.5)&&(Kye(i,u,p,h,s.playerNumber,d===0,c),c.vibrato&&ca.add(new oAe(u,p,h,v,s.currentTime)),d===0&&c.frequencyRecords.length>3&&!np.includes(c.note.type)&&qye(i,u,p,h,v,c))})},this.drawFlare=(i,s,l)=>{var d;if(!fn(s.currentSection))return;const c=aAe(s.currentPlayerNotes,s.currentBeat-185/s.songBeatLength);if(c&&c.distance===0){const u=l[c.note.start]||[0,0],{x:p,y:h,w:v,h:y}=this.getNoteCoords(s,c,c.note.pitch,!0,u),b=np.includes(c.note.type)?0:c.frequencyRecords.at(-1).preciseDistance,_=p+v,w=this.getPreciseY(h,y,b);ca.add(new sAe(_,w,s.currentTime,1)),ca.add(new oye(jL(Math.max(p,_-50),_),w,Jve(i,s.playerNumber,!0,c).fill)),(d=this.shaders)==null||d.updatePlayerCenter(s.playerNumber,_,w)}},this.onSectionEnd=i=>{if(at.isPlaying()){const s=this.getDrawingData(i,-1);if(!fn(s.currentSection))return;this.fadeoutNotes(s.currentSection,s),this.explodeNotes(s.currentSection,s)}},this.fadeoutNotes=(i,s)=>{Vs.get()==="high"&&i.notes.forEach(l=>{const{x:c,y:d,w:u,h:p}=this.getNoteCoords(s,l,l.pitch,!0);ca.add(new tAe(c,d,u,l,s.playerNumber))})},this.explodeNotes=(i,s)=>{Vs.get()==="high"&&s.playerNotes.filter(c=>(c.distance===0||np.includes(c.note.type))&&i.notes.includes(c.note)).forEach(c=>{const{x:d,y:u,w:p,h}=this.getNoteCoords(s,c,c.note.pitch,!0);ca.add(new eAe(d,u+h/2,p,s.playerNumber,c.note,ca))})},this.markGoldNotes=(i,s)=>{i.notes.filter(c=>c.type==="star"||c.type==="rapstar").forEach(c=>{const{x:d,y:u,w:p,h}=this.getNoteCoords(s,c,c.pitch,!0);ca.add(new rye(d,u+h/2,p,s.playerNumber,ca))})},this.calculateDisplacements=(i,s)=>{const l={};return Vs.get()==="high"?i.notes.forEach(c=>{const d=s.playerNotes.filter(v=>v.note.start===c.start).filter(v=>v.note.start+v.note.length+30>=s.currentBeat&&v.distance===0).map(v=>v.start+30<s.currentBeat?v.length-(s.currentBeat-30-v.start):v.length).reduce((v,y)=>Math.min(v+y,30),0),u=Math.max(0,(d-5)/(c.type==="star"?3:5)),p=(Math.random()-.5)*u,h=(Math.random()-.5)*u;l[c.start]=[p,h]}):i.notes.forEach(c=>{l[c.start]=[0,0]}),l},this.getDrawingData=(i,s=0)=>{const l=tt.getPlayers(),c=l.findIndex(_=>_.number===i),d=l.length,u=at.getPlayer(i),p=u.getCurrentSectionIndex()+s,h=at.getSong(),v=u.getTrack(),y=v.sections[p],b=u.getPlayerNotes();return{playerNumber:i,playerIndex:c,playerCount:d,song:h,songBeatLength:at.getSongBeatLength(),minPitch:u.getMinPitch(),maxPitch:u.getMaxPitch(),canvas:this.canvas,currentTime:at.getCurrentTime(),frequencies:u.getPlayerFrequencies(),playerNotes:b,currentPlayerNotes:b.filter(_=>_.note.start>=((y==null?void 0:y.start)??1/0)),track:v,currentBeat:at.getCurrentBeat(),currentSectionIndex:p,currentSection:y,paddingVertical:this.verticalMargin}},this.getNoteCoordsBase=(i,{start:s,length:l},c,d)=>{const{sectionEndBeat:u,currentSection:p,playerCanvas:h,pitchStepHeight:v}=rj(i),y=fn(p)?p.notes[0].start:1,b=h.width/(u-y),_=v*(i.maxPitch-c+LL);return{x:h.baseX+b*(s-y),y:h.baseY+10+_-(d?3:0),w:b*l,h:d?wr:Is}},this.getNoteSlideInAnimationValue=(i,s)=>{const{song:l,currentBeat:c,currentSection:d}=s;if(!d)return i;const u=zv(fn(d)?$d(d)-d.start:d.end-d.start,l),p=zv(c-d.start,l),h=Math.min(1,p/Math.min(2e3,u)),v=Math.round(this.canvas.width*Math.pow(1-h,25)),y=u/30,b=cAe(Math.min(1,p/u)),_=Math.round(y*(.5-b));return{...i,x:i.x+v+_}},this.calculateNoteDisplacement=(i,s,l=[0,0])=>{const[c,d]=s?l:[0,0];return{...i,x:i.x+c,y:i.y+d}},this.getNoteCoords=(i,s,l,c,d=[0,0])=>{let u=this.getNoteCoordsBase(i,s,l,c);return u=this.getNoteSlideInAnimationValue(u,i),u=this.calculateNoteDisplacement(u,c,d),{x:Math.floor(u.x),y:Math.floor(u.y),w:Math.floor(u.w),h:Math.floor(u.h)}},this.getPreciseY=(i,s,l)=>i+s/2-l*s/3}}const cAe=Qve(.25,.5,.75,.5),uAe=`precision mediump float;

const float MAX_FORCE = 300.0;
const int SAMPLE_COUNT = 8; // 2^x
const float INTENSITY = 0.051;
// get our varyings
varying vec3 vVertexPosition;
varying vec2 vTextureCoord;
// the uniform we declared inside our javascript
uniform float uTime;
uniform sampler2D planeTexture;
uniform vec2 uResolution;

uniform vec2 uP0center;
uniform float uP0force;

uniform vec2 uP1center;
uniform float uP1force;

float rnd(float n) {
    return fract(sin(n) * 43758.5453);
}
float random (vec2 st) {
    return rnd(dot(st.xy, vec2(12.9898, 78.233)));
}

vec4 directionalBlur(in vec2 uv, in vec2 direction, in float intensity)
{
    vec4 color = vec4(0.0);

    for (int i=1; i<=SAMPLE_COUNT; i++)
    {
        color += texture2D(planeTexture,uv+float(i)*intensity/float(SAMPLE_COUNT)*direction);
    }

    return color/float(SAMPLE_COUNT);
}

float distort(vec2 center, float force, float comparedIntensity) {
    float actualForce = force * MAX_FORCE;
    vec2 centerAbs = center * uResolution;

    vec2 direction = gl_FragCoord.xy - centerAbs.xy;
    float dist = length(direction) / length(uResolution);


    float intensity = max(0.0, 0.50 - dist) * INTENSITY * pow(force, 1.5);
    if (intensity > comparedIntensity) {
        vec4 newColor = directionalBlur(gl_FragCoord.xy / uResolution, normalize(direction), intensity);
        gl_FragColor = newColor;
    }
    return intensity;
}

void main() {
    gl_FragColor = texture2D(planeTexture, vTextureCoord);
    float p1intensity = distort(uP0center, uP0force, 0.0);
    float p2intensity = distort(uP1center, uP1force, p1intensity);
}`,dAe=`
precision mediump float;

// default mandatory variables
attribute vec3 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat4 uMVMatrix;
uniform mat4 uPMatrix;

uniform mat4 planeTextureMatrix;

// custom varyings
varying vec3 vVertexPosition;
varying vec2 vTextureCoord;

void main() {
    gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);

    // varyings
    vVertexPosition = aVertexPosition;
    vTextureCoord = (planeTextureMatrix * vec4(aTextureCoord, 0.0, 1.0)).xy;
}`;function fAe(e,t){e.sort((l,c)=>c[1]-l[1]);const n=e.find(([l])=>l===t)??[t,-1],r=e.findIndex(([l])=>l===t),s=!(e.filter(([,l])=>l===n[1]).length>1)&&r===0;return{score:n[1],isFirst:s}}const hAe=1920,pAe=x.forwardRef(function({currentStatus:e,width:t,height:n,playerSetups:r,onSongEnd:i,effectsEnabled:s,videoPlayerRef:l,isPauseMenuVisible:c},d){var R,M,E;const[u]=xt(Vs),[p]=xt(oi),h=x.useRef(null),v=x.useRef(null),y=x.useRef(null),b=hAe,_=b*(n/t),w=_/n;x.useImperativeHandle(d,()=>({pause:()=>{var O;return(O=v.current)==null?void 0:O.pause()},resume:()=>{var O;return(O=v.current)==null?void 0:O.resume()}}),[v.current,(R=y.current)==null?void 0:R.offsetHeight,w]),x.useEffect(()=>(at.startInputMonitoring(),()=>{at.stopInputMonitoring()}),[]),x.useEffect(()=>{if(!(!h.current||!y.current))return v.current=new lAe(h.current,y.current.offsetHeight*w),v.current.start(),()=>{var O;(O=v.current)==null||O.end()}},[(M=y.current)==null?void 0:M.offsetHeight,w]),x.useEffect(()=>{var O,j,P,V;c&&((O=v.current)!=null&&O.isPlaying())?(j=v.current)==null||j.pause():!c&&!((P=v.current)!=null&&P.isPlaying())&&((V=v.current)==null||V.resume())},[c]),x.useEffect(()=>{e===qn.ENDED&&i&&i()},[e,i]);const T=tt.getPlayers(),k=!p&&T.length>1;return g.jsxs(gAe,{children:[u==="high"&&g.jsxs(g.Fragment,{children:[g.jsx("script",{type:"x-shader/x-fragment",id:"plane-fs",children:uAe}),g.jsx("script",{id:"plane-vs",type:"x-shader/x-vertex",children:dAe}),g.jsx(vAe,{id:"canvas",style:{zIndex:1e4}})]}),g.jsx(mAe,{id:"plane",style:s?void 0:{opacity:0},children:g.jsx("canvas",{ref:h,width:b,height:_,"data-sampler":"planeTexture"})}),s&&g.jsxs(g.Fragment,{children:[g.jsx(_ve,{playerRef:l,isEnabled:!c}),g.jsx(kve,{onSongEnd:i,isEnabled:!c})]}),g.jsx(Mve,{players:r}),g.jsx(hj,{children:k&&g.jsx(ZO,{player:T[0],effectsEnabled:s,showStatusForAllPlayers:T.length>2})}),g.jsx(yAe,{children:s&&g.jsx(g.Fragment,{children:((E=at.getSingSetup())==null?void 0:E.mode)===Ci.CO_OP?g.jsx(pj,{"data-test":"players-score","data-score":Math.floor(at.getPlayerScore(0)),children:g.jsx(Xx,{score:at.getPlayerScore(0)})}):tt.getPlayers().map(O=>{const j=tt.getPlayers().map(C=>[C.number,at.getPlayerScore(C.number)]),{score:P,isFirst:V}=fAe(j,O.number);return g.jsxs(pj,{className:"relative","data-test":`player-${O.number}-score`,"data-score":Math.floor(P),children:[g.jsx(Xx,{score:P}),g.jsx("div",{className:`text-xl transition-all duration-200 absolute rotate-12 top-12 ${V?"-right-10":"-right-36"}`,children:V?g.jsx("div",{className:"motion-preset-pulse-sm opacity-75",children:""}):""})]},O.number)})})}),g.jsx(hj,{ref:y,children:g.jsx(ZO,{showStatusForAllPlayers:T.length>2,player:T.length>2?T[0]:T.at(-1),bottom:!0,effectsEnabled:s})})]})}),hj=K("div",{target:"el0barv5"})({name:"14ci2tu",styles:"padding:2rem 0;box-sizing:border-box"}),gAe=K("div",{target:"el0barv4"})({name:"y3i90j",styles:"height:100%;color:white;-webkit-text-stroke:0.2rem black;font-weight:bold;position:relative;display:flex;flex-direction:column"}),mAe=K("div",{target:"el0barv3"})({name:"1x1omeb",styles:"position:absolute;top:0;left:0;width:100%;height:100%;canvas{width:100%;height:100%;}"}),vAe=K("div",{target:"el0barv2"})({name:"1b4920d",styles:"position:absolute;top:0;left:0;width:100%;height:100%"}),yAe=K("div",{target:"el0barv1"})({name:"od05bk",styles:"flex:1;height:100%;box-sizing:border-box;font-size:5.5rem;display:flex;justify-content:space-around;padding-right:4rem;flex-direction:column;text-align:right;z-index:1"}),pj=K("span",{target:"el0barv0"})("");function AAe(e,t){const[n,r]=x.useState(0);return x.useEffect(()=>{e.current&&t===qn.PLAYING&&n===0&&e.current.getDuration().then(i=>{r(i),at.setDuration(i)})},[n,e,t]),n}const n6=(e,t)=>{const[n,r]=x.useState(0),[i,s]=x.useState(qn.UNSTARTED),[l]=xt(xd);return x.useEffect(()=>{if(e.current&&i===qn.PLAYING){const c=setInterval(async()=>{if(!e.current)return;const d=Math.max(0,await e.current.getCurrentTime()*1e3-l);r(d),t==null||t(d)},1e3/Ec.get());return()=>clearInterval(c)}},[e,i,l]),[i,s,n]};function bAe({song:e,width:t,height:n,autoplay:r=!0,showControls:i=!1,onCurrentTimeUpdate:s,onSongEnd:l,onStatusChange:c,effectsEnabled:d=!0,singSetup:u,restartSong:p,pauseMenu:h=!1,ref:v,...y}){const b=x.useRef(null),[_,w]=x.useState(!1),T=x.useCallback(U=>{s==null||s(U),at.setCurrentTime(U),at.update()},[s]),[k,R]=n6(b,T);x.useEffect(()=>(at.setSong(e),at.setSingSetup(u),()=>{at.resetSingSetup()}),[e,u]);const M=AAe(b,k);x.useImperativeHandle(v,()=>({seekTo:U=>b.current.seekTo(U),setPlaybackSpeed:U=>b.current.setPlaybackSpeed(U),play:()=>b.current.playVideo(),pause:()=>b.current.pauseVideo()}));const E=x.useCallback(U=>{R(U),c==null||c(U)},[R,c]),O=h,j=()=>{var U;w(!0),(U=b.current)==null||U.pauseVideo()},P=()=>{var U;w(!1),(U=b.current)==null||U.playVideo()},V=()=>{_?P():j()},C=Kx(k);x.useEffect(()=>{var L;if(!O)return;const U=C!==qn.PAUSED&&C!==qn.BUFFERING&&k===qn.PAUSED;k===qn.PLAYING&&_?(L=b.current)==null||L.pauseVideo():U&&!_&&w(!0)},[_,k,C,O]),pf({back:V},O,[_]);const N=x.useMemo(()=>({back:"Pause Menu"}),[]);return yf(N,d),g.jsxs(_Ae,{...y,children:[_&&g.jsx(vve,{onExit:l,onResume:P,onRestart:p}),k!==qn.UNSTARTED&&g.jsx(SAe,{style:{width:`${t}px`,height:`${n}px`},children:g.jsx(pAe,{isPauseMenuVisible:_,effectsEnabled:d,duration:M,currentStatus:k,song:e,width:t,height:n,onSongEnd:l,playerSetups:u.players,videoPlayerRef:b.current})}),g.jsxs(xAe,{children:[g.jsx(Wy,{ref:b,video:e.video,width:t,height:n,controls:i,autoplay:r,disablekb:!0,volume:e.volume,startAt:e.videoGap??0,onStateChange:E}),k===qn.PLAYING&&g.jsx(wAe,{"data-test":"make-song-go-fast",onClick:()=>{var U;(U=b.current)==null||U.setPlaybackSpeed(2)}})]})]})}const _Ae=K("div",{target:"e1ggxuxd3"})({name:"bjn8wh",styles:"position:relative"}),SAe=K("div",{target:"e1ggxuxd2"})({name:"qkt6ng",styles:"position:absolute;z-index:1;background-color:rgba(0, 0, 0, 0.2);pointer-events:none;width:100%;height:100%;top:0;left:0"}),xAe=K("div",{target:"e1ggxuxd1"})({name:"j387f9",styles:"overflow:hidden;height:100%"}),wAe=K("div",{target:"e1ggxuxd0"})({name:"sp3f84",styles:"width:30px;height:30px;opacity:0.01;background:black;position:absolute;bottom:calc(100vh / 2 - 15px);left:0"}),EAe=()=>{const[e,{width:t}]=Zte(),n=x.useRef(null),[r,i,s]=n6(n),[l,c]=x.useState(250);return x.useEffect(()=>{l<s&&c(l+250)},[l,s]),x.useEffect(()=>{var d;r===qn.PLAYING&&((d=n.current)==null||d.setPlaybackSpeed(.25))},[r]),g.jsxs("div",{className:"flex flex-col items-center justify-center",ref:e,children:[r===qn.PLAYING?g.jsx("div",{className:"w-[150px] h-[150px] rounded-full bg-active animate-calibrationPulse scale-0 absolute pointer-events-none"},l):g.jsxs(ps,{className:"pointer-events-none absolute text-center",children:[g.jsx("strong",{children:"Click here"})," to start calibration"]}),g.jsx("div",{className:"opacity-0",children:g.jsx(Wy,{autoplay:!0,ref:n,video:"ivNFSVAYVZU",width:t,height:150,onStateChange:i})})]})},TAe={vertical:null,horizontal:"Adjust input lag"},CAe=({onClick:e,focused:t,...n})=>{const[r,i]=xt(xd);return yf(TAe,t),ri("left",()=>i(r-50),{enabled:t},[r]),ri("right",()=>i(r+50),{enabled:t},[r]),g.jsxs(jt.ButtonGroup,{...n,children:[g.jsx(jt.Button,{onClick:()=>i(r-50),className:"aspect-square",focused:t,children:""}),g.jsxs(jt.Button,{readOnly:!0,className:"flex-1","data-test":"input-lag-value","data-value":r,children:[r," ms"]}),g.jsx(jt.Button,{onClick:()=>i(r+50),className:"aspect-square",focused:t,children:""})]})},r6=({onClose:e,onSave:t})=>{const n=x.useRef(null),{register:r}=dr({onBackspace:e});return g.jsxs(g.Fragment,{children:[g.jsx(jt.Header,{children:"Sync video with sound "}),g.jsxs(jt.HelpText,{children:["Make sure the ",g.jsx("strong",{children:"circle"})," appears at the same time as the ",g.jsx("strong",{children:"click sound"}),"."]}),g.jsx(EAe,{}),g.jsxs(jt.HelpText,{children:["Click ",g.jsx("strong",{children:""})," if you hear the click ",g.jsx("strong",{children:"before"})," the circle."]}),g.jsx(CAe,{ref:n,...r("input-lag",()=>{var i;return(i=n.current)==null?void 0:i.focus()})}),g.jsxs(jt.HelpText,{className:"text-right",children:["Click ",g.jsx("strong",{children:""})," if you hear the click ",g.jsx("strong",{children:"after"})," the circle."]}),g.jsx(jt.Divider,{}),g.jsx(jt.Button,{...r("save",t),children:"Looks good, play the song"})]})},kAe=({onContinue:e})=>{const{register:t}=dr({onBackspace:e});return g.jsxs(g.Fragment,{children:[g.jsx(jt.Header,{children:"Calibration"}),g.jsx(jt.HelpText,{children:"Before you sing, ensure the sound is synchronized with video."}),g.jsxs(jt.HelpText,{children:["You can adjust the synchronization in ",g.jsx("strong",{children:"Pause Menu"})," later."]}),g.jsx(jt.Button,{...t("continue",e),children:"Continue"})]})},MAe=Wt(g.jsx("path",{d:"M16.59 7.58 10 14.17l-3.59-3.58L5 12l5 5 8-8zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"}),"CheckCircleOutline"),V_=15;function RAe({onFinish:e}){const[t,n]=x.useState(!1),[r,i]=x.useState([]);pi(me.readinessConfirmed,c=>{i(d=>[...d,c])});const s=hs([me.inputListChanged,me.readinessConfirmed],()=>tt.getPlayers().map((c,d)=>[c.input.deviceId,c.getName(),c]));x.useEffect(()=>{(async()=>{let c=!1;const d=tt.requestReadiness().then(()=>{c=!0,n(!0)}),u=ld(1500),p=ld(V_*1e3);await ld(250),c||await M0.play(),await Promise.race([Promise.all([d,u]),p]),M0.playing()&&gD.play(),await ld(500),M0.stop(),await ld(1e3),e()})()},[]);const l=s.map(([c,d,u])=>({confirmed:r.includes(c),name:d,player:u}));return g.jsx(g.Fragment,{children:g.jsxs(IAe,{children:[!t&&g.jsxs("span",{children:["Waiting for all players to click ",g.jsx("strong",{children:'"Ready"'})]}),g.jsx(jAe,{children:l.map(({confirmed:c,name:d,player:u},p)=>g.jsxs(PAe,{className:"ph-no-capture","data-test":"player-confirm-status","data-name":d,"data-confirmed":c,children:[!t&&g.jsx(VAe,{children:c?g.jsx(MAe,{}):g.jsx(og,{color:"info",size:"1em"})})," ",g.jsx(RL,{player:u})]},p))}),!t&&g.jsxs(OAe,{children:["The song will start automatically in"," ",g.jsx("strong",{children:g.jsx(o2,{end:0,start:V_,duration:V_,useEasing:!1})})]})]})})}const IAe=K("div",{target:"e1wiz9j54"})("top:0;left:0;z-index:1000;display:flex;align-items:center;justify-content:center;flex-direction:column;position:absolute;width:100%;height:100%;gap:5rem;font-size:5rem;",Ot,";"),OAe=K("span",{target:"e1wiz9j53"})({name:"1umnjfm",styles:"font-size:5rem"}),jAe=K("div",{target:"e1wiz9j52"})({name:"1uxgijs",styles:"display:flex;flex-direction:column;gap:5rem;width:50rem;view-transition-name:player-mic-check-container"}),PAe=K("div",{target:"e1wiz9j51"})({name:"174652e",styles:"display:flex;align-items:center;gap:2rem;transform:scale(1.5)"}),VAe=K("span",{target:"e1wiz9j50"})({name:"1l5xwqu",styles:"svg{width:5rem;height:5rem;stroke:black;}"}),gj=[g.jsxs(g.Fragment,{children:["You can follow the updates and give feedback on the game through the Facebook Page:"," ",g.jsx("a",{href:"https://www.facebook.com/allkaraoke.party",target:"_blank",rel:"noreferrer",children:g.jsx("strong",{children:"fb.com/AllKaraoke.Party"})})]}),g.jsxs(g.Fragment,{children:["Start typing a name of a song in ",g.jsx("strong",{children:"Song Selection"})," to active Search feature"]}),g.jsxs(g.Fragment,{children:["Narrow down songs through ",g.jsx("strong",{children:"playlists"})," on the right in Song Selection"]}),g.jsxs(g.Fragment,{children:["Select ",g.jsx("strong",{children:"Pass The Mic"})," Game Mode to share the microphones and sing in a team"]}),g.jsxs(g.Fragment,{children:["Your scores and ",g.jsx("strong",{children:"stats are saved"})," in this browser - they will be available for the next party!"]}),g.jsxs(g.Fragment,{children:["You can remove irrelevant songs from the Song Selection in ",g.jsx("strong",{children:"Edit Songs"})," page"]}),g.jsxs(g.Fragment,{children:["If the game feels a bit jaggy with low FPS, check out ",g.jsx("strong",{children:"Settings"})," page"]}),g.jsxs(g.Fragment,{children:["Party is only getting started? Play ",g.jsx("strong",{children:"Jukebox"})," for the music and to see what songs are available"]}),g.jsxs(g.Fragment,{children:["Research shows that ",g.jsx("strong",{children:"duet songs"})," are that bit more fun than simple one-track ones"]}),g.jsxs(g.Fragment,{children:["Want to sing a ",g.jsx("strong",{children:"new song"}),"? Find UltraStar version of it and import it with",g.jsx("br",{}),g.jsx("strong",{children:"Convert Ultrastar .txt"})]}),g.jsxs(g.Fragment,{children:["The ",g.jsx("strong",{children:"white pulse"})," around selected song in Song Selection tries to match song's tempo"]}),g.jsxs(g.Fragment,{children:["Entire game (besides add/edit song) is navigable with ",g.jsx("strong",{children:"Keyboard"})]}),g.jsxs(g.Fragment,{children:["You can hide or show keyboard navigation help with ",g.jsx("kbd",{children:"H"})," key"]}),g.jsxs(g.Fragment,{children:["In Song Selection, hold ",g.jsx("kbd",{children:""})," or ",g.jsx("kbd",{children:""})," to jump to the next letter"]}),g.jsxs(g.Fragment,{children:["Add ",g.jsx("strong",{children:"vibrato"})," to the notes you sing to get additional ",g.jsx("strong",{children:"bonus points"})]}),g.jsxs(g.Fragment,{children:["You can control the game with your phone - click on the"," ",g.jsxs("strong",{children:[g.jsx(Rv,{}),"QR Code Icon"]})," ","on the top right and follow the instructions"]})],DAe=({as:e="h4",...t})=>{const n=x.useRef(uo(0,gj.length-1)),r=e;return g.jsx(r,{...t,children:gj[n.current]})};function BAe(){const[e,t]=x.useState(""),n=x.useRef(null);return x.useEffect(()=>{const r=setTimeout(()=>{t(Fi.getVideo())},1e3);return()=>{clearTimeout(r)}},[]),x.useEffect(()=>{try{n.current&&(n.current.playbackRate=16)}catch(r){fo(r)}},[e]),g.jsxs("div",{className:"flex flex-col",children:[g.jsx(NAe,{src:e,ref:n,loop:!0,autoPlay:!0,className:"ph-no-capture"}),g.jsxs(ps,{className:"text-center mt-4",children:["You can disable camera mode in ",g.jsx("strong",{children:"Settings"}),"."]})]})}const NAe=K("video",{target:"e1hckw6c0"})({name:"13oog92",styles:"object-fit:cover;width:100%;aspect-ratio:4/3;border-radius:1rem"}),LAe="/assets/timelapse-C72FPkyX.webm",FAe=({register:e,onConfirm:t,loading:n})=>{const r=x.useRef(null),i=Fi.getPermissionStatus();return x.useEffect(()=>{!n&&i&&Fi.getLiveCameraFeed().then(s=>{r.current&&s&&(r.current.srcObject=s)})},[n]),g.jsxs("div",{className:`aspect-[4/3] relative flex justify-center ${i?"items-end":"items-center"}`,children:[g.jsx("div",{className:"bg-black rounded-2xl",children:g.jsx("video",{autoPlay:!0,loop:!0,src:LAe,className:`rounded-2xl ${!i&&"opacity-25"}`,ref:r})}),g.jsx("div",{className:"absolute flex flex-col gap-4 p-4",children:i?g.jsx("h3",{children:"Adjust the camera position"}):g.jsxs(g.Fragment,{children:[g.jsxs("h2",{children:["Get a ",g.jsx("strong",{children:"timelapse"})," of you singing"]}),g.jsx(UE,{className:"w-full p-4 animate-focused",...e("enable-camera",t,void 0,!1,{disabled:n}),children:"Enable camera"}),g.jsx(ps,{className:"text-sm",children:"The recording is not sent nor stored anywhere."})]})}),!i&&g.jsxs(ps,{className:"absolute right-0 bottom-0 text-sm p-4",children:["Placeholder video from"," ",g.jsx("a",{href:"https://www.storyblocks.com/",target:"_blank",rel:"noreferrer",children:"Storyblocks.com"})]})]})};function zAe(e){return 1-Math.pow(1-e,3)}function $Ae(e){return zAe(e)}function h0({color:e,maxScore:t,score:n}){return g.jsx(UAe,{style:{border:n===0?0:void 0,width:`${$Ae(n/t)*24}%`,backgroundColor:e}})}const UAe=K("div",{target:"e6b38g50"})({name:"1vc31u",styles:`background-image:linear-gradient(
    180deg,
    rgba(0, 0, 0, 0.17) 0%,
    rgba(0, 0, 0, 0.03) 50%,
    rgba(0, 0, 0, 0.18) 51%,
    rgba(0, 0, 0, 0.18) 100%
  );transition:1s;border-radius:0.5rem;height:100%;border:solid 0.1rem black;box-sizing:border-box`});var $0={exports:{}},HAe=$0.exports,mj;function qAe(){return mj||(mj=1,function(e,t){(function(n,r){e.exports=r(Jc())})(typeof self<"u"?self:HAe,n=>(()=>{var r={7403:(c,d,u)=>{u.d(d,{default:()=>Q});var p=u(4087),h=u.n(p);const v=function(J){return new RegExp(/<[a-z][\s\S]*>/i).test(J)},y=function(J,B){return Math.floor(Math.random()*(B-J+1))+J};var b="TYPE_CHARACTER",_="REMOVE_CHARACTER",w="REMOVE_ALL",T="REMOVE_LAST_VISIBLE_NODE",k="PAUSE_FOR",R="CALL_FUNCTION",M="ADD_HTML_TAG_ELEMENT",E="CHANGE_DELETE_SPEED",O="CHANGE_DELAY",j="CHANGE_CURSOR",P="PASTE_STRING",V="HTML_TAG";function C(J){return C=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},C(J)}function N(J,B){var G=Object.keys(J);if(Object.getOwnPropertySymbols){var ee=Object.getOwnPropertySymbols(J);B&&(ee=ee.filter(function(ue){return Object.getOwnPropertyDescriptor(J,ue).enumerable})),G.push.apply(G,ee)}return G}function U(J){for(var B=1;B<arguments.length;B++){var G=arguments[B]!=null?arguments[B]:{};B%2?N(Object(G),!0).forEach(function(ee){D(J,ee,G[ee])}):Object.getOwnPropertyDescriptors?Object.defineProperties(J,Object.getOwnPropertyDescriptors(G)):N(Object(G)).forEach(function(ee){Object.defineProperty(J,ee,Object.getOwnPropertyDescriptor(G,ee))})}return J}function L(J){return function(B){if(Array.isArray(B))return q(B)}(J)||function(B){if(typeof Symbol<"u"&&B[Symbol.iterator]!=null||B["@@iterator"]!=null)return Array.from(B)}(J)||function(B,G){if(B){if(typeof B=="string")return q(B,G);var ee=Object.prototype.toString.call(B).slice(8,-1);return ee==="Object"&&B.constructor&&(ee=B.constructor.name),ee==="Map"||ee==="Set"?Array.from(B):ee==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ee)?q(B,G):void 0}}(J)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function q(J,B){(B==null||B>J.length)&&(B=J.length);for(var G=0,ee=new Array(B);G<B;G++)ee[G]=J[G];return ee}function H(J,B){for(var G=0;G<B.length;G++){var ee=B[G];ee.enumerable=ee.enumerable||!1,ee.configurable=!0,"value"in ee&&(ee.writable=!0),Object.defineProperty(J,W(ee.key),ee)}}function D(J,B,G){return(B=W(B))in J?Object.defineProperty(J,B,{value:G,enumerable:!0,configurable:!0,writable:!0}):J[B]=G,J}function W(J){var B=function(G,ee){if(C(G)!=="object"||G===null)return G;var ue=G[Symbol.toPrimitive];if(ue!==void 0){var F=ue.call(G,"string");if(C(F)!=="object")return F;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(G)}(J);return C(B)==="symbol"?B:String(B)}const Q=function(){function J(ee,ue){var F=this;if(function(se,Se){if(!(se instanceof Se))throw new TypeError("Cannot call a class as a function")}(this,J),D(this,"state",{cursorAnimation:null,lastFrameTime:null,pauseUntil:null,eventQueue:[],eventLoop:null,eventLoopPaused:!1,reverseCalledEvents:[],calledEvents:[],visibleNodes:[],initialOptions:null,elements:{container:null,wrapper:document.createElement("span"),cursor:document.createElement("span")}}),D(this,"options",{strings:null,cursor:"|",delay:"natural",pauseFor:1500,deleteSpeed:"natural",loop:!1,autoStart:!1,devMode:!1,skipAddStyles:!1,wrapperClassName:"Typewriter__wrapper",cursorClassName:"Typewriter__cursor",stringSplitter:null,onCreateTextNode:null,onRemoveNode:null}),D(this,"setupWrapperElement",function(){F.state.elements.container&&(F.state.elements.wrapper.className=F.options.wrapperClassName,F.state.elements.cursor.className=F.options.cursorClassName,F.state.elements.cursor.innerHTML=F.options.cursor,F.state.elements.container.innerHTML="",F.state.elements.container.appendChild(F.state.elements.wrapper),F.state.elements.container.appendChild(F.state.elements.cursor))}),D(this,"start",function(){return F.state.eventLoopPaused=!1,F.runEventLoop(),F}),D(this,"pause",function(){return F.state.eventLoopPaused=!0,F}),D(this,"stop",function(){return F.state.eventLoop&&((0,p.cancel)(F.state.eventLoop),F.state.eventLoop=null),F}),D(this,"pauseFor",function(se){return F.addEventToQueue(k,{ms:se}),F}),D(this,"typeOutAllStrings",function(){return typeof F.options.strings=="string"?(F.typeString(F.options.strings).pauseFor(F.options.pauseFor),F):(F.options.strings.forEach(function(se){F.typeString(se).pauseFor(F.options.pauseFor).deleteAll(F.options.deleteSpeed)}),F)}),D(this,"typeString",function(se){var Se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(v(se))return F.typeOutHTMLString(se,Se);if(se){var Me=(F.options||{}).stringSplitter,Re=typeof Me=="function"?Me(se):se.split("");F.typeCharacters(Re,Se)}return F}),D(this,"pasteString",function(se){var Se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return v(se)?F.typeOutHTMLString(se,Se,!0):(se&&F.addEventToQueue(P,{character:se,node:Se}),F)}),D(this,"typeOutHTMLString",function(se){var Se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,Me=arguments.length>2?arguments[2]:void 0,Re=function($e){var De=document.createElement("div");return De.innerHTML=$e,De.childNodes}(se);if(Re.length>0)for(var ve=0;ve<Re.length;ve++){var je=Re[ve],Ge=je.innerHTML;je&&je.nodeType!==3?(je.innerHTML="",F.addEventToQueue(M,{node:je,parentNode:Se}),Me?F.pasteString(Ge,je):F.typeString(Ge,je)):je.textContent&&(Me?F.pasteString(je.textContent,Se):F.typeString(je.textContent,Se))}return F}),D(this,"deleteAll",function(){var se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"natural";return F.addEventToQueue(w,{speed:se}),F}),D(this,"changeDeleteSpeed",function(se){if(!se)throw new Error("Must provide new delete speed");return F.addEventToQueue(E,{speed:se}),F}),D(this,"changeDelay",function(se){if(!se)throw new Error("Must provide new delay");return F.addEventToQueue(O,{delay:se}),F}),D(this,"changeCursor",function(se){if(!se)throw new Error("Must provide new cursor");return F.addEventToQueue(j,{cursor:se}),F}),D(this,"deleteChars",function(se){if(!se)throw new Error("Must provide amount of characters to delete");for(var Se=0;Se<se;Se++)F.addEventToQueue(_);return F}),D(this,"callFunction",function(se,Se){if(!se||typeof se!="function")throw new Error("Callback must be a function");return F.addEventToQueue(R,{cb:se,thisArg:Se}),F}),D(this,"typeCharacters",function(se){var Se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!se||!Array.isArray(se))throw new Error("Characters must be an array");return se.forEach(function(Me){F.addEventToQueue(b,{character:Me,node:Se})}),F}),D(this,"removeCharacters",function(se){if(!se||!Array.isArray(se))throw new Error("Characters must be an array");return se.forEach(function(){F.addEventToQueue(_)}),F}),D(this,"addEventToQueue",function(se,Se){var Me=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return F.addEventToStateProperty(se,Se,Me,"eventQueue")}),D(this,"addReverseCalledEvent",function(se,Se){var Me=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return F.options.loop?F.addEventToStateProperty(se,Se,Me,"reverseCalledEvents"):F}),D(this,"addEventToStateProperty",function(se,Se){var Me=arguments.length>2&&arguments[2]!==void 0&&arguments[2],Re=arguments.length>3?arguments[3]:void 0,ve={eventName:se,eventArgs:Se||{}};return F.state[Re]=Me?[ve].concat(L(F.state[Re])):[].concat(L(F.state[Re]),[ve]),F}),D(this,"runEventLoop",function(){F.state.lastFrameTime||(F.state.lastFrameTime=Date.now());var se=Date.now(),Se=se-F.state.lastFrameTime;if(!F.state.eventQueue.length){if(!F.options.loop)return;F.state.eventQueue=L(F.state.calledEvents),F.state.calledEvents=[],F.options=U({},F.state.initialOptions)}if(F.state.eventLoop=h()(F.runEventLoop),!F.state.eventLoopPaused){if(F.state.pauseUntil){if(se<F.state.pauseUntil)return;F.state.pauseUntil=null}var Me,Re=L(F.state.eventQueue),ve=Re.shift();if(!(Se<=(Me=ve.eventName===T||ve.eventName===_?F.options.deleteSpeed==="natural"?y(40,80):F.options.deleteSpeed:F.options.delay==="natural"?y(120,160):F.options.delay))){var je=ve.eventName,Ge=ve.eventArgs;switch(F.logInDevMode({currentEvent:ve,state:F.state,delay:Me}),je){case P:case b:var $e=Ge.character,De=Ge.node,Ve=document.createTextNode($e),ot=Ve;F.options.onCreateTextNode&&typeof F.options.onCreateTextNode=="function"&&(ot=F.options.onCreateTextNode($e,Ve)),ot&&(De?De.appendChild(ot):F.state.elements.wrapper.appendChild(ot)),F.state.visibleNodes=[].concat(L(F.state.visibleNodes),[{type:"TEXT_NODE",character:$e,node:ot}]);break;case _:Re.unshift({eventName:T,eventArgs:{removingCharacterNode:!0}});break;case k:var ft=ve.eventArgs.ms;F.state.pauseUntil=Date.now()+parseInt(ft);break;case R:var Be=ve.eventArgs,ut=Be.cb,en=Be.thisArg;ut.call(en,{elements:F.state.elements});break;case M:var pn=ve.eventArgs,sn=pn.node,qe=pn.parentNode;qe?qe.appendChild(sn):F.state.elements.wrapper.appendChild(sn),F.state.visibleNodes=[].concat(L(F.state.visibleNodes),[{type:V,node:sn,parentNode:qe||F.state.elements.wrapper}]);break;case w:var pt=F.state.visibleNodes,un=Ge.speed,on=[];un&&on.push({eventName:E,eventArgs:{speed:un,temp:!0}});for(var yt=0,lt=pt.length;yt<lt;yt++)on.push({eventName:T,eventArgs:{removingCharacterNode:!1}});un&&on.push({eventName:E,eventArgs:{speed:F.options.deleteSpeed,temp:!0}}),Re.unshift.apply(Re,on);break;case T:var rt=ve.eventArgs.removingCharacterNode;if(F.state.visibleNodes.length){var Ct=F.state.visibleNodes.pop(),Nn=Ct.type,Ut=Ct.node,bt=Ct.character;F.options.onRemoveNode&&typeof F.options.onRemoveNode=="function"&&F.options.onRemoveNode({node:Ut,character:bt}),Ut&&Ut.parentNode.removeChild(Ut),Nn===V&&rt&&Re.unshift({eventName:T,eventArgs:{}})}break;case E:F.options.deleteSpeed=ve.eventArgs.speed;break;case O:F.options.delay=ve.eventArgs.delay;break;case j:F.options.cursor=ve.eventArgs.cursor,F.state.elements.cursor.innerHTML=ve.eventArgs.cursor}F.options.loop&&(ve.eventName===T||ve.eventArgs&&ve.eventArgs.temp||(F.state.calledEvents=[].concat(L(F.state.calledEvents),[ve]))),F.state.eventQueue=Re,F.state.lastFrameTime=se}}}),ee)if(typeof ee=="string"){var ge=document.querySelector(ee);if(!ge)throw new Error("Could not find container element");this.state.elements.container=ge}else this.state.elements.container=ee;ue&&(this.options=U(U({},this.options),ue)),this.state.initialOptions=U({},this.options),this.init()}var B,G;return B=J,(G=[{key:"init",value:function(){var ee,ue;this.setupWrapperElement(),this.addEventToQueue(j,{cursor:this.options.cursor},!0),this.addEventToQueue(w,null,!0),!window||window.___TYPEWRITER_JS_STYLES_ADDED___||this.options.skipAddStyles||(ee=".Typewriter__cursor{-webkit-animation:Typewriter-cursor 1s infinite;animation:Typewriter-cursor 1s infinite;margin-left:1px}@-webkit-keyframes Typewriter-cursor{0%{opacity:0}50%{opacity:1}100%{opacity:0}}@keyframes Typewriter-cursor{0%{opacity:0}50%{opacity:1}100%{opacity:0}}",(ue=document.createElement("style")).appendChild(document.createTextNode(ee)),document.head.appendChild(ue),window.___TYPEWRITER_JS_STYLES_ADDED___=!0),this.options.autoStart===!0&&this.options.strings&&this.typeOutAllStrings().start()}},{key:"logInDevMode",value:function(ee){this.options.devMode&&console.log(ee)}}])&&H(B.prototype,G),Object.defineProperty(B,"prototype",{writable:!1}),J}()},8552:(c,d,u)=>{var p=u(852)(u(5639),"DataView");c.exports=p},1989:(c,d,u)=>{var p=u(1789),h=u(401),v=u(7667),y=u(1327),b=u(1866);function _(w){var T=-1,k=w==null?0:w.length;for(this.clear();++T<k;){var R=w[T];this.set(R[0],R[1])}}_.prototype.clear=p,_.prototype.delete=h,_.prototype.get=v,_.prototype.has=y,_.prototype.set=b,c.exports=_},8407:(c,d,u)=>{var p=u(7040),h=u(4125),v=u(2117),y=u(7518),b=u(4705);function _(w){var T=-1,k=w==null?0:w.length;for(this.clear();++T<k;){var R=w[T];this.set(R[0],R[1])}}_.prototype.clear=p,_.prototype.delete=h,_.prototype.get=v,_.prototype.has=y,_.prototype.set=b,c.exports=_},7071:(c,d,u)=>{var p=u(852)(u(5639),"Map");c.exports=p},3369:(c,d,u)=>{var p=u(4785),h=u(1285),v=u(6e3),y=u(9916),b=u(5265);function _(w){var T=-1,k=w==null?0:w.length;for(this.clear();++T<k;){var R=w[T];this.set(R[0],R[1])}}_.prototype.clear=p,_.prototype.delete=h,_.prototype.get=v,_.prototype.has=y,_.prototype.set=b,c.exports=_},3818:(c,d,u)=>{var p=u(852)(u(5639),"Promise");c.exports=p},8525:(c,d,u)=>{var p=u(852)(u(5639),"Set");c.exports=p},8668:(c,d,u)=>{var p=u(3369),h=u(619),v=u(2385);function y(b){var _=-1,w=b==null?0:b.length;for(this.__data__=new p;++_<w;)this.add(b[_])}y.prototype.add=y.prototype.push=h,y.prototype.has=v,c.exports=y},6384:(c,d,u)=>{var p=u(8407),h=u(7465),v=u(3779),y=u(7599),b=u(4758),_=u(4309);function w(T){var k=this.__data__=new p(T);this.size=k.size}w.prototype.clear=h,w.prototype.delete=v,w.prototype.get=y,w.prototype.has=b,w.prototype.set=_,c.exports=w},2705:(c,d,u)=>{var p=u(5639).Symbol;c.exports=p},1149:(c,d,u)=>{var p=u(5639).Uint8Array;c.exports=p},577:(c,d,u)=>{var p=u(852)(u(5639),"WeakMap");c.exports=p},4963:c=>{c.exports=function(d,u){for(var p=-1,h=d==null?0:d.length,v=0,y=[];++p<h;){var b=d[p];u(b,p,d)&&(y[v++]=b)}return y}},4636:(c,d,u)=>{var p=u(2545),h=u(5694),v=u(1469),y=u(4144),b=u(5776),_=u(6719),w=Object.prototype.hasOwnProperty;c.exports=function(T,k){var R=v(T),M=!R&&h(T),E=!R&&!M&&y(T),O=!R&&!M&&!E&&_(T),j=R||M||E||O,P=j?p(T.length,String):[],V=P.length;for(var C in T)!k&&!w.call(T,C)||j&&(C=="length"||E&&(C=="offset"||C=="parent")||O&&(C=="buffer"||C=="byteLength"||C=="byteOffset")||b(C,V))||P.push(C);return P}},2488:c=>{c.exports=function(d,u){for(var p=-1,h=u.length,v=d.length;++p<h;)d[v+p]=u[p];return d}},2908:c=>{c.exports=function(d,u){for(var p=-1,h=d==null?0:d.length;++p<h;)if(u(d[p],p,d))return!0;return!1}},8470:(c,d,u)=>{var p=u(7813);c.exports=function(h,v){for(var y=h.length;y--;)if(p(h[y][0],v))return y;return-1}},8866:(c,d,u)=>{var p=u(2488),h=u(1469);c.exports=function(v,y,b){var _=y(v);return h(v)?_:p(_,b(v))}},4239:(c,d,u)=>{var p=u(2705),h=u(9607),v=u(2333),y=p?p.toStringTag:void 0;c.exports=function(b){return b==null?b===void 0?"[object Undefined]":"[object Null]":y&&y in Object(b)?h(b):v(b)}},9454:(c,d,u)=>{var p=u(4239),h=u(7005);c.exports=function(v){return h(v)&&p(v)=="[object Arguments]"}},939:(c,d,u)=>{var p=u(2492),h=u(7005);c.exports=function v(y,b,_,w,T){return y===b||(y==null||b==null||!h(y)&&!h(b)?y!=y&&b!=b:p(y,b,_,w,v,T))}},2492:(c,d,u)=>{var p=u(6384),h=u(7114),v=u(8351),y=u(6096),b=u(4160),_=u(1469),w=u(4144),T=u(6719),k="[object Arguments]",R="[object Array]",M="[object Object]",E=Object.prototype.hasOwnProperty;c.exports=function(O,j,P,V,C,N){var U=_(O),L=_(j),q=U?R:b(O),H=L?R:b(j),D=(q=q==k?M:q)==M,W=(H=H==k?M:H)==M,Q=q==H;if(Q&&w(O)){if(!w(j))return!1;U=!0,D=!1}if(Q&&!D)return N||(N=new p),U||T(O)?h(O,j,P,V,C,N):v(O,j,q,P,V,C,N);if(!(1&P)){var J=D&&E.call(O,"__wrapped__"),B=W&&E.call(j,"__wrapped__");if(J||B){var G=J?O.value():O,ee=B?j.value():j;return N||(N=new p),C(G,ee,P,V,N)}}return!!Q&&(N||(N=new p),y(O,j,P,V,C,N))}},8458:(c,d,u)=>{var p=u(3560),h=u(5346),v=u(3218),y=u(346),b=/^\[object .+?Constructor\]$/,_=Function.prototype,w=Object.prototype,T=_.toString,k=w.hasOwnProperty,R=RegExp("^"+T.call(k).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");c.exports=function(M){return!(!v(M)||h(M))&&(p(M)?R:b).test(y(M))}},8749:(c,d,u)=>{var p=u(4239),h=u(1780),v=u(7005),y={};y["[object Float32Array]"]=y["[object Float64Array]"]=y["[object Int8Array]"]=y["[object Int16Array]"]=y["[object Int32Array]"]=y["[object Uint8Array]"]=y["[object Uint8ClampedArray]"]=y["[object Uint16Array]"]=y["[object Uint32Array]"]=!0,y["[object Arguments]"]=y["[object Array]"]=y["[object ArrayBuffer]"]=y["[object Boolean]"]=y["[object DataView]"]=y["[object Date]"]=y["[object Error]"]=y["[object Function]"]=y["[object Map]"]=y["[object Number]"]=y["[object Object]"]=y["[object RegExp]"]=y["[object Set]"]=y["[object String]"]=y["[object WeakMap]"]=!1,c.exports=function(b){return v(b)&&h(b.length)&&!!y[p(b)]}},280:(c,d,u)=>{var p=u(5726),h=u(6916),v=Object.prototype.hasOwnProperty;c.exports=function(y){if(!p(y))return h(y);var b=[];for(var _ in Object(y))v.call(y,_)&&_!="constructor"&&b.push(_);return b}},2545:c=>{c.exports=function(d,u){for(var p=-1,h=Array(d);++p<d;)h[p]=u(p);return h}},1717:c=>{c.exports=function(d){return function(u){return d(u)}}},4757:c=>{c.exports=function(d,u){return d.has(u)}},4429:(c,d,u)=>{var p=u(5639)["__core-js_shared__"];c.exports=p},7114:(c,d,u)=>{var p=u(8668),h=u(2908),v=u(4757);c.exports=function(y,b,_,w,T,k){var R=1&_,M=y.length,E=b.length;if(M!=E&&!(R&&E>M))return!1;var O=k.get(y),j=k.get(b);if(O&&j)return O==b&&j==y;var P=-1,V=!0,C=2&_?new p:void 0;for(k.set(y,b),k.set(b,y);++P<M;){var N=y[P],U=b[P];if(w)var L=R?w(U,N,P,b,y,k):w(N,U,P,y,b,k);if(L!==void 0){if(L)continue;V=!1;break}if(C){if(!h(b,function(q,H){if(!v(C,H)&&(N===q||T(N,q,_,w,k)))return C.push(H)})){V=!1;break}}else if(N!==U&&!T(N,U,_,w,k)){V=!1;break}}return k.delete(y),k.delete(b),V}},8351:(c,d,u)=>{var p=u(2705),h=u(1149),v=u(7813),y=u(7114),b=u(8776),_=u(1814),w=p?p.prototype:void 0,T=w?w.valueOf:void 0;c.exports=function(k,R,M,E,O,j,P){switch(M){case"[object DataView]":if(k.byteLength!=R.byteLength||k.byteOffset!=R.byteOffset)return!1;k=k.buffer,R=R.buffer;case"[object ArrayBuffer]":return!(k.byteLength!=R.byteLength||!j(new h(k),new h(R)));case"[object Boolean]":case"[object Date]":case"[object Number]":return v(+k,+R);case"[object Error]":return k.name==R.name&&k.message==R.message;case"[object RegExp]":case"[object String]":return k==R+"";case"[object Map]":var V=b;case"[object Set]":var C=1&E;if(V||(V=_),k.size!=R.size&&!C)return!1;var N=P.get(k);if(N)return N==R;E|=2,P.set(k,R);var U=y(V(k),V(R),E,O,j,P);return P.delete(k),U;case"[object Symbol]":if(T)return T.call(k)==T.call(R)}return!1}},6096:(c,d,u)=>{var p=u(8234),h=Object.prototype.hasOwnProperty;c.exports=function(v,y,b,_,w,T){var k=1&b,R=p(v),M=R.length;if(M!=p(y).length&&!k)return!1;for(var E=M;E--;){var O=R[E];if(!(k?O in y:h.call(y,O)))return!1}var j=T.get(v),P=T.get(y);if(j&&P)return j==y&&P==v;var V=!0;T.set(v,y),T.set(y,v);for(var C=k;++E<M;){var N=v[O=R[E]],U=y[O];if(_)var L=k?_(U,N,O,y,v,T):_(N,U,O,v,y,T);if(!(L===void 0?N===U||w(N,U,b,_,T):L)){V=!1;break}C||(C=O=="constructor")}if(V&&!C){var q=v.constructor,H=y.constructor;q==H||!("constructor"in v)||!("constructor"in y)||typeof q=="function"&&q instanceof q&&typeof H=="function"&&H instanceof H||(V=!1)}return T.delete(v),T.delete(y),V}},1957:(c,d,u)=>{var p=typeof u.g=="object"&&u.g&&u.g.Object===Object&&u.g;c.exports=p},8234:(c,d,u)=>{var p=u(8866),h=u(9551),v=u(3674);c.exports=function(y){return p(y,v,h)}},5050:(c,d,u)=>{var p=u(7019);c.exports=function(h,v){var y=h.__data__;return p(v)?y[typeof v=="string"?"string":"hash"]:y.map}},852:(c,d,u)=>{var p=u(8458),h=u(7801);c.exports=function(v,y){var b=h(v,y);return p(b)?b:void 0}},9607:(c,d,u)=>{var p=u(2705),h=Object.prototype,v=h.hasOwnProperty,y=h.toString,b=p?p.toStringTag:void 0;c.exports=function(_){var w=v.call(_,b),T=_[b];try{_[b]=void 0;var k=!0}catch{}var R=y.call(_);return k&&(w?_[b]=T:delete _[b]),R}},9551:(c,d,u)=>{var p=u(4963),h=u(479),v=Object.prototype.propertyIsEnumerable,y=Object.getOwnPropertySymbols,b=y?function(_){return _==null?[]:(_=Object(_),p(y(_),function(w){return v.call(_,w)}))}:h;c.exports=b},4160:(c,d,u)=>{var p=u(8552),h=u(7071),v=u(3818),y=u(8525),b=u(577),_=u(4239),w=u(346),T="[object Map]",k="[object Promise]",R="[object Set]",M="[object WeakMap]",E="[object DataView]",O=w(p),j=w(h),P=w(v),V=w(y),C=w(b),N=_;(p&&N(new p(new ArrayBuffer(1)))!=E||h&&N(new h)!=T||v&&N(v.resolve())!=k||y&&N(new y)!=R||b&&N(new b)!=M)&&(N=function(U){var L=_(U),q=L=="[object Object]"?U.constructor:void 0,H=q?w(q):"";if(H)switch(H){case O:return E;case j:return T;case P:return k;case V:return R;case C:return M}return L}),c.exports=N},7801:c=>{c.exports=function(d,u){return d==null?void 0:d[u]}},1789:(c,d,u)=>{var p=u(4536);c.exports=function(){this.__data__=p?p(null):{},this.size=0}},401:c=>{c.exports=function(d){var u=this.has(d)&&delete this.__data__[d];return this.size-=u?1:0,u}},7667:(c,d,u)=>{var p=u(4536),h=Object.prototype.hasOwnProperty;c.exports=function(v){var y=this.__data__;if(p){var b=y[v];return b==="__lodash_hash_undefined__"?void 0:b}return h.call(y,v)?y[v]:void 0}},1327:(c,d,u)=>{var p=u(4536),h=Object.prototype.hasOwnProperty;c.exports=function(v){var y=this.__data__;return p?y[v]!==void 0:h.call(y,v)}},1866:(c,d,u)=>{var p=u(4536);c.exports=function(h,v){var y=this.__data__;return this.size+=this.has(h)?0:1,y[h]=p&&v===void 0?"__lodash_hash_undefined__":v,this}},5776:c=>{var d=/^(?:0|[1-9]\d*)$/;c.exports=function(u,p){var h=typeof u;return!!(p=p??9007199254740991)&&(h=="number"||h!="symbol"&&d.test(u))&&u>-1&&u%1==0&&u<p}},7019:c=>{c.exports=function(d){var u=typeof d;return u=="string"||u=="number"||u=="symbol"||u=="boolean"?d!=="__proto__":d===null}},5346:(c,d,u)=>{var p,h=u(4429),v=(p=/[^.]+$/.exec(h&&h.keys&&h.keys.IE_PROTO||""))?"Symbol(src)_1."+p:"";c.exports=function(y){return!!v&&v in y}},5726:c=>{var d=Object.prototype;c.exports=function(u){var p=u&&u.constructor;return u===(typeof p=="function"&&p.prototype||d)}},7040:c=>{c.exports=function(){this.__data__=[],this.size=0}},4125:(c,d,u)=>{var p=u(8470),h=Array.prototype.splice;c.exports=function(v){var y=this.__data__,b=p(y,v);return!(b<0||(b==y.length-1?y.pop():h.call(y,b,1),--this.size,0))}},2117:(c,d,u)=>{var p=u(8470);c.exports=function(h){var v=this.__data__,y=p(v,h);return y<0?void 0:v[y][1]}},7518:(c,d,u)=>{var p=u(8470);c.exports=function(h){return p(this.__data__,h)>-1}},4705:(c,d,u)=>{var p=u(8470);c.exports=function(h,v){var y=this.__data__,b=p(y,h);return b<0?(++this.size,y.push([h,v])):y[b][1]=v,this}},4785:(c,d,u)=>{var p=u(1989),h=u(8407),v=u(7071);c.exports=function(){this.size=0,this.__data__={hash:new p,map:new(v||h),string:new p}}},1285:(c,d,u)=>{var p=u(5050);c.exports=function(h){var v=p(this,h).delete(h);return this.size-=v?1:0,v}},6e3:(c,d,u)=>{var p=u(5050);c.exports=function(h){return p(this,h).get(h)}},9916:(c,d,u)=>{var p=u(5050);c.exports=function(h){return p(this,h).has(h)}},5265:(c,d,u)=>{var p=u(5050);c.exports=function(h,v){var y=p(this,h),b=y.size;return y.set(h,v),this.size+=y.size==b?0:1,this}},8776:c=>{c.exports=function(d){var u=-1,p=Array(d.size);return d.forEach(function(h,v){p[++u]=[v,h]}),p}},4536:(c,d,u)=>{var p=u(852)(Object,"create");c.exports=p},6916:(c,d,u)=>{var p=u(5569)(Object.keys,Object);c.exports=p},1167:(c,d,u)=>{c=u.nmd(c);var p=u(1957),h=d&&!d.nodeType&&d,v=h&&c&&!c.nodeType&&c,y=v&&v.exports===h&&p.process,b=function(){try{return v&&v.require&&v.require("util").types||y&&y.binding&&y.binding("util")}catch{}}();c.exports=b},2333:c=>{var d=Object.prototype.toString;c.exports=function(u){return d.call(u)}},5569:c=>{c.exports=function(d,u){return function(p){return d(u(p))}}},5639:(c,d,u)=>{var p=u(1957),h=typeof self=="object"&&self&&self.Object===Object&&self,v=p||h||Function("return this")();c.exports=v},619:c=>{c.exports=function(d){return this.__data__.set(d,"__lodash_hash_undefined__"),this}},2385:c=>{c.exports=function(d){return this.__data__.has(d)}},1814:c=>{c.exports=function(d){var u=-1,p=Array(d.size);return d.forEach(function(h){p[++u]=h}),p}},7465:(c,d,u)=>{var p=u(8407);c.exports=function(){this.__data__=new p,this.size=0}},3779:c=>{c.exports=function(d){var u=this.__data__,p=u.delete(d);return this.size=u.size,p}},7599:c=>{c.exports=function(d){return this.__data__.get(d)}},4758:c=>{c.exports=function(d){return this.__data__.has(d)}},4309:(c,d,u)=>{var p=u(8407),h=u(7071),v=u(3369);c.exports=function(y,b){var _=this.__data__;if(_ instanceof p){var w=_.__data__;if(!h||w.length<199)return w.push([y,b]),this.size=++_.size,this;_=this.__data__=new v(w)}return _.set(y,b),this.size=_.size,this}},346:c=>{var d=Function.prototype.toString;c.exports=function(u){if(u!=null){try{return d.call(u)}catch{}try{return u+""}catch{}}return""}},7813:c=>{c.exports=function(d,u){return d===u||d!=d&&u!=u}},5694:(c,d,u)=>{var p=u(9454),h=u(7005),v=Object.prototype,y=v.hasOwnProperty,b=v.propertyIsEnumerable,_=p(function(){return arguments}())?p:function(w){return h(w)&&y.call(w,"callee")&&!b.call(w,"callee")};c.exports=_},1469:c=>{var d=Array.isArray;c.exports=d},8612:(c,d,u)=>{var p=u(3560),h=u(1780);c.exports=function(v){return v!=null&&h(v.length)&&!p(v)}},4144:(c,d,u)=>{c=u.nmd(c);var p=u(5639),h=u(5062),v=d&&!d.nodeType&&d,y=v&&c&&!c.nodeType&&c,b=y&&y.exports===v?p.Buffer:void 0,_=(b?b.isBuffer:void 0)||h;c.exports=_},8446:(c,d,u)=>{var p=u(939);c.exports=function(h,v){return p(h,v)}},3560:(c,d,u)=>{var p=u(4239),h=u(3218);c.exports=function(v){if(!h(v))return!1;var y=p(v);return y=="[object Function]"||y=="[object GeneratorFunction]"||y=="[object AsyncFunction]"||y=="[object Proxy]"}},1780:c=>{c.exports=function(d){return typeof d=="number"&&d>-1&&d%1==0&&d<=9007199254740991}},3218:c=>{c.exports=function(d){var u=typeof d;return d!=null&&(u=="object"||u=="function")}},7005:c=>{c.exports=function(d){return d!=null&&typeof d=="object"}},6719:(c,d,u)=>{var p=u(8749),h=u(1717),v=u(1167),y=v&&v.isTypedArray,b=y?h(y):p;c.exports=b},3674:(c,d,u)=>{var p=u(4636),h=u(280),v=u(8612);c.exports=function(y){return v(y)?p(y):h(y)}},479:c=>{c.exports=function(){return[]}},5062:c=>{c.exports=function(){return!1}},75:function(c){(function(){var d,u,p,h,v,y;typeof performance<"u"&&performance!==null&&performance.now?c.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(c.exports=function(){return(d()-v)/1e6},u=process.hrtime,h=(d=function(){var b;return 1e9*(b=u())[0]+b[1]})(),y=1e9*process.uptime(),v=h-y):Date.now?(c.exports=function(){return Date.now()-p},p=Date.now()):(c.exports=function(){return new Date().getTime()-p},p=new Date().getTime())}).call(this)},4087:(c,d,u)=>{for(var p=u(75),h=typeof window>"u"?u.g:window,v=["moz","webkit"],y="AnimationFrame",b=h["request"+y],_=h["cancel"+y]||h["cancelRequest"+y],w=0;!b&&w<v.length;w++)b=h[v[w]+"Request"+y],_=h[v[w]+"Cancel"+y]||h[v[w]+"CancelRequest"+y];if(!b||!_){var T=0,k=0,R=[];b=function(M){if(R.length===0){var E=p(),O=Math.max(0,16.666666666666668-(E-T));T=O+E,setTimeout(function(){var j=R.slice(0);R.length=0;for(var P=0;P<j.length;P++)if(!j[P].cancelled)try{j[P].callback(T)}catch(V){setTimeout(function(){throw V},0)}},Math.round(O))}return R.push({handle:++k,callback:M,cancelled:!1}),k},_=function(M){for(var E=0;E<R.length;E++)R[E].handle===M&&(R[E].cancelled=!0)}}c.exports=function(M){return b.call(h,M)},c.exports.cancel=function(){_.apply(h,arguments)},c.exports.polyfill=function(M){M||(M=h),M.requestAnimationFrame=b,M.cancelAnimationFrame=_}},8156:c=>{c.exports=n}},i={};function s(c){var d=i[c];if(d!==void 0)return d.exports;var u=i[c]={id:c,loaded:!1,exports:{}};return r[c].call(u.exports,u,u.exports,s),u.loaded=!0,u.exports}s.n=c=>{var d=c&&c.__esModule?()=>c.default:()=>c;return s.d(d,{a:d}),d},s.d=(c,d)=>{for(var u in d)s.o(d,u)&&!s.o(c,u)&&Object.defineProperty(c,u,{enumerable:!0,get:d[u]})},s.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),s.o=(c,d)=>Object.prototype.hasOwnProperty.call(c,d),s.nmd=c=>(c.paths=[],c.children||(c.children=[]),c);var l={};return(()=>{s.d(l,{default:()=>R});var c=s(8156),d=s.n(c),u=s(7403),p=s(8446),h=s.n(p);function v(M){return v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},v(M)}function y(M,E){for(var O=0;O<E.length;O++){var j=E[O];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(M,T(j.key),j)}}function b(M,E){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(O,j){return O.__proto__=j,O},b(M,E)}function _(M){if(M===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M}function w(M){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(E){return E.__proto__||Object.getPrototypeOf(E)},w(M)}function T(M){var E=function(O,j){if(v(O)!=="object"||O===null)return O;var P=O[Symbol.toPrimitive];if(P!==void 0){var V=P.call(O,"string");if(v(V)!=="object")return V;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(O)}(M);return v(E)==="symbol"?E:String(E)}var k=function(M){(function(N,U){if(typeof U!="function"&&U!==null)throw new TypeError("Super expression must either be null or a function");N.prototype=Object.create(U&&U.prototype,{constructor:{value:N,writable:!0,configurable:!0}}),Object.defineProperty(N,"prototype",{writable:!1}),U&&b(N,U)})(C,M);var E,O,j,P,V=(j=C,P=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var N,U=w(j);if(P){var L=w(this).constructor;N=Reflect.construct(U,arguments,L)}else N=U.apply(this,arguments);return function(q,H){if(H&&(v(H)==="object"||typeof H=="function"))return H;if(H!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _(q)}(this,N)});function C(){var N,U,L,q;(function(Q,J){if(!(Q instanceof J))throw new TypeError("Cannot call a class as a function")})(this,C);for(var H=arguments.length,D=new Array(H),W=0;W<H;W++)D[W]=arguments[W];return U=_(N=V.call.apply(V,[this].concat(D))),q={instance:null},(L=T(L="state"))in U?Object.defineProperty(U,L,{value:q,enumerable:!0,configurable:!0,writable:!0}):U[L]=q,N}return E=C,(O=[{key:"componentDidMount",value:function(){var N=this,U=new u.default(this.typewriter,this.props.options);this.setState({instance:U},function(){var L=N.props.onInit;L&&L(U)})}},{key:"componentDidUpdate",value:function(N){h()(this.props.options,N.options)||this.setState({instance:new u.default(this.typewriter,this.props.options)})}},{key:"componentWillUnmount",value:function(){this.state.instance&&this.state.instance.stop()}},{key:"render",value:function(){var N=this,U=this.props.component;return d().createElement(U,{ref:function(L){return N.typewriter=L},className:"Typewriter","data-testid":"typewriter-wrapper"})}}])&&y(E.prototype,O),Object.defineProperty(E,"prototype",{writable:!1}),C}(c.Component);k.defaultProps={component:"div"};const R=k})(),l.default})())}($0)),$0.exports}var GAe=qAe();const i6=Pr(GAe);function YAe({playerNumber:e,player:t,segment:n}){const[r,i]=t.detailedScore;return g.jsxs(KAe,{children:[g.jsx(h0,{score:n>-1?r.rap+r.freestyle+r.normal:0,maxScore:i.rap+i.freestyle+i.normal,color:Ue.colors.players[e].perfect.fill}),g.jsx(h0,{score:n>0?r.perfect:0,maxScore:i.perfect,color:Ue.colors.players[e].stroke}),g.jsx(h0,{score:n>1?r.star:0,maxScore:i.star,color:Ue.colors.players[e].starPerfect.stroke}),g.jsx(h0,{score:n>2?r.vibrato:0,maxScore:i.vibrato,color:Ue.colors.players[e].perfect.stroke}),g.jsx(WAe,{children:n<5&&g.jsx(i6,{options:{strings:["Regular notes","Perfect notes","Star notes","Vibrato"],pauseFor:1e3,autoStart:!0,delay:15,deleteSpeed:15,cursor:""}})})]})}const KAe=K("div",{target:"ejw0p7o1"})({name:"rtb9pf",styles:"position:relative;height:5rem;width:100%;display:flex;flex-direction:row;border-radius:1rem;gap:0.5rem;box-sizing:border-box;background:rgba(0, 0, 0, 0.5);padding:0.5rem"}),WAe=K("span",{target:"ejw0p7o0"})("position:absolute;",Ot,";font-size:3rem;text-align:right;white-space:nowrap;top:6rem;left:1rem;display:block;");function QAe({playerNumber:e,player:t,highestScore:n,highScores:r,singSetup:i,useColors:s=!0,revealHighScore:l,segment:c}){const[d]=t.detailedScore;let u=0;c>-1&&(u=d.normal+d.rap+d.freestyle),c>0&&(u=u+d.perfect),c>1&&(u=u+d.star),c>2&&(u=u+d.vibrato);const p=h=>r.some(v=>v.singSetupId===i.id&&v.name===h);return g.jsxs(XAe,{children:[g.jsx(ebe,{children:g.jsxs(ZAe,{"data-win":l&&u===n,"data-test":`player-${e}-score`,"data-score":Math.floor(u),children:[g.jsx(JAe,{color:s?Ue.colors.players[e].text:"","data-test":`player-${e}-name`,className:"ph-no-capture",children:t.name}),g.jsx(o2,{preserveValue:!0,end:u,formattingFn:NL.format,duration:c<5?1:.5})]})}),g.jsx(YAe,{playerNumber:e,player:t,segment:c}),g.jsx(tbe,{"data-highscore":l&&p(t.name),children:"High score!"})]})}const XAe=K("div",{target:"e1vy0af44"})({name:"1kta8sk",styles:"background:rgba(0, 0, 0, 0.5);display:flex;flex-direction:column;align-items:center;border-radius:1rem;gap:1rem;padding:1rem 2rem;position:relative"}),JAe=K("span",{target:"e1vy0af43"})("color:",e=>e.color,";font-size:3.5rem;"),ZAe=K(Qy,{target:"e1vy0af42"})("background:transparent;font-size:4.5rem;color:white;transition:400ms ease-in-out;position:relative;display:flex;align-items:center;justify-content:space-between;flex:1;margin:0;padding:0;&[data-win='true']{font-size:7.5rem;color:",Ue.colors.text.active,";}"),ebe=K("div",{target:"e1vy0af41"})({name:"1vflmfg",styles:"display:flex;flex:1;width:100%;height:7.5rem"}),tbe=K(r2,{target:"e1vy0af40"})("font-size:3rem;opacity:0;z-index:2;&[data-highscore='true']{top:-2.5rem;right:-4rem;",nN,";opacity:1;}transition:400ms;");function nbe({onNextStep:e,players:t,highScores:n,singSetup:r}){const[i,s]=x.useState(-1);x.useEffect(()=>{if(i<0)s(0);else if(i<4){const k=setInterval(()=>{s(R=>R+1)},1500);return()=>{clearInterval(k)}}},[i]);const l=i>3,c=()=>{l?e():s(5)},{register:d}=dr(),u=r.mode===Ci.CO_OP,p=u?[{...t[0],name:t.map(k=>k.name).join(", ")}]:t,h=p.map(k=>Pw(k.detailedScore[0])),v=Math.max(...h),y=i>3,b=x.useMemo(()=>Fi.getPermissionStatus(),[]),[_,w]=x.useState(!1),T=()=>{er.capture("enable-camera"),w(!0),Fi.requestPermissions().then(()=>w(!1))};return g.jsxs(rbe,{children:[g.jsxs("div",{className:"flex flex-row gap-10",children:[g.jsx(ibe,{"data-collapse":y,children:p.map((k,R)=>g.jsx(QAe,{playerNumber:k.playerNumber,useColors:!u,revealHighScore:y,segment:i,player:k,highScores:n,highestScore:v,singSetup:r},R))}),g.jsx("div",{className:`duration-300 ${b&&y?"w-[43%]":"w-[28%]"}`,children:b?g.jsx(BAe,{}):g.jsx(FAe,{register:d,onConfirm:T,loading:_})})]}),g.jsx(sbe,{...d("next-button",()=>c(),void 0,!0),"data-test":l?"highscores-button":"skip-animation-button",children:l?"Next":"Skip"})]})}const rbe=K("div",{target:"e1qmbv7g2"})({name:"z8ysa9",styles:"position:absolute;padding:20rem 5rem 15rem 5rem;top:0;height:100%;box-sizing:border-box;width:100%;display:flex;flex-direction:column"}),ibe=K("div",{target:"e1qmbv7g1"})({name:"1dtjdql",styles:"text-align:center;display:flex;flex-direction:column;gap:5rem;flex:1;&[data-collapse='true']{gap:2rem;}transition:gap 0.5s"}),sbe=K(No,{target:"e1qmbv7g0"})({name:"vmr6vd",styles:"width:40rem;font-size:1.9vw;margin-left:auto;margin-top:auto"});function obe(){return x.useMemo(()=>JSON.parse(st.session.getItem(qd))??[],[])}function abe({score:e,register:t,singSetupId:n,onSave:r,index:i}){const s=x.useRef(null),[l,c]=x.useState(""),d=obe(),u=()=>{l.trim().length&&l.trim()!==e.name&&r(n,e.score,e.name,l)};return g.jsx(m2,{className:"ph-no-capture",options:d,onChange:c,onBlur:u,value:l,label:"",ref:s,...t(`highscore-rename-${i}`,()=>{var p;return(p=s.current)==null?void 0:p.focus()}),placeholder:e.name,"data-test":"input-edit-highscore","data-original-name":e.name})}function lbe({onNextStep:e,highScores:t,singSetup:n,song:r}){const{register:i}=dr(),s=Nme(r);return g.jsxs(g.Fragment,{children:[g.jsx(cbe,{"data-test":"highscores-container",children:t.map((l,c)=>g.jsxs(ube,{isCurrentSing:l.singSetupId===n.id,children:[g.jsx(dbe,{children:c+1}),g.jsx(fbe,{className:"ph-no-capture",children:l.singSetupId===n.id?g.jsx(abe,{index:c,score:l,register:i,singSetupId:n.id,onSave:s}):l.name}),g.jsx(hbe,{children:g.jsx(Xx,{score:l.score})}),g.jsx(pbe,{children:lo(l.date).format("MMMM D, YYYY")})]},c))}),g.jsx(gbe,{...i("play-next-song-button",e,void 0,!0),children:"Select song"})]})}const cbe=K("div",{target:"e1kq1u2t6"})({name:"9gtmjg",styles:"position:absolute;top:20rem;width:100%;text-align:center;padding:0 16rem;box-sizing:border-box"}),ube=K("div",{target:"e1kq1u2t5"})("position:relative;",Ot,";font-size:3.2rem;display:flex;background:",e=>e.isCurrentSing?"rgba(0,0,0,.9)":"rgba(0,0,0,.5)",";margin-bottom:2rem;padding:",e=>e.isCurrentSing?"0 1.5rem":"1rem 3.2rem",";align-items:center;"),dbe=K("div",{target:"e1kq1u2t4"})("padding:0 1.6rem;color:",Ue.colors.text.active,";"),fbe=K("div",{target:"e1kq1u2t3"})({name:"1mbe2e5",styles:"text-align:left;flex:1;padding:1.6rem"}),hbe=K("div",{target:"e1kq1u2t2"})({name:"2ycp6t",styles:"padding:0 1rem"}),pbe=K("div",{target:"e1kq1u2t1"})({name:"1gbnj87",styles:"position:absolute;font-size:2rem;bottom:-1rem;right:-1.6rem;background:black;padding:0.5rem"}),gbe=K(No,{target:"e1kq1u2t0"})({name:"hdhnqu",styles:"position:absolute;bottom:13rem;right:2rem;padding:0 3rem;font-size:1.9vw"});function mbe({song:e,width:t,height:n,onClickSongSelection:r,players:i,highScores:s,singSetup:l}){const[c]=xt(Zv);Nl(!0);const[d,u]=x.useState("results");return g.jsxs(aL,{songData:e,width:t,height:n,children:[g.jsxs(vbe,{children:[d==="results"&&g.jsx(nbe,{onNextStep:()=>u("highscores"),players:i,singSetup:l,highScores:s}),d==="highscores"&&g.jsx(lbe,{onNextStep:r,singSetup:l,highScores:s,song:e}),g.jsx(ybe,{"data-active":"true"})]}),c==="christmas"&&g.jsxs(Abe,{children:["Credit to ",g.jsx("a",{href:"https://www.FesliyanStudios.com",children:"https://www.FesliyanStudios.com"})," for the background music."]})]})}const vbe=K("div",{target:"e1fxxvcx2"})({name:"1quw0ni",styles:"pointer-events:auto"}),ybe=K(DAe,{target:"e1fxxvcx1"})({name:"rlv4pm",styles:"transition:300ms;position:absolute;bottom:4rem;font-size:3.2rem;line-height:1.25;color:white;text-align:center;background:rgba(0, 0, 0, 0.75);width:100%;box-sizing:border-box;transform:scale(0);&[data-active='true']{transform:scale(1);}padding:2rem 10rem;kbd{padding:0.12rem 0.9rem;border-radius:1rem;border:0.5rem solid rgb(204, 204, 204);border-bottom-color:rgb(150, 150, 150);border-right-color:rgb(150, 150, 150);color:rgb(51, 51, 51);line-height:1.4;display:inline-block;box-shadow:0 0.1rem 0 rgba(0, 0, 0, 0.2),inset 0 0 0 0.2rem #ffffff;background-color:rgb(247, 247, 247);text-shadow:0 0.1rem 0 #fff;font-weight:normal;}"}),Abe=K("span",{target:"e1fxxvcx0"})("position:fixed;bottom:2rem;left:2rem;font-size:1.5rem;",Ot,";");function bbe(e){const[t,n,r,i]=_be(e);return Sbe(t,n,r,i)()}function _be(e){let t=1779033703,n=3144134277,r=1013904242,i=2773480762;for(let s=0,l;s<e.length;s++)l=e.charCodeAt(s),t=n^Math.imul(t^l,597399067),n=r^Math.imul(n^l,2869860233),r=i^Math.imul(r^l,951274213),i=t^Math.imul(i^l,2716044179);return t=Math.imul(r^t>>>18,597399067),n=Math.imul(i^n>>>22,2869860233),r=Math.imul(t^r>>>17,951274213),i=Math.imul(n^i>>>19,2716044179),t^=n^r^i,n^=t,r^=t,i^=t,[t>>>0,n>>>0,r>>>0,i>>>0]}function Sbe(e,t,n,r){return function(){e|=0,t|=0,n|=0,r|=0;var i=(e+t|0)+r|0;return r=r+1|0,e=t^t>>>9,t=n+(n<<3)|0,n=n<<21|n>>>11,n=n+i|0,(i>>>0)/4294967296}}const xbe=["Lysa Arryn","Peter Parker","Zordon","Chad Khalimov","Dat Boi","Good Guy Greg","Scumbag Steve","Meme Man","Pepe","Wojak","Ebmarah","Shrek","Vad of ICE Beat","Krasnolud","May Aragorn","Morning Breeze","Auytjak Lorav","Smelly Cat","Stinky Foot"],vj=new Date("2016-01-01").getTime(),wbe=new Date("2024-01-07").getTime(),D_=5;function Ebe(e,t){const n=p2(e);return x.useMemo(()=>{const i=[...xbe];return[...Array.from({length:D_},(l,c)=>{const d=bbe(e.id+c),u=6e5+14e5/(D_-1)*c,p=i.splice(Math.floor(d*i.length),1)[0];return{singSetupId:c.toString(),name:p,score:ds()?u/1e3:u,date:new Date((wbe-vj)*d+vj).toISOString()}}),...(n==null?void 0:n.scores.filter(({setup:l})=>l.mode===t.mode&&l.tolerance===t.tolerance).map(l=>l.scores.map(c=>({...c,date:l.date,singSetupId:l.setup.id}))).flat())??[]].sort((l,c)=>c.score-l.score).slice(0,D_)},[e.id,n,t])??[]}function Tbe({song:e,width:t,height:n,onClickSongSelection:r,singSetup:i}){const s=Ebe(e,i),l=x.useMemo(()=>tt.getPlayers().map(c=>({name:c.getName(),playerNumber:c.number,detailedScore:at.getPlayerDetailedScore(c.number)})),[]);return g.jsx(Dl,{children:g.jsx(mbe,{singSetup:i,song:e,width:t,height:n,onClickSongSelection:r,players:l,highScores:s})})}function Cbe({songPreview:e,singSetup:t,returnToSongSelection:n,restartSong:r}){mL(),vL();const i=x.useRef(null),s=XN(e.id),[l,c]=xt(s7),{width:d,height:u}=gf(),[p,h]=x.useState(!1),[v,y]=x.useState(!0),[b,_]=x.useState(!0),[w,T]=x.useState(qn.UNSTARTED),[k,R]=x.useState(!1);Pl(!k);const M=!l&&!ds();return x.useEffect(()=>{!M&&v&&s.data&&(k||w!==qn.UNSTARTED)&&y(!1)},[s.data,k,w,v]),p&&s.data?g.jsx(Tbe,{width:d,height:u,song:s.data,onClickSongSelection:n,singSetup:t}):g.jsx(Dl,{children:g.jsxs(kbe,{children:[g.jsxs(Mbe,{visible:v,"data-test":"background-container",children:[g.jsx(Ibe,{video:e.video,width:d,height:u}),g.jsx(Obe,{"data-test":"song-artist",children:e.artist}),g.jsx(jbe,{"data-test":"song-title",children:e.title}),M?g.jsx(Vl,{children:g.jsx(jt,{children:b?g.jsx(kAe,{onContinue:()=>_(!1)}):g.jsx(r6,{onSave:()=>c(!0)})})}):g.jsx(RAe,{onFinish:()=>{var E;R(!0),(E=i.current)==null||E.play()}})]}),s.data&&!M&&g.jsx(bAe,{pauseMenu:!0,ref:i,onStatusChange:T,song:s.data,width:d,height:u,autoplay:!1,onSongEnd:()=>{var j;const E=((j=at.getSingSetup())==null?void 0:j.mode)===Ci.CO_OP?[{name:tt.getPlayers().map(P=>P.getName()).join(", "),score:at.getPlayerScore(0)}]:tt.getPlayers().map(P=>({name:P.getName(),score:at.getPlayerScore(P.number)})),O=at.getSongCompletionProgress();me.songEnded.dispatch(s.data,t,E,O),h(!0)},singSetup:t,restartSong:r})]})})}const kbe=K("div",{target:"e9bbafl4"})({name:"bjn8wh",styles:"position:relative"}),Mbe=K("div",{target:"e9bbafl3"})("position:fixed;top:0;left:0;z-index:10;pointer-events:none;background-color:black;view-transition-name:song-preview;opacity:",e=>e.visible?1:0,";transition:500ms;"),Rbe=K("div",{target:"e9bbafl2"})({name:"oux8x1",styles:"background-size:cover;background-position:center center;filter:blur(10px)"}),Ibe=e=>g.jsx(Rbe,{style:{backgroundImage:`url('https://i3.ytimg.com/vi/${e.video}/hqdefault.jpg')`,width:`${e.width}px`,height:`${e.height}px`}}),Obe=K(g2,{target:"e9bbafl1"})({name:"oyknw4",styles:"view-transition-name:song-preview-artist;position:absolute;top:10rem;left:10rem;font-size:7rem"}),jbe=K(Jy,{target:"e9bbafl0"})({name:"1l9juvo",styles:"view-transition-name:song-preview-title;position:absolute;font-size:8rem;top:19rem;left:10rem"});function Pbe(){const e=My("song"),[t,n]=x.useState(null),[r,i]=x.useState(e??null),[s,l]=x.useState(0),c=d=>{document.getElementById("preview-video-container").style.viewTransitionName="song-preview-video",Op(()=>{document.getElementById("preview-video-container").style.viewTransitionName="",mf.flushSync(()=>{n(d)})}),Gw.play(!1)};return mL(),g.jsxs(g.Fragment,{children:[g.jsx(gs,{children:g.jsx("title",{children:"Game | AllKaraoke.Party - Free Online Karaoke Party Game"})}),g.jsx(c2,{children:t?g.jsx(Cbe,{restartSong:()=>{Fi.restartRecord(),l(d=>d+1)},songPreview:t.song,singSetup:t,returnToSongSelection:()=>{i(t.song.id),n(null)}},s):g.jsx(hve,{onSongSelected:c,preselectedSong:r})})]})}const Vbe="/assets/screenshot1-DaCeVKxL.webp",Dbe="/assets/screenshot2-uopWyjAi.webp",Bbe=JSON.parse(`["101 Dalmatians","2NE1","3 Doors Down","3OH!3","3OH!3 feat. Katy Perry","3OH!3 feat. Ke$ha","4 Non Blondes","5 Seconds of Summer","50 Cent","A Day to Remember","A Day To Remember","A Flock Of Seagulls","A Great Big World","a-ha","A Perfect Circle","AaRON","ABBA","Abby Trott","AC/DC","Ace of Base","Adam Lambert","Adele","Aerosmith","Afroman","Against The Current","Air Supply","AJR","Akon","Akon feat. Eminem","Alan Jackson","Alan Walker","Alan Walker & Ava Max","Alanis Morisette","Alanis Morissette","Alannah Myles","Alec Benjamin","Alessandra","Alessia Cara","Alesso feat. Tove Lo","Alesso & Katy Perry","Alexander Rybak","Alexis Jordan","Alice Cooper","Alice In Chains","Alice in Chains","Alice Merton","Alicia Keys","ALIKA","All Time Low","Alphaville","Alter Bridge","Alvvays","Aly & AJ","Alyona Alyona & Jerry Heil","America","Amy Grant","Amy MacDonald","Amy Winehouse","Anastacia","Andrew Lambrou","Andy Williams","Anitta","Anna Kendrick","Anna Margaret","Apocalyptica ft. Adam Gontier","Aqua","Aram MP3","Arcade Fire","Arctic Monkeys","Ariana Grande","Ariana Grande feat. Future","Ariana Grande feat. Zedd","Ariana Grande & John Legend","Ariana Grande & Justin Bieber","Ariana Grande & Social House","Ariana Grande & The Weeknd","Army Of Lovers","Ashanti","Ashlee Simpson","Ashley Tisdale","Asking Alexandria","ATeens","Audioslave","AURORA","Ava Max","Avantasia","Avenged Sevenfold","Avicii feat. Sandro Cavazza","Avicii","Avril Lavigne","Awolnation","B52s","Baby Lasagna","Babymetal x Electric Callboy","Baccara","Backstreet Boys","Bad Lip Reading","Bad Omens","Bai Sha JAWS","Baldurs Gate 3","Bambie Thug","Banana minnions family","Band Aid","Barbie (Ryan Gosling)","Barei","Barry Manilow","Bastille","Beastie Boys","Bebe Rexha y David Guetta","Bee Gees","Bella Poarch","Bella Thorne","Bellamy Brothers","Ben Doli","Ben E. King","BENEE feat. Gus Dapperton","Benny Blanco, Halsey & Khalid","Benny Cristo","Benson Boone","Bette Midler","Beyonc","Beyonc feat. Jay-Z","Beyonc & Shakira","Big Time Rush","Bikini Kill","Bill Medley & Jennifer Warnes","Billie Eilish","Billie Eilish & Khalid","Billy Boyd","Billy Idol","Billy Joel","Billy Talent","Bing Crosby","Birdy","Bjrk","Bjrnzone","Black Eyed Peas, Shakira","Black Sabbath","Black Veil Brides","BLACKPINK & Selena Gomez","Blackstreet feat. Dr. Dre","Blanche","Blanka","Blind Guardian","blink-182","Blink 182","Blondie","Blu Cantrell","Blue","Blue yster Cult","Blur","Ba","B.o.B feat. Bruno Mars","B.o.B feat. Hayley Williams","Bob Marley & The Wailers","Bobby Helms","Bon Jovi","Boney M","Boney M.","Bonnie Tyler","Boston","Bowling For Soup","Boyz II Men","Bradley Cooper & Lady Gaga","Brandy & Monica","Breaking Benjamin","Brenda Lee","Bridgit Mendler","Bring Me The Horizon","Britney Spears","Britney Spears / Elton John","Britney Spears feat. Madonna","Britney Spears feat. Tinashe","Britney Spears & Iggy Azalea","Brotherhood Of Man","Bruno Mars & Cardi B","Bruno Mars","Bryan Adams","Bryce Pinkham","BTS","BTS feat. Desiigner","BTS featuring  Desiigner","BTS - J-Hope feat. Becky G","Bucks Fizz","Buggles","Bush","Busted","Calum Scott","Calvin Harris feat. Rihanna","Calvin Harris","Camila Cabello ft. Ed Sheeran","Camp Rock 2","Capital Cities","Cardi B","Cardi B & Bruno Mars","Carly Rae Jepsen","Carpenters","Carrie Underwood","Cascada","Cat Stevens","Cee Lo Green","Cline Dion","Chaka Khan","Chappell Roan","Charli XCX","Charli XCX & Troye Sivan","Charlie Puth","Charlie Puth & Selena Gomez","Chenoa","Cher","Cheryl Cole","Chevelle","Chicago","Childish Gambino","Chingiz","Chris Brown","Chris Brown feat. Rihanna","Chris Isaak","Chris Rea","Christina Aguilera","Christina Milian","Christina Perri","Chuck Berry","Chumbawamba","Cliff Richard","Colbie Caillat","Coldplay","Coldplay feat. Beyonc","Coldplay x BTS","Conchita Wurst","Coolio feat. L.V.","Corey Hart","Corinne Bailey Rae","Cornelia Jakobs","Counting Crows","Crazy Frog","Creed","Creedence Clearwater Revival","Crowded House","Crush 40","Crusher-P feat. GUMI","Culture Club","Cutting Crew","Cyndi Lauper","Cynthia Harrell","d4vd","Dai Freyr","Dai og Gagnamagni","Daft Punk","Daft Punk Feat. Todd Edwards","Daisuke Ishiwatari","Dami Im","Damien Rice","Dana International","Daniel Bedingfield","Daniel Caesar","Daniel Powter","Danzel","Darius Rucker","Daryl Hall & John Oates","Dashboard Confessional","Daughtry","Dave Rodgers","David Archuleta","David Bowie","David Cook","David Guetta feat. Akon","David Guetta feat. Kid Cudi","David Guetta feat. Rihanna","David Guetta feat. Usher","David Guetta & Sia","David Hasselhoff","David Kushner","Dead Or Alive","deadmau5 feat. Chris James","deadmau5 feat. Gerard Way","Deadmau5 & Kaskade","Dean Lewis","Dean Martin","Dear Evan Hansen","Deep Purple","Def Leppard","Deftones","Demi Lovato","Demi Lovato feat. Cher Lloyd","Deorro x Chris Brown","Depeche Mode","Destiny","Destinys Child","Diana Ross","Dido","Dimash Kudaibergen","Dio","Dire Straits","Disney's Aladin","Disneys Beauty and the Beast","Disneys Brother Bear","Disneys Descendants 2","Disneys Descendants 3","Disneys Descendants","Disneys Encanto","Disneys Frozen","Disneys Frozen II","Disneys Hercules","Disney's Moana","Disneys Mulan","Disney's Pocahontas","Disney's Tangled","Disneys Tarzan","Disneys Teen Beach Movie","Disneys The Jungle Book","Disneys The Lion King","Disturbed","DJ Sammy & Yanou feat. Do","DJ Snake feat. Justin Bieber","DNCE","Doja Cat feat. SZA","Doja Cat","Doki Doki Literature Club!","Dolly Parton","Don McLean","Donna Summer","Doris Day","Dove Cameron","DragonForce","Drake Bell","Drake feat. Rihanna","Drake feat. Wizkid & Kyla","Drake","Dream Theater","Drowning Pool","Dua Lipa","Dua Lipa & BLACKPINK","Duck Sauce","Duncan Laurence","Duran Duran","Dusty Springfield","Eagles","Earth, Wind & Fire","Echosmith","Ed Sheeran and Elton John","Ed Sheeran and Justin Bieber","Ed Sheeran","Ed Sheeran feat. Khalid","Ed Sheeran & Pokmon","Eddie Murphy","Edward Maya & Vika Jigulina","Electric Callboy","Electric Callboy feat. Sido","Electric Light Orchestra","Elena Siegman","Eleni Foureira","Ellie Goulding","Elton John","Elton John & Dua Lipa","Elton John & RuPaul","Elvis Presley","Eminem feat. Dido","Eminem feat. Juice WRLD","Eminem feat. Rihanna","Eminem","Emmelie de Forest","Empire Of The Sun","Enrique Iglesias","Enya","Eric Clapton","Eric Saade","Estelle feat. Kanye West","Europe","Eurythmics","Eva Rivas","Evanescence","Everlast","Extreme","Faith Hill","Faith No More","Fall Out Boy","Falling In Reverse","Fergie","Fetty Wap","FEX","Fifth Harmony feat. Kid Ink","Fifth Harmony","FIFTY FIFTY","Finger Eleven","Five Finger Death Punch","Five For Fighting","Fleetwood Mac","Flo Rida feat. David Guetta","Flo Rida feat. Ke$ha","Flo Rida feat. Sia","Flo Rida feat. T-Pain","Flo Rida","Florence + the Machine","Flyleaf","Foo Fighters","Fools Garden","Foreigner","Foster The People","Fountains Of Wayne","Frank Ocean","Frank Sinatra","Frankie Goes To Hollywood","Frankie Valli","Franz Ferdinand","Freddie Mercury","Fredi and Friends","Fugees","Fun. feat. Janelle Mone","Fun.","Gandalf","Gary Barlow & Elton John","Gayle","Genesis","George Ezra","George Michael","George Michael & Elton John","Getter Jaani","Ghost","Gina G","Ginuwine","girl in red","Girls Generation (SNSD)","Glee Cast","Gloria Gaynor","GloryHammer","Gnarls Barkley","Goo Goo Dolls","Good Charlotte","Gorillaz","Gorillaz feat. Shaun Ryder","Gotye & Kimbra","Grabbitz","Green Day","Grta Salme & Jnsi","Guns N' Roses","Guns N Roses","Gustaph","Gwen Stefani","Gwen Stefani & Eve","Gwen Stefani Feat Akon","Hailee Steinfeld feat. DNCE","Hailee Steinfeld","Hairspray (Movie)","Hamilton","Hanson","Harpo","Harry Styles","Hazbin Hotel","Heart","Heathers","Helena Paparizou","Hellogoodbye","Helloween","Henry Moodie","Hera Bjrk","High School Musical 2","High School Musical","Hilary Duff","Hillsong United","HIM","Himesh Patel","Hinder","Hole","Hollywood Undead","Hoobastank","Hootie & The Blowfish","Hooverphonic","Hozier","Huey Lewis & The News","Hunter Hayes","Ice Cube","Icon For Hire","Icona Pop feat. Charli XCX","Idina Menzel","Iggy Azalea feat. Charli XCX","Iggy Pop","Ike & Tina Turner","Imagine Dragons","Imagine Dragons x JID","Inna","Interpol","Into the Woods","INXS","Iron Maiden","ISAAK","Israel Kamakawiwoole","Jack Black","Jack Johnson","Jack White","Jagwar Twin","James Arthur","James Bay","James Blunt","Jamiroquai","Janet Jackson","Jason Derulo","Jason Derulo feat. 2 Chainz","Jason Derulo feat. Snoop Dogg","Jason Mraz","Jason Paige","Jay Sean feat. Lil Wayne","Jay Sean","Jay-Z feat. Alicia Keys","Jaymes Young","Jedward","Jelly Roll","Jennette McCurdy","Jennifer Lopez","Jennifer Lopez & Pitbull","Jesse McCartney","Jessica Simpson","Jessie J","Jet","Jethro Tull","Jewel","Jim Croce","Jimi Jamison","Jimmy Eat World","Joan Jett","Joan Jett & The Blackhearts","Joan Osborne","Joe Cocker","John Cougar Mellencamp","John Denver","John Farnham","John Legend","John Lennon","John Mayer","John Rzeznik","John Travolta (Grease)","John Waite","Johnny Cash","Johnny Logan","Johnny Rivers","Joji","JoJo","Jojo","Jon Bellion","Jonas Brothers","Jonathan Coulton","Josh Groban","Josh Turner","Journey","Joy Division","Julie and the Phantoms","Jung Kook, Usher","Justin Bieber","Justin Bieber & Benny Blanco","Justin Bieber feat. Big Sean","Justin Bieber feat. Usher","Justin Bieber & Ludacris","Justin Bieber & Nicki Minaj","Justin Timberlake","Kaiser Chiefs","Kaleen","Kaleo","Kane Brown","Kansas","Kanye West","Kanye West feat. Dwele","Kanye West feat. Pusha T","Kanye West feat. Young Jeezy","Kardinal Offishall feat. Akon","Kasabian","Kate Bush","Katrina And The Waves","KATSEYE","Katy Perry","Katy Perry feat. Kanye West","Katy Perry feat. Migos","Katy Perry feat. Nicki Minaj","Katy Perry feat. Snoop Dogg","Kay Starr","Keane","Keep Shelly in Athens","Keep Shelly In Athens","Ke$ha feat. 3OH!3","Ke$ha","KEiiNO","Kellie Pickler","Kelly Clarkson","Kendrick Lamar feat. Drake","Kendrick Lamar","Kendrick Lamar & SZA","Kenny Rogers & Dolly Parton","Kenya Grace","Khalid x Normani","Kid Cudi","Kid Cudi feat. MGMT & Ratatat","Kid Rock","Kid Rock feat. Sheryl Crow","Kim Petras","Kim Petras & Nicki Minaj","Kim Wilde","Kings Of Leon","Kings of Leon","KISS","Kodaline","KoRn","KT Tunstall","Kygo feat. Maty Noyes","Kygo & Selena Gomez","Kygo x Whitney Houston","Kyle Justin","Kylie Minogue","La Bouche","La Roux","Lady Antebellum","Lady Gaga","Lady Gaga & Ariana Grande","Lady Gaga & BLACKPINK","Lady Gaga, Bradley Cooper","Lady Gaga & Bruno Mars","Lady Gaga feat. Beyonc","Lady Gaga feat. Colby O'Donis","Lana Del Rey","Lana Del Rey feat. The Weeknd","Lauv feat. BTS","LazyTown","LE SSERAFIM","Lea Salonga and Brad Kane","League of Legends","LeAnn Rimes","Led Zeppelin","Lena","Lenny Kravitz","Leona Lewis","Leony","Les Fatals Picards","Les Misrables","Lewis Capaldi","Lifehouse","Lil Dicky","Lil Nas X feat. Miley Cyrus","Lil Nas X","Lil Wayne feat. Bruno Mars","Lil Wayne feat. Eminem","Lily Allen","Limp Bizkit","Linkin Park","Lionel Richie","Lipps, Inc.","Little Big","Little Mix feat. Jason Derulo","Little Mix feat. Stormzy","Little Mix","Lizzo","LMFAO","Loc Nottet","Lord Of The Lost","Lorde","Lordi","Loreen","Lou Reed","Loverboy","LP","LSD","Lucy Hale","Lulu","Lykke Li","Lyn","Lynyrd Skynyrd","M83 feat. Susanne Sundfr","Madcon feat. Ray Dalton","Madcon","Madness","Madonna","Mae Muller","Magic!","Malik Harris","Mamma Mia! (Movie)","Man With A Mission","Manchester Orchestra","Mandaryna","Mando Diao","Mandy Moore","Mneskin","Manfred Mann","Manowar","Mns Zelmerlw","Manuel","Marc Cohn","Marc DeMarco","Marcus & Martinus","Margaret Berger","Maria Yaremchuk","Mariah Carey","Mariah Carey & Boyz II Men","Mariah Carey feat. Jay-Z","Marillion","Marilyn Manson","Marina and the Diamonds","Marina & The Diamonds","Marina","Mark Ronson feat. Bruno Mars","Mark Ronson ft  Miley Cyrus","Maroon 5","Maroon 5 feat. Cardi B","Maroon 5 feat. Wiz Khalifa","Marshmello & Anne-Marie","Marshmello & Bastille","Marshmello & Kane Brown","Marshmello x Jonas Brothers","Martin Garrix & Bebe Rexha","Martin Garrix feat. Bonn","Martin Solveig & Dragonette","Martin Solveig & GTA","Martina McBride","Marvin Gaye & Tammi Terrell","Mary J. Blige","Matchbox Twenty","Matt Redman","Max Coveri","Meat Loaf","Meatloaf","Meghan Trainor","Melanie Martinez","Melanie Thornton","Melissa Etheridge","MELOVIN","Men at Work","Men At Work","Metallica","Metric","Metro Station","Metronomy","M.I.A.","Michael Bubl","Michael Jackson","Michael Schulte","Michelle Branch","Midnight Oil","Mika","Mika feat. Ariana Grande","Mika Kobayashi","Mike Oldfield","Mike Posner","Miley Cyrus","Miley Cyrus feat. Dua Lipa","Miley Cyrus & Jessie J","Mili","Milo Manheim & Meg Donnelly","Miracle Of Sound","Miranda Lambert","Mitski","Modern Talking","Modest Mouse","Montaigne","Morandi","Morgan Wallen","Mother Mother","Motionless In White","Mtley Cre","Moulin Rouge","Mr. Big","Mumford and Sons","Mumford & Sons","Muse","My Chemical Romance","My Little Pony","Myles Smith","N Sync","Nancy Sinatra","Natalia Kills","Natalie Imbruglia","Natasha Bedingfield","Natasha Farrow","Nathan Evans","Naughty Boy feat. Sam Smith","Nazareth","NCT 127","NCT DREAM","Ne-Yo","Neil Young","Nelly feat. Kelly Rowland","Nelly Furtado","Nelly Furtado feat. Timbaland","Nemo","Nena","Neon Genesis Evangelion","Neon Trees","Netflix","Netta","New Kids On The Block","New Order","NewJeans; League of Legends","NF","Niall Horan","Nick Cave & The Bad Seeds","Nick Jonas","Nickelback","Nicki Minaj feat. Rihanna","Nicki Minaj","Nicki Taylor","Nico Bruno","Nico & Vinz","Nightwish","NIKI","Nilsson","Nirvana","No Doubt","No Secrets","Noah Kahan","Nothing But Thieves","O.A.R.","Oasis","Ochman","OK Go","Olivia Newton-John","Olivia Rodrigo","Olly Murs","Olly Murs feat. Flo-Rida","Olsen Brothers","One Direction","OneRepublic","OutKast","Owl City & Carly Rae Jepsen","Owl City","Ozzy Osbourne","Panic! at the Disco","Papa Roach","Paramore","Paris Hilton","Passenger","Pat Benatar","Patrice Rushen","Paul Simon","Paula Abdul","Pearl Jam","Pet Shop Boys","Peter Cetera","Peter Gabriel","Peter Gabriel & Kate Bush","Petula Clark","Phantom Planet","Pharrell Williams","Phil Collins","Phoebe Bridgers","Pink Floyd","PinkPantheress & Ice Spice","Pitbull feat. Chris Brown","Pitbull feat. Marc Anthony","Pitbull feat. T-Pain","Pitch Perfect 2","Pixies","Placebo","Placebo feat. David Bowie","Plain White Ts","P!nk feat. Lily Allen","P!nk feat. Nate Ruess","P!nk","Poets Of The Fall","Poets of the Fall","Pointer Sisters","Poison","Portal","Post Malone","Post Malone feat. 21 Savage","Post Malone feat. Quavo","Post Malone & Swae Lee","Powerwolf","Pretenders","Prince and the Revolution","Psy feat. Suga of BTS","Psychostick","Queen","Queen & David Bowie","Queens Of The Stone Age","R. City feat. Adam Levine","R. Kelly","Radical Face","Radiohead","RAFA","Rage Against the Machine","Rage Against The Machine","RagnBone Man","Rag'n'Bone Man","Rainbow","Ramones","Rascal Flatts","Rasmussen","Ray Parker Jr.","Real Life","Red","Red Hot Chili Peppers","Rednex","R.E.M.","Remo Forrer","Ren","REO Speedwagon","Rhapsody","Richard Marx & Donna Lewis","Richard Marx","Rick Astley","Ricky Martin","Rihanna","Rihanna feat. Calvin Harris","Rihanna feat. Drake","Rihanna feat. Eminem","Rihanna feat. Jay-Z","Rihanna feat. Jeezy","Rihanna feat. Mikky Ekko","Rihanna & Ne-Yo","Rise Against","Rob Thomas","Rob Zombie","Robbie Williams","Rockwell","Rod Stewart","Roman Lob","Rosa Linn","Rosa Walton & Hallie Coggins","ROS & Bruno Mars","Roxette","Roy Orbison","Rufus Wainwright","Run DMC","RuPaul","Rupert Holmes","Ruslana","Rusted Root","S Club 7","Sabaton","Sabrina Carpenter","Sam Fender","Sam Ryder","Sam Smith","Sam The Sham And The Pharaohs","Sandie Shaw","Santana feat. Rob Thomas","Sara Bareilles","Sara Evans","Sarah McLachlan","Savage Garden","Savatage","SawanoHiroyuki[nZk] mizuki","Scars On Broadway","Scissor Sisters","Scorpions","Scott McKenzie","Sean Kingston","Sean Kingston / Justin Bieber","SEBalter","Secondhand Serenade","Seether","Selena Gomez","Selena Gomez feat. Gucci Mane","Selena Gomez & The Scene","Selena Gomez x Marshmello","Serj Tankian","Set It Off","Shaggy feat. RikRok","Shakin Stevens","Shakira","Shakira feat. Carlinhos Brown","Shakira feat. Dizzee Rascal","Shakira feat. Rihanna","Shakira feat. Wyclef Jean","Shakira ft. Freshlyground","Shania Twain","Shawn Mendes & Camila Cabello","Shawn Mendes, Camila Cabello","Shawn Mendes","Sheryl Crow","Shinedown","Shrek 2","Sia","Sia feat. Kendrick Lamar","SIAMS","Silia Kapsis","SiM","Simon & Garfunkel","Simple Minds","Simple Plan","Simply Red","Sinad OConnor","SING (Taron Egerton)","Sixpence None The Richer","Skid Row","Skillet","Skunk Anansie","Slade","SLANDER feat. Dylan Matthews","Slayyyter","Slipknot","Slowdive","Smash Into Pieces","Smash Mouth","SMiLE.dk","Smokie","Snow Patrol","Sophie Ellis-Bextor","Soul Asylum","Soundgarden","Spandau Ballet","Spice Girls","Spiderbait","Srbuk","Starship","Status Quo","Steindi","Stella Mwangi","Stephen Sanchez","Stereophonics","Steve Aoki feat. BTS","Steve Lacy","Steven Curtis Chapman","Stevie Wonder","Sting feat. Ray Chen","Sting","Stone Sour","Stone Temple Pilots","Sublime","Subwoolfer","Sudden Lights","Sugababes","Sum 41","Sunrise Ave","Sunrise Avenue","Supergrass","Supertramp","Surf Curse","Survivor","Sylver","Symphony X","System of a Down","System Of A Down","SZA","Taio Cruz","Taio Cruz feat. Flo Rida","Take That","Taking Back Sunday","Tal Bachman","Talking Heads","Tally Hall","Tate McRae","t.A.T.u.","Taylor Swift","Taylor Swift feat. Bon Iver","Teach-In","Tears For Fears","Technotronic feat. Felly","Teddy Swims","Tenacious D","Terence Trent DArby","Terri Clark","Texas","Teya & Salena","The 1975","The Animals","The Baseballs","The Beach Boys","The Beatles","The Beautiful South","The Black Eyed Peas","The Black Keys","The Bloodhound Gang","The Blues Brothers","The Boomtown Rats","The BossHoss","The Cab","The Calling","The Cardigans","The Chainsmokers & Coldplay","The Chainsmokers feat. Daya","The Chainsmokers feat. Halsey","The Champs","The Charlie Daniels Band","The Cinematic Orchestra","The Clash","The Common Linnets","The Corrs","The Cranberries","The Cure","The Darkness","The Doors","The Eagles","The Fray","The Greatest Showman","The Ink Spots","The Jackson 5","The Jacksons","The Jam","The Kelly Family","The Kid Laroi & Justin Bieber","The Kid Laroi & Miley Cyrus","The Killers","The Kooks","The Last Dinner Party","The Little Mermaid","The Living Tombstone","The Lonely Island feat. Akon","The Makemakes","The Mamas & The Papas","The Neighbourhood","The Offspring","The Phantom of the Opera","The Polar Express","The Police","The Postal Service","The Proclaimers","The Psychedelic Furs","The Pussycat Dolls","The Rasmus","The Rembrandts","The Rocky Horror Picture Show","The Rolling Stones","The Ronettes","The Script","The Script feat. will.i.am","The Smashing Pumpkins","The Smiths","The Specials","The Stone Roses","The Strokes","The Sweet","The Temptations","The Tony Rich Project","The Verve","The Village People","The Vines","The Weeknd","The Weeknd feat. Daft Punk","The White Stripes","The Who","The Witcher (Joey Batey)","The Zutons","TheFatRat feat. Laura Brehm","TheFatRat","Third Eye Blind","Thirty Seconds to Mars","Three Days Grace","Thundercats","Tiffany","Timbaland feat. Keri Hilson","Tina Turner","Tix","TLC","Tokio Hotel","Tom Dice","Tom Jones and Mousse T.","Tom Jones","Tom Odell","Tones And I","Toni Braxton","Tool","Toto","Tove Lo","Tracy Chapman","Train","Travie McCoy feat. Bruno Mars","Troye Sivan","Twenty One Pilots","twenty ne pilts","TWICE","Tyler, The Creator","U2","Ultravox","USA for Africa","Usher & Alicia Keys","Usher feat. Pitbull","Usher feat. will.i.am","Usher & Pitbull","Usher","Utada Hikaru","Vampire Weekend","Van Halen","Vance Joy","Vanessa Carlton","Vanessa Hudgens","Vanessa Williams","Vanilla Ice","Vengaboys","Verka Serduchka","Victoria Justice","Vitamin C","Volbeat","Volbeat feat. Sarah Blackwood","Voyager","Warren Zevon","We Are Domi","Ween","Weezer","Weird Al Yankovic","Westlife","Wham!","Wham","Wheatus","Whitesnake","Whitney Houston","Wicked","Wilbur Soot","Will Ferrell & Rachel McAdams","Will Smith","will.i.am & Britney Spears","will.i.am feat. Eva Simons","will.i.am feat. Justin Bieber","will.i.am","Wilson Phillips","Windows95man","Wiz Khalifa","Wiz Khalifa ft. Charlie Puth","Xavier Rudd","Yazoo","Ylvis","Yohanna","Young The Giant","Zara Larsson","Zara Larsson & MNEK","ZAYN feat. Sia","ZAYN","ZAYN & Taylor Swift","Zedd & Alessia Cara","Zedd feat. Selena Gomez","Zedd & Foxes","Zendaya & Bella Thorne","Zoe Wees","ZZ Top"]`),Nbe=["English","Polish","Korean","Japanese","Spanish","Estonian","German","Swedish","Indonesian","Chinese","French","Ukrainian","Portuguese","Dutch","Italian","Catalan","Finnish","Czech","Norwegian","Croatian","Latin","Icelandic","Serbian","Slovenian","ENGL","Armenian","Romanian","Lithuanian","Latvian"],Lbe=4066,Qh={artists:Bbe,languages:Nbe,songs:Lbe},Fbe=new Intl.NumberFormat(void 0,{maximumFractionDigits:0});function zbe(){const e=Oi();Pl(!0);const t="menu/";ri("enter",()=>{e(t)},[t]);const[n,r]=x.useState(!1);return x.useEffect(()=>{const i=setTimeout(()=>{r(!0)},4e3);return()=>clearTimeout(i)},[]),g.jsxs(g.Fragment,{children:[g.jsx(gs,{children:g.jsx("title",{children:"AllKaraoke.Party - Free Online Karaoke Party Game"})}),g.jsx(DN,{}),g.jsxs("div",{className:"flex flex-col w-[110rem] items-stretch justify-center h-screen gap-12 mx-auto landscap:flex-row landscap:w-full mobile:w-full shadow-active [&_strong]:[text-shadow:_0_0_5rem_var(--tw-shadow-color)] [&_a]:[text-shadow:_0_0_5rem_var(--tw-shadow-color)]",children:[g.jsxs("div",{className:"flex justify-center gap-24 mobile:hidden",children:[g.jsx(GN,{}),g.jsx(i2,{})]}),g.jsx(ki,{to:t,children:g.jsx(B_,{"data-test":"enter-the-game",className:"mobile:hidden",children:"Enter the game"})}),g.jsxs(lu,{className:"gap-24 p-24 flex-row bg-black/75 landscap:flex-1 [&_hr]:my-12 mobile:flex-col",children:[g.jsxs(yj,{children:[g.jsxs("div",{className:"leading-normal text-justify",children:[g.jsx("strong",{children:"AllKaraoke"})," is a free online karaoke game inspired by PlayStation's"," ",g.jsx("strong",{children:"SingStar"}),". Sing along to your favorite songs and compete with your friends, all through the browser! Updated almost weekly with new songs and features."]}),g.jsx("hr",{}),g.jsxs(Ph,{children:[" ",g.jsx("strong",{children:Fbe.format(Qh.songs)})," songs in"," ",g.jsx("strong",{children:Qh.languages.length})," languages",g.jsxs(Vh,{children:["Artists such as"," ",g.jsx("strong",{children:n?g.jsx(i6,{options:{strings:Qh.artists,autoStart:!0,loop:!0,delay:100}}):Qh.artists.at(-1)})]})]}),g.jsxs(Ph,{children:[" Play ",g.jsx("strong",{children:"directly"})," in the browser",g.jsxs(Vh,{children:["No ",g.jsx("strong",{children:"download"})," needed"]})]}),g.jsxs(Ph,{children:[" Use ",g.jsx("strong",{children:"phones"})," as microphones",g.jsx(Vh,{children:"No need to download an app"})]}),g.jsxs(Ph,{children:[" Supports ",g.jsx("strong",{children:"1-4"})," players",g.jsx(Vh,{children:"When using phones as microphones"})]}),g.jsxs(Ph,{children:[" ",g.jsx("strong",{children:"100% Free"})," and open source",g.jsxs(Vh,{children:["Check the"," ",g.jsx("a",{href:"https://github.com/Asvarox/allkaraoke",target:"_blank",rel:"noreferrer",children:"GitHub repository"})]})]})]}),g.jsxs(yj,{className:"gap-16 mobile:flex-row landscap:hidden",children:[g.jsx(Aj,{src:Vbe,alt:"Song list screen",className:"[box-shadow:_0_0_5rem_rgba(114,155,255,0.5)]"}),g.jsx(Aj,{src:Dbe,alt:"In-game screen",className:"[box-shadow:_0_0_10rem_rgb(19,19,19)]"})]})]}),g.jsxs(ps,{className:"mobile:hidden text-md text-right !mt-[-2.5rem]",children:["Using this device as remote microphone?"," ",g.jsx(ki,{to:"remote-mic/",children:g.jsx("a",{"data-test":"join-existing-game",children:"Join existing game"})})]}),g.jsxs("div",{className:"flex flex-col gap-12 landscap:flex-1 [&&_a]:min-h-[30rem] justify-center",children:[g.jsx(ki,{to:"remote-mic/",children:g.jsx(B_,{"data-test":"join-existing-game",className:"hidden mobile:flex",children:g.jsxs("span",{children:["Join game (with ",g.jsx("strong",{children:"Game Code"}),")"]})})}),g.jsx(ki,{to:"quick-setup/",children:g.jsx(B_,{"data-test":"enter-the-game",className:"hidden mobile:flex",children:"Start new game"})})]})]})]})}const Ph=En.div``,Vh=En.div`pt-2 text-right text-[0.7em] [&_.Typewriter]:inline`,yj=En(ps)`flex flex-col flex-1 gap-4 typography text-[2.3rem] mobile:text-[8.5rem] landscap:text-[4.9rem]`,Aj=En.img`w-full aspect-video object-cover shadow-5 border-1 border-black/50 rounded-2xl mobile:w-[calc(50%-2rem)] mobile:h-[50rem]`,B_=En(tN)`text-[9rem] bg-black w-full px-28 py-4 animate-focused`;function $be(){const e=Oi(),t=()=>e("menu/"),{register:n}=dr({onBackspace:t});return g.jsxs(Va,{children:[g.jsx(gs,{children:g.jsx("title",{children:"Manage Songs | AllKaraoke.Party - Free Online Karaoke Party Game"})}),g.jsx("h1",{children:"Manage Songs"}),g.jsx(ki,{to:"exclude-languages/",children:g.jsx(vt,{...n("exclude-languages",()=>e("exclude-languages/")),children:"Select Song Languages"})}),g.jsx(ki,{to:"edit/list/",children:g.jsx(vt,{...n("edit-songs",()=>e("edit/list/")),children:"Edit songs"})}),g.jsx(ki,{to:"convert/",children:g.jsx(vt,{...n("convert-song",()=>e("convert/")),children:"Convert UltraStar .txt"})}),g.jsx("hr",{}),g.jsx(ki,{to:"menu/",children:g.jsx(vt,{...n("back-button",t),children:"Return To Main Menu"})})]})}var Dh={exports:{}},bj;function Ube(){if(bj)return Dh.exports;bj=1,Dh.exports=r,Dh.exports.isMobile=r,Dh.exports.default=r;const e=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,t=/CrOS/,n=/android|ipad|playbook|silk/i;function r(i){i||(i={});let s=i.ua;if(!s&&typeof navigator<"u"&&(s=navigator.userAgent),s&&s.headers&&typeof s.headers["user-agent"]=="string"&&(s=s.headers["user-agent"]),typeof s!="string")return!1;let l=e.test(s)&&!t.test(s)||!!i.tablet&&n.test(s);return!l&&i.tablet&&i.featureDetect&&navigator&&navigator.maxTouchPoints>1&&s.indexOf("Macintosh")!==-1&&s.indexOf("Safari")!==-1&&(l=!0),l}return Dh.exports}var Hbe=Ube();const qbe=Pr(Hbe);function Gbe(){const[,e]=xt(oi),t=async()=>{var n,r;try{e(!0),await document.body.requestFullscreen(),global.screen.orientation.unlock(),await((r=(n=global.screen.orientation).lock)==null?void 0:r.call(n,"landscape"))}catch(i){console.info(i)}};return g.jsx(Dl,{children:g.jsx(Ybe,{children:g.jsxs(Kbe,{children:[g.jsx("h1",{children:"Use Mobile Phone Mode?"}),g.jsx("h3",{children:"The regular version of the game isn't optimal for smaller screens. Enable the Mobile Phone Mode to adjust the UI and gameplay elements. Use this, or connect other mobiles to sing songs."}),g.jsxs("h3",{children:["You can always change the setting in the ",g.jsx("strong",{children:"Settings"})," menu."]}),g.jsx(_j,{focused:!0,onClick:t,"data-test":"enable-mobile-mode",children:"Enable Mobile Phone Mode"}),g.jsx(_j,{onClick:()=>e(!1),"data-test":"dismiss-mobile-mode",children:"Dismiss"})]})})})}const _j=K(vt,{target:"e6hg0672"})({name:"h427ha",styles:"font-size:calc(min(3vw, 4vh));height:auto;padding:calc(min(3vw, 4vh))"}),Ybe=K("div",{target:"e6hg0671"})({name:"wkkrci",styles:"position:fixed;inset:0;display:flex;align-items:center;justify-content:center"}),Kbe=K(cu,{target:"e6hg0670"})({name:"x689zy",styles:"max-width:150rem;padding:calc(min(3vw, 4vh));margin:auto;h1{font-size:calc(min(4vw, 5vh));margin-bottom:0.75em;}h3{font-size:calc(min(3vw, 4vh));line-height:1.25;margin-bottom:1em;}"});function Wbe(){const[e]=xt(oi),t=x.useMemo(()=>qbe(),[]),n=Oi(),r=async i=>{var s,l;if(n("menu/"),e&&document.fullscreenElement===null)try{await document.body.requestFullscreen(),global.screen.orientation.unlock(),await((l=(s=global.screen.orientation).lock)==null?void 0:l.call(s,"landscape"))}catch(c){console.info(c)}};return g.jsxs(g.Fragment,{children:[g.jsx(gs,{children:g.jsx("title",{children:"Select Input | AllKaraoke.Party - Free Online Karaoke Party Game"})}),e===null&&t?g.jsx(Gbe,{}):g.jsx(Va,{children:g.jsx(h2,{onFinish:r,closeButtonText:"Sing a song",smooth:!0})})]})}const wi={INDEX:"",QUICK_SETUP:"quick-setup",GAME:"game",MENU:"menu",JUKEBOX:"jukebox",SELECT_INPUT:"select-input",SETTINGS:"settings",SETTINGS_REMOTE_MICS:"settings/remote-mics",SETTINGS_CALIBRATION:"settings/calibration",REMOTE_MIC:"remote-mic",MANAGE_SONGS:"manage-songs",EXCLUDE_LANGUAGES:"exclude-languages",CONVERT:"convert",EDIT_SONGS_LIST:"edit/list",EDIT_SONG:"edit/song"},Qbe=()=>{const e=Oi();return g.jsx(Va,{children:g.jsx(r6,{onSave:()=>e("settings/")})})};function Xbe(){Nl(!1);const e=Oi(),t=()=>e("settings/"),{register:n}=dr({onBackspace:t}),[r,i]=xt(ov),[s,l]=xt(pV),c=hs(me.inputListChanged,()=>Vt.getRemoteMics()),d=QD();return x.useEffect(()=>Vt.addListener(d),[d]),g.jsxs(Va,{children:[g.jsx("h1",{onClick:()=>{const u=prompt("Code");(u==null?void 0:u.length)===rp-1&&(rD(u),global.location.reload())},children:"Remote Microphone Settings"}),g.jsx(Bs,{...n("connection type",()=>i(jc(i7,r))),label:"Connection type",value:r}),g.jsx("hr",{}),g.jsx(Bs,{...n("default-permission",()=>l(jc(lR,s))),label:"Default permission",info:g.jsxs(g.Fragment,{children:[g.jsx("strong",{children:"WRITE"})," - player is able to navigate the menus remotely and assign themselves and other players to the game.",g.jsx("br",{}),g.jsx("br",{}),g.jsx("strong",{children:"READ"})," - player will only be able to use the device as a microphone and otherwise have no control over the game."]}),value:s.toUpperCase()}),g.jsx("hr",{}),g.jsx("h3",{children:"Connected devices permissions:"}),c.map(u=>{const p=Vt.getPermission(u.id);return g.jsx(e1e,{...n(`mic-${u.id}`,()=>Vt.setPermission(u.id,jc(lR,p)),"Change permissions"),"data-test":"remote-mic-entry","data-id":u.id,value:p,label:g.jsxs(Zbe,{children:[g.jsx(n1e,{children:u.id.slice(-4)}),g.jsx(r1e,{children:g.jsx(Jbe,{deviceId:u.id})}),g.jsx(t1e,{className:"ph-no-capture",children:u.name})]})},u.id)}),c.length===0&&g.jsx("h4",{children:"No remote microphones connected"}),g.jsx("hr",{}),g.jsx(vt,{...n("back-button",t),children:"Return To Settings"})]})}const Jbe=({deviceId:e})=>{const t=CL(e);return t===null?null:g.jsxs(g.Fragment,{children:[t,"ms"]})},Zbe=K("span",{target:"expzhs34"})({name:"50zrmy",styles:"text-transform:uppercase"}),e1e=K(Bs,{target:"expzhs33"})({name:"50zrmy",styles:"text-transform:uppercase"}),t1e=K("span",{target:"expzhs32"})(""),n1e=K("span",{target:"expzhs31"})({name:"1mrl9vb",styles:"font-size:1.5rem;padding-right:1rem"}),r1e=K("span",{target:"expzhs30"})({name:"13smbnv",styles:"font-size:1.5rem;padding-right:2rem;text-transform:none"}),N_=2500,i1e=()=>{const e=[0,...new Array(21).fill(0).map((n,r)=>Math.round(10*(1.2+Math.sin(r/2.5+1.5)))/10).map(n=>Math.round(n/28*N_)).reduce((n,r)=>[...n,(n.at(-1)??0)+r],[])],t=[{offset:"0%",color:Ze.eurovisionPink.text},{offset:"25%",color:Ze.eurovisionYellow.text},{offset:"50%",color:Ze.eurovisionPink.text},{offset:"75%",color:Ze.eurovisionOrange.text},{offset:"100%",color:Ze.eurovisionPink.text}];return g.jsxs("svg",{width:N_,height:N_,version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:[g.jsx("defs",{children:Array.from({length:21},(n,r)=>g.jsx("linearGradient",{id:`grad${r}`,x1:"0%",x2:"0%",y1:`${r*2}%`,y2:`${r*2+100}%`,spreadMethod:"repeat",children:t.map((i,s)=>g.jsx("stop",{offset:i.offset,stopColor:i.color},s))},r))}),Array.from({length:22},(n,r)=>g.jsx("rect",{x:e[r],y:"0",width:(e[r+1]??501)-e[r]+10,height:"100%",fill:`url(#grad${r})`},r))]})},s1e=`<?xml version="1.0" encoding="utf-8"?>
<svg viewBox="0 0 500 500" xmlns="http://www.w3.org/2000/svg">
  <g style="" transform="matrix(1.071942, 0, 0, 1.071942, 1.835104, 30.483427)">
    <path xmlns="http://www.w3.org/2000/svg" d="M 106.909 108.923 C 93.513 122.319 85.385 140.039 83.629 158.623 C 65.934 156.191 48.056 147.884 33.558 133.384 C 2.037 101.864 -1.61 54.425 25.407 27.42 C 52.402 0.403 99.839 4.05 131.36 35.571 C 145.859 50.07 154.167 67.957 156.598 85.654 C 138.025 87.387 120.305 95.527 106.909 108.923 Z M 277.592 279.606 C 284.12 273.076 293.486 270.217 302.56 271.951 L 335.161 304.574 C 344.167 313.579 344.167 328.169 335.161 337.175 C 326.155 346.181 311.566 346.181 302.56 337.175 L 269.937 304.574 C 268.203 295.502 271.062 286.135 277.592 279.606 Z M 172.111 108.923 C 154.167 106.357 136.043 112.402 123.209 125.224 C 110.377 138.057 104.342 156.181 106.909 174.137 L 258.318 295.253 C 259.219 286.383 262.957 277.94 269.441 271.455 C 275.925 264.971 284.368 261.234 293.239 260.333 L 172.111 108.923 Z" style="stroke: rgb(0, 0, 0); fill: rgb(255, 54, 54); stroke-width: 9.32886px; stroke-linejoin: round;"/>
    <path xmlns="http://www.w3.org/2000/svg" d="M 218.755 301.518 C 205.359 288.122 197.231 270.402 195.475 251.818 C 177.78 254.25 159.902 262.557 145.404 277.057 C 113.883 308.577 110.236 356.016 137.253 383.021 C 164.248 410.038 211.685 406.391 243.206 374.87 C 257.705 360.371 266.013 342.484 268.444 324.787 C 249.871 323.054 232.151 314.914 218.755 301.518 Z M 389.438 130.835 C 395.966 137.365 405.332 140.224 414.406 138.49 L 447.007 105.867 C 456.013 96.862 456.013 82.272 447.007 73.266 C 438.001 64.26 423.412 64.26 414.406 73.266 L 381.783 105.867 C 380.049 114.939 382.908 124.306 389.438 130.835 Z M 283.957 301.518 C 266.013 304.084 247.889 298.039 235.055 285.217 C 222.223 272.384 216.188 254.26 218.755 236.304 L 370.164 115.188 C 371.065 124.058 374.803 132.501 381.287 138.986 C 387.771 145.47 396.214 149.207 405.085 150.108 L 283.957 301.518 Z" style="fill: rgb(4, 153, 255); stroke: rgb(0, 0, 0); stroke-width: 9.32886px; stroke-linejoin: round;" transform="matrix(-1, 0, 0, -1, 572.91568, 467.631317)"/>
  </g>
</svg>`;function o1e(){return Pl(!1),g.jsxs(Dl,{children:[g.jsxs(a1e,{children:[g.jsx(l1e,{dangerouslySetInnerHTML:{__html:s1e}}),g.jsx(s6,{children:g.jsx(NI,{})})]}),g.jsxs(u1e,{children:[g.jsx(c1e,{children:g.jsx(NI,{})}),g.jsx(i2,{}),g.jsx(d1e,{src:AL,alt:"Eurovision"})]}),g.jsx(i1e,{})]})}const a1e=K("div",{target:"e1bt4f566"})({name:"yc537h",styles:"width:400px;aspect-ratio:1/1;position:relative;padding:30px"}),s6=K("div",{target:"e1bt4f565"})(`display:flex;position:absolute;inset:0;z-index:-1;div{background-image:linear-gradient(
      0deg,
      `,Ze.eurovisionViolet.text,`,
      `,Ze.eurovisionBlue.text,`,
      `,Ze.eurovisionYellow.text,`,
      `,Ze.eurovisionBlue.text,`,
      `,Ze.eurovisionViolet.text,`
    );}`),l1e=K("svg",{target:"e1bt4f564"})("width:400px;aspect-ratio:1/1;object-fit:contain;filter:drop-shadow(0 0 10px rgb(0 0 0 / 0.6));path:nth-of-type(1){fill:",Ze.red.text,"!important;}path:nth-of-type(2){fill:",Ze.blue.text,"!important;}"),c1e=K(s6,{target:"e1bt4f563"})(`div{background-image:linear-gradient(
      0deg,
      `,Ze.eurovisionPink.text,`,
      `,Ze.eurovisionOrange.text,`,
      `,Ze.eurovisionYellow.text,`,
      `,Ze.eurovisionPink.text,`
    );}`),u1e=K("div",{target:"e1bt4f562"})(`overflow:hidden;position:relative;height:calc(693px / 1);width:calc(2048px / 1);transform:scale(1);background-color:black;background-image:linear-gradient(
    120deg,
    `,Ze.red.stroke,`,
    `,Ze.red.hit.fill,` 49.9%,
    `,Ze.blue.hit.fill,` 50.1%,
    `,Ze.blue.stroke,`
  );display:flex;align-items:center;justify-content:center;div{}`),d1e=K("img",{target:"e1bt4f561"})({name:"1go3sm",styles:"margin-left:4rem;transform:scale(1.5)"}),f1e=(e,t)=>`
<iframe src="https://www.facebook.com/plugins/page.php?href=https%3A%2F%2Fwww.facebook.com%2Fallkaraoke.party&${Object.entries({show_posts:!0,width:e,height:t,small_header:!0,adapt_container_width:!0,hide_cover:!1,show_facepile:!1,appId:530120230391395}).map(([i,s])=>`${i}=${String(s)}`).join("&")}" width="${e}" height="${t}" style="border:none;overflow:hidden" scrolling="no" frameborder="0" allowfullscreen="true" allow="autoplay; clipboard-write; encrypted-media; picture-in-picture; web-share"></iframe>
`;function h1e(){const[e]=xt(oi),[t,n]=x.useState(!1),[r,i]=x.useState(180),s=x.useCallback(l=>{i(Math.round(l==null?void 0:l.getBoundingClientRect().width)??200)},[]);return x.useEffect(()=>{const l=setTimeout(()=>{n(!0)},750);return()=>{clearTimeout(l)}},[]),g.jsxs(p1e,{"data-small":!!e,show:t,children:[g.jsx("div",{dangerouslySetInnerHTML:{__html:f1e(450,750)},style:{height:750*(r/350),width:"100%",transformOrigin:"left top",transform:`scale(${r/450})`}}),g.jsx("h5",{ref:s,children:"Get updates, and help by suggesting features and reporting bugs."})]})}const p1e=K(cu,{target:"e1zzmv40"})("transition:1000ms;opacity:",e=>e.show?1:0,";position:absolute;top:2rem;right:10rem;width:37rem;margin:0;text-decoration:none;text-align:justify;&[data-small='true'] &{width:25rem;right:1rem;h2{font-size:1.5rem;}h5{font-size:1.15rem;}}view-transition-name:fb-notification;");function g1e(){Pl(!0);const e=Oi();Nl(!1);const{register:t}=dr();return g.jsxs(Va,{children:[g.jsxs(gs,{children:[g.jsx("title",{children:"Main Menu | AllKaraoke.Party - Free Online Karaoke Party Game"}),g.jsx("link",{rel:"preload",href:"/songs/index.json",as:"fetch",type:"application/json",crossOrigin:"anonymous"}),g.jsx("link",{rel:"preload",href:"/mostPopularSongs.json",as:"fetch",type:"application/json",crossOrigin:"anonymous"})]}),g.jsxs(m1e,{children:[g.jsxs("span",{children:["Bpm data and release year provided by"," ",g.jsx("a",{target:"_blank",href:"https://getsongbpm.com/",rel:"noreferrer",children:"GetSongBPM"})]}),g.jsx("span",{children:"Song: Funk Cool Groove (Music Today 80)"}),g.jsx("span",{children:" Composed & Produced by : Anwar Amr"}),g.jsxs("span",{children:[" Video Link:"," ",g.jsx("a",{href:"https://youtu.be/FGzzBbYRjFY",target:"_blank",rel:"noreferrer",children:"https://youtu.be/FGzzBbYRjFY"})]})]}),g.jsx(h1e,{}),g.jsxs(g.Fragment,{children:[g.jsx(ki,{to:"game/",children:g.jsx(jt.Button,{...t("sing-a-song",()=>e("game/")),children:"Sing a song"})}),g.jsx(ki,{to:"select-input/",children:g.jsx(jt.Button,{...t("select-input",()=>e("select-input/")),children:"Setup Microphones"})}),g.jsx(ki,{to:"settings/",children:g.jsx(jt.Button,{...t("settings",()=>e("settings/")),children:"Settings"})}),g.jsx(ki,{to:"jukebox/",children:g.jsx(jt.Button,{...t("jukebox",()=>e("jukebox/")),children:"Jukebox"})}),g.jsx(ki,{to:"manage-songs/",children:g.jsx(jt.Button,{...t("manage-songs",()=>e("manage-songs/")),children:"Manage Songs"})})]})]})}const m1e=K("div",{target:"e1g7uwpd0"})(Ot,";text-decoration:none;flex-direction:column;display:flex;font-size:1.5rem;gap:1.25rem;opacity:0.85;position:absolute;bottom:4rem;left:1rem;view-transition-name:background-music-credit;"),v1e=x.lazy(()=>uf(()=>import("./SongManagement-vte2jF8Q.js"),[]).then(e=>({default:e.SongList})));function y1e(){xt(oi);const[e]=xt(Vs),t=x.useMemo(()=>OE({graphicSetting:e}),[e]);return g.jsx(Ade,{theme:t,children:g.jsx(Ow,{fallback:bme,children:g.jsx(Are,{children:g.jsx(lre,{children:g.jsx(ble,{base:"/",children:g.jsxs(_le,{children:[g.jsx(Xr,{path:wi.QUICK_SETUP,component:Wbe}),g.jsx(Xr,{path:wi.MENU,component:g1e}),g.jsx(Xr,{path:wi.EXCLUDE_LANGUAGES,component:xme}),g.jsx(Xr,{path:wi.JUKEBOX,component:$ge}),g.jsx(Xr,{path:wi.GAME,children:g.jsx(Pbe,{})}),g.jsx(Xr,{path:wi.SELECT_INPUT,component:Ame}),g.jsx(Xr,{path:wi.SETTINGS,component:rhe}),g.jsx(Xr,{path:wi.SETTINGS_REMOTE_MICS,component:Xbe}),g.jsx(Xr,{path:wi.SETTINGS_CALIBRATION,component:Qbe}),g.jsx(Xr,{path:wi.REMOTE_MIC,component:Sfe}),g.jsx(Xr,{path:wi.MANAGE_SONGS,component:$be}),g.jsx(Xr,{path:"social-media-elements",component:o1e}),g.jsx(Xr,{path:wi.CONVERT,component:()=>g.jsx(dhe,{})}),g.jsx(Xr,{path:wi.EDIT_SONGS_LIST,component:()=>g.jsx(x.Suspense,{fallback:g.jsx(KN,{}),children:g.jsx(v1e,{})})}),g.jsx(Xr,{path:"edit/get-songs-bpms",component:Sme}),g.jsx(Xr,{path:wi.EDIT_SONG,children:g.jsx(zpe,{})}),g.jsx(Xr,{path:wi.INDEX,component:zbe})]})})})})})})}const A1e=SY(y1e),b1e=["AbortError: Version change transaction was aborted in upgradeneeded event handler.","The object can not be found here.","Document is hidden.","Failed to register a ServiceWorker for scope ('https://allkaraoke.party/') with script","NotAllowedError: Permission denied by system","ResizeObserver loop limit exceeded","ResizeObserver loop completed with undelivered notifications.","NotAllowedError: Document is not focused.","Error: Socket was destroyed!",/TypeError: Failed to fetch/,"top.GLOBALS","originalCreateNotification","canvas.contentDocument","MyApp_RemoveAllHighlights","http://tt.epicplay.com","Can't find variable: ZiteReader","jigsaw is not defined","ComboSearch is not defined","http://loading.retry.widdit.com/","atomicFindClose","fb_xd_fragment","bmi_SafeAddOnload","EBCallBackMessageReceived","conduitPage"];var L_={exports:{}},Bh={},F_={exports:{}},z_={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sj;function _1e(){return Sj||(Sj=1,function(e){function t(D,W){var Q=D.length;D.push(W);e:for(;0<Q;){var J=Q-1>>>1,B=D[J];if(0<i(B,W))D[J]=W,D[Q]=B,Q=J;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var W=D[0],Q=D.pop();if(Q!==W){D[0]=Q;e:for(var J=0,B=D.length,G=B>>>1;J<G;){var ee=2*(J+1)-1,ue=D[ee],F=ee+1,ge=D[F];if(0>i(ue,Q))F<B&&0>i(ge,ue)?(D[J]=ge,D[F]=Q,J=F):(D[J]=ue,D[ee]=Q,J=ee);else if(F<B&&0>i(ge,Q))D[J]=ge,D[F]=Q,J=F;else break e}}return W}function i(D,W){var Q=D.sortIndex-W.sortIndex;return Q!==0?Q:D.id-W.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var l=Date,c=l.now();e.unstable_now=function(){return l.now()-c}}var d=[],u=[],p=1,h=null,v=3,y=!1,b=!1,_=!1,w=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function R(D){for(var W=n(u);W!==null;){if(W.callback===null)r(u);else if(W.startTime<=D)r(u),W.sortIndex=W.expirationTime,t(d,W);else break;W=n(u)}}function M(D){if(_=!1,R(D),!b)if(n(d)!==null)b=!0,q();else{var W=n(u);W!==null&&H(M,W.startTime-D)}}var E=!1,O=-1,j=5,P=-1;function V(){return!(e.unstable_now()-P<j)}function C(){if(E){var D=e.unstable_now();P=D;var W=!0;try{e:{b=!1,_&&(_=!1,T(O),O=-1),y=!0;var Q=v;try{t:{for(R(D),h=n(d);h!==null&&!(h.expirationTime>D&&V());){var J=h.callback;if(typeof J=="function"){h.callback=null,v=h.priorityLevel;var B=J(h.expirationTime<=D);if(D=e.unstable_now(),typeof B=="function"){h.callback=B,R(D),W=!0;break t}h===n(d)&&r(d),R(D)}else r(d);h=n(d)}if(h!==null)W=!0;else{var G=n(u);G!==null&&H(M,G.startTime-D),W=!1}}break e}finally{h=null,v=Q,y=!1}W=void 0}}finally{W?N():E=!1}}}var N;if(typeof k=="function")N=function(){k(C)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,L=U.port2;U.port1.onmessage=C,N=function(){L.postMessage(null)}}else N=function(){w(C,0)};function q(){E||(E=!0,N())}function H(D,W){O=w(function(){D(e.unstable_now())},W)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){b||y||(b=!0,q())},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return n(d)},e.unstable_next=function(D){switch(v){case 1:case 2:case 3:var W=3;break;default:W=v}var Q=v;v=W;try{return D()}finally{v=Q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,W){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var Q=v;v=D;try{return W()}finally{v=Q}},e.unstable_scheduleCallback=function(D,W,Q){var J=e.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?J+Q:J):Q=J,D){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=Q+B,D={id:p++,callback:W,priorityLevel:D,startTime:Q,expirationTime:B,sortIndex:-1},Q>J?(D.sortIndex=Q,t(u,D),n(d)===null&&D===n(u)&&(_?(T(O),O=-1):_=!0,H(M,Q-J))):(D.sortIndex=B,t(d,D),b||y||(b=!0,q())),D},e.unstable_shouldYield=V,e.unstable_wrapCallback=function(D){var W=v;return function(){var Q=v;v=W;try{return D.apply(this,arguments)}finally{v=Q}}}}(z_)),z_}var xj;function S1e(){return xj||(xj=1,F_.exports=_1e()),F_.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wj;function x1e(){if(wj)return Bh;wj=1;var e=S1e(),t=Jc(),n=FB();function r(o){var a="https://react.dev/errors/"+o;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)a+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+o+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}var s=Symbol.for("react.element"),l=Symbol.for("react.transitional.element"),c=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),h=Symbol.for("react.provider"),v=Symbol.for("react.consumer"),y=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),w=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),R=Symbol.for("react.offscreen"),M=Symbol.for("react.memo_cache_sentinel"),E=Symbol.iterator;function O(o){return o===null||typeof o!="object"?null:(o=E&&o[E]||o["@@iterator"],typeof o=="function"?o:null)}var j=Symbol.for("react.client.reference");function P(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===j?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case d:return"Fragment";case c:return"Portal";case p:return"Profiler";case u:return"StrictMode";case _:return"Suspense";case w:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case y:return(o.displayName||"Context")+".Provider";case v:return(o._context.displayName||"Context")+".Consumer";case b:var a=o.render;return o=o.displayName,o||(o=a.displayName||a.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case T:return a=o.displayName||null,a!==null?a:P(o.type)||"Memo";case k:a=o._payload,o=o._init;try{return P(o(a))}catch{}}return null}var V=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,C=Object.assign,N,U;function L(o){if(N===void 0)try{throw Error()}catch(f){var a=f.stack.trim().match(/\n( *(at )?)/);N=a&&a[1]||"",U=-1<f.stack.indexOf(`
    at`)?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return`
`+N+o+U}var q=!1;function H(o,a){if(!o||q)return"";q=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(a){var Te=function(){throw Error()};if(Object.defineProperty(Te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Te,[])}catch(Ae){var he=Ae}Reflect.construct(o,[],Te)}else{try{Te.call()}catch(Ae){he=Ae}o.call(Te.prototype)}}else{try{throw Error()}catch(Ae){he=Ae}(Te=o())&&typeof Te.catch=="function"&&Te.catch(function(){})}}catch(Ae){if(Ae&&he&&typeof Ae.stack=="string")return[Ae.stack,he.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var A=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");A&&A.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var S=m.DetermineComponentFrameRoot(),I=S[0],z=S[1];if(I&&z){var X=I.split(`
`),ie=z.split(`
`);for(A=m=0;m<X.length&&!X[m].includes("DetermineComponentFrameRoot");)m++;for(;A<ie.length&&!ie[A].includes("DetermineComponentFrameRoot");)A++;if(m===X.length||A===ie.length)for(m=X.length-1,A=ie.length-1;1<=m&&0<=A&&X[m]!==ie[A];)A--;for(;1<=m&&0<=A;m--,A--)if(X[m]!==ie[A]){if(m!==1||A!==1)do if(m--,A--,0>A||X[m]!==ie[A]){var be=`
`+X[m].replace(" at new "," at ");return o.displayName&&be.includes("<anonymous>")&&(be=be.replace("<anonymous>",o.displayName)),be}while(1<=m&&0<=A);break}}}finally{q=!1,Error.prepareStackTrace=f}return(f=o?o.displayName||o.name:"")?L(f):""}function D(o){switch(o.tag){case 26:case 27:case 5:return L(o.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 15:return o=H(o.type,!1),o;case 11:return o=H(o.type.render,!1),o;case 1:return o=H(o.type,!0),o;default:return""}}function W(o){try{var a="";do a+=D(o),o=o.return;while(o);return a}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}function Q(o){var a=o,f=o;if(o.alternate)for(;a.return;)a=a.return;else{o=a;do a=o,a.flags&4098&&(f=a.return),o=a.return;while(o)}return a.tag===3?f:null}function J(o){if(o.tag===13){var a=o.memoizedState;if(a===null&&(o=o.alternate,o!==null&&(a=o.memoizedState)),a!==null)return a.dehydrated}return null}function B(o){if(Q(o)!==o)throw Error(r(188))}function G(o){var a=o.alternate;if(!a){if(a=Q(o),a===null)throw Error(r(188));return a!==o?null:o}for(var f=o,m=a;;){var A=f.return;if(A===null)break;var S=A.alternate;if(S===null){if(m=A.return,m!==null){f=m;continue}break}if(A.child===S.child){for(S=A.child;S;){if(S===f)return B(A),o;if(S===m)return B(A),a;S=S.sibling}throw Error(r(188))}if(f.return!==m.return)f=A,m=S;else{for(var I=!1,z=A.child;z;){if(z===f){I=!0,f=A,m=S;break}if(z===m){I=!0,m=A,f=S;break}z=z.sibling}if(!I){for(z=S.child;z;){if(z===f){I=!0,f=S,m=A;break}if(z===m){I=!0,m=S,f=A;break}z=z.sibling}if(!I)throw Error(r(189))}}if(f.alternate!==m)throw Error(r(190))}if(f.tag!==3)throw Error(r(188));return f.stateNode.current===f?o:a}function ee(o){var a=o.tag;if(a===5||a===26||a===27||a===6)return o;for(o=o.child;o!==null;){if(a=ee(o),a!==null)return a;o=o.sibling}return null}var ue=Array.isArray,F=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},se=[],Se=-1;function Me(o){return{current:o}}function Re(o){0>Se||(o.current=se[Se],se[Se]=null,Se--)}function ve(o,a){Se++,se[Se]=o.current,o.current=a}var je=Me(null),Ge=Me(null),$e=Me(null),De=Me(null);function Ve(o,a){switch(ve($e,a),ve(Ge,o),ve(je,null),o=a.nodeType,o){case 9:case 11:a=(a=a.documentElement)&&(a=a.namespaceURI)?dk(a):0;break;default:if(o=o===8?a.parentNode:a,a=o.tagName,o=o.namespaceURI)o=dk(o),a=fk(o,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}Re(je),ve(je,a)}function ot(){Re(je),Re(Ge),Re($e)}function ft(o){o.memoizedState!==null&&ve(De,o);var a=je.current,f=fk(a,o.type);a!==f&&(ve(Ge,o),ve(je,f))}function Be(o){Ge.current===o&&(Re(je),Re(Ge)),De.current===o&&(Re(De),dh._currentValue=ge)}var ut=Object.prototype.hasOwnProperty,en=e.unstable_scheduleCallback,pn=e.unstable_cancelCallback,sn=e.unstable_shouldYield,qe=e.unstable_requestPaint,pt=e.unstable_now,un=e.unstable_getCurrentPriorityLevel,on=e.unstable_ImmediatePriority,yt=e.unstable_UserBlockingPriority,lt=e.unstable_NormalPriority,rt=e.unstable_LowPriority,Ct=e.unstable_IdlePriority,Nn=e.log,Ut=e.unstable_setDisableYieldValue,bt=null,Nt=null;function Ln(o){if(Nt&&typeof Nt.onCommitFiberRoot=="function")try{Nt.onCommitFiberRoot(bt,o,void 0,(o.current.flags&128)===128)}catch{}}function Jt(o){if(typeof Nn=="function"&&Ut(o),Nt&&typeof Nt.setStrictMode=="function")try{Nt.setStrictMode(bt,o)}catch{}}var mt=Math.clz32?Math.clz32:Gn,fr=Math.log,Vr=Math.LN2;function Gn(o){return o>>>=0,o===0?32:31-(fr(o)/Vr|0)|0}var qr=128,Dr=4194304;function Lt(o){var a=o&42;if(a!==0)return a;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function Tn(o,a){var f=o.pendingLanes;if(f===0)return 0;var m=0,A=o.suspendedLanes,S=o.pingedLanes,I=o.warmLanes;o=o.finishedLanes!==0;var z=f&134217727;return z!==0?(f=z&~A,f!==0?m=Lt(f):(S&=z,S!==0?m=Lt(S):o||(I=z&~I,I!==0&&(m=Lt(I))))):(z=f&~A,z!==0?m=Lt(z):S!==0?m=Lt(S):o||(I=f&~I,I!==0&&(m=Lt(I)))),m===0?0:a!==0&&a!==m&&!(a&A)&&(A=m&-m,I=a&-a,A>=I||A===32&&(I&4194176)!==0)?a:m}function Xe(o,a){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&a)===0}function kt(o,a){switch(o){case 1:case 2:case 4:case 8:return a+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hr(){var o=qr;return qr<<=1,!(qr&4194176)&&(qr=128),o}function ai(){var o=Dr;return Dr<<=1,!(Dr&62914560)&&(Dr=4194304),o}function Le(o){for(var a=[],f=0;31>f;f++)a.push(o);return a}function it(o,a){o.pendingLanes|=a,a!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function ht(o,a,f,m,A,S){var I=o.pendingLanes;o.pendingLanes=f,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=f,o.entangledLanes&=f,o.errorRecoveryDisabledLanes&=f,o.shellSuspendCounter=0;var z=o.entanglements,X=o.expirationTimes,ie=o.hiddenUpdates;for(f=I&~f;0<f;){var be=31-mt(f),Te=1<<be;z[be]=0,X[be]=-1;var he=ie[be];if(he!==null)for(ie[be]=null,be=0;be<he.length;be++){var Ae=he[be];Ae!==null&&(Ae.lane&=-536870913)}f&=~Te}m!==0&&Yn(o,m,0),S!==0&&A===0&&o.tag!==0&&(o.suspendedLanes|=S&~(I&~a))}function Yn(o,a,f){o.pendingLanes|=a,o.suspendedLanes&=~a;var m=31-mt(a);o.entangledLanes|=a,o.entanglements[m]=o.entanglements[m]|1073741824|f&4194218}function pr(o,a){var f=o.entangledLanes|=a;for(o=o.entanglements;f;){var m=31-mt(f),A=1<<m;A&a|o[m]&a&&(o[m]|=a),f&=~A}}function li(o){return o&=-o,2<o?8<o?o&134217727?32:268435456:8:2}function Ai(){var o=F.p;return o!==0?o:(o=window.event,o===void 0?32:Rk(o.type))}function Mr(o,a){var f=F.p;try{return F.p=o,a()}finally{F.p=f}}var Kn=Math.random().toString(36).slice(2),_t="__reactFiber$"+Kn,tr="__reactProps$"+Kn,mo="__reactContainer$"+Kn,Da="__reactEvents$"+Kn,du="__reactListeners$"+Kn,fu="__reactHandles$"+Kn,Ll="__reactResources$"+Kn,Qt="__reactMarker$"+Kn;function bi(o){delete o[_t],delete o[tr],delete o[Da],delete o[du],delete o[fu]}function Yi(o){var a=o[_t];if(a)return a;for(var f=o.parentNode;f;){if(a=f[mo]||f[_t]){if(f=a.alternate,a.child!==null||f!==null&&f.child!==null)for(o=gk(o);o!==null;){if(f=o[_t])return f;o=gk(o)}return a}o=f,f=o.parentNode}return null}function ji(o){if(o=o[_t]||o[mo]){var a=o.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return o}return null}function Lo(o){var a=o.tag;if(a===5||a===26||a===27||a===6)return o.stateNode;throw Error(r(33))}function Ki(o){var a=o[Ll];return a||(a=o[Ll]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Fn(o){o[Qt]=!0}var _f=new Set,Fo={};function zo(o,a){Ws(o,a),Ws(o+"Capture",a)}function Ws(o,a){for(Fo[o]=a,o=0;o<a.length;o++)_f.add(a[o])}var Wi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),tA=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),lg={},hu={};function nA(o){return ut.call(hu,o)?!0:ut.call(lg,o)?!1:tA.test(o)?hu[o]=!0:(lg[o]=!0,!1)}function pu(o,a,f){if(nA(a))if(f===null)o.removeAttribute(a);else{switch(typeof f){case"undefined":case"function":case"symbol":o.removeAttribute(a);return;case"boolean":var m=a.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){o.removeAttribute(a);return}}o.setAttribute(a,""+f)}}function $(o,a,f){if(f===null)o.removeAttribute(a);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(a);return}o.setAttribute(a,""+f)}}function Z(o,a,f,m){if(m===null)o.removeAttribute(f);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(f);return}o.setAttributeNS(a,f,""+m)}}function Y(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function re(o){var a=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function le(o){var a=re(o)?"checked":"value",f=Object.getOwnPropertyDescriptor(o.constructor.prototype,a),m=""+o[a];if(!o.hasOwnProperty(a)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var A=f.get,S=f.set;return Object.defineProperty(o,a,{configurable:!0,get:function(){return A.call(this)},set:function(I){m=""+I,S.call(this,I)}}),Object.defineProperty(o,a,{enumerable:f.enumerable}),{getValue:function(){return m},setValue:function(I){m=""+I},stopTracking:function(){o._valueTracker=null,delete o[a]}}}}function te(o){o._valueTracker||(o._valueTracker=le(o))}function _e(o){if(!o)return!1;var a=o._valueTracker;if(!a)return!0;var f=a.getValue(),m="";return o&&(m=re(o)?o.checked?"true":"false":o.value),o=m,o!==f?(a.setValue(o),!0):!1}function Ee(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var Ie=/[\n"\\]/g;function Ce(o){return o.replace(Ie,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Pe(o,a,f,m,A,S,I,z){o.name="",I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?o.type=I:o.removeAttribute("type"),a!=null?I==="number"?(a===0&&o.value===""||o.value!=a)&&(o.value=""+Y(a)):o.value!==""+Y(a)&&(o.value=""+Y(a)):I!=="submit"&&I!=="reset"||o.removeAttribute("value"),a!=null?wt(o,I,Y(a)):f!=null?wt(o,I,Y(f)):m!=null&&o.removeAttribute("value"),A==null&&S!=null&&(o.defaultChecked=!!S),A!=null&&(o.checked=A&&typeof A!="function"&&typeof A!="symbol"),z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"?o.name=""+Y(z):o.removeAttribute("name")}function We(o,a,f,m,A,S,I,z){if(S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(o.type=S),a!=null||f!=null){if(!(S!=="submit"&&S!=="reset"||a!=null))return;f=f!=null?""+Y(f):"",a=a!=null?""+Y(a):f,z||a===o.value||(o.value=a),o.defaultValue=a}m=m??A,m=typeof m!="function"&&typeof m!="symbol"&&!!m,o.checked=z?o.checked:!!m,o.defaultChecked=!!m,I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(o.name=I)}function wt(o,a,f){a==="number"&&Ee(o.ownerDocument)===o||o.defaultValue===""+f||(o.defaultValue=""+f)}function Ft(o,a,f,m){if(o=o.options,a){a={};for(var A=0;A<f.length;A++)a["$"+f[A]]=!0;for(f=0;f<o.length;f++)A=a.hasOwnProperty("$"+o[f].value),o[f].selected!==A&&(o[f].selected=A),A&&m&&(o[f].defaultSelected=!0)}else{for(f=""+Y(f),a=null,A=0;A<o.length;A++){if(o[A].value===f){o[A].selected=!0,m&&(o[A].defaultSelected=!0);return}a!==null||o[A].disabled||(a=o[A])}a!==null&&(a.selected=!0)}}function tn(o,a,f){if(a!=null&&(a=""+Y(a),a!==o.value&&(o.value=a),f==null)){o.defaultValue!==a&&(o.defaultValue=a);return}o.defaultValue=f!=null?""+Y(f):""}function Wn(o,a,f,m){if(a==null){if(m!=null){if(f!=null)throw Error(r(92));if(ue(m)){if(1<m.length)throw Error(r(93));m=m[0]}f=m}f==null&&(f=""),a=f}f=Y(a),o.defaultValue=f,m=o.textContent,m===f&&m!==""&&m!==null&&(o.value=m)}function mn(o,a){if(a){var f=o.firstChild;if(f&&f===o.lastChild&&f.nodeType===3){f.nodeValue=a;return}}o.textContent=a}var Pi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ba(o,a,f){var m=a.indexOf("--")===0;f==null||typeof f=="boolean"||f===""?m?o.setProperty(a,""):a==="float"?o.cssFloat="":o[a]="":m?o.setProperty(a,f):typeof f!="number"||f===0||Pi.has(a)?a==="float"?o.cssFloat=f:o[a]=(""+f).trim():o[a]=f+"px"}function gu(o,a,f){if(a!=null&&typeof a!="object")throw Error(r(62));if(o=o.style,f!=null){for(var m in f)!f.hasOwnProperty(m)||a!=null&&a.hasOwnProperty(m)||(m.indexOf("--")===0?o.setProperty(m,""):m==="float"?o.cssFloat="":o[m]="");for(var A in a)m=a[A],a.hasOwnProperty(A)&&f[A]!==m&&Ba(o,A,m)}else for(var S in a)a.hasOwnProperty(S)&&Ba(o,S,a[S])}function Sf(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),b2=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function mu(o){return b2.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}var wf=null;function vu(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var yu=null,Au=null;function _2(o){var a=ji(o);if(a&&(o=a.stateNode)){var f=o[tr]||null;e:switch(o=a.stateNode,a.type){case"input":if(Pe(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name),a=f.name,f.type==="radio"&&a!=null){for(f=o;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll('input[name="'+Ce(""+a)+'"][type="radio"]'),a=0;a<f.length;a++){var m=f[a];if(m!==o&&m.form===o.form){var A=m[tr]||null;if(!A)throw Error(r(90));Pe(m,A.value,A.defaultValue,A.defaultValue,A.checked,A.defaultChecked,A.type,A.name)}}for(a=0;a<f.length;a++)m=f[a],m.form===o.form&&_e(m)}break e;case"textarea":tn(o,f.value,f.defaultValue);break e;case"select":a=f.value,a!=null&&Ft(o,!!f.multiple,a,!1)}}}var rA=!1;function S2(o,a,f){if(rA)return o(a,f);rA=!0;try{var m=o(a);return m}finally{if(rA=!1,(yu!==null||Au!==null)&&(qg(),yu&&(a=yu,o=Au,Au=yu=null,_2(a),o)))for(a=0;a<o.length;a++)_2(o[a])}}function Ef(o,a){var f=o.stateNode;if(f===null)return null;var m=f[tr]||null;if(m===null)return null;f=m[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(o=o.type,m=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!m;break e;default:o=!1}if(o)return null;if(f&&typeof f!="function")throw Error(r(231,a,typeof f));return f}var iA=!1;if(Wi)try{var Tf={};Object.defineProperty(Tf,"passive",{get:function(){iA=!0}}),window.addEventListener("test",Tf,Tf),window.removeEventListener("test",Tf,Tf)}catch{iA=!1}var Na=null,sA=null,cg=null;function x2(){if(cg)return cg;var o,a=sA,f=a.length,m,A="value"in Na?Na.value:Na.textContent,S=A.length;for(o=0;o<f&&a[o]===A[o];o++);var I=f-o;for(m=1;m<=I&&a[f-m]===A[S-m];m++);return cg=A.slice(o,1<m?1-m:void 0)}function ug(o){var a=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&a===13&&(o=13)):o=a,o===10&&(o=13),32<=o||o===13?o:0}function dg(){return!0}function w2(){return!1}function Vi(o){function a(f,m,A,S,I){this._reactName=f,this._targetInst=A,this.type=m,this.nativeEvent=S,this.target=I,this.currentTarget=null;for(var z in o)o.hasOwnProperty(z)&&(f=o[z],this[z]=f?f(S):S[z]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?dg:w2,this.isPropagationStopped=w2,this}return C(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=dg)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=dg)},persist:function(){},isPersistent:dg}),a}var Fl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fg=Vi(Fl),Cf=C({},Fl,{view:0,detail:0}),o6=Vi(Cf),oA,aA,kf,hg=C({},Cf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cA,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==kf&&(kf&&o.type==="mousemove"?(oA=o.screenX-kf.screenX,aA=o.screenY-kf.screenY):aA=oA=0,kf=o),oA)},movementY:function(o){return"movementY"in o?o.movementY:aA}}),E2=Vi(hg),a6=C({},hg,{dataTransfer:0}),l6=Vi(a6),c6=C({},Cf,{relatedTarget:0}),lA=Vi(c6),u6=C({},Fl,{animationName:0,elapsedTime:0,pseudoElement:0}),d6=Vi(u6),f6=C({},Fl,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),h6=Vi(f6),p6=C({},Fl,{data:0}),T2=Vi(p6),g6={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},m6={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},v6={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function y6(o){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(o):(o=v6[o])?!!a[o]:!1}function cA(){return y6}var A6=C({},Cf,{key:function(o){if(o.key){var a=g6[o.key]||o.key;if(a!=="Unidentified")return a}return o.type==="keypress"?(o=ug(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?m6[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cA,charCode:function(o){return o.type==="keypress"?ug(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?ug(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),b6=Vi(A6),_6=C({},hg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),C2=Vi(_6),S6=C({},Cf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cA}),x6=Vi(S6),w6=C({},Fl,{propertyName:0,elapsedTime:0,pseudoElement:0}),E6=Vi(w6),T6=C({},hg,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),C6=Vi(T6),k6=C({},Fl,{newState:0,oldState:0}),M6=Vi(k6),R6=[9,13,27,32],uA=Wi&&"CompositionEvent"in window,Mf=null;Wi&&"documentMode"in document&&(Mf=document.documentMode);var I6=Wi&&"TextEvent"in window&&!Mf,k2=Wi&&(!uA||Mf&&8<Mf&&11>=Mf),M2=" ",R2=!1;function I2(o,a){switch(o){case"keyup":return R6.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function O2(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var bu=!1;function O6(o,a){switch(o){case"compositionend":return O2(a);case"keypress":return a.which!==32?null:(R2=!0,M2);case"textInput":return o=a.data,o===M2&&R2?null:o;default:return null}}function j6(o,a){if(bu)return o==="compositionend"||!uA&&I2(o,a)?(o=x2(),cg=sA=Na=null,bu=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return k2&&a.locale!=="ko"?null:a.data;default:return null}}var P6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function j2(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a==="input"?!!P6[o.type]:a==="textarea"}function P2(o,a,f,m){yu?Au?Au.push(m):Au=[m]:yu=m,a=Qg(a,"onChange"),0<a.length&&(f=new fg("onChange","change",null,f,m),o.push({event:f,listeners:a}))}var Rf=null,If=null;function V6(o){ok(o,0)}function pg(o){var a=Lo(o);if(_e(a))return o}function V2(o,a){if(o==="change")return a}var D2=!1;if(Wi){var dA;if(Wi){var fA="oninput"in document;if(!fA){var B2=document.createElement("div");B2.setAttribute("oninput","return;"),fA=typeof B2.oninput=="function"}dA=fA}else dA=!1;D2=dA&&(!document.documentMode||9<document.documentMode)}function N2(){Rf&&(Rf.detachEvent("onpropertychange",L2),If=Rf=null)}function L2(o){if(o.propertyName==="value"&&pg(If)){var a=[];P2(a,If,o,vu(o)),S2(V6,a)}}function D6(o,a,f){o==="focusin"?(N2(),Rf=a,If=f,Rf.attachEvent("onpropertychange",L2)):o==="focusout"&&N2()}function B6(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return pg(If)}function N6(o,a){if(o==="click")return pg(a)}function L6(o,a){if(o==="input"||o==="change")return pg(a)}function F6(o,a){return o===a&&(o!==0||1/o===1/a)||o!==o&&a!==a}var Qi=typeof Object.is=="function"?Object.is:F6;function Of(o,a){if(Qi(o,a))return!0;if(typeof o!="object"||o===null||typeof a!="object"||a===null)return!1;var f=Object.keys(o),m=Object.keys(a);if(f.length!==m.length)return!1;for(m=0;m<f.length;m++){var A=f[m];if(!ut.call(a,A)||!Qi(o[A],a[A]))return!1}return!0}function F2(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function z2(o,a){var f=F2(o);o=0;for(var m;f;){if(f.nodeType===3){if(m=o+f.textContent.length,o<=a&&m>=a)return{node:f,offset:a-o};o=m}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=F2(f)}}function $2(o,a){return o&&a?o===a?!0:o&&o.nodeType===3?!1:a&&a.nodeType===3?$2(o,a.parentNode):"contains"in o?o.contains(a):o.compareDocumentPosition?!!(o.compareDocumentPosition(a)&16):!1:!1}function U2(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var a=Ee(o.document);a instanceof o.HTMLIFrameElement;){try{var f=typeof a.contentWindow.location.href=="string"}catch{f=!1}if(f)o=a.contentWindow;else break;a=Ee(o.document)}return a}function hA(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a&&(a==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||a==="textarea"||o.contentEditable==="true")}function z6(o,a){var f=U2(a);a=o.focusedElem;var m=o.selectionRange;if(f!==a&&a&&a.ownerDocument&&$2(a.ownerDocument.documentElement,a)){if(m!==null&&hA(a)){if(o=m.start,f=m.end,f===void 0&&(f=o),"selectionStart"in a)a.selectionStart=o,a.selectionEnd=Math.min(f,a.value.length);else if(f=(o=a.ownerDocument||document)&&o.defaultView||window,f.getSelection){f=f.getSelection();var A=a.textContent.length,S=Math.min(m.start,A);m=m.end===void 0?S:Math.min(m.end,A),!f.extend&&S>m&&(A=m,m=S,S=A),A=z2(a,S);var I=z2(a,m);A&&I&&(f.rangeCount!==1||f.anchorNode!==A.node||f.anchorOffset!==A.offset||f.focusNode!==I.node||f.focusOffset!==I.offset)&&(o=o.createRange(),o.setStart(A.node,A.offset),f.removeAllRanges(),S>m?(f.addRange(o),f.extend(I.node,I.offset)):(o.setEnd(I.node,I.offset),f.addRange(o)))}}for(o=[],f=a;f=f.parentNode;)f.nodeType===1&&o.push({element:f,left:f.scrollLeft,top:f.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<o.length;a++)f=o[a],f.element.scrollLeft=f.left,f.element.scrollTop=f.top}}var $6=Wi&&"documentMode"in document&&11>=document.documentMode,_u=null,pA=null,jf=null,gA=!1;function H2(o,a,f){var m=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;gA||_u==null||_u!==Ee(m)||(m=_u,"selectionStart"in m&&hA(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),jf&&Of(jf,m)||(jf=m,m=Qg(pA,"onSelect"),0<m.length&&(a=new fg("onSelect","select",null,a,f),o.push({event:a,listeners:m}),a.target=_u)))}function zl(o,a){var f={};return f[o.toLowerCase()]=a.toLowerCase(),f["Webkit"+o]="webkit"+a,f["Moz"+o]="moz"+a,f}var Su={animationend:zl("Animation","AnimationEnd"),animationiteration:zl("Animation","AnimationIteration"),animationstart:zl("Animation","AnimationStart"),transitionrun:zl("Transition","TransitionRun"),transitionstart:zl("Transition","TransitionStart"),transitioncancel:zl("Transition","TransitionCancel"),transitionend:zl("Transition","TransitionEnd")},mA={},q2={};Wi&&(q2=document.createElement("div").style,"AnimationEvent"in window||(delete Su.animationend.animation,delete Su.animationiteration.animation,delete Su.animationstart.animation),"TransitionEvent"in window||delete Su.transitionend.transition);function $l(o){if(mA[o])return mA[o];if(!Su[o])return o;var a=Su[o],f;for(f in a)if(a.hasOwnProperty(f)&&f in q2)return mA[o]=a[f];return o}var G2=$l("animationend"),Y2=$l("animationiteration"),K2=$l("animationstart"),U6=$l("transitionrun"),H6=$l("transitionstart"),q6=$l("transitioncancel"),W2=$l("transitionend"),Q2=new Map,X2="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Qs(o,a){Q2.set(o,a),zo(a,[o])}var vs=[],xu=0,vA=0;function gg(){for(var o=xu,a=vA=xu=0;a<o;){var f=vs[a];vs[a++]=null;var m=vs[a];vs[a++]=null;var A=vs[a];vs[a++]=null;var S=vs[a];if(vs[a++]=null,m!==null&&A!==null){var I=m.pending;I===null?A.next=A:(A.next=I.next,I.next=A),m.pending=A}S!==0&&J2(f,A,S)}}function mg(o,a,f,m){vs[xu++]=o,vs[xu++]=a,vs[xu++]=f,vs[xu++]=m,vA|=m,o.lanes|=m,o=o.alternate,o!==null&&(o.lanes|=m)}function yA(o,a,f,m){return mg(o,a,f,m),vg(o)}function La(o,a){return mg(o,null,null,a),vg(o)}function J2(o,a,f){o.lanes|=f;var m=o.alternate;m!==null&&(m.lanes|=f);for(var A=!1,S=o.return;S!==null;)S.childLanes|=f,m=S.alternate,m!==null&&(m.childLanes|=f),S.tag===22&&(o=S.stateNode,o===null||o._visibility&1||(A=!0)),o=S,S=S.return;A&&a!==null&&o.tag===3&&(S=o.stateNode,A=31-mt(f),S=S.hiddenUpdates,o=S[A],o===null?S[A]=[a]:o.push(a),a.lane=f|536870912)}function vg(o){if(50<ih)throw ih=0,wb=null,Error(r(185));for(var a=o.return;a!==null;)o=a,a=o.return;return o.tag===3?o.stateNode:null}var wu={},Z2=new WeakMap;function ys(o,a){if(typeof o=="object"&&o!==null){var f=Z2.get(o);return f!==void 0?f:(a={value:o,source:a,stack:W(a)},Z2.set(o,a),a)}return{value:o,source:a,stack:W(a)}}var Eu=[],Tu=0,yg=null,Ag=0,As=[],bs=0,Ul=null,$o=1,Uo="";function Hl(o,a){Eu[Tu++]=Ag,Eu[Tu++]=yg,yg=o,Ag=a}function eT(o,a,f){As[bs++]=$o,As[bs++]=Uo,As[bs++]=Ul,Ul=o;var m=$o;o=Uo;var A=32-mt(m)-1;m&=~(1<<A),f+=1;var S=32-mt(a)+A;if(30<S){var I=A-A%5;S=(m&(1<<I)-1).toString(32),m>>=I,A-=I,$o=1<<32-mt(a)+A|f<<A|m,Uo=S+o}else $o=1<<S|f<<A|m,Uo=o}function AA(o){o.return!==null&&(Hl(o,1),eT(o,1,0))}function bA(o){for(;o===yg;)yg=Eu[--Tu],Eu[Tu]=null,Ag=Eu[--Tu],Eu[Tu]=null;for(;o===Ul;)Ul=As[--bs],As[bs]=null,Uo=As[--bs],As[bs]=null,$o=As[--bs],As[bs]=null}var _i=null,Gr=null,nn=!1,Xs=null,vo=!1,_A=Error(r(519));function ql(o){var a=Error(r(418,""));throw Df(ys(a,o)),_A}function tT(o){var a=o.stateNode,f=o.type,m=o.memoizedProps;switch(a[_t]=o,a[tr]=m,f){case"dialog":Gt("cancel",a),Gt("close",a);break;case"iframe":case"object":case"embed":Gt("load",a);break;case"video":case"audio":for(f=0;f<oh.length;f++)Gt(oh[f],a);break;case"source":Gt("error",a);break;case"img":case"image":case"link":Gt("error",a),Gt("load",a);break;case"details":Gt("toggle",a);break;case"input":Gt("invalid",a),We(a,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0),te(a);break;case"select":Gt("invalid",a);break;case"textarea":Gt("invalid",a),Wn(a,m.value,m.defaultValue,m.children),te(a)}f=m.children,typeof f!="string"&&typeof f!="number"&&typeof f!="bigint"||a.textContent===""+f||m.suppressHydrationWarning===!0||uk(a.textContent,f)?(m.popover!=null&&(Gt("beforetoggle",a),Gt("toggle",a)),m.onScroll!=null&&Gt("scroll",a),m.onScrollEnd!=null&&Gt("scrollend",a),m.onClick!=null&&(a.onclick=Xg),a=!0):a=!1,a||ql(o)}function nT(o){for(_i=o.return;_i;)switch(_i.tag){case 3:case 27:vo=!0;return;case 5:case 13:vo=!1;return;default:_i=_i.return}}function Pf(o){if(o!==_i)return!1;if(!nn)return nT(o),nn=!0,!1;var a=!1,f;if((f=o.tag!==3&&o.tag!==27)&&((f=o.tag===5)&&(f=o.type,f=!(f!=="form"&&f!=="button")||zb(o.type,o.memoizedProps)),f=!f),f&&(a=!0),a&&Gr&&ql(o),nT(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));e:{for(o=o.nextSibling,a=0;o;){if(o.nodeType===8)if(f=o.data,f==="/$"){if(a===0){Gr=Zs(o.nextSibling);break e}a--}else f!=="$"&&f!=="$!"&&f!=="$?"||a++;o=o.nextSibling}Gr=null}}else Gr=_i?Zs(o.stateNode.nextSibling):null;return!0}function Vf(){Gr=_i=null,nn=!1}function Df(o){Xs===null?Xs=[o]:Xs.push(o)}var Bf=Error(r(460)),rT=Error(r(474)),SA={then:function(){}};function iT(o){return o=o.status,o==="fulfilled"||o==="rejected"}function bg(){}function sT(o,a,f){switch(f=o[f],f===void 0?o.push(a):f!==a&&(a.then(bg,bg),a=f),a.status){case"fulfilled":return a.value;case"rejected":throw o=a.reason,o===Bf?Error(r(483)):o;default:if(typeof a.status=="string")a.then(bg,bg);else{if(o=Cn,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=a,o.status="pending",o.then(function(m){if(a.status==="pending"){var A=a;A.status="fulfilled",A.value=m}},function(m){if(a.status==="pending"){var A=a;A.status="rejected",A.reason=m}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw o=a.reason,o===Bf?Error(r(483)):o}throw Nf=a,Bf}}var Nf=null;function oT(){if(Nf===null)throw Error(r(459));var o=Nf;return Nf=null,o}var Cu=null,Lf=0;function _g(o){var a=Lf;return Lf+=1,Cu===null&&(Cu=[]),sT(Cu,o,a)}function Ff(o,a){a=a.props.ref,o.ref=a!==void 0?a:null}function Sg(o,a){throw a.$$typeof===s?Error(r(525)):(o=Object.prototype.toString.call(a),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":o)))}function aT(o){var a=o._init;return a(o._payload)}function lT(o){function a(ce,ne){if(o){var de=ce.deletions;de===null?(ce.deletions=[ne],ce.flags|=16):de.push(ne)}}function f(ce,ne){if(!o)return null;for(;ne!==null;)a(ce,ne),ne=ne.sibling;return null}function m(ce){for(var ne=new Map;ce!==null;)ce.key!==null?ne.set(ce.key,ce):ne.set(ce.index,ce),ce=ce.sibling;return ne}function A(ce,ne){return ce=Xa(ce,ne),ce.index=0,ce.sibling=null,ce}function S(ce,ne,de){return ce.index=de,o?(de=ce.alternate,de!==null?(de=de.index,de<ne?(ce.flags|=33554434,ne):de):(ce.flags|=33554434,ne)):(ce.flags|=1048576,ne)}function I(ce){return o&&ce.alternate===null&&(ce.flags|=33554434),ce}function z(ce,ne,de,we){return ne===null||ne.tag!==6?(ne=mb(de,ce.mode,we),ne.return=ce,ne):(ne=A(ne,de),ne.return=ce,ne)}function X(ce,ne,de,we){var Ye=de.type;return Ye===d?be(ce,ne,de.props.children,we,de.key):ne!==null&&(ne.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===k&&aT(Ye)===ne.type)?(ne=A(ne,de.props),Ff(ne,de),ne.return=ce,ne):(ne=Fg(de.type,de.key,de.props,null,ce.mode,we),Ff(ne,de),ne.return=ce,ne)}function ie(ce,ne,de,we){return ne===null||ne.tag!==4||ne.stateNode.containerInfo!==de.containerInfo||ne.stateNode.implementation!==de.implementation?(ne=vb(de,ce.mode,we),ne.return=ce,ne):(ne=A(ne,de.children||[]),ne.return=ce,ne)}function be(ce,ne,de,we,Ye){return ne===null||ne.tag!==7?(ne=tc(de,ce.mode,we,Ye),ne.return=ce,ne):(ne=A(ne,de),ne.return=ce,ne)}function Te(ce,ne,de){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return ne=mb(""+ne,ce.mode,de),ne.return=ce,ne;if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case l:return de=Fg(ne.type,ne.key,ne.props,null,ce.mode,de),Ff(de,ne),de.return=ce,de;case c:return ne=vb(ne,ce.mode,de),ne.return=ce,ne;case k:var we=ne._init;return ne=we(ne._payload),Te(ce,ne,de)}if(ue(ne)||O(ne))return ne=tc(ne,ce.mode,de,null),ne.return=ce,ne;if(typeof ne.then=="function")return Te(ce,_g(ne),de);if(ne.$$typeof===y)return Te(ce,Bg(ce,ne),de);Sg(ce,ne)}return null}function he(ce,ne,de,we){var Ye=ne!==null?ne.key:null;if(typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint")return Ye!==null?null:z(ce,ne,""+de,we);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case l:return de.key===Ye?X(ce,ne,de,we):null;case c:return de.key===Ye?ie(ce,ne,de,we):null;case k:return Ye=de._init,de=Ye(de._payload),he(ce,ne,de,we)}if(ue(de)||O(de))return Ye!==null?null:be(ce,ne,de,we,null);if(typeof de.then=="function")return he(ce,ne,_g(de),we);if(de.$$typeof===y)return he(ce,ne,Bg(ce,de),we);Sg(ce,de)}return null}function Ae(ce,ne,de,we,Ye){if(typeof we=="string"&&we!==""||typeof we=="number"||typeof we=="bigint")return ce=ce.get(de)||null,z(ne,ce,""+we,Ye);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case l:return ce=ce.get(we.key===null?de:we.key)||null,X(ne,ce,we,Ye);case c:return ce=ce.get(we.key===null?de:we.key)||null,ie(ne,ce,we,Ye);case k:var Dt=we._init;return we=Dt(we._payload),Ae(ce,ne,de,we,Ye)}if(ue(we)||O(we))return ce=ce.get(de)||null,be(ne,ce,we,Ye,null);if(typeof we.then=="function")return Ae(ce,ne,de,_g(we),Ye);if(we.$$typeof===y)return Ae(ce,ne,de,Bg(ne,we),Ye);Sg(ne,we)}return null}function Je(ce,ne,de,we){for(var Ye=null,Dt=null,nt=ne,ct=ne=0,Lr=null;nt!==null&&ct<de.length;ct++){nt.index>ct?(Lr=nt,nt=null):Lr=nt.sibling;var rn=he(ce,nt,de[ct],we);if(rn===null){nt===null&&(nt=Lr);break}o&&nt&&rn.alternate===null&&a(ce,nt),ne=S(rn,ne,ct),Dt===null?Ye=rn:Dt.sibling=rn,Dt=rn,nt=Lr}if(ct===de.length)return f(ce,nt),nn&&Hl(ce,ct),Ye;if(nt===null){for(;ct<de.length;ct++)nt=Te(ce,de[ct],we),nt!==null&&(ne=S(nt,ne,ct),Dt===null?Ye=nt:Dt.sibling=nt,Dt=nt);return nn&&Hl(ce,ct),Ye}for(nt=m(nt);ct<de.length;ct++)Lr=Ae(nt,ce,ct,de[ct],we),Lr!==null&&(o&&Lr.alternate!==null&&nt.delete(Lr.key===null?ct:Lr.key),ne=S(Lr,ne,ct),Dt===null?Ye=Lr:Dt.sibling=Lr,Dt=Lr);return o&&nt.forEach(function(il){return a(ce,il)}),nn&&Hl(ce,ct),Ye}function At(ce,ne,de,we){if(de==null)throw Error(r(151));for(var Ye=null,Dt=null,nt=ne,ct=ne=0,Lr=null,rn=de.next();nt!==null&&!rn.done;ct++,rn=de.next()){nt.index>ct?(Lr=nt,nt=null):Lr=nt.sibling;var il=he(ce,nt,rn.value,we);if(il===null){nt===null&&(nt=Lr);break}o&&nt&&il.alternate===null&&a(ce,nt),ne=S(il,ne,ct),Dt===null?Ye=il:Dt.sibling=il,Dt=il,nt=Lr}if(rn.done)return f(ce,nt),nn&&Hl(ce,ct),Ye;if(nt===null){for(;!rn.done;ct++,rn=de.next())rn=Te(ce,rn.value,we),rn!==null&&(ne=S(rn,ne,ct),Dt===null?Ye=rn:Dt.sibling=rn,Dt=rn);return nn&&Hl(ce,ct),Ye}for(nt=m(nt);!rn.done;ct++,rn=de.next())rn=Ae(nt,ce,ct,rn.value,we),rn!==null&&(o&&rn.alternate!==null&&nt.delete(rn.key===null?ct:rn.key),ne=S(rn,ne,ct),Dt===null?Ye=rn:Dt.sibling=rn,Dt=rn);return o&&nt.forEach(function(sF){return a(ce,sF)}),nn&&Hl(ce,ct),Ye}function ir(ce,ne,de,we){if(typeof de=="object"&&de!==null&&de.type===d&&de.key===null&&(de=de.props.children),typeof de=="object"&&de!==null){switch(de.$$typeof){case l:e:{for(var Ye=de.key;ne!==null;){if(ne.key===Ye){if(Ye=de.type,Ye===d){if(ne.tag===7){f(ce,ne.sibling),we=A(ne,de.props.children),we.return=ce,ce=we;break e}}else if(ne.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===k&&aT(Ye)===ne.type){f(ce,ne.sibling),we=A(ne,de.props),Ff(we,de),we.return=ce,ce=we;break e}f(ce,ne);break}else a(ce,ne);ne=ne.sibling}de.type===d?(we=tc(de.props.children,ce.mode,we,de.key),we.return=ce,ce=we):(we=Fg(de.type,de.key,de.props,null,ce.mode,we),Ff(we,de),we.return=ce,ce=we)}return I(ce);case c:e:{for(Ye=de.key;ne!==null;){if(ne.key===Ye)if(ne.tag===4&&ne.stateNode.containerInfo===de.containerInfo&&ne.stateNode.implementation===de.implementation){f(ce,ne.sibling),we=A(ne,de.children||[]),we.return=ce,ce=we;break e}else{f(ce,ne);break}else a(ce,ne);ne=ne.sibling}we=vb(de,ce.mode,we),we.return=ce,ce=we}return I(ce);case k:return Ye=de._init,de=Ye(de._payload),ir(ce,ne,de,we)}if(ue(de))return Je(ce,ne,de,we);if(O(de)){if(Ye=O(de),typeof Ye!="function")throw Error(r(150));return de=Ye.call(de),At(ce,ne,de,we)}if(typeof de.then=="function")return ir(ce,ne,_g(de),we);if(de.$$typeof===y)return ir(ce,ne,Bg(ce,de),we);Sg(ce,de)}return typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint"?(de=""+de,ne!==null&&ne.tag===6?(f(ce,ne.sibling),we=A(ne,de),we.return=ce,ce=we):(f(ce,ne),we=mb(de,ce.mode,we),we.return=ce,ce=we),I(ce)):f(ce,ne)}return function(ce,ne,de,we){try{Lf=0;var Ye=ir(ce,ne,de,we);return Cu=null,Ye}catch(nt){if(nt===Bf)throw nt;var Dt=ws(29,nt,null,ce.mode);return Dt.lanes=we,Dt.return=ce,Dt}finally{}}}var Gl=lT(!0),cT=lT(!1),ku=Me(null),xg=Me(0);function uT(o,a){o=ea,ve(xg,o),ve(ku,a),ea=o|a.baseLanes}function xA(){ve(xg,ea),ve(ku,ku.current)}function wA(){ea=xg.current,Re(ku),Re(xg)}var _s=Me(null),yo=null;function Fa(o){var a=o.alternate;ve(Rr,Rr.current&1),ve(_s,o),yo===null&&(a===null||ku.current!==null||a.memoizedState!==null)&&(yo=o)}function dT(o){if(o.tag===22){if(ve(Rr,Rr.current),ve(_s,o),yo===null){var a=o.alternate;a!==null&&a.memoizedState!==null&&(yo=o)}}else za()}function za(){ve(Rr,Rr.current),ve(_s,_s.current)}function Ho(o){Re(_s),yo===o&&(yo=null),Re(Rr)}var Rr=Me(0);function wg(o){for(var a=o;a!==null;){if(a.tag===13){var f=a.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||f.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if(a.flags&128)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var G6=typeof AbortController<"u"?AbortController:function(){var o=[],a=this.signal={aborted:!1,addEventListener:function(f,m){o.push(m)}};this.abort=function(){a.aborted=!0,o.forEach(function(f){return f()})}},Y6=e.unstable_scheduleCallback,K6=e.unstable_NormalPriority,Ir={$$typeof:y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function EA(){return{controller:new G6,data:new Map,refCount:0}}function zf(o){o.refCount--,o.refCount===0&&Y6(K6,function(){o.controller.abort()})}var $f=null,TA=0,Mu=0,Ru=null;function W6(o,a){if($f===null){var f=$f=[];TA=0,Mu=Ob(),Ru={status:"pending",value:void 0,then:function(m){f.push(m)}}}return TA++,a.then(fT,fT),a}function fT(){if(--TA===0&&$f!==null){Ru!==null&&(Ru.status="fulfilled");var o=$f;$f=null,Mu=0,Ru=null;for(var a=0;a<o.length;a++)(0,o[a])()}}function Q6(o,a){var f=[],m={status:"pending",value:null,reason:null,then:function(A){f.push(A)}};return o.then(function(){m.status="fulfilled",m.value=a;for(var A=0;A<f.length;A++)(0,f[A])(a)},function(A){for(m.status="rejected",m.reason=A,A=0;A<f.length;A++)(0,f[A])(void 0)}),m}var hT=V.S;V.S=function(o,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&W6(o,a),hT!==null&&hT(o,a)};var Yl=Me(null);function CA(){var o=Yl.current;return o!==null?o:Cn.pooledCache}function Eg(o,a){a===null?ve(Yl,Yl.current):ve(Yl,a.pool)}function pT(){var o=CA();return o===null?null:{parent:Ir._currentValue,pool:o}}var $a=0,Pt=null,vn=null,_r=null,Tg=!1,Iu=!1,Kl=!1,Cg=0,Uf=0,Ou=null,X6=0;function gr(){throw Error(r(321))}function kA(o,a){if(a===null)return!1;for(var f=0;f<a.length&&f<o.length;f++)if(!Qi(o[f],a[f]))return!1;return!0}function MA(o,a,f,m,A,S){return $a=S,Pt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,V.H=o===null||o.memoizedState===null?Wl:Ua,Kl=!1,S=f(m,A),Kl=!1,Iu&&(S=mT(a,f,m,A)),gT(o),S}function gT(o){V.H=Ao;var a=vn!==null&&vn.next!==null;if($a=0,_r=vn=Pt=null,Tg=!1,Uf=0,Ou=null,a)throw Error(r(300));o===null||Br||(o=o.dependencies,o!==null&&Dg(o)&&(Br=!0))}function mT(o,a,f,m){Pt=o;var A=0;do{if(Iu&&(Ou=null),Uf=0,Iu=!1,25<=A)throw Error(r(301));if(A+=1,_r=vn=null,o.updateQueue!=null){var S=o.updateQueue;S.lastEffect=null,S.events=null,S.stores=null,S.memoCache!=null&&(S.memoCache.index=0)}V.H=Ql,S=a(f,m)}while(Iu);return S}function J6(){var o=V.H,a=o.useState()[0];return a=typeof a.then=="function"?Hf(a):a,o=o.useState()[0],(vn!==null?vn.memoizedState:null)!==o&&(Pt.flags|=1024),a}function RA(){var o=Cg!==0;return Cg=0,o}function IA(o,a,f){a.updateQueue=o.updateQueue,a.flags&=-2053,o.lanes&=~f}function OA(o){if(Tg){for(o=o.memoizedState;o!==null;){var a=o.queue;a!==null&&(a.pending=null),o=o.next}Tg=!1}$a=0,_r=vn=Pt=null,Iu=!1,Uf=Cg=0,Ou=null}function Di(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _r===null?Pt.memoizedState=_r=o:_r=_r.next=o,_r}function Sr(){if(vn===null){var o=Pt.alternate;o=o!==null?o.memoizedState:null}else o=vn.next;var a=_r===null?Pt.memoizedState:_r.next;if(a!==null)_r=a,vn=o;else{if(o===null)throw Pt.alternate===null?Error(r(467)):Error(r(310));vn=o,o={memoizedState:vn.memoizedState,baseState:vn.baseState,baseQueue:vn.baseQueue,queue:vn.queue,next:null},_r===null?Pt.memoizedState=_r=o:_r=_r.next=o}return _r}var kg;kg=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Hf(o){var a=Uf;return Uf+=1,Ou===null&&(Ou=[]),o=sT(Ou,o,a),a=Pt,(_r===null?a.memoizedState:_r.next)===null&&(a=a.alternate,V.H=a===null||a.memoizedState===null?Wl:Ua),o}function Mg(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return Hf(o);if(o.$$typeof===y)return ci(o)}throw Error(r(438,String(o)))}function jA(o){var a=null,f=Pt.updateQueue;if(f!==null&&(a=f.memoCache),a==null){var m=Pt.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(a={data:m.data.map(function(A){return A.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),f===null&&(f=kg(),Pt.updateQueue=f),f.memoCache=a,f=a.data[a.index],f===void 0)for(f=a.data[a.index]=Array(o),m=0;m<o;m++)f[m]=M;return a.index++,f}function qo(o,a){return typeof a=="function"?a(o):a}function Rg(o){var a=Sr();return PA(a,vn,o)}function PA(o,a,f){var m=o.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=f;var A=o.baseQueue,S=m.pending;if(S!==null){if(A!==null){var I=A.next;A.next=S.next,S.next=I}a.baseQueue=A=S,m.pending=null}if(S=o.baseState,A===null)o.memoizedState=S;else{a=A.next;var z=I=null,X=null,ie=a,be=!1;do{var Te=ie.lane&-536870913;if(Te!==ie.lane?(Xt&Te)===Te:($a&Te)===Te){var he=ie.revertLane;if(he===0)X!==null&&(X=X.next={lane:0,revertLane:0,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null}),Te===Mu&&(be=!0);else if(($a&he)===he){ie=ie.next,he===Mu&&(be=!0);continue}else Te={lane:0,revertLane:ie.revertLane,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null},X===null?(z=X=Te,I=S):X=X.next=Te,Pt.lanes|=he,Ja|=he;Te=ie.action,Kl&&f(S,Te),S=ie.hasEagerState?ie.eagerState:f(S,Te)}else he={lane:Te,revertLane:ie.revertLane,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null},X===null?(z=X=he,I=S):X=X.next=he,Pt.lanes|=Te,Ja|=Te;ie=ie.next}while(ie!==null&&ie!==a);if(X===null?I=S:X.next=z,!Qi(S,o.memoizedState)&&(Br=!0,be&&(f=Ru,f!==null)))throw f;o.memoizedState=S,o.baseState=I,o.baseQueue=X,m.lastRenderedState=S}return A===null&&(m.lanes=0),[o.memoizedState,m.dispatch]}function VA(o){var a=Sr(),f=a.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=o;var m=f.dispatch,A=f.pending,S=a.memoizedState;if(A!==null){f.pending=null;var I=A=A.next;do S=o(S,I.action),I=I.next;while(I!==A);Qi(S,a.memoizedState)||(Br=!0),a.memoizedState=S,a.baseQueue===null&&(a.baseState=S),f.lastRenderedState=S}return[S,m]}function vT(o,a,f){var m=Pt,A=Sr(),S=nn;if(S){if(f===void 0)throw Error(r(407));f=f()}else f=a();var I=!Qi((vn||A).memoizedState,f);if(I&&(A.memoizedState=f,Br=!0),A=A.queue,NA(bT.bind(null,m,A,o),[o]),A.getSnapshot!==a||I||_r!==null&&_r.memoizedState.tag&1){if(m.flags|=2048,ju(9,AT.bind(null,m,A,f,a),{destroy:void 0},null),Cn===null)throw Error(r(349));S||$a&60||yT(m,a,f)}return f}function yT(o,a,f){o.flags|=16384,o={getSnapshot:a,value:f},a=Pt.updateQueue,a===null?(a=kg(),Pt.updateQueue=a,a.stores=[o]):(f=a.stores,f===null?a.stores=[o]:f.push(o))}function AT(o,a,f,m){a.value=f,a.getSnapshot=m,_T(a)&&ST(o)}function bT(o,a,f){return f(function(){_T(a)&&ST(o)})}function _T(o){var a=o.getSnapshot;o=o.value;try{var f=a();return!Qi(o,f)}catch{return!0}}function ST(o){var a=La(o,2);a!==null&&Si(a,o,2)}function DA(o){var a=Di();if(typeof o=="function"){var f=o;if(o=f(),Kl){Jt(!0);try{f()}finally{Jt(!1)}}}return a.memoizedState=a.baseState=o,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qo,lastRenderedState:o},a}function xT(o,a,f,m){return o.baseState=f,PA(o,vn,typeof m=="function"?m:qo)}function Z6(o,a,f,m,A){if(jg(o))throw Error(r(485));if(o=a.action,o!==null){var S={payload:A,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(I){S.listeners.push(I)}};V.T!==null?f(!0):S.isTransition=!1,m(S),f=a.pending,f===null?(S.next=a.pending=S,wT(a,S)):(S.next=f.next,a.pending=f.next=S)}}function wT(o,a){var f=a.action,m=a.payload,A=o.state;if(a.isTransition){var S=V.T,I={};V.T=I;try{var z=f(A,m),X=V.S;X!==null&&X(I,z),ET(o,a,z)}catch(ie){BA(o,a,ie)}finally{V.T=S}}else try{S=f(A,m),ET(o,a,S)}catch(ie){BA(o,a,ie)}}function ET(o,a,f){f!==null&&typeof f=="object"&&typeof f.then=="function"?f.then(function(m){TT(o,a,m)},function(m){return BA(o,a,m)}):TT(o,a,f)}function TT(o,a,f){a.status="fulfilled",a.value=f,CT(a),o.state=f,a=o.pending,a!==null&&(f=a.next,f===a?o.pending=null:(f=f.next,a.next=f,wT(o,f)))}function BA(o,a,f){var m=o.pending;if(o.pending=null,m!==null){m=m.next;do a.status="rejected",a.reason=f,CT(a),a=a.next;while(a!==m)}o.action=null}function CT(o){o=o.listeners;for(var a=0;a<o.length;a++)(0,o[a])()}function kT(o,a){return a}function MT(o,a){if(nn){var f=Cn.formState;if(f!==null){e:{var m=Pt;if(nn){if(Gr){t:{for(var A=Gr,S=vo;A.nodeType!==8;){if(!S){A=null;break t}if(A=Zs(A.nextSibling),A===null){A=null;break t}}S=A.data,A=S==="F!"||S==="F"?A:null}if(A){Gr=Zs(A.nextSibling),m=A.data==="F!";break e}}ql(m)}m=!1}m&&(a=f[0])}}return f=Di(),f.memoizedState=f.baseState=a,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:kT,lastRenderedState:a},f.queue=m,f=YT.bind(null,Pt,m),m.dispatch=f,m=DA(!1),S=UA.bind(null,Pt,!1,m.queue),m=Di(),A={state:a,dispatch:null,action:o,pending:null},m.queue=A,f=Z6.bind(null,Pt,A,S,f),A.dispatch=f,m.memoizedState=o,[a,f,!1]}function RT(o){var a=Sr();return IT(a,vn,o)}function IT(o,a,f){a=PA(o,a,kT)[0],o=Rg(qo)[0],a=typeof a=="object"&&a!==null&&typeof a.then=="function"?Hf(a):a;var m=Sr(),A=m.queue,S=A.dispatch;return f!==m.memoizedState&&(Pt.flags|=2048,ju(9,e8.bind(null,A,f),{destroy:void 0},null)),[a,S,o]}function e8(o,a){o.action=a}function OT(o){var a=Sr(),f=vn;if(f!==null)return IT(a,f,o);Sr(),a=a.memoizedState,f=Sr();var m=f.queue.dispatch;return f.memoizedState=o,[a,m,!1]}function ju(o,a,f,m){return o={tag:o,create:a,inst:f,deps:m,next:null},a=Pt.updateQueue,a===null&&(a=kg(),Pt.updateQueue=a),f=a.lastEffect,f===null?a.lastEffect=o.next=o:(m=f.next,f.next=o,o.next=m,a.lastEffect=o),o}function jT(){return Sr().memoizedState}function Ig(o,a,f,m){var A=Di();Pt.flags|=o,A.memoizedState=ju(1|a,f,{destroy:void 0},m===void 0?null:m)}function Og(o,a,f,m){var A=Sr();m=m===void 0?null:m;var S=A.memoizedState.inst;vn!==null&&m!==null&&kA(m,vn.memoizedState.deps)?A.memoizedState=ju(a,f,S,m):(Pt.flags|=o,A.memoizedState=ju(1|a,f,S,m))}function PT(o,a){Ig(8390656,8,o,a)}function NA(o,a){Og(2048,8,o,a)}function VT(o,a){return Og(4,2,o,a)}function DT(o,a){return Og(4,4,o,a)}function BT(o,a){if(typeof a=="function"){o=o();var f=a(o);return function(){typeof f=="function"?f():a(null)}}if(a!=null)return o=o(),a.current=o,function(){a.current=null}}function NT(o,a,f){f=f!=null?f.concat([o]):null,Og(4,4,BT.bind(null,a,o),f)}function LA(){}function LT(o,a){var f=Sr();a=a===void 0?null:a;var m=f.memoizedState;return a!==null&&kA(a,m[1])?m[0]:(f.memoizedState=[o,a],o)}function FT(o,a){var f=Sr();a=a===void 0?null:a;var m=f.memoizedState;if(a!==null&&kA(a,m[1]))return m[0];if(m=o(),Kl){Jt(!0);try{o()}finally{Jt(!1)}}return f.memoizedState=[m,a],m}function FA(o,a,f){return f===void 0||$a&1073741824?o.memoizedState=a:(o.memoizedState=f,o=$C(),Pt.lanes|=o,Ja|=o,f)}function zT(o,a,f,m){return Qi(f,a)?f:ku.current!==null?(o=FA(o,f,m),Qi(o,a)||(Br=!0),o):$a&42?(o=$C(),Pt.lanes|=o,Ja|=o,a):(Br=!0,o.memoizedState=f)}function $T(o,a,f,m,A){var S=F.p;F.p=S!==0&&8>S?S:8;var I=V.T,z={};V.T=z,UA(o,!1,a,f);try{var X=A(),ie=V.S;if(ie!==null&&ie(z,X),X!==null&&typeof X=="object"&&typeof X.then=="function"){var be=Q6(X,m);qf(o,a,be,es(o))}else qf(o,a,m,es(o))}catch(Te){qf(o,a,{then:function(){},status:"rejected",reason:Te},es())}finally{F.p=S,V.T=I}}function t8(){}function zA(o,a,f,m){if(o.tag!==5)throw Error(r(476));var A=UT(o).queue;$T(o,A,a,ge,f===null?t8:function(){return HT(o),f(m)})}function UT(o){var a=o.memoizedState;if(a!==null)return a;a={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qo,lastRenderedState:ge},next:null};var f={};return a.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qo,lastRenderedState:f},next:null},o.memoizedState=a,o=o.alternate,o!==null&&(o.memoizedState=a),a}function HT(o){var a=UT(o).next.queue;qf(o,a,{},es())}function $A(){return ci(dh)}function qT(){return Sr().memoizedState}function GT(){return Sr().memoizedState}function n8(o){for(var a=o.return;a!==null;){switch(a.tag){case 24:case 3:var f=es();o=Ga(f);var m=Ya(a,o,f);m!==null&&(Si(m,a,f),Kf(m,a,f)),a={cache:EA()},o.payload=a;return}a=a.return}}function r8(o,a,f){var m=es();f={lane:m,revertLane:0,action:f,hasEagerState:!1,eagerState:null,next:null},jg(o)?KT(a,f):(f=yA(o,a,f,m),f!==null&&(Si(f,o,m),WT(f,a,m)))}function YT(o,a,f){var m=es();qf(o,a,f,m)}function qf(o,a,f,m){var A={lane:m,revertLane:0,action:f,hasEagerState:!1,eagerState:null,next:null};if(jg(o))KT(a,A);else{var S=o.alternate;if(o.lanes===0&&(S===null||S.lanes===0)&&(S=a.lastRenderedReducer,S!==null))try{var I=a.lastRenderedState,z=S(I,f);if(A.hasEagerState=!0,A.eagerState=z,Qi(z,I))return mg(o,a,A,0),Cn===null&&gg(),!1}catch{}finally{}if(f=yA(o,a,A,m),f!==null)return Si(f,o,m),WT(f,a,m),!0}return!1}function UA(o,a,f,m){if(m={lane:2,revertLane:Ob(),action:m,hasEagerState:!1,eagerState:null,next:null},jg(o)){if(a)throw Error(r(479))}else a=yA(o,f,m,2),a!==null&&Si(a,o,2)}function jg(o){var a=o.alternate;return o===Pt||a!==null&&a===Pt}function KT(o,a){Iu=Tg=!0;var f=o.pending;f===null?a.next=a:(a.next=f.next,f.next=a),o.pending=a}function WT(o,a,f){if(f&4194176){var m=a.lanes;m&=o.pendingLanes,f|=m,a.lanes=f,pr(o,f)}}var Ao={readContext:ci,use:Mg,useCallback:gr,useContext:gr,useEffect:gr,useImperativeHandle:gr,useLayoutEffect:gr,useInsertionEffect:gr,useMemo:gr,useReducer:gr,useRef:gr,useState:gr,useDebugValue:gr,useDeferredValue:gr,useTransition:gr,useSyncExternalStore:gr,useId:gr};Ao.useCacheRefresh=gr,Ao.useMemoCache=gr,Ao.useHostTransitionStatus=gr,Ao.useFormState=gr,Ao.useActionState=gr,Ao.useOptimistic=gr;var Wl={readContext:ci,use:Mg,useCallback:function(o,a){return Di().memoizedState=[o,a===void 0?null:a],o},useContext:ci,useEffect:PT,useImperativeHandle:function(o,a,f){f=f!=null?f.concat([o]):null,Ig(4194308,4,BT.bind(null,a,o),f)},useLayoutEffect:function(o,a){return Ig(4194308,4,o,a)},useInsertionEffect:function(o,a){Ig(4,2,o,a)},useMemo:function(o,a){var f=Di();a=a===void 0?null:a;var m=o();if(Kl){Jt(!0);try{o()}finally{Jt(!1)}}return f.memoizedState=[m,a],m},useReducer:function(o,a,f){var m=Di();if(f!==void 0){var A=f(a);if(Kl){Jt(!0);try{f(a)}finally{Jt(!1)}}}else A=a;return m.memoizedState=m.baseState=A,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:A},m.queue=o,o=o.dispatch=r8.bind(null,Pt,o),[m.memoizedState,o]},useRef:function(o){var a=Di();return o={current:o},a.memoizedState=o},useState:function(o){o=DA(o);var a=o.queue,f=YT.bind(null,Pt,a);return a.dispatch=f,[o.memoizedState,f]},useDebugValue:LA,useDeferredValue:function(o,a){var f=Di();return FA(f,o,a)},useTransition:function(){var o=DA(!1);return o=$T.bind(null,Pt,o.queue,!0,!1),Di().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,a,f){var m=Pt,A=Di();if(nn){if(f===void 0)throw Error(r(407));f=f()}else{if(f=a(),Cn===null)throw Error(r(349));Xt&60||yT(m,a,f)}A.memoizedState=f;var S={value:f,getSnapshot:a};return A.queue=S,PT(bT.bind(null,m,S,o),[o]),m.flags|=2048,ju(9,AT.bind(null,m,S,f,a),{destroy:void 0},null),f},useId:function(){var o=Di(),a=Cn.identifierPrefix;if(nn){var f=Uo,m=$o;f=(m&~(1<<32-mt(m)-1)).toString(32)+f,a=":"+a+"R"+f,f=Cg++,0<f&&(a+="H"+f.toString(32)),a+=":"}else f=X6++,a=":"+a+"r"+f.toString(32)+":";return o.memoizedState=a},useCacheRefresh:function(){return Di().memoizedState=n8.bind(null,Pt)}};Wl.useMemoCache=jA,Wl.useHostTransitionStatus=$A,Wl.useFormState=MT,Wl.useActionState=MT,Wl.useOptimistic=function(o){var a=Di();a.memoizedState=a.baseState=o;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=f,a=UA.bind(null,Pt,!0,f),f.dispatch=a,[o,a]};var Ua={readContext:ci,use:Mg,useCallback:LT,useContext:ci,useEffect:NA,useImperativeHandle:NT,useInsertionEffect:VT,useLayoutEffect:DT,useMemo:FT,useReducer:Rg,useRef:jT,useState:function(){return Rg(qo)},useDebugValue:LA,useDeferredValue:function(o,a){var f=Sr();return zT(f,vn.memoizedState,o,a)},useTransition:function(){var o=Rg(qo)[0],a=Sr().memoizedState;return[typeof o=="boolean"?o:Hf(o),a]},useSyncExternalStore:vT,useId:qT};Ua.useCacheRefresh=GT,Ua.useMemoCache=jA,Ua.useHostTransitionStatus=$A,Ua.useFormState=RT,Ua.useActionState=RT,Ua.useOptimistic=function(o,a){var f=Sr();return xT(f,vn,o,a)};var Ql={readContext:ci,use:Mg,useCallback:LT,useContext:ci,useEffect:NA,useImperativeHandle:NT,useInsertionEffect:VT,useLayoutEffect:DT,useMemo:FT,useReducer:VA,useRef:jT,useState:function(){return VA(qo)},useDebugValue:LA,useDeferredValue:function(o,a){var f=Sr();return vn===null?FA(f,o,a):zT(f,vn.memoizedState,o,a)},useTransition:function(){var o=VA(qo)[0],a=Sr().memoizedState;return[typeof o=="boolean"?o:Hf(o),a]},useSyncExternalStore:vT,useId:qT};Ql.useCacheRefresh=GT,Ql.useMemoCache=jA,Ql.useHostTransitionStatus=$A,Ql.useFormState=OT,Ql.useActionState=OT,Ql.useOptimistic=function(o,a){var f=Sr();return vn!==null?xT(f,vn,o,a):(f.baseState=o,[o,f.queue.dispatch])};function HA(o,a,f,m){a=o.memoizedState,f=f(m,a),f=f==null?a:C({},a,f),o.memoizedState=f,o.lanes===0&&(o.updateQueue.baseState=f)}var qA={isMounted:function(o){return(o=o._reactInternals)?Q(o)===o:!1},enqueueSetState:function(o,a,f){o=o._reactInternals;var m=es(),A=Ga(m);A.payload=a,f!=null&&(A.callback=f),a=Ya(o,A,m),a!==null&&(Si(a,o,m),Kf(a,o,m))},enqueueReplaceState:function(o,a,f){o=o._reactInternals;var m=es(),A=Ga(m);A.tag=1,A.payload=a,f!=null&&(A.callback=f),a=Ya(o,A,m),a!==null&&(Si(a,o,m),Kf(a,o,m))},enqueueForceUpdate:function(o,a){o=o._reactInternals;var f=es(),m=Ga(f);m.tag=2,a!=null&&(m.callback=a),a=Ya(o,m,f),a!==null&&(Si(a,o,f),Kf(a,o,f))}};function QT(o,a,f,m,A,S,I){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(m,S,I):a.prototype&&a.prototype.isPureReactComponent?!Of(f,m)||!Of(A,S):!0}function XT(o,a,f,m){o=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(f,m),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(f,m),a.state!==o&&qA.enqueueReplaceState(a,a.state,null)}function Xl(o,a){var f=a;if("ref"in a){f={};for(var m in a)m!=="ref"&&(f[m]=a[m])}if(o=o.defaultProps){f===a&&(f=C({},f));for(var A in o)f[A]===void 0&&(f[A]=o[A])}return f}var Pg=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)};function JT(o){Pg(o)}function ZT(o){console.error(o)}function eC(o){Pg(o)}function Vg(o,a){try{var f=o.onUncaughtError;f(a.value,{componentStack:a.stack})}catch(m){setTimeout(function(){throw m})}}function tC(o,a,f){try{var m=o.onCaughtError;m(f.value,{componentStack:f.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(A){setTimeout(function(){throw A})}}function GA(o,a,f){return f=Ga(f),f.tag=3,f.payload={element:null},f.callback=function(){Vg(o,a)},f}function nC(o){return o=Ga(o),o.tag=3,o}function rC(o,a,f,m){var A=f.type.getDerivedStateFromError;if(typeof A=="function"){var S=m.value;o.payload=function(){return A(S)},o.callback=function(){tC(a,f,m)}}var I=f.stateNode;I!==null&&typeof I.componentDidCatch=="function"&&(o.callback=function(){tC(a,f,m),typeof A!="function"&&(Za===null?Za=new Set([this]):Za.add(this));var z=m.stack;this.componentDidCatch(m.value,{componentStack:z!==null?z:""})})}function i8(o,a,f,m,A){if(f.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(a=f.alternate,a!==null&&Yf(a,f,A,!0),f=_s.current,f!==null){switch(f.tag){case 13:return yo===null?Cb():f.alternate===null&&rr===0&&(rr=3),f.flags&=-257,f.flags|=65536,f.lanes=A,m===SA?f.flags|=16384:(a=f.updateQueue,a===null?f.updateQueue=new Set([m]):a.add(m),Mb(o,m,A)),!1;case 22:return f.flags|=65536,m===SA?f.flags|=16384:(a=f.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([m])},f.updateQueue=a):(f=a.retryQueue,f===null?a.retryQueue=new Set([m]):f.add(m)),Mb(o,m,A)),!1}throw Error(r(435,f.tag))}return Mb(o,m,A),Cb(),!1}if(nn)return a=_s.current,a!==null?(!(a.flags&65536)&&(a.flags|=256),a.flags|=65536,a.lanes=A,m!==_A&&(o=Error(r(422),{cause:m}),Df(ys(o,f)))):(m!==_A&&(a=Error(r(423),{cause:m}),Df(ys(a,f))),o=o.current.alternate,o.flags|=65536,A&=-A,o.lanes|=A,m=ys(m,f),A=GA(o.stateNode,m,A),ab(o,A),rr!==4&&(rr=2)),!1;var S=Error(r(520),{cause:m});if(S=ys(S,f),nh===null?nh=[S]:nh.push(S),rr!==4&&(rr=2),a===null)return!0;m=ys(m,f),f=a;do{switch(f.tag){case 3:return f.flags|=65536,o=A&-A,f.lanes|=o,o=GA(f.stateNode,m,o),ab(f,o),!1;case 1:if(a=f.type,S=f.stateNode,(f.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Za===null||!Za.has(S))))return f.flags|=65536,A&=-A,f.lanes|=A,A=nC(A),rC(A,o,f,m),ab(f,A),!1}f=f.return}while(f!==null);return!1}var iC=Error(r(461)),Br=!1;function Yr(o,a,f,m){a.child=o===null?cT(a,null,f,m):Gl(a,o.child,f,m)}function sC(o,a,f,m,A){f=f.render;var S=a.ref;if("ref"in m){var I={};for(var z in m)z!=="ref"&&(I[z]=m[z])}else I=m;return Zl(a),m=MA(o,a,f,I,S,A),z=RA(),o!==null&&!Br?(IA(o,a,A),Go(o,a,A)):(nn&&z&&AA(a),a.flags|=1,Yr(o,a,m,A),a.child)}function oC(o,a,f,m,A){if(o===null){var S=f.type;return typeof S=="function"&&!gb(S)&&S.defaultProps===void 0&&f.compare===null?(a.tag=15,a.type=S,aC(o,a,S,m,A)):(o=Fg(f.type,null,m,a,a.mode,A),o.ref=a.ref,o.return=a,a.child=o)}if(S=o.child,!tb(o,A)){var I=S.memoizedProps;if(f=f.compare,f=f!==null?f:Of,f(I,m)&&o.ref===a.ref)return Go(o,a,A)}return a.flags|=1,o=Xa(S,m),o.ref=a.ref,o.return=a,a.child=o}function aC(o,a,f,m,A){if(o!==null){var S=o.memoizedProps;if(Of(S,m)&&o.ref===a.ref)if(Br=!1,a.pendingProps=m=S,tb(o,A))o.flags&131072&&(Br=!0);else return a.lanes=o.lanes,Go(o,a,A)}return YA(o,a,f,m,A)}function lC(o,a,f){var m=a.pendingProps,A=m.children,S=(a.stateNode._pendingVisibility&2)!==0,I=o!==null?o.memoizedState:null;if(Gf(o,a),m.mode==="hidden"||S){if(a.flags&128){if(m=I!==null?I.baseLanes|f:f,o!==null){for(A=a.child=o.child,S=0;A!==null;)S=S|A.lanes|A.childLanes,A=A.sibling;a.childLanes=S&~m}else a.childLanes=0,a.child=null;return cC(o,a,m,f)}if(f&536870912)a.memoizedState={baseLanes:0,cachePool:null},o!==null&&Eg(a,I!==null?I.cachePool:null),I!==null?uT(a,I):xA(),dT(a);else return a.lanes=a.childLanes=536870912,cC(o,a,I!==null?I.baseLanes|f:f,f)}else I!==null?(Eg(a,I.cachePool),uT(a,I),za(),a.memoizedState=null):(o!==null&&Eg(a,null),xA(),za());return Yr(o,a,A,f),a.child}function cC(o,a,f,m){var A=CA();return A=A===null?null:{parent:Ir._currentValue,pool:A},a.memoizedState={baseLanes:f,cachePool:A},o!==null&&Eg(a,null),xA(),dT(a),o!==null&&Yf(o,a,m,!0),null}function Gf(o,a){var f=a.ref;if(f===null)o!==null&&o.ref!==null&&(a.flags|=2097664);else{if(typeof f!="function"&&typeof f!="object")throw Error(r(284));(o===null||o.ref!==f)&&(a.flags|=2097664)}}function YA(o,a,f,m,A){return Zl(a),f=MA(o,a,f,m,void 0,A),m=RA(),o!==null&&!Br?(IA(o,a,A),Go(o,a,A)):(nn&&m&&AA(a),a.flags|=1,Yr(o,a,f,A),a.child)}function uC(o,a,f,m,A,S){return Zl(a),a.updateQueue=null,f=mT(a,m,f,A),gT(o),m=RA(),o!==null&&!Br?(IA(o,a,S),Go(o,a,S)):(nn&&m&&AA(a),a.flags|=1,Yr(o,a,f,S),a.child)}function dC(o,a,f,m,A){if(Zl(a),a.stateNode===null){var S=wu,I=f.contextType;typeof I=="object"&&I!==null&&(S=ci(I)),S=new f(m,S),a.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=qA,a.stateNode=S,S._reactInternals=a,S=a.stateNode,S.props=m,S.state=a.memoizedState,S.refs={},sb(a),I=f.contextType,S.context=typeof I=="object"&&I!==null?ci(I):wu,S.state=a.memoizedState,I=f.getDerivedStateFromProps,typeof I=="function"&&(HA(a,f,I,m),S.state=a.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(I=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),I!==S.state&&qA.enqueueReplaceState(S,S.state,null),Qf(a,m,S,A),Wf(),S.state=a.memoizedState),typeof S.componentDidMount=="function"&&(a.flags|=4194308),m=!0}else if(o===null){S=a.stateNode;var z=a.memoizedProps,X=Xl(f,z);S.props=X;var ie=S.context,be=f.contextType;I=wu,typeof be=="object"&&be!==null&&(I=ci(be));var Te=f.getDerivedStateFromProps;be=typeof Te=="function"||typeof S.getSnapshotBeforeUpdate=="function",z=a.pendingProps!==z,be||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(z||ie!==I)&&XT(a,S,m,I),qa=!1;var he=a.memoizedState;S.state=he,Qf(a,m,S,A),Wf(),ie=a.memoizedState,z||he!==ie||qa?(typeof Te=="function"&&(HA(a,f,Te,m),ie=a.memoizedState),(X=qa||QT(a,f,X,m,he,ie,I))?(be||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(a.flags|=4194308)):(typeof S.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=m,a.memoizedState=ie),S.props=m,S.state=ie,S.context=I,m=X):(typeof S.componentDidMount=="function"&&(a.flags|=4194308),m=!1)}else{S=a.stateNode,ob(o,a),I=a.memoizedProps,be=Xl(f,I),S.props=be,Te=a.pendingProps,he=S.context,ie=f.contextType,X=wu,typeof ie=="object"&&ie!==null&&(X=ci(ie)),z=f.getDerivedStateFromProps,(ie=typeof z=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(I!==Te||he!==X)&&XT(a,S,m,X),qa=!1,he=a.memoizedState,S.state=he,Qf(a,m,S,A),Wf();var Ae=a.memoizedState;I!==Te||he!==Ae||qa||o!==null&&o.dependencies!==null&&Dg(o.dependencies)?(typeof z=="function"&&(HA(a,f,z,m),Ae=a.memoizedState),(be=qa||QT(a,f,be,m,he,Ae,X)||o!==null&&o.dependencies!==null&&Dg(o.dependencies))?(ie||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(m,Ae,X),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(m,Ae,X)),typeof S.componentDidUpdate=="function"&&(a.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof S.componentDidUpdate!="function"||I===o.memoizedProps&&he===o.memoizedState||(a.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||I===o.memoizedProps&&he===o.memoizedState||(a.flags|=1024),a.memoizedProps=m,a.memoizedState=Ae),S.props=m,S.state=Ae,S.context=X,m=be):(typeof S.componentDidUpdate!="function"||I===o.memoizedProps&&he===o.memoizedState||(a.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||I===o.memoizedProps&&he===o.memoizedState||(a.flags|=1024),m=!1)}return S=m,Gf(o,a),m=(a.flags&128)!==0,S||m?(S=a.stateNode,f=m&&typeof f.getDerivedStateFromError!="function"?null:S.render(),a.flags|=1,o!==null&&m?(a.child=Gl(a,o.child,null,A),a.child=Gl(a,null,f,A)):Yr(o,a,f,A),a.memoizedState=S.state,o=a.child):o=Go(o,a,A),o}function fC(o,a,f,m){return Vf(),a.flags|=256,Yr(o,a,f,m),a.child}var KA={dehydrated:null,treeContext:null,retryLane:0};function WA(o){return{baseLanes:o,cachePool:pT()}}function QA(o,a,f){return o=o!==null?o.childLanes&~f:0,a&&(o|=Es),o}function hC(o,a,f){var m=a.pendingProps,A=!1,S=(a.flags&128)!==0,I;if((I=S)||(I=o!==null&&o.memoizedState===null?!1:(Rr.current&2)!==0),I&&(A=!0,a.flags&=-129),I=(a.flags&32)!==0,a.flags&=-33,o===null){if(nn){if(A?Fa(a):za(),nn){var z=Gr,X;if(X=z){e:{for(X=z,z=vo;X.nodeType!==8;){if(!z){z=null;break e}if(X=Zs(X.nextSibling),X===null){z=null;break e}}z=X}z!==null?(a.memoizedState={dehydrated:z,treeContext:Ul!==null?{id:$o,overflow:Uo}:null,retryLane:536870912},X=ws(18,null,null,0),X.stateNode=z,X.return=a,a.child=X,_i=a,Gr=null,X=!0):X=!1}X||ql(a)}if(z=a.memoizedState,z!==null&&(z=z.dehydrated,z!==null))return z.data==="$!"?a.lanes=16:a.lanes=536870912,null;Ho(a)}return z=m.children,m=m.fallback,A?(za(),A=a.mode,z=JA({mode:"hidden",children:z},A),m=tc(m,A,f,null),z.return=a,m.return=a,z.sibling=m,a.child=z,A=a.child,A.memoizedState=WA(f),A.childLanes=QA(o,I,f),a.memoizedState=KA,m):(Fa(a),XA(a,z))}if(X=o.memoizedState,X!==null&&(z=X.dehydrated,z!==null)){if(S)a.flags&256?(Fa(a),a.flags&=-257,a=ZA(o,a,f)):a.memoizedState!==null?(za(),a.child=o.child,a.flags|=128,a=null):(za(),A=m.fallback,z=a.mode,m=JA({mode:"visible",children:m.children},z),A=tc(A,z,f,null),A.flags|=2,m.return=a,A.return=a,m.sibling=A,a.child=m,Gl(a,o.child,null,f),m=a.child,m.memoizedState=WA(f),m.childLanes=QA(o,I,f),a.memoizedState=KA,a=A);else if(Fa(a),z.data==="$!"){if(I=z.nextSibling&&z.nextSibling.dataset,I)var ie=I.dgst;I=ie,m=Error(r(419)),m.stack="",m.digest=I,Df({value:m,source:null,stack:null}),a=ZA(o,a,f)}else if(Br||Yf(o,a,f,!1),I=(f&o.childLanes)!==0,Br||I){if(I=Cn,I!==null){if(m=f&-f,m&42)m=1;else switch(m){case 2:m=1;break;case 8:m=4;break;case 32:m=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:m=64;break;case 268435456:m=134217728;break;default:m=0}if(m=m&(I.suspendedLanes|f)?0:m,m!==0&&m!==X.retryLane)throw X.retryLane=m,La(o,m),Si(I,o,m),iC}z.data==="$?"||Cb(),a=ZA(o,a,f)}else z.data==="$?"?(a.flags|=128,a.child=o.child,a=A8.bind(null,o),z._reactRetry=a,a=null):(o=X.treeContext,Gr=Zs(z.nextSibling),_i=a,nn=!0,Xs=null,vo=!1,o!==null&&(As[bs++]=$o,As[bs++]=Uo,As[bs++]=Ul,$o=o.id,Uo=o.overflow,Ul=a),a=XA(a,m.children),a.flags|=4096);return a}return A?(za(),A=m.fallback,z=a.mode,X=o.child,ie=X.sibling,m=Xa(X,{mode:"hidden",children:m.children}),m.subtreeFlags=X.subtreeFlags&31457280,ie!==null?A=Xa(ie,A):(A=tc(A,z,f,null),A.flags|=2),A.return=a,m.return=a,m.sibling=A,a.child=m,m=A,A=a.child,z=o.child.memoizedState,z===null?z=WA(f):(X=z.cachePool,X!==null?(ie=Ir._currentValue,X=X.parent!==ie?{parent:ie,pool:ie}:X):X=pT(),z={baseLanes:z.baseLanes|f,cachePool:X}),A.memoizedState=z,A.childLanes=QA(o,I,f),a.memoizedState=KA,m):(Fa(a),f=o.child,o=f.sibling,f=Xa(f,{mode:"visible",children:m.children}),f.return=a,f.sibling=null,o!==null&&(I=a.deletions,I===null?(a.deletions=[o],a.flags|=16):I.push(o)),a.child=f,a.memoizedState=null,f)}function XA(o,a){return a=JA({mode:"visible",children:a},o.mode),a.return=o,o.child=a}function JA(o,a){return LC(o,a,0,null)}function ZA(o,a,f){return Gl(a,o.child,null,f),o=XA(a,a.pendingProps.children),o.flags|=2,a.memoizedState=null,o}function pC(o,a,f){o.lanes|=a;var m=o.alternate;m!==null&&(m.lanes|=a),rb(o.return,a,f)}function eb(o,a,f,m,A){var S=o.memoizedState;S===null?o.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:m,tail:f,tailMode:A}:(S.isBackwards=a,S.rendering=null,S.renderingStartTime=0,S.last=m,S.tail=f,S.tailMode=A)}function gC(o,a,f){var m=a.pendingProps,A=m.revealOrder,S=m.tail;if(Yr(o,a,m.children,f),m=Rr.current,m&2)m=m&1|2,a.flags|=128;else{if(o!==null&&o.flags&128)e:for(o=a.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&pC(o,f,a);else if(o.tag===19)pC(o,f,a);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}m&=1}switch(ve(Rr,m),A){case"forwards":for(f=a.child,A=null;f!==null;)o=f.alternate,o!==null&&wg(o)===null&&(A=f),f=f.sibling;f=A,f===null?(A=a.child,a.child=null):(A=f.sibling,f.sibling=null),eb(a,!1,A,f,S);break;case"backwards":for(f=null,A=a.child,a.child=null;A!==null;){if(o=A.alternate,o!==null&&wg(o)===null){a.child=A;break}o=A.sibling,A.sibling=f,f=A,A=o}eb(a,!0,f,null,S);break;case"together":eb(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Go(o,a,f){if(o!==null&&(a.dependencies=o.dependencies),Ja|=a.lanes,!(f&a.childLanes))if(o!==null){if(Yf(o,a,f,!1),(f&a.childLanes)===0)return null}else return null;if(o!==null&&a.child!==o.child)throw Error(r(153));if(a.child!==null){for(o=a.child,f=Xa(o,o.pendingProps),a.child=f,f.return=a;o.sibling!==null;)o=o.sibling,f=f.sibling=Xa(o,o.pendingProps),f.return=a;f.sibling=null}return a.child}function tb(o,a){return o.lanes&a?!0:(o=o.dependencies,!!(o!==null&&Dg(o)))}function s8(o,a,f){switch(a.tag){case 3:Ve(a,a.stateNode.containerInfo),Ha(a,Ir,o.memoizedState.cache),Vf();break;case 27:case 5:ft(a);break;case 4:Ve(a,a.stateNode.containerInfo);break;case 10:Ha(a,a.type,a.memoizedProps.value);break;case 13:var m=a.memoizedState;if(m!==null)return m.dehydrated!==null?(Fa(a),a.flags|=128,null):f&a.child.childLanes?hC(o,a,f):(Fa(a),o=Go(o,a,f),o!==null?o.sibling:null);Fa(a);break;case 19:var A=(o.flags&128)!==0;if(m=(f&a.childLanes)!==0,m||(Yf(o,a,f,!1),m=(f&a.childLanes)!==0),A){if(m)return gC(o,a,f);a.flags|=128}if(A=a.memoizedState,A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),ve(Rr,Rr.current),m)break;return null;case 22:case 23:return a.lanes=0,lC(o,a,f);case 24:Ha(a,Ir,o.memoizedState.cache)}return Go(o,a,f)}function mC(o,a,f){if(o!==null)if(o.memoizedProps!==a.pendingProps)Br=!0;else{if(!tb(o,f)&&!(a.flags&128))return Br=!1,s8(o,a,f);Br=!!(o.flags&131072)}else Br=!1,nn&&a.flags&1048576&&eT(a,Ag,a.index);switch(a.lanes=0,a.tag){case 16:e:{o=a.pendingProps;var m=a.elementType,A=m._init;if(m=A(m._payload),a.type=m,typeof m=="function")gb(m)?(o=Xl(m,o),a.tag=1,a=dC(null,a,m,o,f)):(a.tag=0,a=YA(null,a,m,o,f));else{if(m!=null){if(A=m.$$typeof,A===b){a.tag=11,a=sC(null,a,m,o,f);break e}else if(A===T){a.tag=14,a=oC(null,a,m,o,f);break e}}throw a=P(m)||m,Error(r(306,a,""))}}return a;case 0:return YA(o,a,a.type,a.pendingProps,f);case 1:return m=a.type,A=Xl(m,a.pendingProps),dC(o,a,m,A,f);case 3:e:{if(Ve(a,a.stateNode.containerInfo),o===null)throw Error(r(387));var S=a.pendingProps;A=a.memoizedState,m=A.element,ob(o,a),Qf(a,S,null,f);var I=a.memoizedState;if(S=I.cache,Ha(a,Ir,S),S!==A.cache&&ib(a,[Ir],f,!0),Wf(),S=I.element,A.isDehydrated)if(A={element:S,isDehydrated:!1,cache:I.cache},a.updateQueue.baseState=A,a.memoizedState=A,a.flags&256){a=fC(o,a,S,f);break e}else if(S!==m){m=ys(Error(r(424)),a),Df(m),a=fC(o,a,S,f);break e}else for(Gr=Zs(a.stateNode.containerInfo.firstChild),_i=a,nn=!0,Xs=null,vo=!0,f=cT(a,null,S,f),a.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(Vf(),S===m){a=Go(o,a,f);break e}Yr(o,a,S,f)}a=a.child}return a;case 26:return Gf(o,a),o===null?(f=Ak(a.type,null,a.pendingProps,null))?a.memoizedState=f:nn||(f=a.type,o=a.pendingProps,m=Jg($e.current).createElement(f),m[_t]=a,m[tr]=o,Kr(m,f,o),Fn(m),a.stateNode=m):a.memoizedState=Ak(a.type,o.memoizedProps,a.pendingProps,o.memoizedState),null;case 27:return ft(a),o===null&&nn&&(m=a.stateNode=mk(a.type,a.pendingProps,$e.current),_i=a,vo=!0,Gr=Zs(m.firstChild)),m=a.pendingProps.children,o!==null||nn?Yr(o,a,m,f):a.child=Gl(a,null,m,f),Gf(o,a),a.child;case 5:return o===null&&nn&&((A=m=Gr)&&(m=V8(m,a.type,a.pendingProps,vo),m!==null?(a.stateNode=m,_i=a,Gr=Zs(m.firstChild),vo=!1,A=!0):A=!1),A||ql(a)),ft(a),A=a.type,S=a.pendingProps,I=o!==null?o.memoizedProps:null,m=S.children,zb(A,S)?m=null:I!==null&&zb(A,I)&&(a.flags|=32),a.memoizedState!==null&&(A=MA(o,a,J6,null,null,f),dh._currentValue=A),Gf(o,a),Yr(o,a,m,f),a.child;case 6:return o===null&&nn&&((o=f=Gr)&&(f=D8(f,a.pendingProps,vo),f!==null?(a.stateNode=f,_i=a,Gr=null,o=!0):o=!1),o||ql(a)),null;case 13:return hC(o,a,f);case 4:return Ve(a,a.stateNode.containerInfo),m=a.pendingProps,o===null?a.child=Gl(a,null,m,f):Yr(o,a,m,f),a.child;case 11:return sC(o,a,a.type,a.pendingProps,f);case 7:return Yr(o,a,a.pendingProps,f),a.child;case 8:return Yr(o,a,a.pendingProps.children,f),a.child;case 12:return Yr(o,a,a.pendingProps.children,f),a.child;case 10:return m=a.pendingProps,Ha(a,a.type,m.value),Yr(o,a,m.children,f),a.child;case 9:return A=a.type._context,m=a.pendingProps.children,Zl(a),A=ci(A),m=m(A),a.flags|=1,Yr(o,a,m,f),a.child;case 14:return oC(o,a,a.type,a.pendingProps,f);case 15:return aC(o,a,a.type,a.pendingProps,f);case 19:return gC(o,a,f);case 22:return lC(o,a,f);case 24:return Zl(a),m=ci(Ir),o===null?(A=CA(),A===null&&(A=Cn,S=EA(),A.pooledCache=S,S.refCount++,S!==null&&(A.pooledCacheLanes|=f),A=S),a.memoizedState={parent:m,cache:A},sb(a),Ha(a,Ir,A)):(o.lanes&f&&(ob(o,a),Qf(a,null,null,f),Wf()),A=o.memoizedState,S=a.memoizedState,A.parent!==m?(A={parent:m,cache:m},a.memoizedState=A,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=A),Ha(a,Ir,m)):(m=S.cache,Ha(a,Ir,m),m!==A.cache&&ib(a,[Ir],f,!0))),Yr(o,a,a.pendingProps.children,f),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}var nb=Me(null),Jl=null,Yo=null;function Ha(o,a,f){ve(nb,a._currentValue),a._currentValue=f}function Ko(o){o._currentValue=nb.current,Re(nb)}function rb(o,a,f){for(;o!==null;){var m=o.alternate;if((o.childLanes&a)!==a?(o.childLanes|=a,m!==null&&(m.childLanes|=a)):m!==null&&(m.childLanes&a)!==a&&(m.childLanes|=a),o===f)break;o=o.return}}function ib(o,a,f,m){var A=o.child;for(A!==null&&(A.return=o);A!==null;){var S=A.dependencies;if(S!==null){var I=A.child;S=S.firstContext;e:for(;S!==null;){var z=S;S=A;for(var X=0;X<a.length;X++)if(z.context===a[X]){S.lanes|=f,z=S.alternate,z!==null&&(z.lanes|=f),rb(S.return,f,o),m||(I=null);break e}S=z.next}}else if(A.tag===18){if(I=A.return,I===null)throw Error(r(341));I.lanes|=f,S=I.alternate,S!==null&&(S.lanes|=f),rb(I,f,o),I=null}else I=A.child;if(I!==null)I.return=A;else for(I=A;I!==null;){if(I===o){I=null;break}if(A=I.sibling,A!==null){A.return=I.return,I=A;break}I=I.return}A=I}}function Yf(o,a,f,m){o=null;for(var A=a,S=!1;A!==null;){if(!S){if(A.flags&524288)S=!0;else if(A.flags&262144)break}if(A.tag===10){var I=A.alternate;if(I===null)throw Error(r(387));if(I=I.memoizedProps,I!==null){var z=A.type;Qi(A.pendingProps.value,I.value)||(o!==null?o.push(z):o=[z])}}else if(A===De.current){if(I=A.alternate,I===null)throw Error(r(387));I.memoizedState.memoizedState!==A.memoizedState.memoizedState&&(o!==null?o.push(dh):o=[dh])}A=A.return}o!==null&&ib(a,o,f,m),a.flags|=262144}function Dg(o){for(o=o.firstContext;o!==null;){if(!Qi(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function Zl(o){Jl=o,Yo=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function ci(o){return vC(Jl,o)}function Bg(o,a){return Jl===null&&Zl(o),vC(o,a)}function vC(o,a){var f=a._currentValue;if(a={context:a,memoizedValue:f,next:null},Yo===null){if(o===null)throw Error(r(308));Yo=a,o.dependencies={lanes:0,firstContext:a},o.flags|=524288}else Yo=Yo.next=a;return f}var qa=!1;function sb(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ob(o,a){o=o.updateQueue,a.updateQueue===o&&(a.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function Ga(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function Ya(o,a,f){var m=o.updateQueue;if(m===null)return null;if(m=m.shared,Xn&2){var A=m.pending;return A===null?a.next=a:(a.next=A.next,A.next=a),m.pending=a,a=vg(o),J2(o,null,f),a}return mg(o,m,a,f),vg(o)}function Kf(o,a,f){if(a=a.updateQueue,a!==null&&(a=a.shared,(f&4194176)!==0)){var m=a.lanes;m&=o.pendingLanes,f|=m,a.lanes=f,pr(o,f)}}function ab(o,a){var f=o.updateQueue,m=o.alternate;if(m!==null&&(m=m.updateQueue,f===m)){var A=null,S=null;if(f=f.firstBaseUpdate,f!==null){do{var I={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};S===null?A=S=I:S=S.next=I,f=f.next}while(f!==null);S===null?A=S=a:S=S.next=a}else A=S=a;f={baseState:m.baseState,firstBaseUpdate:A,lastBaseUpdate:S,shared:m.shared,callbacks:m.callbacks},o.updateQueue=f;return}o=f.lastBaseUpdate,o===null?f.firstBaseUpdate=a:o.next=a,f.lastBaseUpdate=a}var lb=!1;function Wf(){if(lb){var o=Ru;if(o!==null)throw o}}function Qf(o,a,f,m){lb=!1;var A=o.updateQueue;qa=!1;var S=A.firstBaseUpdate,I=A.lastBaseUpdate,z=A.shared.pending;if(z!==null){A.shared.pending=null;var X=z,ie=X.next;X.next=null,I===null?S=ie:I.next=ie,I=X;var be=o.alternate;be!==null&&(be=be.updateQueue,z=be.lastBaseUpdate,z!==I&&(z===null?be.firstBaseUpdate=ie:z.next=ie,be.lastBaseUpdate=X))}if(S!==null){var Te=A.baseState;I=0,be=ie=X=null,z=S;do{var he=z.lane&-536870913,Ae=he!==z.lane;if(Ae?(Xt&he)===he:(m&he)===he){he!==0&&he===Mu&&(lb=!0),be!==null&&(be=be.next={lane:0,tag:z.tag,payload:z.payload,callback:null,next:null});e:{var Je=o,At=z;he=a;var ir=f;switch(At.tag){case 1:if(Je=At.payload,typeof Je=="function"){Te=Je.call(ir,Te,he);break e}Te=Je;break e;case 3:Je.flags=Je.flags&-65537|128;case 0:if(Je=At.payload,he=typeof Je=="function"?Je.call(ir,Te,he):Je,he==null)break e;Te=C({},Te,he);break e;case 2:qa=!0}}he=z.callback,he!==null&&(o.flags|=64,Ae&&(o.flags|=8192),Ae=A.callbacks,Ae===null?A.callbacks=[he]:Ae.push(he))}else Ae={lane:he,tag:z.tag,payload:z.payload,callback:z.callback,next:null},be===null?(ie=be=Ae,X=Te):be=be.next=Ae,I|=he;if(z=z.next,z===null){if(z=A.shared.pending,z===null)break;Ae=z,z=Ae.next,Ae.next=null,A.lastBaseUpdate=Ae,A.shared.pending=null}}while(!0);be===null&&(X=Te),A.baseState=X,A.firstBaseUpdate=ie,A.lastBaseUpdate=be,S===null&&(A.shared.lanes=0),Ja|=I,o.lanes=I,o.memoizedState=Te}}function yC(o,a){if(typeof o!="function")throw Error(r(191,o));o.call(a)}function AC(o,a){var f=o.callbacks;if(f!==null)for(o.callbacks=null,o=0;o<f.length;o++)yC(f[o],a)}function Xf(o,a){try{var f=a.updateQueue,m=f!==null?f.lastEffect:null;if(m!==null){var A=m.next;f=A;do{if((f.tag&o)===o){m=void 0;var S=f.create,I=f.inst;m=S(),I.destroy=m}f=f.next}while(f!==A)}}catch(z){bn(a,a.return,z)}}function Ka(o,a,f){try{var m=a.updateQueue,A=m!==null?m.lastEffect:null;if(A!==null){var S=A.next;m=S;do{if((m.tag&o)===o){var I=m.inst,z=I.destroy;if(z!==void 0){I.destroy=void 0,A=a;var X=f;try{z()}catch(ie){bn(A,X,ie)}}}m=m.next}while(m!==S)}}catch(ie){bn(a,a.return,ie)}}function bC(o){var a=o.updateQueue;if(a!==null){var f=o.stateNode;try{AC(a,f)}catch(m){bn(o,o.return,m)}}}function _C(o,a,f){f.props=Xl(o.type,o.memoizedProps),f.state=o.memoizedState;try{f.componentWillUnmount()}catch(m){bn(o,a,m)}}function ec(o,a){try{var f=o.ref;if(f!==null){var m=o.stateNode;switch(o.tag){case 26:case 27:case 5:var A=m;break;default:A=m}typeof f=="function"?o.refCleanup=f(A):f.current=A}}catch(S){bn(o,a,S)}}function Xi(o,a){var f=o.ref,m=o.refCleanup;if(f!==null)if(typeof m=="function")try{m()}catch(A){bn(o,a,A)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(A){bn(o,a,A)}else f.current=null}function SC(o){var a=o.type,f=o.memoizedProps,m=o.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":f.autoFocus&&m.focus();break e;case"img":f.src?m.src=f.src:f.srcSet&&(m.srcset=f.srcSet)}}catch(A){bn(o,o.return,A)}}function xC(o,a,f){try{var m=o.stateNode;R8(m,o.type,f,a),m[tr]=a}catch(A){bn(o,o.return,A)}}function wC(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27||o.tag===4}function cb(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||wC(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==27&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function ub(o,a,f){var m=o.tag;if(m===5||m===6)o=o.stateNode,a?f.nodeType===8?f.parentNode.insertBefore(o,a):f.insertBefore(o,a):(f.nodeType===8?(a=f.parentNode,a.insertBefore(o,f)):(a=f,a.appendChild(o)),f=f._reactRootContainer,f!=null||a.onclick!==null||(a.onclick=Xg));else if(m!==4&&m!==27&&(o=o.child,o!==null))for(ub(o,a,f),o=o.sibling;o!==null;)ub(o,a,f),o=o.sibling}function Ng(o,a,f){var m=o.tag;if(m===5||m===6)o=o.stateNode,a?f.insertBefore(o,a):f.appendChild(o);else if(m!==4&&m!==27&&(o=o.child,o!==null))for(Ng(o,a,f),o=o.sibling;o!==null;)Ng(o,a,f),o=o.sibling}var Wo=!1,nr=!1,db=!1,EC=typeof WeakSet=="function"?WeakSet:Set,Nr=null,TC=!1;function o8(o,a){if(o=o.containerInfo,Lb=im,o=U2(o),hA(o)){if("selectionStart"in o)var f={start:o.selectionStart,end:o.selectionEnd};else e:{f=(f=o.ownerDocument)&&f.defaultView||window;var m=f.getSelection&&f.getSelection();if(m&&m.rangeCount!==0){f=m.anchorNode;var A=m.anchorOffset,S=m.focusNode;m=m.focusOffset;try{f.nodeType,S.nodeType}catch{f=null;break e}var I=0,z=-1,X=-1,ie=0,be=0,Te=o,he=null;t:for(;;){for(var Ae;Te!==f||A!==0&&Te.nodeType!==3||(z=I+A),Te!==S||m!==0&&Te.nodeType!==3||(X=I+m),Te.nodeType===3&&(I+=Te.nodeValue.length),(Ae=Te.firstChild)!==null;)he=Te,Te=Ae;for(;;){if(Te===o)break t;if(he===f&&++ie===A&&(z=I),he===S&&++be===m&&(X=I),(Ae=Te.nextSibling)!==null)break;Te=he,he=Te.parentNode}Te=Ae}f=z===-1||X===-1?null:{start:z,end:X}}else f=null}f=f||{start:0,end:0}}else f=null;for(Fb={focusedElem:o,selectionRange:f},im=!1,Nr=a;Nr!==null;)if(a=Nr,o=a.child,(a.subtreeFlags&1028)!==0&&o!==null)o.return=a,Nr=o;else for(;Nr!==null;){switch(a=Nr,S=a.alternate,o=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if(o&1024&&S!==null){o=void 0,f=a,A=S.memoizedProps,S=S.memoizedState,m=f.stateNode;try{var Je=Xl(f.type,A,f.elementType===f.type);o=m.getSnapshotBeforeUpdate(Je,S),m.__reactInternalSnapshotBeforeUpdate=o}catch(At){bn(f,f.return,At)}}break;case 3:if(o&1024){if(o=a.stateNode.containerInfo,f=o.nodeType,f===9)Hb(o);else if(f===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":Hb(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(o&1024)throw Error(r(163))}if(o=a.sibling,o!==null){o.return=a.return,Nr=o;break}Nr=a.return}return Je=TC,TC=!1,Je}function CC(o,a,f){var m=f.flags;switch(f.tag){case 0:case 11:case 15:Xo(o,f),m&4&&Xf(5,f);break;case 1:if(Xo(o,f),m&4)if(o=f.stateNode,a===null)try{o.componentDidMount()}catch(z){bn(f,f.return,z)}else{var A=Xl(f.type,a.memoizedProps);a=a.memoizedState;try{o.componentDidUpdate(A,a,o.__reactInternalSnapshotBeforeUpdate)}catch(z){bn(f,f.return,z)}}m&64&&bC(f),m&512&&ec(f,f.return);break;case 3:if(Xo(o,f),m&64&&(m=f.updateQueue,m!==null)){if(o=null,f.child!==null)switch(f.child.tag){case 27:case 5:o=f.child.stateNode;break;case 1:o=f.child.stateNode}try{AC(m,o)}catch(z){bn(f,f.return,z)}}break;case 26:Xo(o,f),m&512&&ec(f,f.return);break;case 27:case 5:Xo(o,f),a===null&&m&4&&SC(f),m&512&&ec(f,f.return);break;case 12:Xo(o,f);break;case 13:Xo(o,f),m&4&&RC(o,f);break;case 22:if(A=f.memoizedState!==null||Wo,!A){a=a!==null&&a.memoizedState!==null||nr;var S=Wo,I=nr;Wo=A,(nr=a)&&!I?Wa(o,f,(f.subtreeFlags&8772)!==0):Xo(o,f),Wo=S,nr=I}m&512&&(f.memoizedProps.mode==="manual"?ec(f,f.return):Xi(f,f.return));break;default:Xo(o,f)}}function kC(o){var a=o.alternate;a!==null&&(o.alternate=null,kC(a)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(a=o.stateNode,a!==null&&bi(a)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var xr=null,Ji=!1;function Qo(o,a,f){for(f=f.child;f!==null;)MC(o,a,f),f=f.sibling}function MC(o,a,f){if(Nt&&typeof Nt.onCommitFiberUnmount=="function")try{Nt.onCommitFiberUnmount(bt,f)}catch{}switch(f.tag){case 26:nr||Xi(f,a),Qo(o,a,f),f.memoizedState?f.memoizedState.count--:f.stateNode&&(f=f.stateNode,f.parentNode.removeChild(f));break;case 27:nr||Xi(f,a);var m=xr,A=Ji;for(xr=f.stateNode,Qo(o,a,f),f=f.stateNode,a=f.attributes;a.length;)f.removeAttributeNode(a[0]);bi(f),xr=m,Ji=A;break;case 5:nr||Xi(f,a);case 6:A=xr;var S=Ji;if(xr=null,Qo(o,a,f),xr=A,Ji=S,xr!==null)if(Ji)try{o=xr,m=f.stateNode,o.nodeType===8?o.parentNode.removeChild(m):o.removeChild(m)}catch(I){bn(f,a,I)}else try{xr.removeChild(f.stateNode)}catch(I){bn(f,a,I)}break;case 18:xr!==null&&(Ji?(a=xr,f=f.stateNode,a.nodeType===8?Ub(a.parentNode,f):a.nodeType===1&&Ub(a,f),gh(a)):Ub(xr,f.stateNode));break;case 4:m=xr,A=Ji,xr=f.stateNode.containerInfo,Ji=!0,Qo(o,a,f),xr=m,Ji=A;break;case 0:case 11:case 14:case 15:nr||Ka(2,f,a),nr||Ka(4,f,a),Qo(o,a,f);break;case 1:nr||(Xi(f,a),m=f.stateNode,typeof m.componentWillUnmount=="function"&&_C(f,a,m)),Qo(o,a,f);break;case 21:Qo(o,a,f);break;case 22:nr||Xi(f,a),nr=(m=nr)||f.memoizedState!==null,Qo(o,a,f),nr=m;break;default:Qo(o,a,f)}}function RC(o,a){if(a.memoizedState===null&&(o=a.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{gh(o)}catch(f){bn(a,a.return,f)}}function a8(o){switch(o.tag){case 13:case 19:var a=o.stateNode;return a===null&&(a=o.stateNode=new EC),a;case 22:return o=o.stateNode,a=o._retryCache,a===null&&(a=o._retryCache=new EC),a;default:throw Error(r(435,o.tag))}}function fb(o,a){var f=a8(o);a.forEach(function(m){var A=b8.bind(null,o,m);f.has(m)||(f.add(m),m.then(A,A))})}function Ss(o,a){var f=a.deletions;if(f!==null)for(var m=0;m<f.length;m++){var A=f[m],S=o,I=a,z=I;e:for(;z!==null;){switch(z.tag){case 27:case 5:xr=z.stateNode,Ji=!1;break e;case 3:xr=z.stateNode.containerInfo,Ji=!0;break e;case 4:xr=z.stateNode.containerInfo,Ji=!0;break e}z=z.return}if(xr===null)throw Error(r(160));MC(S,I,A),xr=null,Ji=!1,S=A.alternate,S!==null&&(S.return=null),A.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)IC(a,o),a=a.sibling}var Js=null;function IC(o,a){var f=o.alternate,m=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:Ss(a,o),xs(o),m&4&&(Ka(3,o,o.return),Xf(3,o),Ka(5,o,o.return));break;case 1:Ss(a,o),xs(o),m&512&&(nr||f===null||Xi(f,f.return)),m&64&&Wo&&(o=o.updateQueue,o!==null&&(m=o.callbacks,m!==null&&(f=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=f===null?m:f.concat(m))));break;case 26:var A=Js;if(Ss(a,o),xs(o),m&512&&(nr||f===null||Xi(f,f.return)),m&4){var S=f!==null?f.memoizedState:null;if(m=o.memoizedState,f===null)if(m===null)if(o.stateNode===null){e:{m=o.type,f=o.memoizedProps,A=A.ownerDocument||A;t:switch(m){case"title":S=A.getElementsByTagName("title")[0],(!S||S[Qt]||S[_t]||S.namespaceURI==="http://www.w3.org/2000/svg"||S.hasAttribute("itemprop"))&&(S=A.createElement(m),A.head.insertBefore(S,A.querySelector("head > title"))),Kr(S,m,f),S[_t]=o,Fn(S),m=S;break e;case"link":var I=Sk("link","href",A).get(m+(f.href||""));if(I){for(var z=0;z<I.length;z++)if(S=I[z],S.getAttribute("href")===(f.href==null?null:f.href)&&S.getAttribute("rel")===(f.rel==null?null:f.rel)&&S.getAttribute("title")===(f.title==null?null:f.title)&&S.getAttribute("crossorigin")===(f.crossOrigin==null?null:f.crossOrigin)){I.splice(z,1);break t}}S=A.createElement(m),Kr(S,m,f),A.head.appendChild(S);break;case"meta":if(I=Sk("meta","content",A).get(m+(f.content||""))){for(z=0;z<I.length;z++)if(S=I[z],S.getAttribute("content")===(f.content==null?null:""+f.content)&&S.getAttribute("name")===(f.name==null?null:f.name)&&S.getAttribute("property")===(f.property==null?null:f.property)&&S.getAttribute("http-equiv")===(f.httpEquiv==null?null:f.httpEquiv)&&S.getAttribute("charset")===(f.charSet==null?null:f.charSet)){I.splice(z,1);break t}}S=A.createElement(m),Kr(S,m,f),A.head.appendChild(S);break;default:throw Error(r(468,m))}S[_t]=o,Fn(S),m=S}o.stateNode=m}else xk(A,o.type,o.stateNode);else o.stateNode=_k(A,m,o.memoizedProps);else S!==m?(S===null?f.stateNode!==null&&(f=f.stateNode,f.parentNode.removeChild(f)):S.count--,m===null?xk(A,o.type,o.stateNode):_k(A,m,o.memoizedProps)):m===null&&o.stateNode!==null&&xC(o,o.memoizedProps,f.memoizedProps)}break;case 27:if(m&4&&o.alternate===null){A=o.stateNode,S=o.memoizedProps;try{for(var X=A.firstChild;X;){var ie=X.nextSibling,be=X.nodeName;X[Qt]||be==="HEAD"||be==="BODY"||be==="SCRIPT"||be==="STYLE"||be==="LINK"&&X.rel.toLowerCase()==="stylesheet"||A.removeChild(X),X=ie}for(var Te=o.type,he=A.attributes;he.length;)A.removeAttributeNode(he[0]);Kr(A,Te,S),A[_t]=o,A[tr]=S}catch(Je){bn(o,o.return,Je)}}case 5:if(Ss(a,o),xs(o),m&512&&(nr||f===null||Xi(f,f.return)),o.flags&32){A=o.stateNode;try{mn(A,"")}catch(Je){bn(o,o.return,Je)}}m&4&&o.stateNode!=null&&(A=o.memoizedProps,xC(o,A,f!==null?f.memoizedProps:A)),m&1024&&(db=!0);break;case 6:if(Ss(a,o),xs(o),m&4){if(o.stateNode===null)throw Error(r(162));m=o.memoizedProps,f=o.stateNode;try{f.nodeValue=m}catch(Je){bn(o,o.return,Je)}}break;case 3:if(tm=null,A=Js,Js=Zg(a.containerInfo),Ss(a,o),Js=A,xs(o),m&4&&f!==null&&f.memoizedState.isDehydrated)try{gh(a.containerInfo)}catch(Je){bn(o,o.return,Je)}db&&(db=!1,OC(o));break;case 4:m=Js,Js=Zg(o.stateNode.containerInfo),Ss(a,o),xs(o),Js=m;break;case 12:Ss(a,o),xs(o);break;case 13:Ss(a,o),xs(o),o.child.flags&8192&&o.memoizedState!==null!=(f!==null&&f.memoizedState!==null)&&(_b=pt()),m&4&&(m=o.updateQueue,m!==null&&(o.updateQueue=null,fb(o,m)));break;case 22:if(m&512&&(nr||f===null||Xi(f,f.return)),X=o.memoizedState!==null,ie=f!==null&&f.memoizedState!==null,be=Wo,Te=nr,Wo=be||X,nr=Te||ie,Ss(a,o),nr=Te,Wo=be,xs(o),a=o.stateNode,a._current=o,a._visibility&=-3,a._visibility|=a._pendingVisibility&2,m&8192&&(a._visibility=X?a._visibility&-2:a._visibility|1,X&&(a=Wo||nr,f===null||ie||a||Pu(o)),o.memoizedProps===null||o.memoizedProps.mode!=="manual"))e:for(f=null,a=o;;){if(a.tag===5||a.tag===26||a.tag===27){if(f===null){ie=f=a;try{if(A=ie.stateNode,X)S=A.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{I=ie.stateNode,z=ie.memoizedProps.style;var Ae=z!=null&&z.hasOwnProperty("display")?z.display:null;I.style.display=Ae==null||typeof Ae=="boolean"?"":(""+Ae).trim()}}catch(Je){bn(ie,ie.return,Je)}}}else if(a.tag===6){if(f===null){ie=a;try{ie.stateNode.nodeValue=X?"":ie.memoizedProps}catch(Je){bn(ie,ie.return,Je)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===o)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;f===a&&(f=null),a=a.return}f===a&&(f=null),a.sibling.return=a.return,a=a.sibling}m&4&&(m=o.updateQueue,m!==null&&(f=m.retryQueue,f!==null&&(m.retryQueue=null,fb(o,f))));break;case 19:Ss(a,o),xs(o),m&4&&(m=o.updateQueue,m!==null&&(o.updateQueue=null,fb(o,m)));break;case 21:break;default:Ss(a,o),xs(o)}}function xs(o){var a=o.flags;if(a&2){try{if(o.tag!==27){e:{for(var f=o.return;f!==null;){if(wC(f)){var m=f;break e}f=f.return}throw Error(r(160))}switch(m.tag){case 27:var A=m.stateNode,S=cb(o);Ng(o,S,A);break;case 5:var I=m.stateNode;m.flags&32&&(mn(I,""),m.flags&=-33);var z=cb(o);Ng(o,z,I);break;case 3:case 4:var X=m.stateNode.containerInfo,ie=cb(o);ub(o,ie,X);break;default:throw Error(r(161))}}}catch(be){bn(o,o.return,be)}o.flags&=-3}a&4096&&(o.flags&=-4097)}function OC(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var a=o;OC(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),o=o.sibling}}function Xo(o,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)CC(o,a.alternate,a),a=a.sibling}function Pu(o){for(o=o.child;o!==null;){var a=o;switch(a.tag){case 0:case 11:case 14:case 15:Ka(4,a,a.return),Pu(a);break;case 1:Xi(a,a.return);var f=a.stateNode;typeof f.componentWillUnmount=="function"&&_C(a,a.return,f),Pu(a);break;case 26:case 27:case 5:Xi(a,a.return),Pu(a);break;case 22:Xi(a,a.return),a.memoizedState===null&&Pu(a);break;default:Pu(a)}o=o.sibling}}function Wa(o,a,f){for(f=f&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var m=a.alternate,A=o,S=a,I=S.flags;switch(S.tag){case 0:case 11:case 15:Wa(A,S,f),Xf(4,S);break;case 1:if(Wa(A,S,f),m=S,A=m.stateNode,typeof A.componentDidMount=="function")try{A.componentDidMount()}catch(ie){bn(m,m.return,ie)}if(m=S,A=m.updateQueue,A!==null){var z=m.stateNode;try{var X=A.shared.hiddenCallbacks;if(X!==null)for(A.shared.hiddenCallbacks=null,A=0;A<X.length;A++)yC(X[A],z)}catch(ie){bn(m,m.return,ie)}}f&&I&64&&bC(S),ec(S,S.return);break;case 26:case 27:case 5:Wa(A,S,f),f&&m===null&&I&4&&SC(S),ec(S,S.return);break;case 12:Wa(A,S,f);break;case 13:Wa(A,S,f),f&&I&4&&RC(A,S);break;case 22:S.memoizedState===null&&Wa(A,S,f),ec(S,S.return);break;default:Wa(A,S,f)}a=a.sibling}}function hb(o,a){var f=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),o=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(o=a.memoizedState.cachePool.pool),o!==f&&(o!=null&&o.refCount++,f!=null&&zf(f))}function pb(o,a){o=null,a.alternate!==null&&(o=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==o&&(a.refCount++,o!=null&&zf(o))}function Qa(o,a,f,m){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)jC(o,a,f,m),a=a.sibling}function jC(o,a,f,m){var A=a.flags;switch(a.tag){case 0:case 11:case 15:Qa(o,a,f,m),A&2048&&Xf(9,a);break;case 3:Qa(o,a,f,m),A&2048&&(o=null,a.alternate!==null&&(o=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==o&&(a.refCount++,o!=null&&zf(o)));break;case 12:if(A&2048){Qa(o,a,f,m),o=a.stateNode;try{var S=a.memoizedProps,I=S.id,z=S.onPostCommit;typeof z=="function"&&z(I,a.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(X){bn(a,a.return,X)}}else Qa(o,a,f,m);break;case 23:break;case 22:S=a.stateNode,a.memoizedState!==null?S._visibility&4?Qa(o,a,f,m):Jf(o,a):S._visibility&4?Qa(o,a,f,m):(S._visibility|=4,Vu(o,a,f,m,(a.subtreeFlags&10256)!==0)),A&2048&&hb(a.alternate,a);break;case 24:Qa(o,a,f,m),A&2048&&pb(a.alternate,a);break;default:Qa(o,a,f,m)}}function Vu(o,a,f,m,A){for(A=A&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var S=o,I=a,z=f,X=m,ie=I.flags;switch(I.tag){case 0:case 11:case 15:Vu(S,I,z,X,A),Xf(8,I);break;case 23:break;case 22:var be=I.stateNode;I.memoizedState!==null?be._visibility&4?Vu(S,I,z,X,A):Jf(S,I):(be._visibility|=4,Vu(S,I,z,X,A)),A&&ie&2048&&hb(I.alternate,I);break;case 24:Vu(S,I,z,X,A),A&&ie&2048&&pb(I.alternate,I);break;default:Vu(S,I,z,X,A)}a=a.sibling}}function Jf(o,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var f=o,m=a,A=m.flags;switch(m.tag){case 22:Jf(f,m),A&2048&&hb(m.alternate,m);break;case 24:Jf(f,m),A&2048&&pb(m.alternate,m);break;default:Jf(f,m)}a=a.sibling}}var Zf=8192;function Du(o){if(o.subtreeFlags&Zf)for(o=o.child;o!==null;)PC(o),o=o.sibling}function PC(o){switch(o.tag){case 26:Du(o),o.flags&Zf&&o.memoizedState!==null&&W8(Js,o.memoizedState,o.memoizedProps);break;case 5:Du(o);break;case 3:case 4:var a=Js;Js=Zg(o.stateNode.containerInfo),Du(o),Js=a;break;case 22:o.memoizedState===null&&(a=o.alternate,a!==null&&a.memoizedState!==null?(a=Zf,Zf=16777216,Du(o),Zf=a):Du(o));break;default:Du(o)}}function VC(o){var a=o.alternate;if(a!==null&&(o=a.child,o!==null)){a.child=null;do a=o.sibling,o.sibling=null,o=a;while(o!==null)}}function eh(o){var a=o.deletions;if(o.flags&16){if(a!==null)for(var f=0;f<a.length;f++){var m=a[f];Nr=m,BC(m,o)}VC(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)DC(o),o=o.sibling}function DC(o){switch(o.tag){case 0:case 11:case 15:eh(o),o.flags&2048&&Ka(9,o,o.return);break;case 3:eh(o);break;case 12:eh(o);break;case 22:var a=o.stateNode;o.memoizedState!==null&&a._visibility&4&&(o.return===null||o.return.tag!==13)?(a._visibility&=-5,Lg(o)):eh(o);break;default:eh(o)}}function Lg(o){var a=o.deletions;if(o.flags&16){if(a!==null)for(var f=0;f<a.length;f++){var m=a[f];Nr=m,BC(m,o)}VC(o)}for(o=o.child;o!==null;){switch(a=o,a.tag){case 0:case 11:case 15:Ka(8,a,a.return),Lg(a);break;case 22:f=a.stateNode,f._visibility&4&&(f._visibility&=-5,Lg(a));break;default:Lg(a)}o=o.sibling}}function BC(o,a){for(;Nr!==null;){var f=Nr;switch(f.tag){case 0:case 11:case 15:Ka(8,f,a);break;case 23:case 22:if(f.memoizedState!==null&&f.memoizedState.cachePool!==null){var m=f.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:zf(f.memoizedState.cache)}if(m=f.child,m!==null)m.return=f,Nr=m;else e:for(f=o;Nr!==null;){m=Nr;var A=m.sibling,S=m.return;if(kC(m),m===f){Nr=null;break e}if(A!==null){A.return=S,Nr=A;break e}Nr=S}}}function l8(o,a,f,m){this.tag=o,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ws(o,a,f,m){return new l8(o,a,f,m)}function gb(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Xa(o,a){var f=o.alternate;return f===null?(f=ws(o.tag,a,o.key,o.mode),f.elementType=o.elementType,f.type=o.type,f.stateNode=o.stateNode,f.alternate=o,o.alternate=f):(f.pendingProps=a,f.type=o.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=o.flags&31457280,f.childLanes=o.childLanes,f.lanes=o.lanes,f.child=o.child,f.memoizedProps=o.memoizedProps,f.memoizedState=o.memoizedState,f.updateQueue=o.updateQueue,a=o.dependencies,f.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},f.sibling=o.sibling,f.index=o.index,f.ref=o.ref,f.refCleanup=o.refCleanup,f}function NC(o,a){o.flags&=31457282;var f=o.alternate;return f===null?(o.childLanes=0,o.lanes=a,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=f.childLanes,o.lanes=f.lanes,o.child=f.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=f.memoizedProps,o.memoizedState=f.memoizedState,o.updateQueue=f.updateQueue,o.type=f.type,a=f.dependencies,o.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),o}function Fg(o,a,f,m,A,S){var I=0;if(m=o,typeof o=="function")gb(o)&&(I=1);else if(typeof o=="string")I=Y8(o,f,je.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case d:return tc(f.children,A,S,a);case u:I=8,A|=24;break;case p:return o=ws(12,f,a,A|2),o.elementType=p,o.lanes=S,o;case _:return o=ws(13,f,a,A),o.elementType=_,o.lanes=S,o;case w:return o=ws(19,f,a,A),o.elementType=w,o.lanes=S,o;case R:return LC(f,A,S,a);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case h:case y:I=10;break e;case v:I=9;break e;case b:I=11;break e;case T:I=14;break e;case k:I=16,m=null;break e}I=29,f=Error(r(130,o===null?"null":typeof o,"")),m=null}return a=ws(I,f,a,A),a.elementType=o,a.type=m,a.lanes=S,a}function tc(o,a,f,m){return o=ws(7,o,m,a),o.lanes=f,o}function LC(o,a,f,m){o=ws(22,o,m,a),o.elementType=R,o.lanes=f;var A={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var S=A._current;if(S===null)throw Error(r(456));if(!(A._pendingVisibility&2)){var I=La(S,2);I!==null&&(A._pendingVisibility|=2,Si(I,S,2))}},attach:function(){var S=A._current;if(S===null)throw Error(r(456));if(A._pendingVisibility&2){var I=La(S,2);I!==null&&(A._pendingVisibility&=-3,Si(I,S,2))}}};return o.stateNode=A,o}function mb(o,a,f){return o=ws(6,o,null,a),o.lanes=f,o}function vb(o,a,f){return a=ws(4,o.children!==null?o.children:[],o.key,a),a.lanes=f,a.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},a}function Jo(o){o.flags|=4}function FC(o,a){if(a.type!=="stylesheet"||a.state.loading&4)o.flags&=-16777217;else if(o.flags|=16777216,!wk(a)){if(a=_s.current,a!==null&&((Xt&4194176)===Xt?yo!==null:(Xt&62914560)!==Xt&&!(Xt&536870912)||a!==yo))throw Nf=SA,rT;o.flags|=8192}}function zg(o,a){a!==null&&(o.flags|=4),o.flags&16384&&(a=o.tag!==22?ai():536870912,o.lanes|=a,Nu|=a)}function th(o,a){if(!nn)switch(o.tailMode){case"hidden":a=o.tail;for(var f=null;a!==null;)a.alternate!==null&&(f=a),a=a.sibling;f===null?o.tail=null:f.sibling=null;break;case"collapsed":f=o.tail;for(var m=null;f!==null;)f.alternate!==null&&(m=f),f=f.sibling;m===null?a||o.tail===null?o.tail=null:o.tail.sibling=null:m.sibling=null}}function Qn(o){var a=o.alternate!==null&&o.alternate.child===o.child,f=0,m=0;if(a)for(var A=o.child;A!==null;)f|=A.lanes|A.childLanes,m|=A.subtreeFlags&31457280,m|=A.flags&31457280,A.return=o,A=A.sibling;else for(A=o.child;A!==null;)f|=A.lanes|A.childLanes,m|=A.subtreeFlags,m|=A.flags,A.return=o,A=A.sibling;return o.subtreeFlags|=m,o.childLanes=f,a}function c8(o,a,f){var m=a.pendingProps;switch(bA(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qn(a),null;case 1:return Qn(a),null;case 3:return f=a.stateNode,m=null,o!==null&&(m=o.memoizedState.cache),a.memoizedState.cache!==m&&(a.flags|=2048),Ko(Ir),ot(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(o===null||o.child===null)&&(Pf(a)?Jo(a):o===null||o.memoizedState.isDehydrated&&!(a.flags&256)||(a.flags|=1024,Xs!==null&&(Eb(Xs),Xs=null))),Qn(a),null;case 26:return f=a.memoizedState,o===null?(Jo(a),f!==null?(Qn(a),FC(a,f)):(Qn(a),a.flags&=-16777217)):f?f!==o.memoizedState?(Jo(a),Qn(a),FC(a,f)):(Qn(a),a.flags&=-16777217):(o.memoizedProps!==m&&Jo(a),Qn(a),a.flags&=-16777217),null;case 27:Be(a),f=$e.current;var A=a.type;if(o!==null&&a.stateNode!=null)o.memoizedProps!==m&&Jo(a);else{if(!m){if(a.stateNode===null)throw Error(r(166));return Qn(a),null}o=je.current,Pf(a)?tT(a):(o=mk(A,m,f),a.stateNode=o,Jo(a))}return Qn(a),null;case 5:if(Be(a),f=a.type,o!==null&&a.stateNode!=null)o.memoizedProps!==m&&Jo(a);else{if(!m){if(a.stateNode===null)throw Error(r(166));return Qn(a),null}if(o=je.current,Pf(a))tT(a);else{switch(A=Jg($e.current),o){case 1:o=A.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:o=A.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":o=A.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":o=A.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":o=A.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof m.is=="string"?A.createElement("select",{is:m.is}):A.createElement("select"),m.multiple?o.multiple=!0:m.size&&(o.size=m.size);break;default:o=typeof m.is=="string"?A.createElement(f,{is:m.is}):A.createElement(f)}}o[_t]=a,o[tr]=m;e:for(A=a.child;A!==null;){if(A.tag===5||A.tag===6)o.appendChild(A.stateNode);else if(A.tag!==4&&A.tag!==27&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===a)break e;for(;A.sibling===null;){if(A.return===null||A.return===a)break e;A=A.return}A.sibling.return=A.return,A=A.sibling}a.stateNode=o;e:switch(Kr(o,f,m),f){case"button":case"input":case"select":case"textarea":o=!!m.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Jo(a)}}return Qn(a),a.flags&=-16777217,null;case 6:if(o&&a.stateNode!=null)o.memoizedProps!==m&&Jo(a);else{if(typeof m!="string"&&a.stateNode===null)throw Error(r(166));if(o=$e.current,Pf(a)){if(o=a.stateNode,f=a.memoizedProps,m=null,A=_i,A!==null)switch(A.tag){case 27:case 5:m=A.memoizedProps}o[_t]=a,o=!!(o.nodeValue===f||m!==null&&m.suppressHydrationWarning===!0||uk(o.nodeValue,f)),o||ql(a)}else o=Jg(o).createTextNode(m),o[_t]=a,a.stateNode=o}return Qn(a),null;case 13:if(m=a.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(A=Pf(a),m!==null&&m.dehydrated!==null){if(o===null){if(!A)throw Error(r(318));if(A=a.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(r(317));A[_t]=a}else Vf(),!(a.flags&128)&&(a.memoizedState=null),a.flags|=4;Qn(a),A=!1}else Xs!==null&&(Eb(Xs),Xs=null),A=!0;if(!A)return a.flags&256?(Ho(a),a):(Ho(a),null)}if(Ho(a),a.flags&128)return a.lanes=f,a;if(f=m!==null,o=o!==null&&o.memoizedState!==null,f){m=a.child,A=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(A=m.alternate.memoizedState.cachePool.pool);var S=null;m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(S=m.memoizedState.cachePool.pool),S!==A&&(m.flags|=2048)}return f!==o&&f&&(a.child.flags|=8192),zg(a,a.updateQueue),Qn(a),null;case 4:return ot(),o===null&&Db(a.stateNode.containerInfo),Qn(a),null;case 10:return Ko(a.type),Qn(a),null;case 19:if(Re(Rr),A=a.memoizedState,A===null)return Qn(a),null;if(m=(a.flags&128)!==0,S=A.rendering,S===null)if(m)th(A,!1);else{if(rr!==0||o!==null&&o.flags&128)for(o=a.child;o!==null;){if(S=wg(o),S!==null){for(a.flags|=128,th(A,!1),o=S.updateQueue,a.updateQueue=o,zg(a,o),a.subtreeFlags=0,o=f,f=a.child;f!==null;)NC(f,o),f=f.sibling;return ve(Rr,Rr.current&1|2),a.child}o=o.sibling}A.tail!==null&&pt()>$g&&(a.flags|=128,m=!0,th(A,!1),a.lanes=4194304)}else{if(!m)if(o=wg(S),o!==null){if(a.flags|=128,m=!0,o=o.updateQueue,a.updateQueue=o,zg(a,o),th(A,!0),A.tail===null&&A.tailMode==="hidden"&&!S.alternate&&!nn)return Qn(a),null}else 2*pt()-A.renderingStartTime>$g&&f!==536870912&&(a.flags|=128,m=!0,th(A,!1),a.lanes=4194304);A.isBackwards?(S.sibling=a.child,a.child=S):(o=A.last,o!==null?o.sibling=S:a.child=S,A.last=S)}return A.tail!==null?(a=A.tail,A.rendering=a,A.tail=a.sibling,A.renderingStartTime=pt(),a.sibling=null,o=Rr.current,ve(Rr,m?o&1|2:o&1),a):(Qn(a),null);case 22:case 23:return Ho(a),wA(),m=a.memoizedState!==null,o!==null?o.memoizedState!==null!==m&&(a.flags|=8192):m&&(a.flags|=8192),m?f&536870912&&!(a.flags&128)&&(Qn(a),a.subtreeFlags&6&&(a.flags|=8192)):Qn(a),f=a.updateQueue,f!==null&&zg(a,f.retryQueue),f=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),m=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(m=a.memoizedState.cachePool.pool),m!==f&&(a.flags|=2048),o!==null&&Re(Yl),null;case 24:return f=null,o!==null&&(f=o.memoizedState.cache),a.memoizedState.cache!==f&&(a.flags|=2048),Ko(Ir),Qn(a),null;case 25:return null}throw Error(r(156,a.tag))}function u8(o,a){switch(bA(a),a.tag){case 1:return o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 3:return Ko(Ir),ot(),o=a.flags,o&65536&&!(o&128)?(a.flags=o&-65537|128,a):null;case 26:case 27:case 5:return Be(a),null;case 13:if(Ho(a),o=a.memoizedState,o!==null&&o.dehydrated!==null){if(a.alternate===null)throw Error(r(340));Vf()}return o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 19:return Re(Rr),null;case 4:return ot(),null;case 10:return Ko(a.type),null;case 22:case 23:return Ho(a),wA(),o!==null&&Re(Yl),o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 24:return Ko(Ir),null;case 25:return null;default:return null}}function zC(o,a){switch(bA(a),a.tag){case 3:Ko(Ir),ot();break;case 26:case 27:case 5:Be(a);break;case 4:ot();break;case 13:Ho(a);break;case 19:Re(Rr);break;case 10:Ko(a.type);break;case 22:case 23:Ho(a),wA(),o!==null&&Re(Yl);break;case 24:Ko(Ir)}}var d8={getCacheForType:function(o){var a=ci(Ir),f=a.data.get(o);return f===void 0&&(f=o(),a.data.set(o,f)),f}},f8=typeof WeakMap=="function"?WeakMap:Map,Xn=0,Cn=null,zt=null,Xt=0,kn=0,Zi=null,Zo=!1,Bu=!1,yb=!1,ea=0,rr=0,Ja=0,nc=0,Ab=0,Es=0,Nu=0,nh=null,bo=null,bb=!1,_b=0,$g=1/0,Ug=null,Za=null,Hg=!1,rc=null,rh=0,Sb=0,xb=null,ih=0,wb=null;function es(){if(Xn&2&&Xt!==0)return Xt&-Xt;if(V.T!==null){var o=Mu;return o!==0?o:Ob()}return Ai()}function $C(){Es===0&&(Es=!(Xt&536870912)||nn?hr():536870912);var o=_s.current;return o!==null&&(o.flags|=32),Es}function Si(o,a,f){(o===Cn&&kn===2||o.cancelPendingCommit!==null)&&(Lu(o,0),ta(o,Xt,Es,!1)),it(o,f),(!(Xn&2)||o!==Cn)&&(o===Cn&&(!(Xn&2)&&(nc|=f),rr===4&&ta(o,Xt,Es,!1)),_o(o))}function UC(o,a,f){if(Xn&6)throw Error(r(327));var m=!f&&(a&60)===0&&(a&o.expiredLanes)===0||Xe(o,a),A=m?g8(o,a):kb(o,a,!0),S=m;do{if(A===0){Bu&&!m&&ta(o,a,0,!1);break}else if(A===6)ta(o,a,0,!Zo);else{if(f=o.current.alternate,S&&!h8(f)){A=kb(o,a,!1),S=!1;continue}if(A===2){if(S=a,o.errorRecoveryDisabledLanes&S)var I=0;else I=o.pendingLanes&-536870913,I=I!==0?I:I&536870912?536870912:0;if(I!==0){a=I;e:{var z=o;A=nh;var X=z.current.memoizedState.isDehydrated;if(X&&(Lu(z,I).flags|=256),I=kb(z,I,!1),I!==2){if(yb&&!X){z.errorRecoveryDisabledLanes|=S,nc|=S,A=4;break e}S=bo,bo=A,S!==null&&Eb(S)}A=I}if(S=!1,A!==2)continue}}if(A===1){Lu(o,0),ta(o,a,0,!0);break}e:{switch(m=o,A){case 0:case 1:throw Error(r(345));case 4:if((a&4194176)===a){ta(m,a,Es,!Zo);break e}break;case 2:bo=null;break;case 3:case 5:break;default:throw Error(r(329))}if(m.finishedWork=f,m.finishedLanes=a,(a&62914560)===a&&(S=_b+300-pt(),10<S)){if(ta(m,a,Es,!Zo),Tn(m,0)!==0)break e;m.timeoutHandle=hk(HC.bind(null,m,f,bo,Ug,bb,a,Es,nc,Nu,Zo,2,-0,0),S);break e}HC(m,f,bo,Ug,bb,a,Es,nc,Nu,Zo,0,-0,0)}}break}while(!0);_o(o)}function Eb(o){bo===null?bo=o:bo.push.apply(bo,o)}function HC(o,a,f,m,A,S,I,z,X,ie,be,Te,he){var Ae=a.subtreeFlags;if((Ae&8192||(Ae&16785408)===16785408)&&(uh={stylesheets:null,count:0,unsuspend:K8},PC(a),a=Q8(),a!==null)){o.cancelPendingCommit=a(XC.bind(null,o,f,m,A,I,z,X,1,Te,he)),ta(o,S,I,!ie);return}XC(o,f,m,A,I,z,X,be,Te,he)}function h8(o){for(var a=o;;){var f=a.tag;if((f===0||f===11||f===15)&&a.flags&16384&&(f=a.updateQueue,f!==null&&(f=f.stores,f!==null)))for(var m=0;m<f.length;m++){var A=f[m],S=A.getSnapshot;A=A.value;try{if(!Qi(S(),A))return!1}catch{return!1}}if(f=a.child,a.subtreeFlags&16384&&f!==null)f.return=a,a=f;else{if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function ta(o,a,f,m){a&=~Ab,a&=~nc,o.suspendedLanes|=a,o.pingedLanes&=~a,m&&(o.warmLanes|=a),m=o.expirationTimes;for(var A=a;0<A;){var S=31-mt(A),I=1<<S;m[S]=-1,A&=~I}f!==0&&Yn(o,f,a)}function qg(){return Xn&6?!0:(sh(0),!1)}function Tb(){if(zt!==null){if(kn===0)var o=zt.return;else o=zt,Yo=Jl=null,OA(o),Cu=null,Lf=0,o=zt;for(;o!==null;)zC(o.alternate,o),o=o.return;zt=null}}function Lu(o,a){o.finishedWork=null,o.finishedLanes=0;var f=o.timeoutHandle;f!==-1&&(o.timeoutHandle=-1,O8(f)),f=o.cancelPendingCommit,f!==null&&(o.cancelPendingCommit=null,f()),Tb(),Cn=o,zt=f=Xa(o.current,null),Xt=a,kn=0,Zi=null,Zo=!1,Bu=Xe(o,a),yb=!1,Nu=Es=Ab=nc=Ja=rr=0,bo=nh=null,bb=!1,a&8&&(a|=a&32);var m=o.entangledLanes;if(m!==0)for(o=o.entanglements,m&=a;0<m;){var A=31-mt(m),S=1<<A;a|=o[A],m&=~S}return ea=a,gg(),f}function qC(o,a){Pt=null,V.H=Ao,a===Bf?(a=oT(),kn=3):a===rT?(a=oT(),kn=4):kn=a===iC?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Zi=a,zt===null&&(rr=1,Vg(o,ys(a,o.current)))}function GC(){var o=V.H;return V.H=Ao,o===null?Ao:o}function YC(){var o=V.A;return V.A=d8,o}function Cb(){rr=4,Zo||(Xt&4194176)!==Xt&&_s.current!==null||(Bu=!0),!(Ja&134217727)&&!(nc&134217727)||Cn===null||ta(Cn,Xt,Es,!1)}function kb(o,a,f){var m=Xn;Xn|=2;var A=GC(),S=YC();(Cn!==o||Xt!==a)&&(Ug=null,Lu(o,a)),a=!1;var I=rr;e:do try{if(kn!==0&&zt!==null){var z=zt,X=Zi;switch(kn){case 8:Tb(),I=6;break e;case 3:case 2:case 6:_s.current===null&&(a=!0);var ie=kn;if(kn=0,Zi=null,Fu(o,z,X,ie),f&&Bu){I=0;break e}break;default:ie=kn,kn=0,Zi=null,Fu(o,z,X,ie)}}p8(),I=rr;break}catch(be){qC(o,be)}while(!0);return a&&o.shellSuspendCounter++,Yo=Jl=null,Xn=m,V.H=A,V.A=S,zt===null&&(Cn=null,Xt=0,gg()),I}function p8(){for(;zt!==null;)KC(zt)}function g8(o,a){var f=Xn;Xn|=2;var m=GC(),A=YC();Cn!==o||Xt!==a?(Ug=null,$g=pt()+500,Lu(o,a)):Bu=Xe(o,a);e:do try{if(kn!==0&&zt!==null){a=zt;var S=Zi;t:switch(kn){case 1:kn=0,Zi=null,Fu(o,a,S,1);break;case 2:if(iT(S)){kn=0,Zi=null,WC(a);break}a=function(){kn===2&&Cn===o&&(kn=7),_o(o)},S.then(a,a);break e;case 3:kn=7;break e;case 4:kn=5;break e;case 7:iT(S)?(kn=0,Zi=null,WC(a)):(kn=0,Zi=null,Fu(o,a,S,7));break;case 5:var I=null;switch(zt.tag){case 26:I=zt.memoizedState;case 5:case 27:var z=zt;if(!I||wk(I)){kn=0,Zi=null;var X=z.sibling;if(X!==null)zt=X;else{var ie=z.return;ie!==null?(zt=ie,Gg(ie)):zt=null}break t}}kn=0,Zi=null,Fu(o,a,S,5);break;case 6:kn=0,Zi=null,Fu(o,a,S,6);break;case 8:Tb(),rr=6;break e;default:throw Error(r(462))}}m8();break}catch(be){qC(o,be)}while(!0);return Yo=Jl=null,V.H=m,V.A=A,Xn=f,zt!==null?0:(Cn=null,Xt=0,gg(),rr)}function m8(){for(;zt!==null&&!sn();)KC(zt)}function KC(o){var a=mC(o.alternate,o,ea);o.memoizedProps=o.pendingProps,a===null?Gg(o):zt=a}function WC(o){var a=o,f=a.alternate;switch(a.tag){case 15:case 0:a=uC(f,a,a.pendingProps,a.type,void 0,Xt);break;case 11:a=uC(f,a,a.pendingProps,a.type.render,a.ref,Xt);break;case 5:OA(a);default:zC(f,a),a=zt=NC(a,ea),a=mC(f,a,ea)}o.memoizedProps=o.pendingProps,a===null?Gg(o):zt=a}function Fu(o,a,f,m){Yo=Jl=null,OA(a),Cu=null,Lf=0;var A=a.return;try{if(i8(o,A,a,f,Xt)){rr=1,Vg(o,ys(f,o.current)),zt=null;return}}catch(S){if(A!==null)throw zt=A,S;rr=1,Vg(o,ys(f,o.current)),zt=null;return}a.flags&32768?(nn||m===1?o=!0:Bu||Xt&536870912?o=!1:(Zo=o=!0,(m===2||m===3||m===6)&&(m=_s.current,m!==null&&m.tag===13&&(m.flags|=16384))),QC(a,o)):Gg(a)}function Gg(o){var a=o;do{if(a.flags&32768){QC(a,Zo);return}o=a.return;var f=c8(a.alternate,a,ea);if(f!==null){zt=f;return}if(a=a.sibling,a!==null){zt=a;return}zt=a=o}while(a!==null);rr===0&&(rr=5)}function QC(o,a){do{var f=u8(o.alternate,o);if(f!==null){f.flags&=32767,zt=f;return}if(f=o.return,f!==null&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!a&&(o=o.sibling,o!==null)){zt=o;return}zt=o=f}while(o!==null);rr=6,zt=null}function XC(o,a,f,m,A,S,I,z,X,ie){var be=V.T,Te=F.p;try{F.p=2,V.T=null,v8(o,a,f,m,Te,A,S,I,z,X,ie)}finally{V.T=be,F.p=Te}}function v8(o,a,f,m,A,S,I,z){do zu();while(rc!==null);if(Xn&6)throw Error(r(327));var X=o.finishedWork;if(m=o.finishedLanes,X===null)return null;if(o.finishedWork=null,o.finishedLanes=0,X===o.current)throw Error(r(177));o.callbackNode=null,o.callbackPriority=0,o.cancelPendingCommit=null;var ie=X.lanes|X.childLanes;if(ie|=vA,ht(o,m,ie,S,I,z),o===Cn&&(zt=Cn=null,Xt=0),!(X.subtreeFlags&10256)&&!(X.flags&10256)||Hg||(Hg=!0,Sb=ie,xb=f,_8(lt,function(){return zu(),null})),f=(X.flags&15990)!==0,X.subtreeFlags&15990||f?(f=V.T,V.T=null,S=F.p,F.p=2,I=Xn,Xn|=4,o8(o,X),IC(X,o),z6(Fb,o.containerInfo),im=!!Lb,Fb=Lb=null,o.current=X,CC(o,X.alternate,X),qe(),Xn=I,F.p=S,V.T=f):o.current=X,Hg?(Hg=!1,rc=o,rh=m):JC(o,ie),ie=o.pendingLanes,ie===0&&(Za=null),Ln(X.stateNode),_o(o),a!==null)for(A=o.onRecoverableError,X=0;X<a.length;X++)ie=a[X],A(ie.value,{componentStack:ie.stack});return rh&3&&zu(),ie=o.pendingLanes,m&4194218&&ie&42?o===wb?ih++:(ih=0,wb=o):ih=0,sh(0),null}function JC(o,a){(o.pooledCacheLanes&=a)===0&&(a=o.pooledCache,a!=null&&(o.pooledCache=null,zf(a)))}function zu(){if(rc!==null){var o=rc,a=Sb;Sb=0;var f=li(rh),m=V.T,A=F.p;try{if(F.p=32>f?32:f,V.T=null,rc===null)var S=!1;else{f=xb,xb=null;var I=rc,z=rh;if(rc=null,rh=0,Xn&6)throw Error(r(331));var X=Xn;if(Xn|=4,DC(I.current),jC(I,I.current,z,f),Xn=X,sh(0,!1),Nt&&typeof Nt.onPostCommitFiberRoot=="function")try{Nt.onPostCommitFiberRoot(bt,I)}catch{}S=!0}return S}finally{F.p=A,V.T=m,JC(o,a)}}return!1}function ZC(o,a,f){a=ys(f,a),a=GA(o.stateNode,a,2),o=Ya(o,a,2),o!==null&&(it(o,2),_o(o))}function bn(o,a,f){if(o.tag===3)ZC(o,o,f);else for(;a!==null;){if(a.tag===3){ZC(a,o,f);break}else if(a.tag===1){var m=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Za===null||!Za.has(m))){o=ys(f,o),f=nC(2),m=Ya(a,f,2),m!==null&&(rC(f,m,a,o),it(m,2),_o(m));break}}a=a.return}}function Mb(o,a,f){var m=o.pingCache;if(m===null){m=o.pingCache=new f8;var A=new Set;m.set(a,A)}else A=m.get(a),A===void 0&&(A=new Set,m.set(a,A));A.has(f)||(yb=!0,A.add(f),o=y8.bind(null,o,a,f),a.then(o,o))}function y8(o,a,f){var m=o.pingCache;m!==null&&m.delete(a),o.pingedLanes|=o.suspendedLanes&f,o.warmLanes&=~f,Cn===o&&(Xt&f)===f&&(rr===4||rr===3&&(Xt&62914560)===Xt&&300>pt()-_b?!(Xn&2)&&Lu(o,0):Ab|=f,Nu===Xt&&(Nu=0)),_o(o)}function ek(o,a){a===0&&(a=ai()),o=La(o,a),o!==null&&(it(o,a),_o(o))}function A8(o){var a=o.memoizedState,f=0;a!==null&&(f=a.retryLane),ek(o,f)}function b8(o,a){var f=0;switch(o.tag){case 13:var m=o.stateNode,A=o.memoizedState;A!==null&&(f=A.retryLane);break;case 19:m=o.stateNode;break;case 22:m=o.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(a),ek(o,f)}function _8(o,a){return en(o,a)}var Yg=null,$u=null,Rb=!1,Kg=!1,Ib=!1,ic=0;function _o(o){o!==$u&&o.next===null&&($u===null?Yg=$u=o:$u=$u.next=o),Kg=!0,Rb||(Rb=!0,x8(S8))}function sh(o,a){if(!Ib&&Kg){Ib=!0;do for(var f=!1,m=Yg;m!==null;){if(o!==0){var A=m.pendingLanes;if(A===0)var S=0;else{var I=m.suspendedLanes,z=m.pingedLanes;S=(1<<31-mt(42|o)+1)-1,S&=A&~(I&~z),S=S&201326677?S&201326677|1:S?S|2:0}S!==0&&(f=!0,rk(m,S))}else S=Xt,S=Tn(m,m===Cn?S:0),!(S&3)||Xe(m,S)||(f=!0,rk(m,S));m=m.next}while(f);Ib=!1}}function S8(){Kg=Rb=!1;var o=0;ic!==0&&(I8()&&(o=ic),ic=0);for(var a=pt(),f=null,m=Yg;m!==null;){var A=m.next,S=tk(m,a);S===0?(m.next=null,f===null?Yg=A:f.next=A,A===null&&($u=f)):(f=m,(o!==0||S&3)&&(Kg=!0)),m=A}sh(o)}function tk(o,a){for(var f=o.suspendedLanes,m=o.pingedLanes,A=o.expirationTimes,S=o.pendingLanes&-62914561;0<S;){var I=31-mt(S),z=1<<I,X=A[I];X===-1?(!(z&f)||z&m)&&(A[I]=kt(z,a)):X<=a&&(o.expiredLanes|=z),S&=~z}if(a=Cn,f=Xt,f=Tn(o,o===a?f:0),m=o.callbackNode,f===0||o===a&&kn===2||o.cancelPendingCommit!==null)return m!==null&&m!==null&&pn(m),o.callbackNode=null,o.callbackPriority=0;if(!(f&3)||Xe(o,f)){if(a=f&-f,a===o.callbackPriority)return a;switch(m!==null&&pn(m),li(f)){case 2:case 8:f=yt;break;case 32:f=lt;break;case 268435456:f=Ct;break;default:f=lt}return m=nk.bind(null,o),f=en(f,m),o.callbackPriority=a,o.callbackNode=f,a}return m!==null&&m!==null&&pn(m),o.callbackPriority=2,o.callbackNode=null,2}function nk(o,a){var f=o.callbackNode;if(zu()&&o.callbackNode!==f)return null;var m=Xt;return m=Tn(o,o===Cn?m:0),m===0?null:(UC(o,m,a),tk(o,pt()),o.callbackNode!=null&&o.callbackNode===f?nk.bind(null,o):null)}function rk(o,a){if(zu())return null;UC(o,a,!0)}function x8(o){j8(function(){Xn&6?en(on,o):o()})}function Ob(){return ic===0&&(ic=hr()),ic}function ik(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:mu(""+o)}function sk(o,a){var f=a.ownerDocument.createElement("input");return f.name=a.name,f.value=a.value,o.id&&f.setAttribute("form",o.id),a.parentNode.insertBefore(f,a),o=new FormData(o),f.parentNode.removeChild(f),o}function w8(o,a,f,m,A){if(a==="submit"&&f&&f.stateNode===A){var S=ik((A[tr]||null).action),I=m.submitter;I&&(a=(a=I[tr]||null)?ik(a.formAction):I.getAttribute("formAction"),a!==null&&(S=a,I=null));var z=new fg("action","action",null,m,A);o.push({event:z,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(ic!==0){var X=I?sk(A,I):new FormData(A);zA(f,{pending:!0,data:X,method:A.method,action:S},null,X)}}else typeof S=="function"&&(z.preventDefault(),X=I?sk(A,I):new FormData(A),zA(f,{pending:!0,data:X,method:A.method,action:S},S,X))},currentTarget:A}]})}}for(var jb=0;jb<X2.length;jb++){var Pb=X2[jb],E8=Pb.toLowerCase(),T8=Pb[0].toUpperCase()+Pb.slice(1);Qs(E8,"on"+T8)}Qs(G2,"onAnimationEnd"),Qs(Y2,"onAnimationIteration"),Qs(K2,"onAnimationStart"),Qs("dblclick","onDoubleClick"),Qs("focusin","onFocus"),Qs("focusout","onBlur"),Qs(U6,"onTransitionRun"),Qs(H6,"onTransitionStart"),Qs(q6,"onTransitionCancel"),Qs(W2,"onTransitionEnd"),Ws("onMouseEnter",["mouseout","mouseover"]),Ws("onMouseLeave",["mouseout","mouseover"]),Ws("onPointerEnter",["pointerout","pointerover"]),Ws("onPointerLeave",["pointerout","pointerover"]),zo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),zo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),zo("onBeforeInput",["compositionend","keypress","textInput","paste"]),zo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),zo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),zo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var oh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),C8=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(oh));function ok(o,a){a=(a&4)!==0;for(var f=0;f<o.length;f++){var m=o[f],A=m.event;m=m.listeners;e:{var S=void 0;if(a)for(var I=m.length-1;0<=I;I--){var z=m[I],X=z.instance,ie=z.currentTarget;if(z=z.listener,X!==S&&A.isPropagationStopped())break e;S=z,A.currentTarget=ie;try{S(A)}catch(be){Pg(be)}A.currentTarget=null,S=X}else for(I=0;I<m.length;I++){if(z=m[I],X=z.instance,ie=z.currentTarget,z=z.listener,X!==S&&A.isPropagationStopped())break e;S=z,A.currentTarget=ie;try{S(A)}catch(be){Pg(be)}A.currentTarget=null,S=X}}}}function Gt(o,a){var f=a[Da];f===void 0&&(f=a[Da]=new Set);var m=o+"__bubble";f.has(m)||(ak(a,o,2,!1),f.add(m))}function Vb(o,a,f){var m=0;a&&(m|=4),ak(f,o,m,a)}var Wg="_reactListening"+Math.random().toString(36).slice(2);function Db(o){if(!o[Wg]){o[Wg]=!0,_f.forEach(function(f){f!=="selectionchange"&&(C8.has(f)||Vb(f,!1,o),Vb(f,!0,o))});var a=o.nodeType===9?o:o.ownerDocument;a===null||a[Wg]||(a[Wg]=!0,Vb("selectionchange",!1,a))}}function ak(o,a,f,m){switch(Rk(a)){case 2:var A=Z8;break;case 8:A=eF;break;default:A=Wb}f=A.bind(null,a,f,o),A=void 0,!iA||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(A=!0),m?A!==void 0?o.addEventListener(a,f,{capture:!0,passive:A}):o.addEventListener(a,f,!0):A!==void 0?o.addEventListener(a,f,{passive:A}):o.addEventListener(a,f,!1)}function Bb(o,a,f,m,A){var S=m;if(!(a&1)&&!(a&2)&&m!==null)e:for(;;){if(m===null)return;var I=m.tag;if(I===3||I===4){var z=m.stateNode.containerInfo;if(z===A||z.nodeType===8&&z.parentNode===A)break;if(I===4)for(I=m.return;I!==null;){var X=I.tag;if((X===3||X===4)&&(X=I.stateNode.containerInfo,X===A||X.nodeType===8&&X.parentNode===A))return;I=I.return}for(;z!==null;){if(I=Yi(z),I===null)return;if(X=I.tag,X===5||X===6||X===26||X===27){m=S=I;continue e}z=z.parentNode}}m=m.return}S2(function(){var ie=S,be=vu(f),Te=[];e:{var he=Q2.get(o);if(he!==void 0){var Ae=fg,Je=o;switch(o){case"keypress":if(ug(f)===0)break e;case"keydown":case"keyup":Ae=b6;break;case"focusin":Je="focus",Ae=lA;break;case"focusout":Je="blur",Ae=lA;break;case"beforeblur":case"afterblur":Ae=lA;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ae=E2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ae=l6;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ae=x6;break;case G2:case Y2:case K2:Ae=d6;break;case W2:Ae=E6;break;case"scroll":case"scrollend":Ae=o6;break;case"wheel":Ae=C6;break;case"copy":case"cut":case"paste":Ae=h6;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ae=C2;break;case"toggle":case"beforetoggle":Ae=M6}var At=(a&4)!==0,ir=!At&&(o==="scroll"||o==="scrollend"),ce=At?he!==null?he+"Capture":null:he;At=[];for(var ne=ie,de;ne!==null;){var we=ne;if(de=we.stateNode,we=we.tag,we!==5&&we!==26&&we!==27||de===null||ce===null||(we=Ef(ne,ce),we!=null&&At.push(ah(ne,we,de))),ir)break;ne=ne.return}0<At.length&&(he=new Ae(he,Je,null,f,be),Te.push({event:he,listeners:At}))}}if(!(a&7)){e:{if(he=o==="mouseover"||o==="pointerover",Ae=o==="mouseout"||o==="pointerout",he&&f!==wf&&(Je=f.relatedTarget||f.fromElement)&&(Yi(Je)||Je[mo]))break e;if((Ae||he)&&(he=be.window===be?be:(he=be.ownerDocument)?he.defaultView||he.parentWindow:window,Ae?(Je=f.relatedTarget||f.toElement,Ae=ie,Je=Je?Yi(Je):null,Je!==null&&(ir=Q(Je),At=Je.tag,Je!==ir||At!==5&&At!==27&&At!==6)&&(Je=null)):(Ae=null,Je=ie),Ae!==Je)){if(At=E2,we="onMouseLeave",ce="onMouseEnter",ne="mouse",(o==="pointerout"||o==="pointerover")&&(At=C2,we="onPointerLeave",ce="onPointerEnter",ne="pointer"),ir=Ae==null?he:Lo(Ae),de=Je==null?he:Lo(Je),he=new At(we,ne+"leave",Ae,f,be),he.target=ir,he.relatedTarget=de,we=null,Yi(be)===ie&&(At=new At(ce,ne+"enter",Je,f,be),At.target=de,At.relatedTarget=ir,we=At),ir=we,Ae&&Je)t:{for(At=Ae,ce=Je,ne=0,de=At;de;de=Uu(de))ne++;for(de=0,we=ce;we;we=Uu(we))de++;for(;0<ne-de;)At=Uu(At),ne--;for(;0<de-ne;)ce=Uu(ce),de--;for(;ne--;){if(At===ce||ce!==null&&At===ce.alternate)break t;At=Uu(At),ce=Uu(ce)}At=null}else At=null;Ae!==null&&lk(Te,he,Ae,At,!1),Je!==null&&ir!==null&&lk(Te,ir,Je,At,!0)}}e:{if(he=ie?Lo(ie):window,Ae=he.nodeName&&he.nodeName.toLowerCase(),Ae==="select"||Ae==="input"&&he.type==="file")var Ye=V2;else if(j2(he))if(D2)Ye=L6;else{Ye=B6;var Dt=D6}else Ae=he.nodeName,!Ae||Ae.toLowerCase()!=="input"||he.type!=="checkbox"&&he.type!=="radio"?ie&&Sf(ie.elementType)&&(Ye=V2):Ye=N6;if(Ye&&(Ye=Ye(o,ie))){P2(Te,Ye,f,be);break e}Dt&&Dt(o,he,ie),o==="focusout"&&ie&&he.type==="number"&&ie.memoizedProps.value!=null&&wt(he,"number",he.value)}switch(Dt=ie?Lo(ie):window,o){case"focusin":(j2(Dt)||Dt.contentEditable==="true")&&(_u=Dt,pA=ie,jf=null);break;case"focusout":jf=pA=_u=null;break;case"mousedown":gA=!0;break;case"contextmenu":case"mouseup":case"dragend":gA=!1,H2(Te,f,be);break;case"selectionchange":if($6)break;case"keydown":case"keyup":H2(Te,f,be)}var nt;if(uA)e:{switch(o){case"compositionstart":var ct="onCompositionStart";break e;case"compositionend":ct="onCompositionEnd";break e;case"compositionupdate":ct="onCompositionUpdate";break e}ct=void 0}else bu?I2(o,f)&&(ct="onCompositionEnd"):o==="keydown"&&f.keyCode===229&&(ct="onCompositionStart");ct&&(k2&&f.locale!=="ko"&&(bu||ct!=="onCompositionStart"?ct==="onCompositionEnd"&&bu&&(nt=x2()):(Na=be,sA="value"in Na?Na.value:Na.textContent,bu=!0)),Dt=Qg(ie,ct),0<Dt.length&&(ct=new T2(ct,o,null,f,be),Te.push({event:ct,listeners:Dt}),nt?ct.data=nt:(nt=O2(f),nt!==null&&(ct.data=nt)))),(nt=I6?O6(o,f):j6(o,f))&&(ct=Qg(ie,"onBeforeInput"),0<ct.length&&(Dt=new T2("onBeforeInput","beforeinput",null,f,be),Te.push({event:Dt,listeners:ct}),Dt.data=nt)),w8(Te,o,ie,f,be)}ok(Te,a)})}function ah(o,a,f){return{instance:o,listener:a,currentTarget:f}}function Qg(o,a){for(var f=a+"Capture",m=[];o!==null;){var A=o,S=A.stateNode;A=A.tag,A!==5&&A!==26&&A!==27||S===null||(A=Ef(o,f),A!=null&&m.unshift(ah(o,A,S)),A=Ef(o,a),A!=null&&m.push(ah(o,A,S))),o=o.return}return m}function Uu(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function lk(o,a,f,m,A){for(var S=a._reactName,I=[];f!==null&&f!==m;){var z=f,X=z.alternate,ie=z.stateNode;if(z=z.tag,X!==null&&X===m)break;z!==5&&z!==26&&z!==27||ie===null||(X=ie,A?(ie=Ef(f,S),ie!=null&&I.unshift(ah(f,ie,X))):A||(ie=Ef(f,S),ie!=null&&I.push(ah(f,ie,X)))),f=f.return}I.length!==0&&o.push({event:a,listeners:I})}var k8=/\r\n?/g,M8=/\u0000|\uFFFD/g;function ck(o){return(typeof o=="string"?o:""+o).replace(k8,`
`).replace(M8,"")}function uk(o,a){return a=ck(a),ck(o)===a}function Xg(){}function yn(o,a,f,m,A,S){switch(f){case"children":typeof m=="string"?a==="body"||a==="textarea"&&m===""||mn(o,m):(typeof m=="number"||typeof m=="bigint")&&a!=="body"&&mn(o,""+m);break;case"className":$(o,"class",m);break;case"tabIndex":$(o,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":$(o,f,m);break;case"style":gu(o,m,S);break;case"data":if(a!=="object"){$(o,"data",m);break}case"src":case"href":if(m===""&&(a!=="a"||f!=="href")){o.removeAttribute(f);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){o.removeAttribute(f);break}m=mu(""+m),o.setAttribute(f,m);break;case"action":case"formAction":if(typeof m=="function"){o.setAttribute(f,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof S=="function"&&(f==="formAction"?(a!=="input"&&yn(o,a,"name",A.name,A,null),yn(o,a,"formEncType",A.formEncType,A,null),yn(o,a,"formMethod",A.formMethod,A,null),yn(o,a,"formTarget",A.formTarget,A,null)):(yn(o,a,"encType",A.encType,A,null),yn(o,a,"method",A.method,A,null),yn(o,a,"target",A.target,A,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){o.removeAttribute(f);break}m=mu(""+m),o.setAttribute(f,m);break;case"onClick":m!=null&&(o.onclick=Xg);break;case"onScroll":m!=null&&Gt("scroll",o);break;case"onScrollEnd":m!=null&&Gt("scrollend",o);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(f=m.__html,f!=null){if(A.children!=null)throw Error(r(60));o.innerHTML=f}}break;case"multiple":o.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":o.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){o.removeAttribute("xlink:href");break}f=mu(""+m),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?o.setAttribute(f,""+m):o.removeAttribute(f);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?o.setAttribute(f,""):o.removeAttribute(f);break;case"capture":case"download":m===!0?o.setAttribute(f,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?o.setAttribute(f,m):o.removeAttribute(f);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?o.setAttribute(f,m):o.removeAttribute(f);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?o.removeAttribute(f):o.setAttribute(f,m);break;case"popover":Gt("beforetoggle",o),Gt("toggle",o),pu(o,"popover",m);break;case"xlinkActuate":Z(o,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":Z(o,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":Z(o,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":Z(o,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":Z(o,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":Z(o,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":Z(o,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":Z(o,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":Z(o,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":pu(o,"is",m);break;case"innerText":case"textContent":break;default:(!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(f=xf.get(f)||f,pu(o,f,m))}}function Nb(o,a,f,m,A,S){switch(f){case"style":gu(o,m,S);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(f=m.__html,f!=null){if(A.children!=null)throw Error(r(60));o.innerHTML=f}}break;case"children":typeof m=="string"?mn(o,m):(typeof m=="number"||typeof m=="bigint")&&mn(o,""+m);break;case"onScroll":m!=null&&Gt("scroll",o);break;case"onScrollEnd":m!=null&&Gt("scrollend",o);break;case"onClick":m!=null&&(o.onclick=Xg);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Fo.hasOwnProperty(f))e:{if(f[0]==="o"&&f[1]==="n"&&(A=f.endsWith("Capture"),a=f.slice(2,A?f.length-7:void 0),S=o[tr]||null,S=S!=null?S[f]:null,typeof S=="function"&&o.removeEventListener(a,S,A),typeof m=="function")){typeof S!="function"&&S!==null&&(f in o?o[f]=null:o.hasAttribute(f)&&o.removeAttribute(f)),o.addEventListener(a,m,A);break e}f in o?o[f]=m:m===!0?o.setAttribute(f,""):pu(o,f,m)}}}function Kr(o,a,f){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Gt("error",o),Gt("load",o);var m=!1,A=!1,S;for(S in f)if(f.hasOwnProperty(S)){var I=f[S];if(I!=null)switch(S){case"src":m=!0;break;case"srcSet":A=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:yn(o,a,S,I,f,null)}}A&&yn(o,a,"srcSet",f.srcSet,f,null),m&&yn(o,a,"src",f.src,f,null);return;case"input":Gt("invalid",o);var z=S=I=A=null,X=null,ie=null;for(m in f)if(f.hasOwnProperty(m)){var be=f[m];if(be!=null)switch(m){case"name":A=be;break;case"type":I=be;break;case"checked":X=be;break;case"defaultChecked":ie=be;break;case"value":S=be;break;case"defaultValue":z=be;break;case"children":case"dangerouslySetInnerHTML":if(be!=null)throw Error(r(137,a));break;default:yn(o,a,m,be,f,null)}}We(o,S,z,X,ie,I,A,!1),te(o);return;case"select":Gt("invalid",o),m=I=S=null;for(A in f)if(f.hasOwnProperty(A)&&(z=f[A],z!=null))switch(A){case"value":S=z;break;case"defaultValue":I=z;break;case"multiple":m=z;default:yn(o,a,A,z,f,null)}a=S,f=I,o.multiple=!!m,a!=null?Ft(o,!!m,a,!1):f!=null&&Ft(o,!!m,f,!0);return;case"textarea":Gt("invalid",o),S=A=m=null;for(I in f)if(f.hasOwnProperty(I)&&(z=f[I],z!=null))switch(I){case"value":m=z;break;case"defaultValue":A=z;break;case"children":S=z;break;case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(91));break;default:yn(o,a,I,z,f,null)}Wn(o,m,A,S),te(o);return;case"option":for(X in f)if(f.hasOwnProperty(X)&&(m=f[X],m!=null))switch(X){case"selected":o.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:yn(o,a,X,m,f,null)}return;case"dialog":Gt("cancel",o),Gt("close",o);break;case"iframe":case"object":Gt("load",o);break;case"video":case"audio":for(m=0;m<oh.length;m++)Gt(oh[m],o);break;case"image":Gt("error",o),Gt("load",o);break;case"details":Gt("toggle",o);break;case"embed":case"source":case"link":Gt("error",o),Gt("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ie in f)if(f.hasOwnProperty(ie)&&(m=f[ie],m!=null))switch(ie){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:yn(o,a,ie,m,f,null)}return;default:if(Sf(a)){for(be in f)f.hasOwnProperty(be)&&(m=f[be],m!==void 0&&Nb(o,a,be,m,f,void 0));return}}for(z in f)f.hasOwnProperty(z)&&(m=f[z],m!=null&&yn(o,a,z,m,f,null))}function R8(o,a,f,m){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var A=null,S=null,I=null,z=null,X=null,ie=null,be=null;for(Ae in f){var Te=f[Ae];if(f.hasOwnProperty(Ae)&&Te!=null)switch(Ae){case"checked":break;case"value":break;case"defaultValue":X=Te;default:m.hasOwnProperty(Ae)||yn(o,a,Ae,null,m,Te)}}for(var he in m){var Ae=m[he];if(Te=f[he],m.hasOwnProperty(he)&&(Ae!=null||Te!=null))switch(he){case"type":S=Ae;break;case"name":A=Ae;break;case"checked":ie=Ae;break;case"defaultChecked":be=Ae;break;case"value":I=Ae;break;case"defaultValue":z=Ae;break;case"children":case"dangerouslySetInnerHTML":if(Ae!=null)throw Error(r(137,a));break;default:Ae!==Te&&yn(o,a,he,Ae,m,Te)}}Pe(o,I,z,X,ie,be,S,A);return;case"select":Ae=I=z=he=null;for(S in f)if(X=f[S],f.hasOwnProperty(S)&&X!=null)switch(S){case"value":break;case"multiple":Ae=X;default:m.hasOwnProperty(S)||yn(o,a,S,null,m,X)}for(A in m)if(S=m[A],X=f[A],m.hasOwnProperty(A)&&(S!=null||X!=null))switch(A){case"value":he=S;break;case"defaultValue":z=S;break;case"multiple":I=S;default:S!==X&&yn(o,a,A,S,m,X)}a=z,f=I,m=Ae,he!=null?Ft(o,!!f,he,!1):!!m!=!!f&&(a!=null?Ft(o,!!f,a,!0):Ft(o,!!f,f?[]:"",!1));return;case"textarea":Ae=he=null;for(z in f)if(A=f[z],f.hasOwnProperty(z)&&A!=null&&!m.hasOwnProperty(z))switch(z){case"value":break;case"children":break;default:yn(o,a,z,null,m,A)}for(I in m)if(A=m[I],S=f[I],m.hasOwnProperty(I)&&(A!=null||S!=null))switch(I){case"value":he=A;break;case"defaultValue":Ae=A;break;case"children":break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(r(91));break;default:A!==S&&yn(o,a,I,A,m,S)}tn(o,he,Ae);return;case"option":for(var Je in f)if(he=f[Je],f.hasOwnProperty(Je)&&he!=null&&!m.hasOwnProperty(Je))switch(Je){case"selected":o.selected=!1;break;default:yn(o,a,Je,null,m,he)}for(X in m)if(he=m[X],Ae=f[X],m.hasOwnProperty(X)&&he!==Ae&&(he!=null||Ae!=null))switch(X){case"selected":o.selected=he&&typeof he!="function"&&typeof he!="symbol";break;default:yn(o,a,X,he,m,Ae)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var At in f)he=f[At],f.hasOwnProperty(At)&&he!=null&&!m.hasOwnProperty(At)&&yn(o,a,At,null,m,he);for(ie in m)if(he=m[ie],Ae=f[ie],m.hasOwnProperty(ie)&&he!==Ae&&(he!=null||Ae!=null))switch(ie){case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(r(137,a));break;default:yn(o,a,ie,he,m,Ae)}return;default:if(Sf(a)){for(var ir in f)he=f[ir],f.hasOwnProperty(ir)&&he!==void 0&&!m.hasOwnProperty(ir)&&Nb(o,a,ir,void 0,m,he);for(be in m)he=m[be],Ae=f[be],!m.hasOwnProperty(be)||he===Ae||he===void 0&&Ae===void 0||Nb(o,a,be,he,m,Ae);return}}for(var ce in f)he=f[ce],f.hasOwnProperty(ce)&&he!=null&&!m.hasOwnProperty(ce)&&yn(o,a,ce,null,m,he);for(Te in m)he=m[Te],Ae=f[Te],!m.hasOwnProperty(Te)||he===Ae||he==null&&Ae==null||yn(o,a,Te,he,m,Ae)}var Lb=null,Fb=null;function Jg(o){return o.nodeType===9?o:o.ownerDocument}function dk(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function fk(o,a){if(o===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&a==="foreignObject"?0:o}function zb(o,a){return o==="textarea"||o==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var $b=null;function I8(){var o=window.event;return o&&o.type==="popstate"?o===$b?!1:($b=o,!0):($b=null,!1)}var hk=typeof setTimeout=="function"?setTimeout:void 0,O8=typeof clearTimeout=="function"?clearTimeout:void 0,pk=typeof Promise=="function"?Promise:void 0,j8=typeof queueMicrotask=="function"?queueMicrotask:typeof pk<"u"?function(o){return pk.resolve(null).then(o).catch(P8)}:hk;function P8(o){setTimeout(function(){throw o})}function Ub(o,a){var f=a,m=0;do{var A=f.nextSibling;if(o.removeChild(f),A&&A.nodeType===8)if(f=A.data,f==="/$"){if(m===0){o.removeChild(A),gh(a);return}m--}else f!=="$"&&f!=="$?"&&f!=="$!"||m++;f=A}while(f);gh(a)}function Hb(o){var a=o.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var f=a;switch(a=a.nextSibling,f.nodeName){case"HTML":case"HEAD":case"BODY":Hb(f),bi(f);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(f.rel.toLowerCase()==="stylesheet")continue}o.removeChild(f)}}function V8(o,a,f,m){for(;o.nodeType===1;){var A=f;if(o.nodeName.toLowerCase()!==a.toLowerCase()){if(!m&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(m){if(!o[Qt])switch(a){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(S=o.getAttribute("rel"),S==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(S!==A.rel||o.getAttribute("href")!==(A.href==null?null:A.href)||o.getAttribute("crossorigin")!==(A.crossOrigin==null?null:A.crossOrigin)||o.getAttribute("title")!==(A.title==null?null:A.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(S=o.getAttribute("src"),(S!==(A.src==null?null:A.src)||o.getAttribute("type")!==(A.type==null?null:A.type)||o.getAttribute("crossorigin")!==(A.crossOrigin==null?null:A.crossOrigin))&&S&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(a==="input"&&o.type==="hidden"){var S=A.name==null?null:""+A.name;if(A.type==="hidden"&&o.getAttribute("name")===S)return o}else return o;if(o=Zs(o.nextSibling),o===null)break}return null}function D8(o,a,f){if(a==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!f||(o=Zs(o.nextSibling),o===null))return null;return o}function Zs(o){for(;o!=null;o=o.nextSibling){var a=o.nodeType;if(a===1||a===3)break;if(a===8){if(a=o.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return o}function gk(o){o=o.previousSibling;for(var a=0;o;){if(o.nodeType===8){var f=o.data;if(f==="$"||f==="$!"||f==="$?"){if(a===0)return o;a--}else f==="/$"&&a++}o=o.previousSibling}return null}function mk(o,a,f){switch(a=Jg(f),o){case"html":if(o=a.documentElement,!o)throw Error(r(452));return o;case"head":if(o=a.head,!o)throw Error(r(453));return o;case"body":if(o=a.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}var Ts=new Map,vk=new Set;function Zg(o){return typeof o.getRootNode=="function"?o.getRootNode():o.ownerDocument}var na=F.d;F.d={f:B8,r:N8,D:L8,C:F8,L:z8,m:$8,X:H8,S:U8,M:q8};function B8(){var o=na.f(),a=qg();return o||a}function N8(o){var a=ji(o);a!==null&&a.tag===5&&a.type==="form"?HT(a):na.r(o)}var Hu=typeof document>"u"?null:document;function yk(o,a,f){var m=Hu;if(m&&typeof a=="string"&&a){var A=Ce(a);A='link[rel="'+o+'"][href="'+A+'"]',typeof f=="string"&&(A+='[crossorigin="'+f+'"]'),vk.has(A)||(vk.add(A),o={rel:o,crossOrigin:f,href:a},m.querySelector(A)===null&&(a=m.createElement("link"),Kr(a,"link",o),Fn(a),m.head.appendChild(a)))}}function L8(o){na.D(o),yk("dns-prefetch",o,null)}function F8(o,a){na.C(o,a),yk("preconnect",o,a)}function z8(o,a,f){na.L(o,a,f);var m=Hu;if(m&&o&&a){var A='link[rel="preload"][as="'+Ce(a)+'"]';a==="image"&&f&&f.imageSrcSet?(A+='[imagesrcset="'+Ce(f.imageSrcSet)+'"]',typeof f.imageSizes=="string"&&(A+='[imagesizes="'+Ce(f.imageSizes)+'"]')):A+='[href="'+Ce(o)+'"]';var S=A;switch(a){case"style":S=qu(o);break;case"script":S=Gu(o)}Ts.has(S)||(o=C({rel:"preload",href:a==="image"&&f&&f.imageSrcSet?void 0:o,as:a},f),Ts.set(S,o),m.querySelector(A)!==null||a==="style"&&m.querySelector(lh(S))||a==="script"&&m.querySelector(ch(S))||(a=m.createElement("link"),Kr(a,"link",o),Fn(a),m.head.appendChild(a)))}}function $8(o,a){na.m(o,a);var f=Hu;if(f&&o){var m=a&&typeof a.as=="string"?a.as:"script",A='link[rel="modulepreload"][as="'+Ce(m)+'"][href="'+Ce(o)+'"]',S=A;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":S=Gu(o)}if(!Ts.has(S)&&(o=C({rel:"modulepreload",href:o},a),Ts.set(S,o),f.querySelector(A)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(f.querySelector(ch(S)))return}m=f.createElement("link"),Kr(m,"link",o),Fn(m),f.head.appendChild(m)}}}function U8(o,a,f){na.S(o,a,f);var m=Hu;if(m&&o){var A=Ki(m).hoistableStyles,S=qu(o);a=a||"default";var I=A.get(S);if(!I){var z={loading:0,preload:null};if(I=m.querySelector(lh(S)))z.loading=5;else{o=C({rel:"stylesheet",href:o,"data-precedence":a},f),(f=Ts.get(S))&&qb(o,f);var X=I=m.createElement("link");Fn(X),Kr(X,"link",o),X._p=new Promise(function(ie,be){X.onload=ie,X.onerror=be}),X.addEventListener("load",function(){z.loading|=1}),X.addEventListener("error",function(){z.loading|=2}),z.loading|=4,em(I,a,m)}I={type:"stylesheet",instance:I,count:1,state:z},A.set(S,I)}}}function H8(o,a){na.X(o,a);var f=Hu;if(f&&o){var m=Ki(f).hoistableScripts,A=Gu(o),S=m.get(A);S||(S=f.querySelector(ch(A)),S||(o=C({src:o,async:!0},a),(a=Ts.get(A))&&Gb(o,a),S=f.createElement("script"),Fn(S),Kr(S,"link",o),f.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},m.set(A,S))}}function q8(o,a){na.M(o,a);var f=Hu;if(f&&o){var m=Ki(f).hoistableScripts,A=Gu(o),S=m.get(A);S||(S=f.querySelector(ch(A)),S||(o=C({src:o,async:!0,type:"module"},a),(a=Ts.get(A))&&Gb(o,a),S=f.createElement("script"),Fn(S),Kr(S,"link",o),f.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},m.set(A,S))}}function Ak(o,a,f,m){var A=(A=$e.current)?Zg(A):null;if(!A)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof f.precedence=="string"&&typeof f.href=="string"?(a=qu(f.href),f=Ki(A).hoistableStyles,m=f.get(a),m||(m={type:"style",instance:null,count:0,state:null},f.set(a,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(f.rel==="stylesheet"&&typeof f.href=="string"&&typeof f.precedence=="string"){o=qu(f.href);var S=Ki(A).hoistableStyles,I=S.get(o);if(I||(A=A.ownerDocument||A,I={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},S.set(o,I),(S=A.querySelector(lh(o)))&&!S._p&&(I.instance=S,I.state.loading=5),Ts.has(o)||(f={rel:"preload",as:"style",href:f.href,crossOrigin:f.crossOrigin,integrity:f.integrity,media:f.media,hrefLang:f.hrefLang,referrerPolicy:f.referrerPolicy},Ts.set(o,f),S||G8(A,o,f,I.state))),a&&m===null)throw Error(r(528,""));return I}if(a&&m!==null)throw Error(r(529,""));return null;case"script":return a=f.async,f=f.src,typeof f=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Gu(f),f=Ki(A).hoistableScripts,m=f.get(a),m||(m={type:"script",instance:null,count:0,state:null},f.set(a,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function qu(o){return'href="'+Ce(o)+'"'}function lh(o){return'link[rel="stylesheet"]['+o+"]"}function bk(o){return C({},o,{"data-precedence":o.precedence,precedence:null})}function G8(o,a,f,m){o.querySelector('link[rel="preload"][as="style"]['+a+"]")?m.loading=1:(a=o.createElement("link"),m.preload=a,a.addEventListener("load",function(){return m.loading|=1}),a.addEventListener("error",function(){return m.loading|=2}),Kr(a,"link",f),Fn(a),o.head.appendChild(a))}function Gu(o){return'[src="'+Ce(o)+'"]'}function ch(o){return"script[async]"+o}function _k(o,a,f){if(a.count++,a.instance===null)switch(a.type){case"style":var m=o.querySelector('style[data-href~="'+Ce(f.href)+'"]');if(m)return a.instance=m,Fn(m),m;var A=C({},f,{"data-href":f.href,"data-precedence":f.precedence,href:null,precedence:null});return m=(o.ownerDocument||o).createElement("style"),Fn(m),Kr(m,"style",A),em(m,f.precedence,o),a.instance=m;case"stylesheet":A=qu(f.href);var S=o.querySelector(lh(A));if(S)return a.state.loading|=4,a.instance=S,Fn(S),S;m=bk(f),(A=Ts.get(A))&&qb(m,A),S=(o.ownerDocument||o).createElement("link"),Fn(S);var I=S;return I._p=new Promise(function(z,X){I.onload=z,I.onerror=X}),Kr(S,"link",m),a.state.loading|=4,em(S,f.precedence,o),a.instance=S;case"script":return S=Gu(f.src),(A=o.querySelector(ch(S)))?(a.instance=A,Fn(A),A):(m=f,(A=Ts.get(S))&&(m=C({},f),Gb(m,A)),o=o.ownerDocument||o,A=o.createElement("script"),Fn(A),Kr(A,"link",m),o.head.appendChild(A),a.instance=A);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&!(a.state.loading&4)&&(m=a.instance,a.state.loading|=4,em(m,f.precedence,o));return a.instance}function em(o,a,f){for(var m=f.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),A=m.length?m[m.length-1]:null,S=A,I=0;I<m.length;I++){var z=m[I];if(z.dataset.precedence===a)S=z;else if(S!==A)break}S?S.parentNode.insertBefore(o,S.nextSibling):(a=f.nodeType===9?f.head:f,a.insertBefore(o,a.firstChild))}function qb(o,a){o.crossOrigin==null&&(o.crossOrigin=a.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=a.referrerPolicy),o.title==null&&(o.title=a.title)}function Gb(o,a){o.crossOrigin==null&&(o.crossOrigin=a.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=a.referrerPolicy),o.integrity==null&&(o.integrity=a.integrity)}var tm=null;function Sk(o,a,f){if(tm===null){var m=new Map,A=tm=new Map;A.set(f,m)}else A=tm,m=A.get(f),m||(m=new Map,A.set(f,m));if(m.has(o))return m;for(m.set(o,null),f=f.getElementsByTagName(o),A=0;A<f.length;A++){var S=f[A];if(!(S[Qt]||S[_t]||o==="link"&&S.getAttribute("rel")==="stylesheet")&&S.namespaceURI!=="http://www.w3.org/2000/svg"){var I=S.getAttribute(a)||"";I=o+I;var z=m.get(I);z?z.push(S):m.set(I,[S])}}return m}function xk(o,a,f){o=o.ownerDocument||o,o.head.insertBefore(f,a==="title"?o.querySelector("head > title"):null)}function Y8(o,a,f){if(f===1||a.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return o=a.disabled,typeof a.precedence=="string"&&o==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function wk(o){return!(o.type==="stylesheet"&&!(o.state.loading&3))}var uh=null;function K8(){}function W8(o,a,f){if(uh===null)throw Error(r(475));var m=uh;if(a.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&!(a.state.loading&4)){if(a.instance===null){var A=qu(f.href),S=o.querySelector(lh(A));if(S){o=S._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(m.count++,m=nm.bind(m),o.then(m,m)),a.state.loading|=4,a.instance=S,Fn(S);return}S=o.ownerDocument||o,f=bk(f),(A=Ts.get(A))&&qb(f,A),S=S.createElement("link"),Fn(S);var I=S;I._p=new Promise(function(z,X){I.onload=z,I.onerror=X}),Kr(S,"link",f),a.instance=S}m.stylesheets===null&&(m.stylesheets=new Map),m.stylesheets.set(a,o),(o=a.state.preload)&&!(a.state.loading&3)&&(m.count++,a=nm.bind(m),o.addEventListener("load",a),o.addEventListener("error",a))}}function Q8(){if(uh===null)throw Error(r(475));var o=uh;return o.stylesheets&&o.count===0&&Yb(o,o.stylesheets),0<o.count?function(a){var f=setTimeout(function(){if(o.stylesheets&&Yb(o,o.stylesheets),o.unsuspend){var m=o.unsuspend;o.unsuspend=null,m()}},6e4);return o.unsuspend=a,function(){o.unsuspend=null,clearTimeout(f)}}:null}function nm(){if(this.count--,this.count===0){if(this.stylesheets)Yb(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var rm=null;function Yb(o,a){o.stylesheets=null,o.unsuspend!==null&&(o.count++,rm=new Map,a.forEach(X8,o),rm=null,nm.call(o))}function X8(o,a){if(!(a.state.loading&4)){var f=rm.get(o);if(f)var m=f.get(null);else{f=new Map,rm.set(o,f);for(var A=o.querySelectorAll("link[data-precedence],style[data-precedence]"),S=0;S<A.length;S++){var I=A[S];(I.nodeName==="LINK"||I.getAttribute("media")!=="not all")&&(f.set(I.dataset.precedence,I),m=I)}m&&f.set(null,m)}A=a.instance,I=A.getAttribute("data-precedence"),S=f.get(I)||m,S===m&&f.set(null,A),f.set(I,A),this.count++,m=nm.bind(this),A.addEventListener("load",m),A.addEventListener("error",m),S?S.parentNode.insertBefore(A,S.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(A,o.firstChild)),a.state.loading|=4}}var dh={$$typeof:y,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function J8(o,a,f,m,A,S,I,z){this.tag=1,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Le(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Le(0),this.hiddenUpdates=Le(null),this.identifierPrefix=m,this.onUncaughtError=A,this.onCaughtError=S,this.onRecoverableError=I,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=z,this.incompleteTransitions=new Map}function Ek(o,a,f,m,A,S,I,z,X,ie,be,Te){return o=new J8(o,a,f,I,z,X,ie,Te),a=1,S===!0&&(a|=24),S=ws(3,null,null,a),o.current=S,S.stateNode=o,a=EA(),a.refCount++,o.pooledCache=a,a.refCount++,S.memoizedState={element:m,isDehydrated:f,cache:a},sb(S),o}function Tk(o){return o?(o=wu,o):wu}function Ck(o,a,f,m,A,S){A=Tk(A),m.context===null?m.context=A:m.pendingContext=A,m=Ga(a),m.payload={element:f},S=S===void 0?null:S,S!==null&&(m.callback=S),f=Ya(o,m,a),f!==null&&(Si(f,o,a),Kf(f,o,a))}function kk(o,a){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var f=o.retryLane;o.retryLane=f!==0&&f<a?f:a}}function Kb(o,a){kk(o,a),(o=o.alternate)&&kk(o,a)}function Mk(o){if(o.tag===13){var a=La(o,67108864);a!==null&&Si(a,o,67108864),Kb(o,67108864)}}var im=!0;function Z8(o,a,f,m){var A=V.T;V.T=null;var S=F.p;try{F.p=2,Wb(o,a,f,m)}finally{F.p=S,V.T=A}}function eF(o,a,f,m){var A=V.T;V.T=null;var S=F.p;try{F.p=8,Wb(o,a,f,m)}finally{F.p=S,V.T=A}}function Wb(o,a,f,m){if(im){var A=Qb(m);if(A===null)Bb(o,a,m,sm,f),Ik(o,m);else if(nF(A,o,a,f,m))m.stopPropagation();else if(Ik(o,m),a&4&&-1<tF.indexOf(o)){for(;A!==null;){var S=ji(A);if(S!==null)switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var I=Lt(S.pendingLanes);if(I!==0){var z=S;for(z.pendingLanes|=2,z.entangledLanes|=2;I;){var X=1<<31-mt(I);z.entanglements[1]|=X,I&=~X}_o(S),!(Xn&6)&&($g=pt()+500,sh(0))}}break;case 13:z=La(S,2),z!==null&&Si(z,S,2),qg(),Kb(S,2)}if(S=Qb(m),S===null&&Bb(o,a,m,sm,f),S===A)break;A=S}A!==null&&m.stopPropagation()}else Bb(o,a,m,null,f)}}function Qb(o){return o=vu(o),Xb(o)}var sm=null;function Xb(o){if(sm=null,o=Yi(o),o!==null){var a=Q(o);if(a===null)o=null;else{var f=a.tag;if(f===13){if(o=J(a),o!==null)return o;o=null}else if(f===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;o=null}else a!==o&&(o=null)}}return sm=o,null}function Rk(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(un()){case on:return 2;case yt:return 8;case lt:case rt:return 32;case Ct:return 268435456;default:return 32}default:return 32}}var Jb=!1,el=null,tl=null,nl=null,fh=new Map,hh=new Map,rl=[],tF="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ik(o,a){switch(o){case"focusin":case"focusout":el=null;break;case"dragenter":case"dragleave":tl=null;break;case"mouseover":case"mouseout":nl=null;break;case"pointerover":case"pointerout":fh.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":hh.delete(a.pointerId)}}function ph(o,a,f,m,A,S){return o===null||o.nativeEvent!==S?(o={blockedOn:a,domEventName:f,eventSystemFlags:m,nativeEvent:S,targetContainers:[A]},a!==null&&(a=ji(a),a!==null&&Mk(a)),o):(o.eventSystemFlags|=m,a=o.targetContainers,A!==null&&a.indexOf(A)===-1&&a.push(A),o)}function nF(o,a,f,m,A){switch(a){case"focusin":return el=ph(el,o,a,f,m,A),!0;case"dragenter":return tl=ph(tl,o,a,f,m,A),!0;case"mouseover":return nl=ph(nl,o,a,f,m,A),!0;case"pointerover":var S=A.pointerId;return fh.set(S,ph(fh.get(S)||null,o,a,f,m,A)),!0;case"gotpointercapture":return S=A.pointerId,hh.set(S,ph(hh.get(S)||null,o,a,f,m,A)),!0}return!1}function Ok(o){var a=Yi(o.target);if(a!==null){var f=Q(a);if(f!==null){if(a=f.tag,a===13){if(a=J(f),a!==null){o.blockedOn=a,Mr(o.priority,function(){if(f.tag===13){var m=es(),A=La(f,m);A!==null&&Si(A,f,m),Kb(f,m)}});return}}else if(a===3&&f.stateNode.current.memoizedState.isDehydrated){o.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}o.blockedOn=null}function om(o){if(o.blockedOn!==null)return!1;for(var a=o.targetContainers;0<a.length;){var f=Qb(o.nativeEvent);if(f===null){f=o.nativeEvent;var m=new f.constructor(f.type,f);wf=m,f.target.dispatchEvent(m),wf=null}else return a=ji(f),a!==null&&Mk(a),o.blockedOn=f,!1;a.shift()}return!0}function jk(o,a,f){om(o)&&f.delete(a)}function rF(){Jb=!1,el!==null&&om(el)&&(el=null),tl!==null&&om(tl)&&(tl=null),nl!==null&&om(nl)&&(nl=null),fh.forEach(jk),hh.forEach(jk)}function am(o,a){o.blockedOn===a&&(o.blockedOn=null,Jb||(Jb=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,rF)))}var lm=null;function Pk(o){lm!==o&&(lm=o,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){lm===o&&(lm=null);for(var a=0;a<o.length;a+=3){var f=o[a],m=o[a+1],A=o[a+2];if(typeof m!="function"){if(Xb(m||f)===null)continue;break}var S=ji(f);S!==null&&(o.splice(a,3),a-=3,zA(S,{pending:!0,data:A,method:f.method,action:m},m,A))}}))}function gh(o){function a(X){return am(X,o)}el!==null&&am(el,o),tl!==null&&am(tl,o),nl!==null&&am(nl,o),fh.forEach(a),hh.forEach(a);for(var f=0;f<rl.length;f++){var m=rl[f];m.blockedOn===o&&(m.blockedOn=null)}for(;0<rl.length&&(f=rl[0],f.blockedOn===null);)Ok(f),f.blockedOn===null&&rl.shift();if(f=(o.ownerDocument||o).$$reactFormReplay,f!=null)for(m=0;m<f.length;m+=3){var A=f[m],S=f[m+1],I=A[tr]||null;if(typeof S=="function")I||Pk(f);else if(I){var z=null;if(S&&S.hasAttribute("formAction")){if(A=S,I=S[tr]||null)z=I.formAction;else if(Xb(A)!==null)continue}else z=I.action;typeof z=="function"?f[m+1]=z:(f.splice(m,3),m-=3),Pk(f)}}}function Zb(o){this._internalRoot=o}cm.prototype.render=Zb.prototype.render=function(o){var a=this._internalRoot;if(a===null)throw Error(r(409));var f=a.current,m=es();Ck(f,m,o,a,null,null)},cm.prototype.unmount=Zb.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var a=o.containerInfo;o.tag===0&&zu(),Ck(o.current,2,null,o,null,null),qg(),a[mo]=null}};function cm(o){this._internalRoot=o}cm.prototype.unstable_scheduleHydration=function(o){if(o){var a=Ai();o={blockedOn:null,target:o,priority:a};for(var f=0;f<rl.length&&a!==0&&a<rl[f].priority;f++);rl.splice(f,0,o),f===0&&Ok(o)}};var Vk=t.version;if(Vk!=="19.0.0")throw Error(r(527,Vk,"19.0.0"));F.findDOMNode=function(o){var a=o._reactInternals;if(a===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=G(a),o=o!==null?ee(o):null,o=o===null?null:o.stateNode,o};var iF={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:V,findFiberByHostInstance:Yi,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var um=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!um.isDisabled&&um.supportsFiber)try{bt=um.inject(iF),Nt=um}catch{}}return Bh.createRoot=function(o,a){if(!i(o))throw Error(r(299));var f=!1,m="",A=JT,S=ZT,I=eC,z=null;return a!=null&&(a.unstable_strictMode===!0&&(f=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onUncaughtError!==void 0&&(A=a.onUncaughtError),a.onCaughtError!==void 0&&(S=a.onCaughtError),a.onRecoverableError!==void 0&&(I=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(z=a.unstable_transitionCallbacks)),a=Ek(o,1,!1,null,null,f,m,A,S,I,z,null),o[mo]=a.current,Db(o.nodeType===8?o.parentNode:o),new Zb(a)},Bh.hydrateRoot=function(o,a,f){if(!i(o))throw Error(r(299));var m=!1,A="",S=JT,I=ZT,z=eC,X=null,ie=null;return f!=null&&(f.unstable_strictMode===!0&&(m=!0),f.identifierPrefix!==void 0&&(A=f.identifierPrefix),f.onUncaughtError!==void 0&&(S=f.onUncaughtError),f.onCaughtError!==void 0&&(I=f.onCaughtError),f.onRecoverableError!==void 0&&(z=f.onRecoverableError),f.unstable_transitionCallbacks!==void 0&&(X=f.unstable_transitionCallbacks),f.formState!==void 0&&(ie=f.formState)),a=Ek(o,1,!0,a,f??null,m,A,S,I,z,X,ie),a.context=Tk(null),f=a.current,m=es(),A=Ga(m),A.callback=null,Ya(f,A,m),a.current.lanes=m,it(a,m),_o(a),o[mo]=a.current,Db(o),new cm(a)},Bh.version="19.0.0",Bh}var Ej;function w1e(){if(Ej)return L_.exports;Ej=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),L_.exports=x1e(),L_.exports}var E1e=w1e();cY({integrations:[sY({enableInp:!0}),dH({filterKeys:["allkaraoke-party-sentry-key"],behaviour:"apply-tag-if-contains-third-party-frames"})],dsn:"https://66c6e940d24b4096a277f350571921bb@o366978.ingest.sentry.io/6174734",ignoreErrors:b1e,tracesSampleRate:ds()?0:.01,environment:ds()?"e2e":"production",tunnel:"/stry-tunnel"});ds()||er.init("phc_bw7XLoONmtGVezmMKTvcwk3lj37jzxTfisqzjlJ0Jik",{api_host:"/ph-data",loaded:e=>{let t=st.local.getItem("posthog-user-id");t||(t=Av(),st.local.setItem("posthog-user-id",t)),e.identify(t);let n=st.local.getItem("posthog-user-name");if(!n){const r=[...new Set(Qh.artists.flatMap(i=>Q4(i).split("-")))].filter(i=>i.length<=10);n=new Array(uo(3,5)).fill(0).map(()=>r[uo(0,r.length-1)]).join("-"),st.local.setItem("posthog-user-name",n),e.alias(n,t)}o9({id:t})}});const T1e=wD({key:"ec",speedy:!oL}),C1e=document.getElementById("root"),k1e=E1e.createRoot(C1e);k1e.render(g.jsxs(AJ,{value:T1e,children:[g.jsx(A1e,{}),g.jsx(tX,{position:"bottom-left",theme:"colored",limit:3})]}));export{nL as $,Ii as A,mi as B,AJ as C,Zp as D,moe as E,NB as F,Qe as G,_v as H,jE as I,xa as J,vi as K,Wt as L,Bn as M,Gy as N,qt as O,It as P,Gs as Q,sv as R,fs as S,ja as T,yi as U,$v as V,Ny as W,TE as X,CE as Y,Mp as Z,LB as _,Hre as a,bpe as a$,PE as a0,Mv as a1,zB as a2,OE as a3,Nre as a4,Tv as a5,B1e as a6,Gc as a7,VE as a8,Dre as a9,bf as aA,Pc as aB,j0 as aC,Rhe as aD,Ihe as aE,$K as aF,wl as aG,Sp as aH,zv as aI,Ehe as aJ,She as aK,bhe as aL,Che as aM,Ci as aN,df as aO,bAe as aP,Pl as aQ,Oi as aR,Nl as aS,My as aT,wre as aU,Uy as aV,Fpe as aW,mf as aX,Use as aY,ZN as aZ,Yhe as a_,Yc as aa,Vre as ab,AE as ac,Qhe as ad,mO as ae,cpe as af,D1e as ag,ioe as ah,Ore as ai,Whe as aj,oo as ak,gd as al,yE as am,GI as an,K as ao,hO as ap,JE as aq,j5 as ar,To as as,fn as at,bx as au,F1e as av,Fre as aw,mB as ax,at as ay,SX as az,$re as b,U1 as b0,BE as b1,mpe as b2,A_ as b3,Tpe as b4,$I as b5,au as b6,ou as b7,Ede as b8,cce as b9,Npe as ba,Bae as bb,Dae as bc,iL as bd,Bv as be,lo as bf,gs as bg,c2 as bh,z1e as bi,Lpe as bj,er as bk,fhe as bl,JW as c,wD as d,BX as e,Fie as f,Fw as g,Kc as h,xB as i,g as j,Bie as k,Bt as l,Ure as m,Jie as n,Cv as o,SB as p,_x as q,x as r,st as s,wE as t,Tl as u,Ra as v,V1e as w,SE as x,Ui as y,P1e as z};
//# sourceMappingURL=index-DvmM1SF7.js.map
