function OR(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Jo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function hr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function io(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var VR={exports:{}},jm={},LR={exports:{}},st={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jf=Symbol.for("react.element"),BB=Symbol.for("react.portal"),DB=Symbol.for("react.fragment"),$B=Symbol.for("react.strict_mode"),FB=Symbol.for("react.profiler"),zB=Symbol.for("react.provider"),UB=Symbol.for("react.context"),HB=Symbol.for("react.forward_ref"),GB=Symbol.for("react.suspense"),qB=Symbol.for("react.memo"),WB=Symbol.for("react.lazy"),AE=Symbol.iterator;function KB(e){return e===null||typeof e!="object"?null:(e=AE&&e[AE]||e["@@iterator"],typeof e=="function"?e:null)}var NR={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},BR=Object.assign,DR={};function gu(e,t,n){this.props=e,this.context=t,this.refs=DR,this.updater=n||NR}gu.prototype.isReactComponent={};gu.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};gu.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function $R(){}$R.prototype=gu.prototype;function _b(e,t,n){this.props=e,this.context=t,this.refs=DR,this.updater=n||NR}var bb=_b.prototype=new $R;bb.constructor=_b;BR(bb,gu.prototype);bb.isPureReactComponent=!0;var _E=Array.isArray,FR=Object.prototype.hasOwnProperty,Sb={current:null},zR={key:!0,ref:!0,__self:!0,__source:!0};function UR(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)FR.call(t,r)&&!zR.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Jf,type:e,key:s,ref:o,props:i,_owner:Sb.current}}function YB(e,t){return{$$typeof:Jf,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function xb(e){return typeof e=="object"&&e!==null&&e.$$typeof===Jf}function QB(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var bE=/\/+/g;function Mv(e,t){return typeof e=="object"&&e!==null&&e.key!=null?QB(""+e.key):t.toString(36)}function Op(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Jf:case BB:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+Mv(o,0):r,_E(i)?(n="",e!=null&&(n=e.replace(bE,"$&/")+"/"),Op(i,t,n,"",function(c){return c})):i!=null&&(xb(i)&&(i=YB(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(bE,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",_E(e))for(var a=0;a<e.length;a++){s=e[a];var l=r+Mv(s,a);o+=Op(s,t,n,l,i)}else if(l=KB(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=r+Mv(s,a++),o+=Op(s,t,n,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Oh(e,t,n){if(e==null)return e;var r=[],i=0;return Op(e,r,"","",function(s){return t.call(n,s,i++)}),r}function JB(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Br={current:null},Vp={transition:null},XB={ReactCurrentDispatcher:Br,ReactCurrentBatchConfig:Vp,ReactCurrentOwner:Sb};st.Children={map:Oh,forEach:function(e,t,n){Oh(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Oh(e,function(){t++}),t},toArray:function(e){return Oh(e,function(t){return t})||[]},only:function(e){if(!xb(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};st.Component=gu;st.Fragment=DB;st.Profiler=FB;st.PureComponent=_b;st.StrictMode=$B;st.Suspense=GB;st.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=XB;st.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=BR({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=Sb.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)FR.call(t,l)&&!zR.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Jf,type:e.type,key:i,ref:s,props:r,_owner:o}};st.createContext=function(e){return e={$$typeof:UB,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:zB,_context:e},e.Consumer=e};st.createElement=UR;st.createFactory=function(e){var t=UR.bind(null,e);return t.type=e,t};st.createRef=function(){return{current:null}};st.forwardRef=function(e){return{$$typeof:HB,render:e}};st.isValidElement=xb;st.lazy=function(e){return{$$typeof:WB,_payload:{_status:-1,_result:e},_init:JB}};st.memo=function(e,t){return{$$typeof:qB,type:e,compare:t===void 0?null:t}};st.startTransition=function(e){var t=Vp.transition;Vp.transition={};try{e()}finally{Vp.transition=t}};st.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};st.useCallback=function(e,t){return Br.current.useCallback(e,t)};st.useContext=function(e){return Br.current.useContext(e)};st.useDebugValue=function(){};st.useDeferredValue=function(e){return Br.current.useDeferredValue(e)};st.useEffect=function(e,t){return Br.current.useEffect(e,t)};st.useId=function(){return Br.current.useId()};st.useImperativeHandle=function(e,t,n){return Br.current.useImperativeHandle(e,t,n)};st.useInsertionEffect=function(e,t){return Br.current.useInsertionEffect(e,t)};st.useLayoutEffect=function(e,t){return Br.current.useLayoutEffect(e,t)};st.useMemo=function(e,t){return Br.current.useMemo(e,t)};st.useReducer=function(e,t,n){return Br.current.useReducer(e,t,n)};st.useRef=function(e){return Br.current.useRef(e)};st.useState=function(e){return Br.current.useState(e)};st.useSyncExternalStore=function(e,t,n){return Br.current.useSyncExternalStore(e,t,n)};st.useTransition=function(){return Br.current.useTransition()};st.version="18.2.0";LR.exports=st;var y=LR.exports;const Te=hr(y),mg=OR({__proto__:null,default:Te},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZB=y,eD=Symbol.for("react.element"),tD=Symbol.for("react.fragment"),nD=Object.prototype.hasOwnProperty,rD=ZB.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,iD={key:!0,ref:!0,__self:!0,__source:!0};function HR(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)nD.call(t,r)&&!iD.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:eD,type:e,key:s,ref:o,props:i,_owner:rD.current}}jm.Fragment=tD;jm.jsx=HR;jm.jsxs=HR;VR.exports=jm;var f=VR.exports;class Is{constructor(){this.listeners=[],this.onUpdate=(...t)=>{this.listeners.forEach(n=>n(...t))},this.addListener=t=>(this.listeners.push(t),()=>{this.removeListener(t)}),this.removeListener=t=>{this.listeners=this.listeners.filter(n=>n!==t)},this.clearAllListeners=()=>{console.log("clearing all listeners"),this.listeners=[]}}}const SA=e=>({setItem:(t,n)=>{e.setItem(t,JSON.stringify(n))},getItem:t=>{const n=e.getItem(t);if(n===null)return null;try{return JSON.parse(n)}catch{return n}},removeItem:t=>{e.removeItem(t)},clear:()=>{e.clear()},keys:()=>{const t=[];for(let n=0,r=e.length;n<r;++n)t.push(e.key(n));return t}});class xA{constructor(){this.store={}}setItem(t,n){this.store[t]=n}getItem(t){const n=this.store[t];return n===void 0?null:n}removeItem(t){delete this.store[t]}get length(){return Object.keys(this.store).length}keys(){return Object.keys(this.store)}key(t){return Object.keys(this.store)[t]}clear(){this.store={}}}const SE=SA((global==null?void 0:global.localStorage)??new xA),Oe={...SE,local:SE,session:SA((global==null?void 0:global.sessionStorage)??new xA),memory:SA(new xA)},wA="CAMERA_GRANT_KEY",xE=Oe.local.getItem(wA);class sD extends Is{constructor(){super(),this.stream=null,this.recorder=null,this.videoData=[],this.permissionGranted=xE!==null?JSON.parse(xE):null,this.requestPermissions=async()=>{try{this.stream=await navigator.mediaDevices.getUserMedia({video:!0}),this.permissionGranted=!0,await this.stopRecord()}catch{this.permissionGranted=!1}return Oe.local.setItem(wA,JSON.stringify(this.permissionGranted)),this.onUpdate(this.permissionGranted),this.permissionGranted},this.disable=()=>{this.permissionGranted=!1,Oe.local.setItem(wA,JSON.stringify(this.permissionGranted)),this.onUpdate(this.permissionGranted)},this.startRecord=async()=>{if(this.permissionGranted)try{this.stream=await navigator.mediaDevices.getUserMedia({video:{frameRate:2}});const t=this.stream.getVideoTracks()[0].getSettings();this.video.width=t.width??this.video.width,this.video.height=t.height??this.video.height,this.canvas.width=this.video.width,this.canvas.height=this.video.height,this.video.srcObject=this.stream,await this.video.play(),this.recorder=new MediaRecorder(this.stream,{mimeType:"video/webm"}),this.recorder.ondataavailable=n=>{this.videoData.push(n.data)},this.recorder.start()}catch(t){console.warn(t)}},this.getVideo=()=>{const t=new Blob(this.videoData,{type:"video/webm"});return URL.createObjectURL(t)},this.stopRecord=async()=>{var t,n;this.permissionGranted&&((t=this.recorder)==null||t.stop(),(n=this.stream)==null||n.getTracks().forEach(r=>r.stop()))},this.clearData=()=>{this.videoData.length=0},this.restartRecord=async()=>{await this.stopRecord(),await this.clearData(),await this.startRecord()},this.getPermissionStatus=()=>this.permissionGranted,this.video=document.createElement("video"),this.video.width=480,this.video.height=this.video.width*(9/16),this.canvas=document.createElement("canvas"),this.canvas.width=this.video.width,this.canvas.height=this.video.height}}const ps=new sD;function wE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ce(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wE(Object(n),!0).forEach(function(r){re(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ef(e){return ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ef(e)}function Gt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function EE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qt(e,t,n){return t&&EE(e.prototype,t),n&&EE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function re(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oD(e,t){if(e==null)return{};var n,r,i=function(o,a){if(o==null)return{};var l,c,u={},d=Object.keys(o);for(c=0;c<d.length;c++)l=d[c],a.indexOf(l)>=0||(u[l]=o[l]);return u}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Mr(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var s,o,a=[],l=!0,c=!1;try{for(i=i.call(n);!(l=(s=i.next()).done)&&(a.push(s.value),!r||a.length!==r);l=!0);}catch(u){c=!0,o=u}finally{try{l||i.return==null||i.return()}finally{if(c)throw o}}return a}}(e,t)||wb(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Hc(e){return function(t){if(Array.isArray(t))return EA(t)}(e)||function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(e)||wb(e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function wb(e,t){if(e){if(typeof e=="string")return EA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?EA(e,t):void 0}}function EA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ws(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=wb(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(l){throw l},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,o=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var l=n.next();return o=l.done,l},e:function(l){a=!0,s=l},f:function(){try{o||n.return==null||n.return()}finally{if(a)throw s}}}}var Ya={DEBUG:!1,LIB_VERSION:"1.130.0"},aD=Array.isArray,GR=Object.prototype,qR=GR.hasOwnProperty,Om=GR.toString,Bn=aD||function(e){return Om.call(e)==="[object Array]"},ys=function(e){return typeof e=="function"},Hs=function(e){return e===Object(e)&&!Bn(e)},jv=function(e){if(Hs(e)){for(var t in e)if(qR.call(e,t))return!1;return!0}return!1},We=function(e){return e===void 0},br=function(e){return Om.call(e)=="[object String]"},As=function(e){return e===null},ia=function(e){return We(e)||As(e)},ds=function(e){return Om.call(e)=="[object Number]"},Lp=function(e){return Om.call(e)==="[object Boolean]"},lD=function(e){return e instanceof FormData},X=typeof window<"u"?window:void 0,Hr=typeof globalThis<"u"?globalThis:X,WR=Array.prototype,kE=WR.forEach,CE=WR.indexOf,tf=Hr==null?void 0:Hr.navigator,we=Hr==null?void 0:Hr.document,Oi=Hr==null?void 0:Hr.location,Eb=Hr==null?void 0:Hr.fetch,kb=Hr!=null&&Hr.XMLHttpRequest&&"withCredentials"in new Hr.XMLHttpRequest?Hr.XMLHttpRequest:void 0,TE=Hr==null?void 0:Hr.AbortController,bn=tf==null?void 0:tf.userAgent,oi=X??{},IE="[PostHog.js]",ge={_log:function(e){if(X&&(Ya.DEBUG||oi.POSTHOG_DEBUG)&&!We(X.console)&&X.console){for(var t=("__rrweb_original__"in X.console[e])?X.console[e].__rrweb_original__:X.console[e],n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t.apply(void 0,[IE].concat(r))}},info:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];ge._log.apply(ge,["log"].concat(t))},warn:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];ge._log.apply(ge,["warn"].concat(t))},error:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];ge._log.apply(ge,["error"].concat(t))},critical:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=console).error.apply(e,[IE].concat(n))},uninitializedWarning:function(e){ge.error("You must initialize PostHog before calling ".concat(e))}},vg={},Vm=function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")};function wc(e,t,n){if(Bn(e)){if(kE&&e.forEach===kE)e.forEach(t,n);else if("length"in e&&e.length===+e.length){for(var r=0,i=e.length;r<i;r++)if(r in e&&t.call(n,e[r],r)===vg)return}}}function Dt(e,t,n){if(!ia(e)){if(Bn(e))return wc(e,t,n);if(lD(e)){var r,i=ws(e.entries());try{for(i.s();!(r=i.n()).done;){var s=r.value;if(t.call(n,s[1],s[0])===vg)return}}catch(a){i.e(a)}finally{i.f()}}else for(var o in e)if(qR.call(e,o)&&t.call(n,e[o],o)===vg)return}}var Kn=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return wc(n,function(i){for(var s in i)i[s]!==void 0&&(e[s]=i[s])}),e};function ft(e,t){return e.indexOf(t)!==-1}function Np(e){for(var t=Object.keys(e),n=t.length,r=new Array(n);n--;)r[n]=[t[n],e[t[n]]];return r}var KR=function(){return Date.now=Date.now||function(){return+new Date},Date.now()},PE=function(e){try{return e()}catch{return}},cD=function(e){return function(){try{for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(this,n)}catch(i){ge.critical("Implementation error. Please turn on debug mode and open a ticket on https://app.posthog.com/home#panel=support%3Asupport%3A."),ge.critical(i)}}},kA=function(e){var t={};return Dt(e,function(n,r){br(n)&&n.length>0&&(t[r]=n)}),t};function uD(e,t){return n=e,r=function(s){return br(s)&&!As(t)?s.slice(0,t):s},i=new Set,function s(o,a){return o!==Object(o)?r?r(o,a):o:i.has(o)?void 0:(i.add(o),Bn(o)?(l=[],wc(o,function(c){l.push(s(c))})):(l={},Dt(o,function(c,u){i.has(c)||(l[u]=s(c,u))})),l);var l}(n);var n,r,i}var hs,dD=function(e){var t,n,r,i,s="";for(t=n=0,r=(e=(e+"").replace(/\r\n/g,`
`).replace(/\r/g,`
`)).length,i=0;i<r;i++){var o=e.charCodeAt(i),a=null;o<128?n++:a=o>127&&o<2048?String.fromCharCode(o>>6|192,63&o|128):String.fromCharCode(o>>12|224,o>>6&63|128,63&o|128),As(a)||(n>t&&(s+=e.substring(t,n)),s+=a,t=n=i+1)}return n>t&&(s+=e.substring(t,e.length)),s},po=function(){function e(t){return t&&(t.preventDefault=e.preventDefault,t.stopPropagation=e.stopPropagation),t}return e.preventDefault=function(){this.returnValue=!1},e.stopPropagation=function(){this.cancelBubble=!0},function(t,n,r,i,s){if(t)if(t.addEventListener&&!i)t.addEventListener(n,r,!!s);else{var o="on"+n,a=t[o];t[o]=function(l,c,u){return function(d){if(d=d||e(X==null?void 0:X.event)){var h,p=!0;ys(u)&&(h=u(d));var g=c.call(l,d);return h!==!1&&g!==!1||(p=!1),p}}}(t,r,a)}else ge.error("No valid element provided to register_event")}}();function nf(e,t){var n=function(){if(!we)return t("document not found");var r=we.createElement("script");r.type="text/javascript",r.src=e,r.onload=function(o){return t(void 0,o)},r.onerror=function(o){return t(o)};var i,s=we.querySelectorAll("body > script");s.length>0?(i=s[0].parentNode)===null||i===void 0||i.insertBefore(r,s[0]):we.body.appendChild(r)};we!=null&&we.body?n():we==null||we.addEventListener("DOMContentLoaded",n)}(function(e){e.GZipJS="gzip-js",e.Base64="base64"})(hs||(hs={}));var YR="$people_distinct_id",fd="__alias",hd="__timers",RE="$autocapture_disabled_server_side",CA="$heatmaps_enabled_server_side",TA="$session_recording_enabled_server_side",ME="$console_log_recording_enabled_server_side",jE="$session_recording_network_payload_capture",OE="$session_recording_canvas_recording",VE="$replay_sample_rate",LE="$replay_minimum_duration",yg="$sesid",Td="$session_is_sampled",sc="$enabled_feature_flags",IA="$early_access_features",oc="$stored_person_properties",Uo="$stored_group_properties",PA="$surveys",Ag="$flag_call_reported",lo="$user_state",RA="$client_session_props",MA="$capture_rate_limit",jA="$initial_campaign_params",OA="$initial_referrer_info",_g="$epp",fD=[YR,fd,"__cmpns",hd,TA,CA,yg,sc,lo,IA,Uo,oc,PA,Ag,RA,MA,jA,OA,_g],Ov="$active_feature_flags",Vh="$override_feature_flags",NE="$feature_flag_payloads",BE=function(e){var t,n={},r=ws(Np(e||{}));try{for(r.s();!(t=r.n()).done;){var i=Mr(t.value,2),s=i[0],o=i[1];o&&(n[s]=o)}}catch(a){r.e(a)}finally{r.f()}return n},hD=function(){function e(t){Gt(this,e),this.instance=t,this._override_warning=!1,this.featureFlagEventHandlers=[],this.reloadFeatureFlagsQueued=!1,this.reloadFeatureFlagsInAction=!1}return qt(e,[{key:"getFlags",value:function(){return Object.keys(this.getFlagVariants())}},{key:"getFlagVariants",value:function(){var t=this.instance.get_property(sc),n=this.instance.get_property(Vh);if(!n)return t||{};for(var r=Kn({},t),i=Object.keys(n),s=0;s<i.length;s++)r[i[s]]=n[i[s]];return this._override_warning||(ge.warn(" Overriding feature flags!",{enabledFlags:t,overriddenFlags:n,finalFlags:r}),this._override_warning=!0),r}},{key:"getFlagPayloads",value:function(){return this.instance.get_property(NE)||{}}},{key:"reloadFeatureFlags",value:function(){this.reloadFeatureFlagsQueued||(this.reloadFeatureFlagsQueued=!0,this._startReloadTimer())}},{key:"setAnonymousDistinctId",value:function(t){this.$anon_distinct_id=t}},{key:"setReloadingPaused",value:function(t){this.reloadFeatureFlagsInAction=t}},{key:"resetRequestQueue",value:function(){this.reloadFeatureFlagsQueued=!1}},{key:"_startReloadTimer",value:function(){var t=this;this.reloadFeatureFlagsQueued&&!this.reloadFeatureFlagsInAction&&setTimeout(function(){!t.reloadFeatureFlagsInAction&&t.reloadFeatureFlagsQueued&&(t.reloadFeatureFlagsQueued=!1,t._reloadFeatureFlagsRequest())},5)}},{key:"_reloadFeatureFlagsRequest",value:function(){var t=this;if(!this.instance.config.advanced_disable_feature_flags){this.setReloadingPaused(!0);var n=this.instance.config.token,r=this.instance.get_property(oc),i=this.instance.get_property(Uo),s={token:n,distinct_id:this.instance.get_distinct_id(),groups:this.instance.getGroups(),$anon_distinct_id:this.$anon_distinct_id,person_properties:r,group_properties:i,disable_flags:this.instance.config.advanced_disable_feature_flags||void 0};this.instance._send_request({method:"POST",url:this.instance.requestRouter.endpointFor("api","/decide/?v=3"),data:s,compression:this.instance.config.disable_compression?void 0:hs.Base64,timeout:this.instance.config.feature_flag_request_timeout_ms,callback:function(o){var a;t.setReloadingPaused(!1);var l=!0;o.statusCode===200&&(t.$anon_distinct_id=void 0,l=!1),t.receivedFeatureFlags((a=o.json)!==null&&a!==void 0?a:{},l),t._startReloadTimer()}})}}},{key:"getFeatureFlag",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.instance.decideEndpointWasHit||this.getFlags()&&this.getFlags().length>0){var r,i=this.getFlagVariants()[t],s="".concat(i),o=this.instance.get_property(Ag)||{};return(n.send_event||!("send_event"in n))&&(!(t in o)||!o[t].includes(s))&&(Bn(o[t])?o[t].push(s):o[t]=[s],(r=this.instance.persistence)===null||r===void 0||r.register(re({},Ag,o)),this.instance.capture("$feature_flag_called",{$feature_flag:t,$feature_flag_response:i})),i}ge.warn('getFeatureFlag for key "'+t+`" failed. Feature flags didn't load in time.`)}},{key:"getFeatureFlagPayload",value:function(t){return this.getFlagPayloads()[t]}},{key:"isFeatureEnabled",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.instance.decideEndpointWasHit||this.getFlags()&&this.getFlags().length>0)return!!this.getFeatureFlag(t,n);ge.warn('isFeatureEnabled for key "'+t+`" failed. Feature flags didn't load in time.`)}},{key:"addFeatureFlagsHandler",value:function(t){this.featureFlagEventHandlers.push(t)}},{key:"removeFeatureFlagsHandler",value:function(t){this.featureFlagEventHandlers=this.featureFlagEventHandlers.filter(function(n){return n!==t})}},{key:"receivedFeatureFlags",value:function(t,n){if(this.instance.persistence){this.instance.decideEndpointWasHit=!0;var r=this.getFlagVariants(),i=this.getFlagPayloads();(function(s,o){var a,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},u=s.featureFlags,d=s.featureFlagPayloads;if(u)if(Bn(u)){var h,p={};if(u)for(var g=0;g<u.length;g++)p[u[g]]=!0;o&&o.register((re(h={},Ov,u),re(h,sc,p),h))}else{var m=u,_=d;s.errorsWhileComputingFlags&&(m=Ce(Ce({},l),m),_=Ce(Ce({},c),_)),o&&o.register((re(a={},Ov,Object.keys(BE(m))),re(a,sc,m||{}),re(a,NE,_||{}),a))}})(t,this.instance.persistence,r,i),this._fireFeatureFlagsCallbacks(n)}}},{key:"override",value:function(t){if(!this.instance.__loaded||!this.instance.persistence)return ge.uninitializedWarning("posthog.feature_flags.override");if(this._override_warning=!1,t===!1)this.instance.persistence.unregister(Vh);else if(Bn(t)){for(var n={},r=0;r<t.length;r++)n[t[r]]=!0;this.instance.persistence.register(re({},Vh,n))}else this.instance.persistence.register(re({},Vh,t))}},{key:"onFeatureFlags",value:function(t){var n=this;if(this.addFeatureFlagsHandler(t),this.instance.decideEndpointWasHit){var r=this._prepareFeatureFlagsForCallbacks(),i=r.flags,s=r.flagVariants;t(i,s)}return function(){return n.removeFeatureFlagsHandler(t)}}},{key:"updateEarlyAccessFeatureEnrollment",value:function(t,n){var r,i,s=re({},"$feature_enrollment/".concat(t),n);this.instance.capture("$feature_enrollment_update",{$feature_flag:t,$feature_enrollment:n,$set:s}),this.setPersonPropertiesForFlags(s,!1);var o=Ce(Ce({},this.getFlagVariants()),{},re({},t,n));(r=this.instance.persistence)===null||r===void 0||r.register((re(i={},Ov,Object.keys(BE(o))),re(i,sc,o),i)),this._fireFeatureFlagsCallbacks()}},{key:"getEarlyAccessFeatures",value:function(t){var n=this,r=arguments.length>1&&arguments[1]!==void 0&&arguments[1],i=this.instance.get_property(IA);if(i&&!r)return t(i);this.instance._send_request({transport:"XHR",url:this.instance.requestRouter.endpointFor("api","/api/early_access_features/?token=".concat(this.instance.config.token)),method:"GET",callback:function(s){var o;if(s.json){var a=s.json.earlyAccessFeatures;return(o=n.instance.persistence)===null||o===void 0||o.register(re({},IA,a)),t(a)}}})}},{key:"_prepareFeatureFlagsForCallbacks",value:function(){var t=this.getFlags(),n=this.getFlagVariants();return{flags:t.filter(function(r){return n[r]}),flagVariants:Object.keys(n).filter(function(r){return n[r]}).reduce(function(r,i){return r[i]=n[i],r},{})}}},{key:"_fireFeatureFlagsCallbacks",value:function(t){var n=this._prepareFeatureFlagsForCallbacks(),r=n.flags,i=n.flagVariants;this.featureFlagEventHandlers.forEach(function(s){return s(r,i,{errorsLoading:t})})}},{key:"setPersonPropertiesForFlags",value:function(t){var n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=this.instance.get_property(oc)||{};this.instance.register(re({},oc,Ce(Ce({},r),t))),n&&this.instance.reloadFeatureFlags()}},{key:"resetPersonPropertiesForFlags",value:function(){this.instance.unregister(oc)}},{key:"setGroupPropertiesForFlags",value:function(t){var n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=this.instance.get_property(Uo)||{};Object.keys(r).length!==0&&Object.keys(r).forEach(function(i){r[i]=Ce(Ce({},r[i]),t[i]),delete t[i]}),this.instance.register(re({},Uo,Ce(Ce({},r),t))),n&&this.instance.reloadFeatureFlags()}},{key:"resetGroupPropertiesForFlags",value:function(t){if(t){var n=this.instance.get_property(Uo)||{};this.instance.register(re({},Uo,Ce(Ce({},n),{},re({},t,{}))))}else this.instance.unregister(Uo)}}]),e}();Math.trunc||(Math.trunc=function(e){return e<0?Math.ceil(e):Math.floor(e)}),Number.isInteger||(Number.isInteger=function(e){return ds(e)&&isFinite(e)&&Math.floor(e)===e});var DE="0123456789abcdef",pD=function(){function e(t){if(Gt(this,e),this.bytes=t,t.length!==16)throw new TypeError("not 128-bit length")}return qt(e,[{key:"toString",value:function(){for(var t="",n=0;n<this.bytes.length;n++)t=t+DE.charAt(this.bytes[n]>>>4)+DE.charAt(15&this.bytes[n]),n!==3&&n!==5&&n!==7&&n!==9||(t+="-");if(t.length!==36)throw new Error("Invalid UUIDv7 was generated");return t}},{key:"clone",value:function(){return new e(this.bytes.slice(0))}},{key:"equals",value:function(t){return this.compareTo(t)===0}},{key:"compareTo",value:function(t){for(var n=0;n<16;n++){var r=this.bytes[n]-t.bytes[n];if(r!==0)return Math.sign(r)}return 0}}],[{key:"fromFieldsV7",value:function(t,n,r,i){if(!Number.isInteger(t)||!Number.isInteger(n)||!Number.isInteger(r)||!Number.isInteger(i)||t<0||n<0||r<0||i<0||t>0xffffffffffff||n>4095||r>1073741823||i>4294967295)throw new RangeError("invalid field value");var s=new Uint8Array(16);return s[0]=t/Math.pow(2,40),s[1]=t/Math.pow(2,32),s[2]=t/Math.pow(2,24),s[3]=t/Math.pow(2,16),s[4]=t/Math.pow(2,8),s[5]=t,s[6]=112|n>>>8,s[7]=n,s[8]=128|r>>>24,s[9]=r>>>16,s[10]=r>>>8,s[11]=r,s[12]=i>>>24,s[13]=i>>>16,s[14]=i>>>8,s[15]=i,new e(s)}}]),e}(),gD=function(){function e(){Gt(this,e),re(this,"timestamp",0),re(this,"counter",0),re(this,"random",new mD)}return qt(e,[{key:"generate",value:function(){var t=this.generateOrAbort();if(We(t)){this.timestamp=0;var n=this.generateOrAbort();if(We(n))throw new Error("Could not generate UUID after timestamp reset");return n}return t}},{key:"generateOrAbort",value:function(){var t=Date.now();if(t>this.timestamp)this.timestamp=t,this.resetCounter();else{if(!(t+1e4>this.timestamp))return;this.counter++,this.counter>4398046511103&&(this.timestamp++,this.resetCounter())}return pD.fromFieldsV7(this.timestamp,Math.trunc(this.counter/Math.pow(2,30)),this.counter&Math.pow(2,30)-1,this.random.nextUint32())}},{key:"resetCounter",value:function(){this.counter=1024*this.random.nextUint32()+(1023&this.random.nextUint32())}}]),e}(),QR=function(e){if(typeof UUIDV7_DENY_WEAK_RNG<"u"&&UUIDV7_DENY_WEAK_RNG)throw new Error("no cryptographically strong RNG available");for(var t=0;t<e.length;t++)e[t]=65536*Math.trunc(65536*Math.random())+Math.trunc(65536*Math.random());return e};X&&!We(X.crypto)&&crypto.getRandomValues&&(QR=function(e){return crypto.getRandomValues(e)});var $E,mD=function(){function e(){Gt(this,e),re(this,"buffer",new Uint32Array(8)),re(this,"cursor",1/0)}return qt(e,[{key:"nextUint32",value:function(){return this.cursor>=this.buffer.length&&(QR(this.buffer),this.cursor=0),this.buffer[this.cursor++]}}]),e}(),Xo=function(){return vD().toString()},vD=function(){return($E||($E=new gD)).generate()},yD="Thu, 01 Jan 1970 00:00:00 GMT",zu="",AD=/[a-z0-9][a-z0-9-]+\.[a-z]{2,}$/i;function _D(e,t){if(t){var n=function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:we;if(zu)return zu;if(!s||["localhost","127.0.0.1"].includes(i))return"";for(var o=i.split("."),a=Math.min(o.length,8),l="dmn_chk_"+Xo(),c=new RegExp("(^|;)\\s*"+l+"=1");!zu&&a--;){var u=o.slice(a).join("."),d=l+"=1;domain=."+u;s.cookie=d,c.test(s.cookie)&&(s.cookie=d+";expires="+yD,zu=u)}return zu}(e);if(!n){var r=function(i){var s=i.match(AD);return s?s[0]:""}(e);r!==n&&ge.info("Warning: cookie subdomain discovery mismatch",r,n),n=r}return n?"; domain=."+n:""}return""}var rr,Ks={is_supported:function(){return!!we},error:function(e){ge.error("cookieStore error: "+e)},get:function(e){if(we){try{for(var t=e+"=",n=we.cookie.split(";").filter(function(s){return s.length}),r=0;r<n.length;r++){for(var i=n[r];i.charAt(0)==" ";)i=i.substring(1,i.length);if(i.indexOf(t)===0)return decodeURIComponent(i.substring(t.length,i.length))}}catch{}return null}},parse:function(e){var t;try{t=JSON.parse(Ks.get(e))||{}}catch{}return t},set:function(e,t,n,r,i){if(we)try{var s="",o="",a=_D(we.location.hostname,r);if(n){var l=new Date;l.setTime(l.getTime()+24*n*60*60*1e3),s="; expires="+l.toUTCString()}i&&(o="; secure");var c=e+"="+encodeURIComponent(JSON.stringify(t))+s+"; SameSite=Lax; path=/"+a+o;return c.length>3686.4&&ge.warn("cookieStore warning: large cookie, len="+c.length),we.cookie=c,c}catch{return}},remove:function(e,t){try{Ks.set(e,"",-1,t)}catch{return}}},Vv=null,Pn={is_supported:function(){if(!As(Vv))return Vv;var e=!0;if(We(X))e=!1;else try{var t="__mplssupport__";Pn.set(t,"xyz"),Pn.get(t)!=='"xyz"'&&(e=!1),Pn.remove(t)}catch{e=!1}return e||ge.error("localStorage unsupported; falling back to cookie store"),Vv=e,e},error:function(e){ge.error("localStorage error: "+e)},get:function(e){try{return X==null?void 0:X.localStorage.getItem(e)}catch(t){Pn.error(t)}return null},parse:function(e){try{return JSON.parse(Pn.get(e))||{}}catch{}return null},set:function(e,t){try{X==null||X.localStorage.setItem(e,JSON.stringify(t))}catch(n){Pn.error(n)}},remove:function(e){try{X==null||X.localStorage.removeItem(e)}catch(t){Pn.error(t)}}},bD=["distinct_id",yg,Td,_g],pd=Ce(Ce({},Pn),{},{parse:function(e){try{var t={};try{t=Ks.parse(e)||{}}catch{}var n=Kn(t,JSON.parse(Pn.get(e)||"{}"));return Pn.set(e,n),n}catch{}return null},set:function(e,t,n,r,i){try{Pn.set(e,t);var s={};bD.forEach(function(o){t[o]&&(s[o]=t[o])}),Object.keys(s).length&&Ks.set(e,s,n,r,i)}catch(o){Pn.error(o)}},remove:function(e,t){try{X==null||X.localStorage.removeItem(e),Ks.remove(e,t)}catch(n){Pn.error(n)}}}),Lh={},SD={is_supported:function(){return!0},error:function(e){ge.error("memoryStorage error: "+e)},get:function(e){return Lh[e]||null},parse:function(e){return Lh[e]||null},set:function(e,t){Lh[e]=t},remove:function(e){delete Lh[e]}},Oa=null,or={is_supported:function(){if(!As(Oa))return Oa;if(Oa=!0,We(X))Oa=!1;else try{var e="__support__";or.set(e,"xyz"),or.get(e)!=='"xyz"'&&(Oa=!1),or.remove(e)}catch{Oa=!1}return Oa},error:function(e){ge.error("sessionStorage error: ",e)},get:function(e){try{return X==null?void 0:X.sessionStorage.getItem(e)}catch(t){or.error(t)}return null},parse:function(e){try{return JSON.parse(or.get(e))||null}catch{}return null},set:function(e,t){try{X==null||X.sessionStorage.setItem(e,JSON.stringify(t))}catch(n){or.error(n)}},remove:function(e){try{X==null||X.sessionStorage.removeItem(e)}catch(t){or.error(t)}}},xD=["localhost","127.0.0.1"],JR=function(e){var t=we==null?void 0:we.createElement("a");return We(t)?null:(t.href=e,t)},wD=function(e,t){return!!function(n){try{new RegExp(n)}catch{return!1}return!0}(t)&&new RegExp(t).test(e)},ED=function(e){var t,n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"&",i=[];return Dt(e,function(s,o){We(s)||We(o)||o==="undefined"||(t=encodeURIComponent(function(a){return a instanceof File}(s)?s.name:s.toString()),n=encodeURIComponent(o),i[i.length]=n+"="+t)}),i.join(r)},FE=function(e,t){for(var n,r=((e.split("#")[0]||"").split("?")[1]||"").split("&"),i=0;i<r.length;i++){var s=r[i].split("=");if(s[0]===t){n=s;break}}if(!Bn(n)||n.length<2)return"";var o=n[1];try{o=decodeURIComponent(o)}catch{ge.error("Skipping decoding for malformed query param: "+o)}return o.replace(/\+/g," ")},bg=function(e,t){var n=e.match(new RegExp(t+"=([^&]*)"));return n?n[1]:null},zi="Mobile",Sg="iOS",Gs="Android",rf="Tablet",XR=Gs+" "+rf,ZR="iPad",eM="Apple",tM=eM+" Watch",Lm="Safari",Gc="BlackBerry",nM="Samsung",rM=nM+"Browser",iM=nM+" Internet",hl="Chrome",kD=hl+" OS",sM=hl+" "+Sg,Cb="Internet Explorer",oM=Cb+" "+zi,Tb="Opera",CD=Tb+" Mini",Ib="Edge",aM="Microsoft "+Ib,Ec="Firefox",lM=Ec+" "+Sg,sf="Nintendo",of="PlayStation",kc="Xbox",cM=Gs+" "+zi,uM=zi+" "+Lm,gd="Windows",VA=gd+" Phone",zE="Nokia",LA="Ouya",dM="Generic",TD=dM+" "+zi.toLowerCase(),fM=dM+" "+rf.toLowerCase(),NA="Konqueror",Tr="(\\d+(\\.\\d+)?)",Lv=new RegExp("Version/"+Tr),ID=new RegExp(kc,"i"),PD=new RegExp(of+" \\w+","i"),RD=new RegExp(sf+" \\w+","i"),Pb=new RegExp(Gc+"|PlayBook|BB10","i"),MD={"NT3.51":"NT 3.11","NT4.0":"NT 4.0","5.0":"2000",5.1:"XP",5.2:"XP","6.0":"Vista",6.1:"7",6.2:"8",6.3:"8.1",6.4:"10","10.0":"10"},jD=function(e,t){return t&&ft(t,eM)||function(n){return ft(n,Lm)&&!ft(n,hl)&&!ft(n,Gs)}(e)},UE=function(e,t){return t=t||"",ft(e," OPR/")&&ft(e,"Mini")?CD:ft(e," OPR/")?Tb:Pb.test(e)?Gc:ft(e,"IE"+zi)||ft(e,"WPDesktop")?oM:ft(e,rM)?iM:ft(e,Ib)||ft(e,"Edg/")?aM:ft(e,"FBIOS")?"Facebook "+zi:ft(e,hl)?hl:ft(e,"CriOS")?sM:ft(e,"UCWEB")||ft(e,"UCBrowser")?"UC Browser":ft(e,"FxiOS")?lM:ft(e,Gs)?cM:ft(e.toLowerCase(),NA.toLowerCase())?NA:jD(e,t)?ft(e,zi)?uM:Lm:ft(e,Ec)?Ec:ft(e,"MSIE")||ft(e,"Trident/")?Cb:ft(e,"Gecko")?Ec:""},OD=(re(rr={},oM,[new RegExp("rv:"+Tr)]),re(rr,aM,[new RegExp(Ib+"?\\/"+Tr)]),re(rr,hl,[new RegExp(hl+"/"+Tr)]),re(rr,sM,[new RegExp("CriOS\\/"+Tr)]),re(rr,"UC Browser",[new RegExp("(UCBrowser|UCWEB)\\/"+Tr)]),re(rr,Lm,[Lv]),re(rr,uM,[Lv]),re(rr,Tb,[new RegExp("(Opera|OPR)\\/"+Tr)]),re(rr,Ec,[new RegExp(Ec+"\\/"+Tr)]),re(rr,lM,[new RegExp("FxiOS\\/"+Tr)]),re(rr,NA,[new RegExp("Konqueror[:/]?"+Tr,"i")]),re(rr,Gc,[new RegExp(Gc+" "+Tr),Lv]),re(rr,cM,[new RegExp("android\\s"+Tr)]),re(rr,iM,[new RegExp(rM+"\\/"+Tr)]),re(rr,Cb,[new RegExp("(rv:|MSIE )"+Tr)]),re(rr,"Mozilla",[new RegExp("rv:"+Tr)]),rr),HE=[[new RegExp(kc+"; "+kc+" (.*?)[);]","i"),function(e){return[kc,e&&e[1]||""]}],[new RegExp(sf,"i"),[sf,""]],[new RegExp(of,"i"),[of,""]],[Pb,[Gc,""]],[new RegExp(gd,"i"),function(e,t){if(/Phone/.test(t)||/WPDesktop/.test(t))return[VA,""];if(new RegExp(zi).test(t)&&!/IEMobile\b/.test(t))return[gd+" "+zi,""];var n=/Windows NT ([0-9.]+)/i.exec(t);if(n&&n[1]){var r=n[1],i=MD[r]||"";return/arm/i.test(t)&&(i="RT"),[gd,i]}return[gd,""]}],[/((iPhone|iPad|iPod).*?OS (\d+)_(\d+)_?(\d+)?|iPhone)/,function(e){if(e&&e[3]){var t=[e[3],e[4],e[5]||"0"];return[Sg,t.join(".")]}return[Sg,""]}],[/(watch.*\/(\d+\.\d+\.\d+)|watch os,(\d+\.\d+),)/i,function(e){var t="";return e&&e.length>=3&&(t=We(e[2])?e[3]:e[2]),["watchOS",t]}],[new RegExp("("+Gs+" (\\d+)\\.(\\d+)\\.?(\\d+)?|"+Gs+")","i"),function(e){if(e&&e[2]){var t=[e[2],e[3],e[4]||"0"];return[Gs,t.join(".")]}return[Gs,""]}],[/Mac OS X (\d+)[_.](\d+)[_.]?(\d+)?/i,function(e){var t=["Mac OS X",""];if(e&&e[1]){var n=[e[1],e[2],e[3]||"0"];t[1]=n.join(".")}return t}],[/Mac/i,["Mac OS X",""]],[/CrOS/,[kD,""]],[/Linux|debian/i,["Linux",""]]],GE=function(e){return RD.test(e)?sf:PD.test(e)?of:ID.test(e)?kc:new RegExp(LA,"i").test(e)?LA:new RegExp("("+VA+"|WPDesktop)","i").test(e)?VA:/iPad/.test(e)?ZR:/iPod/.test(e)?"iPod Touch":/iPhone/.test(e)?"iPhone":/(watch)(?: ?os[,/]|\d,\d\/)[\d.]+/i.test(e)?tM:Pb.test(e)?Gc:/(kobo)\s(ereader|touch)/i.test(e)?"Kobo":new RegExp(zE,"i").test(e)?zE:/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i.test(e)||/(kf[a-z]+)( bui|\)).+silk\//i.test(e)?"Kindle Fire":/(Android|ZTE)/i.test(e)?!new RegExp(zi).test(e)||/(9138B|TB782B|Nexus [97]|pixel c|HUAWEISHT|BTV|noble nook|smart ultra 6)/i.test(e)?/pixel[\daxl ]{1,6}/i.test(e)&&!/pixel c/i.test(e)||/(huaweimed-al00|tah-|APA|SM-G92|i980|zte|U304AA)/i.test(e)||/lmy47v/i.test(e)&&!/QTAQZ3/i.test(e)?Gs:XR:Gs:new RegExp("(pda|"+zi+")","i").test(e)?TD:new RegExp(rf,"i").test(e)&&!new RegExp(rf+" pc","i").test(e)?fM:""},Nh="https?://(.*)",VD=["utm_source","utm_medium","utm_campaign","utm_content","utm_term","gclid","gad_source","gclsrc","dclid","gbraid","wbraid","fbclid","msclkid","twclid","li_fat_id","mc_cid","igshid","ttclid"],Yn={campaignParams:function(e){var t=VD.concat(e||[]),n={};return Dt(t,function(r){var i=we?FE(we.URL,r):"";i.length&&(n[r]=i)}),n},searchEngine:function(){var e=we==null?void 0:we.referrer;return e?e.search(Nh+"google.([^/?]*)")===0?"google":e.search(Nh+"bing.com")===0?"bing":e.search(Nh+"yahoo.com")===0?"yahoo":e.search(Nh+"duckduckgo.com")===0?"duckduckgo":null:null},searchInfo:function(){var e=Yn.searchEngine(),t=e!="yahoo"?"q":"p",n={};if(!As(e)){n.$search_engine=e;var r=we?FE(we.referrer,t):"";r.length&&(n.ph_keyword=r)}return n},browser:UE,browserVersion:function(e,t){var n=UE(e,t),r=OD[n];if(We(r))return null;for(var i=0;i<r.length;i++){var s=r[i],o=e.match(s);if(o)return parseFloat(o[o.length-2])}return null},browserLanguage:function(){return navigator.language||navigator.userLanguage},os:function(e){for(var t=0;t<HE.length;t++){var n=Mr(HE[t],2),r=n[0],i=n[1],s=r.exec(e),o=s&&(ys(i)?i(s,e):i);if(o)return o}return["",""]},device:GE,deviceType:function(e){var t=GE(e);return t===ZR||t===XR||t==="Kobo"||t==="Kindle Fire"||t===fM?rf:t===sf||t===kc||t===of||t===LA?"Console":t===tM?"Wearable":t?zi:"Desktop"},referrer:function(){return(we==null?void 0:we.referrer)||"$direct"},referringDomain:function(){var e;return we!=null&&we.referrer&&((e=JR(we.referrer))===null||e===void 0?void 0:e.host)||"$direct"},referrerInfo:function(){return{$referrer:this.referrer(),$referring_domain:this.referringDomain()}},properties:function(){if(!bn)return{};var e=Mr(Yn.os(bn),2),t=e[0],n=e[1];return Kn(kA({$os:t,$os_version:n,$browser:Yn.browser(bn,navigator.vendor),$device:Yn.device(bn),$device_type:Yn.deviceType(bn)}),{$current_url:Oi==null?void 0:Oi.href,$host:Oi==null?void 0:Oi.host,$pathname:Oi==null?void 0:Oi.pathname,$raw_user_agent:bn.length>1e3?bn.substring(0,997)+"...":bn,$browser_version:Yn.browserVersion(bn,navigator.vendor),$browser_language:Yn.browserLanguage(),$screen_height:X==null?void 0:X.screen.height,$screen_width:X==null?void 0:X.screen.width,$viewport_height:X==null?void 0:X.innerHeight,$viewport_width:X==null?void 0:X.innerWidth,$lib:"web",$lib_version:Ya.LIB_VERSION,$insert_id:Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10),$time:KR()/1e3})},people_properties:function(){if(!bn)return{};var e=Mr(Yn.os(bn),2),t=e[0],n=e[1];return Kn(kA({$os:t,$os_version:n,$browser:Yn.browser(bn,navigator.vendor)}),{$browser_version:Yn.browserVersion(bn,navigator.vendor)})}},LD=["cookie","localstorage","localstorage+cookie","sessionstorage","memory"],Nv=function(){function e(t){Gt(this,e),this.config=t,this.props={},this.campaign_params_saved=!1,this.name=function(n){var r="";return n.token&&(r=n.token.replace(/\+/g,"PL").replace(/\//g,"SL").replace(/=/g,"EQ")),n.persistence_name?"ph_"+n.persistence_name:"ph_"+r+"_posthog"}(t),this.storage=this.buildStorage(t),this.load(),this.update_config(t,t),this.save()}return qt(e,[{key:"buildStorage",value:function(t){LD.indexOf(t.persistence.toLowerCase())===-1&&(ge.critical("Unknown persistence type "+t.persistence+"; falling back to localStorage+cookie"),t.persistence="localStorage+cookie");var n=t.persistence.toLowerCase();return n==="localstorage"&&Pn.is_supported()?Pn:n==="localstorage+cookie"&&pd.is_supported()?pd:n==="sessionstorage"&&or.is_supported()?or:n==="memory"?SD:n==="cookie"?Ks:pd.is_supported()?pd:Ks}},{key:"properties",value:function(){var t={};return Dt(this.props,function(n,r){if(r===sc&&Hs(n))for(var i=Object.keys(n),s=0;s<i.length;s++)t["$feature/".concat(i[s])]=n[i[s]];else a=r,l=!1,(As(o=fD)?l:CE&&o.indexOf===CE?o.indexOf(a)!=-1:(Dt(o,function(c){if(l||(l=c===a))return vg}),l))||(t[r]=n);var o,a,l}),t}},{key:"load",value:function(){if(!this.disabled){var t=this.storage.parse(this.name);t&&(this.props=Kn({},t))}}},{key:"save",value:function(){this.disabled||this.storage.set(this.name,this.props,this.expire_days,this.cross_subdomain,this.secure)}},{key:"remove",value:function(){this.storage.remove(this.name,!1),this.storage.remove(this.name,!0)}},{key:"clear",value:function(){this.remove(),this.props={}}},{key:"register_once",value:function(t,n,r){var i=this;if(Hs(t)){We(n)&&(n="None"),this.expire_days=We(r)?this.default_expiry:r;var s=!1;if(Dt(t,function(o,a){i.props.hasOwnProperty(a)&&i.props[a]!==n||(i.props[a]=o,s=!0)}),s)return this.save(),!0}return!1}},{key:"register",value:function(t,n){var r=this;if(Hs(t)){this.expire_days=We(n)?this.default_expiry:n;var i=!1;if(Dt(t,function(s,o){t.hasOwnProperty(o)&&r.props[o]!==s&&(r.props[o]=s,i=!0)}),i)return this.save(),!0}return!1}},{key:"unregister",value:function(t){t in this.props&&(delete this.props[t],this.save())}},{key:"update_campaign_params",value:function(){this.campaign_params_saved||(this.register(Yn.campaignParams(this.config.custom_campaign_params)),this.campaign_params_saved=!0)}},{key:"set_initial_campaign_params",value:function(){this.register_once(re({},jA,Yn.campaignParams(this.config.custom_campaign_params)),void 0)}},{key:"update_search_keyword",value:function(){this.register(Yn.searchInfo())}},{key:"update_referrer_info",value:function(){this.register(Yn.referrerInfo())}},{key:"set_initial_referrer_info",value:function(){this.register_once(re({},OA,Yn.referrerInfo()),void 0)}},{key:"get_referrer_info",value:function(){return kA({$referrer:this.props.$referrer,$referring_domain:this.props.$referring_domain})}},{key:"get_initial_props",value:function(){var t=this,n={};return Dt([OA,jA],function(r){var i=t.props[r];i&&Dt(i,function(s,o){var a;n["$initial_"+(a=o,a.replace(/^\$/,""))]=s})}),n}},{key:"safe_merge",value:function(t){return Dt(this.props,function(n,r){r in t||(t[r]=n)}),t}},{key:"update_config",value:function(t,n){if(this.default_expiry=this.expire_days=t.cookie_expiration,this.set_disabled(t.disable_persistence),this.set_cross_subdomain(t.cross_subdomain_cookie),this.set_secure(t.secure_cookie),t.persistence!==n.persistence){var r=this.buildStorage(t),i=this.props;this.clear(),this.storage=r,this.props=i,this.save()}}},{key:"set_disabled",value:function(t){this.disabled=t,this.disabled?this.remove():this.save()}},{key:"set_cross_subdomain",value:function(t){t!==this.cross_subdomain&&(this.cross_subdomain=t,this.remove(),this.save())}},{key:"get_cross_subdomain",value:function(){return!!this.cross_subdomain}},{key:"set_secure",value:function(t){t!==this.secure&&(this.secure=t,this.remove(),this.save())}},{key:"set_event_timer",value:function(t,n){var r=this.props[hd]||{};r[t]=n,this.props[hd]=r,this.save()}},{key:"remove_event_timer",value:function(t){var n=(this.props[hd]||{})[t];return We(n)||(delete this.props[hd][t],this.save()),n}},{key:"get_property",value:function(t){return this.props[t]}},{key:"set_property",value:function(t,n){this.props[t]=n,this.save()}}]),e}(),ND=2,BD=4,DD=qt(function e(t){var n,r,i=this,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Gt(this,e),re(this,"bucketSize",100),re(this,"refillRate",10),re(this,"mutationBuckets",{}),re(this,"loggedTracker",{}),re(this,"refillBuckets",function(){Object.keys(i.mutationBuckets).forEach(function(o){i.mutationBuckets[o]=i.mutationBuckets[o]+i.refillRate,i.mutationBuckets[o]>=i.bucketSize&&delete i.mutationBuckets[o]})}),re(this,"getNodeOrRelevantParent",function(o){var a=i.rrweb.mirror.getNode(o);if((a==null?void 0:a.nodeName)!=="svg"&&a instanceof Element){var l=a.closest("svg");if(l)return[i.rrweb.mirror.getId(l),l]}return[o,a]}),re(this,"numberOfChanges",function(o){var a,l,c,u,d,h,p,g;return((a=(l=o.removes)===null||l===void 0?void 0:l.length)!==null&&a!==void 0?a:0)+((c=(u=o.attributes)===null||u===void 0?void 0:u.length)!==null&&c!==void 0?c:0)+((d=(h=o.texts)===null||h===void 0?void 0:h.length)!==null&&d!==void 0?d:0)+((p=(g=o.adds)===null||g===void 0?void 0:g.length)!==null&&p!==void 0?p:0)}),re(this,"throttleMutations",function(o){if(o.type!==3||o.data.source!==0)return o;var a=o.data,l=i.numberOfChanges(a);a.attributes&&(a.attributes=a.attributes.filter(function(u){var d,h,p,g=Mr(i.getNodeOrRelevantParent(u.id),2),m=g[0],_=g[1];return i.mutationBuckets[m]===0?!1:(i.mutationBuckets[m]=(d=i.mutationBuckets[m])!==null&&d!==void 0?d:i.bucketSize,i.mutationBuckets[m]=Math.max(i.mutationBuckets[m]-1,0),i.mutationBuckets[m]===0&&(i.loggedTracker[m]||(i.loggedTracker[m]=!0,(h=(p=i.options).onBlockedNode)===null||h===void 0||h.call(p,m,_))),u)}));var c=i.numberOfChanges(a);return c!==0||l===c?o:void 0}),this.rrweb=t,this.options=s,this.refillRate=(n=this.options.refillRate)!==null&&n!==void 0?n:this.refillRate,this.bucketSize=(r=this.options.bucketSize)!==null&&r!==void 0?r:this.bucketSize,setInterval(function(){i.refillBuckets()},1e3)}),Bp=function(e){return e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e}(Bp||{});function Rb(e){return e?Vm(e).split(/\s+/):[]}function xg(e){var t="";switch(ef(e.className)){case"string":t=e.className;break;case"object":t=("baseVal"in e.className?e.className.baseVal:null)||e.getAttribute("class")||"";break;default:t=""}return Rb(t)}function hM(e){return ia(e)?null:Vm(e).split(/(\s+)/).filter(function(t){return Cc(t)}).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255)}function wg(e){var t="";return DA(e)&&!vM(e)&&e.childNodes&&e.childNodes.length&&Dt(e.childNodes,function(n){var r;pM(n)&&n.textContent&&(t+=(r=hM(n.textContent))!==null&&r!==void 0?r:"")}),Vm(t)}function Mb(e){return!!e&&e.nodeType===1}function sa(e,t){return!!e&&!!e.tagName&&e.tagName.toLowerCase()===t.toLowerCase()}function pM(e){return!!e&&e.nodeType===3}function gM(e){return!!e&&e.nodeType===11}var BA=["a","button","form","input","select","textarea","label"];function mM(e){var t=e.parentNode;return!(!t||!Mb(t))&&t}function $D(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;if(!X||!e||sa(e,"html")||!Mb(e))return!1;if(n!=null&&n.url_allowlist){var s=X.location.href,o=n.url_allowlist;if(o&&!o.some(function(m){return s.match(m)}))return!1}if(n!=null&&n.dom_event_allowlist){var a=n.dom_event_allowlist;if(a&&!a.some(function(m){return t.type===m}))return!1}for(var l=!1,c=[e],u=!0,d=e;d.parentNode&&!sa(d,"body");)if(gM(d.parentNode))c.push(d.parentNode.host),d=d.parentNode.host;else{if(!(u=mM(d)))break;if(r||BA.indexOf(u.tagName.toLowerCase())>-1)l=!0;else{var h=X.getComputedStyle(u);h&&h.getPropertyValue("cursor")==="pointer"&&(l=!0)}c.push(u),d=u}if(!function(m,_){var v=_==null?void 0:_.element_allowlist;if(We(v))return!0;var A,S=ws(m);try{var x=function(){var w=A.value;if(v.some(function(E){return w.tagName.toLowerCase()===E}))return{v:!0}};for(S.s();!(A=S.n()).done;){var b=x();if(ef(b)==="object")return b.v}}catch(w){S.e(w)}finally{S.f()}return!1}(c,n)||!function(m,_){var v=_==null?void 0:_.css_selector_allowlist;if(We(v))return!0;var A,S=ws(m);try{var x=function(){var w=A.value;if(v.some(function(E){return w.matches(E)}))return{v:!0}};for(S.s();!(A=S.n()).done;){var b=x();if(ef(b)==="object")return b.v}}catch(w){S.e(w)}finally{S.f()}return!1}(c,n))return!1;var p=X.getComputedStyle(e);if(p&&p.getPropertyValue("cursor")==="pointer"&&t.type==="click")return!0;var g=e.tagName.toLowerCase();switch(g){case"html":return!1;case"form":return(i||["submit"]).indexOf(t.type)>=0;case"input":case"select":case"textarea":return(i||["change","click"]).indexOf(t.type)>=0;default:return l?(i||["click"]).indexOf(t.type)>=0:(i||["click"]).indexOf(t.type)>=0&&(BA.indexOf(g)>-1||e.getAttribute("contenteditable")==="true")}}function DA(e){for(var t=e;t.parentNode&&!sa(t,"body");t=t.parentNode){var n=xg(t);if(ft(n,"ph-sensitive")||ft(n,"ph-no-capture"))return!1}if(ft(xg(e),"ph-include"))return!0;var r=e.type||"";if(br(r))switch(r.toLowerCase()){case"hidden":case"password":return!1}var i=e.name||e.id||"";return!(br(i)&&/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|pwd|routing|seccode|securitycode|securitynum|socialsec|socsec|ssn/i.test(i.replace(/[^a-zA-Z0-9]/g,"")))}function vM(e){return!!(sa(e,"input")&&!["button","checkbox","submit","reset"].includes(e.type)||sa(e,"select")||sa(e,"textarea")||e.getAttribute("contenteditable")==="true")}var yM="(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11})",FD=new RegExp("^(?:".concat(yM,")$")),zD=new RegExp(yM),AM="\\d{3}-?\\d{2}-?\\d{4}",UD=new RegExp("^(".concat(AM,")$")),HD=new RegExp("(".concat(AM,")"));function Cc(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return!(ia(e)||br(e)&&(e=Vm(e),(t?FD:zD).test((e||"").replace(/[- ]/g,""))||(t?UD:HD).test(e)))}function qE(e){var t=wg(e);return Cc(t="".concat(t," ").concat(_M(e)).trim())?t:""}function _M(e){var t="";return e&&e.childNodes&&e.childNodes.length&&Dt(e.childNodes,function(n){var r;if(n&&((r=n.tagName)===null||r===void 0?void 0:r.toLowerCase())==="span")try{var i=wg(n);t="".concat(t," ").concat(i).trim(),n.childNodes&&n.childNodes.length&&(t="".concat(t," ").concat(_M(n)).trim())}catch(s){ge.error(s)}}),t}function GD(e){return function(t){var n=t.map(function(r){var i,s,o="";if(r.tag_name&&(o+=r.tag_name),r.attr_class){r.attr_class.sort();var a,l=ws(r.attr_class);try{for(l.s();!(a=l.n()).done;){var c=a.value;o+=".".concat(c.replace(/"/g,""))}}catch(h){l.e(h)}finally{l.f()}}var u=Ce(Ce(Ce(Ce({},r.text?{text:r.text}:{}),{},{"nth-child":(i=r.nth_child)!==null&&i!==void 0?i:0,"nth-of-type":(s=r.nth_of_type)!==null&&s!==void 0?s:0},r.href?{href:r.href}:{}),r.attr_id?{attr_id:r.attr_id}:{}),r.attributes),d={};return Np(u).sort(function(h,p){var g=Mr(h,1)[0],m=Mr(p,1)[0];return g.localeCompare(m)}).forEach(function(h){var p=Mr(h,2),g=p[0],m=p[1];return d[WE(g.toString())]=WE(m.toString())}),o+=":",o+=Np(u).map(function(h){var p=Mr(h,2),g=p[0],m=p[1];return"".concat(g,'="').concat(m,'"')}).join("")});return n.join(";")}(function(t){return t.map(function(n){var r,i,s={text:(r=n.$el_text)===null||r===void 0?void 0:r.slice(0,400),tag_name:n.tag_name,href:(i=n.attr__href)===null||i===void 0?void 0:i.slice(0,2048),attr_class:qD(n),attr_id:n.attr__id,nth_child:n.nth_child,nth_of_type:n.nth_of_type,attributes:{}};return Np(n).filter(function(o){return Mr(o,1)[0].indexOf("attr__")===0}).forEach(function(o){var a=Mr(o,2),l=a[0],c=a[1];return s.attributes[l]=c}),s})}(e))}function WE(e){return e.replace(/"|\\"/g,'\\"')}function qD(e){var t=e.attr__class;return t?Bn(t)?t:Rb(t):void 0}var $A="[SessionRecording]",Bv={initiatorTypes:["audio","beacon","body","css","early-hint","embed","fetch","frame","iframe","icon","image","img","input","link","navigation","object","ping","script","track","video","xmlhttprequest"],maskRequestFn:function(e){return e},recordHeaders:!1,recordBody:!1,recordInitialRequests:!1,recordPerformance:!1,performanceEntryTypeToObserve:["first-input","navigation","paint","resource"],payloadSizeLimitBytes:1e6},WD=["authorization","x-forwarded-for","authorization","cookie","set-cookie","x-api-key","x-real-ip","remote-addr","forwarded","proxy-authorization","x-csrf-token","x-csrftoken","x-xsrf-token"],KD=["password","secret","passwd","api_key","apikey","auth","credentials","mysql_pwd","privatekey","private_key","token"],YD=["/s/","/e/","/i/"];function KE(e,t,n,r){if(ia(e))return e;var i=(t==null?void 0:t["content-length"])||function(s){return new Blob([s]).size}(e);return br(i)&&(i=parseInt(i)),i>n?$A+" ".concat(r," body too large to record (").concat(i," bytes)"):e}function YE(e,t){if(ia(e))return e;var n=e;return Cc(n,!1)||(n=$A+" "+t+" body redacted"),Dt(KD,function(r){var i,s;(i=n)!==null&&i!==void 0&&i.length&&((s=n)===null||s===void 0?void 0:s.indexOf(r))!==-1&&(n=$A+" "+t+" body redacted as might contain: "+r)}),n}var QD=function(e,t){var n,r,i,s={payloadSizeLimitBytes:Bv.payloadSizeLimitBytes,performanceEntryTypeToObserve:Hc(Bv.performanceEntryTypeToObserve)},o=e.session_recording.recordHeaders!==!1&&t.recordHeaders,a=e.session_recording.recordBody!==!1&&t.recordBody,l=e.capture_performance!==!1&&t.recordPerformance,c=(n=s,i=Math.min(1e6,(r=n.payloadSizeLimitBytes)!==null&&r!==void 0?r:1e6),function(h){return h!=null&&h.requestBody&&(h.requestBody=KE(h.requestBody,h.requestHeaders,i,"Request")),h!=null&&h.responseBody&&(h.responseBody=KE(h.responseBody,h.responseHeaders,i,"Response")),h}),u=function(h){return c(function(m){var _=JR(m.name);if(!(_&&_.pathname&&YD.some(function(v){return _.pathname.indexOf(v)===0})))return m}((p=h,Dt(Object.keys((g=p.requestHeaders)!==null&&g!==void 0?g:{}),function(m){var _;WD.includes(m.toLowerCase())&&((_=p.requestHeaders)===null||_===void 0||delete _[m])}),p)));var p,g},d=ys(e.session_recording.maskNetworkRequestFn);return d&&ys(e.session_recording.maskCapturedNetworkRequestFn)&&ge.warn("Both `maskNetworkRequestFn` and `maskCapturedNetworkRequestFn` are defined. `maskNetworkRequestFn` will be ignored."),d&&(e.session_recording.maskCapturedNetworkRequestFn=function(h){var p=e.session_recording.maskNetworkRequestFn({url:h.name});return Ce(Ce({},h),{},{name:p==null?void 0:p.url})}),s.maskRequestFn=ys(e.session_recording.maskCapturedNetworkRequestFn)?function(h){var p,g,m,_=u(h);return _&&(p=(g=(m=e.session_recording).maskCapturedNetworkRequestFn)===null||g===void 0?void 0:g.call(m,_))!==null&&p!==void 0?p:void 0}:function(h){return function(p){if(!We(p))return p.requestBody=YE(p.requestBody,"Request"),p.responseBody=YE(p.responseBody,"Response"),p}(u(h))},Ce(Ce(Ce({},Bv),s),{},{recordHeaders:o,recordBody:a,recordPerformance:l,recordInitialRequests:l})},JD="__ph_opt_in_out_";function XD(e,t){xM(!0,e,t)}function ZD(e,t){xM(!1,e,t)}function e$(e,t){return SM(e,t)==="1"}function bM(e,t){return!!function(n){if(n&&n.respectDnt){var r=n&&n.window||X,i=r==null?void 0:r.navigator,s=!1;return Dt([i==null?void 0:i.doNotTrack,i.msDoNotTrack,r.doNotTrack],function(o){ft([!0,1,"1","yes"],o)&&(s=!0)}),s}return!1}(t)||SM(e,t)==="0"}function t$(e,t){jb(t=t||{}).remove(Ob(e,t),!!t.crossSubdomainCookie)}function jb(e){return(e=e||{}).persistenceType==="localStorage"?Pn:e.persistenceType==="localStorage+cookie"?pd:Ks}function Ob(e,t){return((t=t||{}).persistencePrefix||JD)+e}function SM(e,t){return jb(t).get(Ob(e,t))}function xM(e,t,n){br(t)&&t.length?(jb(n=n||{}).set(Ob(t,n),e?1:0,ds(n.cookieExpiration)?n.cookieExpiration:null,n.crossSubdomainCookie,n.secureCookie),n.capture&&e&&n.capture(n.captureEventName||"$opt_in",n.captureProperties||{},{send_instantly:!0})):ge.error("gdpr."+(e?"optIn":"optOut")+" called with an invalid token")}function wM(e){var t=!1;try{var n=e.config.token,r=e.config.respect_dnt,i=e.config.opt_out_capturing_persistence_type,s=e.config.opt_out_capturing_cookie_prefix||void 0,o=e.config.window;n&&(t=bM(n,{respectDnt:r,persistenceType:i,persistencePrefix:s,window:o}))}catch(a){ge.error("Unexpected error when checking capturing opt-out status: "+a)}return t}var Vs,EM=3e5,QE=EM;(function(e){e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet"})(Vs||(Vs={}));var n$=[Vs.MouseMove,Vs.MouseInteraction,Vs.Scroll,Vs.ViewportResize,Vs.Input,Vs.TouchMove,Vs.MediaInteraction,Vs.Drag],JE=function(e){return{rrwebMethod:e,enqueuedAt:Date.now(),attempt:1}},ri="[SessionRecording]",r$=function(){function e(t){var n=this;if(Gt(this,e),re(this,"queuedRRWebEvents",[]),re(this,"isIdle",!1),re(this,"_linkedFlagSeen",!1),re(this,"_lastActivityTimestamp",Date.now()),re(this,"windowId",null),re(this,"sessionId",null),re(this,"_linkedFlag",null),re(this,"_forceAllowLocalhostNetworkCapture",!1),re(this,"_samplingSessionListener",null),this.instance=t,this._captureStarted=!1,this._endpoint="/s/",this.stopRrweb=void 0,this.receivedDecide=!1,X==null||X.addEventListener("beforeunload",function(){n._flushBuffer()}),X==null||X.addEventListener("offline",function(){n._tryAddCustomEvent("browser offline",{})}),X==null||X.addEventListener("online",function(){n._tryAddCustomEvent("browser online",{})}),X==null||X.addEventListener("visibilitychange",function(){if(we!=null&&we.visibilityState){var r="window "+we.visibilityState;n._tryAddCustomEvent(r,{})}}),!this.instance.sessionManager)throw ge.error(ri+" started without valid sessionManager"),new Error(ri+" started without valid sessionManager. This is a bug.");this.buffer=this.clearBuffer(),this._setupSampling()}return qt(e,[{key:"rrwebRecord",get:function(){var t;return oi==null||(t=oi.rrweb)===null||t===void 0?void 0:t.record}},{key:"started",get:function(){return this._captureStarted}},{key:"sessionManager",get:function(){if(!this.instance.sessionManager)throw ge.error(ri+" started without valid sessionManager"),new Error(ri+" started without valid sessionManager. This is a bug.");return this.instance.sessionManager}},{key:"isSampled",get:function(){var t=this.instance.get_property(Td);return Lp(t)?t:null}},{key:"sessionDuration",get:function(){var t,n,r=(t=this.buffer)===null||t===void 0?void 0:t.data[((n=this.buffer)===null||n===void 0?void 0:n.data.length)-1],i=this.sessionManager.checkAndGetSessionAndWindowId(!0).sessionStartTimestamp;return r?r.timestamp-i:null}},{key:"isRecordingEnabled",get:function(){var t=!!this.instance.get_property(TA),n=!this.instance.config.disable_session_recording;return X&&t&&n}},{key:"isConsoleLogCaptureEnabled",get:function(){var t=!!this.instance.get_property(ME),n=this.instance.config.enable_recording_console_log;return n??t}},{key:"canvasRecording",get:function(){var t=this.instance.get_property(OE);return t&&t.fps&&t.quality?{enabled:t.enabled,fps:t.fps,quality:t.quality}:void 0}},{key:"networkPayloadCapture",get:function(){var t,n,r=this.instance.get_property(jE),i={recordHeaders:(t=this.instance.config.session_recording)===null||t===void 0?void 0:t.recordHeaders,recordBody:(n=this.instance.config.session_recording)===null||n===void 0?void 0:n.recordBody},s=(i==null?void 0:i.recordHeaders)||(r==null?void 0:r.recordHeaders),o=(i==null?void 0:i.recordBody)||(r==null?void 0:r.recordBody),a=this.instance.config.capture_performance||(r==null?void 0:r.capturePerformance);return s||o||a?{recordHeaders:s,recordBody:o,recordPerformance:a}:void 0}},{key:"sampleRate",get:function(){var t=this.instance.get_property(VE);return ds(t)?t:null}},{key:"minimumDuration",get:function(){var t=this.instance.get_property(LE);return ds(t)?t:null}},{key:"status",get:function(){return this.receivedDecide?this.isRecordingEnabled?ia(this._linkedFlag)||this._linkedFlagSeen?Lp(this.isSampled)?this.isSampled?"sampled":"disabled":"active":"buffering":"disabled":"buffering"}},{key:"startIfEnabledOrStop",value:function(){this.isRecordingEnabled?(this._startCapture(),ge.info(ri+" started")):(this.stopRecording(),this.clearBuffer())}},{key:"stopRecording",value:function(){this._captureStarted&&this.stopRrweb&&(this.stopRrweb(),this.stopRrweb=void 0,this._captureStarted=!1,ge.info(ri+" stopped"))}},{key:"makeSamplingDecision",value:function(t){var n,r=this.sessionId!==t,i=this.sampleRate;if(ds(i)){var s,o=this.isSampled,a=r||!Lp(o);a?s=Math.random()<i:s=o,!s&&a&&ge.warn(ri+" Sample rate (".concat(i,") has determined that this sessionId (").concat(t,") will not be sent to the server.")),this._tryAddCustomEvent("samplingDecisionMade",{sampleRate:i}),(n=this.instance.persistence)===null||n===void 0||n.register(re({},Td,s))}else{var l;(l=this.instance.persistence)===null||l===void 0||l.register(re({},Td,null))}}},{key:"afterDecideResponse",value:function(t){var n,r,i,s=this;if(this._persistDecideResponse(t),this._linkedFlag=((n=t.sessionRecording)===null||n===void 0?void 0:n.linkedFlag)||null,(r=t.sessionRecording)!==null&&r!==void 0&&r.endpoint&&(this._endpoint=(i=t.sessionRecording)===null||i===void 0?void 0:i.endpoint),this._setupSampling(),!ia(this._linkedFlag)){var o=br(this._linkedFlag)?this._linkedFlag:this._linkedFlag.flag,a=br(this._linkedFlag)?null:this._linkedFlag.variant;this.instance.onFeatureFlags(function(l,c){var u=Hs(c)&&o in c,d=a?c[o]===a:u;if(d){var h={linkedFlag:o,linkedVariant:a},p="linked flag matched";ge.info(ri+" "+p,h),s._tryAddCustomEvent(p,h)}s._linkedFlagSeen=d})}this.receivedDecide=!0,this.startIfEnabledOrStop()}},{key:"_setupSampling",value:function(){var t=this;ds(this.sampleRate)&&As(this._samplingSessionListener)&&(this._samplingSessionListener=this.sessionManager.onSessionId(function(n){t.makeSamplingDecision(n)}))}},{key:"_persistDecideResponse",value:function(t){if(this.instance.persistence){var n=this.instance.persistence,r=function(){var i,s,o,a,l,c,u,d,h=(i=t.sessionRecording)===null||i===void 0?void 0:i.sampleRate,p=ia(h)?null:parseFloat(h),g=(s=t.sessionRecording)===null||s===void 0?void 0:s.minimumDurationMilliseconds;n.register((re(d={},TA,!!t.sessionRecording),re(d,ME,(o=t.sessionRecording)===null||o===void 0?void 0:o.consoleLogRecordingEnabled),re(d,jE,Ce({capturePerformance:t.capturePerformance},(a=t.sessionRecording)===null||a===void 0?void 0:a.networkPayloadCapture)),re(d,OE,{enabled:(l=t.sessionRecording)===null||l===void 0?void 0:l.recordCanvas,fps:(c=t.sessionRecording)===null||c===void 0?void 0:c.canvasFps,quality:(u=t.sessionRecording)===null||u===void 0?void 0:u.canvasQuality}),re(d,VE,p),re(d,LE,We(g)?null:g),d))};r(),this.sessionManager.onSessionId(r)}}},{key:"log",value:function(t){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"log";(n=this.instance.sessionRecording)===null||n===void 0||n.onRRwebEmit({type:6,data:{plugin:"rrweb/console@1",payload:{level:r,trace:[],payload:[JSON.stringify(t)]}},timestamp:KR()})}},{key:"_startCapture",value:function(){var t=this;We(Object.assign)||this._captureStarted||this.instance.config.disable_session_recording||wM(this.instance)||(this._captureStarted=!0,this.sessionManager.checkAndGetSessionAndWindowId(),this.rrwebRecord?this._onScriptLoaded():nf(this.instance.requestRouter.endpointFor("assets","/static/recorder.js?v=".concat(Ya.LIB_VERSION)),function(n){if(n)return ge.error(ri+" could not load recorder.js",n);t._onScriptLoaded()}))}},{key:"isInteractiveEvent",value:function(t){var n;return t.type===3&&n$.indexOf((n=t.data)===null||n===void 0?void 0:n.source)!==-1}},{key:"_updateWindowAndSessionIds",value:function(t){var n=this.isInteractiveEvent(t);n||this.isIdle||t.timestamp-this._lastActivityTimestamp>QE&&(this.isIdle=!0,this._tryAddCustomEvent("sessionIdle",{reason:"user inactivity",timeSinceLastActive:t.timestamp-this._lastActivityTimestamp,threshold:QE}));var r=!1;if(n&&(this._lastActivityTimestamp=t.timestamp,this.isIdle&&(this.isIdle=!1,this._tryAddCustomEvent("sessionNoLongerIdle",{reason:"user activity",type:t.type}),r=!0)),!this.isIdle){var i=this.sessionManager.checkAndGetSessionAndWindowId(!n,t.timestamp),s=i.windowId,o=i.sessionId,a=this.sessionId!==o,l=this.windowId!==s;this.windowId=s,this.sessionId=o,(r||[ND,BD].indexOf(t.type)===-1&&(l||a))&&this._tryTakeFullSnapshot()}}},{key:"_tryRRWebMethod",value:function(t){try{return t.rrwebMethod(),!0}catch(n){return this.queuedRRWebEvents.length<10?this.queuedRRWebEvents.push({enqueuedAt:t.enqueuedAt||Date.now(),attempt:t.attempt++,rrwebMethod:t.rrwebMethod}):ge.warn(ri+" could not emit queued rrweb event.",n,t),!1}}},{key:"_tryAddCustomEvent",value:function(t,n){var r=this;return this._tryRRWebMethod(JE(function(){return r.rrwebRecord.addCustomEvent(t,n)}))}},{key:"_tryTakeFullSnapshot",value:function(){var t=this;return this._tryRRWebMethod(JE(function(){return t.rrwebRecord.takeFullSnapshot()}))}},{key:"_onScriptLoaded",value:function(){for(var t,n=this,r={blockClass:"ph-no-capture",blockSelector:void 0,ignoreClass:"ph-ignore-input",maskTextClass:"ph-mask",maskTextSelector:void 0,maskTextFn:void 0,maskAllInputs:!0,maskInputOptions:{},maskInputFn:void 0,slimDOMOptions:{},collectFonts:!1,inlineStylesheet:!0,recordCrossOriginIframes:!1},i=this.instance.config.session_recording,s=0,o=Object.entries(i||{});s<o.length;s++){var a=Mr(o[s],2),l=a[0],c=a[1];l in r&&(r[l]=c)}if(this.canvasRecording&&this.canvasRecording.enabled&&(r.recordCanvas=!0,r.sampling={canvas:this.canvasRecording.fps},r.dataURLOptions={type:"image/webp",quality:this.canvasRecording.quality}),this.rrwebRecord){this.mutationRateLimiter=(t=this.mutationRateLimiter)!==null&&t!==void 0?t:new DD(this.rrwebRecord,{onBlockedNode:function(d,h){var p="Too many mutations on node '".concat(d,"'. Rate limiting. This could be due to SVG animations or something similar");ge.info(p,{node:h}),n.log(ri+" "+p,"warn")}}),this._scheduleFullSnapshot();var u=this._gatherRRWebPlugins();this.stopRrweb=this.rrwebRecord(Ce({emit:function(d){n.onRRwebEmit(d)},plugins:u},r)),this.instance._addCaptureHook(function(d){try{if(d==="$pageview"){var h=X?n._maskUrl(X.location.href):"";if(!h)return;n._tryAddCustomEvent("$pageview",{href:h}),n._tryTakeFullSnapshot()}}catch(p){ge.error("Could not add $pageview to rrweb session",p)}}),this._lastActivityTimestamp=Date.now(),this.isIdle=!1,this._tryAddCustomEvent("$session_options",{sessionRecordingOptions:r,activePlugins:u.map(function(d){return d==null?void 0:d.name})}),this._tryAddCustomEvent("$posthog_config",{config:this.instance.config})}else ge.error(ri+"onScriptLoaded was called but rrwebRecord is not available. This indicates something has gone wrong.")}},{key:"_scheduleFullSnapshot",value:function(){var t=this;this._fullSnapshotTimer&&clearInterval(this._fullSnapshotTimer),this._fullSnapshotTimer=setInterval(function(){t._tryTakeFullSnapshot()},EM)}},{key:"_gatherRRWebPlugins",value:function(){var t=[];return oi.rrwebConsoleRecord&&this.isConsoleLogCaptureEnabled&&t.push(oi.rrwebConsoleRecord.getRecordConsolePlugin()),this.networkPayloadCapture&&ys(oi.getRecordNetworkPlugin)&&(!xD.includes(location.hostname)||this._forceAllowLocalhostNetworkCapture?t.push(oi.getRecordNetworkPlugin(QD(this.instance.config,this.networkPayloadCapture))):ge.info(ri+" NetworkCapture not started because we are on localhost.")),t}},{key:"onRRwebEmit",value:function(t){if(this._processQueuedEvents(),t&&Hs(t)){if(t.type===Bp.Meta){var n=this._maskUrl(t.data.href);if(this._lastHref=n,!n)return;t.data.href=n}else this._pageViewFallBack();t.type===Bp.FullSnapshot&&this._scheduleFullSnapshot();var r=this.mutationRateLimiter?this.mutationRateLimiter.throttleMutations(t):t;if(r){var i=function(a){var l=a;if(l&&Hs(l)&&l.type===6&&Hs(l.data)&&l.data.plugin==="rrweb/console@1"){l.data.payload.payload.length>10&&(l.data.payload.payload=l.data.payload.payload.slice(0,10),l.data.payload.payload.push("...[truncated]"));for(var c=[],u=0;u<l.data.payload.payload.length;u++)l.data.payload.payload[u]&&l.data.payload.payload[u].length>2e3?c.push(l.data.payload.payload[u].slice(0,2e3)+"...[truncated]"):c.push(l.data.payload.payload[u]);return l.data.payload.payload=c,a}return a}(r),s=JSON.stringify(i).length;if(this._updateWindowAndSessionIds(i),!this.isIdle||i.type===Bp.Custom){var o={$snapshot_bytes:s,$snapshot_data:i,$session_id:this.sessionId,$window_id:this.windowId};this.status!=="disabled"?this._captureSnapshotBuffered(o):this.clearBuffer()}}}}},{key:"_pageViewFallBack",value:function(){if(!this.instance.config.capture_pageview&&X){var t=this._maskUrl(X.location.href);this._lastHref!==t&&(this._tryAddCustomEvent("$url_changed",{href:t}),this._lastHref=t)}}},{key:"_processQueuedEvents",value:function(){var t=this;if(this.queuedRRWebEvents.length){var n=Hc(this.queuedRRWebEvents);this.queuedRRWebEvents=[],n.forEach(function(r){Date.now()-r.enqueuedAt>2e3?t._tryAddCustomEvent("rrwebQueueTimeout",{enqueuedAt:r.enqueuedAt,attempt:r.attempt,queueLength:n.length}):t._tryRRWebMethod(r)&&t._tryAddCustomEvent("rrwebQueueSuccess",{enqueuedAt:r.enqueuedAt,attempt:r.attempt,queueLength:n.length})})}}},{key:"_maskUrl",value:function(t){var n=this.instance.config.session_recording;if(n.maskNetworkRequestFn){var r,i={url:t};return(r=i=n.maskNetworkRequestFn(i))===null||r===void 0?void 0:r.url}return t}},{key:"clearBuffer",value:function(){return this.buffer=void 0,{size:0,data:[],sessionId:this.sessionId,windowId:this.windowId}}},{key:"_flushBuffer",value:function(){var t=this;this.flushBufferTimer&&(clearTimeout(this.flushBufferTimer),this.flushBufferTimer=void 0);var n=this.minimumDuration,r=this.sessionDuration,i=ds(r)&&r>=0,s=ds(n)&&i&&r<n;return this.status==="buffering"||s?(this.flushBufferTimer=setTimeout(function(){t._flushBuffer()},2e3),this.buffer||this.clearBuffer()):this.buffer&&this.buffer.data.length!==0?(this._captureSnapshot({$snapshot_bytes:this.buffer.size,$snapshot_data:this.buffer.data,$session_id:this.buffer.sessionId,$window_id:this.buffer.windowId}),this.clearBuffer()):this.buffer||this.clearBuffer()}},{key:"_captureSnapshotBuffered",value:function(t){var n,r=this,i=2+(((n=this.buffer)===null||n===void 0?void 0:n.data.length)||0);(!this.buffer||this.buffer.size+t.$snapshot_bytes+i>943718.4||this.buffer.sessionId&&this.buffer.sessionId!==this.sessionId)&&(this.buffer=this._flushBuffer()),As(this.buffer.sessionId)&&!As(this.sessionId)&&(this.buffer.sessionId=this.sessionId,this.buffer.windowId=this.windowId),this.buffer.size+=t.$snapshot_bytes,this.buffer.data.push(t.$snapshot_data),this.flushBufferTimer||(this.flushBufferTimer=setTimeout(function(){r._flushBuffer()},2e3))}},{key:"_captureSnapshot",value:function(t){this.instance.capture("$snapshot",t,{_url:this.instance.requestRouter.endpointFor("api",this._endpoint),_noTruncate:!0,_batchKey:"recordings",_noHeatmaps:!0})}}]),e}(),i$=function(){function e(t){Gt(this,e),this.instance=t,this.instance.decideEndpointWasHit=this.instance._hasBootstrappedFeatureFlags()}return qt(e,[{key:"call",value:function(){var t=this,n={token:this.instance.config.token,distinct_id:this.instance.get_distinct_id(),groups:this.instance.getGroups(),person_properties:this.instance.get_property(oc),group_properties:this.instance.get_property(Uo),disable_flags:this.instance.config.advanced_disable_feature_flags||this.instance.config.advanced_disable_feature_flags_on_first_load||void 0};this.instance._send_request({method:"POST",url:this.instance.requestRouter.endpointFor("api","/decide/?v=3"),data:n,compression:this.instance.config.disable_compression?void 0:hs.Base64,timeout:this.instance.config.feature_flag_request_timeout_ms,callback:function(r){return t.parseDecideResponse(r.json)}})}},{key:"parseDecideResponse",value:function(t){var n=this;this.instance.featureFlags.setReloadingPaused(!1),this.instance.featureFlags._startReloadTimer();var r=!t;if(this.instance.config.advanced_disable_feature_flags_on_first_load||this.instance.config.advanced_disable_feature_flags||this.instance.featureFlags.receivedFeatureFlags(t??{},r),r)ge.error("Failed to fetch feature flags from PostHog.");else{if(!we||!we.body)return ge.info("document not ready yet, trying again in 500 milliseconds..."),void setTimeout(function(){n.parseDecideResponse(t)},500);this.instance._afterDecideResponse(t);var i=X==null?void 0:X.extendPostHogWithExceptionAutoCapture;if(t.autocaptureExceptions&&t.autocaptureExceptions&&We(i)&&nf(this.instance.requestRouter.endpointFor("assets","/static/exception-autocapture.js"),function(l){if(l)return ge.error("Could not load exception autocapture script",l);X.extendPostHogWithExceptionAutocapture(n.instance,t)}),t.siteApps)if(this.instance.config.opt_in_site_apps){var s,o=ws(t.siteApps);try{var a=function(){var l=s.value,c=l.id,u=l.url,d=n.instance.requestRouter.endpointFor("api",u);oi["__$$ph_site_app_".concat(c)]=n.instance,nf(d,function(h){h&&ge.error("Error while initializing PostHog app with config id ".concat(c),h)})};for(o.s();!(s=o.n()).done;)a()}catch(l){o.e(l)}finally{o.f()}}else t.siteApps.length>0&&ge.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.')}}}]),e}(),s$=X!=null&&X.location?bg(X.location.hash,"__posthog")||bg(location.hash,"state"):null,Dv="_postHogToolbarParams",o$=function(){function e(t){Gt(this,e),re(this,"_toolbarScriptLoaded",!1),this.instance=t}return qt(e,[{key:"maybeLoadToolbar",value:function(){var t,n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;if(!X||!we)return!1;r=(t=r)!==null&&t!==void 0?t:X.location,s=(n=s)!==null&&n!==void 0?n:X.history;try{if(!i){try{X.localStorage.setItem("test","test"),X.localStorage.removeItem("test")}catch{return!1}i=X==null?void 0:X.localStorage}var o,a=s$||bg(r.hash,"__posthog")||bg(r.hash,"state"),l=a?PE(function(){return JSON.parse(atob(decodeURIComponent(a)))})||PE(function(){return JSON.parse(decodeURIComponent(a))}):null;return l&&l.action==="ph_authorize"?((o=l).source="url",o&&Object.keys(o).length>0&&(l.desiredHash?r.hash=l.desiredHash:s?s.replaceState("",we.title,r.pathname+r.search):r.hash="")):((o=JSON.parse(i.getItem(Dv)||"{}")).source="localstorage",delete o.userIntent),!(!o.token||this.instance.config.token!==o.token)&&(this.loadToolbar(o),!0)}catch{return!1}}},{key:"_callLoadToolbar",value:function(t){(oi.ph_load_toolbar||oi.ph_load_editor)(t,this.instance)}},{key:"loadToolbar",value:function(t){var n=this;if(!X||X.localStorage.getItem(Dv)&&this._toolbarScriptLoaded)return!1;var r=this.instance.requestRouter.region==="custom"&&this.instance.config.advanced_disable_toolbar_metrics,i=Ce(Ce({token:this.instance.config.token},t),{},{apiURL:this.instance.requestRouter.endpointFor("ui")},r?{instrument:!1}:{});if(X.localStorage.setItem(Dv,JSON.stringify(Ce(Ce({},i),{},{source:void 0}))),this._toolbarScriptLoaded)this._callLoadToolbar(i);else{this._toolbarScriptLoaded=!0;var s=3e5,o=Math.floor(Date.now()/s)*s;nf(this.instance.requestRouter.endpointFor("assets","/static/toolbar.js?t=".concat(o)),function(a){if(a)return ge.error("Failed to load toolbar",a),void(n._toolbarScriptLoaded=!1);n._callLoadToolbar(i)}),po(X,"turbolinks:load",function(){n._toolbarScriptLoaded=!1,n.loadToolbar(i)})}return!0}},{key:"_loadEditor",value:function(t){return this.loadToolbar(t)}},{key:"maybeLoadEditor",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;return this.maybeLoadToolbar(t,n,r)}}]),e}(),a$=function(){function e(t){Gt(this,e),re(this,"isPaused",!0),re(this,"queue",[]),re(this,"flushTimeoutMs",3e3),this.sendRequest=t}return qt(e,[{key:"enqueue",value:function(t){this.queue.push(t),this.flushTimeout||this.setFlushTimeout()}},{key:"unload",value:function(){var t=this;this.clearFlushTimeout();var n=this.queue.length>0?this.formatQueue():{},r=Object.values(n);[].concat(Hc(r.filter(function(i){return i.url.indexOf("/e")===0})),Hc(r.filter(function(i){return i.url.indexOf("/e")!==0}))).map(function(i){t.sendRequest(Ce(Ce({},i),{},{transport:"sendBeacon"}))})}},{key:"enable",value:function(){this.isPaused=!1,this.setFlushTimeout()}},{key:"setFlushTimeout",value:function(){var t=this;this.isPaused||(this.flushTimeout=setTimeout(function(){if(t.clearFlushTimeout(),t.queue.length>0){var n=t.formatQueue(),r=function(s){var o=n[s],a=new Date().getTime();o.data&&Bn(o.data)&&Dt(o.data,function(l){l.offset=Math.abs(l.timestamp-a),delete l.timestamp}),t.sendRequest(o)};for(var i in n)r(i)}},this.flushTimeoutMs))}},{key:"clearFlushTimeout",value:function(){clearTimeout(this.flushTimeout),this.flushTimeout=void 0}},{key:"formatQueue",value:function(){var t={};return Dt(this.queue,function(n){var r,i=n,s=(i?i.batchKey:null)||i.url;We(t[s])&&(t[s]=Ce(Ce({},i),{},{data:[]})),(r=t[s].data)===null||r===void 0||r.push(i.data)}),this.queue=[],t}}]),e}(),fi=Uint8Array,Vr=Uint16Array,qc=Uint32Array,Vb=new fi([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Lb=new fi([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),XE=new fi([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),kM=function(e,t){for(var n=new Vr(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];var i=new qc(n[30]);for(r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return[n,i]},CM=kM(Vb,2),l$=CM[0],FA=CM[1];l$[28]=258,FA[258]=28;for(var ZE=kM(Lb,0)[1],zA=new Vr(32768),Ut=0;Ut<32768;++Ut){var Va=(43690&Ut)>>>1|(21845&Ut)<<1;Va=(61680&(Va=(52428&Va)>>>2|(13107&Va)<<2))>>>4|(3855&Va)<<4,zA[Ut]=((65280&Va)>>>8|(255&Va)<<8)>>>1}var Id=function(e,t,n){for(var r=e.length,i=0,s=new Vr(t);i<r;++i)++s[e[i]-1];var o,a=new Vr(t);for(i=0;i<t;++i)a[i]=a[i-1]+s[i-1]<<1;if(n){o=new Vr(1<<t);var l=15-t;for(i=0;i<r;++i)if(e[i])for(var c=i<<4|e[i],u=t-e[i],d=a[e[i]-1]++<<u,h=d|(1<<u)-1;d<=h;++d)o[zA[d]>>>l]=c}else for(o=new Vr(r),i=0;i<r;++i)o[i]=zA[a[e[i]-1]++]>>>15-e[i];return o},pl=new fi(288);for(Ut=0;Ut<144;++Ut)pl[Ut]=8;for(Ut=144;Ut<256;++Ut)pl[Ut]=9;for(Ut=256;Ut<280;++Ut)pl[Ut]=7;for(Ut=280;Ut<288;++Ut)pl[Ut]=8;var Eg=new fi(32);for(Ut=0;Ut<32;++Ut)Eg[Ut]=5;var c$=Id(pl,9,0),u$=Id(Eg,5,0),TM=function(e){return(e/8>>0)+(7&e&&1)},IM=function(e,t,n){(t==null||t<0)&&(t=0),(n==null||n>e.length)&&(n=e.length);var r=new(e instanceof Vr?Vr:e instanceof qc?qc:fi)(n-t);return r.set(e.subarray(t,n)),r},so=function(e,t,n){n<<=7&t;var r=t/8>>0;e[r]|=n,e[r+1]|=n>>>8},Uu=function(e,t,n){n<<=7&t;var r=t/8>>0;e[r]|=n,e[r+1]|=n>>>8,e[r+2]|=n>>>16},$v=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var i=n.length,s=n.slice();if(!i)return[new fi(0),0];if(i==1){var o=new fi(n[0].s+1);return o[n[0].s]=1,[o,1]}n.sort(function(b,w){return b.f-w.f}),n.push({s:-1,f:25001});var a=n[0],l=n[1],c=0,u=1,d=2;for(n[0]={s:-1,f:a.f+l.f,l:a,r:l};u!=i-1;)a=n[n[c].f<n[d].f?c++:d++],l=n[c!=u&&n[c].f<n[d].f?c++:d++],n[u++]={s:-1,f:a.f+l.f,l:a,r:l};var h=s[0].s;for(r=1;r<i;++r)s[r].s>h&&(h=s[r].s);var p=new Vr(h+1),g=d$(n[u-1],p,0);if(g>t){r=0;var m=0,_=g-t,v=1<<_;for(s.sort(function(b,w){return p[w.s]-p[b.s]||b.f-w.f});r<i;++r){var A=s[r].s;if(!(p[A]>t))break;m+=v-(1<<g-p[A]),p[A]=t}for(m>>>=_;m>0;){var S=s[r].s;p[S]<t?m-=1<<t-p[S]++-1:++r}for(;r>=0&&m;--r){var x=s[r].s;p[x]==t&&(--p[x],++m)}g=t}return[new fi(p),g]},d$=function e(t,n,r){return t.s==-1?Math.max(e(t.l,n,r+1),e(t.r,n,r+1)):n[t.s]=r},e2=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new Vr(++t),r=0,i=e[0],s=1,o=function(l){n[r++]=l},a=1;a<=t;++a)if(e[a]==i&&a!=t)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=e[a]}return[n.subarray(0,r),t]},Hu=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},Dp=function(e,t,n){var r=n.length,i=TM(t+2);e[i]=255&r,e[i+1]=r>>>8,e[i+2]=255^e[i],e[i+3]=255^e[i+1];for(var s=0;s<r;++s)e[i+s+4]=n[s];return 8*(i+4+r)},t2=function(e,t,n,r,i,s,o,a,l,c,u){so(t,u++,n),++i[256];for(var d=$v(i,15),h=d[0],p=d[1],g=$v(s,15),m=g[0],_=g[1],v=e2(h),A=v[0],S=v[1],x=e2(m),b=x[0],w=x[1],E=new Vr(19),T=0;T<A.length;++T)E[31&A[T]]++;for(T=0;T<b.length;++T)E[31&b[T]]++;for(var j=$v(E,7),B=j[0],D=j[1],q=19;q>4&&!B[XE[q-1]];--q);var M,V,P,I,$=c+5<<3,O=Hu(i,pl)+Hu(s,Eg)+o,z=Hu(i,h)+Hu(s,m)+o+14+3*q+Hu(E,B)+(2*E[16]+3*E[17]+7*E[18]);if($<=O&&$<=z)return Dp(t,u,e.subarray(l,l+c));if(so(t,u,1+(z<O)),u+=2,z<O){M=Id(h,p,0),V=h,P=Id(m,_,0),I=m;var N=Id(B,D,0);for(so(t,u,S-257),so(t,u+5,w-1),so(t,u+10,q-4),u+=14,T=0;T<q;++T)so(t,u+3*T,B[XE[T]]);u+=3*q;for(var G=[A,b],U=0;U<2;++U){var ne=G[U];for(T=0;T<ne.length;++T){var L=31&ne[T];so(t,u,N[L]),u+=B[L],L>15&&(so(t,u,ne[T]>>>5&127),u+=ne[T]>>>12)}}}else M=c$,V=pl,P=u$,I=Eg;for(T=0;T<a;++T)if(r[T]>255){L=r[T]>>>18&31,Uu(t,u,M[L+257]),u+=V[L+257],L>7&&(so(t,u,r[T]>>>23&31),u+=Vb[L]);var fe=31&r[T];Uu(t,u,P[fe]),u+=I[fe],fe>3&&(Uu(t,u,r[T]>>>5&8191),u+=Lb[fe])}else Uu(t,u,M[r[T]]),u+=V[r[T]];return Uu(t,u,M[256]),u+V[256]},f$=new qc([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),h$=new fi(0),p$=function(){for(var e=new qc(256),t=0;t<256;++t){for(var n=t,r=9;--r;)n=(1&n&&3988292384)^n>>>1;e[t]=n}return e}(),g$=function(e,t,n,r,i){return function(s,o,a,l,c,u){var d=s.length,h=new fi(l+d+5*(1+Math.floor(d/7e3))+c),p=h.subarray(l,h.length-c),g=0;if(!o||d<8)for(var m=0;m<=d;m+=65535){var _=m+65535;_<d?g=Dp(p,g,s.subarray(m,_)):(p[m]=u,g=Dp(p,g,s.subarray(m,d)))}else{for(var v=f$[o-1],A=v>>>13,S=8191&v,x=(1<<a)-1,b=new Vr(32768),w=new Vr(x+1),E=Math.ceil(a/3),T=2*E,j=function(Ye){return(s[Ye]^s[Ye+1]<<E^s[Ye+2]<<T)&x},B=new qc(25e3),D=new Vr(288),q=new Vr(32),M=0,V=0,P=(m=0,0),I=0,$=0;m<d;++m){var O=j(m),z=32767&m,N=w[O];if(b[z]=N,w[O]=z,I<=m){var G=d-m;if((M>7e3||P>24576)&&G>423){g=t2(s,p,0,B,D,q,V,P,$,m-$,g),P=M=V=0,$=m;for(var U=0;U<286;++U)D[U]=0;for(U=0;U<30;++U)q[U]=0}var ne=2,L=0,fe=S,Z=z-N&32767;if(G>2&&O==j(m-Z))for(var oe=Math.min(A,G)-1,je=Math.min(32767,m),Ae=Math.min(258,G);Z<=je&&--fe&&z!=N;){if(s[m+ne]==s[m+ne-Z]){for(var le=0;le<Ae&&s[m+le]==s[m+le-Z];++le);if(le>ne){if(ne=le,L=Z,le>oe)break;var be=Math.min(Z,le-2),He=0;for(U=0;U<be;++U){var ze=m-Z+U+32768&32767,Se=ze-b[ze]+32768&32767;Se>He&&(He=Se,N=ze)}}}Z+=(z=N)-(N=b[z])+32768&32767}if(L){B[P++]=268435456|FA[ne]<<18|ZE[L];var Ee=31&FA[ne],Ke=31&ZE[L];V+=Vb[Ee]+Lb[Ke],++D[257+Ee],++q[Ke],I=m+ne,++M}else B[P++]=s[m],++D[s[m]]}}g=t2(s,p,u,B,D,q,V,P,$,m-$,g),u||(g=Dp(p,g,h$))}return IM(h,0,l+TM(g)+c)}(e,t.level==null?6:t.level,t.mem==null?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):12+t.mem,n,r,!i)},Fv=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8};function m$(e,t){t===void 0&&(t={});var n=function(){var a=4294967295;return{p:function(l){for(var c=a,u=0;u<l.length;++u)c=p$[255&c^l[u]]^c>>>8;a=c},d:function(){return 4294967295^a}}}(),r=e.length;n.p(e);var i,s=g$(e,t,10+((i=t).filename&&i.filename.length+1||0),8),o=s.length;return function(a,l){var c=l.filename;if(a[0]=31,a[1]=139,a[2]=8,a[8]=l.level<2?4:l.level==9?2:0,a[9]=3,l.mtime!=0&&Fv(a,4,Math.floor(new Date(l.mtime||Date.now())/1e3)),c){a[3]=8;for(var u=0;u<=c.length;++u)a[u+10]=c.charCodeAt(u)}}(s,t),Fv(s,o-8,n.d()),Fv(s,o-4,r),s}var v$=!!kb||!!Eb,n2="text/plain",kg=function(e,t){var n=Mr(e.split("?"),2),r=n[0],i=n[1],s=Ce({},t);i==null||i.split("&").forEach(function(a){var l=Mr(a.split("="),1)[0];delete s[l]});var o=ED(s);return o=o?(i?i+"&":"")+o:i,"".concat(r,"?").concat(o)},y$=function(e){return"data="+encodeURIComponent(typeof e=="string"?e:JSON.stringify(e))},Nb=function(e){var t=e.data,n=e.compression;if(t){if(n===hs.GZipJS){var r=m$(function(s,o){var a=s.length;if(!o&&typeof TextEncoder<"u")return new TextEncoder().encode(s);for(var l=new fi(s.length+(s.length>>>1)),c=0,u=function(g){l[c++]=g},d=0;d<a;++d){if(c+5>l.length){var h=new fi(c+8+(a-d<<1));h.set(l),l=h}var p=s.charCodeAt(d);p<128||o?u(p):p<2048?(u(192|p>>>6),u(128|63&p)):p>55295&&p<57344?(u(240|(p=65536+(1047552&p)|1023&s.charCodeAt(++d))>>>18),u(128|p>>>12&63),u(128|p>>>6&63),u(128|63&p)):(u(224|p>>>12),u(128|p>>>6&63),u(128|63&p))}return IM(l,0,c)}(JSON.stringify(t)),{mtime:0});return{contentType:n2,body:new Blob([r],{type:n2})}}if(n===hs.Base64){var i=function(s){var o,a,l,c,u,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",h=0,p=0,g="",m=[];if(!s)return s;s=dD(s);do o=(u=s.charCodeAt(h++)<<16|s.charCodeAt(h++)<<8|s.charCodeAt(h++))>>18&63,a=u>>12&63,l=u>>6&63,c=63&u,m[p++]=d.charAt(o)+d.charAt(a)+d.charAt(l)+d.charAt(c);while(h<s.length);switch(g=m.join(""),s.length%3){case 1:g=g.slice(0,-2)+"==";break;case 2:g=g.slice(0,-1)+"="}return g}(JSON.stringify(t));return{contentType:"application/x-www-form-urlencoded",body:y$(i)}}return{contentType:"application/json",body:JSON.stringify(t)}}},A$=function(e){var t,n=new kb;n.open(e.method||"GET",e.url,!0);var r=(t=Nb(e))!==null&&t!==void 0?t:{},i=r.contentType,s=r.body;Dt(e.headers,function(o,a){n.setRequestHeader(a,o)}),i&&n.setRequestHeader("Content-Type",i),e.timeout&&(n.timeout=e.timeout),n.withCredentials=!0,n.onreadystatechange=function(){if(n.readyState===4){var o,a={statusCode:n.status,text:n.responseText};if(n.status===200)try{a.json=JSON.parse(n.responseText)}catch{}(o=e.callback)===null||o===void 0||o.call(e,a)}},n.send(s)},_$=function(e){var t,n,r=(t=Nb(e))!==null&&t!==void 0?t:{},i=r.contentType,s=r.body,o=new Headers;Dt(o,function(u,d){o.append(d,u)}),i&&o.append("Content-Type",i);var a=e.url,l=null;if(TE){var c=new TE;l={signal:c.signal,timeout:setTimeout(function(){return c.abort()},e.timeout)}}Eb(a,{method:(e==null?void 0:e.method)||"GET",headers:o,keepalive:e.method==="POST",body:s,signal:(n=l)===null||n===void 0?void 0:n.signal}).then(function(u){return u.text().then(function(d){var h,p={statusCode:u.status,text:d};if(u.status===200)try{p.json=JSON.parse(d)}catch(g){ge.error(g)}(h=e.callback)===null||h===void 0||h.call(e,p)})}).catch(function(u){var d;ge.error(u),(d=e.callback)===null||d===void 0||d.call(e,{statusCode:0,text:u})}).finally(function(){return l?clearTimeout(l.timeout):null})},b$=function(e){var t=kg(e.url,{beacon:"1"});try{var n,r=(n=Nb(e))!==null&&n!==void 0?n:{},i=r.contentType,s=r.body,o=typeof s=="string"?new Blob([s],{type:i}):s;tf.sendBeacon(t,o)}catch{}},S$=function(e){var t;if(we){var n=we.createElement("script");n.type="text/javascript",n.async=!0,n.defer=!0,n.src=e.url;var r=we.getElementsByTagName("script")[0];(t=r.parentNode)===null||t===void 0||t.insertBefore(n,r)}},x$=["retriesPerformedSoFar"],Qa,w$=function(){function e(t){var n=this;Gt(this,e),re(this,"isPolling",!1),re(this,"pollIntervalMs",3e3),re(this,"queue",[]),this.instance=t,this.queue=[],this.areWeOnline=!0,!We(X)&&"onLine"in X.navigator&&(this.areWeOnline=X.navigator.onLine,X.addEventListener("online",function(){n.areWeOnline=!0,n.flush()}),X.addEventListener("offline",function(){n.areWeOnline=!1}))}return qt(e,[{key:"retriableRequest",value:function(t){var n=this,r=t.retriesPerformedSoFar,i=oD(t,x$);ds(r)&&r>0&&(i.url=kg(i.url,{retry_count:r})),this.instance._send_request(Ce(Ce({},i),{},{callback:function(s){var o;s.statusCode!==200&&(s.statusCode<400||s.statusCode>=500)&&(r??0)<10?n.enqueue(Ce({},i)):(o=i.callback)===null||o===void 0||o.call(i,s)}}))}},{key:"enqueue",value:function(t){var n=t.retriesPerformedSoFar||0;t.retriesPerformedSoFar=n+1;var r=function(o){var a=3e3*Math.pow(2,o),l=a/2,c=Math.min(18e5,a),u=(Math.random()-.5)*(c-l);return Math.ceil(c+u)}(n),i=Date.now()+r;this.queue.push({retryAt:i,requestOptions:t});var s="Enqueued failed request for retry in ".concat(r);navigator.onLine||(s+=" (Browser is offline)"),ge.warn(s),this.isPolling||(this.isPolling=!0,this.poll())}},{key:"poll",value:function(){var t=this;this.poller&&clearTimeout(this.poller),this.poller=setTimeout(function(){t.areWeOnline&&t.queue.length>0&&t.flush(),t.poll()},this.pollIntervalMs)}},{key:"flush",value:function(){var t=Date.now(),n=[],r=this.queue.filter(function(a){return a.retryAt<t||(n.push(a),!1)});if(this.queue=n,r.length>0){var i,s=ws(r);try{for(s.s();!(i=s.n()).done;){var o=i.value.requestOptions;this.retriableRequest(o)}}catch(a){s.e(a)}finally{s.f()}}}},{key:"unload",value:function(){this.poller&&(clearTimeout(this.poller),this.poller=void 0);var t,n=ws(this.queue);try{for(n.s();!(t=n.n()).done;){var r=t.value.requestOptions;try{this.instance._send_request(Ce(Ce({},r),{},{transport:"sendBeacon"}))}catch(i){ge.error(i)}}}catch(i){n.e(i)}finally{n.f()}this.queue=[]}}]),e}(),Bh=1800,E$=function(){function e(t,n,r,i){Gt(this,e),re(this,"_sessionIdChangedHandlers",[]),this.config=t,this.persistence=n,this._windowId=void 0,this._sessionId=void 0,this._sessionStartTimestamp=null,this._sessionActivityTimestamp=null,this._sessionIdGenerator=r||Xo,this._windowIdGenerator=i||Xo;var s=t.persistence_name||t.token,o=t.session_idle_timeout_seconds||Bh;if(ds(o)?o>Bh?ge.warn("session_idle_timeout_seconds cannot be  greater than 30 minutes. Using 30 minutes instead."):o<60&&ge.warn("session_idle_timeout_seconds cannot be less than 60 seconds. Using 60 seconds instead."):(ge.warn("session_idle_timeout_seconds must be a number. Defaulting to 30 minutes."),o=Bh),this._sessionTimeoutMs=1e3*Math.min(Math.max(o,60),Bh),this._window_id_storage_key="ph_"+s+"_window_id",this._primary_window_exists_storage_key="ph_"+s+"_primary_window_exists",this._canUseSessionStorage()){var a=or.parse(this._window_id_storage_key),l=or.parse(this._primary_window_exists_storage_key);a&&!l?this._windowId=a:or.remove(this._window_id_storage_key),or.set(this._primary_window_exists_storage_key,!0)}this._listenToReloadWindow()}return qt(e,[{key:"onSessionId",value:function(t){var n=this;return We(this._sessionIdChangedHandlers)&&(this._sessionIdChangedHandlers=[]),this._sessionIdChangedHandlers.push(t),this._sessionId&&t(this._sessionId,this._windowId),function(){n._sessionIdChangedHandlers=n._sessionIdChangedHandlers.filter(function(r){return r!==t})}}},{key:"_canUseSessionStorage",value:function(){return this.config.persistence!=="memory"&&!this.persistence.disabled&&or.is_supported()}},{key:"_setWindowId",value:function(t){t!==this._windowId&&(this._windowId=t,this._canUseSessionStorage()&&or.set(this._window_id_storage_key,t))}},{key:"_getWindowId",value:function(){return this._windowId?this._windowId:this._canUseSessionStorage()?or.parse(this._window_id_storage_key):null}},{key:"_setSessionId",value:function(t,n,r){t===this._sessionId&&n===this._sessionActivityTimestamp&&r===this._sessionStartTimestamp||(this._sessionStartTimestamp=r,this._sessionActivityTimestamp=n,this._sessionId=t,this.persistence.register(re({},yg,[n,t,r])))}},{key:"_getSessionId",value:function(){if(this._sessionId&&this._sessionActivityTimestamp&&this._sessionStartTimestamp)return[this._sessionActivityTimestamp,this._sessionId,this._sessionStartTimestamp];var t=this.persistence.props[yg];return Bn(t)&&t.length===2&&t.push(t[0]),t||[0,null,0]}},{key:"resetSessionId",value:function(){this._setSessionId(null,null,null)}},{key:"_listenToReloadWindow",value:function(){var t=this;X==null||X.addEventListener("beforeunload",function(){t._canUseSessionStorage()&&or.remove(t._primary_window_exists_storage_key)})}},{key:"checkAndGetSessionAndWindowId",value:function(){var t=arguments.length>0&&arguments[0]!==void 0&&arguments[0],n=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:null)||new Date().getTime(),r=Mr(this._getSessionId(),3),i=r[0],s=r[1],o=r[2],a=this._getWindowId(),l=o&&o>0&&Math.abs(n-o)>864e5,c=!1,u=!s,d=!t&&Math.abs(n-i)>this._sessionTimeoutMs;u||d||l?(s=this._sessionIdGenerator(),a=this._windowIdGenerator(),ge.info("[SessionId] new session ID generated",{sessionId:s,windowId:a,changeReason:{noSessionId:u,activityTimeout:d,sessionPastMaximumLength:l}}),o=n,c=!0):a||(a=this._windowIdGenerator(),c=!0);var h=i===0||!t||l?n:i,p=o===0?new Date().getTime():o;return this._setWindowId(a),this._setSessionId(s,h,p),c&&this._sessionIdChangedHandlers.forEach(function(g){return g(s,a)}),{sessionId:s,windowId:a,sessionStartTimestamp:p}}}]),e}();(function(e){e.US="us",e.EU="eu",e.CUSTOM="custom"})(Qa||(Qa={}));var r2="i.posthog.com",k$=function(){function e(t){Gt(this,e),re(this,"_regionCache",{}),this.instance=t}return qt(e,[{key:"apiHost",get:function(){return this.instance.config.api_host.trim().replace(/\/$/,"")}},{key:"uiHost",get:function(){var t;return(t=this.instance.config.ui_host)===null||t===void 0?void 0:t.replace(/\/$/,"")}},{key:"region",get:function(){return this._regionCache[this.apiHost]||(/https:\/\/(app|us|us-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this._regionCache[this.apiHost]=Qa.US:/https:\/\/(eu|eu-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this._regionCache[this.apiHost]=Qa.EU:this._regionCache[this.apiHost]=Qa.CUSTOM),this._regionCache[this.apiHost]}},{key:"endpointFor",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(n&&(n=n[0]==="/"?n:"/".concat(n)),t==="ui")return(this.uiHost||this.apiHost.replace(".".concat(r2),".posthog.com"))+n;if(this.region===Qa.CUSTOM)return this.apiHost+n;var r=r2+n;switch(t){case"assets":return"https://".concat(this.region,"-assets.").concat(r);case"api":return"https://".concat(this.region,".").concat(r)}}}]),e}(),C$=qt(function e(t,n,r,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:["error"];Gt(this,e),this.name="posthog-js",this.setupOnce=function(o){o(function(a){var l,c,u,d,h;if(!(s==="*"||s.includes(a.level))||!t.__loaded)return a;a.tags||(a.tags={});var p=t.requestRouter.endpointFor("ui","/project/".concat(t.config.token,"/person/").concat(t.get_distinct_id()));a.tags["PostHog Person URL"]=p,t.sessionRecordingStarted()&&(a.tags["PostHog Recording URL"]=t.get_session_replay_url({withTimestamp:!0}));var g=((l=a.exception)===null||l===void 0?void 0:l.values)||[],m={$exception_message:((c=g[0])===null||c===void 0?void 0:c.value)||a.message,$exception_type:(u=g[0])===null||u===void 0?void 0:u.type,$exception_personURL:p,$sentry_event_id:a.event_id,$sentry_exception:a.exception,$sentry_exception_message:((d=g[0])===null||d===void 0?void 0:d.value)||a.message,$sentry_exception_type:(h=g[0])===null||h===void 0?void 0:h.type,$sentry_tags:a.tags,$level:a.level};return n&&r&&(m.$sentry_url=(i||"https://sentry.io/organizations/")+n+"/issues/?project="+r+"&query="+a.event_id),t.capture("$exception",m),a})}});function T$(e,t){var n=e.config.segment;if(!n)return t();(function(r,i){var s=r.config.segment;if(!s)return i();var o=function(l){var c=function(){return l.anonymousId()||Xo()};r.config.get_device_id=c,l.id()&&(r.register({distinct_id:l.id(),$device_id:c()}),r.persistence.set_property(lo,"identified")),i()},a=s.user();"then"in a&&ys(a.then)?a.then(function(l){return o(l)}):o(a)})(e,function(){n.register(function(r){Promise&&Promise.resolve||ge.warn("This browser does not have Promise support, and can not use the segment integration");var i=function(s,o){var a;if(!o)return s;s.event.userId||s.event.anonymousId===r.get_distinct_id()||r.reset(),s.event.userId&&s.event.userId!==r.get_distinct_id()&&(r.register({distinct_id:s.event.userId}),r.reloadFeatureFlags());var l=r._calculate_event_properties(o,(a=s.event.properties)!==null&&a!==void 0?a:{});return s.event.properties=Object.assign({},l,s.event.properties),s};return{name:"PostHog JS",type:"enrichment",version:"1.0.0",isLoaded:function(){return!0},load:function(){return Promise.resolve()},track:function(s){return i(s,s.event.event)},page:function(s){return i(s,"$pageview")},identify:function(s){return i(s,"$identify")},screen:function(s){return i(s,"$screen")}}}(e)).then(function(){t()})})}var I$=function(){function e(t){Gt(this,e),this._instance=t}return qt(e,[{key:"doPageView",value:function(){var t,n=this._previousScrollProperties();return this._currentPath=(t=X==null?void 0:X.location.pathname)!==null&&t!==void 0?t:"",this._instance.scrollManager.resetContext(),n}},{key:"doPageLeave",value:function(){return this._previousScrollProperties()}},{key:"_previousScrollProperties",value:function(){var t=this._currentPath,n=this._instance.scrollManager.getContext();if(!t||!n)return{};var r=n.maxScrollHeight,i=n.lastScrollY,s=n.maxScrollY,o=n.maxContentHeight,a=n.lastContentY,l=n.maxContentY;return We(r)||We(i)||We(s)||We(o)||We(a)||We(l)?{}:(r=Math.ceil(r),i=Math.ceil(i),s=Math.ceil(s),o=Math.ceil(o),a=Math.ceil(a),l=Math.ceil(l),{$prev_pageview_pathname:t,$prev_pageview_last_scroll:i,$prev_pageview_last_scroll_percentage:r<=1?1:Dh(i/r,0,1),$prev_pageview_max_scroll:s,$prev_pageview_max_scroll_percentage:r<=1?1:Dh(s/r,0,1),$prev_pageview_last_content:a,$prev_pageview_last_content_percentage:o<=1?1:Dh(a/o,0,1),$prev_pageview_max_content:l,$prev_pageview_max_content_percentage:o<=1?1:Dh(l/o,0,1)})}}]),e}();function Dh(e,t,n){return Math.max(t,Math.min(e,n))}var P$={icontains:function(e){return!!X&&X.location.href.toLowerCase().indexOf(e.toLowerCase())>-1},regex:function(e){return!!X&&wD(X.location.href,e)},exact:function(e){return(X==null?void 0:X.location.href)===e}},R$=function(){function e(t){Gt(this,e),this.instance=t}return qt(e,[{key:"afterDecideResponse",value:function(t){this._decideServerResponse=!!t.surveys,this.loadIfEnabled()}},{key:"loadIfEnabled",value:function(){var t=this,n=oi==null?void 0:oi.extendPostHogWithSurveys;this.instance.config.disable_surveys||!this._decideServerResponse||n||nf(this.instance.requestRouter.endpointFor("assets","/static/surveys.js"),function(r){if(r)return ge.error("Could not load surveys script",r);oi.extendPostHogWithSurveys(t.instance)})}},{key:"getSurveys",value:function(t){var n=this,r=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(this.instance.config.disable_surveys)return t([]);var i=this.instance.get_property(PA);if(i&&!r)return t(i);this.instance._send_request({url:this.instance.requestRouter.endpointFor("api","/api/surveys/?token=".concat(this.instance.config.token)),method:"GET",transport:"XHR",callback:function(s){var o;if(s.statusCode!==200||!s.json)return t([]);var a=s.json.surveys||[];return(o=n.instance.persistence)===null||o===void 0||o.register(re({},PA,a)),t(a)}})}},{key:"getActiveMatchingSurveys",value:function(t){var n=this,r=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.getSurveys(function(i){var s=i.filter(function(o){return!(!o.start_date||o.end_date)}).filter(function(o){var a,l,c,u;if(!o.conditions)return!0;var d=(a=o.conditions)===null||a===void 0||!a.url||P$[(l=(c=o.conditions)===null||c===void 0?void 0:c.urlMatchType)!==null&&l!==void 0?l:"icontains"](o.conditions.url),h=(u=o.conditions)===null||u===void 0||!u.selector||(we==null?void 0:we.querySelector(o.conditions.selector));return d&&h}).filter(function(o){if(!o.linked_flag_key&&!o.targeting_flag_key)return!0;var a=!o.linked_flag_key||n.instance.featureFlags.isFeatureEnabled(o.linked_flag_key),l=!o.targeting_flag_key||n.instance.featureFlags.isFeatureEnabled(o.targeting_flag_key);return a&&l});return t(s)},r)}}]),e}(),M$=function(){function e(t){var n,r,i=this;Gt(this,e),re(this,"serverLimits",{}),re(this,"lastEventRateLimited",!1),re(this,"checkForLimiting",function(s){var o=s.text;if(o&&o.length)try{(JSON.parse(o).quota_limited||[]).forEach(function(a){ge.info("[RateLimiter] ".concat(a||"events"," is quota limited.")),i.serverLimits[a]=new Date().getTime()+6e4})}catch(a){return void ge.warn('[RateLimiter] could not rate limit - continuing. Error: "'.concat(a==null?void 0:a.message,'"'),{text:o})}}),this.instance=t,this.captureEventsPerSecond=((n=t.config.rate_limiting)===null||n===void 0?void 0:n.events_per_second)||10,this.captureEventsBurstLimit=Math.max(((r=t.config.rate_limiting)===null||r===void 0?void 0:r.events_burst_limit)||10*this.captureEventsPerSecond,this.captureEventsPerSecond),this.lastEventRateLimited=this.isCaptureClientSideRateLimited(!0)}return qt(e,[{key:"isCaptureClientSideRateLimited",value:function(){var t,n,r,i=arguments.length>0&&arguments[0]!==void 0&&arguments[0],s=new Date().getTime(),o=(t=(n=this.instance.persistence)===null||n===void 0?void 0:n.get_property(MA))!==null&&t!==void 0?t:{tokens:this.captureEventsBurstLimit,last:s};o.tokens+=(s-o.last)/1e3*this.captureEventsPerSecond,o.last=s,o.tokens>this.captureEventsBurstLimit&&(o.tokens=this.captureEventsBurstLimit);var a=o.tokens<1;return a||i||(o.tokens=Math.max(0,o.tokens-1)),!a||this.lastEventRateLimited||i||this.instance.capture("$$client_ingestion_warning",{$$client_ingestion_warning_message:"posthog-js client rate limited. Config is set to ".concat(this.captureEventsPerSecond," events per second and ").concat(this.captureEventsBurstLimit," events burst limit.")},{skip_client_rate_limiting:!0}),this.lastEventRateLimited=a,(r=this.instance.persistence)===null||r===void 0||r.set_property(MA,o),a}},{key:"isServerRateLimited",value:function(t){var n=this.serverLimits[t||"events"]||!1;return n!==!1&&new Date().getTime()<n}}]),e}(),j$=function(){return Ce({initialPathName:(Oi==null?void 0:Oi.pathname)||"",referringDomain:Yn.referringDomain()},Yn.campaignParams())},O$=function(){function e(t,n,r){var i=this;Gt(this,e),re(this,"_onSessionIdCallback",function(s){var o=i._getStoredProps();if(!o||o.sessionId!==s){var a={sessionId:s,props:i._sessionSourceParamGenerator()};i._persistence.register(re({},RA,a))}}),this._sessionIdManager=t,this._persistence=n,this._sessionSourceParamGenerator=r||j$,this._sessionIdManager.onSessionId(this._onSessionIdCallback)}return qt(e,[{key:"_getStoredProps",value:function(){return this._persistence.props[RA]}},{key:"getSessionProps",value:function(){var t,n=(t=this._getStoredProps())===null||t===void 0?void 0:t.props;return n?{$client_session_initial_referring_host:n.referringDomain,$client_session_initial_pathname:n.initialPathName,$client_session_initial_utm_source:n.utm_source,$client_session_initial_utm_campaign:n.utm_campaign,$client_session_initial_utm_medium:n.utm_medium,$client_session_initial_utm_content:n.utm_content,$client_session_initial_utm_term:n.utm_term}:{}}}]),e}(),V$=["ahrefsbot","ahrefssiteaudit","applebot","baiduspider","bingbot","bingpreview","bot.htm","bot.php","crawler","deepscan","duckduckbot","facebookexternal","facebookcatalog","gptbot","http://yandex.com/bots","hubspot","ia_archiver","linkedinbot","mj12bot","msnbot","nessus","petalbot","pinterest","prerender","rogerbot","screaming frog","semrushbot","sitebulb","slurp","turnitin","twitterbot","vercelbot","yahoo! slurp","yandexbot","adsbot-google","apis-google","duplexweb-google","feedfetcher-google","google favicon","google web preview","google-read-aloud","googlebot","googleweblight","mediapartners-google","storebot-google","Bytespider;"],i2=function(e,t){if(!e)return!1;var n=e.toLowerCase();return V$.concat(t||[]).some(function(r){var i=r.toLowerCase();return n.indexOf(i)!==-1})},PM=function(){function e(){Gt(this,e),this.clicks=[]}return qt(e,[{key:"isRageClick",value:function(t,n,r){var i=this.clicks[this.clicks.length-1];if(i&&Math.abs(t-i.x)+Math.abs(n-i.y)<30&&r-i.timestamp<1e3){if(this.clicks.push({x:t,y:n,timestamp:r}),this.clicks.length===3)return!0}else this.clicks=[{x:t,y:n,timestamp:r}];return!1}}]),e}(),s2="__POSTHOG_TOOLBAR__";function o2(e){var t;return e.id===s2||!((t=e.closest)===null||t===void 0||!t.call(e,"#"+s2))}var L$=function(){function e(t){var n;Gt(this,e),re(this,"rageclicks",new PM),re(this,"_enabledServerSide",!1),re(this,"_initialized",!1),this.instance=t,this._enabledServerSide=!((n=this.instance.persistence)===null||n===void 0||!n.props[CA])}return qt(e,[{key:"startIfEnabled",value:function(){this.isEnabled&&!this._initialized&&this._setupListeners()}},{key:"isEnabled",get:function(){return We(this.instance.config.enable_heatmaps)?this._enabledServerSide:this.instance.config.enable_heatmaps}},{key:"afterDecideResponse",value:function(t){var n=!!t.heatmaps;this.instance.persistence&&this.instance.persistence.register(re({},CA,n)),this._enabledServerSide=n,this.startIfEnabled()}},{key:"getAndClearBuffer",value:function(){var t=this.buffer;return this.buffer=void 0,t}},{key:"_setupListeners",value:function(){var t=this;X&&we&&(po(we,"click",function(n){return t._onClick(n||(X==null?void 0:X.event))},!1,!0),po(we,"mousemove",function(n){return t._onMouseMove(n||(X==null?void 0:X.event))},!1,!0),this._initialized=!0)}},{key:"_getProperties",value:function(t,n){var r=this.instance.scrollManager.scrollY(),i=this.instance.scrollManager.scrollX(),s=this.instance.scrollManager.scrollElement(),o=function(a,l,c){for(var u=a;u&&!sa(u,"body");){if(u===c)return!1;if(ft(l,X==null?void 0:X.getComputedStyle(u).position))return!0;u=mM(u)}return!1}(t.target,["fixed","sticky"],s);return{x:t.clientX+(o?0:i),y:t.clientY+(o?0:r),target_fixed:o,type:n}}},{key:"_onClick",value:function(t){var n;if(!o2(t.target)){var r=this._getProperties(t,"click");(n=this.rageclicks)!==null&&n!==void 0&&n.isRageClick(t.clientX,t.clientY,new Date().getTime())&&this._capture(Ce(Ce({},r),{},{type:"rageclick"})),this._capture(r)}}},{key:"_onMouseMove",value:function(t){var n=this;o2(t.target)||(clearTimeout(this._mouseMoveTimeout),this._mouseMoveTimeout=setTimeout(function(){n._capture(n._getProperties(t,"mousemove"))},500))}},{key:"_capture",value:function(t){if(X){var n=X.location.href;this.buffer=this.buffer||{},this.buffer[n]||(this.buffer[n]=[]),this.buffer[n].push(t)}}}]),e}(),N$=function(){function e(t){var n=this;Gt(this,e),re(this,"_updateScrollData",function(){var r,i,s,o;n.context||(n.context={});var a=n.scrollElement(),l=n.scrollY(),c=a?Math.max(0,a.scrollHeight-a.clientHeight):0,u=l+((a==null?void 0:a.clientHeight)||0),d=(a==null?void 0:a.scrollHeight)||0;n.context.lastScrollY=Math.ceil(l),n.context.maxScrollY=Math.max(l,(r=n.context.maxScrollY)!==null&&r!==void 0?r:0),n.context.maxScrollHeight=Math.max(c,(i=n.context.maxScrollHeight)!==null&&i!==void 0?i:0),n.context.lastContentY=u,n.context.maxContentY=Math.max(u,(s=n.context.maxContentY)!==null&&s!==void 0?s:0),n.context.maxContentHeight=Math.max(d,(o=n.context.maxContentHeight)!==null&&o!==void 0?o:0)}),this.instance=t}return qt(e,[{key:"getContext",value:function(){return this.context}},{key:"resetContext",value:function(){var t=this.context;return setTimeout(this._updateScrollData,0),t}},{key:"startMeasuringScrollPosition",value:function(){X==null||X.addEventListener("scroll",this._updateScrollData,!0),X==null||X.addEventListener("scrollend",this._updateScrollData,!0),X==null||X.addEventListener("resize",this._updateScrollData)}},{key:"scrollElement",value:function(){if(!this.instance.config.scroll_root_selector)return X==null?void 0:X.document.documentElement;var t,n=ws(Bn(this.instance.config.scroll_root_selector)?this.instance.config.scroll_root_selector:[this.instance.config.scroll_root_selector]);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=X==null?void 0:X.document.querySelector(r);if(i)return i}}catch(s){n.e(s)}finally{n.f()}}},{key:"scrollY",value:function(){if(this.instance.config.scroll_root_selector){var t=this.scrollElement();return t&&t.scrollTop||0}return X&&(X.scrollY||X.pageYOffset||X.document.documentElement.scrollTop)||0}},{key:"scrollX",value:function(){if(this.instance.config.scroll_root_selector){var t=this.scrollElement();return t&&t.scrollLeft||0}return X&&(X.scrollX||X.pageXOffset||X.document.documentElement.scrollLeft)||0}}]),e}(),B$=function(){function e(){Gt(this,e),re(this,"events",{}),this.events={}}return qt(e,[{key:"on",value:function(t,n){var r=this;return this.events[t]||(this.events[t]=[]),this.events[t].push(n),function(){r.events[t]=r.events[t].filter(function(i){return i!==n})}}},{key:"emit",value:function(t,n){var r,i=ws(this.events[t]||[]);try{for(i.s();!(r=i.n()).done;)(0,r.value)(n)}catch(a){i.e(a)}finally{i.f()}var s,o=ws(this.events["*"]||[]);try{for(o.s();!(s=o.n()).done;)(0,s.value)(t,n)}catch(a){o.e(a)}finally{o.f()}}}]),e}(),zv="$copy_autocapture";function Uv(e,t){return t.length>e?t.slice(0,e)+"...":t}var D$=function(){function e(t){Gt(this,e),re(this,"_initialized",!1),re(this,"_isDisabledServerSide",null),re(this,"rageclicks",new PM),re(this,"_elementsChainAsString",!1),this.instance=t}return qt(e,[{key:"config",get:function(){var t,n=Hs(this.instance.config.autocapture)?this.instance.config.autocapture:{};return n.url_allowlist=(t=n.url_allowlist)===null||t===void 0?void 0:t.map(function(r){return new RegExp(r)}),n}},{key:"_addDomEventHandlers",value:function(){var t=this;if(this.isBrowserSupported()){if(X&&we){var n=function(i){i=i||(X==null?void 0:X.event);try{t._captureEvent(i)}catch(s){ge.error("Failed to capture event",s)}},r=function(i){i=i||(X==null?void 0:X.event),t._captureEvent(i,zv)};po(we,"submit",n,!1,!0),po(we,"change",n,!1,!0),po(we,"click",n,!1,!0),this.config.capture_copied_text&&(po(we,"copy",r,!1,!0),po(we,"cut",r,!1,!0))}}else ge.info("Disabling Automatic Event Collection because this browser is not supported")}},{key:"startIfEnabled",value:function(){this.isEnabled&&!this._initialized&&(this._addDomEventHandlers(),this._initialized=!0)}},{key:"afterDecideResponse",value:function(t){t.elementsChainAsString&&(this._elementsChainAsString=t.elementsChainAsString),this.instance.persistence&&this.instance.persistence.register(re({},RE,!!t.autocapture_opt_out)),this._isDisabledServerSide=!!t.autocapture_opt_out,this.startIfEnabled()}},{key:"isEnabled",get:function(){var t,n,r=(t=this.instance.persistence)===null||t===void 0?void 0:t.props[RE],i=this._isDisabledServerSide;if(As(i)&&!Lp(r)&&!this.instance.config.advanced_disable_decide)return!1;var s=(n=this._isDisabledServerSide)!==null&&n!==void 0?n:!!r;return!!this.instance.config.autocapture&&!s}},{key:"_previousElementSibling",value:function(t){if(t.previousElementSibling)return t.previousElementSibling;var n=t;do n=n.previousSibling;while(n&&!Mb(n));return n}},{key:"_getAugmentPropertiesFromElement",value:function(t){if(!DA(t))return{};var n={};return Dt(t.attributes,function(r){if(r.name&&r.name.indexOf("data-ph-capture-attribute")===0){var i=r.name.replace("data-ph-capture-attribute-",""),s=r.value;i&&s&&Cc(s)&&(n[i]=s)}}),n}},{key:"_getPropertiesFromElement",value:function(t,n,r){var i,s=t.tagName.toLowerCase(),o={tag_name:s};BA.indexOf(s)>-1&&!r&&(s.toLowerCase()==="a"||s.toLowerCase()==="button"?o.$el_text=Uv(1024,qE(t)):o.$el_text=Uv(1024,wg(t)));var a=xg(t);a.length>0&&(o.classes=a.filter(function(h){return h!==""}));var l=(i=this.config)===null||i===void 0?void 0:i.element_attribute_ignorelist;Dt(t.attributes,function(h){var p;if((!vM(t)||["name","id","class","aria-label"].indexOf(h.name)!==-1)&&(l==null||!l.includes(h.name))&&!n&&Cc(h.value)&&(p=h.name,!br(p)||p.substring(0,10)!=="_ngcontent"&&p.substring(0,7)!=="_nghost")){var g=h.value;h.name==="class"&&(g=Rb(g).join(" ")),o["attr__"+h.name]=Uv(1024,g)}});for(var c=1,u=1,d=t;d=this._previousElementSibling(d);)c++,d.tagName===t.tagName&&u++;return o.nth_child=c,o.nth_of_type=u,o}},{key:"_getDefaultProperties",value:function(t){return{$event_type:t,$ce_version:1}}},{key:"_getEventTarget",value:function(t){return We(t.target)?t.srcElement||null:(n=t.target)!==null&&n!==void 0&&n.shadowRoot?t.composedPath()[0]||null:t.target||null;var n}},{key:"_captureEvent",value:function(t){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"$autocapture";if(this.isEnabled){var i,s=this._getEventTarget(t);pM(s)&&(s=s.parentNode||null),r==="$autocapture"&&t.type==="click"&&t instanceof MouseEvent&&this.instance.config.rageclick&&(i=this.rageclicks)!==null&&i!==void 0&&i.isRageClick(t.clientX,t.clientY,new Date().getTime())&&this._captureEvent(t,"$rageclick");var o=r===zv;if(s&&$D(s,t,this.config,o,o?["copy","cut"]:void 0)){for(var a,l,c=[s],u=s;u.parentNode&&!sa(u,"body");)gM(u.parentNode)?(c.push(u.parentNode.host),u=u.parentNode.host):(c.push(u.parentNode),u=u.parentNode);var d,h=[],p={},g=!1;if(Dt(c,function(S){var x=DA(S);S.tagName.toLowerCase()==="a"&&(d=S.getAttribute("href"),d=x&&Cc(d)&&d),ft(xg(S),"ph-no-capture")&&(g=!0),h.push(n._getPropertiesFromElement(S,n.instance.config.mask_all_element_attributes,n.instance.config.mask_all_text));var b=n._getAugmentPropertiesFromElement(S);Kn(p,b)}),this.instance.config.mask_all_text||(s.tagName.toLowerCase()==="a"||s.tagName.toLowerCase()==="button"?h[0].$el_text=qE(s):h[0].$el_text=wg(s)),d&&(h[0].attr__href=d),g)return!1;var m=Kn(this._getDefaultProperties(t.type),this._elementsChainAsString?{$elements_chain:GD(h)}:{$elements:h},(a=h[0])!==null&&a!==void 0&&a.$el_text?{$el_text:(l=h[0])===null||l===void 0?void 0:l.$el_text}:{},p);if(r===zv){var _,v=hM(X==null||(_=X.getSelection())===null||_===void 0?void 0:_.toString()),A=t.type||"clipboard";if(!v)return!1;m.$selected_content=v,m.$copy_type=A}return this.instance.capture(r,m),!0}}}},{key:"isBrowserSupported",value:function(){return ys(we==null?void 0:we.querySelectorAll)}}]),e}(),Pd={},a2=function(){},rc="posthog",RM=!v$&&(bn==null?void 0:bn.indexOf("MSIE"))===-1&&(bn==null?void 0:bn.indexOf("Mozilla"))===-1,l2=function(){var e,t,n;return{api_host:"https://us.i.posthog.com",api_transport:"XHR",ui_host:null,token:"",autocapture:!0,rageclick:!0,cross_subdomain_cookie:(t=we==null?void 0:we.location,n=t==null?void 0:t.hostname,!!br(n)&&n.split(".").slice(-2).join(".")!=="herokuapp.com"),persistence:"localStorage+cookie",persistence_name:"",loaded:a2,store_google:!0,custom_campaign_params:[],custom_blocked_useragents:[],save_referrer:!0,capture_pageview:!0,capture_pageleave:!0,debug:Oi&&br(Oi==null?void 0:Oi.search)&&Oi.search.indexOf("__posthog_debug=true")!==-1||!1,verbose:!1,cookie_expiration:365,upgrade:!1,disable_session_recording:!1,disable_persistence:!1,disable_surveys:!1,enable_recording_console_log:void 0,secure_cookie:(X==null||(e=X.location)===null||e===void 0?void 0:e.protocol)==="https:",ip:!0,opt_out_capturing_by_default:!1,opt_out_persistence_by_default:!1,opt_out_useragent_filter:!1,opt_out_capturing_persistence_type:"localStorage",opt_out_capturing_cookie_prefix:null,opt_in_site_apps:!1,property_denylist:[],respect_dnt:!1,sanitize_properties:null,request_headers:{},inapp_protocol:"//",inapp_link_new_window:!1,request_batching:!0,properties_string_max_length:65535,session_recording:{},mask_all_element_attributes:!1,mask_all_text:!1,advanced_disable_decide:!1,advanced_disable_feature_flags:!1,advanced_disable_feature_flags_on_first_load:!1,advanced_disable_toolbar_metrics:!1,feature_flag_request_timeout_ms:3e3,on_request_error:function(r){var i="Bad HTTP status: "+r.statusCode+" "+r.text;ge.error(i)},get_device_id:function(r){return r},_onCapture:a2,capture_performance:void 0,name:"posthog",bootstrap:{},disable_compression:!1,session_idle_timeout_seconds:1800,person_profiles:"always"}},c2=function(e){var t={};We(e.process_person)||(t.person_profiles=e.process_person),We(e.xhr_headers)||(t.request_headers=e.xhr_headers),We(e.cookie_name)||(t.persistence_name=e.cookie_name),We(e.disable_cookie)||(t.disable_persistence=e.disable_cookie);var n=Kn({},t,e);return Bn(e.property_blacklist)&&(We(e.property_denylist)?n.property_denylist=e.property_blacklist:Bn(e.property_denylist)?n.property_denylist=[].concat(Hc(e.property_blacklist),Hc(e.property_denylist)):ge.error("Invalid value for property_denylist config: "+e.property_denylist)),n},$$=function(){function e(){Gt(this,e),re(this,"__forceAllowLocalhost",!1)}return qt(e,[{key:"_forceAllowLocalhost",get:function(){return this.__forceAllowLocalhost},set:function(t){ge.error("WebPerformanceObserver is deprecated and has no impact on network capture. Use `_forceAllowLocalhostNetworkCapture` on `posthog.sessionRecording`"),this.__forceAllowLocalhost=t}}]),e}(),MM=function(){function e(){var t=this;Gt(this,e),re(this,"webPerformance",new $$),re(this,"_debugEventEmitter",new B$),this.config=l2(),this.decideEndpointWasHit=!1,this.SentryIntegration=C$,this.__request_queue=[],this.__loaded=!1,this.analyticsDefaultEndpoint="/e/",this.featureFlags=new hD(this),this.toolbar=new o$(this),this.scrollManager=new N$(this),this.pageViewManager=new I$(this),this.surveys=new R$(this),this.rateLimiter=new M$(this),this.requestRouter=new k$(this),this.people={set:function(n,r,i){var s=br(n)?re({},n,r):n;t.setPersonProperties(s),i==null||i({})},set_once:function(n,r,i){var s=br(n)?re({},n,r):n;t.setPersonProperties(void 0,s),i==null||i({})}},this.on("eventCaptured",function(n){return ge.info("send",n)})}return qt(e,[{key:"init",value:function(t,n,r){if(r&&r!==rc){var i,s=(i=Pd[r])!==null&&i!==void 0?i:new e;return s._init(t,n,r),Pd[r]=s,Pd[rc][r]=s,s}return this._init(t,n,r)}},{key:"_init",value:function(t){var n,r,i=this,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=arguments.length>2?arguments[2]:void 0;if(We(t)||function(_){return br(_)&&_.trim().length===0}(t))return ge.critical("PostHog was initialized without a token. This likely indicates a misconfiguration. Please check the first argument passed to posthog.init()"),this;if(this.__loaded)return ge.warn("You have already initialized PostHog! Re-initializing is a no-op"),this;if(this.__loaded=!0,this.config={},this._triggered_notifs=[],this.set_config(Kn({},l2(),c2(s),{name:o,token:t})),this.compression=s.disable_compression?void 0:hs.Base64,this.persistence=new Nv(this.config),this.sessionPersistence=this.config.persistence==="sessionStorage"?this.persistence:new Nv(Ce(Ce({},this.config),{},{persistence:"sessionStorage"})),this._requestQueue=new a$(function(_){return i._send_request(_)}),this._retryQueue=new w$(this),this.__request_queue=[],this.sessionManager=new E$(this.config,this.persistence),this.sessionPropsManager=new O$(this.sessionManager,this.persistence),this.sessionRecording=new r$(this),this.sessionRecording.startIfEnabledOrStop(),this.config.disable_scroll_properties||this.scrollManager.startMeasuringScrollPosition(),this.autocapture=new D$(this),this.autocapture.startIfEnabled(),this.surveys.loadIfEnabled(),this.heatmaps=new L$(this),this.heatmaps.startIfEnabled(),Ya.DEBUG=Ya.DEBUG||this.config.debug,this._gdpr_init(),((n=s.bootstrap)===null||n===void 0?void 0:n.distinctID)!==void 0){var a,l,c=this.config.get_device_id(Xo()),u=(a=s.bootstrap)!==null&&a!==void 0&&a.isIdentifiedID?c:s.bootstrap.distinctID;this.persistence.set_property(lo,(l=s.bootstrap)!==null&&l!==void 0&&l.isIdentifiedID?"identified":"anonymous"),this.register({distinct_id:s.bootstrap.distinctID,$device_id:u})}if(this._hasBootstrappedFeatureFlags()){var d,h,p=Object.keys(((d=s.bootstrap)===null||d===void 0?void 0:d.featureFlags)||{}).filter(function(_){var v,A;return!((v=s.bootstrap)===null||v===void 0||(A=v.featureFlags)===null||A===void 0||!A[_])}).reduce(function(_,v){var A,S;return _[v]=((A=s.bootstrap)===null||A===void 0||(S=A.featureFlags)===null||S===void 0?void 0:S[v])||!1,_},{}),g=Object.keys(((h=s.bootstrap)===null||h===void 0?void 0:h.featureFlagPayloads)||{}).filter(function(_){return p[_]}).reduce(function(_,v){var A,S,x,b;return(A=s.bootstrap)!==null&&A!==void 0&&(S=A.featureFlagPayloads)!==null&&S!==void 0&&S[v]&&(_[v]=(x=s.bootstrap)===null||x===void 0||(b=x.featureFlagPayloads)===null||b===void 0?void 0:b[v]),_},{});this.featureFlags.receivedFeatureFlags({featureFlags:p,featureFlagPayloads:g})}if(!this.get_distinct_id()){var m=this.config.get_device_id(Xo());this.register_once({distinct_id:m,$device_id:m},""),this.persistence.set_property(lo,"anonymous")}return X==null||(r=X.addEventListener)===null||r===void 0||r.call(X,"onpagehide"in self?"pagehide":"unload",this._handle_unload.bind(this)),this.toolbar.maybeLoadToolbar(),s.segment?T$(this,function(){return i._loaded()}):this._loaded(),ys(this.config._onCapture)&&this.on("eventCaptured",function(_){return i.config._onCapture(_.event,_)}),this}},{key:"_afterDecideResponse",value:function(t){var n,r,i,s,o;this.compression=void 0,t.supportedCompression&&!this.config.disable_compression&&(this.compression=ft(t.supportedCompression,hs.GZipJS)?hs.GZipJS:ft(t.supportedCompression,hs.Base64)?hs.Base64:void 0),(n=t.analytics)!==null&&n!==void 0&&n.endpoint&&(this.analyticsDefaultEndpoint=t.analytics.endpoint),(r=this.sessionRecording)===null||r===void 0||r.afterDecideResponse(t),(i=this.autocapture)===null||i===void 0||i.afterDecideResponse(t),(s=this.heatmaps)===null||s===void 0||s.afterDecideResponse(t),(o=this.surveys)===null||o===void 0||o.afterDecideResponse(t)}},{key:"_loaded",value:function(){var t=this,n=this.config.advanced_disable_decide;n||this.featureFlags.setReloadingPaused(!0);try{this.config.loaded(this)}catch(r){ge.critical("`loaded` function failed",r)}this._start_queue_if_opted_in(),this.config.capture_pageview&&setTimeout(function(){we&&t.capture("$pageview",{title:we.title},{send_instantly:!0})},1),n||(new i$(this).call(),this.featureFlags.resetRequestQueue())}},{key:"_start_queue_if_opted_in",value:function(){var t;this.has_opted_out_capturing()||this.config.request_batching&&((t=this._requestQueue)===null||t===void 0||t.enable())}},{key:"_dom_loaded",value:function(){var t=this;this.has_opted_out_capturing()||wc(this.__request_queue,function(n){return t._send_retriable_request(n)}),this.__request_queue=[],this._start_queue_if_opted_in()}},{key:"_handle_unload",value:function(){var t,n;this.config.request_batching?(this.config.capture_pageview&&this.config.capture_pageleave&&this.capture("$pageleave"),(t=this._requestQueue)===null||t===void 0||t.unload(),(n=this._retryQueue)===null||n===void 0||n.unload()):this.config.capture_pageview&&this.config.capture_pageleave&&this.capture("$pageleave",null,{transport:"sendBeacon"})}},{key:"_send_request",value:function(t){var n=this;this.__loaded&&(RM?this.__request_queue.push(t):this.rateLimiter.isServerRateLimited(t.batchKey)||(t.transport=t.transport||this.config.api_transport,t.url=kg(t.url,{ip:this.config.ip?1:0}),t.headers=this.config.request_headers,t.compression=t.compression==="best-available"?this.compression:t.compression,function(r){var i=Ce({},r);i.timeout=i.timeout||6e4,i.url=kg(i.url,{_:new Date().getTime().toString(),ver:Ya.LIB_VERSION,compression:i.compression}),i.transport==="sendBeacon"&&tf!=null&&tf.sendBeacon?b$(i):i.transport==="fetch"&&Eb?_$(i):kb||!we?A$(i):S$(i)}(Ce(Ce({},t),{},{callback:function(r){var i,s,o;n.rateLimiter.checkForLimiting(r),r.statusCode>=400&&((s=(o=n.config).on_request_error)===null||s===void 0||s.call(o,r)),(i=t.callback)===null||i===void 0||i.call(t,r)}}))))}},{key:"_send_retriable_request",value:function(t){this._retryQueue?this._retryQueue.retriableRequest(t):this._send_request(t)}},{key:"_execute_array",value:function(t){var n,r=this,i=[],s=[],o=[];wc(t,function(l){l&&(n=l[0],Bn(n)?o.push(l):ys(l)?l.call(r):Bn(l)&&n==="alias"?i.push(l):Bn(l)&&n.indexOf("capture")!==-1&&ys(r[n])?o.push(l):s.push(l))});var a=function(l,c){wc(l,function(u){if(Bn(u[0])){var d=c;Dt(u,function(h){d=d[h[0]].apply(d,h.slice(1))})}else this[u[0]].apply(this,u.slice(1))},c)};a(i,this),a(s,this),a(o,this)}},{key:"_hasBootstrappedFeatureFlags",value:function(){var t,n;return((t=this.config.bootstrap)===null||t===void 0?void 0:t.featureFlags)&&Object.keys((n=this.config.bootstrap)===null||n===void 0?void 0:n.featureFlags).length>0||!1}},{key:"push",value:function(t){this._execute_array([t])}},{key:"capture",value:function(t,n,r){var i;if(!(this.__loaded&&this.persistence&&this.sessionPersistence&&this._requestQueue))return ge.uninitializedWarning("posthog.capture");if(!wM(this))if(r!=null&&r.skip_client_rate_limiting||!this.rateLimiter.isCaptureClientSideRateLimited())if(!We(t)&&br(t)){if(!bn||this.config.opt_out_useragent_filter||!i2(bn,this.config.custom_blocked_useragents)){this.sessionPersistence.update_search_keyword(),this.config.store_google&&(this.sessionPersistence.update_campaign_params(),this.persistence.set_initial_campaign_params()),this.config.save_referrer&&(this.sessionPersistence.update_referrer_info(),this.persistence.set_initial_referrer_info());var s={uuid:Xo(),event:t,properties:this._calculate_event_properties(t,n||{})};if(r==null||!r._noHeatmaps){var o,a=(o=this.heatmaps)===null||o===void 0?void 0:o.getAndClearBuffer();a&&(s.properties.$heatmap_data=a)}r!=null&&r.$set&&(s.$set=r==null?void 0:r.$set);var l=this._calculate_set_once_properties(r==null?void 0:r.$set_once);l&&(s.$set_once=l),(s=uD(s,r!=null&&r._noTruncate?null:this.config.properties_string_max_length)).timestamp=(r==null?void 0:r.timestamp)||new Date,We(r==null?void 0:r.timestamp)||(s.properties.$event_time_override_provided=!0,s.properties.$event_time_override_system_time=new Date);var c=Ce(Ce({},s.properties.$set),s.$set);jv(c)||this.setPersonPropertiesForFlags(c),this._debugEventEmitter.emit("eventCaptured",s);var u={method:"POST",url:(i=r==null?void 0:r._url)!==null&&i!==void 0?i:this.requestRouter.endpointFor("api",this.analyticsDefaultEndpoint),data:s,compression:"best-available",batchKey:r==null?void 0:r._batchKey};return!this.config.request_batching||r&&(r==null||!r._batchKey)||r!=null&&r.send_instantly?this._send_retriable_request(u):this._requestQueue.enqueue(u),s}}else ge.error("No event name provided to posthog.capture");else ge.critical("This capture call is ignored due to client rate limiting.")}},{key:"_addCaptureHook",value:function(t){this.on("eventCaptured",function(n){return t(n.event)})}},{key:"_calculate_event_properties",value:function(t,n){if(!this.persistence||!this.sessionPersistence)return n;var r=this.persistence.remove_event_timer(t),i=Ce({},n);if(i.token=this.config.token,t==="$snapshot"){var s=Ce(Ce({},this.persistence.properties()),this.sessionPersistence.properties());return i.distinct_id=s.distinct_id,i}var o=Yn.properties();if(this.sessionManager){var a=this.sessionManager.checkAndGetSessionAndWindowId(),l=a.sessionId,c=a.windowId;i.$session_id=l,i.$window_id=c}if(this.requestRouter.region===Qa.CUSTOM&&(i.$lib_custom_api_host=this.config.api_host),this.sessionPropsManager&&this.config.__preview_send_client_session_params&&(t==="$pageview"||t==="$pageleave"||t==="$autocapture")){var u=this.sessionPropsManager.getSessionProps();i=Kn(i,u)}if(!this.config.disable_scroll_properties){var d={};t==="$pageview"?d=this.pageViewManager.doPageView():t==="$pageleave"&&(d=this.pageViewManager.doPageLeave()),i=Kn(i,d)}if(t==="$pageview"&&we&&(i.title=we.title),!We(r)){var h=new Date().getTime()-r;i.$duration=parseFloat((h/1e3).toFixed(3))}bn&&this.config.opt_out_useragent_filter&&(i.$browser_type=i2(bn,this.config.custom_blocked_useragents)?"bot":"browser"),(i=Kn({},o,this.persistence.properties(),this.sessionPersistence.properties(),i)).$is_identified=this._isIdentified(),Bn(this.config.property_denylist)?Dt(this.config.property_denylist,function(g){delete i[g]}):ge.error("Invalid value for property_denylist config: "+this.config.property_denylist+" or property_blacklist config: "+this.config.property_blacklist);var p=this.config.sanitize_properties;return p&&(i=p(i,t)),i.$process_person_profile=this._hasPersonProcessing(),i}},{key:"_calculate_set_once_properties",value:function(t){if(!this.persistence||!this._hasPersonProcessing())return t;var n=Kn({},this.persistence.get_initial_props(),t||{});return jv(n)?void 0:n}},{key:"register",value:function(t,n){var r;(r=this.persistence)===null||r===void 0||r.register(t,n)}},{key:"register_once",value:function(t,n,r){var i;(i=this.persistence)===null||i===void 0||i.register_once(t,n,r)}},{key:"register_for_session",value:function(t){var n;(n=this.sessionPersistence)===null||n===void 0||n.register(t)}},{key:"unregister",value:function(t){var n;(n=this.persistence)===null||n===void 0||n.unregister(t)}},{key:"unregister_for_session",value:function(t){var n;(n=this.sessionPersistence)===null||n===void 0||n.unregister(t)}},{key:"_register_single",value:function(t,n){this.register(re({},t,n))}},{key:"getFeatureFlag",value:function(t,n){return this.featureFlags.getFeatureFlag(t,n)}},{key:"getFeatureFlagPayload",value:function(t){var n=this.featureFlags.getFeatureFlagPayload(t);try{return JSON.parse(n)}catch{return n}}},{key:"isFeatureEnabled",value:function(t,n){return this.featureFlags.isFeatureEnabled(t,n)}},{key:"reloadFeatureFlags",value:function(){this.featureFlags.reloadFeatureFlags()}},{key:"updateEarlyAccessFeatureEnrollment",value:function(t,n){this.featureFlags.updateEarlyAccessFeatureEnrollment(t,n)}},{key:"getEarlyAccessFeatures",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return this.featureFlags.getEarlyAccessFeatures(t,n)}},{key:"on",value:function(t,n){return this._debugEventEmitter.on(t,n)}},{key:"onFeatureFlags",value:function(t){return this.featureFlags.onFeatureFlags(t)}},{key:"onSessionId",value:function(t){var n,r;return(n=(r=this.sessionManager)===null||r===void 0?void 0:r.onSessionId(t))!==null&&n!==void 0?n:function(){}}},{key:"getSurveys",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.surveys.getSurveys(t,n)}},{key:"getActiveMatchingSurveys",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.surveys.getActiveMatchingSurveys(t,n)}},{key:"identify",value:function(t,n,r){if(!this.__loaded||!this.persistence)return ge.uninitializedWarning("posthog.identify");if(ds(t)&&(t=t.toString(),ge.warn("The first argument to posthog.identify was a number, but it should be a string. It has been converted to a string.")),t){if(["distinct_id","distinctid"].includes(t.toLowerCase()))ge.critical('The string "'.concat(t,'" was set in posthog.identify which indicates an error. This ID should be unique to the user and not a hardcoded string.'));else if(this._requirePersonProcessing("posthog.identify")){var i=this.get_distinct_id();if(this.register({$user_id:t}),!this.get_property("$device_id")){var s=i;this.register_once({$had_persisted_distinct_id:!0,$device_id:s},"")}t!==i&&t!==this.get_property(fd)&&(this.unregister(fd),this.register({distinct_id:t}));var o=(this.persistence.get_property(lo)||"anonymous")==="anonymous";t!==i&&o?(this.persistence.set_property(lo,"identified"),this.setPersonPropertiesForFlags(n||{},!1),this.capture("$identify",{distinct_id:t,$anon_distinct_id:i},{$set:n||{},$set_once:r||{}}),this.featureFlags.setAnonymousDistinctId(i)):(n||r)&&this.setPersonProperties(n,r),t!==i&&(this.reloadFeatureFlags(),this.unregister(Ag))}}else ge.error("Unique user id has not been set in posthog.identify")}},{key:"setPersonProperties",value:function(t,n){(t||n)&&this._requirePersonProcessing("posthog.setPersonProperties")&&(this.setPersonPropertiesForFlags(t||{}),this.capture("$set",{$set:t||{},$set_once:n||{}}))}},{key:"group",value:function(t,n,r){if(t&&n){if(this._requirePersonProcessing("posthog.group")){var i=this.getGroups();i[t]!==n&&this.resetGroupPropertiesForFlags(t),this.register({$groups:Ce(Ce({},i),{},re({},t,n))}),r&&(this.capture("$groupidentify",{$group_type:t,$group_key:n,$group_set:r}),this.setGroupPropertiesForFlags(re({},t,r))),i[t]===n||r||this.reloadFeatureFlags()}}else ge.error("posthog.group requires a group type and group key")}},{key:"resetGroups",value:function(){this.register({$groups:{}}),this.resetGroupPropertiesForFlags(),this.reloadFeatureFlags()}},{key:"setPersonPropertiesForFlags",value:function(t){var n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this._requirePersonProcessing("posthog.setPersonPropertiesForFlags")&&this.featureFlags.setPersonPropertiesForFlags(t,n)}},{key:"resetPersonPropertiesForFlags",value:function(){this.featureFlags.resetPersonPropertiesForFlags()}},{key:"setGroupPropertiesForFlags",value:function(t){var n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this._requirePersonProcessing("posthog.setGroupPropertiesForFlags")&&this.featureFlags.setGroupPropertiesForFlags(t,n)}},{key:"resetGroupPropertiesForFlags",value:function(t){this.featureFlags.resetGroupPropertiesForFlags(t)}},{key:"reset",value:function(t){var n,r,i,s;if(!this.__loaded)return ge.uninitializedWarning("posthog.reset");var o=this.get_property("$device_id");(n=this.persistence)===null||n===void 0||n.clear(),(r=this.sessionPersistence)===null||r===void 0||r.clear(),(i=this.persistence)===null||i===void 0||i.set_property(lo,"anonymous"),(s=this.sessionManager)===null||s===void 0||s.resetSessionId();var a=this.config.get_device_id(Xo());this.register_once({distinct_id:a,$device_id:t?a:o},"")}},{key:"get_distinct_id",value:function(){return this.get_property("distinct_id")}},{key:"getGroups",value:function(){return this.get_property("$groups")||{}}},{key:"get_session_id",value:function(){var t,n;return(t=(n=this.sessionManager)===null||n===void 0?void 0:n.checkAndGetSessionAndWindowId(!0).sessionId)!==null&&t!==void 0?t:""}},{key:"get_session_replay_url",value:function(t){if(!this.sessionManager)return"";var n=this.sessionManager.checkAndGetSessionAndWindowId(!0),r=n.sessionId,i=n.sessionStartTimestamp,s=this.requestRouter.endpointFor("ui","/project/".concat(this.config.token,"/replay/").concat(r));if(t!=null&&t.withTimestamp&&i){var o,a=(o=t.timestampLookBack)!==null&&o!==void 0?o:10;if(!i)return s;var l=Math.max(Math.floor((new Date().getTime()-i)/1e3)-a,0);s+="?t=".concat(l)}return s}},{key:"alias",value:function(t,n){return t===this.get_property(YR)?(ge.critical("Attempting to create alias for existing People user - aborting."),-2):this._requirePersonProcessing("posthog.alias")?(We(n)&&(n=this.get_distinct_id()),t!==n?(this._register_single(fd,t),this.capture("$create_alias",{alias:t,distinct_id:n})):(ge.warn("alias matches current distinct_id - skipping api call."),this.identify(t),-1)):void 0}},{key:"set_config",value:function(t){var n,r,i,s,o=Ce({},this.config);Hs(t)&&(Kn(this.config,c2(t)),(n=this.persistence)===null||n===void 0||n.update_config(this.config,o),this.sessionPersistence=this.config.persistence==="sessionStorage"?this.persistence:new Nv(Ce(Ce({},this.config),{},{persistence:"sessionStorage"})),Pn.is_supported()&&Pn.get("ph_debug")==="true"&&(this.config.debug=!0),this.config.debug&&(Ya.DEBUG=!0),(r=this.sessionRecording)===null||r===void 0||r.startIfEnabledOrStop(),(i=this.autocapture)===null||i===void 0||i.startIfEnabled(),(s=this.heatmaps)===null||s===void 0||s.startIfEnabled(),this.surveys.loadIfEnabled())}},{key:"startSessionRecording",value:function(t){if(t!=null&&t.sampling){var n,r,i=(n=this.sessionManager)===null||n===void 0?void 0:n.checkAndGetSessionAndWindowId();(r=this.persistence)===null||r===void 0||r.register(re({},Td,!0)),ge.info("Session recording started with sampling override for session: ",i==null?void 0:i.sessionId)}this.set_config({disable_session_recording:!1})}},{key:"stopSessionRecording",value:function(){this.set_config({disable_session_recording:!0})}},{key:"sessionRecordingStarted",value:function(){var t;return!((t=this.sessionRecording)===null||t===void 0||!t.started)}},{key:"loadToolbar",value:function(t){return this.toolbar.loadToolbar(t)}},{key:"get_property",value:function(t){var n;return(n=this.persistence)===null||n===void 0?void 0:n.props[t]}},{key:"getSessionProperty",value:function(t){var n;return(n=this.sessionPersistence)===null||n===void 0?void 0:n.props[t]}},{key:"toString",value:function(){var t,n=(t=this.config.name)!==null&&t!==void 0?t:rc;return n!==rc&&(n=rc+"."+n),n}},{key:"_isIdentified",value:function(){var t,n;return((t=this.persistence)===null||t===void 0?void 0:t.get_property(lo))==="identified"||((n=this.sessionPersistence)===null||n===void 0?void 0:n.get_property(lo))==="identified"}},{key:"_hasPersonProcessing",value:function(){var t,n,r,i;return!(this.config.person_profiles==="never"||this.config.person_profiles==="identified_only"&&!this._isIdentified()&&jv(this.getGroups())&&((t=this.persistence)===null||t===void 0||(n=t.props)===null||n===void 0||!n[fd])&&((r=this.persistence)===null||r===void 0||(i=r.props)===null||i===void 0||!i[_g]))}},{key:"_requirePersonProcessing",value:function(t){return this.config.person_profiles==="never"?(ge.error(t+' was called, but process_person is set to "never". This call will be ignored.'),!1):(this._register_single(_g,!0),!0)}},{key:"_gdpr_init",value:function(){this.config.opt_out_capturing_persistence_type==="localStorage"&&Pn.is_supported()&&(!this.has_opted_in_capturing()&&this.has_opted_in_capturing({persistence_type:"cookie"})&&this.opt_in_capturing({enable_persistence:!1}),!this.has_opted_out_capturing()&&this.has_opted_out_capturing({persistence_type:"cookie"})&&this.opt_out_capturing({clear_persistence:!1}),this.clear_opt_in_out_capturing({persistence_type:"cookie",enable_persistence:!1})),this.has_opted_out_capturing()?this._gdpr_update_persistence({clear_persistence:!0}):this.has_opted_in_capturing()||!this.config.opt_out_capturing_by_default&&!Ks.get("ph_optout")||(Ks.remove("ph_optout"),this.opt_out_capturing({clear_persistence:this.config.opt_out_persistence_by_default}))}},{key:"_gdpr_update_persistence",value:function(t){var n,r,i,s,o;if(t&&t.clear_persistence)i=!0;else{if(!t||!t.enable_persistence)return;i=!1}this.config.disable_persistence||((n=this.persistence)===null||n===void 0?void 0:n.disabled)===i||(s=this.persistence)===null||s===void 0||s.set_disabled(i),this.config.disable_persistence||((r=this.sessionPersistence)===null||r===void 0?void 0:r.disabled)===i||(o=this.sessionPersistence)===null||o===void 0||o.set_disabled(i)}},{key:"_gdpr_call_func",value:function(t,n){return n=Kn({capture:this.capture.bind(this),persistence_type:this.config.opt_out_capturing_persistence_type,cookie_prefix:this.config.opt_out_capturing_cookie_prefix,cookie_expiration:this.config.cookie_expiration,cross_subdomain_cookie:this.config.cross_subdomain_cookie,secure_cookie:this.config.secure_cookie},n||{}),Pn.is_supported()||n.persistence_type!=="localStorage"||(n.persistence_type="cookie"),t(this.config.token,{capture:n.capture,captureEventName:n.capture_event_name,captureProperties:n.capture_properties,persistenceType:n.persistence_type,persistencePrefix:n.cookie_prefix,cookieExpiration:n.cookie_expiration,crossSubdomainCookie:n.cross_subdomain_cookie,secureCookie:n.secure_cookie})}},{key:"opt_in_capturing",value:function(t){t=Kn({enable_persistence:!0},t||{}),this._gdpr_call_func(XD,t),this._gdpr_update_persistence(t)}},{key:"opt_out_capturing",value:function(t){var n=Kn({clear_persistence:!0},t||{});this._gdpr_call_func(ZD,n),this._gdpr_update_persistence(n)}},{key:"has_opted_in_capturing",value:function(t){return this._gdpr_call_func(e$,t)}},{key:"has_opted_out_capturing",value:function(t){return this._gdpr_call_func(bM,t)}},{key:"clear_opt_in_out_capturing",value:function(t){var n=Kn({enable_persistence:!0},t??{});this._gdpr_call_func(t$,n),this._gdpr_update_persistence(n)}},{key:"debug",value:function(t){t===!1?(X==null||X.console.log("You've disabled debug mode."),localStorage&&localStorage.removeItem("ph_debug"),this.set_config({debug:!1})):(X==null||X.console.log("You're now in debug mode. All calls to PostHog will be logged in your console.\nYou can disable this with `posthog.debug(false)`."),localStorage&&localStorage.setItem("ph_debug","true"),this.set_config({debug:!0}))}}]),e}();(function(e,t){for(var n=0;n<t.length;n++)e.prototype[t[n]]=cD(e.prototype[t[n]])})(MM,["identify"]);var u2,d2;(function(e){e.Popover="popover",e.API="api",e.Widget="widget"})(u2||(u2={})),function(e){e.Open="open",e.MultipleChoice="multiple_choice",e.SingleChoice="single_choice",e.Rating="rating",e.Link="link"}(d2||(d2={}));var f2,Vn=(f2=Pd[rc]=new MM,function(){function e(){e.done||(e.done=!0,RM=!1,Dt(Pd,function(t){t._dom_loaded()}))}we!=null&&we.addEventListener&&(we.readyState==="complete"?e():we.addEventListener("DOMContentLoaded",e,!1)),X&&po(X,"load",e,!0)}(),f2);class pt{constructor(t,n=!1,r=!0){this.name=t,this.track=n,this.log=r,this.subscribers=[],this.lastParams=null,this.subscribe=(i,s=!1)=>{this.unsubscribe(i),this.subscribers.push(i),s&&this.lastParams!==null&&i(...this.lastParams)},this.unsubscribe=i=>{this.subscribers=this.subscribers.filter(s=>s!==i)},this.dispatch=(...i)=>{this.log&&console.log("dispatch",this.name,...i),this.subscribers.forEach(s=>s(...i)),this.lastParams=i,this.track&&Vn.capture(this.name,this.track instanceof Function?this.track(...i):i)}}}const ee={sectionChange:new pt("sectionChange",void 0,!1),playerAdded:new pt("playerAdded",!1),playerRemoved:new pt("playerRemoved",!1),songStarted:new pt("songStarted",!1),songEnded:new pt("songEnded",!1),remoteMicConnected:new pt("remoteMicConnected"),remoteMicDisconnected:new pt("remoteMicDisconnected"),playerNameChanged:new pt("playerNameChanged"),playerInputChanged:new pt("playerInputChanged",(e,t,n)=>({player:e,old:t==null?void 0:t.source,new:n==null?void 0:n.source})),inputListChanged:new pt("inputListChanged"),karaokeConnectionStatusChange:new pt("karaokeConnectionStatusChange"),remoteMicPlayerSet:new pt("remoteMicPlayerSet"),remoteMicMonitoringStarted:new pt("remoteMicMonitoringStarted"),remoteMicMonitoringStopped:new pt("remoteMicMonitoringStopped"),micMonitoringStarted:new pt("micMonitoringStarted"),micMonitoringStopped:new pt("micMonitoringStopped"),playerChangeRequested:new pt("playerChangeRequested",!0),songStatStored:new pt("songStatStored"),songScoreUpdated:new pt("songScoreUpdated",()=>{}),remoteMicSubscribed:new pt("remoteMicSubscribed"),remoteKeyboardPressed:new pt("remoteKeyboardPressed"),remoteSongSearch:new pt("remoteSongSearch",!0),remoteSongSelected:new pt("remoteSongSelected",!0),remoteMicListUpdated:new pt("remoteMicListUpdated"),remoteKeyboardLayout:new pt("remoteKeyboardLayout"),remoteReadinessRequested:new pt("remoteReadinessRequested"),remoteStyleChanged:new pt("remoteStyleChanged"),remoteMicPermissionsSet:new pt("remoteMicPermissionsSet"),readinessConfirmed:new pt("remoteReadinessConfirmed"),minPlayerNumberChanged:new pt("minPlayerNumberChanged"),micServerStarted:new pt("micServerStarted"),micServerStopped:new pt("micServerStopped")};ee.songStarted.subscribe(()=>{ps.clearData(),ps.startRecord()});ee.songEnded.subscribe(()=>{ps.stopRecord()});function Cg(e){"@babel/helpers - typeof";return Cg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cg(e)}var F$=/^\s+/,z$=/\s+$/;function ue(e,t){if(e=e||"",t=t||{},e instanceof ue)return e;if(!(this instanceof ue))return new ue(e,t);var n=U$(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}ue.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3},getLuminance:function(){var t=this.toRgb(),n,r,i,s,o,a;return n=t.r/255,r=t.g/255,i=t.b/255,n<=.03928?s=n/12.92:s=Math.pow((n+.055)/1.055,2.4),r<=.03928?o=r/12.92:o=Math.pow((r+.055)/1.055,2.4),i<=.03928?a=i/12.92:a=Math.pow((i+.055)/1.055,2.4),.2126*s+.7152*o+.0722*a},setAlpha:function(t){return this._a=jM(t),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var t=p2(this._r,this._g,this._b);return{h:t.h*360,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=p2(this._r,this._g,this._b),n=Math.round(t.h*360),r=Math.round(t.s*100),i=Math.round(t.v*100);return this._a==1?"hsv("+n+", "+r+"%, "+i+"%)":"hsva("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var t=h2(this._r,this._g,this._b);return{h:t.h*360,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=h2(this._r,this._g,this._b),n=Math.round(t.h*360),r=Math.round(t.s*100),i=Math.round(t.l*100);return this._a==1?"hsl("+n+", "+r+"%, "+i+"%)":"hsla("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHex:function(t){return g2(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return W$(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(Xt(this._r,255)*100)+"%",g:Math.round(Xt(this._g,255)*100)+"%",b:Math.round(Xt(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(Xt(this._r,255)*100)+"%, "+Math.round(Xt(this._g,255)*100)+"%, "+Math.round(Xt(this._b,255)*100)+"%)":"rgba("+Math.round(Xt(this._r,255)*100)+"%, "+Math.round(Xt(this._g,255)*100)+"%, "+Math.round(Xt(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:sF[g2(this._r,this._g,this._b,!0)]||!1},toFilter:function(t){var n="#"+m2(this._r,this._g,this._b,this._a),r=n,i=this._gradientType?"GradientType = 1, ":"";if(t){var s=ue(t);r="#"+m2(s._r,s._g,s._b,s._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+n+",endColorstr="+r+")"},toString:function(t){var n=!!t;t=t||this._format;var r=!1,i=this._a<1&&this._a>=0,s=!n&&i&&(t==="hex"||t==="hex6"||t==="hex3"||t==="hex4"||t==="hex8"||t==="name");return s?t==="name"&&this._a===0?this.toName():this.toRgbString():(t==="rgb"&&(r=this.toRgbString()),t==="prgb"&&(r=this.toPercentageRgbString()),(t==="hex"||t==="hex6")&&(r=this.toHexString()),t==="hex3"&&(r=this.toHexString(!0)),t==="hex4"&&(r=this.toHex8String(!0)),t==="hex8"&&(r=this.toHex8String()),t==="name"&&(r=this.toName()),t==="hsl"&&(r=this.toHslString()),t==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return ue(this.toString())},_applyModification:function(t,n){var r=t.apply(null,[this].concat([].slice.call(n)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(J$,arguments)},brighten:function(){return this._applyModification(X$,arguments)},darken:function(){return this._applyModification(Z$,arguments)},desaturate:function(){return this._applyModification(K$,arguments)},saturate:function(){return this._applyModification(Y$,arguments)},greyscale:function(){return this._applyModification(Q$,arguments)},spin:function(){return this._applyModification(eF,arguments)},_applyCombination:function(t,n){return t.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination(rF,arguments)},complement:function(){return this._applyCombination(tF,arguments)},monochromatic:function(){return this._applyCombination(iF,arguments)},splitcomplement:function(){return this._applyCombination(nF,arguments)},triad:function(){return this._applyCombination(v2,[3])},tetrad:function(){return this._applyCombination(v2,[4])}};ue.fromRatio=function(e,t){if(Cg(e)=="object"){var n={};for(var r in e)e.hasOwnProperty(r)&&(r==="a"?n[r]=e[r]:n[r]=md(e[r]));e=n}return ue(e,t)};function U$(e){var t={r:0,g:0,b:0},n=1,r=null,i=null,s=null,o=!1,a=!1;return typeof e=="string"&&(e=cF(e)),Cg(e)=="object"&&(oo(e.r)&&oo(e.g)&&oo(e.b)?(t=H$(e.r,e.g,e.b),o=!0,a=String(e.r).substr(-1)==="%"?"prgb":"rgb"):oo(e.h)&&oo(e.s)&&oo(e.v)?(r=md(e.s),i=md(e.v),t=q$(e.h,r,i),o=!0,a="hsv"):oo(e.h)&&oo(e.s)&&oo(e.l)&&(r=md(e.s),s=md(e.l),t=G$(e.h,r,s),o=!0,a="hsl"),e.hasOwnProperty("a")&&(n=e.a)),n=jM(n),{ok:o,format:e.format||a,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}function H$(e,t,n){return{r:Xt(e,255)*255,g:Xt(t,255)*255,b:Xt(n,255)*255}}function h2(e,t,n){e=Xt(e,255),t=Xt(t,255),n=Xt(n,255);var r=Math.max(e,t,n),i=Math.min(e,t,n),s,o,a=(r+i)/2;if(r==i)s=o=0;else{var l=r-i;switch(o=a>.5?l/(2-r-i):l/(r+i),r){case e:s=(t-n)/l+(t<n?6:0);break;case t:s=(n-e)/l+2;break;case n:s=(e-t)/l+4;break}s/=6}return{h:s,s:o,l:a}}function G$(e,t,n){var r,i,s;e=Xt(e,360),t=Xt(t,100),n=Xt(n,100);function o(c,u,d){return d<0&&(d+=1),d>1&&(d-=1),d<1/6?c+(u-c)*6*d:d<1/2?u:d<2/3?c+(u-c)*(2/3-d)*6:c}if(t===0)r=i=s=n;else{var a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;r=o(l,a,e+1/3),i=o(l,a,e),s=o(l,a,e-1/3)}return{r:r*255,g:i*255,b:s*255}}function p2(e,t,n){e=Xt(e,255),t=Xt(t,255),n=Xt(n,255);var r=Math.max(e,t,n),i=Math.min(e,t,n),s,o,a=r,l=r-i;if(o=r===0?0:l/r,r==i)s=0;else{switch(r){case e:s=(t-n)/l+(t<n?6:0);break;case t:s=(n-e)/l+2;break;case n:s=(e-t)/l+4;break}s/=6}return{h:s,s:o,v:a}}function q$(e,t,n){e=Xt(e,360)*6,t=Xt(t,100),n=Xt(n,100);var r=Math.floor(e),i=e-r,s=n*(1-t),o=n*(1-i*t),a=n*(1-(1-i)*t),l=r%6,c=[n,o,s,s,a,n][l],u=[a,n,n,o,s,s][l],d=[s,s,a,n,n,o][l];return{r:c*255,g:u*255,b:d*255}}function g2(e,t,n,r){var i=[gs(Math.round(e).toString(16)),gs(Math.round(t).toString(16)),gs(Math.round(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function W$(e,t,n,r,i){var s=[gs(Math.round(e).toString(16)),gs(Math.round(t).toString(16)),gs(Math.round(n).toString(16)),gs(OM(r))];return i&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)&&s[3].charAt(0)==s[3].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}function m2(e,t,n,r){var i=[gs(OM(r)),gs(Math.round(e).toString(16)),gs(Math.round(t).toString(16)),gs(Math.round(n).toString(16))];return i.join("")}ue.equals=function(e,t){return!e||!t?!1:ue(e).toRgbString()==ue(t).toRgbString()};ue.random=function(){return ue.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function K$(e,t){t=t===0?0:t||10;var n=ue(e).toHsl();return n.s-=t/100,n.s=Nm(n.s),ue(n)}function Y$(e,t){t=t===0?0:t||10;var n=ue(e).toHsl();return n.s+=t/100,n.s=Nm(n.s),ue(n)}function Q$(e){return ue(e).desaturate(100)}function J$(e,t){t=t===0?0:t||10;var n=ue(e).toHsl();return n.l+=t/100,n.l=Nm(n.l),ue(n)}function X$(e,t){t=t===0?0:t||10;var n=ue(e).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(t/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(t/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(t/100)))),ue(n)}function Z$(e,t){t=t===0?0:t||10;var n=ue(e).toHsl();return n.l-=t/100,n.l=Nm(n.l),ue(n)}function eF(e,t){var n=ue(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,ue(n)}function tF(e){var t=ue(e).toHsl();return t.h=(t.h+180)%360,ue(t)}function v2(e,t){if(isNaN(t)||t<=0)throw new Error("Argument to polyad must be a positive number");for(var n=ue(e).toHsl(),r=[ue(e)],i=360/t,s=1;s<t;s++)r.push(ue({h:(n.h+s*i)%360,s:n.s,l:n.l}));return r}function nF(e){var t=ue(e).toHsl(),n=t.h;return[ue(e),ue({h:(n+72)%360,s:t.s,l:t.l}),ue({h:(n+216)%360,s:t.s,l:t.l})]}function rF(e,t,n){t=t||6,n=n||30;var r=ue(e).toHsl(),i=360/n,s=[ue(e)];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,s.push(ue(r));return s}function iF(e,t){t=t||6;for(var n=ue(e).toHsv(),r=n.h,i=n.s,s=n.v,o=[],a=1/t;t--;)o.push(ue({h:r,s:i,v:s})),s=(s+a)%1;return o}ue.mix=function(e,t,n){n=n===0?0:n||50;var r=ue(e).toRgb(),i=ue(t).toRgb(),s=n/100,o={r:(i.r-r.r)*s+r.r,g:(i.g-r.g)*s+r.g,b:(i.b-r.b)*s+r.b,a:(i.a-r.a)*s+r.a};return ue(o)};ue.readability=function(e,t){var n=ue(e),r=ue(t);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)};ue.isReadable=function(e,t,n){var r=ue.readability(e,t),i,s;switch(s=!1,i=uF(n),i.level+i.size){case"AAsmall":case"AAAlarge":s=r>=4.5;break;case"AAlarge":s=r>=3;break;case"AAAsmall":s=r>=7;break}return s};ue.mostReadable=function(e,t,n){var r=null,i=0,s,o,a,l;n=n||{},o=n.includeFallbackColors,a=n.level,l=n.size;for(var c=0;c<t.length;c++)s=ue.readability(e,t[c]),s>i&&(i=s,r=ue(t[c]));return ue.isReadable(e,r,{level:a,size:l})||!o?r:(n.includeFallbackColors=!1,ue.mostReadable(e,["#fff","#000"],n))};var UA=ue.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},sF=ue.hexNames=oF(UA);function oF(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function jM(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function Xt(e,t){aF(e)&&(e="100%");var n=lF(e);return e=Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function Nm(e){return Math.min(1,Math.max(0,e))}function ii(e){return parseInt(e,16)}function aF(e){return typeof e=="string"&&e.indexOf(".")!=-1&&parseFloat(e)===1}function lF(e){return typeof e=="string"&&e.indexOf("%")!=-1}function gs(e){return e.length==1?"0"+e:""+e}function md(e){return e<=1&&(e=e*100+"%"),e}function OM(e){return Math.round(parseFloat(e)*255).toString(16)}function y2(e){return ii(e)/255}var os=function(){var e="[-\\+]?\\d+%?",t="[-\\+]?\\d*\\.\\d+%?",n="(?:"+t+")|(?:"+e+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function oo(e){return!!os.CSS_UNIT.exec(e)}function cF(e){e=e.replace(F$,"").replace(z$,"").toLowerCase();var t=!1;if(UA[e])e=UA[e],t=!0;else if(e=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=os.rgb.exec(e))?{r:n[1],g:n[2],b:n[3]}:(n=os.rgba.exec(e))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=os.hsl.exec(e))?{h:n[1],s:n[2],l:n[3]}:(n=os.hsla.exec(e))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=os.hsv.exec(e))?{h:n[1],s:n[2],v:n[3]}:(n=os.hsva.exec(e))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=os.hex8.exec(e))?{r:ii(n[1]),g:ii(n[2]),b:ii(n[3]),a:y2(n[4]),format:t?"name":"hex8"}:(n=os.hex6.exec(e))?{r:ii(n[1]),g:ii(n[2]),b:ii(n[3]),format:t?"name":"hex"}:(n=os.hex4.exec(e))?{r:ii(n[1]+""+n[1]),g:ii(n[2]+""+n[2]),b:ii(n[3]+""+n[3]),a:y2(n[4]+""+n[4]),format:t?"name":"hex8"}:(n=os.hex3.exec(e))?{r:ii(n[1]+""+n[1]),g:ii(n[2]+""+n[2]),b:ii(n[3]+""+n[3]),format:t?"name":"hex"}:!1}function uF(e){var t,n;return e=e||{level:"AA",size:"small"},t=(e.level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),t!=="AA"&&t!=="AAA"&&(t="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:t,size:n}}const dF=ue("rgb(52, 166, 95)"),fF=ue("rgb(15, 138, 95)"),hF=ue("rgb(245, 98, 77)"),pF=ue("rgb(204, 35, 30)"),VM=ue("rgb(245, 220, 21)"),gF=ue(VM.toRgbString()).darken(15),LM=ue("rgb(255, 70, 223)"),mF=ue(LM.toRgbString()).darken(15),NM=ue("rgb(255, 119, 20)"),vF=ue(NM.toRgbString()).darken(15),BM=ue("rgb(31, 192, 223)"),yF=ue(BM.toRgbString()).darken(15),DM=ue("rgb(102, 44, 182)"),AF=ue(DM.toRgbString()).darken(15),_F=ue("rgb(0, 153, 255)"),bF=ue("rgb(0, 77, 128)"),SF=ue("rgb(255, 54, 54)"),xF=ue("rgb(117, 25, 25)"),wF=ue("rgb(255, 213, 0)"),$p=ue("rgb(255, 183, 0)"),Ci=(e,t)=>e.setAlpha(t).toRgbString(),is=(e,t)=>({text:Ci(e,1),stroke:Ci(t,1),star:{fill:Ci($p,.5),stroke:Ci($p,0),lineWidth:1},perfect:{fill:Ci(e,1),stroke:"white",lineWidth:1},starPerfect:{fill:Ci(wF,1),stroke:Ci($p,1),lineWidth:2},hit:{fill:Ci(e,.9),stroke:Ci(t,0),lineWidth:1},miss:{fill:Ci(e,.25),stroke:Ci(t,1),lineWidth:1}}),Ie={blue:is(_F,bF),red:is(SF,xF),green:is(ue("rgb(0,183,0)"),ue("rgb(0,84,0)")),yellow:is(ue("rgb(239,209,0)"),ue("rgb(114,84,0)")),christmasGreen:is(dF,fF),christmasRed:is(hF,pF),eurovisionYellow:is(VM,gF),eurovisionPink:is(LM,mF),eurovisionOrange:is(NM,vF),eurovisionBlue:is(BM,yF),eurovisionViolet:is(DM,AF)};let Os=[Ie.blue,Ie.red,Ie.green,Ie.yellow];const de={colors:{players:Os,lines:{normal:{fill:"rgba(127, 127, 127, .7)",stroke:"black",lineWidth:1},star:{fill:"rgba(158, 144, 106, 1)",stroke:Ci($p,1),lineWidth:1},freestyle:{fill:"rgba(255, 255, 255, 0.1)",stroke:"black",lineWidth:2}},text:{active:"rgb(255, 165, 0)",default:"white",inactive:"grey"}}},$M=e=>{e==="christmas"&&Os[0]!==Ie.christmasGreen?(Os=[Ie.christmasGreen,Ie.christmasRed],de.colors.players=Os):e==="eurovision"&&Os[0]!==Ie.eurovisionYellow?(Os=[Ie.eurovisionBlue,Ie.eurovisionViolet,Ie.eurovisionYellow,Ie.eurovisionPink],de.colors.players=Os):e==="regular"&&Os[0]!==Ie.blue&&(Os=[Ie.blue,Ie.red,Ie.green,Ie.yellow],de.colors.players=Os)};function Tc(e,t,n){e==null||e.send({t,...n})}var HA;try{HA=new TextDecoder}catch{}var me,Di,K=0,Bt={},lt,Zo,Ii=0,Fs=0,Xn,yo,Jr=[],it,A2={useRecords:!1,mapsAsObjects:!0};class FM{}const zM=new FM;zM.name="MessagePack 0xC1";var oa=!1,UM=2,_2;try{new Function("")}catch{UM=1/0}class af{constructor(t){t&&(t.useRecords===!1&&t.mapsAsObjects===void 0&&(t.mapsAsObjects=!0),t.sequential&&t.trusted!==!1&&(t.trusted=!0,!t.structures&&t.useRecords!=!1&&(t.structures=[],t.maxSharedStructures||(t.maxSharedStructures=0))),t.structures?t.structures.sharedLength=t.structures.length:t.getStructures&&((t.structures=[]).uninitialized=!0,t.structures.sharedLength=0),t.int64AsNumber&&(t.int64AsType="number")),Object.assign(this,t)}unpack(t,n){if(me)return YM(()=>(qA(),this?this.unpack(t,n):af.prototype.unpack.call(A2,t,n)));!t.buffer&&t.constructor===ArrayBuffer&&(t=typeof Buffer<"u"?Buffer.from(t):new Uint8Array(t)),typeof n=="object"?(Di=n.end||t.length,K=n.start||0):(K=0,Di=n>-1?n:t.length),Fs=0,Zo=null,Xn=null,me=t;try{it=t.dataView||(t.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength))}catch(r){throw me=null,t instanceof Uint8Array?r:new Error("Source must be a Uint8Array or Buffer but was a "+(t&&typeof t=="object"?t.constructor.name:typeof t))}if(this instanceof af){if(Bt=this,this.structures)return lt=this.structures,$h(n);(!lt||lt.length>0)&&(lt=[])}else Bt=A2,(!lt||lt.length>0)&&(lt=[]);return $h(n)}unpackMultiple(t,n){let r,i=0;try{oa=!0;let s=t.length,o=this?this.unpack(t,s):Bm.unpack(t,s);if(n){if(n(o,i,K)===!1)return;for(;K<s;)if(i=K,n($h(),i,K)===!1)return}else{for(r=[o];K<s;)i=K,r.push($h());return r}}catch(s){throw s.lastPosition=i,s.values=r,s}finally{oa=!1,qA()}}_mergeStructures(t,n){t=t||[],Object.isFrozen(t)&&(t=t.map(r=>r.slice(0)));for(let r=0,i=t.length;r<i;r++){let s=t[r];s&&(s.isShared=!0,r>=32&&(s.highByte=r-32>>5))}t.sharedLength=t.length;for(let r in n||[])if(r>=0){let i=t[r],s=n[r];s&&(i&&((t.restoreStructures||(t.restoreStructures=[]))[r]=i),t[r]=s)}return this.structures=t}decode(t,n){return this.unpack(t,n)}}function $h(e){try{if(!Bt.trusted&&!oa){let n=lt.sharedLength||0;n<lt.length&&(lt.length=n)}let t;if(Bt.randomAccessStructure&&me[K]<64&&me[K]>=32&&_2?(t=_2(me,K,Di,Bt),me=null,!(e&&e.lazy)&&t&&(t=t.toJSON()),K=Di):t=xn(),Xn&&(K=Xn.postBundlePosition,Xn=null),oa&&(lt.restoreStructures=null),K==Di)lt&&lt.restoreStructures&&b2(),lt=null,me=null,yo&&(yo=null);else{if(K>Di)throw new Error("Unexpected end of MessagePack data");if(!oa){let n;try{n=JSON.stringify(t,(r,i)=>typeof i=="bigint"?`${i}n`:i).slice(0,100)}catch(r){n="(JSON view not available "+r+")"}throw new Error("Data read, but end of buffer not reached "+n)}}return t}catch(t){throw lt&&lt.restoreStructures&&b2(),qA(),(t instanceof RangeError||t.message.startsWith("Unexpected end of buffer")||K>Di)&&(t.incomplete=!0),t}}function b2(){for(let e in lt.restoreStructures)lt[e]=lt.restoreStructures[e];lt.restoreStructures=null}function xn(){let e=me[K++];if(e<160)if(e<128){if(e<64)return e;{let t=lt[e&63]||Bt.getStructures&&HM()[e&63];return t?(t.read||(t.read=Bb(t,e&63)),t.read()):e}}else if(e<144)if(e-=128,Bt.mapsAsObjects){let t={};for(let n=0;n<e;n++){let r=qM();r==="__proto__"&&(r="__proto_"),t[r]=xn()}return t}else{let t=new Map;for(let n=0;n<e;n++)t.set(xn(),xn());return t}else{e-=144;let t=new Array(e);for(let n=0;n<e;n++)t[n]=xn();return Bt.freezeData?Object.freeze(t):t}else if(e<192){let t=e-160;if(Fs>=K)return Zo.slice(K-Ii,(K+=t)-Ii);if(Fs==0&&Di<140){let n=t<16?Db(t):GM(t);if(n!=null)return n}return GA(t)}else{let t;switch(e){case 192:return null;case 193:return Xn?(t=xn(),t>0?Xn[1].slice(Xn.position1,Xn.position1+=t):Xn[0].slice(Xn.position0,Xn.position0-=t)):zM;case 194:return!1;case 195:return!0;case 196:if(t=me[K++],t===void 0)throw new Error("Unexpected end of buffer");return Hv(t);case 197:return t=it.getUint16(K),K+=2,Hv(t);case 198:return t=it.getUint32(K),K+=4,Hv(t);case 199:return La(me[K++]);case 200:return t=it.getUint16(K),K+=2,La(t);case 201:return t=it.getUint32(K),K+=4,La(t);case 202:if(t=it.getFloat32(K),Bt.useFloat32>2){let n=$b[(me[K]&127)<<1|me[K+1]>>7];return K+=4,(n*t+(t>0?.5:-.5)>>0)/n}return K+=4,t;case 203:return t=it.getFloat64(K),K+=8,t;case 204:return me[K++];case 205:return t=it.getUint16(K),K+=2,t;case 206:return t=it.getUint32(K),K+=4,t;case 207:return Bt.int64AsType==="number"?(t=it.getUint32(K)*4294967296,t+=it.getUint32(K+4)):Bt.int64AsType==="string"?t=it.getBigUint64(K).toString():Bt.int64AsType==="auto"?(t=it.getBigUint64(K),t<=BigInt(2)<<BigInt(52)&&(t=Number(t))):t=it.getBigUint64(K),K+=8,t;case 208:return it.getInt8(K++);case 209:return t=it.getInt16(K),K+=2,t;case 210:return t=it.getInt32(K),K+=4,t;case 211:return Bt.int64AsType==="number"?(t=it.getInt32(K)*4294967296,t+=it.getUint32(K+4)):Bt.int64AsType==="string"?t=it.getBigInt64(K).toString():Bt.int64AsType==="auto"?(t=it.getBigInt64(K),t>=BigInt(-2)<<BigInt(52)&&t<=BigInt(2)<<BigInt(52)&&(t=Number(t))):t=it.getBigInt64(K),K+=8,t;case 212:if(t=me[K++],t==114)return C2(me[K++]&63);{let n=Jr[t];if(n)return n.read?(K++,n.read(xn())):n.noBuffer?(K++,n()):n(me.subarray(K,++K));throw new Error("Unknown extension "+t)}case 213:return t=me[K],t==114?(K++,C2(me[K++]&63,me[K++])):La(2);case 214:return La(4);case 215:return La(8);case 216:return La(16);case 217:return t=me[K++],Fs>=K?Zo.slice(K-Ii,(K+=t)-Ii):kF(t);case 218:return t=it.getUint16(K),K+=2,Fs>=K?Zo.slice(K-Ii,(K+=t)-Ii):CF(t);case 219:return t=it.getUint32(K),K+=4,Fs>=K?Zo.slice(K-Ii,(K+=t)-Ii):TF(t);case 220:return t=it.getUint16(K),K+=2,x2(t);case 221:return t=it.getUint32(K),K+=4,x2(t);case 222:return t=it.getUint16(K),K+=2,w2(t);case 223:return t=it.getUint32(K),K+=4,w2(t);default:if(e>=224)return e-256;if(e===void 0){let n=new Error("Unexpected end of MessagePack data");throw n.incomplete=!0,n}throw new Error("Unknown MessagePack token "+e)}}}const EF=/^[a-zA-Z_$][a-zA-Z\d_$]*$/;function Bb(e,t){function n(){if(n.count++>UM){let i=e.read=new Function("r","return function(){return "+(Bt.freezeData?"Object.freeze":"")+"({"+e.map(s=>s==="__proto__"?"__proto_:r()":EF.test(s)?s+":r()":"["+JSON.stringify(s)+"]:r()").join(",")+"})}")(xn);return e.highByte===0&&(e.read=S2(t,e.read)),i()}let r={};for(let i=0,s=e.length;i<s;i++){let o=e[i];o==="__proto__"&&(o="__proto_"),r[o]=xn()}return Bt.freezeData?Object.freeze(r):r}return n.count=0,e.highByte===0?S2(t,n):n}const S2=(e,t)=>function(){let n=me[K++];if(n===0)return t();let r=e<32?-(e+(n<<5)):e+(n<<5),i=lt[r]||HM()[r];if(!i)throw new Error("Record id is not defined for "+r);return i.read||(i.read=Bb(i,e)),i.read()};function HM(){let e=YM(()=>(me=null,Bt.getStructures()));return lt=Bt._mergeStructures(e,lt)}var GA=Xf,kF=Xf,CF=Xf,TF=Xf;function Xf(e){let t;if(e<16&&(t=Db(e)))return t;if(e>64&&HA)return HA.decode(me.subarray(K,K+=e));const n=K+e,r=[];for(t="";K<n;){const i=me[K++];if(!(i&128))r.push(i);else if((i&224)===192){const s=me[K++]&63;r.push((i&31)<<6|s)}else if((i&240)===224){const s=me[K++]&63,o=me[K++]&63;r.push((i&31)<<12|s<<6|o)}else if((i&248)===240){const s=me[K++]&63,o=me[K++]&63,a=me[K++]&63;let l=(i&7)<<18|s<<12|o<<6|a;l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|l&1023),r.push(l)}else r.push(i);r.length>=4096&&(t+=Gn.apply(String,r),r.length=0)}return r.length>0&&(t+=Gn.apply(String,r)),t}function x2(e){let t=new Array(e);for(let n=0;n<e;n++)t[n]=xn();return Bt.freezeData?Object.freeze(t):t}function w2(e){if(Bt.mapsAsObjects){let t={};for(let n=0;n<e;n++){let r=qM();r==="__proto__"&&(r="__proto_"),t[r]=xn()}return t}else{let t=new Map;for(let n=0;n<e;n++)t.set(xn(),xn());return t}}var Gn=String.fromCharCode;function GM(e){let t=K,n=new Array(e);for(let r=0;r<e;r++){const i=me[K++];if((i&128)>0){K=t;return}n[r]=i}return Gn.apply(String,n)}function Db(e){if(e<4)if(e<2){if(e===0)return"";{let t=me[K++];if((t&128)>1){K-=1;return}return Gn(t)}}else{let t=me[K++],n=me[K++];if((t&128)>0||(n&128)>0){K-=2;return}if(e<3)return Gn(t,n);let r=me[K++];if((r&128)>0){K-=3;return}return Gn(t,n,r)}else{let t=me[K++],n=me[K++],r=me[K++],i=me[K++];if((t&128)>0||(n&128)>0||(r&128)>0||(i&128)>0){K-=4;return}if(e<6){if(e===4)return Gn(t,n,r,i);{let s=me[K++];if((s&128)>0){K-=5;return}return Gn(t,n,r,i,s)}}else if(e<8){let s=me[K++],o=me[K++];if((s&128)>0||(o&128)>0){K-=6;return}if(e<7)return Gn(t,n,r,i,s,o);let a=me[K++];if((a&128)>0){K-=7;return}return Gn(t,n,r,i,s,o,a)}else{let s=me[K++],o=me[K++],a=me[K++],l=me[K++];if((s&128)>0||(o&128)>0||(a&128)>0||(l&128)>0){K-=8;return}if(e<10){if(e===8)return Gn(t,n,r,i,s,o,a,l);{let c=me[K++];if((c&128)>0){K-=9;return}return Gn(t,n,r,i,s,o,a,l,c)}}else if(e<12){let c=me[K++],u=me[K++];if((c&128)>0||(u&128)>0){K-=10;return}if(e<11)return Gn(t,n,r,i,s,o,a,l,c,u);let d=me[K++];if((d&128)>0){K-=11;return}return Gn(t,n,r,i,s,o,a,l,c,u,d)}else{let c=me[K++],u=me[K++],d=me[K++],h=me[K++];if((c&128)>0||(u&128)>0||(d&128)>0||(h&128)>0){K-=12;return}if(e<14){if(e===12)return Gn(t,n,r,i,s,o,a,l,c,u,d,h);{let p=me[K++];if((p&128)>0){K-=13;return}return Gn(t,n,r,i,s,o,a,l,c,u,d,h,p)}}else{let p=me[K++],g=me[K++];if((p&128)>0||(g&128)>0){K-=14;return}if(e<15)return Gn(t,n,r,i,s,o,a,l,c,u,d,h,p,g);let m=me[K++];if((m&128)>0){K-=15;return}return Gn(t,n,r,i,s,o,a,l,c,u,d,h,p,g,m)}}}}}function E2(){let e=me[K++],t;if(e<192)t=e-160;else switch(e){case 217:t=me[K++];break;case 218:t=it.getUint16(K),K+=2;break;case 219:t=it.getUint32(K),K+=4;break;default:throw new Error("Expected string")}return Xf(t)}function Hv(e){return Bt.copyBuffers?Uint8Array.prototype.slice.call(me,K,K+=e):me.subarray(K,K+=e)}function La(e){let t=me[K++];if(Jr[t]){let n;return Jr[t](me.subarray(K,n=K+=e),r=>{K=r;try{return xn()}finally{K=n}})}else throw new Error("Unknown extension type "+t)}var k2=new Array(4096);function qM(){let e=me[K++];if(e>=160&&e<192){if(e=e-160,Fs>=K)return Zo.slice(K-Ii,(K+=e)-Ii);if(!(Fs==0&&Di<180))return GA(e)}else return K--,WM(xn());let t=(e<<5^(e>1?it.getUint16(K):e>0?me[K]:0))&4095,n=k2[t],r=K,i=K+e-3,s,o=0;if(n&&n.bytes==e){for(;r<i;){if(s=it.getUint32(r),s!=n[o++]){r=1879048192;break}r+=4}for(i+=3;r<i;)if(s=me[r++],s!=n[o++]){r=1879048192;break}if(r===i)return K=r,n.string;i-=3,r=K}for(n=[],k2[t]=n,n.bytes=e;r<i;)s=it.getUint32(r),n.push(s),r+=4;for(i+=3;r<i;)s=me[r++],n.push(s);let a=e<16?Db(e):GM(e);return a!=null?n.string=a:n.string=GA(e)}function WM(e){if(typeof e=="string")return e;if(typeof e=="number")return e.toString();throw new Error("Invalid property type for record",typeof e)}const C2=(e,t)=>{let n=xn().map(WM),r=e;t!==void 0&&(e=e<32?-((t<<5)+e):(t<<5)+e,n.highByte=t);let i=lt[e];return i&&(i.isShared||oa)&&((lt.restoreStructures||(lt.restoreStructures=[]))[e]=i),lt[e]=n,n.read=Bb(n,r),n.read()};Jr[0]=()=>{};Jr[0].noBuffer=!0;Jr[66]=e=>{let t=e.length,n=BigInt(e[0]&128?e[0]-256:e[0]);for(let r=1;r<t;r++)n<<=8n,n+=BigInt(e[r]);return n};let IF={Error,TypeError,ReferenceError};Jr[101]=()=>{let e=xn();return(IF[e[0]]||Error)(e[1])};Jr[105]=e=>{if(Bt.structuredClone===!1)throw new Error("Structured clone extension is disabled");let t=it.getUint32(K-4);yo||(yo=new Map);let n=me[K],r;n>=144&&n<160||n==220||n==221?r=[]:r={};let i={target:r};yo.set(t,i);let s=xn();return i.used?Object.assign(r,s):(i.target=s,s)};Jr[112]=e=>{if(Bt.structuredClone===!1)throw new Error("Structured clone extension is disabled");let t=it.getUint32(K-4),n=yo.get(t);return n.used=!0,n.target};Jr[115]=()=>new Set(xn());const KM=["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64","BigInt64","BigUint64"].map(e=>e+"Array");let PF=typeof globalThis=="object"?globalThis:window;Jr[116]=e=>{let t=e[0],n=KM[t];if(!n)throw new Error("Could not find typed array for code "+t);return new PF[n](Uint8Array.prototype.slice.call(e,1).buffer)};Jr[120]=()=>{let e=xn();return new RegExp(e[0],e[1])};const RF=[];Jr[98]=e=>{let t=(e[0]<<24)+(e[1]<<16)+(e[2]<<8)+e[3],n=K;return K+=t-e.length,Xn=RF,Xn=[E2(),E2()],Xn.position0=0,Xn.position1=0,Xn.postBundlePosition=K,K=n,xn()};Jr[255]=e=>e.length==4?new Date((e[0]*16777216+(e[1]<<16)+(e[2]<<8)+e[3])*1e3):e.length==8?new Date(((e[0]<<22)+(e[1]<<14)+(e[2]<<6)+(e[3]>>2))/1e6+((e[3]&3)*4294967296+e[4]*16777216+(e[5]<<16)+(e[6]<<8)+e[7])*1e3):e.length==12?new Date(((e[0]<<24)+(e[1]<<16)+(e[2]<<8)+e[3])/1e6+((e[4]&128?-281474976710656:0)+e[6]*1099511627776+e[7]*4294967296+e[8]*16777216+(e[9]<<16)+(e[10]<<8)+e[11])*1e3):new Date("invalid");function YM(e){let t=Di,n=K,r=Ii,i=Fs,s=Zo,o=yo,a=Xn,l=new Uint8Array(me.slice(0,Di)),c=lt,u=lt.slice(0,lt.length),d=Bt,h=oa,p=e();return Di=t,K=n,Ii=r,Fs=i,Zo=s,yo=o,Xn=a,me=l,oa=h,lt=c,lt.splice(0,lt.length,...u),Bt=d,it=new DataView(me.buffer,me.byteOffset,me.byteLength),p}function qA(){me=null,yo=null,lt=null}const $b=new Array(147);for(let e=0;e<256;e++)$b[e]=+("1e"+Math.floor(45.15-e*.30103));var Bm=new af({useRecords:!1});const MF=Bm.unpack;Bm.unpackMultiple;Bm.unpack;let jF=new Float32Array(1);new Uint8Array(jF.buffer,0,4);let Fp;try{Fp=new TextEncoder}catch{}let WA,QM;const Dm=typeof Buffer<"u",Fh=Dm?function(e){return Buffer.allocUnsafeSlow(e)}:Uint8Array,JM=Dm?Buffer:Uint8Array,T2=Dm?4294967296:2144337920;let J,Gu,Pt,Y=0,Cr,nn=null,OF;const VF=21760,LF=/[\u0080-\uFFFF]/,Wl=Symbol("record-id");class NF extends af{constructor(t){super(t),this.offset=0;let n,r,i,s,o=JM.prototype.utf8Write?function(M,V){return J.utf8Write(M,V,4294967295)}:Fp&&Fp.encodeInto?function(M,V){return Fp.encodeInto(M,J.subarray(V)).written}:!1,a=this;t||(t={});let l=t&&t.sequential,c=t.structures||t.saveStructures,u=t.maxSharedStructures;if(u==null&&(u=c?32:0),u>8160)throw new Error("Maximum maxSharedStructure is 8160");t.structuredClone&&t.moreTypes==null&&(this.moreTypes=!0);let d=t.maxOwnStructures;d==null&&(d=c?32:64),!this.structures&&t.useRecords!=!1&&(this.structures=[]);let h=u>32||d+u>64,p=u+64,g=u+d+64;if(g>8256)throw new Error("Maximum maxSharedStructure + maxOwnStructure is 8192");let m=[],_=0,v=0;this.pack=this.encode=function(M,V){if(J||(J=new Fh(8192),Pt=J.dataView||(J.dataView=new DataView(J.buffer,0,8192)),Y=0),Cr=J.length-10,Cr-Y<2048?(J=new Fh(J.length),Pt=J.dataView||(J.dataView=new DataView(J.buffer,0,J.length)),Cr=J.length-10,Y=0):Y=Y+7&2147483640,n=Y,V&UF&&(Y+=V&255),s=a.structuredClone?new Map:null,a.bundleStrings&&typeof M!="string"?(nn=[],nn.size=1/0):nn=null,i=a.structures,i){i.uninitialized&&(i=a._mergeStructures(a.getStructures()));let I=i.sharedLength||0;if(I>u)throw new Error("Shared structures is larger than maximum shared structures, try increasing maxSharedStructures to "+i.sharedLength);if(!i.transitions){i.transitions=Object.create(null);for(let $=0;$<I;$++){let O=i[$];if(!O)continue;let z,N=i.transitions;for(let G=0,U=O.length;G<U;G++){let ne=O[G];z=N[ne],z||(z=N[ne]=Object.create(null)),N=z}N[Wl]=$+64}this.lastNamedStructuresLength=I}l||(i.nextId=I+64)}r&&(r=!1);let P;try{a.randomAccessStructure&&M&&M.constructor&&M.constructor===Object?q(M):x(M);let I=nn;if(nn&&R2(n,x,0),s&&s.idsToInsert){let $=s.idsToInsert.sort((G,U)=>G.offset>U.offset?1:-1),O=$.length,z=-1;for(;I&&O>0;){let G=$[--O].offset+n;G<I.stringsPosition+n&&z===-1&&(z=0),G>I.position+n?z>=0&&(z+=6):(z>=0&&(Pt.setUint32(I.position+n,Pt.getUint32(I.position+n)+z),z=-1),I=I.previous,O++)}z>=0&&I&&Pt.setUint32(I.position+n,Pt.getUint32(I.position+n)+z),Y+=$.length*6,Y>Cr&&j(Y),a.offset=Y;let N=DF(J.subarray(n,Y),$);return s=null,N}return a.offset=Y,V&FF?(J.start=n,J.end=Y,J):J.subarray(n,Y)}catch(I){throw P=I,I}finally{if(i&&(A(),r&&a.saveStructures)){let I=i.sharedLength||0,$=J.subarray(n,Y),O=$F(i,a);if(!P)return a.saveStructures(O,O.isCompatible)===!1?a.pack(M,V):(a.lastNamedStructuresLength=I,$)}V&zF&&(Y=n)}};const A=()=>{v<10&&v++;let M=i.sharedLength||0;if(i.length>M&&!l&&(i.length=M),_>1e4)i.transitions=null,v=0,_=0,m.length>0&&(m=[]);else if(m.length>0&&!l){for(let V=0,P=m.length;V<P;V++)m[V][Wl]=0;m=[]}},S=M=>{var V=M.length;V<16?J[Y++]=144|V:V<65536?(J[Y++]=220,J[Y++]=V>>8,J[Y++]=V&255):(J[Y++]=221,Pt.setUint32(Y,V),Y+=4);for(let P=0;P<V;P++)x(M[P])},x=M=>{Y>Cr&&(J=j(Y));var V=typeof M,P;if(V==="string"){let I=M.length;if(nn&&I>=4&&I<4096){if((nn.size+=I)>VF){let N,G=(nn[0]?nn[0].length*3+nn[1].length:0)+10;Y+G>Cr&&(J=j(Y+G));let U;nn.position?(U=nn,J[Y]=200,Y+=3,J[Y++]=98,N=Y-n,Y+=4,R2(n,x,0),Pt.setUint16(N+n-3,Y-n-N)):(J[Y++]=214,J[Y++]=98,N=Y-n,Y+=4),nn=["",""],nn.previous=U,nn.size=0,nn.position=N}let z=LF.test(M);nn[z?0:1]+=M,J[Y++]=193,x(z?-I:I);return}let $;I<32?$=1:I<256?$=2:I<65536?$=3:$=5;let O=I*3;if(Y+O>Cr&&(J=j(Y+O)),I<64||!o){let z,N,G,U=Y+$;for(z=0;z<I;z++)N=M.charCodeAt(z),N<128?J[U++]=N:N<2048?(J[U++]=N>>6|192,J[U++]=N&63|128):(N&64512)===55296&&((G=M.charCodeAt(z+1))&64512)===56320?(N=65536+((N&1023)<<10)+(G&1023),z++,J[U++]=N>>18|240,J[U++]=N>>12&63|128,J[U++]=N>>6&63|128,J[U++]=N&63|128):(J[U++]=N>>12|224,J[U++]=N>>6&63|128,J[U++]=N&63|128);P=U-Y-$}else P=o(M,Y+$);P<32?J[Y++]=160|P:P<256?($<2&&J.copyWithin(Y+2,Y+1,Y+1+P),J[Y++]=217,J[Y++]=P):P<65536?($<3&&J.copyWithin(Y+3,Y+2,Y+2+P),J[Y++]=218,J[Y++]=P>>8,J[Y++]=P&255):($<5&&J.copyWithin(Y+5,Y+3,Y+3+P),J[Y++]=219,Pt.setUint32(Y,P),Y+=4),Y+=P}else if(V==="number")if(M>>>0===M)M<32||M<128&&this.useRecords===!1||M<64&&!this.randomAccessStructure?J[Y++]=M:M<256?(J[Y++]=204,J[Y++]=M):M<65536?(J[Y++]=205,J[Y++]=M>>8,J[Y++]=M&255):(J[Y++]=206,Pt.setUint32(Y,M),Y+=4);else if(M>>0===M)M>=-32?J[Y++]=256+M:M>=-128?(J[Y++]=208,J[Y++]=M+256):M>=-32768?(J[Y++]=209,Pt.setInt16(Y,M),Y+=2):(J[Y++]=210,Pt.setInt32(Y,M),Y+=4);else{let I;if((I=this.useFloat32)>0&&M<4294967296&&M>=-2147483648){J[Y++]=202,Pt.setFloat32(Y,M);let $;if(I<4||($=M*$b[(J[Y]&127)<<1|J[Y+1]>>7])>>0===$){Y+=4;return}else Y--}J[Y++]=203,Pt.setFloat64(Y,M),Y+=8}else if(V==="object"||V==="function")if(!M)J[Y++]=192;else{if(s){let $=s.get(M);if($){if(!$.id){let O=s.idsToInsert||(s.idsToInsert=[]);$.id=O.push($)}J[Y++]=214,J[Y++]=112,Pt.setUint32(Y,$.id),Y+=4;return}else s.set(M,{offset:Y-n})}let I=M.constructor;if(I===Object)T(M,!0);else if(I===Array)S(M);else if(I===Map)if(this.mapAsEmptyObject)J[Y++]=128;else{P=M.size,P<16?J[Y++]=128|P:P<65536?(J[Y++]=222,J[Y++]=P>>8,J[Y++]=P&255):(J[Y++]=223,Pt.setUint32(Y,P),Y+=4);for(let[$,O]of M)x($),x(O)}else{for(let $=0,O=WA.length;$<O;$++){let z=QM[$];if(M instanceof z){let N=WA[$];if(N.write){N.type&&(J[Y++]=212,J[Y++]=N.type,J[Y++]=0);let fe=N.write.call(this,M);fe===M?Array.isArray(M)?S(M):T(M):x(fe);return}let G=J,U=Pt,ne=Y;J=null;let L;try{L=N.pack.call(this,M,fe=>(J=G,G=null,Y+=fe,Y>Cr&&j(Y),{target:J,targetView:Pt,position:Y-fe}),x)}finally{G&&(J=G,Pt=U,Y=ne,Cr=J.length-10)}L&&(L.length+Y>Cr&&j(L.length+Y),Y=BF(L,J,Y,N.type));return}}if(Array.isArray(M))S(M);else{if(M.toJSON){const $=M.toJSON();if($!==M)return x($)}if(V==="function")return x(this.writeFunction&&this.writeFunction(M));T(M,!M.hasOwnProperty)}}}else if(V==="boolean")J[Y++]=M?195:194;else if(V==="bigint"){if(M<BigInt(1)<<BigInt(63)&&M>=-(BigInt(1)<<BigInt(63)))J[Y++]=211,Pt.setBigInt64(Y,M);else if(M<BigInt(1)<<BigInt(64)&&M>0)J[Y++]=207,Pt.setBigUint64(Y,M);else if(this.largeBigIntToFloat)J[Y++]=203,Pt.setFloat64(Y,Number(M));else if(this.useBigIntExtension&&M<2n**1023n&&M>-(2n**1023n)){J[Y++]=199,Y++,J[Y++]=66;let I=[],$;do{let O=M&0xffn;$=(O&0x80n)===(M<0n?0x80n:0n),I.push(O),M>>=8n}while(!((M===0n||M===-1n)&&$));J[Y-2]=I.length;for(let O=I.length;O>0;)J[Y++]=Number(I[--O]);return}else throw new RangeError(M+" was too large to fit in MessagePack 64-bit integer format, use useBigIntExtension or set largeBigIntToFloat to convert to float-64");Y+=8}else if(V==="undefined")this.encodeUndefinedAsNil?J[Y++]=192:(J[Y++]=212,J[Y++]=0,J[Y++]=0);else throw new Error("Unknown type: "+V)},b=this.variableMapSize||this.coercibleKeyAsNumber?M=>{let V=Object.keys(M),P=V.length;P<16?J[Y++]=128|P:P<65536?(J[Y++]=222,J[Y++]=P>>8,J[Y++]=P&255):(J[Y++]=223,Pt.setUint32(Y,P),Y+=4);let I;if(this.coercibleKeyAsNumber)for(let $=0;$<P;$++){I=V[$];let O=Number(I);x(isNaN(O)?I:O),x(M[I])}else for(let $=0;$<P;$++)x(I=V[$]),x(M[I])}:(M,V)=>{J[Y++]=222;let P=Y-n;Y+=2;let I=0;for(let $ in M)(V||M.hasOwnProperty($))&&(x($),x(M[$]),I++);J[P+++n]=I>>8,J[P+n]=I&255},w=this.useRecords===!1?b:t.progressiveRecords&&!h?(M,V)=>{let P,I=i.transitions||(i.transitions=Object.create(null)),$=Y++-n,O;for(let z in M)if(V||M.hasOwnProperty(z)){if(P=I[z],P)I=P;else{let N=Object.keys(M),G=I;I=i.transitions;let U=0;for(let ne=0,L=N.length;ne<L;ne++){let fe=N[ne];P=I[fe],P||(P=I[fe]=Object.create(null),U++),I=P}$+n+1==Y?(Y--,B(I,N,U)):D(I,N,$,U),O=!0,I=G[z]}x(M[z])}if(!O){let z=I[Wl];z?J[$+n]=z:D(I,Object.keys(M),$,0)}}:(M,V)=>{let P,I=i.transitions||(i.transitions=Object.create(null)),$=0;for(let z in M)(V||M.hasOwnProperty(z))&&(P=I[z],P||(P=I[z]=Object.create(null),$++),I=P);let O=I[Wl];O?O>=96&&h?(J[Y++]=((O-=96)&31)+96,J[Y++]=O>>5):J[Y++]=O:B(I,I.__keys__||Object.keys(M),$);for(let z in M)(V||M.hasOwnProperty(z))&&x(M[z])},E=typeof this.useRecords=="function"&&this.useRecords,T=E?(M,V)=>{E(M)?w(M,V):b(M,V)}:w,j=M=>{let V;if(M>16777216){if(M-n>T2)throw new Error("Packed buffer would be larger than maximum buffer size");V=Math.min(T2,Math.round(Math.max((M-n)*(M>67108864?1.25:2),4194304)/4096)*4096)}else V=(Math.max(M-n<<2,J.length-1)>>12)+1<<12;let P=new Fh(V);return Pt=P.dataView||(P.dataView=new DataView(P.buffer,0,V)),M=Math.min(M,J.length),J.copy?J.copy(P,0,n,M):P.set(J.slice(n,M)),Y-=n,n=0,Cr=P.length-10,J=P},B=(M,V,P)=>{let I=i.nextId;I||(I=64),I<p&&this.shouldShareStructure&&!this.shouldShareStructure(V)?(I=i.nextOwnId,I<g||(I=p),i.nextOwnId=I+1):(I>=g&&(I=p),i.nextId=I+1);let $=V.highByte=I>=96&&h?I-96>>5:-1;M[Wl]=I,M.__keys__=V,i[I-64]=V,I<p?(V.isShared=!0,i.sharedLength=I-63,r=!0,$>=0?(J[Y++]=(I&31)+96,J[Y++]=$):J[Y++]=I):($>=0?(J[Y++]=213,J[Y++]=114,J[Y++]=(I&31)+96,J[Y++]=$):(J[Y++]=212,J[Y++]=114,J[Y++]=I),P&&(_+=v*P),m.length>=d&&(m.shift()[Wl]=0),m.push(M),x(V))},D=(M,V,P,I)=>{let $=J,O=Y,z=Cr,N=n;J=Gu,Y=0,n=0,J||(Gu=J=new Fh(8192)),Cr=J.length-10,B(M,V,I),Gu=J;let G=Y;if(J=$,Y=O,Cr=z,n=N,G>1){let U=Y+G-1;U>Cr&&j(U);let ne=P+n;J.copyWithin(ne+G,ne+1,Y),J.set(Gu.slice(0,G),ne),Y=U}else J[P+n]=Gu[0]},q=(M,V)=>{let P=OF(M,J,n,Y,i,j,(I,$,O)=>{if(O)return r=!0;Y=$;let z=J;return x(I),A(),z!==J?{position:Y,targetView:Pt,target:J}:Y},this);if(P===0)return T(M,!0);Y=P}}useBuffer(t){J=t,Pt=new DataView(J.buffer,J.byteOffset,J.byteLength),Y=0}clearSharedData(){this.structures&&(this.structures=[]),this.typedStructs&&(this.typedStructs=[])}}QM=[Date,Set,Error,RegExp,ArrayBuffer,Object.getPrototypeOf(Uint8Array.prototype).constructor,FM];WA=[{pack(e,t,n){let r=e.getTime()/1e3;if((this.useTimestamp32||e.getMilliseconds()===0)&&r>=0&&r<4294967296){let{target:i,targetView:s,position:o}=t(6);i[o++]=214,i[o++]=255,s.setUint32(o,r)}else if(r>0&&r<4294967296){let{target:i,targetView:s,position:o}=t(10);i[o++]=215,i[o++]=255,s.setUint32(o,e.getMilliseconds()*4e6+(r/1e3/4294967296>>0)),s.setUint32(o+4,r)}else if(isNaN(r)){if(this.onInvalidDate)return t(0),n(this.onInvalidDate());let{target:i,targetView:s,position:o}=t(3);i[o++]=212,i[o++]=255,i[o++]=255}else{let{target:i,targetView:s,position:o}=t(15);i[o++]=199,i[o++]=12,i[o++]=255,s.setUint32(o,e.getMilliseconds()*1e6),s.setBigInt64(o+4,BigInt(Math.floor(r)))}}},{pack(e,t,n){if(this.setAsEmptyObject)return t(0),n({});let r=Array.from(e),{target:i,position:s}=t(this.moreTypes?3:0);this.moreTypes&&(i[s++]=212,i[s++]=115,i[s++]=0),n(r)}},{pack(e,t,n){let{target:r,position:i}=t(this.moreTypes?3:0);this.moreTypes&&(r[i++]=212,r[i++]=101,r[i++]=0),n([e.name,e.message])}},{pack(e,t,n){let{target:r,position:i}=t(this.moreTypes?3:0);this.moreTypes&&(r[i++]=212,r[i++]=120,r[i++]=0),n([e.source,e.flags])}},{pack(e,t){this.moreTypes?I2(e,16,t):P2(Dm?Buffer.from(e):new Uint8Array(e),t)}},{pack(e,t){let n=e.constructor;n!==JM&&this.moreTypes?I2(e,KM.indexOf(n.name),t):P2(e,t)}},{pack(e,t){let{target:n,position:r}=t(1);n[r]=193}}];function I2(e,t,n,r){let i=e.byteLength;if(i+1<256){var{target:s,position:o}=n(4+i);s[o++]=199,s[o++]=i+1}else if(i+1<65536){var{target:s,position:o}=n(5+i);s[o++]=200,s[o++]=i+1>>8,s[o++]=i+1&255}else{var{target:s,position:o,targetView:a}=n(7+i);s[o++]=201,a.setUint32(o,i+1),o+=4}s[o++]=116,s[o++]=t,s.set(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),o)}function P2(e,t){let n=e.byteLength;var r,i;if(n<256){var{target:r,position:i}=t(n+2);r[i++]=196,r[i++]=n}else if(n<65536){var{target:r,position:i}=t(n+3);r[i++]=197,r[i++]=n>>8,r[i++]=n&255}else{var{target:r,position:i,targetView:s}=t(n+5);r[i++]=198,s.setUint32(i,n),i+=4}r.set(e,i)}function BF(e,t,n,r){let i=e.length;switch(i){case 1:t[n++]=212;break;case 2:t[n++]=213;break;case 4:t[n++]=214;break;case 8:t[n++]=215;break;case 16:t[n++]=216;break;default:i<256?(t[n++]=199,t[n++]=i):i<65536?(t[n++]=200,t[n++]=i>>8,t[n++]=i&255):(t[n++]=201,t[n++]=i>>24,t[n++]=i>>16&255,t[n++]=i>>8&255,t[n++]=i&255)}return t[n++]=r,t.set(e,n),n+=i,n}function DF(e,t){let n,r=t.length*6,i=e.length-r;for(;n=t.pop();){let s=n.offset,o=n.id;e.copyWithin(s+r,s,i),r-=6;let a=s+r;e[a++]=214,e[a++]=105,e[a++]=o>>24,e[a++]=o>>16&255,e[a++]=o>>8&255,e[a++]=o&255,i=s}return e}function R2(e,t,n){if(nn.length>0){Pt.setUint32(nn.position+e,Y+n-nn.position-e),nn.stringsPosition=Y-e;let r=nn;nn=null,t(r[0]),t(r[1])}}function $F(e,t){return e.isCompatible=n=>{let r=!n||(t.lastNamedStructuresLength||0)===n.length;return r||t._mergeStructures(n),r},e}let XM=new NF({useRecords:!1});const ZM=XM.pack;XM.pack;const FF=512,zF=1024,UF=2048;function Lr(){return Date.now()}const eo=e=>ZM(e),mu=e=>MF(e);let HF=class{constructor(t,n){this.connection=t,this.inputLag=n,this.frequencies=[0],this.volumes=[0],this.requestReadinessPromise=null,this.getFrequencies=()=>this.frequencies,this.clearFrequencies=()=>{Array.isArray(this.frequencies[0])&&(this.frequencies=[this.frequencies[0].at(-1)])},this.getVolumes=()=>this.volumes,this.getInputLag=()=>this.inputLag,this.setInputLag=r=>{this.inputLag=r},this.requestReadiness=()=>(console.log("requestReadiness"),this.requestReadinessPromise||(this.requestReadinessPromise=new Promise(r=>{const i=s=>{s.t==="confirm-readiness"&&(r(!0),this.connection.off("data",i),this.requestReadinessPromise=null)};this.connection.on("data",i),Tc(this.connection,"request-readiness")})),this.requestReadinessPromise),this.startMonitoring=async()=>{var r,i;(r=this.connection)==null||r.off("data",this.handleRTCData),Tc(this.connection,"start-monitor"),(i=this.connection)==null||i.on("data",this.handleRTCData)},this.stopMonitoring=async()=>{var r;Tc(this.connection,"stop-monitor"),(r=this.connection)==null||r.off("data",this.handleRTCData)},this.handleRTCData=r=>{r.t==="freq"&&(this.frequencies=[r[0],r[0]],this.volumes=[r[1],r[1]])}}},GF=class{constructor(t,n,r,i){this.id=t,this.name=n,this.connection=r,this.pingTime=9999,this.pingInterval=null,this.getInput=()=>this.input,this.setPlayerNumber=s=>{Tc(this.connection,"set-player-number",{playerNumber:s})},this.onDisconnect=()=>{this.pingInterval!==null&&clearInterval(this.pingInterval)},this.setPermission=s=>{Tc(this.connection,"set-permissions",{level:s})},this.isPinging=!1,this.latency=9999,this.onPong=()=>{this.latency=Lr()-this.pingTime,this.isPinging=!1,this.pingClient()},this.pingClient=()=>{this.pingInterval=setTimeout(()=>{this.pingTime=Lr(),this.isPinging=!0,Tc(this.connection,"ping")},1e3)},this.getLatency=()=>this.isPinging?Lr()-this.pingTime:this.latency,this.getPingTime=()=>this.pingTime,this.input=new HF(r,i),this.pingClient()}};const Fb={SelectionOnTop:"selection_on_top",WebsocketsRemoteMics:"websockets_remote_mics",RemoteMicConnectionType:"remote_mics_connection_type",InitialInputLag:"initial_input_lag",LandingPageBackground:"landing_page_background",VirtualizedSongSelection:"virtualized_song_selection",Eurovision:"eurovision",Shrek:"shrek"};class _i extends Is{constructor(t,n,r="local"){super(),this.name=t,this.defaultValue=n,this.driver=r,this.value=void 0,this.get=()=>(this.value===void 0&&(this.value=Oe[this.driver].getItem(`settings-${this.name}`)??this.defaultValue),this.value),this.set=i=>{this.value=i,Oe[this.driver].setItem(`settings-${this.name}`,i),this.onUpdate(i)}}}const e5=["high","low"],qF="graphics-level",$i=new _i(qF,e5[0]),WF=[null,"skip","remoteMics","singstar-mics","different-mics","advanced","built-in"],KF="mic-setup-preference",zb=new _i(KF,WF[0],"session"),t5=[60,30],nl=new _i("fps-count",t5[0]),$m=new _i("EXCLUDED_LANGUAGES_KEY_V2",null),pr=new _i("MOBILE_PHONE_MODE_KEY",null),n5=new _i("keyboard-help-visibility",!0);var _R;const M2=(_R=Vn.getFeatureFlagPayload)==null?void 0:_R.call(Vn,Fb.InitialInputLag),Rd=new _i("INPUT_LAG_V2",typeof M2=="number"?M2:0),r5=new _i("REMOTE_MIC_INPUT_LAG",0,"session"),j2=["write","read"],i5=new _i("DefaultRemoteMicPermission","write"),s5=["New","Classic"],Ub=new _i("background-music",s5[0]),Fm=new _i("BackgroundThemeSetting","regular","memory"),Hb=new _i("AutoEnableFullscreenSetting",!0,"session"),YF=["WebSockets","PeerJS","PartyKit"],Tg=new _i("RemoteMicConnectionType","WebSockets","session");var bR;(bR=Vn.onFeatureFlags)==null||bR.call(Vn,()=>{Tg.set(Vn.getFeatureFlagPayload(Fb.RemoteMicConnectionType)??"WebSockets")});function Fe(e){const[t,n]=y.useState(e.get());return y.useLayoutEffect(()=>e.addListener(n),[e]),[t,e.set]}const O2="RememberedAccessesKey",Gv="rememberedSubscriptionsKey";class QF extends Is{constructor(){var t,n;super(...arguments),this.remoteMics=[],this.micAccessMap=((t=Oe.local)==null?void 0:t.getItem(O2))??{},this.subscriptions=((n=Oe.session)==null?void 0:n.getItem(Gv))??{"remote-mics":[]},this.addRemoteMic=(r,i,s,o,a)=>{this.remoteMics=this.remoteMics.filter(l=>l.id!==r),this.remoteMics=[...this.remoteMics,new GF(r,i,s,a)],this.setPermission(r,this.getPermission(r)),ee.remoteMicConnected.dispatch({id:r,name:i,silent:o})},this.removeRemoteMic=(r,i=!1)=>{const s=this.remoteMics.find(o=>o.id===r);this.remoteMics=this.remoteMics.filter(o=>o.id!==r),s&&(s.onDisconnect(),ee.remoteMicDisconnected.dispatch(s,i))},this.getRemoteMics=()=>this.remoteMics,this.getRemoteMicById=r=>this.remoteMics.find(i=>i.id===r),this.broadcast=r=>{this.getRemoteMics().forEach(i=>i.connection.send(r))},this.broadcastToChannel=(r,i)=>{this.subscriptions[r].forEach(s=>{var o;return(o=this.getRemoteMicById(s))==null?void 0:o.connection.send(i)})},this.getPermission=r=>this.micAccessMap[r]??i5.get(),this.setPermission=(r,i)=>{var s;(s=this.getRemoteMicById(r))==null||s.setPermission(i),this.micAccessMap[r]=i,Oe==null||Oe.setItem(O2,this.micAccessMap),this.onUpdate(r,i)},this.addSubscription=(r,i)=>{var s;this.subscriptions[i]=[...new Set([...this.subscriptions[i],r])],(s=Oe.session)==null||s.setItem(Gv,this.subscriptions),ee.remoteMicSubscribed.dispatch(r,i)},this.removeSubscription=(r,i)=>{var s,o;this.subscriptions[i]=((s=this.subscriptions[i])==null?void 0:s.filter(a=>a!==r))??[],(o=Oe.session)==null||o.setItem(Gv,this.subscriptions)}}}const Ze=new QF;Fm.addListener(e=>{$M(e),Ze.broadcast({t:"style-change",style:e})});ee.remoteMicConnected.subscribe(e=>{var t;(t=Ze.getRemoteMicById(e.id))==null||t.connection.send({t:"style-change",style:Fm.get()})});class JF{constructor(){this.frequencies=[440,410],this.volumes=[1,1],this.startMonitoring=async()=>{},this.getFrequencies=t=>this.frequencies,this.getVolumes=t=>this.volumes,this.clearFrequencies=t=>{},this.stopMonitoring=async t=>{},this.getInputLag=()=>0,this.setFrequency=(t,n)=>this.frequencies[t]=n,this.requestReadiness=()=>Promise.resolve(!0),this.getStatus=()=>"ok"}}const XF=new JF;class ZF{constructor(){this.frequencies=[410,210],this.volumes=[1,1],this.timestamp=0,this.interval=null,this.isMonitoring=!1,this.startMonitoring=async()=>{this.isMonitoring||(this.isMonitoring=!0,this.interval=global.setInterval(()=>{this.timestamp=this.timestamp+32,this.frequencies[0]=Math.sin(this.timestamp/1e3)*50+100,this.frequencies[1]=Math.cos(this.timestamp/1e3)*50+200},32))},this.getFrequencies=()=>this.frequencies,this.getVolumes=()=>this.volumes,this.clearFrequencies=t=>{},this.stopMonitoring=async()=>{this.isMonitoring&&(this.isMonitoring=!1,this.interval&&global.clearInterval(this.interval))},this.getInputLag=()=>150,this.requestReadiness=()=>Promise.resolve(!0),this.getStatus=()=>"ok"}}const e6=new ZF,o5=Object.prototype.toString;function zm(e){switch(o5.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return So(e,Error)}}function vu(e,t){return o5.call(e)===`[object ${t}]`}function a5(e){return vu(e,"ErrorEvent")}function V2(e){return vu(e,"DOMError")}function t6(e){return vu(e,"DOMException")}function Ao(e){return vu(e,"String")}function Gb(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function qb(e){return e===null||Gb(e)||typeof e!="object"&&typeof e!="function"}function Wc(e){return vu(e,"Object")}function Um(e){return typeof Event<"u"&&So(e,Event)}function n6(e){return typeof Element<"u"&&So(e,Element)}function r6(e){return vu(e,"RegExp")}function Hm(e){return!!(e&&e.then&&typeof e.then=="function")}function i6(e){return Wc(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function So(e,t){try{return e instanceof t}catch{return!1}}function l5(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue))}function Ic(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function L2(e,t){if(!Array.isArray(e))return"";const n=[];for(let r=0;r<e.length;r++){const i=e[r];try{l5(i)?n.push("[VueViewModel]"):n.push(String(i))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function s6(e,t,n=!1){return Ao(e)?r6(t)?t.test(e):Ao(t)?n?e===t:e.includes(t):!1:!1}function rl(e,t=[],n=!1){return t.some(r=>s6(e,r,n))}function o6(e,t,n=250,r,i,s,o){if(!s.exception||!s.exception.values||!o||!So(o.originalException,Error))return;const a=s.exception.values.length>0?s.exception.values[s.exception.values.length-1]:void 0;a&&(s.exception.values=a6(KA(e,t,i,o.originalException,r,s.exception.values,a,0),n))}function KA(e,t,n,r,i,s,o,a){if(s.length>=n+1)return s;let l=[...s];if(So(r[i],Error)){N2(o,a);const c=e(t,r[i]),u=l.length;B2(c,i,u,a),l=KA(e,t,n,r[i],i,[c,...l],c,u)}return Array.isArray(r.errors)&&r.errors.forEach((c,u)=>{if(So(c,Error)){N2(o,a);const d=e(t,c),h=l.length;B2(d,`errors[${u}]`,h,a),l=KA(e,t,n,c,i,[d,...l],d,h)}}),l}function N2(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function B2(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}function a6(e,t){return e.map(n=>(n.value&&(n.value=Ic(n.value,t)),n))}const il="8.16.0",yt=globalThis;function Wb(e,t,n){const r=n||yt,i=r.__SENTRY__=r.__SENTRY__||{},s=i[il]=i[il]||{};return s[e]||(s[e]=t())}const Pc=yt,l6=80;function Kc(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,i=[];let s=0,o=0;const a=" > ",l=a.length;let c;const u=Array.isArray(t)?t:t.keyAttrs,d=!Array.isArray(t)&&t.maxStringLength||l6;for(;n&&s++<r&&(c=c6(n,u),!(c==="html"||s>1&&o+i.length*l+c.length>=d));)i.push(c),o+=c.length,n=n.parentNode;return i.reverse().join(a)}catch{return"<unknown>"}}function c6(e,t){const n=e,r=[];if(!n||!n.tagName)return"";if(Pc.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());const i=t&&t.length?t.filter(o=>n.getAttribute(o)).map(o=>[o,n.getAttribute(o)]):null;if(i&&i.length)i.forEach(o=>{r.push(`[${o[0]}="${o[1]}"]`)});else{n.id&&r.push(`#${n.id}`);const o=n.className;if(o&&Ao(o)){const a=o.split(/\s+/);for(const l of a)r.push(`.${l}`)}}const s=["aria-label","type","name","title","alt"];for(const o of s){const a=n.getAttribute(o);a&&r.push(`[${o}="${a}"]`)}return r.join("")}function u6(){try{return Pc.document.location.href}catch{return""}}function d6(e){return Pc.document&&Pc.document.querySelector?Pc.document.querySelector(e):null}function c5(e){if(!Pc.HTMLElement)return null;let t=e;const n=5;for(let r=0;r<n;r++){if(!t)return null;if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}const yu=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,f6="Sentry Logger ",YA=["debug","info","warn","error","log","assert","trace"],Ig={};function Zf(e){if(!("console"in yt))return e();const t=yt.console,n={},r=Object.keys(Ig);r.forEach(i=>{const s=Ig[i];n[i]=t[i],t[i]=s});try{return e()}finally{r.forEach(i=>{t[i]=n[i]})}}function h6(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return yu?YA.forEach(n=>{t[n]=(...r)=>{e&&Zf(()=>{yt.console[n](`${f6}[${n}]:`,...r)})}}):YA.forEach(n=>{t[n]=()=>{}}),t}const pe=h6(),p6=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function g6(e){return e==="http"||e==="https"}function Au(e,t=!1){const{host:n,path:r,pass:i,port:s,projectId:o,protocol:a,publicKey:l}=e;return`${a}://${l}${t&&i?`:${i}`:""}@${n}${s?`:${s}`:""}/${r&&`${r}/`}${o}`}function m6(e){const t=p6.exec(e);if(!t){Zf(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}const[n,r,i="",s="",o="",a=""]=t.slice(1);let l="",c=a;const u=c.split("/");if(u.length>1&&(l=u.slice(0,-1).join("/"),c=u.pop()),c){const d=c.match(/^\d+/);d&&(c=d[0])}return u5({host:s,pass:i,path:l,projectId:c,port:o,protocol:n,publicKey:r})}function u5(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function v6(e){if(!yu)return!0;const{port:t,projectId:n,protocol:r}=e;return["protocol","publicKey","host","projectId"].find(o=>e[o]?!1:(pe.error(`Invalid Sentry Dsn: ${o} missing`),!0))?!1:n.match(/^\d+$/)?g6(r)?t&&isNaN(parseInt(t,10))?(pe.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):!0:(pe.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(pe.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}function d5(e){const t=typeof e=="string"?m6(e):u5(e);if(!(!t||!v6(t)))return t}class zs extends Error{constructor(t,n="warn"){super(t),this.message=t,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=n}}function cr(e,t,n){if(!(t in e))return;const r=e[t],i=n(r);typeof i=="function"&&f5(i,r),e[t]=i}function Hi(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{yu&&pe.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function f5(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,Hi(e,"__sentry_original__",t)}catch{}}function Kb(e){return e.__sentry_original__}function y6(e){return Object.keys(e).map(t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`).join("&")}function h5(e){if(zm(e))return{message:e.message,name:e.name,stack:e.stack,...$2(e)};if(Um(e)){const t={type:e.type,target:D2(e.target),currentTarget:D2(e.currentTarget),...$2(e)};return typeof CustomEvent<"u"&&So(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function D2(e){try{return n6(e)?Kc(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function $2(e){if(typeof e=="object"&&e!==null){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}else return{}}function A6(e,t=40){const n=Object.keys(h5(e));n.sort();const r=n[0];if(!r)return"[object has no keys]";if(r.length>=t)return Ic(r,t);for(let i=n.length;i>0;i--){const s=n.slice(0,i).join(", ");if(!(s.length>t))return i===n.length?s:Ic(s,t)}return""}function Sr(e){return QA(e,new Map)}function QA(e,t){if(_6(e)){const n=t.get(e);if(n!==void 0)return n;const r={};t.set(e,r);for(const i of Object.keys(e))typeof e[i]<"u"&&(r[i]=QA(e[i],t));return r}if(Array.isArray(e)){const n=t.get(e);if(n!==void 0)return n;const r=[];return t.set(e,r),e.forEach(i=>{r.push(QA(i,t))}),r}return e}function _6(e){if(!Wc(e))return!1;try{const t=Object.getPrototypeOf(e).constructor.name;return!t||t==="Object"}catch{return!0}}const p5=50,gl="?",F2=/\(error: (.*)\)/,z2=/captureMessage|captureException/;function g5(...e){const t=e.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0,i=0)=>{const s=[],o=n.split(`
`);for(let a=r;a<o.length;a++){const l=o[a];if(l.length>1024)continue;const c=F2.test(l)?l.replace(F2,"$1"):l;if(!c.match(/\S*Error: /)){for(const u of t){const d=u(c);if(d){s.push(d);break}}if(s.length>=p5+i)break}}return S6(s.slice(i))}}function b6(e){return Array.isArray(e)?g5(...e):e}function S6(e){if(!e.length)return[];const t=Array.from(e);return/sentryWrapped/.test(zh(t).function||"")&&t.pop(),t.reverse(),z2.test(zh(t).function||"")&&(t.pop(),z2.test(zh(t).function||"")&&t.pop()),t.slice(0,p5).map(n=>({...n,filename:n.filename||zh(t).filename,function:n.function||gl}))}function zh(e){return e[e.length-1]||{}}const qv="<anonymous>";function xo(e){try{return!e||typeof e!="function"?qv:e.name||qv}catch{return qv}}function U2(e){const t=e.exception;if(t){const n=[];try{return t.values.forEach(r=>{r.stacktrace.frames&&n.push(...r.stacktrace.frames)}),n}catch{return}}}const zp={},H2={};function Rl(e,t){zp[e]=zp[e]||[],zp[e].push(t)}function Ml(e,t){H2[e]||(t(),H2[e]=!0)}function _s(e,t){const n=e&&zp[e];if(n)for(const r of n)try{r(t)}catch(i){yu&&pe.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${xo(r)}
Error:`,i)}}function x6(e){const t="console";Rl(t,e),Ml(t,w6)}function w6(){"console"in yt&&YA.forEach(function(e){e in yt.console&&cr(yt.console,e,function(t){return Ig[e]=t,function(...n){_s("console",{args:n,level:e});const i=Ig[e];i&&i.apply(yt.console,n)}})})}const JA=yt;function m5(){if(!("fetch"in JA))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function XA(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function E6(){if(typeof EdgeRuntime=="string")return!0;if(!m5())return!1;if(XA(JA.fetch))return!0;let e=!1;const t=JA.document;if(t&&typeof t.createElement=="function")try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=XA(n.contentWindow.fetch)),t.head.removeChild(n)}catch(n){yu&&pe.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e}const v5=1e3;function eh(){return Date.now()/v5}function k6(){const{performance:e}=yt;if(!e||!e.now)return eh;const t=Date.now()-e.now(),n=e.timeOrigin==null?t:e.timeOrigin;return()=>(n+e.now())/v5}const xr=k6(),Gi=(()=>{const{performance:e}=yt;if(!e||!e.now)return;const t=3600*1e3,n=e.now(),r=Date.now(),i=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,s=i<t,o=e.timing&&e.timing.navigationStart,l=typeof o=="number"?Math.abs(o+n-r):t,c=l<t;return s||c?i<=l?e.timeOrigin:o:r})();function y5(e){const t="fetch";Rl(t,e),Ml(t,C6)}function C6(){E6()&&cr(yt,"fetch",function(e){return function(...t){const{method:n,url:r}=T6(t),i={args:t,fetchData:{method:n,url:r},startTimestamp:xr()*1e3};_s("fetch",{...i});const s=new Error().stack;return e.apply(yt,t).then(o=>{const a={...i,endTimestamp:xr()*1e3,response:o};return _s("fetch",a),o},o=>{const a={...i,endTimestamp:xr()*1e3,error:o};throw _s("fetch",a),zm(o)&&o.stack===void 0&&(o.stack=s,Hi(o,"framesToPop",1)),o})}})}function ZA(e,t){return!!e&&typeof e=="object"&&!!e[t]}function G2(e){return typeof e=="string"?e:e?ZA(e,"url")?e.url:e.toString?e.toString():"":""}function T6(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){const[n,r]=e;return{url:G2(n),method:ZA(r,"method")?String(r.method).toUpperCase():"GET"}}const t=e[0];return{url:G2(t),method:ZA(t,"method")?String(t.method).toUpperCase():"GET"}}let Uh=null;function A5(e){const t="error";Rl(t,e),Ml(t,I6)}function I6(){Uh=yt.onerror,yt.onerror=function(e,t,n,r,i){return _s("error",{column:r,error:i,line:n,msg:e,url:t}),Uh&&!Uh.__SENTRY_LOADER__?Uh.apply(this,arguments):!1},yt.onerror.__SENTRY_INSTRUMENTED__=!0}let Hh=null;function _5(e){const t="unhandledrejection";Rl(t,e),Ml(t,P6)}function P6(){Hh=yt.onunhandledrejection,yt.onunhandledrejection=function(e){return _s("unhandledrejection",e),Hh&&!Hh.__SENTRY_LOADER__?Hh.apply(this,arguments):!0},yt.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function R6(){return"npm"}function M6(){const e=typeof WeakSet=="function",t=e?new WeakSet:[];function n(i){if(e)return t.has(i)?!0:(t.add(i),!1);for(let s=0;s<t.length;s++)if(t[s]===i)return!0;return t.push(i),!1}function r(i){if(e)t.delete(i);else for(let s=0;s<t.length;s++)if(t[s]===i){t.splice(s,1);break}}return[n,r]}function on(){const e=yt,t=e.crypto||e.msCrypto;let n=()=>Math.random()*16;try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>{const r=new Uint8Array(1);return t.getRandomValues(r),r[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,r=>(r^(n()&15)>>r/4).toString(16))}function b5(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function Ho(e){const{message:t,event_id:n}=e;if(t)return t;const r=b5(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function e1(e,t,n){const r=e.exception=e.exception||{},i=r.values=r.values||[],s=i[0]=i[0]||{};s.value||(s.value=t||""),s.type||(s.type=n||"Error")}function lf(e,t){const n=b5(e);if(!n)return;const r={type:"generic",handled:!0},i=n.mechanism;if(n.mechanism={...r,...i,...t},t&&"data"in t){const s={...i&&i.data,...t.data};n.mechanism.data=s}}function q2(e){if(e&&e.__sentry_captured__)return!0;try{Hi(e,"__sentry_captured__",!0)}catch{}return!1}function S5(e){return Array.isArray(e)?e:[e]}function Go(e,t=100,n=1/0){try{return t1("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function x5(e,t=3,n=100*1024){const r=Go(e,t);return L6(r)>n?x5(e,t-1,n):r}function t1(e,t,n=1/0,r=1/0,i=M6()){const[s,o]=i;if(t==null||["number","boolean","string"].includes(typeof t)&&!Number.isNaN(t))return t;const a=j6(e,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;const l=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:n;if(l===0)return a.replace("object ","");if(s(t))return"[Circular ~]";const c=t;if(c&&typeof c.toJSON=="function")try{const p=c.toJSON();return t1("",p,l-1,r,i)}catch{}const u=Array.isArray(t)?[]:{};let d=0;const h=h5(t);for(const p in h){if(!Object.prototype.hasOwnProperty.call(h,p))continue;if(d>=r){u[p]="[MaxProperties ~]";break}const g=h[p];u[p]=t1(p,g,l-1,r,i),d++}return o(t),u}function j6(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&t===global)return"[Global]";if(typeof window<"u"&&t===window)return"[Window]";if(typeof document<"u"&&t===document)return"[Document]";if(l5(t))return"[VueViewModel]";if(i6(t))return"[SyntheticEvent]";if(typeof t=="number"&&t!==t)return"[NaN]";if(typeof t=="function")return`[Function: ${xo(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;const n=O6(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function O6(e){const t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}function V6(e){return~-encodeURI(e).split(/%..|./).length}function L6(e){return V6(JSON.stringify(e))}var co;(function(e){e[e.PENDING=0]="PENDING";const n=1;e[e.RESOLVED=n]="RESOLVED";const r=2;e[e.REJECTED=r]="REJECTED"})(co||(co={}));function ml(e){return new Vi(t=>{t(e)})}function Pg(e){return new Vi((t,n)=>{n(e)})}class Vi{constructor(t){Vi.prototype.__init.call(this),Vi.prototype.__init2.call(this),Vi.prototype.__init3.call(this),Vi.prototype.__init4.call(this),this._state=co.PENDING,this._handlers=[];try{t(this._resolve,this._reject)}catch(n){this._reject(n)}}then(t,n){return new Vi((r,i)=>{this._handlers.push([!1,s=>{if(!t)r(s);else try{r(t(s))}catch(o){i(o)}},s=>{if(!n)i(s);else try{r(n(s))}catch(o){i(o)}}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new Vi((n,r)=>{let i,s;return this.then(o=>{s=!1,i=o,t&&t()},o=>{s=!0,i=o,t&&t()}).then(()=>{if(s){r(i);return}n(i)})})}__init(){this._resolve=t=>{this._setResult(co.RESOLVED,t)}}__init2(){this._reject=t=>{this._setResult(co.REJECTED,t)}}__init3(){this._setResult=(t,n)=>{if(this._state===co.PENDING){if(Hm(n)){n.then(this._resolve,this._reject);return}this._state=t,this._value=n,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===co.PENDING)return;const t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===co.RESOLVED&&n[1](this._value),this._state===co.REJECTED&&n[2](this._value),n[0]=!0)})}}}function N6(e){const t=[];function n(){return e===void 0||t.length<e}function r(o){return t.splice(t.indexOf(o),1)[0]||Promise.resolve(void 0)}function i(o){if(!n())return Pg(new zs("Not adding Promise because buffer limit was reached."));const a=o();return t.indexOf(a)===-1&&t.push(a),a.then(()=>r(a)).then(null,()=>r(a).then(null,()=>{})),a}function s(o){return new Vi((a,l)=>{let c=t.length;if(!c)return a(!0);const u=setTimeout(()=>{o&&o>0&&a(!1)},o);t.forEach(d=>{ml(d).then(()=>{--c||(clearTimeout(u),a(!0))},l)})})}return{$:t,add:i,drain:s}}function sl(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}const B6=["fatal","error","warning","log","info","debug"];function D6(e){return e==="warn"?"warning":B6.includes(e)?e:"log"}const n1="baggage",w5="sentry-",$6=/^sentry-/,F6=8192;function E5(e){const t=z6(e);if(!t)return;const n=Object.entries(t).reduce((r,[i,s])=>{if(i.match($6)){const o=i.slice(w5.length);r[o]=s}return r},{});if(Object.keys(n).length>0)return n}function k5(e){if(!e)return;const t=Object.entries(e).reduce((n,[r,i])=>(i&&(n[`${w5}${r}`]=i),n),{});return U6(t)}function z6(e){if(!(!e||!Ao(e)&&!Array.isArray(e)))return Array.isArray(e)?e.reduce((t,n)=>{const r=W2(n);return Object.entries(r).forEach(([i,s])=>{t[i]=s}),t},{}):W2(e)}function W2(e){return e.split(",").map(t=>t.split("=").map(n=>decodeURIComponent(n.trim()))).reduce((t,[n,r])=>(n&&r&&(t[n]=r),t),{})}function U6(e){if(Object.keys(e).length!==0)return Object.entries(e).reduce((t,[n,r],i)=>{const s=`${encodeURIComponent(n)}=${encodeURIComponent(r)}`,o=i===0?s:`${t},${s}`;return o.length>F6?(yu&&pe.warn(`Not adding key: ${n} with val: ${r} to baggage header due to exceeding baggage size limits.`),t):o},"")}const H6=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function G6(e){if(!e)return;const t=e.match(H6);if(!t)return;let n;return t[3]==="1"?n=!0:t[3]==="0"&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}function q6(e,t){const n=G6(e),r=E5(t),{traceId:i,parentSpanId:s,parentSampled:o}=n||{};return n?{traceId:i||on(),parentSpanId:s||on().substring(16),spanId:on().substring(16),sampled:o,dsc:r||{}}:{traceId:i||on(),spanId:on().substring(16)}}function Yb(e=on(),t=on().substring(16),n){let r="";return n!==void 0&&(r=n?"-1":"-0"),`${e}-${t}${r}`}function _u(e,t=[]){return[e,t]}function W6(e,t){const[n,r]=e;return[n,[...r,t]]}function K2(e,t){const n=e[1];for(const r of n){const i=r[0].type;if(t(r,i))return!0}return!1}function r1(e){return yt.__SENTRY__&&yt.__SENTRY__.encodePolyfill?yt.__SENTRY__.encodePolyfill(e):new TextEncoder().encode(e)}function K6(e){const[t,n]=e;let r=JSON.stringify(t);function i(s){typeof r=="string"?r=typeof s=="string"?r+s:[r1(r),s]:r.push(typeof s=="string"?r1(s):s)}for(const s of n){const[o,a]=s;if(i(`
${JSON.stringify(o)}
`),typeof a=="string"||a instanceof Uint8Array)i(a);else{let l;try{l=JSON.stringify(a)}catch{l=JSON.stringify(Go(a))}i(l)}}return typeof r=="string"?r:Y6(r)}function Y6(e){const t=e.reduce((i,s)=>i+s.length,0),n=new Uint8Array(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return n}function Q6(e){return[{type:"span"},e]}function J6(e){const t=typeof e.data=="string"?r1(e.data):e.data;return[Sr({type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),t]}const X6={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket"};function Y2(e){return X6[e]}function C5(e){if(!e||!e.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function Z6(e,t,n,r){const i=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:Au(r)},...i&&{trace:Sr({...i})}}}function e8(e,t,n){const r=[{type:"client_report"},{timestamp:n||eh(),discarded_events:e}];return _u(t?{dsn:t}:{},[r])}const t8=60*1e3;function n8(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return n*1e3;const r=Date.parse(`${e}`);return isNaN(r)?t8:r-t}function r8(e,t){return e[t]||e.all||0}function i8(e,t,n=Date.now()){return r8(e,t)>n}function s8(e,{statusCode:t,headers:n},r=Date.now()){const i={...e},s=n&&n["x-sentry-rate-limits"],o=n&&n["retry-after"];if(s)for(const a of s.trim().split(",")){const[l,c,,,u]=a.split(":",5),d=parseInt(l,10),h=(isNaN(d)?60:d)*1e3;if(!c)i.all=r+h;else for(const p of c.split(";"))p==="metric_bucket"?(!u||u.split(";").includes("custom"))&&(i[p]=r+h):i[p]=r+h}else o?i.all=r+n8(o,r):t===429&&(i.all=r+60*1e3);return i}function Rg(){return{traceId:on(),spanId:on().substring(16)}}const Gh=yt;function o8(){const e=Gh.chrome,t=e&&e.app&&e.app.runtime,n="history"in Gh&&!!Gh.history.pushState&&!!Gh.history.replaceState;return!t&&n}const tt=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function bu(){return Qb(yt),yt}function Qb(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||il,t[il]=t[il]||{}}function a8(e){const t=xr(),n={sid:on(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>c8(n)};return e&&Yc(n,e),n}function Yc(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||xr(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:on()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function l8(e,t){let n={};t?n={status:t}:e.status==="ok"&&(n={status:"exited"}),Yc(e,n)}function c8(e){return Sr({sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}const i1="_sentrySpan";function cf(e,t){t?Hi(e,i1,t):delete e[i1]}function Mg(e){return e[i1]}const u8=100;class Jb{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=Rg()}clone(){const t=new Jb;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._requestSession=this._requestSession,t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,cf(t,Mg(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&Yc(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this._tags={...this._tags,[t]:n},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const n=typeof t=="function"?t(this):t,[r,i]=n instanceof va?[n.getScopeData(),n.getRequestSession()]:Wc(n)?[t,t.requestSession]:[],{tags:s,extra:o,user:a,contexts:l,level:c,fingerprint:u=[],propagationContext:d}=r||{};return this._tags={...this._tags,...s},this._extra={...this._extra,...o},this._contexts={...this._contexts,...l},a&&Object.keys(a).length&&(this._user=a),c&&(this._level=c),u.length&&(this._fingerprint=u),d&&(this._propagationContext=d),i&&(this._requestSession=i),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,cf(this,void 0),this._attachments=[],this._propagationContext=Rg(),this._notifyScopeListeners(),this}addBreadcrumb(t,n){const r=typeof n=="number"?n:u8;if(r<=0)return this;const i={timestamp:eh(),...t},s=this._breadcrumbs;return s.push(i),this._breadcrumbs=s.length>r?s.slice(-r):s,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:Mg(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...t},this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,n){const r=n&&n.event_id?n.event_id:on();if(!this._client)return pe.warn("No client configured on scope - will not capture exception!"),r;const i=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:i,...n,event_id:r},this),r}captureMessage(t,n,r){const i=r&&r.event_id?r.event_id:on();if(!this._client)return pe.warn("No client configured on scope - will not capture message!"),i;const s=new Error(t);return this._client.captureMessage(t,n,{originalException:t,syntheticException:s,...r,event_id:i},this),i}captureEvent(t,n){const r=n&&n.event_id?n.event_id:on();return this._client?(this._client.captureEvent(t,{...n,event_id:r},this),r):(pe.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}const va=Jb;function d8(){return Wb("defaultCurrentScope",()=>new va)}function f8(){return Wb("defaultIsolationScope",()=>new va)}class h8{constructor(t,n){let r;t?r=t:r=new va;let i;n?i=n:i=new va,this._stack=[{scope:r}],this._isolationScope=i}withScope(t){const n=this._pushScope();let r;try{r=t(n)}catch(i){throw this._popScope(),i}return Hm(r)?r.then(i=>(this._popScope(),i),i=>{throw this._popScope(),i}):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}}function Qc(){const e=bu(),t=Qb(e);return t.stack=t.stack||new h8(d8(),f8())}function p8(e){return Qc().withScope(e)}function g8(e,t){const n=Qc();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function Q2(e){return Qc().withScope(()=>e(Qc().getIsolationScope()))}function m8(){return{withIsolationScope:Q2,withScope:p8,withSetScope:g8,withSetIsolationScope:(e,t)=>Q2(t),getCurrentScope:()=>Qc().getScope(),getIsolationScope:()=>Qc().getIsolationScope()}}function th(e){const t=Qb(e);return t.acs?t.acs:m8()}function ln(){const e=bu();return th(e).getCurrentScope()}function Xi(){const e=bu();return th(e).getIsolationScope()}function v8(){return Wb("globalScope",()=>new va)}function Gm(...e){const t=bu(),n=th(t);if(e.length===2){const[r,i]=e;return r?n.withSetScope(r,i):n.withScope(i)}return n.withScope(e[0])}function Et(){return ln().getClient()}const y8="_sentryMetrics";function s1(e){const t=e[y8];if(!t)return;const n={};for(const[,[r,i]]of t)(n[r]||(n[r]=[])).push(Sr(i));return n}const ea="sentry.source",T5="sentry.sample_rate",uf="sentry.op",Fn="sentry.origin",o1="sentry.idle_span_finish_reason",Xb="sentry.measurement_unit",Zb="sentry.measurement_value",A8="sentry.profile_id",I5="sentry.exclusive_time",_8=0,P5=1,qn=2;function b8(e){if(e<400&&e>=100)return{code:P5};if(e>=400&&e<500)switch(e){case 401:return{code:qn,message:"unauthenticated"};case 403:return{code:qn,message:"permission_denied"};case 404:return{code:qn,message:"not_found"};case 409:return{code:qn,message:"already_exists"};case 413:return{code:qn,message:"failed_precondition"};case 429:return{code:qn,message:"resource_exhausted"};case 499:return{code:qn,message:"cancelled"};default:return{code:qn,message:"invalid_argument"}}if(e>=500&&e<600)switch(e){case 501:return{code:qn,message:"unimplemented"};case 503:return{code:qn,message:"unavailable"};case 504:return{code:qn,message:"deadline_exceeded"};default:return{code:qn,message:"internal_error"}}return{code:qn,message:"unknown_error"}}function R5(e,t){e.setAttribute("http.response.status_code",t);const n=b8(t);n.message!=="unknown_error"&&e.setStatus(n)}const M5=0,j5=1;function S8(e){const{spanId:t,traceId:n}=e.spanContext(),{data:r,op:i,parent_span_id:s,status:o,origin:a}=xt(e);return Sr({parent_span_id:s,span_id:t,trace_id:n,data:r,op:i,status:o,origin:a})}function x8(e){const{spanId:t,traceId:n}=e.spanContext(),{parent_span_id:r}=xt(e);return Sr({parent_span_id:r,span_id:t,trace_id:n})}function O5(e){const{traceId:t,spanId:n}=e.spanContext(),r=jl(e);return Yb(t,n,r)}function ol(e){return typeof e=="number"?J2(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?J2(e.getTime()):xr()}function J2(e){return e>9999999999?e/1e3:e}function xt(e){if(E8(e))return e.getSpanJSON();try{const{spanId:t,traceId:n}=e.spanContext();if(w8(e)){const{attributes:r,startTime:i,name:s,endTime:o,parentSpanId:a,status:l}=e;return Sr({span_id:t,trace_id:n,data:r,description:s,parent_span_id:a,start_timestamp:ol(i),timestamp:ol(o)||void 0,status:V5(l),op:r[uf],origin:r[Fn],_metrics_summary:s1(e)})}return{span_id:t,trace_id:n}}catch{return{}}}function w8(e){const t=e;return!!t.attributes&&!!t.startTime&&!!t.name&&!!t.endTime&&!!t.status}function E8(e){return typeof e.getSpanJSON=="function"}function jl(e){const{traceFlags:t}=e.spanContext();return t===j5}function V5(e){if(!(!e||e.code===_8))return e.code===P5?"ok":e.message||"unknown_error"}const al="_sentryChildSpans",a1="_sentryRootSpan";function L5(e,t){const n=e[a1]||e;Hi(t,a1,n),e[al]?e[al].add(t):Hi(e,al,new Set([t]))}function k8(e,t){e[al]&&e[al].delete(t)}function Up(e){const t=new Set;function n(r){if(!t.has(r)&&jl(r)){t.add(r);const i=r[al]?Array.from(r[al]):[];for(const s of i)n(s)}}return n(e),Array.from(t)}function Wr(e){return e[a1]||e}function Zi(){const e=bu(),t=th(e);return t.getActiveSpan?t.getActiveSpan():Mg(ln())}let X2=!1;function C8(){X2||(X2=!0,A5(l1),_5(l1))}function l1(){const e=Zi(),t=e&&Wr(e);if(t){const n="internal_error";tt&&pe.log(`[Tracing] Root span: ${n} -> Global error occured`),t.setStatus({code:qn,message:n})}}l1.tag="sentry_tracingErrorCallback";const N5="_sentryScope",B5="_sentryIsolationScope";function T8(e,t,n){e&&(Hi(e,B5,n),Hi(e,N5,t))}function Z2(e){return{scope:e[N5],isolationScope:e[B5]}}function ya(e){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const t=e||I8();return!!t&&(t.enableTracing||"tracesSampleRate"in t||"tracesSampler"in t)}function I8(){const e=Et();return e&&e.getOptions()}class Su{constructor(t={}){this._traceId=t.traceId||on(),this._spanId=t.spanId||on().substring(16)}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:M5}}end(t){}setAttribute(t,n){return this}setAttributes(t){return this}setStatus(t){return this}updateName(t){return this}isRecording(){return!1}addEvent(t,n,r){return this}}const eS="production",D5="_frozenDsc";function ek(e,t){Hi(e,D5,t)}function qm(e,t){const n=t.getOptions(),{publicKey:r}=t.getDsn()||{},i=Sr({environment:n.environment||eS,release:n.release,public_key:r,trace_id:e});return t.emit("createDsc",i),i}function Ol(e){const t=Et();if(!t)return{};const n=qm(xt(e).trace_id||"",t),r=Wr(e),i=r[D5];if(i)return i;const s=r.spanContext().traceState,o=s&&s.get("sentry.dsc"),a=o&&E5(o);if(a)return a;const l=xt(r),c=l.data||{},u=c[T5];u!=null&&(n.sample_rate=`${u}`);const d=c[ea],h=l.description;return d!=="url"&&h&&(n.transaction=h),n.sampled=String(jl(r)),t.emit("createDsc",n,r),n}function P8(e){if(!tt)return;const{description:t="< unknown name >",op:n="< unknown op >",parent_span_id:r}=xt(e),{spanId:i}=e.spanContext(),s=jl(e),o=Wr(e),a=o===e,l=`[Tracing] Starting ${s?"sampled":"unsampled"} ${a?"root ":""}span`,c=[`op: ${n}`,`name: ${t}`,`ID: ${i}`];if(r&&c.push(`parent ID: ${r}`),!a){const{op:u,description:d}=xt(o);c.push(`root ID: ${o.spanContext().spanId}`),u&&c.push(`root op: ${u}`),d&&c.push(`root description: ${d}`)}pe.log(`${l}
  ${c.join(`
  `)}`)}function R8(e){if(!tt)return;const{description:t="< unknown name >",op:n="< unknown op >"}=xt(e),{spanId:r}=e.spanContext(),s=Wr(e)===e,o=`[Tracing] Finishing "${n}" ${s?"root ":""}span "${t}" with ID ${r}`;pe.log(o)}function $5(e){if(typeof e=="boolean")return Number(e);const t=typeof e=="string"?parseFloat(e):e;if(typeof t!="number"||isNaN(t)||t<0||t>1){tt&&pe.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`);return}return t}function M8(e,t){if(!ya(e))return[!1];let n;typeof e.tracesSampler=="function"?n=e.tracesSampler(t):t.parentSampled!==void 0?n=t.parentSampled:typeof e.tracesSampleRate<"u"?n=e.tracesSampleRate:n=1;const r=$5(n);return r===void 0?(tt&&pe.warn("[Tracing] Discarding transaction because of invalid sample rate."),[!1]):r?Math.random()<r?[!0,r]:(tt&&pe.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(n)})`),[!1,r]):(tt&&pe.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,r])}function j8(e,t){return t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]]),e}function O8(e,t,n,r){const i=C5(n),s={sent_at:new Date().toISOString(),...i&&{sdk:i},...!!r&&t&&{dsn:Au(t)}},o="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return _u(s,[o])}function V8(e,t,n,r){const i=C5(n),s=e.type&&e.type!=="replay_event"?e.type:"event";j8(e,n&&n.sdk);const o=Z6(e,i,r,t);return delete e.sdkProcessingMetadata,_u(o,[[{type:s},e]])}function L8(e,t){function n(u){return!!u.trace_id&&!!u.public_key}const r=Ol(e[0]),i=t&&t.getDsn(),s=t&&t.getOptions().tunnel,o={sent_at:new Date().toISOString(),...n(r)&&{trace:r},...!!s&&i&&{dsn:Au(i)}},a=t&&t.getOptions().beforeSendSpan,l=a?u=>a(xt(u)):u=>xt(u),c=[];for(const u of e){const d=l(u);d&&c.push(Q6(d))}return _u(o,c)}function N8(e,t,n){const r=Zi(),i=r&&Wr(r);i&&i.addEvent(e,{[Zb]:t,[Xb]:n})}function tk(e){if(!e||e.length===0)return;const t={};return e.forEach(n=>{const r=n.attributes||{},i=r[Xb],s=r[Zb];typeof i=="string"&&typeof s=="number"&&(t[n.name]={value:s,unit:i})}),t}const nk=1e3;class tS{constructor(t={}){this._traceId=t.traceId||on(),this._spanId=t.spanId||on().substring(16),this._startTime=t.startTimestamp||xr(),this._attributes={},this.setAttributes({[Fn]:"manual",[uf]:t.op,...t.attributes}),this._name=t.name,t.parentSpanId&&(this._parentSpanId=t.parentSpanId),"sampled"in t&&(this._sampled=t.sampled),t.endTimestamp&&(this._endTime=t.endTimestamp),this._events=[],this._isStandaloneSpan=t.isStandalone,this._endTime&&this._onSpanEnded()}spanContext(){const{_spanId:t,_traceId:n,_sampled:r}=this;return{spanId:t,traceId:n,traceFlags:r?j5:M5}}setAttribute(t,n){n===void 0?delete this._attributes[t]:this._attributes[t]=n}setAttributes(t){Object.keys(t).forEach(n=>this.setAttribute(n,t[n]))}updateStartTime(t){this._startTime=ol(t)}setStatus(t){return this._status=t,this}updateName(t){return this._name=t,this}end(t){this._endTime||(this._endTime=ol(t),R8(this),this._onSpanEnded())}getSpanJSON(){return Sr({data:this._attributes,description:this._name,op:this._attributes[uf],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:V5(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[Fn],_metrics_summary:s1(this),profile_id:this._attributes[A8],exclusive_time:this._attributes[I5],measurements:tk(this._events),is_segment:this._isStandaloneSpan&&Wr(this)===this||void 0,segment_id:this._isStandaloneSpan?Wr(this).spanContext().spanId:void 0})}isRecording(){return!this._endTime&&!!this._sampled}addEvent(t,n,r){tt&&pe.log("[Tracing] Adding an event to span:",t);const i=rk(n)?n:r||xr(),s=rk(n)?{}:n||{},o={name:t,time:ol(i),attributes:s};return this._events.push(o),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){const t=Et();if(t&&t.emit("spanEnd",this),!(this._isStandaloneSpan||this===Wr(this)))return;if(this._isStandaloneSpan){this._sampled?D8(L8([this],t)):(tt&&pe.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),t&&t.recordDroppedEvent("sample_rate","span"));return}const r=this._convertSpanToTransaction();r&&(Z2(this).scope||ln()).captureEvent(r)}_convertSpanToTransaction(){if(!ik(xt(this)))return;this._name||(tt&&pe.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");const{scope:t,isolationScope:n}=Z2(this),i=(t||ln()).getClient()||Et();if(this._sampled!==!0){tt&&pe.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),i&&i.recordDroppedEvent("sample_rate","transaction");return}const o=Up(this).filter(d=>d!==this&&!B8(d)).map(d=>xt(d)).filter(ik),a=this._attributes[ea],l={contexts:{trace:S8(this)},spans:o.length>nk?o.sort((d,h)=>d.start_timestamp-h.start_timestamp).slice(0,nk):o,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:t,capturedSpanIsolationScope:n,...Sr({dynamicSamplingContext:Ol(this)})},_metrics_summary:s1(this),...a&&{transaction_info:{source:a}}},c=tk(this._events);return c&&Object.keys(c).length&&(tt&&pe.log("[Measurements] Adding measurements to transaction event",JSON.stringify(c,void 0,2)),l.measurements=c),l}}function rk(e){return e&&typeof e=="number"||e instanceof Date||Array.isArray(e)}function ik(e){return!!e.start_timestamp&&!!e.timestamp&&!!e.span_id&&!!e.trace_id}function B8(e){return e instanceof tS&&e.isStandaloneSpan()}function D8(e){const t=Et();if(!t)return;const n=e[1];if(!n||n.length===0){t.recordDroppedEvent("before_send","span");return}const r=t.getTransport();r&&r.send(e).then(null,i=>{tt&&pe.error("Error while sending span:",i)})}const F5="__SENTRY_SUPPRESS_TRACING__";function Ys(e){const t=z5();if(t.startInactiveSpan)return t.startInactiveSpan(e);const n=F8(e),{forceTransaction:r,parentSpan:i}=e;return(e.scope?o=>Gm(e.scope,o):i?o=>jg(i,o):o=>o())(()=>{const o=ln(),a=U8(o);return e.onlyIfParent&&!a?new Su:$8({parentSpan:a,spanArguments:n,forceTransaction:r,scope:o})})}function jg(e,t){const n=z5();return n.withActiveSpan?n.withActiveSpan(e,t):Gm(r=>(cf(r,e||void 0),t(r)))}function $8({parentSpan:e,spanArguments:t,forceTransaction:n,scope:r}){if(!ya())return new Su;const i=Xi();let s;if(e&&!n)s=z8(e,r,t),L5(e,s);else if(e){const o=Ol(e),{traceId:a,spanId:l}=e.spanContext(),c=jl(e);s=sk({traceId:a,parentSpanId:l,...t},r,c),ek(s,o)}else{const{traceId:o,dsc:a,parentSpanId:l,sampled:c}={...i.getPropagationContext(),...r.getPropagationContext()};s=sk({traceId:o,parentSpanId:l,...t},r,c),a&&ek(s,a)}return P8(s),T8(s,r,i),s}function F8(e){const n={isStandalone:(e.experimental||{}).standalone,...e};if(e.startTime){const r={...n};return r.startTimestamp=ol(e.startTime),delete r.startTime,r}return n}function z5(){const e=bu();return th(e)}function sk(e,t,n){const r=Et(),i=r&&r.getOptions()||{},{name:s="",attributes:o}=e,[a,l]=t.getScopeData().sdkProcessingMetadata[F5]?[!1]:M8(i,{name:s,parentSampled:n,attributes:o,transactionContext:{name:s,parentSampled:n}}),c=new tS({...e,attributes:{[ea]:"custom",...e.attributes},sampled:a});return l!==void 0&&c.setAttribute(T5,l),r&&r.emit("spanStart",c),c}function z8(e,t,n){const{spanId:r,traceId:i}=e.spanContext(),s=t.getScopeData().sdkProcessingMetadata[F5]?!1:jl(e),o=s?new tS({...n,parentSpanId:r,traceId:i,sampled:s}):new Su({traceId:i});L5(e,o);const a=Et();return a&&(a.emit("spanStart",o),n.endTimestamp&&a.emit("spanEnd",o)),o}function U8(e){const t=Mg(e);if(!t)return;const n=Et();return(n?n.getOptions():{}).parentSpanIsAlwaysRootSpan?Wr(t):t}const Hp={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3},H8="heartbeatFailed",G8="idleTimeout",q8="finalTimeout",W8="externalFinish";function U5(e,t={}){const n=new Map;let r=!1,i,s=W8,o=!t.disableAutoFinish;const{idleTimeout:a=Hp.idleTimeout,finalTimeout:l=Hp.finalTimeout,childSpanTimeout:c=Hp.childSpanTimeout,beforeSpanEnd:u}=t,d=Et();if(!d||!ya())return new Su;const h=ln(),p=Zi(),g=K8(e);g.end=new Proxy(g.end,{apply(b,w,E){u&&u(g);const[T,...j]=E,B=T||xr(),D=ol(B),q=Up(g).filter($=>$!==g);if(!q.length)return x(D),Reflect.apply(b,w,[D,...j]);const M=q.map($=>xt($).timestamp).filter($=>!!$),V=M.length?Math.max(...M):void 0,P=xt(g).start_timestamp,I=Math.min(P?P+l/1e3:1/0,Math.max(P||-1/0,Math.min(D,V||1/0)));return x(I),Reflect.apply(b,w,[I,...j])}});function m(){i&&(clearTimeout(i),i=void 0)}function _(b){m(),i=setTimeout(()=>{!r&&n.size===0&&o&&(s=G8,g.end(b))},a)}function v(b){i=setTimeout(()=>{!r&&o&&(s=H8,g.end(b))},c)}function A(b){m(),n.set(b,!0);const w=xr();v(w+c/1e3)}function S(b){if(n.has(b)&&n.delete(b),n.size===0){const w=xr();_(w+a/1e3)}}function x(b){r=!0,n.clear(),cf(h,p);const w=xt(g),{start_timestamp:E}=w;if(!E)return;(w.data||{})[o1]||g.setAttribute(o1,s),pe.log(`[Tracing] Idle span "${w.op}" finished`);const j=Up(g).filter(D=>D!==g);let B=0;j.forEach(D=>{D.isRecording()&&(D.setStatus({code:qn,message:"cancelled"}),D.end(b),tt&&pe.log("[Tracing] Cancelling span since span ended early",JSON.stringify(D,void 0,2)));const q=xt(D),{timestamp:M=0,start_timestamp:V=0}=q,P=V<=b,I=(l+a)/1e3,$=M-V<=I;if(tt){const O=JSON.stringify(D,void 0,2);P?$||pe.log("[Tracing] Discarding span since it finished after idle span final timeout",O):pe.log("[Tracing] Discarding span since it happened after idle span was finished",O)}(!$||!P)&&(k8(g,D),B++)}),B>0&&g.setAttribute("sentry.idle_span_discarded_spans",B)}return d.on("spanStart",b=>{if(r||b===g||xt(b).timestamp)return;Up(g).includes(b)&&A(b.spanContext().spanId)}),d.on("spanEnd",b=>{r||S(b.spanContext().spanId)}),d.on("idleSpanEnableAutoFinish",b=>{b===g&&(o=!0,_(),n.size&&v())}),t.disableAutoFinish||_(),setTimeout(()=>{r||(g.setStatus({code:qn,message:"deadline_exceeded"}),s=q8,g.end())},l),g}function K8(e){const t=Ys(e);return cf(ln(),t),tt&&pe.log("[Tracing] Started span is an idle span"),t}function c1(e,t,n,r=0){return new Vi((i,s)=>{const o=e[r];if(t===null||typeof o!="function")i(t);else{const a=o({...t},n);tt&&o.id&&a===null&&pe.log(`Event processor "${o.id}" dropped event`),Hm(a)?a.then(l=>c1(e,l,n,r+1).then(i)).then(null,s):c1(e,a,n,r+1).then(i).then(null,s)}})}function Y8(e,t){const{fingerprint:n,span:r,breadcrumbs:i,sdkProcessingMetadata:s}=t;Q8(e,t),r&&Z8(e,r),ez(e,n),J8(e,i),X8(e,s)}function ok(e,t){const{extra:n,tags:r,user:i,contexts:s,level:o,sdkProcessingMetadata:a,breadcrumbs:l,fingerprint:c,eventProcessors:u,attachments:d,propagationContext:h,transactionName:p,span:g}=t;qu(e,"extra",n),qu(e,"tags",r),qu(e,"user",i),qu(e,"contexts",s),qu(e,"sdkProcessingMetadata",a),o&&(e.level=o),p&&(e.transactionName=p),g&&(e.span=g),l.length&&(e.breadcrumbs=[...e.breadcrumbs,...l]),c.length&&(e.fingerprint=[...e.fingerprint,...c]),u.length&&(e.eventProcessors=[...e.eventProcessors,...u]),d.length&&(e.attachments=[...e.attachments,...d]),e.propagationContext={...e.propagationContext,...h}}function qu(e,t,n){if(n&&Object.keys(n).length){e[t]={...e[t]};for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[t][r]=n[r])}}function Q8(e,t){const{extra:n,tags:r,user:i,contexts:s,level:o,transactionName:a}=t,l=Sr(n);l&&Object.keys(l).length&&(e.extra={...l,...e.extra});const c=Sr(r);c&&Object.keys(c).length&&(e.tags={...c,...e.tags});const u=Sr(i);u&&Object.keys(u).length&&(e.user={...u,...e.user});const d=Sr(s);d&&Object.keys(d).length&&(e.contexts={...d,...e.contexts}),o&&(e.level=o),a&&e.type!=="transaction"&&(e.transaction=a)}function J8(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}function X8(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}function Z8(e,t){e.contexts={trace:x8(t),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:Ol(t),...e.sdkProcessingMetadata};const n=Wr(t),r=xt(n).description;r&&!e.transaction&&e.type==="transaction"&&(e.transaction=r)}function ez(e,t){e.fingerprint=e.fingerprint?S5(e.fingerprint):[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}function tz(e,t,n,r,i,s){const{normalizeDepth:o=3,normalizeMaxBreadth:a=1e3}=e,l={...t,event_id:t.event_id||n.event_id||on(),timestamp:t.timestamp||eh()},c=n.integrations||e.integrations.map(_=>_.name);nz(l,e),sz(l,c),i&&i.emit("applyFrameMetadata",t),t.type===void 0&&rz(l,e.stackParser);const u=az(r,n.captureContext);n.mechanism&&lf(l,n.mechanism);const d=i?i.getEventProcessors():[],h=v8().getScopeData();if(s){const _=s.getScopeData();ok(h,_)}if(u){const _=u.getScopeData();ok(h,_)}const p=[...n.attachments||[],...h.attachments];p.length&&(n.attachments=p),Y8(l,h);const g=[...d,...h.eventProcessors];return c1(g,l,n).then(_=>(_&&iz(_),typeof o=="number"&&o>0?oz(_,o,a):_))}function nz(e,t){const{environment:n,release:r,dist:i,maxValueLength:s=250}=t;"environment"in e||(e.environment="environment"in t?n:eS),e.release===void 0&&r!==void 0&&(e.release=r),e.dist===void 0&&i!==void 0&&(e.dist=i),e.message&&(e.message=Ic(e.message,s));const o=e.exception&&e.exception.values&&e.exception.values[0];o&&o.value&&(o.value=Ic(o.value,s));const a=e.request;a&&a.url&&(a.url=Ic(a.url,s))}const ak=new WeakMap;function rz(e,t){const n=yt._sentryDebugIds;if(!n)return;let r;const i=ak.get(t);i?r=i:(r=new Map,ak.set(t,r));const s=Object.entries(n).reduce((o,[a,l])=>{let c;const u=r.get(a);u?c=u:(c=t(a),r.set(a,c));for(let d=c.length-1;d>=0;d--){const h=c[d];if(h.filename){o[h.filename]=l;break}}return o},{});try{e.exception.values.forEach(o=>{o.stacktrace.frames.forEach(a=>{a.filename&&(a.debug_id=s[a.filename])})})}catch{}}function iz(e){const t={};try{e.exception.values.forEach(r=>{r.stacktrace.frames.forEach(i=>{i.debug_id&&(i.abs_path?t[i.abs_path]=i.debug_id:i.filename&&(t[i.filename]=i.debug_id),delete i.debug_id)})})}catch{}if(Object.keys(t).length===0)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.entries(t).forEach(([r,i])=>{n.push({type:"sourcemap",code_file:r,debug_id:i})})}function sz(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function oz(e,t,n){if(!e)return null;const r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(i=>({...i,...i.data&&{data:Go(i.data,t,n)}}))},...e.user&&{user:Go(e.user,t,n)},...e.contexts&&{contexts:Go(e.contexts,t,n)},...e.extra&&{extra:Go(e.extra,t,n)}};return e.contexts&&e.contexts.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=Go(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map(i=>({...i,...i.data&&{data:Go(i.data,t,n)}}))),r}function az(e,t){if(!t)return e;const n=e?e.clone():new va;return n.update(t),n}function lz(e){if(e)return cz(e)?{captureContext:e}:dz(e)?{captureContext:e}:e}function cz(e){return e instanceof va||typeof e=="function"}const uz=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function dz(e){return Object.keys(e).some(t=>uz.includes(t))}function to(e,t){return ln().captureException(e,lz(t))}function H5(e,t){return ln().captureEvent(e,t)}function fz(e,t){Xi().setContext(e,t)}function hz(e){Xi().setUser(e)}function pz(){return Xi().lastEventId()}function lk(e){const t=Et(),n=Xi(),r=ln(),{release:i,environment:s=eS}=t&&t.getOptions()||{},{userAgent:o}=yt.navigator||{},a=a8({release:i,environment:s,user:r.getUser()||n.getUser(),...o&&{userAgent:o},...e}),l=n.getSession();return l&&l.status==="ok"&&Yc(l,{status:"exited"}),G5(),n.setSession(a),r.setSession(a),a}function G5(){const e=Xi(),t=ln(),n=t.getSession()||e.getSession();n&&l8(n),q5(),e.setSession(),t.setSession()}function q5(){const e=Xi(),t=ln(),n=Et(),r=t.getSession()||e.getSession();r&&n&&n.captureSession(r)}function ck(e=!1){if(e){G5();return}q5()}const gz="7";function W5(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function mz(e){return`${W5(e)}${e.projectId}/envelope/`}function vz(e,t){return y6({sentry_key:e.publicKey,sentry_version:gz,...t&&{sentry_client:`${t.name}/${t.version}`}})}function yz(e,t,n){return t||`${mz(e)}?${vz(e,n)}`}function Az(e,t){const n=d5(e);if(!n)return"";const r=`${W5(n)}embed/error-page/`;let i=`dsn=${Au(n)}`;for(const s in t)if(s!=="dsn"&&s!=="onClose")if(s==="user"){const o=t.user;if(!o)continue;o.name&&(i+=`&name=${encodeURIComponent(o.name)}`),o.email&&(i+=`&email=${encodeURIComponent(o.email)}`)}else i+=`&${encodeURIComponent(s)}=${encodeURIComponent(t[s])}`;return`${r}?${i}`}const uk=[];function _z(e){const t={};return e.forEach(n=>{const{name:r}=n,i=t[r];i&&!i.isDefaultInstance&&n.isDefaultInstance||(t[r]=n)}),Object.values(t)}function bz(e){const t=e.defaultIntegrations||[],n=e.integrations;t.forEach(o=>{o.isDefaultInstance=!0});let r;Array.isArray(n)?r=[...t,...n]:typeof n=="function"?r=S5(n(t)):r=t;const i=_z(r),s=i.findIndex(o=>o.name==="Debug");if(s>-1){const[o]=i.splice(s,1);i.push(o)}return i}function Sz(e,t){const n={};return t.forEach(r=>{r&&K5(e,r,n)}),n}function dk(e,t){for(const n of t)n&&n.afterAllSetup&&n.afterAllSetup(e)}function K5(e,t,n){if(n[t.name]){tt&&pe.log(`Integration skipped because it was already installed: ${t.name}`);return}if(n[t.name]=t,uk.indexOf(t.name)===-1&&typeof t.setupOnce=="function"&&(t.setupOnce(),uk.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),typeof t.preprocessEvent=="function"){const r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(i,s)=>r(i,s,e))}if(typeof t.processEvent=="function"){const r=t.processEvent.bind(t),i=Object.assign((s,o)=>r(s,o,e),{id:t.name});e.addEventProcessor(i)}tt&&pe.log(`Integration installed: ${t.name}`)}const fk="Not capturing exception because it's already been captured.";class xz{constructor(t){if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=d5(t.dsn):tt&&pe.warn("No DSN provided, client will not send events."),this._dsn){const n=yz(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:n})}}captureException(t,n,r){const i=on();if(q2(t))return tt&&pe.log(fk),i;const s={event_id:i,...n};return this._process(this.eventFromException(t,s).then(o=>this._captureEvent(o,s,r))),s.event_id}captureMessage(t,n,r,i){const s={event_id:on(),...r},o=Gb(t)?t:String(t),a=qb(t)?this.eventFromMessage(o,n,s):this.eventFromException(t,s);return this._process(a.then(l=>this._captureEvent(l,s,i))),s.event_id}captureEvent(t,n,r){const i=on();if(n&&n.originalException&&q2(n.originalException))return tt&&pe.log(fk),i;const s={event_id:i,...n},a=(t.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(t,s,a||r)),s.event_id}captureSession(t){typeof t.release!="string"?tt&&pe.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),Yc(t,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const n=this._transport;return n?(this.emit("flush"),this._isClientDoneProcessing(t).then(r=>n.flush(t).then(i=>r&&i))):ml(!0)}close(t){return this.flush(t).then(n=>(this.getOptions().enabled=!1,this.emit("close"),n))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){this._isEnabled()&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){const n=this._integrations[t.name];K5(this,t,this._integrations),n||dk(this,[t])}sendEvent(t,n={}){this.emit("beforeSendEvent",t,n);let r=V8(t,this._dsn,this._options._metadata,this._options.tunnel);for(const s of n.attachments||[])r=W6(r,J6(s));const i=this.sendEnvelope(r);i&&i.then(s=>this.emit("afterSendEvent",t,s),null)}sendSession(t){const n=O8(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(n)}recordDroppedEvent(t,n,r){if(this._options.sendClientReports){const i=`${t}:${n}`;tt&&pe.log(`Adding outcome: "${i}"`),this._outcomes[i]=(this._outcomes[i]||0)+1}}on(t,n){return this._hooks[t]||(this._hooks[t]=[]),this._hooks[t].push(n),()=>{const r=this._hooks[t];if(r){const i=r.indexOf(n);r.splice(i,1)}}}emit(t,...n){const r=this._hooks[t];r&&r.forEach(i=>i(...n))}sendEnvelope(t){return this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport?this._transport.send(t).then(null,n=>(tt&&pe.error("Error while sending event:",n),n)):(tt&&pe.error("Transport disabled"),ml({}))}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=Sz(this,t),dk(this,t)}_updateSessionFromEvent(t,n){let r=!1,i=!1;const s=n.exception&&n.exception.values;if(s){i=!0;for(const l of s){const c=l.mechanism;if(c&&c.handled===!1){r=!0;break}}}const o=t.status==="ok";(o&&t.errors===0||o&&r)&&(Yc(t,{...r&&{status:"crashed"},errors:t.errors||Number(i||r)}),this.captureSession(t))}_isClientDoneProcessing(t){return new Vi(n=>{let r=0;const i=1,s=setInterval(()=>{this._numProcessing==0?(clearInterval(s),n(!0)):(r+=i,t&&r>=t&&(clearInterval(s),n(!1)))},i)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,n,r,i=Xi()){const s=this.getOptions(),o=Object.keys(this._integrations);return!n.integrations&&o.length>0&&(n.integrations=o),this.emit("preprocessEvent",t,n),t.type||i.setLastEventId(t.event_id||n.event_id),tz(s,t,n,r,this,i).then(a=>{if(a===null)return a;const l={...i.getPropagationContext(),...r?r.getPropagationContext():void 0};if(!(a.contexts&&a.contexts.trace)&&l){const{traceId:u,spanId:d,parentSpanId:h,dsc:p}=l;a.contexts={trace:Sr({trace_id:u,span_id:d,parent_span_id:h}),...a.contexts};const g=p||qm(u,this);a.sdkProcessingMetadata={dynamicSamplingContext:g,...a.sdkProcessingMetadata}}return a})}_captureEvent(t,n={},r){return this._processEvent(t,n,r).then(i=>i.event_id,i=>{if(tt){const s=i;s.logLevel==="log"?pe.log(s.message):pe.warn(s)}})}_processEvent(t,n,r){const i=this.getOptions(),{sampleRate:s}=i,o=u1(t),a=Y5(t),l=t.type||"error",c=`before send for type \`${l}\``,u=typeof s>"u"?void 0:$5(s);if(a&&typeof u=="number"&&Math.random()>u)return this.recordDroppedEvent("sample_rate","error",t),Pg(new zs(`Discarding event because it's not included in the random sample (sampling rate = ${s})`,"log"));const d=l==="replay_event"?"replay":l,p=(t.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(t,n,r,p).then(g=>{if(g===null)throw this.recordDroppedEvent("event_processor",d,t),new zs("An event processor returned `null`, will not send event.","log");if(n.data&&n.data.__sentry__===!0)return g;const _=Ez(this,i,g,n);return wz(_,c)}).then(g=>{if(g===null){if(this.recordDroppedEvent("before_send",d,t),u1(t)){const A=1+(t.spans||[]).length;this._outcomes.span=(this._outcomes.span||0)+A}throw new zs(`${c} returned \`null\`, will not send event.`,"log")}const m=r&&r.getSession();!o&&m&&this._updateSessionFromEvent(m,g);const _=g.transaction_info;if(o&&_&&g.transaction!==t.transaction){const v="custom";g.transaction_info={..._,source:v}}return this.sendEvent(g,n),g}).then(null,g=>{throw g instanceof zs?g:(this.captureException(g,{data:{__sentry__:!0},originalException:g}),new zs(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${g}`))})}_process(t){this._numProcessing++,t.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.entries(t).map(([n,r])=>{const[i,s]=n.split(":");return{reason:i,category:s,quantity:r}})}}function wz(e,t){const n=`${t} must return \`null\` or a valid event.`;if(Hm(e))return e.then(r=>{if(!Wc(r)&&r!==null)throw new zs(n);return r},r=>{throw new zs(`${t} rejected with ${r}`)});if(!Wc(e)&&e!==null)throw new zs(n);return e}function Ez(e,t,n,r){const{beforeSend:i,beforeSendTransaction:s,beforeSendSpan:o}=t;if(Y5(n)&&i)return i(n,r);if(u1(n)){if(n.spans&&o){const a=[];for(const l of n.spans){const c=o(l);c?a.push(c):e.recordDroppedEvent("before_send","span")}n.spans=a}if(s)return s(n,r)}return n}function Y5(e){return e.type===void 0}function u1(e){return e.type==="transaction"}function kz(e,t){t.debug===!0&&(tt?pe.enable():Zf(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),ln().update(t.initialScope);const r=new e(t);return Cz(r),r.init(),r}function Cz(e){ln().setClient(e)}const Tz=64;function Iz(e,t,n=N6(e.bufferSize||Tz)){let r={};const i=o=>n.drain(o);function s(o){const a=[];if(K2(o,(d,h)=>{const p=Y2(h);if(i8(r,p)){const g=hk(d,h);e.recordDroppedEvent("ratelimit_backoff",p,g)}else a.push(d)}),a.length===0)return ml({});const l=_u(o[0],a),c=d=>{K2(l,(h,p)=>{const g=hk(h,p);e.recordDroppedEvent(d,Y2(p),g)})},u=()=>t({body:K6(l)}).then(d=>(d.statusCode!==void 0&&(d.statusCode<200||d.statusCode>=300)&&tt&&pe.warn(`Sentry responded with status code ${d.statusCode} to sent event.`),r=s8(r,d),d),d=>{throw c("network_error"),d});return n.add(u).then(d=>d,d=>{if(d instanceof zs)return tt&&pe.error("Skipped sending event because buffer is full."),c("queue_overflow"),ml({});throw d})}return{send:s,flush:i}}function hk(e,t){if(!(t!=="event"&&t!=="transaction"))return Array.isArray(e)?e[1]:void 0}function Q5(e,t,n=[t],r="npm"){const i=e._metadata||{};i.sdk||(i.sdk={name:`sentry.javascript.${t}`,packages:n.map(s=>({name:`${r}:@sentry/${s}`,version:il})),version:il}),e._metadata=i}const Pz=100;function vl(e,t){const n=Et(),r=Xi();if(!n)return;const{beforeBreadcrumb:i=null,maxBreadcrumbs:s=Pz}=n.getOptions();if(s<=0)return;const a={timestamp:eh(),...e},l=i?Zf(()=>i(a,t)):a;l!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",l,t),r.addBreadcrumb(l,s))}let pk;const Rz="FunctionToString",gk=new WeakMap,Mz=()=>({name:Rz,setupOnce(){pk=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=Kb(this),n=gk.has(Et())&&t!==void 0?t:this;return pk.apply(n,e)}}catch{}},setup(e){gk.set(e,!0)}}),jz=Mz,Oz=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler"],Vz="InboundFilters",Lz=(e={})=>({name:Vz,processEvent(t,n,r){const i=r.getOptions(),s=Bz(e,i);return Dz(t,s)?null:t}}),Nz=Lz;function Bz(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:Oz],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]],ignoreInternal:e.ignoreInternal!==void 0?e.ignoreInternal:!0}}function Dz(e,t){return t.ignoreInternal&&Gz(e)?(tt&&pe.warn(`Event dropped due to being internal Sentry Error.
Event: ${Ho(e)}`),!0):$z(e,t.ignoreErrors)?(tt&&pe.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${Ho(e)}`),!0):Wz(e)?(tt&&pe.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${Ho(e)}`),!0):Fz(e,t.ignoreTransactions)?(tt&&pe.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${Ho(e)}`),!0):zz(e,t.denyUrls)?(tt&&pe.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${Ho(e)}.
Url: ${Og(e)}`),!0):Uz(e,t.allowUrls)?!1:(tt&&pe.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${Ho(e)}.
Url: ${Og(e)}`),!0)}function $z(e,t){return e.type||!t||!t.length?!1:Hz(e).some(n=>rl(n,t))}function Fz(e,t){if(e.type!=="transaction"||!t||!t.length)return!1;const n=e.transaction;return n?rl(n,t):!1}function zz(e,t){if(!t||!t.length)return!1;const n=Og(e);return n?rl(n,t):!1}function Uz(e,t){if(!t||!t.length)return!0;const n=Og(e);return n?rl(n,t):!0}function Hz(e){const t=[];e.message&&t.push(e.message);let n;try{n=e.exception.values[e.exception.values.length-1]}catch{}return n&&n.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`)),t}function Gz(e){try{return e.exception.values[0].type==="SentryError"}catch{}return!1}function qz(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function Og(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch{}return t?qz(t):null}catch{return tt&&pe.error(`Cannot extract url for event ${Ho(e)}`),null}}function Wz(e){return e.type||!e.exception||!e.exception.values||e.exception.values.length===0?!1:!e.message&&!e.exception.values.some(t=>t.stacktrace||t.type&&t.type!=="Error"||t.value)}const Kz="Dedupe",Yz=()=>{let e;return{name:Kz,processEvent(t){if(t.type)return t;try{if(Jz(t,e))return tt&&pe.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}},Qz=Yz;function Jz(e,t){return t?!!(Xz(e,t)||Zz(e,t)):!1}function Xz(e,t){const n=e.message,r=t.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!X5(e,t)||!J5(e,t))}function Zz(e,t){const n=mk(t),r=mk(e);return!(!n||!r||n.type!==r.type||n.value!==r.value||!X5(e,t)||!J5(e,t))}function J5(e,t){let n=U2(e),r=U2(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let i=0;i<r.length;i++){const s=r[i],o=n[i];if(s.filename!==o.filename||s.lineno!==o.lineno||s.colno!==o.colno||s.function!==o.function)return!1}return!0}function X5(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function mk(e){return e.exception&&e.exception.values&&e.exception.values[0]}function e7(e,t,n,r,i="auto.http.browser"){if(!e.fetchData)return;const s=ya()&&t(e.fetchData.url);if(e.endTimestamp&&s){const g=e.fetchData.__span;if(!g)return;const m=r[g];m&&(r7(m,e),delete r[g]);return}const o=ln(),a=Et(),{method:l,url:c}=e.fetchData,u=n7(c),d=u?sl(u).host:void 0,h=!!Zi(),p=s&&h?Ys({name:`${l} ${c}`,attributes:{url:c,type:"fetch","http.method":l,"http.url":u,"server.address":d,[Fn]:i,[uf]:"http.client"}}):new Su;if(e.fetchData.__span=p.spanContext().spanId,r[p.spanContext().spanId]=p,n(e.fetchData.url)&&a){const g=e.args[0];e.args[1]=e.args[1]||{};const m=e.args[1];m.headers=t7(g,a,o,m,ya()&&h?p:void 0)}return p}function t7(e,t,n,r,i){const s=Xi(),{traceId:o,spanId:a,sampled:l,dsc:c}={...s.getPropagationContext(),...n.getPropagationContext()},u=i?O5(i):Yb(o,a,l),d=k5(c||(i?Ol(i):qm(o,t))),h=r.headers||(typeof Request<"u"&&So(e,Request)?e.headers:void 0);if(h)if(typeof Headers<"u"&&So(h,Headers)){const p=new Headers(h);return p.append("sentry-trace",u),d&&p.append(n1,d),p}else if(Array.isArray(h)){const p=[...h,["sentry-trace",u]];return d&&p.push([n1,d]),p}else{const p="baggage"in h?h.baggage:void 0,g=[];return Array.isArray(p)?g.push(...p):p&&g.push(p),d&&g.push(d),{...h,"sentry-trace":u,baggage:g.length>0?g.join(","):void 0}}else return{"sentry-trace":u,baggage:d}}function n7(e){try{return new URL(e).href}catch{return}}function r7(e,t){if(t.response){R5(e,t.response.status);const n=t.response&&t.response.headers&&t.response.headers.get("content-length");if(n){const r=parseInt(n);r>0&&e.setAttribute("http.response_content_length",r)}}else t.error&&e.setStatus({code:qn,message:"internal_error"});e.end()}const De=yt;let d1=0;function Z5(){return d1>0}function i7(){d1++,setTimeout(()=>{d1--})}function Jc(e,t={},n){if(typeof e!="function")return e;try{const i=e.__sentry_wrapped__;if(i)return i;if(Kb(e))return e}catch{return e}const r=function(){const i=Array.prototype.slice.call(arguments);try{n&&typeof n=="function"&&n.apply(this,arguments);const s=i.map(o=>Jc(o,t));return e.apply(this,s)}catch(s){throw i7(),Gm(o=>{o.addEventProcessor(a=>(t.mechanism&&(e1(a,void 0,void 0),lf(a,t.mechanism)),a.extra={...a.extra,arguments:i},a)),to(s)}),s}};try{for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}catch{}f5(r,e),Hi(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return e.name}})}catch{}return r}const ur=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function nS(e,t){const n=rS(e,t),r={type:t&&t.name,value:c7(t)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function s7(e,t,n,r){const i=Et(),s=i&&i.getOptions().normalizeDepth,o=p7(t),a={__serialized__:x5(t,s)};if(o)return{exception:{values:[nS(e,o)]},extra:a};const l={exception:{values:[{type:Um(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:f7(t,{isUnhandledRejection:r})}]},extra:a};if(n){const c=rS(e,n);c.length&&(l.exception.values[0].stacktrace={frames:c})}return l}function Wv(e,t){return{exception:{values:[nS(e,t)]}}}function rS(e,t){const n=t.stacktrace||t.stack||"",r=a7(t),i=l7(t);try{return e(n,r,i)}catch{}return[]}const o7=/Minified React error #\d+;/i;function a7(e){return e&&o7.test(e.message)?1:0}function l7(e){return typeof e.framesToPop=="number"?e.framesToPop:0}function c7(e){const t=e&&e.message;return t?t.error&&typeof t.error.message=="string"?t.error.message:t:"No error message"}function u7(e,t,n,r){const i=n&&n.syntheticException||void 0,s=iS(e,t,i,r);return lf(s),s.level="error",n&&n.event_id&&(s.event_id=n.event_id),ml(s)}function d7(e,t,n="info",r,i){const s=r&&r.syntheticException||void 0,o=f1(e,t,s,i);return o.level=n,r&&r.event_id&&(o.event_id=r.event_id),ml(o)}function iS(e,t,n,r,i){let s;if(a5(t)&&t.error)return Wv(e,t.error);if(V2(t)||t6(t)){const o=t;if("stack"in t)s=Wv(e,t);else{const a=o.name||(V2(o)?"DOMError":"DOMException"),l=o.message?`${a}: ${o.message}`:a;s=f1(e,l,n,r),e1(s,l)}return"code"in o&&(s.tags={...s.tags,"DOMException.code":`${o.code}`}),s}return zm(t)?Wv(e,t):Wc(t)||Um(t)?(s=s7(e,t,n,i),lf(s,{synthetic:!0}),s):(s=f1(e,t,n,r),e1(s,`${t}`,void 0),lf(s,{synthetic:!0}),s)}function f1(e,t,n,r){const i={};if(r&&n){const s=rS(e,n);s.length&&(i.exception={values:[{value:t,stacktrace:{frames:s}}]})}if(Gb(t)){const{__sentry_template_string__:s,__sentry_template_values__:o}=t;return i.logentry={message:s,params:o},i}return i.message=t,i}function f7(e,{isUnhandledRejection:t}){const n=A6(e),r=t?"promise rejection":"exception";return a5(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:Um(e)?`Event \`${h7(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}function h7(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}function p7(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const n=e[t];if(n instanceof Error)return n}}function g7(e,{metadata:t,tunnel:n,dsn:r}){const i={event_id:e.event_id,sent_at:new Date().toISOString(),...t&&t.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}},...!!n&&!!r&&{dsn:Au(r)}},s=m7(e);return _u(i,[s])}function m7(e){return[{type:"user_report"},e]}class v7 extends xz{constructor(t){const n={parentSpanIsAlwaysRootSpan:!0,...t},r=De.SENTRY_SDK_SOURCE||R6();Q5(n,"browser",["browser"],r),super(n),n.sendClientReports&&De.document&&De.document.addEventListener("visibilitychange",()=>{De.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(t,n){return u7(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",r){return d7(this._options.stackParser,t,n,r,this._options.attachStacktrace)}captureUserFeedback(t){if(!this._isEnabled()){ur&&pe.warn("SDK not enabled, will not capture user feedback.");return}const n=g7(t,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(n)}_prepareEvent(t,n,r){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,r)}_flushOutcomes(){const t=this._clearOutcomes();if(t.length===0){ur&&pe.log("No outcomes to send");return}if(!this._dsn){ur&&pe.log("No dsn provided, will not send outcomes");return}ur&&pe.log("Sending outcomes:",t);const n=e8(t,this._options.tunnel&&Au(this._dsn));this.sendEnvelope(n)}}const ci=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,y7=(e,t)=>e>t[1]?"poor":e>t[0]?"needs-improvement":"good",xu=(e,t,n,r)=>{let i,s;return o=>{t.value>=0&&(o||r)&&(s=t.value-(i||0),(s||i===void 0)&&(i=t.value,t.delta=s,t.rating=y7(t.value,n),e(t)))}},Ge=yt,A7=()=>`v3-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,nh=()=>Ge.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0],Wm=()=>{const e=nh();return e&&e.activationStart||0},wu=(e,t)=>{const n=nh();let r="navigate";return n&&(Ge.document&&Ge.document.prerendering||Wm()>0?r="prerender":Ge.document&&Ge.document.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:typeof t>"u"?-1:t,rating:"good",delta:0,entries:[],id:A7(),navigationType:r}},Vl=(e,t,n)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const r=new PerformanceObserver(i=>{Promise.resolve().then(()=>{t(i.getEntries())})});return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch{}},Km=e=>{const t=n=>{(n.type==="pagehide"||Ge.document&&Ge.document.visibilityState==="hidden")&&e(n)};Ge.document&&(addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0))},sS=e=>{let t=!1;return n=>{t||(e(n),t=!0)}};let df=-1;const _7=()=>{df=Ge.document.visibilityState==="hidden"&&!Ge.document.prerendering?0:1/0},Vg=e=>{Ge.document.visibilityState==="hidden"&&df>-1&&(df=e.type==="visibilitychange"?e.timeStamp:0,removeEventListener("visibilitychange",Vg,!0),removeEventListener("prerenderingchange",Vg,!0))},b7=()=>{addEventListener("visibilitychange",Vg,!0),addEventListener("prerenderingchange",Vg,!0)},Ym=()=>(Ge.document&&df<0&&(_7(),b7()),{get firstHiddenTime(){return df}}),rh=e=>{Ge.document&&Ge.document.prerendering?addEventListener("prerenderingchange",()=>e(),!0):e()},S7=[1800,3e3],x7=(e,t={})=>{rh(()=>{const n=Ym(),r=wu("FCP");let i;const o=Vl("paint",a=>{a.forEach(l=>{l.name==="first-contentful-paint"&&(o.disconnect(),l.startTime<n.firstHiddenTime&&(r.value=Math.max(l.startTime-Wm(),0),r.entries.push(l),i(!0)))})});o&&(i=xu(e,r,S7,t.reportAllChanges))})},w7=[.1,.25],E7=(e,t={})=>{x7(sS(()=>{const n=wu("CLS",0);let r,i=0,s=[];const o=l=>{l.forEach(c=>{if(!c.hadRecentInput){const u=s[0],d=s[s.length-1];i&&u&&d&&c.startTime-d.startTime<1e3&&c.startTime-u.startTime<5e3?(i+=c.value,s.push(c)):(i=c.value,s=[c])}}),i>n.value&&(n.value=i,n.entries=s,r())},a=Vl("layout-shift",o);a&&(r=xu(e,n,w7,t.reportAllChanges),Km(()=>{o(a.takeRecords()),r(!0)}),setTimeout(r,0))}))},k7=[100,300],C7=(e,t={})=>{rh(()=>{const n=Ym(),r=wu("FID");let i;const s=l=>{l.startTime<n.firstHiddenTime&&(r.value=l.processingStart-l.startTime,r.entries.push(l),i(!0))},o=l=>{l.forEach(s)},a=Vl("first-input",o);i=xu(e,r,k7,t.reportAllChanges),a&&Km(sS(()=>{o(a.takeRecords()),a.disconnect()}))})};let ej=0,Kv=1/0,qh=0;const T7=e=>{e.forEach(t=>{t.interactionId&&(Kv=Math.min(Kv,t.interactionId),qh=Math.max(qh,t.interactionId),ej=qh?(qh-Kv)/7+1:0)})};let h1;const I7=()=>h1?ej:performance.interactionCount||0,P7=()=>{"interactionCount"in performance||h1||(h1=Vl("event",T7,{type:"event",buffered:!0,durationThreshold:0}))},R7=[200,500],M7=0,tj=()=>I7()-M7,vk=10,fo=[],Yv={},yk=e=>{const t=fo[fo.length-1],n=Yv[e.interactionId];if(n||fo.length<vk||t&&e.duration>t.latency){if(n)n.entries.push(e),n.latency=Math.max(n.latency,e.duration);else{const r={id:e.interactionId,latency:e.duration,entries:[e]};Yv[r.id]=r,fo.push(r)}fo.sort((r,i)=>i.latency-r.latency),fo.splice(vk).forEach(r=>{delete Yv[r.id]})}},j7=()=>{const e=Math.min(fo.length-1,Math.floor(tj()/50));return fo[e]},O7=(e,t={})=>{rh(()=>{P7();const n=wu("INP");let r;const i=o=>{o.forEach(l=>{l.interactionId&&yk(l),l.entryType==="first-input"&&!fo.some(u=>u.entries.some(d=>l.duration===d.duration&&l.startTime===d.startTime))&&yk(l)});const a=j7();a&&a.latency!==n.value&&(n.value=a.latency,n.entries=a.entries,r())},s=Vl("event",i,{durationThreshold:t.durationThreshold!=null?t.durationThreshold:40});r=xu(e,n,R7,t.reportAllChanges),s&&("PerformanceEventTiming"in Ge&&"interactionId"in PerformanceEventTiming.prototype&&s.observe({type:"first-input",buffered:!0}),Km(()=>{i(s.takeRecords()),n.value<0&&tj()>0&&(n.value=0,n.entries=[]),r(!0)}))})},V7=[2500,4e3],Ak={},L7=(e,t={})=>{rh(()=>{const n=Ym(),r=wu("LCP");let i;const s=a=>{const l=a[a.length-1];l&&l.startTime<n.firstHiddenTime&&(r.value=Math.max(l.startTime-Wm(),0),r.entries=[l],i())},o=Vl("largest-contentful-paint",s);if(o){i=xu(e,r,V7,t.reportAllChanges);const a=sS(()=>{Ak[r.id]||(s(o.takeRecords()),o.disconnect(),Ak[r.id]=!0,i(!0))});["keydown","click"].forEach(l=>{Ge.document&&addEventListener(l,()=>setTimeout(a,0),!0)}),Km(a)}})},N7=[800,1800],p1=e=>{Ge.document&&Ge.document.prerendering?rh(()=>p1(e)):Ge.document&&Ge.document.readyState!=="complete"?addEventListener("load",()=>p1(e),!0):setTimeout(e,0)},B7=(e,t={})=>{const n=wu("TTFB"),r=xu(e,n,N7,t.reportAllChanges);p1(()=>{const i=nh();if(i){const s=i.responseStart;if(s<=0||s>performance.now())return;n.value=Math.max(s-Wm(),0),n.entries=[i],r(!0)}})},Md={},Lg={};let nj,rj,ij,sj,oj;function D7(e,t=!1){return ih("cls",e,H7,nj,t)}function $7(e,t=!1){return ih("lcp",e,q7,ij,t)}function F7(e){return ih("fid",e,G7,rj)}function z7(e){return ih("ttfb",e,W7,sj)}function U7(e){return ih("inp",e,K7,oj)}function ff(e,t){return aj(e,t),Lg[e]||(Y7(e),Lg[e]=!0),lj(e,t)}function Eu(e,t){const n=Md[e];if(!(!n||!n.length))for(const r of n)try{r(t)}catch(i){ci&&pe.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${xo(r)}
Error:`,i)}}function H7(){return E7(e=>{Eu("cls",{metric:e}),nj=e},{reportAllChanges:!0})}function G7(){return C7(e=>{Eu("fid",{metric:e}),rj=e})}function q7(){return L7(e=>{Eu("lcp",{metric:e}),ij=e},{reportAllChanges:!0})}function W7(){return B7(e=>{Eu("ttfb",{metric:e}),sj=e})}function K7(){return O7(e=>{Eu("inp",{metric:e}),oj=e})}function ih(e,t,n,r,i=!1){aj(e,t);let s;return Lg[e]||(s=n(),Lg[e]=!0),r&&t({metric:r}),lj(e,t,i?s:void 0)}function Y7(e){const t={};e==="event"&&(t.durationThreshold=0),Vl(e,n=>{Eu(e,{entries:n})},t)}function aj(e,t){Md[e]=Md[e]||[],Md[e].push(t)}function lj(e,t,n){return()=>{n&&n();const r=Md[e];if(!r)return;const i=r.indexOf(t);i!==-1&&r.splice(i,1)}}function Q7(e){return"duration"in e}function Qv(e){return typeof e=="number"&&isFinite(e)}function Xc(e,t,n,{...r}){const i=xt(e).start_timestamp;return i&&i>t&&typeof e.updateStartTime=="function"&&e.updateStartTime(t),jg(e,()=>{const s=Ys({startTime:t,...r});return s&&s.end(n),s})}function oS(){return Ge&&Ge.addEventListener&&Ge.performance}function Dn(e){return e/1e3}const J7=2147483647;let _k=0,Wn={},Ls,jd;function X7(){const e=oS();if(e&&Gi){e.mark&&Ge.performance.mark("sentry-tracing-init");const t=r9(),n=t9(),r=n9(),i=i9();return()=>{t(),n(),r(),i()}}return()=>{}}function Z7(){ff("longtask",({entries:e})=>{for(const t of e){if(!Zi())return;const n=Dn(Gi+t.startTime),r=Dn(t.duration),i=Ys({name:"Main UI thread blocked",op:"ui.long-task",startTime:n,attributes:{[Fn]:"auto.ui.browser.metrics"}});i&&i.end(n+r)}})}function e9(){ff("event",({entries:e})=>{for(const t of e){if(!Zi())return;if(t.name==="click"){const n=Dn(Gi+t.startTime),r=Dn(t.duration),i={name:Kc(t.target),op:`ui.interaction.${t.name}`,startTime:n,attributes:{[Fn]:"auto.ui.browser.metrics"}},s=c5(t.target);s&&(i.attributes["ui.component_name"]=s);const o=Ys(i);o&&o.end(n+r)}}})}function t9(){return D7(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(ci&&pe.log("[Measurements] Adding CLS"),Wn.cls={value:e.value,unit:""},jd=t)},!0)}function n9(){return $7(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(ci&&pe.log("[Measurements] Adding LCP"),Wn.lcp={value:e.value,unit:"millisecond"},Ls=t)},!0)}function r9(){return F7(({metric:e})=>{const t=e.entries[e.entries.length-1];if(!t)return;const n=Dn(Gi),r=Dn(t.startTime);ci&&pe.log("[Measurements] Adding FID"),Wn.fid={value:e.value,unit:"millisecond"},Wn["mark.fid"]={value:n+r,unit:"second"}})}function i9(){return z7(({metric:e})=>{e.entries[e.entries.length-1]&&(ci&&pe.log("[Measurements] Adding TTFB"),Wn.ttfb={value:e.value,unit:"millisecond"})})}function s9(e){const t=oS();if(!t||!Ge.performance.getEntries||!Gi)return;ci&&pe.log("[Tracing] Adding & adjusting spans using Performance API");const n=Dn(Gi),r=t.getEntries(),{op:i,start_timestamp:s}=xt(e);if(r.slice(_k).forEach(o=>{const a=Dn(o.startTime),l=Dn(o.duration);if(!(i==="navigation"&&s&&n+a<s))switch(o.entryType){case"navigation":{a9(e,o,n);break}case"mark":case"paint":case"measure":{o9(e,o,a,l,n);const c=Ym(),u=o.startTime<c.firstHiddenTime;o.name==="first-paint"&&u&&(ci&&pe.log("[Measurements] Adding FP"),Wn.fp={value:o.startTime,unit:"millisecond"}),o.name==="first-contentful-paint"&&u&&(ci&&pe.log("[Measurements] Adding FCP"),Wn.fcp={value:o.startTime,unit:"millisecond"});break}case"resource":{c9(e,o,o.name,a,l,n);break}}}),_k=Math.max(r.length-1,0),u9(e),i==="pageload"){f9(Wn),["fcp","fp","lcp"].forEach(a=>{const l=Wn[a];if(!l||!s||n>=s)return;const c=l.value,u=n+Dn(c),d=Math.abs((u-s)*1e3),h=d-c;ci&&pe.log(`[Measurements] Normalized ${a} from ${c} to ${d} (${h})`),l.value=d});const o=Wn["mark.fid"];o&&Wn.fid&&(Xc(e,o.value,o.value+Dn(Wn.fid.value),{name:"first input delay",op:"ui.action",attributes:{[Fn]:"auto.ui.browser.metrics"}}),delete Wn["mark.fid"]),"fcp"in Wn||delete Wn.cls,Object.entries(Wn).forEach(([a,l])=>{N8(a,l.value,l.unit)}),d9(e)}Ls=void 0,jd=void 0,Wn={}}function o9(e,t,n,r,i){const s=nh(),o=Dn(s?s.requestStart:0),a=i+Math.max(n,o),l=i+n,c=l+r,u={[Fn]:"auto.resource.browser.metrics"};return a!==l&&(u["sentry.browser.measure_happened_before_request"]=!0,u["sentry.browser.measure_start_time"]=a),Xc(e,a,c,{name:t.name,op:t.entryType,attributes:u}),a}function a9(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(r=>{Wh(e,t,r,n)}),Wh(e,t,"secureConnection",n,"TLS/SSL","connectEnd"),Wh(e,t,"fetch",n,"cache","domainLookupStart"),Wh(e,t,"domainLookup",n,"DNS"),l9(e,t,n)}function Wh(e,t,n,r,i,s){const o=s?t[s]:t[`${n}End`],a=t[`${n}Start`];!a||!o||Xc(e,r+Dn(a),r+Dn(o),{op:"browser",name:i||n,attributes:{[Fn]:"auto.ui.browser.metrics"}})}function l9(e,t,n){const r=n+Dn(t.requestStart),i=n+Dn(t.responseEnd),s=n+Dn(t.responseStart);t.responseEnd&&(Xc(e,r,i,{op:"browser",name:"request",attributes:{[Fn]:"auto.ui.browser.metrics"}}),Xc(e,s,i,{op:"browser",name:"response",attributes:{[Fn]:"auto.ui.browser.metrics"}}))}function c9(e,t,n,r,i,s){if(t.initiatorType==="xmlhttprequest"||t.initiatorType==="fetch")return;const o=sl(n),a={[Fn]:"auto.resource.browser.metrics"};Jv(a,t,"transferSize","http.response_transfer_size"),Jv(a,t,"encodedBodySize","http.response_content_length"),Jv(a,t,"decodedBodySize","http.decoded_response_content_length"),"renderBlockingStatus"in t&&(a["resource.render_blocking_status"]=t.renderBlockingStatus),o.protocol&&(a["url.scheme"]=o.protocol.split(":").pop()),o.host&&(a["server.address"]=o.host),a["url.same_origin"]=n.includes(Ge.location.origin);const l=s+r,c=l+i;Xc(e,l,c,{name:n.replace(Ge.location.origin,""),op:t.initiatorType?`resource.${t.initiatorType}`:"resource.other",attributes:a})}function u9(e){const t=Ge.navigator;if(!t)return;const n=t.connection;n&&(n.effectiveType&&e.setAttribute("effectiveConnectionType",n.effectiveType),n.type&&e.setAttribute("connectionType",n.type),Qv(n.rtt)&&(Wn["connection.rtt"]={value:n.rtt,unit:"millisecond"})),Qv(t.deviceMemory)&&e.setAttribute("deviceMemory",`${t.deviceMemory} GB`),Qv(t.hardwareConcurrency)&&e.setAttribute("hardwareConcurrency",String(t.hardwareConcurrency))}function d9(e){Ls&&(ci&&pe.log("[Measurements] Adding LCP Data"),Ls.element&&e.setAttribute("lcp.element",Kc(Ls.element)),Ls.id&&e.setAttribute("lcp.id",Ls.id),Ls.url&&e.setAttribute("lcp.url",Ls.url.trim().slice(0,200)),e.setAttribute("lcp.size",Ls.size)),jd&&jd.sources&&(ci&&pe.log("[Measurements] Adding CLS Data"),jd.sources.forEach((t,n)=>e.setAttribute(`cls.source.${n+1}`,Kc(t.node))))}function Jv(e,t,n,r){const i=t[n];i!=null&&i<J7&&(e[r]=i)}function f9(e){const t=nh();if(!t)return;const{responseStart:n,requestStart:r}=t;r<=n&&(ci&&pe.log("[Measurements] Adding TTFB Request Time"),e["ttfb.requestTime"]={value:n-r,unit:"millisecond"})}const h9=1e3;let bk,g1,m1;function p9(e){const t="dom";Rl(t,e),Ml(t,g9)}function g9(){if(!Ge.document)return;const e=_s.bind(null,"dom"),t=Sk(e,!0);Ge.document.addEventListener("click",t,!1),Ge.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{const r=Ge[n]&&Ge[n].prototype;!r||!r.hasOwnProperty||!r.hasOwnProperty("addEventListener")||(cr(r,"addEventListener",function(i){return function(s,o,a){if(s==="click"||s=="keypress")try{const l=this,c=l.__sentry_instrumentation_handlers__=l.__sentry_instrumentation_handlers__||{},u=c[s]=c[s]||{refCount:0};if(!u.handler){const d=Sk(e);u.handler=d,i.call(this,s,d,a)}u.refCount++}catch{}return i.call(this,s,o,a)}}),cr(r,"removeEventListener",function(i){return function(s,o,a){if(s==="click"||s=="keypress")try{const l=this,c=l.__sentry_instrumentation_handlers__||{},u=c[s];u&&(u.refCount--,u.refCount<=0&&(i.call(this,s,u.handler,a),u.handler=void 0,delete c[s]),Object.keys(c).length===0&&delete l.__sentry_instrumentation_handlers__)}catch{}return i.call(this,s,o,a)}}))})}function m9(e){if(e.type!==g1)return!1;try{if(!e.target||e.target._sentryId!==m1)return!1}catch{}return!0}function v9(e,t){return e!=="keypress"?!1:!t||!t.tagName?!0:!(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable)}function Sk(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=y9(n);if(v9(n.type,r))return;Hi(n,"_sentryCaptured",!0),r&&!r._sentryId&&Hi(r,"_sentryId",on());const i=n.type==="keypress"?"input":n.type;m9(n)||(e({event:n,name:i,global:t}),g1=n.type,m1=r?r._sentryId:void 0),clearTimeout(bk),bk=Ge.setTimeout(()=>{m1=void 0,g1=void 0},h9)}}function y9(e){try{return e.target}catch{return null}}let Kh;function aS(e){const t="history";Rl(t,e),Ml(t,A9)}function A9(){if(!o8())return;const e=Ge.onpopstate;Ge.onpopstate=function(...n){const r=Ge.location.href,i=Kh;if(Kh=r,_s("history",{from:i,to:r}),e)try{return e.apply(this,n)}catch{}};function t(n){return function(...r){const i=r.length>2?r[2]:void 0;if(i){const s=Kh,o=String(i);Kh=o,_s("history",{from:s,to:o})}return n.apply(this,r)}}cr(Ge.history,"pushState",t),cr(Ge.history,"replaceState",t)}const Gp={};function _9(e){const t=Gp[e];if(t)return t;let n=Ge[e];if(XA(n))return Gp[e]=n.bind(Ge);const r=Ge.document;if(r&&typeof r.createElement=="function")try{const i=r.createElement("iframe");i.hidden=!0,r.head.appendChild(i);const s=i.contentWindow;s&&s[e]&&(n=s[e]),r.head.removeChild(i)}catch(i){ci&&pe.warn(`Could not create sandbox iframe for ${e} check, bailing to window.${e}: `,i)}return n&&(Gp[e]=n.bind(Ge))}function xk(e){Gp[e]=void 0}const ac="__sentry_xhr_v3__";function cj(e){const t="xhr";Rl(t,e),Ml(t,b9)}function b9(){if(!Ge.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;cr(e,"open",function(t){return function(...n){const r=xr()*1e3,i=Ao(n[0])?n[0].toUpperCase():void 0,s=S9(n[1]);if(!i||!s)return t.apply(this,n);this[ac]={method:i,url:s,request_headers:{}},i==="POST"&&s.match(/sentry_key/)&&(this.__sentry_own_request__=!0);const o=()=>{const a=this[ac];if(a&&this.readyState===4){try{a.status_code=this.status}catch{}const l={endTimestamp:xr()*1e3,startTimestamp:r,xhr:this};_s("xhr",l)}};return"onreadystatechange"in this&&typeof this.onreadystatechange=="function"?cr(this,"onreadystatechange",function(a){return function(...l){return o(),a.apply(this,l)}}):this.addEventListener("readystatechange",o),cr(this,"setRequestHeader",function(a){return function(...l){const[c,u]=l,d=this[ac];return d&&Ao(c)&&Ao(u)&&(d.request_headers[c.toLowerCase()]=u),a.apply(this,l)}}),t.apply(this,n)}}),cr(e,"send",function(t){return function(...n){const r=this[ac];if(!r)return t.apply(this,n);n[0]!==void 0&&(r.body=n[0]);const i={startTimestamp:xr()*1e3,xhr:this};return _s("xhr",i),t.apply(this,n)}})}function S9(e){if(Ao(e))return e;try{return e.toString()}catch{}}const Xv=[],qp=new Map;function x9(){if(oS()&&Gi){const t=w9();return()=>{t()}}return()=>{}}const wk={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function w9(){return U7(({metric:e})=>{const t=Et();if(!t||e.value==null)return;const n=e.entries.find(b=>b.duration===e.value&&wk[b.name]);if(!n)return;const{interactionId:r}=n,i=wk[n.name],s=t.getOptions(),o=Dn(Gi+n.startTime),a=Dn(e.value),l=ln(),c=Zi(),u=c?Wr(c):void 0,h=(r!=null?qp.get(r):void 0)||(u?xt(u).description:l.getScopeData().transactionName),p=l.getUser(),g=t.getIntegrationByName("Replay"),m=g&&g.getReplayId(),_=p!==void 0?p.email||p.id||p.ip_address:void 0;let v;try{v=l.getScopeData().contexts.profile.profile_id}catch{}const A=Kc(n.target),S=Sr({release:s.release,environment:s.environment,transaction:h,[I5]:e.value,[Fn]:"auto.http.browser.inp",user:_||void 0,profile_id:v||void 0,replay_id:m||void 0}),x=Ys({name:A,op:`ui.interaction.${i}`,attributes:S,startTime:o,experimental:{standalone:!0}});x.addEvent("inp",{[Xb]:"millisecond",[Zb]:e.value}),x.end(o+a)})}function E9(e){const t=({entries:n})=>{n.forEach(r=>{if(!Q7(r)||!e.name)return;const i=r.interactionId;if(i!=null&&!qp.has(i)){if(Xv.length>10){const s=Xv.shift();qp.delete(s)}Xv.push(i),qp.set(i,e.name)}})};ff("event",t),ff("first-input",t)}function k9(e,t=_9("fetch")){let n=0,r=0;function i(s){const o=s.body.length;n+=o,r++;const a={body:s.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};if(!t)return xk("fetch"),Pg("No fetch implementation available");try{return t(e.url,a).then(l=>(n-=o,r--,{statusCode:l.status,headers:{"x-sentry-rate-limits":l.headers.get("X-Sentry-Rate-Limits"),"retry-after":l.headers.get("Retry-After")}}))}catch(l){return xk("fetch"),n-=o,r--,Pg(l)}}return Iz(e,i)}const C9=30,T9=50;function v1(e,t,n,r){const i={filename:e,function:t==="<anonymous>"?gl:t,in_app:!0};return n!==void 0&&(i.lineno=n),r!==void 0&&(i.colno=r),i}const I9=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,P9=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,R9=/\((\S*)(?::(\d+))(?::(\d+))\)/,M9=e=>{const t=I9.exec(e);if(t){const[,r,i,s]=t;return v1(r,gl,+i,+s)}const n=P9.exec(e);if(n){if(n[2]&&n[2].indexOf("eval")===0){const o=R9.exec(n[2]);o&&(n[2]=o[1],n[3]=o[2],n[4]=o[3])}const[i,s]=uj(n[1]||gl,n[2]);return v1(s,i,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}},j9=[C9,M9],O9=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,V9=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,L9=e=>{const t=O9.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const s=V9.exec(t[3]);s&&(t[1]=t[1]||"eval",t[3]=s[1],t[4]=s[2],t[5]="")}let r=t[3],i=t[1]||gl;return[i,r]=uj(i,r),v1(r,i,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},N9=[T9,L9],B9=[j9,N9],D9=g5(...B9),uj=(e,t)=>{const n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:gl,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},Yh=1024,$9="Breadcrumbs",F9=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:$9,setup(n){t.console&&x6(G9(n)),t.dom&&p9(H9(n,t.dom)),t.xhr&&cj(q9(n)),t.fetch&&y5(W9(n)),t.history&&aS(K9(n)),t.sentry&&n.on("beforeSendEvent",U9(n))}}},z9=F9;function U9(e){return function(n){Et()===e&&vl({category:`sentry.${n.type==="transaction"?"transaction":"event"}`,event_id:n.event_id,level:n.level,message:Ho(n)},{event:n})}}function H9(e,t){return function(r){if(Et()!==e)return;let i,s,o=typeof t=="object"?t.serializeAttribute:void 0,a=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;a&&a>Yh&&(ur&&pe.warn(`\`dom.maxStringLength\` cannot exceed ${Yh}, but a value of ${a} was configured. Sentry will use ${Yh} instead.`),a=Yh),typeof o=="string"&&(o=[o]);try{const c=r.event,u=Y9(c)?c.target:c;i=Kc(u,{keyAttrs:o,maxStringLength:a}),s=c5(u)}catch{i="<unknown>"}if(i.length===0)return;const l={category:`ui.${r.name}`,message:i};s&&(l.data={"ui.component_name":s}),vl(l,{event:r.event,name:r.name,global:r.global})}}function G9(e){return function(n){if(Et()!==e)return;const r={category:"console",data:{arguments:n.args,logger:"console"},level:D6(n.level),message:L2(n.args," ")};if(n.level==="assert")if(n.args[0]===!1)r.message=`Assertion failed: ${L2(n.args.slice(1)," ")||"console.assert"}`,r.data.arguments=n.args.slice(1);else return;vl(r,{input:n.args,level:n.level})}}function q9(e){return function(n){if(Et()!==e)return;const{startTimestamp:r,endTimestamp:i}=n,s=n.xhr[ac];if(!r||!i||!s)return;const{method:o,url:a,status_code:l,body:c}=s,u={method:o,url:a,status_code:l},d={xhr:n.xhr,input:c,startTimestamp:r,endTimestamp:i};vl({category:"xhr",data:u,type:"http"},d)}}function W9(e){return function(n){if(Et()!==e)return;const{startTimestamp:r,endTimestamp:i}=n;if(i&&!(n.fetchData.url.match(/sentry_key/)&&n.fetchData.method==="POST"))if(n.error){const s=n.fetchData,o={data:n.error,input:n.args,startTimestamp:r,endTimestamp:i};vl({category:"fetch",data:s,level:"error",type:"http"},o)}else{const s=n.response,o={...n.fetchData,status_code:s&&s.status},a={input:n.args,response:s,startTimestamp:r,endTimestamp:i};vl({category:"fetch",data:o,type:"http"},a)}}}function K9(e){return function(n){if(Et()!==e)return;let r=n.from,i=n.to;const s=sl(De.location.href);let o=r?sl(r):void 0;const a=sl(i);(!o||!o.path)&&(o=s),s.protocol===a.protocol&&s.host===a.host&&(i=a.relative),s.protocol===o.protocol&&s.host===o.host&&(r=o.relative),vl({category:"navigation",data:{from:r,to:i}})}}function Y9(e){return!!e&&!!e.target}const Q9=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],J9="BrowserApiErrors",X9=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:J9,setupOnce(){t.setTimeout&&cr(De,"setTimeout",Ek),t.setInterval&&cr(De,"setInterval",Ek),t.requestAnimationFrame&&cr(De,"requestAnimationFrame",eU),t.XMLHttpRequest&&"XMLHttpRequest"in De&&cr(XMLHttpRequest.prototype,"send",tU);const n=t.eventTarget;n&&(Array.isArray(n)?n:Q9).forEach(nU)}}},Z9=X9;function Ek(e){return function(...t){const n=t[0];return t[0]=Jc(n,{mechanism:{data:{function:xo(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function eU(e){return function(t){return e.apply(this,[Jc(t,{mechanism:{data:{function:"requestAnimationFrame",handler:xo(e)},handled:!1,type:"instrument"}})])}}function tU(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(i=>{i in n&&typeof n[i]=="function"&&cr(n,i,function(s){const o={mechanism:{data:{function:i,handler:xo(s)},handled:!1,type:"instrument"}},a=Kb(s);return a&&(o.mechanism.data.handler=xo(a)),Jc(s,o)})}),e.apply(this,t)}}function nU(e){const t=De,n=t[e]&&t[e].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(cr(n,"addEventListener",function(r){return function(i,s,o){try{typeof s.handleEvent=="function"&&(s.handleEvent=Jc(s.handleEvent,{mechanism:{data:{function:"handleEvent",handler:xo(s),target:e},handled:!1,type:"instrument"}}))}catch{}return r.apply(this,[i,Jc(s,{mechanism:{data:{function:"addEventListener",handler:xo(s),target:e},handled:!1,type:"instrument"}}),o])}}),cr(n,"removeEventListener",function(r){return function(i,s,o){const a=s;try{const l=a&&a.__sentry_wrapped__;l&&r.call(this,i,l,o)}catch{}return r.call(this,i,a,o)}}))}const rU="GlobalHandlers",iU=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:rU,setupOnce(){Error.stackTraceLimit=50},setup(n){t.onerror&&(oU(n),kk("onerror")),t.onunhandledrejection&&(aU(n),kk("onunhandledrejection"))}}},sU=iU;function oU(e){A5(t=>{const{stackParser:n,attachStacktrace:r}=dj();if(Et()!==e||Z5())return;const{msg:i,url:s,line:o,column:a,error:l}=t,c=uU(iS(n,l||i,void 0,r,!1),s,o,a);c.level="error",H5(c,{originalException:l,mechanism:{handled:!1,type:"onerror"}})})}function aU(e){_5(t=>{const{stackParser:n,attachStacktrace:r}=dj();if(Et()!==e||Z5())return;const i=lU(t),s=qb(i)?cU(i):iS(n,i,void 0,r,!0);s.level="error",H5(s,{originalException:i,mechanism:{handled:!1,type:"onunhandledrejection"}})})}function lU(e){if(qb(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch{}return e}function cU(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function uU(e,t,n,r){const i=e.exception=e.exception||{},s=i.values=i.values||[],o=s[0]=s[0]||{},a=o.stacktrace=o.stacktrace||{},l=a.frames=a.frames||[],c=isNaN(parseInt(r,10))?void 0:r,u=isNaN(parseInt(n,10))?void 0:n,d=Ao(t)&&t.length>0?t:u6();return l.length===0&&l.push({colno:c,filename:d,function:gl,in_app:!0,lineno:u}),e}function kk(e){ur&&pe.log(`Global Handler attached: ${e}`)}function dj(){const e=Et();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const dU=()=>({name:"HttpContext",preprocessEvent(e){if(!De.navigator&&!De.location&&!De.document)return;const t=e.request&&e.request.url||De.location&&De.location.href,{referrer:n}=De.document||{},{userAgent:r}=De.navigator||{},i={...e.request&&e.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},s={...e.request,...t&&{url:t},headers:i};e.request=s}}),fU="cause",hU=5,pU="LinkedErrors",gU=(e={})=>{const t=e.limit||hU,n=e.key||fU;return{name:pU,preprocessEvent(r,i,s){const o=s.getOptions();o6(nS,o.stackParser,o.maxValueLength,n,t,r,i)}}},mU=gU;function vU(e){return[Nz(),jz(),Z9(),z9(),sU(),mU(),Qz(),dU()]}function yU(e={}){return{...{defaultIntegrations:vU(),release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:De.SENTRY_RELEASE&&De.SENTRY_RELEASE.id?De.SENTRY_RELEASE.id:void 0,autoSessionTracking:!0,sendClientReports:!0},...e}}function AU(){const e=De,t=e.chrome?"chrome":"browser",n=e[t],r=n&&n.runtime&&n.runtime.id,i=De.location&&De.location.href||"",s=["chrome-extension:","moz-extension:","ms-browser-extension:"],o=!!r&&De===De.top&&s.some(a=>i.startsWith(`${a}//`));return!!r&&!o}function _U(e={}){const t=yU(e);if(AU()){Zf(()=>{console.error("[Sentry] You cannot run Sentry this way in a browser extension, check: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")});return}ur&&(m5()||pe.warn("No Fetch API detected. The Sentry SDK requires a Fetch API compatible environment to send events. Please add a Fetch API polyfill."));const n={...t,stackParser:b6(t.stackParser||D9),integrations:bz(t),transport:t.transport||k9},r=kz(v7,n);return t.autoSessionTracking&&bU(),r}function Ck(e={}){if(!De.document){ur&&pe.error("Global document not defined in showReportDialog call");return}const t=ln(),n=t.getClient(),r=n&&n.getDsn();if(!r){ur&&pe.error("DSN not configured for showReportDialog call");return}if(t&&(e.user={...t.getUser(),...e.user}),!e.eventId){const a=pz();a&&(e.eventId=a)}const i=De.document.createElement("script");i.async=!0,i.crossOrigin="anonymous",i.src=Az(r,e),e.onLoad&&(i.onload=e.onLoad);const{onClose:s}=e;if(s){const a=l=>{if(l.data==="__sentry_reportdialog_closed__")try{s()}finally{De.removeEventListener("message",a)}};De.addEventListener("message",a)}const o=De.document.head||De.document.body;o?o.appendChild(i):ur&&pe.error("Not injecting report dialog. No injection point found in HTML")}function bU(){if(typeof De.document>"u"){ur&&pe.warn("Session tracking in non-browser environment with @sentry/browser is not supported.");return}lk({ignoreDuration:!0}),ck(),aS(({from:e,to:t})=>{e!==void 0&&e!==t&&(lk({ignoreDuration:!0}),ck())})}const y1={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0};function SU(e){const{traceFetch:t,traceXHR:n,shouldCreateSpanForRequest:r,enableHTTPTimings:i,tracePropagationTargets:s}={traceFetch:y1.traceFetch,traceXHR:y1.traceXHR,...e},o=typeof r=="function"?r:c=>!0,a=c=>kU(c,s),l={};t&&y5(c=>{const u=e7(c,o,a,l);if(u){const d=fj(c.fetchData.url),h=d?sl(d).host:void 0;u.setAttributes({"http.url":d,"server.address":h})}i&&u&&Tk(u)}),n&&cj(c=>{const u=CU(c,o,a,l);i&&u&&Tk(u)})}function xU(e){return e.entryType==="resource"&&"initiatorType"in e&&typeof e.nextHopProtocol=="string"&&(e.initiatorType==="fetch"||e.initiatorType==="xmlhttprequest")}function Tk(e){const{url:t}=xt(e).data||{};if(!t||typeof t!="string")return;const n=ff("resource",({entries:r})=>{r.forEach(i=>{xU(i)&&i.name.endsWith(t)&&(EU(i).forEach(o=>e.setAttribute(...o)),setTimeout(n))})})}function wU(e){let t="unknown",n="unknown",r="";for(const i of e){if(i==="/"){[t,n]=e.split("/");break}if(!isNaN(Number(i))){t=r==="h"?"http":r,n=e.split(r)[1];break}r+=i}return r===e&&(t=r),{name:t,version:n}}function Ms(e=0){return((Gi||performance.timeOrigin)+e)/1e3}function EU(e){const{name:t,version:n}=wU(e.nextHopProtocol),r=[];return r.push(["network.protocol.version",n],["network.protocol.name",t]),Gi?[...r,["http.request.redirect_start",Ms(e.redirectStart)],["http.request.fetch_start",Ms(e.fetchStart)],["http.request.domain_lookup_start",Ms(e.domainLookupStart)],["http.request.domain_lookup_end",Ms(e.domainLookupEnd)],["http.request.connect_start",Ms(e.connectStart)],["http.request.secure_connection_start",Ms(e.secureConnectionStart)],["http.request.connection_end",Ms(e.connectEnd)],["http.request.request_start",Ms(e.requestStart)],["http.request.response_start",Ms(e.responseStart)],["http.request.response_end",Ms(e.responseEnd)]]:r}function kU(e,t){const n=De.location&&De.location.href;if(n){let r,i;try{r=new URL(e,n),i=new URL(n).origin}catch{return!1}const s=r.origin===i;return t?rl(r.toString(),t)||s&&rl(r.pathname,t):s}else{const r=!!e.match(/^\/(?!\/)/);return t?rl(e,t):r}}function CU(e,t,n,r){const i=e.xhr,s=i&&i[ac];if(!i||i.__sentry_own_request__||!s)return;const o=ya()&&t(s.url);if(e.endTimestamp&&o){const h=i.__sentry_xhr_span_id__;if(!h)return;const p=r[h];p&&s.status_code!==void 0&&(R5(p,s.status_code),p.end(),delete r[h]);return}const a=fj(s.url),l=a?sl(a).host:void 0,c=!!Zi(),u=o&&c?Ys({name:`${s.method} ${s.url}`,attributes:{type:"xhr","http.method":s.method,"http.url":a,url:s.url,"server.address":l,[Fn]:"auto.http.browser",[uf]:"http.client"}}):new Su;i.__sentry_xhr_span_id__=u.spanContext().spanId,r[i.__sentry_xhr_span_id__]=u;const d=Et();return i.setRequestHeader&&n(s.url)&&d&&TU(i,d,ya()&&c?u:void 0),u}function TU(e,t,n){const r=ln(),i=Xi(),{traceId:s,spanId:o,sampled:a,dsc:l}={...i.getPropagationContext(),...r.getPropagationContext()},c=n&&ya()?O5(n):Yb(s,o,a),u=k5(l||(n?Ol(n):qm(s,t)));IU(e,c,u)}function IU(e,t,n){try{e.setRequestHeader("sentry-trace",t),n&&e.setRequestHeader(n1,n)}catch{}}function fj(e){try{return new URL(e,De.location.origin).href}catch{return}}function PU(){De&&De.document?De.document.addEventListener("visibilitychange",()=>{const e=Zi();if(!e)return;const t=Wr(e);if(De.document.hidden&&t){const n="cancelled",{op:r,status:i}=xt(t);ur&&pe.log(`[Tracing] Transaction: ${n} -> since tab moved to the background, op: ${r}`),i||t.setStatus({code:qn,message:n}),t.setAttribute("sentry.cancellation_reason","document.hidden"),t.end()}}):ur&&pe.warn("[Tracing] Could not set up background tab detection due to lack of global document")}const RU="BrowserTracing",MU={...Hp,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableInp:!0,_experiments:{},...y1},jU=(e={})=>{C8();const{enableInp:t,enableLongTask:n,_experiments:{enableInteractions:r},beforeStartSpan:i,idleTimeout:s,finalTimeout:o,childSpanTimeout:a,markBackgroundSpan:l,traceFetch:c,traceXHR:u,shouldCreateSpanForRequest:d,enableHTTPTimings:h,instrumentPageLoad:p,instrumentNavigation:g}={...MU,...e},m=X7();t&&x9(),n&&Z7(),r&&e9();const _={name:void 0,source:void 0};function v(A,S){const x=S.op==="pageload",b=i?i(S):S,w=b.attributes||{};S.name!==b.name&&(w[ea]="custom",b.attributes=w),_.name=b.name,_.source=w[ea];const E=U5(b,{idleTimeout:s,finalTimeout:o,childSpanTimeout:a,disableAutoFinish:x,beforeSpanEnd:j=>{m(),s9(j)}});function T(){["interactive","complete"].includes(De.document.readyState)&&A.emit("idleSpanEnableAutoFinish",E)}return x&&De.document&&(De.document.addEventListener("readystatechange",()=>{T()}),T()),E}return{name:RU,afterAllSetup(A){let S,x=De.location&&De.location.href;A.on("startNavigationSpan",b=>{Et()===A&&(S&&(ur&&pe.log(`[Tracing] Finishing current root span with op: ${xt(S).op}`),S.end()),S=v(A,{op:"navigation",...b}))}),A.on("startPageLoadSpan",(b,w={})=>{if(Et()!==A)return;S&&(ur&&pe.log(`[Tracing] Finishing current root span with op: ${xt(S).op}`),S.end());const E=w.sentryTrace||Ik("sentry-trace"),T=w.baggage||Ik("baggage"),j=q6(E,T);ln().setPropagationContext(j),S=v(A,{op:"pageload",...b})}),A.on("spanEnd",b=>{const w=xt(b).op;if(b!==Wr(b)||w!=="navigation"&&w!=="pageload")return;const E=ln(),T=E.getPropagationContext();E.setPropagationContext({...T,sampled:T.sampled!==void 0?T.sampled:jl(b),dsc:T.dsc||Ol(b)})}),De.location&&(p&&OU(A,{name:De.location.pathname,startTime:Gi?Gi/1e3:void 0,attributes:{[ea]:"url",[Fn]:"auto.pageload.browser"}}),g&&aS(({to:b,from:w})=>{if(w===void 0&&x&&x.indexOf(b)!==-1){x=void 0;return}w!==b&&(x=void 0,VU(A,{name:De.location.pathname,attributes:{[ea]:"url",[Fn]:"auto.navigation.browser"}}))})),l&&PU(),r&&LU(s,o,a,_),t&&E9(_),SU({traceFetch:c,traceXHR:u,tracePropagationTargets:A.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:d,enableHTTPTimings:h})}}};function OU(e,t,n){e.emit("startPageLoadSpan",t,n),ln().setTransactionName(t.name);const r=Zi();return(r&&xt(r).op)==="pageload"?r:void 0}function VU(e,t){Xi().setPropagationContext(Rg()),ln().setPropagationContext(Rg()),e.emit("startNavigationSpan",t),ln().setTransactionName(t.name);const n=Zi();return(n&&xt(n).op)==="navigation"?n:void 0}function Ik(e){const t=d6(`meta[name=${e}]`);return t?t.getAttribute("content"):void 0}function LU(e,t,n,r){let i;const s=()=>{const o="ui.action.click",a=Zi(),l=a&&Wr(a);if(l){const c=xt(l).op;if(["navigation","pageload"].includes(c)){ur&&pe.warn(`[Tracing] Did not create ${o} span because a pageload or navigation span is in progress.`);return}}if(i&&(i.setAttribute(o1,"interactionInterrupted"),i.end(),i=void 0),!r.name){ur&&pe.warn(`[Tracing] Did not create ${o} transaction because _latestRouteName is missing.`);return}i=U5({name:r.name,op:o,attributes:{[ea]:r.source||"url"}},{idleTimeout:e,finalTimeout:t,childSpanTimeout:n})};De.document&&addEventListener("click",s,{once:!1,capture:!0})}function NU(e){const t={...e};return Q5(t,"react"),fz("react",{version:y.version}),_U(t)}function BU(e){const t=e.match(/^([^.]+)/);return t!==null&&parseInt(t[0])>=17}function DU(e,t){const n=new WeakSet;function r(i,s){if(!n.has(i)){if(i.cause)return n.add(i),r(i.cause,s);i.cause=s}}r(e,t)}function $U(e,{componentStack:t},n){if(BU(y.version)&&zm(e)&&t){const r=new Error(e.message);r.name=`React ErrorBoundary ${e.name}`,r.stack=t,DU(e,r)}return to(e,{...n,captureContext:{contexts:{react:{componentStack:t}}}})}var hj={exports:{}},kt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tr=typeof Symbol=="function"&&Symbol.for,lS=tr?Symbol.for("react.element"):60103,cS=tr?Symbol.for("react.portal"):60106,Qm=tr?Symbol.for("react.fragment"):60107,Jm=tr?Symbol.for("react.strict_mode"):60108,Xm=tr?Symbol.for("react.profiler"):60114,Zm=tr?Symbol.for("react.provider"):60109,e0=tr?Symbol.for("react.context"):60110,uS=tr?Symbol.for("react.async_mode"):60111,t0=tr?Symbol.for("react.concurrent_mode"):60111,n0=tr?Symbol.for("react.forward_ref"):60112,r0=tr?Symbol.for("react.suspense"):60113,FU=tr?Symbol.for("react.suspense_list"):60120,i0=tr?Symbol.for("react.memo"):60115,s0=tr?Symbol.for("react.lazy"):60116,zU=tr?Symbol.for("react.block"):60121,UU=tr?Symbol.for("react.fundamental"):60117,HU=tr?Symbol.for("react.responder"):60118,GU=tr?Symbol.for("react.scope"):60119;function bi(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case lS:switch(e=e.type,e){case uS:case t0:case Qm:case Xm:case Jm:case r0:return e;default:switch(e=e&&e.$$typeof,e){case e0:case n0:case s0:case i0:case Zm:return e;default:return t}}case cS:return t}}}function pj(e){return bi(e)===t0}kt.AsyncMode=uS;kt.ConcurrentMode=t0;kt.ContextConsumer=e0;kt.ContextProvider=Zm;kt.Element=lS;kt.ForwardRef=n0;kt.Fragment=Qm;kt.Lazy=s0;kt.Memo=i0;kt.Portal=cS;kt.Profiler=Xm;kt.StrictMode=Jm;kt.Suspense=r0;kt.isAsyncMode=function(e){return pj(e)||bi(e)===uS};kt.isConcurrentMode=pj;kt.isContextConsumer=function(e){return bi(e)===e0};kt.isContextProvider=function(e){return bi(e)===Zm};kt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===lS};kt.isForwardRef=function(e){return bi(e)===n0};kt.isFragment=function(e){return bi(e)===Qm};kt.isLazy=function(e){return bi(e)===s0};kt.isMemo=function(e){return bi(e)===i0};kt.isPortal=function(e){return bi(e)===cS};kt.isProfiler=function(e){return bi(e)===Xm};kt.isStrictMode=function(e){return bi(e)===Jm};kt.isSuspense=function(e){return bi(e)===r0};kt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Qm||e===t0||e===Xm||e===Jm||e===r0||e===FU||typeof e=="object"&&e!==null&&(e.$$typeof===s0||e.$$typeof===i0||e.$$typeof===Zm||e.$$typeof===e0||e.$$typeof===n0||e.$$typeof===UU||e.$$typeof===HU||e.$$typeof===GU||e.$$typeof===zU)};kt.typeOf=bi;hj.exports=kt;var qU=hj.exports,dS=qU,WU={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},KU={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},YU={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},gj={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},fS={};fS[dS.ForwardRef]=YU;fS[dS.Memo]=gj;function Pk(e){return dS.isMemo(e)?gj:fS[e.$$typeof]||WU}var QU=Object.defineProperty,JU=Object.getOwnPropertyNames,Rk=Object.getOwnPropertySymbols,XU=Object.getOwnPropertyDescriptor,ZU=Object.getPrototypeOf,Mk=Object.prototype;function mj(e,t,n){if(typeof t!="string"){if(Mk){var r=ZU(t);r&&r!==Mk&&mj(e,r,n)}var i=JU(t);Rk&&(i=i.concat(Rk(t)));for(var s=Pk(e),o=Pk(t),a=0;a<i.length;++a){var l=i[a];if(!KU[l]&&!(n&&n[l])&&!(o&&o[l])&&!(s&&s[l])){var c=XU(t,l);try{QU(e,l,c)}catch{}}}}return e}var eH=mj;const tH=hr(eH),nH="ui.react.render",rH="ui.react.update",iH="ui.react.mount",sH="unknown";class vj extends y.Component{static __initStatic(){this.defaultProps={disabled:!1,includeRender:!0,includeUpdates:!0}}constructor(t){super(t);const{name:n,disabled:r=!1}=this.props;r||(this._mountSpan=Ys({name:`<${n}>`,onlyIfParent:!0,op:iH,attributes:{[Fn]:"auto.ui.react.profiler","ui.component_name":n}}))}componentDidMount(){this._mountSpan&&this._mountSpan.end()}shouldComponentUpdate({updateProps:t,includeUpdates:n=!0}){if(n&&this._mountSpan&&t!==this.props.updateProps){const r=Object.keys(t).filter(i=>t[i]!==this.props.updateProps[i]);if(r.length>0){const i=xr();this._updateSpan=jg(this._mountSpan,()=>Ys({name:`<${this.props.name}>`,onlyIfParent:!0,op:rH,startTime:i,attributes:{[Fn]:"auto.ui.react.profiler","ui.component_name":this.props.name,"ui.react.changed_props":r}}))}}return!0}componentDidUpdate(){this._updateSpan&&(this._updateSpan.end(),this._updateSpan=void 0)}componentWillUnmount(){const t=xr(),{name:n,includeRender:r=!0}=this.props;if(this._mountSpan&&r){const i=xt(this._mountSpan).timestamp;jg(this._mountSpan,()=>{const s=Ys({onlyIfParent:!0,name:`<${n}>`,op:nH,startTime:i,attributes:{[Fn]:"auto.ui.react.profiler","ui.component_name":n}});s&&s.end(t)})}}render(){return this.props.children}}vj.__initStatic();function oH(e,t){const n=t&&t.name||e.displayName||e.name||sH,r=i=>y.createElement(vj,{...t,name:n,updateProps:i},y.createElement(e,{...i}));return r.displayName=`profiler(${n})`,tH(r,e),r}const aH=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,jk={componentStack:null,error:null,eventId:null};class hS extends y.Component{constructor(t){super(t),hS.prototype.__init.call(this),this.state=jk,this._openFallbackReportDialog=!0;const n=Et();n&&t.showDialog&&(this._openFallbackReportDialog=!1,n.on("afterSendEvent",r=>{!r.type&&this._lastEventId&&r.event_id===this._lastEventId&&Ck({...t.dialogOptions,eventId:this._lastEventId})}))}componentDidCatch(t,n){const{componentStack:r}=n,i=r??void 0,{beforeCapture:s,onError:o,showDialog:a,dialogOptions:l}=this.props;Gm(c=>{s&&s(c,t,i);const u=$U(t,n,{mechanism:{handled:!!this.props.fallback}});o&&o(t,i,u),a&&(this._lastEventId=u,this._openFallbackReportDialog&&Ck({...l,eventId:u})),this.setState({error:t,componentStack:r,eventId:u})})}componentDidMount(){const{onMount:t}=this.props;t&&t()}componentWillUnmount(){const{error:t,componentStack:n,eventId:r}=this.state,{onUnmount:i}=this.props;i&&i(t,n,r)}__init(){this.resetErrorBoundary=()=>{const{onReset:t}=this.props,{error:n,componentStack:r,eventId:i}=this.state;t&&t(n,r,i),this.setState(jk)}}render(){const{fallback:t,children:n}=this.props,r=this.state;if(r.error){let i;return typeof t=="function"?i=y.createElement(t,{error:r.error,componentStack:r.componentStack,resetError:this.resetErrorBoundary,eventId:r.eventId}):i=t,y.isValidElement(i)?i:(t&&aH&&pe.warn("fallback did not produce a valid ReactElement"),null)}return typeof n=="function"?n():n}}const lH="modulepreload",cH=function(e){return"/prs/284/"+e},Ok={},ku=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){const s=document.getElementsByTagName("link"),o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.all(n.map(l=>{if(l=cH(l),l in Ok)return;Ok[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(!!r)for(let p=s.length-1;p>=0;p--){const g=s[p];if(g.href===l&&(!c||g.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${l}"]${u}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":lH,c||(h.as="script",h.crossOrigin=""),h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),c)return new Promise((p,g)=>{h.addEventListener("load",p),h.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}return i.then(()=>t()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};class yj{constructor(){this.init=async(t,n)=>{const r=await ku(()=>import("./aubio-BXVQmmIs.js"),[]),{Pitch:i}=await r.default();this.detector=new i("default",n,n/8,t.sampleRate),this.detector.setTolerance(.5)},this.getFrequency=async t=>this.detector.do(t)}getSampleSize(){return 2048}}class uH extends Is{constructor(){super(...arguments),this.status="uninitialised",this.getUserMedia=async(...t)=>this.requestAndTrack(()=>navigator.mediaDevices.getUserMedia(...t)),this.enumerateDevices=async(...t)=>this.requestAndTrack(()=>navigator.mediaDevices.enumerateDevices(...t)),this.requestAndTrack=async t=>{try{this.status!=="accepted"&&this.setStatus("requested");const n=await t();return this.setStatus("accepted"),n}catch(n){throw this.setStatus("declined"),n}},this.setStatus=t=>{this.status=t,this.onUpdate(t)},this.getStatus=()=>this.status}}const aa=new uH;let Aj=class{constructor(){this.stream=null,this.context=null,this.interval=null,this.frequencies=[0,0],this.volumes=[0,0],this.startedMonitoring=!1,this.startMonitoring=async(t,n=!1)=>{if(!this.startedMonitoring){this.startedMonitoring=!0;try{this.stream=await aa.getUserMedia({audio:{...t?{deviceId:t,exact:!0}:{},echoCancellation:n},video:!1});try{this.context=new AudioContext;const r=this.context.createMediaStreamSource(this.stream),i=this.context.createChannelSplitter(2);r.connect(i);const s=this.context.createAnalyser();s.fftSize=2048,s.minDecibels=-100;const o=this.context.createAnalyser();o.fftSize=2048,o.minDecibels=-100,i.connect(s,0),i.connect(o,1);const a=new yj;await a.init(this.context,s.fftSize),this.interval=setInterval(async()=>{const l=new Float32Array(s.fftSize),c=new Float32Array(o.fftSize);s.getFloatTimeDomainData(l),o.getFloatTimeDomainData(c),this.frequencies=await Promise.all([a.getFrequency(l),a.getFrequency(c)]),this.volumes=[this.calculateVolume(l),this.calculateVolume(c)]},this.context.sampleRate/s.fftSize),ee.micMonitoringStarted.dispatch()}catch(r){to(r),console.error(r)}}catch(r){to(r,{level:"warning"}),console.warn(r)}}},this.getFrequencies=()=>this.frequencies,this.getVolumes=()=>this.volumes,this.clearFrequencies=t=>{},this.stopMonitoring=async()=>{var t,n;if(this.startedMonitoring){this.startedMonitoring=!1,this.interval&&clearInterval(this.interval),(t=this.stream)==null||t.getTracks().forEach(function(r){r.stop()});try{await((n=this.context)==null?void 0:n.close())}catch(r){console.log("MicInput.stoMonitoring error",r)}ee.micMonitoringStopped.dispatch()}},this.getInputLag=()=>180,this.requestReadiness=()=>Promise.resolve(!0),this.getStatus=()=>"ok"}calculateVolume(t){let n,r=0;for(n=0;n<t.length;++n)r+=t[n]*t[n];return Math.sqrt(r/t.length)}};new Aj;class dH{constructor(){this.devices={},this.startMonitoring=async(t,n=!1)=>{t&&(this.devices[t]||(this.devices[t]=new Aj),await this.devices[t].startMonitoring(t,n))},this.getFrequencies=t=>t&&this.devices[t]?this.devices[t].getFrequencies():[0,0],this.getVolumes=t=>t&&this.devices[t]?this.devices[t].getVolumes():[0,0],this.clearFrequencies=t=>{if(t&&this.devices[t])return this.devices[t].clearFrequencies(t)},this.stopMonitoring=async()=>{Object.values(this.devices).forEach(t=>t.stopMonitoring())},this.getInputLag=t=>t&&this.devices[t]?this.devices[t].getInputLag():180,this.requestReadiness=async t=>t&&this.devices[t]?this.devices[t].requestReadiness():!0,this.getStatus=t=>t&&this.devices[t]?this.devices[t].getStatus():"ok"}}const fH=new dH;class hH{constructor(){this.frequencies=[0],this.volumes=[1],this.startMonitoring=async t=>{var n;return(n=Ze.getRemoteMicById(t??""))==null?void 0:n.getInput().startMonitoring()},this.getFrequencies=t=>{var r;return((r=Ze.getRemoteMicById(t??""))==null?void 0:r.getInput().getFrequencies())??this.frequencies},this.clearFrequencies=t=>{var n;(n=Ze.getRemoteMicById(t??""))==null||n.getInput().clearFrequencies()},this.getVolumes=t=>{var r;return((r=Ze.getRemoteMicById(t??""))==null?void 0:r.getInput().getVolumes())??this.volumes},this.stopMonitoring=async t=>{var n;return(n=Ze.getRemoteMicById(t??""))==null?void 0:n.getInput().stopMonitoring()},this.requestReadiness=t=>{var n;return((n=Ze.getRemoteMicById(t??""))==null?void 0:n.getInput().requestReadiness())??Promise.resolve(!0)},this.getInputLag=t=>{var n;return((n=Ze.getRemoteMicById(t??""))==null?void 0:n.getInput().getInputLag())??0},this.getStatus=t=>{const n=Ze.getRemoteMicById(t??"");return!n||n.getLatency()>1500?"unavailable":n.getLatency()>500?"unstable":"ok"}}}const pH=new hH;function Es(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var _j=typeof global=="object"&&global&&global.Object===Object&&global,gH=typeof self=="object"&&self&&self.Object===Object&&self,Ps=_j||gH||Function("return this")(),Zv=function(){return Ps.Date.now()},mH=/\s/;function vH(e){for(var t=e.length;t--&&mH.test(e.charAt(t)););return t}var yH=/^\s+/;function AH(e){return e&&e.slice(0,vH(e)+1).replace(yH,"")}var qi=Ps.Symbol,bj=Object.prototype,_H=bj.hasOwnProperty,bH=bj.toString,Wu=qi?qi.toStringTag:void 0;function SH(e){var t=_H.call(e,Wu),n=e[Wu];try{e[Wu]=void 0;var r=!0}catch{}var i=bH.call(e);return r&&(t?e[Wu]=n:delete e[Wu]),i}var xH=Object.prototype,wH=xH.toString;function EH(e){return wH.call(e)}var kH="[object Null]",CH="[object Undefined]",Vk=qi?qi.toStringTag:void 0;function Ll(e){return e==null?e===void 0?CH:kH:Vk&&Vk in Object(e)?SH(e):EH(e)}function wo(e){return e!=null&&typeof e=="object"}var TH="[object Symbol]";function o0(e){return typeof e=="symbol"||wo(e)&&Ll(e)==TH}var Lk=NaN,IH=/^[-+]0x[0-9a-f]+$/i,PH=/^0b[01]+$/i,RH=/^0o[0-7]+$/i,MH=parseInt;function A1(e){if(typeof e=="number")return e;if(o0(e))return Lk;if(Es(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Es(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=AH(e);var n=PH.test(e);return n||RH.test(e)?MH(e.slice(2),n?2:8):IH.test(e)?Lk:+e}var jH="Expected a function",OH=Math.max,VH=Math.min;function Sj(e,t,n){var r,i,s,o,a,l,c=0,u=!1,d=!1,h=!0;if(typeof e!="function")throw new TypeError(jH);t=A1(t)||0,Es(n)&&(u=!!n.leading,d="maxWait"in n,s=d?OH(A1(n.maxWait)||0,t):s,h="trailing"in n?!!n.trailing:h);function p(w){var E=r,T=i;return r=i=void 0,c=w,o=e.apply(T,E),o}function g(w){return c=w,a=setTimeout(v,t),u?p(w):o}function m(w){var E=w-l,T=w-c,j=t-E;return d?VH(j,s-T):j}function _(w){var E=w-l,T=w-c;return l===void 0||E>=t||E<0||d&&T>=s}function v(){var w=Zv();if(_(w))return A(w);a=setTimeout(v,m(w))}function A(w){return a=void 0,h&&r?p(w):(r=i=void 0,o)}function S(){a!==void 0&&clearTimeout(a),c=0,r=l=i=a=void 0}function x(){return a===void 0?o:A(Zv())}function b(){var w=Zv(),E=_(w);if(r=arguments,i=this,l=w,E){if(a===void 0)return g(l);if(d)return clearTimeout(a),a=setTimeout(v,t),p(l)}return a===void 0&&(a=setTimeout(v,t)),o}return b.cancel=S,b.flush=x,b}const jr={DUEL:"DUEL",PASS_THE_MIC:"PASS_THE_MIC",CO_OP:"CO_OP"},Od=["freestyle","rap"],xj=[],wj=440,Ej=69,pS=20;var LH="[object AsyncFunction]",NH="[object Function]",BH="[object GeneratorFunction]",DH="[object Proxy]";function kj(e){if(!Es(e))return!1;var t=Ll(e);return t==NH||t==BH||t==LH||t==DH}var ey=Ps["__core-js_shared__"],Nk=function(){var e=/[^.]+$/.exec(ey&&ey.keys&&ey.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function $H(e){return!!Nk&&Nk in e}var FH=Function.prototype,zH=FH.toString;function Nl(e){if(e!=null){try{return zH.call(e)}catch{}try{return e+""}catch{}}return""}var UH=/[\\^$.*+?()[\]{}|]/g,HH=/^\[object .+?Constructor\]$/,GH=Function.prototype,qH=Object.prototype,WH=GH.toString,KH=qH.hasOwnProperty,YH=RegExp("^"+WH.call(KH).replace(UH,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function QH(e){if(!Es(e)||$H(e))return!1;var t=kj(e)?YH:HH;return t.test(Nl(e))}function JH(e,t){return e==null?void 0:e[t]}function Bl(e,t){var n=JH(e,t);return QH(n)?n:void 0}var hf=Bl(Object,"create");function XH(){this.__data__=hf?hf(null):{},this.size=0}function ZH(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var eG="__lodash_hash_undefined__",tG=Object.prototype,nG=tG.hasOwnProperty;function rG(e){var t=this.__data__;if(hf){var n=t[e];return n===eG?void 0:n}return nG.call(t,e)?t[e]:void 0}var iG=Object.prototype,sG=iG.hasOwnProperty;function oG(e){var t=this.__data__;return hf?t[e]!==void 0:sG.call(t,e)}var aG="__lodash_hash_undefined__";function lG(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=hf&&t===void 0?aG:t,this}function yl(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}yl.prototype.clear=XH;yl.prototype.delete=ZH;yl.prototype.get=rG;yl.prototype.has=oG;yl.prototype.set=lG;function cG(){this.__data__=[],this.size=0}function a0(e,t){return e===t||e!==e&&t!==t}function l0(e,t){for(var n=e.length;n--;)if(a0(e[n][0],t))return n;return-1}var uG=Array.prototype,dG=uG.splice;function fG(e){var t=this.__data__,n=l0(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():dG.call(t,n,1),--this.size,!0}function hG(e){var t=this.__data__,n=l0(t,e);return n<0?void 0:t[n][1]}function pG(e){return l0(this.__data__,e)>-1}function gG(e,t){var n=this.__data__,r=l0(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function jo(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}jo.prototype.clear=cG;jo.prototype.delete=fG;jo.prototype.get=hG;jo.prototype.has=pG;jo.prototype.set=gG;var pf=Bl(Ps,"Map");function mG(){this.size=0,this.__data__={hash:new yl,map:new(pf||jo),string:new yl}}function vG(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function c0(e,t){var n=e.__data__;return vG(t)?n[typeof t=="string"?"string":"hash"]:n.map}function yG(e){var t=c0(this,e).delete(e);return this.size-=t?1:0,t}function AG(e){return c0(this,e).get(e)}function _G(e){return c0(this,e).has(e)}function bG(e,t){var n=c0(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function Oo(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Oo.prototype.clear=mG;Oo.prototype.delete=yG;Oo.prototype.get=AG;Oo.prototype.has=_G;Oo.prototype.set=bG;var SG="Expected a function";function u0(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(SG);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=e.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(u0.Cache||Oo),n}u0.Cache=Oo;function Ng(e){return Od.includes(e.note.type)?0:e.distance}function Rt(e){return(e==null?void 0:e.type)==="notes"&&!!e.notes.length}const xG=35e5,Na={freestyle:.25,rap:.25,rapstar:.5,star:2,normal:1,perfect:.5,vibrato:.25},Bk=e=>({freestyle:e.freestyle*Na.freestyle,rap:e.rap*Na.rap,rapstar:e.rapstar*Na.rapstar,star:e.star*Na.star,normal:e.normal*Na.normal,perfect:e.perfect*Na.perfect,vibrato:e.vibrato*Na.vibrato}),gS=e=>e.freestyle+e.rap+e.star+e.normal+e.perfect+e.vibrato,Qh=(e,t)=>({freestyle:e.freestyle*t,rap:e.rap*t,rapstar:e.rapstar*t,star:e.star*t,normal:e.normal*t,perfect:e.perfect*t,vibrato:e.vibrato*t}),Dk=(e,t)=>({freestyle:e.freestyle+t.freestyle,rap:e.rap+t.rap,rapstar:e.rapstar+t.rapstar,star:e.star+t.star,normal:e.normal+t.normal,perfect:e.perfect+t.perfect,vibrato:e.vibrato+t.vibrato}),$k=(e,t)=>({freestyle:e.freestyle/t,rap:e.rap/t,rapstar:e.rapstar/t,star:e.star/t,normal:e.normal/t,perfect:e.perfect/t,vibrato:e.vibrato/t}),Fk=u0(e=>e.tracks.map(({sections:t})=>{const n={freestyle:0,rap:0,rapstar:0,star:0,normal:0,perfect:0,vibrato:0};return t.filter(Rt).forEach(r=>{r.notes.filter(s=>!xj.includes(s.type)).forEach(s=>{n[s.type]=n[s.type]+s.length,n.perfect=n.perfect+s.length,n.vibrato=n.vibrato+s.length})}),n}));function Cj(e,t,n){const r=Fk(t),i={freestyle:0,rap:0,rapstar:0,star:0,normal:0,perfect:0,vibrato:0};if(!r[n])return console.error(`No beat count for track ${n} in song`,t),[0,i,i];const s=Bk(Fk(t)[n]),o=xG/gS(s);for(let a=0;a<e.length;a++){const l=e[a];xj.includes(l.note.type)||Ng(l)===0&&(i[l.note.type]=i[l.note.type]+l.length,l.isPerfect&&(i.perfect=i.perfect+l.length),l.vibrato&&(i.vibrato=i.vibrato+l.length))}return[o,Bk(i),s]}function wG(e,t,n){const[r,i]=Cj(e,t,n);return gS(i)*r}function EG(e,t,n,r=!0){const i=(e-n)/t;return r?Math.floor(i):i}function kG(e){return wj*Math.pow(2,(e-Ej)/12)}const CG=e=>Math.round(12*(Math.log(e/wj)/Math.log(2)))+Ej,TG=(e,t)=>Math.floor(1200*Math.log(t/e)/Math.log(2)),IG=(e,t,n)=>{const r=kG(e),i=TG(r,t);return Math.sign(i)*((Math.abs(i)%1200+600)%1200-600)/(n*100+50)},PG=(e,t,n)=>{const r=(e%12-t%12+18)%12-6;return Math.abs(r)<=n?0:r},RG=(e,t)=>{const n=Ne.getTolerance(),r=CG(e);let i=-1;const s=PG(r,t,n);return s===0&&(i=IG(t,e,n)),{distance:s,preciseDistance:i}},zk=6;function MG(e){const t=[];for(let r=1;r<e.length;r++){if(Math.round(e[r].frequency/2)===Math.round(e[r-1].frequency/2))continue;const i=e[r].frequency>e[r-1].frequency?">":"<";if(t.length===0)t.push({...e[r],interval:e[r].timestamp-e[r-1].timestamp,change:i});else{const s=t.at(-1);s.change!==i&&t.push({...e[r],interval:e[r].timestamp-s.timestamp,change:i})}}const n=t;for(let r=0;r<n.length-zk;r++){const s=n.slice(r,r+zk-1).map(c=>c.interval),o=Math.max(...s),a=Math.min(...s),l=s.reduce((c,u)=>c+u,0)/s.length;if(o<l*1.75&&a>l/1.75)return!0}return!1}const jG=100;function OG(e,t,n,r){if(t.frequency===0)return;const i={...t,beat:Math.max(0,t.timestamp)/r,...RG(t.frequency,n.pitch)},s=e.at(-1),o=jG/r,a=n.start+n.length,l=!s||s.note.start!==n.start,c=!s||s.distance!==i.distance&&!Od.includes(n.type);if(l||c||i.beat-(s.start+s.length)>o){const u=i.beat-o<n.start?n.start:i.beat;if(e.push({start:Math.min(l?u:i.beat,a),length:0,distance:i.distance,note:n,isPerfect:!1,vibrato:!1,frequencyRecords:[{frequency:i.frequency,preciseDistance:i.preciseDistance,timestamp:i.timestamp}]}),s&&n.start!==s.note.start){const d=s.start+s.length,h=s.note.start+s.note.length,p=d+o>h?h:d;s.length=Math.max(0,p-s.start)}}else s.length=Math.max(0,Math.min(i.beat,n.start+n.length)-s.start),s.frequencyRecords.push({frequency:i.frequency,timestamp:i.timestamp,preciseDistance:i.preciseDistance}),s.isPerfect=s.distance===0&&Math.abs(s.length-s.note.length)<.5,s.vibrato=s.distance===0&&MG(s.frequencyRecords)}const VG=e=>e.notes[0],Aa=e=>{const t=e.find(Rt);return t?VG(t).start:1/0},gf=e=>{const n=e.filter(Rt).at(-1);return n?mf(n):0},mf=e=>{const t=e.notes.at(-1);return t.start+t.length},Uk=(e,t,n=0)=>e.notes.find(r=>r.start-n<=t&&r.start+r.length+n>=t);class LG{constructor(t,n){this.number=t,this.gameState=n,this.frequencyRecords=[],this.playerNotes=[],this.realFrequencyRecords=[],this.realPlayerNotes=[],this.min=1/0,this.max=-1/0,this.storedSectionIndex=0,this.getNumber=()=>this.number,this.update=()=>{const r=this.gameState.getCurrentTime(),i=gn.getPlayerFrequency(this.number),s=r-gn.getPlayerInputLag(this.number);if(Array.isArray(i)){const o=this.realFrequencyRecords.at(-1)||this.frequencyRecords.at(0),a=(o==null?void 0:o.timestamp)??0,l=(s-a)/i.length;this.frequencyRecords=this.realFrequencyRecords,this.playerNotes=this.realPlayerNotes;for(let u=0;u<i.length;u++){const d=a+l*(u+1);this.updatePlayerNotes(d,i[u])}this.realFrequencyRecords=[...this.frequencyRecords],this.realPlayerNotes=[...this.playerNotes];const c=this.realPlayerNotes.at(-1);c&&(this.realPlayerNotes[this.realPlayerNotes.length-1]={...c,frequencyRecords:[...c.frequencyRecords??[]]}),gn.clearPlayerCachedFrequencies(this.number)}else this.updatePlayerNotes(s,i);this.dispatchSectionUpdate()},this.dispatchSectionUpdate=()=>{const r=this.getCurrentSectionIndex();this.storedSectionIndex!==r&&(ee.sectionChange.dispatch(this.number,this.storedSectionIndex),this.storedSectionIndex=r)},this.updatePlayerNotes=(r,i)=>{const s={timestamp:r,frequency:i};this.frequencyRecords.push(s);const o=s.timestamp/this.gameState.getSongBeatLength(),a=this.getSectionByBeat(o);if(Rt(a)){const l=Uk(a,o,0)??Uk(a,o,.5);l&&OG(this.playerNotes,s,l,this.gameState.getSongBeatLength())}},this.getPlayerNotes=()=>this.playerNotes,this.getPlayerFrequencies=()=>this.frequencyRecords,this.getSectionIndexByBeat=r=>this.getTrack().sections.findIndex((i,s,o)=>r<0?!0:r<i.start?!1:s===o.length-1?!0:o[s+1].start>r),this.getCurrentSectionIndex=()=>this.getSectionIndexByBeat(this.gameState.getCurrentBeat()),this.getSectionByBeat=r=>this.getTrack().sections[this.getSectionIndexByBeat(r)]??null,this.getCurrentSection=()=>{const r=this.getCurrentSectionIndex();return this.getTrack().sections[r]??null},this.getNextSection=(r=1)=>{const i=this.getCurrentSectionIndex();return i>-1?this.getTrack().sections[i+r]??null:null},this.getPreviousSection=(r=1)=>{const i=this.getCurrentSectionIndex();return i>-1?this.getTrack().sections[i-r]??null:null},this.getLastNotesSection=()=>{const r=this.getTrack().sections.at(-1);return Rt(r)?r:this.getTrack().sections.at(-2)},this.getScore=()=>wG(this.playerNotes,this.gameState.getSong(),this.getTrackIndex()),this.getDetailedScore=()=>Cj(this.playerNotes,this.gameState.getSong(),this.getTrackIndex()),this.getMinPitch=()=>this.min,this.getMaxPitch=()=>this.max,this.getTrackIndex=()=>this.gameState.getSingSetup().players.find(r=>r.number===this.number).track,this.getTrack=()=>{var r;return this.gameState.isMergedTrack()?(r=this.gameState.getSong())==null?void 0:r.mergedTrack:this.gameState.getSong().tracks[this.getTrackIndex()]},this.resetNotes=()=>{this.playerNotes=[]},this.getTrack().sections.filter(Rt).forEach(r=>r.notes.forEach(i=>{this.min=Math.min(this.min,i.pitch),this.max=Math.max(this.max,i.pitch)}))}}function NG(e){return Math.max(...e.tracks.map(t=>{const n=t.sections.filter(Rt).at(-1);return n?mf(n):0}))}function mS(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError("Expected a function");const n=function(...r){const i=t?t.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);const o=e.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(mS.Cache||Map),n}mS.Cache=Map;const Cu=mS(function(t){return 60/t.bpm/(t.bar??4)*1e3});class BG{constructor(){this.song=null,this.currentTime=0,this.duration=0,this.singSetup=null,this.playerStates=[],this.playing=!1,this.setCurrentTime=t=>this.currentTime=t,this.getCurrentTime=(t=!0)=>this.currentTime-(t&&this.song?this.song.gap:0),this.getSongBeatLength=()=>Cu(this.song),this.getCurrentBeat=()=>EG(this.getCurrentTime(),this.getSongBeatLength(),0,!1),this.setSong=t=>this.song=t,this.getSong=()=>this.song,this.getSingSetup=()=>this.singSetup,this.setSingSetup=t=>{this.singSetup=t,this.playerStates=t.players.map(({number:n},r)=>new LG(n,this)),this.currentTime=0,this.playing=!0},this.resetSingSetup=()=>{this.playing=!1},this.isPlaying=()=>this.playing,this.getTolerance=()=>{var t;return((t=this.getSingSetup())==null?void 0:t.tolerance)??2},this.setDuration=t=>this.duration=t,this.getDuration=()=>this.duration,this.getPlayer=t=>this.playerStates.find(n=>n.getNumber()===t),this.getPlayers=()=>this.playerStates,this.getPlayerCount=()=>this.playerStates.length,this.getPlayerScore=t=>{var n,r;return((n=this.getSingSetup())==null?void 0:n.mode)===jr.CO_OP?this.getPlayers().reduce((s,o)=>s+o.getScore(),0)/this.getPlayerCount():((r=this.getPlayer(t))==null?void 0:r.getScore())??-1},this.getPlayerDetailedScore=t=>{var n;if(((n=this.getSingSetup())==null?void 0:n.mode)===jr.CO_OP){const r=this.getPlayers().map(a=>a.getDetailedScore()),[i,...s]=r.map(([a,l,c])=>[Qh(l,a),Qh(c,a)]),o=s.reduce((a,l)=>[Dk(a[0],l[0]),Dk(a[1],l[1])],i);return[$k(o[0],this.getPlayerCount()),$k(o[1],this.getPlayerCount())]}else{const[r,i,s]=this.getPlayer(t).getDetailedScore();return[Qh(i,r),Qh(s,r)]}},this.getSongCompletionProgress=()=>Math.max(0,Math.min(1,this.getCurrentBeat()/NG(this.getSong()))),this.startInputMonitoring=async()=>gn.startMonitoring(),this.stopInputMonitoring=()=>gn.stopMonitoring(),this.update=()=>{this.playerStates.forEach(t=>t.update())},this.resetPlayerNotes=()=>{this.playerStates.forEach(t=>t.resetNotes())},this.isMergedTrack=()=>{var t;return((t=this.getSingSetup())==null?void 0:t.players.length)!==2}}}const Ne=new BG,Tj="wss://allkaraoke-partykit.asvarox.partykit.dev";class DG extends Is{constructor(){super(...arguments),this.name="PartyKit",this.connection=null,this.disconnect=()=>{var t;(t=this.connection)==null||t.close()},this.latency=0,this.pingStart=Lr(),this.pinging=!1,this.pingTimeout=null,this.ping=()=>{var t;this.pinging=!0,this.pingStart=Lr(),(t=this.connection)==null||t.send(eo({t:"ping"}))},this.onPong=()=>{this.pinging&&(this.latency=Lr()-this.pingStart,this.pinging=!1,this.pingTimeout&&clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(this.ping,5e3))},this.getCurrentPing=()=>this.pinging?Math.max(this.latency,Lr()-this.pingStart):this.latency}connect(t,n,r){this.connection=new WebSocket(`${Tj}/party/${t}`),this.connection.binaryType="arraybuffer",this.connection.onopen=()=>{var i,s;(i=this.connection)==null||i.send(eo({t:"register-room",id:t})),n(),this.ping(),(s=this.connection)==null||s.addEventListener("message",o=>{var l;const a=mu(o.data);if(a.t==="forward"){["ping","pong","freq"].includes((l=a==null?void 0:a.payload)==null?void 0:l.t)||console.log("received",a);const{sender:c,payload:u}=a,d=new $G(c,this.connection);this.onUpdate(u,d)}else a.t==="pong"?this.onPong():console.warn("Unknown message type",a)})},this.connection.onclose=i=>{r(i.reason,i)}}}let $G=class{constructor(t,n){this.peer=t,this.socket=n,this.currentPing=0,this.send=r=>{const i={t:"forward",recipients:[this.peer],payload:r};["ping","pong","freq"].includes(r==null?void 0:r.t)||console.log("sending",this.peer,r),this.socket.send(eo(i))},this.callbacksMap=new Map,this.on=(r,i)=>{r==="data"&&(this.callbacksMap.set(i,s=>{const o=mu(s.data);if(o.t==="forward"){const{sender:a,payload:l}=o;a===this.peer&&i(l)}}),this.socket.addEventListener("message",this.callbacksMap.get(i)))},this.off=(r,i)=>{if(r==="data"){const s=this.callbacksMap.get(i);this.socket.removeEventListener("message",s),this.callbacksMap.delete(i)}},this.close=()=>{this.socket.close()}}};var SR;const FG=(SR=global==null?void 0:global.sessionStorage)==null?void 0:SR.getItem("isE2E");function ks(){var t,n;if(FG)return!0;const e=(global==null?void 0:global.isE2ETests)||((t=global==null?void 0:global.location)==null?void 0:t.search.includes("e2e-test"));return e&&((n=global==null?void 0:global.sessionStorage)==null||n.setItem("isE2E","true")),e}const zG=ks()?{host:"localhost",port:3001,path:"/"}:{},Ij={...zG};var UG=Object.create,d0=Object.defineProperty,HG=Object.defineProperties,GG=Object.getOwnPropertyDescriptor,qG=Object.getOwnPropertyDescriptors,Pj=Object.getOwnPropertyNames,Hk=Object.getOwnPropertySymbols,WG=Object.getPrototypeOf,Rj=Object.prototype.hasOwnProperty,KG=Object.prototype.propertyIsEnumerable,Gk=(e,t,n)=>t in e?d0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,vS=(e,t)=>{for(var n in t||(t={}))Rj.call(t,n)&&Gk(e,n,t[n]);if(Hk)for(var n of Hk(t))KG.call(t,n)&&Gk(e,n,t[n]);return e},Mj=(e,t)=>HG(e,qG(t)),YG=e=>d0(e,"__esModule",{value:!0}),yS=(e,t)=>function(){return t||(0,e[Pj(e)[0]])((t={exports:{}}).exports,t),t.exports},QG=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Pj(t))!Rj.call(e,i)&&(n||i!=="default")&&d0(e,i,{get:()=>t[i],enumerable:!(r=GG(t,i))||r.enumerable});return e},sh=(e,t)=>QG(YG(d0(e!=null?UG(WG(e)):{},"default",!t&&e&&e.__esModule?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e),lc=(e,t,n)=>new Promise((r,i)=>{var s=l=>{try{a(n.next(l))}catch(c){i(c)}},o=l=>{try{a(n.throw(l))}catch(c){i(c)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(s,o);a((n=n.apply(e,t)).next())}),qk=yS({"node_modules/peerjs-js-binarypack/lib/bufferbuilder.js"(e,t){var n={};n.useBlobBuilder=function(){try{return new Blob([]),!1}catch{return!0}}(),n.useArrayBufferView=!n.useBlobBuilder&&function(){try{return new Blob([new Uint8Array([])]).size===0}catch{return!0}}(),t.exports.binaryFeatures=n;var r=t.exports.BlobBuilder;typeof window<"u"&&(r=t.exports.BlobBuilder=window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder||window.BlobBuilder);function i(){this._pieces=[],this._parts=[]}i.prototype.append=function(s){typeof s=="number"?this._pieces.push(s):(this.flush(),this._parts.push(s))},i.prototype.flush=function(){if(this._pieces.length>0){var s=new Uint8Array(this._pieces);n.useArrayBufferView||(s=s.buffer),this._parts.push(s),this._pieces=[]}},i.prototype.getBuffer=function(){if(this.flush(),n.useBlobBuilder){for(var s=new r,o=0,a=this._parts.length;o<a;o++)s.append(this._parts[o]);return s.getBlob()}else return new Blob(this._parts)},t.exports.BufferBuilder=i}}),JG=yS({"node_modules/peerjs-js-binarypack/lib/binarypack.js"(e,t){var n=qk().BufferBuilder,r=qk().binaryFeatures,i={unpack:function(c){var u=new s(c);return u.unpack()},pack:function(c){var u=new o;u.pack(c);var d=u.getBuffer();return d}};t.exports=i;function s(c){this.index=0,this.dataBuffer=c,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}s.prototype.unpack=function(){var c=this.unpack_uint8();if(c<128)return c;if((c^224)<32)return(c^224)-32;var u;if((u=c^160)<=15)return this.unpack_raw(u);if((u=c^176)<=15)return this.unpack_string(u);if((u=c^144)<=15)return this.unpack_array(u);if((u=c^128)<=15)return this.unpack_map(u);switch(c){case 192:return null;case 193:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 212:return;case 213:return;case 214:return;case 215:return;case 216:return u=this.unpack_uint16(),this.unpack_string(u);case 217:return u=this.unpack_uint32(),this.unpack_string(u);case 218:return u=this.unpack_uint16(),this.unpack_raw(u);case 219:return u=this.unpack_uint32(),this.unpack_raw(u);case 220:return u=this.unpack_uint16(),this.unpack_array(u);case 221:return u=this.unpack_uint32(),this.unpack_array(u);case 222:return u=this.unpack_uint16(),this.unpack_map(u);case 223:return u=this.unpack_uint32(),this.unpack_map(u)}},s.prototype.unpack_uint8=function(){var c=this.dataView[this.index]&255;return this.index++,c},s.prototype.unpack_uint16=function(){var c=this.read(2),u=(c[0]&255)*256+(c[1]&255);return this.index+=2,u},s.prototype.unpack_uint32=function(){var c=this.read(4),u=((c[0]*256+c[1])*256+c[2])*256+c[3];return this.index+=4,u},s.prototype.unpack_uint64=function(){var c=this.read(8),u=((((((c[0]*256+c[1])*256+c[2])*256+c[3])*256+c[4])*256+c[5])*256+c[6])*256+c[7];return this.index+=8,u},s.prototype.unpack_int8=function(){var c=this.unpack_uint8();return c<128?c:c-256},s.prototype.unpack_int16=function(){var c=this.unpack_uint16();return c<32768?c:c-65536},s.prototype.unpack_int32=function(){var c=this.unpack_uint32();return c<Math.pow(2,31)?c:c-Math.pow(2,32)},s.prototype.unpack_int64=function(){var c=this.unpack_uint64();return c<Math.pow(2,63)?c:c-Math.pow(2,64)},s.prototype.unpack_raw=function(c){if(this.length<this.index+c)throw new Error("BinaryPackFailure: index is out of range "+this.index+" "+c+" "+this.length);var u=this.dataBuffer.slice(this.index,this.index+c);return this.index+=c,u},s.prototype.unpack_string=function(c){for(var u=this.read(c),d=0,h="",p,g;d<c;)p=u[d],p<128?(h+=String.fromCharCode(p),d++):(p^192)<32?(g=(p^192)<<6|u[d+1]&63,h+=String.fromCharCode(g),d+=2):(g=(p&15)<<12|(u[d+1]&63)<<6|u[d+2]&63,h+=String.fromCharCode(g),d+=3);return this.index+=c,h},s.prototype.unpack_array=function(c){for(var u=new Array(c),d=0;d<c;d++)u[d]=this.unpack();return u},s.prototype.unpack_map=function(c){for(var u={},d=0;d<c;d++){var h=this.unpack(),p=this.unpack();u[h]=p}return u},s.prototype.unpack_float=function(){var c=this.unpack_uint32(),u=c>>31,d=(c>>23&255)-127,h=c&8388607|8388608;return(u===0?1:-1)*h*Math.pow(2,d-23)},s.prototype.unpack_double=function(){var c=this.unpack_uint32(),u=this.unpack_uint32(),d=c>>31,h=(c>>20&2047)-1023,p=c&1048575|1048576,g=p*Math.pow(2,h-20)+u*Math.pow(2,h-52);return(d===0?1:-1)*g},s.prototype.read=function(c){var u=this.index;if(u+c<=this.length)return this.dataView.subarray(u,u+c);throw new Error("BinaryPackFailure: read index out of range")};function o(){this.bufferBuilder=new n}o.prototype.getBuffer=function(){return this.bufferBuilder.getBuffer()},o.prototype.pack=function(c){var u=typeof c;if(u==="string")this.pack_string(c);else if(u==="number")Math.floor(c)===c?this.pack_integer(c):this.pack_double(c);else if(u==="boolean")c===!0?this.bufferBuilder.append(195):c===!1&&this.bufferBuilder.append(194);else if(u==="undefined")this.bufferBuilder.append(192);else if(u==="object")if(c===null)this.bufferBuilder.append(192);else{var d=c.constructor;if(d==Array)this.pack_array(c);else if(d==Blob||d==File||c instanceof Blob||c instanceof File)this.pack_bin(c);else if(d==ArrayBuffer)r.useArrayBufferView?this.pack_bin(new Uint8Array(c)):this.pack_bin(c);else if("BYTES_PER_ELEMENT"in c)r.useArrayBufferView?this.pack_bin(new Uint8Array(c.buffer)):this.pack_bin(c.buffer);else if(d==Object||d.toString().startsWith("class"))this.pack_object(c);else if(d==Date)this.pack_string(c.toString());else if(typeof c.toBinaryPack=="function")this.bufferBuilder.append(c.toBinaryPack());else throw new Error('Type "'+d.toString()+'" not yet supported')}else throw new Error('Type "'+u+'" not yet supported');this.bufferBuilder.flush()},o.prototype.pack_bin=function(c){var u=c.length||c.byteLength||c.size;if(u<=15)this.pack_uint8(160+u);else if(u<=65535)this.bufferBuilder.append(218),this.pack_uint16(u);else if(u<=4294967295)this.bufferBuilder.append(219),this.pack_uint32(u);else throw new Error("Invalid length");this.bufferBuilder.append(c)},o.prototype.pack_string=function(c){var u=l(c);if(u<=15)this.pack_uint8(176+u);else if(u<=65535)this.bufferBuilder.append(216),this.pack_uint16(u);else if(u<=4294967295)this.bufferBuilder.append(217),this.pack_uint32(u);else throw new Error("Invalid length");this.bufferBuilder.append(c)},o.prototype.pack_array=function(c){var u=c.length;if(u<=15)this.pack_uint8(144+u);else if(u<=65535)this.bufferBuilder.append(220),this.pack_uint16(u);else if(u<=4294967295)this.bufferBuilder.append(221),this.pack_uint32(u);else throw new Error("Invalid length");for(var d=0;d<u;d++)this.pack(c[d])},o.prototype.pack_integer=function(c){if(c>=-32&&c<=127)this.bufferBuilder.append(c&255);else if(c>=0&&c<=255)this.bufferBuilder.append(204),this.pack_uint8(c);else if(c>=-128&&c<=127)this.bufferBuilder.append(208),this.pack_int8(c);else if(c>=0&&c<=65535)this.bufferBuilder.append(205),this.pack_uint16(c);else if(c>=-32768&&c<=32767)this.bufferBuilder.append(209),this.pack_int16(c);else if(c>=0&&c<=4294967295)this.bufferBuilder.append(206),this.pack_uint32(c);else if(c>=-2147483648&&c<=2147483647)this.bufferBuilder.append(210),this.pack_int32(c);else if(c>=-9223372036854776e3&&c<=9223372036854776e3)this.bufferBuilder.append(211),this.pack_int64(c);else if(c>=0&&c<=18446744073709552e3)this.bufferBuilder.append(207),this.pack_uint64(c);else throw new Error("Invalid integer")},o.prototype.pack_double=function(c){var u=0;c<0&&(u=1,c=-c);var d=Math.floor(Math.log(c)/Math.LN2),h=c/Math.pow(2,d)-1,p=Math.floor(h*Math.pow(2,52)),g=Math.pow(2,32),m=u<<31|d+1023<<20|p/g&1048575,_=p%g;this.bufferBuilder.append(203),this.pack_int32(m),this.pack_int32(_)},o.prototype.pack_object=function(c){var u=Object.keys(c),d=u.length;if(d<=15)this.pack_uint8(128+d);else if(d<=65535)this.bufferBuilder.append(222),this.pack_uint16(d);else if(d<=4294967295)this.bufferBuilder.append(223),this.pack_uint32(d);else throw new Error("Invalid length");for(var h in c)c.hasOwnProperty(h)&&(this.pack(h),this.pack(c[h]))},o.prototype.pack_uint8=function(c){this.bufferBuilder.append(c)},o.prototype.pack_uint16=function(c){this.bufferBuilder.append(c>>8),this.bufferBuilder.append(c&255)},o.prototype.pack_uint32=function(c){var u=c&4294967295;this.bufferBuilder.append((u&4278190080)>>>24),this.bufferBuilder.append((u&16711680)>>>16),this.bufferBuilder.append((u&65280)>>>8),this.bufferBuilder.append(u&255)},o.prototype.pack_uint64=function(c){var u=c/Math.pow(2,32),d=c%Math.pow(2,32);this.bufferBuilder.append((u&4278190080)>>>24),this.bufferBuilder.append((u&16711680)>>>16),this.bufferBuilder.append((u&65280)>>>8),this.bufferBuilder.append(u&255),this.bufferBuilder.append((d&4278190080)>>>24),this.bufferBuilder.append((d&16711680)>>>16),this.bufferBuilder.append((d&65280)>>>8),this.bufferBuilder.append(d&255)},o.prototype.pack_int8=function(c){this.bufferBuilder.append(c&255)},o.prototype.pack_int16=function(c){this.bufferBuilder.append((c&65280)>>8),this.bufferBuilder.append(c&255)},o.prototype.pack_int32=function(c){this.bufferBuilder.append(c>>>24&255),this.bufferBuilder.append((c&16711680)>>>16),this.bufferBuilder.append((c&65280)>>>8),this.bufferBuilder.append(c&255)},o.prototype.pack_int64=function(c){var u=Math.floor(c/Math.pow(2,32)),d=c%Math.pow(2,32);this.bufferBuilder.append((u&4278190080)>>>24),this.bufferBuilder.append((u&16711680)>>>16),this.bufferBuilder.append((u&65280)>>>8),this.bufferBuilder.append(u&255),this.bufferBuilder.append((d&4278190080)>>>24),this.bufferBuilder.append((d&16711680)>>>16),this.bufferBuilder.append((d&65280)>>>8),this.bufferBuilder.append(d&255)};function a(c){var u=c.charCodeAt(0);return u<=2047?"00":u<=65535?"000":u<=2097151?"0000":u<=67108863?"00000":"000000"}function l(c){return c.length>600?new Blob([c]).size:c.replace(/[^\u0000-\u007F]/g,a).length}}}),f0=yS({"node_modules/eventemitter3/index.js"(e,t){var n=Object.prototype.hasOwnProperty,r="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(r=!1));function s(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function o(c,u,d,h,p){if(typeof d!="function")throw new TypeError("The listener must be a function");var g=new s(d,h||c,p),m=r?r+u:u;return c._events[m]?c._events[m].fn?c._events[m]=[c._events[m],g]:c._events[m].push(g):(c._events[m]=g,c._eventsCount++),c}function a(c,u){--c._eventsCount===0?c._events=new i:delete c._events[u]}function l(){this._events=new i,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,h;if(this._eventsCount===0)return u;for(h in d=this._events)n.call(d,h)&&u.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,h=this._events[d];if(!h)return[];if(h.fn)return[h.fn];for(var p=0,g=h.length,m=new Array(g);p<g;p++)m[p]=h[p].fn;return m},l.prototype.listenerCount=function(u){var d=r?r+u:u,h=this._events[d];return h?h.fn?1:h.length:0},l.prototype.emit=function(u,d,h,p,g,m){var _=r?r+u:u;if(!this._events[_])return!1;var v=this._events[_],A=arguments.length,S,x;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),A){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,h),!0;case 4:return v.fn.call(v.context,d,h,p),!0;case 5:return v.fn.call(v.context,d,h,p,g),!0;case 6:return v.fn.call(v.context,d,h,p,g,m),!0}for(x=1,S=new Array(A-1);x<A;x++)S[x-1]=arguments[x];v.fn.apply(v.context,S)}else{var b=v.length,w;for(x=0;x<b;x++)switch(v[x].once&&this.removeListener(u,v[x].fn,void 0,!0),A){case 1:v[x].fn.call(v[x].context);break;case 2:v[x].fn.call(v[x].context,d);break;case 3:v[x].fn.call(v[x].context,d,h);break;case 4:v[x].fn.call(v[x].context,d,h,p);break;default:if(!S)for(w=1,S=new Array(A-1);w<A;w++)S[w-1]=arguments[w];v[x].fn.apply(v[x].context,S)}}return!0},l.prototype.on=function(u,d,h){return o(this,u,d,h,!1)},l.prototype.once=function(u,d,h){return o(this,u,d,h,!0)},l.prototype.removeListener=function(u,d,h,p){var g=r?r+u:u;if(!this._events[g])return this;if(!d)return a(this,g),this;var m=this._events[g];if(m.fn)m.fn===d&&(!p||m.once)&&(!h||m.context===h)&&a(this,g);else{for(var _=0,v=[],A=m.length;_<A;_++)(m[_].fn!==d||p&&!m[_].once||h&&m[_].context!==h)&&v.push(m[_]);v.length?this._events[g]=v.length===1?v[0]:v:a(this,g)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&a(this,d)):(this._events=new i,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,typeof t<"u"&&(t.exports=l)}}),Wk=sh(JG()),XG={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"turn:0.peerjs.com:3478",username:"peerjs",credential:"peerjsp"}],sdpSemantics:"unified-plan"},rn=new class{constructor(){this.CLOUD_HOST="0.peerjs.com",this.CLOUD_PORT=443,this.chunkedMTU=16300,this.defaultConfig=XG,this.pack=Wk.pack,this.unpack=Wk.unpack,this._dataCount=1}validateId(e){return!e||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(e)}chunk(e){const t=[],n=e.size,r=Math.ceil(n/rn.chunkedMTU);let i=0,s=0;for(;s<n;){const o=Math.min(n,s+rn.chunkedMTU),a=e.slice(s,o),l={__peerData:this._dataCount,n:i,data:a,total:r};t.push(l),s=o,i++}return this._dataCount++,t}blobToArrayBuffer(e,t,n){const r=new e;return r.onload=function(i){i.target&&n(i.target.result)},r.readAsArrayBuffer(t),r}binaryStringToArrayBuffer(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n)&255;return t.buffer}randomToken(){return Math.random().toString(36).substr(2)}isSecure(){return location.protocol==="https:"}},ZG=sh(f0()),eq="PeerJS: ",tq=class{constructor(){this._logLevel=0}get logLevel(){return this._logLevel}set logLevel(e){this._logLevel=e}log(...e){this._logLevel>=3&&this._print(3,...e)}warn(...e){this._logLevel>=2&&this._print(2,...e)}error(...e){this._logLevel>=1&&this._print(1,...e)}setLogFunction(e){this._print=e}_print(e,...t){const n=[eq,...t];for(let r in n)n[r]instanceof Error&&(n[r]="("+n[r].name+") "+n[r].message);e>=3?console.log(...n):e>=2?console.warn("WARNING",...n):e>=1&&console.error("ERROR",...n)}},xe=new tq,nq=sh(f0()),rq=class extends nq.EventEmitter{constructor({secure:e,host:t,port:n,path:r,key:i,pingInterval:s=5e3,polyfills:o}){super(),this._disconnected=!0,this._id=null,this._messagesQueue=[],this.alive=!1,this._destroyed=!1;var a;this.pingInterval=s;const l=e?"wss://":"ws://";this._baseUrl=l+t+":"+n+r+"peerjs?key="+i,this.WebSocketConstructor=(a=o==null?void 0:o.WebSocket)!=null?a:window.WebSocket}get messagesQueue(){return this._messagesQueue}get destroyed(){return this._destroyed}start(e,t){if(this._destroyed)throw new Error("Socket was destroyed!");if(this._id=e,this._socket||!this._disconnected)return;const n=`${this._baseUrl}&id=${e}&token=${t}`;this._socket=new this.WebSocketConstructor(n),this._disconnected=!1,this._socket.onmessage=r=>{if(this._destroyed)return;let i;try{i=JSON.parse(r.data),xe.log("Server message received:",i)}catch{xe.log("Invalid server message",r.data);return}this.emit("message",i)},this._socket.onclose=r=>{this._disconnected||this._destroyed||(xe.log("Socket closed.",r),this._cleanup(),this._disconnected=!0,this.emit("disconnected"))},this._socket.onopen=()=>{this._disconnected||this._destroyed||(xe.log("Socket open"),this.emit("open"),this._sendQueuedMessages(),this._scheduleHeartbeat())}}_scheduleHeartbeat(){this._wsPingTimer=setTimeout(()=>{this._sendHeartbeat()},this.pingInterval)}_sendHeartbeat(){if(this._destroyed)return;if(!this._wsOpen()){xe.log("Cannot send heartbeat, because socket closed");return}const e=JSON.stringify({type:"HEARTBEAT"});this._socket.send(e),this._scheduleHeartbeat()}_wsOpen(){return!!this._socket&&this._socket.readyState===1}_sendQueuedMessages(){const e=[...this._messagesQueue];this._messagesQueue=[];for(const t of e)this.send(t);e.length>0&&xe.log(`${e.length} queued messages was sent`)}send(e){if(this._destroyed)throw new Error("Socket was destroyed!");if(!e.type){this.emit("error","Invalid message");return}if(!this.alive)return;if(this._id==null||!this._wsOpen()){this._messagesQueue.push(e);return}const t=JSON.stringify(e);this._socket.send(t)}close(){this._disconnected||(this._cleanup(),this._id=null,this._disconnected=!0)}_cleanup(){this._socket&&(this._socket.onopen=this._socket.onmessage=this._socket.onclose=null,this._socket.close(),this._socket=void 0),clearTimeout(this._wsPingTimer)}destroy(){this._destroyed||(this.close(),this._messagesQueue.length=0,this._destroyed=!0)}};function iq(){}var jj=class{constructor(e){this.connection=e}get webRtc(){var e,t;return(t=(e=this.connection.provider.options.polyfills)==null?void 0:e.WebRTC)!=null?t:window}startConnection(e){const t=this._startPeerConnection();if(this.connection.peerConnection=t,this.connection.type==="media"&&e._stream&&this._addTracksToConnection(e._stream,t),e.originator){if(this.connection.type==="data"){const n=this.connection,r={ordered:!!e.reliable},i=t.createDataChannel(n.label,r);n.initialize(i)}this._makeOffer()}else this.handleSDP("OFFER",e.sdp)}_startPeerConnection(){xe.log("Creating RTCPeerConnection.");const e=this.webRtc.RTCPeerConnection,t=new e(this.connection.provider.options.config);return this._setupListeners(t),t}_setupListeners(e){const t=this.connection.peer,n=this.connection.connectionId,r=this.connection.type,i=this.connection.provider;xe.log("Listening for ICE candidates, remote streams and data channels."),e.onicecandidate=s=>{!s.candidate||!s.candidate.candidate||(xe.log(`Received ICE candidates for ${t}:`,s.candidate),i.socket.send({type:"CANDIDATE",payload:{candidate:s.candidate,type:r,connectionId:n},dst:t}))},e.oniceconnectionstatechange=()=>{switch(e.iceConnectionState){case"failed":xe.log("iceConnectionState is failed, closing connections to "+t),this.connection.emit("error",new Error("Negotiation of connection to "+t+" failed.")),this.connection.close();break;case"closed":xe.log("iceConnectionState is closed, closing connections to "+t),this.connection.emit("error",new Error("Connection to "+t+" closed.")),this.connection.close();break;case"connected":xe.log("iceConnectionState changed to connected on the connection with "+t);break;case"disconnected":xe.log("iceConnectionState changed to disconnected on the connection with "+t);break;case"completed":xe.log("iceConnectionState changed to completed on the connection with "+t),e.onicecandidate=iq;break}this.connection.emit("iceStateChanged",e.iceConnectionState)},e.ondatachannel=s=>{xe.log("Received data channel");const o=s.channel;i.getConnection(t,n).initialize(o)},e.ontrack=s=>{xe.log("Received remote stream");const o=s.streams[0],a=i.getConnection(t,n);if(a.type==="media"){const l=a;this._addStreamToMediaConnection(o,l)}}}cleanup(){xe.log("Cleaning up PeerConnection to "+this.connection.peer);const e=this.connection.peerConnection;if(!e)return;this.connection.peerConnection=null,e.onicecandidate=e.oniceconnectionstatechange=e.ondatachannel=e.ontrack=null;const t=e.signalingState!=="closed";let n=!1;if(this.connection.type==="data"){const i=this.connection.dataChannel;i&&(n=!!i.readyState&&i.readyState!=="closed")}(t||n)&&e.close()}_makeOffer(){return lc(this,null,function*(){const e=this.connection.peerConnection,t=this.connection.provider;try{const n=yield e.createOffer(this.connection.options.constraints);if(e.signalingState==="closed")return;xe.log("Created offer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(n.sdp=this.connection.options.sdpTransform(n.sdp)||n.sdp);try{yield e.setLocalDescription(n),xe.log("Set localDescription:",n,`for:${this.connection.peer}`);let r={sdp:n,type:this.connection.type,connectionId:this.connection.connectionId,metadata:this.connection.metadata};if(this.connection.type==="data"){const i=this.connection;r=Mj(vS({},r),{label:i.label,reliable:i.reliable,serialization:i.serialization})}t.socket.send({type:"OFFER",payload:r,dst:this.connection.peer})}catch(r){r!="OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"&&(t.emitError("webrtc",r),xe.log("Failed to setLocalDescription, ",r))}}catch(n){t.emitError("webrtc",n),xe.log("Failed to createOffer, ",n)}})}_makeAnswer(){return lc(this,null,function*(){const e=this.connection.peerConnection,t=this.connection.provider;try{const n=yield e.createAnswer();if(e.signalingState==="closed")return;xe.log("Created answer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(n.sdp=this.connection.options.sdpTransform(n.sdp)||n.sdp);try{yield e.setLocalDescription(n),xe.log("Set localDescription:",n,`for:${this.connection.peer}`),t.socket.send({type:"ANSWER",payload:{sdp:n,type:this.connection.type,connectionId:this.connection.connectionId},dst:this.connection.peer})}catch(r){t.emitError("webrtc",r),xe.log("Failed to setLocalDescription, ",r)}}catch(n){t.emitError("webrtc",n),xe.log("Failed to create answer, ",n)}})}handleSDP(e,t){return lc(this,null,function*(){const n=this.webRtc.RTCSessionDescription;t=new n(t);const r=this.connection.peerConnection,i=this.connection.provider;xe.log("Setting remote description",t);const s=this;try{yield r.setRemoteDescription(t),xe.log(`Set remoteDescription:${e} for:${this.connection.peer}`),e==="OFFER"&&(yield s._makeAnswer())}catch(o){i.emitError("webrtc",o),xe.log("Failed to setRemoteDescription, ",o)}})}handleCandidate(e){return lc(this,null,function*(){xe.log("handleCandidate:",e);const t=e.candidate,n=e.sdpMLineIndex,r=e.sdpMid,i=this.connection.peerConnection,s=this.connection.provider;try{const o=this.webRtc.RTCIceCandidate;yield i.addIceCandidate(new o({sdpMid:r,sdpMLineIndex:n,candidate:t})),xe.log(`Added ICE candidate for:${this.connection.peer}`)}catch(o){s.emitError("webrtc",o),xe.log("Failed to handleCandidate, ",o)}})}_addTracksToConnection(e,t){if(xe.log(`add tracks from stream ${e.id} to peer connection`),!t.addTrack)return xe.error("Your browser does't support RTCPeerConnection#addTrack. Ignored.");e.getTracks().forEach(n=>{t.addTrack(n,e)})}_addStreamToMediaConnection(e,t){xe.log(`add stream ${e.id} to media connection ${t.connectionId}`),t.addStream(e)}},sq=sh(f0()),Oj=class extends sq.EventEmitter{constructor(e,t,n){super(),this.peer=e,this.provider=t,this.options=n,this._open=!1,this.metadata=n.metadata}get open(){return this._open}},Vj=class extends Oj{get type(){return"media"}get localStream(){return this._localStream}get remoteStream(){return this._remoteStream}constructor(e,t,n){super(e,t,n),this._localStream=this.options._stream,this.connectionId=this.options.connectionId||Vj.ID_PREFIX+rn.randomToken(),this._negotiator=new jj(this),this._localStream&&this._negotiator.startConnection({_stream:this._localStream,originator:!0})}addStream(e){xe.log("Receiving stream",e),this._remoteStream=e,super.emit("stream",e)}handleMessage(e){const t=e.type,n=e.payload;switch(e.type){case"ANSWER":this._negotiator.handleSDP(t,n.sdp),this._open=!0;break;case"CANDIDATE":this._negotiator.handleCandidate(n.candidate);break;default:xe.warn(`Unrecognized message type:${t} from peer:${this.peer}`);break}}answer(e,t={}){if(this._localStream){xe.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");return}this._localStream=e,t&&t.sdpTransform&&(this.options.sdpTransform=t.sdpTransform),this._negotiator.startConnection(Mj(vS({},this.options._payload),{_stream:e}));const n=this.provider._getMessages(this.connectionId);for(let r of n)this.handleMessage(r);this._open=!0}close(){this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this._localStream=null,this._remoteStream=null,this.provider&&(this.provider._removeConnection(this),this.provider=null),this.options&&this.options._stream&&(this.options._stream=null),this.open&&(this._open=!1,super.emit("close"))}},_1=Vj;_1.ID_PREFIX="mc_";var oq=sh(f0()),aq=class extends oq.EventEmitter{constructor(e){super(),this.fileReader=e,this._queue=[],this._processing=!1,this.fileReader.onload=t=>{this._processing=!1,t.target&&this.emit("done",t.target.result),this.doNextTask()},this.fileReader.onerror=t=>{xe.error("EncodingQueue error:",t),this._processing=!1,this.destroy(),this.emit("error",t)}}get queue(){return this._queue}get size(){return this.queue.length}get processing(){return this._processing}enque(e){this.queue.push(e),!this.processing&&this.doNextTask()}destroy(){this.fileReader.abort(),this._queue=[]}doNextTask(){this.size!==0&&(this.processing||(this._processing=!0,this.fileReader.readAsArrayBuffer(this.queue.shift())))}},b1=class extends Oj{constructor(e,t,n){super(e,t,n),this.stringify=JSON.stringify,this.parse=JSON.parse,this._buffer=[],this._bufferSize=0,this._buffering=!1,this._chunkedData={};var r,i;this.connectionId=this.options.connectionId||b1.ID_PREFIX+rn.randomToken(),this.label=this.options.label||this.connectionId,this.serialization=this.options.serialization||"binary",this.reliable=!!this.options.reliable,this.FileReaderCtr=(i=(r=t.options.polyfills)==null?void 0:r.FileReader)!=null?i:window.FileReader,this._encodingQueue=new aq(new this.FileReaderCtr),this._encodingQueue.on("done",s=>{this._bufferedSend(s)}),this._encodingQueue.on("error",()=>{xe.error(`DC#${this.connectionId}: Error occured in encoding from blob to arraybuffer, close DC`),this.close()}),this._negotiator=new jj(this),this._negotiator.startConnection(this.options._payload||{originator:!0})}get type(){return"data"}get dataChannel(){return this._dc}get bufferSize(){return this._bufferSize}initialize(e){this._dc=e,this._configureDataChannel()}_configureDataChannel(){(!this.provider.features.binaryBlob||this.provider.features.reliable)&&(this.dataChannel.binaryType="arraybuffer"),this.dataChannel.onopen=()=>{xe.log(`DC#${this.connectionId} dc connection success`),this._open=!0,this.emit("open")},this.dataChannel.onmessage=e=>{xe.log(`DC#${this.connectionId} dc onmessage:`,e.data),this._handleDataMessage(e)},this.dataChannel.onclose=()=>{xe.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}_handleDataMessage({data:e}){const t=e.constructor,n=this.serialization==="binary"||this.serialization==="binary-utf8";let r=e;if(n){if(t===Blob){rn.blobToArrayBuffer(this.FileReaderCtr,e,i=>{const s=rn.unpack(i);this.emit("data",s)});return}else if(t===ArrayBuffer)r=rn.unpack(e);else if(t===String){const i=rn.binaryStringToArrayBuffer(e);r=rn.unpack(i)}}else this.serialization==="json"&&(r=this.parse(e));if(r.__peerData){this._handleChunk(r);return}super.emit("data",r)}_handleChunk(e){const t=e.__peerData,n=this._chunkedData[t]||{data:[],count:0,total:e.total};if(n.data[e.n]=e.data,n.count++,this._chunkedData[t]=n,n.total===n.count){delete this._chunkedData[t];const r=new Blob(n.data);this._handleDataMessage({data:r})}}close(){this._buffer=[],this._bufferSize=0,this._chunkedData={},this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this.provider&&(this.provider._removeConnection(this),this.provider=null),this.dataChannel&&(this.dataChannel.onopen=null,this.dataChannel.onmessage=null,this.dataChannel.onclose=null,this._dc=null),this._encodingQueue&&(this._encodingQueue.destroy(),this._encodingQueue.removeAllListeners(),this._encodingQueue=null),this.open&&(this._open=!1,super.emit("close"))}send(e,t){if(!this.open){super.emit("error",new Error("Connection is not open. You should listen for the `open` event before sending messages."));return}if(this.serialization==="json")this._bufferedSend(this.stringify(e));else if(this.serialization==="binary"||this.serialization==="binary-utf8"){const n=rn.pack(e);if(!t&&n.size>rn.chunkedMTU){this._sendChunks(n);return}this.provider.features.binaryBlob?this._bufferedSend(n):this._encodingQueue.enque(n)}else this._bufferedSend(e)}_bufferedSend(e){(this._buffering||!this._trySend(e))&&(this._buffer.push(e),this._bufferSize=this._buffer.length)}_trySend(e){if(!this.open)return!1;if(this.dataChannel.bufferedAmount>b1.MAX_BUFFERED_AMOUNT)return this._buffering=!0,setTimeout(()=>{this._buffering=!1,this._tryBuffer()},50),!1;try{this.dataChannel.send(e)}catch(t){return xe.error(`DC#:${this.connectionId} Error when sending:`,t),this._buffering=!0,this.close(),!1}return!0}_tryBuffer(){if(!this.open||this._buffer.length===0)return;const e=this._buffer[0];this._trySend(e)&&(this._buffer.shift(),this._bufferSize=this._buffer.length,this._tryBuffer())}_sendChunks(e){const t=rn.chunk(e);xe.log(`DC#${this.connectionId} Try to send ${t.length} chunks...`);for(let n of t)this.send(n,!0)}handleMessage(e){const t=e.payload;switch(e.type){case"ANSWER":this._negotiator.handleSDP(e.type,t.sdp);break;case"CANDIDATE":this._negotiator.handleCandidate(t.candidate);break;default:xe.warn("Unrecognized message type:",e.type,"from peer:",this.peer);break}}},Bg=b1;Bg.ID_PREFIX="dc_";Bg.MAX_BUFFERED_AMOUNT=8*1024*1024;var lq=class{constructor(e){this._options=e}_request(e){var t,n;return((n=(t=this._options.polyfills)==null?void 0:t.fetch)!=null?n:window.fetch)(e)}_buildUrl(e){let n=(this._options.secure?"https://":"http://")+this._options.host+":"+this._options.port+this._options.path+this._options.key+"/"+e;const r="?ts="+new Date().getTime()+Math.random();return n+=r,n}retrieveId(){return lc(this,null,function*(){const e=this._buildUrl("id");try{const t=yield this._request(e);if(t.status!==200)throw new Error(`Error. Status:${t.status}`);return t.text()}catch(t){xe.error("Error retrieving ID",t);let n="";throw this._options.path==="/"&&this._options.host!==rn.CLOUD_HOST&&(n=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),new Error("Could not get an ID from the server."+n)}})}listAllPeers(){return lc(this,null,function*(){const e=this._buildUrl("peers");try{const t=yield this._request(e);if(t.status!==200){if(t.status===401){let n="";throw this._options.host===rn.CLOUD_HOST?n="It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":n="You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.",new Error("It doesn't look like you have permission to list peers IDs. "+n)}throw new Error(`Error. Status:${t.status}`)}return t.json()}catch(t){throw xe.error("Error retrieving list peers",t),new Error("Could not get list peers from the server."+t)}})}},cq={isUnifiedPlanSupported(e){if(!e&&typeof window<"u"&&(e=window),typeof e.RTCRtpTransceiver>"u"||!("currentDirection"in e.RTCRtpTransceiver.prototype))return!1;let t,n=!1;try{t=new e.RTCPeerConnection,t.addTransceiver("audio"),n=!0}catch{}finally{t&&t.close()}return n}},Fa=class extends ZG.EventEmitter{constructor(e,t){super(),this._id=null,this._lastServerId=null,this._destroyed=!1,this._disconnected=!1,this._open=!1,this._connections=new Map,this._lostMessages=new Map;var n;let r;if(e&&e.constructor==Object?t=e:e&&(r=e.toString()),t=vS({debug:0,host:rn.CLOUD_HOST,port:rn.CLOUD_PORT,path:"/",key:Fa.DEFAULT_KEY,token:rn.randomToken(),config:rn.defaultConfig},t),this._options=t,typeof window<"u"&&this._options.host==="/"&&(this._options.host=window.location.hostname),this._options.path&&(this._options.path[0]!=="/"&&(this._options.path="/"+this._options.path),this._options.path[this._options.path.length-1]!=="/"&&(this._options.path+="/")),this._options.secure===void 0&&this._options.host!==rn.CLOUD_HOST?this._options.secure=rn.isSecure():this._options.host==rn.CLOUD_HOST&&(this._options.secure=!0),this._options.logFunction&&xe.setLogFunction(this._options.logFunction),xe.logLevel=this._options.debug||0,this._api=new lq(t),this._socket=this._createServerConnection(),this.features=Fa.getFeatures((n=this._options.polyfills)==null?void 0:n.WebRTC),!this.features.audioVideo&&!this.features.data){this._delayedAbort("browser-incompatible","The current browser does not support WebRTC");return}if(r&&!rn.validateId(r)){this._delayedAbort("invalid-id",`ID "${r}" is invalid`);return}this.socket.alive=!0,r?this._initialize(r):this._api.retrieveId().then(i=>this._initialize(i)).catch(i=>this._abort("server-error",i))}get id(){return this._id}get options(){return this._options}get open(){return this._open}get socket(){return this._socket}get connections(){const e=Object.create(null);for(let[t,n]of this._connections)e[t]=n;return e}get destroyed(){return this._destroyed}get disconnected(){return this._disconnected}_createServerConnection(){const e=new rq(this._options);return e.on("message",t=>{this._handleMessage(t)}),e.on("error",t=>{this._abort("socket-error",t)}),e.on("disconnected",()=>{this.disconnected||(this.emitError("network","Lost connection to server."),this.disconnect())}),e.on("close",()=>{this.disconnected||this._abort("socket-closed","Underlying socket is already closed.")}),e}_initialize(e){this.destroyed||(this._id=e,this.socket.start(e,this._options.token))}_handleMessage(e){const t=e.type,n=e.payload,r=e.src;switch(t){case"OPEN":this._lastServerId=this.id,this._open=!0,this.emit("open",this.id);break;case"ERROR":this._abort("server-error",n.msg);break;case"ID-TAKEN":this._abort("unavailable-id",`ID "${this.id}" is taken`);break;case"INVALID-KEY":this._abort("invalid-key",`API KEY "${this._options.key}" is invalid`);break;case"LEAVE":xe.log(`Received leave message from ${r}`),this._cleanupPeer(r),this._connections.delete(r);break;case"EXPIRE":this.emitError("peer-unavailable",`Could not connect to peer ${r}`);break;case"OFFER":{const i=n.connectionId;let s=this.getConnection(r,i);if(s&&(s.close(),xe.warn(`Offer received for existing Connection ID:${i}`)),n.type==="media")s=new _1(r,this,{connectionId:i,_payload:n,metadata:n.metadata}),this._addConnection(r,s),this.emit("call",s);else if(n.type==="data")s=new Bg(r,this,{connectionId:i,_payload:n,metadata:n.metadata,label:n.label,serialization:n.serialization,reliable:n.reliable}),this._addConnection(r,s),this.emit("connection",s);else{xe.warn(`Received malformed connection type:${n.type}`);return}const o=this._getMessages(i);for(let a of o)s.handleMessage(a);break}default:{if(!n){xe.warn(`You received a malformed message from ${r} of type ${t}`);return}const i=n.connectionId,s=this.getConnection(r,i);s&&s.peerConnection?s.handleMessage(e):i?this._storeMessage(i,e):xe.warn("You received an unrecognized message:",e);break}}}_storeMessage(e,t){this._lostMessages.has(e)||this._lostMessages.set(e,[]),this._lostMessages.get(e).push(t)}_getMessages(e){const t=this._lostMessages.get(e);return t?(this._lostMessages.delete(e),t):[]}connect(e,t={}){if(this.disconnected){xe.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),this.emitError("disconnected","Cannot connect to new Peer after disconnecting from server.");return}const n=new Bg(e,this,t);return this._addConnection(e,n),n}call(e,t,n={}){if(this.disconnected){xe.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),this.emitError("disconnected","Cannot connect to new Peer after disconnecting from server.");return}if(!t){xe.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.");return}n._stream=t;const r=new _1(e,this,n);return this._addConnection(e,r),r}_addConnection(e,t){xe.log(`add connection ${t.type}:${t.connectionId} to peerId:${e}`),this._connections.has(e)||this._connections.set(e,[]),this._connections.get(e).push(t)}_removeConnection(e){const t=this._connections.get(e.peer);if(t){const n=t.indexOf(e);n!==-1&&(t.splice(n,1),t.length===0&&this._connections.delete(e.peer))}this._lostMessages.delete(e.connectionId)}getConnection(e,t){const n=this._connections.get(e);if(!n)return null;for(let r of n)if(r.connectionId===t)return r;return null}_delayedAbort(e,t){setTimeout(()=>{this._abort(e,t)},0)}_abort(e,t){xe.error("Aborting!"),this.emitError(e,t),this._lastServerId?this.disconnect():this.destroy()}emitError(e,t){xe.error("Error:",t);let n;typeof t=="string"?n=new Error(t):n=t,n.type=e,this.emit("error",n)}destroy(){this.destroyed||(xe.log(`Destroy peer with ID:${this.id}`),this.disconnect(),this._cleanup(),this.socket.destroy(),this._destroyed=!0,this.emit("close"))}_cleanup(){for(let e of this._connections.keys())this._cleanupPeer(e),this._connections.delete(e);this.socket.removeAllListeners()}_cleanupPeer(e){const t=this._connections.get(e);if(t)for(let n of t)n.close()}disconnect(){if(this.disconnected)return;const e=this.id;xe.log(`Disconnect peer with ID:${e}`),this._disconnected=!0,this._open=!1,this.socket.alive=!1,this.socket.close(),this._lastServerId=e,this._id=null,this.emit("disconnected",e)}reconnect(){if(this.disconnected&&!this.destroyed)xe.log(`Attempting reconnection to server with ID ${this._lastServerId}`),this._disconnected=!1,this.socket.alive=!0,this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error("This peer cannot reconnect to the server. It has already been destroyed.");if(!this.disconnected&&!this.open)xe.error("In a hurry? We're still trying to make the initial connection!");else throw new Error(`Peer ${this.id} cannot reconnect because it is not disconnected from the server!`)}}listAllPeers(e=t=>{}){this._api.listAllPeers().then(t=>e(t)).catch(t=>this._abort("server-error",t))}static getFeatures(e){return!e&&typeof window<"u"&&(e=window),Fa._features||(Fa._features=Fa.checkFeatures(e)),Fa._features}static checkFeatures(e){!e&&typeof window<"u"&&(e=window);const t={webRTC:typeof e.RTCPeerConnection<"u",audioVideo:!0,data:!1,binaryBlob:!1,reliable:!1,unifiedPlan:!1};if(!t.webRTC)return t;let n;try{n=new e.RTCPeerConnection(rn.defaultConfig);let r;try{r=n.createDataChannel("_PEERJSTEST",{ordered:!0}),t.data=!0,t.reliable=!!r.ordered;try{r.binaryType="blob",t.binaryBlob=!0}catch{}}catch{}finally{r&&r.close()}}catch{}finally{n&&n.close()}return t.unifiedPlan=cq.isUnifiedPlanSupported(e),t}},h0=Fa;h0.DEFAULT_KEY="peerjs";typeof window<"u"&&(window.Peer=h0);class uq extends Is{constructor(){super(...arguments),this.name="PeerJS",this.peer=null,this.getCurrentPing=()=>0,this.disconnect=()=>{var t;(t=this.peer)==null||t.disconnect()}}connect(t,n,r){this.peer=new h0(`allkaraoke-party-room-${t}`,Ij),this.peer.on("open",function(i){n(),console.log("My peer ID is: "+i)}),this.peer.on("connection",i=>{i.on("data",s=>{this.onUpdate(s,i)}),i.on("error",s=>console.warn("error",s)),i.on("iceStateChanged",s=>{(s==="disconnected"||s==="closed")&&this.onUpdate({t:"unregister"},i)}),i.on("close",()=>{Ze.removeRemoteMic(i.peer)})})}}const Lj="wss://backend.allkaraoke.party";class dq extends Is{constructor(){super(),this.name="WebSockets",this.connection=null,this.disconnect=()=>{var t;(t=this.connection)==null||t.close()},this.latency=0,this.pingStart=Lr(),this.pinging=!1,this.pingTimeout=null,this.ping=()=>{var t;this.pinging=!0,this.pingStart=Lr(),(t=this.connection)==null||t.send(eo({t:"ping"}))},this.onPong=()=>{this.pinging&&(this.latency=Lr()-this.pingStart,this.pinging=!1,this.pingTimeout&&clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(this.ping,5e3))},this.getCurrentPing=()=>this.pinging?Math.max(this.latency,Lr()-this.pingStart):this.latency}connect(t,n,r){this.connection=new WebSocket(Lj),this.connection.binaryType="arraybuffer",this.connection.onopen=()=>{var i,s;(i=this.connection)==null||i.send(eo({t:"register-room",id:t})),n(),this.ping(),(s=this.connection)==null||s.addEventListener("message",o=>{var l;const a=mu(o.data);if(a.t==="forward"){["ping","pong","freq"].includes((l=a==null?void 0:a.payload)==null?void 0:l.t)||console.log("received",a);const{sender:c,payload:u}=a,d=new fq(c,this.connection);this.onUpdate(u,d)}else a.t==="pong"?this.onPong():console.warn("Unknown message type",a)})},this.connection.onclose=i=>{r(i.reason,i)}}}class fq{constructor(t,n){this.peer=t,this.socket=n,this.currentPing=0,this.send=r=>{const i={t:"forward",recipients:[this.peer],payload:r};["ping","pong","freq"].includes(r==null?void 0:r.t)||console.log("sending",this.peer,r),this.socket.send(eo(i))},this.callbacksMap=new Map,this.on=(r,i)=>{r==="data"&&(this.callbacksMap.set(i,s=>{const o=mu(s.data);if(o.t==="forward"){const{sender:a,payload:l}=o;a===this.peer&&i(l)}}),this.socket.addEventListener("message",this.callbacksMap.get(i)))},this.off=(r,i)=>{if(r==="data"){const s=this.callbacksMap.get(i);this.socket.removeEventListener("message",s),this.callbacksMap.delete(i)}},this.close=()=>{this.socket.close()}}}var Nj={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Jo,function(){var n=1e3,r=6e4,i=36e5,s="millisecond",o="second",a="minute",l="hour",c="day",u="week",d="month",h="quarter",p="year",g="date",m="Invalid Date",_=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,v=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,A={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(V){var P=["th","st","nd","rd"],I=V%100;return"["+V+(P[(I-20)%10]||P[I]||P[0])+"]"}},S=function(V,P,I){var $=String(V);return!$||$.length>=P?V:""+Array(P+1-$.length).join(I)+V},x={s:S,z:function(V){var P=-V.utcOffset(),I=Math.abs(P),$=Math.floor(I/60),O=I%60;return(P<=0?"+":"-")+S($,2,"0")+":"+S(O,2,"0")},m:function V(P,I){if(P.date()<I.date())return-V(I,P);var $=12*(I.year()-P.year())+(I.month()-P.month()),O=P.clone().add($,d),z=I-O<0,N=P.clone().add($+(z?-1:1),d);return+(-($+(I-O)/(z?O-N:N-O))||0)},a:function(V){return V<0?Math.ceil(V)||0:Math.floor(V)},p:function(V){return{M:d,y:p,w:u,d:c,D:g,h:l,m:a,s:o,ms:s,Q:h}[V]||String(V||"").toLowerCase().replace(/s$/,"")},u:function(V){return V===void 0}},b="en",w={};w[b]=A;var E="$isDayjsObject",T=function(V){return V instanceof q||!(!V||!V[E])},j=function V(P,I,$){var O;if(!P)return b;if(typeof P=="string"){var z=P.toLowerCase();w[z]&&(O=z),I&&(w[z]=I,O=z);var N=P.split("-");if(!O&&N.length>1)return V(N[0])}else{var G=P.name;w[G]=P,O=G}return!$&&O&&(b=O),O||!$&&b},B=function(V,P){if(T(V))return V.clone();var I=typeof P=="object"?P:{};return I.date=V,I.args=arguments,new q(I)},D=x;D.l=j,D.i=T,D.w=function(V,P){return B(V,{locale:P.$L,utc:P.$u,x:P.$x,$offset:P.$offset})};var q=function(){function V(I){this.$L=j(I.locale,null,!0),this.parse(I),this.$x=this.$x||I.x||{},this[E]=!0}var P=V.prototype;return P.parse=function(I){this.$d=function($){var O=$.date,z=$.utc;if(O===null)return new Date(NaN);if(D.u(O))return new Date;if(O instanceof Date)return new Date(O);if(typeof O=="string"&&!/Z$/i.test(O)){var N=O.match(_);if(N){var G=N[2]-1||0,U=(N[7]||"0").substring(0,3);return z?new Date(Date.UTC(N[1],G,N[3]||1,N[4]||0,N[5]||0,N[6]||0,U)):new Date(N[1],G,N[3]||1,N[4]||0,N[5]||0,N[6]||0,U)}}return new Date(O)}(I),this.init()},P.init=function(){var I=this.$d;this.$y=I.getFullYear(),this.$M=I.getMonth(),this.$D=I.getDate(),this.$W=I.getDay(),this.$H=I.getHours(),this.$m=I.getMinutes(),this.$s=I.getSeconds(),this.$ms=I.getMilliseconds()},P.$utils=function(){return D},P.isValid=function(){return this.$d.toString()!==m},P.isSame=function(I,$){var O=B(I);return this.startOf($)<=O&&O<=this.endOf($)},P.isAfter=function(I,$){return B(I)<this.startOf($)},P.isBefore=function(I,$){return this.endOf($)<B(I)},P.$g=function(I,$,O){return D.u(I)?this[$]:this.set(O,I)},P.unix=function(){return Math.floor(this.valueOf()/1e3)},P.valueOf=function(){return this.$d.getTime()},P.startOf=function(I,$){var O=this,z=!!D.u($)||$,N=D.p(I),G=function(Ae,le){var be=D.w(O.$u?Date.UTC(O.$y,le,Ae):new Date(O.$y,le,Ae),O);return z?be:be.endOf(c)},U=function(Ae,le){return D.w(O.toDate()[Ae].apply(O.toDate("s"),(z?[0,0,0,0]:[23,59,59,999]).slice(le)),O)},ne=this.$W,L=this.$M,fe=this.$D,Z="set"+(this.$u?"UTC":"");switch(N){case p:return z?G(1,0):G(31,11);case d:return z?G(1,L):G(0,L+1);case u:var oe=this.$locale().weekStart||0,je=(ne<oe?ne+7:ne)-oe;return G(z?fe-je:fe+(6-je),L);case c:case g:return U(Z+"Hours",0);case l:return U(Z+"Minutes",1);case a:return U(Z+"Seconds",2);case o:return U(Z+"Milliseconds",3);default:return this.clone()}},P.endOf=function(I){return this.startOf(I,!1)},P.$set=function(I,$){var O,z=D.p(I),N="set"+(this.$u?"UTC":""),G=(O={},O[c]=N+"Date",O[g]=N+"Date",O[d]=N+"Month",O[p]=N+"FullYear",O[l]=N+"Hours",O[a]=N+"Minutes",O[o]=N+"Seconds",O[s]=N+"Milliseconds",O)[z],U=z===c?this.$D+($-this.$W):$;if(z===d||z===p){var ne=this.clone().set(g,1);ne.$d[G](U),ne.init(),this.$d=ne.set(g,Math.min(this.$D,ne.daysInMonth())).$d}else G&&this.$d[G](U);return this.init(),this},P.set=function(I,$){return this.clone().$set(I,$)},P.get=function(I){return this[D.p(I)]()},P.add=function(I,$){var O,z=this;I=Number(I);var N=D.p($),G=function(L){var fe=B(z);return D.w(fe.date(fe.date()+Math.round(L*I)),z)};if(N===d)return this.set(d,this.$M+I);if(N===p)return this.set(p,this.$y+I);if(N===c)return G(1);if(N===u)return G(7);var U=(O={},O[a]=r,O[l]=i,O[o]=n,O)[N]||1,ne=this.$d.getTime()+I*U;return D.w(ne,this)},P.subtract=function(I,$){return this.add(-1*I,$)},P.format=function(I){var $=this,O=this.$locale();if(!this.isValid())return O.invalidDate||m;var z=I||"YYYY-MM-DDTHH:mm:ssZ",N=D.z(this),G=this.$H,U=this.$m,ne=this.$M,L=O.weekdays,fe=O.months,Z=O.meridiem,oe=function(le,be,He,ze){return le&&(le[be]||le($,z))||He[be].slice(0,ze)},je=function(le){return D.s(G%12||12,le,"0")},Ae=Z||function(le,be,He){var ze=le<12?"AM":"PM";return He?ze.toLowerCase():ze};return z.replace(v,function(le,be){return be||function(He){switch(He){case"YY":return String($.$y).slice(-2);case"YYYY":return D.s($.$y,4,"0");case"M":return ne+1;case"MM":return D.s(ne+1,2,"0");case"MMM":return oe(O.monthsShort,ne,fe,3);case"MMMM":return oe(fe,ne);case"D":return $.$D;case"DD":return D.s($.$D,2,"0");case"d":return String($.$W);case"dd":return oe(O.weekdaysMin,$.$W,L,2);case"ddd":return oe(O.weekdaysShort,$.$W,L,3);case"dddd":return L[$.$W];case"H":return String(G);case"HH":return D.s(G,2,"0");case"h":return je(1);case"hh":return je(2);case"a":return Ae(G,U,!0);case"A":return Ae(G,U,!1);case"m":return String(U);case"mm":return D.s(U,2,"0");case"s":return String($.$s);case"ss":return D.s($.$s,2,"0");case"SSS":return D.s($.$ms,3,"0");case"Z":return N}return null}(le)||N.replace(":","")})},P.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},P.diff=function(I,$,O){var z,N=this,G=D.p($),U=B(I),ne=(U.utcOffset()-this.utcOffset())*r,L=this-U,fe=function(){return D.m(N,U)};switch(G){case p:z=fe()/12;break;case d:z=fe();break;case h:z=fe()/3;break;case u:z=(L-ne)/6048e5;break;case c:z=(L-ne)/864e5;break;case l:z=L/i;break;case a:z=L/r;break;case o:z=L/n;break;default:z=L}return O?z:D.a(z)},P.daysInMonth=function(){return this.endOf(d).$D},P.$locale=function(){return w[this.$L]},P.locale=function(I,$){if(!I)return this.$L;var O=this.clone(),z=j(I,$,!0);return z&&(O.$L=z),O},P.clone=function(){return D.w(this.$d,this)},P.toDate=function(){return new Date(this.valueOf())},P.toJSON=function(){return this.isValid()?this.toISOString():null},P.toISOString=function(){return this.$d.toISOString()},P.toString=function(){return this.$d.toUTCString()},V}(),M=q.prototype;return B.prototype=M,[["$ms",s],["$s",o],["$m",a],["$H",l],["$W",c],["$M",d],["$y",p],["$D",g]].forEach(function(V){M[V[1]]=function(P){return this.$g(P,V[0],V[1])}}),B.extend=function(V,P){return V.$i||(V(P,q,B),V.$i=!0),B},B.locale=j,B.isDayjs=T,B.unix=function(V){return B(1e3*V)},B.en=w[b],B.Ls=w,B.p={},B})})(Nj);var hq=Nj.exports;const ms=hr(hq);function pq(e){return!!e}function gq(e){return[...Array(e).keys()]}const mq=250,ty=(e,t=0,n=1/0)=>e.filter(Rt).filter(r=>Aa([r])>=t).filter(r=>gf([r])<=n).reduce((r,i)=>r+i.notes.reduce((s,o)=>s+o.length,0),0),vq=(e,t)=>{const[n,...r]=e.filter(Rt),i=[[n]];return r.forEach(s=>{const o=i.at(-1),a=gf(o);(Aa([s])-a)*t>mq?i.push([s]):o.push(s)}),i},Bj=(e,t)=>e+t,Kk=e=>{const t=e.map(n=>n.reduce(Bj,0));return Math.max(...t)-Math.min(...t)},yq=(e,t)=>{const n=JSON.parse(JSON.stringify(e)),r=s=>{if(n[s-1].length<2)return;const o=n[s-1].pop();n[s].push(o)},i=s=>{var l;if(((l=n[s+1])==null?void 0:l.length)<2)return;const[o,...a]=n[s+1];n[s].push(o),n[s+1]=a};return t%2===1?r(Math.ceil(t/2)):i(Math.ceil(t/2)),n},Aq=e=>e.reduce(Bj,0);function AS(e,t){const r=Cu(t);if(e.sections.length<9)return[];const i=vq(e.sections,r);let s=[],o=[ty(i[0])];for(let a=0;a<i.length-2;a++){const l=i[s.flat().length-1]??[],u=ty(e.sections,gf(l)??0)/(10-s.length),d=ty(i[a+1]),h=Aq(o);h+d<u?o=[...o,d]:u-h<h+d-u?(s.push(o),o=[d]):(s.push([...o,d]),o=[])}for(let a=0;a<100;a++){const l=Kk(s),c=gq((s.length-2)*2+2).map(p=>yq(s,p)),u=c.map(Kk),d=Math.min(...u);if(l<=d)break;const h=u.indexOf(d);s=c[h]}return s.map(a=>a.length).reduce((a,l)=>[...a,(a.at(-1)??0)+l],[]).map(a=>gf(i[a-1]))}var Dj={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Jo,function(){function n(r){return typeof r=="string"?r.replace(/[^A-Za-z0-9]/g,function(i){return n.characters[i]||i}):r}return n.characters={:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A","":"A",:"A","":"AA",:"AE",:"AE",:"AE","":"AO","":"AU","":"AV","":"AV","":"AY",:"B",:"B",:"B",:"B","":"B",:"B",:"C",:"C",:"C",:"C",:"C",:"C",:"C","":"C",:"D",:"D",:"D",:"D",:"D",:"D",:"D",:"D",:"D",:"D",:"D",:"D",:"DZ",:"DZ",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E","":"E",:"E",:"E","":"ET",:"F",:"F",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"H",:"H",:"H",:"H","":"H",:"H",:"H",:"H",:"H",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I","":"D","":"F","":"G","":"R","":"S","":"T","":"IS",:"J","":"J",:"K",:"K",:"K","":"K","":"K",:"K",:"K",:"K","":"K","":"K",:"L","":"L",:"L",:"L",:"L",:"L",:"L","":"L","":"L",:"L",:"L","":"L",:"L",:"L",:"LJ",:"M",:"M",:"M","":"M",:"N",:"N",:"N",:"N",:"N",:"N",:"N",:"N",:"N","":"N",:"N",:"N",:"NJ",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O","":"O","":"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"OI","":"OO",:"E",:"O",:"OU",:"P",:"P","":"P",:"P","":"P","":"P","":"P","":"Q","":"Q",:"R",:"R",:"R",:"R",:"R",:"R",:"R",:"R",:"R","":"R","":"R","":"C",:"E",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"ss",:"T",:"T",:"T",:"T","":"T",:"T",:"T",:"T",:"T",:"T",:"T","":"A","":"L",:"M","":"V","":"TZ",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U","":"V",:"V",:"V",:"V","":"VY",:"W",:"W",:"W",:"W",:"W",:"W","":"W",:"X",:"X",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y","":"Y",:"Y","":"Y",:"Y",:"YI",:"Z",:"Z",:"Z","":"Z",:"Z",:"Z",:"Z",:"Z",:"Z",:"TH",:"IJ",:"OE","":"A","":"AE",:"B","":"B","":"C","":"D","":"E","":"F",:"G",:"G",:"H",:"I",:"R","":"J","":"K",:"L","":"L","":"M",:"N","":"O",:"OE","":"O","":"OU","":"P",:"R","":"N","":"R","":"S","":"T","":"E","":"R","":"U","":"V","":"W",:"Y","":"Z",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a","":"a",:"a",:"a",:"a",:"a","":"a",:"a","":"aa",:"ae",:"ae",:"ae","":"ao","":"au","":"av","":"av","":"ay",:"b",:"b",:"b",:"b","":"b","":"b",:"b",:"b",:"o",:"c",:"c",:"c",:"c",:"c",:"c",:"c",:"c","":"c",:"d",:"d",:"d","":"d",:"d",:"d",:"d","":"d",:"d","":"d","":"d",:"d",:"d",:"d",:"d",:"i","":"j",:"j",:"j",:"dz",:"dz",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e","":"e",:"e","":"e","":"e",:"e",:"e","":"et",:"f",:"f","":"f","":"f",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"g","":"g",:"g",:"h",:"h",:"h",:"h","":"h",:"h",:"h",:"h",:"h",:"h",:"h",:"hv",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i","":"i",:"i",:"i",:"i",:"i","":"d","":"f","":"g","":"r","":"s","":"t","":"is",:"j",:"j",:"j","":"j",:"k",:"k",:"k","":"k","":"k",:"k",:"k",:"k","":"k","":"k","":"k",:"l",:"l",:"l",:"l",:"l",:"l","":"l",:"l",:"l","":"l","":"l",:"l",:"l",:"l","":"l",:"l",:"l",:"lj",:"s","":"s",:"s","":"s",:"m",:"m",:"m",:"m","":"m","":"m",:"n",:"n",:"n",:"n","":"n",:"n",:"n",:"n",:"n",:"n",:"n","":"n","":"n",:"n",:"n",:"nj",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o","":"o","":"o","":"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"oi","":"oo",:"e","":"e",:"o","":"o",:"ou",:"p",:"p","":"p",:"p","":"p","":"p","":"p","":"p","":"p","":"q",:"q","":"q","":"q",:"r",:"r",:"r",:"r",:"r",:"r",:"r",:"r","":"r",:"r",:"r",:"r","":"r","":"r","":"r",:"r","":"c","":"c",:"e",:"r",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"s","":"s","":"s","":"s",:"g","":"o","":"o","":"u",:"t",:"t",:"t",:"t","":"t",:"t","":"t",:"t",:"t",:"t",:"t","":"t",:"t",:"t",:"t","":"th",:"a","":"ae",:"e","":"g",:"h","":"h","":"h","":"i",:"k","":"l",:"m",:"m","":"oe",:"r",:"r",:"r","":"r",:"t",:"v",:"w",:"y","":"tz",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u","":"u",:"u",:"u",:"u",:"u","":"ue","":"um","":"v","":"v",:"v",:"v","":"v","":"v",:"v","":"vy",:"w",:"w",:"w",:"w",:"w",:"w","":"w",:"w",:"x",:"x","":"x",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y","":"y",:"y",:"y","":"y",:"y",:"yi",:"z",:"z",:"z",:"z","":"z",:"z",:"z",:"z",:"z","":"z","":"z",:"z",:"z","":"z",:"th",:"ff",:"ffi",:"ffl",:"fi",:"fl",:"ij",:"oe",:"st","":"a","":"e","":"i","":"j","":"o","":"r","":"u","":"v","":"x",:"YO",:"I",:"TS",:"U",:"K",:"E",:"N",:"G",:"G",:"SH",:"SCH",:"Z",:"H",:"'",:"yo",:"i",:"ts",:"u",:"k",:"e",:"n",:"g",:"g",:"sh",:"sch",:"z",:"h",:"'",:"F",:"I",:"V",:"a",:"P",:"R",:"O",:"L",:"D",:"ZH",:"E",:"f",:"i",:"v",:"a",:"p",:"r",:"o",:"l",:"d",:"zh",:"e",:"Ya",:"CH",:"S",:"M",:"I",:"T",:"'",:"B",:"YU",:"ya",:"ch",:"s",:"m",:"i",:"t",:"'",:"b",:"yu"},n})})(Dj);var _q=Dj.exports;const bq=hr(_q),Sq=/[^0-9a-z]/gi;function Al(e){return _S(e).toLowerCase().normalize("NFKD").replace(Sq,"")}function _S(e){return bq(e)}function $j(e){return _S(e).toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+$/,"").replace(/^-+/,"").replace(/-+/g,"-")}function bS(e){return e.id?e.id:$j(`${e==null?void 0:e.artist}-${e==null?void 0:e.title}`)}const Yk=(e,t,n)=>n>=e&&n<=t,Qk=e=>e.notes.map(t=>t.lyrics).join(""),Jk=e=>new Set(Al(e)).size,xq=(e,t)=>{const n=e.reduce((i,s)=>`${i}${Qk(s)}`,""),r=Qk(t);return Jk(n)/Jk(r)<.5},wq=(e,t)=>{const n=t.start,r=mf(t),i=e.filter(o=>{const a=o.start,l=mf(o);return Yk(n,r,a)||Yk(n,r,l)||a<=n&&l>=r}),s=xq(i,t);return{section:t,shouldReplace:i.length===0||s,sectionsToRemove:i}};function Fj(e,t){if(e){if(e.length===1)return e[0]}else return e;const n=e.map(o=>o.sections.filter(Rt)),r=n[1].map(o=>wq(n[0],o));let i=[...n[0]];r.forEach((o,a)=>{o.shouldReplace&&(i=i.filter(l=>!o.sectionsToRemove.some(c=>c.start===l.start)),i.push(o.section))});const s={...e[0],sections:i.sort((o,a)=>o.start-a.start),changes:[]};return s.changes=AS(s,t),s}const Xk={R:"rap",F:"freestyle","*":"star",":":"normal",G:"rapstar"},V1e={rap:"R",freestyle:"F",star:"*",normal:":",rapstar:"G"},Eq=["TRACKNAMES","YEAR","EDITION","GENRE","LANGUAGE","VIDEOGAP","PREVIEWSTART","CREATOR","TITLE","ARTIST","BPM","GAP","ID","LASTUPDATE","VOLUME","REALBPM","PREVIEWEND","CREATORURL","SOURCEURL","ARTISTORIGIN","VIDEOID","ALLKARAOKE_ID","ALLKARAOKE_LASTUPDATE","ALLKARAOKE_VOLUME","ALLKARAOKE_REALBPM","ALLKARAOKE_PREVIEWEND","ALLKARAOKE_CREATORURL","ALLKARAOKE_SOURCEURL","ALLKARAOKE_ARTISTORIGIN","ALLKARAOKE_VIDEOID"];function kq(e){return e.split(`
`).filter(t=>t.startsWith("#")&&!Eq.includes(t.substring(1).split(":")[0]))}function Lt(e,t,n="string"){const r=i=>{var a;const s=new RegExp(`#${i}\\:(.*)`),o=(a=e.match(s))==null?void 0:a[1];if(o!==void 0)return n==="number"?Number(o.replace(",","."))??0:n==="array"?o.split(", "):o};return t.map(r).filter(pq).at(0)}function Cq(e){var r;const t=Lt(e,["VIDEO"])??"",n=new RegExp("v=(.*?)(,|$)");return(r=t.match(n))==null?void 0:r[1]}const Tq=/- -?\d+ -?\d+/;function Zk(e){try{const t=new URL(e);return t.host==="youtu.be"?t.pathname.substring(1):t.host==="www.youtube.com"||t.host==="youtube.com"?t.searchParams.get("v"):null}catch{return null}}function Iq(e,t){try{return JSON.parse(e)}catch{return t}}function Pq(e){const t=Lt(e,["P1"]),n=Lt(e,["P2"]);return t||n?[t,n]:Iq(Lt(e,["TRACKNAMES"]),[])}function Rq(e,t,n,r,i){var p,g;const s=Pq(e),o={year:Lt(e,["YEAR"]),artistOrigin:Lt(e,["ALLKARAOKE_ARTISTORIGIN","ARTISTORIGIN"]),lastUpdate:Lt(e,["ALLKARAOKE_LASTUPDATE","LASTUPDATE"]),edition:Lt(e,["EDITION"]),genre:Lt(e,["GENRE"]),videoGap:Lt(e,["VIDEOGAP"],"number"),realBpm:Lt(e,["ALLKARAOKE_REALBPM","REALBPM"],"number"),previewStart:Lt(e,["PREVIEWSTART"],"number"),previewEnd:Lt(e,["ALLKARAOKE_PREVIEWEND","PREVIEWEND"],"number"),volume:Lt(e,["ALLKARAOKE_VOLUME","VOLUME"],"number"),author:Lt(e,["CREATOR"])??n,authorUrl:Lt(e,["ALLKARAOKE_CREATORURL","CREATORURL"])??r,sourceUrl:Lt(e,["ALLKARAOKE_SOURCEURL","SOURCEURL"])??i};o.videoGap&&(o.videoGap=Math.floor(o.videoGap));const a=Lt(e,["TITLE"])??"",l=Lt(e,["ARTIST"])??"",c=Lt(e,["ALLKARAOKE_VIDEOID","VIDEOID"])??Zk(Lt(e,["AUDIOURL"])??"")??Zk(Lt(e,["VIDEOURL"])??"")??Cq(e)??"",u={id:Lt(e,["ALLKARAOKE_ID","ID"])??bS({title:a,artist:l}),title:a,artist:l,video:c,language:Lt(e,["LANGUAGE"],"array")??[],bpm:Number(((p=Lt(e,["BPM"]))==null?void 0:p.replace(",","."))??0),bar:4,gap:Number(((g=Lt(e,["GAP"]))==null?void 0:g.replace(",","."))??0),...o,tracks:[],unsupportedProps:kq(e),mergedTrack:{}};if((t==null?void 0:t.length)===11)u.video=t;else if(t)try{const m=new URL(t);u.video=m.searchParams.get("v")||"Invalid link"}catch(m){u.video=`Invalid link: ${m.message}`}let d=[],h=0;return e.split(`
`).forEach(m=>{if(m.startsWith("#"))return;const _=m.split(" ");if(Number(_[1])<h*.75&&d.length&&(s[u.tracks.length]?u.tracks.push({sections:d,name:s[u.tracks.length],changes:[]}):u.tracks.push({sections:d,changes:[]}),d=[]),Tq.test(m)){const[,v,A]=_;d.push({start:Number(v),end:Number(A),type:"pause"}),d.push({start:Number(A),type:"notes",notes:[]}),h=Number(A)}else if(m.startsWith("-"))d.push({start:Number(m.split("-")[1].trim()),notes:[],type:"notes"});else if(Object.keys(Xk).includes(m[0])){d.length===0&&(d=[{start:0,notes:[],type:"notes"}]);const v=d[d.length-1],[A,S,x,b,...w]=_;v.notes.push({type:Xk[A]??"normal",start:Number(S),length:Number(x),pitch:Number(b),lyrics:w.join(" ")}),h=Number(_[1])}}),s[u.tracks.length]?u.tracks.push({sections:d,name:s[u.tracks.length],changes:[]}):u.tracks.push({sections:d,changes:[]}),u.tracks=u.tracks.map(m=>({...m,sections:m.sections.filter(_=>_.type==="pause"||_.notes.length),changes:[]})).map(m=>({...m,changes:AS(m,u)})),u.mergedTrack=Fj(u.tracks,u),u}const zj="CURRENT_VISIT_KEY",Uj="LAST_VISIT_KEY",Mq=3*60*60*1e3,p0=Date.now();var xR;const ny=Number(((xR=Oe.local)==null?void 0:xR.getItem(zj))??p0);var wR;const Hj=((wR=Oe.local)==null?void 0:wR.getItem("posthog-user-id"))===null,jq=Hj?p0:1673642382501;var ER;let Gj=Number(((ER=Oe.local)==null?void 0:ER.getItem(Uj))??jq);var kR;(Hj||p0-ny>Mq)&&((kR=Oe.local)==null||kR.setItem(Uj,String(ny)),Gj=ny);var CR;(CR=Oe.local)==null||CR.setItem(zj,String(p0));const Oq=e=>Al(`${e.artist}${e.title}`),Vq=({bar:e,unsupportedProps:t,mergedTrack:n,...r},i=!1)=>({...r,id:bS(r),language:Array.isArray(r.language)?r.language:[r.language],tracksCount:r.tracks.length,tracks:r.tracks.map(({name:s,sections:o})=>({name:s,start:Aa(o)})),search:Oq(r),local:i});let Ku=null;async function $o(){if(!Ku)if("localStorage"in globalThis)try{Ku=ku(()=>Promise.resolve().then(()=>t3),void 0).then(({default:e})=>e.createInstance({name:"songs_v2"}))}catch(e){console.error(e),Ku=Promise.resolve(Oe.memory)}else Ku=Promise.resolve(Oe.memory);return Ku}const Jh="DELETED_SONGS_V2";class Lq{constructor(){this.finalIndex=null,this.indexWithDeletedSongs=null,this.store=async t=>{var n;await((n=await $o())==null?void 0:n.setItem(this.generateSongFile(t),{...t,lastUpdate:new Date().toISOString()})),await this.reloadIndex()},this.isOverridden=async t=>{const n=await this.getLocal(t);return n?!!n:!1},this.get=async t=>{const n=await this.getLocal(t);return n||await fetch(`/songs/${t}.txt`).then(r=>r.text()).then(Rq)},this.getIndex=async(t=!1)=>(this.finalIndex===null&&await this.reloadIndex(),t?this.indexWithDeletedSongs:this.finalIndex),this.getCurrentIndex=()=>this.finalIndex,this.getDeletedSongsList=async()=>{var n;return await((n=await $o())==null?void 0:n.getItem(Jh))??[]},this.generateSongFile=t=>bS(t),this.reloadIndex=async()=>{const[t,n,r]=await Promise.all([fetch("/songs/index.json").then(a=>a.json()),this.getLocalIndex(),this.getDeletedSongsList()]),i=ms(Gj),s=n.filter(a=>{const l=t.find(c=>c.id===a.id);return l?ms(a.lastUpdate??0).isAfter(ms(l.lastUpdate??0)):!0}),o=s.map(a=>a.id);n.forEach(async a=>{o.includes(a.id)||(await $o()).removeItem(a.id)}),this.indexWithDeletedSongs=[...s,...t.filter(a=>!o.includes(this.generateSongFile(a)))].map(a=>({...a,isNew:a.lastUpdate?ms(a.lastUpdate).isAfter(i):!1,isDeleted:r==null?void 0:r.includes(this.generateSongFile(a))})),this.indexWithDeletedSongs.sort((a,l)=>`${a.artist} ${a.title}`.localeCompare(`${l.artist} ${l.title}`.toLowerCase())),this.finalIndex=this.indexWithDeletedSongs.filter(a=>!a.isDeleted)},this.deleteSong=async t=>(await(await $o()).removeItem(t),this.reloadIndex()),this.softDeleteSong=async t=>{const n=await this.getDeletedSongsList();return await(await $o()).setItem(Jh,[...new Set([...n,t])]),this.reloadIndex()},this.restoreSong=async t=>{const n=await this.getDeletedSongsList();return await(await $o()).setItem(Jh,n.filter(r=>r!==t)),this.reloadIndex()},this.getLocal=async t=>{var r;const n=await((r=await $o())==null?void 0:r.getItem(decodeURIComponent(t)));return n&&n.tracks?{...n,language:Array.isArray(n.language)?n.language:[n.language],mergedTrack:Fj(n.tracks,n),tracks:n.tracks.map(i=>({...i,changes:AS(i,n)}))}:null},this.getLocalIndex=async()=>(await Promise.all((await this.getKeys()).map(this.getLocal))).filter(n=>n!==null).map(n=>{try{return Vq(n,!0)}catch(r){return console.error(r),null}}).filter(n=>n!==null),this.getKeys=async()=>{const t=[Jh];return(await(await $o()).keys()).filter(n=>!t.includes(n))}}}const no=new Lq,qj="room_id_key",Vd=5,Wj=e=>{Oe.session.setItem(qj,e)};class Nq{constructor(){var t;if(this.gameCode=Oe.session.getItem(qj),this.started=!1,this.start=()=>{if(!this.transport){const n=Tg.get();this.transport=n==="WebSockets"?new dq:n==="PartyKit"?new DG:new uq}this.started||(this.started=!0,console.log("connection started",this.getGameCode()),Wj(this.gameCode),this.transport.connect(this.getGameCode(),()=>{console.log("connected",this.getGameCode()),this.transport.addListener((n,r)=>{var s;const i=n.t;if(i==="register")Ze.addRemoteMic(n.id,n.name,r,n.silent,n.lag);else if(i==="unregister")Ze.removeRemoteMic(r.peer);else if(i==="subscribe-event")Ze.addSubscription(r.peer,n.channel);else if(i==="unsubscribe-event")Ze.removeSubscription(r.peer,n.channel);else if(i==="ping")r.send({t:"pong"});else if(i==="pong")(s=Ze.getRemoteMicById(r.peer))==null||s.onPong();else if(i==="request-songlist")Promise.all([no.getLocalIndex(),no.getDeletedSongsList()]).then(([o,a])=>{r.send({t:"songlist",custom:o.map(l=>({artist:l.artist,title:l.title,video:l.video,language:l.language,search:l.search})),deleted:a})});else if(i==="get-microphone-lag-request"){const o=Ze.getRemoteMicById(r.peer);o&&r.send({t:"get-microphone-lag-response",value:o.getInput().getInputLag()})}else if(i==="set-microphone-lag-request"){const o=Ze.getRemoteMicById(r.peer);o&&(o.getInput().setInputLag(n.value),r.send({t:"get-microphone-lag-response",value:o.getInput().getInputLag()}))}else Ze.getPermission(r.peer)==="write"&&(i==="keystroke"?ee.remoteKeyboardPressed.dispatch(n.key):i==="search-song"?ee.remoteSongSearch.dispatch(n.search):i==="select-song"?ee.remoteSongSelected.dispatch(n.id):i==="request-mic-select"?ee.playerChangeRequested.dispatch(n.id,n.playerNumber):i==="get-game-input-lag-request"?r.send({t:"get-game-input-lag-response",value:Rd.get()}):i==="set-game-input-lag-request"&&(Rd.set(n.value),r.send({t:"get-game-input-lag-response",value:Rd.get()})))}),ee.micServerStarted.dispatch()},()=>{ee.micServerStopped.dispatch(),this.started=!1,setTimeout(this.start,1e3)}))},this.isStarted=()=>this.started,this.getLatency=()=>{var n;return((n=this.transport)==null?void 0:n.getCurrentPing())??0},this.getGameCode=()=>{const n=Tg.get();return(n==="WebSockets"?"w":n==="PartyKit"?"k":"p")+this.gameCode},!this.gameCode){this.gameCode="";for(let n=0;n<Vd-1;n++)this.gameCode+=String.fromCharCode(Math.floor(Math.random()*26)+97)}(t=global==null?void 0:global.addEventListener)==null||t.call(global,"beforeunload",()=>{var n;Ze.getRemoteMics().forEach(r=>r.connection.close()),(n=this.transport)==null||n.disconnect()})}}const ll=new Nq,_l=e=>`${e.deviceId};${e.channel}`,eC=[{channels:2,channel:1,label:"Drawing Test Input",id:_l({deviceId:"default",channel:1}),deviceId:"default"}],qa=class qa{};qa.inputName="DrawingTest",qa.getDefault=()=>eC[0],qa.getInputs=async()=>eC,qa.subscribeToListChange=t=>{},qa.unsubscribeToListChange=t=>{};let S1=qa;const tC=[{channels:2,channel:0,label:"Dummy Input 1",id:_l({deviceId:"default",channel:0}),deviceId:"default"},{channels:2,channel:1,label:"Dummy Input 2",id:_l({deviceId:"default",channel:1}),deviceId:"default"}],Wa=class Wa{};Wa.inputName="Dummy",Wa.getDefault=()=>tC[0],Wa.getInputs=async()=>tC,Wa.subscribeToListChange=t=>{},Wa.unsubscribeToListChange=t=>{};let Dg=Wa;var Bq=Math.ceil,Dq=Math.max;function $q(e,t,n,r){for(var i=-1,s=Dq(Bq((t-e)/(n||1)),0),o=Array(s);s--;)o[r?s:++i]=e,e+=n;return o}var Fq=9007199254740991;function SS(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Fq}function xS(e){return e!=null&&SS(e.length)&&!kj(e)}var zq=9007199254740991,Uq=/^(?:0|[1-9]\d*)$/;function wS(e,t){var n=typeof e;return t=t??zq,!!t&&(n=="number"||n!="symbol"&&Uq.test(e))&&e>-1&&e%1==0&&e<t}function Kj(e,t,n){if(!Es(n))return!1;var r=typeof t;return(r=="number"?xS(n)&&wS(t,n.length):r=="string"&&t in n)?a0(n[t],e):!1}var nC=1/0,Hq=17976931348623157e292;function Wp(e){if(!e)return e===0?e:0;if(e=A1(e),e===nC||e===-nC){var t=e<0?-1:1;return t*Hq}return e===e?e:0}function Gq(e){return function(t,n,r){return r&&typeof r!="number"&&Kj(t,n,r)&&(n=r=void 0),t=Wp(t),n===void 0?(n=t,t=0):n=Wp(n),r=r===void 0?t<n?1:-1:Wp(r),$q(t,n,r,e)}}var qq=Gq();const x1={test:e=>e.toLowerCase().includes("wireless mic #")||e.toLowerCase().includes("sony wireless singstar"),map:(e,t)=>`SingStar Wireless - ${t===0?"Blue":"Red"}`},w1={test:e=>e.toLowerCase().includes("usbmic serial#")||e.toLowerCase().includes("singstar"),map:(e,t)=>`SingStar Wired - ${t===0?"Blue":"Red"}`},E1={test:(e,t,n)=>n===2&&e.toLowerCase().includes("singstar"),map:(e,t)=>`SingStar Mic - ${t===0?"Blue":"Red"}`},Wq=(...[e,t,n])=>w1.test(e,t,n)||x1.test(e,t,n)||E1.test(e,t,n)?t:void 0,Kq=(e,t,n)=>x1.test(e,t,n)?x1.map(e,t):w1.test(e,t,n)?w1.map(e,t):E1.test(e,t,n)?E1.map(e,t):n>1?`${e} (ch ${t+1})`:e,Ti=class Ti{};Ti.inputList=[],Ti.inputName="Microphone",Ti.getDefault=()=>Ti.inputList.find(t=>t.id===_l({deviceId:"default",channel:0}))??Ti.inputList[0]??null,Ti.getInputs=async()=>{let t=[];try{await aa.getUserMedia({audio:!0,video:!1}),t=await aa.enumerateDevices()}catch(r){to(r,{level:"warning",extra:{message:"Microphone.getInputs"}}),console.warn(r)}const n=await Promise.all(t.filter(r=>r.kind==="audioinput").map(async r=>{let i=1;try{i=(await aa.getUserMedia({audio:{deviceId:{exact:r.deviceId},echoCancellation:{exact:!1}},video:!1})).getAudioTracks()[0].getSettings().channelCount??1}catch(s){console.warn(s)}return qq(0,i).map(s=>({label:Kq(r.label,s,i),channel:s,channels:i,deviceId:r.deviceId,id:_l({deviceId:r.deviceId,channel:s}),preferred:Wq(r.label,s,i)}))}));return Ti.inputList=n.flat(),Ti.inputList},Ti.subscribeToListChange=t=>navigator.mediaDevices.addEventListener("devicechange",t),Ti.unsubscribeToListChange=t=>navigator.mediaDevices.removeEventListener("devicechange",t);let _o=Ti;const rC=e=>({label:`${e.name}`,id:_l({deviceId:e.id,channel:0}),deviceId:e.id,channels:1,channel:0}),Ka=class Ka{};Ka.inputName="Remote Microphone",Ka.getDefault=()=>Ze.getRemoteMics().map(rC)[0]??null,Ka.getInputs=async()=>Ze.getRemoteMics().map(rC),Ka.subscribeToListChange=t=>{ee.remoteMicConnected.subscribe(t),ee.remoteMicDisconnected.subscribe(t)},Ka.unsubscribeToListChange=t=>{ee.remoteMicConnected.unsubscribe(t),ee.remoteMicDisconnected.unsubscribe(t)};let Eo=Ka;const Yq=e=>`${e.deviceId};${e.channel}`;class Qq{constructor(){this.initialiseInputSource=(t,n=!1)=>(n||t.getInputs().then(r=>{this.inputList[t.inputName].list=r,ee.inputListChanged.dispatch(!0),t.subscribeToListChange(async()=>{this.inputList[t.inputName].list=await t.getInputs(),ee.inputListChanged.dispatch(!1)})}),{list:[],getDefault:t.getDefault}),this.loadMics=()=>{this.inputList.Microphone.list.length||(this.inputList.Microphone=this.initialiseInputSource(_o))},this.getInputList=()=>this.inputList,this.getInputForPlayerSelected=(t,n=!0)=>{const r=this.inputList[t.source];return r.list.find(i=>i.id===Yq(t))??(n?r.getDefault():null)},this.inputList={[_o.inputName]:this.initialiseInputSource(_o,!0),[Dg.inputName]:this.initialiseInputSource(Dg),[Eo.inputName]:this.initialiseInputSource(Eo)}}}const ko=new Qq,iC="playerselectedinputs",$g=4,Mm=class Mm{constructor(t,n,r){this.number=t,this.input=n,this.name=r,this.nameOverride="",this.changeInput=(i,s=0,o)=>{let a=null;gn.monitoringStarted()&&(a=gn.stopMonitoring());const l={source:i,deviceId:o,channel:s},c=this.input;this.input=l,ee.playerInputChanged.dispatch(this.number,c,l),a&&a.then(gn.startMonitoring)},this.toJSON=()=>({number:this.number,input:this.input,name:this.name}),this.getName=()=>this.nameOverride||(this.name??`Player #${this.number+1}`),this.isDefaultName=()=>this.name===void 0,this.setName=i=>{const s=this.name;this.name=i,ee.playerNameChanged.dispatch(this.number,s)}}};Mm.fromJSON=t=>new Mm(t.number,t.input,t.name);let cc=Mm;class Jq{constructor(){this.minPlayerNumber=2,this.players=[],this.requestingPromise=null,this.storePlayers=()=>{Oe.session.setItem(iC,this.getPlayers().map(n=>n.toJSON()))},this.requestReadiness=async()=>(this.requestingPromise||(this.requestingPromise=new Promise(n=>{const r=async()=>{!this.getPlayers().filter(s=>s.input.source==="Remote Microphone").some(s=>ko.getInputForPlayerSelected(s.input,!1)===null)&&(await Promise.all(this.getPlayers().map(s=>gn.sourceNameToInput(s.input.source).requestReadiness(s.input.deviceId).then(()=>{ee.readinessConfirmed.dispatch(s.input.deviceId)}))),ee.inputListChanged.unsubscribe(r),this.requestingPromise=null,n(!0))};ee.inputListChanged.subscribe(r),r()})),this.requestingPromise),this.getPlayers=()=>this.players,this.getPlayer=n=>this.players.find(r=>r.number===n),this.getMinPlayerNumber=()=>this.minPlayerNumber,this.setMinPlayerNumber=n=>{const r=this.minPlayerNumber;this.minPlayerNumber=n,ee.minPlayerNumberChanged.dispatch(r,n)},this.addPlayer=n=>{if(Ne.isPlaying()||this.getPlayer(n))return;const r=new cc(n,{source:"Dummy",deviceId:"default",channel:0});return this.players.push(r),this.storePlayers(),ee.playerAdded.dispatch(r.number),ee.playerInputChanged.dispatch(r.number,void 0,r.input),r},this.removePlayer=n=>{if(Ne.isPlaying())return;const r=this.getPlayer(n);r&&(this.players=this.players.filter(i=>i.number!==n),this.players.length<this.minPlayerNumber&&this.addPlayer(new Array($g).fill(0).find((i,s)=>!this.players.find(o=>o.number===s))),this.storePlayers(),ee.playerRemoved.dispatch(r))},this.getInputs=()=>this.getPlayers().map(n=>n.input);const t=Oe.session.getItem(iC)??[];t.length?(this.players=t.map(cc.fromJSON),this.getPlayers().some(n=>n.input.source==="Microphone")&&ko.loadMics(),this.getPlayers().some(n=>n.input.source==="Remote Microphone")&&ll.start()):this.players=[new cc(0,{source:"Dummy",deviceId:"default",channel:0}),new cc(1,{source:"Dummy",deviceId:"default",channel:1})],ee.playerInputChanged.subscribe((n,r,i)=>{const s=this.getPlayer(n);if(!(!i||!s)){if(i.source==="Remote Microphone"){const o=Ze.getRemoteMicById(i.deviceId);o&&(s.nameOverride=o.name)}else s.nameOverride="";this.storePlayers()}}),ee.playerNameChanged.subscribe(Sj(this.storePlayers,1e3)),ee.remoteMicConnected.subscribe(({id:n,name:r})=>{this.getPlayers().forEach(i=>{i.input.source==="Remote Microphone"&&i.input.deviceId===n&&i.getName()!==r&&(i.nameOverride=r)})})}}const Me=new Jq;class Xq{constructor(){this.isMonitoring=!1,this.getInputStatus=t=>{const n=Me.getPlayer(t);return n?this.sourceNameToInput(n.input.source).getStatus(n.input.deviceId,n.input.channel):"unavailable"},this.getPlayerFrequency=t=>{var i;const n=(i=Me.getPlayer(t))==null?void 0:i.input;return n?this.sourceNameToInput(n.source).getFrequencies(n.deviceId)[n.channel]:0},this.clearPlayerCachedFrequencies=t=>{var r;const n=(r=Me.getPlayer(t))==null?void 0:r.input;if(!n)return 0;this.sourceNameToInput(n.source).clearFrequencies(n.deviceId)},this.getPlayerVolume=t=>{var i;const n=(i=Me.getPlayer(t))==null?void 0:i.input;return n?this.sourceNameToInput(n.source).getVolumes(n.deviceId)[n.channel]:0},this.getPlayerInputLag=t=>{var r;const n=(r=Me.getPlayer(t))==null?void 0:r.input;return n?this.sourceNameToInput(n.source).getInputLag(n.deviceId):0},this.startMonitoring=async()=>{await Promise.all(Me.getPlayers().map(t=>this.sourceNameToInput(t.input.source).startMonitoring(t.input.deviceId))),this.isMonitoring=!0},this.stopMonitoring=async()=>{await Promise.all(Me.getPlayers().map(t=>this.sourceNameToInput(t.input.source).stopMonitoring(t.input.deviceId))),this.isMonitoring=!1},this.monitoringStarted=()=>this.isMonitoring,this.sourceNameToInput=t=>t===_o.inputName?fH:t===S1.inputName?XF:t===Eo.inputName?pH:e6,ee.inputListChanged.subscribe(async()=>{this.isMonitoring&&(await this.stopMonitoring(),this.startMonitoring())})}}const gn=new Xq;function Yj(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=Yj(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function ta(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=Yj(e))&&(r&&(r+=" "),r+=t);return r}const Ld=e=>typeof e=="number"&&!isNaN(e),bl=e=>typeof e=="string",Gr=e=>typeof e=="function",Kp=e=>bl(e)||Gr(e)?e:null,ry=e=>y.isValidElement(e)||bl(e)||Gr(e)||Ld(e);function Zq(e,t,n){n===void 0&&(n=300);const{scrollHeight:r,style:i}=e;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)})})}function g0(e){let{enter:t,exit:n,appendPosition:r=!1,collapse:i=!0,collapseDuration:s=300}=e;return function(o){let{children:a,position:l,preventExitTransition:c,done:u,nodeRef:d,isIn:h}=o;const p=r?`${t}--${l}`:t,g=r?`${n}--${l}`:n,m=y.useRef(0);return y.useLayoutEffect(()=>{const _=d.current,v=p.split(" "),A=S=>{S.target===d.current&&(_.dispatchEvent(new Event("d")),_.removeEventListener("animationend",A),_.removeEventListener("animationcancel",A),m.current===0&&S.type!=="animationcancel"&&_.classList.remove(...v))};_.classList.add(...v),_.addEventListener("animationend",A),_.addEventListener("animationcancel",A)},[]),y.useEffect(()=>{const _=d.current,v=()=>{_.removeEventListener("animationend",v),i?Zq(_,u,s):u()};h||(c?v():(m.current=1,_.className+=` ${g}`,_.addEventListener("animationend",v)))},[h]),Te.createElement(Te.Fragment,null,a)}}function sC(e,t){return e!=null?{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}:{}}const Ri={list:new Map,emitQueue:new Map,on(e,t){return this.list.has(e)||this.list.set(e,[]),this.list.get(e).push(t),this},off(e,t){if(t){const n=this.list.get(e).filter(r=>r!==t);return this.list.set(e,n),this}return this.list.delete(e),this},cancelEmit(e){const t=this.emitQueue.get(e);return t&&(t.forEach(clearTimeout),this.emitQueue.delete(e)),this},emit(e){this.list.has(e)&&this.list.get(e).forEach(t=>{const n=setTimeout(()=>{t(...[].slice.call(arguments,1))},0);this.emitQueue.has(e)||this.emitQueue.set(e,[]),this.emitQueue.get(e).push(n)})}},Xh=e=>{let{theme:t,type:n,...r}=e;return Te.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...r})},iy={info:function(e){return Te.createElement(Xh,{...e},Te.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return Te.createElement(Xh,{...e},Te.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return Te.createElement(Xh,{...e},Te.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return Te.createElement(Xh,{...e},Te.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return Te.createElement("div",{className:"Toastify__spinner"})}};function eW(e){const[,t]=y.useReducer(p=>p+1,0),[n,r]=y.useState([]),i=y.useRef(null),s=y.useRef(new Map).current,o=p=>n.indexOf(p)!==-1,a=y.useRef({toastKey:1,displayedToast:0,count:0,queue:[],props:e,containerId:null,isToastActive:o,getToast:p=>s.get(p)}).current;function l(p){let{containerId:g}=p;const{limit:m}=a.props;!m||g&&a.containerId!==g||(a.count-=a.queue.length,a.queue=[])}function c(p){r(g=>p==null?[]:g.filter(m=>m!==p))}function u(){const{toastContent:p,toastProps:g,staleId:m}=a.queue.shift();h(p,g,m)}function d(p,g){let{delay:m,staleId:_,...v}=g;if(!ry(p)||function(q){return!i.current||a.props.enableMultiContainer&&q.containerId!==a.props.containerId||s.has(q.toastId)&&q.updateId==null}(v))return;const{toastId:A,updateId:S,data:x}=v,{props:b}=a,w=()=>c(A),E=S==null;E&&a.count++;const T={...b,style:b.toastStyle,key:a.toastKey++,...Object.fromEntries(Object.entries(v).filter(q=>{let[M,V]=q;return V!=null})),toastId:A,updateId:S,data:x,closeToast:w,isIn:!1,className:Kp(v.className||b.toastClassName),bodyClassName:Kp(v.bodyClassName||b.bodyClassName),progressClassName:Kp(v.progressClassName||b.progressClassName),autoClose:!v.isLoading&&(j=v.autoClose,B=b.autoClose,j===!1||Ld(j)&&j>0?j:B),deleteToast(){const q=sC(s.get(A),"removed");s.delete(A),Ri.emit(4,q);const M=a.queue.length;if(a.count=A==null?a.count-a.displayedToast:a.count-1,a.count<0&&(a.count=0),M>0){const V=A==null?a.props.limit:1;if(M===1||V===1)a.displayedToast++,u();else{const P=V>M?M:V;a.displayedToast=P;for(let I=0;I<P;I++)u()}}else t()}};var j,B;T.iconOut=function(q){let{theme:M,type:V,isLoading:P,icon:I}=q,$=null;const O={theme:M,type:V};return I===!1||(Gr(I)?$=I(O):y.isValidElement(I)?$=y.cloneElement(I,O):bl(I)||Ld(I)?$=I:P?$=iy.spinner():(z=>z in iy)(V)&&($=iy[V](O))),$}(T),Gr(v.onOpen)&&(T.onOpen=v.onOpen),Gr(v.onClose)&&(T.onClose=v.onClose),T.closeButton=b.closeButton,v.closeButton===!1||ry(v.closeButton)?T.closeButton=v.closeButton:v.closeButton===!0&&(T.closeButton=!ry(b.closeButton)||b.closeButton);let D=p;y.isValidElement(p)&&!bl(p.type)?D=y.cloneElement(p,{closeToast:w,toastProps:T,data:x}):Gr(p)&&(D=p({closeToast:w,toastProps:T,data:x})),b.limit&&b.limit>0&&a.count>b.limit&&E?a.queue.push({toastContent:D,toastProps:T,staleId:_}):Ld(m)?setTimeout(()=>{h(D,T,_)},m):h(D,T,_)}function h(p,g,m){const{toastId:_}=g;m&&s.delete(m);const v={content:p,props:g};s.set(_,v),r(A=>[...A,_].filter(S=>S!==m)),Ri.emit(4,sC(v,v.props.updateId==null?"added":"updated"))}return y.useEffect(()=>(a.containerId=e.containerId,Ri.cancelEmit(3).on(0,d).on(1,p=>i.current&&c(p)).on(5,l).emit(2,a),()=>{s.clear(),Ri.emit(3,a)}),[]),y.useEffect(()=>{a.props=e,a.isToastActive=o,a.displayedToast=n.length}),{getToastToRender:function(p){const g=new Map,m=Array.from(s.values());return e.newestOnTop&&m.reverse(),m.forEach(_=>{const{position:v}=_.props;g.has(v)||g.set(v,[]),g.get(v).push(_)}),Array.from(g,_=>p(_[0],_[1]))},containerRef:i,isToastActive:o}}function oC(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}function aC(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}function tW(e){const[t,n]=y.useState(!1),[r,i]=y.useState(!1),s=y.useRef(null),o=y.useRef({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,a=y.useRef(e),{autoClose:l,pauseOnHover:c,closeToast:u,onClick:d,closeOnClick:h}=e;function p(x){if(e.draggable){x.nativeEvent.type==="touchstart"&&x.nativeEvent.preventDefault(),o.didMove=!1,document.addEventListener("mousemove",v),document.addEventListener("mouseup",A),document.addEventListener("touchmove",v),document.addEventListener("touchend",A);const b=s.current;o.canCloseOnClick=!0,o.canDrag=!0,o.boundingRect=b.getBoundingClientRect(),b.style.transition="",o.x=oC(x.nativeEvent),o.y=aC(x.nativeEvent),e.draggableDirection==="x"?(o.start=o.x,o.removalDistance=b.offsetWidth*(e.draggablePercent/100)):(o.start=o.y,o.removalDistance=b.offsetHeight*(e.draggablePercent===80?1.5*e.draggablePercent:e.draggablePercent/100))}}function g(x){if(o.boundingRect){const{top:b,bottom:w,left:E,right:T}=o.boundingRect;x.nativeEvent.type!=="touchend"&&e.pauseOnHover&&o.x>=E&&o.x<=T&&o.y>=b&&o.y<=w?_():m()}}function m(){n(!0)}function _(){n(!1)}function v(x){const b=s.current;o.canDrag&&b&&(o.didMove=!0,t&&_(),o.x=oC(x),o.y=aC(x),o.delta=e.draggableDirection==="x"?o.x-o.start:o.y-o.start,o.start!==o.x&&(o.canCloseOnClick=!1),b.style.transform=`translate${e.draggableDirection}(${o.delta}px)`,b.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function A(){document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",A),document.removeEventListener("touchmove",v),document.removeEventListener("touchend",A);const x=s.current;if(o.canDrag&&o.didMove&&x){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return i(!0),void e.closeToast();x.style.transition="transform 0.2s, opacity 0.2s",x.style.transform=`translate${e.draggableDirection}(0)`,x.style.opacity="1"}}y.useEffect(()=>{a.current=e}),y.useEffect(()=>(s.current&&s.current.addEventListener("d",m,{once:!0}),Gr(e.onOpen)&&e.onOpen(y.isValidElement(e.children)&&e.children.props),()=>{const x=a.current;Gr(x.onClose)&&x.onClose(y.isValidElement(x.children)&&x.children.props)}),[]),y.useEffect(()=>(e.pauseOnFocusLoss&&(document.hasFocus()||_(),window.addEventListener("focus",m),window.addEventListener("blur",_)),()=>{e.pauseOnFocusLoss&&(window.removeEventListener("focus",m),window.removeEventListener("blur",_))}),[e.pauseOnFocusLoss]);const S={onMouseDown:p,onTouchStart:p,onMouseUp:g,onTouchEnd:g};return l&&c&&(S.onMouseEnter=_,S.onMouseLeave=m),h&&(S.onClick=x=>{d&&d(x),o.canCloseOnClick&&u()}),{playToast:m,pauseToast:_,isRunning:t,preventExitTransition:r,toastRef:s,eventHandlers:S}}function Qj(e){let{closeToast:t,theme:n,ariaLabel:r="close"}=e;return Te.createElement("button",{className:`Toastify__close-button Toastify__close-button--${n}`,type:"button",onClick:i=>{i.stopPropagation(),t(i)},"aria-label":r},Te.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Te.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function nW(e){let{delay:t,isRunning:n,closeToast:r,type:i="default",hide:s,className:o,style:a,controlledProgress:l,progress:c,rtl:u,isIn:d,theme:h}=e;const p=s||l&&c===0,g={...a,animationDuration:`${t}ms`,animationPlayState:n?"running":"paused",opacity:p?0:1};l&&(g.transform=`scaleX(${c})`);const m=ta("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${h}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":u}),_=Gr(o)?o({rtl:u,type:i,defaultClassName:m}):ta(m,o);return Te.createElement("div",{role:"progressbar","aria-hidden":p?"true":"false","aria-label":"notification timer",className:_,style:g,[l&&c>=1?"onTransitionEnd":"onAnimationEnd"]:l&&c<1?null:()=>{d&&r()}})}const rW=e=>{const{isRunning:t,preventExitTransition:n,toastRef:r,eventHandlers:i}=tW(e),{closeButton:s,children:o,autoClose:a,onClick:l,type:c,hideProgressBar:u,closeToast:d,transition:h,position:p,className:g,style:m,bodyClassName:_,bodyStyle:v,progressClassName:A,progressStyle:S,updateId:x,role:b,progress:w,rtl:E,toastId:T,deleteToast:j,isIn:B,isLoading:D,iconOut:q,closeOnClick:M,theme:V}=e,P=ta("Toastify__toast",`Toastify__toast-theme--${V}`,`Toastify__toast--${c}`,{"Toastify__toast--rtl":E},{"Toastify__toast--close-on-click":M}),I=Gr(g)?g({rtl:E,position:p,type:c,defaultClassName:P}):ta(P,g),$=!!w||!a,O={closeToast:d,type:c,theme:V};let z=null;return s===!1||(z=Gr(s)?s(O):y.isValidElement(s)?y.cloneElement(s,O):Qj(O)),Te.createElement(h,{isIn:B,done:j,position:p,preventExitTransition:n,nodeRef:r},Te.createElement("div",{id:T,onClick:l,className:I,...i,style:m,ref:r},Te.createElement("div",{...B&&{role:b},className:Gr(_)?_({type:c}):ta("Toastify__toast-body",_),style:v},q!=null&&Te.createElement("div",{className:ta("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!D})},q),Te.createElement("div",null,o)),z,Te.createElement(nW,{...x&&!$?{key:`pb-${x}`}:{},rtl:E,theme:V,delay:a,isRunning:t,isIn:B,closeToast:d,hide:u,type:c,style:S,className:A,controlledProgress:$,progress:w||0})))},m0=function(e,t){return t===void 0&&(t=!1),{enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}},iW=g0(m0("bounce",!0));g0(m0("slide",!0));g0(m0("zoom"));g0(m0("flip"));const k1=y.forwardRef((e,t)=>{const{getToastToRender:n,containerRef:r,isToastActive:i}=eW(e),{className:s,style:o,rtl:a,containerId:l}=e;function c(u){const d=ta("Toastify__toast-container",`Toastify__toast-container--${u}`,{"Toastify__toast-container--rtl":a});return Gr(s)?s({position:u,rtl:a,defaultClassName:d}):ta(d,Kp(s))}return y.useEffect(()=>{t&&(t.current=r.current)},[]),Te.createElement("div",{ref:r,className:"Toastify",id:l},n((u,d)=>{const h=d.length?{...o}:{...o,pointerEvents:"none"};return Te.createElement("div",{className:c(u),style:h,key:`container-${u}`},d.map((p,g)=>{let{content:m,props:_}=p;return Te.createElement(rW,{..._,isIn:i(_.toastId),style:{..._.style,"--nth":g+1,"--len":d.length},key:`toast-${_.key}`},m)}))}))});k1.displayName="ToastContainer",k1.defaultProps={position:"top-right",transition:iW,autoClose:5e3,closeButton:Qj,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let sy,za=new Map,vd=[],sW=1;function Jj(){return""+sW++}function oW(e){return e&&(bl(e.toastId)||Ld(e.toastId))?e.toastId:Jj()}function Nd(e,t){return za.size>0?Ri.emit(0,e,t):vd.push({content:e,options:t}),t.toastId}function Fg(e,t){return{...t,type:t&&t.type||e,toastId:oW(t)}}function Zh(e){return(t,n)=>Nd(t,Fg(e,n))}function Vt(e,t){return Nd(e,Fg("default",t))}Vt.loading=(e,t)=>Nd(e,Fg("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),Vt.promise=function(e,t,n){let r,{pending:i,error:s,success:o}=t;i&&(r=bl(i)?Vt.loading(i,n):Vt.loading(i.render,{...n,...i}));const a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(u,d,h)=>{if(d==null)return void Vt.dismiss(r);const p={type:u,...a,...n,data:h},g=bl(d)?{render:d}:d;return r?Vt.update(r,{...p,...g}):Vt(g.render,{...p,...g}),h},c=Gr(e)?e():e;return c.then(u=>l("success",o,u)).catch(u=>l("error",s,u)),c},Vt.success=Zh("success"),Vt.info=Zh("info"),Vt.error=Zh("error"),Vt.warning=Zh("warning"),Vt.warn=Vt.warning,Vt.dark=(e,t)=>Nd(e,Fg("default",{theme:"dark",...t})),Vt.dismiss=e=>{za.size>0?Ri.emit(1,e):vd=vd.filter(t=>e!=null&&t.options.toastId!==e)},Vt.clearWaitingQueue=function(e){return e===void 0&&(e={}),Ri.emit(5,e)},Vt.isActive=e=>{let t=!1;return za.forEach(n=>{n.isToastActive&&n.isToastActive(e)&&(t=!0)}),t},Vt.update=function(e,t){t===void 0&&(t={}),setTimeout(()=>{const n=function(r,i){let{containerId:s}=i;const o=za.get(s||sy);return o&&o.getToast(r)}(e,t);if(n){const{props:r,content:i}=n,s={delay:100,...r,...t,toastId:t.toastId||e,updateId:Jj()};s.toastId!==e&&(s.staleId=e);const o=s.render||i;delete s.render,Nd(o,s)}},0)},Vt.done=e=>{Vt.update(e,{progress:1})},Vt.onChange=e=>(Ri.on(4,e),()=>{Ri.off(4,e)}),Vt.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},Vt.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},Ri.on(2,e=>{sy=e.containerId||e,za.set(sy,e),vd.forEach(t=>{Ri.emit(0,t.content,t.options)}),vd=[]}).on(3,e=>{za.delete(e.containerId||e),za.size===0&&Ri.off(0).off(1).off(5)});ee.playerRemoved.subscribe(e=>{if(e.input.source===Eo.inputName){const t=Ze.getRemoteMicById(e.input.deviceId);t&&t.setPlayerNumber(null)}});ee.playerInputChanged.subscribe((e,t,n)=>{var r;if((t==null?void 0:t.source)===Eo.inputName){const i=(r=Me.getPlayers().find(o=>o.input.source==="Remote Microphone"&&o.input.deviceId===t.deviceId))==null?void 0:r.number,s=Ze.getRemoteMicById(t.deviceId);s==null||s.setPlayerNumber(i!==void 0?i:null)}if((n==null?void 0:n.source)==="Remote Microphone"){const i=Ze.getRemoteMicById(n.deviceId);i==null||i.setPlayerNumber(e)}});ee.remoteMicConnected.subscribe(({id:e})=>{var n,r;const t=(n=Me.getPlayers().find(i=>i.input.source==="Remote Microphone"&&i.input.deviceId===e))==null?void 0:n.number;if(t!==void 0){const i=Ze.getRemoteMicById(e);i==null||i.setPlayerNumber(t),gn.monitoringStarted()&&((r=i==null?void 0:i.getInput())==null||r.startMonitoring())}});ee.playerChangeRequested.subscribe((e,t)=>{var r;const n=Me.getPlayers().find(i=>i.input.deviceId===e);if(n&&Me.removePlayer(n.number),t!==null){const i=Me.getPlayer(t);i?i.changeInput("Remote Microphone",0,e):(r=Me.addPlayer(t))==null||r.changeInput("Remote Microphone",0,e)}});ee.remoteMicConnected.subscribe(({name:e,id:t,silent:n})=>{n||Vt.success(f.jsxs(f.Fragment,{children:["Remote microphone ",f.jsx("b",{className:"ph-no-capture",children:e})," connected!"]}),{toastId:`connection-status-${t}`,updateId:`connection-status-${t}`})});ee.remoteMicDisconnected.subscribe(({name:e,id:t},n)=>{n||Vt.warning(f.jsxs(f.Fragment,{children:["Remote microphone ",f.jsx("b",{className:"ph-no-capture",children:e})," disconnected!"]}),{toastId:`connection-status-${t}`,updateId:`connection-status-${t}`})});const ES=()=>{const e=Ze.getRemoteMics().map(t=>{var n;return{id:t.id,name:t.name,number:((n=Me.getPlayers().find(r=>r.input.deviceId===t.id))==null?void 0:n.number)??null}});Ze.broadcastToChannel("remote-mics",{t:"remote-mics-list",list:e})};ee.inputListChanged.subscribe(ES);ee.playerInputChanged.subscribe(ES);ee.remoteMicSubscribed.subscribe(ES);const Xj=e=>({artist:t,title:n,id:r,lastUpdate:i},s,o=[],a)=>{var u;const l=o.length>1&&o.every(d=>d.score===o[0].score),c={};if(Me.getPlayers().forEach((d,h)=>c[`input${h}`]=d.input.source),e==="songEnded")try{const d=(u=Ne.getPlayer(0))==null?void 0:u.getPlayerNotes().filter(p=>Ng(p)===0).map(p=>p.frequencyRecords).flat().map(p=>[p.timestamp,p.frequency]).map((p,g,m)=>{var _,v;return[p[0]-(((_=m[g-1])==null?void 0:_[0])??0),p[1]-(((v=m[g-1])==null?void 0:v[1])??0)]}).map(p=>[Math.round(p[0]*100),Math.round(p[1]*100)]).map(p=>p[1]===0?p[0]:p),h=ZM(d);console.log("compressed",h)}catch(d){to(d)}Vn.capture(e,{songId:r,songLastUpdated:i,name:`${t} - ${n}`,artist:t,title:n,mode:s.mode,tolerance:s.tolerance,players:s.players.length,tracks:s.players.map(d=>d.track),progress:a??null,singId:s.id,sameScores:l,mobilePhoneMode:!!pr.get(),...c,...o.reduce((d,h,p)=>({...d,[`score${p}`]:h.score}),{}),...s.players.reduce((d,h,p)=>({...d,[`track${p}`]:h.track}),{})})};ee.songStarted.subscribe(Xj("songStarted"));ee.songEnded.subscribe(Xj("songEnded"));function ep(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Zj={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(e,t){(function(n){e.exports=n()})(function(){return function n(r,i,s){function o(c,u){if(!i[c]){if(!r[c]){var d=typeof ep=="function"&&ep;if(!u&&d)return d(c,!0);if(a)return a(c,!0);var h=new Error("Cannot find module '"+c+"'");throw h.code="MODULE_NOT_FOUND",h}var p=i[c]={exports:{}};r[c][0].call(p.exports,function(g){var m=r[c][1][g];return o(m||g)},p,p.exports,n,r,i,s)}return i[c].exports}for(var a=typeof ep=="function"&&ep,l=0;l<s.length;l++)o(s[l]);return o}({1:[function(n,r,i){(function(s){var o=s.MutationObserver||s.WebKitMutationObserver,a;if(o){var l=0,c=new o(g),u=s.document.createTextNode("");c.observe(u,{characterData:!0}),a=function(){u.data=l=++l%2}}else if(!s.setImmediate&&typeof s.MessageChannel<"u"){var d=new s.MessageChannel;d.port1.onmessage=g,a=function(){d.port2.postMessage(0)}}else"document"in s&&"onreadystatechange"in s.document.createElement("script")?a=function(){var _=s.document.createElement("script");_.onreadystatechange=function(){g(),_.onreadystatechange=null,_.parentNode.removeChild(_),_=null},s.document.documentElement.appendChild(_)}:a=function(){setTimeout(g,0)};var h,p=[];function g(){h=!0;for(var _,v,A=p.length;A;){for(v=p,p=[],_=-1;++_<A;)v[_]();A=p.length}h=!1}r.exports=m;function m(_){p.push(_)===1&&!h&&a()}}).call(this,typeof Jo<"u"?Jo:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(n,r,i){var s=n(1);function o(){}var a={},l=["REJECTED"],c=["FULFILLED"],u=["PENDING"];r.exports=d;function d(b){if(typeof b!="function")throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,b!==o&&m(this,b)}d.prototype.catch=function(b){return this.then(null,b)},d.prototype.then=function(b,w){if(typeof b!="function"&&this.state===c||typeof w!="function"&&this.state===l)return this;var E=new this.constructor(o);if(this.state!==u){var T=this.state===c?b:w;p(E,T,this.outcome)}else this.queue.push(new h(E,b,w));return E};function h(b,w,E){this.promise=b,typeof w=="function"&&(this.onFulfilled=w,this.callFulfilled=this.otherCallFulfilled),typeof E=="function"&&(this.onRejected=E,this.callRejected=this.otherCallRejected)}h.prototype.callFulfilled=function(b){a.resolve(this.promise,b)},h.prototype.otherCallFulfilled=function(b){p(this.promise,this.onFulfilled,b)},h.prototype.callRejected=function(b){a.reject(this.promise,b)},h.prototype.otherCallRejected=function(b){p(this.promise,this.onRejected,b)};function p(b,w,E){s(function(){var T;try{T=w(E)}catch(j){return a.reject(b,j)}T===b?a.reject(b,new TypeError("Cannot resolve promise with itself")):a.resolve(b,T)})}a.resolve=function(b,w){var E=_(g,w);if(E.status==="error")return a.reject(b,E.value);var T=E.value;if(T)m(b,T);else{b.state=c,b.outcome=w;for(var j=-1,B=b.queue.length;++j<B;)b.queue[j].callFulfilled(w)}return b},a.reject=function(b,w){b.state=l,b.outcome=w;for(var E=-1,T=b.queue.length;++E<T;)b.queue[E].callRejected(w);return b};function g(b){var w=b&&b.then;if(b&&(typeof b=="object"||typeof b=="function")&&typeof w=="function")return function(){w.apply(b,arguments)}}function m(b,w){var E=!1;function T(q){E||(E=!0,a.reject(b,q))}function j(q){E||(E=!0,a.resolve(b,q))}function B(){w(j,T)}var D=_(B);D.status==="error"&&T(D.value)}function _(b,w){var E={};try{E.value=b(w),E.status="success"}catch(T){E.status="error",E.value=T}return E}d.resolve=v;function v(b){return b instanceof this?b:a.resolve(new this(o),b)}d.reject=A;function A(b){var w=new this(o);return a.reject(w,b)}d.all=S;function S(b){var w=this;if(Object.prototype.toString.call(b)!=="[object Array]")return this.reject(new TypeError("must be an array"));var E=b.length,T=!1;if(!E)return this.resolve([]);for(var j=new Array(E),B=0,D=-1,q=new this(o);++D<E;)M(b[D],D);return q;function M(V,P){w.resolve(V).then(I,function($){T||(T=!0,a.reject(q,$))});function I($){j[P]=$,++B===E&&!T&&(T=!0,a.resolve(q,j))}}}d.race=x;function x(b){var w=this;if(Object.prototype.toString.call(b)!=="[object Array]")return this.reject(new TypeError("must be an array"));var E=b.length,T=!1;if(!E)return this.resolve([]);for(var j=-1,B=new this(o);++j<E;)D(b[j]);return B;function D(q){w.resolve(q).then(function(M){T||(T=!0,a.resolve(B,M))},function(M){T||(T=!0,a.reject(B,M))})}}},{1:1}],3:[function(n,r,i){(function(s){typeof s.Promise!="function"&&(s.Promise=n(2))}).call(this,typeof Jo<"u"?Jo:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(n,r,i){var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(k){return typeof k}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k};function o(k,F){if(!(k instanceof F))throw new TypeError("Cannot call a class as a function")}function a(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var l=a();function c(){try{if(!l||!l.open)return!1;var k=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),F=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!k||F)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function u(k,F){k=k||[],F=F||{};try{return new Blob(k,F)}catch(H){if(H.name!=="TypeError")throw H;for(var R=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,W=new R,Q=0;Q<k.length;Q+=1)W.append(k[Q]);return W.getBlob(F.type)}}typeof Promise>"u"&&n(3);var d=Promise;function h(k,F){F&&k.then(function(R){F(null,R)},function(R){F(R)})}function p(k,F,R){typeof F=="function"&&k.then(F),typeof R=="function"&&k.catch(R)}function g(k){return typeof k!="string"&&(console.warn(k+" used as a key, but it is not a string."),k=String(k)),k}function m(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var _="local-forage-detect-blob-support",v=void 0,A={},S=Object.prototype.toString,x="readonly",b="readwrite";function w(k){for(var F=k.length,R=new ArrayBuffer(F),W=new Uint8Array(R),Q=0;Q<F;Q++)W[Q]=k.charCodeAt(Q);return R}function E(k){return new d(function(F){var R=k.transaction(_,b),W=u([""]);R.objectStore(_).put(W,"key"),R.onabort=function(Q){Q.preventDefault(),Q.stopPropagation(),F(!1)},R.oncomplete=function(){var Q=navigator.userAgent.match(/Chrome\/(\d+)/),H=navigator.userAgent.match(/Edge\//);F(H||!Q||parseInt(Q[1],10)>=43)}}).catch(function(){return!1})}function T(k){return typeof v=="boolean"?d.resolve(v):E(k).then(function(F){return v=F,v})}function j(k){var F=A[k.name],R={};R.promise=new d(function(W,Q){R.resolve=W,R.reject=Q}),F.deferredOperations.push(R),F.dbReady?F.dbReady=F.dbReady.then(function(){return R.promise}):F.dbReady=R.promise}function B(k){var F=A[k.name],R=F.deferredOperations.pop();if(R)return R.resolve(),R.promise}function D(k,F){var R=A[k.name],W=R.deferredOperations.pop();if(W)return W.reject(F),W.promise}function q(k,F){return new d(function(R,W){if(A[k.name]=A[k.name]||U(),k.db)if(F)j(k),k.db.close();else return R(k.db);var Q=[k.name];F&&Q.push(k.version);var H=l.open.apply(l,Q);F&&(H.onupgradeneeded=function(te){var ie=H.result;try{ie.createObjectStore(k.storeName),te.oldVersion<=1&&ie.createObjectStore(_)}catch(ae){if(ae.name==="ConstraintError")console.warn('The database "'+k.name+'" has been upgraded from version '+te.oldVersion+" to version "+te.newVersion+', but the storage "'+k.storeName+'" already exists.');else throw ae}}),H.onerror=function(te){te.preventDefault(),W(H.error)},H.onsuccess=function(){var te=H.result;te.onversionchange=function(ie){ie.target.close()},R(te),B(k)}})}function M(k){return q(k,!1)}function V(k){return q(k,!0)}function P(k,F){if(!k.db)return!0;var R=!k.db.objectStoreNames.contains(k.storeName),W=k.version<k.db.version,Q=k.version>k.db.version;if(W&&(k.version!==F&&console.warn('The database "'+k.name+`" can't be downgraded from version `+k.db.version+" to version "+k.version+"."),k.version=k.db.version),Q||R){if(R){var H=k.db.version+1;H>k.version&&(k.version=H)}return!0}return!1}function I(k){return new d(function(F,R){var W=new FileReader;W.onerror=R,W.onloadend=function(Q){var H=btoa(Q.target.result||"");F({__local_forage_encoded_blob:!0,data:H,type:k.type})},W.readAsBinaryString(k)})}function $(k){var F=w(atob(k.data));return u([F],{type:k.type})}function O(k){return k&&k.__local_forage_encoded_blob}function z(k){var F=this,R=F._initReady().then(function(){var W=A[F._dbInfo.name];if(W&&W.dbReady)return W.dbReady});return p(R,k,k),R}function N(k){j(k);for(var F=A[k.name],R=F.forages,W=0;W<R.length;W++){var Q=R[W];Q._dbInfo.db&&(Q._dbInfo.db.close(),Q._dbInfo.db=null)}return k.db=null,M(k).then(function(H){return k.db=H,P(k)?V(k):H}).then(function(H){k.db=F.db=H;for(var te=0;te<R.length;te++)R[te]._dbInfo.db=H}).catch(function(H){throw D(k,H),H})}function G(k,F,R,W){W===void 0&&(W=1);try{var Q=k.db.transaction(k.storeName,F);R(null,Q)}catch(H){if(W>0&&(!k.db||H.name==="InvalidStateError"||H.name==="NotFoundError"))return d.resolve().then(function(){if(!k.db||H.name==="NotFoundError"&&!k.db.objectStoreNames.contains(k.storeName)&&k.version<=k.db.version)return k.db&&(k.version=k.db.version+1),V(k)}).then(function(){return N(k).then(function(){G(k,F,R,W-1)})}).catch(R);R(H)}}function U(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function ne(k){var F=this,R={db:null};if(k)for(var W in k)R[W]=k[W];var Q=A[R.name];Q||(Q=U(),A[R.name]=Q),Q.forages.push(F),F._initReady||(F._initReady=F.ready,F.ready=z);var H=[];function te(){return d.resolve()}for(var ie=0;ie<Q.forages.length;ie++){var ae=Q.forages[ie];ae!==F&&H.push(ae._initReady().catch(te))}var ce=Q.forages.slice(0);return d.all(H).then(function(){return R.db=Q.db,M(R)}).then(function(he){return R.db=he,P(R,F._defaultConfig.version)?V(R):he}).then(function(he){R.db=Q.db=he,F._dbInfo=R;for(var ke=0;ke<ce.length;ke++){var et=ce[ke];et!==F&&(et._dbInfo.db=R.db,et._dbInfo.version=R.version)}})}function L(k,F){var R=this;k=g(k);var W=new d(function(Q,H){R.ready().then(function(){G(R._dbInfo,x,function(te,ie){if(te)return H(te);try{var ae=ie.objectStore(R._dbInfo.storeName),ce=ae.get(k);ce.onsuccess=function(){var he=ce.result;he===void 0&&(he=null),O(he)&&(he=$(he)),Q(he)},ce.onerror=function(){H(ce.error)}}catch(he){H(he)}})}).catch(H)});return h(W,F),W}function fe(k,F){var R=this,W=new d(function(Q,H){R.ready().then(function(){G(R._dbInfo,x,function(te,ie){if(te)return H(te);try{var ae=ie.objectStore(R._dbInfo.storeName),ce=ae.openCursor(),he=1;ce.onsuccess=function(){var ke=ce.result;if(ke){var et=ke.value;O(et)&&(et=$(et));var At=k(et,ke.key,he++);At!==void 0?Q(At):ke.continue()}else Q()},ce.onerror=function(){H(ce.error)}}catch(ke){H(ke)}})}).catch(H)});return h(W,F),W}function Z(k,F,R){var W=this;k=g(k);var Q=new d(function(H,te){var ie;W.ready().then(function(){return ie=W._dbInfo,S.call(F)==="[object Blob]"?T(ie.db).then(function(ae){return ae?F:I(F)}):F}).then(function(ae){G(W._dbInfo,b,function(ce,he){if(ce)return te(ce);try{var ke=he.objectStore(W._dbInfo.storeName);ae===null&&(ae=void 0);var et=ke.put(ae,k);he.oncomplete=function(){ae===void 0&&(ae=null),H(ae)},he.onabort=he.onerror=function(){var At=et.error?et.error:et.transaction.error;te(At)}}catch(At){te(At)}})}).catch(te)});return h(Q,R),Q}function oe(k,F){var R=this;k=g(k);var W=new d(function(Q,H){R.ready().then(function(){G(R._dbInfo,b,function(te,ie){if(te)return H(te);try{var ae=ie.objectStore(R._dbInfo.storeName),ce=ae.delete(k);ie.oncomplete=function(){Q()},ie.onerror=function(){H(ce.error)},ie.onabort=function(){var he=ce.error?ce.error:ce.transaction.error;H(he)}}catch(he){H(he)}})}).catch(H)});return h(W,F),W}function je(k){var F=this,R=new d(function(W,Q){F.ready().then(function(){G(F._dbInfo,b,function(H,te){if(H)return Q(H);try{var ie=te.objectStore(F._dbInfo.storeName),ae=ie.clear();te.oncomplete=function(){W()},te.onabort=te.onerror=function(){var ce=ae.error?ae.error:ae.transaction.error;Q(ce)}}catch(ce){Q(ce)}})}).catch(Q)});return h(R,k),R}function Ae(k){var F=this,R=new d(function(W,Q){F.ready().then(function(){G(F._dbInfo,x,function(H,te){if(H)return Q(H);try{var ie=te.objectStore(F._dbInfo.storeName),ae=ie.count();ae.onsuccess=function(){W(ae.result)},ae.onerror=function(){Q(ae.error)}}catch(ce){Q(ce)}})}).catch(Q)});return h(R,k),R}function le(k,F){var R=this,W=new d(function(Q,H){if(k<0){Q(null);return}R.ready().then(function(){G(R._dbInfo,x,function(te,ie){if(te)return H(te);try{var ae=ie.objectStore(R._dbInfo.storeName),ce=!1,he=ae.openKeyCursor();he.onsuccess=function(){var ke=he.result;if(!ke){Q(null);return}k===0||ce?Q(ke.key):(ce=!0,ke.advance(k))},he.onerror=function(){H(he.error)}}catch(ke){H(ke)}})}).catch(H)});return h(W,F),W}function be(k){var F=this,R=new d(function(W,Q){F.ready().then(function(){G(F._dbInfo,x,function(H,te){if(H)return Q(H);try{var ie=te.objectStore(F._dbInfo.storeName),ae=ie.openKeyCursor(),ce=[];ae.onsuccess=function(){var he=ae.result;if(!he){W(ce);return}ce.push(he.key),he.continue()},ae.onerror=function(){Q(ae.error)}}catch(he){Q(he)}})}).catch(Q)});return h(R,k),R}function He(k,F){F=m.apply(this,arguments);var R=this.config();k=typeof k!="function"&&k||{},k.name||(k.name=k.name||R.name,k.storeName=k.storeName||R.storeName);var W=this,Q;if(!k.name)Q=d.reject("Invalid arguments");else{var H=k.name===R.name&&W._dbInfo.db,te=H?d.resolve(W._dbInfo.db):M(k).then(function(ie){var ae=A[k.name],ce=ae.forages;ae.db=ie;for(var he=0;he<ce.length;he++)ce[he]._dbInfo.db=ie;return ie});k.storeName?Q=te.then(function(ie){if(ie.objectStoreNames.contains(k.storeName)){var ae=ie.version+1;j(k);var ce=A[k.name],he=ce.forages;ie.close();for(var ke=0;ke<he.length;ke++){var et=he[ke];et._dbInfo.db=null,et._dbInfo.version=ae}var At=new d(function(St,Tn){var _n=l.open(k.name,ae);_n.onerror=function(ki){var Fu=_n.result;Fu.close(),Tn(ki)},_n.onupgradeneeded=function(){var ki=_n.result;ki.deleteObjectStore(k.storeName)},_n.onsuccess=function(){var ki=_n.result;ki.close(),St(ki)}});return At.then(function(St){ce.db=St;for(var Tn=0;Tn<he.length;Tn++){var _n=he[Tn];_n._dbInfo.db=St,B(_n._dbInfo)}}).catch(function(St){throw(D(k,St)||d.resolve()).catch(function(){}),St})}}):Q=te.then(function(ie){j(k);var ae=A[k.name],ce=ae.forages;ie.close();for(var he=0;he<ce.length;he++){var ke=ce[he];ke._dbInfo.db=null}var et=new d(function(At,St){var Tn=l.deleteDatabase(k.name);Tn.onerror=function(){var _n=Tn.result;_n&&_n.close(),St(Tn.error)},Tn.onblocked=function(){console.warn('dropInstance blocked for database "'+k.name+'" until all open connections are closed')},Tn.onsuccess=function(){var _n=Tn.result;_n&&_n.close(),At(_n)}});return et.then(function(At){ae.db=At;for(var St=0;St<ce.length;St++){var Tn=ce[St];B(Tn._dbInfo)}}).catch(function(At){throw(D(k,At)||d.resolve()).catch(function(){}),At})})}return h(Q,F),Q}var ze={_driver:"asyncStorage",_initStorage:ne,_support:c(),iterate:fe,getItem:L,setItem:Z,removeItem:oe,clear:je,length:Ae,key:le,keys:be,dropInstance:He};function Se(){return typeof openDatabase=="function"}var Ee="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ke="~~local_forage_type~",Ye=/^~~local_forage_type~([^~]+)~/,Re="__lfsc__:",at=Re.length,Tt="arbf",en="blob",Mt="si08",mn="ui08",ct="uic8",_t="si16",Wt="si32",Je="ur16",jt="ui32",ve="fl32",nt="fl64",vn=at+Tt.length,dt=Object.prototype.toString;function rt(k){var F=k.length*.75,R=k.length,W,Q=0,H,te,ie,ae;k[k.length-1]==="="&&(F--,k[k.length-2]==="="&&F--);var ce=new ArrayBuffer(F),he=new Uint8Array(ce);for(W=0;W<R;W+=4)H=Ee.indexOf(k[W]),te=Ee.indexOf(k[W+1]),ie=Ee.indexOf(k[W+2]),ae=Ee.indexOf(k[W+3]),he[Q++]=H<<2|te>>4,he[Q++]=(te&15)<<4|ie>>2,he[Q++]=(ie&3)<<6|ae&63;return ce}function tn(k){var F=new Uint8Array(k),R="",W;for(W=0;W<F.length;W+=3)R+=Ee[F[W]>>2],R+=Ee[(F[W]&3)<<4|F[W+1]>>4],R+=Ee[(F[W+1]&15)<<2|F[W+2]>>6],R+=Ee[F[W+2]&63];return F.length%3===2?R=R.substring(0,R.length-1)+"=":F.length%3===1&&(R=R.substring(0,R.length-2)+"=="),R}function un(k,F){var R="";if(k&&(R=dt.call(k)),k&&(R==="[object ArrayBuffer]"||k.buffer&&dt.call(k.buffer)==="[object ArrayBuffer]")){var W,Q=Re;k instanceof ArrayBuffer?(W=k,Q+=Tt):(W=k.buffer,R==="[object Int8Array]"?Q+=Mt:R==="[object Uint8Array]"?Q+=mn:R==="[object Uint8ClampedArray]"?Q+=ct:R==="[object Int16Array]"?Q+=_t:R==="[object Uint16Array]"?Q+=Je:R==="[object Int32Array]"?Q+=Wt:R==="[object Uint32Array]"?Q+=jt:R==="[object Float32Array]"?Q+=ve:R==="[object Float64Array]"?Q+=nt:F(new Error("Failed to get type for BinaryArray"))),F(Q+tn(W))}else if(R==="[object Blob]"){var H=new FileReader;H.onload=function(){var te=Ke+k.type+"~"+tn(this.result);F(Re+en+te)},H.readAsArrayBuffer(k)}else try{F(JSON.stringify(k))}catch(te){console.error("Couldn't convert value into a JSON string: ",k),F(null,te)}}function Kt(k){if(k.substring(0,at)!==Re)return JSON.parse(k);var F=k.substring(vn),R=k.substring(at,vn),W;if(R===en&&Ye.test(F)){var Q=F.match(Ye);W=Q[1],F=F.substring(Q[0].length)}var H=rt(F);switch(R){case Tt:return H;case en:return u([H],{type:W});case Mt:return new Int8Array(H);case mn:return new Uint8Array(H);case ct:return new Uint8ClampedArray(H);case _t:return new Int16Array(H);case Je:return new Uint16Array(H);case Wt:return new Int32Array(H);case jt:return new Uint32Array(H);case ve:return new Float32Array(H);case nt:return new Float64Array(H);default:throw new Error("Unkown type: "+R)}}var gt={serialize:un,deserialize:Kt,stringToBuffer:rt,bufferToString:tn};function Ln(k,F,R,W){k.executeSql("CREATE TABLE IF NOT EXISTS "+F.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],R,W)}function gr(k){var F=this,R={db:null};if(k)for(var W in k)R[W]=typeof k[W]!="string"?k[W].toString():k[W];var Q=new d(function(H,te){try{R.db=openDatabase(R.name,String(R.version),R.description,R.size)}catch(ie){return te(ie)}R.db.transaction(function(ie){Ln(ie,R,function(){F._dbInfo=R,H()},function(ae,ce){te(ce)})},te)});return R.serializer=gt,Q}function yn(k,F,R,W,Q,H){k.executeSql(R,W,Q,function(te,ie){ie.code===ie.SYNTAX_ERR?te.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[F.storeName],function(ae,ce){ce.rows.length?H(ae,ie):Ln(ae,F,function(){ae.executeSql(R,W,Q,H)},H)},H):H(te,ie)},H)}function wi(k,F){var R=this;k=g(k);var W=new d(function(Q,H){R.ready().then(function(){var te=R._dbInfo;te.db.transaction(function(ie){yn(ie,te,"SELECT * FROM "+te.storeName+" WHERE key = ? LIMIT 1",[k],function(ae,ce){var he=ce.rows.length?ce.rows.item(0).value:null;he&&(he=te.serializer.deserialize(he)),Q(he)},function(ae,ce){H(ce)})})}).catch(H)});return h(W,F),W}function ei(k,F){var R=this,W=new d(function(Q,H){R.ready().then(function(){var te=R._dbInfo;te.db.transaction(function(ie){yn(ie,te,"SELECT * FROM "+te.storeName,[],function(ae,ce){for(var he=ce.rows,ke=he.length,et=0;et<ke;et++){var At=he.item(et),St=At.value;if(St&&(St=te.serializer.deserialize(St)),St=k(St,At.key,et+1),St!==void 0){Q(St);return}}Q()},function(ae,ce){H(ce)})})}).catch(H)});return h(W,F),W}function bt(k,F,R,W){var Q=this;k=g(k);var H=new d(function(te,ie){Q.ready().then(function(){F===void 0&&(F=null);var ae=F,ce=Q._dbInfo;ce.serializer.serialize(F,function(he,ke){ke?ie(ke):ce.db.transaction(function(et){yn(et,ce,"INSERT OR REPLACE INTO "+ce.storeName+" (key, value) VALUES (?, ?)",[k,he],function(){te(ae)},function(At,St){ie(St)})},function(et){if(et.code===et.QUOTA_ERR){if(W>0){te(bt.apply(Q,[k,ae,R,W-1]));return}ie(et)}})})}).catch(ie)});return h(H,R),H}function An(k,F,R){return bt.apply(this,[k,F,R,1])}function Le(k,F){var R=this;k=g(k);var W=new d(function(Q,H){R.ready().then(function(){var te=R._dbInfo;te.db.transaction(function(ie){yn(ie,te,"DELETE FROM "+te.storeName+" WHERE key = ?",[k],function(){Q()},function(ae,ce){H(ce)})})}).catch(H)});return h(W,F),W}function Xe(k){var F=this,R=new d(function(W,Q){F.ready().then(function(){var H=F._dbInfo;H.db.transaction(function(te){yn(te,H,"DELETE FROM "+H.storeName,[],function(){W()},function(ie,ae){Q(ae)})})}).catch(Q)});return h(R,k),R}function Un(k){var F=this,R=new d(function(W,Q){F.ready().then(function(){var H=F._dbInfo;H.db.transaction(function(te){yn(te,H,"SELECT COUNT(key) as c FROM "+H.storeName,[],function(ie,ae){var ce=ae.rows.item(0).c;W(ce)},function(ie,ae){Q(ae)})})}).catch(Q)});return h(R,k),R}function ti(k,F){var R=this,W=new d(function(Q,H){R.ready().then(function(){var te=R._dbInfo;te.db.transaction(function(ie){yn(ie,te,"SELECT key FROM "+te.storeName+" WHERE id = ? LIMIT 1",[k+1],function(ae,ce){var he=ce.rows.length?ce.rows.item(0).key:null;Q(he)},function(ae,ce){H(ce)})})}).catch(H)});return h(W,F),W}function ye(k){var F=this,R=new d(function(W,Q){F.ready().then(function(){var H=F._dbInfo;H.db.transaction(function(te){yn(te,H,"SELECT key FROM "+H.storeName,[],function(ie,ae){for(var ce=[],he=0;he<ae.rows.length;he++)ce.push(ae.rows.item(he).key);W(ce)},function(ie,ae){Q(ae)})})}).catch(Q)});return h(R,k),R}function Be(k){return new d(function(F,R){k.transaction(function(W){W.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(Q,H){for(var te=[],ie=0;ie<H.rows.length;ie++)te.push(H.rows.item(ie).name);F({db:k,storeNames:te})},function(Q,H){R(H)})},function(W){R(W)})})}function Ue(k,F){F=m.apply(this,arguments);var R=this.config();k=typeof k!="function"&&k||{},k.name||(k.name=k.name||R.name,k.storeName=k.storeName||R.storeName);var W=this,Q;return k.name?Q=new d(function(H){var te;k.name===R.name?te=W._dbInfo.db:te=openDatabase(k.name,"","",0),k.storeName?H({db:te,storeNames:[k.storeName]}):H(Be(te))}).then(function(H){return new d(function(te,ie){H.db.transaction(function(ae){function ce(At){return new d(function(St,Tn){ae.executeSql("DROP TABLE IF EXISTS "+At,[],function(){St()},function(_n,ki){Tn(ki)})})}for(var he=[],ke=0,et=H.storeNames.length;ke<et;ke++)he.push(ce(H.storeNames[ke]));d.all(he).then(function(){te()}).catch(function(At){ie(At)})},function(ae){ie(ae)})})}):Q=d.reject("Invalid arguments"),h(Q,F),Q}var Cn={_driver:"webSQLStorage",_initStorage:gr,_support:Se(),iterate:ei,getItem:wi,setItem:An,removeItem:Le,clear:Xe,length:Un,key:ti,keys:ye,dropInstance:Ue};function Hn(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function ni(k,F){var R=k.name+"/";return k.storeName!==F.storeName&&(R+=k.storeName+"/"),R}function Ei(){var k="_localforage_support_test";try{return localStorage.setItem(k,!0),localStorage.removeItem(k),!1}catch{return!0}}function nr(){return!Ei()||localStorage.length>0}function $r(k){var F=this,R={};if(k)for(var W in k)R[W]=k[W];return R.keyPrefix=ni(k,F._defaultConfig),nr()?(F._dbInfo=R,R.serializer=gt,d.resolve()):d.reject()}function Ot(k){var F=this,R=F.ready().then(function(){for(var W=F._dbInfo.keyPrefix,Q=localStorage.length-1;Q>=0;Q--){var H=localStorage.key(Q);H.indexOf(W)===0&&localStorage.removeItem(H)}});return h(R,k),R}function Ma(k,F){var R=this;k=g(k);var W=R.ready().then(function(){var Q=R._dbInfo,H=localStorage.getItem(Q.keyPrefix+k);return H&&(H=Q.serializer.deserialize(H)),H});return h(W,F),W}function kv(k,F){var R=this,W=R.ready().then(function(){for(var Q=R._dbInfo,H=Q.keyPrefix,te=H.length,ie=localStorage.length,ae=1,ce=0;ce<ie;ce++){var he=localStorage.key(ce);if(he.indexOf(H)===0){var ke=localStorage.getItem(he);if(ke&&(ke=Q.serializer.deserialize(ke)),ke=k(ke,he.substring(te),ae++),ke!==void 0)return ke}}});return h(W,F),W}function Ih(k,F){var R=this,W=R.ready().then(function(){var Q=R._dbInfo,H;try{H=localStorage.key(k)}catch{H=null}return H&&(H=H.substring(Q.keyPrefix.length)),H});return h(W,F),W}function Ph(k){var F=this,R=F.ready().then(function(){for(var W=F._dbInfo,Q=localStorage.length,H=[],te=0;te<Q;te++){var ie=localStorage.key(te);ie.indexOf(W.keyPrefix)===0&&H.push(ie.substring(W.keyPrefix.length))}return H});return h(R,k),R}function Rh(k){var F=this,R=F.keys().then(function(W){return W.length});return h(R,k),R}function Mh(k,F){var R=this;k=g(k);var W=R.ready().then(function(){var Q=R._dbInfo;localStorage.removeItem(Q.keyPrefix+k)});return h(W,F),W}function It(k,F,R){var W=this;k=g(k);var Q=W.ready().then(function(){F===void 0&&(F=null);var H=F;return new d(function(te,ie){var ae=W._dbInfo;ae.serializer.serialize(F,function(ce,he){if(he)ie(he);else try{localStorage.setItem(ae.keyPrefix+k,ce),te(H)}catch(ke){(ke.name==="QuotaExceededError"||ke.name==="NS_ERROR_DOM_QUOTA_REACHED")&&ie(ke),ie(ke)}})})});return h(Q,R),Q}function rs(k,F){if(F=m.apply(this,arguments),k=typeof k!="function"&&k||{},!k.name){var R=this.config();k.name=k.name||R.name,k.storeName=k.storeName||R.storeName}var W=this,Q;return k.name?Q=new d(function(H){k.storeName?H(ni(k,W._defaultConfig)):H(k.name+"/")}).then(function(H){for(var te=localStorage.length-1;te>=0;te--){var ie=localStorage.key(te);ie.indexOf(H)===0&&localStorage.removeItem(ie)}}):Q=d.reject("Invalid arguments"),h(Q,F),Q}var Du={_driver:"localStorageWrapper",_initStorage:$r,_support:Hn(),iterate:kv,getItem:Ma,setItem:It,removeItem:Mh,clear:Ot,length:Rh,key:Ih,keys:Ph,dropInstance:rs},ja=function(F,R){return F===R||typeof F=="number"&&typeof R=="number"&&isNaN(F)&&isNaN(R)},Cv=function(F,R){for(var W=F.length,Q=0;Q<W;){if(ja(F[Q],R))return!0;Q++}return!1},Gl=Array.isArray||function(k){return Object.prototype.toString.call(k)==="[object Array]"},$u={},vE={},ql={INDEXEDDB:ze,WEBSQL:Cn,LOCALSTORAGE:Du},PB=[ql.INDEXEDDB._driver,ql.WEBSQL._driver,ql.LOCALSTORAGE._driver],jh=["dropInstance"],Tv=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(jh),RB={description:"",driver:PB.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function MB(k,F){k[F]=function(){var R=arguments;return k.ready().then(function(){return k[F].apply(k,R)})}}function Iv(){for(var k=1;k<arguments.length;k++){var F=arguments[k];if(F)for(var R in F)F.hasOwnProperty(R)&&(Gl(F[R])?arguments[0][R]=F[R].slice():arguments[0][R]=F[R])}return arguments[0]}var jB=function(){function k(F){o(this,k);for(var R in ql)if(ql.hasOwnProperty(R)){var W=ql[R],Q=W._driver;this[R]=Q,$u[Q]||this.defineDriver(W)}this._defaultConfig=Iv({},RB),this._config=Iv({},this._defaultConfig,F),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return k.prototype.config=function(R){if((typeof R>"u"?"undefined":s(R))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var W in R){if(W==="storeName"&&(R[W]=R[W].replace(/\W/g,"_")),W==="version"&&typeof R[W]!="number")return new Error("Database version must be a number.");this._config[W]=R[W]}return"driver"in R&&R.driver?this.setDriver(this._config.driver):!0}else return typeof R=="string"?this._config[R]:this._config},k.prototype.defineDriver=function(R,W,Q){var H=new d(function(te,ie){try{var ae=R._driver,ce=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!R._driver){ie(ce);return}for(var he=Tv.concat("_initStorage"),ke=0,et=he.length;ke<et;ke++){var At=he[ke],St=!Cv(jh,At);if((St||R[At])&&typeof R[At]!="function"){ie(ce);return}}var Tn=function(){for(var Fu=function(LB){return function(){var NB=new Error("Method "+LB+" is not implemented by the current driver"),yE=d.reject(NB);return h(yE,arguments[arguments.length-1]),yE}},Pv=0,VB=jh.length;Pv<VB;Pv++){var Rv=jh[Pv];R[Rv]||(R[Rv]=Fu(Rv))}};Tn();var _n=function(Fu){$u[ae]&&console.info("Redefining LocalForage driver: "+ae),$u[ae]=R,vE[ae]=Fu,te()};"_support"in R?R._support&&typeof R._support=="function"?R._support().then(_n,ie):_n(!!R._support):_n(!0)}catch(ki){ie(ki)}});return p(H,W,Q),H},k.prototype.driver=function(){return this._driver||null},k.prototype.getDriver=function(R,W,Q){var H=$u[R]?d.resolve($u[R]):d.reject(new Error("Driver not found."));return p(H,W,Q),H},k.prototype.getSerializer=function(R){var W=d.resolve(gt);return p(W,R),W},k.prototype.ready=function(R){var W=this,Q=W._driverSet.then(function(){return W._ready===null&&(W._ready=W._initDriver()),W._ready});return p(Q,R,R),Q},k.prototype.setDriver=function(R,W,Q){var H=this;Gl(R)||(R=[R]);var te=this._getSupportedDrivers(R);function ie(){H._config.driver=H.driver()}function ae(ke){return H._extend(ke),ie(),H._ready=H._initStorage(H._config),H._ready}function ce(ke){return function(){var et=0;function At(){for(;et<ke.length;){var St=ke[et];return et++,H._dbInfo=null,H._ready=null,H.getDriver(St).then(ae).catch(At)}ie();var Tn=new Error("No available storage method found.");return H._driverSet=d.reject(Tn),H._driverSet}return At()}}var he=this._driverSet!==null?this._driverSet.catch(function(){return d.resolve()}):d.resolve();return this._driverSet=he.then(function(){var ke=te[0];return H._dbInfo=null,H._ready=null,H.getDriver(ke).then(function(et){H._driver=et._driver,ie(),H._wrapLibraryMethodsWithReady(),H._initDriver=ce(te)})}).catch(function(){ie();var ke=new Error("No available storage method found.");return H._driverSet=d.reject(ke),H._driverSet}),p(this._driverSet,W,Q),this._driverSet},k.prototype.supports=function(R){return!!vE[R]},k.prototype._extend=function(R){Iv(this,R)},k.prototype._getSupportedDrivers=function(R){for(var W=[],Q=0,H=R.length;Q<H;Q++){var te=R[Q];this.supports(te)&&W.push(te)}return W},k.prototype._wrapLibraryMethodsWithReady=function(){for(var R=0,W=Tv.length;R<W;R++)MB(this,Tv[R])},k.prototype.createInstance=function(R){return new k(R)},k}(),OB=new jB;r.exports=OB},{3:3}]},{},[4])(4)})})(Zj);var e3=Zj.exports;const Bd=hr(e3),t3=OR({__proto__:null,default:Bd},[e3]);let Yu=null;async function zg(){if(!Yu)if("localStorage"in globalThis)try{Yu=ku(()=>Promise.resolve().then(()=>t3),void 0).then(({default:e})=>e.createInstance({name:"localforage"}))}catch(e){console.error(e),Yu=Promise.resolve(Oe.memory)}else Yu=Promise.resolve(Oe.memory);return Yu}const Zc=e=>no.generateSongFile(e),n3=async e=>{var n;const t=Zc(e);return await((n=await zg())==null?void 0:n.getItem(t))||{plays:0,scores:[]}},r3=async(e,t)=>{var n;await((n=await zg())==null?void 0:n.setItem(Zc(e),t))},aW=async()=>{var n;const e=await((n=await zg())==null?void 0:n.keys())??[],t={};return await Promise.all(e.map(async r=>{var i;t[r]=await((i=await zg())==null?void 0:i.getItem(r))})),t};ee.songEnded.subscribe(async(e,t,n,r)=>{if(n.every(o=>o.score===0))return;let i=await(Bd==null?void 0:Bd.getItem(Zc(e)));const s={setup:t,scores:n,date:new Date().toISOString(),progress:r};i?(i.scores=[...(i==null?void 0:i.scores)??[],s],i.plays=i.scores.length):i={plays:1,scores:[s]},await r3(e,i),ee.songStatStored.dispatch(Zc(e),i)});const eu="session-player-names",lW="previous-player-names";function cW(e){return e!=null}ee.songStarted.subscribe((e,t)=>{let n=JSON.parse(Oe.session.getItem(eu))||[];const r=t.players.map(({number:s})=>Me.getPlayer(s)).filter(cW).map(s=>s.getName().trim()),i=[...n].concat(...r);n=[...new Set(i)].filter(Boolean),Oe.session.setItem(eu,JSON.stringify(n)),Oe.session.setItem(lW,JSON.stringify(r))});ee.songScoreUpdated.subscribe((e,t,n)=>{let r=JSON.parse(Oe.session.getItem(eu))||[];const i=[...r].concat(n);r=[...new Set(i)].filter(Boolean),Oe.session.setItem(eu,JSON.stringify(r))});function uW(e,t){const n=t<0?e.length+t:t;return e[n]}[].at||(Array.prototype.at=function(e){return uW(this,e)});[].findLastIndex||(Array.prototype.findLastIndex=function(e,t){for(let n=this.length-1;n>=0;n--)if(e.call(t,this[n],n,this))return n;return-1});var dW="Expected a function";function Rc(e,t,n){var r=!0,i=!0;if(typeof e!="function")throw new TypeError(dW);return Es(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Sj(e,t,{leading:r,maxWait:t,trailing:i})}class fW extends Is{constructor(){super(...arguments),this.stream=null,this.context=null,this.interval=null,this.frequencies=[0,0],this.volumes=[0,0],this.startedMonitoring=!1,this.startMonitoring=async(t,n=!1)=>{if(!this.startedMonitoring){this.startedMonitoring=!0;try{this.stream=await aa.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!1},video:!1});try{this.context=new AudioContext;const r=this.context.createMediaStreamSource(this.stream),i=this.context.createAnalyser();i.fftSize=2048,i.minDecibels=-100,r.connect(i);const s=new yj;await s.init(this.context,i.fftSize),this.interval=setInterval(async()=>{const o=new Float32Array(i.fftSize);i.getFloatTimeDomainData(o);const a=await s.getFrequency(o),l=this.calculateVolume(o);this.frequencies=[a,a],this.volumes=[l,l],this.onUpdate(a,l)},this.context.sampleRate/i.fftSize),ee.micMonitoringStarted.dispatch()}catch(r){to(r),console.error(r)}}catch(r){to(r,{level:"warning",extra:{message:"SimplifiedMic.startMonitoring"}}),console.warn(r)}}},this.getFrequencies=()=>this.frequencies,this.getVolumes=()=>this.volumes,this.clearFrequencies=t=>{},this.stopMonitoring=async()=>{var t,n;if(this.startedMonitoring){this.startedMonitoring=!1,this.interval&&clearInterval(this.interval),(t=this.stream)==null||t.getTracks().forEach(function(r){r.stop()});try{await((n=this.context)==null?void 0:n.close())}catch(r){console.log("MicInput.stoMonitoring error",r)}ee.micMonitoringStopped.dispatch()}},this.getInputLag=()=>180,this.requestReadiness=()=>Promise.resolve(!0),this.getStatus=()=>"ok"}calculateVolume(t){let n,r=0;for(n=0;n<t.length;++n)r+=t[n]*t[n];return Math.sqrt(r/t.length)}}const cs=new fW;class hW extends Is{constructor(){super(...arguments),this.connection=null,this.roomId=null,this.isConnected=()=>{var t;return(((t=this.connection)==null?void 0:t.readyState)??1/0)<2},this.close=()=>{var t;(t=this.connection)==null||t.close()}}connect(t,n,r,i,s){this.roomId=n,this.connection=new WebSocket(`${Tj}/party/${n}`),this.connection.binaryType="arraybuffer",this.connection.onopen=()=>{var o;(o=this.connection)==null||o.send(eo({t:"register-player",id:t,roomId:n}))},this.connection.onmessage=o=>{const a=mu(o.data);a.t==="forward"?this.onUpdate(a.payload):a.t==="connected"&&r()},this.connection.onclose=o=>{var l;let a="unknown";try{a=(l=JSON.parse(o.reason))==null?void 0:l.error}catch{console.info("could not parse close reason",o)}this.clearAllListeners(),i(a,o)},this.connection.onerror=o=>{this.clearAllListeners(),s("error",o)}}sendEvent(t){var n;(n=this.connection)==null||n.send(eo({t:"forward",recipients:[this.roomId],payload:t}))}}class pW extends Is{constructor(){super(...arguments),this.peer=null,this.connection=null,this.unavailableIdRetries=0,this.unavailableIdRetryTimeout=null,this.connectToRoom=(t,n,r)=>{var i;this.connection=this.peer.connect(`allkaraoke-party-room-${t}`),this.connection.on("open",()=>{n()}),this.connection.on("close",()=>r("closed",null)),(i=this.connection)==null||i.on("data",s=>{console.log(s),this.onUpdate(s)})},this.isConnected=()=>{var t,n;return!!((t=this.connection)!=null&&t.open)&&!((n=this.peer)!=null&&n.disconnected)},this.close=()=>{var t;(t=this.connection)==null||t.close()}}connect(t,n,r,i,s){this.peer&&!this.peer.disconnected?this.connectToRoom(n,r,i):(this.peer=new h0(t,{...Ij,debug:3}),this.peer.on("open",()=>{this.connectToRoom(n,r,i)}),this.peer.on("error",o=>{var a,l;o.type==="unavailable-id"&&this.unavailableIdRetries<3&&this.unavailableIdRetryTimeout===null?((l=(a=this.peer)==null?void 0:a.destroy)==null||l.call(a),this.unavailableIdRetryTimeout=setTimeout(()=>{this.unavailableIdRetryTimeout=null,this.unavailableIdRetries++,this.connect(t,n,r,i,s)},1750)):(this.unavailableIdRetries=0,console.error(o.type,o),i(o.type,o))}))}sendEvent(t){var n;(n=this.connection)==null||n.send(t)}}class gW extends Is{constructor(){super(...arguments),this.connection=null,this.roomId=null,this.isConnected=()=>{var t;return(((t=this.connection)==null?void 0:t.readyState)??1/0)<2},this.close=()=>{var t;(t=this.connection)==null||t.close()}}connect(t,n,r,i,s){this.roomId=n,this.connection=new WebSocket(Lj),this.connection.binaryType="arraybuffer",this.connection.onopen=()=>{var o;(o=this.connection)==null||o.send(eo({t:"register-player",id:t,roomId:n}))},this.connection.onmessage=o=>{const a=mu(o.data);a.t==="forward"?this.onUpdate(a.payload):a.t==="connected"&&r()},this.connection.onclose=o=>{var l;let a="unknown";try{a=(l=JSON.parse(o.reason))==null?void 0:l.error}catch{console.info("could not parse close reason",o)}this.clearAllListeners(),i(a,o)},this.connection.onerror=o=>{this.clearAllListeners(),s("error",o)}}sendEvent(t){var n;(n=this.connection)==null||n.send(eo({t:"forward",recipients:[this.roomId],payload:t}))}}const lC=(e,t)=>{if(e===0)return 0;const n=Math.pow(10,t);return Math.round(e*n)/n};let tp;const mW=new Uint8Array(16);function vW(){if(!tp&&(tp=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!tp))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return tp(mW)}const ir=[];for(let e=0;e<256;++e)ir.push((e+256).toString(16).slice(1));function yW(e,t=0){return ir[e[t+0]]+ir[e[t+1]]+ir[e[t+2]]+ir[e[t+3]]+"-"+ir[e[t+4]]+ir[e[t+5]]+"-"+ir[e[t+6]]+ir[e[t+7]]+"-"+ir[e[t+8]]+ir[e[t+9]]+"-"+ir[e[t+10]]+ir[e[t+11]]+ir[e[t+12]]+ir[e[t+13]]+ir[e[t+14]]+ir[e[t+15]]}const AW=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),cC={randomUUID:AW};function Ug(e,t,n){if(cC.randomUUID&&!t&&!e)return cC.randomUUID();e=e||{};const r=e.random||(e.rng||vW)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(let i=0;i<16;++i)t[n+i]=r[i];return t}return yW(r)}const C1="MIC_CLIENT_ID";class _W{constructor(){this.clientId=Oe.getItem(C1),this.roomId=null,this.reconnecting=!1,this.connected=!1,this.frequencies=[],this.sendFrequencies=Rc(t=>{const n=this.frequencies.map(r=>lC(r,2));this.frequencies.length=0,this.sendEvent("freq",[n,lC(t,4)])},50),this.onFrequencyUpdate=Rc((t,n)=>{this.frequencies.push(t),this.sendFrequencies(n)},1e3/60),this.getClientId=()=>this.clientId,this.setClientId=t=>{this.clientId=t,Oe.setItem(C1,t)},this.connect=(t,n,r)=>{const i=t.toLowerCase();if(this.transport||(this.transport=i.startsWith("w")?new gW:i.startsWith("k")?new hW:new pW),this.clientId===null&&this.setClientId(Ug()),this.roomId=i,this.transport.isConnected()){console.log("not reconnecting",this.transport);return}this.reconnecting||ee.karaokeConnectionStatusChange.dispatch("connecting"),this.transport.connect(this.clientId,this.roomId,()=>{this.connectToServer(i,n,r)},(s,o)=>{var a;if(s==="unavailable-id"){this.setClientId(Ug()),this.connect(i,n,r);return}console.log("closed connection :o",s,o),global.removeEventListener("beforeunload",this.disconnect),this.reconnecting?ee.karaokeConnectionStatusChange.dispatch("reconnecting"):this.connected?ee.karaokeConnectionStatusChange.dispatch("disconnected"):(ee.karaokeConnectionStatusChange.dispatch("error",s),Vn.capture("remote_mic_connection_error",{reason:s,transport:(a=this.roomId)==null?void 0:a.charAt(0)})),ee.remoteMicPlayerSet.dispatch(null),ee.remoteKeyboardLayout.dispatch(void 0),cs.removeListener(this.onFrequencyUpdate),cs.stopMonitoring(),!this.reconnecting&&this.connected&&(this.reconnecting=!0,setTimeout(()=>this.reconnect(i,n),1500)),this.connected=!1},console.warn)},this.latency=999,this.pingStart=Lr(),this.pinging=!1,this.ping=()=>{this.pinging=!0,this.pingStart=Lr(),this.sendEvent("ping",{p:this.pingStart})},this.reportPing=Rc(t=>Vn.capture("remote_mic_ping",{ping:t}),1e4),this.onPong=()=>{this.latency=Lr()-this.pingStart,this.pinging=!1,this.reportPing(this.latency),setTimeout(this.ping,2e3)},this.connectToServer=(t,n,r)=>{var i;this.connected=!0,this.reconnecting=!1,ee.karaokeConnectionStatusChange.dispatch("connected"),Vn.capture("remote_mic_connection_successful",{transport:(i=this.roomId)==null?void 0:i.charAt(0)}),this.sendEvent("register",{name:n,id:this.clientId,silent:r,lag:r5.get()}),this.ping(),global==null||global.addEventListener("beforeunload",this.disconnect),this.transport.addListener(s=>{var a,l;const o=s.t;o==="start-monitor"?(cs.removeListener(this.onFrequencyUpdate),cs.addListener(this.onFrequencyUpdate),cs.startMonitoring(void 0,!0)):o==="stop-monitor"?(cs.removeListener(this.onFrequencyUpdate),cs.stopMonitoring()):o==="set-player-number"?ee.remoteMicPlayerSet.dispatch(s.playerNumber):o==="keyboard-layout"?ee.remoteKeyboardLayout.dispatch(s.help):o==="reload-mic"?(global.removeEventListener("beforeunload",this.disconnect),this.sendEvent("unregister"),Oe.session.setItem("reload-mic-request","1"),(a=document.getElementById("phone-ui-container"))==null||a.remove(),(l=global.location)==null||l.reload()):o==="request-readiness"?ee.remoteReadinessRequested.dispatch():o==="pong"?this.onPong():o==="ping"?this.sendEvent("pong"):o==="set-permissions"?ee.remoteMicPermissionsSet.dispatch(s.level):o==="remote-mics-list"?ee.remoteMicListUpdated.dispatch(s.list):o==="style-change"&&ee.remoteStyleChanged.dispatch(s.style)})},this.reconnect=(t,n)=>{this.reconnecting&&(ee.karaokeConnectionStatusChange.dispatch("reconnecting"),this.connect(t,n,!1),setTimeout(()=>this.reconnect(t,n),2e3))},this.sendKeyStroke=t=>{this.sendEvent("keystroke",{key:t})},this.searchSong=t=>{this.sendEvent("search-song",{search:t})},this.selectSong=t=>{this.sendEvent("select-song",{id:t})},this.requestPlayerChange=(t,n)=>{this.sendEvent("request-mic-select",{id:t,playerNumber:n})},this.confirmReadiness=()=>{this.sendEvent("confirm-readiness")},this.subscribe=t=>{this.sendEvent("subscribe-event",{channel:t})},this.unsubscribe=t=>{this.sendEvent("unsubscribe-event",{channel:t})},this.getSongList=()=>this.sendRequest({t:"request-songlist"},"songlist"),this.getGameInputLag=()=>this.sendRequest({t:"get-game-input-lag-request"},"get-game-input-lag-response"),this.setGameInputLag=t=>this.sendRequest({t:"set-game-input-lag-request",value:t},"get-game-input-lag-response"),this.getMicrophoneInputLag=()=>this.sendRequest({t:"get-microphone-lag-request"},"get-microphone-lag-response"),this.setMicrophoneInputLag=t=>this.sendRequest({t:"set-microphone-lag-request",value:t},"get-microphone-lag-response"),this.sendEvent=(t,n)=>{var r;(r=this.transport)!=null&&r.isConnected()?this.transport.sendEvent({t,...n}):console.debug("not connected, skipping",t,n)},this.sendRequest=({t,...n},r)=>new Promise((i,s)=>{var l;const o=setTimeout(()=>{var c;(c=this.transport)==null||c.removeListener(a),s(`${t} timed out waiting for ${r}`)},1e4),a=c=>{var u;c.t===r&&(clearTimeout(o),(u=this.transport)==null||u.removeListener(a),i(c))};(l=this.transport)==null||l.addListener(a),this.sendEvent(t,n)}),this.disconnect=()=>{var t;(t=this.transport)==null||t.close()}}}const pn=new _W,bW="/prs/284/assets/2020-12-16_-_Christmas_Rock_-_www.FesliyanStudios.com_Steve_Oxen-DMCunqoI.ogg",SW="/prs/284/assets/376817__original_sound__impact-cinematic-CwEVHJ3C.ogg",xW="/prs/284/assets/421888__b-sean__retro-CErSO5v-.ogg",wW="/prs/284/assets/459342__papaninkasettratat__cinematic-music-short-rn-rfKrG.ogg",EW="/prs/284/assets/60013__qubodup__whoosh-CRSX-bwR.mp3",kW="/prs/284/assets/Funk%20Cool%20Groove%20(No%20Copyright%20Music)%20By%20Anwar%20Amr-Chfv45i1.ogg",CW="/prs/284/assets/menu_back-CXKu2j7w.mp3",TW="data:audio/mpeg;base64,SUQzBAAAAAAAIlRTU0UAAAAOAAADTGF2ZjYwLjMuMTAwAAAAAAAAAAAAAAD/+1QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABYaW5nAAAADwAAABMAAA04AEFBQUFBZWVlZWV/f39/f5GRkZGRkZqampqaoaGhoaGoqKioqLCwsLCwsLe3t7e3vr6+vr7FxcXFxc3Nzc3NzdTU1NTU29vb29vi4uLi4urq6urq6vHx8fHx+Pj4+Pj//////wAAAABMYXZjNjAuMy4AAAAAAAAAAAAAAAAkAuUAAAAAAAANOLGcZrL/+8REAAEA/ADLaAAACh+AGY0AAAFGhC0ZtYMAKP4GYzKwkAUAFJyXj/AAAB7QAAB4eHh4YYAOM////jh4eAAAAAIw8AlNybj/AAAB/AAADw8PDwxwAAGf///5h4eAAAAAIw9hSJuIlQJTskunEz5RFv1Y2byK7n/97llcFmmyCgoMFBQUFAoKCgoMFDX////qAoKChQUFESxJ2AfoAZiMJDhIyAqTJk81xxarn/97lWmgXEJCQoUJCChQUFBQSCgoKChQUv//6YKFAoKCgwUFBQUhBQU0WgEEAFZUiUdVZ7urwsAwAAAoTmeCxjBAdkrnZm5gCuz2BTRyEx8VJUhukDsoNVBjExsWZAsIvo6ZtcOZTJhAKFQlp6a7oGrhgQ1GypacseeN5GgM7LimCHZWKo200F2pFIbcrBxGTFxgYmAAQQh6wspcVlNfLCxvO2HAzIQgDZSzJWt9XFnYFf27////7/0ko32xTymMyqLclUq8QECiT3+7//+laf///9uMHyGvGu2u2so2EgAAAAADIAEGFguPUQDJhoMKHjtm/ExnBISAuP5tq7A0VjIBuAgFjyzu0ITEAhWvB/0sPUTU5MzMnhocNpDqll1v/GBSiOTAAAWq/agAGAMGDkG2YBxmZlUXgGO2D0YAgS4cGyYBIAoNAqIQNjBRA4BAFZgOABuLCYbR9W0P1ijMzWyHU3rL3T2m1K3RtqSLDrfcC31jHuH9r6RUOFIwt0G+T2Y9yNS/FrmLTOcX1qpRxdapf/+f4gPaOLN2fYACixdruAAAHzMDQmBJhGTdzmMADioJDwTNcGAFKgEmAwApvBgDS6/hLpkYzDFewH6hgRt+3pCrr5/3651XUGvoTGe1AAACh1ZV5WQADAgMzFkSzVCXT2T/+6Rk5IAFRzBLfm9kgFGDij/NsCRO4MEnXeeAIQ0NZLe68ATIzWYcjI0FQUTAYG4GARMBYUYAQQoAsBHktFznLy0sSlohrcySM0V97trfW6mUEZ4r3G0Su6apFIYlLPRjDC0HKnNGDPCbCtAP2eeEAA3ZmhL+AAAG5JEGTcHdpB80aHvkDv0YiAhA2mHHOna1doX/uZ6qnnDUzTgKUABohnh230QAAMbEBQnNCETYME2cNbMBjy7BqoGICdqx1SsFklW0zpKswQnCikdnsJ4tsbhp/ASpfR1JaY61CrDJgx/F3EWoNSoEVBqRvuTG5yhcItANgUThn9//+tgCHmIeH3wBoCkKCxgISgSstpAzImgHGYaQ6AVraQgJgaXZN2SAGyriKC3mDpVtvoo5FXA4mYiIj/aAABUhpCZgEAUnGtWKCEAZ/BEFQDhceXTMw8yUktRRlhhbRJYUkSpDzpdNaErxzPiWxVMqtHMxstZL1/1froSdU2dnUSBCnAUUTDiw2FdX+MCo0MrMuDAAAE84aw5jGXtZrP0+3AGAJVVUyjYENrIhERZuDyP8PUISzy7xH/4MlwUJsBBcI7GR4DyaWF6iCwni4hbZmGQWTQIi6L3h+abmhZzs1OZ7gOu0RcL/+4Rk6AAS+iLI+68a+C5DOV9rAxlLuHch7eXlYMgNZP2WFVzAmUIpCmxCchkYSLdCTM0X2sVgAjJ+gEAnQkJe1v9aZjJCCJfFH1YIagNfLtAJODmCQtYaPzBF//yVIIAAAUHjJAVCHeXwjlgBxVOjKgO1ddIsKHgBBT1MQU1FMy4xMDBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVAAABzCFdZkkAAAsCDOBkGYUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVQ0kMkxBTUUzLjEwMKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqoZVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+2Rk7wEStyFJ+08a+icCKR9h4ycGxGkp7CSn6HKE4u2GCJRVVVVVVVVVVVVVVVVVVVVVSUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVSUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjH/+yRk7Idw1QbEowxBAA1AyIgl4wMBUA0PBWMAIBUBolQUmAYwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk6g9wQAJDKU8ACARASJUEQAEAXAsOA4wgIAaAYgAQAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4w/wDwDEAMAACAAAD/AAAAEAGAMUAQAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4o/wBgDEgEAACAAAD/AAAAEADAMaAIAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4g/wAwDGACAACAAAD/AAAAEADAMWAIAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4g/wAwDFgCAACAAAD/AAAAEADAMUAIAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRE4Y/wAAB/gAAACAAAD/AAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRE4Y/wAAB/gAAACAAAD/AAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRE4Y/wAAB/gAAACAAAD/AAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4Y/wAAB/gAAACAAAD/AAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4Y/wAAB/gAAACAAAD/AAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4Y/wAAB/gAAACAAADSAAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4Y/wAAB/gAAACAAAD/AAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4Y/wAAB/gAAACAAAD/AAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4Y/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVU=",IW="/prs/284/assets/menu_navigate-C6GUIZQM.mp3";class Vo{constructor(t){this.options=t,this.sound=null,this.play=async(n=!0)=>{var r,i;try{if(n&&this.playing()){const s=(r=this.sound)==null?void 0:r.cloneNode(!0);await s.play(),s.remove()}else await((i=this.sound)==null?void 0:i.play())}catch(s){return console.warn(s)}},this.pause=()=>{var n;(n=this.sound)==null||n.pause()},this.stop=()=>{this.sound&&(this.sound.pause(),this.sound.currentTime=0)},this.playing=()=>{var n;return!((n=this.sound)!=null&&n.paused)},global.Audio&&(this.sound=new Audio(t.src),this.sound.preload=t.preload?"auto":"none",this.sound.volume=t.volume??1,this.sound.loop=t.loop??!1)}}const v0=new Vo({src:IW}),kS=new Vo({src:TW}),CS=new Vo({src:CW}),i3=new Vo({src:SW,preload:!0}),TS=new Vo({src:EW,preload:!0,volume:.5}),s3=new Vo({src:kW,volume:.3,loop:!0}),o3=new Vo({src:xW,volume:.4,loop:!0}),a3=new Vo({src:bW,volume:.25,loop:!0}),Yp=new Vo({src:wW,volume:.8}),PW=Object.freeze(Object.defineProperty({__proto__:null,backgroundMusic:s3,christmasBackgroundMusic:a3,classicBackgroundMusic:o3,menuBack:CS,menuEnter:kS,menuNavigate:v0,waitFinished:i3,waitForReadinessMusic:Yp,woosh:TS},Symbol.toStringTag,{value:"Module"})),RW={RemoteMicClient:pn,RemoteMicServer:ll,GameState:Ne,GameEvents:ee,RemoteMicManager:Ze,SongDao:no,InputManager:gn,InputSourceManager:ko,CameraManager:ps,UserMediaService:aa,PlayersManager:Me,SoundManager:PW,importSongs:async()=>{await(await ku(()=>import("./importSongsFromPostHog-Du5nSD6p.js"),[])).default()}};global.__exposeSingletons=()=>{global.__singletons=RW};console.log("Run global.__exposeSingletons() and inspect global.__singletons for debugging");function MW(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function jW(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var OW=function(){function e(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(jW(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=MW(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},e}(),Ar="-ms-",Hg="-moz-",mt="-webkit-",l3="comm",IS="rule",PS="decl",VW="@import",c3="@keyframes",LW="@layer",NW=Math.abs,y0=String.fromCharCode,BW=Object.assign;function DW(e,t){return lr(e,0)^45?(((t<<2^lr(e,0))<<2^lr(e,1))<<2^lr(e,2))<<2^lr(e,3):0}function u3(e){return e.trim()}function $W(e,t){return(e=t.exec(e))?e[0]:e}function vt(e,t,n){return e.replace(t,n)}function T1(e,t){return e.indexOf(t)}function lr(e,t){return e.charCodeAt(t)|0}function vf(e,t,n){return e.slice(t,n)}function Bs(e){return e.length}function RS(e){return e.length}function np(e,t){return t.push(e),e}function FW(e,t){return e.map(t).join("")}var A0=1,tu=1,d3=0,Xr=0,jn=0,Tu="";function _0(e,t,n,r,i,s,o){return{value:e,root:t,parent:n,type:r,props:i,children:s,line:A0,column:tu,length:o,return:""}}function Qu(e,t){return BW(_0("",null,null,"",null,null,0),e,{length:-e.length},t)}function zW(){return jn}function UW(){return jn=Xr>0?lr(Tu,--Xr):0,tu--,jn===10&&(tu=1,A0--),jn}function hi(){return jn=Xr<d3?lr(Tu,Xr++):0,tu++,jn===10&&(tu=1,A0++),jn}function Qs(){return lr(Tu,Xr)}function Qp(){return Xr}function oh(e,t){return vf(Tu,e,t)}function yf(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function f3(e){return A0=tu=1,d3=Bs(Tu=e),Xr=0,[]}function h3(e){return Tu="",e}function Jp(e){return u3(oh(Xr-1,I1(e===91?e+2:e===40?e+1:e)))}function HW(e){for(;(jn=Qs())&&jn<33;)hi();return yf(e)>2||yf(jn)>3?"":" "}function GW(e,t){for(;--t&&hi()&&!(jn<48||jn>102||jn>57&&jn<65||jn>70&&jn<97););return oh(e,Qp()+(t<6&&Qs()==32&&hi()==32))}function I1(e){for(;hi();)switch(jn){case e:return Xr;case 34:case 39:e!==34&&e!==39&&I1(jn);break;case 40:e===41&&I1(e);break;case 92:hi();break}return Xr}function qW(e,t){for(;hi()&&e+jn!==57;)if(e+jn===84&&Qs()===47)break;return"/*"+oh(t,Xr-1)+"*"+y0(e===47?e:hi())}function WW(e){for(;!yf(Qs());)hi();return oh(e,Xr)}function KW(e){return h3(Xp("",null,null,null,[""],e=f3(e),0,[0],e))}function Xp(e,t,n,r,i,s,o,a,l){for(var c=0,u=0,d=o,h=0,p=0,g=0,m=1,_=1,v=1,A=0,S="",x=i,b=s,w=r,E=S;_;)switch(g=A,A=hi()){case 40:if(g!=108&&lr(E,d-1)==58){T1(E+=vt(Jp(A),"&","&\f"),"&\f")!=-1&&(v=-1);break}case 34:case 39:case 91:E+=Jp(A);break;case 9:case 10:case 13:case 32:E+=HW(g);break;case 92:E+=GW(Qp()-1,7);continue;case 47:switch(Qs()){case 42:case 47:np(YW(qW(hi(),Qp()),t,n),l);break;default:E+="/"}break;case 123*m:a[c++]=Bs(E)*v;case 125*m:case 59:case 0:switch(A){case 0:case 125:_=0;case 59+u:v==-1&&(E=vt(E,/\f/g,"")),p>0&&Bs(E)-d&&np(p>32?dC(E+";",r,n,d-1):dC(vt(E," ","")+";",r,n,d-2),l);break;case 59:E+=";";default:if(np(w=uC(E,t,n,c,u,i,a,S,x=[],b=[],d),s),A===123)if(u===0)Xp(E,t,w,w,x,s,d,a,b);else switch(h===99&&lr(E,3)===110?100:h){case 100:case 108:case 109:case 115:Xp(e,w,w,r&&np(uC(e,w,w,0,0,i,a,S,i,x=[],d),b),i,b,d,a,r?x:b);break;default:Xp(E,w,w,w,[""],b,0,a,b)}}c=u=p=0,m=v=1,S=E="",d=o;break;case 58:d=1+Bs(E),p=g;default:if(m<1){if(A==123)--m;else if(A==125&&m++==0&&UW()==125)continue}switch(E+=y0(A),A*m){case 38:v=u>0?1:(E+="\f",-1);break;case 44:a[c++]=(Bs(E)-1)*v,v=1;break;case 64:Qs()===45&&(E+=Jp(hi())),h=Qs(),u=d=Bs(S=E+=WW(Qp())),A++;break;case 45:g===45&&Bs(E)==2&&(m=0)}}return s}function uC(e,t,n,r,i,s,o,a,l,c,u){for(var d=i-1,h=i===0?s:[""],p=RS(h),g=0,m=0,_=0;g<r;++g)for(var v=0,A=vf(e,d+1,d=NW(m=o[g])),S=e;v<p;++v)(S=u3(m>0?h[v]+" "+A:vt(A,/&\f/g,h[v])))&&(l[_++]=S);return _0(e,t,n,i===0?IS:a,l,c,u)}function YW(e,t,n){return _0(e,t,n,l3,y0(zW()),vf(e,2,-2),0)}function dC(e,t,n,r){return _0(e,t,n,PS,vf(e,0,r),vf(e,r+1,-1),r)}function Mc(e,t){for(var n="",r=RS(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function QW(e,t,n,r){switch(e.type){case LW:if(e.children.length)break;case VW:case PS:return e.return=e.return||e.value;case l3:return"";case c3:return e.return=e.value+"{"+Mc(e.children,r)+"}";case IS:e.value=e.props.join(",")}return Bs(n=Mc(e.children,r))?e.return=e.value+"{"+n+"}":""}function JW(e){var t=RS(e);return function(n,r,i,s){for(var o="",a=0;a<t;a++)o+=e[a](n,r,i,s)||"";return o}}function XW(e){return function(t){t.root||(t=t.return)&&e(t)}}function p3(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var ZW=function(t,n,r){for(var i=0,s=0;i=s,s=Qs(),i===38&&s===12&&(n[r]=1),!yf(s);)hi();return oh(t,Xr)},eK=function(t,n){var r=-1,i=44;do switch(yf(i)){case 0:i===38&&Qs()===12&&(n[r]=1),t[r]+=ZW(Xr-1,n,r);break;case 2:t[r]+=Jp(i);break;case 4:if(i===44){t[++r]=Qs()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=y0(i)}while(i=hi());return t},tK=function(t,n){return h3(eK(f3(t),n))},fC=new WeakMap,nK=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,i=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!fC.get(r))&&!i){fC.set(t,!0);for(var s=[],o=tK(n,s),a=r.props,l=0,c=0;l<o.length;l++)for(var u=0;u<a.length;u++,c++)t.props[c]=s[l]?o[l].replace(/&\f/g,a[u]):a[u]+" "+o[l]}}},rK=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function g3(e,t){switch(DW(e,t)){case 5103:return mt+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return mt+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return mt+e+Hg+e+Ar+e+e;case 6828:case 4268:return mt+e+Ar+e+e;case 6165:return mt+e+Ar+"flex-"+e+e;case 5187:return mt+e+vt(e,/(\w+).+(:[^]+)/,mt+"box-$1$2"+Ar+"flex-$1$2")+e;case 5443:return mt+e+Ar+"flex-item-"+vt(e,/flex-|-self/,"")+e;case 4675:return mt+e+Ar+"flex-line-pack"+vt(e,/align-content|flex-|-self/,"")+e;case 5548:return mt+e+Ar+vt(e,"shrink","negative")+e;case 5292:return mt+e+Ar+vt(e,"basis","preferred-size")+e;case 6060:return mt+"box-"+vt(e,"-grow","")+mt+e+Ar+vt(e,"grow","positive")+e;case 4554:return mt+vt(e,/([^-])(transform)/g,"$1"+mt+"$2")+e;case 6187:return vt(vt(vt(e,/(zoom-|grab)/,mt+"$1"),/(image-set)/,mt+"$1"),e,"")+e;case 5495:case 3959:return vt(e,/(image-set\([^]*)/,mt+"$1$`$1");case 4968:return vt(vt(e,/(.+:)(flex-)?(.*)/,mt+"box-pack:$3"+Ar+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+mt+e+e;case 4095:case 3583:case 4068:case 2532:return vt(e,/(.+)-inline(.+)/,mt+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Bs(e)-1-t>6)switch(lr(e,t+1)){case 109:if(lr(e,t+4)!==45)break;case 102:return vt(e,/(.+:)(.+)-([^]+)/,"$1"+mt+"$2-$3$1"+Hg+(lr(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~T1(e,"stretch")?g3(vt(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(lr(e,t+1)!==115)break;case 6444:switch(lr(e,Bs(e)-3-(~T1(e,"!important")&&10))){case 107:return vt(e,":",":"+mt)+e;case 101:return vt(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+mt+(lr(e,14)===45?"inline-":"")+"box$3$1"+mt+"$2$3$1"+Ar+"$2box$3")+e}break;case 5936:switch(lr(e,t+11)){case 114:return mt+e+Ar+vt(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return mt+e+Ar+vt(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return mt+e+Ar+vt(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return mt+e+Ar+e+e}return e}var iK=function(t,n,r,i){if(t.length>-1&&!t.return)switch(t.type){case PS:t.return=g3(t.value,t.length);break;case c3:return Mc([Qu(t,{value:vt(t.value,"@","@"+mt)})],i);case IS:if(t.length)return FW(t.props,function(s){switch($W(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Mc([Qu(t,{props:[vt(s,/:(read-\w+)/,":"+Hg+"$1")]})],i);case"::placeholder":return Mc([Qu(t,{props:[vt(s,/:(plac\w+)/,":"+mt+"input-$1")]}),Qu(t,{props:[vt(s,/:(plac\w+)/,":"+Hg+"$1")]}),Qu(t,{props:[vt(s,/:(plac\w+)/,Ar+"input-$1")]})],i)}return""})}},sK=[iK],MS=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(m){var _=m.getAttribute("data-emotion");_.indexOf(" ")!==-1&&(document.head.appendChild(m),m.setAttribute("data-s",""))})}var i=t.stylisPlugins||sK,s={},o,a=[];o=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(m){for(var _=m.getAttribute("data-emotion").split(" "),v=1;v<_.length;v++)s[_[v]]=!0;a.push(m)});var l,c=[nK,rK];{var u,d=[QW,XW(function(m){u.insert(m)})],h=JW(c.concat(i,d)),p=function(_){return Mc(KW(_),h)};l=function(_,v,A,S){u=A,p(_?_+"{"+v.styles+"}":v.styles),S&&(g.inserted[v.name]=!0)}}var g={key:n,sheet:new OW({key:n,container:o,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:s,registered:{},insert:l};return g.sheet.hydrate(a),g};function P1(){return P1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},P1.apply(this,arguments)}var oK=!0;function aK(e,t,n){var r="";return n.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):r+=i+" "}),r}var m3=function(t,n,r){var i=t.key+"-"+n.name;(r===!1||oK===!1)&&t.registered[i]===void 0&&(t.registered[i]=n.styles)},v3=function(t,n,r){m3(t,n,r);var i=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var s=n;do t.insert(n===s?"."+i:"",s,t.sheet,!0),s=s.next;while(s!==void 0)}};function lK(e){for(var t=0,n,r=0,i=e.length;i>=4;++r,i-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var cK={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},uK=/[A-Z]|^ms/g,dK=/_EMO_([^_]+?)_([^]*?)_EMO_/g,y3=function(t){return t.charCodeAt(1)===45},hC=function(t){return t!=null&&typeof t!="boolean"},oy=p3(function(e){return y3(e)?e:e.replace(uK,"-$&").toLowerCase()}),pC=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(dK,function(r,i,s){return Ds={name:i,styles:s,next:Ds},i})}return cK[t]!==1&&!y3(t)&&typeof n=="number"&&n!==0?n+"px":n};function Af(e,t,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return Ds={name:n.name,styles:n.styles,next:Ds},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)Ds={name:r.name,styles:r.styles,next:Ds},r=r.next;var i=n.styles+";";return i}return fK(e,t,n)}case"function":{if(e!==void 0){var s=Ds,o=n(e);return Ds=s,Af(e,t,o)}break}}if(t==null)return n;var a=t[n];return a!==void 0?a:n}function fK(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Af(e,t,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object")t!=null&&t[o]!==void 0?r+=s+"{"+t[o]+"}":hC(o)&&(r+=oy(s)+":"+pC(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(t==null||t[o[0]]===void 0))for(var a=0;a<o.length;a++)hC(o[a])&&(r+=oy(s)+":"+pC(s,o[a])+";");else{var l=Af(e,t,o);switch(s){case"animation":case"animationName":{r+=oy(s)+":"+l+";";break}default:r+=s+"{"+l+"}"}}}return r}var gC=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Ds,jS=function(t,n,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var i=!0,s="";Ds=void 0;var o=t[0];o==null||o.raw===void 0?(i=!1,s+=Af(r,n,o)):s+=o[0];for(var a=1;a<t.length;a++)s+=Af(r,n,t[a]),i&&(s+=o[a]);gC.lastIndex=0;for(var l="",c;(c=gC.exec(s))!==null;)l+="-"+c[1];var u=lK(s)+l;return{name:u,styles:s,next:Ds}},hK=function(t){return t()},A3=mg.useInsertionEffect?mg.useInsertionEffect:!1,pK=A3||hK,mC=A3||y.useLayoutEffect,_3=y.createContext(typeof HTMLElement<"u"?MS({key:"css"}):null),b3=_3.Provider,S3=function(t){return y.forwardRef(function(n,r){var i=y.useContext(_3);return t(n,i,r)})},ah=y.createContext({}),gK=S3(function(e,t){var n=e.styles,r=jS([n],void 0,y.useContext(ah)),i=y.useRef();return mC(function(){var s=t.key+"-global",o=new t.sheet.constructor({key:s,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return t.sheet.tags.length&&(o.before=t.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",s),o.hydrate([l])),i.current=[o,a],function(){o.flush()}},[t]),mC(function(){var s=i.current,o=s[0],a=s[1];if(a){s[1]=!1;return}if(r.next!==void 0&&v3(t,r.next,!0),o.tags.length){var l=o.tags[o.tags.length-1].nextElementSibling;o.before=l,o.flush()}t.insert("",r,o,!1)},[t,r.name]),null});function mi(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return jS(t)}var Ea=function(){var t=mi.apply(void 0,arguments),n="animation-"+t.name;return{name:n,styles:"@keyframes "+n+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};function OS(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function mK(){this.__data__=new jo,this.size=0}function vK(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function yK(e){return this.__data__.get(e)}function AK(e){return this.__data__.has(e)}var _K=200;function bK(e,t){var n=this.__data__;if(n instanceof jo){var r=n.__data__;if(!pf||r.length<_K-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Oo(r)}return n.set(e,t),this.size=n.size,this}function Js(e){var t=this.__data__=new jo(e);this.size=t.size}Js.prototype.clear=mK;Js.prototype.delete=vK;Js.prototype.get=yK;Js.prototype.has=AK;Js.prototype.set=bK;function SK(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var Gg=function(){try{var e=Bl(Object,"defineProperty");return e({},"",{}),e}catch{}}();function x3(e,t,n){t=="__proto__"&&Gg?Gg(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var xK=Object.prototype,wK=xK.hasOwnProperty;function w3(e,t,n){var r=e[t];(!(wK.call(e,t)&&a0(r,n))||n===void 0&&!(t in e))&&x3(e,t,n)}function lh(e,t,n,r){var i=!n;n||(n={});for(var s=-1,o=t.length;++s<o;){var a=t[s],l=r?r(n[a],e[a],a,n,e):void 0;l===void 0&&(l=e[a]),i?x3(n,a,l):w3(n,a,l)}return n}function EK(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var kK="[object Arguments]";function vC(e){return wo(e)&&Ll(e)==kK}var E3=Object.prototype,CK=E3.hasOwnProperty,TK=E3.propertyIsEnumerable,VS=vC(function(){return arguments}())?vC:function(e){return wo(e)&&CK.call(e,"callee")&&!TK.call(e,"callee")},Wi=Array.isArray;function IK(){return!1}var k3=typeof exports=="object"&&exports&&!exports.nodeType&&exports,yC=k3&&typeof module=="object"&&module&&!module.nodeType&&module,PK=yC&&yC.exports===k3,AC=PK?Ps.Buffer:void 0,RK=AC?AC.isBuffer:void 0,qg=RK||IK,MK="[object Arguments]",jK="[object Array]",OK="[object Boolean]",VK="[object Date]",LK="[object Error]",NK="[object Function]",BK="[object Map]",DK="[object Number]",$K="[object Object]",FK="[object RegExp]",zK="[object Set]",UK="[object String]",HK="[object WeakMap]",GK="[object ArrayBuffer]",qK="[object DataView]",WK="[object Float32Array]",KK="[object Float64Array]",YK="[object Int8Array]",QK="[object Int16Array]",JK="[object Int32Array]",XK="[object Uint8Array]",ZK="[object Uint8ClampedArray]",eY="[object Uint16Array]",tY="[object Uint32Array]",zt={};zt[WK]=zt[KK]=zt[YK]=zt[QK]=zt[JK]=zt[XK]=zt[ZK]=zt[eY]=zt[tY]=!0;zt[MK]=zt[jK]=zt[GK]=zt[OK]=zt[qK]=zt[VK]=zt[LK]=zt[NK]=zt[BK]=zt[DK]=zt[$K]=zt[FK]=zt[zK]=zt[UK]=zt[HK]=!1;function nY(e){return wo(e)&&SS(e.length)&&!!zt[Ll(e)]}function LS(e){return function(t){return e(t)}}var C3=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Dd=C3&&typeof module=="object"&&module&&!module.nodeType&&module,rY=Dd&&Dd.exports===C3,ay=rY&&_j.process,nu=function(){try{var e=Dd&&Dd.require&&Dd.require("util").types;return e||ay&&ay.binding&&ay.binding("util")}catch{}}(),_C=nu&&nu.isTypedArray,T3=_C?LS(_C):nY,iY=Object.prototype,sY=iY.hasOwnProperty;function I3(e,t){var n=Wi(e),r=!n&&VS(e),i=!n&&!r&&qg(e),s=!n&&!r&&!i&&T3(e),o=n||r||i||s,a=o?EK(e.length,String):[],l=a.length;for(var c in e)(t||sY.call(e,c))&&!(o&&(c=="length"||i&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||wS(c,l)))&&a.push(c);return a}var oY=Object.prototype;function NS(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||oY;return e===n}function P3(e,t){return function(n){return e(t(n))}}var aY=P3(Object.keys,Object),lY=Object.prototype,cY=lY.hasOwnProperty;function uY(e){if(!NS(e))return aY(e);var t=[];for(var n in Object(e))cY.call(e,n)&&n!="constructor"&&t.push(n);return t}function ch(e){return xS(e)?I3(e):uY(e)}function dY(e,t){return e&&lh(t,ch(t),e)}function fY(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var hY=Object.prototype,pY=hY.hasOwnProperty;function gY(e){if(!Es(e))return fY(e);var t=NS(e),n=[];for(var r in e)r=="constructor"&&(t||!pY.call(e,r))||n.push(r);return n}function BS(e){return xS(e)?I3(e,!0):gY(e)}function mY(e,t){return e&&lh(t,BS(t),e)}var R3=typeof exports=="object"&&exports&&!exports.nodeType&&exports,bC=R3&&typeof module=="object"&&module&&!module.nodeType&&module,vY=bC&&bC.exports===R3,SC=vY?Ps.Buffer:void 0,xC=SC?SC.allocUnsafe:void 0;function yY(e,t){if(t)return e.slice();var n=e.length,r=xC?xC(n):new e.constructor(n);return e.copy(r),r}function M3(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}function AY(e,t){for(var n=-1,r=e==null?0:e.length,i=0,s=[];++n<r;){var o=e[n];t(o,n,e)&&(s[i++]=o)}return s}function j3(){return[]}var _Y=Object.prototype,bY=_Y.propertyIsEnumerable,wC=Object.getOwnPropertySymbols,DS=wC?function(e){return e==null?[]:(e=Object(e),AY(wC(e),function(t){return bY.call(e,t)}))}:j3;function SY(e,t){return lh(e,DS(e),t)}function $S(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var xY=P3(Object.getPrototypeOf,Object);const FS=xY;var wY=Object.getOwnPropertySymbols,O3=wY?function(e){for(var t=[];e;)$S(t,DS(e)),e=FS(e);return t}:j3;function EY(e,t){return lh(e,O3(e),t)}function V3(e,t,n){var r=t(e);return Wi(e)?r:$S(r,n(e))}function R1(e){return V3(e,ch,DS)}function L3(e){return V3(e,BS,O3)}var M1=Bl(Ps,"DataView"),j1=Bl(Ps,"Promise"),jc=Bl(Ps,"Set"),O1=Bl(Ps,"WeakMap"),EC="[object Map]",kY="[object Object]",kC="[object Promise]",CC="[object Set]",TC="[object WeakMap]",IC="[object DataView]",CY=Nl(M1),TY=Nl(pf),IY=Nl(j1),PY=Nl(jc),RY=Nl(O1),Ua=Ll;(M1&&Ua(new M1(new ArrayBuffer(1)))!=IC||pf&&Ua(new pf)!=EC||j1&&Ua(j1.resolve())!=kC||jc&&Ua(new jc)!=CC||O1&&Ua(new O1)!=TC)&&(Ua=function(e){var t=Ll(e),n=t==kY?e.constructor:void 0,r=n?Nl(n):"";if(r)switch(r){case CY:return IC;case TY:return EC;case IY:return kC;case PY:return CC;case RY:return TC}return t});const _f=Ua;var MY=Object.prototype,jY=MY.hasOwnProperty;function OY(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&jY.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var Wg=Ps.Uint8Array;function zS(e){var t=new e.constructor(e.byteLength);return new Wg(t).set(new Wg(e)),t}function VY(e,t){var n=t?zS(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var LY=/\w*$/;function NY(e){var t=new e.constructor(e.source,LY.exec(e));return t.lastIndex=e.lastIndex,t}var PC=qi?qi.prototype:void 0,RC=PC?PC.valueOf:void 0;function BY(e){return RC?Object(RC.call(e)):{}}function DY(e,t){var n=t?zS(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var $Y="[object Boolean]",FY="[object Date]",zY="[object Map]",UY="[object Number]",HY="[object RegExp]",GY="[object Set]",qY="[object String]",WY="[object Symbol]",KY="[object ArrayBuffer]",YY="[object DataView]",QY="[object Float32Array]",JY="[object Float64Array]",XY="[object Int8Array]",ZY="[object Int16Array]",eQ="[object Int32Array]",tQ="[object Uint8Array]",nQ="[object Uint8ClampedArray]",rQ="[object Uint16Array]",iQ="[object Uint32Array]";function sQ(e,t,n){var r=e.constructor;switch(t){case KY:return zS(e);case $Y:case FY:return new r(+e);case YY:return VY(e,n);case QY:case JY:case XY:case ZY:case eQ:case tQ:case nQ:case rQ:case iQ:return DY(e,n);case zY:return new r;case UY:case qY:return new r(e);case HY:return NY(e);case GY:return new r;case WY:return BY(e)}}var MC=Object.create,oQ=function(){function e(){}return function(t){if(!Es(t))return{};if(MC)return MC(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function aQ(e){return typeof e.constructor=="function"&&!NS(e)?oQ(FS(e)):{}}var lQ="[object Map]";function cQ(e){return wo(e)&&_f(e)==lQ}var jC=nu&&nu.isMap,uQ=jC?LS(jC):cQ,dQ="[object Set]";function fQ(e){return wo(e)&&_f(e)==dQ}var OC=nu&&nu.isSet,hQ=OC?LS(OC):fQ,pQ=1,gQ=2,mQ=4,N3="[object Arguments]",vQ="[object Array]",yQ="[object Boolean]",AQ="[object Date]",_Q="[object Error]",B3="[object Function]",bQ="[object GeneratorFunction]",SQ="[object Map]",xQ="[object Number]",D3="[object Object]",wQ="[object RegExp]",EQ="[object Set]",kQ="[object String]",CQ="[object Symbol]",TQ="[object WeakMap]",IQ="[object ArrayBuffer]",PQ="[object DataView]",RQ="[object Float32Array]",MQ="[object Float64Array]",jQ="[object Int8Array]",OQ="[object Int16Array]",VQ="[object Int32Array]",LQ="[object Uint8Array]",NQ="[object Uint8ClampedArray]",BQ="[object Uint16Array]",DQ="[object Uint32Array]",Nt={};Nt[N3]=Nt[vQ]=Nt[IQ]=Nt[PQ]=Nt[yQ]=Nt[AQ]=Nt[RQ]=Nt[MQ]=Nt[jQ]=Nt[OQ]=Nt[VQ]=Nt[SQ]=Nt[xQ]=Nt[D3]=Nt[wQ]=Nt[EQ]=Nt[kQ]=Nt[CQ]=Nt[LQ]=Nt[NQ]=Nt[BQ]=Nt[DQ]=!0;Nt[_Q]=Nt[B3]=Nt[TQ]=!1;function Zp(e,t,n,r,i,s){var o,a=t&pQ,l=t&gQ,c=t&mQ;if(n&&(o=i?n(e,r,i,s):n(e)),o!==void 0)return o;if(!Es(e))return e;var u=Wi(e);if(u){if(o=OY(e),!a)return M3(e,o)}else{var d=_f(e),h=d==B3||d==bQ;if(qg(e))return yY(e,a);if(d==D3||d==N3||h&&!i){if(o=l||h?{}:aQ(e),!a)return l?EY(e,mY(o,e)):SY(e,dY(o,e))}else{if(!Nt[d])return i?e:{};o=sQ(e,d,a)}}s||(s=new Js);var p=s.get(e);if(p)return p;s.set(e,o),hQ(e)?e.forEach(function(_){o.add(Zp(_,t,n,_,e,s))}):uQ(e)&&e.forEach(function(_,v){o.set(v,Zp(_,t,n,v,e,s))});var g=c?l?L3:R1:l?BS:ch,m=u?void 0:g(e);return SK(m||e,function(_,v){m&&(v=_,_=e[v]),w3(o,v,Zp(_,t,n,v,e,s))}),o}var $Q=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,FQ=/^\w*$/;function US(e,t){if(Wi(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||o0(e)?!0:FQ.test(e)||!$Q.test(e)||t!=null&&e in Object(t)}var zQ=500;function UQ(e){var t=u0(e,function(r){return n.size===zQ&&n.clear(),r}),n=t.cache;return t}var HQ=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,GQ=/\\(\\)?/g,qQ=UQ(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(HQ,function(n,r,i,s){t.push(i?s.replace(GQ,"$1"):r||n)}),t}),WQ=1/0,VC=qi?qi.prototype:void 0,LC=VC?VC.toString:void 0;function $3(e){if(typeof e=="string")return e;if(Wi(e))return OS(e,$3)+"";if(o0(e))return LC?LC.call(e):"";var t=e+"";return t=="0"&&1/e==-WQ?"-0":t}function HS(e){return e==null?"":$3(e)}function b0(e,t){return Wi(e)?e:US(e,t)?[e]:qQ(HS(e))}function KQ(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var YQ=1/0;function uh(e){if(typeof e=="string"||o0(e))return e;var t=e+"";return t=="0"&&1/e==-YQ?"-0":t}function GS(e,t){t=b0(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[uh(t[n++])];return n&&n==r?e:void 0}function qS(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var s=Array(i);++r<i;)s[r]=e[r+t];return s}function QQ(e,t){return t.length<2?e:GS(e,qS(t,0,-1))}function JQ(e,t){return t=b0(t,e),e=QQ(e,t),e==null||delete e[uh(KQ(t))]}var XQ="[object Object]",ZQ=Function.prototype,eJ=Object.prototype,F3=ZQ.toString,tJ=eJ.hasOwnProperty,nJ=F3.call(Object);function rJ(e){if(!wo(e)||Ll(e)!=XQ)return!1;var t=FS(e);if(t===null)return!0;var n=tJ.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&F3.call(n)==nJ}function iJ(e){return rJ(e)?void 0:e}var NC=qi?qi.isConcatSpreadable:void 0;function sJ(e){return Wi(e)||VS(e)||!!(NC&&e&&e[NC])}function z3(e,t,n,r,i){var s=-1,o=e.length;for(n||(n=sJ),i||(i=[]);++s<o;){var a=e[s];t>0&&n(a)?t>1?z3(a,t-1,n,r,i):$S(i,a):r||(i[i.length]=a)}return i}function oJ(e){var t=e==null?0:e.length;return t?z3(e,1):[]}function aJ(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var BC=Math.max;function lJ(e,t,n){return t=BC(t===void 0?e.length-1:t,0),function(){for(var r=arguments,i=-1,s=BC(r.length-t,0),o=Array(s);++i<s;)o[i]=r[t+i];i=-1;for(var a=Array(t+1);++i<t;)a[i]=r[i];return a[t]=n(o),aJ(e,this,a)}}function cJ(e){return function(){return e}}function U3(e){return e}var uJ=Gg?function(e,t){return Gg(e,"toString",{configurable:!0,enumerable:!1,value:cJ(t),writable:!0})}:U3;const dJ=uJ;var fJ=800,hJ=16,pJ=Date.now;function gJ(e){var t=0,n=0;return function(){var r=pJ(),i=hJ-(r-n);if(n=r,i>0){if(++t>=fJ)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var mJ=gJ(dJ);function vJ(e){return mJ(lJ(e,void 0,oJ),e+"")}var yJ=1,AJ=2,_J=4,bJ=vJ(function(e,t){var n={};if(e==null)return n;var r=!1;t=OS(t,function(s){return s=b0(s,e),r||(r=s.length>1),s}),lh(e,L3(e),n),r&&(n=Zp(n,yJ|AJ|_J,iJ));for(var i=t.length;i--;)JQ(n,t[i]);return n});function Cs(e,t=!1){const[n,r]=y.useState(null);return y.useEffect(()=>{const i=(...s)=>{r(s)};return e.subscribe(i,t),()=>e.unsubscribe(i)},[e]),n}function wr(e,t,n=[]){const r=Array.isArray(e)?e:[e];y.useEffect(()=>(r.forEach(i=>i.subscribe(t)),()=>r.forEach(i=>i.unsubscribe(t))),[...r,t,...n])}function vi(e,t,n=[]){const r=y.useMemo(t,[]),[i,s]=y.useState(r),o=Array.isArray(e)?e:[e];return y.useEffect(()=>{s(t())},n),y.useEffect(()=>{const a=()=>s(t());return o.forEach(l=>l.subscribe(a)),()=>o.forEach(l=>l.unsubscribe(a))},[...o]),i}var SJ=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,xJ=p3(function(e){return SJ.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),wJ=xJ,EJ=function(t){return t!=="theme"},DC=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?wJ:EJ},$C=function(t,n,r){var i;if(n){var s=n.shouldForwardProp;i=t.__emotion_forwardProp&&s?function(o){return t.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=t.__emotion_forwardProp),i},kJ=function(t){var n=t.cache,r=t.serialized,i=t.isStringTag;return m3(n,r,i),pK(function(){return v3(n,r,i)}),null},C=function e(t,n){var r=t.__emotion_real===t,i=r&&t.__emotion_base||t,s,o;n!==void 0&&(s=n.label,o=n.target);var a=$C(t,n,r),l=a||DC(i),c=!l("as");return function(){var u=arguments,d=r&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(s!==void 0&&d.push("label:"+s+";"),u[0]==null||u[0].raw===void 0)d.push.apply(d,u);else{d.push(u[0][0]);for(var h=u.length,p=1;p<h;p++)d.push(u[p],u[0][p])}var g=S3(function(m,_,v){var A=c&&m.as||i,S="",x=[],b=m;if(m.theme==null){b={};for(var w in m)b[w]=m[w];b.theme=y.useContext(ah)}typeof m.className=="string"?S=aK(_.registered,x,m.className):m.className!=null&&(S=m.className+" ");var E=jS(d.concat(x),_.registered,b);S+=_.key+"-"+E.name,o!==void 0&&(S+=" "+o);var T=c&&a===void 0?DC(A):l,j={};for(var B in m)c&&B==="as"||T(B)&&(j[B]=m[B]);return j.className=S,j.ref=v,y.createElement(y.Fragment,null,y.createElement(kJ,{cache:_,serialized:E,isStringTag:typeof A=="string"}),y.createElement(A,j))});return g.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",g.defaultProps=t.defaultProps,g.__emotion_real=g,g.__emotion_base=i,g.__emotion_styles=d,g.__emotion_forwardProp=a,Object.defineProperty(g,"toString",{value:function(){return"."+o}}),g.withComponent=function(m,_){return e(m,P1({},n,_,{shouldForwardProp:$C(g,_,!0)})).apply(void 0,d)},g}};const ru={animation:"focusAnimation 1000ms ease-in-out infinite both"},CJ={boxShadow:`inset 0px 0px 0px 4px ${de.colors.text.active}`},$e={fontWeight:"bold",WebkitTextStroke:"0.1rem black",color:"white","& strong":{color:de.colors.text.active}},bf="@media (hover: none)",S0="  @media (max-height: 500px) and (min-aspect-ratio: 16/10)";function TJ(){var e=y.useRef(!0);return e.current?(e.current=!1,!0):e.current}var Kg=function(){return Kg=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Kg.apply(this,arguments)};function IJ(){var e=y.useRef(!1),t=y.useCallback(function(){return e.current},[]);return y.useEffect(function(){return e.current=!0,function(){e.current=!1}},[]),t}function PJ(e,t,n){t===void 0&&(t=[]),n===void 0&&(n={loading:!1});var r=y.useRef(0),i=IJ(),s=y.useState(n),o=s[0],a=s[1],l=y.useCallback(function(){for(var c=[],u=0;u<arguments.length;u++)c[u]=arguments[u];var d=++r.current;return o.loading||a(function(h){return Kg(Kg({},h),{loading:!0})}),e.apply(void 0,c).then(function(h){return i()&&d===r.current&&a({value:h,loading:!1}),h},function(h){return i()&&d===r.current&&a({error:h,loading:!1}),h})},t);return[o,l]}function FC(e,t){t===void 0&&(t=[]);var n=PJ(e,t,{loading:!0}),r=n[0],i=n[1];return y.useEffect(function(){i()},[i]),r}function RJ(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e&&e.addEventListener&&e.addEventListener.apply(e,t)}function MJ(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e&&e.removeEventListener&&e.removeEventListener.apply(e,t)}var jJ=typeof window<"u",OJ=function(e){return(e+1)%1e6};function H3(){var e=y.useReducer(OJ,0),t=e[1];return t}var VJ=function(e){y.useEffect(e,[])},LJ=jJ?window:null,zC=function(e){return!!e.addEventListener},UC=function(e){return!!e.on},NJ=function(e,t,n,r){n===void 0&&(n=LJ),y.useEffect(function(){if(t&&n)return zC(n)?RJ(n,e,t,r):UC(n)&&n.on(e,t,r),function(){zC(n)?MJ(n,e,t,r):UC(n)&&n.off(e,t,r)}},[e,t,n,JSON.stringify(r)])},G3=function(e,t){var n=y.useRef(function(){});y.useEffect(function(){n.current=e}),y.useEffect(function(){if(t!==null){var r=setInterval(function(){return n.current()},t||0);return function(){return clearInterval(r)}}},[t])},BJ=function(e){var t=y.useRef(e);t.current=e,VJ(function(){return function(){return t.current()}})};function DJ(e){var t=y.useRef();return y.useEffect(function(){t.current=e}),t.current}var $J=function(e,t){return e===t};function FJ(e,t){t===void 0&&(t=$J);var n=y.useRef(),r=y.useRef(e),i=TJ();return!i&&!t(r.current,e)&&(n.current=r.current,r.current=e),n.current}function zJ(){const[e,t]=y.useState(null),[n,r]=y.useState(ll.isStarted()),[i,s]=y.useState(ll.getLatency());G3(()=>{s(ll.getLatency())},1e3),wr(ee.micServerStarted,()=>{r(!0)}),wr(ee.micServerStopped,()=>{r(!1)});const o=vi([ee.remoteMicConnected,ee.remoteMicDisconnected],()=>Ze.getRemoteMics(),[n]);return y.useEffect(()=>{e===null&&n&&t(!0)},[n,e]),e?f.jsxs(UJ,{children:[f.jsxs(HC,{children:[f.jsx("strong",{children:"Remote mic server"}),": ",n?"Online":"Offline",n&&i&&f.jsxs(f.Fragment,{children:[" (",i,"ms)"]})]}),n&&f.jsx(f.Fragment,{children:f.jsxs(HC,{children:[f.jsx("strong",{children:"connected mics"}),": ",o.length]})})]}):null}const UJ=C("div",{target:"eeky7rp1"})("opacity:0.75;position:fixed;bottom:0;right:0;",$e,";font-size:1.5rem;padding:0.5rem;display:flex;gap:1rem;z-index:100000;pointer-events:none;"),HC=C("div",{target:"eeky7rp0"})("");var ly=typeof navigator<"u"?navigator.userAgent.toLowerCase().indexOf("firefox")>0:!1;function cy(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r):e.attachEvent&&e.attachEvent("on".concat(t),function(){n(window.event)})}function q3(e,t){for(var n=t.slice(0,t.length-1),r=0;r<n.length;r++)n[r]=e[n[r].toLowerCase()];return n}function W3(e){typeof e!="string"&&(e=""),e=e.replace(/\s/g,"");for(var t=e.split(","),n=t.lastIndexOf("");n>=0;)t[n-1]+=",",t.splice(n,1),n=t.lastIndexOf("");return t}function HJ(e,t){for(var n=e.length>=t.length?e:t,r=e.length>=t.length?t:e,i=!0,s=0;s<n.length;s++)r.indexOf(n[s])===-1&&(i=!1);return i}var WS={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,num_0:96,num_1:97,num_2:98,num_3:99,num_4:100,num_5:101,num_6:102,num_7:103,num_8:104,num_9:105,num_multiply:106,num_add:107,num_enter:108,num_subtract:109,num_decimal:110,num_divide:111,"":20,",":188,".":190,"/":191,"`":192,"-":ly?173:189,"=":ly?61:187,";":ly?59:186,"'":222,"[":219,"]":221,"\\":220},_a={"":16,shift:16,"":18,alt:18,option:18,"":17,ctrl:17,control:17,"":91,cmd:91,command:91},V1={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},ar={16:!1,18:!1,17:!1,91:!1},Rn={};for(var rp=1;rp<20;rp++)WS["f".concat(rp)]=111+rp;var Qt=[],GC=!1,K3="all",Y3=[],x0=function(t){return WS[t.toLowerCase()]||_a[t.toLowerCase()]||t.toUpperCase().charCodeAt(0)};function Q3(e){K3=e||"all"}function Sf(){return K3||"all"}function GJ(){return Qt.slice(0)}function qJ(e){var t=e.target||e.srcElement,n=t.tagName,r=!0;return(t.isContentEditable||(n==="INPUT"||n==="TEXTAREA"||n==="SELECT")&&!t.readOnly)&&(r=!1),r}function WJ(e){return typeof e=="string"&&(e=x0(e)),Qt.indexOf(e)!==-1}function KJ(e,t){var n,r;e||(e=Sf());for(var i in Rn)if(Object.prototype.hasOwnProperty.call(Rn,i))for(n=Rn[i],r=0;r<n.length;)n[r].scope===e?n.splice(r,1):r++;Sf()===e&&Q3(t||"all")}function YJ(e){var t=e.keyCode||e.which||e.charCode,n=Qt.indexOf(t);if(n>=0&&Qt.splice(n,1),e.key&&e.key.toLowerCase()==="meta"&&Qt.splice(0,Qt.length),(t===93||t===224)&&(t=91),t in ar){ar[t]=!1;for(var r in _a)_a[r]===t&&(ui[r]=!1)}}function QJ(e){if(typeof e>"u")Object.keys(Rn).forEach(function(o){return delete Rn[o]});else if(Array.isArray(e))e.forEach(function(o){o.key&&uy(o)});else if(typeof e=="object")e.key&&uy(e);else if(typeof e=="string"){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n[0],s=n[1];typeof i=="function"&&(s=i,i=""),uy({key:e,scope:i,method:s,splitKey:"+"})}}var uy=function(t){var n=t.key,r=t.scope,i=t.method,s=t.splitKey,o=s===void 0?"+":s,a=W3(n);a.forEach(function(l){var c=l.split(o),u=c.length,d=c[u-1],h=d==="*"?"*":x0(d);if(Rn[h]){r||(r=Sf());var p=u>1?q3(_a,c):[];Rn[h]=Rn[h].filter(function(g){var m=i?g.method===i:!0;return!(m&&g.scope===r&&HJ(g.mods,p))})}})};function qC(e,t,n,r){if(t.element===r){var i;if(t.scope===n||t.scope==="all"){i=t.mods.length>0;for(var s in ar)Object.prototype.hasOwnProperty.call(ar,s)&&(!ar[s]&&t.mods.indexOf(+s)>-1||ar[s]&&t.mods.indexOf(+s)===-1)&&(i=!1);(t.mods.length===0&&!ar[16]&&!ar[18]&&!ar[17]&&!ar[91]||i||t.shortcut==="*")&&t.method(e,t)===!1&&(e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.cancelBubble&&(e.cancelBubble=!0))}}}function WC(e,t){var n=Rn["*"],r=e.keyCode||e.which||e.charCode;if(ui.filter.call(this,e)){if((r===93||r===224)&&(r=91),Qt.indexOf(r)===-1&&r!==229&&Qt.push(r),["ctrlKey","altKey","shiftKey","metaKey"].forEach(function(g){var m=V1[g];e[g]&&Qt.indexOf(m)===-1?Qt.push(m):!e[g]&&Qt.indexOf(m)>-1?Qt.splice(Qt.indexOf(m),1):g==="metaKey"&&e[g]&&Qt.length===3&&(e.ctrlKey||e.shiftKey||e.altKey||(Qt=Qt.slice(Qt.indexOf(m))))}),r in ar){ar[r]=!0;for(var i in _a)_a[i]===r&&(ui[i]=!0);if(!n)return}for(var s in ar)Object.prototype.hasOwnProperty.call(ar,s)&&(ar[s]=e[V1[s]]);e.getModifierState&&!(e.altKey&&!e.ctrlKey)&&e.getModifierState("AltGraph")&&(Qt.indexOf(17)===-1&&Qt.push(17),Qt.indexOf(18)===-1&&Qt.push(18),ar[17]=!0,ar[18]=!0);var o=Sf();if(n)for(var a=0;a<n.length;a++)n[a].scope===o&&(e.type==="keydown"&&n[a].keydown||e.type==="keyup"&&n[a].keyup)&&qC(e,n[a],o,t);if(r in Rn){for(var l=0;l<Rn[r].length;l++)if((e.type==="keydown"&&Rn[r][l].keydown||e.type==="keyup"&&Rn[r][l].keyup)&&Rn[r][l].key){for(var c=Rn[r][l],u=c.splitKey,d=c.key.split(u),h=[],p=0;p<d.length;p++)h.push(x0(d[p]));h.sort().join("")===Qt.sort().join("")&&qC(e,c,o,t)}}}}function JJ(e){return Y3.indexOf(e)>-1}function ui(e,t,n){Qt=[];var r=W3(e),i=[],s="all",o=document,a=0,l=!1,c=!0,u="+",d=!1;for(n===void 0&&typeof t=="function"&&(n=t),Object.prototype.toString.call(t)==="[object Object]"&&(t.scope&&(s=t.scope),t.element&&(o=t.element),t.keyup&&(l=t.keyup),t.keydown!==void 0&&(c=t.keydown),t.capture!==void 0&&(d=t.capture),typeof t.splitKey=="string"&&(u=t.splitKey)),typeof t=="string"&&(s=t);a<r.length;a++)e=r[a].split(u),i=[],e.length>1&&(i=q3(_a,e)),e=e[e.length-1],e=e==="*"?"*":x0(e),e in Rn||(Rn[e]=[]),Rn[e].push({keyup:l,keydown:c,scope:s,mods:i,shortcut:r[a],method:n,key:r[a],splitKey:u,element:o});typeof o<"u"&&!JJ(o)&&window&&(Y3.push(o),cy(o,"keydown",function(h){WC(h,o)},d),GC||(GC=!0,cy(window,"focus",function(){Qt=[]},d)),cy(o,"keyup",function(h){WC(h,o),YJ(h)},d))}function XJ(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"all";Object.keys(Rn).forEach(function(n){var r=Rn[n].find(function(i){return i.scope===t&&i.shortcut===e});r&&r.method&&r.method()})}var dy={setScope:Q3,getScope:Sf,deleteScope:KJ,getPressedKeyCodes:GJ,isPressed:WJ,filter:qJ,trigger:XJ,unbind:QJ,keyMap:WS,modifier:_a,modifierMap:V1};for(var fy in dy)Object.prototype.hasOwnProperty.call(dy,fy)&&(ui[fy]=dy[fy]);if(typeof window<"u"){var ZJ=window.hotkeys;ui.noConflict=function(e){return e&&window.hotkeys===ui&&(window.hotkeys=ZJ),ui},window.hotkeys=ui}ui.filter=function(){return!0};var J3=function(t,n){var r=t.target,i=r&&r.tagName;return!!(i&&n&&n.includes(i))},eX=function(t){return J3(t,["INPUT","TEXTAREA","SELECT"])};function Pr(e,t,n,r){n instanceof Array&&(r=n,n=void 0);var i=n||{},s=i.enableOnTags,o=i.filter,a=i.keyup,l=i.keydown,c=i.filterPreventDefault,u=c===void 0?!0:c,d=i.enabled,h=d===void 0?!0:d,p=i.enableOnContentEditable,g=p===void 0?!1:p,m=y.useRef(null),_=y.useCallback(function(v,A){var S,x;return o&&!o(v)?!u:eX(v)&&!J3(v,s)||(S=v.target)!=null&&S.isContentEditable&&!g?!0:m.current===null||document.activeElement===m.current||(x=m.current)!=null&&x.contains(document.activeElement)?(t(v,A),!0):!1},r?[m,s,o].concat(r):[m,s,o]);return y.useEffect(function(){if(!h){ui.unbind(e,_);return}return a&&l!==!0&&(n.keydown=!1),ui(e,n||{},_),function(){return ui.unbind(e,_)}},[_,e,h]),m}ui.isPressed;const L1="a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,r,s,t,u,w,x,y,z,1,2,3,4,5,6,7,8,9,0";var TR,jp,IR;try{(IR=(jp=(TR=global==null?void 0:global.navigator)==null?void 0:TR.keyboard)==null?void 0:jp.lock)==null||IR.call(jp,["Escape"])}catch(e){console.warn(e)}var PR,RR;const tX=!!((RR=(PR=global==null?void 0:global.navigator)==null?void 0:PR.keyboard)!=null&&RR.lock),Ba=e=>t=>{e&&(t.preventDefault(),t.stopPropagation(),e(t))};function Dl(e,t=!0,n){wr(ee.remoteKeyboardPressed,r=>{var i;t&&r in e&&((i=e[r])==null||i.call(e))}),Pr("up",Ba(e.up),{enabled:t&&!!(e!=null&&e.up)},n),Pr("down",Ba(e.down),{enabled:t&&!!(e!=null&&e.down)},n),Pr("left",Ba(e.left),{enabled:t&&!!(e!=null&&e.left)},n),Pr("right",Ba(e.right),{enabled:t&&!!(e!=null&&e.right)},n),Pr("Enter",Ba(e.accept),{enabled:t&&!!(e!=null&&e.accept)},n),Pr("Escape,Backspace",Ba(e.back),{enabled:t&&!!(e!=null&&e.back)},n),Pr("Shift+R",Ba(e.random),{enabled:t&&!!(e!=null&&e.random)},n)}function nX({help:e}){const[t]=Fe(pr),[n,r]=Fe(n5);Pr("shift+h",()=>r(!n),void 0,[n]);const i=Object.entries(e??{}).filter(([,s])=>s!==void 0);return t?null:f.jsx(f.Fragment,{children:f.jsx(uX,{"data-test":"help-container",onClick:()=>r(!n),visible:!!i.length&&n,children:n&&f.jsxs(f.Fragment,{children:[f.jsx(Z3,{children:"Use indicated keys on your keyboard"}),i.map(([s,o])=>{const{view:a,defaultLabel:l}=cX[s];return f.jsxs(KC,{children:[f.jsx(QC,{children:o??l}),f.jsx(YC,{children:f.jsx(a,{})})]},s)}),f.jsxs(KC,{children:[f.jsx(QC,{children:"Show/hide this help"}),f.jsx(YC,{children:X3("h")()})]})]})})})}const KS=({vertical:e=!1,horizontal:t=!1})=>f.jsxs(f.Fragment,{children:[f.jsx(qs,{disabled:!e,children:""}),f.jsx("br",{}),f.jsx(qs,{disabled:!t,children:""}),f.jsx(qs,{disabled:!e,children:""}),f.jsx(qs,{disabled:!t,children:""})]}),rX=()=>f.jsx(KS,{horizontal:!0}),iX=()=>f.jsx(KS,{vertical:!0}),sX=()=>f.jsx(KS,{vertical:!0,horizontal:!0}),oX=()=>f.jsx(qs,{children:"Enter "}),aX=()=>tX?f.jsx(qs,{children:"Escape"}):f.jsx(qs,{children:"Backspace "}),X3=e=>()=>f.jsxs(f.Fragment,{children:[f.jsx(qs,{children:"Shift"})," + ",f.jsx(qs,{children:e.toUpperCase()})]}),lX=()=>f.jsx(f.Fragment,{children:f.jsx(qs,{children:"start typing"})}),cX={"horizontal-vertical":{view:sX,defaultLabel:"Navigate"},horizontal:{view:rX,defaultLabel:"Navigate"},vertical:{view:iX,defaultLabel:"Navigate"},accept:{view:oX,defaultLabel:"Select"},back:{view:aX,defaultLabel:"Go back"},shiftR:{view:X3("r"),defaultLabel:"Pick random"},alphanumeric:{view:lX,defaultLabel:"Search"}},KC=C("div",{target:"efq3fs05"})({name:"1m596lt",styles:"display:flex;flex-direction:row;align-items:center;gap:1rem"}),YC=C("div",{target:"efq3fs04"})({name:"w84kwe",styles:"flex-wrap:nowrap;text-align:center;flex:2;color:white;font-weight:bold"}),QC=C("span",{target:"efq3fs03"})("flex:3;",$e,";font-size:2rem;text-align:right;"),Z3=C("div",{target:"efq3fs02"})("position:absolute;inset:0 0 0 0;background:rgba(0, 0, 0, 0.75);",$e,";font-size:2rem;padding:2rem;display:flex;align-items:center;justify-content:center;text-align:center;opacity:0;transition:300ms;visibility:hidden;"),uX=C("div",{target:"efq3fs01"})("position:fixed;top:5rem;right:0;padding:0.5rem;background:rgba(0, 0, 0, 0.5);display:flex;flex-direction:column;gap:1rem;width:34rem;visibility:",e=>e.visible?"visible":"hidden",";cursor:pointer;transform:scale(0.75);z-index:1000;@media (max-width: 560px){display:none;}view-transition-name:help-view;:hover{",Z3,"{opacity:1;visibility:visible;}}svg{fill:white;}"),qs=C("kbd",{target:"efq3fs00"})("margin:0.2rem;padding:0.12rem 0.9rem;border-radius:0.3rem;border:0.1rem solid rgb(204, 204, 204);color:rgb(51, 51, 51);line-height:1.4;font-size:1.6rem;display:inline-block;box-shadow:0 0.1rem 0 rgba(0, 0, 0, 0.2),inset 0 0 0 0.2rem #ffffff;background-color:rgb(247, 247, 247);text-shadow:0 0.1rem 0 #fff;font-weight:normal;opacity:",e=>e.disabled?.25:1,";"),YS=y.createContext({setKeyboard:(e,t)=>{},unsetKeyboard:e=>{},hasContent:!1}),dX=({children:e})=>{const[t,n]=y.useState({}),r=(u,d)=>{n(h=>({...h,[u]:d}))},i=u=>n(d=>bJ(d,[u])),[s,o]=Object.entries(t).at(-1)??[];wr(ee.remoteMicConnected,({id:u})=>{var d;(d=Ze.getRemoteMicById(u))==null||d.connection.send({t:"keyboard-layout",help:o})}),y.useEffect(()=>{Ze.broadcast({t:"keyboard-layout",help:o})},[s]);const{remote:a,...l}=o??{},c=!!Object.values(l).length;return f.jsxs(YS.Provider,{value:{setKeyboard:r,unsetKeyboard:i,hasContent:c},children:[e,f.jsx(nX,{help:l}),f.jsx(zJ,{})]})};var fX={webm:"data:video/webm;base64,GkXfowEAAAAAAAAfQoaBAUL3gQFC8oEEQvOBCEKChHdlYm1Ch4EEQoWBAhhTgGcBAAAAAAAVkhFNm3RALE27i1OrhBVJqWZTrIHfTbuMU6uEFlSua1OsggEwTbuMU6uEHFO7a1OsghV17AEAAAAAAACkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmAQAAAAAAAEUq17GDD0JATYCNTGF2ZjU1LjMzLjEwMFdBjUxhdmY1NS4zMy4xMDBzpJBlrrXf3DCDVB8KcgbMpcr+RImIQJBgAAAAAAAWVK5rAQAAAAAAD++uAQAAAAAAADLXgQFzxYEBnIEAIrWcg3VuZIaFVl9WUDiDgQEj44OEAmJaAOABAAAAAAAABrCBsLqBkK4BAAAAAAAPq9eBAnPFgQKcgQAitZyDdW5khohBX1ZPUkJJU4OBAuEBAAAAAAAAEZ+BArWIQOdwAAAAAABiZIEgY6JPbwIeVgF2b3JiaXMAAAAAAoC7AAAAAAAAgLUBAAAAAAC4AQN2b3JiaXMtAAAAWGlwaC5PcmcgbGliVm9yYmlzIEkgMjAxMDExMDEgKFNjaGF1ZmVudWdnZXQpAQAAABUAAABlbmNvZGVyPUxhdmM1NS41Mi4xMDIBBXZvcmJpcyVCQ1YBAEAAACRzGCpGpXMWhBAaQlAZ4xxCzmvsGUJMEYIcMkxbyyVzkCGkoEKIWyiB0JBVAABAAACHQXgUhIpBCCGEJT1YkoMnPQghhIg5eBSEaUEIIYQQQgghhBBCCCGERTlokoMnQQgdhOMwOAyD5Tj4HIRFOVgQgydB6CCED0K4moOsOQghhCQ1SFCDBjnoHITCLCiKgsQwuBaEBDUojILkMMjUgwtCiJqDSTX4GoRnQXgWhGlBCCGEJEFIkIMGQcgYhEZBWJKDBjm4FITLQagahCo5CB+EIDRkFQCQAACgoiiKoigKEBqyCgDIAAAQQFEUx3EcyZEcybEcCwgNWQUAAAEACAAAoEiKpEiO5EiSJFmSJVmSJVmS5omqLMuyLMuyLMsyEBqyCgBIAABQUQxFcRQHCA1ZBQBkAAAIoDiKpViKpWiK54iOCISGrAIAgAAABAAAEDRDUzxHlETPVFXXtm3btm3btm3btm3btm1blmUZCA1ZBQBAAAAQ0mlmqQaIMAMZBkJDVgEACAAAgBGKMMSA0JBVAABAAACAGEoOogmtOd+c46BZDppKsTkdnEi1eZKbirk555xzzsnmnDHOOeecopxZDJoJrTnnnMSgWQqaCa0555wnsXnQmiqtOeeccc7pYJwRxjnnnCateZCajbU555wFrWmOmkuxOeecSLl5UptLtTnnnHPOOeecc84555zqxekcnBPOOeecqL25lpvQxTnnnE/G6d6cEM4555xzzjnnnHPOOeecIDRkFQAABABAEIaNYdwpCNLnaCBGEWIaMulB9+gwCRqDnELq0ehopJQ6CCWVcVJKJwgNWQUAAAIAQAghhRRSSCGFFFJIIYUUYoghhhhyyimnoIJKKqmooowyyyyzzDLLLLPMOuyssw47DDHEEEMrrcRSU2011lhr7jnnmoO0VlprrbVSSimllFIKQkNWAQAgAAAEQgYZZJBRSCGFFGKIKaeccgoqqIDQkFUAACAAgAAAAABP8hzRER3RER3RER3RER3R8RzPESVREiVREi3TMjXTU0VVdWXXlnVZt31b2IVd933d933d+HVhWJZlWZZlWZZlWZZlWZZlWZYgNGQVAAACAAAghBBCSCGFFFJIKcYYc8w56CSUEAgNWQUAAAIACAAAAHAUR3EcyZEcSbIkS9IkzdIsT/M0TxM9URRF0zRV0RVdUTdtUTZl0zVdUzZdVVZtV5ZtW7Z125dl2/d93/d93/d93/d93/d9XQdCQ1YBABIAADqSIymSIimS4ziOJElAaMgqAEAGAEAAAIriKI7jOJIkSZIlaZJneZaomZrpmZ4qqkBoyCoAABAAQAAAAAAAAIqmeIqpeIqoeI7oiJJomZaoqZoryqbsuq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq4LhIasAgAkAAB0JEdyJEdSJEVSJEdygNCQVQCADACAAAAcwzEkRXIsy9I0T/M0TxM90RM901NFV3SB0JBVAAAgAIAAAAAAAAAMybAUy9EcTRIl1VItVVMt1VJF1VNVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVN0zRNEwgNWQkAkAEAkBBTLS3GmgmLJGLSaqugYwxS7KWxSCpntbfKMYUYtV4ah5RREHupJGOKQcwtpNApJq3WVEKFFKSYYyoVUg5SIDRkhQAQmgHgcBxAsixAsiwAAAAAAAAAkDQN0DwPsDQPAAAAAAAAACRNAyxPAzTPAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABA0jRA8zxA8zwAAAAAAAAA0DwP8DwR8EQRAAAAAAAAACzPAzTRAzxRBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABA0jRA8zxA8zwAAAAAAAAAsDwP8EQR0DwRAAAAAAAAACzPAzxRBDzRAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAEOAAABBgIRQasiIAiBMAcEgSJAmSBM0DSJYFTYOmwTQBkmVB06BpME0AAAAAAAAAAAAAJE2DpkHTIIoASdOgadA0iCIAAAAAAAAAAAAAkqZB06BpEEWApGnQNGgaRBEAAAAAAAAAAAAAzzQhihBFmCbAM02IIkQRpgkAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAGHAAAAgwoQwUGrIiAIgTAHA4imUBAIDjOJYFAACO41gWAABYliWKAABgWZooAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAYcAAACDChDBQashIAiAIAcCiKZQHHsSzgOJYFJMmyAJYF0DyApgFEEQAIAAAocAAACLBBU2JxgEJDVgIAUQAABsWxLE0TRZKkaZoniiRJ0zxPFGma53meacLzPM80IYqiaJoQRVE0TZimaaoqME1VFQAAUOAAABBgg6bE4gCFhqwEAEICAByKYlma5nmeJ4qmqZokSdM8TxRF0TRNU1VJkqZ5niiKommapqqyLE3zPFEURdNUVVWFpnmeKIqiaaqq6sLzPE8URdE0VdV14XmeJ4qiaJqq6roQRVE0TdNUTVV1XSCKpmmaqqqqrgtETxRNU1Vd13WB54miaaqqq7ouEE3TVFVVdV1ZBpimaaqq68oyQFVV1XVdV5YBqqqqruu6sgxQVdd1XVmWZQCu67qyLMsCAAAOHAAAAoygk4wqi7DRhAsPQKEhKwKAKAAAwBimFFPKMCYhpBAaxiSEFEImJaXSUqogpFJSKRWEVEoqJaOUUmopVRBSKamUCkIqJZVSAADYgQMA2IGFUGjISgAgDwCAMEYpxhhzTiKkFGPOOScRUoox55yTSjHmnHPOSSkZc8w556SUzjnnnHNSSuacc845KaVzzjnnnJRSSuecc05KKSWEzkEnpZTSOeecEwAAVOAAABBgo8jmBCNBhYasBABSAQAMjmNZmuZ5omialiRpmud5niiapiZJmuZ5nieKqsnzPE8URdE0VZXneZ4oiqJpqirXFUXTNE1VVV2yLIqmaZqq6rowTdNUVdd1XZimaaqq67oubFtVVdV1ZRm2raqq6rqyDFzXdWXZloEsu67s2rIAAPAEBwCgAhtWRzgpGgssNGQlAJABAEAYg5BCCCFlEEIKIYSUUggJAAAYcAAACDChDBQashIASAUAAIyx1lprrbXWQGettdZaa62AzFprrbXWWmuttdZaa6211lJrrbXWWmuttdZaa6211lprrbXWWmuttdZaa6211lprrbXWWmuttdZaa6211lprrbXWWmstpZRSSimllFJKKaWUUkoppZRSSgUA+lU4APg/2LA6wknRWGChISsBgHAAAMAYpRhzDEIppVQIMeacdFRai7FCiDHnJKTUWmzFc85BKCGV1mIsnnMOQikpxVZjUSmEUlJKLbZYi0qho5JSSq3VWIwxqaTWWoutxmKMSSm01FqLMRYjbE2ptdhqq7EYY2sqLbQYY4zFCF9kbC2m2moNxggjWywt1VprMMYY3VuLpbaaizE++NpSLDHWXAAAd4MDAESCjTOsJJ0VjgYXGrISAAgJACAQUooxxhhzzjnnpFKMOeaccw5CCKFUijHGnHMOQgghlIwx5pxzEEIIIYRSSsaccxBCCCGEkFLqnHMQQgghhBBKKZ1zDkIIIYQQQimlgxBCCCGEEEoopaQUQgghhBBCCKmklEIIIYRSQighlZRSCCGEEEIpJaSUUgohhFJCCKGElFJKKYUQQgillJJSSimlEkoJJYQSUikppRRKCCGUUkpKKaVUSgmhhBJKKSWllFJKIYQQSikFAAAcOAAABBhBJxlVFmGjCRcegEJDVgIAZAAAkKKUUiktRYIipRikGEtGFXNQWoqocgxSzalSziDmJJaIMYSUk1Qy5hRCDELqHHVMKQYtlRhCxhik2HJLoXMOAAAAQQCAgJAAAAMEBTMAwOAA4XMQdAIERxsAgCBEZohEw0JweFAJEBFTAUBigkIuAFRYXKRdXECXAS7o4q4DIQQhCEEsDqCABByccMMTb3jCDU7QKSp1IAAAAAAADADwAACQXAAREdHMYWRobHB0eHyAhIiMkAgAAAAAABcAfAAAJCVAREQ0cxgZGhscHR4fICEiIyQBAIAAAgAAAAAggAAEBAQAAAAAAAIAAAAEBB9DtnUBAAAAAAAEPueBAKOFggAAgACjzoEAA4BwBwCdASqwAJAAAEcIhYWIhYSIAgIABhwJ7kPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99YAD+/6tQgKOFggADgAqjhYIAD4AOo4WCACSADqOZgQArADECAAEQEAAYABhYL/QACIBDmAYAAKOFggA6gA6jhYIAT4AOo5mBAFMAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAGSADqOFggB6gA6jmYEAewAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIAj4AOo5mBAKMAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAKSADqOFggC6gA6jmYEAywAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIAz4AOo4WCAOSADqOZgQDzADECAAEQEAAYABhYL/QACIBDmAYAAKOFggD6gA6jhYIBD4AOo5iBARsAEQIAARAQFGAAYWC/0AAiAQ5gGACjhYIBJIAOo4WCATqADqOZgQFDADECAAEQEAAYABhYL/QACIBDmAYAAKOFggFPgA6jhYIBZIAOo5mBAWsAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAXqADqOFggGPgA6jmYEBkwAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIBpIAOo4WCAbqADqOZgQG7ADECAAEQEAAYABhYL/QACIBDmAYAAKOFggHPgA6jmYEB4wAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIB5IAOo4WCAfqADqOZgQILADECAAEQEAAYABhYL/QACIBDmAYAAKOFggIPgA6jhYICJIAOo5mBAjMAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAjqADqOFggJPgA6jmYECWwAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYICZIAOo4WCAnqADqOZgQKDADECAAEQEAAYABhYL/QACIBDmAYAAKOFggKPgA6jhYICpIAOo5mBAqsAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCArqADqOFggLPgA6jmIEC0wARAgABEBAUYABhYL/QACIBDmAYAKOFggLkgA6jhYIC+oAOo5mBAvsAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAw+ADqOZgQMjADECAAEQEAAYABhYL/QACIBDmAYAAKOFggMkgA6jhYIDOoAOo5mBA0sAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCA0+ADqOFggNkgA6jmYEDcwAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIDeoAOo4WCA4+ADqOZgQObADECAAEQEAAYABhYL/QACIBDmAYAAKOFggOkgA6jhYIDuoAOo5mBA8MAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCA8+ADqOFggPkgA6jhYID+oAOo4WCBA+ADhxTu2sBAAAAAAAAEbuPs4EDt4r3gQHxghEr8IEK",mp4:"data:video/mp4;base64,AAAAHGZ0eXBNNFYgAAACAGlzb21pc28yYXZjMQAAAAhmcmVlAAAGF21kYXTeBAAAbGliZmFhYyAxLjI4AABCAJMgBDIARwAAArEGBf//rdxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNDIgcjIgOTU2YzhkOCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTQgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0wIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz02IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MCB3ZWlnaHRwPTAga2V5aW50PTI1MCBrZXlpbnRfbWluPTI1IHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcmM9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCB2YnZfbWF4cmF0ZT03NjggdmJ2X2J1ZnNpemU9MzAwMCBjcmZfbWF4PTAuMCBuYWxfaHJkPW5vbmUgZmlsbGVyPTAgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAAFZliIQL8mKAAKvMnJycnJycnJycnXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXiEASZACGQAjgCEASZACGQAjgAAAAAdBmjgX4GSAIQBJkAIZACOAAAAAB0GaVAX4GSAhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGagC/AySEASZACGQAjgAAAAAZBmqAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZrAL8DJIQBJkAIZACOAAAAABkGa4C/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmwAvwMkhAEmQAhkAI4AAAAAGQZsgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGbQC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm2AvwMkhAEmQAhkAI4AAAAAGQZuAL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGboC/AySEASZACGQAjgAAAAAZBm8AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZvgL8DJIQBJkAIZACOAAAAABkGaAC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmiAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpAL8DJIQBJkAIZACOAAAAABkGaYC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmoAvwMkhAEmQAhkAI4AAAAAGQZqgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGawC/AySEASZACGQAjgAAAAAZBmuAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZsAL8DJIQBJkAIZACOAAAAABkGbIC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm0AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZtgL8DJIQBJkAIZACOAAAAABkGbgCvAySEASZACGQAjgCEASZACGQAjgAAAAAZBm6AnwMkhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AAAAhubW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAABDcAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAzB0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAA+kAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAALAAAACQAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAPpAAAAAAABAAAAAAKobWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAB1MAAAdU5VxAAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABWaWRlb0hhbmRsZXIAAAACU21pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAhNzdGJsAAAAr3N0c2QAAAAAAAAAAQAAAJ9hdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAALAAkABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAALWF2Y0MBQsAN/+EAFWdCwA3ZAsTsBEAAAPpAADqYA8UKkgEABWjLg8sgAAAAHHV1aWRraEDyXyRPxbo5pRvPAyPzAAAAAAAAABhzdHRzAAAAAAAAAAEAAAAeAAAD6QAAABRzdHNzAAAAAAAAAAEAAAABAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAABAAAAAQAAAIxzdHN6AAAAAAAAAAAAAAAeAAADDwAAAAsAAAALAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAAiHN0Y28AAAAAAAAAHgAAAEYAAANnAAADewAAA5gAAAO0AAADxwAAA+MAAAP2AAAEEgAABCUAAARBAAAEXQAABHAAAASMAAAEnwAABLsAAATOAAAE6gAABQYAAAUZAAAFNQAABUgAAAVkAAAFdwAABZMAAAWmAAAFwgAABd4AAAXxAAAGDQAABGh0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAACAAAAAAAABDcAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAQkAAADcAABAAAAAAPgbWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAAykBVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAADi21pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAADT3N0YmwAAABnc3RzZAAAAAAAAAABAAAAV21wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAAM2VzZHMAAAAAA4CAgCIAAgAEgICAFEAVBbjYAAu4AAAADcoFgICAAhGQBoCAgAECAAAAIHN0dHMAAAAAAAAAAgAAADIAAAQAAAAAAQAAAkAAAAFUc3RzYwAAAAAAAAAbAAAAAQAAAAEAAAABAAAAAgAAAAIAAAABAAAAAwAAAAEAAAABAAAABAAAAAIAAAABAAAABgAAAAEAAAABAAAABwAAAAIAAAABAAAACAAAAAEAAAABAAAACQAAAAIAAAABAAAACgAAAAEAAAABAAAACwAAAAIAAAABAAAADQAAAAEAAAABAAAADgAAAAIAAAABAAAADwAAAAEAAAABAAAAEAAAAAIAAAABAAAAEQAAAAEAAAABAAAAEgAAAAIAAAABAAAAFAAAAAEAAAABAAAAFQAAAAIAAAABAAAAFgAAAAEAAAABAAAAFwAAAAIAAAABAAAAGAAAAAEAAAABAAAAGQAAAAIAAAABAAAAGgAAAAEAAAABAAAAGwAAAAIAAAABAAAAHQAAAAEAAAABAAAAHgAAAAIAAAABAAAAHwAAAAQAAAABAAAA4HN0c3oAAAAAAAAAAAAAADMAAAAaAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAACMc3RjbwAAAAAAAAAfAAAALAAAA1UAAANyAAADhgAAA6IAAAO+AAAD0QAAA+0AAAQAAAAEHAAABC8AAARLAAAEZwAABHoAAASWAAAEqQAABMUAAATYAAAE9AAABRAAAAUjAAAFPwAABVIAAAVuAAAFgQAABZ0AAAWwAAAFzAAABegAAAX7AAAGFwAAAGJ1ZHRhAAAAWm1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAALWlsc3QAAAAlqXRvbwAAAB1kYXRhAAAAAQAAAABMYXZmNTUuMzMuMTAw"};const{webm:hX,mp4:pX}=fX,hy=()=>typeof navigator<"u"&&parseFloat((""+(/CPU.*OS ([0-9_]{3,4})[0-9_]{0,1}|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))<10&&!window.MSStream,py=()=>"wakeLock"in navigator&&window.navigator.userAgent.indexOf("Samsung")===-1;class gX{constructor(){if(this.enabled=!1,py()){this._wakeLock=null;const t=()=>{this._wakeLock!==null&&document.visibilityState==="visible"&&this.enable()};document.addEventListener("visibilitychange",t),document.addEventListener("fullscreenchange",t)}else hy()?this.noSleepTimer=null:(this.noSleepVideo=document.createElement("video"),this.noSleepVideo.setAttribute("title","No Sleep"),this.noSleepVideo.setAttribute("playsinline",""),this._addSourceToVideo(this.noSleepVideo,"webm",hX),this._addSourceToVideo(this.noSleepVideo,"mp4",pX),Object.assign(this.noSleepVideo.style,{position:"absolute",left:"-100%",top:"-100%"}),document.querySelector("body").append(this.noSleepVideo),this.noSleepVideo.addEventListener("loadedmetadata",()=>{this.noSleepVideo.duration<=1?this.noSleepVideo.setAttribute("loop",""):this.noSleepVideo.addEventListener("timeupdate",()=>{this.noSleepVideo.currentTime>.5&&(this.noSleepVideo.currentTime=Math.random())})}))}_addSourceToVideo(t,n,r){var i=document.createElement("source");i.src=r,i.type=`video/${n}`,t.appendChild(i)}get isEnabled(){return this.enabled}enable(){return py()?navigator.wakeLock.request("screen").then(t=>{this._wakeLock=t,this.enabled=!0,console.log("Wake Lock active."),this._wakeLock.addEventListener("release",()=>{console.log("Wake Lock released.")})}).catch(t=>{throw this.enabled=!1,console.error(`${t.name}, ${t.message}`),t}):hy()?(this.disable(),console.warn(`
        NoSleep enabled for older iOS devices. This can interrupt
        active or long-running network requests from completing successfully.
        See https://github.com/richtr/NoSleep.js/issues/15 for more details.
      `),this.noSleepTimer=window.setInterval(()=>{document.hidden||(window.location.href=window.location.href.split("#")[0],window.setTimeout(window.stop,0))},15e3),this.enabled=!0,Promise.resolve()):this.noSleepVideo.play().then(n=>(this.enabled=!0,n)).catch(n=>{throw this.enabled=!1,n})}disable(){py()?(this._wakeLock&&this._wakeLock.release(),this._wakeLock=null):hy()?this.noSleepTimer&&(console.warn(`
          NoSleep now disabled for older iOS devices.
        `),window.clearInterval(this.noSleepTimer),this.noSleepTimer=null):this.noSleepVideo.pause(),this.enabled=!1}}var mX=gX;const vX=hr(mX),yX="/prs/284/assets/eurovisionbg-CvR5q-FP.svg",QS=y.createContext({visible:!0,theme:"regular",setVisibility:e=>{},setTheme:e=>{}}),ka=(e,t="regular")=>{const{setVisibility:n,setTheme:r}=y.useContext(QS);y.useEffect(()=>{n(e)},[e,n]),y.useEffect(()=>{r(t)},[t,r])};function AX({children:e}){const[t,n]=y.useState(!0),[r,i]=y.useState("regular"),[s]=Fe($i);return f.jsxs(QS.Provider,{value:{visible:t,setVisibility:n,setTheme:i,theme:r},children:[t&&f.jsx(CX,{"data-theme":r,"data-graphic-level":s,bgtheme:r,children:r==="eurovision"&&f.jsx(N1,{})}),e]})}const _X={name:"1skrp57",styles:"animation:escGradient 46s linear infinite;flex:1;@keyframes escGradient{0%{background-position:0% 800%;}100%{background-position:0% 0%;}}"},bX=C("div",{target:"ev6htcq2"})("transform:scale(1, 4);background-image:url(",yX,");background-size:100% 50%;height:100%;&[data-animate='true']{",_X,";}"),N1=()=>{var e;return f.jsx(bX,{"data-animate":!((e=global.location)!=null&&e.href.includes("/remote-mic"))})},SX=mi(`background-image:linear-gradient(
    -45deg,
    `,Ie.christmasGreen.text,`,
    `,Ie.christmasGreen.stroke,`,
    `,Ie.christmasRed.stroke,`,
    `,Ie.christmasRed.stroke,`
  );background-size:400% 400%;`,""),xX={name:"zjik7",styles:"display:flex"},wX=mi(`background-image:linear-gradient(
    -45deg,
    `,Ie.red.stroke,`,
    `,Ie.blue.text,`,
    `,Ie.blue.stroke,`,
    `,Ie.red.stroke,`
  );background-size:400% 400%;`,""),EX=C("div",{target:"ev6htcq1"})({name:"18w86be",styles:"background-color:white;width:100%;height:100%"}),kX={name:"x35kb",styles:"animation:gradient 15s ease infinite;@keyframes gradient{0%{background-position:0% 50%;}50%{background-position:100% 50%;}100%{background-position:0% 50%;}}"},CX=C(EX,{target:"ev6htcq0"})("z-index:-1;top:0;position:fixed;&[data-theme='eurovision']{",xX,";}&[data-theme='christmas']{",SX,";}&[data-theme='regular']{",wX,";}background-position:100% 50%;&[data-graphic-level='high']{",kX,";}");function TX({size:e=16}){return f.jsx("style",{children:`html {
                font-size: ${e}px !important;
            }`})}function w0(e){return y.useMemo(()=>{var t;return new URLSearchParams((t=global.location)==null?void 0:t.search).get(e)},[e])}const IX=C("div",{target:"e1py91zd0"})(":root{--player-blue-text:",Ie.blue.text,";--player-blue-stroke:",Ie.blue.stroke,";--player-blue-star-fill:",Ie.blue.star.fill,";--player-blue-star-stroke:",Ie.blue.star.stroke,";--player-blue-perfect-fill:",Ie.blue.perfect.fill,";--player-blue-perfect-stroke:",Ie.blue.perfect.stroke,";--player-blue-starPerfect-fill:",Ie.blue.starPerfect.fill,";--player-blue-starPerfect-stroke:",Ie.blue.starPerfect.stroke,";--player-blue-hit-fill:",Ie.blue.hit.fill,";--player-blue-hit-stroke:",Ie.blue.hit.stroke,";--player-blue-miss-fill:",Ie.blue.miss.fill,";--player-blue-miss-stroke:",Ie.blue.miss.stroke,";}h1{",$e,";margin:0;text-align:center;font-size:4rem;color:",de.colors.text.active,";}h2{",$e,";margin:0;font-size:2.9rem;}h3{",$e,";margin:0;font-size:2.7rem;strong{color:",de.colors.text.active,";}}h4{",$e,";margin:0;font-size:2.2rem;line-height:1.15;}h5{",$e,";margin:0;font-size:1.6rem;line-height:1.5;}h6{",$e,";margin:0;line-height:1.5;font-size:1.3rem;}hr{margin:0.5rem 1rem;opacity:0.25;}h1,h2,h3,h4,h5{button{",$e,";background:none;padding:0;margin:0;border:none;font-size:inherit;color:",de.colors.text.active,";text-decoration:underline;cursor:pointer;}svg{font-size:0.8em;}}a{",$e,";color:",de.colors.text.active,";text-decoration:underline;}strong{color:",de.colors.text.active,";}");var JS={},eO={exports:{}};(function(e){function t(n){return n&&n.__esModule?n:{default:n}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(eO);var ot=eO.exports,gy={};function Ve(){return Ve=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ve.apply(null,arguments)}function Ko(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function tO(e){if(!Ko(e))return e;const t={};return Object.keys(e).forEach(n=>{t[n]=tO(e[n])}),t}function bs(e,t,n={clone:!0}){const r=n.clone?Ve({},e):e;return Ko(e)&&Ko(t)&&Object.keys(t).forEach(i=>{Ko(t[i])&&Object.prototype.hasOwnProperty.call(e,i)&&Ko(e[i])?r[i]=bs(e[i],t[i],n):n.clone?r[i]=Ko(t[i])?tO(t[i]):t[i]:r[i]=t[i]}),r}const PX=Object.freeze(Object.defineProperty({__proto__:null,default:bs,isPlainObject:Ko},Symbol.toStringTag,{value:"Module"}));var nO={exports:{}},RX="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",MX=RX,jX=MX;function rO(){}function iO(){}iO.resetWarningCache=rO;var OX=function(){function e(r,i,s,o,a,l){if(l!==jX){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:iO,resetWarningCache:rO};return n.PropTypes=n,n};nO.exports=OX();var VX=nO.exports;const Qe=hr(VX);function Sl(e){let t="https://mui.com/production-error/?code="+e;for(let n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}const LX=Object.freeze(Object.defineProperty({__proto__:null,default:Sl},Symbol.toStringTag,{value:"Module"}));var sO={exports:{}},Ct={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XS=Symbol.for("react.element"),ZS=Symbol.for("react.portal"),E0=Symbol.for("react.fragment"),k0=Symbol.for("react.strict_mode"),C0=Symbol.for("react.profiler"),T0=Symbol.for("react.provider"),I0=Symbol.for("react.context"),NX=Symbol.for("react.server_context"),P0=Symbol.for("react.forward_ref"),R0=Symbol.for("react.suspense"),M0=Symbol.for("react.suspense_list"),j0=Symbol.for("react.memo"),O0=Symbol.for("react.lazy"),BX=Symbol.for("react.offscreen"),oO;oO=Symbol.for("react.module.reference");function es(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case XS:switch(e=e.type,e){case E0:case C0:case k0:case R0:case M0:return e;default:switch(e=e&&e.$$typeof,e){case NX:case I0:case P0:case O0:case j0:case T0:return e;default:return t}}case ZS:return t}}}Ct.ContextConsumer=I0;Ct.ContextProvider=T0;Ct.Element=XS;Ct.ForwardRef=P0;Ct.Fragment=E0;Ct.Lazy=O0;Ct.Memo=j0;Ct.Portal=ZS;Ct.Profiler=C0;Ct.StrictMode=k0;Ct.Suspense=R0;Ct.SuspenseList=M0;Ct.isAsyncMode=function(){return!1};Ct.isConcurrentMode=function(){return!1};Ct.isContextConsumer=function(e){return es(e)===I0};Ct.isContextProvider=function(e){return es(e)===T0};Ct.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===XS};Ct.isForwardRef=function(e){return es(e)===P0};Ct.isFragment=function(e){return es(e)===E0};Ct.isLazy=function(e){return es(e)===O0};Ct.isMemo=function(e){return es(e)===j0};Ct.isPortal=function(e){return es(e)===ZS};Ct.isProfiler=function(e){return es(e)===C0};Ct.isStrictMode=function(e){return es(e)===k0};Ct.isSuspense=function(e){return es(e)===R0};Ct.isSuspenseList=function(e){return es(e)===M0};Ct.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===E0||e===C0||e===k0||e===R0||e===M0||e===BX||typeof e=="object"&&e!==null&&(e.$$typeof===O0||e.$$typeof===j0||e.$$typeof===T0||e.$$typeof===I0||e.$$typeof===P0||e.$$typeof===oO||e.getModuleId!==void 0)};Ct.typeOf=es;sO.exports=Ct;var JC=sO.exports;const DX=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function aO(e){const t=`${e}`.match(DX);return t&&t[1]||""}function lO(e,t=""){return e.displayName||e.name||aO(e)||t}function XC(e,t,n){const r=lO(t);return e.displayName||(r!==""?`${n}(${r})`:n)}function $X(e){if(e!=null){if(typeof e=="string")return e;if(typeof e=="function")return lO(e,"Component");if(typeof e=="object")switch(e.$$typeof){case JC.ForwardRef:return XC(e,e.render,"ForwardRef");case JC.Memo:return XC(e,e.type,"memo");default:return}}}const FX=Object.freeze(Object.defineProperty({__proto__:null,default:$X,getFunctionName:aO},Symbol.toStringTag,{value:"Module"}));function Zn(e){if(typeof e!="string")throw new Error(Sl(7));return e.charAt(0).toUpperCase()+e.slice(1)}const zX=Object.freeze(Object.defineProperty({__proto__:null,default:Zn},Symbol.toStringTag,{value:"Module"}));function UX(...e){return e.reduce((t,n)=>n==null?t:function(...i){t.apply(this,i),n.apply(this,i)},()=>{})}function HX(e,t=166){let n;function r(...i){const s=()=>{e.apply(this,i)};clearTimeout(n),n=setTimeout(s,t)}return r.clear=()=>{clearTimeout(n)},r}function GX(e,t){return()=>null}function qX(e,t){var n,r;return y.isValidElement(e)&&t.indexOf((n=e.type.muiName)!=null?n:(r=e.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function cO(e){return e&&e.ownerDocument||document}function WX(e){return cO(e).defaultView||window}function KX(e,t){return()=>null}function uO(e,t){typeof e=="function"?e(t):e&&(e.current=t)}const dO=typeof window<"u"?y.useLayoutEffect:y.useEffect;let ZC=0;function YX(e){const[t,n]=y.useState(e),r=e||t;return y.useEffect(()=>{t==null&&(ZC+=1,n(`mui-${ZC}`))},[t]),r}const eT=mg.useId;function QX(e){if(eT!==void 0){const t=eT();return e??t}return YX(e)}function JX(e,t,n,r,i){return null}function XX({controlled:e,default:t,name:n,state:r="value"}){const{current:i}=y.useRef(e!==void 0),[s,o]=y.useState(t),a=i?e:s,l=y.useCallback(c=>{i||o(c)},[]);return[a,l]}function yd(e){const t=y.useRef(e);return dO(()=>{t.current=e}),y.useRef((...n)=>(0,t.current)(...n)).current}function B1(...e){return y.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(n=>{uO(n,t)})},e)}const tT={};function ZX(e,t){const n=y.useRef(tT);return n.current===tT&&(n.current=e(t)),n}const eZ=[];function tZ(e){y.useEffect(e,eZ)}class V0{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new V0}start(t,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},t)}}function nZ(){const e=ZX(V0.create).current;return tZ(e.disposeEffect),e}let L0=!0,D1=!1;const rZ=new V0,iZ={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function sZ(e){const{type:t,tagName:n}=e;return!!(n==="INPUT"&&iZ[t]&&!e.readOnly||n==="TEXTAREA"&&!e.readOnly||e.isContentEditable)}function oZ(e){e.metaKey||e.altKey||e.ctrlKey||(L0=!0)}function my(){L0=!1}function aZ(){this.visibilityState==="hidden"&&D1&&(L0=!0)}function lZ(e){e.addEventListener("keydown",oZ,!0),e.addEventListener("mousedown",my,!0),e.addEventListener("pointerdown",my,!0),e.addEventListener("touchstart",my,!0),e.addEventListener("visibilitychange",aZ,!0)}function cZ(e){const{target:t}=e;try{return t.matches(":focus-visible")}catch{}return L0||sZ(t)}function fO(){const e=y.useCallback(i=>{i!=null&&lZ(i.ownerDocument)},[]),t=y.useRef(!1);function n(){return t.current?(D1=!0,rZ.start(100,()=>{D1=!1}),t.current=!1,!0):!1}function r(i){return cZ(i)?(t.current=!0,!0):!1}return{isFocusVisibleRef:t,onFocus:r,onBlur:n,ref:e}}function $1(e,t){const n=Ve({},t);return Object.keys(e).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=Ve({},e[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=e[r]||{},s=t[r];n[r]={},!s||!Object.keys(s)?n[r]=i:!i||!Object.keys(i)?n[r]=s:(n[r]=Ve({},s),Object.keys(i).forEach(o=>{n[r][o]=$1(i[o],s[o])}))}else n[r]===void 0&&(n[r]=e[r])}),n}function dh(e,t,n=void 0){const r={};return Object.keys(e).forEach(i=>{r[i]=e[i].reduce((s,o)=>{if(o){const a=t(o);a!==""&&s.push(a),n&&n[o]&&s.push(n[o])}return s},[]).join(" ")}),r}const nT=e=>e,uZ=()=>{let e=nT;return{configure(t){e=t},generate(t){return e(t)},reset(){e=nT}}},dZ=uZ(),hO=dZ,fZ={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Iu(e,t,n="Mui"){const r=fZ[t];return r?`${n}-${r}`:`${hO.generate(e)}-${t}`}function Pu(e,t,n="Mui"){const r={};return t.forEach(i=>{r[i]=Iu(e,i,n)}),r}function pO(e,t=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(t,Math.min(e,n))}const hZ=Object.freeze(Object.defineProperty({__proto__:null,default:pO},Symbol.toStringTag,{value:"Module"}));function kr(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function gO(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=gO(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Rr(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=gO(e))&&(r&&(r+=" "),r+=t);return r}const mO=y.createContext(void 0);function pZ({value:e,children:t}){return f.jsx(mO.Provider,{value:e,children:t})}function gZ(e){const{theme:t,name:n,props:r}=e;if(!t||!t.components||!t.components[n])return r;const i=t.components[n];return i.defaultProps?$1(i.defaultProps,r):!i.styleOverrides&&!i.variants?$1(i,r):r}function mZ({props:e,name:t}){const n=y.useContext(mO);return gZ({props:e,name:t,theme:{components:n}})}function Ru(e){return mZ(e)}var fh={},vy={exports:{}},rT;function vZ(){return rT||(rT=1,function(e){function t(){return e.exports=t=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(null,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(vy)),vy.exports}var yy={exports:{}},iT;function yZ(){return iT||(iT=1,function(e){function t(n,r){if(n==null)return{};var i={};for(var s in n)if({}.hasOwnProperty.call(n,s)){if(r.indexOf(s)>=0)continue;i[s]=n[s]}return i}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(yy)),yy.exports}var AZ=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],F1=C.bind();AZ.forEach(function(e){F1[e]=F1(e)});let z1;typeof document=="object"&&(z1=MS({key:"css",prepend:!0}));function _Z(e){const{injectFirst:t,children:n}=e;return t&&z1?f.jsx(b3,{value:z1,children:n}):n}function bZ(e){return e==null||Object.keys(e).length===0}function SZ(e){const{styles:t,defaultTheme:n={}}=e,r=typeof t=="function"?i=>t(bZ(i)?n:i):t;return f.jsx(gK,{styles:r})}function xZ(e,t){return F1(e,t)}const wZ=(e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))},EZ=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:SZ,StyledEngineProvider:_Z,ThemeContext:ah,css:mi,default:xZ,internal_processStyles:wZ,keyframes:Ea},Symbol.toStringTag,{value:"Module"})),kZ=io(EZ),CZ=io(PX),TZ=io(zX),IZ=io(FX),PZ=["values","unit","step"],RZ=e=>{const t=Object.keys(e).map(n=>({key:n,val:e[n]}))||[];return t.sort((n,r)=>n.val-r.val),t.reduce((n,r)=>Ve({},n,{[r.key]:r.val}),{})};function vO(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=e,i=kr(e,PZ),s=RZ(t),o=Object.keys(s);function a(h){return`@media (min-width:${typeof t[h]=="number"?t[h]:h}${n})`}function l(h){return`@media (max-width:${(typeof t[h]=="number"?t[h]:h)-r/100}${n})`}function c(h,p){const g=o.indexOf(p);return`@media (min-width:${typeof t[h]=="number"?t[h]:h}${n}) and (max-width:${(g!==-1&&typeof t[o[g]]=="number"?t[o[g]]:p)-r/100}${n})`}function u(h){return o.indexOf(h)+1<o.length?c(h,o[o.indexOf(h)+1]):a(h)}function d(h){const p=o.indexOf(h);return p===0?a(o[1]):p===o.length-1?l(o[p]):c(h,o[o.indexOf(h)+1]).replace("@media","@media not all and")}return Ve({keys:o,values:s,up:a,down:l,between:c,only:u,not:d,unit:n},i)}const MZ={borderRadius:4},jZ=MZ;function $d(e,t){return t?bs(e,t,{clone:!1}):e}const ex={xs:0,sm:600,md:900,lg:1200,xl:1536},sT={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${ex[e]}px)`};function Co(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const s=r.breakpoints||sT;return t.reduce((o,a,l)=>(o[s.up(s.keys[l])]=n(t[l]),o),{})}if(typeof t=="object"){const s=r.breakpoints||sT;return Object.keys(t).reduce((o,a)=>{if(Object.keys(s.values||ex).indexOf(a)!==-1){const l=s.up(a);o[l]=n(t[a],a)}else{const l=a;o[l]=t[l]}return o},{})}return n(t)}function yO(e={}){var t;return((t=e.keys)==null?void 0:t.reduce((r,i)=>{const s=e.up(i);return r[s]={},r},{}))||{}}function AO(e,t){return e.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},t)}function L1e(e,...t){const n=yO(e),r=[n,...t].reduce((i,s)=>bs(i,s),{});return AO(Object.keys(n),r)}function OZ(e,t){if(typeof e!="object")return{};const n={},r=Object.keys(t);return Array.isArray(e)?r.forEach((i,s)=>{s<e.length&&(n[i]=!0)}):r.forEach(i=>{e[i]!=null&&(n[i]=!0)}),n}function N1e({values:e,breakpoints:t,base:n}){const r=n||OZ(e,t),i=Object.keys(r);if(i.length===0)return e;let s;return i.reduce((o,a,l)=>(Array.isArray(e)?(o[a]=e[l]!=null?e[l]:e[s],s=l):typeof e=="object"?(o[a]=e[a]!=null?e[a]:e[s],s=a):o[a]=e,o),{})}function N0(e,t,n=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&n){const r=`vars.${t}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,e);if(r!=null)return r}return t.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,e)}function Yg(e,t,n,r=n){let i;return typeof e=="function"?i=e(n):Array.isArray(e)?i=e[n]||r:i=N0(e,n)||r,t&&(i=t(i,r,e)),i}function En(e){const{prop:t,cssProperty:n=e.prop,themeKey:r,transform:i}=e,s=o=>{if(o[t]==null)return null;const a=o[t],l=o.theme,c=N0(l,r)||{};return Co(o,a,d=>{let h=Yg(c,i,d);return d===h&&typeof d=="string"&&(h=Yg(c,i,`${t}${d==="default"?"":Zn(d)}`,d)),n===!1?h:{[n]:h}})};return s.propTypes={},s.filterProps=[t],s}function VZ(e){const t={};return n=>(t[n]===void 0&&(t[n]=e(n)),t[n])}const LZ={m:"margin",p:"padding"},NZ={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},oT={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},BZ=VZ(e=>{if(e.length>2)if(oT[e])e=oT[e];else return[e];const[t,n]=e.split(""),r=LZ[t],i=NZ[n]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),tx=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],nx=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...tx,...nx];function hh(e,t,n,r){var i;const s=(i=N0(e,t,!1))!=null?i:n;return typeof s=="number"?o=>typeof o=="string"?o:s*o:Array.isArray(s)?o=>typeof o=="string"?o:s[o]:typeof s=="function"?s:()=>{}}function _O(e){return hh(e,"spacing",8)}function ph(e,t){if(typeof t=="string"||t==null)return t;const n=Math.abs(t),r=e(n);return t>=0?r:typeof r=="number"?-r:`-${r}`}function DZ(e,t){return n=>e.reduce((r,i)=>(r[i]=ph(t,n),r),{})}function $Z(e,t,n,r){if(t.indexOf(n)===-1)return null;const i=BZ(n),s=DZ(i,r),o=e[n];return Co(e,o,s)}function bO(e,t){const n=_O(e.theme);return Object.keys(e).map(r=>$Z(e,t,r,n)).reduce($d,{})}function dn(e){return bO(e,tx)}dn.propTypes={};dn.filterProps=tx;function fn(e){return bO(e,nx)}fn.propTypes={};fn.filterProps=nx;function FZ(e=8){if(e.mui)return e;const t=_O({spacing:e}),n=(...r)=>(r.length===0?[1]:r).map(s=>{const o=t(s);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}function B0(...e){const t=e.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),n=r=>Object.keys(r).reduce((i,s)=>t[s]?$d(i,t[s](r)):i,{});return n.propTypes={},n.filterProps=e.reduce((r,i)=>r.concat(i.filterProps),[]),n}function Li(e){return typeof e!="number"?e:`${e}px solid`}function ts(e,t){return En({prop:e,themeKey:"borders",transform:t})}const zZ=ts("border",Li),UZ=ts("borderTop",Li),HZ=ts("borderRight",Li),GZ=ts("borderBottom",Li),qZ=ts("borderLeft",Li),WZ=ts("borderColor"),KZ=ts("borderTopColor"),YZ=ts("borderRightColor"),QZ=ts("borderBottomColor"),JZ=ts("borderLeftColor"),XZ=ts("outline",Li),ZZ=ts("outlineColor"),D0=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=hh(e.theme,"shape.borderRadius",4),n=r=>({borderRadius:ph(t,r)});return Co(e,e.borderRadius,n)}return null};D0.propTypes={};D0.filterProps=["borderRadius"];B0(zZ,UZ,HZ,GZ,qZ,WZ,KZ,YZ,QZ,JZ,D0,XZ,ZZ);const $0=e=>{if(e.gap!==void 0&&e.gap!==null){const t=hh(e.theme,"spacing",8),n=r=>({gap:ph(t,r)});return Co(e,e.gap,n)}return null};$0.propTypes={};$0.filterProps=["gap"];const F0=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=hh(e.theme,"spacing",8),n=r=>({columnGap:ph(t,r)});return Co(e,e.columnGap,n)}return null};F0.propTypes={};F0.filterProps=["columnGap"];const z0=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=hh(e.theme,"spacing",8),n=r=>({rowGap:ph(t,r)});return Co(e,e.rowGap,n)}return null};z0.propTypes={};z0.filterProps=["rowGap"];const eee=En({prop:"gridColumn"}),tee=En({prop:"gridRow"}),nee=En({prop:"gridAutoFlow"}),ree=En({prop:"gridAutoColumns"}),iee=En({prop:"gridAutoRows"}),see=En({prop:"gridTemplateColumns"}),oee=En({prop:"gridTemplateRows"}),aee=En({prop:"gridTemplateAreas"}),lee=En({prop:"gridArea"});B0($0,F0,z0,eee,tee,nee,ree,iee,see,oee,aee,lee);function Oc(e,t){return t==="grey"?t:e}const cee=En({prop:"color",themeKey:"palette",transform:Oc}),uee=En({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Oc}),dee=En({prop:"backgroundColor",themeKey:"palette",transform:Oc});B0(cee,uee,dee);function ai(e){return e<=1&&e!==0?`${e*100}%`:e}const fee=En({prop:"width",transform:ai}),rx=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=n=>{var r,i;const s=((r=e.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[n])||ex[n];return s?((i=e.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${s}${e.theme.breakpoints.unit}`}:{maxWidth:s}:{maxWidth:ai(n)}};return Co(e,e.maxWidth,t)}return null};rx.filterProps=["maxWidth"];const hee=En({prop:"minWidth",transform:ai}),pee=En({prop:"height",transform:ai}),gee=En({prop:"maxHeight",transform:ai}),mee=En({prop:"minHeight",transform:ai});En({prop:"size",cssProperty:"width",transform:ai});En({prop:"size",cssProperty:"height",transform:ai});const vee=En({prop:"boxSizing"});B0(fee,rx,hee,pee,gee,mee,vee);const yee={border:{themeKey:"borders",transform:Li},borderTop:{themeKey:"borders",transform:Li},borderRight:{themeKey:"borders",transform:Li},borderBottom:{themeKey:"borders",transform:Li},borderLeft:{themeKey:"borders",transform:Li},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Li},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:D0},color:{themeKey:"palette",transform:Oc},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Oc},backgroundColor:{themeKey:"palette",transform:Oc},p:{style:fn},pt:{style:fn},pr:{style:fn},pb:{style:fn},pl:{style:fn},px:{style:fn},py:{style:fn},padding:{style:fn},paddingTop:{style:fn},paddingRight:{style:fn},paddingBottom:{style:fn},paddingLeft:{style:fn},paddingX:{style:fn},paddingY:{style:fn},paddingInline:{style:fn},paddingInlineStart:{style:fn},paddingInlineEnd:{style:fn},paddingBlock:{style:fn},paddingBlockStart:{style:fn},paddingBlockEnd:{style:fn},m:{style:dn},mt:{style:dn},mr:{style:dn},mb:{style:dn},ml:{style:dn},mx:{style:dn},my:{style:dn},margin:{style:dn},marginTop:{style:dn},marginRight:{style:dn},marginBottom:{style:dn},marginLeft:{style:dn},marginX:{style:dn},marginY:{style:dn},marginInline:{style:dn},marginInlineStart:{style:dn},marginInlineEnd:{style:dn},marginBlock:{style:dn},marginBlockStart:{style:dn},marginBlockEnd:{style:dn},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:$0},rowGap:{style:z0},columnGap:{style:F0},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:ai},maxWidth:{style:rx},minWidth:{transform:ai},height:{transform:ai},maxHeight:{transform:ai},minHeight:{transform:ai},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},gh=yee;function Aee(...e){const t=e.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(t);return e.every(r=>n.size===Object.keys(r).length)}function _ee(e,t){return typeof e=="function"?e(t):e}function SO(){function e(n,r,i,s){const o={[n]:r,theme:i},a=s[n];if(!a)return{[n]:r};const{cssProperty:l=n,themeKey:c,transform:u,style:d}=a;if(r==null)return null;if(c==="typography"&&r==="inherit")return{[n]:r};const h=N0(i,c)||{};return d?d(o):Co(o,r,g=>{let m=Yg(h,u,g);return g===m&&typeof g=="string"&&(m=Yg(h,u,`${n}${g==="default"?"":Zn(g)}`,g)),l===!1?m:{[l]:m}})}function t(n){var r;const{sx:i,theme:s={}}=n||{};if(!i)return null;const o=(r=s.unstable_sxConfig)!=null?r:gh;function a(l){let c=l;if(typeof l=="function")c=l(s);else if(typeof l!="object")return l;if(!c)return null;const u=yO(s.breakpoints),d=Object.keys(u);let h=u;return Object.keys(c).forEach(p=>{const g=_ee(c[p],s);if(g!=null)if(typeof g=="object")if(o[p])h=$d(h,e(p,g,s,o));else{const m=Co({theme:s},g,_=>({[p]:_}));Aee(m,g)?h[p]=t({sx:g,theme:s}):h=$d(h,m)}else h=$d(h,e(p,g,s,o))}),AO(d,h)}return Array.isArray(i)?i.map(a):a(i)}return t}const xO=SO();xO.filterProps=["sx"];const ix=xO;function wO(e,t){const n=this;return n.vars&&typeof n.getColorSchemeSelector=="function"?{[n.getColorSchemeSelector(e).replace(/(\[[^\]]+\])/,"*:where($1)")]:t}:n.palette.mode===e?t:{}}const bee=["breakpoints","palette","spacing","shape"];function EO(e={},...t){const{breakpoints:n={},palette:r={},spacing:i,shape:s={}}=e,o=kr(e,bee),a=vO(n),l=FZ(i);let c=bs({breakpoints:a,direction:"ltr",components:{},palette:Ve({mode:"light"},r),spacing:l,shape:Ve({},jZ,s)},o);return c.applyStyles=wO,c=t.reduce((u,d)=>bs(u,d),c),c.unstable_sxConfig=Ve({},gh,o==null?void 0:o.unstable_sxConfig),c.unstable_sx=function(d){return ix({sx:d,theme:this})},c}const See=Object.freeze(Object.defineProperty({__proto__:null,default:EO,private_createBreakpoints:vO,unstable_applyStyles:wO},Symbol.toStringTag,{value:"Module"})),xee=io(See),wee=["sx"],Eee=e=>{var t,n;const r={systemProps:{},otherProps:{}},i=(t=e==null||(n=e.theme)==null?void 0:n.unstable_sxConfig)!=null?t:gh;return Object.keys(e).forEach(s=>{i[s]?r.systemProps[s]=e[s]:r.otherProps[s]=e[s]}),r};function kee(e){const{sx:t}=e,n=kr(e,wee),{systemProps:r,otherProps:i}=Eee(n);let s;return Array.isArray(t)?s=[r,...t]:typeof t=="function"?s=(...o)=>{const a=t(...o);return Ko(a)?Ve({},r,a):r}:s=Ve({},r,t),Ve({},i,{sx:s})}const Cee=Object.freeze(Object.defineProperty({__proto__:null,default:ix,extendSxProp:kee,unstable_createStyleFunctionSx:SO,unstable_defaultSxConfig:gh},Symbol.toStringTag,{value:"Module"})),Tee=io(Cee);var Mu=ot;Object.defineProperty(fh,"__esModule",{value:!0});var Iee=fh.default=zee;fh.shouldForwardProp=eg;fh.systemDefaultTheme=void 0;var Pi=Mu(vZ()),U1=Mu(yZ()),aT=Lee(kZ),Pee=CZ;Mu(TZ);Mu(IZ);var Ree=Mu(xee),Mee=Mu(Tee);const jee=["ownerState"],Oee=["variants"],Vee=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function kO(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(kO=function(r){return r?n:t})(e)}function Lee(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=kO(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(s!=="default"&&Object.prototype.hasOwnProperty.call(e,s)){var o=i?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=e[s]}return r.default=e,n&&n.set(e,r),r}function Nee(e){return Object.keys(e).length===0}function Bee(e){return typeof e=="string"&&e.charCodeAt(0)>96}function eg(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const Dee=fh.systemDefaultTheme=(0,Ree.default)(),$ee=e=>e&&e.charAt(0).toLowerCase()+e.slice(1);function ip({defaultTheme:e,theme:t,themeId:n}){return Nee(t)?e:t[n]||t}function Fee(e){return e?(t,n)=>n[e]:null}function tg(e,t){let{ownerState:n}=t,r=(0,U1.default)(t,jee);const i=typeof e=="function"?e((0,Pi.default)({ownerState:n},r)):e;if(Array.isArray(i))return i.flatMap(s=>tg(s,(0,Pi.default)({ownerState:n},r)));if(i&&typeof i=="object"&&Array.isArray(i.variants)){const{variants:s=[]}=i;let a=(0,U1.default)(i,Oee);return s.forEach(l=>{let c=!0;typeof l.props=="function"?c=l.props((0,Pi.default)({ownerState:n},r,n)):Object.keys(l.props).forEach(u=>{(n==null?void 0:n[u])!==l.props[u]&&r[u]!==l.props[u]&&(c=!1)}),c&&(Array.isArray(a)||(a=[a]),a.push(typeof l.style=="function"?l.style((0,Pi.default)({ownerState:n},r,n)):l.style))}),a}return i}function zee(e={}){const{themeId:t,defaultTheme:n=Dee,rootShouldForwardProp:r=eg,slotShouldForwardProp:i=eg}=e,s=o=>(0,Mee.default)((0,Pi.default)({},o,{theme:ip((0,Pi.default)({},o,{defaultTheme:n,themeId:t}))}));return s.__mui_systemSx=!0,(o,a={})=>{(0,aT.internal_processStyles)(o,b=>b.filter(w=>!(w!=null&&w.__mui_systemSx)));const{name:l,slot:c,skipVariantsResolver:u,skipSx:d,overridesResolver:h=Fee($ee(c))}=a,p=(0,U1.default)(a,Vee),g=u!==void 0?u:c&&c!=="Root"&&c!=="root"||!1,m=d||!1;let _,v=eg;c==="Root"||c==="root"?v=r:c?v=i:Bee(o)&&(v=void 0);const A=(0,aT.default)(o,(0,Pi.default)({shouldForwardProp:v,label:_},p)),S=b=>typeof b=="function"&&b.__emotion_real!==b||(0,Pee.isPlainObject)(b)?w=>tg(b,(0,Pi.default)({},w,{theme:ip({theme:w.theme,defaultTheme:n,themeId:t})})):b,x=(b,...w)=>{let E=S(b);const T=w?w.map(S):[];l&&h&&T.push(D=>{const q=ip((0,Pi.default)({},D,{defaultTheme:n,themeId:t}));if(!q.components||!q.components[l]||!q.components[l].styleOverrides)return null;const M=q.components[l].styleOverrides,V={};return Object.entries(M).forEach(([P,I])=>{V[P]=tg(I,(0,Pi.default)({},D,{theme:q}))}),h(D,V)}),l&&!g&&T.push(D=>{var q;const M=ip((0,Pi.default)({},D,{defaultTheme:n,themeId:t})),V=M==null||(q=M.components)==null||(q=q[l])==null?void 0:q.variants;return tg({variants:V},(0,Pi.default)({},D,{theme:M}))}),m||T.push(s);const j=T.length-w.length;if(Array.isArray(b)&&j>0){const D=new Array(j).fill("");E=[...b,...D],E.raw=[...b.raw,...D]}const B=A(E,...T);return o.muiName&&(B.muiName=o.muiName),B};return A.withConfig&&(x.withConfig=A.withConfig),x}}function Uee(e,t){return Ve({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},t)}var kn={};const Hee=io(LX),Gee=io(hZ);var CO=ot;Object.defineProperty(kn,"__esModule",{value:!0});var lT=kn.alpha=RO;kn.blend=ite;kn.colorChannel=void 0;var qee=kn.darken=ox;kn.decomposeColor=Ki;kn.emphasize=MO;var Wee=kn.getContrastRatio=Zee;kn.getLuminance=Qg;kn.hexToRgb=TO;kn.hslToRgb=PO;var Kee=kn.lighten=ax;kn.private_safeAlpha=ete;kn.private_safeColorChannel=void 0;kn.private_safeDarken=tte;kn.private_safeEmphasize=rte;kn.private_safeLighten=nte;kn.recomposeColor=ju;kn.rgbToHex=Xee;var cT=CO(Hee),Yee=CO(Gee);function sx(e,t=0,n=1){return(0,Yee.default)(e,t,n)}function TO(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function Qee(e){const t=e.toString(16);return t.length===1?`0${t}`:t}function Ki(e){if(e.type)return e;if(e.charAt(0)==="#")return Ki(TO(e));const t=e.indexOf("("),n=e.substring(0,t);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error((0,cT.default)(9,e));let r=e.substring(t+1,e.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error((0,cT.default)(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}const IO=e=>{const t=Ki(e);return t.values.slice(0,3).map((n,r)=>t.type.indexOf("hsl")!==-1&&r!==0?`${n}%`:n).join(" ")};kn.colorChannel=IO;const Jee=(e,t)=>{try{return IO(e)}catch{return e}};kn.private_safeColorChannel=Jee;function ju(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return t.indexOf("rgb")!==-1?r=r.map((i,s)=>s<3?parseInt(i,10):i):t.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),t.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${t}(${r})`}function Xee(e){if(e.indexOf("#")===0)return e;const{values:t}=Ki(e);return`#${t.map((n,r)=>Qee(r===3?Math.round(255*n):n)).join("")}`}function PO(e){e=Ki(e);const{values:t}=e,n=t[0],r=t[1]/100,i=t[2]/100,s=r*Math.min(i,1-i),o=(c,u=(c+n/30)%12)=>i-s*Math.max(Math.min(u-3,9-u,1),-1);let a="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return e.type==="hsla"&&(a+="a",l.push(t[3])),ju({type:a,values:l})}function Qg(e){e=Ki(e);let t=e.type==="hsl"||e.type==="hsla"?Ki(PO(e)).values:e.values;return t=t.map(n=>(e.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function Zee(e,t){const n=Qg(e),r=Qg(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function RO(e,t){return e=Ki(e),t=sx(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,ju(e)}function ete(e,t,n){try{return RO(e,t)}catch{return e}}function ox(e,t){if(e=Ki(e),t=sx(t),e.type.indexOf("hsl")!==-1)e.values[2]*=1-t;else if(e.type.indexOf("rgb")!==-1||e.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)e.values[n]*=1-t;return ju(e)}function tte(e,t,n){try{return ox(e,t)}catch{return e}}function ax(e,t){if(e=Ki(e),t=sx(t),e.type.indexOf("hsl")!==-1)e.values[2]+=(100-e.values[2])*t;else if(e.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(e.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return ju(e)}function nte(e,t,n){try{return ax(e,t)}catch{return e}}function MO(e,t=.15){return Qg(e)>.5?ox(e,t):ax(e,t)}function rte(e,t,n){try{return MO(e,t)}catch{return e}}function ite(e,t,n,r=1){const i=(l,c)=>Math.round((l**(1/r)*(1-n)+c**(1/r)*n)**r),s=Ki(e),o=Ki(t),a=[i(s.values[0],o.values[0]),i(s.values[1],o.values[1]),i(s.values[2],o.values[2])];return ju({type:"rgb",values:a})}const ste={black:"#000",white:"#fff"},xf=ste,ote={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},ate=ote,lte={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Kl=lte,cte={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Yl=cte,ute={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Ju=ute,dte={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Ql=dte,fte={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Jl=fte,hte={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Xl=hte,pte=["mode","contrastThreshold","tonalOffset"],uT={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:xf.white,default:xf.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Ay={text:{primary:xf.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:xf.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function dT(e,t,n,r){const i=r.light||r,s=r.dark||r*1.5;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:t==="light"?e.light=Kee(e.main,i):t==="dark"&&(e.dark=qee(e.main,s)))}function gte(e="light"){return e==="dark"?{main:Ql[200],light:Ql[50],dark:Ql[400]}:{main:Ql[700],light:Ql[400],dark:Ql[800]}}function mte(e="light"){return e==="dark"?{main:Kl[200],light:Kl[50],dark:Kl[400]}:{main:Kl[500],light:Kl[300],dark:Kl[700]}}function vte(e="light"){return e==="dark"?{main:Yl[500],light:Yl[300],dark:Yl[700]}:{main:Yl[700],light:Yl[400],dark:Yl[800]}}function yte(e="light"){return e==="dark"?{main:Jl[400],light:Jl[300],dark:Jl[700]}:{main:Jl[700],light:Jl[500],dark:Jl[900]}}function Ate(e="light"){return e==="dark"?{main:Xl[400],light:Xl[300],dark:Xl[700]}:{main:Xl[800],light:Xl[500],dark:Xl[900]}}function _te(e="light"){return e==="dark"?{main:Ju[400],light:Ju[300],dark:Ju[700]}:{main:"#ed6c02",light:Ju[500],dark:Ju[900]}}function bte(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:r=.2}=e,i=kr(e,pte),s=e.primary||gte(t),o=e.secondary||mte(t),a=e.error||vte(t),l=e.info||yte(t),c=e.success||Ate(t),u=e.warning||_te(t);function d(m){return Wee(m,Ay.text.primary)>=n?Ay.text.primary:uT.text.primary}const h=({color:m,name:_,mainShade:v=500,lightShade:A=300,darkShade:S=700})=>{if(m=Ve({},m),!m.main&&m[v]&&(m.main=m[v]),!m.hasOwnProperty("main"))throw new Error(Sl(11,_?` (${_})`:"",v));if(typeof m.main!="string")throw new Error(Sl(12,_?` (${_})`:"",JSON.stringify(m.main)));return dT(m,"light",A,r),dT(m,"dark",S,r),m.contrastText||(m.contrastText=d(m.main)),m},p={dark:Ay,light:uT};return bs(Ve({common:Ve({},xf),mode:t,primary:h({color:s,name:"primary"}),secondary:h({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:h({color:a,name:"error"}),warning:h({color:u,name:"warning"}),info:h({color:l,name:"info"}),success:h({color:c,name:"success"}),grey:ate,contrastThreshold:n,getContrastText:d,augmentColor:h,tonalOffset:r},p[t]),i)}const Ste=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function xte(e){return Math.round(e*1e5)/1e5}const fT={textTransform:"uppercase"},hT='"Roboto", "Helvetica", "Arial", sans-serif';function wte(e,t){const n=typeof t=="function"?t(e):t,{fontFamily:r=hT,fontSize:i=14,fontWeightLight:s=300,fontWeightRegular:o=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:c=16,allVariants:u,pxToRem:d}=n,h=kr(n,Ste),p=i/14,g=d||(v=>`${v/c*p}rem`),m=(v,A,S,x,b)=>Ve({fontFamily:r,fontWeight:v,fontSize:g(A),lineHeight:S},r===hT?{letterSpacing:`${xte(x/A)}em`}:{},b,u),_={h1:m(s,96,1.167,-1.5),h2:m(s,60,1.2,-.5),h3:m(o,48,1.167,0),h4:m(o,34,1.235,.25),h5:m(o,24,1.334,0),h6:m(a,20,1.6,.15),subtitle1:m(o,16,1.75,.15),subtitle2:m(a,14,1.57,.1),body1:m(o,16,1.5,.15),body2:m(o,14,1.43,.15),button:m(a,14,1.75,.4,fT),caption:m(o,12,1.66,.4),overline:m(o,12,2.66,1,fT),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return bs(Ve({htmlFontSize:c,pxToRem:g,fontFamily:r,fontSize:i,fontWeightLight:s,fontWeightRegular:o,fontWeightMedium:a,fontWeightBold:l},_),h,{clone:!1})}const Ete=.2,kte=.14,Cte=.12;function Yt(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${Ete})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${kte})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${Cte})`].join(",")}const Tte=["none",Yt(0,2,1,-1,0,1,1,0,0,1,3,0),Yt(0,3,1,-2,0,2,2,0,0,1,5,0),Yt(0,3,3,-2,0,3,4,0,0,1,8,0),Yt(0,2,4,-1,0,4,5,0,0,1,10,0),Yt(0,3,5,-1,0,5,8,0,0,1,14,0),Yt(0,3,5,-1,0,6,10,0,0,1,18,0),Yt(0,4,5,-2,0,7,10,1,0,2,16,1),Yt(0,5,5,-3,0,8,10,1,0,3,14,2),Yt(0,5,6,-3,0,9,12,1,0,3,16,2),Yt(0,6,6,-3,0,10,14,1,0,4,18,3),Yt(0,6,7,-4,0,11,15,1,0,4,20,3),Yt(0,7,8,-4,0,12,17,2,0,5,22,4),Yt(0,7,8,-4,0,13,19,2,0,5,24,4),Yt(0,7,9,-4,0,14,21,2,0,5,26,4),Yt(0,8,9,-5,0,15,22,2,0,6,28,5),Yt(0,8,10,-5,0,16,24,2,0,6,30,5),Yt(0,8,11,-5,0,17,26,2,0,6,32,5),Yt(0,9,11,-5,0,18,28,2,0,7,34,6),Yt(0,9,12,-6,0,19,29,2,0,7,36,6),Yt(0,10,13,-6,0,20,31,3,0,8,38,7),Yt(0,10,13,-6,0,21,33,3,0,8,40,7),Yt(0,10,14,-6,0,22,35,3,0,8,42,7),Yt(0,11,14,-7,0,23,36,3,0,9,44,8),Yt(0,11,15,-7,0,24,38,3,0,9,46,8)],Ite=["duration","easing","delay"],Pte={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Rte={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function pT(e){return`${Math.round(e)}ms`}function Mte(e){if(!e)return 0;const t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function jte(e){const t=Ve({},Pte,e.easing),n=Ve({},Rte,e.duration);return Ve({getAutoHeightDuration:Mte,create:(i=["all"],s={})=>{const{duration:o=n.standard,easing:a=t.easeInOut,delay:l=0}=s;return kr(s,Ite),(Array.isArray(i)?i:[i]).map(c=>`${c} ${typeof o=="string"?o:pT(o)} ${a} ${typeof l=="string"?l:pT(l)}`).join(",")}},e,{easing:t,duration:n})}const Ote={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},Vte=Ote,Lte=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function jO(e={},...t){const{mixins:n={},palette:r={},transitions:i={},typography:s={}}=e,o=kr(e,Lte);if(e.vars)throw new Error(Sl(18));const a=bte(r),l=EO(e);let c=bs(l,{mixins:Uee(l.breakpoints,n),palette:a,shadows:Tte.slice(),typography:wte(a,s),transitions:jte(i),zIndex:Ve({},Vte)});return c=bs(c,o),c=t.reduce((u,d)=>bs(u,d),c),c.unstable_sxConfig=Ve({},gh,o==null?void 0:o.unstable_sxConfig),c.unstable_sx=function(d){return ix({sx:d,theme:this})},c}const Nte=jO(),Bte=Nte,H1="$$material";function Dte(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const $te=e=>Dte(e)&&e!=="classes",Lo=Iee({themeId:H1,defaultTheme:Bte,rootShouldForwardProp:$te});function Fte(e){return Iu("MuiSvgIcon",e)}Pu("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const zte=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],Ute=e=>{const{color:t,fontSize:n,classes:r}=e,i={root:["root",t!=="inherit"&&`color${Zn(t)}`,`fontSize${Zn(n)}`]};return dh(i,Fte,r)},Hte=Lo("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="inherit"&&t[`color${Zn(n.color)}`],t[`fontSize${Zn(n.fontSize)}`]]}})(({theme:e,ownerState:t})=>{var n,r,i,s,o,a,l,c,u,d,h,p,g;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:t.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(n=e.transitions)==null||(r=n.create)==null?void 0:r.call(n,"fill",{duration:(i=e.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((s=e.typography)==null||(o=s.pxToRem)==null?void 0:o.call(s,20))||"1.25rem",medium:((a=e.typography)==null||(l=a.pxToRem)==null?void 0:l.call(a,24))||"1.5rem",large:((c=e.typography)==null||(u=c.pxToRem)==null?void 0:u.call(c,35))||"2.1875rem"}[t.fontSize],color:(d=(h=(e.vars||e).palette)==null||(h=h[t.color])==null?void 0:h.main)!=null?d:{action:(p=(e.vars||e).palette)==null||(p=p.action)==null?void 0:p.active,disabled:(g=(e.vars||e).palette)==null||(g=g.action)==null?void 0:g.disabled,inherit:void 0}[t.color]}}),G1=y.forwardRef(function(t,n){const r=Ru({props:t,name:"MuiSvgIcon"}),{children:i,className:s,color:o="inherit",component:a="svg",fontSize:l="medium",htmlColor:c,inheritViewBox:u=!1,titleAccess:d,viewBox:h="0 0 24 24"}=r,p=kr(r,zte),g=y.isValidElement(i)&&i.type==="svg",m=Ve({},r,{color:o,component:a,fontSize:l,instanceFontSize:t.fontSize,inheritViewBox:u,viewBox:h,hasSvgAsChild:g}),_={};u||(_.viewBox=h);const v=Ute(m);return f.jsxs(Hte,Ve({as:a,className:Rr(v.root,s),focusable:"false",color:c,"aria-hidden":d?void 0:!0,role:d?"img":void 0,ref:n},_,p,g&&i.props,{ownerState:m,children:[g?i.props.children:i,d?f.jsx("title",{children:d}):null]}))});G1.muiName="SvgIcon";function Gte(e,t){function n(r,i){return f.jsx(G1,Ve({"data-testid":`${t}Icon`,ref:i},r,{children:e}))}return n.muiName=G1.muiName,y.memo(y.forwardRef(n))}const qte={configure:e=>{hO.configure(e)}},Wte=Object.freeze(Object.defineProperty({__proto__:null,capitalize:Zn,createChainedFunction:UX,createSvgIcon:Gte,debounce:HX,deprecatedPropType:GX,isMuiElement:qX,ownerDocument:cO,ownerWindow:WX,requirePropFactory:KX,setRef:uO,unstable_ClassNameGenerator:qte,unstable_useEnhancedEffect:dO,unstable_useId:QX,unsupportedProp:JX,useControlled:XX,useEventCallback:yd,useForkRef:B1,useIsFocusVisible:fO},Symbol.toStringTag,{value:"Module"})),Kte=io(Wte);var gT;function ut(){return gT||(gT=1,function(e){"use client";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.createSvgIcon}});var t=Kte}(gy)),gy}var Yte=ot;Object.defineProperty(JS,"__esModule",{value:!0});var OO=JS.default=void 0,Qte=Yte(ut()),Jte=f;OO=JS.default=(0,Qte.default)((0,Jte.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 17h-2v-2h2zm2.07-7.75-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25"}),"Help");var lx={},Xte=ot;Object.defineProperty(lx,"__esModule",{value:!0});var VO=lx.default=void 0,Zte=Xte(ut()),ene=f;VO=lx.default=(0,Zte.default)((0,ene.jsx)("path",{d:"M11 18h2v-2h-2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4"}),"HelpOutline");var cx={},tne=ot;Object.defineProperty(cx,"__esModule",{value:!0});var wf=cx.default=void 0,nne=tne(ut()),rne=f;wf=cx.default=(0,nne.default)((0,rne.jsx)("path",{d:"M15 21h-2v-2h2zm-2-7h-2v5h2zm8-2h-2v4h2zm-2-2h-2v2h2zM7 12H5v2h2zm-2-2H3v2h2zm7-5h2V3h-2zm-7.5-.5v3h3v-3zM9 9H3V3h6zm-4.5 7.5v3h3v-3zM9 21H3v-6h6zm7.5-16.5v3h3v-3zM21 9h-6V3h6zm-2 10v-3h-4v2h2v3h4v-2zm-2-7h-4v2h4zm-4-2H7v2h2v2h2v-2h2zm1-1V7h-2V5h-2v4zM6.75 5.25h-1.5v1.5h1.5zm0 12h-1.5v1.5h1.5zm12-12h-1.5v1.5h1.5z"}),"QrCode2");function q1(e,t){return q1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},q1(e,t)}function ine(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,q1(e,t)}var LO={exports:{}},Si={},NO={exports:{}},BO={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(O,z){var N=O.length;O.push(z);e:for(;0<N;){var G=N-1>>>1,U=O[G];if(0<i(U,z))O[G]=z,O[N]=U,N=G;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var z=O[0],N=O.pop();if(N!==z){O[0]=N;e:for(var G=0,U=O.length,ne=U>>>1;G<ne;){var L=2*(G+1)-1,fe=O[L],Z=L+1,oe=O[Z];if(0>i(fe,N))Z<U&&0>i(oe,fe)?(O[G]=oe,O[Z]=N,G=Z):(O[G]=fe,O[L]=N,G=L);else if(Z<U&&0>i(oe,N))O[G]=oe,O[Z]=N,G=Z;else break e}}return z}function i(O,z){var N=O.sortIndex-z.sortIndex;return N!==0?N:O.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,h=3,p=!1,g=!1,m=!1,_=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(O){for(var z=n(c);z!==null;){if(z.callback===null)r(c);else if(z.startTime<=O)r(c),z.sortIndex=z.expirationTime,t(l,z);else break;z=n(c)}}function x(O){if(m=!1,S(O),!g)if(n(l)!==null)g=!0,I(b);else{var z=n(c);z!==null&&$(x,z.startTime-O)}}function b(O,z){g=!1,m&&(m=!1,v(T),T=-1),p=!0;var N=h;try{for(S(z),d=n(l);d!==null&&(!(d.expirationTime>z)||O&&!D());){var G=d.callback;if(typeof G=="function"){d.callback=null,h=d.priorityLevel;var U=G(d.expirationTime<=z);z=e.unstable_now(),typeof U=="function"?d.callback=U:d===n(l)&&r(l),S(z)}else r(l);d=n(l)}if(d!==null)var ne=!0;else{var L=n(c);L!==null&&$(x,L.startTime-z),ne=!1}return ne}finally{d=null,h=N,p=!1}}var w=!1,E=null,T=-1,j=5,B=-1;function D(){return!(e.unstable_now()-B<j)}function q(){if(E!==null){var O=e.unstable_now();B=O;var z=!0;try{z=E(!0,O)}finally{z?M():(w=!1,E=null)}}else w=!1}var M;if(typeof A=="function")M=function(){A(q)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,P=V.port2;V.port1.onmessage=q,M=function(){P.postMessage(null)}}else M=function(){_(q,0)};function I(O){E=O,w||(w=!0,M())}function $(O,z){T=_(function(){O(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(O){O.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,I(b))},e.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<O?Math.floor(1e3/O):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(O){switch(h){case 1:case 2:case 3:var z=3;break;default:z=h}var N=h;h=z;try{return O()}finally{h=N}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(O,z){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var N=h;h=O;try{return z()}finally{h=N}},e.unstable_scheduleCallback=function(O,z,N){var G=e.unstable_now();switch(typeof N=="object"&&N!==null?(N=N.delay,N=typeof N=="number"&&0<N?G+N:G):N=G,O){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=N+U,O={id:u++,callback:z,priorityLevel:O,startTime:N,expirationTime:U,sortIndex:-1},N>G?(O.sortIndex=N,t(c,O),n(l)===null&&O===n(c)&&(m?(v(T),T=-1):m=!0,$(x,N-G))):(O.sortIndex=U,t(l,O),g||p||(g=!0,I(b))),O},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(O){var z=h;return function(){var N=h;h=z;try{return O.apply(this,arguments)}finally{h=N}}}})(BO);NO.exports=BO;var sne=NO.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DO=y,yi=sne;function se(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var $O=new Set,Ef={};function $l(e,t){iu(e,t),iu(e+"Capture",t)}function iu(e,t){for(Ef[e]=t,e=0;e<t.length;e++)$O.add(t[e])}var To=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),W1=Object.prototype.hasOwnProperty,one=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,mT={},vT={};function ane(e){return W1.call(vT,e)?!0:W1.call(mT,e)?!1:one.test(e)?vT[e]=!0:(mT[e]=!0,!1)}function lne(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function cne(e,t,n,r){if(t===null||typeof t>"u"||lne(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Dr(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var fr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){fr[e]=new Dr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];fr[t]=new Dr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){fr[e]=new Dr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){fr[e]=new Dr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){fr[e]=new Dr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){fr[e]=new Dr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){fr[e]=new Dr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){fr[e]=new Dr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){fr[e]=new Dr(e,5,!1,e.toLowerCase(),null,!1,!1)});var ux=/[\-:]([a-z])/g;function dx(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ux,dx);fr[t]=new Dr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ux,dx);fr[t]=new Dr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ux,dx);fr[t]=new Dr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){fr[e]=new Dr(e,1,!1,e.toLowerCase(),null,!1,!1)});fr.xlinkHref=new Dr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){fr[e]=new Dr(e,1,!1,e.toLowerCase(),null,!0,!0)});function fx(e,t,n,r){var i=fr.hasOwnProperty(t)?fr[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(cne(t,n,i,r)&&(n=null),r||i===null?ane(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var No=DO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,sp=Symbol.for("react.element"),uc=Symbol.for("react.portal"),dc=Symbol.for("react.fragment"),hx=Symbol.for("react.strict_mode"),K1=Symbol.for("react.profiler"),FO=Symbol.for("react.provider"),zO=Symbol.for("react.context"),px=Symbol.for("react.forward_ref"),Y1=Symbol.for("react.suspense"),Q1=Symbol.for("react.suspense_list"),gx=Symbol.for("react.memo"),qo=Symbol.for("react.lazy"),UO=Symbol.for("react.offscreen"),yT=Symbol.iterator;function Xu(e){return e===null||typeof e!="object"?null:(e=yT&&e[yT]||e["@@iterator"],typeof e=="function"?e:null)}var cn=Object.assign,_y;function Ad(e){if(_y===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);_y=t&&t[1]||""}return`
`+_y+e}var by=!1;function Sy(e,t){if(!e||by)return"";by=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{by=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ad(e):""}function une(e){switch(e.tag){case 5:return Ad(e.type);case 16:return Ad("Lazy");case 13:return Ad("Suspense");case 19:return Ad("SuspenseList");case 0:case 2:case 15:return e=Sy(e.type,!1),e;case 11:return e=Sy(e.type.render,!1),e;case 1:return e=Sy(e.type,!0),e;default:return""}}function J1(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case dc:return"Fragment";case uc:return"Portal";case K1:return"Profiler";case hx:return"StrictMode";case Y1:return"Suspense";case Q1:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case zO:return(e.displayName||"Context")+".Consumer";case FO:return(e._context.displayName||"Context")+".Provider";case px:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case gx:return t=e.displayName||null,t!==null?t:J1(e.type)||"Memo";case qo:t=e._payload,e=e._init;try{return J1(e(t))}catch{}}return null}function dne(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return J1(t);case 8:return t===hx?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ba(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function HO(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function fne(e){var t=HO(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function op(e){e._valueTracker||(e._valueTracker=fne(e))}function GO(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=HO(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Jg(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function X1(e,t){var n=t.checked;return cn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function AT(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ba(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function qO(e,t){t=t.checked,t!=null&&fx(e,"checked",t,!1)}function Z1(e,t){qO(e,t);var n=ba(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?e_(e,t.type,n):t.hasOwnProperty("defaultValue")&&e_(e,t.type,ba(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function _T(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function e_(e,t,n){(t!=="number"||Jg(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var _d=Array.isArray;function Vc(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ba(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function t_(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(se(91));return cn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function bT(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(se(92));if(_d(n)){if(1<n.length)throw Error(se(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ba(n)}}function WO(e,t){var n=ba(t.value),r=ba(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function ST(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function KO(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function n_(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?KO(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ap,YO=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ap=ap||document.createElement("div"),ap.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ap.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function kf(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Fd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hne=["Webkit","ms","Moz","O"];Object.keys(Fd).forEach(function(e){hne.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Fd[t]=Fd[e]})});function QO(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Fd.hasOwnProperty(e)&&Fd[e]?(""+t).trim():t+"px"}function JO(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=QO(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var pne=cn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function r_(e,t){if(t){if(pne[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(se(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(se(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(se(61))}if(t.style!=null&&typeof t.style!="object")throw Error(se(62))}}function i_(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var s_=null;function mx(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var o_=null,Lc=null,Nc=null;function xT(e){if(e=yh(e)){if(typeof o_!="function")throw Error(se(280));var t=e.stateNode;t&&(t=W0(t),o_(e.stateNode,e.type,t))}}function XO(e){Lc?Nc?Nc.push(e):Nc=[e]:Lc=e}function ZO(){if(Lc){var e=Lc,t=Nc;if(Nc=Lc=null,xT(e),t)for(e=0;e<t.length;e++)xT(t[e])}}function eV(e,t){return e(t)}function tV(){}var xy=!1;function nV(e,t,n){if(xy)return e(t,n);xy=!0;try{return eV(e,t,n)}finally{xy=!1,(Lc!==null||Nc!==null)&&(tV(),ZO())}}function Cf(e,t){var n=e.stateNode;if(n===null)return null;var r=W0(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(se(231,t,typeof n));return n}var a_=!1;if(To)try{var Zu={};Object.defineProperty(Zu,"passive",{get:function(){a_=!0}}),window.addEventListener("test",Zu,Zu),window.removeEventListener("test",Zu,Zu)}catch{a_=!1}function gne(e,t,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var zd=!1,Xg=null,Zg=!1,l_=null,mne={onError:function(e){zd=!0,Xg=e}};function vne(e,t,n,r,i,s,o,a,l){zd=!1,Xg=null,gne.apply(mne,arguments)}function yne(e,t,n,r,i,s,o,a,l){if(vne.apply(this,arguments),zd){if(zd){var c=Xg;zd=!1,Xg=null}else throw Error(se(198));Zg||(Zg=!0,l_=c)}}function Fl(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function rV(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function wT(e){if(Fl(e)!==e)throw Error(se(188))}function Ane(e){var t=e.alternate;if(!t){if(t=Fl(e),t===null)throw Error(se(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return wT(i),e;if(s===r)return wT(i),t;s=s.sibling}throw Error(se(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(se(189))}}if(n.alternate!==r)throw Error(se(190))}if(n.tag!==3)throw Error(se(188));return n.stateNode.current===n?e:t}function iV(e){return e=Ane(e),e!==null?sV(e):null}function sV(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=sV(e);if(t!==null)return t;e=e.sibling}return null}var oV=yi.unstable_scheduleCallback,ET=yi.unstable_cancelCallback,_ne=yi.unstable_shouldYield,bne=yi.unstable_requestPaint,wn=yi.unstable_now,Sne=yi.unstable_getCurrentPriorityLevel,vx=yi.unstable_ImmediatePriority,aV=yi.unstable_UserBlockingPriority,em=yi.unstable_NormalPriority,xne=yi.unstable_LowPriority,lV=yi.unstable_IdlePriority,U0=null,Xs=null;function wne(e){if(Xs&&typeof Xs.onCommitFiberRoot=="function")try{Xs.onCommitFiberRoot(U0,e,void 0,(e.current.flags&128)===128)}catch{}}var Ss=Math.clz32?Math.clz32:Cne,Ene=Math.log,kne=Math.LN2;function Cne(e){return e>>>=0,e===0?32:31-(Ene(e)/kne|0)|0}var lp=64,cp=4194304;function bd(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function tm(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=bd(a):(s&=o,s!==0&&(r=bd(s)))}else o=n&~i,o!==0?r=bd(o):s!==0&&(r=bd(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ss(t),i=1<<n,r|=e[n],t&=~i;return r}function Tne(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ine(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-Ss(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=Tne(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function c_(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function cV(){var e=lp;return lp<<=1,!(lp&4194240)&&(lp=64),e}function wy(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mh(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ss(t),e[t]=n}function Pne(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Ss(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function yx(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ss(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var wt=0;function uV(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var dV,Ax,fV,hV,pV,u_=!1,up=[],la=null,ca=null,ua=null,Tf=new Map,If=new Map,Yo=[],Rne="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function kT(e,t){switch(e){case"focusin":case"focusout":la=null;break;case"dragenter":case"dragleave":ca=null;break;case"mouseover":case"mouseout":ua=null;break;case"pointerover":case"pointerout":Tf.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":If.delete(t.pointerId)}}function ed(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=yh(t),t!==null&&Ax(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Mne(e,t,n,r,i){switch(t){case"focusin":return la=ed(la,e,t,n,r,i),!0;case"dragenter":return ca=ed(ca,e,t,n,r,i),!0;case"mouseover":return ua=ed(ua,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Tf.set(s,ed(Tf.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,If.set(s,ed(If.get(s)||null,e,t,n,r,i)),!0}return!1}function gV(e){var t=Ja(e.target);if(t!==null){var n=Fl(t);if(n!==null){if(t=n.tag,t===13){if(t=rV(n),t!==null){e.blockedOn=t,pV(e.priority,function(){fV(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ng(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=d_(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);s_=r,n.target.dispatchEvent(r),s_=null}else return t=yh(n),t!==null&&Ax(t),e.blockedOn=n,!1;t.shift()}return!0}function CT(e,t,n){ng(e)&&n.delete(t)}function jne(){u_=!1,la!==null&&ng(la)&&(la=null),ca!==null&&ng(ca)&&(ca=null),ua!==null&&ng(ua)&&(ua=null),Tf.forEach(CT),If.forEach(CT)}function td(e,t){e.blockedOn===t&&(e.blockedOn=null,u_||(u_=!0,yi.unstable_scheduleCallback(yi.unstable_NormalPriority,jne)))}function Pf(e){function t(i){return td(i,e)}if(0<up.length){td(up[0],e);for(var n=1;n<up.length;n++){var r=up[n];r.blockedOn===e&&(r.blockedOn=null)}}for(la!==null&&td(la,e),ca!==null&&td(ca,e),ua!==null&&td(ua,e),Tf.forEach(t),If.forEach(t),n=0;n<Yo.length;n++)r=Yo[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Yo.length&&(n=Yo[0],n.blockedOn===null);)gV(n),n.blockedOn===null&&Yo.shift()}var Bc=No.ReactCurrentBatchConfig,nm=!0;function One(e,t,n,r){var i=wt,s=Bc.transition;Bc.transition=null;try{wt=1,_x(e,t,n,r)}finally{wt=i,Bc.transition=s}}function Vne(e,t,n,r){var i=wt,s=Bc.transition;Bc.transition=null;try{wt=4,_x(e,t,n,r)}finally{wt=i,Bc.transition=s}}function _x(e,t,n,r){if(nm){var i=d_(e,t,n,r);if(i===null)Oy(e,t,r,rm,n),kT(e,r);else if(Mne(i,e,t,n,r))r.stopPropagation();else if(kT(e,r),t&4&&-1<Rne.indexOf(e)){for(;i!==null;){var s=yh(i);if(s!==null&&dV(s),s=d_(e,t,n,r),s===null&&Oy(e,t,r,rm,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Oy(e,t,r,null,n)}}var rm=null;function d_(e,t,n,r){if(rm=null,e=mx(r),e=Ja(e),e!==null)if(t=Fl(e),t===null)e=null;else if(n=t.tag,n===13){if(e=rV(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return rm=e,null}function mV(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Sne()){case vx:return 1;case aV:return 4;case em:case xne:return 16;case lV:return 536870912;default:return 16}default:return 16}}var na=null,bx=null,rg=null;function vV(){if(rg)return rg;var e,t=bx,n=t.length,r,i="value"in na?na.value:na.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return rg=i.slice(e,1<r?1-r:void 0)}function ig(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function dp(){return!0}function TT(){return!1}function xi(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?dp:TT,this.isPropagationStopped=TT,this}return cn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=dp)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=dp)},persist:function(){},isPersistent:dp}),t}var Ou={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sx=xi(Ou),vh=cn({},Ou,{view:0,detail:0}),Lne=xi(vh),Ey,ky,nd,H0=cn({},vh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xx,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==nd&&(nd&&e.type==="mousemove"?(Ey=e.screenX-nd.screenX,ky=e.screenY-nd.screenY):ky=Ey=0,nd=e),Ey)},movementY:function(e){return"movementY"in e?e.movementY:ky}}),IT=xi(H0),Nne=cn({},H0,{dataTransfer:0}),Bne=xi(Nne),Dne=cn({},vh,{relatedTarget:0}),Cy=xi(Dne),$ne=cn({},Ou,{animationName:0,elapsedTime:0,pseudoElement:0}),Fne=xi($ne),zne=cn({},Ou,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Une=xi(zne),Hne=cn({},Ou,{data:0}),PT=xi(Hne),Gne={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qne={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wne={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Kne(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Wne[e])?!!t[e]:!1}function xx(){return Kne}var Yne=cn({},vh,{key:function(e){if(e.key){var t=Gne[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ig(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?qne[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xx,charCode:function(e){return e.type==="keypress"?ig(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ig(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Qne=xi(Yne),Jne=cn({},H0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),RT=xi(Jne),Xne=cn({},vh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xx}),Zne=xi(Xne),ere=cn({},Ou,{propertyName:0,elapsedTime:0,pseudoElement:0}),tre=xi(ere),nre=cn({},H0,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),rre=xi(nre),ire=[9,13,27,32],wx=To&&"CompositionEvent"in window,Ud=null;To&&"documentMode"in document&&(Ud=document.documentMode);var sre=To&&"TextEvent"in window&&!Ud,yV=To&&(!wx||Ud&&8<Ud&&11>=Ud),MT=" ",jT=!1;function AV(e,t){switch(e){case"keyup":return ire.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _V(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var fc=!1;function ore(e,t){switch(e){case"compositionend":return _V(t);case"keypress":return t.which!==32?null:(jT=!0,MT);case"textInput":return e=t.data,e===MT&&jT?null:e;default:return null}}function are(e,t){if(fc)return e==="compositionend"||!wx&&AV(e,t)?(e=vV(),rg=bx=na=null,fc=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return yV&&t.locale!=="ko"?null:t.data;default:return null}}var lre={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function OT(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!lre[e.type]:t==="textarea"}function bV(e,t,n,r){XO(r),t=im(t,"onChange"),0<t.length&&(n=new Sx("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hd=null,Rf=null;function cre(e){MV(e,0)}function G0(e){var t=gc(e);if(GO(t))return e}function ure(e,t){if(e==="change")return t}var SV=!1;if(To){var Ty;if(To){var Iy="oninput"in document;if(!Iy){var VT=document.createElement("div");VT.setAttribute("oninput","return;"),Iy=typeof VT.oninput=="function"}Ty=Iy}else Ty=!1;SV=Ty&&(!document.documentMode||9<document.documentMode)}function LT(){Hd&&(Hd.detachEvent("onpropertychange",xV),Rf=Hd=null)}function xV(e){if(e.propertyName==="value"&&G0(Rf)){var t=[];bV(t,Rf,e,mx(e)),nV(cre,t)}}function dre(e,t,n){e==="focusin"?(LT(),Hd=t,Rf=n,Hd.attachEvent("onpropertychange",xV)):e==="focusout"&&LT()}function fre(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return G0(Rf)}function hre(e,t){if(e==="click")return G0(t)}function pre(e,t){if(e==="input"||e==="change")return G0(t)}function gre(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ts=typeof Object.is=="function"?Object.is:gre;function Mf(e,t){if(Ts(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!W1.call(t,i)||!Ts(e[i],t[i]))return!1}return!0}function NT(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function BT(e,t){var n=NT(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=NT(n)}}function wV(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?wV(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function EV(){for(var e=window,t=Jg();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Jg(e.document)}return t}function Ex(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function mre(e){var t=EV(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&wV(n.ownerDocument.documentElement,n)){if(r!==null&&Ex(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=BT(n,s);var o=BT(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vre=To&&"documentMode"in document&&11>=document.documentMode,hc=null,f_=null,Gd=null,h_=!1;function DT(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;h_||hc==null||hc!==Jg(r)||(r=hc,"selectionStart"in r&&Ex(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Gd&&Mf(Gd,r)||(Gd=r,r=im(f_,"onSelect"),0<r.length&&(t=new Sx("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=hc)))}function fp(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var pc={animationend:fp("Animation","AnimationEnd"),animationiteration:fp("Animation","AnimationIteration"),animationstart:fp("Animation","AnimationStart"),transitionend:fp("Transition","TransitionEnd")},Py={},kV={};To&&(kV=document.createElement("div").style,"AnimationEvent"in window||(delete pc.animationend.animation,delete pc.animationiteration.animation,delete pc.animationstart.animation),"TransitionEvent"in window||delete pc.transitionend.transition);function q0(e){if(Py[e])return Py[e];if(!pc[e])return e;var t=pc[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in kV)return Py[e]=t[n];return e}var CV=q0("animationend"),TV=q0("animationiteration"),IV=q0("animationstart"),PV=q0("transitionend"),RV=new Map,$T="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ca(e,t){RV.set(e,t),$l(t,[e])}for(var Ry=0;Ry<$T.length;Ry++){var My=$T[Ry],yre=My.toLowerCase(),Are=My[0].toUpperCase()+My.slice(1);Ca(yre,"on"+Are)}Ca(CV,"onAnimationEnd");Ca(TV,"onAnimationIteration");Ca(IV,"onAnimationStart");Ca("dblclick","onDoubleClick");Ca("focusin","onFocus");Ca("focusout","onBlur");Ca(PV,"onTransitionEnd");iu("onMouseEnter",["mouseout","mouseover"]);iu("onMouseLeave",["mouseout","mouseover"]);iu("onPointerEnter",["pointerout","pointerover"]);iu("onPointerLeave",["pointerout","pointerover"]);$l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));$l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));$l("onBeforeInput",["compositionend","keypress","textInput","paste"]);$l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));$l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));$l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_re=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sd));function FT(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,yne(r,t,void 0,e),e.currentTarget=null}function MV(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;FT(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;FT(i,a,c),s=l}}}if(Zg)throw e=l_,Zg=!1,l_=null,e}function Ft(e,t){var n=t[y_];n===void 0&&(n=t[y_]=new Set);var r=e+"__bubble";n.has(r)||(jV(t,e,2,!1),n.add(r))}function jy(e,t,n){var r=0;t&&(r|=4),jV(n,e,r,t)}var hp="_reactListening"+Math.random().toString(36).slice(2);function jf(e){if(!e[hp]){e[hp]=!0,$O.forEach(function(n){n!=="selectionchange"&&(_re.has(n)||jy(n,!1,e),jy(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[hp]||(t[hp]=!0,jy("selectionchange",!1,t))}}function jV(e,t,n,r){switch(mV(t)){case 1:var i=One;break;case 4:i=Vne;break;default:i=_x}n=i.bind(null,t,n,e),i=void 0,!a_||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Oy(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Ja(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}nV(function(){var c=s,u=mx(n),d=[];e:{var h=RV.get(e);if(h!==void 0){var p=Sx,g=e;switch(e){case"keypress":if(ig(n)===0)break e;case"keydown":case"keyup":p=Qne;break;case"focusin":g="focus",p=Cy;break;case"focusout":g="blur",p=Cy;break;case"beforeblur":case"afterblur":p=Cy;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=IT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Bne;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Zne;break;case CV:case TV:case IV:p=Fne;break;case PV:p=tre;break;case"scroll":p=Lne;break;case"wheel":p=rre;break;case"copy":case"cut":case"paste":p=Une;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=RT}var m=(t&4)!==0,_=!m&&e==="scroll",v=m?h!==null?h+"Capture":null:h;m=[];for(var A=c,S;A!==null;){S=A;var x=S.stateNode;if(S.tag===5&&x!==null&&(S=x,v!==null&&(x=Cf(A,v),x!=null&&m.push(Of(A,x,S)))),_)break;A=A.return}0<m.length&&(h=new p(h,g,null,n,u),d.push({event:h,listeners:m}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&n!==s_&&(g=n.relatedTarget||n.fromElement)&&(Ja(g)||g[Io]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=c,g=g?Ja(g):null,g!==null&&(_=Fl(g),g!==_||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=c),p!==g)){if(m=IT,x="onMouseLeave",v="onMouseEnter",A="mouse",(e==="pointerout"||e==="pointerover")&&(m=RT,x="onPointerLeave",v="onPointerEnter",A="pointer"),_=p==null?h:gc(p),S=g==null?h:gc(g),h=new m(x,A+"leave",p,n,u),h.target=_,h.relatedTarget=S,x=null,Ja(u)===c&&(m=new m(v,A+"enter",g,n,u),m.target=S,m.relatedTarget=_,x=m),_=x,p&&g)t:{for(m=p,v=g,A=0,S=m;S;S=Zl(S))A++;for(S=0,x=v;x;x=Zl(x))S++;for(;0<A-S;)m=Zl(m),A--;for(;0<S-A;)v=Zl(v),S--;for(;A--;){if(m===v||v!==null&&m===v.alternate)break t;m=Zl(m),v=Zl(v)}m=null}else m=null;p!==null&&zT(d,h,p,m,!1),g!==null&&_!==null&&zT(d,_,g,m,!0)}}e:{if(h=c?gc(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var b=ure;else if(OT(h))if(SV)b=pre;else{b=fre;var w=dre}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(b=hre);if(b&&(b=b(e,c))){bV(d,b,n,u);break e}w&&w(e,h,c),e==="focusout"&&(w=h._wrapperState)&&w.controlled&&h.type==="number"&&e_(h,"number",h.value)}switch(w=c?gc(c):window,e){case"focusin":(OT(w)||w.contentEditable==="true")&&(hc=w,f_=c,Gd=null);break;case"focusout":Gd=f_=hc=null;break;case"mousedown":h_=!0;break;case"contextmenu":case"mouseup":case"dragend":h_=!1,DT(d,n,u);break;case"selectionchange":if(vre)break;case"keydown":case"keyup":DT(d,n,u)}var E;if(wx)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else fc?AV(e,n)&&(T="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(yV&&n.locale!=="ko"&&(fc||T!=="onCompositionStart"?T==="onCompositionEnd"&&fc&&(E=vV()):(na=u,bx="value"in na?na.value:na.textContent,fc=!0)),w=im(c,T),0<w.length&&(T=new PT(T,e,null,n,u),d.push({event:T,listeners:w}),E?T.data=E:(E=_V(n),E!==null&&(T.data=E)))),(E=sre?ore(e,n):are(e,n))&&(c=im(c,"onBeforeInput"),0<c.length&&(u=new PT("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=E))}MV(d,t)})}function Of(e,t,n){return{instance:e,listener:t,currentTarget:n}}function im(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Cf(e,n),s!=null&&r.unshift(Of(e,s,i)),s=Cf(e,t),s!=null&&r.push(Of(e,s,i))),e=e.return}return r}function Zl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function zT(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Cf(n,s),l!=null&&o.unshift(Of(n,l,a))):i||(l=Cf(n,s),l!=null&&o.push(Of(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var bre=/\r\n?/g,Sre=/\u0000|\uFFFD/g;function UT(e){return(typeof e=="string"?e:""+e).replace(bre,`
`).replace(Sre,"")}function pp(e,t,n){if(t=UT(t),UT(e)!==t&&n)throw Error(se(425))}function sm(){}var p_=null,g_=null;function m_(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var v_=typeof setTimeout=="function"?setTimeout:void 0,xre=typeof clearTimeout=="function"?clearTimeout:void 0,HT=typeof Promise=="function"?Promise:void 0,wre=typeof queueMicrotask=="function"?queueMicrotask:typeof HT<"u"?function(e){return HT.resolve(null).then(e).catch(Ere)}:v_;function Ere(e){setTimeout(function(){throw e})}function Vy(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Pf(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Pf(t)}function da(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function GT(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Vu=Math.random().toString(36).slice(2),Us="__reactFiber$"+Vu,Vf="__reactProps$"+Vu,Io="__reactContainer$"+Vu,y_="__reactEvents$"+Vu,kre="__reactListeners$"+Vu,Cre="__reactHandles$"+Vu;function Ja(e){var t=e[Us];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Io]||n[Us]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=GT(e);e!==null;){if(n=e[Us])return n;e=GT(e)}return t}e=n,n=e.parentNode}return null}function yh(e){return e=e[Us]||e[Io],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function gc(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(se(33))}function W0(e){return e[Vf]||null}var A_=[],mc=-1;function Ta(e){return{current:e}}function Ht(e){0>mc||(e.current=A_[mc],A_[mc]=null,mc--)}function $t(e,t){mc++,A_[mc]=e.current,e.current=t}var Sa={},Er=Ta(Sa),Kr=Ta(!1),xl=Sa;function su(e,t){var n=e.type.contextTypes;if(!n)return Sa;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Yr(e){return e=e.childContextTypes,e!=null}function om(){Ht(Kr),Ht(Er)}function qT(e,t,n){if(Er.current!==Sa)throw Error(se(168));$t(Er,t),$t(Kr,n)}function OV(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(se(108,dne(e)||"Unknown",i));return cn({},n,r)}function am(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Sa,xl=Er.current,$t(Er,e),$t(Kr,Kr.current),!0}function WT(e,t,n){var r=e.stateNode;if(!r)throw Error(se(169));n?(e=OV(e,t,xl),r.__reactInternalMemoizedMergedChildContext=e,Ht(Kr),Ht(Er),$t(Er,e)):Ht(Kr),$t(Kr,n)}var ho=null,K0=!1,Ly=!1;function VV(e){ho===null?ho=[e]:ho.push(e)}function Tre(e){K0=!0,VV(e)}function Ia(){if(!Ly&&ho!==null){Ly=!0;var e=0,t=wt;try{var n=ho;for(wt=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}ho=null,K0=!1}catch(i){throw ho!==null&&(ho=ho.slice(e+1)),oV(vx,Ia),i}finally{wt=t,Ly=!1}}return null}var vc=[],yc=0,lm=null,cm=0,Ni=[],Bi=0,wl=null,mo=1,vo="";function Ha(e,t){vc[yc++]=cm,vc[yc++]=lm,lm=e,cm=t}function LV(e,t,n){Ni[Bi++]=mo,Ni[Bi++]=vo,Ni[Bi++]=wl,wl=e;var r=mo;e=vo;var i=32-Ss(r)-1;r&=~(1<<i),n+=1;var s=32-Ss(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,mo=1<<32-Ss(t)+i|n<<i|r,vo=s+e}else mo=1<<s|n<<i|r,vo=e}function kx(e){e.return!==null&&(Ha(e,1),LV(e,1,0))}function Cx(e){for(;e===lm;)lm=vc[--yc],vc[yc]=null,cm=vc[--yc],vc[yc]=null;for(;e===wl;)wl=Ni[--Bi],Ni[Bi]=null,vo=Ni[--Bi],Ni[Bi]=null,mo=Ni[--Bi],Ni[Bi]=null}var pi=null,di=null,Zt=!1,fs=null;function NV(e,t){var n=Fi(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function KT(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,pi=e,di=da(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,pi=e,di=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=wl!==null?{id:mo,overflow:vo}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Fi(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,pi=e,di=null,!0):!1;default:return!1}}function __(e){return(e.mode&1)!==0&&(e.flags&128)===0}function b_(e){if(Zt){var t=di;if(t){var n=t;if(!KT(e,t)){if(__(e))throw Error(se(418));t=da(n.nextSibling);var r=pi;t&&KT(e,t)?NV(r,n):(e.flags=e.flags&-4097|2,Zt=!1,pi=e)}}else{if(__(e))throw Error(se(418));e.flags=e.flags&-4097|2,Zt=!1,pi=e}}}function YT(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;pi=e}function gp(e){if(e!==pi)return!1;if(!Zt)return YT(e),Zt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!m_(e.type,e.memoizedProps)),t&&(t=di)){if(__(e))throw BV(),Error(se(418));for(;t;)NV(e,t),t=da(t.nextSibling)}if(YT(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(se(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){di=da(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}di=null}}else di=pi?da(e.stateNode.nextSibling):null;return!0}function BV(){for(var e=di;e;)e=da(e.nextSibling)}function ou(){di=pi=null,Zt=!1}function Tx(e){fs===null?fs=[e]:fs.push(e)}var Ire=No.ReactCurrentBatchConfig;function as(e,t){if(e&&e.defaultProps){t=cn({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var um=Ta(null),dm=null,Ac=null,Ix=null;function Px(){Ix=Ac=dm=null}function Rx(e){var t=um.current;Ht(um),e._currentValue=t}function S_(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Dc(e,t){dm=e,Ix=Ac=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(qr=!0),e.firstContext=null)}function Yi(e){var t=e._currentValue;if(Ix!==e)if(e={context:e,memoizedValue:t,next:null},Ac===null){if(dm===null)throw Error(se(308));Ac=e,dm.dependencies={lanes:0,firstContext:e}}else Ac=Ac.next=e;return t}var Xa=null;function Mx(e){Xa===null?Xa=[e]:Xa.push(e)}function DV(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Mx(t)):(n.next=i.next,i.next=n),t.interleaved=n,Po(e,r)}function Po(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Wo=!1;function jx(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $V(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function bo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fa(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ht&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Po(e,n)}return i=r.interleaved,i===null?(t.next=t,Mx(r)):(t.next=i.next,i.next=t),r.interleaved=t,Po(e,n)}function sg(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,yx(e,n)}}function QT(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function fm(e,t,n,r){var i=e.updateQueue;Wo=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=e.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,u=c=l=null,a=s;do{var h=a.lane,p=a.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=e,m=a;switch(h=t,p=n,m.tag){case 1:if(g=m.payload,typeof g=="function"){d=g.call(p,d,h);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,h=typeof g=="function"?g.call(p,d,h):g,h==null)break e;d=cn({},d,h);break e;case 2:Wo=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=d):u=u.next=p,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);kl|=o,e.lanes=o,e.memoizedState=d}}function JT(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(se(191,i));i.call(r)}}}var FV=new DO.Component().refs;function x_(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:cn({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Y0={isMounted:function(e){return(e=e._reactInternals)?Fl(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Nr(),i=pa(e),s=bo(r,i);s.payload=t,n!=null&&(s.callback=n),t=fa(e,s,i),t!==null&&(xs(t,e,i,r),sg(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Nr(),i=pa(e),s=bo(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=fa(e,s,i),t!==null&&(xs(t,e,i,r),sg(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Nr(),r=pa(e),i=bo(n,r);i.tag=2,t!=null&&(i.callback=t),t=fa(e,i,r),t!==null&&(xs(t,e,r,n),sg(t,e,r))}};function XT(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!Mf(n,r)||!Mf(i,s):!0}function zV(e,t,n){var r=!1,i=Sa,s=t.contextType;return typeof s=="object"&&s!==null?s=Yi(s):(i=Yr(t)?xl:Er.current,r=t.contextTypes,s=(r=r!=null)?su(e,i):Sa),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Y0,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function ZT(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Y0.enqueueReplaceState(t,t.state,null)}function w_(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=FV,jx(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=Yi(s):(s=Yr(t)?xl:Er.current,i.context=su(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(x_(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Y0.enqueueReplaceState(i,i.state,null),fm(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function rd(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(se(309));var r=n.stateNode}if(!r)throw Error(se(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;a===FV&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(se(284));if(!n._owner)throw Error(se(290,e))}return e}function mp(e,t){throw e=Object.prototype.toString.call(t),Error(se(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function eI(e){var t=e._init;return t(e._payload)}function UV(e){function t(v,A){if(e){var S=v.deletions;S===null?(v.deletions=[A],v.flags|=16):S.push(A)}}function n(v,A){if(!e)return null;for(;A!==null;)t(v,A),A=A.sibling;return null}function r(v,A){for(v=new Map;A!==null;)A.key!==null?v.set(A.key,A):v.set(A.index,A),A=A.sibling;return v}function i(v,A){return v=ga(v,A),v.index=0,v.sibling=null,v}function s(v,A,S){return v.index=S,e?(S=v.alternate,S!==null?(S=S.index,S<A?(v.flags|=2,A):S):(v.flags|=2,A)):(v.flags|=1048576,A)}function o(v){return e&&v.alternate===null&&(v.flags|=2),v}function a(v,A,S,x){return A===null||A.tag!==6?(A=Uy(S,v.mode,x),A.return=v,A):(A=i(A,S),A.return=v,A)}function l(v,A,S,x){var b=S.type;return b===dc?u(v,A,S.props.children,x,S.key):A!==null&&(A.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===qo&&eI(b)===A.type)?(x=i(A,S.props),x.ref=rd(v,A,S),x.return=v,x):(x=dg(S.type,S.key,S.props,null,v.mode,x),x.ref=rd(v,A,S),x.return=v,x)}function c(v,A,S,x){return A===null||A.tag!==4||A.stateNode.containerInfo!==S.containerInfo||A.stateNode.implementation!==S.implementation?(A=Hy(S,v.mode,x),A.return=v,A):(A=i(A,S.children||[]),A.return=v,A)}function u(v,A,S,x,b){return A===null||A.tag!==7?(A=ul(S,v.mode,x,b),A.return=v,A):(A=i(A,S),A.return=v,A)}function d(v,A,S){if(typeof A=="string"&&A!==""||typeof A=="number")return A=Uy(""+A,v.mode,S),A.return=v,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case sp:return S=dg(A.type,A.key,A.props,null,v.mode,S),S.ref=rd(v,null,A),S.return=v,S;case uc:return A=Hy(A,v.mode,S),A.return=v,A;case qo:var x=A._init;return d(v,x(A._payload),S)}if(_d(A)||Xu(A))return A=ul(A,v.mode,S,null),A.return=v,A;mp(v,A)}return null}function h(v,A,S,x){var b=A!==null?A.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return b!==null?null:a(v,A,""+S,x);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case sp:return S.key===b?l(v,A,S,x):null;case uc:return S.key===b?c(v,A,S,x):null;case qo:return b=S._init,h(v,A,b(S._payload),x)}if(_d(S)||Xu(S))return b!==null?null:u(v,A,S,x,null);mp(v,S)}return null}function p(v,A,S,x,b){if(typeof x=="string"&&x!==""||typeof x=="number")return v=v.get(S)||null,a(A,v,""+x,b);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case sp:return v=v.get(x.key===null?S:x.key)||null,l(A,v,x,b);case uc:return v=v.get(x.key===null?S:x.key)||null,c(A,v,x,b);case qo:var w=x._init;return p(v,A,S,w(x._payload),b)}if(_d(x)||Xu(x))return v=v.get(S)||null,u(A,v,x,b,null);mp(A,x)}return null}function g(v,A,S,x){for(var b=null,w=null,E=A,T=A=0,j=null;E!==null&&T<S.length;T++){E.index>T?(j=E,E=null):j=E.sibling;var B=h(v,E,S[T],x);if(B===null){E===null&&(E=j);break}e&&E&&B.alternate===null&&t(v,E),A=s(B,A,T),w===null?b=B:w.sibling=B,w=B,E=j}if(T===S.length)return n(v,E),Zt&&Ha(v,T),b;if(E===null){for(;T<S.length;T++)E=d(v,S[T],x),E!==null&&(A=s(E,A,T),w===null?b=E:w.sibling=E,w=E);return Zt&&Ha(v,T),b}for(E=r(v,E);T<S.length;T++)j=p(E,v,T,S[T],x),j!==null&&(e&&j.alternate!==null&&E.delete(j.key===null?T:j.key),A=s(j,A,T),w===null?b=j:w.sibling=j,w=j);return e&&E.forEach(function(D){return t(v,D)}),Zt&&Ha(v,T),b}function m(v,A,S,x){var b=Xu(S);if(typeof b!="function")throw Error(se(150));if(S=b.call(S),S==null)throw Error(se(151));for(var w=b=null,E=A,T=A=0,j=null,B=S.next();E!==null&&!B.done;T++,B=S.next()){E.index>T?(j=E,E=null):j=E.sibling;var D=h(v,E,B.value,x);if(D===null){E===null&&(E=j);break}e&&E&&D.alternate===null&&t(v,E),A=s(D,A,T),w===null?b=D:w.sibling=D,w=D,E=j}if(B.done)return n(v,E),Zt&&Ha(v,T),b;if(E===null){for(;!B.done;T++,B=S.next())B=d(v,B.value,x),B!==null&&(A=s(B,A,T),w===null?b=B:w.sibling=B,w=B);return Zt&&Ha(v,T),b}for(E=r(v,E);!B.done;T++,B=S.next())B=p(E,v,T,B.value,x),B!==null&&(e&&B.alternate!==null&&E.delete(B.key===null?T:B.key),A=s(B,A,T),w===null?b=B:w.sibling=B,w=B);return e&&E.forEach(function(q){return t(v,q)}),Zt&&Ha(v,T),b}function _(v,A,S,x){if(typeof S=="object"&&S!==null&&S.type===dc&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case sp:e:{for(var b=S.key,w=A;w!==null;){if(w.key===b){if(b=S.type,b===dc){if(w.tag===7){n(v,w.sibling),A=i(w,S.props.children),A.return=v,v=A;break e}}else if(w.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===qo&&eI(b)===w.type){n(v,w.sibling),A=i(w,S.props),A.ref=rd(v,w,S),A.return=v,v=A;break e}n(v,w);break}else t(v,w);w=w.sibling}S.type===dc?(A=ul(S.props.children,v.mode,x,S.key),A.return=v,v=A):(x=dg(S.type,S.key,S.props,null,v.mode,x),x.ref=rd(v,A,S),x.return=v,v=x)}return o(v);case uc:e:{for(w=S.key;A!==null;){if(A.key===w)if(A.tag===4&&A.stateNode.containerInfo===S.containerInfo&&A.stateNode.implementation===S.implementation){n(v,A.sibling),A=i(A,S.children||[]),A.return=v,v=A;break e}else{n(v,A);break}else t(v,A);A=A.sibling}A=Hy(S,v.mode,x),A.return=v,v=A}return o(v);case qo:return w=S._init,_(v,A,w(S._payload),x)}if(_d(S))return g(v,A,S,x);if(Xu(S))return m(v,A,S,x);mp(v,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,A!==null&&A.tag===6?(n(v,A.sibling),A=i(A,S),A.return=v,v=A):(n(v,A),A=Uy(S,v.mode,x),A.return=v,v=A),o(v)):n(v,A)}return _}var au=UV(!0),HV=UV(!1),Ah={},Zs=Ta(Ah),Lf=Ta(Ah),Nf=Ta(Ah);function Za(e){if(e===Ah)throw Error(se(174));return e}function Ox(e,t){switch($t(Nf,t),$t(Lf,e),$t(Zs,Ah),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:n_(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=n_(t,e)}Ht(Zs),$t(Zs,t)}function lu(){Ht(Zs),Ht(Lf),Ht(Nf)}function GV(e){Za(Nf.current);var t=Za(Zs.current),n=n_(t,e.type);t!==n&&($t(Lf,e),$t(Zs,n))}function Vx(e){Lf.current===e&&(Ht(Zs),Ht(Lf))}var sn=Ta(0);function hm(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ny=[];function Lx(){for(var e=0;e<Ny.length;e++)Ny[e]._workInProgressVersionPrimary=null;Ny.length=0}var og=No.ReactCurrentDispatcher,By=No.ReactCurrentBatchConfig,El=0,an=null,Nn=null,Qn=null,pm=!1,qd=!1,Bf=0,Pre=0;function mr(){throw Error(se(321))}function Nx(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ts(e[n],t[n]))return!1;return!0}function Bx(e,t,n,r,i,s){if(El=s,an=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,og.current=e===null||e.memoizedState===null?Ore:Vre,e=n(r,i),qd){s=0;do{if(qd=!1,Bf=0,25<=s)throw Error(se(301));s+=1,Qn=Nn=null,t.updateQueue=null,og.current=Lre,e=n(r,i)}while(qd)}if(og.current=gm,t=Nn!==null&&Nn.next!==null,El=0,Qn=Nn=an=null,pm=!1,t)throw Error(se(300));return e}function Dx(){var e=Bf!==0;return Bf=0,e}function Ns(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qn===null?an.memoizedState=Qn=e:Qn=Qn.next=e,Qn}function Qi(){if(Nn===null){var e=an.alternate;e=e!==null?e.memoizedState:null}else e=Nn.next;var t=Qn===null?an.memoizedState:Qn.next;if(t!==null)Qn=t,Nn=e;else{if(e===null)throw Error(se(310));Nn=e,e={memoizedState:Nn.memoizedState,baseState:Nn.baseState,baseQueue:Nn.baseQueue,queue:Nn.queue,next:null},Qn===null?an.memoizedState=Qn=e:Qn=Qn.next=e}return Qn}function Df(e,t){return typeof t=="function"?t(e):t}function Dy(e){var t=Qi(),n=t.queue;if(n===null)throw Error(se(311));n.lastRenderedReducer=e;var r=Nn,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((El&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,an.lanes|=u,kl|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,Ts(r,t.memoizedState)||(qr=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,an.lanes|=s,kl|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function $y(e){var t=Qi(),n=t.queue;if(n===null)throw Error(se(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);Ts(s,t.memoizedState)||(qr=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function qV(){}function WV(e,t){var n=an,r=Qi(),i=t(),s=!Ts(r.memoizedState,i);if(s&&(r.memoizedState=i,qr=!0),r=r.queue,$x(QV.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Qn!==null&&Qn.memoizedState.tag&1){if(n.flags|=2048,$f(9,YV.bind(null,n,r,i,t),void 0,null),er===null)throw Error(se(349));El&30||KV(n,t,i)}return i}function KV(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=an.updateQueue,t===null?(t={lastEffect:null,stores:null},an.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function YV(e,t,n,r){t.value=n,t.getSnapshot=r,JV(t)&&XV(e)}function QV(e,t,n){return n(function(){JV(t)&&XV(e)})}function JV(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ts(e,n)}catch{return!0}}function XV(e){var t=Po(e,1);t!==null&&xs(t,e,1,-1)}function tI(e){var t=Ns();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Df,lastRenderedState:e},t.queue=e,e=e.dispatch=jre.bind(null,an,e),[t.memoizedState,e]}function $f(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=an.updateQueue,t===null?(t={lastEffect:null,stores:null},an.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function ZV(){return Qi().memoizedState}function ag(e,t,n,r){var i=Ns();an.flags|=e,i.memoizedState=$f(1|t,n,void 0,r===void 0?null:r)}function Q0(e,t,n,r){var i=Qi();r=r===void 0?null:r;var s=void 0;if(Nn!==null){var o=Nn.memoizedState;if(s=o.destroy,r!==null&&Nx(r,o.deps)){i.memoizedState=$f(t,n,s,r);return}}an.flags|=e,i.memoizedState=$f(1|t,n,s,r)}function nI(e,t){return ag(8390656,8,e,t)}function $x(e,t){return Q0(2048,8,e,t)}function e4(e,t){return Q0(4,2,e,t)}function t4(e,t){return Q0(4,4,e,t)}function n4(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function r4(e,t,n){return n=n!=null?n.concat([e]):null,Q0(4,4,n4.bind(null,t,e),n)}function Fx(){}function i4(e,t){var n=Qi();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Nx(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function s4(e,t){var n=Qi();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Nx(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function o4(e,t,n){return El&21?(Ts(n,t)||(n=cV(),an.lanes|=n,kl|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,qr=!0),e.memoizedState=n)}function Rre(e,t){var n=wt;wt=n!==0&&4>n?n:4,e(!0);var r=By.transition;By.transition={};try{e(!1),t()}finally{wt=n,By.transition=r}}function a4(){return Qi().memoizedState}function Mre(e,t,n){var r=pa(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},l4(e))c4(t,n);else if(n=DV(e,t,n,r),n!==null){var i=Nr();xs(n,e,r,i),u4(n,t,r)}}function jre(e,t,n){var r=pa(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(l4(e))c4(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Ts(a,o)){var l=t.interleaved;l===null?(i.next=i,Mx(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=DV(e,t,i,r),n!==null&&(i=Nr(),xs(n,e,r,i),u4(n,t,r))}}function l4(e){var t=e.alternate;return e===an||t!==null&&t===an}function c4(e,t){qd=pm=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function u4(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,yx(e,n)}}var gm={readContext:Yi,useCallback:mr,useContext:mr,useEffect:mr,useImperativeHandle:mr,useInsertionEffect:mr,useLayoutEffect:mr,useMemo:mr,useReducer:mr,useRef:mr,useState:mr,useDebugValue:mr,useDeferredValue:mr,useTransition:mr,useMutableSource:mr,useSyncExternalStore:mr,useId:mr,unstable_isNewReconciler:!1},Ore={readContext:Yi,useCallback:function(e,t){return Ns().memoizedState=[e,t===void 0?null:t],e},useContext:Yi,useEffect:nI,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ag(4194308,4,n4.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ag(4194308,4,e,t)},useInsertionEffect:function(e,t){return ag(4,2,e,t)},useMemo:function(e,t){var n=Ns();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ns();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Mre.bind(null,an,e),[r.memoizedState,e]},useRef:function(e){var t=Ns();return e={current:e},t.memoizedState=e},useState:tI,useDebugValue:Fx,useDeferredValue:function(e){return Ns().memoizedState=e},useTransition:function(){var e=tI(!1),t=e[0];return e=Rre.bind(null,e[1]),Ns().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=an,i=Ns();if(Zt){if(n===void 0)throw Error(se(407));n=n()}else{if(n=t(),er===null)throw Error(se(349));El&30||KV(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,nI(QV.bind(null,r,s,e),[e]),r.flags|=2048,$f(9,YV.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Ns(),t=er.identifierPrefix;if(Zt){var n=vo,r=mo;n=(r&~(1<<32-Ss(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Bf++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Pre++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Vre={readContext:Yi,useCallback:i4,useContext:Yi,useEffect:$x,useImperativeHandle:r4,useInsertionEffect:e4,useLayoutEffect:t4,useMemo:s4,useReducer:Dy,useRef:ZV,useState:function(){return Dy(Df)},useDebugValue:Fx,useDeferredValue:function(e){var t=Qi();return o4(t,Nn.memoizedState,e)},useTransition:function(){var e=Dy(Df)[0],t=Qi().memoizedState;return[e,t]},useMutableSource:qV,useSyncExternalStore:WV,useId:a4,unstable_isNewReconciler:!1},Lre={readContext:Yi,useCallback:i4,useContext:Yi,useEffect:$x,useImperativeHandle:r4,useInsertionEffect:e4,useLayoutEffect:t4,useMemo:s4,useReducer:$y,useRef:ZV,useState:function(){return $y(Df)},useDebugValue:Fx,useDeferredValue:function(e){var t=Qi();return Nn===null?t.memoizedState=e:o4(t,Nn.memoizedState,e)},useTransition:function(){var e=$y(Df)[0],t=Qi().memoizedState;return[e,t]},useMutableSource:qV,useSyncExternalStore:WV,useId:a4,unstable_isNewReconciler:!1};function cu(e,t){try{var n="",r=t;do n+=une(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function Fy(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function E_(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Nre=typeof WeakMap=="function"?WeakMap:Map;function d4(e,t,n){n=bo(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){vm||(vm=!0,V_=r),E_(e,t)},n}function f4(e,t,n){n=bo(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){E_(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){E_(e,t),typeof r!="function"&&(ha===null?ha=new Set([this]):ha.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function rI(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Nre;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Jre.bind(null,e,t,n),t.then(e,e))}function iI(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function sI(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=bo(-1,1),t.tag=2,fa(n,t,1))),n.lanes|=1),e)}var Bre=No.ReactCurrentOwner,qr=!1;function Ir(e,t,n,r){t.child=e===null?HV(t,null,n,r):au(t,e.child,n,r)}function oI(e,t,n,r,i){n=n.render;var s=t.ref;return Dc(t,i),r=Bx(e,t,n,r,s,i),n=Dx(),e!==null&&!qr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ro(e,t,i)):(Zt&&n&&kx(t),t.flags|=1,Ir(e,t,r,i),t.child)}function aI(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!Yx(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,h4(e,t,s,r,i)):(e=dg(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Mf,n(o,r)&&e.ref===t.ref)return Ro(e,t,i)}return t.flags|=1,e=ga(s,r),e.ref=t.ref,e.return=t,t.child=e}function h4(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(Mf(s,r)&&e.ref===t.ref)if(qr=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(qr=!0);else return t.lanes=e.lanes,Ro(e,t,i)}return k_(e,t,n,r,i)}function p4(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},$t(bc,si),si|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,$t(bc,si),si|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,$t(bc,si),si|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,$t(bc,si),si|=r;return Ir(e,t,i,n),t.child}function g4(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function k_(e,t,n,r,i){var s=Yr(n)?xl:Er.current;return s=su(t,s),Dc(t,i),n=Bx(e,t,n,r,s,i),r=Dx(),e!==null&&!qr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ro(e,t,i)):(Zt&&r&&kx(t),t.flags|=1,Ir(e,t,n,i),t.child)}function lI(e,t,n,r,i){if(Yr(n)){var s=!0;am(t)}else s=!1;if(Dc(t,i),t.stateNode===null)lg(e,t),zV(t,n,r),w_(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Yi(c):(c=Yr(n)?xl:Er.current,c=su(t,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&ZT(t,o,r,c),Wo=!1;var h=t.memoizedState;o.state=h,fm(t,r,o,i),l=t.memoizedState,a!==r||h!==l||Kr.current||Wo?(typeof u=="function"&&(x_(t,n,u,r),l=t.memoizedState),(a=Wo||XT(t,n,a,r,h,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,$V(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:as(t.type,a),o.props=c,d=t.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Yi(l):(l=Yr(n)?xl:Er.current,l=su(t,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&ZT(t,o,r,l),Wo=!1,h=t.memoizedState,o.state=h,fm(t,r,o,i);var g=t.memoizedState;a!==d||h!==g||Kr.current||Wo?(typeof p=="function"&&(x_(t,n,p,r),g=t.memoizedState),(c=Wo||XT(t,n,c,r,h,g,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),o.props=r,o.state=g,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return C_(e,t,n,r,s,i)}function C_(e,t,n,r,i,s){g4(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&WT(t,n,!1),Ro(e,t,s);r=t.stateNode,Bre.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=au(t,e.child,null,s),t.child=au(t,null,a,s)):Ir(e,t,a,s),t.memoizedState=r.state,i&&WT(t,n,!0),t.child}function m4(e){var t=e.stateNode;t.pendingContext?qT(e,t.pendingContext,t.pendingContext!==t.context):t.context&&qT(e,t.context,!1),Ox(e,t.containerInfo)}function cI(e,t,n,r,i){return ou(),Tx(i),t.flags|=256,Ir(e,t,n,r),t.child}var T_={dehydrated:null,treeContext:null,retryLane:0};function I_(e){return{baseLanes:e,cachePool:null,transitions:null}}function v4(e,t,n){var r=t.pendingProps,i=sn.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),$t(sn,i&1),e===null)return b_(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Z0(o,r,0,null),e=ul(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=I_(n),t.memoizedState=T_,e):zx(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Dre(e,t,o,r,a,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=ga(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=ga(a,s):(s=ul(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?I_(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=T_,r}return s=e.child,e=s.sibling,r=ga(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function zx(e,t){return t=Z0({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function vp(e,t,n,r){return r!==null&&Tx(r),au(t,e.child,null,n),e=zx(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Dre(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=Fy(Error(se(422))),vp(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Z0({mode:"visible",children:r.children},i,0,null),s=ul(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&au(t,e.child,null,o),t.child.memoizedState=I_(o),t.memoizedState=T_,s);if(!(t.mode&1))return vp(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(se(419)),r=Fy(s,r,void 0),vp(e,t,o,r)}if(a=(o&e.childLanes)!==0,qr||a){if(r=er,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Po(e,i),xs(r,e,i,-1))}return Kx(),r=Fy(Error(se(421))),vp(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Xre.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,di=da(i.nextSibling),pi=t,Zt=!0,fs=null,e!==null&&(Ni[Bi++]=mo,Ni[Bi++]=vo,Ni[Bi++]=wl,mo=e.id,vo=e.overflow,wl=t),t=zx(t,r.children),t.flags|=4096,t)}function uI(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),S_(e.return,t,n)}function zy(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function y4(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Ir(e,t,r.children,n),r=sn.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&uI(e,n,t);else if(e.tag===19)uI(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if($t(sn,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&hm(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zy(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&hm(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zy(t,!0,n,null,s);break;case"together":zy(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function lg(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ro(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),kl|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(se(153));if(t.child!==null){for(e=t.child,n=ga(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ga(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function $re(e,t,n){switch(t.tag){case 3:m4(t),ou();break;case 5:GV(t);break;case 1:Yr(t.type)&&am(t);break;case 4:Ox(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;$t(um,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?($t(sn,sn.current&1),t.flags|=128,null):n&t.child.childLanes?v4(e,t,n):($t(sn,sn.current&1),e=Ro(e,t,n),e!==null?e.sibling:null);$t(sn,sn.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return y4(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),$t(sn,sn.current),r)break;return null;case 22:case 23:return t.lanes=0,p4(e,t,n)}return Ro(e,t,n)}var A4,P_,_4,b4;A4=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};P_=function(){};_4=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Za(Zs.current);var s=null;switch(n){case"input":i=X1(e,i),r=X1(e,r),s=[];break;case"select":i=cn({},i,{value:void 0}),r=cn({},r,{value:void 0}),s=[];break;case"textarea":i=t_(e,i),r=t_(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=sm)}r_(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ef.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ef.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ft("scroll",e),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}};b4=function(e,t,n,r){n!==r&&(t.flags|=4)};function id(e,t){if(!Zt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function vr(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Fre(e,t,n){var r=t.pendingProps;switch(Cx(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vr(t),null;case 1:return Yr(t.type)&&om(),vr(t),null;case 3:return r=t.stateNode,lu(),Ht(Kr),Ht(Er),Lx(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(gp(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,fs!==null&&(B_(fs),fs=null))),P_(e,t),vr(t),null;case 5:Vx(t);var i=Za(Nf.current);if(n=t.type,e!==null&&t.stateNode!=null)_4(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(se(166));return vr(t),null}if(e=Za(Zs.current),gp(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Us]=t,r[Vf]=s,e=(t.mode&1)!==0,n){case"dialog":Ft("cancel",r),Ft("close",r);break;case"iframe":case"object":case"embed":Ft("load",r);break;case"video":case"audio":for(i=0;i<Sd.length;i++)Ft(Sd[i],r);break;case"source":Ft("error",r);break;case"img":case"image":case"link":Ft("error",r),Ft("load",r);break;case"details":Ft("toggle",r);break;case"input":AT(r,s),Ft("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ft("invalid",r);break;case"textarea":bT(r,s),Ft("invalid",r)}r_(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&pp(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&pp(r.textContent,a,e),i=["children",""+a]):Ef.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ft("scroll",r)}switch(n){case"input":op(r),_T(r,s,!0);break;case"textarea":op(r),ST(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=sm)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=KO(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Us]=t,e[Vf]=r,A4(e,t,!1,!1),t.stateNode=e;e:{switch(o=i_(n,r),n){case"dialog":Ft("cancel",e),Ft("close",e),i=r;break;case"iframe":case"object":case"embed":Ft("load",e),i=r;break;case"video":case"audio":for(i=0;i<Sd.length;i++)Ft(Sd[i],e);i=r;break;case"source":Ft("error",e),i=r;break;case"img":case"image":case"link":Ft("error",e),Ft("load",e),i=r;break;case"details":Ft("toggle",e),i=r;break;case"input":AT(e,r),i=X1(e,r),Ft("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=cn({},r,{value:void 0}),Ft("invalid",e);break;case"textarea":bT(e,r),i=t_(e,r),Ft("invalid",e);break;default:i=r}r_(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?JO(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&YO(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&kf(e,l):typeof l=="number"&&kf(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ef.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ft("scroll",e):l!=null&&fx(e,s,l,o))}switch(n){case"input":op(e),_T(e,r,!1);break;case"textarea":op(e),ST(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ba(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Vc(e,!!r.multiple,s,!1):r.defaultValue!=null&&Vc(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=sm)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return vr(t),null;case 6:if(e&&t.stateNode!=null)b4(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(se(166));if(n=Za(Nf.current),Za(Zs.current),gp(t)){if(r=t.stateNode,n=t.memoizedProps,r[Us]=t,(s=r.nodeValue!==n)&&(e=pi,e!==null))switch(e.tag){case 3:pp(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&pp(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Us]=t,t.stateNode=r}return vr(t),null;case 13:if(Ht(sn),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Zt&&di!==null&&t.mode&1&&!(t.flags&128))BV(),ou(),t.flags|=98560,s=!1;else if(s=gp(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(se(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(se(317));s[Us]=t}else ou(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;vr(t),s=!1}else fs!==null&&(B_(fs),fs=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||sn.current&1?$n===0&&($n=3):Kx())),t.updateQueue!==null&&(t.flags|=4),vr(t),null);case 4:return lu(),P_(e,t),e===null&&jf(t.stateNode.containerInfo),vr(t),null;case 10:return Rx(t.type._context),vr(t),null;case 17:return Yr(t.type)&&om(),vr(t),null;case 19:if(Ht(sn),s=t.memoizedState,s===null)return vr(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)id(s,!1);else{if($n!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=hm(e),o!==null){for(t.flags|=128,id(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return $t(sn,sn.current&1|2),t.child}e=e.sibling}s.tail!==null&&wn()>uu&&(t.flags|=128,r=!0,id(s,!1),t.lanes=4194304)}else{if(!r)if(e=hm(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),id(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Zt)return vr(t),null}else 2*wn()-s.renderingStartTime>uu&&n!==1073741824&&(t.flags|=128,r=!0,id(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=wn(),t.sibling=null,n=sn.current,$t(sn,r?n&1|2:n&1),t):(vr(t),null);case 22:case 23:return Wx(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?si&1073741824&&(vr(t),t.subtreeFlags&6&&(t.flags|=8192)):vr(t),null;case 24:return null;case 25:return null}throw Error(se(156,t.tag))}function zre(e,t){switch(Cx(t),t.tag){case 1:return Yr(t.type)&&om(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return lu(),Ht(Kr),Ht(Er),Lx(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Vx(t),null;case 13:if(Ht(sn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(se(340));ou()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ht(sn),null;case 4:return lu(),null;case 10:return Rx(t.type._context),null;case 22:case 23:return Wx(),null;case 24:return null;default:return null}}var yp=!1,_r=!1,Ure=typeof WeakSet=="function"?WeakSet:Set,_e=null;function _c(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){hn(e,t,r)}else n.current=null}function R_(e,t,n){try{n()}catch(r){hn(e,t,r)}}var dI=!1;function Hre(e,t){if(p_=nm,e=EV(),Ex(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=e,h=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===e)break t;if(h===n&&++c===i&&(a=o),h===s&&++u===r&&(l=o),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(g_={focusedElem:e,selectionRange:n},nm=!1,_e=t;_e!==null;)if(t=_e,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,_e=e;else for(;_e!==null;){t=_e;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var m=g.memoizedProps,_=g.memoizedState,v=t.stateNode,A=v.getSnapshotBeforeUpdate(t.elementType===t.type?m:as(t.type,m),_);v.__reactInternalSnapshotBeforeUpdate=A}break;case 3:var S=t.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(se(163))}}catch(x){hn(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,_e=e;break}_e=t.return}return g=dI,dI=!1,g}function Wd(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&R_(t,n,s)}i=i.next}while(i!==r)}}function J0(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function M_(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function S4(e){var t=e.alternate;t!==null&&(e.alternate=null,S4(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Us],delete t[Vf],delete t[y_],delete t[kre],delete t[Cre])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function x4(e){return e.tag===5||e.tag===3||e.tag===4}function fI(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||x4(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function j_(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=sm));else if(r!==4&&(e=e.child,e!==null))for(j_(e,t,n),e=e.sibling;e!==null;)j_(e,t,n),e=e.sibling}function O_(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(O_(e,t,n),e=e.sibling;e!==null;)O_(e,t,n),e=e.sibling}var sr=null,us=!1;function Fo(e,t,n){for(n=n.child;n!==null;)w4(e,t,n),n=n.sibling}function w4(e,t,n){if(Xs&&typeof Xs.onCommitFiberUnmount=="function")try{Xs.onCommitFiberUnmount(U0,n)}catch{}switch(n.tag){case 5:_r||_c(n,t);case 6:var r=sr,i=us;sr=null,Fo(e,t,n),sr=r,us=i,sr!==null&&(us?(e=sr,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):sr.removeChild(n.stateNode));break;case 18:sr!==null&&(us?(e=sr,n=n.stateNode,e.nodeType===8?Vy(e.parentNode,n):e.nodeType===1&&Vy(e,n),Pf(e)):Vy(sr,n.stateNode));break;case 4:r=sr,i=us,sr=n.stateNode.containerInfo,us=!0,Fo(e,t,n),sr=r,us=i;break;case 0:case 11:case 14:case 15:if(!_r&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&R_(n,t,o),i=i.next}while(i!==r)}Fo(e,t,n);break;case 1:if(!_r&&(_c(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){hn(n,t,a)}Fo(e,t,n);break;case 21:Fo(e,t,n);break;case 22:n.mode&1?(_r=(r=_r)||n.memoizedState!==null,Fo(e,t,n),_r=r):Fo(e,t,n);break;default:Fo(e,t,n)}}function hI(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Ure),t.forEach(function(r){var i=Zre.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ss(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:sr=a.stateNode,us=!1;break e;case 3:sr=a.stateNode.containerInfo,us=!0;break e;case 4:sr=a.stateNode.containerInfo,us=!0;break e}a=a.return}if(sr===null)throw Error(se(160));w4(s,o,i),sr=null,us=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){hn(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)E4(t,e),t=t.sibling}function E4(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ss(t,e),js(e),r&4){try{Wd(3,e,e.return),J0(3,e)}catch(m){hn(e,e.return,m)}try{Wd(5,e,e.return)}catch(m){hn(e,e.return,m)}}break;case 1:ss(t,e),js(e),r&512&&n!==null&&_c(n,n.return);break;case 5:if(ss(t,e),js(e),r&512&&n!==null&&_c(n,n.return),e.flags&32){var i=e.stateNode;try{kf(i,"")}catch(m){hn(e,e.return,m)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&qO(i,s),i_(a,o);var c=i_(a,s);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?JO(i,d):u==="dangerouslySetInnerHTML"?YO(i,d):u==="children"?kf(i,d):fx(i,u,d,c)}switch(a){case"input":Z1(i,s);break;case"textarea":WO(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Vc(i,!!s.multiple,p,!1):h!==!!s.multiple&&(s.defaultValue!=null?Vc(i,!!s.multiple,s.defaultValue,!0):Vc(i,!!s.multiple,s.multiple?[]:"",!1))}i[Vf]=s}catch(m){hn(e,e.return,m)}}break;case 6:if(ss(t,e),js(e),r&4){if(e.stateNode===null)throw Error(se(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(m){hn(e,e.return,m)}}break;case 3:if(ss(t,e),js(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Pf(t.containerInfo)}catch(m){hn(e,e.return,m)}break;case 4:ss(t,e),js(e);break;case 13:ss(t,e),js(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Gx=wn())),r&4&&hI(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(_r=(c=_r)||u,ss(t,e),_r=c):ss(t,e),js(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(_e=e,u=e.child;u!==null;){for(d=_e=u;_e!==null;){switch(h=_e,p=h.child,h.tag){case 0:case 11:case 14:case 15:Wd(4,h,h.return);break;case 1:_c(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){hn(r,n,m)}}break;case 5:_c(h,h.return);break;case 22:if(h.memoizedState!==null){gI(d);continue}}p!==null?(p.return=h,_e=p):gI(d)}u=u.sibling}e:for(u=null,d=e;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=QO("display",o))}catch(m){hn(e,e.return,m)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(m){hn(e,e.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ss(t,e),js(e),r&4&&hI(e);break;case 21:break;default:ss(t,e),js(e)}}function js(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(x4(n)){var r=n;break e}n=n.return}throw Error(se(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(kf(i,""),r.flags&=-33);var s=fI(e);O_(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=fI(e);j_(e,a,o);break;default:throw Error(se(161))}}catch(l){hn(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Gre(e,t,n){_e=e,k4(e)}function k4(e,t,n){for(var r=(e.mode&1)!==0;_e!==null;){var i=_e,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||yp;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||_r;a=yp;var c=_r;if(yp=o,(_r=l)&&!c)for(_e=i;_e!==null;)o=_e,l=o.child,o.tag===22&&o.memoizedState!==null?mI(i):l!==null?(l.return=o,_e=l):mI(i);for(;s!==null;)_e=s,k4(s),s=s.sibling;_e=i,yp=a,_r=c}pI(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,_e=s):pI(e)}}function pI(e){for(;_e!==null;){var t=_e;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:_r||J0(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!_r)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:as(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&JT(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}JT(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Pf(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(se(163))}_r||t.flags&512&&M_(t)}catch(h){hn(t,t.return,h)}}if(t===e){_e=null;break}if(n=t.sibling,n!==null){n.return=t.return,_e=n;break}_e=t.return}}function gI(e){for(;_e!==null;){var t=_e;if(t===e){_e=null;break}var n=t.sibling;if(n!==null){n.return=t.return,_e=n;break}_e=t.return}}function mI(e){for(;_e!==null;){var t=_e;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{J0(4,t)}catch(l){hn(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){hn(t,i,l)}}var s=t.return;try{M_(t)}catch(l){hn(t,s,l)}break;case 5:var o=t.return;try{M_(t)}catch(l){hn(t,o,l)}}}catch(l){hn(t,t.return,l)}if(t===e){_e=null;break}var a=t.sibling;if(a!==null){a.return=t.return,_e=a;break}_e=t.return}}var qre=Math.ceil,mm=No.ReactCurrentDispatcher,Ux=No.ReactCurrentOwner,Ui=No.ReactCurrentBatchConfig,ht=0,er=null,On=null,dr=0,si=0,bc=Ta(0),$n=0,Ff=null,kl=0,X0=0,Hx=0,Kd=null,Ur=null,Gx=0,uu=1/0,uo=null,vm=!1,V_=null,ha=null,Ap=!1,ra=null,ym=0,Yd=0,L_=null,cg=-1,ug=0;function Nr(){return ht&6?wn():cg!==-1?cg:cg=wn()}function pa(e){return e.mode&1?ht&2&&dr!==0?dr&-dr:Ire.transition!==null?(ug===0&&(ug=cV()),ug):(e=wt,e!==0||(e=window.event,e=e===void 0?16:mV(e.type)),e):1}function xs(e,t,n,r){if(50<Yd)throw Yd=0,L_=null,Error(se(185));mh(e,n,r),(!(ht&2)||e!==er)&&(e===er&&(!(ht&2)&&(X0|=n),$n===4&&Qo(e,dr)),Qr(e,r),n===1&&ht===0&&!(t.mode&1)&&(uu=wn()+500,K0&&Ia()))}function Qr(e,t){var n=e.callbackNode;Ine(e,t);var r=tm(e,e===er?dr:0);if(r===0)n!==null&&ET(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&ET(n),t===1)e.tag===0?Tre(vI.bind(null,e)):VV(vI.bind(null,e)),wre(function(){!(ht&6)&&Ia()}),n=null;else{switch(uV(r)){case 1:n=vx;break;case 4:n=aV;break;case 16:n=em;break;case 536870912:n=lV;break;default:n=em}n=O4(n,C4.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function C4(e,t){if(cg=-1,ug=0,ht&6)throw Error(se(327));var n=e.callbackNode;if($c()&&e.callbackNode!==n)return null;var r=tm(e,e===er?dr:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Am(e,r);else{t=r;var i=ht;ht|=2;var s=I4();(er!==e||dr!==t)&&(uo=null,uu=wn()+500,cl(e,t));do try{Yre();break}catch(a){T4(e,a)}while(!0);Px(),mm.current=s,ht=i,On!==null?t=0:(er=null,dr=0,t=$n)}if(t!==0){if(t===2&&(i=c_(e),i!==0&&(r=i,t=N_(e,i))),t===1)throw n=Ff,cl(e,0),Qo(e,r),Qr(e,wn()),n;if(t===6)Qo(e,r);else{if(i=e.current.alternate,!(r&30)&&!Wre(i)&&(t=Am(e,r),t===2&&(s=c_(e),s!==0&&(r=s,t=N_(e,s))),t===1))throw n=Ff,cl(e,0),Qo(e,r),Qr(e,wn()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(se(345));case 2:Ga(e,Ur,uo);break;case 3:if(Qo(e,r),(r&130023424)===r&&(t=Gx+500-wn(),10<t)){if(tm(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Nr(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=v_(Ga.bind(null,e,Ur,uo),t);break}Ga(e,Ur,uo);break;case 4:if(Qo(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-Ss(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=wn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*qre(r/1960))-r,10<r){e.timeoutHandle=v_(Ga.bind(null,e,Ur,uo),r);break}Ga(e,Ur,uo);break;case 5:Ga(e,Ur,uo);break;default:throw Error(se(329))}}}return Qr(e,wn()),e.callbackNode===n?C4.bind(null,e):null}function N_(e,t){var n=Kd;return e.current.memoizedState.isDehydrated&&(cl(e,t).flags|=256),e=Am(e,t),e!==2&&(t=Ur,Ur=n,t!==null&&B_(t)),e}function B_(e){Ur===null?Ur=e:Ur.push.apply(Ur,e)}function Wre(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Ts(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Qo(e,t){for(t&=~Hx,t&=~X0,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ss(t),r=1<<n;e[n]=-1,t&=~r}}function vI(e){if(ht&6)throw Error(se(327));$c();var t=tm(e,0);if(!(t&1))return Qr(e,wn()),null;var n=Am(e,t);if(e.tag!==0&&n===2){var r=c_(e);r!==0&&(t=r,n=N_(e,r))}if(n===1)throw n=Ff,cl(e,0),Qo(e,t),Qr(e,wn()),n;if(n===6)throw Error(se(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ga(e,Ur,uo),Qr(e,wn()),null}function qx(e,t){var n=ht;ht|=1;try{return e(t)}finally{ht=n,ht===0&&(uu=wn()+500,K0&&Ia())}}function Cl(e){ra!==null&&ra.tag===0&&!(ht&6)&&$c();var t=ht;ht|=1;var n=Ui.transition,r=wt;try{if(Ui.transition=null,wt=1,e)return e()}finally{wt=r,Ui.transition=n,ht=t,!(ht&6)&&Ia()}}function Wx(){si=bc.current,Ht(bc)}function cl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,xre(n)),On!==null)for(n=On.return;n!==null;){var r=n;switch(Cx(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&om();break;case 3:lu(),Ht(Kr),Ht(Er),Lx();break;case 5:Vx(r);break;case 4:lu();break;case 13:Ht(sn);break;case 19:Ht(sn);break;case 10:Rx(r.type._context);break;case 22:case 23:Wx()}n=n.return}if(er=e,On=e=ga(e.current,null),dr=si=t,$n=0,Ff=null,Hx=X0=kl=0,Ur=Kd=null,Xa!==null){for(t=0;t<Xa.length;t++)if(n=Xa[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Xa=null}return e}function T4(e,t){do{var n=On;try{if(Px(),og.current=gm,pm){for(var r=an.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}pm=!1}if(El=0,Qn=Nn=an=null,qd=!1,Bf=0,Ux.current=null,n===null||n.return===null){$n=1,Ff=t,On=null;break}e:{var s=e,o=n.return,a=n,l=t;if(t=dr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=iI(o);if(p!==null){p.flags&=-257,sI(p,o,a,s,t),p.mode&1&&rI(s,c,t),t=p,l=c;var g=t.updateQueue;if(g===null){var m=new Set;m.add(l),t.updateQueue=m}else g.add(l);break e}else{if(!(t&1)){rI(s,c,t),Kx();break e}l=Error(se(426))}}else if(Zt&&a.mode&1){var _=iI(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),sI(_,o,a,s,t),Tx(cu(l,a));break e}}s=l=cu(l,a),$n!==4&&($n=2),Kd===null?Kd=[s]:Kd.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var v=d4(s,l,t);QT(s,v);break e;case 1:a=l;var A=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof A.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(ha===null||!ha.has(S)))){s.flags|=65536,t&=-t,s.lanes|=t;var x=f4(s,a,t);QT(s,x);break e}}s=s.return}while(s!==null)}R4(n)}catch(b){t=b,On===n&&n!==null&&(On=n=n.return);continue}break}while(!0)}function I4(){var e=mm.current;return mm.current=gm,e===null?gm:e}function Kx(){($n===0||$n===3||$n===2)&&($n=4),er===null||!(kl&268435455)&&!(X0&268435455)||Qo(er,dr)}function Am(e,t){var n=ht;ht|=2;var r=I4();(er!==e||dr!==t)&&(uo=null,cl(e,t));do try{Kre();break}catch(i){T4(e,i)}while(!0);if(Px(),ht=n,mm.current=r,On!==null)throw Error(se(261));return er=null,dr=0,$n}function Kre(){for(;On!==null;)P4(On)}function Yre(){for(;On!==null&&!_ne();)P4(On)}function P4(e){var t=j4(e.alternate,e,si);e.memoizedProps=e.pendingProps,t===null?R4(e):On=t,Ux.current=null}function R4(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=zre(n,t),n!==null){n.flags&=32767,On=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{$n=6,On=null;return}}else if(n=Fre(n,t,si),n!==null){On=n;return}if(t=t.sibling,t!==null){On=t;return}On=t=e}while(t!==null);$n===0&&($n=5)}function Ga(e,t,n){var r=wt,i=Ui.transition;try{Ui.transition=null,wt=1,Qre(e,t,n,r)}finally{Ui.transition=i,wt=r}return null}function Qre(e,t,n,r){do $c();while(ra!==null);if(ht&6)throw Error(se(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(se(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(Pne(e,s),e===er&&(On=er=null,dr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ap||(Ap=!0,O4(em,function(){return $c(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Ui.transition,Ui.transition=null;var o=wt;wt=1;var a=ht;ht|=4,Ux.current=null,Hre(e,n),E4(n,e),mre(g_),nm=!!p_,g_=p_=null,e.current=n,Gre(n),bne(),ht=a,wt=o,Ui.transition=s}else e.current=n;if(Ap&&(Ap=!1,ra=e,ym=i),s=e.pendingLanes,s===0&&(ha=null),wne(n.stateNode),Qr(e,wn()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(vm)throw vm=!1,e=V_,V_=null,e;return ym&1&&e.tag!==0&&$c(),s=e.pendingLanes,s&1?e===L_?Yd++:(Yd=0,L_=e):Yd=0,Ia(),null}function $c(){if(ra!==null){var e=uV(ym),t=Ui.transition,n=wt;try{if(Ui.transition=null,wt=16>e?16:e,ra===null)var r=!1;else{if(e=ra,ra=null,ym=0,ht&6)throw Error(se(331));var i=ht;for(ht|=4,_e=e.current;_e!==null;){var s=_e,o=s.child;if(_e.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(_e=c;_e!==null;){var u=_e;switch(u.tag){case 0:case 11:case 15:Wd(8,u,s)}var d=u.child;if(d!==null)d.return=u,_e=d;else for(;_e!==null;){u=_e;var h=u.sibling,p=u.return;if(S4(u),u===c){_e=null;break}if(h!==null){h.return=p,_e=h;break}_e=p}}}var g=s.alternate;if(g!==null){var m=g.child;if(m!==null){g.child=null;do{var _=m.sibling;m.sibling=null,m=_}while(m!==null)}}_e=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,_e=o;else e:for(;_e!==null;){if(s=_e,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Wd(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,_e=v;break e}_e=s.return}}var A=e.current;for(_e=A;_e!==null;){o=_e;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,_e=S;else e:for(o=A;_e!==null;){if(a=_e,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:J0(9,a)}}catch(b){hn(a,a.return,b)}if(a===o){_e=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,_e=x;break e}_e=a.return}}if(ht=i,Ia(),Xs&&typeof Xs.onPostCommitFiberRoot=="function")try{Xs.onPostCommitFiberRoot(U0,e)}catch{}r=!0}return r}finally{wt=n,Ui.transition=t}}return!1}function yI(e,t,n){t=cu(n,t),t=d4(e,t,1),e=fa(e,t,1),t=Nr(),e!==null&&(mh(e,1,t),Qr(e,t))}function hn(e,t,n){if(e.tag===3)yI(e,e,n);else for(;t!==null;){if(t.tag===3){yI(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ha===null||!ha.has(r))){e=cu(n,e),e=f4(t,e,1),t=fa(t,e,1),e=Nr(),t!==null&&(mh(t,1,e),Qr(t,e));break}}t=t.return}}function Jre(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Nr(),e.pingedLanes|=e.suspendedLanes&n,er===e&&(dr&n)===n&&($n===4||$n===3&&(dr&130023424)===dr&&500>wn()-Gx?cl(e,0):Hx|=n),Qr(e,t)}function M4(e,t){t===0&&(e.mode&1?(t=cp,cp<<=1,!(cp&130023424)&&(cp=4194304)):t=1);var n=Nr();e=Po(e,t),e!==null&&(mh(e,t,n),Qr(e,n))}function Xre(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),M4(e,n)}function Zre(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(se(314))}r!==null&&r.delete(t),M4(e,n)}var j4;j4=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Kr.current)qr=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return qr=!1,$re(e,t,n);qr=!!(e.flags&131072)}else qr=!1,Zt&&t.flags&1048576&&LV(t,cm,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;lg(e,t),e=t.pendingProps;var i=su(t,Er.current);Dc(t,n),i=Bx(null,t,r,e,i,n);var s=Dx();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Yr(r)?(s=!0,am(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,jx(t),i.updater=Y0,t.stateNode=i,i._reactInternals=t,w_(t,r,e,n),t=C_(null,t,r,!0,s,n)):(t.tag=0,Zt&&s&&kx(t),Ir(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(lg(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=tie(r),e=as(r,e),i){case 0:t=k_(null,t,r,e,n);break e;case 1:t=lI(null,t,r,e,n);break e;case 11:t=oI(null,t,r,e,n);break e;case 14:t=aI(null,t,r,as(r.type,e),n);break e}throw Error(se(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:as(r,i),k_(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:as(r,i),lI(e,t,r,i,n);case 3:e:{if(m4(t),e===null)throw Error(se(387));r=t.pendingProps,s=t.memoizedState,i=s.element,$V(e,t),fm(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=cu(Error(se(423)),t),t=cI(e,t,r,n,i);break e}else if(r!==i){i=cu(Error(se(424)),t),t=cI(e,t,r,n,i);break e}else for(di=da(t.stateNode.containerInfo.firstChild),pi=t,Zt=!0,fs=null,n=HV(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ou(),r===i){t=Ro(e,t,n);break e}Ir(e,t,r,n)}t=t.child}return t;case 5:return GV(t),e===null&&b_(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,m_(r,i)?o=null:s!==null&&m_(r,s)&&(t.flags|=32),g4(e,t),Ir(e,t,o,n),t.child;case 6:return e===null&&b_(t),null;case 13:return v4(e,t,n);case 4:return Ox(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=au(t,null,r,n):Ir(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:as(r,i),oI(e,t,r,i,n);case 7:return Ir(e,t,t.pendingProps,n),t.child;case 8:return Ir(e,t,t.pendingProps.children,n),t.child;case 12:return Ir(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,$t(um,r._currentValue),r._currentValue=o,s!==null)if(Ts(s.value,o)){if(s.children===i.children&&!Kr.current){t=Ro(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=bo(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),S_(s.return,n,t),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(se(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),S_(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ir(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Dc(t,n),i=Yi(i),r=r(i),t.flags|=1,Ir(e,t,r,n),t.child;case 14:return r=t.type,i=as(r,t.pendingProps),i=as(r.type,i),aI(e,t,r,i,n);case 15:return h4(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:as(r,i),lg(e,t),t.tag=1,Yr(r)?(e=!0,am(t)):e=!1,Dc(t,n),zV(t,r,i),w_(t,r,i,n),C_(null,t,r,!0,e,n);case 19:return y4(e,t,n);case 22:return p4(e,t,n)}throw Error(se(156,t.tag))};function O4(e,t){return oV(e,t)}function eie(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fi(e,t,n,r){return new eie(e,t,n,r)}function Yx(e){return e=e.prototype,!(!e||!e.isReactComponent)}function tie(e){if(typeof e=="function")return Yx(e)?1:0;if(e!=null){if(e=e.$$typeof,e===px)return 11;if(e===gx)return 14}return 2}function ga(e,t){var n=e.alternate;return n===null?(n=Fi(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function dg(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")Yx(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case dc:return ul(n.children,i,s,t);case hx:o=8,i|=8;break;case K1:return e=Fi(12,n,t,i|2),e.elementType=K1,e.lanes=s,e;case Y1:return e=Fi(13,n,t,i),e.elementType=Y1,e.lanes=s,e;case Q1:return e=Fi(19,n,t,i),e.elementType=Q1,e.lanes=s,e;case UO:return Z0(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case FO:o=10;break e;case zO:o=9;break e;case px:o=11;break e;case gx:o=14;break e;case qo:o=16,r=null;break e}throw Error(se(130,e==null?e:typeof e,""))}return t=Fi(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function ul(e,t,n,r){return e=Fi(7,e,r,t),e.lanes=n,e}function Z0(e,t,n,r){return e=Fi(22,e,r,t),e.elementType=UO,e.lanes=n,e.stateNode={isHidden:!1},e}function Uy(e,t,n){return e=Fi(6,e,null,t),e.lanes=n,e}function Hy(e,t,n){return t=Fi(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function nie(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wy(0),this.expirationTimes=wy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wy(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Qx(e,t,n,r,i,s,o,a,l){return e=new nie(e,t,n,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Fi(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},jx(s),e}function rie(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:uc,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function V4(e){if(!e)return Sa;e=e._reactInternals;e:{if(Fl(e)!==e||e.tag!==1)throw Error(se(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Yr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(se(171))}if(e.tag===1){var n=e.type;if(Yr(n))return OV(e,n,t)}return t}function L4(e,t,n,r,i,s,o,a,l){return e=Qx(n,r,!0,e,i,s,o,a,l),e.context=V4(null),n=e.current,r=Nr(),i=pa(n),s=bo(r,i),s.callback=t??null,fa(n,s,i),e.current.lanes=i,mh(e,i,r),Qr(e,r),e}function ev(e,t,n,r){var i=t.current,s=Nr(),o=pa(i);return n=V4(n),t.context===null?t.context=n:t.pendingContext=n,t=bo(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=fa(i,t,o),e!==null&&(xs(e,i,o,s),sg(e,i,o)),o}function _m(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function AI(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Jx(e,t){AI(e,t),(e=e.alternate)&&AI(e,t)}function iie(){return null}var N4=typeof reportError=="function"?reportError:function(e){console.error(e)};function Xx(e){this._internalRoot=e}tv.prototype.render=Xx.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(se(409));ev(e,t,null,null)};tv.prototype.unmount=Xx.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Cl(function(){ev(null,e,null,null)}),t[Io]=null}};function tv(e){this._internalRoot=e}tv.prototype.unstable_scheduleHydration=function(e){if(e){var t=hV();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Yo.length&&t!==0&&t<Yo[n].priority;n++);Yo.splice(n,0,e),n===0&&gV(e)}};function Zx(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function nv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function _I(){}function sie(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=_m(o);s.call(c)}}var o=L4(t,r,e,0,null,!1,!1,"",_I);return e._reactRootContainer=o,e[Io]=o.current,jf(e.nodeType===8?e.parentNode:e),Cl(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=_m(l);a.call(c)}}var l=Qx(e,0,!1,null,null,!1,!1,"",_I);return e._reactRootContainer=l,e[Io]=l.current,jf(e.nodeType===8?e.parentNode:e),Cl(function(){ev(t,l,n,r)}),l}function rv(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=_m(o);a.call(l)}}ev(t,o,e,i)}else o=sie(n,t,e,i,r);return _m(o)}dV=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=bd(t.pendingLanes);n!==0&&(yx(t,n|1),Qr(t,wn()),!(ht&6)&&(uu=wn()+500,Ia()))}break;case 13:Cl(function(){var r=Po(e,1);if(r!==null){var i=Nr();xs(r,e,1,i)}}),Jx(e,1)}};Ax=function(e){if(e.tag===13){var t=Po(e,134217728);if(t!==null){var n=Nr();xs(t,e,134217728,n)}Jx(e,134217728)}};fV=function(e){if(e.tag===13){var t=pa(e),n=Po(e,t);if(n!==null){var r=Nr();xs(n,e,t,r)}Jx(e,t)}};hV=function(){return wt};pV=function(e,t){var n=wt;try{return wt=e,t()}finally{wt=n}};o_=function(e,t,n){switch(t){case"input":if(Z1(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=W0(r);if(!i)throw Error(se(90));GO(r),Z1(r,i)}}}break;case"textarea":WO(e,n);break;case"select":t=n.value,t!=null&&Vc(e,!!n.multiple,t,!1)}};eV=qx;tV=Cl;var oie={usingClientEntryPoint:!1,Events:[yh,gc,W0,XO,ZO,qx]},sd={findFiberByHostInstance:Ja,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},aie={bundleType:sd.bundleType,version:sd.version,rendererPackageName:sd.rendererPackageName,rendererConfig:sd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:No.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=iV(e),e===null?null:e.stateNode},findFiberByHostInstance:sd.findFiberByHostInstance||iie,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _p=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_p.isDisabled&&_p.supportsFiber)try{U0=_p.inject(aie),Xs=_p}catch{}}Si.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oie;Si.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Zx(t))throw Error(se(200));return rie(e,t,null,n)};Si.createRoot=function(e,t){if(!Zx(e))throw Error(se(299));var n=!1,r="",i=N4;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Qx(e,1,!1,null,null,n,!1,r,i),e[Io]=t.current,jf(e.nodeType===8?e.parentNode:e),new Xx(t)};Si.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(se(188)):(e=Object.keys(e).join(","),Error(se(268,e)));return e=iV(t),e=e===null?null:e.stateNode,e};Si.flushSync=function(e){return Cl(e)};Si.hydrate=function(e,t,n){if(!nv(t))throw Error(se(200));return rv(null,e,t,!0,n)};Si.hydrateRoot=function(e,t,n){if(!Zx(e))throw Error(se(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=N4;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=L4(t,null,e,1,n??null,i,!1,s,o),e[Io]=t.current,jf(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new tv(t)};Si.render=function(e,t,n){if(!nv(t))throw Error(se(200));return rv(null,e,t,!1,n)};Si.unmountComponentAtNode=function(e){if(!nv(e))throw Error(se(40));return e._reactRootContainer?(Cl(function(){rv(null,null,e,!1,function(){e._reactRootContainer=null,e[Io]=null})}),!0):!1};Si.unstable_batchedUpdates=qx;Si.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!nv(n))throw Error(se(200));if(e==null||e._reactInternals===void 0)throw Error(se(38));return rv(e,t,n,!1,r)};Si.version="18.2.0-next-9e3b772b8-20220608";function B4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(B4)}catch(e){console.error(e)}}B4(),LO.exports=Si;var Lu=LO.exports;const B1e=hr(Lu),bI=Te.createContext(null);function lie(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ew(e,t){var n=function(s){return t&&y.isValidElement(s)?t(s):s},r=Object.create(null);return e&&y.Children.map(e,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function cie(e,t){e=e||{},t=t||{};function n(u){return u in t?t[u]:e[u]}var r=Object.create(null),i=[];for(var s in e)s in t?i.length&&(r[s]=i,i=[]):i.push(s);var o,a={};for(var l in t){if(r[l])for(o=0;o<r[l].length;o++){var c=r[l][o];a[r[l][o]]=n(c)}a[l]=n(l)}for(o=0;o<i.length;o++)a[i[o]]=n(i[o]);return a}function el(e,t,n){return n[t]!=null?n[t]:e.props[t]}function uie(e,t){return ew(e.children,function(n){return y.cloneElement(n,{onExited:t.bind(null,n),in:!0,appear:el(n,"appear",e),enter:el(n,"enter",e),exit:el(n,"exit",e)})})}function die(e,t,n){var r=ew(e.children),i=cie(t,r);return Object.keys(i).forEach(function(s){var o=i[s];if(y.isValidElement(o)){var a=s in t,l=s in r,c=t[s],u=y.isValidElement(c)&&!c.props.in;l&&(!a||u)?i[s]=y.cloneElement(o,{onExited:n.bind(null,o),in:!0,exit:el(o,"exit",e),enter:el(o,"enter",e)}):!l&&a&&!u?i[s]=y.cloneElement(o,{in:!1}):l&&a&&y.isValidElement(c)&&(i[s]=y.cloneElement(o,{onExited:n.bind(null,o),in:c.props.in,exit:el(o,"exit",e),enter:el(o,"enter",e)}))}}),i}var fie=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},hie={component:"div",childFactory:function(t){return t}},tw=function(e){ine(t,e);function t(r,i){var s;s=e.call(this,r,i)||this;var o=s.handleExited.bind(lie(s));return s.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},s}var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(i,s){var o=s.children,a=s.handleExited,l=s.firstRender;return{children:l?uie(i,a):die(i,o,a),firstRender:!1}},n.handleExited=function(i,s){var o=ew(this.props.children);i.key in o||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(a){var l=Ve({},a.children);return delete l[i.key],{children:l}}))},n.render=function(){var i=this.props,s=i.component,o=i.childFactory,a=kr(i,["component","childFactory"]),l=this.state.contextValue,c=fie(this.state.children).map(o);return delete a.appear,delete a.enter,delete a.exit,s===null?Te.createElement(bI.Provider,{value:l},c):Te.createElement(bI.Provider,{value:l},Te.createElement(s,a,c))},t}(Te.Component);tw.propTypes={};tw.defaultProps=hie;const pie=tw;function gie(e){return Object.keys(e).length===0}function mie(e=null){const t=y.useContext(ah);return!t||gie(t)?e:t}function nw(e,t=0,n=1){return pO(e,t,n)}function vie(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function iv(e){if(e.type)return e;if(e.charAt(0)==="#")return iv(vie(e));const t=e.indexOf("("),n=e.substring(0,t);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error(Sl(9,e));let r=e.substring(t+1,e.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error(Sl(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}function rw(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return t.indexOf("rgb")!==-1?r=r.map((i,s)=>s<3?parseInt(i,10):i):t.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),t.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${t}(${r})`}function yie(e,t){return e=iv(e),t=nw(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,rw(e)}function D1e(e,t){if(e=iv(e),t=nw(t),e.type.indexOf("hsl")!==-1)e.values[2]*=1-t;else if(e.type.indexOf("rgb")!==-1||e.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)e.values[n]*=1-t;return rw(e)}function $1e(e,t){if(e=iv(e),t=nw(t),e.type.indexOf("hsl")!==-1)e.values[2]+=(100-e.values[2])*t;else if(e.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(e.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return rw(e)}const Aie=y.createContext(null),D4=Aie;function $4(){return y.useContext(D4)}const _ie=typeof Symbol=="function"&&Symbol.for,bie=_ie?Symbol.for("mui.nested"):"__THEME_NESTED__";function Sie(e,t){return typeof t=="function"?t(e):Ve({},e,t)}function xie(e){const{children:t,theme:n}=e,r=$4(),i=y.useMemo(()=>{const s=r===null?n:Sie(r,n);return s!=null&&(s[bie]=r!==null),s},[n,r]);return f.jsx(D4.Provider,{value:i,children:t})}const wie=["value"],F4=y.createContext();function Eie(e){let{value:t}=e,n=kr(e,wie);return f.jsx(F4.Provider,Ve({value:t??!0},n))}const F1e=()=>{const e=y.useContext(F4);return e??!1},SI={};function xI(e,t,n,r=!1){return y.useMemo(()=>{const i=e&&t[e]||t;if(typeof n=="function"){const s=n(i),o=e?Ve({},t,{[e]:s}):s;return r?()=>o:o}return e?Ve({},t,{[e]:n}):Ve({},t,n)},[e,t,n,r])}function kie(e){const{children:t,theme:n,themeId:r}=e,i=mie(SI),s=$4()||SI,o=xI(r,i,n),a=xI(r,s,n,!0),l=o.direction==="rtl";return f.jsx(xie,{theme:a,children:f.jsx(ah.Provider,{value:o,children:f.jsx(Eie,{value:l,children:f.jsx(pZ,{value:o==null?void 0:o.components,children:t})})})})}function Cie(e){const{className:t,classes:n,pulsate:r=!1,rippleX:i,rippleY:s,rippleSize:o,in:a,onExited:l,timeout:c}=e,[u,d]=y.useState(!1),h=Rr(t,n.ripple,n.rippleVisible,r&&n.ripplePulsate),p={width:o,height:o,top:-(o/2)+s,left:-(o/2)+i},g=Rr(n.child,u&&n.childLeaving,r&&n.childPulsate);return!a&&!u&&d(!0),y.useEffect(()=>{if(!a&&l!=null){const m=setTimeout(l,c);return()=>{clearTimeout(m)}}},[l,a,c]),f.jsx("span",{className:h,style:p,children:f.jsx("span",{className:g})})}const Mi=Pu("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Tie=["center","classes","className"];let sv=e=>e,wI,EI,kI,CI;const D_=550,Iie=80,Pie=Ea(wI||(wI=sv`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),Rie=Ea(EI||(EI=sv`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),Mie=Ea(kI||(kI=sv`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),jie=Lo("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),Oie=Lo(Cie,{name:"MuiTouchRipple",slot:"Ripple"})(CI||(CI=sv`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),Mi.rippleVisible,Pie,D_,({theme:e})=>e.transitions.easing.easeInOut,Mi.ripplePulsate,({theme:e})=>e.transitions.duration.shorter,Mi.child,Mi.childLeaving,Rie,D_,({theme:e})=>e.transitions.easing.easeInOut,Mi.childPulsate,Mie,({theme:e})=>e.transitions.easing.easeInOut),Vie=y.forwardRef(function(t,n){const r=Ru({props:t,name:"MuiTouchRipple"}),{center:i=!1,classes:s={},className:o}=r,a=kr(r,Tie),[l,c]=y.useState([]),u=y.useRef(0),d=y.useRef(null);y.useEffect(()=>{d.current&&(d.current(),d.current=null)},[l]);const h=y.useRef(!1),p=nZ(),g=y.useRef(null),m=y.useRef(null),_=y.useCallback(x=>{const{pulsate:b,rippleX:w,rippleY:E,rippleSize:T,cb:j}=x;c(B=>[...B,f.jsx(Oie,{classes:{ripple:Rr(s.ripple,Mi.ripple),rippleVisible:Rr(s.rippleVisible,Mi.rippleVisible),ripplePulsate:Rr(s.ripplePulsate,Mi.ripplePulsate),child:Rr(s.child,Mi.child),childLeaving:Rr(s.childLeaving,Mi.childLeaving),childPulsate:Rr(s.childPulsate,Mi.childPulsate)},timeout:D_,pulsate:b,rippleX:w,rippleY:E,rippleSize:T},u.current)]),u.current+=1,d.current=j},[s]),v=y.useCallback((x={},b={},w=()=>{})=>{const{pulsate:E=!1,center:T=i||b.pulsate,fakeElement:j=!1}=b;if((x==null?void 0:x.type)==="mousedown"&&h.current){h.current=!1;return}(x==null?void 0:x.type)==="touchstart"&&(h.current=!0);const B=j?null:m.current,D=B?B.getBoundingClientRect():{width:0,height:0,left:0,top:0};let q,M,V;if(T||x===void 0||x.clientX===0&&x.clientY===0||!x.clientX&&!x.touches)q=Math.round(D.width/2),M=Math.round(D.height/2);else{const{clientX:P,clientY:I}=x.touches&&x.touches.length>0?x.touches[0]:x;q=Math.round(P-D.left),M=Math.round(I-D.top)}if(T)V=Math.sqrt((2*D.width**2+D.height**2)/3),V%2===0&&(V+=1);else{const P=Math.max(Math.abs((B?B.clientWidth:0)-q),q)*2+2,I=Math.max(Math.abs((B?B.clientHeight:0)-M),M)*2+2;V=Math.sqrt(P**2+I**2)}x!=null&&x.touches?g.current===null&&(g.current=()=>{_({pulsate:E,rippleX:q,rippleY:M,rippleSize:V,cb:w})},p.start(Iie,()=>{g.current&&(g.current(),g.current=null)})):_({pulsate:E,rippleX:q,rippleY:M,rippleSize:V,cb:w})},[i,_,p]),A=y.useCallback(()=>{v({},{pulsate:!0})},[v]),S=y.useCallback((x,b)=>{if(p.clear(),(x==null?void 0:x.type)==="touchend"&&g.current){g.current(),g.current=null,p.start(0,()=>{S(x,b)});return}g.current=null,c(w=>w.length>0?w.slice(1):w),d.current=b},[p]);return y.useImperativeHandle(n,()=>({pulsate:A,start:v,stop:S}),[A,v,S]),f.jsx(jie,Ve({className:Rr(Mi.root,s.root,o),ref:m},a,{children:f.jsx(pie,{component:null,exit:!0,children:l})}))}),Lie=Vie;function Nie(e){return Iu("MuiButtonBase",e)}const Bie=Pu("MuiButtonBase",["root","disabled","focusVisible"]),Die=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],$ie=e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:r,classes:i}=e,o=dh({root:["root",t&&"disabled",n&&"focusVisible"]},Nie,i);return n&&r&&(o.root+=` ${r}`),o},Fie=Lo("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${Bie.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),zie=y.forwardRef(function(t,n){const r=Ru({props:t,name:"MuiButtonBase"}),{action:i,centerRipple:s=!1,children:o,className:a,component:l="button",disabled:c=!1,disableRipple:u=!1,disableTouchRipple:d=!1,focusRipple:h=!1,LinkComponent:p="a",onBlur:g,onClick:m,onContextMenu:_,onDragLeave:v,onFocus:A,onFocusVisible:S,onKeyDown:x,onKeyUp:b,onMouseDown:w,onMouseLeave:E,onMouseUp:T,onTouchEnd:j,onTouchMove:B,onTouchStart:D,tabIndex:q=0,TouchRippleProps:M,touchRippleRef:V,type:P}=r,I=kr(r,Die),$=y.useRef(null),O=y.useRef(null),z=B1(O,V),{isFocusVisibleRef:N,onFocus:G,onBlur:U,ref:ne}=fO(),[L,fe]=y.useState(!1);c&&L&&fe(!1),y.useImperativeHandle(i,()=>({focusVisible:()=>{fe(!0),$.current.focus()}}),[]);const[Z,oe]=y.useState(!1);y.useEffect(()=>{oe(!0)},[]);const je=Z&&!u&&!c;y.useEffect(()=>{L&&h&&!u&&Z&&O.current.pulsate()},[u,h,L,Z]);function Ae(ve,nt,vn=d){return yd(dt=>(nt&&nt(dt),!vn&&O.current&&O.current[ve](dt),!0))}const le=Ae("start",w),be=Ae("stop",_),He=Ae("stop",v),ze=Ae("stop",T),Se=Ae("stop",ve=>{L&&ve.preventDefault(),E&&E(ve)}),Ee=Ae("start",D),Ke=Ae("stop",j),Ye=Ae("stop",B),Re=Ae("stop",ve=>{U(ve),N.current===!1&&fe(!1),g&&g(ve)},!1),at=yd(ve=>{$.current||($.current=ve.currentTarget),G(ve),N.current===!0&&(fe(!0),S&&S(ve)),A&&A(ve)}),Tt=()=>{const ve=$.current;return l&&l!=="button"&&!(ve.tagName==="A"&&ve.href)},en=y.useRef(!1),Mt=yd(ve=>{h&&!en.current&&L&&O.current&&ve.key===" "&&(en.current=!0,O.current.stop(ve,()=>{O.current.start(ve)})),ve.target===ve.currentTarget&&Tt()&&ve.key===" "&&ve.preventDefault(),x&&x(ve),ve.target===ve.currentTarget&&Tt()&&ve.key==="Enter"&&!c&&(ve.preventDefault(),m&&m(ve))}),mn=yd(ve=>{h&&ve.key===" "&&O.current&&L&&!ve.defaultPrevented&&(en.current=!1,O.current.stop(ve,()=>{O.current.pulsate(ve)})),b&&b(ve),m&&ve.target===ve.currentTarget&&Tt()&&ve.key===" "&&!ve.defaultPrevented&&m(ve)});let ct=l;ct==="button"&&(I.href||I.to)&&(ct=p);const _t={};ct==="button"?(_t.type=P===void 0?"button":P,_t.disabled=c):(!I.href&&!I.to&&(_t.role="button"),c&&(_t["aria-disabled"]=c));const Wt=B1(n,ne,$),Je=Ve({},r,{centerRipple:s,component:l,disabled:c,disableRipple:u,disableTouchRipple:d,focusRipple:h,tabIndex:q,focusVisible:L}),jt=$ie(Je);return f.jsxs(Fie,Ve({as:ct,className:Rr(jt.root,a),ownerState:Je,onBlur:Re,onClick:m,onContextMenu:be,onFocus:at,onKeyDown:Mt,onKeyUp:mn,onMouseDown:le,onMouseLeave:Se,onMouseUp:ze,onDragLeave:He,onTouchEnd:Ke,onTouchMove:Ye,onTouchStart:Ee,ref:Wt,tabIndex:c?-1:q,type:P},_t,I,{children:[o,je?f.jsx(Lie,Ve({ref:z,center:s},M)):null]}))}),Uie=zie;function Hie(e){return Iu("MuiIconButton",e)}const Gie=Pu("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),qie=Gie,Wie=["edge","children","className","color","disabled","disableFocusRipple","size"],Kie=e=>{const{classes:t,disabled:n,color:r,edge:i,size:s}=e,o={root:["root",n&&"disabled",r!=="default"&&`color${Zn(r)}`,i&&`edge${Zn(i)}`,`size${Zn(s)}`]};return dh(o,Hie,t)},Yie=Lo(Uie,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="default"&&t[`color${Zn(n.color)}`],n.edge&&t[`edge${Zn(n.edge)}`],t[`size${Zn(n.size)}`]]}})(({theme:e,ownerState:t})=>Ve({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest})},!t.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:lT(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.edge==="start"&&{marginLeft:t.size==="small"?-3:-12},t.edge==="end"&&{marginRight:t.size==="small"?-3:-12}),({theme:e,ownerState:t})=>{var n;const r=(n=(e.vars||e).palette)==null?void 0:n[t.color];return Ve({},t.color==="inherit"&&{color:"inherit"},t.color!=="inherit"&&t.color!=="default"&&Ve({color:r==null?void 0:r.main},!t.disableRipple&&{"&:hover":Ve({},r&&{backgroundColor:e.vars?`rgba(${r.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:lT(r.main,e.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),t.size==="small"&&{padding:5,fontSize:e.typography.pxToRem(18)},t.size==="large"&&{padding:12,fontSize:e.typography.pxToRem(28)},{[`&.${qie.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled}})}),Qie=y.forwardRef(function(t,n){const r=Ru({props:t,name:"MuiIconButton"}),{edge:i=!1,children:s,className:o,color:a="default",disabled:l=!1,disableFocusRipple:c=!1,size:u="medium"}=r,d=kr(r,Wie),h=Ve({},r,{edge:i,color:a,disabled:l,disableFocusRipple:c,size:u}),p=Kie(h);return f.jsx(Yie,Ve({className:Rr(p.root,o),centerRipple:!0,focusRipple:!c,disabled:l,ref:n},d,{ownerState:h,children:s}))}),iw=Qie,du=Math.min,dl=Math.max,bm=Math.round,bp=Math.floor,xa=e=>({x:e,y:e}),Jie={left:"right",right:"left",bottom:"top",top:"bottom"},Xie={start:"end",end:"start"};function $_(e,t,n){return dl(e,du(t,n))}function _h(e,t){return typeof e=="function"?e(t):e}function Tl(e){return e.split("-")[0]}function bh(e){return e.split("-")[1]}function z4(e){return e==="x"?"y":"x"}function sw(e){return e==="y"?"height":"width"}function ov(e){return["top","bottom"].includes(Tl(e))?"y":"x"}function ow(e){return z4(ov(e))}function Zie(e,t,n){n===void 0&&(n=!1);const r=bh(e),i=ow(e),s=sw(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(o=Sm(o)),[o,Sm(o)]}function ese(e){const t=Sm(e);return[F_(e),t,F_(t)]}function F_(e){return e.replace(/start|end/g,t=>Xie[t])}function tse(e,t,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?s:o;default:return[]}}function nse(e,t,n,r){const i=bh(e);let s=tse(Tl(e),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),t&&(s=s.concat(s.map(F_)))),s}function Sm(e){return e.replace(/left|right|bottom|top/g,t=>Jie[t])}function rse(e){return{top:0,right:0,bottom:0,left:0,...e}}function U4(e){return typeof e!="number"?rse(e):{top:e,right:e,bottom:e,left:e}}function xm(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}function TI(e,t,n){let{reference:r,floating:i}=e;const s=ov(t),o=ow(t),a=sw(o),l=Tl(t),c=s==="y",u=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,h=r[a]/2-i[a]/2;let p;switch(l){case"top":p={x:u,y:r.y-i.height};break;case"bottom":p={x:u,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:d};break;case"left":p={x:r.x-i.width,y:d};break;default:p={x:r.x,y:r.y}}switch(bh(t)){case"start":p[o]-=h*(n&&c?-1:1);break;case"end":p[o]+=h*(n&&c?-1:1);break}return p}const ise=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(t));let c=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:u,y:d}=TI(c,r,l),h=r,p={},g=0;for(let m=0;m<a.length;m++){const{name:_,fn:v}=a[m],{x:A,y:S,data:x,reset:b}=await v({x:u,y:d,initialPlacement:r,placement:h,strategy:i,middlewareData:p,rects:c,platform:o,elements:{reference:e,floating:t}});u=A??u,d=S??d,p={...p,[_]:{...p[_],...x}},b&&g<=50&&(g++,typeof b=="object"&&(b.placement&&(h=b.placement),b.rects&&(c=b.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):b.rects),{x:u,y:d}=TI(c,h,l)),m=-1)}return{x:u,y:d,placement:h,strategy:i,middlewareData:p}};async function H4(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:h=!1,padding:p=0}=_h(t,e),g=U4(p),_=a[h?d==="floating"?"reference":"floating":d],v=xm(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(_)))==null||n?_:_.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),A=d==="floating"?{...o.floating,x:r,y:i}:o.reference,S=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),x=await(s.isElement==null?void 0:s.isElement(S))?await(s.getScale==null?void 0:s.getScale(S))||{x:1,y:1}:{x:1,y:1},b=xm(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:A,offsetParent:S,strategy:l}):A);return{top:(v.top-b.top+g.top)/x.y,bottom:(b.bottom-v.bottom+g.bottom)/x.y,left:(v.left-b.left+g.left)/x.x,right:(b.right-v.right+g.right)/x.x}}const sse=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=t,{element:c,padding:u=0}=_h(e,t)||{};if(c==null)return{};const d=U4(u),h={x:n,y:r},p=ow(i),g=sw(p),m=await o.getDimensions(c),_=p==="y",v=_?"top":"left",A=_?"bottom":"right",S=_?"clientHeight":"clientWidth",x=s.reference[g]+s.reference[p]-h[p]-s.floating[g],b=h[p]-s.reference[p],w=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let E=w?w[S]:0;(!E||!await(o.isElement==null?void 0:o.isElement(w)))&&(E=a.floating[S]||s.floating[g]);const T=x/2-b/2,j=E/2-m[g]/2-1,B=du(d[v],j),D=du(d[A],j),q=B,M=E-m[g]-D,V=E/2-m[g]/2+T,P=$_(q,V,M),I=!l.arrow&&bh(i)!=null&&V!==P&&s.reference[g]/2-(V<q?B:D)-m[g]/2<0,$=I?V<q?V-q:V-M:0;return{[p]:h[p]+$,data:{[p]:P,centerOffset:V-P-$,...I&&{alignmentOffset:$}},reset:I}}}),ose=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=t,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:m=!0,..._}=_h(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const v=Tl(i),A=Tl(a)===a,S=await(l.isRTL==null?void 0:l.isRTL(c.floating)),x=h||(A||!m?[Sm(a)]:ese(a));!h&&g!=="none"&&x.push(...nse(a,m,g,S));const b=[a,...x],w=await H4(t,_),E=[];let T=((r=s.flip)==null?void 0:r.overflows)||[];if(u&&E.push(w[v]),d){const q=Zie(i,o,S);E.push(w[q[0]],w[q[1]])}if(T=[...T,{placement:i,overflows:E}],!E.every(q=>q<=0)){var j,B;const q=(((j=s.flip)==null?void 0:j.index)||0)+1,M=b[q];if(M)return{data:{index:q,overflows:T},reset:{placement:M}};let V=(B=T.filter(P=>P.overflows[0]<=0).sort((P,I)=>P.overflows[1]-I.overflows[1])[0])==null?void 0:B.placement;if(!V)switch(p){case"bestFit":{var D;const P=(D=T.map(I=>[I.placement,I.overflows.filter($=>$>0).reduce(($,O)=>$+O,0)]).sort((I,$)=>I[1]-$[1])[0])==null?void 0:D[0];P&&(V=P);break}case"initialPlacement":V=a;break}if(i!==V)return{reset:{placement:V}}}return{}}}};async function ase(e,t){const{placement:n,platform:r,elements:i}=e,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Tl(n),a=bh(n),l=ov(n)==="y",c=["left","top"].includes(o)?-1:1,u=s&&l?-1:1,d=_h(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:g}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...d};return a&&typeof g=="number"&&(p=a==="end"?g*-1:g),l?{x:p*u,y:h*c}:{x:h*c,y:p*u}}const lse=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=t,l=await ase(t,e);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},cse=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:_=>{let{x:v,y:A}=_;return{x:v,y:A}}},...l}=_h(e,t),c={x:n,y:r},u=await H4(t,l),d=ov(Tl(i)),h=z4(d);let p=c[h],g=c[d];if(s){const _=h==="y"?"top":"left",v=h==="y"?"bottom":"right",A=p+u[_],S=p-u[v];p=$_(A,p,S)}if(o){const _=d==="y"?"top":"left",v=d==="y"?"bottom":"right",A=g+u[_],S=g-u[v];g=$_(A,g,S)}const m=a.fn({...t,[h]:p,[d]:g});return{...m,data:{x:m.x-n,y:m.y-r}}}}};function wa(e){return G4(e)?(e.nodeName||"").toLowerCase():"#document"}function gi(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Bo(e){var t;return(t=(G4(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function G4(e){return e instanceof Node||e instanceof gi(e).Node}function Mo(e){return e instanceof Element||e instanceof gi(e).Element}function ro(e){return e instanceof HTMLElement||e instanceof gi(e).HTMLElement}function II(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof gi(e).ShadowRoot}function Sh(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=Ji(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function use(e){return["table","td","th"].includes(wa(e))}function aw(e){const t=lw(),n=Ji(e);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function q4(e){let t=fu(e);for(;ro(t)&&!av(t);){if(aw(t))return t;t=fu(t)}return null}function lw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function av(e){return["html","body","#document"].includes(wa(e))}function Ji(e){return gi(e).getComputedStyle(e)}function lv(e){return Mo(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function fu(e){if(wa(e)==="html")return e;const t=e.assignedSlot||e.parentNode||II(e)&&e.host||Bo(e);return II(t)?t.host:t}function W4(e){const t=fu(e);return av(t)?e.ownerDocument?e.ownerDocument.body:e.body:ro(t)&&Sh(t)?t:W4(t)}function zf(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=W4(e),s=i===((r=e.ownerDocument)==null?void 0:r.body),o=gi(i);return s?t.concat(o,o.visualViewport||[],Sh(i)?i:[],o.frameElement&&n?zf(o.frameElement):[]):t.concat(i,zf(i,[],n))}function K4(e){const t=Ji(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=ro(e),s=i?e.offsetWidth:n,o=i?e.offsetHeight:r,a=bm(n)!==s||bm(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function cw(e){return Mo(e)?e:e.contextElement}function Fc(e){const t=cw(e);if(!ro(t))return xa(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:s}=K4(t);let o=(s?bm(n.width):n.width)/r,a=(s?bm(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const dse=xa(0);function Y4(e){const t=gi(e);return!lw()||!t.visualViewport?dse:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function fse(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==gi(e)?!1:t}function Il(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),s=cw(e);let o=xa(1);t&&(r?Mo(r)&&(o=Fc(r)):o=Fc(e));const a=fse(s,n,r)?Y4(s):xa(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,u=i.width/o.x,d=i.height/o.y;if(s){const h=gi(s),p=r&&Mo(r)?gi(r):r;let g=h.frameElement;for(;g&&r&&p!==h;){const m=Fc(g),_=g.getBoundingClientRect(),v=Ji(g),A=_.left+(g.clientLeft+parseFloat(v.paddingLeft))*m.x,S=_.top+(g.clientTop+parseFloat(v.paddingTop))*m.y;l*=m.x,c*=m.y,u*=m.x,d*=m.y,l+=A,c+=S,g=gi(g).frameElement}}return xm({width:u,height:d,x:l,y:c})}const hse=[":popover-open",":modal"];function Q4(e){let t=!1,n=0,r=0;function i(s){try{t=t||e.matches(s)}catch{}}if(hse.forEach(s=>{i(s)}),t){const s=q4(e);if(s){const o=s.getBoundingClientRect();n=o.x,r=o.y}}return[t,n,r]}function pse(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const s=Bo(r),[o]=t?Q4(t.floating):[!1];if(r===s||o)return n;let a={scrollLeft:0,scrollTop:0},l=xa(1);const c=xa(0),u=ro(r);if((u||!u&&i!=="fixed")&&((wa(r)!=="body"||Sh(s))&&(a=lv(r)),ro(r))){const d=Il(r);l=Fc(r),c.x=d.x+r.clientLeft,c.y=d.y+r.clientTop}return{width:n.width*l.x,height:n.height*l.y,x:n.x*l.x-a.scrollLeft*l.x+c.x,y:n.y*l.y-a.scrollTop*l.y+c.y}}function gse(e){return Array.from(e.getClientRects())}function J4(e){return Il(Bo(e)).left+lv(e).scrollLeft}function mse(e){const t=Bo(e),n=lv(e),r=e.ownerDocument.body,i=dl(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=dl(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+J4(e);const a=-n.scrollTop;return Ji(r).direction==="rtl"&&(o+=dl(t.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function vse(e,t){const n=gi(e),r=Bo(e),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const c=lw();(!c||c&&t==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function yse(e,t){const n=Il(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,s=ro(e)?Fc(e):xa(1),o=e.clientWidth*s.x,a=e.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function PI(e,t,n){let r;if(t==="viewport")r=vse(e,n);else if(t==="document")r=mse(Bo(e));else if(Mo(t))r=yse(t,n);else{const i=Y4(e);r={...t,x:t.x-i.x,y:t.y-i.y}}return xm(r)}function X4(e,t){const n=fu(e);return n===t||!Mo(n)||av(n)?!1:Ji(n).position==="fixed"||X4(n,t)}function Ase(e,t){const n=t.get(e);if(n)return n;let r=zf(e,[],!1).filter(a=>Mo(a)&&wa(a)!=="body"),i=null;const s=Ji(e).position==="fixed";let o=s?fu(e):e;for(;Mo(o)&&!av(o);){const a=Ji(o),l=aw(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Sh(o)&&!l&&X4(e,o))?r=r.filter(u=>u!==o):i=a,o=fu(o)}return t.set(e,r),r}function _se(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const o=[...n==="clippingAncestors"?Ase(t,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,u)=>{const d=PI(t,u,i);return c.top=dl(d.top,c.top),c.right=du(d.right,c.right),c.bottom=du(d.bottom,c.bottom),c.left=dl(d.left,c.left),c},PI(t,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function bse(e){const{width:t,height:n}=K4(e);return{width:t,height:n}}function Sse(e,t,n,r){const i=ro(t),s=Bo(t),o=n==="fixed",a=Il(e,!0,o,t);let l={scrollLeft:0,scrollTop:0};const c=xa(0);if(i||!i&&!o)if((wa(t)!=="body"||Sh(s))&&(l=lv(t)),i){const m=Il(t,!0,o,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else s&&(c.x=J4(s));let u=a.left+l.scrollLeft-c.x,d=a.top+l.scrollTop-c.y;const[h,p,g]=Q4(r);return h&&(u+=p,d+=g,i&&(u+=t.clientLeft,d+=t.clientTop)),{x:u,y:d,width:a.width,height:a.height}}function RI(e,t){return!ro(e)||Ji(e).position==="fixed"?null:t?t(e):e.offsetParent}function Z4(e,t){const n=gi(e);if(!ro(e))return n;let r=RI(e,t);for(;r&&use(r)&&Ji(r).position==="static";)r=RI(r,t);return r&&(wa(r)==="html"||wa(r)==="body"&&Ji(r).position==="static"&&!aw(r))?n:r||q4(e)||n}const xse=async function(e){const t=this.getOffsetParent||Z4,n=this.getDimensions;return{reference:Sse(e.reference,await t(e.floating),e.strategy,e.floating),floating:{x:0,y:0,...await n(e.floating)}}};function wse(e){return Ji(e).direction==="rtl"}const Ese={convertOffsetParentRelativeRectToViewportRelativeRect:pse,getDocumentElement:Bo,getClippingRect:_se,getOffsetParent:Z4,getElementRects:xse,getClientRects:gse,getDimensions:bse,getScale:Fc,isElement:Mo,isRTL:wse};function kse(e,t){let n=null,r;const i=Bo(e);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const{left:c,top:u,width:d,height:h}=e.getBoundingClientRect();if(a||t(),!d||!h)return;const p=bp(u),g=bp(i.clientWidth-(c+d)),m=bp(i.clientHeight-(u+h)),_=bp(c),A={rootMargin:-p+"px "+-g+"px "+-m+"px "+-_+"px",threshold:dl(0,du(1,l))||1};let S=!0;function x(b){const w=b[0].intersectionRatio;if(w!==l){if(!S)return o();w?o(!1,w):r=setTimeout(()=>{o(!1,1e-7)},100)}S=!1}try{n=new IntersectionObserver(x,{...A,root:i.ownerDocument})}catch{n=new IntersectionObserver(x,A)}n.observe(e)}return o(!0),s}function Cse(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=cw(e),u=i||s?[...c?zf(c):[],...zf(t)]:[];u.forEach(v=>{i&&v.addEventListener("scroll",n,{passive:!0}),s&&v.addEventListener("resize",n)});const d=c&&a?kse(c,n):null;let h=-1,p=null;o&&(p=new ResizeObserver(v=>{let[A]=v;A&&A.target===c&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var S;(S=p)==null||S.observe(t)})),n()}),c&&!l&&p.observe(c),p.observe(t));let g,m=l?Il(e):null;l&&_();function _(){const v=Il(e);m&&(v.x!==m.x||v.y!==m.y||v.width!==m.width||v.height!==m.height)&&n(),m=v,g=requestAnimationFrame(_)}return n(),()=>{var v;u.forEach(A=>{i&&A.removeEventListener("scroll",n),s&&A.removeEventListener("resize",n)}),d==null||d(),(v=p)==null||v.disconnect(),p=null,l&&cancelAnimationFrame(g)}}const Tse=cse,Ise=ose,Pse=sse,MI=(e,t,n)=>{const r=new Map,i={platform:Ese,...n},s={...i.platform,_c:r};return ise(e,t,{...i,platform:s})};var eL={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=i(s,r(a)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)t.call(s,a)&&s[a]&&(o=i(o,a));return o}function i(s,o){return o?s?s+" "+o:s+o:s}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(eL);var Rse=eL.exports;const z_=hr(Rse);var jI={};const Mse="react-tooltip-core-styles",jse="react-tooltip-base-styles",OI={core:!1,base:!1};function VI({css:e,id:t=jse,type:n="base",ref:r}){var i,s;if(!e||typeof document>"u"||OI[n]||n==="core"&&typeof process<"u"&&(!((i=process==null?void 0:jI)===null||i===void 0)&&i.REACT_TOOLTIP_DISABLE_CORE_STYLES)||n!=="base"&&typeof process<"u"&&(!((s=process==null?void 0:jI)===null||s===void 0)&&s.REACT_TOOLTIP_DISABLE_BASE_STYLES))return;n==="core"&&(t=Mse),r||(r={});const{insertAt:o}=r;if(document.getElementById(t))return void console.warn(`[react-tooltip] Element with id '${t}' already exists. Call \`removeStyle()\` first`);const a=document.head||document.getElementsByTagName("head")[0],l=document.createElement("style");l.id=t,l.type="text/css",o==="top"&&a.firstChild?a.insertBefore(l,a.firstChild):a.appendChild(l),l.styleSheet?l.styleSheet.cssText=e:l.appendChild(document.createTextNode(e)),OI[n]=!0}const LI=async({elementReference:e=null,tooltipReference:t=null,tooltipArrowReference:n=null,place:r="top",offset:i=10,strategy:s="absolute",middlewares:o=[lse(Number(i)),Ise({fallbackAxisSideDirection:"start"}),Tse({padding:5})],border:a})=>{if(!e)return{tooltipStyles:{},tooltipArrowStyles:{},place:r};if(t===null)return{tooltipStyles:{},tooltipArrowStyles:{},place:r};const l=o;return n?(l.push(Pse({element:n,padding:5})),MI(e,t,{placement:r,strategy:s,middleware:l}).then(({x:c,y:u,placement:d,middlewareData:h})=>{var p,g;const m={left:`${c}px`,top:`${u}px`,border:a},{x:_,y:v}=(p=h.arrow)!==null&&p!==void 0?p:{x:0,y:0},A=(g={top:"bottom",right:"left",bottom:"top",left:"right"}[d.split("-")[0]])!==null&&g!==void 0?g:"bottom",S=a&&{borderBottom:a,borderRight:a};let x=0;if(a){const b=`${a}`.match(/(\d+)px/);x=b!=null&&b[1]?Number(b[1]):1}return{tooltipStyles:m,tooltipArrowStyles:{left:_!=null?`${_}px`:"",top:v!=null?`${v}px`:"",right:"",bottom:"",...S,[A]:`-${4+x}px`},place:d}})):MI(e,t,{placement:"bottom",strategy:s,middleware:l}).then(({x:c,y:u,placement:d})=>({tooltipStyles:{left:`${c}px`,top:`${u}px`},tooltipArrowStyles:{},place:d}))},NI=(e,t)=>!("CSS"in window&&"supports"in window.CSS)||window.CSS.supports(e,t),BI=(e,t,n)=>{let r=null;const i=function(...s){const o=()=>{r=null,n||e.apply(this,s)};n&&!r&&(e.apply(this,s),r=setTimeout(o,t)),n||(r&&clearTimeout(r),r=setTimeout(o,t))};return i.cancel=()=>{r&&(clearTimeout(r),r=null)},i},DI=e=>e!==null&&!Array.isArray(e)&&typeof e=="object",U_=(e,t)=>{if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t))return e.length===t.length&&e.every((i,s)=>U_(i,t[s]));if(Array.isArray(e)!==Array.isArray(t))return!1;if(!DI(e)||!DI(t))return e===t;const n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&n.every(i=>U_(e[i],t[i]))},Ose=e=>{if(!(e instanceof HTMLElement||e instanceof SVGElement))return!1;const t=getComputedStyle(e);return["overflow","overflow-x","overflow-y"].some(n=>{const r=t.getPropertyValue(n);return r==="auto"||r==="scroll"})},$I=e=>{if(!e)return null;let t=e.parentElement;for(;t;){if(Ose(t))return t;t=t.parentElement}return document.scrollingElement||document.documentElement},Vse=typeof window<"u"?y.useLayoutEffect:y.useEffect,Lse="DEFAULT_TOOLTIP_ID",Nse={anchorRefs:new Set,activeAnchor:{current:null},attach:()=>{},detach:()=>{},setActiveAnchor:()=>{}},Bse=y.createContext({getTooltipData:()=>Nse});function tL(e=Lse){return y.useContext(Bse).getTooltipData(e)}var ec={tooltip:"core-styles-module_tooltip__3vRRp",fixed:"core-styles-module_fixed__pcSol",arrow:"core-styles-module_arrow__cvMwQ",noArrow:"core-styles-module_noArrow__xock6",clickable:"core-styles-module_clickable__ZuTTB",show:"core-styles-module_show__Nt9eE",closing:"core-styles-module_closing__sGnxF"},Gy={tooltip:"styles-module_tooltip__mnnfp",arrow:"styles-module_arrow__K0L3T",dark:"styles-module_dark__xNqje",light:"styles-module_light__Z6W-X",success:"styles-module_success__A2AKt",warning:"styles-module_warning__SCK0X",error:"styles-module_error__JvumD",info:"styles-module_info__BWdHW"};const Dse=({forwardRef:e,id:t,className:n,classNameArrow:r,variant:i="dark",anchorId:s,anchorSelect:o,place:a="top",offset:l=10,events:c=["hover"],openOnClick:u=!1,positionStrategy:d="absolute",middlewares:h,wrapper:p,delayShow:g=0,delayHide:m=0,float:_=!1,hidden:v=!1,noArrow:A=!1,clickable:S=!1,closeOnEsc:x=!1,closeOnScroll:b=!1,closeOnResize:w=!1,openEvents:E,closeEvents:T,globalCloseEvents:j,imperativeModeOnly:B,style:D,position:q,afterShow:M,afterHide:V,content:P,contentWrapperRef:I,isOpen:$,defaultIsOpen:O=!1,setIsOpen:z,activeAnchor:N,setActiveAnchor:G,border:U,opacity:ne,arrowColor:L,role:fe="tooltip"})=>{var Z;const oe=y.useRef(null),je=y.useRef(null),Ae=y.useRef(null),le=y.useRef(null),be=y.useRef(null),[He,ze]=y.useState({tooltipStyles:{},tooltipArrowStyles:{},place:a}),[Se,Ee]=y.useState(!1),[Ke,Ye]=y.useState(!1),[Re,at]=y.useState(null),Tt=y.useRef(!1),en=y.useRef(null),{anchorRefs:Mt,setActiveAnchor:mn}=tL(t),ct=y.useRef(!1),[_t,Wt]=y.useState([]),Je=y.useRef(!1),jt=u||c.includes("click"),ve=jt||(E==null?void 0:E.click)||(E==null?void 0:E.dblclick)||(E==null?void 0:E.mousedown),nt=E?{...E}:{mouseover:!0,focus:!0,mouseenter:!1,click:!1,dblclick:!1,mousedown:!1};!E&&jt&&Object.assign(nt,{mouseenter:!1,focus:!1,mouseover:!1,click:!0});const vn=T?{...T}:{mouseout:!0,blur:!0,mouseleave:!1,click:!1,dblclick:!1,mouseup:!1};!T&&jt&&Object.assign(vn,{mouseleave:!1,blur:!1,mouseout:!1});const dt=j?{...j}:{escape:x||!1,scroll:b||!1,resize:w||!1,clickOutsideAnchor:ve||!1};B&&(Object.assign(nt,{mouseenter:!1,focus:!1,click:!1,dblclick:!1,mousedown:!1}),Object.assign(vn,{mouseleave:!1,blur:!1,click:!1,dblclick:!1,mouseup:!1}),Object.assign(dt,{escape:!1,scroll:!1,resize:!1,clickOutsideAnchor:!1})),Vse(()=>(Je.current=!0,()=>{Je.current=!1}),[]);const rt=ye=>{Je.current&&(ye&&Ye(!0),setTimeout(()=>{Je.current&&(z==null||z(ye),$===void 0&&Ee(ye))},10))};y.useEffect(()=>{if($===void 0)return()=>null;$&&Ye(!0);const ye=setTimeout(()=>{Ee($)},10);return()=>{clearTimeout(ye)}},[$]),y.useEffect(()=>{if(Se!==Tt.current)if(be.current&&clearTimeout(be.current),Tt.current=Se,Se)M==null||M();else{const ye=(Be=>{const Ue=Be.match(/^([\d.]+)(ms|s)$/);if(!Ue)return 0;const[,Cn,Hn]=Ue;return Number(Cn)*(Hn==="ms"?1:1e3)})(getComputedStyle(document.body).getPropertyValue("--rt-transition-show-delay"));be.current=setTimeout(()=>{Ye(!1),at(null),V==null||V()},ye+25)}},[Se]);const tn=ye=>{ze(Be=>U_(Be,ye)?Be:ye)},un=(ye=g)=>{Ae.current&&clearTimeout(Ae.current),Ke?rt(!0):Ae.current=setTimeout(()=>{rt(!0)},ye)},Kt=(ye=m)=>{le.current&&clearTimeout(le.current),le.current=setTimeout(()=>{ct.current||rt(!1)},ye)},gt=ye=>{var Be;if(!ye)return;const Ue=(Be=ye.currentTarget)!==null&&Be!==void 0?Be:ye.target;if(!(Ue!=null&&Ue.isConnected))return G(null),void mn({current:null});g?un():rt(!0),G(Ue),mn({current:Ue}),le.current&&clearTimeout(le.current)},Ln=()=>{S?Kt(m||100):m?Kt():rt(!1),Ae.current&&clearTimeout(Ae.current)},gr=({x:ye,y:Be})=>{var Ue;const Cn={getBoundingClientRect:()=>({x:ye,y:Be,width:0,height:0,top:Be,left:ye,right:ye,bottom:Be})};LI({place:(Ue=Re==null?void 0:Re.place)!==null&&Ue!==void 0?Ue:a,offset:l,elementReference:Cn,tooltipReference:oe.current,tooltipArrowReference:je.current,strategy:d,middlewares:h,border:U}).then(Hn=>{tn(Hn)})},yn=ye=>{if(!ye)return;const Be=ye,Ue={x:Be.clientX,y:Be.clientY};gr(Ue),en.current=Ue},wi=ye=>{var Be;if(!Se)return;const Ue=ye.target;Ue.isConnected&&(!((Be=oe.current)===null||Be===void 0)&&Be.contains(Ue)||[document.querySelector(`[id='${s}']`),..._t].some(Cn=>Cn==null?void 0:Cn.contains(Ue))||(rt(!1),Ae.current&&clearTimeout(Ae.current)))},ei=BI(gt,50,!0),bt=BI(Ln,50,!0),An=ye=>{bt.cancel(),ei(ye)},Le=()=>{ei.cancel(),bt()},Xe=y.useCallback(()=>{var ye,Be;const Ue=(ye=Re==null?void 0:Re.position)!==null&&ye!==void 0?ye:q;Ue?gr(Ue):_?en.current&&gr(en.current):N!=null&&N.isConnected&&LI({place:(Be=Re==null?void 0:Re.place)!==null&&Be!==void 0?Be:a,offset:l,elementReference:N,tooltipReference:oe.current,tooltipArrowReference:je.current,strategy:d,middlewares:h,border:U}).then(Cn=>{Je.current&&tn(Cn)})},[Se,N,P,D,a,Re==null?void 0:Re.place,l,d,q,Re==null?void 0:Re.position,_]);y.useEffect(()=>{var ye,Be;const Ue=new Set(Mt);_t.forEach(It=>{Ue.add({current:It})});const Cn=document.querySelector(`[id='${s}']`);Cn&&Ue.add({current:Cn});const Hn=()=>{rt(!1)},ni=$I(N),Ei=$I(oe.current);dt.scroll&&(window.addEventListener("scroll",Hn),ni==null||ni.addEventListener("scroll",Hn),Ei==null||Ei.addEventListener("scroll",Hn));let nr=null;dt.resize?window.addEventListener("resize",Hn):N&&oe.current&&(nr=Cse(N,oe.current,Xe,{ancestorResize:!0,elementResize:!0,layoutShift:!0}));const $r=It=>{It.key==="Escape"&&rt(!1)};dt.escape&&window.addEventListener("keydown",$r),dt.clickOutsideAnchor&&window.addEventListener("click",wi);const Ot=[],Ma=It=>{Se&&(It==null?void 0:It.target)===N||gt(It)},kv=It=>{Se&&(It==null?void 0:It.target)===N&&Ln()},Ih=["mouseover","mouseout","mouseenter","mouseleave","focus","blur"],Ph=["click","dblclick","mousedown","mouseup"];Object.entries(nt).forEach(([It,rs])=>{rs&&(Ih.includes(It)?Ot.push({event:It,listener:An}):Ph.includes(It)&&Ot.push({event:It,listener:Ma}))}),Object.entries(vn).forEach(([It,rs])=>{rs&&(Ih.includes(It)?Ot.push({event:It,listener:Le}):Ph.includes(It)&&Ot.push({event:It,listener:kv}))}),_&&Ot.push({event:"pointermove",listener:yn});const Rh=()=>{ct.current=!0},Mh=()=>{ct.current=!1,Ln()};return S&&!ve&&((ye=oe.current)===null||ye===void 0||ye.addEventListener("mouseenter",Rh),(Be=oe.current)===null||Be===void 0||Be.addEventListener("mouseleave",Mh)),Ot.forEach(({event:It,listener:rs})=>{Ue.forEach(Du=>{var ja;(ja=Du.current)===null||ja===void 0||ja.addEventListener(It,rs)})}),()=>{var It,rs;dt.scroll&&(window.removeEventListener("scroll",Hn),ni==null||ni.removeEventListener("scroll",Hn),Ei==null||Ei.removeEventListener("scroll",Hn)),dt.resize?window.removeEventListener("resize",Hn):nr==null||nr(),dt.clickOutsideAnchor&&window.removeEventListener("click",wi),dt.escape&&window.removeEventListener("keydown",$r),S&&!ve&&((It=oe.current)===null||It===void 0||It.removeEventListener("mouseenter",Rh),(rs=oe.current)===null||rs===void 0||rs.removeEventListener("mouseleave",Mh)),Ot.forEach(({event:Du,listener:ja})=>{Ue.forEach(Cv=>{var Gl;(Gl=Cv.current)===null||Gl===void 0||Gl.removeEventListener(Du,ja)})})}},[N,Xe,Ke,Mt,_t,E,T,j,jt,g,m]),y.useEffect(()=>{var ye,Be;let Ue=(Be=(ye=Re==null?void 0:Re.anchorSelect)!==null&&ye!==void 0?ye:o)!==null&&Be!==void 0?Be:"";!Ue&&t&&(Ue=`[data-tooltip-id='${t.replace(/'/g,"\\'")}']`);const Cn=new MutationObserver(Hn=>{const ni=[],Ei=[];Hn.forEach(nr=>{if(nr.type==="attributes"&&nr.attributeName==="data-tooltip-id"&&(nr.target.getAttribute("data-tooltip-id")===t?ni.push(nr.target):nr.oldValue===t&&Ei.push(nr.target)),nr.type==="childList"){if(N){const $r=[...nr.removedNodes].filter(Ot=>Ot.nodeType===1);if(Ue)try{Ei.push(...$r.filter(Ot=>Ot.matches(Ue))),Ei.push(...$r.flatMap(Ot=>[...Ot.querySelectorAll(Ue)]))}catch{}$r.some(Ot=>{var Ma;return!!(!((Ma=Ot==null?void 0:Ot.contains)===null||Ma===void 0)&&Ma.call(Ot,N))&&(Ye(!1),rt(!1),G(null),Ae.current&&clearTimeout(Ae.current),le.current&&clearTimeout(le.current),!0)})}if(Ue)try{const $r=[...nr.addedNodes].filter(Ot=>Ot.nodeType===1);ni.push(...$r.filter(Ot=>Ot.matches(Ue))),ni.push(...$r.flatMap(Ot=>[...Ot.querySelectorAll(Ue)]))}catch{}}}),(ni.length||Ei.length)&&Wt(nr=>[...nr.filter($r=>!Ei.includes($r)),...ni])});return Cn.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["data-tooltip-id"],attributeOldValue:!0}),()=>{Cn.disconnect()}},[t,o,Re==null?void 0:Re.anchorSelect,N]),y.useEffect(()=>{Xe()},[Xe]),y.useEffect(()=>{if(!(I!=null&&I.current))return()=>null;const ye=new ResizeObserver(()=>{setTimeout(()=>Xe())});return ye.observe(I.current),()=>{ye.disconnect()}},[P,I==null?void 0:I.current]),y.useEffect(()=>{var ye;const Be=document.querySelector(`[id='${s}']`),Ue=[..._t,Be];N&&Ue.includes(N)||G((ye=_t[0])!==null&&ye!==void 0?ye:Be)},[s,_t,N]),y.useEffect(()=>(O&&rt(!0),()=>{Ae.current&&clearTimeout(Ae.current),le.current&&clearTimeout(le.current)}),[]),y.useEffect(()=>{var ye;let Be=(ye=Re==null?void 0:Re.anchorSelect)!==null&&ye!==void 0?ye:o;if(!Be&&t&&(Be=`[data-tooltip-id='${t.replace(/'/g,"\\'")}']`),Be)try{const Ue=Array.from(document.querySelectorAll(Be));Wt(Ue)}catch{Wt([])}},[t,o,Re==null?void 0:Re.anchorSelect]),y.useEffect(()=>{Ae.current&&(clearTimeout(Ae.current),un(g))},[g]);const Un=(Z=Re==null?void 0:Re.content)!==null&&Z!==void 0?Z:P,ti=Se&&Object.keys(He.tooltipStyles).length>0;return y.useImperativeHandle(e,()=>({open:ye=>{if(ye!=null&&ye.anchorSelect)try{document.querySelector(ye.anchorSelect)}catch{return void console.warn(`[react-tooltip] "${ye.anchorSelect}" is not a valid CSS selector`)}at(ye??null),ye!=null&&ye.delay?un(ye.delay):rt(!0)},close:ye=>{ye!=null&&ye.delay?Kt(ye.delay):rt(!1)},activeAnchor:N,place:He.place,isOpen:!!(Ke&&!v&&Un&&ti)})),Ke&&!v&&Un?Te.createElement(p,{id:t,role:fe,className:z_("react-tooltip",ec.tooltip,Gy.tooltip,Gy[i],n,`react-tooltip__place-${He.place}`,ec[ti?"show":"closing"],ti?"react-tooltip__show":"react-tooltip__closing",d==="fixed"&&ec.fixed,S&&ec.clickable),onTransitionEnd:ye=>{be.current&&clearTimeout(be.current),Se||ye.propertyName!=="opacity"||(Ye(!1),at(null),V==null||V())},style:{...D,...He.tooltipStyles,opacity:ne!==void 0&&ti?ne:void 0},ref:oe},Un,Te.createElement(p,{className:z_("react-tooltip-arrow",ec.arrow,Gy.arrow,r,A&&ec.noArrow),style:{...He.tooltipArrowStyles,background:L?`linear-gradient(to right bottom, transparent 50%, ${L} 50%)`:void 0},ref:je})):null},$se=({content:e})=>Te.createElement("span",{dangerouslySetInnerHTML:{__html:e}}),Fse=Te.forwardRef(({id:e,anchorId:t,anchorSelect:n,content:r,html:i,render:s,className:o,classNameArrow:a,variant:l="dark",place:c="top",offset:u=10,wrapper:d="div",children:h=null,events:p=["hover"],openOnClick:g=!1,positionStrategy:m="absolute",middlewares:_,delayShow:v=0,delayHide:A=0,float:S=!1,hidden:x=!1,noArrow:b=!1,clickable:w=!1,closeOnEsc:E=!1,closeOnScroll:T=!1,closeOnResize:j=!1,openEvents:B,closeEvents:D,globalCloseEvents:q,imperativeModeOnly:M=!1,style:V,position:P,isOpen:I,defaultIsOpen:$=!1,disableStyleInjection:O=!1,border:z,opacity:N,arrowColor:G,setIsOpen:U,afterShow:ne,afterHide:L,role:fe="tooltip"},Z)=>{const[oe,je]=y.useState(r),[Ae,le]=y.useState(i),[be,He]=y.useState(c),[ze,Se]=y.useState(l),[Ee,Ke]=y.useState(u),[Ye,Re]=y.useState(v),[at,Tt]=y.useState(A),[en,Mt]=y.useState(S),[mn,ct]=y.useState(x),[_t,Wt]=y.useState(d),[Je,jt]=y.useState(p),[ve,nt]=y.useState(m),[vn,dt]=y.useState(null),[rt,tn]=y.useState(null),un=y.useRef(O),{anchorRefs:Kt,activeAnchor:gt}=tL(e),Ln=bt=>bt==null?void 0:bt.getAttributeNames().reduce((An,Le)=>{var Xe;return Le.startsWith("data-tooltip-")&&(An[Le.replace(/^data-tooltip-/,"")]=(Xe=bt==null?void 0:bt.getAttribute(Le))!==null&&Xe!==void 0?Xe:null),An},{}),gr=bt=>{const An={place:Le=>{var Xe;He((Xe=Le)!==null&&Xe!==void 0?Xe:c)},content:Le=>{je(Le??r)},html:Le=>{le(Le??i)},variant:Le=>{var Xe;Se((Xe=Le)!==null&&Xe!==void 0?Xe:l)},offset:Le=>{Ke(Le===null?u:Number(Le))},wrapper:Le=>{var Xe;Wt((Xe=Le)!==null&&Xe!==void 0?Xe:d)},events:Le=>{const Xe=Le==null?void 0:Le.split(" ");jt(Xe??p)},"position-strategy":Le=>{var Xe;nt((Xe=Le)!==null&&Xe!==void 0?Xe:m)},"delay-show":Le=>{Re(Le===null?v:Number(Le))},"delay-hide":Le=>{Tt(Le===null?A:Number(Le))},float:Le=>{Mt(Le===null?S:Le==="true")},hidden:Le=>{ct(Le===null?x:Le==="true")},"class-name":Le=>{dt(Le)}};Object.values(An).forEach(Le=>Le(null)),Object.entries(bt).forEach(([Le,Xe])=>{var Un;(Un=An[Le])===null||Un===void 0||Un.call(An,Xe)})};y.useEffect(()=>{je(r)},[r]),y.useEffect(()=>{le(i)},[i]),y.useEffect(()=>{He(c)},[c]),y.useEffect(()=>{Se(l)},[l]),y.useEffect(()=>{Ke(u)},[u]),y.useEffect(()=>{Re(v)},[v]),y.useEffect(()=>{Tt(A)},[A]),y.useEffect(()=>{Mt(S)},[S]),y.useEffect(()=>{ct(x)},[x]),y.useEffect(()=>{nt(m)},[m]),y.useEffect(()=>{un.current!==O&&console.warn("[react-tooltip] Do not change `disableStyleInjection` dynamically.")},[O]),y.useEffect(()=>{typeof window<"u"&&window.dispatchEvent(new CustomEvent("react-tooltip-inject-styles",{detail:{disableCore:O==="core",disableBase:O}}))},[]),y.useEffect(()=>{var bt;const An=new Set(Kt);let Le=n;if(!Le&&e&&(Le=`[data-tooltip-id='${e.replace(/'/g,"\\'")}']`),Le)try{document.querySelectorAll(Le).forEach(Be=>{An.add({current:Be})})}catch{console.warn(`[react-tooltip] "${Le}" is not a valid CSS selector`)}const Xe=document.querySelector(`[id='${t}']`);if(Xe&&An.add({current:Xe}),!An.size)return()=>null;const Un=(bt=rt??Xe)!==null&&bt!==void 0?bt:gt.current,ti=new MutationObserver(Be=>{Be.forEach(Ue=>{var Cn;if(!Un||Ue.type!=="attributes"||!(!((Cn=Ue.attributeName)===null||Cn===void 0)&&Cn.startsWith("data-tooltip-")))return;const Hn=Ln(Un);gr(Hn)})}),ye={attributes:!0,childList:!1,subtree:!1};if(Un){const Be=Ln(Un);gr(Be),ti.observe(Un,ye)}return()=>{ti.disconnect()}},[Kt,gt,rt,t,n]),y.useEffect(()=>{V!=null&&V.border&&console.warn("[react-tooltip] Do not set `style.border`. Use `border` prop instead."),z&&!NI("border",`${z}`)&&console.warn(`[react-tooltip] "${z}" is not a valid \`border\`.`),V!=null&&V.opacity&&console.warn("[react-tooltip] Do not set `style.opacity`. Use `opacity` prop instead."),N&&!NI("opacity",`${N}`)&&console.warn(`[react-tooltip] "${N}" is not a valid \`opacity\`.`)},[]);let yn=h;const wi=y.useRef(null);if(s){const bt=s({content:(rt==null?void 0:rt.getAttribute("data-tooltip-content"))||oe||null,activeAnchor:rt});yn=bt?Te.createElement("div",{ref:wi,className:"react-tooltip-content-wrapper"},bt):null}else oe&&(yn=oe);Ae&&(yn=Te.createElement($se,{content:Ae}));const ei={forwardRef:Z,id:e,anchorId:t,anchorSelect:n,className:z_(o,vn),classNameArrow:a,content:yn,contentWrapperRef:wi,place:be,variant:ze,offset:Ee,wrapper:_t,events:Je,openOnClick:g,positionStrategy:ve,middlewares:_,delayShow:Ye,delayHide:at,float:en,hidden:mn,noArrow:b,clickable:w,closeOnEsc:E,closeOnScroll:T,closeOnResize:j,openEvents:B,closeEvents:D,globalCloseEvents:q,imperativeModeOnly:M,style:V,position:P,isOpen:I,defaultIsOpen:$,border:z,opacity:N,arrowColor:G,setIsOpen:U,afterShow:ne,afterHide:L,activeAnchor:rt,setActiveAnchor:bt=>tn(bt),role:fe};return Te.createElement(Dse,{...ei})});typeof window<"u"&&window.addEventListener("react-tooltip-inject-styles",e=>{e.detail.disableCore||VI({css:":root{--rt-color-white:#fff;--rt-color-dark:#222;--rt-color-success:#8dc572;--rt-color-error:#be6464;--rt-color-warning:#f0ad4e;--rt-color-info:#337ab7;--rt-opacity:0.9;--rt-transition-show-delay:0.15s;--rt-transition-closing-delay:0.15s}.core-styles-module_tooltip__3vRRp{position:absolute;top:0;left:0;pointer-events:none;opacity:0;will-change:opacity}.core-styles-module_fixed__pcSol{position:fixed}.core-styles-module_arrow__cvMwQ{position:absolute;background:inherit}.core-styles-module_noArrow__xock6{display:none}.core-styles-module_clickable__ZuTTB{pointer-events:auto}.core-styles-module_show__Nt9eE{opacity:var(--rt-opacity);transition:opacity var(--rt-transition-show-delay)ease-out}.core-styles-module_closing__sGnxF{opacity:0;transition:opacity var(--rt-transition-closing-delay)ease-in}",type:"core"}),e.detail.disableBase||VI({css:`
.styles-module_tooltip__mnnfp{padding:8px 16px;border-radius:3px;font-size:90%;width:max-content}.styles-module_arrow__K0L3T{width:8px;height:8px}[class*='react-tooltip__place-top']>.styles-module_arrow__K0L3T{transform:rotate(45deg)}[class*='react-tooltip__place-right']>.styles-module_arrow__K0L3T{transform:rotate(135deg)}[class*='react-tooltip__place-bottom']>.styles-module_arrow__K0L3T{transform:rotate(225deg)}[class*='react-tooltip__place-left']>.styles-module_arrow__K0L3T{transform:rotate(315deg)}.styles-module_dark__xNqje{background:var(--rt-color-dark);color:var(--rt-color-white)}.styles-module_light__Z6W-X{background-color:var(--rt-color-white);color:var(--rt-color-dark)}.styles-module_success__A2AKt{background-color:var(--rt-color-success);color:var(--rt-color-white)}.styles-module_warning__SCK0X{background-color:var(--rt-color-warning);color:var(--rt-color-white)}.styles-module_error__JvumD{background-color:var(--rt-color-error);color:var(--rt-color-white)}.styles-module_info__BWdHW{background-color:var(--rt-color-info);color:var(--rt-color-white)}`,type:"base"})});const zse=C(Fse,{target:"e21jg9v2"})("&&&{background:rgba(0, 0, 0, 0.85);font-size:2rem;padding:1rem 1.5rem;border-radius:1rem;max-width:45rem;",$e,";.MuiTooltip-arrow{&::before{background:rgba(0, 0, 0, 0.85);}}strong{color:",de.colors.text.active,";}}z-index:10000;"),hu=({children:e,title:t,open:n,...r})=>{const i=y.useRef(null),s=y.useMemo(()=>`${Math.random()}`,[]);return f.jsxs(f.Fragment,{children:[Lu.createPortal(f.jsx(zse,{...r,id:s,ref:i,isOpen:n,children:t}),document.body),y.cloneElement(e,{"data-tooltip-id":s})]})},FI=e=>`tooltip_dismissed_${e}`,Use=({dismissKey:e,timeoutMs:t,oneTime:n=!0,children:r,title:i,...s})=>{const[o,a]=y.useState(!Oe.local.getItem(FI(e))),l=y.useCallback(()=>{Oe.local.setItem(FI(e),!0),a(void 0)},[e]);y.useEffect(()=>{if(t){const u=setTimeout(l,t);return()=>clearTimeout(u)}},[t,l]);const c=(o===void 0||!o&&!n)&&s.open===void 0;return f.jsx(hu,{clickable:!0,open:c?s.open:o,hidden:s.open===!1,...s,title:f.jsxs(f.Fragment,{children:[i,o&&f.jsx(Hse,{children:f.jsx(Gse,{"data-test":"close-tooltip-button",onClick:l,children:"Close"})})]}),children:r},c?"uncontrolled":"controlled")},Hse=C("div",{target:"e21jg9v1"})({name:"g78t84",styles:"display:flex;justify-content:flex-end;margin-top:1rem"}),Gse=C("button",{target:"e21jg9v0"})("padding:0.25rem 2rem;font-weight:bold;cursor:pointer;color:white;border:1px solid white;border-radius:0.5rem;background:none;font-size:1.75rem;&:hover{color:",de.colors.text.active,";border-color:",de.colors.text.active,";}&:active{color:white;background:",de.colors.text.active,";border-color:none;}");var uw={},qse=ot;Object.defineProperty(uw,"__esModule",{value:!0});var nL=uw.default=void 0,Wse=qse(ut()),Kse=f;nL=uw.default=(0,Wse.default)((0,Kse.jsx)("path",{d:"M7 14H5v5h5v-2H7zm-2-4h2V7h3V5H5zm12 7h-3v2h5v-5h-2zM14 5v2h3v3h2V5z"}),"Fullscreen");var dw={},Yse=ot;Object.defineProperty(dw,"__esModule",{value:!0});var rL=dw.default=void 0,Qse=Yse(ut()),Jse=f;rL=dw.default=(0,Qse.default)((0,Jse.jsx)("path",{d:"M5 16h3v3h2v-5H5zm3-8H5v2h5V5H8zm6 11h2v-3h3v-2h-5zm2-11V5h-2v5h5V8z"}),"FullscreenExit");function Xse(){const[,e]=Fe(Hb),[t]=Fe(pr),[n,r]=y.useState(document.fullscreenElement!==null);return y.useEffect(()=>{const i=()=>{r(document.fullscreenElement!==null)};return document.addEventListener("fullscreenchange",i),()=>{document.removeEventListener("fullscreenchange",i)}},[]),f.jsx(hu,{title:"Toggle fullscreen",place:"bottom-end",children:f.jsx(iw,{"data-test":"toggle-fullscreen",size:"small",onClick:async()=>{var i,s;try{document.fullscreenElement===null?(e(!0),await document.body.requestFullscreen(),t&&(global.screen.orientation.unlock(),await((s=(i=global.screen.orientation).lock)==null?void 0:s.call(i,"landscape")))):(e(!1),await document.exitFullscreen(),t&&global.screen.orientation.unlock())}catch(o){console.info(o)}},children:n?f.jsx(rL,{}):f.jsx(nL,{})})})}const iL=mi("padding:0.1rem 0.3rem;font-size:2.6rem;display:flex;align-items:center;justify-content:center;text-align:center;cursor:pointer;border:0;background-color:rgba(0, 0, 0, 0.75);text-transform:uppercase;letter-spacing:0.2rem;pointer-events:auto;box-sizing:border-box;transition:300ms;",$e,",;",""),Zse=mi("@keyframes button-focus-loop{0%,100%{transform:scale(1.045);}50%{transform:scale(1.055);}}animation:button-focus-loop 600ms ease-in-out infinite both;transform:scale(1.05);background:",de.colors.text.active,";",""),eoe=mi("transform:scale(1.05);background:",de.colors.text.active,";",""),cv=ks()?eoe:Zse,sL={animation:"focusAnimation 1000ms ease-in-out infinite both"},H_=mi("&:hover{",sL,";}&&&:active{background:",de.colors.text.active,";}",""),toe=C("a",{target:"eo7q3x1"})(iL," &&{color:white;text-decoration:none;}&[data-focused='true']{",cv,";}&[disabled='false']{",H_,";}"),oL=({focused:e,...t})=>f.jsx(toe,{...t}),noe=C("button",{target:"eo7q3x0"})(iL,";&:not(:disabled){",H_,";}&[data-focused='true']{",cv,";}&[disabled='false']{",H_,";}"),Rs=({focused:e,...t})=>f.jsx(noe,{"data-focused":e,...t}),roe={name:"1tj9yd6",styles:"cursor:default;color:#989898;background-color:#212121;border-width:0.3rem;pointer-events:none"},aL=mi("margin:0.5rem 0;height:10rem;border:0 solid black;&[data-disabled='true']{",roe,";}&[data-size='small']{height:5rem;}",""),ioe=C(oL,{target:"e1llc1k62"})(aL,";"),soe=C(Rs,{target:"e1llc1k61"})(aL,";"),Pe=({size:e,disabled:t,...n})=>{const r="href"in n?ioe:soe;return f.jsx(r,{...n,"data-disabled":t,"data-size":e})},ns=C("div",{target:"e1llc1k60"})({name:"10ov2k1",styles:"background:rgba(0, 0, 0, 0.5);padding:1.5rem;width:100vw;box-sizing:border-box;max-width:75rem;margin:2rem auto 0 auto;font-size:2.6rem;display:flex;flex-direction:column;gap:2rem;view-transition-name:menu-container"});function zl({children:e,onClose:t}){return f.jsxs(f.Fragment,{children:[f.jsx(aoe,{onClick:t}),f.jsx(ooe,{onClick:t,children:f.jsx("div",{onClick:n=>n.stopPropagation(),children:e})})]})}const ooe=C("div",{target:"e7rcptf1"})({name:"1uzuniy",styles:"position:fixed;top:0;left:0;width:100vw;height:100vh;display:flex;align-items:center;justify-content:center;z-index:20001;overflow:auto"}),aoe=C("div",{target:"e7rcptf0"})({name:"25wq6t",styles:"position:fixed;top:0;left:0;background:rgba(0, 0, 0, 0.7);width:100vw;height:100vh;z-index:20000;backdrop-filter:blur(20px)"});let loe=0;function Nu(e,t){const n=y.useRef(`${String(Math.random())}-${loe++}`),{setKeyboard:r,unsetKeyboard:i}=y.useContext(YS),s=a=>{r(n.current,a)},o=()=>i(n.current);return y.useEffect(()=>(t&&s(e),o),[e,t]),{setHelp:s,clearHelp:o}}function zn(e={},t=!1){var x;const{enabled:n=!0,onBackspace:r,backspaceHelp:i=null,direction:s="vertical",additionalHelp:o={}}=e,[a,l]=y.useState(null),c=y.useRef([]),u=y.useRef([]),d=y.useRef({}),h=(x=d.current[a])==null?void 0:x.label,p=y.useMemo(()=>({[s]:null,accept:h??null,back:r?i:void 0,...o}),[h,d,i,s]);Nu(p,n);const g=()=>{var b;(b=d.current[a])==null||b.callback(),kS.play()},m=()=>{r&&(CS.play(),r())},_=b=>{const w=a?c.current.indexOf(a):0;v0.play(),l(c.current.at((w+b)%c.current.length)??null)};Dl({[s==="vertical"?"up":"left"]:()=>_(-1),[s==="vertical"?"down":"right"]:()=>_(1),accept:g,back:m},n,[a,c.current]);let v="";const A=(b,w,E,T=!1,{propName:j="onClick",disabled:B=!1}={})=>{if(B)return{disabled:B,focused:!1};u.current.push(b),w&&(d.current[b]={callback:w,label:E,propName:j}),T&&(v=b);const D=n&&a===b;return{focused:D,[j]:w,keyboardNavigationChangeFocus:_,"data-test":b,...n?{"data-focused":D,"data-e2e-focused":D}:{}}};return y.useEffect(()=>{var b;(b=document.querySelector(`[data-test="${a}"]`))==null||b.scrollIntoView({behavior:"smooth",block:"center"})},[a]),y.useEffect(()=>{let b=u.current.filter(w=>!c.current.includes(w));t&&b.length&&console.log("new elements",b),c.current=[...u.current],u.current.length=0,c.current.length&&(a===null||c.current.indexOf(a)===-1||b.includes(v))&&l(v||c.current[0])}),{focusElement:b=>{c.current.includes(b)&&l(b)},focused:a,register:A}}var coe=Object.defineProperty,wm=Object.getOwnPropertySymbols,lL=Object.prototype.hasOwnProperty,cL=Object.prototype.propertyIsEnumerable,zI=(e,t,n)=>t in e?coe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Uf=(e,t)=>{for(var n in t||(t={}))lL.call(t,n)&&zI(e,n,t[n]);if(wm)for(var n of wm(t))cL.call(t,n)&&zI(e,n,t[n]);return e},fw=(e,t)=>{var n={};for(var r in e)lL.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&wm)for(var r of wm(e))t.indexOf(r)<0&&cL.call(e,r)&&(n[r]=e[r]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var Pl;(e=>{const t=class{constructor(l,c,u,d){if(this.version=l,this.errorCorrectionLevel=c,this.modules=[],this.isFunction=[],l<t.MIN_VERSION||l>t.MAX_VERSION)throw new RangeError("Version value out of range");if(d<-1||d>7)throw new RangeError("Mask value out of range");this.size=l*4+17;let h=[];for(let g=0;g<this.size;g++)h.push(!1);for(let g=0;g<this.size;g++)this.modules.push(h.slice()),this.isFunction.push(h.slice());this.drawFunctionPatterns();const p=this.addEccAndInterleave(u);if(this.drawCodewords(p),d==-1){let g=1e9;for(let m=0;m<8;m++){this.applyMask(m),this.drawFormatBits(m);const _=this.getPenaltyScore();_<g&&(d=m,g=_),this.applyMask(m)}}s(0<=d&&d<=7),this.mask=d,this.applyMask(d),this.drawFormatBits(d),this.isFunction=[]}static encodeText(l,c){const u=e.QrSegment.makeSegments(l);return t.encodeSegments(u,c)}static encodeBinary(l,c){const u=e.QrSegment.makeBytes(l);return t.encodeSegments([u],c)}static encodeSegments(l,c,u=1,d=40,h=-1,p=!0){if(!(t.MIN_VERSION<=u&&u<=d&&d<=t.MAX_VERSION)||h<-1||h>7)throw new RangeError("Invalid value");let g,m;for(g=u;;g++){const S=t.getNumDataCodewords(g,c)*8,x=a.getTotalBits(l,g);if(x<=S){m=x;break}if(g>=d)throw new RangeError("Data too long")}for(const S of[t.Ecc.MEDIUM,t.Ecc.QUARTILE,t.Ecc.HIGH])p&&m<=t.getNumDataCodewords(g,S)*8&&(c=S);let _=[];for(const S of l){r(S.mode.modeBits,4,_),r(S.numChars,S.mode.numCharCountBits(g),_);for(const x of S.getData())_.push(x)}s(_.length==m);const v=t.getNumDataCodewords(g,c)*8;s(_.length<=v),r(0,Math.min(4,v-_.length),_),r(0,(8-_.length%8)%8,_),s(_.length%8==0);for(let S=236;_.length<v;S^=253)r(S,8,_);let A=[];for(;A.length*8<_.length;)A.push(0);return _.forEach((S,x)=>A[x>>>3]|=S<<7-(x&7)),new t(g,c,A,h)}getModule(l,c){return 0<=l&&l<this.size&&0<=c&&c<this.size&&this.modules[c][l]}getModules(){return this.modules}drawFunctionPatterns(){for(let u=0;u<this.size;u++)this.setFunctionModule(6,u,u%2==0),this.setFunctionModule(u,6,u%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const l=this.getAlignmentPatternPositions(),c=l.length;for(let u=0;u<c;u++)for(let d=0;d<c;d++)u==0&&d==0||u==0&&d==c-1||u==c-1&&d==0||this.drawAlignmentPattern(l[u],l[d]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(l){const c=this.errorCorrectionLevel.formatBits<<3|l;let u=c;for(let h=0;h<10;h++)u=u<<1^(u>>>9)*1335;const d=(c<<10|u)^21522;s(d>>>15==0);for(let h=0;h<=5;h++)this.setFunctionModule(8,h,i(d,h));this.setFunctionModule(8,7,i(d,6)),this.setFunctionModule(8,8,i(d,7)),this.setFunctionModule(7,8,i(d,8));for(let h=9;h<15;h++)this.setFunctionModule(14-h,8,i(d,h));for(let h=0;h<8;h++)this.setFunctionModule(this.size-1-h,8,i(d,h));for(let h=8;h<15;h++)this.setFunctionModule(8,this.size-15+h,i(d,h));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let l=this.version;for(let u=0;u<12;u++)l=l<<1^(l>>>11)*7973;const c=this.version<<12|l;s(c>>>18==0);for(let u=0;u<18;u++){const d=i(c,u),h=this.size-11+u%3,p=Math.floor(u/3);this.setFunctionModule(h,p,d),this.setFunctionModule(p,h,d)}}drawFinderPattern(l,c){for(let u=-4;u<=4;u++)for(let d=-4;d<=4;d++){const h=Math.max(Math.abs(d),Math.abs(u)),p=l+d,g=c+u;0<=p&&p<this.size&&0<=g&&g<this.size&&this.setFunctionModule(p,g,h!=2&&h!=4)}}drawAlignmentPattern(l,c){for(let u=-2;u<=2;u++)for(let d=-2;d<=2;d++)this.setFunctionModule(l+d,c+u,Math.max(Math.abs(d),Math.abs(u))!=1)}setFunctionModule(l,c,u){this.modules[c][l]=u,this.isFunction[c][l]=!0}addEccAndInterleave(l){const c=this.version,u=this.errorCorrectionLevel;if(l.length!=t.getNumDataCodewords(c,u))throw new RangeError("Invalid argument");const d=t.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][c],h=t.ECC_CODEWORDS_PER_BLOCK[u.ordinal][c],p=Math.floor(t.getNumRawDataModules(c)/8),g=d-p%d,m=Math.floor(p/d);let _=[];const v=t.reedSolomonComputeDivisor(h);for(let S=0,x=0;S<d;S++){let b=l.slice(x,x+m-h+(S<g?0:1));x+=b.length;const w=t.reedSolomonComputeRemainder(b,v);S<g&&b.push(0),_.push(b.concat(w))}let A=[];for(let S=0;S<_[0].length;S++)_.forEach((x,b)=>{(S!=m-h||b>=g)&&A.push(x[S])});return s(A.length==p),A}drawCodewords(l){if(l.length!=Math.floor(t.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let c=0;for(let u=this.size-1;u>=1;u-=2){u==6&&(u=5);for(let d=0;d<this.size;d++)for(let h=0;h<2;h++){const p=u-h,m=(u+1&2)==0?this.size-1-d:d;!this.isFunction[m][p]&&c<l.length*8&&(this.modules[m][p]=i(l[c>>>3],7-(c&7)),c++)}}s(c==l.length*8)}applyMask(l){if(l<0||l>7)throw new RangeError("Mask value out of range");for(let c=0;c<this.size;c++)for(let u=0;u<this.size;u++){let d;switch(l){case 0:d=(u+c)%2==0;break;case 1:d=c%2==0;break;case 2:d=u%3==0;break;case 3:d=(u+c)%3==0;break;case 4:d=(Math.floor(u/3)+Math.floor(c/2))%2==0;break;case 5:d=u*c%2+u*c%3==0;break;case 6:d=(u*c%2+u*c%3)%2==0;break;case 7:d=((u+c)%2+u*c%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[c][u]&&d&&(this.modules[c][u]=!this.modules[c][u])}}getPenaltyScore(){let l=0;for(let h=0;h<this.size;h++){let p=!1,g=0,m=[0,0,0,0,0,0,0];for(let _=0;_<this.size;_++)this.modules[h][_]==p?(g++,g==5?l+=t.PENALTY_N1:g>5&&l++):(this.finderPenaltyAddHistory(g,m),p||(l+=this.finderPenaltyCountPatterns(m)*t.PENALTY_N3),p=this.modules[h][_],g=1);l+=this.finderPenaltyTerminateAndCount(p,g,m)*t.PENALTY_N3}for(let h=0;h<this.size;h++){let p=!1,g=0,m=[0,0,0,0,0,0,0];for(let _=0;_<this.size;_++)this.modules[_][h]==p?(g++,g==5?l+=t.PENALTY_N1:g>5&&l++):(this.finderPenaltyAddHistory(g,m),p||(l+=this.finderPenaltyCountPatterns(m)*t.PENALTY_N3),p=this.modules[_][h],g=1);l+=this.finderPenaltyTerminateAndCount(p,g,m)*t.PENALTY_N3}for(let h=0;h<this.size-1;h++)for(let p=0;p<this.size-1;p++){const g=this.modules[h][p];g==this.modules[h][p+1]&&g==this.modules[h+1][p]&&g==this.modules[h+1][p+1]&&(l+=t.PENALTY_N2)}let c=0;for(const h of this.modules)c=h.reduce((p,g)=>p+(g?1:0),c);const u=this.size*this.size,d=Math.ceil(Math.abs(c*20-u*10)/u)-1;return s(0<=d&&d<=9),l+=d*t.PENALTY_N4,s(0<=l&&l<=2568888),l}getAlignmentPatternPositions(){if(this.version==1)return[];{const l=Math.floor(this.version/7)+2,c=this.version==32?26:Math.ceil((this.version*4+4)/(l*2-2))*2;let u=[6];for(let d=this.size-7;u.length<l;d-=c)u.splice(1,0,d);return u}}static getNumRawDataModules(l){if(l<t.MIN_VERSION||l>t.MAX_VERSION)throw new RangeError("Version number out of range");let c=(16*l+128)*l+64;if(l>=2){const u=Math.floor(l/7)+2;c-=(25*u-10)*u-55,l>=7&&(c-=36)}return s(208<=c&&c<=29648),c}static getNumDataCodewords(l,c){return Math.floor(t.getNumRawDataModules(l)/8)-t.ECC_CODEWORDS_PER_BLOCK[c.ordinal][l]*t.NUM_ERROR_CORRECTION_BLOCKS[c.ordinal][l]}static reedSolomonComputeDivisor(l){if(l<1||l>255)throw new RangeError("Degree out of range");let c=[];for(let d=0;d<l-1;d++)c.push(0);c.push(1);let u=1;for(let d=0;d<l;d++){for(let h=0;h<c.length;h++)c[h]=t.reedSolomonMultiply(c[h],u),h+1<c.length&&(c[h]^=c[h+1]);u=t.reedSolomonMultiply(u,2)}return c}static reedSolomonComputeRemainder(l,c){let u=c.map(d=>0);for(const d of l){const h=d^u.shift();u.push(0),c.forEach((p,g)=>u[g]^=t.reedSolomonMultiply(p,h))}return u}static reedSolomonMultiply(l,c){if(l>>>8||c>>>8)throw new RangeError("Byte out of range");let u=0;for(let d=7;d>=0;d--)u=u<<1^(u>>>7)*285,u^=(c>>>d&1)*l;return s(u>>>8==0),u}finderPenaltyCountPatterns(l){const c=l[1];s(c<=this.size*3);const u=c>0&&l[2]==c&&l[3]==c*3&&l[4]==c&&l[5]==c;return(u&&l[0]>=c*4&&l[6]>=c?1:0)+(u&&l[6]>=c*4&&l[0]>=c?1:0)}finderPenaltyTerminateAndCount(l,c,u){return l&&(this.finderPenaltyAddHistory(c,u),c=0),c+=this.size,this.finderPenaltyAddHistory(c,u),this.finderPenaltyCountPatterns(u)}finderPenaltyAddHistory(l,c){c[0]==0&&(l+=this.size),c.pop(),c.unshift(l)}};let n=t;n.MIN_VERSION=1,n.MAX_VERSION=40,n.PENALTY_N1=3,n.PENALTY_N2=3,n.PENALTY_N3=40,n.PENALTY_N4=10,n.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],n.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=n;function r(l,c,u){if(c<0||c>31||l>>>c)throw new RangeError("Value out of range");for(let d=c-1;d>=0;d--)u.push(l>>>d&1)}function i(l,c){return(l>>>c&1)!=0}function s(l){if(!l)throw new Error("Assertion error")}const o=class{constructor(l,c,u){if(this.mode=l,this.numChars=c,this.bitData=u,c<0)throw new RangeError("Invalid argument");this.bitData=u.slice()}static makeBytes(l){let c=[];for(const u of l)r(u,8,c);return new o(o.Mode.BYTE,l.length,c)}static makeNumeric(l){if(!o.isNumeric(l))throw new RangeError("String contains non-numeric characters");let c=[];for(let u=0;u<l.length;){const d=Math.min(l.length-u,3);r(parseInt(l.substr(u,d),10),d*3+1,c),u+=d}return new o(o.Mode.NUMERIC,l.length,c)}static makeAlphanumeric(l){if(!o.isAlphanumeric(l))throw new RangeError("String contains unencodable characters in alphanumeric mode");let c=[],u;for(u=0;u+2<=l.length;u+=2){let d=o.ALPHANUMERIC_CHARSET.indexOf(l.charAt(u))*45;d+=o.ALPHANUMERIC_CHARSET.indexOf(l.charAt(u+1)),r(d,11,c)}return u<l.length&&r(o.ALPHANUMERIC_CHARSET.indexOf(l.charAt(u)),6,c),new o(o.Mode.ALPHANUMERIC,l.length,c)}static makeSegments(l){return l==""?[]:o.isNumeric(l)?[o.makeNumeric(l)]:o.isAlphanumeric(l)?[o.makeAlphanumeric(l)]:[o.makeBytes(o.toUtf8ByteArray(l))]}static makeEci(l){let c=[];if(l<0)throw new RangeError("ECI assignment value out of range");if(l<128)r(l,8,c);else if(l<16384)r(2,2,c),r(l,14,c);else if(l<1e6)r(6,3,c),r(l,21,c);else throw new RangeError("ECI assignment value out of range");return new o(o.Mode.ECI,0,c)}static isNumeric(l){return o.NUMERIC_REGEX.test(l)}static isAlphanumeric(l){return o.ALPHANUMERIC_REGEX.test(l)}getData(){return this.bitData.slice()}static getTotalBits(l,c){let u=0;for(const d of l){const h=d.mode.numCharCountBits(c);if(d.numChars>=1<<h)return 1/0;u+=4+h+d.bitData.length}return u}static toUtf8ByteArray(l){l=encodeURI(l);let c=[];for(let u=0;u<l.length;u++)l.charAt(u)!="%"?c.push(l.charCodeAt(u)):(c.push(parseInt(l.substr(u+1,2),16)),u+=2);return c}};let a=o;a.NUMERIC_REGEX=/^[0-9]*$/,a.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,a.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",e.QrSegment=a})(Pl||(Pl={}));(e=>{(t=>{const n=class{constructor(i,s){this.ordinal=i,this.formatBits=s}};let r=n;r.LOW=new n(0,1),r.MEDIUM=new n(1,0),r.QUARTILE=new n(2,3),r.HIGH=new n(3,2),t.Ecc=r})(e.QrCode||(e.QrCode={}))})(Pl||(Pl={}));(e=>{(t=>{const n=class{constructor(i,s){this.modeBits=i,this.numBitsCharCount=s}numCharCountBits(i){return this.numBitsCharCount[Math.floor((i+7)/17)]}};let r=n;r.NUMERIC=new n(1,[10,12,14]),r.ALPHANUMERIC=new n(2,[9,11,13]),r.BYTE=new n(4,[8,16,16]),r.KANJI=new n(8,[8,10,12]),r.ECI=new n(7,[0,0,0]),t.Mode=r})(e.QrSegment||(e.QrSegment={}))})(Pl||(Pl={}));var Sc=Pl;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var uL={L:Sc.QrCode.Ecc.LOW,M:Sc.QrCode.Ecc.MEDIUM,Q:Sc.QrCode.Ecc.QUARTILE,H:Sc.QrCode.Ecc.HIGH},dL=128,fL="L",hL="#FFFFFF",pL="#000000",gL=!1,hw=4,uoe=.1;function mL(e,t=0){const n=[];return e.forEach(function(r,i){let s=null;r.forEach(function(o,a){if(!o&&s!==null){n.push(`M${s+t} ${i+t}h${a-s}v1H${s+t}z`),s=null;return}if(a===r.length-1){if(!o)return;s===null?n.push(`M${a+t},${i+t} h1v1H${a+t}z`):n.push(`M${s+t},${i+t} h${a+1-s}v1H${s+t}z`);return}o&&s===null&&(s=a)})}),n.join("")}function vL(e,t){return e.slice().map((n,r)=>r<t.y||r>=t.y+t.h?n:n.map((i,s)=>s<t.x||s>=t.x+t.w?i:!1))}function yL(e,t,n,r){if(r==null)return null;const i=n?hw:0,s=e.length+i*2,o=Math.floor(t*uoe),a=s/t,l=(r.width||o)*a,c=(r.height||o)*a,u=r.x==null?e.length/2-l/2:r.x*a,d=r.y==null?e.length/2-c/2:r.y*a;let h=null;if(r.excavate){let p=Math.floor(u),g=Math.floor(d),m=Math.ceil(l+u-p),_=Math.ceil(c+d-g);h={x:p,y:g,w:m,h:_}}return{x:u,y:d,h:c,w:l,excavation:h}}var doe=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}();function AL(e){const t=e,{value:n,size:r=dL,level:i=fL,bgColor:s=hL,fgColor:o=pL,includeMargin:a=gL,style:l,imageSettings:c}=t,u=fw(t,["value","size","level","bgColor","fgColor","includeMargin","style","imageSettings"]),d=c==null?void 0:c.src,h=y.useRef(null),p=y.useRef(null),[g,m]=y.useState(!1);y.useEffect(()=>{if(h.current!=null){const A=h.current,S=A.getContext("2d");if(!S)return;let x=Sc.QrCode.encodeText(n,uL[i]).getModules();const b=a?hw:0,w=x.length+b*2,E=yL(x,r,a,c),T=p.current,j=E!=null&&T!==null&&T.complete&&T.naturalHeight!==0&&T.naturalWidth!==0;j&&E.excavation!=null&&(x=vL(x,E.excavation));const B=window.devicePixelRatio||1;A.height=A.width=r*B;const D=r/w*B;S.scale(D,D),S.fillStyle=s,S.fillRect(0,0,w,w),S.fillStyle=o,doe?S.fill(new Path2D(mL(x,b))):x.forEach(function(q,M){q.forEach(function(V,P){V&&S.fillRect(P+b,M+b,1,1)})}),j&&S.drawImage(T,E.x+b,E.y+b,E.w,E.h)}}),y.useEffect(()=>{m(!1)},[d]);const _=Uf({height:r,width:r},l);let v=null;return d!=null&&(v=Te.createElement("img",{src:d,key:d,style:{display:"none"},onLoad:()=>{m(!0)},ref:p})),Te.createElement(Te.Fragment,null,Te.createElement("canvas",Uf({style:_,height:r,width:r,ref:h},u)),v)}function _L(e){const t=e,{value:n,size:r=dL,level:i=fL,bgColor:s=hL,fgColor:o=pL,includeMargin:a=gL,imageSettings:l}=t,c=fw(t,["value","size","level","bgColor","fgColor","includeMargin","imageSettings"]);let u=Sc.QrCode.encodeText(n,uL[i]).getModules();const d=a?hw:0,h=u.length+d*2,p=yL(u,r,a,l);let g=null;l!=null&&p!=null&&(p.excavation!=null&&(u=vL(u,p.excavation)),g=Te.createElement("image",{xlinkHref:l.src,height:p.h,width:p.w,x:p.x+d,y:p.y+d,preserveAspectRatio:"none"}));const m=mL(u,d);return Te.createElement("svg",Uf({height:r,width:r,viewBox:`0 0 ${h} ${h}`},c),Te.createElement("path",{fill:s,d:`M0,0 h${h}v${h}H0z`,shapeRendering:"crispEdges"}),Te.createElement("path",{fill:o,d:m,shapeRendering:"crispEdges"}),g)}var foe=e=>{const t=e,{renderAs:n}=t,r=fw(t,["renderAs"]);return n==="svg"?Te.createElement(_L,Uf({},r)):Te.createElement(AL,Uf({},r))};const hoe=Object.freeze(Object.defineProperty({__proto__:null,QRCodeCanvas:AL,QRCodeSVG:_L,default:foe},Symbol.toStringTag,{value:"Module"}));var bL={exports:{}},SL={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pu=y;function poe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var goe=typeof Object.is=="function"?Object.is:poe,moe=pu.useState,voe=pu.useEffect,yoe=pu.useLayoutEffect,Aoe=pu.useDebugValue;function _oe(e,t){var n=t(),r=moe({inst:{value:n,getSnapshot:t}}),i=r[0].inst,s=r[1];return yoe(function(){i.value=n,i.getSnapshot=t,qy(i)&&s({inst:i})},[e,n,t]),voe(function(){return qy(i)&&s({inst:i}),e(function(){qy(i)&&s({inst:i})})},[e]),Aoe(n),n}function qy(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!goe(e,n)}catch{return!0}}function boe(e,t){return t()}var Soe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?boe:_oe;SL.useSyncExternalStore=pu.useSyncExternalStore!==void 0?pu.useSyncExternalStore:Soe;bL.exports=SL;var xoe=bL.exports;const{useEffect:woe,useLayoutEffect:Eoe,useRef:koe,useInsertionEffect:Coe}=mg,Toe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ioe=Toe?Eoe:woe,xL=Coe||Ioe,wL=e=>{const t=koe([e,(...n)=>t[0](...n)]).current;return xL(()=>{t[0]=e}),t[1]},Poe=(e="",t=location.pathname)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",Roe=(e,t="")=>e[0]==="~"?e.slice(1):t+e,Moe="popstate",pw="pushState",gw="replaceState",joe="hashchange",UI=[Moe,pw,gw,joe],Ooe=e=>{for(const t of UI)addEventListener(t,e);return()=>{for(const t of UI)removeEventListener(t,e)}},Voe=(e,t)=>xoe.useSyncExternalStore(Ooe,e,t),HI=()=>location.pathname,Loe=({ssrPath:e}={})=>Voe(HI,e?()=>e:HI),Noe=(e,{replace:t=!1}={})=>history[t?gw:pw](null,"",e),Boe=(e={})=>[Poe(e.base,Loe(e)),wL((t,n)=>Noe(Roe(t,e.base),n))];if(typeof history<"u")for(const e of[pw,gw]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),r=new Event(e);return r.arguments=arguments,dispatchEvent(r),n}}function Doe(e=Foe){let t={};const n=r=>t[r]||(t[r]=e(r));return(r,i)=>{const{regexp:s,keys:o}=n(r||""),a=s.exec(i);return a?[!0,o.reduce((c,u,d)=>(c[u.name]=a[d+1],c),{})]:[!1,null]}}const GI=e=>e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),$oe=(e,t,n)=>{let r=e?"((?:[^\\/]+?)(?:\\/(?:[^\\/]+?))*)":"([^\\/]+?)";return t&&n&&(r="(?:\\/"+r+")"),r+(t?"?":"")},Foe=e=>{const t=/:([A-Za-z0-9_]+)([?+*]?)/g;let n=null,r=0,i=[],s="";for(;(n=t.exec(e))!==null;){const[o,a,l]=n,c=l==="+"||l==="*",u=l==="?"||l==="*",d=u&&e[n.index-1]==="/"?1:0,h=e.substring(r,n.index-d);i.push({name:a}),r=t.lastIndex,s+=GI(h)+$oe(c,u,d)}return s+=GI(e.substring(r)),{keys:i,regexp:new RegExp("^"+s+"(?:\\/)?$","i")}},G_={hook:Boe,matcher:Doe(),base:""},EL=y.createContext(G_),uv=()=>y.useContext(EL),dv=e=>e.hook(e),zoe=()=>dv(uv()),kL=e=>{const t=uv(),[n]=dv(t);return t.matcher(e,n)},Uoe=y.createContext({params:{}}),Hoe=({hook:e,matcher:t,ssrPath:n,base:r="",parent:i,children:s})=>{const o=(l,c=i||G_)=>(l.hook=e||c.hook,l.matcher=t||c.matcher,l.ssrPath=n||c.ssrPath,l.ownBase=r,l.parent=i,l),[a]=y.useState(()=>o({get base(){return(a.parent||G_).base+a.ownBase}}));return xL(()=>{o(a)}),y.createElement(EL.Provider,{value:a,children:s})},qI=(e,t)=>y.createElement(Uoe.Provider,{value:{params:e},children:t}),yr=({path:e,match:t,component:n,children:r})=>{const i=kL(e),[s,o]=t||i;return s?n?qI(o,y.createElement(n,{params:o})):qI(o,typeof r=="function"?r(o):r):null},mw=y.forwardRef((e,t)=>{const n=uv(),[,r]=dv(n),{to:i,href:s=i,children:o,onClick:a}=e,l=wL(d=>{d.ctrlKey||d.metaKey||d.altKey||d.shiftKey||d.button!==0||(a&&a(d),d.defaultPrevented||(d.preventDefault(),r(i||s,e)))}),c={href:s[0]==="~"?s.slice(1):n.base+s,onClick:l,to:null,ref:t},u=y.isValidElement(o)?o:y.createElement("a",e);return y.cloneElement(u,c)}),q_=e=>Array.isArray(e)?[].concat(...e.map(t=>t&&t.type===y.Fragment?q_(t.props.children):q_(t))):[e],Goe=({children:e,location:t})=>{const n=uv(),r=n.matcher,[i]=dv(n);for(const s of q_(e)){let o=0;if(y.isValidElement(s)&&(o=s.props.path?r(s.props.path,t||i):[!0,{}])[0])return y.cloneElement(s,{match:o})}return null},{QRCodeSVG:qoe}=hoe;function Wy({gameCode:e,...t}){return f.jsx(Joe,{...t,children:e.split("").map((n,r)=>f.jsx("span",{children:n},r))})}function vw(){var i;const e=new URL((i=global.location)==null?void 0:i.href),[t]=kL("remote-mic"),n=w0("room")??ll.getGameCode();e.pathname="/prs/284/remote-mic",e.searchParams.set("room",n);const r=e.href;return y.useEffect(()=>{t||ll.start()},[t]),f.jsxs(Zoe,{children:[f.jsx(tae,{children:f.jsxs("h1",{children:["Code: ",f.jsx(Wy,{gameCode:n})]})}),f.jsx(eae,{children:f.jsx(qoe,{value:r,width:"100%",height:"100%",includeMargin:!0})}),f.jsxs(nae,{children:[f.jsxs(Woe,{children:[f.jsxs("h3",{children:["Game code: ",f.jsx(Wy,{gameCode:n,"data-test":"game-code"})]}),f.jsxs("ol",{children:[f.jsxs("li",{children:["Go to"," ",f.jsx("a",{href:e.origin,target:"_blank",rel:"noreferrer",children:"allkaraoke.party"})," ","on your phone"]}),f.jsxs("li",{children:["Click on ",f.jsx("b",{children:"Join game"})]}),f.jsxs("li",{children:["Enter the code ",f.jsx(Wy,{gameCode:n})]}),f.jsx("li",{children:"Follow the instructions"})]})]}),f.jsxs(Koe,{children:[f.jsx("h4",{children:"Or copy and send the link"}),f.jsxs(Yoe,{children:[f.jsx(Xoe,{disabled:!0,value:r,"data-test":"server-link-input"}),f.jsx(Qoe,{onClick:()=>{navigator.clipboard.writeText(r)},children:"Copy"})]})]})]})]})}const Woe=C("div",{target:"eg58fmd9"})({name:"82a6rk",styles:"flex:1"}),Koe=C("div",{target:"eg58fmd8"})({name:"4dmv1c",styles:"flex:0"}),Yoe=C("div",{target:"eg58fmd7"})({name:"sqzzkh",styles:"position:relative;margin-top:0.5rem"}),Qoe=C("button",{target:"eg58fmd6"})("cursor:pointer;position:absolute;padding:0 2rem;right:0;height:100%;box-sizing:border-box;background:",de.colors.text.active,";",$e,";font-weight:bold;font-size:2.2rem;border:0;:active{background-color:black;}"),Joe=C("strong",{target:"eg58fmd5"})("text-transform:uppercase;padding:0.5rem 1.5rem;border-radius:0.5rem;display:inline-flex;gap:1.5rem;",ru,";"),Xoe=C("input",{target:"eg58fmd4"})({name:"gri5w4",styles:"padding:1rem;box-sizing:border-box;background:grey;border:none;width:100%;font-size:1.3rem"}),Zoe=C("div",{target:"eg58fmd3"})({name:"1d1jk7v",styles:"display:flex;flex-direction:row;flex-wrap:nowrap;align-items:stretch;flex:1;gap:2%;@media (max-width: 560px){flex-direction:column;}"}),eae=C("div",{target:"eg58fmd2"})({name:"2ogmzh",styles:"flex:0.6;@media (max-width: 560px){flex:0;}"}),tae=C("div",{target:"eg58fmd1"})({name:"mhlr3w",styles:"display:none;@media (max-width: 560px){display:block;}margin-bottom:2rem"}),nae=C("div",{target:"eg58fmd0"})("@media (max-width: 560px){display:none;}flex:1;display:flex;flex-direction:column;b{font-weight:bold;",$e,";color:",de.colors.text.active,";}h3{margin-bottom:1rem;}h4{margin:1rem 0;}ol{padding-left:2.3rem;margin:0 0 1.25rem 0;list-style:decimal inside;}li{color:white;font-size:2rem;line-height:3.2rem;}");function rae({closeModal:e}){const{register:t}=zn({onBackspace:e});return f.jsx(zl,{onClose:e,children:f.jsxs(ns,{children:[f.jsx(vw,{}),f.jsx(Rs,{...t("quick-connect-close",e),children:"Close"})]})})}function iae(){const[e,t]=y.useState(!1);Fe(pr);const[n,r]=Fe(n5),{hasContent:i}=y.useContext(YS),s=()=>t(!1);return f.jsxs(f.Fragment,{children:[e&&f.jsx(rae,{closeModal:s}),f.jsxs(sae,{children:[i&&f.jsx(hu,{title:"Toggle help",place:"bottom-end",children:f.jsx(oae,{size:"small",onClick:()=>r(!n),"data-test":"toggle-help",children:n?f.jsx(OO,{}):f.jsx(VO,{})})}),f.jsx(Xse,{}),f.jsx(hu,{title:"Connect phone",place:"bottom-end",children:f.jsx(iw,{size:"small",onClick:()=>t(o=>!o),"data-test":"quick-connect-phone",children:f.jsx(wf,{})})})]})]})}const sae=C("div",{target:"efkmcew1"})({name:"17druna",styles:"view-transition-name:toolbar;cursor:pointer;background:rgba(0, 0, 0, 0.75);color:white;padding-left:1rem;margin:0;position:fixed;top:0;right:0;z-index:10000;color:white;svg{fill:white;width:3.25rem;height:3.25rem;transition:transform 200ms;&:hover{transform:scale(1.2);}}display:flex;gap:0.75rem;border-bottom-left-radius:1.5rem"}),oae=C(iw,{target:"efkmcew0"})({name:"lpoy45",styles:"scale:0.9"});function Do({children:e,toolbar:t=!0}){return f.jsxs(IX,{children:[t&&f.jsx(iae,{}),e]})}var yw={},aae=ot;Object.defineProperty(yw,"__esModule",{value:!0});var CL=yw.default=void 0,lae=aae(ut()),cae=f;CL=yw.default=(0,lae.default)((0,cae.jsx)("path",{d:"M3 13h2v-2H3zm0 4h2v-2H3zm0-8h2V7H3zm4 4h14v-2H7zm0 4h14v-2H7zM7 7v2h14V7z"}),"List");var Aw={},uae=ot;Object.defineProperty(Aw,"__esModule",{value:!0});var TL=Aw.default=void 0,dae=uae(ut()),fae=f;TL=Aw.default=(0,dae.default)((0,fae.jsx)("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6"}),"Settings");const _w=({...e})=>f.jsx("svg",{viewBox:"0 0 512 512",fill:"currentcolor",...e,children:f.jsx("path",{stroke:"black",strokeWidth:"2%",xmlns:"http://www.w3.org/2000/svg",d:"M252.529,162.029l168.125,210.156c-12.313,1.25-24.031,6.438-33.031,15.438s-14.188,20.719-15.438,33.031L162.029,252.545  c-3.563-24.922,4.813-50.078,22.625-67.891C202.467,166.857,227.623,158.467,252.529,162.029z M398.936,398.936  c-9.063,9.063-13.031,22.063-10.625,34.656l45.281,45.25c12.5,12.5,32.75,12.5,45.25,0s12.5-32.75,0-45.25l-45.25-45.281  C420.998,385.904,407.998,389.873,398.936,398.936z M162.029,162.029c18.594-18.594,43.188-29.891,68.969-32.297  c-3.375-24.563-14.906-49.391-35.031-69.516c-43.75-43.75-109.594-48.813-147.063-11.313  c-37.5,37.484-32.438,103.328,11.313,147.078c20.125,20.125,44.938,31.656,69.5,35.031  C132.154,205.217,143.436,180.623,162.029,162.029z"})}),IL=C(_w,{target:"e1uhpuaa1"})("fill:",de.colors.players[1].text,";"),W_=C(_w,{target:"e1uhpuaa0"})("fill:",de.colors.players[0].text,";");function hae({active:e,setActiveTab:t}){return f.jsxs(pae,{children:[f.jsxs(Ky,{active:e==="microphone",onClick:()=>t("microphone"),"data-test":"menu-microphone",children:[f.jsx(Yy,{children:f.jsx(_w,{})}),f.jsx(Qy,{children:"Microphone"})]}),f.jsxs(Ky,{active:e==="song-list",onClick:()=>t("song-list"),"data-test":"menu-song-list",children:[f.jsx(Yy,{children:f.jsx(CL,{})}),f.jsx(Qy,{children:"Song list"})]}),f.jsxs(Ky,{active:e==="settings",onClick:()=>t("settings"),"data-test":"menu-settings",children:[f.jsx(Yy,{children:f.jsx(TL,{})}),f.jsx(Qy,{children:"Settings"})]})]})}const pae=C("div",{target:"e1c2ys9k3"})({name:"1x8gdpu",styles:"position:fixed;bottom:0;right:0;display:flex;align-items:stretch;width:100%;gap:1px;background:#424242;@media (max-height: 500px) and (min-aspect-ratio: 16/10){max-width:400px;transform:scale(0.75);transform-origin:bottom right;}"}),Ky=C("div",{target:"e1c2ys9k2"})("cursor:pointer;flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;background:black;padding:1rem;font-size:1.5rem;gap:0.5rem;color:",e=>e.active?de.colors.text.active:"#cecece",";"),Yy=C("div",{target:"e1c2ys9k1"})({name:"immj2t",styles:"svg{width:2.5rem;height:2.5rem;}font-size:2rem"}),Qy=C("div",{target:"e1c2ys9k0"})("");var bw={},gae=ot;Object.defineProperty(bw,"__esModule",{value:!0});var Ul=bw.default=void 0,mae=gae(ut()),vae=f;Ul=bw.default=(0,mae.default)((0,vae.jsx)("path",{d:"M1 21h22L12 2zm12-3h-2v-2h2zm0-4h-2v-4h2z"}),"Warning");const Sw=()=>{const[e,t]=y.useState(aa.getStatus());return y.useEffect(()=>aa.addListener(t),[]),e};function PL(){return navigator==null?void 0:navigator.userAgent.includes("OPR")}const yae="/prs/284/assets/allow-mic-DleF1-pf.png",Aae="/prs/284/assets/enable-mic-opera-B5FfRj_P.png",_ae="/prs/284/assets/enable-mic-TGG47ucR.png",bae=()=>PL()?Aae:_ae,xh=({children:e,fallback:t,showImages:n=!0})=>{const r=Sw();return f.jsxs(f.Fragment,{children:[r==="accepted"&&e,r!=="accepted"&&f.jsxs(f.Fragment,{children:[f.jsx(xae,{children:f.jsx(wae,{})}),t,f.jsxs(Sae,{children:[r==="requested"&&n&&f.jsx("img",{src:yae,alt:"how-to-allow"}),r==="declined"&&f.jsxs(f.Fragment,{children:[f.jsx("h3",{children:"Access is blocked, you can unblock it here"}),n&&f.jsx("img",{src:bae(),alt:"how-to-enable"})]}),PL()&&f.jsxs("h4",{children:[f.jsx("strong",{children:"Opera"})," is buggy regarding microphone access - if you encounter issue (e.g. this message stays even after the access to microphone was granted), consider other browsers."]})]})]})]})},Sae=C("div",{target:"e1w9vi9z2"})({name:"1hmq8jv",styles:"text-align:center;img{margin:1.5rem 0 0.5rem;box-shadow:0.5rem 0.5rem 0.5rem rgba(0, 0, 0, 0.5),inset 0 0 0.5rem 0.5rem rgba(255, 255, 255, 0.5);border:0.5rem solid white;border-radius:1rem;box-sizing:border-box;max-width:100%;}"}),xae=C("div",{target:"e1w9vi9z1"})({name:"zov8s0",styles:"width:100%;display:flex;justify-content:center"}),wae=C(Ul,{target:"e1w9vi9z0"})("color:",de.colors.text.active,";font-size:3rem;");function Eae(){return!1}var xw={},kae=ot;Object.defineProperty(xw,"__esModule",{value:!0});var Qd=xw.default=void 0,Cae=kae(ut()),Tae=f;Qd=xw.default=(0,Cae.default)((0,Tae.jsx)("path",{d:"m1 9 2 2c4.97-4.97 13.03-4.97 18 0l2-2C16.93 2.93 7.08 2.93 1 9m8 8 3 3 3-3c-1.65-1.66-4.34-1.66-6 0m-4-4 2 2c2.76-2.76 7.24-2.76 10 0l2-2C15.14 9.14 8.87 9.14 5 13"}),"Wifi");function wh(e,t,n=1){return n===1?(t+1)%e.length:(t+e.length-1)%e.length}function Iae(e,t,n=1){return wh(e,e.indexOf(t),n)}function ma(e,t,n=1){return e[Iae(e,t,n)]}const li=({focused:e,disabled:t=!1,label:n,value:r,onClick:i,info:s,children:o,...a})=>f.jsxs(Pae,{children:[f.jsxs(Rae,{"data-focused":e,onClick:i,"data-disabled":t,...a,children:[f.jsx("span",{children:n?f.jsxs(f.Fragment,{children:[n,":"]}):""})," ",f.jsx(Mae,{children:r}),o??null]}),s&&f.jsx(RL,{children:s})]}),Pae=C("div",{target:"e84wjn53"})(""),RL=C("div",{target:"e84wjn52"})($e,";font-size:2rem;padding:1rem 0.5rem 0;text-align:justify;"),Rae=C("span",{target:"e84wjn51"})("background:rgba(0, 0, 0, 0.7);width:auto;",$e,";text-align:right;font-size:2.7rem;cursor:pointer;padding:0.65rem;display:flex;flex-direction:row;justify-content:space-between;&[data-expanded='true']{font-size:6rem;}&[data-disabled='true']{cursor:default;}&[data-focused='true'][data-disabled='false']{animation:focusAnimation 1000ms ease-in-out infinite both;}&:hover{animation:focusAnimation 1000ms ease-in-out infinite both;}"),Mae=C("span",{target:"e84wjn50"})("color:",de.colors.text.active,";text-overflow:ellipsis;overflow:hidden;white-space:nowrap;padding-left:1rem;"),Hl=y.forwardRef(({focused:e,label:t,value:n,onChange:r,disabled:i,className:s,adornment:o,info:a,...l},c)=>{const u=y.useRef(null);return y.useImperativeHandle(c,()=>u.current),Pr(L1,()=>{var d;return(d=u.current)==null?void 0:d.focus()},{enabled:e}),f.jsxs("div",{children:[f.jsxs(Oae,{"data-focused":e,className:s,children:[f.jsx(Vae,{children:t}),f.jsx(Lae,{value:n,onChange:d=>r(d.target.value),...l,disabled:i,ref:u}),o&&f.jsx(jae,{children:o})]}),a&&f.jsx(RL,{children:a})]})}),jae=C("span",{target:"et2ce2n3"})(""),Oae=C("div",{target:"et2ce2n2"})("background:black;caret:underscore;",$e,";width:auto;display:flex;cursor:text;padding:0.25em;align-items:center;&[data-focused='true']{animation:focusAnimation 1000ms ease-in-out infinite both;}&:hover{animation:focusAnimation 1000ms ease-in-out infinite both;}"),Vae=C("span",{target:"et2ce2n1"})({name:"1vbnwdc",styles:"display:inline-flex;align-items:center;justify-content:center;padding-right:0.5em;white-space:nowrap;width:auto;svg{font-size:1em;}"}),Lae=C("input",{target:"et2ce2n0"})("padding:0;border:0;background:transparent;caret:underscore;",$e,";color:",de.colors.text.active,";width:100%;font-size:1em;&:focus{outline:none;}");function Nae(e){return Iu("MuiCircularProgress",e)}Pu("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const Bae=["className","color","disableShrink","size","style","thickness","value","variant"];let fv=e=>e,WI,KI,YI,QI;const zo=44,Dae=Ea(WI||(WI=fv`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),$ae=Ea(KI||(KI=fv`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),Fae=e=>{const{classes:t,variant:n,color:r,disableShrink:i}=e,s={root:["root",n,`color${Zn(r)}`],svg:["svg"],circle:["circle",`circle${Zn(n)}`,i&&"circleDisableShrink"]};return dh(s,Nae,t)},zae=Lo("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`color${Zn(n.color)}`]]}})(({ownerState:e,theme:t})=>Ve({display:"inline-block"},e.variant==="determinate"&&{transition:t.transitions.create("transform")},e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main}),({ownerState:e})=>e.variant==="indeterminate"&&mi(YI||(YI=fv`
      animation: ${0} 1.4s linear infinite;
    `),Dae)),Uae=Lo("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),Hae=Lo("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.circle,t[`circle${Zn(n.variant)}`],n.disableShrink&&t.circleDisableShrink]}})(({ownerState:e,theme:t})=>Ve({stroke:"currentColor"},e.variant==="determinate"&&{transition:t.transitions.create("stroke-dashoffset")},e.variant==="indeterminate"&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink&&mi(QI||(QI=fv`
      animation: ${0} 1.4s ease-in-out infinite;
    `),$ae)),Gae=y.forwardRef(function(t,n){const r=Ru({props:t,name:"MuiCircularProgress"}),{className:i,color:s="primary",disableShrink:o=!1,size:a=40,style:l,thickness:c=3.6,value:u=0,variant:d="indeterminate"}=r,h=kr(r,Bae),p=Ve({},r,{color:s,disableShrink:o,size:a,thickness:c,value:u,variant:d}),g=Fae(p),m={},_={},v={};if(d==="determinate"){const A=2*Math.PI*((zo-c)/2);m.strokeDasharray=A.toFixed(3),v["aria-valuenow"]=Math.round(u),m.strokeDashoffset=`${((100-u)/100*A).toFixed(3)}px`,_.transform="rotate(-90deg)"}return f.jsx(zae,Ve({className:Rr(g.root,i),style:Ve({width:a,height:a},_,l),ownerState:p,ref:n,role:"progressbar"},v,h,{children:f.jsx(Uae,{className:g.svg,ownerState:p,viewBox:`${zo/2} ${zo/2} ${zo} ${zo}`,children:f.jsx(Hae,{className:g.circle,style:m,ownerState:p,cx:zo,cy:zo,r:(zo-c)/2,fill:"none",strokeWidth:c})})}))}),qae=Gae;function Eh(e){return f.jsx(qae,{...e})}function Hf(e){document.startViewTransition?document.startViewTransition(async()=>{await e()}):e()}const Em=(e,t)=>{var n;if(t){const r=new URLSearchParams((n=global.location)==null?void 0:n.search);return Object.entries(t).forEach(([i,s])=>{s===null?r.delete(i):r.set(i,s)}),`${e}?${r.toString()}`}return e};function Zr(){const[,e]=zoe();return(t,n,{smooth:r=!0,...i}={})=>{r?Hf(()=>e(Em(t,n),i)):e(Em(t,n),i)}}var ww={},Wae=ot;Object.defineProperty(ww,"__esModule",{value:!0});var Ew=ww.default=void 0,Kae=Wae(ut()),Yae=f;Ew=ww.default=(0,Kae.default)((0,Yae.jsx)("path",{d:"M20 18c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2H0v2h24v-2zM4 6h16v10H4z"}),"Laptop");var kw={},Qae=ot;Object.defineProperty(kw,"__esModule",{value:!0});var Cw=kw.default=void 0,Jae=Qae(ut()),Xae=f;Cw=kw.default=(0,Jae.default)((0,Xae.jsx)("path",{d:"M16 1H8C6.34 1 5 2.34 5 4v16c0 1.66 1.34 3 3 3h8c1.66 0 3-1.34 3-3V4c0-1.66-1.34-3-3-3m-2 20h-4v-1h4zm3.25-3H6.75V4h10.5z"}),"PhoneAndroid");const JI="confirmed-wifi";function Zae({onClose:e}){const[t,n]=Te.useState(Oe.session.getItem(JI)??!1),r=()=>{Oe.session.setItem(JI,!0),n(!0),e==null||e()};return y.useEffect(()=>{var i,s,o;if(navigator!=null&&navigator.connection)if(((i=navigator==null?void 0:navigator.connection)==null?void 0:i.type)==="wifi")r();else{const a=()=>{var l;((l=navigator==null?void 0:navigator.connection)==null?void 0:l.type)==="wifi"&&r()};return(o=(s=navigator==null?void 0:navigator.connection)==null?void 0:s.addEventListener)==null||o.call(s,"change",a),()=>{var l,c;return(c=(l=navigator==null?void 0:navigator.connection)==null?void 0:l.removeEventListener)==null?void 0:c.call(l,"change",a)}}},[]),t?null:f.jsx(zl,{onClose:r,children:f.jsxs(ele,{children:[f.jsxs(tle,{children:[f.jsxs("h3",{children:["Connect to the ",f.jsx("strong",{children:"same Wi-Fi"})]}),f.jsxs(nle,{children:[f.jsx(Cw,{}),"...",f.jsx(Qd,{}),"...",f.jsx(Ew,{})]}),f.jsx("h4",{children:"Connect to the same Wi-Fi as the game."})]}),f.jsx("h6",{children:"Otherwise microphones might not work properly."}),f.jsx(Pe,{onClick:r,focused:!0,"data-test":"confirm-wifi-connection",children:"I'm connected, continue"})]})})}const ele=C(ns,{target:"e1200hll2"})({name:"vcyu3g",styles:"gap:1rem"}),tle=C("div",{target:"e1200hll1"})({name:"1uu7723",styles:"display:flex;flex-direction:column;align-items:center;gap:2rem"}),nle=C("div",{target:"e1200hll0"})("margin:2rem 0;display:flex;color:white;align-items:center;gap:2rem;@keyframes pulse{0%{color:",de.colors.text.default,";transform:scale(1);}25%{color:",de.colors.text.active,";transform:scale(1.1);}50%{color:",de.colors.text.default,";transform:scale(1);}}svg{animation:pulse 2s infinite;font-size:7rem;:nth-of-type(1){animation-delay:0s;}:nth-of-type(2){animation-delay:0.5s;}:nth-of-type(3){animation-delay:1s;}}");function rle(e,t,n,r){n===void 0&&(n=global),r===void 0&&(r={});var i=y.useRef(),s=r.capture,o=r.passive,a=r.once;y.useEffect(function(){i.current=t},[t]),y.useEffect(function(){if(n&&n.addEventListener){var l=function(u){return i.current(u)},c={capture:s,passive:o,once:a};return n.addEventListener(e,l,c),function(){n.removeEventListener(e,l,c)}}},[e,n,s,o,a])}var Da={},ile=function(e,t,n){return Da[e]||(Da[e]={callbacks:[],value:n}),Da[e].callbacks.push(t),{deregister:function(){var r=Da[e].callbacks,i=r.indexOf(t);i>-1&&r.splice(i,1)},emit:function(r){Da[e].value!==r&&(Da[e].value=r,Da[e].callbacks.forEach(function(i){t!==i&&i(r)}))}}};function hv(e,t){if(t===void 0&&(t=typeof global<"u"&&global.localStorage?global.localStorage:typeof globalThis<"u"&&globalThis.localStorage?globalThis.localStorage:typeof window<"u"&&window.localStorage?window.localStorage:typeof localStorage<"u"?localStorage:null),t){var n=function(r){return{get:function(i,s){var o=r.getItem(i);return o==null?typeof s=="function"?s():s:JSON.parse(o)},set:function(i,s){r.setItem(i,JSON.stringify(s))}}}(t);return function(r){return function(i,s,o){var a=o.get,l=o.set,c=y.useRef(null),u=y.useState(function(){return a(s,i)}),d=u[0],h=u[1];rle("storage",function(g){if(g.key===s){var m=JSON.parse(g.newValue);d!==m&&h(m)}}),y.useEffect(function(){return c.current=ile(s,h,i),function(){c.current.deregister()}},[i,s]);var p=y.useCallback(function(g){var m=typeof g=="function"?g(d):g;l(s,m),h(m),c.current.emit(g)},[d,l,s]);return[d,p]}(r,e,n)}}return y.useState}const sle=hv("remote_mic_name");function ole({isVisible:e,roomId:t,connectionStatus:n,onConnect:r,connectionError:i}){const[s,o]=sle(""),[a,l]=y.useState(!1),c=y.useRef(null),u=y.useRef(null),[d,h]=y.useState(t??""),p=Zr(),g=n!=="uninitialised"&&n!=="error";y.useEffect(()=>{n==="connected"&&!t&&p("remote-mic/",{room:d})},[n,t,d]);const m=(x=!1)=>{pn.connect(d,s,x),r(x)},_=x=>{var b,w;x.preventDefault(),l(!1),!t&&d.length!==Vd?(b=c.current)==null||b.focus():s===""?(w=u.current??c.current)==null||w.focus():m()};y.useEffect(()=>{var x;Vn.capture(t?"remote-mic-qrcode":"remote-mic-manual"),(x=c.current)==null||x.focus()},[]),y.useEffect(()=>{Oe.session.getItem("reload-mic-request")!==null&&(global.setTimeout(()=>Oe.session.removeItem("reload-mic-request"),1),m(!0))},[]);const[v,A]=y.useState(!1);y.useEffect(()=>{if(A(!1),n==="connecting"||n==="reconnecting"){const x=setTimeout(()=>A(!0),2e3);return()=>clearTimeout(x)}},[n]);const S=n==="error"&&!a;return e?f.jsxs(f.Fragment,{children:[f.jsx(Zae,{onClose:()=>{var x;(x=c.current)==null||x.focus()}}),f.jsxs(ale,{onSubmit:_,children:[!g&&f.jsx(cle,{ref:c,placeholder:"_____",label:"Game code",autoCapitalize:"characters",autoComplete:"off",onChange:h,value:d,maxLength:Vd,focused:!1,autoFocus:!0,"data-test":"game-code-input",onFocus:()=>{n==="error"&&l(!0)},onPaste:x=>{x.preventDefault();let b=(x.clipboardData||global.clipboardData).getData("text");b=b.replace(/\s/g,""),h(b.slice(0,Vd))}}),f.jsx(Hl,{maxLength:pS,focused:!1,label:"Your name",placeholder:"Enter your name",value:s,onChange:o,ref:t?c:u,disabled:g,autoFocus:!0,"data-test":"player-name-input"}),f.jsxs(lle,{type:"submit",disabled:g,"data-test":"connect-button",children:[n==="connecting"&&f.jsx(Eh,{size:"1em"}),n==="uninitialised"||a?"Connect":n.toUpperCase()]})]}),(v||S)&&f.jsxs(f.Fragment,{children:[v&&f.jsx("h3",{children:"If it doesn't connect"}),S&&f.jsxs(f.Fragment,{children:[f.jsxs("h3",{children:[f.jsx("strong",{children:f.jsx(Ul,{})})," ","Could not connect:"]}),f.jsxs("h6",{children:["Error code: ",f.jsx("strong",{children:i})]}),f.jsx("br",{}),i==="peer-unavailable"?f.jsxs(f.Fragment,{children:[f.jsx("h4",{children:t===void 0?"Game with this code not found ":"The game seems to be offline "}),t===void 0&&f.jsxs("h5",{children:["1. Is the code ",f.jsx("strong",{children:d.toUpperCase()})," correct?"]}),f.jsxs("h5",{children:[t===void 0?2:1,". Refresh (",f.jsx("strong",{children:"F5"}),") the Karaoke Game on the PC"]}),t!==void 0&&f.jsxs("h5",{children:["2. Scan the"," ",f.jsxs("strong",{children:[f.jsx(wf,{})," QR Code"]})," ","again"]}),f.jsxs("h5",{children:["3. Make sure you are in the same"," ",f.jsxs("strong",{children:[f.jsx(Qd,{})," Wi-Fi"]})]})]}):i==="network"?f.jsxs(f.Fragment,{children:[f.jsx("h4",{children:"No internet access "}),f.jsxs("h5",{children:["Make sure you are in the same"," ",f.jsxs("strong",{children:[f.jsx(Qd,{})," Wi-Fi"]}),"and that it has internet connection"]})]}):f.jsxs(f.Fragment,{children:[f.jsxs("h5",{children:["1. Make sure you are in the same"," ",f.jsxs("strong",{children:[f.jsx(Qd,{})," Wi-Fi"]})]}),f.jsxs("h5",{children:["2. Refresh (",f.jsx("strong",{children:"F5"}),") the Karaoke Game on the PC"]}),f.jsxs("h5",{children:["3. Scan the"," ",f.jsxs("strong",{children:[f.jsx(wf,{})," QR Code"]})," ","again"]})]})]})]})]}):null}const ale=C("form",{target:"e1ey8ze72"})({name:"fvqkyn",styles:"margin-top:2rem;display:flex;flex-direction:column;gap:1rem"}),lle=C(Pe,{target:"e1ey8ze71"})({name:"116s0m5",styles:"margin-bottom:0;height:72px"}),cle=C(Hl,{target:"e1ey8ze70"})({name:"8hhbv6",styles:"input{letter-spacing:2rem;text-align:center;text-transform:uppercase;}"});var Tw={},ule=ot;Object.defineProperty(Tw,"__esModule",{value:!0});var ML=Tw.default=void 0,dle=ule(ut()),fle=f;ML=Tw.default=(0,dle.default)((0,fle.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack");var Iw={},hle=ot;Object.defineProperty(Iw,"__esModule",{value:!0});var jL=Iw.default=void 0,ple=hle(ut()),gle=f;jL=Iw.default=(0,ple.default)((0,gle.jsx)("path",{d:"m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"}),"ArrowForward");var Pw={},mle=ot;Object.defineProperty(Pw,"__esModule",{value:!0});var OL=Pw.default=void 0,vle=mle(ut()),yle=f;OL=Pw.default=(0,vle.default)((0,yle.jsx)("path",{d:"M15 7.5V2H9v5.5l3 3zM7.5 9H2v6h5.5l3-3zM9 16.5V22h6v-5.5l-3-3zM16.5 9l-3 3 3 3H22V9z"}),"Games");var Rw={},Ale=ot;Object.defineProperty(Rw,"__esModule",{value:!0});var VL=Rw.default=void 0,_le=Ale(ut()),ble=f;VL=Rw.default=(0,_le.default)((0,ble.jsx)("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6z"}),"KeyboardArrowDown");var Mw={},Sle=ot;Object.defineProperty(Mw,"__esModule",{value:!0});var LL=Mw.default=void 0,xle=Sle(ut()),wle=f;LL=Mw.default=(0,xle.default)((0,wle.jsx)("path",{d:"M15.41 16.59 10.83 12l4.58-4.59L14 6l-6 6 6 6z"}),"KeyboardArrowLeft");var jw={},Ele=ot;Object.defineProperty(jw,"__esModule",{value:!0});var NL=jw.default=void 0,kle=Ele(ut()),Cle=f;NL=jw.default=(0,kle.default)((0,Cle.jsx)("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6z"}),"KeyboardArrowRight");var Ow={},Tle=ot;Object.defineProperty(Ow,"__esModule",{value:!0});var BL=Ow.default=void 0,Ile=Tle(ut()),Ple=f;BL=Ow.default=(0,Ile.default)((0,Ple.jsx)("path",{d:"M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"}),"KeyboardArrowUp");var Vw={},Rle=ot;Object.defineProperty(Vw,"__esModule",{value:!0});var DL=Vw.default=void 0,Mle=Rle(ut()),jle=f;DL=Vw.default=(0,Mle.default)((0,jle.jsx)("path",{d:"M10.59 9.17 5.41 4 4 5.41l5.17 5.17zM14.5 4l2.04 2.04L4 18.59 5.41 20 17.96 7.46 20 9.5V4zm.33 9.41-1.41 1.41 3.13 3.13L14.5 20H20v-5.5l-2.04 2.04z"}),"Shuffle");var Lw={},Ole=ot;Object.defineProperty(Lw,"__esModule",{value:!0});var pv=Lw.default=void 0,Vle=Ole(ut()),Lle=f;pv=Lw.default=(0,Vle.default)((0,Lle.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search");function Nw(e,t){const[n,r]=y.useState(e);return y.useEffect(()=>{const i=setTimeout(()=>{r(e)},t);return()=>{clearTimeout(i)}},[e,t]),n}function Nle({onSearchStateChange:e}){const[t,n]=y.useState(""),r=y.useRef(null),i=Nw(t,100),s=DJ(i);return y.useEffect(()=>{s!==i&&pn.searchSong(i.trim())},[s,i]),BJ(()=>e==null?void 0:e(!1)),f.jsx(Ble,{onFocus:()=>e==null?void 0:e(!0),onBlur:()=>e==null?void 0:e(!1),maxLength:pS,focused:!1,label:f.jsx(pv,{}),placeholder:"Search for a song",value:t,onChange:n,ref:r,"data-test":"search-song-input"})}const Ble=C(Hl,{target:"e12hs6m40"})({name:"zrd260",styles:"width:100%;margin-bottom:1rem"});function Dle({onSearchStateChange:e}){var s;const[t]=Cs(ee.remoteKeyboardLayout,!0)??[],n=(t==null?void 0:t.horizontal)!==void 0||(t==null?void 0:t["horizontal-vertical"])!==void 0,r=(t==null?void 0:t.vertical)!==void 0||(t==null?void 0:t["horizontal-vertical"])!==void 0,i=o=>()=>{pn.sendKeyStroke(o)};return t!==void 0?f.jsxs($le,{"data-test":"remote-keyboard",children:[((s=t==null?void 0:t.remote)==null?void 0:s.includes("search"))&&f.jsx(Nle,{onSearchStateChange:e}),(n||r)&&f.jsxs(Xy,{children:[f.jsx(Jy,{children:f.jsx(ic,{onClick:i("up"),disabled:!r,"data-disabled":!r,"data-test":"arrow-up",children:f.jsx(BL,{})})}),f.jsxs(Jy,{children:[f.jsx(ic,{onClick:i("left"),disabled:!n,"data-disabled":!n,"data-test":"arrow-left",children:f.jsx(LL,{})}),f.jsx(ic,{disabled:!0,"data-disabled":!0,children:f.jsx(OL,{})}),f.jsx(ic,{onClick:i("right"),disabled:!n,"data-disabled":!n,"data-test":"arrow-right",children:f.jsx(NL,{})})]}),f.jsx(Jy,{children:f.jsx(ic,{onClick:i("down"),disabled:!r,"data-disabled":!r,"data-test":"arrow-down",children:f.jsx(VL,{})})})]}),f.jsxs(Xy,{children:[f.jsx(Zy,{onClick:i("back"),disabled:(t==null?void 0:t.back)===void 0,"data-test":"keyboard-backspace",children:(t==null?void 0:t.back)||f.jsxs(f.Fragment,{children:[f.jsx(ML,{})," Back"]})}),f.jsx(Zy,{onClick:i("accept"),disabled:(t==null?void 0:t.accept)===void 0,"data-test":"keyboard-enter",children:(t==null?void 0:t.accept)||f.jsxs(f.Fragment,{children:["Enter ",f.jsx(jL,{})]})})]}),f.jsx(Fle,{}),f.jsx(Xy,{disabled:(t==null?void 0:t.shiftR)===void 0,"data-test":"keyboard-shift-r",children:f.jsxs(Zy,{onClick:i("random"),children:[f.jsx(DL,{})," ",(t==null?void 0:t.shiftR)||"Random Song"]})})]}):null}const $le=C("div",{target:"epl0eil6"})({name:"17mk58z",styles:"gap:1rem;display:flex;flex-wrap:wrap;margin-bottom:2rem"}),Jy=C("div",{target:"epl0eil5"})({name:"144ujnw",styles:"display:flex;justify-content:center;flex:1;color:white;font-size:2rem"}),Xy=C("div",{target:"epl0eil4"})("display:flex;flex-direction:column;flex:1;justify-content:space-between;opacity:",e=>e.disabled?0:1,";"),Fle=C("div",{target:"epl0eil3"})({name:"1f76xva",styles:"flex-basis:100%;height:0"}),zle=C("button",{target:"epl0eil2"})("background:none;border:none;box-sizing:border-box;margin:0.25rem;width:4.5rem;height:4.5rem;svg{width:2.5rem;height:2.5rem;}opacity:",e=>e.disabled?.25:1,";"),ic=C(zle,{target:"epl0eil1"})({name:"1dzx4ce",styles:"display:flex;align-items:center;justify-content:center;border-radius:0.3rem;border:0.3rem solid rgb(204, 204, 204);border-bottom-color:rgb(130, 130, 130);border-right-color:rgb(130, 130, 130);gap:0.5rem;&[data-disabled='false']{cursor:pointer;&:active{border:0.3rem solid rgb(130, 130, 130);border-bottom-color:rgb(204, 204, 204);border-right-color:rgb(204, 204, 204);}}color:rgb(51, 51, 51);font-weight:normal;font-size:2.5rem;box-shadow:0 0.1rem 0 rgba(0, 0, 0, 0.2),inset 0 0 0 0.2rem #ffffff;background-color:rgb(247, 247, 247);text-shadow:0 0.1rem 0 #fff"}),Zy=C(ic,{target:"epl0eil0"})({name:"1d3w5wq",styles:"width:100%"});var Bw={},Ule=ot;Object.defineProperty(Bw,"__esModule",{value:!0});var gv=Bw.default=void 0,Hle=Ule(ut()),Gle=f;gv=Bw.default=(0,Hle.default)((0,Gle.jsx)("path",{d:"M6.99 11 3 15l3.99 4v-3H14v-2H6.99zM21 9l-3.99-4v3H10v2h7.01v3z"}),"SwapHoriz");function $L({playerNumber:e,id:t,onModalClose:n,header:r}){const[i]=Cs(ee.remoteStyleChanged,!0)??["regular"],s=a=>{pn.requestPlayerChange(t,a),n()},o=e!==null;return f.jsx(zl,{onClose:n,children:f.jsxs(qle,{children:[r&&f.jsx("h2",{children:r}),f.jsx(Pe,{size:"small","data-test":"change-to-player-0",onClick:()=>s(0),disabled:e===0,style:{color:de.colors.players[0].perfect.fill},children:i==="christmas"?"Green":"Blue"}),f.jsx(Pe,{size:"small","data-test":"change-to-player-1",onClick:()=>s(1),disabled:e===1,style:{color:de.colors.players[1].perfect.fill},children:i==="christmas"?"Red":i==="eurovision"?"Violet":"Red"}),f.jsx(Pe,{size:"small","data-test":"change-to-player-2",onClick:()=>s(2),disabled:e===2,style:{color:de.colors.players[2].perfect.fill},children:i==="christmas"?"?????":i==="eurovision"?"Yellow":"Green"}),f.jsx(Pe,{size:"small","data-test":"change-to-player-3",onClick:()=>s(3),disabled:e===3,style:{color:de.colors.players[3].perfect.fill},children:i==="christmas"?"?????":i==="eurovision"?"Pink":"Yellow"}),f.jsx(Pe,{size:"small",onClick:()=>s(null),disabled:!o,"data-test":"change-to-unset",children:"Unassign"}),f.jsx("hr",{}),f.jsx(Pe,{onClick:n,size:"small",children:"Close"})]})})}const qle=C(ns,{target:"e1q747tq0"})({name:"8ixhiv",styles:"gap:0"});function FL({number:e,...t}){const[n]=Cs(ee.remoteStyleChanged,!0)??["regular"],r=H3();return y.useEffect(()=>{r()},[n]),f.jsx(Wle,{style:{background:e!==null?de.colors.players[e].perfect.fill:de.colors.text.inactive},...t})}const Wle=C("div",{target:"e1u9853z0"})({name:"97f0zo",styles:"display:inline-block;width:1em;height:1em;aspect-ratio:1;border-radius:1em"}),Kle=y.memo(function({playerNumber:t}){const[n,r]=y.useState(!1),i=()=>r(!1),s=t!==null;return f.jsxs(f.Fragment,{children:[f.jsxs(Yle,{onClick:()=>r(!0),"data-test":"change-player","data-joined":s,children:[s?f.jsxs(f.Fragment,{children:[f.jsx(FL,{number:t})," Change"]}):"Join game"," ",f.jsx(gv,{})]}),n&&f.jsx($L,{id:pn.getClientId(),playerNumber:t,onModalClose:i})]})}),Yle=C("button",{target:"e1x7ggg80"})("position:absolute;z-index:1;color:white;right:1rem;bottom:1rem;padding:1rem;font-size:2rem;text-transform:uppercase;display:flex;align-items:center;gap:1rem;border:none;",$e,";background:rgba(0, 0, 0, 0.75);&[data-joined='false']{font-size:3rem;padding:3rem;",ru,";}:hover{",ru,";}:active{",cv,";}svg{width:2rem;height:2rem;}");function mv(){const[e]=Cs(ee.remoteMicPermissionsSet,!0)??["write"];return e}function Qle({playerNumber:e,volume:t,frequency:n,isMicOn:r,isConnected:i}){const[s,o]=y.useState(1e-6),a=mv();y.useEffect(()=>{o(u=>t>u?t:u*.99)},[t]);const l=e!==null?de.colors.players[e].miss.stroke:de.colors.lines.normal.fill,c=e!==null?de.colors.players[e].perfect.fill:de.colors.lines.normal.fill;return f.jsxs(Zle,{isMicOn:r,color:l,"data-player-number":`${e??"none"}`,"data-test":"indicator",children:[r&&f.jsx(f.Fragment,{children:f.jsxs(Jle,{children:[n?`${Math.round(n)}Hz`:" ",f.jsx("br",{}),String(t*100).slice(0,5)]})}),i&&a==="write"&&f.jsx(Kle,{playerNumber:e}),f.jsx(Xle,{color:c,style:{transform:`scaleY(${r?1-Math.min(1,t/s):1})`}})]})}const Jle=C("span",{target:"eik0d702"})({name:"1ikzkvw",styles:"position:absolute;color:white;opacity:0.125"}),Xle=C("div",{target:"eik0d701"})("width:100%;height:100%;background-color:",e=>e.color,";transition:200ms;transform-origin:top;"),Zle=C("div",{target:"eik0d700"})("position:relative;border:0.1rem solid white;flex:1;min-height:200px;max-height:100vw;transition:300ms;background:",e=>e.color,";");function XI({isVisible:e,isMicOn:t,isConnected:n}){const[r,i]=y.useState(0),[s,o]=y.useState(0),[a]=Cs(ee.remoteMicPlayerSet,!0)??[null],l=y.useCallback(Rc((c,u)=>{o(c),i(u)},150),[i,o]);return y.useEffect(()=>(cs.startMonitoring(void 0),cs.addListener(l)),[l]),e?f.jsx(f.Fragment,{children:f.jsx(Qle,{volume:r,frequency:s,playerNumber:a,isMicOn:t,isConnected:n})}):null}function ece({}){const[e,t]=y.useState(0);return y.useEffect(()=>{const n=setInterval(()=>{const r=Lr();pn.pinging&&r-pn.pingStart>e?t(r-pn.pingStart):t(pn.latency)},333);return()=>{clearInterval(n)}},[]),f.jsxs(f.Fragment,{children:[e,"ms"]})}function tce({roomId:e,monitoringStarted:t,setMonitoringStarted:n,isKeepAwakeOn:r,setIsKeepAwakeOn:i,connectionError:s,connectionStatus:o}){const a=mv(),[l,c]=y.useState(!1),[u]=Fe(Hb),d=async()=>{var g,m;i(!0);try{!Eae()&&u&&(await document.body.requestFullscreen(),global.screen.orientation.unlock(),await((m=(g=global.screen.orientation).lock)==null?void 0:m.call(g,"portrait")))}catch(_){console.warn(_)}},h=o==="connected",p=f.jsx(XI,{isVisible:!0,isMicOn:t,isConnected:h});return f.jsx(nce,{children:f.jsxs(xh,{showImages:!1,fallback:f.jsxs(f.Fragment,{children:[p,f.jsx("h2",{children:"Please allow access to the microphone."})]}),children:[f.jsxs(ZI,{collapse:l,children:[f.jsx(XI,{isVisible:!0,isMicOn:t,isConnected:h}),f.jsx(ole,{roomId:e,isVisible:!0,connectionStatus:o,onConnect:d,connectionError:s})]}),f.jsxs(ZI,{children:[a==="write"&&f.jsx(Dle,{onSearchStateChange:c}),a==="read"&&f.jsxs(rce,{"data-test":"no-permissions-message",children:["No permission to control the game. Go to in-game ",f.jsx("strong",{children:"Settings"})," menu "," ",f.jsx("strong",{children:"Remote Microphones Settings"})," to manage them."]}),f.jsxs(eP,{onClick:()=>i(!r),children:["WakeLock: ",f.jsx("strong",{children:r?"ON":"OFF"})]}),f.jsxs(zL,{onClick:()=>t?cs.stopMonitoring():cs.startMonitoring(void 0),children:["Microphone: ",f.jsx("strong",{"data-test":"monitoring-state",children:t?"ON":"OFF"})]}),h&&f.jsxs(eP,{children:["Ping: ",f.jsx(ece,{})]})]})]})})}const nce=C("div",{target:"eakh27i4"})({name:"15sh5r0",styles:"font-size:2.6rem;display:flex;flex-direction:column;gap:2rem;padding:1.5rem;box-sizing:border-box;@media (max-height: 500px) and (min-aspect-ratio: 16/10){flex-direction:row;}h5{margin-top:0.5em;svg{font-size:0.9em;}}"}),ZI=C("div",{target:"eakh27i3"})("flex:1;transition:300ms ease-in-out;margin-top:",e=>e.collapse?"-100%":"0",";@media (max-height: 500px) and (min-aspect-ratio: 16/10){margin-top:0;display:flex;flex-direction:column;justify-content:center;}"),zL=C("div",{target:"eakh27i2"})($e," strong{color:",de.colors.text.active,";}align-self:flex-end;"),eP=C(zL,{target:"eakh27i1"})(""),rce=C("h5",{target:"eakh27i0"})({name:"1s76ut5",styles:"padding-bottom:5rem"});function ice({onConfirm:e}){const[t,n]=y.useState(!1),[r,i]=y.useState(!1);y.useEffect(()=>{Oe.session.getItem("reload-mic-request")!==null&&i(!0)},[]),wr(ee.remoteMicPlayerSet,()=>{r&&(i(!1),n(!0))}),wr(ee.remoteReadinessRequested,()=>{n(!0)});const s=()=>{pn.confirmReadiness(),n(!1),e()};return t?f.jsx(sce,{children:f.jsx(ns,{children:f.jsx(oce,{"data-test":"ready-button",onClick:s,children:"Ready"})})}):null}const sce=C("div",{target:"eusdifu1"})({name:"1b0uzsn",styles:"display:flex;flex-direction:column;align-items:center;justify-content:center;position:absolute;top:0;left:0;width:100%;height:100%;backdrop-filter:blur(10px);z-index:1000"}),oce=C(Pe,{target:"eusdifu0"})("aspect-ratio:1;",ru,";");function UL({unit:e="",value:t,onChange:n,step:r=50,disabled:i=!1,...s}){return f.jsxs(lce,{...s,children:[f.jsx(tP,{onClick:()=>n(t-r),disabled:i,"data-test":"numeric-input-down",children:"-"}),f.jsxs(ace,{children:[f.jsx("strong",{"data-test":"numeric-input-value",children:t}),e]}),f.jsx(tP,{onClick:()=>n(t+r),disabled:i,"data-test":"numeric-input-up",children:"+"})]})}const tP=C("button",{target:"e1tear4c2"})("background:black;padding:0.5rem 2rem;border:none;font-size:3rem;",$e,";:disabled{opacity:0.5;}"),ace=C("div",{target:"e1tear4c1"})({name:"2qd0l8",styles:"flex:1;text-align:center"}),lce=C("div",{target:"e1tear4c0"})($e,";display:flex;align-items:center;justify-self:center;background:black;");function cce({}){const[e,t]=y.useState(0),[n,r]=y.useState(!1);y.useEffect(()=>{r(!0),pn.getGameInputLag().then(({value:s})=>t(s)).catch(s=>console.warn(s)).finally(()=>r(!1))},[]);const i=s=>{r(!0),pn.setGameInputLag(s).then(({value:o})=>t(o)).catch(o=>console.warn(o)).finally(()=>r(!1))};return f.jsxs(f.Fragment,{children:[f.jsx("h3",{children:"Adjust game input lag"}),f.jsx(UL,{value:e,onChange:i,disabled:n,unit:"ms","data-test":"game-input-lag"}),f.jsx("h6",{children:"If the sound is not synchronised with the lyrics, use this to compensate it."})]})}function uce(e){y.useEffect(()=>(pn.subscribe("remote-mics"),()=>{pn.unsubscribe("remote-mics")}),[]);const[t]=Cs(ee.remoteMicListUpdated)??[[]];return f.jsxs(f.Fragment,{children:[f.jsx("h3",{children:"Manage Players"}),t.map(n=>f.jsx(dce,{mic:n},n.id)),t.length===0&&f.jsx("h4",{children:"No remote microphones connected"})]})}const dce=({mic:e})=>{var r;const[t,n]=y.useState(!1);return Ze.getPermission(e.id),f.jsxs(fce,{"data-test":"manage-players",children:[t&&f.jsx($L,{id:e.id,playerNumber:e.number,onModalClose:()=>n(!1),header:f.jsxs(f.Fragment,{children:["Change ",f.jsx("strong",{className:"ph-no-capture",children:e.name}),":"]})}),f.jsxs(hce,{onClick:()=>n(!0),"data-test":"remote-mic-entry","data-id":e.id??e.name,size:"small",children:[f.jsx(FL,{number:e.number}),f.jsx(gce,{children:((r=e.id)==null?void 0:r.slice(-4))??"????"}),f.jsx(pce,{className:"ph-no-capture",isSelf:e.id===pn.getClientId(),children:e.name})]})]})},fce=C("div",{target:"e1sg8znb3"})({name:"4zk4ri",styles:"display:flex;flex-direction:column;gap:1rem"}),hce=C(Pe,{target:"e1sg8znb2"})({name:"1n950nl",styles:"display:flex;align-items:center;padding:0 2rem"}),pce=C("div",{target:"e1sg8znb1"})("color:",e=>e.isSelf?`${de.colors.text.active}`:"auto",";text-overflow:ellipsis;overflow:hidden;white-space:nowrap;"),gce=C("span",{target:"e1sg8znb0"})({name:"dcs29c",styles:"font-size:1.5rem;padding:0 1rem"});function nP(){const[e,t]=Fe(r5),[n,r]=y.useState(!1);y.useEffect(()=>{r(!0),pn.getMicrophoneInputLag().then(({value:o})=>t(o)).catch(o=>console.warn(o)).finally(()=>r(!1))},[]);const i=o=>{r(!0),pn.setMicrophoneInputLag(o).then(({value:a})=>t(a)).catch(a=>console.warn(a)).finally(()=>r(!1))},s=()=>{var o;pn.disconnect(),Oe.local.removeItem("remote_mic_name"),Oe.local.removeItem(C1),(o=global.location)==null||o.reload()};return f.jsxs(f.Fragment,{children:[f.jsx(Pe,{onClick:s,size:"small","data-test":"reset-microphone",children:"Reset microphone"}),f.jsxs("h6",{children:[f.jsx("strong",{children:"Note:"})," removes all persisted microphone data (your name, ID etc.)"]}),f.jsx("hr",{}),f.jsx("h3",{children:"Adjust microphone lag"}),f.jsx(UL,{value:e,onChange:i,unit:"ms",disabled:n,step:25,"data-test":"microphone-delay"}),f.jsx("h6",{children:"Adjust the microphone input delay (e.g. if the game doesn't detect you hitting the note on time)"})]})}function mce(){var r;const e=mv(),[t,n]=y.useState(e==="write"?null:"microphone");return f.jsxs(vce,{children:[f.jsxs("h3",{children:["Remote mic ID:"," ",f.jsx("strong",{"data-test":"remote-mic-id",children:((r=pn.getClientId())==null?void 0:r.slice(-4).toUpperCase())??"----"})]}),f.jsx("hr",{}),e==="write"&&t===null&&f.jsxs(f.Fragment,{children:[f.jsx(Pe,{onClick:()=>n("microphone"),size:"small","data-test":"microphone-settings",disabled:t==="microphone",children:"Microphone settings"}),f.jsx(Pe,{onClick:()=>n("manage"),size:"small","data-test":"manage-game",disabled:t==="manage",children:"Manage the game"})]}),e!=="write"&&f.jsx(nP,{}),t!==null&&e==="write"&&f.jsx(zl,{onClose:()=>n(null),children:f.jsxs(ns,{children:[f.jsx(yce,{children:t==="microphone"?"Microphone settings":"Manage game"}),t==="microphone"&&f.jsx(nP,{}),t==="manage"&&f.jsxs(f.Fragment,{children:[f.jsx(uce,{}),f.jsx(cce,{})]}),f.jsx("hr",{}),f.jsx(Pe,{onClick:()=>n(null),size:"small","data-test":"close-modal",children:"Close"})]})})]})}const vce=C("div",{target:"edoha0h1"})({name:"10ti2i0",styles:"flex-grow:1;font-size:2.6rem;display:flex;flex-direction:column;justify-content:center;padding:5rem 1.5rem 1.5rem;box-sizing:border-box;gap:1rem"}),yce=C("h1",{target:"edoha0h0"})({name:"bvcr5v",styles:"font-size:3.25rem!important"});var Ace="__lodash_hash_undefined__";function _ce(e){return this.__data__.set(e,Ace),this}function bce(e){return this.__data__.has(e)}function Gf(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new Oo;++t<n;)this.add(e[t])}Gf.prototype.add=Gf.prototype.push=_ce;Gf.prototype.has=bce;function Sce(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function HL(e,t){return e.has(t)}var xce=1,wce=2;function GL(e,t,n,r,i,s){var o=n&xce,a=e.length,l=t.length;if(a!=l&&!(o&&l>a))return!1;var c=s.get(e),u=s.get(t);if(c&&u)return c==t&&u==e;var d=-1,h=!0,p=n&wce?new Gf:void 0;for(s.set(e,t),s.set(t,e);++d<a;){var g=e[d],m=t[d];if(r)var _=o?r(m,g,d,t,e,s):r(g,m,d,e,t,s);if(_!==void 0){if(_)continue;h=!1;break}if(p){if(!Sce(t,function(v,A){if(!HL(p,A)&&(g===v||i(g,v,n,r,s)))return p.push(A)})){h=!1;break}}else if(!(g===m||i(g,m,n,r,s))){h=!1;break}}return s.delete(e),s.delete(t),h}function Ece(e){var t=-1,n=Array(e.size);return e.forEach(function(r,i){n[++t]=[i,r]}),n}function Dw(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var kce=1,Cce=2,Tce="[object Boolean]",Ice="[object Date]",Pce="[object Error]",Rce="[object Map]",Mce="[object Number]",jce="[object RegExp]",Oce="[object Set]",Vce="[object String]",Lce="[object Symbol]",Nce="[object ArrayBuffer]",Bce="[object DataView]",rP=qi?qi.prototype:void 0,eA=rP?rP.valueOf:void 0;function Dce(e,t,n,r,i,s,o){switch(n){case Bce:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Nce:return!(e.byteLength!=t.byteLength||!s(new Wg(e),new Wg(t)));case Tce:case Ice:case Mce:return a0(+e,+t);case Pce:return e.name==t.name&&e.message==t.message;case jce:case Vce:return e==t+"";case Rce:var a=Ece;case Oce:var l=r&kce;if(a||(a=Dw),e.size!=t.size&&!l)return!1;var c=o.get(e);if(c)return c==t;r|=Cce,o.set(e,t);var u=GL(a(e),a(t),r,i,s,o);return o.delete(e),u;case Lce:if(eA)return eA.call(e)==eA.call(t)}return!1}var $ce=1,Fce=Object.prototype,zce=Fce.hasOwnProperty;function Uce(e,t,n,r,i,s){var o=n&$ce,a=R1(e),l=a.length,c=R1(t),u=c.length;if(l!=u&&!o)return!1;for(var d=l;d--;){var h=a[d];if(!(o?h in t:zce.call(t,h)))return!1}var p=s.get(e),g=s.get(t);if(p&&g)return p==t&&g==e;var m=!0;s.set(e,t),s.set(t,e);for(var _=o;++d<l;){h=a[d];var v=e[h],A=t[h];if(r)var S=o?r(A,v,h,t,e,s):r(v,A,h,e,t,s);if(!(S===void 0?v===A||i(v,A,n,r,s):S)){m=!1;break}_||(_=h=="constructor")}if(m&&!_){var x=e.constructor,b=t.constructor;x!=b&&"constructor"in e&&"constructor"in t&&!(typeof x=="function"&&x instanceof x&&typeof b=="function"&&b instanceof b)&&(m=!1)}return s.delete(e),s.delete(t),m}var Hce=1,iP="[object Arguments]",sP="[object Array]",Sp="[object Object]",Gce=Object.prototype,oP=Gce.hasOwnProperty;function qce(e,t,n,r,i,s){var o=Wi(e),a=Wi(t),l=o?sP:_f(e),c=a?sP:_f(t);l=l==iP?Sp:l,c=c==iP?Sp:c;var u=l==Sp,d=c==Sp,h=l==c;if(h&&qg(e)){if(!qg(t))return!1;o=!0,u=!1}if(h&&!u)return s||(s=new Js),o||T3(e)?GL(e,t,n,r,i,s):Dce(e,t,l,n,r,i,s);if(!(n&Hce)){var p=u&&oP.call(e,"__wrapped__"),g=d&&oP.call(t,"__wrapped__");if(p||g){var m=p?e.value():e,_=g?t.value():t;return s||(s=new Js),i(m,_,n,r,s)}}return h?(s||(s=new Js),Uce(e,t,n,r,i,s)):!1}function $w(e,t,n,r,i){return e===t?!0:e==null||t==null||!wo(e)&&!wo(t)?e!==e&&t!==t:qce(e,t,n,r,$w,i)}var Wce=1,Kce=2;function Yce(e,t,n,r){var i=n.length,s=i,o=!r;if(e==null)return!s;for(e=Object(e);i--;){var a=n[i];if(o&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++i<s;){a=n[i];var l=a[0],c=e[l],u=a[1];if(o&&a[2]){if(c===void 0&&!(l in e))return!1}else{var d=new Js;if(r)var h=r(c,u,l,e,t,d);if(!(h===void 0?$w(u,c,Wce|Kce,r,d):h))return!1}}return!0}function qL(e){return e===e&&!Es(e)}function Qce(e){for(var t=ch(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,qL(i)]}return t}function WL(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}function Jce(e){var t=Qce(e);return t.length==1&&t[0][2]?WL(t[0][0],t[0][1]):function(n){return n===e||Yce(n,e,t)}}function Xce(e,t,n){var r=e==null?void 0:GS(e,t);return r===void 0?n:r}function Zce(e,t){return e!=null&&t in Object(e)}function eue(e,t,n){t=b0(t,e);for(var r=-1,i=t.length,s=!1;++r<i;){var o=uh(t[r]);if(!(s=e!=null&&n(e,o)))break;e=e[o]}return s||++r!=i?s:(i=e==null?0:e.length,!!i&&SS(i)&&wS(o,i)&&(Wi(e)||VS(e)))}function tue(e,t){return e!=null&&eue(e,t,Zce)}var nue=1,rue=2;function iue(e,t){return US(e)&&qL(t)?WL(uh(e),t):function(n){var r=Xce(n,e);return r===void 0&&r===t?tue(n,e):$w(t,r,nue|rue)}}function sue(e){return function(t){return t==null?void 0:t[e]}}function oue(e){return function(t){return GS(t,e)}}function aue(e){return US(e)?sue(uh(e)):oue(e)}function lue(e){return typeof e=="function"?e:e==null?U3:typeof e=="object"?Wi(e)?iue(e[0],e[1]):Jce(e):aue(e)}function cue(e,t,n,r){for(var i=e.length,s=n+(r?1:-1);r?s--:++s<i;)if(t(e[s],s,e))return s;return-1}function uue(e){return e!==e}function due(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}function fue(e,t,n){return t===t?due(e,t,n):cue(e,uue,n)}function hue(e,t){var n=e==null?0:e.length;return!!n&&fue(e,t,0)>-1}function pue(e,t,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function gue(){}var mue=1/0,vue=jc&&1/Dw(new jc([,-0]))[1]==mue?function(e){return new jc(e)}:gue,yue=200;function KL(e,t,n){var r=-1,i=hue,s=e.length,o=!0,a=[],l=a;if(n)o=!1,i=pue;else if(s>=yue){var c=t?null:vue(e);if(c)return Dw(c);o=!1,i=HL,l=new Gf}else l=t?[]:a;e:for(;++r<s;){var u=e[r],d=t?t(u):u;if(u=n||u!==0?u:0,o&&d===d){for(var h=l.length;h--;)if(l[h]===d)continue e;t&&l.push(d),a.push(u)}else i(l,d,n)||(l!==a&&l.push(d),a.push(u))}return a}function Aue(e,t){return e&&e.length?KL(e,lue(t)):[]}const _ue="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='810'%20height='540'%3e%3crect%20width='810'%20height='540'%20fill='%23FCDD09'/%3e%3cpath%20stroke='%23DA121A'%20stroke-width='60'%20d='M0,90H810m0,120H0m0,120H810m0,120H0'/%3e%3c/svg%3e";function bue(){const e=new Intl.DisplayNames(["en"],{type:"language"}),t={};for(let r=0;r<26;r++)for(let i=0;i<26;i++){let s=String.fromCharCode(97+r)+String.fromCharCode(97+i),o=e.of(s);o!==s&&o!==void 0&&(t[o]=s)}return{...t,...{Akan:"ak",Hebrew:"he",Indonesian:"id",Javanese:"jv",Romanian:"ro",Yiddish:"yi",Tagalog:"tl",English:"gb",Korean:"kr",Swedish:"se",Latin:"va",Japanese:"jp",Catalan:"cat",Ukrainian:"ua"}}}const Sue=bue();function YL(e){return Sue[e]}const xue=Object.assign({"./Flag/flags/cat.svg":_ue}),zc=e=>{var s;const[t,n]=y.useState(null),r="isocode"in e?(s=e.isocode)==null?void 0:s.toLowerCase():YL(Array.isArray(e.language)?e.language[0]:e.language);if(y.useLayoutEffect(()=>{r&&n(null)},[r]),!r)return null;const i=xue[`./Flag/flags/${r}.svg`];return f.jsx(wue,{"data-isocode":r,src:i??`https://flagcdn.com/${t??r}.svg`,alt:r,...e,onError:()=>n("un")})},wue=C("img",{target:"e1k9lqhf0"})("");function kh(e=!1){const[t,n]=y.useState(no.getCurrentIndex()),r=y.useRef([]),i=()=>no.getIndex(e).then(n);return y.useEffect(()=>{i()},[]),{data:t??r.current,reload:i,isLoading:t===null}}const aP=()=>({width:global.document.body.clientWidth,height:global.visualViewport.height});function Ch(){const[e,t]=y.useState(aP()),n=y.useCallback(Rc(()=>{t(aP())},1e3),[]);return y.useEffect(()=>(global.addEventListener("resize",n),n(),()=>global.removeEventListener("resize",n)),[]),{...e,handleResize:n}}function QL(){const{width:e,height:t}=Ch();return y.useMemo(()=>parseFloat(getComputedStyle(document.documentElement).fontSize),[e,t])}function Eue(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function kue(...e){return t=>e.forEach(n=>Eue(n,t))}var JL=y.forwardRef((e,t)=>{const{children:n,...r}=e,i=y.Children.toArray(n),s=i.find(Tue);if(s){const o=s.props.children,a=i.map(l=>l===s?y.Children.count(o)>1?y.Children.only(null):y.isValidElement(o)?o.props.children:null:l);return f.jsx(K_,{...r,ref:t,children:y.isValidElement(o)?y.cloneElement(o,void 0,a):null})}return f.jsx(K_,{...r,ref:t,children:n})});JL.displayName="Slot";var K_=y.forwardRef((e,t)=>{const{children:n,...r}=e;if(y.isValidElement(n)){const i=Pue(n);return y.cloneElement(n,{...Iue(r,n.props),ref:t?kue(t,i):i})}return y.Children.count(n)>1?y.Children.only(null):null});K_.displayName="SlotClone";var Cue=({children:e})=>f.jsx(f.Fragment,{children:e});function Tue(e){return y.isValidElement(e)&&e.type===Cue}function Iue(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{s(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function Pue(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Rue(e,t){const n={},r=Object.keys(e);for(let i=0;i<r.length;i++){const s=r[i];t(s)&&(n[s]=e[s])}return n}const Mue=(e={})=>{const t=e.compose||Rr,n=e.shouldForwardProp||(i=>i[0]!=="$"),r=i=>{const s=(o,a=n)=>{const l=(c,...u)=>{const d=typeof c=="function",h=!d&&String.raw({raw:c},...u);return y.forwardRef((p,g)=>{const{className:m,asChild:_,...v}=p,A=typeof o=="function"?o(p):o||{},S=Rue({...A,...v},a),x=_?JL:i,b=d?c(p):h;return y.createElement(x,{ref:g,className:typeof b=="function"?w=>t(b(w),typeof m=="function"?m(w):m):t(b,m),...S})})};return l.transientProps=c=>s(o,typeof c=="function"?d=>!c(d):d=>!c.includes(d)),o===void 0&&(l.attrs=c=>s(c)),l};return s()};return new Proxy(i=>r(i),{get(i,s){return r(s)}})},Bu=Mue();var Fw={},jue=ot;Object.defineProperty(Fw,"__esModule",{value:!0});var Jd=Fw.default=void 0,Oue=jue(ut()),Vue=f;Jd=Fw.default=(0,Oue.default)((0,Vue.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2m-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckBox");var zw={},Lue=ot;Object.defineProperty(zw,"__esModule",{value:!0});var Xd=zw.default=void 0,Nue=Lue(ut()),Bue=f;Xd=zw.default=(0,Nue.default)((0,Bue.jsx)("path",{d:"M19 5v14H5V5zm0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2"}),"CheckBoxOutlineBlank");function Due(e){return String(e).match(/[\d.\-+]*\s*(.*)/)[1]||""}function $ue(e){return parseFloat(e)}const Fue=["theme"];function zue(e){let{theme:t}=e,n=kr(e,Fue);const r=t[H1];return f.jsx(kie,Ve({},n,{themeId:r?H1:void 0,theme:r||t}))}function Uue(e){return Iu("MuiSkeleton",e)}Pu("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);const Hue=["animation","className","component","height","style","variant","width"];let km=e=>e,lP,cP,uP,dP;const Gue=e=>{const{classes:t,variant:n,animation:r,hasChildren:i,width:s,height:o}=e;return dh({root:["root",n,r,i&&"withChildren",i&&!s&&"fitContent",i&&!o&&"heightAuto"]},Uue,t)},que=Ea(lP||(lP=km`
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0.4;
  }

  100% {
    opacity: 1;
  }
`)),Wue=Ea(cP||(cP=km`
  0% {
    transform: translateX(-100%);
  }

  50% {
    /* +0.5s of delay between each loop */
    transform: translateX(100%);
  }

  100% {
    transform: translateX(100%);
  }
`)),Kue=Lo("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],n.animation!==!1&&t[n.animation],n.hasChildren&&t.withChildren,n.hasChildren&&!n.width&&t.fitContent,n.hasChildren&&!n.height&&t.heightAuto]}})(({theme:e,ownerState:t})=>{const n=Due(e.shape.borderRadius)||"px",r=$ue(e.shape.borderRadius);return Ve({display:"block",backgroundColor:e.vars?e.vars.palette.Skeleton.bg:yie(e.palette.text.primary,e.palette.mode==="light"?.11:.13),height:"1.2em"},t.variant==="text"&&{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:`${r}${n}/${Math.round(r/.6*10)/10}${n}`,"&:empty:before":{content:'"\\00a0"'}},t.variant==="circular"&&{borderRadius:"50%"},t.variant==="rounded"&&{borderRadius:(e.vars||e).shape.borderRadius},t.hasChildren&&{"& > *":{visibility:"hidden"}},t.hasChildren&&!t.width&&{maxWidth:"fit-content"},t.hasChildren&&!t.height&&{height:"auto"})},({ownerState:e})=>e.animation==="pulse"&&mi(uP||(uP=km`
      animation: ${0} 2s ease-in-out 0.5s infinite;
    `),que),({ownerState:e,theme:t})=>e.animation==="wave"&&mi(dP||(dP=km`
      position: relative;
      overflow: hidden;

      /* Fix bug in Safari https://bugs.webkit.org/show_bug.cgi?id=68196 */
      -webkit-mask-image: -webkit-radial-gradient(white, black);

      &::after {
        animation: ${0} 2s linear 0.5s infinite;
        background: linear-gradient(
          90deg,
          transparent,
          ${0},
          transparent
        );
        content: '';
        position: absolute;
        transform: translateX(-100%); /* Avoid flash during server-side hydration */
        bottom: 0;
        left: 0;
        right: 0;
        top: 0;
      }
    `),Wue,(t.vars||t).palette.action.hover)),Yue=y.forwardRef(function(t,n){const r=Ru({props:t,name:"MuiSkeleton"}),{animation:i="pulse",className:s,component:o="span",height:a,style:l,variant:c="text",width:u}=r,d=kr(r,Hue),h=Ve({},r,{animation:i,component:o,variant:c,hasChildren:!!d.children}),p=Gue(h);return f.jsx(Kue,Ve({as:o,ref:n,className:Rr(p.root,s),ownerState:h},d,{style:Ve({width:u,height:a},l)}))}),Que=Yue,Jue="data:image/gif;base64,R0lGODlhiQAzAOflAAABAAYAAAACAAcAAAkBAAoDAQsEAxAFABEHABIIABMKABgJAhQLAhsLABwNACANAR0OACEOAyMPACMQACcPACgQASgRAioSACsTACwTACwUAC8WAC4WAzAWADQVADUXATYYAjgYADkZADoaADobAD8aAzscAUEbAD4dAEMdAEUeAkAgAEYfAEUfA0ghAE4hAksjAU8iAFEjAFIkAFMlAFQmAVsmAFcoAFwnAF0oAF8qAmEqAGIrAGMsAGksAWUuAGotAmAwDWwuAGsuA20vAF0zDm4wAG8xAHEyAHIzAXgyAHM0AnU1AHo0AHY2AHw1AH43AIA5AoE6AIM7AIQ8AIk7AIU9AIs8AIc+AIw9AI0+AY4+ApFAAJJBAJNCAJRDAJpCAZVEAJtDAp1EAJxEA55FAKBHAKFIAKJJAKhIAaRKAKVLAKtKAKxLAI5RI5BRJK9NALBOALFPALJQALNRALlQBLtRALxSAL1TAL9UAMFWAMJXAMRYArlbCsZZAMVZA8xYAMhaAM9aANFcAdNdAtVfAMpiDddgAN1fANhhAN9hANljAOFiAeNkAOJkA91mAONlBN5nAdhoDeVmAOdoAO5mAOJqB+9nAOlpAPBpAfFqA654SvNrAOduDvRsAPZtAN5yGONxGvduANh0IPFwB/hvAOtxE+B0Gt90I/lwAOxyFPNxCu5zBud0EvRyANt2Is54Ndp2Krt8S+B1JM95L9V4Ked0HeF2G/txAO1zFvRyDOh1E9x3I895NtV4ML19Rsp7NcN8Qbx9TMl7O8J8R9Z5Kq6AW8h7QrZ/ULh/S7V/VsV9O75+R8t8NsR9QqmCYKeCZpqFcLGBVq+BXJGHe4+HgbeAUaOEZqGEbLaAV6CEcauDXKqDYZuGcZmGd42Ih5KIfJCIgpSId4iKh4uKgv///////////////////////////////////////////////////////////////////////////////////////////////////////////yH5BAEIAP8ALAAAAACJADMAAAj+AP8JHEiwoMGDCBMqXMiwocOHECMSHEexosWLGDNq3Mixo8ePIDtKHPhtGK6TKFOqXInrGcuXMGPKnEmzpspU40YKHBdryICfQIMKFVpHFq6hSJOWSMq0qdOnUH8S8PRN579vrFwI2Mq1q9euALbAwvW1bFkAI8yqXcsWbFu1AArgyqkTHK4Ib8v+sEU279cSfgO3HSAYLFWd35RNKryVAIZUfQujZUy5stu5OsfxCkMZgABFNkOLHk065eGR13ClsBxllbdvsL8h04N0S6/YuIXVifrzyu1vsnbz9g1bt1ANqWDbwiHUd0Wd0PR4rozgUbiB43qRKdtDFV3sxbD+BNbBiiKtLoF7tKLoS3zXAqKwkXMFwquOXFWtpsYF5WsClX6UpQcuroAzUDWr5FDWBLhg89034aQiQ2ARNBgOKTf4BUAFuHgTIQ1dDQCAH8dM8wkBXjHooFWwBdOfVwmsEhs2gJTlh4P5/ROMJgicBUgsOY4zDCaCAQAIL8m40mNgg9CyDCYGfPWEK62c4RUARgJp1VUu+rcKXdgE+BUg2BTETBRmAeBCLA8Ow0SRKsQCyxaBEUCADry4+ZVni7SCAVhYxvndSN8Q82JXMeZHo4DQFBQMLpQIiMsoOX5zDC5iclVCSkZ4BQYuvADzA1cIgNEIBF4tkgaqnqWAijP+J6HJFQ246BIKLrJuRSuoOY40TpchGqALmJlyBYAeZU5kjR5lddELRdh9E6ZXJcwC2zCddgWGMt/A8skEAgyQxyqsoMrVAJioMkgBAjCACS/jfBOMIMYykAo21aQC2FYAqFHMN9BaNY6hXzEgI0WLfoVsQZaKUZYOp/QqUMJcoTALRdh6FQYy45BjChgCuJDKNbng1RUn2qSSIRarhFNVN3cZC4gwz2jiVSXTSOwrsF0JK+0woBTLFZkFjVPMEmV5UAo5Bk17rgnWCpntVgNs+8841mACQBdAmmIuV5iE40saAAzCDF3j7HKEsVjkOcfTuFy35U4Ee2UwLZj+8MH+nnpcU7QpE3pFmCfaNF1jVylcXNLUAgAABjICRRiBHMlgZTJXl4CzjR8G4NINScPg0ZUKnqhtLBjwzr0Tz1wJq0kOKJq18ESuVHCWHxwX5DS/UAuzSyqMOw75VbugYAg037Ty9VaYeIONJRsMS9I1qSy5lSa4/MmvIskMKnDdXTFQCQeNq/WH3wRF80lZIpoxjMQUb1XtJ1eA66kyO51SBCrdWO7VJeEIxy2CYItejYMUODCWHhoxHQF4oEOqW92huhICtgxgdgPhxiL25JkhXEx3QjMBJUhwlscJ5Bu0cAMt4lUusGACHChU4aBQCIdwYckJZuhKFE7hve9NsDH+hPnKB6IwB0VkAhfoo1sNzUICV8DvcFQDgQgAEESN4e8qwthE975histthRPgGEcWhWHAbVyCXZ4hAYi4Mghi6CwzrOOXVwjQg0XgwhbMeIaHBjUOWFxBLQZIxecIsrtwyZFqLwjDIDCRiuH9bXkCuIQ3FEKOVLjAMwMoQAK4UqFBRnBgP/wKDBaRClh4I2AG+cYpdPAerxBiGoOK31dUMIhUxMIa2qDGG/3XlUbIDSHfqAXIyrIE/ERQgmopgBlwUYtT9nAiuiAhV0bFFQKk4RixFFpXmJAKXvTvmSRR3rkE8EKFyCZSX7mgM8DpK/B5BQF/SAW32DmQcOBiAV3+SYP2GrcEXvRKll2hwSe8CTBzsuJyVOTELxECDlHUx26pQN4xrxZHroxrRQ25Bjq5kggfjO5LhNTmuUggCFsioxthPAhWvuaZzC1kHKegguB6UJ6JXs2dXImCK6BBz4lIg1lcKcAn1HAuBpRikgMBaIgEAANFVsITslBpF70StoUUil5ekcNtbPqrUCIgFcx4IzCdkUOuiMAVjQBLI54RUq98IC3GEhEACLCxg4zDazcz0EK0cU+waIIbPY0IKAt2GofwJAld+cEpcGE/Ec2BGN+RpQkqsRpj8YsMV2TYQUNU1ZeuApK4EKvA4ggAYQV2IqoIXOPAkApNsLJxAKD+ApuSWqwBmGAUougCBqq4WkcSJHmQrIReDbo8AmCGqzhtly5Ea1dX2I9fBmCA9QQQg1bkSJaJk0UrgGdFlW72XJ01Z8nAElqbUnSChDEtRLyRitgZq4FbqdAvCwmAEvhTaiEyYSpb2BXhMmQc/KXacRuykaIl12DMNcg2EPEWAFyCrROD4lagdi3GCSAMmf3tVMG7UGBumF/l/W9iZqEJT5g4F8dIKXYqql6HfCMZcmgwHYRBrK4Q4LYAy9i59PvIvP4Xr+cacELGEQ5epGINKDCAASywBEzkgqfYObCMHtLHP3IlCSlZG1e6QAtFSbi+UdMxVzDsXS+iq8Nl9kr+iM0Zi0yoAL4DWIAePHFKZHqlxQQeRQ+09b6SOMyGOlgPwkJ4XzGH63GovApw80pP2IgzyIk2yDikkYoVYIkAVAyiAQpxi/wM1m5T/m+8dGGCrszBGhRRRrE0QJVupULCA9iULnKBCwuHoRQFJMh+zIyJUkQ1IbtWMy4ynEpbkAFLsMVk40yAi2jYuWfSY4ilTsIAYx0iF7k4BSkyYSyh4iIWwNiz4AiwiE5AcgAEAAEPdX2HstDVtwaBRh3SOYAxwLsglXxo+cBCgEHgjyJSLqhVh7GEnxgLAhGQBCg2UO24qoAXvdjglW6Qily4Byx0sBZBoIGLUoeIAZ4gdkH+XLI3r0BAFCInCDVEARcqhuEX/4DGME4RSgN4YhjCkPYyzhgiACyBFacg6lf+wAv2ltyQ1qSFMCTulVQAdiKn8MKVgBBthMDUysYyQk0TEo6NpukKOcdGH36wAf/84Aowt2o4XLFGOQLiGMrIhHu3wiFtwNTCAqDENtjbcK6koGUMs8YgrmQGYDD3G8LQZhrepxBqrI8tYoD5NUzxXGOhKA05NydFakGnpuPLFUdv3A92ca0/kyoV4vgGKSrLLyPAyyKw6cbjZSYNj2Bj9myEZUZIkorQl6UQ+PuGKmS6JwjgYhtWPUkq3taVDaQkgTpMSbu7woGUZKgrV4hJFZ7+wH3uY6ImqaBC95/gBMisJDnYOcV21IKCZl/tF4lgnxFI0dNx4AK+VEM2b8NFgJ9Ik978dyVDkWlyhSUGCBWNU4AEiBQ4QRLWkAqs906C8EH/wF749BVrwHjmRBb7J0f41xX7AheWkRdUlCZ7UlhXMwqXEIFbgQB6oAt1dhWkoALpNAiwlHwmuBaTMYKScSUaIgBCBiGjkApmsAIIUAAVwASUoAvXUCm8gHdAiFQbWBkhyIOB0YEkaHMSQxHSgAqrkAqukAqt4AzVMEPLABOB9Q2lgQvmt4Zu+IbPBBvxghsSQ4d0GC8iZod6qIdzuId++IeAGBt9GIh22IfmdYgGiJiIEBEQADs=",Xue="/prs/284/assets/logo-1e2sNsQM.mp4",Zue="/prs/284/assets/logo-CDt7pIML.webm",ede="/prs/284/assets/pride-CMcO3nTB.png";var MR;(MR=global.location)!=null&&MR.search.includes("pride")&&Oe.session.setItem("pride","true");function Uw(e){const[t]=Fe(pr);return t?null:f.jsxs("div",{className:"relative h-[16.4rem] [view-transition-name:logo]",children:[Oe.session.getItem("pride")==="true"&&f.jsx(fP,{asChild:!0,children:f.jsx("img",{className:"absolute",src:ede,alt:"AllKaraoke Pride logo part 1"})}),f.jsxs(fP,{...e,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,children:[f.jsx("source",{src:Zue,type:"video/webm"}),f.jsx("source",{src:Xue,type:"video/mp4"})]}),f.jsx("img",{className:"absolute w-[13.7rem] h-[5.1rem] bottom-[-0.5rem] right-[-1rem]",src:Jue,alt:"AllKaraoke Pride logo part 2"})]})}const fP=Bu.video`w-[66rem] h-[16.4rem]`;function Hw(){return"chrome"in window}function tde(){return f.jsx(f.Fragment,{children:!Hw()&&f.jsxs(nde,{children:[f.jsxs("h2",{children:["This game is tested in ",f.jsx("strong",{children:"Google Chrome"})," and ",f.jsx("strong",{children:"MS Edge"}),"."]}),"It's not guaranteed to work on other browsers (like the one you use now)."]})})}const nde=C("div",{target:"e95w1v80"})("width:100%;",$e,";text-align:center;background:darkred;padding:3rem 0;margin-top:1rem;h2{margin-top:0;}strong{color:",de.colors.text.active,";}");function XL(){return f.jsx(f.Fragment,{children:f.jsx(rde,{href:"https://github.com/Asvarox/allkaraoke","aria-label":"View source on GitHub",target:"_blank",rel:"noreferrer",children:f.jsxs("svg",{width:"80",height:"80",viewBox:"0 0 250 250",style:{fill:"#151513",color:"#fff",position:"absolute",top:0,border:0,left:0,transform:"scale(-1, 1)"},"aria-hidden":"true",children:[f.jsx("path",{d:"M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"}),f.jsx("path",{d:"M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2",fill:"currentColor",style:{transformOrigin:"13rem 10.6rem"},className:"octo-arm"}),f.jsx("path",{d:"M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z",fill:"currentColor",className:"octo-body"})]})})})}const rde=C("a",{target:"e12hl2500"})({name:"zmsk2c",styles:"&:hover .octo-arm{animation:octocat-wave 560ms ease-in-out;}@keyframes octocat-wave{0 %,100%{transform:rotate(0);}20%,60%{transform:rotate(-25deg);}40%,80%{transform:rotate(10deg);}}@media (max-width: 500px){&:hover .octo-arm{animation:none;}.octo-arm{animation:octocat-wave 560ms ease-in-out;}}view-transition-name:github-ribbon"});function Pa({children:e,supportedBrowsers:t}){return ka(!0),f.jsxs(Do,{children:[f.jsx(XL,{}),f.jsxs(ide,{children:[f.jsx(Uw,{}),t&&f.jsx(tde,{}),f.jsx(ns,{children:e})]})]})}const ide=C("div",{target:"el1pskx0"})({name:"2e2gqg",styles:"display:flex;flex-direction:column;align-items:center;width:100vw;height:100vh;overflow:auto"});var Gw={},Cm=function(){return Cm=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Cm.apply(this,arguments)},sde=function(){function e(t,n,r){var i=this;this.endVal=n,this.options=r,this.version="2.8.0",this.defaults={startVal:0,decimalPlaces:0,duration:2,useEasing:!0,useGrouping:!0,useIndianSeparators:!1,smartEasingThreshold:999,smartEasingAmount:333,separator:",",decimal:".",prefix:"",suffix:"",enableScrollSpy:!1,scrollSpyDelay:200,scrollSpyOnce:!1},this.finalEndVal=null,this.useEasing=!0,this.countDown=!1,this.error="",this.startVal=0,this.paused=!0,this.once=!1,this.count=function(s){i.startTime||(i.startTime=s);var o=s-i.startTime;i.remaining=i.duration-o,i.useEasing?i.countDown?i.frameVal=i.startVal-i.easingFn(o,0,i.startVal-i.endVal,i.duration):i.frameVal=i.easingFn(o,i.startVal,i.endVal-i.startVal,i.duration):i.frameVal=i.startVal+(i.endVal-i.startVal)*(o/i.duration);var a=i.countDown?i.frameVal<i.endVal:i.frameVal>i.endVal;i.frameVal=a?i.endVal:i.frameVal,i.frameVal=Number(i.frameVal.toFixed(i.options.decimalPlaces)),i.printValue(i.frameVal),o<i.duration?i.rAF=requestAnimationFrame(i.count):i.finalEndVal!==null?i.update(i.finalEndVal):i.options.onCompleteCallback&&i.options.onCompleteCallback()},this.formatNumber=function(s){var o,a,l,c,u=s<0?"-":"";o=Math.abs(s).toFixed(i.options.decimalPlaces);var d=(o+="").split(".");if(a=d[0],l=d.length>1?i.options.decimal+d[1]:"",i.options.useGrouping){c="";for(var h=3,p=0,g=0,m=a.length;g<m;++g)i.options.useIndianSeparators&&g===4&&(h=2,p=1),g!==0&&p%h==0&&(c=i.options.separator+c),p++,c=a[m-g-1]+c;a=c}return i.options.numerals&&i.options.numerals.length&&(a=a.replace(/[0-9]/g,function(_){return i.options.numerals[+_]}),l=l.replace(/[0-9]/g,function(_){return i.options.numerals[+_]})),u+i.options.prefix+a+l+i.options.suffix},this.easeOutExpo=function(s,o,a,l){return a*(1-Math.pow(2,-10*s/l))*1024/1023+o},this.options=Cm(Cm({},this.defaults),r),this.formattingFn=this.options.formattingFn?this.options.formattingFn:this.formatNumber,this.easingFn=this.options.easingFn?this.options.easingFn:this.easeOutExpo,this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.endVal=this.validateValue(n),this.options.decimalPlaces=Math.max(this.options.decimalPlaces),this.resetDuration(),this.options.separator=String(this.options.separator),this.useEasing=this.options.useEasing,this.options.separator===""&&(this.options.useGrouping=!1),this.el=typeof t=="string"?document.getElementById(t):t,this.el?this.printValue(this.startVal):this.error="[CountUp] target is null or undefined",typeof window<"u"&&this.options.enableScrollSpy&&(this.error?console.error(this.error,t):(window.onScrollFns=window.onScrollFns||[],window.onScrollFns.push(function(){return i.handleScroll(i)}),window.onscroll=function(){window.onScrollFns.forEach(function(s){return s()})},this.handleScroll(this)))}return e.prototype.handleScroll=function(t){if(t&&window&&!t.once){var n=window.innerHeight+window.scrollY,r=t.el.getBoundingClientRect(),i=r.top+window.pageYOffset,s=r.top+r.height+window.pageYOffset;s<n&&s>window.scrollY&&t.paused?(t.paused=!1,setTimeout(function(){return t.start()},t.options.scrollSpyDelay),t.options.scrollSpyOnce&&(t.once=!0)):(window.scrollY>s||i>n)&&!t.paused&&t.reset()}},e.prototype.determineDirectionAndSmartEasing=function(){var t=this.finalEndVal?this.finalEndVal:this.endVal;this.countDown=this.startVal>t;var n=t-this.startVal;if(Math.abs(n)>this.options.smartEasingThreshold&&this.options.useEasing){this.finalEndVal=t;var r=this.countDown?1:-1;this.endVal=t+r*this.options.smartEasingAmount,this.duration=this.duration/2}else this.endVal=t,this.finalEndVal=null;this.finalEndVal!==null?this.useEasing=!1:this.useEasing=this.options.useEasing},e.prototype.start=function(t){this.error||(this.options.onStartCallback&&this.options.onStartCallback(),t&&(this.options.onCompleteCallback=t),this.duration>0?(this.determineDirectionAndSmartEasing(),this.paused=!1,this.rAF=requestAnimationFrame(this.count)):this.printValue(this.endVal))},e.prototype.pauseResume=function(){this.paused?(this.startTime=null,this.duration=this.remaining,this.startVal=this.frameVal,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count)):cancelAnimationFrame(this.rAF),this.paused=!this.paused},e.prototype.reset=function(){cancelAnimationFrame(this.rAF),this.paused=!0,this.resetDuration(),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.printValue(this.startVal)},e.prototype.update=function(t){cancelAnimationFrame(this.rAF),this.startTime=null,this.endVal=this.validateValue(t),this.endVal!==this.frameVal&&(this.startVal=this.frameVal,this.finalEndVal==null&&this.resetDuration(),this.finalEndVal=null,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count))},e.prototype.printValue=function(t){var n;if(this.el){var r=this.formattingFn(t);!((n=this.options.plugin)===null||n===void 0)&&n.render?this.options.plugin.render(this.el,r):this.el.tagName==="INPUT"?this.el.value=r:this.el.tagName==="text"||this.el.tagName==="tspan"?this.el.textContent=r:this.el.innerHTML=r}},e.prototype.ensureNumber=function(t){return typeof t=="number"&&!isNaN(t)},e.prototype.validateValue=function(t){var n=Number(t);return this.ensureNumber(n)?n:(this.error="[CountUp] invalid start or end value: ".concat(t),null)},e.prototype.resetDuration=function(){this.startTime=null,this.duration=1e3*Number(this.options.duration),this.remaining=this.duration},e}();const ode=Object.freeze(Object.defineProperty({__proto__:null,CountUp:sde},Symbol.toStringTag,{value:"Module"})),ade=io(ode);Object.defineProperty(Gw,"__esModule",{value:!0});var Jn=y,lde=ade;function cde(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function hP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Tm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hP(Object(n),!0).forEach(function(r){ude(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ude(e,t,n){return t=vde(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Y_(){return Y_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Y_.apply(this,arguments)}function dde(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function ZL(e,t){if(e==null)return{};var n=dde(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function fde(e,t){return hde(e)||cde(e,t)||pde(e,t)||gde()}function hde(e){if(Array.isArray(e))return e}function pde(e,t){if(e){if(typeof e=="string")return pP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pP(e,t)}}function pP(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mde(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vde(e){var t=mde(e,"string");return typeof t=="symbol"?t:String(t)}var yde=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?Jn.useLayoutEffect:Jn.useEffect;function ls(e){var t=Jn.useRef(e);return yde(function(){t.current=e}),Jn.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current.apply(void 0,r)},[])}var Ade=function(t,n){var r=n.decimal,i=n.decimals,s=n.duration,o=n.easingFn,a=n.end,l=n.formattingFn,c=n.numerals,u=n.prefix,d=n.separator,h=n.start,p=n.suffix,g=n.useEasing,m=n.useGrouping,_=n.useIndianSeparators,v=n.enableScrollSpy,A=n.scrollSpyDelay,S=n.scrollSpyOnce,x=n.plugin;return new lde.CountUp(t,a,{startVal:h,duration:s,decimal:r,decimalPlaces:i,easingFn:o,formattingFn:l,numerals:c,separator:d,prefix:u,suffix:p,plugin:x,useEasing:g,useIndianSeparators:_,useGrouping:m,enableScrollSpy:v,scrollSpyDelay:A,scrollSpyOnce:S})},_de=["ref","startOnMount","enableReinitialize","delay","onEnd","onStart","onPauseResume","onReset","onUpdate"],bde={decimal:".",separator:",",delay:null,prefix:"",suffix:"",duration:2,start:0,decimals:0,startOnMount:!0,enableReinitialize:!0,useEasing:!0,useGrouping:!0,useIndianSeparators:!1},eN=function(t){var n=Object.fromEntries(Object.entries(t).filter(function(j){var B=fde(j,2),D=B[1];return D!==void 0})),r=Jn.useMemo(function(){return Tm(Tm({},bde),n)},[t]),i=r.ref,s=r.startOnMount,o=r.enableReinitialize,a=r.delay,l=r.onEnd,c=r.onStart,u=r.onPauseResume,d=r.onReset,h=r.onUpdate,p=ZL(r,_de),g=Jn.useRef(),m=Jn.useRef(),_=Jn.useRef(!1),v=ls(function(){return Ade(typeof i=="string"?i:i.current,p)}),A=ls(function(j){var B=g.current;if(B&&!j)return B;var D=v();return g.current=D,D}),S=ls(function(){var j=function(){return A(!0).start(function(){l==null||l({pauseResume:x,reset:b,start:E,update:w})})};a&&a>0?m.current=setTimeout(j,a*1e3):j(),c==null||c({pauseResume:x,reset:b,update:w})}),x=ls(function(){A().pauseResume(),u==null||u({reset:b,start:E,update:w})}),b=ls(function(){A().el&&(m.current&&clearTimeout(m.current),A().reset(),d==null||d({pauseResume:x,start:E,update:w}))}),w=ls(function(j){A().update(j),h==null||h({pauseResume:x,reset:b,start:E})}),E=ls(function(){b(),S()}),T=ls(function(j){s&&(j&&b(),S())});return Jn.useEffect(function(){_.current?o&&T(!0):(_.current=!0,T())},[o,_,T,a,t.start,t.suffix,t.prefix,t.duration,t.separator,t.decimals,t.decimal,t.formattingFn]),Jn.useEffect(function(){return function(){b()}},[b]),{start:E,pauseResume:x,reset:b,update:w,getCountUp:A}},Sde=["className","redraw","containerProps","children","style"],xde=function(t){var n=t.className,r=t.redraw,i=t.containerProps,s=t.children,o=t.style,a=ZL(t,Sde),l=Jn.useRef(null),c=Jn.useRef(!1),u=eN(Tm(Tm({},a),{},{ref:l,startOnMount:typeof s!="function"||t.delay===0,enableReinitialize:!1})),d=u.start,h=u.reset,p=u.update,g=u.pauseResume,m=u.getCountUp,_=ls(function(){d()}),v=ls(function(x){t.preserveValue||h(),p(x)}),A=ls(function(){if(typeof t.children=="function"&&!(l.current instanceof Element)){console.error(`Couldn't find attached element to hook the CountUp instance into! Try to attach "containerRef" from the render prop to a an Element, eg. <span ref={containerRef} />.`);return}m()});Jn.useEffect(function(){A()},[A]),Jn.useEffect(function(){c.current&&v(t.end)},[t.end,v]);var S=r&&t;return Jn.useEffect(function(){r&&c.current&&_()},[_,r,S]),Jn.useEffect(function(){!r&&c.current&&_()},[_,r,t.start,t.suffix,t.prefix,t.duration,t.separator,t.decimals,t.decimal,t.className,t.formattingFn]),Jn.useEffect(function(){c.current=!0},[]),typeof s=="function"?s({countUpRef:l,start:d,reset:h,update:p,pauseResume:g,getCountUp:m}):Jn.createElement("span",Y_({className:n,ref:l,style:o},i),typeof t.start<"u"?m().formattingFn(t.start):"")},qw=Gw.default=xde;Gw.useCountUp=eN;const Ww=e=>y.useMemo(()=>{const t={};e.forEach(r=>{if(!r.language)return;(Array.isArray(r.language)?r.language:[r.language]).forEach(s=>{const o=s.toLowerCase();t[o]||(t[o]={name:s,count:0}),t[o].count=t[o].count+1})});const n=Object.values(t);return n.sort((r,i)=>i.count-r.count),n},[e]),wde=ks()?0:10;function tN({onClose:e,closeText:t}){const{register:n}=zn({onBackspace:e}),[r,i]=Fe($m),{data:s,isLoading:o}=kh(),a=Ww(s),l=y.useMemo(()=>a.filter(({name:p,count:g})=>YL(p)&&g>=wde),[a]),c=y.useMemo(()=>a.filter(({name:p})=>!l.find(g=>g.name===p)).reduce((p,{count:g})=>p+g,0),[a,l]),u=l.filter(({name:p})=>!(r!=null&&r.includes(p))).reduce((p,{count:g})=>p+g,0),d=p=>{r===null?i([p]):r.includes(p)?i(r.filter(g=>g!==p)):i([...r,p])};y.useEffect(()=>{if(r===null&&(navigator!=null&&navigator.languages)){let p=new Intl.DisplayNames(["en"],{type:"language"});const g=navigator==null?void 0:navigator.languages.map(_=>{var v;return(v=p.of(_))==null?void 0:v.toLowerCase()}).filter(Boolean),m=l.map(_=>_.name).filter(_=>!g.some(v=>v.includes(_.toLowerCase()))).filter(_=>_!=="English");m.length&&i(m)}},[r,l]);const h=y.useMemo(()=>l.every(p=>r==null?void 0:r.includes(p.name)),[r,l]);return y.useEffect(()=>{r!=null&&r.find(p=>!l.find(g=>g.name===p))&&i(r.filter(p=>l.find(g=>g.name===p)))},[l,r,i]),f.jsxs(Pa,{children:[f.jsx("h1",{children:"Select Song Languages"}),f.jsxs(Cde,{children:[o&&new Array(6).fill(0).map((p,g)=>f.jsx(Que,{variant:"rectangular",width:"100%",height:"10rem",children:f.jsx(gP,{"data-excluded":!0,focused:!1,children:f.jsx(zc,{language:["English"]})})},g)),l.map(({name:p,count:g})=>{const m=(r==null?void 0:r.includes(p))??!1;return f.jsxs(gP,{"data-excluded":m,...n(`lang-${p}`,()=>d(p)),children:[f.jsx(kde,{children:m?f.jsx(Xd,{}):f.jsx(Jd,{})}),f.jsxs("span",{children:[f.jsx(Tde,{children:p})," (",g," songs)"]}),f.jsx(Ide,{"data-excluded":m,children:f.jsx(zc,{language:[p]})})]},p)}),c>0&&f.jsxs(tA,{children:["and ",f.jsxs("strong",{children:[c," songs"]})," in other languages"]})]}),f.jsxs("h3",{children:["You can always update the selection in ",f.jsx("strong",{children:"Manage Songs"})," menu"]}),f.jsxs(Ede,{children:[f.jsx(Pe,{...n("close-exclude-languages",e,void 0,!0,{disabled:h||o}),children:t}),f.jsxs(tA,{children:["The list will contain"," ",f.jsx("strong",{children:f.jsx(qw,{duration:1,preserveValue:!0,end:u+c})})," ","songs"]}),h&&f.jsxs(tA,{"data-test":"all-languages-excluded-warning",children:[f.jsx("strong",{children:f.jsx(Ul,{})})," ","You excluded all the languages, pick at least one"]})]})]})}const Ede=C("div",{target:"e17pzmm6"})({name:"4zk4ri",styles:"display:flex;flex-direction:column;gap:1rem"}),tA=C("h4",{target:"e17pzmm5"})({name:"2qga7i",styles:"text-align:right"}),kde=C("div",{target:"e17pzmm4"})({name:"18gxnlc",styles:"svg{width:3rem;height:3rem;}"}),Cde=C("div",{target:"e17pzmm3"})({name:"fvqkyn",styles:"margin-top:2rem;display:flex;flex-direction:column;gap:1rem"}),Tde=C("span",{target:"e17pzmm2"})({name:"1jwmbuq",styles:"transition:300ms"}),Ide=C("div",{target:"e17pzmm1"})({name:"5606u9",styles:"transition:300ms;opacity:0.95;&[data-excluded='true']{filter:grayscale(0.6);opacity:0.5;}position:absolute;bottom:0;right:0;img{width:14rem;height:8rem;object-fit:cover;}overflow:hidden;width:14rem;height:8rem"}),gP=C(Pe,{target:"e17pzmm0"})("&[data-excluded='true']{text-decoration:line-through white;opacity:0.5;&[data-focused='false']{background:rgba(0, 0, 0, 0.55);}}",$e,";display:flex;align-items:center;justify-content:flex-start;gap:2rem;font-size:2.5rem;padding-left:3rem;margin:0;height:8rem;position:relative;width:100%;"),Pde=ks()?0:30;function Rde({children:e,languageList:t,excludedLanguages:n,onListChange:r}){const[i,s]=y.useState(!1),o=a=>{n.length===0?r(t.filter(l=>l.name!==a).map(l=>l.name)):n.includes(a)?r(n.filter(l=>l!==a)):n.length===t.length-1?r([]):r([...n,a])};return f.jsxs(f.Fragment,{children:[i&&f.jsx(zl,{onClose:()=>s(!1),children:f.jsx(ns,{className:"!gap-1",children:t.filter(a=>a.count>Pde).map(({name:a,count:l})=>f.jsxs(Pe,{size:"small",onClick:()=>o(a),children:[f.jsx("span",{className:n.length&&!n.includes(a)?"text-active":"",children:a})," ",f.jsxs("small",{className:"text-2xl pl-2",children:["(",l,")"]})]},a))})}),e({open:()=>s(!0)})]})}const Mde=(e,t,n)=>e>=t&&e<n;function jde(e,t){var S,x,b;const n=y.useMemo(()=>{const w=[];return e.groupSizes.forEach((E,T)=>{var j,B;w.push({index:T,type:"group",bottom:(((j=w.at(-1))==null?void 0:j.bottom)??0)+e.groupHeaderHeight,groupIndex:T});for(let D=0;D<E;D++){const q=e.groupSizes.reduce((M,V,P)=>M+(P<T?V:0),0)+D;w.push({index:q,type:"item",bottom:(((B=w.at(-1))==null?void 0:B.bottom)??0)+e.itemHeight,groupIndex:T})}}),w},[e.itemHeight,e.groupHeaderHeight,e.groupSizes]),r=((S=n.at(-1))==null?void 0:S.bottom)??0,i=y.useRef(null),s=((x=i.current)==null?void 0:x.getBoundingClientRect().height)??global.innerHeight,o=y.useCallback(w=>{const E=n.findIndex(j=>j.bottom>w-e.overScan),T=n.findIndex(j=>j.bottom>w+s+e.overScan);return[E,T===-1?n.length:T]},[n,s,e.overScan]),[[a,l],c]=y.useState(o(0));y.useLayoutEffect(()=>{var E;const w=o(((E=i.current)==null?void 0:E.scrollTop)??0);(a!==w[0]||l!==w[1])&&c(w)},[o,e.groupSizes,a,l]),y.useEffect(()=>{if(i.current){const w=()=>{var T;const E=o(((T=i.current)==null?void 0:T.scrollTop)??0);(a!==E[0]||l!==E[1])&&c(E)};return i.current.addEventListener("scroll",w),i.current.scrollTop>r&&i.current.scrollTo({top:0}),()=>{var E;(E=i.current)==null||E.removeEventListener("scroll",w)}}},[a,l,o,r]);const u=y.useCallback((w,E)=>{var T,j;return(((T=n[E])==null?void 0:T.bottom)??0)-(((j=n[w])==null?void 0:j.bottom)??0)},[n]),d=y.useMemo(()=>u(-1,a-1),[a,u]),h=n.slice(0,a).findLastIndex(({type:w})=>w==="group"),p=n.slice(a,l),g=h!==-1?[[]]:[];for(let w=0;w<p.length;w++){const E=p[w];E.type==="group"&&g.push([]),(b=g.at(-1))==null||b.push(E)}y.useImperativeHandle(t,()=>({getItemPositionY:w=>{var E;return(((E=n.find(T=>T.type==="item"&&T.index===w))==null?void 0:E.bottom)??-1)-e.itemHeight},scrollTo:w=>{var E;(E=i.current)==null||E.scrollTo({top:w})},scrollToIndex:async(w,E="auto",T="center")=>{var B,D;const j=n.find(q=>q.type==="item"&&q.index===w);if(j){const q=(e.itemHeight+(T==="center"?(B=i.current)==null?void 0:B.clientHeight:0))/2;(D=i.current)==null||D.scrollTo({top:j.bottom-q,behavior:E})}},scrollToGroup:async(w,E="auto",T="top")=>{var B;const j=n.find(D=>D.type==="group"&&D.index===w);j&&((B=i.current)==null||B.scrollTo({top:j.bottom-e.groupHeaderHeight,behavior:E}))}}));const{Header:m,Footer:_,EmptyPlaceholder:v}=e.components??{},A=n.findIndex(w=>w.type==="item"&&w.index===e.forceRenderItem);return f.jsxs(Vde,{ref:i,children:[f.jsxs(Ode,{style:{height:r,paddingTop:h!==-1?d-e.groupHeaderHeight:d},children:[m&&f.jsx(m,{context:e.context}),n[A]&&!Mde(A,a,l)&&f.jsx(f.Fragment,{children:e.itemContent(n[A].index,n[A].groupIndex,{style:{width:"100%",position:"absolute",top:n[A].bottom-e.itemHeight,left:0,boxSizing:"border-box"},"data-virtualized-bottom":n[A].bottom,"data-virtualized-index":n[A].index})}),g.map((w,E)=>f.jsxs("div",{children:[E===0&&h!==-1&&e.groupContent(n[h].index),w.map(({index:T,type:j,bottom:B,groupIndex:D})=>f.jsx(y.Fragment,{children:j==="group"?e.groupContent(T):e.itemContent(T,D,{"data-virtualized-bottom":B,"data-virtualized-index":T})},`${B}`))]},(w[0]??n[h]).groupIndex))]}),g.length===0&&v&&f.jsx(v,{context:e.context}),_&&f.jsx(_,{context:e.context})]})}const Ode=C("div",{target:"e1c20jfn1"})({name:"100d0a9",styles:"box-sizing:border-box;position:relative"}),Vde=C("div",{target:"e1c20jfn0"})({name:"1wyitvb",styles:"overflow:auto;height:100%;width:100%"}),nN=y.forwardRef(jde),Lde=new Intl.Collator("en",{numeric:!0,sensitivity:"base"}).compare,Q_=1/0,nA=e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),mP="eexxaacctt",Nde="A-Z",Bde="a-z",od=(e,t,n)=>e.replace(Nde,t).replace(Bde,n),vP={unicode:!1,alpha:null,interSplit:"[^A-Za-z\\d']+",intraSplit:"[a-z][A-Z]",intraBound:"[A-Za-z]\\d|\\d[A-Za-z]|[a-z][A-Z]",interLft:0,interRgt:0,interChars:".",interIns:Q_,intraChars:"[a-z\\d']",intraIns:null,intraContr:"'[a-z]{1,2}\\b",intraMode:0,intraSlice:[1,Q_],intraSub:null,intraTrn:null,intraDel:null,intraFilt:(e,t,n)=>!0,sort:(e,t,n)=>{let{idx:r,chars:i,terms:s,interLft2:o,interLft1:a,start:l,intraIns:c,interIns:u}=e;return r.map((d,h)=>h).sort((d,h)=>i[h]-i[d]||c[d]-c[h]||s[h]+o[h]+.5*a[h]-(s[d]+o[d]+.5*a[d])||u[d]-u[h]||l[d]-l[h]||Lde(t[r[d]],t[r[h]]))}},rA=(e,t)=>t==0?"":t==1?e+"??":t==Q_?e+"*?":e+`{0,${t}}?`,yP="(?:\\b|_)";function vv(e){e=Object.assign({},vP,e);let{unicode:t,interLft:n,interRgt:r,intraMode:i,intraSlice:s,intraIns:o,intraSub:a,intraTrn:l,intraDel:c,intraContr:u,intraSplit:d,interSplit:h,intraBound:p,intraChars:g}=e;o??(o=i),a??(a=i),l??(l=i),c??(c=i);let m=e.letters??e.alpha;if(m!=null){let G=m.toLocaleUpperCase(),U=m.toLocaleLowerCase();h=od(h,G,U),d=od(d,G,U),p=od(p,G,U),g=od(g,G,U),u=od(u,G,U)}let _=t?"u":"";const v='".+?"',A=new RegExp(v,"gi"+_),S=new RegExp(`(?:\\s+|^)-(?:${g}+|${v})`,"gi"+_);let{intraRules:x}=e;x==null&&(x=G=>{let U=vP.intraSlice,ne=0,L=0,fe=0,Z=0;if(/[^\d]/.test(G)){let oe=G.length;oe<=4?oe>=3&&(fe=Math.min(l,1),oe==4&&(ne=Math.min(o,1))):(U=s,ne=o,L=a,fe=l,Z=c)}return{intraSlice:U,intraIns:ne,intraSub:L,intraTrn:fe,intraDel:Z}});let b=!!d,w=new RegExp(d,"g"+_),E=new RegExp(h,"g"+_),T=new RegExp("^"+h+"|"+h+"$","g"+_),j=new RegExp(u,"gi"+_);const B=G=>{let U=[];G=G.replace(A,L=>(U.push(L),mP)),G=G.replace(T,"").toLocaleLowerCase(),b&&(G=G.replace(w,L=>L[0]+" "+L[1]));let ne=0;return G.split(E).filter(L=>L!="").map(L=>L===mP?U[ne++]:L)},D=/[^\d]+|\d+/g,q=(G,U=0,ne=!1)=>{let L=B(G);if(L.length==0)return[];let fe=Array(L.length).fill("");L=L.map((le,be)=>le.replace(j,He=>(fe[be]=He,"")));let Z;if(i==1)Z=L.map((le,be)=>{if(le[0]==='"')return nA(le.slice(1,-1));let He="";for(let ze of le.matchAll(D)){let Se=ze[0],{intraSlice:Ee,intraIns:Ke,intraSub:Ye,intraTrn:Re,intraDel:at}=x(Se);if(Ke+Ye+Re+at==0)He+=Se+fe[be];else{let[Tt,en]=Ee,Mt=Se.slice(0,Tt),mn=Se.slice(en),ct=Se.slice(Tt,en);Ke==1&&Mt.length==1&&Mt!=ct[0]&&(Mt+="(?!"+Mt+")");let _t=ct.length,Wt=[Se];if(Ye)for(let Je=0;Je<_t;Je++)Wt.push(Mt+ct.slice(0,Je)+g+ct.slice(Je+1)+mn);if(Re)for(let Je=0;Je<_t-1;Je++)ct[Je]!=ct[Je+1]&&Wt.push(Mt+ct.slice(0,Je)+ct[Je+1]+ct[Je]+ct.slice(Je+2)+mn);if(at)for(let Je=0;Je<_t;Je++)Wt.push(Mt+ct.slice(0,Je+1)+"?"+ct.slice(Je+1)+mn);if(Ke){let Je=rA(g,1);for(let jt=0;jt<_t;jt++)Wt.push(Mt+ct.slice(0,jt)+Je+ct.slice(jt)+mn)}He+="(?:"+Wt.join("|")+")"+fe[be]}}return He});else{let le=rA(g,o);U==2&&o>0&&(le=")("+le+")("),Z=L.map((be,He)=>be[0]==='"'?nA(be.slice(1,-1)):be.split("").map((ze,Se,Ee)=>(o==1&&Se==0&&Ee.length>1&&ze!=Ee[Se+1]&&(ze+="(?!"+ze+")"),ze)).join(le)+fe[He])}let oe=n==2?yP:"",je=r==2?yP:"",Ae=je+rA(e.interChars,e.interIns)+oe;return U>0?ne?Z=oe+"("+Z.join(")"+je+"|"+oe+"(")+")"+je:(Z="("+Z.join(")("+Ae+")(")+")",Z="(.??"+oe+")"+Z+"("+je+".*)"):(Z=Z.join(Ae),Z=oe+Z+je),[new RegExp(Z,"i"+_),L,fe]},M=(G,U,ne)=>{let[L]=q(U);if(L==null)return null;let fe=[];if(ne!=null)for(let Z=0;Z<ne.length;Z++){let oe=ne[Z];L.test(G[oe])&&fe.push(oe)}else for(let Z=0;Z<G.length;Z++)L.test(G[Z])&&fe.push(Z);return fe};let V=!!p,P=new RegExp(h,_),I=new RegExp(p,_);const $=(G,U,ne)=>{let[L,fe,Z]=q(ne,1),[oe]=q(ne,2),je=fe.length,Ae=G.length,le=Array(Ae).fill(0),be={idx:Array(Ae),start:le.slice(),chars:le.slice(),terms:le.slice(),interIns:le.slice(),intraIns:le.slice(),interLft2:le.slice(),interRgt2:le.slice(),interLft1:le.slice(),interRgt1:le.slice(),ranges:Array(Ae)},He=n==1||r==1,ze=0;for(let Se=0;Se<G.length;Se++){let Ee=U[G[Se]],Ke=Ee.match(L),Ye=Ke.index+Ke[1].length,Re=Ye,at=!1,Tt=0,en=0,Mt=0,mn=0,ct=0,_t=0,Wt=0,Je=0,jt=[];for(let ve=0,nt=2;ve<je;ve++,nt+=2){let vn=Ke[nt].toLocaleLowerCase(),dt=fe[ve],rt=dt[0]=='"'?dt.slice(1,-1):dt+Z[ve],tn=rt.length,un=vn.length,Kt=vn==rt;if(!Kt&&Ke[nt+1].length>=tn){let gt=Ke[nt+1].toLocaleLowerCase().indexOf(rt);gt>-1&&(jt.push(Re,un,gt,tn),Re+=O(Ke,nt,gt,tn),vn=rt,un=tn,Kt=!0,ve==0&&(Ye=Re))}if(He||Kt){let gt=Re-1,Ln=Re+un,gr=!1,yn=!1;if(gt==-1||P.test(Ee[gt]))Kt&&Tt++,gr=!0;else{if(n==2){at=!0;break}if(V&&I.test(Ee[gt]+Ee[gt+1]))Kt&&en++,gr=!0;else if(n==1){let wi=Ke[nt+1],ei=Re+un;if(wi.length>=tn){let bt=0,An=!1,Le=new RegExp(rt,"ig"+_),Xe;for(;Xe=Le.exec(wi);){bt=Xe.index;let Un=ei+bt,ti=Un-1;if(ti==-1||P.test(Ee[ti])){Tt++,An=!0;break}else if(I.test(Ee[ti]+Ee[Un])){en++,An=!0;break}}An&&(gr=!0,jt.push(Re,un,bt,tn),Re+=O(Ke,nt,bt,tn),vn=rt,un=tn,Kt=!0,ve==0&&(Ye=Re))}if(!gr){at=!0;break}}}if(Ln==Ee.length||P.test(Ee[Ln]))Kt&&Mt++,yn=!0;else{if(r==2){at=!0;break}if(V&&I.test(Ee[Ln-1]+Ee[Ln]))Kt&&mn++,yn=!0;else if(r==1){at=!0;break}}Kt&&(ct+=tn,gr&&yn&&_t++)}if(un>tn&&(Je+=un-tn),ve>0&&(Wt+=Ke[nt-1].length),!e.intraFilt(rt,vn,Re)){at=!0;break}ve<je-1&&(Re+=un+Ke[nt+1].length)}if(!at){be.idx[ze]=G[Se],be.interLft2[ze]=Tt,be.interLft1[ze]=en,be.interRgt2[ze]=Mt,be.interRgt1[ze]=mn,be.chars[ze]=ct,be.terms[ze]=_t,be.interIns[ze]=Wt,be.intraIns[ze]=Je,be.start[ze]=Ye;let ve=Ee.match(oe),nt=ve.index+ve[1].length,vn=jt.length,dt=vn>0?0:1/0,rt=vn-4;for(let gt=2;gt<ve.length;){let Ln=ve[gt].length;if(dt<=rt&&jt[dt]==nt){let gr=jt[dt+1],yn=jt[dt+2],wi=jt[dt+3],ei=gt,bt="";for(let An=0;An<gr;ei++)bt+=ve[ei],An+=ve[ei].length;ve.splice(gt,ei-gt,bt),nt+=O(ve,gt,yn,wi),dt+=4}else nt+=Ln,gt++}nt=ve.index+ve[1].length;let tn=be.ranges[ze]=[],un=nt,Kt=nt;for(let gt=2;gt<ve.length;gt++){let Ln=ve[gt].length;nt+=Ln,gt%2==0?Kt=nt:Ln>0&&(tn.push(un,Kt),un=Kt=nt)}Kt>un&&tn.push(un,Kt),ze++}}if(ze<G.length)for(let Se in be)be[Se]=be[Se].slice(0,ze);return be},O=(G,U,ne,L)=>{let fe=G[U]+G[U+1].slice(0,ne);return G[U-1]+=fe,G[U]=G[U+1].slice(ne,ne+L),G[U+1]=G[U+1].slice(ne+L),fe.length},z=5,N=(G,U,ne,L=1e3,fe)=>{ne=ne?ne===!0?z:ne:0;let Z=null,oe=null,je=[];U=U.replace(S,Se=>{let Ee=Se.trim().slice(1);return Ee[0]==='"'&&(Ee=nA(Ee.slice(1,-1))),je.push(Ee),""});let Ae=B(U),le;if(je.length>0){if(le=new RegExp(je.join("|"),"i"+_),Ae.length==0){let Se=[];for(let Ee=0;Ee<G.length;Ee++)le.test(G[Ee])||Se.push(Ee);return[Se,null,null]}}else if(Ae.length==0)return[null,null,null];if(ne>0){let Se=B(U);if(Se.length>1){let Ee=Se.slice().sort((Ye,Re)=>Re.length-Ye.length);for(let Ye=0;Ye<Ee.length;Ye++){if((fe==null?void 0:fe.length)==0)return[[],null,null];fe=M(G,Ee[Ye],fe)}if(Se.length>ne)return[fe,null,null];Z=rN(Se).map(Ye=>Ye.join(" ")),oe=[];let Ke=new Set;for(let Ye=0;Ye<Z.length;Ye++)if(Ke.size<fe.length){let Re=fe.filter(Tt=>!Ke.has(Tt)),at=M(G,Z[Ye],Re);for(let Tt=0;Tt<at.length;Tt++)Ke.add(at[Tt]);oe.push(at)}else oe.push([])}}Z==null&&(Z=[U],oe=[(fe==null?void 0:fe.length)>0?fe:M(G,U)]);let be=null,He=null;if(je.length>0&&(oe=oe.map(Se=>Se.filter(Ee=>!le.test(G[Ee])))),oe.reduce((Se,Ee)=>Se+Ee.length,0)<=L){be={},He=[];for(let Se=0;Se<oe.length;Se++){let Ee=oe[Se];if(Ee==null||Ee.length==0)continue;let Ke=Z[Se],Ye=$(Ee,G,Ke),Re=e.sort(Ye,G,Ke);if(Se>0)for(let at=0;at<Re.length;at++)Re[at]+=He.length;for(let at in Ye)be[at]=(be[at]??[]).concat(Ye[at]);He=He.concat(Re)}}return[[].concat(...oe),be,He]};return{search:(...G)=>N(...G),split:B,filter:M,info:$,sort:e.sort}}const Dde=(()=>{let e={A:"",a:"",E:"",e:"",I:"",i:"",O:"",o:"",U:"",u:"",C:"",c:"",L:"",l:"",N:"",n:"",S:"",s:"",Z:"",z:""},t=new Map,n="";for(let s in e)e[s].split("").forEach(o=>{n+=o,t.set(o,s)});let r=new RegExp(`[${n}]`,"g"),i=s=>t.get(s);return s=>{if(typeof s=="string")return s.replace(r,i);let o=Array(s.length);for(let a=0;a<s.length;a++)o[a]=s[a].replace(r,i);return o}})();function rN(e){e=e.slice();let t=e.length,n=[e.slice()],r=new Array(t).fill(0),i=1,s,o;for(;i<t;)r[i]<i?(s=i%2&&r[i],o=e[i],e[i]=e[s],e[s]=o,++r[i],i=1,n.push(e.slice())):(r[i]=0,++i);return n}const $de=(e,t)=>t?`<mark>${e}</mark>`:e,Fde=(e,t)=>e+t;function zde(e,t,n=$de,r="",i=Fde){r=i(r,n(e.substring(0,t[0]),!1))??r;for(let s=0;s<t.length;s+=2){let o=t[s],a=t[s+1];r=i(r,n(e.substring(o,a),!0))??r,s<t.length-3&&(r=i(r,n(e.substring(t[s+1],t[s+2]),!1))??r)}return r=i(r,n(e.substring(t[t.length-1]),!1))??r,r}vv.latinize=Dde;vv.permute=e=>rN([...Array(e.length).keys()]).sort((n,r)=>{for(let i=0;i<n.length;i++)if(n[i]!=r[i])return n[i]-r[i];return 0}).map(n=>n.map(r=>e[r]));vv.highlight=zde;const Ude=(e,t,n)=>{const r=Ww(e);return y.useMemo(()=>n?[]:[{name:"Selection",Wrapper:({children:a,active:l,focused:c})=>f.jsx(Use,{...l&&c?{open:!0}:{},oneTime:!1,timeoutMs:15e3,dismissKey:"selection-playlist",place:"right",title:f.jsxs(f.Fragment,{children:["A combination of songs you might like and popular with other players.",f.jsx("br",{}),f.jsx("br",{})," ",f.jsx("strong",{children:"Search"})," is performed across all the songs."]}),children:a}),display:f.jsxs("span",{children:[f.jsx("strong",{children:""}),"Selection",f.jsx("strong",{children:""})]}),filters:{specificSongs:t}},{name:"All",filters:{}},r[0]?{name:r[0].name,filters:{language:r[0].name}}:null,r[1]?{name:r[1].name,filters:{language:r[1].name}}:null,{name:"Oldies",filters:{yearBefore:1995}},{name:"Modern",filters:{yearAfter:1995}},{name:"Duets",filters:{duet:!0}},{name:"New",filters:{recentlyUpdated:!0}}].filter(a=>a!==null),[r,n,t])},AP=e=>Al((e==null?void 0:e.search)??"").length>2,_P={},Hde=/[^0-9a-z ]/gi,iA=e=>_S(e).toLowerCase().replace(Hde,"");function iN(e,t){const n=Al(t);if(n.length>0){const r=new vv({}),[,i,s]=r.search(e.map(o=>`${iA(o.artist)} ${iA(o.title)}`),iA(t));return s&&i?s.map(o=>e[i.idx[o]]):e.filter(o=>o.search.includes(n))}return e}const Im={language:(e,t)=>t===""?e:e.filter(n=>n.language.includes(t)),excludeLanguages:(e,t=[],n)=>t.length===0||AP(n)||n.edition==="esc"?e:e.filter(r=>!r.language.every(i=>t.includes(i))),search:(e,t)=>iN(e,t),duet:(e,t)=>t===null?e:e.filter(n=>t?n.tracksCount>1:n.tracksCount===1),yearBefore:(e,t)=>t?e.filter(n=>Number(n.year)<t):e,yearAfter:(e,t)=>t?e.filter(n=>Number(n.year)>=t):e,edition:(e,t)=>Al(t).length?e.filter(r=>Al(r.edition??"").includes(t)):e,recentlyUpdated:e=>{const t=ms().subtract(31,"days");return e.filter(n=>n.lastUpdate&&ms(n.lastUpdate).isAfter(t))},specificSongs:(e,t,n)=>AP(n)?e:e.filter(r=>t.includes(r.id))},bP=(e,t)=>Object.entries(t).filter(n=>n[0]in Im).reduce((n,[r,i])=>Im[r](n,i,t,e),e),Gde=(e,t,n)=>{var g;const[r]=Fe($m),i=y.useMemo(()=>bP(e,{excludeLanguages:r??[]}),[e,r]),s=Ude(i,t,n),[o,a]=y.useState(new URLSearchParams((g=global.location)==null?void 0:g.search).get("playlist")??null),l=m=>{var v;const _=new URL((v=global.location)==null?void 0:v.href);_.searchParams.set("playlist",m),global.history.replaceState(null,"",_.toString()),a(m)},c=s.find(m=>m.name===o)??s[0],[u,d]=y.useState(_P);y.useEffect(()=>{d(_P)},[o]);const h=y.useDeferredValue(u),p=y.useMemo(()=>bP(e,{...(c==null?void 0:c.filters)??{},...h,excludeLanguages:r??[]}),[e,h,r,c]);return{filters:u,filteredList:p,setFilters:d,selectedPlaylist:o,setSelectedPlaylist:l,playlists:s,playlist:c}},qde=hv("remote-mic-saved-songs");function Wde({roomId:e,monitoringStarted:t,setMonitoringStarted:n,isKeepAwakeOn:r,setIsKeepAwakeOn:i,connectionError:s,connectionStatus:o}){const[a]=Cs(ee.remoteKeyboardLayout,!0)??[],l=mv(),c=kh(),[u,d]=y.useState();y.useEffect(()=>{o==="connected"&&u===void 0&&pn.getSongList().then(d).catch(console.warn)},[u,o]);const h=y.useMemo(()=>Aue(c.data.map(j=>({...j,id:no.generateSongFile(j)})).filter(j=>!((u==null?void 0:u.deleted)??[]).includes(j.id)).map(j=>({id:j.id,artist:j.artist,title:j.title,video:j.video,language:j.language,search:j.search})).concat(...((u==null?void 0:u.custom)??[]).map(j=>({...j,id:no.generateSongFile(j)}))),j=>j.id),[c.data,u]),p=Ww(h),[g,m]=y.useState(""),[_,v]=y.useState([]),[A,S]=qde([]),[x,b]=y.useState("list"),w=QL(),E=j=>{b(j),m("")},T=y.useMemo(()=>{if(x==="list"){const j=iN(h,g);return j.length!==h.length?j:h.filter(B=>!B.language.every(D=>_.includes(D)))}else return A.map(j=>h.find(B=>B.id===j)).filter(Boolean)},[g,h,x,A,_]);return f.jsxs(Kde,{children:[f.jsxs(Yde,{children:[f.jsx(Hl,{focused:!1,label:f.jsx(pv,{}),placeholder:"Search for a song",value:g,onChange:j=>m(j),"data-test":"search-input"}),f.jsxs(Qde,{children:[f.jsx(sA,{"data-active":x==="list",onClick:()=>E("list"),children:"All songs"}),f.jsxs(sA,{"data-active":x==="queue",onClick:()=>E("queue"),children:["Your list (",A.length,")"]}),f.jsx(Rde,{excludedLanguages:_,languageList:p,onListChange:v,children:({open:j})=>f.jsx(sA,{className:"!flex-grow-[0.3]",onClick:j,"data-active":_.length>0&&x==="list"?!0:void 0,children:""})})]})]}),f.jsx(nN,{forceRenderItem:-1,overScan:100,components:{},context:{},groupSizes:[T.length],groupHeaderHeight:1,groupContent:()=>null,itemHeight:w*7+1,itemContent:(j,B,D)=>{var V;const q=T[j],M=A.includes(q.id);return f.jsxs(Jde,{className:M?"!bg-black !bg-opacity-35":"","data-test":q.id,...D,children:[f.jsx(Xde,{children:f.jsx(zc,{language:q.language})}),f.jsxs(Zde,{children:[f.jsx(tfe,{children:q.title}),f.jsx(efe,{children:q.artist})]}),f.jsxs(nfe,{children:[((V=a==null?void 0:a.remote)==null?void 0:V.includes("select-song"))&&l==="write"&&f.jsx(SP,{onClick:P=>{P.stopPropagation(),pn.selectSong(q.id)},children:"SELECT"}),M?f.jsx(SP,{onClick:P=>{P.stopPropagation(),S(I=>I.filter($=>$!==q.id))},children:"-"}):f.jsx(sN,{onClick:P=>{P.stopPropagation(),S(I=>[...I,q.id])},children:"+"})]})]})}})]})}const Kde=C("div",{target:"emsrjbt9"})({name:"lrzqpm",styles:"display:flex;flex-direction:column;position:relative;flex:1 1 auto;min-height:calc(100vh - 6rem);max-height:calc(100vh - 6rem)"}),Yde=C("div",{target:"emsrjbt8"})($e,";font-size:2.5rem;display:flex;flex-direction:column;"),Qde=C("div",{target:"emsrjbt7"})({name:"7whenc",styles:"display:flex;width:100%"}),sA=C("button",{target:"emsrjbt6"})("border:none;flex:1;display:flex;align-items:center;justify-content:center;min-width:4rem;height:4rem;background:rgba(0, 0, 0, 0.75);",$e,";font-size:2rem;transition:300ms;&[data-active='true']{background:",de.colors.text.active,";}&[data-active='false']{box-shadow:inset 0px 0px 0px 2px orange;}"),Jde=C("div",{target:"emsrjbt5"})({name:"16qu2op",styles:"background:rgba(0, 0, 0, 0.15);display:flex;align-items:center;height:7rem;padding:0 1rem;gap:1rem;border-bottom:1px solid black;overflow:hidden;position:relative;transition:100ms"}),Xde=C("div",{target:"emsrjbt4"})({name:"1xmi6sr",styles:"img{height:3rem;width:3rem;object-fit:cover;border-radius:3rem;border:0.1rem black solid;aspect-ratio:1;}"}),Zde=C("div",{target:"emsrjbt3"})({name:"tpuoeb",styles:"display:flex;flex-direction:column;justify-content:space-between;gap:1rem"}),efe=C("span",{target:"emsrjbt2"})("color:",de.colors.text.default,";font-size:1.25rem;white-space:nowrap;"),tfe=C("span",{target:"emsrjbt1"})("color:",de.colors.text.active,";font-size:1.5rem;white-space:nowrap;"),nfe=C("div",{target:"emsrjbt0"})({name:"1m2flic",styles:"position:absolute;top:0;right:0;display:flex;height:7rem;align-items:center;justify-content:center;gap:1rem;padding-right:1rem"}),sN=Bu.button`transition-all duration-300 active:text-text-default active:bg-active typography p-[1rem] min-w-[4rem] h-[4rem] rounded-full text-center bg-black text-[1.5rem] border-none cursor-pointer transition-[300ms]`,SP=Bu(sN)`text-active`,xp=new vX;function rfe(){const e=w0("room"),[t]=Cs(ee.remoteStyleChanged,!0)??["regular"];y.useLayoutEffect(()=>{$M(t)},[t]),ka(!0,t);const[n,r]=y.useState("microphone"),[i,s]=Cs(ee.karaokeConnectionStatusChange)??["uninitialised"],[o,a]=y.useState(!1);wr(ee.micMonitoringStarted,()=>a(!0)),wr(ee.micMonitoringStopped,()=>a(!1));const[l,c]=y.useState(!1),u=async h=>{try{h&&!xp.isEnabled?await xp.enable():!h&&xp.isEnabled&&await xp.disable(),c(h)}catch(p){console.warn("Couldn't set wakelock",p)}},d=()=>{u(!0)};return f.jsxs(Do,{children:[f.jsx(ice,{onConfirm:d}),f.jsx(TX,{size:10}),f.jsx(sfe,{id:"phone-ui-container",children:f.jsxs(f.Fragment,{children:[n==="microphone"&&f.jsx(tce,{roomId:e,monitoringStarted:o,setMonitoringStarted:a,connectionStatus:i,setIsKeepAwakeOn:c,isKeepAwakeOn:l,connectionError:s}),n==="song-list"&&f.jsx(Wde,{roomId:e,monitoringStarted:o,setMonitoringStarted:a,connectionStatus:i,setIsKeepAwakeOn:c,isKeepAwakeOn:l,connectionError:s}),n==="settings"&&f.jsx(mce,{}),f.jsx(ife,{}),f.jsx(hae,{setActiveTab:r,active:n})]})})]})}const ife=C("div",{target:"e1ky75ep1"})({name:"4x3vzu",styles:"height:6rem;@media (max-height: 500px) and (min-aspect-ratio: 16/10){height:0;}"}),sfe=C("div",{target:"e1ky75ep0"})({name:"1tjfysn",styles:"margin:0 auto;width:100%;max-width:400px;box-sizing:border-box;min-height:100vh;max-height:100vh;background:rgba(0, 0, 0, 0.5);display:flex;flex-direction:column;@media (max-height: 500px) and (min-aspect-ratio: 16/10){max-width:960px;}"});function Ra(e){const[t]=Fe(Fm),[n]=Fe(Ub),r=t==="christmas"?a3:n==="Classic"?o3:s3;y.useEffect(()=>{e?r.playing()||r.play(!1):r.stop()},[e])}function ofe(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var oN=y,afe=ofe(oN);function xP(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lfe(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var cfe=!!(typeof window<"u"&&window.document&&window.document.createElement);function ufe(e,t,n){if(typeof e!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof t!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof n<"u"&&typeof n!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function r(i){return i.displayName||i.name||"Component"}return function(s){if(typeof s!="function")throw new Error("Expected WrappedComponent to be a React component.");var o=[],a;function l(){a=e(o.map(function(u){return u.props})),c.canUseDOM?t(a):n&&(a=n(a))}var c=function(u){lfe(d,u);function d(){return u.apply(this,arguments)||this}d.peek=function(){return a},d.rewind=function(){if(d.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var g=a;return a=void 0,o=[],g};var h=d.prototype;return h.UNSAFE_componentWillMount=function(){o.push(this),l()},h.componentDidUpdate=function(){l()},h.componentWillUnmount=function(){var g=o.indexOf(this);o.splice(g,1),l()},h.render=function(){return afe.createElement(s,this.props)},d}(oN.PureComponent);return xP(c,"displayName","SideEffect("+r(s)+")"),xP(c,"canUseDOM",cfe),c}}var dfe=ufe;const ffe=hr(dfe);var hfe=typeof Element<"u",pfe=typeof Map=="function",gfe=typeof Set=="function",mfe=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function fg(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,i;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!fg(e[r],t[r]))return!1;return!0}var s;if(pfe&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(s=e.entries();!(r=s.next()).done;)if(!t.has(r.value[0]))return!1;for(s=e.entries();!(r=s.next()).done;)if(!fg(r.value[1],t.get(r.value[0])))return!1;return!0}if(gfe&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(s=e.entries();!(r=s.next()).done;)if(!t.has(r.value[0]))return!1;return!0}if(mfe&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;if(hfe&&e instanceof Element)return!1;for(r=n;r--!==0;)if(!((i[r]==="_owner"||i[r]==="__v"||i[r]==="__o")&&e.$$typeof)&&!fg(e[i[r]],t[i[r]]))return!1;return!0}return e!==e&&t!==t}var vfe=function(t,n){try{return fg(t,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const yfe=hr(vfe);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var wP=Object.getOwnPropertySymbols,Afe=Object.prototype.hasOwnProperty,_fe=Object.prototype.propertyIsEnumerable;function bfe(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function Sfe(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(s){return t[s]});if(r.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(s){i[s]=s}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var xfe=Sfe()?Object.assign:function(e,t){for(var n,r=bfe(e),i,s=1;s<arguments.length;s++){n=Object(arguments[s]);for(var o in n)Afe.call(n,o)&&(r[o]=n[o]);if(wP){i=wP(n);for(var a=0;a<i.length;a++)_fe.call(n,i[a])&&(r[i[a]]=n[i[a]])}}return r};const wfe=hr(xfe);var fl={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},qe={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(qe).map(function(e){return qe[e]});var Jt={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},Pm={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},qf={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},Efe=Object.keys(Pm).reduce(function(e,t){return e[Pm[t]]=t,e},{}),kfe=[qe.NOSCRIPT,qe.SCRIPT,qe.STYLE],vs="data-react-helmet",Cfe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tfe=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},Ife=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),zr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pfe=function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},EP=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},Rfe=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e},J_=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},Mfe=function(t){var n=Uc(t,qe.TITLE),r=Uc(t,qf.TITLE_TEMPLATE);if(r&&n)return r.replace(/%s/g,function(){return Array.isArray(n)?n.join(""):n});var i=Uc(t,qf.DEFAULT_TITLE);return n||i||void 0},jfe=function(t){return Uc(t,qf.ON_CHANGE_CLIENT_STATE)||function(){}},oA=function(t,n){return n.filter(function(r){return typeof r[t]<"u"}).map(function(r){return r[t]}).reduce(function(r,i){return zr({},r,i)},{})},Ofe=function(t,n){return n.filter(function(r){return typeof r[qe.BASE]<"u"}).map(function(r){return r[qe.BASE]}).reverse().reduce(function(r,i){if(!r.length)for(var s=Object.keys(i),o=0;o<s.length;o++){var a=s[o],l=a.toLowerCase();if(t.indexOf(l)!==-1&&i[l])return r.concat(i)}return r},[])},ad=function(t,n,r){var i={};return r.filter(function(s){return Array.isArray(s[t])?!0:(typeof s[t]<"u"&&Bfe("Helmet: "+t+' should be of type "Array". Instead found type "'+Cfe(s[t])+'"'),!1)}).map(function(s){return s[t]}).reverse().reduce(function(s,o){var a={};o.filter(function(h){for(var p=void 0,g=Object.keys(h),m=0;m<g.length;m++){var _=g[m],v=_.toLowerCase();n.indexOf(v)!==-1&&!(p===Jt.REL&&h[p].toLowerCase()==="canonical")&&!(v===Jt.REL&&h[v].toLowerCase()==="stylesheet")&&(p=v),n.indexOf(_)!==-1&&(_===Jt.INNER_HTML||_===Jt.CSS_TEXT||_===Jt.ITEM_PROP)&&(p=_)}if(!p||!h[p])return!1;var A=h[p].toLowerCase();return i[p]||(i[p]={}),a[p]||(a[p]={}),i[p][A]?!1:(a[p][A]=!0,!0)}).reverse().forEach(function(h){return s.push(h)});for(var l=Object.keys(a),c=0;c<l.length;c++){var u=l[c],d=wfe({},i[u],a[u]);i[u]=d}return s},[]).reverse()},Uc=function(t,n){for(var r=t.length-1;r>=0;r--){var i=t[r];if(i.hasOwnProperty(n))return i[n]}return null},Vfe=function(t){return{baseTag:Ofe([Jt.HREF,Jt.TARGET],t),bodyAttributes:oA(fl.BODY,t),defer:Uc(t,qf.DEFER),encode:Uc(t,qf.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:oA(fl.HTML,t),linkTags:ad(qe.LINK,[Jt.REL,Jt.HREF],t),metaTags:ad(qe.META,[Jt.NAME,Jt.CHARSET,Jt.HTTPEQUIV,Jt.PROPERTY,Jt.ITEM_PROP],t),noscriptTags:ad(qe.NOSCRIPT,[Jt.INNER_HTML],t),onChangeClientState:jfe(t),scriptTags:ad(qe.SCRIPT,[Jt.SRC,Jt.INNER_HTML],t),styleTags:ad(qe.STYLE,[Jt.CSS_TEXT],t),title:Mfe(t),titleAttributes:oA(fl.TITLE,t)}},X_=function(){var e=Date.now();return function(t){var n=Date.now();n-e>16?(e=n,t(n)):setTimeout(function(){X_(t)},0)}}(),kP=function(t){return clearTimeout(t)},Lfe=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||X_:global.requestAnimationFrame||X_,Nfe=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||kP:global.cancelAnimationFrame||kP,Bfe=function(t){return console&&typeof console.warn=="function"&&console.warn(t)},ld=null,Dfe=function(t){ld&&Nfe(ld),t.defer?ld=Lfe(function(){CP(t,function(){ld=null})}):(CP(t),ld=null)},CP=function(t,n){var r=t.baseTag,i=t.bodyAttributes,s=t.htmlAttributes,o=t.linkTags,a=t.metaTags,l=t.noscriptTags,c=t.onChangeClientState,u=t.scriptTags,d=t.styleTags,h=t.title,p=t.titleAttributes;Z_(qe.BODY,i),Z_(qe.HTML,s),$fe(h,p);var g={baseTag:tc(qe.BASE,r),linkTags:tc(qe.LINK,o),metaTags:tc(qe.META,a),noscriptTags:tc(qe.NOSCRIPT,l),scriptTags:tc(qe.SCRIPT,u),styleTags:tc(qe.STYLE,d)},m={},_={};Object.keys(g).forEach(function(v){var A=g[v],S=A.newTags,x=A.oldTags;S.length&&(m[v]=S),x.length&&(_[v]=g[v].oldTags)}),n&&n(),c(t,m,_)},aN=function(t){return Array.isArray(t)?t.join(""):t},$fe=function(t,n){typeof t<"u"&&document.title!==t&&(document.title=aN(t)),Z_(qe.TITLE,n)},Z_=function(t,n){var r=document.getElementsByTagName(t)[0];if(r){for(var i=r.getAttribute(vs),s=i?i.split(","):[],o=[].concat(s),a=Object.keys(n),l=0;l<a.length;l++){var c=a[l],u=n[c]||"";r.getAttribute(c)!==u&&r.setAttribute(c,u),s.indexOf(c)===-1&&s.push(c);var d=o.indexOf(c);d!==-1&&o.splice(d,1)}for(var h=o.length-1;h>=0;h--)r.removeAttribute(o[h]);s.length===o.length?r.removeAttribute(vs):r.getAttribute(vs)!==a.join(",")&&r.setAttribute(vs,a.join(","))}},tc=function(t,n){var r=document.head||document.querySelector(qe.HEAD),i=r.querySelectorAll(t+"["+vs+"]"),s=Array.prototype.slice.call(i),o=[],a=void 0;return n&&n.length&&n.forEach(function(l){var c=document.createElement(t);for(var u in l)if(l.hasOwnProperty(u))if(u===Jt.INNER_HTML)c.innerHTML=l.innerHTML;else if(u===Jt.CSS_TEXT)c.styleSheet?c.styleSheet.cssText=l.cssText:c.appendChild(document.createTextNode(l.cssText));else{var d=typeof l[u]>"u"?"":l[u];c.setAttribute(u,d)}c.setAttribute(vs,"true"),s.some(function(h,p){return a=p,c.isEqualNode(h)})?s.splice(a,1):o.push(c)}),s.forEach(function(l){return l.parentNode.removeChild(l)}),o.forEach(function(l){return r.appendChild(l)}),{oldTags:s,newTags:o}},lN=function(t){return Object.keys(t).reduce(function(n,r){var i=typeof t[r]<"u"?r+'="'+t[r]+'"':""+r;return n?n+" "+i:i},"")},Ffe=function(t,n,r,i){var s=lN(r),o=aN(n);return s?"<"+t+" "+vs+'="true" '+s+">"+J_(o,i)+"</"+t+">":"<"+t+" "+vs+'="true">'+J_(o,i)+"</"+t+">"},zfe=function(t,n,r){return n.reduce(function(i,s){var o=Object.keys(s).filter(function(c){return!(c===Jt.INNER_HTML||c===Jt.CSS_TEXT)}).reduce(function(c,u){var d=typeof s[u]>"u"?u:u+'="'+J_(s[u],r)+'"';return c?c+" "+d:d},""),a=s.innerHTML||s.cssText||"",l=kfe.indexOf(t)===-1;return i+"<"+t+" "+vs+'="true" '+o+(l?"/>":">"+a+"</"+t+">")},"")},cN=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(r,i){return r[Pm[i]||i]=t[i],r},n)},Ufe=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(r,i){return r[Efe[i]||i]=t[i],r},n)},Hfe=function(t,n,r){var i,s=(i={key:n},i[vs]=!0,i),o=cN(r,s);return[Te.createElement(qe.TITLE,o,n)]},Gfe=function(t,n){return n.map(function(r,i){var s,o=(s={key:i},s[vs]=!0,s);return Object.keys(r).forEach(function(a){var l=Pm[a]||a;if(l===Jt.INNER_HTML||l===Jt.CSS_TEXT){var c=r.innerHTML||r.cssText;o.dangerouslySetInnerHTML={__html:c}}else o[l]=r[a]}),Te.createElement(t,o)})},ao=function(t,n,r){switch(t){case qe.TITLE:return{toComponent:function(){return Hfe(t,n.title,n.titleAttributes)},toString:function(){return Ffe(t,n.title,n.titleAttributes,r)}};case fl.BODY:case fl.HTML:return{toComponent:function(){return cN(n)},toString:function(){return lN(n)}};default:return{toComponent:function(){return Gfe(t,n)},toString:function(){return zfe(t,n,r)}}}},uN=function(t){var n=t.baseTag,r=t.bodyAttributes,i=t.encode,s=t.htmlAttributes,o=t.linkTags,a=t.metaTags,l=t.noscriptTags,c=t.scriptTags,u=t.styleTags,d=t.title,h=d===void 0?"":d,p=t.titleAttributes;return{base:ao(qe.BASE,n,i),bodyAttributes:ao(fl.BODY,r,i),htmlAttributes:ao(fl.HTML,s,i),link:ao(qe.LINK,o,i),meta:ao(qe.META,a,i),noscript:ao(qe.NOSCRIPT,l,i),script:ao(qe.SCRIPT,c,i),style:ao(qe.STYLE,u,i),title:ao(qe.TITLE,{title:h,titleAttributes:p},i)}},qfe=function(t){var n,r;return r=n=function(i){Pfe(s,i);function s(){return Tfe(this,s),Rfe(this,i.apply(this,arguments))}return s.prototype.shouldComponentUpdate=function(a){return!yfe(this.props,a)},s.prototype.mapNestedChildrenToProps=function(a,l){if(!l)return null;switch(a.type){case qe.SCRIPT:case qe.NOSCRIPT:return{innerHTML:l};case qe.STYLE:return{cssText:l}}throw new Error("<"+a.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},s.prototype.flattenArrayTypeChildren=function(a){var l,c=a.child,u=a.arrayTypeChildren,d=a.newChildProps,h=a.nestedChildren;return zr({},u,(l={},l[c.type]=[].concat(u[c.type]||[],[zr({},d,this.mapNestedChildrenToProps(c,h))]),l))},s.prototype.mapObjectTypeChildren=function(a){var l,c,u=a.child,d=a.newProps,h=a.newChildProps,p=a.nestedChildren;switch(u.type){case qe.TITLE:return zr({},d,(l={},l[u.type]=p,l.titleAttributes=zr({},h),l));case qe.BODY:return zr({},d,{bodyAttributes:zr({},h)});case qe.HTML:return zr({},d,{htmlAttributes:zr({},h)})}return zr({},d,(c={},c[u.type]=zr({},h),c))},s.prototype.mapArrayTypeChildrenToProps=function(a,l){var c=zr({},l);return Object.keys(a).forEach(function(u){var d;c=zr({},c,(d={},d[u]=a[u],d))}),c},s.prototype.warnOnInvalidChildren=function(a,l){return!0},s.prototype.mapChildrenToProps=function(a,l){var c=this,u={};return Te.Children.forEach(a,function(d){if(!(!d||!d.props)){var h=d.props,p=h.children,g=EP(h,["children"]),m=Ufe(g);switch(c.warnOnInvalidChildren(d,p),d.type){case qe.LINK:case qe.META:case qe.NOSCRIPT:case qe.SCRIPT:case qe.STYLE:u=c.flattenArrayTypeChildren({child:d,arrayTypeChildren:u,newChildProps:m,nestedChildren:p});break;default:l=c.mapObjectTypeChildren({child:d,newProps:l,newChildProps:m,nestedChildren:p});break}}}),l=this.mapArrayTypeChildrenToProps(u,l),l},s.prototype.render=function(){var a=this.props,l=a.children,c=EP(a,["children"]),u=zr({},c);return l&&(u=this.mapChildrenToProps(l,u)),Te.createElement(t,u)},Ife(s,null,[{key:"canUseDOM",set:function(a){t.canUseDOM=a}}]),s}(Te.Component),n.propTypes={base:Qe.object,bodyAttributes:Qe.object,children:Qe.oneOfType([Qe.arrayOf(Qe.node),Qe.node]),defaultTitle:Qe.string,defer:Qe.bool,encodeSpecialCharacters:Qe.bool,htmlAttributes:Qe.object,link:Qe.arrayOf(Qe.object),meta:Qe.arrayOf(Qe.object),noscript:Qe.arrayOf(Qe.object),onChangeClientState:Qe.func,script:Qe.arrayOf(Qe.object),style:Qe.arrayOf(Qe.object),title:Qe.string,titleAttributes:Qe.object,titleTemplate:Qe.string},n.defaultProps={defer:!0,encodeSpecialCharacters:!0},n.peek=t.peek,n.rewind=function(){var i=t.rewind();return i||(i=uN({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),i},r},Wfe=function(){return null},Kfe=ffe(Vfe,Dfe,uN)(Wfe),Ai=qfe(Kfe);Ai.renderStatic=Ai.rewind;const dN=y.forwardRef(({...e},t)=>{const n=y.useRef(null);y.useImperativeHandle(t,()=>n.current);const[r,i]=Fe(Rd);return f.jsx(Yfe,{ref:n,label:"Input lag",value:String(r),onChange:s=>i(+s),type:"number",step:50,min:-2e3,max:2e3,adornment:"ms",onKeyDown:s=>{var o;s.code==="Enter"&&((o=n.current)==null||o.blur())},info:"If the sound is not synchronised with the lyrics, use this to compensate it.",...e})}),Yfe=C(Hl,{target:"e1vs2glp0"})({name:"q54eim",styles:"input{text-align:right;}"});function Qfe(e){Ra(!1);const t=Zr(),n=()=>t("menu/"),{register:r}=zn({onBackspace:n}),[i,s]=Fe($i),[o,a]=Fe(nl),[l,c]=Fe(pr),[u,d]=Fe(Ub),h=y.useRef(null),[p,g]=y.useState(ps.getPermissionStatus());y.useEffect(()=>ps.addListener(S=>{g(S)}),[]);const[m,_]=y.useState(!1),v=()=>{_(!0),ps.requestPermissions().then(()=>_(!1))};let A="Disabled";return m?A=f.jsx(Eh,{size:"0.9em"}):p===null?A="Click to enable":p&&(A="Enabled"),f.jsxs(Pa,{children:[f.jsx(Ai,{children:f.jsx("title",{children:"Settings | AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsx("h1",{children:"Settings"}),f.jsx(li,{...r("graphics-level",()=>s(ma(e5,i))),label:"Graphics",value:i.toUpperCase()}),f.jsx(li,{...r("fps-count-level",()=>a(ma(t5,o))),label:"FPS Count",value:o}),f.jsx(li,{...r("background-music-selection",()=>d(ma(s5,u))),label:"Background Music",value:u}),f.jsx(dN,{ref:h,...r("input-lag",()=>{var S;return(S=h.current)==null?void 0:S.focus()})}),f.jsx("hr",{}),f.jsx(li,{...r("camera-access",()=>p?ps.disable():v()),label:"Enable camera mode",value:A,info:"Record a timelapse video from singing. The recording is not sent nor stored anywhere."}),f.jsx("hr",{}),f.jsx(li,{...r("mobile-phone-mode",()=>c(!l)),label:"Mobile Phone Mode",value:l?"Yes":"No",info:"Adjust the game to a smaller screen. Disables option to sing in duets."}),f.jsx("hr",{}),f.jsx(Pe,{...r("remote-mics-settings",()=>t("settings/remote-mics/")),size:"small",children:"Remote Microphones Settings"}),f.jsx(Pe,{...r("setup-mics-button",()=>t("select-input/")),size:"small",children:"Setup Microphones"}),f.jsx(Pe,{...r("manage-songs-button",()=>t("manage-songs/")),size:"small",children:"Manage Songs"}),f.jsx(Pe,{...r("back-button",n),children:"Return To Main Menu"})]})}function fN(e){return f.jsxs(Jfe,{...e,children:[f.jsx(hN,{asChild:!0,children:f.jsx(IL,{})}),f.jsx(Xfe,{asChild:!0,children:f.jsx(W_,{})})]})}const Jfe=Bu.div`relative transition-[300ms] [&_svg]:w-[15rem] [&_svg]:h-[15rem]`,hN=Bu.svg`w-[15rem] h-[15rem] transition-[300ms]`,Xfe=Bu(hN)`absolute top-[1.6rem] left-[3.5rem] z-[100] scale-x-[-1]`;function pN(){const[e,t]=y.useState(!1);return y.useEffect(()=>{const n=setTimeout(()=>{t(!0)},500);return()=>{clearTimeout(n)}},[]),f.jsx(Zfe,{visible:e,children:f.jsx(ehe,{})})}const Zfe=C("div",{target:"e1ej0ve21"})("transition:500ms;opacity:",e=>e.visible?1:0,";position:fixed;inset:0;display:flex;align-items:center;justify-content:center;"),ehe=C(fN,{target:"e1ej0ve20"})({name:"1wwm3j4",styles:"transform:translate(-1.75rem, -0.8rem) scale(2);svg{animation:pulse 1.25s infinite;@keyframes pulse{0%{scale:1;}33%{scale:1.05;}66%{scale:1;}100%{scale:1;}}}svg:first-of-type{animation-delay:1s;}"}),the=y.lazy(()=>ku(()=>import("./SongManagement-BRb9OUPB.js"),[]).then(e=>({default:e.Convert}))),gN=e=>f.jsxs(y.Suspense,{fallback:f.jsx(pN,{}),children:[f.jsx(Ai,{children:f.jsx("title",{children:"Convert Song | AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsx(the,{...e})]});var mN={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Jo,function(){return function(n,r,i){n=n||{};var s=r.prototype,o={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function a(c,u,d,h){return s.fromToBase(c,u,d,h)}i.en.relativeTime=o,s.fromToBase=function(c,u,d,h,p){for(var g,m,_,v=d.$locale().relativeTime||o,A=n.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],S=A.length,x=0;x<S;x+=1){var b=A[x];b.d&&(g=h?i(c).diff(d,b.d,!0):d.diff(c,b.d,!0));var w=(n.rounding||Math.round)(Math.abs(g));if(_=g>0,w<=b.r||!b.r){w<=1&&x>0&&(b=A[x-1]);var E=v[b.l];p&&(w=p(""+w)),m=typeof E=="string"?E.replace("%d",w):E(w,u,b.l,_);break}}if(u)return m;var T=_?v.future:v.past;return typeof T=="function"?T(m):T.replace("%s",m)},s.to=function(c,u){return a(c,u,this,!0)},s.from=function(c,u){return a(c,u,this)};var l=function(c){return c.$u?i.utc():i()};s.toNow=function(c){return this.to(l(this),c)},s.fromNow=function(c){return this.from(l(this),c)}}})})(mN);var nhe=mN.exports;const rhe=hr(nhe),vN=1e3,ihe=e=>e.map(t=>{if(t.notes.length===0)debugger;return{...t,start:t.notes[0].start}}),she=e=>{const t=e.notes.at(-1);return t.start+t.length},ohe=(e,t=10)=>{let n=0,r=[];return e.forEach(i=>{i.start-n>t&&(r.push({type:"pause",start:n,end:i.start-t}),n=i.start-t),r.push({...i,start:n}),n=she(i)}),r},TP=(e,t)=>({...e,sections:ohe(ihe(e.sections.filter(Rt)),t)});function ahe(e){const t=Cu(e),n=Math.round(vN/t);return{...e,tracks:e.tracks.map(r=>TP(r,n)),mergedTrack:TP(e.mergedTrack,n)}}const lhe=(e,t)=>e.map((n,r)=>Rt(n)?{...n,start:r===0?0:Math.max(0,n.start+t),notes:n.notes.map(i=>({...i,start:i.start+t}))}:{...n,start:Math.max(0,n.start+t),end:Math.max(0,n.end+t)}),IP=(e,t)=>({...e,sections:lhe(e.sections,t)});function che(e){const t=Cu(e),n=Math.round(vN/t),r=Math.floor((e.gap-n*t<0?e.gap:n*t)/t),i=e.gap-r*t;return{...e,gap:i,tracks:e.tracks.map(s=>IP(s,r)),mergedTrack:IP(e.mergedTrack,r)}}function yN(e,t){return Cu(t)*e}function yv(e){const t=Math.min(...e.tracks.map(n=>"sections"in n?Aa(n.sections):n.start));return yN(t,e)+e.gap}function uhe(e){const t=yv(e);return{...e,videoGap:Math.round(Math.max(0,Math.min(e.videoGap??0,t/1e3-15)))}}const dhe=(e,t)=>e.map((n,r)=>Rt(n)?{...n,start:r===0?0:Math.max(0,n.start-t),notes:n.notes.map(i=>({...i,start:i.start-t}))}:{...n,start:Math.max(0,n.start-t),end:Math.max(0,n.end-t)}).filter(n=>Rt(n)||n.start-n.end>0),PP=(e,t)=>({...e,sections:dhe(e.sections,t)});function fhe(e){const t=Cu(e),n=e.tracks.reduce((o,a,l)=>{const c=Aa(e.tracks[o].sections),u=Aa(a.sections);return c>u?l:o},0),r=e.tracks[n].sections.find(Rt);if(!r)return console.error("There are no notes sections in the song, wat",e.tracks),e;const i=r.start+(r.notes[0].start-r.start),s=Math.floor(e.gap+i*t);return{...e,gap:s,tracks:e.tracks.map(o=>PP(o,i)),mergedTrack:PP(e.mergedTrack,i)}}const hhe=e=>(e.forEach((t,n)=>{t.lyrics.startsWith(" ")&&(t.lyrics=t.lyrics.trimStart(),n>0&&(e[n-1].lyrics=e[n-1].lyrics.trimEnd()+" ")),n===e.length-1&&(t.lyrics=t.lyrics.trimEnd())}),e),RP=e=>({...e,sections:e.sections.map(t=>Rt(t)?{...t,notes:hhe(t.notes)}:t)});function phe(e){return{...e,tracks:e.tracks.map(RP),mergedTrack:RP(e.mergedTrack)}}const ghe=e=>{let t=fhe(e);return t=che(t),t=ahe(t),t=phe(t),t=uhe(t),t};function AN(e){const[t,n]=y.useState(null);return y.useEffect(()=>{no.get(e).then(r=>n(r&&ghe(r)))},[e]),{data:t}}ms.extend(rhe);function mhe(){const e=w0("song");Ra(!1);const t=AN(e??"");return t.data?f.jsxs(yhe,{children:[f.jsx(Ai,{children:f.jsx("title",{children:"Edit Song | AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsxs(vhe,{children:[f.jsx(mw,{to:"edit/list/",children:f.jsx("a",{children:"Return to the song list"})}),f.jsxs("span",{children:["Editing:"," ",f.jsxs("b",{children:[t.data.artist," - ",t.data.title]})]}),f.jsxs("abbr",{title:t.data.lastUpdate,children:["Last updated: ",f.jsx("b",{children:t.data.lastUpdate?ms(t.data.lastUpdate).fromNow():"-"})]})]}),f.jsx(gN,{song:t.data})]}):f.jsx(f.Fragment,{children:"Loading"})}const vhe=C("div",{target:"e104ojv11"})({name:"tv6097",styles:"display:flex;justify-content:space-between;align-items:center;margin-bottom:20px"}),yhe=C("div",{target:"e104ojv10"})({name:"1u1hal4",styles:"margin:30px auto 0 auto;width:1260px;height:100%;background:white"});var Ahe=Math.floor,_he=Math.random;function bhe(e,t){return e+Ahe(_he()*(t-e+1))}function _N(e,t){var n=-1,r=e.length,i=r-1;for(t=t===void 0?r:t;++n<t;){var s=bhe(n,i),o=e[s];e[s]=e[n],e[n]=o}return e.length=t,e}function She(e){return _N(M3(e))}function xhe(e,t){return OS(t,function(n){return e[n]})}function whe(e){return e==null?[]:xhe(e,ch(e))}function Ehe(e){return _N(whe(e))}function khe(e){var t=Wi(e)?She:Ehe;return t(e)}var jR;const Che=!((jR=document.getElementById("root"))!=null&&jR.hasChildNodes()),bN=Che;function Kw(e){return bN?null:e.children}function Or(e){const t=Zr(),n=r=>{e.onClick?e.onClick(r):(r.preventDefault(),t(e.to))};return f.jsx(mw,{...e,onClick:n})}function The(e,t){y.useEffect(()=>{var n,r;(r=(n=e.current)==null?void 0:n.getInternalPlayer())==null||r.setVolume(Math.round((t??.5)*100))},[e,t])}var Ihe=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(s=Object.keys(t),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var o=s[i];if(!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n};const Phe=hr(Ihe);var eb={exports:{}},SN;/**
* @link https://github.com/gajus/sister for the canonical source repository
* @license https://github.com/gajus/sister/blob/master/LICENSE BSD 3-Clause
*/SN=function(){var e={},t={};return e.on=function(n,r){var i={name:n,handler:r};return t[n]=t[n]||[],t[n].unshift(i),i},e.off=function(n){var r=t[n.name].indexOf(n);r!==-1&&t[n.name].splice(r,1)},e.trigger=function(n,r){var i=t[n],s;if(i)for(s=i.length;s--;)i[s].handler(r)},e};var Rhe=SN,tb={exports:{}},Mhe=function(t,n,r){var i=document.head||document.getElementsByTagName("head")[0],s=document.createElement("script");typeof n=="function"&&(r=n,n={}),n=n||{},r=r||function(){},s.type=n.type||"text/javascript",s.charset=n.charset||"utf8",s.async="async"in n?!!n.async:!0,s.src=t,n.attrs&&jhe(s,n.attrs),n.text&&(s.text=""+n.text);var o="onload"in s?MP:Ohe;o(s,r),s.onload||MP(s,r),i.appendChild(s)};function jhe(e,t){for(var n in t)e.setAttribute(n,t[n])}function MP(e,t){e.onload=function(){this.onerror=this.onload=null,t(null,e)},e.onerror=function(){this.onerror=this.onload=null,t(new Error("Failed to load "+this.src),e)}}function Ohe(e,t){e.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,t(null,e))}}(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=Mhe,r=i(n);function i(s){return s&&s.__esModule?s:{default:s}}t.default=function(s){var o=new Promise(function(a){if(window.YT&&window.YT.Player&&window.YT.Player instanceof Function){a(window.YT);return}else{var l=window.location.protocol==="http:"?"http:":"https:";(0,r.default)(l+"//www.youtube.com/iframe_api",function(u){u&&s.trigger("error",u)})}var c=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){c&&c(),a(window.YT)}});return o},e.exports=t.default})(tb,tb.exports);var Vhe=tb.exports,nb={exports:{}},rb={exports:{}},ib={exports:{}},Wf=1e3,Kf=Wf*60,Yf=Kf*60,Qf=Yf*24,Lhe=Qf*365.25,Nhe=function(e,t){t=t||{};var n=typeof e;if(n==="string"&&e.length>0)return Bhe(e);if(n==="number"&&isNaN(e)===!1)return t.long?$he(e):Dhe(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function Bhe(e){if(e=String(e),!(e.length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]),r=(t[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return n*Lhe;case"days":case"day":case"d":return n*Qf;case"hours":case"hour":case"hrs":case"hr":case"h":return n*Yf;case"minutes":case"minute":case"mins":case"min":case"m":return n*Kf;case"seconds":case"second":case"secs":case"sec":case"s":return n*Wf;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function Dhe(e){return e>=Qf?Math.round(e/Qf)+"d":e>=Yf?Math.round(e/Yf)+"h":e>=Kf?Math.round(e/Kf)+"m":e>=Wf?Math.round(e/Wf)+"s":e+"ms"}function $he(e){return wp(e,Qf,"day")||wp(e,Yf,"hour")||wp(e,Kf,"minute")||wp(e,Wf,"second")||e+" ms"}function wp(e,t,n){if(!(e<t))return e<t*1.5?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}(function(e,t){t=e.exports=i.debug=i.default=i,t.coerce=l,t.disable=o,t.enable=s,t.enabled=a,t.humanize=Nhe,t.names=[],t.skips=[],t.formatters={};var n;function r(c){var u=0,d;for(d in c)u=(u<<5)-u+c.charCodeAt(d),u|=0;return t.colors[Math.abs(u)%t.colors.length]}function i(c){function u(){if(u.enabled){var d=u,h=+new Date,p=h-(n||h);d.diff=p,d.prev=n,d.curr=h,n=h;for(var g=new Array(arguments.length),m=0;m<g.length;m++)g[m]=arguments[m];g[0]=t.coerce(g[0]),typeof g[0]!="string"&&g.unshift("%O");var _=0;g[0]=g[0].replace(/%([a-zA-Z%])/g,function(A,S){if(A==="%%")return A;_++;var x=t.formatters[S];if(typeof x=="function"){var b=g[_];A=x.call(d,b),g.splice(_,1),_--}return A}),t.formatArgs.call(d,g);var v=u.log||t.log||console.log.bind(console);v.apply(d,g)}}return u.namespace=c,u.enabled=t.enabled(c),u.useColors=t.useColors(),u.color=r(c),typeof t.init=="function"&&t.init(u),u}function s(c){t.save(c),t.names=[],t.skips=[];for(var u=(typeof c=="string"?c:"").split(/[\s,]+/),d=u.length,h=0;h<d;h++)u[h]&&(c=u[h].replace(/\*/g,".*?"),c[0]==="-"?t.skips.push(new RegExp("^"+c.substr(1)+"$")):t.names.push(new RegExp("^"+c+"$")))}function o(){t.enable("")}function a(c){var u,d;for(u=0,d=t.skips.length;u<d;u++)if(t.skips[u].test(c))return!1;for(u=0,d=t.names.length;u<d;u++)if(t.names[u].test(c))return!0;return!1}function l(c){return c instanceof Error?c.stack||c.message:c}})(ib,ib.exports);var Fhe=ib.exports;(function(e,t){var n={};t=e.exports=Fhe,t.log=s,t.formatArgs=i,t.save=o,t.load=a,t.useColors=r,t.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:l(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function r(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}t.formatters.j=function(c){try{return JSON.stringify(c)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}};function i(c){var u=this.useColors;if(c[0]=(u?"%c":"")+this.namespace+(u?" %c":" ")+c[0]+(u?"%c ":" ")+"+"+t.humanize(this.diff),!!u){var d="color: "+this.color;c.splice(1,0,d,"color: inherit");var h=0,p=0;c[0].replace(/%[a-zA-Z%]/g,function(g){g!=="%%"&&(h++,g==="%c"&&(p=h))}),c.splice(p,0,d)}}function s(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function o(c){try{c==null?t.storage.removeItem("debug"):t.storage.debug=c}catch{}}function a(){var c;try{c=t.storage.debug}catch{}return!c&&typeof process<"u"&&"env"in process&&(c=n.DEBUG),c}t.enable(a());function l(){try{return window.localStorage}catch{}}})(rb,rb.exports);var zhe=rb.exports,sb={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=["cueVideoById","loadVideoById","cueVideoByUrl","loadVideoByUrl","playVideo","pauseVideo","stopVideo","getVideoLoadedFraction","cuePlaylist","loadPlaylist","nextVideo","previousVideo","playVideoAt","setShuffle","setLoop","getPlaylist","getPlaylistIndex","setOption","mute","unMute","isMuted","setVolume","getVolume","seekTo","getPlayerState","getPlaybackRate","setPlaybackRate","getAvailablePlaybackRates","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getCurrentTime","getDuration","removeEventListener","getVideoUrl","getVideoEmbedCode","getOptions","getOption","addEventListener","destroy","setSize","getIframe"],e.exports=t.default})(sb,sb.exports);var Uhe=sb.exports,ob={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=["ready","stateChange","playbackQualityChange","playbackRateChange","error","apiChange","volumeChange"],e.exports=t.default})(ob,ob.exports);var Hhe=ob.exports,ab={exports:{}},lb={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default={BUFFERING:3,ENDED:0,PAUSED:2,PLAYING:1,UNSTARTED:-1,VIDEO_CUED:5},e.exports=t.default})(lb,lb.exports);var Ghe=lb.exports;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=Ghe,r=i(n);function i(s){return s&&s.__esModule?s:{default:s}}t.default={pauseVideo:{acceptableStates:[r.default.ENDED,r.default.PAUSED],stateChangeRequired:!1},playVideo:{acceptableStates:[r.default.ENDED,r.default.PLAYING],stateChangeRequired:!1},seekTo:{acceptableStates:[r.default.ENDED,r.default.PLAYING,r.default.PAUSED],stateChangeRequired:!0,timeout:3e3}},e.exports=t.default})(ab,ab.exports);var qhe=ab.exports;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=zhe,r=u(n),i=Uhe,s=u(i),o=Hhe,a=u(o),l=qhe,c=u(l);function u(p){return p&&p.__esModule?p:{default:p}}var d=(0,r.default)("youtube-player"),h={};h.proxyEvents=function(p){var g={},m=function(E){var T="on"+E.slice(0,1).toUpperCase()+E.slice(1);g[T]=function(j){d('event "%s"',T,j),p.trigger(E,j)}},_=!0,v=!1,A=void 0;try{for(var S=a.default[Symbol.iterator](),x;!(_=(x=S.next()).done);_=!0){var b=x.value;m(b)}}catch(w){v=!0,A=w}finally{try{!_&&S.return&&S.return()}finally{if(v)throw A}}return g},h.promisifyPlayer=function(p){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,m={},_=function(T){g&&c.default[T]?m[T]=function(){for(var j=arguments.length,B=Array(j),D=0;D<j;D++)B[D]=arguments[D];return p.then(function(q){var M=c.default[T],V=q.getPlayerState(),P=q[T].apply(q,B);return M.stateChangeRequired||Array.isArray(M.acceptableStates)&&M.acceptableStates.indexOf(V)===-1?new Promise(function(I){var $=function O(){var z=q.getPlayerState(),N=void 0;typeof M.timeout=="number"&&(N=setTimeout(function(){q.removeEventListener("onStateChange",O),I()},M.timeout)),Array.isArray(M.acceptableStates)&&M.acceptableStates.indexOf(z)!==-1&&(q.removeEventListener("onStateChange",O),clearTimeout(N),I())};q.addEventListener("onStateChange",$)}).then(function(){return P}):P})}:m[T]=function(){for(var j=arguments.length,B=Array(j),D=0;D<j;D++)B[D]=arguments[D];return p.then(function(q){return q[T].apply(q,B)})}},v=!0,A=!1,S=void 0;try{for(var x=s.default[Symbol.iterator](),b;!(v=(b=x.next()).done);v=!0){var w=b.value;_(w)}}catch(E){A=!0,S=E}finally{try{!v&&x.return&&x.return()}finally{if(A)throw S}}return m},t.default=h,e.exports=t.default})(nb,nb.exports);var Whe=nb.exports;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},r=Rhe,i=c(r),s=Vhe,o=c(s),a=Whe,l=c(a);function c(d){return d&&d.__esModule?d:{default:d}}var u=void 0;t.default=function(d){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,g=(0,i.default)();if(u||(u=(0,o.default)(g)),h.events)throw new Error("Event handlers cannot be overwritten.");if(typeof d=="string"&&!document.getElementById(d))throw new Error('Element "'+d+'" does not exist.');h.events=l.default.proxyEvents(g);var m=new Promise(function(v){if((typeof d>"u"?"undefined":n(d))==="object"&&d.playVideo instanceof Function){var A=d;v(A)}else u.then(function(S){var x=new S.Player(d,h);return g.on("ready",function(){v(x)}),null})}),_=l.default.promisifyPlayer(m,p);return _.on=g.on,_.off=g.off,_},e.exports=t.default})(eb,eb.exports);var Khe=eb.exports;const Yhe=hr(Khe);var Qhe=Object.defineProperty,Jhe=Object.defineProperties,Xhe=Object.getOwnPropertyDescriptors,jP=Object.getOwnPropertySymbols,Zhe=Object.prototype.hasOwnProperty,epe=Object.prototype.propertyIsEnumerable,OP=(e,t,n)=>t in e?Qhe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,cb=(e,t)=>{for(var n in t||(t={}))Zhe.call(t,n)&&OP(e,n,t[n]);if(jP)for(var n of jP(t))epe.call(t,n)&&OP(e,n,t[n]);return e},ub=(e,t)=>Jhe(e,Xhe(t)),tpe=(e,t,n)=>new Promise((r,i)=>{var s=l=>{try{a(n.next(l))}catch(c){i(c)}},o=l=>{try{a(n.throw(l))}catch(c){i(c)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(s,o);a((n=n.apply(e,t)).next())});function npe(e,t){var n,r;if(e.videoId!==t.videoId)return!0;const i=((n=e.opts)==null?void 0:n.playerVars)||{},s=((r=t.opts)==null?void 0:r.playerVars)||{};return i.start!==s.start||i.end!==s.end}function VP(e={}){return ub(cb({},e),{height:0,width:0,playerVars:ub(cb({},e.playerVars),{autoplay:0,start:0,end:0})})}function rpe(e,t){return e.videoId!==t.videoId||!Phe(VP(e.opts),VP(t.opts))}function ipe(e,t){var n,r,i,s;return e.id!==t.id||e.className!==t.className||((n=e.opts)==null?void 0:n.width)!==((r=t.opts)==null?void 0:r.width)||((i=e.opts)==null?void 0:i.height)!==((s=t.opts)==null?void 0:s.height)||e.iframeClassName!==t.iframeClassName||e.title!==t.title}var spe={videoId:"",id:"",className:"",iframeClassName:"",style:{},title:"",loading:void 0,opts:{},onReady:()=>{},onError:()=>{},onPlay:()=>{},onPause:()=>{},onEnd:()=>{},onStateChange:()=>{},onPlaybackRateChange:()=>{},onPlaybackQualityChange:()=>{}},ope={videoId:Qe.string,id:Qe.string,className:Qe.string,iframeClassName:Qe.string,style:Qe.object,title:Qe.string,loading:Qe.oneOf(["lazy","eager"]),opts:Qe.objectOf(Qe.any),onReady:Qe.func,onError:Qe.func,onPlay:Qe.func,onPause:Qe.func,onEnd:Qe.func,onStateChange:Qe.func,onPlaybackRateChange:Qe.func,onPlaybackQualityChange:Qe.func},hg=class extends Te.Component{constructor(e){super(e),this.destroyPlayerPromise=void 0,this.onPlayerReady=t=>{var n,r;return(r=(n=this.props).onReady)==null?void 0:r.call(n,t)},this.onPlayerError=t=>{var n,r;return(r=(n=this.props).onError)==null?void 0:r.call(n,t)},this.onPlayerStateChange=t=>{var n,r,i,s,o,a,l,c;switch((r=(n=this.props).onStateChange)==null||r.call(n,t),t.data){case hg.PlayerState.ENDED:(s=(i=this.props).onEnd)==null||s.call(i,t);break;case hg.PlayerState.PLAYING:(a=(o=this.props).onPlay)==null||a.call(o,t);break;case hg.PlayerState.PAUSED:(c=(l=this.props).onPause)==null||c.call(l,t);break}},this.onPlayerPlaybackRateChange=t=>{var n,r;return(r=(n=this.props).onPlaybackRateChange)==null?void 0:r.call(n,t)},this.onPlayerPlaybackQualityChange=t=>{var n,r;return(r=(n=this.props).onPlaybackQualityChange)==null?void 0:r.call(n,t)},this.destroyPlayer=()=>this.internalPlayer?(this.destroyPlayerPromise=this.internalPlayer.destroy().then(()=>this.destroyPlayerPromise=void 0),this.destroyPlayerPromise):Promise.resolve(),this.createPlayer=()=>{if(typeof document>"u")return;if(this.destroyPlayerPromise){this.destroyPlayerPromise.then(this.createPlayer);return}const t=ub(cb({},this.props.opts),{videoId:this.props.videoId});this.internalPlayer=Yhe(this.container,t),this.internalPlayer.on("ready",this.onPlayerReady),this.internalPlayer.on("error",this.onPlayerError),this.internalPlayer.on("stateChange",this.onPlayerStateChange),this.internalPlayer.on("playbackRateChange",this.onPlayerPlaybackRateChange),this.internalPlayer.on("playbackQualityChange",this.onPlayerPlaybackQualityChange),(this.props.title||this.props.loading)&&this.internalPlayer.getIframe().then(n=>{this.props.title&&n.setAttribute("title",this.props.title),this.props.loading&&n.setAttribute("loading",this.props.loading)})},this.resetPlayer=()=>this.destroyPlayer().then(this.createPlayer),this.updatePlayer=()=>{var t;(t=this.internalPlayer)==null||t.getIframe().then(n=>{this.props.id?n.setAttribute("id",this.props.id):n.removeAttribute("id"),this.props.iframeClassName?n.setAttribute("class",this.props.iframeClassName):n.removeAttribute("class"),this.props.opts&&this.props.opts.width?n.setAttribute("width",this.props.opts.width.toString()):n.removeAttribute("width"),this.props.opts&&this.props.opts.height?n.setAttribute("height",this.props.opts.height.toString()):n.removeAttribute("height"),this.props.title?n.setAttribute("title",this.props.title):n.setAttribute("title","YouTube video player"),this.props.loading?n.setAttribute("loading",this.props.loading):n.removeAttribute("loading")})},this.getInternalPlayer=()=>this.internalPlayer,this.updateVideo=()=>{var t,n,r,i;if(typeof this.props.videoId>"u"||this.props.videoId===null){(t=this.internalPlayer)==null||t.stopVideo();return}let s=!1;const o={videoId:this.props.videoId};if((n=this.props.opts)!=null&&n.playerVars&&(s=this.props.opts.playerVars.autoplay===1,"start"in this.props.opts.playerVars&&(o.startSeconds=this.props.opts.playerVars.start),"end"in this.props.opts.playerVars&&(o.endSeconds=this.props.opts.playerVars.end)),s){(r=this.internalPlayer)==null||r.loadVideoById(o);return}(i=this.internalPlayer)==null||i.cueVideoById(o)},this.refContainer=t=>{this.container=t},this.container=null,this.internalPlayer=null}componentDidMount(){this.createPlayer()}componentDidUpdate(e){return tpe(this,null,function*(){ipe(e,this.props)&&this.updatePlayer(),rpe(e,this.props)&&(yield this.resetPlayer()),npe(e,this.props)&&this.updateVideo()})}componentWillUnmount(){this.destroyPlayer()}render(){return Te.createElement("div",{className:this.props.className,style:this.props.style},Te.createElement("div",{id:this.props.id,className:this.props.iframeClassName,ref:this.refContainer}))}},Av=hg;Av.propTypes=ope;Av.defaultProps=spe;Av.PlayerState={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5};var $s=Av;function ape(e){const[t,n]=y.useState(1);return y.useEffect(()=>{if(e===$s.PlayerState.UNSTARTED){const r=setTimeout(()=>{n(i=>i+1)},5e3+t*2500);return()=>{clearTimeout(r)}}}),t}function lpe(e,t){y.useEffect(()=>{if(t===$s.PlayerState.BUFFERING){const n=setInterval(async()=>{var r,i,s;if(navigator.onLine){clearInterval(n);const o=await((r=e.current)==null?void 0:r.getInternalPlayer().getCurrentTime());(s=(i=e.current)==null?void 0:i.getInternalPlayer())==null||s.seekTo(Math.max(o-2,0),!0)}},500);return()=>{clearInterval(n)}}})}function cpe(e,t){return lpe(e,t),ape(t)}var In=(e=>(e.UNSTARTED="UNSTARTED",e.ENDED="ENDED",e.PLAYING="PLAYING",e.PAUSED="PAUSED",e.BUFFERING="BUFFERING",e.CUED="CUED",e))(In||{});const upe={[$s.PlayerState.UNSTARTED]:"UNSTARTED",[$s.PlayerState.ENDED]:"ENDED",[$s.PlayerState.PLAYING]:"PLAYING",[$s.PlayerState.PAUSED]:"PAUSED",[$s.PlayerState.BUFFERING]:"BUFFERING",[$s.PlayerState.CUED]:"CUED"},dpe=y.forwardRef(function({video:t,autoplay:n,startAt:r,controls:i,disablekb:s,volume:o,width:a,height:l,onStateChange:c},u){const d=y.useRef(null),[h,p]=y.useState($s.PlayerState.UNSTARTED),g=cpe(d,h);return The(d,o),y.useEffect(()=>{d.current&&d.current.getInternalPlayer().setSize(a,l)},[d,a,l,t,g]),y.useImperativeHandle(u,()=>({setSize:(m,_)=>{var v;return(v=d.current)==null?void 0:v.getInternalPlayer().setSize(m,_)},seekTo:m=>{var _;return(_=d.current)==null?void 0:_.getInternalPlayer().seekTo(m,!0)},setPlaybackSpeed:m=>{var _;return(_=d.current)==null?void 0:_.getInternalPlayer().setPlaybackRate(m)},setVolume:m=>{var _;return(_=d.current)==null?void 0:_.getInternalPlayer().setVolume(m)},getCurrentTime:()=>{var m;return(m=d.current)==null?void 0:m.getInternalPlayer().getCurrentTime()},loadVideoById:m=>{var _;return(_=d.current)==null?void 0:_.getInternalPlayer().loadVideoById(m)},playVideo:()=>{var m;(m=d.current)==null||m.getInternalPlayer().playVideo()},pauseVideo:()=>{var m;return(m=d.current)==null?void 0:m.getInternalPlayer().pauseVideo()},getDuration:()=>{var m;return(m=d.current)==null?void 0:m.getInternalPlayer().getDuration()}})),f.jsx($s,{title:" ",ref:d,videoId:t,opts:{width:"0",height:"0",playerVars:{autoplay:n?1:0,rel:0,fs:0,controls:i?1:0,start:r??0,end:0,disablekb:s?1:0,modestbranding:1}},onStateChange:m=>{p(m.data),c==null||c(upe[m.data])}},`${t}-${g}`)}),fpe=y.forwardRef(function({video:t,autoplay:n,startAt:r,controls:i,disablekb:s,volume:o,width:a,height:l,onStateChange:c},u){const d=y.useRef(null),[h,p]=y.useState({w:a,h:l}),[g,m]=y.useState(In.UNSTARTED);y.useEffect(()=>{const v=w=>()=>m(w),A=d.current,S=v(In.PLAYING),x=v(In.PAUSED),b=v(In.ENDED);return A==null||A.addEventListener("playing",S),A==null||A.addEventListener("pause",x),A==null||A.addEventListener("ended",b),()=>{A==null||A.removeEventListener("playing",S),A==null||A.removeEventListener("pause",x),A==null||A.removeEventListener("ended",b)}},[d.current,m]),y.useEffect(()=>{c==null||c(g)},[g,c]);const _=y.useMemo(()=>({setSize:(v,A)=>p({w:v,h:A}),seekTo:v=>(d.current&&(d.current.currentTime=v),v),setPlaybackSpeed:v=>{d.current&&(d.current.playbackRate=v)},setVolume:()=>{},getCurrentTime:()=>{var v;return Promise.resolve(((v=d.current)==null?void 0:v.currentTime)??0)},loadVideoById:()=>{},playVideo:()=>{var v;return(v=d.current)==null?void 0:v.play()},pauseVideo:()=>{var v;return(v=d.current)==null?void 0:v.pause()},getDuration:()=>{var v;return Promise.resolve(((v=d.current)==null?void 0:v.duration)??0)}}),[d]);return y.useEffect(()=>{_.setSize(a,l)},[a,l,_]),y.useEffect(()=>{r!==void 0&&_.seekTo(r)},[r,_]),y.useImperativeHandle(u,()=>_),f.jsx("video",{width:h.w,height:h.h,autoPlay:n??!0,controls:i,ref:d,children:f.jsx("source",{src:t})})}),hpe="/prs/284/assets/dummy-BNC13ZxI.mp4",ppe=y.forwardRef(function({video:t,controls:n,...r},i){return f.jsx(fpe,{ref:i,video:hpe,controls:!0,...r})});var gpe={VITE_APP_SENTRY_DSN_URL:"https://66c6e940d24b4096a277f350571921bb@o366978.ingest.sentry.io/6174734",VITE_APP_POSTHOG_KEY:"phc_bw7XLoONmtGVezmMKTvcwk3lj37jzxTfisqzjlJ0Jik",VITE_APP_BACKEND_HOST:"backend.allkaraoke.party",VITE_APP_WEBSOCKET_URL:"wss://backend.allkaraoke.party",VITE_APP_SENTRY_TUNNEL:"https://backend.allkaraoke.party/sentry",VITE_APP_POSTHOG_PROXY:"https://backend.allkaraoke.party/posthog",VITE_APP_SONG_CONVERT_PROXY:"https://backend.allkaraoke.party/proxy",VITE_APP_PARTYKIT_URL:"wss://allkaraoke-partykit.asvarox.partykit.dev",VITE_CJS_IGNORE_WARNING:"true",VITE_APP_PRERENDER:"true",BASE_URL:"/prs/284/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const Yw=y.forwardRef((e,t)=>gpe.VITE_APP_OFFLINE?f.jsx(ppe,{...e,ref:t}):f.jsx(dpe,{...e,ref:t}));function xN({songData:e,background:t,width:n,height:r,children:i,...s}){return f.jsxs(mpe,{video:e.video,width:n,height:r,...s,children:[f.jsx(ype,{video:e.video,blur:!0}),t&&f.jsx(wN,{children:t}),f.jsx(Ape,{children:f.jsxs(_pe,{children:[f.jsx(bpe,{children:e.title}),f.jsx("br",{}),f.jsx(Spe,{children:e.artist}),f.jsx("br",{}),e.author&&f.jsxs(xpe,{children:["by",e.authorUrl?f.jsx("a",{href:e.authorUrl,children:e.author}):e.author]}),i]})})]})}const mpe=C("div",{target:"e1kx27c8"})("width:",e=>e.width,"px;top:0;height:",e=>e.height,"px;overflow-y:hidden;background:black;position:relative;"),wN=C("div",{target:"e1kx27c7"})({name:"1vuuxha",styles:"z-index:1;top:0;left:0;position:absolute;width:100%;height:100%"}),vpe=C(wN,{target:"e1kx27c6"})("background-size:cover;background-position:center center;filter:",e=>e.blur?"blur(0.5rem)":"none",";"),ype=e=>f.jsx(vpe,{style:{backgroundImage:`url('https://i3.ytimg.com/vi/${e.video}/hqdefault.jpg')`},...e}),Ape=C("div",{target:"e1kx27c5"})({name:"11t99gq",styles:"z-index:2;top:0;left:0;width:100%;height:100%;position:absolute;pointer-events:none"}),_pe=C("div",{target:"e1kx27c4"})({name:"t7r80e",styles:"position:relative;margin:0 auto;color:white;max-width:144rem;height:100%;pointer-events:none"}),_v=C("span",{target:"e1kx27c3"})("background:rgba(0, 0, 0, 0.5);display:inline-block;backdrop-filter:blur(0.5rem);",$e,";padding:0.5rem 2rem;margin:0 0 1rem 0;"),bpe=C(_v,{target:"e1kx27c2"})("color:",de.colors.text.active,";margin-top:2rem;font-size:4.5rem;"),Spe=C(_v,{target:"e1kx27c1"})({name:"tic7nk",styles:"font-size:3.5rem"}),xpe=C(_v,{target:"e1kx27c0"})({name:"a07gmx",styles:"font-size:2rem"});function wpe(e){var h;ka(!1),Ra(!1);const t=Zr(),{width:n,height:r}=Ch(),[i,s]=y.useState(0),o=kh(),[a,l]=y.useState([]),{register:c}=zn({onBackspace:()=>t("menu/")});y.useEffect(()=>o.data&&l(khe(o.data)),[o.data]);const u=()=>o.data&&s(p=>(p+1)%o.data.length);if(!a.length||!n||!r)return null;const d=Em("game/",{song:a[i].id,playlist:"All"});return f.jsxs(Do,{children:[f.jsx(Ai,{children:f.jsx("title",{children:"Jukebox | AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsx(Kw,{children:f.jsxs(xN,{width:n,height:r,songData:a[i],"data-test":"jukebox-container","data-song":a[i].id,background:f.jsx(Yw,{autoplay:!0,controls:!0,width:n,height:r,volume:(h=a[i])==null?void 0:h.volume,video:a[i].video,startAt:a[i].videoGap,onStateChange:p=>{p===In.ENDED&&u()}}),children:[f.jsx(kpe,{...c("skip-button",u),children:"Skip"}),f.jsx(Or,{to:d,children:f.jsx(Epe,{...c("sing-button",()=>t(d),void 0,!0),children:"Sing this song"})})]})})]})}const Epe=C(Rs,{target:"e1573hk21"})({name:"9gmhgo",styles:"bottom:7rem;right:2rem;width:50rem;position:absolute;font-size:1.9vw"}),kpe=C(Rs,{target:"e1573hk20"})({name:"1qbm012",styles:"bottom:15rem;right:2rem;width:30rem;position:absolute;font-size:1.9vw"}),Cpe=C("h1",{target:"enucs171"})({name:"8n9pib",styles:"display:flex;justify-content:center;align-items:center;position:relative"}),Tpe=C("svg",{target:"enucs170"})({name:"1x5387l",styles:"--curve:cubic-bezier(0.65, 0, 0.45, 1);--green:#4caf50;margin-right:1rem;width:5rem;height:5rem;border-radius:50%;display:block;stroke-width:2;stroke:#fff;stroke-miterlimit:10;box-shadow:inset 0px 0px 0px var(--green);animation:fill 0.4s ease-in-out 0.4s forwards,scale 0.3s ease-in-out 0.9s both;.checkmark__circle{stroke-dasharray:166;stroke-dashoffset:166;stroke-width:2;stroke-miterlimit:10;stroke:var(--green);fill:none;animation:stroke 0.6s var(--curve) forwards;}.checkmark__check{transform-origin:50% 50%;stroke-dasharray:48;stroke-dashoffset:48;animation:stroke 0.3s var(--curve) 0.8s forwards;}@keyframes stroke{100%{stroke-dashoffset:0;}}@keyframes scale{0%,100%{transform:none;}50%{transform:scale3d(1.1, 1.1, 1);}}@keyframes fill{100%{box-shadow:inset 0px 0px 0px 3rem var(--green);}}"}),Ipe=e=>f.jsx(Tpe,{...e,children:f.jsxs("svg",{className:"checkmark",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 52 52",children:[f.jsx("circle",{className:"checkmark__circle",cx:"26",cy:"26",r:"25",fill:"none"}),f.jsx("path",{className:"checkmark__check",fill:"none",d:"M14.1 27.2l7.1 7.2 16.7-16.8"})]})});var Qw={},Ppe=ot;Object.defineProperty(Qw,"__esModule",{value:!0});var Zd=Qw.default=void 0,Rpe=Ppe(ut()),aA=f;Zd=Qw.default=(0,Rpe.default)([(0,aA.jsx)("path",{fillRule:"evenodd",d:"M16.67 13.13C18.04 14.06 19 15.32 19 17v3h4v-3c0-2.18-3.57-3.47-6.33-3.87"},"0"),(0,aA.jsx)("circle",{cx:"9",cy:"8",r:"4",fillRule:"evenodd"},"1"),(0,aA.jsx)("path",{fillRule:"evenodd",d:"M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4c-.47 0-.91.1-1.33.24C14.5 5.27 15 6.58 15 8s-.5 2.73-1.33 3.76c.42.14.86.24 1.33.24m-6 1c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4"},"2")],"PeopleAlt");var Jw={},Mpe=ot;Object.defineProperty(Jw,"__esModule",{value:!0});var db=Jw.default=void 0,jpe=Mpe(ut()),Ope=f;db=Jw.default=(0,jpe.default)((0,Ope.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"Person");var Xw={},Vpe=ot;Object.defineProperty(Xw,"__esModule",{value:!0});var pg=Xw.default=void 0,Lpe=Vpe(ut()),Npe=f;pg=Xw.default=(0,Lpe.default)((0,Npe.jsx)("path",{d:"M15.5 1h-8C6.12 1 5 2.12 5 3.5v17C5 21.88 6.12 23 7.5 23h8c1.38 0 2.5-1.12 2.5-2.5v-17C18 2.12 16.88 1 15.5 1m-4 21c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m4.5-4H7V4h9z"}),"PhoneIphone");var Zw={},Bpe=ot;Object.defineProperty(Zw,"__esModule",{value:!0});var EN=Zw.default=void 0,Dpe=Bpe(ut()),LP=f;EN=Zw.default=(0,Dpe.default)([(0,LP.jsx)("circle",{cx:"12",cy:"12",r:"3.2"},"0"),(0,LP.jsx)("path",{d:"M9 2 7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5"},"1")],"PhotoCamera");var eE={},$pe=ot;Object.defineProperty(eE,"__esModule",{value:!0});var kN=eE.default=void 0,Fpe=$pe(ut()),zpe=f;kN=eE.default=(0,Fpe.default)((0,zpe.jsx)("path",{d:"M3 11h8V3H3zm2-6h4v4H5zM3 21h8v-8H3zm2-6h4v4H5zm8-12v8h8V3zm6 6h-4V5h4zm0 10h2v2h-2zm-6-6h2v2h-2zm2 2h2v2h-2zm-2 2h2v2h-2zm2 2h2v2h-2zm2-2h2v2h-2zm0-4h2v2h-2zm2 2h2v2h-2z"}),"QrCode");const CN=C("span",{target:"ejt1whd0"})("position:absolute;transform:translate(40%, -50%);top:0;right:0;background:",de.colors.text.active,";font-size:1.5rem;",$e,";color:",de.colors.text.default,";padding:0.5rem 1rem;border-radius:1.5rem;");function Upe({onPreferenceSelected:e,previouslySelected:t,onBack:n,skipText:r}){const[i]=Fe(pr),{register:s}=zn({onBackspace:n});return f.jsxs(f.Fragment,{children:[f.jsxs(kp,{...s("remote-mics",()=>e("remoteMics"),void 0,t==="remoteMics"),children:[f.jsxs(wd,{children:[f.jsx(Cw,{}),f.jsx(pg,{})]}),f.jsxs("div",{children:[i?"Connect other phones":"Use Smartphones",f.jsxs(xd,{children:["Use"," ",f.jsxs("strong",{children:[f.jsx(EN,{}),"Camera app"]})," ","to scan a"," ",f.jsxs("strong",{children:[f.jsx(kN,{})," QR code"]})," ","that will open Remote Mic website - no need to download an app!"]})]}),f.jsx(CN,{children:"Recommended"}),f.jsxs(Ep,{children:[f.jsx(Zd,{}),f.jsx("strong",{children:"1-4"})]})]}),f.jsxs(kp,{...s("built-in",()=>e("built-in"),void 0,t==="built-in"),children:[f.jsxs(wd,{children:[f.jsx(db,{}),i?f.jsx(pg,{}):f.jsx(Ew,{})]}),f.jsxs("div",{children:["This ",i?"device's":"computer's"," microphone",f.jsxs(xd,{children:["Great to ",f.jsx("strong",{children:"test"})," the app, ",f.jsx("strong",{children:"sing alone"})," or don't care about the rivalry at the party"]})]}),f.jsxs(Ep,{children:[f.jsx(db,{}),f.jsx("strong",{children:"1"})]})]}),f.jsx("hr",{}),!i&&f.jsxs(kp,{...s("multiple-mics",()=>e("multiple-mics"),void 0,t==="multiple-mics"),children:[f.jsxs(wd,{children:[f.jsx(W_,{}),f.jsx(IL,{})]}),f.jsxs("div",{children:["Multiple microphones",f.jsxs(xd,{children:["Use either ",f.jsx("strong",{children:"SingStar"})," or ",f.jsx("strong",{children:"multiple microphones"})," connected to the device for each player"]})]}),f.jsxs(Ep,{children:[f.jsx(Zd,{}),f.jsx("strong",{children:"2"})]})]}),f.jsxs(kp,{...s("advanced",()=>e("advanced"),void 0,t==="advanced"),children:[f.jsxs(wd,{children:[f.jsx(W_,{}),f.jsx(pg,{})]}),f.jsxs("div",{children:["Advanced (manual) setup",f.jsx(xd,{children:"Assign the specific device to a player manually, e.g. if you don't have regular SingStar microphones."})]}),f.jsxs(Ep,{children:[f.jsx(Zd,{}),f.jsx("strong",{children:"1-4"})]})]}),f.jsx("hr",{}),f.jsx(Or,{to:"menu/",onClick:o=>{o==null||o.preventDefault(),e("skip")},children:f.jsx(Pe,{...s("skip",()=>e("skip"),void 0,t==="skip"),children:r||"Skip"})})]})}const Ep=C("div",{target:"eb2r3ii3"})($e,";position:absolute;inset:auto 0.5rem 0.5rem auto;svg{font-size:0.9em;}gap:0.5rem;display:flex;align-items:center;justify-content:flex-end;"),xd=C("div",{target:"eb2r3ii2"})({name:"4vipg7",styles:"padding:0 3rem 0 6rem;font-size:1.6rem;max-height:0;overflow:clip;transition:300ms;svg{font-size:1.4rem;}opacity:0"}),wd=C("div",{target:"eb2r3ii1"})("position:relative;margin:0rem 0.6rem 0 2.5rem;transition:300ms;svg{transition:300ms;width:3.6rem;height:3.6rem;color:",de.colors.players[1].text,";}svg:first-of-type{top:0.6rem;left:1.25rem;position:absolute;color:",de.colors.players[0].text,";z-index:100;transform:scaleX(-1);}"),kp=C(Pe,{target:"eb2r3ii0"})("position:relative;display:flex;align-items:center;&:hover,&[data-focused='true']{height:16.5rem;background:black;",ru,";",xd,"{padding-top:1.6rem;max-height:10rem;opacity:1;opacity:1;}",wd,"{transform:scale(1.75);}}");function TN(){var e,t;return((t=(e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.includes)==null?void 0:t.call(e,"Win"))??!1}const tE=(e,t,n=!0,r=1e3/nl.get())=>{y.useEffect(()=>{if(!n)return;const i=setInterval(()=>{const s=gn.getPlayerVolume(e)??0,o=gn.getPlayerFrequency(e)??0;t([s,Array.isArray(o)?o[0]:o])},r);return()=>{clearInterval(i)}},[e,r,t,n])},Hpe=(e,t=1e3/nl.get(),n)=>{const[r,i]=y.useState([0,0]);return tE(e,i,!0,t),y.useEffect(()=>{n&&n(r)},[r,n]),r},IN=e=>y.useMemo(()=>{if(!de.colors.players[e])return"0, 0, 0";const t=ue(de.colors.players[e].text).toRgb();return`${t.r}, ${t.g}, ${t.b}`},[e]),PN=C("div",{target:"eq7cjwi0"})({name:"5jivz6",styles:"height:100%;width:100%;position:absolute;right:0;top:0;background-repeat:repeat-y;transform-origin:right;z-index:1;pointer-events:none"}),Gpe=y.forwardRef(({volume:e,playerNumber:t,...n},r)=>{const i=`${Math.min(1,e*20)}`,s=IN(t);return Me.getPlayer(t)?f.jsx(PN,{...n,style:{transform:`scaleX(${i})`,background:`linear-gradient(270deg, rgba(${s}, 1) 0%, rgba(${s}, 0) 100%)`},ref:r}):null}),nE=({playerNumber:e,...t})=>{const[n,r]=y.useState(),i=y.useCallback(([o])=>{if(n){const a=`${Math.min(1,o*20)}`;n.style.transform=`scaleX(${a})`}},[n]);tE(e,i);const s=IN(e);return f.jsx(PN,{...t,ref:r,style:{background:`linear-gradient(270deg, rgba(${s}, 1) 0%, rgba(${s}, 0) 100%)`}})};function qpe(e,t){const n=Object.keys(t),[r,i]=vi([ee.playerInputChanged,ee.inputListChanged],()=>{var l;const a=(l=Me.getPlayer(e))==null?void 0:l.input;return a?[a,ko.getInputForPlayerSelected(a)]:[null,null]});y.useEffect(()=>{var a;if(i===null){const l=n[0],c=t[l].getDefault();c&&((a=Me.getPlayer(e))==null||a.changeInput(n[0],c.channel,c.deviceId))}});const s=a=>{var u;const l=ma(n,(r==null?void 0:r.source)??n[0]),c=a!==void 0?t[l].list[a]:t[l].getDefault();(u=Me.getPlayer(e))==null||u.changeInput(l,c==null?void 0:c.channel,c==null?void 0:c.deviceId)},o=()=>{var u;if(!r)return;const a=t[r.source].list,l=i?a.findIndex(d=>d.id===i.id):0,c=wh(a,l);if(c===0)s(0);else{const d=a[c];(u=Me.getPlayer(e))==null||u.changeInput(r.source,d==null?void 0:d.channel,d==null?void 0:d.deviceId)}};return[(r==null?void 0:r.source)??null,s,i,o]}const RN=e=>{const t=e.player,[n,r,i,s]=qpe(t.number,e.inputs);return f.jsxs(f.Fragment,{children:[e.blockSourceChange?f.jsxs(Qpe,{children:[f.jsxs("h3",{className:"ph-no-capture",children:[t.getName()," Input"]}),f.jsx("h4",{children:"(click to change)"})]}):f.jsx(Ype,{...e.readonly?{}:e.register(`player-${t.number}-source`,()=>r()),label:f.jsxs("span",{className:"ph-no-capture",children:[t.getName()," Source"]}),value:n,disabled:e.readonly}),f.jsx(Kpe,{...e.readonly?{}:e.register(`player-${t.number}-input`,s),label:"Input",disabled:e.readonly,value:i==null?void 0:i.label,children:f.jsx(Wpe,{playerNumber:t.number})})]})},Wpe=C(nE,{target:"e6monco3"})({name:"1vx2200",styles:"opacity:0.75;width:50%;height:calc(100% - 0.5rem);margin:0.25rem"}),Kpe=C(li,{target:"e6monco2"})({name:"bjn8wh",styles:"position:relative"}),Ype=C(li,{target:"e6monco1"})({name:"bigtx2",styles:"background:none"}),Qpe=C("div",{target:"e6monco0"})({name:"1laz9o6",styles:"display:flex;justify-content:space-between;align-items:flex-end"});function bv(e=!1,t){const n=vi(ee.inputListChanged,()=>{const r={...ko.getInputList()};if(t)return{[t]:r[t]};for(const i in r)r[i].list.length===0&&delete r[i];return r});return y.useEffect(()=>{e&&ko.loadMics()},[e]),n}function Th(e,t=$g){y.useEffect(()=>{Me.setMinPlayerNumber(e);const n=Me.getPlayers();if(n.length>t)for(let r=n.length;r>t;r--)Me.removePlayer(n[r-1].number);else if(n.length<e){const r=Me.getPlayers().map(s=>s.number),i=Array.from(Array($g).keys()).filter(s=>!r.includes(s));console.log(i,r);for(let s=n.length;s<e;s++)Me.addPlayer(i.shift())}},[])}function MN(){const e=y.useRef(0);wr(ee.remoteMicConnected,({id:t})=>{var r;if(console.log("useRemoteMicAutoselect",t),Me.getInputs().some(i=>i.deviceId===t)){console.log(`Input ${t} already assigned to player`);return}const n=Me.getPlayer(e.current);n?n.changeInput(Eo.inputName,0,t):(r=Me.addPlayer(e.current))==null||r.changeInput(Eo.inputName,0,t),e.current=(e.current+1)%$g})}function Jpe(e){Th(2);const t=bv(!0),n=Sw();y.useEffect(()=>{e.onSetupComplete(n==="accepted")},[n]),MN();const{register:r}=zn({onBackspace:e.onBack}),s=vi(ee.playerInputChanged,()=>Me.getInputs()).filter(a=>a.source===_o.inputName),o=vi([ee.inputListChanged,ee.playerInputChanged,ee.playerRemoved],()=>Me.getPlayers());return f.jsxs(f.Fragment,{children:[f.jsxs(xh,{fallback:f.jsx("h2",{children:"Please allow access to the microphone so we can show them."}),children:[f.jsx(vw,{}),o.map((a,l)=>f.jsx(RN,{inputs:t,player:a,register:r,readonly:l>1},a.number)),f.jsx("hr",{}),s.length>1&&Hw()&&TN()&&f.jsxs("h3",{children:[f.jsx("strong",{children:"Chrome"})," is known for not handling SingStar mics well. If you notice any problems, try using an alternative browser (eg. ",f.jsx("strong",{children:"MS Edge"})," or ",f.jsx("strong",{children:"Firefox"}),")"]})]}),f.jsx(Pe,{...r("back-button",e.onBack),children:"Change Input Type"}),f.jsx(Pe,{...r("save-button",e.onSave),children:e.closeButtonText})]})}var rE={},Xpe=ot;Object.defineProperty(rE,"__esModule",{value:!0});var jN=rE.default=void 0,Zpe=Xpe(ut()),ege=f;jN=rE.default=(0,Zpe.default)((0,ege.jsx)("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check");var iE={},tge=ot;Object.defineProperty(iE,"__esModule",{value:!0});var sE=iE.default=void 0,nge=tge(ut()),rge=f;sE=iE.default=(0,nge.default)((0,rge.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-2h2zm0-4h-2V7h2z"}),"Error");function oE({names:e}){return f.jsx(ige,{children:Me.getPlayers().map(t=>f.jsxs(sge,{"data-test":`mic-check-p${t.number}`,children:[f.jsx(nE,{playerNumber:t.number}),f.jsx("span",{className:"ph-no-capture",children:(e==null?void 0:e[t.number])??t.getName()})]},t.number))})}const ige=C("div",{target:"e1e3gceh1"})({name:"e7x0p4",styles:"display:flex;gap:1.25rem;div{flex:1;}"}),sge=C("div",{target:"e1e3gceh0"})({name:"186bnmk",styles:"position:relative;border:0.1rem solid white;padding:1rem 3rem;background:black;text-align:center;gap:1.25rem;font-size:2.3rem;color:white"});function oge(e){const[t,n]=y.useState(null),r=y.useRef([]),i=y.useRef(0),s=y.useCallback(([o])=>{if(r.current.push(o),r.current.length>35){const l=r.current.sort()[Math.floor(r.current.length/2)]>0;l||i.current>7?n(l):i.current++,r.current.length=0}},[e]);return tE(0,s,t!==!0),y.useEffect(()=>{r.current.length=0,i.current=0,n(null)},[e]),t}function age(e){Th(1,1);const{register:t}=zn({onBackspace:e.onBack}),{Microphone:n}=bv(!0,"Microphone"),r=vi([ee.playerInputChanged,ee.inputListChanged],()=>{var u;const l=Me.getInputs().find(d=>d.source==="Microphone"),c=ko.getInputList().Microphone.list;return l?((u=c.find(d=>d.id===_l(l)))==null?void 0:u.label)??"":""}),i=l=>{Me.getPlayers().forEach(c=>c.changeInput(_o.inputName,l.channel,l.deviceId))},s=()=>{if(r===""){const l=n.getDefault();l&&i(l)}};y.useEffect(s,[]),wr([ee.inputListChanged,ee.playerRemoved],s);const o=()=>{const l=n.list.findIndex(c=>c.label===r);if(l>-1){const c=n.list[wh(n.list,l)];i(c)}},a=oge(r);return y.useEffect(()=>{e.onSetupComplete(!!r&&!!a)},[r,a]),f.jsxs(f.Fragment,{children:[f.jsxs(xh,{fallback:f.jsx("h2",{children:"Please allow access to the microphone so the default one can be selected."}),children:[!r&&f.jsx("h3",{children:"The default device is being selected."}),r&&f.jsxs(f.Fragment,{children:[f.jsxs(lge,{children:[f.jsx("h3",{children:"You'll sing using"}),f.jsx("h4",{children:"(click to change)"})]}),f.jsx(li,{...t("selected-mic",o),label:"Mic",value:r}),f.jsxs(cge,{children:[a===!0&&f.jsxs(f.Fragment,{children:[f.jsx("h3",{children:"Microphone is audible"}),f.jsx(lA,{children:f.jsx(dge,{})})]}),a===!1&&f.jsxs(f.Fragment,{children:[f.jsx("h3",{children:"Microphone is not audible"}),f.jsx(lA,{children:f.jsx(uge,{})})]}),a===null&&f.jsxs(f.Fragment,{children:[f.jsx("h3",{children:"Make some noise to the microphone"}),f.jsx(lA,{children:f.jsx(Eh,{size:"1em"})})]})]}),a===!1&&f.jsx("h4",{children:"Make some noise to the microphone. If that doesn't work, try using another microphone."})]}),f.jsx(oE,{}),a===!0&&f.jsxs("h4",{children:["Built-in microphones can pick up music from the game. For more accurate scores, try using your"," ",f.jsx("button",{onClick:()=>e.changePreference("remoteMics"),children:"smartphone as a microphone"}),"."]})]}),f.jsx(Pe,{...t("back-button",e.onBack),children:"Change Input Type"}),f.jsx(Pe,{...t("save-button",e.onSave,void 0,!0,{disabled:!r}),disabled:!r,children:e.closeButtonText})]})}const lge=C("div",{target:"e19x30ho4"})({name:"1laz9o6",styles:"display:flex;justify-content:space-between;align-items:flex-end"}),cge=C("div",{target:"e19x30ho3"})({name:"19mh0x6",styles:"display:flex;align-items:center;justify-content:flex-end"}),lA=C("div",{target:"e19x30ho2"})({name:"1wxh51d",styles:"width:4rem;height:3rem;display:flex;align-items:center;justify-content:flex-end"}),uge=C(sE,{target:"e19x30ho1"})({name:"72zlrs",styles:"&&{width:2em;height:2em;}color:red"}),dge=C(jN,{target:"e19x30ho0"})({name:"17t2lqr",styles:"&&{width:2em;height:2em;}color:white"});function fge(e){Th(2);const t=bv(!0,"Microphone"),n=Sw();y.useEffect(()=>{e.onSetupComplete(n==="accepted")},[n]),y.useEffect(()=>{Me.getPlayers().forEach(s=>{s.input.source!=="Microphone"&&s.changeInput("Microphone",0)})},[]);const{register:r}=zn({onBackspace:e.onBack}),i=vi([ee.inputListChanged,ee.playerInputChanged,ee.playerRemoved],()=>Me.getPlayers());return f.jsxs(f.Fragment,{children:[f.jsxs(xh,{fallback:f.jsx("h2",{children:"Please allow access to the microphone so we can show them."}),children:[i.map((s,o)=>f.jsx(RN,{inputs:t,player:s,register:r,readonly:o>1,blockSourceChange:!0},s.number)),f.jsx("hr",{})]}),f.jsx(Pe,{...r("back-button",e.onBack),children:"Change Input Type"}),f.jsx(Pe,{...r("save-button",e.onSave),children:e.closeButtonText})]})}function hge(e){const{register:t}=zn({onBackspace:e.onBack});return f.jsxs(f.Fragment,{children:[f.jsx(Pe,{...t("singstar-mics",()=>e.changePreference("singstar-mics")),children:"SingStar microphones"}),f.jsx(Pe,{...t("different-mics-button",()=>e.changePreference("different-mics")),children:"Multiple different microphones"}),f.jsx("hr",{}),f.jsx(Pe,{...t("back-button",e.onBack),children:"Change Input Type"})]})}function pge(e){var s,o;Th(2);const{register:t}=zn({onBackspace:e.onBack});MN();const n=vi([ee.inputListChanged,ee.playerInputChanged,ee.playerRemoved],()=>Me.getInputs().map(a=>a.source==="Remote Microphone"?a:null).map(a=>a?ko.getInputForPlayerSelected(a):null)),r=()=>{e.onSave()},i=!!((s=n[0])!=null&&s.label)&&!!((o=n[1])!=null&&o.label);return y.useEffect(()=>{e.onSetupComplete(i)},[i]),f.jsxs(f.Fragment,{children:[f.jsx(vw,{}),f.jsx("h4",{children:"You can connect multiple phones in advance."}),f.jsx("h4",{children:"You will be able to connect phones later."}),f.jsx(oE,{}),f.jsx(Pe,{...t("back-button",e.onBack),children:"Change Input Type"}),f.jsx(Pe,{...t("save-button",r,void 0,!0),children:e.closeButtonText})]})}function gge(e){Th(2);const{register:t}=zn({onBackspace:e.onBack}),{Microphone:n}=bv(!0,"Microphone"),[r,i]=y.useState(!1),s=vi([ee.playerInputChanged,ee.inputListChanged],()=>{const c=Me.getInputs(),u=[...new Set(c.map(p=>p.deviceId))].length===1,d=!c.find(p=>p.source!=="Microphone"),h=!c.find(p=>{var g;return((g=ko.getInputForPlayerSelected(p))==null?void 0:g.preferred)===void 0});return u&&d&&h});y.useEffect(()=>(s&&gn.startMonitoring(),()=>{gn.stopMonitoring()}),[s]);const o=()=>{e.onSave()},[a,l]=y.useState(!1);return wr(ee.inputListChanged,c=>{const u=n.list.filter(d=>d.preferred!==void 0);u.length===2&&u[0].deviceId===u[1].deviceId&&u.forEach(d=>{var h;(h=Me.getPlayer(d.preferred))==null||h.changeInput(_o.inputName,d.channel,d.deviceId)}),c||l(!0)}),y.useEffect(()=>{e.onSetupComplete(s)},[s]),y.useEffect(()=>{if(s)i(!1);else{const c=setTimeout(()=>i(!0),2500);return()=>clearTimeout(c)}},[s]),f.jsxs(f.Fragment,{children:[f.jsxs(xh,{fallback:f.jsx("h2",{children:"Please allow access to the microphone so we can find SingStar ones."}),children:[!s&&f.jsxs(f.Fragment,{children:[f.jsxs("h3",{children:[f.jsx(Eh,{size:"0.85em"})," Connect your SingStar microphones."]}),f.jsx("h4",{"data-test":"setup-not-completed",children:"It can take a couple of seconds to detect after you connect them."}),a&&f.jsx("h4",{children:f.jsxs("h4",{"data-test":"list-change-info",children:["Available microphones list has changed, but no SingStar mics were found. Try"," ",f.jsx("button",{onClick:()=>e.changePreference("advanced"),children:"Advanced"})," setup."]})}),r&&f.jsxs(f.Fragment,{children:[!a&&f.jsxs(NP,{"data-test":"advanced-tip",children:["If they don't get detected, try"," ",f.jsx("button",{onClick:()=>e.changePreference("advanced"),children:"Advanced"})," section in the previous menu."]}),Hw()&&TN()&&f.jsxs(NP,{children:[f.jsx("strong",{children:"Chrome"})," is known for not handling SingStar mics well. If you notice any problems, try using an alternative browser (eg. ",f.jsx("strong",{children:"MS Edge"})," or ",f.jsx("strong",{children:"Firefox"}),")"]})]})]}),s&&f.jsxs(f.Fragment,{children:[f.jsxs("h2",{"data-test":"setup-completed",children:[f.jsx("strong",{children:"SingStar"})," microphone connected!"]}),f.jsx(oE,{names:["Blue","Red"]})]})]}),f.jsx(Pe,{...t("back-button",e.onBack),children:"Change Input Type"}),f.jsx(Pe,{...t("save-button",o,void 0,!0,{disabled:!s}),"data-test":"save-button",children:e.closeButtonText})]})}const NP=C("h4",{target:"ejfctyg0"})({name:"3v8j4h",styles:"background:darkred;padding:1rem"});function mge(e){return y.useEffect(()=>{e.onSave()},[]),null}const ON="Previously selected input type",vge=Oe.local.getItem(ON);function aE({onFinish:e,closeButtonText:t,playerNames:n,onBack:r,skipText:i,smooth:s=!0}){const[o,a]=Fe(zb),[l,c]=y.useState(o==="skip"?null:o),[u,d]=y.useState(!1);y.useEffect(()=>{const m=gn.monitoringStarted();return gn.startMonitoring(),()=>{!m&&gn.stopMonitoring()}},[]);const h=(...m)=>{s?Hf(()=>{Lu.flushSync(()=>{c(...m)})}):c(...m)},p=m=>()=>{a(m==="skip"?o??"skip":m),m&&(Oe.local.setItem(ON,m),Vn.capture("sourcePreferenceSet",{source:m})),e==null||e(m)},g=()=>{Hf(()=>{c(null),d(!1)})};return f.jsxs(f.Fragment,{children:[f.jsx(Cpe,{children:u?f.jsxs(f.Fragment,{children:[f.jsx(Ipe,{})," Setup completed!"]}):"How do you want to sing?"}),(l===null||l==="skip")&&f.jsx(Upe,{onPreferenceSelected:h,previouslySelected:vge,onBack:r,skipText:i}),l==="remoteMics"&&f.jsx(pge,{onSetupComplete:d,onBack:g,onSave:p("remoteMics"),closeButtonText:t,changePreference:c}),l==="multiple-mics"&&f.jsx(hge,{onSetupComplete:d,onBack:g,closeButtonText:t,changePreference:c}),l==="singstar-mics"&&f.jsx(gge,{onSetupComplete:d,onBack:g,onSave:p("singstar-mics"),closeButtonText:t,changePreference:c}),l==="different-mics"&&f.jsx(fge,{onSetupComplete:d,onBack:g,onSave:p("singstar-mics"),closeButtonText:t,changePreference:c}),l==="built-in"&&f.jsx(age,{onSetupComplete:d,onBack:g,onSave:p("built-in"),closeButtonText:t,changePreference:c}),l==="advanced"&&f.jsx(Jpe,{onSave:p("advanced"),onSetupComplete:d,onBack:g,closeButtonText:t,changePreference:c}),l==="skip"&&f.jsx(mge,{onSetupComplete:d,onBack:g,onSave:p("skip"),closeButtonText:t,changePreference:c})]})}function yge(e){const t=Zr();return f.jsxs(Pa,{children:[f.jsx(Ai,{children:f.jsx("title",{children:"Select Input | AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsx(aE,{onFinish:()=>t("menu/"),closeButtonText:"Go to main menu"})]})}const Age=({error:e,resetError:t})=>f.jsxs(Pa,{supportedBrowsers:!0,children:[f.jsxs("h1",{children:[f.jsx(Ul,{fontSize:"large"})," An error occurred :("]}),"message"in e?f.jsxs(f.Fragment,{children:[f.jsx("h3",{children:"The game crashed with following error"}),f.jsx(_ge,{children:e.message})]}):f.jsx("h3",{children:"The game crashed"}),f.jsxs("h3",{children:["Help fix it by reporting what exactly has happened at"," ",f.jsx("a",{href:"https://github.com/Asvarox/allkaraoke",target:"_blank",rel:"noreferrer",children:"GitHub"})," ","or"," ",f.jsx("a",{href:"https://www.facebook.com/allkaraoke.party",target:"_blank",rel:"noreferrer",children:"Facebook"})]}),f.jsx(Pe,{onClick:t,children:"Reset Error"}),f.jsx("h4",{children:"If that doesn't help"}),f.jsx(Pe,{onClick:()=>{var n;return global.location.href=(n=global.location)==null?void 0:n.origin},children:"Reload the game"}),f.jsx("h4",{children:"If that doesn't help"}),f.jsx(Pe,{onClick:()=>{var n;global.confirm("Are you sure? It will delete all custom songs and scores. Before doing that, try opening the game in an private window or another browser to make sure it will actually help")&&(Oe.session.clear(),Oe.local.clear(),Bd.clear(),global.location.href=(n=global.location)==null?void 0:n.origin)},children:"Clear all data"})]}),_ge=C("span",{target:"e10ztnls0"})({name:"1jmtlcm",styles:"color:white;font-family:monospace"});var bge={VITE_APP_SENTRY_DSN_URL:"https://66c6e940d24b4096a277f350571921bb@o366978.ingest.sentry.io/6174734",VITE_APP_POSTHOG_KEY:"phc_bw7XLoONmtGVezmMKTvcwk3lj37jzxTfisqzjlJ0Jik",VITE_APP_BACKEND_HOST:"backend.allkaraoke.party",VITE_APP_WEBSOCKET_URL:"wss://backend.allkaraoke.party",VITE_APP_SENTRY_TUNNEL:"https://backend.allkaraoke.party/sentry",VITE_APP_POSTHOG_PROXY:"https://backend.allkaraoke.party/posthog",VITE_APP_SONG_CONVERT_PROXY:"https://backend.allkaraoke.party/proxy",VITE_APP_PARTYKIT_URL:"wss://allkaraoke-partykit.asvarox.partykit.dev",VITE_CJS_IGNORE_WARNING:"true",VITE_APP_PRERENDER:"true",BASE_URL:"/prs/284/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};function Sge(e){Ra(!1);const t=kh();return y.useEffect(()=>{if(t.data){const n={};(async()=>{for(const r of t.data){if(r.realBpm)continue;const i=[`lookup=song:${encodeURIComponent(r.title)}+artist:${encodeURIComponent(r.artist)}`,"type=both",`api_key=${bge.VITE_APP_GET_SONG_BPM_API_TOKEN}`].join("&"),o=await(await fetch(`https://api.getsongbpm.com/search/?${i}`)).json();n[r.id]=Array.isArray(o.search)&&o.search[0]||null}console.log(n)})()}},[t.data]),f.jsx(f.Fragment,{children:"Copy resulting object to `scripts/scraped-bpm-data.json` file and run fillMetadata script"})}function xge(e){const t=Zr(),n=()=>t("menu/");return f.jsxs(f.Fragment,{children:[f.jsx(Ai,{children:f.jsx("title",{children:"Select Languages | AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsx(Kw,{children:f.jsx(tN,{onClose:n,closeText:"Return to Main Menu"})})]})}function VN(){const[e]=Fe(Hb);y.useEffect(()=>{try{e&&document.body.requestFullscreen().catch(console.info)}catch{}},[])}let cA=0;function LN(){y.useEffect(()=>(document.body.classList.add("blockOverflow"),document.documentElement.classList.add("blockOverflow"),cA++,()=>{cA--,cA===0&&(document.body.classList.remove("blockOverflow"),document.documentElement.classList.remove("blockOverflow"))}),[])}var lE={},wge=ot;Object.defineProperty(lE,"__esModule",{value:!0});var NN=lE.default=void 0,Ege=wge(ut()),kge=f;NN=lE.default=(0,Ege.default)((0,kge.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2M7.5 18c-.83 0-1.5-.67-1.5-1.5S6.67 15 7.5 15s1.5.67 1.5 1.5S8.33 18 7.5 18m0-9C6.67 9 6 8.33 6 7.5S6.67 6 7.5 6 9 6.67 9 7.5 8.33 9 7.5 9m4.5 4.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m4.5 4.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m0-9c-.83 0-1.5-.67-1.5-1.5S15.67 6 16.5 6s1.5.67 1.5 1.5S17.33 9 16.5 9"}),"Casino");function Cge({setFilters:e,filters:t,keyboardControl:n,visible:r,setVisible:i}){const s=y.useRef(null),[o,a]=y.useState(!1),l=h=>{e(p=>({...p,search:h}))};Pr("down",()=>{var h;(h=s.current)==null||h.blur()},{enabled:o,enableOnTags:["INPUT"]});const u=h=>{h.stopPropagation(),h.preventDefault(),l(h.key)};Pr(L1,h=>{u(h),i(!0)},{enabled:!t.search&&n});const d=y.useCallback(h=>{n&&l(h)},[n]);return wr(ee.remoteSongSearch,d),Pr(L1,h=>{var p;u(h),(p=s.current)==null||p.focus()},{enabled:!o&&n},[t.search]),Pr("Backspace",h=>{var p;(p=s.current)==null||p.focus()},{enabled:!o&&n},[t.search]),y.useEffect(()=>{o||i(!!t.search)},[o,t.search,i]),!t.search&&!r?null:f.jsx(Tge,{"data-test":"song-list-search",children:f.jsx(Ige,{large:!0,children:f.jsx("form",{"data-test":"filters-search-form",onSubmit:h=>{var p;h.preventDefault(),(p=s.current)==null||p.blur()},children:f.jsx(Hl,{onFocus:()=>a(!0),onBlur:()=>a(!1),onKeyDown:h=>{var p;h.key==="Backspace"&&((p=t.search)==null?void 0:p.length)===0&&i(!1)},focused:o,autoFocus:!0,label:"Search",value:t.search??"",onChange:l,ref:s,"data-test":"filters-search"})})})})}const Tge=C("div",{target:"ektgxsz1"})({name:"t46wvs",styles:"background:rgba(0, 0, 0, 0.7);padding:2rem;font-size:3rem;box-sizing:border-box;display:flex;flex-direction:row;gap:2rem;position:fixed;z-index:200;top:4.5rem;left:30rem;right:30rem"}),Ige=C("div",{target:"ektgxsz0"})("flex:",e=>e.large?1.5:1,";");function Pge({onRandom:e,setFilters:t,filters:n,keyboardControl:r}){const[i,s]=y.useState(!1),o=()=>{t(a=>({...a,search:""}))};return f.jsxs(f.Fragment,{children:[f.jsxs(Rge,{children:[f.jsx(hu,{title:"Search",place:"left",children:f.jsx(BP,{onClick:()=>i?o():s(!0),"data-test":"search-song-button",children:f.jsx(pv,{})})}),f.jsx(hu,{title:"Pick random",place:"left",children:f.jsx(BP,{onClick:e,"data-test":"random-song-button",children:f.jsx(NN,{})})})]}),f.jsx(Cge,{setFilters:t,filters:n,visible:i,setVisible:s,keyboardControl:r})]})}const BP=C(Rs,{target:"eie1eis1"})("box-shadow:inset 0 0 2px 2px ",de.colors.text.active,";background:black;width:7.5rem;height:7.5rem;border-radius:50%;display:flex;align-items:center;justify-content:center;svg{width:4.5rem;height:4.5rem;}"),Rge=C("div",{target:"eie1eis0"})({name:"1x0sh4s",styles:"pointer-events:none;position:fixed;display:flex;flex-direction:column;align-items:center;justify-content:center;bottom:2.5rem;right:2.5rem;z-index:100;gap:2rem"});function BN({videoId:e,...t}){return f.jsx(Vge,{src:`https://img.youtube.com/vi/${e}/default.jpg`,alt:`Thumbnail image for YouTube video ${e}`,...t})}function Mge({videoId:e,...t}){const n=FJ(e)??e,[r,i]=y.useState(!0);y.useLayoutEffect(()=>{i(o=>!o)},[e]);const[s]=Fe($i);return s==="low"?null:f.jsxs(jge,{...t,children:[f.jsx(DP,{videoId:r?e:n,visible:r}),f.jsx(DP,{videoId:r?n:e,visible:!r}),f.jsx(Oge,{videoId:n})]})}const jge=C("div",{target:"e1lv5ws3"})({name:"k44s62",styles:"position:relative;overflow:hidden;background:black"}),Oge=C(BN,{target:"e1lv5ws2"})({name:"6dhm9o",styles:"visibility:hidden"}),DP=C(BN,{target:"e1lv5ws1"})("position:absolute;transition:opacity 300ms;opacity:",e=>e.visible?1:0,";"),Vge=C("img",{target:"e1lv5ws0"})({name:"4uwt2b",styles:"width:100%;height:100%;object-fit:cover"});function Lge(e,t,n="mousedown",r={}){NJ(n,i=>{const s=i.target;if(!s||!s.isConnected)return;(Array.isArray(e)?e.filter(a=>!!a.current).every(a=>a.current&&!a.current.contains(s)):e.current&&!e.current.contains(s))&&t(i)},void 0,r)}function Nge({active:e,closePlaylist:t,playlists:n,selectedPlaylist:r,setSelectedPlaylist:i}){const{register:s,focused:o,focusElement:a}=zn({enabled:e,additionalHelp:{vertical:void 0,"horizontal-vertical":null}}),l=y.useRef(null);return Lge(l,()=>{t()}),Dl({left:()=>t("left"),right:()=>t("right")},e),y.useEffect(()=>{a(`playlist-${r}`)},[r]),y.useEffect(()=>{if(o){const c=n.find(u=>`playlist-${u.name}`===o);c&&i(c.name)}},[o,n]),f.jsx(Bge,{"data-test":"song-list-playlists",active:e,ref:l,children:n.map(({Wrapper:c,...u})=>{const d=f.jsx(Dge,{"data-selected":`playlist-${u.name}`===o,"data-active":e,...s(`playlist-${u.name}`,()=>a(`playlist-${u.name}`),void 0,u.name===r),children:u.display??u.name},u.name);return c?f.jsx(c,{active:e,focused:`playlist-${u.name}`===o,children:d},u.name):d})})}const Bge=C("div",{target:"emspgv91"})("background:rgba(0, 0, 0, ",e=>e.active?.75:.5,");width:100vh;height:var(--song-sidebar-weight);transform-origin:top right;transform:rotate(-90deg);position:absolute;z-index:200;left:-100vh;top:0;box-sizing:border-box;display:flex;flex-direction:row-reverse;gap:0;h2{",$e,";margin:0;}"),Dge=C(Rs,{target:"emspgv90"})("font-size:2.3rem;justify-self:stretch;flex-grow:1;&[data-focused='false'][data-active='true']{background-color:transparent;}&[data-selected='true']{",CJ,";}&[data-selected='false'][data-active='false']{opacity:0.75;}padding:1.5rem 1rem;"),cE=e=>{const[t,n]=y.useState(null),r=Zc(e),i=async()=>{n(await n3(e))};return y.useEffect(()=>{i()},[r]),wr(ee.songStatStored,i),t},$ge=e=>async(t,n,r,i)=>{const s=Zc(e),o=await n3(e),a=o.scores.map(c=>{if(c.setup.id!==t)return c;const u=c.scores.map(d=>d.name!==r||d.score!==n?d:{name:i.trim(),score:n});return{...c,scores:u}}),l={...o,scores:a};await r3(e,l),ee.songScoreUpdated.dispatch(s,l,i.trim())},Fge=JSON.parse(`{
  "af": [
    "Persian Dari",
    "Pashto"
  ],
  "al": [
    "Albanian"
  ],
  "dz": [
    "Arabic",
    "Berber"
  ],
  "ad": [
    "Catalan"
  ],
  "ao": [
    "Portuguese"
  ],
  "ag": [
    "English"
  ],
  "ar": [
    "Spanish"
  ],
  "am": [
    "Armenian"
  ],
  "au": [
    "English"
  ],
  "at": [
    "German"
  ],
  "az": [
    "Azerbaijani"
  ],
  "bs": [
    "English"
  ],
  "bh": [
    "Arabic"
  ],
  "bd": [
    "Bengali"
  ],
  "bb": [
    "English"
  ],
  "by": [
    "Belarusian",
    "Russian"
  ],
  "be": [
    "Dutch",
    "French",
    "German"
  ],
  "bz": [
    "English"
  ],
  "dy": [
    "French"
  ],
  "bt": [
    "Dzongkha"
  ],
  "bo": [
    "Spanish",
    "Aymara",
    "Araona",
    "Baure",
    "Bsiro Chiquitano",
    "Canichana",
    "Cavinea",
    "Cayubaba",
    "Chcobo",
    "Chimn",
    "Ese Ejja",
    "Guaran",
    "Guarasuwe",
    "Guarayu",
    "Itonama",
    "Leco",
    "Machajuyai",
    "Machineri",
    "Maropa",
    "Mojeo",
    "Mojeo",
    "Mor",
    "Mosetn",
    "Movima",
    "Pacawara",
    "Puquina",
    "Quechua",
    "Sirion",
    "Tacana",
    "Tapiet",
    "Toromona",
    "Uru-Chipaya",
    "Weenhayek",
    "Yaminawa",
    "Yuki",
    "Yuracar",
    "Zamuco"
  ],
  "ba": [
    "Bosnian",
      "Croatian",
      "Serbian"
  ],
  "bw": [
    "English"
  ],
  "br": [
    "Portuguese"
  ],
  "bn": [
    "Malay"
  ],
  "bg": [
    "Bulgarian"
  ],
  "hv": [
    "French"
  ],
  "bi": [
    "French",
    "Kirundi",
    "English"
  ],
  "kh": [
    "Khmer"
  ],
  "cm": [
    "English",
    "French"
  ],
  "ca": [
    "English",
    "French"
  ],
  "cv": [
    "Portuguese"
  ],
  "cf": [
    "French",
    "Sango"
  ],
  "td": [
    "Arabic",
    "French"
  ],
  "cl": [
    "Spanish"
  ],
  "cn": [
    "Chinese"
  ],
  "cx": [
    "English",
    "Chinese",
    "Malay"
  ],
  "cc": [
    "English",
    "Cocos Malay"
  ],
  "co": [
    "Spanish"
  ],
  "km": [
    "Arabic",
    "Comorian",
    "French"
  ],
  "cd": [
    "French"
  ],
  "cg": [
    "French"
  ],
  "ck": [
    "English",
    "Cook Islands Mori"
  ],
  "cr": [
    "Spanish"
  ],
  "hr": [
    "Croatian"
  ],
  "cu": [
    "Spanish"
  ],
  "cy": [
    "Turkish"
  ],
  "cz": [
    "Czech",
    "Slovak"
  ],
  "dk": [
    "Danish"
  ],
  "dj": [
    "Arabic",
    "French"
  ],
  "dm": [
    "English"
  ],
  "do": [
    "Spanish"
  ],
  "tl": [
    "Portuguese",
    "Tetum"
  ],
  "ec": [
    "Spanish",
    "Quechua"
  ],
  "eg": [
    "Arabic"
  ],
  "sv": [
    "Spanish"
  ],
  "gq": [
    "French",
    "Portuguese",
    "Spanish"
  ],
  "er": [
    "Tigrinya"
  ],
  "ee": [
    "Estonian"
  ],
  "sz": [
    "English",
    "Swazi"
  ],
  "et": [
    "Afar",
    "Amharic",
    "Oromo",
    "Somali",
    "Tigrinya"
  ],
  "fj": [
    "English",
    "Fijian",
    "Fiji Hindi"
  ],
  "fi": [
    "Finnish",
    "Swedish"
  ],
  "fx": [
    "French"
  ],
  "ga": [
    "French"
  ],
  "gm": [
    "English"
  ],
  "ge": [
    "Ossetian",
    "Russian"
  ],
  "de": [
    "German"
  ],
  "gh": [
    "English"
  ],
  "gr": [
    "Greek"
  ],
  "gd": [
    "English"
  ],
  "gt": [
    "Spanish"
  ],
  "gn": [
    "French"
  ],
  "gw": [
    "Portuguese"
  ],
  "gy": [
    "English"
  ],
  "ht": [
    "French",
    "Creole"
  ],
  "hn": [
    "Spanish"
  ],
  "hu": [
    "Hungarian"
  ],
  "is": [
    "Icelandic"
  ],
  "in": [
    "Hindi",
    "English"
  ],
  "id": [
    "Indonesian"
  ],
  "ir": [
    "Persian"
  ],
  "iq": [
    "Arabic",
    "Kurdish"
  ],
  "ie": [
    "Irish",
    "English"
  ],
  "il": [
    "Hebrew"
  ],
  "it": [
    "Italian"
  ],
  "ci": [
    "French"
  ],
  "jm": [
    "English"
  ],
  "jp": [
    "Japanese"
  ],
  "jo": [
    "Arabic"
  ],
  "kz": [
    "Kazakh",
    "Russian"
  ],
  "ke": [
    "English",
    "Swahili"
  ],
  "ki": [
    "English",
    "Gilbertese"
  ],
  "kp": [
    "Korean"
  ],
  "kr": [
    "Korean"
  ],
  "xk": [
    "Albanian",
    "Serbian"
  ],
  "kw": [
    "Arabic"
  ],
  "kg": [
    "Kyrgyz",
    "Russian"
  ],
  "la": [
    "Lao"
  ],
  "lv": [
    "Latvian"
  ],
  "lb": [
    "Arabic"
  ],
  "ls": [
    "Sotho",
    "English"
  ],
  "lr": [
    "English"
  ],
  "ly": [
    "Arabic"
  ],
  "li": [
    "German"
  ],
  "lt": [
    "Lithuanian"
  ],
  "lu": [
    "French",
    "German",
    "Luxembourgish"
  ],
  "mg": [
    "French",
    "Malagasy"
  ],
  "mw": [
    "English",
    "Chichewa"
  ],
  "my": [
    "Malay"
  ],
  "mv": [
    "Dhivehi"
  ],
  "ml": [
    "Bambara",
    "Bobo",
    "Bozo",
    "Dogon",
    "Fula",
    "Hassaniya",
    "Kassonke",
    "Maninke",
    "Minyanka",
    "Senufo",
    "Songhay",
    "Soninke",
    "Tamasheq"
  ],
  "mt": [
    "Italian"
  ],
  "mh": [
    "English",
    "Marshallese"
  ],
  "mr": [
    "Arabic"
  ],
  "mu": [
    "English",
    "Morisien"
  ],
  "mx": [
    "Spanish"
  ],
  "fm": [
    "English"
  ],
  "md": [
    "Moldovan",
    "Russian",
    "Ukrainian"
  ],
  "mc": [
    "French"
  ],
  "mn": [
    "Mongolian"
  ],
  "me": [
    "Montenegrin"
  ],
  "ma": [
    "Arabic",
    "Berber"
  ],
  "mz": [
    "Portuguese"
  ],
  "mm": [
    "Burmese"
  ],
  "na": [
    "English"
  ],
  "nr": [
    "English",
    "Nauruan"
  ],
  "np": [
    "Nepali"
  ],
  "nl": [
    "Dutch"
  ],
  "nz": [
    "English",
    "Maori"
  ],
  "ni": [
    "Spanish"
  ],
  "ne": [
    "French"
  ],
  "ng": [
    "English"
  ],
  "nu": [
    "English",
    "Niuean"
  ],
  "nf": [
    "English",
    "Norfuk"
  ],
  "mk": [
    "Macedonian",
    "Albanian"
  ],
  "no": [
    "Norwegian",
    "Sami"
  ],
  "om": [
    "Arabic"
  ],
  "pk": [
    "Urdu",
    "English"
  ],
  "pw": [
    "English",
    "Palauan"
  ],
  "ps": [
    "Arabic"
  ],
  "pa": [
    "Spanish"
  ],
  "pg": [
    "English",
    "Hiri Motu",
    "Tok Pisin"
  ],
  "py": [
    "Spanish",
    "Guaran"
  ],
  "pe": [
    "Spanish",
    "Quechua",
    "Aymara",
    "Ashninka"
  ],
  "ph": [
    "Filipino",
    "English"
  ],
  "pl": [
    "Polish"
  ],
  "pt": [
    "Portuguese"
  ],
  "qa": [
    "Arabic"
  ],
  "ro": [
    "Romanian"
  ],
  "su": [
    "Russian"
  ],
  "rw": [
    "English",
    "French",
    "Kinyarwanda",
    "Swahili"
  ],
  "eh": [
    "Arabic"
  ],
  "kn": [
    "English"
  ],
  "lc": [
    "English"
  ],
  "vc": [
    "English"
  ],
  "ws": [
    "English",
    "Samoan"
  ],
  "sm": [
    "Italian"
  ],
  "st": [
    "Portuguese"
  ],
  "sa": [
    "Arabic"
  ],
  "sn": [
    "French"
  ],
  "yu": [
    "Serbian"
  ],
  "sc": [
    "English",
    "French",
    "Creole"
  ],
  "sl": [
    "English"
  ],
  "sg": [
    "English",
    "Malay",
    "Chinese",
    "Tamil"
  ],
  "sk": [
    "Slovak"
  ],
  "si": [
    "Slovene"
  ],
  "sb": [
    "English"
  ],
  "so": [
    "Arabic",
    "English",
    "Somali"
  ],
  "za": [
    "Afrikaans",
    "English",
    "Ndebele",
    "Sotho",
    "Swazi",
    "Tsonga",
    "Tswana",
    "Venda",
    "Xhosa",
    "Zulu"
  ],
  "ss": [
    "English"
  ],
  "es": [
    "Spanish"
  ],
  "lk": [
    "Sinhala",
    "Tamil"
  ],
  "sd": [
    "Arabic",
    "English"
  ],
  "sr": [
    "Dutch"
  ],
  "se": [
    "Swedish"
  ],
  "ch": [
    "French",
    "German",
    "Italian",
    "Romansh"
  ],
  "sy": [
    "Arabic"
  ],
  "tw": [
    "Chinese"
  ],
  "tj": [
    "Tajik"
  ],
  "tz": [
    "Swahili",
    "English"
  ],
  "th": [
    "Thai"
  ],
  "tg": [
    "French"
  ],
  "tk": [
    "English",
    "Tokelauan"
  ],
  "to": [
    "English",
    "Tongan"
  ],
  "tt": [
    "English"
  ],
  "tn": [
    "Arabic"
  ],
  "tr": [
    "Turkish"
  ],
  "tm": [
    "Turkmen"
  ],
  "tv": [
    "Tuvaluan",
    "English"
  ],
  "ug": [
    "English",
    "Swahili"
  ],
  "ua": [
    "Ukrainian"
  ],
  "ae": [
    "Arabic"
  ],
  "uk": [
    "English"
  ],
  "us": [
    "English"
  ],
  "uy": [
    "Spanish"
  ],
  "uz": [
    "Uzbek"
  ],
  "vu": [
    "English",
    "French",
    "Bislama"
  ],
  "va": [
    "Italian"
  ],
  "ve": [
    "Spanish"
  ],
  "vn": [
    "Vietnamese"
  ],
  "ye": [
    "Arabic"
  ],
  "zm": [
    "English"
  ],
  "zw": [
    "Chewa",
    "Chibarwe",
    "English",
    "Kalanga",
    "Khoisan",
    "Nambya",
    "Ndau",
    "Ndebele",
    "Shangani",
    "Shona",
    "Sotho",
    "Tonga",
    "Tswana",
    "Venda",
    "Xhosa"
  ]
}`),zge=["US","GB"];function Uge({song:e,forceFlag:t,...n}){const r=e.language[0],i=y.useMemo(()=>{var s;return e.artistOrigin?((s=Fge[e.artistOrigin.toLowerCase()])==null?void 0:s.includes(r))??t:!1},[e.artistOrigin,r,t]);return f.jsx(f.Fragment,{children:t&&e.artistOrigin?f.jsx(zc,{isocode:e.artistOrigin,...n}):i&&!zge.includes(e.artistOrigin)?f.jsx(zc,{isocode:e.artistOrigin,...n}):e.language[0]!=="English"?f.jsx(zc,{language:e.language,...n}):null})}var uE={},Hge=ot;Object.defineProperty(uE,"__esModule",{value:!0});var DN=uE.default=void 0,Gge=Hge(ut()),qge=f;DN=uE.default=(0,Gge.default)((0,qge.jsx)("path",{d:"M7.25 12.5 4.75 9H3.5v6h1.25v-3.5L7.3 15h1.2V9H7.25zM9.5 15h4v-1.25H11v-1.11h2.5v-1.26H11v-1.12h2.5V9h-4zm9.75-6v4.5h-1.12V9.99h-1.25v3.52h-1.13V9H14.5v5c0 .55.45 1 1 1h4c.55 0 1-.45 1-1V9z"}),"FiberNewOutlined");var dE={},Wge=ot;Object.defineProperty(dE,"__esModule",{value:!0});var $N=dE.default=void 0,Kge=Wge(ut()),Yge=f;$N=dE.default=(0,Kge.default)((0,Yge.jsx)("path",{d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star");function Qge(e){return Al(e.edition??"").startsWith("esc")}const FN="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20width='125.33'%20height='131.46'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:cc='http://creativecommons.org/ns%23'%20xmlns:dc='http://purl.org/dc/elements/1.1/'%20xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23'%3e%3cpath%20stroke='black'%20fill='white'%20d='m12.726%2058.556c0.31803-28.513%2015.157-37.437%2023.237-37.437%2011.285%200%2015.946%208.6151%2016.707%2012.429%200.76116%203.8111%205.0324%206.8595%206.4047%200.60798%201.3734-6.2515%2014.649-25.315%2030.966-25.315%2014.943%200%2020.119%2015.41%2019.671%2028.518-1.2228%2035.683-47.19%2064.158-53.239%2082.143-5.3875-10.891-44.126-26.634-43.746-60.946zm82.652-58.556c-13.42%200-29.29%209.9111-38.896%2026.382-2.592-5.9483-11.827-12.43-22.805-12.43-8.8462%200-33.676%2011.056-33.676%2046.74%200%2046.052%2046.593%2055.508%2056.011%2069.825%200.64721%200.98433%202.7319%201.728%203.5276-0.62388%207.5157-22.18%2065.791-47.242%2065.791-92.379-5.3e-4%20-25.314-16.536-37.513-29.955-37.513z'%20stroke-width='.53006'/%3e%3c/svg%3e",Jge=e=>f.jsxs(Zge,{children:[e.song.tracksCount>1&&f.jsxs(tme,{"data-test":"multitrack-indicator",children:[f.jsx(Zd,{})," Duet"]}),f.jsx(Xge,{song:e.song,isPopular:e.isPopular,focused:!!e.video})]}),Xge=({song:e,isPopular:t,focused:n})=>{var l,c,u,d;const r=y.useMemo(()=>Im.recentlyUpdated([e]).length>0,[e]),i=Qge(e),s=cE(e),o=((c=(l=s==null?void 0:s.scores)==null?void 0:l.at(-1))==null?void 0:c.date)??!1,a=o&&ms(o).isAfter(ms().subtract(1,"days"));return s!=null&&s.plays?f.jsx(UN,{"data-test":"song-stat-indicator",children:a?"Played today":f.jsx(f.Fragment,{children:n?f.jsxs(f.Fragment,{children:["Played ",s.plays," time",s.plays>1&&"s"]}):s.plays})}):i?f.jsxs(dA,{white:!0,children:[f.jsx(uA,{children:n?(u=e.edition)==null?void 0:u.replace("ESC","Eurovision"):(d=e.edition)==null?void 0:d.replace("ESC ","")}),f.jsx(eme,{src:FN,alt:e.edition})]}):r?f.jsx(dA,{white:!0,children:n?f.jsx(uA,{children:"Added recently"}):f.jsx(DN,{})}):t&&e.language.includes("English")?f.jsx(f.Fragment,{children:f.jsxs(dA,{children:[n&&f.jsx(uA,{children:"Popular"}),f.jsx($N,{})]})}):null},uA=C("div",{target:"enamf7r6"})({name:"eh2bdr",styles:"padding:0 0.5rem;line-height:0;margin-top:0.2rem;&+svg{margin-left:-0.25rem;}"}),Zge=C("div",{target:"enamf7r5"})({name:"67oilw",styles:"position:absolute;top:0.5rem;left:0;padding:0 0.5rem;box-sizing:border-box;display:flex;align-items:center;justify-content:flex-end;gap:0.5rem;width:100%"}),zN=C("div",{target:"enamf7r4"})({name:"1utw6sa",styles:"height:2.75rem;min-width:2.75rem;box-sizing:border-box;color:white;font-size:1.4rem;display:flex;align-items:center;justify-content:center;text-transform:uppercase;background:rgba(0, 0, 0, 0.75);border-radius:0.5rem"}),dA=C(zN,{target:"enamf7r3"})("overflow:hidden;display:flex;align-items:center;justify-content:center;svg,img{fill:",e=>e.white?"white":de.colors.text.active,";width:2.5rem;height:2.5rem;}"),eme=C("img",{target:"enamf7r2"})({name:"1pr315k",styles:"padding:0.35rem;margin:0 0.15rem 0 -0.35rem;box-sizing:border-box"}),UN=C(zN,{target:"enamf7r1"})({name:"2ycp6t",styles:"padding:0 1rem"}),tme=C(UN,{target:"enamf7r0"})({name:"1k65tge",styles:"margin-right:auto;svg{width:1.75rem;height:1.75rem;}"}),HN=({song:e,focused:t,video:n,children:r,index:i,groupLetter:s,handleClick:o,isPopular:a,background:l=!0,forceFlag:c=!1,...u})=>{const d=u["data-expanded"]??!1,h=y.useCallback(()=>o?o(i,s):void 0,[o,i,s]),[p]=Fe($i);return f.jsxs(ime,{...u,onClick:o?h:void 0,children:[l&&f.jsx(sme,{style:{backgroundImage:`url('https://i3.ytimg.com/vi/${e.video}/hqdefault.jpg')`},"data-focused":d?!1:t,"data-expanded":u["data-expanded"],"data-graphic-setting":p}),f.jsxs(rme,{"data-expanded":d,children:[!d&&f.jsx(Jge,{song:e,isPopular:a,video:n}),f.jsx(fE,{"data-expanded":d,children:e.artist}),f.jsx(Sv,{"data-expanded":d,children:e.title}),f.jsxs(GN,{"data-expanded":d,children:[d&&f.jsxs(f.Fragment,{children:[e.author&&f.jsxs(WN,{expanded:d,children:["by",e.authorUrl?f.jsx("a",{href:e.authorUrl,target:"_blank",rel:"noreferrer",children:e.author}):e.author]}),f.jsx(ome,{song:e})]}),!d&&f.jsx(nme,{song:e,forceFlag:c})]})]}),r,n]})},nme=C(Uge,{target:"e1ornw2x8"})({name:"1152n88",styles:"height:2.75rem;object-fit:cover;border-top-right-radius:1rem;border-bottom-left-radius:1rem;position:absolute;z-index:-1;left:0rem;bottom:0rem;opacity:0.95"}),GN=C("div",{target:"e1ornw2x7"})({name:"1dgv8bf",styles:"display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-start"}),rme=C("div",{target:"e1ornw2x6"})({name:"cwmgde",styles:"width:100%;height:100%;display:flex;align-items:flex-end;justify-content:flex-end;z-index:1;box-sizing:border-box;flex-direction:column;&[data-expanded='true']{align-items:flex-start;justify-content:flex-start;}"}),ime=C("div",{target:"e1ornw2x5"})({name:"1s4n252",styles:"font-size:4.5rem;display:flex;align-items:flex-end;justify-content:flex-end;flex-direction:column;box-sizing:border-box;position:relative;padding:0.5rem;border:0.1rem black solid;border-radius:1rem"}),sme=C("div",{target:"e1ornw2x4"})({name:"10xrxr9",styles:"background-color:#2b2b2b;border-radius:1rem;&[data-expanded='true']{border-radius:0;}position:absolute;z-index:-1;inset:0;&[data-graphic-setting='high']{transition:300ms;&[data-focused='true']{background-size:100%;opacity:1;}&[data-focused='false']{background-size:110%;filter:grayscale(90%);opacity:0.8;}&[data-expanded='true']{filter:blur(10px);}}&[data-graphic-setting='low']{background-size:100%;opacity:0.6;&[data-focused='true']{opacity:1;}}background-position:center center"}),qN=C("span",{target:"e1ornw2x3"})("background:rgba(0, 0, 0, 0.7);width:auto;display:inline-block;padding:0.5rem;",$e,";text-align:right;font-size:2.7rem;&[data-expanded='true']{font-size:6rem;}"),fE=C(qN,{target:"e1ornw2x2"})("color:",de.colors.text.active,";"),Sv=C(qN,{target:"e1ornw2x1"})("margin-top:",e=>e.expanded?"1.5rem":"0.5rem",";color:white;"),WN=C(Sv,{target:"e1ornw2x0"})({name:"5twmqz",styles:"font-size:3rem;margin-top:3rem"}),ome=({song:e})=>{const t=cE(e);return f.jsx(WN,{children:t!=null&&t.plays?`Played ${t.plays} time${t.plays>1?"s":""}`:"Never played yet"})};function ame({groupedSongList:e,onScrollToGroup:t,container:n}){const[r,i]=y.useState([]);return y.useEffect(()=>{const s=new IntersectionObserver(a=>{a.forEach(l=>{const c=l.target.getAttribute("data-group-name");l.isIntersecting?i(u=>[...u,c]):i(u=>u.filter(d=>d!==c))})}),o=new MutationObserver(()=>{const a=document.querySelectorAll("[data-group-name]");s.disconnect(),i([]),a.forEach(l=>{s.observe(l)})});if(n)return o.observe(n,{childList:!0,subtree:!0}),()=>{o.disconnect(),i([]),s.disconnect()}},[e,n]),f.jsx(f.Fragment,{children:f.jsx(lme,{children:e.map(s=>{const o=r.includes(s.name);return f.jsx(cme,{onClick:()=>t(s),"data-active":o,"data-test":`group-navigation-${s.name}`,children:s.displayShort??s.name},s.name)})})})}const lme=C("div",{target:"e131hflw1"})({name:"191ly3l",styles:"position:fixed;display:flex;flex-direction:row;align-items:center;justify-content:flex-start;top:0;left:var(--song-sidebar-weight);padding:1rem 0 1.5rem 2rem;width:100%;z-index:100;gap:1rem;background:rgba(0, 0, 0, 0.75)"}),cme=C(Rs,{target:"e131hflw0"})("border:none;cursor:pointer;",$e,";display:inline-flex;align-items:center;justify-content:center;height:3.3rem;padding:0.5rem 1.25rem;font-size:2.3rem;z-index:1;color:",de.colors.text.default,";&[data-active='true']{background:",de.colors.text.active,";}&[data-active='false']{background:rgba(0, 0, 0, 0.7);}"),$P={[jr.DUEL]:"Duel",[jr.PASS_THE_MIC]:"Pass The Mic",[jr.CO_OP]:"Cooperation"},fA=["Hard","Medium","Easy"],ume=hv("song_settings-game_mode-v3"),dme=hv("song_settings-tolerance-v2");function fme({songPreview:e,onNextStep:t,keyboardControl:n,onExitKeyboardControl:r}){const[i,s]=ume(null),o=i??(e.tracksCount>1?jr.CO_OP:jr.DUEL),[a,l]=dme(1),c=()=>{const p={id:Ug(),players:[],mode:o,tolerance:a+1};t(p)},u=()=>{s(ma(Object.values(jr),o))},d=()=>l(p=>wh(fA,p,-1)),{register:h}=zn({enabled:n,onBackspace:r,additionalHelp:{remote:["select-song"]}});return f.jsxs(f.Fragment,{children:[f.jsx(FP,{...h("difficulty-setting",d,"Change difficulty"),label:"Difficulty",value:fA[a],"data-test-value":fA[a]}),f.jsx(FP,{...h("game-mode-setting",u,"Change mode"),label:"Mode",value:$P[o],"data-test-value":$P[o]}),f.jsxs(pme,{children:[o===jr.DUEL&&"Face off against each other - person that earns more points wins.",o===jr.CO_OP&&"Join forces and sing together - your points will be added up to a single pool.",o===jr.PASS_THE_MIC&&f.jsxs(f.Fragment,{children:["For more than 2 players - split into groups and pass the microphone within the group when prompted with"," ",f.jsx(gv,{})," symbol."]})]}),f.jsx(hme,{...h("next-step-button",c,void 0,!0),children:"Next "})]})}const hme=C(Rs,{target:"ews4mmz2"})({name:"sr8dp2",styles:"padding:0.5rem 9rem;font-size:4.3rem;width:50rem"}),pme=C("h3",{target:"ews4mmz1"})({name:"rdh6te",styles:"max-width:50rem;margin:-1rem 0 1rem!important;padding:1.5rem;background:rgba(0, 0, 0, 0.7);box-sizing:border-box"}),FP=C(li,{target:"ews4mmz0"})({name:"1tcj19k",styles:"font-size:4.3rem;padding:1rem;min-width:50rem;box-sizing:border-box"});function gme(){const t=vi(ee.playerInputChanged,()=>Me.getInputs()).some(o=>o.source==="Microphone"),n=y.useRef([]),r=y.useCallback(o=>{n.current.push(o)},[]);Hpe(0,50,r);const[i,s]=y.useState(!1);return y.useEffect(()=>{const o=setInterval(()=>{const a=n.current.filter(([,h])=>h===0),l=n.current.filter(([,h])=>h>0),c=a.reduce((h,[p])=>h+p,0)/(a.length+1),u=l.reduce((h,[p])=>h+p,0)/(l.length+1),d=l.length>a.length*.1&&u>.01&&c>.01&&u-c<c/2;s(d),n.current.length=0},i?5e3:2500);return()=>clearInterval(o)},[i]),f.jsxs(mme,{visible:i,children:[f.jsxs("h2",{children:[f.jsx("strong",{children:f.jsx(Ul,{})})," ","Noise detected"]}),f.jsx("hr",{}),f.jsxs("h4",{children:["This might make singing inaccurate. Make sure your microphone doesn't pick up the music."," ",t&&f.jsxs(f.Fragment,{children:["Alternatively, use your ",f.jsx("strong",{children:"smartphone as a microphone"})," instead."]})]})]})}const mme=C("div",{target:"e1liv9270"})("opacity:",e=>e.visible?1:0,";transition:300ms;background:rgba(0, 0, 0, 0.75);padding:1rem;max-width:50rem;position:relative;top:-1rem;left:-0.5rem;"),KN=(e,t=333,n)=>{const[r,i]=y.useState("ok");return y.useEffect(()=>{const s=setInterval(()=>{i(gn.getInputStatus(e))},t);return()=>{clearInterval(s)}},[e,t,n]),r},YN=e=>{const[t,n]=y.useState(null);return y.useEffect(()=>{const r=setInterval(()=>{const i=Ze.getRemoteMicById(e??"");n(i?i.getLatency():null)},1e3);return()=>{clearInterval(r)}},[e]),t};function QN({playerNumber:e,...t}){var r,i;const n=YN((i=(r=Me.getPlayer(e))==null?void 0:r.input)==null?void 0:i.deviceId);return f.jsx(f.Fragment,{children:n!==null?f.jsxs(vme,{...t,children:[n,"ms"]}):""})}const vme=C("span",{target:"e10sf0140"})({name:"1wwatg0",styles:"position:absolute;right:4rem;bottom:0.5rem;font-size:1.75rem"});function JN({status:e,tooltipPosition:t="end",...n}){return f.jsxs(yme,{...n,children:[e==="ok"?f.jsx(Ame,{"data-test":"status-ok"}):e==="unavailable"?f.jsx(_me,{"data-test":"status-unavailable"}):f.jsx(bme,{"data-test":"status-unstable"}),e==="unavailable"?f.jsx(zP,{position:t,children:f.jsxs("span",{children:["The device is ",f.jsx("strong",{children:"disconnected"}),". Reconnect it, please."]})}):e==="unstable"?f.jsx(zP,{position:t,children:f.jsxs("span",{children:["The connection seems ",f.jsx("strong",{children:"unstable"}),". Connect to the same Wifi."]})}):null]})}const yme=C("span",{target:"etoberq4"})({name:"186aqlb",styles:"position:absolute;right:0.5rem;top:0.5rem;font-size:3rem;z-index:10;svg{width:3rem;height:3rem;text-shadow:black;}"}),Ame=C("div",{target:"etoberq3"})({name:"1jjo9fl",styles:"margin:0.15rem;width:2.7rem;height:2.7rem;display:inline-block;background:#ffffff;border:1px solid black;border-radius:50%"}),_me=C(sE,{target:"etoberq2"})({name:"f0g68e",styles:"fill:#ff0000"}),bme=C(Ul,{target:"etoberq1"})({name:"w492oh",styles:"fill:#f89400;stroke:black"}),zP=C("div",{target:"etoberq0"})($e,";position:absolute;left:",e=>e.position==="end"?"100%":"auto",";right:",e=>e.position==="end"?"auto":"150%",";top:-0.5rem;font-size:1.5rem;height:100%;display:flex;align-items:center;width:25rem;background:rgba(0, 0, 0, 0.75);padding:0.5rem;margin-left:2rem;");function XN({player:e}){const t=KN(e.number);return f.jsxs(Sme,{"data-test":`indicator-player-${e.number}`,children:[f.jsx(QN,{playerNumber:e.number}),f.jsx(JN,{status:t}),t!=="unavailable"&&f.jsx(nE,{playerNumber:e.number}),f.jsx(xme,{className:"ph-no-capture",children:e.getName()})]},e.number)}const Sme=C("div",{target:"e17xkp2e1"})({name:"1gmoqr1",styles:"position:relative;border:0.1rem solid white;padding:1rem 3rem;background:black;width:80%;text-align:center;gap:1.25rem;font-size:2.3rem;color:white;-webkit-text-stroke:1px black"}),xme=C("span",{target:"e17xkp2e0"})({name:"179t5g5",styles:"position:relative;z-index:1"});function wme(e){Cs(ee.playerNameChanged),y.useEffect(()=>{gn.startMonitoring()},[]);const n=vi(ee.playerInputChanged,()=>Me.getInputs()).some(r=>r.source!=="Dummy");return f.jsxs(Eme,{...e,children:[f.jsxs(kme,{children:["Microphone Check",n?Me.getPlayers().map(r=>f.jsx(XN,{player:r},r.number)):f.jsxs(f.Fragment,{children:[f.jsx(Cme,{children:"Mic not setup"}),f.jsx("h4",{children:"Singing will be emulated"}),f.jsx("h5",{children:"You can setup in the Next step"})]})]}),f.jsx(gme,{})]})}const Eme=C("div",{target:"egp8knc2"})("display:flex;font-size:3rem;",$e,";margin-bottom:8.6rem;gap:3.5rem;"),kme=C("div",{target:"egp8knc1"})({name:"fmwdml",styles:"gap:1.25rem;display:flex;flex-direction:column;align-items:center"}),Cme=C("div",{target:"egp8knc0"})({name:"1x5xnlp",styles:"position:relative;border:0.1rem solid white;padding:1rem 3rem;background:black;width:80%;text-align:center;gap:1.25rem;font-size:2.3rem;color:white"});function ZN({onClose:e,closeButtonText:t}){return f.jsx(zl,{onClose:e,children:f.jsx(ns,{children:f.jsx(aE,{smooth:!1,onBack:e,onFinish:e,closeButtonText:t,skipText:"Back"})})})}const eB=y.forwardRef(({options:e,focused:t,label:n,value:r,onChange:i,disabled:s,placeholder:o,keyboardNavigationChangeFocus:a,onBlur:l,className:c,...u},d)=>{const h=y.useRef(null);y.useImperativeHandle(d,()=>h.current);const p=y.useRef(null),[g,m]=y.useState(!1),[_,v]=y.useState(-1),A=y.useMemo(()=>e.filter(b=>b.toLowerCase().trim().includes(r.toLowerCase().trim())&&b!==r),[e,r]),S=b=>{var w,E,T;if(b.code==="ArrowUp"||b.code==="ArrowDown")if(A.length){b.preventDefault();const j=wh(A,_,b.code==="ArrowUp"?-1:1);v(j);const B=(w=p.current)==null?void 0:w.querySelector(`[data-index="${j}"]`);B==null||B.scrollIntoView({behavior:"smooth",block:"center"})}else(E=h.current)==null||E.blur(),a==null||a(b.code==="ArrowUp"?-1:1);else if(b.code==="Enter"){const j=A[_];j?(v(-1),i(j)):(T=h.current)==null||T.blur()}},x=()=>{setTimeout(()=>{m(!1),l==null||l()},300)};return f.jsxs(Tme,{className:c,children:[f.jsx(Hl,{onFocus:()=>m(!0),onBlur:x,onKeyDown:S,onChange:i,value:r,focused:t,label:n,disabled:s,ref:h,placeholder:o,...u}),g&&!!A.length&&f.jsx(Ime,{ref:p,role:"listbox",children:A.map((b,w)=>f.jsx(Pme,{role:"listitem","data-index":w,"data-focused":w===_,"data-e2e-focused":w===_,focused:w===_,onClick:()=>{var E;i(b),v(-1),(E=h.current)==null||E.blur()},children:b},b))})]})}),Tme=C("div",{target:"elw4n422"})({name:"bjn8wh",styles:"position:relative"}),Ime=C("div",{target:"elw4n421"})("margin-top:0.1em;position:absolute;width:100%;background:black;max-height:",(1+2*.3)*4,"em;overflow-y:auto;z-index:2;"),Pme=C("div",{target:"elw4n420"})($e,";padding:0.3em;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;color:",e=>e.focused?de.colors.text.active:"white",";cursor:pointer;"),Rme=(e,t)=>{var n;return((n=e[t])==null?void 0:n.name)??`Track ${t+1}`};function Mme({multipleTracks:e,player:t,songPreview:n,playerNames:r,register:i,onChange:s,setup:o}){const[a,l]=y.useState(!1),c=y.useRef(null);if(Cs(ee.playerNameChanged),t===void 0)return null;const u=()=>s({number:t.number,track:(o.track+1)%n.tracksCount}),d=g=>{l(!0),t.setName(g)},h=!a,p=t.getName();return f.jsxs(f.Fragment,{children:[f.jsx(jme,{maxLength:pS,className:"ph-no-capture",value:h?"":p,placeholder:h?p:void 0,options:r,onChange:d,label:"Name:",ref:c,...i(`player-${t.number}-name`,()=>{var g;return(g=c.current)==null?void 0:g.focus()})}),e&&f.jsx(Ome,{...i(`player-${t.number}-track-setting`,u,"Change track"),label:"Track",value:Rme(n.tracks,o.track),"data-test-value":o.track+1})]})}const jme=C(eB,{target:"euluv3p1"})("input{font-size:4.5rem;}[role='listbox']{max-height:",6*(4.5+.3),"rem;}"),Ome=C(li,{target:"euluv3p0"})({name:"1bwrnjg",styles:"font-size:4.5rem;padding:1.1rem"});function Vme({songPreview:e,onNextStep:t,keyboardControl:n,onExitKeyboardControl:r}){const[i]=Fe(pr),[s]=Fe(zb),o=Me.getPlayers(),a=!i&&o.length===2&&e.tracksCount>1,l=()=>o.map((x,b)=>({number:x.number,track:a?Math.min(b,e.tracksCount-1):0})),[c,u]=y.useState(l());wr([ee.playerAdded,ee.playerRemoved],()=>u(l()));const d=o.map((x,b)=>c.find(w=>w.number===x.number)??l()[b]),h=y.useMemo(()=>JSON.parse(Oe.session.getItem(eu))??[],[]),p=x=>b=>{u(w=>w.map(E=>E.number===x?b:E))},[g,m]=y.useState(!1);y.useEffect(()=>{g||gn.startMonitoring()},[g]);const{register:_,focusElement:v}=zn({enabled:n&&!g,onBackspace:r,additionalHelp:{remote:["select-song"]}}),A=()=>{t(d)},S=!!s&&s!=="skip";return f.jsxs(f.Fragment,{children:[g&&f.jsx(ZN,{closeButtonText:S?"Continue to the song":"Continue to player setup",onClose:()=>{m(!1),S&&v("play")}}),d.map((x,b)=>f.jsxs(Lme,{children:[f.jsxs(Nme,{children:["Player ",b+1]}),f.jsx("div",{children:f.jsx(Mme,{multipleTracks:a,player:Me.getPlayer(x.number),setup:x,onChange:p(x.number),playerNames:h,register:_,songPreview:e})})]},x.number)),S&&f.jsx(UP,{..._("play-song-button",A,void 0,!0),children:"Play"}),f.jsx(UP,{..._("select-inputs-button",()=>m(!0),void 0,!1),children:"Setup mics"})]})}const Lme=C("div",{target:"e12y59822"})({name:"ho1qnd",styles:"display:flex;flex-direction:row"}),UP=C(Rs,{target:"e12y59821"})({name:"afgxf2",styles:"padding:0.5rem 9rem;font-size:4.3rem"}),Nme=C("span",{target:"e12y59820"})($e,";padding:1.3rem;font-size:4.5rem;");function Bme({songPreview:e,onPlay:t,keyboardControl:n,onExitKeyboardControl:r}){const[i,s]=y.useState(null),[o,a]=y.useState("song"),l=u=>{s(u),a("players")},c=u=>{if(!i)return;const d={...i,players:u};ee.songStarted.dispatch(e,d),t({song:e,...d})};return f.jsxs(Dme,{children:[f.jsx(wme,{style:o==="players"?{viewTransitionName:"player-mic-check-container"}:void 0}),f.jsxs($me,{children:[o==="song"&&f.jsx(fme,{songPreview:e,onNextStep:l,keyboardControl:n,onExitKeyboardControl:r}),o==="players"&&f.jsx(Vme,{songPreview:e,onNextStep:c,keyboardControl:n,onExitKeyboardControl:()=>a("song")})]})]})}const Dme=C("div",{target:"eu207dr1"})({name:"k6gb66",styles:"display:flex;flex-direction:row;align-items:flex-end;justify-content:space-between;width:100%;hr{margin:1rem;opacity:0.25;}"}),$me=C("div",{target:"eu207dr0"})({name:"115sh08",styles:"width:auto;display:flex;flex-direction:column;align-items:flex-end;gap:1.25rem"}),Fme=30;function zme({songPreview:e,top:t,left:n,width:r,height:i,keyboardControl:s,onExitKeyboardControl:o,onPlay:a,isPopular:l,forceFlag:c}){const[u,d]=y.useState(!1),h=y.useRef(null),{width:p,height:g}=Ch(),m=s;y.useLayoutEffect(()=>{d(!1)},[e.video]);const _=e.previewStart??(e.videoGap??0)+60,v=e.previewEnd??_+Fme,A=y.useMemo(()=>[e.video,_,v,e.volume],[e.video,_,v,e.volume]),[S,x,b,w]=Nw(A,350);y.useEffect(()=>{var B;(B=h.current)==null||B.loadVideoById({videoId:S,startSeconds:x,endSeconds:b})},[S,h,x,b]);const E=m?p:r,T=m?g:i,j=m?Math.min(p/20*9,g*(4/5)):i;return y.useEffect(()=>{var B;(B=h.current)==null||B.setSize(E,T)},[E,T,s]),f.jsxs(f.Fragment,{children:[m&&f.jsx(Gme,{onClick:o}),!m&&u&&f.jsx(Yme,{width:E,height:T,left:n,top:t,song:e}),f.jsx(Hme,{forceFlag:c,isPopular:l,background:m||u,video:f.jsx(qme,{"data-show":u,"data-expanded":m,height:j,id:"preview-video-container",children:f.jsx(Yw,{width:0,height:0,disablekb:!0,ref:h,video:"",volume:w,onStateChange:B=>{var D,q;B===In.ENDED?((D=h.current)==null||D.seekTo(_),(q=h.current)==null||q.playVideo()):B===In.PLAYING&&d(!0)}})}),focused:!0,song:e,top:t,left:n,width:E,height:j,"data-show-video":u,"data-expanded":m,"data-song":e.id,"data-test":"song-preview",children:f.jsx(Wme,{"data-expanded":m,children:m&&f.jsx(Bme,{songPreview:e,onPlay:a,keyboardControl:s,onExitKeyboardControl:o})})})]})}const Ume=C(HN,{target:"e1vaewax4"})("--preview-padding:5rem;width:",e=>e.width,"px;height:",e=>e.height,"px;position:absolute;z-index:3;overflow:hidden;visibility:hidden;&[data-expanded='true'],&[data-show-video='true']{visibility:visible;}&[data-expanded='true']{z-index:201;border-radius:0;border:0;position:fixed;padding:var(--preview-padding);}&[data-expanded='false']{pointer-events:none;&[data-show-video='true']{animation:rhythmPulse 1s infinite;}}@keyframes rhythmPulse{0%{transform:scale(1.2);}15%{transform:scale(1.25);}100%{transform:scale(1.2);}}view-transition-name:song-preview;",fE,"{view-transition-name:song-preview-artist;}",Sv,"{view-transition-name:song-preview-title;}",GN,"{view-transition-name:song-preview-expanded-data;}"),Hme=e=>{const t=e.song.realBpm||(e.song.bpm>300?e.song.bpm/4:e.song.bpm/2),n=e["data-expanded"];return f.jsx(Ume,{...e,style:{...e.style,top:n?`calc(50vh - ${e.height}px / 2)`:e.top,left:n?0:e.left,animationDuration:`${60/t}s`}})},Gme=C("div",{target:"e1vaewax3"})({name:"1iz7jdz",styles:"position:fixed;top:0;left:0;background:rgba(0, 0, 0, 0.8);width:100vw;height:100vh;z-index:201"}),qme=C("div",{target:"e1vaewax2"})("&[data-expanded='true']{position:fixed;inset:0;clip-path:inset(calc((100vh - ",e=>e.height,"px) / 2) 0);}&[data-expanded='true'],&[data-show='true']{div{transition:1000ms;}}&[data-expanded='false']{position:absolute;top:0;left:0;background-image:none!important;border-radius:0.5rem;}&[data-show='false']{div{opacity:0;}}&[data-show='true']{div{opacity:1;}}"),Wme=C("div",{target:"e1vaewax1"})({name:"uljwlo",styles:"inset:auto var(--preview-padding);position:fixed;z-index:100;&[data-expanded='false']{transform:scale(0.1);}border-radius:0.5rem;view-transition-name:song-preview-content"}),Kme=C("div",{target:"e1vaewax0"})("background:white;width:",e=>e.width,"px;height:",e=>e.height,"px;z-index:2;top:0;left:0;position:absolute;animation:bpm 1s infinite;border-radius:0.5rem;pointer-events:none;@keyframes bpm{0%{transform:scale(1.15);opacity:1;}100%{transform:scale(1.45);opacity:0;}}"),Yme=e=>{const[t]=Fe($i);if(t==="low")return null;const n=e.song.realBpm||(e.song.bpm>300?e.song.bpm/4:e.song.bpm/2);return f.jsx(Kme,{width:e.width,height:e.height,style:{left:e.left,top:e.top,animationDuration:`${60/n}s`}})};function Qme(e){var t=Wp(e),n=t%1;return t===t?n?t-n:t:0}var Jme=Math.ceil,Xme=Math.max;function fb(e,t,n){(n?Kj(e,t,n):t===void 0)?t=1:t=Xme(Qme(t),0);var r=e==null?0:e.length;if(!r||t<1)return[];for(var i=0,s=0,o=Array(Jme(r/t));i<r;)o[s++]=qS(e,i,i+=t);return o}function Zme(e,t){const n=y.useRef(null),r=y.useMemo(()=>e.groups.map(u=>({group:u,rows:fb(u.songs,e.perRow)})),[e.groups,e.perRow]),i=y.useMemo(()=>r.map(({rows:u})=>u.length),[r]),s=y.useMemo(()=>r.flatMap(({rows:u})=>u),[r]),{ListRowWrapper:o,GroupRowWrapper:a}=e,l=y.useCallback((u,d)=>{let h=e.groups.findIndex(p=>p.name===u);return h===-1?e.groups.findIndex(p=>p.songs.some(g=>g.index===d)):h},[e.groups]),c=y.useCallback((u,d)=>{let h=l(u,d);if(h===-1)return;const p=e.groups[h].songs.findIndex(g=>g.index===d);return r.slice(0,h).reduce((g,{rows:m})=>g+m.length,Math.floor(p/e.perRow))},[l,r,e.groups,e.perRow]);return y.useImperativeHandle(t,()=>({getSongPosition:(u,d)=>{var v;let h=l(u,d);if(h===-1)return;const p=e.groups[h].songs.findIndex(A=>A.index===d),g=r.slice(0,h).reduce((A,{rows:S})=>A+S.length,Math.floor(p/e.perRow)),m=((v=n.current)==null?void 0:v.getItemPositionY(g))??-1;return{x:p%e.perRow,y:m}},scrollToGroup:u=>{var h;const d=e.groups.findIndex(p=>p.name===u);d!==-1&&((h=n.current)==null||h.scrollToGroup(d,"smooth"))},scrollToSongInGroup:async(u,d,h="smooth")=>{var g;const p=c(u,d);p!==void 0&&((g=n.current)==null||g.scrollToIndex(p,ks()?"auto":h))}})),f.jsx(f.Fragment,{children:f.jsx(nN,{forceRenderItem:c(e.focusedGroup,e.focusedSong)??-1,overScan:e.itemHeight*2,itemHeight:e.itemHeight,groupHeaderHeight:e.groupHeight,components:e.components,context:e.context,groupContent:(u,d)=>f.jsx(a,{group:r[u].group,...d,children:e.renderGroup(r[u].group)}),ref:n,groupSizes:i,itemContent:(u,d,h)=>f.jsxs(o,{"data-is-new":r[d].group.isNew,...h,children:[s[u].map(p=>e.renderItem(p,r[d].group)),e.placeholder&&s[u].length<e.perRow&&new Array(e.perRow-s[u].length).fill(null).map((p,g)=>f.jsx(y.Fragment,{children:e.placeholder},g))]})},e.itemHeight)})}const e0e=y.forwardRef(Zme),tB=(e,t)=>e+Math.random()*(t-e),Ws=(e,t)=>Math.round(tB(e,t)),t0e=250,n0e=750;function r0e(e){const t=FC(async()=>(await fetch("/mostPopularSongs.json")).json(),[]),n=FC(async()=>aW(),[]),r=y.useMemo(()=>Im.recentlyUpdated(e),[e]).map(l=>l.id),[i]=Fe($m),s=t.loading||n.loading||!e.length,o=y.useMemo(()=>{if(s)return;const l=Object.keys(n.value).filter(g=>n.value[g].scores.some(m=>(m.progress??0)>.8)),c=Object.keys(t.value).filter(g=>!(i!=null&&i.includes(g))),u=[...new Set([...c,...i??[]])],d=e.filter(g=>!u.some(m=>g.language.includes(m))||g.local).map(g=>g.id).concat(...l),h=Math.max(t0e,n0e-Math.round(d.length/1.75)),p=c.map(g=>t.value[g].slice(0,h)).flat();return{popular:[...new Set([...l,...p,...d,...r])]}},[i,s,t.value,e,n.value]),a=y.useMemo(()=>({popular:[]}),[]);return{value:o??a,loading:s}}const i0e=e=>{const t=/[^a-zA-Z]/;return{name:isFinite(+e.artist[0])||t.test(e.artist[0])?"0-9":e.artist[0].toUpperCase()}};function s0e(){const e=kh(),{value:{popular:t},loading:n}=r0e(e.data),r=e.isLoading||n,{filters:i,filteredList:s,setFilters:o,selectedPlaylist:a,setSelectedPlaylist:l,playlists:c,playlist:u}=Gde(e.data,t,r);return{groupedSongList:y.useMemo(()=>{var p;if(s.length===0)return[];const h=[];if(i.search)return h.push({name:"Search results",songs:s.map((g,m)=>({index:m,song:g,isPopular:t.includes(g.id)}))}),h;{(u!=null&&u.sortingFn?[...s].sort(u.sortingFn):s).forEach(_=>{try{const{name:v,...A}=((u==null?void 0:u.groupData)??i0e)(_);let S=h.find(x=>x.name===v);S||(S={name:v,songs:[],...A},h.push(S)),S.songs.push({index:s.indexOf(_),song:_,isPopular:t.includes(_.id)})}catch(v){console.error(v),to(v)}});const m=((p=u==null?void 0:u.postGrouping)==null?void 0:p.call(u,h))??h;if(!(u!=null&&u.hideNew)){const _=s.filter(v=>v.isNew);_.length&&_.length<50&&m.unshift({name:"New",isNew:!0,songs:_.map(v=>({song:v,index:s.indexOf(v),isPopular:t.includes(v.id)}))})}return m}},[s,i.search,t,u]),songList:s,filters:i,setFilters:o,isLoading:r,selectedPlaylist:a,setSelectedPlaylist:l,playlists:c}}function Rm(e){const t=y.useRef(e);return y.useEffect(()=>{t.current=e},[e]),t.current}const o0e=30;function a0e(e,t,n=o0e){let r;if(t.length<e){const i=[...Array(e).keys()].filter(s=>!t.includes(s));r=i[Ws(0,i.length-1)]}else r=Ws(0,e-1),t.length=0;return t.length>=n&&t.shift(),t.push(r),r}const l0e=(e=[],t)=>{var _;const[n,r]=y.useState([0,0]),i=y.useMemo(()=>e.map(({songs:v})=>v.length).join(","),[e]),s=y.useMemo(()=>e.map(({songs:v})=>fb(v.map(A=>A.index),t)).flat(),[i,t]),o=y.useMemo(()=>e.map(({songs:v,name:A})=>fb(v.map(()=>A),t)).flat(),[i,t]),a=Rm(s??[]),l=n[0]===((_=s[n[1]])==null?void 0:_.length)-1,c=y.useCallback((v,A)=>{var b;const S=s.findIndex((w,E)=>w.includes(v)&&(!A||A===o[E][0])),x=(b=s[S])==null?void 0:b.indexOf(v);x>=0&&S>=0?r([x??0,S??0]):r([0,0])},[s]),u=([v,A],S,x)=>{var w;if(e.length===0)return x;const b=S[A];return(b==null?void 0:b[v])??(b==null?void 0:b.at(-1))??((w=S==null?void 0:S[0])==null?void 0:w[0])??x},d=([v,A],S=s)=>u([v,A],S,0),h=([v,A],S=o)=>u([v,A],S,"A");y.useEffect(()=>{const v=d(n,a),A=d(n,s);a.length&&v!==A&&c(v)},[n,s,a,l]);const p=(v,A)=>{v0.play(),r(([S,x])=>{let b=S,w=x;if(v==="y")w=x+A;else{if(s[x]===void 0)debugger;const E=s[x].length-1;b=Math.min(S,E)+A,b<0?(w=(s.length+x-1)%s.length,b=s[w].length-1):b>E&&(w=x+1,b=0)}return[b%t,(s.length+w)%s.length]})},g=d(n),m=h(n);return[g,m,n,p,c,l]},c0e=(e,t=[],n,r,i,s)=>{const o=Zr(),[a,l]=y.useState([!1,null]),c=Rm(a),[u,d]=a,[h,p,g,m,_,v]=l0e(t,s),A=g[0]===0,S=()=>{kS.play(),n()},[x,b]=y.useState(!1),w=Rm(i.search);y.useLayoutEffect(()=>{if(w&&!i.search){b(!0);const P=setTimeout(()=>b(!1),2e3);return()=>{clearTimeout(P),b(!1)}}},[i.search]);const E=()=>{!x&&!i.search&&(CS.play(),o("menu/"))},T=y.useCallback(Rc((P,I)=>{const $=(t.length+I+P)%t.length;_(t[$].songs[0].index),v0.play()},700,{trailing:!1}),[t]),j=(P,I)=>{if(!(P!=null&&P.repeat))m("y",I);else{const $=t.findIndex(O=>!!O.songs.find(z=>z.index===h));T(I,$)}},B=(P,I=!1)=>{!I&&P===-1&&A&&!u?l([!0,"left"]):m("x",P)},D=y.useRef([]),q=()=>{const P=a0e(r,D.current);_(P)};Dl({accept:S,down:P=>j(P,1),up:P=>j(P,-1),left:()=>B(-1),right:()=>B(1),back:E,random:q},e&&!u,[t,g,u,i,x]);const M=y.useMemo(()=>({"horizontal-vertical":null,accept:null,back:null,shiftR:null,alphanumeric:null,remote:["search","select-song"]}),[]);Nu(M,e);const V=y.useCallback(P=>{l([!1,P??null])},[l,B,t,g]);return y.useLayoutEffect(()=>{const[P,I]=c;P&&!u&&I===d&&B(d==="right"?1:-1,!0)},[u,d,A,v,...g]),[h,p,_,u,V,q]};function u0e(e,t){const{songList:n,groupedSongList:r,setFilters:i,filters:s,isLoading:o,selectedPlaylist:a,setSelectedPlaylist:l,playlists:c}=s0e(),[u,d]=y.useState(!0),h=w=>{Hf(()=>{Lu.flushSync(()=>{d(w)})}),TS.play(!1)},[p,g,m,_,v,A]=c0e(u,r,()=>h(!1),n.length,s,t),[S,x]=y.useState(!1);y.useEffect(()=>{if(!S&&n.length&&!o){const w=n.findIndex(j=>j.id===e),E=n.findIndex(j=>j.isNew);let T=Ws(0,n.length-1);(w>-1||E>-1)&&(T=w),x(!0),m(T)}},[m,S,p,n,e,o]),y.useEffect(()=>{var w;if(S&&n.length&&n[p]&&!o){const E=new URL((w=global.location)==null?void 0:w.href);E.searchParams.set("song",n[p].id),global.history.replaceState(null,"",E.toString())}},[S,p,n,o]);const b=n==null?void 0:n[p];return{groupedSongList:r,focusedSong:p,focusedGroup:g,moveToSong:m,setKeyboardControl:h,keyboardControl:u,songPreview:b,songList:n??[],filters:s,setFilters:i,showFilters:_,setShowFilters:v,isLoading:o||!S,randomSong:A,selectedPlaylist:a,setSelectedPlaylist:l,playlists:c}}const d0e=1.2,HP=4,nB=7,hb=4.5,GP=nB+hb,Cp=3.5,f0e={Header:({context:e})=>f.jsxs(f.Fragment,{children:[f.jsx(_0e,{}),e&&e.songPreview.songPreview&&f.jsx(zme,{...e.songPreview})]}),Footer:()=>f.jsxs(p0e,{children:["Missing a song? Try"," ",f.jsx(mw,{to:"convert/",children:f.jsx("a",{children:"adding one"})})," ","yourself!"]}),EmptyPlaceholder:()=>f.jsx(y0e,{children:"No songs found"})};function h0e({onSongSelected:e,preselectedSong:t}){const[n]=Fe(pr),r=n?HP-1:HP;Ra(!1),ka(!0),LN();const{focusedGroup:i,focusedSong:s,moveToSong:o,groupedSongList:a,keyboardControl:l,songPreview:c,setKeyboardControl:u,setFilters:d,filters:h,setShowFilters:p,showFilters:g,isLoading:m,randomSong:_,selectedPlaylist:v,setSelectedPlaylist:A,playlists:S,songList:x}=u0e(t,r),b=y.useMemo(()=>a.map(U=>U.songs).flat().find(U=>U.song.id===(c==null?void 0:c.id)),[c,a]),w=y.useRef(null),E=QL(),{width:T,handleResize:j}=Ch(),D=(T-(GP+hb)*E-(r-1)*Cp*E)/r,q=D*(9/16),M=q/2,V=y.useCallback(()=>u(!1),[u]),P=m||!a||!T,I=v==="Eurovision",$=y.useRef(null);y.useEffect(()=>{const U=ne=>x.findIndex(L=>L.id===ne);return global.__songList={scrollToSong:ne=>{var oe;const[L]=ne.split("-new-group"),fe=ne.endsWith("-new-group"),Z=a.find(je=>!!je.isNew===fe&&je.songs.some(Ae=>Ae.song.id===L));if(Z){const je=U(L);return(oe=w.current)==null||oe.scrollToSongInGroup(Z.name,je,"auto"),!0}return!1}},()=>{delete global.__songList}},[a,x]);const[{previewTop:O,previewLeft:z},N]=y.useState({previewTop:0,previewLeft:0});y.useEffect(()=>{const U=document.querySelector(`[data-song-index="${s}"][data-group="${i}"]`);!m&&U?N({previewTop:U.offsetTop+U.parentNode.offsetTop,previewLeft:U.offsetLeft}):m||console.warn("!!!!!!!!!!!! Song not found !!!!!!!!!!!!")},[s,i,m,T]),y.useEffect(()=>{var U;j(),m||(U=w.current)==null||U.scrollToSongInGroup(i,s)},[T,s,i,a,m,j]);const G=Zr();return Pr("Shift + E",()=>G(Em("edit/song/",{playlist:null,step:"metadata"})),[G]),wr(ee.remoteSongSelected,async U=>{A("All");const ne=x.findIndex(L=>L.id===U);ne&&(o(ne),l||u(!0),V())},[x,o,V,A,u,l]),f.jsx(Do,{children:f.jsxs(g0e,{songsPerRow:r,style:{"--song-group-header-height":`${Math.floor(M)}px`,"--song-entry-width":`${Math.floor(D)}px`,"--song-entry-height":`${Math.floor(q)}px`,"--song-list-gap":`${Math.floor(Cp*E)}px`,"--song-list-padding-left":`${Math.floor(GP*E)}px`,"--song-list-padding-right":`${Math.floor(hb*E)}px`,"--song-sidebar-weight":`${Math.floor(nB*E)}px`},children:[P?f.jsxs(qP,{children:[f.jsx(KP,{children:f.jsx(QP,{children:f.jsx(pb,{children:""})})}),new Array(4).fill(0).map((U,ne)=>f.jsx(YP,{children:new Array(4).fill(0).map((L,fe)=>f.jsx(WP,{},fe))},ne))]}):f.jsxs(f.Fragment,{children:[c&&f.jsx(m0e,{videoId:c.video}),f.jsx(Pge,{setFilters:d,filters:h,onRandom:_,keyboardControl:l}),f.jsx(ame,{container:$.current,groupedSongList:a,onScrollToGroup:U=>{o(U.songs[0].index),setTimeout(()=>{var ne;return(ne=w.current)==null?void 0:ne.scrollToGroup(U.name)},20)}}),f.jsx(qP,{active:l,dim:g,"data-test":"song-list-container",ref:$,children:f.jsx(e0e,{focusedSong:s,focusedGroup:i,ListRowWrapper:YP,GroupRowWrapper:KP,ref:w,groups:a,itemHeight:Math.floor(q)+Math.floor(Cp*E),groupHeight:Math.floor(M)+Math.floor(Cp*E),components:f0e,renderGroup:U=>f.jsx(QP,{"data-highlight":U.name==="New",children:f.jsx(pb,{"data-group-name":U.name,children:U.displayLong??U.name})},U.name),perRow:r,renderItem:(U,ne)=>{const L=U.index===s&&ne.name===i;return y.createElement(A0e,{...g||!l?{"data-unfocusable":!0}:{},isPopular:U.isPopular,key:U.song.id,song:U.song,handleClick:L?V:o,focused:!g&&l&&L,index:U.index,groupLetter:ne.name,"data-song-index":U.index,"data-focused":!g&&l&&U.index===s,"data-test":`song-${U.song.id}${ne.isNew?"-new-group":""}`,"data-group":ne.name,forceFlag:I})},placeholder:f.jsx(WP,{style:{visibility:"hidden"}}),context:{songPreview:{forceFlag:I,isPopular:!!(b!=null&&b.isPopular),keyboardControl:!l,onPlay:e,onExitKeyboardControl:()=>u(!0),songPreview:c,top:O,left:z,width:Math.floor(D),height:Math.floor(q)}}})})]}),f.jsx(Nge,{selectedPlaylist:v,setSelectedPlaylist:A,playlists:S,active:g,closePlaylist:p})]})})}const p0e=C("div",{target:"e13s0pn12"})($e,";text-align:center;font-size:5rem;padding:10rem 0;"),g0e=C("div",{target:"e13s0pn11"})({name:"usdvu5",styles:"display:flex;flex-direction:row;max-height:100vh"}),m0e=e=>{const{theme:t}=y.useContext(QS);return t==="eurovision"?null:f.jsx(v0e,{...e})},v0e=C(Mge,{target:"e13s0pn10"})({name:"ybgcp",styles:"position:fixed;inset:0;width:100%;height:100%;filter:blur(7px) grayscale(90%);opacity:0.25;object-fit:cover"}),y0e=C("div",{target:"e13s0pn9"})($e,";display:flex;align-items:center;justify-content:center;flex:1;height:75vh;font-size:10rem;"),pb=C("div",{target:"e13s0pn8"})($e,";display:flex;padding:0.5rem 1rem;font-size:3.5rem;z-index:1;color:",de.colors.text.active,";background:rgba(0, 0, 0, 0.7);align-items:center;gap:1rem;"),qP=C("div",{target:"e13s0pn7"})("position:relative;flex:1 1 auto;min-height:100vh;max-height:100vh;transition:opacity 500ms;opacity:",e=>e.dim?.5:1,";"),WP=C("div",{target:"e13s0pn6"})({name:"1mtg8xe",styles:"background:black;flex-basis:var(--song-entry-width);height:var(--song-entry-height);border-radius:1rem;animation:skeleton 1s ease-in-out infinite alternate;@keyframes skeleton{0%{opacity:0.65;}100%{opacity:0.75;}}"}),A0e=y.memo(C(HN,{target:"e13s0pn5"})("cursor:pointer;flex-basis:var(--song-entry-width);height:var(--song-entry-height);transition:300ms;transform:scale(1);&[data-focused='true']{transform:scale(",d0e,");z-index:2;",ru,";}")),_0e=C("div",{target:"e13s0pn4"})(""),rB=C("div",{target:"e13s0pn3"})({name:"1syiygp",styles:"display:flex;flex-wrap:nowrap;justify-content:space-between;padding:calc(var(--song-list-gap) / 2) var(--song-list-padding-right) calc(var(--song-list-gap) / 2) var(--song-list-padding-left)"}),KP=C(rB,{target:"e13s0pn2"})({name:"1rn35zs",styles:"position:sticky;top:0;z-index:3"}),YP=C(rB,{target:"e13s0pn1"})({name:"s8hqg9",styles:"position:relative;&[data-is-new='true']{background:rgba(0, 0, 0, 0.7);}"}),QP=C("div",{target:"e13s0pn0"})("display:flex;align-items:flex-end;height:var(--song-group-header-height);&[data-highlight='true']{",pb,"{animation:new-song-group-header 600ms ease-in-out infinite both;background:#ffffff;@keyframes new-song-group-header{0%,100%{transform:scale(1);}50%{transform:scale(1.1);}}}}");function b0e(e){const[t,n]=Fe($m),[r,i]=y.useState(t===null),s=()=>{n(t??[]),i(!1)};return r?f.jsx(tN,{onClose:s,closeText:"Continue to Song Selection"}):f.jsx(h0e,{...e})}var hE={},S0e=ot;Object.defineProperty(hE,"__esModule",{value:!0});var iB=hE.default=void 0,x0e=S0e(ut()),w0e=f;iB=hE.default=(0,x0e.default)((0,w0e.jsx)("path",{d:"M16.59 7.58 10 14.17l-3.59-3.58L5 12l5 5 8-8zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"}),"CheckCircleOutline");const cd=e=>new Promise(t=>setTimeout(t,e)),hA=15;function E0e({onFinish:e}){const[t,n]=y.useState(!1),[r,i]=y.useState([]);wr(ee.readinessConfirmed,a=>{i(l=>[...l,a])});const s=vi([ee.inputListChanged,ee.readinessConfirmed],()=>Me.getPlayers().map((a,l)=>[a.input.deviceId,a.getName(),a]));y.useEffect(()=>{(async()=>{let a=!1;const l=Me.requestReadiness().then(()=>{a=!0,n(!0)}),c=cd(1500),u=cd(hA*1e3);await cd(250),a||await Yp.play(),await Promise.race([Promise.all([l,c]),u]),Yp.playing()&&i3.play(),await cd(500),Yp.pause(),await cd(1e3),e()})()},[]);const o=s.map(([a,l,c])=>({confirmed:r.includes(a),name:l,player:c}));return f.jsx(f.Fragment,{children:f.jsxs(k0e,{children:[!t&&f.jsxs("span",{children:["Waiting for all players to click ",f.jsx("strong",{children:'"Ready"'})]}),f.jsx(T0e,{children:o.map(({confirmed:a,name:l,player:c},u)=>f.jsxs(I0e,{className:"ph-no-capture","data-test":"player-confirm-status","data-name":l,"data-confirmed":a,children:[!t&&f.jsx(P0e,{children:a?f.jsx(iB,{}):f.jsx(Eh,{color:"info",size:"1em"})})," ",f.jsx(XN,{player:c})]},u))}),!t&&f.jsxs(C0e,{children:["The song will start automatically in"," ",f.jsx("strong",{children:f.jsx(qw,{end:0,start:hA,duration:hA,useEasing:!1})})]})]})})}const k0e=C("div",{target:"e1wiz9j54"})("top:0;left:0;z-index:1000;display:flex;align-items:center;justify-content:center;flex-direction:column;position:absolute;width:100%;height:100%;gap:5rem;font-size:5rem;",$e,";"),C0e=C("span",{target:"e1wiz9j53"})({name:"1umnjfm",styles:"font-size:5rem"}),T0e=C("div",{target:"e1wiz9j52"})({name:"1uxgijs",styles:"display:flex;flex-direction:column;gap:5rem;width:50rem;view-transition-name:player-mic-check-container"}),I0e=C("div",{target:"e1wiz9j51"})({name:"174652e",styles:"display:flex;align-items:center;gap:2rem;transform:scale(1.5)"}),P0e=C("span",{target:"e1wiz9j50"})({name:"1l5xwqu",styles:"svg{width:5rem;height:5rem;stroke:black;}"});function R0e({register:e,onExit:t}){const n=y.useRef(null),[r,i]=y.useState(!1),[s,o]=y.useState(!1),[a,l]=y.useState(!1);y.useEffect(()=>{var u;(u=n.current)==null||u.focus()},[n]);const c=()=>{const u=Ne.getSong(),d={songId:u==null?void 0:u.id,songLastUpdated:u==null?void 0:u.lastUpdate},h=[];r&&h.push("not-in-sync"),s&&h.push("wrong-volume"),a&&h.push("bad-lyrics"),h.length&&Vn.capture("rate-song",{issues:h,...d}),t()};return f.jsx(f.Fragment,{children:f.jsxs(ns,{children:[f.jsx("h1",{children:"Is the song OK?"}),f.jsx("h4",{children:"If there's something wrong with the song, let me know so I can fix it"}),f.jsxs(pA,{...e("button-not-in-sync",()=>i(u=>!u)),size:"small",children:[f.jsx(gA,{children:r?f.jsx(Jd,{}):f.jsx(Xd,{})}),f.jsx("span",{children:"Lyrics are not in sync"})]}),f.jsxs(pA,{...e("button-bad-lyrics",()=>l(u=>!u)),size:"small",children:[f.jsx(gA,{children:a?f.jsx(Jd,{}):f.jsx(Xd,{})}),f.jsx("span",{children:"Wrong lyrics, missing spaces etc."})]}),f.jsxs(pA,{...e("button-wrong-volume",()=>o(u=>!u)),size:"small",children:[f.jsx(gA,{children:s?f.jsx(Jd,{}):f.jsx(Xd,{})}),f.jsx("span",{children:"Too loud/quiet"})]}),f.jsx("hr",{}),f.jsx(Pe,{...e("button-song-ok",c,void 0,!0),ref:n,children:s||r?"Submit and exit":"All good, exit the song"})]})})}const pA=C(Pe,{target:"e1prcfby1"})({name:"12ib3m7",styles:"justify-content:flex-start;gap:1rem"}),gA=C("div",{target:"e1prcfby0"})({name:"224g68",styles:"svg{width:3rem;height:3rem;}display:flex;align-items:center;justify-content:center"});function M0e({onResume:e,onExit:t,onRestart:n}){const r=Zr(),i=y.useRef(null),s=y.useRef(null);y.useEffect(()=>{var h;(h=i.current)==null||h.focus()},[i]);const[o,a]=y.useState(!1),{register:l}=zn({enabled:!o}),[c,u]=y.useState(!1),d=async()=>{const h=Ne.getSongCompletionProgress(),p=(await no.getIndex()).find(g=>{var m;return g.id===((m=Ne.getSong())==null?void 0:m.id)});!(p!=null&&p.local)&&h<.7&&!ks()?u(!0):t()};return f.jsxs(zl,{onClose:e,children:[!c&&f.jsxs(f.Fragment,{children:[f.jsxs(ns,{children:[f.jsx(Pe,{...l("button-resume-song",e),ref:i,children:"Resume song"}),f.jsx(Pe,{...l("button-restart-song",n),children:"Restart song"}),f.jsx(Pe,{...l("button-exit-song",d),children:"Exit song"}),f.jsx(Pe,{...l("input-settings",()=>a(!0)),children:"Microphones settings"}),f.jsx("hr",{}),f.jsx(dN,{ref:s,...l("input-lag",()=>{var h;return(h=s.current)==null?void 0:h.focus()})}),f.jsx(Pe,{...l("edit-song",()=>{var h;return r("edit/song/",{song:((h=Ne.getSong())==null?void 0:h.id)??""})}),size:"small",children:"Edit song"})]}),o&&f.jsx(ZN,{onClose:()=>a(!1),closeButtonText:"Back to Pause Menu"})]}),c&&f.jsx(R0e,{onExit:t,register:l})]})}const sB=ks()?1e3:8e3;function j0e(e){return Math.floor((yv(e)-sB)/1e3)}const O0e=2e4;function V0e(e){return yv(e)-(e.videoGap??0)*1e3>O0e}function L0e({playerRef:e,isEnabled:t}){const[n]=Fe(pr),r=Ne.getSong(),i=y.useMemo(()=>V0e(r),[r]),s=y.useMemo(()=>yv(r),[r]),o=Ne.getCurrentTime(!1)<s-sB*1.2,a=t&&o&&i;Dl({accept:()=>{e==null||e.seekTo(j0e(r));const{artist:u,title:d}=Ne.getSong();Vn.capture("introSkipped",{name:`${u} - ${d}`,artist:u,title:d})}},a);const c=y.useMemo(()=>({accept:"Skip Intro",back:"Pause Menu"}),[]);return Nu(c,a),!n&&a?f.jsxs(N0e,{visible:a,"data-test":"skip-intro-info",children:["Press ",f.jsx(B0e,{children:"Enter"})," to skip the intro"]}):null}const N0e=C("div",{target:"e167kngm1"})($e,";pointer-events:none;position:fixed;bottom:29rem;transform:scale(",e=>e.visible?1:0,");opacity:",e=>e.visible?1:0,";text-align:center;font-size:5rem;text-shadow:0 0 3.5rem black;width:100%;z-index:4;padding:0.5rem;transition:ease 500ms;"),B0e=C("kbd",{target:"e167kngm0"})("margin:0.2rem;padding:0.2rem 2rem;border-radius:1.3rem;border:0.5rem solid rgb(204, 204, 204);border-bottom-color:rgb(150, 150, 150);border-right-color:rgb(150, 150, 150);line-height:1.4;display:inline-block;background-color:rgb(247, 247, 247);text-shadow:0 1rem 0 #fff;opacity:",e=>e.disabled?.25:1,";"),D0e=15e3;function $0e({onSongEnd:e,isEnabled:t}){const[n]=Fe(pr),r=Ne.getDuration(),i=y.useMemo(()=>Math.max(...Ne.getPlayers().map(p=>mf(p.getLastNotesSection()))),[]),s=y.useMemo(()=>{var g;const p=yN(i,Ne.getSong())+(((g=Ne.getSong())==null?void 0:g.gap)??0);return t&&r*1e3>p+D0e},[r,i,t]),[o,a]=y.useState(0),[l,c]=y.useState(!1);G3(()=>a(Ne.getCurrentBeat()),1e3);const u=Nw(s&&o>i,5e3)&&!l;Dl({accept:()=>{c(!0),setTimeout(e,700);const{artist:p,title:g}=Ne.getSong();Vn.capture("outroSkipped",{name:`${p} - ${g}`,artist:p,title:g})}},u);const h=y.useMemo(()=>({accept:"Skip Outro",back:"Pause Menu"}),[]);return Nu(h,u),!n&&s?f.jsxs(F0e,{visible:u,"data-test":"skip-outro-info","data-visible":u,children:["Press ",f.jsx(z0e,{children:"Enter"})," to skip the outro"]}):null}const F0e=C("div",{target:"e1b01y1a1"})($e,";pointer-events:none;position:fixed;bottom:29rem;transform:scale(",e=>e.visible?1:0,");opacity:",e=>e.visible?1:0,";text-align:center;font-size:5rem;text-shadow:0 0 3.5rem black;width:100%;z-index:4;padding:0.5rem;transition:ease 500ms;"),z0e=C("kbd",{target:"e1b01y1a0"})("margin:0.2rem;padding:0.2rem 2rem;border-radius:1.3rem;border:0.5rem solid rgb(204, 204, 204);border-bottom-color:rgb(150, 150, 150);border-right-color:rgb(150, 150, 150);line-height:1.4;display:inline-block;background-color:rgb(247, 247, 247);text-shadow:0 1rem 0 #fff;opacity:",e=>e.disabled?.25:1,";"),U0e=Te.memo($0e);function JP(e){return e&&e.length?KL(e):[]}function H0e({players:e}){const t=Ne.getCurrentTime(!1),n=Ne.getSongBeatLength(),r=Ne.getDuration(),i=Ne.getSong(),s=y.useMemo(()=>JP(i.tracks.filter((l,c)=>e.find(u=>u.track===c)).map(({sections:l})=>Aa(l)*n+i.gap)),[i,n,e]),o=y.useMemo(()=>JP(i.tracks.filter((l,c)=>e.find(u=>u.track===c)).map(({sections:l})=>gf(l)*n+i.gap)),[i,n,e]),a=r*1e3;return!t||!r?null:f.jsxs(pE,{children:[s.map(l=>f.jsx(XP,{position:l/a},l)),o.map(l=>f.jsx(XP,{position:l/a},l)),f.jsx(W0e,{fill:t/a})]})}const pE=C("div",{target:"e1pz3mwm2"})({name:"1q7pdku",styles:"position:absolute;height:0.6rem;width:100%;background:rgba(0, 0, 0, 0.5);left:0;top:calc(50% - 0.3rem)"}),G0e=C(pE,{target:"e1pz3mwm1"})("top:0;margin-left:-0.25rem;width:0.5rem;background:",de.colors.text.active,";opacity:75%;"),XP=e=>f.jsx(G0e,{style:{left:`${Math.min(e.position*100,100)}%`}}),q0e=C(pE,{target:"e1pz3mwm0"})({name:"1ssqmyb",styles:"top:0;background:white;opacity:50%"}),W0e=e=>f.jsx(q0e,{style:{width:`${Math.round(e.fill*1e4)/100}%`}});function K0e({player:e,bottom:t=!1,...n}){const r=gn.getPlayerVolume(e.number),i=KN(e.number);return f.jsxs(Y0e,{...n,children:[i!=="unavailable"&&f.jsx(Gpe,{playerNumber:e.number,volume:r}),f.jsx(Q0e,{status:i,tooltipPosition:"start"}),f.jsx(J0e,{playerNumber:e.number})]})}const Y0e=C("div",{target:"ea232322"})({name:"180gow0",styles:"width:20rem;position:relative"}),Q0e=C(JN,{target:"ea232321"})({name:"14rk3pa",styles:"top:auto;right:1rem;bottom:-0.5rem"}),J0e=C(QN,{target:"ea232320"})({name:"ed8znk",styles:"z-index:2;font-size:2rem;margin-right:1rem;-webkit-text-stroke:0.1rem black"});function ZP({player:e,bottom:t=!1,effectsEnabled:n,showMultipleLines:r}){var x;const i=Ne.getPlayer(e.number),[s]=Fe(pr),o=de.colors.players[e.number].text,a=((x=Ne.getSingSetup())==null?void 0:x.mode)===jr.PASS_THE_MIC?i.getTrack().changes:[],l=i.getCurrentSection(),c=i.getNextSection(),u=i.getNextSection(2),d=Ne.getCurrentBeat(),h=Ne.getSongBeatLength(),p=Math.max(0,...a.filter(b=>b<=((l==null?void 0:l.start)??-1/0))),g=a.find(b=>b>((l==null?void 0:l.start)??1/0))??1/0,m=(g-d)*h,_=(g-d)/(g-p),v=m<2500,A=Rt(l),S=A?Aa([l])-l.start:0;return f.jsxs(nve,{shouldBlink:v,bottom:t,"data-test":`lyrics-container-player-${e.number}`,children:[!s&&n&&f.jsx(X0e,{children:r?f.jsx(eR,{player:e}):Ne.getPlayers().map(b=>f.jsx(eR,{player:Me.getPlayer(b.getNumber())},b.getNumber()))}),m<1/0&&f.jsx(lve,{color:o,progress:_<=1?_*100:0}),A?f.jsx(f.Fragment,{children:f.jsxs(Tp,{"data-test":`lyrics-current-player-${e.number}`,effectsEnabled:n,children:[f.jsx(Z0e,{children:f.jsx(tve,{color:o,percent:Math.min(2,(d-l.start)/S)})}),l==null?void 0:l.notes.map(b=>{const w=Math.max(0,Math.min(2,(d-b.start)/b.length));return f.jsxs(rve,{type:b.type,children:[f.jsxs(ive,{children:[f.jsx(ove,{fill:w,color:o,children:b.lyrics.trim()}),b.lyrics.endsWith(" ")&&" "]}),b.lyrics]},b.start)}),(c==null?void 0:c.start)===g&&f.jsx(tR,{"data-should-shake":!0})]})}):f.jsx(Tp,{effectsEnabled:n,children:""}),Rt(c)?f.jsxs(Tp,{nextLine:!0,"data-test":`lyrics-next-player-${e.number}`,effectsEnabled:n,children:[c.notes.map(b=>f.jsx(y.Fragment,{children:b.lyrics},b.start)),(u==null?void 0:u.start)===g&&f.jsx(tR,{})]}):f.jsx(Tp,{effectsEnabled:n,nextLine:!0,children:""})]})}const eR=C(K0e,{target:"e1j3lo7n10"})({name:"82a6rk",styles:"flex:1"}),X0e=C("div",{target:"e1j3lo7n9"})({name:"zrovsy",styles:"position:absolute;top:0;right:0;display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%"}),Z0e=C("span",{target:"e1j3lo7n8"})({name:"1sngsgs",styles:"position:relative;height:0"}),eve=C("span",{target:"e1j3lo7n7"})({name:"7drlms",styles:"position:absolute;width:15rem;height:3.1rem;margin:0.7rem 0;right:10rem"}),tve=({percent:e,color:t})=>{const n=y.useMemo(()=>{const r=ue(t).toRgb();return`${r.r}, ${r.g}, ${r.b}`},[t]);return f.jsx(eve,{style:{transformOrigin:"right",transform:`scaleX(${Math.min(1,2-e)})`,right:`${Math.max(0,1-e)*15}rem`,background:`linear-gradient(270deg, rgba(${n}, 1) 0%, rgba(${n}, 0.5) 25%, rgba(${n}, 0) 100%)`}})},nve=C("div",{target:"e1j3lo7n6"})("@keyframes blink{100%{background-color:rgba(0, 0, 0, ",e=>e.bottom?"0.85":"0.5",");}30%{background-color:rgba(0, 0, 0, ",e=>e.bottom?"0.85":"0.5",");}50%{background-color:rgba(200, 200, 200, ",e=>e.bottom?"0.85":"0.5",");}30%{background-color:rgba(0, 0, 0, ",e=>e.bottom?"0.85":"0.5",");}0%{background-color:rgba(0, 0, 0, ",e=>e.bottom?"0.85":"0.5",");}}box-sizing:border-box;padding:1rem;background:rgba(0, 0, 0, ",e=>e.bottom?"0.9":"0.5",");width:100%;text-align:center;line-height:1;position:relative;",e=>e.shouldBlink?"animation: blink 350ms ease-in-out infinite both;":"",";"),rve=C("span",{target:"e1j3lo7n5"})("font-style:",e=>e.type==="freestyle"?"italic":"normal",";"),ive=C("span",{target:"e1j3lo7n4"})({name:"nffb2y",styles:"position:absolute;z-index:1"}),sve=C("span",{target:"e1j3lo7n3"})(""),ove=({fill:e,color:t,children:n})=>f.jsx(sve,{style:{clipPath:`inset(0 ${(1-(e===0?0:e+.05))*100}% -5rem 0)`,color:`${t}`},children:n}),ave=C("div",{target:"e1j3lo7n2"})({name:"d6fl9l",styles:"position:absolute;height:1rem;width:100%"}),lve=e=>f.jsx(ave,{"data-test":"pass-the-mic-progress",style:{background:e.color,transformOrigin:"left",transform:`scaleX(${e.progress/100})`}}),tR=C(gv,{target:"e1j3lo7n1"})("@keyframes shake{10%,90%{transform:translate3d(-0.1rem, 0, 0);}20%,80%{transform:translate3d(0.2rem, 0, 0);}30%,50%,70%{transform:translate3d(-0.4rem, 0, 0);}40%,60%{transform:translate3d(0.4rem, 0, 0);}}font-size:3rem;margin-left:2rem;&[data-should-shake='true']{animation:shake 0.92s cubic-bezier(0.36, 0.07, 0.19, 0.97) both infinite;fill:",de.colors.text.active,";font-size:4rem;}"),Tp=C("div",{target:"e1j3lo7n0"})("font-size:",({nextLine:e,effectsEnabled:t})=>t?3.5+(e?0:1):2,"rem;height:",({effectsEnabled:e})=>e?4.5:2,"rem;-webkit-text-stroke-width:",({effectsEnabled:e})=>e?"0.2rem":"1px",";color:",({nextLine:e})=>e?de.colors.text.inactive:de.colors.text.default,";font-family:'Comic Sans MS',Seravek,'Gill Sans Nova',Ubuntu,Calibri,'DejaVu Sans',source-sans-pro,sans-serif;z-index:10;"),oB=new Intl.NumberFormat(void 0,{maximumFractionDigits:0});function gb({score:e}){return f.jsx(f.Fragment,{children:oB.format(e)})}const aB=6,ji=30,Sn=ji+6,cve=e=>{const t=e.canvas.width,n=e.canvas.height,r=Math.max(0,(t-n*(16/9))/2),i=10+(t-2*r)*.15+r,s=n-e.paddingVertical*2;return{width:t-i*2,height:s/e.playerCount,baseX:i,baseY:e.paddingVertical+e.playerIndex*s/e.playerCount}};function nR({canvas:e,currentSectionIndex:t,song:n,songBeatLength:r,minPitch:i,maxPitch:s,track:o,playerIndex:a,playerCount:l,paddingVertical:c}){var S;const u=o.sections,d=u[t],h=u[t+1],p=cve({canvas:e,playerCount:l,playerIndex:a,paddingVertical:c}),g=Rt(d)?(S=d==null?void 0:d.notes)==null?void 0:S.at(-1):void 0,m=Rt(d)?(h==null?void 0:h.start)??g.start+g.length:d.end,_=d.start*r,v=(m-d.start)*r,A=(p.height-20-ji)/(s-i+aB*2);return{playerCanvas:p,currentSection:d,sectionEndBeat:m,timeSectionGap:_,maxTime:v,pitchStepHeight:A}}function lB(e,t,n,r,i){return i&&n?de.colors.players[t].starPerfect:i?de.colors.players[t].perfect:n&&r?de.colors.players[t].star:r?de.colors.players[t].hit:de.colors.players[t].miss}function uve(e,t,n,r){return lB(e,t,r.note.type==="star",n,r.isPerfect)}const mA={},dve=e=>{if(!mA[e]){const t=ue(e);mA[e]=[[t.setAlpha(.8).toRgbString(),t.setAlpha(.9).toRgbString(),t.setAlpha(1).toRgbString()],[t.setAlpha(0).toRgbString()],[t.setAlpha(.1).toRgbString(),t.setAlpha(.3).toRgbString(),t.setAlpha(.2).toRgbString()]]}return mA[e]};function mb(e,t,n,r,i,s,o,a=1){if(i<=0)return;t.globalAlpha=1;const l=t.createRadialGradient(n,r,0,n,r,i/2),[c,u,d]=dve(o);l.addColorStop(0,c[Ws(0,c.length-1)]),l.addColorStop(.05,c[Ws(0,c.length-1)]),l.addColorStop(.15,d[Ws(0,d.length-1)]),l.addColorStop(1,u[Ws(0,u.length-1)]),t.beginPath(),t.arc(n,r,i/2,0,2*Math.PI),t.closePath(),t.fillStyle=l,t.fill(),t.fillStyle=o,t.globalAlpha=1}function cB(e,t,n,r,i,s,o,a,l=1){i>0&&mb(e,t,n,r,i,s,a,l)}const gg=(e,t)=>e-t+Math.random()*t*2,rR=(e=0)=>Math.sign(e+Math.random()-.5),fve=300,hve=50,Ip=1.3;class pve{constructor(t,n,r){this.x=t,this.y=n,this.color=r,this.finished=!1,this.tick=(i,s,o)=>{const a=1-this.ttl/this.startingTtl,l=this.ttl,c=this.width*a,u=this.width*this.heightModifier*a,d=this.x-c/2+l*this.velocityX,h=this.y+u/2+l*this.velocityY;cB(s,i,d,h,c,u,this.initialAngle+l,this.color,.7*a),this.ttl=this.ttl-o,this.finished=this.ttl<=0},this.startingTtl=this.ttl=gg(fve,hve),this.velocityX=Ip*Math.random()-Ip/2,this.velocityY=Ip*Math.random()-Ip/2,this.width=25,this.initialAngle=180-Math.random()*360,this.heightModifier=.5+Math.random()/2}}const gve=`
precision mediump float;
`,xv=gve.replace(/\n/g,""),mve=`
attribute vec3 aVertexPosition;
attribute vec2 aTextureCoord;
`,uB=mve.replace(/\n/g,""),vve=`
varying vec3 vVertexPosition;
varying vec2 vTextureCoord;
`,wv=vve.replace(/\n/g,""),yve=xv+uB+wv+`
uniform mat4 uMVMatrix;
uniform mat4 uPMatrix;

void main() {
    vTextureCoord = aTextureCoord;
    vVertexPosition = aVertexPosition;
    
    gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);
}
`;yve.replace(/\n/g,"");const Ave=xv+wv+`
void main() {
    gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
}
`;Ave.replace(/\n/g,"");const _ve=xv+uB+wv+`
void main() {
    vTextureCoord = aTextureCoord;
    vVertexPosition = aVertexPosition;
    
    gl_Position = vec4(aVertexPosition, 1.0);
}
`;_ve.replace(/\n/g,"");const bve=xv+wv+`
uniform sampler2D uRenderTexture;

void main() {
    gl_FragColor = texture2D(uRenderTexture, vTextureCoord);
}
`;bve.replace(/\n/g,"");function Sve(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:qS(e,t,n)}var xve="\\ud800-\\udfff",wve="\\u0300-\\u036f",Eve="\\ufe20-\\ufe2f",kve="\\u20d0-\\u20ff",Cve=wve+Eve+kve,Tve="\\ufe0e\\ufe0f",Ive="\\u200d",Pve=RegExp("["+Ive+xve+Cve+Tve+"]");function dB(e){return Pve.test(e)}function Rve(e){return e.split("")}var fB="\\ud800-\\udfff",Mve="\\u0300-\\u036f",jve="\\ufe20-\\ufe2f",Ove="\\u20d0-\\u20ff",Vve=Mve+jve+Ove,Lve="\\ufe0e\\ufe0f",Nve="["+fB+"]",vb="["+Vve+"]",yb="\\ud83c[\\udffb-\\udfff]",Bve="(?:"+vb+"|"+yb+")",hB="[^"+fB+"]",pB="(?:\\ud83c[\\udde6-\\uddff]){2}",gB="[\\ud800-\\udbff][\\udc00-\\udfff]",Dve="\\u200d",mB=Bve+"?",vB="["+Lve+"]?",$ve="(?:"+Dve+"(?:"+[hB,pB,gB].join("|")+")"+vB+mB+")*",Fve=vB+mB+$ve,zve="(?:"+[hB+vb+"?",vb,pB,gB,Nve].join("|")+")",Uve=RegExp(yb+"(?="+yb+")|"+zve+Fve,"g");function Hve(e){return e.match(Uve)||[]}function Gve(e){return dB(e)?Hve(e):Rve(e)}function qve(e){return function(t){t=HS(t);var n=dB(t)?Gve(t):void 0,r=n?n[0]:t.charAt(0),i=n?Sve(n,1).join(""):t.slice(1);return r[e]()+i}}var Wve=qve("toUpperCase");function Kve(e){return Wve(HS(e).toLowerCase())}function iR(e,t,n,r,i,s,o,a){const l=Math.max(r,i/2),c=Math.min(l/2,i/2,s);e.beginPath(),e.moveTo(t+c,n),e.lineTo(t+l-c,n),e.quadraticCurveTo(t+l,n,t+l,n+c),e.lineTo(t+l,n+i-c),e.quadraticCurveTo(t+l,n+i,t+l-c,n+i),e.lineTo(t+c,n+i),e.quadraticCurveTo(t,n+i,t,n+i-c),e.lineTo(t,n+c),e.quadraticCurveTo(t,n,t+c,n),e.closePath(),o&&e.fill(),a&&e.stroke()}function gE(e,t,n,r,i,s,o,a,l=.1){iR(e,t,n,r,i,s,o,a),o&&l>0&&(e.save(),iR(e,t,n,r,i,s,!1,!1),e.clip(),e.fillStyle=`rgba(255,255,255,${l})`,e.fillRect(t,n,r,i/2.2),e.restore())}function Ed(e,t){e.fillStyle=t.fill,e.strokeStyle=t.stroke,e.lineWidth=t.lineWidth}function kd(e,t,n,r,i,s,o){s==="star"?Ed(e,de.colors.lines.star):s==="freestyle"||s==="rap"?Ed(e,de.colors.lines.freestyle):s==="rapstar"?Ed(e,{...de.colors.lines.star,fill:de.colors.lines.freestyle.fill}):Ed(e,de.colors.lines.normal),e.shadowBlur=10,e.shadowColor=o!==void 0?de.colors.players[o].miss.stroke:"rgb(31,31,31)",e.shadowOffsetX=0,e.shadowOffsetY=0,gE(e,t,n,r,i,100,!0,!0,.075),e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0}function Yve(e,t,n,r,i,s,o,a,l){Ed(e,lB(e,s,l,o,a)),e.shadowBlur=5,e.shadowColor="rgba(31,31,31, .7)",e.shadowOffsetX=1,e.shadowOffsetY=1,gE(e,t,n,r,i,100,!0,!0,o?.15:0),e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0}const Mn=10,Qve={start:{x:0,y:0,w:ji/2+Mn,h:ji+Mn*2},middle:{x:ji/2+Mn,y:0,w:1,h:ji+Mn*2},end:{x:ji/2+1+Mn,y:0,w:ji/2+Mn,h:ji+Mn*2}},xc={start:{x:0,y:0,w:Sn/2+Mn,h:Sn+Mn*2},middle:{x:Sn/2+Mn,y:0,w:1,h:Sn+Mn*2},end:{x:Sn/2+1+Mn,y:0,w:Sn/2+Mn,h:Sn+Mn*2}},nc=(e,t,n,r,i)=>({draw:(s,o,a,l,c)=>Yve(s,o,a,l,c,e,t,n,r),width:i?Sn:ji+1,height:i?Sn:ji,padding:Mn,fragments:i?xc:Qve}),Pp=e=>({[`p${e}Normal`]:{draw:(t,n,r,i,s)=>kd(t,n,r,i,s,"normal",e),width:Sn+1,height:Sn,padding:Mn,fragments:xc},[`p${e}Miss`]:nc(e,!1,!1,!1,!1),[`p${e}Hit`]:nc(e,!0,!1,!1,!0),[`p${e}Perfect`]:nc(e,!0,!0,!1,!0),[`p${e}StarMiss`]:nc(e,!1,!1,!0,!1),[`p${e}StarHit`]:nc(e,!0,!1,!0,!0),[`p${e}StarPerfect`]:nc(e,!0,!0,!0,!0)}),go={...Pp(0),...Pp(1),...Pp(2),...Pp(3),noteStar:{draw:(e,t,n,r,i)=>kd(e,t,n,r,i,"star"),width:Sn+1,height:Sn,padding:Mn,fragments:xc},noteFreestyle:{draw:(e,t,n,r,i)=>kd(e,t,n,r,i,"freestyle"),width:Sn+1,height:Sn,padding:Mn,fragments:xc},noteRap:{draw:(e,t,n,r,i)=>kd(e,t,n,r,i,"rap"),width:Sn+1,height:Sn,padding:Mn,fragments:xc},noteRapstar:{draw:(e,t,n,r,i)=>kd(e,t,n,r,i,"rapstar"),width:Sn+1,height:Sn,padding:Mn,fragments:xc}};function Jve(e,t){const n=document.createElement("canvas");return n.width=e,n.height=t,n}const yB=Math.max(...Object.values(go).map(e=>e.padding*2+e.width)),AB=Object.values(go).map(e=>e.padding*2+e.height).reduce((e,t)=>e+t,0),_B=Jve(yB,AB),Ab=_B.getContext("2d");let tl=0;const sR=Object.entries(go).map(([e,t])=>{const n=t.padding*2,r={name:e,x:0,y:tl,w:t.width+n,h:t.height+n};return tl=tl+t.height+n,r}).reduce((e,t)=>({...e,[t.name]:t}),{}),bB=()=>{Ab.clearRect(0,0,yB,AB),tl=0,Object.entries(go).forEach(([e,t])=>{t.draw(Ab,t.padding,tl+t.padding,t.width,t.height),tl=tl+t.padding*2+t.height})};bB();ee.songStarted.subscribe(bB);const SB=(e,t)=>({canvas:_B,ctx:Ab,x:sR[e].x+go[e].fragments[t].x,y:sR[e].y+go[e].fragments[t].y,w:go[e].fragments[t].w,h:go[e].fragments[t].h,padding:go[e].padding}),vA=(e,t,n,r,i,s,o,a=1,l=1)=>{const c=SB(t,n),{canvas:u,w:d,h,y:p,x:g,padding:m}=c,_=m*a,v=m*l;return e.imageSmoothingEnabled=!1,e.drawImage(u,g,p,d,h,r-_,i-v,s??d,o??h),e.imageSmoothingEnabled=!0,c};function xB(e,t,n,r,i){const s=SB(t,"start"),o=Math.max(i,(s.h-s.padding*2)/2),a=Math.min(1,o/2/(s.w-s.padding)),l=a*s.w,c=l-s.padding*a,u=o-2*c;vA(e,t,"start",n,r,l,void 0,a),u>0&&vA(e,t,"middle",n+l,r,u,void 0,a),vA(e,t,"end",n+u+l,r,l,void 0,a)}const Xve=(e,t)=>`${t!==void 0&&e==="normal"?`p${t}`:"note"}${Kve(e)}`;function wB(e,t,n,r,i,s){const o=Xve(i.type,s);xB(e,o,t,n,r)}function Zve(e,t,n,r,i,s){e.save(),gE(e,t,n,r,i,100,!1,!1),e.clip(),e.beginPath(),e.strokeStyle="rgba(255,255,255, .35)",e.lineWidth=3,e.lineJoin="round",e.moveTo(t,n+i/2-s.frequencyRecords[0].preciseDistance*i/3);for(let o=1;o<s.frequencyRecords.length;o++)e.lineTo(t+o*(r/(s.frequencyRecords.length-1)),n+i/2-s.frequencyRecords[o].preciseDistance*i/3);e.stroke(),e.closePath(),e.restore(),e.lineJoin="miter"}const eye=(e,t,n,r)=>{let i=`p${e}`;return n&&r?i=`${i}StarPerfect`:n?i=`${i}Perfect`:r&&t?i=`${i}StarHit`:t?i=`${i}Hit`:r&&!t?i=`${i}StarMiss`:i=`${i}Miss`,i},tye=["star","rapstar"];function nye(e,t,n,r,i,s,o){const a=eye(i,s,o.isPerfect,tye.includes(o.note.type));xB(e,a,t,n,r)}class rye{constructor(){this.particles=[],this.lastTick=Date.now(),this.getTimeDelta=t=>{const n=Date.now()-t,r=n-this.lastTick;return this.lastTick=n,r},this.tick=(t,n,r=0)=>{const i=this.getTimeDelta(r);this.particles.forEach(s=>s.tick(t,n,i)),this.particles=this.particles.filter(s=>!s.finished)},this.add=t=>this.particles.push(t),this.clearAll=()=>this.particles=[]}}const $a=new rye,iye=50/60*1e3,sye=25/60*1e3,oye=60,oR=.3;class aye{constructor(t,n,r,i){this.x=t,this.y=n,this.color=r,this.delay=i,this.finished=!1,this.tick=(s,o,a)=>{if(this.delay-- >0)return;const l=this.ttl/this.startingTtl,c=this.startingTtl-this.ttl,u=this.width*l,d=this.width*this.heightModifier*l,h=this.x-u/2+c*this.velocityX,p=this.y-d/2+c*this.velocityY;cB(o,s,h,p,u,d,this.initialAngle+c,this.color,.8*l),this.velocityX=this.velocityX-.009,this.velocityY=this.velocityY*1.0075,this.ttl=this.ttl-a,this.finished=this.ttl<=0},this.startingTtl=this.ttl=gg(iye,sye),this.velocityX=gg(.5,oR)*rR(.2),this.velocityY=gg(.4,oR)*rR(),this.width=oye,this.initialAngle=180-Math.random()*360,this.heightModifier=.5+Math.random()/2}}class lye{constructor(t,n,r,i,s,o){this.finished=!0,this.tick=(d,h)=>{};const a=s.type==="star"?de.colors.players[i].star.fill:de.colors.players[i].perfect.fill,l=ue(a).lighten(15).toRgbString(),c=ue(a).darken(15).toRgbString(),u=r/8;for(let d=0;d<u;d++){const h=Math.random();let p=a;h>.66?p=l:h>.33&&(p=c);const g=n+20*(Math.random()-.5);o.add(new aye(t+d*5,g,p,(u-d)/10))}}}const aR=200;class cye{constructor(t,n,r,i,s){this.x=t,this.y=n,this.width=r,this.note=i,this.playerNumber=s,this.finished=!1,this.ttl=aR,this.tick=(o,a,l)=>{const c=this.ttl/aR;o.save(),o.globalAlpha=c,o.translate(0,Sn*(1-c)),wB(o,this.x,this.y,this.width,this.note,this.playerNumber),o.globalAlpha=1,o.restore(),this.ttl=this.ttl-l,this.finished=this.ttl<=0}}}const yA=50/60*1e3,Rp=.05,uye=200,lR=4,dye=Math.pow;function cR(e){return 1-dye(1-e,2)}class fye{constructor(t,n,r,i){this.x=t,this.y=n,this.finished=!1,this.tick=(s,o,a)=>{const l=this.ttl/yA;let c=cR(1-Math.min(1,(1-l)*6));const u=this.maxWidth*c*3/4,d=this.maxWidth*c;mb(o,s,this.x,this.y,u,d,"white",c*.35),c=cR(l);const h=c*this.maxWidth/4,p=c*this.maxWidth/4,g=this.x,m=this.y,_=yA-this.ttl;s.globalAlpha=c*.2,mb(o,s,g+_*this.velocityX,m+_*this.velocityY,h,p,"white",c*.2),this.ttl=this.ttl-a,this.finished=this.ttl<=0},this.ttl=yA,this.velocityX=Rp*Math.random()-Rp/2,this.velocityY=Rp*Math.random()-Rp/2,this.maxWidth=Math.min(.1+i,1)*(Math.sin(r/70)*lR+(uye-lR))}}const uR=20;class hye{constructor(t,n,r,i,s){this.x=t,this.y=n,this.w=r,this.h=i,this.seed=s,this.finished=!1,this.ttl=2/60*1e3,this.tick=(o,a,l)=>{o.strokeStyle="rgba(255,255,255,.25)",o.lineWidth=2,o.beginPath();for(let c=0;c<this.w;c++){const u=this.x+this.w-c,d=(this.h/2+2)*Math.sin(u/uR+this.seed/250);o.lineTo(u,this.y+this.h/2+d)}o.stroke(),o.beginPath();for(let c=0;c<this.w;c++){const u=this.x+this.w-c,d=-1*(this.h/2+2)*Math.sin(u/uR+this.seed/250);o.lineTo(u,this.y+this.h/2+d)}o.stroke(),this.ttl=this.ttl-l,this.finished=this.ttl<=0}}}const dR=20;function pye(e,t){return e.find(n=>n.start<=t&&n.start+n.length>=t)}class gye{constructor(t,n=0,r=1){this.canvas=t,this.verticalMargin=n,this.scaleFactor=r,this.loop=!1,this.pauseTime=0,this.pausedOn=0,this.shaders=null,this.start=()=>{ee.sectionChange.subscribe(this.onSectionEnd),this.loop=!0,this.drawFrame()},this.pause=()=>{this.end(),this.pausedOn=Date.now()},this.resume=()=>{this.pauseTime+=Date.now()-this.pausedOn,this.start()},this.end=()=>{var i;this.loop=!1,(i=this.shaders)==null||i.cleanup(),ee.sectionChange.unsubscribe(this.onSectionEnd)},this.isPlaying=()=>this.loop,this.drawFrame=()=>{const i=Date.now(),s=this.canvas.getContext("2d");if(s){if(Ne.isPlaying()&&(s.clearRect(0,0,this.canvas.width,this.canvas.height),Me.getPlayers().forEach((a,l)=>{this.drawPlayer(a.number,s)}),$a.tick(s,this.canvas,this.pauseTime)),nl.get()===30){const o=Date.now(),a=1e3/30,l=o-i>a?a:a-(o-i);this.loop&&setTimeout(this.drawFrame,l,nl.get())}nl.get()!==30&&this.loop&&global.requestAnimationFrame(this.drawFrame)}},this.drawPlayer=(i,s)=>{const o=this.getDrawingData(i),{currentSection:a}=nR(o);if($i.get()==="high"&&this.setDistortionForce(o),!Rt(a))return;const l=this.calculateDisplacements(a,o);this.drawNotesToSing(s,o,l),this.drawSungNotes(s,o,l),$i.get()==="high"&&this.drawFlare(s,o,l)},this.setDistortionForce=i=>{var o,a,l;const s=i.currentSection;if(!Rt(s))(a=this.shaders)==null||a.updatePlayerForce(i.playerNumber,(((o=this.shaders)==null?void 0:o.getPlayerForce(i.playerNumber))??0)*.99);else{const c=Math.max(0,i.currentBeat-dR),u=i.currentPlayerNotes.filter(m=>m.note.start+m.note.length>=c).filter(m=>Ng(m)===0).reduce((m,_)=>m+_.length-Math.max(0,c-_.start),0),d=i.currentPlayerNotes.at(-1),h=((d==null?void 0:d.start)??0)+((d==null?void 0:d.length)??0),p=i.currentBeat-h,g=Math.max(Math.min(Math.pow((u-p/1.5)/dR,3),.98),0);(l=this.shaders)==null||l.updatePlayerForce(i.playerNumber,g)}},this.drawNotesToSing=(i,s,o)=>{Rt(s.currentSection)&&s.currentSection.notes.forEach(a=>{const{x:l,y:c,w:u,h:d}=this.getNoteCoords(s,a,a.pitch,!0,o[a.start]);wB(i,l,c,u,a,s.playerNumber)})},this.drawSungNotes=(i,s,o)=>{Rt(s.currentSection)&&s.currentPlayerNotes.forEach(a=>{const l=Ng(a),{x:c,y:u,w:d,h}=this.getNoteCoords(s,a,a.note.pitch+l,l===0,o[a.note.start]);(l>0||d>h/2.5)&&(nye(i,c,u,d,s.playerNumber,l===0,a),a.vibrato&&$a.add(new hye(c,u,d,h,s.currentTime)),l===0&&a.frequencyRecords.length>3&&!Od.includes(a.note.type)&&Zve(i,c,u,d,h,a))})},this.drawFlare=(i,s,o)=>{var l;if(!Rt(s.currentSection))return;const a=pye(s.currentPlayerNotes,s.currentBeat-185/s.songBeatLength);if(a&&a.distance===0){const c=o[a.note.start]||[0,0],{x:u,y:d,w:h,h:p}=this.getNoteCoords(s,a,a.note.pitch,!0,c),g=Od.includes(a.note.type)?0:a.frequencyRecords.at(-1).preciseDistance,m=u+h,_=this.getPreciseY(d,p,g);$a.add(new fye(m,_,s.currentTime,1)),$a.add(new pve(tB(Math.max(u,m-50),m),_,uve(i,s.playerNumber,!0,a).fill)),(l=this.shaders)==null||l.updatePlayerCenter(s.playerNumber,m,_)}},this.onSectionEnd=i=>{if(Ne.isPlaying()){const s=this.getDrawingData(i,-1);if(!Rt(s.currentSection))return;this.fadeoutNotes(s.currentSection,s),this.explodeNotes(s.currentSection,s)}},this.fadeoutNotes=(i,s)=>{$i.get()==="high"&&i.notes.forEach(o=>{const{x:a,y:l,w:c,h:u}=this.getNoteCoords(s,o,o.pitch,!0);$a.add(new cye(a,l,c,o,s.playerNumber))})},this.explodeNotes=(i,s)=>{$i.get()==="high"&&s.playerNotes.filter(a=>(a.distance===0||Od.includes(a.note.type))&&i.notes.includes(a.note)).forEach(a=>{const{x:l,y:c,w:u,h:d}=this.getNoteCoords(s,a,a.note.pitch,!0);$a.add(new lye(l,c+d/2,u,s.playerNumber,a.note,$a))})},this.calculateDisplacements=(i,s)=>{const o={};return $i.get()==="high"?i.notes.forEach(a=>{const l=s.playerNotes.filter(h=>h.note.start===a.start).filter(h=>h.note.start+h.note.length+30>=s.currentBeat&&h.distance===0).map(h=>h.start+30<s.currentBeat?h.length-(s.currentBeat-30-h.start):h.length).reduce((h,p)=>Math.min(h+p,30),0),c=Math.max(0,(l-5)/(a.type==="star"?3:5)),u=(Math.random()-.5)*c,d=(Math.random()-.5)*c;o[a.start]=[u,d]}):i.notes.forEach(a=>{o[a.start]=[0,0]}),o},this.getDrawingData=(i,s=0)=>{const o=Me.getPlayers(),a=o.findIndex(m=>m.number===i),l=o.length,c=Ne.getPlayer(i),u=c.getCurrentSectionIndex()+s,d=Ne.getSong(),h=c.getTrack(),p=h.sections[u],g=c.getPlayerNotes();return{playerNumber:i,playerIndex:a,playerCount:l,song:d,songBeatLength:Ne.getSongBeatLength(),minPitch:c.getMinPitch(),maxPitch:c.getMaxPitch(),canvas:this.canvas,currentTime:Ne.getCurrentTime(),frequencies:c.getPlayerFrequencies(),playerNotes:g,currentPlayerNotes:g.filter(m=>m.note.start>=((p==null?void 0:p.start)??1/0)),track:h,currentBeat:Ne.getCurrentBeat(),currentSectionIndex:u,currentSection:p,paddingVertical:this.verticalMargin}},this.getNoteCoords=(i,{start:s,length:o},a,l,c=[0,0])=>{const{sectionEndBeat:u,currentSection:d,playerCanvas:h,pitchStepHeight:p}=nR(i),g=Rt(d)?d.notes[0].start:1,m=h.width/(u-g),[_,v]=l?c:[0,0],A=p*(i.maxPitch-a+aB);return{x:Math.floor(h.baseX+m*(s-g)+_),y:Math.floor(h.baseY+10+A+v-(l?3:0)),w:Math.floor(m*o),h:l?Sn:ji}},this.getPreciseY=(i,s,o)=>i+s/2-o*s/3}}const mye=`precision mediump float;

const float MAX_FORCE = 300.0;
const int SAMPLE_COUNT = 8; // 2^x
const float INTENSITY = 0.051;
// get our varyings
varying vec3 vVertexPosition;
varying vec2 vTextureCoord;
// the uniform we declared inside our javascript
uniform float uTime;
uniform sampler2D planeTexture;
uniform vec2 uResolution;

uniform vec2 uP0center;
uniform float uP0force;

uniform vec2 uP1center;
uniform float uP1force;

float rnd(float n) {
    return fract(sin(n) * 43758.5453);
}
float random (vec2 st) {
    return rnd(dot(st.xy, vec2(12.9898, 78.233)));
}

vec4 directionalBlur(in vec2 uv, in vec2 direction, in float intensity)
{
    vec4 color = vec4(0.0);

    for (int i=1; i<=SAMPLE_COUNT; i++)
    {
        color += texture2D(planeTexture,uv+float(i)*intensity/float(SAMPLE_COUNT)*direction);
    }

    return color/float(SAMPLE_COUNT);
}

float distort(vec2 center, float force, float comparedIntensity) {
    float actualForce = force * MAX_FORCE;
    vec2 centerAbs = center * uResolution;

    vec2 direction = gl_FragCoord.xy - centerAbs.xy;
    float dist = length(direction) / length(uResolution);


    float intensity = max(0.0, 0.50 - dist) * INTENSITY * pow(force, 1.5);
    if (intensity > comparedIntensity) {
        vec4 newColor = directionalBlur(gl_FragCoord.xy / uResolution, normalize(direction), intensity);
        gl_FragColor = newColor;
    }
    return intensity;
}

void main() {
    gl_FragColor = texture2D(planeTexture, vTextureCoord);
    float p1intensity = distort(uP0center, uP0force, 0.0);
    float p2intensity = distort(uP1center, uP1force, p1intensity);
}`,vye=`
precision mediump float;

// default mandatory variables
attribute vec3 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat4 uMVMatrix;
uniform mat4 uPMatrix;

uniform mat4 planeTextureMatrix;

// custom varyings
varying vec3 vVertexPosition;
varying vec2 vTextureCoord;

void main() {
    gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);

    // varyings
    vVertexPosition = aVertexPosition;
    vTextureCoord = (planeTextureMatrix * vec4(aTextureCoord, 0.0, 1.0)).xy;
}`,yye=1920,Aye=y.forwardRef(function({currentStatus:e,width:t,height:n,playerSetups:r,onSongEnd:i,effectsEnabled:s,videoPlayerRef:o,isPauseMenuVisible:a},l){var S,x,b;const[c]=Fe($i),[u]=Fe(pr),d=y.useRef(null),h=y.useRef(null),p=y.useRef(null),g=yye,m=g*(n/t),_=m/n;y.useImperativeHandle(l,()=>({pause:()=>{var w;return(w=h.current)==null?void 0:w.pause()},resume:()=>{var w;return(w=h.current)==null?void 0:w.resume()}}),[h.current,(S=p.current)==null?void 0:S.offsetHeight,_]),y.useEffect(()=>(Ne.startInputMonitoring(),()=>{Ne.stopInputMonitoring()}),[]),y.useEffect(()=>{if(!(!d.current||!p.current))return h.current=new gye(d.current,p.current.offsetHeight*_),h.current.start(),()=>{var w;(w=h.current)==null||w.end()}},[(x=p.current)==null?void 0:x.offsetHeight,_]),y.useEffect(()=>{var w,E,T,j;a&&((w=h.current)!=null&&w.isPlaying())?(E=h.current)==null||E.pause():!a&&!((T=h.current)!=null&&T.isPlaying())&&((j=h.current)==null||j.resume())},[a]),y.useEffect(()=>{e===In.ENDED&&i&&i()},[e,i]);const v=Me.getPlayers(),A=!u&&v.length===2;return f.jsxs(_ye,{children:[c==="high"&&f.jsxs(f.Fragment,{children:[f.jsx("script",{type:"x-shader/x-fragment",id:"plane-fs",children:mye}),f.jsx("script",{id:"plane-vs",type:"x-shader/x-vertex",children:vye}),f.jsx(Sye,{id:"canvas",style:{zIndex:1e4}})]}),f.jsx(bye,{id:"plane",style:s?void 0:{opacity:0},children:f.jsx("canvas",{ref:d,width:g,height:m,"data-sampler":"planeTexture"})}),s&&f.jsxs(f.Fragment,{children:[f.jsx(L0e,{playerRef:o,isEnabled:!a}),f.jsx(U0e,{onSongEnd:i,isEnabled:!a})]}),f.jsx(H0e,{players:r}),f.jsx(fR,{children:A&&f.jsx(ZP,{player:v[0],effectsEnabled:s,showMultipleLines:A})}),f.jsx(xye,{children:s&&f.jsx(f.Fragment,{children:((b=Ne.getSingSetup())==null?void 0:b.mode)===jr.CO_OP?f.jsx(hR,{"data-test":"players-score","data-score":Math.floor(Ne.getPlayerScore(0)),children:f.jsx(gb,{score:Ne.getPlayerScore(0)})}):Me.getPlayers().map(w=>f.jsx(hR,{"data-test":`player-${w.number}-score`,"data-score":Math.floor(Ne.getPlayerScore(w.number)),children:f.jsx(gb,{score:Ne.getPlayerScore(w.number)})},w.number))})}),f.jsx(fR,{ref:p,children:f.jsx(ZP,{showMultipleLines:A,player:v[A?1:0],bottom:!0,effectsEnabled:s})})]})}),fR=C("div",{target:"el0barv5"})({name:"14ci2tu",styles:"padding:2rem 0;box-sizing:border-box"}),_ye=C("div",{target:"el0barv4"})({name:"y3i90j",styles:"height:100%;color:white;-webkit-text-stroke:0.2rem black;font-weight:bold;position:relative;display:flex;flex-direction:column"}),bye=C("div",{target:"el0barv3"})({name:"1x1omeb",styles:"position:absolute;top:0;left:0;width:100%;height:100%;canvas{width:100%;height:100%;}"}),Sye=C("div",{target:"el0barv2"})({name:"1b4920d",styles:"position:absolute;top:0;left:0;width:100%;height:100%"}),xye=C("div",{target:"el0barv1"})({name:"od05bk",styles:"flex:1;height:100%;box-sizing:border-box;font-size:5.5rem;display:flex;justify-content:space-around;padding-right:4rem;flex-direction:column;text-align:right;z-index:1"}),hR=C("span",{target:"el0barv0"})("");function wye(e,t){const[n,r]=y.useState(0);return y.useEffect(()=>{e.current&&t===In.PLAYING&&n===0&&e.current.getDuration().then(i=>{r(i),Ne.setDuration(i)})},[n,e,t]),n}function Eye({song:e,width:t,height:n,autoplay:r=!0,showControls:i=!1,onCurrentTimeUpdate:s,onSongEnd:o,onStatusChange:a,players:l,effectsEnabled:c=!0,singSetup:u,restartSong:d,pauseMenu:h=!1,...p},g){const m=y.useRef(null),[_,v]=y.useState(0),[A,S]=y.useState(In.UNSTARTED),[x]=Fe(Rd),[b,w]=y.useState(!1);y.useEffect(()=>(Ne.setSong(e),Ne.setSingSetup(u),()=>{Ne.resetSingSetup()}),[e,u]),y.useEffect(()=>{if(m.current&&A===In.PLAYING){const P=setInterval(async()=>{if(!m.current)return;const I=Math.max(0,await m.current.getCurrentTime()*1e3-x);v(I),s==null||s(I),Ne.setCurrentTime(I),Ne.update()},1e3/nl.get());return()=>clearInterval(P)}},[m,s,A,x]);const E=wye(m,A);y.useImperativeHandle(g,()=>({seekTo:P=>m.current.seekTo(P),setPlaybackSpeed:P=>m.current.setPlaybackSpeed(P),play:()=>m.current.playVideo(),pause:()=>m.current.pauseVideo()}));const T=y.useCallback(P=>{S(P),a==null||a(P)},[S,a]),j=h,B=()=>{var P;w(!0),(P=m.current)==null||P.pauseVideo()},D=()=>{var P;w(!1),(P=m.current)==null||P.playVideo()},q=()=>{b?D():B()},M=Rm(A);y.useEffect(()=>{var I;if(!j)return;const P=M!==In.PAUSED&&M!==In.BUFFERING&&A===In.PAUSED;A===In.PLAYING&&b?(I=m.current)==null||I.pauseVideo():P&&!b&&w(!0)},[b,A,M,j]),Dl({back:q},j,[b]);const V=y.useMemo(()=>({back:"Pause Menu"}),[]);return Nu(V,c),f.jsxs(kye,{...p,children:[b&&f.jsx(M0e,{onExit:o,onResume:D,onRestart:d}),A!==In.UNSTARTED&&f.jsx(Cye,{style:{width:`${t}px`,height:`${n}px`},children:f.jsx(Aye,{isPauseMenuVisible:b,effectsEnabled:c,duration:E,currentStatus:A,song:e,width:t,height:n,onSongEnd:o,playerSetups:l,videoPlayerRef:m.current})}),f.jsxs(Tye,{children:[f.jsx(Yw,{ref:m,video:e.video,width:t,height:n,controls:i,autoplay:r,disablekb:!0,volume:e.volume,startAt:e.videoGap??0,onStateChange:T}),A===In.PLAYING&&f.jsx(Iye,{"data-test":"make-song-go-fast",onClick:()=>{var P;(P=m.current)==null||P.setPlaybackSpeed(2)}})]})]})}const kye=C("div",{target:"e1ggxuxd3"})({name:"bjn8wh",styles:"position:relative"}),Cye=C("div",{target:"e1ggxuxd2"})({name:"qkt6ng",styles:"position:absolute;z-index:1;background-color:rgba(0, 0, 0, 0.2);pointer-events:none;width:100%;height:100%;top:0;left:0"}),Tye=C("div",{target:"e1ggxuxd1"})({name:"j387f9",styles:"overflow:hidden;height:100%"}),Iye=C("div",{target:"e1ggxuxd0"})({name:"sp3f84",styles:"width:30px;height:30px;opacity:0.01;background:black;position:absolute;bottom:calc(100vh / 2 - 15px);left:0"}),Pye=y.forwardRef(Eye),pR=[f.jsxs(f.Fragment,{children:["You can follow the updates and give feedback on the game through the Facebook Page:"," ",f.jsx("a",{href:"https://www.facebook.com/allkaraoke.party",target:"_blank",rel:"noreferrer",children:f.jsx("strong",{children:"fb.com/AllKaraoke.Party"})})]}),f.jsxs(f.Fragment,{children:["Start typing a name of a song in ",f.jsx("strong",{children:"Song Selection"})," to active Search feature"]}),f.jsxs(f.Fragment,{children:["Narrow down songs through ",f.jsx("strong",{children:"playlists"})," on the right in Song Selection"]}),f.jsxs(f.Fragment,{children:["Select ",f.jsx("strong",{children:"Pass The Mic"})," Game Mode to share the microphones and sing in a team"]}),f.jsxs(f.Fragment,{children:["Your scores and ",f.jsx("strong",{children:"stats are saved"})," in this browser - they will be available for the next party!"]}),f.jsxs(f.Fragment,{children:["You can remove irrelevant songs from the Song Selection in ",f.jsx("strong",{children:"Edit Songs"})," page"]}),f.jsxs(f.Fragment,{children:["If the game feels a bit jaggy with low FPS, check out ",f.jsx("strong",{children:"Settings"})," page"]}),f.jsxs(f.Fragment,{children:["Party is only getting started? Play ",f.jsx("strong",{children:"Jukebox"})," for the music and to see what songs are available"]}),f.jsxs(f.Fragment,{children:["Research shows that ",f.jsx("strong",{children:"duet songs"})," are that bit more fun than simple one-track ones"]}),f.jsxs(f.Fragment,{children:["Want to sing a ",f.jsx("strong",{children:"new song"}),"? Find UltraStar version of it and import it with",f.jsx("br",{}),f.jsx("strong",{children:"Convert Ultrastar .txt"})]}),f.jsxs(f.Fragment,{children:["The ",f.jsx("strong",{children:"white pulse"})," around selected song in Song Selection tries to match song's tempo"]}),f.jsxs(f.Fragment,{children:["Entire game (besides add/edit song) is navigable with ",f.jsx("strong",{children:"Keyboard"})]}),f.jsxs(f.Fragment,{children:["You can hide or show keyboard navigation help with ",f.jsx("kbd",{children:"H"})," key"]}),f.jsxs(f.Fragment,{children:["In Song Selection, hold ",f.jsx("kbd",{children:""})," or ",f.jsx("kbd",{children:""})," to jump to the next letter"]}),f.jsxs(f.Fragment,{children:["Add ",f.jsx("strong",{children:"vibrato"})," to the notes you sing to get additional ",f.jsx("strong",{children:"bonus points"})]}),f.jsxs(f.Fragment,{children:["You can control the game with your phone - click on the"," ",f.jsxs("strong",{children:[f.jsx(wf,{}),"QR Code Icon"]})," ","on the top right and follow the instructions"]})],Rye=({as:e="h4",...t})=>{const n=y.useRef(Ws(0,pR.length-1)),r=e;return f.jsx(r,{...t,children:pR[n.current]})};function Mye({...e}){const[t,n]=y.useState(""),r=y.useRef(null);return y.useEffect(()=>{const i=setTimeout(()=>{n(ps.getVideo())},1e3);return()=>{clearTimeout(i)}},[]),y.useEffect(()=>{try{r.current&&(r.current.playbackRate=16)}catch(i){to(i)}},[t]),f.jsx(jye,{...e,children:f.jsx(Oye,{src:t,ref:r,loop:!0,autoPlay:!0,className:"ph-no-capture"})})}const jye=C("div",{target:"e1hckw6c1"})({name:"1g34f1k",styles:"width:80rem;height:60rem"}),Oye=C("video",{target:"e1hckw6c0"})({name:"idj2s4",styles:"object-fit:cover;width:100%;height:100%"});function Vye(e){return 1-Math.pow(1-e,3)}function Lye(e){return Vye(e)}function Mp({color:e,maxScore:t,score:n}){return f.jsx(Nye,{style:{border:n===0?0:void 0,width:`${Lye(n/t)*24}%`,backgroundColor:e}})}const Nye=C("div",{target:"e6b38g50"})({name:"1vc31u",styles:`background-image:linear-gradient(
    180deg,
    rgba(0, 0, 0, 0.17) 0%,
    rgba(0, 0, 0, 0.03) 50%,
    rgba(0, 0, 0, 0.18) 51%,
    rgba(0, 0, 0, 0.18) 100%
  );transition:1s;border-radius:0.5rem;height:100%;border:solid 0.1rem black;box-sizing:border-box`});var EB={exports:{}};(function(e,t){(function(n,r){e.exports=r(y)})(typeof self<"u"?self:Jo,n=>(()=>{var r={7403:(a,l,c)=>{c.d(l,{default:()=>O});var u=c(4087),d=c.n(u);const h=function(z){return new RegExp(/<[a-z][\s\S]*>/i).test(z)},p=function(z,N){return Math.floor(Math.random()*(N-z+1))+z};var g="TYPE_CHARACTER",m="REMOVE_CHARACTER",_="REMOVE_ALL",v="REMOVE_LAST_VISIBLE_NODE",A="PAUSE_FOR",S="CALL_FUNCTION",x="ADD_HTML_TAG_ELEMENT",b="CHANGE_DELETE_SPEED",w="CHANGE_DELAY",E="CHANGE_CURSOR",T="PASTE_STRING",j="HTML_TAG";function B(z){return B=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(N){return typeof N}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N},B(z)}function D(z,N){var G=Object.keys(z);if(Object.getOwnPropertySymbols){var U=Object.getOwnPropertySymbols(z);N&&(U=U.filter(function(ne){return Object.getOwnPropertyDescriptor(z,ne).enumerable})),G.push.apply(G,U)}return G}function q(z){for(var N=1;N<arguments.length;N++){var G=arguments[N]!=null?arguments[N]:{};N%2?D(Object(G),!0).forEach(function(U){I(z,U,G[U])}):Object.getOwnPropertyDescriptors?Object.defineProperties(z,Object.getOwnPropertyDescriptors(G)):D(Object(G)).forEach(function(U){Object.defineProperty(z,U,Object.getOwnPropertyDescriptor(G,U))})}return z}function M(z){return function(N){if(Array.isArray(N))return V(N)}(z)||function(N){if(typeof Symbol<"u"&&N[Symbol.iterator]!=null||N["@@iterator"]!=null)return Array.from(N)}(z)||function(N,G){if(N){if(typeof N=="string")return V(N,G);var U=Object.prototype.toString.call(N).slice(8,-1);return U==="Object"&&N.constructor&&(U=N.constructor.name),U==="Map"||U==="Set"?Array.from(N):U==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(U)?V(N,G):void 0}}(z)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function V(z,N){(N==null||N>z.length)&&(N=z.length);for(var G=0,U=new Array(N);G<N;G++)U[G]=z[G];return U}function P(z,N){for(var G=0;G<N.length;G++){var U=N[G];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(z,$(U.key),U)}}function I(z,N,G){return(N=$(N))in z?Object.defineProperty(z,N,{value:G,enumerable:!0,configurable:!0,writable:!0}):z[N]=G,z}function $(z){var N=function(G,U){if(B(G)!=="object"||G===null)return G;var ne=G[Symbol.toPrimitive];if(ne!==void 0){var L=ne.call(G,"string");if(B(L)!=="object")return L;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(G)}(z);return B(N)==="symbol"?N:String(N)}const O=function(){function z(U,ne){var L=this;if(function(Z,oe){if(!(Z instanceof oe))throw new TypeError("Cannot call a class as a function")}(this,z),I(this,"state",{cursorAnimation:null,lastFrameTime:null,pauseUntil:null,eventQueue:[],eventLoop:null,eventLoopPaused:!1,reverseCalledEvents:[],calledEvents:[],visibleNodes:[],initialOptions:null,elements:{container:null,wrapper:document.createElement("span"),cursor:document.createElement("span")}}),I(this,"options",{strings:null,cursor:"|",delay:"natural",pauseFor:1500,deleteSpeed:"natural",loop:!1,autoStart:!1,devMode:!1,skipAddStyles:!1,wrapperClassName:"Typewriter__wrapper",cursorClassName:"Typewriter__cursor",stringSplitter:null,onCreateTextNode:null,onRemoveNode:null}),I(this,"setupWrapperElement",function(){L.state.elements.container&&(L.state.elements.wrapper.className=L.options.wrapperClassName,L.state.elements.cursor.className=L.options.cursorClassName,L.state.elements.cursor.innerHTML=L.options.cursor,L.state.elements.container.innerHTML="",L.state.elements.container.appendChild(L.state.elements.wrapper),L.state.elements.container.appendChild(L.state.elements.cursor))}),I(this,"start",function(){return L.state.eventLoopPaused=!1,L.runEventLoop(),L}),I(this,"pause",function(){return L.state.eventLoopPaused=!0,L}),I(this,"stop",function(){return L.state.eventLoop&&((0,u.cancel)(L.state.eventLoop),L.state.eventLoop=null),L}),I(this,"pauseFor",function(Z){return L.addEventToQueue(A,{ms:Z}),L}),I(this,"typeOutAllStrings",function(){return typeof L.options.strings=="string"?(L.typeString(L.options.strings).pauseFor(L.options.pauseFor),L):(L.options.strings.forEach(function(Z){L.typeString(Z).pauseFor(L.options.pauseFor).deleteAll(L.options.deleteSpeed)}),L)}),I(this,"typeString",function(Z){var oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(h(Z))return L.typeOutHTMLString(Z,oe);if(Z){var je=(L.options||{}).stringSplitter,Ae=typeof je=="function"?je(Z):Z.split("");L.typeCharacters(Ae,oe)}return L}),I(this,"pasteString",function(Z){var oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return h(Z)?L.typeOutHTMLString(Z,oe,!0):(Z&&L.addEventToQueue(T,{character:Z,node:oe}),L)}),I(this,"typeOutHTMLString",function(Z){var oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,je=arguments.length>2?arguments[2]:void 0,Ae=function(ze){var Se=document.createElement("div");return Se.innerHTML=ze,Se.childNodes}(Z);if(Ae.length>0)for(var le=0;le<Ae.length;le++){var be=Ae[le],He=be.innerHTML;be&&be.nodeType!==3?(be.innerHTML="",L.addEventToQueue(x,{node:be,parentNode:oe}),je?L.pasteString(He,be):L.typeString(He,be)):be.textContent&&(je?L.pasteString(be.textContent,oe):L.typeString(be.textContent,oe))}return L}),I(this,"deleteAll",function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"natural";return L.addEventToQueue(_,{speed:Z}),L}),I(this,"changeDeleteSpeed",function(Z){if(!Z)throw new Error("Must provide new delete speed");return L.addEventToQueue(b,{speed:Z}),L}),I(this,"changeDelay",function(Z){if(!Z)throw new Error("Must provide new delay");return L.addEventToQueue(w,{delay:Z}),L}),I(this,"changeCursor",function(Z){if(!Z)throw new Error("Must provide new cursor");return L.addEventToQueue(E,{cursor:Z}),L}),I(this,"deleteChars",function(Z){if(!Z)throw new Error("Must provide amount of characters to delete");for(var oe=0;oe<Z;oe++)L.addEventToQueue(m);return L}),I(this,"callFunction",function(Z,oe){if(!Z||typeof Z!="function")throw new Error("Callback must be a function");return L.addEventToQueue(S,{cb:Z,thisArg:oe}),L}),I(this,"typeCharacters",function(Z){var oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!Z||!Array.isArray(Z))throw new Error("Characters must be an array");return Z.forEach(function(je){L.addEventToQueue(g,{character:je,node:oe})}),L}),I(this,"removeCharacters",function(Z){if(!Z||!Array.isArray(Z))throw new Error("Characters must be an array");return Z.forEach(function(){L.addEventToQueue(m)}),L}),I(this,"addEventToQueue",function(Z,oe){var je=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return L.addEventToStateProperty(Z,oe,je,"eventQueue")}),I(this,"addReverseCalledEvent",function(Z,oe){var je=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return L.options.loop?L.addEventToStateProperty(Z,oe,je,"reverseCalledEvents"):L}),I(this,"addEventToStateProperty",function(Z,oe){var je=arguments.length>2&&arguments[2]!==void 0&&arguments[2],Ae=arguments.length>3?arguments[3]:void 0,le={eventName:Z,eventArgs:oe||{}};return L.state[Ae]=je?[le].concat(M(L.state[Ae])):[].concat(M(L.state[Ae]),[le]),L}),I(this,"runEventLoop",function(){L.state.lastFrameTime||(L.state.lastFrameTime=Date.now());var Z=Date.now(),oe=Z-L.state.lastFrameTime;if(!L.state.eventQueue.length){if(!L.options.loop)return;L.state.eventQueue=M(L.state.calledEvents),L.state.calledEvents=[],L.options=q({},L.state.initialOptions)}if(L.state.eventLoop=d()(L.runEventLoop),!L.state.eventLoopPaused){if(L.state.pauseUntil){if(Z<L.state.pauseUntil)return;L.state.pauseUntil=null}var je,Ae=M(L.state.eventQueue),le=Ae.shift();if(!(oe<=(je=le.eventName===v||le.eventName===m?L.options.deleteSpeed==="natural"?p(40,80):L.options.deleteSpeed:L.options.delay==="natural"?p(120,160):L.options.delay))){var be=le.eventName,He=le.eventArgs;switch(L.logInDevMode({currentEvent:le,state:L.state,delay:je}),be){case T:case g:var ze=He.character,Se=He.node,Ee=document.createTextNode(ze),Ke=Ee;L.options.onCreateTextNode&&typeof L.options.onCreateTextNode=="function"&&(Ke=L.options.onCreateTextNode(ze,Ee)),Ke&&(Se?Se.appendChild(Ke):L.state.elements.wrapper.appendChild(Ke)),L.state.visibleNodes=[].concat(M(L.state.visibleNodes),[{type:"TEXT_NODE",character:ze,node:Ke}]);break;case m:Ae.unshift({eventName:v,eventArgs:{removingCharacterNode:!0}});break;case A:var Ye=le.eventArgs.ms;L.state.pauseUntil=Date.now()+parseInt(Ye);break;case S:var Re=le.eventArgs,at=Re.cb,Tt=Re.thisArg;at.call(Tt,{elements:L.state.elements});break;case x:var en=le.eventArgs,Mt=en.node,mn=en.parentNode;mn?mn.appendChild(Mt):L.state.elements.wrapper.appendChild(Mt),L.state.visibleNodes=[].concat(M(L.state.visibleNodes),[{type:j,node:Mt,parentNode:mn||L.state.elements.wrapper}]);break;case _:var ct=L.state.visibleNodes,_t=He.speed,Wt=[];_t&&Wt.push({eventName:b,eventArgs:{speed:_t,temp:!0}});for(var Je=0,jt=ct.length;Je<jt;Je++)Wt.push({eventName:v,eventArgs:{removingCharacterNode:!1}});_t&&Wt.push({eventName:b,eventArgs:{speed:L.options.deleteSpeed,temp:!0}}),Ae.unshift.apply(Ae,Wt);break;case v:var ve=le.eventArgs.removingCharacterNode;if(L.state.visibleNodes.length){var nt=L.state.visibleNodes.pop(),vn=nt.type,dt=nt.node,rt=nt.character;L.options.onRemoveNode&&typeof L.options.onRemoveNode=="function"&&L.options.onRemoveNode({node:dt,character:rt}),dt&&dt.parentNode.removeChild(dt),vn===j&&ve&&Ae.unshift({eventName:v,eventArgs:{}})}break;case b:L.options.deleteSpeed=le.eventArgs.speed;break;case w:L.options.delay=le.eventArgs.delay;break;case E:L.options.cursor=le.eventArgs.cursor,L.state.elements.cursor.innerHTML=le.eventArgs.cursor}L.options.loop&&(le.eventName===v||le.eventArgs&&le.eventArgs.temp||(L.state.calledEvents=[].concat(M(L.state.calledEvents),[le]))),L.state.eventQueue=Ae,L.state.lastFrameTime=Z}}}),U)if(typeof U=="string"){var fe=document.querySelector(U);if(!fe)throw new Error("Could not find container element");this.state.elements.container=fe}else this.state.elements.container=U;ne&&(this.options=q(q({},this.options),ne)),this.state.initialOptions=q({},this.options),this.init()}var N,G;return N=z,(G=[{key:"init",value:function(){var U,ne;this.setupWrapperElement(),this.addEventToQueue(E,{cursor:this.options.cursor},!0),this.addEventToQueue(_,null,!0),!window||window.___TYPEWRITER_JS_STYLES_ADDED___||this.options.skipAddStyles||(U=".Typewriter__cursor{-webkit-animation:Typewriter-cursor 1s infinite;animation:Typewriter-cursor 1s infinite;margin-left:1px}@-webkit-keyframes Typewriter-cursor{0%{opacity:0}50%{opacity:1}100%{opacity:0}}@keyframes Typewriter-cursor{0%{opacity:0}50%{opacity:1}100%{opacity:0}}",(ne=document.createElement("style")).appendChild(document.createTextNode(U)),document.head.appendChild(ne),window.___TYPEWRITER_JS_STYLES_ADDED___=!0),this.options.autoStart===!0&&this.options.strings&&this.typeOutAllStrings().start()}},{key:"logInDevMode",value:function(U){this.options.devMode&&console.log(U)}}])&&P(N.prototype,G),Object.defineProperty(N,"prototype",{writable:!1}),z}()},8552:(a,l,c)=>{var u=c(852)(c(5639),"DataView");a.exports=u},1989:(a,l,c)=>{var u=c(1789),d=c(401),h=c(7667),p=c(1327),g=c(1866);function m(_){var v=-1,A=_==null?0:_.length;for(this.clear();++v<A;){var S=_[v];this.set(S[0],S[1])}}m.prototype.clear=u,m.prototype.delete=d,m.prototype.get=h,m.prototype.has=p,m.prototype.set=g,a.exports=m},8407:(a,l,c)=>{var u=c(7040),d=c(4125),h=c(2117),p=c(7518),g=c(4705);function m(_){var v=-1,A=_==null?0:_.length;for(this.clear();++v<A;){var S=_[v];this.set(S[0],S[1])}}m.prototype.clear=u,m.prototype.delete=d,m.prototype.get=h,m.prototype.has=p,m.prototype.set=g,a.exports=m},7071:(a,l,c)=>{var u=c(852)(c(5639),"Map");a.exports=u},3369:(a,l,c)=>{var u=c(4785),d=c(1285),h=c(6e3),p=c(9916),g=c(5265);function m(_){var v=-1,A=_==null?0:_.length;for(this.clear();++v<A;){var S=_[v];this.set(S[0],S[1])}}m.prototype.clear=u,m.prototype.delete=d,m.prototype.get=h,m.prototype.has=p,m.prototype.set=g,a.exports=m},3818:(a,l,c)=>{var u=c(852)(c(5639),"Promise");a.exports=u},8525:(a,l,c)=>{var u=c(852)(c(5639),"Set");a.exports=u},8668:(a,l,c)=>{var u=c(3369),d=c(619),h=c(2385);function p(g){var m=-1,_=g==null?0:g.length;for(this.__data__=new u;++m<_;)this.add(g[m])}p.prototype.add=p.prototype.push=d,p.prototype.has=h,a.exports=p},6384:(a,l,c)=>{var u=c(8407),d=c(7465),h=c(3779),p=c(7599),g=c(4758),m=c(4309);function _(v){var A=this.__data__=new u(v);this.size=A.size}_.prototype.clear=d,_.prototype.delete=h,_.prototype.get=p,_.prototype.has=g,_.prototype.set=m,a.exports=_},2705:(a,l,c)=>{var u=c(5639).Symbol;a.exports=u},1149:(a,l,c)=>{var u=c(5639).Uint8Array;a.exports=u},577:(a,l,c)=>{var u=c(852)(c(5639),"WeakMap");a.exports=u},4963:a=>{a.exports=function(l,c){for(var u=-1,d=l==null?0:l.length,h=0,p=[];++u<d;){var g=l[u];c(g,u,l)&&(p[h++]=g)}return p}},4636:(a,l,c)=>{var u=c(2545),d=c(5694),h=c(1469),p=c(4144),g=c(5776),m=c(6719),_=Object.prototype.hasOwnProperty;a.exports=function(v,A){var S=h(v),x=!S&&d(v),b=!S&&!x&&p(v),w=!S&&!x&&!b&&m(v),E=S||x||b||w,T=E?u(v.length,String):[],j=T.length;for(var B in v)!A&&!_.call(v,B)||E&&(B=="length"||b&&(B=="offset"||B=="parent")||w&&(B=="buffer"||B=="byteLength"||B=="byteOffset")||g(B,j))||T.push(B);return T}},2488:a=>{a.exports=function(l,c){for(var u=-1,d=c.length,h=l.length;++u<d;)l[h+u]=c[u];return l}},2908:a=>{a.exports=function(l,c){for(var u=-1,d=l==null?0:l.length;++u<d;)if(c(l[u],u,l))return!0;return!1}},8470:(a,l,c)=>{var u=c(7813);a.exports=function(d,h){for(var p=d.length;p--;)if(u(d[p][0],h))return p;return-1}},8866:(a,l,c)=>{var u=c(2488),d=c(1469);a.exports=function(h,p,g){var m=p(h);return d(h)?m:u(m,g(h))}},4239:(a,l,c)=>{var u=c(2705),d=c(9607),h=c(2333),p=u?u.toStringTag:void 0;a.exports=function(g){return g==null?g===void 0?"[object Undefined]":"[object Null]":p&&p in Object(g)?d(g):h(g)}},9454:(a,l,c)=>{var u=c(4239),d=c(7005);a.exports=function(h){return d(h)&&u(h)=="[object Arguments]"}},939:(a,l,c)=>{var u=c(2492),d=c(7005);a.exports=function h(p,g,m,_,v){return p===g||(p==null||g==null||!d(p)&&!d(g)?p!=p&&g!=g:u(p,g,m,_,h,v))}},2492:(a,l,c)=>{var u=c(6384),d=c(7114),h=c(8351),p=c(6096),g=c(4160),m=c(1469),_=c(4144),v=c(6719),A="[object Arguments]",S="[object Array]",x="[object Object]",b=Object.prototype.hasOwnProperty;a.exports=function(w,E,T,j,B,D){var q=m(w),M=m(E),V=q?S:g(w),P=M?S:g(E),I=(V=V==A?x:V)==x,$=(P=P==A?x:P)==x,O=V==P;if(O&&_(w)){if(!_(E))return!1;q=!0,I=!1}if(O&&!I)return D||(D=new u),q||v(w)?d(w,E,T,j,B,D):h(w,E,V,T,j,B,D);if(!(1&T)){var z=I&&b.call(w,"__wrapped__"),N=$&&b.call(E,"__wrapped__");if(z||N){var G=z?w.value():w,U=N?E.value():E;return D||(D=new u),B(G,U,T,j,D)}}return!!O&&(D||(D=new u),p(w,E,T,j,B,D))}},8458:(a,l,c)=>{var u=c(3560),d=c(5346),h=c(3218),p=c(346),g=/^\[object .+?Constructor\]$/,m=Function.prototype,_=Object.prototype,v=m.toString,A=_.hasOwnProperty,S=RegExp("^"+v.call(A).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");a.exports=function(x){return!(!h(x)||d(x))&&(u(x)?S:g).test(p(x))}},8749:(a,l,c)=>{var u=c(4239),d=c(1780),h=c(7005),p={};p["[object Float32Array]"]=p["[object Float64Array]"]=p["[object Int8Array]"]=p["[object Int16Array]"]=p["[object Int32Array]"]=p["[object Uint8Array]"]=p["[object Uint8ClampedArray]"]=p["[object Uint16Array]"]=p["[object Uint32Array]"]=!0,p["[object Arguments]"]=p["[object Array]"]=p["[object ArrayBuffer]"]=p["[object Boolean]"]=p["[object DataView]"]=p["[object Date]"]=p["[object Error]"]=p["[object Function]"]=p["[object Map]"]=p["[object Number]"]=p["[object Object]"]=p["[object RegExp]"]=p["[object Set]"]=p["[object String]"]=p["[object WeakMap]"]=!1,a.exports=function(g){return h(g)&&d(g.length)&&!!p[u(g)]}},280:(a,l,c)=>{var u=c(5726),d=c(6916),h=Object.prototype.hasOwnProperty;a.exports=function(p){if(!u(p))return d(p);var g=[];for(var m in Object(p))h.call(p,m)&&m!="constructor"&&g.push(m);return g}},2545:a=>{a.exports=function(l,c){for(var u=-1,d=Array(l);++u<l;)d[u]=c(u);return d}},1717:a=>{a.exports=function(l){return function(c){return l(c)}}},4757:a=>{a.exports=function(l,c){return l.has(c)}},4429:(a,l,c)=>{var u=c(5639)["__core-js_shared__"];a.exports=u},7114:(a,l,c)=>{var u=c(8668),d=c(2908),h=c(4757);a.exports=function(p,g,m,_,v,A){var S=1&m,x=p.length,b=g.length;if(x!=b&&!(S&&b>x))return!1;var w=A.get(p),E=A.get(g);if(w&&E)return w==g&&E==p;var T=-1,j=!0,B=2&m?new u:void 0;for(A.set(p,g),A.set(g,p);++T<x;){var D=p[T],q=g[T];if(_)var M=S?_(q,D,T,g,p,A):_(D,q,T,p,g,A);if(M!==void 0){if(M)continue;j=!1;break}if(B){if(!d(g,function(V,P){if(!h(B,P)&&(D===V||v(D,V,m,_,A)))return B.push(P)})){j=!1;break}}else if(D!==q&&!v(D,q,m,_,A)){j=!1;break}}return A.delete(p),A.delete(g),j}},8351:(a,l,c)=>{var u=c(2705),d=c(1149),h=c(7813),p=c(7114),g=c(8776),m=c(1814),_=u?u.prototype:void 0,v=_?_.valueOf:void 0;a.exports=function(A,S,x,b,w,E,T){switch(x){case"[object DataView]":if(A.byteLength!=S.byteLength||A.byteOffset!=S.byteOffset)return!1;A=A.buffer,S=S.buffer;case"[object ArrayBuffer]":return!(A.byteLength!=S.byteLength||!E(new d(A),new d(S)));case"[object Boolean]":case"[object Date]":case"[object Number]":return h(+A,+S);case"[object Error]":return A.name==S.name&&A.message==S.message;case"[object RegExp]":case"[object String]":return A==S+"";case"[object Map]":var j=g;case"[object Set]":var B=1&b;if(j||(j=m),A.size!=S.size&&!B)return!1;var D=T.get(A);if(D)return D==S;b|=2,T.set(A,S);var q=p(j(A),j(S),b,w,E,T);return T.delete(A),q;case"[object Symbol]":if(v)return v.call(A)==v.call(S)}return!1}},6096:(a,l,c)=>{var u=c(8234),d=Object.prototype.hasOwnProperty;a.exports=function(h,p,g,m,_,v){var A=1&g,S=u(h),x=S.length;if(x!=u(p).length&&!A)return!1;for(var b=x;b--;){var w=S[b];if(!(A?w in p:d.call(p,w)))return!1}var E=v.get(h),T=v.get(p);if(E&&T)return E==p&&T==h;var j=!0;v.set(h,p),v.set(p,h);for(var B=A;++b<x;){var D=h[w=S[b]],q=p[w];if(m)var M=A?m(q,D,w,p,h,v):m(D,q,w,h,p,v);if(!(M===void 0?D===q||_(D,q,g,m,v):M)){j=!1;break}B||(B=w=="constructor")}if(j&&!B){var V=h.constructor,P=p.constructor;V==P||!("constructor"in h)||!("constructor"in p)||typeof V=="function"&&V instanceof V&&typeof P=="function"&&P instanceof P||(j=!1)}return v.delete(h),v.delete(p),j}},1957:(a,l,c)=>{var u=typeof c.g=="object"&&c.g&&c.g.Object===Object&&c.g;a.exports=u},8234:(a,l,c)=>{var u=c(8866),d=c(9551),h=c(3674);a.exports=function(p){return u(p,h,d)}},5050:(a,l,c)=>{var u=c(7019);a.exports=function(d,h){var p=d.__data__;return u(h)?p[typeof h=="string"?"string":"hash"]:p.map}},852:(a,l,c)=>{var u=c(8458),d=c(7801);a.exports=function(h,p){var g=d(h,p);return u(g)?g:void 0}},9607:(a,l,c)=>{var u=c(2705),d=Object.prototype,h=d.hasOwnProperty,p=d.toString,g=u?u.toStringTag:void 0;a.exports=function(m){var _=h.call(m,g),v=m[g];try{m[g]=void 0;var A=!0}catch{}var S=p.call(m);return A&&(_?m[g]=v:delete m[g]),S}},9551:(a,l,c)=>{var u=c(4963),d=c(479),h=Object.prototype.propertyIsEnumerable,p=Object.getOwnPropertySymbols,g=p?function(m){return m==null?[]:(m=Object(m),u(p(m),function(_){return h.call(m,_)}))}:d;a.exports=g},4160:(a,l,c)=>{var u=c(8552),d=c(7071),h=c(3818),p=c(8525),g=c(577),m=c(4239),_=c(346),v="[object Map]",A="[object Promise]",S="[object Set]",x="[object WeakMap]",b="[object DataView]",w=_(u),E=_(d),T=_(h),j=_(p),B=_(g),D=m;(u&&D(new u(new ArrayBuffer(1)))!=b||d&&D(new d)!=v||h&&D(h.resolve())!=A||p&&D(new p)!=S||g&&D(new g)!=x)&&(D=function(q){var M=m(q),V=M=="[object Object]"?q.constructor:void 0,P=V?_(V):"";if(P)switch(P){case w:return b;case E:return v;case T:return A;case j:return S;case B:return x}return M}),a.exports=D},7801:a=>{a.exports=function(l,c){return l==null?void 0:l[c]}},1789:(a,l,c)=>{var u=c(4536);a.exports=function(){this.__data__=u?u(null):{},this.size=0}},401:a=>{a.exports=function(l){var c=this.has(l)&&delete this.__data__[l];return this.size-=c?1:0,c}},7667:(a,l,c)=>{var u=c(4536),d=Object.prototype.hasOwnProperty;a.exports=function(h){var p=this.__data__;if(u){var g=p[h];return g==="__lodash_hash_undefined__"?void 0:g}return d.call(p,h)?p[h]:void 0}},1327:(a,l,c)=>{var u=c(4536),d=Object.prototype.hasOwnProperty;a.exports=function(h){var p=this.__data__;return u?p[h]!==void 0:d.call(p,h)}},1866:(a,l,c)=>{var u=c(4536);a.exports=function(d,h){var p=this.__data__;return this.size+=this.has(d)?0:1,p[d]=u&&h===void 0?"__lodash_hash_undefined__":h,this}},5776:a=>{var l=/^(?:0|[1-9]\d*)$/;a.exports=function(c,u){var d=typeof c;return!!(u=u??9007199254740991)&&(d=="number"||d!="symbol"&&l.test(c))&&c>-1&&c%1==0&&c<u}},7019:a=>{a.exports=function(l){var c=typeof l;return c=="string"||c=="number"||c=="symbol"||c=="boolean"?l!=="__proto__":l===null}},5346:(a,l,c)=>{var u,d=c(4429),h=(u=/[^.]+$/.exec(d&&d.keys&&d.keys.IE_PROTO||""))?"Symbol(src)_1."+u:"";a.exports=function(p){return!!h&&h in p}},5726:a=>{var l=Object.prototype;a.exports=function(c){var u=c&&c.constructor;return c===(typeof u=="function"&&u.prototype||l)}},7040:a=>{a.exports=function(){this.__data__=[],this.size=0}},4125:(a,l,c)=>{var u=c(8470),d=Array.prototype.splice;a.exports=function(h){var p=this.__data__,g=u(p,h);return!(g<0||(g==p.length-1?p.pop():d.call(p,g,1),--this.size,0))}},2117:(a,l,c)=>{var u=c(8470);a.exports=function(d){var h=this.__data__,p=u(h,d);return p<0?void 0:h[p][1]}},7518:(a,l,c)=>{var u=c(8470);a.exports=function(d){return u(this.__data__,d)>-1}},4705:(a,l,c)=>{var u=c(8470);a.exports=function(d,h){var p=this.__data__,g=u(p,d);return g<0?(++this.size,p.push([d,h])):p[g][1]=h,this}},4785:(a,l,c)=>{var u=c(1989),d=c(8407),h=c(7071);a.exports=function(){this.size=0,this.__data__={hash:new u,map:new(h||d),string:new u}}},1285:(a,l,c)=>{var u=c(5050);a.exports=function(d){var h=u(this,d).delete(d);return this.size-=h?1:0,h}},6e3:(a,l,c)=>{var u=c(5050);a.exports=function(d){return u(this,d).get(d)}},9916:(a,l,c)=>{var u=c(5050);a.exports=function(d){return u(this,d).has(d)}},5265:(a,l,c)=>{var u=c(5050);a.exports=function(d,h){var p=u(this,d),g=p.size;return p.set(d,h),this.size+=p.size==g?0:1,this}},8776:a=>{a.exports=function(l){var c=-1,u=Array(l.size);return l.forEach(function(d,h){u[++c]=[h,d]}),u}},4536:(a,l,c)=>{var u=c(852)(Object,"create");a.exports=u},6916:(a,l,c)=>{var u=c(5569)(Object.keys,Object);a.exports=u},1167:(a,l,c)=>{a=c.nmd(a);var u=c(1957),d=l&&!l.nodeType&&l,h=d&&a&&!a.nodeType&&a,p=h&&h.exports===d&&u.process,g=function(){try{return h&&h.require&&h.require("util").types||p&&p.binding&&p.binding("util")}catch{}}();a.exports=g},2333:a=>{var l=Object.prototype.toString;a.exports=function(c){return l.call(c)}},5569:a=>{a.exports=function(l,c){return function(u){return l(c(u))}}},5639:(a,l,c)=>{var u=c(1957),d=typeof self=="object"&&self&&self.Object===Object&&self,h=u||d||Function("return this")();a.exports=h},619:a=>{a.exports=function(l){return this.__data__.set(l,"__lodash_hash_undefined__"),this}},2385:a=>{a.exports=function(l){return this.__data__.has(l)}},1814:a=>{a.exports=function(l){var c=-1,u=Array(l.size);return l.forEach(function(d){u[++c]=d}),u}},7465:(a,l,c)=>{var u=c(8407);a.exports=function(){this.__data__=new u,this.size=0}},3779:a=>{a.exports=function(l){var c=this.__data__,u=c.delete(l);return this.size=c.size,u}},7599:a=>{a.exports=function(l){return this.__data__.get(l)}},4758:a=>{a.exports=function(l){return this.__data__.has(l)}},4309:(a,l,c)=>{var u=c(8407),d=c(7071),h=c(3369);a.exports=function(p,g){var m=this.__data__;if(m instanceof u){var _=m.__data__;if(!d||_.length<199)return _.push([p,g]),this.size=++m.size,this;m=this.__data__=new h(_)}return m.set(p,g),this.size=m.size,this}},346:a=>{var l=Function.prototype.toString;a.exports=function(c){if(c!=null){try{return l.call(c)}catch{}try{return c+""}catch{}}return""}},7813:a=>{a.exports=function(l,c){return l===c||l!=l&&c!=c}},5694:(a,l,c)=>{var u=c(9454),d=c(7005),h=Object.prototype,p=h.hasOwnProperty,g=h.propertyIsEnumerable,m=u(function(){return arguments}())?u:function(_){return d(_)&&p.call(_,"callee")&&!g.call(_,"callee")};a.exports=m},1469:a=>{var l=Array.isArray;a.exports=l},8612:(a,l,c)=>{var u=c(3560),d=c(1780);a.exports=function(h){return h!=null&&d(h.length)&&!u(h)}},4144:(a,l,c)=>{a=c.nmd(a);var u=c(5639),d=c(5062),h=l&&!l.nodeType&&l,p=h&&a&&!a.nodeType&&a,g=p&&p.exports===h?u.Buffer:void 0,m=(g?g.isBuffer:void 0)||d;a.exports=m},8446:(a,l,c)=>{var u=c(939);a.exports=function(d,h){return u(d,h)}},3560:(a,l,c)=>{var u=c(4239),d=c(3218);a.exports=function(h){if(!d(h))return!1;var p=u(h);return p=="[object Function]"||p=="[object GeneratorFunction]"||p=="[object AsyncFunction]"||p=="[object Proxy]"}},1780:a=>{a.exports=function(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=9007199254740991}},3218:a=>{a.exports=function(l){var c=typeof l;return l!=null&&(c=="object"||c=="function")}},7005:a=>{a.exports=function(l){return l!=null&&typeof l=="object"}},6719:(a,l,c)=>{var u=c(8749),d=c(1717),h=c(1167),p=h&&h.isTypedArray,g=p?d(p):u;a.exports=g},3674:(a,l,c)=>{var u=c(4636),d=c(280),h=c(8612);a.exports=function(p){return h(p)?u(p):d(p)}},479:a=>{a.exports=function(){return[]}},5062:a=>{a.exports=function(){return!1}},75:function(a){(function(){var l,c,u,d,h,p;typeof performance<"u"&&performance!==null&&performance.now?a.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(a.exports=function(){return(l()-h)/1e6},c=process.hrtime,d=(l=function(){var g;return 1e9*(g=c())[0]+g[1]})(),p=1e9*process.uptime(),h=d-p):Date.now?(a.exports=function(){return Date.now()-u},u=Date.now()):(a.exports=function(){return new Date().getTime()-u},u=new Date().getTime())}).call(this)},4087:(a,l,c)=>{for(var u=c(75),d=typeof window>"u"?c.g:window,h=["moz","webkit"],p="AnimationFrame",g=d["request"+p],m=d["cancel"+p]||d["cancelRequest"+p],_=0;!g&&_<h.length;_++)g=d[h[_]+"Request"+p],m=d[h[_]+"Cancel"+p]||d[h[_]+"CancelRequest"+p];if(!g||!m){var v=0,A=0,S=[];g=function(x){if(S.length===0){var b=u(),w=Math.max(0,16.666666666666668-(b-v));v=w+b,setTimeout(function(){var E=S.slice(0);S.length=0;for(var T=0;T<E.length;T++)if(!E[T].cancelled)try{E[T].callback(v)}catch(j){setTimeout(function(){throw j},0)}},Math.round(w))}return S.push({handle:++A,callback:x,cancelled:!1}),A},m=function(x){for(var b=0;b<S.length;b++)S[b].handle===x&&(S[b].cancelled=!0)}}a.exports=function(x){return g.call(d,x)},a.exports.cancel=function(){m.apply(d,arguments)},a.exports.polyfill=function(x){x||(x=d),x.requestAnimationFrame=g,x.cancelAnimationFrame=m}},8156:a=>{a.exports=n}},i={};function s(a){var l=i[a];if(l!==void 0)return l.exports;var c=i[a]={id:a,loaded:!1,exports:{}};return r[a].call(c.exports,c,c.exports,s),c.loaded=!0,c.exports}s.n=a=>{var l=a&&a.__esModule?()=>a.default:()=>a;return s.d(l,{a:l}),l},s.d=(a,l)=>{for(var c in l)s.o(l,c)&&!s.o(a,c)&&Object.defineProperty(a,c,{enumerable:!0,get:l[c]})},s.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),s.o=(a,l)=>Object.prototype.hasOwnProperty.call(a,l),s.nmd=a=>(a.paths=[],a.children||(a.children=[]),a);var o={};return(()=>{s.d(o,{default:()=>S});var a=s(8156),l=s.n(a),c=s(7403),u=s(8446),d=s.n(u);function h(x){return h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},h(x)}function p(x,b){for(var w=0;w<b.length;w++){var E=b[w];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(x,v(E.key),E)}}function g(x,b){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(w,E){return w.__proto__=E,w},g(x,b)}function m(x){if(x===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x}function _(x){return _=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(b){return b.__proto__||Object.getPrototypeOf(b)},_(x)}function v(x){var b=function(w,E){if(h(w)!=="object"||w===null)return w;var T=w[Symbol.toPrimitive];if(T!==void 0){var j=T.call(w,"string");if(h(j)!=="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(w)}(x);return h(b)==="symbol"?b:String(b)}var A=function(x){(function(D,q){if(typeof q!="function"&&q!==null)throw new TypeError("Super expression must either be null or a function");D.prototype=Object.create(q&&q.prototype,{constructor:{value:D,writable:!0,configurable:!0}}),Object.defineProperty(D,"prototype",{writable:!1}),q&&g(D,q)})(B,x);var b,w,E,T,j=(E=B,T=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var D,q=_(E);if(T){var M=_(this).constructor;D=Reflect.construct(q,arguments,M)}else D=q.apply(this,arguments);return function(V,P){if(P&&(h(P)==="object"||typeof P=="function"))return P;if(P!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return m(V)}(this,D)});function B(){var D,q,M,V;(function(O,z){if(!(O instanceof z))throw new TypeError("Cannot call a class as a function")})(this,B);for(var P=arguments.length,I=new Array(P),$=0;$<P;$++)I[$]=arguments[$];return q=m(D=j.call.apply(j,[this].concat(I))),V={instance:null},(M=v(M="state"))in q?Object.defineProperty(q,M,{value:V,enumerable:!0,configurable:!0,writable:!0}):q[M]=V,D}return b=B,(w=[{key:"componentDidMount",value:function(){var D=this,q=new c.default(this.typewriter,this.props.options);this.setState({instance:q},function(){var M=D.props.onInit;M&&M(q)})}},{key:"componentDidUpdate",value:function(D){d()(this.props.options,D.options)||this.setState({instance:new c.default(this.typewriter,this.props.options)})}},{key:"componentWillUnmount",value:function(){this.state.instance&&this.state.instance.stop()}},{key:"render",value:function(){var D=this,q=this.props.component;return l().createElement(q,{ref:function(M){return D.typewriter=M},className:"Typewriter","data-testid":"typewriter-wrapper"})}}])&&p(b.prototype,w),Object.defineProperty(b,"prototype",{writable:!1}),B}(a.Component);A.defaultProps={component:"div"};const S=A})(),o.default})())})(EB);var Bye=EB.exports;const kB=hr(Bye);function Dye({playerNumber:e,player:t,segment:n}){const[r,i]=t.detailedScore;return f.jsxs($ye,{children:[f.jsx(Mp,{score:n>-1?r.rap+r.freestyle+r.normal:0,maxScore:i.rap+i.freestyle+i.normal,color:de.colors.players[e].perfect.fill}),f.jsx(Mp,{score:n>0?r.perfect:0,maxScore:i.perfect,color:de.colors.players[e].stroke}),f.jsx(Mp,{score:n>1?r.star:0,maxScore:i.star,color:de.colors.players[e].starPerfect.stroke}),f.jsx(Mp,{score:n>2?r.vibrato:0,maxScore:i.vibrato,color:de.colors.players[e].perfect.stroke}),f.jsx(Fye,{children:n<5&&f.jsx(kB,{options:{strings:["Regular notes","Perfect notes","Star notes","Vibrato"],pauseFor:1e3,autoStart:!0,delay:15,deleteSpeed:15,cursor:""}})})]})}const $ye=C("div",{target:"ejw0p7o1"})({name:"rtb9pf",styles:"position:relative;height:5rem;width:100%;display:flex;flex-direction:row;border-radius:1rem;gap:0.5rem;box-sizing:border-box;background:rgba(0, 0, 0, 0.5);padding:0.5rem"}),Fye=C("span",{target:"ejw0p7o0"})("position:absolute;",$e,";font-size:3rem;text-align:right;white-space:nowrap;top:6rem;left:1rem;display:block;");function zye({playerNumber:e,player:t,highestScore:n,highScores:r,singSetup:i,useColors:s=!0,revealHighScore:o,segment:a}){const[l]=t.detailedScore;let c=0;a>-1&&(c=l.normal+l.rap+l.freestyle),a>0&&(c=c+l.perfect),a>1&&(c=c+l.star),a>2&&(c=c+l.vibrato);const u=d=>r.some(h=>h.singSetupId===i.id&&h.name===d);return f.jsxs(Uye,{children:[f.jsx(qye,{children:f.jsxs(Gye,{"data-win":o&&c===n,"data-test":`player-${e}-score`,"data-score":Math.floor(c),children:[f.jsx(Hye,{color:s?de.colors.players[e].text:"","data-test":`player-${e}-name`,className:"ph-no-capture",children:t.name}),f.jsx(qw,{preserveValue:!0,end:c,formattingFn:oB.format,duration:a<5?1:.5})]})}),f.jsx(Dye,{playerNumber:e,player:t,segment:a}),f.jsx(Wye,{"data-highscore":o&&u(t.name),children:"High score!"})]})}const Uye=C("div",{target:"e1vy0af44"})({name:"1kta8sk",styles:"background:rgba(0, 0, 0, 0.5);display:flex;flex-direction:column;align-items:center;border-radius:1rem;gap:1rem;padding:1rem 2rem;position:relative"}),Hye=C("span",{target:"e1vy0af43"})("color:",e=>e.color,";font-size:4rem;"),Gye=C(_v,{target:"e1vy0af42"})("background:transparent;font-size:5.5rem;color:white;transition:400ms ease-in-out;position:relative;display:flex;align-items:center;justify-content:space-between;flex:1;margin:0;padding:0;&[data-win='true']{font-size:8.5rem;color:",de.colors.text.active,";}"),qye=C("div",{target:"e1vy0af41"})({name:"8pc2uz",styles:"display:flex;flex:1;width:100%;height:8.5rem"}),Wye=C(CN,{target:"e1vy0af40"})("font-size:3rem;opacity:0;&[data-highscore='true']{top:-2.5rem;right:-9rem;",cv,";opacity:1;}transition:400ms;");function Kye({onNextStep:e,players:t,highScores:n,singSetup:r}){const[i,s]=y.useState(-1);y.useEffect(()=>{if(i<0)s(0);else if(i<4){const p=setInterval(()=>{s(g=>g+1)},1500);return()=>{clearInterval(p)}}},[i]);const o=i>3,a=()=>{o?e():(Vn.capture("animation_skipped"),s(5))};Dl({accept:a},!0,[i]);const l=y.useMemo(()=>({accept:"Next"}),[]);Nu(l,!0);const c=r.mode===jr.CO_OP,u=c?[{...t[0],name:t.map(p=>p.name).join(", ")}]:t,d=u.map(p=>gS(p.detailedScore[0])),h=Math.max(...d);return f.jsxs(Yye,{children:[f.jsx(Qye,{children:u.map((p,g)=>f.jsx(zye,{playerNumber:p.playerNumber,useColors:!c,revealHighScore:i>3,segment:i,player:p,highScores:n,highestScore:h,singSetup:r},g))}),f.jsx(Jye,{onClick:a,focused:!0,"data-test":o?"highscores-button":"skip-animation-button",children:o?"Next":"Skip"}),ps.getPermissionStatus()&&f.jsx(Xye,{})]})}const Yye=C("div",{target:"e1qmbv7g3"})({name:"1vzp6wx",styles:"position:absolute;padding:20rem 15rem 10rem 15rem;top:0;height:100%;box-sizing:border-box;width:100%;display:flex;flex-direction:column"}),Qye=C("div",{target:"e1qmbv7g2"})({name:"1lbl88b",styles:"text-align:center;display:flex;flex-direction:column;justify-content:center;gap:5rem;margin-bottom:15rem;flex:1"}),Jye=C(Rs,{target:"e1qmbv7g1"})({name:"195iwp6",styles:"width:40rem;font-size:1.9vw;margin-left:auto"}),Xye=C(Mye,{target:"e1qmbv7g0"})({name:"1c3jvq",styles:"position:absolute;top:calc(50% - 30rem);left:95rem;transform:scale(0.75)"});function Zye(){return y.useMemo(()=>JSON.parse(Oe.session.getItem(eu))??[],[])}function eAe({score:e,register:t,singSetupId:n,onSave:r,index:i}){const s=y.useRef(null),[o,a]=y.useState(""),l=Zye(),c=()=>{o.trim().length&&o.trim()!==e.name&&r(n,e.score,e.name,o)};return f.jsx(eB,{className:"ph-no-capture",options:l,onChange:a,onBlur:c,value:o,label:"",ref:s,...t(`highscore-rename-${i}`,()=>{var u;return(u=s.current)==null?void 0:u.focus()}),placeholder:e.name,"data-test":"input-edit-highscore","data-original-name":e.name})}function tAe({onNextStep:e,highScores:t,singSetup:n,song:r}){const{register:i}=zn(),s=$ge(r);return f.jsxs(f.Fragment,{children:[f.jsx(nAe,{"data-test":"highscores-container",children:t.map((o,a)=>f.jsxs(rAe,{isCurrentSing:o.singSetupId===n.id,children:[f.jsx(iAe,{children:a+1}),f.jsx(sAe,{className:"ph-no-capture",children:o.singSetupId===n.id?f.jsx(eAe,{index:a,score:o,register:i,singSetupId:n.id,onSave:s}):o.name}),f.jsx(oAe,{children:f.jsx(gb,{score:o.score})}),f.jsx(aAe,{children:ms(o.date).format("MMMM DD, YYYY")})]},a))}),f.jsx(lAe,{...i("play-next-song-button",e,void 0,!0),children:"Select song"})]})}const nAe=C("div",{target:"e1kq1u2t6"})({name:"9gtmjg",styles:"position:absolute;top:20rem;width:100%;text-align:center;padding:0 16rem;box-sizing:border-box"}),rAe=C("div",{target:"e1kq1u2t5"})("position:relative;",$e,";font-size:3.2rem;display:flex;background:",e=>e.isCurrentSing?"rgba(0,0,0,.9)":"rgba(0,0,0,.5)",";margin-bottom:2rem;padding:",e=>e.isCurrentSing?"0 1.5rem":"1rem 3.2rem",";align-items:center;"),iAe=C("div",{target:"e1kq1u2t4"})("padding:0 1.6rem;color:",de.colors.text.active,";"),sAe=C("div",{target:"e1kq1u2t3"})({name:"1mbe2e5",styles:"text-align:left;flex:1;padding:1.6rem"}),oAe=C("div",{target:"e1kq1u2t2"})({name:"2ycp6t",styles:"padding:0 1rem"}),aAe=C("div",{target:"e1kq1u2t1"})({name:"1gbnj87",styles:"position:absolute;font-size:2rem;bottom:-1rem;right:-1.6rem;background:black;padding:0.5rem"}),lAe=C(Rs,{target:"e1kq1u2t0"})({name:"dmbiod",styles:"position:absolute;bottom:4rem;right:2rem;width:40rem;font-size:1.9vw"});function cAe({song:e,width:t,height:n,onClickSongSelection:r,players:i,highScores:s,singSetup:o}){const[a]=Fe(Fm);Ra(!0);const[l,c]=y.useState("results");return f.jsxs(xN,{songData:e,width:t,height:n,children:[f.jsxs(uAe,{children:[l==="results"&&f.jsx(Kye,{onNextStep:()=>c("highscores"),players:i,singSetup:o,highScores:s}),l==="highscores"&&f.jsx(tAe,{onNextStep:r,singSetup:o,highScores:s,song:e}),f.jsx(dAe,{"data-active":"true"})]}),a==="christmas"&&f.jsxs(fAe,{children:["Credit to ",f.jsx("a",{href:"https://www.FesliyanStudios.com",children:"https://www.FesliyanStudios.com"})," for the background music."]})]})}const uAe=C("div",{target:"e1fxxvcx2"})({name:"1quw0ni",styles:"pointer-events:auto"}),dAe=C(Rye,{target:"e1fxxvcx1"})({name:"1l1st43",styles:"transition:300ms;position:absolute;bottom:20rem;font-size:3.2rem;line-height:1.25;color:white;text-align:center;background:rgba(0, 0, 0, 0.75);width:100%;box-sizing:border-box;transform:scale(0);&[data-active='true']{transform:scale(1);}padding:2rem 10rem;kbd{padding:0.12rem 0.9rem;border-radius:1rem;border:0.5rem solid rgb(204, 204, 204);border-bottom-color:rgb(150, 150, 150);border-right-color:rgb(150, 150, 150);color:rgb(51, 51, 51);line-height:1.4;display:inline-block;box-shadow:0 0.1rem 0 rgba(0, 0, 0, 0.2),inset 0 0 0 0.2rem #ffffff;background-color:rgb(247, 247, 247);text-shadow:0 0.1rem 0 #fff;font-weight:normal;}"}),fAe=C("span",{target:"e1fxxvcx0"})("position:fixed;bottom:2rem;left:2rem;font-size:1.5rem;",$e,";");function hAe(e){const[t,n,r,i]=pAe(e);return gAe(t,n,r,i)()}function pAe(e){let t=1779033703,n=3144134277,r=1013904242,i=2773480762;for(let s=0,o;s<e.length;s++)o=e.charCodeAt(s),t=n^Math.imul(t^o,597399067),n=r^Math.imul(n^o,2869860233),r=i^Math.imul(r^o,951274213),i=t^Math.imul(i^o,2716044179);return t=Math.imul(r^t>>>18,597399067),n=Math.imul(i^n>>>22,2869860233),r=Math.imul(t^r>>>17,951274213),i=Math.imul(n^i>>>19,2716044179),t^=n^r^i,n^=t,r^=t,i^=t,[t>>>0,n>>>0,r>>>0,i>>>0]}function gAe(e,t,n,r){return function(){e|=0,t|=0,n|=0,r|=0;var i=(e+t|0)+r|0;return r=r+1|0,e=t^t>>>9,t=n+(n<<3)|0,n=n<<21|n>>>11,n=n+i|0,(i>>>0)/4294967296}}const mAe=["Lysa Arryn","Peter Parker","Zordon","Chad Khalimov","Dat Boi","Good Guy Greg","Scumbag Steve","Meme Man","Pepe","Wojak","Ebmarah","Shrek","Vad of ICE Beat","Krasnolud","May Aragorn","Morning Breeze","Auytjak Lorav","Smelly Cat","Stinky Foot"],gR=new Date("2016-01-01").getTime(),vAe=new Date("2024-01-07").getTime(),AA=5;function yAe(e,t){const n=cE(e);return y.useMemo(()=>{const i=[...mAe];return[...Array.from({length:AA},(o,a)=>{const l=hAe(e.id+a),c=6e5+14e5/(AA-1)*a,u=i.splice(Math.floor(l*i.length),1)[0];return{singSetupId:a.toString(),name:u,score:ks()?c/1e3:c,date:new Date((vAe-gR)*l+gR).toISOString()}}),...(n==null?void 0:n.scores.filter(({setup:o})=>o.mode===t.mode&&o.tolerance===t.tolerance).map(o=>o.scores.map(a=>({...a,date:o.date,singSetupId:o.setup.id}))).flat())??[]].sort((o,a)=>a.score-o.score).slice(0,AA)},[e.id,n,t])??[]}function AAe({song:e,width:t,height:n,onClickSongSelection:r,singSetup:i}){const s=yAe(e,i),o=y.useMemo(()=>Me.getPlayers().map(a=>({name:a.getName(),playerNumber:a.number,detailedScore:Ne.getPlayerDetailedScore(a.number)})),[]);return f.jsx(Do,{children:f.jsx(cAe,{singSetup:i,song:e,width:t,height:n,onClickSongSelection:r,players:o,highScores:s})})}function _Ae({songPreview:e,singSetup:t,returnToSongSelection:n,restartSong:r}){VN(),LN();const i=y.useRef(null),s=AN(e.id),{width:o,height:a}=Ch(),[l,c]=y.useState(!1),[u,d]=y.useState(!0),[h,p]=y.useState(In.UNSTARTED),[g,m]=y.useState(!1);return ka(!g),y.useEffect(()=>{u&&s.data&&(g||h!==In.UNSTARTED)&&d(!1)},[s.data,g,h,u]),l&&s.data?f.jsx(AAe,{width:o,height:a,song:s.data,onClickSongSelection:n,singSetup:t}):f.jsx(Do,{children:f.jsxs(bAe,{children:[f.jsxs(SAe,{visible:u,"data-test":"background-container",children:[f.jsx(wAe,{video:e.video,width:o,height:a}),f.jsx(EAe,{"data-test":"song-artist",children:e.artist}),f.jsx(kAe,{"data-test":"song-title",children:e.title}),f.jsx(E0e,{onFinish:()=>{var _;m(!0),(_=i.current)==null||_.play()}})]}),s.data&&f.jsx(Pye,{pauseMenu:!0,ref:i,onStatusChange:p,players:t.players,song:s.data,width:o,height:a,autoplay:!1,onSongEnd:()=>{var A;const _=((A=Ne.getSingSetup())==null?void 0:A.mode)===jr.CO_OP?[{name:Me.getPlayers().map(S=>S.getName()).join(", "),score:Ne.getPlayerScore(0)}]:Me.getPlayers().map(S=>({name:S.getName(),score:Ne.getPlayerScore(S.number)})),v=Ne.getSongCompletionProgress();ee.songEnded.dispatch(s.data,t,_,v),c(!0)},singSetup:t,restartSong:r})]})})}const bAe=C("div",{target:"e9bbafl4"})({name:"bjn8wh",styles:"position:relative"}),SAe=C("div",{target:"e9bbafl3"})("position:fixed;top:0;left:0;z-index:10;pointer-events:none;background-color:black;view-transition-name:song-preview;opacity:",e=>e.visible?1:0,";transition:500ms;"),xAe=C("div",{target:"e9bbafl2"})({name:"oux8x1",styles:"background-size:cover;background-position:center center;filter:blur(10px)"}),wAe=e=>f.jsx(xAe,{style:{backgroundImage:`url('https://i3.ytimg.com/vi/${e.video}/hqdefault.jpg')`,width:`${e.width}px`,height:`${e.height}px`}}),EAe=C(fE,{target:"e9bbafl1"})({name:"oyknw4",styles:"view-transition-name:song-preview-artist;position:absolute;top:10rem;left:10rem;font-size:7rem"}),kAe=C(Sv,{target:"e9bbafl0"})({name:"1l9juvo",styles:"view-transition-name:song-preview-title;position:absolute;font-size:8rem;top:19rem;left:10rem"});function CAe(){const e=w0("song"),[t,n]=y.useState(null),[r,i]=y.useState(e??null),[s,o]=y.useState(0),a=l=>{document.getElementById("preview-video-container").style.viewTransitionName="song-preview-video",Hf(()=>{document.getElementById("preview-video-container").style.viewTransitionName="",Lu.flushSync(()=>{n(l)})}),TS.play(!1)};return VN(),f.jsxs(f.Fragment,{children:[f.jsx(Ai,{children:f.jsx("title",{children:"Game | AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsx(Kw,{children:t?f.jsx(_Ae,{restartSong:()=>{ps.restartRecord(),o(l=>l+1)},songPreview:t.song,singSetup:t,returnToSongSelection:()=>{i(t.song.id),n(null)}},s):f.jsx(b0e,{onSongSelected:a,preselectedSong:r})})]})}const mR=C("div",{target:"e1x9yhuz2"})({name:"1259b8f",styles:"@media (hover: hover){display:none;}"}),vR=C("div",{target:"e1x9yhuz1"})({name:"b0iqx8",styles:"@media (hover: none){display:none;}"});var TAe=y.createContext({client:Vn}),IAe=function(){var e=y.useContext(TAe).client;return e};function PAe(e){var t=IAe(),n=y.useState(),r=n[0],i=n[1];return y.useEffect(function(){return t.onFeatureFlags(function(){i(t.getFeatureFlag(e))})},[t,e]),r}const RAe="/prs/284/assets/screenshot1-DaCeVKxL.webp",MAe="/prs/284/assets/screenshot2-BGzMpznM.webp",jAe="/prs/284/assets/screenshot3-uopWyjAi.webp",OAe=["QYh6mYIJG2Y","62G0WSnOp8Y","1m7TF2nVV1c","DSHGd4lmLd4","_Yhyp-_hX2s","g4arvDxKVIo","hV1NBfr5OI4","Oe4Ic7fHWf8","pSQk-4fddDI","Wh2AEwOtFHA","N-PyWfVkjZc","KkGVmN68ByU","e1hMNoCEdUI","OnuuYcqhzCE","CevxZvSJLk8","wagn8Wrmzuc","K0HSD_i2DvA","omxPGB12svM","oxPWVX-qSrQ","aTyKDWv4q38","13m9v78uNJk","o8EamHKpdrM","VLZ9Ike2Geo","tQblSS2kl4Q","jKKrfr4To14","Yqc_PALpZNA","Pu7MjOd0o0Y","jHv0M0i6Gu4","HyHNuVaZJ-k","eVli-tstM5E","y3MjxWn5W9M","kn6-c223DUU","LPAVDHo1Elc","To4SWGZkEPk","8-bgiiTxhzM","n1p8K7CdYVM","DmeUuoxyt_E","TviYVNPCs2c","iWZmdoY1aTE","Z7yNvMzz2zg","dn28nlMOYfg","5d7EbtLb8ok","p5X8Z-jvsHI","PATaMsbuO0c","iS85LogrBP4","b3M_zl8FRLA","KIYiGA_rIls","aBt8fN7mJNg","axg6Fjo76nw","ef-IJJ7tJ0c","lI92uiDnUjM","pmYtefifbx0","B1nDzB1P8GM","2p_7338B5ow","CAL4WMpBNs0","KiLw45oAuD0","L9gDX4mfWtY","CxNiUxdJnTQ","tkzY_VwNIek","kOkQ4T5WO9E","ddrw8VOacAo","R9FZhr93V3A","viimfQi_pUw","iObGpqXKBdY","mcDWBckYN18","Vn6ZxQI16ME","y-jC3H_8Dk4","Uaida-lWZA0","uSD4vsh1zDA","nVjsGKrE6E8","jTwdGRHl5Mw","0Fe5ZlMOf7s","fdpcifthWBE","k-HdGnzYdFQ","Iyp8RcOy1ec","xBHcyuK1c2I","FM7MFYoylVs","FdfoTXUGkYM","1RyjqHE_UkU","y3xQwuUA_ws","cKlEE_EYuNM","ShZ978fBl6Y","Ea655Ji3kKE","Jnq9wPDoDKg","RTXszRHc0qs","tHyHOUShOg8","S-u6qdeaPoE","xbN6HJLxxIY","EqQuihD0hoI","ZMzHrEsvAmA","o3IWTfcks4k","_-QPvffO1gs","NH-5aUFoF9g","Rj4Yu9Utdw0","hfgwrdYUQ2A","Xcx6MVs2o8E","UCF9oHXhDMU","cPAbx5kgCJo","KoT5vV25Qng","0KSOMA3QBU0","5CHEqJgf7dw","-CxKA1uETxE","PXLiQdFClR4","8sgycukafqQ","UrGS_6_HglU","UhyeywiEzKo","jH1RNk8954Q","L7M0QYN0444","E8gmARGvPlI","rGKfrgqWcv0","sTcRcwCocIg","SjBOC94WHBQ","SmM0653YvXU","MM8RufZr5lw","Oa_RSwwpPaA","UjpbQ1OWMPE","TS9vmrBTxEo","kXlEez3xpPY","kMCGvtlL4fw","jwv-iRvyDZg","wdElaMA3gZU","z3zdIHDTbg0","vIaH35-MLsk","XeraDSzu0nw","FxYw0XPEoKE","d9bRnGo2gjk","uO59tfQ2TbA","gV5iQJLpVnM","OpQFFLBMEPI","4-43lLKaqBQ","Fve_lHIPa-I","amKWPGHxfgo","URN-Ikkc4CI","IvN5h9BE444","LbvE0FV_70U","hWjrMTWXH28","VuNIsY6JdUw","J5DrY2rVaeg","IPXIgEAGe4U","uBwk106e3es","E07s5ZYygMg","8Ogk4O_204A","gS5wFRB6qA0","1xcSDYy3Dl4","b-RQIN3wo5U","U2lo3A_Tex0","P2hM9CLAMu4","Kk8eJh4i8Lo","zZN4n3xzNEM","s11LhWk7z_E","80DtQD5BQ_A","7lhJ0LZtv3w","UtdNgSUjhCg","Sb5aq5HcS1A","ewRjZoRtu0Y","6yP1tcy9a10","NG2zyeVRcbs","gH476CxJxfg","PXkgn3QUA2w","S88LJBJhvwo","1RcP7Dsterg","NhsK5WExrnE","j5nvaOD_Lr4","7vAxgzGg9D4","e-CEd6xrRQc","tg00YEETFzg","26PAgklYYvo","lP--cEUCSxo","v9uDwppN5-w","JQGRg8XBnB4","hTWKbfoikeg","4m1EFMoRFvY","I6Xd1t9fdrk","bdOXnTbyk0g","h7ES_rO9bFM","PIh2xe4jnpk","ndFTOleoHGs","XTPGpBBwt1w","tIpzfs5tBJU","Nnumx-LN-EQ","_Jtpf8N5IDE","IO1evhvjJZs","SoWcVX9DzcQ","NFary9e9jo0","v08qmr8m_-w","CocEMWdc7Ck","BJk6gZuPKRE","T8a4Tckeu1I","1-xGerv5FOk","nEO139KXB6s","kHLHSlExFis","0P8QJ-x68PI","dMK_npDG12Q","9BXNKyoW_Ow","4a-SEPT8DeE","FGBhQbmPwH8","_RalKhxRBC8","wdNAYokSlCc","fm90reBHJV8","zZjSX01P5dE"],VAe=["The Offspring","Katy Perry feat. Kanye West","Dio","Mtley Cre","Jamiroquai","Jack Black","Man With A Mission","Mandaryna","John Legend","Kim Petras","Adam Lambert","Fleetwood Mac","Ben E. King","Disneys Phineas & Ferb (Phineas Flynn, Candace Flynn)","Sublime","Katy Perry feat. Nicki Minaj","Adele","The Pussycat Dolls","Bradley Cooper & Lady Gaga","Blanka","Emmelie de Forest","The Killers","Michael Jackson feat. Justin Timberlake","Sugababes","Soul Asylum","Nick Cave & The Bad Seeds + Kylie Minogue","Kanye West feat. Various Artists","Depeche Mode","Jason Derulo","Taylor Swift","Creed","3 Doors Down","Meat Loaf","John Lennon","Snoop Dogg & Wiz Khalifa feat. Bruno Mars","The Black Eyed Peas","Ed Sheeran and Justin Bieber","Alicia Keys","Counting Crows","Fountains Of Wayne","The Darkness","Vitamin C","Shakin Stevens","Idina Menzel","Beyonc","Ariana Grande feat. Mac Miller","Wilson Phillips","David Guetta feat. Akon","Symphony X","Jesse McCartney","Against The Current","Les Misrables","Smokie","Srbuk","LSD","Foreigner","Rednex","Cascada","Skillet","Disneys Kim Possible (Christina Milian)","Rockwell","Rihanna feat. Eminem","Eddie Murphy","Baccara","Bryan Adams","Doris Day","Kaiser Chiefs","Survivor","LE SSERAFIM","Kaleo","REO Speedwagon","Lykke Li","Whitesnake","Mika","Plain White Ts","LP","ATeens","blink-182","Morandi","DNCE","No Secrets","Sandie Shaw","Nico & Vinz","The Blues Brothers","A Perfect Circle","Tiffany","Jay Sean","Maroon 5","Manuel","Sara Evans","Hoobastank","Britney Spears feat. Madonna","Michael Bubl","Run DMC","The Tony Rich Project","Philip Bailey with Phil Collins","Chris Brown feat. Benny Benassi","will.i.am feat. Justin Bieber","Beyonc feat. Jay-Z","Rosa Linn","Silk Sonic - Bruno Mars & Anderson .Paak","Lady Antebellum","M83 feat. Susanne Sundfr","Alessia Cara","Shawn Mendes, Camila Cabello","Jojo","Wiz Khalifa","Guns N' Roses","Alan Walker & Ava Max","U2","Inna","Vanessa Carlton","Ariana Grande feat. Zedd","The Animals","a-ha","Little Big","Tally Hall","Journey","Mariah Carey","The Kelly Family","Evanescence","Peter Gabriel","Britney Spears / Elton John","The Little Mermaid","Spice Girls","NF","Terri Clark","Nicki Taylor","Kings Of Leon","Demi Lovato feat. Cher Lloyd","Vanilla Ice","N Sync","Olivia Rodrigo","Frankie Valli","The Cranberries","Disneys DuckTales 2017 (Felicia Barton)","Chris Brown","The Cure","Iggy Pop","Smash Mouth","Meghan Trainor","K-391 feat. Alan Walker, Julie Bergan & SeungRi","USA for Africa","Bryan Adams, Rod Stewart & Sting","DragonForce","Secondhand Serenade","Bill Medley & Jennifer Warnes","Jason Mraz","Five For Fighting","Madcon","Chris Brown feat. Rihanna","Bad Omens","Chappell Roan","Eleni Foureira","Tones And I","Usher feat. Lil Jon & Ludacris","Billy Boyd","The Calling","Borislav Slavov (Baldur's Gate 3)","Drake feat. Rihanna","Selena Gomez","Genesis","James Morrison feat. Nelly Furtado","Post Malone","Post Malone feat. 21 Savage","Beyonc & Shakira","Olivia Newton-John","The Smashing Pumpkins","Crusher-P feat. GUMI","Miley Cyrus & Jessie J","Tom Dice","Passenger","Justin Bieber feat. Big Sean","Shaggy feat. RikRok","Lana Del Rey","Netflix","Timbaland presents OneRepublic","Rufus Wainwright","David Guetta feat. Kelly Rowland","Led Zeppelin","Israel Kamakawiwoole","Harry Styles","Toto","Kenya Grace","Enrique Iglesias feat. Pitbull","Victoria Justice & Ariana Grande","New Order","Empire Of The Sun","George Michael","David Guetta feat. Nicki Minaj","The Postal Service","Lipps, Inc.","Lordi","Bob Seger & The Silver Bullet Band","Mariah Carey feat. Jay-Z","Conchita Wurst","Post Malone & Swae Lee","Julie and the Phantoms","Disneys Frozen","Ricky Martin with Christina Aguilera","Big Time Rush","Nirvana","Interpol","BTS feat. Desiigner","Electric Light Orchestra","Kelly Clarkson","Alexander Rybak","The Kid Laroi & Justin Bieber","Dashboard Confessional","Jay-Z feat. Alicia Keys","Radical Face","We Are Domi","Frank Sinatra","Dai og Gagnamagni","Texas","Black Sabbath","Diana Ross","Phoebe Bridgers","Flo Rida feat. David Guetta","Jay Sean feat. The Rishi Rich Project","Paris Hilton","Roxette","Stone Temple Pilots","Thirty Seconds to Mars","Pixies","Clean Bandit feat. Marina & Luis Fonsi","Nicki Minaj feat. Rihanna","will.i.am feat. Eva Simons","deadmau5 feat. Chris James","The Cinematic Orchestra","Kim Petras & Nicki Minaj","The Who","Rascal Flatts","Swedish House Mafia & The Weeknd","ABBA","Voyager","Kylie Minogue","SING (Taron Egerton)","Daughtry","Jack  (Skrillex & Diplo) with Justin Bieber","OneRepublic","Manchester Orchestra","B.o.B feat. Bruno Mars","Richard Marx","Neon Genesis Evangelion","Rihanna feat. Jeezy","Stevie Wonder","Robbie Williams","will.i.am & Britney Spears","Lewis Capaldi","Little Mix","P!nk feat. Lily Allen","Pitbull feat. Marc Anthony","Disneys Phineas & Ferb (Candace Flynn)","New Kids On The Block","Hailee Steinfeld & Grey feat. Zedd","Justin Bieber feat. Usher","Akon feat. Eminem","Haddaway & Jim Carrey & The Roxbury Guys","Pink Floyd","Edward Maya & Vika Jigulina","Ruslana","The Pogues feat. Kirsty MacColl","Verka Serduchka","Freddie Mercury","Eurythmics","Coldplay feat. Beyonc","Disneys High School Musical 3","Boney M","Lulu","The Makemakes","Tyler, The Creator","Jay Sean feat. Lil Wayne","Kendrick Lamar feat. Drake","Men at Work","Wham","Baby Lasagna","The Black Keys","Chris Brown feat. Justin Bieber","Glee Cast","ALIKA","The Rolling Stones","Chris Rea","Henry Moodie","Macklemore & Ryan Lewis feat. Wanz","Technotronic feat. Felly","Sam Smith","Tom Odell","Camila Cabello ft. Ed Sheeran","Disneys The Lion King","Daisuke Ishiwatari","Muse","Dai Freyr","Silia Kapsis","Chenoa","Disneys Hercules","Alter Bridge","Savage Garden","Aqua","Phantom Planet","Jordin Sparks feat. Chris Brown","Enrique Iglesias","Travie McCoy feat. Bruno Mars","Usher feat. will.i.am","Dean Martin","Ariana Grande & The Weeknd","Roman Lob","TheFatRat feat. Laura Brehm","Nicki Minaj","Gwen Stefani Feat Akon","Mumford and Sons","Rise Against","Crowded House","Pointer Sisters","Ba","Faith No More","Franz Ferdinand","Billy Joel","Toni Braxton","The Temptations","Ke$ha feat. 3OH!3","Peter Gabriel & Kate Bush","Kay Starr","Bon Jovi","Bellamy Brothers","LMFAO, Lauren Bennett & Goon Rock","FIFTY FIFTY","Hera Bjrk","Aly & AJ","Placebo","Moulin Rouge","David Guetta & Chris Willis feat. Fergie & LMFAO","Mamma Mia! (Movie)","Kim Wilde","Eminem feat. Dido","Ylvis","Rusted Root","The Script","Destiny","Katy Perry feat. Snoop Dogg","The Rasmus","Bowling For Soup","Sabaton","Metro Station","The Living Tombstone","Eric Clapton","Grease (John Travolta & Olivia Newton-John)","Soundgarden","Anastacia","Babymetal x Electric Callboy","O.A.R.","Johnny Cash","Faith Hill","Fun. feat. Janelle Mone","Justin Bieber & Nicki Minaj","Scissor Sisters","Lil Dicky","Malik Harris","Dana International","Benny Cristo","Ed Sheeran","Crush 40","Blondie","Electric Callboy feat. Sido","Ke$ha","Ellie Goulding","Dean Lewis","Spandau Ballet","My Chemical Romance","Simply Red","Katy Perry feat. Migos","Creedence Clearwater Revival","SMiLE.dk","2Pac feat. Dr. Dre & Roger Troutman","Donna Summer","Flo Rida feat. T-Pain","Utada Hikaru","Hootie & The Blowfish","Camila Cabello feat. Daddy Yankee","Queen","Jessie J feat. Ariana Grande & Nicki Minaj","David Guetta & Sia","Morgan Wallen","Skid Row","The Baseballs","Ike & Tina Turner","Dire Straits","Akon","Jessie J","Portal","The Fray","Brandy & Monica","Zoe Wees","Flo Rida feat. Sia","Eric Saade","Jennifer Lopez","Disneys Moana (Dwayne Johnson)","Matchbox Twenty","Ochman","Yazoo","Psychostick","Aerosmith","Alec Benjamin","M.I.A.","Backstreet Boys","Simple Plan","Smash Into Pieces","The Weeknd","Kaleen","Jay Sean feat. Sean Paul & Lil Jon","Drowning Pool","Hailee Steinfeld feat. DNCE","Westlife","Powerwolf","Natalie Imbruglia","Shakira feat. Carlinhos Brown","Andrew Lambrou","S Club 7","Panic! at the Disco","Paramore","Lady Gaga & Ariana Grande","Ricky Martin","The Police","Natasha Bedingfield","Rob Thomas","No Doubt","David Cook","John Mayer","The Mamas & The Papas","David Guetta feat. Chris Willis","Jessica Simpson","AC/DC","Amy Grant","SZA","RuPaul","Little Mix feat. Stormzy","Doja Cat feat. SZA","Owl City","Corey Hart","Selena Gomez x Marshmello","Dolly Parton","Drake Bell","R. City feat. Adam Levine","Jimi Jamison","The Greatest Showman","Ariana Grande","My Little Pony","Shakira ft. Freshlyground","A Great Big World","Enya","Extreme","Bob Marley & The Wailers","Daniel Caesar","Hazbin Hotel (Black Gryph0n & Baasik)","Joy Division","Katrina And The Waves","Nelly Furtado feat. Timbaland","Lil Nas X feat. Billy Ray Cyrus","Shakira feat. Wyclef Jean","Camp Rock 2","Steven Curtis Chapman","James Blunt","All Time Low feat. Demi Lovato & Blackbear","Hanson","Tool","Pitbull feat. Ne-Yo, Afrojack & Nayer","Madonna feat. Britney Spears, Christina Aguilera & Missy Elliott","Ginuwine","Remo Forrer","Frankie Goes To Hollywood","Ice Cube","Alphaville","Placebo feat. David Bowie","Chuck Berry","Jet","Alanis Morissette","Daniel Powter","5 Seconds of Summer","Europe","Cornelia Jakobs","The Weeknd feat. Ariana Grande","Manowar","2NE1","Carly Rae Jepsen","Deadmau5 & Kaskade","Duncan Laurence","Kate Bush","Calvin Harris feat. Pharrell Williams, Katy Perry & Big Sean","Midnight Oil","Andy Williams","Coolio feat. L.V.","Queen & David Bowie","Gotye & Kimbra","Margaret Berger","Mandy Moore","P!nk","Imagine Dragons x JID","The Black Eyed Peas Feat. Justin Timberlake","Mumford & Sons","Foster The People","Jewel","The Psychedelic Furs","Avicii","Alice in Chains","Alice Cooper","Gym Class Heroes feat. Adam Levine","The Smiths","Scorpions","Lady Gaga feat. Colby O'Donis","Stella Mwangi","Brotherhood Of Man","Justin Bieber","Montaigne","Shakira feat. Rihanna","Cynthia Harrell","Blink 182","Elvis Presley","Fall Out Boy","Aram MP3","Vanessa Williams","Kid Cudi feat. MGMT & Ratatat","David Guetta feat. Nicki Minaj & Afrojack","Sylver","Taio Cruz","Avicii feat. Sandro Cavazza","Melanie Thornton","Chicago","deadmau5 feat. Gerard Way","Mark Ronson feat. Bruno Mars","Marshmello x Jonas Brothers","Radiohead","Leona Lewis","Disneys Frozen II","Cutting Crew","The Kid Laroi & Miley Cyrus","Phil Collins","Elton John","Willie Nelson and Merle Haggard","Himesh Patel","Anna Margaret","Wheatus","Marc Cohn","Hailee Steinfeld","Christina Aguilera","Cher","Rihanna & Ne-Yo","Jennifer Lopez & Pitbull","Set It Off","Christina Aguilera feat. Redman","Marshmello & Anne-Marie","Ne-Yo","Katy Perry","Scooter vs. Marc Acardipane & Dick Rules","Anitta","Bryce Pinkham","Kendrick Lamar","Disneys Mulan","Shakira feat. Dizzee Rascal","Cat Stevens","Rihanna","KoRn","Abby Trott","Billie Eilish & Khalid","Netta","Aretha Franklin & The Blues Brothers Band","David Guetta feat. Zara Larsson","Charlie Puth & Selena Gomez","Maroon 5 feat. Christina Aguilera","Paul Simon","Destinys Child","David Guetta feat. Flo Rida & Nicki Minaj","Vanessa Hudgens","Jason Paige","Gandalf","Michael Schulte","ZZ Top","Eva Rivas","Red Hot Chili Peppers","Joji","Kid Rock","Lana Del Rey feat. The Weeknd","Bastille","Glen Hansard And Markta Irglov","The Clash","Mark Ronson ft  Miley Cyrus","Shawn Mendes & Camila Cabello","Sophie Ellis-Bextor","The Anxiety (Willow & Tyler Cole)","Maria Yaremchuk","Florence + the Machine","Avenged Sevenfold","Flo Rida feat. Ke$ha","Jon Bellion","Tears For Fears","Mns Zelmerlw","Lady Gaga feat. Beyonc","Lindsey Stirling feat. Becky G","Band Aid","Xavier Rudd","NIKI","Kanye West feat. Young Jeezy","SEBalter","Huey Lewis & The News","Marina and the Diamonds","TLC","Justin Bieber feat. Jaden Smith","Banana minnions family","Whitney Houston","Sam Ryder","Marina & The Diamonds","MELOVIN","Nelly Furtado","Bing Crosby","Marvin Gaye & Tammi Terrell","Stephen Sanchez","Falling In Reverse","Chumbawamba","Hazbin Hotel","Disneys Descendants","Vampire Weekend","Lynyrd Skynyrd","Audioslave","Idina Menzel with Michael Bubl","Sabrina Carpenter","LMFAO","Tix","Lenny Kravitz","Doki Doki Literature Club!","Billie Eilish","Dido","3OH!3 feat. Ke$ha","Amy Winehouse feat. Mark Ronson","Ultravox","Blackstreet feat. Dr. Dre","Sara Bareilles","Mariah Carey & Whitney Houston","Miracle Of Sound","The Jacksons","Kid Rock feat. Sheryl Crow","Parry Gripp & Brianne Drouhard","Coldplay x BTS","Les Fatals Picards","Victorious Cast feat. Victoria Justice","Calvin Harris feat. Rihanna","Gustaph","Cline Dion","Hozier","Rihanna feat. Drake","Sun Stroke Project & Olia Tira","Kid Cudi","Max Coveri","Madcon feat. Ray Dalton","Calum Scott","Hooverphonic","Major Lazer & DJ Snake feat. M","KT Tunstall","Imagine Dragons","B52s","Teya & Salena","The Rembrandts","Bruno Mars","Jack White","Prince and the Revolution","Usher","System Of A Down","Psy feat. Suga of BTS","Eminem","America","Ava Max","Rage Against the Machine","Alesso & Katy Perry","Lady Gaga","Maroon 5 feat. Wiz Khalifa","Wicked","Tracy Chapman","Getter Jaani","Sudden Lights","A.R. Rahman & The Pussycat Dolls feat. Nicole Scherzinger","Take That","Selena Gomez & The Scene","Natasha Farrow","Bonnie Tyler","Drake feat. Wizkid & Kyla","Martin Garrix feat. Bonn","Jay-Z feat. Rihanna & Kanye West","Britney Spears","Doja Cat","Rihanna feat. Mikky Ekko","Melanie Martinez","Lifehouse","Windows95man","3OH!3 feat. Katy Perry","Simon & Garfunkel","Mneskin","Lucy Hale","The Kooks","League of Legends","Eminem feat. Rihanna","Beastie Boys","Petula Clark","Kings of Leon","Mika feat. Ariana Grande","Pitbull feat. Chris Brown","Rasmussen","The Bloodhound Gang","Avril Lavigne","Ashley Tisdale (The Little Mermaid)","Marilyn Manson","Loreen","Justin Bieber & Ludacris","Mae Muller","Martin Solveig & GTA","Estelle feat. Kanye West","La La Land (Ryan Gosling & Emma Stone)","Keane","Daft Punk","Pharrell Williams","Bruno Mars & Cardi B","Benson Boone","Barei","Alessandra","Rod Stewart","Paul McCartney & Michael Jackson","Hillsong United","Rage Against The Machine","Elena Siegman","Britney Spears feat. Tinashe","Into the Woods","Daft Punk feat. Julian Casablancas","Ed Sheeran and Elton John","Neil Young","Lionel Richie","Boney M.","Michael Jackson","Madonna","Fetty Wap","Rob Zombie","The Eagles","Lil Nas X","Duck Sauce","Dua Lipa","BLACKPINK & Selena Gomez","Santana feat. Rob Thomas","Tate McRae","Ariana Grande feat. Iggy Azalea","Ben Doli","Lyn","Bring Me The Horizon","Alice Merton","The Vines","Flo Rida","Billy Talent","Kanye West feat. Pusha T","LazyTown","We The Kings feat. Demi Lovato","Don McLean","Rupert Holmes","Pearl Jam","Ren","Shania Twain","Disturbed","Reba McEntire with Brooks & Dunn","Marshmello & Bastille","Disneys Encanto ","Ghost","Demi Lovato","One Direction","Fergie","Wham!","KISS","B.o.B feat. Hayley Williams","Joan Jett","The White Stripes","Arctic Monkeys","Sean Kingston","Timbaland feat. Keri Hilson","Danzel","Jim Croce","KEiiNO","Guns N Roses","Sean Kingston / Justin Bieber","Sia","Linkin Park","Jonathan Coulton","David Guetta feat. Rihanna","Poets Of The Fall","Rihanna feat. Calvin Harris","Green Day","Tina Turner","Gloria Gaynor","Black Eyed Peas, Shakira","Amy MacDonald","Alice In Chains","The Village People","Elton John & RuPaul","Van Halen","Johnny Logan","Marcus & Martinus","Fools Garden","Usher & Alicia Keys","Hunter Hayes","Alannah Myles","Arcade Fire","Sinad OConnor","Loc Nottet","Snow Patrol","NCT 127","Michelle Branch","Asking Alexandria","David Guetta feat. Kid Cudi","The BossHoss","Zedd & Foxes","ZAYN feat. Sia","Miley Cyrus","Finger Eleven","Brenda Lee","Girls Generation (SNSD)","Pretenders","Bobby Helms","The Neighbourhood","Three Days Grace","Elton John & Dua Lipa","Twenty One Pilots","Cailin Russo & Chrissy Costanza","Lily Allen","Sheryl Crow","Olly Murs feat. Flo-Rida","Rainbow","Weezer","Nickelback","Usher feat. Pitbull","Dami Im","Shawn Mendes","PinkPantheress & Ice Spice","Deep Purple","Ashlee Simpson","Oasis","Bridgit Mendler","Christina Aguilera, Lil Kim, Mya & P!nk (Moulin Rouge)","Justin Timberlake","The Beatles","Modern Talking","Daft Punk Feat. Todd Edwards","High School Musical","The Strokes","Rihanna, Kanye West & Paul McCartney","The Weeknd feat. Daft Punk","Disney's Moana","Miranda Lambert","Owl City & Carly Rae Jepsen","Nick Jonas","Dead Or Alive","Cheryl Cole","Matt Redman","Metric","Marillion","Jennette McCurdy","The Common Linnets","Britney Spears & Iggy Azalea","Metallica","Macklemore & Ryan Lewis feat. Ray Dalton","Gina G","The Jackson 5","John Waite","Barbie (Ryan Gosling)","Chris Isaak","Cliff Richard","Richard Marx & Donna Lewis","Reba McEntire & Kelly Clarkson","Edward Sharpe And The Magnetic Zeros","Culture Club","Fun.","Nico Bruno","Teach-In","Gwen Stefani & Eve","Blur","P!nk feat. Nate Ruess","Mitski","Tove Lo","The Script feat. will.i.am","Soulja Boy Tellem feat. Sammie","Hollywood Undead","Christina Perri","Ariana Grande feat. Future","AaRON","Colbie Caillat","twenty ne pilts","The Ronettes","R.E.M.","Breaking Benjamin","4 Non Blondes","SIAMS","Olly Murs","Ashanti","David Guetta feat. Justin Bieber","Alan Walker","Goo Goo Dolls","Young The Giant","Christina Milian","Disneys Encanto","Slayyyter","Will Ferrell & Rachel McAdams","Lena","Martina McBride","BTS","Blu Cantrell","RagnBone Man","The Chainsmokers & Coldplay","KDA ft. Madison Beer, (G)I-DLE, Lexie Liu, Jaira Burns, Seraphine","Sixpence None The Richer","Wiz Khalifa ft. Charlie Puth","La Roux","Magic!","Lea Salonga and Brad Kane","Cyndi Lauper","JoJo","Rag'n'Bone Man","Ween","Tom Jones and Mousse T.","Rhapsody","Josh Groban","Blanche","Lorde","Subwoolfer","Hamilton","Martin Solveig & Dragonette","Bebe Rexha y David Guetta","RAFA","AURORA","Yohanna","Corinne Bailey Rae","Bee Gees","Joe Cocker","Chingiz","Usher & Pitbull","Lord Of The Lost","Nemo","Disney's Aladin","Rick Astley","Amy Winehouse","Bucks Fizz","Kanye West","Janet Jackson","Coldplay","Joan Jett & The Blackhearts","Hilary Duff","Ashley Tisdale","TheFatRat","David Bowie","System of a Down","Lizzo","Good Charlotte","Awolnation","Jimmy Eat World","Slade","La Bouche","Sarah McLachlan","Disney's Pocahontas","Boyz II Men","The Proclaimers","Gorillaz","David Guetta feat. Usher","Disney's Tangled","Daft Punk feat. Pharrell Williams & Nile Rodgers","Drake","Starship","Helena Paparizou","LeAnn Rimes","Shakira","Dave Rodgers","Tom Jones","Taylor Swift feat. Post Malone","Kellie Pickler","Foo Fighters","3OH!3","Serj Tankian","George Ezra","Vengaboys","Grta Salme & Jnsi","Olsen Brothers","Tenacious D","Ray Parker Jr.","Victoria Justice","A Day to Remember","ISAAK","NCT DREAM","Fredi and Friends","The Doors","Slipknot"],LAe=["Polish","Korean","English","Japanese","Spanish","Estonian","Swedish","Indonesian","French","German","Portuguese","Dutch","Catalan","Czech","Norwegian","Italian","Croatian","Latin","Icelandic","Ukrainian","Serbian","Slovenian","Finnish","Romanian","Latvian","Chinese"],NAe=2874,Cd={videoIds:OAe,artists:VAe,languages:LAe,songs:NAe},BAe=new Intl.NumberFormat(void 0,{maximumFractionDigits:0});function DAe(){const[e]=Fe(zb),t=Zr(),n=PAe(Fb.Shrek);ka(!0);const r=e===null?"quick-setup/":"menu/";Pr("enter",()=>{t(r)},[r]);const[i,s]=y.useState(!1);return y.useEffect(()=>{const o=setTimeout(()=>{s(!0)},4e3);return()=>clearTimeout(o)},[]),f.jsxs(Do,{toolbar:!1,children:[f.jsx(Ai,{children:f.jsx("title",{children:"AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsx(XL,{}),f.jsxs(HAe,{children:[f.jsx(vR,{children:f.jsxs($Ae,{children:[f.jsx(fN,{}),f.jsx(Uw,{})]})}),f.jsx(vR,{children:f.jsx(Or,{to:r,children:f.jsx(_A,{"data-test":"enter-the-game",focused:!0,children:"Enter the game"})})}),f.jsxs(FAe,{children:[f.jsxs(CB,{children:[f.jsxs(zAe,{children:[f.jsx("strong",{children:"AllKaraoke"})," is a free online karaoke game inspired by PlayStation's"," ",f.jsx("strong",{children:"SingStar"}),". Sing along to your favorite songs and compete with your friends, all through the browser! Updated almost weekly with new songs and features."]}),f.jsx("hr",{}),f.jsxs(ud,{children:[" ",f.jsx("strong",{children:BAe.format(Cd.songs)})," songs in"," ",f.jsx("strong",{children:Cd.languages.length})," languages",f.jsxs(dd,{children:["Artists such as"," ",f.jsx("strong",{children:i?f.jsx(kB,{options:{strings:Cd.artists,autoStart:!0,loop:!0,delay:100}}):Cd.artists.at(-1)})]})]}),f.jsxs(ud,{children:[" Play ",f.jsx("strong",{children:"directly"})," in the browser",f.jsxs(dd,{children:["No ",f.jsx("strong",{children:"download"})," needed"]})]}),f.jsxs(ud,{children:[" Use ",f.jsx("strong",{children:"phones"})," as microphones",f.jsx(dd,{children:"No need to download an app"})]}),f.jsxs(ud,{children:[" Supports ",f.jsx("strong",{children:"1-4"})," players",f.jsx(dd,{children:"When using phones as microphones"})]}),f.jsxs(ud,{children:[" ",f.jsx("strong",{children:"100% Free"})," and open source",f.jsxs(dd,{children:["Check the"," ",f.jsx("a",{href:"https://github.com/Asvarox/allkaraoke",target:"_blank",rel:"noreferrer",children:"GitHub repository"})]})]})]}),f.jsxs(UAe,{children:[f.jsx("img",{src:RAe,alt:"Song list screen"}),n==="test"?f.jsx("img",{src:MAe,alt:"In-game screen"}):f.jsx("img",{src:jAe,alt:"In-game screen"})]})]}),f.jsxs(qAe,{children:["Using this device as remote microphone?",f.jsx(Or,{to:"remote-mic/",children:f.jsx("a",{"data-test":"join-existing-game",children:"Join existing game"})})]}),f.jsxs(GAe,{children:[f.jsx(mR,{children:f.jsx(Or,{to:"remote-mic/",children:f.jsx(_A,{"data-test":"join-existing-game",focused:!0,children:f.jsxs("span",{children:["Join game (with ",f.jsx("strong",{children:"Game Code"}),")"]})})})}),f.jsx(mR,{children:f.jsx(Or,{to:"quick-setup/",children:f.jsx(_A,{"data-test":"enter-the-game",children:"Start new game"})})})]})]})]})}const $Ae=C("div",{target:"e1n22rxp10"})({name:"an0x26",styles:"display:flex;gap:6rem"}),FAe=C("div",{target:"e1n22rxp9"})("display:flex;align-items:center;gap:6rem;padding:6rem;box-sizing:border-box;width:110rem;font-size:2.3rem;",bf,"{width:90%;flex-direction:column;font-size:8.5rem;}",S0,"{font-size:4.9rem;}background:rgba(0, 0, 0, 0.8);backdrop-filter:blur(10px);hr{margin:3rem 0;}"),zAe=C("span",{target:"e1n22rxp8"})("line-height:1.5;text-align:justify;",bf,"{font-size:8.5rem;}",S0,"{font-size:4.9rem;}"),ud=C("div",{target:"e1n22rxp7"})(""),dd=C("div",{target:"e1n22rxp6"})({name:"1dzwbkh",styles:"padding-top:0.5rem;font-size:0.7em;text-align:right;.Typewriter{display:inline;}"}),CB=C("div",{target:"e1n22rxp5"})("display:flex;flex-direction:column;flex:1;gap:1rem;",$e,";"),UAe=C(CB,{target:"e1n22rxp4"})(S0,"{display:none;}",bf,"{flex-direction:row;}gap:4rem;img{width:100%;aspect-ratio:16/9;object-fit:cover;box-shadow:0 0 5rem rgba(114, 155, 255, 0.5);border-radius:1rem;",bf,"{width:calc(50% - 2rem);height:50rem;}}img:nth-of-type(2){box-shadow:0 0 10rem rgb(19, 19, 19);}"),HAe=C("div",{target:"e1n22rxp3"})("display:flex;flex-direction:column;",S0,"{flex-direction:row;}align-items:center;justify-content:center;height:100vh;gap:3rem;strong,a{text-shadow:0 0 5rem ",de.colors.text.active,";}"),GAe=C("div",{target:"e1n22rxp2"})({name:"inasn2",styles:"display:flex;flex-direction:column;gap:3rem;width:90%;&& a{width:100%;flex:1;min-height:30rem;}"}),qAe=C("h3",{target:"e1n22rxp1"})(bf,"{display:none;}text-align:right;width:110rem;margin-top:-2.5rem!important;"),_A=C(oL,{target:"e1n22rxp0"})("font-size:9rem;padding:1rem 7rem;background:black;width:110rem;transform:none;",sL,";");function WAe(e){const t=Zr(),n=()=>t("menu/"),{register:r}=zn({onBackspace:n});return f.jsxs(Pa,{children:[f.jsx(Ai,{children:f.jsx("title",{children:"Manage Songs | AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsx("h1",{children:"Manage Songs"}),f.jsx(Or,{to:"exclude-languages/",children:f.jsx(Pe,{...r("exclude-languages",()=>t("exclude-languages/")),children:"Select Song Languages"})}),f.jsx(Or,{to:"edit/list/",children:f.jsx(Pe,{...r("edit-songs",()=>t("edit/list/")),children:"Edit songs"})}),f.jsx(Or,{to:"convert/",children:f.jsx(Pe,{...r("convert-song",()=>t("convert/")),children:"Convert UltraStar .txt"})}),f.jsx("hr",{}),f.jsx(Or,{to:"menu/",children:f.jsx(Pe,{...r("back-button",n),children:"Return To Main Menu"})})]})}var Ev={exports:{}};Ev.exports=mE;Ev.exports.isMobile=mE;Ev.exports.default=mE;const KAe=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,YAe=/CrOS/,QAe=/android|ipad|playbook|silk/i;function mE(e){e||(e={});let t=e.ua;if(!t&&typeof navigator<"u"&&(t=navigator.userAgent),t&&t.headers&&typeof t.headers["user-agent"]=="string"&&(t=t.headers["user-agent"]),typeof t!="string")return!1;let n=KAe.test(t)&&!YAe.test(t)||!!e.tablet&&QAe.test(t);return!n&&e.tablet&&e.featureDetect&&navigator&&navigator.maxTouchPoints>1&&t.indexOf("Macintosh")!==-1&&t.indexOf("Safari")!==-1&&(n=!0),n}var JAe=Ev.exports;const XAe=hr(JAe);function ZAe(){const[,e]=Fe(pr),t=async()=>{var n,r;try{e(!0),await document.body.requestFullscreen(),global.screen.orientation.unlock(),await((r=(n=global.screen.orientation).lock)==null?void 0:r.call(n,"landscape"))}catch(i){console.info(i)}};return f.jsx(Do,{children:f.jsx(e1e,{children:f.jsxs(t1e,{children:[f.jsx("h1",{children:"Use Mobile Phone Mode?"}),f.jsx("h3",{children:"The regular version of the game isn't optimal for smaller screens. Enable the Mobile Phone Mode to adjust the UI and gameplay elements. Use this, or connect other mobiles to sing songs."}),f.jsxs("h3",{children:["You can always change the setting in the ",f.jsx("strong",{children:"Settings"})," menu."]}),f.jsx(yR,{focused:!0,onClick:t,"data-test":"enable-mobile-mode",children:"Enable Mobile Phone Mode"}),f.jsx(yR,{onClick:()=>e(!1),"data-test":"dismiss-mobile-mode",children:"Dismiss"})]})})})}const yR=C(Pe,{target:"e6hg0672"})({name:"h427ha",styles:"font-size:calc(min(3vw, 4vh));height:auto;padding:calc(min(3vw, 4vh))"}),e1e=C("div",{target:"e6hg0671"})({name:"wkkrci",styles:"position:fixed;inset:0;display:flex;align-items:center;justify-content:center"}),t1e=C(ns,{target:"e6hg0670"})({name:"x689zy",styles:"max-width:150rem;padding:calc(min(3vw, 4vh));margin:auto;h1{font-size:calc(min(4vw, 5vh));margin-bottom:0.75em;}h3{font-size:calc(min(3vw, 4vh));line-height:1.25;margin-bottom:1em;}"});function n1e(e){const[t]=Fe(pr),n=y.useMemo(()=>XAe(),[]),r=Zr(),i=async s=>{var o,a;if(r("menu/"),t&&document.fullscreenElement===null)try{await document.body.requestFullscreen(),global.screen.orientation.unlock(),await((a=(o=global.screen.orientation).lock)==null?void 0:a.call(o,"landscape"))}catch(l){console.info(l)}};return f.jsxs(f.Fragment,{children:[f.jsx(Ai,{children:f.jsx("title",{children:"Select Input | AllKaraoke.Party - Free Online Karaoke Party Game"})}),t===null&&n?f.jsx(ZAe,{}):f.jsx(Pa,{children:f.jsx(aE,{onFinish:i,closeButtonText:"Sing a song",smooth:!0})})]})}function r1e(e){Ra(!1);const t=Zr(),n=()=>t("settings/"),{register:r}=zn({onBackspace:n}),[i,s]=Fe(Tg),[o,a]=Fe(i5),l=vi(ee.inputListChanged,()=>Ze.getRemoteMics()),c=H3();return y.useEffect(()=>Ze.addListener(c),[c]),f.jsxs(Pa,{children:[f.jsx("h1",{onClick:()=>{const u=prompt("Code");(u==null?void 0:u.length)===Vd-1&&(Wj(u),global.location.reload())},children:"Remote Microphone Settings"}),f.jsx(li,{...r("connection type",()=>s(ma(YF,i))),label:"Connection type",value:i}),f.jsx("hr",{}),f.jsx(li,{...r("default-permission",()=>a(ma(j2,o))),label:"Default permission",info:f.jsxs(f.Fragment,{children:[f.jsx("strong",{children:"WRITE"})," - player is able to navigate the menus remotely and assign themselves and other players to the game.",f.jsx("br",{}),f.jsx("br",{}),f.jsx("strong",{children:"READ"})," - player will only be able to use the device as a microphone and otherwise have no control over the game."]}),value:o.toUpperCase()}),f.jsx("hr",{}),f.jsx("h3",{children:"Connected devices permissions:"}),l.map(u=>{const d=Ze.getPermission(u.id);return f.jsx(o1e,{...r(`mic-${u.id}`,()=>Ze.setPermission(u.id,ma(j2,d)),"Change permissions"),"data-test":"remote-mic-entry","data-id":u.id,value:d,label:f.jsxs(s1e,{children:[f.jsx(l1e,{children:u.id.slice(-4)}),f.jsx(c1e,{children:f.jsx(i1e,{deviceId:u.id})}),f.jsx(a1e,{className:"ph-no-capture",children:u.name})]})},u.id)}),l.length===0&&f.jsx("h4",{children:"No remote microphones connected"}),f.jsx("hr",{}),f.jsx(Pe,{...r("back-button",n),children:"Return To Settings"})]})}const i1e=({deviceId:e})=>{const t=YN(e);return t===null?null:f.jsxs(f.Fragment,{children:[t,"ms"]})},s1e=C("span",{target:"expzhs34"})({name:"50zrmy",styles:"text-transform:uppercase"}),o1e=C(li,{target:"expzhs33"})({name:"50zrmy",styles:"text-transform:uppercase"}),a1e=C("span",{target:"expzhs32"})(""),l1e=C("span",{target:"expzhs31"})({name:"1mrl9vb",styles:"font-size:1.5rem;padding-right:1rem"}),c1e=C("span",{target:"expzhs30"})({name:"13smbnv",styles:"font-size:1.5rem;padding-right:2rem;text-transform:none"}),bA=2500,u1e=()=>{const e=[0,...new Array(21).fill(0).map((n,r)=>Math.round(10*(1.2+Math.sin(r/2.5+1.5)))/10).map(n=>Math.round(n/28*bA)).reduce((n,r)=>[...n,(n.at(-1)??0)+r],[])],t=[{offset:"0%",color:Ie.eurovisionPink.text},{offset:"25%",color:Ie.eurovisionYellow.text},{offset:"50%",color:Ie.eurovisionPink.text},{offset:"75%",color:Ie.eurovisionOrange.text},{offset:"100%",color:Ie.eurovisionPink.text}];return f.jsxs("svg",{width:bA,height:bA,version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:[f.jsx("defs",{children:Array.from({length:21},(n,r)=>f.jsx("linearGradient",{id:`grad${r}`,x1:"0%",x2:"0%",y1:`${r*2}%`,y2:`${r*2+100}%`,spreadMethod:"repeat",children:t.map((i,s)=>f.jsx("stop",{offset:i.offset,stopColor:i.color},s))},r))}),Array.from({length:22},(n,r)=>f.jsx("rect",{x:e[r],y:"0",width:(e[r+1]??501)-e[r]+10,height:"100%",fill:`url(#grad${r})`},r))]})},d1e=`<?xml version="1.0" encoding="utf-8"?>
<svg viewBox="0 0 500 500" xmlns="http://www.w3.org/2000/svg">
  <g style="" transform="matrix(1.071942, 0, 0, 1.071942, 1.835104, 30.483427)">
    <path xmlns="http://www.w3.org/2000/svg" d="M 106.909 108.923 C 93.513 122.319 85.385 140.039 83.629 158.623 C 65.934 156.191 48.056 147.884 33.558 133.384 C 2.037 101.864 -1.61 54.425 25.407 27.42 C 52.402 0.403 99.839 4.05 131.36 35.571 C 145.859 50.07 154.167 67.957 156.598 85.654 C 138.025 87.387 120.305 95.527 106.909 108.923 Z M 277.592 279.606 C 284.12 273.076 293.486 270.217 302.56 271.951 L 335.161 304.574 C 344.167 313.579 344.167 328.169 335.161 337.175 C 326.155 346.181 311.566 346.181 302.56 337.175 L 269.937 304.574 C 268.203 295.502 271.062 286.135 277.592 279.606 Z M 172.111 108.923 C 154.167 106.357 136.043 112.402 123.209 125.224 C 110.377 138.057 104.342 156.181 106.909 174.137 L 258.318 295.253 C 259.219 286.383 262.957 277.94 269.441 271.455 C 275.925 264.971 284.368 261.234 293.239 260.333 L 172.111 108.923 Z" style="stroke: rgb(0, 0, 0); fill: rgb(255, 54, 54); stroke-width: 9.32886px; stroke-linejoin: round;"/>
    <path xmlns="http://www.w3.org/2000/svg" d="M 218.755 301.518 C 205.359 288.122 197.231 270.402 195.475 251.818 C 177.78 254.25 159.902 262.557 145.404 277.057 C 113.883 308.577 110.236 356.016 137.253 383.021 C 164.248 410.038 211.685 406.391 243.206 374.87 C 257.705 360.371 266.013 342.484 268.444 324.787 C 249.871 323.054 232.151 314.914 218.755 301.518 Z M 389.438 130.835 C 395.966 137.365 405.332 140.224 414.406 138.49 L 447.007 105.867 C 456.013 96.862 456.013 82.272 447.007 73.266 C 438.001 64.26 423.412 64.26 414.406 73.266 L 381.783 105.867 C 380.049 114.939 382.908 124.306 389.438 130.835 Z M 283.957 301.518 C 266.013 304.084 247.889 298.039 235.055 285.217 C 222.223 272.384 216.188 254.26 218.755 236.304 L 370.164 115.188 C 371.065 124.058 374.803 132.501 381.287 138.986 C 387.771 145.47 396.214 149.207 405.085 150.108 L 283.957 301.518 Z" style="fill: rgb(4, 153, 255); stroke: rgb(0, 0, 0); stroke-width: 9.32886px; stroke-linejoin: round;" transform="matrix(-1, 0, 0, -1, 572.91568, 467.631317)"/>
  </g>
</svg>`;function f1e(){return ka(!1),f.jsxs(Do,{children:[f.jsxs(h1e,{children:[f.jsx(p1e,{dangerouslySetInnerHTML:{__html:d1e}}),f.jsx(TB,{children:f.jsx(N1,{})})]}),f.jsxs(m1e,{children:[f.jsx(g1e,{children:f.jsx(N1,{})}),f.jsx(Uw,{}),f.jsx(v1e,{src:FN,alt:"Eurovision"})]}),f.jsx(u1e,{})]})}const h1e=C("div",{target:"e1bt4f566"})({name:"yc537h",styles:"width:400px;aspect-ratio:1/1;position:relative;padding:30px"}),TB=C("div",{target:"e1bt4f565"})(`display:flex;position:absolute;inset:0;z-index:-1;div{background-image:linear-gradient(
      0deg,
      `,Ie.eurovisionViolet.text,`,
      `,Ie.eurovisionBlue.text,`,
      `,Ie.eurovisionYellow.text,`,
      `,Ie.eurovisionBlue.text,`,
      `,Ie.eurovisionViolet.text,`
    );}`),p1e=C("svg",{target:"e1bt4f564"})("width:400px;aspect-ratio:1/1;object-fit:contain;filter:drop-shadow(0 0 10px rgb(0 0 0 / 0.6));path:nth-of-type(1){fill:",Ie.red.text,"!important;}path:nth-of-type(2){fill:",Ie.blue.text,"!important;}"),g1e=C(TB,{target:"e1bt4f563"})(`div{background-image:linear-gradient(
      0deg,
      `,Ie.eurovisionPink.text,`,
      `,Ie.eurovisionOrange.text,`,
      `,Ie.eurovisionYellow.text,`,
      `,Ie.eurovisionPink.text,`
    );}`),m1e=C("div",{target:"e1bt4f562"})(`overflow:hidden;position:relative;height:calc(693px / 1);width:calc(2048px / 1);transform:scale(1);background-color:black;background-image:linear-gradient(
    120deg,
    `,Ie.red.stroke,`,
    `,Ie.red.hit.fill,` 49.9%,
    `,Ie.blue.hit.fill,` 50.1%,
    `,Ie.blue.stroke,`
  );display:flex;align-items:center;justify-content:center;div{}`),v1e=C("img",{target:"e1bt4f561"})({name:"1go3sm",styles:"margin-left:4rem;transform:scale(1.5)"}),y1e=(e,t)=>`
<iframe src="https://www.facebook.com/plugins/page.php?href=https%3A%2F%2Fwww.facebook.com%2Fallkaraoke.party&${Object.entries({show_posts:!0,width:e,height:t,small_header:!0,adapt_container_width:!0,hide_cover:!1,show_facepile:!1,appId:530120230391395}).map(([i,s])=>`${i}=${String(s)}`).join("&")}" width="${e}" height="${t}" style="border:none;overflow:hidden" scrolling="no" frameborder="0" allowfullscreen="true" allow="autoplay; clipboard-write; encrypted-media; picture-in-picture; web-share"></iframe>
`;function A1e(){const[e]=Fe(pr),[t,n]=y.useState(!1),[r,i]=y.useState(200),s=y.useCallback(o=>{i(Math.round(o==null?void 0:o.getBoundingClientRect().width)??200)},[]);return y.useEffect(()=>{const o=setTimeout(()=>{n(!0)},750);return()=>{clearTimeout(o)}},[]),f.jsxs(_1e,{"data-small":!!e,show:t,children:[f.jsx("div",{dangerouslySetInnerHTML:{__html:y1e(350,750)},style:{height:750*(r/350),width:"100%",transformOrigin:"left top",transform:`scale(${r/350})`}}),f.jsx("h5",{ref:s,children:"Get updates, and help by suggesting features and reporting bugs."})]})}const _1e=C(ns,{target:"e1zzmv40"})("transition:1000ms;opacity:",e=>e.show?1:0,";position:absolute;top:2rem;right:10rem;width:37rem;margin:0;text-decoration:none;text-align:justify;&[data-small='true'] &{width:25rem;right:1rem;h2{font-size:1.5rem;}h5{font-size:1.15rem;}}view-transition-name:fb-notification;");function b1e(){const[e]=Fe(Ub);ka(!0);const t=Zr();Ra(!1);const{register:n}=zn();return f.jsxs(Pa,{children:[f.jsxs(Ai,{children:[f.jsx("title",{children:"Main Menu | AllKaraoke.Party - Free Online Karaoke Party Game"}),f.jsx("link",{rel:"preload",href:"/songs/index.json",as:"fetch",type:"application/json",crossOrigin:"anonymous"}),f.jsx("link",{rel:"preload",href:"/mostPopularSongs.json",as:"fetch",type:"application/json",crossOrigin:"anonymous"})]}),e!=="Classic"&&f.jsxs(S1e,{children:[f.jsxs("span",{children:["Bpm data and release year provided by"," ",f.jsx("a",{target:"_blank",href:"https://getsongbpm.com/",rel:"noreferrer",children:"GetSongBPM"})]}),f.jsx("span",{children:"Song: Funk Cool Groove (Music Today 80)"}),f.jsx("span",{children:" Composed & Produced by : Anwar Amr"}),f.jsxs("span",{children:[" Video Link:"," ",f.jsx("a",{href:"https://youtu.be/FGzzBbYRjFY",target:"_blank",rel:"noreferrer",children:"https://youtu.be/FGzzBbYRjFY"})]})]}),f.jsx(A1e,{}),f.jsxs(f.Fragment,{children:[f.jsx(Or,{to:"game/",children:f.jsx(Pe,{...n("sing-a-song",()=>t("game/")),children:"Sing a song"})}),f.jsx(Or,{to:"select-input/",children:f.jsx(Pe,{...n("select-input",()=>t("select-input/")),children:"Setup Microphones"})}),f.jsx(Or,{to:"settings/",children:f.jsx(Pe,{...n("settings",()=>t("settings/")),children:"Settings"})}),f.jsx(Or,{to:"jukebox/",children:f.jsx(Pe,{...n("jukebox",()=>t("jukebox/")),children:"Jukebox"})}),f.jsx(Or,{to:"manage-songs/",children:f.jsx(Pe,{...n("manage-songs",()=>t("manage-songs/")),children:"Manage Songs"})})]})]})}const S1e=C("div",{target:"e1g7uwpd0"})($e,";text-decoration:none;flex-direction:column;display:flex;font-size:1.5rem;gap:1.25rem;opacity:0.85;position:absolute;bottom:4rem;left:1rem;view-transition-name:background-music-credit;"),Fr={INDEX:"",QUICK_SETUP:"quick-setup",GAME:"game",MENU:"menu",JUKEBOX:"jukebox",SELECT_INPUT:"select-input",SETTINGS:"settings",SETTINGS_REMOTE_MICS:"settings/remote-mics",REMOTE_MIC:"remote-mic",MANAGE_SONGS:"manage-songs",EXCLUDE_LANGUAGES:"exclude-languages",CONVERT:"convert",EDIT_SONGS_LIST:"edit/list",EDIT_SONG:"edit/song"},x1e=y.lazy(()=>ku(()=>import("./SongManagement-BRb9OUPB.js"),[]).then(e=>({default:e.SongList})));function w1e(){Fe(pr);const[e]=Fe($i),t=y.useMemo(()=>jO({graphicSetting:e}),[e]);return f.jsx(zue,{theme:t,children:f.jsx(hS,{fallback:Age,children:f.jsx(AX,{children:f.jsx(dX,{children:f.jsx(Hoe,{base:"/prs/284/",children:f.jsxs(Goe,{children:[f.jsx(yr,{path:Fr.QUICK_SETUP,component:n1e}),f.jsx(yr,{path:Fr.MENU,component:b1e}),f.jsx(yr,{path:Fr.EXCLUDE_LANGUAGES,component:xge}),f.jsx(yr,{path:Fr.JUKEBOX,component:wpe}),f.jsx(yr,{path:Fr.GAME,children:f.jsx(CAe,{})}),f.jsx(yr,{path:Fr.SELECT_INPUT,component:yge}),f.jsx(yr,{path:Fr.SETTINGS,component:Qfe}),f.jsx(yr,{path:Fr.SETTINGS_REMOTE_MICS,component:r1e}),f.jsx(yr,{path:Fr.REMOTE_MIC,component:rfe}),f.jsx(yr,{path:Fr.MANAGE_SONGS,component:WAe}),f.jsx(yr,{path:"social-media-elements",component:f1e}),f.jsx(yr,{path:Fr.CONVERT,component:()=>f.jsx(gN,{})}),f.jsx(yr,{path:Fr.EDIT_SONGS_LIST,component:()=>f.jsx(y.Suspense,{fallback:f.jsx(pN,{}),children:f.jsx(x1e,{})})}),f.jsx(yr,{path:"edit/get-songs-bpms",component:Sge}),f.jsx(yr,{path:Fr.EDIT_SONG,children:f.jsx(mhe,{})}),f.jsx(yr,{path:Fr.INDEX,component:DAe})]})})})})})})}const E1e=oH(w1e),k1e=["AbortError: Version change transaction was aborted in upgradeneeded event handler.","The object can not be found here.","Document is hidden.","Failed to register a ServiceWorker for scope ('https://allkaraoke.party/') with script","NotAllowedError: Permission denied by system","ResizeObserver loop limit exceeded","ResizeObserver loop completed with undelivered notifications.","NotAllowedError: Document is not focused.","Error: Socket was destroyed!",/TypeError: Failed to fetch/,"top.GLOBALS","originalCreateNotification","canvas.contentDocument","MyApp_RemoveAllHighlights","http://tt.epicplay.com","Can't find variable: ZiteReader","jigsaw is not defined","ComboSearch is not defined","http://loading.retry.widdit.com/","atomicFindClose","fb_xd_fragment","bmi_SafeAddOnload","EBCallBackMessageReceived","conduitPage"];var IB,AR=Lu;IB=AR.createRoot,AR.hydrateRoot;NU({integrations:[jU({enableInp:!0})],dsn:"https://66c6e940d24b4096a277f350571921bb@o366978.ingest.sentry.io/6174734",ignoreErrors:k1e,tracesSampleRate:ks()?0:.01,environment:ks()?"e2e":"production",tunnel:"https://backend.allkaraoke.party/sentry"});ks()||Vn.init("phc_bw7XLoONmtGVezmMKTvcwk3lj37jzxTfisqzjlJ0Jik",{api_host:"https://backend.allkaraoke.party/posthog",loaded:e=>{let t=Oe.local.getItem("posthog-user-id");t||(t=Ug(),Oe.local.setItem("posthog-user-id",t)),e.identify(t);let n=Oe.local.getItem("posthog-user-name");if(!n){const r=[...new Set(Cd.artists.flatMap(i=>$j(i).split("-")))].filter(i=>i.length<=10);n=new Array(Ws(3,5)).fill(0).map(()=>r[Ws(0,r.length-1)]).join("-"),Oe.local.setItem("posthog-user-name",n),e.alias(n,t)}hz({id:t})}});const C1e=MS({key:"ec",speedy:!bN}),T1e=document.getElementById("root"),I1e=IB(T1e);I1e.render(f.jsxs(b3,{value:C1e,children:[f.jsx(E1e,{}),f.jsx(k1,{position:Vt.POSITION.BOTTOM_LEFT,theme:"colored"})]}));export{Lu as $,H1 as A,Bte as B,B1 as C,Pu as D,Lo as E,lT as F,SZ as G,Ru as H,Gte as I,Zn as J,qee as K,Kee as L,iw as M,jO as N,hO as O,Qe as P,Uie as Q,B1e as R,no as S,bI as T,$te as U,G1 as V,qX as W,fZ as X,cO as Y,uO as Z,ine as _,kr as a,Kw as a$,WX as a0,yd as a1,UX as a2,XX as a3,pO as a4,fO as a5,HX as a6,QX as a7,Sl as a8,nZ as a9,V1e as aA,hv as aB,Vn as aC,to as aD,ka as aE,Zr as aF,Ra as aG,w0 as aH,_Z as aI,TX as aJ,mw as aK,ut as aL,ot as aM,Rte as aN,pie as aO,yie as aP,Ea as aQ,mi as aR,Que as aS,$1e as aT,D1e as aU,qae as aV,rL as aW,nL as aX,Em as aY,ms as aZ,Ai as a_,F1e as aa,Dte as ab,kZ as ac,V0 as ad,C as ae,pv as af,Zk as ag,$s as ah,Rt as ai,Ne as aj,kW as ak,kh as al,zc as am,Zp as an,EG as ao,Aa as ap,gf as aq,yN as ar,fhe as as,che as at,ahe as au,phe as av,jr as aw,Cu as ax,Pye as ay,pq as az,Te as b,Rq as c,Ve as d,EO as e,xZ as f,bS as g,ix as h,kee as i,f as j,Rr as k,wZ as l,Ko as m,$1 as n,dO as o,Co as p,N1e as q,y as r,Oe as s,_O as t,mie as u,bs as v,L1e as w,dh as x,Iu as y,ph as z};
//# sourceMappingURL=index-CWRflXQL.js.map
