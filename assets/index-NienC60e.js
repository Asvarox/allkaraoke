function IM(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Qo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function hr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function no(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var RM={exports:{}},Mm={},MM={exports:{}},st={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kf=Symbol.for("react.element"),IB=Symbol.for("react.portal"),RB=Symbol.for("react.fragment"),MB=Symbol.for("react.strict_mode"),PB=Symbol.for("react.profiler"),jB=Symbol.for("react.provider"),OB=Symbol.for("react.context"),VB=Symbol.for("react.forward_ref"),LB=Symbol.for("react.suspense"),NB=Symbol.for("react.memo"),BB=Symbol.for("react.lazy"),gE=Symbol.iterator;function DB(e){return e===null||typeof e!="object"?null:(e=gE&&e[gE]||e["@@iterator"],typeof e=="function"?e:null)}var PM={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},jM=Object.assign,OM={};function hu(e,t,n){this.props=e,this.context=t,this.refs=OM,this.updater=n||PM}hu.prototype.isReactComponent={};hu.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};hu.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function VM(){}VM.prototype=hu.prototype;function pb(e,t,n){this.props=e,this.context=t,this.refs=OM,this.updater=n||PM}var gb=pb.prototype=new VM;gb.constructor=pb;jM(gb,hu.prototype);gb.isPureReactComponent=!0;var mE=Array.isArray,LM=Object.prototype.hasOwnProperty,mb={current:null},NM={key:!0,ref:!0,__self:!0,__source:!0};function BM(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)LM.call(t,r)&&!NM.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Kf,type:e,key:s,ref:o,props:i,_owner:mb.current}}function $B(e,t){return{$$typeof:Kf,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function vb(e){return typeof e=="object"&&e!==null&&e.$$typeof===Kf}function FB(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var vE=/\/+/g;function Tv(e,t){return typeof e=="object"&&e!==null&&e.key!=null?FB(""+e.key):t.toString(36)}function Mp(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Kf:case IB:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+Tv(o,0):r,mE(i)?(n="",e!=null&&(n=e.replace(vE,"$&/")+"/"),Mp(i,t,n,"",function(c){return c})):i!=null&&(vb(i)&&(i=$B(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(vE,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",mE(e))for(var a=0;a<e.length;a++){s=e[a];var l=r+Tv(s,a);o+=Mp(s,t,n,l,i)}else if(l=DB(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=r+Tv(s,a++),o+=Mp(s,t,n,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Mh(e,t,n){if(e==null)return e;var r=[],i=0;return Mp(e,r,"","",function(s){return t.call(n,s,i++)}),r}function zB(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Lr={current:null},Pp={transition:null},UB={ReactCurrentDispatcher:Lr,ReactCurrentBatchConfig:Pp,ReactCurrentOwner:mb};st.Children={map:Mh,forEach:function(e,t,n){Mh(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Mh(e,function(){t++}),t},toArray:function(e){return Mh(e,function(t){return t})||[]},only:function(e){if(!vb(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};st.Component=hu;st.Fragment=RB;st.Profiler=PB;st.PureComponent=pb;st.StrictMode=MB;st.Suspense=LB;st.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=UB;st.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=jM({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=mb.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)LM.call(t,l)&&!NM.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Kf,type:e.type,key:i,ref:s,props:r,_owner:o}};st.createContext=function(e){return e={$$typeof:OB,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:jB,_context:e},e.Consumer=e};st.createElement=BM;st.createFactory=function(e){var t=BM.bind(null,e);return t.type=e,t};st.createRef=function(){return{current:null}};st.forwardRef=function(e){return{$$typeof:VB,render:e}};st.isValidElement=vb;st.lazy=function(e){return{$$typeof:BB,_payload:{_status:-1,_result:e},_init:zB}};st.memo=function(e,t){return{$$typeof:NB,type:e,compare:t===void 0?null:t}};st.startTransition=function(e){var t=Pp.transition;Pp.transition={};try{e()}finally{Pp.transition=t}};st.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};st.useCallback=function(e,t){return Lr.current.useCallback(e,t)};st.useContext=function(e){return Lr.current.useContext(e)};st.useDebugValue=function(){};st.useDeferredValue=function(e){return Lr.current.useDeferredValue(e)};st.useEffect=function(e,t){return Lr.current.useEffect(e,t)};st.useId=function(){return Lr.current.useId()};st.useImperativeHandle=function(e,t,n){return Lr.current.useImperativeHandle(e,t,n)};st.useInsertionEffect=function(e,t){return Lr.current.useInsertionEffect(e,t)};st.useLayoutEffect=function(e,t){return Lr.current.useLayoutEffect(e,t)};st.useMemo=function(e,t){return Lr.current.useMemo(e,t)};st.useReducer=function(e,t,n){return Lr.current.useReducer(e,t,n)};st.useRef=function(e){return Lr.current.useRef(e)};st.useState=function(e){return Lr.current.useState(e)};st.useSyncExternalStore=function(e,t,n){return Lr.current.useSyncExternalStore(e,t,n)};st.useTransition=function(){return Lr.current.useTransition()};st.version="18.2.0";MM.exports=st;var A=MM.exports;const Te=hr(A),pg=IM({__proto__:null,default:Te},[A]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HB=A,GB=Symbol.for("react.element"),qB=Symbol.for("react.fragment"),WB=Object.prototype.hasOwnProperty,KB=HB.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,YB={key:!0,ref:!0,__self:!0,__source:!0};function DM(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)WB.call(t,r)&&!YB.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:GB,type:e,key:s,ref:o,props:i,_owner:KB.current}}Mm.Fragment=qB;Mm.jsx=DM;Mm.jsxs=DM;RM.exports=Mm;var f=RM.exports;class Mo{constructor(){this.listeners=[],this.onUpdate=(...t)=>{this.listeners.forEach(n=>n(...t))},this.addListener=t=>(this.listeners.push(t),()=>{this.removeListener(t)}),this.removeListener=t=>{this.listeners=this.listeners.filter(n=>n!==t)},this.clearAllListeners=()=>{console.log("clearing all listeners"),this.listeners=[]}}}const vA=e=>({setItem:(t,n)=>{e.setItem(t,JSON.stringify(n))},getItem:t=>{const n=e.getItem(t);if(n===null)return null;try{return JSON.parse(n)}catch{return n}},removeItem:t=>{e.removeItem(t)},clear:()=>{e.clear()},keys:()=>{const t=[];for(let n=0,r=e.length;n<r;++n)t.push(e.key(n));return t}});class yA{constructor(){this.store={}}setItem(t,n){this.store[t]=n}getItem(t){const n=this.store[t];return n===void 0?null:n}removeItem(t){delete this.store[t]}get length(){return Object.keys(this.store).length}keys(){return Object.keys(this.store)}key(t){return Object.keys(this.store)[t]}clear(){this.store={}}}const yE=vA((global==null?void 0:global.localStorage)??new yA),je={...yE,local:yE,session:vA((global==null?void 0:global.sessionStorage)??new yA),memory:vA(new yA)},AA="CAMERA_GRANT_KEY",AE=je.local.getItem(AA);class QB extends Mo{constructor(){super(),this.stream=null,this.recorder=null,this.videoData=[],this.permissionGranted=AE!==null?JSON.parse(AE):null,this.requestPermissions=async()=>{try{this.stream=await navigator.mediaDevices.getUserMedia({video:!0}),this.permissionGranted=!0,await this.stopRecord()}catch{this.permissionGranted=!1}return je.local.setItem(AA,JSON.stringify(this.permissionGranted)),this.onUpdate(this.permissionGranted),this.permissionGranted},this.disable=()=>{this.permissionGranted=!1,je.local.setItem(AA,JSON.stringify(this.permissionGranted)),this.onUpdate(this.permissionGranted)},this.startRecord=async()=>{if(this.permissionGranted)try{this.stream=await navigator.mediaDevices.getUserMedia({video:{frameRate:2}});const t=this.stream.getVideoTracks()[0].getSettings();this.video.width=t.width??this.video.width,this.video.height=t.height??this.video.height,this.canvas.width=this.video.width,this.canvas.height=this.video.height,this.video.srcObject=this.stream,await this.video.play(),this.recorder=new MediaRecorder(this.stream,{mimeType:"video/webm"}),this.recorder.ondataavailable=n=>{this.videoData.push(n.data)},this.recorder.start()}catch(t){console.warn(t)}},this.getVideo=()=>{const t=new Blob(this.videoData,{type:"video/webm"});return URL.createObjectURL(t)},this.stopRecord=async()=>{var t,n;this.permissionGranted&&((t=this.recorder)==null||t.stop(),(n=this.stream)==null||n.getTracks().forEach(r=>r.stop()))},this.clearData=()=>{this.videoData.length=0},this.restartRecord=async()=>{await this.stopRecord(),await this.clearData(),await this.startRecord()},this.getPermissionStatus=()=>this.permissionGranted,this.video=document.createElement("video"),this.video.width=480,this.video.height=this.video.width*(9/16),this.canvas=document.createElement("canvas"),this.canvas.width=this.video.width,this.canvas.height=this.video.height}}const fs=new QB;function _E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ce(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_E(Object(n),!0).forEach(function(r){re(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_E(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Qd(e){return Qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qd(e)}function Gt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qt(e,t,n){return t&&bE(e.prototype,t),n&&bE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function re(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JB(e,t){if(e==null)return{};var n,r,i=function(o,a){if(o==null)return{};var l,c,u={},d=Object.keys(o);for(c=0;c<d.length;c++)l=d[c],a.indexOf(l)>=0||(u[l]=o[l]);return u}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Rr(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var s,o,a=[],l=!0,c=!1;try{for(i=i.call(n);!(l=(s=i.next()).done)&&(a.push(s.value),!r||a.length!==r);l=!0);}catch(u){c=!0,o=u}finally{try{l||i.return==null||i.return()}finally{if(c)throw o}}return a}}(e,t)||yb(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function zc(e){return function(t){if(Array.isArray(t))return _A(t)}(e)||function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(e)||yb(e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function yb(e,t){if(e){if(typeof e=="string")return _A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_A(e,t):void 0}}function _A(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xs(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=yb(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(l){throw l},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,o=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var l=n.next();return o=l.done,l},e:function(l){a=!0,s=l},f:function(){try{o||n.return==null||n.return()}finally{if(a)throw s}}}}var Ka={DEBUG:!1,LIB_VERSION:"1.130.0"},XB=Array.isArray,$M=Object.prototype,FM=$M.hasOwnProperty,Pm=$M.toString,Bn=XB||function(e){return Pm.call(e)==="[object Array]"},vs=function(e){return typeof e=="function"},Fs=function(e){return e===Object(e)&&!Bn(e)},Iv=function(e){if(Fs(e)){for(var t in e)if(FM.call(e,t))return!1;return!0}return!1},We=function(e){return e===void 0},br=function(e){return Pm.call(e)=="[object String]"},ys=function(e){return e===null},ia=function(e){return We(e)||ys(e)},cs=function(e){return Pm.call(e)=="[object Number]"},jp=function(e){return Pm.call(e)==="[object Boolean]"},ZB=function(e){return e instanceof FormData},X=typeof window<"u"?window:void 0,Ur=typeof globalThis<"u"?globalThis:X,zM=Array.prototype,SE=zM.forEach,xE=zM.indexOf,Jd=Ur==null?void 0:Ur.navigator,we=Ur==null?void 0:Ur.document,ji=Ur==null?void 0:Ur.location,Ab=Ur==null?void 0:Ur.fetch,_b=Ur!=null&&Ur.XMLHttpRequest&&"withCredentials"in new Ur.XMLHttpRequest?Ur.XMLHttpRequest:void 0,wE=Ur==null?void 0:Ur.AbortController,_n=Jd==null?void 0:Jd.userAgent,si=X??{},EE="[PostHog.js]",ge={_log:function(e){if(X&&(Ka.DEBUG||si.POSTHOG_DEBUG)&&!We(X.console)&&X.console){for(var t=("__rrweb_original__"in X.console[e])?X.console[e].__rrweb_original__:X.console[e],n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t.apply(void 0,[EE].concat(r))}},info:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];ge._log.apply(ge,["log"].concat(t))},warn:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];ge._log.apply(ge,["warn"].concat(t))},error:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];ge._log.apply(ge,["error"].concat(t))},critical:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=console).error.apply(e,[EE].concat(n))},uninitializedWarning:function(e){ge.error("You must initialize PostHog before calling ".concat(e))}},gg={},jm=function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")};function Sc(e,t,n){if(Bn(e)){if(SE&&e.forEach===SE)e.forEach(t,n);else if("length"in e&&e.length===+e.length){for(var r=0,i=e.length;r<i;r++)if(r in e&&t.call(n,e[r],r)===gg)return}}}function Dt(e,t,n){if(!ia(e)){if(Bn(e))return Sc(e,t,n);if(ZB(e)){var r,i=xs(e.entries());try{for(i.s();!(r=i.n()).done;){var s=r.value;if(t.call(n,s[1],s[0])===gg)return}}catch(a){i.e(a)}finally{i.f()}}else for(var o in e)if(FM.call(e,o)&&t.call(n,e[o],o)===gg)return}}var Kn=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Sc(n,function(i){for(var s in i)i[s]!==void 0&&(e[s]=i[s])}),e};function ft(e,t){return e.indexOf(t)!==-1}function Op(e){for(var t=Object.keys(e),n=t.length,r=new Array(n);n--;)r[n]=[t[n],e[t[n]]];return r}var UM=function(){return Date.now=Date.now||function(){return+new Date},Date.now()},kE=function(e){try{return e()}catch{return}},eD=function(e){return function(){try{for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(this,n)}catch(i){ge.critical("Implementation error. Please turn on debug mode and open a ticket on https://app.posthog.com/home#panel=support%3Asupport%3A."),ge.critical(i)}}},bA=function(e){var t={};return Dt(e,function(n,r){br(n)&&n.length>0&&(t[r]=n)}),t};function tD(e,t){return n=e,r=function(s){return br(s)&&!ys(t)?s.slice(0,t):s},i=new Set,function s(o,a){return o!==Object(o)?r?r(o,a):o:i.has(o)?void 0:(i.add(o),Bn(o)?(l=[],Sc(o,function(c){l.push(s(c))})):(l={},Dt(o,function(c,u){i.has(c)||(l[u]=s(c,u))})),l);var l}(n);var n,r,i}var ds,nD=function(e){var t,n,r,i,s="";for(t=n=0,r=(e=(e+"").replace(/\r\n/g,`
`).replace(/\r/g,`
`)).length,i=0;i<r;i++){var o=e.charCodeAt(i),a=null;o<128?n++:a=o>127&&o<2048?String.fromCharCode(o>>6|192,63&o|128):String.fromCharCode(o>>12|224,o>>6&63|128,63&o|128),ys(a)||(n>t&&(s+=e.substring(t,n)),s+=a,t=n=i+1)}return n>t&&(s+=e.substring(t,e.length)),s},fo=function(){function e(t){return t&&(t.preventDefault=e.preventDefault,t.stopPropagation=e.stopPropagation),t}return e.preventDefault=function(){this.returnValue=!1},e.stopPropagation=function(){this.cancelBubble=!0},function(t,n,r,i,s){if(t)if(t.addEventListener&&!i)t.addEventListener(n,r,!!s);else{var o="on"+n,a=t[o];t[o]=function(l,c,u){return function(d){if(d=d||e(X==null?void 0:X.event)){var h,p=!0;vs(u)&&(h=u(d));var g=c.call(l,d);return h!==!1&&g!==!1||(p=!1),p}}}(t,r,a)}else ge.error("No valid element provided to register_event")}}();function Xd(e,t){var n=function(){if(!we)return t("document not found");var r=we.createElement("script");r.type="text/javascript",r.src=e,r.onload=function(o){return t(void 0,o)},r.onerror=function(o){return t(o)};var i,s=we.querySelectorAll("body > script");s.length>0?(i=s[0].parentNode)===null||i===void 0||i.insertBefore(r,s[0]):we.body.appendChild(r)};we!=null&&we.body?n():we==null||we.addEventListener("DOMContentLoaded",n)}(function(e){e.GZipJS="gzip-js",e.Base64="base64"})(ds||(ds={}));var HM="$people_distinct_id",cd="__alias",ud="__timers",CE="$autocapture_disabled_server_side",SA="$heatmaps_enabled_server_side",xA="$session_recording_enabled_server_side",TE="$console_log_recording_enabled_server_side",IE="$session_recording_network_payload_capture",RE="$session_recording_canvas_recording",ME="$replay_sample_rate",PE="$replay_minimum_duration",mg="$sesid",Ed="$session_is_sampled",rc="$enabled_feature_flags",wA="$early_access_features",ic="$stored_person_properties",zo="$stored_group_properties",EA="$surveys",vg="$flag_call_reported",oo="$user_state",kA="$client_session_props",CA="$capture_rate_limit",TA="$initial_campaign_params",IA="$initial_referrer_info",yg="$epp",rD=[HM,cd,"__cmpns",ud,xA,SA,mg,rc,oo,wA,zo,ic,EA,vg,kA,CA,TA,IA,yg],Rv="$active_feature_flags",Ph="$override_feature_flags",jE="$feature_flag_payloads",OE=function(e){var t,n={},r=xs(Op(e||{}));try{for(r.s();!(t=r.n()).done;){var i=Rr(t.value,2),s=i[0],o=i[1];o&&(n[s]=o)}}catch(a){r.e(a)}finally{r.f()}return n},iD=function(){function e(t){Gt(this,e),this.instance=t,this._override_warning=!1,this.featureFlagEventHandlers=[],this.reloadFeatureFlagsQueued=!1,this.reloadFeatureFlagsInAction=!1}return qt(e,[{key:"getFlags",value:function(){return Object.keys(this.getFlagVariants())}},{key:"getFlagVariants",value:function(){var t=this.instance.get_property(rc),n=this.instance.get_property(Ph);if(!n)return t||{};for(var r=Kn({},t),i=Object.keys(n),s=0;s<i.length;s++)r[i[s]]=n[i[s]];return this._override_warning||(ge.warn(" Overriding feature flags!",{enabledFlags:t,overriddenFlags:n,finalFlags:r}),this._override_warning=!0),r}},{key:"getFlagPayloads",value:function(){return this.instance.get_property(jE)||{}}},{key:"reloadFeatureFlags",value:function(){this.reloadFeatureFlagsQueued||(this.reloadFeatureFlagsQueued=!0,this._startReloadTimer())}},{key:"setAnonymousDistinctId",value:function(t){this.$anon_distinct_id=t}},{key:"setReloadingPaused",value:function(t){this.reloadFeatureFlagsInAction=t}},{key:"resetRequestQueue",value:function(){this.reloadFeatureFlagsQueued=!1}},{key:"_startReloadTimer",value:function(){var t=this;this.reloadFeatureFlagsQueued&&!this.reloadFeatureFlagsInAction&&setTimeout(function(){!t.reloadFeatureFlagsInAction&&t.reloadFeatureFlagsQueued&&(t.reloadFeatureFlagsQueued=!1,t._reloadFeatureFlagsRequest())},5)}},{key:"_reloadFeatureFlagsRequest",value:function(){var t=this;if(!this.instance.config.advanced_disable_feature_flags){this.setReloadingPaused(!0);var n=this.instance.config.token,r=this.instance.get_property(ic),i=this.instance.get_property(zo),s={token:n,distinct_id:this.instance.get_distinct_id(),groups:this.instance.getGroups(),$anon_distinct_id:this.$anon_distinct_id,person_properties:r,group_properties:i,disable_flags:this.instance.config.advanced_disable_feature_flags||void 0};this.instance._send_request({method:"POST",url:this.instance.requestRouter.endpointFor("api","/decide/?v=3"),data:s,compression:this.instance.config.disable_compression?void 0:ds.Base64,timeout:this.instance.config.feature_flag_request_timeout_ms,callback:function(o){var a;t.setReloadingPaused(!1);var l=!0;o.statusCode===200&&(t.$anon_distinct_id=void 0,l=!1),t.receivedFeatureFlags((a=o.json)!==null&&a!==void 0?a:{},l),t._startReloadTimer()}})}}},{key:"getFeatureFlag",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.instance.decideEndpointWasHit||this.getFlags()&&this.getFlags().length>0){var r,i=this.getFlagVariants()[t],s="".concat(i),o=this.instance.get_property(vg)||{};return(n.send_event||!("send_event"in n))&&(!(t in o)||!o[t].includes(s))&&(Bn(o[t])?o[t].push(s):o[t]=[s],(r=this.instance.persistence)===null||r===void 0||r.register(re({},vg,o)),this.instance.capture("$feature_flag_called",{$feature_flag:t,$feature_flag_response:i})),i}ge.warn('getFeatureFlag for key "'+t+`" failed. Feature flags didn't load in time.`)}},{key:"getFeatureFlagPayload",value:function(t){return this.getFlagPayloads()[t]}},{key:"isFeatureEnabled",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.instance.decideEndpointWasHit||this.getFlags()&&this.getFlags().length>0)return!!this.getFeatureFlag(t,n);ge.warn('isFeatureEnabled for key "'+t+`" failed. Feature flags didn't load in time.`)}},{key:"addFeatureFlagsHandler",value:function(t){this.featureFlagEventHandlers.push(t)}},{key:"removeFeatureFlagsHandler",value:function(t){this.featureFlagEventHandlers=this.featureFlagEventHandlers.filter(function(n){return n!==t})}},{key:"receivedFeatureFlags",value:function(t,n){if(this.instance.persistence){this.instance.decideEndpointWasHit=!0;var r=this.getFlagVariants(),i=this.getFlagPayloads();(function(s,o){var a,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},u=s.featureFlags,d=s.featureFlagPayloads;if(u)if(Bn(u)){var h,p={};if(u)for(var g=0;g<u.length;g++)p[u[g]]=!0;o&&o.register((re(h={},Rv,u),re(h,rc,p),h))}else{var m=u,_=d;s.errorsWhileComputingFlags&&(m=Ce(Ce({},l),m),_=Ce(Ce({},c),_)),o&&o.register((re(a={},Rv,Object.keys(OE(m))),re(a,rc,m||{}),re(a,jE,_||{}),a))}})(t,this.instance.persistence,r,i),this._fireFeatureFlagsCallbacks(n)}}},{key:"override",value:function(t){if(!this.instance.__loaded||!this.instance.persistence)return ge.uninitializedWarning("posthog.feature_flags.override");if(this._override_warning=!1,t===!1)this.instance.persistence.unregister(Ph);else if(Bn(t)){for(var n={},r=0;r<t.length;r++)n[t[r]]=!0;this.instance.persistence.register(re({},Ph,n))}else this.instance.persistence.register(re({},Ph,t))}},{key:"onFeatureFlags",value:function(t){var n=this;if(this.addFeatureFlagsHandler(t),this.instance.decideEndpointWasHit){var r=this._prepareFeatureFlagsForCallbacks(),i=r.flags,s=r.flagVariants;t(i,s)}return function(){return n.removeFeatureFlagsHandler(t)}}},{key:"updateEarlyAccessFeatureEnrollment",value:function(t,n){var r,i,s=re({},"$feature_enrollment/".concat(t),n);this.instance.capture("$feature_enrollment_update",{$feature_flag:t,$feature_enrollment:n,$set:s}),this.setPersonPropertiesForFlags(s,!1);var o=Ce(Ce({},this.getFlagVariants()),{},re({},t,n));(r=this.instance.persistence)===null||r===void 0||r.register((re(i={},Rv,Object.keys(OE(o))),re(i,rc,o),i)),this._fireFeatureFlagsCallbacks()}},{key:"getEarlyAccessFeatures",value:function(t){var n=this,r=arguments.length>1&&arguments[1]!==void 0&&arguments[1],i=this.instance.get_property(wA);if(i&&!r)return t(i);this.instance._send_request({transport:"XHR",url:this.instance.requestRouter.endpointFor("api","/api/early_access_features/?token=".concat(this.instance.config.token)),method:"GET",callback:function(s){var o;if(s.json){var a=s.json.earlyAccessFeatures;return(o=n.instance.persistence)===null||o===void 0||o.register(re({},wA,a)),t(a)}}})}},{key:"_prepareFeatureFlagsForCallbacks",value:function(){var t=this.getFlags(),n=this.getFlagVariants();return{flags:t.filter(function(r){return n[r]}),flagVariants:Object.keys(n).filter(function(r){return n[r]}).reduce(function(r,i){return r[i]=n[i],r},{})}}},{key:"_fireFeatureFlagsCallbacks",value:function(t){var n=this._prepareFeatureFlagsForCallbacks(),r=n.flags,i=n.flagVariants;this.featureFlagEventHandlers.forEach(function(s){return s(r,i,{errorsLoading:t})})}},{key:"setPersonPropertiesForFlags",value:function(t){var n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=this.instance.get_property(ic)||{};this.instance.register(re({},ic,Ce(Ce({},r),t))),n&&this.instance.reloadFeatureFlags()}},{key:"resetPersonPropertiesForFlags",value:function(){this.instance.unregister(ic)}},{key:"setGroupPropertiesForFlags",value:function(t){var n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=this.instance.get_property(zo)||{};Object.keys(r).length!==0&&Object.keys(r).forEach(function(i){r[i]=Ce(Ce({},r[i]),t[i]),delete t[i]}),this.instance.register(re({},zo,Ce(Ce({},r),t))),n&&this.instance.reloadFeatureFlags()}},{key:"resetGroupPropertiesForFlags",value:function(t){if(t){var n=this.instance.get_property(zo)||{};this.instance.register(re({},zo,Ce(Ce({},n),{},re({},t,{}))))}else this.instance.unregister(zo)}}]),e}();Math.trunc||(Math.trunc=function(e){return e<0?Math.ceil(e):Math.floor(e)}),Number.isInteger||(Number.isInteger=function(e){return cs(e)&&isFinite(e)&&Math.floor(e)===e});var VE="0123456789abcdef",sD=function(){function e(t){if(Gt(this,e),this.bytes=t,t.length!==16)throw new TypeError("not 128-bit length")}return qt(e,[{key:"toString",value:function(){for(var t="",n=0;n<this.bytes.length;n++)t=t+VE.charAt(this.bytes[n]>>>4)+VE.charAt(15&this.bytes[n]),n!==3&&n!==5&&n!==7&&n!==9||(t+="-");if(t.length!==36)throw new Error("Invalid UUIDv7 was generated");return t}},{key:"clone",value:function(){return new e(this.bytes.slice(0))}},{key:"equals",value:function(t){return this.compareTo(t)===0}},{key:"compareTo",value:function(t){for(var n=0;n<16;n++){var r=this.bytes[n]-t.bytes[n];if(r!==0)return Math.sign(r)}return 0}}],[{key:"fromFieldsV7",value:function(t,n,r,i){if(!Number.isInteger(t)||!Number.isInteger(n)||!Number.isInteger(r)||!Number.isInteger(i)||t<0||n<0||r<0||i<0||t>0xffffffffffff||n>4095||r>1073741823||i>4294967295)throw new RangeError("invalid field value");var s=new Uint8Array(16);return s[0]=t/Math.pow(2,40),s[1]=t/Math.pow(2,32),s[2]=t/Math.pow(2,24),s[3]=t/Math.pow(2,16),s[4]=t/Math.pow(2,8),s[5]=t,s[6]=112|n>>>8,s[7]=n,s[8]=128|r>>>24,s[9]=r>>>16,s[10]=r>>>8,s[11]=r,s[12]=i>>>24,s[13]=i>>>16,s[14]=i>>>8,s[15]=i,new e(s)}}]),e}(),oD=function(){function e(){Gt(this,e),re(this,"timestamp",0),re(this,"counter",0),re(this,"random",new aD)}return qt(e,[{key:"generate",value:function(){var t=this.generateOrAbort();if(We(t)){this.timestamp=0;var n=this.generateOrAbort();if(We(n))throw new Error("Could not generate UUID after timestamp reset");return n}return t}},{key:"generateOrAbort",value:function(){var t=Date.now();if(t>this.timestamp)this.timestamp=t,this.resetCounter();else{if(!(t+1e4>this.timestamp))return;this.counter++,this.counter>4398046511103&&(this.timestamp++,this.resetCounter())}return sD.fromFieldsV7(this.timestamp,Math.trunc(this.counter/Math.pow(2,30)),this.counter&Math.pow(2,30)-1,this.random.nextUint32())}},{key:"resetCounter",value:function(){this.counter=1024*this.random.nextUint32()+(1023&this.random.nextUint32())}}]),e}(),GM=function(e){if(typeof UUIDV7_DENY_WEAK_RNG<"u"&&UUIDV7_DENY_WEAK_RNG)throw new Error("no cryptographically strong RNG available");for(var t=0;t<e.length;t++)e[t]=65536*Math.trunc(65536*Math.random())+Math.trunc(65536*Math.random());return e};X&&!We(X.crypto)&&crypto.getRandomValues&&(GM=function(e){return crypto.getRandomValues(e)});var LE,aD=function(){function e(){Gt(this,e),re(this,"buffer",new Uint32Array(8)),re(this,"cursor",1/0)}return qt(e,[{key:"nextUint32",value:function(){return this.cursor>=this.buffer.length&&(GM(this.buffer),this.cursor=0),this.buffer[this.cursor++]}}]),e}(),Jo=function(){return lD().toString()},lD=function(){return(LE||(LE=new oD)).generate()},cD="Thu, 01 Jan 1970 00:00:00 GMT",Du="",uD=/[a-z0-9][a-z0-9-]+\.[a-z]{2,}$/i;function dD(e,t){if(t){var n=function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:we;if(Du)return Du;if(!s||["localhost","127.0.0.1"].includes(i))return"";for(var o=i.split("."),a=Math.min(o.length,8),l="dmn_chk_"+Jo(),c=new RegExp("(^|;)\\s*"+l+"=1");!Du&&a--;){var u=o.slice(a).join("."),d=l+"=1;domain=."+u;s.cookie=d,c.test(s.cookie)&&(s.cookie=d+";expires="+cD,Du=u)}return Du}(e);if(!n){var r=function(i){var s=i.match(uD);return s?s[0]:""}(e);r!==n&&ge.info("Warning: cookie subdomain discovery mismatch",r,n),n=r}return n?"; domain=."+n:""}return""}var rr,Gs={is_supported:function(){return!!we},error:function(e){ge.error("cookieStore error: "+e)},get:function(e){if(we){try{for(var t=e+"=",n=we.cookie.split(";").filter(function(s){return s.length}),r=0;r<n.length;r++){for(var i=n[r];i.charAt(0)==" ";)i=i.substring(1,i.length);if(i.indexOf(t)===0)return decodeURIComponent(i.substring(t.length,i.length))}}catch{}return null}},parse:function(e){var t;try{t=JSON.parse(Gs.get(e))||{}}catch{}return t},set:function(e,t,n,r,i){if(we)try{var s="",o="",a=dD(we.location.hostname,r);if(n){var l=new Date;l.setTime(l.getTime()+24*n*60*60*1e3),s="; expires="+l.toUTCString()}i&&(o="; secure");var c=e+"="+encodeURIComponent(JSON.stringify(t))+s+"; SameSite=Lax; path=/"+a+o;return c.length>3686.4&&ge.warn("cookieStore warning: large cookie, len="+c.length),we.cookie=c,c}catch{return}},remove:function(e,t){try{Gs.set(e,"",-1,t)}catch{return}}},Mv=null,Rn={is_supported:function(){if(!ys(Mv))return Mv;var e=!0;if(We(X))e=!1;else try{var t="__mplssupport__";Rn.set(t,"xyz"),Rn.get(t)!=='"xyz"'&&(e=!1),Rn.remove(t)}catch{e=!1}return e||ge.error("localStorage unsupported; falling back to cookie store"),Mv=e,e},error:function(e){ge.error("localStorage error: "+e)},get:function(e){try{return X==null?void 0:X.localStorage.getItem(e)}catch(t){Rn.error(t)}return null},parse:function(e){try{return JSON.parse(Rn.get(e))||{}}catch{}return null},set:function(e,t){try{X==null||X.localStorage.setItem(e,JSON.stringify(t))}catch(n){Rn.error(n)}},remove:function(e){try{X==null||X.localStorage.removeItem(e)}catch(t){Rn.error(t)}}},fD=["distinct_id",mg,Ed,yg],dd=Ce(Ce({},Rn),{},{parse:function(e){try{var t={};try{t=Gs.parse(e)||{}}catch{}var n=Kn(t,JSON.parse(Rn.get(e)||"{}"));return Rn.set(e,n),n}catch{}return null},set:function(e,t,n,r,i){try{Rn.set(e,t);var s={};fD.forEach(function(o){t[o]&&(s[o]=t[o])}),Object.keys(s).length&&Gs.set(e,s,n,r,i)}catch(o){Rn.error(o)}},remove:function(e,t){try{X==null||X.localStorage.removeItem(e),Gs.remove(e,t)}catch(n){Rn.error(n)}}}),jh={},hD={is_supported:function(){return!0},error:function(e){ge.error("memoryStorage error: "+e)},get:function(e){return jh[e]||null},parse:function(e){return jh[e]||null},set:function(e,t){jh[e]=t},remove:function(e){delete jh[e]}},ja=null,or={is_supported:function(){if(!ys(ja))return ja;if(ja=!0,We(X))ja=!1;else try{var e="__support__";or.set(e,"xyz"),or.get(e)!=='"xyz"'&&(ja=!1),or.remove(e)}catch{ja=!1}return ja},error:function(e){ge.error("sessionStorage error: ",e)},get:function(e){try{return X==null?void 0:X.sessionStorage.getItem(e)}catch(t){or.error(t)}return null},parse:function(e){try{return JSON.parse(or.get(e))||null}catch{}return null},set:function(e,t){try{X==null||X.sessionStorage.setItem(e,JSON.stringify(t))}catch(n){or.error(n)}},remove:function(e){try{X==null||X.sessionStorage.removeItem(e)}catch(t){or.error(t)}}},pD=["localhost","127.0.0.1"],qM=function(e){var t=we==null?void 0:we.createElement("a");return We(t)?null:(t.href=e,t)},gD=function(e,t){return!!function(n){try{new RegExp(n)}catch{return!1}return!0}(t)&&new RegExp(t).test(e)},mD=function(e){var t,n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"&",i=[];return Dt(e,function(s,o){We(s)||We(o)||o==="undefined"||(t=encodeURIComponent(function(a){return a instanceof File}(s)?s.name:s.toString()),n=encodeURIComponent(o),i[i.length]=n+"="+t)}),i.join(r)},NE=function(e,t){for(var n,r=((e.split("#")[0]||"").split("?")[1]||"").split("&"),i=0;i<r.length;i++){var s=r[i].split("=");if(s[0]===t){n=s;break}}if(!Bn(n)||n.length<2)return"";var o=n[1];try{o=decodeURIComponent(o)}catch{ge.error("Skipping decoding for malformed query param: "+o)}return o.replace(/\+/g," ")},Ag=function(e,t){var n=e.match(new RegExp(t+"=([^&]*)"));return n?n[1]:null},Fi="Mobile",_g="iOS",zs="Android",Zd="Tablet",WM=zs+" "+Zd,KM="iPad",YM="Apple",QM=YM+" Watch",Om="Safari",Uc="BlackBerry",JM="Samsung",XM=JM+"Browser",ZM=JM+" Internet",fl="Chrome",vD=fl+" OS",eP=fl+" "+_g,bb="Internet Explorer",tP=bb+" "+Fi,Sb="Opera",yD=Sb+" Mini",xb="Edge",nP="Microsoft "+xb,xc="Firefox",rP=xc+" "+_g,ef="Nintendo",tf="PlayStation",wc="Xbox",iP=zs+" "+Fi,sP=Fi+" "+Om,fd="Windows",RA=fd+" Phone",BE="Nokia",MA="Ouya",oP="Generic",AD=oP+" "+Fi.toLowerCase(),aP=oP+" "+Zd.toLowerCase(),PA="Konqueror",Cr="(\\d+(\\.\\d+)?)",Pv=new RegExp("Version/"+Cr),_D=new RegExp(wc,"i"),bD=new RegExp(tf+" \\w+","i"),SD=new RegExp(ef+" \\w+","i"),wb=new RegExp(Uc+"|PlayBook|BB10","i"),xD={"NT3.51":"NT 3.11","NT4.0":"NT 4.0","5.0":"2000",5.1:"XP",5.2:"XP","6.0":"Vista",6.1:"7",6.2:"8",6.3:"8.1",6.4:"10","10.0":"10"},wD=function(e,t){return t&&ft(t,YM)||function(n){return ft(n,Om)&&!ft(n,fl)&&!ft(n,zs)}(e)},DE=function(e,t){return t=t||"",ft(e," OPR/")&&ft(e,"Mini")?yD:ft(e," OPR/")?Sb:wb.test(e)?Uc:ft(e,"IE"+Fi)||ft(e,"WPDesktop")?tP:ft(e,XM)?ZM:ft(e,xb)||ft(e,"Edg/")?nP:ft(e,"FBIOS")?"Facebook "+Fi:ft(e,fl)?fl:ft(e,"CriOS")?eP:ft(e,"UCWEB")||ft(e,"UCBrowser")?"UC Browser":ft(e,"FxiOS")?rP:ft(e,zs)?iP:ft(e.toLowerCase(),PA.toLowerCase())?PA:wD(e,t)?ft(e,Fi)?sP:Om:ft(e,xc)?xc:ft(e,"MSIE")||ft(e,"Trident/")?bb:ft(e,"Gecko")?xc:""},ED=(re(rr={},tP,[new RegExp("rv:"+Cr)]),re(rr,nP,[new RegExp(xb+"?\\/"+Cr)]),re(rr,fl,[new RegExp(fl+"/"+Cr)]),re(rr,eP,[new RegExp("CriOS\\/"+Cr)]),re(rr,"UC Browser",[new RegExp("(UCBrowser|UCWEB)\\/"+Cr)]),re(rr,Om,[Pv]),re(rr,sP,[Pv]),re(rr,Sb,[new RegExp("(Opera|OPR)\\/"+Cr)]),re(rr,xc,[new RegExp(xc+"\\/"+Cr)]),re(rr,rP,[new RegExp("FxiOS\\/"+Cr)]),re(rr,PA,[new RegExp("Konqueror[:/]?"+Cr,"i")]),re(rr,Uc,[new RegExp(Uc+" "+Cr),Pv]),re(rr,iP,[new RegExp("android\\s"+Cr)]),re(rr,ZM,[new RegExp(XM+"\\/"+Cr)]),re(rr,bb,[new RegExp("(rv:|MSIE )"+Cr)]),re(rr,"Mozilla",[new RegExp("rv:"+Cr)]),rr),$E=[[new RegExp(wc+"; "+wc+" (.*?)[);]","i"),function(e){return[wc,e&&e[1]||""]}],[new RegExp(ef,"i"),[ef,""]],[new RegExp(tf,"i"),[tf,""]],[wb,[Uc,""]],[new RegExp(fd,"i"),function(e,t){if(/Phone/.test(t)||/WPDesktop/.test(t))return[RA,""];if(new RegExp(Fi).test(t)&&!/IEMobile\b/.test(t))return[fd+" "+Fi,""];var n=/Windows NT ([0-9.]+)/i.exec(t);if(n&&n[1]){var r=n[1],i=xD[r]||"";return/arm/i.test(t)&&(i="RT"),[fd,i]}return[fd,""]}],[/((iPhone|iPad|iPod).*?OS (\d+)_(\d+)_?(\d+)?|iPhone)/,function(e){if(e&&e[3]){var t=[e[3],e[4],e[5]||"0"];return[_g,t.join(".")]}return[_g,""]}],[/(watch.*\/(\d+\.\d+\.\d+)|watch os,(\d+\.\d+),)/i,function(e){var t="";return e&&e.length>=3&&(t=We(e[2])?e[3]:e[2]),["watchOS",t]}],[new RegExp("("+zs+" (\\d+)\\.(\\d+)\\.?(\\d+)?|"+zs+")","i"),function(e){if(e&&e[2]){var t=[e[2],e[3],e[4]||"0"];return[zs,t.join(".")]}return[zs,""]}],[/Mac OS X (\d+)[_.](\d+)[_.]?(\d+)?/i,function(e){var t=["Mac OS X",""];if(e&&e[1]){var n=[e[1],e[2],e[3]||"0"];t[1]=n.join(".")}return t}],[/Mac/i,["Mac OS X",""]],[/CrOS/,[vD,""]],[/Linux|debian/i,["Linux",""]]],FE=function(e){return SD.test(e)?ef:bD.test(e)?tf:_D.test(e)?wc:new RegExp(MA,"i").test(e)?MA:new RegExp("("+RA+"|WPDesktop)","i").test(e)?RA:/iPad/.test(e)?KM:/iPod/.test(e)?"iPod Touch":/iPhone/.test(e)?"iPhone":/(watch)(?: ?os[,/]|\d,\d\/)[\d.]+/i.test(e)?QM:wb.test(e)?Uc:/(kobo)\s(ereader|touch)/i.test(e)?"Kobo":new RegExp(BE,"i").test(e)?BE:/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i.test(e)||/(kf[a-z]+)( bui|\)).+silk\//i.test(e)?"Kindle Fire":/(Android|ZTE)/i.test(e)?!new RegExp(Fi).test(e)||/(9138B|TB782B|Nexus [97]|pixel c|HUAWEISHT|BTV|noble nook|smart ultra 6)/i.test(e)?/pixel[\daxl ]{1,6}/i.test(e)&&!/pixel c/i.test(e)||/(huaweimed-al00|tah-|APA|SM-G92|i980|zte|U304AA)/i.test(e)||/lmy47v/i.test(e)&&!/QTAQZ3/i.test(e)?zs:WM:zs:new RegExp("(pda|"+Fi+")","i").test(e)?AD:new RegExp(Zd,"i").test(e)&&!new RegExp(Zd+" pc","i").test(e)?aP:""},Oh="https?://(.*)",kD=["utm_source","utm_medium","utm_campaign","utm_content","utm_term","gclid","gad_source","gclsrc","dclid","gbraid","wbraid","fbclid","msclkid","twclid","li_fat_id","mc_cid","igshid","ttclid"],Yn={campaignParams:function(e){var t=kD.concat(e||[]),n={};return Dt(t,function(r){var i=we?NE(we.URL,r):"";i.length&&(n[r]=i)}),n},searchEngine:function(){var e=we==null?void 0:we.referrer;return e?e.search(Oh+"google.([^/?]*)")===0?"google":e.search(Oh+"bing.com")===0?"bing":e.search(Oh+"yahoo.com")===0?"yahoo":e.search(Oh+"duckduckgo.com")===0?"duckduckgo":null:null},searchInfo:function(){var e=Yn.searchEngine(),t=e!="yahoo"?"q":"p",n={};if(!ys(e)){n.$search_engine=e;var r=we?NE(we.referrer,t):"";r.length&&(n.ph_keyword=r)}return n},browser:DE,browserVersion:function(e,t){var n=DE(e,t),r=ED[n];if(We(r))return null;for(var i=0;i<r.length;i++){var s=r[i],o=e.match(s);if(o)return parseFloat(o[o.length-2])}return null},browserLanguage:function(){return navigator.language||navigator.userLanguage},os:function(e){for(var t=0;t<$E.length;t++){var n=Rr($E[t],2),r=n[0],i=n[1],s=r.exec(e),o=s&&(vs(i)?i(s,e):i);if(o)return o}return["",""]},device:FE,deviceType:function(e){var t=FE(e);return t===KM||t===WM||t==="Kobo"||t==="Kindle Fire"||t===aP?Zd:t===ef||t===wc||t===tf||t===MA?"Console":t===QM?"Wearable":t?Fi:"Desktop"},referrer:function(){return(we==null?void 0:we.referrer)||"$direct"},referringDomain:function(){var e;return we!=null&&we.referrer&&((e=qM(we.referrer))===null||e===void 0?void 0:e.host)||"$direct"},referrerInfo:function(){return{$referrer:this.referrer(),$referring_domain:this.referringDomain()}},properties:function(){if(!_n)return{};var e=Rr(Yn.os(_n),2),t=e[0],n=e[1];return Kn(bA({$os:t,$os_version:n,$browser:Yn.browser(_n,navigator.vendor),$device:Yn.device(_n),$device_type:Yn.deviceType(_n)}),{$current_url:ji==null?void 0:ji.href,$host:ji==null?void 0:ji.host,$pathname:ji==null?void 0:ji.pathname,$raw_user_agent:_n.length>1e3?_n.substring(0,997)+"...":_n,$browser_version:Yn.browserVersion(_n,navigator.vendor),$browser_language:Yn.browserLanguage(),$screen_height:X==null?void 0:X.screen.height,$screen_width:X==null?void 0:X.screen.width,$viewport_height:X==null?void 0:X.innerHeight,$viewport_width:X==null?void 0:X.innerWidth,$lib:"web",$lib_version:Ka.LIB_VERSION,$insert_id:Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10),$time:UM()/1e3})},people_properties:function(){if(!_n)return{};var e=Rr(Yn.os(_n),2),t=e[0],n=e[1];return Kn(bA({$os:t,$os_version:n,$browser:Yn.browser(_n,navigator.vendor)}),{$browser_version:Yn.browserVersion(_n,navigator.vendor)})}},CD=["cookie","localstorage","localstorage+cookie","sessionstorage","memory"],jv=function(){function e(t){Gt(this,e),this.config=t,this.props={},this.campaign_params_saved=!1,this.name=function(n){var r="";return n.token&&(r=n.token.replace(/\+/g,"PL").replace(/\//g,"SL").replace(/=/g,"EQ")),n.persistence_name?"ph_"+n.persistence_name:"ph_"+r+"_posthog"}(t),this.storage=this.buildStorage(t),this.load(),this.update_config(t,t),this.save()}return qt(e,[{key:"buildStorage",value:function(t){CD.indexOf(t.persistence.toLowerCase())===-1&&(ge.critical("Unknown persistence type "+t.persistence+"; falling back to localStorage+cookie"),t.persistence="localStorage+cookie");var n=t.persistence.toLowerCase();return n==="localstorage"&&Rn.is_supported()?Rn:n==="localstorage+cookie"&&dd.is_supported()?dd:n==="sessionstorage"&&or.is_supported()?or:n==="memory"?hD:n==="cookie"?Gs:dd.is_supported()?dd:Gs}},{key:"properties",value:function(){var t={};return Dt(this.props,function(n,r){if(r===rc&&Fs(n))for(var i=Object.keys(n),s=0;s<i.length;s++)t["$feature/".concat(i[s])]=n[i[s]];else a=r,l=!1,(ys(o=rD)?l:xE&&o.indexOf===xE?o.indexOf(a)!=-1:(Dt(o,function(c){if(l||(l=c===a))return gg}),l))||(t[r]=n);var o,a,l}),t}},{key:"load",value:function(){if(!this.disabled){var t=this.storage.parse(this.name);t&&(this.props=Kn({},t))}}},{key:"save",value:function(){this.disabled||this.storage.set(this.name,this.props,this.expire_days,this.cross_subdomain,this.secure)}},{key:"remove",value:function(){this.storage.remove(this.name,!1),this.storage.remove(this.name,!0)}},{key:"clear",value:function(){this.remove(),this.props={}}},{key:"register_once",value:function(t,n,r){var i=this;if(Fs(t)){We(n)&&(n="None"),this.expire_days=We(r)?this.default_expiry:r;var s=!1;if(Dt(t,function(o,a){i.props.hasOwnProperty(a)&&i.props[a]!==n||(i.props[a]=o,s=!0)}),s)return this.save(),!0}return!1}},{key:"register",value:function(t,n){var r=this;if(Fs(t)){this.expire_days=We(n)?this.default_expiry:n;var i=!1;if(Dt(t,function(s,o){t.hasOwnProperty(o)&&r.props[o]!==s&&(r.props[o]=s,i=!0)}),i)return this.save(),!0}return!1}},{key:"unregister",value:function(t){t in this.props&&(delete this.props[t],this.save())}},{key:"update_campaign_params",value:function(){this.campaign_params_saved||(this.register(Yn.campaignParams(this.config.custom_campaign_params)),this.campaign_params_saved=!0)}},{key:"set_initial_campaign_params",value:function(){this.register_once(re({},TA,Yn.campaignParams(this.config.custom_campaign_params)),void 0)}},{key:"update_search_keyword",value:function(){this.register(Yn.searchInfo())}},{key:"update_referrer_info",value:function(){this.register(Yn.referrerInfo())}},{key:"set_initial_referrer_info",value:function(){this.register_once(re({},IA,Yn.referrerInfo()),void 0)}},{key:"get_referrer_info",value:function(){return bA({$referrer:this.props.$referrer,$referring_domain:this.props.$referring_domain})}},{key:"get_initial_props",value:function(){var t=this,n={};return Dt([IA,TA],function(r){var i=t.props[r];i&&Dt(i,function(s,o){var a;n["$initial_"+(a=o,a.replace(/^\$/,""))]=s})}),n}},{key:"safe_merge",value:function(t){return Dt(this.props,function(n,r){r in t||(t[r]=n)}),t}},{key:"update_config",value:function(t,n){if(this.default_expiry=this.expire_days=t.cookie_expiration,this.set_disabled(t.disable_persistence),this.set_cross_subdomain(t.cross_subdomain_cookie),this.set_secure(t.secure_cookie),t.persistence!==n.persistence){var r=this.buildStorage(t),i=this.props;this.clear(),this.storage=r,this.props=i,this.save()}}},{key:"set_disabled",value:function(t){this.disabled=t,this.disabled?this.remove():this.save()}},{key:"set_cross_subdomain",value:function(t){t!==this.cross_subdomain&&(this.cross_subdomain=t,this.remove(),this.save())}},{key:"get_cross_subdomain",value:function(){return!!this.cross_subdomain}},{key:"set_secure",value:function(t){t!==this.secure&&(this.secure=t,this.remove(),this.save())}},{key:"set_event_timer",value:function(t,n){var r=this.props[ud]||{};r[t]=n,this.props[ud]=r,this.save()}},{key:"remove_event_timer",value:function(t){var n=(this.props[ud]||{})[t];return We(n)||(delete this.props[ud][t],this.save()),n}},{key:"get_property",value:function(t){return this.props[t]}},{key:"set_property",value:function(t,n){this.props[t]=n,this.save()}}]),e}(),TD=2,ID=4,RD=qt(function e(t){var n,r,i=this,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Gt(this,e),re(this,"bucketSize",100),re(this,"refillRate",10),re(this,"mutationBuckets",{}),re(this,"loggedTracker",{}),re(this,"refillBuckets",function(){Object.keys(i.mutationBuckets).forEach(function(o){i.mutationBuckets[o]=i.mutationBuckets[o]+i.refillRate,i.mutationBuckets[o]>=i.bucketSize&&delete i.mutationBuckets[o]})}),re(this,"getNodeOrRelevantParent",function(o){var a=i.rrweb.mirror.getNode(o);if((a==null?void 0:a.nodeName)!=="svg"&&a instanceof Element){var l=a.closest("svg");if(l)return[i.rrweb.mirror.getId(l),l]}return[o,a]}),re(this,"numberOfChanges",function(o){var a,l,c,u,d,h,p,g;return((a=(l=o.removes)===null||l===void 0?void 0:l.length)!==null&&a!==void 0?a:0)+((c=(u=o.attributes)===null||u===void 0?void 0:u.length)!==null&&c!==void 0?c:0)+((d=(h=o.texts)===null||h===void 0?void 0:h.length)!==null&&d!==void 0?d:0)+((p=(g=o.adds)===null||g===void 0?void 0:g.length)!==null&&p!==void 0?p:0)}),re(this,"throttleMutations",function(o){if(o.type!==3||o.data.source!==0)return o;var a=o.data,l=i.numberOfChanges(a);a.attributes&&(a.attributes=a.attributes.filter(function(u){var d,h,p,g=Rr(i.getNodeOrRelevantParent(u.id),2),m=g[0],_=g[1];return i.mutationBuckets[m]===0?!1:(i.mutationBuckets[m]=(d=i.mutationBuckets[m])!==null&&d!==void 0?d:i.bucketSize,i.mutationBuckets[m]=Math.max(i.mutationBuckets[m]-1,0),i.mutationBuckets[m]===0&&(i.loggedTracker[m]||(i.loggedTracker[m]=!0,(h=(p=i.options).onBlockedNode)===null||h===void 0||h.call(p,m,_))),u)}));var c=i.numberOfChanges(a);return c!==0||l===c?o:void 0}),this.rrweb=t,this.options=s,this.refillRate=(n=this.options.refillRate)!==null&&n!==void 0?n:this.refillRate,this.bucketSize=(r=this.options.bucketSize)!==null&&r!==void 0?r:this.bucketSize,setInterval(function(){i.refillBuckets()},1e3)}),Vp=function(e){return e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e}(Vp||{});function Eb(e){return e?jm(e).split(/\s+/):[]}function bg(e){var t="";switch(Qd(e.className)){case"string":t=e.className;break;case"object":t=("baseVal"in e.className?e.className.baseVal:null)||e.getAttribute("class")||"";break;default:t=""}return Eb(t)}function lP(e){return ia(e)?null:jm(e).split(/(\s+)/).filter(function(t){return Ec(t)}).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255)}function Sg(e){var t="";return OA(e)&&!fP(e)&&e.childNodes&&e.childNodes.length&&Dt(e.childNodes,function(n){var r;cP(n)&&n.textContent&&(t+=(r=lP(n.textContent))!==null&&r!==void 0?r:"")}),jm(t)}function kb(e){return!!e&&e.nodeType===1}function sa(e,t){return!!e&&!!e.tagName&&e.tagName.toLowerCase()===t.toLowerCase()}function cP(e){return!!e&&e.nodeType===3}function uP(e){return!!e&&e.nodeType===11}var jA=["a","button","form","input","select","textarea","label"];function dP(e){var t=e.parentNode;return!(!t||!kb(t))&&t}function MD(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;if(!X||!e||sa(e,"html")||!kb(e))return!1;if(n!=null&&n.url_allowlist){var s=X.location.href,o=n.url_allowlist;if(o&&!o.some(function(m){return s.match(m)}))return!1}if(n!=null&&n.dom_event_allowlist){var a=n.dom_event_allowlist;if(a&&!a.some(function(m){return t.type===m}))return!1}for(var l=!1,c=[e],u=!0,d=e;d.parentNode&&!sa(d,"body");)if(uP(d.parentNode))c.push(d.parentNode.host),d=d.parentNode.host;else{if(!(u=dP(d)))break;if(r||jA.indexOf(u.tagName.toLowerCase())>-1)l=!0;else{var h=X.getComputedStyle(u);h&&h.getPropertyValue("cursor")==="pointer"&&(l=!0)}c.push(u),d=u}if(!function(m,_){var v=_==null?void 0:_.element_allowlist;if(We(v))return!0;var y,S=xs(m);try{var x=function(){var w=y.value;if(v.some(function(E){return w.tagName.toLowerCase()===E}))return{v:!0}};for(S.s();!(y=S.n()).done;){var b=x();if(Qd(b)==="object")return b.v}}catch(w){S.e(w)}finally{S.f()}return!1}(c,n)||!function(m,_){var v=_==null?void 0:_.css_selector_allowlist;if(We(v))return!0;var y,S=xs(m);try{var x=function(){var w=y.value;if(v.some(function(E){return w.matches(E)}))return{v:!0}};for(S.s();!(y=S.n()).done;){var b=x();if(Qd(b)==="object")return b.v}}catch(w){S.e(w)}finally{S.f()}return!1}(c,n))return!1;var p=X.getComputedStyle(e);if(p&&p.getPropertyValue("cursor")==="pointer"&&t.type==="click")return!0;var g=e.tagName.toLowerCase();switch(g){case"html":return!1;case"form":return(i||["submit"]).indexOf(t.type)>=0;case"input":case"select":case"textarea":return(i||["change","click"]).indexOf(t.type)>=0;default:return l?(i||["click"]).indexOf(t.type)>=0:(i||["click"]).indexOf(t.type)>=0&&(jA.indexOf(g)>-1||e.getAttribute("contenteditable")==="true")}}function OA(e){for(var t=e;t.parentNode&&!sa(t,"body");t=t.parentNode){var n=bg(t);if(ft(n,"ph-sensitive")||ft(n,"ph-no-capture"))return!1}if(ft(bg(e),"ph-include"))return!0;var r=e.type||"";if(br(r))switch(r.toLowerCase()){case"hidden":case"password":return!1}var i=e.name||e.id||"";return!(br(i)&&/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|pwd|routing|seccode|securitycode|securitynum|socialsec|socsec|ssn/i.test(i.replace(/[^a-zA-Z0-9]/g,"")))}function fP(e){return!!(sa(e,"input")&&!["button","checkbox","submit","reset"].includes(e.type)||sa(e,"select")||sa(e,"textarea")||e.getAttribute("contenteditable")==="true")}var hP="(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11})",PD=new RegExp("^(?:".concat(hP,")$")),jD=new RegExp(hP),pP="\\d{3}-?\\d{2}-?\\d{4}",OD=new RegExp("^(".concat(pP,")$")),VD=new RegExp("(".concat(pP,")"));function Ec(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return!(ia(e)||br(e)&&(e=jm(e),(t?PD:jD).test((e||"").replace(/[- ]/g,""))||(t?OD:VD).test(e)))}function zE(e){var t=Sg(e);return Ec(t="".concat(t," ").concat(gP(e)).trim())?t:""}function gP(e){var t="";return e&&e.childNodes&&e.childNodes.length&&Dt(e.childNodes,function(n){var r;if(n&&((r=n.tagName)===null||r===void 0?void 0:r.toLowerCase())==="span")try{var i=Sg(n);t="".concat(t," ").concat(i).trim(),n.childNodes&&n.childNodes.length&&(t="".concat(t," ").concat(gP(n)).trim())}catch(s){ge.error(s)}}),t}function LD(e){return function(t){var n=t.map(function(r){var i,s,o="";if(r.tag_name&&(o+=r.tag_name),r.attr_class){r.attr_class.sort();var a,l=xs(r.attr_class);try{for(l.s();!(a=l.n()).done;){var c=a.value;o+=".".concat(c.replace(/"/g,""))}}catch(h){l.e(h)}finally{l.f()}}var u=Ce(Ce(Ce(Ce({},r.text?{text:r.text}:{}),{},{"nth-child":(i=r.nth_child)!==null&&i!==void 0?i:0,"nth-of-type":(s=r.nth_of_type)!==null&&s!==void 0?s:0},r.href?{href:r.href}:{}),r.attr_id?{attr_id:r.attr_id}:{}),r.attributes),d={};return Op(u).sort(function(h,p){var g=Rr(h,1)[0],m=Rr(p,1)[0];return g.localeCompare(m)}).forEach(function(h){var p=Rr(h,2),g=p[0],m=p[1];return d[UE(g.toString())]=UE(m.toString())}),o+=":",o+=Op(u).map(function(h){var p=Rr(h,2),g=p[0],m=p[1];return"".concat(g,'="').concat(m,'"')}).join("")});return n.join(";")}(function(t){return t.map(function(n){var r,i,s={text:(r=n.$el_text)===null||r===void 0?void 0:r.slice(0,400),tag_name:n.tag_name,href:(i=n.attr__href)===null||i===void 0?void 0:i.slice(0,2048),attr_class:ND(n),attr_id:n.attr__id,nth_child:n.nth_child,nth_of_type:n.nth_of_type,attributes:{}};return Op(n).filter(function(o){return Rr(o,1)[0].indexOf("attr__")===0}).forEach(function(o){var a=Rr(o,2),l=a[0],c=a[1];return s.attributes[l]=c}),s})}(e))}function UE(e){return e.replace(/"|\\"/g,'\\"')}function ND(e){var t=e.attr__class;return t?Bn(t)?t:Eb(t):void 0}var VA="[SessionRecording]",Ov={initiatorTypes:["audio","beacon","body","css","early-hint","embed","fetch","frame","iframe","icon","image","img","input","link","navigation","object","ping","script","track","video","xmlhttprequest"],maskRequestFn:function(e){return e},recordHeaders:!1,recordBody:!1,recordInitialRequests:!1,recordPerformance:!1,performanceEntryTypeToObserve:["first-input","navigation","paint","resource"],payloadSizeLimitBytes:1e6},BD=["authorization","x-forwarded-for","authorization","cookie","set-cookie","x-api-key","x-real-ip","remote-addr","forwarded","proxy-authorization","x-csrf-token","x-csrftoken","x-xsrf-token"],DD=["password","secret","passwd","api_key","apikey","auth","credentials","mysql_pwd","privatekey","private_key","token"],$D=["/s/","/e/","/i/"];function HE(e,t,n,r){if(ia(e))return e;var i=(t==null?void 0:t["content-length"])||function(s){return new Blob([s]).size}(e);return br(i)&&(i=parseInt(i)),i>n?VA+" ".concat(r," body too large to record (").concat(i," bytes)"):e}function GE(e,t){if(ia(e))return e;var n=e;return Ec(n,!1)||(n=VA+" "+t+" body redacted"),Dt(DD,function(r){var i,s;(i=n)!==null&&i!==void 0&&i.length&&((s=n)===null||s===void 0?void 0:s.indexOf(r))!==-1&&(n=VA+" "+t+" body redacted as might contain: "+r)}),n}var FD=function(e,t){var n,r,i,s={payloadSizeLimitBytes:Ov.payloadSizeLimitBytes,performanceEntryTypeToObserve:zc(Ov.performanceEntryTypeToObserve)},o=e.session_recording.recordHeaders!==!1&&t.recordHeaders,a=e.session_recording.recordBody!==!1&&t.recordBody,l=e.capture_performance!==!1&&t.recordPerformance,c=(n=s,i=Math.min(1e6,(r=n.payloadSizeLimitBytes)!==null&&r!==void 0?r:1e6),function(h){return h!=null&&h.requestBody&&(h.requestBody=HE(h.requestBody,h.requestHeaders,i,"Request")),h!=null&&h.responseBody&&(h.responseBody=HE(h.responseBody,h.responseHeaders,i,"Response")),h}),u=function(h){return c(function(m){var _=qM(m.name);if(!(_&&_.pathname&&$D.some(function(v){return _.pathname.indexOf(v)===0})))return m}((p=h,Dt(Object.keys((g=p.requestHeaders)!==null&&g!==void 0?g:{}),function(m){var _;BD.includes(m.toLowerCase())&&((_=p.requestHeaders)===null||_===void 0||delete _[m])}),p)));var p,g},d=vs(e.session_recording.maskNetworkRequestFn);return d&&vs(e.session_recording.maskCapturedNetworkRequestFn)&&ge.warn("Both `maskNetworkRequestFn` and `maskCapturedNetworkRequestFn` are defined. `maskNetworkRequestFn` will be ignored."),d&&(e.session_recording.maskCapturedNetworkRequestFn=function(h){var p=e.session_recording.maskNetworkRequestFn({url:h.name});return Ce(Ce({},h),{},{name:p==null?void 0:p.url})}),s.maskRequestFn=vs(e.session_recording.maskCapturedNetworkRequestFn)?function(h){var p,g,m,_=u(h);return _&&(p=(g=(m=e.session_recording).maskCapturedNetworkRequestFn)===null||g===void 0?void 0:g.call(m,_))!==null&&p!==void 0?p:void 0}:function(h){return function(p){if(!We(p))return p.requestBody=GE(p.requestBody,"Request"),p.responseBody=GE(p.responseBody,"Response"),p}(u(h))},Ce(Ce(Ce({},Ov),s),{},{recordHeaders:o,recordBody:a,recordPerformance:l,recordInitialRequests:l})},zD="__ph_opt_in_out_";function UD(e,t){yP(!0,e,t)}function HD(e,t){yP(!1,e,t)}function GD(e,t){return vP(e,t)==="1"}function mP(e,t){return!!function(n){if(n&&n.respectDnt){var r=n&&n.window||X,i=r==null?void 0:r.navigator,s=!1;return Dt([i==null?void 0:i.doNotTrack,i.msDoNotTrack,r.doNotTrack],function(o){ft([!0,1,"1","yes"],o)&&(s=!0)}),s}return!1}(t)||vP(e,t)==="0"}function qD(e,t){Cb(t=t||{}).remove(Tb(e,t),!!t.crossSubdomainCookie)}function Cb(e){return(e=e||{}).persistenceType==="localStorage"?Rn:e.persistenceType==="localStorage+cookie"?dd:Gs}function Tb(e,t){return((t=t||{}).persistencePrefix||zD)+e}function vP(e,t){return Cb(t).get(Tb(e,t))}function yP(e,t,n){br(t)&&t.length?(Cb(n=n||{}).set(Tb(t,n),e?1:0,cs(n.cookieExpiration)?n.cookieExpiration:null,n.crossSubdomainCookie,n.secureCookie),n.capture&&e&&n.capture(n.captureEventName||"$opt_in",n.captureProperties||{},{send_instantly:!0})):ge.error("gdpr."+(e?"optIn":"optOut")+" called with an invalid token")}function AP(e){var t=!1;try{var n=e.config.token,r=e.config.respect_dnt,i=e.config.opt_out_capturing_persistence_type,s=e.config.opt_out_capturing_cookie_prefix||void 0,o=e.config.window;n&&(t=mP(n,{respectDnt:r,persistenceType:i,persistencePrefix:s,window:o}))}catch(a){ge.error("Unexpected error when checking capturing opt-out status: "+a)}return t}var Ps,_P=3e5,qE=_P;(function(e){e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet"})(Ps||(Ps={}));var WD=[Ps.MouseMove,Ps.MouseInteraction,Ps.Scroll,Ps.ViewportResize,Ps.Input,Ps.TouchMove,Ps.MediaInteraction,Ps.Drag],WE=function(e){return{rrwebMethod:e,enqueuedAt:Date.now(),attempt:1}},ni="[SessionRecording]",KD=function(){function e(t){var n=this;if(Gt(this,e),re(this,"queuedRRWebEvents",[]),re(this,"isIdle",!1),re(this,"_linkedFlagSeen",!1),re(this,"_lastActivityTimestamp",Date.now()),re(this,"windowId",null),re(this,"sessionId",null),re(this,"_linkedFlag",null),re(this,"_forceAllowLocalhostNetworkCapture",!1),re(this,"_samplingSessionListener",null),this.instance=t,this._captureStarted=!1,this._endpoint="/s/",this.stopRrweb=void 0,this.receivedDecide=!1,X==null||X.addEventListener("beforeunload",function(){n._flushBuffer()}),X==null||X.addEventListener("offline",function(){n._tryAddCustomEvent("browser offline",{})}),X==null||X.addEventListener("online",function(){n._tryAddCustomEvent("browser online",{})}),X==null||X.addEventListener("visibilitychange",function(){if(we!=null&&we.visibilityState){var r="window "+we.visibilityState;n._tryAddCustomEvent(r,{})}}),!this.instance.sessionManager)throw ge.error(ni+" started without valid sessionManager"),new Error(ni+" started without valid sessionManager. This is a bug.");this.buffer=this.clearBuffer(),this._setupSampling()}return qt(e,[{key:"rrwebRecord",get:function(){var t;return si==null||(t=si.rrweb)===null||t===void 0?void 0:t.record}},{key:"started",get:function(){return this._captureStarted}},{key:"sessionManager",get:function(){if(!this.instance.sessionManager)throw ge.error(ni+" started without valid sessionManager"),new Error(ni+" started without valid sessionManager. This is a bug.");return this.instance.sessionManager}},{key:"isSampled",get:function(){var t=this.instance.get_property(Ed);return jp(t)?t:null}},{key:"sessionDuration",get:function(){var t,n,r=(t=this.buffer)===null||t===void 0?void 0:t.data[((n=this.buffer)===null||n===void 0?void 0:n.data.length)-1],i=this.sessionManager.checkAndGetSessionAndWindowId(!0).sessionStartTimestamp;return r?r.timestamp-i:null}},{key:"isRecordingEnabled",get:function(){var t=!!this.instance.get_property(xA),n=!this.instance.config.disable_session_recording;return X&&t&&n}},{key:"isConsoleLogCaptureEnabled",get:function(){var t=!!this.instance.get_property(TE),n=this.instance.config.enable_recording_console_log;return n??t}},{key:"canvasRecording",get:function(){var t=this.instance.get_property(RE);return t&&t.fps&&t.quality?{enabled:t.enabled,fps:t.fps,quality:t.quality}:void 0}},{key:"networkPayloadCapture",get:function(){var t,n,r=this.instance.get_property(IE),i={recordHeaders:(t=this.instance.config.session_recording)===null||t===void 0?void 0:t.recordHeaders,recordBody:(n=this.instance.config.session_recording)===null||n===void 0?void 0:n.recordBody},s=(i==null?void 0:i.recordHeaders)||(r==null?void 0:r.recordHeaders),o=(i==null?void 0:i.recordBody)||(r==null?void 0:r.recordBody),a=this.instance.config.capture_performance||(r==null?void 0:r.capturePerformance);return s||o||a?{recordHeaders:s,recordBody:o,recordPerformance:a}:void 0}},{key:"sampleRate",get:function(){var t=this.instance.get_property(ME);return cs(t)?t:null}},{key:"minimumDuration",get:function(){var t=this.instance.get_property(PE);return cs(t)?t:null}},{key:"status",get:function(){return this.receivedDecide?this.isRecordingEnabled?ia(this._linkedFlag)||this._linkedFlagSeen?jp(this.isSampled)?this.isSampled?"sampled":"disabled":"active":"buffering":"disabled":"buffering"}},{key:"startIfEnabledOrStop",value:function(){this.isRecordingEnabled?(this._startCapture(),ge.info(ni+" started")):(this.stopRecording(),this.clearBuffer())}},{key:"stopRecording",value:function(){this._captureStarted&&this.stopRrweb&&(this.stopRrweb(),this.stopRrweb=void 0,this._captureStarted=!1,ge.info(ni+" stopped"))}},{key:"makeSamplingDecision",value:function(t){var n,r=this.sessionId!==t,i=this.sampleRate;if(cs(i)){var s,o=this.isSampled,a=r||!jp(o);a?s=Math.random()<i:s=o,!s&&a&&ge.warn(ni+" Sample rate (".concat(i,") has determined that this sessionId (").concat(t,") will not be sent to the server.")),this._tryAddCustomEvent("samplingDecisionMade",{sampleRate:i}),(n=this.instance.persistence)===null||n===void 0||n.register(re({},Ed,s))}else{var l;(l=this.instance.persistence)===null||l===void 0||l.register(re({},Ed,null))}}},{key:"afterDecideResponse",value:function(t){var n,r,i,s=this;if(this._persistDecideResponse(t),this._linkedFlag=((n=t.sessionRecording)===null||n===void 0?void 0:n.linkedFlag)||null,(r=t.sessionRecording)!==null&&r!==void 0&&r.endpoint&&(this._endpoint=(i=t.sessionRecording)===null||i===void 0?void 0:i.endpoint),this._setupSampling(),!ia(this._linkedFlag)){var o=br(this._linkedFlag)?this._linkedFlag:this._linkedFlag.flag,a=br(this._linkedFlag)?null:this._linkedFlag.variant;this.instance.onFeatureFlags(function(l,c){var u=Fs(c)&&o in c,d=a?c[o]===a:u;if(d){var h={linkedFlag:o,linkedVariant:a},p="linked flag matched";ge.info(ni+" "+p,h),s._tryAddCustomEvent(p,h)}s._linkedFlagSeen=d})}this.receivedDecide=!0,this.startIfEnabledOrStop()}},{key:"_setupSampling",value:function(){var t=this;cs(this.sampleRate)&&ys(this._samplingSessionListener)&&(this._samplingSessionListener=this.sessionManager.onSessionId(function(n){t.makeSamplingDecision(n)}))}},{key:"_persistDecideResponse",value:function(t){if(this.instance.persistence){var n=this.instance.persistence,r=function(){var i,s,o,a,l,c,u,d,h=(i=t.sessionRecording)===null||i===void 0?void 0:i.sampleRate,p=ia(h)?null:parseFloat(h),g=(s=t.sessionRecording)===null||s===void 0?void 0:s.minimumDurationMilliseconds;n.register((re(d={},xA,!!t.sessionRecording),re(d,TE,(o=t.sessionRecording)===null||o===void 0?void 0:o.consoleLogRecordingEnabled),re(d,IE,Ce({capturePerformance:t.capturePerformance},(a=t.sessionRecording)===null||a===void 0?void 0:a.networkPayloadCapture)),re(d,RE,{enabled:(l=t.sessionRecording)===null||l===void 0?void 0:l.recordCanvas,fps:(c=t.sessionRecording)===null||c===void 0?void 0:c.canvasFps,quality:(u=t.sessionRecording)===null||u===void 0?void 0:u.canvasQuality}),re(d,ME,p),re(d,PE,We(g)?null:g),d))};r(),this.sessionManager.onSessionId(r)}}},{key:"log",value:function(t){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"log";(n=this.instance.sessionRecording)===null||n===void 0||n.onRRwebEmit({type:6,data:{plugin:"rrweb/console@1",payload:{level:r,trace:[],payload:[JSON.stringify(t)]}},timestamp:UM()})}},{key:"_startCapture",value:function(){var t=this;We(Object.assign)||this._captureStarted||this.instance.config.disable_session_recording||AP(this.instance)||(this._captureStarted=!0,this.sessionManager.checkAndGetSessionAndWindowId(),this.rrwebRecord?this._onScriptLoaded():Xd(this.instance.requestRouter.endpointFor("assets","/static/recorder.js?v=".concat(Ka.LIB_VERSION)),function(n){if(n)return ge.error(ni+" could not load recorder.js",n);t._onScriptLoaded()}))}},{key:"isInteractiveEvent",value:function(t){var n;return t.type===3&&WD.indexOf((n=t.data)===null||n===void 0?void 0:n.source)!==-1}},{key:"_updateWindowAndSessionIds",value:function(t){var n=this.isInteractiveEvent(t);n||this.isIdle||t.timestamp-this._lastActivityTimestamp>qE&&(this.isIdle=!0,this._tryAddCustomEvent("sessionIdle",{reason:"user inactivity",timeSinceLastActive:t.timestamp-this._lastActivityTimestamp,threshold:qE}));var r=!1;if(n&&(this._lastActivityTimestamp=t.timestamp,this.isIdle&&(this.isIdle=!1,this._tryAddCustomEvent("sessionNoLongerIdle",{reason:"user activity",type:t.type}),r=!0)),!this.isIdle){var i=this.sessionManager.checkAndGetSessionAndWindowId(!n,t.timestamp),s=i.windowId,o=i.sessionId,a=this.sessionId!==o,l=this.windowId!==s;this.windowId=s,this.sessionId=o,(r||[TD,ID].indexOf(t.type)===-1&&(l||a))&&this._tryTakeFullSnapshot()}}},{key:"_tryRRWebMethod",value:function(t){try{return t.rrwebMethod(),!0}catch(n){return this.queuedRRWebEvents.length<10?this.queuedRRWebEvents.push({enqueuedAt:t.enqueuedAt||Date.now(),attempt:t.attempt++,rrwebMethod:t.rrwebMethod}):ge.warn(ni+" could not emit queued rrweb event.",n,t),!1}}},{key:"_tryAddCustomEvent",value:function(t,n){var r=this;return this._tryRRWebMethod(WE(function(){return r.rrwebRecord.addCustomEvent(t,n)}))}},{key:"_tryTakeFullSnapshot",value:function(){var t=this;return this._tryRRWebMethod(WE(function(){return t.rrwebRecord.takeFullSnapshot()}))}},{key:"_onScriptLoaded",value:function(){for(var t,n=this,r={blockClass:"ph-no-capture",blockSelector:void 0,ignoreClass:"ph-ignore-input",maskTextClass:"ph-mask",maskTextSelector:void 0,maskTextFn:void 0,maskAllInputs:!0,maskInputOptions:{},maskInputFn:void 0,slimDOMOptions:{},collectFonts:!1,inlineStylesheet:!0,recordCrossOriginIframes:!1},i=this.instance.config.session_recording,s=0,o=Object.entries(i||{});s<o.length;s++){var a=Rr(o[s],2),l=a[0],c=a[1];l in r&&(r[l]=c)}if(this.canvasRecording&&this.canvasRecording.enabled&&(r.recordCanvas=!0,r.sampling={canvas:this.canvasRecording.fps},r.dataURLOptions={type:"image/webp",quality:this.canvasRecording.quality}),this.rrwebRecord){this.mutationRateLimiter=(t=this.mutationRateLimiter)!==null&&t!==void 0?t:new RD(this.rrwebRecord,{onBlockedNode:function(d,h){var p="Too many mutations on node '".concat(d,"'. Rate limiting. This could be due to SVG animations or something similar");ge.info(p,{node:h}),n.log(ni+" "+p,"warn")}}),this._scheduleFullSnapshot();var u=this._gatherRRWebPlugins();this.stopRrweb=this.rrwebRecord(Ce({emit:function(d){n.onRRwebEmit(d)},plugins:u},r)),this.instance._addCaptureHook(function(d){try{if(d==="$pageview"){var h=X?n._maskUrl(X.location.href):"";if(!h)return;n._tryAddCustomEvent("$pageview",{href:h}),n._tryTakeFullSnapshot()}}catch(p){ge.error("Could not add $pageview to rrweb session",p)}}),this._lastActivityTimestamp=Date.now(),this.isIdle=!1,this._tryAddCustomEvent("$session_options",{sessionRecordingOptions:r,activePlugins:u.map(function(d){return d==null?void 0:d.name})}),this._tryAddCustomEvent("$posthog_config",{config:this.instance.config})}else ge.error(ni+"onScriptLoaded was called but rrwebRecord is not available. This indicates something has gone wrong.")}},{key:"_scheduleFullSnapshot",value:function(){var t=this;this._fullSnapshotTimer&&clearInterval(this._fullSnapshotTimer),this._fullSnapshotTimer=setInterval(function(){t._tryTakeFullSnapshot()},_P)}},{key:"_gatherRRWebPlugins",value:function(){var t=[];return si.rrwebConsoleRecord&&this.isConsoleLogCaptureEnabled&&t.push(si.rrwebConsoleRecord.getRecordConsolePlugin()),this.networkPayloadCapture&&vs(si.getRecordNetworkPlugin)&&(!pD.includes(location.hostname)||this._forceAllowLocalhostNetworkCapture?t.push(si.getRecordNetworkPlugin(FD(this.instance.config,this.networkPayloadCapture))):ge.info(ni+" NetworkCapture not started because we are on localhost.")),t}},{key:"onRRwebEmit",value:function(t){if(this._processQueuedEvents(),t&&Fs(t)){if(t.type===Vp.Meta){var n=this._maskUrl(t.data.href);if(this._lastHref=n,!n)return;t.data.href=n}else this._pageViewFallBack();t.type===Vp.FullSnapshot&&this._scheduleFullSnapshot();var r=this.mutationRateLimiter?this.mutationRateLimiter.throttleMutations(t):t;if(r){var i=function(a){var l=a;if(l&&Fs(l)&&l.type===6&&Fs(l.data)&&l.data.plugin==="rrweb/console@1"){l.data.payload.payload.length>10&&(l.data.payload.payload=l.data.payload.payload.slice(0,10),l.data.payload.payload.push("...[truncated]"));for(var c=[],u=0;u<l.data.payload.payload.length;u++)l.data.payload.payload[u]&&l.data.payload.payload[u].length>2e3?c.push(l.data.payload.payload[u].slice(0,2e3)+"...[truncated]"):c.push(l.data.payload.payload[u]);return l.data.payload.payload=c,a}return a}(r),s=JSON.stringify(i).length;if(this._updateWindowAndSessionIds(i),!this.isIdle||i.type===Vp.Custom){var o={$snapshot_bytes:s,$snapshot_data:i,$session_id:this.sessionId,$window_id:this.windowId};this.status!=="disabled"?this._captureSnapshotBuffered(o):this.clearBuffer()}}}}},{key:"_pageViewFallBack",value:function(){if(!this.instance.config.capture_pageview&&X){var t=this._maskUrl(X.location.href);this._lastHref!==t&&(this._tryAddCustomEvent("$url_changed",{href:t}),this._lastHref=t)}}},{key:"_processQueuedEvents",value:function(){var t=this;if(this.queuedRRWebEvents.length){var n=zc(this.queuedRRWebEvents);this.queuedRRWebEvents=[],n.forEach(function(r){Date.now()-r.enqueuedAt>2e3?t._tryAddCustomEvent("rrwebQueueTimeout",{enqueuedAt:r.enqueuedAt,attempt:r.attempt,queueLength:n.length}):t._tryRRWebMethod(r)&&t._tryAddCustomEvent("rrwebQueueSuccess",{enqueuedAt:r.enqueuedAt,attempt:r.attempt,queueLength:n.length})})}}},{key:"_maskUrl",value:function(t){var n=this.instance.config.session_recording;if(n.maskNetworkRequestFn){var r,i={url:t};return(r=i=n.maskNetworkRequestFn(i))===null||r===void 0?void 0:r.url}return t}},{key:"clearBuffer",value:function(){return this.buffer=void 0,{size:0,data:[],sessionId:this.sessionId,windowId:this.windowId}}},{key:"_flushBuffer",value:function(){var t=this;this.flushBufferTimer&&(clearTimeout(this.flushBufferTimer),this.flushBufferTimer=void 0);var n=this.minimumDuration,r=this.sessionDuration,i=cs(r)&&r>=0,s=cs(n)&&i&&r<n;return this.status==="buffering"||s?(this.flushBufferTimer=setTimeout(function(){t._flushBuffer()},2e3),this.buffer||this.clearBuffer()):this.buffer&&this.buffer.data.length!==0?(this._captureSnapshot({$snapshot_bytes:this.buffer.size,$snapshot_data:this.buffer.data,$session_id:this.buffer.sessionId,$window_id:this.buffer.windowId}),this.clearBuffer()):this.buffer||this.clearBuffer()}},{key:"_captureSnapshotBuffered",value:function(t){var n,r=this,i=2+(((n=this.buffer)===null||n===void 0?void 0:n.data.length)||0);(!this.buffer||this.buffer.size+t.$snapshot_bytes+i>943718.4||this.buffer.sessionId&&this.buffer.sessionId!==this.sessionId)&&(this.buffer=this._flushBuffer()),ys(this.buffer.sessionId)&&!ys(this.sessionId)&&(this.buffer.sessionId=this.sessionId,this.buffer.windowId=this.windowId),this.buffer.size+=t.$snapshot_bytes,this.buffer.data.push(t.$snapshot_data),this.flushBufferTimer||(this.flushBufferTimer=setTimeout(function(){r._flushBuffer()},2e3))}},{key:"_captureSnapshot",value:function(t){this.instance.capture("$snapshot",t,{_url:this.instance.requestRouter.endpointFor("api",this._endpoint),_noTruncate:!0,_batchKey:"recordings",_noHeatmaps:!0})}}]),e}(),YD=function(){function e(t){Gt(this,e),this.instance=t,this.instance.decideEndpointWasHit=this.instance._hasBootstrappedFeatureFlags()}return qt(e,[{key:"call",value:function(){var t=this,n={token:this.instance.config.token,distinct_id:this.instance.get_distinct_id(),groups:this.instance.getGroups(),person_properties:this.instance.get_property(ic),group_properties:this.instance.get_property(zo),disable_flags:this.instance.config.advanced_disable_feature_flags||this.instance.config.advanced_disable_feature_flags_on_first_load||void 0};this.instance._send_request({method:"POST",url:this.instance.requestRouter.endpointFor("api","/decide/?v=3"),data:n,compression:this.instance.config.disable_compression?void 0:ds.Base64,timeout:this.instance.config.feature_flag_request_timeout_ms,callback:function(r){return t.parseDecideResponse(r.json)}})}},{key:"parseDecideResponse",value:function(t){var n=this;this.instance.featureFlags.setReloadingPaused(!1),this.instance.featureFlags._startReloadTimer();var r=!t;if(this.instance.config.advanced_disable_feature_flags_on_first_load||this.instance.config.advanced_disable_feature_flags||this.instance.featureFlags.receivedFeatureFlags(t??{},r),r)ge.error("Failed to fetch feature flags from PostHog.");else{if(!we||!we.body)return ge.info("document not ready yet, trying again in 500 milliseconds..."),void setTimeout(function(){n.parseDecideResponse(t)},500);this.instance._afterDecideResponse(t);var i=X==null?void 0:X.extendPostHogWithExceptionAutoCapture;if(t.autocaptureExceptions&&t.autocaptureExceptions&&We(i)&&Xd(this.instance.requestRouter.endpointFor("assets","/static/exception-autocapture.js"),function(l){if(l)return ge.error("Could not load exception autocapture script",l);X.extendPostHogWithExceptionAutocapture(n.instance,t)}),t.siteApps)if(this.instance.config.opt_in_site_apps){var s,o=xs(t.siteApps);try{var a=function(){var l=s.value,c=l.id,u=l.url,d=n.instance.requestRouter.endpointFor("api",u);si["__$$ph_site_app_".concat(c)]=n.instance,Xd(d,function(h){h&&ge.error("Error while initializing PostHog app with config id ".concat(c),h)})};for(o.s();!(s=o.n()).done;)a()}catch(l){o.e(l)}finally{o.f()}}else t.siteApps.length>0&&ge.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.')}}}]),e}(),QD=X!=null&&X.location?Ag(X.location.hash,"__posthog")||Ag(location.hash,"state"):null,Vv="_postHogToolbarParams",JD=function(){function e(t){Gt(this,e),re(this,"_toolbarScriptLoaded",!1),this.instance=t}return qt(e,[{key:"maybeLoadToolbar",value:function(){var t,n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;if(!X||!we)return!1;r=(t=r)!==null&&t!==void 0?t:X.location,s=(n=s)!==null&&n!==void 0?n:X.history;try{if(!i){try{X.localStorage.setItem("test","test"),X.localStorage.removeItem("test")}catch{return!1}i=X==null?void 0:X.localStorage}var o,a=QD||Ag(r.hash,"__posthog")||Ag(r.hash,"state"),l=a?kE(function(){return JSON.parse(atob(decodeURIComponent(a)))})||kE(function(){return JSON.parse(decodeURIComponent(a))}):null;return l&&l.action==="ph_authorize"?((o=l).source="url",o&&Object.keys(o).length>0&&(l.desiredHash?r.hash=l.desiredHash:s?s.replaceState("",we.title,r.pathname+r.search):r.hash="")):((o=JSON.parse(i.getItem(Vv)||"{}")).source="localstorage",delete o.userIntent),!(!o.token||this.instance.config.token!==o.token)&&(this.loadToolbar(o),!0)}catch{return!1}}},{key:"_callLoadToolbar",value:function(t){(si.ph_load_toolbar||si.ph_load_editor)(t,this.instance)}},{key:"loadToolbar",value:function(t){var n=this;if(!X||X.localStorage.getItem(Vv)&&this._toolbarScriptLoaded)return!1;var r=this.instance.requestRouter.region==="custom"&&this.instance.config.advanced_disable_toolbar_metrics,i=Ce(Ce({token:this.instance.config.token},t),{},{apiURL:this.instance.requestRouter.endpointFor("ui")},r?{instrument:!1}:{});if(X.localStorage.setItem(Vv,JSON.stringify(Ce(Ce({},i),{},{source:void 0}))),this._toolbarScriptLoaded)this._callLoadToolbar(i);else{this._toolbarScriptLoaded=!0;var s=3e5,o=Math.floor(Date.now()/s)*s;Xd(this.instance.requestRouter.endpointFor("assets","/static/toolbar.js?t=".concat(o)),function(a){if(a)return ge.error("Failed to load toolbar",a),void(n._toolbarScriptLoaded=!1);n._callLoadToolbar(i)}),fo(X,"turbolinks:load",function(){n._toolbarScriptLoaded=!1,n.loadToolbar(i)})}return!0}},{key:"_loadEditor",value:function(t){return this.loadToolbar(t)}},{key:"maybeLoadEditor",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;return this.maybeLoadToolbar(t,n,r)}}]),e}(),XD=function(){function e(t){Gt(this,e),re(this,"isPaused",!0),re(this,"queue",[]),re(this,"flushTimeoutMs",3e3),this.sendRequest=t}return qt(e,[{key:"enqueue",value:function(t){this.queue.push(t),this.flushTimeout||this.setFlushTimeout()}},{key:"unload",value:function(){var t=this;this.clearFlushTimeout();var n=this.queue.length>0?this.formatQueue():{},r=Object.values(n);[].concat(zc(r.filter(function(i){return i.url.indexOf("/e")===0})),zc(r.filter(function(i){return i.url.indexOf("/e")!==0}))).map(function(i){t.sendRequest(Ce(Ce({},i),{},{transport:"sendBeacon"}))})}},{key:"enable",value:function(){this.isPaused=!1,this.setFlushTimeout()}},{key:"setFlushTimeout",value:function(){var t=this;this.isPaused||(this.flushTimeout=setTimeout(function(){if(t.clearFlushTimeout(),t.queue.length>0){var n=t.formatQueue(),r=function(s){var o=n[s],a=new Date().getTime();o.data&&Bn(o.data)&&Dt(o.data,function(l){l.offset=Math.abs(l.timestamp-a),delete l.timestamp}),t.sendRequest(o)};for(var i in n)r(i)}},this.flushTimeoutMs))}},{key:"clearFlushTimeout",value:function(){clearTimeout(this.flushTimeout),this.flushTimeout=void 0}},{key:"formatQueue",value:function(){var t={};return Dt(this.queue,function(n){var r,i=n,s=(i?i.batchKey:null)||i.url;We(t[s])&&(t[s]=Ce(Ce({},i),{},{data:[]})),(r=t[s].data)===null||r===void 0||r.push(i.data)}),this.queue=[],t}}]),e}(),di=Uint8Array,jr=Uint16Array,Hc=Uint32Array,Ib=new di([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Rb=new di([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),KE=new di([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),bP=function(e,t){for(var n=new jr(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];var i=new Hc(n[30]);for(r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return[n,i]},SP=bP(Ib,2),ZD=SP[0],LA=SP[1];ZD[28]=258,LA[258]=28;for(var YE=bP(Rb,0)[1],NA=new jr(32768),Ut=0;Ut<32768;++Ut){var Oa=(43690&Ut)>>>1|(21845&Ut)<<1;Oa=(61680&(Oa=(52428&Oa)>>>2|(13107&Oa)<<2))>>>4|(3855&Oa)<<4,NA[Ut]=((65280&Oa)>>>8|(255&Oa)<<8)>>>1}var kd=function(e,t,n){for(var r=e.length,i=0,s=new jr(t);i<r;++i)++s[e[i]-1];var o,a=new jr(t);for(i=0;i<t;++i)a[i]=a[i-1]+s[i-1]<<1;if(n){o=new jr(1<<t);var l=15-t;for(i=0;i<r;++i)if(e[i])for(var c=i<<4|e[i],u=t-e[i],d=a[e[i]-1]++<<u,h=d|(1<<u)-1;d<=h;++d)o[NA[d]>>>l]=c}else for(o=new jr(r),i=0;i<r;++i)o[i]=NA[a[e[i]-1]++]>>>15-e[i];return o},hl=new di(288);for(Ut=0;Ut<144;++Ut)hl[Ut]=8;for(Ut=144;Ut<256;++Ut)hl[Ut]=9;for(Ut=256;Ut<280;++Ut)hl[Ut]=7;for(Ut=280;Ut<288;++Ut)hl[Ut]=8;var xg=new di(32);for(Ut=0;Ut<32;++Ut)xg[Ut]=5;var e$=kd(hl,9,0),t$=kd(xg,5,0),xP=function(e){return(e/8>>0)+(7&e&&1)},wP=function(e,t,n){(t==null||t<0)&&(t=0),(n==null||n>e.length)&&(n=e.length);var r=new(e instanceof jr?jr:e instanceof Hc?Hc:di)(n-t);return r.set(e.subarray(t,n)),r},ro=function(e,t,n){n<<=7&t;var r=t/8>>0;e[r]|=n,e[r+1]|=n>>>8},$u=function(e,t,n){n<<=7&t;var r=t/8>>0;e[r]|=n,e[r+1]|=n>>>8,e[r+2]|=n>>>16},Lv=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var i=n.length,s=n.slice();if(!i)return[new di(0),0];if(i==1){var o=new di(n[0].s+1);return o[n[0].s]=1,[o,1]}n.sort(function(b,w){return b.f-w.f}),n.push({s:-1,f:25001});var a=n[0],l=n[1],c=0,u=1,d=2;for(n[0]={s:-1,f:a.f+l.f,l:a,r:l};u!=i-1;)a=n[n[c].f<n[d].f?c++:d++],l=n[c!=u&&n[c].f<n[d].f?c++:d++],n[u++]={s:-1,f:a.f+l.f,l:a,r:l};var h=s[0].s;for(r=1;r<i;++r)s[r].s>h&&(h=s[r].s);var p=new jr(h+1),g=n$(n[u-1],p,0);if(g>t){r=0;var m=0,_=g-t,v=1<<_;for(s.sort(function(b,w){return p[w.s]-p[b.s]||b.f-w.f});r<i;++r){var y=s[r].s;if(!(p[y]>t))break;m+=v-(1<<g-p[y]),p[y]=t}for(m>>>=_;m>0;){var S=s[r].s;p[S]<t?m-=1<<t-p[S]++-1:++r}for(;r>=0&&m;--r){var x=s[r].s;p[x]==t&&(--p[x],++m)}g=t}return[new di(p),g]},n$=function e(t,n,r){return t.s==-1?Math.max(e(t.l,n,r+1),e(t.r,n,r+1)):n[t.s]=r},QE=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new jr(++t),r=0,i=e[0],s=1,o=function(l){n[r++]=l},a=1;a<=t;++a)if(e[a]==i&&a!=t)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=e[a]}return[n.subarray(0,r),t]},Fu=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},Lp=function(e,t,n){var r=n.length,i=xP(t+2);e[i]=255&r,e[i+1]=r>>>8,e[i+2]=255^e[i],e[i+3]=255^e[i+1];for(var s=0;s<r;++s)e[i+s+4]=n[s];return 8*(i+4+r)},JE=function(e,t,n,r,i,s,o,a,l,c,u){ro(t,u++,n),++i[256];for(var d=Lv(i,15),h=d[0],p=d[1],g=Lv(s,15),m=g[0],_=g[1],v=QE(h),y=v[0],S=v[1],x=QE(m),b=x[0],w=x[1],E=new jr(19),T=0;T<y.length;++T)E[31&y[T]]++;for(T=0;T<b.length;++T)E[31&b[T]]++;for(var $=Lv(E,7),N=$[0],B=$[1],K=19;K>4&&!N[KE[K-1]];--K);var P,L,R,I,F=c+5<<3,j=Fu(i,hl)+Fu(s,xg)+o,z=Fu(i,h)+Fu(s,m)+o+14+3*K+Fu(E,N)+(2*E[16]+3*E[17]+7*E[18]);if(F<=j&&F<=z)return Lp(t,u,e.subarray(l,l+c));if(ro(t,u,1+(z<j)),u+=2,z<j){P=kd(h,p,0),L=h,R=kd(m,_,0),I=m;var V=kd(N,B,0);for(ro(t,u,S-257),ro(t,u+5,w-1),ro(t,u+10,K-4),u+=14,T=0;T<K;++T)ro(t,u+3*T,N[KE[T]]);u+=3*K;for(var G=[y,b],U=0;U<2;++U){var ne=G[U];for(T=0;T<ne.length;++T){var O=31&ne[T];ro(t,u,V[O]),u+=N[O],O>15&&(ro(t,u,ne[T]>>>5&127),u+=ne[T]>>>12)}}}else P=e$,L=hl,R=t$,I=xg;for(T=0;T<a;++T)if(r[T]>255){O=r[T]>>>18&31,$u(t,u,P[O+257]),u+=L[O+257],O>7&&(ro(t,u,r[T]>>>23&31),u+=Ib[O]);var de=31&r[T];$u(t,u,R[de]),u+=I[de],de>3&&($u(t,u,r[T]>>>5&8191),u+=Rb[de])}else $u(t,u,P[r[T]]),u+=L[r[T]];return $u(t,u,P[256]),u+L[256]},r$=new Hc([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),i$=new di(0),s$=function(){for(var e=new Hc(256),t=0;t<256;++t){for(var n=t,r=9;--r;)n=(1&n&&3988292384)^n>>>1;e[t]=n}return e}(),o$=function(e,t,n,r,i){return function(s,o,a,l,c,u){var d=s.length,h=new di(l+d+5*(1+Math.floor(d/7e3))+c),p=h.subarray(l,h.length-c),g=0;if(!o||d<8)for(var m=0;m<=d;m+=65535){var _=m+65535;_<d?g=Lp(p,g,s.subarray(m,_)):(p[m]=u,g=Lp(p,g,s.subarray(m,d)))}else{for(var v=r$[o-1],y=v>>>13,S=8191&v,x=(1<<a)-1,b=new jr(32768),w=new jr(x+1),E=Math.ceil(a/3),T=2*E,$=function(Ye){return(s[Ye]^s[Ye+1]<<E^s[Ye+2]<<T)&x},N=new Hc(25e3),B=new jr(288),K=new jr(32),P=0,L=0,R=(m=0,0),I=0,F=0;m<d;++m){var j=$(m),z=32767&m,V=w[j];if(b[z]=V,w[j]=z,I<=m){var G=d-m;if((P>7e3||R>24576)&&G>423){g=JE(s,p,0,N,B,K,L,R,F,m-F,g),R=P=L=0,F=m;for(var U=0;U<286;++U)B[U]=0;for(U=0;U<30;++U)K[U]=0}var ne=2,O=0,de=S,Z=z-V&32767;if(G>2&&j==$(m-Z))for(var oe=Math.min(y,G)-1,Pe=Math.min(32767,m),Ae=Math.min(258,G);Z<=Pe&&--de&&z!=V;){if(s[m+ne]==s[m+ne-Z]){for(var le=0;le<Ae&&s[m+le]==s[m+le-Z];++le);if(le>ne){if(ne=le,O=Z,le>oe)break;var be=Math.min(Z,le-2),He=0;for(U=0;U<be;++U){var Fe=m-Z+U+32768&32767,Se=Fe-b[Fe]+32768&32767;Se>He&&(He=Se,V=Fe)}}}Z+=(z=V)-(V=b[z])+32768&32767}if(O){N[R++]=268435456|LA[ne]<<18|YE[O];var Ee=31&LA[ne],Ke=31&YE[O];L+=Ib[Ee]+Rb[Ke],++B[257+Ee],++K[Ke],I=m+ne,++P}else N[R++]=s[m],++B[s[m]]}}g=JE(s,p,u,N,B,K,L,R,F,m-F,g),u||(g=Lp(p,g,i$))}return wP(h,0,l+xP(g)+c)}(e,t.level==null?6:t.level,t.mem==null?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):12+t.mem,n,r,!i)},Nv=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8};function a$(e,t){t===void 0&&(t={});var n=function(){var a=4294967295;return{p:function(l){for(var c=a,u=0;u<l.length;++u)c=s$[255&c^l[u]]^c>>>8;a=c},d:function(){return 4294967295^a}}}(),r=e.length;n.p(e);var i,s=o$(e,t,10+((i=t).filename&&i.filename.length+1||0),8),o=s.length;return function(a,l){var c=l.filename;if(a[0]=31,a[1]=139,a[2]=8,a[8]=l.level<2?4:l.level==9?2:0,a[9]=3,l.mtime!=0&&Nv(a,4,Math.floor(new Date(l.mtime||Date.now())/1e3)),c){a[3]=8;for(var u=0;u<=c.length;++u)a[u+10]=c.charCodeAt(u)}}(s,t),Nv(s,o-8,n.d()),Nv(s,o-4,r),s}var l$=!!_b||!!Ab,XE="text/plain",wg=function(e,t){var n=Rr(e.split("?"),2),r=n[0],i=n[1],s=Ce({},t);i==null||i.split("&").forEach(function(a){var l=Rr(a.split("="),1)[0];delete s[l]});var o=mD(s);return o=o?(i?i+"&":"")+o:i,"".concat(r,"?").concat(o)},c$=function(e){return"data="+encodeURIComponent(typeof e=="string"?e:JSON.stringify(e))},Mb=function(e){var t=e.data,n=e.compression;if(t){if(n===ds.GZipJS){var r=a$(function(s,o){var a=s.length;if(!o&&typeof TextEncoder<"u")return new TextEncoder().encode(s);for(var l=new di(s.length+(s.length>>>1)),c=0,u=function(g){l[c++]=g},d=0;d<a;++d){if(c+5>l.length){var h=new di(c+8+(a-d<<1));h.set(l),l=h}var p=s.charCodeAt(d);p<128||o?u(p):p<2048?(u(192|p>>>6),u(128|63&p)):p>55295&&p<57344?(u(240|(p=65536+(1047552&p)|1023&s.charCodeAt(++d))>>>18),u(128|p>>>12&63),u(128|p>>>6&63),u(128|63&p)):(u(224|p>>>12),u(128|p>>>6&63),u(128|63&p))}return wP(l,0,c)}(JSON.stringify(t)),{mtime:0});return{contentType:XE,body:new Blob([r],{type:XE})}}if(n===ds.Base64){var i=function(s){var o,a,l,c,u,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",h=0,p=0,g="",m=[];if(!s)return s;s=nD(s);do o=(u=s.charCodeAt(h++)<<16|s.charCodeAt(h++)<<8|s.charCodeAt(h++))>>18&63,a=u>>12&63,l=u>>6&63,c=63&u,m[p++]=d.charAt(o)+d.charAt(a)+d.charAt(l)+d.charAt(c);while(h<s.length);switch(g=m.join(""),s.length%3){case 1:g=g.slice(0,-2)+"==";break;case 2:g=g.slice(0,-1)+"="}return g}(JSON.stringify(t));return{contentType:"application/x-www-form-urlencoded",body:c$(i)}}return{contentType:"application/json",body:JSON.stringify(t)}}},u$=function(e){var t,n=new _b;n.open(e.method||"GET",e.url,!0);var r=(t=Mb(e))!==null&&t!==void 0?t:{},i=r.contentType,s=r.body;Dt(e.headers,function(o,a){n.setRequestHeader(a,o)}),i&&n.setRequestHeader("Content-Type",i),e.timeout&&(n.timeout=e.timeout),n.withCredentials=!0,n.onreadystatechange=function(){if(n.readyState===4){var o,a={statusCode:n.status,text:n.responseText};if(n.status===200)try{a.json=JSON.parse(n.responseText)}catch{}(o=e.callback)===null||o===void 0||o.call(e,a)}},n.send(s)},d$=function(e){var t,n,r=(t=Mb(e))!==null&&t!==void 0?t:{},i=r.contentType,s=r.body,o=new Headers;Dt(o,function(u,d){o.append(d,u)}),i&&o.append("Content-Type",i);var a=e.url,l=null;if(wE){var c=new wE;l={signal:c.signal,timeout:setTimeout(function(){return c.abort()},e.timeout)}}Ab(a,{method:(e==null?void 0:e.method)||"GET",headers:o,keepalive:e.method==="POST",body:s,signal:(n=l)===null||n===void 0?void 0:n.signal}).then(function(u){return u.text().then(function(d){var h,p={statusCode:u.status,text:d};if(u.status===200)try{p.json=JSON.parse(d)}catch(g){ge.error(g)}(h=e.callback)===null||h===void 0||h.call(e,p)})}).catch(function(u){var d;ge.error(u),(d=e.callback)===null||d===void 0||d.call(e,{statusCode:0,text:u})}).finally(function(){return l?clearTimeout(l.timeout):null})},f$=function(e){var t=wg(e.url,{beacon:"1"});try{var n,r=(n=Mb(e))!==null&&n!==void 0?n:{},i=r.contentType,s=r.body,o=typeof s=="string"?new Blob([s],{type:i}):s;Jd.sendBeacon(t,o)}catch{}},h$=function(e){var t;if(we){var n=we.createElement("script");n.type="text/javascript",n.async=!0,n.defer=!0,n.src=e.url;var r=we.getElementsByTagName("script")[0];(t=r.parentNode)===null||t===void 0||t.insertBefore(n,r)}},p$=["retriesPerformedSoFar"],Ya,g$=function(){function e(t){var n=this;Gt(this,e),re(this,"isPolling",!1),re(this,"pollIntervalMs",3e3),re(this,"queue",[]),this.instance=t,this.queue=[],this.areWeOnline=!0,!We(X)&&"onLine"in X.navigator&&(this.areWeOnline=X.navigator.onLine,X.addEventListener("online",function(){n.areWeOnline=!0,n.flush()}),X.addEventListener("offline",function(){n.areWeOnline=!1}))}return qt(e,[{key:"retriableRequest",value:function(t){var n=this,r=t.retriesPerformedSoFar,i=JB(t,p$);cs(r)&&r>0&&(i.url=wg(i.url,{retry_count:r})),this.instance._send_request(Ce(Ce({},i),{},{callback:function(s){var o;s.statusCode!==200&&(s.statusCode<400||s.statusCode>=500)&&(r??0)<10?n.enqueue(Ce({},i)):(o=i.callback)===null||o===void 0||o.call(i,s)}}))}},{key:"enqueue",value:function(t){var n=t.retriesPerformedSoFar||0;t.retriesPerformedSoFar=n+1;var r=function(o){var a=3e3*Math.pow(2,o),l=a/2,c=Math.min(18e5,a),u=(Math.random()-.5)*(c-l);return Math.ceil(c+u)}(n),i=Date.now()+r;this.queue.push({retryAt:i,requestOptions:t});var s="Enqueued failed request for retry in ".concat(r);navigator.onLine||(s+=" (Browser is offline)"),ge.warn(s),this.isPolling||(this.isPolling=!0,this.poll())}},{key:"poll",value:function(){var t=this;this.poller&&clearTimeout(this.poller),this.poller=setTimeout(function(){t.areWeOnline&&t.queue.length>0&&t.flush(),t.poll()},this.pollIntervalMs)}},{key:"flush",value:function(){var t=Date.now(),n=[],r=this.queue.filter(function(a){return a.retryAt<t||(n.push(a),!1)});if(this.queue=n,r.length>0){var i,s=xs(r);try{for(s.s();!(i=s.n()).done;){var o=i.value.requestOptions;this.retriableRequest(o)}}catch(a){s.e(a)}finally{s.f()}}}},{key:"unload",value:function(){this.poller&&(clearTimeout(this.poller),this.poller=void 0);var t,n=xs(this.queue);try{for(n.s();!(t=n.n()).done;){var r=t.value.requestOptions;try{this.instance._send_request(Ce(Ce({},r),{},{transport:"sendBeacon"}))}catch(i){ge.error(i)}}}catch(i){n.e(i)}finally{n.f()}this.queue=[]}}]),e}(),Vh=1800,m$=function(){function e(t,n,r,i){Gt(this,e),re(this,"_sessionIdChangedHandlers",[]),this.config=t,this.persistence=n,this._windowId=void 0,this._sessionId=void 0,this._sessionStartTimestamp=null,this._sessionActivityTimestamp=null,this._sessionIdGenerator=r||Jo,this._windowIdGenerator=i||Jo;var s=t.persistence_name||t.token,o=t.session_idle_timeout_seconds||Vh;if(cs(o)?o>Vh?ge.warn("session_idle_timeout_seconds cannot be  greater than 30 minutes. Using 30 minutes instead."):o<60&&ge.warn("session_idle_timeout_seconds cannot be less than 60 seconds. Using 60 seconds instead."):(ge.warn("session_idle_timeout_seconds must be a number. Defaulting to 30 minutes."),o=Vh),this._sessionTimeoutMs=1e3*Math.min(Math.max(o,60),Vh),this._window_id_storage_key="ph_"+s+"_window_id",this._primary_window_exists_storage_key="ph_"+s+"_primary_window_exists",this._canUseSessionStorage()){var a=or.parse(this._window_id_storage_key),l=or.parse(this._primary_window_exists_storage_key);a&&!l?this._windowId=a:or.remove(this._window_id_storage_key),or.set(this._primary_window_exists_storage_key,!0)}this._listenToReloadWindow()}return qt(e,[{key:"onSessionId",value:function(t){var n=this;return We(this._sessionIdChangedHandlers)&&(this._sessionIdChangedHandlers=[]),this._sessionIdChangedHandlers.push(t),this._sessionId&&t(this._sessionId,this._windowId),function(){n._sessionIdChangedHandlers=n._sessionIdChangedHandlers.filter(function(r){return r!==t})}}},{key:"_canUseSessionStorage",value:function(){return this.config.persistence!=="memory"&&!this.persistence.disabled&&or.is_supported()}},{key:"_setWindowId",value:function(t){t!==this._windowId&&(this._windowId=t,this._canUseSessionStorage()&&or.set(this._window_id_storage_key,t))}},{key:"_getWindowId",value:function(){return this._windowId?this._windowId:this._canUseSessionStorage()?or.parse(this._window_id_storage_key):null}},{key:"_setSessionId",value:function(t,n,r){t===this._sessionId&&n===this._sessionActivityTimestamp&&r===this._sessionStartTimestamp||(this._sessionStartTimestamp=r,this._sessionActivityTimestamp=n,this._sessionId=t,this.persistence.register(re({},mg,[n,t,r])))}},{key:"_getSessionId",value:function(){if(this._sessionId&&this._sessionActivityTimestamp&&this._sessionStartTimestamp)return[this._sessionActivityTimestamp,this._sessionId,this._sessionStartTimestamp];var t=this.persistence.props[mg];return Bn(t)&&t.length===2&&t.push(t[0]),t||[0,null,0]}},{key:"resetSessionId",value:function(){this._setSessionId(null,null,null)}},{key:"_listenToReloadWindow",value:function(){var t=this;X==null||X.addEventListener("beforeunload",function(){t._canUseSessionStorage()&&or.remove(t._primary_window_exists_storage_key)})}},{key:"checkAndGetSessionAndWindowId",value:function(){var t=arguments.length>0&&arguments[0]!==void 0&&arguments[0],n=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:null)||new Date().getTime(),r=Rr(this._getSessionId(),3),i=r[0],s=r[1],o=r[2],a=this._getWindowId(),l=o&&o>0&&Math.abs(n-o)>864e5,c=!1,u=!s,d=!t&&Math.abs(n-i)>this._sessionTimeoutMs;u||d||l?(s=this._sessionIdGenerator(),a=this._windowIdGenerator(),ge.info("[SessionId] new session ID generated",{sessionId:s,windowId:a,changeReason:{noSessionId:u,activityTimeout:d,sessionPastMaximumLength:l}}),o=n,c=!0):a||(a=this._windowIdGenerator(),c=!0);var h=i===0||!t||l?n:i,p=o===0?new Date().getTime():o;return this._setWindowId(a),this._setSessionId(s,h,p),c&&this._sessionIdChangedHandlers.forEach(function(g){return g(s,a)}),{sessionId:s,windowId:a,sessionStartTimestamp:p}}}]),e}();(function(e){e.US="us",e.EU="eu",e.CUSTOM="custom"})(Ya||(Ya={}));var ZE="i.posthog.com",v$=function(){function e(t){Gt(this,e),re(this,"_regionCache",{}),this.instance=t}return qt(e,[{key:"apiHost",get:function(){return this.instance.config.api_host.trim().replace(/\/$/,"")}},{key:"uiHost",get:function(){var t;return(t=this.instance.config.ui_host)===null||t===void 0?void 0:t.replace(/\/$/,"")}},{key:"region",get:function(){return this._regionCache[this.apiHost]||(/https:\/\/(app|us|us-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this._regionCache[this.apiHost]=Ya.US:/https:\/\/(eu|eu-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this._regionCache[this.apiHost]=Ya.EU:this._regionCache[this.apiHost]=Ya.CUSTOM),this._regionCache[this.apiHost]}},{key:"endpointFor",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(n&&(n=n[0]==="/"?n:"/".concat(n)),t==="ui")return(this.uiHost||this.apiHost.replace(".".concat(ZE),".posthog.com"))+n;if(this.region===Ya.CUSTOM)return this.apiHost+n;var r=ZE+n;switch(t){case"assets":return"https://".concat(this.region,"-assets.").concat(r);case"api":return"https://".concat(this.region,".").concat(r)}}}]),e}(),y$=qt(function e(t,n,r,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:["error"];Gt(this,e),this.name="posthog-js",this.setupOnce=function(o){o(function(a){var l,c,u,d,h;if(!(s==="*"||s.includes(a.level))||!t.__loaded)return a;a.tags||(a.tags={});var p=t.requestRouter.endpointFor("ui","/project/".concat(t.config.token,"/person/").concat(t.get_distinct_id()));a.tags["PostHog Person URL"]=p,t.sessionRecordingStarted()&&(a.tags["PostHog Recording URL"]=t.get_session_replay_url({withTimestamp:!0}));var g=((l=a.exception)===null||l===void 0?void 0:l.values)||[],m={$exception_message:((c=g[0])===null||c===void 0?void 0:c.value)||a.message,$exception_type:(u=g[0])===null||u===void 0?void 0:u.type,$exception_personURL:p,$sentry_event_id:a.event_id,$sentry_exception:a.exception,$sentry_exception_message:((d=g[0])===null||d===void 0?void 0:d.value)||a.message,$sentry_exception_type:(h=g[0])===null||h===void 0?void 0:h.type,$sentry_tags:a.tags,$level:a.level};return n&&r&&(m.$sentry_url=(i||"https://sentry.io/organizations/")+n+"/issues/?project="+r+"&query="+a.event_id),t.capture("$exception",m),a})}});function A$(e,t){var n=e.config.segment;if(!n)return t();(function(r,i){var s=r.config.segment;if(!s)return i();var o=function(l){var c=function(){return l.anonymousId()||Jo()};r.config.get_device_id=c,l.id()&&(r.register({distinct_id:l.id(),$device_id:c()}),r.persistence.set_property(oo,"identified")),i()},a=s.user();"then"in a&&vs(a.then)?a.then(function(l){return o(l)}):o(a)})(e,function(){n.register(function(r){Promise&&Promise.resolve||ge.warn("This browser does not have Promise support, and can not use the segment integration");var i=function(s,o){var a;if(!o)return s;s.event.userId||s.event.anonymousId===r.get_distinct_id()||r.reset(),s.event.userId&&s.event.userId!==r.get_distinct_id()&&(r.register({distinct_id:s.event.userId}),r.reloadFeatureFlags());var l=r._calculate_event_properties(o,(a=s.event.properties)!==null&&a!==void 0?a:{});return s.event.properties=Object.assign({},l,s.event.properties),s};return{name:"PostHog JS",type:"enrichment",version:"1.0.0",isLoaded:function(){return!0},load:function(){return Promise.resolve()},track:function(s){return i(s,s.event.event)},page:function(s){return i(s,"$pageview")},identify:function(s){return i(s,"$identify")},screen:function(s){return i(s,"$screen")}}}(e)).then(function(){t()})})}var _$=function(){function e(t){Gt(this,e),this._instance=t}return qt(e,[{key:"doPageView",value:function(){var t,n=this._previousScrollProperties();return this._currentPath=(t=X==null?void 0:X.location.pathname)!==null&&t!==void 0?t:"",this._instance.scrollManager.resetContext(),n}},{key:"doPageLeave",value:function(){return this._previousScrollProperties()}},{key:"_previousScrollProperties",value:function(){var t=this._currentPath,n=this._instance.scrollManager.getContext();if(!t||!n)return{};var r=n.maxScrollHeight,i=n.lastScrollY,s=n.maxScrollY,o=n.maxContentHeight,a=n.lastContentY,l=n.maxContentY;return We(r)||We(i)||We(s)||We(o)||We(a)||We(l)?{}:(r=Math.ceil(r),i=Math.ceil(i),s=Math.ceil(s),o=Math.ceil(o),a=Math.ceil(a),l=Math.ceil(l),{$prev_pageview_pathname:t,$prev_pageview_last_scroll:i,$prev_pageview_last_scroll_percentage:r<=1?1:Lh(i/r,0,1),$prev_pageview_max_scroll:s,$prev_pageview_max_scroll_percentage:r<=1?1:Lh(s/r,0,1),$prev_pageview_last_content:a,$prev_pageview_last_content_percentage:o<=1?1:Lh(a/o,0,1),$prev_pageview_max_content:l,$prev_pageview_max_content_percentage:o<=1?1:Lh(l/o,0,1)})}}]),e}();function Lh(e,t,n){return Math.max(t,Math.min(e,n))}var b$={icontains:function(e){return!!X&&X.location.href.toLowerCase().indexOf(e.toLowerCase())>-1},regex:function(e){return!!X&&gD(X.location.href,e)},exact:function(e){return(X==null?void 0:X.location.href)===e}},S$=function(){function e(t){Gt(this,e),this.instance=t}return qt(e,[{key:"afterDecideResponse",value:function(t){this._decideServerResponse=!!t.surveys,this.loadIfEnabled()}},{key:"loadIfEnabled",value:function(){var t=this,n=si==null?void 0:si.extendPostHogWithSurveys;this.instance.config.disable_surveys||!this._decideServerResponse||n||Xd(this.instance.requestRouter.endpointFor("assets","/static/surveys.js"),function(r){if(r)return ge.error("Could not load surveys script",r);si.extendPostHogWithSurveys(t.instance)})}},{key:"getSurveys",value:function(t){var n=this,r=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(this.instance.config.disable_surveys)return t([]);var i=this.instance.get_property(EA);if(i&&!r)return t(i);this.instance._send_request({url:this.instance.requestRouter.endpointFor("api","/api/surveys/?token=".concat(this.instance.config.token)),method:"GET",transport:"XHR",callback:function(s){var o;if(s.statusCode!==200||!s.json)return t([]);var a=s.json.surveys||[];return(o=n.instance.persistence)===null||o===void 0||o.register(re({},EA,a)),t(a)}})}},{key:"getActiveMatchingSurveys",value:function(t){var n=this,r=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.getSurveys(function(i){var s=i.filter(function(o){return!(!o.start_date||o.end_date)}).filter(function(o){var a,l,c,u;if(!o.conditions)return!0;var d=(a=o.conditions)===null||a===void 0||!a.url||b$[(l=(c=o.conditions)===null||c===void 0?void 0:c.urlMatchType)!==null&&l!==void 0?l:"icontains"](o.conditions.url),h=(u=o.conditions)===null||u===void 0||!u.selector||(we==null?void 0:we.querySelector(o.conditions.selector));return d&&h}).filter(function(o){if(!o.linked_flag_key&&!o.targeting_flag_key)return!0;var a=!o.linked_flag_key||n.instance.featureFlags.isFeatureEnabled(o.linked_flag_key),l=!o.targeting_flag_key||n.instance.featureFlags.isFeatureEnabled(o.targeting_flag_key);return a&&l});return t(s)},r)}}]),e}(),x$=function(){function e(t){var n,r,i=this;Gt(this,e),re(this,"serverLimits",{}),re(this,"lastEventRateLimited",!1),re(this,"checkForLimiting",function(s){var o=s.text;if(o&&o.length)try{(JSON.parse(o).quota_limited||[]).forEach(function(a){ge.info("[RateLimiter] ".concat(a||"events"," is quota limited.")),i.serverLimits[a]=new Date().getTime()+6e4})}catch(a){return void ge.warn('[RateLimiter] could not rate limit - continuing. Error: "'.concat(a==null?void 0:a.message,'"'),{text:o})}}),this.instance=t,this.captureEventsPerSecond=((n=t.config.rate_limiting)===null||n===void 0?void 0:n.events_per_second)||10,this.captureEventsBurstLimit=Math.max(((r=t.config.rate_limiting)===null||r===void 0?void 0:r.events_burst_limit)||10*this.captureEventsPerSecond,this.captureEventsPerSecond),this.lastEventRateLimited=this.isCaptureClientSideRateLimited(!0)}return qt(e,[{key:"isCaptureClientSideRateLimited",value:function(){var t,n,r,i=arguments.length>0&&arguments[0]!==void 0&&arguments[0],s=new Date().getTime(),o=(t=(n=this.instance.persistence)===null||n===void 0?void 0:n.get_property(CA))!==null&&t!==void 0?t:{tokens:this.captureEventsBurstLimit,last:s};o.tokens+=(s-o.last)/1e3*this.captureEventsPerSecond,o.last=s,o.tokens>this.captureEventsBurstLimit&&(o.tokens=this.captureEventsBurstLimit);var a=o.tokens<1;return a||i||(o.tokens=Math.max(0,o.tokens-1)),!a||this.lastEventRateLimited||i||this.instance.capture("$$client_ingestion_warning",{$$client_ingestion_warning_message:"posthog-js client rate limited. Config is set to ".concat(this.captureEventsPerSecond," events per second and ").concat(this.captureEventsBurstLimit," events burst limit.")},{skip_client_rate_limiting:!0}),this.lastEventRateLimited=a,(r=this.instance.persistence)===null||r===void 0||r.set_property(CA,o),a}},{key:"isServerRateLimited",value:function(t){var n=this.serverLimits[t||"events"]||!1;return n!==!1&&new Date().getTime()<n}}]),e}(),w$=function(){return Ce({initialPathName:(ji==null?void 0:ji.pathname)||"",referringDomain:Yn.referringDomain()},Yn.campaignParams())},E$=function(){function e(t,n,r){var i=this;Gt(this,e),re(this,"_onSessionIdCallback",function(s){var o=i._getStoredProps();if(!o||o.sessionId!==s){var a={sessionId:s,props:i._sessionSourceParamGenerator()};i._persistence.register(re({},kA,a))}}),this._sessionIdManager=t,this._persistence=n,this._sessionSourceParamGenerator=r||w$,this._sessionIdManager.onSessionId(this._onSessionIdCallback)}return qt(e,[{key:"_getStoredProps",value:function(){return this._persistence.props[kA]}},{key:"getSessionProps",value:function(){var t,n=(t=this._getStoredProps())===null||t===void 0?void 0:t.props;return n?{$client_session_initial_referring_host:n.referringDomain,$client_session_initial_pathname:n.initialPathName,$client_session_initial_utm_source:n.utm_source,$client_session_initial_utm_campaign:n.utm_campaign,$client_session_initial_utm_medium:n.utm_medium,$client_session_initial_utm_content:n.utm_content,$client_session_initial_utm_term:n.utm_term}:{}}}]),e}(),k$=["ahrefsbot","ahrefssiteaudit","applebot","baiduspider","bingbot","bingpreview","bot.htm","bot.php","crawler","deepscan","duckduckbot","facebookexternal","facebookcatalog","gptbot","http://yandex.com/bots","hubspot","ia_archiver","linkedinbot","mj12bot","msnbot","nessus","petalbot","pinterest","prerender","rogerbot","screaming frog","semrushbot","sitebulb","slurp","turnitin","twitterbot","vercelbot","yahoo! slurp","yandexbot","adsbot-google","apis-google","duplexweb-google","feedfetcher-google","google favicon","google web preview","google-read-aloud","googlebot","googleweblight","mediapartners-google","storebot-google","Bytespider;"],e2=function(e,t){if(!e)return!1;var n=e.toLowerCase();return k$.concat(t||[]).some(function(r){var i=r.toLowerCase();return n.indexOf(i)!==-1})},EP=function(){function e(){Gt(this,e),this.clicks=[]}return qt(e,[{key:"isRageClick",value:function(t,n,r){var i=this.clicks[this.clicks.length-1];if(i&&Math.abs(t-i.x)+Math.abs(n-i.y)<30&&r-i.timestamp<1e3){if(this.clicks.push({x:t,y:n,timestamp:r}),this.clicks.length===3)return!0}else this.clicks=[{x:t,y:n,timestamp:r}];return!1}}]),e}(),t2="__POSTHOG_TOOLBAR__";function n2(e){var t;return e.id===t2||!((t=e.closest)===null||t===void 0||!t.call(e,"#"+t2))}var C$=function(){function e(t){var n;Gt(this,e),re(this,"rageclicks",new EP),re(this,"_enabledServerSide",!1),re(this,"_initialized",!1),this.instance=t,this._enabledServerSide=!((n=this.instance.persistence)===null||n===void 0||!n.props[SA])}return qt(e,[{key:"startIfEnabled",value:function(){this.isEnabled&&!this._initialized&&this._setupListeners()}},{key:"isEnabled",get:function(){return We(this.instance.config.enable_heatmaps)?this._enabledServerSide:this.instance.config.enable_heatmaps}},{key:"afterDecideResponse",value:function(t){var n=!!t.heatmaps;this.instance.persistence&&this.instance.persistence.register(re({},SA,n)),this._enabledServerSide=n,this.startIfEnabled()}},{key:"getAndClearBuffer",value:function(){var t=this.buffer;return this.buffer=void 0,t}},{key:"_setupListeners",value:function(){var t=this;X&&we&&(fo(we,"click",function(n){return t._onClick(n||(X==null?void 0:X.event))},!1,!0),fo(we,"mousemove",function(n){return t._onMouseMove(n||(X==null?void 0:X.event))},!1,!0),this._initialized=!0)}},{key:"_getProperties",value:function(t,n){var r=this.instance.scrollManager.scrollY(),i=this.instance.scrollManager.scrollX(),s=this.instance.scrollManager.scrollElement(),o=function(a,l,c){for(var u=a;u&&!sa(u,"body");){if(u===c)return!1;if(ft(l,X==null?void 0:X.getComputedStyle(u).position))return!0;u=dP(u)}return!1}(t.target,["fixed","sticky"],s);return{x:t.clientX+(o?0:i),y:t.clientY+(o?0:r),target_fixed:o,type:n}}},{key:"_onClick",value:function(t){var n;if(!n2(t.target)){var r=this._getProperties(t,"click");(n=this.rageclicks)!==null&&n!==void 0&&n.isRageClick(t.clientX,t.clientY,new Date().getTime())&&this._capture(Ce(Ce({},r),{},{type:"rageclick"})),this._capture(r)}}},{key:"_onMouseMove",value:function(t){var n=this;n2(t.target)||(clearTimeout(this._mouseMoveTimeout),this._mouseMoveTimeout=setTimeout(function(){n._capture(n._getProperties(t,"mousemove"))},500))}},{key:"_capture",value:function(t){if(X){var n=X.location.href;this.buffer=this.buffer||{},this.buffer[n]||(this.buffer[n]=[]),this.buffer[n].push(t)}}}]),e}(),T$=function(){function e(t){var n=this;Gt(this,e),re(this,"_updateScrollData",function(){var r,i,s,o;n.context||(n.context={});var a=n.scrollElement(),l=n.scrollY(),c=a?Math.max(0,a.scrollHeight-a.clientHeight):0,u=l+((a==null?void 0:a.clientHeight)||0),d=(a==null?void 0:a.scrollHeight)||0;n.context.lastScrollY=Math.ceil(l),n.context.maxScrollY=Math.max(l,(r=n.context.maxScrollY)!==null&&r!==void 0?r:0),n.context.maxScrollHeight=Math.max(c,(i=n.context.maxScrollHeight)!==null&&i!==void 0?i:0),n.context.lastContentY=u,n.context.maxContentY=Math.max(u,(s=n.context.maxContentY)!==null&&s!==void 0?s:0),n.context.maxContentHeight=Math.max(d,(o=n.context.maxContentHeight)!==null&&o!==void 0?o:0)}),this.instance=t}return qt(e,[{key:"getContext",value:function(){return this.context}},{key:"resetContext",value:function(){var t=this.context;return setTimeout(this._updateScrollData,0),t}},{key:"startMeasuringScrollPosition",value:function(){X==null||X.addEventListener("scroll",this._updateScrollData,!0),X==null||X.addEventListener("scrollend",this._updateScrollData,!0),X==null||X.addEventListener("resize",this._updateScrollData)}},{key:"scrollElement",value:function(){if(!this.instance.config.scroll_root_selector)return X==null?void 0:X.document.documentElement;var t,n=xs(Bn(this.instance.config.scroll_root_selector)?this.instance.config.scroll_root_selector:[this.instance.config.scroll_root_selector]);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=X==null?void 0:X.document.querySelector(r);if(i)return i}}catch(s){n.e(s)}finally{n.f()}}},{key:"scrollY",value:function(){if(this.instance.config.scroll_root_selector){var t=this.scrollElement();return t&&t.scrollTop||0}return X&&(X.scrollY||X.pageYOffset||X.document.documentElement.scrollTop)||0}},{key:"scrollX",value:function(){if(this.instance.config.scroll_root_selector){var t=this.scrollElement();return t&&t.scrollLeft||0}return X&&(X.scrollX||X.pageXOffset||X.document.documentElement.scrollLeft)||0}}]),e}(),I$=function(){function e(){Gt(this,e),re(this,"events",{}),this.events={}}return qt(e,[{key:"on",value:function(t,n){var r=this;return this.events[t]||(this.events[t]=[]),this.events[t].push(n),function(){r.events[t]=r.events[t].filter(function(i){return i!==n})}}},{key:"emit",value:function(t,n){var r,i=xs(this.events[t]||[]);try{for(i.s();!(r=i.n()).done;)(0,r.value)(n)}catch(a){i.e(a)}finally{i.f()}var s,o=xs(this.events["*"]||[]);try{for(o.s();!(s=o.n()).done;)(0,s.value)(t,n)}catch(a){o.e(a)}finally{o.f()}}}]),e}(),Bv="$copy_autocapture";function Dv(e,t){return t.length>e?t.slice(0,e)+"...":t}var R$=function(){function e(t){Gt(this,e),re(this,"_initialized",!1),re(this,"_isDisabledServerSide",null),re(this,"rageclicks",new EP),re(this,"_elementsChainAsString",!1),this.instance=t}return qt(e,[{key:"config",get:function(){var t,n=Fs(this.instance.config.autocapture)?this.instance.config.autocapture:{};return n.url_allowlist=(t=n.url_allowlist)===null||t===void 0?void 0:t.map(function(r){return new RegExp(r)}),n}},{key:"_addDomEventHandlers",value:function(){var t=this;if(this.isBrowserSupported()){if(X&&we){var n=function(i){i=i||(X==null?void 0:X.event);try{t._captureEvent(i)}catch(s){ge.error("Failed to capture event",s)}},r=function(i){i=i||(X==null?void 0:X.event),t._captureEvent(i,Bv)};fo(we,"submit",n,!1,!0),fo(we,"change",n,!1,!0),fo(we,"click",n,!1,!0),this.config.capture_copied_text&&(fo(we,"copy",r,!1,!0),fo(we,"cut",r,!1,!0))}}else ge.info("Disabling Automatic Event Collection because this browser is not supported")}},{key:"startIfEnabled",value:function(){this.isEnabled&&!this._initialized&&(this._addDomEventHandlers(),this._initialized=!0)}},{key:"afterDecideResponse",value:function(t){t.elementsChainAsString&&(this._elementsChainAsString=t.elementsChainAsString),this.instance.persistence&&this.instance.persistence.register(re({},CE,!!t.autocapture_opt_out)),this._isDisabledServerSide=!!t.autocapture_opt_out,this.startIfEnabled()}},{key:"isEnabled",get:function(){var t,n,r=(t=this.instance.persistence)===null||t===void 0?void 0:t.props[CE],i=this._isDisabledServerSide;if(ys(i)&&!jp(r)&&!this.instance.config.advanced_disable_decide)return!1;var s=(n=this._isDisabledServerSide)!==null&&n!==void 0?n:!!r;return!!this.instance.config.autocapture&&!s}},{key:"_previousElementSibling",value:function(t){if(t.previousElementSibling)return t.previousElementSibling;var n=t;do n=n.previousSibling;while(n&&!kb(n));return n}},{key:"_getAugmentPropertiesFromElement",value:function(t){if(!OA(t))return{};var n={};return Dt(t.attributes,function(r){if(r.name&&r.name.indexOf("data-ph-capture-attribute")===0){var i=r.name.replace("data-ph-capture-attribute-",""),s=r.value;i&&s&&Ec(s)&&(n[i]=s)}}),n}},{key:"_getPropertiesFromElement",value:function(t,n,r){var i,s=t.tagName.toLowerCase(),o={tag_name:s};jA.indexOf(s)>-1&&!r&&(s.toLowerCase()==="a"||s.toLowerCase()==="button"?o.$el_text=Dv(1024,zE(t)):o.$el_text=Dv(1024,Sg(t)));var a=bg(t);a.length>0&&(o.classes=a.filter(function(h){return h!==""}));var l=(i=this.config)===null||i===void 0?void 0:i.element_attribute_ignorelist;Dt(t.attributes,function(h){var p;if((!fP(t)||["name","id","class","aria-label"].indexOf(h.name)!==-1)&&(l==null||!l.includes(h.name))&&!n&&Ec(h.value)&&(p=h.name,!br(p)||p.substring(0,10)!=="_ngcontent"&&p.substring(0,7)!=="_nghost")){var g=h.value;h.name==="class"&&(g=Eb(g).join(" ")),o["attr__"+h.name]=Dv(1024,g)}});for(var c=1,u=1,d=t;d=this._previousElementSibling(d);)c++,d.tagName===t.tagName&&u++;return o.nth_child=c,o.nth_of_type=u,o}},{key:"_getDefaultProperties",value:function(t){return{$event_type:t,$ce_version:1}}},{key:"_getEventTarget",value:function(t){return We(t.target)?t.srcElement||null:(n=t.target)!==null&&n!==void 0&&n.shadowRoot?t.composedPath()[0]||null:t.target||null;var n}},{key:"_captureEvent",value:function(t){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"$autocapture";if(this.isEnabled){var i,s=this._getEventTarget(t);cP(s)&&(s=s.parentNode||null),r==="$autocapture"&&t.type==="click"&&t instanceof MouseEvent&&this.instance.config.rageclick&&(i=this.rageclicks)!==null&&i!==void 0&&i.isRageClick(t.clientX,t.clientY,new Date().getTime())&&this._captureEvent(t,"$rageclick");var o=r===Bv;if(s&&MD(s,t,this.config,o,o?["copy","cut"]:void 0)){for(var a,l,c=[s],u=s;u.parentNode&&!sa(u,"body");)uP(u.parentNode)?(c.push(u.parentNode.host),u=u.parentNode.host):(c.push(u.parentNode),u=u.parentNode);var d,h=[],p={},g=!1;if(Dt(c,function(S){var x=OA(S);S.tagName.toLowerCase()==="a"&&(d=S.getAttribute("href"),d=x&&Ec(d)&&d),ft(bg(S),"ph-no-capture")&&(g=!0),h.push(n._getPropertiesFromElement(S,n.instance.config.mask_all_element_attributes,n.instance.config.mask_all_text));var b=n._getAugmentPropertiesFromElement(S);Kn(p,b)}),this.instance.config.mask_all_text||(s.tagName.toLowerCase()==="a"||s.tagName.toLowerCase()==="button"?h[0].$el_text=zE(s):h[0].$el_text=Sg(s)),d&&(h[0].attr__href=d),g)return!1;var m=Kn(this._getDefaultProperties(t.type),this._elementsChainAsString?{$elements_chain:LD(h)}:{$elements:h},(a=h[0])!==null&&a!==void 0&&a.$el_text?{$el_text:(l=h[0])===null||l===void 0?void 0:l.$el_text}:{},p);if(r===Bv){var _,v=lP(X==null||(_=X.getSelection())===null||_===void 0?void 0:_.toString()),y=t.type||"clipboard";if(!v)return!1;m.$selected_content=v,m.$copy_type=y}return this.instance.capture(r,m),!0}}}},{key:"isBrowserSupported",value:function(){return vs(we==null?void 0:we.querySelectorAll)}}]),e}(),Cd={},r2=function(){},tc="posthog",kP=!l$&&(_n==null?void 0:_n.indexOf("MSIE"))===-1&&(_n==null?void 0:_n.indexOf("Mozilla"))===-1,i2=function(){var e,t,n;return{api_host:"https://us.i.posthog.com",api_transport:"XHR",ui_host:null,token:"",autocapture:!0,rageclick:!0,cross_subdomain_cookie:(t=we==null?void 0:we.location,n=t==null?void 0:t.hostname,!!br(n)&&n.split(".").slice(-2).join(".")!=="herokuapp.com"),persistence:"localStorage+cookie",persistence_name:"",loaded:r2,store_google:!0,custom_campaign_params:[],custom_blocked_useragents:[],save_referrer:!0,capture_pageview:!0,capture_pageleave:!0,debug:ji&&br(ji==null?void 0:ji.search)&&ji.search.indexOf("__posthog_debug=true")!==-1||!1,verbose:!1,cookie_expiration:365,upgrade:!1,disable_session_recording:!1,disable_persistence:!1,disable_surveys:!1,enable_recording_console_log:void 0,secure_cookie:(X==null||(e=X.location)===null||e===void 0?void 0:e.protocol)==="https:",ip:!0,opt_out_capturing_by_default:!1,opt_out_persistence_by_default:!1,opt_out_useragent_filter:!1,opt_out_capturing_persistence_type:"localStorage",opt_out_capturing_cookie_prefix:null,opt_in_site_apps:!1,property_denylist:[],respect_dnt:!1,sanitize_properties:null,request_headers:{},inapp_protocol:"//",inapp_link_new_window:!1,request_batching:!0,properties_string_max_length:65535,session_recording:{},mask_all_element_attributes:!1,mask_all_text:!1,advanced_disable_decide:!1,advanced_disable_feature_flags:!1,advanced_disable_feature_flags_on_first_load:!1,advanced_disable_toolbar_metrics:!1,feature_flag_request_timeout_ms:3e3,on_request_error:function(r){var i="Bad HTTP status: "+r.statusCode+" "+r.text;ge.error(i)},get_device_id:function(r){return r},_onCapture:r2,capture_performance:void 0,name:"posthog",bootstrap:{},disable_compression:!1,session_idle_timeout_seconds:1800,person_profiles:"always"}},s2=function(e){var t={};We(e.process_person)||(t.person_profiles=e.process_person),We(e.xhr_headers)||(t.request_headers=e.xhr_headers),We(e.cookie_name)||(t.persistence_name=e.cookie_name),We(e.disable_cookie)||(t.disable_persistence=e.disable_cookie);var n=Kn({},t,e);return Bn(e.property_blacklist)&&(We(e.property_denylist)?n.property_denylist=e.property_blacklist:Bn(e.property_denylist)?n.property_denylist=[].concat(zc(e.property_blacklist),zc(e.property_denylist)):ge.error("Invalid value for property_denylist config: "+e.property_denylist)),n},M$=function(){function e(){Gt(this,e),re(this,"__forceAllowLocalhost",!1)}return qt(e,[{key:"_forceAllowLocalhost",get:function(){return this.__forceAllowLocalhost},set:function(t){ge.error("WebPerformanceObserver is deprecated and has no impact on network capture. Use `_forceAllowLocalhostNetworkCapture` on `posthog.sessionRecording`"),this.__forceAllowLocalhost=t}}]),e}(),CP=function(){function e(){var t=this;Gt(this,e),re(this,"webPerformance",new M$),re(this,"_debugEventEmitter",new I$),this.config=i2(),this.decideEndpointWasHit=!1,this.SentryIntegration=y$,this.__request_queue=[],this.__loaded=!1,this.analyticsDefaultEndpoint="/e/",this.featureFlags=new iD(this),this.toolbar=new JD(this),this.scrollManager=new T$(this),this.pageViewManager=new _$(this),this.surveys=new S$(this),this.rateLimiter=new x$(this),this.requestRouter=new v$(this),this.people={set:function(n,r,i){var s=br(n)?re({},n,r):n;t.setPersonProperties(s),i==null||i({})},set_once:function(n,r,i){var s=br(n)?re({},n,r):n;t.setPersonProperties(void 0,s),i==null||i({})}},this.on("eventCaptured",function(n){return ge.info("send",n)})}return qt(e,[{key:"init",value:function(t,n,r){if(r&&r!==tc){var i,s=(i=Cd[r])!==null&&i!==void 0?i:new e;return s._init(t,n,r),Cd[r]=s,Cd[tc][r]=s,s}return this._init(t,n,r)}},{key:"_init",value:function(t){var n,r,i=this,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=arguments.length>2?arguments[2]:void 0;if(We(t)||function(_){return br(_)&&_.trim().length===0}(t))return ge.critical("PostHog was initialized without a token. This likely indicates a misconfiguration. Please check the first argument passed to posthog.init()"),this;if(this.__loaded)return ge.warn("You have already initialized PostHog! Re-initializing is a no-op"),this;if(this.__loaded=!0,this.config={},this._triggered_notifs=[],this.set_config(Kn({},i2(),s2(s),{name:o,token:t})),this.compression=s.disable_compression?void 0:ds.Base64,this.persistence=new jv(this.config),this.sessionPersistence=this.config.persistence==="sessionStorage"?this.persistence:new jv(Ce(Ce({},this.config),{},{persistence:"sessionStorage"})),this._requestQueue=new XD(function(_){return i._send_request(_)}),this._retryQueue=new g$(this),this.__request_queue=[],this.sessionManager=new m$(this.config,this.persistence),this.sessionPropsManager=new E$(this.sessionManager,this.persistence),this.sessionRecording=new KD(this),this.sessionRecording.startIfEnabledOrStop(),this.config.disable_scroll_properties||this.scrollManager.startMeasuringScrollPosition(),this.autocapture=new R$(this),this.autocapture.startIfEnabled(),this.surveys.loadIfEnabled(),this.heatmaps=new C$(this),this.heatmaps.startIfEnabled(),Ka.DEBUG=Ka.DEBUG||this.config.debug,this._gdpr_init(),((n=s.bootstrap)===null||n===void 0?void 0:n.distinctID)!==void 0){var a,l,c=this.config.get_device_id(Jo()),u=(a=s.bootstrap)!==null&&a!==void 0&&a.isIdentifiedID?c:s.bootstrap.distinctID;this.persistence.set_property(oo,(l=s.bootstrap)!==null&&l!==void 0&&l.isIdentifiedID?"identified":"anonymous"),this.register({distinct_id:s.bootstrap.distinctID,$device_id:u})}if(this._hasBootstrappedFeatureFlags()){var d,h,p=Object.keys(((d=s.bootstrap)===null||d===void 0?void 0:d.featureFlags)||{}).filter(function(_){var v,y;return!((v=s.bootstrap)===null||v===void 0||(y=v.featureFlags)===null||y===void 0||!y[_])}).reduce(function(_,v){var y,S;return _[v]=((y=s.bootstrap)===null||y===void 0||(S=y.featureFlags)===null||S===void 0?void 0:S[v])||!1,_},{}),g=Object.keys(((h=s.bootstrap)===null||h===void 0?void 0:h.featureFlagPayloads)||{}).filter(function(_){return p[_]}).reduce(function(_,v){var y,S,x,b;return(y=s.bootstrap)!==null&&y!==void 0&&(S=y.featureFlagPayloads)!==null&&S!==void 0&&S[v]&&(_[v]=(x=s.bootstrap)===null||x===void 0||(b=x.featureFlagPayloads)===null||b===void 0?void 0:b[v]),_},{});this.featureFlags.receivedFeatureFlags({featureFlags:p,featureFlagPayloads:g})}if(!this.get_distinct_id()){var m=this.config.get_device_id(Jo());this.register_once({distinct_id:m,$device_id:m},""),this.persistence.set_property(oo,"anonymous")}return X==null||(r=X.addEventListener)===null||r===void 0||r.call(X,"onpagehide"in self?"pagehide":"unload",this._handle_unload.bind(this)),this.toolbar.maybeLoadToolbar(),s.segment?A$(this,function(){return i._loaded()}):this._loaded(),vs(this.config._onCapture)&&this.on("eventCaptured",function(_){return i.config._onCapture(_.event,_)}),this}},{key:"_afterDecideResponse",value:function(t){var n,r,i,s,o;this.compression=void 0,t.supportedCompression&&!this.config.disable_compression&&(this.compression=ft(t.supportedCompression,ds.GZipJS)?ds.GZipJS:ft(t.supportedCompression,ds.Base64)?ds.Base64:void 0),(n=t.analytics)!==null&&n!==void 0&&n.endpoint&&(this.analyticsDefaultEndpoint=t.analytics.endpoint),(r=this.sessionRecording)===null||r===void 0||r.afterDecideResponse(t),(i=this.autocapture)===null||i===void 0||i.afterDecideResponse(t),(s=this.heatmaps)===null||s===void 0||s.afterDecideResponse(t),(o=this.surveys)===null||o===void 0||o.afterDecideResponse(t)}},{key:"_loaded",value:function(){var t=this,n=this.config.advanced_disable_decide;n||this.featureFlags.setReloadingPaused(!0);try{this.config.loaded(this)}catch(r){ge.critical("`loaded` function failed",r)}this._start_queue_if_opted_in(),this.config.capture_pageview&&setTimeout(function(){we&&t.capture("$pageview",{title:we.title},{send_instantly:!0})},1),n||(new YD(this).call(),this.featureFlags.resetRequestQueue())}},{key:"_start_queue_if_opted_in",value:function(){var t;this.has_opted_out_capturing()||this.config.request_batching&&((t=this._requestQueue)===null||t===void 0||t.enable())}},{key:"_dom_loaded",value:function(){var t=this;this.has_opted_out_capturing()||Sc(this.__request_queue,function(n){return t._send_retriable_request(n)}),this.__request_queue=[],this._start_queue_if_opted_in()}},{key:"_handle_unload",value:function(){var t,n;this.config.request_batching?(this.config.capture_pageview&&this.config.capture_pageleave&&this.capture("$pageleave"),(t=this._requestQueue)===null||t===void 0||t.unload(),(n=this._retryQueue)===null||n===void 0||n.unload()):this.config.capture_pageview&&this.config.capture_pageleave&&this.capture("$pageleave",null,{transport:"sendBeacon"})}},{key:"_send_request",value:function(t){var n=this;this.__loaded&&(kP?this.__request_queue.push(t):this.rateLimiter.isServerRateLimited(t.batchKey)||(t.transport=t.transport||this.config.api_transport,t.url=wg(t.url,{ip:this.config.ip?1:0}),t.headers=this.config.request_headers,t.compression=t.compression==="best-available"?this.compression:t.compression,function(r){var i=Ce({},r);i.timeout=i.timeout||6e4,i.url=wg(i.url,{_:new Date().getTime().toString(),ver:Ka.LIB_VERSION,compression:i.compression}),i.transport==="sendBeacon"&&Jd!=null&&Jd.sendBeacon?f$(i):i.transport==="fetch"&&Ab?d$(i):_b||!we?u$(i):h$(i)}(Ce(Ce({},t),{},{callback:function(r){var i,s,o;n.rateLimiter.checkForLimiting(r),r.statusCode>=400&&((s=(o=n.config).on_request_error)===null||s===void 0||s.call(o,r)),(i=t.callback)===null||i===void 0||i.call(t,r)}}))))}},{key:"_send_retriable_request",value:function(t){this._retryQueue?this._retryQueue.retriableRequest(t):this._send_request(t)}},{key:"_execute_array",value:function(t){var n,r=this,i=[],s=[],o=[];Sc(t,function(l){l&&(n=l[0],Bn(n)?o.push(l):vs(l)?l.call(r):Bn(l)&&n==="alias"?i.push(l):Bn(l)&&n.indexOf("capture")!==-1&&vs(r[n])?o.push(l):s.push(l))});var a=function(l,c){Sc(l,function(u){if(Bn(u[0])){var d=c;Dt(u,function(h){d=d[h[0]].apply(d,h.slice(1))})}else this[u[0]].apply(this,u.slice(1))},c)};a(i,this),a(s,this),a(o,this)}},{key:"_hasBootstrappedFeatureFlags",value:function(){var t,n;return((t=this.config.bootstrap)===null||t===void 0?void 0:t.featureFlags)&&Object.keys((n=this.config.bootstrap)===null||n===void 0?void 0:n.featureFlags).length>0||!1}},{key:"push",value:function(t){this._execute_array([t])}},{key:"capture",value:function(t,n,r){var i;if(!(this.__loaded&&this.persistence&&this.sessionPersistence&&this._requestQueue))return ge.uninitializedWarning("posthog.capture");if(!AP(this))if(r!=null&&r.skip_client_rate_limiting||!this.rateLimiter.isCaptureClientSideRateLimited())if(!We(t)&&br(t)){if(!_n||this.config.opt_out_useragent_filter||!e2(_n,this.config.custom_blocked_useragents)){this.sessionPersistence.update_search_keyword(),this.config.store_google&&(this.sessionPersistence.update_campaign_params(),this.persistence.set_initial_campaign_params()),this.config.save_referrer&&(this.sessionPersistence.update_referrer_info(),this.persistence.set_initial_referrer_info());var s={uuid:Jo(),event:t,properties:this._calculate_event_properties(t,n||{})};if(r==null||!r._noHeatmaps){var o,a=(o=this.heatmaps)===null||o===void 0?void 0:o.getAndClearBuffer();a&&(s.properties.$heatmap_data=a)}r!=null&&r.$set&&(s.$set=r==null?void 0:r.$set);var l=this._calculate_set_once_properties(r==null?void 0:r.$set_once);l&&(s.$set_once=l),(s=tD(s,r!=null&&r._noTruncate?null:this.config.properties_string_max_length)).timestamp=(r==null?void 0:r.timestamp)||new Date,We(r==null?void 0:r.timestamp)||(s.properties.$event_time_override_provided=!0,s.properties.$event_time_override_system_time=new Date);var c=Ce(Ce({},s.properties.$set),s.$set);Iv(c)||this.setPersonPropertiesForFlags(c),this._debugEventEmitter.emit("eventCaptured",s);var u={method:"POST",url:(i=r==null?void 0:r._url)!==null&&i!==void 0?i:this.requestRouter.endpointFor("api",this.analyticsDefaultEndpoint),data:s,compression:"best-available",batchKey:r==null?void 0:r._batchKey};return!this.config.request_batching||r&&(r==null||!r._batchKey)||r!=null&&r.send_instantly?this._send_retriable_request(u):this._requestQueue.enqueue(u),s}}else ge.error("No event name provided to posthog.capture");else ge.critical("This capture call is ignored due to client rate limiting.")}},{key:"_addCaptureHook",value:function(t){this.on("eventCaptured",function(n){return t(n.event)})}},{key:"_calculate_event_properties",value:function(t,n){if(!this.persistence||!this.sessionPersistence)return n;var r=this.persistence.remove_event_timer(t),i=Ce({},n);if(i.token=this.config.token,t==="$snapshot"){var s=Ce(Ce({},this.persistence.properties()),this.sessionPersistence.properties());return i.distinct_id=s.distinct_id,i}var o=Yn.properties();if(this.sessionManager){var a=this.sessionManager.checkAndGetSessionAndWindowId(),l=a.sessionId,c=a.windowId;i.$session_id=l,i.$window_id=c}if(this.requestRouter.region===Ya.CUSTOM&&(i.$lib_custom_api_host=this.config.api_host),this.sessionPropsManager&&this.config.__preview_send_client_session_params&&(t==="$pageview"||t==="$pageleave"||t==="$autocapture")){var u=this.sessionPropsManager.getSessionProps();i=Kn(i,u)}if(!this.config.disable_scroll_properties){var d={};t==="$pageview"?d=this.pageViewManager.doPageView():t==="$pageleave"&&(d=this.pageViewManager.doPageLeave()),i=Kn(i,d)}if(t==="$pageview"&&we&&(i.title=we.title),!We(r)){var h=new Date().getTime()-r;i.$duration=parseFloat((h/1e3).toFixed(3))}_n&&this.config.opt_out_useragent_filter&&(i.$browser_type=e2(_n,this.config.custom_blocked_useragents)?"bot":"browser"),(i=Kn({},o,this.persistence.properties(),this.sessionPersistence.properties(),i)).$is_identified=this._isIdentified(),Bn(this.config.property_denylist)?Dt(this.config.property_denylist,function(g){delete i[g]}):ge.error("Invalid value for property_denylist config: "+this.config.property_denylist+" or property_blacklist config: "+this.config.property_blacklist);var p=this.config.sanitize_properties;return p&&(i=p(i,t)),i.$process_person_profile=this._hasPersonProcessing(),i}},{key:"_calculate_set_once_properties",value:function(t){if(!this.persistence||!this._hasPersonProcessing())return t;var n=Kn({},this.persistence.get_initial_props(),t||{});return Iv(n)?void 0:n}},{key:"register",value:function(t,n){var r;(r=this.persistence)===null||r===void 0||r.register(t,n)}},{key:"register_once",value:function(t,n,r){var i;(i=this.persistence)===null||i===void 0||i.register_once(t,n,r)}},{key:"register_for_session",value:function(t){var n;(n=this.sessionPersistence)===null||n===void 0||n.register(t)}},{key:"unregister",value:function(t){var n;(n=this.persistence)===null||n===void 0||n.unregister(t)}},{key:"unregister_for_session",value:function(t){var n;(n=this.sessionPersistence)===null||n===void 0||n.unregister(t)}},{key:"_register_single",value:function(t,n){this.register(re({},t,n))}},{key:"getFeatureFlag",value:function(t,n){return this.featureFlags.getFeatureFlag(t,n)}},{key:"getFeatureFlagPayload",value:function(t){var n=this.featureFlags.getFeatureFlagPayload(t);try{return JSON.parse(n)}catch{return n}}},{key:"isFeatureEnabled",value:function(t,n){return this.featureFlags.isFeatureEnabled(t,n)}},{key:"reloadFeatureFlags",value:function(){this.featureFlags.reloadFeatureFlags()}},{key:"updateEarlyAccessFeatureEnrollment",value:function(t,n){this.featureFlags.updateEarlyAccessFeatureEnrollment(t,n)}},{key:"getEarlyAccessFeatures",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return this.featureFlags.getEarlyAccessFeatures(t,n)}},{key:"on",value:function(t,n){return this._debugEventEmitter.on(t,n)}},{key:"onFeatureFlags",value:function(t){return this.featureFlags.onFeatureFlags(t)}},{key:"onSessionId",value:function(t){var n,r;return(n=(r=this.sessionManager)===null||r===void 0?void 0:r.onSessionId(t))!==null&&n!==void 0?n:function(){}}},{key:"getSurveys",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.surveys.getSurveys(t,n)}},{key:"getActiveMatchingSurveys",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.surveys.getActiveMatchingSurveys(t,n)}},{key:"identify",value:function(t,n,r){if(!this.__loaded||!this.persistence)return ge.uninitializedWarning("posthog.identify");if(cs(t)&&(t=t.toString(),ge.warn("The first argument to posthog.identify was a number, but it should be a string. It has been converted to a string.")),t){if(["distinct_id","distinctid"].includes(t.toLowerCase()))ge.critical('The string "'.concat(t,'" was set in posthog.identify which indicates an error. This ID should be unique to the user and not a hardcoded string.'));else if(this._requirePersonProcessing("posthog.identify")){var i=this.get_distinct_id();if(this.register({$user_id:t}),!this.get_property("$device_id")){var s=i;this.register_once({$had_persisted_distinct_id:!0,$device_id:s},"")}t!==i&&t!==this.get_property(cd)&&(this.unregister(cd),this.register({distinct_id:t}));var o=(this.persistence.get_property(oo)||"anonymous")==="anonymous";t!==i&&o?(this.persistence.set_property(oo,"identified"),this.setPersonPropertiesForFlags(n||{},!1),this.capture("$identify",{distinct_id:t,$anon_distinct_id:i},{$set:n||{},$set_once:r||{}}),this.featureFlags.setAnonymousDistinctId(i)):(n||r)&&this.setPersonProperties(n,r),t!==i&&(this.reloadFeatureFlags(),this.unregister(vg))}}else ge.error("Unique user id has not been set in posthog.identify")}},{key:"setPersonProperties",value:function(t,n){(t||n)&&this._requirePersonProcessing("posthog.setPersonProperties")&&(this.setPersonPropertiesForFlags(t||{}),this.capture("$set",{$set:t||{},$set_once:n||{}}))}},{key:"group",value:function(t,n,r){if(t&&n){if(this._requirePersonProcessing("posthog.group")){var i=this.getGroups();i[t]!==n&&this.resetGroupPropertiesForFlags(t),this.register({$groups:Ce(Ce({},i),{},re({},t,n))}),r&&(this.capture("$groupidentify",{$group_type:t,$group_key:n,$group_set:r}),this.setGroupPropertiesForFlags(re({},t,r))),i[t]===n||r||this.reloadFeatureFlags()}}else ge.error("posthog.group requires a group type and group key")}},{key:"resetGroups",value:function(){this.register({$groups:{}}),this.resetGroupPropertiesForFlags(),this.reloadFeatureFlags()}},{key:"setPersonPropertiesForFlags",value:function(t){var n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this._requirePersonProcessing("posthog.setPersonPropertiesForFlags")&&this.featureFlags.setPersonPropertiesForFlags(t,n)}},{key:"resetPersonPropertiesForFlags",value:function(){this.featureFlags.resetPersonPropertiesForFlags()}},{key:"setGroupPropertiesForFlags",value:function(t){var n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this._requirePersonProcessing("posthog.setGroupPropertiesForFlags")&&this.featureFlags.setGroupPropertiesForFlags(t,n)}},{key:"resetGroupPropertiesForFlags",value:function(t){this.featureFlags.resetGroupPropertiesForFlags(t)}},{key:"reset",value:function(t){var n,r,i,s;if(!this.__loaded)return ge.uninitializedWarning("posthog.reset");var o=this.get_property("$device_id");(n=this.persistence)===null||n===void 0||n.clear(),(r=this.sessionPersistence)===null||r===void 0||r.clear(),(i=this.persistence)===null||i===void 0||i.set_property(oo,"anonymous"),(s=this.sessionManager)===null||s===void 0||s.resetSessionId();var a=this.config.get_device_id(Jo());this.register_once({distinct_id:a,$device_id:t?a:o},"")}},{key:"get_distinct_id",value:function(){return this.get_property("distinct_id")}},{key:"getGroups",value:function(){return this.get_property("$groups")||{}}},{key:"get_session_id",value:function(){var t,n;return(t=(n=this.sessionManager)===null||n===void 0?void 0:n.checkAndGetSessionAndWindowId(!0).sessionId)!==null&&t!==void 0?t:""}},{key:"get_session_replay_url",value:function(t){if(!this.sessionManager)return"";var n=this.sessionManager.checkAndGetSessionAndWindowId(!0),r=n.sessionId,i=n.sessionStartTimestamp,s=this.requestRouter.endpointFor("ui","/project/".concat(this.config.token,"/replay/").concat(r));if(t!=null&&t.withTimestamp&&i){var o,a=(o=t.timestampLookBack)!==null&&o!==void 0?o:10;if(!i)return s;var l=Math.max(Math.floor((new Date().getTime()-i)/1e3)-a,0);s+="?t=".concat(l)}return s}},{key:"alias",value:function(t,n){return t===this.get_property(HM)?(ge.critical("Attempting to create alias for existing People user - aborting."),-2):this._requirePersonProcessing("posthog.alias")?(We(n)&&(n=this.get_distinct_id()),t!==n?(this._register_single(cd,t),this.capture("$create_alias",{alias:t,distinct_id:n})):(ge.warn("alias matches current distinct_id - skipping api call."),this.identify(t),-1)):void 0}},{key:"set_config",value:function(t){var n,r,i,s,o=Ce({},this.config);Fs(t)&&(Kn(this.config,s2(t)),(n=this.persistence)===null||n===void 0||n.update_config(this.config,o),this.sessionPersistence=this.config.persistence==="sessionStorage"?this.persistence:new jv(Ce(Ce({},this.config),{},{persistence:"sessionStorage"})),Rn.is_supported()&&Rn.get("ph_debug")==="true"&&(this.config.debug=!0),this.config.debug&&(Ka.DEBUG=!0),(r=this.sessionRecording)===null||r===void 0||r.startIfEnabledOrStop(),(i=this.autocapture)===null||i===void 0||i.startIfEnabled(),(s=this.heatmaps)===null||s===void 0||s.startIfEnabled(),this.surveys.loadIfEnabled())}},{key:"startSessionRecording",value:function(t){if(t!=null&&t.sampling){var n,r,i=(n=this.sessionManager)===null||n===void 0?void 0:n.checkAndGetSessionAndWindowId();(r=this.persistence)===null||r===void 0||r.register(re({},Ed,!0)),ge.info("Session recording started with sampling override for session: ",i==null?void 0:i.sessionId)}this.set_config({disable_session_recording:!1})}},{key:"stopSessionRecording",value:function(){this.set_config({disable_session_recording:!0})}},{key:"sessionRecordingStarted",value:function(){var t;return!((t=this.sessionRecording)===null||t===void 0||!t.started)}},{key:"loadToolbar",value:function(t){return this.toolbar.loadToolbar(t)}},{key:"get_property",value:function(t){var n;return(n=this.persistence)===null||n===void 0?void 0:n.props[t]}},{key:"getSessionProperty",value:function(t){var n;return(n=this.sessionPersistence)===null||n===void 0?void 0:n.props[t]}},{key:"toString",value:function(){var t,n=(t=this.config.name)!==null&&t!==void 0?t:tc;return n!==tc&&(n=tc+"."+n),n}},{key:"_isIdentified",value:function(){var t,n;return((t=this.persistence)===null||t===void 0?void 0:t.get_property(oo))==="identified"||((n=this.sessionPersistence)===null||n===void 0?void 0:n.get_property(oo))==="identified"}},{key:"_hasPersonProcessing",value:function(){var t,n,r,i;return!(this.config.person_profiles==="never"||this.config.person_profiles==="identified_only"&&!this._isIdentified()&&Iv(this.getGroups())&&((t=this.persistence)===null||t===void 0||(n=t.props)===null||n===void 0||!n[cd])&&((r=this.persistence)===null||r===void 0||(i=r.props)===null||i===void 0||!i[yg]))}},{key:"_requirePersonProcessing",value:function(t){return this.config.person_profiles==="never"?(ge.error(t+' was called, but process_person is set to "never". This call will be ignored.'),!1):(this._register_single(yg,!0),!0)}},{key:"_gdpr_init",value:function(){this.config.opt_out_capturing_persistence_type==="localStorage"&&Rn.is_supported()&&(!this.has_opted_in_capturing()&&this.has_opted_in_capturing({persistence_type:"cookie"})&&this.opt_in_capturing({enable_persistence:!1}),!this.has_opted_out_capturing()&&this.has_opted_out_capturing({persistence_type:"cookie"})&&this.opt_out_capturing({clear_persistence:!1}),this.clear_opt_in_out_capturing({persistence_type:"cookie",enable_persistence:!1})),this.has_opted_out_capturing()?this._gdpr_update_persistence({clear_persistence:!0}):this.has_opted_in_capturing()||!this.config.opt_out_capturing_by_default&&!Gs.get("ph_optout")||(Gs.remove("ph_optout"),this.opt_out_capturing({clear_persistence:this.config.opt_out_persistence_by_default}))}},{key:"_gdpr_update_persistence",value:function(t){var n,r,i,s,o;if(t&&t.clear_persistence)i=!0;else{if(!t||!t.enable_persistence)return;i=!1}this.config.disable_persistence||((n=this.persistence)===null||n===void 0?void 0:n.disabled)===i||(s=this.persistence)===null||s===void 0||s.set_disabled(i),this.config.disable_persistence||((r=this.sessionPersistence)===null||r===void 0?void 0:r.disabled)===i||(o=this.sessionPersistence)===null||o===void 0||o.set_disabled(i)}},{key:"_gdpr_call_func",value:function(t,n){return n=Kn({capture:this.capture.bind(this),persistence_type:this.config.opt_out_capturing_persistence_type,cookie_prefix:this.config.opt_out_capturing_cookie_prefix,cookie_expiration:this.config.cookie_expiration,cross_subdomain_cookie:this.config.cross_subdomain_cookie,secure_cookie:this.config.secure_cookie},n||{}),Rn.is_supported()||n.persistence_type!=="localStorage"||(n.persistence_type="cookie"),t(this.config.token,{capture:n.capture,captureEventName:n.capture_event_name,captureProperties:n.capture_properties,persistenceType:n.persistence_type,persistencePrefix:n.cookie_prefix,cookieExpiration:n.cookie_expiration,crossSubdomainCookie:n.cross_subdomain_cookie,secureCookie:n.secure_cookie})}},{key:"opt_in_capturing",value:function(t){t=Kn({enable_persistence:!0},t||{}),this._gdpr_call_func(UD,t),this._gdpr_update_persistence(t)}},{key:"opt_out_capturing",value:function(t){var n=Kn({clear_persistence:!0},t||{});this._gdpr_call_func(HD,n),this._gdpr_update_persistence(n)}},{key:"has_opted_in_capturing",value:function(t){return this._gdpr_call_func(GD,t)}},{key:"has_opted_out_capturing",value:function(t){return this._gdpr_call_func(mP,t)}},{key:"clear_opt_in_out_capturing",value:function(t){var n=Kn({enable_persistence:!0},t??{});this._gdpr_call_func(qD,n),this._gdpr_update_persistence(n)}},{key:"debug",value:function(t){t===!1?(X==null||X.console.log("You've disabled debug mode."),localStorage&&localStorage.removeItem("ph_debug"),this.set_config({debug:!1})):(X==null||X.console.log("You're now in debug mode. All calls to PostHog will be logged in your console.\nYou can disable this with `posthog.debug(false)`."),localStorage&&localStorage.setItem("ph_debug","true"),this.set_config({debug:!0}))}}]),e}();(function(e,t){for(var n=0;n<t.length;n++)e.prototype[t[n]]=eD(e.prototype[t[n]])})(CP,["identify"]);var o2,a2;(function(e){e.Popover="popover",e.API="api",e.Widget="widget"})(o2||(o2={})),function(e){e.Open="open",e.MultipleChoice="multiple_choice",e.SingleChoice="single_choice",e.Rating="rating",e.Link="link"}(a2||(a2={}));var l2,Vn=(l2=Cd[tc]=new CP,function(){function e(){e.done||(e.done=!0,kP=!1,Dt(Cd,function(t){t._dom_loaded()}))}we!=null&&we.addEventListener&&(we.readyState==="complete"?e():we.addEventListener("DOMContentLoaded",e,!1)),X&&fo(X,"load",e,!0)}(),l2);class gt{constructor(t,n=!1,r=!0){this.name=t,this.track=n,this.log=r,this.subscribers=[],this.lastParams=null,this.subscribe=(i,s=!1)=>{this.unsubscribe(i),this.subscribers.push(i),s&&this.lastParams!==null&&i(...this.lastParams)},this.unsubscribe=i=>{this.subscribers=this.subscribers.filter(s=>s!==i)},this.dispatch=(...i)=>{this.log&&console.log("dispatch",this.name,...i),this.subscribers.forEach(s=>s(...i)),this.lastParams=i,this.track&&Vn.capture(this.name,this.track instanceof Function?this.track(...i):i)}}}const ee={sectionChange:new gt("sectionChange",void 0,!1),playerAdded:new gt("playerAdded",!1),playerRemoved:new gt("playerRemoved",!1),songStarted:new gt("songStarted",!1),songEnded:new gt("songEnded",!1),remoteMicConnected:new gt("remoteMicConnected"),remoteMicDisconnected:new gt("remoteMicDisconnected"),playerNameChanged:new gt("playerNameChanged"),playerInputChanged:new gt("playerInputChanged",(e,t,n)=>({player:e,old:t==null?void 0:t.source,new:n==null?void 0:n.source})),inputListChanged:new gt("inputListChanged"),karaokeConnectionStatusChange:new gt("karaokeConnectionStatusChange"),remoteMicPlayerSet:new gt("remoteMicPlayerSet"),remoteMicMonitoringStarted:new gt("remoteMicMonitoringStarted"),remoteMicMonitoringStopped:new gt("remoteMicMonitoringStopped"),micMonitoringStarted:new gt("micMonitoringStarted"),micMonitoringStopped:new gt("micMonitoringStopped"),playerChangeRequested:new gt("playerChangeRequested",!0),songStatStored:new gt("songStatStored"),songScoreUpdated:new gt("songScoreUpdated",()=>{}),remoteMicSubscribed:new gt("remoteMicSubscribed"),remoteKeyboardPressed:new gt("remoteKeyboardPressed"),remoteSongSearch:new gt("remoteSongSearch",!0),remoteMicListUpdated:new gt("remoteMicListUpdated"),remoteKeyboardLayout:new gt("remoteKeyboardLayout"),remoteReadinessRequested:new gt("remoteReadinessRequested"),remoteStyleChanged:new gt("remoteStyleChanged"),remoteMicPermissionsSet:new gt("remoteMicPermissionsSet"),readinessConfirmed:new gt("remoteReadinessConfirmed"),minPlayerNumberChanged:new gt("minPlayerNumberChanged"),micServerStarted:new gt("micServerStarted"),micServerStopped:new gt("micServerStopped")};ee.songStarted.subscribe(()=>{fs.clearData(),fs.startRecord()});ee.songEnded.subscribe(()=>{fs.stopRecord()});function Eg(e){"@babel/helpers - typeof";return Eg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eg(e)}var P$=/^\s+/,j$=/\s+$/;function ue(e,t){if(e=e||"",t=t||{},e instanceof ue)return e;if(!(this instanceof ue))return new ue(e,t);var n=O$(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}ue.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3},getLuminance:function(){var t=this.toRgb(),n,r,i,s,o,a;return n=t.r/255,r=t.g/255,i=t.b/255,n<=.03928?s=n/12.92:s=Math.pow((n+.055)/1.055,2.4),r<=.03928?o=r/12.92:o=Math.pow((r+.055)/1.055,2.4),i<=.03928?a=i/12.92:a=Math.pow((i+.055)/1.055,2.4),.2126*s+.7152*o+.0722*a},setAlpha:function(t){return this._a=TP(t),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var t=u2(this._r,this._g,this._b);return{h:t.h*360,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=u2(this._r,this._g,this._b),n=Math.round(t.h*360),r=Math.round(t.s*100),i=Math.round(t.v*100);return this._a==1?"hsv("+n+", "+r+"%, "+i+"%)":"hsva("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var t=c2(this._r,this._g,this._b);return{h:t.h*360,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=c2(this._r,this._g,this._b),n=Math.round(t.h*360),r=Math.round(t.s*100),i=Math.round(t.l*100);return this._a==1?"hsl("+n+", "+r+"%, "+i+"%)":"hsla("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHex:function(t){return d2(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return B$(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(Xt(this._r,255)*100)+"%",g:Math.round(Xt(this._g,255)*100)+"%",b:Math.round(Xt(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(Xt(this._r,255)*100)+"%, "+Math.round(Xt(this._g,255)*100)+"%, "+Math.round(Xt(this._b,255)*100)+"%)":"rgba("+Math.round(Xt(this._r,255)*100)+"%, "+Math.round(Xt(this._g,255)*100)+"%, "+Math.round(Xt(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:Q$[d2(this._r,this._g,this._b,!0)]||!1},toFilter:function(t){var n="#"+f2(this._r,this._g,this._b,this._a),r=n,i=this._gradientType?"GradientType = 1, ":"";if(t){var s=ue(t);r="#"+f2(s._r,s._g,s._b,s._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+n+",endColorstr="+r+")"},toString:function(t){var n=!!t;t=t||this._format;var r=!1,i=this._a<1&&this._a>=0,s=!n&&i&&(t==="hex"||t==="hex6"||t==="hex3"||t==="hex4"||t==="hex8"||t==="name");return s?t==="name"&&this._a===0?this.toName():this.toRgbString():(t==="rgb"&&(r=this.toRgbString()),t==="prgb"&&(r=this.toPercentageRgbString()),(t==="hex"||t==="hex6")&&(r=this.toHexString()),t==="hex3"&&(r=this.toHexString(!0)),t==="hex4"&&(r=this.toHex8String(!0)),t==="hex8"&&(r=this.toHex8String()),t==="name"&&(r=this.toName()),t==="hsl"&&(r=this.toHslString()),t==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return ue(this.toString())},_applyModification:function(t,n){var r=t.apply(null,[this].concat([].slice.call(n)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(z$,arguments)},brighten:function(){return this._applyModification(U$,arguments)},darken:function(){return this._applyModification(H$,arguments)},desaturate:function(){return this._applyModification(D$,arguments)},saturate:function(){return this._applyModification($$,arguments)},greyscale:function(){return this._applyModification(F$,arguments)},spin:function(){return this._applyModification(G$,arguments)},_applyCombination:function(t,n){return t.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination(K$,arguments)},complement:function(){return this._applyCombination(q$,arguments)},monochromatic:function(){return this._applyCombination(Y$,arguments)},splitcomplement:function(){return this._applyCombination(W$,arguments)},triad:function(){return this._applyCombination(h2,[3])},tetrad:function(){return this._applyCombination(h2,[4])}};ue.fromRatio=function(e,t){if(Eg(e)=="object"){var n={};for(var r in e)e.hasOwnProperty(r)&&(r==="a"?n[r]=e[r]:n[r]=hd(e[r]));e=n}return ue(e,t)};function O$(e){var t={r:0,g:0,b:0},n=1,r=null,i=null,s=null,o=!1,a=!1;return typeof e=="string"&&(e=eF(e)),Eg(e)=="object"&&(io(e.r)&&io(e.g)&&io(e.b)?(t=V$(e.r,e.g,e.b),o=!0,a=String(e.r).substr(-1)==="%"?"prgb":"rgb"):io(e.h)&&io(e.s)&&io(e.v)?(r=hd(e.s),i=hd(e.v),t=N$(e.h,r,i),o=!0,a="hsv"):io(e.h)&&io(e.s)&&io(e.l)&&(r=hd(e.s),s=hd(e.l),t=L$(e.h,r,s),o=!0,a="hsl"),e.hasOwnProperty("a")&&(n=e.a)),n=TP(n),{ok:o,format:e.format||a,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}function V$(e,t,n){return{r:Xt(e,255)*255,g:Xt(t,255)*255,b:Xt(n,255)*255}}function c2(e,t,n){e=Xt(e,255),t=Xt(t,255),n=Xt(n,255);var r=Math.max(e,t,n),i=Math.min(e,t,n),s,o,a=(r+i)/2;if(r==i)s=o=0;else{var l=r-i;switch(o=a>.5?l/(2-r-i):l/(r+i),r){case e:s=(t-n)/l+(t<n?6:0);break;case t:s=(n-e)/l+2;break;case n:s=(e-t)/l+4;break}s/=6}return{h:s,s:o,l:a}}function L$(e,t,n){var r,i,s;e=Xt(e,360),t=Xt(t,100),n=Xt(n,100);function o(c,u,d){return d<0&&(d+=1),d>1&&(d-=1),d<1/6?c+(u-c)*6*d:d<1/2?u:d<2/3?c+(u-c)*(2/3-d)*6:c}if(t===0)r=i=s=n;else{var a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;r=o(l,a,e+1/3),i=o(l,a,e),s=o(l,a,e-1/3)}return{r:r*255,g:i*255,b:s*255}}function u2(e,t,n){e=Xt(e,255),t=Xt(t,255),n=Xt(n,255);var r=Math.max(e,t,n),i=Math.min(e,t,n),s,o,a=r,l=r-i;if(o=r===0?0:l/r,r==i)s=0;else{switch(r){case e:s=(t-n)/l+(t<n?6:0);break;case t:s=(n-e)/l+2;break;case n:s=(e-t)/l+4;break}s/=6}return{h:s,s:o,v:a}}function N$(e,t,n){e=Xt(e,360)*6,t=Xt(t,100),n=Xt(n,100);var r=Math.floor(e),i=e-r,s=n*(1-t),o=n*(1-i*t),a=n*(1-(1-i)*t),l=r%6,c=[n,o,s,s,a,n][l],u=[a,n,n,o,s,s][l],d=[s,s,a,n,n,o][l];return{r:c*255,g:u*255,b:d*255}}function d2(e,t,n,r){var i=[hs(Math.round(e).toString(16)),hs(Math.round(t).toString(16)),hs(Math.round(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function B$(e,t,n,r,i){var s=[hs(Math.round(e).toString(16)),hs(Math.round(t).toString(16)),hs(Math.round(n).toString(16)),hs(IP(r))];return i&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)&&s[3].charAt(0)==s[3].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}function f2(e,t,n,r){var i=[hs(IP(r)),hs(Math.round(e).toString(16)),hs(Math.round(t).toString(16)),hs(Math.round(n).toString(16))];return i.join("")}ue.equals=function(e,t){return!e||!t?!1:ue(e).toRgbString()==ue(t).toRgbString()};ue.random=function(){return ue.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function D$(e,t){t=t===0?0:t||10;var n=ue(e).toHsl();return n.s-=t/100,n.s=Vm(n.s),ue(n)}function $$(e,t){t=t===0?0:t||10;var n=ue(e).toHsl();return n.s+=t/100,n.s=Vm(n.s),ue(n)}function F$(e){return ue(e).desaturate(100)}function z$(e,t){t=t===0?0:t||10;var n=ue(e).toHsl();return n.l+=t/100,n.l=Vm(n.l),ue(n)}function U$(e,t){t=t===0?0:t||10;var n=ue(e).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(t/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(t/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(t/100)))),ue(n)}function H$(e,t){t=t===0?0:t||10;var n=ue(e).toHsl();return n.l-=t/100,n.l=Vm(n.l),ue(n)}function G$(e,t){var n=ue(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,ue(n)}function q$(e){var t=ue(e).toHsl();return t.h=(t.h+180)%360,ue(t)}function h2(e,t){if(isNaN(t)||t<=0)throw new Error("Argument to polyad must be a positive number");for(var n=ue(e).toHsl(),r=[ue(e)],i=360/t,s=1;s<t;s++)r.push(ue({h:(n.h+s*i)%360,s:n.s,l:n.l}));return r}function W$(e){var t=ue(e).toHsl(),n=t.h;return[ue(e),ue({h:(n+72)%360,s:t.s,l:t.l}),ue({h:(n+216)%360,s:t.s,l:t.l})]}function K$(e,t,n){t=t||6,n=n||30;var r=ue(e).toHsl(),i=360/n,s=[ue(e)];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,s.push(ue(r));return s}function Y$(e,t){t=t||6;for(var n=ue(e).toHsv(),r=n.h,i=n.s,s=n.v,o=[],a=1/t;t--;)o.push(ue({h:r,s:i,v:s})),s=(s+a)%1;return o}ue.mix=function(e,t,n){n=n===0?0:n||50;var r=ue(e).toRgb(),i=ue(t).toRgb(),s=n/100,o={r:(i.r-r.r)*s+r.r,g:(i.g-r.g)*s+r.g,b:(i.b-r.b)*s+r.b,a:(i.a-r.a)*s+r.a};return ue(o)};ue.readability=function(e,t){var n=ue(e),r=ue(t);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)};ue.isReadable=function(e,t,n){var r=ue.readability(e,t),i,s;switch(s=!1,i=tF(n),i.level+i.size){case"AAsmall":case"AAAlarge":s=r>=4.5;break;case"AAlarge":s=r>=3;break;case"AAAsmall":s=r>=7;break}return s};ue.mostReadable=function(e,t,n){var r=null,i=0,s,o,a,l;n=n||{},o=n.includeFallbackColors,a=n.level,l=n.size;for(var c=0;c<t.length;c++)s=ue.readability(e,t[c]),s>i&&(i=s,r=ue(t[c]));return ue.isReadable(e,r,{level:a,size:l})||!o?r:(n.includeFallbackColors=!1,ue.mostReadable(e,["#fff","#000"],n))};var BA=ue.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},Q$=ue.hexNames=J$(BA);function J$(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function TP(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function Xt(e,t){X$(e)&&(e="100%");var n=Z$(e);return e=Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function Vm(e){return Math.min(1,Math.max(0,e))}function ri(e){return parseInt(e,16)}function X$(e){return typeof e=="string"&&e.indexOf(".")!=-1&&parseFloat(e)===1}function Z$(e){return typeof e=="string"&&e.indexOf("%")!=-1}function hs(e){return e.length==1?"0"+e:""+e}function hd(e){return e<=1&&(e=e*100+"%"),e}function IP(e){return Math.round(parseFloat(e)*255).toString(16)}function p2(e){return ri(e)/255}var is=function(){var e="[-\\+]?\\d+%?",t="[-\\+]?\\d*\\.\\d+%?",n="(?:"+t+")|(?:"+e+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function io(e){return!!is.CSS_UNIT.exec(e)}function eF(e){e=e.replace(P$,"").replace(j$,"").toLowerCase();var t=!1;if(BA[e])e=BA[e],t=!0;else if(e=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=is.rgb.exec(e))?{r:n[1],g:n[2],b:n[3]}:(n=is.rgba.exec(e))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=is.hsl.exec(e))?{h:n[1],s:n[2],l:n[3]}:(n=is.hsla.exec(e))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=is.hsv.exec(e))?{h:n[1],s:n[2],v:n[3]}:(n=is.hsva.exec(e))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=is.hex8.exec(e))?{r:ri(n[1]),g:ri(n[2]),b:ri(n[3]),a:p2(n[4]),format:t?"name":"hex8"}:(n=is.hex6.exec(e))?{r:ri(n[1]),g:ri(n[2]),b:ri(n[3]),format:t?"name":"hex"}:(n=is.hex4.exec(e))?{r:ri(n[1]+""+n[1]),g:ri(n[2]+""+n[2]),b:ri(n[3]+""+n[3]),a:p2(n[4]+""+n[4]),format:t?"name":"hex8"}:(n=is.hex3.exec(e))?{r:ri(n[1]+""+n[1]),g:ri(n[2]+""+n[2]),b:ri(n[3]+""+n[3]),format:t?"name":"hex"}:!1}function tF(e){var t,n;return e=e||{level:"AA",size:"small"},t=(e.level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),t!=="AA"&&t!=="AAA"&&(t="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:t,size:n}}const nF=ue("rgb(52, 166, 95)"),rF=ue("rgb(15, 138, 95)"),iF=ue("rgb(245, 98, 77)"),sF=ue("rgb(204, 35, 30)"),RP=ue("rgb(245, 220, 21)"),oF=ue(RP.toRgbString()).darken(15),MP=ue("rgb(255, 70, 223)"),aF=ue(MP.toRgbString()).darken(15),PP=ue("rgb(255, 119, 20)"),lF=ue(PP.toRgbString()).darken(15),jP=ue("rgb(31, 192, 223)"),cF=ue(jP.toRgbString()).darken(15),OP=ue("rgb(102, 44, 182)"),uF=ue(OP.toRgbString()).darken(15),dF=ue("rgb(0, 153, 255)"),fF=ue("rgb(0, 77, 128)"),hF=ue("rgb(255, 54, 54)"),pF=ue("rgb(117, 25, 25)"),gF=ue("rgb(255, 213, 0)"),Np=ue("rgb(255, 183, 0)"),ki=(e,t)=>e.setAlpha(t).toRgbString(),ns=(e,t)=>({text:ki(e,1),stroke:ki(t,1),star:{fill:ki(Np,.5),stroke:ki(Np,0),lineWidth:1},perfect:{fill:ki(e,1),stroke:"white",lineWidth:1},starPerfect:{fill:ki(gF,1),stroke:ki(Np,1),lineWidth:2},hit:{fill:ki(e,.9),stroke:ki(t,0),lineWidth:1},miss:{fill:ki(e,.25),stroke:ki(t,1),lineWidth:1}}),Ue={blue:ns(dF,fF),red:ns(hF,pF),green:ns(ue("rgb(0,183,0)"),ue("rgb(0,84,0)")),yellow:ns(ue("rgb(239,209,0)"),ue("rgb(114,84,0)")),christmasGreen:ns(nF,rF),christmasRed:ns(iF,sF),eurovisionYellow:ns(RP,oF),eurovisionPink:ns(MP,aF),eurovisionOrange:ns(PP,lF),eurovisionBlue:ns(jP,cF),eurovisionViolet:ns(OP,uF)};let Ms=[Ue.blue,Ue.red,Ue.green,Ue.yellow];const pe={colors:{players:Ms,lines:{normal:{fill:"rgba(127, 127, 127, .7)",stroke:"black",lineWidth:1},star:{fill:"rgba(158, 144, 106, 1)",stroke:ki(Np,1),lineWidth:1},freestyle:{fill:"rgba(255, 255, 255, 0.1)",stroke:"black",lineWidth:2}},text:{active:"rgb(255, 165, 0)",activeBorder:"rgb(101,75,22)",default:"white",inactive:"grey"}}},VP=e=>{e==="christmas"&&Ms[0]!==Ue.christmasGreen?(Ms=[Ue.christmasGreen,Ue.christmasRed],pe.colors.players=Ms):e==="eurovision"&&Ms[0]!==Ue.eurovisionYellow?(Ms=[Ue.eurovisionBlue,Ue.eurovisionViolet,Ue.eurovisionYellow,Ue.eurovisionPink],pe.colors.players=Ms):e==="regular"&&Ms[0]!==Ue.blue&&(Ms=[Ue.blue,Ue.red,Ue.green,Ue.yellow],pe.colors.players=Ms)};function kc(e,t,n){e==null||e.send({t,...n})}var DA;try{DA=new TextDecoder}catch{}var me,Bi,W=0,Bt={},lt,Xo,Ti=0,Bs=0,Xn,mo,Qr=[],it,g2={useRecords:!1,mapsAsObjects:!0};class LP{}const NP=new LP;NP.name="MessagePack 0xC1";var oa=!1,BP=2,m2;try{new Function("")}catch{BP=1/0}class nf{constructor(t){t&&(t.useRecords===!1&&t.mapsAsObjects===void 0&&(t.mapsAsObjects=!0),t.sequential&&t.trusted!==!1&&(t.trusted=!0,!t.structures&&t.useRecords!=!1&&(t.structures=[],t.maxSharedStructures||(t.maxSharedStructures=0))),t.structures?t.structures.sharedLength=t.structures.length:t.getStructures&&((t.structures=[]).uninitialized=!0,t.structures.sharedLength=0),t.int64AsNumber&&(t.int64AsType="number")),Object.assign(this,t)}unpack(t,n){if(me)return HP(()=>(FA(),this?this.unpack(t,n):nf.prototype.unpack.call(g2,t,n)));!t.buffer&&t.constructor===ArrayBuffer&&(t=typeof Buffer<"u"?Buffer.from(t):new Uint8Array(t)),typeof n=="object"?(Bi=n.end||t.length,W=n.start||0):(W=0,Bi=n>-1?n:t.length),Bs=0,Xo=null,Xn=null,me=t;try{it=t.dataView||(t.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength))}catch(r){throw me=null,t instanceof Uint8Array?r:new Error("Source must be a Uint8Array or Buffer but was a "+(t&&typeof t=="object"?t.constructor.name:typeof t))}if(this instanceof nf){if(Bt=this,this.structures)return lt=this.structures,Nh(n);(!lt||lt.length>0)&&(lt=[])}else Bt=g2,(!lt||lt.length>0)&&(lt=[]);return Nh(n)}unpackMultiple(t,n){let r,i=0;try{oa=!0;let s=t.length,o=this?this.unpack(t,s):Lm.unpack(t,s);if(n){if(n(o,i,W)===!1)return;for(;W<s;)if(i=W,n(Nh(),i,W)===!1)return}else{for(r=[o];W<s;)i=W,r.push(Nh());return r}}catch(s){throw s.lastPosition=i,s.values=r,s}finally{oa=!1,FA()}}_mergeStructures(t,n){t=t||[],Object.isFrozen(t)&&(t=t.map(r=>r.slice(0)));for(let r=0,i=t.length;r<i;r++){let s=t[r];s&&(s.isShared=!0,r>=32&&(s.highByte=r-32>>5))}t.sharedLength=t.length;for(let r in n||[])if(r>=0){let i=t[r],s=n[r];s&&(i&&((t.restoreStructures||(t.restoreStructures=[]))[r]=i),t[r]=s)}return this.structures=t}decode(t,n){return this.unpack(t,n)}}function Nh(e){try{if(!Bt.trusted&&!oa){let n=lt.sharedLength||0;n<lt.length&&(lt.length=n)}let t;if(Bt.randomAccessStructure&&me[W]<64&&me[W]>=32&&m2?(t=m2(me,W,Bi,Bt),me=null,!(e&&e.lazy)&&t&&(t=t.toJSON()),W=Bi):t=Sn(),Xn&&(W=Xn.postBundlePosition,Xn=null),oa&&(lt.restoreStructures=null),W==Bi)lt&&lt.restoreStructures&&v2(),lt=null,me=null,mo&&(mo=null);else{if(W>Bi)throw new Error("Unexpected end of MessagePack data");if(!oa){let n;try{n=JSON.stringify(t,(r,i)=>typeof i=="bigint"?`${i}n`:i).slice(0,100)}catch(r){n="(JSON view not available "+r+")"}throw new Error("Data read, but end of buffer not reached "+n)}}return t}catch(t){throw lt&&lt.restoreStructures&&v2(),FA(),(t instanceof RangeError||t.message.startsWith("Unexpected end of buffer")||W>Bi)&&(t.incomplete=!0),t}}function v2(){for(let e in lt.restoreStructures)lt[e]=lt.restoreStructures[e];lt.restoreStructures=null}function Sn(){let e=me[W++];if(e<160)if(e<128){if(e<64)return e;{let t=lt[e&63]||Bt.getStructures&&DP()[e&63];return t?(t.read||(t.read=Pb(t,e&63)),t.read()):e}}else if(e<144)if(e-=128,Bt.mapsAsObjects){let t={};for(let n=0;n<e;n++){let r=FP();r==="__proto__"&&(r="__proto_"),t[r]=Sn()}return t}else{let t=new Map;for(let n=0;n<e;n++)t.set(Sn(),Sn());return t}else{e-=144;let t=new Array(e);for(let n=0;n<e;n++)t[n]=Sn();return Bt.freezeData?Object.freeze(t):t}else if(e<192){let t=e-160;if(Bs>=W)return Xo.slice(W-Ti,(W+=t)-Ti);if(Bs==0&&Bi<140){let n=t<16?jb(t):$P(t);if(n!=null)return n}return $A(t)}else{let t;switch(e){case 192:return null;case 193:return Xn?(t=Sn(),t>0?Xn[1].slice(Xn.position1,Xn.position1+=t):Xn[0].slice(Xn.position0,Xn.position0-=t)):NP;case 194:return!1;case 195:return!0;case 196:if(t=me[W++],t===void 0)throw new Error("Unexpected end of buffer");return $v(t);case 197:return t=it.getUint16(W),W+=2,$v(t);case 198:return t=it.getUint32(W),W+=4,$v(t);case 199:return Va(me[W++]);case 200:return t=it.getUint16(W),W+=2,Va(t);case 201:return t=it.getUint32(W),W+=4,Va(t);case 202:if(t=it.getFloat32(W),Bt.useFloat32>2){let n=Ob[(me[W]&127)<<1|me[W+1]>>7];return W+=4,(n*t+(t>0?.5:-.5)>>0)/n}return W+=4,t;case 203:return t=it.getFloat64(W),W+=8,t;case 204:return me[W++];case 205:return t=it.getUint16(W),W+=2,t;case 206:return t=it.getUint32(W),W+=4,t;case 207:return Bt.int64AsType==="number"?(t=it.getUint32(W)*4294967296,t+=it.getUint32(W+4)):Bt.int64AsType==="string"?t=it.getBigUint64(W).toString():Bt.int64AsType==="auto"?(t=it.getBigUint64(W),t<=BigInt(2)<<BigInt(52)&&(t=Number(t))):t=it.getBigUint64(W),W+=8,t;case 208:return it.getInt8(W++);case 209:return t=it.getInt16(W),W+=2,t;case 210:return t=it.getInt32(W),W+=4,t;case 211:return Bt.int64AsType==="number"?(t=it.getInt32(W)*4294967296,t+=it.getUint32(W+4)):Bt.int64AsType==="string"?t=it.getBigInt64(W).toString():Bt.int64AsType==="auto"?(t=it.getBigInt64(W),t>=BigInt(-2)<<BigInt(52)&&t<=BigInt(2)<<BigInt(52)&&(t=Number(t))):t=it.getBigInt64(W),W+=8,t;case 212:if(t=me[W++],t==114)return x2(me[W++]&63);{let n=Qr[t];if(n)return n.read?(W++,n.read(Sn())):n.noBuffer?(W++,n()):n(me.subarray(W,++W));throw new Error("Unknown extension "+t)}case 213:return t=me[W],t==114?(W++,x2(me[W++]&63,me[W++])):Va(2);case 214:return Va(4);case 215:return Va(8);case 216:return Va(16);case 217:return t=me[W++],Bs>=W?Xo.slice(W-Ti,(W+=t)-Ti):vF(t);case 218:return t=it.getUint16(W),W+=2,Bs>=W?Xo.slice(W-Ti,(W+=t)-Ti):yF(t);case 219:return t=it.getUint32(W),W+=4,Bs>=W?Xo.slice(W-Ti,(W+=t)-Ti):AF(t);case 220:return t=it.getUint16(W),W+=2,A2(t);case 221:return t=it.getUint32(W),W+=4,A2(t);case 222:return t=it.getUint16(W),W+=2,_2(t);case 223:return t=it.getUint32(W),W+=4,_2(t);default:if(e>=224)return e-256;if(e===void 0){let n=new Error("Unexpected end of MessagePack data");throw n.incomplete=!0,n}throw new Error("Unknown MessagePack token "+e)}}}const mF=/^[a-zA-Z_$][a-zA-Z\d_$]*$/;function Pb(e,t){function n(){if(n.count++>BP){let i=e.read=new Function("r","return function(){return "+(Bt.freezeData?"Object.freeze":"")+"({"+e.map(s=>s==="__proto__"?"__proto_:r()":mF.test(s)?s+":r()":"["+JSON.stringify(s)+"]:r()").join(",")+"})}")(Sn);return e.highByte===0&&(e.read=y2(t,e.read)),i()}let r={};for(let i=0,s=e.length;i<s;i++){let o=e[i];o==="__proto__"&&(o="__proto_"),r[o]=Sn()}return Bt.freezeData?Object.freeze(r):r}return n.count=0,e.highByte===0?y2(t,n):n}const y2=(e,t)=>function(){let n=me[W++];if(n===0)return t();let r=e<32?-(e+(n<<5)):e+(n<<5),i=lt[r]||DP()[r];if(!i)throw new Error("Record id is not defined for "+r);return i.read||(i.read=Pb(i,e)),i.read()};function DP(){let e=HP(()=>(me=null,Bt.getStructures()));return lt=Bt._mergeStructures(e,lt)}var $A=Yf,vF=Yf,yF=Yf,AF=Yf;function Yf(e){let t;if(e<16&&(t=jb(e)))return t;if(e>64&&DA)return DA.decode(me.subarray(W,W+=e));const n=W+e,r=[];for(t="";W<n;){const i=me[W++];if(!(i&128))r.push(i);else if((i&224)===192){const s=me[W++]&63;r.push((i&31)<<6|s)}else if((i&240)===224){const s=me[W++]&63,o=me[W++]&63;r.push((i&31)<<12|s<<6|o)}else if((i&248)===240){const s=me[W++]&63,o=me[W++]&63,a=me[W++]&63;let l=(i&7)<<18|s<<12|o<<6|a;l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|l&1023),r.push(l)}else r.push(i);r.length>=4096&&(t+=Gn.apply(String,r),r.length=0)}return r.length>0&&(t+=Gn.apply(String,r)),t}function A2(e){let t=new Array(e);for(let n=0;n<e;n++)t[n]=Sn();return Bt.freezeData?Object.freeze(t):t}function _2(e){if(Bt.mapsAsObjects){let t={};for(let n=0;n<e;n++){let r=FP();r==="__proto__"&&(r="__proto_"),t[r]=Sn()}return t}else{let t=new Map;for(let n=0;n<e;n++)t.set(Sn(),Sn());return t}}var Gn=String.fromCharCode;function $P(e){let t=W,n=new Array(e);for(let r=0;r<e;r++){const i=me[W++];if((i&128)>0){W=t;return}n[r]=i}return Gn.apply(String,n)}function jb(e){if(e<4)if(e<2){if(e===0)return"";{let t=me[W++];if((t&128)>1){W-=1;return}return Gn(t)}}else{let t=me[W++],n=me[W++];if((t&128)>0||(n&128)>0){W-=2;return}if(e<3)return Gn(t,n);let r=me[W++];if((r&128)>0){W-=3;return}return Gn(t,n,r)}else{let t=me[W++],n=me[W++],r=me[W++],i=me[W++];if((t&128)>0||(n&128)>0||(r&128)>0||(i&128)>0){W-=4;return}if(e<6){if(e===4)return Gn(t,n,r,i);{let s=me[W++];if((s&128)>0){W-=5;return}return Gn(t,n,r,i,s)}}else if(e<8){let s=me[W++],o=me[W++];if((s&128)>0||(o&128)>0){W-=6;return}if(e<7)return Gn(t,n,r,i,s,o);let a=me[W++];if((a&128)>0){W-=7;return}return Gn(t,n,r,i,s,o,a)}else{let s=me[W++],o=me[W++],a=me[W++],l=me[W++];if((s&128)>0||(o&128)>0||(a&128)>0||(l&128)>0){W-=8;return}if(e<10){if(e===8)return Gn(t,n,r,i,s,o,a,l);{let c=me[W++];if((c&128)>0){W-=9;return}return Gn(t,n,r,i,s,o,a,l,c)}}else if(e<12){let c=me[W++],u=me[W++];if((c&128)>0||(u&128)>0){W-=10;return}if(e<11)return Gn(t,n,r,i,s,o,a,l,c,u);let d=me[W++];if((d&128)>0){W-=11;return}return Gn(t,n,r,i,s,o,a,l,c,u,d)}else{let c=me[W++],u=me[W++],d=me[W++],h=me[W++];if((c&128)>0||(u&128)>0||(d&128)>0||(h&128)>0){W-=12;return}if(e<14){if(e===12)return Gn(t,n,r,i,s,o,a,l,c,u,d,h);{let p=me[W++];if((p&128)>0){W-=13;return}return Gn(t,n,r,i,s,o,a,l,c,u,d,h,p)}}else{let p=me[W++],g=me[W++];if((p&128)>0||(g&128)>0){W-=14;return}if(e<15)return Gn(t,n,r,i,s,o,a,l,c,u,d,h,p,g);let m=me[W++];if((m&128)>0){W-=15;return}return Gn(t,n,r,i,s,o,a,l,c,u,d,h,p,g,m)}}}}}function b2(){let e=me[W++],t;if(e<192)t=e-160;else switch(e){case 217:t=me[W++];break;case 218:t=it.getUint16(W),W+=2;break;case 219:t=it.getUint32(W),W+=4;break;default:throw new Error("Expected string")}return Yf(t)}function $v(e){return Bt.copyBuffers?Uint8Array.prototype.slice.call(me,W,W+=e):me.subarray(W,W+=e)}function Va(e){let t=me[W++];if(Qr[t]){let n;return Qr[t](me.subarray(W,n=W+=e),r=>{W=r;try{return Sn()}finally{W=n}})}else throw new Error("Unknown extension type "+t)}var S2=new Array(4096);function FP(){let e=me[W++];if(e>=160&&e<192){if(e=e-160,Bs>=W)return Xo.slice(W-Ti,(W+=e)-Ti);if(!(Bs==0&&Bi<180))return $A(e)}else return W--,zP(Sn());let t=(e<<5^(e>1?it.getUint16(W):e>0?me[W]:0))&4095,n=S2[t],r=W,i=W+e-3,s,o=0;if(n&&n.bytes==e){for(;r<i;){if(s=it.getUint32(r),s!=n[o++]){r=1879048192;break}r+=4}for(i+=3;r<i;)if(s=me[r++],s!=n[o++]){r=1879048192;break}if(r===i)return W=r,n.string;i-=3,r=W}for(n=[],S2[t]=n,n.bytes=e;r<i;)s=it.getUint32(r),n.push(s),r+=4;for(i+=3;r<i;)s=me[r++],n.push(s);let a=e<16?jb(e):$P(e);return a!=null?n.string=a:n.string=$A(e)}function zP(e){if(typeof e=="string")return e;if(typeof e=="number")return e.toString();throw new Error("Invalid property type for record",typeof e)}const x2=(e,t)=>{let n=Sn().map(zP),r=e;t!==void 0&&(e=e<32?-((t<<5)+e):(t<<5)+e,n.highByte=t);let i=lt[e];return i&&(i.isShared||oa)&&((lt.restoreStructures||(lt.restoreStructures=[]))[e]=i),lt[e]=n,n.read=Pb(n,r),n.read()};Qr[0]=()=>{};Qr[0].noBuffer=!0;Qr[66]=e=>{let t=e.length,n=BigInt(e[0]&128?e[0]-256:e[0]);for(let r=1;r<t;r++)n<<=8n,n+=BigInt(e[r]);return n};let _F={Error,TypeError,ReferenceError};Qr[101]=()=>{let e=Sn();return(_F[e[0]]||Error)(e[1])};Qr[105]=e=>{if(Bt.structuredClone===!1)throw new Error("Structured clone extension is disabled");let t=it.getUint32(W-4);mo||(mo=new Map);let n=me[W],r;n>=144&&n<160||n==220||n==221?r=[]:r={};let i={target:r};mo.set(t,i);let s=Sn();return i.used?Object.assign(r,s):(i.target=s,s)};Qr[112]=e=>{if(Bt.structuredClone===!1)throw new Error("Structured clone extension is disabled");let t=it.getUint32(W-4),n=mo.get(t);return n.used=!0,n.target};Qr[115]=()=>new Set(Sn());const UP=["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64","BigInt64","BigUint64"].map(e=>e+"Array");let bF=typeof globalThis=="object"?globalThis:window;Qr[116]=e=>{let t=e[0],n=UP[t];if(!n)throw new Error("Could not find typed array for code "+t);return new bF[n](Uint8Array.prototype.slice.call(e,1).buffer)};Qr[120]=()=>{let e=Sn();return new RegExp(e[0],e[1])};const SF=[];Qr[98]=e=>{let t=(e[0]<<24)+(e[1]<<16)+(e[2]<<8)+e[3],n=W;return W+=t-e.length,Xn=SF,Xn=[b2(),b2()],Xn.position0=0,Xn.position1=0,Xn.postBundlePosition=W,W=n,Sn()};Qr[255]=e=>e.length==4?new Date((e[0]*16777216+(e[1]<<16)+(e[2]<<8)+e[3])*1e3):e.length==8?new Date(((e[0]<<22)+(e[1]<<14)+(e[2]<<6)+(e[3]>>2))/1e6+((e[3]&3)*4294967296+e[4]*16777216+(e[5]<<16)+(e[6]<<8)+e[7])*1e3):e.length==12?new Date(((e[0]<<24)+(e[1]<<16)+(e[2]<<8)+e[3])/1e6+((e[4]&128?-281474976710656:0)+e[6]*1099511627776+e[7]*4294967296+e[8]*16777216+(e[9]<<16)+(e[10]<<8)+e[11])*1e3):new Date("invalid");function HP(e){let t=Bi,n=W,r=Ti,i=Bs,s=Xo,o=mo,a=Xn,l=new Uint8Array(me.slice(0,Bi)),c=lt,u=lt.slice(0,lt.length),d=Bt,h=oa,p=e();return Bi=t,W=n,Ti=r,Bs=i,Xo=s,mo=o,Xn=a,me=l,oa=h,lt=c,lt.splice(0,lt.length,...u),Bt=d,it=new DataView(me.buffer,me.byteOffset,me.byteLength),p}function FA(){me=null,mo=null,lt=null}const Ob=new Array(147);for(let e=0;e<256;e++)Ob[e]=+("1e"+Math.floor(45.15-e*.30103));var Lm=new nf({useRecords:!1});const xF=Lm.unpack;Lm.unpackMultiple;Lm.unpack;let wF=new Float32Array(1);new Uint8Array(wF.buffer,0,4);let Bp;try{Bp=new TextEncoder}catch{}let zA,GP;const Nm=typeof Buffer<"u",Bh=Nm?function(e){return Buffer.allocUnsafeSlow(e)}:Uint8Array,qP=Nm?Buffer:Uint8Array,w2=Nm?4294967296:2144337920;let J,zu,Rt,Y=0,kr,nn=null,EF;const kF=21760,CF=/[\u0080-\uFFFF]/,Gl=Symbol("record-id");class TF extends nf{constructor(t){super(t),this.offset=0;let n,r,i,s,o=qP.prototype.utf8Write?function(P,L){return J.utf8Write(P,L,4294967295)}:Bp&&Bp.encodeInto?function(P,L){return Bp.encodeInto(P,J.subarray(L)).written}:!1,a=this;t||(t={});let l=t&&t.sequential,c=t.structures||t.saveStructures,u=t.maxSharedStructures;if(u==null&&(u=c?32:0),u>8160)throw new Error("Maximum maxSharedStructure is 8160");t.structuredClone&&t.moreTypes==null&&(this.moreTypes=!0);let d=t.maxOwnStructures;d==null&&(d=c?32:64),!this.structures&&t.useRecords!=!1&&(this.structures=[]);let h=u>32||d+u>64,p=u+64,g=u+d+64;if(g>8256)throw new Error("Maximum maxSharedStructure + maxOwnStructure is 8192");let m=[],_=0,v=0;this.pack=this.encode=function(P,L){if(J||(J=new Bh(8192),Rt=J.dataView||(J.dataView=new DataView(J.buffer,0,8192)),Y=0),kr=J.length-10,kr-Y<2048?(J=new Bh(J.length),Rt=J.dataView||(J.dataView=new DataView(J.buffer,0,J.length)),kr=J.length-10,Y=0):Y=Y+7&2147483640,n=Y,L&OF&&(Y+=L&255),s=a.structuredClone?new Map:null,a.bundleStrings&&typeof P!="string"?(nn=[],nn.size=1/0):nn=null,i=a.structures,i){i.uninitialized&&(i=a._mergeStructures(a.getStructures()));let I=i.sharedLength||0;if(I>u)throw new Error("Shared structures is larger than maximum shared structures, try increasing maxSharedStructures to "+i.sharedLength);if(!i.transitions){i.transitions=Object.create(null);for(let F=0;F<I;F++){let j=i[F];if(!j)continue;let z,V=i.transitions;for(let G=0,U=j.length;G<U;G++){let ne=j[G];z=V[ne],z||(z=V[ne]=Object.create(null)),V=z}V[Gl]=F+64}this.lastNamedStructuresLength=I}l||(i.nextId=I+64)}r&&(r=!1);let R;try{a.randomAccessStructure&&P&&P.constructor&&P.constructor===Object?K(P):x(P);let I=nn;if(nn&&C2(n,x,0),s&&s.idsToInsert){let F=s.idsToInsert.sort((G,U)=>G.offset>U.offset?1:-1),j=F.length,z=-1;for(;I&&j>0;){let G=F[--j].offset+n;G<I.stringsPosition+n&&z===-1&&(z=0),G>I.position+n?z>=0&&(z+=6):(z>=0&&(Rt.setUint32(I.position+n,Rt.getUint32(I.position+n)+z),z=-1),I=I.previous,j++)}z>=0&&I&&Rt.setUint32(I.position+n,Rt.getUint32(I.position+n)+z),Y+=F.length*6,Y>kr&&$(Y),a.offset=Y;let V=RF(J.subarray(n,Y),F);return s=null,V}return a.offset=Y,L&PF?(J.start=n,J.end=Y,J):J.subarray(n,Y)}catch(I){throw R=I,I}finally{if(i&&(y(),r&&a.saveStructures)){let I=i.sharedLength||0,F=J.subarray(n,Y),j=MF(i,a);if(!R)return a.saveStructures(j,j.isCompatible)===!1?a.pack(P,L):(a.lastNamedStructuresLength=I,F)}L&jF&&(Y=n)}};const y=()=>{v<10&&v++;let P=i.sharedLength||0;if(i.length>P&&!l&&(i.length=P),_>1e4)i.transitions=null,v=0,_=0,m.length>0&&(m=[]);else if(m.length>0&&!l){for(let L=0,R=m.length;L<R;L++)m[L][Gl]=0;m=[]}},S=P=>{var L=P.length;L<16?J[Y++]=144|L:L<65536?(J[Y++]=220,J[Y++]=L>>8,J[Y++]=L&255):(J[Y++]=221,Rt.setUint32(Y,L),Y+=4);for(let R=0;R<L;R++)x(P[R])},x=P=>{Y>kr&&(J=$(Y));var L=typeof P,R;if(L==="string"){let I=P.length;if(nn&&I>=4&&I<4096){if((nn.size+=I)>kF){let V,G=(nn[0]?nn[0].length*3+nn[1].length:0)+10;Y+G>kr&&(J=$(Y+G));let U;nn.position?(U=nn,J[Y]=200,Y+=3,J[Y++]=98,V=Y-n,Y+=4,C2(n,x,0),Rt.setUint16(V+n-3,Y-n-V)):(J[Y++]=214,J[Y++]=98,V=Y-n,Y+=4),nn=["",""],nn.previous=U,nn.size=0,nn.position=V}let z=CF.test(P);nn[z?0:1]+=P,J[Y++]=193,x(z?-I:I);return}let F;I<32?F=1:I<256?F=2:I<65536?F=3:F=5;let j=I*3;if(Y+j>kr&&(J=$(Y+j)),I<64||!o){let z,V,G,U=Y+F;for(z=0;z<I;z++)V=P.charCodeAt(z),V<128?J[U++]=V:V<2048?(J[U++]=V>>6|192,J[U++]=V&63|128):(V&64512)===55296&&((G=P.charCodeAt(z+1))&64512)===56320?(V=65536+((V&1023)<<10)+(G&1023),z++,J[U++]=V>>18|240,J[U++]=V>>12&63|128,J[U++]=V>>6&63|128,J[U++]=V&63|128):(J[U++]=V>>12|224,J[U++]=V>>6&63|128,J[U++]=V&63|128);R=U-Y-F}else R=o(P,Y+F);R<32?J[Y++]=160|R:R<256?(F<2&&J.copyWithin(Y+2,Y+1,Y+1+R),J[Y++]=217,J[Y++]=R):R<65536?(F<3&&J.copyWithin(Y+3,Y+2,Y+2+R),J[Y++]=218,J[Y++]=R>>8,J[Y++]=R&255):(F<5&&J.copyWithin(Y+5,Y+3,Y+3+R),J[Y++]=219,Rt.setUint32(Y,R),Y+=4),Y+=R}else if(L==="number")if(P>>>0===P)P<32||P<128&&this.useRecords===!1||P<64&&!this.randomAccessStructure?J[Y++]=P:P<256?(J[Y++]=204,J[Y++]=P):P<65536?(J[Y++]=205,J[Y++]=P>>8,J[Y++]=P&255):(J[Y++]=206,Rt.setUint32(Y,P),Y+=4);else if(P>>0===P)P>=-32?J[Y++]=256+P:P>=-128?(J[Y++]=208,J[Y++]=P+256):P>=-32768?(J[Y++]=209,Rt.setInt16(Y,P),Y+=2):(J[Y++]=210,Rt.setInt32(Y,P),Y+=4);else{let I;if((I=this.useFloat32)>0&&P<4294967296&&P>=-2147483648){J[Y++]=202,Rt.setFloat32(Y,P);let F;if(I<4||(F=P*Ob[(J[Y]&127)<<1|J[Y+1]>>7])>>0===F){Y+=4;return}else Y--}J[Y++]=203,Rt.setFloat64(Y,P),Y+=8}else if(L==="object"||L==="function")if(!P)J[Y++]=192;else{if(s){let F=s.get(P);if(F){if(!F.id){let j=s.idsToInsert||(s.idsToInsert=[]);F.id=j.push(F)}J[Y++]=214,J[Y++]=112,Rt.setUint32(Y,F.id),Y+=4;return}else s.set(P,{offset:Y-n})}let I=P.constructor;if(I===Object)T(P,!0);else if(I===Array)S(P);else if(I===Map)if(this.mapAsEmptyObject)J[Y++]=128;else{R=P.size,R<16?J[Y++]=128|R:R<65536?(J[Y++]=222,J[Y++]=R>>8,J[Y++]=R&255):(J[Y++]=223,Rt.setUint32(Y,R),Y+=4);for(let[F,j]of P)x(F),x(j)}else{for(let F=0,j=zA.length;F<j;F++){let z=GP[F];if(P instanceof z){let V=zA[F];if(V.write){V.type&&(J[Y++]=212,J[Y++]=V.type,J[Y++]=0);let de=V.write.call(this,P);de===P?Array.isArray(P)?S(P):T(P):x(de);return}let G=J,U=Rt,ne=Y;J=null;let O;try{O=V.pack.call(this,P,de=>(J=G,G=null,Y+=de,Y>kr&&$(Y),{target:J,targetView:Rt,position:Y-de}),x)}finally{G&&(J=G,Rt=U,Y=ne,kr=J.length-10)}O&&(O.length+Y>kr&&$(O.length+Y),Y=IF(O,J,Y,V.type));return}}if(Array.isArray(P))S(P);else{if(P.toJSON){const F=P.toJSON();if(F!==P)return x(F)}if(L==="function")return x(this.writeFunction&&this.writeFunction(P));T(P,!P.hasOwnProperty)}}}else if(L==="boolean")J[Y++]=P?195:194;else if(L==="bigint"){if(P<BigInt(1)<<BigInt(63)&&P>=-(BigInt(1)<<BigInt(63)))J[Y++]=211,Rt.setBigInt64(Y,P);else if(P<BigInt(1)<<BigInt(64)&&P>0)J[Y++]=207,Rt.setBigUint64(Y,P);else if(this.largeBigIntToFloat)J[Y++]=203,Rt.setFloat64(Y,Number(P));else if(this.useBigIntExtension&&P<2n**1023n&&P>-(2n**1023n)){J[Y++]=199,Y++,J[Y++]=66;let I=[],F;do{let j=P&0xffn;F=(j&0x80n)===(P<0n?0x80n:0n),I.push(j),P>>=8n}while(!((P===0n||P===-1n)&&F));J[Y-2]=I.length;for(let j=I.length;j>0;)J[Y++]=Number(I[--j]);return}else throw new RangeError(P+" was too large to fit in MessagePack 64-bit integer format, use useBigIntExtension or set largeBigIntToFloat to convert to float-64");Y+=8}else if(L==="undefined")this.encodeUndefinedAsNil?J[Y++]=192:(J[Y++]=212,J[Y++]=0,J[Y++]=0);else throw new Error("Unknown type: "+L)},b=this.variableMapSize||this.coercibleKeyAsNumber?P=>{let L=Object.keys(P),R=L.length;R<16?J[Y++]=128|R:R<65536?(J[Y++]=222,J[Y++]=R>>8,J[Y++]=R&255):(J[Y++]=223,Rt.setUint32(Y,R),Y+=4);let I;if(this.coercibleKeyAsNumber)for(let F=0;F<R;F++){I=L[F];let j=Number(I);x(isNaN(j)?I:j),x(P[I])}else for(let F=0;F<R;F++)x(I=L[F]),x(P[I])}:(P,L)=>{J[Y++]=222;let R=Y-n;Y+=2;let I=0;for(let F in P)(L||P.hasOwnProperty(F))&&(x(F),x(P[F]),I++);J[R+++n]=I>>8,J[R+n]=I&255},w=this.useRecords===!1?b:t.progressiveRecords&&!h?(P,L)=>{let R,I=i.transitions||(i.transitions=Object.create(null)),F=Y++-n,j;for(let z in P)if(L||P.hasOwnProperty(z)){if(R=I[z],R)I=R;else{let V=Object.keys(P),G=I;I=i.transitions;let U=0;for(let ne=0,O=V.length;ne<O;ne++){let de=V[ne];R=I[de],R||(R=I[de]=Object.create(null),U++),I=R}F+n+1==Y?(Y--,N(I,V,U)):B(I,V,F,U),j=!0,I=G[z]}x(P[z])}if(!j){let z=I[Gl];z?J[F+n]=z:B(I,Object.keys(P),F,0)}}:(P,L)=>{let R,I=i.transitions||(i.transitions=Object.create(null)),F=0;for(let z in P)(L||P.hasOwnProperty(z))&&(R=I[z],R||(R=I[z]=Object.create(null),F++),I=R);let j=I[Gl];j?j>=96&&h?(J[Y++]=((j-=96)&31)+96,J[Y++]=j>>5):J[Y++]=j:N(I,I.__keys__||Object.keys(P),F);for(let z in P)(L||P.hasOwnProperty(z))&&x(P[z])},E=typeof this.useRecords=="function"&&this.useRecords,T=E?(P,L)=>{E(P)?w(P,L):b(P,L)}:w,$=P=>{let L;if(P>16777216){if(P-n>w2)throw new Error("Packed buffer would be larger than maximum buffer size");L=Math.min(w2,Math.round(Math.max((P-n)*(P>67108864?1.25:2),4194304)/4096)*4096)}else L=(Math.max(P-n<<2,J.length-1)>>12)+1<<12;let R=new Bh(L);return Rt=R.dataView||(R.dataView=new DataView(R.buffer,0,L)),P=Math.min(P,J.length),J.copy?J.copy(R,0,n,P):R.set(J.slice(n,P)),Y-=n,n=0,kr=R.length-10,J=R},N=(P,L,R)=>{let I=i.nextId;I||(I=64),I<p&&this.shouldShareStructure&&!this.shouldShareStructure(L)?(I=i.nextOwnId,I<g||(I=p),i.nextOwnId=I+1):(I>=g&&(I=p),i.nextId=I+1);let F=L.highByte=I>=96&&h?I-96>>5:-1;P[Gl]=I,P.__keys__=L,i[I-64]=L,I<p?(L.isShared=!0,i.sharedLength=I-63,r=!0,F>=0?(J[Y++]=(I&31)+96,J[Y++]=F):J[Y++]=I):(F>=0?(J[Y++]=213,J[Y++]=114,J[Y++]=(I&31)+96,J[Y++]=F):(J[Y++]=212,J[Y++]=114,J[Y++]=I),R&&(_+=v*R),m.length>=d&&(m.shift()[Gl]=0),m.push(P),x(L))},B=(P,L,R,I)=>{let F=J,j=Y,z=kr,V=n;J=zu,Y=0,n=0,J||(zu=J=new Bh(8192)),kr=J.length-10,N(P,L,I),zu=J;let G=Y;if(J=F,Y=j,kr=z,n=V,G>1){let U=Y+G-1;U>kr&&$(U);let ne=R+n;J.copyWithin(ne+G,ne+1,Y),J.set(zu.slice(0,G),ne),Y=U}else J[R+n]=zu[0]},K=(P,L)=>{let R=EF(P,J,n,Y,i,$,(I,F,j)=>{if(j)return r=!0;Y=F;let z=J;return x(I),y(),z!==J?{position:Y,targetView:Rt,target:J}:Y},this);if(R===0)return T(P,!0);Y=R}}useBuffer(t){J=t,Rt=new DataView(J.buffer,J.byteOffset,J.byteLength),Y=0}clearSharedData(){this.structures&&(this.structures=[]),this.typedStructs&&(this.typedStructs=[])}}GP=[Date,Set,Error,RegExp,ArrayBuffer,Object.getPrototypeOf(Uint8Array.prototype).constructor,LP];zA=[{pack(e,t,n){let r=e.getTime()/1e3;if((this.useTimestamp32||e.getMilliseconds()===0)&&r>=0&&r<4294967296){let{target:i,targetView:s,position:o}=t(6);i[o++]=214,i[o++]=255,s.setUint32(o,r)}else if(r>0&&r<4294967296){let{target:i,targetView:s,position:o}=t(10);i[o++]=215,i[o++]=255,s.setUint32(o,e.getMilliseconds()*4e6+(r/1e3/4294967296>>0)),s.setUint32(o+4,r)}else if(isNaN(r)){if(this.onInvalidDate)return t(0),n(this.onInvalidDate());let{target:i,targetView:s,position:o}=t(3);i[o++]=212,i[o++]=255,i[o++]=255}else{let{target:i,targetView:s,position:o}=t(15);i[o++]=199,i[o++]=12,i[o++]=255,s.setUint32(o,e.getMilliseconds()*1e6),s.setBigInt64(o+4,BigInt(Math.floor(r)))}}},{pack(e,t,n){if(this.setAsEmptyObject)return t(0),n({});let r=Array.from(e),{target:i,position:s}=t(this.moreTypes?3:0);this.moreTypes&&(i[s++]=212,i[s++]=115,i[s++]=0),n(r)}},{pack(e,t,n){let{target:r,position:i}=t(this.moreTypes?3:0);this.moreTypes&&(r[i++]=212,r[i++]=101,r[i++]=0),n([e.name,e.message])}},{pack(e,t,n){let{target:r,position:i}=t(this.moreTypes?3:0);this.moreTypes&&(r[i++]=212,r[i++]=120,r[i++]=0),n([e.source,e.flags])}},{pack(e,t){this.moreTypes?E2(e,16,t):k2(Nm?Buffer.from(e):new Uint8Array(e),t)}},{pack(e,t){let n=e.constructor;n!==qP&&this.moreTypes?E2(e,UP.indexOf(n.name),t):k2(e,t)}},{pack(e,t){let{target:n,position:r}=t(1);n[r]=193}}];function E2(e,t,n,r){let i=e.byteLength;if(i+1<256){var{target:s,position:o}=n(4+i);s[o++]=199,s[o++]=i+1}else if(i+1<65536){var{target:s,position:o}=n(5+i);s[o++]=200,s[o++]=i+1>>8,s[o++]=i+1&255}else{var{target:s,position:o,targetView:a}=n(7+i);s[o++]=201,a.setUint32(o,i+1),o+=4}s[o++]=116,s[o++]=t,s.set(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),o)}function k2(e,t){let n=e.byteLength;var r,i;if(n<256){var{target:r,position:i}=t(n+2);r[i++]=196,r[i++]=n}else if(n<65536){var{target:r,position:i}=t(n+3);r[i++]=197,r[i++]=n>>8,r[i++]=n&255}else{var{target:r,position:i,targetView:s}=t(n+5);r[i++]=198,s.setUint32(i,n),i+=4}r.set(e,i)}function IF(e,t,n,r){let i=e.length;switch(i){case 1:t[n++]=212;break;case 2:t[n++]=213;break;case 4:t[n++]=214;break;case 8:t[n++]=215;break;case 16:t[n++]=216;break;default:i<256?(t[n++]=199,t[n++]=i):i<65536?(t[n++]=200,t[n++]=i>>8,t[n++]=i&255):(t[n++]=201,t[n++]=i>>24,t[n++]=i>>16&255,t[n++]=i>>8&255,t[n++]=i&255)}return t[n++]=r,t.set(e,n),n+=i,n}function RF(e,t){let n,r=t.length*6,i=e.length-r;for(;n=t.pop();){let s=n.offset,o=n.id;e.copyWithin(s+r,s,i),r-=6;let a=s+r;e[a++]=214,e[a++]=105,e[a++]=o>>24,e[a++]=o>>16&255,e[a++]=o>>8&255,e[a++]=o&255,i=s}return e}function C2(e,t,n){if(nn.length>0){Rt.setUint32(nn.position+e,Y+n-nn.position-e),nn.stringsPosition=Y-e;let r=nn;nn=null,t(r[0]),t(r[1])}}function MF(e,t){return e.isCompatible=n=>{let r=!n||(t.lastNamedStructuresLength||0)===n.length;return r||t._mergeStructures(n),r},e}let WP=new TF({useRecords:!1});const KP=WP.pack;WP.pack;const PF=512,jF=1024,OF=2048;function ps(){return Date.now()}const rf=e=>KP(e),Vb=e=>xF(e);let VF=class{constructor(t,n){this.connection=t,this.inputLag=n,this.frequencies=[0],this.volumes=[0],this.requestReadinessPromise=null,this.getFrequencies=()=>this.frequencies,this.clearFrequencies=()=>{Array.isArray(this.frequencies[0])&&(this.frequencies=[this.frequencies[0].at(-1)])},this.getVolumes=()=>this.volumes,this.getInputLag=()=>this.inputLag,this.setInputLag=r=>{this.inputLag=r},this.requestReadiness=()=>(console.log("requestReadiness"),this.requestReadinessPromise||(this.requestReadinessPromise=new Promise(r=>{const i=s=>{s.t==="confirm-readiness"&&(r(!0),this.connection.off("data",i),this.requestReadinessPromise=null)};this.connection.on("data",i),kc(this.connection,"request-readiness")})),this.requestReadinessPromise),this.startMonitoring=async()=>{var r,i;(r=this.connection)==null||r.off("data",this.handleRTCData),kc(this.connection,"start-monitor"),(i=this.connection)==null||i.on("data",this.handleRTCData)},this.stopMonitoring=async()=>{var r;kc(this.connection,"stop-monitor"),(r=this.connection)==null||r.off("data",this.handleRTCData)},this.handleRTCData=r=>{r.t==="freq"&&(this.frequencies=[r[0],r[0]],this.volumes=[r[1],r[1]])}}},LF=class{constructor(t,n,r,i){this.id=t,this.name=n,this.connection=r,this.pingTime=9999,this.pingInterval=null,this.getInput=()=>this.input,this.setPlayerNumber=s=>{kc(this.connection,"set-player-number",{playerNumber:s})},this.onDisconnect=()=>{this.pingInterval!==null&&clearInterval(this.pingInterval)},this.setPermission=s=>{kc(this.connection,"set-permissions",{level:s})},this.isPinging=!1,this.latency=9999,this.onPong=()=>{this.latency=ps()-this.pingTime,this.isPinging=!1,this.pingClient()},this.pingClient=()=>{this.pingInterval=setTimeout(()=>{this.pingTime=ps(),this.isPinging=!0,kc(this.connection,"ping")},1e3)},this.getLatency=()=>this.isPinging?ps()-this.pingTime:this.latency,this.getPingTime=()=>this.pingTime,this.input=new VF(r,i),this.pingClient()}};const Lb={SelectionOnTop:"selection_on_top",WebsocketsRemoteMics:"websockets_remote_mics",InitialInputLag:"initial_input_lag",LandingPageBackground:"landing_page_background",VirtualizedSongSelection:"virtualized_song_selection",Eurovision:"eurovision",Shrek:"shrek"};class Ai extends Mo{constructor(t,n,r="local"){super(),this.name=t,this.defaultValue=n,this.driver=r,this.value=void 0,this.get=()=>(this.value===void 0&&(this.value=je[this.driver].getItem(`settings-${this.name}`)??this.defaultValue),this.value),this.set=i=>{this.value=i,je[this.driver].setItem(`settings-${this.name}`,i),this.onUpdate(i)}}}const YP=["high","low"],NF="graphics-level",Di=new Ai(NF,YP[0]),BF=[null,"skip","remoteMics","singstar-mics","different-mics","advanced","built-in"],DF="mic-setup-preference",Nb=new Ai(DF,BF[0],"session"),QP=[60,30],tl=new Ai("fps-count",QP[0]),Bm=new Ai("EXCLUDED_LANGUAGES_KEY_V2",null),pr=new Ai("MOBILE_PHONE_MODE_KEY",null),JP=new Ai("keyboard-help-visibility",!0);var gM;const T2=(gM=Vn.getFeatureFlagPayload)==null?void 0:gM.call(Vn,Lb.InitialInputLag),Td=new Ai("INPUT_LAG_V2",typeof T2=="number"?T2:0),XP=new Ai("REMOTE_MIC_INPUT_LAG",0,"session"),I2=["write","read"],ZP=new Ai("DefaultRemoteMicPermission","write"),e5=["New","Classic"],Bb=new Ai("background-music",e5[0]),Dm=new Ai("BackgroundThemeSetting","regular","memory"),Db=new Ai("AutoEnableFullscreenSetting",!0,"session"),kg=new Ai("UseWebsocketsSettings",!1,"session");var mM;(mM=Vn.onFeatureFlags)==null||mM.call(Vn,()=>{kg.set(Vn.isFeatureEnabled(Lb.WebsocketsRemoteMics)??!1)});function $e(e){const[t,n]=A.useState(e.get());return A.useLayoutEffect(()=>e.addListener(n),[e]),[t,e.set]}const R2="RememberedAccessesKey",Fv="rememberedSubscriptionsKey";class $F extends Mo{constructor(){var t,n;super(...arguments),this.remoteMics=[],this.micAccessMap=((t=je.local)==null?void 0:t.getItem(R2))??{},this.subscriptions=((n=je.session)==null?void 0:n.getItem(Fv))??{"remote-mics":[]},this.addRemoteMic=(r,i,s,o,a)=>{this.remoteMics=this.remoteMics.filter(l=>l.id!==r),this.remoteMics=[...this.remoteMics,new LF(r,i,s,a)],this.setPermission(r,this.getPermission(r)),ee.remoteMicConnected.dispatch({id:r,name:i,silent:o})},this.removeRemoteMic=(r,i=!1)=>{const s=this.remoteMics.find(o=>o.id===r);this.remoteMics=this.remoteMics.filter(o=>o.id!==r),s&&(s.onDisconnect(),ee.remoteMicDisconnected.dispatch(s,i))},this.getRemoteMics=()=>this.remoteMics,this.getRemoteMicById=r=>this.remoteMics.find(i=>i.id===r),this.broadcast=r=>{this.getRemoteMics().forEach(i=>i.connection.send(r))},this.broadcastToChannel=(r,i)=>{this.subscriptions[r].forEach(s=>{var o;return(o=this.getRemoteMicById(s))==null?void 0:o.connection.send(i)})},this.getPermission=r=>this.micAccessMap[r]??ZP.get(),this.setPermission=(r,i)=>{var s;(s=this.getRemoteMicById(r))==null||s.setPermission(i),this.micAccessMap[r]=i,je==null||je.setItem(R2,this.micAccessMap),this.onUpdate(r,i)},this.addSubscription=(r,i)=>{var s;this.subscriptions[i]=[...new Set([...this.subscriptions[i],r])],(s=je.session)==null||s.setItem(Fv,this.subscriptions),ee.remoteMicSubscribed.dispatch(r,i)},this.removeSubscription=(r,i)=>{var s,o;this.subscriptions[i]=((s=this.subscriptions[i])==null?void 0:s.filter(a=>a!==r))??[],(o=je.session)==null||o.setItem(Fv,this.subscriptions)}}}const Ze=new $F;Dm.addListener(e=>{VP(e),Ze.broadcast({t:"style-change",style:e})});ee.remoteMicConnected.subscribe(e=>{var t;(t=Ze.getRemoteMicById(e.id))==null||t.connection.send({t:"style-change",style:Dm.get()})});class FF{constructor(){this.frequencies=[440,410],this.volumes=[1,1],this.startMonitoring=async()=>{},this.getFrequencies=t=>this.frequencies,this.getVolumes=t=>this.volumes,this.clearFrequencies=t=>{},this.stopMonitoring=async t=>{},this.getInputLag=()=>0,this.setFrequency=(t,n)=>this.frequencies[t]=n,this.requestReadiness=()=>Promise.resolve(!0),this.getStatus=()=>"ok"}}const zF=new FF;class UF{constructor(){this.frequencies=[410,210],this.volumes=[1,1],this.timestamp=0,this.interval=null,this.isMonitoring=!1,this.startMonitoring=async()=>{this.isMonitoring||(this.isMonitoring=!0,this.interval=global.setInterval(()=>{this.timestamp=this.timestamp+32,this.frequencies[0]=Math.sin(this.timestamp/1e3)*50+100,this.frequencies[1]=Math.cos(this.timestamp/1e3)*50+200},32))},this.getFrequencies=()=>this.frequencies,this.getVolumes=()=>this.volumes,this.clearFrequencies=t=>{},this.stopMonitoring=async()=>{this.isMonitoring&&(this.isMonitoring=!1,this.interval&&global.clearInterval(this.interval))},this.getInputLag=()=>150,this.requestReadiness=()=>Promise.resolve(!0),this.getStatus=()=>"ok"}}const HF=new UF,t5=Object.prototype.toString;function $m(e){switch(t5.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return _o(e,Error)}}function pu(e,t){return t5.call(e)===`[object ${t}]`}function n5(e){return pu(e,"ErrorEvent")}function M2(e){return pu(e,"DOMError")}function GF(e){return pu(e,"DOMException")}function vo(e){return pu(e,"String")}function $b(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function Fb(e){return e===null||$b(e)||typeof e!="object"&&typeof e!="function"}function Gc(e){return pu(e,"Object")}function Fm(e){return typeof Event<"u"&&_o(e,Event)}function qF(e){return typeof Element<"u"&&_o(e,Element)}function WF(e){return pu(e,"RegExp")}function zm(e){return!!(e&&e.then&&typeof e.then=="function")}function KF(e){return Gc(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function _o(e,t){try{return e instanceof t}catch{return!1}}function r5(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue))}function Cc(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function P2(e,t){if(!Array.isArray(e))return"";const n=[];for(let r=0;r<e.length;r++){const i=e[r];try{r5(i)?n.push("[VueViewModel]"):n.push(String(i))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function YF(e,t,n=!1){return vo(e)?WF(t)?t.test(e):vo(t)?n?e===t:e.includes(t):!1:!1}function nl(e,t=[],n=!1){return t.some(r=>YF(e,r,n))}function QF(e,t,n=250,r,i,s,o){if(!s.exception||!s.exception.values||!o||!_o(o.originalException,Error))return;const a=s.exception.values.length>0?s.exception.values[s.exception.values.length-1]:void 0;a&&(s.exception.values=JF(UA(e,t,i,o.originalException,r,s.exception.values,a,0),n))}function UA(e,t,n,r,i,s,o,a){if(s.length>=n+1)return s;let l=[...s];if(_o(r[i],Error)){j2(o,a);const c=e(t,r[i]),u=l.length;O2(c,i,u,a),l=UA(e,t,n,r[i],i,[c,...l],c,u)}return Array.isArray(r.errors)&&r.errors.forEach((c,u)=>{if(_o(c,Error)){j2(o,a);const d=e(t,c),h=l.length;O2(d,`errors[${u}]`,h,a),l=UA(e,t,n,c,i,[d,...l],d,h)}}),l}function j2(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function O2(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}function JF(e,t){return e.map(n=>(n.value&&(n.value=Cc(n.value,t)),n))}const rl="8.16.0",yt=globalThis;function zb(e,t,n){const r=n||yt,i=r.__SENTRY__=r.__SENTRY__||{},s=i[rl]=i[rl]||{};return s[e]||(s[e]=t())}const Tc=yt,XF=80;function qc(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,i=[];let s=0,o=0;const a=" > ",l=a.length;let c;const u=Array.isArray(t)?t:t.keyAttrs,d=!Array.isArray(t)&&t.maxStringLength||XF;for(;n&&s++<r&&(c=ZF(n,u),!(c==="html"||s>1&&o+i.length*l+c.length>=d));)i.push(c),o+=c.length,n=n.parentNode;return i.reverse().join(a)}catch{return"<unknown>"}}function ZF(e,t){const n=e,r=[];if(!n||!n.tagName)return"";if(Tc.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());const i=t&&t.length?t.filter(o=>n.getAttribute(o)).map(o=>[o,n.getAttribute(o)]):null;if(i&&i.length)i.forEach(o=>{r.push(`[${o[0]}="${o[1]}"]`)});else{n.id&&r.push(`#${n.id}`);const o=n.className;if(o&&vo(o)){const a=o.split(/\s+/);for(const l of a)r.push(`.${l}`)}}const s=["aria-label","type","name","title","alt"];for(const o of s){const a=n.getAttribute(o);a&&r.push(`[${o}="${a}"]`)}return r.join("")}function e6(){try{return Tc.document.location.href}catch{return""}}function t6(e){return Tc.document&&Tc.document.querySelector?Tc.document.querySelector(e):null}function i5(e){if(!Tc.HTMLElement)return null;let t=e;const n=5;for(let r=0;r<n;r++){if(!t)return null;if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}const gu=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,n6="Sentry Logger ",HA=["debug","info","warn","error","log","assert","trace"],Cg={};function Qf(e){if(!("console"in yt))return e();const t=yt.console,n={},r=Object.keys(Cg);r.forEach(i=>{const s=Cg[i];n[i]=t[i],t[i]=s});try{return e()}finally{r.forEach(i=>{t[i]=n[i]})}}function r6(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return gu?HA.forEach(n=>{t[n]=(...r)=>{e&&Qf(()=>{yt.console[n](`${n6}[${n}]:`,...r)})}}):HA.forEach(n=>{t[n]=()=>{}}),t}const he=r6(),i6=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function s6(e){return e==="http"||e==="https"}function mu(e,t=!1){const{host:n,path:r,pass:i,port:s,projectId:o,protocol:a,publicKey:l}=e;return`${a}://${l}${t&&i?`:${i}`:""}@${n}${s?`:${s}`:""}/${r&&`${r}/`}${o}`}function o6(e){const t=i6.exec(e);if(!t){Qf(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}const[n,r,i="",s="",o="",a=""]=t.slice(1);let l="",c=a;const u=c.split("/");if(u.length>1&&(l=u.slice(0,-1).join("/"),c=u.pop()),c){const d=c.match(/^\d+/);d&&(c=d[0])}return s5({host:s,pass:i,path:l,projectId:c,port:o,protocol:n,publicKey:r})}function s5(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function a6(e){if(!gu)return!0;const{port:t,projectId:n,protocol:r}=e;return["protocol","publicKey","host","projectId"].find(o=>e[o]?!1:(he.error(`Invalid Sentry Dsn: ${o} missing`),!0))?!1:n.match(/^\d+$/)?s6(r)?t&&isNaN(parseInt(t,10))?(he.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):!0:(he.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(he.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}function o5(e){const t=typeof e=="string"?o6(e):s5(e);if(!(!t||!a6(t)))return t}class Ds extends Error{constructor(t,n="warn"){super(t),this.message=t,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=n}}function cr(e,t,n){if(!(t in e))return;const r=e[t],i=n(r);typeof i=="function"&&a5(i,r),e[t]=i}function Ui(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{gu&&he.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function a5(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,Ui(e,"__sentry_original__",t)}catch{}}function Ub(e){return e.__sentry_original__}function l6(e){return Object.keys(e).map(t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`).join("&")}function l5(e){if($m(e))return{message:e.message,name:e.name,stack:e.stack,...L2(e)};if(Fm(e)){const t={type:e.type,target:V2(e.target),currentTarget:V2(e.currentTarget),...L2(e)};return typeof CustomEvent<"u"&&_o(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function V2(e){try{return qF(e)?qc(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function L2(e){if(typeof e=="object"&&e!==null){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}else return{}}function c6(e,t=40){const n=Object.keys(l5(e));n.sort();const r=n[0];if(!r)return"[object has no keys]";if(r.length>=t)return Cc(r,t);for(let i=n.length;i>0;i--){const s=n.slice(0,i).join(", ");if(!(s.length>t))return i===n.length?s:Cc(s,t)}return""}function Sr(e){return GA(e,new Map)}function GA(e,t){if(u6(e)){const n=t.get(e);if(n!==void 0)return n;const r={};t.set(e,r);for(const i of Object.keys(e))typeof e[i]<"u"&&(r[i]=GA(e[i],t));return r}if(Array.isArray(e)){const n=t.get(e);if(n!==void 0)return n;const r=[];return t.set(e,r),e.forEach(i=>{r.push(GA(i,t))}),r}return e}function u6(e){if(!Gc(e))return!1;try{const t=Object.getPrototypeOf(e).constructor.name;return!t||t==="Object"}catch{return!0}}const c5=50,pl="?",N2=/\(error: (.*)\)/,B2=/captureMessage|captureException/;function u5(...e){const t=e.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0,i=0)=>{const s=[],o=n.split(`
`);for(let a=r;a<o.length;a++){const l=o[a];if(l.length>1024)continue;const c=N2.test(l)?l.replace(N2,"$1"):l;if(!c.match(/\S*Error: /)){for(const u of t){const d=u(c);if(d){s.push(d);break}}if(s.length>=c5+i)break}}return f6(s.slice(i))}}function d6(e){return Array.isArray(e)?u5(...e):e}function f6(e){if(!e.length)return[];const t=Array.from(e);return/sentryWrapped/.test(Dh(t).function||"")&&t.pop(),t.reverse(),B2.test(Dh(t).function||"")&&(t.pop(),B2.test(Dh(t).function||"")&&t.pop()),t.slice(0,c5).map(n=>({...n,filename:n.filename||Dh(t).filename,function:n.function||pl}))}function Dh(e){return e[e.length-1]||{}}const zv="<anonymous>";function bo(e){try{return!e||typeof e!="function"?zv:e.name||zv}catch{return zv}}function D2(e){const t=e.exception;if(t){const n=[];try{return t.values.forEach(r=>{r.stacktrace.frames&&n.push(...r.stacktrace.frames)}),n}catch{return}}}const Dp={},$2={};function Rl(e,t){Dp[e]=Dp[e]||[],Dp[e].push(t)}function Ml(e,t){$2[e]||(t(),$2[e]=!0)}function As(e,t){const n=e&&Dp[e];if(n)for(const r of n)try{r(t)}catch(i){gu&&he.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${bo(r)}
Error:`,i)}}function h6(e){const t="console";Rl(t,e),Ml(t,p6)}function p6(){"console"in yt&&HA.forEach(function(e){e in yt.console&&cr(yt.console,e,function(t){return Cg[e]=t,function(...n){As("console",{args:n,level:e});const i=Cg[e];i&&i.apply(yt.console,n)}})})}const qA=yt;function d5(){if(!("fetch"in qA))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function WA(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function g6(){if(typeof EdgeRuntime=="string")return!0;if(!d5())return!1;if(WA(qA.fetch))return!0;let e=!1;const t=qA.document;if(t&&typeof t.createElement=="function")try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=WA(n.contentWindow.fetch)),t.head.removeChild(n)}catch(n){gu&&he.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e}const f5=1e3;function Jf(){return Date.now()/f5}function m6(){const{performance:e}=yt;if(!e||!e.now)return Jf;const t=Date.now()-e.now(),n=e.timeOrigin==null?t:e.timeOrigin;return()=>(n+e.now())/f5}const xr=m6(),Hi=(()=>{const{performance:e}=yt;if(!e||!e.now)return;const t=3600*1e3,n=e.now(),r=Date.now(),i=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,s=i<t,o=e.timing&&e.timing.navigationStart,l=typeof o=="number"?Math.abs(o+n-r):t,c=l<t;return s||c?i<=l?e.timeOrigin:o:r})();function h5(e){const t="fetch";Rl(t,e),Ml(t,v6)}function v6(){g6()&&cr(yt,"fetch",function(e){return function(...t){const{method:n,url:r}=y6(t),i={args:t,fetchData:{method:n,url:r},startTimestamp:xr()*1e3};As("fetch",{...i});const s=new Error().stack;return e.apply(yt,t).then(o=>{const a={...i,endTimestamp:xr()*1e3,response:o};return As("fetch",a),o},o=>{const a={...i,endTimestamp:xr()*1e3,error:o};throw As("fetch",a),$m(o)&&o.stack===void 0&&(o.stack=s,Ui(o,"framesToPop",1)),o})}})}function KA(e,t){return!!e&&typeof e=="object"&&!!e[t]}function F2(e){return typeof e=="string"?e:e?KA(e,"url")?e.url:e.toString?e.toString():"":""}function y6(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){const[n,r]=e;return{url:F2(n),method:KA(r,"method")?String(r.method).toUpperCase():"GET"}}const t=e[0];return{url:F2(t),method:KA(t,"method")?String(t.method).toUpperCase():"GET"}}let $h=null;function p5(e){const t="error";Rl(t,e),Ml(t,A6)}function A6(){$h=yt.onerror,yt.onerror=function(e,t,n,r,i){return As("error",{column:r,error:i,line:n,msg:e,url:t}),$h&&!$h.__SENTRY_LOADER__?$h.apply(this,arguments):!1},yt.onerror.__SENTRY_INSTRUMENTED__=!0}let Fh=null;function g5(e){const t="unhandledrejection";Rl(t,e),Ml(t,_6)}function _6(){Fh=yt.onunhandledrejection,yt.onunhandledrejection=function(e){return As("unhandledrejection",e),Fh&&!Fh.__SENTRY_LOADER__?Fh.apply(this,arguments):!0},yt.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function b6(){return"npm"}function S6(){const e=typeof WeakSet=="function",t=e?new WeakSet:[];function n(i){if(e)return t.has(i)?!0:(t.add(i),!1);for(let s=0;s<t.length;s++)if(t[s]===i)return!0;return t.push(i),!1}function r(i){if(e)t.delete(i);else for(let s=0;s<t.length;s++)if(t[s]===i){t.splice(s,1);break}}return[n,r]}function on(){const e=yt,t=e.crypto||e.msCrypto;let n=()=>Math.random()*16;try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>{const r=new Uint8Array(1);return t.getRandomValues(r),r[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,r=>(r^(n()&15)>>r/4).toString(16))}function m5(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function Uo(e){const{message:t,event_id:n}=e;if(t)return t;const r=m5(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function YA(e,t,n){const r=e.exception=e.exception||{},i=r.values=r.values||[],s=i[0]=i[0]||{};s.value||(s.value=t||""),s.type||(s.type=n||"Error")}function sf(e,t){const n=m5(e);if(!n)return;const r={type:"generic",handled:!0},i=n.mechanism;if(n.mechanism={...r,...i,...t},t&&"data"in t){const s={...i&&i.data,...t.data};n.mechanism.data=s}}function z2(e){if(e&&e.__sentry_captured__)return!0;try{Ui(e,"__sentry_captured__",!0)}catch{}return!1}function v5(e){return Array.isArray(e)?e:[e]}function Ho(e,t=100,n=1/0){try{return QA("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function y5(e,t=3,n=100*1024){const r=Ho(e,t);return k6(r)>n?y5(e,t-1,n):r}function QA(e,t,n=1/0,r=1/0,i=S6()){const[s,o]=i;if(t==null||["number","boolean","string"].includes(typeof t)&&!Number.isNaN(t))return t;const a=x6(e,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;const l=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:n;if(l===0)return a.replace("object ","");if(s(t))return"[Circular ~]";const c=t;if(c&&typeof c.toJSON=="function")try{const p=c.toJSON();return QA("",p,l-1,r,i)}catch{}const u=Array.isArray(t)?[]:{};let d=0;const h=l5(t);for(const p in h){if(!Object.prototype.hasOwnProperty.call(h,p))continue;if(d>=r){u[p]="[MaxProperties ~]";break}const g=h[p];u[p]=QA(p,g,l-1,r,i),d++}return o(t),u}function x6(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&t===global)return"[Global]";if(typeof window<"u"&&t===window)return"[Window]";if(typeof document<"u"&&t===document)return"[Document]";if(r5(t))return"[VueViewModel]";if(KF(t))return"[SyntheticEvent]";if(typeof t=="number"&&t!==t)return"[NaN]";if(typeof t=="function")return`[Function: ${bo(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;const n=w6(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function w6(e){const t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}function E6(e){return~-encodeURI(e).split(/%..|./).length}function k6(e){return E6(JSON.stringify(e))}var ao;(function(e){e[e.PENDING=0]="PENDING";const n=1;e[e.RESOLVED=n]="RESOLVED";const r=2;e[e.REJECTED=r]="REJECTED"})(ao||(ao={}));function gl(e){return new Oi(t=>{t(e)})}function Tg(e){return new Oi((t,n)=>{n(e)})}class Oi{constructor(t){Oi.prototype.__init.call(this),Oi.prototype.__init2.call(this),Oi.prototype.__init3.call(this),Oi.prototype.__init4.call(this),this._state=ao.PENDING,this._handlers=[];try{t(this._resolve,this._reject)}catch(n){this._reject(n)}}then(t,n){return new Oi((r,i)=>{this._handlers.push([!1,s=>{if(!t)r(s);else try{r(t(s))}catch(o){i(o)}},s=>{if(!n)i(s);else try{r(n(s))}catch(o){i(o)}}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new Oi((n,r)=>{let i,s;return this.then(o=>{s=!1,i=o,t&&t()},o=>{s=!0,i=o,t&&t()}).then(()=>{if(s){r(i);return}n(i)})})}__init(){this._resolve=t=>{this._setResult(ao.RESOLVED,t)}}__init2(){this._reject=t=>{this._setResult(ao.REJECTED,t)}}__init3(){this._setResult=(t,n)=>{if(this._state===ao.PENDING){if(zm(n)){n.then(this._resolve,this._reject);return}this._state=t,this._value=n,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===ao.PENDING)return;const t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===ao.RESOLVED&&n[1](this._value),this._state===ao.REJECTED&&n[2](this._value),n[0]=!0)})}}}function C6(e){const t=[];function n(){return e===void 0||t.length<e}function r(o){return t.splice(t.indexOf(o),1)[0]||Promise.resolve(void 0)}function i(o){if(!n())return Tg(new Ds("Not adding Promise because buffer limit was reached."));const a=o();return t.indexOf(a)===-1&&t.push(a),a.then(()=>r(a)).then(null,()=>r(a).then(null,()=>{})),a}function s(o){return new Oi((a,l)=>{let c=t.length;if(!c)return a(!0);const u=setTimeout(()=>{o&&o>0&&a(!1)},o);t.forEach(d=>{gl(d).then(()=>{--c||(clearTimeout(u),a(!0))},l)})})}return{$:t,add:i,drain:s}}function il(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}const T6=["fatal","error","warning","log","info","debug"];function I6(e){return e==="warn"?"warning":T6.includes(e)?e:"log"}const JA="baggage",A5="sentry-",R6=/^sentry-/,M6=8192;function _5(e){const t=P6(e);if(!t)return;const n=Object.entries(t).reduce((r,[i,s])=>{if(i.match(R6)){const o=i.slice(A5.length);r[o]=s}return r},{});if(Object.keys(n).length>0)return n}function b5(e){if(!e)return;const t=Object.entries(e).reduce((n,[r,i])=>(i&&(n[`${A5}${r}`]=i),n),{});return j6(t)}function P6(e){if(!(!e||!vo(e)&&!Array.isArray(e)))return Array.isArray(e)?e.reduce((t,n)=>{const r=U2(n);return Object.entries(r).forEach(([i,s])=>{t[i]=s}),t},{}):U2(e)}function U2(e){return e.split(",").map(t=>t.split("=").map(n=>decodeURIComponent(n.trim()))).reduce((t,[n,r])=>(n&&r&&(t[n]=r),t),{})}function j6(e){if(Object.keys(e).length!==0)return Object.entries(e).reduce((t,[n,r],i)=>{const s=`${encodeURIComponent(n)}=${encodeURIComponent(r)}`,o=i===0?s:`${t},${s}`;return o.length>M6?(gu&&he.warn(`Not adding key: ${n} with val: ${r} to baggage header due to exceeding baggage size limits.`),t):o},"")}const O6=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function V6(e){if(!e)return;const t=e.match(O6);if(!t)return;let n;return t[3]==="1"?n=!0:t[3]==="0"&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}function L6(e,t){const n=V6(e),r=_5(t),{traceId:i,parentSpanId:s,parentSampled:o}=n||{};return n?{traceId:i||on(),parentSpanId:s||on().substring(16),spanId:on().substring(16),sampled:o,dsc:r||{}}:{traceId:i||on(),spanId:on().substring(16)}}function Hb(e=on(),t=on().substring(16),n){let r="";return n!==void 0&&(r=n?"-1":"-0"),`${e}-${t}${r}`}function vu(e,t=[]){return[e,t]}function N6(e,t){const[n,r]=e;return[n,[...r,t]]}function H2(e,t){const n=e[1];for(const r of n){const i=r[0].type;if(t(r,i))return!0}return!1}function XA(e){return yt.__SENTRY__&&yt.__SENTRY__.encodePolyfill?yt.__SENTRY__.encodePolyfill(e):new TextEncoder().encode(e)}function B6(e){const[t,n]=e;let r=JSON.stringify(t);function i(s){typeof r=="string"?r=typeof s=="string"?r+s:[XA(r),s]:r.push(typeof s=="string"?XA(s):s)}for(const s of n){const[o,a]=s;if(i(`
${JSON.stringify(o)}
`),typeof a=="string"||a instanceof Uint8Array)i(a);else{let l;try{l=JSON.stringify(a)}catch{l=JSON.stringify(Ho(a))}i(l)}}return typeof r=="string"?r:D6(r)}function D6(e){const t=e.reduce((i,s)=>i+s.length,0),n=new Uint8Array(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return n}function $6(e){return[{type:"span"},e]}function F6(e){const t=typeof e.data=="string"?XA(e.data):e.data;return[Sr({type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),t]}const z6={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket"};function G2(e){return z6[e]}function S5(e){if(!e||!e.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function U6(e,t,n,r){const i=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:mu(r)},...i&&{trace:Sr({...i})}}}function H6(e,t,n){const r=[{type:"client_report"},{timestamp:n||Jf(),discarded_events:e}];return vu(t?{dsn:t}:{},[r])}const G6=60*1e3;function q6(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return n*1e3;const r=Date.parse(`${e}`);return isNaN(r)?G6:r-t}function W6(e,t){return e[t]||e.all||0}function K6(e,t,n=Date.now()){return W6(e,t)>n}function Y6(e,{statusCode:t,headers:n},r=Date.now()){const i={...e},s=n&&n["x-sentry-rate-limits"],o=n&&n["retry-after"];if(s)for(const a of s.trim().split(",")){const[l,c,,,u]=a.split(":",5),d=parseInt(l,10),h=(isNaN(d)?60:d)*1e3;if(!c)i.all=r+h;else for(const p of c.split(";"))p==="metric_bucket"?(!u||u.split(";").includes("custom"))&&(i[p]=r+h):i[p]=r+h}else o?i.all=r+q6(o,r):t===429&&(i.all=r+60*1e3);return i}function Ig(){return{traceId:on(),spanId:on().substring(16)}}const zh=yt;function Q6(){const e=zh.chrome,t=e&&e.app&&e.app.runtime,n="history"in zh&&!!zh.history.pushState&&!!zh.history.replaceState;return!t&&n}const tt=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function yu(){return Gb(yt),yt}function Gb(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||rl,t[rl]=t[rl]||{}}function J6(e){const t=xr(),n={sid:on(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>Z6(n)};return e&&Wc(n,e),n}function Wc(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||xr(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:on()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function X6(e,t){let n={};t?n={status:t}:e.status==="ok"&&(n={status:"exited"}),Wc(e,n)}function Z6(e){return Sr({sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}const ZA="_sentrySpan";function of(e,t){t?Ui(e,ZA,t):delete e[ZA]}function Rg(e){return e[ZA]}const e8=100;class qb{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=Ig()}clone(){const t=new qb;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._requestSession=this._requestSession,t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,of(t,Rg(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&Wc(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this._tags={...this._tags,[t]:n},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const n=typeof t=="function"?t(this):t,[r,i]=n instanceof ma?[n.getScopeData(),n.getRequestSession()]:Gc(n)?[t,t.requestSession]:[],{tags:s,extra:o,user:a,contexts:l,level:c,fingerprint:u=[],propagationContext:d}=r||{};return this._tags={...this._tags,...s},this._extra={...this._extra,...o},this._contexts={...this._contexts,...l},a&&Object.keys(a).length&&(this._user=a),c&&(this._level=c),u.length&&(this._fingerprint=u),d&&(this._propagationContext=d),i&&(this._requestSession=i),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,of(this,void 0),this._attachments=[],this._propagationContext=Ig(),this._notifyScopeListeners(),this}addBreadcrumb(t,n){const r=typeof n=="number"?n:e8;if(r<=0)return this;const i={timestamp:Jf(),...t},s=this._breadcrumbs;return s.push(i),this._breadcrumbs=s.length>r?s.slice(-r):s,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:Rg(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...t},this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,n){const r=n&&n.event_id?n.event_id:on();if(!this._client)return he.warn("No client configured on scope - will not capture exception!"),r;const i=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:i,...n,event_id:r},this),r}captureMessage(t,n,r){const i=r&&r.event_id?r.event_id:on();if(!this._client)return he.warn("No client configured on scope - will not capture message!"),i;const s=new Error(t);return this._client.captureMessage(t,n,{originalException:t,syntheticException:s,...r,event_id:i},this),i}captureEvent(t,n){const r=n&&n.event_id?n.event_id:on();return this._client?(this._client.captureEvent(t,{...n,event_id:r},this),r):(he.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}const ma=qb;function t8(){return zb("defaultCurrentScope",()=>new ma)}function n8(){return zb("defaultIsolationScope",()=>new ma)}class r8{constructor(t,n){let r;t?r=t:r=new ma;let i;n?i=n:i=new ma,this._stack=[{scope:r}],this._isolationScope=i}withScope(t){const n=this._pushScope();let r;try{r=t(n)}catch(i){throw this._popScope(),i}return zm(r)?r.then(i=>(this._popScope(),i),i=>{throw this._popScope(),i}):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}}function Kc(){const e=yu(),t=Gb(e);return t.stack=t.stack||new r8(t8(),n8())}function i8(e){return Kc().withScope(e)}function s8(e,t){const n=Kc();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function q2(e){return Kc().withScope(()=>e(Kc().getIsolationScope()))}function o8(){return{withIsolationScope:q2,withScope:i8,withSetScope:s8,withSetIsolationScope:(e,t)=>q2(t),getCurrentScope:()=>Kc().getScope(),getIsolationScope:()=>Kc().getIsolationScope()}}function Xf(e){const t=Gb(e);return t.acs?t.acs:o8()}function ln(){const e=yu();return Xf(e).getCurrentScope()}function Ji(){const e=yu();return Xf(e).getIsolationScope()}function a8(){return zb("globalScope",()=>new ma)}function Um(...e){const t=yu(),n=Xf(t);if(e.length===2){const[r,i]=e;return r?n.withSetScope(r,i):n.withScope(i)}return n.withScope(e[0])}function Et(){return ln().getClient()}const l8="_sentryMetrics";function e1(e){const t=e[l8];if(!t)return;const n={};for(const[,[r,i]]of t)(n[r]||(n[r]=[])).push(Sr(i));return n}const Zo="sentry.source",x5="sentry.sample_rate",af="sentry.op",Fn="sentry.origin",t1="sentry.idle_span_finish_reason",Wb="sentry.measurement_unit",Kb="sentry.measurement_value",c8="sentry.profile_id",w5="sentry.exclusive_time",u8=0,E5=1,qn=2;function d8(e){if(e<400&&e>=100)return{code:E5};if(e>=400&&e<500)switch(e){case 401:return{code:qn,message:"unauthenticated"};case 403:return{code:qn,message:"permission_denied"};case 404:return{code:qn,message:"not_found"};case 409:return{code:qn,message:"already_exists"};case 413:return{code:qn,message:"failed_precondition"};case 429:return{code:qn,message:"resource_exhausted"};case 499:return{code:qn,message:"cancelled"};default:return{code:qn,message:"invalid_argument"}}if(e>=500&&e<600)switch(e){case 501:return{code:qn,message:"unimplemented"};case 503:return{code:qn,message:"unavailable"};case 504:return{code:qn,message:"deadline_exceeded"};default:return{code:qn,message:"internal_error"}}return{code:qn,message:"unknown_error"}}function k5(e,t){e.setAttribute("http.response.status_code",t);const n=d8(t);n.message!=="unknown_error"&&e.setStatus(n)}const C5=0,T5=1;function f8(e){const{spanId:t,traceId:n}=e.spanContext(),{data:r,op:i,parent_span_id:s,status:o,origin:a}=xt(e);return Sr({parent_span_id:s,span_id:t,trace_id:n,data:r,op:i,status:o,origin:a})}function h8(e){const{spanId:t,traceId:n}=e.spanContext(),{parent_span_id:r}=xt(e);return Sr({parent_span_id:r,span_id:t,trace_id:n})}function I5(e){const{traceId:t,spanId:n}=e.spanContext(),r=Pl(e);return Hb(t,n,r)}function sl(e){return typeof e=="number"?W2(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?W2(e.getTime()):xr()}function W2(e){return e>9999999999?e/1e3:e}function xt(e){if(g8(e))return e.getSpanJSON();try{const{spanId:t,traceId:n}=e.spanContext();if(p8(e)){const{attributes:r,startTime:i,name:s,endTime:o,parentSpanId:a,status:l}=e;return Sr({span_id:t,trace_id:n,data:r,description:s,parent_span_id:a,start_timestamp:sl(i),timestamp:sl(o)||void 0,status:R5(l),op:r[af],origin:r[Fn],_metrics_summary:e1(e)})}return{span_id:t,trace_id:n}}catch{return{}}}function p8(e){const t=e;return!!t.attributes&&!!t.startTime&&!!t.name&&!!t.endTime&&!!t.status}function g8(e){return typeof e.getSpanJSON=="function"}function Pl(e){const{traceFlags:t}=e.spanContext();return t===T5}function R5(e){if(!(!e||e.code===u8))return e.code===E5?"ok":e.message||"unknown_error"}const ol="_sentryChildSpans",n1="_sentryRootSpan";function M5(e,t){const n=e[n1]||e;Ui(t,n1,n),e[ol]?e[ol].add(t):Ui(e,ol,new Set([t]))}function m8(e,t){e[ol]&&e[ol].delete(t)}function $p(e){const t=new Set;function n(r){if(!t.has(r)&&Pl(r)){t.add(r);const i=r[ol]?Array.from(r[ol]):[];for(const s of i)n(s)}}return n(e),Array.from(t)}function qr(e){return e[n1]||e}function Xi(){const e=yu(),t=Xf(e);return t.getActiveSpan?t.getActiveSpan():Rg(ln())}let K2=!1;function v8(){K2||(K2=!0,p5(r1),g5(r1))}function r1(){const e=Xi(),t=e&&qr(e);if(t){const n="internal_error";tt&&he.log(`[Tracing] Root span: ${n} -> Global error occured`),t.setStatus({code:qn,message:n})}}r1.tag="sentry_tracingErrorCallback";const P5="_sentryScope",j5="_sentryIsolationScope";function y8(e,t,n){e&&(Ui(e,j5,n),Ui(e,P5,t))}function Y2(e){return{scope:e[P5],isolationScope:e[j5]}}function va(e){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const t=e||A8();return!!t&&(t.enableTracing||"tracesSampleRate"in t||"tracesSampler"in t)}function A8(){const e=Et();return e&&e.getOptions()}class Au{constructor(t={}){this._traceId=t.traceId||on(),this._spanId=t.spanId||on().substring(16)}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:C5}}end(t){}setAttribute(t,n){return this}setAttributes(t){return this}setStatus(t){return this}updateName(t){return this}isRecording(){return!1}addEvent(t,n,r){return this}}const Yb="production",O5="_frozenDsc";function Q2(e,t){Ui(e,O5,t)}function Hm(e,t){const n=t.getOptions(),{publicKey:r}=t.getDsn()||{},i=Sr({environment:n.environment||Yb,release:n.release,public_key:r,trace_id:e});return t.emit("createDsc",i),i}function jl(e){const t=Et();if(!t)return{};const n=Hm(xt(e).trace_id||"",t),r=qr(e),i=r[O5];if(i)return i;const s=r.spanContext().traceState,o=s&&s.get("sentry.dsc"),a=o&&_5(o);if(a)return a;const l=xt(r),c=l.data||{},u=c[x5];u!=null&&(n.sample_rate=`${u}`);const d=c[Zo],h=l.description;return d!=="url"&&h&&(n.transaction=h),n.sampled=String(Pl(r)),t.emit("createDsc",n,r),n}function _8(e){if(!tt)return;const{description:t="< unknown name >",op:n="< unknown op >",parent_span_id:r}=xt(e),{spanId:i}=e.spanContext(),s=Pl(e),o=qr(e),a=o===e,l=`[Tracing] Starting ${s?"sampled":"unsampled"} ${a?"root ":""}span`,c=[`op: ${n}`,`name: ${t}`,`ID: ${i}`];if(r&&c.push(`parent ID: ${r}`),!a){const{op:u,description:d}=xt(o);c.push(`root ID: ${o.spanContext().spanId}`),u&&c.push(`root op: ${u}`),d&&c.push(`root description: ${d}`)}he.log(`${l}
  ${c.join(`
  `)}`)}function b8(e){if(!tt)return;const{description:t="< unknown name >",op:n="< unknown op >"}=xt(e),{spanId:r}=e.spanContext(),s=qr(e)===e,o=`[Tracing] Finishing "${n}" ${s?"root ":""}span "${t}" with ID ${r}`;he.log(o)}function V5(e){if(typeof e=="boolean")return Number(e);const t=typeof e=="string"?parseFloat(e):e;if(typeof t!="number"||isNaN(t)||t<0||t>1){tt&&he.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`);return}return t}function S8(e,t){if(!va(e))return[!1];let n;typeof e.tracesSampler=="function"?n=e.tracesSampler(t):t.parentSampled!==void 0?n=t.parentSampled:typeof e.tracesSampleRate<"u"?n=e.tracesSampleRate:n=1;const r=V5(n);return r===void 0?(tt&&he.warn("[Tracing] Discarding transaction because of invalid sample rate."),[!1]):r?Math.random()<r?[!0,r]:(tt&&he.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(n)})`),[!1,r]):(tt&&he.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,r])}function x8(e,t){return t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]]),e}function w8(e,t,n,r){const i=S5(n),s={sent_at:new Date().toISOString(),...i&&{sdk:i},...!!r&&t&&{dsn:mu(t)}},o="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return vu(s,[o])}function E8(e,t,n,r){const i=S5(n),s=e.type&&e.type!=="replay_event"?e.type:"event";x8(e,n&&n.sdk);const o=U6(e,i,r,t);return delete e.sdkProcessingMetadata,vu(o,[[{type:s},e]])}function k8(e,t){function n(u){return!!u.trace_id&&!!u.public_key}const r=jl(e[0]),i=t&&t.getDsn(),s=t&&t.getOptions().tunnel,o={sent_at:new Date().toISOString(),...n(r)&&{trace:r},...!!s&&i&&{dsn:mu(i)}},a=t&&t.getOptions().beforeSendSpan,l=a?u=>a(xt(u)):u=>xt(u),c=[];for(const u of e){const d=l(u);d&&c.push($6(d))}return vu(o,c)}function C8(e,t,n){const r=Xi(),i=r&&qr(r);i&&i.addEvent(e,{[Kb]:t,[Wb]:n})}function J2(e){if(!e||e.length===0)return;const t={};return e.forEach(n=>{const r=n.attributes||{},i=r[Wb],s=r[Kb];typeof i=="string"&&typeof s=="number"&&(t[n.name]={value:s,unit:i})}),t}const X2=1e3;class Qb{constructor(t={}){this._traceId=t.traceId||on(),this._spanId=t.spanId||on().substring(16),this._startTime=t.startTimestamp||xr(),this._attributes={},this.setAttributes({[Fn]:"manual",[af]:t.op,...t.attributes}),this._name=t.name,t.parentSpanId&&(this._parentSpanId=t.parentSpanId),"sampled"in t&&(this._sampled=t.sampled),t.endTimestamp&&(this._endTime=t.endTimestamp),this._events=[],this._isStandaloneSpan=t.isStandalone,this._endTime&&this._onSpanEnded()}spanContext(){const{_spanId:t,_traceId:n,_sampled:r}=this;return{spanId:t,traceId:n,traceFlags:r?T5:C5}}setAttribute(t,n){n===void 0?delete this._attributes[t]:this._attributes[t]=n}setAttributes(t){Object.keys(t).forEach(n=>this.setAttribute(n,t[n]))}updateStartTime(t){this._startTime=sl(t)}setStatus(t){return this._status=t,this}updateName(t){return this._name=t,this}end(t){this._endTime||(this._endTime=sl(t),b8(this),this._onSpanEnded())}getSpanJSON(){return Sr({data:this._attributes,description:this._name,op:this._attributes[af],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:R5(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[Fn],_metrics_summary:e1(this),profile_id:this._attributes[c8],exclusive_time:this._attributes[w5],measurements:J2(this._events),is_segment:this._isStandaloneSpan&&qr(this)===this||void 0,segment_id:this._isStandaloneSpan?qr(this).spanContext().spanId:void 0})}isRecording(){return!this._endTime&&!!this._sampled}addEvent(t,n,r){tt&&he.log("[Tracing] Adding an event to span:",t);const i=Z2(n)?n:r||xr(),s=Z2(n)?{}:n||{},o={name:t,time:sl(i),attributes:s};return this._events.push(o),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){const t=Et();if(t&&t.emit("spanEnd",this),!(this._isStandaloneSpan||this===qr(this)))return;if(this._isStandaloneSpan){this._sampled?I8(k8([this],t)):(tt&&he.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),t&&t.recordDroppedEvent("sample_rate","span"));return}const r=this._convertSpanToTransaction();r&&(Y2(this).scope||ln()).captureEvent(r)}_convertSpanToTransaction(){if(!ek(xt(this)))return;this._name||(tt&&he.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");const{scope:t,isolationScope:n}=Y2(this),i=(t||ln()).getClient()||Et();if(this._sampled!==!0){tt&&he.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),i&&i.recordDroppedEvent("sample_rate","transaction");return}const o=$p(this).filter(d=>d!==this&&!T8(d)).map(d=>xt(d)).filter(ek),a=this._attributes[Zo],l={contexts:{trace:f8(this)},spans:o.length>X2?o.sort((d,h)=>d.start_timestamp-h.start_timestamp).slice(0,X2):o,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:t,capturedSpanIsolationScope:n,...Sr({dynamicSamplingContext:jl(this)})},_metrics_summary:e1(this),...a&&{transaction_info:{source:a}}},c=J2(this._events);return c&&Object.keys(c).length&&(tt&&he.log("[Measurements] Adding measurements to transaction event",JSON.stringify(c,void 0,2)),l.measurements=c),l}}function Z2(e){return e&&typeof e=="number"||e instanceof Date||Array.isArray(e)}function ek(e){return!!e.start_timestamp&&!!e.timestamp&&!!e.span_id&&!!e.trace_id}function T8(e){return e instanceof Qb&&e.isStandaloneSpan()}function I8(e){const t=Et();if(!t)return;const n=e[1];if(!n||n.length===0){t.recordDroppedEvent("before_send","span");return}const r=t.getTransport();r&&r.send(e).then(null,i=>{tt&&he.error("Error while sending span:",i)})}const L5="__SENTRY_SUPPRESS_TRACING__";function qs(e){const t=N5();if(t.startInactiveSpan)return t.startInactiveSpan(e);const n=M8(e),{forceTransaction:r,parentSpan:i}=e;return(e.scope?o=>Um(e.scope,o):i?o=>Mg(i,o):o=>o())(()=>{const o=ln(),a=j8(o);return e.onlyIfParent&&!a?new Au:R8({parentSpan:a,spanArguments:n,forceTransaction:r,scope:o})})}function Mg(e,t){const n=N5();return n.withActiveSpan?n.withActiveSpan(e,t):Um(r=>(of(r,e||void 0),t(r)))}function R8({parentSpan:e,spanArguments:t,forceTransaction:n,scope:r}){if(!va())return new Au;const i=Ji();let s;if(e&&!n)s=P8(e,r,t),M5(e,s);else if(e){const o=jl(e),{traceId:a,spanId:l}=e.spanContext(),c=Pl(e);s=tk({traceId:a,parentSpanId:l,...t},r,c),Q2(s,o)}else{const{traceId:o,dsc:a,parentSpanId:l,sampled:c}={...i.getPropagationContext(),...r.getPropagationContext()};s=tk({traceId:o,parentSpanId:l,...t},r,c),a&&Q2(s,a)}return _8(s),y8(s,r,i),s}function M8(e){const n={isStandalone:(e.experimental||{}).standalone,...e};if(e.startTime){const r={...n};return r.startTimestamp=sl(e.startTime),delete r.startTime,r}return n}function N5(){const e=yu();return Xf(e)}function tk(e,t,n){const r=Et(),i=r&&r.getOptions()||{},{name:s="",attributes:o}=e,[a,l]=t.getScopeData().sdkProcessingMetadata[L5]?[!1]:S8(i,{name:s,parentSampled:n,attributes:o,transactionContext:{name:s,parentSampled:n}}),c=new Qb({...e,attributes:{[Zo]:"custom",...e.attributes},sampled:a});return l!==void 0&&c.setAttribute(x5,l),r&&r.emit("spanStart",c),c}function P8(e,t,n){const{spanId:r,traceId:i}=e.spanContext(),s=t.getScopeData().sdkProcessingMetadata[L5]?!1:Pl(e),o=s?new Qb({...n,parentSpanId:r,traceId:i,sampled:s}):new Au({traceId:i});M5(e,o);const a=Et();return a&&(a.emit("spanStart",o),n.endTimestamp&&a.emit("spanEnd",o)),o}function j8(e){const t=Rg(e);if(!t)return;const n=Et();return(n?n.getOptions():{}).parentSpanIsAlwaysRootSpan?qr(t):t}const Fp={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3},O8="heartbeatFailed",V8="idleTimeout",L8="finalTimeout",N8="externalFinish";function B5(e,t={}){const n=new Map;let r=!1,i,s=N8,o=!t.disableAutoFinish;const{idleTimeout:a=Fp.idleTimeout,finalTimeout:l=Fp.finalTimeout,childSpanTimeout:c=Fp.childSpanTimeout,beforeSpanEnd:u}=t,d=Et();if(!d||!va())return new Au;const h=ln(),p=Xi(),g=B8(e);g.end=new Proxy(g.end,{apply(b,w,E){u&&u(g);const[T,...$]=E,N=T||xr(),B=sl(N),K=$p(g).filter(F=>F!==g);if(!K.length)return x(B),Reflect.apply(b,w,[B,...$]);const P=K.map(F=>xt(F).timestamp).filter(F=>!!F),L=P.length?Math.max(...P):void 0,R=xt(g).start_timestamp,I=Math.min(R?R+l/1e3:1/0,Math.max(R||-1/0,Math.min(B,L||1/0)));return x(I),Reflect.apply(b,w,[I,...$])}});function m(){i&&(clearTimeout(i),i=void 0)}function _(b){m(),i=setTimeout(()=>{!r&&n.size===0&&o&&(s=V8,g.end(b))},a)}function v(b){i=setTimeout(()=>{!r&&o&&(s=O8,g.end(b))},c)}function y(b){m(),n.set(b,!0);const w=xr();v(w+c/1e3)}function S(b){if(n.has(b)&&n.delete(b),n.size===0){const w=xr();_(w+a/1e3)}}function x(b){r=!0,n.clear(),of(h,p);const w=xt(g),{start_timestamp:E}=w;if(!E)return;(w.data||{})[t1]||g.setAttribute(t1,s),he.log(`[Tracing] Idle span "${w.op}" finished`);const $=$p(g).filter(B=>B!==g);let N=0;$.forEach(B=>{B.isRecording()&&(B.setStatus({code:qn,message:"cancelled"}),B.end(b),tt&&he.log("[Tracing] Cancelling span since span ended early",JSON.stringify(B,void 0,2)));const K=xt(B),{timestamp:P=0,start_timestamp:L=0}=K,R=L<=b,I=(l+a)/1e3,F=P-L<=I;if(tt){const j=JSON.stringify(B,void 0,2);R?F||he.log("[Tracing] Discarding span since it finished after idle span final timeout",j):he.log("[Tracing] Discarding span since it happened after idle span was finished",j)}(!F||!R)&&(m8(g,B),N++)}),N>0&&g.setAttribute("sentry.idle_span_discarded_spans",N)}return d.on("spanStart",b=>{if(r||b===g||xt(b).timestamp)return;$p(g).includes(b)&&y(b.spanContext().spanId)}),d.on("spanEnd",b=>{r||S(b.spanContext().spanId)}),d.on("idleSpanEnableAutoFinish",b=>{b===g&&(o=!0,_(),n.size&&v())}),t.disableAutoFinish||_(),setTimeout(()=>{r||(g.setStatus({code:qn,message:"deadline_exceeded"}),s=L8,g.end())},l),g}function B8(e){const t=qs(e);return of(ln(),t),tt&&he.log("[Tracing] Started span is an idle span"),t}function i1(e,t,n,r=0){return new Oi((i,s)=>{const o=e[r];if(t===null||typeof o!="function")i(t);else{const a=o({...t},n);tt&&o.id&&a===null&&he.log(`Event processor "${o.id}" dropped event`),zm(a)?a.then(l=>i1(e,l,n,r+1).then(i)).then(null,s):i1(e,a,n,r+1).then(i).then(null,s)}})}function D8(e,t){const{fingerprint:n,span:r,breadcrumbs:i,sdkProcessingMetadata:s}=t;$8(e,t),r&&U8(e,r),H8(e,n),F8(e,i),z8(e,s)}function nk(e,t){const{extra:n,tags:r,user:i,contexts:s,level:o,sdkProcessingMetadata:a,breadcrumbs:l,fingerprint:c,eventProcessors:u,attachments:d,propagationContext:h,transactionName:p,span:g}=t;Uu(e,"extra",n),Uu(e,"tags",r),Uu(e,"user",i),Uu(e,"contexts",s),Uu(e,"sdkProcessingMetadata",a),o&&(e.level=o),p&&(e.transactionName=p),g&&(e.span=g),l.length&&(e.breadcrumbs=[...e.breadcrumbs,...l]),c.length&&(e.fingerprint=[...e.fingerprint,...c]),u.length&&(e.eventProcessors=[...e.eventProcessors,...u]),d.length&&(e.attachments=[...e.attachments,...d]),e.propagationContext={...e.propagationContext,...h}}function Uu(e,t,n){if(n&&Object.keys(n).length){e[t]={...e[t]};for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[t][r]=n[r])}}function $8(e,t){const{extra:n,tags:r,user:i,contexts:s,level:o,transactionName:a}=t,l=Sr(n);l&&Object.keys(l).length&&(e.extra={...l,...e.extra});const c=Sr(r);c&&Object.keys(c).length&&(e.tags={...c,...e.tags});const u=Sr(i);u&&Object.keys(u).length&&(e.user={...u,...e.user});const d=Sr(s);d&&Object.keys(d).length&&(e.contexts={...d,...e.contexts}),o&&(e.level=o),a&&e.type!=="transaction"&&(e.transaction=a)}function F8(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}function z8(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}function U8(e,t){e.contexts={trace:h8(t),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:jl(t),...e.sdkProcessingMetadata};const n=qr(t),r=xt(n).description;r&&!e.transaction&&e.type==="transaction"&&(e.transaction=r)}function H8(e,t){e.fingerprint=e.fingerprint?v5(e.fingerprint):[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}function G8(e,t,n,r,i,s){const{normalizeDepth:o=3,normalizeMaxBreadth:a=1e3}=e,l={...t,event_id:t.event_id||n.event_id||on(),timestamp:t.timestamp||Jf()},c=n.integrations||e.integrations.map(_=>_.name);q8(l,e),Y8(l,c),i&&i.emit("applyFrameMetadata",t),t.type===void 0&&W8(l,e.stackParser);const u=J8(r,n.captureContext);n.mechanism&&sf(l,n.mechanism);const d=i?i.getEventProcessors():[],h=a8().getScopeData();if(s){const _=s.getScopeData();nk(h,_)}if(u){const _=u.getScopeData();nk(h,_)}const p=[...n.attachments||[],...h.attachments];p.length&&(n.attachments=p),D8(l,h);const g=[...d,...h.eventProcessors];return i1(g,l,n).then(_=>(_&&K8(_),typeof o=="number"&&o>0?Q8(_,o,a):_))}function q8(e,t){const{environment:n,release:r,dist:i,maxValueLength:s=250}=t;"environment"in e||(e.environment="environment"in t?n:Yb),e.release===void 0&&r!==void 0&&(e.release=r),e.dist===void 0&&i!==void 0&&(e.dist=i),e.message&&(e.message=Cc(e.message,s));const o=e.exception&&e.exception.values&&e.exception.values[0];o&&o.value&&(o.value=Cc(o.value,s));const a=e.request;a&&a.url&&(a.url=Cc(a.url,s))}const rk=new WeakMap;function W8(e,t){const n=yt._sentryDebugIds;if(!n)return;let r;const i=rk.get(t);i?r=i:(r=new Map,rk.set(t,r));const s=Object.entries(n).reduce((o,[a,l])=>{let c;const u=r.get(a);u?c=u:(c=t(a),r.set(a,c));for(let d=c.length-1;d>=0;d--){const h=c[d];if(h.filename){o[h.filename]=l;break}}return o},{});try{e.exception.values.forEach(o=>{o.stacktrace.frames.forEach(a=>{a.filename&&(a.debug_id=s[a.filename])})})}catch{}}function K8(e){const t={};try{e.exception.values.forEach(r=>{r.stacktrace.frames.forEach(i=>{i.debug_id&&(i.abs_path?t[i.abs_path]=i.debug_id:i.filename&&(t[i.filename]=i.debug_id),delete i.debug_id)})})}catch{}if(Object.keys(t).length===0)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.entries(t).forEach(([r,i])=>{n.push({type:"sourcemap",code_file:r,debug_id:i})})}function Y8(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function Q8(e,t,n){if(!e)return null;const r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(i=>({...i,...i.data&&{data:Ho(i.data,t,n)}}))},...e.user&&{user:Ho(e.user,t,n)},...e.contexts&&{contexts:Ho(e.contexts,t,n)},...e.extra&&{extra:Ho(e.extra,t,n)}};return e.contexts&&e.contexts.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=Ho(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map(i=>({...i,...i.data&&{data:Ho(i.data,t,n)}}))),r}function J8(e,t){if(!t)return e;const n=e?e.clone():new ma;return n.update(t),n}function X8(e){if(e)return Z8(e)?{captureContext:e}:tz(e)?{captureContext:e}:e}function Z8(e){return e instanceof ma||typeof e=="function"}const ez=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function tz(e){return Object.keys(e).some(t=>ez.includes(t))}function Js(e,t){return ln().captureException(e,X8(t))}function D5(e,t){return ln().captureEvent(e,t)}function nz(e,t){Ji().setContext(e,t)}function rz(e){Ji().setUser(e)}function iz(){return Ji().lastEventId()}function ik(e){const t=Et(),n=Ji(),r=ln(),{release:i,environment:s=Yb}=t&&t.getOptions()||{},{userAgent:o}=yt.navigator||{},a=J6({release:i,environment:s,user:r.getUser()||n.getUser(),...o&&{userAgent:o},...e}),l=n.getSession();return l&&l.status==="ok"&&Wc(l,{status:"exited"}),$5(),n.setSession(a),r.setSession(a),a}function $5(){const e=Ji(),t=ln(),n=t.getSession()||e.getSession();n&&X6(n),F5(),e.setSession(),t.setSession()}function F5(){const e=Ji(),t=ln(),n=Et(),r=t.getSession()||e.getSession();r&&n&&n.captureSession(r)}function sk(e=!1){if(e){$5();return}F5()}const sz="7";function z5(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function oz(e){return`${z5(e)}${e.projectId}/envelope/`}function az(e,t){return l6({sentry_key:e.publicKey,sentry_version:sz,...t&&{sentry_client:`${t.name}/${t.version}`}})}function lz(e,t,n){return t||`${oz(e)}?${az(e,n)}`}function cz(e,t){const n=o5(e);if(!n)return"";const r=`${z5(n)}embed/error-page/`;let i=`dsn=${mu(n)}`;for(const s in t)if(s!=="dsn"&&s!=="onClose")if(s==="user"){const o=t.user;if(!o)continue;o.name&&(i+=`&name=${encodeURIComponent(o.name)}`),o.email&&(i+=`&email=${encodeURIComponent(o.email)}`)}else i+=`&${encodeURIComponent(s)}=${encodeURIComponent(t[s])}`;return`${r}?${i}`}const ok=[];function uz(e){const t={};return e.forEach(n=>{const{name:r}=n,i=t[r];i&&!i.isDefaultInstance&&n.isDefaultInstance||(t[r]=n)}),Object.values(t)}function dz(e){const t=e.defaultIntegrations||[],n=e.integrations;t.forEach(o=>{o.isDefaultInstance=!0});let r;Array.isArray(n)?r=[...t,...n]:typeof n=="function"?r=v5(n(t)):r=t;const i=uz(r),s=i.findIndex(o=>o.name==="Debug");if(s>-1){const[o]=i.splice(s,1);i.push(o)}return i}function fz(e,t){const n={};return t.forEach(r=>{r&&U5(e,r,n)}),n}function ak(e,t){for(const n of t)n&&n.afterAllSetup&&n.afterAllSetup(e)}function U5(e,t,n){if(n[t.name]){tt&&he.log(`Integration skipped because it was already installed: ${t.name}`);return}if(n[t.name]=t,ok.indexOf(t.name)===-1&&typeof t.setupOnce=="function"&&(t.setupOnce(),ok.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),typeof t.preprocessEvent=="function"){const r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(i,s)=>r(i,s,e))}if(typeof t.processEvent=="function"){const r=t.processEvent.bind(t),i=Object.assign((s,o)=>r(s,o,e),{id:t.name});e.addEventProcessor(i)}tt&&he.log(`Integration installed: ${t.name}`)}const lk="Not capturing exception because it's already been captured.";class hz{constructor(t){if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=o5(t.dsn):tt&&he.warn("No DSN provided, client will not send events."),this._dsn){const n=lz(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:n})}}captureException(t,n,r){const i=on();if(z2(t))return tt&&he.log(lk),i;const s={event_id:i,...n};return this._process(this.eventFromException(t,s).then(o=>this._captureEvent(o,s,r))),s.event_id}captureMessage(t,n,r,i){const s={event_id:on(),...r},o=$b(t)?t:String(t),a=Fb(t)?this.eventFromMessage(o,n,s):this.eventFromException(t,s);return this._process(a.then(l=>this._captureEvent(l,s,i))),s.event_id}captureEvent(t,n,r){const i=on();if(n&&n.originalException&&z2(n.originalException))return tt&&he.log(lk),i;const s={event_id:i,...n},a=(t.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(t,s,a||r)),s.event_id}captureSession(t){typeof t.release!="string"?tt&&he.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),Wc(t,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const n=this._transport;return n?(this.emit("flush"),this._isClientDoneProcessing(t).then(r=>n.flush(t).then(i=>r&&i))):gl(!0)}close(t){return this.flush(t).then(n=>(this.getOptions().enabled=!1,this.emit("close"),n))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){this._isEnabled()&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){const n=this._integrations[t.name];U5(this,t,this._integrations),n||ak(this,[t])}sendEvent(t,n={}){this.emit("beforeSendEvent",t,n);let r=E8(t,this._dsn,this._options._metadata,this._options.tunnel);for(const s of n.attachments||[])r=N6(r,F6(s));const i=this.sendEnvelope(r);i&&i.then(s=>this.emit("afterSendEvent",t,s),null)}sendSession(t){const n=w8(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(n)}recordDroppedEvent(t,n,r){if(this._options.sendClientReports){const i=`${t}:${n}`;tt&&he.log(`Adding outcome: "${i}"`),this._outcomes[i]=(this._outcomes[i]||0)+1}}on(t,n){return this._hooks[t]||(this._hooks[t]=[]),this._hooks[t].push(n),()=>{const r=this._hooks[t];if(r){const i=r.indexOf(n);r.splice(i,1)}}}emit(t,...n){const r=this._hooks[t];r&&r.forEach(i=>i(...n))}sendEnvelope(t){return this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport?this._transport.send(t).then(null,n=>(tt&&he.error("Error while sending event:",n),n)):(tt&&he.error("Transport disabled"),gl({}))}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=fz(this,t),ak(this,t)}_updateSessionFromEvent(t,n){let r=!1,i=!1;const s=n.exception&&n.exception.values;if(s){i=!0;for(const l of s){const c=l.mechanism;if(c&&c.handled===!1){r=!0;break}}}const o=t.status==="ok";(o&&t.errors===0||o&&r)&&(Wc(t,{...r&&{status:"crashed"},errors:t.errors||Number(i||r)}),this.captureSession(t))}_isClientDoneProcessing(t){return new Oi(n=>{let r=0;const i=1,s=setInterval(()=>{this._numProcessing==0?(clearInterval(s),n(!0)):(r+=i,t&&r>=t&&(clearInterval(s),n(!1)))},i)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,n,r,i=Ji()){const s=this.getOptions(),o=Object.keys(this._integrations);return!n.integrations&&o.length>0&&(n.integrations=o),this.emit("preprocessEvent",t,n),t.type||i.setLastEventId(t.event_id||n.event_id),G8(s,t,n,r,this,i).then(a=>{if(a===null)return a;const l={...i.getPropagationContext(),...r?r.getPropagationContext():void 0};if(!(a.contexts&&a.contexts.trace)&&l){const{traceId:u,spanId:d,parentSpanId:h,dsc:p}=l;a.contexts={trace:Sr({trace_id:u,span_id:d,parent_span_id:h}),...a.contexts};const g=p||Hm(u,this);a.sdkProcessingMetadata={dynamicSamplingContext:g,...a.sdkProcessingMetadata}}return a})}_captureEvent(t,n={},r){return this._processEvent(t,n,r).then(i=>i.event_id,i=>{if(tt){const s=i;s.logLevel==="log"?he.log(s.message):he.warn(s)}})}_processEvent(t,n,r){const i=this.getOptions(),{sampleRate:s}=i,o=s1(t),a=H5(t),l=t.type||"error",c=`before send for type \`${l}\``,u=typeof s>"u"?void 0:V5(s);if(a&&typeof u=="number"&&Math.random()>u)return this.recordDroppedEvent("sample_rate","error",t),Tg(new Ds(`Discarding event because it's not included in the random sample (sampling rate = ${s})`,"log"));const d=l==="replay_event"?"replay":l,p=(t.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(t,n,r,p).then(g=>{if(g===null)throw this.recordDroppedEvent("event_processor",d,t),new Ds("An event processor returned `null`, will not send event.","log");if(n.data&&n.data.__sentry__===!0)return g;const _=gz(this,i,g,n);return pz(_,c)}).then(g=>{if(g===null){if(this.recordDroppedEvent("before_send",d,t),s1(t)){const y=1+(t.spans||[]).length;this._outcomes.span=(this._outcomes.span||0)+y}throw new Ds(`${c} returned \`null\`, will not send event.`,"log")}const m=r&&r.getSession();!o&&m&&this._updateSessionFromEvent(m,g);const _=g.transaction_info;if(o&&_&&g.transaction!==t.transaction){const v="custom";g.transaction_info={..._,source:v}}return this.sendEvent(g,n),g}).then(null,g=>{throw g instanceof Ds?g:(this.captureException(g,{data:{__sentry__:!0},originalException:g}),new Ds(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${g}`))})}_process(t){this._numProcessing++,t.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.entries(t).map(([n,r])=>{const[i,s]=n.split(":");return{reason:i,category:s,quantity:r}})}}function pz(e,t){const n=`${t} must return \`null\` or a valid event.`;if(zm(e))return e.then(r=>{if(!Gc(r)&&r!==null)throw new Ds(n);return r},r=>{throw new Ds(`${t} rejected with ${r}`)});if(!Gc(e)&&e!==null)throw new Ds(n);return e}function gz(e,t,n,r){const{beforeSend:i,beforeSendTransaction:s,beforeSendSpan:o}=t;if(H5(n)&&i)return i(n,r);if(s1(n)){if(n.spans&&o){const a=[];for(const l of n.spans){const c=o(l);c?a.push(c):e.recordDroppedEvent("before_send","span")}n.spans=a}if(s)return s(n,r)}return n}function H5(e){return e.type===void 0}function s1(e){return e.type==="transaction"}function mz(e,t){t.debug===!0&&(tt?he.enable():Qf(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),ln().update(t.initialScope);const r=new e(t);return vz(r),r.init(),r}function vz(e){ln().setClient(e)}const yz=64;function Az(e,t,n=C6(e.bufferSize||yz)){let r={};const i=o=>n.drain(o);function s(o){const a=[];if(H2(o,(d,h)=>{const p=G2(h);if(K6(r,p)){const g=ck(d,h);e.recordDroppedEvent("ratelimit_backoff",p,g)}else a.push(d)}),a.length===0)return gl({});const l=vu(o[0],a),c=d=>{H2(l,(h,p)=>{const g=ck(h,p);e.recordDroppedEvent(d,G2(p),g)})},u=()=>t({body:B6(l)}).then(d=>(d.statusCode!==void 0&&(d.statusCode<200||d.statusCode>=300)&&tt&&he.warn(`Sentry responded with status code ${d.statusCode} to sent event.`),r=Y6(r,d),d),d=>{throw c("network_error"),d});return n.add(u).then(d=>d,d=>{if(d instanceof Ds)return tt&&he.error("Skipped sending event because buffer is full."),c("queue_overflow"),gl({});throw d})}return{send:s,flush:i}}function ck(e,t){if(!(t!=="event"&&t!=="transaction"))return Array.isArray(e)?e[1]:void 0}function G5(e,t,n=[t],r="npm"){const i=e._metadata||{};i.sdk||(i.sdk={name:`sentry.javascript.${t}`,packages:n.map(s=>({name:`${r}:@sentry/${s}`,version:rl})),version:rl}),e._metadata=i}const _z=100;function ml(e,t){const n=Et(),r=Ji();if(!n)return;const{beforeBreadcrumb:i=null,maxBreadcrumbs:s=_z}=n.getOptions();if(s<=0)return;const a={timestamp:Jf(),...e},l=i?Qf(()=>i(a,t)):a;l!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",l,t),r.addBreadcrumb(l,s))}let uk;const bz="FunctionToString",dk=new WeakMap,Sz=()=>({name:bz,setupOnce(){uk=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=Ub(this),n=dk.has(Et())&&t!==void 0?t:this;return uk.apply(n,e)}}catch{}},setup(e){dk.set(e,!0)}}),xz=Sz,wz=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler"],Ez="InboundFilters",kz=(e={})=>({name:Ez,processEvent(t,n,r){const i=r.getOptions(),s=Tz(e,i);return Iz(t,s)?null:t}}),Cz=kz;function Tz(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:wz],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]],ignoreInternal:e.ignoreInternal!==void 0?e.ignoreInternal:!0}}function Iz(e,t){return t.ignoreInternal&&Vz(e)?(tt&&he.warn(`Event dropped due to being internal Sentry Error.
Event: ${Uo(e)}`),!0):Rz(e,t.ignoreErrors)?(tt&&he.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${Uo(e)}`),!0):Nz(e)?(tt&&he.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${Uo(e)}`),!0):Mz(e,t.ignoreTransactions)?(tt&&he.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${Uo(e)}`),!0):Pz(e,t.denyUrls)?(tt&&he.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${Uo(e)}.
Url: ${Pg(e)}`),!0):jz(e,t.allowUrls)?!1:(tt&&he.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${Uo(e)}.
Url: ${Pg(e)}`),!0)}function Rz(e,t){return e.type||!t||!t.length?!1:Oz(e).some(n=>nl(n,t))}function Mz(e,t){if(e.type!=="transaction"||!t||!t.length)return!1;const n=e.transaction;return n?nl(n,t):!1}function Pz(e,t){if(!t||!t.length)return!1;const n=Pg(e);return n?nl(n,t):!1}function jz(e,t){if(!t||!t.length)return!0;const n=Pg(e);return n?nl(n,t):!0}function Oz(e){const t=[];e.message&&t.push(e.message);let n;try{n=e.exception.values[e.exception.values.length-1]}catch{}return n&&n.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`)),t}function Vz(e){try{return e.exception.values[0].type==="SentryError"}catch{}return!1}function Lz(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function Pg(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch{}return t?Lz(t):null}catch{return tt&&he.error(`Cannot extract url for event ${Uo(e)}`),null}}function Nz(e){return e.type||!e.exception||!e.exception.values||e.exception.values.length===0?!1:!e.message&&!e.exception.values.some(t=>t.stacktrace||t.type&&t.type!=="Error"||t.value)}const Bz="Dedupe",Dz=()=>{let e;return{name:Bz,processEvent(t){if(t.type)return t;try{if(Fz(t,e))return tt&&he.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}},$z=Dz;function Fz(e,t){return t?!!(zz(e,t)||Uz(e,t)):!1}function zz(e,t){const n=e.message,r=t.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!W5(e,t)||!q5(e,t))}function Uz(e,t){const n=fk(t),r=fk(e);return!(!n||!r||n.type!==r.type||n.value!==r.value||!W5(e,t)||!q5(e,t))}function q5(e,t){let n=D2(e),r=D2(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let i=0;i<r.length;i++){const s=r[i],o=n[i];if(s.filename!==o.filename||s.lineno!==o.lineno||s.colno!==o.colno||s.function!==o.function)return!1}return!0}function W5(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function fk(e){return e.exception&&e.exception.values&&e.exception.values[0]}function Hz(e,t,n,r,i="auto.http.browser"){if(!e.fetchData)return;const s=va()&&t(e.fetchData.url);if(e.endTimestamp&&s){const g=e.fetchData.__span;if(!g)return;const m=r[g];m&&(Wz(m,e),delete r[g]);return}const o=ln(),a=Et(),{method:l,url:c}=e.fetchData,u=qz(c),d=u?il(u).host:void 0,h=!!Xi(),p=s&&h?qs({name:`${l} ${c}`,attributes:{url:c,type:"fetch","http.method":l,"http.url":u,"server.address":d,[Fn]:i,[af]:"http.client"}}):new Au;if(e.fetchData.__span=p.spanContext().spanId,r[p.spanContext().spanId]=p,n(e.fetchData.url)&&a){const g=e.args[0];e.args[1]=e.args[1]||{};const m=e.args[1];m.headers=Gz(g,a,o,m,va()&&h?p:void 0)}return p}function Gz(e,t,n,r,i){const s=Ji(),{traceId:o,spanId:a,sampled:l,dsc:c}={...s.getPropagationContext(),...n.getPropagationContext()},u=i?I5(i):Hb(o,a,l),d=b5(c||(i?jl(i):Hm(o,t))),h=r.headers||(typeof Request<"u"&&_o(e,Request)?e.headers:void 0);if(h)if(typeof Headers<"u"&&_o(h,Headers)){const p=new Headers(h);return p.append("sentry-trace",u),d&&p.append(JA,d),p}else if(Array.isArray(h)){const p=[...h,["sentry-trace",u]];return d&&p.push([JA,d]),p}else{const p="baggage"in h?h.baggage:void 0,g=[];return Array.isArray(p)?g.push(...p):p&&g.push(p),d&&g.push(d),{...h,"sentry-trace":u,baggage:g.length>0?g.join(","):void 0}}else return{"sentry-trace":u,baggage:d}}function qz(e){try{return new URL(e).href}catch{return}}function Wz(e,t){if(t.response){k5(e,t.response.status);const n=t.response&&t.response.headers&&t.response.headers.get("content-length");if(n){const r=parseInt(n);r>0&&e.setAttribute("http.response_content_length",r)}}else t.error&&e.setStatus({code:qn,message:"internal_error"});e.end()}const Be=yt;let o1=0;function K5(){return o1>0}function Kz(){o1++,setTimeout(()=>{o1--})}function Yc(e,t={},n){if(typeof e!="function")return e;try{const i=e.__sentry_wrapped__;if(i)return i;if(Ub(e))return e}catch{return e}const r=function(){const i=Array.prototype.slice.call(arguments);try{n&&typeof n=="function"&&n.apply(this,arguments);const s=i.map(o=>Yc(o,t));return e.apply(this,s)}catch(s){throw Kz(),Um(o=>{o.addEventProcessor(a=>(t.mechanism&&(YA(a,void 0,void 0),sf(a,t.mechanism)),a.extra={...a.extra,arguments:i},a)),Js(s)}),s}};try{for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}catch{}a5(r,e),Ui(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return e.name}})}catch{}return r}const ur=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function Jb(e,t){const n=Xb(e,t),r={type:t&&t.name,value:Zz(t)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function Yz(e,t,n,r){const i=Et(),s=i&&i.getOptions().normalizeDepth,o=i7(t),a={__serialized__:y5(t,s)};if(o)return{exception:{values:[Jb(e,o)]},extra:a};const l={exception:{values:[{type:Fm(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:n7(t,{isUnhandledRejection:r})}]},extra:a};if(n){const c=Xb(e,n);c.length&&(l.exception.values[0].stacktrace={frames:c})}return l}function Uv(e,t){return{exception:{values:[Jb(e,t)]}}}function Xb(e,t){const n=t.stacktrace||t.stack||"",r=Jz(t),i=Xz(t);try{return e(n,r,i)}catch{}return[]}const Qz=/Minified React error #\d+;/i;function Jz(e){return e&&Qz.test(e.message)?1:0}function Xz(e){return typeof e.framesToPop=="number"?e.framesToPop:0}function Zz(e){const t=e&&e.message;return t?t.error&&typeof t.error.message=="string"?t.error.message:t:"No error message"}function e7(e,t,n,r){const i=n&&n.syntheticException||void 0,s=Zb(e,t,i,r);return sf(s),s.level="error",n&&n.event_id&&(s.event_id=n.event_id),gl(s)}function t7(e,t,n="info",r,i){const s=r&&r.syntheticException||void 0,o=a1(e,t,s,i);return o.level=n,r&&r.event_id&&(o.event_id=r.event_id),gl(o)}function Zb(e,t,n,r,i){let s;if(n5(t)&&t.error)return Uv(e,t.error);if(M2(t)||GF(t)){const o=t;if("stack"in t)s=Uv(e,t);else{const a=o.name||(M2(o)?"DOMError":"DOMException"),l=o.message?`${a}: ${o.message}`:a;s=a1(e,l,n,r),YA(s,l)}return"code"in o&&(s.tags={...s.tags,"DOMException.code":`${o.code}`}),s}return $m(t)?Uv(e,t):Gc(t)||Fm(t)?(s=Yz(e,t,n,i),sf(s,{synthetic:!0}),s):(s=a1(e,t,n,r),YA(s,`${t}`,void 0),sf(s,{synthetic:!0}),s)}function a1(e,t,n,r){const i={};if(r&&n){const s=Xb(e,n);s.length&&(i.exception={values:[{value:t,stacktrace:{frames:s}}]})}if($b(t)){const{__sentry_template_string__:s,__sentry_template_values__:o}=t;return i.logentry={message:s,params:o},i}return i.message=t,i}function n7(e,{isUnhandledRejection:t}){const n=c6(e),r=t?"promise rejection":"exception";return n5(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:Fm(e)?`Event \`${r7(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}function r7(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}function i7(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const n=e[t];if(n instanceof Error)return n}}function s7(e,{metadata:t,tunnel:n,dsn:r}){const i={event_id:e.event_id,sent_at:new Date().toISOString(),...t&&t.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}},...!!n&&!!r&&{dsn:mu(r)}},s=o7(e);return vu(i,[s])}function o7(e){return[{type:"user_report"},e]}class a7 extends hz{constructor(t){const n={parentSpanIsAlwaysRootSpan:!0,...t},r=Be.SENTRY_SDK_SOURCE||b6();G5(n,"browser",["browser"],r),super(n),n.sendClientReports&&Be.document&&Be.document.addEventListener("visibilitychange",()=>{Be.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(t,n){return e7(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",r){return t7(this._options.stackParser,t,n,r,this._options.attachStacktrace)}captureUserFeedback(t){if(!this._isEnabled()){ur&&he.warn("SDK not enabled, will not capture user feedback.");return}const n=s7(t,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(n)}_prepareEvent(t,n,r){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,r)}_flushOutcomes(){const t=this._clearOutcomes();if(t.length===0){ur&&he.log("No outcomes to send");return}if(!this._dsn){ur&&he.log("No dsn provided, will not send outcomes");return}ur&&he.log("Sending outcomes:",t);const n=H6(t,this._options.tunnel&&mu(this._dsn));this.sendEnvelope(n)}}const li=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,l7=(e,t)=>e>t[1]?"poor":e>t[0]?"needs-improvement":"good",_u=(e,t,n,r)=>{let i,s;return o=>{t.value>=0&&(o||r)&&(s=t.value-(i||0),(s||i===void 0)&&(i=t.value,t.delta=s,t.rating=l7(t.value,n),e(t)))}},Ge=yt,c7=()=>`v3-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,Zf=()=>Ge.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0],Gm=()=>{const e=Zf();return e&&e.activationStart||0},bu=(e,t)=>{const n=Zf();let r="navigate";return n&&(Ge.document&&Ge.document.prerendering||Gm()>0?r="prerender":Ge.document&&Ge.document.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:typeof t>"u"?-1:t,rating:"good",delta:0,entries:[],id:c7(),navigationType:r}},Ol=(e,t,n)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const r=new PerformanceObserver(i=>{Promise.resolve().then(()=>{t(i.getEntries())})});return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch{}},qm=e=>{const t=n=>{(n.type==="pagehide"||Ge.document&&Ge.document.visibilityState==="hidden")&&e(n)};Ge.document&&(addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0))},eS=e=>{let t=!1;return n=>{t||(e(n),t=!0)}};let lf=-1;const u7=()=>{lf=Ge.document.visibilityState==="hidden"&&!Ge.document.prerendering?0:1/0},jg=e=>{Ge.document.visibilityState==="hidden"&&lf>-1&&(lf=e.type==="visibilitychange"?e.timeStamp:0,removeEventListener("visibilitychange",jg,!0),removeEventListener("prerenderingchange",jg,!0))},d7=()=>{addEventListener("visibilitychange",jg,!0),addEventListener("prerenderingchange",jg,!0)},Wm=()=>(Ge.document&&lf<0&&(u7(),d7()),{get firstHiddenTime(){return lf}}),eh=e=>{Ge.document&&Ge.document.prerendering?addEventListener("prerenderingchange",()=>e(),!0):e()},f7=[1800,3e3],h7=(e,t={})=>{eh(()=>{const n=Wm(),r=bu("FCP");let i;const o=Ol("paint",a=>{a.forEach(l=>{l.name==="first-contentful-paint"&&(o.disconnect(),l.startTime<n.firstHiddenTime&&(r.value=Math.max(l.startTime-Gm(),0),r.entries.push(l),i(!0)))})});o&&(i=_u(e,r,f7,t.reportAllChanges))})},p7=[.1,.25],g7=(e,t={})=>{h7(eS(()=>{const n=bu("CLS",0);let r,i=0,s=[];const o=l=>{l.forEach(c=>{if(!c.hadRecentInput){const u=s[0],d=s[s.length-1];i&&u&&d&&c.startTime-d.startTime<1e3&&c.startTime-u.startTime<5e3?(i+=c.value,s.push(c)):(i=c.value,s=[c])}}),i>n.value&&(n.value=i,n.entries=s,r())},a=Ol("layout-shift",o);a&&(r=_u(e,n,p7,t.reportAllChanges),qm(()=>{o(a.takeRecords()),r(!0)}),setTimeout(r,0))}))},m7=[100,300],v7=(e,t={})=>{eh(()=>{const n=Wm(),r=bu("FID");let i;const s=l=>{l.startTime<n.firstHiddenTime&&(r.value=l.processingStart-l.startTime,r.entries.push(l),i(!0))},o=l=>{l.forEach(s)},a=Ol("first-input",o);i=_u(e,r,m7,t.reportAllChanges),a&&qm(eS(()=>{o(a.takeRecords()),a.disconnect()}))})};let Y5=0,Hv=1/0,Uh=0;const y7=e=>{e.forEach(t=>{t.interactionId&&(Hv=Math.min(Hv,t.interactionId),Uh=Math.max(Uh,t.interactionId),Y5=Uh?(Uh-Hv)/7+1:0)})};let l1;const A7=()=>l1?Y5:performance.interactionCount||0,_7=()=>{"interactionCount"in performance||l1||(l1=Ol("event",y7,{type:"event",buffered:!0,durationThreshold:0}))},b7=[200,500],S7=0,Q5=()=>A7()-S7,hk=10,co=[],Gv={},pk=e=>{const t=co[co.length-1],n=Gv[e.interactionId];if(n||co.length<hk||t&&e.duration>t.latency){if(n)n.entries.push(e),n.latency=Math.max(n.latency,e.duration);else{const r={id:e.interactionId,latency:e.duration,entries:[e]};Gv[r.id]=r,co.push(r)}co.sort((r,i)=>i.latency-r.latency),co.splice(hk).forEach(r=>{delete Gv[r.id]})}},x7=()=>{const e=Math.min(co.length-1,Math.floor(Q5()/50));return co[e]},w7=(e,t={})=>{eh(()=>{_7();const n=bu("INP");let r;const i=o=>{o.forEach(l=>{l.interactionId&&pk(l),l.entryType==="first-input"&&!co.some(u=>u.entries.some(d=>l.duration===d.duration&&l.startTime===d.startTime))&&pk(l)});const a=x7();a&&a.latency!==n.value&&(n.value=a.latency,n.entries=a.entries,r())},s=Ol("event",i,{durationThreshold:t.durationThreshold!=null?t.durationThreshold:40});r=_u(e,n,b7,t.reportAllChanges),s&&("PerformanceEventTiming"in Ge&&"interactionId"in PerformanceEventTiming.prototype&&s.observe({type:"first-input",buffered:!0}),qm(()=>{i(s.takeRecords()),n.value<0&&Q5()>0&&(n.value=0,n.entries=[]),r(!0)}))})},E7=[2500,4e3],gk={},k7=(e,t={})=>{eh(()=>{const n=Wm(),r=bu("LCP");let i;const s=a=>{const l=a[a.length-1];l&&l.startTime<n.firstHiddenTime&&(r.value=Math.max(l.startTime-Gm(),0),r.entries=[l],i())},o=Ol("largest-contentful-paint",s);if(o){i=_u(e,r,E7,t.reportAllChanges);const a=eS(()=>{gk[r.id]||(s(o.takeRecords()),o.disconnect(),gk[r.id]=!0,i(!0))});["keydown","click"].forEach(l=>{Ge.document&&addEventListener(l,()=>setTimeout(a,0),!0)}),qm(a)}})},C7=[800,1800],c1=e=>{Ge.document&&Ge.document.prerendering?eh(()=>c1(e)):Ge.document&&Ge.document.readyState!=="complete"?addEventListener("load",()=>c1(e),!0):setTimeout(e,0)},T7=(e,t={})=>{const n=bu("TTFB"),r=_u(e,n,C7,t.reportAllChanges);c1(()=>{const i=Zf();if(i){const s=i.responseStart;if(s<=0||s>performance.now())return;n.value=Math.max(s-Gm(),0),n.entries=[i],r(!0)}})},Id={},Og={};let J5,X5,Z5,ej,tj;function I7(e,t=!1){return th("cls",e,O7,J5,t)}function R7(e,t=!1){return th("lcp",e,L7,Z5,t)}function M7(e){return th("fid",e,V7,X5)}function P7(e){return th("ttfb",e,N7,ej)}function j7(e){return th("inp",e,B7,tj)}function cf(e,t){return nj(e,t),Og[e]||(D7(e),Og[e]=!0),rj(e,t)}function Su(e,t){const n=Id[e];if(!(!n||!n.length))for(const r of n)try{r(t)}catch(i){li&&he.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${bo(r)}
Error:`,i)}}function O7(){return g7(e=>{Su("cls",{metric:e}),J5=e},{reportAllChanges:!0})}function V7(){return v7(e=>{Su("fid",{metric:e}),X5=e})}function L7(){return k7(e=>{Su("lcp",{metric:e}),Z5=e},{reportAllChanges:!0})}function N7(){return T7(e=>{Su("ttfb",{metric:e}),ej=e})}function B7(){return w7(e=>{Su("inp",{metric:e}),tj=e})}function th(e,t,n,r,i=!1){nj(e,t);let s;return Og[e]||(s=n(),Og[e]=!0),r&&t({metric:r}),rj(e,t,i?s:void 0)}function D7(e){const t={};e==="event"&&(t.durationThreshold=0),Ol(e,n=>{Su(e,{entries:n})},t)}function nj(e,t){Id[e]=Id[e]||[],Id[e].push(t)}function rj(e,t,n){return()=>{n&&n();const r=Id[e];if(!r)return;const i=r.indexOf(t);i!==-1&&r.splice(i,1)}}function $7(e){return"duration"in e}function qv(e){return typeof e=="number"&&isFinite(e)}function Qc(e,t,n,{...r}){const i=xt(e).start_timestamp;return i&&i>t&&typeof e.updateStartTime=="function"&&e.updateStartTime(t),Mg(e,()=>{const s=qs({startTime:t,...r});return s&&s.end(n),s})}function tS(){return Ge&&Ge.addEventListener&&Ge.performance}function Dn(e){return e/1e3}const F7=2147483647;let mk=0,Wn={},js,Rd;function z7(){const e=tS();if(e&&Hi){e.mark&&Ge.performance.mark("sentry-tracing-init");const t=W7(),n=G7(),r=q7(),i=K7();return()=>{t(),n(),r(),i()}}return()=>{}}function U7(){cf("longtask",({entries:e})=>{for(const t of e){if(!Xi())return;const n=Dn(Hi+t.startTime),r=Dn(t.duration),i=qs({name:"Main UI thread blocked",op:"ui.long-task",startTime:n,attributes:{[Fn]:"auto.ui.browser.metrics"}});i&&i.end(n+r)}})}function H7(){cf("event",({entries:e})=>{for(const t of e){if(!Xi())return;if(t.name==="click"){const n=Dn(Hi+t.startTime),r=Dn(t.duration),i={name:qc(t.target),op:`ui.interaction.${t.name}`,startTime:n,attributes:{[Fn]:"auto.ui.browser.metrics"}},s=i5(t.target);s&&(i.attributes["ui.component_name"]=s);const o=qs(i);o&&o.end(n+r)}}})}function G7(){return I7(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(li&&he.log("[Measurements] Adding CLS"),Wn.cls={value:e.value,unit:""},Rd=t)},!0)}function q7(){return R7(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(li&&he.log("[Measurements] Adding LCP"),Wn.lcp={value:e.value,unit:"millisecond"},js=t)},!0)}function W7(){return M7(({metric:e})=>{const t=e.entries[e.entries.length-1];if(!t)return;const n=Dn(Hi),r=Dn(t.startTime);li&&he.log("[Measurements] Adding FID"),Wn.fid={value:e.value,unit:"millisecond"},Wn["mark.fid"]={value:n+r,unit:"second"}})}function K7(){return P7(({metric:e})=>{e.entries[e.entries.length-1]&&(li&&he.log("[Measurements] Adding TTFB"),Wn.ttfb={value:e.value,unit:"millisecond"})})}function Y7(e){const t=tS();if(!t||!Ge.performance.getEntries||!Hi)return;li&&he.log("[Tracing] Adding & adjusting spans using Performance API");const n=Dn(Hi),r=t.getEntries(),{op:i,start_timestamp:s}=xt(e);if(r.slice(mk).forEach(o=>{const a=Dn(o.startTime),l=Dn(o.duration);if(!(i==="navigation"&&s&&n+a<s))switch(o.entryType){case"navigation":{J7(e,o,n);break}case"mark":case"paint":case"measure":{Q7(e,o,a,l,n);const c=Wm(),u=o.startTime<c.firstHiddenTime;o.name==="first-paint"&&u&&(li&&he.log("[Measurements] Adding FP"),Wn.fp={value:o.startTime,unit:"millisecond"}),o.name==="first-contentful-paint"&&u&&(li&&he.log("[Measurements] Adding FCP"),Wn.fcp={value:o.startTime,unit:"millisecond"});break}case"resource":{Z7(e,o,o.name,a,l,n);break}}}),mk=Math.max(r.length-1,0),e9(e),i==="pageload"){n9(Wn),["fcp","fp","lcp"].forEach(a=>{const l=Wn[a];if(!l||!s||n>=s)return;const c=l.value,u=n+Dn(c),d=Math.abs((u-s)*1e3),h=d-c;li&&he.log(`[Measurements] Normalized ${a} from ${c} to ${d} (${h})`),l.value=d});const o=Wn["mark.fid"];o&&Wn.fid&&(Qc(e,o.value,o.value+Dn(Wn.fid.value),{name:"first input delay",op:"ui.action",attributes:{[Fn]:"auto.ui.browser.metrics"}}),delete Wn["mark.fid"]),"fcp"in Wn||delete Wn.cls,Object.entries(Wn).forEach(([a,l])=>{C8(a,l.value,l.unit)}),t9(e)}js=void 0,Rd=void 0,Wn={}}function Q7(e,t,n,r,i){const s=Zf(),o=Dn(s?s.requestStart:0),a=i+Math.max(n,o),l=i+n,c=l+r,u={[Fn]:"auto.resource.browser.metrics"};return a!==l&&(u["sentry.browser.measure_happened_before_request"]=!0,u["sentry.browser.measure_start_time"]=a),Qc(e,a,c,{name:t.name,op:t.entryType,attributes:u}),a}function J7(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(r=>{Hh(e,t,r,n)}),Hh(e,t,"secureConnection",n,"TLS/SSL","connectEnd"),Hh(e,t,"fetch",n,"cache","domainLookupStart"),Hh(e,t,"domainLookup",n,"DNS"),X7(e,t,n)}function Hh(e,t,n,r,i,s){const o=s?t[s]:t[`${n}End`],a=t[`${n}Start`];!a||!o||Qc(e,r+Dn(a),r+Dn(o),{op:"browser",name:i||n,attributes:{[Fn]:"auto.ui.browser.metrics"}})}function X7(e,t,n){const r=n+Dn(t.requestStart),i=n+Dn(t.responseEnd),s=n+Dn(t.responseStart);t.responseEnd&&(Qc(e,r,i,{op:"browser",name:"request",attributes:{[Fn]:"auto.ui.browser.metrics"}}),Qc(e,s,i,{op:"browser",name:"response",attributes:{[Fn]:"auto.ui.browser.metrics"}}))}function Z7(e,t,n,r,i,s){if(t.initiatorType==="xmlhttprequest"||t.initiatorType==="fetch")return;const o=il(n),a={[Fn]:"auto.resource.browser.metrics"};Wv(a,t,"transferSize","http.response_transfer_size"),Wv(a,t,"encodedBodySize","http.response_content_length"),Wv(a,t,"decodedBodySize","http.decoded_response_content_length"),"renderBlockingStatus"in t&&(a["resource.render_blocking_status"]=t.renderBlockingStatus),o.protocol&&(a["url.scheme"]=o.protocol.split(":").pop()),o.host&&(a["server.address"]=o.host),a["url.same_origin"]=n.includes(Ge.location.origin);const l=s+r,c=l+i;Qc(e,l,c,{name:n.replace(Ge.location.origin,""),op:t.initiatorType?`resource.${t.initiatorType}`:"resource.other",attributes:a})}function e9(e){const t=Ge.navigator;if(!t)return;const n=t.connection;n&&(n.effectiveType&&e.setAttribute("effectiveConnectionType",n.effectiveType),n.type&&e.setAttribute("connectionType",n.type),qv(n.rtt)&&(Wn["connection.rtt"]={value:n.rtt,unit:"millisecond"})),qv(t.deviceMemory)&&e.setAttribute("deviceMemory",`${t.deviceMemory} GB`),qv(t.hardwareConcurrency)&&e.setAttribute("hardwareConcurrency",String(t.hardwareConcurrency))}function t9(e){js&&(li&&he.log("[Measurements] Adding LCP Data"),js.element&&e.setAttribute("lcp.element",qc(js.element)),js.id&&e.setAttribute("lcp.id",js.id),js.url&&e.setAttribute("lcp.url",js.url.trim().slice(0,200)),e.setAttribute("lcp.size",js.size)),Rd&&Rd.sources&&(li&&he.log("[Measurements] Adding CLS Data"),Rd.sources.forEach((t,n)=>e.setAttribute(`cls.source.${n+1}`,qc(t.node))))}function Wv(e,t,n,r){const i=t[n];i!=null&&i<F7&&(e[r]=i)}function n9(e){const t=Zf();if(!t)return;const{responseStart:n,requestStart:r}=t;r<=n&&(li&&he.log("[Measurements] Adding TTFB Request Time"),e["ttfb.requestTime"]={value:n-r,unit:"millisecond"})}const r9=1e3;let vk,u1,d1;function i9(e){const t="dom";Rl(t,e),Ml(t,s9)}function s9(){if(!Ge.document)return;const e=As.bind(null,"dom"),t=yk(e,!0);Ge.document.addEventListener("click",t,!1),Ge.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{const r=Ge[n]&&Ge[n].prototype;!r||!r.hasOwnProperty||!r.hasOwnProperty("addEventListener")||(cr(r,"addEventListener",function(i){return function(s,o,a){if(s==="click"||s=="keypress")try{const l=this,c=l.__sentry_instrumentation_handlers__=l.__sentry_instrumentation_handlers__||{},u=c[s]=c[s]||{refCount:0};if(!u.handler){const d=yk(e);u.handler=d,i.call(this,s,d,a)}u.refCount++}catch{}return i.call(this,s,o,a)}}),cr(r,"removeEventListener",function(i){return function(s,o,a){if(s==="click"||s=="keypress")try{const l=this,c=l.__sentry_instrumentation_handlers__||{},u=c[s];u&&(u.refCount--,u.refCount<=0&&(i.call(this,s,u.handler,a),u.handler=void 0,delete c[s]),Object.keys(c).length===0&&delete l.__sentry_instrumentation_handlers__)}catch{}return i.call(this,s,o,a)}}))})}function o9(e){if(e.type!==u1)return!1;try{if(!e.target||e.target._sentryId!==d1)return!1}catch{}return!0}function a9(e,t){return e!=="keypress"?!1:!t||!t.tagName?!0:!(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable)}function yk(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=l9(n);if(a9(n.type,r))return;Ui(n,"_sentryCaptured",!0),r&&!r._sentryId&&Ui(r,"_sentryId",on());const i=n.type==="keypress"?"input":n.type;o9(n)||(e({event:n,name:i,global:t}),u1=n.type,d1=r?r._sentryId:void 0),clearTimeout(vk),vk=Ge.setTimeout(()=>{d1=void 0,u1=void 0},r9)}}function l9(e){try{return e.target}catch{return null}}let Gh;function nS(e){const t="history";Rl(t,e),Ml(t,c9)}function c9(){if(!Q6())return;const e=Ge.onpopstate;Ge.onpopstate=function(...n){const r=Ge.location.href,i=Gh;if(Gh=r,As("history",{from:i,to:r}),e)try{return e.apply(this,n)}catch{}};function t(n){return function(...r){const i=r.length>2?r[2]:void 0;if(i){const s=Gh,o=String(i);Gh=o,As("history",{from:s,to:o})}return n.apply(this,r)}}cr(Ge.history,"pushState",t),cr(Ge.history,"replaceState",t)}const zp={};function u9(e){const t=zp[e];if(t)return t;let n=Ge[e];if(WA(n))return zp[e]=n.bind(Ge);const r=Ge.document;if(r&&typeof r.createElement=="function")try{const i=r.createElement("iframe");i.hidden=!0,r.head.appendChild(i);const s=i.contentWindow;s&&s[e]&&(n=s[e]),r.head.removeChild(i)}catch(i){li&&he.warn(`Could not create sandbox iframe for ${e} check, bailing to window.${e}: `,i)}return n&&(zp[e]=n.bind(Ge))}function Ak(e){zp[e]=void 0}const sc="__sentry_xhr_v3__";function ij(e){const t="xhr";Rl(t,e),Ml(t,d9)}function d9(){if(!Ge.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;cr(e,"open",function(t){return function(...n){const r=xr()*1e3,i=vo(n[0])?n[0].toUpperCase():void 0,s=f9(n[1]);if(!i||!s)return t.apply(this,n);this[sc]={method:i,url:s,request_headers:{}},i==="POST"&&s.match(/sentry_key/)&&(this.__sentry_own_request__=!0);const o=()=>{const a=this[sc];if(a&&this.readyState===4){try{a.status_code=this.status}catch{}const l={endTimestamp:xr()*1e3,startTimestamp:r,xhr:this};As("xhr",l)}};return"onreadystatechange"in this&&typeof this.onreadystatechange=="function"?cr(this,"onreadystatechange",function(a){return function(...l){return o(),a.apply(this,l)}}):this.addEventListener("readystatechange",o),cr(this,"setRequestHeader",function(a){return function(...l){const[c,u]=l,d=this[sc];return d&&vo(c)&&vo(u)&&(d.request_headers[c.toLowerCase()]=u),a.apply(this,l)}}),t.apply(this,n)}}),cr(e,"send",function(t){return function(...n){const r=this[sc];if(!r)return t.apply(this,n);n[0]!==void 0&&(r.body=n[0]);const i={startTimestamp:xr()*1e3,xhr:this};return As("xhr",i),t.apply(this,n)}})}function f9(e){if(vo(e))return e;try{return e.toString()}catch{}}const Kv=[],Up=new Map;function h9(){if(tS()&&Hi){const t=p9();return()=>{t()}}return()=>{}}const _k={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function p9(){return j7(({metric:e})=>{const t=Et();if(!t||e.value==null)return;const n=e.entries.find(b=>b.duration===e.value&&_k[b.name]);if(!n)return;const{interactionId:r}=n,i=_k[n.name],s=t.getOptions(),o=Dn(Hi+n.startTime),a=Dn(e.value),l=ln(),c=Xi(),u=c?qr(c):void 0,h=(r!=null?Up.get(r):void 0)||(u?xt(u).description:l.getScopeData().transactionName),p=l.getUser(),g=t.getIntegrationByName("Replay"),m=g&&g.getReplayId(),_=p!==void 0?p.email||p.id||p.ip_address:void 0;let v;try{v=l.getScopeData().contexts.profile.profile_id}catch{}const y=qc(n.target),S=Sr({release:s.release,environment:s.environment,transaction:h,[w5]:e.value,[Fn]:"auto.http.browser.inp",user:_||void 0,profile_id:v||void 0,replay_id:m||void 0}),x=qs({name:y,op:`ui.interaction.${i}`,attributes:S,startTime:o,experimental:{standalone:!0}});x.addEvent("inp",{[Wb]:"millisecond",[Kb]:e.value}),x.end(o+a)})}function g9(e){const t=({entries:n})=>{n.forEach(r=>{if(!$7(r)||!e.name)return;const i=r.interactionId;if(i!=null&&!Up.has(i)){if(Kv.length>10){const s=Kv.shift();Up.delete(s)}Kv.push(i),Up.set(i,e.name)}})};cf("event",t),cf("first-input",t)}function m9(e,t=u9("fetch")){let n=0,r=0;function i(s){const o=s.body.length;n+=o,r++;const a={body:s.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};if(!t)return Ak("fetch"),Tg("No fetch implementation available");try{return t(e.url,a).then(l=>(n-=o,r--,{statusCode:l.status,headers:{"x-sentry-rate-limits":l.headers.get("X-Sentry-Rate-Limits"),"retry-after":l.headers.get("Retry-After")}}))}catch(l){return Ak("fetch"),n-=o,r--,Tg(l)}}return Az(e,i)}const v9=30,y9=50;function f1(e,t,n,r){const i={filename:e,function:t==="<anonymous>"?pl:t,in_app:!0};return n!==void 0&&(i.lineno=n),r!==void 0&&(i.colno=r),i}const A9=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,_9=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,b9=/\((\S*)(?::(\d+))(?::(\d+))\)/,S9=e=>{const t=A9.exec(e);if(t){const[,r,i,s]=t;return f1(r,pl,+i,+s)}const n=_9.exec(e);if(n){if(n[2]&&n[2].indexOf("eval")===0){const o=b9.exec(n[2]);o&&(n[2]=o[1],n[3]=o[2],n[4]=o[3])}const[i,s]=sj(n[1]||pl,n[2]);return f1(s,i,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}},x9=[v9,S9],w9=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,E9=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,k9=e=>{const t=w9.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const s=E9.exec(t[3]);s&&(t[1]=t[1]||"eval",t[3]=s[1],t[4]=s[2],t[5]="")}let r=t[3],i=t[1]||pl;return[i,r]=sj(i,r),f1(r,i,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},C9=[y9,k9],T9=[x9,C9],I9=u5(...T9),sj=(e,t)=>{const n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:pl,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},qh=1024,R9="Breadcrumbs",M9=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:R9,setup(n){t.console&&h6(V9(n)),t.dom&&i9(O9(n,t.dom)),t.xhr&&ij(L9(n)),t.fetch&&h5(N9(n)),t.history&&nS(B9(n)),t.sentry&&n.on("beforeSendEvent",j9(n))}}},P9=M9;function j9(e){return function(n){Et()===e&&ml({category:`sentry.${n.type==="transaction"?"transaction":"event"}`,event_id:n.event_id,level:n.level,message:Uo(n)},{event:n})}}function O9(e,t){return function(r){if(Et()!==e)return;let i,s,o=typeof t=="object"?t.serializeAttribute:void 0,a=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;a&&a>qh&&(ur&&he.warn(`\`dom.maxStringLength\` cannot exceed ${qh}, but a value of ${a} was configured. Sentry will use ${qh} instead.`),a=qh),typeof o=="string"&&(o=[o]);try{const c=r.event,u=D9(c)?c.target:c;i=qc(u,{keyAttrs:o,maxStringLength:a}),s=i5(u)}catch{i="<unknown>"}if(i.length===0)return;const l={category:`ui.${r.name}`,message:i};s&&(l.data={"ui.component_name":s}),ml(l,{event:r.event,name:r.name,global:r.global})}}function V9(e){return function(n){if(Et()!==e)return;const r={category:"console",data:{arguments:n.args,logger:"console"},level:I6(n.level),message:P2(n.args," ")};if(n.level==="assert")if(n.args[0]===!1)r.message=`Assertion failed: ${P2(n.args.slice(1)," ")||"console.assert"}`,r.data.arguments=n.args.slice(1);else return;ml(r,{input:n.args,level:n.level})}}function L9(e){return function(n){if(Et()!==e)return;const{startTimestamp:r,endTimestamp:i}=n,s=n.xhr[sc];if(!r||!i||!s)return;const{method:o,url:a,status_code:l,body:c}=s,u={method:o,url:a,status_code:l},d={xhr:n.xhr,input:c,startTimestamp:r,endTimestamp:i};ml({category:"xhr",data:u,type:"http"},d)}}function N9(e){return function(n){if(Et()!==e)return;const{startTimestamp:r,endTimestamp:i}=n;if(i&&!(n.fetchData.url.match(/sentry_key/)&&n.fetchData.method==="POST"))if(n.error){const s=n.fetchData,o={data:n.error,input:n.args,startTimestamp:r,endTimestamp:i};ml({category:"fetch",data:s,level:"error",type:"http"},o)}else{const s=n.response,o={...n.fetchData,status_code:s&&s.status},a={input:n.args,response:s,startTimestamp:r,endTimestamp:i};ml({category:"fetch",data:o,type:"http"},a)}}}function B9(e){return function(n){if(Et()!==e)return;let r=n.from,i=n.to;const s=il(Be.location.href);let o=r?il(r):void 0;const a=il(i);(!o||!o.path)&&(o=s),s.protocol===a.protocol&&s.host===a.host&&(i=a.relative),s.protocol===o.protocol&&s.host===o.host&&(r=o.relative),ml({category:"navigation",data:{from:r,to:i}})}}function D9(e){return!!e&&!!e.target}const $9=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],F9="BrowserApiErrors",z9=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:F9,setupOnce(){t.setTimeout&&cr(Be,"setTimeout",bk),t.setInterval&&cr(Be,"setInterval",bk),t.requestAnimationFrame&&cr(Be,"requestAnimationFrame",H9),t.XMLHttpRequest&&"XMLHttpRequest"in Be&&cr(XMLHttpRequest.prototype,"send",G9);const n=t.eventTarget;n&&(Array.isArray(n)?n:$9).forEach(q9)}}},U9=z9;function bk(e){return function(...t){const n=t[0];return t[0]=Yc(n,{mechanism:{data:{function:bo(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function H9(e){return function(t){return e.apply(this,[Yc(t,{mechanism:{data:{function:"requestAnimationFrame",handler:bo(e)},handled:!1,type:"instrument"}})])}}function G9(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(i=>{i in n&&typeof n[i]=="function"&&cr(n,i,function(s){const o={mechanism:{data:{function:i,handler:bo(s)},handled:!1,type:"instrument"}},a=Ub(s);return a&&(o.mechanism.data.handler=bo(a)),Yc(s,o)})}),e.apply(this,t)}}function q9(e){const t=Be,n=t[e]&&t[e].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(cr(n,"addEventListener",function(r){return function(i,s,o){try{typeof s.handleEvent=="function"&&(s.handleEvent=Yc(s.handleEvent,{mechanism:{data:{function:"handleEvent",handler:bo(s),target:e},handled:!1,type:"instrument"}}))}catch{}return r.apply(this,[i,Yc(s,{mechanism:{data:{function:"addEventListener",handler:bo(s),target:e},handled:!1,type:"instrument"}}),o])}}),cr(n,"removeEventListener",function(r){return function(i,s,o){const a=s;try{const l=a&&a.__sentry_wrapped__;l&&r.call(this,i,l,o)}catch{}return r.call(this,i,a,o)}}))}const W9="GlobalHandlers",K9=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:W9,setupOnce(){Error.stackTraceLimit=50},setup(n){t.onerror&&(Q9(n),Sk("onerror")),t.onunhandledrejection&&(J9(n),Sk("onunhandledrejection"))}}},Y9=K9;function Q9(e){p5(t=>{const{stackParser:n,attachStacktrace:r}=oj();if(Et()!==e||K5())return;const{msg:i,url:s,line:o,column:a,error:l}=t,c=eU(Zb(n,l||i,void 0,r,!1),s,o,a);c.level="error",D5(c,{originalException:l,mechanism:{handled:!1,type:"onerror"}})})}function J9(e){g5(t=>{const{stackParser:n,attachStacktrace:r}=oj();if(Et()!==e||K5())return;const i=X9(t),s=Fb(i)?Z9(i):Zb(n,i,void 0,r,!0);s.level="error",D5(s,{originalException:i,mechanism:{handled:!1,type:"onunhandledrejection"}})})}function X9(e){if(Fb(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch{}return e}function Z9(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function eU(e,t,n,r){const i=e.exception=e.exception||{},s=i.values=i.values||[],o=s[0]=s[0]||{},a=o.stacktrace=o.stacktrace||{},l=a.frames=a.frames||[],c=isNaN(parseInt(r,10))?void 0:r,u=isNaN(parseInt(n,10))?void 0:n,d=vo(t)&&t.length>0?t:e6();return l.length===0&&l.push({colno:c,filename:d,function:pl,in_app:!0,lineno:u}),e}function Sk(e){ur&&he.log(`Global Handler attached: ${e}`)}function oj(){const e=Et();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const tU=()=>({name:"HttpContext",preprocessEvent(e){if(!Be.navigator&&!Be.location&&!Be.document)return;const t=e.request&&e.request.url||Be.location&&Be.location.href,{referrer:n}=Be.document||{},{userAgent:r}=Be.navigator||{},i={...e.request&&e.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},s={...e.request,...t&&{url:t},headers:i};e.request=s}}),nU="cause",rU=5,iU="LinkedErrors",sU=(e={})=>{const t=e.limit||rU,n=e.key||nU;return{name:iU,preprocessEvent(r,i,s){const o=s.getOptions();QF(Jb,o.stackParser,o.maxValueLength,n,t,r,i)}}},oU=sU;function aU(e){return[Cz(),xz(),U9(),P9(),Y9(),oU(),$z(),tU()]}function lU(e={}){return{...{defaultIntegrations:aU(),release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:Be.SENTRY_RELEASE&&Be.SENTRY_RELEASE.id?Be.SENTRY_RELEASE.id:void 0,autoSessionTracking:!0,sendClientReports:!0},...e}}function cU(){const e=Be,t=e.chrome?"chrome":"browser",n=e[t],r=n&&n.runtime&&n.runtime.id,i=Be.location&&Be.location.href||"",s=["chrome-extension:","moz-extension:","ms-browser-extension:"],o=!!r&&Be===Be.top&&s.some(a=>i.startsWith(`${a}//`));return!!r&&!o}function uU(e={}){const t=lU(e);if(cU()){Qf(()=>{console.error("[Sentry] You cannot run Sentry this way in a browser extension, check: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")});return}ur&&(d5()||he.warn("No Fetch API detected. The Sentry SDK requires a Fetch API compatible environment to send events. Please add a Fetch API polyfill."));const n={...t,stackParser:d6(t.stackParser||I9),integrations:dz(t),transport:t.transport||m9},r=mz(a7,n);return t.autoSessionTracking&&dU(),r}function xk(e={}){if(!Be.document){ur&&he.error("Global document not defined in showReportDialog call");return}const t=ln(),n=t.getClient(),r=n&&n.getDsn();if(!r){ur&&he.error("DSN not configured for showReportDialog call");return}if(t&&(e.user={...t.getUser(),...e.user}),!e.eventId){const a=iz();a&&(e.eventId=a)}const i=Be.document.createElement("script");i.async=!0,i.crossOrigin="anonymous",i.src=cz(r,e),e.onLoad&&(i.onload=e.onLoad);const{onClose:s}=e;if(s){const a=l=>{if(l.data==="__sentry_reportdialog_closed__")try{s()}finally{Be.removeEventListener("message",a)}};Be.addEventListener("message",a)}const o=Be.document.head||Be.document.body;o?o.appendChild(i):ur&&he.error("Not injecting report dialog. No injection point found in HTML")}function dU(){if(typeof Be.document>"u"){ur&&he.warn("Session tracking in non-browser environment with @sentry/browser is not supported.");return}ik({ignoreDuration:!0}),sk(),nS(({from:e,to:t})=>{e!==void 0&&e!==t&&(ik({ignoreDuration:!0}),sk())})}const h1={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0};function fU(e){const{traceFetch:t,traceXHR:n,shouldCreateSpanForRequest:r,enableHTTPTimings:i,tracePropagationTargets:s}={traceFetch:h1.traceFetch,traceXHR:h1.traceXHR,...e},o=typeof r=="function"?r:c=>!0,a=c=>mU(c,s),l={};t&&h5(c=>{const u=Hz(c,o,a,l);if(u){const d=aj(c.fetchData.url),h=d?il(d).host:void 0;u.setAttributes({"http.url":d,"server.address":h})}i&&u&&wk(u)}),n&&ij(c=>{const u=vU(c,o,a,l);i&&u&&wk(u)})}function hU(e){return e.entryType==="resource"&&"initiatorType"in e&&typeof e.nextHopProtocol=="string"&&(e.initiatorType==="fetch"||e.initiatorType==="xmlhttprequest")}function wk(e){const{url:t}=xt(e).data||{};if(!t||typeof t!="string")return;const n=cf("resource",({entries:r})=>{r.forEach(i=>{hU(i)&&i.name.endsWith(t)&&(gU(i).forEach(o=>e.setAttribute(...o)),setTimeout(n))})})}function pU(e){let t="unknown",n="unknown",r="";for(const i of e){if(i==="/"){[t,n]=e.split("/");break}if(!isNaN(Number(i))){t=r==="h"?"http":r,n=e.split(r)[1];break}r+=i}return r===e&&(t=r),{name:t,version:n}}function Is(e=0){return((Hi||performance.timeOrigin)+e)/1e3}function gU(e){const{name:t,version:n}=pU(e.nextHopProtocol),r=[];return r.push(["network.protocol.version",n],["network.protocol.name",t]),Hi?[...r,["http.request.redirect_start",Is(e.redirectStart)],["http.request.fetch_start",Is(e.fetchStart)],["http.request.domain_lookup_start",Is(e.domainLookupStart)],["http.request.domain_lookup_end",Is(e.domainLookupEnd)],["http.request.connect_start",Is(e.connectStart)],["http.request.secure_connection_start",Is(e.secureConnectionStart)],["http.request.connection_end",Is(e.connectEnd)],["http.request.request_start",Is(e.requestStart)],["http.request.response_start",Is(e.responseStart)],["http.request.response_end",Is(e.responseEnd)]]:r}function mU(e,t){const n=Be.location&&Be.location.href;if(n){let r,i;try{r=new URL(e,n),i=new URL(n).origin}catch{return!1}const s=r.origin===i;return t?nl(r.toString(),t)||s&&nl(r.pathname,t):s}else{const r=!!e.match(/^\/(?!\/)/);return t?nl(e,t):r}}function vU(e,t,n,r){const i=e.xhr,s=i&&i[sc];if(!i||i.__sentry_own_request__||!s)return;const o=va()&&t(s.url);if(e.endTimestamp&&o){const h=i.__sentry_xhr_span_id__;if(!h)return;const p=r[h];p&&s.status_code!==void 0&&(k5(p,s.status_code),p.end(),delete r[h]);return}const a=aj(s.url),l=a?il(a).host:void 0,c=!!Xi(),u=o&&c?qs({name:`${s.method} ${s.url}`,attributes:{type:"xhr","http.method":s.method,"http.url":a,url:s.url,"server.address":l,[Fn]:"auto.http.browser",[af]:"http.client"}}):new Au;i.__sentry_xhr_span_id__=u.spanContext().spanId,r[i.__sentry_xhr_span_id__]=u;const d=Et();return i.setRequestHeader&&n(s.url)&&d&&yU(i,d,va()&&c?u:void 0),u}function yU(e,t,n){const r=ln(),i=Ji(),{traceId:s,spanId:o,sampled:a,dsc:l}={...i.getPropagationContext(),...r.getPropagationContext()},c=n&&va()?I5(n):Hb(s,o,a),u=b5(l||(n?jl(n):Hm(s,t)));AU(e,c,u)}function AU(e,t,n){try{e.setRequestHeader("sentry-trace",t),n&&e.setRequestHeader(JA,n)}catch{}}function aj(e){try{return new URL(e,Be.location.origin).href}catch{return}}function _U(){Be&&Be.document?Be.document.addEventListener("visibilitychange",()=>{const e=Xi();if(!e)return;const t=qr(e);if(Be.document.hidden&&t){const n="cancelled",{op:r,status:i}=xt(t);ur&&he.log(`[Tracing] Transaction: ${n} -> since tab moved to the background, op: ${r}`),i||t.setStatus({code:qn,message:n}),t.setAttribute("sentry.cancellation_reason","document.hidden"),t.end()}}):ur&&he.warn("[Tracing] Could not set up background tab detection due to lack of global document")}const bU="BrowserTracing",SU={...Fp,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableInp:!0,_experiments:{},...h1},xU=(e={})=>{v8();const{enableInp:t,enableLongTask:n,_experiments:{enableInteractions:r},beforeStartSpan:i,idleTimeout:s,finalTimeout:o,childSpanTimeout:a,markBackgroundSpan:l,traceFetch:c,traceXHR:u,shouldCreateSpanForRequest:d,enableHTTPTimings:h,instrumentPageLoad:p,instrumentNavigation:g}={...SU,...e},m=z7();t&&h9(),n&&U7(),r&&H7();const _={name:void 0,source:void 0};function v(y,S){const x=S.op==="pageload",b=i?i(S):S,w=b.attributes||{};S.name!==b.name&&(w[Zo]="custom",b.attributes=w),_.name=b.name,_.source=w[Zo];const E=B5(b,{idleTimeout:s,finalTimeout:o,childSpanTimeout:a,disableAutoFinish:x,beforeSpanEnd:$=>{m(),Y7($)}});function T(){["interactive","complete"].includes(Be.document.readyState)&&y.emit("idleSpanEnableAutoFinish",E)}return x&&Be.document&&(Be.document.addEventListener("readystatechange",()=>{T()}),T()),E}return{name:bU,afterAllSetup(y){let S,x=Be.location&&Be.location.href;y.on("startNavigationSpan",b=>{Et()===y&&(S&&(ur&&he.log(`[Tracing] Finishing current root span with op: ${xt(S).op}`),S.end()),S=v(y,{op:"navigation",...b}))}),y.on("startPageLoadSpan",(b,w={})=>{if(Et()!==y)return;S&&(ur&&he.log(`[Tracing] Finishing current root span with op: ${xt(S).op}`),S.end());const E=w.sentryTrace||Ek("sentry-trace"),T=w.baggage||Ek("baggage"),$=L6(E,T);ln().setPropagationContext($),S=v(y,{op:"pageload",...b})}),y.on("spanEnd",b=>{const w=xt(b).op;if(b!==qr(b)||w!=="navigation"&&w!=="pageload")return;const E=ln(),T=E.getPropagationContext();E.setPropagationContext({...T,sampled:T.sampled!==void 0?T.sampled:Pl(b),dsc:T.dsc||jl(b)})}),Be.location&&(p&&wU(y,{name:Be.location.pathname,startTime:Hi?Hi/1e3:void 0,attributes:{[Zo]:"url",[Fn]:"auto.pageload.browser"}}),g&&nS(({to:b,from:w})=>{if(w===void 0&&x&&x.indexOf(b)!==-1){x=void 0;return}w!==b&&(x=void 0,EU(y,{name:Be.location.pathname,attributes:{[Zo]:"url",[Fn]:"auto.navigation.browser"}}))})),l&&_U(),r&&kU(s,o,a,_),t&&g9(_),fU({traceFetch:c,traceXHR:u,tracePropagationTargets:y.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:d,enableHTTPTimings:h})}}};function wU(e,t,n){e.emit("startPageLoadSpan",t,n),ln().setTransactionName(t.name);const r=Xi();return(r&&xt(r).op)==="pageload"?r:void 0}function EU(e,t){Ji().setPropagationContext(Ig()),ln().setPropagationContext(Ig()),e.emit("startNavigationSpan",t),ln().setTransactionName(t.name);const n=Xi();return(n&&xt(n).op)==="navigation"?n:void 0}function Ek(e){const t=t6(`meta[name=${e}]`);return t?t.getAttribute("content"):void 0}function kU(e,t,n,r){let i;const s=()=>{const o="ui.action.click",a=Xi(),l=a&&qr(a);if(l){const c=xt(l).op;if(["navigation","pageload"].includes(c)){ur&&he.warn(`[Tracing] Did not create ${o} span because a pageload or navigation span is in progress.`);return}}if(i&&(i.setAttribute(t1,"interactionInterrupted"),i.end(),i=void 0),!r.name){ur&&he.warn(`[Tracing] Did not create ${o} transaction because _latestRouteName is missing.`);return}i=B5({name:r.name,op:o,attributes:{[Zo]:r.source||"url"}},{idleTimeout:e,finalTimeout:t,childSpanTimeout:n})};Be.document&&addEventListener("click",s,{once:!1,capture:!0})}function CU(e){const t={...e};return G5(t,"react"),nz("react",{version:A.version}),uU(t)}function TU(e){const t=e.match(/^([^.]+)/);return t!==null&&parseInt(t[0])>=17}function IU(e,t){const n=new WeakSet;function r(i,s){if(!n.has(i)){if(i.cause)return n.add(i),r(i.cause,s);i.cause=s}}r(e,t)}function RU(e,{componentStack:t},n){if(TU(A.version)&&$m(e)&&t){const r=new Error(e.message);r.name=`React ErrorBoundary ${e.name}`,r.stack=t,IU(e,r)}return Js(e,{...n,captureContext:{contexts:{react:{componentStack:t}}}})}var lj={exports:{}},kt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tr=typeof Symbol=="function"&&Symbol.for,rS=tr?Symbol.for("react.element"):60103,iS=tr?Symbol.for("react.portal"):60106,Km=tr?Symbol.for("react.fragment"):60107,Ym=tr?Symbol.for("react.strict_mode"):60108,Qm=tr?Symbol.for("react.profiler"):60114,Jm=tr?Symbol.for("react.provider"):60109,Xm=tr?Symbol.for("react.context"):60110,sS=tr?Symbol.for("react.async_mode"):60111,Zm=tr?Symbol.for("react.concurrent_mode"):60111,e0=tr?Symbol.for("react.forward_ref"):60112,t0=tr?Symbol.for("react.suspense"):60113,MU=tr?Symbol.for("react.suspense_list"):60120,n0=tr?Symbol.for("react.memo"):60115,r0=tr?Symbol.for("react.lazy"):60116,PU=tr?Symbol.for("react.block"):60121,jU=tr?Symbol.for("react.fundamental"):60117,OU=tr?Symbol.for("react.responder"):60118,VU=tr?Symbol.for("react.scope"):60119;function _i(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case rS:switch(e=e.type,e){case sS:case Zm:case Km:case Qm:case Ym:case t0:return e;default:switch(e=e&&e.$$typeof,e){case Xm:case e0:case r0:case n0:case Jm:return e;default:return t}}case iS:return t}}}function cj(e){return _i(e)===Zm}kt.AsyncMode=sS;kt.ConcurrentMode=Zm;kt.ContextConsumer=Xm;kt.ContextProvider=Jm;kt.Element=rS;kt.ForwardRef=e0;kt.Fragment=Km;kt.Lazy=r0;kt.Memo=n0;kt.Portal=iS;kt.Profiler=Qm;kt.StrictMode=Ym;kt.Suspense=t0;kt.isAsyncMode=function(e){return cj(e)||_i(e)===sS};kt.isConcurrentMode=cj;kt.isContextConsumer=function(e){return _i(e)===Xm};kt.isContextProvider=function(e){return _i(e)===Jm};kt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===rS};kt.isForwardRef=function(e){return _i(e)===e0};kt.isFragment=function(e){return _i(e)===Km};kt.isLazy=function(e){return _i(e)===r0};kt.isMemo=function(e){return _i(e)===n0};kt.isPortal=function(e){return _i(e)===iS};kt.isProfiler=function(e){return _i(e)===Qm};kt.isStrictMode=function(e){return _i(e)===Ym};kt.isSuspense=function(e){return _i(e)===t0};kt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Km||e===Zm||e===Qm||e===Ym||e===t0||e===MU||typeof e=="object"&&e!==null&&(e.$$typeof===r0||e.$$typeof===n0||e.$$typeof===Jm||e.$$typeof===Xm||e.$$typeof===e0||e.$$typeof===jU||e.$$typeof===OU||e.$$typeof===VU||e.$$typeof===PU)};kt.typeOf=_i;lj.exports=kt;var LU=lj.exports,oS=LU,NU={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},BU={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},DU={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},uj={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},aS={};aS[oS.ForwardRef]=DU;aS[oS.Memo]=uj;function kk(e){return oS.isMemo(e)?uj:aS[e.$$typeof]||NU}var $U=Object.defineProperty,FU=Object.getOwnPropertyNames,Ck=Object.getOwnPropertySymbols,zU=Object.getOwnPropertyDescriptor,UU=Object.getPrototypeOf,Tk=Object.prototype;function dj(e,t,n){if(typeof t!="string"){if(Tk){var r=UU(t);r&&r!==Tk&&dj(e,r,n)}var i=FU(t);Ck&&(i=i.concat(Ck(t)));for(var s=kk(e),o=kk(t),a=0;a<i.length;++a){var l=i[a];if(!BU[l]&&!(n&&n[l])&&!(o&&o[l])&&!(s&&s[l])){var c=zU(t,l);try{$U(e,l,c)}catch{}}}}return e}var HU=dj;const GU=hr(HU),qU="ui.react.render",WU="ui.react.update",KU="ui.react.mount",YU="unknown";class fj extends A.Component{static __initStatic(){this.defaultProps={disabled:!1,includeRender:!0,includeUpdates:!0}}constructor(t){super(t);const{name:n,disabled:r=!1}=this.props;r||(this._mountSpan=qs({name:`<${n}>`,onlyIfParent:!0,op:KU,attributes:{[Fn]:"auto.ui.react.profiler","ui.component_name":n}}))}componentDidMount(){this._mountSpan&&this._mountSpan.end()}shouldComponentUpdate({updateProps:t,includeUpdates:n=!0}){if(n&&this._mountSpan&&t!==this.props.updateProps){const r=Object.keys(t).filter(i=>t[i]!==this.props.updateProps[i]);if(r.length>0){const i=xr();this._updateSpan=Mg(this._mountSpan,()=>qs({name:`<${this.props.name}>`,onlyIfParent:!0,op:WU,startTime:i,attributes:{[Fn]:"auto.ui.react.profiler","ui.component_name":this.props.name,"ui.react.changed_props":r}}))}}return!0}componentDidUpdate(){this._updateSpan&&(this._updateSpan.end(),this._updateSpan=void 0)}componentWillUnmount(){const t=xr(),{name:n,includeRender:r=!0}=this.props;if(this._mountSpan&&r){const i=xt(this._mountSpan).timestamp;Mg(this._mountSpan,()=>{const s=qs({onlyIfParent:!0,name:`<${n}>`,op:qU,startTime:i,attributes:{[Fn]:"auto.ui.react.profiler","ui.component_name":n}});s&&s.end(t)})}}render(){return this.props.children}}fj.__initStatic();function QU(e,t){const n=t&&t.name||e.displayName||e.name||YU,r=i=>A.createElement(fj,{...t,name:n,updateProps:i},A.createElement(e,{...i}));return r.displayName=`profiler(${n})`,GU(r,e),r}const JU=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Ik={componentStack:null,error:null,eventId:null};class lS extends A.Component{constructor(t){super(t),lS.prototype.__init.call(this),this.state=Ik,this._openFallbackReportDialog=!0;const n=Et();n&&t.showDialog&&(this._openFallbackReportDialog=!1,n.on("afterSendEvent",r=>{!r.type&&this._lastEventId&&r.event_id===this._lastEventId&&xk({...t.dialogOptions,eventId:this._lastEventId})}))}componentDidCatch(t,n){const{componentStack:r}=n,i=r??void 0,{beforeCapture:s,onError:o,showDialog:a,dialogOptions:l}=this.props;Um(c=>{s&&s(c,t,i);const u=RU(t,n,{mechanism:{handled:!!this.props.fallback}});o&&o(t,i,u),a&&(this._lastEventId=u,this._openFallbackReportDialog&&xk({...l,eventId:u})),this.setState({error:t,componentStack:r,eventId:u})})}componentDidMount(){const{onMount:t}=this.props;t&&t()}componentWillUnmount(){const{error:t,componentStack:n,eventId:r}=this.state,{onUnmount:i}=this.props;i&&i(t,n,r)}__init(){this.resetErrorBoundary=()=>{const{onReset:t}=this.props,{error:n,componentStack:r,eventId:i}=this.state;t&&t(n,r,i),this.setState(Ik)}}render(){const{fallback:t,children:n}=this.props,r=this.state;if(r.error){let i;return typeof t=="function"?i=A.createElement(t,{error:r.error,componentStack:r.componentStack,resetError:this.resetErrorBoundary,eventId:r.eventId}):i=t,A.isValidElement(i)?i:(t&&JU&&he.warn("fallback did not produce a valid ReactElement"),null)}return typeof n=="function"?n():n}}const XU="modulepreload",ZU=function(e){return"/"+e},Rk={},xu=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){const s=document.getElementsByTagName("link"),o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.all(n.map(l=>{if(l=ZU(l),l in Rk)return;Rk[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(!!r)for(let p=s.length-1;p>=0;p--){const g=s[p];if(g.href===l&&(!c||g.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${l}"]${u}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":XU,c||(h.as="script",h.crossOrigin=""),h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),c)return new Promise((p,g)=>{h.addEventListener("load",p),h.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}return i.then(()=>t()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};class hj{constructor(){this.init=async(t,n)=>{const r=await xu(()=>import("./aubio-BXVQmmIs.js"),[]),{Pitch:i}=await r.default();this.detector=new i("default",n,n/8,t.sampleRate),this.detector.setTolerance(.5)},this.getFrequency=async t=>this.detector.do(t)}getSampleSize(){return 2048}}class eH extends Mo{constructor(){super(...arguments),this.status="uninitialised",this.getUserMedia=async(...t)=>this.requestAndTrack(()=>navigator.mediaDevices.getUserMedia(...t)),this.enumerateDevices=async(...t)=>this.requestAndTrack(()=>navigator.mediaDevices.enumerateDevices(...t)),this.requestAndTrack=async t=>{try{this.status!=="accepted"&&this.setStatus("requested");const n=await t();return this.setStatus("accepted"),n}catch(n){throw this.setStatus("declined"),n}},this.setStatus=t=>{this.status=t,this.onUpdate(t)},this.getStatus=()=>this.status}}const aa=new eH;let pj=class{constructor(){this.stream=null,this.context=null,this.interval=null,this.frequencies=[0,0],this.volumes=[0,0],this.startedMonitoring=!1,this.startMonitoring=async(t,n=!1)=>{if(!this.startedMonitoring){this.startedMonitoring=!0;try{this.stream=await aa.getUserMedia({audio:{...t?{deviceId:t,exact:!0}:{},echoCancellation:n},video:!1});try{this.context=new AudioContext;const r=this.context.createMediaStreamSource(this.stream),i=this.context.createChannelSplitter(2);r.connect(i);const s=this.context.createAnalyser();s.fftSize=2048,s.minDecibels=-100;const o=this.context.createAnalyser();o.fftSize=2048,o.minDecibels=-100,i.connect(s,0),i.connect(o,1);const a=new hj;await a.init(this.context,s.fftSize),this.interval=setInterval(async()=>{const l=new Float32Array(s.fftSize),c=new Float32Array(o.fftSize);s.getFloatTimeDomainData(l),o.getFloatTimeDomainData(c),this.frequencies=await Promise.all([a.getFrequency(l),a.getFrequency(c)]),this.volumes=[this.calculateVolume(l),this.calculateVolume(c)]},this.context.sampleRate/s.fftSize),ee.micMonitoringStarted.dispatch()}catch(r){Js(r),console.error(r)}}catch(r){Js(r,{level:"warning"}),console.warn(r)}}},this.getFrequencies=()=>this.frequencies,this.getVolumes=()=>this.volumes,this.clearFrequencies=t=>{},this.stopMonitoring=async()=>{var t,n;if(this.startedMonitoring){this.startedMonitoring=!1,this.interval&&clearInterval(this.interval),(t=this.stream)==null||t.getTracks().forEach(function(r){r.stop()});try{await((n=this.context)==null?void 0:n.close())}catch(r){console.log("MicInput.stoMonitoring error",r)}ee.micMonitoringStopped.dispatch()}},this.getInputLag=()=>180,this.requestReadiness=()=>Promise.resolve(!0),this.getStatus=()=>"ok"}calculateVolume(t){let n,r=0;for(n=0;n<t.length;++n)r+=t[n]*t[n];return Math.sqrt(r/t.length)}};new pj;class tH{constructor(){this.devices={},this.startMonitoring=async(t,n=!1)=>{t&&(this.devices[t]||(this.devices[t]=new pj),await this.devices[t].startMonitoring(t,n))},this.getFrequencies=t=>t&&this.devices[t]?this.devices[t].getFrequencies():[0,0],this.getVolumes=t=>t&&this.devices[t]?this.devices[t].getVolumes():[0,0],this.clearFrequencies=t=>{if(t&&this.devices[t])return this.devices[t].clearFrequencies(t)},this.stopMonitoring=async()=>{Object.values(this.devices).forEach(t=>t.stopMonitoring())},this.getInputLag=t=>t&&this.devices[t]?this.devices[t].getInputLag():180,this.requestReadiness=async t=>t&&this.devices[t]?this.devices[t].requestReadiness():!0,this.getStatus=t=>t&&this.devices[t]?this.devices[t].getStatus():"ok"}}const nH=new tH;class rH{constructor(){this.frequencies=[0],this.volumes=[1],this.startMonitoring=async t=>{var n;return(n=Ze.getRemoteMicById(t??""))==null?void 0:n.getInput().startMonitoring()},this.getFrequencies=t=>{var r;return((r=Ze.getRemoteMicById(t??""))==null?void 0:r.getInput().getFrequencies())??this.frequencies},this.clearFrequencies=t=>{var n;(n=Ze.getRemoteMicById(t??""))==null||n.getInput().clearFrequencies()},this.getVolumes=t=>{var r;return((r=Ze.getRemoteMicById(t??""))==null?void 0:r.getInput().getVolumes())??this.volumes},this.stopMonitoring=async t=>{var n;return(n=Ze.getRemoteMicById(t??""))==null?void 0:n.getInput().stopMonitoring()},this.requestReadiness=t=>{var n;return((n=Ze.getRemoteMicById(t??""))==null?void 0:n.getInput().requestReadiness())??Promise.resolve(!0)},this.getInputLag=t=>{var n;return((n=Ze.getRemoteMicById(t??""))==null?void 0:n.getInput().getInputLag())??0},this.getStatus=t=>{const n=Ze.getRemoteMicById(t??"");return!n||n.getLatency()>1500?"unavailable":n.getLatency()>500?"unstable":"ok"}}}const iH=new rH;function ws(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var gj=typeof global=="object"&&global&&global.Object===Object&&global,sH=typeof self=="object"&&self&&self.Object===Object&&self,ks=gj||sH||Function("return this")(),Yv=function(){return ks.Date.now()},oH=/\s/;function aH(e){for(var t=e.length;t--&&oH.test(e.charAt(t)););return t}var lH=/^\s+/;function cH(e){return e&&e.slice(0,aH(e)+1).replace(lH,"")}var Gi=ks.Symbol,mj=Object.prototype,uH=mj.hasOwnProperty,dH=mj.toString,Hu=Gi?Gi.toStringTag:void 0;function fH(e){var t=uH.call(e,Hu),n=e[Hu];try{e[Hu]=void 0;var r=!0}catch{}var i=dH.call(e);return r&&(t?e[Hu]=n:delete e[Hu]),i}var hH=Object.prototype,pH=hH.toString;function gH(e){return pH.call(e)}var mH="[object Null]",vH="[object Undefined]",Mk=Gi?Gi.toStringTag:void 0;function Vl(e){return e==null?e===void 0?vH:mH:Mk&&Mk in Object(e)?fH(e):gH(e)}function So(e){return e!=null&&typeof e=="object"}var yH="[object Symbol]";function i0(e){return typeof e=="symbol"||So(e)&&Vl(e)==yH}var Pk=NaN,AH=/^[-+]0x[0-9a-f]+$/i,_H=/^0b[01]+$/i,bH=/^0o[0-7]+$/i,SH=parseInt;function p1(e){if(typeof e=="number")return e;if(i0(e))return Pk;if(ws(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=ws(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=cH(e);var n=_H.test(e);return n||bH.test(e)?SH(e.slice(2),n?2:8):AH.test(e)?Pk:+e}var xH="Expected a function",wH=Math.max,EH=Math.min;function vj(e,t,n){var r,i,s,o,a,l,c=0,u=!1,d=!1,h=!0;if(typeof e!="function")throw new TypeError(xH);t=p1(t)||0,ws(n)&&(u=!!n.leading,d="maxWait"in n,s=d?wH(p1(n.maxWait)||0,t):s,h="trailing"in n?!!n.trailing:h);function p(w){var E=r,T=i;return r=i=void 0,c=w,o=e.apply(T,E),o}function g(w){return c=w,a=setTimeout(v,t),u?p(w):o}function m(w){var E=w-l,T=w-c,$=t-E;return d?EH($,s-T):$}function _(w){var E=w-l,T=w-c;return l===void 0||E>=t||E<0||d&&T>=s}function v(){var w=Yv();if(_(w))return y(w);a=setTimeout(v,m(w))}function y(w){return a=void 0,h&&r?p(w):(r=i=void 0,o)}function S(){a!==void 0&&clearTimeout(a),c=0,r=l=i=a=void 0}function x(){return a===void 0?o:y(Yv())}function b(){var w=Yv(),E=_(w);if(r=arguments,i=this,l=w,E){if(a===void 0)return g(l);if(d)return clearTimeout(a),a=setTimeout(v,t),p(l)}return a===void 0&&(a=setTimeout(v,t)),o}return b.cancel=S,b.flush=x,b}const Mr={DUEL:"DUEL",PASS_THE_MIC:"PASS_THE_MIC",CO_OP:"CO_OP"},Md=["freestyle","rap"],yj=[],Aj=440,_j=69,cS=20;var kH="[object AsyncFunction]",CH="[object Function]",TH="[object GeneratorFunction]",IH="[object Proxy]";function bj(e){if(!ws(e))return!1;var t=Vl(e);return t==CH||t==TH||t==kH||t==IH}var Qv=ks["__core-js_shared__"],jk=function(){var e=/[^.]+$/.exec(Qv&&Qv.keys&&Qv.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function RH(e){return!!jk&&jk in e}var MH=Function.prototype,PH=MH.toString;function Ll(e){if(e!=null){try{return PH.call(e)}catch{}try{return e+""}catch{}}return""}var jH=/[\\^$.*+?()[\]{}|]/g,OH=/^\[object .+?Constructor\]$/,VH=Function.prototype,LH=Object.prototype,NH=VH.toString,BH=LH.hasOwnProperty,DH=RegExp("^"+NH.call(BH).replace(jH,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function $H(e){if(!ws(e)||RH(e))return!1;var t=bj(e)?DH:OH;return t.test(Ll(e))}function FH(e,t){return e==null?void 0:e[t]}function Nl(e,t){var n=FH(e,t);return $H(n)?n:void 0}var uf=Nl(Object,"create");function zH(){this.__data__=uf?uf(null):{},this.size=0}function UH(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var HH="__lodash_hash_undefined__",GH=Object.prototype,qH=GH.hasOwnProperty;function WH(e){var t=this.__data__;if(uf){var n=t[e];return n===HH?void 0:n}return qH.call(t,e)?t[e]:void 0}var KH=Object.prototype,YH=KH.hasOwnProperty;function QH(e){var t=this.__data__;return uf?t[e]!==void 0:YH.call(t,e)}var JH="__lodash_hash_undefined__";function XH(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=uf&&t===void 0?JH:t,this}function vl(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}vl.prototype.clear=zH;vl.prototype.delete=UH;vl.prototype.get=WH;vl.prototype.has=QH;vl.prototype.set=XH;function ZH(){this.__data__=[],this.size=0}function s0(e,t){return e===t||e!==e&&t!==t}function o0(e,t){for(var n=e.length;n--;)if(s0(e[n][0],t))return n;return-1}var eG=Array.prototype,tG=eG.splice;function nG(e){var t=this.__data__,n=o0(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():tG.call(t,n,1),--this.size,!0}function rG(e){var t=this.__data__,n=o0(t,e);return n<0?void 0:t[n][1]}function iG(e){return o0(this.__data__,e)>-1}function sG(e,t){var n=this.__data__,r=o0(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function Po(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Po.prototype.clear=ZH;Po.prototype.delete=nG;Po.prototype.get=rG;Po.prototype.has=iG;Po.prototype.set=sG;var df=Nl(ks,"Map");function oG(){this.size=0,this.__data__={hash:new vl,map:new(df||Po),string:new vl}}function aG(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function a0(e,t){var n=e.__data__;return aG(t)?n[typeof t=="string"?"string":"hash"]:n.map}function lG(e){var t=a0(this,e).delete(e);return this.size-=t?1:0,t}function cG(e){return a0(this,e).get(e)}function uG(e){return a0(this,e).has(e)}function dG(e,t){var n=a0(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function jo(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}jo.prototype.clear=oG;jo.prototype.delete=lG;jo.prototype.get=cG;jo.prototype.has=uG;jo.prototype.set=dG;var fG="Expected a function";function l0(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(fG);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=e.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(l0.Cache||jo),n}l0.Cache=jo;function Vg(e){return Md.includes(e.note.type)?0:e.distance}function Mt(e){return(e==null?void 0:e.type)==="notes"&&!!e.notes.length}const hG=35e5,La={freestyle:.25,rap:.25,rapstar:.5,star:2,normal:1,perfect:.5,vibrato:.25},Ok=e=>({freestyle:e.freestyle*La.freestyle,rap:e.rap*La.rap,rapstar:e.rapstar*La.rapstar,star:e.star*La.star,normal:e.normal*La.normal,perfect:e.perfect*La.perfect,vibrato:e.vibrato*La.vibrato}),uS=e=>e.freestyle+e.rap+e.star+e.normal+e.perfect+e.vibrato,Wh=(e,t)=>({freestyle:e.freestyle*t,rap:e.rap*t,rapstar:e.rapstar*t,star:e.star*t,normal:e.normal*t,perfect:e.perfect*t,vibrato:e.vibrato*t}),Vk=(e,t)=>({freestyle:e.freestyle+t.freestyle,rap:e.rap+t.rap,rapstar:e.rapstar+t.rapstar,star:e.star+t.star,normal:e.normal+t.normal,perfect:e.perfect+t.perfect,vibrato:e.vibrato+t.vibrato}),Lk=(e,t)=>({freestyle:e.freestyle/t,rap:e.rap/t,rapstar:e.rapstar/t,star:e.star/t,normal:e.normal/t,perfect:e.perfect/t,vibrato:e.vibrato/t}),Nk=l0(e=>e.tracks.map(({sections:t})=>{const n={freestyle:0,rap:0,rapstar:0,star:0,normal:0,perfect:0,vibrato:0};return t.filter(Mt).forEach(r=>{r.notes.filter(s=>!yj.includes(s.type)).forEach(s=>{n[s.type]=n[s.type]+s.length,n.perfect=n.perfect+s.length,n.vibrato=n.vibrato+s.length})}),n}));function Sj(e,t,n){const r=Nk(t),i={freestyle:0,rap:0,rapstar:0,star:0,normal:0,perfect:0,vibrato:0};if(!r[n])return console.error(`No beat count for track ${n} in song`,t),[0,i,i];const s=Ok(Nk(t)[n]),o=hG/uS(s);for(let a=0;a<e.length;a++){const l=e[a];yj.includes(l.note.type)||Vg(l)===0&&(i[l.note.type]=i[l.note.type]+l.length,l.isPerfect&&(i.perfect=i.perfect+l.length),l.vibrato&&(i.vibrato=i.vibrato+l.length))}return[o,Ok(i),s]}function pG(e,t,n){const[r,i]=Sj(e,t,n);return uS(i)*r}function gG(e,t,n,r=!0){const i=(e-n)/t;return r?Math.floor(i):i}function mG(e){return Aj*Math.pow(2,(e-_j)/12)}const vG=e=>Math.round(12*(Math.log(e/Aj)/Math.log(2)))+_j,yG=(e,t)=>Math.floor(1200*Math.log(t/e)/Math.log(2)),AG=(e,t,n)=>{const r=mG(e),i=yG(r,t);return Math.sign(i)*((Math.abs(i)%1200+600)%1200-600)/(n*100+50)},_G=(e,t,n)=>{const r=(e%12-t%12+18)%12-6;return Math.abs(r)<=n?0:r},bG=(e,t)=>{const n=Le.getTolerance(),r=vG(e);let i=-1;const s=_G(r,t,n);return s===0&&(i=AG(t,e,n)),{distance:s,preciseDistance:i}},Bk=6;function SG(e){const t=[];for(let r=1;r<e.length;r++){if(Math.round(e[r].frequency/2)===Math.round(e[r-1].frequency/2))continue;const i=e[r].frequency>e[r-1].frequency?">":"<";if(t.length===0)t.push({...e[r],interval:e[r].timestamp-e[r-1].timestamp,change:i});else{const s=t.at(-1);s.change!==i&&t.push({...e[r],interval:e[r].timestamp-s.timestamp,change:i})}}const n=t;for(let r=0;r<n.length-Bk;r++){const s=n.slice(r,r+Bk-1).map(c=>c.interval),o=Math.max(...s),a=Math.min(...s),l=s.reduce((c,u)=>c+u,0)/s.length;if(o<l*1.75&&a>l/1.75)return!0}return!1}const xG=100;function wG(e,t,n,r){if(t.frequency===0)return;const i={...t,beat:Math.max(0,t.timestamp)/r,...bG(t.frequency,n.pitch)},s=e.at(-1),o=xG/r,a=n.start+n.length,l=!s||s.note.start!==n.start,c=!s||s.distance!==i.distance&&!Md.includes(n.type);if(l||c||i.beat-(s.start+s.length)>o){const u=i.beat-o<n.start?n.start:i.beat;if(e.push({start:Math.min(l?u:i.beat,a),length:0,distance:i.distance,note:n,isPerfect:!1,vibrato:!1,frequencyRecords:[{frequency:i.frequency,preciseDistance:i.preciseDistance,timestamp:i.timestamp}]}),s&&n.start!==s.note.start){const d=s.start+s.length,h=s.note.start+s.note.length,p=d+o>h?h:d;s.length=Math.max(0,p-s.start)}}else s.length=Math.max(0,Math.min(i.beat,n.start+n.length)-s.start),s.frequencyRecords.push({frequency:i.frequency,timestamp:i.timestamp,preciseDistance:i.preciseDistance}),s.isPerfect=s.distance===0&&Math.abs(s.length-s.note.length)<.5,s.vibrato=s.distance===0&&SG(s.frequencyRecords)}const EG=e=>e.notes[0],ya=e=>{const t=e.find(Mt);return t?EG(t).start:1/0},ff=e=>{const n=e.filter(Mt).at(-1);return n?hf(n):0},hf=e=>{const t=e.notes.at(-1);return t.start+t.length},Dk=(e,t,n=0)=>e.notes.find(r=>r.start-n<=t&&r.start+r.length+n>=t);class kG{constructor(t,n){this.number=t,this.gameState=n,this.frequencyRecords=[],this.playerNotes=[],this.realFrequencyRecords=[],this.realPlayerNotes=[],this.min=1/0,this.max=-1/0,this.storedSectionIndex=0,this.getNumber=()=>this.number,this.update=()=>{const r=this.gameState.getCurrentTime(),i=pn.getPlayerFrequency(this.number),s=r-pn.getPlayerInputLag(this.number);if(Array.isArray(i)){const o=this.realFrequencyRecords.at(-1)||this.frequencyRecords.at(0),a=(o==null?void 0:o.timestamp)??0,l=(s-a)/i.length;this.frequencyRecords=this.realFrequencyRecords,this.playerNotes=this.realPlayerNotes;for(let u=0;u<i.length;u++){const d=a+l*(u+1);this.updatePlayerNotes(d,i[u])}this.realFrequencyRecords=[...this.frequencyRecords],this.realPlayerNotes=[...this.playerNotes];const c=this.realPlayerNotes.at(-1);c&&(this.realPlayerNotes[this.realPlayerNotes.length-1]={...c,frequencyRecords:[...c.frequencyRecords??[]]}),pn.clearPlayerCachedFrequencies(this.number)}else this.updatePlayerNotes(s,i);this.dispatchSectionUpdate()},this.dispatchSectionUpdate=()=>{const r=this.getCurrentSectionIndex();this.storedSectionIndex!==r&&(ee.sectionChange.dispatch(this.number,this.storedSectionIndex),this.storedSectionIndex=r)},this.updatePlayerNotes=(r,i)=>{const s={timestamp:r,frequency:i};this.frequencyRecords.push(s);const o=s.timestamp/this.gameState.getSongBeatLength(),a=this.getSectionByBeat(o);if(Mt(a)){const l=Dk(a,o,0)??Dk(a,o,.5);l&&wG(this.playerNotes,s,l,this.gameState.getSongBeatLength())}},this.getPlayerNotes=()=>this.playerNotes,this.getPlayerFrequencies=()=>this.frequencyRecords,this.getSectionIndexByBeat=r=>this.getTrack().sections.findIndex((i,s,o)=>r<0?!0:r<i.start?!1:s===o.length-1?!0:o[s+1].start>r),this.getCurrentSectionIndex=()=>this.getSectionIndexByBeat(this.gameState.getCurrentBeat()),this.getSectionByBeat=r=>this.getTrack().sections[this.getSectionIndexByBeat(r)]??null,this.getCurrentSection=()=>{const r=this.getCurrentSectionIndex();return this.getTrack().sections[r]??null},this.getNextSection=(r=1)=>{const i=this.getCurrentSectionIndex();return i>-1?this.getTrack().sections[i+r]??null:null},this.getPreviousSection=(r=1)=>{const i=this.getCurrentSectionIndex();return i>-1?this.getTrack().sections[i-r]??null:null},this.getLastNotesSection=()=>{const r=this.getTrack().sections.at(-1);return Mt(r)?r:this.getTrack().sections.at(-2)},this.getScore=()=>pG(this.playerNotes,this.gameState.getSong(),this.getTrackIndex()),this.getDetailedScore=()=>Sj(this.playerNotes,this.gameState.getSong(),this.getTrackIndex()),this.getMinPitch=()=>this.min,this.getMaxPitch=()=>this.max,this.getTrackIndex=()=>this.gameState.getSingSetup().players.find(r=>r.number===this.number).track,this.getTrack=()=>{var r;return this.gameState.isMergedTrack()?(r=this.gameState.getSong())==null?void 0:r.mergedTrack:this.gameState.getSong().tracks[this.getTrackIndex()]},this.resetNotes=()=>{this.playerNotes=[]},this.getTrack().sections.filter(Mt).forEach(r=>r.notes.forEach(i=>{this.min=Math.min(this.min,i.pitch),this.max=Math.max(this.max,i.pitch)}))}}function CG(e){return Math.max(...e.tracks.map(t=>{const n=t.sections.filter(Mt).at(-1);return n?hf(n):0}))}function dS(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError("Expected a function");const n=function(...r){const i=t?t.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);const o=e.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(dS.Cache||Map),n}dS.Cache=Map;const wu=dS(function(t){return 60/t.bpm/(t.bar??4)*1e3});class TG{constructor(){this.song=null,this.currentTime=0,this.duration=0,this.singSetup=null,this.playerStates=[],this.playing=!1,this.setCurrentTime=t=>this.currentTime=t,this.getCurrentTime=(t=!0)=>this.currentTime-(t&&this.song?this.song.gap:0),this.getSongBeatLength=()=>wu(this.song),this.getCurrentBeat=()=>gG(this.getCurrentTime(),this.getSongBeatLength(),0,!1),this.setSong=t=>this.song=t,this.getSong=()=>this.song,this.getSingSetup=()=>this.singSetup,this.setSingSetup=t=>{this.singSetup=t,this.playerStates=t.players.map(({number:n},r)=>new kG(n,this)),this.currentTime=0,this.playing=!0},this.resetSingSetup=()=>{this.playing=!1},this.isPlaying=()=>this.playing,this.getTolerance=()=>{var t;return((t=this.getSingSetup())==null?void 0:t.tolerance)??2},this.setDuration=t=>this.duration=t,this.getDuration=()=>this.duration,this.getPlayer=t=>this.playerStates.find(n=>n.getNumber()===t),this.getPlayers=()=>this.playerStates,this.getPlayerCount=()=>this.playerStates.length,this.getPlayerScore=t=>{var n,r;return((n=this.getSingSetup())==null?void 0:n.mode)===Mr.CO_OP?this.getPlayers().reduce((s,o)=>s+o.getScore(),0)/this.getPlayerCount():((r=this.getPlayer(t))==null?void 0:r.getScore())??-1},this.getPlayerDetailedScore=t=>{var n;if(((n=this.getSingSetup())==null?void 0:n.mode)===Mr.CO_OP){const r=this.getPlayers().map(a=>a.getDetailedScore()),[i,...s]=r.map(([a,l,c])=>[Wh(l,a),Wh(c,a)]),o=s.reduce((a,l)=>[Vk(a[0],l[0]),Vk(a[1],l[1])],i);return[Lk(o[0],this.getPlayerCount()),Lk(o[1],this.getPlayerCount())]}else{const[r,i,s]=this.getPlayer(t).getDetailedScore();return[Wh(i,r),Wh(s,r)]}},this.getSongCompletionProgress=()=>Math.max(0,Math.min(1,this.getCurrentBeat()/CG(this.getSong()))),this.startInputMonitoring=async()=>pn.startMonitoring(),this.stopInputMonitoring=()=>pn.stopMonitoring(),this.update=()=>{this.playerStates.forEach(t=>t.update())},this.resetPlayerNotes=()=>{this.playerStates.forEach(t=>t.resetNotes())},this.isMergedTrack=()=>{var t;return((t=this.getSingSetup())==null?void 0:t.players.length)!==2}}}const Le=new TG;var vM;const IG=(vM=global==null?void 0:global.sessionStorage)==null?void 0:vM.getItem("isE2E");function Xs(){var t,n;if(IG)return!0;const e=(global==null?void 0:global.isE2ETests)||((t=global==null?void 0:global.location)==null?void 0:t.search.includes("e2e-test"));return e&&((n=global==null?void 0:global.sessionStorage)==null||n.setItem("isE2E","true")),e}const RG=Xs()?{host:"localhost",port:3001,path:"/"}:{},xj={...RG};var MG=Object.create,c0=Object.defineProperty,PG=Object.defineProperties,jG=Object.getOwnPropertyDescriptor,OG=Object.getOwnPropertyDescriptors,wj=Object.getOwnPropertyNames,$k=Object.getOwnPropertySymbols,VG=Object.getPrototypeOf,Ej=Object.prototype.hasOwnProperty,LG=Object.prototype.propertyIsEnumerable,Fk=(e,t,n)=>t in e?c0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,fS=(e,t)=>{for(var n in t||(t={}))Ej.call(t,n)&&Fk(e,n,t[n]);if($k)for(var n of $k(t))LG.call(t,n)&&Fk(e,n,t[n]);return e},kj=(e,t)=>PG(e,OG(t)),NG=e=>c0(e,"__esModule",{value:!0}),hS=(e,t)=>function(){return t||(0,e[wj(e)[0]])((t={exports:{}}).exports,t),t.exports},BG=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of wj(t))!Ej.call(e,i)&&(n||i!=="default")&&c0(e,i,{get:()=>t[i],enumerable:!(r=jG(t,i))||r.enumerable});return e},nh=(e,t)=>BG(NG(c0(e!=null?MG(VG(e)):{},"default",!t&&e&&e.__esModule?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e),oc=(e,t,n)=>new Promise((r,i)=>{var s=l=>{try{a(n.next(l))}catch(c){i(c)}},o=l=>{try{a(n.throw(l))}catch(c){i(c)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(s,o);a((n=n.apply(e,t)).next())}),zk=hS({"node_modules/peerjs-js-binarypack/lib/bufferbuilder.js"(e,t){var n={};n.useBlobBuilder=function(){try{return new Blob([]),!1}catch{return!0}}(),n.useArrayBufferView=!n.useBlobBuilder&&function(){try{return new Blob([new Uint8Array([])]).size===0}catch{return!0}}(),t.exports.binaryFeatures=n;var r=t.exports.BlobBuilder;typeof window<"u"&&(r=t.exports.BlobBuilder=window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder||window.BlobBuilder);function i(){this._pieces=[],this._parts=[]}i.prototype.append=function(s){typeof s=="number"?this._pieces.push(s):(this.flush(),this._parts.push(s))},i.prototype.flush=function(){if(this._pieces.length>0){var s=new Uint8Array(this._pieces);n.useArrayBufferView||(s=s.buffer),this._parts.push(s),this._pieces=[]}},i.prototype.getBuffer=function(){if(this.flush(),n.useBlobBuilder){for(var s=new r,o=0,a=this._parts.length;o<a;o++)s.append(this._parts[o]);return s.getBlob()}else return new Blob(this._parts)},t.exports.BufferBuilder=i}}),DG=hS({"node_modules/peerjs-js-binarypack/lib/binarypack.js"(e,t){var n=zk().BufferBuilder,r=zk().binaryFeatures,i={unpack:function(c){var u=new s(c);return u.unpack()},pack:function(c){var u=new o;u.pack(c);var d=u.getBuffer();return d}};t.exports=i;function s(c){this.index=0,this.dataBuffer=c,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}s.prototype.unpack=function(){var c=this.unpack_uint8();if(c<128)return c;if((c^224)<32)return(c^224)-32;var u;if((u=c^160)<=15)return this.unpack_raw(u);if((u=c^176)<=15)return this.unpack_string(u);if((u=c^144)<=15)return this.unpack_array(u);if((u=c^128)<=15)return this.unpack_map(u);switch(c){case 192:return null;case 193:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 212:return;case 213:return;case 214:return;case 215:return;case 216:return u=this.unpack_uint16(),this.unpack_string(u);case 217:return u=this.unpack_uint32(),this.unpack_string(u);case 218:return u=this.unpack_uint16(),this.unpack_raw(u);case 219:return u=this.unpack_uint32(),this.unpack_raw(u);case 220:return u=this.unpack_uint16(),this.unpack_array(u);case 221:return u=this.unpack_uint32(),this.unpack_array(u);case 222:return u=this.unpack_uint16(),this.unpack_map(u);case 223:return u=this.unpack_uint32(),this.unpack_map(u)}},s.prototype.unpack_uint8=function(){var c=this.dataView[this.index]&255;return this.index++,c},s.prototype.unpack_uint16=function(){var c=this.read(2),u=(c[0]&255)*256+(c[1]&255);return this.index+=2,u},s.prototype.unpack_uint32=function(){var c=this.read(4),u=((c[0]*256+c[1])*256+c[2])*256+c[3];return this.index+=4,u},s.prototype.unpack_uint64=function(){var c=this.read(8),u=((((((c[0]*256+c[1])*256+c[2])*256+c[3])*256+c[4])*256+c[5])*256+c[6])*256+c[7];return this.index+=8,u},s.prototype.unpack_int8=function(){var c=this.unpack_uint8();return c<128?c:c-256},s.prototype.unpack_int16=function(){var c=this.unpack_uint16();return c<32768?c:c-65536},s.prototype.unpack_int32=function(){var c=this.unpack_uint32();return c<Math.pow(2,31)?c:c-Math.pow(2,32)},s.prototype.unpack_int64=function(){var c=this.unpack_uint64();return c<Math.pow(2,63)?c:c-Math.pow(2,64)},s.prototype.unpack_raw=function(c){if(this.length<this.index+c)throw new Error("BinaryPackFailure: index is out of range "+this.index+" "+c+" "+this.length);var u=this.dataBuffer.slice(this.index,this.index+c);return this.index+=c,u},s.prototype.unpack_string=function(c){for(var u=this.read(c),d=0,h="",p,g;d<c;)p=u[d],p<128?(h+=String.fromCharCode(p),d++):(p^192)<32?(g=(p^192)<<6|u[d+1]&63,h+=String.fromCharCode(g),d+=2):(g=(p&15)<<12|(u[d+1]&63)<<6|u[d+2]&63,h+=String.fromCharCode(g),d+=3);return this.index+=c,h},s.prototype.unpack_array=function(c){for(var u=new Array(c),d=0;d<c;d++)u[d]=this.unpack();return u},s.prototype.unpack_map=function(c){for(var u={},d=0;d<c;d++){var h=this.unpack(),p=this.unpack();u[h]=p}return u},s.prototype.unpack_float=function(){var c=this.unpack_uint32(),u=c>>31,d=(c>>23&255)-127,h=c&8388607|8388608;return(u===0?1:-1)*h*Math.pow(2,d-23)},s.prototype.unpack_double=function(){var c=this.unpack_uint32(),u=this.unpack_uint32(),d=c>>31,h=(c>>20&2047)-1023,p=c&1048575|1048576,g=p*Math.pow(2,h-20)+u*Math.pow(2,h-52);return(d===0?1:-1)*g},s.prototype.read=function(c){var u=this.index;if(u+c<=this.length)return this.dataView.subarray(u,u+c);throw new Error("BinaryPackFailure: read index out of range")};function o(){this.bufferBuilder=new n}o.prototype.getBuffer=function(){return this.bufferBuilder.getBuffer()},o.prototype.pack=function(c){var u=typeof c;if(u==="string")this.pack_string(c);else if(u==="number")Math.floor(c)===c?this.pack_integer(c):this.pack_double(c);else if(u==="boolean")c===!0?this.bufferBuilder.append(195):c===!1&&this.bufferBuilder.append(194);else if(u==="undefined")this.bufferBuilder.append(192);else if(u==="object")if(c===null)this.bufferBuilder.append(192);else{var d=c.constructor;if(d==Array)this.pack_array(c);else if(d==Blob||d==File||c instanceof Blob||c instanceof File)this.pack_bin(c);else if(d==ArrayBuffer)r.useArrayBufferView?this.pack_bin(new Uint8Array(c)):this.pack_bin(c);else if("BYTES_PER_ELEMENT"in c)r.useArrayBufferView?this.pack_bin(new Uint8Array(c.buffer)):this.pack_bin(c.buffer);else if(d==Object||d.toString().startsWith("class"))this.pack_object(c);else if(d==Date)this.pack_string(c.toString());else if(typeof c.toBinaryPack=="function")this.bufferBuilder.append(c.toBinaryPack());else throw new Error('Type "'+d.toString()+'" not yet supported')}else throw new Error('Type "'+u+'" not yet supported');this.bufferBuilder.flush()},o.prototype.pack_bin=function(c){var u=c.length||c.byteLength||c.size;if(u<=15)this.pack_uint8(160+u);else if(u<=65535)this.bufferBuilder.append(218),this.pack_uint16(u);else if(u<=4294967295)this.bufferBuilder.append(219),this.pack_uint32(u);else throw new Error("Invalid length");this.bufferBuilder.append(c)},o.prototype.pack_string=function(c){var u=l(c);if(u<=15)this.pack_uint8(176+u);else if(u<=65535)this.bufferBuilder.append(216),this.pack_uint16(u);else if(u<=4294967295)this.bufferBuilder.append(217),this.pack_uint32(u);else throw new Error("Invalid length");this.bufferBuilder.append(c)},o.prototype.pack_array=function(c){var u=c.length;if(u<=15)this.pack_uint8(144+u);else if(u<=65535)this.bufferBuilder.append(220),this.pack_uint16(u);else if(u<=4294967295)this.bufferBuilder.append(221),this.pack_uint32(u);else throw new Error("Invalid length");for(var d=0;d<u;d++)this.pack(c[d])},o.prototype.pack_integer=function(c){if(c>=-32&&c<=127)this.bufferBuilder.append(c&255);else if(c>=0&&c<=255)this.bufferBuilder.append(204),this.pack_uint8(c);else if(c>=-128&&c<=127)this.bufferBuilder.append(208),this.pack_int8(c);else if(c>=0&&c<=65535)this.bufferBuilder.append(205),this.pack_uint16(c);else if(c>=-32768&&c<=32767)this.bufferBuilder.append(209),this.pack_int16(c);else if(c>=0&&c<=4294967295)this.bufferBuilder.append(206),this.pack_uint32(c);else if(c>=-2147483648&&c<=2147483647)this.bufferBuilder.append(210),this.pack_int32(c);else if(c>=-9223372036854776e3&&c<=9223372036854776e3)this.bufferBuilder.append(211),this.pack_int64(c);else if(c>=0&&c<=18446744073709552e3)this.bufferBuilder.append(207),this.pack_uint64(c);else throw new Error("Invalid integer")},o.prototype.pack_double=function(c){var u=0;c<0&&(u=1,c=-c);var d=Math.floor(Math.log(c)/Math.LN2),h=c/Math.pow(2,d)-1,p=Math.floor(h*Math.pow(2,52)),g=Math.pow(2,32),m=u<<31|d+1023<<20|p/g&1048575,_=p%g;this.bufferBuilder.append(203),this.pack_int32(m),this.pack_int32(_)},o.prototype.pack_object=function(c){var u=Object.keys(c),d=u.length;if(d<=15)this.pack_uint8(128+d);else if(d<=65535)this.bufferBuilder.append(222),this.pack_uint16(d);else if(d<=4294967295)this.bufferBuilder.append(223),this.pack_uint32(d);else throw new Error("Invalid length");for(var h in c)c.hasOwnProperty(h)&&(this.pack(h),this.pack(c[h]))},o.prototype.pack_uint8=function(c){this.bufferBuilder.append(c)},o.prototype.pack_uint16=function(c){this.bufferBuilder.append(c>>8),this.bufferBuilder.append(c&255)},o.prototype.pack_uint32=function(c){var u=c&4294967295;this.bufferBuilder.append((u&4278190080)>>>24),this.bufferBuilder.append((u&16711680)>>>16),this.bufferBuilder.append((u&65280)>>>8),this.bufferBuilder.append(u&255)},o.prototype.pack_uint64=function(c){var u=c/Math.pow(2,32),d=c%Math.pow(2,32);this.bufferBuilder.append((u&4278190080)>>>24),this.bufferBuilder.append((u&16711680)>>>16),this.bufferBuilder.append((u&65280)>>>8),this.bufferBuilder.append(u&255),this.bufferBuilder.append((d&4278190080)>>>24),this.bufferBuilder.append((d&16711680)>>>16),this.bufferBuilder.append((d&65280)>>>8),this.bufferBuilder.append(d&255)},o.prototype.pack_int8=function(c){this.bufferBuilder.append(c&255)},o.prototype.pack_int16=function(c){this.bufferBuilder.append((c&65280)>>8),this.bufferBuilder.append(c&255)},o.prototype.pack_int32=function(c){this.bufferBuilder.append(c>>>24&255),this.bufferBuilder.append((c&16711680)>>>16),this.bufferBuilder.append((c&65280)>>>8),this.bufferBuilder.append(c&255)},o.prototype.pack_int64=function(c){var u=Math.floor(c/Math.pow(2,32)),d=c%Math.pow(2,32);this.bufferBuilder.append((u&4278190080)>>>24),this.bufferBuilder.append((u&16711680)>>>16),this.bufferBuilder.append((u&65280)>>>8),this.bufferBuilder.append(u&255),this.bufferBuilder.append((d&4278190080)>>>24),this.bufferBuilder.append((d&16711680)>>>16),this.bufferBuilder.append((d&65280)>>>8),this.bufferBuilder.append(d&255)};function a(c){var u=c.charCodeAt(0);return u<=2047?"00":u<=65535?"000":u<=2097151?"0000":u<=67108863?"00000":"000000"}function l(c){return c.length>600?new Blob([c]).size:c.replace(/[^\u0000-\u007F]/g,a).length}}}),u0=hS({"node_modules/eventemitter3/index.js"(e,t){var n=Object.prototype.hasOwnProperty,r="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(r=!1));function s(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function o(c,u,d,h,p){if(typeof d!="function")throw new TypeError("The listener must be a function");var g=new s(d,h||c,p),m=r?r+u:u;return c._events[m]?c._events[m].fn?c._events[m]=[c._events[m],g]:c._events[m].push(g):(c._events[m]=g,c._eventsCount++),c}function a(c,u){--c._eventsCount===0?c._events=new i:delete c._events[u]}function l(){this._events=new i,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,h;if(this._eventsCount===0)return u;for(h in d=this._events)n.call(d,h)&&u.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,h=this._events[d];if(!h)return[];if(h.fn)return[h.fn];for(var p=0,g=h.length,m=new Array(g);p<g;p++)m[p]=h[p].fn;return m},l.prototype.listenerCount=function(u){var d=r?r+u:u,h=this._events[d];return h?h.fn?1:h.length:0},l.prototype.emit=function(u,d,h,p,g,m){var _=r?r+u:u;if(!this._events[_])return!1;var v=this._events[_],y=arguments.length,S,x;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),y){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,h),!0;case 4:return v.fn.call(v.context,d,h,p),!0;case 5:return v.fn.call(v.context,d,h,p,g),!0;case 6:return v.fn.call(v.context,d,h,p,g,m),!0}for(x=1,S=new Array(y-1);x<y;x++)S[x-1]=arguments[x];v.fn.apply(v.context,S)}else{var b=v.length,w;for(x=0;x<b;x++)switch(v[x].once&&this.removeListener(u,v[x].fn,void 0,!0),y){case 1:v[x].fn.call(v[x].context);break;case 2:v[x].fn.call(v[x].context,d);break;case 3:v[x].fn.call(v[x].context,d,h);break;case 4:v[x].fn.call(v[x].context,d,h,p);break;default:if(!S)for(w=1,S=new Array(y-1);w<y;w++)S[w-1]=arguments[w];v[x].fn.apply(v[x].context,S)}}return!0},l.prototype.on=function(u,d,h){return o(this,u,d,h,!1)},l.prototype.once=function(u,d,h){return o(this,u,d,h,!0)},l.prototype.removeListener=function(u,d,h,p){var g=r?r+u:u;if(!this._events[g])return this;if(!d)return a(this,g),this;var m=this._events[g];if(m.fn)m.fn===d&&(!p||m.once)&&(!h||m.context===h)&&a(this,g);else{for(var _=0,v=[],y=m.length;_<y;_++)(m[_].fn!==d||p&&!m[_].once||h&&m[_].context!==h)&&v.push(m[_]);v.length?this._events[g]=v.length===1?v[0]:v:a(this,g)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&a(this,d)):(this._events=new i,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,typeof t<"u"&&(t.exports=l)}}),Uk=nh(DG()),$G={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"turn:0.peerjs.com:3478",username:"peerjs",credential:"peerjsp"}],sdpSemantics:"unified-plan"},rn=new class{constructor(){this.CLOUD_HOST="0.peerjs.com",this.CLOUD_PORT=443,this.chunkedMTU=16300,this.defaultConfig=$G,this.pack=Uk.pack,this.unpack=Uk.unpack,this._dataCount=1}validateId(e){return!e||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(e)}chunk(e){const t=[],n=e.size,r=Math.ceil(n/rn.chunkedMTU);let i=0,s=0;for(;s<n;){const o=Math.min(n,s+rn.chunkedMTU),a=e.slice(s,o),l={__peerData:this._dataCount,n:i,data:a,total:r};t.push(l),s=o,i++}return this._dataCount++,t}blobToArrayBuffer(e,t,n){const r=new e;return r.onload=function(i){i.target&&n(i.target.result)},r.readAsArrayBuffer(t),r}binaryStringToArrayBuffer(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n)&255;return t.buffer}randomToken(){return Math.random().toString(36).substr(2)}isSecure(){return location.protocol==="https:"}},FG=nh(u0()),zG="PeerJS: ",UG=class{constructor(){this._logLevel=0}get logLevel(){return this._logLevel}set logLevel(e){this._logLevel=e}log(...e){this._logLevel>=3&&this._print(3,...e)}warn(...e){this._logLevel>=2&&this._print(2,...e)}error(...e){this._logLevel>=1&&this._print(1,...e)}setLogFunction(e){this._print=e}_print(e,...t){const n=[zG,...t];for(let r in n)n[r]instanceof Error&&(n[r]="("+n[r].name+") "+n[r].message);e>=3?console.log(...n):e>=2?console.warn("WARNING",...n):e>=1&&console.error("ERROR",...n)}},xe=new UG,HG=nh(u0()),GG=class extends HG.EventEmitter{constructor({secure:e,host:t,port:n,path:r,key:i,pingInterval:s=5e3,polyfills:o}){super(),this._disconnected=!0,this._id=null,this._messagesQueue=[],this.alive=!1,this._destroyed=!1;var a;this.pingInterval=s;const l=e?"wss://":"ws://";this._baseUrl=l+t+":"+n+r+"peerjs?key="+i,this.WebSocketConstructor=(a=o==null?void 0:o.WebSocket)!=null?a:window.WebSocket}get messagesQueue(){return this._messagesQueue}get destroyed(){return this._destroyed}start(e,t){if(this._destroyed)throw new Error("Socket was destroyed!");if(this._id=e,this._socket||!this._disconnected)return;const n=`${this._baseUrl}&id=${e}&token=${t}`;this._socket=new this.WebSocketConstructor(n),this._disconnected=!1,this._socket.onmessage=r=>{if(this._destroyed)return;let i;try{i=JSON.parse(r.data),xe.log("Server message received:",i)}catch{xe.log("Invalid server message",r.data);return}this.emit("message",i)},this._socket.onclose=r=>{this._disconnected||this._destroyed||(xe.log("Socket closed.",r),this._cleanup(),this._disconnected=!0,this.emit("disconnected"))},this._socket.onopen=()=>{this._disconnected||this._destroyed||(xe.log("Socket open"),this.emit("open"),this._sendQueuedMessages(),this._scheduleHeartbeat())}}_scheduleHeartbeat(){this._wsPingTimer=setTimeout(()=>{this._sendHeartbeat()},this.pingInterval)}_sendHeartbeat(){if(this._destroyed)return;if(!this._wsOpen()){xe.log("Cannot send heartbeat, because socket closed");return}const e=JSON.stringify({type:"HEARTBEAT"});this._socket.send(e),this._scheduleHeartbeat()}_wsOpen(){return!!this._socket&&this._socket.readyState===1}_sendQueuedMessages(){const e=[...this._messagesQueue];this._messagesQueue=[];for(const t of e)this.send(t);e.length>0&&xe.log(`${e.length} queued messages was sent`)}send(e){if(this._destroyed)throw new Error("Socket was destroyed!");if(!e.type){this.emit("error","Invalid message");return}if(!this.alive)return;if(this._id==null||!this._wsOpen()){this._messagesQueue.push(e);return}const t=JSON.stringify(e);this._socket.send(t)}close(){this._disconnected||(this._cleanup(),this._id=null,this._disconnected=!0)}_cleanup(){this._socket&&(this._socket.onopen=this._socket.onmessage=this._socket.onclose=null,this._socket.close(),this._socket=void 0),clearTimeout(this._wsPingTimer)}destroy(){this._destroyed||(this.close(),this._messagesQueue.length=0,this._destroyed=!0)}};function qG(){}var Cj=class{constructor(e){this.connection=e}get webRtc(){var e,t;return(t=(e=this.connection.provider.options.polyfills)==null?void 0:e.WebRTC)!=null?t:window}startConnection(e){const t=this._startPeerConnection();if(this.connection.peerConnection=t,this.connection.type==="media"&&e._stream&&this._addTracksToConnection(e._stream,t),e.originator){if(this.connection.type==="data"){const n=this.connection,r={ordered:!!e.reliable},i=t.createDataChannel(n.label,r);n.initialize(i)}this._makeOffer()}else this.handleSDP("OFFER",e.sdp)}_startPeerConnection(){xe.log("Creating RTCPeerConnection.");const e=this.webRtc.RTCPeerConnection,t=new e(this.connection.provider.options.config);return this._setupListeners(t),t}_setupListeners(e){const t=this.connection.peer,n=this.connection.connectionId,r=this.connection.type,i=this.connection.provider;xe.log("Listening for ICE candidates, remote streams and data channels."),e.onicecandidate=s=>{!s.candidate||!s.candidate.candidate||(xe.log(`Received ICE candidates for ${t}:`,s.candidate),i.socket.send({type:"CANDIDATE",payload:{candidate:s.candidate,type:r,connectionId:n},dst:t}))},e.oniceconnectionstatechange=()=>{switch(e.iceConnectionState){case"failed":xe.log("iceConnectionState is failed, closing connections to "+t),this.connection.emit("error",new Error("Negotiation of connection to "+t+" failed.")),this.connection.close();break;case"closed":xe.log("iceConnectionState is closed, closing connections to "+t),this.connection.emit("error",new Error("Connection to "+t+" closed.")),this.connection.close();break;case"connected":xe.log("iceConnectionState changed to connected on the connection with "+t);break;case"disconnected":xe.log("iceConnectionState changed to disconnected on the connection with "+t);break;case"completed":xe.log("iceConnectionState changed to completed on the connection with "+t),e.onicecandidate=qG;break}this.connection.emit("iceStateChanged",e.iceConnectionState)},e.ondatachannel=s=>{xe.log("Received data channel");const o=s.channel;i.getConnection(t,n).initialize(o)},e.ontrack=s=>{xe.log("Received remote stream");const o=s.streams[0],a=i.getConnection(t,n);if(a.type==="media"){const l=a;this._addStreamToMediaConnection(o,l)}}}cleanup(){xe.log("Cleaning up PeerConnection to "+this.connection.peer);const e=this.connection.peerConnection;if(!e)return;this.connection.peerConnection=null,e.onicecandidate=e.oniceconnectionstatechange=e.ondatachannel=e.ontrack=null;const t=e.signalingState!=="closed";let n=!1;if(this.connection.type==="data"){const i=this.connection.dataChannel;i&&(n=!!i.readyState&&i.readyState!=="closed")}(t||n)&&e.close()}_makeOffer(){return oc(this,null,function*(){const e=this.connection.peerConnection,t=this.connection.provider;try{const n=yield e.createOffer(this.connection.options.constraints);if(e.signalingState==="closed")return;xe.log("Created offer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(n.sdp=this.connection.options.sdpTransform(n.sdp)||n.sdp);try{yield e.setLocalDescription(n),xe.log("Set localDescription:",n,`for:${this.connection.peer}`);let r={sdp:n,type:this.connection.type,connectionId:this.connection.connectionId,metadata:this.connection.metadata};if(this.connection.type==="data"){const i=this.connection;r=kj(fS({},r),{label:i.label,reliable:i.reliable,serialization:i.serialization})}t.socket.send({type:"OFFER",payload:r,dst:this.connection.peer})}catch(r){r!="OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"&&(t.emitError("webrtc",r),xe.log("Failed to setLocalDescription, ",r))}}catch(n){t.emitError("webrtc",n),xe.log("Failed to createOffer, ",n)}})}_makeAnswer(){return oc(this,null,function*(){const e=this.connection.peerConnection,t=this.connection.provider;try{const n=yield e.createAnswer();if(e.signalingState==="closed")return;xe.log("Created answer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(n.sdp=this.connection.options.sdpTransform(n.sdp)||n.sdp);try{yield e.setLocalDescription(n),xe.log("Set localDescription:",n,`for:${this.connection.peer}`),t.socket.send({type:"ANSWER",payload:{sdp:n,type:this.connection.type,connectionId:this.connection.connectionId},dst:this.connection.peer})}catch(r){t.emitError("webrtc",r),xe.log("Failed to setLocalDescription, ",r)}}catch(n){t.emitError("webrtc",n),xe.log("Failed to create answer, ",n)}})}handleSDP(e,t){return oc(this,null,function*(){const n=this.webRtc.RTCSessionDescription;t=new n(t);const r=this.connection.peerConnection,i=this.connection.provider;xe.log("Setting remote description",t);const s=this;try{yield r.setRemoteDescription(t),xe.log(`Set remoteDescription:${e} for:${this.connection.peer}`),e==="OFFER"&&(yield s._makeAnswer())}catch(o){i.emitError("webrtc",o),xe.log("Failed to setRemoteDescription, ",o)}})}handleCandidate(e){return oc(this,null,function*(){xe.log("handleCandidate:",e);const t=e.candidate,n=e.sdpMLineIndex,r=e.sdpMid,i=this.connection.peerConnection,s=this.connection.provider;try{const o=this.webRtc.RTCIceCandidate;yield i.addIceCandidate(new o({sdpMid:r,sdpMLineIndex:n,candidate:t})),xe.log(`Added ICE candidate for:${this.connection.peer}`)}catch(o){s.emitError("webrtc",o),xe.log("Failed to handleCandidate, ",o)}})}_addTracksToConnection(e,t){if(xe.log(`add tracks from stream ${e.id} to peer connection`),!t.addTrack)return xe.error("Your browser does't support RTCPeerConnection#addTrack. Ignored.");e.getTracks().forEach(n=>{t.addTrack(n,e)})}_addStreamToMediaConnection(e,t){xe.log(`add stream ${e.id} to media connection ${t.connectionId}`),t.addStream(e)}},WG=nh(u0()),Tj=class extends WG.EventEmitter{constructor(e,t,n){super(),this.peer=e,this.provider=t,this.options=n,this._open=!1,this.metadata=n.metadata}get open(){return this._open}},Ij=class extends Tj{get type(){return"media"}get localStream(){return this._localStream}get remoteStream(){return this._remoteStream}constructor(e,t,n){super(e,t,n),this._localStream=this.options._stream,this.connectionId=this.options.connectionId||Ij.ID_PREFIX+rn.randomToken(),this._negotiator=new Cj(this),this._localStream&&this._negotiator.startConnection({_stream:this._localStream,originator:!0})}addStream(e){xe.log("Receiving stream",e),this._remoteStream=e,super.emit("stream",e)}handleMessage(e){const t=e.type,n=e.payload;switch(e.type){case"ANSWER":this._negotiator.handleSDP(t,n.sdp),this._open=!0;break;case"CANDIDATE":this._negotiator.handleCandidate(n.candidate);break;default:xe.warn(`Unrecognized message type:${t} from peer:${this.peer}`);break}}answer(e,t={}){if(this._localStream){xe.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");return}this._localStream=e,t&&t.sdpTransform&&(this.options.sdpTransform=t.sdpTransform),this._negotiator.startConnection(kj(fS({},this.options._payload),{_stream:e}));const n=this.provider._getMessages(this.connectionId);for(let r of n)this.handleMessage(r);this._open=!0}close(){this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this._localStream=null,this._remoteStream=null,this.provider&&(this.provider._removeConnection(this),this.provider=null),this.options&&this.options._stream&&(this.options._stream=null),this.open&&(this._open=!1,super.emit("close"))}},g1=Ij;g1.ID_PREFIX="mc_";var KG=nh(u0()),YG=class extends KG.EventEmitter{constructor(e){super(),this.fileReader=e,this._queue=[],this._processing=!1,this.fileReader.onload=t=>{this._processing=!1,t.target&&this.emit("done",t.target.result),this.doNextTask()},this.fileReader.onerror=t=>{xe.error("EncodingQueue error:",t),this._processing=!1,this.destroy(),this.emit("error",t)}}get queue(){return this._queue}get size(){return this.queue.length}get processing(){return this._processing}enque(e){this.queue.push(e),!this.processing&&this.doNextTask()}destroy(){this.fileReader.abort(),this._queue=[]}doNextTask(){this.size!==0&&(this.processing||(this._processing=!0,this.fileReader.readAsArrayBuffer(this.queue.shift())))}},m1=class extends Tj{constructor(e,t,n){super(e,t,n),this.stringify=JSON.stringify,this.parse=JSON.parse,this._buffer=[],this._bufferSize=0,this._buffering=!1,this._chunkedData={};var r,i;this.connectionId=this.options.connectionId||m1.ID_PREFIX+rn.randomToken(),this.label=this.options.label||this.connectionId,this.serialization=this.options.serialization||"binary",this.reliable=!!this.options.reliable,this.FileReaderCtr=(i=(r=t.options.polyfills)==null?void 0:r.FileReader)!=null?i:window.FileReader,this._encodingQueue=new YG(new this.FileReaderCtr),this._encodingQueue.on("done",s=>{this._bufferedSend(s)}),this._encodingQueue.on("error",()=>{xe.error(`DC#${this.connectionId}: Error occured in encoding from blob to arraybuffer, close DC`),this.close()}),this._negotiator=new Cj(this),this._negotiator.startConnection(this.options._payload||{originator:!0})}get type(){return"data"}get dataChannel(){return this._dc}get bufferSize(){return this._bufferSize}initialize(e){this._dc=e,this._configureDataChannel()}_configureDataChannel(){(!this.provider.features.binaryBlob||this.provider.features.reliable)&&(this.dataChannel.binaryType="arraybuffer"),this.dataChannel.onopen=()=>{xe.log(`DC#${this.connectionId} dc connection success`),this._open=!0,this.emit("open")},this.dataChannel.onmessage=e=>{xe.log(`DC#${this.connectionId} dc onmessage:`,e.data),this._handleDataMessage(e)},this.dataChannel.onclose=()=>{xe.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}_handleDataMessage({data:e}){const t=e.constructor,n=this.serialization==="binary"||this.serialization==="binary-utf8";let r=e;if(n){if(t===Blob){rn.blobToArrayBuffer(this.FileReaderCtr,e,i=>{const s=rn.unpack(i);this.emit("data",s)});return}else if(t===ArrayBuffer)r=rn.unpack(e);else if(t===String){const i=rn.binaryStringToArrayBuffer(e);r=rn.unpack(i)}}else this.serialization==="json"&&(r=this.parse(e));if(r.__peerData){this._handleChunk(r);return}super.emit("data",r)}_handleChunk(e){const t=e.__peerData,n=this._chunkedData[t]||{data:[],count:0,total:e.total};if(n.data[e.n]=e.data,n.count++,this._chunkedData[t]=n,n.total===n.count){delete this._chunkedData[t];const r=new Blob(n.data);this._handleDataMessage({data:r})}}close(){this._buffer=[],this._bufferSize=0,this._chunkedData={},this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this.provider&&(this.provider._removeConnection(this),this.provider=null),this.dataChannel&&(this.dataChannel.onopen=null,this.dataChannel.onmessage=null,this.dataChannel.onclose=null,this._dc=null),this._encodingQueue&&(this._encodingQueue.destroy(),this._encodingQueue.removeAllListeners(),this._encodingQueue=null),this.open&&(this._open=!1,super.emit("close"))}send(e,t){if(!this.open){super.emit("error",new Error("Connection is not open. You should listen for the `open` event before sending messages."));return}if(this.serialization==="json")this._bufferedSend(this.stringify(e));else if(this.serialization==="binary"||this.serialization==="binary-utf8"){const n=rn.pack(e);if(!t&&n.size>rn.chunkedMTU){this._sendChunks(n);return}this.provider.features.binaryBlob?this._bufferedSend(n):this._encodingQueue.enque(n)}else this._bufferedSend(e)}_bufferedSend(e){(this._buffering||!this._trySend(e))&&(this._buffer.push(e),this._bufferSize=this._buffer.length)}_trySend(e){if(!this.open)return!1;if(this.dataChannel.bufferedAmount>m1.MAX_BUFFERED_AMOUNT)return this._buffering=!0,setTimeout(()=>{this._buffering=!1,this._tryBuffer()},50),!1;try{this.dataChannel.send(e)}catch(t){return xe.error(`DC#:${this.connectionId} Error when sending:`,t),this._buffering=!0,this.close(),!1}return!0}_tryBuffer(){if(!this.open||this._buffer.length===0)return;const e=this._buffer[0];this._trySend(e)&&(this._buffer.shift(),this._bufferSize=this._buffer.length,this._tryBuffer())}_sendChunks(e){const t=rn.chunk(e);xe.log(`DC#${this.connectionId} Try to send ${t.length} chunks...`);for(let n of t)this.send(n,!0)}handleMessage(e){const t=e.payload;switch(e.type){case"ANSWER":this._negotiator.handleSDP(e.type,t.sdp);break;case"CANDIDATE":this._negotiator.handleCandidate(t.candidate);break;default:xe.warn("Unrecognized message type:",e.type,"from peer:",this.peer);break}}},Lg=m1;Lg.ID_PREFIX="dc_";Lg.MAX_BUFFERED_AMOUNT=8*1024*1024;var QG=class{constructor(e){this._options=e}_request(e){var t,n;return((n=(t=this._options.polyfills)==null?void 0:t.fetch)!=null?n:window.fetch)(e)}_buildUrl(e){let n=(this._options.secure?"https://":"http://")+this._options.host+":"+this._options.port+this._options.path+this._options.key+"/"+e;const r="?ts="+new Date().getTime()+Math.random();return n+=r,n}retrieveId(){return oc(this,null,function*(){const e=this._buildUrl("id");try{const t=yield this._request(e);if(t.status!==200)throw new Error(`Error. Status:${t.status}`);return t.text()}catch(t){xe.error("Error retrieving ID",t);let n="";throw this._options.path==="/"&&this._options.host!==rn.CLOUD_HOST&&(n=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),new Error("Could not get an ID from the server."+n)}})}listAllPeers(){return oc(this,null,function*(){const e=this._buildUrl("peers");try{const t=yield this._request(e);if(t.status!==200){if(t.status===401){let n="";throw this._options.host===rn.CLOUD_HOST?n="It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":n="You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.",new Error("It doesn't look like you have permission to list peers IDs. "+n)}throw new Error(`Error. Status:${t.status}`)}return t.json()}catch(t){throw xe.error("Error retrieving list peers",t),new Error("Could not get list peers from the server."+t)}})}},JG={isUnifiedPlanSupported(e){if(!e&&typeof window<"u"&&(e=window),typeof e.RTCRtpTransceiver>"u"||!("currentDirection"in e.RTCRtpTransceiver.prototype))return!1;let t,n=!1;try{t=new e.RTCPeerConnection,t.addTransceiver("audio"),n=!0}catch{}finally{t&&t.close()}return n}},$a=class extends FG.EventEmitter{constructor(e,t){super(),this._id=null,this._lastServerId=null,this._destroyed=!1,this._disconnected=!1,this._open=!1,this._connections=new Map,this._lostMessages=new Map;var n;let r;if(e&&e.constructor==Object?t=e:e&&(r=e.toString()),t=fS({debug:0,host:rn.CLOUD_HOST,port:rn.CLOUD_PORT,path:"/",key:$a.DEFAULT_KEY,token:rn.randomToken(),config:rn.defaultConfig},t),this._options=t,typeof window<"u"&&this._options.host==="/"&&(this._options.host=window.location.hostname),this._options.path&&(this._options.path[0]!=="/"&&(this._options.path="/"+this._options.path),this._options.path[this._options.path.length-1]!=="/"&&(this._options.path+="/")),this._options.secure===void 0&&this._options.host!==rn.CLOUD_HOST?this._options.secure=rn.isSecure():this._options.host==rn.CLOUD_HOST&&(this._options.secure=!0),this._options.logFunction&&xe.setLogFunction(this._options.logFunction),xe.logLevel=this._options.debug||0,this._api=new QG(t),this._socket=this._createServerConnection(),this.features=$a.getFeatures((n=this._options.polyfills)==null?void 0:n.WebRTC),!this.features.audioVideo&&!this.features.data){this._delayedAbort("browser-incompatible","The current browser does not support WebRTC");return}if(r&&!rn.validateId(r)){this._delayedAbort("invalid-id",`ID "${r}" is invalid`);return}this.socket.alive=!0,r?this._initialize(r):this._api.retrieveId().then(i=>this._initialize(i)).catch(i=>this._abort("server-error",i))}get id(){return this._id}get options(){return this._options}get open(){return this._open}get socket(){return this._socket}get connections(){const e=Object.create(null);for(let[t,n]of this._connections)e[t]=n;return e}get destroyed(){return this._destroyed}get disconnected(){return this._disconnected}_createServerConnection(){const e=new GG(this._options);return e.on("message",t=>{this._handleMessage(t)}),e.on("error",t=>{this._abort("socket-error",t)}),e.on("disconnected",()=>{this.disconnected||(this.emitError("network","Lost connection to server."),this.disconnect())}),e.on("close",()=>{this.disconnected||this._abort("socket-closed","Underlying socket is already closed.")}),e}_initialize(e){this.destroyed||(this._id=e,this.socket.start(e,this._options.token))}_handleMessage(e){const t=e.type,n=e.payload,r=e.src;switch(t){case"OPEN":this._lastServerId=this.id,this._open=!0,this.emit("open",this.id);break;case"ERROR":this._abort("server-error",n.msg);break;case"ID-TAKEN":this._abort("unavailable-id",`ID "${this.id}" is taken`);break;case"INVALID-KEY":this._abort("invalid-key",`API KEY "${this._options.key}" is invalid`);break;case"LEAVE":xe.log(`Received leave message from ${r}`),this._cleanupPeer(r),this._connections.delete(r);break;case"EXPIRE":this.emitError("peer-unavailable",`Could not connect to peer ${r}`);break;case"OFFER":{const i=n.connectionId;let s=this.getConnection(r,i);if(s&&(s.close(),xe.warn(`Offer received for existing Connection ID:${i}`)),n.type==="media")s=new g1(r,this,{connectionId:i,_payload:n,metadata:n.metadata}),this._addConnection(r,s),this.emit("call",s);else if(n.type==="data")s=new Lg(r,this,{connectionId:i,_payload:n,metadata:n.metadata,label:n.label,serialization:n.serialization,reliable:n.reliable}),this._addConnection(r,s),this.emit("connection",s);else{xe.warn(`Received malformed connection type:${n.type}`);return}const o=this._getMessages(i);for(let a of o)s.handleMessage(a);break}default:{if(!n){xe.warn(`You received a malformed message from ${r} of type ${t}`);return}const i=n.connectionId,s=this.getConnection(r,i);s&&s.peerConnection?s.handleMessage(e):i?this._storeMessage(i,e):xe.warn("You received an unrecognized message:",e);break}}}_storeMessage(e,t){this._lostMessages.has(e)||this._lostMessages.set(e,[]),this._lostMessages.get(e).push(t)}_getMessages(e){const t=this._lostMessages.get(e);return t?(this._lostMessages.delete(e),t):[]}connect(e,t={}){if(this.disconnected){xe.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),this.emitError("disconnected","Cannot connect to new Peer after disconnecting from server.");return}const n=new Lg(e,this,t);return this._addConnection(e,n),n}call(e,t,n={}){if(this.disconnected){xe.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),this.emitError("disconnected","Cannot connect to new Peer after disconnecting from server.");return}if(!t){xe.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.");return}n._stream=t;const r=new g1(e,this,n);return this._addConnection(e,r),r}_addConnection(e,t){xe.log(`add connection ${t.type}:${t.connectionId} to peerId:${e}`),this._connections.has(e)||this._connections.set(e,[]),this._connections.get(e).push(t)}_removeConnection(e){const t=this._connections.get(e.peer);if(t){const n=t.indexOf(e);n!==-1&&(t.splice(n,1),t.length===0&&this._connections.delete(e.peer))}this._lostMessages.delete(e.connectionId)}getConnection(e,t){const n=this._connections.get(e);if(!n)return null;for(let r of n)if(r.connectionId===t)return r;return null}_delayedAbort(e,t){setTimeout(()=>{this._abort(e,t)},0)}_abort(e,t){xe.error("Aborting!"),this.emitError(e,t),this._lastServerId?this.disconnect():this.destroy()}emitError(e,t){xe.error("Error:",t);let n;typeof t=="string"?n=new Error(t):n=t,n.type=e,this.emit("error",n)}destroy(){this.destroyed||(xe.log(`Destroy peer with ID:${this.id}`),this.disconnect(),this._cleanup(),this.socket.destroy(),this._destroyed=!0,this.emit("close"))}_cleanup(){for(let e of this._connections.keys())this._cleanupPeer(e),this._connections.delete(e);this.socket.removeAllListeners()}_cleanupPeer(e){const t=this._connections.get(e);if(t)for(let n of t)n.close()}disconnect(){if(this.disconnected)return;const e=this.id;xe.log(`Disconnect peer with ID:${e}`),this._disconnected=!0,this._open=!1,this.socket.alive=!1,this.socket.close(),this._lastServerId=e,this._id=null,this.emit("disconnected",e)}reconnect(){if(this.disconnected&&!this.destroyed)xe.log(`Attempting reconnection to server with ID ${this._lastServerId}`),this._disconnected=!1,this.socket.alive=!0,this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error("This peer cannot reconnect to the server. It has already been destroyed.");if(!this.disconnected&&!this.open)xe.error("In a hurry? We're still trying to make the initial connection!");else throw new Error(`Peer ${this.id} cannot reconnect because it is not disconnected from the server!`)}}listAllPeers(e=t=>{}){this._api.listAllPeers().then(t=>e(t)).catch(t=>this._abort("server-error",t))}static getFeatures(e){return!e&&typeof window<"u"&&(e=window),$a._features||($a._features=$a.checkFeatures(e)),$a._features}static checkFeatures(e){!e&&typeof window<"u"&&(e=window);const t={webRTC:typeof e.RTCPeerConnection<"u",audioVideo:!0,data:!1,binaryBlob:!1,reliable:!1,unifiedPlan:!1};if(!t.webRTC)return t;let n;try{n=new e.RTCPeerConnection(rn.defaultConfig);let r;try{r=n.createDataChannel("_PEERJSTEST",{ordered:!0}),t.data=!0,t.reliable=!!r.ordered;try{r.binaryType="blob",t.binaryBlob=!0}catch{}}catch{}finally{r&&r.close()}}catch{}finally{n&&n.close()}return t.unifiedPlan=JG.isUnifiedPlanSupported(e),t}},d0=$a;d0.DEFAULT_KEY="peerjs";typeof window<"u"&&(window.Peer=d0);class XG extends Mo{constructor(){super(...arguments),this.name="PeerJS",this.peer=null,this.getCurrentPing=()=>0,this.disconnect=()=>{var t;(t=this.peer)==null||t.disconnect()}}connect(t,n,r){this.peer=new d0(`allkaraoke-party-room-${t}`,xj),this.peer.on("open",function(i){n(),console.log("My peer ID is: "+i)}),this.peer.on("connection",i=>{i.on("data",s=>{this.onUpdate(s,i)}),i.on("error",s=>console.warn("error",s)),i.on("iceStateChanged",s=>{(s==="disconnected"||s==="closed")&&this.onUpdate({t:"unregister"},i)}),i.on("close",()=>{Ze.removeRemoteMic(i.peer)})})}}const Rj="wss://backend.allkaraoke.party";class ZG extends Mo{constructor(){super(),this.name="WebSockets",this.connection=null,this.disconnect=()=>{var t;(t=this.connection)==null||t.close()},this.latency=0,this.pingStart=ps(),this.pinging=!1,this.pingTimeout=null,this.ping=()=>{var t;this.pinging=!0,this.pingStart=ps(),(t=this.connection)==null||t.send(rf({t:"ping"}))},this.onPong=()=>{this.pinging&&(this.latency=ps()-this.pingStart,this.pinging=!1,this.pingTimeout&&clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(this.ping,5e3))},this.getCurrentPing=()=>this.pinging?Math.max(this.latency,ps()-this.pingStart):this.latency}connect(t,n,r){this.connection=new WebSocket(Rj),this.connection.binaryType="arraybuffer",this.connection.onopen=()=>{var i,s;(i=this.connection)==null||i.send(rf({t:"register-room",id:t})),n(),this.ping(),(s=this.connection)==null||s.addEventListener("message",o=>{var l;const a=Vb(o.data);if(a.t==="forward"){["ping","pong","freq"].includes((l=a==null?void 0:a.payload)==null?void 0:l.t)||console.log("received",a);const{sender:c,payload:u}=a,d=new eq(c,this.connection);this.onUpdate(u,d)}else a.t==="pong"?this.onPong():console.warn("Unknown message type",a)})},this.connection.onclose=i=>{r(i.reason,i)}}}class eq{constructor(t,n){this.peer=t,this.socket=n,this.currentPing=0,this.send=r=>{const i={t:"forward",recipients:[this.peer],payload:r};["ping","pong","freq"].includes(r==null?void 0:r.t)||console.log("sending",this.peer,r),this.socket.send(rf(i))},this.callbacksMap=new Map,this.on=(r,i)=>{r==="data"&&(this.callbacksMap.set(i,s=>{const o=Vb(s.data);if(o.t==="forward"){const{sender:a,payload:l}=o;a===this.peer&&i(l)}}),this.socket.addEventListener("message",this.callbacksMap.get(i)))},this.off=(r,i)=>{if(r==="data"){const s=this.callbacksMap.get(i);this.socket.removeEventListener("message",s),this.callbacksMap.delete(i)}},this.close=()=>{this.socket.close()}}}var Mj={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Qo,function(){var n=1e3,r=6e4,i=36e5,s="millisecond",o="second",a="minute",l="hour",c="day",u="week",d="month",h="quarter",p="year",g="date",m="Invalid Date",_=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,v=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,y={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(L){var R=["th","st","nd","rd"],I=L%100;return"["+L+(R[(I-20)%10]||R[I]||R[0])+"]"}},S=function(L,R,I){var F=String(L);return!F||F.length>=R?L:""+Array(R+1-F.length).join(I)+L},x={s:S,z:function(L){var R=-L.utcOffset(),I=Math.abs(R),F=Math.floor(I/60),j=I%60;return(R<=0?"+":"-")+S(F,2,"0")+":"+S(j,2,"0")},m:function L(R,I){if(R.date()<I.date())return-L(I,R);var F=12*(I.year()-R.year())+(I.month()-R.month()),j=R.clone().add(F,d),z=I-j<0,V=R.clone().add(F+(z?-1:1),d);return+(-(F+(I-j)/(z?j-V:V-j))||0)},a:function(L){return L<0?Math.ceil(L)||0:Math.floor(L)},p:function(L){return{M:d,y:p,w:u,d:c,D:g,h:l,m:a,s:o,ms:s,Q:h}[L]||String(L||"").toLowerCase().replace(/s$/,"")},u:function(L){return L===void 0}},b="en",w={};w[b]=y;var E="$isDayjsObject",T=function(L){return L instanceof K||!(!L||!L[E])},$=function L(R,I,F){var j;if(!R)return b;if(typeof R=="string"){var z=R.toLowerCase();w[z]&&(j=z),I&&(w[z]=I,j=z);var V=R.split("-");if(!j&&V.length>1)return L(V[0])}else{var G=R.name;w[G]=R,j=G}return!F&&j&&(b=j),j||!F&&b},N=function(L,R){if(T(L))return L.clone();var I=typeof R=="object"?R:{};return I.date=L,I.args=arguments,new K(I)},B=x;B.l=$,B.i=T,B.w=function(L,R){return N(L,{locale:R.$L,utc:R.$u,x:R.$x,$offset:R.$offset})};var K=function(){function L(I){this.$L=$(I.locale,null,!0),this.parse(I),this.$x=this.$x||I.x||{},this[E]=!0}var R=L.prototype;return R.parse=function(I){this.$d=function(F){var j=F.date,z=F.utc;if(j===null)return new Date(NaN);if(B.u(j))return new Date;if(j instanceof Date)return new Date(j);if(typeof j=="string"&&!/Z$/i.test(j)){var V=j.match(_);if(V){var G=V[2]-1||0,U=(V[7]||"0").substring(0,3);return z?new Date(Date.UTC(V[1],G,V[3]||1,V[4]||0,V[5]||0,V[6]||0,U)):new Date(V[1],G,V[3]||1,V[4]||0,V[5]||0,V[6]||0,U)}}return new Date(j)}(I),this.init()},R.init=function(){var I=this.$d;this.$y=I.getFullYear(),this.$M=I.getMonth(),this.$D=I.getDate(),this.$W=I.getDay(),this.$H=I.getHours(),this.$m=I.getMinutes(),this.$s=I.getSeconds(),this.$ms=I.getMilliseconds()},R.$utils=function(){return B},R.isValid=function(){return this.$d.toString()!==m},R.isSame=function(I,F){var j=N(I);return this.startOf(F)<=j&&j<=this.endOf(F)},R.isAfter=function(I,F){return N(I)<this.startOf(F)},R.isBefore=function(I,F){return this.endOf(F)<N(I)},R.$g=function(I,F,j){return B.u(I)?this[F]:this.set(j,I)},R.unix=function(){return Math.floor(this.valueOf()/1e3)},R.valueOf=function(){return this.$d.getTime()},R.startOf=function(I,F){var j=this,z=!!B.u(F)||F,V=B.p(I),G=function(Ae,le){var be=B.w(j.$u?Date.UTC(j.$y,le,Ae):new Date(j.$y,le,Ae),j);return z?be:be.endOf(c)},U=function(Ae,le){return B.w(j.toDate()[Ae].apply(j.toDate("s"),(z?[0,0,0,0]:[23,59,59,999]).slice(le)),j)},ne=this.$W,O=this.$M,de=this.$D,Z="set"+(this.$u?"UTC":"");switch(V){case p:return z?G(1,0):G(31,11);case d:return z?G(1,O):G(0,O+1);case u:var oe=this.$locale().weekStart||0,Pe=(ne<oe?ne+7:ne)-oe;return G(z?de-Pe:de+(6-Pe),O);case c:case g:return U(Z+"Hours",0);case l:return U(Z+"Minutes",1);case a:return U(Z+"Seconds",2);case o:return U(Z+"Milliseconds",3);default:return this.clone()}},R.endOf=function(I){return this.startOf(I,!1)},R.$set=function(I,F){var j,z=B.p(I),V="set"+(this.$u?"UTC":""),G=(j={},j[c]=V+"Date",j[g]=V+"Date",j[d]=V+"Month",j[p]=V+"FullYear",j[l]=V+"Hours",j[a]=V+"Minutes",j[o]=V+"Seconds",j[s]=V+"Milliseconds",j)[z],U=z===c?this.$D+(F-this.$W):F;if(z===d||z===p){var ne=this.clone().set(g,1);ne.$d[G](U),ne.init(),this.$d=ne.set(g,Math.min(this.$D,ne.daysInMonth())).$d}else G&&this.$d[G](U);return this.init(),this},R.set=function(I,F){return this.clone().$set(I,F)},R.get=function(I){return this[B.p(I)]()},R.add=function(I,F){var j,z=this;I=Number(I);var V=B.p(F),G=function(O){var de=N(z);return B.w(de.date(de.date()+Math.round(O*I)),z)};if(V===d)return this.set(d,this.$M+I);if(V===p)return this.set(p,this.$y+I);if(V===c)return G(1);if(V===u)return G(7);var U=(j={},j[a]=r,j[l]=i,j[o]=n,j)[V]||1,ne=this.$d.getTime()+I*U;return B.w(ne,this)},R.subtract=function(I,F){return this.add(-1*I,F)},R.format=function(I){var F=this,j=this.$locale();if(!this.isValid())return j.invalidDate||m;var z=I||"YYYY-MM-DDTHH:mm:ssZ",V=B.z(this),G=this.$H,U=this.$m,ne=this.$M,O=j.weekdays,de=j.months,Z=j.meridiem,oe=function(le,be,He,Fe){return le&&(le[be]||le(F,z))||He[be].slice(0,Fe)},Pe=function(le){return B.s(G%12||12,le,"0")},Ae=Z||function(le,be,He){var Fe=le<12?"AM":"PM";return He?Fe.toLowerCase():Fe};return z.replace(v,function(le,be){return be||function(He){switch(He){case"YY":return String(F.$y).slice(-2);case"YYYY":return B.s(F.$y,4,"0");case"M":return ne+1;case"MM":return B.s(ne+1,2,"0");case"MMM":return oe(j.monthsShort,ne,de,3);case"MMMM":return oe(de,ne);case"D":return F.$D;case"DD":return B.s(F.$D,2,"0");case"d":return String(F.$W);case"dd":return oe(j.weekdaysMin,F.$W,O,2);case"ddd":return oe(j.weekdaysShort,F.$W,O,3);case"dddd":return O[F.$W];case"H":return String(G);case"HH":return B.s(G,2,"0");case"h":return Pe(1);case"hh":return Pe(2);case"a":return Ae(G,U,!0);case"A":return Ae(G,U,!1);case"m":return String(U);case"mm":return B.s(U,2,"0");case"s":return String(F.$s);case"ss":return B.s(F.$s,2,"0");case"SSS":return B.s(F.$ms,3,"0");case"Z":return V}return null}(le)||V.replace(":","")})},R.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},R.diff=function(I,F,j){var z,V=this,G=B.p(F),U=N(I),ne=(U.utcOffset()-this.utcOffset())*r,O=this-U,de=function(){return B.m(V,U)};switch(G){case p:z=de()/12;break;case d:z=de();break;case h:z=de()/3;break;case u:z=(O-ne)/6048e5;break;case c:z=(O-ne)/864e5;break;case l:z=O/i;break;case a:z=O/r;break;case o:z=O/n;break;default:z=O}return j?z:B.a(z)},R.daysInMonth=function(){return this.endOf(d).$D},R.$locale=function(){return w[this.$L]},R.locale=function(I,F){if(!I)return this.$L;var j=this.clone(),z=$(I,F,!0);return z&&(j.$L=z),j},R.clone=function(){return B.w(this.$d,this)},R.toDate=function(){return new Date(this.valueOf())},R.toJSON=function(){return this.isValid()?this.toISOString():null},R.toISOString=function(){return this.$d.toISOString()},R.toString=function(){return this.$d.toUTCString()},L}(),P=K.prototype;return N.prototype=P,[["$ms",s],["$s",o],["$m",a],["$H",l],["$W",c],["$M",d],["$y",p],["$D",g]].forEach(function(L){P[L[1]]=function(R){return this.$g(R,L[0],L[1])}}),N.extend=function(L,R){return L.$i||(L(R,K,N),L.$i=!0),N},N.locale=$,N.isDayjs=T,N.unix=function(L){return N(1e3*L)},N.en=w[b],N.Ls=w,N.p={},N})})(Mj);var tq=Mj.exports;const gs=hr(tq);function nq(e){return!!e}function rq(e){return[...Array(e).keys()]}const iq=250,Jv=(e,t=0,n=1/0)=>e.filter(Mt).filter(r=>ya([r])>=t).filter(r=>ff([r])<=n).reduce((r,i)=>r+i.notes.reduce((s,o)=>s+o.length,0),0),sq=(e,t)=>{const[n,...r]=e.filter(Mt),i=[[n]];return r.forEach(s=>{const o=i.at(-1),a=ff(o);(ya([s])-a)*t>iq?i.push([s]):o.push(s)}),i},Pj=(e,t)=>e+t,Hk=e=>{const t=e.map(n=>n.reduce(Pj,0));return Math.max(...t)-Math.min(...t)},oq=(e,t)=>{const n=JSON.parse(JSON.stringify(e)),r=s=>{if(n[s-1].length<2)return;const o=n[s-1].pop();n[s].push(o)},i=s=>{var l;if(((l=n[s+1])==null?void 0:l.length)<2)return;const[o,...a]=n[s+1];n[s].push(o),n[s+1]=a};return t%2===1?r(Math.ceil(t/2)):i(Math.ceil(t/2)),n},aq=e=>e.reduce(Pj,0);function pS(e,t){const r=wu(t);if(e.sections.length<9)return[];const i=sq(e.sections,r);let s=[],o=[Jv(i[0])];for(let a=0;a<i.length-2;a++){const l=i[s.flat().length-1]??[],u=Jv(e.sections,ff(l)??0)/(10-s.length),d=Jv(i[a+1]),h=aq(o);h+d<u?o=[...o,d]:u-h<h+d-u?(s.push(o),o=[d]):(s.push([...o,d]),o=[])}for(let a=0;a<100;a++){const l=Hk(s),c=rq((s.length-2)*2+2).map(p=>oq(s,p)),u=c.map(Hk),d=Math.min(...u);if(l<=d)break;const h=u.indexOf(d);s=c[h]}return s.map(a=>a.length).reduce((a,l)=>[...a,(a.at(-1)??0)+l],[]).map(a=>ff(i[a-1]))}var jj={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Qo,function(){function n(r){return typeof r=="string"?r.replace(/[^A-Za-z0-9]/g,function(i){return n.characters[i]||i}):r}return n.characters={Á:"A",Ă:"A",Ắ:"A",Ặ:"A",Ằ:"A",Ẳ:"A",Ẵ:"A",Ǎ:"A",Â:"A",Ấ:"A",Ậ:"A",Ầ:"A",Ẩ:"A",Ẫ:"A",Ä:"A",Ǟ:"A",Ȧ:"A",Ǡ:"A",Ạ:"A",Ȁ:"A",À:"A",Ả:"A",Ȃ:"A",Ā:"A",Ą:"A",Å:"A",Ǻ:"A",Ḁ:"A","Ⱥ":"A",Ã:"A","Ꜳ":"AA",Æ:"AE",Ǽ:"AE",Ǣ:"AE","Ꜵ":"AO","Ꜷ":"AU","Ꜹ":"AV","Ꜻ":"AV","Ꜽ":"AY",Ḃ:"B",Ḅ:"B",Ɓ:"B",Ḇ:"B","Ƀ":"B",Ƃ:"B",Ć:"C",Č:"C",Ç:"C",Ḉ:"C",Ĉ:"C",Ċ:"C",Ƈ:"C","Ȼ":"C",Ď:"D",Ḑ:"D",Ḓ:"D",Ḋ:"D",Ḍ:"D",Ɗ:"D",Ḏ:"D",ǲ:"D",ǅ:"D",Đ:"D",Ð:"D",Ƌ:"D",Ǳ:"DZ",Ǆ:"DZ",É:"E",Ĕ:"E",Ě:"E",Ȩ:"E",Ḝ:"E",Ê:"E",Ế:"E",Ệ:"E",Ề:"E",Ể:"E",Ễ:"E",Ḙ:"E",Ë:"E",Ė:"E",Ẹ:"E",Ȅ:"E",È:"E",Ẻ:"E",Ȇ:"E",Ē:"E",Ḗ:"E",Ḕ:"E",Ę:"E","Ɇ":"E",Ẽ:"E",Ḛ:"E","Ꝫ":"ET",Ḟ:"F",Ƒ:"F",Ǵ:"G",Ğ:"G",Ǧ:"G",Ģ:"G",Ĝ:"G",Ġ:"G",Ɠ:"G",Ḡ:"G",Ǥ:"G",Ḫ:"H",Ȟ:"H",Ḩ:"H",Ĥ:"H","Ⱨ":"H",Ḧ:"H",Ḣ:"H",Ḥ:"H",Ħ:"H",Í:"I",Ĭ:"I",Ǐ:"I",Î:"I",Ï:"I",Ḯ:"I",İ:"I",Ị:"I",Ȉ:"I",Ì:"I",Ỉ:"I",Ȋ:"I",Ī:"I",Į:"I",Ɨ:"I",Ĩ:"I",Ḭ:"I",І:"I","Ꝺ":"D","Ꝼ":"F","Ᵹ":"G","Ꞃ":"R","Ꞅ":"S","Ꞇ":"T","Ꝭ":"IS",Ĵ:"J","Ɉ":"J",Ḱ:"K",Ǩ:"K",Ķ:"K","Ⱪ":"K","Ꝃ":"K",Ḳ:"K",Ƙ:"K",Ḵ:"K","Ꝁ":"K","Ꝅ":"K",Ĺ:"L","Ƚ":"L",Ľ:"L",Ļ:"L",Ḽ:"L",Ḷ:"L",Ḹ:"L","Ⱡ":"L","Ꝉ":"L",Ḻ:"L",Ŀ:"L","Ɫ":"L",ǈ:"L",Ł:"L",Ǉ:"LJ",Ḿ:"M",Ṁ:"M",Ṃ:"M","Ɱ":"M",Ń:"N",Ň:"N",Ņ:"N",Ṋ:"N",Ṅ:"N",Ṇ:"N",Ǹ:"N",Ɲ:"N",Ṉ:"N","Ƞ":"N",ǋ:"N",Ñ:"N",Ǌ:"NJ",Ó:"O",Ŏ:"O",Ǒ:"O",Ô:"O",Ố:"O",Ộ:"O",Ồ:"O",Ổ:"O",Ỗ:"O",Ö:"O",Ȫ:"O",Ȯ:"O",Ȱ:"O",Ọ:"O",Ő:"O",Ȍ:"O",Ò:"O",Ỏ:"O",Ơ:"O",Ớ:"O",Ợ:"O",Ờ:"O",Ở:"O",Ỡ:"O",Ȏ:"O","Ꝋ":"O","Ꝍ":"O",Ō:"O",Ṓ:"O",Ṑ:"O",Ɵ:"O",Ǫ:"O",Ǭ:"O",Ø:"O",Ǿ:"O",Õ:"O",Ṍ:"O",Ṏ:"O",Ȭ:"O",Ƣ:"OI","Ꝏ":"OO",Ɛ:"E",Ɔ:"O",Ȣ:"OU",Ṕ:"P",Ṗ:"P","Ꝓ":"P",Ƥ:"P","Ꝕ":"P","Ᵽ":"P","Ꝑ":"P","Ꝙ":"Q","Ꝗ":"Q",Ŕ:"R",Ř:"R",Ŗ:"R",Ṙ:"R",Ṛ:"R",Ṝ:"R",Ȑ:"R",Ȓ:"R",Ṟ:"R","Ɍ":"R","Ɽ":"R","Ꜿ":"C",Ǝ:"E",Ś:"S",Ṥ:"S",Š:"S",Ṧ:"S",Ş:"S",Ŝ:"S",Ș:"S",Ṡ:"S",Ṣ:"S",Ṩ:"S",ß:"ss",Ť:"T",Ţ:"T",Ṱ:"T",Ț:"T","Ⱦ":"T",Ṫ:"T",Ṭ:"T",Ƭ:"T",Ṯ:"T",Ʈ:"T",Ŧ:"T","Ɐ":"A","Ꞁ":"L",Ɯ:"M","Ʌ":"V","Ꜩ":"TZ",Ú:"U",Ŭ:"U",Ǔ:"U",Û:"U",Ṷ:"U",Ü:"U",Ǘ:"U",Ǚ:"U",Ǜ:"U",Ǖ:"U",Ṳ:"U",Ụ:"U",Ű:"U",Ȕ:"U",Ù:"U",Ủ:"U",Ư:"U",Ứ:"U",Ự:"U",Ừ:"U",Ử:"U",Ữ:"U",Ȗ:"U",Ū:"U",Ṻ:"U",Ų:"U",Ů:"U",Ũ:"U",Ṹ:"U",Ṵ:"U","Ꝟ":"V",Ṿ:"V",Ʋ:"V",Ṽ:"V","Ꝡ":"VY",Ẃ:"W",Ŵ:"W",Ẅ:"W",Ẇ:"W",Ẉ:"W",Ẁ:"W","Ⱳ":"W",Ẍ:"X",Ẋ:"X",Ý:"Y",Ŷ:"Y",Ÿ:"Y",Ẏ:"Y",Ỵ:"Y",Ỳ:"Y",Ƴ:"Y",Ỷ:"Y","Ỿ":"Y",Ȳ:"Y","Ɏ":"Y",Ỹ:"Y",Ї:"YI",Ź:"Z",Ž:"Z",Ẑ:"Z","Ⱬ":"Z",Ż:"Z",Ẓ:"Z",Ȥ:"Z",Ẕ:"Z",Ƶ:"Z",Þ:"TH",Ĳ:"IJ",Œ:"OE","ᴀ":"A","ᴁ":"AE",ʙ:"B","ᴃ":"B","ᴄ":"C","ᴅ":"D","ᴇ":"E","ꜰ":"F",ɢ:"G",ʛ:"G",ʜ:"H",ɪ:"I",ʁ:"R","ᴊ":"J","ᴋ":"K",ʟ:"L","ᴌ":"L","ᴍ":"M",ɴ:"N","ᴏ":"O",ɶ:"OE","ᴐ":"O","ᴕ":"OU","ᴘ":"P",ʀ:"R","ᴎ":"N","ᴙ":"R","ꜱ":"S","ᴛ":"T","ⱻ":"E","ᴚ":"R","ᴜ":"U","ᴠ":"V","ᴡ":"W",ʏ:"Y","ᴢ":"Z",á:"a",ă:"a",ắ:"a",ặ:"a",ằ:"a",ẳ:"a",ẵ:"a",ǎ:"a",â:"a",ấ:"a",ậ:"a",ầ:"a",ẩ:"a",ẫ:"a",ä:"a",ǟ:"a",ȧ:"a",ǡ:"a",ạ:"a",ȁ:"a",à:"a",ả:"a",ȃ:"a",ā:"a",ą:"a","ᶏ":"a",ẚ:"a",å:"a",ǻ:"a",ḁ:"a","ⱥ":"a",ã:"a","ꜳ":"aa",æ:"ae",ǽ:"ae",ǣ:"ae","ꜵ":"ao","ꜷ":"au","ꜹ":"av","ꜻ":"av","ꜽ":"ay",ḃ:"b",ḅ:"b",ɓ:"b",ḇ:"b","ᵬ":"b","ᶀ":"b",ƀ:"b",ƃ:"b",ɵ:"o",ć:"c",č:"c",ç:"c",ḉ:"c",ĉ:"c",ɕ:"c",ċ:"c",ƈ:"c","ȼ":"c",ď:"d",ḑ:"d",ḓ:"d","ȡ":"d",ḋ:"d",ḍ:"d",ɗ:"d","ᶑ":"d",ḏ:"d","ᵭ":"d","ᶁ":"d",đ:"d",ɖ:"d",ƌ:"d",ð:"d",ı:"i","ȷ":"j",ɟ:"j",ʄ:"j",ǳ:"dz",ǆ:"dz",é:"e",ĕ:"e",ě:"e",ȩ:"e",ḝ:"e",ê:"e",ế:"e",ệ:"e",ề:"e",ể:"e",ễ:"e",ḙ:"e",ë:"e",ė:"e",ẹ:"e",ȅ:"e",è:"e",ẻ:"e",ȇ:"e",ē:"e",ḗ:"e",ḕ:"e","ⱸ":"e",ę:"e","ᶒ":"e","ɇ":"e",ẽ:"e",ḛ:"e","ꝫ":"et",ḟ:"f",ƒ:"f","ᵮ":"f","ᶂ":"f",ǵ:"g",ğ:"g",ǧ:"g",ģ:"g",ĝ:"g",ġ:"g",ɠ:"g",ḡ:"g","ᶃ":"g",ǥ:"g",ḫ:"h",ȟ:"h",ḩ:"h",ĥ:"h","ⱨ":"h",ḧ:"h",ḣ:"h",ḥ:"h",ɦ:"h",ẖ:"h",ħ:"h",ƕ:"hv",í:"i",ĭ:"i",ǐ:"i",î:"i",ï:"i",ḯ:"i",ị:"i",ȉ:"i",ì:"i",ỉ:"i",ȋ:"i",ī:"i",į:"i","ᶖ":"i",ɨ:"i",ĩ:"i",ḭ:"i",і:"i","ꝺ":"d","ꝼ":"f","ᵹ":"g","ꞃ":"r","ꞅ":"s","ꞇ":"t","ꝭ":"is",ǰ:"j",ĵ:"j",ʝ:"j","ɉ":"j",ḱ:"k",ǩ:"k",ķ:"k","ⱪ":"k","ꝃ":"k",ḳ:"k",ƙ:"k",ḵ:"k","ᶄ":"k","ꝁ":"k","ꝅ":"k",ĺ:"l",ƚ:"l",ɬ:"l",ľ:"l",ļ:"l",ḽ:"l","ȴ":"l",ḷ:"l",ḹ:"l","ⱡ":"l","ꝉ":"l",ḻ:"l",ŀ:"l",ɫ:"l","ᶅ":"l",ɭ:"l",ł:"l",ǉ:"lj",ſ:"s","ẜ":"s",ẛ:"s","ẝ":"s",ḿ:"m",ṁ:"m",ṃ:"m",ɱ:"m","ᵯ":"m","ᶆ":"m",ń:"n",ň:"n",ņ:"n",ṋ:"n","ȵ":"n",ṅ:"n",ṇ:"n",ǹ:"n",ɲ:"n",ṉ:"n",ƞ:"n","ᵰ":"n","ᶇ":"n",ɳ:"n",ñ:"n",ǌ:"nj",ó:"o",ŏ:"o",ǒ:"o",ô:"o",ố:"o",ộ:"o",ồ:"o",ổ:"o",ỗ:"o",ö:"o",ȫ:"o",ȯ:"o",ȱ:"o",ọ:"o",ő:"o",ȍ:"o",ò:"o",ỏ:"o",ơ:"o",ớ:"o",ợ:"o",ờ:"o",ở:"o",ỡ:"o",ȏ:"o","ꝋ":"o","ꝍ":"o","ⱺ":"o",ō:"o",ṓ:"o",ṑ:"o",ǫ:"o",ǭ:"o",ø:"o",ǿ:"o",õ:"o",ṍ:"o",ṏ:"o",ȭ:"o",ƣ:"oi","ꝏ":"oo",ɛ:"e","ᶓ":"e",ɔ:"o","ᶗ":"o",ȣ:"ou",ṕ:"p",ṗ:"p","ꝓ":"p",ƥ:"p","ᵱ":"p","ᶈ":"p","ꝕ":"p","ᵽ":"p","ꝑ":"p","ꝙ":"q",ʠ:"q","ɋ":"q","ꝗ":"q",ŕ:"r",ř:"r",ŗ:"r",ṙ:"r",ṛ:"r",ṝ:"r",ȑ:"r",ɾ:"r","ᵳ":"r",ȓ:"r",ṟ:"r",ɼ:"r","ᵲ":"r","ᶉ":"r","ɍ":"r",ɽ:"r","ↄ":"c","ꜿ":"c",ɘ:"e",ɿ:"r",ś:"s",ṥ:"s",š:"s",ṧ:"s",ş:"s",ŝ:"s",ș:"s",ṡ:"s",ṣ:"s",ṩ:"s",ʂ:"s","ᵴ":"s","ᶊ":"s","ȿ":"s",ɡ:"g","ᴑ":"o","ᴓ":"o","ᴝ":"u",ť:"t",ţ:"t",ṱ:"t",ț:"t","ȶ":"t",ẗ:"t","ⱦ":"t",ṫ:"t",ṭ:"t",ƭ:"t",ṯ:"t","ᵵ":"t",ƫ:"t",ʈ:"t",ŧ:"t","ᵺ":"th",ɐ:"a","ᴂ":"ae",ǝ:"e","ᵷ":"g",ɥ:"h","ʮ":"h","ʯ":"h","ᴉ":"i",ʞ:"k","ꞁ":"l",ɯ:"m",ɰ:"m","ᴔ":"oe",ɹ:"r",ɻ:"r",ɺ:"r","ⱹ":"r",ʇ:"t",ʌ:"v",ʍ:"w",ʎ:"y","ꜩ":"tz",ú:"u",ŭ:"u",ǔ:"u",û:"u",ṷ:"u",ü:"u",ǘ:"u",ǚ:"u",ǜ:"u",ǖ:"u",ṳ:"u",ụ:"u",ű:"u",ȕ:"u",ù:"u",ủ:"u",ư:"u",ứ:"u",ự:"u",ừ:"u",ử:"u",ữ:"u",ȗ:"u",ū:"u",ṻ:"u",ų:"u","ᶙ":"u",ů:"u",ũ:"u",ṹ:"u",ṵ:"u","ᵫ":"ue","ꝸ":"um","ⱴ":"v","ꝟ":"v",ṿ:"v",ʋ:"v","ᶌ":"v","ⱱ":"v",ṽ:"v","ꝡ":"vy",ẃ:"w",ŵ:"w",ẅ:"w",ẇ:"w",ẉ:"w",ẁ:"w","ⱳ":"w",ẘ:"w",ẍ:"x",ẋ:"x","ᶍ":"x",ý:"y",ŷ:"y",ÿ:"y",ẏ:"y",ỵ:"y",ỳ:"y",ƴ:"y",ỷ:"y","ỿ":"y",ȳ:"y",ẙ:"y","ɏ":"y",ỹ:"y",ї:"yi",ź:"z",ž:"z",ẑ:"z",ʑ:"z","ⱬ":"z",ż:"z",ẓ:"z",ȥ:"z",ẕ:"z","ᵶ":"z","ᶎ":"z",ʐ:"z",ƶ:"z","ɀ":"z",þ:"th",ﬀ:"ff",ﬃ:"ffi",ﬄ:"ffl",ﬁ:"fi",ﬂ:"fl",ĳ:"ij",œ:"oe",ﬆ:"st","ₐ":"a","ₑ":"e","ᵢ":"i","ⱼ":"j","ₒ":"o","ᵣ":"r","ᵤ":"u","ᵥ":"v","ₓ":"x",Ё:"YO",Й:"I",Ц:"TS",У:"U",К:"K",Е:"E",Н:"N",Г:"G",Ґ:"G",Ш:"SH",Щ:"SCH",З:"Z",Х:"H",Ъ:"'",ё:"yo",й:"i",ц:"ts",у:"u",к:"k",е:"e",н:"n",г:"g",ґ:"g",ш:"sh",щ:"sch",з:"z",х:"h",ъ:"'",Ф:"F",Ы:"I",В:"V",А:"a",П:"P",Р:"R",О:"O",Л:"L",Д:"D",Ж:"ZH",Э:"E",ф:"f",ы:"i",в:"v",а:"a",п:"p",р:"r",о:"o",л:"l",д:"d",ж:"zh",э:"e",Я:"Ya",Ч:"CH",С:"S",М:"M",И:"I",Т:"T",Ь:"'",Б:"B",Ю:"YU",я:"ya",ч:"ch",с:"s",м:"m",и:"i",т:"t",ь:"'",б:"b",ю:"yu"},n})})(jj);var lq=jj.exports;const cq=hr(lq),uq=/[^0-9a-z]/gi;function yl(e){return gS(e).toLowerCase().normalize("NFKD").replace(uq,"")}function gS(e){return cq(e)}function Oj(e){return gS(e).toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+$/,"").replace(/^-+/,"").replace(/-+/g,"-")}function mS(e){return e.id?e.id:Oj(`${e==null?void 0:e.artist}-${e==null?void 0:e.title}`)}const Gk=(e,t,n)=>n>=e&&n<=t,qk=e=>e.notes.map(t=>t.lyrics).join(""),Wk=e=>new Set(yl(e)).size,dq=(e,t)=>{const n=e.reduce((i,s)=>`${i}${qk(s)}`,""),r=qk(t);return Wk(n)/Wk(r)<.5},fq=(e,t)=>{const n=t.start,r=hf(t),i=e.filter(o=>{const a=o.start,l=hf(o);return Gk(n,r,a)||Gk(n,r,l)||a<=n&&l>=r}),s=dq(i,t);return{section:t,shouldReplace:i.length===0||s,sectionsToRemove:i}};function Vj(e,t){if(e){if(e.length===1)return e[0]}else return e;const n=e.map(o=>o.sections.filter(Mt)),r=n[1].map(o=>fq(n[0],o));let i=[...n[0]];r.forEach((o,a)=>{o.shouldReplace&&(i=i.filter(l=>!o.sectionsToRemove.some(c=>c.start===l.start)),i.push(o.section))});const s={...e[0],sections:i.sort((o,a)=>o.start-a.start),changes:[]};return s.changes=pS(s,t),s}const Kk={R:"rap",F:"freestyle","*":"star",":":"normal",G:"rapstar"},u1e={rap:"R",freestyle:"F",star:"*",normal:":",rapstar:"G"},hq=["TRACKNAMES","YEAR","EDITION","GENRE","LANGUAGE","VIDEOGAP","PREVIEWSTART","CREATOR","TITLE","ARTIST","BPM","GAP","ID","LASTUPDATE","VOLUME","REALBPM","PREVIEWEND","CREATORURL","SOURCEURL","ARTISTORIGIN","VIDEOID","ALLKARAOKE_ID","ALLKARAOKE_LASTUPDATE","ALLKARAOKE_VOLUME","ALLKARAOKE_REALBPM","ALLKARAOKE_PREVIEWEND","ALLKARAOKE_CREATORURL","ALLKARAOKE_SOURCEURL","ALLKARAOKE_ARTISTORIGIN","ALLKARAOKE_VIDEOID"];function pq(e){return e.split(`
`).filter(t=>t.startsWith("#")&&!hq.includes(t.substring(1).split(":")[0]))}function Lt(e,t,n="string"){const r=i=>{var a;const s=new RegExp(`#${i}\\:(.*)`),o=(a=e.match(s))==null?void 0:a[1];if(o!==void 0)return n==="number"?Number(o.replace(",","."))??0:n==="array"?o.split(", "):o};return t.map(r).filter(nq).at(0)}function gq(e){var r;const t=Lt(e,["VIDEO"])??"",n=new RegExp("v=(.*?)(,|$)");return(r=t.match(n))==null?void 0:r[1]}const mq=/- -?\d+ -?\d+/;function Yk(e){try{const t=new URL(e);return t.host==="youtu.be"?t.pathname.substring(1):t.host==="www.youtube.com"||t.host==="youtube.com"?t.searchParams.get("v"):null}catch{return null}}function vq(e,t){try{return JSON.parse(e)}catch{return t}}function yq(e){const t=Lt(e,["P1"]),n=Lt(e,["P2"]);return t||n?[t,n]:vq(Lt(e,["TRACKNAMES"]),[])}function Aq(e,t,n,r,i){var p,g;const s=yq(e),o={year:Lt(e,["YEAR"]),artistOrigin:Lt(e,["ALLKARAOKE_ARTISTORIGIN","ARTISTORIGIN"]),lastUpdate:Lt(e,["ALLKARAOKE_LASTUPDATE","LASTUPDATE"]),edition:Lt(e,["EDITION"]),genre:Lt(e,["GENRE"]),videoGap:Lt(e,["VIDEOGAP"],"number"),realBpm:Lt(e,["ALLKARAOKE_REALBPM","REALBPM"],"number"),previewStart:Lt(e,["PREVIEWSTART"],"number"),previewEnd:Lt(e,["ALLKARAOKE_PREVIEWEND","PREVIEWEND"],"number"),volume:Lt(e,["ALLKARAOKE_VOLUME","VOLUME"],"number"),author:Lt(e,["CREATOR"])??n,authorUrl:Lt(e,["ALLKARAOKE_CREATORURL","CREATORURL"])??r,sourceUrl:Lt(e,["ALLKARAOKE_SOURCEURL","SOURCEURL"])??i};o.videoGap&&(o.videoGap=Math.floor(o.videoGap));const a=Lt(e,["TITLE"])??"",l=Lt(e,["ARTIST"])??"",c=Lt(e,["ALLKARAOKE_VIDEOID","VIDEOID"])??Yk(Lt(e,["AUDIOURL"])??"")??Yk(Lt(e,["VIDEOURL"])??"")??gq(e)??"",u={id:Lt(e,["ALLKARAOKE_ID","ID"])??mS({title:a,artist:l}),title:a,artist:l,video:c,language:Lt(e,["LANGUAGE"],"array")??[],bpm:Number(((p=Lt(e,["BPM"]))==null?void 0:p.replace(",","."))??0),bar:4,gap:Number(((g=Lt(e,["GAP"]))==null?void 0:g.replace(",","."))??0),...o,tracks:[],unsupportedProps:pq(e),mergedTrack:{}};if((t==null?void 0:t.length)===11)u.video=t;else if(t)try{const m=new URL(t);u.video=m.searchParams.get("v")||"Invalid link"}catch(m){u.video=`Invalid link: ${m.message}`}let d=[],h=0;return e.split(`
`).forEach(m=>{if(m.startsWith("#"))return;const _=m.split(" ");if(Number(_[1])<h*.75&&d.length&&(s[u.tracks.length]?u.tracks.push({sections:d,name:s[u.tracks.length],changes:[]}):u.tracks.push({sections:d,changes:[]}),d=[]),mq.test(m)){const[,v,y]=_;d.push({start:Number(v),end:Number(y),type:"pause"}),d.push({start:Number(y),type:"notes",notes:[]}),h=Number(y)}else if(m.startsWith("-"))d.push({start:Number(m.split("-")[1].trim()),notes:[],type:"notes"});else if(Object.keys(Kk).includes(m[0])){d.length===0&&(d=[{start:0,notes:[],type:"notes"}]);const v=d[d.length-1],[y,S,x,b,...w]=_;v.notes.push({type:Kk[y]??"normal",start:Number(S),length:Number(x),pitch:Number(b),lyrics:w.join(" ")}),h=Number(_[1])}}),s[u.tracks.length]?u.tracks.push({sections:d,name:s[u.tracks.length],changes:[]}):u.tracks.push({sections:d,changes:[]}),u.tracks=u.tracks.map(m=>({...m,sections:m.sections.filter(_=>_.type==="pause"||_.notes.length),changes:[]})).map(m=>({...m,changes:pS(m,u)})),u.mergedTrack=Vj(u.tracks,u),u}const Lj="CURRENT_VISIT_KEY",Nj="LAST_VISIT_KEY",_q=3*60*60*1e3,f0=Date.now();var yM;const Xv=Number(((yM=je.local)==null?void 0:yM.getItem(Lj))??f0);var AM;const Bj=((AM=je.local)==null?void 0:AM.getItem("posthog-user-id"))===null,bq=Bj?f0:1673642382501;var _M;let Dj=Number(((_M=je.local)==null?void 0:_M.getItem(Nj))??bq);var bM;(Bj||f0-Xv>_q)&&((bM=je.local)==null||bM.setItem(Nj,String(Xv)),Dj=Xv);var SM;(SM=je.local)==null||SM.setItem(Lj,String(f0));const Sq=e=>yl(`${e.artist}${e.title}`),xq=({bar:e,unsupportedProps:t,mergedTrack:n,...r},i=!1)=>({...r,id:mS(r),language:Array.isArray(r.language)?r.language:[r.language],tracksCount:r.tracks.length,tracks:r.tracks.map(({name:s,sections:o})=>({name:s,start:ya(o)})),search:Sq(r),local:i});let Gu=null;async function Do(){if(!Gu)if("localStorage"in globalThis)try{Gu=xu(()=>Promise.resolve().then(()=>Wj),void 0).then(({default:e})=>e.createInstance({name:"songs_v2"}))}catch(e){console.error(e),Gu=Promise.resolve(je.memory)}else Gu=Promise.resolve(je.memory);return Gu}const Kh="DELETED_SONGS_V2";class wq{constructor(){this.finalIndex=null,this.indexWithDeletedSongs=null,this.store=async t=>{var n;await((n=await Do())==null?void 0:n.setItem(this.generateSongFile(t),{...t,lastUpdate:new Date().toISOString()})),await this.reloadIndex()},this.isOverridden=async t=>{const n=await this.getLocal(t);return n?!!n:!1},this.get=async t=>{const n=await this.getLocal(t);return n||await fetch(`/songs/${t}.txt`).then(r=>r.text()).then(Aq)},this.getIndex=async(t=!1)=>(this.finalIndex===null&&await this.reloadIndex(),t?this.indexWithDeletedSongs:this.finalIndex),this.getCurrentIndex=()=>this.finalIndex,this.getDeletedSongsList=async()=>{var n;return await((n=await Do())==null?void 0:n.getItem(Kh))??[]},this.generateSongFile=t=>mS(t),this.reloadIndex=async()=>{const[t,n,r]=await Promise.all([fetch("/songs/index.json").then(a=>a.json()),this.getLocalIndex(),this.getDeletedSongsList()]),i=gs(Dj),s=n.filter(a=>{const l=t.find(c=>c.id===a.id);return l?gs(a.lastUpdate??0).isAfter(gs(l.lastUpdate??0)):!0}),o=s.map(a=>a.id);n.forEach(async a=>{o.includes(a.id)||(await Do()).removeItem(a.id)}),this.indexWithDeletedSongs=[...s,...t.filter(a=>!o.includes(this.generateSongFile(a)))].map(a=>({...a,isNew:a.lastUpdate?gs(a.lastUpdate).isAfter(i):!1,isDeleted:r==null?void 0:r.includes(this.generateSongFile(a))})),this.indexWithDeletedSongs.sort((a,l)=>`${a.artist} ${a.title}`.localeCompare(`${l.artist} ${l.title}`.toLowerCase())),this.finalIndex=this.indexWithDeletedSongs.filter(a=>!a.isDeleted)},this.deleteSong=async t=>(await(await Do()).removeItem(t),this.reloadIndex()),this.softDeleteSong=async t=>{const n=await this.getDeletedSongsList();return await(await Do()).setItem(Kh,[...new Set([...n,t])]),this.reloadIndex()},this.restoreSong=async t=>{const n=await this.getDeletedSongsList();return await(await Do()).setItem(Kh,n.filter(r=>r!==t)),this.reloadIndex()},this.getLocal=async t=>{var r;const n=await((r=await Do())==null?void 0:r.getItem(decodeURIComponent(t)));return n&&n.tracks?{...n,language:Array.isArray(n.language)?n.language:[n.language],mergedTrack:Vj(n.tracks,n),tracks:n.tracks.map(i=>({...i,changes:pS(i,n)}))}:null},this.getLocalIndex=async()=>(await Promise.all((await this.getKeys()).map(this.getLocal))).filter(n=>n!==null).map(n=>{try{return xq(n,!0)}catch(r){return console.error(r),null}}).filter(n=>n!==null),this.getKeys=async()=>{const t=[Kh];return(await(await Do()).keys()).filter(n=>!t.includes(n))}}}const Zs=new wq,Qk="room_id_key",Hp=5;class Eq{constructor(){var t;if(this.gameCode=je.session.getItem(Qk),this.started=!1,this.start=()=>{this.transport||(this.transport=kg.get()?new ZG:new XG),!this.started&&(this.started=!0,console.log("connection started",this.getGameCode()),je.session.setItem(Qk,this.gameCode),this.transport.connect(this.getGameCode(),()=>{console.log("connected",this.getGameCode()),this.transport.addListener((n,r)=>{var s;const i=n.t;if(i==="register")Ze.addRemoteMic(n.id,n.name,r,n.silent,n.lag);else if(i==="unregister")Ze.removeRemoteMic(r.peer,!0);else if(i==="subscribe-event")Ze.addSubscription(r.peer,n.channel);else if(i==="unsubscribe-event")Ze.removeSubscription(r.peer,n.channel);else if(i==="ping")r.send({t:"pong"});else if(i==="pong")(s=Ze.getRemoteMicById(r.peer))==null||s.onPong();else if(i==="request-songlist")Promise.all([Zs.getLocalIndex(),Zs.getDeletedSongsList()]).then(([o,a])=>{r.send({t:"songlist",custom:o.map(l=>({artist:l.artist,title:l.title,video:l.video,language:l.language,search:l.search})),deleted:a})});else if(i==="get-microphone-lag-request"){const o=Ze.getRemoteMicById(r.peer);o&&r.send({t:"get-microphone-lag-response",value:o.getInput().getInputLag()})}else if(i==="set-microphone-lag-request"){const o=Ze.getRemoteMicById(r.peer);o&&(o.getInput().setInputLag(n.value),r.send({t:"get-microphone-lag-response",value:o.getInput().getInputLag()}))}else Ze.getPermission(r.peer)==="write"&&(i==="keystroke"?ee.remoteKeyboardPressed.dispatch(n.key):i==="search-song"?ee.remoteSongSearch.dispatch(n.search):i==="request-mic-select"?ee.playerChangeRequested.dispatch(n.id,n.playerNumber):i==="get-game-input-lag-request"?r.send({t:"get-game-input-lag-response",value:Td.get()}):i==="set-game-input-lag-request"&&(Td.set(n.value),r.send({t:"get-game-input-lag-response",value:Td.get()})))}),ee.micServerStarted.dispatch()},()=>{ee.micServerStopped.dispatch(),this.started=!1,setTimeout(this.start,1e3)}))},this.isStarted=()=>this.started,this.getLatency=()=>{var n;return((n=this.transport)==null?void 0:n.getCurrentPing())??0},this.getGameCode=()=>(kg.get()?"w":"p")+this.gameCode,!this.gameCode){this.gameCode="";for(let n=0;n<Hp-1;n++)this.gameCode+=String.fromCharCode(Math.floor(Math.random()*26)+97)}(t=global==null?void 0:global.addEventListener)==null||t.call(global,"beforeunload",()=>{var n;Ze.getRemoteMics().forEach(r=>r.connection.close()),(n=this.transport)==null||n.disconnect()})}}const ea=new Eq,Al=e=>`${e.deviceId};${e.channel}`,Jk=[{channels:2,channel:1,label:"Drawing Test Input",id:Al({deviceId:"default",channel:1}),deviceId:"default"}],Ga=class Ga{};Ga.inputName="DrawingTest",Ga.getDefault=()=>Jk[0],Ga.getInputs=async()=>Jk,Ga.subscribeToListChange=t=>{},Ga.unsubscribeToListChange=t=>{};let v1=Ga;const Xk=[{channels:2,channel:0,label:"Dummy Input 1",id:Al({deviceId:"default",channel:0}),deviceId:"default"},{channels:2,channel:1,label:"Dummy Input 2",id:Al({deviceId:"default",channel:1}),deviceId:"default"}],qa=class qa{};qa.inputName="Dummy",qa.getDefault=()=>Xk[0],qa.getInputs=async()=>Xk,qa.subscribeToListChange=t=>{},qa.unsubscribeToListChange=t=>{};let Ng=qa;var kq=Math.ceil,Cq=Math.max;function Tq(e,t,n,r){for(var i=-1,s=Cq(kq((t-e)/(n||1)),0),o=Array(s);s--;)o[r?s:++i]=e,e+=n;return o}var Iq=9007199254740991;function vS(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Iq}function yS(e){return e!=null&&vS(e.length)&&!bj(e)}var Rq=9007199254740991,Mq=/^(?:0|[1-9]\d*)$/;function AS(e,t){var n=typeof e;return t=t??Rq,!!t&&(n=="number"||n!="symbol"&&Mq.test(e))&&e>-1&&e%1==0&&e<t}function $j(e,t,n){if(!ws(n))return!1;var r=typeof t;return(r=="number"?yS(n)&&AS(t,n.length):r=="string"&&t in n)?s0(n[t],e):!1}var Zk=1/0,Pq=17976931348623157e292;function Gp(e){if(!e)return e===0?e:0;if(e=p1(e),e===Zk||e===-Zk){var t=e<0?-1:1;return t*Pq}return e===e?e:0}function jq(e){return function(t,n,r){return r&&typeof r!="number"&&$j(t,n,r)&&(n=r=void 0),t=Gp(t),n===void 0?(n=t,t=0):n=Gp(n),r=r===void 0?t<n?1:-1:Gp(r),Tq(t,n,r,e)}}var Oq=jq();const y1={test:e=>e.toLowerCase().includes("wireless mic #")||e.toLowerCase().includes("sony wireless singstar"),map:(e,t)=>`SingStar Wireless - ${t===0?"Blue":"Red"}`},A1={test:e=>e.toLowerCase().includes("usbmic serial#")||e.toLowerCase().includes("singstar"),map:(e,t)=>`SingStar Wired - ${t===0?"Blue":"Red"}`},_1={test:(e,t,n)=>n===2&&e.toLowerCase().includes("singstar"),map:(e,t)=>`SingStar Mic - ${t===0?"Blue":"Red"}`},Vq=(...[e,t,n])=>A1.test(e,t,n)||y1.test(e,t,n)||_1.test(e,t,n)?t:void 0,Lq=(e,t,n)=>y1.test(e,t,n)?y1.map(e,t):A1.test(e,t,n)?A1.map(e,t):_1.test(e,t,n)?_1.map(e,t):n>1?`${e} (ch ${t+1})`:e,Ci=class Ci{};Ci.inputList=[],Ci.inputName="Microphone",Ci.getDefault=()=>Ci.inputList.find(t=>t.id===Al({deviceId:"default",channel:0}))??Ci.inputList[0]??null,Ci.getInputs=async()=>{let t=[];try{await aa.getUserMedia({audio:!0,video:!1}),t=await aa.enumerateDevices()}catch(r){Js(r,{level:"warning",extra:{message:"Microphone.getInputs"}}),console.warn(r)}const n=await Promise.all(t.filter(r=>r.kind==="audioinput").map(async r=>{let i=1;try{i=(await aa.getUserMedia({audio:{deviceId:{exact:r.deviceId},echoCancellation:{exact:!1}},video:!1})).getAudioTracks()[0].getSettings().channelCount??1}catch(s){console.warn(s)}return Oq(0,i).map(s=>({label:Lq(r.label,s,i),channel:s,channels:i,deviceId:r.deviceId,id:Al({deviceId:r.deviceId,channel:s}),preferred:Vq(r.label,s,i)}))}));return Ci.inputList=n.flat(),Ci.inputList},Ci.subscribeToListChange=t=>navigator.mediaDevices.addEventListener("devicechange",t),Ci.unsubscribeToListChange=t=>navigator.mediaDevices.removeEventListener("devicechange",t);let yo=Ci;const eC=e=>({label:`📱${e.name}`,id:Al({deviceId:e.id,channel:0}),deviceId:e.id,channels:1,channel:0}),Wa=class Wa{};Wa.inputName="Remote Microphone",Wa.getDefault=()=>Ze.getRemoteMics().map(eC)[0]??null,Wa.getInputs=async()=>Ze.getRemoteMics().map(eC),Wa.subscribeToListChange=t=>{ee.remoteMicConnected.subscribe(t),ee.remoteMicDisconnected.subscribe(t)},Wa.unsubscribeToListChange=t=>{ee.remoteMicConnected.unsubscribe(t),ee.remoteMicDisconnected.unsubscribe(t)};let xo=Wa;const Nq=e=>`${e.deviceId};${e.channel}`;class Bq{constructor(){this.initialiseInputSource=(t,n=!1)=>(n||t.getInputs().then(r=>{this.inputList[t.inputName].list=r,ee.inputListChanged.dispatch(!0),t.subscribeToListChange(async()=>{this.inputList[t.inputName].list=await t.getInputs(),ee.inputListChanged.dispatch(!1)})}),{list:[],getDefault:t.getDefault}),this.loadMics=()=>{this.inputList.Microphone.list.length||(this.inputList.Microphone=this.initialiseInputSource(yo))},this.getInputList=()=>this.inputList,this.getInputForPlayerSelected=(t,n=!0)=>{const r=this.inputList[t.source];return r.list.find(i=>i.id===Nq(t))??(n?r.getDefault():null)},this.inputList={[yo.inputName]:this.initialiseInputSource(yo,!0),[Ng.inputName]:this.initialiseInputSource(Ng),[xo.inputName]:this.initialiseInputSource(xo)}}}const wo=new Bq,tC="playerselectedinputs",Bg=4,Rm=class Rm{constructor(t,n,r){this.number=t,this.input=n,this.name=r,this.nameOverride="",this.changeInput=(i,s=0,o)=>{let a=null;pn.monitoringStarted()&&(a=pn.stopMonitoring());const l={source:i,deviceId:o,channel:s},c=this.input;this.input=l,ee.playerInputChanged.dispatch(this.number,c,l),a&&a.then(pn.startMonitoring)},this.toJSON=()=>({number:this.number,input:this.input,name:this.name}),this.getName=()=>this.nameOverride||(this.name??`Player #${this.number+1}`),this.isDefaultName=()=>this.name===void 0,this.setName=i=>{const s=this.name;this.name=i,ee.playerNameChanged.dispatch(this.number,s)}}};Rm.fromJSON=t=>new Rm(t.number,t.input,t.name);let ac=Rm;class Dq{constructor(){this.minPlayerNumber=2,this.players=[],this.requestingPromise=null,this.storePlayers=()=>{je.session.setItem(tC,this.getPlayers().map(n=>n.toJSON()))},this.requestReadiness=async()=>(this.requestingPromise||(this.requestingPromise=new Promise(n=>{const r=async()=>{!this.getPlayers().filter(s=>s.input.source==="Remote Microphone").some(s=>wo.getInputForPlayerSelected(s.input,!1)===null)&&(await Promise.all(this.getPlayers().map(s=>pn.sourceNameToInput(s.input.source).requestReadiness(s.input.deviceId).then(()=>{ee.readinessConfirmed.dispatch(s.input.deviceId)}))),ee.inputListChanged.unsubscribe(r),this.requestingPromise=null,n(!0))};ee.inputListChanged.subscribe(r),r()})),this.requestingPromise),this.getPlayers=()=>this.players,this.getPlayer=n=>this.players.find(r=>r.number===n),this.getMinPlayerNumber=()=>this.minPlayerNumber,this.setMinPlayerNumber=n=>{const r=this.minPlayerNumber;this.minPlayerNumber=n,ee.minPlayerNumberChanged.dispatch(r,n)},this.addPlayer=n=>{if(Le.isPlaying()||this.getPlayer(n))return;const r=new ac(n,{source:"Dummy",deviceId:"default",channel:0});return this.players.push(r),this.storePlayers(),ee.playerAdded.dispatch(r.number),ee.playerInputChanged.dispatch(r.number,void 0,r.input),r},this.removePlayer=n=>{if(Le.isPlaying())return;const r=this.getPlayer(n);r&&(this.players=this.players.filter(i=>i.number!==n),this.players.length<this.minPlayerNumber&&this.addPlayer(new Array(Bg).fill(0).find((i,s)=>!this.players.find(o=>o.number===s))),this.storePlayers(),ee.playerRemoved.dispatch(r))},this.getInputs=()=>this.getPlayers().map(n=>n.input);const t=je.session.getItem(tC)??[];t.length?(this.players=t.map(ac.fromJSON),this.getPlayers().some(n=>n.input.source==="Microphone")&&wo.loadMics(),this.getPlayers().some(n=>n.input.source==="Remote Microphone")&&ea.start()):this.players=[new ac(0,{source:"Dummy",deviceId:"default",channel:0}),new ac(1,{source:"Dummy",deviceId:"default",channel:1})],ee.playerInputChanged.subscribe((n,r,i)=>{const s=this.getPlayer(n);if(!(!i||!s)){if(i.source==="Remote Microphone"){const o=Ze.getRemoteMicById(i.deviceId);o&&(s.nameOverride=o.name)}else s.nameOverride="";this.storePlayers()}}),ee.playerNameChanged.subscribe(vj(this.storePlayers,1e3)),ee.remoteMicConnected.subscribe(({id:n,name:r})=>{this.getPlayers().forEach(i=>{i.input.source==="Remote Microphone"&&i.input.deviceId===n&&i.getName()!==r&&(i.nameOverride=r)})})}}const Me=new Dq;class $q{constructor(){this.isMonitoring=!1,this.getInputStatus=t=>{const n=Me.getPlayer(t);return n?this.sourceNameToInput(n.input.source).getStatus(n.input.deviceId,n.input.channel):"unavailable"},this.getPlayerFrequency=t=>{var i;const n=(i=Me.getPlayer(t))==null?void 0:i.input;return n?this.sourceNameToInput(n.source).getFrequencies(n.deviceId)[n.channel]:0},this.clearPlayerCachedFrequencies=t=>{var r;const n=(r=Me.getPlayer(t))==null?void 0:r.input;if(!n)return 0;this.sourceNameToInput(n.source).clearFrequencies(n.deviceId)},this.getPlayerVolume=t=>{var i;const n=(i=Me.getPlayer(t))==null?void 0:i.input;return n?this.sourceNameToInput(n.source).getVolumes(n.deviceId)[n.channel]:0},this.getPlayerInputLag=t=>{var r;const n=(r=Me.getPlayer(t))==null?void 0:r.input;return n?this.sourceNameToInput(n.source).getInputLag(n.deviceId):0},this.startMonitoring=async()=>{await Promise.all(Me.getPlayers().map(t=>this.sourceNameToInput(t.input.source).startMonitoring(t.input.deviceId))),this.isMonitoring=!0},this.stopMonitoring=async()=>{await Promise.all(Me.getPlayers().map(t=>this.sourceNameToInput(t.input.source).stopMonitoring(t.input.deviceId))),this.isMonitoring=!1},this.monitoringStarted=()=>this.isMonitoring,this.sourceNameToInput=t=>t===yo.inputName?nH:t===v1.inputName?zF:t===xo.inputName?iH:HF,ee.inputListChanged.subscribe(async()=>{this.isMonitoring&&(await this.stopMonitoring(),this.startMonitoring())})}}const pn=new $q;function Fj(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=Fj(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function ta(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=Fj(e))&&(r&&(r+=" "),r+=t);return r}const Pd=e=>typeof e=="number"&&!isNaN(e),_l=e=>typeof e=="string",Hr=e=>typeof e=="function",qp=e=>_l(e)||Hr(e)?e:null,Zv=e=>A.isValidElement(e)||_l(e)||Hr(e)||Pd(e);function Fq(e,t,n){n===void 0&&(n=300);const{scrollHeight:r,style:i}=e;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)})})}function h0(e){let{enter:t,exit:n,appendPosition:r=!1,collapse:i=!0,collapseDuration:s=300}=e;return function(o){let{children:a,position:l,preventExitTransition:c,done:u,nodeRef:d,isIn:h}=o;const p=r?`${t}--${l}`:t,g=r?`${n}--${l}`:n,m=A.useRef(0);return A.useLayoutEffect(()=>{const _=d.current,v=p.split(" "),y=S=>{S.target===d.current&&(_.dispatchEvent(new Event("d")),_.removeEventListener("animationend",y),_.removeEventListener("animationcancel",y),m.current===0&&S.type!=="animationcancel"&&_.classList.remove(...v))};_.classList.add(...v),_.addEventListener("animationend",y),_.addEventListener("animationcancel",y)},[]),A.useEffect(()=>{const _=d.current,v=()=>{_.removeEventListener("animationend",v),i?Fq(_,u,s):u()};h||(c?v():(m.current=1,_.className+=` ${g}`,_.addEventListener("animationend",v)))},[h]),Te.createElement(Te.Fragment,null,a)}}function nC(e,t){return e!=null?{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}:{}}const Ri={list:new Map,emitQueue:new Map,on(e,t){return this.list.has(e)||this.list.set(e,[]),this.list.get(e).push(t),this},off(e,t){if(t){const n=this.list.get(e).filter(r=>r!==t);return this.list.set(e,n),this}return this.list.delete(e),this},cancelEmit(e){const t=this.emitQueue.get(e);return t&&(t.forEach(clearTimeout),this.emitQueue.delete(e)),this},emit(e){this.list.has(e)&&this.list.get(e).forEach(t=>{const n=setTimeout(()=>{t(...[].slice.call(arguments,1))},0);this.emitQueue.has(e)||this.emitQueue.set(e,[]),this.emitQueue.get(e).push(n)})}},Yh=e=>{let{theme:t,type:n,...r}=e;return Te.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...r})},ey={info:function(e){return Te.createElement(Yh,{...e},Te.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return Te.createElement(Yh,{...e},Te.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return Te.createElement(Yh,{...e},Te.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return Te.createElement(Yh,{...e},Te.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return Te.createElement("div",{className:"Toastify__spinner"})}};function zq(e){const[,t]=A.useReducer(p=>p+1,0),[n,r]=A.useState([]),i=A.useRef(null),s=A.useRef(new Map).current,o=p=>n.indexOf(p)!==-1,a=A.useRef({toastKey:1,displayedToast:0,count:0,queue:[],props:e,containerId:null,isToastActive:o,getToast:p=>s.get(p)}).current;function l(p){let{containerId:g}=p;const{limit:m}=a.props;!m||g&&a.containerId!==g||(a.count-=a.queue.length,a.queue=[])}function c(p){r(g=>p==null?[]:g.filter(m=>m!==p))}function u(){const{toastContent:p,toastProps:g,staleId:m}=a.queue.shift();h(p,g,m)}function d(p,g){let{delay:m,staleId:_,...v}=g;if(!Zv(p)||function(K){return!i.current||a.props.enableMultiContainer&&K.containerId!==a.props.containerId||s.has(K.toastId)&&K.updateId==null}(v))return;const{toastId:y,updateId:S,data:x}=v,{props:b}=a,w=()=>c(y),E=S==null;E&&a.count++;const T={...b,style:b.toastStyle,key:a.toastKey++,...Object.fromEntries(Object.entries(v).filter(K=>{let[P,L]=K;return L!=null})),toastId:y,updateId:S,data:x,closeToast:w,isIn:!1,className:qp(v.className||b.toastClassName),bodyClassName:qp(v.bodyClassName||b.bodyClassName),progressClassName:qp(v.progressClassName||b.progressClassName),autoClose:!v.isLoading&&($=v.autoClose,N=b.autoClose,$===!1||Pd($)&&$>0?$:N),deleteToast(){const K=nC(s.get(y),"removed");s.delete(y),Ri.emit(4,K);const P=a.queue.length;if(a.count=y==null?a.count-a.displayedToast:a.count-1,a.count<0&&(a.count=0),P>0){const L=y==null?a.props.limit:1;if(P===1||L===1)a.displayedToast++,u();else{const R=L>P?P:L;a.displayedToast=R;for(let I=0;I<R;I++)u()}}else t()}};var $,N;T.iconOut=function(K){let{theme:P,type:L,isLoading:R,icon:I}=K,F=null;const j={theme:P,type:L};return I===!1||(Hr(I)?F=I(j):A.isValidElement(I)?F=A.cloneElement(I,j):_l(I)||Pd(I)?F=I:R?F=ey.spinner():(z=>z in ey)(L)&&(F=ey[L](j))),F}(T),Hr(v.onOpen)&&(T.onOpen=v.onOpen),Hr(v.onClose)&&(T.onClose=v.onClose),T.closeButton=b.closeButton,v.closeButton===!1||Zv(v.closeButton)?T.closeButton=v.closeButton:v.closeButton===!0&&(T.closeButton=!Zv(b.closeButton)||b.closeButton);let B=p;A.isValidElement(p)&&!_l(p.type)?B=A.cloneElement(p,{closeToast:w,toastProps:T,data:x}):Hr(p)&&(B=p({closeToast:w,toastProps:T,data:x})),b.limit&&b.limit>0&&a.count>b.limit&&E?a.queue.push({toastContent:B,toastProps:T,staleId:_}):Pd(m)?setTimeout(()=>{h(B,T,_)},m):h(B,T,_)}function h(p,g,m){const{toastId:_}=g;m&&s.delete(m);const v={content:p,props:g};s.set(_,v),r(y=>[...y,_].filter(S=>S!==m)),Ri.emit(4,nC(v,v.props.updateId==null?"added":"updated"))}return A.useEffect(()=>(a.containerId=e.containerId,Ri.cancelEmit(3).on(0,d).on(1,p=>i.current&&c(p)).on(5,l).emit(2,a),()=>{s.clear(),Ri.emit(3,a)}),[]),A.useEffect(()=>{a.props=e,a.isToastActive=o,a.displayedToast=n.length}),{getToastToRender:function(p){const g=new Map,m=Array.from(s.values());return e.newestOnTop&&m.reverse(),m.forEach(_=>{const{position:v}=_.props;g.has(v)||g.set(v,[]),g.get(v).push(_)}),Array.from(g,_=>p(_[0],_[1]))},containerRef:i,isToastActive:o}}function rC(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}function iC(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}function Uq(e){const[t,n]=A.useState(!1),[r,i]=A.useState(!1),s=A.useRef(null),o=A.useRef({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,a=A.useRef(e),{autoClose:l,pauseOnHover:c,closeToast:u,onClick:d,closeOnClick:h}=e;function p(x){if(e.draggable){x.nativeEvent.type==="touchstart"&&x.nativeEvent.preventDefault(),o.didMove=!1,document.addEventListener("mousemove",v),document.addEventListener("mouseup",y),document.addEventListener("touchmove",v),document.addEventListener("touchend",y);const b=s.current;o.canCloseOnClick=!0,o.canDrag=!0,o.boundingRect=b.getBoundingClientRect(),b.style.transition="",o.x=rC(x.nativeEvent),o.y=iC(x.nativeEvent),e.draggableDirection==="x"?(o.start=o.x,o.removalDistance=b.offsetWidth*(e.draggablePercent/100)):(o.start=o.y,o.removalDistance=b.offsetHeight*(e.draggablePercent===80?1.5*e.draggablePercent:e.draggablePercent/100))}}function g(x){if(o.boundingRect){const{top:b,bottom:w,left:E,right:T}=o.boundingRect;x.nativeEvent.type!=="touchend"&&e.pauseOnHover&&o.x>=E&&o.x<=T&&o.y>=b&&o.y<=w?_():m()}}function m(){n(!0)}function _(){n(!1)}function v(x){const b=s.current;o.canDrag&&b&&(o.didMove=!0,t&&_(),o.x=rC(x),o.y=iC(x),o.delta=e.draggableDirection==="x"?o.x-o.start:o.y-o.start,o.start!==o.x&&(o.canCloseOnClick=!1),b.style.transform=`translate${e.draggableDirection}(${o.delta}px)`,b.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function y(){document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",y),document.removeEventListener("touchmove",v),document.removeEventListener("touchend",y);const x=s.current;if(o.canDrag&&o.didMove&&x){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return i(!0),void e.closeToast();x.style.transition="transform 0.2s, opacity 0.2s",x.style.transform=`translate${e.draggableDirection}(0)`,x.style.opacity="1"}}A.useEffect(()=>{a.current=e}),A.useEffect(()=>(s.current&&s.current.addEventListener("d",m,{once:!0}),Hr(e.onOpen)&&e.onOpen(A.isValidElement(e.children)&&e.children.props),()=>{const x=a.current;Hr(x.onClose)&&x.onClose(A.isValidElement(x.children)&&x.children.props)}),[]),A.useEffect(()=>(e.pauseOnFocusLoss&&(document.hasFocus()||_(),window.addEventListener("focus",m),window.addEventListener("blur",_)),()=>{e.pauseOnFocusLoss&&(window.removeEventListener("focus",m),window.removeEventListener("blur",_))}),[e.pauseOnFocusLoss]);const S={onMouseDown:p,onTouchStart:p,onMouseUp:g,onTouchEnd:g};return l&&c&&(S.onMouseEnter=_,S.onMouseLeave=m),h&&(S.onClick=x=>{d&&d(x),o.canCloseOnClick&&u()}),{playToast:m,pauseToast:_,isRunning:t,preventExitTransition:r,toastRef:s,eventHandlers:S}}function zj(e){let{closeToast:t,theme:n,ariaLabel:r="close"}=e;return Te.createElement("button",{className:`Toastify__close-button Toastify__close-button--${n}`,type:"button",onClick:i=>{i.stopPropagation(),t(i)},"aria-label":r},Te.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Te.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function Hq(e){let{delay:t,isRunning:n,closeToast:r,type:i="default",hide:s,className:o,style:a,controlledProgress:l,progress:c,rtl:u,isIn:d,theme:h}=e;const p=s||l&&c===0,g={...a,animationDuration:`${t}ms`,animationPlayState:n?"running":"paused",opacity:p?0:1};l&&(g.transform=`scaleX(${c})`);const m=ta("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${h}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":u}),_=Hr(o)?o({rtl:u,type:i,defaultClassName:m}):ta(m,o);return Te.createElement("div",{role:"progressbar","aria-hidden":p?"true":"false","aria-label":"notification timer",className:_,style:g,[l&&c>=1?"onTransitionEnd":"onAnimationEnd"]:l&&c<1?null:()=>{d&&r()}})}const Gq=e=>{const{isRunning:t,preventExitTransition:n,toastRef:r,eventHandlers:i}=Uq(e),{closeButton:s,children:o,autoClose:a,onClick:l,type:c,hideProgressBar:u,closeToast:d,transition:h,position:p,className:g,style:m,bodyClassName:_,bodyStyle:v,progressClassName:y,progressStyle:S,updateId:x,role:b,progress:w,rtl:E,toastId:T,deleteToast:$,isIn:N,isLoading:B,iconOut:K,closeOnClick:P,theme:L}=e,R=ta("Toastify__toast",`Toastify__toast-theme--${L}`,`Toastify__toast--${c}`,{"Toastify__toast--rtl":E},{"Toastify__toast--close-on-click":P}),I=Hr(g)?g({rtl:E,position:p,type:c,defaultClassName:R}):ta(R,g),F=!!w||!a,j={closeToast:d,type:c,theme:L};let z=null;return s===!1||(z=Hr(s)?s(j):A.isValidElement(s)?A.cloneElement(s,j):zj(j)),Te.createElement(h,{isIn:N,done:$,position:p,preventExitTransition:n,nodeRef:r},Te.createElement("div",{id:T,onClick:l,className:I,...i,style:m,ref:r},Te.createElement("div",{...N&&{role:b},className:Hr(_)?_({type:c}):ta("Toastify__toast-body",_),style:v},K!=null&&Te.createElement("div",{className:ta("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!B})},K),Te.createElement("div",null,o)),z,Te.createElement(Hq,{...x&&!F?{key:`pb-${x}`}:{},rtl:E,theme:L,delay:a,isRunning:t,isIn:N,closeToast:d,hide:u,type:c,style:S,className:y,controlledProgress:F,progress:w||0})))},p0=function(e,t){return t===void 0&&(t=!1),{enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}},qq=h0(p0("bounce",!0));h0(p0("slide",!0));h0(p0("zoom"));h0(p0("flip"));const b1=A.forwardRef((e,t)=>{const{getToastToRender:n,containerRef:r,isToastActive:i}=zq(e),{className:s,style:o,rtl:a,containerId:l}=e;function c(u){const d=ta("Toastify__toast-container",`Toastify__toast-container--${u}`,{"Toastify__toast-container--rtl":a});return Hr(s)?s({position:u,rtl:a,defaultClassName:d}):ta(d,qp(s))}return A.useEffect(()=>{t&&(t.current=r.current)},[]),Te.createElement("div",{ref:r,className:"Toastify",id:l},n((u,d)=>{const h=d.length?{...o}:{...o,pointerEvents:"none"};return Te.createElement("div",{className:c(u),style:h,key:`container-${u}`},d.map((p,g)=>{let{content:m,props:_}=p;return Te.createElement(Gq,{..._,isIn:i(_.toastId),style:{..._.style,"--nth":g+1,"--len":d.length},key:`toast-${_.key}`},m)}))}))});b1.displayName="ToastContainer",b1.defaultProps={position:"top-right",transition:qq,autoClose:5e3,closeButton:zj,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let ty,Fa=new Map,pd=[],Wq=1;function Uj(){return""+Wq++}function Kq(e){return e&&(_l(e.toastId)||Pd(e.toastId))?e.toastId:Uj()}function jd(e,t){return Fa.size>0?Ri.emit(0,e,t):pd.push({content:e,options:t}),t.toastId}function Dg(e,t){return{...t,type:t&&t.type||e,toastId:Kq(t)}}function Qh(e){return(t,n)=>jd(t,Dg(e,n))}function Vt(e,t){return jd(e,Dg("default",t))}Vt.loading=(e,t)=>jd(e,Dg("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),Vt.promise=function(e,t,n){let r,{pending:i,error:s,success:o}=t;i&&(r=_l(i)?Vt.loading(i,n):Vt.loading(i.render,{...n,...i}));const a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(u,d,h)=>{if(d==null)return void Vt.dismiss(r);const p={type:u,...a,...n,data:h},g=_l(d)?{render:d}:d;return r?Vt.update(r,{...p,...g}):Vt(g.render,{...p,...g}),h},c=Hr(e)?e():e;return c.then(u=>l("success",o,u)).catch(u=>l("error",s,u)),c},Vt.success=Qh("success"),Vt.info=Qh("info"),Vt.error=Qh("error"),Vt.warning=Qh("warning"),Vt.warn=Vt.warning,Vt.dark=(e,t)=>jd(e,Dg("default",{theme:"dark",...t})),Vt.dismiss=e=>{Fa.size>0?Ri.emit(1,e):pd=pd.filter(t=>e!=null&&t.options.toastId!==e)},Vt.clearWaitingQueue=function(e){return e===void 0&&(e={}),Ri.emit(5,e)},Vt.isActive=e=>{let t=!1;return Fa.forEach(n=>{n.isToastActive&&n.isToastActive(e)&&(t=!0)}),t},Vt.update=function(e,t){t===void 0&&(t={}),setTimeout(()=>{const n=function(r,i){let{containerId:s}=i;const o=Fa.get(s||ty);return o&&o.getToast(r)}(e,t);if(n){const{props:r,content:i}=n,s={delay:100,...r,...t,toastId:t.toastId||e,updateId:Uj()};s.toastId!==e&&(s.staleId=e);const o=s.render||i;delete s.render,jd(o,s)}},0)},Vt.done=e=>{Vt.update(e,{progress:1})},Vt.onChange=e=>(Ri.on(4,e),()=>{Ri.off(4,e)}),Vt.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},Vt.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},Ri.on(2,e=>{ty=e.containerId||e,Fa.set(ty,e),pd.forEach(t=>{Ri.emit(0,t.content,t.options)}),pd=[]}).on(3,e=>{Fa.delete(e.containerId||e),Fa.size===0&&Ri.off(0).off(1).off(5)});ee.playerRemoved.subscribe(e=>{if(e.input.source===xo.inputName){const t=Ze.getRemoteMicById(e.input.deviceId);t&&t.setPlayerNumber(null)}});ee.playerInputChanged.subscribe((e,t,n)=>{var r;if((t==null?void 0:t.source)===xo.inputName){const i=(r=Me.getPlayers().find(o=>o.input.source==="Remote Microphone"&&o.input.deviceId===t.deviceId))==null?void 0:r.number,s=Ze.getRemoteMicById(t.deviceId);s==null||s.setPlayerNumber(i!==void 0?i:null)}if((n==null?void 0:n.source)==="Remote Microphone"){const i=Ze.getRemoteMicById(n.deviceId);i==null||i.setPlayerNumber(e)}});ee.remoteMicConnected.subscribe(({id:e})=>{var n,r;const t=(n=Me.getPlayers().find(i=>i.input.source==="Remote Microphone"&&i.input.deviceId===e))==null?void 0:n.number;if(t!==void 0){const i=Ze.getRemoteMicById(e);i==null||i.setPlayerNumber(t),pn.monitoringStarted()&&((r=i==null?void 0:i.getInput())==null||r.startMonitoring())}});ee.playerChangeRequested.subscribe((e,t)=>{var r;const n=Me.getPlayers().find(i=>i.input.deviceId===e);if(n&&Me.removePlayer(n.number),t!==null){const i=Me.getPlayer(t);i?i.changeInput("Remote Microphone",0,e):(r=Me.addPlayer(t))==null||r.changeInput("Remote Microphone",0,e)}});ee.remoteMicConnected.subscribe(({name:e,silent:t})=>{t||Vt.success(f.jsxs(f.Fragment,{children:["Remote microphone ",f.jsx("b",{className:"ph-no-capture",children:e})," connected!"]}))});ee.remoteMicDisconnected.subscribe(({name:e},t)=>{t||Vt.warning(f.jsxs(f.Fragment,{children:["Remote microphone ",f.jsx("b",{className:"ph-no-capture",children:e})," disconnected!"]}))});const _S=()=>{const e=Ze.getRemoteMics().map(t=>{var n;return{id:t.id,name:t.name,number:((n=Me.getPlayers().find(r=>r.input.deviceId===t.id))==null?void 0:n.number)??null}});Ze.broadcastToChannel("remote-mics",{t:"remote-mics-list",list:e})};ee.inputListChanged.subscribe(_S);ee.playerInputChanged.subscribe(_S);ee.remoteMicSubscribed.subscribe(_S);const Hj=e=>({artist:t,title:n,id:r,lastUpdate:i},s,o=[],a)=>{var u;const l=o.length>1&&o.every(d=>d.score===o[0].score),c={};if(Me.getPlayers().forEach((d,h)=>c[`input${h}`]=d.input.source),e==="songEnded")try{const d=(u=Le.getPlayer(0))==null?void 0:u.getPlayerNotes().filter(p=>Vg(p)===0).map(p=>p.frequencyRecords).flat().map(p=>[p.timestamp,p.frequency]).map((p,g,m)=>{var _,v;return[p[0]-(((_=m[g-1])==null?void 0:_[0])??0),p[1]-(((v=m[g-1])==null?void 0:v[1])??0)]}).map(p=>[Math.round(p[0]*100),Math.round(p[1]*100)]).map(p=>p[1]===0?p[0]:p),h=KP(d);console.log("compressed",h)}catch(d){Js(d)}Vn.capture(e,{songId:r,songLastUpdated:i,name:`${t} - ${n}`,artist:t,title:n,mode:s.mode,tolerance:s.tolerance,players:s.players.length,tracks:s.players.map(d=>d.track),progress:a??null,singId:s.id,sameScores:l,mobilePhoneMode:!!pr.get(),...c,...o.reduce((d,h,p)=>({...d,[`score${p}`]:h.score}),{}),...s.players.reduce((d,h,p)=>({...d,[`track${p}`]:h.track}),{})})};ee.songStarted.subscribe(Hj("songStarted"));ee.songEnded.subscribe(Hj("songEnded"));function Jh(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Gj={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(e,t){(function(n){e.exports=n()})(function(){return function n(r,i,s){function o(c,u){if(!i[c]){if(!r[c]){var d=typeof Jh=="function"&&Jh;if(!u&&d)return d(c,!0);if(a)return a(c,!0);var h=new Error("Cannot find module '"+c+"'");throw h.code="MODULE_NOT_FOUND",h}var p=i[c]={exports:{}};r[c][0].call(p.exports,function(g){var m=r[c][1][g];return o(m||g)},p,p.exports,n,r,i,s)}return i[c].exports}for(var a=typeof Jh=="function"&&Jh,l=0;l<s.length;l++)o(s[l]);return o}({1:[function(n,r,i){(function(s){var o=s.MutationObserver||s.WebKitMutationObserver,a;if(o){var l=0,c=new o(g),u=s.document.createTextNode("");c.observe(u,{characterData:!0}),a=function(){u.data=l=++l%2}}else if(!s.setImmediate&&typeof s.MessageChannel<"u"){var d=new s.MessageChannel;d.port1.onmessage=g,a=function(){d.port2.postMessage(0)}}else"document"in s&&"onreadystatechange"in s.document.createElement("script")?a=function(){var _=s.document.createElement("script");_.onreadystatechange=function(){g(),_.onreadystatechange=null,_.parentNode.removeChild(_),_=null},s.document.documentElement.appendChild(_)}:a=function(){setTimeout(g,0)};var h,p=[];function g(){h=!0;for(var _,v,y=p.length;y;){for(v=p,p=[],_=-1;++_<y;)v[_]();y=p.length}h=!1}r.exports=m;function m(_){p.push(_)===1&&!h&&a()}}).call(this,typeof Qo<"u"?Qo:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(n,r,i){var s=n(1);function o(){}var a={},l=["REJECTED"],c=["FULFILLED"],u=["PENDING"];r.exports=d;function d(b){if(typeof b!="function")throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,b!==o&&m(this,b)}d.prototype.catch=function(b){return this.then(null,b)},d.prototype.then=function(b,w){if(typeof b!="function"&&this.state===c||typeof w!="function"&&this.state===l)return this;var E=new this.constructor(o);if(this.state!==u){var T=this.state===c?b:w;p(E,T,this.outcome)}else this.queue.push(new h(E,b,w));return E};function h(b,w,E){this.promise=b,typeof w=="function"&&(this.onFulfilled=w,this.callFulfilled=this.otherCallFulfilled),typeof E=="function"&&(this.onRejected=E,this.callRejected=this.otherCallRejected)}h.prototype.callFulfilled=function(b){a.resolve(this.promise,b)},h.prototype.otherCallFulfilled=function(b){p(this.promise,this.onFulfilled,b)},h.prototype.callRejected=function(b){a.reject(this.promise,b)},h.prototype.otherCallRejected=function(b){p(this.promise,this.onRejected,b)};function p(b,w,E){s(function(){var T;try{T=w(E)}catch($){return a.reject(b,$)}T===b?a.reject(b,new TypeError("Cannot resolve promise with itself")):a.resolve(b,T)})}a.resolve=function(b,w){var E=_(g,w);if(E.status==="error")return a.reject(b,E.value);var T=E.value;if(T)m(b,T);else{b.state=c,b.outcome=w;for(var $=-1,N=b.queue.length;++$<N;)b.queue[$].callFulfilled(w)}return b},a.reject=function(b,w){b.state=l,b.outcome=w;for(var E=-1,T=b.queue.length;++E<T;)b.queue[E].callRejected(w);return b};function g(b){var w=b&&b.then;if(b&&(typeof b=="object"||typeof b=="function")&&typeof w=="function")return function(){w.apply(b,arguments)}}function m(b,w){var E=!1;function T(K){E||(E=!0,a.reject(b,K))}function $(K){E||(E=!0,a.resolve(b,K))}function N(){w($,T)}var B=_(N);B.status==="error"&&T(B.value)}function _(b,w){var E={};try{E.value=b(w),E.status="success"}catch(T){E.status="error",E.value=T}return E}d.resolve=v;function v(b){return b instanceof this?b:a.resolve(new this(o),b)}d.reject=y;function y(b){var w=new this(o);return a.reject(w,b)}d.all=S;function S(b){var w=this;if(Object.prototype.toString.call(b)!=="[object Array]")return this.reject(new TypeError("must be an array"));var E=b.length,T=!1;if(!E)return this.resolve([]);for(var $=new Array(E),N=0,B=-1,K=new this(o);++B<E;)P(b[B],B);return K;function P(L,R){w.resolve(L).then(I,function(F){T||(T=!0,a.reject(K,F))});function I(F){$[R]=F,++N===E&&!T&&(T=!0,a.resolve(K,$))}}}d.race=x;function x(b){var w=this;if(Object.prototype.toString.call(b)!=="[object Array]")return this.reject(new TypeError("must be an array"));var E=b.length,T=!1;if(!E)return this.resolve([]);for(var $=-1,N=new this(o);++$<E;)B(b[$]);return N;function B(K){w.resolve(K).then(function(P){T||(T=!0,a.resolve(N,P))},function(P){T||(T=!0,a.reject(N,P))})}}},{1:1}],3:[function(n,r,i){(function(s){typeof s.Promise!="function"&&(s.Promise=n(2))}).call(this,typeof Qo<"u"?Qo:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(n,r,i){var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(k){return typeof k}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k};function o(k,D){if(!(k instanceof D))throw new TypeError("Cannot call a class as a function")}function a(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var l=a();function c(){try{if(!l||!l.open)return!1;var k=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),D=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!k||D)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function u(k,D){k=k||[],D=D||{};try{return new Blob(k,D)}catch(H){if(H.name!=="TypeError")throw H;for(var M=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,q=new M,Q=0;Q<k.length;Q+=1)q.append(k[Q]);return q.getBlob(D.type)}}typeof Promise>"u"&&n(3);var d=Promise;function h(k,D){D&&k.then(function(M){D(null,M)},function(M){D(M)})}function p(k,D,M){typeof D=="function"&&k.then(D),typeof M=="function"&&k.catch(M)}function g(k){return typeof k!="string"&&(console.warn(k+" used as a key, but it is not a string."),k=String(k)),k}function m(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var _="local-forage-detect-blob-support",v=void 0,y={},S=Object.prototype.toString,x="readonly",b="readwrite";function w(k){for(var D=k.length,M=new ArrayBuffer(D),q=new Uint8Array(M),Q=0;Q<D;Q++)q[Q]=k.charCodeAt(Q);return M}function E(k){return new d(function(D){var M=k.transaction(_,b),q=u([""]);M.objectStore(_).put(q,"key"),M.onabort=function(Q){Q.preventDefault(),Q.stopPropagation(),D(!1)},M.oncomplete=function(){var Q=navigator.userAgent.match(/Chrome\/(\d+)/),H=navigator.userAgent.match(/Edge\//);D(H||!Q||parseInt(Q[1],10)>=43)}}).catch(function(){return!1})}function T(k){return typeof v=="boolean"?d.resolve(v):E(k).then(function(D){return v=D,v})}function $(k){var D=y[k.name],M={};M.promise=new d(function(q,Q){M.resolve=q,M.reject=Q}),D.deferredOperations.push(M),D.dbReady?D.dbReady=D.dbReady.then(function(){return M.promise}):D.dbReady=M.promise}function N(k){var D=y[k.name],M=D.deferredOperations.pop();if(M)return M.resolve(),M.promise}function B(k,D){var M=y[k.name],q=M.deferredOperations.pop();if(q)return q.reject(D),q.promise}function K(k,D){return new d(function(M,q){if(y[k.name]=y[k.name]||U(),k.db)if(D)$(k),k.db.close();else return M(k.db);var Q=[k.name];D&&Q.push(k.version);var H=l.open.apply(l,Q);D&&(H.onupgradeneeded=function(te){var ie=H.result;try{ie.createObjectStore(k.storeName),te.oldVersion<=1&&ie.createObjectStore(_)}catch(ae){if(ae.name==="ConstraintError")console.warn('The database "'+k.name+'" has been upgraded from version '+te.oldVersion+" to version "+te.newVersion+', but the storage "'+k.storeName+'" already exists.');else throw ae}}),H.onerror=function(te){te.preventDefault(),q(H.error)},H.onsuccess=function(){var te=H.result;te.onversionchange=function(ie){ie.target.close()},M(te),N(k)}})}function P(k){return K(k,!1)}function L(k){return K(k,!0)}function R(k,D){if(!k.db)return!0;var M=!k.db.objectStoreNames.contains(k.storeName),q=k.version<k.db.version,Q=k.version>k.db.version;if(q&&(k.version!==D&&console.warn('The database "'+k.name+`" can't be downgraded from version `+k.db.version+" to version "+k.version+"."),k.version=k.db.version),Q||M){if(M){var H=k.db.version+1;H>k.version&&(k.version=H)}return!0}return!1}function I(k){return new d(function(D,M){var q=new FileReader;q.onerror=M,q.onloadend=function(Q){var H=btoa(Q.target.result||"");D({__local_forage_encoded_blob:!0,data:H,type:k.type})},q.readAsBinaryString(k)})}function F(k){var D=w(atob(k.data));return u([D],{type:k.type})}function j(k){return k&&k.__local_forage_encoded_blob}function z(k){var D=this,M=D._initReady().then(function(){var q=y[D._dbInfo.name];if(q&&q.dbReady)return q.dbReady});return p(M,k,k),M}function V(k){$(k);for(var D=y[k.name],M=D.forages,q=0;q<M.length;q++){var Q=M[q];Q._dbInfo.db&&(Q._dbInfo.db.close(),Q._dbInfo.db=null)}return k.db=null,P(k).then(function(H){return k.db=H,R(k)?L(k):H}).then(function(H){k.db=D.db=H;for(var te=0;te<M.length;te++)M[te]._dbInfo.db=H}).catch(function(H){throw B(k,H),H})}function G(k,D,M,q){q===void 0&&(q=1);try{var Q=k.db.transaction(k.storeName,D);M(null,Q)}catch(H){if(q>0&&(!k.db||H.name==="InvalidStateError"||H.name==="NotFoundError"))return d.resolve().then(function(){if(!k.db||H.name==="NotFoundError"&&!k.db.objectStoreNames.contains(k.storeName)&&k.version<=k.db.version)return k.db&&(k.version=k.db.version+1),L(k)}).then(function(){return V(k).then(function(){G(k,D,M,q-1)})}).catch(M);M(H)}}function U(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function ne(k){var D=this,M={db:null};if(k)for(var q in k)M[q]=k[q];var Q=y[M.name];Q||(Q=U(),y[M.name]=Q),Q.forages.push(D),D._initReady||(D._initReady=D.ready,D.ready=z);var H=[];function te(){return d.resolve()}for(var ie=0;ie<Q.forages.length;ie++){var ae=Q.forages[ie];ae!==D&&H.push(ae._initReady().catch(te))}var ce=Q.forages.slice(0);return d.all(H).then(function(){return M.db=Q.db,P(M)}).then(function(fe){return M.db=fe,R(M,D._defaultConfig.version)?L(M):fe}).then(function(fe){M.db=Q.db=fe,D._dbInfo=M;for(var ke=0;ke<ce.length;ke++){var et=ce[ke];et!==D&&(et._dbInfo.db=M.db,et._dbInfo.version=M.version)}})}function O(k,D){var M=this;k=g(k);var q=new d(function(Q,H){M.ready().then(function(){G(M._dbInfo,x,function(te,ie){if(te)return H(te);try{var ae=ie.objectStore(M._dbInfo.storeName),ce=ae.get(k);ce.onsuccess=function(){var fe=ce.result;fe===void 0&&(fe=null),j(fe)&&(fe=F(fe)),Q(fe)},ce.onerror=function(){H(ce.error)}}catch(fe){H(fe)}})}).catch(H)});return h(q,D),q}function de(k,D){var M=this,q=new d(function(Q,H){M.ready().then(function(){G(M._dbInfo,x,function(te,ie){if(te)return H(te);try{var ae=ie.objectStore(M._dbInfo.storeName),ce=ae.openCursor(),fe=1;ce.onsuccess=function(){var ke=ce.result;if(ke){var et=ke.value;j(et)&&(et=F(et));var At=k(et,ke.key,fe++);At!==void 0?Q(At):ke.continue()}else Q()},ce.onerror=function(){H(ce.error)}}catch(ke){H(ke)}})}).catch(H)});return h(q,D),q}function Z(k,D,M){var q=this;k=g(k);var Q=new d(function(H,te){var ie;q.ready().then(function(){return ie=q._dbInfo,S.call(D)==="[object Blob]"?T(ie.db).then(function(ae){return ae?D:I(D)}):D}).then(function(ae){G(q._dbInfo,b,function(ce,fe){if(ce)return te(ce);try{var ke=fe.objectStore(q._dbInfo.storeName);ae===null&&(ae=void 0);var et=ke.put(ae,k);fe.oncomplete=function(){ae===void 0&&(ae=null),H(ae)},fe.onabort=fe.onerror=function(){var At=et.error?et.error:et.transaction.error;te(At)}}catch(At){te(At)}})}).catch(te)});return h(Q,M),Q}function oe(k,D){var M=this;k=g(k);var q=new d(function(Q,H){M.ready().then(function(){G(M._dbInfo,b,function(te,ie){if(te)return H(te);try{var ae=ie.objectStore(M._dbInfo.storeName),ce=ae.delete(k);ie.oncomplete=function(){Q()},ie.onerror=function(){H(ce.error)},ie.onabort=function(){var fe=ce.error?ce.error:ce.transaction.error;H(fe)}}catch(fe){H(fe)}})}).catch(H)});return h(q,D),q}function Pe(k){var D=this,M=new d(function(q,Q){D.ready().then(function(){G(D._dbInfo,b,function(H,te){if(H)return Q(H);try{var ie=te.objectStore(D._dbInfo.storeName),ae=ie.clear();te.oncomplete=function(){q()},te.onabort=te.onerror=function(){var ce=ae.error?ae.error:ae.transaction.error;Q(ce)}}catch(ce){Q(ce)}})}).catch(Q)});return h(M,k),M}function Ae(k){var D=this,M=new d(function(q,Q){D.ready().then(function(){G(D._dbInfo,x,function(H,te){if(H)return Q(H);try{var ie=te.objectStore(D._dbInfo.storeName),ae=ie.count();ae.onsuccess=function(){q(ae.result)},ae.onerror=function(){Q(ae.error)}}catch(ce){Q(ce)}})}).catch(Q)});return h(M,k),M}function le(k,D){var M=this,q=new d(function(Q,H){if(k<0){Q(null);return}M.ready().then(function(){G(M._dbInfo,x,function(te,ie){if(te)return H(te);try{var ae=ie.objectStore(M._dbInfo.storeName),ce=!1,fe=ae.openKeyCursor();fe.onsuccess=function(){var ke=fe.result;if(!ke){Q(null);return}k===0||ce?Q(ke.key):(ce=!0,ke.advance(k))},fe.onerror=function(){H(fe.error)}}catch(ke){H(ke)}})}).catch(H)});return h(q,D),q}function be(k){var D=this,M=new d(function(q,Q){D.ready().then(function(){G(D._dbInfo,x,function(H,te){if(H)return Q(H);try{var ie=te.objectStore(D._dbInfo.storeName),ae=ie.openKeyCursor(),ce=[];ae.onsuccess=function(){var fe=ae.result;if(!fe){q(ce);return}ce.push(fe.key),fe.continue()},ae.onerror=function(){Q(ae.error)}}catch(fe){Q(fe)}})}).catch(Q)});return h(M,k),M}function He(k,D){D=m.apply(this,arguments);var M=this.config();k=typeof k!="function"&&k||{},k.name||(k.name=k.name||M.name,k.storeName=k.storeName||M.storeName);var q=this,Q;if(!k.name)Q=d.reject("Invalid arguments");else{var H=k.name===M.name&&q._dbInfo.db,te=H?d.resolve(q._dbInfo.db):P(k).then(function(ie){var ae=y[k.name],ce=ae.forages;ae.db=ie;for(var fe=0;fe<ce.length;fe++)ce[fe]._dbInfo.db=ie;return ie});k.storeName?Q=te.then(function(ie){if(ie.objectStoreNames.contains(k.storeName)){var ae=ie.version+1;$(k);var ce=y[k.name],fe=ce.forages;ie.close();for(var ke=0;ke<fe.length;ke++){var et=fe[ke];et._dbInfo.db=null,et._dbInfo.version=ae}var At=new d(function(St,Tn){var An=l.open(k.name,ae);An.onerror=function(Ei){var Bu=An.result;Bu.close(),Tn(Ei)},An.onupgradeneeded=function(){var Ei=An.result;Ei.deleteObjectStore(k.storeName)},An.onsuccess=function(){var Ei=An.result;Ei.close(),St(Ei)}});return At.then(function(St){ce.db=St;for(var Tn=0;Tn<fe.length;Tn++){var An=fe[Tn];An._dbInfo.db=St,N(An._dbInfo)}}).catch(function(St){throw(B(k,St)||d.resolve()).catch(function(){}),St})}}):Q=te.then(function(ie){$(k);var ae=y[k.name],ce=ae.forages;ie.close();for(var fe=0;fe<ce.length;fe++){var ke=ce[fe];ke._dbInfo.db=null}var et=new d(function(At,St){var Tn=l.deleteDatabase(k.name);Tn.onerror=function(){var An=Tn.result;An&&An.close(),St(Tn.error)},Tn.onblocked=function(){console.warn('dropInstance blocked for database "'+k.name+'" until all open connections are closed')},Tn.onsuccess=function(){var An=Tn.result;An&&An.close(),At(An)}});return et.then(function(At){ae.db=At;for(var St=0;St<ce.length;St++){var Tn=ce[St];N(Tn._dbInfo)}}).catch(function(At){throw(B(k,At)||d.resolve()).catch(function(){}),At})})}return h(Q,D),Q}var Fe={_driver:"asyncStorage",_initStorage:ne,_support:c(),iterate:de,getItem:O,setItem:Z,removeItem:oe,clear:Pe,length:Ae,key:le,keys:be,dropInstance:He};function Se(){return typeof openDatabase=="function"}var Ee="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ke="~~local_forage_type~",Ye=/^~~local_forage_type~([^~]+)~/,Ie="__lfsc__:",at=Ie.length,Tt="arbf",en="blob",Pt="si08",gn="ui08",ct="uic8",_t="si16",Wt="si32",Je="ur16",jt="ui32",ve="fl32",nt="fl64",mn=at+Tt.length,dt=Object.prototype.toString;function rt(k){var D=k.length*.75,M=k.length,q,Q=0,H,te,ie,ae;k[k.length-1]==="="&&(D--,k[k.length-2]==="="&&D--);var ce=new ArrayBuffer(D),fe=new Uint8Array(ce);for(q=0;q<M;q+=4)H=Ee.indexOf(k[q]),te=Ee.indexOf(k[q+1]),ie=Ee.indexOf(k[q+2]),ae=Ee.indexOf(k[q+3]),fe[Q++]=H<<2|te>>4,fe[Q++]=(te&15)<<4|ie>>2,fe[Q++]=(ie&3)<<6|ae&63;return ce}function tn(k){var D=new Uint8Array(k),M="",q;for(q=0;q<D.length;q+=3)M+=Ee[D[q]>>2],M+=Ee[(D[q]&3)<<4|D[q+1]>>4],M+=Ee[(D[q+1]&15)<<2|D[q+2]>>6],M+=Ee[D[q+2]&63];return D.length%3===2?M=M.substring(0,M.length-1)+"=":D.length%3===1&&(M=M.substring(0,M.length-2)+"=="),M}function un(k,D){var M="";if(k&&(M=dt.call(k)),k&&(M==="[object ArrayBuffer]"||k.buffer&&dt.call(k.buffer)==="[object ArrayBuffer]")){var q,Q=Ie;k instanceof ArrayBuffer?(q=k,Q+=Tt):(q=k.buffer,M==="[object Int8Array]"?Q+=Pt:M==="[object Uint8Array]"?Q+=gn:M==="[object Uint8ClampedArray]"?Q+=ct:M==="[object Int16Array]"?Q+=_t:M==="[object Uint16Array]"?Q+=Je:M==="[object Int32Array]"?Q+=Wt:M==="[object Uint32Array]"?Q+=jt:M==="[object Float32Array]"?Q+=ve:M==="[object Float64Array]"?Q+=nt:D(new Error("Failed to get type for BinaryArray"))),D(Q+tn(q))}else if(M==="[object Blob]"){var H=new FileReader;H.onload=function(){var te=Ke+k.type+"~"+tn(this.result);D(Ie+en+te)},H.readAsArrayBuffer(k)}else try{D(JSON.stringify(k))}catch(te){console.error("Couldn't convert value into a JSON string: ",k),D(null,te)}}function Kt(k){if(k.substring(0,at)!==Ie)return JSON.parse(k);var D=k.substring(mn),M=k.substring(at,mn),q;if(M===en&&Ye.test(D)){var Q=D.match(Ye);q=Q[1],D=D.substring(Q[0].length)}var H=rt(D);switch(M){case Tt:return H;case en:return u([H],{type:q});case Pt:return new Int8Array(H);case gn:return new Uint8Array(H);case ct:return new Uint8ClampedArray(H);case _t:return new Int16Array(H);case Je:return new Uint16Array(H);case Wt:return new Int32Array(H);case jt:return new Uint32Array(H);case ve:return new Float32Array(H);case nt:return new Float64Array(H);default:throw new Error("Unkown type: "+M)}}var pt={serialize:un,deserialize:Kt,stringToBuffer:rt,bufferToString:tn};function Ln(k,D,M,q){k.executeSql("CREATE TABLE IF NOT EXISTS "+D.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],M,q)}function gr(k){var D=this,M={db:null};if(k)for(var q in k)M[q]=typeof k[q]!="string"?k[q].toString():k[q];var Q=new d(function(H,te){try{M.db=openDatabase(M.name,String(M.version),M.description,M.size)}catch(ie){return te(ie)}M.db.transaction(function(ie){Ln(ie,M,function(){D._dbInfo=M,H()},function(ae,ce){te(ce)})},te)});return M.serializer=pt,Q}function vn(k,D,M,q,Q,H){k.executeSql(M,q,Q,function(te,ie){ie.code===ie.SYNTAX_ERR?te.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[D.storeName],function(ae,ce){ce.rows.length?H(ae,ie):Ln(ae,D,function(){ae.executeSql(M,q,Q,H)},H)},H):H(te,ie)},H)}function xi(k,D){var M=this;k=g(k);var q=new d(function(Q,H){M.ready().then(function(){var te=M._dbInfo;te.db.transaction(function(ie){vn(ie,te,"SELECT * FROM "+te.storeName+" WHERE key = ? LIMIT 1",[k],function(ae,ce){var fe=ce.rows.length?ce.rows.item(0).value:null;fe&&(fe=te.serializer.deserialize(fe)),Q(fe)},function(ae,ce){H(ce)})})}).catch(H)});return h(q,D),q}function Zr(k,D){var M=this,q=new d(function(Q,H){M.ready().then(function(){var te=M._dbInfo;te.db.transaction(function(ie){vn(ie,te,"SELECT * FROM "+te.storeName,[],function(ae,ce){for(var fe=ce.rows,ke=fe.length,et=0;et<ke;et++){var At=fe.item(et),St=At.value;if(St&&(St=te.serializer.deserialize(St)),St=k(St,At.key,et+1),St!==void 0){Q(St);return}}Q()},function(ae,ce){H(ce)})})}).catch(H)});return h(q,D),q}function bt(k,D,M,q){var Q=this;k=g(k);var H=new d(function(te,ie){Q.ready().then(function(){D===void 0&&(D=null);var ae=D,ce=Q._dbInfo;ce.serializer.serialize(D,function(fe,ke){ke?ie(ke):ce.db.transaction(function(et){vn(et,ce,"INSERT OR REPLACE INTO "+ce.storeName+" (key, value) VALUES (?, ?)",[k,fe],function(){te(ae)},function(At,St){ie(St)})},function(et){if(et.code===et.QUOTA_ERR){if(q>0){te(bt.apply(Q,[k,ae,M,q-1]));return}ie(et)}})})}).catch(ie)});return h(H,M),H}function yn(k,D,M){return bt.apply(this,[k,D,M,1])}function Ve(k,D){var M=this;k=g(k);var q=new d(function(Q,H){M.ready().then(function(){var te=M._dbInfo;te.db.transaction(function(ie){vn(ie,te,"DELETE FROM "+te.storeName+" WHERE key = ?",[k],function(){Q()},function(ae,ce){H(ce)})})}).catch(H)});return h(q,D),q}function Xe(k){var D=this,M=new d(function(q,Q){D.ready().then(function(){var H=D._dbInfo;H.db.transaction(function(te){vn(te,H,"DELETE FROM "+H.storeName,[],function(){q()},function(ie,ae){Q(ae)})})}).catch(Q)});return h(M,k),M}function Un(k){var D=this,M=new d(function(q,Q){D.ready().then(function(){var H=D._dbInfo;H.db.transaction(function(te){vn(te,H,"SELECT COUNT(key) as c FROM "+H.storeName,[],function(ie,ae){var ce=ae.rows.item(0).c;q(ce)},function(ie,ae){Q(ae)})})}).catch(Q)});return h(M,k),M}function ei(k,D){var M=this,q=new d(function(Q,H){M.ready().then(function(){var te=M._dbInfo;te.db.transaction(function(ie){vn(ie,te,"SELECT key FROM "+te.storeName+" WHERE id = ? LIMIT 1",[k+1],function(ae,ce){var fe=ce.rows.length?ce.rows.item(0).key:null;Q(fe)},function(ae,ce){H(ce)})})}).catch(H)});return h(q,D),q}function ye(k){var D=this,M=new d(function(q,Q){D.ready().then(function(){var H=D._dbInfo;H.db.transaction(function(te){vn(te,H,"SELECT key FROM "+H.storeName,[],function(ie,ae){for(var ce=[],fe=0;fe<ae.rows.length;fe++)ce.push(ae.rows.item(fe).key);q(ce)},function(ie,ae){Q(ae)})})}).catch(Q)});return h(M,k),M}function Ne(k){return new d(function(D,M){k.transaction(function(q){q.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(Q,H){for(var te=[],ie=0;ie<H.rows.length;ie++)te.push(H.rows.item(ie).name);D({db:k,storeNames:te})},function(Q,H){M(H)})},function(q){M(q)})})}function ze(k,D){D=m.apply(this,arguments);var M=this.config();k=typeof k!="function"&&k||{},k.name||(k.name=k.name||M.name,k.storeName=k.storeName||M.storeName);var q=this,Q;return k.name?Q=new d(function(H){var te;k.name===M.name?te=q._dbInfo.db:te=openDatabase(k.name,"","",0),k.storeName?H({db:te,storeNames:[k.storeName]}):H(Ne(te))}).then(function(H){return new d(function(te,ie){H.db.transaction(function(ae){function ce(At){return new d(function(St,Tn){ae.executeSql("DROP TABLE IF EXISTS "+At,[],function(){St()},function(An,Ei){Tn(Ei)})})}for(var fe=[],ke=0,et=H.storeNames.length;ke<et;ke++)fe.push(ce(H.storeNames[ke]));d.all(fe).then(function(){te()}).catch(function(At){ie(At)})},function(ae){ie(ae)})})}):Q=d.reject("Invalid arguments"),h(Q,D),Q}var Cn={_driver:"webSQLStorage",_initStorage:gr,_support:Se(),iterate:Zr,getItem:xi,setItem:yn,removeItem:Ve,clear:Xe,length:Un,key:ei,keys:ye,dropInstance:ze};function Hn(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function ti(k,D){var M=k.name+"/";return k.storeName!==D.storeName&&(M+=k.storeName+"/"),M}function wi(){var k="_localforage_support_test";try{return localStorage.setItem(k,!0),localStorage.removeItem(k),!1}catch{return!0}}function nr(){return!wi()||localStorage.length>0}function Br(k){var D=this,M={};if(k)for(var q in k)M[q]=k[q];return M.keyPrefix=ti(k,D._defaultConfig),nr()?(D._dbInfo=M,M.serializer=pt,d.resolve()):d.reject()}function Ot(k){var D=this,M=D.ready().then(function(){for(var q=D._dbInfo.keyPrefix,Q=localStorage.length-1;Q>=0;Q--){var H=localStorage.key(Q);H.indexOf(q)===0&&localStorage.removeItem(H)}});return h(M,k),M}function Ma(k,D){var M=this;k=g(k);var q=M.ready().then(function(){var Q=M._dbInfo,H=localStorage.getItem(Q.keyPrefix+k);return H&&(H=Q.serializer.deserialize(H)),H});return h(q,D),q}function Sv(k,D){var M=this,q=M.ready().then(function(){for(var Q=M._dbInfo,H=Q.keyPrefix,te=H.length,ie=localStorage.length,ae=1,ce=0;ce<ie;ce++){var fe=localStorage.key(ce);if(fe.indexOf(H)===0){var ke=localStorage.getItem(fe);if(ke&&(ke=Q.serializer.deserialize(ke)),ke=k(ke,fe.substring(te),ae++),ke!==void 0)return ke}}});return h(q,D),q}function kh(k,D){var M=this,q=M.ready().then(function(){var Q=M._dbInfo,H;try{H=localStorage.key(k)}catch{H=null}return H&&(H=H.substring(Q.keyPrefix.length)),H});return h(q,D),q}function Ch(k){var D=this,M=D.ready().then(function(){for(var q=D._dbInfo,Q=localStorage.length,H=[],te=0;te<Q;te++){var ie=localStorage.key(te);ie.indexOf(q.keyPrefix)===0&&H.push(ie.substring(q.keyPrefix.length))}return H});return h(M,k),M}function Th(k){var D=this,M=D.keys().then(function(q){return q.length});return h(M,k),M}function Ih(k,D){var M=this;k=g(k);var q=M.ready().then(function(){var Q=M._dbInfo;localStorage.removeItem(Q.keyPrefix+k)});return h(q,D),q}function It(k,D,M){var q=this;k=g(k);var Q=q.ready().then(function(){D===void 0&&(D=null);var H=D;return new d(function(te,ie){var ae=q._dbInfo;ae.serializer.serialize(D,function(ce,fe){if(fe)ie(fe);else try{localStorage.setItem(ae.keyPrefix+k,ce),te(H)}catch(ke){(ke.name==="QuotaExceededError"||ke.name==="NS_ERROR_DOM_QUOTA_REACHED")&&ie(ke),ie(ke)}})})});return h(Q,M),Q}function ts(k,D){if(D=m.apply(this,arguments),k=typeof k!="function"&&k||{},!k.name){var M=this.config();k.name=k.name||M.name,k.storeName=k.storeName||M.storeName}var q=this,Q;return k.name?Q=new d(function(H){k.storeName?H(ti(k,q._defaultConfig)):H(k.name+"/")}).then(function(H){for(var te=localStorage.length-1;te>=0;te--){var ie=localStorage.key(te);ie.indexOf(H)===0&&localStorage.removeItem(ie)}}):Q=d.reject("Invalid arguments"),h(Q,D),Q}var Lu={_driver:"localStorageWrapper",_initStorage:Br,_support:Hn(),iterate:Sv,getItem:Ma,setItem:It,removeItem:Ih,clear:Ot,length:Th,key:kh,keys:Ch,dropInstance:ts},Pa=function(D,M){return D===M||typeof D=="number"&&typeof M=="number"&&isNaN(D)&&isNaN(M)},xv=function(D,M){for(var q=D.length,Q=0;Q<q;){if(Pa(D[Q],M))return!0;Q++}return!1},Ul=Array.isArray||function(k){return Object.prototype.toString.call(k)==="[object Array]"},Nu={},hE={},Hl={INDEXEDDB:Fe,WEBSQL:Cn,LOCALSTORAGE:Lu},bB=[Hl.INDEXEDDB._driver,Hl.WEBSQL._driver,Hl.LOCALSTORAGE._driver],Rh=["dropInstance"],wv=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Rh),SB={description:"",driver:bB.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function xB(k,D){k[D]=function(){var M=arguments;return k.ready().then(function(){return k[D].apply(k,M)})}}function Ev(){for(var k=1;k<arguments.length;k++){var D=arguments[k];if(D)for(var M in D)D.hasOwnProperty(M)&&(Ul(D[M])?arguments[0][M]=D[M].slice():arguments[0][M]=D[M])}return arguments[0]}var wB=function(){function k(D){o(this,k);for(var M in Hl)if(Hl.hasOwnProperty(M)){var q=Hl[M],Q=q._driver;this[M]=Q,Nu[Q]||this.defineDriver(q)}this._defaultConfig=Ev({},SB),this._config=Ev({},this._defaultConfig,D),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return k.prototype.config=function(M){if((typeof M>"u"?"undefined":s(M))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var q in M){if(q==="storeName"&&(M[q]=M[q].replace(/\W/g,"_")),q==="version"&&typeof M[q]!="number")return new Error("Database version must be a number.");this._config[q]=M[q]}return"driver"in M&&M.driver?this.setDriver(this._config.driver):!0}else return typeof M=="string"?this._config[M]:this._config},k.prototype.defineDriver=function(M,q,Q){var H=new d(function(te,ie){try{var ae=M._driver,ce=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!M._driver){ie(ce);return}for(var fe=wv.concat("_initStorage"),ke=0,et=fe.length;ke<et;ke++){var At=fe[ke],St=!xv(Rh,At);if((St||M[At])&&typeof M[At]!="function"){ie(ce);return}}var Tn=function(){for(var Bu=function(CB){return function(){var TB=new Error("Method "+CB+" is not implemented by the current driver"),pE=d.reject(TB);return h(pE,arguments[arguments.length-1]),pE}},kv=0,kB=Rh.length;kv<kB;kv++){var Cv=Rh[kv];M[Cv]||(M[Cv]=Bu(Cv))}};Tn();var An=function(Bu){Nu[ae]&&console.info("Redefining LocalForage driver: "+ae),Nu[ae]=M,hE[ae]=Bu,te()};"_support"in M?M._support&&typeof M._support=="function"?M._support().then(An,ie):An(!!M._support):An(!0)}catch(Ei){ie(Ei)}});return p(H,q,Q),H},k.prototype.driver=function(){return this._driver||null},k.prototype.getDriver=function(M,q,Q){var H=Nu[M]?d.resolve(Nu[M]):d.reject(new Error("Driver not found."));return p(H,q,Q),H},k.prototype.getSerializer=function(M){var q=d.resolve(pt);return p(q,M),q},k.prototype.ready=function(M){var q=this,Q=q._driverSet.then(function(){return q._ready===null&&(q._ready=q._initDriver()),q._ready});return p(Q,M,M),Q},k.prototype.setDriver=function(M,q,Q){var H=this;Ul(M)||(M=[M]);var te=this._getSupportedDrivers(M);function ie(){H._config.driver=H.driver()}function ae(ke){return H._extend(ke),ie(),H._ready=H._initStorage(H._config),H._ready}function ce(ke){return function(){var et=0;function At(){for(;et<ke.length;){var St=ke[et];return et++,H._dbInfo=null,H._ready=null,H.getDriver(St).then(ae).catch(At)}ie();var Tn=new Error("No available storage method found.");return H._driverSet=d.reject(Tn),H._driverSet}return At()}}var fe=this._driverSet!==null?this._driverSet.catch(function(){return d.resolve()}):d.resolve();return this._driverSet=fe.then(function(){var ke=te[0];return H._dbInfo=null,H._ready=null,H.getDriver(ke).then(function(et){H._driver=et._driver,ie(),H._wrapLibraryMethodsWithReady(),H._initDriver=ce(te)})}).catch(function(){ie();var ke=new Error("No available storage method found.");return H._driverSet=d.reject(ke),H._driverSet}),p(this._driverSet,q,Q),this._driverSet},k.prototype.supports=function(M){return!!hE[M]},k.prototype._extend=function(M){Ev(this,M)},k.prototype._getSupportedDrivers=function(M){for(var q=[],Q=0,H=M.length;Q<H;Q++){var te=M[Q];this.supports(te)&&q.push(te)}return q},k.prototype._wrapLibraryMethodsWithReady=function(){for(var M=0,q=wv.length;M<q;M++)xB(this,wv[M])},k.prototype.createInstance=function(M){return new k(M)},k}(),EB=new wB;r.exports=EB},{3:3}]},{},[4])(4)})})(Gj);var qj=Gj.exports;const Od=hr(qj),Wj=IM({__proto__:null,default:Od},[qj]);let qu=null;async function $g(){if(!qu)if("localStorage"in globalThis)try{qu=xu(()=>Promise.resolve().then(()=>Wj),void 0).then(({default:e})=>e.createInstance({name:"localforage"}))}catch(e){console.error(e),qu=Promise.resolve(je.memory)}else qu=Promise.resolve(je.memory);return qu}const Jc=e=>Zs.generateSongFile(e),Kj=async e=>{var n;const t=Jc(e);return await((n=await $g())==null?void 0:n.getItem(t))||{plays:0,scores:[]}},Yj=async(e,t)=>{var n;await((n=await $g())==null?void 0:n.setItem(Jc(e),t))},Yq=async()=>{var n;const e=await((n=await $g())==null?void 0:n.keys())??[],t={};return await Promise.all(e.map(async r=>{var i;t[r]=await((i=await $g())==null?void 0:i.getItem(r))})),t};ee.songEnded.subscribe(async(e,t,n,r)=>{if(n.every(o=>o.score===0))return;let i=await(Od==null?void 0:Od.getItem(Jc(e)));const s={setup:t,scores:n,date:new Date().toISOString(),progress:r};i?(i.scores=[...(i==null?void 0:i.scores)??[],s],i.plays=i.scores.length):i={plays:1,scores:[s]},await Yj(e,i),ee.songStatStored.dispatch(Jc(e),i)});const Xc="session-player-names",Qq="previous-player-names";function Jq(e){return e!=null}ee.songStarted.subscribe((e,t)=>{let n=JSON.parse(je.session.getItem(Xc))||[];const r=t.players.map(({number:s})=>Me.getPlayer(s)).filter(Jq).map(s=>s.getName().trim()),i=[...n].concat(...r);n=[...new Set(i)].filter(Boolean),je.session.setItem(Xc,JSON.stringify(n)),je.session.setItem(Qq,JSON.stringify(r))});ee.songScoreUpdated.subscribe((e,t,n)=>{let r=JSON.parse(je.session.getItem(Xc))||[];const i=[...r].concat(n);r=[...new Set(i)].filter(Boolean),je.session.setItem(Xc,JSON.stringify(r))});function Xq(e,t){const n=t<0?e.length+t:t;return e[n]}[].at||(Array.prototype.at=function(e){return Xq(this,e)});[].findLastIndex||(Array.prototype.findLastIndex=function(e,t){for(let n=this.length-1;n>=0;n--)if(e.call(t,this[n],n,this))return n;return-1});var Zq="Expected a function";function Ic(e,t,n){var r=!0,i=!0;if(typeof e!="function")throw new TypeError(Zq);return ws(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),vj(e,t,{leading:r,maxWait:t,trailing:i})}class eW extends Mo{constructor(){super(...arguments),this.stream=null,this.context=null,this.interval=null,this.frequencies=[0,0],this.volumes=[0,0],this.startedMonitoring=!1,this.startMonitoring=async(t,n=!1)=>{if(!this.startedMonitoring){this.startedMonitoring=!0;try{this.stream=await aa.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!1},video:!1});try{this.context=new AudioContext;const r=this.context.createMediaStreamSource(this.stream),i=this.context.createAnalyser();i.fftSize=2048,i.minDecibels=-100,r.connect(i);const s=new hj;await s.init(this.context,i.fftSize),this.interval=setInterval(async()=>{const o=new Float32Array(i.fftSize);i.getFloatTimeDomainData(o);const a=await s.getFrequency(o),l=this.calculateVolume(o);this.frequencies=[a,a],this.volumes=[l,l],this.onUpdate(a,l)},this.context.sampleRate/i.fftSize),ee.micMonitoringStarted.dispatch()}catch(r){Js(r),console.error(r)}}catch(r){Js(r,{level:"warning",extra:{message:"SimplifiedMic.startMonitoring"}}),console.warn(r)}}},this.getFrequencies=()=>this.frequencies,this.getVolumes=()=>this.volumes,this.clearFrequencies=t=>{},this.stopMonitoring=async()=>{var t,n;if(this.startedMonitoring){this.startedMonitoring=!1,this.interval&&clearInterval(this.interval),(t=this.stream)==null||t.getTracks().forEach(function(r){r.stop()});try{await((n=this.context)==null?void 0:n.close())}catch(r){console.log("MicInput.stoMonitoring error",r)}ee.micMonitoringStopped.dispatch()}},this.getInputLag=()=>180,this.requestReadiness=()=>Promise.resolve(!0),this.getStatus=()=>"ok"}calculateVolume(t){let n,r=0;for(n=0;n<t.length;++n)r+=t[n]*t[n];return Math.sqrt(r/t.length)}}const as=new eW;class tW extends Mo{constructor(){super(...arguments),this.peer=null,this.connection=null,this.unavailableIdRetries=0,this.unavailableIdRetryTimeout=null,this.connectToRoom=(t,n,r)=>{var i;this.connection=this.peer.connect(`allkaraoke-party-room-${t}`),this.connection.on("open",()=>{n()}),this.connection.on("close",()=>r("closed",null)),(i=this.connection)==null||i.on("data",s=>{console.log(s),this.onUpdate(s)})},this.isConnected=()=>{var t,n;return!!((t=this.connection)!=null&&t.open)&&!((n=this.peer)!=null&&n.disconnected)},this.close=()=>{var t;(t=this.connection)==null||t.close()}}connect(t,n,r,i,s){this.peer&&!this.peer.disconnected?this.connectToRoom(n,r,i):(this.peer=new d0(t,{...xj,debug:3}),this.peer.on("open",()=>{this.connectToRoom(n,r,i)}),this.peer.on("error",o=>{var a,l;o.type==="unavailable-id"&&this.unavailableIdRetries<3&&this.unavailableIdRetryTimeout===null?((l=(a=this.peer)==null?void 0:a.destroy)==null||l.call(a),this.unavailableIdRetryTimeout=setTimeout(()=>{this.unavailableIdRetryTimeout=null,this.unavailableIdRetries++,this.connect(t,n,r,i,s)},1750)):(this.unavailableIdRetries=0,console.error(o.type,o),i(o.type,o))}))}sendEvent(t){var n;(n=this.connection)==null||n.send(t)}}class nW extends Mo{constructor(){super(...arguments),this.connection=null,this.roomId=null,this.isConnected=()=>{var t;return(((t=this.connection)==null?void 0:t.readyState)??1/0)<2},this.close=()=>{var t;(t=this.connection)==null||t.close()}}connect(t,n,r,i,s){this.roomId=n,this.connection=new WebSocket(Rj),this.connection.binaryType="arraybuffer",this.connection.onopen=()=>{var o;(o=this.connection)==null||o.send(rf({t:"register-player",id:t,roomId:n}))},this.connection.onmessage=o=>{const a=Vb(o.data);a.t==="forward"?this.onUpdate(a.payload):a.t==="connected"&&r()},this.connection.onclose=o=>{var l;let a="unknown";try{a=(l=JSON.parse(o.reason))==null?void 0:l.error}catch{console.info("could not parse close reason",o)}this.clearAllListeners(),i(a,o)},this.connection.onerror=o=>{this.clearAllListeners(),s("error",o)}}sendEvent(t){var n;(n=this.connection)==null||n.send(rf({t:"forward",recipients:[this.roomId],payload:t}))}}const sC=(e,t)=>{if(e===0)return 0;const n=Math.pow(10,t);return Math.round(e*n)/n};let Xh;const rW=new Uint8Array(16);function iW(){if(!Xh&&(Xh=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Xh))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Xh(rW)}const ir=[];for(let e=0;e<256;++e)ir.push((e+256).toString(16).slice(1));function sW(e,t=0){return ir[e[t+0]]+ir[e[t+1]]+ir[e[t+2]]+ir[e[t+3]]+"-"+ir[e[t+4]]+ir[e[t+5]]+"-"+ir[e[t+6]]+ir[e[t+7]]+"-"+ir[e[t+8]]+ir[e[t+9]]+"-"+ir[e[t+10]]+ir[e[t+11]]+ir[e[t+12]]+ir[e[t+13]]+ir[e[t+14]]+ir[e[t+15]]}const oW=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),oC={randomUUID:oW};function Fg(e,t,n){if(oC.randomUUID&&!t&&!e)return oC.randomUUID();e=e||{};const r=e.random||(e.rng||iW)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(let i=0;i<16;++i)t[n+i]=r[i];return t}return sW(r)}const S1="MIC_CLIENT_ID";class aW{constructor(){this.clientId=je.getItem(S1),this.roomId=null,this.reconnecting=!1,this.connected=!1,this.frequencies=[],this.sendFrequencies=Ic(t=>{const n=this.frequencies.map(r=>sC(r,2));this.frequencies.length=0,this.sendEvent("freq",[n,sC(t,4)])},50),this.onFrequencyUpdate=Ic((t,n)=>{this.frequencies.push(t),this.sendFrequencies(n)},1e3/60),this.getClientId=()=>this.clientId,this.setClientId=t=>{this.clientId=t,je.setItem(S1,t)},this.connect=(t,n,r)=>{const i=t.toLowerCase();if(this.transport||(this.transport=i.startsWith("w")?new nW:new tW),this.clientId===null&&this.setClientId(Fg()),this.roomId=i,this.transport.isConnected()){console.log("not reconnecting",this.transport);return}this.reconnecting||ee.karaokeConnectionStatusChange.dispatch("connecting"),this.transport.connect(this.clientId,this.roomId,()=>{this.connectToServer(i,n,r)},(s,o)=>{var a;if(s==="unavailable-id"){this.setClientId(Fg()),this.connect(i,n,r);return}console.log("closed connection :o",s,o),global.removeEventListener("beforeunload",this.disconnect),this.reconnecting?ee.karaokeConnectionStatusChange.dispatch("reconnecting"):this.connected?ee.karaokeConnectionStatusChange.dispatch("disconnected"):(ee.karaokeConnectionStatusChange.dispatch("error",s),Vn.capture("remote_mic_connection_error",{reason:s,transport:(a=this.roomId)==null?void 0:a.charAt(0)})),ee.remoteMicPlayerSet.dispatch(null),ee.remoteKeyboardLayout.dispatch(void 0),as.removeListener(this.onFrequencyUpdate),as.stopMonitoring(),!this.reconnecting&&this.connected&&(this.reconnecting=!0,setTimeout(()=>this.reconnect(i,n),1500)),this.connected=!1},console.warn)},this.latency=999,this.pingStart=ps(),this.pinging=!1,this.ping=()=>{this.pinging=!0,this.pingStart=ps(),this.sendEvent("ping",{p:this.pingStart})},this.reportPing=Ic(t=>Vn.capture("remote_mic_ping",{ping:t}),1e4),this.onPong=()=>{this.latency=ps()-this.pingStart,this.pinging=!1,this.reportPing(this.latency),setTimeout(this.ping,2e3)},this.connectToServer=(t,n,r)=>{var i;this.connected=!0,this.reconnecting=!1,ee.karaokeConnectionStatusChange.dispatch("connected"),Vn.capture("remote_mic_connection_successful",{transport:(i=this.roomId)==null?void 0:i.charAt(0)}),this.sendEvent("register",{name:n,id:this.clientId,silent:r,lag:XP.get()}),this.ping(),global==null||global.addEventListener("beforeunload",this.disconnect),this.transport.addListener(s=>{var a,l;const o=s.t;o==="start-monitor"?(as.removeListener(this.onFrequencyUpdate),as.addListener(this.onFrequencyUpdate),as.startMonitoring(void 0,!0)):o==="stop-monitor"?(as.removeListener(this.onFrequencyUpdate),as.stopMonitoring()):o==="set-player-number"?ee.remoteMicPlayerSet.dispatch(s.playerNumber):o==="keyboard-layout"?ee.remoteKeyboardLayout.dispatch(s.help):o==="reload-mic"?(global.removeEventListener("beforeunload",this.disconnect),this.sendEvent("unregister"),je.session.setItem("reload-mic-request","1"),(a=document.getElementById("phone-ui-container"))==null||a.remove(),(l=global.location)==null||l.reload()):o==="request-readiness"?ee.remoteReadinessRequested.dispatch():o==="pong"?this.onPong():o==="ping"?this.sendEvent("pong"):o==="set-permissions"?ee.remoteMicPermissionsSet.dispatch(s.level):o==="remote-mics-list"?ee.remoteMicListUpdated.dispatch(s.list):o==="style-change"&&ee.remoteStyleChanged.dispatch(s.style)})},this.reconnect=(t,n)=>{this.reconnecting&&(ee.karaokeConnectionStatusChange.dispatch("reconnecting"),this.connect(t,n,!1),setTimeout(()=>this.reconnect(t,n),2e3))},this.sendKeyStroke=t=>{this.sendEvent("keystroke",{key:t})},this.searchSong=t=>{this.sendEvent("search-song",{search:t})},this.requestPlayerChange=(t,n)=>{this.sendEvent("request-mic-select",{id:t,playerNumber:n})},this.confirmReadiness=()=>{this.sendEvent("confirm-readiness")},this.subscribe=t=>{this.sendEvent("subscribe-event",{channel:t})},this.unsubscribe=t=>{this.sendEvent("unsubscribe-event",{channel:t})},this.getSongList=()=>this.sendRequest({t:"request-songlist"},"songlist"),this.getGameInputLag=()=>this.sendRequest({t:"get-game-input-lag-request"},"get-game-input-lag-response"),this.setGameInputLag=t=>this.sendRequest({t:"set-game-input-lag-request",value:t},"get-game-input-lag-response"),this.getMicrophoneInputLag=()=>this.sendRequest({t:"get-microphone-lag-request"},"get-microphone-lag-response"),this.setMicrophoneInputLag=t=>this.sendRequest({t:"set-microphone-lag-request",value:t},"get-microphone-lag-response"),this.sendEvent=(t,n)=>{var r;(r=this.transport)!=null&&r.isConnected()?this.transport.sendEvent({t,...n}):console.debug("not connected, skipping",t,n)},this.sendRequest=({t,...n},r)=>new Promise((i,s)=>{var l;const o=setTimeout(()=>{var c;(c=this.transport)==null||c.removeListener(a),s(`${t} timed out waiting for ${r}`)},1e4),a=c=>{var u;c.t===r&&(clearTimeout(o),(u=this.transport)==null||u.removeListener(a),i(c))};(l=this.transport)==null||l.addListener(a),this.sendEvent(t,n)}),this.disconnect=()=>{var t;(t=this.transport)==null||t.close()}}}const wn=new aW,lW="/assets/2020-12-16_-_Christmas_Rock_-_www.FesliyanStudios.com_Steve_Oxen-DMCunqoI.ogg",cW="/assets/376817__original_sound__impact-cinematic-CwEVHJ3C.ogg",uW="/assets/421888__b-sean__retro-CErSO5v-.ogg",dW="/assets/459342__papaninkasettratat__cinematic-music-short-rn-rfKrG.ogg",fW="/assets/60013__qubodup__whoosh-CRSX-bwR.mp3",hW="/assets/Funk%20Cool%20Groove%20(No%20Copyright%20Music)%20By%20Anwar%20Amr-Chfv45i1.ogg",pW="/assets/menu_back-CXKu2j7w.mp3",gW="data:audio/mpeg;base64,SUQzBAAAAAAAIlRTU0UAAAAOAAADTGF2ZjYwLjMuMTAwAAAAAAAAAAAAAAD/+1QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABYaW5nAAAADwAAABMAAA04AEFBQUFBZWVlZWV/f39/f5GRkZGRkZqampqaoaGhoaGoqKioqLCwsLCwsLe3t7e3vr6+vr7FxcXFxc3Nzc3NzdTU1NTU29vb29vi4uLi4urq6urq6vHx8fHx+Pj4+Pj//////wAAAABMYXZjNjAuMy4AAAAAAAAAAAAAAAAkAuUAAAAAAAANOLGcZrL/+8REAAEA/ADLaAAACh+AGY0AAAFGhC0ZtYMAKP4GYzKwkAUAFJyXj/AAAB7QAAB4eHh4YYAOM////jh4eAAAAAIw8AlNybj/AAAB/AAADw8PDwxwAAGf///5h4eAAAAAIw9hSJuIlQJTskunEz5RFv1Y2byK7n/97llcFmmyCgoMFBQUFAoKCgoMFDX////qAoKChQUFESxJ2AfoAZiMJDhIyAqTJk81xxarn/97lWmgXEJCQoUJCChQUFBQSCgoKChQUv//6YKFAoKCgwUFBQUhBQU0WgEEAFZUiUdVZ7urwsAwAAAoTmeCxjBAdkrnZm5gCuz2BTRyEx8VJUhukDsoNVBjExsWZAsIvo6ZtcOZTJhAKFQlp6a7oGrhgQ1GypacseeN5GgM7LimCHZWKo200F2pFIbcrBxGTFxgYmAAQQh6wspcVlNfLCxvO2HAzIQgDZSzJWt9XFnYFf27////7/0ko32xTymMyqLclUq8QECiT3+7//+laf///9uMHyGvGu2u2so2EgAAAAADIAEGFguPUQDJhoMKHjtm/ExnBISAuP5tq7A0VjIBuAgFjyzu0ITEAhWvB/0sPUTU5MzMnhocNpDqll1v/GBSiOTAAAWq/agAGAMGDkG2YBxmZlUXgGO2D0YAgS4cGyYBIAoNAqIQNjBRA4BAFZgOABuLCYbR9W0P1ijMzWyHU3rL3T2m1K3RtqSLDrfcC31jHuH9r6RUOFIwt0G+T2Y9yNS/FrmLTOcX1qpRxdapf/+f4gPaOLN2fYACixdruAAAHzMDQmBJhGTdzmMADioJDwTNcGAFKgEmAwApvBgDS6/hLpkYzDFewH6hgRt+3pCrr5/3651XUGvoTGe1AAACh1ZV5WQADAgMzFkSzVCXT2T/+6Rk5IAFRzBLfm9kgFGDij/NsCRO4MEnXeeAIQ0NZLe68ATIzWYcjI0FQUTAYG4GARMBYUYAQQoAsBHktFznLy0sSlohrcySM0V97trfW6mUEZ4r3G0Su6apFIYlLPRjDC0HKnNGDPCbCtAP2eeEAA3ZmhL+AAAG5JEGTcHdpB80aHvkDv0YiAhA2mHHOna1doX/uZ6qnnDUzTgKUABohnh230QAAMbEBQnNCETYME2cNbMBjy7BqoGICdqx1SsFklW0zpKswQnCikdnsJ4tsbhp/ASpfR1JaY61CrDJgx/F3EWoNSoEVBqRvuTG5yhcItANgUThn9//+tgCHmIeH3wBoCkKCxgISgSstpAzImgHGYaQ6AVraQgJgaXZN2SAGyriKC3mDpVtvoo5FXA4mYiIj/aAABUhpCZgEAUnGtWKCEAZ/BEFQDhceXTMw8yUktRRlhhbRJYUkSpDzpdNaErxzPiWxVMqtHMxstZL1/1froSdU2dnUSBCnAUUTDiw2FdX+MCo0MrMuDAAAE84aw5jGXtZrP0+3AGAJVVUyjYENrIhERZuDyP8PUISzy7xH/4MlwUJsBBcI7GR4DyaWF6iCwni4hbZmGQWTQIi6L3h+abmhZzs1OZ7gOu0RcL/+4Rk6AAS+iLI+68a+C5DOV9rAxlLuHch7eXlYMgNZP2WFVzAmUIpCmxCchkYSLdCTM0X2sVgAjJ+gEAnQkJe1v9aZjJCCJfFH1YIagNfLtAJODmCQtYaPzBF//yVIIAAAUHjJAVCHeXwjlgBxVOjKgO1ddIsKHgBBT1MQU1FMy4xMDBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVAAABzCFdZkkAAAsCDOBkGYUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVQ0kMkxBTUUzLjEwMKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqoZVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+2Rk7wEStyFJ+08a+icCKR9h4ycGxGkp7CSn6HKE4u2GCJRVVVVVVVVVVVVVVVVVVVVVSUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVSUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjH/+yRk7Idw1QbEowxBAA1AyIgl4wMBUA0PBWMAIBUBolQUmAYwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk6g9wQAJDKU8ACARASJUEQAEAXAsOA4wgIAaAYgAQAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4w/wDwDEAMAACAAAD/AAAAEAGAMUAQAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4o/wBgDEgEAACAAAD/AAAAEADAMaAIAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4g/wAwDGACAACAAAD/AAAAEADAMWAIAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4g/wAwDFgCAACAAAD/AAAAEADAMUAIAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRE4Y/wAAB/gAAACAAAD/AAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRE4Y/wAAB/gAAACAAAD/AAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRE4Y/wAAB/gAAACAAAD/AAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4Y/wAAB/gAAACAAAD/AAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4Y/wAAB/gAAACAAAD/AAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4Y/wAAB/gAAACAAADSAAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4Y/wAAB/gAAACAAAD/AAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4Y/wAAB/gAAACAAAD/AAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4Y/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVU=",mW="/assets/menu_navigate-C6GUIZQM.mp3";class Oo{constructor(t){this.options=t,this.sound=null,this.play=async(n=!0)=>{var r,i;try{if(n&&this.playing()){const s=(r=this.sound)==null?void 0:r.cloneNode(!0);await s.play(),s.remove()}else await((i=this.sound)==null?void 0:i.play())}catch(s){return console.warn(s)}},this.pause=()=>{var n;(n=this.sound)==null||n.pause()},this.stop=()=>{this.sound&&(this.sound.pause(),this.sound.currentTime=0)},this.playing=()=>{var n;return!((n=this.sound)!=null&&n.paused)},global.Audio&&(this.sound=new Audio(t.src),this.sound.preload=t.preload?"auto":"none",this.sound.volume=t.volume??1,this.sound.loop=t.loop??!1)}}const g0=new Oo({src:mW}),bS=new Oo({src:gW}),SS=new Oo({src:pW}),Qj=new Oo({src:cW,preload:!0}),xS=new Oo({src:fW,preload:!0,volume:.5}),Jj=new Oo({src:hW,volume:.3,loop:!0}),Xj=new Oo({src:uW,volume:.4,loop:!0}),Zj=new Oo({src:lW,volume:.25,loop:!0}),Wp=new Oo({src:dW,volume:.8}),vW=Object.freeze(Object.defineProperty({__proto__:null,backgroundMusic:Jj,christmasBackgroundMusic:Zj,classicBackgroundMusic:Xj,menuBack:SS,menuEnter:bS,menuNavigate:g0,waitFinished:Qj,waitForReadinessMusic:Wp,woosh:xS},Symbol.toStringTag,{value:"Module"})),yW={RemoteMicClient:wn,RemoteMicServer:ea,GameState:Le,GameEvents:ee,RemoteMicManager:Ze,SongDao:Zs,InputManager:pn,InputSourceManager:wo,CameraManager:fs,UserMediaService:aa,PlayersManager:Me,SoundManager:vW,importSongs:async()=>{await(await xu(()=>import("./importSongsFromPostHog-CFwA6efr.js"),[])).default()}};global.__exposeSingletons=()=>{global.__singletons=yW};console.log("Run global.__exposeSingletons() and inspect global.__singletons for debugging");function AW(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function _W(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var bW=function(){function e(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(_W(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=AW(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},e}(),Ar="-ms-",zg="-moz-",mt="-webkit-",e3="comm",wS="rule",ES="decl",SW="@import",t3="@keyframes",xW="@layer",wW=Math.abs,m0=String.fromCharCode,EW=Object.assign;function kW(e,t){return lr(e,0)^45?(((t<<2^lr(e,0))<<2^lr(e,1))<<2^lr(e,2))<<2^lr(e,3):0}function n3(e){return e.trim()}function CW(e,t){return(e=t.exec(e))?e[0]:e}function vt(e,t,n){return e.replace(t,n)}function x1(e,t){return e.indexOf(t)}function lr(e,t){return e.charCodeAt(t)|0}function pf(e,t,n){return e.slice(t,n)}function Vs(e){return e.length}function kS(e){return e.length}function Zh(e,t){return t.push(e),e}function TW(e,t){return e.map(t).join("")}var v0=1,Zc=1,r3=0,Jr=0,jn=0,Eu="";function y0(e,t,n,r,i,s,o){return{value:e,root:t,parent:n,type:r,props:i,children:s,line:v0,column:Zc,length:o,return:""}}function Wu(e,t){return EW(y0("",null,null,"",null,null,0),e,{length:-e.length},t)}function IW(){return jn}function RW(){return jn=Jr>0?lr(Eu,--Jr):0,Zc--,jn===10&&(Zc=1,v0--),jn}function fi(){return jn=Jr<r3?lr(Eu,Jr++):0,Zc++,jn===10&&(Zc=1,v0++),jn}function Ws(){return lr(Eu,Jr)}function Kp(){return Jr}function rh(e,t){return pf(Eu,e,t)}function gf(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function i3(e){return v0=Zc=1,r3=Vs(Eu=e),Jr=0,[]}function s3(e){return Eu="",e}function Yp(e){return n3(rh(Jr-1,w1(e===91?e+2:e===40?e+1:e)))}function MW(e){for(;(jn=Ws())&&jn<33;)fi();return gf(e)>2||gf(jn)>3?"":" "}function PW(e,t){for(;--t&&fi()&&!(jn<48||jn>102||jn>57&&jn<65||jn>70&&jn<97););return rh(e,Kp()+(t<6&&Ws()==32&&fi()==32))}function w1(e){for(;fi();)switch(jn){case e:return Jr;case 34:case 39:e!==34&&e!==39&&w1(jn);break;case 40:e===41&&w1(e);break;case 92:fi();break}return Jr}function jW(e,t){for(;fi()&&e+jn!==57;)if(e+jn===84&&Ws()===47)break;return"/*"+rh(t,Jr-1)+"*"+m0(e===47?e:fi())}function OW(e){for(;!gf(Ws());)fi();return rh(e,Jr)}function VW(e){return s3(Qp("",null,null,null,[""],e=i3(e),0,[0],e))}function Qp(e,t,n,r,i,s,o,a,l){for(var c=0,u=0,d=o,h=0,p=0,g=0,m=1,_=1,v=1,y=0,S="",x=i,b=s,w=r,E=S;_;)switch(g=y,y=fi()){case 40:if(g!=108&&lr(E,d-1)==58){x1(E+=vt(Yp(y),"&","&\f"),"&\f")!=-1&&(v=-1);break}case 34:case 39:case 91:E+=Yp(y);break;case 9:case 10:case 13:case 32:E+=MW(g);break;case 92:E+=PW(Kp()-1,7);continue;case 47:switch(Ws()){case 42:case 47:Zh(LW(jW(fi(),Kp()),t,n),l);break;default:E+="/"}break;case 123*m:a[c++]=Vs(E)*v;case 125*m:case 59:case 0:switch(y){case 0:case 125:_=0;case 59+u:v==-1&&(E=vt(E,/\f/g,"")),p>0&&Vs(E)-d&&Zh(p>32?lC(E+";",r,n,d-1):lC(vt(E," ","")+";",r,n,d-2),l);break;case 59:E+=";";default:if(Zh(w=aC(E,t,n,c,u,i,a,S,x=[],b=[],d),s),y===123)if(u===0)Qp(E,t,w,w,x,s,d,a,b);else switch(h===99&&lr(E,3)===110?100:h){case 100:case 108:case 109:case 115:Qp(e,w,w,r&&Zh(aC(e,w,w,0,0,i,a,S,i,x=[],d),b),i,b,d,a,r?x:b);break;default:Qp(E,w,w,w,[""],b,0,a,b)}}c=u=p=0,m=v=1,S=E="",d=o;break;case 58:d=1+Vs(E),p=g;default:if(m<1){if(y==123)--m;else if(y==125&&m++==0&&RW()==125)continue}switch(E+=m0(y),y*m){case 38:v=u>0?1:(E+="\f",-1);break;case 44:a[c++]=(Vs(E)-1)*v,v=1;break;case 64:Ws()===45&&(E+=Yp(fi())),h=Ws(),u=d=Vs(S=E+=OW(Kp())),y++;break;case 45:g===45&&Vs(E)==2&&(m=0)}}return s}function aC(e,t,n,r,i,s,o,a,l,c,u){for(var d=i-1,h=i===0?s:[""],p=kS(h),g=0,m=0,_=0;g<r;++g)for(var v=0,y=pf(e,d+1,d=wW(m=o[g])),S=e;v<p;++v)(S=n3(m>0?h[v]+" "+y:vt(y,/&\f/g,h[v])))&&(l[_++]=S);return y0(e,t,n,i===0?wS:a,l,c,u)}function LW(e,t,n){return y0(e,t,n,e3,m0(IW()),pf(e,2,-2),0)}function lC(e,t,n,r){return y0(e,t,n,ES,pf(e,0,r),pf(e,r+1,-1),r)}function Rc(e,t){for(var n="",r=kS(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function NW(e,t,n,r){switch(e.type){case xW:if(e.children.length)break;case SW:case ES:return e.return=e.return||e.value;case e3:return"";case t3:return e.return=e.value+"{"+Rc(e.children,r)+"}";case wS:e.value=e.props.join(",")}return Vs(n=Rc(e.children,r))?e.return=e.value+"{"+n+"}":""}function BW(e){var t=kS(e);return function(n,r,i,s){for(var o="",a=0;a<t;a++)o+=e[a](n,r,i,s)||"";return o}}function DW(e){return function(t){t.root||(t=t.return)&&e(t)}}function o3(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var $W=function(t,n,r){for(var i=0,s=0;i=s,s=Ws(),i===38&&s===12&&(n[r]=1),!gf(s);)fi();return rh(t,Jr)},FW=function(t,n){var r=-1,i=44;do switch(gf(i)){case 0:i===38&&Ws()===12&&(n[r]=1),t[r]+=$W(Jr-1,n,r);break;case 2:t[r]+=Yp(i);break;case 4:if(i===44){t[++r]=Ws()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=m0(i)}while(i=fi());return t},zW=function(t,n){return s3(FW(i3(t),n))},cC=new WeakMap,UW=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,i=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!cC.get(r))&&!i){cC.set(t,!0);for(var s=[],o=zW(n,s),a=r.props,l=0,c=0;l<o.length;l++)for(var u=0;u<a.length;u++,c++)t.props[c]=s[l]?o[l].replace(/&\f/g,a[u]):a[u]+" "+o[l]}}},HW=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function a3(e,t){switch(kW(e,t)){case 5103:return mt+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return mt+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return mt+e+zg+e+Ar+e+e;case 6828:case 4268:return mt+e+Ar+e+e;case 6165:return mt+e+Ar+"flex-"+e+e;case 5187:return mt+e+vt(e,/(\w+).+(:[^]+)/,mt+"box-$1$2"+Ar+"flex-$1$2")+e;case 5443:return mt+e+Ar+"flex-item-"+vt(e,/flex-|-self/,"")+e;case 4675:return mt+e+Ar+"flex-line-pack"+vt(e,/align-content|flex-|-self/,"")+e;case 5548:return mt+e+Ar+vt(e,"shrink","negative")+e;case 5292:return mt+e+Ar+vt(e,"basis","preferred-size")+e;case 6060:return mt+"box-"+vt(e,"-grow","")+mt+e+Ar+vt(e,"grow","positive")+e;case 4554:return mt+vt(e,/([^-])(transform)/g,"$1"+mt+"$2")+e;case 6187:return vt(vt(vt(e,/(zoom-|grab)/,mt+"$1"),/(image-set)/,mt+"$1"),e,"")+e;case 5495:case 3959:return vt(e,/(image-set\([^]*)/,mt+"$1$`$1");case 4968:return vt(vt(e,/(.+:)(flex-)?(.*)/,mt+"box-pack:$3"+Ar+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+mt+e+e;case 4095:case 3583:case 4068:case 2532:return vt(e,/(.+)-inline(.+)/,mt+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Vs(e)-1-t>6)switch(lr(e,t+1)){case 109:if(lr(e,t+4)!==45)break;case 102:return vt(e,/(.+:)(.+)-([^]+)/,"$1"+mt+"$2-$3$1"+zg+(lr(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~x1(e,"stretch")?a3(vt(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(lr(e,t+1)!==115)break;case 6444:switch(lr(e,Vs(e)-3-(~x1(e,"!important")&&10))){case 107:return vt(e,":",":"+mt)+e;case 101:return vt(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+mt+(lr(e,14)===45?"inline-":"")+"box$3$1"+mt+"$2$3$1"+Ar+"$2box$3")+e}break;case 5936:switch(lr(e,t+11)){case 114:return mt+e+Ar+vt(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return mt+e+Ar+vt(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return mt+e+Ar+vt(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return mt+e+Ar+e+e}return e}var GW=function(t,n,r,i){if(t.length>-1&&!t.return)switch(t.type){case ES:t.return=a3(t.value,t.length);break;case t3:return Rc([Wu(t,{value:vt(t.value,"@","@"+mt)})],i);case wS:if(t.length)return TW(t.props,function(s){switch(CW(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Rc([Wu(t,{props:[vt(s,/:(read-\w+)/,":"+zg+"$1")]})],i);case"::placeholder":return Rc([Wu(t,{props:[vt(s,/:(plac\w+)/,":"+mt+"input-$1")]}),Wu(t,{props:[vt(s,/:(plac\w+)/,":"+zg+"$1")]}),Wu(t,{props:[vt(s,/:(plac\w+)/,Ar+"input-$1")]})],i)}return""})}},qW=[GW],CS=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(m){var _=m.getAttribute("data-emotion");_.indexOf(" ")!==-1&&(document.head.appendChild(m),m.setAttribute("data-s",""))})}var i=t.stylisPlugins||qW,s={},o,a=[];o=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(m){for(var _=m.getAttribute("data-emotion").split(" "),v=1;v<_.length;v++)s[_[v]]=!0;a.push(m)});var l,c=[UW,HW];{var u,d=[NW,DW(function(m){u.insert(m)})],h=BW(c.concat(i,d)),p=function(_){return Rc(VW(_),h)};l=function(_,v,y,S){u=y,p(_?_+"{"+v.styles+"}":v.styles),S&&(g.inserted[v.name]=!0)}}var g={key:n,sheet:new bW({key:n,container:o,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:s,registered:{},insert:l};return g.sheet.hydrate(a),g};function E1(){return E1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},E1.apply(this,arguments)}var WW=!0;function KW(e,t,n){var r="";return n.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):r+=i+" "}),r}var l3=function(t,n,r){var i=t.key+"-"+n.name;(r===!1||WW===!1)&&t.registered[i]===void 0&&(t.registered[i]=n.styles)},c3=function(t,n,r){l3(t,n,r);var i=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var s=n;do t.insert(n===s?"."+i:"",s,t.sheet,!0),s=s.next;while(s!==void 0)}};function YW(e){for(var t=0,n,r=0,i=e.length;i>=4;++r,i-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var QW={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},JW=/[A-Z]|^ms/g,XW=/_EMO_([^_]+?)_([^]*?)_EMO_/g,u3=function(t){return t.charCodeAt(1)===45},uC=function(t){return t!=null&&typeof t!="boolean"},ny=o3(function(e){return u3(e)?e:e.replace(JW,"-$&").toLowerCase()}),dC=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(XW,function(r,i,s){return Ls={name:i,styles:s,next:Ls},i})}return QW[t]!==1&&!u3(t)&&typeof n=="number"&&n!==0?n+"px":n};function mf(e,t,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return Ls={name:n.name,styles:n.styles,next:Ls},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)Ls={name:r.name,styles:r.styles,next:Ls},r=r.next;var i=n.styles+";";return i}return ZW(e,t,n)}case"function":{if(e!==void 0){var s=Ls,o=n(e);return Ls=s,mf(e,t,o)}break}}if(t==null)return n;var a=t[n];return a!==void 0?a:n}function ZW(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=mf(e,t,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object")t!=null&&t[o]!==void 0?r+=s+"{"+t[o]+"}":uC(o)&&(r+=ny(s)+":"+dC(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(t==null||t[o[0]]===void 0))for(var a=0;a<o.length;a++)uC(o[a])&&(r+=ny(s)+":"+dC(s,o[a])+";");else{var l=mf(e,t,o);switch(s){case"animation":case"animationName":{r+=ny(s)+":"+l+";";break}default:r+=s+"{"+l+"}"}}}return r}var fC=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Ls,TS=function(t,n,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var i=!0,s="";Ls=void 0;var o=t[0];o==null||o.raw===void 0?(i=!1,s+=mf(r,n,o)):s+=o[0];for(var a=1;a<t.length;a++)s+=mf(r,n,t[a]),i&&(s+=o[a]);fC.lastIndex=0;for(var l="",c;(c=fC.exec(s))!==null;)l+="-"+c[1];var u=YW(s)+l;return{name:u,styles:s,next:Ls}},eK=function(t){return t()},d3=pg.useInsertionEffect?pg.useInsertionEffect:!1,tK=d3||eK,hC=d3||A.useLayoutEffect,f3=A.createContext(typeof HTMLElement<"u"?CS({key:"css"}):null),h3=f3.Provider,p3=function(t){return A.forwardRef(function(n,r){var i=A.useContext(f3);return t(n,i,r)})},ih=A.createContext({}),nK=p3(function(e,t){var n=e.styles,r=TS([n],void 0,A.useContext(ih)),i=A.useRef();return hC(function(){var s=t.key+"-global",o=new t.sheet.constructor({key:s,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return t.sheet.tags.length&&(o.before=t.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",s),o.hydrate([l])),i.current=[o,a],function(){o.flush()}},[t]),hC(function(){var s=i.current,o=s[0],a=s[1];if(a){s[1]=!1;return}if(r.next!==void 0&&c3(t,r.next,!0),o.tags.length){var l=o.tags[o.tags.length-1].nextElementSibling;o.before=l,o.flush()}t.insert("",r,o,!1)},[t,r.name]),null});function gi(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return TS(t)}var wa=function(){var t=gi.apply(void 0,arguments),n="animation-"+t.name;return{name:n,styles:"@keyframes "+n+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};function IS(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function rK(){this.__data__=new Po,this.size=0}function iK(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function sK(e){return this.__data__.get(e)}function oK(e){return this.__data__.has(e)}var aK=200;function lK(e,t){var n=this.__data__;if(n instanceof Po){var r=n.__data__;if(!df||r.length<aK-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new jo(r)}return n.set(e,t),this.size=n.size,this}function Ks(e){var t=this.__data__=new Po(e);this.size=t.size}Ks.prototype.clear=rK;Ks.prototype.delete=iK;Ks.prototype.get=sK;Ks.prototype.has=oK;Ks.prototype.set=lK;function cK(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var Ug=function(){try{var e=Nl(Object,"defineProperty");return e({},"",{}),e}catch{}}();function g3(e,t,n){t=="__proto__"&&Ug?Ug(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var uK=Object.prototype,dK=uK.hasOwnProperty;function m3(e,t,n){var r=e[t];(!(dK.call(e,t)&&s0(r,n))||n===void 0&&!(t in e))&&g3(e,t,n)}function sh(e,t,n,r){var i=!n;n||(n={});for(var s=-1,o=t.length;++s<o;){var a=t[s],l=r?r(n[a],e[a],a,n,e):void 0;l===void 0&&(l=e[a]),i?g3(n,a,l):m3(n,a,l)}return n}function fK(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var hK="[object Arguments]";function pC(e){return So(e)&&Vl(e)==hK}var v3=Object.prototype,pK=v3.hasOwnProperty,gK=v3.propertyIsEnumerable,RS=pC(function(){return arguments}())?pC:function(e){return So(e)&&pK.call(e,"callee")&&!gK.call(e,"callee")},qi=Array.isArray;function mK(){return!1}var y3=typeof exports=="object"&&exports&&!exports.nodeType&&exports,gC=y3&&typeof module=="object"&&module&&!module.nodeType&&module,vK=gC&&gC.exports===y3,mC=vK?ks.Buffer:void 0,yK=mC?mC.isBuffer:void 0,Hg=yK||mK,AK="[object Arguments]",_K="[object Array]",bK="[object Boolean]",SK="[object Date]",xK="[object Error]",wK="[object Function]",EK="[object Map]",kK="[object Number]",CK="[object Object]",TK="[object RegExp]",IK="[object Set]",RK="[object String]",MK="[object WeakMap]",PK="[object ArrayBuffer]",jK="[object DataView]",OK="[object Float32Array]",VK="[object Float64Array]",LK="[object Int8Array]",NK="[object Int16Array]",BK="[object Int32Array]",DK="[object Uint8Array]",$K="[object Uint8ClampedArray]",FK="[object Uint16Array]",zK="[object Uint32Array]",zt={};zt[OK]=zt[VK]=zt[LK]=zt[NK]=zt[BK]=zt[DK]=zt[$K]=zt[FK]=zt[zK]=!0;zt[AK]=zt[_K]=zt[PK]=zt[bK]=zt[jK]=zt[SK]=zt[xK]=zt[wK]=zt[EK]=zt[kK]=zt[CK]=zt[TK]=zt[IK]=zt[RK]=zt[MK]=!1;function UK(e){return So(e)&&vS(e.length)&&!!zt[Vl(e)]}function MS(e){return function(t){return e(t)}}var A3=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Vd=A3&&typeof module=="object"&&module&&!module.nodeType&&module,HK=Vd&&Vd.exports===A3,ry=HK&&gj.process,eu=function(){try{var e=Vd&&Vd.require&&Vd.require("util").types;return e||ry&&ry.binding&&ry.binding("util")}catch{}}(),vC=eu&&eu.isTypedArray,_3=vC?MS(vC):UK,GK=Object.prototype,qK=GK.hasOwnProperty;function b3(e,t){var n=qi(e),r=!n&&RS(e),i=!n&&!r&&Hg(e),s=!n&&!r&&!i&&_3(e),o=n||r||i||s,a=o?fK(e.length,String):[],l=a.length;for(var c in e)(t||qK.call(e,c))&&!(o&&(c=="length"||i&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||AS(c,l)))&&a.push(c);return a}var WK=Object.prototype;function PS(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||WK;return e===n}function S3(e,t){return function(n){return e(t(n))}}var KK=S3(Object.keys,Object),YK=Object.prototype,QK=YK.hasOwnProperty;function JK(e){if(!PS(e))return KK(e);var t=[];for(var n in Object(e))QK.call(e,n)&&n!="constructor"&&t.push(n);return t}function oh(e){return yS(e)?b3(e):JK(e)}function XK(e,t){return e&&sh(t,oh(t),e)}function ZK(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var eY=Object.prototype,tY=eY.hasOwnProperty;function nY(e){if(!ws(e))return ZK(e);var t=PS(e),n=[];for(var r in e)r=="constructor"&&(t||!tY.call(e,r))||n.push(r);return n}function jS(e){return yS(e)?b3(e,!0):nY(e)}function rY(e,t){return e&&sh(t,jS(t),e)}var x3=typeof exports=="object"&&exports&&!exports.nodeType&&exports,yC=x3&&typeof module=="object"&&module&&!module.nodeType&&module,iY=yC&&yC.exports===x3,AC=iY?ks.Buffer:void 0,_C=AC?AC.allocUnsafe:void 0;function sY(e,t){if(t)return e.slice();var n=e.length,r=_C?_C(n):new e.constructor(n);return e.copy(r),r}function w3(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}function oY(e,t){for(var n=-1,r=e==null?0:e.length,i=0,s=[];++n<r;){var o=e[n];t(o,n,e)&&(s[i++]=o)}return s}function E3(){return[]}var aY=Object.prototype,lY=aY.propertyIsEnumerable,bC=Object.getOwnPropertySymbols,OS=bC?function(e){return e==null?[]:(e=Object(e),oY(bC(e),function(t){return lY.call(e,t)}))}:E3;function cY(e,t){return sh(e,OS(e),t)}function VS(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var uY=S3(Object.getPrototypeOf,Object);const LS=uY;var dY=Object.getOwnPropertySymbols,k3=dY?function(e){for(var t=[];e;)VS(t,OS(e)),e=LS(e);return t}:E3;function fY(e,t){return sh(e,k3(e),t)}function C3(e,t,n){var r=t(e);return qi(e)?r:VS(r,n(e))}function k1(e){return C3(e,oh,OS)}function T3(e){return C3(e,jS,k3)}var C1=Nl(ks,"DataView"),T1=Nl(ks,"Promise"),Mc=Nl(ks,"Set"),I1=Nl(ks,"WeakMap"),SC="[object Map]",hY="[object Object]",xC="[object Promise]",wC="[object Set]",EC="[object WeakMap]",kC="[object DataView]",pY=Ll(C1),gY=Ll(df),mY=Ll(T1),vY=Ll(Mc),yY=Ll(I1),za=Vl;(C1&&za(new C1(new ArrayBuffer(1)))!=kC||df&&za(new df)!=SC||T1&&za(T1.resolve())!=xC||Mc&&za(new Mc)!=wC||I1&&za(new I1)!=EC)&&(za=function(e){var t=Vl(e),n=t==hY?e.constructor:void 0,r=n?Ll(n):"";if(r)switch(r){case pY:return kC;case gY:return SC;case mY:return xC;case vY:return wC;case yY:return EC}return t});const vf=za;var AY=Object.prototype,_Y=AY.hasOwnProperty;function bY(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&_Y.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var Gg=ks.Uint8Array;function NS(e){var t=new e.constructor(e.byteLength);return new Gg(t).set(new Gg(e)),t}function SY(e,t){var n=t?NS(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var xY=/\w*$/;function wY(e){var t=new e.constructor(e.source,xY.exec(e));return t.lastIndex=e.lastIndex,t}var CC=Gi?Gi.prototype:void 0,TC=CC?CC.valueOf:void 0;function EY(e){return TC?Object(TC.call(e)):{}}function kY(e,t){var n=t?NS(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var CY="[object Boolean]",TY="[object Date]",IY="[object Map]",RY="[object Number]",MY="[object RegExp]",PY="[object Set]",jY="[object String]",OY="[object Symbol]",VY="[object ArrayBuffer]",LY="[object DataView]",NY="[object Float32Array]",BY="[object Float64Array]",DY="[object Int8Array]",$Y="[object Int16Array]",FY="[object Int32Array]",zY="[object Uint8Array]",UY="[object Uint8ClampedArray]",HY="[object Uint16Array]",GY="[object Uint32Array]";function qY(e,t,n){var r=e.constructor;switch(t){case VY:return NS(e);case CY:case TY:return new r(+e);case LY:return SY(e,n);case NY:case BY:case DY:case $Y:case FY:case zY:case UY:case HY:case GY:return kY(e,n);case IY:return new r;case RY:case jY:return new r(e);case MY:return wY(e);case PY:return new r;case OY:return EY(e)}}var IC=Object.create,WY=function(){function e(){}return function(t){if(!ws(t))return{};if(IC)return IC(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function KY(e){return typeof e.constructor=="function"&&!PS(e)?WY(LS(e)):{}}var YY="[object Map]";function QY(e){return So(e)&&vf(e)==YY}var RC=eu&&eu.isMap,JY=RC?MS(RC):QY,XY="[object Set]";function ZY(e){return So(e)&&vf(e)==XY}var MC=eu&&eu.isSet,eQ=MC?MS(MC):ZY,tQ=1,nQ=2,rQ=4,I3="[object Arguments]",iQ="[object Array]",sQ="[object Boolean]",oQ="[object Date]",aQ="[object Error]",R3="[object Function]",lQ="[object GeneratorFunction]",cQ="[object Map]",uQ="[object Number]",M3="[object Object]",dQ="[object RegExp]",fQ="[object Set]",hQ="[object String]",pQ="[object Symbol]",gQ="[object WeakMap]",mQ="[object ArrayBuffer]",vQ="[object DataView]",yQ="[object Float32Array]",AQ="[object Float64Array]",_Q="[object Int8Array]",bQ="[object Int16Array]",SQ="[object Int32Array]",xQ="[object Uint8Array]",wQ="[object Uint8ClampedArray]",EQ="[object Uint16Array]",kQ="[object Uint32Array]",Nt={};Nt[I3]=Nt[iQ]=Nt[mQ]=Nt[vQ]=Nt[sQ]=Nt[oQ]=Nt[yQ]=Nt[AQ]=Nt[_Q]=Nt[bQ]=Nt[SQ]=Nt[cQ]=Nt[uQ]=Nt[M3]=Nt[dQ]=Nt[fQ]=Nt[hQ]=Nt[pQ]=Nt[xQ]=Nt[wQ]=Nt[EQ]=Nt[kQ]=!0;Nt[aQ]=Nt[R3]=Nt[gQ]=!1;function Jp(e,t,n,r,i,s){var o,a=t&tQ,l=t&nQ,c=t&rQ;if(n&&(o=i?n(e,r,i,s):n(e)),o!==void 0)return o;if(!ws(e))return e;var u=qi(e);if(u){if(o=bY(e),!a)return w3(e,o)}else{var d=vf(e),h=d==R3||d==lQ;if(Hg(e))return sY(e,a);if(d==M3||d==I3||h&&!i){if(o=l||h?{}:KY(e),!a)return l?fY(e,rY(o,e)):cY(e,XK(o,e))}else{if(!Nt[d])return i?e:{};o=qY(e,d,a)}}s||(s=new Ks);var p=s.get(e);if(p)return p;s.set(e,o),eQ(e)?e.forEach(function(_){o.add(Jp(_,t,n,_,e,s))}):JY(e)&&e.forEach(function(_,v){o.set(v,Jp(_,t,n,v,e,s))});var g=c?l?T3:k1:l?jS:oh,m=u?void 0:g(e);return cK(m||e,function(_,v){m&&(v=_,_=e[v]),m3(o,v,Jp(_,t,n,v,e,s))}),o}var CQ=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,TQ=/^\w*$/;function BS(e,t){if(qi(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||i0(e)?!0:TQ.test(e)||!CQ.test(e)||t!=null&&e in Object(t)}var IQ=500;function RQ(e){var t=l0(e,function(r){return n.size===IQ&&n.clear(),r}),n=t.cache;return t}var MQ=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,PQ=/\\(\\)?/g,jQ=RQ(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(MQ,function(n,r,i,s){t.push(i?s.replace(PQ,"$1"):r||n)}),t}),OQ=1/0,PC=Gi?Gi.prototype:void 0,jC=PC?PC.toString:void 0;function P3(e){if(typeof e=="string")return e;if(qi(e))return IS(e,P3)+"";if(i0(e))return jC?jC.call(e):"";var t=e+"";return t=="0"&&1/e==-OQ?"-0":t}function DS(e){return e==null?"":P3(e)}function A0(e,t){return qi(e)?e:BS(e,t)?[e]:jQ(DS(e))}function VQ(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var LQ=1/0;function ah(e){if(typeof e=="string"||i0(e))return e;var t=e+"";return t=="0"&&1/e==-LQ?"-0":t}function $S(e,t){t=A0(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[ah(t[n++])];return n&&n==r?e:void 0}function FS(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var s=Array(i);++r<i;)s[r]=e[r+t];return s}function NQ(e,t){return t.length<2?e:$S(e,FS(t,0,-1))}function BQ(e,t){return t=A0(t,e),e=NQ(e,t),e==null||delete e[ah(VQ(t))]}var DQ="[object Object]",$Q=Function.prototype,FQ=Object.prototype,j3=$Q.toString,zQ=FQ.hasOwnProperty,UQ=j3.call(Object);function HQ(e){if(!So(e)||Vl(e)!=DQ)return!1;var t=LS(e);if(t===null)return!0;var n=zQ.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&j3.call(n)==UQ}function GQ(e){return HQ(e)?void 0:e}var OC=Gi?Gi.isConcatSpreadable:void 0;function qQ(e){return qi(e)||RS(e)||!!(OC&&e&&e[OC])}function O3(e,t,n,r,i){var s=-1,o=e.length;for(n||(n=qQ),i||(i=[]);++s<o;){var a=e[s];t>0&&n(a)?t>1?O3(a,t-1,n,r,i):VS(i,a):r||(i[i.length]=a)}return i}function WQ(e){var t=e==null?0:e.length;return t?O3(e,1):[]}function KQ(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var VC=Math.max;function YQ(e,t,n){return t=VC(t===void 0?e.length-1:t,0),function(){for(var r=arguments,i=-1,s=VC(r.length-t,0),o=Array(s);++i<s;)o[i]=r[t+i];i=-1;for(var a=Array(t+1);++i<t;)a[i]=r[i];return a[t]=n(o),KQ(e,this,a)}}function QQ(e){return function(){return e}}function V3(e){return e}var JQ=Ug?function(e,t){return Ug(e,"toString",{configurable:!0,enumerable:!1,value:QQ(t),writable:!0})}:V3;const XQ=JQ;var ZQ=800,eJ=16,tJ=Date.now;function nJ(e){var t=0,n=0;return function(){var r=tJ(),i=eJ-(r-n);if(n=r,i>0){if(++t>=ZQ)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var rJ=nJ(XQ);function iJ(e){return rJ(YQ(e,void 0,WQ),e+"")}var sJ=1,oJ=2,aJ=4,lJ=iJ(function(e,t){var n={};if(e==null)return n;var r=!1;t=IS(t,function(s){return s=A0(s,e),r||(r=s.length>1),s}),sh(e,T3(e),n),r&&(n=Jp(n,sJ|oJ|aJ,GQ));for(var i=t.length;i--;)BQ(n,t[i]);return n});function eo(e,t=!1){const[n,r]=A.useState(null);return A.useEffect(()=>{const i=(...s)=>{r(s)};return e.subscribe(i,t),()=>e.unsubscribe(i)},[e]),n}function Vr(e,t){const n=Array.isArray(e)?e:[e];A.useEffect(()=>(n.forEach(r=>r.subscribe(t)),()=>n.forEach(r=>r.unsubscribe(t))),[...n,t])}function mi(e,t,n=[]){const r=A.useMemo(t,[]),[i,s]=A.useState(r),o=Array.isArray(e)?e:[e];return A.useEffect(()=>{s(t())},n),A.useEffect(()=>{const a=()=>s(t());return o.forEach(l=>l.subscribe(a)),()=>o.forEach(l=>l.unsubscribe(a))},[...o]),i}var cJ=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,uJ=o3(function(e){return cJ.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),dJ=uJ,fJ=function(t){return t!=="theme"},LC=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?dJ:fJ},NC=function(t,n,r){var i;if(n){var s=n.shouldForwardProp;i=t.__emotion_forwardProp&&s?function(o){return t.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=t.__emotion_forwardProp),i},hJ=function(t){var n=t.cache,r=t.serialized,i=t.isStringTag;return l3(n,r,i),tK(function(){return c3(n,r,i)}),null},C=function e(t,n){var r=t.__emotion_real===t,i=r&&t.__emotion_base||t,s,o;n!==void 0&&(s=n.label,o=n.target);var a=NC(t,n,r),l=a||LC(i),c=!l("as");return function(){var u=arguments,d=r&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(s!==void 0&&d.push("label:"+s+";"),u[0]==null||u[0].raw===void 0)d.push.apply(d,u);else{d.push(u[0][0]);for(var h=u.length,p=1;p<h;p++)d.push(u[p],u[0][p])}var g=p3(function(m,_,v){var y=c&&m.as||i,S="",x=[],b=m;if(m.theme==null){b={};for(var w in m)b[w]=m[w];b.theme=A.useContext(ih)}typeof m.className=="string"?S=KW(_.registered,x,m.className):m.className!=null&&(S=m.className+" ");var E=TS(d.concat(x),_.registered,b);S+=_.key+"-"+E.name,o!==void 0&&(S+=" "+o);var T=c&&a===void 0?LC(y):l,$={};for(var N in m)c&&N==="as"||T(N)&&($[N]=m[N]);return $.className=S,$.ref=v,A.createElement(A.Fragment,null,A.createElement(hJ,{cache:_,serialized:E,isStringTag:typeof y=="string"}),A.createElement(y,$))});return g.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",g.defaultProps=t.defaultProps,g.__emotion_real=g,g.__emotion_base=i,g.__emotion_styles=d,g.__emotion_forwardProp=a,Object.defineProperty(g,"toString",{value:function(){return"."+o}}),g.withComponent=function(m,_){return e(m,E1({},n,_,{shouldForwardProp:NC(g,_,!0)})).apply(void 0,d)},g}};const tu={animation:"focusAnimation 1000ms ease-in-out infinite both"},pJ={boxShadow:`inset 0px 0px 0px 4px ${pe.colors.text.active}`},De={fontWeight:"bold",WebkitTextStroke:"thin black",color:"white","& strong":{color:pe.colors.text.active}},yf="@media (hover: none)",_0="  @media (max-height: 500px) and (min-aspect-ratio: 16/10)";function gJ(){var e=A.useRef(!0);return e.current?(e.current=!1,!0):e.current}var qg=function(){return qg=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},qg.apply(this,arguments)};function mJ(){var e=A.useRef(!1),t=A.useCallback(function(){return e.current},[]);return A.useEffect(function(){return e.current=!0,function(){e.current=!1}},[]),t}function vJ(e,t,n){t===void 0&&(t=[]),n===void 0&&(n={loading:!1});var r=A.useRef(0),i=mJ(),s=A.useState(n),o=s[0],a=s[1],l=A.useCallback(function(){for(var c=[],u=0;u<arguments.length;u++)c[u]=arguments[u];var d=++r.current;return o.loading||a(function(h){return qg(qg({},h),{loading:!0})}),e.apply(void 0,c).then(function(h){return i()&&d===r.current&&a({value:h,loading:!1}),h},function(h){return i()&&d===r.current&&a({error:h,loading:!1}),h})},t);return[o,l]}function BC(e,t){t===void 0&&(t=[]);var n=vJ(e,t,{loading:!0}),r=n[0],i=n[1];return A.useEffect(function(){i()},[i]),r}function yJ(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e&&e.addEventListener&&e.addEventListener.apply(e,t)}function AJ(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e&&e.removeEventListener&&e.removeEventListener.apply(e,t)}var _J=typeof window<"u",bJ=function(e){return(e+1)%1e6};function L3(){var e=A.useReducer(bJ,0),t=e[1];return t}var SJ=function(e){A.useEffect(e,[])},xJ=_J?window:null,DC=function(e){return!!e.addEventListener},$C=function(e){return!!e.on},wJ=function(e,t,n,r){n===void 0&&(n=xJ),A.useEffect(function(){if(t&&n)return DC(n)?yJ(n,e,t,r):$C(n)&&n.on(e,t,r),function(){DC(n)?AJ(n,e,t,r):$C(n)&&n.off(e,t,r)}},[e,t,n,JSON.stringify(r)])},N3=function(e,t){var n=A.useRef(function(){});A.useEffect(function(){n.current=e}),A.useEffect(function(){if(t!==null){var r=setInterval(function(){return n.current()},t||0);return function(){return clearInterval(r)}}},[t])},EJ=function(e){var t=A.useRef(e);t.current=e,SJ(function(){return function(){return t.current()}})};function kJ(e){var t=A.useRef();return A.useEffect(function(){t.current=e}),t.current}var CJ=function(e,t){return e===t};function TJ(e,t){t===void 0&&(t=CJ);var n=A.useRef(),r=A.useRef(e),i=gJ();return!i&&!t(r.current,e)&&(n.current=r.current,r.current=e),n.current}function IJ(){const[e,t]=A.useState(null),[n,r]=A.useState(ea.isStarted()),[i,s]=A.useState(ea.getLatency());N3(()=>{s(ea.getLatency())},1e3),Vr(ee.micServerStarted,()=>{r(!0)}),Vr(ee.micServerStopped,()=>{r(!1)});const o=mi([ee.remoteMicConnected,ee.remoteMicDisconnected],()=>Ze.getRemoteMics(),[n]);return A.useEffect(()=>{e===null&&n&&t(!0)},[n,e]),e?f.jsxs(RJ,{children:[f.jsxs(FC,{children:[f.jsx("strong",{children:"Remote mic server"}),": ",n?"Online":"Offline",n&&ea.getGameCode().startsWith("w")&&f.jsxs(f.Fragment,{children:[" (",i,"ms)"]})]}),n&&f.jsx(f.Fragment,{children:f.jsxs(FC,{children:[f.jsx("strong",{children:"connected mics"}),": ",o.length]})})]}):null}const RJ=C("div",{target:"eeky7rp1"})("opacity:0.75;position:fixed;bottom:0;right:0;",De,";font-size:1.5rem;padding:0.5rem;display:flex;gap:1rem;z-index:100000;pointer-events:none;"),FC=C("div",{target:"eeky7rp0"})("");var iy=typeof navigator<"u"?navigator.userAgent.toLowerCase().indexOf("firefox")>0:!1;function sy(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r):e.attachEvent&&e.attachEvent("on".concat(t),function(){n(window.event)})}function B3(e,t){for(var n=t.slice(0,t.length-1),r=0;r<n.length;r++)n[r]=e[n[r].toLowerCase()];return n}function D3(e){typeof e!="string"&&(e=""),e=e.replace(/\s/g,"");for(var t=e.split(","),n=t.lastIndexOf("");n>=0;)t[n-1]+=",",t.splice(n,1),n=t.lastIndexOf("");return t}function MJ(e,t){for(var n=e.length>=t.length?e:t,r=e.length>=t.length?t:e,i=!0,s=0;s<n.length;s++)r.indexOf(n[s])===-1&&(i=!1);return i}var zS={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,num_0:96,num_1:97,num_2:98,num_3:99,num_4:100,num_5:101,num_6:102,num_7:103,num_8:104,num_9:105,num_multiply:106,num_add:107,num_enter:108,num_subtract:109,num_decimal:110,num_divide:111,"⇪":20,",":188,".":190,"/":191,"`":192,"-":iy?173:189,"=":iy?61:187,";":iy?59:186,"'":222,"[":219,"]":221,"\\":220},Aa={"⇧":16,shift:16,"⌥":18,alt:18,option:18,"⌃":17,ctrl:17,control:17,"⌘":91,cmd:91,command:91},R1={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},ar={16:!1,18:!1,17:!1,91:!1},Mn={};for(var ep=1;ep<20;ep++)zS["f".concat(ep)]=111+ep;var Qt=[],zC=!1,$3="all",F3=[],b0=function(t){return zS[t.toLowerCase()]||Aa[t.toLowerCase()]||t.toUpperCase().charCodeAt(0)};function z3(e){$3=e||"all"}function Af(){return $3||"all"}function PJ(){return Qt.slice(0)}function jJ(e){var t=e.target||e.srcElement,n=t.tagName,r=!0;return(t.isContentEditable||(n==="INPUT"||n==="TEXTAREA"||n==="SELECT")&&!t.readOnly)&&(r=!1),r}function OJ(e){return typeof e=="string"&&(e=b0(e)),Qt.indexOf(e)!==-1}function VJ(e,t){var n,r;e||(e=Af());for(var i in Mn)if(Object.prototype.hasOwnProperty.call(Mn,i))for(n=Mn[i],r=0;r<n.length;)n[r].scope===e?n.splice(r,1):r++;Af()===e&&z3(t||"all")}function LJ(e){var t=e.keyCode||e.which||e.charCode,n=Qt.indexOf(t);if(n>=0&&Qt.splice(n,1),e.key&&e.key.toLowerCase()==="meta"&&Qt.splice(0,Qt.length),(t===93||t===224)&&(t=91),t in ar){ar[t]=!1;for(var r in Aa)Aa[r]===t&&(ci[r]=!1)}}function NJ(e){if(typeof e>"u")Object.keys(Mn).forEach(function(o){return delete Mn[o]});else if(Array.isArray(e))e.forEach(function(o){o.key&&oy(o)});else if(typeof e=="object")e.key&&oy(e);else if(typeof e=="string"){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n[0],s=n[1];typeof i=="function"&&(s=i,i=""),oy({key:e,scope:i,method:s,splitKey:"+"})}}var oy=function(t){var n=t.key,r=t.scope,i=t.method,s=t.splitKey,o=s===void 0?"+":s,a=D3(n);a.forEach(function(l){var c=l.split(o),u=c.length,d=c[u-1],h=d==="*"?"*":b0(d);if(Mn[h]){r||(r=Af());var p=u>1?B3(Aa,c):[];Mn[h]=Mn[h].filter(function(g){var m=i?g.method===i:!0;return!(m&&g.scope===r&&MJ(g.mods,p))})}})};function UC(e,t,n,r){if(t.element===r){var i;if(t.scope===n||t.scope==="all"){i=t.mods.length>0;for(var s in ar)Object.prototype.hasOwnProperty.call(ar,s)&&(!ar[s]&&t.mods.indexOf(+s)>-1||ar[s]&&t.mods.indexOf(+s)===-1)&&(i=!1);(t.mods.length===0&&!ar[16]&&!ar[18]&&!ar[17]&&!ar[91]||i||t.shortcut==="*")&&t.method(e,t)===!1&&(e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.cancelBubble&&(e.cancelBubble=!0))}}}function HC(e,t){var n=Mn["*"],r=e.keyCode||e.which||e.charCode;if(ci.filter.call(this,e)){if((r===93||r===224)&&(r=91),Qt.indexOf(r)===-1&&r!==229&&Qt.push(r),["ctrlKey","altKey","shiftKey","metaKey"].forEach(function(g){var m=R1[g];e[g]&&Qt.indexOf(m)===-1?Qt.push(m):!e[g]&&Qt.indexOf(m)>-1?Qt.splice(Qt.indexOf(m),1):g==="metaKey"&&e[g]&&Qt.length===3&&(e.ctrlKey||e.shiftKey||e.altKey||(Qt=Qt.slice(Qt.indexOf(m))))}),r in ar){ar[r]=!0;for(var i in Aa)Aa[i]===r&&(ci[i]=!0);if(!n)return}for(var s in ar)Object.prototype.hasOwnProperty.call(ar,s)&&(ar[s]=e[R1[s]]);e.getModifierState&&!(e.altKey&&!e.ctrlKey)&&e.getModifierState("AltGraph")&&(Qt.indexOf(17)===-1&&Qt.push(17),Qt.indexOf(18)===-1&&Qt.push(18),ar[17]=!0,ar[18]=!0);var o=Af();if(n)for(var a=0;a<n.length;a++)n[a].scope===o&&(e.type==="keydown"&&n[a].keydown||e.type==="keyup"&&n[a].keyup)&&UC(e,n[a],o,t);if(r in Mn){for(var l=0;l<Mn[r].length;l++)if((e.type==="keydown"&&Mn[r][l].keydown||e.type==="keyup"&&Mn[r][l].keyup)&&Mn[r][l].key){for(var c=Mn[r][l],u=c.splitKey,d=c.key.split(u),h=[],p=0;p<d.length;p++)h.push(b0(d[p]));h.sort().join("")===Qt.sort().join("")&&UC(e,c,o,t)}}}}function BJ(e){return F3.indexOf(e)>-1}function ci(e,t,n){Qt=[];var r=D3(e),i=[],s="all",o=document,a=0,l=!1,c=!0,u="+",d=!1;for(n===void 0&&typeof t=="function"&&(n=t),Object.prototype.toString.call(t)==="[object Object]"&&(t.scope&&(s=t.scope),t.element&&(o=t.element),t.keyup&&(l=t.keyup),t.keydown!==void 0&&(c=t.keydown),t.capture!==void 0&&(d=t.capture),typeof t.splitKey=="string"&&(u=t.splitKey)),typeof t=="string"&&(s=t);a<r.length;a++)e=r[a].split(u),i=[],e.length>1&&(i=B3(Aa,e)),e=e[e.length-1],e=e==="*"?"*":b0(e),e in Mn||(Mn[e]=[]),Mn[e].push({keyup:l,keydown:c,scope:s,mods:i,shortcut:r[a],method:n,key:r[a],splitKey:u,element:o});typeof o<"u"&&!BJ(o)&&window&&(F3.push(o),sy(o,"keydown",function(h){HC(h,o)},d),zC||(zC=!0,sy(window,"focus",function(){Qt=[]},d)),sy(o,"keyup",function(h){HC(h,o),LJ(h)},d))}function DJ(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"all";Object.keys(Mn).forEach(function(n){var r=Mn[n].find(function(i){return i.scope===t&&i.shortcut===e});r&&r.method&&r.method()})}var ay={setScope:z3,getScope:Af,deleteScope:VJ,getPressedKeyCodes:PJ,isPressed:OJ,filter:jJ,trigger:DJ,unbind:NJ,keyMap:zS,modifier:Aa,modifierMap:R1};for(var ly in ay)Object.prototype.hasOwnProperty.call(ay,ly)&&(ci[ly]=ay[ly]);if(typeof window<"u"){var $J=window.hotkeys;ci.noConflict=function(e){return e&&window.hotkeys===ci&&(window.hotkeys=$J),ci},window.hotkeys=ci}ci.filter=function(){return!0};var U3=function(t,n){var r=t.target,i=r&&r.tagName;return!!(i&&n&&n.includes(i))},FJ=function(t){return U3(t,["INPUT","TEXTAREA","SELECT"])};function Ir(e,t,n,r){n instanceof Array&&(r=n,n=void 0);var i=n||{},s=i.enableOnTags,o=i.filter,a=i.keyup,l=i.keydown,c=i.filterPreventDefault,u=c===void 0?!0:c,d=i.enabled,h=d===void 0?!0:d,p=i.enableOnContentEditable,g=p===void 0?!1:p,m=A.useRef(null),_=A.useCallback(function(v,y){var S,x;return o&&!o(v)?!u:FJ(v)&&!U3(v,s)||(S=v.target)!=null&&S.isContentEditable&&!g?!0:m.current===null||document.activeElement===m.current||(x=m.current)!=null&&x.contains(document.activeElement)?(t(v,y),!0):!1},r?[m,s,o].concat(r):[m,s,o]);return A.useEffect(function(){if(!h){ci.unbind(e,_);return}return a&&l!==!0&&(n.keydown=!1),ci(e,n||{},_),function(){return ci.unbind(e,_)}},[_,e,h]),m}ci.isPressed;const M1="a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,r,s,t,u,w,x,y,z,1,2,3,4,5,6,7,8,9,0";var xM,Rp,wM;try{(wM=(Rp=(xM=global==null?void 0:global.navigator)==null?void 0:xM.keyboard)==null?void 0:Rp.lock)==null||wM.call(Rp,["Escape"])}catch(e){console.warn(e)}var EM,kM;const zJ=!!((kM=(EM=global==null?void 0:global.navigator)==null?void 0:EM.keyboard)!=null&&kM.lock),Na=e=>t=>{e&&(t.preventDefault(),t.stopPropagation(),e(t))};function Bl(e,t=!0,n){Vr(ee.remoteKeyboardPressed,r=>{var i;t&&r in e&&((i=e[r])==null||i.call(e))}),Ir("up",Na(e.up),{enabled:t&&!!(e!=null&&e.up)},n),Ir("down",Na(e.down),{enabled:t&&!!(e!=null&&e.down)},n),Ir("left",Na(e.left),{enabled:t&&!!(e!=null&&e.left)},n),Ir("right",Na(e.right),{enabled:t&&!!(e!=null&&e.right)},n),Ir("Enter",Na(e.accept),{enabled:t&&!!(e!=null&&e.accept)},n),Ir("Escape,Backspace",Na(e.back),{enabled:t&&!!(e!=null&&e.back)},n),Ir("Shift+R",Na(e.random),{enabled:t&&!!(e!=null&&e.random)},n)}function UJ({help:e}){const[t]=$e(pr),[n,r]=$e(JP);Ir("shift+h",()=>r(!n),void 0,[n]);const i=Object.entries(e??{}).filter(([,s])=>s!==void 0);return t?null:f.jsx(f.Fragment,{children:f.jsx(JJ,{"data-test":"help-container",onClick:()=>r(!n),visible:!!i.length&&n,children:n&&f.jsxs(f.Fragment,{children:[f.jsx(G3,{children:"Use indicated keys on your keyboard"}),i.map(([s,o])=>{const{view:a,defaultLabel:l}=QJ[s];return f.jsxs(GC,{children:[f.jsx(WC,{children:o??l}),f.jsx(qC,{children:f.jsx(a,{})})]},s)}),f.jsxs(GC,{children:[f.jsx(WC,{children:"Show/hide this help"}),f.jsx(qC,{children:H3("h")()})]})]})})})}const US=({vertical:e=!1,horizontal:t=!1})=>f.jsxs(f.Fragment,{children:[f.jsx(Us,{disabled:!e,children:"↑"}),f.jsx("br",{}),f.jsx(Us,{disabled:!t,children:"←"}),f.jsx(Us,{disabled:!e,children:"↓"}),f.jsx(Us,{disabled:!t,children:"→"})]}),HJ=()=>f.jsx(US,{horizontal:!0}),GJ=()=>f.jsx(US,{vertical:!0}),qJ=()=>f.jsx(US,{vertical:!0,horizontal:!0}),WJ=()=>f.jsx(Us,{children:"Enter ⏎"}),KJ=()=>zJ?f.jsx(Us,{children:"Escape"}):f.jsx(Us,{children:"Backspace ⌫"}),H3=e=>()=>f.jsxs(f.Fragment,{children:[f.jsx(Us,{children:"Shift"})," + ",f.jsx(Us,{children:e.toUpperCase()})]}),YJ=()=>f.jsx(f.Fragment,{children:f.jsx(Us,{children:"start typing"})}),QJ={"horizontal-vertical":{view:qJ,defaultLabel:"Navigate"},horizontal:{view:HJ,defaultLabel:"Navigate"},vertical:{view:GJ,defaultLabel:"Navigate"},accept:{view:WJ,defaultLabel:"Select"},back:{view:KJ,defaultLabel:"Go back"},shiftR:{view:H3("r"),defaultLabel:"Pick random"},alphanumeric:{view:YJ,defaultLabel:"Search"}},GC=C("div",{target:"efq3fs05"})({name:"1m596lt",styles:"display:flex;flex-direction:row;align-items:center;gap:1rem"}),qC=C("div",{target:"efq3fs04"})({name:"w84kwe",styles:"flex-wrap:nowrap;text-align:center;flex:2;color:white;font-weight:bold"}),WC=C("span",{target:"efq3fs03"})("flex:3;",De,";font-size:2rem;text-align:right;"),G3=C("div",{target:"efq3fs02"})("position:absolute;inset:0 0 0 0;background:rgba(0, 0, 0, 0.75);",De,";font-size:2rem;padding:2rem;display:flex;align-items:center;justify-content:center;text-align:center;opacity:0;transition:300ms;visibility:hidden;"),JJ=C("div",{target:"efq3fs01"})("position:fixed;top:5rem;right:0;padding:0.5rem;background:rgba(0, 0, 0, 0.5);display:flex;flex-direction:column;gap:1rem;width:34rem;visibility:",e=>e.visible?"visible":"hidden",";cursor:pointer;transform:scale(0.75);z-index:1000;@media (max-width: 560px){display:none;}view-transition-name:help-view;:hover{",G3,"{opacity:1;visibility:visible;}}svg{fill:white;}"),Us=C("kbd",{target:"efq3fs00"})("margin:0.2rem;padding:0.12rem 0.9rem;border-radius:0.3rem;border:0.1rem solid rgb(204, 204, 204);color:rgb(51, 51, 51);line-height:1.4;font-size:1.6rem;display:inline-block;box-shadow:0 0.1rem 0 rgba(0, 0, 0, 0.2),inset 0 0 0 0.2rem #ffffff;background-color:rgb(247, 247, 247);text-shadow:0 0.1rem 0 #fff;font-weight:normal;opacity:",e=>e.disabled?.25:1,";"),HS=A.createContext({setKeyboard:(e,t)=>{},unsetKeyboard:e=>{},hasContent:!1}),XJ=({children:e})=>{const[t,n]=A.useState({}),r=(u,d)=>{n(h=>({...h,[u]:d}))},i=u=>n(d=>lJ(d,[u])),[s,o]=Object.entries(t).at(-1)??[];Vr(ee.remoteMicConnected,({id:u})=>{var d;(d=Ze.getRemoteMicById(u))==null||d.connection.send({t:"keyboard-layout",help:o})}),A.useEffect(()=>{Ze.broadcast({t:"keyboard-layout",help:o})},[s]);const{remote:a,...l}=o??{},c=!!Object.values(l).length;return f.jsxs(HS.Provider,{value:{setKeyboard:r,unsetKeyboard:i,hasContent:c},children:[e,f.jsx(UJ,{help:l}),f.jsx(IJ,{})]})};var ZJ={webm:"data:video/webm;base64,GkXfowEAAAAAAAAfQoaBAUL3gQFC8oEEQvOBCEKChHdlYm1Ch4EEQoWBAhhTgGcBAAAAAAAVkhFNm3RALE27i1OrhBVJqWZTrIHfTbuMU6uEFlSua1OsggEwTbuMU6uEHFO7a1OsghV17AEAAAAAAACkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmAQAAAAAAAEUq17GDD0JATYCNTGF2ZjU1LjMzLjEwMFdBjUxhdmY1NS4zMy4xMDBzpJBlrrXf3DCDVB8KcgbMpcr+RImIQJBgAAAAAAAWVK5rAQAAAAAAD++uAQAAAAAAADLXgQFzxYEBnIEAIrWcg3VuZIaFVl9WUDiDgQEj44OEAmJaAOABAAAAAAAABrCBsLqBkK4BAAAAAAAPq9eBAnPFgQKcgQAitZyDdW5khohBX1ZPUkJJU4OBAuEBAAAAAAAAEZ+BArWIQOdwAAAAAABiZIEgY6JPbwIeVgF2b3JiaXMAAAAAAoC7AAAAAAAAgLUBAAAAAAC4AQN2b3JiaXMtAAAAWGlwaC5PcmcgbGliVm9yYmlzIEkgMjAxMDExMDEgKFNjaGF1ZmVudWdnZXQpAQAAABUAAABlbmNvZGVyPUxhdmM1NS41Mi4xMDIBBXZvcmJpcyVCQ1YBAEAAACRzGCpGpXMWhBAaQlAZ4xxCzmvsGUJMEYIcMkxbyyVzkCGkoEKIWyiB0JBVAABAAACHQXgUhIpBCCGEJT1YkoMnPQghhIg5eBSEaUEIIYQQQgghhBBCCCGERTlokoMnQQgdhOMwOAyD5Tj4HIRFOVgQgydB6CCED0K4moOsOQghhCQ1SFCDBjnoHITCLCiKgsQwuBaEBDUojILkMMjUgwtCiJqDSTX4GoRnQXgWhGlBCCGEJEFIkIMGQcgYhEZBWJKDBjm4FITLQagahCo5CB+EIDRkFQCQAACgoiiKoigKEBqyCgDIAAAQQFEUx3EcyZEcybEcCwgNWQUAAAEACAAAoEiKpEiO5EiSJFmSJVmSJVmS5omqLMuyLMuyLMsyEBqyCgBIAABQUQxFcRQHCA1ZBQBkAAAIoDiKpViKpWiK54iOCISGrAIAgAAABAAAEDRDUzxHlETPVFXXtm3btm3btm3btm3btm1blmUZCA1ZBQBAAAAQ0mlmqQaIMAMZBkJDVgEACAAAgBGKMMSA0JBVAABAAACAGEoOogmtOd+c46BZDppKsTkdnEi1eZKbirk555xzzsnmnDHOOeecopxZDJoJrTnnnMSgWQqaCa0555wnsXnQmiqtOeeccc7pYJwRxjnnnCateZCajbU555wFrWmOmkuxOeecSLl5UptLtTnnnHPOOeecc84555zqxekcnBPOOeecqL25lpvQxTnnnE/G6d6cEM4555xzzjnnnHPOOeecIDRkFQAABABAEIaNYdwpCNLnaCBGEWIaMulB9+gwCRqDnELq0ehopJQ6CCWVcVJKJwgNWQUAAAIAQAghhRRSSCGFFFJIIYUUYoghhhhyyimnoIJKKqmooowyyyyzzDLLLLPMOuyssw47DDHEEEMrrcRSU2011lhr7jnnmoO0VlprrbVSSimllFIKQkNWAQAgAAAEQgYZZJBRSCGFFGKIKaeccgoqqIDQkFUAACAAgAAAAABP8hzRER3RER3RER3RER3R8RzPESVREiVREi3TMjXTU0VVdWXXlnVZt31b2IVd933d933d+HVhWJZlWZZlWZZlWZZlWZZlWZYgNGQVAAACAAAghBBCSCGFFFJIKcYYc8w56CSUEAgNWQUAAAIACAAAAHAUR3EcyZEcSbIkS9IkzdIsT/M0TxM9URRF0zRV0RVdUTdtUTZl0zVdUzZdVVZtV5ZtW7Z125dl2/d93/d93/d93/d93/d9XQdCQ1YBABIAADqSIymSIimS4ziOJElAaMgqAEAGAEAAAIriKI7jOJIkSZIlaZJneZaomZrpmZ4qqkBoyCoAABAAQAAAAAAAAIqmeIqpeIqoeI7oiJJomZaoqZoryqbsuq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq4LhIasAgAkAAB0JEdyJEdSJEVSJEdygNCQVQCADACAAAAcwzEkRXIsy9I0T/M0TxM90RM901NFV3SB0JBVAAAgAIAAAAAAAAAMybAUy9EcTRIl1VItVVMt1VJF1VNVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVN0zRNEwgNWQkAkAEAkBBTLS3GmgmLJGLSaqugYwxS7KWxSCpntbfKMYUYtV4ah5RREHupJGOKQcwtpNApJq3WVEKFFKSYYyoVUg5SIDRkhQAQmgHgcBxAsixAsiwAAAAAAAAAkDQN0DwPsDQPAAAAAAAAACRNAyxPAzTPAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABA0jRA8zxA8zwAAAAAAAAA0DwP8DwR8EQRAAAAAAAAACzPAzTRAzxRBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABA0jRA8zxA8zwAAAAAAAAAsDwP8EQR0DwRAAAAAAAAACzPAzxRBDzRAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAEOAAABBgIRQasiIAiBMAcEgSJAmSBM0DSJYFTYOmwTQBkmVB06BpME0AAAAAAAAAAAAAJE2DpkHTIIoASdOgadA0iCIAAAAAAAAAAAAAkqZB06BpEEWApGnQNGgaRBEAAAAAAAAAAAAAzzQhihBFmCbAM02IIkQRpgkAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAGHAAAAgwoQwUGrIiAIgTAHA4imUBAIDjOJYFAACO41gWAABYliWKAABgWZooAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAYcAAACDChDBQashIAiAIAcCiKZQHHsSzgOJYFJMmyAJYF0DyApgFEEQAIAAAocAAACLBBU2JxgEJDVgIAUQAABsWxLE0TRZKkaZoniiRJ0zxPFGma53meacLzPM80IYqiaJoQRVE0TZimaaoqME1VFQAAUOAAABBgg6bE4gCFhqwEAEICAByKYlma5nmeJ4qmqZokSdM8TxRF0TRNU1VJkqZ5niiKommapqqyLE3zPFEURdNUVVWFpnmeKIqiaaqq6sLzPE8URdE0VdV14XmeJ4qiaJqq6roQRVE0TdNUTVV1XSCKpmmaqqqqrgtETxRNU1Vd13WB54miaaqqq7ouEE3TVFVVdV1ZBpimaaqq68oyQFVV1XVdV5YBqqqqruu6sgxQVdd1XVmWZQCu67qyLMsCAAAOHAAAAoygk4wqi7DRhAsPQKEhKwKAKAAAwBimFFPKMCYhpBAaxiSEFEImJaXSUqogpFJSKRWEVEoqJaOUUmopVRBSKamUCkIqJZVSAADYgQMA2IGFUGjISgAgDwCAMEYpxhhzTiKkFGPOOScRUoox55yTSjHmnHPOSSkZc8w556SUzjnnnHNSSuacc845KaVzzjnnnJRSSuecc05KKSWEzkEnpZTSOeecEwAAVOAAABBgo8jmBCNBhYasBABSAQAMjmNZmuZ5omialiRpmud5niiapiZJmuZ5nieKqsnzPE8URdE0VZXneZ4oiqJpqirXFUXTNE1VVV2yLIqmaZqq6rowTdNUVdd1XZimaaqq67oubFtVVdV1ZRm2raqq6rqyDFzXdWXZloEsu67s2rIAAPAEBwCgAhtWRzgpGgssNGQlAJABAEAYg5BCCCFlEEIKIYSUUggJAAAYcAAACDChDBQashIASAUAAIyx1lprrbXWQGettdZaa62AzFprrbXWWmuttdZaa6211lJrrbXWWmuttdZaa6211lprrbXWWmuttdZaa6211lprrbXWWmuttdZaa6211lprrbXWWmstpZRSSimllFJKKaWUUkoppZRSSgUA+lU4APg/2LA6wknRWGChISsBgHAAAMAYpRhzDEIppVQIMeacdFRai7FCiDHnJKTUWmzFc85BKCGV1mIsnnMOQikpxVZjUSmEUlJKLbZYi0qho5JSSq3VWIwxqaTWWoutxmKMSSm01FqLMRYjbE2ptdhqq7EYY2sqLbQYY4zFCF9kbC2m2moNxggjWywt1VprMMYY3VuLpbaaizE++NpSLDHWXAAAd4MDAESCjTOsJJ0VjgYXGrISAAgJACAQUooxxhhzzjnnpFKMOeaccw5CCKFUijHGnHMOQgghlIwx5pxzEEIIIYRSSsaccxBCCCGEkFLqnHMQQgghhBBKKZ1zDkIIIYQQQimlgxBCCCGEEEoopaQUQgghhBBCCKmklEIIIYRSQighlZRSCCGEEEIpJaSUUgohhFJCCKGElFJKKYUQQgillJJSSimlEkoJJYQSUikppRRKCCGUUkpKKaVUSgmhhBJKKSWllFJKIYQQSikFAAAcOAAABBhBJxlVFmGjCRcegEJDVgIAZAAAkKKUUiktRYIipRikGEtGFXNQWoqocgxSzalSziDmJJaIMYSUk1Qy5hRCDELqHHVMKQYtlRhCxhik2HJLoXMOAAAAQQCAgJAAAAMEBTMAwOAA4XMQdAIERxsAgCBEZohEw0JweFAJEBFTAUBigkIuAFRYXKRdXECXAS7o4q4DIQQhCEEsDqCABByccMMTb3jCDU7QKSp1IAAAAAAADADwAACQXAAREdHMYWRobHB0eHyAhIiMkAgAAAAAABcAfAAAJCVAREQ0cxgZGhscHR4fICEiIyQBAIAAAgAAAAAggAAEBAQAAAAAAAIAAAAEBB9DtnUBAAAAAAAEPueBAKOFggAAgACjzoEAA4BwBwCdASqwAJAAAEcIhYWIhYSIAgIABhwJ7kPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99YAD+/6tQgKOFggADgAqjhYIAD4AOo4WCACSADqOZgQArADECAAEQEAAYABhYL/QACIBDmAYAAKOFggA6gA6jhYIAT4AOo5mBAFMAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAGSADqOFggB6gA6jmYEAewAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIAj4AOo5mBAKMAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAKSADqOFggC6gA6jmYEAywAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIAz4AOo4WCAOSADqOZgQDzADECAAEQEAAYABhYL/QACIBDmAYAAKOFggD6gA6jhYIBD4AOo5iBARsAEQIAARAQFGAAYWC/0AAiAQ5gGACjhYIBJIAOo4WCATqADqOZgQFDADECAAEQEAAYABhYL/QACIBDmAYAAKOFggFPgA6jhYIBZIAOo5mBAWsAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAXqADqOFggGPgA6jmYEBkwAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIBpIAOo4WCAbqADqOZgQG7ADECAAEQEAAYABhYL/QACIBDmAYAAKOFggHPgA6jmYEB4wAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIB5IAOo4WCAfqADqOZgQILADECAAEQEAAYABhYL/QACIBDmAYAAKOFggIPgA6jhYICJIAOo5mBAjMAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAjqADqOFggJPgA6jmYECWwAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYICZIAOo4WCAnqADqOZgQKDADECAAEQEAAYABhYL/QACIBDmAYAAKOFggKPgA6jhYICpIAOo5mBAqsAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCArqADqOFggLPgA6jmIEC0wARAgABEBAUYABhYL/QACIBDmAYAKOFggLkgA6jhYIC+oAOo5mBAvsAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAw+ADqOZgQMjADECAAEQEAAYABhYL/QACIBDmAYAAKOFggMkgA6jhYIDOoAOo5mBA0sAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCA0+ADqOFggNkgA6jmYEDcwAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIDeoAOo4WCA4+ADqOZgQObADECAAEQEAAYABhYL/QACIBDmAYAAKOFggOkgA6jhYIDuoAOo5mBA8MAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCA8+ADqOFggPkgA6jhYID+oAOo4WCBA+ADhxTu2sBAAAAAAAAEbuPs4EDt4r3gQHxghEr8IEK",mp4:"data:video/mp4;base64,AAAAHGZ0eXBNNFYgAAACAGlzb21pc28yYXZjMQAAAAhmcmVlAAAGF21kYXTeBAAAbGliZmFhYyAxLjI4AABCAJMgBDIARwAAArEGBf//rdxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNDIgcjIgOTU2YzhkOCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTQgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0wIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz02IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MCB3ZWlnaHRwPTAga2V5aW50PTI1MCBrZXlpbnRfbWluPTI1IHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcmM9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCB2YnZfbWF4cmF0ZT03NjggdmJ2X2J1ZnNpemU9MzAwMCBjcmZfbWF4PTAuMCBuYWxfaHJkPW5vbmUgZmlsbGVyPTAgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAAFZliIQL8mKAAKvMnJycnJycnJycnXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXiEASZACGQAjgCEASZACGQAjgAAAAAdBmjgX4GSAIQBJkAIZACOAAAAAB0GaVAX4GSAhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGagC/AySEASZACGQAjgAAAAAZBmqAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZrAL8DJIQBJkAIZACOAAAAABkGa4C/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmwAvwMkhAEmQAhkAI4AAAAAGQZsgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGbQC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm2AvwMkhAEmQAhkAI4AAAAAGQZuAL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGboC/AySEASZACGQAjgAAAAAZBm8AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZvgL8DJIQBJkAIZACOAAAAABkGaAC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmiAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpAL8DJIQBJkAIZACOAAAAABkGaYC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmoAvwMkhAEmQAhkAI4AAAAAGQZqgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGawC/AySEASZACGQAjgAAAAAZBmuAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZsAL8DJIQBJkAIZACOAAAAABkGbIC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm0AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZtgL8DJIQBJkAIZACOAAAAABkGbgCvAySEASZACGQAjgCEASZACGQAjgAAAAAZBm6AnwMkhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AAAAhubW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAABDcAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAzB0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAA+kAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAALAAAACQAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAPpAAAAAAABAAAAAAKobWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAB1MAAAdU5VxAAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABWaWRlb0hhbmRsZXIAAAACU21pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAhNzdGJsAAAAr3N0c2QAAAAAAAAAAQAAAJ9hdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAALAAkABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAALWF2Y0MBQsAN/+EAFWdCwA3ZAsTsBEAAAPpAADqYA8UKkgEABWjLg8sgAAAAHHV1aWRraEDyXyRPxbo5pRvPAyPzAAAAAAAAABhzdHRzAAAAAAAAAAEAAAAeAAAD6QAAABRzdHNzAAAAAAAAAAEAAAABAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAABAAAAAQAAAIxzdHN6AAAAAAAAAAAAAAAeAAADDwAAAAsAAAALAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAAiHN0Y28AAAAAAAAAHgAAAEYAAANnAAADewAAA5gAAAO0AAADxwAAA+MAAAP2AAAEEgAABCUAAARBAAAEXQAABHAAAASMAAAEnwAABLsAAATOAAAE6gAABQYAAAUZAAAFNQAABUgAAAVkAAAFdwAABZMAAAWmAAAFwgAABd4AAAXxAAAGDQAABGh0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAACAAAAAAAABDcAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAQkAAADcAABAAAAAAPgbWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAAykBVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAADi21pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAADT3N0YmwAAABnc3RzZAAAAAAAAAABAAAAV21wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAAM2VzZHMAAAAAA4CAgCIAAgAEgICAFEAVBbjYAAu4AAAADcoFgICAAhGQBoCAgAECAAAAIHN0dHMAAAAAAAAAAgAAADIAAAQAAAAAAQAAAkAAAAFUc3RzYwAAAAAAAAAbAAAAAQAAAAEAAAABAAAAAgAAAAIAAAABAAAAAwAAAAEAAAABAAAABAAAAAIAAAABAAAABgAAAAEAAAABAAAABwAAAAIAAAABAAAACAAAAAEAAAABAAAACQAAAAIAAAABAAAACgAAAAEAAAABAAAACwAAAAIAAAABAAAADQAAAAEAAAABAAAADgAAAAIAAAABAAAADwAAAAEAAAABAAAAEAAAAAIAAAABAAAAEQAAAAEAAAABAAAAEgAAAAIAAAABAAAAFAAAAAEAAAABAAAAFQAAAAIAAAABAAAAFgAAAAEAAAABAAAAFwAAAAIAAAABAAAAGAAAAAEAAAABAAAAGQAAAAIAAAABAAAAGgAAAAEAAAABAAAAGwAAAAIAAAABAAAAHQAAAAEAAAABAAAAHgAAAAIAAAABAAAAHwAAAAQAAAABAAAA4HN0c3oAAAAAAAAAAAAAADMAAAAaAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAACMc3RjbwAAAAAAAAAfAAAALAAAA1UAAANyAAADhgAAA6IAAAO+AAAD0QAAA+0AAAQAAAAEHAAABC8AAARLAAAEZwAABHoAAASWAAAEqQAABMUAAATYAAAE9AAABRAAAAUjAAAFPwAABVIAAAVuAAAFgQAABZ0AAAWwAAAFzAAABegAAAX7AAAGFwAAAGJ1ZHRhAAAAWm1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAALWlsc3QAAAAlqXRvbwAAAB1kYXRhAAAAAQAAAABMYXZmNTUuMzMuMTAw"};const{webm:eX,mp4:tX}=ZJ,cy=()=>typeof navigator<"u"&&parseFloat((""+(/CPU.*OS ([0-9_]{3,4})[0-9_]{0,1}|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))<10&&!window.MSStream,uy=()=>"wakeLock"in navigator&&window.navigator.userAgent.indexOf("Samsung")===-1;class nX{constructor(){if(this.enabled=!1,uy()){this._wakeLock=null;const t=()=>{this._wakeLock!==null&&document.visibilityState==="visible"&&this.enable()};document.addEventListener("visibilitychange",t),document.addEventListener("fullscreenchange",t)}else cy()?this.noSleepTimer=null:(this.noSleepVideo=document.createElement("video"),this.noSleepVideo.setAttribute("title","No Sleep"),this.noSleepVideo.setAttribute("playsinline",""),this._addSourceToVideo(this.noSleepVideo,"webm",eX),this._addSourceToVideo(this.noSleepVideo,"mp4",tX),Object.assign(this.noSleepVideo.style,{position:"absolute",left:"-100%",top:"-100%"}),document.querySelector("body").append(this.noSleepVideo),this.noSleepVideo.addEventListener("loadedmetadata",()=>{this.noSleepVideo.duration<=1?this.noSleepVideo.setAttribute("loop",""):this.noSleepVideo.addEventListener("timeupdate",()=>{this.noSleepVideo.currentTime>.5&&(this.noSleepVideo.currentTime=Math.random())})}))}_addSourceToVideo(t,n,r){var i=document.createElement("source");i.src=r,i.type=`video/${n}`,t.appendChild(i)}get isEnabled(){return this.enabled}enable(){return uy()?navigator.wakeLock.request("screen").then(t=>{this._wakeLock=t,this.enabled=!0,console.log("Wake Lock active."),this._wakeLock.addEventListener("release",()=>{console.log("Wake Lock released.")})}).catch(t=>{throw this.enabled=!1,console.error(`${t.name}, ${t.message}`),t}):cy()?(this.disable(),console.warn(`
        NoSleep enabled for older iOS devices. This can interrupt
        active or long-running network requests from completing successfully.
        See https://github.com/richtr/NoSleep.js/issues/15 for more details.
      `),this.noSleepTimer=window.setInterval(()=>{document.hidden||(window.location.href=window.location.href.split("#")[0],window.setTimeout(window.stop,0))},15e3),this.enabled=!0,Promise.resolve()):this.noSleepVideo.play().then(n=>(this.enabled=!0,n)).catch(n=>{throw this.enabled=!1,n})}disable(){uy()?(this._wakeLock&&this._wakeLock.release(),this._wakeLock=null):cy()?this.noSleepTimer&&(console.warn(`
          NoSleep now disabled for older iOS devices.
        `),window.clearInterval(this.noSleepTimer),this.noSleepTimer=null):this.noSleepVideo.pause(),this.enabled=!1}}var rX=nX;const iX=hr(rX),sX="/assets/eurovisionbg-CvR5q-FP.svg",GS=A.createContext({visible:!0,theme:"regular",setVisibility:e=>{},setTheme:e=>{}}),Ea=(e,t="regular")=>{const{setVisibility:n,setTheme:r}=A.useContext(GS);A.useEffect(()=>{n(e)},[e,n]),A.useEffect(()=>{r(t)},[t,r])};function oX({children:e}){const[t,n]=A.useState(!0),[r,i]=A.useState("regular"),[s]=$e(Di);return f.jsxs(GS.Provider,{value:{visible:t,setVisibility:n,setTheme:i,theme:r},children:[t&&f.jsx(pX,{"data-theme":r,"data-graphic-level":s,bgtheme:r,children:r==="eurovision"&&f.jsx(P1,{})}),e]})}const aX={name:"1skrp57",styles:"animation:escGradient 46s linear infinite;flex:1;@keyframes escGradient{0%{background-position:0% 800%;}100%{background-position:0% 0%;}}"},lX=C("div",{target:"ev6htcq2"})("transform:scale(1, 4);background-image:url(",sX,");background-size:100% 50%;height:100%;&[data-animate='true']{",aX,";}"),P1=()=>{var e;return f.jsx(lX,{"data-animate":!((e=global.location)!=null&&e.href.includes("/remote-mic"))})},cX=gi(`background-image:linear-gradient(
    -45deg,
    `,Ue.christmasGreen.text,`,
    `,Ue.christmasGreen.stroke,`,
    `,Ue.christmasRed.stroke,`,
    `,Ue.christmasRed.stroke,`
  );background-size:400% 400%;`,""),uX={name:"zjik7",styles:"display:flex"},dX=gi(`background-image:linear-gradient(
    -45deg,
    `,Ue.red.stroke,`,
    `,Ue.blue.text,`,
    `,Ue.blue.stroke,`,
    `,Ue.red.stroke,`
  );background-size:400% 400%;`,""),fX=C("div",{target:"ev6htcq1"})({name:"18w86be",styles:"background-color:white;width:100%;height:100%"}),hX={name:"x35kb",styles:"animation:gradient 15s ease infinite;@keyframes gradient{0%{background-position:0% 50%;}50%{background-position:100% 50%;}100%{background-position:0% 50%;}}"},pX=C(fX,{target:"ev6htcq0"})("z-index:-1;top:0;position:fixed;&[data-theme='eurovision']{",uX,";}&[data-theme='christmas']{",cX,";}&[data-theme='regular']{",dX,";}background-position:100% 50%;&[data-graphic-level='high']{",hX,";}");function gX({size:e=16}){return f.jsx("style",{children:`html {
                font-size: ${e}px !important;
            }`})}function S0(e){return A.useMemo(()=>{var t;return new URLSearchParams((t=global.location)==null?void 0:t.search).get(e)},[e])}const mX=C("div",{target:"e1py91zd0"})("h1{",De,";margin:0;text-align:center;font-size:4rem;color:",pe.colors.text.active,";}h2{",De,";margin:0;font-size:2.9rem;}h3{",De,";margin:0;font-size:2.7rem;strong{color:",pe.colors.text.active,";}}h4{",De,";margin:0;font-size:2.2rem;line-height:1.15;}h5{",De,";margin:0;font-size:1.6rem;line-height:1.5;}h6{",De,";margin:0;line-height:1.5;font-size:1.3rem;}hr{margin:0.5rem 1rem;opacity:0.25;}h1,h2,h3,h4,h5{button{",De,";background:none;padding:0;margin:0;border:none;font-size:inherit;color:",pe.colors.text.active,";text-decoration:underline;cursor:pointer;}svg{font-size:0.8em;}}a{",De,";color:",pe.colors.text.active,";text-decoration:underline;}strong{color:",pe.colors.text.active,";}");var qS={},q3={exports:{}};(function(e){function t(n){return n&&n.__esModule?n:{default:n}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(q3);var ot=q3.exports,dy={};function Oe(){return Oe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Oe.apply(null,arguments)}function Wo(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function W3(e){if(!Wo(e))return e;const t={};return Object.keys(e).forEach(n=>{t[n]=W3(e[n])}),t}function _s(e,t,n={clone:!0}){const r=n.clone?Oe({},e):e;return Wo(e)&&Wo(t)&&Object.keys(t).forEach(i=>{Wo(t[i])&&Object.prototype.hasOwnProperty.call(e,i)&&Wo(e[i])?r[i]=_s(e[i],t[i],n):n.clone?r[i]=Wo(t[i])?W3(t[i]):t[i]:r[i]=t[i]}),r}const vX=Object.freeze(Object.defineProperty({__proto__:null,default:_s,isPlainObject:Wo},Symbol.toStringTag,{value:"Module"}));var K3={exports:{}},yX="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",AX=yX,_X=AX;function Y3(){}function Q3(){}Q3.resetWarningCache=Y3;var bX=function(){function e(r,i,s,o,a,l){if(l!==_X){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Q3,resetWarningCache:Y3};return n.PropTypes=n,n};K3.exports=bX();var SX=K3.exports;const Qe=hr(SX);function bl(e){let t="https://mui.com/production-error/?code="+e;for(let n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}const xX=Object.freeze(Object.defineProperty({__proto__:null,default:bl},Symbol.toStringTag,{value:"Module"}));var J3={exports:{}},Ct={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WS=Symbol.for("react.element"),KS=Symbol.for("react.portal"),x0=Symbol.for("react.fragment"),w0=Symbol.for("react.strict_mode"),E0=Symbol.for("react.profiler"),k0=Symbol.for("react.provider"),C0=Symbol.for("react.context"),wX=Symbol.for("react.server_context"),T0=Symbol.for("react.forward_ref"),I0=Symbol.for("react.suspense"),R0=Symbol.for("react.suspense_list"),M0=Symbol.for("react.memo"),P0=Symbol.for("react.lazy"),EX=Symbol.for("react.offscreen"),X3;X3=Symbol.for("react.module.reference");function Zi(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case WS:switch(e=e.type,e){case x0:case E0:case w0:case I0:case R0:return e;default:switch(e=e&&e.$$typeof,e){case wX:case C0:case T0:case P0:case M0:case k0:return e;default:return t}}case KS:return t}}}Ct.ContextConsumer=C0;Ct.ContextProvider=k0;Ct.Element=WS;Ct.ForwardRef=T0;Ct.Fragment=x0;Ct.Lazy=P0;Ct.Memo=M0;Ct.Portal=KS;Ct.Profiler=E0;Ct.StrictMode=w0;Ct.Suspense=I0;Ct.SuspenseList=R0;Ct.isAsyncMode=function(){return!1};Ct.isConcurrentMode=function(){return!1};Ct.isContextConsumer=function(e){return Zi(e)===C0};Ct.isContextProvider=function(e){return Zi(e)===k0};Ct.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===WS};Ct.isForwardRef=function(e){return Zi(e)===T0};Ct.isFragment=function(e){return Zi(e)===x0};Ct.isLazy=function(e){return Zi(e)===P0};Ct.isMemo=function(e){return Zi(e)===M0};Ct.isPortal=function(e){return Zi(e)===KS};Ct.isProfiler=function(e){return Zi(e)===E0};Ct.isStrictMode=function(e){return Zi(e)===w0};Ct.isSuspense=function(e){return Zi(e)===I0};Ct.isSuspenseList=function(e){return Zi(e)===R0};Ct.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===x0||e===E0||e===w0||e===I0||e===R0||e===EX||typeof e=="object"&&e!==null&&(e.$$typeof===P0||e.$$typeof===M0||e.$$typeof===k0||e.$$typeof===C0||e.$$typeof===T0||e.$$typeof===X3||e.getModuleId!==void 0)};Ct.typeOf=Zi;J3.exports=Ct;var KC=J3.exports;const kX=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function Z3(e){const t=`${e}`.match(kX);return t&&t[1]||""}function eO(e,t=""){return e.displayName||e.name||Z3(e)||t}function YC(e,t,n){const r=eO(t);return e.displayName||(r!==""?`${n}(${r})`:n)}function CX(e){if(e!=null){if(typeof e=="string")return e;if(typeof e=="function")return eO(e,"Component");if(typeof e=="object")switch(e.$$typeof){case KC.ForwardRef:return YC(e,e.render,"ForwardRef");case KC.Memo:return YC(e,e.type,"memo");default:return}}}const TX=Object.freeze(Object.defineProperty({__proto__:null,default:CX,getFunctionName:Z3},Symbol.toStringTag,{value:"Module"}));function Zn(e){if(typeof e!="string")throw new Error(bl(7));return e.charAt(0).toUpperCase()+e.slice(1)}const IX=Object.freeze(Object.defineProperty({__proto__:null,default:Zn},Symbol.toStringTag,{value:"Module"}));function RX(...e){return e.reduce((t,n)=>n==null?t:function(...i){t.apply(this,i),n.apply(this,i)},()=>{})}function MX(e,t=166){let n;function r(...i){const s=()=>{e.apply(this,i)};clearTimeout(n),n=setTimeout(s,t)}return r.clear=()=>{clearTimeout(n)},r}function PX(e,t){return()=>null}function jX(e,t){var n,r;return A.isValidElement(e)&&t.indexOf((n=e.type.muiName)!=null?n:(r=e.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function tO(e){return e&&e.ownerDocument||document}function OX(e){return tO(e).defaultView||window}function VX(e,t){return()=>null}function nO(e,t){typeof e=="function"?e(t):e&&(e.current=t)}const rO=typeof window<"u"?A.useLayoutEffect:A.useEffect;let QC=0;function LX(e){const[t,n]=A.useState(e),r=e||t;return A.useEffect(()=>{t==null&&(QC+=1,n(`mui-${QC}`))},[t]),r}const JC=pg.useId;function NX(e){if(JC!==void 0){const t=JC();return e??t}return LX(e)}function BX(e,t,n,r,i){return null}function DX({controlled:e,default:t,name:n,state:r="value"}){const{current:i}=A.useRef(e!==void 0),[s,o]=A.useState(t),a=i?e:s,l=A.useCallback(c=>{i||o(c)},[]);return[a,l]}function gd(e){const t=A.useRef(e);return rO(()=>{t.current=e}),A.useRef((...n)=>(0,t.current)(...n)).current}function j1(...e){return A.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(n=>{nO(n,t)})},e)}const XC={};function $X(e,t){const n=A.useRef(XC);return n.current===XC&&(n.current=e(t)),n}const FX=[];function zX(e){A.useEffect(e,FX)}class j0{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new j0}start(t,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},t)}}function UX(){const e=$X(j0.create).current;return zX(e.disposeEffect),e}let O0=!0,O1=!1;const HX=new j0,GX={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function qX(e){const{type:t,tagName:n}=e;return!!(n==="INPUT"&&GX[t]&&!e.readOnly||n==="TEXTAREA"&&!e.readOnly||e.isContentEditable)}function WX(e){e.metaKey||e.altKey||e.ctrlKey||(O0=!0)}function fy(){O0=!1}function KX(){this.visibilityState==="hidden"&&O1&&(O0=!0)}function YX(e){e.addEventListener("keydown",WX,!0),e.addEventListener("mousedown",fy,!0),e.addEventListener("pointerdown",fy,!0),e.addEventListener("touchstart",fy,!0),e.addEventListener("visibilitychange",KX,!0)}function QX(e){const{target:t}=e;try{return t.matches(":focus-visible")}catch{}return O0||qX(t)}function iO(){const e=A.useCallback(i=>{i!=null&&YX(i.ownerDocument)},[]),t=A.useRef(!1);function n(){return t.current?(O1=!0,HX.start(100,()=>{O1=!1}),t.current=!1,!0):!1}function r(i){return QX(i)?(t.current=!0,!0):!1}return{isFocusVisibleRef:t,onFocus:r,onBlur:n,ref:e}}function V1(e,t){const n=Oe({},t);return Object.keys(e).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=Oe({},e[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=e[r]||{},s=t[r];n[r]={},!s||!Object.keys(s)?n[r]=i:!i||!Object.keys(i)?n[r]=s:(n[r]=Oe({},s),Object.keys(i).forEach(o=>{n[r][o]=V1(i[o],s[o])}))}else n[r]===void 0&&(n[r]=e[r])}),n}function lh(e,t,n=void 0){const r={};return Object.keys(e).forEach(i=>{r[i]=e[i].reduce((s,o)=>{if(o){const a=t(o);a!==""&&s.push(a),n&&n[o]&&s.push(n[o])}return s},[]).join(" ")}),r}const ZC=e=>e,JX=()=>{let e=ZC;return{configure(t){e=t},generate(t){return e(t)},reset(){e=ZC}}},XX=JX(),sO=XX,ZX={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function ku(e,t,n="Mui"){const r=ZX[t];return r?`${n}-${r}`:`${sO.generate(e)}-${t}`}function Cu(e,t,n="Mui"){const r={};return t.forEach(i=>{r[i]=ku(e,i,n)}),r}function oO(e,t=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(t,Math.min(e,n))}const eZ=Object.freeze(Object.defineProperty({__proto__:null,default:oO},Symbol.toStringTag,{value:"Module"}));function Er(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function aO(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=aO(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Fr(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=aO(e))&&(r&&(r+=" "),r+=t);return r}const lO=A.createContext(void 0);function tZ({value:e,children:t}){return f.jsx(lO.Provider,{value:e,children:t})}function nZ(e){const{theme:t,name:n,props:r}=e;if(!t||!t.components||!t.components[n])return r;const i=t.components[n];return i.defaultProps?V1(i.defaultProps,r):!i.styleOverrides&&!i.variants?V1(i,r):r}function rZ({props:e,name:t}){const n=A.useContext(lO);return nZ({props:e,name:t,theme:{components:n}})}function Tu(e){return rZ(e)}var ch={},hy={exports:{}},eT;function iZ(){return eT||(eT=1,function(e){function t(){return e.exports=t=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(null,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(hy)),hy.exports}var py={exports:{}},tT;function sZ(){return tT||(tT=1,function(e){function t(n,r){if(n==null)return{};var i={};for(var s in n)if({}.hasOwnProperty.call(n,s)){if(r.indexOf(s)>=0)continue;i[s]=n[s]}return i}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(py)),py.exports}var oZ=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],L1=C.bind();oZ.forEach(function(e){L1[e]=L1(e)});let N1;typeof document=="object"&&(N1=CS({key:"css",prepend:!0}));function aZ(e){const{injectFirst:t,children:n}=e;return t&&N1?f.jsx(h3,{value:N1,children:n}):n}function lZ(e){return e==null||Object.keys(e).length===0}function cZ(e){const{styles:t,defaultTheme:n={}}=e,r=typeof t=="function"?i=>t(lZ(i)?n:i):t;return f.jsx(nK,{styles:r})}function uZ(e,t){return L1(e,t)}const dZ=(e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))},fZ=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:cZ,StyledEngineProvider:aZ,ThemeContext:ih,css:gi,default:uZ,internal_processStyles:dZ,keyframes:wa},Symbol.toStringTag,{value:"Module"})),hZ=no(fZ),pZ=no(vX),gZ=no(IX),mZ=no(TX),vZ=["values","unit","step"],yZ=e=>{const t=Object.keys(e).map(n=>({key:n,val:e[n]}))||[];return t.sort((n,r)=>n.val-r.val),t.reduce((n,r)=>Oe({},n,{[r.key]:r.val}),{})};function cO(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=e,i=Er(e,vZ),s=yZ(t),o=Object.keys(s);function a(h){return`@media (min-width:${typeof t[h]=="number"?t[h]:h}${n})`}function l(h){return`@media (max-width:${(typeof t[h]=="number"?t[h]:h)-r/100}${n})`}function c(h,p){const g=o.indexOf(p);return`@media (min-width:${typeof t[h]=="number"?t[h]:h}${n}) and (max-width:${(g!==-1&&typeof t[o[g]]=="number"?t[o[g]]:p)-r/100}${n})`}function u(h){return o.indexOf(h)+1<o.length?c(h,o[o.indexOf(h)+1]):a(h)}function d(h){const p=o.indexOf(h);return p===0?a(o[1]):p===o.length-1?l(o[p]):c(h,o[o.indexOf(h)+1]).replace("@media","@media not all and")}return Oe({keys:o,values:s,up:a,down:l,between:c,only:u,not:d,unit:n},i)}const AZ={borderRadius:4},_Z=AZ;function Ld(e,t){return t?_s(e,t,{clone:!1}):e}const YS={xs:0,sm:600,md:900,lg:1200,xl:1536},nT={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${YS[e]}px)`};function Eo(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const s=r.breakpoints||nT;return t.reduce((o,a,l)=>(o[s.up(s.keys[l])]=n(t[l]),o),{})}if(typeof t=="object"){const s=r.breakpoints||nT;return Object.keys(t).reduce((o,a)=>{if(Object.keys(s.values||YS).indexOf(a)!==-1){const l=s.up(a);o[l]=n(t[a],a)}else{const l=a;o[l]=t[l]}return o},{})}return n(t)}function uO(e={}){var t;return((t=e.keys)==null?void 0:t.reduce((r,i)=>{const s=e.up(i);return r[s]={},r},{}))||{}}function dO(e,t){return e.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},t)}function d1e(e,...t){const n=uO(e),r=[n,...t].reduce((i,s)=>_s(i,s),{});return dO(Object.keys(n),r)}function bZ(e,t){if(typeof e!="object")return{};const n={},r=Object.keys(t);return Array.isArray(e)?r.forEach((i,s)=>{s<e.length&&(n[i]=!0)}):r.forEach(i=>{e[i]!=null&&(n[i]=!0)}),n}function f1e({values:e,breakpoints:t,base:n}){const r=n||bZ(e,t),i=Object.keys(r);if(i.length===0)return e;let s;return i.reduce((o,a,l)=>(Array.isArray(e)?(o[a]=e[l]!=null?e[l]:e[s],s=l):typeof e=="object"?(o[a]=e[a]!=null?e[a]:e[s],s=a):o[a]=e,o),{})}function V0(e,t,n=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&n){const r=`vars.${t}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,e);if(r!=null)return r}return t.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,e)}function Wg(e,t,n,r=n){let i;return typeof e=="function"?i=e(n):Array.isArray(e)?i=e[n]||r:i=V0(e,n)||r,t&&(i=t(i,r,e)),i}function En(e){const{prop:t,cssProperty:n=e.prop,themeKey:r,transform:i}=e,s=o=>{if(o[t]==null)return null;const a=o[t],l=o.theme,c=V0(l,r)||{};return Eo(o,a,d=>{let h=Wg(c,i,d);return d===h&&typeof d=="string"&&(h=Wg(c,i,`${t}${d==="default"?"":Zn(d)}`,d)),n===!1?h:{[n]:h}})};return s.propTypes={},s.filterProps=[t],s}function SZ(e){const t={};return n=>(t[n]===void 0&&(t[n]=e(n)),t[n])}const xZ={m:"margin",p:"padding"},wZ={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},rT={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},EZ=SZ(e=>{if(e.length>2)if(rT[e])e=rT[e];else return[e];const[t,n]=e.split(""),r=xZ[t],i=wZ[n]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),QS=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],JS=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...QS,...JS];function uh(e,t,n,r){var i;const s=(i=V0(e,t,!1))!=null?i:n;return typeof s=="number"?o=>typeof o=="string"?o:s*o:Array.isArray(s)?o=>typeof o=="string"?o:s[o]:typeof s=="function"?s:()=>{}}function fO(e){return uh(e,"spacing",8)}function dh(e,t){if(typeof t=="string"||t==null)return t;const n=Math.abs(t),r=e(n);return t>=0?r:typeof r=="number"?-r:`-${r}`}function kZ(e,t){return n=>e.reduce((r,i)=>(r[i]=dh(t,n),r),{})}function CZ(e,t,n,r){if(t.indexOf(n)===-1)return null;const i=EZ(n),s=kZ(i,r),o=e[n];return Eo(e,o,s)}function hO(e,t){const n=fO(e.theme);return Object.keys(e).map(r=>CZ(e,t,r,n)).reduce(Ld,{})}function dn(e){return hO(e,QS)}dn.propTypes={};dn.filterProps=QS;function fn(e){return hO(e,JS)}fn.propTypes={};fn.filterProps=JS;function TZ(e=8){if(e.mui)return e;const t=fO({spacing:e}),n=(...r)=>(r.length===0?[1]:r).map(s=>{const o=t(s);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}function L0(...e){const t=e.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),n=r=>Object.keys(r).reduce((i,s)=>t[s]?Ld(i,t[s](r)):i,{});return n.propTypes={},n.filterProps=e.reduce((r,i)=>r.concat(i.filterProps),[]),n}function Vi(e){return typeof e!="number"?e:`${e}px solid`}function es(e,t){return En({prop:e,themeKey:"borders",transform:t})}const IZ=es("border",Vi),RZ=es("borderTop",Vi),MZ=es("borderRight",Vi),PZ=es("borderBottom",Vi),jZ=es("borderLeft",Vi),OZ=es("borderColor"),VZ=es("borderTopColor"),LZ=es("borderRightColor"),NZ=es("borderBottomColor"),BZ=es("borderLeftColor"),DZ=es("outline",Vi),$Z=es("outlineColor"),N0=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=uh(e.theme,"shape.borderRadius",4),n=r=>({borderRadius:dh(t,r)});return Eo(e,e.borderRadius,n)}return null};N0.propTypes={};N0.filterProps=["borderRadius"];L0(IZ,RZ,MZ,PZ,jZ,OZ,VZ,LZ,NZ,BZ,N0,DZ,$Z);const B0=e=>{if(e.gap!==void 0&&e.gap!==null){const t=uh(e.theme,"spacing",8),n=r=>({gap:dh(t,r)});return Eo(e,e.gap,n)}return null};B0.propTypes={};B0.filterProps=["gap"];const D0=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=uh(e.theme,"spacing",8),n=r=>({columnGap:dh(t,r)});return Eo(e,e.columnGap,n)}return null};D0.propTypes={};D0.filterProps=["columnGap"];const $0=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=uh(e.theme,"spacing",8),n=r=>({rowGap:dh(t,r)});return Eo(e,e.rowGap,n)}return null};$0.propTypes={};$0.filterProps=["rowGap"];const FZ=En({prop:"gridColumn"}),zZ=En({prop:"gridRow"}),UZ=En({prop:"gridAutoFlow"}),HZ=En({prop:"gridAutoColumns"}),GZ=En({prop:"gridAutoRows"}),qZ=En({prop:"gridTemplateColumns"}),WZ=En({prop:"gridTemplateRows"}),KZ=En({prop:"gridTemplateAreas"}),YZ=En({prop:"gridArea"});L0(B0,D0,$0,FZ,zZ,UZ,HZ,GZ,qZ,WZ,KZ,YZ);function Pc(e,t){return t==="grey"?t:e}const QZ=En({prop:"color",themeKey:"palette",transform:Pc}),JZ=En({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Pc}),XZ=En({prop:"backgroundColor",themeKey:"palette",transform:Pc});L0(QZ,JZ,XZ);function oi(e){return e<=1&&e!==0?`${e*100}%`:e}const ZZ=En({prop:"width",transform:oi}),XS=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=n=>{var r,i;const s=((r=e.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[n])||YS[n];return s?((i=e.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${s}${e.theme.breakpoints.unit}`}:{maxWidth:s}:{maxWidth:oi(n)}};return Eo(e,e.maxWidth,t)}return null};XS.filterProps=["maxWidth"];const eee=En({prop:"minWidth",transform:oi}),tee=En({prop:"height",transform:oi}),nee=En({prop:"maxHeight",transform:oi}),ree=En({prop:"minHeight",transform:oi});En({prop:"size",cssProperty:"width",transform:oi});En({prop:"size",cssProperty:"height",transform:oi});const iee=En({prop:"boxSizing"});L0(ZZ,XS,eee,tee,nee,ree,iee);const see={border:{themeKey:"borders",transform:Vi},borderTop:{themeKey:"borders",transform:Vi},borderRight:{themeKey:"borders",transform:Vi},borderBottom:{themeKey:"borders",transform:Vi},borderLeft:{themeKey:"borders",transform:Vi},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Vi},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:N0},color:{themeKey:"palette",transform:Pc},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Pc},backgroundColor:{themeKey:"palette",transform:Pc},p:{style:fn},pt:{style:fn},pr:{style:fn},pb:{style:fn},pl:{style:fn},px:{style:fn},py:{style:fn},padding:{style:fn},paddingTop:{style:fn},paddingRight:{style:fn},paddingBottom:{style:fn},paddingLeft:{style:fn},paddingX:{style:fn},paddingY:{style:fn},paddingInline:{style:fn},paddingInlineStart:{style:fn},paddingInlineEnd:{style:fn},paddingBlock:{style:fn},paddingBlockStart:{style:fn},paddingBlockEnd:{style:fn},m:{style:dn},mt:{style:dn},mr:{style:dn},mb:{style:dn},ml:{style:dn},mx:{style:dn},my:{style:dn},margin:{style:dn},marginTop:{style:dn},marginRight:{style:dn},marginBottom:{style:dn},marginLeft:{style:dn},marginX:{style:dn},marginY:{style:dn},marginInline:{style:dn},marginInlineStart:{style:dn},marginInlineEnd:{style:dn},marginBlock:{style:dn},marginBlockStart:{style:dn},marginBlockEnd:{style:dn},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:B0},rowGap:{style:$0},columnGap:{style:D0},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:oi},maxWidth:{style:XS},minWidth:{transform:oi},height:{transform:oi},maxHeight:{transform:oi},minHeight:{transform:oi},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},fh=see;function oee(...e){const t=e.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(t);return e.every(r=>n.size===Object.keys(r).length)}function aee(e,t){return typeof e=="function"?e(t):e}function pO(){function e(n,r,i,s){const o={[n]:r,theme:i},a=s[n];if(!a)return{[n]:r};const{cssProperty:l=n,themeKey:c,transform:u,style:d}=a;if(r==null)return null;if(c==="typography"&&r==="inherit")return{[n]:r};const h=V0(i,c)||{};return d?d(o):Eo(o,r,g=>{let m=Wg(h,u,g);return g===m&&typeof g=="string"&&(m=Wg(h,u,`${n}${g==="default"?"":Zn(g)}`,g)),l===!1?m:{[l]:m}})}function t(n){var r;const{sx:i,theme:s={}}=n||{};if(!i)return null;const o=(r=s.unstable_sxConfig)!=null?r:fh;function a(l){let c=l;if(typeof l=="function")c=l(s);else if(typeof l!="object")return l;if(!c)return null;const u=uO(s.breakpoints),d=Object.keys(u);let h=u;return Object.keys(c).forEach(p=>{const g=aee(c[p],s);if(g!=null)if(typeof g=="object")if(o[p])h=Ld(h,e(p,g,s,o));else{const m=Eo({theme:s},g,_=>({[p]:_}));oee(m,g)?h[p]=t({sx:g,theme:s}):h=Ld(h,m)}else h=Ld(h,e(p,g,s,o))}),dO(d,h)}return Array.isArray(i)?i.map(a):a(i)}return t}const gO=pO();gO.filterProps=["sx"];const ZS=gO;function mO(e,t){const n=this;return n.vars&&typeof n.getColorSchemeSelector=="function"?{[n.getColorSchemeSelector(e).replace(/(\[[^\]]+\])/,"*:where($1)")]:t}:n.palette.mode===e?t:{}}const lee=["breakpoints","palette","spacing","shape"];function vO(e={},...t){const{breakpoints:n={},palette:r={},spacing:i,shape:s={}}=e,o=Er(e,lee),a=cO(n),l=TZ(i);let c=_s({breakpoints:a,direction:"ltr",components:{},palette:Oe({mode:"light"},r),spacing:l,shape:Oe({},_Z,s)},o);return c.applyStyles=mO,c=t.reduce((u,d)=>_s(u,d),c),c.unstable_sxConfig=Oe({},fh,o==null?void 0:o.unstable_sxConfig),c.unstable_sx=function(d){return ZS({sx:d,theme:this})},c}const cee=Object.freeze(Object.defineProperty({__proto__:null,default:vO,private_createBreakpoints:cO,unstable_applyStyles:mO},Symbol.toStringTag,{value:"Module"})),uee=no(cee),dee=["sx"],fee=e=>{var t,n;const r={systemProps:{},otherProps:{}},i=(t=e==null||(n=e.theme)==null?void 0:n.unstable_sxConfig)!=null?t:fh;return Object.keys(e).forEach(s=>{i[s]?r.systemProps[s]=e[s]:r.otherProps[s]=e[s]}),r};function hee(e){const{sx:t}=e,n=Er(e,dee),{systemProps:r,otherProps:i}=fee(n);let s;return Array.isArray(t)?s=[r,...t]:typeof t=="function"?s=(...o)=>{const a=t(...o);return Wo(a)?Oe({},r,a):r}:s=Oe({},r,t),Oe({},i,{sx:s})}const pee=Object.freeze(Object.defineProperty({__proto__:null,default:ZS,extendSxProp:hee,unstable_createStyleFunctionSx:pO,unstable_defaultSxConfig:fh},Symbol.toStringTag,{value:"Module"})),gee=no(pee);var Iu=ot;Object.defineProperty(ch,"__esModule",{value:!0});var mee=ch.default=Iee;ch.shouldForwardProp=Xp;ch.systemDefaultTheme=void 0;var Ii=Iu(iZ()),B1=Iu(sZ()),iT=xee(hZ),vee=pZ;Iu(gZ);Iu(mZ);var yee=Iu(uee),Aee=Iu(gee);const _ee=["ownerState"],bee=["variants"],See=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function yO(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(yO=function(r){return r?n:t})(e)}function xee(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=yO(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(s!=="default"&&Object.prototype.hasOwnProperty.call(e,s)){var o=i?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=e[s]}return r.default=e,n&&n.set(e,r),r}function wee(e){return Object.keys(e).length===0}function Eee(e){return typeof e=="string"&&e.charCodeAt(0)>96}function Xp(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const kee=ch.systemDefaultTheme=(0,yee.default)(),Cee=e=>e&&e.charAt(0).toLowerCase()+e.slice(1);function tp({defaultTheme:e,theme:t,themeId:n}){return wee(t)?e:t[n]||t}function Tee(e){return e?(t,n)=>n[e]:null}function Zp(e,t){let{ownerState:n}=t,r=(0,B1.default)(t,_ee);const i=typeof e=="function"?e((0,Ii.default)({ownerState:n},r)):e;if(Array.isArray(i))return i.flatMap(s=>Zp(s,(0,Ii.default)({ownerState:n},r)));if(i&&typeof i=="object"&&Array.isArray(i.variants)){const{variants:s=[]}=i;let a=(0,B1.default)(i,bee);return s.forEach(l=>{let c=!0;typeof l.props=="function"?c=l.props((0,Ii.default)({ownerState:n},r,n)):Object.keys(l.props).forEach(u=>{(n==null?void 0:n[u])!==l.props[u]&&r[u]!==l.props[u]&&(c=!1)}),c&&(Array.isArray(a)||(a=[a]),a.push(typeof l.style=="function"?l.style((0,Ii.default)({ownerState:n},r,n)):l.style))}),a}return i}function Iee(e={}){const{themeId:t,defaultTheme:n=kee,rootShouldForwardProp:r=Xp,slotShouldForwardProp:i=Xp}=e,s=o=>(0,Aee.default)((0,Ii.default)({},o,{theme:tp((0,Ii.default)({},o,{defaultTheme:n,themeId:t}))}));return s.__mui_systemSx=!0,(o,a={})=>{(0,iT.internal_processStyles)(o,b=>b.filter(w=>!(w!=null&&w.__mui_systemSx)));const{name:l,slot:c,skipVariantsResolver:u,skipSx:d,overridesResolver:h=Tee(Cee(c))}=a,p=(0,B1.default)(a,See),g=u!==void 0?u:c&&c!=="Root"&&c!=="root"||!1,m=d||!1;let _,v=Xp;c==="Root"||c==="root"?v=r:c?v=i:Eee(o)&&(v=void 0);const y=(0,iT.default)(o,(0,Ii.default)({shouldForwardProp:v,label:_},p)),S=b=>typeof b=="function"&&b.__emotion_real!==b||(0,vee.isPlainObject)(b)?w=>Zp(b,(0,Ii.default)({},w,{theme:tp({theme:w.theme,defaultTheme:n,themeId:t})})):b,x=(b,...w)=>{let E=S(b);const T=w?w.map(S):[];l&&h&&T.push(B=>{const K=tp((0,Ii.default)({},B,{defaultTheme:n,themeId:t}));if(!K.components||!K.components[l]||!K.components[l].styleOverrides)return null;const P=K.components[l].styleOverrides,L={};return Object.entries(P).forEach(([R,I])=>{L[R]=Zp(I,(0,Ii.default)({},B,{theme:K}))}),h(B,L)}),l&&!g&&T.push(B=>{var K;const P=tp((0,Ii.default)({},B,{defaultTheme:n,themeId:t})),L=P==null||(K=P.components)==null||(K=K[l])==null?void 0:K.variants;return Zp({variants:L},(0,Ii.default)({},B,{theme:P}))}),m||T.push(s);const $=T.length-w.length;if(Array.isArray(b)&&$>0){const B=new Array($).fill("");E=[...b,...B],E.raw=[...b.raw,...B]}const N=y(E,...T);return o.muiName&&(N.muiName=o.muiName),N};return y.withConfig&&(x.withConfig=y.withConfig),x}}function Ree(e,t){return Oe({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},t)}var kn={};const Mee=no(xX),Pee=no(eZ);var AO=ot;Object.defineProperty(kn,"__esModule",{value:!0});var sT=kn.alpha=xO;kn.blend=Gee;kn.colorChannel=void 0;var jee=kn.darken=tx;kn.decomposeColor=Wi;kn.emphasize=wO;var Oee=kn.getContrastRatio=$ee;kn.getLuminance=Kg;kn.hexToRgb=_O;kn.hslToRgb=SO;var Vee=kn.lighten=nx;kn.private_safeAlpha=Fee;kn.private_safeColorChannel=void 0;kn.private_safeDarken=zee;kn.private_safeEmphasize=Hee;kn.private_safeLighten=Uee;kn.recomposeColor=Ru;kn.rgbToHex=Dee;var oT=AO(Mee),Lee=AO(Pee);function ex(e,t=0,n=1){return(0,Lee.default)(e,t,n)}function _O(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function Nee(e){const t=e.toString(16);return t.length===1?`0${t}`:t}function Wi(e){if(e.type)return e;if(e.charAt(0)==="#")return Wi(_O(e));const t=e.indexOf("("),n=e.substring(0,t);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error((0,oT.default)(9,e));let r=e.substring(t+1,e.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error((0,oT.default)(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}const bO=e=>{const t=Wi(e);return t.values.slice(0,3).map((n,r)=>t.type.indexOf("hsl")!==-1&&r!==0?`${n}%`:n).join(" ")};kn.colorChannel=bO;const Bee=(e,t)=>{try{return bO(e)}catch{return e}};kn.private_safeColorChannel=Bee;function Ru(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return t.indexOf("rgb")!==-1?r=r.map((i,s)=>s<3?parseInt(i,10):i):t.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),t.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${t}(${r})`}function Dee(e){if(e.indexOf("#")===0)return e;const{values:t}=Wi(e);return`#${t.map((n,r)=>Nee(r===3?Math.round(255*n):n)).join("")}`}function SO(e){e=Wi(e);const{values:t}=e,n=t[0],r=t[1]/100,i=t[2]/100,s=r*Math.min(i,1-i),o=(c,u=(c+n/30)%12)=>i-s*Math.max(Math.min(u-3,9-u,1),-1);let a="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return e.type==="hsla"&&(a+="a",l.push(t[3])),Ru({type:a,values:l})}function Kg(e){e=Wi(e);let t=e.type==="hsl"||e.type==="hsla"?Wi(SO(e)).values:e.values;return t=t.map(n=>(e.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function $ee(e,t){const n=Kg(e),r=Kg(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function xO(e,t){return e=Wi(e),t=ex(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,Ru(e)}function Fee(e,t,n){try{return xO(e,t)}catch{return e}}function tx(e,t){if(e=Wi(e),t=ex(t),e.type.indexOf("hsl")!==-1)e.values[2]*=1-t;else if(e.type.indexOf("rgb")!==-1||e.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)e.values[n]*=1-t;return Ru(e)}function zee(e,t,n){try{return tx(e,t)}catch{return e}}function nx(e,t){if(e=Wi(e),t=ex(t),e.type.indexOf("hsl")!==-1)e.values[2]+=(100-e.values[2])*t;else if(e.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(e.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return Ru(e)}function Uee(e,t,n){try{return nx(e,t)}catch{return e}}function wO(e,t=.15){return Kg(e)>.5?tx(e,t):nx(e,t)}function Hee(e,t,n){try{return wO(e,t)}catch{return e}}function Gee(e,t,n,r=1){const i=(l,c)=>Math.round((l**(1/r)*(1-n)+c**(1/r)*n)**r),s=Wi(e),o=Wi(t),a=[i(s.values[0],o.values[0]),i(s.values[1],o.values[1]),i(s.values[2],o.values[2])];return Ru({type:"rgb",values:a})}const qee={black:"#000",white:"#fff"},_f=qee,Wee={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Kee=Wee,Yee={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},ql=Yee,Qee={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Wl=Qee,Jee={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Ku=Jee,Xee={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Kl=Xee,Zee={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Yl=Zee,ete={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Ql=ete,tte=["mode","contrastThreshold","tonalOffset"],aT={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:_f.white,default:_f.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},gy={text:{primary:_f.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:_f.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function lT(e,t,n,r){const i=r.light||r,s=r.dark||r*1.5;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:t==="light"?e.light=Vee(e.main,i):t==="dark"&&(e.dark=jee(e.main,s)))}function nte(e="light"){return e==="dark"?{main:Kl[200],light:Kl[50],dark:Kl[400]}:{main:Kl[700],light:Kl[400],dark:Kl[800]}}function rte(e="light"){return e==="dark"?{main:ql[200],light:ql[50],dark:ql[400]}:{main:ql[500],light:ql[300],dark:ql[700]}}function ite(e="light"){return e==="dark"?{main:Wl[500],light:Wl[300],dark:Wl[700]}:{main:Wl[700],light:Wl[400],dark:Wl[800]}}function ste(e="light"){return e==="dark"?{main:Yl[400],light:Yl[300],dark:Yl[700]}:{main:Yl[700],light:Yl[500],dark:Yl[900]}}function ote(e="light"){return e==="dark"?{main:Ql[400],light:Ql[300],dark:Ql[700]}:{main:Ql[800],light:Ql[500],dark:Ql[900]}}function ate(e="light"){return e==="dark"?{main:Ku[400],light:Ku[300],dark:Ku[700]}:{main:"#ed6c02",light:Ku[500],dark:Ku[900]}}function lte(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:r=.2}=e,i=Er(e,tte),s=e.primary||nte(t),o=e.secondary||rte(t),a=e.error||ite(t),l=e.info||ste(t),c=e.success||ote(t),u=e.warning||ate(t);function d(m){return Oee(m,gy.text.primary)>=n?gy.text.primary:aT.text.primary}const h=({color:m,name:_,mainShade:v=500,lightShade:y=300,darkShade:S=700})=>{if(m=Oe({},m),!m.main&&m[v]&&(m.main=m[v]),!m.hasOwnProperty("main"))throw new Error(bl(11,_?` (${_})`:"",v));if(typeof m.main!="string")throw new Error(bl(12,_?` (${_})`:"",JSON.stringify(m.main)));return lT(m,"light",y,r),lT(m,"dark",S,r),m.contrastText||(m.contrastText=d(m.main)),m},p={dark:gy,light:aT};return _s(Oe({common:Oe({},_f),mode:t,primary:h({color:s,name:"primary"}),secondary:h({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:h({color:a,name:"error"}),warning:h({color:u,name:"warning"}),info:h({color:l,name:"info"}),success:h({color:c,name:"success"}),grey:Kee,contrastThreshold:n,getContrastText:d,augmentColor:h,tonalOffset:r},p[t]),i)}const cte=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function ute(e){return Math.round(e*1e5)/1e5}const cT={textTransform:"uppercase"},uT='"Roboto", "Helvetica", "Arial", sans-serif';function dte(e,t){const n=typeof t=="function"?t(e):t,{fontFamily:r=uT,fontSize:i=14,fontWeightLight:s=300,fontWeightRegular:o=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:c=16,allVariants:u,pxToRem:d}=n,h=Er(n,cte),p=i/14,g=d||(v=>`${v/c*p}rem`),m=(v,y,S,x,b)=>Oe({fontFamily:r,fontWeight:v,fontSize:g(y),lineHeight:S},r===uT?{letterSpacing:`${ute(x/y)}em`}:{},b,u),_={h1:m(s,96,1.167,-1.5),h2:m(s,60,1.2,-.5),h3:m(o,48,1.167,0),h4:m(o,34,1.235,.25),h5:m(o,24,1.334,0),h6:m(a,20,1.6,.15),subtitle1:m(o,16,1.75,.15),subtitle2:m(a,14,1.57,.1),body1:m(o,16,1.5,.15),body2:m(o,14,1.43,.15),button:m(a,14,1.75,.4,cT),caption:m(o,12,1.66,.4),overline:m(o,12,2.66,1,cT),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return _s(Oe({htmlFontSize:c,pxToRem:g,fontFamily:r,fontSize:i,fontWeightLight:s,fontWeightRegular:o,fontWeightMedium:a,fontWeightBold:l},_),h,{clone:!1})}const fte=.2,hte=.14,pte=.12;function Yt(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${fte})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${hte})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${pte})`].join(",")}const gte=["none",Yt(0,2,1,-1,0,1,1,0,0,1,3,0),Yt(0,3,1,-2,0,2,2,0,0,1,5,0),Yt(0,3,3,-2,0,3,4,0,0,1,8,0),Yt(0,2,4,-1,0,4,5,0,0,1,10,0),Yt(0,3,5,-1,0,5,8,0,0,1,14,0),Yt(0,3,5,-1,0,6,10,0,0,1,18,0),Yt(0,4,5,-2,0,7,10,1,0,2,16,1),Yt(0,5,5,-3,0,8,10,1,0,3,14,2),Yt(0,5,6,-3,0,9,12,1,0,3,16,2),Yt(0,6,6,-3,0,10,14,1,0,4,18,3),Yt(0,6,7,-4,0,11,15,1,0,4,20,3),Yt(0,7,8,-4,0,12,17,2,0,5,22,4),Yt(0,7,8,-4,0,13,19,2,0,5,24,4),Yt(0,7,9,-4,0,14,21,2,0,5,26,4),Yt(0,8,9,-5,0,15,22,2,0,6,28,5),Yt(0,8,10,-5,0,16,24,2,0,6,30,5),Yt(0,8,11,-5,0,17,26,2,0,6,32,5),Yt(0,9,11,-5,0,18,28,2,0,7,34,6),Yt(0,9,12,-6,0,19,29,2,0,7,36,6),Yt(0,10,13,-6,0,20,31,3,0,8,38,7),Yt(0,10,13,-6,0,21,33,3,0,8,40,7),Yt(0,10,14,-6,0,22,35,3,0,8,42,7),Yt(0,11,14,-7,0,23,36,3,0,9,44,8),Yt(0,11,15,-7,0,24,38,3,0,9,46,8)],mte=["duration","easing","delay"],vte={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},yte={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function dT(e){return`${Math.round(e)}ms`}function Ate(e){if(!e)return 0;const t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function _te(e){const t=Oe({},vte,e.easing),n=Oe({},yte,e.duration);return Oe({getAutoHeightDuration:Ate,create:(i=["all"],s={})=>{const{duration:o=n.standard,easing:a=t.easeInOut,delay:l=0}=s;return Er(s,mte),(Array.isArray(i)?i:[i]).map(c=>`${c} ${typeof o=="string"?o:dT(o)} ${a} ${typeof l=="string"?l:dT(l)}`).join(",")}},e,{easing:t,duration:n})}const bte={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},Ste=bte,xte=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function EO(e={},...t){const{mixins:n={},palette:r={},transitions:i={},typography:s={}}=e,o=Er(e,xte);if(e.vars)throw new Error(bl(18));const a=lte(r),l=vO(e);let c=_s(l,{mixins:Ree(l.breakpoints,n),palette:a,shadows:gte.slice(),typography:dte(a,s),transitions:_te(i),zIndex:Oe({},Ste)});return c=_s(c,o),c=t.reduce((u,d)=>_s(u,d),c),c.unstable_sxConfig=Oe({},fh,o==null?void 0:o.unstable_sxConfig),c.unstable_sx=function(d){return ZS({sx:d,theme:this})},c}const wte=EO(),Ete=wte,D1="$$material";function kte(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const Cte=e=>kte(e)&&e!=="classes",Vo=mee({themeId:D1,defaultTheme:Ete,rootShouldForwardProp:Cte});function Tte(e){return ku("MuiSvgIcon",e)}Cu("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const Ite=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],Rte=e=>{const{color:t,fontSize:n,classes:r}=e,i={root:["root",t!=="inherit"&&`color${Zn(t)}`,`fontSize${Zn(n)}`]};return lh(i,Tte,r)},Mte=Vo("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="inherit"&&t[`color${Zn(n.color)}`],t[`fontSize${Zn(n.fontSize)}`]]}})(({theme:e,ownerState:t})=>{var n,r,i,s,o,a,l,c,u,d,h,p,g;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:t.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(n=e.transitions)==null||(r=n.create)==null?void 0:r.call(n,"fill",{duration:(i=e.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((s=e.typography)==null||(o=s.pxToRem)==null?void 0:o.call(s,20))||"1.25rem",medium:((a=e.typography)==null||(l=a.pxToRem)==null?void 0:l.call(a,24))||"1.5rem",large:((c=e.typography)==null||(u=c.pxToRem)==null?void 0:u.call(c,35))||"2.1875rem"}[t.fontSize],color:(d=(h=(e.vars||e).palette)==null||(h=h[t.color])==null?void 0:h.main)!=null?d:{action:(p=(e.vars||e).palette)==null||(p=p.action)==null?void 0:p.active,disabled:(g=(e.vars||e).palette)==null||(g=g.action)==null?void 0:g.disabled,inherit:void 0}[t.color]}}),$1=A.forwardRef(function(t,n){const r=Tu({props:t,name:"MuiSvgIcon"}),{children:i,className:s,color:o="inherit",component:a="svg",fontSize:l="medium",htmlColor:c,inheritViewBox:u=!1,titleAccess:d,viewBox:h="0 0 24 24"}=r,p=Er(r,Ite),g=A.isValidElement(i)&&i.type==="svg",m=Oe({},r,{color:o,component:a,fontSize:l,instanceFontSize:t.fontSize,inheritViewBox:u,viewBox:h,hasSvgAsChild:g}),_={};u||(_.viewBox=h);const v=Rte(m);return f.jsxs(Mte,Oe({as:a,className:Fr(v.root,s),focusable:"false",color:c,"aria-hidden":d?void 0:!0,role:d?"img":void 0,ref:n},_,p,g&&i.props,{ownerState:m,children:[g?i.props.children:i,d?f.jsx("title",{children:d}):null]}))});$1.muiName="SvgIcon";function Pte(e,t){function n(r,i){return f.jsx($1,Oe({"data-testid":`${t}Icon`,ref:i},r,{children:e}))}return n.muiName=$1.muiName,A.memo(A.forwardRef(n))}const jte={configure:e=>{sO.configure(e)}},Ote=Object.freeze(Object.defineProperty({__proto__:null,capitalize:Zn,createChainedFunction:RX,createSvgIcon:Pte,debounce:MX,deprecatedPropType:PX,isMuiElement:jX,ownerDocument:tO,ownerWindow:OX,requirePropFactory:VX,setRef:nO,unstable_ClassNameGenerator:jte,unstable_useEnhancedEffect:rO,unstable_useId:NX,unsupportedProp:BX,useControlled:DX,useEventCallback:gd,useForkRef:j1,useIsFocusVisible:iO},Symbol.toStringTag,{value:"Module"})),Vte=no(Ote);var fT;function ut(){return fT||(fT=1,function(e){"use client";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.createSvgIcon}});var t=Vte}(dy)),dy}var Lte=ot;Object.defineProperty(qS,"__esModule",{value:!0});var kO=qS.default=void 0,Nte=Lte(ut()),Bte=f;kO=qS.default=(0,Nte.default)((0,Bte.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 17h-2v-2h2zm2.07-7.75-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25"}),"Help");var rx={},Dte=ot;Object.defineProperty(rx,"__esModule",{value:!0});var CO=rx.default=void 0,$te=Dte(ut()),Fte=f;CO=rx.default=(0,$te.default)((0,Fte.jsx)("path",{d:"M11 18h2v-2h-2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4"}),"HelpOutline");var ix={},zte=ot;Object.defineProperty(ix,"__esModule",{value:!0});var bf=ix.default=void 0,Ute=zte(ut()),Hte=f;bf=ix.default=(0,Ute.default)((0,Hte.jsx)("path",{d:"M15 21h-2v-2h2zm-2-7h-2v5h2zm8-2h-2v4h2zm-2-2h-2v2h2zM7 12H5v2h2zm-2-2H3v2h2zm7-5h2V3h-2zm-7.5-.5v3h3v-3zM9 9H3V3h6zm-4.5 7.5v3h3v-3zM9 21H3v-6h6zm7.5-16.5v3h3v-3zM21 9h-6V3h6zm-2 10v-3h-4v2h2v3h4v-2zm-2-7h-4v2h4zm-4-2H7v2h2v2h2v-2h2zm1-1V7h-2V5h-2v4zM6.75 5.25h-1.5v1.5h1.5zm0 12h-1.5v1.5h1.5zm12-12h-1.5v1.5h1.5z"}),"QrCode2");function F1(e,t){return F1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},F1(e,t)}function Gte(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,F1(e,t)}var TO={exports:{}},bi={},IO={exports:{}},RO={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(j,z){var V=j.length;j.push(z);e:for(;0<V;){var G=V-1>>>1,U=j[G];if(0<i(U,z))j[G]=z,j[V]=U,V=G;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var z=j[0],V=j.pop();if(V!==z){j[0]=V;e:for(var G=0,U=j.length,ne=U>>>1;G<ne;){var O=2*(G+1)-1,de=j[O],Z=O+1,oe=j[Z];if(0>i(de,V))Z<U&&0>i(oe,de)?(j[G]=oe,j[Z]=V,G=Z):(j[G]=de,j[O]=V,G=O);else if(Z<U&&0>i(oe,V))j[G]=oe,j[Z]=V,G=Z;else break e}}return z}function i(j,z){var V=j.sortIndex-z.sortIndex;return V!==0?V:j.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,h=3,p=!1,g=!1,m=!1,_=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(j){for(var z=n(c);z!==null;){if(z.callback===null)r(c);else if(z.startTime<=j)r(c),z.sortIndex=z.expirationTime,t(l,z);else break;z=n(c)}}function x(j){if(m=!1,S(j),!g)if(n(l)!==null)g=!0,I(b);else{var z=n(c);z!==null&&F(x,z.startTime-j)}}function b(j,z){g=!1,m&&(m=!1,v(T),T=-1),p=!0;var V=h;try{for(S(z),d=n(l);d!==null&&(!(d.expirationTime>z)||j&&!B());){var G=d.callback;if(typeof G=="function"){d.callback=null,h=d.priorityLevel;var U=G(d.expirationTime<=z);z=e.unstable_now(),typeof U=="function"?d.callback=U:d===n(l)&&r(l),S(z)}else r(l);d=n(l)}if(d!==null)var ne=!0;else{var O=n(c);O!==null&&F(x,O.startTime-z),ne=!1}return ne}finally{d=null,h=V,p=!1}}var w=!1,E=null,T=-1,$=5,N=-1;function B(){return!(e.unstable_now()-N<$)}function K(){if(E!==null){var j=e.unstable_now();N=j;var z=!0;try{z=E(!0,j)}finally{z?P():(w=!1,E=null)}}else w=!1}var P;if(typeof y=="function")P=function(){y(K)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,R=L.port2;L.port1.onmessage=K,P=function(){R.postMessage(null)}}else P=function(){_(K,0)};function I(j){E=j,w||(w=!0,P())}function F(j,z){T=_(function(){j(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(j){j.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,I(b))},e.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<j?Math.floor(1e3/j):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(j){switch(h){case 1:case 2:case 3:var z=3;break;default:z=h}var V=h;h=z;try{return j()}finally{h=V}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(j,z){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var V=h;h=j;try{return z()}finally{h=V}},e.unstable_scheduleCallback=function(j,z,V){var G=e.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?G+V:G):V=G,j){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=V+U,j={id:u++,callback:z,priorityLevel:j,startTime:V,expirationTime:U,sortIndex:-1},V>G?(j.sortIndex=V,t(c,j),n(l)===null&&j===n(c)&&(m?(v(T),T=-1):m=!0,F(x,V-G))):(j.sortIndex=U,t(l,j),g||p||(g=!0,I(b))),j},e.unstable_shouldYield=B,e.unstable_wrapCallback=function(j){var z=h;return function(){var V=h;h=z;try{return j.apply(this,arguments)}finally{h=V}}}})(RO);IO.exports=RO;var qte=IO.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MO=A,vi=qte;function se(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var PO=new Set,Sf={};function Dl(e,t){nu(e,t),nu(e+"Capture",t)}function nu(e,t){for(Sf[e]=t,e=0;e<t.length;e++)PO.add(t[e])}var ko=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),z1=Object.prototype.hasOwnProperty,Wte=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,hT={},pT={};function Kte(e){return z1.call(pT,e)?!0:z1.call(hT,e)?!1:Wte.test(e)?pT[e]=!0:(hT[e]=!0,!1)}function Yte(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Qte(e,t,n,r){if(t===null||typeof t>"u"||Yte(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Nr(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var fr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){fr[e]=new Nr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];fr[t]=new Nr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){fr[e]=new Nr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){fr[e]=new Nr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){fr[e]=new Nr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){fr[e]=new Nr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){fr[e]=new Nr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){fr[e]=new Nr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){fr[e]=new Nr(e,5,!1,e.toLowerCase(),null,!1,!1)});var sx=/[\-:]([a-z])/g;function ox(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(sx,ox);fr[t]=new Nr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(sx,ox);fr[t]=new Nr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(sx,ox);fr[t]=new Nr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){fr[e]=new Nr(e,1,!1,e.toLowerCase(),null,!1,!1)});fr.xlinkHref=new Nr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){fr[e]=new Nr(e,1,!1,e.toLowerCase(),null,!0,!0)});function ax(e,t,n,r){var i=fr.hasOwnProperty(t)?fr[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Qte(t,n,i,r)&&(n=null),r||i===null?Kte(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Lo=MO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,np=Symbol.for("react.element"),lc=Symbol.for("react.portal"),cc=Symbol.for("react.fragment"),lx=Symbol.for("react.strict_mode"),U1=Symbol.for("react.profiler"),jO=Symbol.for("react.provider"),OO=Symbol.for("react.context"),cx=Symbol.for("react.forward_ref"),H1=Symbol.for("react.suspense"),G1=Symbol.for("react.suspense_list"),ux=Symbol.for("react.memo"),Go=Symbol.for("react.lazy"),VO=Symbol.for("react.offscreen"),gT=Symbol.iterator;function Yu(e){return e===null||typeof e!="object"?null:(e=gT&&e[gT]||e["@@iterator"],typeof e=="function"?e:null)}var cn=Object.assign,my;function md(e){if(my===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);my=t&&t[1]||""}return`
`+my+e}var vy=!1;function yy(e,t){if(!e||vy)return"";vy=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{vy=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?md(e):""}function Jte(e){switch(e.tag){case 5:return md(e.type);case 16:return md("Lazy");case 13:return md("Suspense");case 19:return md("SuspenseList");case 0:case 2:case 15:return e=yy(e.type,!1),e;case 11:return e=yy(e.type.render,!1),e;case 1:return e=yy(e.type,!0),e;default:return""}}function q1(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case cc:return"Fragment";case lc:return"Portal";case U1:return"Profiler";case lx:return"StrictMode";case H1:return"Suspense";case G1:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case OO:return(e.displayName||"Context")+".Consumer";case jO:return(e._context.displayName||"Context")+".Provider";case cx:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ux:return t=e.displayName||null,t!==null?t:q1(e.type)||"Memo";case Go:t=e._payload,e=e._init;try{return q1(e(t))}catch{}}return null}function Xte(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q1(t);case 8:return t===lx?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function _a(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function LO(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Zte(e){var t=LO(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function rp(e){e._valueTracker||(e._valueTracker=Zte(e))}function NO(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=LO(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Yg(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function W1(e,t){var n=t.checked;return cn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function mT(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=_a(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function BO(e,t){t=t.checked,t!=null&&ax(e,"checked",t,!1)}function K1(e,t){BO(e,t);var n=_a(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Y1(e,t.type,n):t.hasOwnProperty("defaultValue")&&Y1(e,t.type,_a(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function vT(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Y1(e,t,n){(t!=="number"||Yg(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var vd=Array.isArray;function jc(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+_a(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Q1(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(se(91));return cn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function yT(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(se(92));if(vd(n)){if(1<n.length)throw Error(se(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:_a(n)}}function DO(e,t){var n=_a(t.value),r=_a(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function AT(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function $O(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function J1(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?$O(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ip,FO=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ip=ip||document.createElement("div"),ip.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ip.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function xf(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Nd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ene=["Webkit","ms","Moz","O"];Object.keys(Nd).forEach(function(e){ene.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Nd[t]=Nd[e]})});function zO(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Nd.hasOwnProperty(e)&&Nd[e]?(""+t).trim():t+"px"}function UO(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=zO(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var tne=cn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function X1(e,t){if(t){if(tne[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(se(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(se(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(se(61))}if(t.style!=null&&typeof t.style!="object")throw Error(se(62))}}function Z1(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var e_=null;function dx(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var t_=null,Oc=null,Vc=null;function _T(e){if(e=gh(e)){if(typeof t_!="function")throw Error(se(280));var t=e.stateNode;t&&(t=G0(t),t_(e.stateNode,e.type,t))}}function HO(e){Oc?Vc?Vc.push(e):Vc=[e]:Oc=e}function GO(){if(Oc){var e=Oc,t=Vc;if(Vc=Oc=null,_T(e),t)for(e=0;e<t.length;e++)_T(t[e])}}function qO(e,t){return e(t)}function WO(){}var Ay=!1;function KO(e,t,n){if(Ay)return e(t,n);Ay=!0;try{return qO(e,t,n)}finally{Ay=!1,(Oc!==null||Vc!==null)&&(WO(),GO())}}function wf(e,t){var n=e.stateNode;if(n===null)return null;var r=G0(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(se(231,t,typeof n));return n}var n_=!1;if(ko)try{var Qu={};Object.defineProperty(Qu,"passive",{get:function(){n_=!0}}),window.addEventListener("test",Qu,Qu),window.removeEventListener("test",Qu,Qu)}catch{n_=!1}function nne(e,t,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Bd=!1,Qg=null,Jg=!1,r_=null,rne={onError:function(e){Bd=!0,Qg=e}};function ine(e,t,n,r,i,s,o,a,l){Bd=!1,Qg=null,nne.apply(rne,arguments)}function sne(e,t,n,r,i,s,o,a,l){if(ine.apply(this,arguments),Bd){if(Bd){var c=Qg;Bd=!1,Qg=null}else throw Error(se(198));Jg||(Jg=!0,r_=c)}}function $l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function YO(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function bT(e){if($l(e)!==e)throw Error(se(188))}function one(e){var t=e.alternate;if(!t){if(t=$l(e),t===null)throw Error(se(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return bT(i),e;if(s===r)return bT(i),t;s=s.sibling}throw Error(se(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(se(189))}}if(n.alternate!==r)throw Error(se(190))}if(n.tag!==3)throw Error(se(188));return n.stateNode.current===n?e:t}function QO(e){return e=one(e),e!==null?JO(e):null}function JO(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=JO(e);if(t!==null)return t;e=e.sibling}return null}var XO=vi.unstable_scheduleCallback,ST=vi.unstable_cancelCallback,ane=vi.unstable_shouldYield,lne=vi.unstable_requestPaint,xn=vi.unstable_now,cne=vi.unstable_getCurrentPriorityLevel,fx=vi.unstable_ImmediatePriority,ZO=vi.unstable_UserBlockingPriority,Xg=vi.unstable_NormalPriority,une=vi.unstable_LowPriority,eV=vi.unstable_IdlePriority,F0=null,Ys=null;function dne(e){if(Ys&&typeof Ys.onCommitFiberRoot=="function")try{Ys.onCommitFiberRoot(F0,e,void 0,(e.current.flags&128)===128)}catch{}}var bs=Math.clz32?Math.clz32:pne,fne=Math.log,hne=Math.LN2;function pne(e){return e>>>=0,e===0?32:31-(fne(e)/hne|0)|0}var sp=64,op=4194304;function yd(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Zg(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=yd(a):(s&=o,s!==0&&(r=yd(s)))}else o=n&~i,o!==0?r=yd(o):s!==0&&(r=yd(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-bs(t),i=1<<n,r|=e[n],t&=~i;return r}function gne(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mne(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-bs(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=gne(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function i_(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function tV(){var e=sp;return sp<<=1,!(sp&4194240)&&(sp=64),e}function _y(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function hh(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-bs(t),e[t]=n}function vne(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-bs(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function hx(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-bs(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var wt=0;function nV(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var rV,px,iV,sV,oV,s_=!1,ap=[],la=null,ca=null,ua=null,Ef=new Map,kf=new Map,Ko=[],yne="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xT(e,t){switch(e){case"focusin":case"focusout":la=null;break;case"dragenter":case"dragleave":ca=null;break;case"mouseover":case"mouseout":ua=null;break;case"pointerover":case"pointerout":Ef.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":kf.delete(t.pointerId)}}function Ju(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=gh(t),t!==null&&px(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Ane(e,t,n,r,i){switch(t){case"focusin":return la=Ju(la,e,t,n,r,i),!0;case"dragenter":return ca=Ju(ca,e,t,n,r,i),!0;case"mouseover":return ua=Ju(ua,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ef.set(s,Ju(Ef.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,kf.set(s,Ju(kf.get(s)||null,e,t,n,r,i)),!0}return!1}function aV(e){var t=Qa(e.target);if(t!==null){var n=$l(t);if(n!==null){if(t=n.tag,t===13){if(t=YO(n),t!==null){e.blockedOn=t,oV(e.priority,function(){iV(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function eg(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=o_(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);e_=r,n.target.dispatchEvent(r),e_=null}else return t=gh(n),t!==null&&px(t),e.blockedOn=n,!1;t.shift()}return!0}function wT(e,t,n){eg(e)&&n.delete(t)}function _ne(){s_=!1,la!==null&&eg(la)&&(la=null),ca!==null&&eg(ca)&&(ca=null),ua!==null&&eg(ua)&&(ua=null),Ef.forEach(wT),kf.forEach(wT)}function Xu(e,t){e.blockedOn===t&&(e.blockedOn=null,s_||(s_=!0,vi.unstable_scheduleCallback(vi.unstable_NormalPriority,_ne)))}function Cf(e){function t(i){return Xu(i,e)}if(0<ap.length){Xu(ap[0],e);for(var n=1;n<ap.length;n++){var r=ap[n];r.blockedOn===e&&(r.blockedOn=null)}}for(la!==null&&Xu(la,e),ca!==null&&Xu(ca,e),ua!==null&&Xu(ua,e),Ef.forEach(t),kf.forEach(t),n=0;n<Ko.length;n++)r=Ko[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Ko.length&&(n=Ko[0],n.blockedOn===null);)aV(n),n.blockedOn===null&&Ko.shift()}var Lc=Lo.ReactCurrentBatchConfig,em=!0;function bne(e,t,n,r){var i=wt,s=Lc.transition;Lc.transition=null;try{wt=1,gx(e,t,n,r)}finally{wt=i,Lc.transition=s}}function Sne(e,t,n,r){var i=wt,s=Lc.transition;Lc.transition=null;try{wt=4,gx(e,t,n,r)}finally{wt=i,Lc.transition=s}}function gx(e,t,n,r){if(em){var i=o_(e,t,n,r);if(i===null)Ry(e,t,r,tm,n),xT(e,r);else if(Ane(i,e,t,n,r))r.stopPropagation();else if(xT(e,r),t&4&&-1<yne.indexOf(e)){for(;i!==null;){var s=gh(i);if(s!==null&&rV(s),s=o_(e,t,n,r),s===null&&Ry(e,t,r,tm,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Ry(e,t,r,null,n)}}var tm=null;function o_(e,t,n,r){if(tm=null,e=dx(r),e=Qa(e),e!==null)if(t=$l(e),t===null)e=null;else if(n=t.tag,n===13){if(e=YO(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return tm=e,null}function lV(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cne()){case fx:return 1;case ZO:return 4;case Xg:case une:return 16;case eV:return 536870912;default:return 16}default:return 16}}var na=null,mx=null,tg=null;function cV(){if(tg)return tg;var e,t=mx,n=t.length,r,i="value"in na?na.value:na.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return tg=i.slice(e,1<r?1-r:void 0)}function ng(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function lp(){return!0}function ET(){return!1}function Si(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?lp:ET,this.isPropagationStopped=ET,this}return cn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=lp)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=lp)},persist:function(){},isPersistent:lp}),t}var Mu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vx=Si(Mu),ph=cn({},Mu,{view:0,detail:0}),xne=Si(ph),by,Sy,Zu,z0=cn({},ph,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yx,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Zu&&(Zu&&e.type==="mousemove"?(by=e.screenX-Zu.screenX,Sy=e.screenY-Zu.screenY):Sy=by=0,Zu=e),by)},movementY:function(e){return"movementY"in e?e.movementY:Sy}}),kT=Si(z0),wne=cn({},z0,{dataTransfer:0}),Ene=Si(wne),kne=cn({},ph,{relatedTarget:0}),xy=Si(kne),Cne=cn({},Mu,{animationName:0,elapsedTime:0,pseudoElement:0}),Tne=Si(Cne),Ine=cn({},Mu,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Rne=Si(Ine),Mne=cn({},Mu,{data:0}),CT=Si(Mne),Pne={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jne={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},One={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vne(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=One[e])?!!t[e]:!1}function yx(){return Vne}var Lne=cn({},ph,{key:function(e){if(e.key){var t=Pne[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ng(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?jne[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yx,charCode:function(e){return e.type==="keypress"?ng(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ng(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Nne=Si(Lne),Bne=cn({},z0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),TT=Si(Bne),Dne=cn({},ph,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yx}),$ne=Si(Dne),Fne=cn({},Mu,{propertyName:0,elapsedTime:0,pseudoElement:0}),zne=Si(Fne),Une=cn({},z0,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Hne=Si(Une),Gne=[9,13,27,32],Ax=ko&&"CompositionEvent"in window,Dd=null;ko&&"documentMode"in document&&(Dd=document.documentMode);var qne=ko&&"TextEvent"in window&&!Dd,uV=ko&&(!Ax||Dd&&8<Dd&&11>=Dd),IT=" ",RT=!1;function dV(e,t){switch(e){case"keyup":return Gne.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fV(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var uc=!1;function Wne(e,t){switch(e){case"compositionend":return fV(t);case"keypress":return t.which!==32?null:(RT=!0,IT);case"textInput":return e=t.data,e===IT&&RT?null:e;default:return null}}function Kne(e,t){if(uc)return e==="compositionend"||!Ax&&dV(e,t)?(e=cV(),tg=mx=na=null,uc=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return uV&&t.locale!=="ko"?null:t.data;default:return null}}var Yne={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function MT(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Yne[e.type]:t==="textarea"}function hV(e,t,n,r){HO(r),t=nm(t,"onChange"),0<t.length&&(n=new vx("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var $d=null,Tf=null;function Qne(e){wV(e,0)}function U0(e){var t=hc(e);if(NO(t))return e}function Jne(e,t){if(e==="change")return t}var pV=!1;if(ko){var wy;if(ko){var Ey="oninput"in document;if(!Ey){var PT=document.createElement("div");PT.setAttribute("oninput","return;"),Ey=typeof PT.oninput=="function"}wy=Ey}else wy=!1;pV=wy&&(!document.documentMode||9<document.documentMode)}function jT(){$d&&($d.detachEvent("onpropertychange",gV),Tf=$d=null)}function gV(e){if(e.propertyName==="value"&&U0(Tf)){var t=[];hV(t,Tf,e,dx(e)),KO(Qne,t)}}function Xne(e,t,n){e==="focusin"?(jT(),$d=t,Tf=n,$d.attachEvent("onpropertychange",gV)):e==="focusout"&&jT()}function Zne(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return U0(Tf)}function ere(e,t){if(e==="click")return U0(t)}function tre(e,t){if(e==="input"||e==="change")return U0(t)}function nre(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Es=typeof Object.is=="function"?Object.is:nre;function If(e,t){if(Es(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!z1.call(t,i)||!Es(e[i],t[i]))return!1}return!0}function OT(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function VT(e,t){var n=OT(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=OT(n)}}function mV(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?mV(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function vV(){for(var e=window,t=Yg();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Yg(e.document)}return t}function _x(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function rre(e){var t=vV(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&mV(n.ownerDocument.documentElement,n)){if(r!==null&&_x(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=VT(n,s);var o=VT(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ire=ko&&"documentMode"in document&&11>=document.documentMode,dc=null,a_=null,Fd=null,l_=!1;function LT(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;l_||dc==null||dc!==Yg(r)||(r=dc,"selectionStart"in r&&_x(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Fd&&If(Fd,r)||(Fd=r,r=nm(a_,"onSelect"),0<r.length&&(t=new vx("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=dc)))}function cp(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var fc={animationend:cp("Animation","AnimationEnd"),animationiteration:cp("Animation","AnimationIteration"),animationstart:cp("Animation","AnimationStart"),transitionend:cp("Transition","TransitionEnd")},ky={},yV={};ko&&(yV=document.createElement("div").style,"AnimationEvent"in window||(delete fc.animationend.animation,delete fc.animationiteration.animation,delete fc.animationstart.animation),"TransitionEvent"in window||delete fc.transitionend.transition);function H0(e){if(ky[e])return ky[e];if(!fc[e])return e;var t=fc[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in yV)return ky[e]=t[n];return e}var AV=H0("animationend"),_V=H0("animationiteration"),bV=H0("animationstart"),SV=H0("transitionend"),xV=new Map,NT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ka(e,t){xV.set(e,t),Dl(t,[e])}for(var Cy=0;Cy<NT.length;Cy++){var Ty=NT[Cy],sre=Ty.toLowerCase(),ore=Ty[0].toUpperCase()+Ty.slice(1);ka(sre,"on"+ore)}ka(AV,"onAnimationEnd");ka(_V,"onAnimationIteration");ka(bV,"onAnimationStart");ka("dblclick","onDoubleClick");ka("focusin","onFocus");ka("focusout","onBlur");ka(SV,"onTransitionEnd");nu("onMouseEnter",["mouseout","mouseover"]);nu("onMouseLeave",["mouseout","mouseover"]);nu("onPointerEnter",["pointerout","pointerover"]);nu("onPointerLeave",["pointerout","pointerover"]);Dl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Dl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Dl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Dl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Dl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Dl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ad="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),are=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ad));function BT(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,sne(r,t,void 0,e),e.currentTarget=null}function wV(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;BT(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;BT(i,a,c),s=l}}}if(Jg)throw e=r_,Jg=!1,r_=null,e}function Ft(e,t){var n=t[h_];n===void 0&&(n=t[h_]=new Set);var r=e+"__bubble";n.has(r)||(EV(t,e,2,!1),n.add(r))}function Iy(e,t,n){var r=0;t&&(r|=4),EV(n,e,r,t)}var up="_reactListening"+Math.random().toString(36).slice(2);function Rf(e){if(!e[up]){e[up]=!0,PO.forEach(function(n){n!=="selectionchange"&&(are.has(n)||Iy(n,!1,e),Iy(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[up]||(t[up]=!0,Iy("selectionchange",!1,t))}}function EV(e,t,n,r){switch(lV(t)){case 1:var i=bne;break;case 4:i=Sne;break;default:i=gx}n=i.bind(null,t,n,e),i=void 0,!n_||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Ry(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Qa(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}KO(function(){var c=s,u=dx(n),d=[];e:{var h=xV.get(e);if(h!==void 0){var p=vx,g=e;switch(e){case"keypress":if(ng(n)===0)break e;case"keydown":case"keyup":p=Nne;break;case"focusin":g="focus",p=xy;break;case"focusout":g="blur",p=xy;break;case"beforeblur":case"afterblur":p=xy;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=kT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Ene;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=$ne;break;case AV:case _V:case bV:p=Tne;break;case SV:p=zne;break;case"scroll":p=xne;break;case"wheel":p=Hne;break;case"copy":case"cut":case"paste":p=Rne;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=TT}var m=(t&4)!==0,_=!m&&e==="scroll",v=m?h!==null?h+"Capture":null:h;m=[];for(var y=c,S;y!==null;){S=y;var x=S.stateNode;if(S.tag===5&&x!==null&&(S=x,v!==null&&(x=wf(y,v),x!=null&&m.push(Mf(y,x,S)))),_)break;y=y.return}0<m.length&&(h=new p(h,g,null,n,u),d.push({event:h,listeners:m}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&n!==e_&&(g=n.relatedTarget||n.fromElement)&&(Qa(g)||g[Co]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=c,g=g?Qa(g):null,g!==null&&(_=$l(g),g!==_||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=c),p!==g)){if(m=kT,x="onMouseLeave",v="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(m=TT,x="onPointerLeave",v="onPointerEnter",y="pointer"),_=p==null?h:hc(p),S=g==null?h:hc(g),h=new m(x,y+"leave",p,n,u),h.target=_,h.relatedTarget=S,x=null,Qa(u)===c&&(m=new m(v,y+"enter",g,n,u),m.target=S,m.relatedTarget=_,x=m),_=x,p&&g)t:{for(m=p,v=g,y=0,S=m;S;S=Jl(S))y++;for(S=0,x=v;x;x=Jl(x))S++;for(;0<y-S;)m=Jl(m),y--;for(;0<S-y;)v=Jl(v),S--;for(;y--;){if(m===v||v!==null&&m===v.alternate)break t;m=Jl(m),v=Jl(v)}m=null}else m=null;p!==null&&DT(d,h,p,m,!1),g!==null&&_!==null&&DT(d,_,g,m,!0)}}e:{if(h=c?hc(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var b=Jne;else if(MT(h))if(pV)b=tre;else{b=Zne;var w=Xne}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(b=ere);if(b&&(b=b(e,c))){hV(d,b,n,u);break e}w&&w(e,h,c),e==="focusout"&&(w=h._wrapperState)&&w.controlled&&h.type==="number"&&Y1(h,"number",h.value)}switch(w=c?hc(c):window,e){case"focusin":(MT(w)||w.contentEditable==="true")&&(dc=w,a_=c,Fd=null);break;case"focusout":Fd=a_=dc=null;break;case"mousedown":l_=!0;break;case"contextmenu":case"mouseup":case"dragend":l_=!1,LT(d,n,u);break;case"selectionchange":if(ire)break;case"keydown":case"keyup":LT(d,n,u)}var E;if(Ax)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else uc?dV(e,n)&&(T="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(uV&&n.locale!=="ko"&&(uc||T!=="onCompositionStart"?T==="onCompositionEnd"&&uc&&(E=cV()):(na=u,mx="value"in na?na.value:na.textContent,uc=!0)),w=nm(c,T),0<w.length&&(T=new CT(T,e,null,n,u),d.push({event:T,listeners:w}),E?T.data=E:(E=fV(n),E!==null&&(T.data=E)))),(E=qne?Wne(e,n):Kne(e,n))&&(c=nm(c,"onBeforeInput"),0<c.length&&(u=new CT("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=E))}wV(d,t)})}function Mf(e,t,n){return{instance:e,listener:t,currentTarget:n}}function nm(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=wf(e,n),s!=null&&r.unshift(Mf(e,s,i)),s=wf(e,t),s!=null&&r.push(Mf(e,s,i))),e=e.return}return r}function Jl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function DT(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=wf(n,s),l!=null&&o.unshift(Mf(n,l,a))):i||(l=wf(n,s),l!=null&&o.push(Mf(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var lre=/\r\n?/g,cre=/\u0000|\uFFFD/g;function $T(e){return(typeof e=="string"?e:""+e).replace(lre,`
`).replace(cre,"")}function dp(e,t,n){if(t=$T(t),$T(e)!==t&&n)throw Error(se(425))}function rm(){}var c_=null,u_=null;function d_(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var f_=typeof setTimeout=="function"?setTimeout:void 0,ure=typeof clearTimeout=="function"?clearTimeout:void 0,FT=typeof Promise=="function"?Promise:void 0,dre=typeof queueMicrotask=="function"?queueMicrotask:typeof FT<"u"?function(e){return FT.resolve(null).then(e).catch(fre)}:f_;function fre(e){setTimeout(function(){throw e})}function My(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Cf(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Cf(t)}function da(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function zT(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Pu=Math.random().toString(36).slice(2),$s="__reactFiber$"+Pu,Pf="__reactProps$"+Pu,Co="__reactContainer$"+Pu,h_="__reactEvents$"+Pu,hre="__reactListeners$"+Pu,pre="__reactHandles$"+Pu;function Qa(e){var t=e[$s];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Co]||n[$s]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=zT(e);e!==null;){if(n=e[$s])return n;e=zT(e)}return t}e=n,n=e.parentNode}return null}function gh(e){return e=e[$s]||e[Co],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function hc(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(se(33))}function G0(e){return e[Pf]||null}var p_=[],pc=-1;function Ca(e){return{current:e}}function Ht(e){0>pc||(e.current=p_[pc],p_[pc]=null,pc--)}function $t(e,t){pc++,p_[pc]=e.current,e.current=t}var ba={},wr=Ca(ba),Wr=Ca(!1),Sl=ba;function ru(e,t){var n=e.type.contextTypes;if(!n)return ba;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Kr(e){return e=e.childContextTypes,e!=null}function im(){Ht(Wr),Ht(wr)}function UT(e,t,n){if(wr.current!==ba)throw Error(se(168));$t(wr,t),$t(Wr,n)}function kV(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(se(108,Xte(e)||"Unknown",i));return cn({},n,r)}function sm(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ba,Sl=wr.current,$t(wr,e),$t(Wr,Wr.current),!0}function HT(e,t,n){var r=e.stateNode;if(!r)throw Error(se(169));n?(e=kV(e,t,Sl),r.__reactInternalMemoizedMergedChildContext=e,Ht(Wr),Ht(wr),$t(wr,e)):Ht(Wr),$t(Wr,n)}var uo=null,q0=!1,Py=!1;function CV(e){uo===null?uo=[e]:uo.push(e)}function gre(e){q0=!0,CV(e)}function Ta(){if(!Py&&uo!==null){Py=!0;var e=0,t=wt;try{var n=uo;for(wt=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}uo=null,q0=!1}catch(i){throw uo!==null&&(uo=uo.slice(e+1)),XO(fx,Ta),i}finally{wt=t,Py=!1}}return null}var gc=[],mc=0,om=null,am=0,Li=[],Ni=0,xl=null,po=1,go="";function Ua(e,t){gc[mc++]=am,gc[mc++]=om,om=e,am=t}function TV(e,t,n){Li[Ni++]=po,Li[Ni++]=go,Li[Ni++]=xl,xl=e;var r=po;e=go;var i=32-bs(r)-1;r&=~(1<<i),n+=1;var s=32-bs(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,po=1<<32-bs(t)+i|n<<i|r,go=s+e}else po=1<<s|n<<i|r,go=e}function bx(e){e.return!==null&&(Ua(e,1),TV(e,1,0))}function Sx(e){for(;e===om;)om=gc[--mc],gc[mc]=null,am=gc[--mc],gc[mc]=null;for(;e===xl;)xl=Li[--Ni],Li[Ni]=null,go=Li[--Ni],Li[Ni]=null,po=Li[--Ni],Li[Ni]=null}var hi=null,ui=null,Zt=!1,us=null;function IV(e,t){var n=$i(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function GT(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,hi=e,ui=da(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,hi=e,ui=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=xl!==null?{id:po,overflow:go}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=$i(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,hi=e,ui=null,!0):!1;default:return!1}}function g_(e){return(e.mode&1)!==0&&(e.flags&128)===0}function m_(e){if(Zt){var t=ui;if(t){var n=t;if(!GT(e,t)){if(g_(e))throw Error(se(418));t=da(n.nextSibling);var r=hi;t&&GT(e,t)?IV(r,n):(e.flags=e.flags&-4097|2,Zt=!1,hi=e)}}else{if(g_(e))throw Error(se(418));e.flags=e.flags&-4097|2,Zt=!1,hi=e}}}function qT(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;hi=e}function fp(e){if(e!==hi)return!1;if(!Zt)return qT(e),Zt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!d_(e.type,e.memoizedProps)),t&&(t=ui)){if(g_(e))throw RV(),Error(se(418));for(;t;)IV(e,t),t=da(t.nextSibling)}if(qT(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(se(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ui=da(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ui=null}}else ui=hi?da(e.stateNode.nextSibling):null;return!0}function RV(){for(var e=ui;e;)e=da(e.nextSibling)}function iu(){ui=hi=null,Zt=!1}function xx(e){us===null?us=[e]:us.push(e)}var mre=Lo.ReactCurrentBatchConfig;function ss(e,t){if(e&&e.defaultProps){t=cn({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var lm=Ca(null),cm=null,vc=null,wx=null;function Ex(){wx=vc=cm=null}function kx(e){var t=lm.current;Ht(lm),e._currentValue=t}function v_(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Nc(e,t){cm=e,wx=vc=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Gr=!0),e.firstContext=null)}function Ki(e){var t=e._currentValue;if(wx!==e)if(e={context:e,memoizedValue:t,next:null},vc===null){if(cm===null)throw Error(se(308));vc=e,cm.dependencies={lanes:0,firstContext:e}}else vc=vc.next=e;return t}var Ja=null;function Cx(e){Ja===null?Ja=[e]:Ja.push(e)}function MV(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Cx(t)):(n.next=i.next,i.next=n),t.interleaved=n,To(e,r)}function To(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var qo=!1;function Tx(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function PV(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ao(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fa(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ht&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,To(e,n)}return i=r.interleaved,i===null?(t.next=t,Cx(r)):(t.next=i.next,i.next=t),r.interleaved=t,To(e,n)}function rg(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,hx(e,n)}}function WT(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function um(e,t,n,r){var i=e.updateQueue;qo=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=e.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,u=c=l=null,a=s;do{var h=a.lane,p=a.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=e,m=a;switch(h=t,p=n,m.tag){case 1:if(g=m.payload,typeof g=="function"){d=g.call(p,d,h);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,h=typeof g=="function"?g.call(p,d,h):g,h==null)break e;d=cn({},d,h);break e;case 2:qo=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=d):u=u.next=p,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);El|=o,e.lanes=o,e.memoizedState=d}}function KT(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(se(191,i));i.call(r)}}}var jV=new MO.Component().refs;function y_(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:cn({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var W0={isMounted:function(e){return(e=e._reactInternals)?$l(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Or(),i=pa(e),s=Ao(r,i);s.payload=t,n!=null&&(s.callback=n),t=fa(e,s,i),t!==null&&(Ss(t,e,i,r),rg(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Or(),i=pa(e),s=Ao(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=fa(e,s,i),t!==null&&(Ss(t,e,i,r),rg(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Or(),r=pa(e),i=Ao(n,r);i.tag=2,t!=null&&(i.callback=t),t=fa(e,i,r),t!==null&&(Ss(t,e,r,n),rg(t,e,r))}};function YT(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!If(n,r)||!If(i,s):!0}function OV(e,t,n){var r=!1,i=ba,s=t.contextType;return typeof s=="object"&&s!==null?s=Ki(s):(i=Kr(t)?Sl:wr.current,r=t.contextTypes,s=(r=r!=null)?ru(e,i):ba),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=W0,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function QT(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&W0.enqueueReplaceState(t,t.state,null)}function A_(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=jV,Tx(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=Ki(s):(s=Kr(t)?Sl:wr.current,i.context=ru(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(y_(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&W0.enqueueReplaceState(i,i.state,null),um(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function ed(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(se(309));var r=n.stateNode}if(!r)throw Error(se(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;a===jV&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(se(284));if(!n._owner)throw Error(se(290,e))}return e}function hp(e,t){throw e=Object.prototype.toString.call(t),Error(se(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function JT(e){var t=e._init;return t(e._payload)}function VV(e){function t(v,y){if(e){var S=v.deletions;S===null?(v.deletions=[y],v.flags|=16):S.push(y)}}function n(v,y){if(!e)return null;for(;y!==null;)t(v,y),y=y.sibling;return null}function r(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function i(v,y){return v=ga(v,y),v.index=0,v.sibling=null,v}function s(v,y,S){return v.index=S,e?(S=v.alternate,S!==null?(S=S.index,S<y?(v.flags|=2,y):S):(v.flags|=2,y)):(v.flags|=1048576,y)}function o(v){return e&&v.alternate===null&&(v.flags|=2),v}function a(v,y,S,x){return y===null||y.tag!==6?(y=Dy(S,v.mode,x),y.return=v,y):(y=i(y,S),y.return=v,y)}function l(v,y,S,x){var b=S.type;return b===cc?u(v,y,S.props.children,x,S.key):y!==null&&(y.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Go&&JT(b)===y.type)?(x=i(y,S.props),x.ref=ed(v,y,S),x.return=v,x):(x=cg(S.type,S.key,S.props,null,v.mode,x),x.ref=ed(v,y,S),x.return=v,x)}function c(v,y,S,x){return y===null||y.tag!==4||y.stateNode.containerInfo!==S.containerInfo||y.stateNode.implementation!==S.implementation?(y=$y(S,v.mode,x),y.return=v,y):(y=i(y,S.children||[]),y.return=v,y)}function u(v,y,S,x,b){return y===null||y.tag!==7?(y=ll(S,v.mode,x,b),y.return=v,y):(y=i(y,S),y.return=v,y)}function d(v,y,S){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Dy(""+y,v.mode,S),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case np:return S=cg(y.type,y.key,y.props,null,v.mode,S),S.ref=ed(v,null,y),S.return=v,S;case lc:return y=$y(y,v.mode,S),y.return=v,y;case Go:var x=y._init;return d(v,x(y._payload),S)}if(vd(y)||Yu(y))return y=ll(y,v.mode,S,null),y.return=v,y;hp(v,y)}return null}function h(v,y,S,x){var b=y!==null?y.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return b!==null?null:a(v,y,""+S,x);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case np:return S.key===b?l(v,y,S,x):null;case lc:return S.key===b?c(v,y,S,x):null;case Go:return b=S._init,h(v,y,b(S._payload),x)}if(vd(S)||Yu(S))return b!==null?null:u(v,y,S,x,null);hp(v,S)}return null}function p(v,y,S,x,b){if(typeof x=="string"&&x!==""||typeof x=="number")return v=v.get(S)||null,a(y,v,""+x,b);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case np:return v=v.get(x.key===null?S:x.key)||null,l(y,v,x,b);case lc:return v=v.get(x.key===null?S:x.key)||null,c(y,v,x,b);case Go:var w=x._init;return p(v,y,S,w(x._payload),b)}if(vd(x)||Yu(x))return v=v.get(S)||null,u(y,v,x,b,null);hp(y,x)}return null}function g(v,y,S,x){for(var b=null,w=null,E=y,T=y=0,$=null;E!==null&&T<S.length;T++){E.index>T?($=E,E=null):$=E.sibling;var N=h(v,E,S[T],x);if(N===null){E===null&&(E=$);break}e&&E&&N.alternate===null&&t(v,E),y=s(N,y,T),w===null?b=N:w.sibling=N,w=N,E=$}if(T===S.length)return n(v,E),Zt&&Ua(v,T),b;if(E===null){for(;T<S.length;T++)E=d(v,S[T],x),E!==null&&(y=s(E,y,T),w===null?b=E:w.sibling=E,w=E);return Zt&&Ua(v,T),b}for(E=r(v,E);T<S.length;T++)$=p(E,v,T,S[T],x),$!==null&&(e&&$.alternate!==null&&E.delete($.key===null?T:$.key),y=s($,y,T),w===null?b=$:w.sibling=$,w=$);return e&&E.forEach(function(B){return t(v,B)}),Zt&&Ua(v,T),b}function m(v,y,S,x){var b=Yu(S);if(typeof b!="function")throw Error(se(150));if(S=b.call(S),S==null)throw Error(se(151));for(var w=b=null,E=y,T=y=0,$=null,N=S.next();E!==null&&!N.done;T++,N=S.next()){E.index>T?($=E,E=null):$=E.sibling;var B=h(v,E,N.value,x);if(B===null){E===null&&(E=$);break}e&&E&&B.alternate===null&&t(v,E),y=s(B,y,T),w===null?b=B:w.sibling=B,w=B,E=$}if(N.done)return n(v,E),Zt&&Ua(v,T),b;if(E===null){for(;!N.done;T++,N=S.next())N=d(v,N.value,x),N!==null&&(y=s(N,y,T),w===null?b=N:w.sibling=N,w=N);return Zt&&Ua(v,T),b}for(E=r(v,E);!N.done;T++,N=S.next())N=p(E,v,T,N.value,x),N!==null&&(e&&N.alternate!==null&&E.delete(N.key===null?T:N.key),y=s(N,y,T),w===null?b=N:w.sibling=N,w=N);return e&&E.forEach(function(K){return t(v,K)}),Zt&&Ua(v,T),b}function _(v,y,S,x){if(typeof S=="object"&&S!==null&&S.type===cc&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case np:e:{for(var b=S.key,w=y;w!==null;){if(w.key===b){if(b=S.type,b===cc){if(w.tag===7){n(v,w.sibling),y=i(w,S.props.children),y.return=v,v=y;break e}}else if(w.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Go&&JT(b)===w.type){n(v,w.sibling),y=i(w,S.props),y.ref=ed(v,w,S),y.return=v,v=y;break e}n(v,w);break}else t(v,w);w=w.sibling}S.type===cc?(y=ll(S.props.children,v.mode,x,S.key),y.return=v,v=y):(x=cg(S.type,S.key,S.props,null,v.mode,x),x.ref=ed(v,y,S),x.return=v,v=x)}return o(v);case lc:e:{for(w=S.key;y!==null;){if(y.key===w)if(y.tag===4&&y.stateNode.containerInfo===S.containerInfo&&y.stateNode.implementation===S.implementation){n(v,y.sibling),y=i(y,S.children||[]),y.return=v,v=y;break e}else{n(v,y);break}else t(v,y);y=y.sibling}y=$y(S,v.mode,x),y.return=v,v=y}return o(v);case Go:return w=S._init,_(v,y,w(S._payload),x)}if(vd(S))return g(v,y,S,x);if(Yu(S))return m(v,y,S,x);hp(v,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,y!==null&&y.tag===6?(n(v,y.sibling),y=i(y,S),y.return=v,v=y):(n(v,y),y=Dy(S,v.mode,x),y.return=v,v=y),o(v)):n(v,y)}return _}var su=VV(!0),LV=VV(!1),mh={},Qs=Ca(mh),jf=Ca(mh),Of=Ca(mh);function Xa(e){if(e===mh)throw Error(se(174));return e}function Ix(e,t){switch($t(Of,t),$t(jf,e),$t(Qs,mh),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:J1(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=J1(t,e)}Ht(Qs),$t(Qs,t)}function ou(){Ht(Qs),Ht(jf),Ht(Of)}function NV(e){Xa(Of.current);var t=Xa(Qs.current),n=J1(t,e.type);t!==n&&($t(jf,e),$t(Qs,n))}function Rx(e){jf.current===e&&(Ht(Qs),Ht(jf))}var sn=Ca(0);function dm(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var jy=[];function Mx(){for(var e=0;e<jy.length;e++)jy[e]._workInProgressVersionPrimary=null;jy.length=0}var ig=Lo.ReactCurrentDispatcher,Oy=Lo.ReactCurrentBatchConfig,wl=0,an=null,Nn=null,Qn=null,fm=!1,zd=!1,Vf=0,vre=0;function mr(){throw Error(se(321))}function Px(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Es(e[n],t[n]))return!1;return!0}function jx(e,t,n,r,i,s){if(wl=s,an=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ig.current=e===null||e.memoizedState===null?bre:Sre,e=n(r,i),zd){s=0;do{if(zd=!1,Vf=0,25<=s)throw Error(se(301));s+=1,Qn=Nn=null,t.updateQueue=null,ig.current=xre,e=n(r,i)}while(zd)}if(ig.current=hm,t=Nn!==null&&Nn.next!==null,wl=0,Qn=Nn=an=null,fm=!1,t)throw Error(se(300));return e}function Ox(){var e=Vf!==0;return Vf=0,e}function Os(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qn===null?an.memoizedState=Qn=e:Qn=Qn.next=e,Qn}function Yi(){if(Nn===null){var e=an.alternate;e=e!==null?e.memoizedState:null}else e=Nn.next;var t=Qn===null?an.memoizedState:Qn.next;if(t!==null)Qn=t,Nn=e;else{if(e===null)throw Error(se(310));Nn=e,e={memoizedState:Nn.memoizedState,baseState:Nn.baseState,baseQueue:Nn.baseQueue,queue:Nn.queue,next:null},Qn===null?an.memoizedState=Qn=e:Qn=Qn.next=e}return Qn}function Lf(e,t){return typeof t=="function"?t(e):t}function Vy(e){var t=Yi(),n=t.queue;if(n===null)throw Error(se(311));n.lastRenderedReducer=e;var r=Nn,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((wl&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,an.lanes|=u,El|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,Es(r,t.memoizedState)||(Gr=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,an.lanes|=s,El|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ly(e){var t=Yi(),n=t.queue;if(n===null)throw Error(se(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);Es(s,t.memoizedState)||(Gr=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function BV(){}function DV(e,t){var n=an,r=Yi(),i=t(),s=!Es(r.memoizedState,i);if(s&&(r.memoizedState=i,Gr=!0),r=r.queue,Vx(zV.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Qn!==null&&Qn.memoizedState.tag&1){if(n.flags|=2048,Nf(9,FV.bind(null,n,r,i,t),void 0,null),er===null)throw Error(se(349));wl&30||$V(n,t,i)}return i}function $V(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=an.updateQueue,t===null?(t={lastEffect:null,stores:null},an.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function FV(e,t,n,r){t.value=n,t.getSnapshot=r,UV(t)&&HV(e)}function zV(e,t,n){return n(function(){UV(t)&&HV(e)})}function UV(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Es(e,n)}catch{return!0}}function HV(e){var t=To(e,1);t!==null&&Ss(t,e,1,-1)}function XT(e){var t=Os();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Lf,lastRenderedState:e},t.queue=e,e=e.dispatch=_re.bind(null,an,e),[t.memoizedState,e]}function Nf(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=an.updateQueue,t===null?(t={lastEffect:null,stores:null},an.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function GV(){return Yi().memoizedState}function sg(e,t,n,r){var i=Os();an.flags|=e,i.memoizedState=Nf(1|t,n,void 0,r===void 0?null:r)}function K0(e,t,n,r){var i=Yi();r=r===void 0?null:r;var s=void 0;if(Nn!==null){var o=Nn.memoizedState;if(s=o.destroy,r!==null&&Px(r,o.deps)){i.memoizedState=Nf(t,n,s,r);return}}an.flags|=e,i.memoizedState=Nf(1|t,n,s,r)}function ZT(e,t){return sg(8390656,8,e,t)}function Vx(e,t){return K0(2048,8,e,t)}function qV(e,t){return K0(4,2,e,t)}function WV(e,t){return K0(4,4,e,t)}function KV(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function YV(e,t,n){return n=n!=null?n.concat([e]):null,K0(4,4,KV.bind(null,t,e),n)}function Lx(){}function QV(e,t){var n=Yi();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Px(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function JV(e,t){var n=Yi();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Px(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function XV(e,t,n){return wl&21?(Es(n,t)||(n=tV(),an.lanes|=n,El|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Gr=!0),e.memoizedState=n)}function yre(e,t){var n=wt;wt=n!==0&&4>n?n:4,e(!0);var r=Oy.transition;Oy.transition={};try{e(!1),t()}finally{wt=n,Oy.transition=r}}function ZV(){return Yi().memoizedState}function Are(e,t,n){var r=pa(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},e4(e))t4(t,n);else if(n=MV(e,t,n,r),n!==null){var i=Or();Ss(n,e,r,i),n4(n,t,r)}}function _re(e,t,n){var r=pa(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(e4(e))t4(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Es(a,o)){var l=t.interleaved;l===null?(i.next=i,Cx(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=MV(e,t,i,r),n!==null&&(i=Or(),Ss(n,e,r,i),n4(n,t,r))}}function e4(e){var t=e.alternate;return e===an||t!==null&&t===an}function t4(e,t){zd=fm=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function n4(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,hx(e,n)}}var hm={readContext:Ki,useCallback:mr,useContext:mr,useEffect:mr,useImperativeHandle:mr,useInsertionEffect:mr,useLayoutEffect:mr,useMemo:mr,useReducer:mr,useRef:mr,useState:mr,useDebugValue:mr,useDeferredValue:mr,useTransition:mr,useMutableSource:mr,useSyncExternalStore:mr,useId:mr,unstable_isNewReconciler:!1},bre={readContext:Ki,useCallback:function(e,t){return Os().memoizedState=[e,t===void 0?null:t],e},useContext:Ki,useEffect:ZT,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,sg(4194308,4,KV.bind(null,t,e),n)},useLayoutEffect:function(e,t){return sg(4194308,4,e,t)},useInsertionEffect:function(e,t){return sg(4,2,e,t)},useMemo:function(e,t){var n=Os();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Os();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Are.bind(null,an,e),[r.memoizedState,e]},useRef:function(e){var t=Os();return e={current:e},t.memoizedState=e},useState:XT,useDebugValue:Lx,useDeferredValue:function(e){return Os().memoizedState=e},useTransition:function(){var e=XT(!1),t=e[0];return e=yre.bind(null,e[1]),Os().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=an,i=Os();if(Zt){if(n===void 0)throw Error(se(407));n=n()}else{if(n=t(),er===null)throw Error(se(349));wl&30||$V(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,ZT(zV.bind(null,r,s,e),[e]),r.flags|=2048,Nf(9,FV.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Os(),t=er.identifierPrefix;if(Zt){var n=go,r=po;n=(r&~(1<<32-bs(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Vf++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=vre++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Sre={readContext:Ki,useCallback:QV,useContext:Ki,useEffect:Vx,useImperativeHandle:YV,useInsertionEffect:qV,useLayoutEffect:WV,useMemo:JV,useReducer:Vy,useRef:GV,useState:function(){return Vy(Lf)},useDebugValue:Lx,useDeferredValue:function(e){var t=Yi();return XV(t,Nn.memoizedState,e)},useTransition:function(){var e=Vy(Lf)[0],t=Yi().memoizedState;return[e,t]},useMutableSource:BV,useSyncExternalStore:DV,useId:ZV,unstable_isNewReconciler:!1},xre={readContext:Ki,useCallback:QV,useContext:Ki,useEffect:Vx,useImperativeHandle:YV,useInsertionEffect:qV,useLayoutEffect:WV,useMemo:JV,useReducer:Ly,useRef:GV,useState:function(){return Ly(Lf)},useDebugValue:Lx,useDeferredValue:function(e){var t=Yi();return Nn===null?t.memoizedState=e:XV(t,Nn.memoizedState,e)},useTransition:function(){var e=Ly(Lf)[0],t=Yi().memoizedState;return[e,t]},useMutableSource:BV,useSyncExternalStore:DV,useId:ZV,unstable_isNewReconciler:!1};function au(e,t){try{var n="",r=t;do n+=Jte(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function Ny(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function __(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var wre=typeof WeakMap=="function"?WeakMap:Map;function r4(e,t,n){n=Ao(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){gm||(gm=!0,R_=r),__(e,t)},n}function i4(e,t,n){n=Ao(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){__(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){__(e,t),typeof r!="function"&&(ha===null?ha=new Set([this]):ha.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function eI(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new wre;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Bre.bind(null,e,t,n),t.then(e,e))}function tI(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function nI(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Ao(-1,1),t.tag=2,fa(n,t,1))),n.lanes|=1),e)}var Ere=Lo.ReactCurrentOwner,Gr=!1;function Tr(e,t,n,r){t.child=e===null?LV(t,null,n,r):su(t,e.child,n,r)}function rI(e,t,n,r,i){n=n.render;var s=t.ref;return Nc(t,i),r=jx(e,t,n,r,s,i),n=Ox(),e!==null&&!Gr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Io(e,t,i)):(Zt&&n&&bx(t),t.flags|=1,Tr(e,t,r,i),t.child)}function iI(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!Hx(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,s4(e,t,s,r,i)):(e=cg(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:If,n(o,r)&&e.ref===t.ref)return Io(e,t,i)}return t.flags|=1,e=ga(s,r),e.ref=t.ref,e.return=t,t.child=e}function s4(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(If(s,r)&&e.ref===t.ref)if(Gr=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(Gr=!0);else return t.lanes=e.lanes,Io(e,t,i)}return b_(e,t,n,r,i)}function o4(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},$t(Ac,ii),ii|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,$t(Ac,ii),ii|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,$t(Ac,ii),ii|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,$t(Ac,ii),ii|=r;return Tr(e,t,i,n),t.child}function a4(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function b_(e,t,n,r,i){var s=Kr(n)?Sl:wr.current;return s=ru(t,s),Nc(t,i),n=jx(e,t,n,r,s,i),r=Ox(),e!==null&&!Gr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Io(e,t,i)):(Zt&&r&&bx(t),t.flags|=1,Tr(e,t,n,i),t.child)}function sI(e,t,n,r,i){if(Kr(n)){var s=!0;sm(t)}else s=!1;if(Nc(t,i),t.stateNode===null)og(e,t),OV(t,n,r),A_(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Ki(c):(c=Kr(n)?Sl:wr.current,c=ru(t,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&QT(t,o,r,c),qo=!1;var h=t.memoizedState;o.state=h,um(t,r,o,i),l=t.memoizedState,a!==r||h!==l||Wr.current||qo?(typeof u=="function"&&(y_(t,n,u,r),l=t.memoizedState),(a=qo||YT(t,n,a,r,h,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,PV(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:ss(t.type,a),o.props=c,d=t.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ki(l):(l=Kr(n)?Sl:wr.current,l=ru(t,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&QT(t,o,r,l),qo=!1,h=t.memoizedState,o.state=h,um(t,r,o,i);var g=t.memoizedState;a!==d||h!==g||Wr.current||qo?(typeof p=="function"&&(y_(t,n,p,r),g=t.memoizedState),(c=qo||YT(t,n,c,r,h,g,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),o.props=r,o.state=g,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return S_(e,t,n,r,s,i)}function S_(e,t,n,r,i,s){a4(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&HT(t,n,!1),Io(e,t,s);r=t.stateNode,Ere.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=su(t,e.child,null,s),t.child=su(t,null,a,s)):Tr(e,t,a,s),t.memoizedState=r.state,i&&HT(t,n,!0),t.child}function l4(e){var t=e.stateNode;t.pendingContext?UT(e,t.pendingContext,t.pendingContext!==t.context):t.context&&UT(e,t.context,!1),Ix(e,t.containerInfo)}function oI(e,t,n,r,i){return iu(),xx(i),t.flags|=256,Tr(e,t,n,r),t.child}var x_={dehydrated:null,treeContext:null,retryLane:0};function w_(e){return{baseLanes:e,cachePool:null,transitions:null}}function c4(e,t,n){var r=t.pendingProps,i=sn.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),$t(sn,i&1),e===null)return m_(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=J0(o,r,0,null),e=ll(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=w_(n),t.memoizedState=x_,e):Nx(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return kre(e,t,o,r,a,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=ga(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=ga(a,s):(s=ll(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?w_(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=x_,r}return s=e.child,e=s.sibling,r=ga(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Nx(e,t){return t=J0({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function pp(e,t,n,r){return r!==null&&xx(r),su(t,e.child,null,n),e=Nx(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function kre(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=Ny(Error(se(422))),pp(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=J0({mode:"visible",children:r.children},i,0,null),s=ll(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&su(t,e.child,null,o),t.child.memoizedState=w_(o),t.memoizedState=x_,s);if(!(t.mode&1))return pp(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(se(419)),r=Ny(s,r,void 0),pp(e,t,o,r)}if(a=(o&e.childLanes)!==0,Gr||a){if(r=er,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,To(e,i),Ss(r,e,i,-1))}return Ux(),r=Ny(Error(se(421))),pp(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Dre.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,ui=da(i.nextSibling),hi=t,Zt=!0,us=null,e!==null&&(Li[Ni++]=po,Li[Ni++]=go,Li[Ni++]=xl,po=e.id,go=e.overflow,xl=t),t=Nx(t,r.children),t.flags|=4096,t)}function aI(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),v_(e.return,t,n)}function By(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function u4(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Tr(e,t,r.children,n),r=sn.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&aI(e,n,t);else if(e.tag===19)aI(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if($t(sn,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&dm(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),By(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&dm(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}By(t,!0,n,null,s);break;case"together":By(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function og(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Io(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),El|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(se(153));if(t.child!==null){for(e=t.child,n=ga(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ga(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Cre(e,t,n){switch(t.tag){case 3:l4(t),iu();break;case 5:NV(t);break;case 1:Kr(t.type)&&sm(t);break;case 4:Ix(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;$t(lm,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?($t(sn,sn.current&1),t.flags|=128,null):n&t.child.childLanes?c4(e,t,n):($t(sn,sn.current&1),e=Io(e,t,n),e!==null?e.sibling:null);$t(sn,sn.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return u4(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),$t(sn,sn.current),r)break;return null;case 22:case 23:return t.lanes=0,o4(e,t,n)}return Io(e,t,n)}var d4,E_,f4,h4;d4=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};E_=function(){};f4=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Xa(Qs.current);var s=null;switch(n){case"input":i=W1(e,i),r=W1(e,r),s=[];break;case"select":i=cn({},i,{value:void 0}),r=cn({},r,{value:void 0}),s=[];break;case"textarea":i=Q1(e,i),r=Q1(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=rm)}X1(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Sf.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Sf.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ft("scroll",e),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}};h4=function(e,t,n,r){n!==r&&(t.flags|=4)};function td(e,t){if(!Zt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function vr(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Tre(e,t,n){var r=t.pendingProps;switch(Sx(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vr(t),null;case 1:return Kr(t.type)&&im(),vr(t),null;case 3:return r=t.stateNode,ou(),Ht(Wr),Ht(wr),Mx(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(fp(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,us!==null&&(j_(us),us=null))),E_(e,t),vr(t),null;case 5:Rx(t);var i=Xa(Of.current);if(n=t.type,e!==null&&t.stateNode!=null)f4(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(se(166));return vr(t),null}if(e=Xa(Qs.current),fp(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[$s]=t,r[Pf]=s,e=(t.mode&1)!==0,n){case"dialog":Ft("cancel",r),Ft("close",r);break;case"iframe":case"object":case"embed":Ft("load",r);break;case"video":case"audio":for(i=0;i<Ad.length;i++)Ft(Ad[i],r);break;case"source":Ft("error",r);break;case"img":case"image":case"link":Ft("error",r),Ft("load",r);break;case"details":Ft("toggle",r);break;case"input":mT(r,s),Ft("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ft("invalid",r);break;case"textarea":yT(r,s),Ft("invalid",r)}X1(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&dp(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&dp(r.textContent,a,e),i=["children",""+a]):Sf.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ft("scroll",r)}switch(n){case"input":rp(r),vT(r,s,!0);break;case"textarea":rp(r),AT(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=rm)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=$O(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[$s]=t,e[Pf]=r,d4(e,t,!1,!1),t.stateNode=e;e:{switch(o=Z1(n,r),n){case"dialog":Ft("cancel",e),Ft("close",e),i=r;break;case"iframe":case"object":case"embed":Ft("load",e),i=r;break;case"video":case"audio":for(i=0;i<Ad.length;i++)Ft(Ad[i],e);i=r;break;case"source":Ft("error",e),i=r;break;case"img":case"image":case"link":Ft("error",e),Ft("load",e),i=r;break;case"details":Ft("toggle",e),i=r;break;case"input":mT(e,r),i=W1(e,r),Ft("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=cn({},r,{value:void 0}),Ft("invalid",e);break;case"textarea":yT(e,r),i=Q1(e,r),Ft("invalid",e);break;default:i=r}X1(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?UO(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&FO(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&xf(e,l):typeof l=="number"&&xf(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Sf.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ft("scroll",e):l!=null&&ax(e,s,l,o))}switch(n){case"input":rp(e),vT(e,r,!1);break;case"textarea":rp(e),AT(e);break;case"option":r.value!=null&&e.setAttribute("value",""+_a(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?jc(e,!!r.multiple,s,!1):r.defaultValue!=null&&jc(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=rm)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return vr(t),null;case 6:if(e&&t.stateNode!=null)h4(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(se(166));if(n=Xa(Of.current),Xa(Qs.current),fp(t)){if(r=t.stateNode,n=t.memoizedProps,r[$s]=t,(s=r.nodeValue!==n)&&(e=hi,e!==null))switch(e.tag){case 3:dp(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&dp(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[$s]=t,t.stateNode=r}return vr(t),null;case 13:if(Ht(sn),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Zt&&ui!==null&&t.mode&1&&!(t.flags&128))RV(),iu(),t.flags|=98560,s=!1;else if(s=fp(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(se(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(se(317));s[$s]=t}else iu(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;vr(t),s=!1}else us!==null&&(j_(us),us=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||sn.current&1?$n===0&&($n=3):Ux())),t.updateQueue!==null&&(t.flags|=4),vr(t),null);case 4:return ou(),E_(e,t),e===null&&Rf(t.stateNode.containerInfo),vr(t),null;case 10:return kx(t.type._context),vr(t),null;case 17:return Kr(t.type)&&im(),vr(t),null;case 19:if(Ht(sn),s=t.memoizedState,s===null)return vr(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)td(s,!1);else{if($n!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=dm(e),o!==null){for(t.flags|=128,td(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return $t(sn,sn.current&1|2),t.child}e=e.sibling}s.tail!==null&&xn()>lu&&(t.flags|=128,r=!0,td(s,!1),t.lanes=4194304)}else{if(!r)if(e=dm(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),td(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Zt)return vr(t),null}else 2*xn()-s.renderingStartTime>lu&&n!==1073741824&&(t.flags|=128,r=!0,td(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=xn(),t.sibling=null,n=sn.current,$t(sn,r?n&1|2:n&1),t):(vr(t),null);case 22:case 23:return zx(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?ii&1073741824&&(vr(t),t.subtreeFlags&6&&(t.flags|=8192)):vr(t),null;case 24:return null;case 25:return null}throw Error(se(156,t.tag))}function Ire(e,t){switch(Sx(t),t.tag){case 1:return Kr(t.type)&&im(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ou(),Ht(Wr),Ht(wr),Mx(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Rx(t),null;case 13:if(Ht(sn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(se(340));iu()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ht(sn),null;case 4:return ou(),null;case 10:return kx(t.type._context),null;case 22:case 23:return zx(),null;case 24:return null;default:return null}}var gp=!1,_r=!1,Rre=typeof WeakSet=="function"?WeakSet:Set,_e=null;function yc(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){hn(e,t,r)}else n.current=null}function k_(e,t,n){try{n()}catch(r){hn(e,t,r)}}var lI=!1;function Mre(e,t){if(c_=em,e=vV(),_x(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=e,h=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===e)break t;if(h===n&&++c===i&&(a=o),h===s&&++u===r&&(l=o),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(u_={focusedElem:e,selectionRange:n},em=!1,_e=t;_e!==null;)if(t=_e,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,_e=e;else for(;_e!==null;){t=_e;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var m=g.memoizedProps,_=g.memoizedState,v=t.stateNode,y=v.getSnapshotBeforeUpdate(t.elementType===t.type?m:ss(t.type,m),_);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var S=t.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(se(163))}}catch(x){hn(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,_e=e;break}_e=t.return}return g=lI,lI=!1,g}function Ud(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&k_(t,n,s)}i=i.next}while(i!==r)}}function Y0(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function C_(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function p4(e){var t=e.alternate;t!==null&&(e.alternate=null,p4(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[$s],delete t[Pf],delete t[h_],delete t[hre],delete t[pre])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function g4(e){return e.tag===5||e.tag===3||e.tag===4}function cI(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||g4(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function T_(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=rm));else if(r!==4&&(e=e.child,e!==null))for(T_(e,t,n),e=e.sibling;e!==null;)T_(e,t,n),e=e.sibling}function I_(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(I_(e,t,n),e=e.sibling;e!==null;)I_(e,t,n),e=e.sibling}var sr=null,ls=!1;function $o(e,t,n){for(n=n.child;n!==null;)m4(e,t,n),n=n.sibling}function m4(e,t,n){if(Ys&&typeof Ys.onCommitFiberUnmount=="function")try{Ys.onCommitFiberUnmount(F0,n)}catch{}switch(n.tag){case 5:_r||yc(n,t);case 6:var r=sr,i=ls;sr=null,$o(e,t,n),sr=r,ls=i,sr!==null&&(ls?(e=sr,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):sr.removeChild(n.stateNode));break;case 18:sr!==null&&(ls?(e=sr,n=n.stateNode,e.nodeType===8?My(e.parentNode,n):e.nodeType===1&&My(e,n),Cf(e)):My(sr,n.stateNode));break;case 4:r=sr,i=ls,sr=n.stateNode.containerInfo,ls=!0,$o(e,t,n),sr=r,ls=i;break;case 0:case 11:case 14:case 15:if(!_r&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&k_(n,t,o),i=i.next}while(i!==r)}$o(e,t,n);break;case 1:if(!_r&&(yc(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){hn(n,t,a)}$o(e,t,n);break;case 21:$o(e,t,n);break;case 22:n.mode&1?(_r=(r=_r)||n.memoizedState!==null,$o(e,t,n),_r=r):$o(e,t,n);break;default:$o(e,t,n)}}function uI(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Rre),t.forEach(function(r){var i=$re.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function rs(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:sr=a.stateNode,ls=!1;break e;case 3:sr=a.stateNode.containerInfo,ls=!0;break e;case 4:sr=a.stateNode.containerInfo,ls=!0;break e}a=a.return}if(sr===null)throw Error(se(160));m4(s,o,i),sr=null,ls=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){hn(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)v4(t,e),t=t.sibling}function v4(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(rs(t,e),Rs(e),r&4){try{Ud(3,e,e.return),Y0(3,e)}catch(m){hn(e,e.return,m)}try{Ud(5,e,e.return)}catch(m){hn(e,e.return,m)}}break;case 1:rs(t,e),Rs(e),r&512&&n!==null&&yc(n,n.return);break;case 5:if(rs(t,e),Rs(e),r&512&&n!==null&&yc(n,n.return),e.flags&32){var i=e.stateNode;try{xf(i,"")}catch(m){hn(e,e.return,m)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&BO(i,s),Z1(a,o);var c=Z1(a,s);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?UO(i,d):u==="dangerouslySetInnerHTML"?FO(i,d):u==="children"?xf(i,d):ax(i,u,d,c)}switch(a){case"input":K1(i,s);break;case"textarea":DO(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?jc(i,!!s.multiple,p,!1):h!==!!s.multiple&&(s.defaultValue!=null?jc(i,!!s.multiple,s.defaultValue,!0):jc(i,!!s.multiple,s.multiple?[]:"",!1))}i[Pf]=s}catch(m){hn(e,e.return,m)}}break;case 6:if(rs(t,e),Rs(e),r&4){if(e.stateNode===null)throw Error(se(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(m){hn(e,e.return,m)}}break;case 3:if(rs(t,e),Rs(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Cf(t.containerInfo)}catch(m){hn(e,e.return,m)}break;case 4:rs(t,e),Rs(e);break;case 13:rs(t,e),Rs(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||($x=xn())),r&4&&uI(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(_r=(c=_r)||u,rs(t,e),_r=c):rs(t,e),Rs(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(_e=e,u=e.child;u!==null;){for(d=_e=u;_e!==null;){switch(h=_e,p=h.child,h.tag){case 0:case 11:case 14:case 15:Ud(4,h,h.return);break;case 1:yc(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){hn(r,n,m)}}break;case 5:yc(h,h.return);break;case 22:if(h.memoizedState!==null){fI(d);continue}}p!==null?(p.return=h,_e=p):fI(d)}u=u.sibling}e:for(u=null,d=e;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=zO("display",o))}catch(m){hn(e,e.return,m)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(m){hn(e,e.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:rs(t,e),Rs(e),r&4&&uI(e);break;case 21:break;default:rs(t,e),Rs(e)}}function Rs(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(g4(n)){var r=n;break e}n=n.return}throw Error(se(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(xf(i,""),r.flags&=-33);var s=cI(e);I_(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=cI(e);T_(e,a,o);break;default:throw Error(se(161))}}catch(l){hn(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Pre(e,t,n){_e=e,y4(e)}function y4(e,t,n){for(var r=(e.mode&1)!==0;_e!==null;){var i=_e,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||gp;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||_r;a=gp;var c=_r;if(gp=o,(_r=l)&&!c)for(_e=i;_e!==null;)o=_e,l=o.child,o.tag===22&&o.memoizedState!==null?hI(i):l!==null?(l.return=o,_e=l):hI(i);for(;s!==null;)_e=s,y4(s),s=s.sibling;_e=i,gp=a,_r=c}dI(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,_e=s):dI(e)}}function dI(e){for(;_e!==null;){var t=_e;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:_r||Y0(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!_r)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ss(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&KT(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}KT(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Cf(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(se(163))}_r||t.flags&512&&C_(t)}catch(h){hn(t,t.return,h)}}if(t===e){_e=null;break}if(n=t.sibling,n!==null){n.return=t.return,_e=n;break}_e=t.return}}function fI(e){for(;_e!==null;){var t=_e;if(t===e){_e=null;break}var n=t.sibling;if(n!==null){n.return=t.return,_e=n;break}_e=t.return}}function hI(e){for(;_e!==null;){var t=_e;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Y0(4,t)}catch(l){hn(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){hn(t,i,l)}}var s=t.return;try{C_(t)}catch(l){hn(t,s,l)}break;case 5:var o=t.return;try{C_(t)}catch(l){hn(t,o,l)}}}catch(l){hn(t,t.return,l)}if(t===e){_e=null;break}var a=t.sibling;if(a!==null){a.return=t.return,_e=a;break}_e=t.return}}var jre=Math.ceil,pm=Lo.ReactCurrentDispatcher,Bx=Lo.ReactCurrentOwner,zi=Lo.ReactCurrentBatchConfig,ht=0,er=null,On=null,dr=0,ii=0,Ac=Ca(0),$n=0,Bf=null,El=0,Q0=0,Dx=0,Hd=null,zr=null,$x=0,lu=1/0,lo=null,gm=!1,R_=null,ha=null,mp=!1,ra=null,mm=0,Gd=0,M_=null,ag=-1,lg=0;function Or(){return ht&6?xn():ag!==-1?ag:ag=xn()}function pa(e){return e.mode&1?ht&2&&dr!==0?dr&-dr:mre.transition!==null?(lg===0&&(lg=tV()),lg):(e=wt,e!==0||(e=window.event,e=e===void 0?16:lV(e.type)),e):1}function Ss(e,t,n,r){if(50<Gd)throw Gd=0,M_=null,Error(se(185));hh(e,n,r),(!(ht&2)||e!==er)&&(e===er&&(!(ht&2)&&(Q0|=n),$n===4&&Yo(e,dr)),Yr(e,r),n===1&&ht===0&&!(t.mode&1)&&(lu=xn()+500,q0&&Ta()))}function Yr(e,t){var n=e.callbackNode;mne(e,t);var r=Zg(e,e===er?dr:0);if(r===0)n!==null&&ST(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&ST(n),t===1)e.tag===0?gre(pI.bind(null,e)):CV(pI.bind(null,e)),dre(function(){!(ht&6)&&Ta()}),n=null;else{switch(nV(r)){case 1:n=fx;break;case 4:n=ZO;break;case 16:n=Xg;break;case 536870912:n=eV;break;default:n=Xg}n=k4(n,A4.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function A4(e,t){if(ag=-1,lg=0,ht&6)throw Error(se(327));var n=e.callbackNode;if(Bc()&&e.callbackNode!==n)return null;var r=Zg(e,e===er?dr:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=vm(e,r);else{t=r;var i=ht;ht|=2;var s=b4();(er!==e||dr!==t)&&(lo=null,lu=xn()+500,al(e,t));do try{Lre();break}catch(a){_4(e,a)}while(!0);Ex(),pm.current=s,ht=i,On!==null?t=0:(er=null,dr=0,t=$n)}if(t!==0){if(t===2&&(i=i_(e),i!==0&&(r=i,t=P_(e,i))),t===1)throw n=Bf,al(e,0),Yo(e,r),Yr(e,xn()),n;if(t===6)Yo(e,r);else{if(i=e.current.alternate,!(r&30)&&!Ore(i)&&(t=vm(e,r),t===2&&(s=i_(e),s!==0&&(r=s,t=P_(e,s))),t===1))throw n=Bf,al(e,0),Yo(e,r),Yr(e,xn()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(se(345));case 2:Ha(e,zr,lo);break;case 3:if(Yo(e,r),(r&130023424)===r&&(t=$x+500-xn(),10<t)){if(Zg(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Or(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=f_(Ha.bind(null,e,zr,lo),t);break}Ha(e,zr,lo);break;case 4:if(Yo(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-bs(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=xn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*jre(r/1960))-r,10<r){e.timeoutHandle=f_(Ha.bind(null,e,zr,lo),r);break}Ha(e,zr,lo);break;case 5:Ha(e,zr,lo);break;default:throw Error(se(329))}}}return Yr(e,xn()),e.callbackNode===n?A4.bind(null,e):null}function P_(e,t){var n=Hd;return e.current.memoizedState.isDehydrated&&(al(e,t).flags|=256),e=vm(e,t),e!==2&&(t=zr,zr=n,t!==null&&j_(t)),e}function j_(e){zr===null?zr=e:zr.push.apply(zr,e)}function Ore(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Es(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Yo(e,t){for(t&=~Dx,t&=~Q0,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-bs(t),r=1<<n;e[n]=-1,t&=~r}}function pI(e){if(ht&6)throw Error(se(327));Bc();var t=Zg(e,0);if(!(t&1))return Yr(e,xn()),null;var n=vm(e,t);if(e.tag!==0&&n===2){var r=i_(e);r!==0&&(t=r,n=P_(e,r))}if(n===1)throw n=Bf,al(e,0),Yo(e,t),Yr(e,xn()),n;if(n===6)throw Error(se(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ha(e,zr,lo),Yr(e,xn()),null}function Fx(e,t){var n=ht;ht|=1;try{return e(t)}finally{ht=n,ht===0&&(lu=xn()+500,q0&&Ta())}}function kl(e){ra!==null&&ra.tag===0&&!(ht&6)&&Bc();var t=ht;ht|=1;var n=zi.transition,r=wt;try{if(zi.transition=null,wt=1,e)return e()}finally{wt=r,zi.transition=n,ht=t,!(ht&6)&&Ta()}}function zx(){ii=Ac.current,Ht(Ac)}function al(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,ure(n)),On!==null)for(n=On.return;n!==null;){var r=n;switch(Sx(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&im();break;case 3:ou(),Ht(Wr),Ht(wr),Mx();break;case 5:Rx(r);break;case 4:ou();break;case 13:Ht(sn);break;case 19:Ht(sn);break;case 10:kx(r.type._context);break;case 22:case 23:zx()}n=n.return}if(er=e,On=e=ga(e.current,null),dr=ii=t,$n=0,Bf=null,Dx=Q0=El=0,zr=Hd=null,Ja!==null){for(t=0;t<Ja.length;t++)if(n=Ja[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Ja=null}return e}function _4(e,t){do{var n=On;try{if(Ex(),ig.current=hm,fm){for(var r=an.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}fm=!1}if(wl=0,Qn=Nn=an=null,zd=!1,Vf=0,Bx.current=null,n===null||n.return===null){$n=1,Bf=t,On=null;break}e:{var s=e,o=n.return,a=n,l=t;if(t=dr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=tI(o);if(p!==null){p.flags&=-257,nI(p,o,a,s,t),p.mode&1&&eI(s,c,t),t=p,l=c;var g=t.updateQueue;if(g===null){var m=new Set;m.add(l),t.updateQueue=m}else g.add(l);break e}else{if(!(t&1)){eI(s,c,t),Ux();break e}l=Error(se(426))}}else if(Zt&&a.mode&1){var _=tI(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),nI(_,o,a,s,t),xx(au(l,a));break e}}s=l=au(l,a),$n!==4&&($n=2),Hd===null?Hd=[s]:Hd.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var v=r4(s,l,t);WT(s,v);break e;case 1:a=l;var y=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(ha===null||!ha.has(S)))){s.flags|=65536,t&=-t,s.lanes|=t;var x=i4(s,a,t);WT(s,x);break e}}s=s.return}while(s!==null)}x4(n)}catch(b){t=b,On===n&&n!==null&&(On=n=n.return);continue}break}while(!0)}function b4(){var e=pm.current;return pm.current=hm,e===null?hm:e}function Ux(){($n===0||$n===3||$n===2)&&($n=4),er===null||!(El&268435455)&&!(Q0&268435455)||Yo(er,dr)}function vm(e,t){var n=ht;ht|=2;var r=b4();(er!==e||dr!==t)&&(lo=null,al(e,t));do try{Vre();break}catch(i){_4(e,i)}while(!0);if(Ex(),ht=n,pm.current=r,On!==null)throw Error(se(261));return er=null,dr=0,$n}function Vre(){for(;On!==null;)S4(On)}function Lre(){for(;On!==null&&!ane();)S4(On)}function S4(e){var t=E4(e.alternate,e,ii);e.memoizedProps=e.pendingProps,t===null?x4(e):On=t,Bx.current=null}function x4(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Ire(n,t),n!==null){n.flags&=32767,On=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{$n=6,On=null;return}}else if(n=Tre(n,t,ii),n!==null){On=n;return}if(t=t.sibling,t!==null){On=t;return}On=t=e}while(t!==null);$n===0&&($n=5)}function Ha(e,t,n){var r=wt,i=zi.transition;try{zi.transition=null,wt=1,Nre(e,t,n,r)}finally{zi.transition=i,wt=r}return null}function Nre(e,t,n,r){do Bc();while(ra!==null);if(ht&6)throw Error(se(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(se(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(vne(e,s),e===er&&(On=er=null,dr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||mp||(mp=!0,k4(Xg,function(){return Bc(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=zi.transition,zi.transition=null;var o=wt;wt=1;var a=ht;ht|=4,Bx.current=null,Mre(e,n),v4(n,e),rre(u_),em=!!c_,u_=c_=null,e.current=n,Pre(n),lne(),ht=a,wt=o,zi.transition=s}else e.current=n;if(mp&&(mp=!1,ra=e,mm=i),s=e.pendingLanes,s===0&&(ha=null),dne(n.stateNode),Yr(e,xn()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(gm)throw gm=!1,e=R_,R_=null,e;return mm&1&&e.tag!==0&&Bc(),s=e.pendingLanes,s&1?e===M_?Gd++:(Gd=0,M_=e):Gd=0,Ta(),null}function Bc(){if(ra!==null){var e=nV(mm),t=zi.transition,n=wt;try{if(zi.transition=null,wt=16>e?16:e,ra===null)var r=!1;else{if(e=ra,ra=null,mm=0,ht&6)throw Error(se(331));var i=ht;for(ht|=4,_e=e.current;_e!==null;){var s=_e,o=s.child;if(_e.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(_e=c;_e!==null;){var u=_e;switch(u.tag){case 0:case 11:case 15:Ud(8,u,s)}var d=u.child;if(d!==null)d.return=u,_e=d;else for(;_e!==null;){u=_e;var h=u.sibling,p=u.return;if(p4(u),u===c){_e=null;break}if(h!==null){h.return=p,_e=h;break}_e=p}}}var g=s.alternate;if(g!==null){var m=g.child;if(m!==null){g.child=null;do{var _=m.sibling;m.sibling=null,m=_}while(m!==null)}}_e=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,_e=o;else e:for(;_e!==null;){if(s=_e,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ud(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,_e=v;break e}_e=s.return}}var y=e.current;for(_e=y;_e!==null;){o=_e;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,_e=S;else e:for(o=y;_e!==null;){if(a=_e,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Y0(9,a)}}catch(b){hn(a,a.return,b)}if(a===o){_e=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,_e=x;break e}_e=a.return}}if(ht=i,Ta(),Ys&&typeof Ys.onPostCommitFiberRoot=="function")try{Ys.onPostCommitFiberRoot(F0,e)}catch{}r=!0}return r}finally{wt=n,zi.transition=t}}return!1}function gI(e,t,n){t=au(n,t),t=r4(e,t,1),e=fa(e,t,1),t=Or(),e!==null&&(hh(e,1,t),Yr(e,t))}function hn(e,t,n){if(e.tag===3)gI(e,e,n);else for(;t!==null;){if(t.tag===3){gI(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ha===null||!ha.has(r))){e=au(n,e),e=i4(t,e,1),t=fa(t,e,1),e=Or(),t!==null&&(hh(t,1,e),Yr(t,e));break}}t=t.return}}function Bre(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Or(),e.pingedLanes|=e.suspendedLanes&n,er===e&&(dr&n)===n&&($n===4||$n===3&&(dr&130023424)===dr&&500>xn()-$x?al(e,0):Dx|=n),Yr(e,t)}function w4(e,t){t===0&&(e.mode&1?(t=op,op<<=1,!(op&130023424)&&(op=4194304)):t=1);var n=Or();e=To(e,t),e!==null&&(hh(e,t,n),Yr(e,n))}function Dre(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),w4(e,n)}function $re(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(se(314))}r!==null&&r.delete(t),w4(e,n)}var E4;E4=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Wr.current)Gr=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Gr=!1,Cre(e,t,n);Gr=!!(e.flags&131072)}else Gr=!1,Zt&&t.flags&1048576&&TV(t,am,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;og(e,t),e=t.pendingProps;var i=ru(t,wr.current);Nc(t,n),i=jx(null,t,r,e,i,n);var s=Ox();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Kr(r)?(s=!0,sm(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Tx(t),i.updater=W0,t.stateNode=i,i._reactInternals=t,A_(t,r,e,n),t=S_(null,t,r,!0,s,n)):(t.tag=0,Zt&&s&&bx(t),Tr(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(og(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=zre(r),e=ss(r,e),i){case 0:t=b_(null,t,r,e,n);break e;case 1:t=sI(null,t,r,e,n);break e;case 11:t=rI(null,t,r,e,n);break e;case 14:t=iI(null,t,r,ss(r.type,e),n);break e}throw Error(se(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ss(r,i),b_(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ss(r,i),sI(e,t,r,i,n);case 3:e:{if(l4(t),e===null)throw Error(se(387));r=t.pendingProps,s=t.memoizedState,i=s.element,PV(e,t),um(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=au(Error(se(423)),t),t=oI(e,t,r,n,i);break e}else if(r!==i){i=au(Error(se(424)),t),t=oI(e,t,r,n,i);break e}else for(ui=da(t.stateNode.containerInfo.firstChild),hi=t,Zt=!0,us=null,n=LV(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(iu(),r===i){t=Io(e,t,n);break e}Tr(e,t,r,n)}t=t.child}return t;case 5:return NV(t),e===null&&m_(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,d_(r,i)?o=null:s!==null&&d_(r,s)&&(t.flags|=32),a4(e,t),Tr(e,t,o,n),t.child;case 6:return e===null&&m_(t),null;case 13:return c4(e,t,n);case 4:return Ix(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=su(t,null,r,n):Tr(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ss(r,i),rI(e,t,r,i,n);case 7:return Tr(e,t,t.pendingProps,n),t.child;case 8:return Tr(e,t,t.pendingProps.children,n),t.child;case 12:return Tr(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,$t(lm,r._currentValue),r._currentValue=o,s!==null)if(Es(s.value,o)){if(s.children===i.children&&!Wr.current){t=Io(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Ao(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),v_(s.return,n,t),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(se(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),v_(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Tr(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Nc(t,n),i=Ki(i),r=r(i),t.flags|=1,Tr(e,t,r,n),t.child;case 14:return r=t.type,i=ss(r,t.pendingProps),i=ss(r.type,i),iI(e,t,r,i,n);case 15:return s4(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ss(r,i),og(e,t),t.tag=1,Kr(r)?(e=!0,sm(t)):e=!1,Nc(t,n),OV(t,r,i),A_(t,r,i,n),S_(null,t,r,!0,e,n);case 19:return u4(e,t,n);case 22:return o4(e,t,n)}throw Error(se(156,t.tag))};function k4(e,t){return XO(e,t)}function Fre(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $i(e,t,n,r){return new Fre(e,t,n,r)}function Hx(e){return e=e.prototype,!(!e||!e.isReactComponent)}function zre(e){if(typeof e=="function")return Hx(e)?1:0;if(e!=null){if(e=e.$$typeof,e===cx)return 11;if(e===ux)return 14}return 2}function ga(e,t){var n=e.alternate;return n===null?(n=$i(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function cg(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")Hx(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case cc:return ll(n.children,i,s,t);case lx:o=8,i|=8;break;case U1:return e=$i(12,n,t,i|2),e.elementType=U1,e.lanes=s,e;case H1:return e=$i(13,n,t,i),e.elementType=H1,e.lanes=s,e;case G1:return e=$i(19,n,t,i),e.elementType=G1,e.lanes=s,e;case VO:return J0(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case jO:o=10;break e;case OO:o=9;break e;case cx:o=11;break e;case ux:o=14;break e;case Go:o=16,r=null;break e}throw Error(se(130,e==null?e:typeof e,""))}return t=$i(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function ll(e,t,n,r){return e=$i(7,e,r,t),e.lanes=n,e}function J0(e,t,n,r){return e=$i(22,e,r,t),e.elementType=VO,e.lanes=n,e.stateNode={isHidden:!1},e}function Dy(e,t,n){return e=$i(6,e,null,t),e.lanes=n,e}function $y(e,t,n){return t=$i(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ure(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_y(0),this.expirationTimes=_y(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_y(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Gx(e,t,n,r,i,s,o,a,l){return e=new Ure(e,t,n,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=$i(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Tx(s),e}function Hre(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:lc,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function C4(e){if(!e)return ba;e=e._reactInternals;e:{if($l(e)!==e||e.tag!==1)throw Error(se(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Kr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(se(171))}if(e.tag===1){var n=e.type;if(Kr(n))return kV(e,n,t)}return t}function T4(e,t,n,r,i,s,o,a,l){return e=Gx(n,r,!0,e,i,s,o,a,l),e.context=C4(null),n=e.current,r=Or(),i=pa(n),s=Ao(r,i),s.callback=t??null,fa(n,s,i),e.current.lanes=i,hh(e,i,r),Yr(e,r),e}function X0(e,t,n,r){var i=t.current,s=Or(),o=pa(i);return n=C4(n),t.context===null?t.context=n:t.pendingContext=n,t=Ao(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=fa(i,t,o),e!==null&&(Ss(e,i,o,s),rg(e,i,o)),o}function ym(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function mI(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function qx(e,t){mI(e,t),(e=e.alternate)&&mI(e,t)}function Gre(){return null}var I4=typeof reportError=="function"?reportError:function(e){console.error(e)};function Wx(e){this._internalRoot=e}Z0.prototype.render=Wx.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(se(409));X0(e,t,null,null)};Z0.prototype.unmount=Wx.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;kl(function(){X0(null,e,null,null)}),t[Co]=null}};function Z0(e){this._internalRoot=e}Z0.prototype.unstable_scheduleHydration=function(e){if(e){var t=sV();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ko.length&&t!==0&&t<Ko[n].priority;n++);Ko.splice(n,0,e),n===0&&aV(e)}};function Kx(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ev(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function vI(){}function qre(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=ym(o);s.call(c)}}var o=T4(t,r,e,0,null,!1,!1,"",vI);return e._reactRootContainer=o,e[Co]=o.current,Rf(e.nodeType===8?e.parentNode:e),kl(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=ym(l);a.call(c)}}var l=Gx(e,0,!1,null,null,!1,!1,"",vI);return e._reactRootContainer=l,e[Co]=l.current,Rf(e.nodeType===8?e.parentNode:e),kl(function(){X0(t,l,n,r)}),l}function tv(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=ym(o);a.call(l)}}X0(t,o,e,i)}else o=qre(n,t,e,i,r);return ym(o)}rV=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=yd(t.pendingLanes);n!==0&&(hx(t,n|1),Yr(t,xn()),!(ht&6)&&(lu=xn()+500,Ta()))}break;case 13:kl(function(){var r=To(e,1);if(r!==null){var i=Or();Ss(r,e,1,i)}}),qx(e,1)}};px=function(e){if(e.tag===13){var t=To(e,134217728);if(t!==null){var n=Or();Ss(t,e,134217728,n)}qx(e,134217728)}};iV=function(e){if(e.tag===13){var t=pa(e),n=To(e,t);if(n!==null){var r=Or();Ss(n,e,t,r)}qx(e,t)}};sV=function(){return wt};oV=function(e,t){var n=wt;try{return wt=e,t()}finally{wt=n}};t_=function(e,t,n){switch(t){case"input":if(K1(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=G0(r);if(!i)throw Error(se(90));NO(r),K1(r,i)}}}break;case"textarea":DO(e,n);break;case"select":t=n.value,t!=null&&jc(e,!!n.multiple,t,!1)}};qO=Fx;WO=kl;var Wre={usingClientEntryPoint:!1,Events:[gh,hc,G0,HO,GO,Fx]},nd={findFiberByHostInstance:Qa,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Kre={bundleType:nd.bundleType,version:nd.version,rendererPackageName:nd.rendererPackageName,rendererConfig:nd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Lo.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=QO(e),e===null?null:e.stateNode},findFiberByHostInstance:nd.findFiberByHostInstance||Gre,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vp.isDisabled&&vp.supportsFiber)try{F0=vp.inject(Kre),Ys=vp}catch{}}bi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Wre;bi.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Kx(t))throw Error(se(200));return Hre(e,t,null,n)};bi.createRoot=function(e,t){if(!Kx(e))throw Error(se(299));var n=!1,r="",i=I4;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Gx(e,1,!1,null,null,n,!1,r,i),e[Co]=t.current,Rf(e.nodeType===8?e.parentNode:e),new Wx(t)};bi.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(se(188)):(e=Object.keys(e).join(","),Error(se(268,e)));return e=QO(t),e=e===null?null:e.stateNode,e};bi.flushSync=function(e){return kl(e)};bi.hydrate=function(e,t,n){if(!ev(t))throw Error(se(200));return tv(null,e,t,!0,n)};bi.hydrateRoot=function(e,t,n){if(!Kx(e))throw Error(se(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=I4;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=T4(t,null,e,1,n??null,i,!1,s,o),e[Co]=t.current,Rf(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Z0(t)};bi.render=function(e,t,n){if(!ev(t))throw Error(se(200));return tv(null,e,t,!1,n)};bi.unmountComponentAtNode=function(e){if(!ev(e))throw Error(se(40));return e._reactRootContainer?(kl(function(){tv(null,null,e,!1,function(){e._reactRootContainer=null,e[Co]=null})}),!0):!1};bi.unstable_batchedUpdates=Fx;bi.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ev(n))throw Error(se(200));if(e==null||e._reactInternals===void 0)throw Error(se(38));return tv(e,t,n,!1,r)};bi.version="18.2.0-next-9e3b772b8-20220608";function R4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(R4)}catch(e){console.error(e)}}R4(),TO.exports=bi;var ju=TO.exports;const h1e=hr(ju),yI=Te.createContext(null);function Yre(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yx(e,t){var n=function(s){return t&&A.isValidElement(s)?t(s):s},r=Object.create(null);return e&&A.Children.map(e,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function Qre(e,t){e=e||{},t=t||{};function n(u){return u in t?t[u]:e[u]}var r=Object.create(null),i=[];for(var s in e)s in t?i.length&&(r[s]=i,i=[]):i.push(s);var o,a={};for(var l in t){if(r[l])for(o=0;o<r[l].length;o++){var c=r[l][o];a[r[l][o]]=n(c)}a[l]=n(l)}for(o=0;o<i.length;o++)a[i[o]]=n(i[o]);return a}function Za(e,t,n){return n[t]!=null?n[t]:e.props[t]}function Jre(e,t){return Yx(e.children,function(n){return A.cloneElement(n,{onExited:t.bind(null,n),in:!0,appear:Za(n,"appear",e),enter:Za(n,"enter",e),exit:Za(n,"exit",e)})})}function Xre(e,t,n){var r=Yx(e.children),i=Qre(t,r);return Object.keys(i).forEach(function(s){var o=i[s];if(A.isValidElement(o)){var a=s in t,l=s in r,c=t[s],u=A.isValidElement(c)&&!c.props.in;l&&(!a||u)?i[s]=A.cloneElement(o,{onExited:n.bind(null,o),in:!0,exit:Za(o,"exit",e),enter:Za(o,"enter",e)}):!l&&a&&!u?i[s]=A.cloneElement(o,{in:!1}):l&&a&&A.isValidElement(c)&&(i[s]=A.cloneElement(o,{onExited:n.bind(null,o),in:c.props.in,exit:Za(o,"exit",e),enter:Za(o,"enter",e)}))}}),i}var Zre=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},eie={component:"div",childFactory:function(t){return t}},Qx=function(e){Gte(t,e);function t(r,i){var s;s=e.call(this,r,i)||this;var o=s.handleExited.bind(Yre(s));return s.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},s}var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(i,s){var o=s.children,a=s.handleExited,l=s.firstRender;return{children:l?Jre(i,a):Xre(i,o,a),firstRender:!1}},n.handleExited=function(i,s){var o=Yx(this.props.children);i.key in o||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(a){var l=Oe({},a.children);return delete l[i.key],{children:l}}))},n.render=function(){var i=this.props,s=i.component,o=i.childFactory,a=Er(i,["component","childFactory"]),l=this.state.contextValue,c=Zre(this.state.children).map(o);return delete a.appear,delete a.enter,delete a.exit,s===null?Te.createElement(yI.Provider,{value:l},c):Te.createElement(yI.Provider,{value:l},Te.createElement(s,a,c))},t}(Te.Component);Qx.propTypes={};Qx.defaultProps=eie;const tie=Qx;function nie(e){return Object.keys(e).length===0}function rie(e=null){const t=A.useContext(ih);return!t||nie(t)?e:t}function Jx(e,t=0,n=1){return oO(e,t,n)}function iie(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function nv(e){if(e.type)return e;if(e.charAt(0)==="#")return nv(iie(e));const t=e.indexOf("("),n=e.substring(0,t);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error(bl(9,e));let r=e.substring(t+1,e.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error(bl(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}function Xx(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return t.indexOf("rgb")!==-1?r=r.map((i,s)=>s<3?parseInt(i,10):i):t.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),t.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${t}(${r})`}function sie(e,t){return e=nv(e),t=Jx(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,Xx(e)}function p1e(e,t){if(e=nv(e),t=Jx(t),e.type.indexOf("hsl")!==-1)e.values[2]*=1-t;else if(e.type.indexOf("rgb")!==-1||e.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)e.values[n]*=1-t;return Xx(e)}function g1e(e,t){if(e=nv(e),t=Jx(t),e.type.indexOf("hsl")!==-1)e.values[2]+=(100-e.values[2])*t;else if(e.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(e.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return Xx(e)}const oie=A.createContext(null),M4=oie;function P4(){return A.useContext(M4)}const aie=typeof Symbol=="function"&&Symbol.for,lie=aie?Symbol.for("mui.nested"):"__THEME_NESTED__";function cie(e,t){return typeof t=="function"?t(e):Oe({},e,t)}function uie(e){const{children:t,theme:n}=e,r=P4(),i=A.useMemo(()=>{const s=r===null?n:cie(r,n);return s!=null&&(s[lie]=r!==null),s},[n,r]);return f.jsx(M4.Provider,{value:i,children:t})}const die=["value"],j4=A.createContext();function fie(e){let{value:t}=e,n=Er(e,die);return f.jsx(j4.Provider,Oe({value:t??!0},n))}const m1e=()=>{const e=A.useContext(j4);return e??!1},AI={};function _I(e,t,n,r=!1){return A.useMemo(()=>{const i=e&&t[e]||t;if(typeof n=="function"){const s=n(i),o=e?Oe({},t,{[e]:s}):s;return r?()=>o:o}return e?Oe({},t,{[e]:n}):Oe({},t,n)},[e,t,n,r])}function hie(e){const{children:t,theme:n,themeId:r}=e,i=rie(AI),s=P4()||AI,o=_I(r,i,n),a=_I(r,s,n,!0),l=o.direction==="rtl";return f.jsx(uie,{theme:a,children:f.jsx(ih.Provider,{value:o,children:f.jsx(fie,{value:l,children:f.jsx(tZ,{value:o==null?void 0:o.components,children:t})})})})}function pie(e){const{className:t,classes:n,pulsate:r=!1,rippleX:i,rippleY:s,rippleSize:o,in:a,onExited:l,timeout:c}=e,[u,d]=A.useState(!1),h=Fr(t,n.ripple,n.rippleVisible,r&&n.ripplePulsate),p={width:o,height:o,top:-(o/2)+s,left:-(o/2)+i},g=Fr(n.child,u&&n.childLeaving,r&&n.childPulsate);return!a&&!u&&d(!0),A.useEffect(()=>{if(!a&&l!=null){const m=setTimeout(l,c);return()=>{clearTimeout(m)}}},[l,a,c]),f.jsx("span",{className:h,style:p,children:f.jsx("span",{className:g})})}const Mi=Cu("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),gie=["center","classes","className"];let rv=e=>e,bI,SI,xI,wI;const O_=550,mie=80,vie=wa(bI||(bI=rv`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),yie=wa(SI||(SI=rv`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),Aie=wa(xI||(xI=rv`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),_ie=Vo("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),bie=Vo(pie,{name:"MuiTouchRipple",slot:"Ripple"})(wI||(wI=rv`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),Mi.rippleVisible,vie,O_,({theme:e})=>e.transitions.easing.easeInOut,Mi.ripplePulsate,({theme:e})=>e.transitions.duration.shorter,Mi.child,Mi.childLeaving,yie,O_,({theme:e})=>e.transitions.easing.easeInOut,Mi.childPulsate,Aie,({theme:e})=>e.transitions.easing.easeInOut),Sie=A.forwardRef(function(t,n){const r=Tu({props:t,name:"MuiTouchRipple"}),{center:i=!1,classes:s={},className:o}=r,a=Er(r,gie),[l,c]=A.useState([]),u=A.useRef(0),d=A.useRef(null);A.useEffect(()=>{d.current&&(d.current(),d.current=null)},[l]);const h=A.useRef(!1),p=UX(),g=A.useRef(null),m=A.useRef(null),_=A.useCallback(x=>{const{pulsate:b,rippleX:w,rippleY:E,rippleSize:T,cb:$}=x;c(N=>[...N,f.jsx(bie,{classes:{ripple:Fr(s.ripple,Mi.ripple),rippleVisible:Fr(s.rippleVisible,Mi.rippleVisible),ripplePulsate:Fr(s.ripplePulsate,Mi.ripplePulsate),child:Fr(s.child,Mi.child),childLeaving:Fr(s.childLeaving,Mi.childLeaving),childPulsate:Fr(s.childPulsate,Mi.childPulsate)},timeout:O_,pulsate:b,rippleX:w,rippleY:E,rippleSize:T},u.current)]),u.current+=1,d.current=$},[s]),v=A.useCallback((x={},b={},w=()=>{})=>{const{pulsate:E=!1,center:T=i||b.pulsate,fakeElement:$=!1}=b;if((x==null?void 0:x.type)==="mousedown"&&h.current){h.current=!1;return}(x==null?void 0:x.type)==="touchstart"&&(h.current=!0);const N=$?null:m.current,B=N?N.getBoundingClientRect():{width:0,height:0,left:0,top:0};let K,P,L;if(T||x===void 0||x.clientX===0&&x.clientY===0||!x.clientX&&!x.touches)K=Math.round(B.width/2),P=Math.round(B.height/2);else{const{clientX:R,clientY:I}=x.touches&&x.touches.length>0?x.touches[0]:x;K=Math.round(R-B.left),P=Math.round(I-B.top)}if(T)L=Math.sqrt((2*B.width**2+B.height**2)/3),L%2===0&&(L+=1);else{const R=Math.max(Math.abs((N?N.clientWidth:0)-K),K)*2+2,I=Math.max(Math.abs((N?N.clientHeight:0)-P),P)*2+2;L=Math.sqrt(R**2+I**2)}x!=null&&x.touches?g.current===null&&(g.current=()=>{_({pulsate:E,rippleX:K,rippleY:P,rippleSize:L,cb:w})},p.start(mie,()=>{g.current&&(g.current(),g.current=null)})):_({pulsate:E,rippleX:K,rippleY:P,rippleSize:L,cb:w})},[i,_,p]),y=A.useCallback(()=>{v({},{pulsate:!0})},[v]),S=A.useCallback((x,b)=>{if(p.clear(),(x==null?void 0:x.type)==="touchend"&&g.current){g.current(),g.current=null,p.start(0,()=>{S(x,b)});return}g.current=null,c(w=>w.length>0?w.slice(1):w),d.current=b},[p]);return A.useImperativeHandle(n,()=>({pulsate:y,start:v,stop:S}),[y,v,S]),f.jsx(_ie,Oe({className:Fr(Mi.root,s.root,o),ref:m},a,{children:f.jsx(tie,{component:null,exit:!0,children:l})}))}),xie=Sie;function wie(e){return ku("MuiButtonBase",e)}const Eie=Cu("MuiButtonBase",["root","disabled","focusVisible"]),kie=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],Cie=e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:r,classes:i}=e,o=lh({root:["root",t&&"disabled",n&&"focusVisible"]},wie,i);return n&&r&&(o.root+=` ${r}`),o},Tie=Vo("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${Eie.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),Iie=A.forwardRef(function(t,n){const r=Tu({props:t,name:"MuiButtonBase"}),{action:i,centerRipple:s=!1,children:o,className:a,component:l="button",disabled:c=!1,disableRipple:u=!1,disableTouchRipple:d=!1,focusRipple:h=!1,LinkComponent:p="a",onBlur:g,onClick:m,onContextMenu:_,onDragLeave:v,onFocus:y,onFocusVisible:S,onKeyDown:x,onKeyUp:b,onMouseDown:w,onMouseLeave:E,onMouseUp:T,onTouchEnd:$,onTouchMove:N,onTouchStart:B,tabIndex:K=0,TouchRippleProps:P,touchRippleRef:L,type:R}=r,I=Er(r,kie),F=A.useRef(null),j=A.useRef(null),z=j1(j,L),{isFocusVisibleRef:V,onFocus:G,onBlur:U,ref:ne}=iO(),[O,de]=A.useState(!1);c&&O&&de(!1),A.useImperativeHandle(i,()=>({focusVisible:()=>{de(!0),F.current.focus()}}),[]);const[Z,oe]=A.useState(!1);A.useEffect(()=>{oe(!0)},[]);const Pe=Z&&!u&&!c;A.useEffect(()=>{O&&h&&!u&&Z&&j.current.pulsate()},[u,h,O,Z]);function Ae(ve,nt,mn=d){return gd(dt=>(nt&&nt(dt),!mn&&j.current&&j.current[ve](dt),!0))}const le=Ae("start",w),be=Ae("stop",_),He=Ae("stop",v),Fe=Ae("stop",T),Se=Ae("stop",ve=>{O&&ve.preventDefault(),E&&E(ve)}),Ee=Ae("start",B),Ke=Ae("stop",$),Ye=Ae("stop",N),Ie=Ae("stop",ve=>{U(ve),V.current===!1&&de(!1),g&&g(ve)},!1),at=gd(ve=>{F.current||(F.current=ve.currentTarget),G(ve),V.current===!0&&(de(!0),S&&S(ve)),y&&y(ve)}),Tt=()=>{const ve=F.current;return l&&l!=="button"&&!(ve.tagName==="A"&&ve.href)},en=A.useRef(!1),Pt=gd(ve=>{h&&!en.current&&O&&j.current&&ve.key===" "&&(en.current=!0,j.current.stop(ve,()=>{j.current.start(ve)})),ve.target===ve.currentTarget&&Tt()&&ve.key===" "&&ve.preventDefault(),x&&x(ve),ve.target===ve.currentTarget&&Tt()&&ve.key==="Enter"&&!c&&(ve.preventDefault(),m&&m(ve))}),gn=gd(ve=>{h&&ve.key===" "&&j.current&&O&&!ve.defaultPrevented&&(en.current=!1,j.current.stop(ve,()=>{j.current.pulsate(ve)})),b&&b(ve),m&&ve.target===ve.currentTarget&&Tt()&&ve.key===" "&&!ve.defaultPrevented&&m(ve)});let ct=l;ct==="button"&&(I.href||I.to)&&(ct=p);const _t={};ct==="button"?(_t.type=R===void 0?"button":R,_t.disabled=c):(!I.href&&!I.to&&(_t.role="button"),c&&(_t["aria-disabled"]=c));const Wt=j1(n,ne,F),Je=Oe({},r,{centerRipple:s,component:l,disabled:c,disableRipple:u,disableTouchRipple:d,focusRipple:h,tabIndex:K,focusVisible:O}),jt=Cie(Je);return f.jsxs(Tie,Oe({as:ct,className:Fr(jt.root,a),ownerState:Je,onBlur:Ie,onClick:m,onContextMenu:be,onFocus:at,onKeyDown:Pt,onKeyUp:gn,onMouseDown:le,onMouseLeave:Se,onMouseUp:Fe,onDragLeave:He,onTouchEnd:Ke,onTouchMove:Ye,onTouchStart:Ee,ref:Wt,tabIndex:c?-1:K,type:R},_t,I,{children:[o,Pe?f.jsx(xie,Oe({ref:z,center:s},P)):null]}))}),Rie=Iie;function Mie(e){return ku("MuiIconButton",e)}const Pie=Cu("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),jie=Pie,Oie=["edge","children","className","color","disabled","disableFocusRipple","size"],Vie=e=>{const{classes:t,disabled:n,color:r,edge:i,size:s}=e,o={root:["root",n&&"disabled",r!=="default"&&`color${Zn(r)}`,i&&`edge${Zn(i)}`,`size${Zn(s)}`]};return lh(o,Mie,t)},Lie=Vo(Rie,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="default"&&t[`color${Zn(n.color)}`],n.edge&&t[`edge${Zn(n.edge)}`],t[`size${Zn(n.size)}`]]}})(({theme:e,ownerState:t})=>Oe({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest})},!t.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:sT(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.edge==="start"&&{marginLeft:t.size==="small"?-3:-12},t.edge==="end"&&{marginRight:t.size==="small"?-3:-12}),({theme:e,ownerState:t})=>{var n;const r=(n=(e.vars||e).palette)==null?void 0:n[t.color];return Oe({},t.color==="inherit"&&{color:"inherit"},t.color!=="inherit"&&t.color!=="default"&&Oe({color:r==null?void 0:r.main},!t.disableRipple&&{"&:hover":Oe({},r&&{backgroundColor:e.vars?`rgba(${r.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:sT(r.main,e.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),t.size==="small"&&{padding:5,fontSize:e.typography.pxToRem(18)},t.size==="large"&&{padding:12,fontSize:e.typography.pxToRem(28)},{[`&.${jie.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled}})}),Nie=A.forwardRef(function(t,n){const r=Tu({props:t,name:"MuiIconButton"}),{edge:i=!1,children:s,className:o,color:a="default",disabled:l=!1,disableFocusRipple:c=!1,size:u="medium"}=r,d=Er(r,Oie),h=Oe({},r,{edge:i,color:a,disabled:l,disableFocusRipple:c,size:u}),p=Vie(h);return f.jsx(Lie,Oe({className:Fr(p.root,o),centerRipple:!0,focusRipple:!c,disabled:l,ref:n},d,{ownerState:h,children:s}))}),Zx=Nie,cu=Math.min,cl=Math.max,Am=Math.round,yp=Math.floor,Sa=e=>({x:e,y:e}),Bie={left:"right",right:"left",bottom:"top",top:"bottom"},Die={start:"end",end:"start"};function V_(e,t,n){return cl(e,cu(t,n))}function vh(e,t){return typeof e=="function"?e(t):e}function Cl(e){return e.split("-")[0]}function yh(e){return e.split("-")[1]}function O4(e){return e==="x"?"y":"x"}function ew(e){return e==="y"?"height":"width"}function iv(e){return["top","bottom"].includes(Cl(e))?"y":"x"}function tw(e){return O4(iv(e))}function $ie(e,t,n){n===void 0&&(n=!1);const r=yh(e),i=tw(e),s=ew(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(o=_m(o)),[o,_m(o)]}function Fie(e){const t=_m(e);return[L_(e),t,L_(t)]}function L_(e){return e.replace(/start|end/g,t=>Die[t])}function zie(e,t,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?s:o;default:return[]}}function Uie(e,t,n,r){const i=yh(e);let s=zie(Cl(e),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),t&&(s=s.concat(s.map(L_)))),s}function _m(e){return e.replace(/left|right|bottom|top/g,t=>Bie[t])}function Hie(e){return{top:0,right:0,bottom:0,left:0,...e}}function V4(e){return typeof e!="number"?Hie(e):{top:e,right:e,bottom:e,left:e}}function bm(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}function EI(e,t,n){let{reference:r,floating:i}=e;const s=iv(t),o=tw(t),a=ew(o),l=Cl(t),c=s==="y",u=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,h=r[a]/2-i[a]/2;let p;switch(l){case"top":p={x:u,y:r.y-i.height};break;case"bottom":p={x:u,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:d};break;case"left":p={x:r.x-i.width,y:d};break;default:p={x:r.x,y:r.y}}switch(yh(t)){case"start":p[o]-=h*(n&&c?-1:1);break;case"end":p[o]+=h*(n&&c?-1:1);break}return p}const Gie=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(t));let c=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:u,y:d}=EI(c,r,l),h=r,p={},g=0;for(let m=0;m<a.length;m++){const{name:_,fn:v}=a[m],{x:y,y:S,data:x,reset:b}=await v({x:u,y:d,initialPlacement:r,placement:h,strategy:i,middlewareData:p,rects:c,platform:o,elements:{reference:e,floating:t}});u=y??u,d=S??d,p={...p,[_]:{...p[_],...x}},b&&g<=50&&(g++,typeof b=="object"&&(b.placement&&(h=b.placement),b.rects&&(c=b.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):b.rects),{x:u,y:d}=EI(c,h,l)),m=-1)}return{x:u,y:d,placement:h,strategy:i,middlewareData:p}};async function L4(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:h=!1,padding:p=0}=vh(t,e),g=V4(p),_=a[h?d==="floating"?"reference":"floating":d],v=bm(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(_)))==null||n?_:_.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),y=d==="floating"?{...o.floating,x:r,y:i}:o.reference,S=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),x=await(s.isElement==null?void 0:s.isElement(S))?await(s.getScale==null?void 0:s.getScale(S))||{x:1,y:1}:{x:1,y:1},b=bm(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:S,strategy:l}):y);return{top:(v.top-b.top+g.top)/x.y,bottom:(b.bottom-v.bottom+g.bottom)/x.y,left:(v.left-b.left+g.left)/x.x,right:(b.right-v.right+g.right)/x.x}}const qie=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=t,{element:c,padding:u=0}=vh(e,t)||{};if(c==null)return{};const d=V4(u),h={x:n,y:r},p=tw(i),g=ew(p),m=await o.getDimensions(c),_=p==="y",v=_?"top":"left",y=_?"bottom":"right",S=_?"clientHeight":"clientWidth",x=s.reference[g]+s.reference[p]-h[p]-s.floating[g],b=h[p]-s.reference[p],w=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let E=w?w[S]:0;(!E||!await(o.isElement==null?void 0:o.isElement(w)))&&(E=a.floating[S]||s.floating[g]);const T=x/2-b/2,$=E/2-m[g]/2-1,N=cu(d[v],$),B=cu(d[y],$),K=N,P=E-m[g]-B,L=E/2-m[g]/2+T,R=V_(K,L,P),I=!l.arrow&&yh(i)!=null&&L!==R&&s.reference[g]/2-(L<K?N:B)-m[g]/2<0,F=I?L<K?L-K:L-P:0;return{[p]:h[p]+F,data:{[p]:R,centerOffset:L-R-F,...I&&{alignmentOffset:F}},reset:I}}}),Wie=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=t,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:m=!0,..._}=vh(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const v=Cl(i),y=Cl(a)===a,S=await(l.isRTL==null?void 0:l.isRTL(c.floating)),x=h||(y||!m?[_m(a)]:Fie(a));!h&&g!=="none"&&x.push(...Uie(a,m,g,S));const b=[a,...x],w=await L4(t,_),E=[];let T=((r=s.flip)==null?void 0:r.overflows)||[];if(u&&E.push(w[v]),d){const K=$ie(i,o,S);E.push(w[K[0]],w[K[1]])}if(T=[...T,{placement:i,overflows:E}],!E.every(K=>K<=0)){var $,N;const K=((($=s.flip)==null?void 0:$.index)||0)+1,P=b[K];if(P)return{data:{index:K,overflows:T},reset:{placement:P}};let L=(N=T.filter(R=>R.overflows[0]<=0).sort((R,I)=>R.overflows[1]-I.overflows[1])[0])==null?void 0:N.placement;if(!L)switch(p){case"bestFit":{var B;const R=(B=T.map(I=>[I.placement,I.overflows.filter(F=>F>0).reduce((F,j)=>F+j,0)]).sort((I,F)=>I[1]-F[1])[0])==null?void 0:B[0];R&&(L=R);break}case"initialPlacement":L=a;break}if(i!==L)return{reset:{placement:L}}}return{}}}};async function Kie(e,t){const{placement:n,platform:r,elements:i}=e,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Cl(n),a=yh(n),l=iv(n)==="y",c=["left","top"].includes(o)?-1:1,u=s&&l?-1:1,d=vh(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:g}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...d};return a&&typeof g=="number"&&(p=a==="end"?g*-1:g),l?{x:p*u,y:h*c}:{x:h*c,y:p*u}}const Yie=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=t,l=await Kie(t,e);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},Qie=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:_=>{let{x:v,y}=_;return{x:v,y}}},...l}=vh(e,t),c={x:n,y:r},u=await L4(t,l),d=iv(Cl(i)),h=O4(d);let p=c[h],g=c[d];if(s){const _=h==="y"?"top":"left",v=h==="y"?"bottom":"right",y=p+u[_],S=p-u[v];p=V_(y,p,S)}if(o){const _=d==="y"?"top":"left",v=d==="y"?"bottom":"right",y=g+u[_],S=g-u[v];g=V_(y,g,S)}const m=a.fn({...t,[h]:p,[d]:g});return{...m,data:{x:m.x-n,y:m.y-r}}}}};function xa(e){return N4(e)?(e.nodeName||"").toLowerCase():"#document"}function pi(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function No(e){var t;return(t=(N4(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function N4(e){return e instanceof Node||e instanceof pi(e).Node}function Ro(e){return e instanceof Element||e instanceof pi(e).Element}function to(e){return e instanceof HTMLElement||e instanceof pi(e).HTMLElement}function kI(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof pi(e).ShadowRoot}function Ah(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=Qi(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function Jie(e){return["table","td","th"].includes(xa(e))}function nw(e){const t=rw(),n=Qi(e);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function B4(e){let t=uu(e);for(;to(t)&&!sv(t);){if(nw(t))return t;t=uu(t)}return null}function rw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function sv(e){return["html","body","#document"].includes(xa(e))}function Qi(e){return pi(e).getComputedStyle(e)}function ov(e){return Ro(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function uu(e){if(xa(e)==="html")return e;const t=e.assignedSlot||e.parentNode||kI(e)&&e.host||No(e);return kI(t)?t.host:t}function D4(e){const t=uu(e);return sv(t)?e.ownerDocument?e.ownerDocument.body:e.body:to(t)&&Ah(t)?t:D4(t)}function Df(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=D4(e),s=i===((r=e.ownerDocument)==null?void 0:r.body),o=pi(i);return s?t.concat(o,o.visualViewport||[],Ah(i)?i:[],o.frameElement&&n?Df(o.frameElement):[]):t.concat(i,Df(i,[],n))}function $4(e){const t=Qi(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=to(e),s=i?e.offsetWidth:n,o=i?e.offsetHeight:r,a=Am(n)!==s||Am(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function iw(e){return Ro(e)?e:e.contextElement}function Dc(e){const t=iw(e);if(!to(t))return Sa(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:s}=$4(t);let o=(s?Am(n.width):n.width)/r,a=(s?Am(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const Xie=Sa(0);function F4(e){const t=pi(e);return!rw()||!t.visualViewport?Xie:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Zie(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==pi(e)?!1:t}function Tl(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),s=iw(e);let o=Sa(1);t&&(r?Ro(r)&&(o=Dc(r)):o=Dc(e));const a=Zie(s,n,r)?F4(s):Sa(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,u=i.width/o.x,d=i.height/o.y;if(s){const h=pi(s),p=r&&Ro(r)?pi(r):r;let g=h.frameElement;for(;g&&r&&p!==h;){const m=Dc(g),_=g.getBoundingClientRect(),v=Qi(g),y=_.left+(g.clientLeft+parseFloat(v.paddingLeft))*m.x,S=_.top+(g.clientTop+parseFloat(v.paddingTop))*m.y;l*=m.x,c*=m.y,u*=m.x,d*=m.y,l+=y,c+=S,g=pi(g).frameElement}}return bm({width:u,height:d,x:l,y:c})}const ese=[":popover-open",":modal"];function z4(e){let t=!1,n=0,r=0;function i(s){try{t=t||e.matches(s)}catch{}}if(ese.forEach(s=>{i(s)}),t){const s=B4(e);if(s){const o=s.getBoundingClientRect();n=o.x,r=o.y}}return[t,n,r]}function tse(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const s=No(r),[o]=t?z4(t.floating):[!1];if(r===s||o)return n;let a={scrollLeft:0,scrollTop:0},l=Sa(1);const c=Sa(0),u=to(r);if((u||!u&&i!=="fixed")&&((xa(r)!=="body"||Ah(s))&&(a=ov(r)),to(r))){const d=Tl(r);l=Dc(r),c.x=d.x+r.clientLeft,c.y=d.y+r.clientTop}return{width:n.width*l.x,height:n.height*l.y,x:n.x*l.x-a.scrollLeft*l.x+c.x,y:n.y*l.y-a.scrollTop*l.y+c.y}}function nse(e){return Array.from(e.getClientRects())}function U4(e){return Tl(No(e)).left+ov(e).scrollLeft}function rse(e){const t=No(e),n=ov(e),r=e.ownerDocument.body,i=cl(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=cl(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+U4(e);const a=-n.scrollTop;return Qi(r).direction==="rtl"&&(o+=cl(t.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function ise(e,t){const n=pi(e),r=No(e),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const c=rw();(!c||c&&t==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function sse(e,t){const n=Tl(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,s=to(e)?Dc(e):Sa(1),o=e.clientWidth*s.x,a=e.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function CI(e,t,n){let r;if(t==="viewport")r=ise(e,n);else if(t==="document")r=rse(No(e));else if(Ro(t))r=sse(t,n);else{const i=F4(e);r={...t,x:t.x-i.x,y:t.y-i.y}}return bm(r)}function H4(e,t){const n=uu(e);return n===t||!Ro(n)||sv(n)?!1:Qi(n).position==="fixed"||H4(n,t)}function ose(e,t){const n=t.get(e);if(n)return n;let r=Df(e,[],!1).filter(a=>Ro(a)&&xa(a)!=="body"),i=null;const s=Qi(e).position==="fixed";let o=s?uu(e):e;for(;Ro(o)&&!sv(o);){const a=Qi(o),l=nw(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Ah(o)&&!l&&H4(e,o))?r=r.filter(u=>u!==o):i=a,o=uu(o)}return t.set(e,r),r}function ase(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const o=[...n==="clippingAncestors"?ose(t,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,u)=>{const d=CI(t,u,i);return c.top=cl(d.top,c.top),c.right=cu(d.right,c.right),c.bottom=cu(d.bottom,c.bottom),c.left=cl(d.left,c.left),c},CI(t,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function lse(e){const{width:t,height:n}=$4(e);return{width:t,height:n}}function cse(e,t,n,r){const i=to(t),s=No(t),o=n==="fixed",a=Tl(e,!0,o,t);let l={scrollLeft:0,scrollTop:0};const c=Sa(0);if(i||!i&&!o)if((xa(t)!=="body"||Ah(s))&&(l=ov(t)),i){const m=Tl(t,!0,o,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else s&&(c.x=U4(s));let u=a.left+l.scrollLeft-c.x,d=a.top+l.scrollTop-c.y;const[h,p,g]=z4(r);return h&&(u+=p,d+=g,i&&(u+=t.clientLeft,d+=t.clientTop)),{x:u,y:d,width:a.width,height:a.height}}function TI(e,t){return!to(e)||Qi(e).position==="fixed"?null:t?t(e):e.offsetParent}function G4(e,t){const n=pi(e);if(!to(e))return n;let r=TI(e,t);for(;r&&Jie(r)&&Qi(r).position==="static";)r=TI(r,t);return r&&(xa(r)==="html"||xa(r)==="body"&&Qi(r).position==="static"&&!nw(r))?n:r||B4(e)||n}const use=async function(e){const t=this.getOffsetParent||G4,n=this.getDimensions;return{reference:cse(e.reference,await t(e.floating),e.strategy,e.floating),floating:{x:0,y:0,...await n(e.floating)}}};function dse(e){return Qi(e).direction==="rtl"}const fse={convertOffsetParentRelativeRectToViewportRelativeRect:tse,getDocumentElement:No,getClippingRect:ase,getOffsetParent:G4,getElementRects:use,getClientRects:nse,getDimensions:lse,getScale:Dc,isElement:Ro,isRTL:dse};function hse(e,t){let n=null,r;const i=No(e);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const{left:c,top:u,width:d,height:h}=e.getBoundingClientRect();if(a||t(),!d||!h)return;const p=yp(u),g=yp(i.clientWidth-(c+d)),m=yp(i.clientHeight-(u+h)),_=yp(c),y={rootMargin:-p+"px "+-g+"px "+-m+"px "+-_+"px",threshold:cl(0,cu(1,l))||1};let S=!0;function x(b){const w=b[0].intersectionRatio;if(w!==l){if(!S)return o();w?o(!1,w):r=setTimeout(()=>{o(!1,1e-7)},100)}S=!1}try{n=new IntersectionObserver(x,{...y,root:i.ownerDocument})}catch{n=new IntersectionObserver(x,y)}n.observe(e)}return o(!0),s}function pse(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=iw(e),u=i||s?[...c?Df(c):[],...Df(t)]:[];u.forEach(v=>{i&&v.addEventListener("scroll",n,{passive:!0}),s&&v.addEventListener("resize",n)});const d=c&&a?hse(c,n):null;let h=-1,p=null;o&&(p=new ResizeObserver(v=>{let[y]=v;y&&y.target===c&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var S;(S=p)==null||S.observe(t)})),n()}),c&&!l&&p.observe(c),p.observe(t));let g,m=l?Tl(e):null;l&&_();function _(){const v=Tl(e);m&&(v.x!==m.x||v.y!==m.y||v.width!==m.width||v.height!==m.height)&&n(),m=v,g=requestAnimationFrame(_)}return n(),()=>{var v;u.forEach(y=>{i&&y.removeEventListener("scroll",n),s&&y.removeEventListener("resize",n)}),d==null||d(),(v=p)==null||v.disconnect(),p=null,l&&cancelAnimationFrame(g)}}const gse=Qie,mse=Wie,vse=qie,II=(e,t,n)=>{const r=new Map,i={platform:fse,...n},s={...i.platform,_c:r};return Gie(e,t,{...i,platform:s})};var q4={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=i(s,r(a)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)t.call(s,a)&&s[a]&&(o=i(o,a));return o}function i(s,o){return o?s?s+" "+o:s+o:s}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(q4);var yse=q4.exports;const N_=hr(yse);var RI={};const Ase="react-tooltip-core-styles",_se="react-tooltip-base-styles",MI={core:!1,base:!1};function PI({css:e,id:t=_se,type:n="base",ref:r}){var i,s;if(!e||typeof document>"u"||MI[n]||n==="core"&&typeof process<"u"&&(!((i=process==null?void 0:RI)===null||i===void 0)&&i.REACT_TOOLTIP_DISABLE_CORE_STYLES)||n!=="base"&&typeof process<"u"&&(!((s=process==null?void 0:RI)===null||s===void 0)&&s.REACT_TOOLTIP_DISABLE_BASE_STYLES))return;n==="core"&&(t=Ase),r||(r={});const{insertAt:o}=r;if(document.getElementById(t))return void console.warn(`[react-tooltip] Element with id '${t}' already exists. Call \`removeStyle()\` first`);const a=document.head||document.getElementsByTagName("head")[0],l=document.createElement("style");l.id=t,l.type="text/css",o==="top"&&a.firstChild?a.insertBefore(l,a.firstChild):a.appendChild(l),l.styleSheet?l.styleSheet.cssText=e:l.appendChild(document.createTextNode(e)),MI[n]=!0}const jI=async({elementReference:e=null,tooltipReference:t=null,tooltipArrowReference:n=null,place:r="top",offset:i=10,strategy:s="absolute",middlewares:o=[Yie(Number(i)),mse({fallbackAxisSideDirection:"start"}),gse({padding:5})],border:a})=>{if(!e)return{tooltipStyles:{},tooltipArrowStyles:{},place:r};if(t===null)return{tooltipStyles:{},tooltipArrowStyles:{},place:r};const l=o;return n?(l.push(vse({element:n,padding:5})),II(e,t,{placement:r,strategy:s,middleware:l}).then(({x:c,y:u,placement:d,middlewareData:h})=>{var p,g;const m={left:`${c}px`,top:`${u}px`,border:a},{x:_,y:v}=(p=h.arrow)!==null&&p!==void 0?p:{x:0,y:0},y=(g={top:"bottom",right:"left",bottom:"top",left:"right"}[d.split("-")[0]])!==null&&g!==void 0?g:"bottom",S=a&&{borderBottom:a,borderRight:a};let x=0;if(a){const b=`${a}`.match(/(\d+)px/);x=b!=null&&b[1]?Number(b[1]):1}return{tooltipStyles:m,tooltipArrowStyles:{left:_!=null?`${_}px`:"",top:v!=null?`${v}px`:"",right:"",bottom:"",...S,[y]:`-${4+x}px`},place:d}})):II(e,t,{placement:"bottom",strategy:s,middleware:l}).then(({x:c,y:u,placement:d})=>({tooltipStyles:{left:`${c}px`,top:`${u}px`},tooltipArrowStyles:{},place:d}))},OI=(e,t)=>!("CSS"in window&&"supports"in window.CSS)||window.CSS.supports(e,t),VI=(e,t,n)=>{let r=null;const i=function(...s){const o=()=>{r=null,n||e.apply(this,s)};n&&!r&&(e.apply(this,s),r=setTimeout(o,t)),n||(r&&clearTimeout(r),r=setTimeout(o,t))};return i.cancel=()=>{r&&(clearTimeout(r),r=null)},i},LI=e=>e!==null&&!Array.isArray(e)&&typeof e=="object",B_=(e,t)=>{if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t))return e.length===t.length&&e.every((i,s)=>B_(i,t[s]));if(Array.isArray(e)!==Array.isArray(t))return!1;if(!LI(e)||!LI(t))return e===t;const n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&n.every(i=>B_(e[i],t[i]))},bse=e=>{if(!(e instanceof HTMLElement||e instanceof SVGElement))return!1;const t=getComputedStyle(e);return["overflow","overflow-x","overflow-y"].some(n=>{const r=t.getPropertyValue(n);return r==="auto"||r==="scroll"})},NI=e=>{if(!e)return null;let t=e.parentElement;for(;t;){if(bse(t))return t;t=t.parentElement}return document.scrollingElement||document.documentElement},Sse=typeof window<"u"?A.useLayoutEffect:A.useEffect,xse="DEFAULT_TOOLTIP_ID",wse={anchorRefs:new Set,activeAnchor:{current:null},attach:()=>{},detach:()=>{},setActiveAnchor:()=>{}},Ese=A.createContext({getTooltipData:()=>wse});function W4(e=xse){return A.useContext(Ese).getTooltipData(e)}var Xl={tooltip:"core-styles-module_tooltip__3vRRp",fixed:"core-styles-module_fixed__pcSol",arrow:"core-styles-module_arrow__cvMwQ",noArrow:"core-styles-module_noArrow__xock6",clickable:"core-styles-module_clickable__ZuTTB",show:"core-styles-module_show__Nt9eE",closing:"core-styles-module_closing__sGnxF"},Fy={tooltip:"styles-module_tooltip__mnnfp",arrow:"styles-module_arrow__K0L3T",dark:"styles-module_dark__xNqje",light:"styles-module_light__Z6W-X",success:"styles-module_success__A2AKt",warning:"styles-module_warning__SCK0X",error:"styles-module_error__JvumD",info:"styles-module_info__BWdHW"};const kse=({forwardRef:e,id:t,className:n,classNameArrow:r,variant:i="dark",anchorId:s,anchorSelect:o,place:a="top",offset:l=10,events:c=["hover"],openOnClick:u=!1,positionStrategy:d="absolute",middlewares:h,wrapper:p,delayShow:g=0,delayHide:m=0,float:_=!1,hidden:v=!1,noArrow:y=!1,clickable:S=!1,closeOnEsc:x=!1,closeOnScroll:b=!1,closeOnResize:w=!1,openEvents:E,closeEvents:T,globalCloseEvents:$,imperativeModeOnly:N,style:B,position:K,afterShow:P,afterHide:L,content:R,contentWrapperRef:I,isOpen:F,defaultIsOpen:j=!1,setIsOpen:z,activeAnchor:V,setActiveAnchor:G,border:U,opacity:ne,arrowColor:O,role:de="tooltip"})=>{var Z;const oe=A.useRef(null),Pe=A.useRef(null),Ae=A.useRef(null),le=A.useRef(null),be=A.useRef(null),[He,Fe]=A.useState({tooltipStyles:{},tooltipArrowStyles:{},place:a}),[Se,Ee]=A.useState(!1),[Ke,Ye]=A.useState(!1),[Ie,at]=A.useState(null),Tt=A.useRef(!1),en=A.useRef(null),{anchorRefs:Pt,setActiveAnchor:gn}=W4(t),ct=A.useRef(!1),[_t,Wt]=A.useState([]),Je=A.useRef(!1),jt=u||c.includes("click"),ve=jt||(E==null?void 0:E.click)||(E==null?void 0:E.dblclick)||(E==null?void 0:E.mousedown),nt=E?{...E}:{mouseover:!0,focus:!0,mouseenter:!1,click:!1,dblclick:!1,mousedown:!1};!E&&jt&&Object.assign(nt,{mouseenter:!1,focus:!1,mouseover:!1,click:!0});const mn=T?{...T}:{mouseout:!0,blur:!0,mouseleave:!1,click:!1,dblclick:!1,mouseup:!1};!T&&jt&&Object.assign(mn,{mouseleave:!1,blur:!1,mouseout:!1});const dt=$?{...$}:{escape:x||!1,scroll:b||!1,resize:w||!1,clickOutsideAnchor:ve||!1};N&&(Object.assign(nt,{mouseenter:!1,focus:!1,click:!1,dblclick:!1,mousedown:!1}),Object.assign(mn,{mouseleave:!1,blur:!1,click:!1,dblclick:!1,mouseup:!1}),Object.assign(dt,{escape:!1,scroll:!1,resize:!1,clickOutsideAnchor:!1})),Sse(()=>(Je.current=!0,()=>{Je.current=!1}),[]);const rt=ye=>{Je.current&&(ye&&Ye(!0),setTimeout(()=>{Je.current&&(z==null||z(ye),F===void 0&&Ee(ye))},10))};A.useEffect(()=>{if(F===void 0)return()=>null;F&&Ye(!0);const ye=setTimeout(()=>{Ee(F)},10);return()=>{clearTimeout(ye)}},[F]),A.useEffect(()=>{if(Se!==Tt.current)if(be.current&&clearTimeout(be.current),Tt.current=Se,Se)P==null||P();else{const ye=(Ne=>{const ze=Ne.match(/^([\d.]+)(ms|s)$/);if(!ze)return 0;const[,Cn,Hn]=ze;return Number(Cn)*(Hn==="ms"?1:1e3)})(getComputedStyle(document.body).getPropertyValue("--rt-transition-show-delay"));be.current=setTimeout(()=>{Ye(!1),at(null),L==null||L()},ye+25)}},[Se]);const tn=ye=>{Fe(Ne=>B_(Ne,ye)?Ne:ye)},un=(ye=g)=>{Ae.current&&clearTimeout(Ae.current),Ke?rt(!0):Ae.current=setTimeout(()=>{rt(!0)},ye)},Kt=(ye=m)=>{le.current&&clearTimeout(le.current),le.current=setTimeout(()=>{ct.current||rt(!1)},ye)},pt=ye=>{var Ne;if(!ye)return;const ze=(Ne=ye.currentTarget)!==null&&Ne!==void 0?Ne:ye.target;if(!(ze!=null&&ze.isConnected))return G(null),void gn({current:null});g?un():rt(!0),G(ze),gn({current:ze}),le.current&&clearTimeout(le.current)},Ln=()=>{S?Kt(m||100):m?Kt():rt(!1),Ae.current&&clearTimeout(Ae.current)},gr=({x:ye,y:Ne})=>{var ze;const Cn={getBoundingClientRect:()=>({x:ye,y:Ne,width:0,height:0,top:Ne,left:ye,right:ye,bottom:Ne})};jI({place:(ze=Ie==null?void 0:Ie.place)!==null&&ze!==void 0?ze:a,offset:l,elementReference:Cn,tooltipReference:oe.current,tooltipArrowReference:Pe.current,strategy:d,middlewares:h,border:U}).then(Hn=>{tn(Hn)})},vn=ye=>{if(!ye)return;const Ne=ye,ze={x:Ne.clientX,y:Ne.clientY};gr(ze),en.current=ze},xi=ye=>{var Ne;if(!Se)return;const ze=ye.target;ze.isConnected&&(!((Ne=oe.current)===null||Ne===void 0)&&Ne.contains(ze)||[document.querySelector(`[id='${s}']`),..._t].some(Cn=>Cn==null?void 0:Cn.contains(ze))||(rt(!1),Ae.current&&clearTimeout(Ae.current)))},Zr=VI(pt,50,!0),bt=VI(Ln,50,!0),yn=ye=>{bt.cancel(),Zr(ye)},Ve=()=>{Zr.cancel(),bt()},Xe=A.useCallback(()=>{var ye,Ne;const ze=(ye=Ie==null?void 0:Ie.position)!==null&&ye!==void 0?ye:K;ze?gr(ze):_?en.current&&gr(en.current):V!=null&&V.isConnected&&jI({place:(Ne=Ie==null?void 0:Ie.place)!==null&&Ne!==void 0?Ne:a,offset:l,elementReference:V,tooltipReference:oe.current,tooltipArrowReference:Pe.current,strategy:d,middlewares:h,border:U}).then(Cn=>{Je.current&&tn(Cn)})},[Se,V,R,B,a,Ie==null?void 0:Ie.place,l,d,K,Ie==null?void 0:Ie.position,_]);A.useEffect(()=>{var ye,Ne;const ze=new Set(Pt);_t.forEach(It=>{ze.add({current:It})});const Cn=document.querySelector(`[id='${s}']`);Cn&&ze.add({current:Cn});const Hn=()=>{rt(!1)},ti=NI(V),wi=NI(oe.current);dt.scroll&&(window.addEventListener("scroll",Hn),ti==null||ti.addEventListener("scroll",Hn),wi==null||wi.addEventListener("scroll",Hn));let nr=null;dt.resize?window.addEventListener("resize",Hn):V&&oe.current&&(nr=pse(V,oe.current,Xe,{ancestorResize:!0,elementResize:!0,layoutShift:!0}));const Br=It=>{It.key==="Escape"&&rt(!1)};dt.escape&&window.addEventListener("keydown",Br),dt.clickOutsideAnchor&&window.addEventListener("click",xi);const Ot=[],Ma=It=>{Se&&(It==null?void 0:It.target)===V||pt(It)},Sv=It=>{Se&&(It==null?void 0:It.target)===V&&Ln()},kh=["mouseover","mouseout","mouseenter","mouseleave","focus","blur"],Ch=["click","dblclick","mousedown","mouseup"];Object.entries(nt).forEach(([It,ts])=>{ts&&(kh.includes(It)?Ot.push({event:It,listener:yn}):Ch.includes(It)&&Ot.push({event:It,listener:Ma}))}),Object.entries(mn).forEach(([It,ts])=>{ts&&(kh.includes(It)?Ot.push({event:It,listener:Ve}):Ch.includes(It)&&Ot.push({event:It,listener:Sv}))}),_&&Ot.push({event:"pointermove",listener:vn});const Th=()=>{ct.current=!0},Ih=()=>{ct.current=!1,Ln()};return S&&!ve&&((ye=oe.current)===null||ye===void 0||ye.addEventListener("mouseenter",Th),(Ne=oe.current)===null||Ne===void 0||Ne.addEventListener("mouseleave",Ih)),Ot.forEach(({event:It,listener:ts})=>{ze.forEach(Lu=>{var Pa;(Pa=Lu.current)===null||Pa===void 0||Pa.addEventListener(It,ts)})}),()=>{var It,ts;dt.scroll&&(window.removeEventListener("scroll",Hn),ti==null||ti.removeEventListener("scroll",Hn),wi==null||wi.removeEventListener("scroll",Hn)),dt.resize?window.removeEventListener("resize",Hn):nr==null||nr(),dt.clickOutsideAnchor&&window.removeEventListener("click",xi),dt.escape&&window.removeEventListener("keydown",Br),S&&!ve&&((It=oe.current)===null||It===void 0||It.removeEventListener("mouseenter",Th),(ts=oe.current)===null||ts===void 0||ts.removeEventListener("mouseleave",Ih)),Ot.forEach(({event:Lu,listener:Pa})=>{ze.forEach(xv=>{var Ul;(Ul=xv.current)===null||Ul===void 0||Ul.removeEventListener(Lu,Pa)})})}},[V,Xe,Ke,Pt,_t,E,T,$,jt,g,m]),A.useEffect(()=>{var ye,Ne;let ze=(Ne=(ye=Ie==null?void 0:Ie.anchorSelect)!==null&&ye!==void 0?ye:o)!==null&&Ne!==void 0?Ne:"";!ze&&t&&(ze=`[data-tooltip-id='${t.replace(/'/g,"\\'")}']`);const Cn=new MutationObserver(Hn=>{const ti=[],wi=[];Hn.forEach(nr=>{if(nr.type==="attributes"&&nr.attributeName==="data-tooltip-id"&&(nr.target.getAttribute("data-tooltip-id")===t?ti.push(nr.target):nr.oldValue===t&&wi.push(nr.target)),nr.type==="childList"){if(V){const Br=[...nr.removedNodes].filter(Ot=>Ot.nodeType===1);if(ze)try{wi.push(...Br.filter(Ot=>Ot.matches(ze))),wi.push(...Br.flatMap(Ot=>[...Ot.querySelectorAll(ze)]))}catch{}Br.some(Ot=>{var Ma;return!!(!((Ma=Ot==null?void 0:Ot.contains)===null||Ma===void 0)&&Ma.call(Ot,V))&&(Ye(!1),rt(!1),G(null),Ae.current&&clearTimeout(Ae.current),le.current&&clearTimeout(le.current),!0)})}if(ze)try{const Br=[...nr.addedNodes].filter(Ot=>Ot.nodeType===1);ti.push(...Br.filter(Ot=>Ot.matches(ze))),ti.push(...Br.flatMap(Ot=>[...Ot.querySelectorAll(ze)]))}catch{}}}),(ti.length||wi.length)&&Wt(nr=>[...nr.filter(Br=>!wi.includes(Br)),...ti])});return Cn.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["data-tooltip-id"],attributeOldValue:!0}),()=>{Cn.disconnect()}},[t,o,Ie==null?void 0:Ie.anchorSelect,V]),A.useEffect(()=>{Xe()},[Xe]),A.useEffect(()=>{if(!(I!=null&&I.current))return()=>null;const ye=new ResizeObserver(()=>{setTimeout(()=>Xe())});return ye.observe(I.current),()=>{ye.disconnect()}},[R,I==null?void 0:I.current]),A.useEffect(()=>{var ye;const Ne=document.querySelector(`[id='${s}']`),ze=[..._t,Ne];V&&ze.includes(V)||G((ye=_t[0])!==null&&ye!==void 0?ye:Ne)},[s,_t,V]),A.useEffect(()=>(j&&rt(!0),()=>{Ae.current&&clearTimeout(Ae.current),le.current&&clearTimeout(le.current)}),[]),A.useEffect(()=>{var ye;let Ne=(ye=Ie==null?void 0:Ie.anchorSelect)!==null&&ye!==void 0?ye:o;if(!Ne&&t&&(Ne=`[data-tooltip-id='${t.replace(/'/g,"\\'")}']`),Ne)try{const ze=Array.from(document.querySelectorAll(Ne));Wt(ze)}catch{Wt([])}},[t,o,Ie==null?void 0:Ie.anchorSelect]),A.useEffect(()=>{Ae.current&&(clearTimeout(Ae.current),un(g))},[g]);const Un=(Z=Ie==null?void 0:Ie.content)!==null&&Z!==void 0?Z:R,ei=Se&&Object.keys(He.tooltipStyles).length>0;return A.useImperativeHandle(e,()=>({open:ye=>{if(ye!=null&&ye.anchorSelect)try{document.querySelector(ye.anchorSelect)}catch{return void console.warn(`[react-tooltip] "${ye.anchorSelect}" is not a valid CSS selector`)}at(ye??null),ye!=null&&ye.delay?un(ye.delay):rt(!0)},close:ye=>{ye!=null&&ye.delay?Kt(ye.delay):rt(!1)},activeAnchor:V,place:He.place,isOpen:!!(Ke&&!v&&Un&&ei)})),Ke&&!v&&Un?Te.createElement(p,{id:t,role:de,className:N_("react-tooltip",Xl.tooltip,Fy.tooltip,Fy[i],n,`react-tooltip__place-${He.place}`,Xl[ei?"show":"closing"],ei?"react-tooltip__show":"react-tooltip__closing",d==="fixed"&&Xl.fixed,S&&Xl.clickable),onTransitionEnd:ye=>{be.current&&clearTimeout(be.current),Se||ye.propertyName!=="opacity"||(Ye(!1),at(null),L==null||L())},style:{...B,...He.tooltipStyles,opacity:ne!==void 0&&ei?ne:void 0},ref:oe},Un,Te.createElement(p,{className:N_("react-tooltip-arrow",Xl.arrow,Fy.arrow,r,y&&Xl.noArrow),style:{...He.tooltipArrowStyles,background:O?`linear-gradient(to right bottom, transparent 50%, ${O} 50%)`:void 0},ref:Pe})):null},Cse=({content:e})=>Te.createElement("span",{dangerouslySetInnerHTML:{__html:e}}),Tse=Te.forwardRef(({id:e,anchorId:t,anchorSelect:n,content:r,html:i,render:s,className:o,classNameArrow:a,variant:l="dark",place:c="top",offset:u=10,wrapper:d="div",children:h=null,events:p=["hover"],openOnClick:g=!1,positionStrategy:m="absolute",middlewares:_,delayShow:v=0,delayHide:y=0,float:S=!1,hidden:x=!1,noArrow:b=!1,clickable:w=!1,closeOnEsc:E=!1,closeOnScroll:T=!1,closeOnResize:$=!1,openEvents:N,closeEvents:B,globalCloseEvents:K,imperativeModeOnly:P=!1,style:L,position:R,isOpen:I,defaultIsOpen:F=!1,disableStyleInjection:j=!1,border:z,opacity:V,arrowColor:G,setIsOpen:U,afterShow:ne,afterHide:O,role:de="tooltip"},Z)=>{const[oe,Pe]=A.useState(r),[Ae,le]=A.useState(i),[be,He]=A.useState(c),[Fe,Se]=A.useState(l),[Ee,Ke]=A.useState(u),[Ye,Ie]=A.useState(v),[at,Tt]=A.useState(y),[en,Pt]=A.useState(S),[gn,ct]=A.useState(x),[_t,Wt]=A.useState(d),[Je,jt]=A.useState(p),[ve,nt]=A.useState(m),[mn,dt]=A.useState(null),[rt,tn]=A.useState(null),un=A.useRef(j),{anchorRefs:Kt,activeAnchor:pt}=W4(e),Ln=bt=>bt==null?void 0:bt.getAttributeNames().reduce((yn,Ve)=>{var Xe;return Ve.startsWith("data-tooltip-")&&(yn[Ve.replace(/^data-tooltip-/,"")]=(Xe=bt==null?void 0:bt.getAttribute(Ve))!==null&&Xe!==void 0?Xe:null),yn},{}),gr=bt=>{const yn={place:Ve=>{var Xe;He((Xe=Ve)!==null&&Xe!==void 0?Xe:c)},content:Ve=>{Pe(Ve??r)},html:Ve=>{le(Ve??i)},variant:Ve=>{var Xe;Se((Xe=Ve)!==null&&Xe!==void 0?Xe:l)},offset:Ve=>{Ke(Ve===null?u:Number(Ve))},wrapper:Ve=>{var Xe;Wt((Xe=Ve)!==null&&Xe!==void 0?Xe:d)},events:Ve=>{const Xe=Ve==null?void 0:Ve.split(" ");jt(Xe??p)},"position-strategy":Ve=>{var Xe;nt((Xe=Ve)!==null&&Xe!==void 0?Xe:m)},"delay-show":Ve=>{Ie(Ve===null?v:Number(Ve))},"delay-hide":Ve=>{Tt(Ve===null?y:Number(Ve))},float:Ve=>{Pt(Ve===null?S:Ve==="true")},hidden:Ve=>{ct(Ve===null?x:Ve==="true")},"class-name":Ve=>{dt(Ve)}};Object.values(yn).forEach(Ve=>Ve(null)),Object.entries(bt).forEach(([Ve,Xe])=>{var Un;(Un=yn[Ve])===null||Un===void 0||Un.call(yn,Xe)})};A.useEffect(()=>{Pe(r)},[r]),A.useEffect(()=>{le(i)},[i]),A.useEffect(()=>{He(c)},[c]),A.useEffect(()=>{Se(l)},[l]),A.useEffect(()=>{Ke(u)},[u]),A.useEffect(()=>{Ie(v)},[v]),A.useEffect(()=>{Tt(y)},[y]),A.useEffect(()=>{Pt(S)},[S]),A.useEffect(()=>{ct(x)},[x]),A.useEffect(()=>{nt(m)},[m]),A.useEffect(()=>{un.current!==j&&console.warn("[react-tooltip] Do not change `disableStyleInjection` dynamically.")},[j]),A.useEffect(()=>{typeof window<"u"&&window.dispatchEvent(new CustomEvent("react-tooltip-inject-styles",{detail:{disableCore:j==="core",disableBase:j}}))},[]),A.useEffect(()=>{var bt;const yn=new Set(Kt);let Ve=n;if(!Ve&&e&&(Ve=`[data-tooltip-id='${e.replace(/'/g,"\\'")}']`),Ve)try{document.querySelectorAll(Ve).forEach(Ne=>{yn.add({current:Ne})})}catch{console.warn(`[react-tooltip] "${Ve}" is not a valid CSS selector`)}const Xe=document.querySelector(`[id='${t}']`);if(Xe&&yn.add({current:Xe}),!yn.size)return()=>null;const Un=(bt=rt??Xe)!==null&&bt!==void 0?bt:pt.current,ei=new MutationObserver(Ne=>{Ne.forEach(ze=>{var Cn;if(!Un||ze.type!=="attributes"||!(!((Cn=ze.attributeName)===null||Cn===void 0)&&Cn.startsWith("data-tooltip-")))return;const Hn=Ln(Un);gr(Hn)})}),ye={attributes:!0,childList:!1,subtree:!1};if(Un){const Ne=Ln(Un);gr(Ne),ei.observe(Un,ye)}return()=>{ei.disconnect()}},[Kt,pt,rt,t,n]),A.useEffect(()=>{L!=null&&L.border&&console.warn("[react-tooltip] Do not set `style.border`. Use `border` prop instead."),z&&!OI("border",`${z}`)&&console.warn(`[react-tooltip] "${z}" is not a valid \`border\`.`),L!=null&&L.opacity&&console.warn("[react-tooltip] Do not set `style.opacity`. Use `opacity` prop instead."),V&&!OI("opacity",`${V}`)&&console.warn(`[react-tooltip] "${V}" is not a valid \`opacity\`.`)},[]);let vn=h;const xi=A.useRef(null);if(s){const bt=s({content:(rt==null?void 0:rt.getAttribute("data-tooltip-content"))||oe||null,activeAnchor:rt});vn=bt?Te.createElement("div",{ref:xi,className:"react-tooltip-content-wrapper"},bt):null}else oe&&(vn=oe);Ae&&(vn=Te.createElement(Cse,{content:Ae}));const Zr={forwardRef:Z,id:e,anchorId:t,anchorSelect:n,className:N_(o,mn),classNameArrow:a,content:vn,contentWrapperRef:xi,place:be,variant:Fe,offset:Ee,wrapper:_t,events:Je,openOnClick:g,positionStrategy:ve,middlewares:_,delayShow:Ye,delayHide:at,float:en,hidden:gn,noArrow:b,clickable:w,closeOnEsc:E,closeOnScroll:T,closeOnResize:$,openEvents:N,closeEvents:B,globalCloseEvents:K,imperativeModeOnly:P,style:L,position:R,isOpen:I,defaultIsOpen:F,border:z,opacity:V,arrowColor:G,setIsOpen:U,afterShow:ne,afterHide:O,activeAnchor:rt,setActiveAnchor:bt=>tn(bt),role:de};return Te.createElement(kse,{...Zr})});typeof window<"u"&&window.addEventListener("react-tooltip-inject-styles",e=>{e.detail.disableCore||PI({css:":root{--rt-color-white:#fff;--rt-color-dark:#222;--rt-color-success:#8dc572;--rt-color-error:#be6464;--rt-color-warning:#f0ad4e;--rt-color-info:#337ab7;--rt-opacity:0.9;--rt-transition-show-delay:0.15s;--rt-transition-closing-delay:0.15s}.core-styles-module_tooltip__3vRRp{position:absolute;top:0;left:0;pointer-events:none;opacity:0;will-change:opacity}.core-styles-module_fixed__pcSol{position:fixed}.core-styles-module_arrow__cvMwQ{position:absolute;background:inherit}.core-styles-module_noArrow__xock6{display:none}.core-styles-module_clickable__ZuTTB{pointer-events:auto}.core-styles-module_show__Nt9eE{opacity:var(--rt-opacity);transition:opacity var(--rt-transition-show-delay)ease-out}.core-styles-module_closing__sGnxF{opacity:0;transition:opacity var(--rt-transition-closing-delay)ease-in}",type:"core"}),e.detail.disableBase||PI({css:`
.styles-module_tooltip__mnnfp{padding:8px 16px;border-radius:3px;font-size:90%;width:max-content}.styles-module_arrow__K0L3T{width:8px;height:8px}[class*='react-tooltip__place-top']>.styles-module_arrow__K0L3T{transform:rotate(45deg)}[class*='react-tooltip__place-right']>.styles-module_arrow__K0L3T{transform:rotate(135deg)}[class*='react-tooltip__place-bottom']>.styles-module_arrow__K0L3T{transform:rotate(225deg)}[class*='react-tooltip__place-left']>.styles-module_arrow__K0L3T{transform:rotate(315deg)}.styles-module_dark__xNqje{background:var(--rt-color-dark);color:var(--rt-color-white)}.styles-module_light__Z6W-X{background-color:var(--rt-color-white);color:var(--rt-color-dark)}.styles-module_success__A2AKt{background-color:var(--rt-color-success);color:var(--rt-color-white)}.styles-module_warning__SCK0X{background-color:var(--rt-color-warning);color:var(--rt-color-white)}.styles-module_error__JvumD{background-color:var(--rt-color-error);color:var(--rt-color-white)}.styles-module_info__BWdHW{background-color:var(--rt-color-info);color:var(--rt-color-white)}`,type:"base"})});const Ise=C(Tse,{target:"e21jg9v2"})("&&&{background:rgba(0, 0, 0, 0.85);font-size:2rem;padding:1rem 1.5rem;border-radius:1rem;max-width:45rem;",De,";.MuiTooltip-arrow{&::before{background:rgba(0, 0, 0, 0.85);}}strong{color:",pe.colors.text.active,";}}z-index:10000;"),du=({children:e,title:t,open:n,...r})=>{const i=A.useRef(null),s=A.useMemo(()=>`${Math.random()}`,[]);return f.jsxs(f.Fragment,{children:[ju.createPortal(f.jsx(Ise,{...r,id:s,ref:i,isOpen:n,children:t}),document.body),A.cloneElement(e,{"data-tooltip-id":s})]})},BI=e=>`tooltip_dismissed_${e}`,Rse=({dismissKey:e,timeoutMs:t,oneTime:n=!0,children:r,title:i,...s})=>{const[o,a]=A.useState(!je.local.getItem(BI(e))),l=A.useCallback(()=>{je.local.setItem(BI(e),!0),a(void 0)},[e]);A.useEffect(()=>{if(t){const u=setTimeout(l,t);return()=>clearTimeout(u)}},[t,l]);const c=(o===void 0||!o&&!n)&&s.open===void 0;return f.jsx(du,{clickable:!0,open:c?s.open:o,hidden:s.open===!1,...s,title:f.jsxs(f.Fragment,{children:[i,o&&f.jsx(Mse,{children:f.jsx(Pse,{"data-test":"close-tooltip-button",onClick:l,children:"Close"})})]}),children:r},c?"uncontrolled":"controlled")},Mse=C("div",{target:"e21jg9v1"})({name:"g78t84",styles:"display:flex;justify-content:flex-end;margin-top:1rem"}),Pse=C("button",{target:"e21jg9v0"})("padding:0.25rem 2rem;font-weight:bold;cursor:pointer;color:white;border:1px solid white;border-radius:0.5rem;background:none;font-size:1.75rem;&:hover{color:",pe.colors.text.active,";border-color:",pe.colors.text.active,";}&:active{color:white;background:",pe.colors.text.active,";border-color:none;}");var sw={},jse=ot;Object.defineProperty(sw,"__esModule",{value:!0});var K4=sw.default=void 0,Ose=jse(ut()),Vse=f;K4=sw.default=(0,Ose.default)((0,Vse.jsx)("path",{d:"M7 14H5v5h5v-2H7zm-2-4h2V7h3V5H5zm12 7h-3v2h5v-5h-2zM14 5v2h3v3h2V5z"}),"Fullscreen");var ow={},Lse=ot;Object.defineProperty(ow,"__esModule",{value:!0});var Y4=ow.default=void 0,Nse=Lse(ut()),Bse=f;Y4=ow.default=(0,Nse.default)((0,Bse.jsx)("path",{d:"M5 16h3v3h2v-5H5zm3-8H5v2h5V5H8zm6 11h2v-3h3v-2h-5zm2-11V5h-2v5h5V8z"}),"FullscreenExit");function Dse(){const[,e]=$e(Db),[t]=$e(pr),[n,r]=A.useState(document.fullscreenElement!==null);return A.useEffect(()=>{const i=()=>{r(document.fullscreenElement!==null)};return document.addEventListener("fullscreenchange",i),()=>{document.removeEventListener("fullscreenchange",i)}},[]),f.jsx(du,{title:"Toggle fullscreen",place:"bottom-end",children:f.jsx(Zx,{"data-test":"toggle-fullscreen",size:"small",onClick:async()=>{var i,s;try{document.fullscreenElement===null?(e(!0),await document.body.requestFullscreen(),t&&(global.screen.orientation.unlock(),await((s=(i=global.screen.orientation).lock)==null?void 0:s.call(i,"landscape")))):(e(!1),await document.exitFullscreen(),t&&global.screen.orientation.unlock())}catch(o){console.info(o)}},children:n?f.jsx(Y4,{}):f.jsx(K4,{})})})}const Q4=gi("padding:0.1rem 0.3rem;font-size:2.6rem;display:flex;align-items:center;justify-content:center;text-align:center;cursor:pointer;border:0;background-color:rgba(0, 0, 0, 0.75);text-transform:uppercase;letter-spacing:0.2rem;pointer-events:auto;box-sizing:border-box;transition:300ms;",De,",;",""),$se=gi("@keyframes button-focus-loop{0%,100%{transform:scale(1.045);}50%{transform:scale(1.055);}}animation:button-focus-loop 600ms ease-in-out infinite both;transform:scale(1.05);background:",pe.colors.text.active,";",""),Fse=gi("transform:scale(1.05);background:",pe.colors.text.active,";",""),av=Xs()?Fse:$se,J4={animation:"focusAnimation 1000ms ease-in-out infinite both"},D_=gi("&:hover{",J4,";}&&&:active{background:",pe.colors.text.active,";}",""),zse=C("a",{target:"eo7q3x1"})(Q4," &&{color:white;text-decoration:none;}&[data-focused='true']{",av,";}&[disabled='false']{",D_,";}"),X4=({focused:e,...t})=>f.jsx(zse,{...t}),Use=C("button",{target:"eo7q3x0"})(Q4,";&:not(:disabled){",D_,";}&[data-focused='true']{",av,";}&[disabled='false']{",D_,";}"),Cs=({focused:e,...t})=>f.jsx(Use,{"data-focused":e,...t}),Hse={name:"1tj9yd6",styles:"cursor:default;color:#989898;background-color:#212121;border-width:0.3rem;pointer-events:none"},Z4=gi("margin:0.5rem 0;height:10rem;border:0 solid black;&[data-disabled='true']{",Hse,";}&[data-size='small']{height:5rem;}",""),Gse=C(X4,{target:"e1llc1k62"})(Z4,";"),qse=C(Cs,{target:"e1llc1k61"})(Z4,";"),Re=({size:e,disabled:t,...n})=>{const r="href"in n?Gse:qse;return f.jsx(r,{...n,"data-disabled":t,"data-size":e})},Ts=C("div",{target:"e1llc1k60"})({name:"10ov2k1",styles:"background:rgba(0, 0, 0, 0.5);padding:1.5rem;width:100vw;box-sizing:border-box;max-width:75rem;margin:2rem auto 0 auto;font-size:2.6rem;display:flex;flex-direction:column;gap:2rem;view-transition-name:menu-container"});function Ou({children:e,onClose:t}){return f.jsxs(f.Fragment,{children:[f.jsx(Kse,{onClick:t}),f.jsx(Wse,{onClick:t,children:f.jsx("div",{onClick:n=>n.stopPropagation(),children:e})})]})}const Wse=C("div",{target:"e7rcptf1"})({name:"1uzuniy",styles:"position:fixed;top:0;left:0;width:100vw;height:100vh;display:flex;align-items:center;justify-content:center;z-index:20001;overflow:auto"}),Kse=C("div",{target:"e7rcptf0"})({name:"25wq6t",styles:"position:fixed;top:0;left:0;background:rgba(0, 0, 0, 0.7);width:100vw;height:100vh;z-index:20000;backdrop-filter:blur(20px)"});let Yse=0;function Vu(e,t){const n=A.useRef(`${String(Math.random())}-${Yse++}`),{setKeyboard:r,unsetKeyboard:i}=A.useContext(HS),s=a=>{r(n.current,a)},o=()=>i(n.current);return A.useEffect(()=>(t&&s(e),o),[e,t]),{setHelp:s,clearHelp:o}}function zn(e={},t=!1){var x;const{enabled:n=!0,onBackspace:r,backspaceHelp:i=null,direction:s="vertical",additionalHelp:o={}}=e,[a,l]=A.useState(null),c=A.useRef([]),u=A.useRef([]),d=A.useRef({}),h=(x=d.current[a])==null?void 0:x.label,p=A.useMemo(()=>({[s]:null,accept:h??null,back:r?i:void 0,...o}),[h,d,i,s]);Vu(p,n);const g=()=>{var b;(b=d.current[a])==null||b.callback(),bS.play()},m=()=>{r&&(SS.play(),r())},_=b=>{const w=a?c.current.indexOf(a):0;g0.play(),l(c.current.at((w+b)%c.current.length)??null)};Bl({[s==="vertical"?"up":"left"]:()=>_(-1),[s==="vertical"?"down":"right"]:()=>_(1),accept:g,back:m},n,[a,c.current]);let v="";const y=(b,w,E,T=!1,{propName:$="onClick",disabled:N=!1}={})=>{if(N)return{disabled:N,focused:!1};u.current.push(b),w&&(d.current[b]={callback:w,label:E,propName:$}),T&&(v=b);const B=n&&a===b;return{focused:B,[$]:w,keyboardNavigationChangeFocus:_,"data-test":b,...n?{"data-focused":B,"data-e2e-focused":B}:{}}};return A.useEffect(()=>{var b;(b=document.querySelector(`[data-test="${a}"]`))==null||b.scrollIntoView({behavior:"smooth",block:"center"})},[a]),A.useEffect(()=>{let b=u.current.filter(w=>!c.current.includes(w));t&&b.length&&console.log("new elements",b),c.current=[...u.current],u.current.length=0,c.current.length&&(a===null||c.current.indexOf(a)===-1||b.includes(v))&&l(v||c.current[0])}),{focusElement:b=>{c.current.includes(b)&&l(b)},focused:a,register:y}}var Qse=Object.defineProperty,Sm=Object.getOwnPropertySymbols,eL=Object.prototype.hasOwnProperty,tL=Object.prototype.propertyIsEnumerable,DI=(e,t,n)=>t in e?Qse(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$f=(e,t)=>{for(var n in t||(t={}))eL.call(t,n)&&DI(e,n,t[n]);if(Sm)for(var n of Sm(t))tL.call(t,n)&&DI(e,n,t[n]);return e},aw=(e,t)=>{var n={};for(var r in e)eL.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Sm)for(var r of Sm(e))t.indexOf(r)<0&&tL.call(e,r)&&(n[r]=e[r]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var Il;(e=>{const t=class{constructor(l,c,u,d){if(this.version=l,this.errorCorrectionLevel=c,this.modules=[],this.isFunction=[],l<t.MIN_VERSION||l>t.MAX_VERSION)throw new RangeError("Version value out of range");if(d<-1||d>7)throw new RangeError("Mask value out of range");this.size=l*4+17;let h=[];for(let g=0;g<this.size;g++)h.push(!1);for(let g=0;g<this.size;g++)this.modules.push(h.slice()),this.isFunction.push(h.slice());this.drawFunctionPatterns();const p=this.addEccAndInterleave(u);if(this.drawCodewords(p),d==-1){let g=1e9;for(let m=0;m<8;m++){this.applyMask(m),this.drawFormatBits(m);const _=this.getPenaltyScore();_<g&&(d=m,g=_),this.applyMask(m)}}s(0<=d&&d<=7),this.mask=d,this.applyMask(d),this.drawFormatBits(d),this.isFunction=[]}static encodeText(l,c){const u=e.QrSegment.makeSegments(l);return t.encodeSegments(u,c)}static encodeBinary(l,c){const u=e.QrSegment.makeBytes(l);return t.encodeSegments([u],c)}static encodeSegments(l,c,u=1,d=40,h=-1,p=!0){if(!(t.MIN_VERSION<=u&&u<=d&&d<=t.MAX_VERSION)||h<-1||h>7)throw new RangeError("Invalid value");let g,m;for(g=u;;g++){const S=t.getNumDataCodewords(g,c)*8,x=a.getTotalBits(l,g);if(x<=S){m=x;break}if(g>=d)throw new RangeError("Data too long")}for(const S of[t.Ecc.MEDIUM,t.Ecc.QUARTILE,t.Ecc.HIGH])p&&m<=t.getNumDataCodewords(g,S)*8&&(c=S);let _=[];for(const S of l){r(S.mode.modeBits,4,_),r(S.numChars,S.mode.numCharCountBits(g),_);for(const x of S.getData())_.push(x)}s(_.length==m);const v=t.getNumDataCodewords(g,c)*8;s(_.length<=v),r(0,Math.min(4,v-_.length),_),r(0,(8-_.length%8)%8,_),s(_.length%8==0);for(let S=236;_.length<v;S^=253)r(S,8,_);let y=[];for(;y.length*8<_.length;)y.push(0);return _.forEach((S,x)=>y[x>>>3]|=S<<7-(x&7)),new t(g,c,y,h)}getModule(l,c){return 0<=l&&l<this.size&&0<=c&&c<this.size&&this.modules[c][l]}getModules(){return this.modules}drawFunctionPatterns(){for(let u=0;u<this.size;u++)this.setFunctionModule(6,u,u%2==0),this.setFunctionModule(u,6,u%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const l=this.getAlignmentPatternPositions(),c=l.length;for(let u=0;u<c;u++)for(let d=0;d<c;d++)u==0&&d==0||u==0&&d==c-1||u==c-1&&d==0||this.drawAlignmentPattern(l[u],l[d]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(l){const c=this.errorCorrectionLevel.formatBits<<3|l;let u=c;for(let h=0;h<10;h++)u=u<<1^(u>>>9)*1335;const d=(c<<10|u)^21522;s(d>>>15==0);for(let h=0;h<=5;h++)this.setFunctionModule(8,h,i(d,h));this.setFunctionModule(8,7,i(d,6)),this.setFunctionModule(8,8,i(d,7)),this.setFunctionModule(7,8,i(d,8));for(let h=9;h<15;h++)this.setFunctionModule(14-h,8,i(d,h));for(let h=0;h<8;h++)this.setFunctionModule(this.size-1-h,8,i(d,h));for(let h=8;h<15;h++)this.setFunctionModule(8,this.size-15+h,i(d,h));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let l=this.version;for(let u=0;u<12;u++)l=l<<1^(l>>>11)*7973;const c=this.version<<12|l;s(c>>>18==0);for(let u=0;u<18;u++){const d=i(c,u),h=this.size-11+u%3,p=Math.floor(u/3);this.setFunctionModule(h,p,d),this.setFunctionModule(p,h,d)}}drawFinderPattern(l,c){for(let u=-4;u<=4;u++)for(let d=-4;d<=4;d++){const h=Math.max(Math.abs(d),Math.abs(u)),p=l+d,g=c+u;0<=p&&p<this.size&&0<=g&&g<this.size&&this.setFunctionModule(p,g,h!=2&&h!=4)}}drawAlignmentPattern(l,c){for(let u=-2;u<=2;u++)for(let d=-2;d<=2;d++)this.setFunctionModule(l+d,c+u,Math.max(Math.abs(d),Math.abs(u))!=1)}setFunctionModule(l,c,u){this.modules[c][l]=u,this.isFunction[c][l]=!0}addEccAndInterleave(l){const c=this.version,u=this.errorCorrectionLevel;if(l.length!=t.getNumDataCodewords(c,u))throw new RangeError("Invalid argument");const d=t.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][c],h=t.ECC_CODEWORDS_PER_BLOCK[u.ordinal][c],p=Math.floor(t.getNumRawDataModules(c)/8),g=d-p%d,m=Math.floor(p/d);let _=[];const v=t.reedSolomonComputeDivisor(h);for(let S=0,x=0;S<d;S++){let b=l.slice(x,x+m-h+(S<g?0:1));x+=b.length;const w=t.reedSolomonComputeRemainder(b,v);S<g&&b.push(0),_.push(b.concat(w))}let y=[];for(let S=0;S<_[0].length;S++)_.forEach((x,b)=>{(S!=m-h||b>=g)&&y.push(x[S])});return s(y.length==p),y}drawCodewords(l){if(l.length!=Math.floor(t.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let c=0;for(let u=this.size-1;u>=1;u-=2){u==6&&(u=5);for(let d=0;d<this.size;d++)for(let h=0;h<2;h++){const p=u-h,m=(u+1&2)==0?this.size-1-d:d;!this.isFunction[m][p]&&c<l.length*8&&(this.modules[m][p]=i(l[c>>>3],7-(c&7)),c++)}}s(c==l.length*8)}applyMask(l){if(l<0||l>7)throw new RangeError("Mask value out of range");for(let c=0;c<this.size;c++)for(let u=0;u<this.size;u++){let d;switch(l){case 0:d=(u+c)%2==0;break;case 1:d=c%2==0;break;case 2:d=u%3==0;break;case 3:d=(u+c)%3==0;break;case 4:d=(Math.floor(u/3)+Math.floor(c/2))%2==0;break;case 5:d=u*c%2+u*c%3==0;break;case 6:d=(u*c%2+u*c%3)%2==0;break;case 7:d=((u+c)%2+u*c%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[c][u]&&d&&(this.modules[c][u]=!this.modules[c][u])}}getPenaltyScore(){let l=0;for(let h=0;h<this.size;h++){let p=!1,g=0,m=[0,0,0,0,0,0,0];for(let _=0;_<this.size;_++)this.modules[h][_]==p?(g++,g==5?l+=t.PENALTY_N1:g>5&&l++):(this.finderPenaltyAddHistory(g,m),p||(l+=this.finderPenaltyCountPatterns(m)*t.PENALTY_N3),p=this.modules[h][_],g=1);l+=this.finderPenaltyTerminateAndCount(p,g,m)*t.PENALTY_N3}for(let h=0;h<this.size;h++){let p=!1,g=0,m=[0,0,0,0,0,0,0];for(let _=0;_<this.size;_++)this.modules[_][h]==p?(g++,g==5?l+=t.PENALTY_N1:g>5&&l++):(this.finderPenaltyAddHistory(g,m),p||(l+=this.finderPenaltyCountPatterns(m)*t.PENALTY_N3),p=this.modules[_][h],g=1);l+=this.finderPenaltyTerminateAndCount(p,g,m)*t.PENALTY_N3}for(let h=0;h<this.size-1;h++)for(let p=0;p<this.size-1;p++){const g=this.modules[h][p];g==this.modules[h][p+1]&&g==this.modules[h+1][p]&&g==this.modules[h+1][p+1]&&(l+=t.PENALTY_N2)}let c=0;for(const h of this.modules)c=h.reduce((p,g)=>p+(g?1:0),c);const u=this.size*this.size,d=Math.ceil(Math.abs(c*20-u*10)/u)-1;return s(0<=d&&d<=9),l+=d*t.PENALTY_N4,s(0<=l&&l<=2568888),l}getAlignmentPatternPositions(){if(this.version==1)return[];{const l=Math.floor(this.version/7)+2,c=this.version==32?26:Math.ceil((this.version*4+4)/(l*2-2))*2;let u=[6];for(let d=this.size-7;u.length<l;d-=c)u.splice(1,0,d);return u}}static getNumRawDataModules(l){if(l<t.MIN_VERSION||l>t.MAX_VERSION)throw new RangeError("Version number out of range");let c=(16*l+128)*l+64;if(l>=2){const u=Math.floor(l/7)+2;c-=(25*u-10)*u-55,l>=7&&(c-=36)}return s(208<=c&&c<=29648),c}static getNumDataCodewords(l,c){return Math.floor(t.getNumRawDataModules(l)/8)-t.ECC_CODEWORDS_PER_BLOCK[c.ordinal][l]*t.NUM_ERROR_CORRECTION_BLOCKS[c.ordinal][l]}static reedSolomonComputeDivisor(l){if(l<1||l>255)throw new RangeError("Degree out of range");let c=[];for(let d=0;d<l-1;d++)c.push(0);c.push(1);let u=1;for(let d=0;d<l;d++){for(let h=0;h<c.length;h++)c[h]=t.reedSolomonMultiply(c[h],u),h+1<c.length&&(c[h]^=c[h+1]);u=t.reedSolomonMultiply(u,2)}return c}static reedSolomonComputeRemainder(l,c){let u=c.map(d=>0);for(const d of l){const h=d^u.shift();u.push(0),c.forEach((p,g)=>u[g]^=t.reedSolomonMultiply(p,h))}return u}static reedSolomonMultiply(l,c){if(l>>>8||c>>>8)throw new RangeError("Byte out of range");let u=0;for(let d=7;d>=0;d--)u=u<<1^(u>>>7)*285,u^=(c>>>d&1)*l;return s(u>>>8==0),u}finderPenaltyCountPatterns(l){const c=l[1];s(c<=this.size*3);const u=c>0&&l[2]==c&&l[3]==c*3&&l[4]==c&&l[5]==c;return(u&&l[0]>=c*4&&l[6]>=c?1:0)+(u&&l[6]>=c*4&&l[0]>=c?1:0)}finderPenaltyTerminateAndCount(l,c,u){return l&&(this.finderPenaltyAddHistory(c,u),c=0),c+=this.size,this.finderPenaltyAddHistory(c,u),this.finderPenaltyCountPatterns(u)}finderPenaltyAddHistory(l,c){c[0]==0&&(l+=this.size),c.pop(),c.unshift(l)}};let n=t;n.MIN_VERSION=1,n.MAX_VERSION=40,n.PENALTY_N1=3,n.PENALTY_N2=3,n.PENALTY_N3=40,n.PENALTY_N4=10,n.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],n.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=n;function r(l,c,u){if(c<0||c>31||l>>>c)throw new RangeError("Value out of range");for(let d=c-1;d>=0;d--)u.push(l>>>d&1)}function i(l,c){return(l>>>c&1)!=0}function s(l){if(!l)throw new Error("Assertion error")}const o=class{constructor(l,c,u){if(this.mode=l,this.numChars=c,this.bitData=u,c<0)throw new RangeError("Invalid argument");this.bitData=u.slice()}static makeBytes(l){let c=[];for(const u of l)r(u,8,c);return new o(o.Mode.BYTE,l.length,c)}static makeNumeric(l){if(!o.isNumeric(l))throw new RangeError("String contains non-numeric characters");let c=[];for(let u=0;u<l.length;){const d=Math.min(l.length-u,3);r(parseInt(l.substr(u,d),10),d*3+1,c),u+=d}return new o(o.Mode.NUMERIC,l.length,c)}static makeAlphanumeric(l){if(!o.isAlphanumeric(l))throw new RangeError("String contains unencodable characters in alphanumeric mode");let c=[],u;for(u=0;u+2<=l.length;u+=2){let d=o.ALPHANUMERIC_CHARSET.indexOf(l.charAt(u))*45;d+=o.ALPHANUMERIC_CHARSET.indexOf(l.charAt(u+1)),r(d,11,c)}return u<l.length&&r(o.ALPHANUMERIC_CHARSET.indexOf(l.charAt(u)),6,c),new o(o.Mode.ALPHANUMERIC,l.length,c)}static makeSegments(l){return l==""?[]:o.isNumeric(l)?[o.makeNumeric(l)]:o.isAlphanumeric(l)?[o.makeAlphanumeric(l)]:[o.makeBytes(o.toUtf8ByteArray(l))]}static makeEci(l){let c=[];if(l<0)throw new RangeError("ECI assignment value out of range");if(l<128)r(l,8,c);else if(l<16384)r(2,2,c),r(l,14,c);else if(l<1e6)r(6,3,c),r(l,21,c);else throw new RangeError("ECI assignment value out of range");return new o(o.Mode.ECI,0,c)}static isNumeric(l){return o.NUMERIC_REGEX.test(l)}static isAlphanumeric(l){return o.ALPHANUMERIC_REGEX.test(l)}getData(){return this.bitData.slice()}static getTotalBits(l,c){let u=0;for(const d of l){const h=d.mode.numCharCountBits(c);if(d.numChars>=1<<h)return 1/0;u+=4+h+d.bitData.length}return u}static toUtf8ByteArray(l){l=encodeURI(l);let c=[];for(let u=0;u<l.length;u++)l.charAt(u)!="%"?c.push(l.charCodeAt(u)):(c.push(parseInt(l.substr(u+1,2),16)),u+=2);return c}};let a=o;a.NUMERIC_REGEX=/^[0-9]*$/,a.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,a.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",e.QrSegment=a})(Il||(Il={}));(e=>{(t=>{const n=class{constructor(i,s){this.ordinal=i,this.formatBits=s}};let r=n;r.LOW=new n(0,1),r.MEDIUM=new n(1,0),r.QUARTILE=new n(2,3),r.HIGH=new n(3,2),t.Ecc=r})(e.QrCode||(e.QrCode={}))})(Il||(Il={}));(e=>{(t=>{const n=class{constructor(i,s){this.modeBits=i,this.numBitsCharCount=s}numCharCountBits(i){return this.numBitsCharCount[Math.floor((i+7)/17)]}};let r=n;r.NUMERIC=new n(1,[10,12,14]),r.ALPHANUMERIC=new n(2,[9,11,13]),r.BYTE=new n(4,[8,16,16]),r.KANJI=new n(8,[8,10,12]),r.ECI=new n(7,[0,0,0]),t.Mode=r})(e.QrSegment||(e.QrSegment={}))})(Il||(Il={}));var _c=Il;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var nL={L:_c.QrCode.Ecc.LOW,M:_c.QrCode.Ecc.MEDIUM,Q:_c.QrCode.Ecc.QUARTILE,H:_c.QrCode.Ecc.HIGH},rL=128,iL="L",sL="#FFFFFF",oL="#000000",aL=!1,lw=4,Jse=.1;function lL(e,t=0){const n=[];return e.forEach(function(r,i){let s=null;r.forEach(function(o,a){if(!o&&s!==null){n.push(`M${s+t} ${i+t}h${a-s}v1H${s+t}z`),s=null;return}if(a===r.length-1){if(!o)return;s===null?n.push(`M${a+t},${i+t} h1v1H${a+t}z`):n.push(`M${s+t},${i+t} h${a+1-s}v1H${s+t}z`);return}o&&s===null&&(s=a)})}),n.join("")}function cL(e,t){return e.slice().map((n,r)=>r<t.y||r>=t.y+t.h?n:n.map((i,s)=>s<t.x||s>=t.x+t.w?i:!1))}function uL(e,t,n,r){if(r==null)return null;const i=n?lw:0,s=e.length+i*2,o=Math.floor(t*Jse),a=s/t,l=(r.width||o)*a,c=(r.height||o)*a,u=r.x==null?e.length/2-l/2:r.x*a,d=r.y==null?e.length/2-c/2:r.y*a;let h=null;if(r.excavate){let p=Math.floor(u),g=Math.floor(d),m=Math.ceil(l+u-p),_=Math.ceil(c+d-g);h={x:p,y:g,w:m,h:_}}return{x:u,y:d,h:c,w:l,excavation:h}}var Xse=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}();function dL(e){const t=e,{value:n,size:r=rL,level:i=iL,bgColor:s=sL,fgColor:o=oL,includeMargin:a=aL,style:l,imageSettings:c}=t,u=aw(t,["value","size","level","bgColor","fgColor","includeMargin","style","imageSettings"]),d=c==null?void 0:c.src,h=A.useRef(null),p=A.useRef(null),[g,m]=A.useState(!1);A.useEffect(()=>{if(h.current!=null){const y=h.current,S=y.getContext("2d");if(!S)return;let x=_c.QrCode.encodeText(n,nL[i]).getModules();const b=a?lw:0,w=x.length+b*2,E=uL(x,r,a,c),T=p.current,$=E!=null&&T!==null&&T.complete&&T.naturalHeight!==0&&T.naturalWidth!==0;$&&E.excavation!=null&&(x=cL(x,E.excavation));const N=window.devicePixelRatio||1;y.height=y.width=r*N;const B=r/w*N;S.scale(B,B),S.fillStyle=s,S.fillRect(0,0,w,w),S.fillStyle=o,Xse?S.fill(new Path2D(lL(x,b))):x.forEach(function(K,P){K.forEach(function(L,R){L&&S.fillRect(R+b,P+b,1,1)})}),$&&S.drawImage(T,E.x+b,E.y+b,E.w,E.h)}}),A.useEffect(()=>{m(!1)},[d]);const _=$f({height:r,width:r},l);let v=null;return d!=null&&(v=Te.createElement("img",{src:d,key:d,style:{display:"none"},onLoad:()=>{m(!0)},ref:p})),Te.createElement(Te.Fragment,null,Te.createElement("canvas",$f({style:_,height:r,width:r,ref:h},u)),v)}function fL(e){const t=e,{value:n,size:r=rL,level:i=iL,bgColor:s=sL,fgColor:o=oL,includeMargin:a=aL,imageSettings:l}=t,c=aw(t,["value","size","level","bgColor","fgColor","includeMargin","imageSettings"]);let u=_c.QrCode.encodeText(n,nL[i]).getModules();const d=a?lw:0,h=u.length+d*2,p=uL(u,r,a,l);let g=null;l!=null&&p!=null&&(p.excavation!=null&&(u=cL(u,p.excavation)),g=Te.createElement("image",{xlinkHref:l.src,height:p.h,width:p.w,x:p.x+d,y:p.y+d,preserveAspectRatio:"none"}));const m=lL(u,d);return Te.createElement("svg",$f({height:r,width:r,viewBox:`0 0 ${h} ${h}`},c),Te.createElement("path",{fill:s,d:`M0,0 h${h}v${h}H0z`,shapeRendering:"crispEdges"}),Te.createElement("path",{fill:o,d:m,shapeRendering:"crispEdges"}),g)}var Zse=e=>{const t=e,{renderAs:n}=t,r=aw(t,["renderAs"]);return n==="svg"?Te.createElement(fL,$f({},r)):Te.createElement(dL,$f({},r))};const eoe=Object.freeze(Object.defineProperty({__proto__:null,QRCodeCanvas:dL,QRCodeSVG:fL,default:Zse},Symbol.toStringTag,{value:"Module"}));var hL={exports:{}},pL={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fu=A;function toe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var noe=typeof Object.is=="function"?Object.is:toe,roe=fu.useState,ioe=fu.useEffect,soe=fu.useLayoutEffect,ooe=fu.useDebugValue;function aoe(e,t){var n=t(),r=roe({inst:{value:n,getSnapshot:t}}),i=r[0].inst,s=r[1];return soe(function(){i.value=n,i.getSnapshot=t,zy(i)&&s({inst:i})},[e,n,t]),ioe(function(){return zy(i)&&s({inst:i}),e(function(){zy(i)&&s({inst:i})})},[e]),ooe(n),n}function zy(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!noe(e,n)}catch{return!0}}function loe(e,t){return t()}var coe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?loe:aoe;pL.useSyncExternalStore=fu.useSyncExternalStore!==void 0?fu.useSyncExternalStore:coe;hL.exports=pL;var uoe=hL.exports;const{useEffect:doe,useLayoutEffect:foe,useRef:hoe,useInsertionEffect:poe}=pg,goe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",moe=goe?foe:doe,gL=poe||moe,mL=e=>{const t=hoe([e,(...n)=>t[0](...n)]).current;return gL(()=>{t[0]=e}),t[1]},voe=(e="",t=location.pathname)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",yoe=(e,t="")=>e[0]==="~"?e.slice(1):t+e,Aoe="popstate",cw="pushState",uw="replaceState",_oe="hashchange",$I=[Aoe,cw,uw,_oe],boe=e=>{for(const t of $I)addEventListener(t,e);return()=>{for(const t of $I)removeEventListener(t,e)}},Soe=(e,t)=>uoe.useSyncExternalStore(boe,e,t),FI=()=>location.pathname,xoe=({ssrPath:e}={})=>Soe(FI,e?()=>e:FI),woe=(e,{replace:t=!1}={})=>history[t?uw:cw](null,"",e),Eoe=(e={})=>[voe(e.base,xoe(e)),mL((t,n)=>woe(yoe(t,e.base),n))];if(typeof history<"u")for(const e of[cw,uw]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),r=new Event(e);return r.arguments=arguments,dispatchEvent(r),n}}function koe(e=Toe){let t={};const n=r=>t[r]||(t[r]=e(r));return(r,i)=>{const{regexp:s,keys:o}=n(r||""),a=s.exec(i);return a?[!0,o.reduce((c,u,d)=>(c[u.name]=a[d+1],c),{})]:[!1,null]}}const zI=e=>e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),Coe=(e,t,n)=>{let r=e?"((?:[^\\/]+?)(?:\\/(?:[^\\/]+?))*)":"([^\\/]+?)";return t&&n&&(r="(?:\\/"+r+")"),r+(t?"?":"")},Toe=e=>{const t=/:([A-Za-z0-9_]+)([?+*]?)/g;let n=null,r=0,i=[],s="";for(;(n=t.exec(e))!==null;){const[o,a,l]=n,c=l==="+"||l==="*",u=l==="?"||l==="*",d=u&&e[n.index-1]==="/"?1:0,h=e.substring(r,n.index-d);i.push({name:a}),r=t.lastIndex,s+=zI(h)+Coe(c,u,d)}return s+=zI(e.substring(r)),{keys:i,regexp:new RegExp("^"+s+"(?:\\/)?$","i")}},$_={hook:Eoe,matcher:koe(),base:""},vL=A.createContext($_),lv=()=>A.useContext(vL),cv=e=>e.hook(e),Ioe=()=>cv(lv()),yL=e=>{const t=lv(),[n]=cv(t);return t.matcher(e,n)},Roe=A.createContext({params:{}}),Moe=({hook:e,matcher:t,ssrPath:n,base:r="",parent:i,children:s})=>{const o=(l,c=i||$_)=>(l.hook=e||c.hook,l.matcher=t||c.matcher,l.ssrPath=n||c.ssrPath,l.ownBase=r,l.parent=i,l),[a]=A.useState(()=>o({get base(){return(a.parent||$_).base+a.ownBase}}));return gL(()=>{o(a)}),A.createElement(vL.Provider,{value:a,children:s})},UI=(e,t)=>A.createElement(Roe.Provider,{value:{params:e},children:t}),yr=({path:e,match:t,component:n,children:r})=>{const i=yL(e),[s,o]=t||i;return s?n?UI(o,A.createElement(n,{params:o})):UI(o,typeof r=="function"?r(o):r):null},dw=A.forwardRef((e,t)=>{const n=lv(),[,r]=cv(n),{to:i,href:s=i,children:o,onClick:a}=e,l=mL(d=>{d.ctrlKey||d.metaKey||d.altKey||d.shiftKey||d.button!==0||(a&&a(d),d.defaultPrevented||(d.preventDefault(),r(i||s,e)))}),c={href:s[0]==="~"?s.slice(1):n.base+s,onClick:l,to:null,ref:t},u=A.isValidElement(o)?o:A.createElement("a",e);return A.cloneElement(u,c)}),F_=e=>Array.isArray(e)?[].concat(...e.map(t=>t&&t.type===A.Fragment?F_(t.props.children):F_(t))):[e],Poe=({children:e,location:t})=>{const n=lv(),r=n.matcher,[i]=cv(n);for(const s of F_(e)){let o=0;if(A.isValidElement(s)&&(o=s.props.path?r(s.props.path,t||i):[!0,{}])[0])return A.cloneElement(s,{match:o})}return null},{QRCodeSVG:joe}=eoe;function Uy({gameCode:e,...t}){return f.jsx(Boe,{...t,children:e.split("").map((n,r)=>f.jsx("span",{children:n},r))})}function fw(){var i;const e=new URL((i=global.location)==null?void 0:i.href),[t]=yL("remote-mic"),n=S0("room")??ea.getGameCode();e.pathname="/remote-mic",e.searchParams.set("room",n);const r=e.href;return A.useEffect(()=>{t||ea.start()},[t]),f.jsxs($oe,{children:[f.jsx(zoe,{children:f.jsxs("h1",{children:["Code: ",f.jsx(Uy,{gameCode:n})]})}),f.jsx(Foe,{children:f.jsx(joe,{value:r,width:"100%",height:"100%",includeMargin:!0})}),f.jsxs(Uoe,{children:[f.jsxs(Ooe,{children:[f.jsxs("h3",{children:["Game code: ",f.jsx(Uy,{gameCode:n,"data-test":"game-code"})]}),f.jsxs("ol",{children:[f.jsxs("li",{children:["Go to"," ",f.jsx("a",{href:e.origin,target:"_blank",rel:"noreferrer",children:"allkaraoke.party"})," ","on your phone"]}),f.jsxs("li",{children:["Click on ",f.jsx("b",{children:"Join game"})]}),f.jsxs("li",{children:["Enter the code ",f.jsx(Uy,{gameCode:n})]}),f.jsx("li",{children:"Follow the instructions"})]})]}),f.jsxs(Voe,{children:[f.jsx("h4",{children:"Or copy and send the link"}),f.jsxs(Loe,{children:[f.jsx(Doe,{disabled:!0,value:r,"data-test":"server-link-input"}),f.jsx(Noe,{onClick:()=>{navigator.clipboard.writeText(r)},children:"Copy"})]})]})]})]})}const Ooe=C("div",{target:"eg58fmd9"})({name:"82a6rk",styles:"flex:1"}),Voe=C("div",{target:"eg58fmd8"})({name:"4dmv1c",styles:"flex:0"}),Loe=C("div",{target:"eg58fmd7"})({name:"sqzzkh",styles:"position:relative;margin-top:0.5rem"}),Noe=C("button",{target:"eg58fmd6"})("cursor:pointer;position:absolute;padding:0 2rem;right:0;height:100%;box-sizing:border-box;background:",pe.colors.text.active,";",De,";font-weight:bold;font-size:2.2rem;border:0;:active{background-color:black;}"),Boe=C("strong",{target:"eg58fmd5"})("text-transform:uppercase;padding:0.5rem 1.5rem;border-radius:0.5rem;display:inline-flex;gap:1.5rem;",tu,";"),Doe=C("input",{target:"eg58fmd4"})({name:"gri5w4",styles:"padding:1rem;box-sizing:border-box;background:grey;border:none;width:100%;font-size:1.3rem"}),$oe=C("div",{target:"eg58fmd3"})({name:"1d1jk7v",styles:"display:flex;flex-direction:row;flex-wrap:nowrap;align-items:stretch;flex:1;gap:2%;@media (max-width: 560px){flex-direction:column;}"}),Foe=C("div",{target:"eg58fmd2"})({name:"2ogmzh",styles:"flex:0.6;@media (max-width: 560px){flex:0;}"}),zoe=C("div",{target:"eg58fmd1"})({name:"mhlr3w",styles:"display:none;@media (max-width: 560px){display:block;}margin-bottom:2rem"}),Uoe=C("div",{target:"eg58fmd0"})("@media (max-width: 560px){display:none;}flex:1;display:flex;flex-direction:column;b{font-weight:bold;",De,";color:",pe.colors.text.active,";}h3{margin-bottom:1rem;}h4{margin:1rem 0;}ol{padding-left:2.3rem;margin:0 0 1.25rem 0;list-style:decimal inside;}li{color:white;font-size:2rem;line-height:3.2rem;}");function Hoe({closeModal:e}){const{register:t}=zn({onBackspace:e});return f.jsx(Ou,{onClose:e,children:f.jsxs(Ts,{children:[f.jsx(fw,{}),f.jsx(Cs,{...t("quick-connect-close",e),children:"Close"})]})})}function Goe(){const[e,t]=A.useState(!1);$e(pr);const[n,r]=$e(JP),{hasContent:i}=A.useContext(HS),s=()=>t(!1);return f.jsxs(f.Fragment,{children:[e&&f.jsx(Hoe,{closeModal:s}),f.jsxs(qoe,{children:[i&&f.jsx(du,{title:"Toggle help",place:"bottom-end",children:f.jsx(Woe,{size:"small",onClick:()=>r(!n),"data-test":"toggle-help",children:n?f.jsx(kO,{}):f.jsx(CO,{})})}),f.jsx(Dse,{}),f.jsx(du,{title:"Connect phone",place:"bottom-end",children:f.jsx(Zx,{size:"small",onClick:()=>t(o=>!o),"data-test":"quick-connect-phone",children:f.jsx(bf,{})})})]})]})}const qoe=C("div",{target:"efkmcew1"})({name:"18h6jmh",styles:"view-transition-name:toolbar;cursor:pointer;background:rgba(0, 0, 0, 0.75);color:white;padding:0.2rem;padding-left:1rem;margin:0;position:fixed;top:0;right:0;z-index:10000;color:white;svg{fill:white;width:3.5rem;height:3.5rem;transition:transform 200ms;&:hover{transform:scale(1.2);}}display:flex;gap:0.75rem;border-bottom-left-radius:1.5rem"}),Woe=C(Zx,{target:"efkmcew0"})({name:"lpoy45",styles:"scale:0.9"});function Bo({children:e,toolbar:t=!0}){return f.jsxs(mX,{children:[t&&f.jsx(Goe,{}),e]})}var hw={},Koe=ot;Object.defineProperty(hw,"__esModule",{value:!0});var AL=hw.default=void 0,Yoe=Koe(ut()),Qoe=f;AL=hw.default=(0,Yoe.default)((0,Qoe.jsx)("path",{d:"M3 13h2v-2H3zm0 4h2v-2H3zm0-8h2V7H3zm4 4h14v-2H7zm0 4h14v-2H7zM7 7v2h14V7z"}),"List");var pw={},Joe=ot;Object.defineProperty(pw,"__esModule",{value:!0});var _L=pw.default=void 0,Xoe=Joe(ut()),Zoe=f;_L=pw.default=(0,Xoe.default)((0,Zoe.jsx)("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6"}),"Settings");const gw=({...e})=>f.jsx("svg",{viewBox:"0 0 512 512",fill:"currentcolor",...e,children:f.jsx("path",{stroke:"black",strokeWidth:"2%",xmlns:"http://www.w3.org/2000/svg",d:"M252.529,162.029l168.125,210.156c-12.313,1.25-24.031,6.438-33.031,15.438s-14.188,20.719-15.438,33.031L162.029,252.545  c-3.563-24.922,4.813-50.078,22.625-67.891C202.467,166.857,227.623,158.467,252.529,162.029z M398.936,398.936  c-9.063,9.063-13.031,22.063-10.625,34.656l45.281,45.25c12.5,12.5,32.75,12.5,45.25,0s12.5-32.75,0-45.25l-45.25-45.281  C420.998,385.904,407.998,389.873,398.936,398.936z M162.029,162.029c18.594-18.594,43.188-29.891,68.969-32.297  c-3.375-24.563-14.906-49.391-35.031-69.516c-43.75-43.75-109.594-48.813-147.063-11.313  c-37.5,37.484-32.438,103.328,11.313,147.078c20.125,20.125,44.938,31.656,69.5,35.031  C132.154,205.217,143.436,180.623,162.029,162.029z"})}),bL=C(gw,{target:"e1uhpuaa1"})("fill:",pe.colors.players[1].text,";"),z_=C(gw,{target:"e1uhpuaa0"})("fill:",pe.colors.players[0].text,";");function eae({active:e,setActiveTab:t}){return f.jsxs(tae,{children:[f.jsxs(Hy,{active:e==="microphone",onClick:()=>t("microphone"),"data-test":"menu-microphone",children:[f.jsx(Gy,{children:f.jsx(gw,{})}),f.jsx(qy,{children:"Microphone"})]}),f.jsxs(Hy,{active:e==="song-list",onClick:()=>t("song-list"),"data-test":"menu-song-list",children:[f.jsx(Gy,{children:f.jsx(AL,{})}),f.jsx(qy,{children:"Song list"})]}),f.jsxs(Hy,{active:e==="settings",onClick:()=>t("settings"),"data-test":"menu-settings",children:[f.jsx(Gy,{children:f.jsx(_L,{})}),f.jsx(qy,{children:"Settings"})]})]})}const tae=C("div",{target:"e1c2ys9k3"})({name:"1x8gdpu",styles:"position:fixed;bottom:0;right:0;display:flex;align-items:stretch;width:100%;gap:1px;background:#424242;@media (max-height: 500px) and (min-aspect-ratio: 16/10){max-width:400px;transform:scale(0.75);transform-origin:bottom right;}"}),Hy=C("div",{target:"e1c2ys9k2"})("cursor:pointer;flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;background:black;padding:1rem;font-size:1.5rem;gap:0.5rem;color:",e=>e.active?pe.colors.text.active:"#cecece",";"),Gy=C("div",{target:"e1c2ys9k1"})({name:"immj2t",styles:"svg{width:2.5rem;height:2.5rem;}font-size:2rem"}),qy=C("div",{target:"e1c2ys9k0"})("");var mw={},nae=ot;Object.defineProperty(mw,"__esModule",{value:!0});var Fl=mw.default=void 0,rae=nae(ut()),iae=f;Fl=mw.default=(0,rae.default)((0,iae.jsx)("path",{d:"M1 21h22L12 2zm12-3h-2v-2h2zm0-4h-2v-4h2z"}),"Warning");const vw=()=>{const[e,t]=A.useState(aa.getStatus());return A.useEffect(()=>aa.addListener(t),[]),e};function SL(){return navigator==null?void 0:navigator.userAgent.includes("OPR")}const sae="/assets/allow-mic-DleF1-pf.png",oae="/assets/enable-mic-opera-B5FfRj_P.png",aae="/assets/enable-mic-TGG47ucR.png",lae=()=>SL()?oae:aae,_h=({children:e,fallback:t,showImages:n=!0})=>{const r=vw();return f.jsxs(f.Fragment,{children:[r==="accepted"&&e,r!=="accepted"&&f.jsxs(f.Fragment,{children:[f.jsx(uae,{children:f.jsx(dae,{})}),t,f.jsxs(cae,{children:[r==="requested"&&n&&f.jsx("img",{src:sae,alt:"how-to-allow"}),r==="declined"&&f.jsxs(f.Fragment,{children:[f.jsx("h3",{children:"Access is blocked, you can unblock it here"}),n&&f.jsx("img",{src:lae(),alt:"how-to-enable"})]}),SL()&&f.jsxs("h4",{children:[f.jsx("strong",{children:"Opera"})," is buggy regarding microphone access - if you encounter issue (e.g. this message stays even after the access to microphone was granted), consider other browsers."]})]})]})]})},cae=C("div",{target:"e1w9vi9z2"})({name:"1hmq8jv",styles:"text-align:center;img{margin:1.5rem 0 0.5rem;box-shadow:0.5rem 0.5rem 0.5rem rgba(0, 0, 0, 0.5),inset 0 0 0.5rem 0.5rem rgba(255, 255, 255, 0.5);border:0.5rem solid white;border-radius:1rem;box-sizing:border-box;max-width:100%;}"}),uae=C("div",{target:"e1w9vi9z1"})({name:"zov8s0",styles:"width:100%;display:flex;justify-content:center"}),dae=C(Fl,{target:"e1w9vi9z0"})("color:",pe.colors.text.active,";font-size:3rem;");function fae(){return!1}var yw={},hae=ot;Object.defineProperty(yw,"__esModule",{value:!0});var qd=yw.default=void 0,pae=hae(ut()),gae=f;qd=yw.default=(0,pae.default)((0,gae.jsx)("path",{d:"m1 9 2 2c4.97-4.97 13.03-4.97 18 0l2-2C16.93 2.93 7.08 2.93 1 9m8 8 3 3 3-3c-1.65-1.66-4.34-1.66-6 0m-4-4 2 2c2.76-2.76 7.24-2.76 10 0l2-2C15.14 9.14 8.87 9.14 5 13"}),"Wifi");function bh(e,t,n=1){return n===1?(t+1)%e.length:(t+e.length-1)%e.length}function mae(e,t,n=1){return bh(e,e.indexOf(t),n)}function ul(e,t,n=1){return e[mae(e,t,n)]}const ai=({focused:e,disabled:t=!1,label:n,value:r,onClick:i,info:s,children:o,...a})=>f.jsxs(vae,{children:[f.jsxs(yae,{"data-focused":e,onClick:i,"data-disabled":t,...a,children:[f.jsx("span",{children:n?f.jsxs(f.Fragment,{children:[n,":"]}):""})," ",f.jsx(Aae,{children:r}),o??null]}),s&&f.jsx(xL,{children:s})]}),vae=C("div",{target:"e84wjn53"})(""),xL=C("div",{target:"e84wjn52"})(De,";font-size:2rem;padding:1rem 0.5rem 0;text-align:justify;"),yae=C("span",{target:"e84wjn51"})("background:rgba(0, 0, 0, 0.7);width:auto;",De,";text-align:right;font-size:2.7rem;cursor:pointer;padding:0.65rem;display:flex;flex-direction:row;justify-content:space-between;&[data-expanded='true']{font-size:6rem;}&[data-disabled='true']{cursor:default;}&[data-focused='true'][data-disabled='false']{animation:focusAnimation 1000ms ease-in-out infinite both;}&:hover{animation:focusAnimation 1000ms ease-in-out infinite both;}"),Aae=C("span",{target:"e84wjn50"})("color:",pe.colors.text.active,";text-overflow:ellipsis;overflow:hidden;white-space:nowrap;padding-left:1rem;"),zl=A.forwardRef(({focused:e,label:t,value:n,onChange:r,disabled:i,className:s,adornment:o,info:a,...l},c)=>{const u=A.useRef(null);return A.useImperativeHandle(c,()=>u.current),Ir(M1,()=>{var d;return(d=u.current)==null?void 0:d.focus()},{enabled:e}),f.jsxs("div",{children:[f.jsxs(bae,{"data-focused":e,className:s,children:[f.jsx(Sae,{children:t}),f.jsx(xae,{value:n,onChange:d=>r(d.target.value),...l,disabled:i,ref:u}),o&&f.jsx(_ae,{children:o})]}),a&&f.jsx(xL,{children:a})]})}),_ae=C("span",{target:"et2ce2n3"})(""),bae=C("div",{target:"et2ce2n2"})("background:black;caret:underscore;",De,";width:auto;display:flex;cursor:text;padding:0.25em;align-items:center;&[data-focused='true']{animation:focusAnimation 1000ms ease-in-out infinite both;}&:hover{animation:focusAnimation 1000ms ease-in-out infinite both;}"),Sae=C("span",{target:"et2ce2n1"})({name:"1vbnwdc",styles:"display:inline-flex;align-items:center;justify-content:center;padding-right:0.5em;white-space:nowrap;width:auto;svg{font-size:1em;}"}),xae=C("input",{target:"et2ce2n0"})("padding:0;border:0;background:transparent;caret:underscore;",De,";color:",pe.colors.text.active,";width:100%;font-size:1em;&:focus{outline:none;}");function wae(e){return ku("MuiCircularProgress",e)}Cu("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const Eae=["className","color","disableShrink","size","style","thickness","value","variant"];let uv=e=>e,HI,GI,qI,WI;const Fo=44,kae=wa(HI||(HI=uv`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),Cae=wa(GI||(GI=uv`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),Tae=e=>{const{classes:t,variant:n,color:r,disableShrink:i}=e,s={root:["root",n,`color${Zn(r)}`],svg:["svg"],circle:["circle",`circle${Zn(n)}`,i&&"circleDisableShrink"]};return lh(s,wae,t)},Iae=Vo("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`color${Zn(n.color)}`]]}})(({ownerState:e,theme:t})=>Oe({display:"inline-block"},e.variant==="determinate"&&{transition:t.transitions.create("transform")},e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main}),({ownerState:e})=>e.variant==="indeterminate"&&gi(qI||(qI=uv`
      animation: ${0} 1.4s linear infinite;
    `),kae)),Rae=Vo("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),Mae=Vo("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.circle,t[`circle${Zn(n.variant)}`],n.disableShrink&&t.circleDisableShrink]}})(({ownerState:e,theme:t})=>Oe({stroke:"currentColor"},e.variant==="determinate"&&{transition:t.transitions.create("stroke-dashoffset")},e.variant==="indeterminate"&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink&&gi(WI||(WI=uv`
      animation: ${0} 1.4s ease-in-out infinite;
    `),Cae)),Pae=A.forwardRef(function(t,n){const r=Tu({props:t,name:"MuiCircularProgress"}),{className:i,color:s="primary",disableShrink:o=!1,size:a=40,style:l,thickness:c=3.6,value:u=0,variant:d="indeterminate"}=r,h=Er(r,Eae),p=Oe({},r,{color:s,disableShrink:o,size:a,thickness:c,value:u,variant:d}),g=Tae(p),m={},_={},v={};if(d==="determinate"){const y=2*Math.PI*((Fo-c)/2);m.strokeDasharray=y.toFixed(3),v["aria-valuenow"]=Math.round(u),m.strokeDashoffset=`${((100-u)/100*y).toFixed(3)}px`,_.transform="rotate(-90deg)"}return f.jsx(Iae,Oe({className:Fr(g.root,i),style:Oe({width:a,height:a},_,l),ownerState:p,ref:n,role:"progressbar"},v,h,{children:f.jsx(Rae,{className:g.svg,ownerState:p,viewBox:`${Fo/2} ${Fo/2} ${Fo} ${Fo}`,children:f.jsx(Mae,{className:g.circle,style:m,ownerState:p,cx:Fo,cy:Fo,r:(Fo-c)/2,fill:"none",strokeWidth:c})})}))}),jae=Pae;function Sh(e){return f.jsx(jae,{...e})}function Ff(e){document.startViewTransition?document.startViewTransition(async()=>{await e()}):e()}const xm=(e,t)=>{var n;if(t){const r=new URLSearchParams((n=global.location)==null?void 0:n.search);return Object.entries(t).forEach(([i,s])=>{s===null?r.delete(i):r.set(i,s)}),`${e}?${r.toString()}`}return e};function Xr(){const[,e]=Ioe();return(t,n,{smooth:r=!0,...i}={})=>{r?Ff(()=>e(xm(t,n),i)):e(xm(t,n),i)}}var Aw={},Oae=ot;Object.defineProperty(Aw,"__esModule",{value:!0});var _w=Aw.default=void 0,Vae=Oae(ut()),Lae=f;_w=Aw.default=(0,Vae.default)((0,Lae.jsx)("path",{d:"M20 18c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2H0v2h24v-2zM4 6h16v10H4z"}),"Laptop");var bw={},Nae=ot;Object.defineProperty(bw,"__esModule",{value:!0});var Sw=bw.default=void 0,Bae=Nae(ut()),Dae=f;Sw=bw.default=(0,Bae.default)((0,Dae.jsx)("path",{d:"M16 1H8C6.34 1 5 2.34 5 4v16c0 1.66 1.34 3 3 3h8c1.66 0 3-1.34 3-3V4c0-1.66-1.34-3-3-3m-2 20h-4v-1h4zm3.25-3H6.75V4h10.5z"}),"PhoneAndroid");const KI="confirmed-wifi";function $ae({onClose:e}){const[t,n]=Te.useState(je.session.getItem(KI)??!1),r=()=>{je.session.setItem(KI,!0),n(!0),e==null||e()};return A.useEffect(()=>{var i,s,o;if(navigator!=null&&navigator.connection)if(((i=navigator==null?void 0:navigator.connection)==null?void 0:i.type)==="wifi")r();else{const a=()=>{var l;((l=navigator==null?void 0:navigator.connection)==null?void 0:l.type)==="wifi"&&r()};return(o=(s=navigator==null?void 0:navigator.connection)==null?void 0:s.addEventListener)==null||o.call(s,"change",a),()=>{var l,c;return(c=(l=navigator==null?void 0:navigator.connection)==null?void 0:l.removeEventListener)==null?void 0:c.call(l,"change",a)}}},[]),t?null:f.jsx(Ou,{onClose:r,children:f.jsxs(Fae,{children:[f.jsxs(zae,{children:[f.jsxs("h3",{children:["Connect to the ",f.jsx("strong",{children:"same Wi-Fi"})]}),f.jsxs(Uae,{children:[f.jsx(Sw,{}),"...",f.jsx(qd,{}),"...",f.jsx(_w,{})]}),f.jsx("h4",{children:"Connect to the same Wi-Fi as the game."})]}),f.jsx("h6",{children:"Otherwise microphones might not work properly."}),f.jsx(Re,{onClick:r,focused:!0,"data-test":"confirm-wifi-connection",children:"I'm connected, continue"})]})})}const Fae=C(Ts,{target:"e1200hll2"})({name:"vcyu3g",styles:"gap:1rem"}),zae=C("div",{target:"e1200hll1"})({name:"1uu7723",styles:"display:flex;flex-direction:column;align-items:center;gap:2rem"}),Uae=C("div",{target:"e1200hll0"})("margin:2rem 0;display:flex;color:white;align-items:center;gap:2rem;@keyframes pulse{0%{color:",pe.colors.text.default,";transform:scale(1);}25%{color:",pe.colors.text.active,";transform:scale(1.1);}50%{color:",pe.colors.text.default,";transform:scale(1);}}svg{animation:pulse 2s infinite;font-size:7rem;:nth-of-type(1){animation-delay:0s;}:nth-of-type(2){animation-delay:0.5s;}:nth-of-type(3){animation-delay:1s;}}");function Hae(e,t,n,r){n===void 0&&(n=global),r===void 0&&(r={});var i=A.useRef(),s=r.capture,o=r.passive,a=r.once;A.useEffect(function(){i.current=t},[t]),A.useEffect(function(){if(n&&n.addEventListener){var l=function(u){return i.current(u)},c={capture:s,passive:o,once:a};return n.addEventListener(e,l,c),function(){n.removeEventListener(e,l,c)}}},[e,n,s,o,a])}var Ba={},Gae=function(e,t,n){return Ba[e]||(Ba[e]={callbacks:[],value:n}),Ba[e].callbacks.push(t),{deregister:function(){var r=Ba[e].callbacks,i=r.indexOf(t);i>-1&&r.splice(i,1)},emit:function(r){Ba[e].value!==r&&(Ba[e].value=r,Ba[e].callbacks.forEach(function(i){t!==i&&i(r)}))}}};function xw(e,t){if(t===void 0&&(t=typeof global<"u"&&global.localStorage?global.localStorage:typeof globalThis<"u"&&globalThis.localStorage?globalThis.localStorage:typeof window<"u"&&window.localStorage?window.localStorage:typeof localStorage<"u"?localStorage:null),t){var n=function(r){return{get:function(i,s){var o=r.getItem(i);return o==null?typeof s=="function"?s():s:JSON.parse(o)},set:function(i,s){r.setItem(i,JSON.stringify(s))}}}(t);return function(r){return function(i,s,o){var a=o.get,l=o.set,c=A.useRef(null),u=A.useState(function(){return a(s,i)}),d=u[0],h=u[1];Hae("storage",function(g){if(g.key===s){var m=JSON.parse(g.newValue);d!==m&&h(m)}}),A.useEffect(function(){return c.current=Gae(s,h,i),function(){c.current.deregister()}},[i,s]);var p=A.useCallback(function(g){var m=typeof g=="function"?g(d):g;l(s,m),h(m),c.current.emit(g)},[d,l,s]);return[d,p]}(r,e,n)}}return A.useState}const qae=xw("remote_mic_name");function Wae({isVisible:e,roomId:t,connectionStatus:n,onConnect:r,connectionError:i}){const[s,o]=qae(""),[a,l]=A.useState(!1),c=A.useRef(null),u=A.useRef(null),[d,h]=A.useState(t??""),p=Xr(),g=n!=="uninitialised"&&n!=="error";A.useEffect(()=>{n==="connected"&&!t&&p("remote-mic/",{room:d})},[n,t,d]);const m=(x=!1)=>{wn.connect(t??d,s,x),r(x)},_=x=>{var b,w;x.preventDefault(),l(!1),!t&&d.length!==Hp?(b=c.current)==null||b.focus():s===""?(w=u.current??c.current)==null||w.focus():m()};A.useEffect(()=>{var x;Vn.capture(t?"remote-mic-qrcode":"remote-mic-manual"),(x=c.current)==null||x.focus()},[]),A.useEffect(()=>{je.session.getItem("reload-mic-request")!==null&&(global.setTimeout(()=>je.session.removeItem("reload-mic-request"),1),m(!0))},[]);const[v,y]=A.useState(!1);A.useEffect(()=>{if(y(!1),n==="connecting"||n==="reconnecting"){const x=setTimeout(()=>y(!0),2e3);return()=>clearTimeout(x)}},[n]);const S=n==="error"&&!a;return e?f.jsxs(f.Fragment,{children:[f.jsx($ae,{onClose:()=>{var x;(x=c.current)==null||x.focus()}}),f.jsxs(Kae,{onSubmit:_,children:[!g&&f.jsx(Qae,{ref:c,placeholder:"_____",label:"Game code",autoCapitalize:"characters",autoComplete:"off",onChange:h,value:d,maxLength:Hp,focused:!1,autoFocus:!0,"data-test":"game-code-input",onFocus:()=>{n==="error"&&l(!0)},onPaste:x=>{x.preventDefault();let b=(x.clipboardData||global.clipboardData).getData("text");b=b.replace(/\s/g,""),h(b.slice(0,Hp))}}),f.jsx(zl,{maxLength:cS,focused:!1,label:"Your name",placeholder:"Enter your name…",value:s,onChange:o,ref:t?c:u,disabled:g,autoFocus:!0,"data-test":"player-name-input"}),f.jsxs(Yae,{type:"submit",disabled:g,"data-test":"connect-button",children:[n==="connecting"&&f.jsx(Sh,{size:"1em"}),n==="uninitialised"||a?"Connect":n.toUpperCase()]})]}),(v||S)&&f.jsxs(f.Fragment,{children:[v&&f.jsx("h3",{children:"If it doesn't connect"}),S&&f.jsxs(f.Fragment,{children:[f.jsxs("h3",{children:[f.jsx("strong",{children:f.jsx(Fl,{})})," ","Could not connect:"]}),f.jsxs("h6",{children:["Error code: ",f.jsx("strong",{children:i})]}),f.jsx("br",{}),i==="peer-unavailable"?f.jsxs(f.Fragment,{children:[f.jsx("h4",{children:t===void 0?"Game with this code not found 🤔":"The game seems to be offline 🤔"}),t===void 0&&f.jsxs("h5",{children:["1. Is the code ",f.jsx("strong",{children:d.toUpperCase()})," correct?"]}),f.jsxs("h5",{children:[t===void 0?2:1,". Refresh (",f.jsx("strong",{children:"F5"}),") the Karaoke Game on the PC"]}),t!==void 0&&f.jsxs("h5",{children:["2. Scan the"," ",f.jsxs("strong",{children:[f.jsx(bf,{})," QR Code"]})," ","again"]}),f.jsxs("h5",{children:["3. Make sure you are in the same"," ",f.jsxs("strong",{children:[f.jsx(qd,{})," Wi-Fi"]})]})]}):i==="network"?f.jsxs(f.Fragment,{children:[f.jsx("h4",{children:"No internet access 💀"}),f.jsxs("h5",{children:["Make sure you are in the same"," ",f.jsxs("strong",{children:[f.jsx(qd,{})," Wi-Fi"]}),"and that it has internet connection"]})]}):f.jsxs(f.Fragment,{children:[f.jsxs("h5",{children:["1. Make sure you are in the same"," ",f.jsxs("strong",{children:[f.jsx(qd,{})," Wi-Fi"]})]}),f.jsxs("h5",{children:["2. Refresh (",f.jsx("strong",{children:"F5"}),") the Karaoke Game on the PC"]}),f.jsxs("h5",{children:["3. Scan the"," ",f.jsxs("strong",{children:[f.jsx(bf,{})," QR Code"]})," ","again"]})]})]})]})]}):null}const Kae=C("form",{target:"e1ey8ze72"})({name:"fvqkyn",styles:"margin-top:2rem;display:flex;flex-direction:column;gap:1rem"}),Yae=C(Re,{target:"e1ey8ze71"})({name:"116s0m5",styles:"margin-bottom:0;height:72px"}),Qae=C(zl,{target:"e1ey8ze70"})({name:"8hhbv6",styles:"input{letter-spacing:2rem;text-align:center;text-transform:uppercase;}"});var ww={},Jae=ot;Object.defineProperty(ww,"__esModule",{value:!0});var wL=ww.default=void 0,Xae=Jae(ut()),Zae=f;wL=ww.default=(0,Xae.default)((0,Zae.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack");var Ew={},ele=ot;Object.defineProperty(Ew,"__esModule",{value:!0});var EL=Ew.default=void 0,tle=ele(ut()),nle=f;EL=Ew.default=(0,tle.default)((0,nle.jsx)("path",{d:"m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"}),"ArrowForward");var kw={},rle=ot;Object.defineProperty(kw,"__esModule",{value:!0});var kL=kw.default=void 0,ile=rle(ut()),sle=f;kL=kw.default=(0,ile.default)((0,sle.jsx)("path",{d:"M15 7.5V2H9v5.5l3 3zM7.5 9H2v6h5.5l3-3zM9 16.5V22h6v-5.5l-3-3zM16.5 9l-3 3 3 3H22V9z"}),"Games");var Cw={},ole=ot;Object.defineProperty(Cw,"__esModule",{value:!0});var CL=Cw.default=void 0,ale=ole(ut()),lle=f;CL=Cw.default=(0,ale.default)((0,lle.jsx)("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6z"}),"KeyboardArrowDown");var Tw={},cle=ot;Object.defineProperty(Tw,"__esModule",{value:!0});var TL=Tw.default=void 0,ule=cle(ut()),dle=f;TL=Tw.default=(0,ule.default)((0,dle.jsx)("path",{d:"M15.41 16.59 10.83 12l4.58-4.59L14 6l-6 6 6 6z"}),"KeyboardArrowLeft");var Iw={},fle=ot;Object.defineProperty(Iw,"__esModule",{value:!0});var IL=Iw.default=void 0,hle=fle(ut()),ple=f;IL=Iw.default=(0,hle.default)((0,ple.jsx)("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6z"}),"KeyboardArrowRight");var Rw={},gle=ot;Object.defineProperty(Rw,"__esModule",{value:!0});var RL=Rw.default=void 0,mle=gle(ut()),vle=f;RL=Rw.default=(0,mle.default)((0,vle.jsx)("path",{d:"M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"}),"KeyboardArrowUp");var Mw={},yle=ot;Object.defineProperty(Mw,"__esModule",{value:!0});var ML=Mw.default=void 0,Ale=yle(ut()),_le=f;ML=Mw.default=(0,Ale.default)((0,_le.jsx)("path",{d:"M10.59 9.17 5.41 4 4 5.41l5.17 5.17zM14.5 4l2.04 2.04L4 18.59 5.41 20 17.96 7.46 20 9.5V4zm.33 9.41-1.41 1.41 3.13 3.13L14.5 20H20v-5.5l-2.04 2.04z"}),"Shuffle");var Pw={},ble=ot;Object.defineProperty(Pw,"__esModule",{value:!0});var dv=Pw.default=void 0,Sle=ble(ut()),xle=f;dv=Pw.default=(0,Sle.default)((0,xle.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search");function jw(e,t){const[n,r]=A.useState(e);return A.useEffect(()=>{const i=setTimeout(()=>{r(e)},t);return()=>{clearTimeout(i)}},[e,t]),n}function wle({onSearchStateChange:e}){const[t,n]=A.useState(""),r=A.useRef(null),i=jw(t,100),s=kJ(i);return A.useEffect(()=>{s!==i&&wn.searchSong(i.trim())},[s,i]),EJ(()=>e==null?void 0:e(!1)),f.jsx(Ele,{onFocus:()=>e==null?void 0:e(!0),onBlur:()=>e==null?void 0:e(!1),maxLength:cS,focused:!1,label:f.jsx(dv,{}),placeholder:"Search for a song…",value:t,onChange:n,ref:r,"data-test":"search-song-input"})}const Ele=C(zl,{target:"e12hs6m40"})({name:"zrd260",styles:"width:100%;margin-bottom:1rem"});function kle({onSearchStateChange:e}){var s;const[t]=eo(ee.remoteKeyboardLayout,!0)??[],n=(t==null?void 0:t.horizontal)!==void 0||(t==null?void 0:t["horizontal-vertical"])!==void 0,r=(t==null?void 0:t.vertical)!==void 0||(t==null?void 0:t["horizontal-vertical"])!==void 0,i=o=>()=>{wn.sendKeyStroke(o)};return t!==void 0?f.jsxs(Cle,{"data-test":"remote-keyboard",children:[((s=t==null?void 0:t.remote)==null?void 0:s.includes("search"))&&f.jsx(wle,{onSearchStateChange:e}),(n||r)&&f.jsxs(Ky,{children:[f.jsx(Wy,{children:f.jsx(nc,{onClick:i("up"),disabled:!r,"data-disabled":!r,"data-test":"arrow-up",children:f.jsx(RL,{})})}),f.jsxs(Wy,{children:[f.jsx(nc,{onClick:i("left"),disabled:!n,"data-disabled":!n,"data-test":"arrow-left",children:f.jsx(TL,{})}),f.jsx(nc,{disabled:!0,"data-disabled":!0,children:f.jsx(kL,{})}),f.jsx(nc,{onClick:i("right"),disabled:!n,"data-disabled":!n,"data-test":"arrow-right",children:f.jsx(IL,{})})]}),f.jsx(Wy,{children:f.jsx(nc,{onClick:i("down"),disabled:!r,"data-disabled":!r,"data-test":"arrow-down",children:f.jsx(CL,{})})})]}),f.jsxs(Ky,{children:[f.jsx(Yy,{onClick:i("back"),disabled:(t==null?void 0:t.back)===void 0,"data-test":"keyboard-backspace",children:(t==null?void 0:t.back)||f.jsxs(f.Fragment,{children:[f.jsx(wL,{})," Back"]})}),f.jsx(Yy,{onClick:i("accept"),disabled:(t==null?void 0:t.accept)===void 0,"data-test":"keyboard-enter",children:(t==null?void 0:t.accept)||f.jsxs(f.Fragment,{children:["Enter ",f.jsx(EL,{})]})})]}),f.jsx(Tle,{}),f.jsx(Ky,{disabled:(t==null?void 0:t.shiftR)===void 0,"data-test":"keyboard-shift-r",children:f.jsxs(Yy,{onClick:i("random"),children:[f.jsx(ML,{})," ",(t==null?void 0:t.shiftR)||"Random Song"]})})]}):null}const Cle=C("div",{target:"epl0eil6"})({name:"17mk58z",styles:"gap:1rem;display:flex;flex-wrap:wrap;margin-bottom:2rem"}),Wy=C("div",{target:"epl0eil5"})({name:"144ujnw",styles:"display:flex;justify-content:center;flex:1;color:white;font-size:2rem"}),Ky=C("div",{target:"epl0eil4"})("display:flex;flex-direction:column;flex:1;justify-content:space-between;opacity:",e=>e.disabled?0:1,";"),Tle=C("div",{target:"epl0eil3"})({name:"1f76xva",styles:"flex-basis:100%;height:0"}),Ile=C("button",{target:"epl0eil2"})("background:none;border:none;box-sizing:border-box;margin:0.25rem;width:4.5rem;height:4.5rem;svg{width:2.5rem;height:2.5rem;}opacity:",e=>e.disabled?.25:1,";"),nc=C(Ile,{target:"epl0eil1"})({name:"1dzx4ce",styles:"display:flex;align-items:center;justify-content:center;border-radius:0.3rem;border:0.3rem solid rgb(204, 204, 204);border-bottom-color:rgb(130, 130, 130);border-right-color:rgb(130, 130, 130);gap:0.5rem;&[data-disabled='false']{cursor:pointer;&:active{border:0.3rem solid rgb(130, 130, 130);border-bottom-color:rgb(204, 204, 204);border-right-color:rgb(204, 204, 204);}}color:rgb(51, 51, 51);font-weight:normal;font-size:2.5rem;box-shadow:0 0.1rem 0 rgba(0, 0, 0, 0.2),inset 0 0 0 0.2rem #ffffff;background-color:rgb(247, 247, 247);text-shadow:0 0.1rem 0 #fff"}),Yy=C(nc,{target:"epl0eil0"})({name:"1d3w5wq",styles:"width:100%"});var Ow={},Rle=ot;Object.defineProperty(Ow,"__esModule",{value:!0});var fv=Ow.default=void 0,Mle=Rle(ut()),Ple=f;fv=Ow.default=(0,Mle.default)((0,Ple.jsx)("path",{d:"M6.99 11 3 15l3.99 4v-3H14v-2H6.99zM21 9l-3.99-4v3H10v2h7.01v3z"}),"SwapHoriz");function PL({playerNumber:e,id:t,onModalClose:n,header:r}){const[i]=eo(ee.remoteStyleChanged,!0)??["regular"],s=a=>{wn.requestPlayerChange(t,a),n()},o=e!==null;return f.jsx(Ou,{onClose:n,children:f.jsxs(jle,{children:[r&&f.jsx("h2",{children:r}),f.jsx(Re,{size:"small","data-test":"change-to-player-0",onClick:()=>s(0),disabled:e===0,style:{color:pe.colors.players[0].perfect.fill},children:i==="christmas"?"Green":"Blue"}),f.jsx(Re,{size:"small","data-test":"change-to-player-1",onClick:()=>s(1),disabled:e===1,style:{color:pe.colors.players[1].perfect.fill},children:i==="christmas"?"Red":i==="eurovision"?"Violet":"Red"}),f.jsx(Re,{size:"small","data-test":"change-to-player-2",onClick:()=>s(2),disabled:e===2,style:{color:pe.colors.players[2].perfect.fill},children:i==="christmas"?"?????":i==="eurovision"?"Yellow":"Green"}),f.jsx(Re,{size:"small","data-test":"change-to-player-3",onClick:()=>s(3),disabled:e===3,style:{color:pe.colors.players[3].perfect.fill},children:i==="christmas"?"?????":i==="eurovision"?"Pink":"Yellow"}),f.jsx(Re,{size:"small",onClick:()=>s(null),disabled:!o,"data-test":"change-to-unset",children:"Unassign"}),f.jsx("hr",{}),f.jsx(Re,{onClick:n,size:"small",children:"Close"})]})})}const jle=C(Ts,{target:"e1q747tq0"})({name:"8ixhiv",styles:"gap:0"});function jL({number:e,...t}){const[n]=eo(ee.remoteStyleChanged,!0)??["regular"],r=L3();return A.useEffect(()=>{r()},[n]),f.jsx(Ole,{style:{background:e!==null?pe.colors.players[e].perfect.fill:pe.colors.text.inactive},...t})}const Ole=C("div",{target:"e1u9853z0"})({name:"97f0zo",styles:"display:inline-block;width:1em;height:1em;aspect-ratio:1;border-radius:1em"}),Vle=A.memo(function({playerNumber:t}){const[n,r]=A.useState(!1),i=()=>r(!1),s=t!==null;return f.jsxs(f.Fragment,{children:[f.jsxs(Lle,{onClick:()=>r(!0),"data-test":"change-player","data-joined":s,children:[s?f.jsxs(f.Fragment,{children:[f.jsx(jL,{number:t})," Change"]}):"Join game"," ",f.jsx(fv,{})]}),n&&f.jsx(PL,{id:wn.getClientId(),playerNumber:t,onModalClose:i})]})}),Lle=C("button",{target:"e1x7ggg80"})("position:absolute;z-index:1;color:white;right:1rem;bottom:1rem;padding:1rem;font-size:2rem;text-transform:uppercase;display:flex;align-items:center;gap:1rem;border:none;",De,";background:rgba(0, 0, 0, 0.75);&[data-joined='false']{font-size:3rem;padding:3rem;",tu,";}:hover{",tu,";}:active{",av,";}svg{width:2rem;height:2rem;}");function Vw(){const[e]=eo(ee.remoteMicPermissionsSet,!0)??["write"];return e}function Nle({playerNumber:e,volume:t,frequency:n,isMicOn:r,isConnected:i}){const[s,o]=A.useState(1e-6),a=Vw();A.useEffect(()=>{o(u=>t>u?t:u*.99)},[t]);const l=e!==null?pe.colors.players[e].miss.stroke:pe.colors.lines.normal.fill,c=e!==null?pe.colors.players[e].perfect.fill:pe.colors.lines.normal.fill;return f.jsxs($le,{isMicOn:r,color:l,"data-player-number":`${e??"none"}`,"data-test":"indicator",children:[r&&f.jsx(f.Fragment,{children:f.jsxs(Ble,{children:[n?`${Math.round(n)}Hz`:" ",f.jsx("br",{}),String(t*100).slice(0,5)]})}),i&&a==="write"&&f.jsx(Vle,{playerNumber:e}),f.jsx(Dle,{color:c,style:{transform:`scaleY(${r?1-Math.min(1,t/s):1})`}})]})}const Ble=C("span",{target:"eik0d702"})({name:"1ikzkvw",styles:"position:absolute;color:white;opacity:0.125"}),Dle=C("div",{target:"eik0d701"})("width:100%;height:100%;background-color:",e=>e.color,";transition:200ms;transform-origin:top;"),$le=C("div",{target:"eik0d700"})("position:relative;border:0.1rem solid white;flex:1;min-height:200px;max-height:100vw;transition:300ms;background:",e=>e.color,";");function YI({isVisible:e,isMicOn:t,isConnected:n}){const[r,i]=A.useState(0),[s,o]=A.useState(0),[a]=eo(ee.remoteMicPlayerSet,!0)??[null],l=A.useCallback(Ic((c,u)=>{o(c),i(u)},150),[i,o]);return A.useEffect(()=>(as.startMonitoring(void 0),as.addListener(l)),[l]),e?f.jsx(f.Fragment,{children:f.jsx(Nle,{volume:r,frequency:s,playerNumber:a,isMicOn:t,isConnected:n})}):null}function Fle({}){const[e,t]=A.useState(0);return A.useEffect(()=>{const n=setInterval(()=>{const r=ps();wn.pinging&&r-wn.pingStart>e?t(r-wn.pingStart):t(wn.latency)},333);return()=>{clearInterval(n)}},[]),f.jsxs(f.Fragment,{children:[e,"ms"]})}function zle({roomId:e,monitoringStarted:t,setMonitoringStarted:n,isKeepAwakeOn:r,setIsKeepAwakeOn:i,connectionError:s,connectionStatus:o}){const a=Vw(),[l,c]=A.useState(!1),[u]=$e(Db),d=async()=>{var g,m;i(!0);try{!fae()&&u&&(await document.body.requestFullscreen(),global.screen.orientation.unlock(),await((m=(g=global.screen.orientation).lock)==null?void 0:m.call(g,"portrait")))}catch(_){console.warn(_)}},h=o==="connected",p=f.jsx(YI,{isVisible:!0,isMicOn:t,isConnected:h});return f.jsx(Ule,{children:f.jsxs(_h,{showImages:!1,fallback:f.jsxs(f.Fragment,{children:[p,f.jsx("h2",{children:"Please allow access to the microphone."})]}),children:[f.jsxs(QI,{collapse:l,children:[f.jsx(YI,{isVisible:!0,isMicOn:t,isConnected:h}),f.jsx(Wae,{roomId:e,isVisible:!0,connectionStatus:o,onConnect:d,connectionError:s})]}),f.jsxs(QI,{children:[a==="write"&&f.jsx(kle,{onSearchStateChange:c}),a==="read"&&f.jsxs(Hle,{"data-test":"no-permissions-message",children:["No permission to control the game. Go to in-game ",f.jsx("strong",{children:"Settings"})," menu ➔"," ",f.jsx("strong",{children:"Remote Microphones Settings"})," to manage them."]}),f.jsxs(JI,{onClick:()=>i(!r),children:["WakeLock: ",f.jsx("strong",{children:r?"ON":"OFF"})]}),f.jsxs(OL,{onClick:()=>t?as.stopMonitoring():as.startMonitoring(void 0),children:["Microphone: ",f.jsx("strong",{"data-test":"monitoring-state",children:t?"ON":"OFF"})]}),h&&f.jsxs(JI,{children:["Ping: ",f.jsx(Fle,{})]})]})]})})}const Ule=C("div",{target:"eakh27i4"})({name:"15sh5r0",styles:"font-size:2.6rem;display:flex;flex-direction:column;gap:2rem;padding:1.5rem;box-sizing:border-box;@media (max-height: 500px) and (min-aspect-ratio: 16/10){flex-direction:row;}h5{margin-top:0.5em;svg{font-size:0.9em;}}"}),QI=C("div",{target:"eakh27i3"})("flex:1;transition:300ms ease-in-out;margin-top:",e=>e.collapse?"-100%":"0",";@media (max-height: 500px) and (min-aspect-ratio: 16/10){margin-top:0;display:flex;flex-direction:column;justify-content:center;}"),OL=C("div",{target:"eakh27i2"})(De," strong{color:",pe.colors.text.active,";}align-self:flex-end;"),JI=C(OL,{target:"eakh27i1"})(""),Hle=C("h5",{target:"eakh27i0"})({name:"1s76ut5",styles:"padding-bottom:5rem"});function Gle({onConfirm:e}){const[t,n]=A.useState(!1),[r,i]=A.useState(!1);A.useEffect(()=>{je.session.getItem("reload-mic-request")!==null&&i(!0)},[]),Vr(ee.remoteMicPlayerSet,()=>{r&&(i(!1),n(!0))}),Vr(ee.remoteReadinessRequested,()=>{n(!0)});const s=()=>{wn.confirmReadiness(),n(!1),e()};return t?f.jsx(qle,{children:f.jsx(Ts,{children:f.jsx(Wle,{"data-test":"ready-button",onClick:s,children:"Ready"})})}):null}const qle=C("div",{target:"eusdifu1"})({name:"1b0uzsn",styles:"display:flex;flex-direction:column;align-items:center;justify-content:center;position:absolute;top:0;left:0;width:100%;height:100%;backdrop-filter:blur(10px);z-index:1000"}),Wle=C(Re,{target:"eusdifu0"})("aspect-ratio:1;",tu,";");function VL({unit:e="",value:t,onChange:n,step:r=50,disabled:i=!1,...s}){return f.jsxs(Yle,{...s,children:[f.jsx(XI,{onClick:()=>n(t-r),disabled:i,"data-test":"numeric-input-down",children:"-"}),f.jsxs(Kle,{children:[f.jsx("strong",{"data-test":"numeric-input-value",children:t}),e]}),f.jsx(XI,{onClick:()=>n(t+r),disabled:i,"data-test":"numeric-input-up",children:"+"})]})}const XI=C("button",{target:"e1tear4c2"})("background:black;padding:0.5rem 2rem;border:none;font-size:3rem;",De,";:disabled{opacity:0.5;}"),Kle=C("div",{target:"e1tear4c1"})({name:"2qd0l8",styles:"flex:1;text-align:center"}),Yle=C("div",{target:"e1tear4c0"})(De,";display:flex;align-items:center;justify-self:center;background:black;");function Qle({}){const[e,t]=A.useState(0),[n,r]=A.useState(!1);A.useEffect(()=>{r(!0),wn.getGameInputLag().then(({value:s})=>t(s)).catch(s=>console.warn(s)).finally(()=>r(!1))},[]);const i=s=>{r(!0),wn.setGameInputLag(s).then(({value:o})=>t(o)).catch(o=>console.warn(o)).finally(()=>r(!1))};return f.jsxs(f.Fragment,{children:[f.jsx("h3",{children:"Adjust game input lag"}),f.jsx(VL,{value:e,onChange:i,disabled:n,unit:"ms","data-test":"game-input-lag"}),f.jsx("h6",{children:"If the sound is not synchronised with the lyrics, use this to compensate it."})]})}function Jle(e){A.useEffect(()=>(wn.subscribe("remote-mics"),()=>{wn.unsubscribe("remote-mics")}),[]);const[t]=eo(ee.remoteMicListUpdated)??[[]];return f.jsxs(f.Fragment,{children:[f.jsx("h3",{children:"Manage Players"}),t.map(n=>f.jsx(Xle,{mic:n},n.id)),t.length===0&&f.jsx("h4",{children:"No remote microphones connected"})]})}const Xle=({mic:e})=>{var r;const[t,n]=A.useState(!1);return Ze.getPermission(e.id),f.jsxs(Zle,{"data-test":"manage-players",children:[t&&f.jsx(PL,{id:e.id,playerNumber:e.number,onModalClose:()=>n(!1),header:f.jsxs(f.Fragment,{children:["Change ",f.jsx("strong",{className:"ph-no-capture",children:e.name}),":"]})}),f.jsxs(ece,{onClick:()=>n(!0),"data-test":"remote-mic-entry","data-id":e.id??e.name,size:"small",children:[f.jsx(jL,{number:e.number}),f.jsx(nce,{children:((r=e.id)==null?void 0:r.slice(-4))??"????"}),f.jsx(tce,{className:"ph-no-capture",isSelf:e.id===wn.getClientId(),children:e.name})]})]})},Zle=C("div",{target:"e1sg8znb3"})({name:"4zk4ri",styles:"display:flex;flex-direction:column;gap:1rem"}),ece=C(Re,{target:"e1sg8znb2"})({name:"1n950nl",styles:"display:flex;align-items:center;padding:0 2rem"}),tce=C("div",{target:"e1sg8znb1"})("color:",e=>e.isSelf?`${pe.colors.text.active}`:"auto",";text-overflow:ellipsis;overflow:hidden;white-space:nowrap;"),nce=C("span",{target:"e1sg8znb0"})({name:"dcs29c",styles:"font-size:1.5rem;padding:0 1rem"});function ZI(){const[e,t]=$e(XP),[n,r]=A.useState(!1);A.useEffect(()=>{r(!0),wn.getMicrophoneInputLag().then(({value:o})=>t(o)).catch(o=>console.warn(o)).finally(()=>r(!1))},[]);const i=o=>{r(!0),wn.setMicrophoneInputLag(o).then(({value:a})=>t(a)).catch(a=>console.warn(a)).finally(()=>r(!1))},s=()=>{var o;wn.disconnect(),je.local.removeItem("remote_mic_name"),je.local.removeItem(S1),(o=global.location)==null||o.reload()};return f.jsxs(f.Fragment,{children:[f.jsx(Re,{onClick:s,size:"small","data-test":"reset-microphone",children:"Reset microphone"}),f.jsxs("h6",{children:[f.jsx("strong",{children:"Note:"})," removes all persisted microphone data (your name, ID etc.)"]}),f.jsx("hr",{}),f.jsx("h3",{children:"Adjust microphone lag"}),f.jsx(VL,{value:e,onChange:i,unit:"ms",disabled:n,step:25,"data-test":"microphone-delay"}),f.jsx("h6",{children:"Adjust the microphone input delay (e.g. if the game doesn't detect you hitting the note on time)"})]})}function rce(){var r;const e=Vw(),[t,n]=A.useState(e==="write"?null:"microphone");return f.jsxs(ice,{children:[f.jsxs("h3",{children:["Remote mic ID:"," ",f.jsx("strong",{"data-test":"remote-mic-id",children:((r=wn.getClientId())==null?void 0:r.slice(-4).toUpperCase())??"----"})]}),f.jsx("hr",{}),e==="write"&&t===null&&f.jsxs(f.Fragment,{children:[f.jsx(Re,{onClick:()=>n("microphone"),size:"small","data-test":"microphone-settings",disabled:t==="microphone",children:"Microphone settings"}),f.jsx(Re,{onClick:()=>n("manage"),size:"small","data-test":"manage-game",disabled:t==="manage",children:"Manage the game"})]}),e!=="write"&&f.jsx(ZI,{}),t!==null&&e==="write"&&f.jsx(Ou,{onClose:()=>n(null),children:f.jsxs(Ts,{children:[f.jsx(sce,{children:t==="microphone"?"Microphone settings":"Manage game"}),t==="microphone"&&f.jsx(ZI,{}),t==="manage"&&f.jsxs(f.Fragment,{children:[f.jsx(Jle,{}),f.jsx(Qle,{})]}),f.jsx("hr",{}),f.jsx(Re,{onClick:()=>n(null),size:"small","data-test":"close-modal",children:"Close"})]})})]})}const ice=C("div",{target:"edoha0h1"})({name:"10ti2i0",styles:"flex-grow:1;font-size:2.6rem;display:flex;flex-direction:column;justify-content:center;padding:5rem 1.5rem 1.5rem;box-sizing:border-box;gap:1rem"}),sce=C("h1",{target:"edoha0h0"})({name:"bvcr5v",styles:"font-size:3.25rem!important"});var oce="__lodash_hash_undefined__";function ace(e){return this.__data__.set(e,oce),this}function lce(e){return this.__data__.has(e)}function zf(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new jo;++t<n;)this.add(e[t])}zf.prototype.add=zf.prototype.push=ace;zf.prototype.has=lce;function cce(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function LL(e,t){return e.has(t)}var uce=1,dce=2;function NL(e,t,n,r,i,s){var o=n&uce,a=e.length,l=t.length;if(a!=l&&!(o&&l>a))return!1;var c=s.get(e),u=s.get(t);if(c&&u)return c==t&&u==e;var d=-1,h=!0,p=n&dce?new zf:void 0;for(s.set(e,t),s.set(t,e);++d<a;){var g=e[d],m=t[d];if(r)var _=o?r(m,g,d,t,e,s):r(g,m,d,e,t,s);if(_!==void 0){if(_)continue;h=!1;break}if(p){if(!cce(t,function(v,y){if(!LL(p,y)&&(g===v||i(g,v,n,r,s)))return p.push(y)})){h=!1;break}}else if(!(g===m||i(g,m,n,r,s))){h=!1;break}}return s.delete(e),s.delete(t),h}function fce(e){var t=-1,n=Array(e.size);return e.forEach(function(r,i){n[++t]=[i,r]}),n}function Lw(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var hce=1,pce=2,gce="[object Boolean]",mce="[object Date]",vce="[object Error]",yce="[object Map]",Ace="[object Number]",_ce="[object RegExp]",bce="[object Set]",Sce="[object String]",xce="[object Symbol]",wce="[object ArrayBuffer]",Ece="[object DataView]",eR=Gi?Gi.prototype:void 0,Qy=eR?eR.valueOf:void 0;function kce(e,t,n,r,i,s,o){switch(n){case Ece:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case wce:return!(e.byteLength!=t.byteLength||!s(new Gg(e),new Gg(t)));case gce:case mce:case Ace:return s0(+e,+t);case vce:return e.name==t.name&&e.message==t.message;case _ce:case Sce:return e==t+"";case yce:var a=fce;case bce:var l=r&hce;if(a||(a=Lw),e.size!=t.size&&!l)return!1;var c=o.get(e);if(c)return c==t;r|=pce,o.set(e,t);var u=NL(a(e),a(t),r,i,s,o);return o.delete(e),u;case xce:if(Qy)return Qy.call(e)==Qy.call(t)}return!1}var Cce=1,Tce=Object.prototype,Ice=Tce.hasOwnProperty;function Rce(e,t,n,r,i,s){var o=n&Cce,a=k1(e),l=a.length,c=k1(t),u=c.length;if(l!=u&&!o)return!1;for(var d=l;d--;){var h=a[d];if(!(o?h in t:Ice.call(t,h)))return!1}var p=s.get(e),g=s.get(t);if(p&&g)return p==t&&g==e;var m=!0;s.set(e,t),s.set(t,e);for(var _=o;++d<l;){h=a[d];var v=e[h],y=t[h];if(r)var S=o?r(y,v,h,t,e,s):r(v,y,h,e,t,s);if(!(S===void 0?v===y||i(v,y,n,r,s):S)){m=!1;break}_||(_=h=="constructor")}if(m&&!_){var x=e.constructor,b=t.constructor;x!=b&&"constructor"in e&&"constructor"in t&&!(typeof x=="function"&&x instanceof x&&typeof b=="function"&&b instanceof b)&&(m=!1)}return s.delete(e),s.delete(t),m}var Mce=1,tR="[object Arguments]",nR="[object Array]",Ap="[object Object]",Pce=Object.prototype,rR=Pce.hasOwnProperty;function jce(e,t,n,r,i,s){var o=qi(e),a=qi(t),l=o?nR:vf(e),c=a?nR:vf(t);l=l==tR?Ap:l,c=c==tR?Ap:c;var u=l==Ap,d=c==Ap,h=l==c;if(h&&Hg(e)){if(!Hg(t))return!1;o=!0,u=!1}if(h&&!u)return s||(s=new Ks),o||_3(e)?NL(e,t,n,r,i,s):kce(e,t,l,n,r,i,s);if(!(n&Mce)){var p=u&&rR.call(e,"__wrapped__"),g=d&&rR.call(t,"__wrapped__");if(p||g){var m=p?e.value():e,_=g?t.value():t;return s||(s=new Ks),i(m,_,n,r,s)}}return h?(s||(s=new Ks),Rce(e,t,n,r,i,s)):!1}function Nw(e,t,n,r,i){return e===t?!0:e==null||t==null||!So(e)&&!So(t)?e!==e&&t!==t:jce(e,t,n,r,Nw,i)}var Oce=1,Vce=2;function Lce(e,t,n,r){var i=n.length,s=i,o=!r;if(e==null)return!s;for(e=Object(e);i--;){var a=n[i];if(o&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++i<s;){a=n[i];var l=a[0],c=e[l],u=a[1];if(o&&a[2]){if(c===void 0&&!(l in e))return!1}else{var d=new Ks;if(r)var h=r(c,u,l,e,t,d);if(!(h===void 0?Nw(u,c,Oce|Vce,r,d):h))return!1}}return!0}function BL(e){return e===e&&!ws(e)}function Nce(e){for(var t=oh(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,BL(i)]}return t}function DL(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}function Bce(e){var t=Nce(e);return t.length==1&&t[0][2]?DL(t[0][0],t[0][1]):function(n){return n===e||Lce(n,e,t)}}function Dce(e,t,n){var r=e==null?void 0:$S(e,t);return r===void 0?n:r}function $ce(e,t){return e!=null&&t in Object(e)}function Fce(e,t,n){t=A0(t,e);for(var r=-1,i=t.length,s=!1;++r<i;){var o=ah(t[r]);if(!(s=e!=null&&n(e,o)))break;e=e[o]}return s||++r!=i?s:(i=e==null?0:e.length,!!i&&vS(i)&&AS(o,i)&&(qi(e)||RS(e)))}function zce(e,t){return e!=null&&Fce(e,t,$ce)}var Uce=1,Hce=2;function Gce(e,t){return BS(e)&&BL(t)?DL(ah(e),t):function(n){var r=Dce(n,e);return r===void 0&&r===t?zce(n,e):Nw(t,r,Uce|Hce)}}function qce(e){return function(t){return t==null?void 0:t[e]}}function Wce(e){return function(t){return $S(t,e)}}function Kce(e){return BS(e)?qce(ah(e)):Wce(e)}function Yce(e){return typeof e=="function"?e:e==null?V3:typeof e=="object"?qi(e)?Gce(e[0],e[1]):Bce(e):Kce(e)}function Qce(e,t,n,r){for(var i=e.length,s=n+(r?1:-1);r?s--:++s<i;)if(t(e[s],s,e))return s;return-1}function Jce(e){return e!==e}function Xce(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}function Zce(e,t,n){return t===t?Xce(e,t,n):Qce(e,Jce,n)}function eue(e,t){var n=e==null?0:e.length;return!!n&&Zce(e,t,0)>-1}function tue(e,t,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function nue(){}var rue=1/0,iue=Mc&&1/Lw(new Mc([,-0]))[1]==rue?function(e){return new Mc(e)}:nue,sue=200;function $L(e,t,n){var r=-1,i=eue,s=e.length,o=!0,a=[],l=a;if(n)o=!1,i=tue;else if(s>=sue){var c=t?null:iue(e);if(c)return Lw(c);o=!1,i=LL,l=new zf}else l=t?[]:a;e:for(;++r<s;){var u=e[r],d=t?t(u):u;if(u=n||u!==0?u:0,o&&d===d){for(var h=l.length;h--;)if(l[h]===d)continue e;t&&l.push(d),a.push(u)}else i(l,d,n)||(l!==a&&l.push(d),a.push(u))}return a}function oue(e,t){return e&&e.length?$L(e,Yce(t)):[]}const aue="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='810'%20height='540'%3e%3crect%20width='810'%20height='540'%20fill='%23FCDD09'/%3e%3cpath%20stroke='%23DA121A'%20stroke-width='60'%20d='M0,90H810m0,120H0m0,120H810m0,120H0'/%3e%3c/svg%3e";function lue(){const e=new Intl.DisplayNames(["en"],{type:"language"}),t={};for(let r=0;r<26;r++)for(let i=0;i<26;i++){let s=String.fromCharCode(97+r)+String.fromCharCode(97+i),o=e.of(s);o!==s&&o!==void 0&&(t[o]=s)}return{...t,...{Akan:"ak",Hebrew:"he",Indonesian:"id",Javanese:"jv",Romanian:"ro",Yiddish:"yi",Tagalog:"tl",English:"gb",Korean:"kr",Swedish:"se",Latin:"va",Japanese:"jp",Catalan:"cat",Ukrainian:"ua"}}}const cue=lue();function FL(e){return cue[e]}const uue=Object.assign({"./Flag/flags/cat.svg":aue}),$c=e=>{var s;const[t,n]=A.useState(null),r="isocode"in e?(s=e.isocode)==null?void 0:s.toLowerCase():FL(Array.isArray(e.language)?e.language[0]:e.language);if(A.useLayoutEffect(()=>{r&&n(null)},[r]),!r)return null;const i=uue[`./Flag/flags/${r}.svg`];return f.jsx(due,{"data-isocode":r,src:i??`https://flagcdn.com/${t??r}.svg`,alt:r,...e,onError:()=>n("un")})},due=C("img",{target:"e1k9lqhf0"})("");function xh(e=!1){const[t,n]=A.useState(Zs.getCurrentIndex()),r=A.useRef([]),i=()=>Zs.getIndex(e).then(n);return A.useEffect(()=>{i()},[]),{data:t??r.current,reload:i,isLoading:t===null}}const iR=()=>({width:global.document.body.clientWidth,height:global.visualViewport.height});function wh(){const[e,t]=A.useState(iR()),n=A.useCallback(Ic(()=>{t(iR())},1e3),[]);return A.useEffect(()=>(global.addEventListener("resize",n),n(),()=>global.removeEventListener("resize",n)),[]),{...e,handleResize:n}}function zL(){const{width:e,height:t}=wh();return A.useMemo(()=>parseFloat(getComputedStyle(document.documentElement).fontSize),[e,t])}const fue=(e,t,n)=>e>=t&&e<n;function hue(e,t){var S,x,b;const n=A.useMemo(()=>{const w=[];return e.groupSizes.forEach((E,T)=>{var $,N;w.push({index:T,type:"group",bottom:((($=w.at(-1))==null?void 0:$.bottom)??0)+e.groupHeaderHeight,groupIndex:T});for(let B=0;B<E;B++){const K=e.groupSizes.reduce((P,L,R)=>P+(R<T?L:0),0)+B;w.push({index:K,type:"item",bottom:(((N=w.at(-1))==null?void 0:N.bottom)??0)+e.itemHeight,groupIndex:T})}}),w},[e.itemHeight,e.groupHeaderHeight,e.groupSizes]),r=((S=n.at(-1))==null?void 0:S.bottom)??0,i=A.useRef(null),s=((x=i.current)==null?void 0:x.getBoundingClientRect().height)??global.innerHeight,o=A.useCallback(w=>{const E=n.findIndex($=>$.bottom>w-e.overScan),T=n.findIndex($=>$.bottom>w+s+e.overScan);return[E,T===-1?n.length:T]},[n,s,e.overScan]),[[a,l],c]=A.useState(o(0));A.useLayoutEffect(()=>{var E;const w=o(((E=i.current)==null?void 0:E.scrollTop)??0);(a!==w[0]||l!==w[1])&&c(w)},[o,e.groupSizes,a,l]),A.useEffect(()=>{if(i.current){const w=()=>{var T;const E=o(((T=i.current)==null?void 0:T.scrollTop)??0);(a!==E[0]||l!==E[1])&&c(E)};return i.current.addEventListener("scroll",w),i.current.scrollTop>r&&i.current.scrollTo({top:0}),()=>{var E;(E=i.current)==null||E.removeEventListener("scroll",w)}}},[a,l,o,r]);const u=A.useCallback((w,E)=>{var T,$;return(((T=n[E])==null?void 0:T.bottom)??0)-((($=n[w])==null?void 0:$.bottom)??0)},[n]),d=A.useMemo(()=>u(-1,a-1),[a,u]),h=n.slice(0,a).findLastIndex(({type:w})=>w==="group"),p=n.slice(a,l),g=h!==-1?[[]]:[];for(let w=0;w<p.length;w++){const E=p[w];E.type==="group"&&g.push([]),(b=g.at(-1))==null||b.push(E)}A.useImperativeHandle(t,()=>({getItemPositionY:w=>{var E;return(((E=n.find(T=>T.type==="item"&&T.index===w))==null?void 0:E.bottom)??-1)-e.itemHeight},scrollTo:w=>{var E;(E=i.current)==null||E.scrollTo({top:w})},scrollToIndex:async(w,E="auto",T="center")=>{var N,B;const $=n.find(K=>K.type==="item"&&K.index===w);if($){const K=(e.itemHeight+(T==="center"?(N=i.current)==null?void 0:N.clientHeight:0))/2;(B=i.current)==null||B.scrollTo({top:$.bottom-K,behavior:E})}},scrollToGroup:async(w,E="auto",T="top")=>{var N;const $=n.find(B=>B.type==="group"&&B.index===w);$&&((N=i.current)==null||N.scrollTo({top:$.bottom-e.groupHeaderHeight,behavior:E}))}}));const{Header:m,Footer:_,EmptyPlaceholder:v}=e.components??{},y=n.findIndex(w=>w.type==="item"&&w.index===e.forceRenderItem);return f.jsx(f.Fragment,{children:f.jsxs(gue,{ref:i,children:[f.jsxs(pue,{style:{height:r,paddingTop:h!==-1?d-e.groupHeaderHeight:d},children:[m&&f.jsx(m,{context:e.context}),n[y]&&!fue(y,a,l)&&f.jsx(f.Fragment,{children:e.itemContent(n[y].index,n[y].groupIndex,{style:{width:"100%",position:"absolute",top:n[y].bottom-e.itemHeight,left:0,boxSizing:"border-box"},"data-virtualized-bottom":n[y].bottom,"data-virtualized-index":n[y].index})}),g.map((w,E)=>f.jsxs("div",{children:[E===0&&h!==-1&&e.groupContent(n[h].index),w.map(({index:T,type:$,bottom:N,groupIndex:B})=>f.jsx(A.Fragment,{children:$==="group"?e.groupContent(T):e.itemContent(T,B,{"data-virtualized-bottom":N,"data-virtualized-index":T})},`${N}`))]},(w[0]??n[h]).groupIndex))]}),g.length===0&&v&&f.jsx(v,{context:e.context}),_&&f.jsx(_,{context:e.context})]})})}const pue=C("div",{target:"e1c20jfn1"})({name:"100d0a9",styles:"box-sizing:border-box;position:relative"}),gue=C("div",{target:"e1c20jfn0"})({name:"1wyitvb",styles:"overflow:auto;height:100%;width:100%"}),UL=A.forwardRef(hue),mue=new Intl.Collator("en",{numeric:!0,sensitivity:"base"}).compare,U_=1/0,Jy=e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),sR="eexxaacctt",vue="A-Z",yue="a-z",rd=(e,t,n)=>e.replace(vue,t).replace(yue,n),oR={unicode:!1,alpha:null,interSplit:"[^A-Za-z\\d']+",intraSplit:"[a-z][A-Z]",intraBound:"[A-Za-z]\\d|\\d[A-Za-z]|[a-z][A-Z]",interLft:0,interRgt:0,interChars:".",interIns:U_,intraChars:"[a-z\\d']",intraIns:null,intraContr:"'[a-z]{1,2}\\b",intraMode:0,intraSlice:[1,U_],intraSub:null,intraTrn:null,intraDel:null,intraFilt:(e,t,n)=>!0,sort:(e,t,n)=>{let{idx:r,chars:i,terms:s,interLft2:o,interLft1:a,start:l,intraIns:c,interIns:u}=e;return r.map((d,h)=>h).sort((d,h)=>i[h]-i[d]||c[d]-c[h]||s[h]+o[h]+.5*a[h]-(s[d]+o[d]+.5*a[d])||u[d]-u[h]||l[d]-l[h]||mue(t[r[d]],t[r[h]]))}},Xy=(e,t)=>t==0?"":t==1?e+"??":t==U_?e+"*?":e+`{0,${t}}?`,aR="(?:\\b|_)";function hv(e){e=Object.assign({},oR,e);let{unicode:t,interLft:n,interRgt:r,intraMode:i,intraSlice:s,intraIns:o,intraSub:a,intraTrn:l,intraDel:c,intraContr:u,intraSplit:d,interSplit:h,intraBound:p,intraChars:g}=e;o??(o=i),a??(a=i),l??(l=i),c??(c=i);let m=e.letters??e.alpha;if(m!=null){let G=m.toLocaleUpperCase(),U=m.toLocaleLowerCase();h=rd(h,G,U),d=rd(d,G,U),p=rd(p,G,U),g=rd(g,G,U),u=rd(u,G,U)}let _=t?"u":"";const v='".+?"',y=new RegExp(v,"gi"+_),S=new RegExp(`(?:\\s+|^)-(?:${g}+|${v})`,"gi"+_);let{intraRules:x}=e;x==null&&(x=G=>{let U=oR.intraSlice,ne=0,O=0,de=0,Z=0;if(/[^\d]/.test(G)){let oe=G.length;oe<=4?oe>=3&&(de=Math.min(l,1),oe==4&&(ne=Math.min(o,1))):(U=s,ne=o,O=a,de=l,Z=c)}return{intraSlice:U,intraIns:ne,intraSub:O,intraTrn:de,intraDel:Z}});let b=!!d,w=new RegExp(d,"g"+_),E=new RegExp(h,"g"+_),T=new RegExp("^"+h+"|"+h+"$","g"+_),$=new RegExp(u,"gi"+_);const N=G=>{let U=[];G=G.replace(y,O=>(U.push(O),sR)),G=G.replace(T,"").toLocaleLowerCase(),b&&(G=G.replace(w,O=>O[0]+" "+O[1]));let ne=0;return G.split(E).filter(O=>O!="").map(O=>O===sR?U[ne++]:O)},B=/[^\d]+|\d+/g,K=(G,U=0,ne=!1)=>{let O=N(G);if(O.length==0)return[];let de=Array(O.length).fill("");O=O.map((le,be)=>le.replace($,He=>(de[be]=He,"")));let Z;if(i==1)Z=O.map((le,be)=>{if(le[0]==='"')return Jy(le.slice(1,-1));let He="";for(let Fe of le.matchAll(B)){let Se=Fe[0],{intraSlice:Ee,intraIns:Ke,intraSub:Ye,intraTrn:Ie,intraDel:at}=x(Se);if(Ke+Ye+Ie+at==0)He+=Se+de[be];else{let[Tt,en]=Ee,Pt=Se.slice(0,Tt),gn=Se.slice(en),ct=Se.slice(Tt,en);Ke==1&&Pt.length==1&&Pt!=ct[0]&&(Pt+="(?!"+Pt+")");let _t=ct.length,Wt=[Se];if(Ye)for(let Je=0;Je<_t;Je++)Wt.push(Pt+ct.slice(0,Je)+g+ct.slice(Je+1)+gn);if(Ie)for(let Je=0;Je<_t-1;Je++)ct[Je]!=ct[Je+1]&&Wt.push(Pt+ct.slice(0,Je)+ct[Je+1]+ct[Je]+ct.slice(Je+2)+gn);if(at)for(let Je=0;Je<_t;Je++)Wt.push(Pt+ct.slice(0,Je+1)+"?"+ct.slice(Je+1)+gn);if(Ke){let Je=Xy(g,1);for(let jt=0;jt<_t;jt++)Wt.push(Pt+ct.slice(0,jt)+Je+ct.slice(jt)+gn)}He+="(?:"+Wt.join("|")+")"+de[be]}}return He});else{let le=Xy(g,o);U==2&&o>0&&(le=")("+le+")("),Z=O.map((be,He)=>be[0]==='"'?Jy(be.slice(1,-1)):be.split("").map((Fe,Se,Ee)=>(o==1&&Se==0&&Ee.length>1&&Fe!=Ee[Se+1]&&(Fe+="(?!"+Fe+")"),Fe)).join(le)+de[He])}let oe=n==2?aR:"",Pe=r==2?aR:"",Ae=Pe+Xy(e.interChars,e.interIns)+oe;return U>0?ne?Z=oe+"("+Z.join(")"+Pe+"|"+oe+"(")+")"+Pe:(Z="("+Z.join(")("+Ae+")(")+")",Z="(.??"+oe+")"+Z+"("+Pe+".*)"):(Z=Z.join(Ae),Z=oe+Z+Pe),[new RegExp(Z,"i"+_),O,de]},P=(G,U,ne)=>{let[O]=K(U);if(O==null)return null;let de=[];if(ne!=null)for(let Z=0;Z<ne.length;Z++){let oe=ne[Z];O.test(G[oe])&&de.push(oe)}else for(let Z=0;Z<G.length;Z++)O.test(G[Z])&&de.push(Z);return de};let L=!!p,R=new RegExp(h,_),I=new RegExp(p,_);const F=(G,U,ne)=>{let[O,de,Z]=K(ne,1),[oe]=K(ne,2),Pe=de.length,Ae=G.length,le=Array(Ae).fill(0),be={idx:Array(Ae),start:le.slice(),chars:le.slice(),terms:le.slice(),interIns:le.slice(),intraIns:le.slice(),interLft2:le.slice(),interRgt2:le.slice(),interLft1:le.slice(),interRgt1:le.slice(),ranges:Array(Ae)},He=n==1||r==1,Fe=0;for(let Se=0;Se<G.length;Se++){let Ee=U[G[Se]],Ke=Ee.match(O),Ye=Ke.index+Ke[1].length,Ie=Ye,at=!1,Tt=0,en=0,Pt=0,gn=0,ct=0,_t=0,Wt=0,Je=0,jt=[];for(let ve=0,nt=2;ve<Pe;ve++,nt+=2){let mn=Ke[nt].toLocaleLowerCase(),dt=de[ve],rt=dt[0]=='"'?dt.slice(1,-1):dt+Z[ve],tn=rt.length,un=mn.length,Kt=mn==rt;if(!Kt&&Ke[nt+1].length>=tn){let pt=Ke[nt+1].toLocaleLowerCase().indexOf(rt);pt>-1&&(jt.push(Ie,un,pt,tn),Ie+=j(Ke,nt,pt,tn),mn=rt,un=tn,Kt=!0,ve==0&&(Ye=Ie))}if(He||Kt){let pt=Ie-1,Ln=Ie+un,gr=!1,vn=!1;if(pt==-1||R.test(Ee[pt]))Kt&&Tt++,gr=!0;else{if(n==2){at=!0;break}if(L&&I.test(Ee[pt]+Ee[pt+1]))Kt&&en++,gr=!0;else if(n==1){let xi=Ke[nt+1],Zr=Ie+un;if(xi.length>=tn){let bt=0,yn=!1,Ve=new RegExp(rt,"ig"+_),Xe;for(;Xe=Ve.exec(xi);){bt=Xe.index;let Un=Zr+bt,ei=Un-1;if(ei==-1||R.test(Ee[ei])){Tt++,yn=!0;break}else if(I.test(Ee[ei]+Ee[Un])){en++,yn=!0;break}}yn&&(gr=!0,jt.push(Ie,un,bt,tn),Ie+=j(Ke,nt,bt,tn),mn=rt,un=tn,Kt=!0,ve==0&&(Ye=Ie))}if(!gr){at=!0;break}}}if(Ln==Ee.length||R.test(Ee[Ln]))Kt&&Pt++,vn=!0;else{if(r==2){at=!0;break}if(L&&I.test(Ee[Ln-1]+Ee[Ln]))Kt&&gn++,vn=!0;else if(r==1){at=!0;break}}Kt&&(ct+=tn,gr&&vn&&_t++)}if(un>tn&&(Je+=un-tn),ve>0&&(Wt+=Ke[nt-1].length),!e.intraFilt(rt,mn,Ie)){at=!0;break}ve<Pe-1&&(Ie+=un+Ke[nt+1].length)}if(!at){be.idx[Fe]=G[Se],be.interLft2[Fe]=Tt,be.interLft1[Fe]=en,be.interRgt2[Fe]=Pt,be.interRgt1[Fe]=gn,be.chars[Fe]=ct,be.terms[Fe]=_t,be.interIns[Fe]=Wt,be.intraIns[Fe]=Je,be.start[Fe]=Ye;let ve=Ee.match(oe),nt=ve.index+ve[1].length,mn=jt.length,dt=mn>0?0:1/0,rt=mn-4;for(let pt=2;pt<ve.length;){let Ln=ve[pt].length;if(dt<=rt&&jt[dt]==nt){let gr=jt[dt+1],vn=jt[dt+2],xi=jt[dt+3],Zr=pt,bt="";for(let yn=0;yn<gr;Zr++)bt+=ve[Zr],yn+=ve[Zr].length;ve.splice(pt,Zr-pt,bt),nt+=j(ve,pt,vn,xi),dt+=4}else nt+=Ln,pt++}nt=ve.index+ve[1].length;let tn=be.ranges[Fe]=[],un=nt,Kt=nt;for(let pt=2;pt<ve.length;pt++){let Ln=ve[pt].length;nt+=Ln,pt%2==0?Kt=nt:Ln>0&&(tn.push(un,Kt),un=Kt=nt)}Kt>un&&tn.push(un,Kt),Fe++}}if(Fe<G.length)for(let Se in be)be[Se]=be[Se].slice(0,Fe);return be},j=(G,U,ne,O)=>{let de=G[U]+G[U+1].slice(0,ne);return G[U-1]+=de,G[U]=G[U+1].slice(ne,ne+O),G[U+1]=G[U+1].slice(ne+O),de.length},z=5,V=(G,U,ne,O=1e3,de)=>{ne=ne?ne===!0?z:ne:0;let Z=null,oe=null,Pe=[];U=U.replace(S,Se=>{let Ee=Se.trim().slice(1);return Ee[0]==='"'&&(Ee=Jy(Ee.slice(1,-1))),Pe.push(Ee),""});let Ae=N(U),le;if(Pe.length>0){if(le=new RegExp(Pe.join("|"),"i"+_),Ae.length==0){let Se=[];for(let Ee=0;Ee<G.length;Ee++)le.test(G[Ee])||Se.push(Ee);return[Se,null,null]}}else if(Ae.length==0)return[null,null,null];if(ne>0){let Se=N(U);if(Se.length>1){let Ee=Se.slice().sort((Ye,Ie)=>Ie.length-Ye.length);for(let Ye=0;Ye<Ee.length;Ye++){if((de==null?void 0:de.length)==0)return[[],null,null];de=P(G,Ee[Ye],de)}if(Se.length>ne)return[de,null,null];Z=HL(Se).map(Ye=>Ye.join(" ")),oe=[];let Ke=new Set;for(let Ye=0;Ye<Z.length;Ye++)if(Ke.size<de.length){let Ie=de.filter(Tt=>!Ke.has(Tt)),at=P(G,Z[Ye],Ie);for(let Tt=0;Tt<at.length;Tt++)Ke.add(at[Tt]);oe.push(at)}else oe.push([])}}Z==null&&(Z=[U],oe=[(de==null?void 0:de.length)>0?de:P(G,U)]);let be=null,He=null;if(Pe.length>0&&(oe=oe.map(Se=>Se.filter(Ee=>!le.test(G[Ee])))),oe.reduce((Se,Ee)=>Se+Ee.length,0)<=O){be={},He=[];for(let Se=0;Se<oe.length;Se++){let Ee=oe[Se];if(Ee==null||Ee.length==0)continue;let Ke=Z[Se],Ye=F(Ee,G,Ke),Ie=e.sort(Ye,G,Ke);if(Se>0)for(let at=0;at<Ie.length;at++)Ie[at]+=He.length;for(let at in Ye)be[at]=(be[at]??[]).concat(Ye[at]);He=He.concat(Ie)}}return[[].concat(...oe),be,He]};return{search:(...G)=>V(...G),split:N,filter:P,info:F,sort:e.sort}}const Aue=(()=>{let e={A:"ÁÀÃÂÄĄ",a:"áàãâäą",E:"ÉÈÊËĖ",e:"éèêëę",I:"ÍÌÎÏĮ",i:"íìîïį",O:"ÓÒÔÕÖ",o:"óòôõö",U:"ÚÙÛÜŪŲ",u:"úùûüūų",C:"ÇČĆ",c:"çčć",L:"Ł",l:"ł",N:"ÑŃ",n:"ñń",S:"ŠŚ",s:"šś",Z:"ŻŹ",z:"żź"},t=new Map,n="";for(let s in e)e[s].split("").forEach(o=>{n+=o,t.set(o,s)});let r=new RegExp(`[${n}]`,"g"),i=s=>t.get(s);return s=>{if(typeof s=="string")return s.replace(r,i);let o=Array(s.length);for(let a=0;a<s.length;a++)o[a]=s[a].replace(r,i);return o}})();function HL(e){e=e.slice();let t=e.length,n=[e.slice()],r=new Array(t).fill(0),i=1,s,o;for(;i<t;)r[i]<i?(s=i%2&&r[i],o=e[i],e[i]=e[s],e[s]=o,++r[i],i=1,n.push(e.slice())):(r[i]=0,++i);return n}const _ue=(e,t)=>t?`<mark>${e}</mark>`:e,bue=(e,t)=>e+t;function Sue(e,t,n=_ue,r="",i=bue){r=i(r,n(e.substring(0,t[0]),!1))??r;for(let s=0;s<t.length;s+=2){let o=t[s],a=t[s+1];r=i(r,n(e.substring(o,a),!0))??r,s<t.length-3&&(r=i(r,n(e.substring(t[s+1],t[s+2]),!1))??r)}return r=i(r,n(e.substring(t[t.length-1]),!1))??r,r}hv.latinize=Aue;hv.permute=e=>HL([...Array(e.length).keys()]).sort((n,r)=>{for(let i=0;i<n.length;i++)if(n[i]!=r[i])return n[i]-r[i];return 0}).map(n=>n.map(r=>e[r]));hv.highlight=Sue;var Bw={},xue=ot;Object.defineProperty(Bw,"__esModule",{value:!0});var Wd=Bw.default=void 0,wue=xue(ut()),Eue=f;Wd=Bw.default=(0,wue.default)((0,Eue.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2m-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckBox");var Dw={},kue=ot;Object.defineProperty(Dw,"__esModule",{value:!0});var Kd=Dw.default=void 0,Cue=kue(ut()),Tue=f;Kd=Dw.default=(0,Cue.default)((0,Tue.jsx)("path",{d:"M19 5v14H5V5zm0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2"}),"CheckBoxOutlineBlank");function Iue(e){return String(e).match(/[\d.\-+]*\s*(.*)/)[1]||""}function Rue(e){return parseFloat(e)}const Mue=["theme"];function Pue(e){let{theme:t}=e,n=Er(e,Mue);const r=t[D1];return f.jsx(hie,Oe({},n,{themeId:r?D1:void 0,theme:r||t}))}function jue(e){return ku("MuiSkeleton",e)}Cu("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);const Oue=["animation","className","component","height","style","variant","width"];let wm=e=>e,lR,cR,uR,dR;const Vue=e=>{const{classes:t,variant:n,animation:r,hasChildren:i,width:s,height:o}=e;return lh({root:["root",n,r,i&&"withChildren",i&&!s&&"fitContent",i&&!o&&"heightAuto"]},jue,t)},Lue=wa(lR||(lR=wm`
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0.4;
  }

  100% {
    opacity: 1;
  }
`)),Nue=wa(cR||(cR=wm`
  0% {
    transform: translateX(-100%);
  }

  50% {
    /* +0.5s of delay between each loop */
    transform: translateX(100%);
  }

  100% {
    transform: translateX(100%);
  }
`)),Bue=Vo("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],n.animation!==!1&&t[n.animation],n.hasChildren&&t.withChildren,n.hasChildren&&!n.width&&t.fitContent,n.hasChildren&&!n.height&&t.heightAuto]}})(({theme:e,ownerState:t})=>{const n=Iue(e.shape.borderRadius)||"px",r=Rue(e.shape.borderRadius);return Oe({display:"block",backgroundColor:e.vars?e.vars.palette.Skeleton.bg:sie(e.palette.text.primary,e.palette.mode==="light"?.11:.13),height:"1.2em"},t.variant==="text"&&{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:`${r}${n}/${Math.round(r/.6*10)/10}${n}`,"&:empty:before":{content:'"\\00a0"'}},t.variant==="circular"&&{borderRadius:"50%"},t.variant==="rounded"&&{borderRadius:(e.vars||e).shape.borderRadius},t.hasChildren&&{"& > *":{visibility:"hidden"}},t.hasChildren&&!t.width&&{maxWidth:"fit-content"},t.hasChildren&&!t.height&&{height:"auto"})},({ownerState:e})=>e.animation==="pulse"&&gi(uR||(uR=wm`
      animation: ${0} 2s ease-in-out 0.5s infinite;
    `),Lue),({ownerState:e,theme:t})=>e.animation==="wave"&&gi(dR||(dR=wm`
      position: relative;
      overflow: hidden;

      /* Fix bug in Safari https://bugs.webkit.org/show_bug.cgi?id=68196 */
      -webkit-mask-image: -webkit-radial-gradient(white, black);

      &::after {
        animation: ${0} 2s linear 0.5s infinite;
        background: linear-gradient(
          90deg,
          transparent,
          ${0},
          transparent
        );
        content: '';
        position: absolute;
        transform: translateX(-100%); /* Avoid flash during server-side hydration */
        bottom: 0;
        left: 0;
        right: 0;
        top: 0;
      }
    `),Nue,(t.vars||t).palette.action.hover)),Due=A.forwardRef(function(t,n){const r=Tu({props:t,name:"MuiSkeleton"}),{animation:i="pulse",className:s,component:o="span",height:a,style:l,variant:c="text",width:u}=r,d=Er(r,Oue),h=Oe({},r,{animation:i,component:o,variant:c,hasChildren:!!d.children}),p=Vue(h);return f.jsx(Bue,Oe({as:o,ref:n,className:Fr(p.root,s),ownerState:h},d,{style:Oe({width:u,height:a},l)}))}),$ue=Due,Fue="data:image/gif;base64,R0lGODlhiQAzAOflAAABAAYAAAACAAcAAAkBAAoDAQsEAxAFABEHABIIABMKABgJAhQLAhsLABwNACANAR0OACEOAyMPACMQACcPACgQASgRAioSACsTACwTACwUAC8WAC4WAzAWADQVADUXATYYAjgYADkZADoaADobAD8aAzscAUEbAD4dAEMdAEUeAkAgAEYfAEUfA0ghAE4hAksjAU8iAFEjAFIkAFMlAFQmAVsmAFcoAFwnAF0oAF8qAmEqAGIrAGMsAGksAWUuAGotAmAwDWwuAGsuA20vAF0zDm4wAG8xAHEyAHIzAXgyAHM0AnU1AHo0AHY2AHw1AH43AIA5AoE6AIM7AIQ8AIk7AIU9AIs8AIc+AIw9AI0+AY4+ApFAAJJBAJNCAJRDAJpCAZVEAJtDAp1EAJxEA55FAKBHAKFIAKJJAKhIAaRKAKVLAKtKAKxLAI5RI5BRJK9NALBOALFPALJQALNRALlQBLtRALxSAL1TAL9UAMFWAMJXAMRYArlbCsZZAMVZA8xYAMhaAM9aANFcAdNdAtVfAMpiDddgAN1fANhhAN9hANljAOFiAeNkAOJkA91mAONlBN5nAdhoDeVmAOdoAO5mAOJqB+9nAOlpAPBpAfFqA654SvNrAOduDvRsAPZtAN5yGONxGvduANh0IPFwB/hvAOtxE+B0Gt90I/lwAOxyFPNxCu5zBud0EvRyANt2Is54Ndp2Krt8S+B1JM95L9V4Ked0HeF2G/txAO1zFvRyDOh1E9x3I895NtV4ML19Rsp7NcN8Qbx9TMl7O8J8R9Z5Kq6AW8h7QrZ/ULh/S7V/VsV9O75+R8t8NsR9QqmCYKeCZpqFcLGBVq+BXJGHe4+HgbeAUaOEZqGEbLaAV6CEcauDXKqDYZuGcZmGd42Ih5KIfJCIgpSId4iKh4uKgv///////////////////////////////////////////////////////////////////////////////////////////////////////////yH5BAEIAP8ALAAAAACJADMAAAj+AP8JHEiwoMGDCBMqXMiwocOHECMSHEexosWLGDNq3Mixo8ePIDtKHPhtGK6TKFOqXInrGcuXMGPKnEmzpspU40YKHBdryICfQIMKFVpHFq6hSJOWSMq0qdOnUH8S8PRN579vrFwI2Mq1q9euALbAwvW1bFkAI8yqXcsWbFu1AArgyqkTHK4Ib8v+sEU279cSfgO3HSAYLFWd35RNKryVAIZUfQujZUy5stu5OsfxCkMZgABFNkOLHk065eGR13ClsBxllbdvsL8h04N0S6/YuIXVifrzyu1vsnbz9g1bt1ANqWDbwiHUd0Wd0PR4rozgUbiB43qRKdtDFV3sxbD+BNbBiiKtLoF7tKLoS3zXAqKwkXMFwquOXFWtpsYF5WsClX6UpQcuroAzUDWr5FDWBLhg89034aQiQ2ARNBgOKTf4BUAFuHgTIQ1dDQCAH8dM8wkBXjHooFWwBdOfVwmsEhs2gJTlh4P5/ROMJgicBUgsOY4zDCaCAQAIL8m40mNgg9CyDCYGfPWEK62c4RUARgJp1VUu+rcKXdgE+BUg2BTETBRmAeBCLA8Ow0SRKsQCyxaBEUCADry4+ZVni7SCAVhYxvndSN8Q82JXMeZHo4DQFBQMLpQIiMsoOX5zDC5iclVCSkZ4BQYuvADzA1cIgNEIBF4tkgaqnqWAijP+J6HJFQ246BIKLrJuRSuoOY40TpchGqALmJlyBYAeZU5kjR5lddELRdh9E6ZXJcwC2zCddgWGMt/A8skEAgyQxyqsoMrVAJioMkgBAjCACS/jfBOMIMYykAo21aQC2FYAqFHMN9BaNY6hXzEgI0WLfoVsQZaKUZYOp/QqUMJcoTALRdh6FQYy45BjChgCuJDKNbng1RUn2qSSIRarhFNVN3cZC4gwz2jiVSXTSOwrsF0JK+0woBTLFZkFjVPMEmV5UAo5Bk17rgnWCpntVgNs+8841mACQBdAmmIuV5iE40saAAzCDF3j7HKEsVjkOcfTuFy35U4Ee2UwLZj+8MH+nnpcU7QpE3pFmCfaNF1jVylcXNLUAgAABjICRRiBHMlgZTJXl4CzjR8G4NINScPg0ZUKnqhtLBjwzr0Tz1wJq0kOKJq18ESuVHCWHxwX5DS/UAuzSyqMOw75VbugYAg037Ty9VaYeIONJRsMS9I1qSy5lSa4/MmvIskMKnDdXTFQCQeNq/WH3wRF80lZIpoxjMQUb1XtJ1eA66kyO51SBCrdWO7VJeEIxy2CYItejYMUODCWHhoxHQF4oEOqW92huhICtgxgdgPhxiL25JkhXEx3QjMBJUhwlscJ5Bu0cAMt4lUusGACHChU4aBQCIdwYckJZuhKFE7hve9NsDH+hPnKB6IwB0VkAhfoo1sNzUICV8DvcFQDgQgAEESN4e8qwthE975histthRPgGEcWhWHAbVyCXZ4hAYi4Mghi6CwzrOOXVwjQg0XgwhbMeIaHBjUOWFxBLQZIxecIsrtwyZFqLwjDIDCRiuH9bXkCuIQ3FEKOVLjAMwMoQAK4UqFBRnBgP/wKDBaRClh4I2AG+cYpdPAerxBiGoOK31dUMIhUxMIa2qDGG/3XlUbIDSHfqAXIyrIE/ERQgmopgBlwUYtT9nAiuiAhV0bFFQKk4RixFFpXmJAKXvTvmSRR3rkE8EKFyCZSX7mgM8DpK/B5BQF/SAW32DmQcOBiAV3+SYP2GrcEXvRKll2hwSe8CTBzsuJyVOTELxECDlHUx26pQN4xrxZHroxrRQ25Bjq5kggfjO5LhNTmuUggCFsioxthPAhWvuaZzC1kHKegguB6UJ6JXs2dXImCK6BBz4lIg1lcKcAn1HAuBpRikgMBaIgEAANFVsITslBpF70StoUUil5ekcNtbPqrUCIgFcx4IzCdkUOuiMAVjQBLI54RUq98IC3GEhEACLCxg4zDazcz0EK0cU+waIIbPY0IKAt2GofwJAld+cEpcGE/Ec2BGN+RpQkqsRpj8YsMV2TYQUNU1ZeuApK4EKvA4ggAYQV2IqoIXOPAkApNsLJxAKD+ApuSWqwBmGAUougCBqq4WkcSJHmQrIReDbo8AmCGqzhtly5Ea1dX2I9fBmCA9QQQg1bkSJaJk0UrgGdFlW72XJ01Z8nAElqbUnSChDEtRLyRitgZq4FbqdAvCwmAEvhTaiEyYSpb2BXhMmQc/KXacRuykaIl12DMNcg2EPEWAFyCrROD4lagdi3GCSAMmf3tVMG7UGBumF/l/W9iZqEJT5g4F8dIKXYqql6HfCMZcmgwHYRBrK4Q4LYAy9i59PvIvP4Xr+cacELGEQ5epGINKDCAASywBEzkgqfYObCMHtLHP3IlCSlZG1e6QAtFSbi+UdMxVzDsXS+iq8Nl9kr+iM0Zi0yoAL4DWIAePHFKZHqlxQQeRQ+09b6SOMyGOlgPwkJ4XzGH63GovApw80pP2IgzyIk2yDikkYoVYIkAVAyiAQpxi/wM1m5T/m+8dGGCrszBGhRRRrE0QJVupULCA9iULnKBCwuHoRQFJMh+zIyJUkQ1IbtWMy4ynEpbkAFLsMVk40yAi2jYuWfSY4ilTsIAYx0iF7k4BSkyYSyh4iIWwNiz4AiwiE5AcgAEAAEPdX2HstDVtwaBRh3SOYAxwLsglXxo+cBCgEHgjyJSLqhVh7GEnxgLAhGQBCg2UO24qoAXvdjglW6Qily4Byx0sBZBoIGLUoeIAZ4gdkH+XLI3r0BAFCInCDVEARcqhuEX/4DGME4RSgN4YhjCkPYyzhgiACyBFacg6lf+wAv2ltyQ1qSFMCTulVQAdiKn8MKVgBBthMDUysYyQk0TEo6NpukKOcdGH36wAf/84Aowt2o4XLFGOQLiGMrIhHu3wiFtwNTCAqDENtjbcK6koGUMs8YgrmQGYDD3G8LQZhrepxBqrI8tYoD5NUzxXGOhKA05NydFakGnpuPLFUdv3A92ca0/kyoV4vgGKSrLLyPAyyKw6cbjZSYNj2Bj9myEZUZIkorQl6UQ+PuGKmS6JwjgYhtWPUkq3taVDaQkgTpMSbu7woGUZKgrV4hJFZ7+wH3uY6ImqaBC95/gBMisJDnYOcV21IKCZl/tF4lgnxFI0dNx4AK+VEM2b8NFgJ9Ik978dyVDkWlyhSUGCBWNU4AEiBQ4QRLWkAqs906C8EH/wF749BVrwHjmRBb7J0f41xX7AheWkRdUlCZ7UlhXMwqXEIFbgQB6oAt1dhWkoALpNAiwlHwmuBaTMYKScSUaIgBCBiGjkApmsAIIUAAVwASUoAvXUCm8gHdAiFQbWBkhyIOB0YEkaHMSQxHSgAqrkAqukAqt4AzVMEPLABOB9Q2lgQvmt4Zu+IbPBBvxghsSQ4d0GC8iZod6qIdzuId++IeAGBt9GIh22IfmdYgGiJiIEBEQADs=",zue="/assets/logo-1e2sNsQM.mp4",Uue="/assets/logo-CDt7pIML.webm",Hue="/assets/pride-CMcO3nTB.png";var CM;(CM=global.location)!=null&&CM.search.includes("pride")&&je.session.setItem("pride","true");function $w(e){const[t]=$e(pr);return t?null:f.jsxs(Gue,{children:[je.session.getItem("pride")==="true"&&f.jsx(que,{as:"img",src:Hue,alt:"AllKaraoke Pride logo part 1"}),f.jsxs(GL,{...e,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,children:[f.jsx("source",{src:Uue,type:"video/webm"}),f.jsx("source",{src:zue,type:"video/mp4"})]}),f.jsx(Wue,{src:Fue,alt:"AllKaraoke Pride logo part 2"})]})}const GL=C("video",{target:"e1roxo0y3"})({name:"ijjmcg",styles:"width:66rem;height:16.4rem"}),Gue=C("div",{target:"e1roxo0y2"})({name:"v1a7wk",styles:"position:relative;height:16.4rem;view-transition-name:logo"}),que=C(GL,{target:"e1roxo0y1"})({name:"a4hmbt",styles:"position:absolute"}),Wue=C("img",{target:"e1roxo0y0"})({name:"o53wk6",styles:"position:absolute;width:13.7rem;height:5.1rem;bottom:-0.5rem;right:-1rem"});function Fw(){return"chrome"in window}function Kue(){return f.jsx(f.Fragment,{children:!Fw()&&f.jsxs(Yue,{children:[f.jsxs("h2",{children:["This game is tested in ",f.jsx("strong",{children:"Google Chrome"})," and ",f.jsx("strong",{children:"MS Edge"}),"."]}),"It's not guaranteed to work on other browsers (like the one you use now)."]})})}const Yue=C("div",{target:"e95w1v80"})("width:100%;",De,";text-align:center;background:darkred;padding:3rem 0;margin-top:1rem;h2{margin-top:0;}strong{color:",pe.colors.text.active,";}");function qL(){return f.jsx(f.Fragment,{children:f.jsx(Que,{href:"https://github.com/Asvarox/allkaraoke","aria-label":"View source on GitHub",target:"_blank",rel:"noreferrer",children:f.jsxs("svg",{width:"80",height:"80",viewBox:"0 0 250 250",style:{fill:"#151513",color:"#fff",position:"absolute",top:0,border:0,left:0,transform:"scale(-1, 1)"},"aria-hidden":"true",children:[f.jsx("path",{d:"M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"}),f.jsx("path",{d:"M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2",fill:"currentColor",style:{transformOrigin:"13rem 10.6rem"},className:"octo-arm"}),f.jsx("path",{d:"M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z",fill:"currentColor",className:"octo-body"})]})})})}const Que=C("a",{target:"e12hl2500"})({name:"zmsk2c",styles:"&:hover .octo-arm{animation:octocat-wave 560ms ease-in-out;}@keyframes octocat-wave{0 %,100%{transform:rotate(0);}20%,60%{transform:rotate(-25deg);}40%,80%{transform:rotate(10deg);}}@media (max-width: 500px){&:hover .octo-arm{animation:none;}.octo-arm{animation:octocat-wave 560ms ease-in-out;}}view-transition-name:github-ribbon"});function Ia({children:e,supportedBrowsers:t}){return Ea(!0),f.jsxs(Bo,{children:[f.jsx(qL,{}),f.jsxs(Jue,{children:[f.jsx($w,{}),t&&f.jsx(Kue,{}),f.jsx(Ts,{children:e})]})]})}const Jue=C("div",{target:"el1pskx0"})({name:"2e2gqg",styles:"display:flex;flex-direction:column;align-items:center;width:100vw;height:100vh;overflow:auto"});var zw={},Em=function(){return Em=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Em.apply(this,arguments)},Xue=function(){function e(t,n,r){var i=this;this.endVal=n,this.options=r,this.version="2.8.0",this.defaults={startVal:0,decimalPlaces:0,duration:2,useEasing:!0,useGrouping:!0,useIndianSeparators:!1,smartEasingThreshold:999,smartEasingAmount:333,separator:",",decimal:".",prefix:"",suffix:"",enableScrollSpy:!1,scrollSpyDelay:200,scrollSpyOnce:!1},this.finalEndVal=null,this.useEasing=!0,this.countDown=!1,this.error="",this.startVal=0,this.paused=!0,this.once=!1,this.count=function(s){i.startTime||(i.startTime=s);var o=s-i.startTime;i.remaining=i.duration-o,i.useEasing?i.countDown?i.frameVal=i.startVal-i.easingFn(o,0,i.startVal-i.endVal,i.duration):i.frameVal=i.easingFn(o,i.startVal,i.endVal-i.startVal,i.duration):i.frameVal=i.startVal+(i.endVal-i.startVal)*(o/i.duration);var a=i.countDown?i.frameVal<i.endVal:i.frameVal>i.endVal;i.frameVal=a?i.endVal:i.frameVal,i.frameVal=Number(i.frameVal.toFixed(i.options.decimalPlaces)),i.printValue(i.frameVal),o<i.duration?i.rAF=requestAnimationFrame(i.count):i.finalEndVal!==null?i.update(i.finalEndVal):i.options.onCompleteCallback&&i.options.onCompleteCallback()},this.formatNumber=function(s){var o,a,l,c,u=s<0?"-":"";o=Math.abs(s).toFixed(i.options.decimalPlaces);var d=(o+="").split(".");if(a=d[0],l=d.length>1?i.options.decimal+d[1]:"",i.options.useGrouping){c="";for(var h=3,p=0,g=0,m=a.length;g<m;++g)i.options.useIndianSeparators&&g===4&&(h=2,p=1),g!==0&&p%h==0&&(c=i.options.separator+c),p++,c=a[m-g-1]+c;a=c}return i.options.numerals&&i.options.numerals.length&&(a=a.replace(/[0-9]/g,function(_){return i.options.numerals[+_]}),l=l.replace(/[0-9]/g,function(_){return i.options.numerals[+_]})),u+i.options.prefix+a+l+i.options.suffix},this.easeOutExpo=function(s,o,a,l){return a*(1-Math.pow(2,-10*s/l))*1024/1023+o},this.options=Em(Em({},this.defaults),r),this.formattingFn=this.options.formattingFn?this.options.formattingFn:this.formatNumber,this.easingFn=this.options.easingFn?this.options.easingFn:this.easeOutExpo,this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.endVal=this.validateValue(n),this.options.decimalPlaces=Math.max(this.options.decimalPlaces),this.resetDuration(),this.options.separator=String(this.options.separator),this.useEasing=this.options.useEasing,this.options.separator===""&&(this.options.useGrouping=!1),this.el=typeof t=="string"?document.getElementById(t):t,this.el?this.printValue(this.startVal):this.error="[CountUp] target is null or undefined",typeof window<"u"&&this.options.enableScrollSpy&&(this.error?console.error(this.error,t):(window.onScrollFns=window.onScrollFns||[],window.onScrollFns.push(function(){return i.handleScroll(i)}),window.onscroll=function(){window.onScrollFns.forEach(function(s){return s()})},this.handleScroll(this)))}return e.prototype.handleScroll=function(t){if(t&&window&&!t.once){var n=window.innerHeight+window.scrollY,r=t.el.getBoundingClientRect(),i=r.top+window.pageYOffset,s=r.top+r.height+window.pageYOffset;s<n&&s>window.scrollY&&t.paused?(t.paused=!1,setTimeout(function(){return t.start()},t.options.scrollSpyDelay),t.options.scrollSpyOnce&&(t.once=!0)):(window.scrollY>s||i>n)&&!t.paused&&t.reset()}},e.prototype.determineDirectionAndSmartEasing=function(){var t=this.finalEndVal?this.finalEndVal:this.endVal;this.countDown=this.startVal>t;var n=t-this.startVal;if(Math.abs(n)>this.options.smartEasingThreshold&&this.options.useEasing){this.finalEndVal=t;var r=this.countDown?1:-1;this.endVal=t+r*this.options.smartEasingAmount,this.duration=this.duration/2}else this.endVal=t,this.finalEndVal=null;this.finalEndVal!==null?this.useEasing=!1:this.useEasing=this.options.useEasing},e.prototype.start=function(t){this.error||(this.options.onStartCallback&&this.options.onStartCallback(),t&&(this.options.onCompleteCallback=t),this.duration>0?(this.determineDirectionAndSmartEasing(),this.paused=!1,this.rAF=requestAnimationFrame(this.count)):this.printValue(this.endVal))},e.prototype.pauseResume=function(){this.paused?(this.startTime=null,this.duration=this.remaining,this.startVal=this.frameVal,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count)):cancelAnimationFrame(this.rAF),this.paused=!this.paused},e.prototype.reset=function(){cancelAnimationFrame(this.rAF),this.paused=!0,this.resetDuration(),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.printValue(this.startVal)},e.prototype.update=function(t){cancelAnimationFrame(this.rAF),this.startTime=null,this.endVal=this.validateValue(t),this.endVal!==this.frameVal&&(this.startVal=this.frameVal,this.finalEndVal==null&&this.resetDuration(),this.finalEndVal=null,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count))},e.prototype.printValue=function(t){var n;if(this.el){var r=this.formattingFn(t);!((n=this.options.plugin)===null||n===void 0)&&n.render?this.options.plugin.render(this.el,r):this.el.tagName==="INPUT"?this.el.value=r:this.el.tagName==="text"||this.el.tagName==="tspan"?this.el.textContent=r:this.el.innerHTML=r}},e.prototype.ensureNumber=function(t){return typeof t=="number"&&!isNaN(t)},e.prototype.validateValue=function(t){var n=Number(t);return this.ensureNumber(n)?n:(this.error="[CountUp] invalid start or end value: ".concat(t),null)},e.prototype.resetDuration=function(){this.startTime=null,this.duration=1e3*Number(this.options.duration),this.remaining=this.duration},e}();const Zue=Object.freeze(Object.defineProperty({__proto__:null,CountUp:Xue},Symbol.toStringTag,{value:"Module"})),ede=no(Zue);Object.defineProperty(zw,"__esModule",{value:!0});var Jn=A,tde=ede;function nde(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function fR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function km(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fR(Object(n),!0).forEach(function(r){rde(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rde(e,t,n){return t=ude(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function H_(){return H_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},H_.apply(this,arguments)}function ide(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function WL(e,t){if(e==null)return{};var n=ide(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function sde(e,t){return ode(e)||nde(e,t)||ade(e,t)||lde()}function ode(e){if(Array.isArray(e))return e}function ade(e,t){if(e){if(typeof e=="string")return hR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hR(e,t)}}function hR(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function lde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cde(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ude(e){var t=cde(e,"string");return typeof t=="symbol"?t:String(t)}var dde=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?Jn.useLayoutEffect:Jn.useEffect;function os(e){var t=Jn.useRef(e);return dde(function(){t.current=e}),Jn.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current.apply(void 0,r)},[])}var fde=function(t,n){var r=n.decimal,i=n.decimals,s=n.duration,o=n.easingFn,a=n.end,l=n.formattingFn,c=n.numerals,u=n.prefix,d=n.separator,h=n.start,p=n.suffix,g=n.useEasing,m=n.useGrouping,_=n.useIndianSeparators,v=n.enableScrollSpy,y=n.scrollSpyDelay,S=n.scrollSpyOnce,x=n.plugin;return new tde.CountUp(t,a,{startVal:h,duration:s,decimal:r,decimalPlaces:i,easingFn:o,formattingFn:l,numerals:c,separator:d,prefix:u,suffix:p,plugin:x,useEasing:g,useIndianSeparators:_,useGrouping:m,enableScrollSpy:v,scrollSpyDelay:y,scrollSpyOnce:S})},hde=["ref","startOnMount","enableReinitialize","delay","onEnd","onStart","onPauseResume","onReset","onUpdate"],pde={decimal:".",separator:",",delay:null,prefix:"",suffix:"",duration:2,start:0,decimals:0,startOnMount:!0,enableReinitialize:!0,useEasing:!0,useGrouping:!0,useIndianSeparators:!1},KL=function(t){var n=Object.fromEntries(Object.entries(t).filter(function($){var N=sde($,2),B=N[1];return B!==void 0})),r=Jn.useMemo(function(){return km(km({},pde),n)},[t]),i=r.ref,s=r.startOnMount,o=r.enableReinitialize,a=r.delay,l=r.onEnd,c=r.onStart,u=r.onPauseResume,d=r.onReset,h=r.onUpdate,p=WL(r,hde),g=Jn.useRef(),m=Jn.useRef(),_=Jn.useRef(!1),v=os(function(){return fde(typeof i=="string"?i:i.current,p)}),y=os(function($){var N=g.current;if(N&&!$)return N;var B=v();return g.current=B,B}),S=os(function(){var $=function(){return y(!0).start(function(){l==null||l({pauseResume:x,reset:b,start:E,update:w})})};a&&a>0?m.current=setTimeout($,a*1e3):$(),c==null||c({pauseResume:x,reset:b,update:w})}),x=os(function(){y().pauseResume(),u==null||u({reset:b,start:E,update:w})}),b=os(function(){y().el&&(m.current&&clearTimeout(m.current),y().reset(),d==null||d({pauseResume:x,start:E,update:w}))}),w=os(function($){y().update($),h==null||h({pauseResume:x,reset:b,start:E})}),E=os(function(){b(),S()}),T=os(function($){s&&($&&b(),S())});return Jn.useEffect(function(){_.current?o&&T(!0):(_.current=!0,T())},[o,_,T,a,t.start,t.suffix,t.prefix,t.duration,t.separator,t.decimals,t.decimal,t.formattingFn]),Jn.useEffect(function(){return function(){b()}},[b]),{start:E,pauseResume:x,reset:b,update:w,getCountUp:y}},gde=["className","redraw","containerProps","children","style"],mde=function(t){var n=t.className,r=t.redraw,i=t.containerProps,s=t.children,o=t.style,a=WL(t,gde),l=Jn.useRef(null),c=Jn.useRef(!1),u=KL(km(km({},a),{},{ref:l,startOnMount:typeof s!="function"||t.delay===0,enableReinitialize:!1})),d=u.start,h=u.reset,p=u.update,g=u.pauseResume,m=u.getCountUp,_=os(function(){d()}),v=os(function(x){t.preserveValue||h(),p(x)}),y=os(function(){if(typeof t.children=="function"&&!(l.current instanceof Element)){console.error(`Couldn't find attached element to hook the CountUp instance into! Try to attach "containerRef" from the render prop to a an Element, eg. <span ref={containerRef} />.`);return}m()});Jn.useEffect(function(){y()},[y]),Jn.useEffect(function(){c.current&&v(t.end)},[t.end,v]);var S=r&&t;return Jn.useEffect(function(){r&&c.current&&_()},[_,r,S]),Jn.useEffect(function(){!r&&c.current&&_()},[_,r,t.start,t.suffix,t.prefix,t.duration,t.separator,t.decimals,t.decimal,t.className,t.formattingFn]),Jn.useEffect(function(){c.current=!0},[]),typeof s=="function"?s({countUpRef:l,start:d,reset:h,update:p,pauseResume:g,getCountUp:m}):Jn.createElement("span",H_({className:n,ref:l,style:o},i),typeof t.start<"u"?m().formattingFn(t.start):"")},Uw=zw.default=mde;zw.useCountUp=KL;const YL=e=>A.useMemo(()=>{const t={};e.forEach(r=>{if(!r.language)return;(Array.isArray(r.language)?r.language:[r.language]).forEach(s=>{const o=s.toLowerCase();t[o]||(t[o]={name:s,count:0}),t[o].count=t[o].count+1})});const n=Object.values(t);return n.sort((r,i)=>i.count-r.count),n},[e]),vde=Xs()?0:10;function QL({onClose:e,closeText:t}){const{register:n}=zn({onBackspace:e}),[r,i]=$e(Bm),{data:s,isLoading:o}=xh(),a=YL(s),l=A.useMemo(()=>a.filter(({name:p,count:g})=>FL(p)&&g>=vde),[a]),c=A.useMemo(()=>a.filter(({name:p})=>!l.find(g=>g.name===p)).reduce((p,{count:g})=>p+g,0),[a,l]),u=l.filter(({name:p})=>!(r!=null&&r.includes(p))).reduce((p,{count:g})=>p+g,0),d=p=>{r===null?i([p]):r.includes(p)?i(r.filter(g=>g!==p)):i([...r,p])};A.useEffect(()=>{if(r===null&&(navigator!=null&&navigator.languages)){let p=new Intl.DisplayNames(["en"],{type:"language"});const g=navigator==null?void 0:navigator.languages.map(_=>{var v;return(v=p.of(_))==null?void 0:v.toLowerCase()}).filter(Boolean),m=l.map(_=>_.name).filter(_=>!g.some(v=>v.includes(_.toLowerCase()))).filter(_=>_!=="English");m.length&&i(m)}},[r,l]);const h=A.useMemo(()=>l.every(p=>r==null?void 0:r.includes(p.name)),[r,l]);return A.useEffect(()=>{r!=null&&r.find(p=>!l.find(g=>g.name===p))&&i(r.filter(p=>l.find(g=>g.name===p)))},[l,r,i]),f.jsxs(Ia,{children:[f.jsx("h1",{children:"Select Song Languages"}),f.jsxs(_de,{children:[o&&new Array(6).fill(0).map((p,g)=>f.jsx($ue,{variant:"rectangular",width:"100%",height:"10rem",children:f.jsx(pR,{"data-excluded":!0,focused:!1,children:f.jsx($c,{language:["English"]})})},g)),l.map(({name:p,count:g})=>{const m=(r==null?void 0:r.includes(p))??!1;return f.jsxs(pR,{"data-excluded":m,...n(`lang-${p}`,()=>d(p)),children:[f.jsx(Ade,{children:m?f.jsx(Kd,{}):f.jsx(Wd,{})}),f.jsxs("span",{children:[f.jsx(bde,{children:p})," (",g," songs)"]}),f.jsx(Sde,{"data-excluded":m,children:f.jsx($c,{language:[p]})})]},p)}),c>0&&f.jsxs(Zy,{children:["…and ",f.jsxs("strong",{children:[c," songs"]})," in other languages"]})]}),f.jsxs("h3",{children:["You can always update the selection in ",f.jsx("strong",{children:"Manage Songs"})," menu"]}),f.jsxs(yde,{children:[f.jsx(Re,{...n("close-exclude-languages",e,void 0,!0,{disabled:h||o}),children:t}),f.jsxs(Zy,{children:["The list will contain"," ",f.jsx("strong",{children:f.jsx(Uw,{duration:1,preserveValue:!0,end:u+c})})," ","songs"]}),h&&f.jsxs(Zy,{"data-test":"all-languages-excluded-warning",children:[f.jsx("strong",{children:f.jsx(Fl,{})})," ","You excluded all the languages, pick at least one"]})]})]})}const yde=C("div",{target:"e17pzmm6"})({name:"4zk4ri",styles:"display:flex;flex-direction:column;gap:1rem"}),Zy=C("h4",{target:"e17pzmm5"})({name:"2qga7i",styles:"text-align:right"}),Ade=C("div",{target:"e17pzmm4"})({name:"18gxnlc",styles:"svg{width:3rem;height:3rem;}"}),_de=C("div",{target:"e17pzmm3"})({name:"fvqkyn",styles:"margin-top:2rem;display:flex;flex-direction:column;gap:1rem"}),bde=C("span",{target:"e17pzmm2"})({name:"1jwmbuq",styles:"transition:300ms"}),Sde=C("div",{target:"e17pzmm1"})({name:"5606u9",styles:"transition:300ms;opacity:0.95;&[data-excluded='true']{filter:grayscale(0.6);opacity:0.5;}position:absolute;bottom:0;right:0;img{width:14rem;height:8rem;object-fit:cover;}overflow:hidden;width:14rem;height:8rem"}),pR=C(Re,{target:"e17pzmm0"})("&[data-excluded='true']{text-decoration:line-through white;opacity:0.5;&[data-focused='false']{background:rgba(0, 0, 0, 0.55);}}",De,";display:flex;align-items:center;justify-content:flex-start;gap:2rem;font-size:2.5rem;padding-left:3rem;margin:0;height:8rem;position:relative;width:100%;"),xde=(e,t,n)=>{const r=YL(e);return A.useMemo(()=>n?[]:[{name:"Selection",Wrapper:({children:a,active:l,focused:c})=>f.jsx(Rse,{...l&&c?{open:!0}:{},oneTime:!1,timeoutMs:15e3,dismissKey:"selection-playlist",place:"right",title:f.jsxs(f.Fragment,{children:["A combination of songs you might like and popular with other players.",f.jsx("br",{}),f.jsx("br",{})," ",f.jsx("strong",{children:"Search"})," is performed across all the songs."]}),children:a}),display:f.jsxs("span",{children:[f.jsx("strong",{children:"★"})," Selection ",f.jsx("strong",{children:"★"})]}),filters:{specificSongs:t}},{name:"All",filters:{}},r[0]?{name:r[0].name,filters:{language:r[0].name}}:null,r[1]?{name:r[1].name,filters:{language:r[1].name}}:null,{name:"Oldies",filters:{yearBefore:1995}},{name:"Modern",filters:{yearAfter:1995}},{name:"Duets",filters:{duet:!0}},{name:"New",filters:{recentlyUpdated:!0}}].filter(a=>a!==null),[r,n,t])},gR=e=>yl((e==null?void 0:e.search)??"").length>2,mR={},wde=/[^0-9a-z ]/gi,eA=e=>gS(e).toLowerCase().replace(wde,"");function JL(e,t){const n=yl(t);if(n.length>0){const r=new hv({}),[,i,s]=r.search(e.map(o=>`${eA(o.artist)} ${eA(o.title)}`),eA(t));return s&&i?s.map(o=>e[i.idx[o]]):e.filter(o=>o.search.includes(n))}return e}const Cm={language:(e,t)=>t===""?e:e.filter(n=>n.language.includes(t)),excludeLanguages:(e,t=[],n)=>t.length===0||gR(n)||n.edition==="esc"?e:e.filter(r=>!r.language.every(i=>t.includes(i))),search:(e,t)=>JL(e,t),duet:(e,t)=>t===null?e:e.filter(n=>t?n.tracksCount>1:n.tracksCount===1),yearBefore:(e,t)=>t?e.filter(n=>Number(n.year)<t):e,yearAfter:(e,t)=>t?e.filter(n=>Number(n.year)>=t):e,edition:(e,t)=>yl(t).length?e.filter(r=>yl(r.edition??"").includes(t)):e,recentlyUpdated:e=>{const t=gs().subtract(31,"days");return e.filter(n=>n.lastUpdate&&gs(n.lastUpdate).isAfter(t))},specificSongs:(e,t,n)=>gR(n)?e:e.filter(r=>t.includes(r.id))},vR=(e,t)=>Object.entries(t).filter(n=>n[0]in Cm).reduce((n,[r,i])=>Cm[r](n,i,t,e),e),Ede=(e,t,n)=>{var p;const[r]=$e(Bm),i=A.useMemo(()=>vR(e,{excludeLanguages:r??[]}),[e,r]),s=xde(i,t,n),[o,a]=A.useState(new URLSearchParams((p=global.location)==null?void 0:p.search).get("playlist")??null),l=s.find(g=>g.name===o)??s[0],[c,u]=A.useState(mR);A.useEffect(()=>{u(mR)},[o]);const d=A.useDeferredValue(c),h=A.useMemo(()=>vR(e,{...(l==null?void 0:l.filters)??{},...d,excludeLanguages:r??[]}),[e,d,r,l]);return{filters:c,filteredList:h,setFilters:u,selectedPlaylist:o,setSelectedPlaylist:a,playlists:s,playlist:l}};function kde({roomId:e,monitoringStarted:t,setMonitoringStarted:n,isKeepAwakeOn:r,setIsKeepAwakeOn:i,connectionError:s,connectionStatus:o}){const a=xh(),[l,c]=A.useState();A.useEffect(()=>{o==="connected"&&l===void 0&&wn.getSongList().then(c).catch(console.warn)},[l,o]);const[u,d]=A.useState(""),h=A.useMemo(()=>oue(a.data.map(m=>({...m,id:Zs.generateSongFile(m)})).filter(m=>!((l==null?void 0:l.deleted)??[]).includes(m.id)).map(m=>({id:m.id,artist:m.artist,title:m.title,video:m.video,language:m.language,search:m.search})).concat(...((l==null?void 0:l.custom)??[]).map(m=>({...m,id:Zs.generateSongFile(m)}))),m=>m.id),[a.data,l]),p=A.useMemo(()=>JL(h,u),[u,h]),g=zL();return f.jsxs(Tde,{children:[f.jsx(Cde,{children:f.jsx(zl,{focused:!1,label:f.jsx(dv,{}),placeholder:"Search for a song…",value:u,onChange:m=>d(m),"data-test":"search-input"})}),f.jsx(UL,{forceRenderItem:-1,overScan:100,components:{},context:{},groupSizes:[p.length],groupHeaderHeight:1,groupContent:()=>null,itemHeight:g*7+1,itemContent:(m,_,v)=>{const y=p[m];return f.jsxs(Ide,{"data-test":y.id,...v,children:[f.jsx(Rde,{children:f.jsx($c,{language:y.language})}),f.jsxs(Mde,{children:[f.jsx(jde,{children:y.title}),f.jsx(Pde,{children:y.artist})]})]})}})]})}const Cde=C("div",{target:"emsrjbt6"})(De,";font-size:2.5rem;display:flex;position:fixed;top:0;padding-top:0.5rem;"),Tde=C("div",{target:"emsrjbt5"})({name:"2sljkd",styles:"display:flex;flex-direction:column;padding-bottom:5rem;padding-top:6rem;position:relative;flex:1 1 auto;min-height:100vh;max-height:100vh"}),Ide=C("div",{target:"emsrjbt4"})({name:"qcmjrb",styles:"background:rgba(0, 0, 0, 0.25);display:flex;align-items:center;height:7rem;padding:0 1rem;gap:1rem;border-bottom:1px solid black;overflow:hidden"}),Rde=C("div",{target:"emsrjbt3"})({name:"1xmi6sr",styles:"img{height:3rem;width:3rem;object-fit:cover;border-radius:3rem;border:0.1rem black solid;aspect-ratio:1;}"}),Mde=C("div",{target:"emsrjbt2"})({name:"tpuoeb",styles:"display:flex;flex-direction:column;justify-content:space-between;gap:1rem"}),Pde=C("span",{target:"emsrjbt1"})("color:",pe.colors.text.default,";font-size:1.25rem;white-space:nowrap;"),jde=C("span",{target:"emsrjbt0"})("color:",pe.colors.text.active,";font-size:1.5rem;white-space:nowrap;"),_p=new iX;function Ode(){const e=S0("room"),[t]=eo(ee.remoteStyleChanged,!0)??["regular"];A.useLayoutEffect(()=>{VP(t)},[t]),Ea(!0,t);const[n,r]=A.useState("microphone"),[i,s]=eo(ee.karaokeConnectionStatusChange)??["uninitialised"],[o,a]=A.useState(!1);Vr(ee.micMonitoringStarted,()=>a(!0)),Vr(ee.micMonitoringStopped,()=>a(!1));const[l,c]=A.useState(!1),u=async h=>{try{h&&!_p.isEnabled?await _p.enable():!h&&_p.isEnabled&&await _p.disable(),c(h)}catch(p){console.warn("Couldn't set wakelock",p)}},d=()=>{u(!0)};return f.jsxs(Bo,{children:[f.jsx(Gle,{onConfirm:d}),f.jsx(gX,{size:10}),f.jsx(Lde,{id:"phone-ui-container",children:f.jsxs(f.Fragment,{children:[n==="microphone"&&f.jsx(zle,{roomId:e,monitoringStarted:o,setMonitoringStarted:a,connectionStatus:i,setIsKeepAwakeOn:c,isKeepAwakeOn:l,connectionError:s}),n==="song-list"&&f.jsx(kde,{roomId:e,monitoringStarted:o,setMonitoringStarted:a,connectionStatus:i,setIsKeepAwakeOn:c,isKeepAwakeOn:l,connectionError:s}),n==="settings"&&f.jsx(rce,{}),f.jsx(Vde,{}),f.jsx(eae,{setActiveTab:r,active:n})]})})]})}const Vde=C("div",{target:"e1ky75ep1"})({name:"4x3vzu",styles:"height:6rem;@media (max-height: 500px) and (min-aspect-ratio: 16/10){height:0;}"}),Lde=C("div",{target:"e1ky75ep0"})({name:"1vonyqj",styles:"margin:0 auto;width:100%;max-width:400px;box-sizing:border-box;min-height:100vh;background:rgba(0, 0, 0, 0.5);@media (max-height: 500px) and (min-aspect-ratio: 16/10){max-width:960px;}"});function Ra(e){const[t]=$e(Dm),[n]=$e(Bb),r=t==="christmas"?Zj:n==="Classic"?Xj:Jj;A.useEffect(()=>{e?r.playing()||r.play(!1):r.stop()},[e])}function Nde(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var XL=A,Bde=Nde(XL);function yR(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dde(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var $de=!!(typeof window<"u"&&window.document&&window.document.createElement);function Fde(e,t,n){if(typeof e!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof t!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof n<"u"&&typeof n!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function r(i){return i.displayName||i.name||"Component"}return function(s){if(typeof s!="function")throw new Error("Expected WrappedComponent to be a React component.");var o=[],a;function l(){a=e(o.map(function(u){return u.props})),c.canUseDOM?t(a):n&&(a=n(a))}var c=function(u){Dde(d,u);function d(){return u.apply(this,arguments)||this}d.peek=function(){return a},d.rewind=function(){if(d.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var g=a;return a=void 0,o=[],g};var h=d.prototype;return h.UNSAFE_componentWillMount=function(){o.push(this),l()},h.componentDidUpdate=function(){l()},h.componentWillUnmount=function(){var g=o.indexOf(this);o.splice(g,1),l()},h.render=function(){return Bde.createElement(s,this.props)},d}(XL.PureComponent);return yR(c,"displayName","SideEffect("+r(s)+")"),yR(c,"canUseDOM",$de),c}}var zde=Fde;const Ude=hr(zde);var Hde=typeof Element<"u",Gde=typeof Map=="function",qde=typeof Set=="function",Wde=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function ug(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,i;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!ug(e[r],t[r]))return!1;return!0}var s;if(Gde&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(s=e.entries();!(r=s.next()).done;)if(!t.has(r.value[0]))return!1;for(s=e.entries();!(r=s.next()).done;)if(!ug(r.value[1],t.get(r.value[0])))return!1;return!0}if(qde&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(s=e.entries();!(r=s.next()).done;)if(!t.has(r.value[0]))return!1;return!0}if(Wde&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;if(Hde&&e instanceof Element)return!1;for(r=n;r--!==0;)if(!((i[r]==="_owner"||i[r]==="__v"||i[r]==="__o")&&e.$$typeof)&&!ug(e[i[r]],t[i[r]]))return!1;return!0}return e!==e&&t!==t}var Kde=function(t,n){try{return ug(t,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const Yde=hr(Kde);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var AR=Object.getOwnPropertySymbols,Qde=Object.prototype.hasOwnProperty,Jde=Object.prototype.propertyIsEnumerable;function Xde(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function Zde(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(s){return t[s]});if(r.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(s){i[s]=s}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var efe=Zde()?Object.assign:function(e,t){for(var n,r=Xde(e),i,s=1;s<arguments.length;s++){n=Object(arguments[s]);for(var o in n)Qde.call(n,o)&&(r[o]=n[o]);if(AR){i=AR(n);for(var a=0;a<i.length;a++)Jde.call(n,i[a])&&(r[i[a]]=n[i[a]])}}return r};const tfe=hr(efe);var dl={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},qe={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(qe).map(function(e){return qe[e]});var Jt={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},Tm={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},Uf={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},nfe=Object.keys(Tm).reduce(function(e,t){return e[Tm[t]]=t,e},{}),rfe=[qe.NOSCRIPT,qe.SCRIPT,qe.STYLE],ms="data-react-helmet",ife=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sfe=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},ofe=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),$r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},afe=function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},_R=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},lfe=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e},G_=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},cfe=function(t){var n=Fc(t,qe.TITLE),r=Fc(t,Uf.TITLE_TEMPLATE);if(r&&n)return r.replace(/%s/g,function(){return Array.isArray(n)?n.join(""):n});var i=Fc(t,Uf.DEFAULT_TITLE);return n||i||void 0},ufe=function(t){return Fc(t,Uf.ON_CHANGE_CLIENT_STATE)||function(){}},tA=function(t,n){return n.filter(function(r){return typeof r[t]<"u"}).map(function(r){return r[t]}).reduce(function(r,i){return $r({},r,i)},{})},dfe=function(t,n){return n.filter(function(r){return typeof r[qe.BASE]<"u"}).map(function(r){return r[qe.BASE]}).reverse().reduce(function(r,i){if(!r.length)for(var s=Object.keys(i),o=0;o<s.length;o++){var a=s[o],l=a.toLowerCase();if(t.indexOf(l)!==-1&&i[l])return r.concat(i)}return r},[])},id=function(t,n,r){var i={};return r.filter(function(s){return Array.isArray(s[t])?!0:(typeof s[t]<"u"&&gfe("Helmet: "+t+' should be of type "Array". Instead found type "'+ife(s[t])+'"'),!1)}).map(function(s){return s[t]}).reverse().reduce(function(s,o){var a={};o.filter(function(h){for(var p=void 0,g=Object.keys(h),m=0;m<g.length;m++){var _=g[m],v=_.toLowerCase();n.indexOf(v)!==-1&&!(p===Jt.REL&&h[p].toLowerCase()==="canonical")&&!(v===Jt.REL&&h[v].toLowerCase()==="stylesheet")&&(p=v),n.indexOf(_)!==-1&&(_===Jt.INNER_HTML||_===Jt.CSS_TEXT||_===Jt.ITEM_PROP)&&(p=_)}if(!p||!h[p])return!1;var y=h[p].toLowerCase();return i[p]||(i[p]={}),a[p]||(a[p]={}),i[p][y]?!1:(a[p][y]=!0,!0)}).reverse().forEach(function(h){return s.push(h)});for(var l=Object.keys(a),c=0;c<l.length;c++){var u=l[c],d=tfe({},i[u],a[u]);i[u]=d}return s},[]).reverse()},Fc=function(t,n){for(var r=t.length-1;r>=0;r--){var i=t[r];if(i.hasOwnProperty(n))return i[n]}return null},ffe=function(t){return{baseTag:dfe([Jt.HREF,Jt.TARGET],t),bodyAttributes:tA(dl.BODY,t),defer:Fc(t,Uf.DEFER),encode:Fc(t,Uf.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:tA(dl.HTML,t),linkTags:id(qe.LINK,[Jt.REL,Jt.HREF],t),metaTags:id(qe.META,[Jt.NAME,Jt.CHARSET,Jt.HTTPEQUIV,Jt.PROPERTY,Jt.ITEM_PROP],t),noscriptTags:id(qe.NOSCRIPT,[Jt.INNER_HTML],t),onChangeClientState:ufe(t),scriptTags:id(qe.SCRIPT,[Jt.SRC,Jt.INNER_HTML],t),styleTags:id(qe.STYLE,[Jt.CSS_TEXT],t),title:cfe(t),titleAttributes:tA(dl.TITLE,t)}},q_=function(){var e=Date.now();return function(t){var n=Date.now();n-e>16?(e=n,t(n)):setTimeout(function(){q_(t)},0)}}(),bR=function(t){return clearTimeout(t)},hfe=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||q_:global.requestAnimationFrame||q_,pfe=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||bR:global.cancelAnimationFrame||bR,gfe=function(t){return console&&typeof console.warn=="function"&&console.warn(t)},sd=null,mfe=function(t){sd&&pfe(sd),t.defer?sd=hfe(function(){SR(t,function(){sd=null})}):(SR(t),sd=null)},SR=function(t,n){var r=t.baseTag,i=t.bodyAttributes,s=t.htmlAttributes,o=t.linkTags,a=t.metaTags,l=t.noscriptTags,c=t.onChangeClientState,u=t.scriptTags,d=t.styleTags,h=t.title,p=t.titleAttributes;W_(qe.BODY,i),W_(qe.HTML,s),vfe(h,p);var g={baseTag:Zl(qe.BASE,r),linkTags:Zl(qe.LINK,o),metaTags:Zl(qe.META,a),noscriptTags:Zl(qe.NOSCRIPT,l),scriptTags:Zl(qe.SCRIPT,u),styleTags:Zl(qe.STYLE,d)},m={},_={};Object.keys(g).forEach(function(v){var y=g[v],S=y.newTags,x=y.oldTags;S.length&&(m[v]=S),x.length&&(_[v]=g[v].oldTags)}),n&&n(),c(t,m,_)},ZL=function(t){return Array.isArray(t)?t.join(""):t},vfe=function(t,n){typeof t<"u"&&document.title!==t&&(document.title=ZL(t)),W_(qe.TITLE,n)},W_=function(t,n){var r=document.getElementsByTagName(t)[0];if(r){for(var i=r.getAttribute(ms),s=i?i.split(","):[],o=[].concat(s),a=Object.keys(n),l=0;l<a.length;l++){var c=a[l],u=n[c]||"";r.getAttribute(c)!==u&&r.setAttribute(c,u),s.indexOf(c)===-1&&s.push(c);var d=o.indexOf(c);d!==-1&&o.splice(d,1)}for(var h=o.length-1;h>=0;h--)r.removeAttribute(o[h]);s.length===o.length?r.removeAttribute(ms):r.getAttribute(ms)!==a.join(",")&&r.setAttribute(ms,a.join(","))}},Zl=function(t,n){var r=document.head||document.querySelector(qe.HEAD),i=r.querySelectorAll(t+"["+ms+"]"),s=Array.prototype.slice.call(i),o=[],a=void 0;return n&&n.length&&n.forEach(function(l){var c=document.createElement(t);for(var u in l)if(l.hasOwnProperty(u))if(u===Jt.INNER_HTML)c.innerHTML=l.innerHTML;else if(u===Jt.CSS_TEXT)c.styleSheet?c.styleSheet.cssText=l.cssText:c.appendChild(document.createTextNode(l.cssText));else{var d=typeof l[u]>"u"?"":l[u];c.setAttribute(u,d)}c.setAttribute(ms,"true"),s.some(function(h,p){return a=p,c.isEqualNode(h)})?s.splice(a,1):o.push(c)}),s.forEach(function(l){return l.parentNode.removeChild(l)}),o.forEach(function(l){return r.appendChild(l)}),{oldTags:s,newTags:o}},eN=function(t){return Object.keys(t).reduce(function(n,r){var i=typeof t[r]<"u"?r+'="'+t[r]+'"':""+r;return n?n+" "+i:i},"")},yfe=function(t,n,r,i){var s=eN(r),o=ZL(n);return s?"<"+t+" "+ms+'="true" '+s+">"+G_(o,i)+"</"+t+">":"<"+t+" "+ms+'="true">'+G_(o,i)+"</"+t+">"},Afe=function(t,n,r){return n.reduce(function(i,s){var o=Object.keys(s).filter(function(c){return!(c===Jt.INNER_HTML||c===Jt.CSS_TEXT)}).reduce(function(c,u){var d=typeof s[u]>"u"?u:u+'="'+G_(s[u],r)+'"';return c?c+" "+d:d},""),a=s.innerHTML||s.cssText||"",l=rfe.indexOf(t)===-1;return i+"<"+t+" "+ms+'="true" '+o+(l?"/>":">"+a+"</"+t+">")},"")},tN=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(r,i){return r[Tm[i]||i]=t[i],r},n)},_fe=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(r,i){return r[nfe[i]||i]=t[i],r},n)},bfe=function(t,n,r){var i,s=(i={key:n},i[ms]=!0,i),o=tN(r,s);return[Te.createElement(qe.TITLE,o,n)]},Sfe=function(t,n){return n.map(function(r,i){var s,o=(s={key:i},s[ms]=!0,s);return Object.keys(r).forEach(function(a){var l=Tm[a]||a;if(l===Jt.INNER_HTML||l===Jt.CSS_TEXT){var c=r.innerHTML||r.cssText;o.dangerouslySetInnerHTML={__html:c}}else o[l]=r[a]}),Te.createElement(t,o)})},so=function(t,n,r){switch(t){case qe.TITLE:return{toComponent:function(){return bfe(t,n.title,n.titleAttributes)},toString:function(){return yfe(t,n.title,n.titleAttributes,r)}};case dl.BODY:case dl.HTML:return{toComponent:function(){return tN(n)},toString:function(){return eN(n)}};default:return{toComponent:function(){return Sfe(t,n)},toString:function(){return Afe(t,n,r)}}}},nN=function(t){var n=t.baseTag,r=t.bodyAttributes,i=t.encode,s=t.htmlAttributes,o=t.linkTags,a=t.metaTags,l=t.noscriptTags,c=t.scriptTags,u=t.styleTags,d=t.title,h=d===void 0?"":d,p=t.titleAttributes;return{base:so(qe.BASE,n,i),bodyAttributes:so(dl.BODY,r,i),htmlAttributes:so(dl.HTML,s,i),link:so(qe.LINK,o,i),meta:so(qe.META,a,i),noscript:so(qe.NOSCRIPT,l,i),script:so(qe.SCRIPT,c,i),style:so(qe.STYLE,u,i),title:so(qe.TITLE,{title:h,titleAttributes:p},i)}},xfe=function(t){var n,r;return r=n=function(i){afe(s,i);function s(){return sfe(this,s),lfe(this,i.apply(this,arguments))}return s.prototype.shouldComponentUpdate=function(a){return!Yde(this.props,a)},s.prototype.mapNestedChildrenToProps=function(a,l){if(!l)return null;switch(a.type){case qe.SCRIPT:case qe.NOSCRIPT:return{innerHTML:l};case qe.STYLE:return{cssText:l}}throw new Error("<"+a.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},s.prototype.flattenArrayTypeChildren=function(a){var l,c=a.child,u=a.arrayTypeChildren,d=a.newChildProps,h=a.nestedChildren;return $r({},u,(l={},l[c.type]=[].concat(u[c.type]||[],[$r({},d,this.mapNestedChildrenToProps(c,h))]),l))},s.prototype.mapObjectTypeChildren=function(a){var l,c,u=a.child,d=a.newProps,h=a.newChildProps,p=a.nestedChildren;switch(u.type){case qe.TITLE:return $r({},d,(l={},l[u.type]=p,l.titleAttributes=$r({},h),l));case qe.BODY:return $r({},d,{bodyAttributes:$r({},h)});case qe.HTML:return $r({},d,{htmlAttributes:$r({},h)})}return $r({},d,(c={},c[u.type]=$r({},h),c))},s.prototype.mapArrayTypeChildrenToProps=function(a,l){var c=$r({},l);return Object.keys(a).forEach(function(u){var d;c=$r({},c,(d={},d[u]=a[u],d))}),c},s.prototype.warnOnInvalidChildren=function(a,l){return!0},s.prototype.mapChildrenToProps=function(a,l){var c=this,u={};return Te.Children.forEach(a,function(d){if(!(!d||!d.props)){var h=d.props,p=h.children,g=_R(h,["children"]),m=_fe(g);switch(c.warnOnInvalidChildren(d,p),d.type){case qe.LINK:case qe.META:case qe.NOSCRIPT:case qe.SCRIPT:case qe.STYLE:u=c.flattenArrayTypeChildren({child:d,arrayTypeChildren:u,newChildProps:m,nestedChildren:p});break;default:l=c.mapObjectTypeChildren({child:d,newProps:l,newChildProps:m,nestedChildren:p});break}}}),l=this.mapArrayTypeChildrenToProps(u,l),l},s.prototype.render=function(){var a=this.props,l=a.children,c=_R(a,["children"]),u=$r({},c);return l&&(u=this.mapChildrenToProps(l,u)),Te.createElement(t,u)},ofe(s,null,[{key:"canUseDOM",set:function(a){t.canUseDOM=a}}]),s}(Te.Component),n.propTypes={base:Qe.object,bodyAttributes:Qe.object,children:Qe.oneOfType([Qe.arrayOf(Qe.node),Qe.node]),defaultTitle:Qe.string,defer:Qe.bool,encodeSpecialCharacters:Qe.bool,htmlAttributes:Qe.object,link:Qe.arrayOf(Qe.object),meta:Qe.arrayOf(Qe.object),noscript:Qe.arrayOf(Qe.object),onChangeClientState:Qe.func,script:Qe.arrayOf(Qe.object),style:Qe.arrayOf(Qe.object),title:Qe.string,titleAttributes:Qe.object,titleTemplate:Qe.string},n.defaultProps={defer:!0,encodeSpecialCharacters:!0},n.peek=t.peek,n.rewind=function(){var i=t.rewind();return i||(i=nN({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),i},r},wfe=function(){return null},Efe=Ude(ffe,mfe,nN)(wfe),yi=xfe(Efe);yi.renderStatic=yi.rewind;const rN=A.forwardRef(({...e},t)=>{const n=A.useRef(null);A.useImperativeHandle(t,()=>n.current);const[r,i]=$e(Td);return f.jsx(kfe,{ref:n,label:"Input lag",value:String(r),onChange:s=>i(+s),type:"number",step:50,min:-2e3,max:2e3,adornment:"ms",onKeyDown:s=>{var o;s.code==="Enter"&&((o=n.current)==null||o.blur())},info:"If the sound is not synchronised with the lyrics, use this to compensate it.",...e})}),kfe=C(zl,{target:"e1vs2glp0"})({name:"q54eim",styles:"input{text-align:right;}"});function Cfe(e){Ra(!1);const t=Xr(),n=()=>t("menu/"),{register:r}=zn({onBackspace:n}),[i,s]=$e(Di),[o,a]=$e(tl),[l,c]=$e(pr),[u,d]=$e(Bb),h=A.useRef(null),[p,g]=A.useState(fs.getPermissionStatus());A.useEffect(()=>fs.addListener(S=>{g(S)}),[]);const[m,_]=A.useState(!1),v=()=>{_(!0),fs.requestPermissions().then(()=>_(!1))};let y="Disabled";return m?y=f.jsx(Sh,{size:"0.9em"}):p===null?y="Click to enable":p&&(y="Enabled"),f.jsxs(Ia,{children:[f.jsx(yi,{children:f.jsx("title",{children:"Settings | AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsx("h1",{children:"Settings"}),f.jsx(ai,{...r("graphics-level",()=>s(ul(YP,i))),label:"Graphics",value:i.toUpperCase()}),f.jsx(ai,{...r("fps-count-level",()=>a(ul(QP,o))),label:"FPS Count",value:o}),f.jsx(ai,{...r("background-music-selection",()=>d(ul(e5,u))),label:"Background Music",value:u}),f.jsx(rN,{ref:h,...r("input-lag",()=>{var S;return(S=h.current)==null?void 0:S.focus()})}),f.jsx("hr",{}),f.jsx(ai,{...r("camera-access",()=>p?fs.disable():v()),label:"Enable camera mode",value:y,info:"Record a timelapse video from singing. The recording is not sent nor stored anywhere."}),f.jsx("hr",{}),f.jsx(ai,{...r("mobile-phone-mode",()=>c(!l)),label:"Mobile Phone Mode",value:l?"Yes":"No",info:"Adjust the game to a smaller screen. Disables option to sing in duets."}),f.jsx("hr",{}),f.jsx(Re,{...r("remote-mics-settings",()=>t("settings/remote-mics/")),size:"small",children:"Remote Microphones Settings"}),f.jsx(Re,{...r("setup-mics-button",()=>t("select-input/")),size:"small",children:"Setup Microphones"}),f.jsx(Re,{...r("manage-songs-button",()=>t("manage-songs/")),size:"small",children:"Manage Songs"}),f.jsx(Re,{...r("back-button",n),children:"Return To Main Menu"})]})}function iN(e){return f.jsxs(Tfe,{...e,children:[f.jsx(z_,{}),f.jsx(bL,{})]})}const Tfe=C("div",{target:"e1lp2lp80"})({name:"9lr88m",styles:"position:relative;transition:300ms;svg{transition:300ms;width:15rem;height:15rem;}svg:first-of-type{top:1.6rem;left:3.5rem;position:absolute;z-index:100;transform:scaleX(-1);}"});function sN(){const[e,t]=A.useState(!1);return A.useEffect(()=>{const n=setTimeout(()=>{t(!0)},500);return()=>{clearTimeout(n)}},[]),f.jsx(Ife,{visible:e,children:f.jsx(Rfe,{})})}const Ife=C("div",{target:"e1ej0ve21"})("transition:500ms;opacity:",e=>e.visible?1:0,";position:fixed;inset:0;display:flex;align-items:center;justify-content:center;"),Rfe=C(iN,{target:"e1ej0ve20"})({name:"1wwm3j4",styles:"transform:translate(-1.75rem, -0.8rem) scale(2);svg{animation:pulse 1.25s infinite;@keyframes pulse{0%{scale:1;}33%{scale:1.05;}66%{scale:1;}100%{scale:1;}}}svg:first-of-type{animation-delay:1s;}"}),Mfe=A.lazy(()=>xu(()=>import("./SongManagement-CO8LM024.js"),[]).then(e=>({default:e.Convert}))),oN=e=>f.jsxs(A.Suspense,{fallback:f.jsx(sN,{}),children:[f.jsx(yi,{children:f.jsx("title",{children:"Convert Song | AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsx(Mfe,{...e})]});var aN={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Qo,function(){return function(n,r,i){n=n||{};var s=r.prototype,o={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function a(c,u,d,h){return s.fromToBase(c,u,d,h)}i.en.relativeTime=o,s.fromToBase=function(c,u,d,h,p){for(var g,m,_,v=d.$locale().relativeTime||o,y=n.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],S=y.length,x=0;x<S;x+=1){var b=y[x];b.d&&(g=h?i(c).diff(d,b.d,!0):d.diff(c,b.d,!0));var w=(n.rounding||Math.round)(Math.abs(g));if(_=g>0,w<=b.r||!b.r){w<=1&&x>0&&(b=y[x-1]);var E=v[b.l];p&&(w=p(""+w)),m=typeof E=="string"?E.replace("%d",w):E(w,u,b.l,_);break}}if(u)return m;var T=_?v.future:v.past;return typeof T=="function"?T(m):T.replace("%s",m)},s.to=function(c,u){return a(c,u,this,!0)},s.from=function(c,u){return a(c,u,this)};var l=function(c){return c.$u?i.utc():i()};s.toNow=function(c){return this.to(l(this),c)},s.fromNow=function(c){return this.from(l(this),c)}}})})(aN);var Pfe=aN.exports;const jfe=hr(Pfe),lN=1e3,Ofe=e=>e.map(t=>{if(t.notes.length===0)debugger;return{...t,start:t.notes[0].start}}),Vfe=e=>{const t=e.notes.at(-1);return t.start+t.length},Lfe=(e,t=10)=>{let n=0,r=[];return e.forEach(i=>{i.start-n>t&&(r.push({type:"pause",start:n,end:i.start-t}),n=i.start-t),r.push({...i,start:n}),n=Vfe(i)}),r},xR=(e,t)=>({...e,sections:Lfe(Ofe(e.sections.filter(Mt)),t)});function Nfe(e){const t=wu(e),n=Math.round(lN/t);return{...e,tracks:e.tracks.map(r=>xR(r,n)),mergedTrack:xR(e.mergedTrack,n)}}const Bfe=(e,t)=>e.map((n,r)=>Mt(n)?{...n,start:r===0?0:Math.max(0,n.start+t),notes:n.notes.map(i=>({...i,start:i.start+t}))}:{...n,start:Math.max(0,n.start+t),end:Math.max(0,n.end+t)}),wR=(e,t)=>({...e,sections:Bfe(e.sections,t)});function Dfe(e){const t=wu(e),n=Math.round(lN/t),r=Math.floor((e.gap-n*t<0?e.gap:n*t)/t),i=e.gap-r*t;return{...e,gap:i,tracks:e.tracks.map(s=>wR(s,r)),mergedTrack:wR(e.mergedTrack,r)}}function cN(e,t){return wu(t)*e}function pv(e){const t=Math.min(...e.tracks.map(n=>"sections"in n?ya(n.sections):n.start));return cN(t,e)+e.gap}function $fe(e){const t=pv(e);return{...e,videoGap:Math.round(Math.max(0,Math.min(e.videoGap??0,t/1e3-15)))}}const Ffe=(e,t)=>e.map((n,r)=>Mt(n)?{...n,start:r===0?0:Math.max(0,n.start-t),notes:n.notes.map(i=>({...i,start:i.start-t}))}:{...n,start:Math.max(0,n.start-t),end:Math.max(0,n.end-t)}).filter(n=>Mt(n)||n.start-n.end>0),ER=(e,t)=>({...e,sections:Ffe(e.sections,t)});function zfe(e){const t=wu(e),n=e.tracks.reduce((o,a,l)=>{const c=ya(e.tracks[o].sections),u=ya(a.sections);return c>u?l:o},0),r=e.tracks[n].sections.find(Mt);if(!r)return console.error("There are no notes sections in the song, wat",e.tracks),e;const i=r.start+(r.notes[0].start-r.start),s=Math.floor(e.gap+i*t);return{...e,gap:s,tracks:e.tracks.map(o=>ER(o,i)),mergedTrack:ER(e.mergedTrack,i)}}const Ufe=e=>(e.forEach((t,n)=>{t.lyrics.startsWith(" ")&&(t.lyrics=t.lyrics.trimStart(),n>0&&(e[n-1].lyrics=e[n-1].lyrics.trimEnd()+" ")),n===e.length-1&&(t.lyrics=t.lyrics.trimEnd())}),e),kR=e=>({...e,sections:e.sections.map(t=>Mt(t)?{...t,notes:Ufe(t.notes)}:t)});function Hfe(e){return{...e,tracks:e.tracks.map(kR),mergedTrack:kR(e.mergedTrack)}}const Gfe=e=>{let t=zfe(e);return t=Dfe(t),t=Nfe(t),t=Hfe(t),t=$fe(t),t};function uN(e){const[t,n]=A.useState(null);return A.useEffect(()=>{Zs.get(e).then(r=>n(r&&Gfe(r)))},[e]),{data:t}}gs.extend(jfe);function qfe(){const e=S0("song");Ra(!1);const t=uN(e??"");return t.data?f.jsxs(Kfe,{children:[f.jsx(yi,{children:f.jsx("title",{children:"Edit Song | AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsxs(Wfe,{children:[f.jsx(dw,{to:"edit/list/",children:f.jsx("a",{children:"Return to the song list"})}),f.jsxs("span",{children:["Editing:"," ",f.jsxs("b",{children:[t.data.artist," - ",t.data.title]})]}),f.jsxs("abbr",{title:t.data.lastUpdate,children:["Last updated: ",f.jsx("b",{children:t.data.lastUpdate?gs(t.data.lastUpdate).fromNow():"-"})]})]}),f.jsx(oN,{song:t.data})]}):f.jsx(f.Fragment,{children:"Loading"})}const Wfe=C("div",{target:"e104ojv11"})({name:"tv6097",styles:"display:flex;justify-content:space-between;align-items:center;margin-bottom:20px"}),Kfe=C("div",{target:"e104ojv10"})({name:"1u1hal4",styles:"margin:30px auto 0 auto;width:1260px;height:100%;background:white"});var Yfe=Math.floor,Qfe=Math.random;function Jfe(e,t){return e+Yfe(Qfe()*(t-e+1))}function dN(e,t){var n=-1,r=e.length,i=r-1;for(t=t===void 0?r:t;++n<t;){var s=Jfe(n,i),o=e[s];e[s]=e[n],e[n]=o}return e.length=t,e}function Xfe(e){return dN(w3(e))}function Zfe(e,t){return IS(t,function(n){return e[n]})}function ehe(e){return e==null?[]:Zfe(e,oh(e))}function the(e){return dN(ehe(e))}function nhe(e){var t=qi(e)?Xfe:the;return t(e)}var TM;const rhe=!((TM=document.getElementById("root"))!=null&&TM.hasChildNodes()),fN=rhe;function Hw(e){return fN?null:e.children}function Pr(e){const t=Xr(),n=r=>{e.onClick?e.onClick(r):(r.preventDefault(),t(e.to))};return f.jsx(dw,{...e,onClick:n})}function ihe(e,t){A.useEffect(()=>{var n,r;(r=(n=e.current)==null?void 0:n.getInternalPlayer())==null||r.setVolume(Math.round((t??.5)*100))},[e,t])}var she=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(s=Object.keys(t),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var o=s[i];if(!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n};const ohe=hr(she);var K_={exports:{}},hN;/**
* @link https://github.com/gajus/sister for the canonical source repository
* @license https://github.com/gajus/sister/blob/master/LICENSE BSD 3-Clause
*/hN=function(){var e={},t={};return e.on=function(n,r){var i={name:n,handler:r};return t[n]=t[n]||[],t[n].unshift(i),i},e.off=function(n){var r=t[n.name].indexOf(n);r!==-1&&t[n.name].splice(r,1)},e.trigger=function(n,r){var i=t[n],s;if(i)for(s=i.length;s--;)i[s].handler(r)},e};var ahe=hN,Y_={exports:{}},lhe=function(t,n,r){var i=document.head||document.getElementsByTagName("head")[0],s=document.createElement("script");typeof n=="function"&&(r=n,n={}),n=n||{},r=r||function(){},s.type=n.type||"text/javascript",s.charset=n.charset||"utf8",s.async="async"in n?!!n.async:!0,s.src=t,n.attrs&&che(s,n.attrs),n.text&&(s.text=""+n.text);var o="onload"in s?CR:uhe;o(s,r),s.onload||CR(s,r),i.appendChild(s)};function che(e,t){for(var n in t)e.setAttribute(n,t[n])}function CR(e,t){e.onload=function(){this.onerror=this.onload=null,t(null,e)},e.onerror=function(){this.onerror=this.onload=null,t(new Error("Failed to load "+this.src),e)}}function uhe(e,t){e.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,t(null,e))}}(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=lhe,r=i(n);function i(s){return s&&s.__esModule?s:{default:s}}t.default=function(s){var o=new Promise(function(a){if(window.YT&&window.YT.Player&&window.YT.Player instanceof Function){a(window.YT);return}else{var l=window.location.protocol==="http:"?"http:":"https:";(0,r.default)(l+"//www.youtube.com/iframe_api",function(u){u&&s.trigger("error",u)})}var c=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){c&&c(),a(window.YT)}});return o},e.exports=t.default})(Y_,Y_.exports);var dhe=Y_.exports,Q_={exports:{}},J_={exports:{}},X_={exports:{}},Hf=1e3,Gf=Hf*60,qf=Gf*60,Wf=qf*24,fhe=Wf*365.25,hhe=function(e,t){t=t||{};var n=typeof e;if(n==="string"&&e.length>0)return phe(e);if(n==="number"&&isNaN(e)===!1)return t.long?mhe(e):ghe(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function phe(e){if(e=String(e),!(e.length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]),r=(t[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return n*fhe;case"days":case"day":case"d":return n*Wf;case"hours":case"hour":case"hrs":case"hr":case"h":return n*qf;case"minutes":case"minute":case"mins":case"min":case"m":return n*Gf;case"seconds":case"second":case"secs":case"sec":case"s":return n*Hf;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function ghe(e){return e>=Wf?Math.round(e/Wf)+"d":e>=qf?Math.round(e/qf)+"h":e>=Gf?Math.round(e/Gf)+"m":e>=Hf?Math.round(e/Hf)+"s":e+"ms"}function mhe(e){return bp(e,Wf,"day")||bp(e,qf,"hour")||bp(e,Gf,"minute")||bp(e,Hf,"second")||e+" ms"}function bp(e,t,n){if(!(e<t))return e<t*1.5?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}(function(e,t){t=e.exports=i.debug=i.default=i,t.coerce=l,t.disable=o,t.enable=s,t.enabled=a,t.humanize=hhe,t.names=[],t.skips=[],t.formatters={};var n;function r(c){var u=0,d;for(d in c)u=(u<<5)-u+c.charCodeAt(d),u|=0;return t.colors[Math.abs(u)%t.colors.length]}function i(c){function u(){if(u.enabled){var d=u,h=+new Date,p=h-(n||h);d.diff=p,d.prev=n,d.curr=h,n=h;for(var g=new Array(arguments.length),m=0;m<g.length;m++)g[m]=arguments[m];g[0]=t.coerce(g[0]),typeof g[0]!="string"&&g.unshift("%O");var _=0;g[0]=g[0].replace(/%([a-zA-Z%])/g,function(y,S){if(y==="%%")return y;_++;var x=t.formatters[S];if(typeof x=="function"){var b=g[_];y=x.call(d,b),g.splice(_,1),_--}return y}),t.formatArgs.call(d,g);var v=u.log||t.log||console.log.bind(console);v.apply(d,g)}}return u.namespace=c,u.enabled=t.enabled(c),u.useColors=t.useColors(),u.color=r(c),typeof t.init=="function"&&t.init(u),u}function s(c){t.save(c),t.names=[],t.skips=[];for(var u=(typeof c=="string"?c:"").split(/[\s,]+/),d=u.length,h=0;h<d;h++)u[h]&&(c=u[h].replace(/\*/g,".*?"),c[0]==="-"?t.skips.push(new RegExp("^"+c.substr(1)+"$")):t.names.push(new RegExp("^"+c+"$")))}function o(){t.enable("")}function a(c){var u,d;for(u=0,d=t.skips.length;u<d;u++)if(t.skips[u].test(c))return!1;for(u=0,d=t.names.length;u<d;u++)if(t.names[u].test(c))return!0;return!1}function l(c){return c instanceof Error?c.stack||c.message:c}})(X_,X_.exports);var vhe=X_.exports;(function(e,t){var n={};t=e.exports=vhe,t.log=s,t.formatArgs=i,t.save=o,t.load=a,t.useColors=r,t.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:l(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function r(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}t.formatters.j=function(c){try{return JSON.stringify(c)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}};function i(c){var u=this.useColors;if(c[0]=(u?"%c":"")+this.namespace+(u?" %c":" ")+c[0]+(u?"%c ":" ")+"+"+t.humanize(this.diff),!!u){var d="color: "+this.color;c.splice(1,0,d,"color: inherit");var h=0,p=0;c[0].replace(/%[a-zA-Z%]/g,function(g){g!=="%%"&&(h++,g==="%c"&&(p=h))}),c.splice(p,0,d)}}function s(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function o(c){try{c==null?t.storage.removeItem("debug"):t.storage.debug=c}catch{}}function a(){var c;try{c=t.storage.debug}catch{}return!c&&typeof process<"u"&&"env"in process&&(c=n.DEBUG),c}t.enable(a());function l(){try{return window.localStorage}catch{}}})(J_,J_.exports);var yhe=J_.exports,Z_={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=["cueVideoById","loadVideoById","cueVideoByUrl","loadVideoByUrl","playVideo","pauseVideo","stopVideo","getVideoLoadedFraction","cuePlaylist","loadPlaylist","nextVideo","previousVideo","playVideoAt","setShuffle","setLoop","getPlaylist","getPlaylistIndex","setOption","mute","unMute","isMuted","setVolume","getVolume","seekTo","getPlayerState","getPlaybackRate","setPlaybackRate","getAvailablePlaybackRates","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getCurrentTime","getDuration","removeEventListener","getVideoUrl","getVideoEmbedCode","getOptions","getOption","addEventListener","destroy","setSize","getIframe"],e.exports=t.default})(Z_,Z_.exports);var Ahe=Z_.exports,eb={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=["ready","stateChange","playbackQualityChange","playbackRateChange","error","apiChange","volumeChange"],e.exports=t.default})(eb,eb.exports);var _he=eb.exports,tb={exports:{}},nb={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default={BUFFERING:3,ENDED:0,PAUSED:2,PLAYING:1,UNSTARTED:-1,VIDEO_CUED:5},e.exports=t.default})(nb,nb.exports);var bhe=nb.exports;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=bhe,r=i(n);function i(s){return s&&s.__esModule?s:{default:s}}t.default={pauseVideo:{acceptableStates:[r.default.ENDED,r.default.PAUSED],stateChangeRequired:!1},playVideo:{acceptableStates:[r.default.ENDED,r.default.PLAYING],stateChangeRequired:!1},seekTo:{acceptableStates:[r.default.ENDED,r.default.PLAYING,r.default.PAUSED],stateChangeRequired:!0,timeout:3e3}},e.exports=t.default})(tb,tb.exports);var She=tb.exports;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=yhe,r=u(n),i=Ahe,s=u(i),o=_he,a=u(o),l=She,c=u(l);function u(p){return p&&p.__esModule?p:{default:p}}var d=(0,r.default)("youtube-player"),h={};h.proxyEvents=function(p){var g={},m=function(E){var T="on"+E.slice(0,1).toUpperCase()+E.slice(1);g[T]=function($){d('event "%s"',T,$),p.trigger(E,$)}},_=!0,v=!1,y=void 0;try{for(var S=a.default[Symbol.iterator](),x;!(_=(x=S.next()).done);_=!0){var b=x.value;m(b)}}catch(w){v=!0,y=w}finally{try{!_&&S.return&&S.return()}finally{if(v)throw y}}return g},h.promisifyPlayer=function(p){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,m={},_=function(T){g&&c.default[T]?m[T]=function(){for(var $=arguments.length,N=Array($),B=0;B<$;B++)N[B]=arguments[B];return p.then(function(K){var P=c.default[T],L=K.getPlayerState(),R=K[T].apply(K,N);return P.stateChangeRequired||Array.isArray(P.acceptableStates)&&P.acceptableStates.indexOf(L)===-1?new Promise(function(I){var F=function j(){var z=K.getPlayerState(),V=void 0;typeof P.timeout=="number"&&(V=setTimeout(function(){K.removeEventListener("onStateChange",j),I()},P.timeout)),Array.isArray(P.acceptableStates)&&P.acceptableStates.indexOf(z)!==-1&&(K.removeEventListener("onStateChange",j),clearTimeout(V),I())};K.addEventListener("onStateChange",F)}).then(function(){return R}):R})}:m[T]=function(){for(var $=arguments.length,N=Array($),B=0;B<$;B++)N[B]=arguments[B];return p.then(function(K){return K[T].apply(K,N)})}},v=!0,y=!1,S=void 0;try{for(var x=s.default[Symbol.iterator](),b;!(v=(b=x.next()).done);v=!0){var w=b.value;_(w)}}catch(E){y=!0,S=E}finally{try{!v&&x.return&&x.return()}finally{if(y)throw S}}return m},t.default=h,e.exports=t.default})(Q_,Q_.exports);var xhe=Q_.exports;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},r=ahe,i=c(r),s=dhe,o=c(s),a=xhe,l=c(a);function c(d){return d&&d.__esModule?d:{default:d}}var u=void 0;t.default=function(d){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,g=(0,i.default)();if(u||(u=(0,o.default)(g)),h.events)throw new Error("Event handlers cannot be overwritten.");if(typeof d=="string"&&!document.getElementById(d))throw new Error('Element "'+d+'" does not exist.');h.events=l.default.proxyEvents(g);var m=new Promise(function(v){if((typeof d>"u"?"undefined":n(d))==="object"&&d.playVideo instanceof Function){var y=d;v(y)}else u.then(function(S){var x=new S.Player(d,h);return g.on("ready",function(){v(x)}),null})}),_=l.default.promisifyPlayer(m,p);return _.on=g.on,_.off=g.off,_},e.exports=t.default})(K_,K_.exports);var whe=K_.exports;const Ehe=hr(whe);var khe=Object.defineProperty,Che=Object.defineProperties,The=Object.getOwnPropertyDescriptors,TR=Object.getOwnPropertySymbols,Ihe=Object.prototype.hasOwnProperty,Rhe=Object.prototype.propertyIsEnumerable,IR=(e,t,n)=>t in e?khe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,rb=(e,t)=>{for(var n in t||(t={}))Ihe.call(t,n)&&IR(e,n,t[n]);if(TR)for(var n of TR(t))Rhe.call(t,n)&&IR(e,n,t[n]);return e},ib=(e,t)=>Che(e,The(t)),Mhe=(e,t,n)=>new Promise((r,i)=>{var s=l=>{try{a(n.next(l))}catch(c){i(c)}},o=l=>{try{a(n.throw(l))}catch(c){i(c)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(s,o);a((n=n.apply(e,t)).next())});function Phe(e,t){var n,r;if(e.videoId!==t.videoId)return!0;const i=((n=e.opts)==null?void 0:n.playerVars)||{},s=((r=t.opts)==null?void 0:r.playerVars)||{};return i.start!==s.start||i.end!==s.end}function RR(e={}){return ib(rb({},e),{height:0,width:0,playerVars:ib(rb({},e.playerVars),{autoplay:0,start:0,end:0})})}function jhe(e,t){return e.videoId!==t.videoId||!ohe(RR(e.opts),RR(t.opts))}function Ohe(e,t){var n,r,i,s;return e.id!==t.id||e.className!==t.className||((n=e.opts)==null?void 0:n.width)!==((r=t.opts)==null?void 0:r.width)||((i=e.opts)==null?void 0:i.height)!==((s=t.opts)==null?void 0:s.height)||e.iframeClassName!==t.iframeClassName||e.title!==t.title}var Vhe={videoId:"",id:"",className:"",iframeClassName:"",style:{},title:"",loading:void 0,opts:{},onReady:()=>{},onError:()=>{},onPlay:()=>{},onPause:()=>{},onEnd:()=>{},onStateChange:()=>{},onPlaybackRateChange:()=>{},onPlaybackQualityChange:()=>{}},Lhe={videoId:Qe.string,id:Qe.string,className:Qe.string,iframeClassName:Qe.string,style:Qe.object,title:Qe.string,loading:Qe.oneOf(["lazy","eager"]),opts:Qe.objectOf(Qe.any),onReady:Qe.func,onError:Qe.func,onPlay:Qe.func,onPause:Qe.func,onEnd:Qe.func,onStateChange:Qe.func,onPlaybackRateChange:Qe.func,onPlaybackQualityChange:Qe.func},dg=class extends Te.Component{constructor(e){super(e),this.destroyPlayerPromise=void 0,this.onPlayerReady=t=>{var n,r;return(r=(n=this.props).onReady)==null?void 0:r.call(n,t)},this.onPlayerError=t=>{var n,r;return(r=(n=this.props).onError)==null?void 0:r.call(n,t)},this.onPlayerStateChange=t=>{var n,r,i,s,o,a,l,c;switch((r=(n=this.props).onStateChange)==null||r.call(n,t),t.data){case dg.PlayerState.ENDED:(s=(i=this.props).onEnd)==null||s.call(i,t);break;case dg.PlayerState.PLAYING:(a=(o=this.props).onPlay)==null||a.call(o,t);break;case dg.PlayerState.PAUSED:(c=(l=this.props).onPause)==null||c.call(l,t);break}},this.onPlayerPlaybackRateChange=t=>{var n,r;return(r=(n=this.props).onPlaybackRateChange)==null?void 0:r.call(n,t)},this.onPlayerPlaybackQualityChange=t=>{var n,r;return(r=(n=this.props).onPlaybackQualityChange)==null?void 0:r.call(n,t)},this.destroyPlayer=()=>this.internalPlayer?(this.destroyPlayerPromise=this.internalPlayer.destroy().then(()=>this.destroyPlayerPromise=void 0),this.destroyPlayerPromise):Promise.resolve(),this.createPlayer=()=>{if(typeof document>"u")return;if(this.destroyPlayerPromise){this.destroyPlayerPromise.then(this.createPlayer);return}const t=ib(rb({},this.props.opts),{videoId:this.props.videoId});this.internalPlayer=Ehe(this.container,t),this.internalPlayer.on("ready",this.onPlayerReady),this.internalPlayer.on("error",this.onPlayerError),this.internalPlayer.on("stateChange",this.onPlayerStateChange),this.internalPlayer.on("playbackRateChange",this.onPlayerPlaybackRateChange),this.internalPlayer.on("playbackQualityChange",this.onPlayerPlaybackQualityChange),(this.props.title||this.props.loading)&&this.internalPlayer.getIframe().then(n=>{this.props.title&&n.setAttribute("title",this.props.title),this.props.loading&&n.setAttribute("loading",this.props.loading)})},this.resetPlayer=()=>this.destroyPlayer().then(this.createPlayer),this.updatePlayer=()=>{var t;(t=this.internalPlayer)==null||t.getIframe().then(n=>{this.props.id?n.setAttribute("id",this.props.id):n.removeAttribute("id"),this.props.iframeClassName?n.setAttribute("class",this.props.iframeClassName):n.removeAttribute("class"),this.props.opts&&this.props.opts.width?n.setAttribute("width",this.props.opts.width.toString()):n.removeAttribute("width"),this.props.opts&&this.props.opts.height?n.setAttribute("height",this.props.opts.height.toString()):n.removeAttribute("height"),this.props.title?n.setAttribute("title",this.props.title):n.setAttribute("title","YouTube video player"),this.props.loading?n.setAttribute("loading",this.props.loading):n.removeAttribute("loading")})},this.getInternalPlayer=()=>this.internalPlayer,this.updateVideo=()=>{var t,n,r,i;if(typeof this.props.videoId>"u"||this.props.videoId===null){(t=this.internalPlayer)==null||t.stopVideo();return}let s=!1;const o={videoId:this.props.videoId};if((n=this.props.opts)!=null&&n.playerVars&&(s=this.props.opts.playerVars.autoplay===1,"start"in this.props.opts.playerVars&&(o.startSeconds=this.props.opts.playerVars.start),"end"in this.props.opts.playerVars&&(o.endSeconds=this.props.opts.playerVars.end)),s){(r=this.internalPlayer)==null||r.loadVideoById(o);return}(i=this.internalPlayer)==null||i.cueVideoById(o)},this.refContainer=t=>{this.container=t},this.container=null,this.internalPlayer=null}componentDidMount(){this.createPlayer()}componentDidUpdate(e){return Mhe(this,null,function*(){Ohe(e,this.props)&&this.updatePlayer(),jhe(e,this.props)&&(yield this.resetPlayer()),Phe(e,this.props)&&this.updateVideo()})}componentWillUnmount(){this.destroyPlayer()}render(){return Te.createElement("div",{className:this.props.className,style:this.props.style},Te.createElement("div",{id:this.props.id,className:this.props.iframeClassName,ref:this.refContainer}))}},gv=dg;gv.propTypes=Lhe;gv.defaultProps=Vhe;gv.PlayerState={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5};var Ns=gv;function Nhe(e){const[t,n]=A.useState(1);return A.useEffect(()=>{if(e===Ns.PlayerState.UNSTARTED){const r=setTimeout(()=>{n(i=>i+1)},5e3+t*2500);return()=>{clearTimeout(r)}}}),t}function Bhe(e,t){A.useEffect(()=>{if(t===Ns.PlayerState.BUFFERING){const n=setInterval(async()=>{var r,i,s;if(navigator.onLine){clearInterval(n);const o=await((r=e.current)==null?void 0:r.getInternalPlayer().getCurrentTime());(s=(i=e.current)==null?void 0:i.getInternalPlayer())==null||s.seekTo(Math.max(o-2,0),!0)}},500);return()=>{clearInterval(n)}}})}function Dhe(e,t){return Bhe(e,t),Nhe(t)}var In=(e=>(e.UNSTARTED="UNSTARTED",e.ENDED="ENDED",e.PLAYING="PLAYING",e.PAUSED="PAUSED",e.BUFFERING="BUFFERING",e.CUED="CUED",e))(In||{});const $he={[Ns.PlayerState.UNSTARTED]:"UNSTARTED",[Ns.PlayerState.ENDED]:"ENDED",[Ns.PlayerState.PLAYING]:"PLAYING",[Ns.PlayerState.PAUSED]:"PAUSED",[Ns.PlayerState.BUFFERING]:"BUFFERING",[Ns.PlayerState.CUED]:"CUED"},Fhe=A.forwardRef(function({video:t,autoplay:n,startAt:r,controls:i,disablekb:s,volume:o,width:a,height:l,onStateChange:c},u){const d=A.useRef(null),[h,p]=A.useState(Ns.PlayerState.UNSTARTED),g=Dhe(d,h);return ihe(d,o),A.useEffect(()=>{d.current&&d.current.getInternalPlayer().setSize(a,l)},[d,a,l,t,g]),A.useImperativeHandle(u,()=>({setSize:(m,_)=>{var v;return(v=d.current)==null?void 0:v.getInternalPlayer().setSize(m,_)},seekTo:m=>{var _;return(_=d.current)==null?void 0:_.getInternalPlayer().seekTo(m,!0)},setPlaybackSpeed:m=>{var _;return(_=d.current)==null?void 0:_.getInternalPlayer().setPlaybackRate(m)},setVolume:m=>{var _;return(_=d.current)==null?void 0:_.getInternalPlayer().setVolume(m)},getCurrentTime:()=>{var m;return(m=d.current)==null?void 0:m.getInternalPlayer().getCurrentTime()},loadVideoById:m=>{var _;return(_=d.current)==null?void 0:_.getInternalPlayer().loadVideoById(m)},playVideo:()=>{var m;(m=d.current)==null||m.getInternalPlayer().playVideo()},pauseVideo:()=>{var m;return(m=d.current)==null?void 0:m.getInternalPlayer().pauseVideo()},getDuration:()=>{var m;return(m=d.current)==null?void 0:m.getInternalPlayer().getDuration()}})),f.jsx(Ns,{title:" ",ref:d,videoId:t,opts:{width:"0",height:"0",playerVars:{autoplay:n?1:0,rel:0,fs:0,controls:i?1:0,start:r??0,end:0,disablekb:s?1:0,modestbranding:1}},onStateChange:m=>{p(m.data),c==null||c($he[m.data])}},`${t}-${g}`)}),zhe=A.forwardRef(function({video:t,autoplay:n,startAt:r,controls:i,disablekb:s,volume:o,width:a,height:l,onStateChange:c},u){const d=A.useRef(null),[h,p]=A.useState({w:a,h:l}),[g,m]=A.useState(In.UNSTARTED);A.useEffect(()=>{const v=w=>()=>m(w),y=d.current,S=v(In.PLAYING),x=v(In.PAUSED),b=v(In.ENDED);return y==null||y.addEventListener("playing",S),y==null||y.addEventListener("pause",x),y==null||y.addEventListener("ended",b),()=>{y==null||y.removeEventListener("playing",S),y==null||y.removeEventListener("pause",x),y==null||y.removeEventListener("ended",b)}},[d.current,m]),A.useEffect(()=>{c==null||c(g)},[g,c]);const _=A.useMemo(()=>({setSize:(v,y)=>p({w:v,h:y}),seekTo:v=>(d.current&&(d.current.currentTime=v),v),setPlaybackSpeed:v=>{d.current&&(d.current.playbackRate=v)},setVolume:()=>{},getCurrentTime:()=>{var v;return Promise.resolve(((v=d.current)==null?void 0:v.currentTime)??0)},loadVideoById:()=>{},playVideo:()=>{var v;return(v=d.current)==null?void 0:v.play()},pauseVideo:()=>{var v;return(v=d.current)==null?void 0:v.pause()},getDuration:()=>{var v;return Promise.resolve(((v=d.current)==null?void 0:v.duration)??0)}}),[d]);return A.useEffect(()=>{_.setSize(a,l)},[a,l,_]),A.useEffect(()=>{r!==void 0&&_.seekTo(r)},[r,_]),A.useImperativeHandle(u,()=>_),f.jsx("video",{width:h.w,height:h.h,autoPlay:n??!0,controls:i,ref:d,children:f.jsx("source",{src:t})})}),Uhe="/assets/dummy-BNC13ZxI.mp4",Hhe=A.forwardRef(function({video:t,controls:n,...r},i){return f.jsx(zhe,{ref:i,video:Uhe,controls:!0,...r})});var Ghe={VITE_APP_SENTRY_DSN_URL:"https://66c6e940d24b4096a277f350571921bb@o366978.ingest.sentry.io/6174734",VITE_APP_POSTHOG_KEY:"phc_bw7XLoONmtGVezmMKTvcwk3lj37jzxTfisqzjlJ0Jik",VITE_APP_BACKEND_HOST:"backend.allkaraoke.party",VITE_APP_WEBSOCKET_URL:"wss://backend.allkaraoke.party",VITE_APP_SENTRY_TUNNEL:"https://backend.allkaraoke.party/sentry",VITE_APP_POSTHOG_PROXY:"https://backend.allkaraoke.party/posthog",VITE_APP_SONG_CONVERT_PROXY:"https://backend.allkaraoke.party/proxy",VITE_CJS_IGNORE_WARNING:"true",VITE_APP_PRERENDER:"true",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const Gw=A.forwardRef((e,t)=>Ghe.VITE_APP_OFFLINE?f.jsx(Hhe,{...e,ref:t}):f.jsx(Fhe,{...e,ref:t}));function pN({songData:e,background:t,width:n,height:r,children:i,...s}){return f.jsxs(qhe,{video:e.video,width:n,height:r,...s,children:[f.jsx(Khe,{video:e.video,blur:!0}),t&&f.jsx(gN,{children:t}),f.jsx(Yhe,{children:f.jsxs(Qhe,{children:[f.jsx(Jhe,{children:e.title}),f.jsx("br",{}),f.jsx(Xhe,{children:e.artist}),f.jsx("br",{}),e.author&&f.jsxs(Zhe,{children:["by ",e.authorUrl?f.jsx("a",{href:e.authorUrl,children:e.author}):e.author]}),i]})})]})}const qhe=C("div",{target:"e1kx27c8"})("width:",e=>e.width,"px;top:0;height:",e=>e.height,"px;overflow-y:hidden;background:black;position:relative;"),gN=C("div",{target:"e1kx27c7"})({name:"1vuuxha",styles:"z-index:1;top:0;left:0;position:absolute;width:100%;height:100%"}),Whe=C(gN,{target:"e1kx27c6"})("background-size:cover;background-position:center center;filter:",e=>e.blur?"blur(0.5rem)":"none",";"),Khe=e=>f.jsx(Whe,{style:{backgroundImage:`url('https://i3.ytimg.com/vi/${e.video}/hqdefault.jpg')`},...e}),Yhe=C("div",{target:"e1kx27c5"})({name:"11t99gq",styles:"z-index:2;top:0;left:0;width:100%;height:100%;position:absolute;pointer-events:none"}),Qhe=C("div",{target:"e1kx27c4"})({name:"t7r80e",styles:"position:relative;margin:0 auto;color:white;max-width:144rem;height:100%;pointer-events:none"}),mv=C("span",{target:"e1kx27c3"})("background:rgba(0, 0, 0, 0.5);display:inline-block;backdrop-filter:blur(0.5rem);",De,";padding:0.5rem 2rem;margin:0 0 1rem 0;"),Jhe=C(mv,{target:"e1kx27c2"})("color:",pe.colors.text.active,";margin-top:2rem;font-size:4.5rem;"),Xhe=C(mv,{target:"e1kx27c1"})({name:"tic7nk",styles:"font-size:3.5rem"}),Zhe=C(mv,{target:"e1kx27c0"})({name:"a07gmx",styles:"font-size:2rem"});function epe(e){var h;Ea(!1),Ra(!1);const t=Xr(),{width:n,height:r}=wh(),[i,s]=A.useState(0),o=xh(),[a,l]=A.useState([]),{register:c}=zn({onBackspace:()=>t("menu/")});A.useEffect(()=>o.data&&l(nhe(o.data)),[o.data]);const u=()=>o.data&&s(p=>(p+1)%o.data.length);if(!a.length||!n||!r)return null;const d=xm("game/",{song:a[i].id,playlist:"All"});return f.jsxs(Bo,{children:[f.jsx(yi,{children:f.jsx("title",{children:"Jukebox | AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsx(Hw,{children:f.jsxs(pN,{width:n,height:r,songData:a[i],"data-test":"jukebox-container","data-song":a[i].id,background:f.jsx(Gw,{autoplay:!0,controls:!0,width:n,height:r,volume:(h=a[i])==null?void 0:h.volume,video:a[i].video,startAt:a[i].videoGap,onStateChange:p=>{p===In.ENDED&&u()}}),children:[f.jsx(npe,{...c("skip-button",u),children:"Skip"}),f.jsx(Pr,{to:d,children:f.jsx(tpe,{...c("sing-button",()=>t(d),void 0,!0),children:"Sing this song"})})]})})]})}const tpe=C(Cs,{target:"e1573hk21"})({name:"9gmhgo",styles:"bottom:7rem;right:2rem;width:50rem;position:absolute;font-size:1.9vw"}),npe=C(Cs,{target:"e1573hk20"})({name:"1qbm012",styles:"bottom:15rem;right:2rem;width:30rem;position:absolute;font-size:1.9vw"}),rpe=C("h1",{target:"enucs171"})({name:"8n9pib",styles:"display:flex;justify-content:center;align-items:center;position:relative"}),ipe=C("svg",{target:"enucs170"})({name:"1x5387l",styles:"--curve:cubic-bezier(0.65, 0, 0.45, 1);--green:#4caf50;margin-right:1rem;width:5rem;height:5rem;border-radius:50%;display:block;stroke-width:2;stroke:#fff;stroke-miterlimit:10;box-shadow:inset 0px 0px 0px var(--green);animation:fill 0.4s ease-in-out 0.4s forwards,scale 0.3s ease-in-out 0.9s both;.checkmark__circle{stroke-dasharray:166;stroke-dashoffset:166;stroke-width:2;stroke-miterlimit:10;stroke:var(--green);fill:none;animation:stroke 0.6s var(--curve) forwards;}.checkmark__check{transform-origin:50% 50%;stroke-dasharray:48;stroke-dashoffset:48;animation:stroke 0.3s var(--curve) 0.8s forwards;}@keyframes stroke{100%{stroke-dashoffset:0;}}@keyframes scale{0%,100%{transform:none;}50%{transform:scale3d(1.1, 1.1, 1);}}@keyframes fill{100%{box-shadow:inset 0px 0px 0px 3rem var(--green);}}"}),spe=e=>f.jsx(ipe,{...e,children:f.jsxs("svg",{className:"checkmark",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 52 52",children:[f.jsx("circle",{className:"checkmark__circle",cx:"26",cy:"26",r:"25",fill:"none"}),f.jsx("path",{className:"checkmark__check",fill:"none",d:"M14.1 27.2l7.1 7.2 16.7-16.8"})]})});var qw={},ope=ot;Object.defineProperty(qw,"__esModule",{value:!0});var Yd=qw.default=void 0,ape=ope(ut()),nA=f;Yd=qw.default=(0,ape.default)([(0,nA.jsx)("path",{fillRule:"evenodd",d:"M16.67 13.13C18.04 14.06 19 15.32 19 17v3h4v-3c0-2.18-3.57-3.47-6.33-3.87"},"0"),(0,nA.jsx)("circle",{cx:"9",cy:"8",r:"4",fillRule:"evenodd"},"1"),(0,nA.jsx)("path",{fillRule:"evenodd",d:"M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4c-.47 0-.91.1-1.33.24C14.5 5.27 15 6.58 15 8s-.5 2.73-1.33 3.76c.42.14.86.24 1.33.24m-6 1c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4"},"2")],"PeopleAlt");var Ww={},lpe=ot;Object.defineProperty(Ww,"__esModule",{value:!0});var sb=Ww.default=void 0,cpe=lpe(ut()),upe=f;sb=Ww.default=(0,cpe.default)((0,upe.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"Person");var Kw={},dpe=ot;Object.defineProperty(Kw,"__esModule",{value:!0});var fg=Kw.default=void 0,fpe=dpe(ut()),hpe=f;fg=Kw.default=(0,fpe.default)((0,hpe.jsx)("path",{d:"M15.5 1h-8C6.12 1 5 2.12 5 3.5v17C5 21.88 6.12 23 7.5 23h8c1.38 0 2.5-1.12 2.5-2.5v-17C18 2.12 16.88 1 15.5 1m-4 21c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m4.5-4H7V4h9z"}),"PhoneIphone");var Yw={},ppe=ot;Object.defineProperty(Yw,"__esModule",{value:!0});var mN=Yw.default=void 0,gpe=ppe(ut()),MR=f;mN=Yw.default=(0,gpe.default)([(0,MR.jsx)("circle",{cx:"12",cy:"12",r:"3.2"},"0"),(0,MR.jsx)("path",{d:"M9 2 7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5"},"1")],"PhotoCamera");var Qw={},mpe=ot;Object.defineProperty(Qw,"__esModule",{value:!0});var vN=Qw.default=void 0,vpe=mpe(ut()),ype=f;vN=Qw.default=(0,vpe.default)((0,ype.jsx)("path",{d:"M3 11h8V3H3zm2-6h4v4H5zM3 21h8v-8H3zm2-6h4v4H5zm8-12v8h8V3zm6 6h-4V5h4zm0 10h2v2h-2zm-6-6h2v2h-2zm2 2h2v2h-2zm-2 2h2v2h-2zm2 2h2v2h-2zm2-2h2v2h-2zm0-4h2v2h-2zm2 2h2v2h-2z"}),"QrCode");const yN=C("span",{target:"ejt1whd0"})("position:absolute;transform:translate(40%, -50%);top:0;right:0;background:",pe.colors.text.active,";font-size:1.5rem;",De,";color:",pe.colors.text.default,";padding:0.5rem 1rem;border-radius:1.5rem;");function Ape({onPreferenceSelected:e,previouslySelected:t,onBack:n,skipText:r}){const[i]=$e(pr),{register:s}=zn({onBackspace:n});return f.jsxs(f.Fragment,{children:[f.jsxs(xp,{...s("remote-mics",()=>e("remoteMics"),void 0,t==="remoteMics"),children:[f.jsxs(bd,{children:[f.jsx(Sw,{}),f.jsx(fg,{})]}),f.jsxs("div",{children:[i?"Connect other phones":"Use Smartphones",f.jsxs(_d,{children:["Use"," ",f.jsxs("strong",{children:[f.jsx(mN,{}),"Camera app"]})," ","to scan a"," ",f.jsxs("strong",{children:[f.jsx(vN,{})," QR code"]})," ","that will open Remote Mic website - no need to download an app!"]})]}),f.jsx(yN,{children:"Recommended"}),f.jsxs(Sp,{children:[f.jsx(Yd,{}),f.jsx("strong",{children:"1-4"})]})]}),f.jsxs(xp,{...s("built-in",()=>e("built-in"),void 0,t==="built-in"),children:[f.jsxs(bd,{children:[f.jsx(sb,{}),i?f.jsx(fg,{}):f.jsx(_w,{})]}),f.jsxs("div",{children:["This ",i?"device's":"computer's"," microphone",f.jsxs(_d,{children:["Great to ",f.jsx("strong",{children:"test"})," the app, ",f.jsx("strong",{children:"sing alone"})," or don't care about the rivalry at the party"]})]}),f.jsxs(Sp,{children:[f.jsx(sb,{}),f.jsx("strong",{children:"1"})]})]}),f.jsx("hr",{}),!i&&f.jsxs(xp,{...s("multiple-mics",()=>e("multiple-mics"),void 0,t==="multiple-mics"),children:[f.jsxs(bd,{children:[f.jsx(z_,{}),f.jsx(bL,{})]}),f.jsxs("div",{children:["Multiple microphones",f.jsxs(_d,{children:["Use either ",f.jsx("strong",{children:"SingStar"})," or ",f.jsx("strong",{children:"multiple microphones"})," connected to the device for each player"]})]}),f.jsxs(Sp,{children:[f.jsx(Yd,{}),f.jsx("strong",{children:"2"})]})]}),f.jsxs(xp,{...s("advanced",()=>e("advanced"),void 0,t==="advanced"),children:[f.jsxs(bd,{children:[f.jsx(z_,{}),f.jsx(fg,{})]}),f.jsxs("div",{children:["Advanced (manual) setup",f.jsx(_d,{children:"Assign the specific device to a player manually, e.g. if you don't have regular SingStar microphones."})]}),f.jsxs(Sp,{children:[f.jsx(Yd,{}),f.jsx("strong",{children:"1-4"})]})]}),f.jsx("hr",{}),f.jsx(Pr,{to:"menu/",onClick:o=>{o==null||o.preventDefault(),e("skip")},children:f.jsx(Re,{...s("skip",()=>e("skip"),void 0,t==="skip"),children:r||"Skip"})})]})}const Sp=C("div",{target:"eb2r3ii3"})(De,";position:absolute;inset:auto 0.5rem 0.5rem auto;svg{font-size:0.9em;}gap:0.5rem;display:flex;align-items:center;justify-content:flex-end;"),_d=C("div",{target:"eb2r3ii2"})({name:"4vipg7",styles:"padding:0 3rem 0 6rem;font-size:1.6rem;max-height:0;overflow:clip;transition:300ms;svg{font-size:1.4rem;}opacity:0"}),bd=C("div",{target:"eb2r3ii1"})("position:relative;margin:0rem 0.6rem 0 2.5rem;transition:300ms;svg{transition:300ms;width:3.6rem;height:3.6rem;color:",pe.colors.players[1].text,";}svg:first-of-type{top:0.6rem;left:1.25rem;position:absolute;color:",pe.colors.players[0].text,";z-index:100;transform:scaleX(-1);}"),xp=C(Re,{target:"eb2r3ii0"})("position:relative;display:flex;align-items:center;&:hover,&[data-focused='true']{height:16.5rem;background:black;",tu,";",_d,"{padding-top:1.6rem;max-height:10rem;opacity:1;opacity:1;}",bd,"{transform:scale(1.75);}}");function AN(){var e,t;return((t=(e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.includes)==null?void 0:t.call(e,"Win"))??!1}const Jw=(e,t,n=!0,r=1e3/tl.get())=>{A.useEffect(()=>{if(!n)return;const i=setInterval(()=>{const s=pn.getPlayerVolume(e)??0,o=pn.getPlayerFrequency(e)??0;t([s,Array.isArray(o)?o[0]:o])},r);return()=>{clearInterval(i)}},[e,r,t,n])},_pe=(e,t=1e3/tl.get(),n)=>{const[r,i]=A.useState([0,0]);return Jw(e,i,!0,t),A.useEffect(()=>{n&&n(r)},[r,n]),r},_N=e=>A.useMemo(()=>{if(!pe.colors.players[e])return"0, 0, 0";const t=ue(pe.colors.players[e].text).toRgb();return`${t.r}, ${t.g}, ${t.b}`},[e]),bN=C("div",{target:"eq7cjwi0"})({name:"5jivz6",styles:"height:100%;width:100%;position:absolute;right:0;top:0;background-repeat:repeat-y;transform-origin:right;z-index:1;pointer-events:none"}),bpe=A.forwardRef(({volume:e,playerNumber:t,...n},r)=>{const i=`${Math.min(1,e*20)}`,s=_N(t);return Me.getPlayer(t)?f.jsx(bN,{...n,style:{transform:`scaleX(${i})`,background:`linear-gradient(270deg, rgba(${s}, 1) 0%, rgba(${s}, 0) 100%)`},ref:r}):null}),Xw=({playerNumber:e,...t})=>{const[n,r]=A.useState(),i=A.useCallback(([o])=>{if(n){const a=`${Math.min(1,o*20)}`;n.style.transform=`scaleX(${a})`}},[n]);Jw(e,i);const s=_N(e);return f.jsx(bN,{...t,ref:r,style:{background:`linear-gradient(270deg, rgba(${s}, 1) 0%, rgba(${s}, 0) 100%)`}})};function Spe(e,t){const n=Object.keys(t),[r,i]=mi([ee.playerInputChanged,ee.inputListChanged],()=>{var l;const a=(l=Me.getPlayer(e))==null?void 0:l.input;return a?[a,wo.getInputForPlayerSelected(a)]:[null,null]});A.useEffect(()=>{var a;if(i===null){const l=n[0],c=t[l].getDefault();c&&((a=Me.getPlayer(e))==null||a.changeInput(n[0],c.channel,c.deviceId))}});const s=a=>{var u;const l=ul(n,(r==null?void 0:r.source)??n[0]),c=a!==void 0?t[l].list[a]:t[l].getDefault();(u=Me.getPlayer(e))==null||u.changeInput(l,c==null?void 0:c.channel,c==null?void 0:c.deviceId)},o=()=>{var u;if(!r)return;const a=t[r.source].list,l=i?a.findIndex(d=>d.id===i.id):0,c=bh(a,l);if(c===0)s(0);else{const d=a[c];(u=Me.getPlayer(e))==null||u.changeInput(r.source,d==null?void 0:d.channel,d==null?void 0:d.deviceId)}};return[(r==null?void 0:r.source)??null,s,i,o]}const SN=e=>{const t=e.player,[n,r,i,s]=Spe(t.number,e.inputs);return f.jsxs(f.Fragment,{children:[e.blockSourceChange?f.jsxs(kpe,{children:[f.jsxs("h3",{className:"ph-no-capture",children:[t.getName()," Input"]}),f.jsx("h4",{children:"(click to change)"})]}):f.jsx(Epe,{...e.readonly?{}:e.register(`player-${t.number}-source`,()=>r()),label:f.jsxs("span",{className:"ph-no-capture",children:[t.getName()," Source"]}),value:n,disabled:e.readonly}),f.jsx(wpe,{...e.readonly?{}:e.register(`player-${t.number}-input`,s),label:"Input",disabled:e.readonly,value:i==null?void 0:i.label,children:f.jsx(xpe,{playerNumber:t.number})})]})},xpe=C(Xw,{target:"e6monco3"})({name:"1vx2200",styles:"opacity:0.75;width:50%;height:calc(100% - 0.5rem);margin:0.25rem"}),wpe=C(ai,{target:"e6monco2"})({name:"bjn8wh",styles:"position:relative"}),Epe=C(ai,{target:"e6monco1"})({name:"bigtx2",styles:"background:none"}),kpe=C("div",{target:"e6monco0"})({name:"1laz9o6",styles:"display:flex;justify-content:space-between;align-items:flex-end"});function vv(e=!1,t){const n=mi(ee.inputListChanged,()=>{const r={...wo.getInputList()};if(t)return{[t]:r[t]};for(const i in r)r[i].list.length===0&&delete r[i];return r});return A.useEffect(()=>{e&&wo.loadMics()},[e]),n}function Eh(e,t=Bg){A.useEffect(()=>{Me.setMinPlayerNumber(e);const n=Me.getPlayers();if(n.length>t)for(let r=n.length;r>t;r--)Me.removePlayer(n[r-1].number);else if(n.length<e){const r=Me.getPlayers().map(s=>s.number),i=Array.from(Array(Bg).keys()).filter(s=>!r.includes(s));console.log(i,r);for(let s=n.length;s<e;s++)Me.addPlayer(i.shift())}},[])}function xN(){const e=A.useRef(0);Vr(ee.remoteMicConnected,({id:t})=>{var r;console.log("useRemoteMicAutoselect",t);const n=Me.getPlayer(e.current);n?n.changeInput(xo.inputName,0,t):(r=Me.addPlayer(e.current))==null||r.changeInput(xo.inputName,0,t),e.current=(e.current+1)%Bg})}function Cpe(e){Eh(2);const t=vv(!0),n=vw();A.useEffect(()=>{e.onSetupComplete(n==="accepted")},[n]),xN();const{register:r}=zn({onBackspace:e.onBack}),s=mi(ee.playerInputChanged,()=>Me.getInputs()).filter(a=>a.source===yo.inputName),o=mi([ee.inputListChanged,ee.playerInputChanged,ee.playerRemoved],()=>Me.getPlayers());return f.jsxs(f.Fragment,{children:[f.jsxs(_h,{fallback:f.jsx("h2",{children:"Please allow access to the microphone so we can show them."}),children:[f.jsx(fw,{}),o.map((a,l)=>f.jsx(SN,{inputs:t,player:a,register:r,readonly:l>1},a.number)),f.jsx("hr",{}),s.length>1&&Fw()&&AN()&&f.jsxs("h3",{children:[f.jsx("strong",{children:"Chrome"})," is known for not handling SingStar mics well. If you notice any problems, try using an alternative browser (eg. ",f.jsx("strong",{children:"MS Edge"})," or ",f.jsx("strong",{children:"Firefox"}),")"]})]}),f.jsx(Re,{...r("back-button",e.onBack),children:"Change Input Type"}),f.jsx(Re,{...r("save-button",e.onSave),children:e.closeButtonText})]})}var Zw={},Tpe=ot;Object.defineProperty(Zw,"__esModule",{value:!0});var wN=Zw.default=void 0,Ipe=Tpe(ut()),Rpe=f;wN=Zw.default=(0,Ipe.default)((0,Rpe.jsx)("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check");var eE={},Mpe=ot;Object.defineProperty(eE,"__esModule",{value:!0});var tE=eE.default=void 0,Ppe=Mpe(ut()),jpe=f;tE=eE.default=(0,Ppe.default)((0,jpe.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-2h2zm0-4h-2V7h2z"}),"Error");function nE({names:e}){return f.jsx(Ope,{children:Me.getPlayers().map(t=>f.jsxs(Vpe,{"data-test":`mic-check-p${t.number}`,children:[f.jsx(Xw,{playerNumber:t.number}),f.jsx("span",{className:"ph-no-capture",children:(e==null?void 0:e[t.number])??t.getName()})]},t.number))})}const Ope=C("div",{target:"e1e3gceh1"})({name:"e7x0p4",styles:"display:flex;gap:1.25rem;div{flex:1;}"}),Vpe=C("div",{target:"e1e3gceh0"})({name:"186bnmk",styles:"position:relative;border:0.1rem solid white;padding:1rem 3rem;background:black;text-align:center;gap:1.25rem;font-size:2.3rem;color:white"});function Lpe(e){const[t,n]=A.useState(null),r=A.useRef([]),i=A.useRef(0),s=A.useCallback(([o])=>{if(r.current.push(o),r.current.length>35){const l=r.current.sort()[Math.floor(r.current.length/2)]>0;l||i.current>7?n(l):i.current++,r.current.length=0}},[e]);return Jw(0,s,t!==!0),A.useEffect(()=>{r.current.length=0,i.current=0,n(null)},[e]),t}function Npe(e){Eh(1,1);const{register:t}=zn({onBackspace:e.onBack}),{Microphone:n}=vv(!0,"Microphone"),r=mi([ee.playerInputChanged,ee.inputListChanged],()=>{var u;const l=Me.getInputs().find(d=>d.source==="Microphone"),c=wo.getInputList().Microphone.list;return l?((u=c.find(d=>d.id===Al(l)))==null?void 0:u.label)??"":""}),i=l=>{Me.getPlayers().forEach(c=>c.changeInput(yo.inputName,l.channel,l.deviceId))},s=()=>{if(r===""){const l=n.getDefault();l&&i(l)}};A.useEffect(s,[]),Vr([ee.inputListChanged,ee.playerRemoved],s);const o=()=>{const l=n.list.findIndex(c=>c.label===r);if(l>-1){const c=n.list[bh(n.list,l)];i(c)}},a=Lpe(r);return A.useEffect(()=>{e.onSetupComplete(!!r&&!!a)},[r,a]),f.jsxs(f.Fragment,{children:[f.jsxs(_h,{fallback:f.jsx("h2",{children:"Please allow access to the microphone so the default one can be selected."}),children:[!r&&f.jsx("h3",{children:"The default device is being selected."}),r&&f.jsxs(f.Fragment,{children:[f.jsxs(Bpe,{children:[f.jsx("h3",{children:"You'll sing using"}),f.jsx("h4",{children:"(click to change)"})]}),f.jsx(ai,{...t("selected-mic",o),label:"Mic",value:r}),f.jsxs(Dpe,{children:[a===!0&&f.jsxs(f.Fragment,{children:[f.jsx("h3",{children:"Microphone is audible"}),f.jsx(rA,{children:f.jsx(Fpe,{})})]}),a===!1&&f.jsxs(f.Fragment,{children:[f.jsx("h3",{children:"Microphone is not audible"}),f.jsx(rA,{children:f.jsx($pe,{})})]}),a===null&&f.jsxs(f.Fragment,{children:[f.jsx("h3",{children:"Make some noise to the microphone"}),f.jsx(rA,{children:f.jsx(Sh,{size:"1em"})})]})]}),a===!1&&f.jsx("h4",{children:"Make some noise to the microphone. If that doesn't work, try using another microphone."})]}),f.jsx(nE,{}),a===!0&&f.jsxs("h4",{children:["Built-in microphones can pick up music from the game. For more accurate scores, try using your"," ",f.jsx("button",{onClick:()=>e.changePreference("remoteMics"),children:"smartphone as a microphone"}),"."]})]}),f.jsx(Re,{...t("back-button",e.onBack),children:"Change Input Type"}),f.jsx(Re,{...t("save-button",e.onSave,void 0,!0,{disabled:!r}),disabled:!r,children:e.closeButtonText})]})}const Bpe=C("div",{target:"e19x30ho4"})({name:"1laz9o6",styles:"display:flex;justify-content:space-between;align-items:flex-end"}),Dpe=C("div",{target:"e19x30ho3"})({name:"19mh0x6",styles:"display:flex;align-items:center;justify-content:flex-end"}),rA=C("div",{target:"e19x30ho2"})({name:"1wxh51d",styles:"width:4rem;height:3rem;display:flex;align-items:center;justify-content:flex-end"}),$pe=C(tE,{target:"e19x30ho1"})({name:"72zlrs",styles:"&&{width:2em;height:2em;}color:red"}),Fpe=C(wN,{target:"e19x30ho0"})({name:"17t2lqr",styles:"&&{width:2em;height:2em;}color:white"});function zpe(e){Eh(2);const t=vv(!0,"Microphone"),n=vw();A.useEffect(()=>{e.onSetupComplete(n==="accepted")},[n]),A.useEffect(()=>{Me.getPlayers().forEach(s=>{s.input.source!=="Microphone"&&s.changeInput("Microphone",0)})},[]);const{register:r}=zn({onBackspace:e.onBack}),i=mi([ee.inputListChanged,ee.playerInputChanged,ee.playerRemoved],()=>Me.getPlayers());return f.jsxs(f.Fragment,{children:[f.jsxs(_h,{fallback:f.jsx("h2",{children:"Please allow access to the microphone so we can show them."}),children:[i.map((s,o)=>f.jsx(SN,{inputs:t,player:s,register:r,readonly:o>1,blockSourceChange:!0},s.number)),f.jsx("hr",{})]}),f.jsx(Re,{...r("back-button",e.onBack),children:"Change Input Type"}),f.jsx(Re,{...r("save-button",e.onSave),children:e.closeButtonText})]})}function Upe(e){const{register:t}=zn({onBackspace:e.onBack});return f.jsxs(f.Fragment,{children:[f.jsx(Re,{...t("singstar-mics",()=>e.changePreference("singstar-mics")),children:"SingStar microphones"}),f.jsx(Re,{...t("different-mics-button",()=>e.changePreference("different-mics")),children:"Multiple different microphones"}),f.jsx("hr",{}),f.jsx(Re,{...t("back-button",e.onBack),children:"Change Input Type"})]})}function Hpe(e){var s,o;Eh(2);const{register:t}=zn({onBackspace:e.onBack});xN();const n=mi([ee.inputListChanged,ee.playerInputChanged,ee.playerRemoved],()=>Me.getInputs().map(a=>a.source==="Remote Microphone"?a:null).map(a=>a?wo.getInputForPlayerSelected(a):null)),r=()=>{e.onSave()},i=!!((s=n[0])!=null&&s.label)&&!!((o=n[1])!=null&&o.label);return A.useEffect(()=>{e.onSetupComplete(i)},[i]),f.jsxs(f.Fragment,{children:[f.jsx(fw,{}),f.jsx("h4",{children:"You can connect multiple phones in advance."}),f.jsx("h4",{children:"You will be able to connect phones later."}),f.jsx(nE,{}),f.jsx(Re,{...t("back-button",e.onBack),children:"Change Input Type"}),f.jsx(Re,{...t("save-button",r,void 0,!0),children:e.closeButtonText})]})}function Gpe(e){Eh(2);const{register:t}=zn({onBackspace:e.onBack}),{Microphone:n}=vv(!0,"Microphone"),[r,i]=A.useState(!1),s=mi([ee.playerInputChanged,ee.inputListChanged],()=>{const c=Me.getInputs(),u=[...new Set(c.map(p=>p.deviceId))].length===1,d=!c.find(p=>p.source!=="Microphone"),h=!c.find(p=>{var g;return((g=wo.getInputForPlayerSelected(p))==null?void 0:g.preferred)===void 0});return u&&d&&h});A.useEffect(()=>(s&&pn.startMonitoring(),()=>{pn.stopMonitoring()}),[s]);const o=()=>{e.onSave()},[a,l]=A.useState(!1);return Vr(ee.inputListChanged,c=>{const u=n.list.filter(d=>d.preferred!==void 0);u.length===2&&u[0].deviceId===u[1].deviceId&&u.forEach(d=>{var h;(h=Me.getPlayer(d.preferred))==null||h.changeInput(yo.inputName,d.channel,d.deviceId)}),c||l(!0)}),A.useEffect(()=>{e.onSetupComplete(s)},[s]),A.useEffect(()=>{if(s)i(!1);else{const c=setTimeout(()=>i(!0),2500);return()=>clearTimeout(c)}},[s]),f.jsxs(f.Fragment,{children:[f.jsxs(_h,{fallback:f.jsx("h2",{children:"Please allow access to the microphone so we can find SingStar ones."}),children:[!s&&f.jsxs(f.Fragment,{children:[f.jsxs("h3",{children:[f.jsx(Sh,{size:"0.85em"})," Connect your SingStar microphones."]}),f.jsx("h4",{"data-test":"setup-not-completed",children:"It can take a couple of seconds to detect after you connect them."}),a&&f.jsx("h4",{children:f.jsxs("h4",{"data-test":"list-change-info",children:["Available microphones list has changed, but no SingStar mics were found. Try"," ",f.jsx("button",{onClick:()=>e.changePreference("advanced"),children:"Advanced"})," setup."]})}),r&&f.jsxs(f.Fragment,{children:[!a&&f.jsxs(PR,{"data-test":"advanced-tip",children:["If they don't get detected, try"," ",f.jsx("button",{onClick:()=>e.changePreference("advanced"),children:"Advanced"})," section in the previous menu."]}),Fw()&&AN()&&f.jsxs(PR,{children:[f.jsx("strong",{children:"Chrome"})," is known for not handling SingStar mics well. If you notice any problems, try using an alternative browser (eg. ",f.jsx("strong",{children:"MS Edge"})," or ",f.jsx("strong",{children:"Firefox"}),")"]})]})]}),s&&f.jsxs(f.Fragment,{children:[f.jsxs("h2",{"data-test":"setup-completed",children:[f.jsx("strong",{children:"SingStar"})," microphone connected!"]}),f.jsx(nE,{names:["Blue","Red"]})]})]}),f.jsx(Re,{...t("back-button",e.onBack),children:"Change Input Type"}),f.jsx(Re,{...t("save-button",o,void 0,!0,{disabled:!s}),"data-test":"save-button",children:e.closeButtonText})]})}const PR=C("h4",{target:"ejfctyg0"})({name:"3v8j4h",styles:"background:darkred;padding:1rem"});function qpe(e){return A.useEffect(()=>{e.onSave()},[]),null}const EN="Previously selected input type",Wpe=je.local.getItem(EN);function rE({onFinish:e,closeButtonText:t,playerNames:n,onBack:r,skipText:i,smooth:s=!0}){const[o,a]=$e(Nb),[l,c]=A.useState(o==="skip"?null:o),[u,d]=A.useState(!1);A.useEffect(()=>{const m=pn.monitoringStarted();return pn.startMonitoring(),()=>{!m&&pn.stopMonitoring()}},[]);const h=(...m)=>{s?Ff(()=>{ju.flushSync(()=>{c(...m)})}):c(...m)},p=m=>()=>{a(m==="skip"?o??"skip":m),m&&(je.local.setItem(EN,m),Vn.capture("sourcePreferenceSet",{source:m})),e==null||e(m)},g=()=>{Ff(()=>{c(null),d(!1)})};return f.jsxs(f.Fragment,{children:[f.jsx(rpe,{children:u?f.jsxs(f.Fragment,{children:[f.jsx(spe,{})," Setup completed!"]}):"How do you want to sing?"}),(l===null||l==="skip")&&f.jsx(Ape,{onPreferenceSelected:h,previouslySelected:Wpe,onBack:r,skipText:i}),l==="remoteMics"&&f.jsx(Hpe,{onSetupComplete:d,onBack:g,onSave:p("remoteMics"),closeButtonText:t,changePreference:c}),l==="multiple-mics"&&f.jsx(Upe,{onSetupComplete:d,onBack:g,closeButtonText:t,changePreference:c}),l==="singstar-mics"&&f.jsx(Gpe,{onSetupComplete:d,onBack:g,onSave:p("singstar-mics"),closeButtonText:t,changePreference:c}),l==="different-mics"&&f.jsx(zpe,{onSetupComplete:d,onBack:g,onSave:p("singstar-mics"),closeButtonText:t,changePreference:c}),l==="built-in"&&f.jsx(Npe,{onSetupComplete:d,onBack:g,onSave:p("built-in"),closeButtonText:t,changePreference:c}),l==="advanced"&&f.jsx(Cpe,{onSave:p("advanced"),onSetupComplete:d,onBack:g,closeButtonText:t,changePreference:c}),l==="skip"&&f.jsx(qpe,{onSetupComplete:d,onBack:g,onSave:p("skip"),closeButtonText:t,changePreference:c})]})}function Kpe(e){const t=Xr();return f.jsxs(Ia,{children:[f.jsx(yi,{children:f.jsx("title",{children:"Select Input | AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsx(rE,{onFinish:()=>t("menu/"),closeButtonText:"Go to main menu"})]})}const Ype=({error:e,resetError:t})=>f.jsxs(Ia,{supportedBrowsers:!0,children:[f.jsxs("h1",{children:[f.jsx(Fl,{fontSize:"large"})," An error occurred :("]}),"message"in e?f.jsxs(f.Fragment,{children:[f.jsx("h3",{children:"The game crashed with following error"}),f.jsx(Qpe,{children:e.message})]}):f.jsx("h3",{children:"The game crashed"}),f.jsxs("h3",{children:["Help fix it by reporting what exactly has happened at"," ",f.jsx("a",{href:"https://github.com/Asvarox/allkaraoke",target:"_blank",rel:"noreferrer",children:"GitHub"})," ","or"," ",f.jsx("a",{href:"https://www.facebook.com/allkaraoke.party",target:"_blank",rel:"noreferrer",children:"Facebook"})]}),f.jsx(Re,{onClick:t,children:"Reset Error"}),f.jsx("h4",{children:"If that doesn't help"}),f.jsx(Re,{onClick:()=>{var n;return global.location.href=(n=global.location)==null?void 0:n.origin},children:"Reload the game"}),f.jsx("h4",{children:"If that doesn't help"}),f.jsx(Re,{onClick:()=>{var n;global.confirm("Are you sure? It will delete all custom songs and scores. Before doing that, try opening the game in an private window or another browser to make sure it will actually help")&&(je.session.clear(),je.local.clear(),Od.clear(),global.location.href=(n=global.location)==null?void 0:n.origin)},children:"Clear all data"})]}),Qpe=C("span",{target:"e10ztnls0"})({name:"1jmtlcm",styles:"color:white;font-family:monospace"});var Jpe={VITE_APP_SENTRY_DSN_URL:"https://66c6e940d24b4096a277f350571921bb@o366978.ingest.sentry.io/6174734",VITE_APP_POSTHOG_KEY:"phc_bw7XLoONmtGVezmMKTvcwk3lj37jzxTfisqzjlJ0Jik",VITE_APP_BACKEND_HOST:"backend.allkaraoke.party",VITE_APP_WEBSOCKET_URL:"wss://backend.allkaraoke.party",VITE_APP_SENTRY_TUNNEL:"https://backend.allkaraoke.party/sentry",VITE_APP_POSTHOG_PROXY:"https://backend.allkaraoke.party/posthog",VITE_APP_SONG_CONVERT_PROXY:"https://backend.allkaraoke.party/proxy",VITE_CJS_IGNORE_WARNING:"true",VITE_APP_PRERENDER:"true",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};function Xpe(e){Ra(!1);const t=xh();return A.useEffect(()=>{if(t.data){const n={};(async()=>{for(const r of t.data){if(r.realBpm)continue;const i=[`lookup=song:${encodeURIComponent(r.title)}+artist:${encodeURIComponent(r.artist)}`,"type=both",`api_key=${Jpe.VITE_APP_GET_SONG_BPM_API_TOKEN}`].join("&"),o=await(await fetch(`https://api.getsongbpm.com/search/?${i}`)).json();n[r.id]=Array.isArray(o.search)&&o.search[0]||null}console.log(n)})()}},[t.data]),f.jsx(f.Fragment,{children:"Copy resulting object to `scripts/scraped-bpm-data.json` file and run fillMetadata script"})}function Zpe(e){const t=Xr(),n=()=>t("menu/");return f.jsxs(f.Fragment,{children:[f.jsx(yi,{children:f.jsx("title",{children:"Select Languages | AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsx(Hw,{children:f.jsx(QL,{onClose:n,closeText:"Return to Main Menu"})})]})}function kN(){const[e]=$e(Db);A.useEffect(()=>{try{e&&document.body.requestFullscreen().catch(console.info)}catch{}},[])}let iA=0;function CN(){A.useEffect(()=>(document.body.classList.add("blockOverflow"),document.documentElement.classList.add("blockOverflow"),iA++,()=>{iA--,iA===0&&(document.body.classList.remove("blockOverflow"),document.documentElement.classList.remove("blockOverflow"))}),[])}var iE={},ege=ot;Object.defineProperty(iE,"__esModule",{value:!0});var TN=iE.default=void 0,tge=ege(ut()),nge=f;TN=iE.default=(0,tge.default)((0,nge.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2M7.5 18c-.83 0-1.5-.67-1.5-1.5S6.67 15 7.5 15s1.5.67 1.5 1.5S8.33 18 7.5 18m0-9C6.67 9 6 8.33 6 7.5S6.67 6 7.5 6 9 6.67 9 7.5 8.33 9 7.5 9m4.5 4.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m4.5 4.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m0-9c-.83 0-1.5-.67-1.5-1.5S15.67 6 16.5 6s1.5.67 1.5 1.5S17.33 9 16.5 9"}),"Casino");function rge({setFilters:e,filters:t,keyboardControl:n,visible:r,setVisible:i}){const s=A.useRef(null),[o,a]=A.useState(!1),l=h=>{e(p=>({...p,search:h}))};Ir("down",()=>{var h;(h=s.current)==null||h.blur()},{enabled:o,enableOnTags:["INPUT"]});const u=h=>{h.stopPropagation(),h.preventDefault(),l(h.key)};Ir(M1,h=>{u(h),i(!0)},{enabled:!t.search&&n});const d=A.useCallback(h=>{n&&l(h)},[n]);return Vr(ee.remoteSongSearch,d),Ir(M1,h=>{var p;u(h),(p=s.current)==null||p.focus()},{enabled:!o&&n},[t.search]),Ir("Backspace",h=>{var p;(p=s.current)==null||p.focus()},{enabled:!o&&n},[t.search]),A.useEffect(()=>{o||i(!!t.search)},[o,t.search,i]),!t.search&&!r?null:f.jsx(ige,{"data-test":"song-list-search",children:f.jsx(sge,{large:!0,children:f.jsx("form",{"data-test":"filters-search-form",onSubmit:h=>{var p;h.preventDefault(),(p=s.current)==null||p.blur()},children:f.jsx(zl,{onFocus:()=>a(!0),onBlur:()=>a(!1),onKeyDown:h=>{var p;h.key==="Backspace"&&((p=t.search)==null?void 0:p.length)===0&&i(!1)},focused:o,autoFocus:!0,label:"Search",value:t.search??"",onChange:l,ref:s,"data-test":"filters-search"})})})})}const ige=C("div",{target:"ektgxsz1"})({name:"t46wvs",styles:"background:rgba(0, 0, 0, 0.7);padding:2rem;font-size:3rem;box-sizing:border-box;display:flex;flex-direction:row;gap:2rem;position:fixed;z-index:200;top:4.5rem;left:30rem;right:30rem"}),sge=C("div",{target:"ektgxsz0"})("flex:",e=>e.large?1.5:1,";");function oge({onRandom:e,setFilters:t,filters:n,keyboardControl:r}){const[i,s]=A.useState(!1),o=()=>{t(a=>({...a,search:""}))};return f.jsxs(f.Fragment,{children:[f.jsxs(age,{children:[f.jsx(du,{title:"Search",place:"left",children:f.jsx(jR,{onClick:()=>i?o():s(!0),"data-test":"search-song-button",children:f.jsx(dv,{})})}),f.jsx(du,{title:"Pick random",place:"left",children:f.jsx(jR,{onClick:e,"data-test":"random-song-button",children:f.jsx(TN,{})})})]}),f.jsx(rge,{setFilters:t,filters:n,visible:i,setVisible:s,keyboardControl:r})]})}const jR=C(Cs,{target:"eie1eis1"})("box-shadow:inset 0 0 2px 2px ",pe.colors.text.active,";background:black;width:7.5rem;height:7.5rem;border-radius:50%;display:flex;align-items:center;justify-content:center;svg{width:4.5rem;height:4.5rem;}"),age=C("div",{target:"eie1eis0"})({name:"1x0sh4s",styles:"pointer-events:none;position:fixed;display:flex;flex-direction:column;align-items:center;justify-content:center;bottom:2.5rem;right:2.5rem;z-index:100;gap:2rem"});function IN({videoId:e,...t}){return f.jsx(dge,{src:`https://img.youtube.com/vi/${e}/default.jpg`,alt:`Thumbnail image for YouTube video ${e}`,...t})}function lge({videoId:e,...t}){const n=TJ(e)??e,[r,i]=A.useState(!0);A.useLayoutEffect(()=>{i(o=>!o)},[e]);const[s]=$e(Di);return s==="low"?null:f.jsxs(cge,{...t,children:[f.jsx(OR,{videoId:r?e:n,visible:r}),f.jsx(OR,{videoId:r?n:e,visible:!r}),f.jsx(uge,{videoId:n})]})}const cge=C("div",{target:"e1lv5ws3"})({name:"k44s62",styles:"position:relative;overflow:hidden;background:black"}),uge=C(IN,{target:"e1lv5ws2"})({name:"6dhm9o",styles:"visibility:hidden"}),OR=C(IN,{target:"e1lv5ws1"})("position:absolute;transition:opacity 300ms;opacity:",e=>e.visible?1:0,";"),dge=C("img",{target:"e1lv5ws0"})({name:"4uwt2b",styles:"width:100%;height:100%;object-fit:cover"});function fge(e,t,n="mousedown",r={}){wJ(n,i=>{const s=i.target;if(!s||!s.isConnected)return;(Array.isArray(e)?e.filter(a=>!!a.current).every(a=>a.current&&!a.current.contains(s)):e.current&&!e.current.contains(s))&&t(i)},void 0,r)}function hge({active:e,closePlaylist:t,playlists:n,selectedPlaylist:r,setSelectedPlaylist:i}){const{register:s,focused:o,focusElement:a}=zn({enabled:e,additionalHelp:{vertical:void 0,"horizontal-vertical":null}}),l=A.useRef(null);return fge(l,()=>{t()}),Bl({left:()=>t("left"),right:()=>t("right")},e),A.useEffect(()=>{var u;const c=new URLSearchParams((u=global.location)==null?void 0:u.search).get("playlist");c&&a(`playlist-${c}`)},[]),A.useEffect(()=>{var c;if(o){const u=n.find(d=>`playlist-${d.name}`===o);if(u){const d=new URL((c=global.location)==null?void 0:c.href);d.searchParams.set("playlist",u.name),global.history.replaceState(null,"",d.toString()),i(u.name)}}},[o,n]),f.jsx(pge,{"data-test":"song-list-playlists",active:e,ref:l,children:n.map(({Wrapper:c,...u})=>{const d=f.jsx(gge,{"data-selected":`playlist-${u.name}`===o,"data-active":e,...s(`playlist-${u.name}`,()=>a(`playlist-${u.name}`),void 0,u.name===r),children:u.display??u.name},u.name);return c?f.jsx(c,{active:e,focused:`playlist-${u.name}`===o,children:d},u.name):d})})}const pge=C("div",{target:"emspgv91"})("background:rgba(0, 0, 0, ",e=>e.active?.75:.5,");width:100vh;height:var(--song-sidebar-weight);transform-origin:top right;transform:rotate(-90deg);position:absolute;z-index:200;left:-100vh;top:0;box-sizing:border-box;display:flex;flex-direction:row-reverse;gap:0;h2{",De,";margin:0;}"),gge=C(Cs,{target:"emspgv90"})("font-size:2.3rem;justify-self:stretch;flex-grow:1;&[data-focused='false'][data-active='true']{background-color:transparent;}&[data-selected='true']{",pJ,";}&[data-selected='false'][data-active='false']{opacity:0.75;}padding:1.5rem 1rem;"),sE=e=>{const[t,n]=A.useState(null),r=Jc(e),i=async()=>{n(await Kj(e))};return A.useEffect(()=>{i()},[r]),Vr(ee.songStatStored,i),t},mge=e=>async(t,n,r,i)=>{const s=Jc(e),o=await Kj(e),a=o.scores.map(c=>{if(c.setup.id!==t)return c;const u=c.scores.map(d=>d.name!==r||d.score!==n?d:{name:i.trim(),score:n});return{...c,scores:u}}),l={...o,scores:a};await Yj(e,l),ee.songScoreUpdated.dispatch(s,l,i.trim())},vge=JSON.parse(`{
  "af": [
    "Persian Dari",
    "Pashto"
  ],
  "al": [
    "Albanian"
  ],
  "dz": [
    "Arabic",
    "Berber"
  ],
  "ad": [
    "Catalan"
  ],
  "ao": [
    "Portuguese"
  ],
  "ag": [
    "English"
  ],
  "ar": [
    "Spanish"
  ],
  "am": [
    "Armenian"
  ],
  "au": [
    "English"
  ],
  "at": [
    "German"
  ],
  "az": [
    "Azerbaijani"
  ],
  "bs": [
    "English"
  ],
  "bh": [
    "Arabic"
  ],
  "bd": [
    "Bengali"
  ],
  "bb": [
    "English"
  ],
  "by": [
    "Belarusian",
    "Russian"
  ],
  "be": [
    "Dutch",
    "French",
    "German"
  ],
  "bz": [
    "English"
  ],
  "dy": [
    "French"
  ],
  "bt": [
    "Dzongkha"
  ],
  "bo": [
    "Spanish",
    "Aymara",
    "Araona",
    "Baure",
    "Bsiro Chiquitano",
    "Canichana",
    "Cavinea",
    "Cayubaba",
    "Chcobo",
    "Chimn",
    "Ese Ejja",
    "Guaran",
    "Guarasuwe",
    "Guarayu",
    "Itonama",
    "Leco",
    "Machajuyai",
    "Machineri",
    "Maropa",
    "Mojeo",
    "Mojeo",
    "Mor",
    "Mosetn",
    "Movima",
    "Pacawara",
    "Puquina",
    "Quechua",
    "Sirion",
    "Tacana",
    "Tapiet",
    "Toromona",
    "Uru-Chipaya",
    "Weenhayek",
    "Yaminawa",
    "Yuki",
    "Yuracar",
    "Zamuco"
  ],
  "ba": [
    "Bosnian",
      "Croatian",
      "Serbian"
  ],
  "bw": [
    "English"
  ],
  "br": [
    "Portuguese"
  ],
  "bn": [
    "Malay"
  ],
  "bg": [
    "Bulgarian"
  ],
  "hv": [
    "French"
  ],
  "bi": [
    "French",
    "Kirundi",
    "English"
  ],
  "kh": [
    "Khmer"
  ],
  "cm": [
    "English",
    "French"
  ],
  "ca": [
    "English",
    "French"
  ],
  "cv": [
    "Portuguese"
  ],
  "cf": [
    "French",
    "Sango"
  ],
  "td": [
    "Arabic",
    "French"
  ],
  "cl": [
    "Spanish"
  ],
  "cn": [
    "Chinese"
  ],
  "cx": [
    "English",
    "Chinese",
    "Malay"
  ],
  "cc": [
    "English",
    "Cocos Malay"
  ],
  "co": [
    "Spanish"
  ],
  "km": [
    "Arabic",
    "Comorian",
    "French"
  ],
  "cd": [
    "French"
  ],
  "cg": [
    "French"
  ],
  "ck": [
    "English",
    "Cook Islands Mori"
  ],
  "cr": [
    "Spanish"
  ],
  "hr": [
    "Croatian"
  ],
  "cu": [
    "Spanish"
  ],
  "cy": [
    "Turkish"
  ],
  "cz": [
    "Czech",
    "Slovak"
  ],
  "dk": [
    "Danish"
  ],
  "dj": [
    "Arabic",
    "French"
  ],
  "dm": [
    "English"
  ],
  "do": [
    "Spanish"
  ],
  "tl": [
    "Portuguese",
    "Tetum"
  ],
  "ec": [
    "Spanish",
    "Quechua"
  ],
  "eg": [
    "Arabic"
  ],
  "sv": [
    "Spanish"
  ],
  "gq": [
    "French",
    "Portuguese",
    "Spanish"
  ],
  "er": [
    "Tigrinya"
  ],
  "ee": [
    "Estonian"
  ],
  "sz": [
    "English",
    "Swazi"
  ],
  "et": [
    "Afar",
    "Amharic",
    "Oromo",
    "Somali",
    "Tigrinya"
  ],
  "fj": [
    "English",
    "Fijian",
    "Fiji Hindi"
  ],
  "fi": [
    "Finnish",
    "Swedish"
  ],
  "fx": [
    "French"
  ],
  "ga": [
    "French"
  ],
  "gm": [
    "English"
  ],
  "ge": [
    "Ossetian",
    "Russian"
  ],
  "de": [
    "German"
  ],
  "gh": [
    "English"
  ],
  "gr": [
    "Greek"
  ],
  "gd": [
    "English"
  ],
  "gt": [
    "Spanish"
  ],
  "gn": [
    "French"
  ],
  "gw": [
    "Portuguese"
  ],
  "gy": [
    "English"
  ],
  "ht": [
    "French",
    "Creole"
  ],
  "hn": [
    "Spanish"
  ],
  "hu": [
    "Hungarian"
  ],
  "is": [
    "Icelandic"
  ],
  "in": [
    "Hindi",
    "English"
  ],
  "id": [
    "Indonesian"
  ],
  "ir": [
    "Persian"
  ],
  "iq": [
    "Arabic",
    "Kurdish"
  ],
  "ie": [
    "Irish",
    "English"
  ],
  "il": [
    "Hebrew"
  ],
  "it": [
    "Italian"
  ],
  "ci": [
    "French"
  ],
  "jm": [
    "English"
  ],
  "jp": [
    "Japanese"
  ],
  "jo": [
    "Arabic"
  ],
  "kz": [
    "Kazakh",
    "Russian"
  ],
  "ke": [
    "English",
    "Swahili"
  ],
  "ki": [
    "English",
    "Gilbertese"
  ],
  "kp": [
    "Korean"
  ],
  "kr": [
    "Korean"
  ],
  "xk": [
    "Albanian",
    "Serbian"
  ],
  "kw": [
    "Arabic"
  ],
  "kg": [
    "Kyrgyz",
    "Russian"
  ],
  "la": [
    "Lao"
  ],
  "lv": [
    "Latvian"
  ],
  "lb": [
    "Arabic"
  ],
  "ls": [
    "Sotho",
    "English"
  ],
  "lr": [
    "English"
  ],
  "ly": [
    "Arabic"
  ],
  "li": [
    "German"
  ],
  "lt": [
    "Lithuanian"
  ],
  "lu": [
    "French",
    "German",
    "Luxembourgish"
  ],
  "mg": [
    "French",
    "Malagasy"
  ],
  "mw": [
    "English",
    "Chichewa"
  ],
  "my": [
    "Malay"
  ],
  "mv": [
    "Dhivehi"
  ],
  "ml": [
    "Bambara",
    "Bobo",
    "Bozo",
    "Dogon",
    "Fula",
    "Hassaniya",
    "Kassonke",
    "Maninke",
    "Minyanka",
    "Senufo",
    "Songhay",
    "Soninke",
    "Tamasheq"
  ],
  "mt": [
    "Italian"
  ],
  "mh": [
    "English",
    "Marshallese"
  ],
  "mr": [
    "Arabic"
  ],
  "mu": [
    "English",
    "Morisien"
  ],
  "mx": [
    "Spanish"
  ],
  "fm": [
    "English"
  ],
  "md": [
    "Moldovan",
    "Russian",
    "Ukrainian"
  ],
  "mc": [
    "French"
  ],
  "mn": [
    "Mongolian"
  ],
  "me": [
    "Montenegrin"
  ],
  "ma": [
    "Arabic",
    "Berber"
  ],
  "mz": [
    "Portuguese"
  ],
  "mm": [
    "Burmese"
  ],
  "na": [
    "English"
  ],
  "nr": [
    "English",
    "Nauruan"
  ],
  "np": [
    "Nepali"
  ],
  "nl": [
    "Dutch"
  ],
  "nz": [
    "English",
    "Maori"
  ],
  "ni": [
    "Spanish"
  ],
  "ne": [
    "French"
  ],
  "ng": [
    "English"
  ],
  "nu": [
    "English",
    "Niuean"
  ],
  "nf": [
    "English",
    "Norfuk"
  ],
  "mk": [
    "Macedonian",
    "Albanian"
  ],
  "no": [
    "Norwegian",
    "Sami"
  ],
  "om": [
    "Arabic"
  ],
  "pk": [
    "Urdu",
    "English"
  ],
  "pw": [
    "English",
    "Palauan"
  ],
  "ps": [
    "Arabic"
  ],
  "pa": [
    "Spanish"
  ],
  "pg": [
    "English",
    "Hiri Motu",
    "Tok Pisin"
  ],
  "py": [
    "Spanish",
    "Guaran"
  ],
  "pe": [
    "Spanish",
    "Quechua",
    "Aymara",
    "Ashninka"
  ],
  "ph": [
    "Filipino",
    "English"
  ],
  "pl": [
    "Polish"
  ],
  "pt": [
    "Portuguese"
  ],
  "qa": [
    "Arabic"
  ],
  "ro": [
    "Romanian"
  ],
  "su": [
    "Russian"
  ],
  "rw": [
    "English",
    "French",
    "Kinyarwanda",
    "Swahili"
  ],
  "eh": [
    "Arabic"
  ],
  "kn": [
    "English"
  ],
  "lc": [
    "English"
  ],
  "vc": [
    "English"
  ],
  "ws": [
    "English",
    "Samoan"
  ],
  "sm": [
    "Italian"
  ],
  "st": [
    "Portuguese"
  ],
  "sa": [
    "Arabic"
  ],
  "sn": [
    "French"
  ],
  "yu": [
    "Serbian"
  ],
  "sc": [
    "English",
    "French",
    "Creole"
  ],
  "sl": [
    "English"
  ],
  "sg": [
    "English",
    "Malay",
    "Chinese",
    "Tamil"
  ],
  "sk": [
    "Slovak"
  ],
  "si": [
    "Slovene"
  ],
  "sb": [
    "English"
  ],
  "so": [
    "Arabic",
    "English",
    "Somali"
  ],
  "za": [
    "Afrikaans",
    "English",
    "Ndebele",
    "Sotho",
    "Swazi",
    "Tsonga",
    "Tswana",
    "Venda",
    "Xhosa",
    "Zulu"
  ],
  "ss": [
    "English"
  ],
  "es": [
    "Spanish"
  ],
  "lk": [
    "Sinhala",
    "Tamil"
  ],
  "sd": [
    "Arabic",
    "English"
  ],
  "sr": [
    "Dutch"
  ],
  "se": [
    "Swedish"
  ],
  "ch": [
    "French",
    "German",
    "Italian",
    "Romansh"
  ],
  "sy": [
    "Arabic"
  ],
  "tw": [
    "Chinese"
  ],
  "tj": [
    "Tajik"
  ],
  "tz": [
    "Swahili",
    "English"
  ],
  "th": [
    "Thai"
  ],
  "tg": [
    "French"
  ],
  "tk": [
    "English",
    "Tokelauan"
  ],
  "to": [
    "English",
    "Tongan"
  ],
  "tt": [
    "English"
  ],
  "tn": [
    "Arabic"
  ],
  "tr": [
    "Turkish"
  ],
  "tm": [
    "Turkmen"
  ],
  "tv": [
    "Tuvaluan",
    "English"
  ],
  "ug": [
    "English",
    "Swahili"
  ],
  "ua": [
    "Ukrainian"
  ],
  "ae": [
    "Arabic"
  ],
  "uk": [
    "English"
  ],
  "us": [
    "English"
  ],
  "uy": [
    "Spanish"
  ],
  "uz": [
    "Uzbek"
  ],
  "vu": [
    "English",
    "French",
    "Bislama"
  ],
  "va": [
    "Italian"
  ],
  "ve": [
    "Spanish"
  ],
  "vn": [
    "Vietnamese"
  ],
  "ye": [
    "Arabic"
  ],
  "zm": [
    "English"
  ],
  "zw": [
    "Chewa",
    "Chibarwe",
    "English",
    "Kalanga",
    "Khoisan",
    "Nambya",
    "Ndau",
    "Ndebele",
    "Shangani",
    "Shona",
    "Sotho",
    "Tonga",
    "Tswana",
    "Venda",
    "Xhosa"
  ]
}`),yge=["US","GB"];function Age({song:e,forceFlag:t,...n}){const r=e.language[0],i=A.useMemo(()=>{var s;return e.artistOrigin?((s=vge[e.artistOrigin.toLowerCase()])==null?void 0:s.includes(r))??t:!1},[e.artistOrigin,r,t]);return f.jsx(f.Fragment,{children:t&&e.artistOrigin?f.jsx($c,{isocode:e.artistOrigin,...n}):i&&!yge.includes(e.artistOrigin)?f.jsx($c,{isocode:e.artistOrigin,...n}):e.language[0]!=="English"?f.jsx($c,{language:e.language,...n}):null})}var oE={},_ge=ot;Object.defineProperty(oE,"__esModule",{value:!0});var RN=oE.default=void 0,bge=_ge(ut()),Sge=f;RN=oE.default=(0,bge.default)((0,Sge.jsx)("path",{d:"M7.25 12.5 4.75 9H3.5v6h1.25v-3.5L7.3 15h1.2V9H7.25zM9.5 15h4v-1.25H11v-1.11h2.5v-1.26H11v-1.12h2.5V9h-4zm9.75-6v4.5h-1.12V9.99h-1.25v3.52h-1.13V9H14.5v5c0 .55.45 1 1 1h4c.55 0 1-.45 1-1V9z"}),"FiberNewOutlined");var aE={},xge=ot;Object.defineProperty(aE,"__esModule",{value:!0});var MN=aE.default=void 0,wge=xge(ut()),Ege=f;MN=aE.default=(0,wge.default)((0,Ege.jsx)("path",{d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star");function kge(e){return yl(e.edition??"").startsWith("esc")}const PN="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20width='125.33'%20height='131.46'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:cc='http://creativecommons.org/ns%23'%20xmlns:dc='http://purl.org/dc/elements/1.1/'%20xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23'%3e%3cpath%20stroke='black'%20fill='white'%20d='m12.726%2058.556c0.31803-28.513%2015.157-37.437%2023.237-37.437%2011.285%200%2015.946%208.6151%2016.707%2012.429%200.76116%203.8111%205.0324%206.8595%206.4047%200.60798%201.3734-6.2515%2014.649-25.315%2030.966-25.315%2014.943%200%2020.119%2015.41%2019.671%2028.518-1.2228%2035.683-47.19%2064.158-53.239%2082.143-5.3875-10.891-44.126-26.634-43.746-60.946zm82.652-58.556c-13.42%200-29.29%209.9111-38.896%2026.382-2.592-5.9483-11.827-12.43-22.805-12.43-8.8462%200-33.676%2011.056-33.676%2046.74%200%2046.052%2046.593%2055.508%2056.011%2069.825%200.64721%200.98433%202.7319%201.728%203.5276-0.62388%207.5157-22.18%2065.791-47.242%2065.791-92.379-5.3e-4%20-25.314-16.536-37.513-29.955-37.513z'%20stroke-width='.53006'/%3e%3c/svg%3e",Cge=e=>f.jsxs(Ige,{children:[e.song.tracksCount>1&&f.jsxs(Mge,{"data-test":"multitrack-indicator",children:[f.jsx(Yd,{}),"  Duet"]}),f.jsx(Tge,{song:e.song,isPopular:e.isPopular,focused:!!e.video})]}),Tge=({song:e,isPopular:t,focused:n})=>{var l,c,u,d;const r=A.useMemo(()=>Cm.recentlyUpdated([e]).length>0,[e]),i=kge(e),s=sE(e),o=((c=(l=s==null?void 0:s.scores)==null?void 0:l.at(-1))==null?void 0:c.date)??!1,a=o&&gs(o).isAfter(gs().subtract(1,"days"));return s!=null&&s.plays?f.jsx(ON,{"data-test":"song-stat-indicator",children:a?"Played today":f.jsx(f.Fragment,{children:n?f.jsxs(f.Fragment,{children:["Played ",s.plays," time",s.plays>1&&"s"]}):s.plays})}):i?f.jsxs(oA,{white:!0,children:[f.jsx(sA,{children:n?(u=e.edition)==null?void 0:u.replace("ESC","Eurovision"):(d=e.edition)==null?void 0:d.replace("ESC ","")}),f.jsx(Rge,{src:PN,alt:e.edition})]}):r?f.jsx(oA,{white:!0,children:n?f.jsx(sA,{children:"Added recently"}):f.jsx(RN,{})}):t&&e.language.includes("English")?f.jsx(f.Fragment,{children:f.jsxs(oA,{children:[n&&f.jsx(sA,{children:"Popular"}),f.jsx(MN,{})]})}):null},sA=C("div",{target:"enamf7r6"})({name:"eh2bdr",styles:"padding:0 0.5rem;line-height:0;margin-top:0.2rem;&+svg{margin-left:-0.25rem;}"}),Ige=C("div",{target:"enamf7r5"})({name:"67oilw",styles:"position:absolute;top:0.5rem;left:0;padding:0 0.5rem;box-sizing:border-box;display:flex;align-items:center;justify-content:flex-end;gap:0.5rem;width:100%"}),jN=C("div",{target:"enamf7r4"})({name:"1utw6sa",styles:"height:2.75rem;min-width:2.75rem;box-sizing:border-box;color:white;font-size:1.4rem;display:flex;align-items:center;justify-content:center;text-transform:uppercase;background:rgba(0, 0, 0, 0.75);border-radius:0.5rem"}),oA=C(jN,{target:"enamf7r3"})("overflow:hidden;display:flex;align-items:center;justify-content:center;svg,img{fill:",e=>e.white?"white":pe.colors.text.active,";width:2.5rem;height:2.5rem;}"),Rge=C("img",{target:"enamf7r2"})({name:"1pr315k",styles:"padding:0.35rem;margin:0 0.15rem 0 -0.35rem;box-sizing:border-box"}),ON=C(jN,{target:"enamf7r1"})({name:"2ycp6t",styles:"padding:0 1rem"}),Mge=C(ON,{target:"enamf7r0"})({name:"1k65tge",styles:"margin-right:auto;svg{width:1.75rem;height:1.75rem;}"}),VN=({song:e,focused:t,video:n,children:r,index:i,groupLetter:s,handleClick:o,isPopular:a,background:l=!0,forceFlag:c=!1,...u})=>{const d=u["data-expanded"]??!1,h=A.useCallback(()=>o?o(i,s):void 0,[o,i,s]),[p]=$e(Di);return f.jsxs(Oge,{...u,onClick:o?h:void 0,children:[l&&f.jsx(Vge,{style:{backgroundImage:`url('https://i3.ytimg.com/vi/${e.video}/hqdefault.jpg')`},"data-focused":d?!1:t,"data-expanded":u["data-expanded"],"data-graphic-setting":p}),f.jsxs(jge,{"data-expanded":d,children:[!d&&f.jsx(Cge,{song:e,isPopular:a,video:n}),f.jsx(lE,{"data-expanded":d,children:e.artist}),f.jsx(yv,{"data-expanded":d,children:e.title}),f.jsxs(LN,{"data-expanded":d,children:[d&&f.jsxs(f.Fragment,{children:[e.author&&f.jsxs(BN,{expanded:d,children:["by ",e.authorUrl?f.jsx("a",{href:e.authorUrl,target:"_blank",rel:"noreferrer",children:e.author}):e.author]}),f.jsx(Lge,{song:e})]}),!d&&f.jsx(Pge,{song:e,forceFlag:c})]})]}),r,n]})},Pge=C(Age,{target:"e1ornw2x8"})({name:"1152n88",styles:"height:2.75rem;object-fit:cover;border-top-right-radius:1rem;border-bottom-left-radius:1rem;position:absolute;z-index:-1;left:0rem;bottom:0rem;opacity:0.95"}),LN=C("div",{target:"e1ornw2x7"})({name:"1dgv8bf",styles:"display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-start"}),jge=C("div",{target:"e1ornw2x6"})({name:"cwmgde",styles:"width:100%;height:100%;display:flex;align-items:flex-end;justify-content:flex-end;z-index:1;box-sizing:border-box;flex-direction:column;&[data-expanded='true']{align-items:flex-start;justify-content:flex-start;}"}),Oge=C("div",{target:"e1ornw2x5"})({name:"1s4n252",styles:"font-size:4.5rem;display:flex;align-items:flex-end;justify-content:flex-end;flex-direction:column;box-sizing:border-box;position:relative;padding:0.5rem;border:0.1rem black solid;border-radius:1rem"}),Vge=C("div",{target:"e1ornw2x4"})({name:"10xrxr9",styles:"background-color:#2b2b2b;border-radius:1rem;&[data-expanded='true']{border-radius:0;}position:absolute;z-index:-1;inset:0;&[data-graphic-setting='high']{transition:300ms;&[data-focused='true']{background-size:100%;opacity:1;}&[data-focused='false']{background-size:110%;filter:grayscale(90%);opacity:0.8;}&[data-expanded='true']{filter:blur(10px);}}&[data-graphic-setting='low']{background-size:100%;opacity:0.6;&[data-focused='true']{opacity:1;}}background-position:center center"}),NN=C("span",{target:"e1ornw2x3"})("background:rgba(0, 0, 0, 0.7);width:auto;display:inline-block;padding:0.5rem;",De,";text-align:right;font-size:2.7rem;&[data-expanded='true']{font-size:6rem;}"),lE=C(NN,{target:"e1ornw2x2"})("color:",pe.colors.text.active,";"),yv=C(NN,{target:"e1ornw2x1"})("margin-top:",e=>e.expanded?"1.5rem":"0.5rem",";color:white;"),BN=C(yv,{target:"e1ornw2x0"})({name:"5twmqz",styles:"font-size:3rem;margin-top:3rem"}),Lge=({song:e})=>{const t=sE(e);return f.jsx(BN,{children:t!=null&&t.plays?`Played ${t.plays} time${t.plays>1?"s":""}`:"Never played yet"})};function Nge({groupedSongList:e,onScrollToGroup:t,container:n}){const[r,i]=A.useState([]);return A.useEffect(()=>{const s=new IntersectionObserver(a=>{a.forEach(l=>{const c=l.target.getAttribute("data-group-name");l.isIntersecting?i(u=>[...u,c]):i(u=>u.filter(d=>d!==c))})}),o=new MutationObserver(()=>{const a=document.querySelectorAll("[data-group-name]");s.disconnect(),i([]),a.forEach(l=>{s.observe(l)})});if(n)return o.observe(n,{childList:!0,subtree:!0}),()=>{o.disconnect(),i([]),s.disconnect()}},[e,n]),f.jsx(f.Fragment,{children:f.jsx(Bge,{children:e.map(s=>{const o=r.includes(s.name);return f.jsx(Dge,{onClick:()=>t(s),"data-active":o,"data-test":`group-navigation-${s.name}`,children:s.displayShort??s.name},s.name)})})})}const Bge=C("div",{target:"e131hflw1"})({name:"191ly3l",styles:"position:fixed;display:flex;flex-direction:row;align-items:center;justify-content:flex-start;top:0;left:var(--song-sidebar-weight);padding:1rem 0 1.5rem 2rem;width:100%;z-index:100;gap:1rem;background:rgba(0, 0, 0, 0.75)"}),Dge=C(Cs,{target:"e131hflw0"})("border:none;cursor:pointer;",De,";display:inline-flex;align-items:center;justify-content:center;height:3.3rem;padding:0.5rem 1.25rem;font-size:2.3rem;z-index:1;color:",pe.colors.text.default,";&[data-active='true']{background:",pe.colors.text.active,";}&[data-active='false']{background:rgba(0, 0, 0, 0.7);}"),VR={[Mr.DUEL]:"Duel",[Mr.PASS_THE_MIC]:"Pass The Mic",[Mr.CO_OP]:"Cooperation"},aA=["Hard","Medium","Easy"],$ge=xw("song_settings-game_mode-v3"),Fge=xw("song_settings-tolerance-v2");function zge({songPreview:e,onNextStep:t,keyboardControl:n,onExitKeyboardControl:r}){const[i,s]=$ge(null),o=i??(e.tracksCount>1?Mr.CO_OP:Mr.DUEL),[a,l]=Fge(1),c=()=>{const p={id:Fg(),players:[],mode:o,tolerance:a+1};t(p)},u=()=>{s(ul(Object.values(Mr),o))},d=()=>l(p=>bh(aA,p,-1)),{register:h}=zn({enabled:n,onBackspace:r});return f.jsxs(f.Fragment,{children:[f.jsx(LR,{...h("difficulty-setting",d,"Change difficulty"),label:"Difficulty",value:aA[a],"data-test-value":aA[a]}),f.jsx(LR,{...h("game-mode-setting",u,"Change mode"),label:"Mode",value:VR[o],"data-test-value":VR[o]}),f.jsxs(Hge,{children:[o===Mr.DUEL&&"Face off against each other - person that earns more points wins.",o===Mr.CO_OP&&"Join forces and sing together - your points will be added up to a single pool.",o===Mr.PASS_THE_MIC&&f.jsxs(f.Fragment,{children:["For more than 2 players - split into groups and pass the microphone within the group when prompted with"," ",f.jsx(fv,{})," symbol."]})]}),f.jsx(Uge,{...h("next-step-button",c,void 0,!0),children:"Next ➤"})]})}const Uge=C(Cs,{target:"ews4mmz2"})({name:"sr8dp2",styles:"padding:0.5rem 9rem;font-size:4.3rem;width:50rem"}),Hge=C("h3",{target:"ews4mmz1"})({name:"rdh6te",styles:"max-width:50rem;margin:-1rem 0 1rem!important;padding:1.5rem;background:rgba(0, 0, 0, 0.7);box-sizing:border-box"}),LR=C(ai,{target:"ews4mmz0"})({name:"1tcj19k",styles:"font-size:4.3rem;padding:1rem;min-width:50rem;box-sizing:border-box"});function Gge(){const t=mi(ee.playerInputChanged,()=>Me.getInputs()).some(o=>o.source==="Microphone"),n=A.useRef([]),r=A.useCallback(o=>{n.current.push(o)},[]);_pe(0,50,r);const[i,s]=A.useState(!1);return A.useEffect(()=>{const o=setInterval(()=>{const a=n.current.filter(([,h])=>h===0),l=n.current.filter(([,h])=>h>0),c=a.reduce((h,[p])=>h+p,0)/(a.length+1),u=l.reduce((h,[p])=>h+p,0)/(l.length+1),d=l.length>a.length*.1&&u>.01&&c>.01&&u-c<c/2;s(d),n.current.length=0},i?5e3:2500);return()=>clearInterval(o)},[i]),f.jsxs(qge,{visible:i,children:[f.jsxs("h2",{children:[f.jsx("strong",{children:f.jsx(Fl,{})})," ","Noise detected"]}),f.jsx("hr",{}),f.jsxs("h4",{children:["This might make singing inaccurate. Make sure your microphone doesn't pick up the music."," ",t&&f.jsxs(f.Fragment,{children:["Alternatively, use your ",f.jsx("strong",{children:"smartphone as a microphone"})," instead."]})]})]})}const qge=C("div",{target:"e1liv9270"})("opacity:",e=>e.visible?1:0,";transition:300ms;background:rgba(0, 0, 0, 0.75);padding:1rem;max-width:50rem;position:relative;top:-1rem;left:-0.5rem;"),DN=(e,t=333,n)=>{const[r,i]=A.useState("ok");return A.useEffect(()=>{const s=setInterval(()=>{i(pn.getInputStatus(e))},t);return()=>{clearInterval(s)}},[e,t,n]),r},$N=e=>{const[t,n]=A.useState(null);return A.useEffect(()=>{const r=setInterval(()=>{const i=Ze.getRemoteMicById(e??"");n(i?i.getLatency():null)},1e3);return()=>{clearInterval(r)}},[e]),t};function FN({playerNumber:e,...t}){var r,i;const n=$N((i=(r=Me.getPlayer(e))==null?void 0:r.input)==null?void 0:i.deviceId);return f.jsx(f.Fragment,{children:n!==null?f.jsxs(Wge,{...t,children:[n,"ms"]}):""})}const Wge=C("span",{target:"e10sf0140"})({name:"1wwatg0",styles:"position:absolute;right:4rem;bottom:0.5rem;font-size:1.75rem"});function zN({status:e,tooltipPosition:t="end",...n}){return f.jsxs(Kge,{...n,children:[e==="ok"?f.jsx(Yge,{"data-test":"status-ok"}):e==="unavailable"?f.jsx(Qge,{"data-test":"status-unavailable"}):f.jsx(Jge,{"data-test":"status-unstable"}),e==="unavailable"?f.jsx(NR,{position:t,children:f.jsxs("span",{children:["The device is ",f.jsx("strong",{children:"disconnected"}),". Reconnect it, please."]})}):e==="unstable"?f.jsx(NR,{position:t,children:f.jsxs("span",{children:["The connection seems ",f.jsx("strong",{children:"unstable"}),". Connect to the same Wifi."]})}):null]})}const Kge=C("span",{target:"etoberq4"})({name:"186aqlb",styles:"position:absolute;right:0.5rem;top:0.5rem;font-size:3rem;z-index:10;svg{width:3rem;height:3rem;text-shadow:black;}"}),Yge=C("div",{target:"etoberq3"})({name:"1jjo9fl",styles:"margin:0.15rem;width:2.7rem;height:2.7rem;display:inline-block;background:#ffffff;border:1px solid black;border-radius:50%"}),Qge=C(tE,{target:"etoberq2"})({name:"f0g68e",styles:"fill:#ff0000"}),Jge=C(Fl,{target:"etoberq1"})({name:"w492oh",styles:"fill:#f89400;stroke:black"}),NR=C("div",{target:"etoberq0"})(De,";position:absolute;left:",e=>e.position==="end"?"100%":"auto",";right:",e=>e.position==="end"?"auto":"150%",";top:-0.5rem;font-size:1.5rem;height:100%;display:flex;align-items:center;width:25rem;background:rgba(0, 0, 0, 0.75);padding:0.5rem;margin-left:2rem;");function UN({player:e}){const t=DN(e.number);return f.jsxs(Xge,{"data-test":`indicator-player-${e.number}`,children:[f.jsx(FN,{playerNumber:e.number}),f.jsx(zN,{status:t}),t!=="unavailable"&&f.jsx(Xw,{playerNumber:e.number}),f.jsx(Zge,{className:"ph-no-capture",children:e.getName()})]},e.number)}const Xge=C("div",{target:"e17xkp2e1"})({name:"1gmoqr1",styles:"position:relative;border:0.1rem solid white;padding:1rem 3rem;background:black;width:80%;text-align:center;gap:1.25rem;font-size:2.3rem;color:white;-webkit-text-stroke:1px black"}),Zge=C("span",{target:"e17xkp2e0"})({name:"179t5g5",styles:"position:relative;z-index:1"});function eme(e){eo(ee.playerNameChanged),A.useEffect(()=>{pn.startMonitoring()},[]);const n=mi(ee.playerInputChanged,()=>Me.getInputs()).some(r=>r.source!=="Dummy");return f.jsxs(tme,{...e,children:[f.jsxs(nme,{children:["Microphone Check",n?Me.getPlayers().map(r=>f.jsx(UN,{player:r},r.number)):f.jsxs(f.Fragment,{children:[f.jsx(rme,{children:"Mic not setup"}),f.jsx("h4",{children:"Singing will be emulated"}),f.jsx("h5",{children:"You can setup in the Next step"})]})]}),f.jsx(Gge,{})]})}const tme=C("div",{target:"egp8knc2"})("display:flex;font-size:3rem;",De,";margin-bottom:8.6rem;gap:3.5rem;"),nme=C("div",{target:"egp8knc1"})({name:"fmwdml",styles:"gap:1.25rem;display:flex;flex-direction:column;align-items:center"}),rme=C("div",{target:"egp8knc0"})({name:"1x5xnlp",styles:"position:relative;border:0.1rem solid white;padding:1rem 3rem;background:black;width:80%;text-align:center;gap:1.25rem;font-size:2.3rem;color:white"});function HN({onClose:e,closeButtonText:t}){return f.jsx(Ou,{onClose:e,children:f.jsx(Ts,{children:f.jsx(rE,{smooth:!1,onBack:e,onFinish:e,closeButtonText:t,skipText:"Back"})})})}const GN=A.forwardRef(({options:e,focused:t,label:n,value:r,onChange:i,disabled:s,placeholder:o,keyboardNavigationChangeFocus:a,onBlur:l,className:c,...u},d)=>{const h=A.useRef(null);A.useImperativeHandle(d,()=>h.current);const p=A.useRef(null),[g,m]=A.useState(!1),[_,v]=A.useState(-1),y=A.useMemo(()=>e.filter(b=>b.toLowerCase().trim().includes(r.toLowerCase().trim())&&b!==r),[e,r]),S=b=>{var w,E,T;if(b.code==="ArrowUp"||b.code==="ArrowDown")if(y.length){b.preventDefault();const $=bh(y,_,b.code==="ArrowUp"?-1:1);v($);const N=(w=p.current)==null?void 0:w.querySelector(`[data-index="${$}"]`);N==null||N.scrollIntoView({behavior:"smooth",block:"center"})}else(E=h.current)==null||E.blur(),a==null||a(b.code==="ArrowUp"?-1:1);else if(b.code==="Enter"){const $=y[_];$?(v(-1),i($)):(T=h.current)==null||T.blur()}},x=()=>{setTimeout(()=>{m(!1),l==null||l()},300)};return f.jsxs(ime,{className:c,children:[f.jsx(zl,{onFocus:()=>m(!0),onBlur:x,onKeyDown:S,onChange:i,value:r,focused:t,label:n,disabled:s,ref:h,placeholder:o,...u}),g&&!!y.length&&f.jsx(sme,{ref:p,role:"listbox",children:y.map((b,w)=>f.jsx(ome,{role:"listitem","data-index":w,"data-focused":w===_,"data-e2e-focused":w===_,focused:w===_,onClick:()=>{var E;i(b),v(-1),(E=h.current)==null||E.blur()},children:b},b))})]})}),ime=C("div",{target:"elw4n422"})({name:"bjn8wh",styles:"position:relative"}),sme=C("div",{target:"elw4n421"})("margin-top:0.1em;position:absolute;width:100%;background:black;max-height:",(1+2*.3)*4,"em;overflow-y:auto;z-index:2;"),ome=C("div",{target:"elw4n420"})(De,";padding:0.3em;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;color:",e=>e.focused?pe.colors.text.active:"white",";cursor:pointer;"),ame=(e,t)=>{var n;return((n=e[t])==null?void 0:n.name)??`Track ${t+1}`};function lme({multipleTracks:e,player:t,songPreview:n,playerNames:r,register:i,onChange:s,setup:o}){const[a,l]=A.useState(!1),c=A.useRef(null);if(eo(ee.playerNameChanged),t===void 0)return null;const u=()=>s({number:t.number,track:(o.track+1)%n.tracksCount}),d=g=>{l(!0),t.setName(g)},h=!a,p=t.getName();return f.jsxs(f.Fragment,{children:[f.jsx(cme,{maxLength:cS,className:"ph-no-capture",value:h?"":p,placeholder:h?p:void 0,options:r,onChange:d,label:"Name:",ref:c,...i(`player-${t.number}-name`,()=>{var g;return(g=c.current)==null?void 0:g.focus()})}),e&&f.jsx(ume,{...i(`player-${t.number}-track-setting`,u,"Change track"),label:"Track",value:ame(n.tracks,o.track),"data-test-value":o.track+1})]})}const cme=C(GN,{target:"euluv3p1"})("input{font-size:4.5rem;}[role='listbox']{max-height:",6*(4.5+.3),"rem;}"),ume=C(ai,{target:"euluv3p0"})({name:"1bwrnjg",styles:"font-size:4.5rem;padding:1.1rem"});function dme({songPreview:e,onNextStep:t,keyboardControl:n,onExitKeyboardControl:r}){const[i]=$e(pr),[s]=$e(Nb),o=Me.getPlayers(),a=!i&&o.length===2&&e.tracksCount>1,l=()=>o.map((x,b)=>({number:x.number,track:a?Math.min(b,e.tracksCount-1):0})),[c,u]=A.useState(l());Vr([ee.playerAdded,ee.playerRemoved],()=>u(l()));const d=o.map((x,b)=>c.find(w=>w.number===x.number)??l()[b]),h=A.useMemo(()=>JSON.parse(je.session.getItem(Xc))??[],[]),p=x=>b=>{u(w=>w.map(E=>E.number===x?b:E))},[g,m]=A.useState(!1);A.useEffect(()=>{g||pn.startMonitoring()},[g]);const{register:_,focusElement:v}=zn({enabled:n&&!g,onBackspace:r}),y=()=>{t(d)},S=!!s&&s!=="skip";return f.jsxs(f.Fragment,{children:[g&&f.jsx(HN,{closeButtonText:S?"Continue to the song":"Continue to player setup",onClose:()=>{m(!1),S&&v("play")}}),d.map((x,b)=>f.jsxs(fme,{children:[f.jsxs(hme,{children:["Player ",b+1]}),f.jsx("div",{children:f.jsx(lme,{multipleTracks:a,player:Me.getPlayer(x.number),setup:x,onChange:p(x.number),playerNames:h,register:_,songPreview:e})})]},x.number)),S&&f.jsx(BR,{..._("play-song-button",y,void 0,!0),children:"Play"}),f.jsx(BR,{..._("select-inputs-button",()=>m(!0),void 0,!1),children:"Setup mics"})]})}const fme=C("div",{target:"e12y59822"})({name:"ho1qnd",styles:"display:flex;flex-direction:row"}),BR=C(Cs,{target:"e12y59821"})({name:"afgxf2",styles:"padding:0.5rem 9rem;font-size:4.3rem"}),hme=C("span",{target:"e12y59820"})(De,";padding:1.3rem;font-size:4.5rem;");function pme({songPreview:e,onPlay:t,keyboardControl:n,onExitKeyboardControl:r}){const[i,s]=A.useState(null),[o,a]=A.useState("song"),l=u=>{s(u),a("players")},c=u=>{if(!i)return;const d={...i,players:u};ee.songStarted.dispatch(e,d),t({song:e,...d})};return f.jsxs(gme,{children:[f.jsx(eme,{style:o==="players"?{viewTransitionName:"player-mic-check-container"}:void 0}),f.jsxs(mme,{children:[o==="song"&&f.jsx(zge,{songPreview:e,onNextStep:l,keyboardControl:n,onExitKeyboardControl:r}),o==="players"&&f.jsx(dme,{songPreview:e,onNextStep:c,keyboardControl:n,onExitKeyboardControl:()=>a("song")})]})]})}const gme=C("div",{target:"eu207dr1"})({name:"k6gb66",styles:"display:flex;flex-direction:row;align-items:flex-end;justify-content:space-between;width:100%;hr{margin:1rem;opacity:0.25;}"}),mme=C("div",{target:"eu207dr0"})({name:"115sh08",styles:"width:auto;display:flex;flex-direction:column;align-items:flex-end;gap:1.25rem"}),vme=30;function yme({songPreview:e,top:t,left:n,width:r,height:i,keyboardControl:s,onExitKeyboardControl:o,onPlay:a,isPopular:l,forceFlag:c}){const[u,d]=A.useState(!1),h=A.useRef(null),{width:p,height:g}=wh(),m=s;A.useLayoutEffect(()=>{d(!1)},[e.video]);const _=e.previewStart??(e.videoGap??0)+60,v=e.previewEnd??_+vme,y=A.useMemo(()=>[e.video,_,v,e.volume],[e.video,_,v,e.volume]),[S,x,b,w]=jw(y,350);A.useEffect(()=>{var N;(N=h.current)==null||N.loadVideoById({videoId:S,startSeconds:x,endSeconds:b})},[S,h,x,b]);const E=m?p:r,T=m?g:i,$=m?Math.min(p/20*9,g*(4/5)):i;return A.useEffect(()=>{var N;(N=h.current)==null||N.setSize(E,T)},[E,T,s]),f.jsxs(f.Fragment,{children:[m&&f.jsx(bme,{onClick:o}),!m&&u&&f.jsx(Eme,{width:E,height:T,left:n,top:t,song:e}),f.jsx(_me,{forceFlag:c,isPopular:l,background:m||u,video:f.jsx(Sme,{"data-show":u,"data-expanded":m,height:$,id:"preview-video-container",children:f.jsx(Gw,{width:0,height:0,disablekb:!0,ref:h,video:"",volume:w,onStateChange:N=>{var B,K;N===In.ENDED?((B=h.current)==null||B.seekTo(_),(K=h.current)==null||K.playVideo()):N===In.PLAYING&&d(!0)}})}),focused:!0,song:e,top:t,left:n,width:E,height:$,"data-show-video":u,"data-expanded":m,"data-song":e.id,"data-test":"song-preview",children:f.jsx(xme,{"data-expanded":m,children:m&&f.jsx(pme,{songPreview:e,onPlay:a,keyboardControl:s,onExitKeyboardControl:o})})})]})}const Ame=C(VN,{target:"e1vaewax4"})("--preview-padding:5rem;width:",e=>e.width,"px;height:",e=>e.height,"px;position:absolute;z-index:3;overflow:hidden;visibility:hidden;&[data-expanded='true'],&[data-show-video='true']{visibility:visible;}&[data-expanded='true']{z-index:201;border-radius:0;border:0;position:fixed;padding:var(--preview-padding);}&[data-expanded='false']{pointer-events:none;&[data-show-video='true']{animation:rhythmPulse 1s infinite;}}@keyframes rhythmPulse{0%{transform:scale(1.2);}15%{transform:scale(1.25);}100%{transform:scale(1.2);}}view-transition-name:song-preview;",lE,"{view-transition-name:song-preview-artist;}",yv,"{view-transition-name:song-preview-title;}",LN,"{view-transition-name:song-preview-expanded-data;}"),_me=e=>{const t=e.song.realBpm||(e.song.bpm>300?e.song.bpm/4:e.song.bpm/2),n=e["data-expanded"];return f.jsx(Ame,{...e,style:{...e.style,top:n?`calc(50vh - ${e.height}px / 2)`:e.top,left:n?0:e.left,animationDuration:`${60/t}s`}})},bme=C("div",{target:"e1vaewax3"})({name:"1iz7jdz",styles:"position:fixed;top:0;left:0;background:rgba(0, 0, 0, 0.8);width:100vw;height:100vh;z-index:201"}),Sme=C("div",{target:"e1vaewax2"})("&[data-expanded='true']{position:fixed;inset:0;clip-path:inset(calc((100vh - ",e=>e.height,"px) / 2) 0);}&[data-expanded='true'],&[data-show='true']{div{transition:1000ms;}}&[data-expanded='false']{position:absolute;top:0;left:0;background-image:none!important;border-radius:0.5rem;}&[data-show='false']{div{opacity:0;}}&[data-show='true']{div{opacity:1;}}"),xme=C("div",{target:"e1vaewax1"})({name:"uljwlo",styles:"inset:auto var(--preview-padding);position:fixed;z-index:100;&[data-expanded='false']{transform:scale(0.1);}border-radius:0.5rem;view-transition-name:song-preview-content"}),wme=C("div",{target:"e1vaewax0"})("background:white;width:",e=>e.width,"px;height:",e=>e.height,"px;z-index:2;top:0;left:0;position:absolute;animation:bpm 1s infinite;border-radius:0.5rem;pointer-events:none;@keyframes bpm{0%{transform:scale(1.15);opacity:1;}100%{transform:scale(1.45);opacity:0;}}"),Eme=e=>{const[t]=$e(Di);if(t==="low")return null;const n=e.song.realBpm||(e.song.bpm>300?e.song.bpm/4:e.song.bpm/2);return f.jsx(wme,{width:e.width,height:e.height,style:{left:e.left,top:e.top,animationDuration:`${60/n}s`}})};function kme(e){var t=Gp(e),n=t%1;return t===t?n?t-n:t:0}var Cme=Math.ceil,Tme=Math.max;function ob(e,t,n){(n?$j(e,t,n):t===void 0)?t=1:t=Tme(kme(t),0);var r=e==null?0:e.length;if(!r||t<1)return[];for(var i=0,s=0,o=Array(Cme(r/t));i<r;)o[s++]=FS(e,i,i+=t);return o}function Ime(e,t){const n=A.useRef(null),r=A.useMemo(()=>e.groups.map(u=>({group:u,rows:ob(u.songs,e.perRow)})),[e.groups,e.perRow]),i=A.useMemo(()=>r.map(({rows:u})=>u.length),[r]),s=A.useMemo(()=>r.flatMap(({rows:u})=>u),[r]),{ListRowWrapper:o,GroupRowWrapper:a}=e,l=A.useCallback((u,d)=>{let h=e.groups.findIndex(p=>p.name===u);return h===-1?e.groups.findIndex(p=>p.songs.some(g=>g.index===d)):h},[e.groups]),c=A.useCallback((u,d)=>{let h=l(u,d);if(h===-1)return;const p=e.groups[h].songs.findIndex(g=>g.index===d);return r.slice(0,h).reduce((g,{rows:m})=>g+m.length,Math.floor(p/e.perRow))},[l,r,e.groups,e.perRow]);return A.useImperativeHandle(t,()=>({getSongPosition:(u,d)=>{var v;let h=l(u,d);if(h===-1)return;const p=e.groups[h].songs.findIndex(y=>y.index===d),g=r.slice(0,h).reduce((y,{rows:S})=>y+S.length,Math.floor(p/e.perRow)),m=((v=n.current)==null?void 0:v.getItemPositionY(g))??-1;return{x:p%e.perRow,y:m}},scrollToGroup:u=>{var h;const d=e.groups.findIndex(p=>p.name===u);d!==-1&&((h=n.current)==null||h.scrollToGroup(d,"smooth"))},scrollToSongInGroup:async(u,d,h="smooth")=>{var g;const p=c(u,d);p!==void 0&&((g=n.current)==null||g.scrollToIndex(p,Xs()?"auto":h))}})),f.jsx(f.Fragment,{children:f.jsx(UL,{forceRenderItem:c(e.focusedGroup,e.focusedSong)??-1,overScan:e.itemHeight*2,itemHeight:e.itemHeight,groupHeaderHeight:e.groupHeight,components:e.components,context:e.context,groupContent:(u,d)=>f.jsx(a,{group:r[u].group,...d,children:e.renderGroup(r[u].group)}),ref:n,groupSizes:i,itemContent:(u,d,h)=>f.jsxs(o,{"data-is-new":r[d].group.isNew,...h,children:[s[u].map(p=>e.renderItem(p,r[d].group)),e.placeholder&&s[u].length<e.perRow&&new Array(e.perRow-s[u].length).fill(null).map((p,g)=>f.jsx(A.Fragment,{children:e.placeholder},g))]})},e.itemHeight)})}const Rme=A.forwardRef(Ime),qN=(e,t)=>e+Math.random()*(t-e),Hs=(e,t)=>Math.round(qN(e,t)),Mme=250,Pme=750;function jme(e){const t=BC(async()=>(await fetch("/mostPopularSongs.json")).json(),[]),n=BC(async()=>Yq(),[]),r=A.useMemo(()=>Cm.recentlyUpdated(e),[e]).map(l=>l.id),[i]=$e(Bm),s=t.loading||n.loading||!e.length,o=A.useMemo(()=>{if(s)return;const l=Object.keys(n.value).filter(g=>n.value[g].scores.some(m=>(m.progress??0)>.8)),c=Object.keys(t.value).filter(g=>!(i!=null&&i.includes(g))),u=[...new Set([...c,...i??[]])],d=e.filter(g=>!u.some(m=>g.language.includes(m))||g.local).map(g=>g.id).concat(...l),h=Math.max(Mme,Pme-Math.round(d.length/1.75)),p=c.map(g=>t.value[g].slice(0,h)).flat();return{popular:[...new Set([...l,...p,...d,...r])]}},[i,s,t.value,e,n.value]),a=A.useMemo(()=>({popular:[]}),[]);return{value:o??a,loading:s}}const Ome=e=>{const t=/[^a-zA-Z]/;return{name:isFinite(+e.artist[0])||t.test(e.artist[0])?"0-9":e.artist[0].toUpperCase()}};function Vme(){const e=xh(),{value:{popular:t},loading:n}=jme(e.data),r=e.isLoading||n,{filters:i,filteredList:s,setFilters:o,selectedPlaylist:a,setSelectedPlaylist:l,playlists:c,playlist:u}=Ede(e.data,t,r);return{groupedSongList:A.useMemo(()=>{var p;if(s.length===0)return[];const h=[];if(i.search)return h.push({name:"Search results",songs:s.map((g,m)=>({index:m,song:g,isPopular:t.includes(g.id)}))}),h;{(u!=null&&u.sortingFn?[...s].sort(u.sortingFn):s).forEach(_=>{try{const{name:v,...y}=((u==null?void 0:u.groupData)??Ome)(_);let S=h.find(x=>x.name===v);S||(S={name:v,songs:[],...y},h.push(S)),S.songs.push({index:s.indexOf(_),song:_,isPopular:t.includes(_.id)})}catch(v){console.error(v),Js(v)}});const m=((p=u==null?void 0:u.postGrouping)==null?void 0:p.call(u,h))??h;if(!(u!=null&&u.hideNew)){const _=s.filter(v=>v.isNew);_.length&&_.length<50&&m.unshift({name:"New",isNew:!0,songs:_.map(v=>({song:v,index:s.indexOf(v),isPopular:t.includes(v.id)}))})}return m}},[s,i.search,t,u]),songList:s,filters:i,setFilters:o,isLoading:r,selectedPlaylist:a,setSelectedPlaylist:l,playlists:c}}function Im(e){const t=A.useRef(e);return A.useEffect(()=>{t.current=e},[e]),t.current}const Lme=30;function Nme(e,t,n=Lme){let r;if(t.length<e){const i=[...Array(e).keys()].filter(s=>!t.includes(s));r=i[Hs(0,i.length-1)]}else r=Hs(0,e-1),t.length=0;return t.length>=n&&t.shift(),t.push(r),r}const Bme=(e=[],t)=>{var _;const[n,r]=A.useState([0,0]),i=A.useMemo(()=>e.map(({songs:v})=>v.length).join(","),[e]),s=A.useMemo(()=>e.map(({songs:v})=>ob(v.map(y=>y.index),t)).flat(),[i,t]),o=A.useMemo(()=>e.map(({songs:v,name:y})=>ob(v.map(()=>y),t)).flat(),[i,t]),a=Im(s??[]),l=n[0]===((_=s[n[1]])==null?void 0:_.length)-1,c=A.useCallback((v,y)=>{var b;const S=s.findIndex((w,E)=>w.includes(v)&&(!y||y===o[E][0])),x=(b=s[S])==null?void 0:b.indexOf(v);x>=0&&S>=0?r([x??0,S??0]):r([0,0])},[s]),u=([v,y],S,x)=>{var w;if(e.length===0)return x;const b=S[y];return(b==null?void 0:b[v])??(b==null?void 0:b.at(-1))??((w=S==null?void 0:S[0])==null?void 0:w[0])??x},d=([v,y],S=s)=>u([v,y],S,0),h=([v,y],S=o)=>u([v,y],S,"A");A.useEffect(()=>{const v=d(n,a),y=d(n,s);a.length&&v!==y&&c(v)},[n,s,a,l]);const p=(v,y)=>{g0.play(),r(([S,x])=>{let b=S,w=x;if(v==="y")w=x+y;else{if(s[x]===void 0)debugger;const E=s[x].length-1;b=Math.min(S,E)+y,b<0?(w=(s.length+x-1)%s.length,b=s[w].length-1):b>E&&(w=x+1,b=0)}return[b%t,(s.length+w)%s.length]})},g=d(n),m=h(n);return[g,m,n,p,c,l]},Dme=(e,t=[],n,r,i,s)=>{const o=Xr(),[a,l]=A.useState([!1,null]),c=Im(a),[u,d]=a,[h,p,g,m,_,v]=Bme(t,s),y=g[0]===0,S=()=>{bS.play(),n()},[x,b]=A.useState(!1),w=Im(i.search);A.useLayoutEffect(()=>{if(w&&!i.search){b(!0);const R=setTimeout(()=>b(!1),2e3);return()=>{clearTimeout(R),b(!1)}}},[i.search]);const E=()=>{!x&&!i.search&&(SS.play(),o("menu/"))},T=A.useCallback(Ic((R,I)=>{const F=(t.length+I+R)%t.length;_(t[F].songs[0].index),g0.play()},700,{trailing:!1}),[t]),$=(R,I)=>{if(!(R!=null&&R.repeat))m("y",I);else{const F=t.findIndex(j=>!!j.songs.find(z=>z.index===h));T(I,F)}},N=(R,I=!1)=>{!I&&R===-1&&y&&!u?l([!0,"left"]):m("x",R)},B=A.useRef([]),K=()=>{const R=Nme(r,B.current);_(R)};Bl({accept:S,down:R=>$(R,1),up:R=>$(R,-1),left:()=>N(-1),right:()=>N(1),back:E,random:K},e&&!u,[t,g,u,i,x]);const P=A.useMemo(()=>({"horizontal-vertical":null,accept:null,back:null,shiftR:null,alphanumeric:null,remote:["search"]}),[]);Vu(P,e);const L=A.useCallback(R=>{l([!1,R??null])},[l,N,t,g]);return A.useLayoutEffect(()=>{const[R,I]=c;R&&!u&&I===d&&N(d==="right"?1:-1,!0)},[u,d,y,v,...g]),[h,p,_,u,L,K]};function $me(e,t){const{songList:n,groupedSongList:r,setFilters:i,filters:s,isLoading:o,selectedPlaylist:a,setSelectedPlaylist:l,playlists:c}=Vme(),[u,d]=A.useState(!0),h=w=>{Ff(()=>{ju.flushSync(()=>{d(w)})}),xS.play()},[p,g,m,_,v,y]=Dme(u,r,()=>h(!1),n.length,s,t),[S,x]=A.useState(!1);A.useEffect(()=>{if(!S&&n.length&&!o){const w=n.findIndex($=>$.id===e),E=n.findIndex($=>$.isNew);let T=Hs(0,n.length-1);(w>-1||E>-1)&&(T=w),x(!0),m(T)}},[m,S,p,n,e,o]),A.useEffect(()=>{var w;if(S&&n.length&&n[p]&&!o){const E=new URL((w=global.location)==null?void 0:w.href);E.searchParams.set("song",n[p].id),global.history.replaceState(null,"",E.toString())}},[S,p,n,o]);const b=n==null?void 0:n[p];return{groupedSongList:r,focusedSong:p,focusedGroup:g,moveToSong:m,setKeyboardControl:h,keyboardControl:u,songPreview:b,songList:n??[],filters:s,setFilters:i,showFilters:_,setShowFilters:v,isLoading:o||!S,randomSong:y,selectedPlaylist:a,setSelectedPlaylist:l,playlists:c}}const Fme=1.2,DR=4,WN=7,ab=4.5,$R=WN+ab,wp=3.5,zme={Header:({context:e})=>f.jsxs(f.Fragment,{children:[f.jsx(Qme,{}),e&&e.songPreview.songPreview&&f.jsx(yme,{...e.songPreview})]}),Footer:()=>f.jsxs(Hme,{children:["Missing a song? Try"," ",f.jsx(dw,{to:"convert/",children:f.jsx("a",{children:"adding one"})})," ","yourself!"]}),EmptyPlaceholder:()=>f.jsx(Kme,{children:"No songs found"})};function Ume({onSongSelected:e,preselectedSong:t}){const[n]=$e(pr),r=n?DR-1:DR;Ra(!1),Ea(!0),CN();const{focusedGroup:i,focusedSong:s,moveToSong:o,groupedSongList:a,keyboardControl:l,songPreview:c,setKeyboardControl:u,setFilters:d,filters:h,setShowFilters:p,showFilters:g,isLoading:m,randomSong:_,selectedPlaylist:v,setSelectedPlaylist:y,playlists:S,songList:x}=$me(t,r),b=A.useMemo(()=>a.map(U=>U.songs).flat().find(U=>U.song.id===(c==null?void 0:c.id)),[c,a]),w=A.useRef(null),E=zL(),{width:T,handleResize:$}=wh(),B=(T-($R+ab)*E-(r-1)*wp*E)/r,K=B*(9/16),P=K/2,L=A.useCallback(()=>u(!1),[u]),R=m||!a||!T,I=v==="Eurovision",F=A.useRef(null);A.useEffect(()=>{const U=ne=>x.findIndex(O=>O.id===ne);return global.__songList={scrollToSong:ne=>{var oe;const[O]=ne.split("-new-group"),de=ne.endsWith("-new-group"),Z=a.find(Pe=>!!Pe.isNew===de&&Pe.songs.some(Ae=>Ae.song.id===O));if(Z){const Pe=U(O);return(oe=w.current)==null||oe.scrollToSongInGroup(Z.name,Pe,"auto"),!0}return!1}},()=>{delete global.__songList}},[a,x]);const[{previewTop:j,previewLeft:z},V]=A.useState({previewTop:0,previewLeft:0});A.useEffect(()=>{const U=document.querySelector(`[data-song-index="${s}"][data-group="${i}"]`);!m&&U?V({previewTop:U.offsetTop+U.parentNode.offsetTop,previewLeft:U.offsetLeft}):m||console.warn("!!!!!!!!!!!! Song not found !!!!!!!!!!!!")},[s,i,m,T]),A.useEffect(()=>{var U;$(),m||(U=w.current)==null||U.scrollToSongInGroup(i,s)},[T,s,i,a,m,$]);const G=Xr();return Ir("Shift + E",()=>G(xm("edit/song/",{playlist:null,step:"metadata"})),[G]),f.jsx(Bo,{children:f.jsxs(Gme,{songsPerRow:r,style:{"--song-group-header-height":`${Math.floor(P)}px`,"--song-entry-width":`${Math.floor(B)}px`,"--song-entry-height":`${Math.floor(K)}px`,"--song-list-gap":`${Math.floor(wp*E)}px`,"--song-list-padding-left":`${Math.floor($R*E)}px`,"--song-list-padding-right":`${Math.floor(ab*E)}px`,"--song-sidebar-weight":`${Math.floor(WN*E)}px`},children:[R?f.jsxs(FR,{children:[f.jsx(UR,{children:f.jsx(GR,{children:f.jsx(lb,{children:"   "})})}),new Array(4).fill(0).map((U,ne)=>f.jsx(HR,{children:new Array(4).fill(0).map((O,de)=>f.jsx(zR,{},de))},ne))]}):f.jsxs(f.Fragment,{children:[c&&f.jsx(qme,{videoId:c.video}),f.jsx(oge,{setFilters:d,filters:h,onRandom:_,keyboardControl:l}),f.jsx(Nge,{container:F.current,groupedSongList:a,onScrollToGroup:U=>{o(U.songs[0].index),setTimeout(()=>{var ne;return(ne=w.current)==null?void 0:ne.scrollToGroup(U.name)},20)}}),f.jsx(FR,{active:l,dim:g,"data-test":"song-list-container",ref:F,children:f.jsx(Rme,{focusedSong:s,focusedGroup:i,ListRowWrapper:HR,GroupRowWrapper:UR,ref:w,groups:a,itemHeight:Math.floor(K)+Math.floor(wp*E),groupHeight:Math.floor(P)+Math.floor(wp*E),components:zme,renderGroup:U=>f.jsx(GR,{"data-highlight":U.name==="New",children:f.jsx(lb,{"data-group-name":U.name,children:U.displayLong??U.name})},U.name),perRow:r,renderItem:(U,ne)=>{const O=U.index===s&&ne.name===i;return A.createElement(Yme,{...g||!l?{"data-unfocusable":!0}:{},isPopular:U.isPopular,key:U.song.id,song:U.song,handleClick:O?L:o,focused:!g&&l&&O,index:U.index,groupLetter:ne.name,"data-song-index":U.index,"data-focused":!g&&l&&U.index===s,"data-test":`song-${U.song.id}${ne.isNew?"-new-group":""}`,"data-group":ne.name,forceFlag:I})},placeholder:f.jsx(zR,{style:{visibility:"hidden"}}),context:{songPreview:{forceFlag:I,isPopular:!!(b!=null&&b.isPopular),keyboardControl:!l,onPlay:e,onExitKeyboardControl:()=>u(!0),songPreview:c,top:j,left:z,width:Math.floor(B),height:Math.floor(K)}}})})]}),f.jsx(hge,{selectedPlaylist:v,setSelectedPlaylist:y,playlists:S,active:g,closePlaylist:p})]})})}const Hme=C("div",{target:"e13s0pn12"})(De,";text-align:center;font-size:5rem;padding:10rem 0;"),Gme=C("div",{target:"e13s0pn11"})({name:"usdvu5",styles:"display:flex;flex-direction:row;max-height:100vh"}),qme=e=>{const{theme:t}=A.useContext(GS);return t==="eurovision"?null:f.jsx(Wme,{...e})},Wme=C(lge,{target:"e13s0pn10"})({name:"ybgcp",styles:"position:fixed;inset:0;width:100%;height:100%;filter:blur(7px) grayscale(90%);opacity:0.25;object-fit:cover"}),Kme=C("div",{target:"e13s0pn9"})(De,";display:flex;align-items:center;justify-content:center;flex:1;height:75vh;font-size:10rem;"),lb=C("div",{target:"e13s0pn8"})(De,";display:flex;padding:0.5rem 1rem;font-size:3.5rem;z-index:1;color:",pe.colors.text.active,";background:rgba(0, 0, 0, 0.7);align-items:center;gap:1rem;"),FR=C("div",{target:"e13s0pn7"})("position:relative;flex:1 1 auto;min-height:100vh;max-height:100vh;transition:opacity 500ms;opacity:",e=>e.dim?.5:1,";"),zR=C("div",{target:"e13s0pn6"})({name:"1mtg8xe",styles:"background:black;flex-basis:var(--song-entry-width);height:var(--song-entry-height);border-radius:1rem;animation:skeleton 1s ease-in-out infinite alternate;@keyframes skeleton{0%{opacity:0.65;}100%{opacity:0.75;}}"}),Yme=A.memo(C(VN,{target:"e13s0pn5"})("cursor:pointer;flex-basis:var(--song-entry-width);height:var(--song-entry-height);transition:300ms;transform:scale(1);&[data-focused='true']{transform:scale(",Fme,");z-index:2;",tu,";}")),Qme=C("div",{target:"e13s0pn4"})(""),KN=C("div",{target:"e13s0pn3"})({name:"1syiygp",styles:"display:flex;flex-wrap:nowrap;justify-content:space-between;padding:calc(var(--song-list-gap) / 2) var(--song-list-padding-right) calc(var(--song-list-gap) / 2) var(--song-list-padding-left)"}),UR=C(KN,{target:"e13s0pn2"})({name:"1rn35zs",styles:"position:sticky;top:0;z-index:3"}),HR=C(KN,{target:"e13s0pn1"})({name:"s8hqg9",styles:"position:relative;&[data-is-new='true']{background:rgba(0, 0, 0, 0.7);}"}),GR=C("div",{target:"e13s0pn0"})("display:flex;align-items:flex-end;height:var(--song-group-header-height);&[data-highlight='true']{",lb,"{animation:new-song-group-header 600ms ease-in-out infinite both;background:#ffffff;@keyframes new-song-group-header{0%,100%{transform:scale(1);}50%{transform:scale(1.1);}}}}");function Jme(e){const[t,n]=$e(Bm),[r,i]=A.useState(t===null),s=()=>{n(t??[]),i(!1)};return r?f.jsx(QL,{onClose:s,closeText:"Continue to Song Selection"}):f.jsx(Ume,{...e})}var cE={},Xme=ot;Object.defineProperty(cE,"__esModule",{value:!0});var YN=cE.default=void 0,Zme=Xme(ut()),e0e=f;YN=cE.default=(0,Zme.default)((0,e0e.jsx)("path",{d:"M16.59 7.58 10 14.17l-3.59-3.58L5 12l5 5 8-8zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"}),"CheckCircleOutline");const od=e=>new Promise(t=>setTimeout(t,e)),lA=15;function t0e({onFinish:e}){const[t,n]=A.useState(!1),[r,i]=A.useState([]);Vr(ee.readinessConfirmed,a=>{i(l=>[...l,a])});const s=mi([ee.inputListChanged,ee.readinessConfirmed],()=>Me.getPlayers().map((a,l)=>[a.input.deviceId,a.getName(),a]));A.useEffect(()=>{(async()=>{let a=!1;const l=Me.requestReadiness().then(()=>{a=!0,n(!0)}),c=od(1500),u=od(lA*1e3);await od(250),a||await Wp.play(),await Promise.race([Promise.all([l,c]),u]),Wp.playing()&&Qj.play(),await od(500),Wp.pause(),await od(1e3),e()})()},[]);const o=s.map(([a,l,c])=>({confirmed:r.includes(a),name:l,player:c}));return f.jsx(f.Fragment,{children:f.jsxs(n0e,{children:[!t&&f.jsxs("span",{children:["Waiting for all players to click ",f.jsx("strong",{children:'"Ready"'})]}),f.jsx(i0e,{children:o.map(({confirmed:a,name:l,player:c},u)=>f.jsxs(s0e,{className:"ph-no-capture","data-test":"player-confirm-status","data-name":l,"data-confirmed":a,children:[!t&&f.jsx(o0e,{children:a?f.jsx(YN,{}):f.jsx(Sh,{color:"info",size:"1em"})})," ",f.jsx(UN,{player:c})]},u))}),!t&&f.jsxs(r0e,{children:["The song will start automatically in"," ",f.jsx("strong",{children:f.jsx(Uw,{end:0,start:lA,duration:lA,useEasing:!1})})]})]})})}const n0e=C("div",{target:"e1wiz9j54"})("top:0;left:0;z-index:1000;display:flex;align-items:center;justify-content:center;flex-direction:column;position:absolute;width:100%;height:100%;gap:5rem;font-size:5rem;",De,";"),r0e=C("span",{target:"e1wiz9j53"})({name:"1umnjfm",styles:"font-size:5rem"}),i0e=C("div",{target:"e1wiz9j52"})({name:"1uxgijs",styles:"display:flex;flex-direction:column;gap:5rem;width:50rem;view-transition-name:player-mic-check-container"}),s0e=C("div",{target:"e1wiz9j51"})({name:"174652e",styles:"display:flex;align-items:center;gap:2rem;transform:scale(1.5)"}),o0e=C("span",{target:"e1wiz9j50"})({name:"1l5xwqu",styles:"svg{width:5rem;height:5rem;stroke:black;}"});function a0e({register:e,onExit:t}){const n=A.useRef(null),[r,i]=A.useState(!1),[s,o]=A.useState(!1),[a,l]=A.useState(!1);A.useEffect(()=>{var u;(u=n.current)==null||u.focus()},[n]);const c=()=>{const u=Le.getSong(),d={songId:u==null?void 0:u.id,songLastUpdated:u==null?void 0:u.lastUpdate},h=[];r&&h.push("not-in-sync"),s&&h.push("wrong-volume"),a&&h.push("bad-lyrics"),h.length&&Vn.capture("rate-song",{issues:h,...d}),t()};return f.jsx(f.Fragment,{children:f.jsxs(Ts,{children:[f.jsx("h1",{children:"Is the song OK?"}),f.jsx("h4",{children:"If there's something wrong with the song, let me know so I can fix it"}),f.jsxs(cA,{...e("button-not-in-sync",()=>i(u=>!u)),size:"small",children:[f.jsx(uA,{children:r?f.jsx(Wd,{}):f.jsx(Kd,{})}),f.jsx("span",{children:"Lyrics are not in sync"})]}),f.jsxs(cA,{...e("button-bad-lyrics",()=>l(u=>!u)),size:"small",children:[f.jsx(uA,{children:a?f.jsx(Wd,{}):f.jsx(Kd,{})}),f.jsx("span",{children:"Wrong lyrics, missing spaces etc."})]}),f.jsxs(cA,{...e("button-wrong-volume",()=>o(u=>!u)),size:"small",children:[f.jsx(uA,{children:s?f.jsx(Wd,{}):f.jsx(Kd,{})}),f.jsx("span",{children:"Too loud/quiet"})]}),f.jsx("hr",{}),f.jsx(Re,{...e("button-song-ok",c,void 0,!0),ref:n,children:s||r?"Submit and exit":"All good, exit the song"})]})})}const cA=C(Re,{target:"e1prcfby1"})({name:"12ib3m7",styles:"justify-content:flex-start;gap:1rem"}),uA=C("div",{target:"e1prcfby0"})({name:"224g68",styles:"svg{width:3rem;height:3rem;}display:flex;align-items:center;justify-content:center"});function l0e({onResume:e,onExit:t,onRestart:n}){const r=Xr(),i=A.useRef(null),s=A.useRef(null);A.useEffect(()=>{var h;(h=i.current)==null||h.focus()},[i]);const[o,a]=A.useState(!1),{register:l}=zn({enabled:!o}),[c,u]=A.useState(!1),d=async()=>{const h=Le.getSongCompletionProgress(),p=(await Zs.getIndex()).find(g=>{var m;return g.id===((m=Le.getSong())==null?void 0:m.id)});!(p!=null&&p.local)&&h<.7&&!Xs()?u(!0):t()};return f.jsxs(Ou,{onClose:e,children:[!c&&f.jsxs(f.Fragment,{children:[f.jsxs(Ts,{children:[f.jsx(Re,{...l("button-resume-song",e),ref:i,children:"Resume song"}),f.jsx(Re,{...l("button-restart-song",n),children:"Restart song"}),f.jsx(Re,{...l("button-exit-song",d),children:"Exit song"}),f.jsx(Re,{...l("input-settings",()=>a(!0)),children:"Microphones settings"}),f.jsx("hr",{}),f.jsx(rN,{ref:s,...l("input-lag",()=>{var h;return(h=s.current)==null?void 0:h.focus()})}),f.jsx(Re,{...l("edit-song",()=>{var h;return r("edit/song/",{song:((h=Le.getSong())==null?void 0:h.id)??""})}),size:"small",children:"Edit song"})]}),o&&f.jsx(HN,{onClose:()=>a(!1),closeButtonText:"Back to Pause Menu"})]}),c&&f.jsx(a0e,{onExit:t,register:l})]})}const QN=Xs()?1e3:8e3;function c0e(e){return Math.floor((pv(e)-QN)/1e3)}const u0e=2e4;function d0e(e){return pv(e)-(e.videoGap??0)*1e3>u0e}function f0e({playerRef:e,isEnabled:t}){const[n]=$e(pr),r=Le.getSong(),i=A.useMemo(()=>d0e(r),[r]),s=A.useMemo(()=>pv(r),[r]),o=Le.getCurrentTime(!1)<s-QN*1.2,a=t&&o&&i;Bl({accept:()=>{e==null||e.seekTo(c0e(r));const{artist:u,title:d}=Le.getSong();Vn.capture("introSkipped",{name:`${u} - ${d}`,artist:u,title:d})}},a);const c=A.useMemo(()=>({accept:"Skip Intro",back:"Pause Menu"}),[]);return Vu(c,a),!n&&a?f.jsxs(h0e,{visible:a,"data-test":"skip-intro-info",children:["Press ",f.jsx(p0e,{children:"Enter"})," to skip the intro"]}):null}const h0e=C("div",{target:"e167kngm1"})(De,";pointer-events:none;position:fixed;bottom:29rem;transform:scale(",e=>e.visible?1:0,");opacity:",e=>e.visible?1:0,";text-align:center;font-size:5rem;text-shadow:0 0 3.5rem black;width:100%;z-index:4;padding:0.5rem;transition:ease 500ms;"),p0e=C("kbd",{target:"e167kngm0"})("margin:0.2rem;padding:0.2rem 2rem;border-radius:1.3rem;border:0.5rem solid rgb(204, 204, 204);border-bottom-color:rgb(150, 150, 150);border-right-color:rgb(150, 150, 150);line-height:1.4;display:inline-block;background-color:rgb(247, 247, 247);text-shadow:0 1rem 0 #fff;opacity:",e=>e.disabled?.25:1,";"),g0e=15e3;function m0e({onSongEnd:e,isEnabled:t}){const[n]=$e(pr),r=Le.getDuration(),i=A.useMemo(()=>Math.max(...Le.getPlayers().map(p=>hf(p.getLastNotesSection()))),[]),s=A.useMemo(()=>{var g;const p=cN(i,Le.getSong())+(((g=Le.getSong())==null?void 0:g.gap)??0);return t&&r*1e3>p+g0e},[r,i,t]),[o,a]=A.useState(0),[l,c]=A.useState(!1);N3(()=>a(Le.getCurrentBeat()),1e3);const u=jw(s&&o>i,5e3)&&!l;Bl({accept:()=>{c(!0),setTimeout(e,700);const{artist:p,title:g}=Le.getSong();Vn.capture("outroSkipped",{name:`${p} - ${g}`,artist:p,title:g})}},u);const h=A.useMemo(()=>({accept:"Skip Outro",back:"Pause Menu"}),[]);return Vu(h,u),!n&&s?f.jsxs(v0e,{visible:u,"data-test":"skip-outro-info","data-visible":u,children:["Press ",f.jsx(y0e,{children:"Enter"})," to skip the outro"]}):null}const v0e=C("div",{target:"e1b01y1a1"})(De,";pointer-events:none;position:fixed;bottom:29rem;transform:scale(",e=>e.visible?1:0,");opacity:",e=>e.visible?1:0,";text-align:center;font-size:5rem;text-shadow:0 0 3.5rem black;width:100%;z-index:4;padding:0.5rem;transition:ease 500ms;"),y0e=C("kbd",{target:"e1b01y1a0"})("margin:0.2rem;padding:0.2rem 2rem;border-radius:1.3rem;border:0.5rem solid rgb(204, 204, 204);border-bottom-color:rgb(150, 150, 150);border-right-color:rgb(150, 150, 150);line-height:1.4;display:inline-block;background-color:rgb(247, 247, 247);text-shadow:0 1rem 0 #fff;opacity:",e=>e.disabled?.25:1,";"),A0e=Te.memo(m0e);function qR(e){return e&&e.length?$L(e):[]}function _0e({players:e}){const t=Le.getCurrentTime(!1),n=Le.getSongBeatLength(),r=Le.getDuration(),i=Le.getSong(),s=A.useMemo(()=>qR(i.tracks.filter((l,c)=>e.find(u=>u.track===c)).map(({sections:l})=>ya(l)*n+i.gap)),[i,n,e]),o=A.useMemo(()=>qR(i.tracks.filter((l,c)=>e.find(u=>u.track===c)).map(({sections:l})=>ff(l)*n+i.gap)),[i,n,e]),a=r*1e3;return!t||!r?null:f.jsxs(uE,{children:[s.map(l=>f.jsx(WR,{position:l/a},l)),o.map(l=>f.jsx(WR,{position:l/a},l)),f.jsx(x0e,{fill:t/a})]})}const uE=C("div",{target:"e1pz3mwm2"})({name:"1q7pdku",styles:"position:absolute;height:0.6rem;width:100%;background:rgba(0, 0, 0, 0.5);left:0;top:calc(50% - 0.3rem)"}),b0e=C(uE,{target:"e1pz3mwm1"})("top:0;margin-left:-0.25rem;width:0.5rem;background:",pe.colors.text.active,";opacity:75%;"),WR=e=>f.jsx(b0e,{style:{left:`${Math.min(e.position*100,100)}%`}}),S0e=C(uE,{target:"e1pz3mwm0"})({name:"1ssqmyb",styles:"top:0;background:white;opacity:50%"}),x0e=e=>f.jsx(S0e,{style:{width:`${Math.round(e.fill*1e4)/100}%`}});function w0e({player:e,bottom:t=!1,...n}){const r=pn.getPlayerVolume(e.number),i=DN(e.number);return f.jsxs(E0e,{...n,children:[i!=="unavailable"&&f.jsx(bpe,{playerNumber:e.number,volume:r}),f.jsx(k0e,{status:i,tooltipPosition:"start"}),f.jsx(C0e,{playerNumber:e.number})]})}const E0e=C("div",{target:"ea232322"})({name:"180gow0",styles:"width:20rem;position:relative"}),k0e=C(zN,{target:"ea232321"})({name:"14rk3pa",styles:"top:auto;right:1rem;bottom:-0.5rem"}),C0e=C(FN,{target:"ea232320"})({name:"ed8znk",styles:"z-index:2;font-size:2rem;margin-right:1rem;-webkit-text-stroke:0.1rem black"});function KR({player:e,bottom:t=!1,effectsEnabled:n,showMultipleLines:r}){var x;const i=Le.getPlayer(e.number),[s]=$e(pr),o=pe.colors.players[e.number].text,a=((x=Le.getSingSetup())==null?void 0:x.mode)===Mr.PASS_THE_MIC?i.getTrack().changes:[],l=i.getCurrentSection(),c=i.getNextSection(),u=i.getNextSection(2),d=Le.getCurrentBeat(),h=Le.getSongBeatLength(),p=Math.max(0,...a.filter(b=>b<=((l==null?void 0:l.start)??-1/0))),g=a.find(b=>b>((l==null?void 0:l.start)??1/0))??1/0,m=(g-d)*h,_=(g-d)/(g-p),v=m<2500,y=Mt(l),S=y?ya([l])-l.start:0;return f.jsxs(P0e,{shouldBlink:v,bottom:t,"data-test":`lyrics-container-player-${e.number}`,children:[!s&&n&&f.jsx(T0e,{children:r?f.jsx(YR,{player:e}):Le.getPlayers().map(b=>f.jsx(YR,{player:Me.getPlayer(b.getNumber())},b.getNumber()))}),m<1/0&&f.jsx(B0e,{color:o,progress:_<=1?_*100:0}),y?f.jsx(f.Fragment,{children:f.jsxs(Ep,{"data-test":`lyrics-current-player-${e.number}`,effectsEnabled:n,children:[f.jsx(I0e,{children:f.jsx(M0e,{color:o,percent:Math.min(2,(d-l.start)/S)})}),l==null?void 0:l.notes.map(b=>{const w=Math.max(0,Math.min(2,(d-b.start)/b.length));return f.jsxs(j0e,{type:b.type,children:[f.jsxs(O0e,{children:[f.jsx(L0e,{fill:w,color:o,children:b.lyrics.trim()}),b.lyrics.endsWith(" ")&&" "]}),b.lyrics]},b.start)}),(c==null?void 0:c.start)===g&&f.jsx(QR,{"data-should-shake":!0})]})}):f.jsx(Ep,{effectsEnabled:n,children:" "}),Mt(c)?f.jsxs(Ep,{nextLine:!0,"data-test":`lyrics-next-player-${e.number}`,effectsEnabled:n,children:[c.notes.map(b=>f.jsx(A.Fragment,{children:b.lyrics},b.start)),(u==null?void 0:u.start)===g&&f.jsx(QR,{})]}):f.jsx(Ep,{effectsEnabled:n,nextLine:!0,children:" "})]})}const YR=C(w0e,{target:"e1j3lo7n10"})({name:"82a6rk",styles:"flex:1"}),T0e=C("div",{target:"e1j3lo7n9"})({name:"zrovsy",styles:"position:absolute;top:0;right:0;display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%"}),I0e=C("span",{target:"e1j3lo7n8"})({name:"1sngsgs",styles:"position:relative;height:0"}),R0e=C("span",{target:"e1j3lo7n7"})({name:"7drlms",styles:"position:absolute;width:15rem;height:3.1rem;margin:0.7rem 0;right:10rem"}),M0e=({percent:e,color:t})=>{const n=A.useMemo(()=>{const r=ue(t).toRgb();return`${r.r}, ${r.g}, ${r.b}`},[t]);return f.jsx(R0e,{style:{transformOrigin:"right",transform:`scaleX(${Math.min(1,2-e)})`,right:`${Math.max(0,1-e)*15}rem`,background:`linear-gradient(270deg, rgba(${n}, 1) 0%, rgba(${n}, 0.5) 25%, rgba(${n}, 0) 100%)`}})},P0e=C("div",{target:"e1j3lo7n6"})("@keyframes blink{100%{background-color:rgba(0, 0, 0, ",e=>e.bottom?"0.85":"0.5",");}30%{background-color:rgba(0, 0, 0, ",e=>e.bottom?"0.85":"0.5",");}50%{background-color:rgba(200, 200, 200, ",e=>e.bottom?"0.85":"0.5",");}30%{background-color:rgba(0, 0, 0, ",e=>e.bottom?"0.85":"0.5",");}0%{background-color:rgba(0, 0, 0, ",e=>e.bottom?"0.85":"0.5",");}}box-sizing:border-box;padding:1rem;background:rgba(0, 0, 0, ",e=>e.bottom?"0.9":"0.5",");width:100%;text-align:center;line-height:1;position:relative;",e=>e.shouldBlink?"animation: blink 350ms ease-in-out infinite both;":"",";"),j0e=C("span",{target:"e1j3lo7n5"})("font-style:",e=>e.type==="freestyle"?"italic":"normal",";"),O0e=C("span",{target:"e1j3lo7n4"})({name:"nffb2y",styles:"position:absolute;z-index:1"}),V0e=C("span",{target:"e1j3lo7n3"})(""),L0e=({fill:e,color:t,children:n})=>f.jsx(V0e,{style:{clipPath:`inset(0 ${(1-(e===0?0:e+.05))*100}% -5rem 0)`,color:`${t}`},children:n}),N0e=C("div",{target:"e1j3lo7n2"})({name:"d6fl9l",styles:"position:absolute;height:1rem;width:100%"}),B0e=e=>f.jsx(N0e,{"data-test":"pass-the-mic-progress",style:{background:e.color,transformOrigin:"left",transform:`scaleX(${e.progress/100})`}}),QR=C(fv,{target:"e1j3lo7n1"})("@keyframes shake{10%,90%{transform:translate3d(-0.1rem, 0, 0);}20%,80%{transform:translate3d(0.2rem, 0, 0);}30%,50%,70%{transform:translate3d(-0.4rem, 0, 0);}40%,60%{transform:translate3d(0.4rem, 0, 0);}}font-size:3rem;margin-left:2rem;&[data-should-shake='true']{animation:shake 0.92s cubic-bezier(0.36, 0.07, 0.19, 0.97) both infinite;fill:",pe.colors.text.active,";font-size:4rem;}"),Ep=C("div",{target:"e1j3lo7n0"})("font-size:",({nextLine:e,effectsEnabled:t})=>t?3.5+(e?0:1):2,"rem;height:",({effectsEnabled:e})=>e?4.5:2,"rem;-webkit-text-stroke-width:",({effectsEnabled:e})=>e?"0.2rem":"1px",";color:",({nextLine:e})=>e?pe.colors.text.inactive:pe.colors.text.default,";font-family:'Comic Sans MS',Seravek,'Gill Sans Nova',Ubuntu,Calibri,'DejaVu Sans',source-sans-pro,sans-serif;z-index:10;"),JN=new Intl.NumberFormat(void 0,{maximumFractionDigits:0});function cb({score:e}){return f.jsx(f.Fragment,{children:JN.format(e)})}const XN=6,Pi=30,bn=Pi+6,D0e=e=>{const t=e.canvas.width,n=e.canvas.height,r=Math.max(0,(t-n*(16/9))/2),i=10+(t-2*r)*.15+r,s=n-e.paddingVertical*2;return{width:t-i*2,height:s/e.playerCount,baseX:i,baseY:e.paddingVertical+e.playerIndex*s/e.playerCount}};function JR({canvas:e,currentSectionIndex:t,song:n,songBeatLength:r,minPitch:i,maxPitch:s,track:o,playerIndex:a,playerCount:l,paddingVertical:c}){var S;const u=o.sections,d=u[t],h=u[t+1],p=D0e({canvas:e,playerCount:l,playerIndex:a,paddingVertical:c}),g=Mt(d)?(S=d==null?void 0:d.notes)==null?void 0:S.at(-1):void 0,m=Mt(d)?(h==null?void 0:h.start)??g.start+g.length:d.end,_=d.start*r,v=(m-d.start)*r,y=(p.height-20-Pi)/(s-i+XN*2);return{playerCanvas:p,currentSection:d,sectionEndBeat:m,timeSectionGap:_,maxTime:v,pitchStepHeight:y}}function ZN(e,t,n,r,i){return i&&n?pe.colors.players[t].starPerfect:i?pe.colors.players[t].perfect:n&&r?pe.colors.players[t].star:r?pe.colors.players[t].hit:pe.colors.players[t].miss}function $0e(e,t,n,r){return ZN(e,t,r.note.type==="star",n,r.isPerfect)}const dA={},F0e=e=>{if(!dA[e]){const t=ue(e);dA[e]=[[t.setAlpha(.8).toRgbString(),t.setAlpha(.9).toRgbString(),t.setAlpha(1).toRgbString()],[t.setAlpha(0).toRgbString()],[t.setAlpha(.1).toRgbString(),t.setAlpha(.3).toRgbString(),t.setAlpha(.2).toRgbString()]]}return dA[e]};function ub(e,t,n,r,i,s,o,a=1){if(i<=0)return;t.globalAlpha=1;const l=t.createRadialGradient(n,r,0,n,r,i/2),[c,u,d]=F0e(o);l.addColorStop(0,c[Hs(0,c.length-1)]),l.addColorStop(.05,c[Hs(0,c.length-1)]),l.addColorStop(.15,d[Hs(0,d.length-1)]),l.addColorStop(1,u[Hs(0,u.length-1)]),t.beginPath(),t.arc(n,r,i/2,0,2*Math.PI),t.closePath(),t.fillStyle=l,t.fill(),t.fillStyle=o,t.globalAlpha=1}function eB(e,t,n,r,i,s,o,a,l=1){i>0&&ub(e,t,n,r,i,s,a,l)}const hg=(e,t)=>e-t+Math.random()*t*2,XR=(e=0)=>Math.sign(e+Math.random()-.5),z0e=300,U0e=50,kp=1.3;class H0e{constructor(t,n,r){this.x=t,this.y=n,this.color=r,this.finished=!1,this.tick=(i,s,o)=>{const a=1-this.ttl/this.startingTtl,l=this.ttl,c=this.width*a,u=this.width*this.heightModifier*a,d=this.x-c/2+l*this.velocityX,h=this.y+u/2+l*this.velocityY;eB(s,i,d,h,c,u,this.initialAngle+l,this.color,.7*a),this.ttl=this.ttl-o,this.finished=this.ttl<=0},this.startingTtl=this.ttl=hg(z0e,U0e),this.velocityX=kp*Math.random()-kp/2,this.velocityY=kp*Math.random()-kp/2,this.width=25,this.initialAngle=180-Math.random()*360,this.heightModifier=.5+Math.random()/2}}const G0e=`
precision mediump float;
`,Av=G0e.replace(/\n/g,""),q0e=`
attribute vec3 aVertexPosition;
attribute vec2 aTextureCoord;
`,tB=q0e.replace(/\n/g,""),W0e=`
varying vec3 vVertexPosition;
varying vec2 vTextureCoord;
`,_v=W0e.replace(/\n/g,""),K0e=Av+tB+_v+`
uniform mat4 uMVMatrix;
uniform mat4 uPMatrix;

void main() {
    vTextureCoord = aTextureCoord;
    vVertexPosition = aVertexPosition;
    
    gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);
}
`;K0e.replace(/\n/g,"");const Y0e=Av+_v+`
void main() {
    gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
}
`;Y0e.replace(/\n/g,"");const Q0e=Av+tB+_v+`
void main() {
    vTextureCoord = aTextureCoord;
    vVertexPosition = aVertexPosition;
    
    gl_Position = vec4(aVertexPosition, 1.0);
}
`;Q0e.replace(/\n/g,"");const J0e=Av+_v+`
uniform sampler2D uRenderTexture;

void main() {
    gl_FragColor = texture2D(uRenderTexture, vTextureCoord);
}
`;J0e.replace(/\n/g,"");function X0e(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:FS(e,t,n)}var Z0e="\\ud800-\\udfff",eve="\\u0300-\\u036f",tve="\\ufe20-\\ufe2f",nve="\\u20d0-\\u20ff",rve=eve+tve+nve,ive="\\ufe0e\\ufe0f",sve="\\u200d",ove=RegExp("["+sve+Z0e+rve+ive+"]");function nB(e){return ove.test(e)}function ave(e){return e.split("")}var rB="\\ud800-\\udfff",lve="\\u0300-\\u036f",cve="\\ufe20-\\ufe2f",uve="\\u20d0-\\u20ff",dve=lve+cve+uve,fve="\\ufe0e\\ufe0f",hve="["+rB+"]",db="["+dve+"]",fb="\\ud83c[\\udffb-\\udfff]",pve="(?:"+db+"|"+fb+")",iB="[^"+rB+"]",sB="(?:\\ud83c[\\udde6-\\uddff]){2}",oB="[\\ud800-\\udbff][\\udc00-\\udfff]",gve="\\u200d",aB=pve+"?",lB="["+fve+"]?",mve="(?:"+gve+"(?:"+[iB,sB,oB].join("|")+")"+lB+aB+")*",vve=lB+aB+mve,yve="(?:"+[iB+db+"?",db,sB,oB,hve].join("|")+")",Ave=RegExp(fb+"(?="+fb+")|"+yve+vve,"g");function _ve(e){return e.match(Ave)||[]}function bve(e){return nB(e)?_ve(e):ave(e)}function Sve(e){return function(t){t=DS(t);var n=nB(t)?bve(t):void 0,r=n?n[0]:t.charAt(0),i=n?X0e(n,1).join(""):t.slice(1);return r[e]()+i}}var xve=Sve("toUpperCase");function wve(e){return xve(DS(e).toLowerCase())}function ZR(e,t,n,r,i,s,o,a){const l=Math.max(r,i/2),c=Math.min(l/2,i/2,s);e.beginPath(),e.moveTo(t+c,n),e.lineTo(t+l-c,n),e.quadraticCurveTo(t+l,n,t+l,n+c),e.lineTo(t+l,n+i-c),e.quadraticCurveTo(t+l,n+i,t+l-c,n+i),e.lineTo(t+c,n+i),e.quadraticCurveTo(t,n+i,t,n+i-c),e.lineTo(t,n+c),e.quadraticCurveTo(t,n,t+c,n),e.closePath(),o&&e.fill(),a&&e.stroke()}function dE(e,t,n,r,i,s,o,a,l=.1){ZR(e,t,n,r,i,s,o,a),o&&l>0&&(e.save(),ZR(e,t,n,r,i,s,!1,!1),e.clip(),e.fillStyle=`rgba(255,255,255,${l})`,e.fillRect(t,n,r,i/2.2),e.restore())}function Sd(e,t){e.fillStyle=t.fill,e.strokeStyle=t.stroke,e.lineWidth=t.lineWidth}function xd(e,t,n,r,i,s,o){s==="star"?Sd(e,pe.colors.lines.star):s==="freestyle"||s==="rap"?Sd(e,pe.colors.lines.freestyle):s==="rapstar"?Sd(e,{...pe.colors.lines.star,fill:pe.colors.lines.freestyle.fill}):Sd(e,pe.colors.lines.normal),e.shadowBlur=10,e.shadowColor=o!==void 0?pe.colors.players[o].miss.stroke:"rgb(31,31,31)",e.shadowOffsetX=0,e.shadowOffsetY=0,dE(e,t,n,r,i,100,!0,!0,.075),e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0}function Eve(e,t,n,r,i,s,o,a,l){Sd(e,ZN(e,s,l,o,a)),e.shadowBlur=5,e.shadowColor="rgba(31,31,31, .7)",e.shadowOffsetX=1,e.shadowOffsetY=1,dE(e,t,n,r,i,100,!0,!0,o?.15:0),e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0}const Pn=10,kve={start:{x:0,y:0,w:Pi/2+Pn,h:Pi+Pn*2},middle:{x:Pi/2+Pn,y:0,w:1,h:Pi+Pn*2},end:{x:Pi/2+1+Pn,y:0,w:Pi/2+Pn,h:Pi+Pn*2}},bc={start:{x:0,y:0,w:bn/2+Pn,h:bn+Pn*2},middle:{x:bn/2+Pn,y:0,w:1,h:bn+Pn*2},end:{x:bn/2+1+Pn,y:0,w:bn/2+Pn,h:bn+Pn*2}},ec=(e,t,n,r,i)=>({draw:(s,o,a,l,c)=>Eve(s,o,a,l,c,e,t,n,r),width:i?bn:Pi+1,height:i?bn:Pi,padding:Pn,fragments:i?bc:kve}),Cp=e=>({[`p${e}Normal`]:{draw:(t,n,r,i,s)=>xd(t,n,r,i,s,"normal",e),width:bn+1,height:bn,padding:Pn,fragments:bc},[`p${e}Miss`]:ec(e,!1,!1,!1,!1),[`p${e}Hit`]:ec(e,!0,!1,!1,!0),[`p${e}Perfect`]:ec(e,!0,!0,!1,!0),[`p${e}StarMiss`]:ec(e,!1,!1,!0,!1),[`p${e}StarHit`]:ec(e,!0,!1,!0,!0),[`p${e}StarPerfect`]:ec(e,!0,!0,!0,!0)}),ho={...Cp(0),...Cp(1),...Cp(2),...Cp(3),noteStar:{draw:(e,t,n,r,i)=>xd(e,t,n,r,i,"star"),width:bn+1,height:bn,padding:Pn,fragments:bc},noteFreestyle:{draw:(e,t,n,r,i)=>xd(e,t,n,r,i,"freestyle"),width:bn+1,height:bn,padding:Pn,fragments:bc},noteRap:{draw:(e,t,n,r,i)=>xd(e,t,n,r,i,"rap"),width:bn+1,height:bn,padding:Pn,fragments:bc},noteRapstar:{draw:(e,t,n,r,i)=>xd(e,t,n,r,i,"rapstar"),width:bn+1,height:bn,padding:Pn,fragments:bc}};function Cve(e,t){const n=document.createElement("canvas");return n.width=e,n.height=t,n}const cB=Math.max(...Object.values(ho).map(e=>e.padding*2+e.width)),uB=Object.values(ho).map(e=>e.padding*2+e.height).reduce((e,t)=>e+t,0),dB=Cve(cB,uB),hb=dB.getContext("2d");let el=0;const eM=Object.entries(ho).map(([e,t])=>{const n=t.padding*2,r={name:e,x:0,y:el,w:t.width+n,h:t.height+n};return el=el+t.height+n,r}).reduce((e,t)=>({...e,[t.name]:t}),{}),fB=()=>{hb.clearRect(0,0,cB,uB),el=0,Object.entries(ho).forEach(([e,t])=>{t.draw(hb,t.padding,el+t.padding,t.width,t.height),el=el+t.padding*2+t.height})};fB();ee.songStarted.subscribe(fB);const hB=(e,t)=>({canvas:dB,ctx:hb,x:eM[e].x+ho[e].fragments[t].x,y:eM[e].y+ho[e].fragments[t].y,w:ho[e].fragments[t].w,h:ho[e].fragments[t].h,padding:ho[e].padding}),fA=(e,t,n,r,i,s,o,a=1,l=1)=>{const c=hB(t,n),{canvas:u,w:d,h,y:p,x:g,padding:m}=c,_=m*a,v=m*l;return e.imageSmoothingEnabled=!1,e.drawImage(u,g,p,d,h,r-_,i-v,s??d,o??h),e.imageSmoothingEnabled=!0,c};function pB(e,t,n,r,i){const s=hB(t,"start"),o=Math.max(i,(s.h-s.padding*2)/2),a=Math.min(1,o/2/(s.w-s.padding)),l=a*s.w,c=l-s.padding*a,u=o-2*c;fA(e,t,"start",n,r,l,void 0,a),u>0&&fA(e,t,"middle",n+l,r,u,void 0,a),fA(e,t,"end",n+u+l,r,l,void 0,a)}const Tve=(e,t)=>`${t!==void 0&&e==="normal"?`p${t}`:"note"}${wve(e)}`;function gB(e,t,n,r,i,s){const o=Tve(i.type,s);pB(e,o,t,n,r)}function Ive(e,t,n,r,i,s){e.save(),dE(e,t,n,r,i,100,!1,!1),e.clip(),e.beginPath(),e.strokeStyle="rgba(255,255,255, .35)",e.lineWidth=3,e.lineJoin="round",e.moveTo(t,n+i/2-s.frequencyRecords[0].preciseDistance*i/3);for(let o=1;o<s.frequencyRecords.length;o++)e.lineTo(t+o*(r/(s.frequencyRecords.length-1)),n+i/2-s.frequencyRecords[o].preciseDistance*i/3);e.stroke(),e.closePath(),e.restore(),e.lineJoin="miter"}const Rve=(e,t,n,r)=>{let i=`p${e}`;return n&&r?i=`${i}StarPerfect`:n?i=`${i}Perfect`:r&&t?i=`${i}StarHit`:t?i=`${i}Hit`:r&&!t?i=`${i}StarMiss`:i=`${i}Miss`,i},Mve=["star","rapstar"];function Pve(e,t,n,r,i,s,o){const a=Rve(i,s,o.isPerfect,Mve.includes(o.note.type));pB(e,a,t,n,r)}class jve{constructor(){this.particles=[],this.lastTick=Date.now(),this.getTimeDelta=t=>{const n=Date.now()-t,r=n-this.lastTick;return this.lastTick=n,r},this.tick=(t,n,r=0)=>{const i=this.getTimeDelta(r);this.particles.forEach(s=>s.tick(t,n,i)),this.particles=this.particles.filter(s=>!s.finished)},this.add=t=>this.particles.push(t),this.clearAll=()=>this.particles=[]}}const Da=new jve,Ove=50/60*1e3,Vve=25/60*1e3,Lve=60,tM=.3;class Nve{constructor(t,n,r,i){this.x=t,this.y=n,this.color=r,this.delay=i,this.finished=!1,this.tick=(s,o,a)=>{if(this.delay-- >0)return;const l=this.ttl/this.startingTtl,c=this.startingTtl-this.ttl,u=this.width*l,d=this.width*this.heightModifier*l,h=this.x-u/2+c*this.velocityX,p=this.y-d/2+c*this.velocityY;eB(o,s,h,p,u,d,this.initialAngle+c,this.color,.8*l),this.velocityX=this.velocityX-.009,this.velocityY=this.velocityY*1.0075,this.ttl=this.ttl-a,this.finished=this.ttl<=0},this.startingTtl=this.ttl=hg(Ove,Vve),this.velocityX=hg(.5,tM)*XR(.2),this.velocityY=hg(.4,tM)*XR(),this.width=Lve,this.initialAngle=180-Math.random()*360,this.heightModifier=.5+Math.random()/2}}class Bve{constructor(t,n,r,i,s,o){this.finished=!0,this.tick=(d,h)=>{};const a=s.type==="star"?pe.colors.players[i].star.fill:pe.colors.players[i].perfect.fill,l=ue(a).lighten(15).toRgbString(),c=ue(a).darken(15).toRgbString(),u=r/8;for(let d=0;d<u;d++){const h=Math.random();let p=a;h>.66?p=l:h>.33&&(p=c);const g=n+20*(Math.random()-.5);o.add(new Nve(t+d*5,g,p,(u-d)/10))}}}const nM=200;class Dve{constructor(t,n,r,i,s){this.x=t,this.y=n,this.width=r,this.note=i,this.playerNumber=s,this.finished=!1,this.ttl=nM,this.tick=(o,a,l)=>{const c=this.ttl/nM;o.save(),o.globalAlpha=c,o.translate(0,bn*(1-c)),gB(o,this.x,this.y,this.width,this.note,this.playerNumber),o.globalAlpha=1,o.restore(),this.ttl=this.ttl-l,this.finished=this.ttl<=0}}}const hA=50/60*1e3,Tp=.05,$ve=200,rM=4,Fve=Math.pow;function iM(e){return 1-Fve(1-e,2)}class zve{constructor(t,n,r,i){this.x=t,this.y=n,this.finished=!1,this.tick=(s,o,a)=>{const l=this.ttl/hA;let c=iM(1-Math.min(1,(1-l)*6));const u=this.maxWidth*c*3/4,d=this.maxWidth*c;ub(o,s,this.x,this.y,u,d,"white",c*.35),c=iM(l);const h=c*this.maxWidth/4,p=c*this.maxWidth/4,g=this.x,m=this.y,_=hA-this.ttl;s.globalAlpha=c*.2,ub(o,s,g+_*this.velocityX,m+_*this.velocityY,h,p,"white",c*.2),this.ttl=this.ttl-a,this.finished=this.ttl<=0},this.ttl=hA,this.velocityX=Tp*Math.random()-Tp/2,this.velocityY=Tp*Math.random()-Tp/2,this.maxWidth=Math.min(.1+i,1)*(Math.sin(r/70)*rM+($ve-rM))}}const sM=20;class Uve{constructor(t,n,r,i,s){this.x=t,this.y=n,this.w=r,this.h=i,this.seed=s,this.finished=!1,this.ttl=2/60*1e3,this.tick=(o,a,l)=>{o.strokeStyle="rgba(255,255,255,.25)",o.lineWidth=2,o.beginPath();for(let c=0;c<this.w;c++){const u=this.x+this.w-c,d=(this.h/2+2)*Math.sin(u/sM+this.seed/250);o.lineTo(u,this.y+this.h/2+d)}o.stroke(),o.beginPath();for(let c=0;c<this.w;c++){const u=this.x+this.w-c,d=-1*(this.h/2+2)*Math.sin(u/sM+this.seed/250);o.lineTo(u,this.y+this.h/2+d)}o.stroke(),this.ttl=this.ttl-l,this.finished=this.ttl<=0}}}const oM=20;function Hve(e,t){return e.find(n=>n.start<=t&&n.start+n.length>=t)}class Gve{constructor(t,n=0,r=1){this.canvas=t,this.verticalMargin=n,this.scaleFactor=r,this.loop=!1,this.pauseTime=0,this.pausedOn=0,this.shaders=null,this.start=()=>{ee.sectionChange.subscribe(this.onSectionEnd),this.loop=!0,this.drawFrame()},this.pause=()=>{this.end(),this.pausedOn=Date.now()},this.resume=()=>{this.pauseTime+=Date.now()-this.pausedOn,this.start()},this.end=()=>{var i;this.loop=!1,(i=this.shaders)==null||i.cleanup(),ee.sectionChange.unsubscribe(this.onSectionEnd)},this.isPlaying=()=>this.loop,this.drawFrame=()=>{const i=Date.now(),s=this.canvas.getContext("2d");if(s){if(Le.isPlaying()&&(s.clearRect(0,0,this.canvas.width,this.canvas.height),Me.getPlayers().forEach((a,l)=>{this.drawPlayer(a.number,s)}),Da.tick(s,this.canvas,this.pauseTime)),tl.get()===30){const o=Date.now(),a=1e3/30,l=o-i>a?a:a-(o-i);this.loop&&setTimeout(this.drawFrame,l,tl.get())}tl.get()!==30&&this.loop&&global.requestAnimationFrame(this.drawFrame)}},this.drawPlayer=(i,s)=>{const o=this.getDrawingData(i),{currentSection:a}=JR(o);if(Di.get()==="high"&&this.setDistortionForce(o),!Mt(a))return;const l=this.calculateDisplacements(a,o);this.drawNotesToSing(s,o,l),this.drawSungNotes(s,o,l),Di.get()==="high"&&this.drawFlare(s,o,l)},this.setDistortionForce=i=>{var o,a,l;const s=i.currentSection;if(!Mt(s))(a=this.shaders)==null||a.updatePlayerForce(i.playerNumber,(((o=this.shaders)==null?void 0:o.getPlayerForce(i.playerNumber))??0)*.99);else{const c=Math.max(0,i.currentBeat-oM),u=i.currentPlayerNotes.filter(m=>m.note.start+m.note.length>=c).filter(m=>Vg(m)===0).reduce((m,_)=>m+_.length-Math.max(0,c-_.start),0),d=i.currentPlayerNotes.at(-1),h=((d==null?void 0:d.start)??0)+((d==null?void 0:d.length)??0),p=i.currentBeat-h,g=Math.max(Math.min(Math.pow((u-p/1.5)/oM,3),.98),0);(l=this.shaders)==null||l.updatePlayerForce(i.playerNumber,g)}},this.drawNotesToSing=(i,s,o)=>{Mt(s.currentSection)&&s.currentSection.notes.forEach(a=>{const{x:l,y:c,w:u,h:d}=this.getNoteCoords(s,a,a.pitch,!0,o[a.start]);gB(i,l,c,u,a,s.playerNumber)})},this.drawSungNotes=(i,s,o)=>{Mt(s.currentSection)&&s.currentPlayerNotes.forEach(a=>{const l=Vg(a),{x:c,y:u,w:d,h}=this.getNoteCoords(s,a,a.note.pitch+l,l===0,o[a.note.start]);(l>0||d>h/2.5)&&(Pve(i,c,u,d,s.playerNumber,l===0,a),a.vibrato&&Da.add(new Uve(c,u,d,h,s.currentTime)),l===0&&a.frequencyRecords.length>3&&!Md.includes(a.note.type)&&Ive(i,c,u,d,h,a))})},this.drawFlare=(i,s,o)=>{var l;if(!Mt(s.currentSection))return;const a=Hve(s.currentPlayerNotes,s.currentBeat-185/s.songBeatLength);if(a&&a.distance===0){const c=o[a.note.start]||[0,0],{x:u,y:d,w:h,h:p}=this.getNoteCoords(s,a,a.note.pitch,!0,c),g=Md.includes(a.note.type)?0:a.frequencyRecords.at(-1).preciseDistance,m=u+h,_=this.getPreciseY(d,p,g);Da.add(new zve(m,_,s.currentTime,1)),Da.add(new H0e(qN(Math.max(u,m-50),m),_,$0e(i,s.playerNumber,!0,a).fill)),(l=this.shaders)==null||l.updatePlayerCenter(s.playerNumber,m,_)}},this.onSectionEnd=i=>{if(Le.isPlaying()){const s=this.getDrawingData(i,-1);if(!Mt(s.currentSection))return;this.fadeoutNotes(s.currentSection,s),this.explodeNotes(s.currentSection,s)}},this.fadeoutNotes=(i,s)=>{Di.get()==="high"&&i.notes.forEach(o=>{const{x:a,y:l,w:c,h:u}=this.getNoteCoords(s,o,o.pitch,!0);Da.add(new Dve(a,l,c,o,s.playerNumber))})},this.explodeNotes=(i,s)=>{Di.get()==="high"&&s.playerNotes.filter(a=>(a.distance===0||Md.includes(a.note.type))&&i.notes.includes(a.note)).forEach(a=>{const{x:l,y:c,w:u,h:d}=this.getNoteCoords(s,a,a.note.pitch,!0);Da.add(new Bve(l,c+d/2,u,s.playerNumber,a.note,Da))})},this.calculateDisplacements=(i,s)=>{const o={};return Di.get()==="high"?i.notes.forEach(a=>{const l=s.playerNotes.filter(h=>h.note.start===a.start).filter(h=>h.note.start+h.note.length+30>=s.currentBeat&&h.distance===0).map(h=>h.start+30<s.currentBeat?h.length-(s.currentBeat-30-h.start):h.length).reduce((h,p)=>Math.min(h+p,30),0),c=Math.max(0,(l-5)/(a.type==="star"?3:5)),u=(Math.random()-.5)*c,d=(Math.random()-.5)*c;o[a.start]=[u,d]}):i.notes.forEach(a=>{o[a.start]=[0,0]}),o},this.getDrawingData=(i,s=0)=>{const o=Me.getPlayers(),a=o.findIndex(m=>m.number===i),l=o.length,c=Le.getPlayer(i),u=c.getCurrentSectionIndex()+s,d=Le.getSong(),h=c.getTrack(),p=h.sections[u],g=c.getPlayerNotes();return{playerNumber:i,playerIndex:a,playerCount:l,song:d,songBeatLength:Le.getSongBeatLength(),minPitch:c.getMinPitch(),maxPitch:c.getMaxPitch(),canvas:this.canvas,currentTime:Le.getCurrentTime(),frequencies:c.getPlayerFrequencies(),playerNotes:g,currentPlayerNotes:g.filter(m=>m.note.start>=((p==null?void 0:p.start)??1/0)),track:h,currentBeat:Le.getCurrentBeat(),currentSectionIndex:u,currentSection:p,paddingVertical:this.verticalMargin}},this.getNoteCoords=(i,{start:s,length:o},a,l,c=[0,0])=>{const{sectionEndBeat:u,currentSection:d,playerCanvas:h,pitchStepHeight:p}=JR(i),g=Mt(d)?d.notes[0].start:1,m=h.width/(u-g),[_,v]=l?c:[0,0],y=p*(i.maxPitch-a+XN);return{x:Math.floor(h.baseX+m*(s-g)+_),y:Math.floor(h.baseY+10+y+v-(l?3:0)),w:Math.floor(m*o),h:l?bn:Pi}},this.getPreciseY=(i,s,o)=>i+s/2-o*s/3}}const qve=`precision mediump float;

const float MAX_FORCE = 300.0;
const int SAMPLE_COUNT = 8; // 2^x
const float INTENSITY = 0.051;
// get our varyings
varying vec3 vVertexPosition;
varying vec2 vTextureCoord;
// the uniform we declared inside our javascript
uniform float uTime;
uniform sampler2D planeTexture;
uniform vec2 uResolution;

uniform vec2 uP0center;
uniform float uP0force;

uniform vec2 uP1center;
uniform float uP1force;

float rnd(float n) {
    return fract(sin(n) * 43758.5453);
}
float random (vec2 st) {
    return rnd(dot(st.xy, vec2(12.9898, 78.233)));
}

vec4 directionalBlur(in vec2 uv, in vec2 direction, in float intensity)
{
    vec4 color = vec4(0.0);

    for (int i=1; i<=SAMPLE_COUNT; i++)
    {
        color += texture2D(planeTexture,uv+float(i)*intensity/float(SAMPLE_COUNT)*direction);
    }

    return color/float(SAMPLE_COUNT);
}

float distort(vec2 center, float force, float comparedIntensity) {
    float actualForce = force * MAX_FORCE;
    vec2 centerAbs = center * uResolution;

    vec2 direction = gl_FragCoord.xy - centerAbs.xy;
    float dist = length(direction) / length(uResolution);


    float intensity = max(0.0, 0.50 - dist) * INTENSITY * pow(force, 1.5);
    if (intensity > comparedIntensity) {
        vec4 newColor = directionalBlur(gl_FragCoord.xy / uResolution, normalize(direction), intensity);
        gl_FragColor = newColor;
    }
    return intensity;
}

void main() {
    gl_FragColor = texture2D(planeTexture, vTextureCoord);
    float p1intensity = distort(uP0center, uP0force, 0.0);
    float p2intensity = distort(uP1center, uP1force, p1intensity);
}`,Wve=`
precision mediump float;

// default mandatory variables
attribute vec3 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat4 uMVMatrix;
uniform mat4 uPMatrix;

uniform mat4 planeTextureMatrix;

// custom varyings
varying vec3 vVertexPosition;
varying vec2 vTextureCoord;

void main() {
    gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);

    // varyings
    vVertexPosition = aVertexPosition;
    vTextureCoord = (planeTextureMatrix * vec4(aTextureCoord, 0.0, 1.0)).xy;
}`,Kve=1920,Yve=A.forwardRef(function({currentStatus:e,width:t,height:n,playerSetups:r,onSongEnd:i,effectsEnabled:s,videoPlayerRef:o,isPauseMenuVisible:a},l){var S,x,b;const[c]=$e(Di),[u]=$e(pr),d=A.useRef(null),h=A.useRef(null),p=A.useRef(null),g=Kve,m=g*(n/t),_=m/n;A.useImperativeHandle(l,()=>({pause:()=>{var w;return(w=h.current)==null?void 0:w.pause()},resume:()=>{var w;return(w=h.current)==null?void 0:w.resume()}}),[h.current,(S=p.current)==null?void 0:S.offsetHeight,_]),A.useEffect(()=>(Le.startInputMonitoring(),()=>{Le.stopInputMonitoring()}),[]),A.useEffect(()=>{if(!(!d.current||!p.current))return h.current=new Gve(d.current,p.current.offsetHeight*_),h.current.start(),()=>{var w;(w=h.current)==null||w.end()}},[(x=p.current)==null?void 0:x.offsetHeight,_]),A.useEffect(()=>{var w,E,T,$;a&&((w=h.current)!=null&&w.isPlaying())?(E=h.current)==null||E.pause():!a&&!((T=h.current)!=null&&T.isPlaying())&&(($=h.current)==null||$.resume())},[a]),A.useEffect(()=>{e===In.ENDED&&i&&i()},[e,i]);const v=Me.getPlayers(),y=!u&&v.length===2;return f.jsxs(Qve,{children:[c==="high"&&f.jsxs(f.Fragment,{children:[f.jsx("script",{type:"x-shader/x-fragment",id:"plane-fs",children:qve}),f.jsx("script",{id:"plane-vs",type:"x-shader/x-vertex",children:Wve}),f.jsx(Xve,{id:"canvas",style:{zIndex:1e4}})]}),f.jsx(Jve,{id:"plane",style:s?void 0:{opacity:0},children:f.jsx("canvas",{ref:d,width:g,height:m,"data-sampler":"planeTexture"})}),s&&f.jsxs(f.Fragment,{children:[f.jsx(f0e,{playerRef:o,isEnabled:!a}),f.jsx(A0e,{onSongEnd:i,isEnabled:!a})]}),f.jsx(_0e,{players:r}),f.jsx(aM,{children:y&&f.jsx(KR,{player:v[0],effectsEnabled:s,showMultipleLines:y})}),f.jsx(Zve,{children:s&&f.jsx(f.Fragment,{children:((b=Le.getSingSetup())==null?void 0:b.mode)===Mr.CO_OP?f.jsx(lM,{"data-test":"players-score","data-score":Math.floor(Le.getPlayerScore(0)),children:f.jsx(cb,{score:Le.getPlayerScore(0)})}):Me.getPlayers().map(w=>f.jsx(lM,{"data-test":`player-${w.number}-score`,"data-score":Math.floor(Le.getPlayerScore(w.number)),children:f.jsx(cb,{score:Le.getPlayerScore(w.number)})},w.number))})}),f.jsx(aM,{ref:p,children:f.jsx(KR,{showMultipleLines:y,player:v[y?1:0],bottom:!0,effectsEnabled:s})})]})}),aM=C("div",{target:"el0barv5"})({name:"14ci2tu",styles:"padding:2rem 0;box-sizing:border-box"}),Qve=C("div",{target:"el0barv4"})({name:"y3i90j",styles:"height:100%;color:white;-webkit-text-stroke:0.2rem black;font-weight:bold;position:relative;display:flex;flex-direction:column"}),Jve=C("div",{target:"el0barv3"})({name:"1x1omeb",styles:"position:absolute;top:0;left:0;width:100%;height:100%;canvas{width:100%;height:100%;}"}),Xve=C("div",{target:"el0barv2"})({name:"1b4920d",styles:"position:absolute;top:0;left:0;width:100%;height:100%"}),Zve=C("div",{target:"el0barv1"})({name:"od05bk",styles:"flex:1;height:100%;box-sizing:border-box;font-size:5.5rem;display:flex;justify-content:space-around;padding-right:4rem;flex-direction:column;text-align:right;z-index:1"}),lM=C("span",{target:"el0barv0"})("");function eye(e,t){const[n,r]=A.useState(0);return A.useEffect(()=>{e.current&&t===In.PLAYING&&n===0&&e.current.getDuration().then(i=>{r(i),Le.setDuration(i)})},[n,e,t]),n}function tye({song:e,width:t,height:n,autoplay:r=!0,showControls:i=!1,onCurrentTimeUpdate:s,onSongEnd:o,onStatusChange:a,players:l,effectsEnabled:c=!0,singSetup:u,restartSong:d,pauseMenu:h=!1,...p},g){const m=A.useRef(null),[_,v]=A.useState(0),[y,S]=A.useState(In.UNSTARTED),[x]=$e(Td),[b,w]=A.useState(!1);A.useEffect(()=>(Le.setSong(e),Le.setSingSetup(u),()=>{Le.resetSingSetup()}),[e,u]),A.useEffect(()=>{if(m.current&&y===In.PLAYING){const R=setInterval(async()=>{if(!m.current)return;const I=Math.max(0,await m.current.getCurrentTime()*1e3-x);v(I),s==null||s(I),Le.setCurrentTime(I),Le.update()},1e3/tl.get());return()=>clearInterval(R)}},[m,s,y,x]);const E=eye(m,y);A.useImperativeHandle(g,()=>({seekTo:R=>m.current.seekTo(R),setPlaybackSpeed:R=>m.current.setPlaybackSpeed(R),play:()=>m.current.playVideo(),pause:()=>m.current.pauseVideo()}));const T=A.useCallback(R=>{S(R),a==null||a(R)},[S,a]),$=h,N=()=>{var R;w(!0),(R=m.current)==null||R.pauseVideo()},B=()=>{var R;w(!1),(R=m.current)==null||R.playVideo()},K=()=>{b?B():N()},P=Im(y);A.useEffect(()=>{var I;if(!$)return;const R=P!==In.PAUSED&&P!==In.BUFFERING&&y===In.PAUSED;y===In.PLAYING&&b?(I=m.current)==null||I.pauseVideo():R&&!b&&w(!0)},[b,y,P,$]),Bl({back:K},$,[b]);const L=A.useMemo(()=>({back:"Pause Menu"}),[]);return Vu(L,c),f.jsxs(nye,{...p,children:[b&&f.jsx(l0e,{onExit:o,onResume:B,onRestart:d}),y!==In.UNSTARTED&&f.jsx(rye,{style:{width:`${t}px`,height:`${n}px`},children:f.jsx(Yve,{isPauseMenuVisible:b,effectsEnabled:c,duration:E,currentStatus:y,song:e,width:t,height:n,onSongEnd:o,playerSetups:l,videoPlayerRef:m.current})}),f.jsxs(iye,{children:[f.jsx(Gw,{ref:m,video:e.video,width:t,height:n,controls:i,autoplay:r,disablekb:!0,volume:e.volume,startAt:e.videoGap??0,onStateChange:T}),y===In.PLAYING&&f.jsx(sye,{"data-test":"make-song-go-fast",onClick:()=>{var R;(R=m.current)==null||R.setPlaybackSpeed(2)}})]})]})}const nye=C("div",{target:"e1ggxuxd3"})({name:"bjn8wh",styles:"position:relative"}),rye=C("div",{target:"e1ggxuxd2"})({name:"qkt6ng",styles:"position:absolute;z-index:1;background-color:rgba(0, 0, 0, 0.2);pointer-events:none;width:100%;height:100%;top:0;left:0"}),iye=C("div",{target:"e1ggxuxd1"})({name:"j387f9",styles:"overflow:hidden;height:100%"}),sye=C("div",{target:"e1ggxuxd0"})({name:"sp3f84",styles:"width:30px;height:30px;opacity:0.01;background:black;position:absolute;bottom:calc(100vh / 2 - 15px);left:0"}),oye=A.forwardRef(tye),cM=[f.jsxs(f.Fragment,{children:["You can follow the updates and give feedback on the game through the Facebook Page:"," ",f.jsx("a",{href:"https://www.facebook.com/allkaraoke.party",target:"_blank",rel:"noreferrer",children:f.jsx("strong",{children:"fb.com/AllKaraoke.Party"})})]}),f.jsxs(f.Fragment,{children:["Start typing a name of a song in ",f.jsx("strong",{children:"Song Selection"})," to active Search feature"]}),f.jsxs(f.Fragment,{children:["Narrow down songs through ",f.jsx("strong",{children:"playlists"})," on the right in Song Selection"]}),f.jsxs(f.Fragment,{children:["Select ",f.jsx("strong",{children:"Pass The Mic"})," Game Mode to share the microphones and sing in a team"]}),f.jsxs(f.Fragment,{children:["Your scores and ",f.jsx("strong",{children:"stats are saved"})," in this browser - they will be available for the next party!"]}),f.jsxs(f.Fragment,{children:["You can remove irrelevant songs from the Song Selection in ",f.jsx("strong",{children:"Edit Songs"})," page"]}),f.jsxs(f.Fragment,{children:["If the game feels a bit jaggy with low FPS, check out ",f.jsx("strong",{children:"Settings"})," page"]}),f.jsxs(f.Fragment,{children:["Party is only getting started? Play ",f.jsx("strong",{children:"Jukebox"})," for the music and to see what songs are available"]}),f.jsxs(f.Fragment,{children:["Research shows that ",f.jsx("strong",{children:"duet songs"})," are that bit more fun than simple one-track ones"]}),f.jsxs(f.Fragment,{children:["Want to sing a ",f.jsx("strong",{children:"new song"}),"? Find UltraStar version of it and import it with",f.jsx("br",{}),f.jsx("strong",{children:"Convert Ultrastar .txt"})]}),f.jsxs(f.Fragment,{children:["The ",f.jsx("strong",{children:"white pulse"})," around selected song in Song Selection tries to match song's tempo"]}),f.jsxs(f.Fragment,{children:["Entire game (besides add/edit song) is navigable with ",f.jsx("strong",{children:"Keyboard"})]}),f.jsxs(f.Fragment,{children:["You can hide or show keyboard navigation help with ",f.jsx("kbd",{children:"H"})," key"]}),f.jsxs(f.Fragment,{children:["In Song Selection, hold ",f.jsx("kbd",{children:"↑"})," or ",f.jsx("kbd",{children:"↓"})," to jump to the next letter"]}),f.jsxs(f.Fragment,{children:["Add ",f.jsx("strong",{children:"vibrato"})," to the notes you sing to get additional ",f.jsx("strong",{children:"bonus points"})]}),f.jsxs(f.Fragment,{children:["You can control the game with your phone - click on the"," ",f.jsxs("strong",{children:[f.jsx(bf,{}),"QR Code Icon"]})," ","on the top right and follow the instructions"]})],aye=({as:e="h4",...t})=>{const n=A.useRef(Hs(0,cM.length-1)),r=e;return f.jsx(r,{...t,children:cM[n.current]})};function lye({...e}){const[t,n]=A.useState(""),r=A.useRef(null);return A.useEffect(()=>{const i=setTimeout(()=>{n(fs.getVideo())},1e3);return()=>{clearTimeout(i)}},[]),A.useEffect(()=>{try{r.current&&(r.current.playbackRate=16)}catch(i){Js(i)}},[t]),f.jsx(cye,{...e,children:f.jsx(uye,{src:t,ref:r,loop:!0,autoPlay:!0,className:"ph-no-capture"})})}const cye=C("div",{target:"e1hckw6c1"})({name:"1g34f1k",styles:"width:80rem;height:60rem"}),uye=C("video",{target:"e1hckw6c0"})({name:"idj2s4",styles:"object-fit:cover;width:100%;height:100%"});function dye(e){return 1-Math.pow(1-e,3)}function fye(e){return dye(e)}function Ip({color:e,maxScore:t,score:n}){return f.jsx(hye,{style:{border:n===0?0:void 0,width:`${fye(n/t)*24}%`,backgroundColor:e}})}const hye=C("div",{target:"e6b38g50"})({name:"1vc31u",styles:`background-image:linear-gradient(
    180deg,
    rgba(0, 0, 0, 0.17) 0%,
    rgba(0, 0, 0, 0.03) 50%,
    rgba(0, 0, 0, 0.18) 51%,
    rgba(0, 0, 0, 0.18) 100%
  );transition:1s;border-radius:0.5rem;height:100%;border:solid 0.1rem black;box-sizing:border-box`});var mB={exports:{}};(function(e,t){(function(n,r){e.exports=r(A)})(typeof self<"u"?self:Qo,n=>(()=>{var r={7403:(a,l,c)=>{c.d(l,{default:()=>j});var u=c(4087),d=c.n(u);const h=function(z){return new RegExp(/<[a-z][\s\S]*>/i).test(z)},p=function(z,V){return Math.floor(Math.random()*(V-z+1))+z};var g="TYPE_CHARACTER",m="REMOVE_CHARACTER",_="REMOVE_ALL",v="REMOVE_LAST_VISIBLE_NODE",y="PAUSE_FOR",S="CALL_FUNCTION",x="ADD_HTML_TAG_ELEMENT",b="CHANGE_DELETE_SPEED",w="CHANGE_DELAY",E="CHANGE_CURSOR",T="PASTE_STRING",$="HTML_TAG";function N(z){return N=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(V){return typeof V}:function(V){return V&&typeof Symbol=="function"&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":typeof V},N(z)}function B(z,V){var G=Object.keys(z);if(Object.getOwnPropertySymbols){var U=Object.getOwnPropertySymbols(z);V&&(U=U.filter(function(ne){return Object.getOwnPropertyDescriptor(z,ne).enumerable})),G.push.apply(G,U)}return G}function K(z){for(var V=1;V<arguments.length;V++){var G=arguments[V]!=null?arguments[V]:{};V%2?B(Object(G),!0).forEach(function(U){I(z,U,G[U])}):Object.getOwnPropertyDescriptors?Object.defineProperties(z,Object.getOwnPropertyDescriptors(G)):B(Object(G)).forEach(function(U){Object.defineProperty(z,U,Object.getOwnPropertyDescriptor(G,U))})}return z}function P(z){return function(V){if(Array.isArray(V))return L(V)}(z)||function(V){if(typeof Symbol<"u"&&V[Symbol.iterator]!=null||V["@@iterator"]!=null)return Array.from(V)}(z)||function(V,G){if(V){if(typeof V=="string")return L(V,G);var U=Object.prototype.toString.call(V).slice(8,-1);return U==="Object"&&V.constructor&&(U=V.constructor.name),U==="Map"||U==="Set"?Array.from(V):U==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(U)?L(V,G):void 0}}(z)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function L(z,V){(V==null||V>z.length)&&(V=z.length);for(var G=0,U=new Array(V);G<V;G++)U[G]=z[G];return U}function R(z,V){for(var G=0;G<V.length;G++){var U=V[G];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(z,F(U.key),U)}}function I(z,V,G){return(V=F(V))in z?Object.defineProperty(z,V,{value:G,enumerable:!0,configurable:!0,writable:!0}):z[V]=G,z}function F(z){var V=function(G,U){if(N(G)!=="object"||G===null)return G;var ne=G[Symbol.toPrimitive];if(ne!==void 0){var O=ne.call(G,"string");if(N(O)!=="object")return O;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(G)}(z);return N(V)==="symbol"?V:String(V)}const j=function(){function z(U,ne){var O=this;if(function(Z,oe){if(!(Z instanceof oe))throw new TypeError("Cannot call a class as a function")}(this,z),I(this,"state",{cursorAnimation:null,lastFrameTime:null,pauseUntil:null,eventQueue:[],eventLoop:null,eventLoopPaused:!1,reverseCalledEvents:[],calledEvents:[],visibleNodes:[],initialOptions:null,elements:{container:null,wrapper:document.createElement("span"),cursor:document.createElement("span")}}),I(this,"options",{strings:null,cursor:"|",delay:"natural",pauseFor:1500,deleteSpeed:"natural",loop:!1,autoStart:!1,devMode:!1,skipAddStyles:!1,wrapperClassName:"Typewriter__wrapper",cursorClassName:"Typewriter__cursor",stringSplitter:null,onCreateTextNode:null,onRemoveNode:null}),I(this,"setupWrapperElement",function(){O.state.elements.container&&(O.state.elements.wrapper.className=O.options.wrapperClassName,O.state.elements.cursor.className=O.options.cursorClassName,O.state.elements.cursor.innerHTML=O.options.cursor,O.state.elements.container.innerHTML="",O.state.elements.container.appendChild(O.state.elements.wrapper),O.state.elements.container.appendChild(O.state.elements.cursor))}),I(this,"start",function(){return O.state.eventLoopPaused=!1,O.runEventLoop(),O}),I(this,"pause",function(){return O.state.eventLoopPaused=!0,O}),I(this,"stop",function(){return O.state.eventLoop&&((0,u.cancel)(O.state.eventLoop),O.state.eventLoop=null),O}),I(this,"pauseFor",function(Z){return O.addEventToQueue(y,{ms:Z}),O}),I(this,"typeOutAllStrings",function(){return typeof O.options.strings=="string"?(O.typeString(O.options.strings).pauseFor(O.options.pauseFor),O):(O.options.strings.forEach(function(Z){O.typeString(Z).pauseFor(O.options.pauseFor).deleteAll(O.options.deleteSpeed)}),O)}),I(this,"typeString",function(Z){var oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(h(Z))return O.typeOutHTMLString(Z,oe);if(Z){var Pe=(O.options||{}).stringSplitter,Ae=typeof Pe=="function"?Pe(Z):Z.split("");O.typeCharacters(Ae,oe)}return O}),I(this,"pasteString",function(Z){var oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return h(Z)?O.typeOutHTMLString(Z,oe,!0):(Z&&O.addEventToQueue(T,{character:Z,node:oe}),O)}),I(this,"typeOutHTMLString",function(Z){var oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,Pe=arguments.length>2?arguments[2]:void 0,Ae=function(Fe){var Se=document.createElement("div");return Se.innerHTML=Fe,Se.childNodes}(Z);if(Ae.length>0)for(var le=0;le<Ae.length;le++){var be=Ae[le],He=be.innerHTML;be&&be.nodeType!==3?(be.innerHTML="",O.addEventToQueue(x,{node:be,parentNode:oe}),Pe?O.pasteString(He,be):O.typeString(He,be)):be.textContent&&(Pe?O.pasteString(be.textContent,oe):O.typeString(be.textContent,oe))}return O}),I(this,"deleteAll",function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"natural";return O.addEventToQueue(_,{speed:Z}),O}),I(this,"changeDeleteSpeed",function(Z){if(!Z)throw new Error("Must provide new delete speed");return O.addEventToQueue(b,{speed:Z}),O}),I(this,"changeDelay",function(Z){if(!Z)throw new Error("Must provide new delay");return O.addEventToQueue(w,{delay:Z}),O}),I(this,"changeCursor",function(Z){if(!Z)throw new Error("Must provide new cursor");return O.addEventToQueue(E,{cursor:Z}),O}),I(this,"deleteChars",function(Z){if(!Z)throw new Error("Must provide amount of characters to delete");for(var oe=0;oe<Z;oe++)O.addEventToQueue(m);return O}),I(this,"callFunction",function(Z,oe){if(!Z||typeof Z!="function")throw new Error("Callback must be a function");return O.addEventToQueue(S,{cb:Z,thisArg:oe}),O}),I(this,"typeCharacters",function(Z){var oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!Z||!Array.isArray(Z))throw new Error("Characters must be an array");return Z.forEach(function(Pe){O.addEventToQueue(g,{character:Pe,node:oe})}),O}),I(this,"removeCharacters",function(Z){if(!Z||!Array.isArray(Z))throw new Error("Characters must be an array");return Z.forEach(function(){O.addEventToQueue(m)}),O}),I(this,"addEventToQueue",function(Z,oe){var Pe=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return O.addEventToStateProperty(Z,oe,Pe,"eventQueue")}),I(this,"addReverseCalledEvent",function(Z,oe){var Pe=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return O.options.loop?O.addEventToStateProperty(Z,oe,Pe,"reverseCalledEvents"):O}),I(this,"addEventToStateProperty",function(Z,oe){var Pe=arguments.length>2&&arguments[2]!==void 0&&arguments[2],Ae=arguments.length>3?arguments[3]:void 0,le={eventName:Z,eventArgs:oe||{}};return O.state[Ae]=Pe?[le].concat(P(O.state[Ae])):[].concat(P(O.state[Ae]),[le]),O}),I(this,"runEventLoop",function(){O.state.lastFrameTime||(O.state.lastFrameTime=Date.now());var Z=Date.now(),oe=Z-O.state.lastFrameTime;if(!O.state.eventQueue.length){if(!O.options.loop)return;O.state.eventQueue=P(O.state.calledEvents),O.state.calledEvents=[],O.options=K({},O.state.initialOptions)}if(O.state.eventLoop=d()(O.runEventLoop),!O.state.eventLoopPaused){if(O.state.pauseUntil){if(Z<O.state.pauseUntil)return;O.state.pauseUntil=null}var Pe,Ae=P(O.state.eventQueue),le=Ae.shift();if(!(oe<=(Pe=le.eventName===v||le.eventName===m?O.options.deleteSpeed==="natural"?p(40,80):O.options.deleteSpeed:O.options.delay==="natural"?p(120,160):O.options.delay))){var be=le.eventName,He=le.eventArgs;switch(O.logInDevMode({currentEvent:le,state:O.state,delay:Pe}),be){case T:case g:var Fe=He.character,Se=He.node,Ee=document.createTextNode(Fe),Ke=Ee;O.options.onCreateTextNode&&typeof O.options.onCreateTextNode=="function"&&(Ke=O.options.onCreateTextNode(Fe,Ee)),Ke&&(Se?Se.appendChild(Ke):O.state.elements.wrapper.appendChild(Ke)),O.state.visibleNodes=[].concat(P(O.state.visibleNodes),[{type:"TEXT_NODE",character:Fe,node:Ke}]);break;case m:Ae.unshift({eventName:v,eventArgs:{removingCharacterNode:!0}});break;case y:var Ye=le.eventArgs.ms;O.state.pauseUntil=Date.now()+parseInt(Ye);break;case S:var Ie=le.eventArgs,at=Ie.cb,Tt=Ie.thisArg;at.call(Tt,{elements:O.state.elements});break;case x:var en=le.eventArgs,Pt=en.node,gn=en.parentNode;gn?gn.appendChild(Pt):O.state.elements.wrapper.appendChild(Pt),O.state.visibleNodes=[].concat(P(O.state.visibleNodes),[{type:$,node:Pt,parentNode:gn||O.state.elements.wrapper}]);break;case _:var ct=O.state.visibleNodes,_t=He.speed,Wt=[];_t&&Wt.push({eventName:b,eventArgs:{speed:_t,temp:!0}});for(var Je=0,jt=ct.length;Je<jt;Je++)Wt.push({eventName:v,eventArgs:{removingCharacterNode:!1}});_t&&Wt.push({eventName:b,eventArgs:{speed:O.options.deleteSpeed,temp:!0}}),Ae.unshift.apply(Ae,Wt);break;case v:var ve=le.eventArgs.removingCharacterNode;if(O.state.visibleNodes.length){var nt=O.state.visibleNodes.pop(),mn=nt.type,dt=nt.node,rt=nt.character;O.options.onRemoveNode&&typeof O.options.onRemoveNode=="function"&&O.options.onRemoveNode({node:dt,character:rt}),dt&&dt.parentNode.removeChild(dt),mn===$&&ve&&Ae.unshift({eventName:v,eventArgs:{}})}break;case b:O.options.deleteSpeed=le.eventArgs.speed;break;case w:O.options.delay=le.eventArgs.delay;break;case E:O.options.cursor=le.eventArgs.cursor,O.state.elements.cursor.innerHTML=le.eventArgs.cursor}O.options.loop&&(le.eventName===v||le.eventArgs&&le.eventArgs.temp||(O.state.calledEvents=[].concat(P(O.state.calledEvents),[le]))),O.state.eventQueue=Ae,O.state.lastFrameTime=Z}}}),U)if(typeof U=="string"){var de=document.querySelector(U);if(!de)throw new Error("Could not find container element");this.state.elements.container=de}else this.state.elements.container=U;ne&&(this.options=K(K({},this.options),ne)),this.state.initialOptions=K({},this.options),this.init()}var V,G;return V=z,(G=[{key:"init",value:function(){var U,ne;this.setupWrapperElement(),this.addEventToQueue(E,{cursor:this.options.cursor},!0),this.addEventToQueue(_,null,!0),!window||window.___TYPEWRITER_JS_STYLES_ADDED___||this.options.skipAddStyles||(U=".Typewriter__cursor{-webkit-animation:Typewriter-cursor 1s infinite;animation:Typewriter-cursor 1s infinite;margin-left:1px}@-webkit-keyframes Typewriter-cursor{0%{opacity:0}50%{opacity:1}100%{opacity:0}}@keyframes Typewriter-cursor{0%{opacity:0}50%{opacity:1}100%{opacity:0}}",(ne=document.createElement("style")).appendChild(document.createTextNode(U)),document.head.appendChild(ne),window.___TYPEWRITER_JS_STYLES_ADDED___=!0),this.options.autoStart===!0&&this.options.strings&&this.typeOutAllStrings().start()}},{key:"logInDevMode",value:function(U){this.options.devMode&&console.log(U)}}])&&R(V.prototype,G),Object.defineProperty(V,"prototype",{writable:!1}),z}()},8552:(a,l,c)=>{var u=c(852)(c(5639),"DataView");a.exports=u},1989:(a,l,c)=>{var u=c(1789),d=c(401),h=c(7667),p=c(1327),g=c(1866);function m(_){var v=-1,y=_==null?0:_.length;for(this.clear();++v<y;){var S=_[v];this.set(S[0],S[1])}}m.prototype.clear=u,m.prototype.delete=d,m.prototype.get=h,m.prototype.has=p,m.prototype.set=g,a.exports=m},8407:(a,l,c)=>{var u=c(7040),d=c(4125),h=c(2117),p=c(7518),g=c(4705);function m(_){var v=-1,y=_==null?0:_.length;for(this.clear();++v<y;){var S=_[v];this.set(S[0],S[1])}}m.prototype.clear=u,m.prototype.delete=d,m.prototype.get=h,m.prototype.has=p,m.prototype.set=g,a.exports=m},7071:(a,l,c)=>{var u=c(852)(c(5639),"Map");a.exports=u},3369:(a,l,c)=>{var u=c(4785),d=c(1285),h=c(6e3),p=c(9916),g=c(5265);function m(_){var v=-1,y=_==null?0:_.length;for(this.clear();++v<y;){var S=_[v];this.set(S[0],S[1])}}m.prototype.clear=u,m.prototype.delete=d,m.prototype.get=h,m.prototype.has=p,m.prototype.set=g,a.exports=m},3818:(a,l,c)=>{var u=c(852)(c(5639),"Promise");a.exports=u},8525:(a,l,c)=>{var u=c(852)(c(5639),"Set");a.exports=u},8668:(a,l,c)=>{var u=c(3369),d=c(619),h=c(2385);function p(g){var m=-1,_=g==null?0:g.length;for(this.__data__=new u;++m<_;)this.add(g[m])}p.prototype.add=p.prototype.push=d,p.prototype.has=h,a.exports=p},6384:(a,l,c)=>{var u=c(8407),d=c(7465),h=c(3779),p=c(7599),g=c(4758),m=c(4309);function _(v){var y=this.__data__=new u(v);this.size=y.size}_.prototype.clear=d,_.prototype.delete=h,_.prototype.get=p,_.prototype.has=g,_.prototype.set=m,a.exports=_},2705:(a,l,c)=>{var u=c(5639).Symbol;a.exports=u},1149:(a,l,c)=>{var u=c(5639).Uint8Array;a.exports=u},577:(a,l,c)=>{var u=c(852)(c(5639),"WeakMap");a.exports=u},4963:a=>{a.exports=function(l,c){for(var u=-1,d=l==null?0:l.length,h=0,p=[];++u<d;){var g=l[u];c(g,u,l)&&(p[h++]=g)}return p}},4636:(a,l,c)=>{var u=c(2545),d=c(5694),h=c(1469),p=c(4144),g=c(5776),m=c(6719),_=Object.prototype.hasOwnProperty;a.exports=function(v,y){var S=h(v),x=!S&&d(v),b=!S&&!x&&p(v),w=!S&&!x&&!b&&m(v),E=S||x||b||w,T=E?u(v.length,String):[],$=T.length;for(var N in v)!y&&!_.call(v,N)||E&&(N=="length"||b&&(N=="offset"||N=="parent")||w&&(N=="buffer"||N=="byteLength"||N=="byteOffset")||g(N,$))||T.push(N);return T}},2488:a=>{a.exports=function(l,c){for(var u=-1,d=c.length,h=l.length;++u<d;)l[h+u]=c[u];return l}},2908:a=>{a.exports=function(l,c){for(var u=-1,d=l==null?0:l.length;++u<d;)if(c(l[u],u,l))return!0;return!1}},8470:(a,l,c)=>{var u=c(7813);a.exports=function(d,h){for(var p=d.length;p--;)if(u(d[p][0],h))return p;return-1}},8866:(a,l,c)=>{var u=c(2488),d=c(1469);a.exports=function(h,p,g){var m=p(h);return d(h)?m:u(m,g(h))}},4239:(a,l,c)=>{var u=c(2705),d=c(9607),h=c(2333),p=u?u.toStringTag:void 0;a.exports=function(g){return g==null?g===void 0?"[object Undefined]":"[object Null]":p&&p in Object(g)?d(g):h(g)}},9454:(a,l,c)=>{var u=c(4239),d=c(7005);a.exports=function(h){return d(h)&&u(h)=="[object Arguments]"}},939:(a,l,c)=>{var u=c(2492),d=c(7005);a.exports=function h(p,g,m,_,v){return p===g||(p==null||g==null||!d(p)&&!d(g)?p!=p&&g!=g:u(p,g,m,_,h,v))}},2492:(a,l,c)=>{var u=c(6384),d=c(7114),h=c(8351),p=c(6096),g=c(4160),m=c(1469),_=c(4144),v=c(6719),y="[object Arguments]",S="[object Array]",x="[object Object]",b=Object.prototype.hasOwnProperty;a.exports=function(w,E,T,$,N,B){var K=m(w),P=m(E),L=K?S:g(w),R=P?S:g(E),I=(L=L==y?x:L)==x,F=(R=R==y?x:R)==x,j=L==R;if(j&&_(w)){if(!_(E))return!1;K=!0,I=!1}if(j&&!I)return B||(B=new u),K||v(w)?d(w,E,T,$,N,B):h(w,E,L,T,$,N,B);if(!(1&T)){var z=I&&b.call(w,"__wrapped__"),V=F&&b.call(E,"__wrapped__");if(z||V){var G=z?w.value():w,U=V?E.value():E;return B||(B=new u),N(G,U,T,$,B)}}return!!j&&(B||(B=new u),p(w,E,T,$,N,B))}},8458:(a,l,c)=>{var u=c(3560),d=c(5346),h=c(3218),p=c(346),g=/^\[object .+?Constructor\]$/,m=Function.prototype,_=Object.prototype,v=m.toString,y=_.hasOwnProperty,S=RegExp("^"+v.call(y).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");a.exports=function(x){return!(!h(x)||d(x))&&(u(x)?S:g).test(p(x))}},8749:(a,l,c)=>{var u=c(4239),d=c(1780),h=c(7005),p={};p["[object Float32Array]"]=p["[object Float64Array]"]=p["[object Int8Array]"]=p["[object Int16Array]"]=p["[object Int32Array]"]=p["[object Uint8Array]"]=p["[object Uint8ClampedArray]"]=p["[object Uint16Array]"]=p["[object Uint32Array]"]=!0,p["[object Arguments]"]=p["[object Array]"]=p["[object ArrayBuffer]"]=p["[object Boolean]"]=p["[object DataView]"]=p["[object Date]"]=p["[object Error]"]=p["[object Function]"]=p["[object Map]"]=p["[object Number]"]=p["[object Object]"]=p["[object RegExp]"]=p["[object Set]"]=p["[object String]"]=p["[object WeakMap]"]=!1,a.exports=function(g){return h(g)&&d(g.length)&&!!p[u(g)]}},280:(a,l,c)=>{var u=c(5726),d=c(6916),h=Object.prototype.hasOwnProperty;a.exports=function(p){if(!u(p))return d(p);var g=[];for(var m in Object(p))h.call(p,m)&&m!="constructor"&&g.push(m);return g}},2545:a=>{a.exports=function(l,c){for(var u=-1,d=Array(l);++u<l;)d[u]=c(u);return d}},1717:a=>{a.exports=function(l){return function(c){return l(c)}}},4757:a=>{a.exports=function(l,c){return l.has(c)}},4429:(a,l,c)=>{var u=c(5639)["__core-js_shared__"];a.exports=u},7114:(a,l,c)=>{var u=c(8668),d=c(2908),h=c(4757);a.exports=function(p,g,m,_,v,y){var S=1&m,x=p.length,b=g.length;if(x!=b&&!(S&&b>x))return!1;var w=y.get(p),E=y.get(g);if(w&&E)return w==g&&E==p;var T=-1,$=!0,N=2&m?new u:void 0;for(y.set(p,g),y.set(g,p);++T<x;){var B=p[T],K=g[T];if(_)var P=S?_(K,B,T,g,p,y):_(B,K,T,p,g,y);if(P!==void 0){if(P)continue;$=!1;break}if(N){if(!d(g,function(L,R){if(!h(N,R)&&(B===L||v(B,L,m,_,y)))return N.push(R)})){$=!1;break}}else if(B!==K&&!v(B,K,m,_,y)){$=!1;break}}return y.delete(p),y.delete(g),$}},8351:(a,l,c)=>{var u=c(2705),d=c(1149),h=c(7813),p=c(7114),g=c(8776),m=c(1814),_=u?u.prototype:void 0,v=_?_.valueOf:void 0;a.exports=function(y,S,x,b,w,E,T){switch(x){case"[object DataView]":if(y.byteLength!=S.byteLength||y.byteOffset!=S.byteOffset)return!1;y=y.buffer,S=S.buffer;case"[object ArrayBuffer]":return!(y.byteLength!=S.byteLength||!E(new d(y),new d(S)));case"[object Boolean]":case"[object Date]":case"[object Number]":return h(+y,+S);case"[object Error]":return y.name==S.name&&y.message==S.message;case"[object RegExp]":case"[object String]":return y==S+"";case"[object Map]":var $=g;case"[object Set]":var N=1&b;if($||($=m),y.size!=S.size&&!N)return!1;var B=T.get(y);if(B)return B==S;b|=2,T.set(y,S);var K=p($(y),$(S),b,w,E,T);return T.delete(y),K;case"[object Symbol]":if(v)return v.call(y)==v.call(S)}return!1}},6096:(a,l,c)=>{var u=c(8234),d=Object.prototype.hasOwnProperty;a.exports=function(h,p,g,m,_,v){var y=1&g,S=u(h),x=S.length;if(x!=u(p).length&&!y)return!1;for(var b=x;b--;){var w=S[b];if(!(y?w in p:d.call(p,w)))return!1}var E=v.get(h),T=v.get(p);if(E&&T)return E==p&&T==h;var $=!0;v.set(h,p),v.set(p,h);for(var N=y;++b<x;){var B=h[w=S[b]],K=p[w];if(m)var P=y?m(K,B,w,p,h,v):m(B,K,w,h,p,v);if(!(P===void 0?B===K||_(B,K,g,m,v):P)){$=!1;break}N||(N=w=="constructor")}if($&&!N){var L=h.constructor,R=p.constructor;L==R||!("constructor"in h)||!("constructor"in p)||typeof L=="function"&&L instanceof L&&typeof R=="function"&&R instanceof R||($=!1)}return v.delete(h),v.delete(p),$}},1957:(a,l,c)=>{var u=typeof c.g=="object"&&c.g&&c.g.Object===Object&&c.g;a.exports=u},8234:(a,l,c)=>{var u=c(8866),d=c(9551),h=c(3674);a.exports=function(p){return u(p,h,d)}},5050:(a,l,c)=>{var u=c(7019);a.exports=function(d,h){var p=d.__data__;return u(h)?p[typeof h=="string"?"string":"hash"]:p.map}},852:(a,l,c)=>{var u=c(8458),d=c(7801);a.exports=function(h,p){var g=d(h,p);return u(g)?g:void 0}},9607:(a,l,c)=>{var u=c(2705),d=Object.prototype,h=d.hasOwnProperty,p=d.toString,g=u?u.toStringTag:void 0;a.exports=function(m){var _=h.call(m,g),v=m[g];try{m[g]=void 0;var y=!0}catch{}var S=p.call(m);return y&&(_?m[g]=v:delete m[g]),S}},9551:(a,l,c)=>{var u=c(4963),d=c(479),h=Object.prototype.propertyIsEnumerable,p=Object.getOwnPropertySymbols,g=p?function(m){return m==null?[]:(m=Object(m),u(p(m),function(_){return h.call(m,_)}))}:d;a.exports=g},4160:(a,l,c)=>{var u=c(8552),d=c(7071),h=c(3818),p=c(8525),g=c(577),m=c(4239),_=c(346),v="[object Map]",y="[object Promise]",S="[object Set]",x="[object WeakMap]",b="[object DataView]",w=_(u),E=_(d),T=_(h),$=_(p),N=_(g),B=m;(u&&B(new u(new ArrayBuffer(1)))!=b||d&&B(new d)!=v||h&&B(h.resolve())!=y||p&&B(new p)!=S||g&&B(new g)!=x)&&(B=function(K){var P=m(K),L=P=="[object Object]"?K.constructor:void 0,R=L?_(L):"";if(R)switch(R){case w:return b;case E:return v;case T:return y;case $:return S;case N:return x}return P}),a.exports=B},7801:a=>{a.exports=function(l,c){return l==null?void 0:l[c]}},1789:(a,l,c)=>{var u=c(4536);a.exports=function(){this.__data__=u?u(null):{},this.size=0}},401:a=>{a.exports=function(l){var c=this.has(l)&&delete this.__data__[l];return this.size-=c?1:0,c}},7667:(a,l,c)=>{var u=c(4536),d=Object.prototype.hasOwnProperty;a.exports=function(h){var p=this.__data__;if(u){var g=p[h];return g==="__lodash_hash_undefined__"?void 0:g}return d.call(p,h)?p[h]:void 0}},1327:(a,l,c)=>{var u=c(4536),d=Object.prototype.hasOwnProperty;a.exports=function(h){var p=this.__data__;return u?p[h]!==void 0:d.call(p,h)}},1866:(a,l,c)=>{var u=c(4536);a.exports=function(d,h){var p=this.__data__;return this.size+=this.has(d)?0:1,p[d]=u&&h===void 0?"__lodash_hash_undefined__":h,this}},5776:a=>{var l=/^(?:0|[1-9]\d*)$/;a.exports=function(c,u){var d=typeof c;return!!(u=u??9007199254740991)&&(d=="number"||d!="symbol"&&l.test(c))&&c>-1&&c%1==0&&c<u}},7019:a=>{a.exports=function(l){var c=typeof l;return c=="string"||c=="number"||c=="symbol"||c=="boolean"?l!=="__proto__":l===null}},5346:(a,l,c)=>{var u,d=c(4429),h=(u=/[^.]+$/.exec(d&&d.keys&&d.keys.IE_PROTO||""))?"Symbol(src)_1."+u:"";a.exports=function(p){return!!h&&h in p}},5726:a=>{var l=Object.prototype;a.exports=function(c){var u=c&&c.constructor;return c===(typeof u=="function"&&u.prototype||l)}},7040:a=>{a.exports=function(){this.__data__=[],this.size=0}},4125:(a,l,c)=>{var u=c(8470),d=Array.prototype.splice;a.exports=function(h){var p=this.__data__,g=u(p,h);return!(g<0||(g==p.length-1?p.pop():d.call(p,g,1),--this.size,0))}},2117:(a,l,c)=>{var u=c(8470);a.exports=function(d){var h=this.__data__,p=u(h,d);return p<0?void 0:h[p][1]}},7518:(a,l,c)=>{var u=c(8470);a.exports=function(d){return u(this.__data__,d)>-1}},4705:(a,l,c)=>{var u=c(8470);a.exports=function(d,h){var p=this.__data__,g=u(p,d);return g<0?(++this.size,p.push([d,h])):p[g][1]=h,this}},4785:(a,l,c)=>{var u=c(1989),d=c(8407),h=c(7071);a.exports=function(){this.size=0,this.__data__={hash:new u,map:new(h||d),string:new u}}},1285:(a,l,c)=>{var u=c(5050);a.exports=function(d){var h=u(this,d).delete(d);return this.size-=h?1:0,h}},6e3:(a,l,c)=>{var u=c(5050);a.exports=function(d){return u(this,d).get(d)}},9916:(a,l,c)=>{var u=c(5050);a.exports=function(d){return u(this,d).has(d)}},5265:(a,l,c)=>{var u=c(5050);a.exports=function(d,h){var p=u(this,d),g=p.size;return p.set(d,h),this.size+=p.size==g?0:1,this}},8776:a=>{a.exports=function(l){var c=-1,u=Array(l.size);return l.forEach(function(d,h){u[++c]=[h,d]}),u}},4536:(a,l,c)=>{var u=c(852)(Object,"create");a.exports=u},6916:(a,l,c)=>{var u=c(5569)(Object.keys,Object);a.exports=u},1167:(a,l,c)=>{a=c.nmd(a);var u=c(1957),d=l&&!l.nodeType&&l,h=d&&a&&!a.nodeType&&a,p=h&&h.exports===d&&u.process,g=function(){try{return h&&h.require&&h.require("util").types||p&&p.binding&&p.binding("util")}catch{}}();a.exports=g},2333:a=>{var l=Object.prototype.toString;a.exports=function(c){return l.call(c)}},5569:a=>{a.exports=function(l,c){return function(u){return l(c(u))}}},5639:(a,l,c)=>{var u=c(1957),d=typeof self=="object"&&self&&self.Object===Object&&self,h=u||d||Function("return this")();a.exports=h},619:a=>{a.exports=function(l){return this.__data__.set(l,"__lodash_hash_undefined__"),this}},2385:a=>{a.exports=function(l){return this.__data__.has(l)}},1814:a=>{a.exports=function(l){var c=-1,u=Array(l.size);return l.forEach(function(d){u[++c]=d}),u}},7465:(a,l,c)=>{var u=c(8407);a.exports=function(){this.__data__=new u,this.size=0}},3779:a=>{a.exports=function(l){var c=this.__data__,u=c.delete(l);return this.size=c.size,u}},7599:a=>{a.exports=function(l){return this.__data__.get(l)}},4758:a=>{a.exports=function(l){return this.__data__.has(l)}},4309:(a,l,c)=>{var u=c(8407),d=c(7071),h=c(3369);a.exports=function(p,g){var m=this.__data__;if(m instanceof u){var _=m.__data__;if(!d||_.length<199)return _.push([p,g]),this.size=++m.size,this;m=this.__data__=new h(_)}return m.set(p,g),this.size=m.size,this}},346:a=>{var l=Function.prototype.toString;a.exports=function(c){if(c!=null){try{return l.call(c)}catch{}try{return c+""}catch{}}return""}},7813:a=>{a.exports=function(l,c){return l===c||l!=l&&c!=c}},5694:(a,l,c)=>{var u=c(9454),d=c(7005),h=Object.prototype,p=h.hasOwnProperty,g=h.propertyIsEnumerable,m=u(function(){return arguments}())?u:function(_){return d(_)&&p.call(_,"callee")&&!g.call(_,"callee")};a.exports=m},1469:a=>{var l=Array.isArray;a.exports=l},8612:(a,l,c)=>{var u=c(3560),d=c(1780);a.exports=function(h){return h!=null&&d(h.length)&&!u(h)}},4144:(a,l,c)=>{a=c.nmd(a);var u=c(5639),d=c(5062),h=l&&!l.nodeType&&l,p=h&&a&&!a.nodeType&&a,g=p&&p.exports===h?u.Buffer:void 0,m=(g?g.isBuffer:void 0)||d;a.exports=m},8446:(a,l,c)=>{var u=c(939);a.exports=function(d,h){return u(d,h)}},3560:(a,l,c)=>{var u=c(4239),d=c(3218);a.exports=function(h){if(!d(h))return!1;var p=u(h);return p=="[object Function]"||p=="[object GeneratorFunction]"||p=="[object AsyncFunction]"||p=="[object Proxy]"}},1780:a=>{a.exports=function(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=9007199254740991}},3218:a=>{a.exports=function(l){var c=typeof l;return l!=null&&(c=="object"||c=="function")}},7005:a=>{a.exports=function(l){return l!=null&&typeof l=="object"}},6719:(a,l,c)=>{var u=c(8749),d=c(1717),h=c(1167),p=h&&h.isTypedArray,g=p?d(p):u;a.exports=g},3674:(a,l,c)=>{var u=c(4636),d=c(280),h=c(8612);a.exports=function(p){return h(p)?u(p):d(p)}},479:a=>{a.exports=function(){return[]}},5062:a=>{a.exports=function(){return!1}},75:function(a){(function(){var l,c,u,d,h,p;typeof performance<"u"&&performance!==null&&performance.now?a.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(a.exports=function(){return(l()-h)/1e6},c=process.hrtime,d=(l=function(){var g;return 1e9*(g=c())[0]+g[1]})(),p=1e9*process.uptime(),h=d-p):Date.now?(a.exports=function(){return Date.now()-u},u=Date.now()):(a.exports=function(){return new Date().getTime()-u},u=new Date().getTime())}).call(this)},4087:(a,l,c)=>{for(var u=c(75),d=typeof window>"u"?c.g:window,h=["moz","webkit"],p="AnimationFrame",g=d["request"+p],m=d["cancel"+p]||d["cancelRequest"+p],_=0;!g&&_<h.length;_++)g=d[h[_]+"Request"+p],m=d[h[_]+"Cancel"+p]||d[h[_]+"CancelRequest"+p];if(!g||!m){var v=0,y=0,S=[];g=function(x){if(S.length===0){var b=u(),w=Math.max(0,16.666666666666668-(b-v));v=w+b,setTimeout(function(){var E=S.slice(0);S.length=0;for(var T=0;T<E.length;T++)if(!E[T].cancelled)try{E[T].callback(v)}catch($){setTimeout(function(){throw $},0)}},Math.round(w))}return S.push({handle:++y,callback:x,cancelled:!1}),y},m=function(x){for(var b=0;b<S.length;b++)S[b].handle===x&&(S[b].cancelled=!0)}}a.exports=function(x){return g.call(d,x)},a.exports.cancel=function(){m.apply(d,arguments)},a.exports.polyfill=function(x){x||(x=d),x.requestAnimationFrame=g,x.cancelAnimationFrame=m}},8156:a=>{a.exports=n}},i={};function s(a){var l=i[a];if(l!==void 0)return l.exports;var c=i[a]={id:a,loaded:!1,exports:{}};return r[a].call(c.exports,c,c.exports,s),c.loaded=!0,c.exports}s.n=a=>{var l=a&&a.__esModule?()=>a.default:()=>a;return s.d(l,{a:l}),l},s.d=(a,l)=>{for(var c in l)s.o(l,c)&&!s.o(a,c)&&Object.defineProperty(a,c,{enumerable:!0,get:l[c]})},s.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),s.o=(a,l)=>Object.prototype.hasOwnProperty.call(a,l),s.nmd=a=>(a.paths=[],a.children||(a.children=[]),a);var o={};return(()=>{s.d(o,{default:()=>S});var a=s(8156),l=s.n(a),c=s(7403),u=s(8446),d=s.n(u);function h(x){return h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},h(x)}function p(x,b){for(var w=0;w<b.length;w++){var E=b[w];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(x,v(E.key),E)}}function g(x,b){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(w,E){return w.__proto__=E,w},g(x,b)}function m(x){if(x===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x}function _(x){return _=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(b){return b.__proto__||Object.getPrototypeOf(b)},_(x)}function v(x){var b=function(w,E){if(h(w)!=="object"||w===null)return w;var T=w[Symbol.toPrimitive];if(T!==void 0){var $=T.call(w,"string");if(h($)!=="object")return $;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(w)}(x);return h(b)==="symbol"?b:String(b)}var y=function(x){(function(B,K){if(typeof K!="function"&&K!==null)throw new TypeError("Super expression must either be null or a function");B.prototype=Object.create(K&&K.prototype,{constructor:{value:B,writable:!0,configurable:!0}}),Object.defineProperty(B,"prototype",{writable:!1}),K&&g(B,K)})(N,x);var b,w,E,T,$=(E=N,T=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var B,K=_(E);if(T){var P=_(this).constructor;B=Reflect.construct(K,arguments,P)}else B=K.apply(this,arguments);return function(L,R){if(R&&(h(R)==="object"||typeof R=="function"))return R;if(R!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return m(L)}(this,B)});function N(){var B,K,P,L;(function(j,z){if(!(j instanceof z))throw new TypeError("Cannot call a class as a function")})(this,N);for(var R=arguments.length,I=new Array(R),F=0;F<R;F++)I[F]=arguments[F];return K=m(B=$.call.apply($,[this].concat(I))),L={instance:null},(P=v(P="state"))in K?Object.defineProperty(K,P,{value:L,enumerable:!0,configurable:!0,writable:!0}):K[P]=L,B}return b=N,(w=[{key:"componentDidMount",value:function(){var B=this,K=new c.default(this.typewriter,this.props.options);this.setState({instance:K},function(){var P=B.props.onInit;P&&P(K)})}},{key:"componentDidUpdate",value:function(B){d()(this.props.options,B.options)||this.setState({instance:new c.default(this.typewriter,this.props.options)})}},{key:"componentWillUnmount",value:function(){this.state.instance&&this.state.instance.stop()}},{key:"render",value:function(){var B=this,K=this.props.component;return l().createElement(K,{ref:function(P){return B.typewriter=P},className:"Typewriter","data-testid":"typewriter-wrapper"})}}])&&p(b.prototype,w),Object.defineProperty(b,"prototype",{writable:!1}),N}(a.Component);y.defaultProps={component:"div"};const S=y})(),o.default})())})(mB);var pye=mB.exports;const vB=hr(pye);function gye({playerNumber:e,player:t,segment:n}){const[r,i]=t.detailedScore;return f.jsxs(mye,{children:[f.jsx(Ip,{score:n>-1?r.rap+r.freestyle+r.normal:0,maxScore:i.rap+i.freestyle+i.normal,color:pe.colors.players[e].perfect.fill}),f.jsx(Ip,{score:n>0?r.perfect:0,maxScore:i.perfect,color:pe.colors.players[e].stroke}),f.jsx(Ip,{score:n>1?r.star:0,maxScore:i.star,color:pe.colors.players[e].starPerfect.stroke}),f.jsx(Ip,{score:n>2?r.vibrato:0,maxScore:i.vibrato,color:pe.colors.players[e].perfect.stroke}),f.jsx(vye,{children:n<5&&f.jsx(vB,{options:{strings:["Regular notes","Perfect notes","Star notes","Vibrato"],pauseFor:1e3,autoStart:!0,delay:15,deleteSpeed:15,cursor:""}})})]})}const mye=C("div",{target:"ejw0p7o1"})({name:"rtb9pf",styles:"position:relative;height:5rem;width:100%;display:flex;flex-direction:row;border-radius:1rem;gap:0.5rem;box-sizing:border-box;background:rgba(0, 0, 0, 0.5);padding:0.5rem"}),vye=C("span",{target:"ejw0p7o0"})("position:absolute;",De,";font-size:3rem;text-align:right;white-space:nowrap;top:6rem;left:1rem;display:block;");function yye({playerNumber:e,player:t,highestScore:n,highScores:r,singSetup:i,useColors:s=!0,revealHighScore:o,segment:a}){const[l]=t.detailedScore;let c=0;a>-1&&(c=l.normal+l.rap+l.freestyle),a>0&&(c=c+l.perfect),a>1&&(c=c+l.star),a>2&&(c=c+l.vibrato);const u=d=>r.some(h=>h.singSetupId===i.id&&h.name===d);return f.jsxs(Aye,{children:[f.jsx(Sye,{children:f.jsxs(bye,{"data-win":o&&c===n,"data-test":`player-${e}-score`,"data-score":Math.floor(c),children:[f.jsx(_ye,{color:s?pe.colors.players[e].text:"","data-test":`player-${e}-name`,className:"ph-no-capture",children:t.name}),f.jsx(Uw,{preserveValue:!0,end:c,formattingFn:JN.format,duration:a<5?1:.5})]})}),f.jsx(gye,{playerNumber:e,player:t,segment:a}),f.jsx(xye,{"data-highscore":o&&u(t.name),children:"High score!"})]})}const Aye=C("div",{target:"e1vy0af44"})({name:"1kta8sk",styles:"background:rgba(0, 0, 0, 0.5);display:flex;flex-direction:column;align-items:center;border-radius:1rem;gap:1rem;padding:1rem 2rem;position:relative"}),_ye=C("span",{target:"e1vy0af43"})("color:",e=>e.color,";font-size:4rem;"),bye=C(mv,{target:"e1vy0af42"})("background:transparent;font-size:5.5rem;color:white;transition:400ms ease-in-out;position:relative;display:flex;align-items:center;justify-content:space-between;flex:1;margin:0;padding:0;&[data-win='true']{font-size:8.5rem;color:",pe.colors.text.active,";}"),Sye=C("div",{target:"e1vy0af41"})({name:"8pc2uz",styles:"display:flex;flex:1;width:100%;height:8.5rem"}),xye=C(yN,{target:"e1vy0af40"})("font-size:3rem;opacity:0;&[data-highscore='true']{top:-2.5rem;right:-9rem;",av,";opacity:1;}transition:400ms;");function wye({onNextStep:e,players:t,highScores:n,singSetup:r}){const[i,s]=A.useState(-1);A.useEffect(()=>{if(i<0)s(0);else if(i<4){const p=setInterval(()=>{s(g=>g+1)},1500);return()=>{clearInterval(p)}}},[i]);const o=i>3,a=()=>{o?e():(Vn.capture("animation_skipped"),s(5))};Bl({accept:a},!0,[i]);const l=A.useMemo(()=>({accept:"Next"}),[]);Vu(l,!0);const c=r.mode===Mr.CO_OP,u=c?[{...t[0],name:t.map(p=>p.name).join(", ")}]:t,d=u.map(p=>uS(p.detailedScore[0])),h=Math.max(...d);return f.jsxs(Eye,{children:[f.jsx(kye,{children:u.map((p,g)=>f.jsx(yye,{playerNumber:p.playerNumber,useColors:!c,revealHighScore:i>3,segment:i,player:p,highScores:n,highestScore:h,singSetup:r},g))}),f.jsx(Cye,{onClick:a,focused:!0,"data-test":o?"highscores-button":"skip-animation-button",children:o?"Next":"Skip"}),fs.getPermissionStatus()&&f.jsx(Tye,{})]})}const Eye=C("div",{target:"e1qmbv7g3"})({name:"1vzp6wx",styles:"position:absolute;padding:20rem 15rem 10rem 15rem;top:0;height:100%;box-sizing:border-box;width:100%;display:flex;flex-direction:column"}),kye=C("div",{target:"e1qmbv7g2"})({name:"1lbl88b",styles:"text-align:center;display:flex;flex-direction:column;justify-content:center;gap:5rem;margin-bottom:15rem;flex:1"}),Cye=C(Cs,{target:"e1qmbv7g1"})({name:"195iwp6",styles:"width:40rem;font-size:1.9vw;margin-left:auto"}),Tye=C(lye,{target:"e1qmbv7g0"})({name:"1c3jvq",styles:"position:absolute;top:calc(50% - 30rem);left:95rem;transform:scale(0.75)"});function Iye(){return A.useMemo(()=>JSON.parse(je.session.getItem(Xc))??[],[])}function Rye({score:e,register:t,singSetupId:n,onSave:r,index:i}){const s=A.useRef(null),[o,a]=A.useState(""),l=Iye(),c=()=>{o.trim().length&&o.trim()!==e.name&&r(n,e.score,e.name,o)};return f.jsx(GN,{className:"ph-no-capture",options:l,onChange:a,onBlur:c,value:o,label:"",ref:s,...t(`highscore-rename-${i}`,()=>{var u;return(u=s.current)==null?void 0:u.focus()}),placeholder:e.name,"data-test":"input-edit-highscore","data-original-name":e.name})}function Mye({onNextStep:e,highScores:t,singSetup:n,song:r}){const{register:i}=zn(),s=mge(r);return f.jsxs(f.Fragment,{children:[f.jsx(Pye,{"data-test":"highscores-container",children:t.map((o,a)=>f.jsxs(jye,{isCurrentSing:o.singSetupId===n.id,children:[f.jsx(Oye,{children:a+1}),f.jsx(Vye,{className:"ph-no-capture",children:o.singSetupId===n.id?f.jsx(Rye,{index:a,score:o,register:i,singSetupId:n.id,onSave:s}):o.name}),f.jsx(Lye,{children:f.jsx(cb,{score:o.score})}),f.jsx(Nye,{children:gs(o.date).format("MMMM DD, YYYY")})]},a))}),f.jsx(Bye,{...i("play-next-song-button",e,void 0,!0),children:"Select song"})]})}const Pye=C("div",{target:"e1kq1u2t6"})({name:"9gtmjg",styles:"position:absolute;top:20rem;width:100%;text-align:center;padding:0 16rem;box-sizing:border-box"}),jye=C("div",{target:"e1kq1u2t5"})("position:relative;",De,";font-size:3.2rem;display:flex;background:",e=>e.isCurrentSing?"rgba(0,0,0,.9)":"rgba(0,0,0,.5)",";margin-bottom:2rem;padding:",e=>e.isCurrentSing?"0 1.5rem":"1rem 3.2rem",";align-items:center;"),Oye=C("div",{target:"e1kq1u2t4"})("padding:0 1.6rem;color:",pe.colors.text.active,";"),Vye=C("div",{target:"e1kq1u2t3"})({name:"1mbe2e5",styles:"text-align:left;flex:1;padding:1.6rem"}),Lye=C("div",{target:"e1kq1u2t2"})({name:"2ycp6t",styles:"padding:0 1rem"}),Nye=C("div",{target:"e1kq1u2t1"})({name:"1gbnj87",styles:"position:absolute;font-size:2rem;bottom:-1rem;right:-1.6rem;background:black;padding:0.5rem"}),Bye=C(Cs,{target:"e1kq1u2t0"})({name:"dmbiod",styles:"position:absolute;bottom:4rem;right:2rem;width:40rem;font-size:1.9vw"});function Dye({song:e,width:t,height:n,onClickSongSelection:r,players:i,highScores:s,singSetup:o}){const[a]=$e(Dm);Ra(!0);const[l,c]=A.useState("results");return f.jsxs(pN,{songData:e,width:t,height:n,children:[f.jsxs($ye,{children:[l==="results"&&f.jsx(wye,{onNextStep:()=>c("highscores"),players:i,singSetup:o,highScores:s}),l==="highscores"&&f.jsx(Mye,{onNextStep:r,singSetup:o,highScores:s,song:e}),f.jsx(Fye,{"data-active":"true"})]}),a==="christmas"&&f.jsxs(zye,{children:["Credit to ",f.jsx("a",{href:"https://www.FesliyanStudios.com",children:"https://www.FesliyanStudios.com"})," for the background music."]})]})}const $ye=C("div",{target:"e1fxxvcx2"})({name:"1quw0ni",styles:"pointer-events:auto"}),Fye=C(aye,{target:"e1fxxvcx1"})({name:"1l1st43",styles:"transition:300ms;position:absolute;bottom:20rem;font-size:3.2rem;line-height:1.25;color:white;text-align:center;background:rgba(0, 0, 0, 0.75);width:100%;box-sizing:border-box;transform:scale(0);&[data-active='true']{transform:scale(1);}padding:2rem 10rem;kbd{padding:0.12rem 0.9rem;border-radius:1rem;border:0.5rem solid rgb(204, 204, 204);border-bottom-color:rgb(150, 150, 150);border-right-color:rgb(150, 150, 150);color:rgb(51, 51, 51);line-height:1.4;display:inline-block;box-shadow:0 0.1rem 0 rgba(0, 0, 0, 0.2),inset 0 0 0 0.2rem #ffffff;background-color:rgb(247, 247, 247);text-shadow:0 0.1rem 0 #fff;font-weight:normal;}"}),zye=C("span",{target:"e1fxxvcx0"})("position:fixed;bottom:2rem;left:2rem;font-size:1.5rem;",De,";");function Uye(e){const[t,n,r,i]=Hye(e);return Gye(t,n,r,i)()}function Hye(e){let t=1779033703,n=3144134277,r=1013904242,i=2773480762;for(let s=0,o;s<e.length;s++)o=e.charCodeAt(s),t=n^Math.imul(t^o,597399067),n=r^Math.imul(n^o,2869860233),r=i^Math.imul(r^o,951274213),i=t^Math.imul(i^o,2716044179);return t=Math.imul(r^t>>>18,597399067),n=Math.imul(i^n>>>22,2869860233),r=Math.imul(t^r>>>17,951274213),i=Math.imul(n^i>>>19,2716044179),t^=n^r^i,n^=t,r^=t,i^=t,[t>>>0,n>>>0,r>>>0,i>>>0]}function Gye(e,t,n,r){return function(){e|=0,t|=0,n|=0,r|=0;var i=(e+t|0)+r|0;return r=r+1|0,e=t^t>>>9,t=n+(n<<3)|0,n=n<<21|n>>>11,n=n+i|0,(i>>>0)/4294967296}}const qye=["Lysa Arryn","Peter Parker","Zordon","Chad Khalimov","Dat Boi","Good Guy Greg","Scumbag Steve","Meme Man","Pepe","Wojak","Ebmarah","Shrek","Vad of ICE Beat","Krasnolud","Mały Aragorn","Morning Breeze","Auytjak Lorav","Smelly Cat","Stinky Foot"],uM=new Date("2016-01-01").getTime(),Wye=new Date("2024-01-07").getTime(),pA=5;function Kye(e,t){const n=sE(e);return A.useMemo(()=>{const i=[...qye];return[...Array.from({length:pA},(o,a)=>{const l=Uye(e.id+a),c=6e5+14e5/(pA-1)*a,u=i.splice(Math.floor(l*i.length),1)[0];return{singSetupId:a.toString(),name:u,score:Xs()?c/1e3:c,date:new Date((Wye-uM)*l+uM).toISOString()}}),...(n==null?void 0:n.scores.filter(({setup:o})=>o.mode===t.mode&&o.tolerance===t.tolerance).map(o=>o.scores.map(a=>({...a,date:o.date,singSetupId:o.setup.id}))).flat())??[]].sort((o,a)=>a.score-o.score).slice(0,pA)},[e.id,n,t])??[]}function Yye({song:e,width:t,height:n,onClickSongSelection:r,singSetup:i}){const s=Kye(e,i),o=A.useMemo(()=>Me.getPlayers().map(a=>({name:a.getName(),playerNumber:a.number,detailedScore:Le.getPlayerDetailedScore(a.number)})),[]);return f.jsx(Bo,{children:f.jsx(Dye,{singSetup:i,song:e,width:t,height:n,onClickSongSelection:r,players:o,highScores:s})})}function Qye({songPreview:e,singSetup:t,returnToSongSelection:n,restartSong:r}){kN(),CN();const i=A.useRef(null),s=uN(e.id),{width:o,height:a}=wh(),[l,c]=A.useState(!1),[u,d]=A.useState(!0),[h,p]=A.useState(In.UNSTARTED),[g,m]=A.useState(!1);return Ea(!g),A.useEffect(()=>{u&&s.data&&(g||h!==In.UNSTARTED)&&d(!1)},[s.data,g,h,u]),l&&s.data?f.jsx(Yye,{width:o,height:a,song:s.data,onClickSongSelection:n,singSetup:t}):f.jsx(Bo,{children:f.jsxs(Jye,{children:[f.jsxs(Xye,{visible:u,"data-test":"background-container",children:[f.jsx(eAe,{video:e.video,width:o,height:a}),f.jsx(tAe,{"data-test":"song-artist",children:e.artist}),f.jsx(nAe,{"data-test":"song-title",children:e.title}),f.jsx(t0e,{onFinish:()=>{var _;m(!0),(_=i.current)==null||_.play()}})]}),s.data&&f.jsx(oye,{pauseMenu:!0,ref:i,onStatusChange:p,players:t.players,song:s.data,width:o,height:a,autoplay:!1,onSongEnd:()=>{var y;const _=((y=Le.getSingSetup())==null?void 0:y.mode)===Mr.CO_OP?[{name:Me.getPlayers().map(S=>S.getName()).join(", "),score:Le.getPlayerScore(0)}]:Me.getPlayers().map(S=>({name:S.getName(),score:Le.getPlayerScore(S.number)})),v=Le.getSongCompletionProgress();ee.songEnded.dispatch(s.data,t,_,v),c(!0)},singSetup:t,restartSong:r})]})})}const Jye=C("div",{target:"e9bbafl4"})({name:"bjn8wh",styles:"position:relative"}),Xye=C("div",{target:"e9bbafl3"})("position:fixed;top:0;left:0;z-index:10;pointer-events:none;background-color:black;view-transition-name:song-preview;opacity:",e=>e.visible?1:0,";transition:500ms;"),Zye=C("div",{target:"e9bbafl2"})({name:"oux8x1",styles:"background-size:cover;background-position:center center;filter:blur(10px)"}),eAe=e=>f.jsx(Zye,{style:{backgroundImage:`url('https://i3.ytimg.com/vi/${e.video}/hqdefault.jpg')`,width:`${e.width}px`,height:`${e.height}px`}}),tAe=C(lE,{target:"e9bbafl1"})({name:"oyknw4",styles:"view-transition-name:song-preview-artist;position:absolute;top:10rem;left:10rem;font-size:7rem"}),nAe=C(yv,{target:"e9bbafl0"})({name:"1l9juvo",styles:"view-transition-name:song-preview-title;position:absolute;font-size:8rem;top:19rem;left:10rem"});function rAe(){const e=S0("song"),[t,n]=A.useState(null),[r,i]=A.useState(e??null),[s,o]=A.useState(0),a=l=>{document.getElementById("preview-video-container").style.viewTransitionName="song-preview-video",Ff(()=>{document.getElementById("preview-video-container").style.viewTransitionName="",ju.flushSync(()=>{n(l)})}),xS.play()};return kN(),f.jsxs(f.Fragment,{children:[f.jsx(yi,{children:f.jsx("title",{children:"Game | AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsx(Hw,{children:t?f.jsx(Qye,{restartSong:()=>{fs.restartRecord(),o(l=>l+1)},songPreview:t.song,singSetup:t,returnToSongSelection:()=>{i(t.song.id),n(null)}},s):f.jsx(Jme,{onSongSelected:a,preselectedSong:r})})]})}const dM=C("div",{target:"e1x9yhuz2"})({name:"ab88yp",styles:"color:blue;@media (hover: hover){display:none;}"}),fM=C("div",{target:"e1x9yhuz1"})({name:"b0iqx8",styles:"@media (hover: none){display:none;}"});var iAe=A.createContext({client:Vn}),sAe=function(){var e=A.useContext(iAe).client;return e};function oAe(e){var t=sAe(),n=A.useState(),r=n[0],i=n[1];return A.useEffect(function(){return t.onFeatureFlags(function(){i(t.getFeatureFlag(e))})},[t,e]),r}const aAe="/assets/screenshot1-DaCeVKxL.webp",lAe="/assets/screenshot2-BGzMpznM.webp",cAe="/assets/screenshot3-uopWyjAi.webp",uAe=["F4MZSq27pvk","1uHNygqhBCs","JRWox-i6aAk","GbSXNzWXQYw","udBLU0Y_G2s","Rh5ok0ljrzA","bnVUHWCynig","btPJPFnesV4","eap0G9ldKc0","oGpFcHTxjZs","hvtG1_SKe_s","KTlKyLa7ZLg","I92arGciCWk","RODg5ZlPct4","iCNekTCRnis","GY9kQcWLvEM","SjBOC94WHBQ","g2N0TkfrQhY","Sv6dMFF_yts","EPdn9_h2dCY","s0MG5mdwweU","5s3ytiYZS8g","4v4cRy25Xaw","ef-IJJ7tJ0c","8x7Ta89QLo4","cz-1cBfOCc4","0dcbw4IEY5w","Hj3dHbpPhaE","wfN4PVaOU5Q","knU9gRUWCno","YtDhMzDkois","ubvV498pyIM","Nv5kkI5X1QM","y-jC3H_8Dk4","EXTLJmYsaUQ","FK3Wd1cBTqs","21VeAmPOBzI","G0nTL5QRnSM","JkRKT6T0QLg","4sq2lPNxi7M","qDc_5zpBj7s","naXPoz1Du34","yIUn_u3nSoo","Ls0WfopgR9k","fvbNAPu9ERo","Cf4YU-sRRBQ","ToqNa0rqUtY","qHm9MG9xw1o","qrO4YZeyl0I","WQeRG72E3OM","31crA53Dgu0","3U72hzeBLOw","05Qdu0jkihU","zAHZoUa-hAg","OcW-BSEB3ng","kXYiU_JCYtU","iPUmE-tne5U","z-52QAImb_A","suAR1PYFNYA","PPGEGxBI-Ko","25QyCxVkXwQ","22_rwa9FXwc","CduA0TULnow","mDyxykpYeu8","dPI-mRFEIH0","ZemZjPCXe0A","pRZJ5zPt1wc","hWhl6ijsAXw","2xttF0lM_Wk","qzNDY1VknaQ","lKrFfp67NDQ","z5vA9CwZKNY","VLZ9Ike2Geo","QDYfEBY9NM4","lP--cEUCSxo","ofA3URC1wyk","kTHNpusq654","0Fe5ZlMOf7s","Lq6-e8X_c_k","YY33oEDtJv0","o0oenkCT8EY","Z-9gQjUZMm0","VhinPd5RRJw","FxYw0XPEoKE","n1VTcJfL7RE","FA2j9qlFyDU","Q27BkaOXrpc","vx2u5uUu3DE","GqXyTNKlwTI","hZ7Zw_ohxvU","yBUrdKzHKVg","nky4me4NP70","Y5fBdpreJiU","nrIPxlFzDi0","rMFH76ZtlBs","IC5PL0XImjw","S3wWC67bGVA","eLQMGYHVJ_I","oYDDiqhhzbQ","Y4nEEZwckuU","QRTNm6GLJYI","S4svnVHOL9k","ztygmWtWCjQ","_XC2mqcMMGQ","gHUDbpI8Ulk","ApXoWvfEYVU","9BXNKyoW_Ow","VFqe2HiWx9k","oRdxUFDoQe0","KOY_05KwJYk","SR6iYWJxHqs","obhHmNqNTcw","82cJgPXU-ik","2fngvQS_PmQ","6qFAi7GfdrY","Dsh0TfIKhoE","XeraDSzu0nw","juJkNKodgdE","PDSkFeMVNFs","LMOKlXfXn50","uLIs0j2WnlM","vc6vs-l5dkc","zZPvME8H2Oo","1ekZEVeXwek","8dJyRm2jJ-U","hjWZw_F6aEs","-f993p0CAV8","GKl6hK2IzbY","hoKluzn07eQ","FoVz7H3xuTI","7Shz3JUucaM","k0BWlvnBmIE","lVhJ_A8XUgc","VuDc8HQ3Rbg","t6omUxqhG78","bWXazVhlyxQ","xPU8OAjjS4k","zsmUOdmm02A","1GCE82Ccl0U","lheIRyhsUSE","nIjVuRTm-dc","EvuL5jyCHOw","yR_9e1yo9uU","5iSlfF8TQ9k","9FPm1aDLmWA","0Gl2QnHNpkA","08DjMT-qR9g","e1hMNoCEdUI","DqBuIaa2-_s","54PHdAEmJkM","eBG7P-K-r1Y","4DO8GsIYfhQ","ferXnJM0GI8","QUvVdTlA23w","D3FN2umFaM8","av3wkasS-WQ","LYU-8IFcDPw","q_46dy4yJwg","oDNcL1VP3rY","6bE_MM8awYo","wV8oKFqO2Gc","D8hAhqDcVRA","AUChk0lxF44","XpWnh5ETW2w","clwLKJ294u4","Ga1kMdJCc_Q","pzMvqv_3nfM","r8OipmKFDeM","FSCgfI3OG7s","SLlYUlS_Awo","_Yhyp-_hX2s","mgWGR-g9mFQ","o_1aF54DO60","OE2qEpkWWoQ","5sGOwFVUU0I","s1tAYmMjLdY","Rm1nCYOZB-s","4pBo-GL9SRg","GibiNy4d4gc","DSHGd4lmLd4","0qzLRlQFFQ4","a-Lp2uC_1lg","QFs3PIZb3js","S-u6qdeaPoE","dFlDRhvM4L0","uHgnebZ_jYo","kOHB85vDuow","X9doLGPa2T4","n2hJA78YuWw","8hLtlzkoGPk","HwVh8pmOot4","Bt3Y3HJpXQs","HRqOjhNN4hQ","TWZKw_MgUPI","DeumyOzKqgI","-rey3m8SWQI","Km__cJEJ3JI","b73BI9eUkjM","Nm-ISatLDG0","LltlG9sU6zg"],dAe=["Jason Mraz","Flo Rida feat. Sia","Nicki Minaj feat. Rihanna","Katrina And The Waves","Blu Cantrell","The Chainsmokers & Coldplay","Madcon","Maroon 5 feat. Christina Aguilera","Rednex","Jack Ü (Skrillex & Diplo) with Justin Bieber","Martin Solveig & Dragonette","Rhapsody","Brotherhood Of Man","REO Speedwagon","Jojo","Lykke Li","Slipknot","Olly Murs","Linkin Park","Shakin’ Stevens","Band Aid","Peter Gabriel","Tracy Chapman","Ne-Yo","Britney Spears feat. Tinashe","The Kid Laroi & Justin Bieber","All Time Low feat. Demi Lovato & Blackbear","Poets Of The Fall","The Eagles","Glen Hansard And Markéta Irglová","The BossHoss","Paris Hilton","David Guetta feat. Justin Bieber","The Vines","Guns N' Roses","DNCE","Rob Thomas","Oasis","Nico Bruno","Britney Spears feat. Madonna","TLC","Bonnie Tyler","Pitbull feat. Ne-Yo, Afrojack & Nayer","3OH!3 feat. Katy Perry","Bring Me The Horizon","Alice Merton","Jimmy Eat World","Anna Margaret","Vanessa Hudgens","Mitski","Ween","Lenny Kravitz","R. City feat. Adam Levine","ZZ Top","Ray Parker Jr.","Voyager","Helena Paparizou","Keane","Daft Punk Feat. Todd Edwards","Marina & The Diamonds","Lady Gaga & Ariana Grande","The Living Tombstone","Into the Woods","A.R. Rahman & The Pussycat Dolls feat. Nicole Scherzinger","Five For Fighting","Shakira feat. Rihanna","Alphaville","Alan Walker & Ava Max","Lena","Europe","Three Days Grace","Henry Moodie","Bruno Mars","David Cook","ISAAK","Beyoncé & Shakira","Mika","Disney’s High School Musical 3","R.E.M.","Corey Hart","Martin Solveig & GTA","Gotye & Kimbra","Franz Ferdinand","Panic! at the Disco","Soulja Boy Tellem feat. Sammie","Usher feat. will.i.am","Whitney Houston","SING (Taron Egerton)","Adele","Macklemore & Ryan Lewis feat. Ray Dalton","KISS","Kaleen","The Police","Crusher-P feat. GUMI","Disney’s DuckTales 2017 (Felicia Barton)","Tom Jones","Michael Jackson feat. Justin Timberlake","Lady Antebellum","Cher","Green Day","Culture Club","Kaiser Chiefs","Ariana Grande & The Weeknd","Deep Purple","Slade","Bob Seger & The Silver Bullet Band","Wiz Khalifa","Benny Cristo","Ike & Tina Turner","FIFTY FIFTY","Meat Loaf","Black Eyed Peas, Shakira","Bill Medley & Jennifer Warnes","Ice Cube","Justin Bieber","Xavier Rudd","Rage Against The Machine","The Cinematic Orchestra","High School Musical","Tears For Fears","NF","Magic!","Edward Sharpe And The Magnetic Zeros","New Order","Moulin Rouge","Mark Ronson feat. Bruno Mars","The Little Mermaid","Beyoncé feat. Jay-Z","Imagine Dragons x JID","Vanessa Carlton","Sam Ryder","Black Sabbath","The Doors","Hazbin Hotel (Black Gryph0n & Baasik)","Johnny Logan","Chris Isaak","Creedence Clearwater Revival","Lily Allen","Arcade Fire","Vanessa Williams","Disney's Aladin","Nicki Minaj","The Black Eyed Peas Feat. Justin Timberlake","The Pussycat Dolls","The Psychedelic Furs","Calvin Harris feat. Rihanna","Alec Benjamin","Paul Simon","Kanye West feat. Various Artists","Ricky Martin","Queen","Billy Talent","Conchita Wurst","Fun. feat. Janelle Monáe","Richard Marx","Avicii feat. Sandro Cavazza","Placebo","Rod Stewart","Little Mix","Elton John & RuPaul","The Darkness","Janet Jackson","Barei","Gwen Stefani Feat Akon","League of Legends","Little Mix feat. Stormzy","Post Malone","Rage Against the Machine","Jessie J feat. Ariana Grande & Nicki Minaj","Modern Talking","Bryce Pinkham","Beyoncé","Dire Straits","Whitesnake","Lizzo","Flo Rida feat. T-Pain","Lewis Capaldi","Nicki Taylor","Subwoolfer","Rag’n’Bone Man","Bridgit Mendler","The Weeknd feat. Ariana Grande","Benson Boone","Demi Lovato feat. Cher Lloyd","Kid Rock","The Who","Timbaland presents OneRepublic","Scorpions","Bebe Rexha y David Guetta","Sean Kingston / Justin Bieber","KT Tunstall","Hillsong United","Chumbawamba","Olivia Newton-John","La La Land (Ryan Gosling & Emma Stone)","Morgan Wallen","SEBalter","The Script","Hanson","2Pac feat. Dr. Dre & Roger Troutman","Doki Doki Literature Club!","Shakira","Willie Nelson and Merle Haggard","Skillet","SMiLE.dk","Bon Jovi","MELOVIN","Good Charlotte","Survivor","Nickelback","Alicia Keys","Dana International","Melanie Thornton","Westlife","Lana Del Rey","a-ha","Chris Brown","Jennette McCurdy","Boyz II Men","Eurythmics","Journey","Scooter vs. Marc Acardipane & Dick Rules","U2","New Kids On The Block","Fetty Wap","Post Malone feat. 21 Savage","Rihanna feat. Drake","Vampire Weekend","Charlie Puth & Selena Gomez","Sara Bareilles","Daniel Caesar","Billie Eilish","Sylver","Jennifer Lopez & Pitbull","Taio Cruz","The Animals","Elton John & Dua Lipa","Rihanna, Kanye West & Paul McCartney","Lana Del Rey feat. The Weeknd","A Day to Remember","Katy Perry feat. Snoop Dogg","Simon & Garfunkel","Jennifer Lopez","Bellamy Brothers","Pitbull feat. Chris Brown","Drake","P!nk feat. Lily Allen","Electric Light Orchestra","Cat Stevens","Neon Genesis Evangelion","Eddie Murphy","Eric Saade","Lady Gaga feat. Colby O'Donis","Grease (John Travolta & Olivia Newton-John)","Dolly Parton","Jimi Jamison","The Village People","Camila Cabello feat. Daddy Yankee","Aerosmith","Sam Smith","Calum Scott","Shawn Mendes & Camila Cabello","Eva Rivas","Kendrick Lamar","Colbie Caillat","Duck Sauce","Jet","Drake Bell","Led Zeppelin","Lord Of The Lost","3OH!3","Jewel","Taylor Swift","Extreme","B.o.B feat. Bruno Mars","Aram MP3","Alan Walker","Big Time Rush","Anastacia","America","Aly & AJ","AaRON","The Smiths","BTS","Matchbox Twenty","Ke$ha feat. 3OH!3","Smash Into Pieces","5 Seconds of Summer","David Guetta feat. Kid Cudi","LMFAO","The Anxiety (Willow & Tyler Cole)","Kanye West feat. Young Jeezy","Sixpence None The Richer","Ariana Grande feat. Zedd","Bryan Adams, Rod Stewart & Sting","Rascal Flatts","Backstreet Boys","Radical Face","Brenda Lee","Cynthia Harrell","Vitamin C","Usher & Pitbull","Ashlee Simpson","Cheryl Cole","Manchester Orchestra","Duncan Laurence","The Offspring","Rag'n'Bone Man","Flo Rida feat. Ke$ha","Marc Cohn","Christina Aguilera feat. Redman","Chuck Berry","Daði Freyr","Akon feat. Eminem","Justin Bieber & Ludacris","The Mamas & The Papas","The Killers","Natalie Imbruglia","Barbie (Ryan Gosling)","NCT 127","Amy MacDonald","Abby Trott","Jason Derulo","Rihanna feat. Mikky Ekko","Rasmussen","The Temptations","Lifehouse","Selena Gomez x Marshmello","Camp Rock 2","Crush 40","Snoop Dogg & Wiz Khalifa feat. Bruno Mars","Amy Winehouse","James Morrison feat. Nelly Furtado","Katy Perry feat. Migos","Electric Callboy feat. Sido","Daði og Gagnamagnið","David Guetta feat. Akon","Flo Rida","Ricky Martin with Christina Aguilera","Ashanti","Akon","Jamiroquai","will.i.am feat. Eva Simons","Tom Odell","Daft Punk feat. Julian Casablancas","Victoria Justice & Ariana Grande","Cailin Russo & Chrissy Costanza","Loreen","Steven Curtis Chapman","A★Teens","OneRepublic","Nemo","Huey Lewis & The News","Daniel Powter","Reba McEntire & Kelly Clarkson","Aqua","Kings Of Leon","Coldplay x BTS","Nick Jonas","Blackstreet feat. Dr. Dre","Getter Jaani","Nirvana","Blink 182","Eminem feat. Dido","Disney’s Phineas & Ferb (Phineas Flynn, Candace Flynn)","Pearl Jam","will.i.am & Britney Spears","Shakira feat. Dizzee Rascal","B.o.B feat. Hayley Williams","Gorillaz","Ariana Grande feat. Future","Pixies","Jay Sean feat. Lil Wayne","Alanis Morissette","Marina and the Diamonds","Kaleo","LE SSERAFIM","Texas","Selena Gomez & The Scene","Jonathan Coulton","Lil Nas X feat. Billy Ray Cyrus","Shawn Mendes, Camila Cabello","Avenged Sevenfold","Soul Asylum","Phil Collins","Ginuwine","Stevie Wonder","Alesso & Katy Perry","Counting Crows","Remo Forrer","Midnight Oil","Verka Serduchka","The Black Eyed Peas","Hollywood Undead","Chris Brown feat. Benny Benassi","Mötley Crüe","Idina Menzel","Disney’s Descendants","Awolnation","The Script feat. will.i.am","SZA","Usher & Alicia Keys","Britney Spears & Iggy Azalea","Stephen Sanchez","Billie Eilish & Khalid","Måns Zelmerlöw","Kid Cudi","Rihanna feat. Jeezy","Lynyrd Skynyrd","Kate Bush","Drowning Pool","Zedd & Foxes","Vengaboys","Paramore","Santana feat. Rob Thomas","Cornelia Jakobs","Bowling For Soup","Goo Goo Dolls","Boney M","Victoria Justice","Thirty Seconds to Mars","Gustaph","Montaigne","Bradley Cooper & Lady Gaga","Beastie Boys","Tool","Dean Lewis","Lindsey Stirling feat. Becky G","Jay Sean","Jay Sean feat. Sean Paul & Lil Jon","Jessica Simpson","Jay Sean feat. The Rishi Rich Project","Disney’s Frozen","Pretenders","Wheatus","David Guetta feat. Rihanna","TheFatRat","ALIKA","Kings of Leon","Mariah Carey feat. Jay-Z","A Perfect Circle","Hunter Hayes","Jack Black","We Are Domi","Tenacious D","Dashboard Confessional","Asking Alexandria","Richard Marx & Donna Lewis","Kid Cudi feat. MGMT & Ratatat","Jon Bellion","Banana minnions family","Mandy Moore","Sean Kingston","Les Misérables","Justin Bieber feat. Big Sean","Eminem","Madonna feat. Britney Spears, Christina Aguilera & Missy Elliott","Natasha Bedingfield","Muse","Måneskin","Jason Paige","The Cure","Inna","David Guetta feat. Kelly Rowland","RAFAŁ","Olivia Rodrigo","Mika feat. Ariana Grande","Fredi and Friends","Shania Twain","Justin Bieber & Nicki Minaj","Lil Nas X","Hera Björk","Daft Punk","Powerwolf","John Waite","KDA ft. Madison Beer, (G)I-DLE, Lexie Liu, Jaira Burns, Seraphine","deadmau5 feat. Gerard Way","Natasha Farrow","The Common Linnets","Baccara","Chingiz","Michael Bublé","P!nk","Daughtry","The Kooks","Andrew Lambrou","Chenoa","Hailee Steinfeld feat. DNCE","Gréta Salóme & Jónsi","Dean Martin","Hazbin Hotel","The Jacksons","Owl City","Falling In Reverse","David Guetta feat. Flo Rida & Nicki Minaj","Maroon 5","Owl City & Carly Rae Jepsen","Reba McEntire with Brooks & Dunn","Alice In Chains","Usher","The Weeknd","David Guetta feat. Usher","ZAYN feat. Sia","Joe Cocker","JoJo","Guns N’ Roses","Don McLean","Manuel","Ke$ha","Bruno Mars & Cardi B","Utada Hikaru","David Guetta feat. Chris Willis","Sandie Shaw","Olly Murs feat. Flo-Rida","RuPaul","The Postal Service","Weezer","John Mayer","Red Hot Chili Peppers","Mariah Carey & Whitney Houston","My Little Pony","Blanche","Emmelie de Forest","Alter Bridge","The Proclaimers","Tina Turner","Disney’s Frozen II","Wiz Khalifa ft. Charlie Puth","Fun.","Tix","Michael Jackson","Danzel","The Black Keys","Fool’s Garden","Robbie Williams","Chris Brown feat. Rihanna","Wicked","Neil Young","Mae Muller","Sara Evans","One Direction","David Guetta & Sia","Eric Clapton","Melanie Martinez","The Neighbourhood","Pointer Sisters","Bucks Fizz","Windows95man","USA for Africa","Yohanna","Justin Bieber feat. Jaden Smith","Drake feat. Wizkid & Kyla","Elvis Presley","Ghost","Corinne Bailey Rae","Alannah Myles","Billy Boyd","Israel Kamakawiwo’ole","Faith Hill","Simply Red","Metro Station","4 Non Blondes","Ruslana","Cutting Crew","Rihanna & Ne-Yo","Bobby Helms","Hamilton","The Ronettes","Faith No More","Kendrick Lamar feat. Drake","Jack White","System Of A Down","Victorious Cast feat. Victoria Justice","No Secrets","Gloria Gaynor","Baby Lasagna","Psy feat. Suga of BTS","Maria Yaremchuk","Dave Rodgers","★N Sync","Hooverphonic","Disney's Pocahontas","Shawn Mendes","Kim Petras & Nicki Minaj","LeAnn Rimes","The Clash","AC/DC","Iggy Pop","Nelly Furtado feat. Timbaland","Marshmello x Jonas Brothers","Fountains Of Wayne","2NE1","Calvin Harris feat. Pharrell Williams, Katy Perry & Big Sean","The Rasmus","Hozier","Spice Girls","Macklemore & Ryan Lewis feat. Wanz","Breaking Benjamin","Symphony X","Netta","Ellie Goulding","Jesse McCartney","The Strokes","Nick Cave & The Bad Seeds + Kylie Minogue","Mariah Carey","Secondhand Serenade","Lucy Hale","Madonna","Nelly Furtado","David Guetta feat. Nicki Minaj & Afrojack","Crowded House","Malik Harris","Joy Division","Boney M.","Hilary Duff","Ed Sheeran and Elton John","Twenty One Pilots","Yazoo","Phoebe Bridgers","Maroon 5 feat. Wiz Khalifa","David Guetta feat. Nicki Minaj","Starship","BLACKPINK & Selena Gomez","Ultravox","Petula Clark","LazyTown","Miley Cyrus & Jessie J","Marshmello & Bastille","Tones And I","S Club 7","Madcon feat. Ray Dalton","Miracle Of Sound","Smokie","Disney's Tangled","Christina Perri","David Guetta & Chris Willis feat. Fergie & LMFAO","Rob Zombie","Dead Or Alive","blink-182","Kim Wilde","Dio","Glee Cast","The Smashing Pumpkins","Doris Day","Man With A Mission","Jay-Z feat. Alicia Keys","Netflix","NCT DREAM","Marvin Gaye & Tammi Terrell","Marillion","Hailee Steinfeld & Grey feat. Zedd","Elton John","Tyler, The Creator","Ochman","Adam Lambert","Sheryl Crow","Toto","Matt Redman","Foreigner","Van Halen","KEiiNO","Katy Perry","Olsen Brothers","Sarah McLachlan","Alexander Rybak","Enya","The Jackson 5","Ben E. King","Estelle feat. Kanye West","Serj Tankian","Aretha Franklin & The Blues Brothers Band","Marcus & Martinus","John Lennon","Ariana Grande","Creed","Sophie Ellis-Bextor","Fleetwood Mac","The Kid Laroi & Miley Cyrus","The Baseballs","Chris Rea","Ben Dolič","Mumford & Sons","Borislav Slavov (Baldur's Gate 3)","Gina G","Katy Perry feat. Nicki Minaj","Jay-Z feat. Rihanna & Kanye West","Kid Rock feat. Sheryl Crow","Mumford and Sons","Disney’s Moana (Dwayne Johnson)","Technotronic feat. Felly","Chicago","Young The Giant","Smash Mouth","Manowar","Eleni Foureira","Disney’s Encanto","Ariana Grande feat. Iggy Azalea","Mamma Mia! (Movie)","The Weeknd feat. Daft Punk","Hoobastank","Andy Williams","Lady Gaga","The Bloodhound Gang","Tally Hall","Cliff Richard","Babymetal x Electric Callboy","David Bowie","Lil Dicky","Loïc Nottet","Tiffany","Ariana Grande feat. Mac Miller","The Cranberries","Disturbed","Disney’s Phineas & Ferb (Candace Flynn)","Marshmello & Anne-Marie","Bad Omens","Disney’s Kim Possible (Christina Milian)","Lipps, Inc.","Céline Dion","Frankie Valli","Jessie J","Bing Crosby","Arctic Monkeys","The Beatles","Rise Against","Coldplay feat. Beyoncé","Bryan Adams","Hootie & The Blowfish","DragonForce","Lionel Richie","Scissor Sisters","Set It Off","A Great Big World","Men at Work","Sinéad O’Connor","Shakira ft. Freshlyground","Will Ferrell & Rachel McAdams","Coolio feat. L.V.","The Makemakes","Girls’ Generation (SNSD)","Tom Jones and Mousse T.","TheFatRat feat. Laura Brehm","Ava Max","Dua Lipa","Joan Jett & The Blackhearts","The Fray","Silia Kapsis","Srbuk","Little Big","LSD","Christina Milian","Genesis","Edward Maya & Vika Jigulina","Lorde","Sun Stroke Project & Olia Tira","Soundgarden","La Roux","3OH!3 feat. Ke$ha","Selena Gomez","Amy Grant","Joan Jett","Alice in Chains","Martin Garrix feat. Bonn","Usher feat. Lil’ Jon & Ludacris","Daisuke Ishiwatari","Against The Current","Amy Winehouse feat. Mark Ronson","Drake feat. Rihanna","Destiny’s Child","Rosa Linn","Donna Summer","Paul McCartney & Michael Jackson","LMFAO, Lauren Bennett & Goon Rock","Michael Schulte","Gandalf","Philip Bailey with Phil Collins","Kay Starr","Harry Styles","Savage Garden","Rusted Root","ABBA","Sia","Pink Floyd","Marilyn Manson","Depeche Mode","Stone Temple Pilots","The Tony Rich Project","Toni Braxton","Britney Spears","Imagine Dragons","Kylie Minogue","Chris Brown feat. Justin Bieber","Camila Cabello ft. Ed Sheeran","Justin Timberlake","Tom Dice","Audioslave","Snow Patrol","M.I.A.","Prince and the Revolution","Billy Joel","Bee Gees","Vanilla Ice","Roman Lob","Cyndi Lauper","Miley Cyrus","3 Doors Down","The Blues Brothers","Flo Rida feat. David Guetta","Portal","Evanescence","Foo Fighters","Deadmau5 & Kaskade","James Blunt","Kim Petras","George Michael","Shakira feat. Carlinhos Brown","Bastille","Foster The People","Hailee Steinfeld","Teya & Salena","Kenya Grace","Destiny","twenty øne piløts","Disney’s Hercules","Disney's Moana","Placebo feat. David Bowie","We The Kings feat. Demi Lovato","K-391 feat. Alan Walker, Julie Bergan & SeungRi","Meghan Trainor","Sublime","Skid Row","George Ezra","Enrique Iglesias feat. Pitbull","Pitbull feat. Marc Anthony","Rick Astley","Rihanna feat. Calvin Harris","Fall Out Boy","Sabrina Carpenter","Martina McBride","Tove Lo","Gwen Stefani & Eve","KoRn","Timbaland feat. Keri Hilson","Idina Menzel with Michael Bublé","Rupert Holmes","Alessandra","Psychostick","John Legend","Britney Spears / Elton John","Parry Gripp & Brianne Drouhard","Rihanna feat. Eminem","Florence + the Machine","The Kelly Family","Blanka","Wham","Ylvis","will.i.am feat. Justin Bieber","Johnny Cash","Sabaton","The Calling","SIAMÉS","The White Stripes","Bob Marley & The Wailers","Himesh Patel","Wilson Phillips","Les Fatals Picards","Lady Gaga feat. Beyoncé","Jordin Sparks feat. Chris Brown","Mandaryna","Gym Class Heroes feat. Adam Levine","Taylor Swift feat. Post Malone","Roxette","Julie and the Phantoms","Diana Ross","Justin Bieber feat. Usher","Metric","Empire Of The Sun","Rockwell","B52s","Clean Bandit feat. Marina & Luis Fonsi","AURORA","Teach-In","NIKI","Brandy & Monica","Ed Sheeran and Justin Bieber","System of a Down","Dami Im","Christina Aguilera, Lil’ Kim, Mya & P!nk (Moulin Rouge)","Nico & Vinz","Demi Lovato","Haddaway & Jim Carrey & The Roxbury Guys","Shaggy feat. RikRok","Enrique Iglesias","Ashley Tisdale","Run DMC","Lordi","Carly Rae Jepsen","Wham!","Bôa","Alice Cooper","Kellie Pickler","Ren","Take That","Chappell Roan","O.A.R.","Christina Aguilera","Queen & David Bowie","Shakira feat. Wyclef Jean","Kanye West","Finger Eleven","Blur","deadmau5 feat. Chris James","Frankie Goes To Hollywood","Morandi","Sudden Lights","Swedish House Mafia & The Weeknd","Lyn","Slayyyter","Ed Sheeran","Plain White T’s","Travie McCoy feat. Bruno Mars","The Rolling Stones","Kanye West feat. Pusha T","Cascada","LP","Freddie Mercury","Disney’s Mulan","The Pogues feat. Kirsty MacColl","David Guetta feat. Zara Larsson","Rihanna","Doja Cat","Dido","Josh Groban","Coldplay","No Doubt","Peter Gabriel & Kate Bush","Simple Plan","M83 feat. Susanne Sundfør","Rufus Wainwright","Joji","Usher feat. Pitbull","Terri Clark","Post Malone & Swae Lee","Frank Sinatra","Disney’s The Lion King","Radiohead","Rainbow","Doja Cat feat. SZA","The Rembrandts","La Bouche","Leona Lewis","Margaret Berger","Spandau Ballet","Michelle Branch","Lea Salonga and Brad Kane","Daft Punk feat. Pharrell Williams & Nile Rodgers","Elena Siegman","Max Coveri","Fergie","Katy Perry feat. Kanye West","BTS feat. Desiigner","Lulu","Sugababes","My Chemical Romance","Interpol","Eminem feat. Rihanna","Jim Croce","Metallica","Kelly Clarkson","Avril Lavigne","Miranda Lambert","Mark Ronson ft  Miley Cyrus","Major Lazer & DJ Snake feat. MØ","Avicii","Pharrell Williams","Alessia Cara","Tate McRae","P!nk feat. Nate Ruess","Phantom Planet","The Greatest Showman","Blondie","Ashley Tisdale (The Little Mermaid)","Stella Mwangi","PinkPantheress & Ice Spice","Anitta","Passenger","Zoe Wees","Silk Sonic - Bruno Mars & Anderson .Paak","Disney’s Encanto "],fAe=["Polish","Korean","English","Japanese","Spanish","Estonian","Swedish","Indonesian","French","German","Portuguese","Dutch","Catalan","Czech","Norwegian","Italian","Croatian","Latin","Icelandic","Ukrainian","Serbian","Slovenian","Finnish","Romanian","Latvian","Chinese"],hAe=2873,wd={videoIds:uAe,artists:dAe,languages:fAe,songs:hAe},pAe=new Intl.NumberFormat(void 0,{maximumFractionDigits:0});function gAe(){const[e]=$e(Nb),t=Xr(),n=oAe(Lb.Shrek);Ea(!0);const r=e===null?"quick-setup/":"menu/";Ir("enter",()=>{t(r)},[r]);const[i,s]=A.useState(!1);return A.useEffect(()=>{const o=setTimeout(()=>{s(!0)},4e3);return()=>clearTimeout(o)},[]),f.jsxs(Bo,{toolbar:!1,children:[f.jsx(yi,{children:f.jsx("title",{children:"AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsx(qL,{}),f.jsxs(_Ae,{children:[f.jsx(fM,{children:f.jsxs(mAe,{children:[f.jsx(iN,{}),f.jsx($w,{})]})}),f.jsx(fM,{children:f.jsx(Pr,{to:r,children:f.jsx(gA,{"data-test":"enter-the-game",focused:!0,children:"Enter the game"})})}),f.jsxs(vAe,{children:[f.jsxs(yB,{children:[f.jsxs(yAe,{children:[f.jsx("strong",{children:"AllKaraoke"})," is a free online karaoke game inspired by PlayStation's"," ",f.jsx("strong",{children:"SingStar"}),". Sing along to your favorite songs and compete with your friends, all through the browser! Updated almost weekly with new songs and features."]}),f.jsx("hr",{}),f.jsxs(ad,{children:["▸ ",f.jsx("strong",{children:pAe.format(wd.songs)})," songs in"," ",f.jsx("strong",{children:wd.languages.length})," languages",f.jsxs(ld,{children:["Artists such as"," ",f.jsx("strong",{children:i?f.jsx(vB,{options:{strings:wd.artists,autoStart:!0,loop:!0,delay:100}}):wd.artists.at(-1)})]})]}),f.jsxs(ad,{children:["▸ Play ",f.jsx("strong",{children:"directly"})," in the browser",f.jsxs(ld,{children:["No ",f.jsx("strong",{children:"download"})," needed"]})]}),f.jsxs(ad,{children:["▸ Use ",f.jsx("strong",{children:"phones"})," as microphones",f.jsx(ld,{children:"No need to download an app"})]}),f.jsxs(ad,{children:["▸ Supports ",f.jsx("strong",{children:"1-4"})," players",f.jsx(ld,{children:"When using phones as microphones"})]}),f.jsxs(ad,{children:["▸ ",f.jsx("strong",{children:"100% Free"})," and open source",f.jsxs(ld,{children:["Check the"," ",f.jsx("a",{href:"https://github.com/Asvarox/allkaraoke",target:"_blank",rel:"noreferrer",children:"GitHub repository"})]})]})]}),f.jsxs(AAe,{children:[f.jsx("img",{src:aAe,alt:"Song list screen"}),n==="test"?f.jsx("img",{src:lAe,alt:"In-game screen"}):f.jsx("img",{src:cAe,alt:"In-game screen"})]})]}),f.jsxs(SAe,{children:["Using this device as remote microphone?",f.jsx(Pr,{to:"remote-mic/",children:f.jsx("a",{"data-test":"join-existing-game",children:"Join existing game"})})]}),f.jsxs(bAe,{children:[f.jsx(dM,{children:f.jsx(Pr,{to:"remote-mic/",children:f.jsx(gA,{"data-test":"join-existing-game",focused:!0,children:f.jsxs("span",{children:["Join game (with ",f.jsx("strong",{children:"Game Code"}),")"]})})})}),f.jsx(dM,{children:f.jsx(Pr,{to:"quick-setup/",children:f.jsx(gA,{"data-test":"enter-the-game",children:"Start new game"})})})]})]})]})}const mAe=C("div",{target:"e1n22rxp10"})({name:"an0x26",styles:"display:flex;gap:6rem"}),vAe=C("div",{target:"e1n22rxp9"})("display:flex;align-items:center;gap:6rem;padding:6rem;box-sizing:border-box;width:110rem;font-size:2.3rem;",yf,"{width:90%;flex-direction:column;font-size:8.5rem;}",_0,"{font-size:4.9rem;}background:rgba(0, 0, 0, 0.8);backdrop-filter:blur(10px);hr{margin:3rem 0;}"),yAe=C("span",{target:"e1n22rxp8"})("line-height:1.5;text-align:justify;",yf,"{font-size:8.5rem;}",_0,"{font-size:4.9rem;}"),ad=C("div",{target:"e1n22rxp7"})(""),ld=C("div",{target:"e1n22rxp6"})({name:"1dzwbkh",styles:"padding-top:0.5rem;font-size:0.7em;text-align:right;.Typewriter{display:inline;}"}),yB=C("div",{target:"e1n22rxp5"})("display:flex;flex-direction:column;flex:1;gap:1rem;",De,";"),AAe=C(yB,{target:"e1n22rxp4"})(_0,"{display:none;}",yf,"{flex-direction:row;}gap:4rem;img{width:100%;aspect-ratio:16/9;object-fit:cover;box-shadow:0 0 5rem rgba(114, 155, 255, 0.5);border-radius:1rem;",yf,"{width:calc(50% - 2rem);height:50rem;}}img:nth-of-type(2){box-shadow:0 0 10rem rgb(19, 19, 19);}"),_Ae=C("div",{target:"e1n22rxp3"})("display:flex;flex-direction:column;",_0,"{flex-direction:row;}align-items:center;justify-content:center;height:100vh;gap:3rem;strong,a{text-shadow:0 0 5rem ",pe.colors.text.active,";}"),bAe=C("div",{target:"e1n22rxp2"})({name:"inasn2",styles:"display:flex;flex-direction:column;gap:3rem;width:90%;&& a{width:100%;flex:1;min-height:30rem;}"}),SAe=C("h3",{target:"e1n22rxp1"})(yf,"{display:none;}text-align:right;width:110rem;margin-top:-2.5rem!important;"),gA=C(X4,{target:"e1n22rxp0"})("font-size:9rem;padding:1rem 7rem;background:black;width:110rem;transform:none;",J4,";");function xAe(e){const t=Xr(),n=()=>t("menu/"),{register:r}=zn({onBackspace:n});return f.jsxs(Ia,{children:[f.jsx(yi,{children:f.jsx("title",{children:"Manage Songs | AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsx("h1",{children:"Manage Songs"}),f.jsx(Pr,{to:"exclude-languages/",children:f.jsx(Re,{...r("exclude-languages",()=>t("exclude-languages/")),children:"Select Song Languages"})}),f.jsx(Pr,{to:"edit/list/",children:f.jsx(Re,{...r("edit-songs",()=>t("edit/list/")),children:"Edit songs"})}),f.jsx(Pr,{to:"convert/",children:f.jsx(Re,{...r("convert-song",()=>t("convert/")),children:"Convert UltraStar .txt"})}),f.jsx("hr",{}),f.jsx(Pr,{to:"menu/",children:f.jsx(Re,{...r("back-button",n),children:"Return To Main Menu"})})]})}var bv={exports:{}};bv.exports=fE;bv.exports.isMobile=fE;bv.exports.default=fE;const wAe=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,EAe=/CrOS/,kAe=/android|ipad|playbook|silk/i;function fE(e){e||(e={});let t=e.ua;if(!t&&typeof navigator<"u"&&(t=navigator.userAgent),t&&t.headers&&typeof t.headers["user-agent"]=="string"&&(t=t.headers["user-agent"]),typeof t!="string")return!1;let n=wAe.test(t)&&!EAe.test(t)||!!e.tablet&&kAe.test(t);return!n&&e.tablet&&e.featureDetect&&navigator&&navigator.maxTouchPoints>1&&t.indexOf("Macintosh")!==-1&&t.indexOf("Safari")!==-1&&(n=!0),n}var CAe=bv.exports;const TAe=hr(CAe);function IAe(){const[,e]=$e(pr),t=async()=>{var n,r;try{e(!0),await document.body.requestFullscreen(),global.screen.orientation.unlock(),await((r=(n=global.screen.orientation).lock)==null?void 0:r.call(n,"landscape"))}catch(i){console.info(i)}};return f.jsx(Bo,{children:f.jsx(RAe,{children:f.jsxs(MAe,{children:[f.jsx("h1",{children:"Use Mobile Phone Mode?"}),f.jsx("h3",{children:"The regular version of the game isn't optimal for smaller screens. Enable the Mobile Phone Mode to adjust the UI and gameplay elements. Use this, or connect other mobiles to sing songs."}),f.jsxs("h3",{children:["You can always change the setting in the ",f.jsx("strong",{children:"Settings"})," menu."]}),f.jsx(hM,{focused:!0,onClick:t,"data-test":"enable-mobile-mode",children:"Enable Mobile Phone Mode"}),f.jsx(hM,{onClick:()=>e(!1),"data-test":"dismiss-mobile-mode",children:"Dismiss"})]})})})}const hM=C(Re,{target:"e6hg0672"})({name:"h427ha",styles:"font-size:calc(min(3vw, 4vh));height:auto;padding:calc(min(3vw, 4vh))"}),RAe=C("div",{target:"e6hg0671"})({name:"wkkrci",styles:"position:fixed;inset:0;display:flex;align-items:center;justify-content:center"}),MAe=C(Ts,{target:"e6hg0670"})({name:"x689zy",styles:"max-width:150rem;padding:calc(min(3vw, 4vh));margin:auto;h1{font-size:calc(min(4vw, 5vh));margin-bottom:0.75em;}h3{font-size:calc(min(3vw, 4vh));line-height:1.25;margin-bottom:1em;}"});function PAe(e){const[t]=$e(pr),n=A.useMemo(()=>TAe(),[]),r=Xr(),i=async s=>{var o,a;if(r("menu/"),t&&document.fullscreenElement===null)try{await document.body.requestFullscreen(),global.screen.orientation.unlock(),await((a=(o=global.screen.orientation).lock)==null?void 0:a.call(o,"landscape"))}catch(l){console.info(l)}};return f.jsxs(f.Fragment,{children:[f.jsx(yi,{children:f.jsx("title",{children:"Select Input | AllKaraoke.Party - Free Online Karaoke Party Game"})}),t===null&&n?f.jsx(IAe,{}):f.jsx(Ia,{children:f.jsx(rE,{onFinish:i,closeButtonText:"Sing a song",smooth:!0})})]})}function jAe(e){Ra(!1);const t=Xr(),n=()=>t("settings/"),{register:r}=zn({onBackspace:n}),[i,s]=$e(kg),[o,a]=$e(ZP),l=mi(ee.inputListChanged,()=>Ze.getRemoteMics()),c=L3();return A.useEffect(()=>Ze.addListener(c),[c]),f.jsxs(Ia,{children:[f.jsx("h1",{children:"Remote Microphone Settings"}),f.jsx(ai,{...r("websocket-connection",()=>s(!i)),label:"Use Websockets",value:i?"Yes":"No"}),f.jsx("hr",{}),f.jsx(ai,{...r("default-permission",()=>a(ul(I2,o))),label:"Default permission",info:f.jsxs(f.Fragment,{children:[f.jsx("strong",{children:"WRITE"})," - player is able to navigate the menus remotely and assign themselves and other players to the game.",f.jsx("br",{}),f.jsx("br",{}),f.jsx("strong",{children:"READ"})," - player will only be able to use the device as a microphone and otherwise have no control over the game."]}),value:o.toUpperCase()}),f.jsx("hr",{}),f.jsx("h3",{children:"Connected devices permissions:"}),l.map(u=>{const d=Ze.getPermission(u.id);return f.jsx(LAe,{...r(`mic-${u.id}`,()=>Ze.setPermission(u.id,ul(I2,d)),"Change permissions"),"data-test":"remote-mic-entry","data-id":u.id,value:d,label:f.jsxs(VAe,{children:[f.jsx(BAe,{children:u.id.slice(-4)}),f.jsx(DAe,{children:f.jsx(OAe,{deviceId:u.id})}),f.jsx(NAe,{className:"ph-no-capture",children:u.name})]})},u.id)}),l.length===0&&f.jsx("h4",{children:"No remote microphones connected"}),f.jsx("hr",{}),f.jsx(Re,{...r("back-button",n),children:"Return To Settings"})]})}const OAe=({deviceId:e})=>{const t=$N(e);return t===null?null:f.jsxs(f.Fragment,{children:[t,"ms"]})},VAe=C("span",{target:"expzhs34"})({name:"50zrmy",styles:"text-transform:uppercase"}),LAe=C(ai,{target:"expzhs33"})({name:"50zrmy",styles:"text-transform:uppercase"}),NAe=C("span",{target:"expzhs32"})(""),BAe=C("span",{target:"expzhs31"})({name:"1mrl9vb",styles:"font-size:1.5rem;padding-right:1rem"}),DAe=C("span",{target:"expzhs30"})({name:"13smbnv",styles:"font-size:1.5rem;padding-right:2rem;text-transform:none"}),mA=2500,$Ae=()=>{const e=[0,...new Array(21).fill(0).map((n,r)=>Math.round(10*(1.2+Math.sin(r/2.5+1.5)))/10).map(n=>Math.round(n/28*mA)).reduce((n,r)=>[...n,(n.at(-1)??0)+r],[])],t=[{offset:"0%",color:Ue.eurovisionPink.text},{offset:"25%",color:Ue.eurovisionYellow.text},{offset:"50%",color:Ue.eurovisionPink.text},{offset:"75%",color:Ue.eurovisionOrange.text},{offset:"100%",color:Ue.eurovisionPink.text}];return f.jsxs("svg",{width:mA,height:mA,version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:[f.jsx("defs",{children:Array.from({length:21},(n,r)=>f.jsx("linearGradient",{id:`grad${r}`,x1:"0%",x2:"0%",y1:`${r*2}%`,y2:`${r*2+100}%`,spreadMethod:"repeat",children:t.map((i,s)=>f.jsx("stop",{offset:i.offset,stopColor:i.color},s))},r))}),Array.from({length:22},(n,r)=>f.jsx("rect",{x:e[r],y:"0",width:(e[r+1]??501)-e[r]+10,height:"100%",fill:`url(#grad${r})`},r))]})},FAe=`<?xml version="1.0" encoding="utf-8"?>
<svg viewBox="0 0 500 500" xmlns="http://www.w3.org/2000/svg">
  <g style="" transform="matrix(1.071942, 0, 0, 1.071942, 1.835104, 30.483427)">
    <path xmlns="http://www.w3.org/2000/svg" d="M 106.909 108.923 C 93.513 122.319 85.385 140.039 83.629 158.623 C 65.934 156.191 48.056 147.884 33.558 133.384 C 2.037 101.864 -1.61 54.425 25.407 27.42 C 52.402 0.403 99.839 4.05 131.36 35.571 C 145.859 50.07 154.167 67.957 156.598 85.654 C 138.025 87.387 120.305 95.527 106.909 108.923 Z M 277.592 279.606 C 284.12 273.076 293.486 270.217 302.56 271.951 L 335.161 304.574 C 344.167 313.579 344.167 328.169 335.161 337.175 C 326.155 346.181 311.566 346.181 302.56 337.175 L 269.937 304.574 C 268.203 295.502 271.062 286.135 277.592 279.606 Z M 172.111 108.923 C 154.167 106.357 136.043 112.402 123.209 125.224 C 110.377 138.057 104.342 156.181 106.909 174.137 L 258.318 295.253 C 259.219 286.383 262.957 277.94 269.441 271.455 C 275.925 264.971 284.368 261.234 293.239 260.333 L 172.111 108.923 Z" style="stroke: rgb(0, 0, 0); fill: rgb(255, 54, 54); stroke-width: 9.32886px; stroke-linejoin: round;"/>
    <path xmlns="http://www.w3.org/2000/svg" d="M 218.755 301.518 C 205.359 288.122 197.231 270.402 195.475 251.818 C 177.78 254.25 159.902 262.557 145.404 277.057 C 113.883 308.577 110.236 356.016 137.253 383.021 C 164.248 410.038 211.685 406.391 243.206 374.87 C 257.705 360.371 266.013 342.484 268.444 324.787 C 249.871 323.054 232.151 314.914 218.755 301.518 Z M 389.438 130.835 C 395.966 137.365 405.332 140.224 414.406 138.49 L 447.007 105.867 C 456.013 96.862 456.013 82.272 447.007 73.266 C 438.001 64.26 423.412 64.26 414.406 73.266 L 381.783 105.867 C 380.049 114.939 382.908 124.306 389.438 130.835 Z M 283.957 301.518 C 266.013 304.084 247.889 298.039 235.055 285.217 C 222.223 272.384 216.188 254.26 218.755 236.304 L 370.164 115.188 C 371.065 124.058 374.803 132.501 381.287 138.986 C 387.771 145.47 396.214 149.207 405.085 150.108 L 283.957 301.518 Z" style="fill: rgb(4, 153, 255); stroke: rgb(0, 0, 0); stroke-width: 9.32886px; stroke-linejoin: round;" transform="matrix(-1, 0, 0, -1, 572.91568, 467.631317)"/>
  </g>
</svg>`;function zAe(){return Ea(!1),f.jsxs(Bo,{children:[f.jsxs(UAe,{children:[f.jsx(HAe,{dangerouslySetInnerHTML:{__html:FAe}}),f.jsx(AB,{children:f.jsx(P1,{})})]}),f.jsxs(qAe,{children:[f.jsx(GAe,{children:f.jsx(P1,{})}),f.jsx($w,{}),f.jsx(WAe,{src:PN,alt:"Eurovision"})]}),f.jsx($Ae,{})]})}const UAe=C("div",{target:"e1bt4f566"})({name:"yc537h",styles:"width:400px;aspect-ratio:1/1;position:relative;padding:30px"}),AB=C("div",{target:"e1bt4f565"})(`display:flex;position:absolute;inset:0;z-index:-1;div{background-image:linear-gradient(
      0deg,
      `,Ue.eurovisionViolet.text,`,
      `,Ue.eurovisionBlue.text,`,
      `,Ue.eurovisionYellow.text,`,
      `,Ue.eurovisionBlue.text,`,
      `,Ue.eurovisionViolet.text,`
    );}`),HAe=C("svg",{target:"e1bt4f564"})("width:400px;aspect-ratio:1/1;object-fit:contain;filter:drop-shadow(0 0 10px rgb(0 0 0 / 0.6));path:nth-of-type(1){fill:",Ue.red.text,"!important;}path:nth-of-type(2){fill:",Ue.blue.text,"!important;}"),GAe=C(AB,{target:"e1bt4f563"})(`div{background-image:linear-gradient(
      0deg,
      `,Ue.eurovisionPink.text,`,
      `,Ue.eurovisionOrange.text,`,
      `,Ue.eurovisionYellow.text,`,
      `,Ue.eurovisionPink.text,`
    );}`),qAe=C("div",{target:"e1bt4f562"})(`overflow:hidden;position:relative;height:calc(693px / 1);width:calc(2048px / 1);transform:scale(1);background-color:black;background-image:linear-gradient(
    120deg,
    `,Ue.red.stroke,`,
    `,Ue.red.hit.fill,` 49.9%,
    `,Ue.blue.hit.fill,` 50.1%,
    `,Ue.blue.stroke,`
  );display:flex;align-items:center;justify-content:center;div{}`),WAe=C("img",{target:"e1bt4f561"})({name:"1go3sm",styles:"margin-left:4rem;transform:scale(1.5)"}),KAe=(e,t)=>`
<iframe src="https://www.facebook.com/plugins/page.php?href=https%3A%2F%2Fwww.facebook.com%2Fallkaraoke.party&${Object.entries({show_posts:!0,width:e,height:t,small_header:!0,adapt_container_width:!0,hide_cover:!1,show_facepile:!1,appId:530120230391395}).map(([i,s])=>`${i}=${String(s)}`).join("&")}" width="${e}" height="${t}" style="border:none;overflow:hidden" scrolling="no" frameborder="0" allowfullscreen="true" allow="autoplay; clipboard-write; encrypted-media; picture-in-picture; web-share"></iframe>
`;function YAe(){const[e]=$e(pr),[t,n]=A.useState(!1),[r,i]=A.useState(200),s=A.useCallback(o=>{i(Math.round(o==null?void 0:o.getBoundingClientRect().width)??200)},[]);return A.useEffect(()=>{const o=setTimeout(()=>{n(!0)},750);return()=>{clearTimeout(o)}},[]),f.jsxs(QAe,{"data-small":!!e,show:t,children:[f.jsx("div",{dangerouslySetInnerHTML:{__html:KAe(350,750)},style:{height:750*(r/350),width:"100%",transformOrigin:"left top",transform:`scale(${r/350})`}}),f.jsx("h5",{ref:s,children:"Get updates, and help by suggesting features and reporting bugs."})]})}const QAe=C(Ts,{target:"e1zzmv40"})("transition:1000ms;opacity:",e=>e.show?1:0,";position:absolute;top:2rem;right:10rem;width:37rem;margin:0;text-decoration:none;text-align:justify;&[data-small='true'] &{width:25rem;right:1rem;h2{font-size:1.5rem;}h5{font-size:1.15rem;}}view-transition-name:fb-notification;");function JAe(){const[e]=$e(Bb);Ea(!0);const t=Xr();Ra(!1);const{register:n}=zn();return f.jsxs(Ia,{children:[f.jsxs(yi,{children:[f.jsx("title",{children:"Main Menu | AllKaraoke.Party - Free Online Karaoke Party Game"}),f.jsx("link",{rel:"preload",href:"/songs/index.json",as:"fetch",type:"application/json",crossOrigin:"anonymous"}),f.jsx("link",{rel:"preload",href:"/mostPopularSongs.json",as:"fetch",type:"application/json",crossOrigin:"anonymous"})]}),e!=="Classic"&&f.jsxs(XAe,{children:[f.jsxs("span",{children:["Bpm data and release year provided by"," ",f.jsx("a",{target:"_blank",href:"https://getsongbpm.com/",rel:"noreferrer",children:"GetSongBPM"})]}),f.jsx("span",{children:"Song: Funk Cool Groove (Music Today 80)"}),f.jsx("span",{children:"• Composed & Produced by : Anwar Amr"}),f.jsxs("span",{children:["• Video Link:"," ",f.jsx("a",{href:"https://youtu.be/FGzzBbYRjFY",target:"_blank",rel:"noreferrer",children:"https://youtu.be/FGzzBbYRjFY"})]})]}),f.jsx(YAe,{}),f.jsxs(f.Fragment,{children:[f.jsx(Pr,{to:"game/",children:f.jsx(Re,{...n("sing-a-song",()=>t("game/")),children:"Sing a song"})}),f.jsx(Pr,{to:"select-input/",children:f.jsx(Re,{...n("select-input",()=>t("select-input/")),children:"Setup Microphones"})}),f.jsx(Pr,{to:"settings/",children:f.jsx(Re,{...n("settings",()=>t("settings/")),children:"Settings"})}),f.jsx(Pr,{to:"jukebox/",children:f.jsx(Re,{...n("jukebox",()=>t("jukebox/")),children:"Jukebox"})}),f.jsx(Pr,{to:"manage-songs/",children:f.jsx(Re,{...n("manage-songs",()=>t("manage-songs/")),children:"Manage Songs"})})]})]})}const XAe=C("div",{target:"e1g7uwpd0"})(De,";text-decoration:none;flex-direction:column;display:flex;font-size:1.5rem;gap:1.25rem;opacity:0.85;position:absolute;bottom:4rem;left:1rem;view-transition-name:background-music-credit;"),Dr={INDEX:"",QUICK_SETUP:"quick-setup",GAME:"game",MENU:"menu",JUKEBOX:"jukebox",SELECT_INPUT:"select-input",SETTINGS:"settings",SETTINGS_REMOTE_MICS:"settings/remote-mics",REMOTE_MIC:"remote-mic",MANAGE_SONGS:"manage-songs",EXCLUDE_LANGUAGES:"exclude-languages",CONVERT:"convert",EDIT_SONGS_LIST:"edit/list",EDIT_SONG:"edit/song"},ZAe=A.lazy(()=>xu(()=>import("./SongManagement-CO8LM024.js"),[]).then(e=>({default:e.SongList})));function e1e(){$e(pr);const[e]=$e(Di),t=A.useMemo(()=>EO({graphicSetting:e}),[e]);return f.jsx(Pue,{theme:t,children:f.jsx(lS,{fallback:Ype,children:f.jsx(oX,{children:f.jsx(XJ,{children:f.jsx(Moe,{base:"/",children:f.jsxs(Poe,{children:[f.jsx(yr,{path:Dr.QUICK_SETUP,component:PAe}),f.jsx(yr,{path:Dr.MENU,component:JAe}),f.jsx(yr,{path:Dr.EXCLUDE_LANGUAGES,component:Zpe}),f.jsx(yr,{path:Dr.JUKEBOX,component:epe}),f.jsx(yr,{path:Dr.GAME,children:f.jsx(rAe,{})}),f.jsx(yr,{path:Dr.SELECT_INPUT,component:Kpe}),f.jsx(yr,{path:Dr.SETTINGS,component:Cfe}),f.jsx(yr,{path:Dr.SETTINGS_REMOTE_MICS,component:jAe}),f.jsx(yr,{path:Dr.REMOTE_MIC,component:Ode}),f.jsx(yr,{path:Dr.MANAGE_SONGS,component:xAe}),f.jsx(yr,{path:"social-media-elements",component:zAe}),f.jsx(yr,{path:Dr.CONVERT,component:()=>f.jsx(oN,{})}),f.jsx(yr,{path:Dr.EDIT_SONGS_LIST,component:()=>f.jsx(A.Suspense,{fallback:f.jsx(sN,{}),children:f.jsx(ZAe,{})})}),f.jsx(yr,{path:"edit/get-songs-bpms",component:Xpe}),f.jsx(yr,{path:Dr.EDIT_SONG,children:f.jsx(qfe,{})}),f.jsx(yr,{path:Dr.INDEX,component:gAe})]})})})})})})}const t1e=QU(e1e),n1e=["AbortError: Version change transaction was aborted in upgradeneeded event handler.","The object can not be found here.","Document is hidden.","Failed to register a ServiceWorker for scope ('https://allkaraoke.party/') with script","NotAllowedError: Permission denied by system","ResizeObserver loop limit exceeded","ResizeObserver loop completed with undelivered notifications.","NotAllowedError: Document is not focused.","Error: Socket was destroyed!",/TypeError: Failed to fetch/,"top.GLOBALS","originalCreateNotification","canvas.contentDocument","MyApp_RemoveAllHighlights","http://tt.epicplay.com","Can't find variable: ZiteReader","jigsaw is not defined","ComboSearch is not defined","http://loading.retry.widdit.com/","atomicFindClose","fb_xd_fragment","bmi_SafeAddOnload","EBCallBackMessageReceived","conduitPage"];var _B,pM=ju;_B=pM.createRoot,pM.hydrateRoot;CU({integrations:[xU({enableInp:!0})],dsn:"https://66c6e940d24b4096a277f350571921bb@o366978.ingest.sentry.io/6174734",ignoreErrors:n1e,tracesSampleRate:Xs()?0:.01,environment:Xs()?"e2e":"production",tunnel:"https://backend.allkaraoke.party/sentry"});Xs()||Vn.init("phc_bw7XLoONmtGVezmMKTvcwk3lj37jzxTfisqzjlJ0Jik",{api_host:"https://backend.allkaraoke.party/posthog",loaded:e=>{let t=je.local.getItem("posthog-user-id");t||(t=Fg(),je.local.setItem("posthog-user-id",t)),e.identify(t);let n=je.local.getItem("posthog-user-name");if(!n){const r=[...new Set(wd.artists.flatMap(i=>Oj(i).split("-")))].filter(i=>i.length<=10);n=new Array(Hs(3,5)).fill(0).map(()=>r[Hs(0,r.length-1)]).join("-"),je.local.setItem("posthog-user-name",n),e.alias(n,t)}rz({id:t})}});const r1e=CS({key:"ec",speedy:!fN}),i1e=document.getElementById("root"),s1e=_B(i1e);s1e.render(f.jsxs(h3,{value:r1e,children:[f.jsx(t1e,{}),f.jsx(b1,{position:Vt.POSITION.BOTTOM_LEFT,theme:"colored"})]}));export{ju as $,D1 as A,Ete as B,j1 as C,Cu as D,Vo as E,sT as F,cZ as G,Tu as H,Pte as I,Zn as J,jee as K,Vee as L,Zx as M,EO as N,sO as O,Qe as P,Rie as Q,h1e as R,Zs as S,yI as T,Cte as U,$1 as V,jX as W,ZX as X,tO as Y,nO as Z,Gte as _,Er as a,Hw as a$,OX as a0,gd as a1,RX as a2,DX as a3,oO as a4,iO as a5,MX as a6,NX as a7,bl as a8,UX as a9,u1e as aA,xw as aB,Vn as aC,Js as aD,Ea as aE,Xr as aF,Ra as aG,S0 as aH,aZ as aI,gX as aJ,dw as aK,ut as aL,ot as aM,yte as aN,tie as aO,sie as aP,wa as aQ,gi as aR,$ue as aS,g1e as aT,p1e as aU,jae as aV,Y4 as aW,K4 as aX,xm as aY,gs as aZ,yi as a_,m1e as aa,kte as ab,hZ as ac,j0 as ad,C as ae,dv as af,Yk as ag,Ns as ah,Mt as ai,Le as aj,hW as ak,xh as al,$c as am,Jp as an,gG as ao,ya as ap,ff as aq,cN as ar,zfe as as,Dfe as at,Nfe as au,Hfe as av,Mr as aw,wu as ax,oye as ay,nq as az,Te as b,Aq as c,Oe as d,vO as e,uZ as f,mS as g,ZS as h,hee as i,f as j,Fr as k,dZ as l,Wo as m,V1 as n,rO as o,Eo as p,f1e as q,A as r,je as s,fO as t,rie as u,_s as v,d1e as w,lh as x,ku as y,dh as z};
//# sourceMappingURL=index-NienC60e.js.map
