var lF=Object.defineProperty;var cF=(e,t,n)=>t in e?lF(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var vh=(e,t,n)=>cF(e,typeof t!="symbol"?t+"":t,n);(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},t=new e.Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="28640c19-1eca-4d83-8c93-8c43074b7931",e._sentryDebugIdIdentifier="sentry-dbid-28640c19-1eca-4d83-8c93-8c43074b7931")}catch{}})();{var Wu=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};Wu._sentryModuleMetadata=Wu._sentryModuleMetadata||{},Wu._sentryModuleMetadata[new Wu.Error().stack]=Object.assign({},Wu._sentryModuleMetadata[new Wu.Error().stack],{"_sentryBundlerPluginAppKey:allkaraoke-party-sentry-key":!0})}function uF(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}var dF=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};dF.SENTRY_RELEASE={id:"7a36143bc0c57e0cd8d9f8dce83060a2e9ce0687"};(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var pm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Pr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function fF(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var n1={exports:{}},yh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nk;function hF(){if(Nk)return yh;Nk=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,s){var l=null;if(s!==void 0&&(l=""+s),i.key!==void 0&&(l=""+i.key),"key"in i){s={};for(var c in i)c!=="key"&&(s[c]=i[c])}else s=i;return i=s.ref,{$$typeof:e,type:r,key:l,ref:i!==void 0?i:null,props:s}}return yh.Fragment=t,yh.jsx=n,yh.jsxs=n,yh}var Lk;function pF(){return Lk||(Lk=1,n1.exports=hF()),n1.exports}var g=pF();class Ys{constructor(){this.listeners=[],this.onUpdate=(...t)=>{this.listeners.forEach(n=>n(...t))},this.addListener=t=>(this.listeners.push(t),()=>{this.removeListener(t)}),this.removeListener=t=>{this.listeners=this.listeners.filter(n=>n!==t)},this.clearAllListeners=()=>{console.log("clearing all listeners"),this.listeners=[]}}}const H_=e=>({setItem:(t,n)=>{e.setItem(t,JSON.stringify(n))},getItem:t=>{const n=e.getItem(t);if(n===null)return null;try{return JSON.parse(n)}catch{return n}},removeItem:t=>{e.removeItem(t)},clear:()=>{e.clear()},keys:()=>{const t=[];for(let n=0,r=e.length;n<r;++n)t.push(e.key(n));return t}});class q_{constructor(){this.store={}}setItem(t,n){this.store[t]=n}getItem(t){const n=this.store[t];return n===void 0?null:n}removeItem(t){delete this.store[t]}get length(){return Object.keys(this.store).length}keys(){return Object.keys(this.store)}key(t){return Object.keys(this.store)[t]}clear(){this.store={}}}const Fk=H_((global==null?void 0:global.localStorage)??new q_),st={...Fk,local:Fk,session:H_((global==null?void 0:global.sessionStorage)??new q_),memory:H_(new q_)},G_="CAMERA_GRANT_KEY",zk=st.local.getItem(G_);class gF extends Ys{constructor(){super(),this.stream=null,this.recorder=null,this.videoData=[],this.permissionGranted=zk!==null?JSON.parse(zk):null,this.requestPermissions=async()=>{try{this.stream=await navigator.mediaDevices.getUserMedia({video:!0}),this.permissionGranted=!0,await this.stopRecord()}catch{this.permissionGranted=!1}return st.local.setItem(G_,JSON.stringify(this.permissionGranted)),this.onUpdate(this.permissionGranted),this.permissionGranted},this.disable=()=>{this.permissionGranted=!1,st.local.setItem(G_,JSON.stringify(this.permissionGranted)),this.onUpdate(this.permissionGranted)},this.startRecord=async()=>{if(this.permissionGranted)try{this.stream=await navigator.mediaDevices.getUserMedia({video:{frameRate:2}});const t=this.stream.getVideoTracks()[0].getSettings();this.video.width=t.width??this.video.width,this.video.height=t.height??this.video.height,this.canvas.width=this.video.width,this.canvas.height=this.video.height,this.video.srcObject=this.stream,await this.video.play(),this.recorder=new MediaRecorder(this.stream,{mimeType:"video/webm"}),this.recorder.ondataavailable=n=>{this.videoData.push(n.data)},this.recorder.start()}catch(t){console.warn(t)}},this.getVideo=()=>{const t=new Blob(this.videoData,{type:"video/webm"});return URL.createObjectURL(t)},this.stopRecord=async()=>{var t,n;this.permissionGranted&&((t=this.recorder)==null||t.stop(),(n=this.stream)==null||n.getTracks().forEach(r=>r.stop()))},this.clearData=()=>{this.videoData.length=0},this.restartRecord=async()=>{await this.stopRecord(),await this.clearData(),await this.startRecord()},this.getPermissionStatus=()=>this.permissionGranted,this.getLiveCameraFeed=async()=>{if(this.permissionGranted)try{return this.stream=await navigator.mediaDevices.getUserMedia({video:!0}),this.stream}catch(t){console.warn(t)}},this.video=document.createElement("video"),this.video.width=480,this.video.height=this.video.width*(9/16),this.canvas=document.createElement("canvas"),this.canvas.width=this.video.width,this.canvas.height=this.video.height}}const zi=new gF;var fe=typeof window<"u"?window:void 0,$i=typeof globalThis<"u"?globalThis:fe,Fj=Array.prototype,$k=Fj.forEach,Uk=Fj.indexOf,ss=$i==null?void 0:$i.navigator,He=$i==null?void 0:$i.document,Fi=$i==null?void 0:$i.location,Y_=$i==null?void 0:$i.fetch,K_=$i!=null&&$i.XMLHttpRequest&&"withCredentials"in new $i.XMLHttpRequest?$i.XMLHttpRequest:void 0,Hk=$i==null?void 0:$i.AbortController,$r=ss==null?void 0:ss.userAgent,Tt=fe??{},ul={DEBUG:!1,LIB_VERSION:"1.194.1"},G0={},Yv=function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")};function bd(e,t,n){if(mr(e)){if($k&&e.forEach===$k)e.forEach(t,n);else if("length"in e&&e.length===+e.length){for(var r=0,i=e.length;r<i;r++)if(r in e&&t.call(n,e[r],r)===G0)return}}}function wn(e,t,n){if(!On(e)){if(mr(e))return bd(e,t,n);if(_F(e)){for(var r of e.entries())if(t.call(n,r[1],r[0])===G0)return}else for(var i in e)if(Uj.call(e,i)&&t.call(n,e[i],i)===G0)return}}var Ci=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return bd(n,function(i){for(var s in i)i[s]!==void 0&&(e[s]=i[s])}),e};function $t(e,t){return e.indexOf(t)!==-1}function v0(e){for(var t=Object.keys(e),n=t.length,r=new Array(n);n--;)r[n]=[t[n],e[t[n]]];return r}var qk=function(e){try{return e()}catch{return}},mF=function(e){return function(){try{for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(this,n)}catch(i){xe.critical("Implementation error. Please turn on debug mode and open a ticket on https://app.posthog.com/home#panel=support%3Asupport%3A."),xe.critical(i)}}},Y0=function(e){var t={};return wn(e,function(n,r){fi(n)&&n.length>0&&(t[r]=n)}),t},W_=function(e){return e.replace(/^\$/,"")};function vF(e,t){return n=e,r=s=>fi(s)&&!Il(t)?s.slice(0,t):s,i=new Set,function s(l,c){return l!==Object(l)?r?r(l,c):l:i.has(l)?void 0:(i.add(l),mr(l)?(d=[],bd(l,u=>{d.push(s(u))})):(d={},wn(l,(u,h)=>{i.has(u)||(d[h]=s(u,h))})),d);var d}(n);var n,r,i}var yF=function(e){var t,n,r,i,s="";for(t=n=0,r=(e=(e+"").replace(/\r\n/g,`
`).replace(/\r/g,`
`)).length,i=0;i<r;i++){var l=e.charCodeAt(i),c=null;l<128?n++:c=l>127&&l<2048?String.fromCharCode(l>>6|192,63&l|128):String.fromCharCode(l>>12|224,l>>6&63|128,63&l|128),Il(c)||(n>t&&(s+=e.substring(t,n)),s+=c,t=n=i+1)}return n>t&&(s+=e.substring(t,e.length)),s},ga=function(){function e(t){return t&&(t.preventDefault=e.preventDefault,t.stopPropagation=e.stopPropagation),t}return e.preventDefault=function(){this.returnValue=!1},e.stopPropagation=function(){this.cancelBubble=!0},function(t,n,r,i,s){if(t)if(t.addEventListener&&!i)t.addEventListener(n,r,!!s);else{var l="on"+n,c=t[l];t[l]=function(d,u,h){return function(p){if(p=p||e(fe==null?void 0:fe.event)){var v,y=!0;Ds(h)&&(v=h(p));var b=u.call(d,p);return v!==!1&&b!==!1||(y=!1),y}}}(t,r,c)}else xe.error("No valid element provided to register_event")}}();function zj(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return e[n]}var so,r1="$copy_autocapture",AF=["$snapshot","$pageview","$pageleave","$set","survey dismissed","survey sent","survey shown","$identify","$groupidentify","$create_alias","$$client_ingestion_warning","$web_experiment_applied","$feature_enrollment_update","$feature_flag_called"];(function(e){e.GZipJS="gzip-js",e.Base64="base64"})(so||(so={}));var bF=Array.isArray,$j=Object.prototype,Uj=$j.hasOwnProperty,Kv=$j.toString,mr=bF||function(e){return Kv.call(e)==="[object Array]"},Ds=e=>typeof e=="function",Cr=e=>e===Object(e)&&!mr(e),dd=e=>{if(Cr(e)){for(var t in e)if(Uj.call(e,t))return!1;return!0}return!1},et=e=>e===void 0,fi=e=>Kv.call(e)=="[object String]",Gk=e=>fi(e)&&e.trim().length===0,Il=e=>e===null,On=e=>et(e)||Il(e),rs=e=>Kv.call(e)=="[object Number]",_c=e=>Kv.call(e)==="[object Boolean]",_F=e=>e instanceof FormData,SF=e=>$t(AF,e),Yk="[PostHog.js]",xe={_log:function(e){if(fe&&(ul.DEBUG||Tt.POSTHOG_DEBUG)&&!et(fe.console)&&fe.console){for(var t=("__rrweb_original__"in fe.console[e])?fe.console[e].__rrweb_original__:fe.console[e],n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t(Yk,...r)}},info:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];xe._log("log",...t)},warn:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];xe._log("warn",...t)},error:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];xe._log("error",...t)},critical:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];console.error(Yk,...t)},uninitializedWarning:e=>{xe.error("You must initialize PostHog before calling ".concat(e))}},Kk=(e,t,n)=>{if(e.config.disable_external_dependency_loading)return xe.warn("".concat(t," was requested but loading of external scripts is disabled.")),n("Loading of external scripts is disabled");var r=()=>{if(!He)return n("document not found");var i=He.createElement("script");i.type="text/javascript",i.crossOrigin="anonymous",i.src=t,i.onload=c=>n(void 0,c),i.onerror=c=>n(c);var s,l=He.querySelectorAll("body > script");l.length>0?(s=l[0].parentNode)===null||s===void 0||s.insertBefore(i,l[0]):He.body.appendChild(i)};He!=null&&He.body?r():He==null||He.addEventListener("DOMContentLoaded",r)};function Wk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Oe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Wk(Object(n),!0).forEach(function(r){ze(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ze(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hj(e,t){if(e==null)return{};var n,r,i=function(l,c){if(l==null)return{};var d,u,h={},p=Object.keys(l);for(u=0;u<p.length;u++)d=p[u],c.indexOf(d)>=0||(h[d]=l[d]);return h}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}Tt.__PosthogExtensions__=Tt.__PosthogExtensions__||{},Tt.__PosthogExtensions__.loadExternalDependency=(e,t,n)=>{var r="/static/".concat(t,".js")+"?v=".concat(e.version);if(t==="toolbar"){var i=3e5,s=Math.floor(Date.now()/i)*i;r="".concat(r,"&t=").concat(s)}var l=e.requestRouter.endpointFor("assets",r);Kk(e,l,n)},Tt.__PosthogExtensions__.loadSiteApp=(e,t,n)=>{var r=e.requestRouter.endpointFor("api",t);Kk(e,r,n)};var qj="$people_distinct_id",Lh="__alias",Fh="__timers",Qk="$autocapture_disabled_server_side",Q_="$heatmaps_enabled_server_side",Xk="$exception_capture_enabled_server_side",Jk="$web_vitals_enabled_server_side",Gj="$dead_clicks_enabled_server_side",Zk="$web_vitals_allowed_metrics",X_="$session_recording_enabled_server_side",eM="$console_log_recording_enabled_server_side",tM="$session_recording_network_payload_capture",nM="$session_recording_canvas_recording",rM="$replay_sample_rate",iM="$replay_minimum_duration",sM="$replay_script_config",K0="$sesid",zh="$session_is_sampled",i1="$session_recording_url_trigger_activated_session",s1="$session_recording_event_trigger_activated_session",fd="$enabled_feature_flags",J_="$early_access_features",hd="$stored_person_properties",dl="$stored_group_properties",Z_="$surveys",gm="$surveys_activated",W0="$flag_call_reported",ua="$user_state",eS="$client_session_props",tS="$capture_rate_limit",nS="$initial_campaign_params",rS="$initial_referrer_info",iS="$initial_person_info",Q0="$epp",Yj="__POSTHOG_TOOLBAR__",xF=[qj,Lh,"__cmpns",Fh,X_,Q_,K0,fd,ua,J_,dl,hd,Z_,W0,eS,tS,nS,rS,Q0],o1="$active_feature_flags",mm="$override_feature_flags",oM="$feature_flag_payloads",aM=e=>{var t={};for(var[n,r]of v0(e||{}))r&&(t[n]=r);return t};class wF{constructor(t){this.instance=t,this._override_warning=!1,this.featureFlagEventHandlers=[],this.reloadFeatureFlagsQueued=!1,this.reloadFeatureFlagsInAction=!1}getFlags(){return Object.keys(this.getFlagVariants())}getFlagVariants(){var t=this.instance.get_property(fd),n=this.instance.get_property(mm);if(!n)return t||{};for(var r=Ci({},t),i=Object.keys(n),s=0;s<i.length;s++)r[i[s]]=n[i[s]];return this._override_warning||(xe.warn(" Overriding feature flags!",{enabledFlags:t,overriddenFlags:n,finalFlags:r}),this._override_warning=!0),r}getFlagPayloads(){return this.instance.get_property(oM)||{}}reloadFeatureFlags(){this.reloadFeatureFlagsQueued||(this.reloadFeatureFlagsQueued=!0,this._startReloadTimer())}setAnonymousDistinctId(t){this.$anon_distinct_id=t}setReloadingPaused(t){this.reloadFeatureFlagsInAction=t}resetRequestQueue(){this.reloadFeatureFlagsQueued=!1}_startReloadTimer(){this.reloadFeatureFlagsQueued&&!this.reloadFeatureFlagsInAction&&setTimeout(()=>{!this.reloadFeatureFlagsInAction&&this.reloadFeatureFlagsQueued&&(this.reloadFeatureFlagsQueued=!1,this._reloadFeatureFlagsRequest())},5)}_reloadFeatureFlagsRequest(){if(!this.instance.config.advanced_disable_feature_flags){this.setReloadingPaused(!0);var t=this.instance.config.token,n=this.instance.get_property(hd),r=this.instance.get_property(dl),i={token:t,distinct_id:this.instance.get_distinct_id(),groups:this.instance.getGroups(),$anon_distinct_id:this.$anon_distinct_id,person_properties:n,group_properties:r,disable_flags:this.instance.config.advanced_disable_feature_flags||void 0};this.instance._send_request({method:"POST",url:this.instance.requestRouter.endpointFor("api","/decide/?v=3"),data:i,compression:this.instance.config.disable_compression?void 0:so.Base64,timeout:this.instance.config.feature_flag_request_timeout_ms,callback:s=>{var l;this.setReloadingPaused(!1);var c=!0;s.statusCode===200&&(this.$anon_distinct_id=void 0,c=!1),this.receivedFeatureFlags((l=s.json)!==null&&l!==void 0?l:{},c),this._startReloadTimer()}})}}getFeatureFlag(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.instance.decideEndpointWasHit||this.getFlags()&&this.getFlags().length>0){var r,i=this.getFlagVariants()[t],s="".concat(i),l=this.instance.get_property(W0)||{};return(n.send_event||!("send_event"in n))&&(!(t in l)||!l[t].includes(s))&&(mr(l[t])?l[t].push(s):l[t]=[s],(r=this.instance.persistence)===null||r===void 0||r.register({[W0]:l}),this.instance.capture("$feature_flag_called",{$feature_flag:t,$feature_flag_response:i})),i}xe.warn('getFeatureFlag for key "'+t+`" failed. Feature flags didn't load in time.`)}getFeatureFlagPayload(t){return this.getFlagPayloads()[t]}isFeatureEnabled(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.instance.decideEndpointWasHit||this.getFlags()&&this.getFlags().length>0)return!!this.getFeatureFlag(t,n);xe.warn('isFeatureEnabled for key "'+t+`" failed. Feature flags didn't load in time.`)}addFeatureFlagsHandler(t){this.featureFlagEventHandlers.push(t)}removeFeatureFlagsHandler(t){this.featureFlagEventHandlers=this.featureFlagEventHandlers.filter(n=>n!==t)}receivedFeatureFlags(t,n){if(this.instance.persistence){this.instance.decideEndpointWasHit=!0;var r=this.getFlagVariants(),i=this.getFlagPayloads();(function(s,l){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},u=s.featureFlags,h=s.featureFlagPayloads;if(u)if(mr(u)){var p={};if(u)for(var v=0;v<u.length;v++)p[u[v]]=!0;l&&l.register({[o1]:u,[fd]:p})}else{var y=u,b=h;s.errorsWhileComputingFlags&&(y=Oe(Oe({},c),y),b=Oe(Oe({},d),b)),l&&l.register({[o1]:Object.keys(aM(y)),[fd]:y||{},[oM]:b||{}})}})(t,this.instance.persistence,r,i),this._fireFeatureFlagsCallbacks(n)}}override(t){var n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(!this.instance.__loaded||!this.instance.persistence)return xe.uninitializedWarning("posthog.feature_flags.override");if(this._override_warning=n,t===!1)this.instance.persistence.unregister(mm);else if(mr(t)){for(var r={},i=0;i<t.length;i++)r[t[i]]=!0;this.instance.persistence.register({[mm]:r})}else this.instance.persistence.register({[mm]:t})}onFeatureFlags(t){if(this.addFeatureFlagsHandler(t),this.instance.decideEndpointWasHit){var{flags:n,flagVariants:r}=this._prepareFeatureFlagsForCallbacks();t(n,r)}return()=>this.removeFeatureFlagsHandler(t)}updateEarlyAccessFeatureEnrollment(t,n){var r,i={["$feature_enrollment/".concat(t)]:n};this.instance.capture("$feature_enrollment_update",{$feature_flag:t,$feature_enrollment:n,$set:i}),this.setPersonPropertiesForFlags(i,!1);var s=Oe(Oe({},this.getFlagVariants()),{},{[t]:n});(r=this.instance.persistence)===null||r===void 0||r.register({[o1]:Object.keys(aM(s)),[fd]:s}),this._fireFeatureFlagsCallbacks()}getEarlyAccessFeatures(t){var n=arguments.length>1&&arguments[1]!==void 0&&arguments[1],r=this.instance.get_property(J_);if(r&&!n)return t(r);this.instance._send_request({transport:"XHR",url:this.instance.requestRouter.endpointFor("api","/api/early_access_features/?token=".concat(this.instance.config.token)),method:"GET",callback:i=>{var s;if(i.json){var l=i.json.earlyAccessFeatures;return(s=this.instance.persistence)===null||s===void 0||s.register({[J_]:l}),t(l)}}})}_prepareFeatureFlagsForCallbacks(){var t=this.getFlags(),n=this.getFlagVariants();return{flags:t.filter(r=>n[r]),flagVariants:Object.keys(n).filter(r=>n[r]).reduce((r,i)=>(r[i]=n[i],r),{})}}_fireFeatureFlagsCallbacks(t){var{flags:n,flagVariants:r}=this._prepareFeatureFlagsForCallbacks();this.featureFlagEventHandlers.forEach(i=>i(n,r,{errorsLoading:t}))}setPersonPropertiesForFlags(t){var n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=this.instance.get_property(hd)||{};this.instance.register({[hd]:Oe(Oe({},r),t)}),n&&this.instance.reloadFeatureFlags()}resetPersonPropertiesForFlags(){this.instance.unregister(hd)}setGroupPropertiesForFlags(t){var n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=this.instance.get_property(dl)||{};Object.keys(r).length!==0&&Object.keys(r).forEach(i=>{r[i]=Oe(Oe({},r[i]),t[i]),delete t[i]}),this.instance.register({[dl]:Oe(Oe({},r),t)}),n&&this.instance.reloadFeatureFlags()}resetGroupPropertiesForFlags(t){if(t){var n=this.instance.get_property(dl)||{};this.instance.register({[dl]:Oe(Oe({},n),{},{[t]:{}})})}else this.instance.unregister(dl)}}Math.trunc||(Math.trunc=function(e){return e<0?Math.ceil(e):Math.floor(e)}),Number.isInteger||(Number.isInteger=function(e){return rs(e)&&isFinite(e)&&Math.floor(e)===e});var lM="0123456789abcdef";class X0{constructor(t){if(this.bytes=t,t.length!==16)throw new TypeError("not 128-bit length")}static fromFieldsV7(t,n,r,i){if(!Number.isInteger(t)||!Number.isInteger(n)||!Number.isInteger(r)||!Number.isInteger(i)||t<0||n<0||r<0||i<0||t>0xffffffffffff||n>4095||r>1073741823||i>4294967295)throw new RangeError("invalid field value");var s=new Uint8Array(16);return s[0]=t/Math.pow(2,40),s[1]=t/Math.pow(2,32),s[2]=t/Math.pow(2,24),s[3]=t/Math.pow(2,16),s[4]=t/Math.pow(2,8),s[5]=t,s[6]=112|n>>>8,s[7]=n,s[8]=128|r>>>24,s[9]=r>>>16,s[10]=r>>>8,s[11]=r,s[12]=i>>>24,s[13]=i>>>16,s[14]=i>>>8,s[15]=i,new X0(s)}toString(){for(var t="",n=0;n<this.bytes.length;n++)t=t+lM.charAt(this.bytes[n]>>>4)+lM.charAt(15&this.bytes[n]),n!==3&&n!==5&&n!==7&&n!==9||(t+="-");if(t.length!==36)throw new Error("Invalid UUIDv7 was generated");return t}clone(){return new X0(this.bytes.slice(0))}equals(t){return this.compareTo(t)===0}compareTo(t){for(var n=0;n<16;n++){var r=this.bytes[n]-t.bytes[n];if(r!==0)return Math.sign(r)}return 0}}class EF{constructor(){ze(this,"timestamp",0),ze(this,"counter",0),ze(this,"random",new TF)}generate(){var t=this.generateOrAbort();if(et(t)){this.timestamp=0;var n=this.generateOrAbort();if(et(n))throw new Error("Could not generate UUID after timestamp reset");return n}return t}generateOrAbort(){var t=Date.now();if(t>this.timestamp)this.timestamp=t,this.resetCounter();else{if(!(t+1e4>this.timestamp))return;this.counter++,this.counter>4398046511103&&(this.timestamp++,this.resetCounter())}return X0.fromFieldsV7(this.timestamp,Math.trunc(this.counter/Math.pow(2,30)),this.counter&Math.pow(2,30)-1,this.random.nextUint32())}resetCounter(){this.counter=1024*this.random.nextUint32()+(1023&this.random.nextUint32())}}var cM,Kj=e=>{if(typeof UUIDV7_DENY_WEAK_RNG<"u"&&UUIDV7_DENY_WEAK_RNG)throw new Error("no cryptographically strong RNG available");for(var t=0;t<e.length;t++)e[t]=65536*Math.trunc(65536*Math.random())+Math.trunc(65536*Math.random());return e};fe&&!et(fe.crypto)&&crypto.getRandomValues&&(Kj=e=>crypto.getRandomValues(e));class TF{constructor(){ze(this,"buffer",new Uint32Array(8)),ze(this,"cursor",1/0)}nextUint32(){return this.cursor>=this.buffer.length&&(Kj(this.buffer),this.cursor=0),this.buffer[this.cursor++]}}var gl=()=>CF().toString(),CF=()=>(cM||(cM=new EF)).generate(),kF="Thu, 01 Jan 1970 00:00:00 GMT",Ah="",MF=/[a-z0-9][a-z0-9-]+\.[a-z]{2,}$/i;function RF(e,t){if(t){var n=function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:He;if(Ah)return Ah;if(!s||["localhost","127.0.0.1"].includes(i))return"";for(var l=i.split("."),c=Math.min(l.length,8),d="dmn_chk_"+gl(),u=new RegExp("(^|;)\\s*"+d+"=1");!Ah&&c--;){var h=l.slice(c).join("."),p=d+"=1;domain=."+h;s.cookie=p,u.test(s.cookie)&&(s.cookie=p+";expires="+kF,Ah=h)}return Ah}(e);if(!n){var r=(i=>{var s=i.match(MF);return s?s[0]:""})(e);r!==n&&xe.info("Warning: cookie subdomain discovery mismatch",r,n),n=r}return n?"; domain=."+n:""}return""}var Aa={is_supported:()=>!!He,error:function(e){xe.error("cookieStore error: "+e)},get:function(e){if(He){try{for(var t=e+"=",n=He.cookie.split(";").filter(s=>s.length),r=0;r<n.length;r++){for(var i=n[r];i.charAt(0)==" ";)i=i.substring(1,i.length);if(i.indexOf(t)===0)return decodeURIComponent(i.substring(t.length,i.length))}}catch{}return null}},parse:function(e){var t;try{t=JSON.parse(Aa.get(e))||{}}catch{}return t},set:function(e,t,n,r,i){if(He)try{var s="",l="",c=RF(He.location.hostname,r);if(n){var d=new Date;d.setTime(d.getTime()+24*n*60*60*1e3),s="; expires="+d.toUTCString()}i&&(l="; secure");var u=e+"="+encodeURIComponent(JSON.stringify(t))+s+"; SameSite=Lax; path=/"+c+l;return u.length>3686.4&&xe.warn("cookieStore warning: large cookie, len="+u.length),He.cookie=u,u}catch{return}},remove:function(e,t){try{Aa.set(e,"",-1,t)}catch{return}}},a1=null,Or={is_supported:function(){if(!Il(a1))return a1;var e=!0;if(et(fe))e=!1;else try{var t="__mplssupport__";Or.set(t,"xyz"),Or.get(t)!=='"xyz"'&&(e=!1),Or.remove(t)}catch{e=!1}return e||xe.error("localStorage unsupported; falling back to cookie store"),a1=e,e},error:function(e){xe.error("localStorage error: "+e)},get:function(e){try{return fe==null?void 0:fe.localStorage.getItem(e)}catch(t){Or.error(t)}return null},parse:function(e){try{return JSON.parse(Or.get(e))||{}}catch{}return null},set:function(e,t){try{fe==null||fe.localStorage.setItem(e,JSON.stringify(t))}catch(n){Or.error(n)}},remove:function(e){try{fe==null||fe.localStorage.removeItem(e)}catch(t){Or.error(t)}}},IF=["distinct_id",K0,zh,Q0,iS],vm=Oe(Oe({},Or),{},{parse:function(e){try{var t={};try{t=Aa.parse(e)||{}}catch{}var n=Ci(t,JSON.parse(Or.get(e)||"{}"));return Or.set(e,n),n}catch{}return null},set:function(e,t,n,r,i,s){try{Or.set(e,t,void 0,void 0,s);var l={};IF.forEach(c=>{t[c]&&(l[c]=t[c])}),Object.keys(l).length&&Aa.set(e,l,n,r,i,s)}catch(c){Or.error(c)}},remove:function(e,t){try{fe==null||fe.localStorage.removeItem(e),Aa.remove(e,t)}catch(n){Or.error(n)}}}),ym={},OF={is_supported:function(){return!0},error:function(e){xe.error("memoryStorage error: "+e)},get:function(e){return ym[e]||null},parse:function(e){return ym[e]||null},set:function(e,t){ym[e]=t},remove:function(e){delete ym[e]}},sc=null,ei={is_supported:function(){if(!Il(sc))return sc;if(sc=!0,et(fe))sc=!1;else try{var e="__support__";ei.set(e,"xyz"),ei.get(e)!=='"xyz"'&&(sc=!1),ei.remove(e)}catch{sc=!1}return sc},error:function(e){xe.error("sessionStorage error: ",e)},get:function(e){try{return fe==null?void 0:fe.sessionStorage.getItem(e)}catch(t){ei.error(t)}return null},parse:function(e){try{return JSON.parse(ei.get(e))||null}catch{}return null},set:function(e,t){try{fe==null||fe.sessionStorage.setItem(e,JSON.stringify(t))}catch(n){ei.error(n)}},remove:function(e){try{fe==null||fe.sessionStorage.removeItem(e)}catch(t){ei.error(t)}}},jF=["localhost","127.0.0.1"],_d=e=>{var t=He==null?void 0:He.createElement("a");return et(t)?null:(t.href=e,t)},Vd=function(e,t){return!!function(n){try{new RegExp(n)}catch{return!1}return!0}(t)&&new RegExp(t).test(e)},PF=function(e){var t,n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"&",i=[];return wn(e,function(s,l){et(s)||et(l)||l==="undefined"||(t=encodeURIComponent((c=>c instanceof File)(s)?s.name:s.toString()),n=encodeURIComponent(l),i[i.length]=n+"="+t)}),i.join(r)},J0=function(e,t){for(var n,r=((e.split("#")[0]||"").split("?")[1]||"").split("&"),i=0;i<r.length;i++){var s=r[i].split("=");if(s[0]===t){n=s;break}}if(!mr(n)||n.length<2)return"";var l=n[1];try{l=decodeURIComponent(l)}catch{xe.error("Skipping decoding for malformed query param: "+l)}return l.replace(/\+/g," ")},Z0=function(e,t){var n=e.match(new RegExp(t+"=([^&]*)"));return n?n[1]:null},Ns="Mobile",ev="iOS",Ro="Android",up="Tablet",Wj=Ro+" "+up,Qj="iPad",Xj="Apple",Jj=Xj+" Watch",dp="Safari",Dd="BlackBerry",Zj="Samsung",eP=Zj+"Browser",tP=Zj+" Internet",yl="Chrome",VF=yl+" OS",nP=yl+" "+ev,iw="Internet Explorer",rP=iw+" "+Ns,sw="Opera",DF=sw+" Mini",ow="Edge",iP="Microsoft "+ow,Sd="Firefox",sP=Sd+" "+ev,fp="Nintendo",hp="PlayStation",xd="Xbox",oP=Ro+" "+Ns,aP=Ns+" "+dp,$h="Windows",sS=$h+" Phone",uM="Nokia",oS="Ouya",lP="Generic",BF=lP+" "+Ns.toLowerCase(),cP=lP+" "+up.toLowerCase(),aS="Konqueror",Ti="(\\d+(\\.\\d+)?)",l1=new RegExp("Version/"+Ti),NF=new RegExp(xd,"i"),LF=new RegExp(hp+" \\w+","i"),FF=new RegExp(fp+" \\w+","i"),aw=new RegExp(Dd+"|PlayBook|BB10","i"),zF={"NT3.51":"NT 3.11","NT4.0":"NT 4.0","5.0":"2000",5.1:"XP",5.2:"XP","6.0":"Vista",6.1:"7",6.2:"8",6.3:"8.1",6.4:"10","10.0":"10"},$F=(e,t)=>t&&$t(t,Xj)||function(n){return $t(n,dp)&&!$t(n,yl)&&!$t(n,Ro)}(e),dM=function(e,t){return t=t||"",$t(e," OPR/")&&$t(e,"Mini")?DF:$t(e," OPR/")?sw:aw.test(e)?Dd:$t(e,"IE"+Ns)||$t(e,"WPDesktop")?rP:$t(e,eP)?tP:$t(e,ow)||$t(e,"Edg/")?iP:$t(e,"FBIOS")?"Facebook "+Ns:$t(e,"UCWEB")||$t(e,"UCBrowser")?"UC Browser":$t(e,"CriOS")?nP:$t(e,"CrMo")?yl:$t(e,Ro)&&$t(e,dp)?oP:$t(e,yl)?yl:$t(e,"FxiOS")?sP:$t(e.toLowerCase(),aS.toLowerCase())?aS:$F(e,t)?$t(e,Ns)?aP:dp:$t(e,Sd)?Sd:$t(e,"MSIE")||$t(e,"Trident/")?iw:$t(e,"Gecko")?Sd:""},UF={[rP]:[new RegExp("rv:"+Ti)],[iP]:[new RegExp(ow+"?\\/"+Ti)],[yl]:[new RegExp("("+yl+"|CrMo)\\/"+Ti)],[nP]:[new RegExp("CriOS\\/"+Ti)],"UC Browser":[new RegExp("(UCBrowser|UCWEB)\\/"+Ti)],[dp]:[l1],[aP]:[l1],[sw]:[new RegExp("(Opera|OPR)\\/"+Ti)],[Sd]:[new RegExp(Sd+"\\/"+Ti)],[sP]:[new RegExp("FxiOS\\/"+Ti)],[aS]:[new RegExp("Konqueror[:/]?"+Ti,"i")],[Dd]:[new RegExp(Dd+" "+Ti),l1],[oP]:[new RegExp("android\\s"+Ti,"i")],[tP]:[new RegExp(eP+"\\/"+Ti)],[iw]:[new RegExp("(rv:|MSIE )"+Ti)],Mozilla:[new RegExp("rv:"+Ti)]},fM=[[new RegExp(xd+"; "+xd+" (.*?)[);]","i"),e=>[xd,e&&e[1]||""]],[new RegExp(fp,"i"),[fp,""]],[new RegExp(hp,"i"),[hp,""]],[aw,[Dd,""]],[new RegExp($h,"i"),(e,t)=>{if(/Phone/.test(t)||/WPDesktop/.test(t))return[sS,""];if(new RegExp(Ns).test(t)&&!/IEMobile\b/.test(t))return[$h+" "+Ns,""];var n=/Windows NT ([0-9.]+)/i.exec(t);if(n&&n[1]){var r=n[1],i=zF[r]||"";return/arm/i.test(t)&&(i="RT"),[$h,i]}return[$h,""]}],[/((iPhone|iPad|iPod).*?OS (\d+)_(\d+)_?(\d+)?|iPhone)/,e=>{if(e&&e[3]){var t=[e[3],e[4],e[5]||"0"];return[ev,t.join(".")]}return[ev,""]}],[/(watch.*\/(\d+\.\d+\.\d+)|watch os,(\d+\.\d+),)/i,e=>{var t="";return e&&e.length>=3&&(t=et(e[2])?e[3]:e[2]),["watchOS",t]}],[new RegExp("("+Ro+" (\\d+)\\.(\\d+)\\.?(\\d+)?|"+Ro+")","i"),e=>{if(e&&e[2]){var t=[e[2],e[3],e[4]||"0"];return[Ro,t.join(".")]}return[Ro,""]}],[/Mac OS X (\d+)[_.](\d+)[_.]?(\d+)?/i,e=>{var t=["Mac OS X",""];if(e&&e[1]){var n=[e[1],e[2],e[3]||"0"];t[1]=n.join(".")}return t}],[/Mac/i,["Mac OS X",""]],[/CrOS/,[VF,""]],[/Linux|debian/i,["Linux",""]]],hM=function(e){return FF.test(e)?fp:LF.test(e)?hp:NF.test(e)?xd:new RegExp(oS,"i").test(e)?oS:new RegExp("("+sS+"|WPDesktop)","i").test(e)?sS:/iPad/.test(e)?Qj:/iPod/.test(e)?"iPod Touch":/iPhone/.test(e)?"iPhone":/(watch)(?: ?os[,/]|\d,\d\/)[\d.]+/i.test(e)?Jj:aw.test(e)?Dd:/(kobo)\s(ereader|touch)/i.test(e)?"Kobo":new RegExp(uM,"i").test(e)?uM:/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i.test(e)||/(kf[a-z]+)( bui|\)).+silk\//i.test(e)?"Kindle Fire":/(Android|ZTE)/i.test(e)?!new RegExp(Ns).test(e)||/(9138B|TB782B|Nexus [97]|pixel c|HUAWEISHT|BTV|noble nook|smart ultra 6)/i.test(e)?/pixel[\daxl ]{1,6}/i.test(e)&&!/pixel c/i.test(e)||/(huaweimed-al00|tah-|APA|SM-G92|i980|zte|U304AA)/i.test(e)||/lmy47v/i.test(e)&&!/QTAQZ3/i.test(e)?Ro:Wj:Ro:new RegExp("(pda|"+Ns+")","i").test(e)?BF:new RegExp(up,"i").test(e)&&!new RegExp(up+" pc","i").test(e)?cP:""},Am="https?://(.*)",HF=["utm_source","utm_medium","utm_campaign","utm_content","utm_term","gclid","gad_source","gclsrc","dclid","gbraid","wbraid","fbclid","msclkid","twclid","li_fat_id","mc_cid","igshid","ttclid","rdt_cid"],lr={campaignParams:function(e){return He?this._campaignParamsFromUrl(He.URL,e):{}},_campaignParamsFromUrl:function(e,t){var n=HF.concat(t||[]),r={};return wn(n,function(i){var s=J0(e,i);r[i]=s||null}),r},_searchEngine:function(e){return e?e.search(Am+"google.([^/?]*)")===0?"google":e.search(Am+"bing.com")===0?"bing":e.search(Am+"yahoo.com")===0?"yahoo":e.search(Am+"duckduckgo.com")===0?"duckduckgo":null:null},_searchInfoFromReferrer:function(e){var t=lr._searchEngine(e),n=t!="yahoo"?"q":"p",r={};if(!Il(t)){r.$search_engine=t;var i=He?J0(He.referrer,n):"";i.length&&(r.ph_keyword=i)}return r},searchInfo:function(){var e=He==null?void 0:He.referrer;return e?this._searchInfoFromReferrer(e):{}},browser:dM,browserVersion:function(e,t){var n=dM(e,t),r=UF[n];if(et(r))return null;for(var i=0;i<r.length;i++){var s=r[i],l=e.match(s);if(l)return parseFloat(l[l.length-2])}return null},browserLanguage:function(){return navigator.language||navigator.userLanguage},browserLanguagePrefix:function(){var e=this.browserLanguage();return typeof e=="string"?e.split("-")[0]:void 0},os:function(e){for(var t=0;t<fM.length;t++){var[n,r]=fM[t],i=n.exec(e),s=i&&(Ds(r)?r(i,e):r);if(s)return s}return["",""]},device:hM,deviceType:function(e){var t=hM(e);return t===Qj||t===Wj||t==="Kobo"||t==="Kindle Fire"||t===cP?up:t===fp||t===xd||t===hp||t===oS?"Console":t===Jj?"Wearable":t?Ns:"Desktop"},referrer:function(){return(He==null?void 0:He.referrer)||"$direct"},referringDomain:function(){var e;return He!=null&&He.referrer&&((e=_d(He.referrer))===null||e===void 0?void 0:e.host)||"$direct"},referrerInfo:function(){return{$referrer:this.referrer(),$referring_domain:this.referringDomain()}},initialPersonInfo:function(){return{r:this.referrer().substring(0,1e3),u:Fi==null?void 0:Fi.href.substring(0,1e3)}},initialPersonPropsFromInfo:function(e){var t,{r:n,u:r}=e,i={$initial_referrer:n,$initial_referring_domain:n==null?void 0:n=="$direct"?"$direct":(t=_d(n))===null||t===void 0?void 0:t.host};if(r){i.$initial_current_url=r;var s=_d(r);i.$initial_host=s==null?void 0:s.host,i.$initial_pathname=s==null?void 0:s.pathname,wn(this._campaignParamsFromUrl(r),function(l,c){i["$initial_"+W_(c)]=l})}return n&&wn(this._searchInfoFromReferrer(n),function(l,c){i["$initial_"+W_(c)]=l}),i},timezone:function(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch{return}},timezoneOffset:function(){try{return new Date().getTimezoneOffset()}catch{return}},properties:function(){if(!$r)return{};var[e,t]=lr.os($r);return Ci(Y0({$os:e,$os_version:t,$browser:lr.browser($r,navigator.vendor),$device:lr.device($r),$device_type:lr.deviceType($r),$timezone:lr.timezone(),$timezone_offset:lr.timezoneOffset()}),{$current_url:Fi==null?void 0:Fi.href,$host:Fi==null?void 0:Fi.host,$pathname:Fi==null?void 0:Fi.pathname,$raw_user_agent:$r.length>1e3?$r.substring(0,997)+"...":$r,$browser_version:lr.browserVersion($r,navigator.vendor),$browser_language:lr.browserLanguage(),$browser_language_prefix:lr.browserLanguagePrefix(),$screen_height:fe==null?void 0:fe.screen.height,$screen_width:fe==null?void 0:fe.screen.width,$viewport_height:fe==null?void 0:fe.innerHeight,$viewport_width:fe==null?void 0:fe.innerWidth,$lib:"web",$lib_version:ul.LIB_VERSION,$insert_id:Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10),$time:Date.now()/1e3})},people_properties:function(){if(!$r)return{};var[e,t]=lr.os($r);return Ci(Y0({$os:e,$os_version:t,$browser:lr.browser($r,navigator.vendor)}),{$browser_version:lr.browserVersion($r,navigator.vendor)})}},qF=["cookie","localstorage","localstorage+cookie","sessionstorage","memory"];class c1{constructor(t){this.config=t,this.props={},this.campaign_params_saved=!1,this.name=(n=>{var r="";return n.token&&(r=n.token.replace(/\+/g,"PL").replace(/\//g,"SL").replace(/=/g,"EQ")),n.persistence_name?"ph_"+n.persistence_name:"ph_"+r+"_posthog"})(t),this.storage=this.buildStorage(t),this.load(),t.debug&&xe.info("Persistence loaded",t.persistence,Oe({},this.props)),this.update_config(t,t),this.save()}buildStorage(t){qF.indexOf(t.persistence.toLowerCase())===-1&&(xe.critical("Unknown persistence type "+t.persistence+"; falling back to localStorage+cookie"),t.persistence="localStorage+cookie");var n=t.persistence.toLowerCase();return n==="localstorage"&&Or.is_supported()?Or:n==="localstorage+cookie"&&vm.is_supported()?vm:n==="sessionstorage"&&ei.is_supported()?ei:n==="memory"?OF:n==="cookie"?Aa:vm.is_supported()?vm:Aa}properties(){var t={};return wn(this.props,function(n,r){if(r===fd&&Cr(n))for(var i=Object.keys(n),s=0;s<i.length;s++)t["$feature/".concat(i[s])]=n[i[s]];else c=r,d=!1,(Il(l=xF)?d:Uk&&l.indexOf===Uk?l.indexOf(c)!=-1:(wn(l,function(u){if(d||(d=u===c))return G0}),d))||(t[r]=n);var l,c,d}),t}load(){if(!this.disabled){var t=this.storage.parse(this.name);t&&(this.props=Ci({},t))}}save(){this.disabled||this.storage.set(this.name,this.props,this.expire_days,this.cross_subdomain,this.secure,this.config.debug)}remove(){this.storage.remove(this.name,!1),this.storage.remove(this.name,!0)}clear(){this.remove(),this.props={}}register_once(t,n,r){if(Cr(t)){et(n)&&(n="None"),this.expire_days=et(r)?this.default_expiry:r;var i=!1;if(wn(t,(s,l)=>{this.props.hasOwnProperty(l)&&this.props[l]!==n||(this.props[l]=s,i=!0)}),i)return this.save(),!0}return!1}register(t,n){if(Cr(t)){this.expire_days=et(n)?this.default_expiry:n;var r=!1;if(wn(t,(i,s)=>{t.hasOwnProperty(s)&&this.props[s]!==i&&(this.props[s]=i,r=!0)}),r)return this.save(),!0}return!1}unregister(t){t in this.props&&(delete this.props[t],this.save())}update_campaign_params(){if(!this.campaign_params_saved){var t=lr.campaignParams(this.config.custom_campaign_params);dd(Y0(t))||this.register(t),this.campaign_params_saved=!0}}update_search_keyword(){this.register(lr.searchInfo())}update_referrer_info(){this.register_once(lr.referrerInfo(),void 0)}set_initial_person_info(){this.props[nS]||this.props[rS]||this.register_once({[iS]:lr.initialPersonInfo()},void 0)}get_referrer_info(){return Y0({$referrer:this.props.$referrer,$referring_domain:this.props.$referring_domain})}get_initial_props(){var t={};wn([rS,nS],i=>{var s=this.props[i];s&&wn(s,function(l,c){t["$initial_"+W_(c)]=l})});var n=this.props[iS];if(n){var r=lr.initialPersonPropsFromInfo(n);Ci(t,r)}return t}safe_merge(t){return wn(this.props,function(n,r){r in t||(t[r]=n)}),t}update_config(t,n){if(this.default_expiry=this.expire_days=t.cookie_expiration,this.set_disabled(t.disable_persistence),this.set_cross_subdomain(t.cross_subdomain_cookie),this.set_secure(t.secure_cookie),t.persistence!==n.persistence){var r=this.buildStorage(t),i=this.props;this.clear(),this.storage=r,this.props=i,this.save()}}set_disabled(t){this.disabled=t,this.disabled?this.remove():this.save()}set_cross_subdomain(t){t!==this.cross_subdomain&&(this.cross_subdomain=t,this.remove(),this.save())}get_cross_subdomain(){return!!this.cross_subdomain}set_secure(t){t!==this.secure&&(this.secure=t,this.remove(),this.save())}set_event_timer(t,n){var r=this.props[Fh]||{};r[t]=n,this.props[Fh]=r,this.save()}remove_event_timer(t){var n=(this.props[Fh]||{})[t];return et(n)||(delete this.props[Fh][t],this.save()),n}get_property(t){return this.props[t]}set_property(t,n){this.props[t]=n,this.save()}}function tv(e){var t,n;return((t=JSON.stringify(e,(n=[],function(r,i){if(Cr(i)){for(;n.length>0&&n[n.length-1]!==this;)n.pop();return n.includes(i)?"[Circular]":(n.push(i),i)}return i})))===null||t===void 0?void 0:t.length)||0}function lS(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:66060288e-1;if(e.size>=t&&e.data.length>1){var n=Math.floor(e.data.length/2),r=e.data.slice(0,n),i=e.data.slice(n);return[lS({size:tv(r),data:r,sessionId:e.sessionId,windowId:e.windowId}),lS({size:tv(i),data:i,sessionId:e.sessionId,windowId:e.windowId})].flatMap(s=>s)}return[e]}var da=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(da||{}),no=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(no||{});function pM(e){var t;return e.id===Yj||!((t=e.closest)===null||t===void 0||!t.call(e,".toolbar-global-fade-container"))}function Wv(e){return!!e&&e.nodeType===1}function Al(e,t){return!!e&&!!e.tagName&&e.tagName.toLowerCase()===t.toLowerCase()}function uP(e){return!!e&&e.nodeType===3}function dP(e){return!!e&&e.nodeType===11}function lw(e){return e?Yv(e).split(/\s+/):[]}function gM(e){var t=fe==null?void 0:fe.location.href;return!!(t&&e&&e.some(n=>t.match(n)))}function nv(e){var t="";switch(typeof e.className){case"string":t=e.className;break;case"object":t=(e.className&&"baseVal"in e.className?e.className.baseVal:null)||e.getAttribute("class")||"";break;default:t=""}return lw(t)}function fP(e){return On(e)?null:Yv(e).split(/(\s+)/).filter(t=>Bd(t)).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255)}function Qv(e){var t="";return uS(e)&&!gP(e)&&e.childNodes&&e.childNodes.length&&wn(e.childNodes,function(n){var r;uP(n)&&n.textContent&&(t+=(r=fP(n.textContent))!==null&&r!==void 0?r:"")}),Yv(t)}function hP(e){return et(e.target)?e.srcElement||null:(t=e.target)!==null&&t!==void 0&&t.shadowRoot?e.composedPath()[0]||null:e.target||null;var t}var cS=["a","button","form","input","select","textarea","label"];function pP(e){var t=e.parentNode;return!(!t||!Wv(t))&&t}function GF(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;if(!fe||!e||Al(e,"html")||!Wv(e)||n!=null&&n.url_allowlist&&!gM(n.url_allowlist)||n!=null&&n.url_ignorelist&&gM(n.url_ignorelist))return!1;if(n!=null&&n.dom_event_allowlist){var s=n.dom_event_allowlist;if(s&&!s.some(y=>t.type===y))return!1}for(var l=!1,c=[e],d=!0,u=e;u.parentNode&&!Al(u,"body");)if(dP(u.parentNode))c.push(u.parentNode.host),u=u.parentNode.host;else{if(!(d=pP(u)))break;if(r||cS.indexOf(d.tagName.toLowerCase())>-1)l=!0;else{var h=fe.getComputedStyle(d);h&&h.getPropertyValue("cursor")==="pointer"&&(l=!0)}c.push(d),u=d}if(!function(y,b){var _=b==null?void 0:b.element_allowlist;if(et(_))return!0;var w=function(R){if(_.some(M=>R.tagName.toLowerCase()===M))return{v:!0}};for(var T of y){var k=w(T);if(typeof k=="object")return k.v}return!1}(c,n)||!function(y,b){var _=b==null?void 0:b.css_selector_allowlist;if(et(_))return!0;var w=function(R){if(_.some(M=>R.matches(M)))return{v:!0}};for(var T of y){var k=w(T);if(typeof k=="object")return k.v}return!1}(c,n))return!1;var p=fe.getComputedStyle(e);if(p&&p.getPropertyValue("cursor")==="pointer"&&t.type==="click")return!0;var v=e.tagName.toLowerCase();switch(v){case"html":return!1;case"form":return(i||["submit"]).indexOf(t.type)>=0;case"input":case"select":case"textarea":return(i||["change","click"]).indexOf(t.type)>=0;default:return l?(i||["click"]).indexOf(t.type)>=0:(i||["click"]).indexOf(t.type)>=0&&(cS.indexOf(v)>-1||e.getAttribute("contenteditable")==="true")}}function uS(e){for(var t=e;t.parentNode&&!Al(t,"body");t=t.parentNode){var n=nv(t);if($t(n,"ph-sensitive")||$t(n,"ph-no-capture"))return!1}if($t(nv(e),"ph-include"))return!0;var r=e.type||"";if(fi(r))switch(r.toLowerCase()){case"hidden":case"password":return!1}var i=e.name||e.id||"";return!(fi(i)&&/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|pwd|routing|seccode|securitycode|securitynum|socialsec|socsec|ssn/i.test(i.replace(/[^a-zA-Z0-9]/g,"")))}function gP(e){return!!(Al(e,"input")&&!["button","checkbox","submit","reset"].includes(e.type)||Al(e,"select")||Al(e,"textarea")||e.getAttribute("contenteditable")==="true")}var mP="(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11})",YF=new RegExp("^(?:".concat(mP,")$")),KF=new RegExp(mP),vP="\\d{3}-?\\d{2}-?\\d{4}",WF=new RegExp("^(".concat(vP,")$")),QF=new RegExp("(".concat(vP,")"));function Bd(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return!(On(e)||fi(e)&&(e=Yv(e),(t?YF:KF).test((e||"").replace(/[- ]/g,""))||(t?WF:QF).test(e)))}function yP(e){var t=Qv(e);return Bd(t="".concat(t," ").concat(AP(e)).trim())?t:""}function AP(e){var t="";return e&&e.childNodes&&e.childNodes.length&&wn(e.childNodes,function(n){var r;if(n&&((r=n.tagName)===null||r===void 0?void 0:r.toLowerCase())==="span")try{var i=Qv(n);t="".concat(t," ").concat(i).trim(),n.childNodes&&n.childNodes.length&&(t="".concat(t," ").concat(AP(n)).trim())}catch(s){xe.error(s)}}),t}function XF(e){return function(t){var n=t.map(r=>{var i,s,l="";if(r.tag_name&&(l+=r.tag_name),r.attr_class)for(var c of(r.attr_class.sort(),r.attr_class))l+=".".concat(c.replace(/"/g,""));var d=Oe(Oe(Oe(Oe({},r.text?{text:r.text}:{}),{},{"nth-child":(i=r.nth_child)!==null&&i!==void 0?i:0,"nth-of-type":(s=r.nth_of_type)!==null&&s!==void 0?s:0},r.href?{href:r.href}:{}),r.attr_id?{attr_id:r.attr_id}:{}),r.attributes),u={};return v0(d).sort((h,p)=>{var[v]=h,[y]=p;return v.localeCompare(y)}).forEach(h=>{var[p,v]=h;return u[mM(p.toString())]=mM(v.toString())}),l+=":",l+=v0(d).map(h=>{var[p,v]=h;return"".concat(p,'="').concat(v,'"')}).join("")});return n.join(";")}(function(t){return t.map(n=>{var r,i,s={text:(r=n.$el_text)===null||r===void 0?void 0:r.slice(0,400),tag_name:n.tag_name,href:(i=n.attr__href)===null||i===void 0?void 0:i.slice(0,2048),attr_class:JF(n),attr_id:n.attr__id,nth_child:n.nth_child,nth_of_type:n.nth_of_type,attributes:{}};return v0(n).filter(l=>{var[c]=l;return c.indexOf("attr__")===0}).forEach(l=>{var[c,d]=l;return s.attributes[c]=d}),s})}(e))}function mM(e){return e.replace(/"|\\"/g,'\\"')}function JF(e){var t=e.attr__class;return t?mr(t)?t:lw(t):void 0}var dS="[SessionRecording]",fS="redacted",bm={initiatorTypes:["audio","beacon","body","css","early-hint","embed","fetch","frame","iframe","icon","image","img","input","link","navigation","object","ping","script","track","video","xmlhttprequest"],maskRequestFn:e=>e,recordHeaders:!1,recordBody:!1,recordInitialRequests:!1,recordPerformance:!1,performanceEntryTypeToObserve:["first-input","navigation","paint","resource"],payloadSizeLimitBytes:1e6,payloadHostDenyList:[".lr-ingest.io",".ingest.sentry.io"]},ZF=["authorization","x-forwarded-for","authorization","cookie","set-cookie","x-api-key","x-real-ip","remote-addr","forwarded","proxy-authorization","x-csrf-token","x-csrftoken","x-xsrf-token"],ez=["password","secret","passwd","api_key","apikey","auth","credentials","mysql_pwd","privatekey","private_key","token"],tz=["/s/","/e/","/i/"];function vM(e,t,n,r){if(On(e))return e;var i=(t==null?void 0:t["content-length"])||function(s){return new Blob([s]).size}(e);return fi(i)&&(i=parseInt(i)),i>n?dS+" ".concat(r," body too large to record (").concat(i," bytes)"):e}function yM(e,t){if(On(e))return e;var n=e;return Bd(n,!1)||(n=dS+" "+t+" body "+fS),wn(ez,r=>{var i,s;(i=n)!==null&&i!==void 0&&i.length&&((s=n)===null||s===void 0?void 0:s.indexOf(r))!==-1&&(n=dS+" "+t+" body "+fS+" as might contain: "+r)}),n}var nz=(e,t)=>{var n,r,i,s={payloadSizeLimitBytes:bm.payloadSizeLimitBytes,performanceEntryTypeToObserve:[...bm.performanceEntryTypeToObserve],payloadHostDenyList:[...t.payloadHostDenyList||[],...bm.payloadHostDenyList]},l=e.session_recording.recordHeaders!==!1&&t.recordHeaders,c=e.session_recording.recordBody!==!1&&t.recordBody,d=e.capture_performance!==!1&&t.recordPerformance,u=(n=s,i=Math.min(1e6,(r=n.payloadSizeLimitBytes)!==null&&r!==void 0?r:1e6),v=>(v!=null&&v.requestBody&&(v.requestBody=vM(v.requestBody,v.requestHeaders,i,"Request")),v!=null&&v.responseBody&&(v.responseBody=vM(v.responseBody,v.responseHeaders,i,"Response")),v)),h=v=>{return u(((_,w)=>{var T,k=_d(_.name),R=w.indexOf("http")===0?(T=_d(w))===null||T===void 0?void 0:T.pathname:w;R==="/"&&(R="");var M=k==null?void 0:k.pathname.replace(R||"","");if(!(k&&M&&tz.some(E=>M.indexOf(E)===0)))return _})((b=(y=v).requestHeaders,On(b)||wn(Object.keys(b??{}),_=>{ZF.includes(_.toLowerCase())&&(b[_]=fS)}),y),e.api_host));var y,b},p=Ds(e.session_recording.maskNetworkRequestFn);return p&&Ds(e.session_recording.maskCapturedNetworkRequestFn)&&xe.warn("Both `maskNetworkRequestFn` and `maskCapturedNetworkRequestFn` are defined. `maskNetworkRequestFn` will be ignored."),p&&(e.session_recording.maskCapturedNetworkRequestFn=v=>{var y=e.session_recording.maskNetworkRequestFn({url:v.name});return Oe(Oe({},v),{},{name:y==null?void 0:y.url})}),s.maskRequestFn=Ds(e.session_recording.maskCapturedNetworkRequestFn)?v=>{var y,b,_,w=h(v);return w&&(y=(b=(_=e.session_recording).maskCapturedNetworkRequestFn)===null||b===void 0?void 0:b.call(_,w))!==null&&y!==void 0?y:void 0}:v=>function(y){if(!et(y))return y.requestBody=yM(y.requestBody,"Request"),y.responseBody=yM(y.responseBody,"Response"),y}(h(v)),Oe(Oe(Oe({},bm),s),{},{recordHeaders:l,recordBody:c,recordPerformance:d,recordInitialRequests:d})};function Io(e,t,n,r,i){return t>n&&(xe.warn("min cannot be greater than max."),t=n),rs(e)?e>n?(r&&xe.warn(r+" cannot be  greater than max: "+n+". Using max value instead."),n):e<t?(r&&xe.warn(r+" cannot be less than min: "+t+". Using min value instead."),t):e:(r&&xe.warn(r+" must be a number. using max or fallback. max: "+n+", fallback: "+i),Io(i||n,t,n,r))}class rz{constructor(t){var n,r,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};ze(this,"bucketSize",100),ze(this,"refillRate",10),ze(this,"mutationBuckets",{}),ze(this,"loggedTracker",{}),ze(this,"refillBuckets",()=>{Object.keys(this.mutationBuckets).forEach(s=>{this.mutationBuckets[s]=this.mutationBuckets[s]+this.refillRate,this.mutationBuckets[s]>=this.bucketSize&&delete this.mutationBuckets[s]})}),ze(this,"getNodeOrRelevantParent",s=>{var l=this.rrweb.mirror.getNode(s);if((l==null?void 0:l.nodeName)!=="svg"&&l instanceof Element){var c=l.closest("svg");if(c)return[this.rrweb.mirror.getId(c),c]}return[s,l]}),ze(this,"numberOfChanges",s=>{var l,c,d,u,h,p,v,y;return((l=(c=s.removes)===null||c===void 0?void 0:c.length)!==null&&l!==void 0?l:0)+((d=(u=s.attributes)===null||u===void 0?void 0:u.length)!==null&&d!==void 0?d:0)+((h=(p=s.texts)===null||p===void 0?void 0:p.length)!==null&&h!==void 0?h:0)+((v=(y=s.adds)===null||y===void 0?void 0:y.length)!==null&&v!==void 0?v:0)}),ze(this,"throttleMutations",s=>{if(s.type!==3||s.data.source!==0)return s;var l=s.data,c=this.numberOfChanges(l);l.attributes&&(l.attributes=l.attributes.filter(u=>{var h,p,v,[y,b]=this.getNodeOrRelevantParent(u.id);return this.mutationBuckets[y]===0?!1:(this.mutationBuckets[y]=(h=this.mutationBuckets[y])!==null&&h!==void 0?h:this.bucketSize,this.mutationBuckets[y]=Math.max(this.mutationBuckets[y]-1,0),this.mutationBuckets[y]===0&&(this.loggedTracker[y]||(this.loggedTracker[y]=!0,(p=(v=this.options).onBlockedNode)===null||p===void 0||p.call(v,y,b))),u)}));var d=this.numberOfChanges(l);return d!==0||c===d?s:void 0}),this.rrweb=t,this.options=i,this.refillRate=Io((n=this.options.refillRate)!==null&&n!==void 0?n:this.refillRate,0,100,"mutation throttling refill rate"),this.bucketSize=Io((r=this.options.bucketSize)!==null&&r!==void 0?r:this.bucketSize,0,100,"mutation throttling bucket size"),setInterval(()=>{this.refillBuckets()},1e3)}}var Ls=Uint8Array,Ui=Uint16Array,Nd=Uint32Array,cw=new Ls([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),uw=new Ls([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),AM=new Ls([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),bP=function(e,t){for(var n=new Ui(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];var i=new Nd(n[30]);for(r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return[n,i]},_P=bP(cw,2),iz=_P[0],hS=_P[1];iz[28]=258,hS[258]=28;for(var bM=bP(uw,0)[1],SP=new Ui(32768),Vn=0;Vn<32768;++Vn){var oc=(43690&Vn)>>>1|(21845&Vn)<<1;oc=(61680&(oc=(52428&oc)>>>2|(13107&oc)<<2))>>>4|(3855&oc)<<4,SP[Vn]=((65280&oc)>>>8|(255&oc)<<8)>>>1}var Jh=function(e,t,n){for(var r=e.length,i=0,s=new Ui(t);i<r;++i)++s[e[i]-1];var l,c=new Ui(t);for(i=0;i<t;++i)c[i]=c[i-1]+s[i-1]<<1;for(l=new Ui(r),i=0;i<r;++i)l[i]=SP[c[e[i]-1]++]>>>15-e[i];return l},Bc=new Ls(288);for(Vn=0;Vn<144;++Vn)Bc[Vn]=8;for(Vn=144;Vn<256;++Vn)Bc[Vn]=9;for(Vn=256;Vn<280;++Vn)Bc[Vn]=7;for(Vn=280;Vn<288;++Vn)Bc[Vn]=8;var rv=new Ls(32);for(Vn=0;Vn<32;++Vn)rv[Vn]=5;var sz=Jh(Bc,9),oz=Jh(rv,5),xP=function(e){return(e/8>>0)+(7&e&&1)},wP=function(e,t,n){(n==null||n>e.length)&&(n=e.length);var r=new(e instanceof Ui?Ui:e instanceof Nd?Nd:Ls)(n-t);return r.set(e.subarray(t,n)),r},ra=function(e,t,n){n<<=7&t;var r=t/8>>0;e[r]|=n,e[r+1]|=n>>>8},bh=function(e,t,n){n<<=7&t;var r=t/8>>0;e[r]|=n,e[r+1]|=n>>>8,e[r+2]|=n>>>16},u1=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var i=n.length,s=n.slice();if(!i)return[new Ls(0),0];if(i==1){var l=new Ls(n[0].s+1);return l[n[0].s]=1,[l,1]}n.sort(function(E,O){return E.f-O.f}),n.push({s:-1,f:25001});var c=n[0],d=n[1],u=0,h=1,p=2;for(n[0]={s:-1,f:c.f+d.f,l:c,r:d};h!=i-1;)c=n[n[u].f<n[p].f?u++:p++],d=n[u!=h&&n[u].f<n[p].f?u++:p++],n[h++]={s:-1,f:c.f+d.f,l:c,r:d};var v=s[0].s;for(r=1;r<i;++r)s[r].s>v&&(v=s[r].s);var y=new Ui(v+1),b=pS(n[h-1],y,0);if(b>t){r=0;var _=0,w=b-t,T=1<<w;for(s.sort(function(E,O){return y[O.s]-y[E.s]||E.f-O.f});r<i;++r){var k=s[r].s;if(!(y[k]>t))break;_+=T-(1<<b-y[k]),y[k]=t}for(_>>>=w;_>0;){var R=s[r].s;y[R]<t?_-=1<<t-y[R]++-1:++r}for(;r>=0&&_;--r){var M=s[r].s;y[M]==t&&(--y[M],++_)}b=t}return[new Ls(y),b]},pS=function(e,t,n){return e.s==-1?Math.max(pS(e.l,t,n+1),pS(e.r,t,n+1)):t[e.s]=n},_M=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new Ui(++t),r=0,i=e[0],s=1,l=function(d){n[r++]=d},c=1;c<=t;++c)if(e[c]==i&&c!=t)++s;else{if(!i&&s>2){for(;s>138;s-=138)l(32754);s>2&&(l(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(l(i),--s;s>6;s-=6)l(8304);s>2&&(l(s-3<<5|8208),s=0)}for(;s--;)l(i);s=1,i=e[c]}return[n.subarray(0,r),t]},_h=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},gS=function(e,t,n){var r=n.length,i=xP(t+2);e[i]=255&r,e[i+1]=r>>>8,e[i+2]=255^e[i],e[i+3]=255^e[i+1];for(var s=0;s<r;++s)e[i+s+4]=n[s];return 8*(i+4+r)},SM=function(e,t,n,r,i,s,l,c,d,u,h){ra(t,h++,n),++i[256];for(var p=u1(i,15),v=p[0],y=p[1],b=u1(s,15),_=b[0],w=b[1],T=_M(v),k=T[0],R=T[1],M=_M(_),E=M[0],O=M[1],j=new Ui(19),D=0;D<k.length;++D)j[31&k[D]]++;for(D=0;D<E.length;++D)j[31&E[D]]++;for(var P=u1(j,7),C=P[0],N=P[1],U=19;U>4&&!C[AM[U-1]];--U);var L,q,H,V,W=u+5<<3,Q=_h(i,Bc)+_h(s,rv)+l,J=_h(i,v)+_h(s,_)+l+14+3*U+_h(j,C)+(2*j[16]+3*j[17]+7*j[18]);if(W<=Q&&W<=J)return gS(t,h,e.subarray(d,d+u));if(ra(t,h,1+(J<Q)),h+=2,J<Q){L=Jh(v,y),q=v,H=Jh(_,w),V=_;var B=Jh(C,N);for(ra(t,h,R-257),ra(t,h+5,O-1),ra(t,h+10,U-4),h+=14,D=0;D<U;++D)ra(t,h+3*D,C[AM[D]]);h+=3*U;for(var G=[k,E],ee=0;ee<2;++ee){var ue=G[ee];for(D=0;D<ue.length;++D){var F=31&ue[D];ra(t,h,B[F]),h+=C[F],F>15&&(ra(t,h,ue[D]>>>5&127),h+=ue[D]>>>12)}}}else L=sz,q=Bc,H=oz,V=rv;for(D=0;D<c;++D)if(r[D]>255){F=r[D]>>>18&31,bh(t,h,L[F+257]),h+=q[F+257],F>7&&(ra(t,h,r[D]>>>23&31),h+=cw[F]);var ge=31&r[D];bh(t,h,H[ge]),h+=V[ge],ge>3&&(bh(t,h,r[D]>>>5&8191),h+=uw[ge])}else bh(t,h,L[r[D]]),h+=q[r[D]];return bh(t,h,L[256]),h+q[256]},az=new Nd([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),lz=function(){for(var e=new Nd(256),t=0;t<256;++t){for(var n=t,r=9;--r;)n=(1&n&&3988292384)^n>>>1;e[t]=n}return e}(),cz=function(){var e=4294967295;return{p:function(t){for(var n=e,r=0;r<t.length;++r)n=lz[255&n^t[r]]^n>>>8;e=n},d:function(){return 4294967295^e}}},uz=function(e,t,n,r,i){return function(s,l,c,d,u,h){var p=s.length,v=new Ls(d+p+5*(1+Math.floor(p/7e3))+u),y=v.subarray(d,v.length-u),b=0;if(!l||p<8)for(var _=0;_<=p;_+=65535){var w=_+65535;w<p?b=gS(y,b,s.subarray(_,w)):(y[_]=h,b=gS(y,b,s.subarray(_,p)))}else{for(var T=az[l-1],k=T>>>13,R=8191&T,M=(1<<c)-1,E=new Ui(32768),O=new Ui(M+1),j=Math.ceil(c/3),D=2*j,P=function(ft){return(s[ft]^s[ft+1]<<j^s[ft+2]<<D)&M},C=new Nd(25e3),N=new Ui(288),U=new Ui(32),L=0,q=0,H=(_=0,0),V=0,W=0;_<p;++_){var Q=P(_),J=32767&_,B=O[Q];if(E[J]=B,O[Q]=J,V<=_){var G=p-_;if((L>7e3||H>24576)&&G>423){b=SM(s,y,0,C,N,U,q,H,W,_-W,b),H=L=q=0,W=_;for(var ee=0;ee<286;++ee)N[ee]=0;for(ee=0;ee<30;++ee)U[ee]=0}var ue=2,F=0,ge=R,se=J-B&32767;if(G>2&&Q==P(_-se))for(var Se=Math.min(k,G)-1,Me=Math.min(32767,_),Re=Math.min(258,G);se<=Me&&--ge&&J!=B;){if(s[_+ue]==s[_+ue-se]){for(var ve=0;ve<Re&&s[_+ve]==s[_+ve-se];++ve);if(ve>ue){if(ue=ve,F=se,ve>Se)break;var je=Math.min(se,ve-2),Ge=0;for(ee=0;ee<je;++ee){var $e=_-se+ee+32768&32767,De=$e-E[$e]+32768&32767;De>Ge&&(Ge=De,B=$e)}}}se+=(J=B)-(B=E[J])+32768&32767}if(F){C[H++]=268435456|hS[ue]<<18|bM[F];var Ve=31&hS[ue],ot=31&bM[F];q+=cw[Ve]+uw[ot],++N[257+Ve],++U[ot],V=_+ue,++L}else C[H++]=s[_],++N[s[_]]}}b=SM(s,y,h,C,N,U,q,H,W,_-W,b)}return wP(v,0,d+xP(b)+u)}(e,t.level==null?6:t.level,t.mem==null?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):12+t.mem,n,r,!i)},mS=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},dz=function(e,t){var n=t.filename;if(e[0]=31,e[1]=139,e[2]=8,e[8]=t.level<2?4:t.level==9?2:0,e[9]=3,t.mtime!=0&&mS(e,4,Math.floor(new Date(t.mtime||Date.now())/1e3)),n){e[3]=8;for(var r=0;r<=n.length;++r)e[r+10]=n.charCodeAt(r)}},fz=function(e){return 10+(e.filename&&e.filename.length+1||0)};function EP(e,t){t===void 0&&(t={});var n=cz(),r=e.length;n.p(e);var i=uz(e,t,fz(t),8),s=i.length;return dz(i,t),mS(i,s-8,n.d()),mS(i,s-4,r),i}function TP(e,t){var n=e.length;if(typeof TextEncoder<"u")return new TextEncoder().encode(e);for(var r=new Ls(e.length+(e.length>>>1)),i=0,s=function(u){r[i++]=u},l=0;l<n;++l){if(i+5>r.length){var c=new Ls(i+8+(n-l<<1));c.set(r),r=c}var d=e.charCodeAt(l);d<128||t?s(d):d<2048?(s(192|d>>>6),s(128|63&d)):d>55295&&d<57344?(s(240|(d=65536+(1047552&d)|1023&e.charCodeAt(++l))>>>18),s(128|d>>>12&63),s(128|d>>>6&63),s(128|63&d)):(s(224|d>>>12),s(128|d>>>6&63),s(128|63&d))}return wP(r,0,i)}var hz=3e5,pz=[no.MouseMove,no.MouseInteraction,no.Scroll,no.ViewportResize,no.Input,no.TouchMove,no.MediaInteraction,no.Drag],xM=e=>({rrwebMethod:e,enqueuedAt:Date.now(),attempt:1}),Wr="[SessionRecording]";function ac(e){return function(t,n){for(var r="",i=0;i<t.length;){var s=t[i++];s<128||n?r+=String.fromCharCode(s):s<224?r+=String.fromCharCode((31&s)<<6|63&t[i++]):s<240?r+=String.fromCharCode((15&s)<<12|(63&t[i++])<<6|63&t[i++]):(s=((15&s)<<18|(63&t[i++])<<12|(63&t[i++])<<6|63&t[i++])-65536,r+=String.fromCharCode(55296|s>>10,56320|1023&s))}return r}(EP(TP(JSON.stringify(e))),!0)}function wM(e){return e.type===da.Custom&&e.data.tag==="sessionIdle"}function EM(e,t){return t.some(n=>n.matching==="regex"&&new RegExp(n.url).test(e))}class gz{get sessionIdleThresholdMilliseconds(){return this.instance.config.session_recording.session_idle_threshold_ms||3e5}get rrwebRecord(){var t,n;return Tt==null||(t=Tt.__PosthogExtensions__)===null||t===void 0||(n=t.rrweb)===null||n===void 0?void 0:n.record}get started(){return this._captureStarted}get sessionManager(){if(!this.instance.sessionManager)throw new Error(Wr+" must be started with a valid sessionManager.");return this.instance.sessionManager}get fullSnapshotIntervalMillis(){var t,n;return this.triggerStatus==="trigger_pending"?6e4:(t=(n=this.instance.config.session_recording)===null||n===void 0?void 0:n.full_snapshot_interval_millis)!==null&&t!==void 0?t:hz}get isSampled(){var t=this.instance.get_property(zh);return _c(t)?t:null}get sessionDuration(){var t,n,r=(t=this.buffer)===null||t===void 0?void 0:t.data[((n=this.buffer)===null||n===void 0?void 0:n.data.length)-1],{sessionStartTimestamp:i}=this.sessionManager.checkAndGetSessionAndWindowId(!0);return r?r.timestamp-i:null}get isRecordingEnabled(){var t=!!this.instance.get_property(X_),n=!this.instance.config.disable_session_recording;return fe&&t&&n}get isConsoleLogCaptureEnabled(){var t=!!this.instance.get_property(eM),n=this.instance.config.enable_recording_console_log;return n??t}get canvasRecording(){var t,n,r,i,s,l,c=this.instance.config.session_recording.captureCanvas,d=this.instance.get_property(nM),u=(t=(n=c==null?void 0:c.recordCanvas)!==null&&n!==void 0?n:d==null?void 0:d.enabled)!==null&&t!==void 0&&t,h=(r=(i=c==null?void 0:c.canvasFps)!==null&&i!==void 0?i:d==null?void 0:d.fps)!==null&&r!==void 0?r:0,p=(s=(l=c==null?void 0:c.canvasQuality)!==null&&l!==void 0?l:d==null?void 0:d.quality)!==null&&s!==void 0?s:0;return{enabled:u,fps:Io(h,0,12,"canvas recording fps"),quality:Io(p,0,1,"canvas recording quality")}}get networkPayloadCapture(){var t,n,r=this.instance.get_property(tM),i={recordHeaders:(t=this.instance.config.session_recording)===null||t===void 0?void 0:t.recordHeaders,recordBody:(n=this.instance.config.session_recording)===null||n===void 0?void 0:n.recordBody},s=(i==null?void 0:i.recordHeaders)||(r==null?void 0:r.recordHeaders),l=(i==null?void 0:i.recordBody)||(r==null?void 0:r.recordBody),c=Cr(this.instance.config.capture_performance)?this.instance.config.capture_performance.network_timing:this.instance.config.capture_performance,d=!!(_c(c)?c:r!=null&&r.capturePerformance);return s||l||d?{recordHeaders:s,recordBody:l,recordPerformance:d}:void 0}get sampleRate(){var t=this.instance.get_property(rM);return rs(t)?t:null}get minimumDuration(){var t=this.instance.get_property(iM);return rs(t)?t:null}get status(){return this.receivedDecide?this.isRecordingEnabled?this._urlBlocked?"paused":On(this._linkedFlag)||this._linkedFlagSeen?this.triggerStatus==="trigger_pending"?"buffering":_c(this.isSampled)?this.isSampled?"sampled":"disabled":"active":"buffering":"disabled":"buffering"}get urlTriggerStatus(){var t;return this._urlTriggers.length===0?"trigger_disabled":((t=this.instance)===null||t===void 0?void 0:t.get_property(i1))===this.sessionId?"trigger_activated":"trigger_pending"}get eventTriggerStatus(){var t;return this._eventTriggers.length===0?"trigger_disabled":((t=this.instance)===null||t===void 0?void 0:t.get_property(s1))===this.sessionId?"trigger_activated":"trigger_pending"}get triggerStatus(){var t=this.eventTriggerStatus==="trigger_activated"||this.urlTriggerStatus==="trigger_activated",n=this.eventTriggerStatus==="trigger_pending"||this.urlTriggerStatus==="trigger_pending";return t?"trigger_activated":n?"trigger_pending":"trigger_disabled"}constructor(t){if(ze(this,"queuedRRWebEvents",[]),ze(this,"isIdle",!1),ze(this,"_linkedFlagSeen",!1),ze(this,"_lastActivityTimestamp",Date.now()),ze(this,"_linkedFlag",null),ze(this,"_removePageViewCaptureHook",void 0),ze(this,"_onSessionIdListener",void 0),ze(this,"_persistDecideOnSessionListener",void 0),ze(this,"_samplingSessionListener",void 0),ze(this,"_urlTriggers",[]),ze(this,"_urlBlocklist",[]),ze(this,"_urlBlocked",!1),ze(this,"_eventTriggers",[]),ze(this,"_removeEventTriggerCaptureHook",void 0),ze(this,"_forceAllowLocalhostNetworkCapture",!1),ze(this,"_onBeforeUnload",()=>{this._flushBuffer()}),ze(this,"_onOffline",()=>{this._tryAddCustomEvent("browser offline",{})}),ze(this,"_onOnline",()=>{this._tryAddCustomEvent("browser online",{})}),ze(this,"_onVisibilityChange",()=>{if(He!=null&&He.visibilityState){var i="window "+He.visibilityState;this._tryAddCustomEvent(i,{})}}),this.instance=t,this._captureStarted=!1,this._endpoint="/s/",this.stopRrweb=void 0,this.receivedDecide=!1,!this.instance.sessionManager)throw xe.error(Wr+" started without valid sessionManager"),new Error(Wr+" started without valid sessionManager. This is a bug.");var{sessionId:n,windowId:r}=this.sessionManager.checkAndGetSessionAndWindowId();this.sessionId=n,this.windowId=r,this.buffer=this.clearBuffer(),this.sessionIdleThresholdMilliseconds>=this.sessionManager.sessionTimeoutMs&&xe.warn(Wr+" session_idle_threshold_ms (".concat(this.sessionIdleThresholdMilliseconds,") is greater than the session timeout (").concat(this.sessionManager.sessionTimeoutMs,"). Session will never be detected as idle"))}startIfEnabledOrStop(t){this.isRecordingEnabled?(this._startCapture(t),fe==null||fe.addEventListener("beforeunload",this._onBeforeUnload),fe==null||fe.addEventListener("offline",this._onOffline),fe==null||fe.addEventListener("online",this._onOnline),fe==null||fe.addEventListener("visibilitychange",this._onVisibilityChange),this._setupSampling(),this._addEventTriggerListener(),On(this._removePageViewCaptureHook)&&(this._removePageViewCaptureHook=this.instance.on("eventCaptured",n=>{try{if(n.event==="$pageview"){var r=n!=null&&n.properties.$current_url?this._maskUrl(n==null?void 0:n.properties.$current_url):"";if(!r)return;this._tryAddCustomEvent("$pageview",{href:r})}}catch(i){xe.error("Could not add $pageview to rrweb session",i)}})),this._onSessionIdListener||(this._onSessionIdListener=this.sessionManager.onSessionId((n,r,i)=>{var s,l,c,d;i&&(this._tryAddCustomEvent("$session_id_change",{sessionId:n,windowId:r,changeReason:i}),(s=this.instance)===null||s===void 0||(l=s.persistence)===null||l===void 0||l.unregister(s1),(c=this.instance)===null||c===void 0||(d=c.persistence)===null||d===void 0||d.unregister(i1))}))):this.stopRecording()}stopRecording(){var t,n,r,i;this._captureStarted&&this.stopRrweb&&(this.stopRrweb(),this.stopRrweb=void 0,this._captureStarted=!1,fe==null||fe.removeEventListener("beforeunload",this._onBeforeUnload),fe==null||fe.removeEventListener("offline",this._onOffline),fe==null||fe.removeEventListener("online",this._onOnline),fe==null||fe.removeEventListener("visibilitychange",this._onVisibilityChange),this.clearBuffer(),clearInterval(this._fullSnapshotTimer),(t=this._removePageViewCaptureHook)===null||t===void 0||t.call(this),this._removePageViewCaptureHook=void 0,(n=this._removeEventTriggerCaptureHook)===null||n===void 0||n.call(this),this._removeEventTriggerCaptureHook=void 0,(r=this._onSessionIdListener)===null||r===void 0||r.call(this),this._onSessionIdListener=void 0,(i=this._samplingSessionListener)===null||i===void 0||i.call(this),this._samplingSessionListener=void 0,xe.info(Wr+" stopped"))}makeSamplingDecision(t){var n,r=this.sessionId!==t,i=this.sampleRate;if(rs(i)){var s,l=this.isSampled,c=r||!_c(l);c?s=Math.random()<i:s=l,c&&(s?this._reportStarted("sampled"):xe.warn(Wr+" Sample rate (".concat(i,") has determined that this sessionId (").concat(t,") will not be sent to the server.")),this._tryAddCustomEvent("samplingDecisionMade",{sampleRate:i,isSampled:s})),(n=this.instance.persistence)===null||n===void 0||n.register({[zh]:s})}else{var d;(d=this.instance.persistence)===null||d===void 0||d.register({[zh]:null})}}afterDecideResponse(t){var n,r,i,s,l,c;if(this._persistDecideResponse(t),this._linkedFlag=((n=t.sessionRecording)===null||n===void 0?void 0:n.linkedFlag)||null,(r=t.sessionRecording)!==null&&r!==void 0&&r.endpoint&&(this._endpoint=(c=t.sessionRecording)===null||c===void 0?void 0:c.endpoint),this._setupSampling(),!On(this._linkedFlag)&&!this._linkedFlagSeen){var d=fi(this._linkedFlag)?this._linkedFlag:this._linkedFlag.flag,u=fi(this._linkedFlag)?null:this._linkedFlag.variant;this.instance.onFeatureFlags((h,p)=>{var v=Cr(p)&&d in p,y=u?p[d]===u:v;y&&this._reportStarted("linked_flag_matched",{linkedFlag:d,linkedVariant:u}),this._linkedFlagSeen=y})}(i=t.sessionRecording)!==null&&i!==void 0&&i.urlTriggers&&(this._urlTriggers=t.sessionRecording.urlTriggers),(s=t.sessionRecording)!==null&&s!==void 0&&s.urlBlocklist&&(this._urlBlocklist=t.sessionRecording.urlBlocklist),(l=t.sessionRecording)!==null&&l!==void 0&&l.eventTriggers&&(this._eventTriggers=t.sessionRecording.eventTriggers),this.receivedDecide=!0,this.startIfEnabledOrStop()}_setupSampling(){rs(this.sampleRate)&&On(this._samplingSessionListener)&&(this._samplingSessionListener=this.sessionManager.onSessionId(t=>{this.makeSamplingDecision(t)}))}_persistDecideResponse(t){if(this.instance.persistence){var n,r=this.instance.persistence,i=()=>{var s,l,c,d,u,h,p,v,y=(s=t.sessionRecording)===null||s===void 0?void 0:s.sampleRate,b=On(y)?null:parseFloat(y),_=(l=t.sessionRecording)===null||l===void 0?void 0:l.minimumDurationMilliseconds;r.register({[X_]:!!t.sessionRecording,[eM]:(c=t.sessionRecording)===null||c===void 0?void 0:c.consoleLogRecordingEnabled,[tM]:Oe({capturePerformance:t.capturePerformance},(d=t.sessionRecording)===null||d===void 0?void 0:d.networkPayloadCapture),[nM]:{enabled:(u=t.sessionRecording)===null||u===void 0?void 0:u.recordCanvas,fps:(h=t.sessionRecording)===null||h===void 0?void 0:h.canvasFps,quality:(p=t.sessionRecording)===null||p===void 0?void 0:p.canvasQuality},[rM]:b,[iM]:et(_)?null:_,[sM]:(v=t.sessionRecording)===null||v===void 0?void 0:v.scriptConfig})};i(),(n=this._persistDecideOnSessionListener)===null||n===void 0||n.call(this),this._persistDecideOnSessionListener=this.sessionManager.onSessionId(i)}}log(t){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"log";(n=this.instance.sessionRecording)===null||n===void 0||n.onRRwebEmit({type:6,data:{plugin:"rrweb/console@1",payload:{level:r,trace:[],payload:[JSON.stringify(t)]}},timestamp:Date.now()})}_startCapture(t){if(!et(Object.assign)&&!et(Array.from)&&!(this._captureStarted||this.instance.config.disable_session_recording||this.instance.consent.isOptedOut())){var n,r;this._captureStarted=!0,this.sessionManager.checkAndGetSessionAndWindowId(),this.rrwebRecord?this._onScriptLoaded():(n=Tt.__PosthogExtensions__)===null||n===void 0||(r=n.loadExternalDependency)===null||r===void 0||r.call(n,this.instance,this.scriptName,i=>{if(i)return xe.error(Wr+" could not load recorder",i);this._onScriptLoaded()}),xe.info(Wr+" starting"),this.status==="active"&&this._reportStarted(t||"recording_initialized")}}get scriptName(){var t,n,r;return((t=this.instance)===null||t===void 0||(n=t.persistence)===null||n===void 0||(r=n.get_property(sM))===null||r===void 0?void 0:r.script)||"recorder"}isInteractiveEvent(t){var n;return t.type===3&&pz.indexOf((n=t.data)===null||n===void 0?void 0:n.source)!==-1}_updateWindowAndSessionIds(t){var n=this.isInteractiveEvent(t);n||this.isIdle||t.timestamp-this._lastActivityTimestamp>this.sessionIdleThresholdMilliseconds&&(this.isIdle=!0,clearInterval(this._fullSnapshotTimer),this._tryAddCustomEvent("sessionIdle",{eventTimestamp:t.timestamp,lastActivityTimestamp:this._lastActivityTimestamp,threshold:this.sessionIdleThresholdMilliseconds,bufferLength:this.buffer.data.length,bufferSize:this.buffer.size}),this._flushBuffer());var r=!1;if(n&&(this._lastActivityTimestamp=t.timestamp,this.isIdle&&(this.isIdle=!1,this._tryAddCustomEvent("sessionNoLongerIdle",{reason:"user activity",type:t.type}),r=!0)),!this.isIdle){var{windowId:i,sessionId:s}=this.sessionManager.checkAndGetSessionAndWindowId(!n,t.timestamp),l=this.sessionId!==s,c=this.windowId!==i;this.windowId=i,this.sessionId=s,l||c?(this.stopRecording(),this.startIfEnabledOrStop("session_id_changed")):r&&this._scheduleFullSnapshot()}}_tryRRWebMethod(t){try{return t.rrwebMethod(),!0}catch(n){return this.queuedRRWebEvents.length<10?this.queuedRRWebEvents.push({enqueuedAt:t.enqueuedAt||Date.now(),attempt:t.attempt++,rrwebMethod:t.rrwebMethod}):xe.warn(Wr+" could not emit queued rrweb event.",n,t),!1}}_tryAddCustomEvent(t,n){return this._tryRRWebMethod(xM(()=>this.rrwebRecord.addCustomEvent(t,n)))}_tryTakeFullSnapshot(){return this._tryRRWebMethod(xM(()=>this.rrwebRecord.takeFullSnapshot()))}_onScriptLoaded(){var t,n={blockClass:"ph-no-capture",blockSelector:void 0,ignoreClass:"ph-ignore-input",maskTextClass:"ph-mask",maskTextSelector:void 0,maskTextFn:void 0,maskAllInputs:!0,maskInputOptions:{password:!0},maskInputFn:void 0,slimDOMOptions:{},collectFonts:!1,inlineStylesheet:!0,recordCrossOriginIframes:!1},r=this.instance.config.session_recording;for(var[i,s]of Object.entries(r||{}))i in n&&(i==="maskInputOptions"?n.maskInputOptions=Oe({password:!0},s):n[i]=s);if(this.canvasRecording&&this.canvasRecording.enabled&&(n.recordCanvas=!0,n.sampling={canvas:this.canvasRecording.fps},n.dataURLOptions={type:"image/webp",quality:this.canvasRecording.quality}),this.rrwebRecord){this.mutationRateLimiter=(t=this.mutationRateLimiter)!==null&&t!==void 0?t:new rz(this.rrwebRecord,{refillRate:this.instance.config.session_recording.__mutationRateLimiterRefillRate,bucketSize:this.instance.config.session_recording.__mutationRateLimiterBucketSize,onBlockedNode:(c,d)=>{var u="Too many mutations on node '".concat(c,"'. Rate limiting. This could be due to SVG animations or something similar");xe.info(u,{node:d}),this.log(Wr+" "+u,"warn")}});var l=this._gatherRRWebPlugins();this.stopRrweb=this.rrwebRecord(Oe({emit:c=>{this.onRRwebEmit(c)},plugins:l},n)),this._lastActivityTimestamp=Date.now(),this.isIdle=!1,this._tryAddCustomEvent("$session_options",{sessionRecordingOptions:n,activePlugins:l.map(c=>c==null?void 0:c.name)}),this._tryAddCustomEvent("$posthog_config",{config:this.instance.config})}else xe.error(Wr+"onScriptLoaded was called but rrwebRecord is not available. This indicates something has gone wrong.")}_scheduleFullSnapshot(){if(this._fullSnapshotTimer&&clearInterval(this._fullSnapshotTimer),!this.isIdle){var t=this.fullSnapshotIntervalMillis;t&&(this._fullSnapshotTimer=setInterval(()=>{this._tryTakeFullSnapshot()},t))}}_gatherRRWebPlugins(){var t,n,r,i,s=[],l=(t=Tt.__PosthogExtensions__)===null||t===void 0||(n=t.rrwebPlugins)===null||n===void 0?void 0:n.getRecordConsolePlugin;l&&this.isConsoleLogCaptureEnabled&&s.push(l());var c=(r=Tt.__PosthogExtensions__)===null||r===void 0||(i=r.rrwebPlugins)===null||i===void 0?void 0:i.getRecordNetworkPlugin;return this.networkPayloadCapture&&Ds(c)&&(!jF.includes(location.hostname)||this._forceAllowLocalhostNetworkCapture?s.push(c(nz(this.instance.config,this.networkPayloadCapture))):xe.info(Wr+" NetworkCapture not started because we are on localhost.")),s}onRRwebEmit(t){var n;if(this._processQueuedEvents(),t&&Cr(t)){if(t.type===da.Meta){var r=this._maskUrl(t.data.href);if(this._lastHref=r,!r)return;t.data.href=r}else this._pageViewFallBack();if(this._checkUrlTriggerConditions(),this.status!=="paused"||function(p){return p.type===da.Custom&&p.data.tag==="recording paused"}(t)){t.type===da.FullSnapshot&&this._scheduleFullSnapshot(),t.type===da.FullSnapshot&&this.triggerStatus==="trigger_pending"&&this.clearBuffer();var i=this.mutationRateLimiter?this.mutationRateLimiter.throttleMutations(t):t;if(i){var s=function(p){var v=p;if(v&&Cr(v)&&v.type===6&&Cr(v.data)&&v.data.plugin==="rrweb/console@1"){v.data.payload.payload.length>10&&(v.data.payload.payload=v.data.payload.payload.slice(0,10),v.data.payload.payload.push("...[truncated]"));for(var y=[],b=0;b<v.data.payload.payload.length;b++)v.data.payload.payload[b]&&v.data.payload.payload[b].length>2e3?y.push(v.data.payload.payload[b].slice(0,2e3)+"...[truncated]"):y.push(v.data.payload.payload[b]);return v.data.payload.payload=y,p}return p}(i);if(this._updateWindowAndSessionIds(s),!this.isIdle||wM(s)){if(wM(s)){var l=s.data.payload;if(l){var c=l.lastActivityTimestamp,d=l.threshold;s.timestamp=c+d}}var u=(n=this.instance.config.session_recording.compress_events)===null||n===void 0||n?function(p){if(tv(p)<1024)return p;try{if(p.type===da.FullSnapshot)return Oe(Oe({},p),{},{data:ac(p.data),cv:"2024-10"});if(p.type===da.IncrementalSnapshot&&p.data.source===no.Mutation)return Oe(Oe({},p),{},{cv:"2024-10",data:Oe(Oe({},p.data),{},{texts:ac(p.data.texts),attributes:ac(p.data.attributes),removes:ac(p.data.removes),adds:ac(p.data.adds)})});if(p.type===da.IncrementalSnapshot&&p.data.source===no.StyleSheetRule)return Oe(Oe({},p),{},{cv:"2024-10",data:Oe(Oe({},p.data),{},{adds:ac(p.data.adds),removes:ac(p.data.removes)})})}catch(v){xe.error(Wr+" could not compress event - will use uncompressed event",v)}return p}(s):s,h={$snapshot_bytes:tv(u),$snapshot_data:u,$session_id:this.sessionId,$window_id:this.windowId};this.status!=="disabled"?this._captureSnapshotBuffered(h):this.clearBuffer()}}}}}_pageViewFallBack(){if(!this.instance.config.capture_pageview&&fe){var t=this._maskUrl(fe.location.href);this._lastHref!==t&&(this._tryAddCustomEvent("$url_changed",{href:t}),this._lastHref=t)}}_processQueuedEvents(){if(this.queuedRRWebEvents.length){var t=[...this.queuedRRWebEvents];this.queuedRRWebEvents=[],t.forEach(n=>{Date.now()-n.enqueuedAt<=2e3&&this._tryRRWebMethod(n)})}}_maskUrl(t){var n=this.instance.config.session_recording;if(n.maskNetworkRequestFn){var r,i={url:t};return(r=i=n.maskNetworkRequestFn(i))===null||r===void 0?void 0:r.url}return t}clearBuffer(){return this.buffer={size:0,data:[],sessionId:this.sessionId,windowId:this.windowId},this.buffer}_flushBuffer(){this.flushBufferTimer&&(clearTimeout(this.flushBufferTimer),this.flushBufferTimer=void 0);var t=this.minimumDuration,n=this.sessionDuration,r=rs(n)&&n>=0,i=rs(t)&&r&&n<t;return this.status==="buffering"||i?(this.flushBufferTimer=setTimeout(()=>{this._flushBuffer()},2e3),this.buffer):(this.buffer.data.length>0&&lS(this.buffer).forEach(s=>{this._captureSnapshot({$snapshot_bytes:s.size,$snapshot_data:s.data,$session_id:s.sessionId,$window_id:s.windowId})}),this.clearBuffer())}_captureSnapshotBuffered(t){var n,r=2+(((n=this.buffer)===null||n===void 0?void 0:n.data.length)||0);!this.isIdle&&(this.buffer.size+t.$snapshot_bytes+r>943718.4||this.buffer.sessionId!==this.sessionId)&&(this.buffer=this._flushBuffer()),this.buffer.size+=t.$snapshot_bytes,this.buffer.data.push(t.$snapshot_data),this.flushBufferTimer||this.isIdle||(this.flushBufferTimer=setTimeout(()=>{this._flushBuffer()},2e3))}_captureSnapshot(t){this.instance.capture("$snapshot",t,{_url:this.instance.requestRouter.endpointFor("api",this._endpoint),_noTruncate:!0,_batchKey:"recordings",skip_client_rate_limiting:!0})}_checkUrlTriggerConditions(){if(fe!==void 0&&fe.location.href){var t=fe.location.href,n=this.status==="paused",r=EM(t,this._urlBlocklist);r&&!n?this._pauseRecording():!r&&n&&this._resumeRecording(),EM(t,this._urlTriggers)&&this._activateTrigger("url")}}_activateTrigger(t){var n,r;this.triggerStatus==="trigger_pending"&&((n=this.instance)===null||n===void 0||(r=n.persistence)===null||r===void 0||r.register({[t==="url"?i1:s1]:this.sessionId}),this._flushBuffer(),this._reportStarted(t+"_trigger_matched"))}_pauseRecording(){var t,n;this.status!=="paused"&&(this._urlBlocked=!0,He==null||(t=He.body)===null||t===void 0||(n=t.classList)===null||n===void 0||n.add("ph-no-capture"),clearInterval(this._fullSnapshotTimer),setTimeout(()=>{this._flushBuffer()},100),xe.info(Wr+" recording paused due to URL blocker"),this._tryAddCustomEvent("recording paused",{reason:"url blocker"}))}_resumeRecording(){var t,n;this.status==="paused"&&(this._urlBlocked=!1,He==null||(t=He.body)===null||t===void 0||(n=t.classList)===null||n===void 0||n.remove("ph-no-capture"),this._tryTakeFullSnapshot(),this._scheduleFullSnapshot(),this._tryAddCustomEvent("recording resumed",{reason:"left blocked url"}),xe.info(Wr+" recording resumed"))}_addEventTriggerListener(){this._eventTriggers.length!==0&&On(this._removeEventTriggerCaptureHook)&&(this._removeEventTriggerCaptureHook=this.instance.on("eventCaptured",t=>{try{this._eventTriggers.includes(t.event)&&this._activateTrigger("event")}catch(n){xe.error(Wr+"Could not activate event trigger",n)}}))}overrideLinkedFlag(){this._linkedFlagSeen=!0,this._reportStarted("linked_flag_overridden")}overrideSampling(){var t;(t=this.instance.persistence)===null||t===void 0||t.register({[zh]:!0}),this._reportStarted("sampling_overridden")}overrideTrigger(t){this._activateTrigger(t)}_reportStarted(t,n){this.instance.register_for_session({$session_recording_start_reason:t}),xe.info(Wr+" "+t.replace("_"," "),n),$t(["recording_initialized","session_id_changed"],t)||this._tryAddCustomEvent(t,n)}}class mz{constructor(t){this.instance=t,this.instance.decideEndpointWasHit=this.instance._hasBootstrappedFeatureFlags()}call(){var t={token:this.instance.config.token,distinct_id:this.instance.get_distinct_id(),groups:this.instance.getGroups(),person_properties:this.instance.get_property(hd),group_properties:this.instance.get_property(dl),disable_flags:this.instance.config.advanced_disable_feature_flags||this.instance.config.advanced_disable_feature_flags_on_first_load||void 0};this.instance._send_request({method:"POST",url:this.instance.requestRouter.endpointFor("api","/decide/?v=3"),data:t,compression:this.instance.config.disable_compression?void 0:so.Base64,timeout:this.instance.config.feature_flag_request_timeout_ms,callback:n=>this.parseDecideResponse(n.json)})}parseDecideResponse(t){this.instance.featureFlags.setReloadingPaused(!1),this.instance.featureFlags._startReloadTimer();var n=!t;if(this.instance.config.advanced_disable_feature_flags_on_first_load||this.instance.config.advanced_disable_feature_flags||this.instance.featureFlags.receivedFeatureFlags(t??{},n),!n)return He&&He.body?void this.instance._afterDecideResponse(t):(xe.info("document not ready yet, trying again in 500 milliseconds..."),void setTimeout(()=>{this.parseDecideResponse(t)},500));xe.error("Failed to fetch feature flags from PostHog.")}}var fa,vz=fe!=null&&fe.location?Z0(fe.location.hash,"__posthog")||Z0(location.hash,"state"):null,TM="_postHogToolbarParams";(function(e){e[e.UNINITIALIZED=0]="UNINITIALIZED",e[e.LOADING=1]="LOADING",e[e.LOADED=2]="LOADED"})(fa||(fa={}));class yz{constructor(t){this.instance=t}setToolbarState(t){Tt.ph_toolbar_state=t}getToolbarState(){var t;return(t=Tt.ph_toolbar_state)!==null&&t!==void 0?t:fa.UNINITIALIZED}maybeLoadToolbar(){var t,n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;if(!fe||!He)return!1;r=(t=r)!==null&&t!==void 0?t:fe.location,s=(n=s)!==null&&n!==void 0?n:fe.history;try{if(!i){try{fe.localStorage.setItem("test","test"),fe.localStorage.removeItem("test")}catch{return!1}i=fe==null?void 0:fe.localStorage}var l,c=vz||Z0(r.hash,"__posthog")||Z0(r.hash,"state"),d=c?qk(()=>JSON.parse(atob(decodeURIComponent(c))))||qk(()=>JSON.parse(decodeURIComponent(c))):null;return d&&d.action==="ph_authorize"?((l=d).source="url",l&&Object.keys(l).length>0&&(d.desiredHash?r.hash=d.desiredHash:s?s.replaceState(s.state,"",r.pathname+r.search):r.hash="")):((l=JSON.parse(i.getItem(TM)||"{}")).source="localstorage",delete l.userIntent),!(!l.token||this.instance.config.token!==l.token)&&(this.loadToolbar(l),!0)}catch{return!1}}_callLoadToolbar(t){(Tt.ph_load_toolbar||Tt.ph_load_editor)(t,this.instance)}loadToolbar(t){var n=!(He==null||!He.getElementById(Yj));if(!fe||n)return!1;var r=this.instance.requestRouter.region==="custom"&&this.instance.config.advanced_disable_toolbar_metrics,i=Oe(Oe({token:this.instance.config.token},t),{},{apiURL:this.instance.requestRouter.endpointFor("ui")},r?{instrument:!1}:{});if(fe.localStorage.setItem(TM,JSON.stringify(Oe(Oe({},i),{},{source:void 0}))),this.getToolbarState()===fa.LOADED)this._callLoadToolbar(i);else if(this.getToolbarState()===fa.UNINITIALIZED){var s,l;this.setToolbarState(fa.LOADING),(s=Tt.__PosthogExtensions__)===null||s===void 0||(l=s.loadExternalDependency)===null||l===void 0||l.call(s,this.instance,"toolbar",c=>{if(c)return xe.error("Failed to load toolbar",c),void this.setToolbarState(fa.UNINITIALIZED);this.setToolbarState(fa.LOADED),this._callLoadToolbar(i)}),ga(fe,"turbolinks:load",()=>{this.setToolbarState(fa.UNINITIALIZED),this.loadToolbar(i)})}return!0}_loadEditor(t){return this.loadToolbar(t)}maybeLoadEditor(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;return this.maybeLoadToolbar(t,n,r)}}class Az{constructor(t){ze(this,"isPaused",!0),ze(this,"queue",[]),ze(this,"flushTimeoutMs",3e3),this.sendRequest=t}enqueue(t){this.queue.push(t),this.flushTimeout||this.setFlushTimeout()}unload(){this.clearFlushTimeout();var t=this.queue.length>0?this.formatQueue():{},n=Object.values(t),r=[...n.filter(i=>i.url.indexOf("/e")===0),...n.filter(i=>i.url.indexOf("/e")!==0)];r.map(i=>{this.sendRequest(Oe(Oe({},i),{},{transport:"sendBeacon"}))})}enable(){this.isPaused=!1,this.setFlushTimeout()}setFlushTimeout(){var t=this;this.isPaused||(this.flushTimeout=setTimeout(()=>{if(this.clearFlushTimeout(),this.queue.length>0){var n=this.formatQueue(),r=function(s){var l=n[s],c=new Date().getTime();l.data&&mr(l.data)&&wn(l.data,d=>{d.offset=Math.abs(d.timestamp-c),delete d.timestamp}),t.sendRequest(l)};for(var i in n)r(i)}},this.flushTimeoutMs))}clearFlushTimeout(){clearTimeout(this.flushTimeout),this.flushTimeout=void 0}formatQueue(){var t={};return wn(this.queue,n=>{var r,i=n,s=(i?i.batchKey:null)||i.url;et(t[s])&&(t[s]=Oe(Oe({},i),{},{data:[]})),(r=t[s].data)===null||r===void 0||r.push(i.data)}),this.queue=[],t}}var bz=!!K_||!!Y_,CM="text/plain",iv=(e,t)=>{var[n,r]=e.split("?"),i=Oe({},t);r==null||r.split("&").forEach(l=>{var[c]=l.split("=");delete i[c]});var s=PF(i);return s=s?(r?r+"&":"")+s:r,"".concat(n,"?").concat(s)},_m=(e,t)=>JSON.stringify(e,(n,r)=>typeof r=="bigint"?r.toString():r,t),d1=e=>{var{data:t,compression:n}=e;if(t){if(n===so.GZipJS){var r=EP(TP(_m(t)),{mtime:0}),i=new Blob([r],{type:CM});return{contentType:CM,body:i,estimatedSize:i.size}}if(n===so.Base64){var s=function(d){var u,h,p,v,y,b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_=0,w=0,T="",k=[];if(!d)return d;d=yF(d);do u=(y=d.charCodeAt(_++)<<16|d.charCodeAt(_++)<<8|d.charCodeAt(_++))>>18&63,h=y>>12&63,p=y>>6&63,v=63&y,k[w++]=b.charAt(u)+b.charAt(h)+b.charAt(p)+b.charAt(v);while(_<d.length);switch(T=k.join(""),d.length%3){case 1:T=T.slice(0,-2)+"==";break;case 2:T=T.slice(0,-1)+"="}return T}(_m(t)),l=(d=>"data="+encodeURIComponent(typeof d=="string"?d:_m(d)))(s);return{contentType:"application/x-www-form-urlencoded",body:l,estimatedSize:new Blob([l]).size}}var c=_m(t);return{contentType:"application/json",body:c,estimatedSize:new Blob([c]).size}}},Zh=[];K_&&Zh.push({transport:"XHR",method:e=>{var t,n=new K_;n.open(e.method||"GET",e.url,!0);var{contentType:r,body:i}=(t=d1(e))!==null&&t!==void 0?t:{};wn(e.headers,function(s,l){n.setRequestHeader(l,s)}),r&&n.setRequestHeader("Content-Type",r),e.timeout&&(n.timeout=e.timeout),n.withCredentials=!0,n.onreadystatechange=()=>{if(n.readyState===4){var s,l={statusCode:n.status,text:n.responseText};if(n.status===200)try{l.json=JSON.parse(n.responseText)}catch{}(s=e.callback)===null||s===void 0||s.call(e,l)}},n.send(i)}}),Y_&&Zh.push({transport:"fetch",method:e=>{var t,n,{contentType:r,body:i,estimatedSize:s}=(t=d1(e))!==null&&t!==void 0?t:{},l=new Headers;wn(e.headers,function(h,p){l.append(p,h)}),r&&l.append("Content-Type",r);var c=e.url,d=null;if(Hk){var u=new Hk;d={signal:u.signal,timeout:setTimeout(()=>u.abort(),e.timeout)}}Y_(c,{method:(e==null?void 0:e.method)||"GET",headers:l,keepalive:e.method==="POST"&&(s||0)<52428.8,body:i,signal:(n=d)===null||n===void 0?void 0:n.signal}).then(h=>h.text().then(p=>{var v,y={statusCode:h.status,text:p};if(h.status===200)try{y.json=JSON.parse(p)}catch(b){xe.error(b)}(v=e.callback)===null||v===void 0||v.call(e,y)})).catch(h=>{var p;xe.error(h),(p=e.callback)===null||p===void 0||p.call(e,{statusCode:0,text:h})}).finally(()=>d?clearTimeout(d.timeout):null)}}),ss!=null&&ss.sendBeacon&&Zh.push({transport:"sendBeacon",method:e=>{var t=iv(e.url,{beacon:"1"});try{var n,{contentType:r,body:i}=(n=d1(e))!==null&&n!==void 0?n:{},s=typeof i=="string"?new Blob([i],{type:r}):i;ss.sendBeacon(t,s)}catch{}}});var _z=["retriesPerformedSoFar"];class Sz{constructor(t){ze(this,"isPolling",!1),ze(this,"pollIntervalMs",3e3),ze(this,"queue",[]),this.instance=t,this.queue=[],this.areWeOnline=!0,!et(fe)&&"onLine"in fe.navigator&&(this.areWeOnline=fe.navigator.onLine,fe.addEventListener("online",()=>{this.areWeOnline=!0,this.flush()}),fe.addEventListener("offline",()=>{this.areWeOnline=!1}))}retriableRequest(t){var{retriesPerformedSoFar:n}=t,r=Hj(t,_z);rs(n)&&n>0&&(r.url=iv(r.url,{retry_count:n})),this.instance._send_request(Oe(Oe({},r),{},{callback:i=>{var s;i.statusCode!==200&&(i.statusCode<400||i.statusCode>=500)&&(n??0)<10?this.enqueue(Oe({retriesPerformedSoFar:n},r)):(s=r.callback)===null||s===void 0||s.call(r,i)}}))}enqueue(t){var n=t.retriesPerformedSoFar||0;t.retriesPerformedSoFar=n+1;var r=function(l){var c=3e3*Math.pow(2,l),d=c/2,u=Math.min(18e5,c),h=(Math.random()-.5)*(u-d);return Math.ceil(u+h)}(n),i=Date.now()+r;this.queue.push({retryAt:i,requestOptions:t});var s="Enqueued failed request for retry in ".concat(r);navigator.onLine||(s+=" (Browser is offline)"),xe.warn(s),this.isPolling||(this.isPolling=!0,this.poll())}poll(){this.poller&&clearTimeout(this.poller),this.poller=setTimeout(()=>{this.areWeOnline&&this.queue.length>0&&this.flush(),this.poll()},this.pollIntervalMs)}flush(){var t=Date.now(),n=[],r=this.queue.filter(s=>s.retryAt<t||(n.push(s),!1));if(this.queue=n,r.length>0)for(var{requestOptions:i}of r)this.retriableRequest(i)}unload(){for(var{requestOptions:t}of(this.poller&&(clearTimeout(this.poller),this.poller=void 0),this.queue))try{this.instance._send_request(Oe(Oe({},t),{},{transport:"sendBeacon"}))}catch(n){xe.error(n)}this.queue=[]}}var Sc;class xz{constructor(t,n,r){var i;if(ze(this,"_sessionIdChangedHandlers",[]),!t.persistence)throw new Error("SessionIdManager requires a PostHogPersistence instance");this.config=t.config,this.persistence=t.persistence,this._windowId=void 0,this._sessionId=void 0,this._sessionStartTimestamp=null,this._sessionActivityTimestamp=null,this._sessionIdGenerator=n||gl,this._windowIdGenerator=r||gl;var s=this.config.persistence_name||this.config.token,l=this.config.session_idle_timeout_seconds||1800;if(this._sessionTimeoutMs=1e3*Io(l,60,36e3,"session_idle_timeout_seconds",1800),t.register({$configured_session_timeout_ms:this._sessionTimeoutMs}),this._window_id_storage_key="ph_"+s+"_window_id",this._primary_window_exists_storage_key="ph_"+s+"_primary_window_exists",this._canUseSessionStorage()){var c=ei.parse(this._window_id_storage_key),d=ei.parse(this._primary_window_exists_storage_key);c&&!d?this._windowId=c:ei.remove(this._window_id_storage_key),ei.set(this._primary_window_exists_storage_key,!0)}if((i=this.config.bootstrap)!==null&&i!==void 0&&i.sessionID)try{var u=(h=>{var p=h.replace(/-/g,"");if(p.length!==32)throw new Error("Not a valid UUID");if(p[12]!=="7")throw new Error("Not a UUIDv7");return parseInt(p.substring(0,12),16)})(this.config.bootstrap.sessionID);this._setSessionId(this.config.bootstrap.sessionID,new Date().getTime(),u)}catch(h){xe.error("Invalid sessionID in bootstrap",h)}this._listenToReloadWindow()}get sessionTimeoutMs(){return this._sessionTimeoutMs}onSessionId(t){return et(this._sessionIdChangedHandlers)&&(this._sessionIdChangedHandlers=[]),this._sessionIdChangedHandlers.push(t),this._sessionId&&t(this._sessionId,this._windowId),()=>{this._sessionIdChangedHandlers=this._sessionIdChangedHandlers.filter(n=>n!==t)}}_canUseSessionStorage(){return this.config.persistence!=="memory"&&!this.persistence.disabled&&ei.is_supported()}_setWindowId(t){t!==this._windowId&&(this._windowId=t,this._canUseSessionStorage()&&ei.set(this._window_id_storage_key,t))}_getWindowId(){return this._windowId?this._windowId:this._canUseSessionStorage()?ei.parse(this._window_id_storage_key):null}_setSessionId(t,n,r){t===this._sessionId&&n===this._sessionActivityTimestamp&&r===this._sessionStartTimestamp||(this._sessionStartTimestamp=r,this._sessionActivityTimestamp=n,this._sessionId=t,this.persistence.register({[K0]:[n,t,r]}))}_getSessionId(){if(this._sessionId&&this._sessionActivityTimestamp&&this._sessionStartTimestamp)return[this._sessionActivityTimestamp,this._sessionId,this._sessionStartTimestamp];var t=this.persistence.props[K0];return mr(t)&&t.length===2&&t.push(t[0]),t||[0,null,0]}resetSessionId(){this._setSessionId(null,null,null)}_listenToReloadWindow(){fe==null||fe.addEventListener("beforeunload",()=>{this._canUseSessionStorage()&&ei.remove(this._primary_window_exists_storage_key)})}checkAndGetSessionAndWindowId(){var t=arguments.length>0&&arguments[0]!==void 0&&arguments[0],n=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:null)||new Date().getTime(),[r,i,s]=this._getSessionId(),l=this._getWindowId(),c=rs(s)&&s>0&&Math.abs(n-s)>864e5,d=!1,u=!i,h=!t&&Math.abs(n-r)>this.sessionTimeoutMs;u||h||c?(i=this._sessionIdGenerator(),l=this._windowIdGenerator(),xe.info("[SessionId] new session ID generated",{sessionId:i,windowId:l,changeReason:{noSessionId:u,activityTimeout:h,sessionPastMaximumLength:c}}),s=n,d=!0):l||(l=this._windowIdGenerator(),d=!0);var p=r===0||!t||c?n:r,v=s===0?new Date().getTime():s;return this._setWindowId(l),this._setSessionId(i,p,v),d&&this._sessionIdChangedHandlers.forEach(y=>y(i,l,d?{noSessionId:u,activityTimeout:h,sessionPastMaximumLength:c}:void 0)),{sessionId:i,windowId:l,sessionStartTimestamp:v,changeReason:d?{noSessionId:u,activityTimeout:h,sessionPastMaximumLength:c}:void 0,lastActivityTimestamp:r}}}(function(e){e.US="us",e.EU="eu",e.CUSTOM="custom"})(Sc||(Sc={}));var kM="i.posthog.com";class wz{constructor(t){ze(this,"_regionCache",{}),this.instance=t}get apiHost(){var t=this.instance.config.api_host.trim().replace(/\/$/,"");return t==="https://app.posthog.com"?"https://us.i.posthog.com":t}get uiHost(){var t,n=(t=this.instance.config.ui_host)===null||t===void 0?void 0:t.replace(/\/$/,"");return n||(n=this.apiHost.replace(".".concat(kM),".posthog.com")),n==="https://app.posthog.com"?"https://us.posthog.com":n}get region(){return this._regionCache[this.apiHost]||(/https:\/\/(app|us|us-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this._regionCache[this.apiHost]=Sc.US:/https:\/\/(eu|eu-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this._regionCache[this.apiHost]=Sc.EU:this._regionCache[this.apiHost]=Sc.CUSTOM),this._regionCache[this.apiHost]}endpointFor(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(n&&(n=n[0]==="/"?n:"/".concat(n)),t==="ui")return this.uiHost+n;if(this.region===Sc.CUSTOM)return this.apiHost+n;var r=kM+n;switch(t){case"assets":return"https://".concat(this.region,"-assets.").concat(r);case"api":return"https://".concat(this.region,".").concat(r)}}}var CP="posthog-js";function kP(e){var{organization:t,projectId:n,prefix:r,severityAllowList:i=["error"]}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return s=>{var l,c,d,u,h;if(!(i==="*"||i.includes(s.level))||!e.__loaded)return s;s.tags||(s.tags={});var p=e.requestRouter.endpointFor("ui","/project/".concat(e.config.token,"/person/").concat(e.get_distinct_id()));s.tags["PostHog Person URL"]=p,e.sessionRecordingStarted()&&(s.tags["PostHog Recording URL"]=e.get_session_replay_url({withTimestamp:!0}));var v=((l=s.exception)===null||l===void 0?void 0:l.values)||[];v.map(b=>{b.stacktrace&&(b.stacktrace.type="raw")});var y={$exception_message:((c=v[0])===null||c===void 0?void 0:c.value)||s.message,$exception_type:(d=v[0])===null||d===void 0?void 0:d.type,$exception_personURL:p,$exception_level:s.level,$exception_list:v,$sentry_event_id:s.event_id,$sentry_exception:s.exception,$sentry_exception_message:((u=v[0])===null||u===void 0?void 0:u.value)||s.message,$sentry_exception_type:(h=v[0])===null||h===void 0?void 0:h.type,$sentry_tags:s.tags};return t&&n&&(y.$sentry_url=(r||"https://sentry.io/organizations/")+t+"/issues/?project="+n+"&query="+s.event_id),e.exceptions.sendExceptionEvent(y),s}}class Ez{constructor(t,n,r,i,s){this.name=CP,this.setupOnce=function(l){l(kP(t,{organization:n,projectId:r,prefix:i,severityAllowList:s}))}}}var MM,sv,to;function Tz(e,t){var n=e.config.segment;if(!n)return t();(function(r,i){var s=r.config.segment;if(!s)return i();var l=d=>{var u=()=>d.anonymousId()||gl();r.config.get_device_id=u,d.id()&&(r.register({distinct_id:d.id(),$device_id:u()}),r.persistence.set_property(ua,"identified")),i()},c=s.user();"then"in c&&Ds(c.then)?c.then(d=>l(d)):l(c)})(e,()=>{n.register((r=>{Promise&&Promise.resolve||xe.warn("This browser does not have Promise support, and can not use the segment integration");var i=(s,l)=>{var c;if(!l)return s;s.event.userId||s.event.anonymousId===r.get_distinct_id()||(xe.info("Segment integration does not have a userId set, resetting PostHog"),r.reset()),s.event.userId&&s.event.userId!==r.get_distinct_id()&&(xe.info("Segment integration has a userId set, identifying with PostHog"),r.identify(s.event.userId));var d=r._calculate_event_properties(l,(c=s.event.properties)!==null&&c!==void 0?c:{},new Date);return s.event.properties=Object.assign({},d,s.event.properties),s};return{name:"PostHog JS",type:"enrichment",version:"1.0.0",isLoaded:()=>!0,load:()=>Promise.resolve(),track:s=>i(s,s.event.event),page:s=>i(s,"$pageview"),identify:s=>i(s,"$identify"),screen:s=>i(s,"$screen")}})(e)).then(()=>{t()})})}class Cz{constructor(t){this._instance=t}doPageView(t){var n,r=this._previousPageViewProperties(t);return this._currentPath=(n=fe==null?void 0:fe.location.pathname)!==null&&n!==void 0?n:"",this._instance.scrollManager.resetContext(),this._prevPageviewTimestamp=t,r}doPageLeave(t){return this._previousPageViewProperties(t)}_previousPageViewProperties(t){var n=this._currentPath,r=this._prevPageviewTimestamp,i=this._instance.scrollManager.getContext();if(!r)return{};var s={};if(i){var{maxScrollHeight:l,lastScrollY:c,maxScrollY:d,maxContentHeight:u,lastContentY:h,maxContentY:p}=i;et(l)||et(c)||et(d)||et(u)||et(h)||et(p)||(l=Math.ceil(l),c=Math.ceil(c),d=Math.ceil(d),u=Math.ceil(u),h=Math.ceil(h),p=Math.ceil(p),s={$prev_pageview_last_scroll:c,$prev_pageview_last_scroll_percentage:l<=1?1:Io(c/l,0,1),$prev_pageview_max_scroll:d,$prev_pageview_max_scroll_percentage:l<=1?1:Io(d/l,0,1),$prev_pageview_last_content:h,$prev_pageview_last_content_percentage:u<=1?1:Io(h/u,0,1),$prev_pageview_max_content:p,$prev_pageview_max_content_percentage:u<=1?1:Io(p/u,0,1)})}return n&&(s.$prev_pageview_pathname=n),r&&(s.$prev_pageview_duration=(t.getTime()-r.getTime())/1e3),s}}(function(e){e.Popover="popover",e.API="api",e.Widget="widget"})(MM||(MM={})),function(e){e.Open="open",e.MultipleChoice="multiple_choice",e.SingleChoice="single_choice",e.Rating="rating",e.Link="link"}(sv||(sv={})),function(e){e.NextQuestion="next_question",e.End="end",e.ResponseBased="response_based",e.SpecificQuestion="specific_question"}(to||(to={}));class MP{constructor(){ze(this,"events",{}),this.events={}}on(t,n){return this.events[t]||(this.events[t]=[]),this.events[t].push(n),()=>{this.events[t]=this.events[t].filter(r=>r!==n)}}emit(t,n){for(var r of this.events[t]||[])r(n);for(var i of this.events["*"]||[])i(t,n)}}class mc{constructor(t){ze(this,"_debugEventEmitter",new MP),ze(this,"checkStep",(n,r)=>this.checkStepEvent(n,r)&&this.checkStepUrl(n,r)&&this.checkStepElement(n,r)),ze(this,"checkStepEvent",(n,r)=>r==null||!r.event||(n==null?void 0:n.event)===(r==null?void 0:r.event)),this.instance=t,this.actionEvents=new Set,this.actionRegistry=new Set}init(){var t;if(!et((t=this.instance)===null||t===void 0?void 0:t._addCaptureHook)){var n;(n=this.instance)===null||n===void 0||n._addCaptureHook((r,i)=>{this.on(r,i)})}}register(t){var n,r;if(!et((n=this.instance)===null||n===void 0?void 0:n._addCaptureHook)&&(t.forEach(l=>{var c,d;(c=this.actionRegistry)===null||c===void 0||c.add(l),(d=l.steps)===null||d===void 0||d.forEach(u=>{var h;(h=this.actionEvents)===null||h===void 0||h.add((u==null?void 0:u.event)||"")})}),(r=this.instance)!==null&&r!==void 0&&r.autocapture)){var i,s=new Set;t.forEach(l=>{var c;(c=l.steps)===null||c===void 0||c.forEach(d=>{d!=null&&d.selector&&s.add(d==null?void 0:d.selector)})}),(i=this.instance)===null||i===void 0||i.autocapture.setElementSelectors(s)}}on(t,n){var r;n!=null&&t.length!=0&&(this.actionEvents.has(t)||this.actionEvents.has(n==null?void 0:n.event))&&this.actionRegistry&&((r=this.actionRegistry)===null||r===void 0?void 0:r.size)>0&&this.actionRegistry.forEach(i=>{this.checkAction(n,i)&&this._debugEventEmitter.emit("actionCaptured",i.name)})}_addActionHook(t){this.onAction("actionCaptured",n=>t(n))}checkAction(t,n){if((n==null?void 0:n.steps)==null)return!1;for(var r of n.steps)if(this.checkStep(t,r))return!0;return!1}onAction(t,n){return this._debugEventEmitter.on(t,n)}checkStepUrl(t,n){if(n!=null&&n.url){var r,i=t==null||(r=t.properties)===null||r===void 0?void 0:r.$current_url;if(!i||typeof i!="string"||!mc.matchString(i,n==null?void 0:n.url,(n==null?void 0:n.url_matching)||"contains"))return!1}return!0}static matchString(t,n,r){switch(r){case"regex":return!!fe&&Vd(t,n);case"exact":return n===t;case"contains":var i=mc.escapeStringRegexp(n).replace(/_/g,".").replace(/%/g,".*");return Vd(t,i);default:return!1}}static escapeStringRegexp(t){return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}checkStepElement(t,n){if((n!=null&&n.href||n!=null&&n.tag_name||n!=null&&n.text)&&!this.getElementsList(t).some(s=>!(n!=null&&n.href&&!mc.matchString(s.href||"",n==null?void 0:n.href,(n==null?void 0:n.href_matching)||"exact"))&&(n==null||!n.tag_name||s.tag_name===(n==null?void 0:n.tag_name))&&!(n!=null&&n.text&&!mc.matchString(s.text||"",n==null?void 0:n.text,(n==null?void 0:n.text_matching)||"exact")&&!mc.matchString(s.$el_text||"",n==null?void 0:n.text,(n==null?void 0:n.text_matching)||"exact"))))return!1;if(n!=null&&n.selector){var r,i=t==null||(r=t.properties)===null||r===void 0?void 0:r.$element_selectors;if(!i||!i.includes(n==null?void 0:n.selector))return!1}return!0}getElementsList(t){return(t==null?void 0:t.properties.$elements)==null?[]:t==null?void 0:t.properties.$elements}}class pp{constructor(t){this.instance=t,this.eventToSurveys=new Map,this.actionToSurveys=new Map}register(t){var n;et((n=this.instance)===null||n===void 0?void 0:n._addCaptureHook)||(this.setupEventBasedSurveys(t),this.setupActionBasedSurveys(t))}setupActionBasedSurveys(t){var n=t.filter(r=>{var i,s,l,c;return((i=r.conditions)===null||i===void 0?void 0:i.actions)&&((s=r.conditions)===null||s===void 0||(l=s.actions)===null||l===void 0||(c=l.values)===null||c===void 0?void 0:c.length)>0});n.length!==0&&(this.actionMatcher==null&&(this.actionMatcher=new mc(this.instance),this.actionMatcher.init(),this.actionMatcher._addActionHook(r=>{this.onAction(r)})),n.forEach(r=>{var i,s,l,c,d,u,h,p,v,y;r.conditions&&(i=r.conditions)!==null&&i!==void 0&&i.actions&&(s=r.conditions)!==null&&s!==void 0&&(l=s.actions)!==null&&l!==void 0&&l.values&&((c=r.conditions)===null||c===void 0||(d=c.actions)===null||d===void 0||(u=d.values)===null||u===void 0?void 0:u.length)>0&&((h=this.actionMatcher)===null||h===void 0||h.register(r.conditions.actions.values),(p=r.conditions)===null||p===void 0||(v=p.actions)===null||v===void 0||(y=v.values)===null||y===void 0||y.forEach(b=>{if(b&&b.name){var _=this.actionToSurveys.get(b.name);_&&_.push(r.id),this.actionToSurveys.set(b.name,_||[r.id])}}))}))}setupEventBasedSurveys(t){var n;t.filter(r=>{var i,s,l,c;return((i=r.conditions)===null||i===void 0?void 0:i.events)&&((s=r.conditions)===null||s===void 0||(l=s.events)===null||l===void 0||(c=l.values)===null||c===void 0?void 0:c.length)>0}).length!==0&&((n=this.instance)===null||n===void 0||n._addCaptureHook((r,i)=>{this.onEvent(r,i)}),t.forEach(r=>{var i,s,l;(i=r.conditions)===null||i===void 0||(s=i.events)===null||s===void 0||(l=s.values)===null||l===void 0||l.forEach(c=>{if(c&&c.name){var d=this.eventToSurveys.get(c.name);d&&d.push(r.id),this.eventToSurveys.set(c.name,d||[r.id])}})}))}onEvent(t,n){var r,i,s=((r=this.instance)===null||r===void 0||(i=r.persistence)===null||i===void 0?void 0:i.props[gm])||[];if(pp.SURVEY_SHOWN_EVENT_NAME==t&&n&&s.length>0){var l,c=n==null||(l=n.properties)===null||l===void 0?void 0:l.$survey_id;if(c){var d=s.indexOf(c);d>=0&&(s.splice(d,1),this._updateActivatedSurveys(s))}}else this.eventToSurveys.has(t)&&this._updateActivatedSurveys(s.concat(this.eventToSurveys.get(t)||[]))}onAction(t){var n,r,i=((n=this.instance)===null||n===void 0||(r=n.persistence)===null||r===void 0?void 0:r.props[gm])||[];this.actionToSurveys.has(t)&&this._updateActivatedSurveys(i.concat(this.actionToSurveys.get(t)||[]))}_updateActivatedSurveys(t){var n,r;(n=this.instance)===null||n===void 0||(r=n.persistence)===null||r===void 0||r.register({[gm]:[...new Set(t)]})}getSurveys(){var t,n,r=(t=this.instance)===null||t===void 0||(n=t.persistence)===null||n===void 0?void 0:n.props[gm];return r||[]}getEventToSurveys(){return this.eventToSurveys}_getActionMatcher(){return this.actionMatcher}}ze(pp,"SURVEY_SHOWN_EVENT_NAME","survey shown");var RP,cr,IP,vc,RM,OP,vS,jP,yS={},PP=[],kz=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,dw=Array.isArray;function ml(e,t){for(var n in t)e[n]=t[n];return e}function VP(e){var t=e.parentNode;t&&t.removeChild(e)}function f1(e,t,n,r,i){var s={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:i??++IP,__i:-1,__u:0};return i==null&&cr.vnode!=null&&cr.vnode(s),s}function fw(e){return e.children}function y0(e,t){this.props=e,this.context=t}function Ld(e,t){if(t==null)return e.__?Ld(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?Ld(e):null}function DP(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return DP(e)}}function AS(e){(!e.__d&&(e.__d=!0)&&vc.push(e)&&!ov.__r++||RM!==cr.debounceRendering)&&((RM=cr.debounceRendering)||OP)(ov)}function ov(){var e,t,n,r,i,s,l,c,d;for(vc.sort(vS);e=vc.shift();)e.__d&&(t=vc.length,r=void 0,s=(i=(n=e).__v).__e,c=[],d=[],(l=n.__P)&&((r=ml({},i)).__v=i.__v+1,cr.vnode&&cr.vnode(r),LP(l,r,i,n.__n,l.ownerSVGElement!==void 0,32&i.__u?[s]:null,c,s??Ld(i),!!(32&i.__u),d),r.__.__k[r.__i]=r,Iz(c,r,d),r.__e!=s&&DP(r)),vc.length>t&&vc.sort(vS));ov.__r=0}function BP(e,t,n,r,i,s,l,c,d,u,h){var p,v,y,b,_,w=r&&r.__k||PP,T=t.length;for(n.__d=d,Mz(n,t,w),d=n.__d,p=0;p<T;p++)(y=n.__k[p])!=null&&typeof y!="boolean"&&typeof y!="function"&&(v=y.__i===-1?yS:w[y.__i]||yS,y.__i=p,LP(e,y,v,i,s,l,c,d,u,h),b=y.__e,y.ref&&v.ref!=y.ref&&(v.ref&&hw(v.ref,null,y),h.push(y.ref,y.__c||b,y)),_==null&&b!=null&&(_=b),65536&y.__u||v.__k===y.__k?d=NP(y,d,e):typeof y.type=="function"&&y.__d!==void 0?d=y.__d:b&&(d=b.nextSibling),y.__d=void 0,y.__u&=-196609);n.__d=d,n.__e=_}function Mz(e,t,n){var r,i,s,l,c,d=t.length,u=n.length,h=u,p=0;for(e.__k=[],r=0;r<d;r++)(i=e.__k[r]=(i=t[r])==null||typeof i=="boolean"||typeof i=="function"?null:typeof i=="string"||typeof i=="number"||typeof i=="bigint"||i.constructor==String?f1(null,i,null,null,i):dw(i)?f1(fw,{children:i},null,null,null):i.constructor===void 0&&i.__b>0?f1(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i)!=null?(i.__=e,i.__b=e.__b+1,c=Rz(i,n,l=r+p,h),i.__i=c,s=null,c!==-1&&(h--,(s=n[c])&&(s.__u|=131072)),s==null||s.__v===null?(c==-1&&p--,typeof i.type!="function"&&(i.__u|=65536)):c!==l&&(c===l+1?p++:c>l?h>d-l?p+=c-l:p--:p=c<l&&c==l-1?c-l:0,c!==r+p&&(i.__u|=65536))):(s=n[r])&&s.key==null&&s.__e&&(s.__e==e.__d&&(e.__d=Ld(s)),bS(s,s,!1),n[r]=null,h--);if(h)for(r=0;r<u;r++)(s=n[r])!=null&&!(131072&s.__u)&&(s.__e==e.__d&&(e.__d=Ld(s)),bS(s,s))}function NP(e,t,n){var r,i;if(typeof e.type=="function"){for(r=e.__k,i=0;r&&i<r.length;i++)r[i]&&(r[i].__=e,t=NP(r[i],t,n));return t}return e.__e!=t&&(n.insertBefore(e.__e,t||null),t=e.__e),t&&t.nextSibling}function Rz(e,t,n,r){var i=e.key,s=e.type,l=n-1,c=n+1,d=t[n];if(d===null||d&&i==d.key&&s===d.type)return n;if(r>(d!=null&&!(131072&d.__u)?1:0))for(;l>=0||c<t.length;){if(l>=0){if((d=t[l])&&!(131072&d.__u)&&i==d.key&&s===d.type)return l;l--}if(c<t.length){if((d=t[c])&&!(131072&d.__u)&&i==d.key&&s===d.type)return c;c++}}return-1}function IM(e,t,n){t[0]==="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||kz.test(t)?n:n+"px"}function Sm(e,t,n,r,i){var s;e:if(t==="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof r=="string"&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||IM(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||IM(e.style,t,n[t])}else if(t[0]==="o"&&t[1]==="n")s=t!==(t=t.replace(/(PointerCapture)$|Capture$/,"$1")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+s]=n,n?r?n.u=r.u:(n.u=Date.now(),e.addEventListener(t,s?jM:OM,s)):e.removeEventListener(t,s?jM:OM,s);else{if(i)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!=="width"&&t!=="height"&&t!=="href"&&t!=="list"&&t!=="form"&&t!=="tabIndex"&&t!=="download"&&t!=="rowSpan"&&t!=="colSpan"&&t!=="role"&&t in e)try{e[t]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&t[4]!=="-"?e.removeAttribute(t):e.setAttribute(t,n))}}function OM(e){var t=this.l[e.type+!1];if(e.t){if(e.t<=t.u)return}else e.t=Date.now();return t(cr.event?cr.event(e):e)}function jM(e){return this.l[e.type+!0](cr.event?cr.event(e):e)}function LP(e,t,n,r,i,s,l,c,d,u){var h,p,v,y,b,_,w,T,k,R,M,E,O,j,D,P=t.type;if(t.constructor!==void 0)return null;128&n.__u&&(d=!!(32&n.__u),s=[c=t.__e=n.__e]),(h=cr.__b)&&h(t);e:if(typeof P=="function")try{if(T=t.props,k=(h=P.contextType)&&r[h.__c],R=h?k?k.props.value:h.__:r,n.__c?w=(p=t.__c=n.__c).__=p.__E:("prototype"in P&&P.prototype.render?t.__c=p=new P(T,R):(t.__c=p=new y0(T,R),p.constructor=P,p.render=jz),k&&k.sub(p),p.props=T,p.state||(p.state={}),p.context=R,p.__n=r,v=p.__d=!0,p.__h=[],p._sb=[]),p.__s==null&&(p.__s=p.state),P.getDerivedStateFromProps!=null&&(p.__s==p.state&&(p.__s=ml({},p.__s)),ml(p.__s,P.getDerivedStateFromProps(T,p.__s))),y=p.props,b=p.state,p.__v=t,v)P.getDerivedStateFromProps==null&&p.componentWillMount!=null&&p.componentWillMount(),p.componentDidMount!=null&&p.__h.push(p.componentDidMount);else{if(P.getDerivedStateFromProps==null&&T!==y&&p.componentWillReceiveProps!=null&&p.componentWillReceiveProps(T,R),!p.__e&&(p.shouldComponentUpdate!=null&&p.shouldComponentUpdate(T,p.__s,R)===!1||t.__v===n.__v)){for(t.__v!==n.__v&&(p.props=T,p.state=p.__s,p.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.forEach(function(C){C&&(C.__=t)}),M=0;M<p._sb.length;M++)p.__h.push(p._sb[M]);p._sb=[],p.__h.length&&l.push(p);break e}p.componentWillUpdate!=null&&p.componentWillUpdate(T,p.__s,R),p.componentDidUpdate!=null&&p.__h.push(function(){p.componentDidUpdate(y,b,_)})}if(p.context=R,p.props=T,p.__P=e,p.__e=!1,E=cr.__r,O=0,"prototype"in P&&P.prototype.render){for(p.state=p.__s,p.__d=!1,E&&E(t),h=p.render(p.props,p.state,p.context),j=0;j<p._sb.length;j++)p.__h.push(p._sb[j]);p._sb=[]}else do p.__d=!1,E&&E(t),h=p.render(p.props,p.state,p.context),p.state=p.__s;while(p.__d&&++O<25);p.state=p.__s,p.getChildContext!=null&&(r=ml(ml({},r),p.getChildContext())),v||p.getSnapshotBeforeUpdate==null||(_=p.getSnapshotBeforeUpdate(y,b)),BP(e,dw(D=h!=null&&h.type===fw&&h.key==null?h.props.children:h)?D:[D],t,n,r,i,s,l,c,d,u),p.base=t.__e,t.__u&=-161,p.__h.length&&l.push(p),w&&(p.__E=p.__=null)}catch(C){t.__v=null,d||s!=null?(t.__e=c,t.__u|=d?160:32,s[s.indexOf(c)]=null):(t.__e=n.__e,t.__k=n.__k),cr.__e(C,t,n)}else s==null&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=Oz(n.__e,t,n,r,i,s,l,d,u);(h=cr.diffed)&&h(t)}function Iz(e,t,n){t.__d=void 0;for(var r=0;r<n.length;r++)hw(n[r],n[++r],n[++r]);cr.__c&&cr.__c(t,e),e.some(function(i){try{e=i.__h,i.__h=[],e.some(function(s){s.call(i)})}catch(s){cr.__e(s,i.__v)}})}function Oz(e,t,n,r,i,s,l,c,d){var u,h,p,v,y,b,_,w=n.props,T=t.props,k=t.type;if(k==="svg"&&(i=!0),s!=null){for(u=0;u<s.length;u++)if((y=s[u])&&"setAttribute"in y==!!k&&(k?y.localName===k:y.nodeType===3)){e=y,s[u]=null;break}}if(e==null){if(k===null)return document.createTextNode(T);e=i?document.createElementNS("http://www.w3.org/2000/svg",k):document.createElement(k,T.is&&T),s=null,c=!1}if(k===null)w===T||c&&e.data===T||(e.data=T);else{if(s=s&&RP.call(e.childNodes),w=n.props||yS,!c&&s!=null)for(w={},u=0;u<e.attributes.length;u++)w[(y=e.attributes[u]).name]=y.value;for(u in w)y=w[u],u=="children"||(u=="dangerouslySetInnerHTML"?p=y:u==="key"||u in T||Sm(e,u,null,y,i));for(u in T)y=T[u],u=="children"?v=y:u=="dangerouslySetInnerHTML"?h=y:u=="value"?b=y:u=="checked"?_=y:u==="key"||c&&typeof y!="function"||w[u]===y||Sm(e,u,y,w[u],i);if(h)c||p&&(h.__html===p.__html||h.__html===e.innerHTML)||(e.innerHTML=h.__html),t.__k=[];else if(p&&(e.innerHTML=""),BP(e,dw(v)?v:[v],t,n,r,i&&k!=="foreignObject",s,l,s?s[0]:n.__k&&Ld(n,0),c,d),s!=null)for(u=s.length;u--;)s[u]!=null&&VP(s[u]);c||(u="value",b!==void 0&&(b!==e[u]||k==="progress"&&!b||k==="option"&&b!==w[u])&&Sm(e,u,b,w[u],!1),u="checked",_!==void 0&&_!==e[u]&&Sm(e,u,_,w[u],!1))}return e}function hw(e,t,n){try{typeof e=="function"?e(t):e.current=t}catch(r){cr.__e(r,n)}}function bS(e,t,n){var r,i;if(cr.unmount&&cr.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||hw(r,null,t)),(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(s){cr.__e(s,t)}r.base=r.__P=null,e.__c=void 0}if(r=e.__k)for(i=0;i<r.length;i++)r[i]&&bS(r[i],t,n||typeof e.type!="function");n||e.__e==null||VP(e.__e),e.__=e.__e=e.__d=void 0}function jz(e,t,n){return this.constructor(e,n)}RP=PP.slice,cr={__e:function(e,t,n,r){for(var i,s,l;t=t.__;)if((i=t.__c)&&!i.__)try{if((s=i.constructor)&&s.getDerivedStateFromError!=null&&(i.setState(s.getDerivedStateFromError(e)),l=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(e,r||{}),l=i.__d),l)return i.__E=i}catch(c){e=c}throw e}},IP=0,y0.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=ml({},this.state),typeof e=="function"&&(e=e(ml({},n),this.props)),e&&ml(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),AS(this))},y0.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),AS(this))},y0.prototype.render=fw,vc=[],OP=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,vS=function(e,t){return e.__v.__b-t.__v.__b},ov.__r=0,jP=0;(function(e,t){var n={__c:t="__cC"+jP++,__:e,Consumer:function(r,i){return r.children(i)},Provider:function(r){var i,s;return this.getChildContext||(i=[],(s={})[t]=this,this.getChildContext=function(){return s},this.shouldComponentUpdate=function(l){this.props.value!==l.value&&i.some(function(c){c.__e=!0,AS(c)})},this.sub=function(l){i.push(l);var c=l.componentWillUnmount;l.componentWillUnmount=function(){i.splice(i.indexOf(l),1),c&&c.call(l)}}),r.children}};n.Provider.__=n.Consumer.contextType=n})({isPreviewMode:!1,previewPageIndex:0,handleCloseSurveyPopup:()=>{},isPopup:!0});var Sh="[Surveys]",Pz={icontains:e=>!!fe&&fe.location.href.toLowerCase().indexOf(e.toLowerCase())>-1,not_icontains:e=>!!fe&&fe.location.href.toLowerCase().indexOf(e.toLowerCase())===-1,regex:e=>!!fe&&Vd(fe.location.href,e),not_regex:e=>!!fe&&!Vd(fe.location.href,e),exact:e=>(fe==null?void 0:fe.location.href)===e,is_not:e=>(fe==null?void 0:fe.location.href)!==e};class Vz{constructor(t){this.instance=t,this._surveyEventReceiver=null}afterDecideResponse(t){this._decideServerResponse=!!t.surveys,this.loadIfEnabled()}reset(){localStorage.removeItem("lastSeenSurveyDate");var t=(()=>{for(var n=[],r=0;r<localStorage.length;r++){var i=localStorage.key(r);i!=null&&i.startsWith("seenSurvey_")&&n.push(i)}return n})();t.forEach(n=>localStorage.removeItem(n))}loadIfEnabled(){var t,n,r,i=Tt==null||(t=Tt.__PosthogExtensions__)===null||t===void 0?void 0:t.generateSurveys;this.instance.config.disable_surveys||!this._decideServerResponse||i||(this._surveyEventReceiver==null&&(this._surveyEventReceiver=new pp(this.instance)),(n=Tt.__PosthogExtensions__)===null||n===void 0||(r=n.loadExternalDependency)===null||r===void 0||r.call(n,this.instance,"surveys",s=>{var l,c;if(s)return xe.error(Sh,"Could not load surveys script",s);this._surveyManager=(l=Tt.__PosthogExtensions__)===null||l===void 0||(c=l.generateSurveys)===null||c===void 0?void 0:c.call(l,this.instance)}))}getSurveys(t){var n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(this.instance.config.disable_surveys)return t([]);this._surveyEventReceiver==null&&(this._surveyEventReceiver=new pp(this.instance));var r=this.instance.get_property(Z_);if(r&&!n)return t(r);this.instance._send_request({url:this.instance.requestRouter.endpointFor("api","/api/surveys/?token=".concat(this.instance.config.token)),method:"GET",transport:"XHR",callback:i=>{var s;if(i.statusCode!==200||!i.json)return t([]);var l,c=i.json.surveys||[],d=c.filter(u=>{var h,p,v,y,b,_,w,T,k,R,M,E;return((h=u.conditions)===null||h===void 0?void 0:h.events)&&((p=u.conditions)===null||p===void 0||(v=p.events)===null||v===void 0?void 0:v.values)&&((y=u.conditions)===null||y===void 0||(b=y.events)===null||b===void 0||(_=b.values)===null||_===void 0?void 0:_.length)>0||((w=u.conditions)===null||w===void 0?void 0:w.actions)&&((T=u.conditions)===null||T===void 0||(k=T.actions)===null||k===void 0?void 0:k.values)&&((R=u.conditions)===null||R===void 0||(M=R.actions)===null||M===void 0||(E=M.values)===null||E===void 0?void 0:E.length)>0});return d.length>0&&((l=this._surveyEventReceiver)===null||l===void 0||l.register(d)),(s=this.instance.persistence)===null||s===void 0||s.register({[Z_]:c}),t(c)}})}getActiveMatchingSurveys(t){var n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.getSurveys(r=>{var i,s=r.filter(d=>!(!d.start_date||d.end_date)).filter(d=>{var u,h,p,v;if(!d.conditions)return!0;var y=(u=d.conditions)===null||u===void 0||!u.url||Pz[(h=(p=d.conditions)===null||p===void 0?void 0:p.urlMatchType)!==null&&h!==void 0?h:"icontains"](d.conditions.url),b=(v=d.conditions)===null||v===void 0||!v.selector||(He==null?void 0:He.querySelector(d.conditions.selector));return y&&b}),l=(i=this._surveyEventReceiver)===null||i===void 0?void 0:i.getSurveys(),c=s.filter(d=>{var u,h,p,v,y,b,_,w,T,k,R;if(!(d.linked_flag_key||d.targeting_flag_key||d.internal_targeting_flag_key||(u=d.feature_flag_keys)!==null&&u!==void 0&&u.length))return!0;var M=!d.linked_flag_key||this.instance.featureFlags.isFeatureEnabled(d.linked_flag_key),E=!d.targeting_flag_key||this.instance.featureFlags.isFeatureEnabled(d.targeting_flag_key),O=((h=d.conditions)===null||h===void 0?void 0:h.events)&&((p=d.conditions)===null||p===void 0||(v=p.events)===null||v===void 0?void 0:v.values)&&((y=d.conditions)===null||y===void 0||(b=y.events)===null||b===void 0?void 0:b.values.length)>0,j=((_=d.conditions)===null||_===void 0?void 0:_.actions)&&((w=d.conditions)===null||w===void 0||(T=w.actions)===null||T===void 0?void 0:T.values)&&((k=d.conditions)===null||k===void 0||(R=k.actions)===null||R===void 0?void 0:R.values.length)>0,D=!O&&!j||(l==null?void 0:l.includes(d.id)),P=this._canActivateRepeatedly(d),C=!(d.internal_targeting_flag_key&&!P)||this.instance.featureFlags.isFeatureEnabled(d.internal_targeting_flag_key),N=this.checkFlags(d);return M&&E&&C&&D&&N});return t(c)},n)}checkFlags(t){var n;return(n=t.feature_flag_keys)===null||n===void 0||!n.length||t.feature_flag_keys.every(r=>{var{key:i,value:s}=r;return!i||!s||this.instance.featureFlags.isFeatureEnabled(s)})}getNextSurveyStep(t,n,r){var i,s=t.questions[n],l=n+1;if((i=s.branching)===null||i===void 0||!i.type)return n===t.questions.length-1?to.End:l;if(s.branching.type===to.End)return to.End;if(s.branching.type===to.SpecificQuestion){if(Number.isInteger(s.branching.index))return s.branching.index}else if(s.branching.type===to.ResponseBased){if(s.type===sv.SingleChoice){var c,d,u=s.choices.indexOf("".concat(r));if((c=s.branching)!==null&&c!==void 0&&(d=c.responseValues)!==null&&d!==void 0&&d.hasOwnProperty(u)){var h=s.branching.responseValues[u];return Number.isInteger(h)?h:h===to.End?to.End:l}}else if(s.type===sv.Rating){var p,v;if(typeof r!="number"||!Number.isInteger(r))throw new Error("The response type must be an integer");var y=function(_,w){if(w===3){if(_<1||_>3)throw new Error("The response must be in range 1-3");return _===1?"negative":_===2?"neutral":"positive"}if(w===5){if(_<1||_>5)throw new Error("The response must be in range 1-5");return _<=2?"negative":_===3?"neutral":"positive"}if(w===7){if(_<1||_>7)throw new Error("The response must be in range 1-7");return _<=3?"negative":_===4?"neutral":"positive"}if(w===10){if(_<0||_>10)throw new Error("The response must be in range 0-10");return _<=6?"detractors":_<=8?"passives":"promoters"}throw new Error("The scale must be one of: 3, 5, 7, 10")}(r,s.scale);if((p=s.branching)!==null&&p!==void 0&&(v=p.responseValues)!==null&&v!==void 0&&v.hasOwnProperty(y)){var b=s.branching.responseValues[y];return Number.isInteger(b)?b:b===to.End?to.End:l}}return l}return xe.warn(Sh,"Falling back to next question index due to unexpected branching type"),l}_canActivateRepeatedly(t){var n;return On((n=Tt.__PosthogExtensions__)===null||n===void 0?void 0:n.canActivateRepeatedly)?(xe.warn(Sh,"canActivateRepeatedly is not defined, must init before calling"),!1):Tt.__PosthogExtensions__.canActivateRepeatedly(t)}canRenderSurvey(t){On(this._surveyManager)?xe.warn(Sh,"canActivateRepeatedly is not defined, must init before calling"):this.getSurveys(n=>{var r=n.filter(i=>i.id===t)[0];this._surveyManager.canRenderSurvey(r)})}renderSurvey(t,n){On(this._surveyManager)?xe.warn(Sh,"canActivateRepeatedly is not defined, must init before calling"):this.getSurveys(r=>{var i=r.filter(s=>s.id===t)[0];this._surveyManager.renderSurvey(i,He==null?void 0:He.querySelector(n))})}}class Dz{constructor(t){var n,r;ze(this,"serverLimits",{}),ze(this,"lastEventRateLimited",!1),ze(this,"checkForLimiting",i=>{var s=i.text;if(s&&s.length)try{(JSON.parse(s).quota_limited||[]).forEach(l=>{xe.info("[RateLimiter] ".concat(l||"events"," is quota limited.")),this.serverLimits[l]=new Date().getTime()+6e4})}catch(l){return void xe.warn('[RateLimiter] could not rate limit - continuing. Error: "'.concat(l==null?void 0:l.message,'"'),{text:s})}}),this.instance=t,this.captureEventsPerSecond=((n=t.config.rate_limiting)===null||n===void 0?void 0:n.events_per_second)||10,this.captureEventsBurstLimit=Math.max(((r=t.config.rate_limiting)===null||r===void 0?void 0:r.events_burst_limit)||10*this.captureEventsPerSecond,this.captureEventsPerSecond),this.lastEventRateLimited=this.clientRateLimitContext(!0).isRateLimited}clientRateLimitContext(){var t,n,r,i=arguments.length>0&&arguments[0]!==void 0&&arguments[0],s=new Date().getTime(),l=(t=(n=this.instance.persistence)===null||n===void 0?void 0:n.get_property(tS))!==null&&t!==void 0?t:{tokens:this.captureEventsBurstLimit,last:s};l.tokens+=(s-l.last)/1e3*this.captureEventsPerSecond,l.last=s,l.tokens>this.captureEventsBurstLimit&&(l.tokens=this.captureEventsBurstLimit);var c=l.tokens<1;return c||i||(l.tokens=Math.max(0,l.tokens-1)),!c||this.lastEventRateLimited||i||this.instance.capture("$$client_ingestion_warning",{$$client_ingestion_warning_message:"posthog-js client rate limited. Config is set to ".concat(this.captureEventsPerSecond," events per second and ").concat(this.captureEventsBurstLimit," events burst limit.")},{skip_client_rate_limiting:!0}),this.lastEventRateLimited=c,(r=this.instance.persistence)===null||r===void 0||r.set_property(tS,l),{isRateLimited:c,remainingTokens:l.tokens}}isServerRateLimited(t){var n=this.serverLimits[t||"events"]||!1;return n!==!1&&new Date().getTime()<n}}var Bz=()=>Oe({initialPathName:(Fi==null?void 0:Fi.pathname)||"",referringDomain:lr.referringDomain()},lr.campaignParams());class Nz{constructor(t,n,r){ze(this,"_onSessionIdCallback",i=>{var s=this._getStoredProps();if(!s||s.sessionId!==i){var l={sessionId:i,props:this._sessionSourceParamGenerator()};this._persistence.register({[eS]:l})}}),this._sessionIdManager=t,this._persistence=n,this._sessionSourceParamGenerator=r||Bz,this._sessionIdManager.onSessionId(this._onSessionIdCallback)}_getStoredProps(){return this._persistence.props[eS]}getSessionProps(){var t,n=(t=this._getStoredProps())===null||t===void 0?void 0:t.props;return n?{$client_session_initial_referring_host:n.referringDomain,$client_session_initial_pathname:n.initialPathName,$client_session_initial_utm_source:n.utm_source,$client_session_initial_utm_campaign:n.utm_campaign,$client_session_initial_utm_medium:n.utm_medium,$client_session_initial_utm_content:n.utm_content,$client_session_initial_utm_term:n.utm_term}:{}}}var Lz=["ahrefsbot","ahrefssiteaudit","applebot","baiduspider","bingbot","bingpreview","bot.htm","bot.php","crawler","deepscan","duckduckbot","facebookexternal","facebookcatalog","gptbot","http://yandex.com/bots","hubspot","ia_archiver","linkedinbot","mj12bot","msnbot","nessus","petalbot","pinterest","prerender","rogerbot","screaming frog","semrushbot","sitebulb","slurp","turnitin","twitterbot","vercelbot","yahoo! slurp","yandexbot","headlesschrome","cypress","Google-HotelAdsVerifier","adsbot-google","apis-google","duplexweb-google","feedfetcher-google","google favicon","google web preview","google-read-aloud","googlebot","googleweblight","mediapartners-google","storebot-google","Bytespider;"],PM=function(e,t){if(!e)return!1;var n=e.toLowerCase();return Lz.concat(t||[]).some(r=>{var i=r.toLowerCase();return n.indexOf(i)!==-1})},FP=function(e,t){if(!e)return!1;var n=e.userAgent;if(n&&PM(n,t))return!0;try{var r=e==null?void 0:e.userAgentData;if(r!=null&&r.brands&&r.brands.some(i=>PM(i==null?void 0:i.brand,t)))return!0}catch{}return!!e.webdriver};class zP{constructor(){this.clicks=[]}isRageClick(t,n,r){var i=this.clicks[this.clicks.length-1];if(i&&Math.abs(t-i.x)+Math.abs(n-i.y)<30&&r-i.timestamp<1e3){if(this.clicks.push({x:t,y:n,timestamp:r}),this.clicks.length===3)return!0}else this.clicks=[{x:t,y:n,timestamp:r}];return!1}}var xm="[Dead Clicks]",Fz=()=>!0,zz=e=>{var t,n=!((t=e.instance.persistence)===null||t===void 0||!t.get_property(Gj)),r=e.instance.config.capture_dead_clicks;return _c(r)?r:n};class $P{get lazyLoadedDeadClicksAutocapture(){return this._lazyLoadedDeadClicksAutocapture}constructor(t,n,r){this.instance=t,this.isEnabled=n,this.onCapture=r,this.startIfEnabled()}afterDecideResponse(t){this.instance.persistence&&this.instance.persistence.register({[Gj]:t==null?void 0:t.captureDeadClicks}),this.startIfEnabled()}startIfEnabled(){this.isEnabled(this)&&this.loadScript(()=>{this.start()})}loadScript(t){var n,r,i;(n=Tt.__PosthogExtensions__)!==null&&n!==void 0&&n.initDeadClicksAutocapture&&t(),(r=Tt.__PosthogExtensions__)===null||r===void 0||(i=r.loadExternalDependency)===null||i===void 0||i.call(r,this.instance,"dead-clicks-autocapture",s=>{s?xe.error(xm+" failed to load script",s):t()})}start(){var t;if(He){if(!this._lazyLoadedDeadClicksAutocapture&&(t=Tt.__PosthogExtensions__)!==null&&t!==void 0&&t.initDeadClicksAutocapture){var n=Cr(this.instance.config.capture_dead_clicks)?this.instance.config.capture_dead_clicks:{};n.__onCapture=this.onCapture,this._lazyLoadedDeadClicksAutocapture=Tt.__PosthogExtensions__.initDeadClicksAutocapture(this.instance,n),this._lazyLoadedDeadClicksAutocapture.start(He),xe.info("".concat(xm," starting..."))}}else xe.error(xm+" `document` not found. Cannot start.")}stop(){this._lazyLoadedDeadClicksAutocapture&&(this._lazyLoadedDeadClicksAutocapture.stop(),this._lazyLoadedDeadClicksAutocapture=void 0,xe.info("".concat(xm," stopping...")))}}class $z{constructor(t){var n;ze(this,"rageclicks",new zP),ze(this,"_enabledServerSide",!1),ze(this,"_initialized",!1),ze(this,"_flushInterval",null),this.instance=t,this._enabledServerSide=!((n=this.instance.persistence)===null||n===void 0||!n.props[Q_]),fe==null||fe.addEventListener("beforeunload",()=>{this.flush()})}get flushIntervalMilliseconds(){var t=5e3;return Cr(this.instance.config.capture_heatmaps)&&this.instance.config.capture_heatmaps.flush_interval_milliseconds&&(t=this.instance.config.capture_heatmaps.flush_interval_milliseconds),t}get isEnabled(){return et(this.instance.config.capture_heatmaps)?et(this.instance.config.enable_heatmaps)?this._enabledServerSide:this.instance.config.enable_heatmaps:this.instance.config.capture_heatmaps!==!1}startIfEnabled(){if(this.isEnabled){if(this._initialized)return;xe.info("[heatmaps] starting..."),this._setupListeners(),this._flushInterval=setInterval(this.flush.bind(this),this.flushIntervalMilliseconds)}else{var t,n;clearInterval((t=this._flushInterval)!==null&&t!==void 0?t:void 0),(n=this.deadClicksCapture)===null||n===void 0||n.stop(),this.getAndClearBuffer()}}afterDecideResponse(t){var n=!!t.heatmaps;this.instance.persistence&&this.instance.persistence.register({[Q_]:n}),this._enabledServerSide=n,this.startIfEnabled()}getAndClearBuffer(){var t=this.buffer;return this.buffer=void 0,t}_onDeadClick(t){this._onClick(t.originalEvent,"deadclick")}_setupListeners(){fe&&He&&(ga(He,"click",t=>this._onClick(t||(fe==null?void 0:fe.event)),!1,!0),ga(He,"mousemove",t=>this._onMouseMove(t||(fe==null?void 0:fe.event)),!1,!0),this.deadClicksCapture=new $P(this.instance,Fz,this._onDeadClick.bind(this)),this.deadClicksCapture.startIfEnabled(),this._initialized=!0)}_getProperties(t,n){var r=this.instance.scrollManager.scrollY(),i=this.instance.scrollManager.scrollX(),s=this.instance.scrollManager.scrollElement(),l=function(c,d,u){for(var h=c;h&&Wv(h)&&!Al(h,"body");){if(h===u)return!1;if($t(d,fe==null?void 0:fe.getComputedStyle(h).position))return!0;h=pP(h)}return!1}(hP(t),["fixed","sticky"],s);return{x:t.clientX+(l?0:i),y:t.clientY+(l?0:r),target_fixed:l,type:n}}_onClick(t){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"click";if(!pM(t.target)){var i=this._getProperties(t,r);(n=this.rageclicks)!==null&&n!==void 0&&n.isRageClick(t.clientX,t.clientY,new Date().getTime())&&this._capture(Oe(Oe({},i),{},{type:"rageclick"})),this._capture(i)}}_onMouseMove(t){pM(t.target)||(clearTimeout(this._mouseMoveTimeout),this._mouseMoveTimeout=setTimeout(()=>{this._capture(this._getProperties(t,"mousemove"))},500))}_capture(t){if(fe){var n=fe.location.href;this.buffer=this.buffer||{},this.buffer[n]||(this.buffer[n]=[]),this.buffer[n].push(t)}}flush(){this.buffer&&!dd(this.buffer)&&this.instance.capture("$$heatmap",{$heatmap_data:this.getAndClearBuffer()})}}class Uz{constructor(t){ze(this,"_updateScrollData",()=>{var n,r,i,s;this.context||(this.context={});var l=this.scrollElement(),c=this.scrollY(),d=l?Math.max(0,l.scrollHeight-l.clientHeight):0,u=c+((l==null?void 0:l.clientHeight)||0),h=(l==null?void 0:l.scrollHeight)||0;this.context.lastScrollY=Math.ceil(c),this.context.maxScrollY=Math.max(c,(n=this.context.maxScrollY)!==null&&n!==void 0?n:0),this.context.maxScrollHeight=Math.max(d,(r=this.context.maxScrollHeight)!==null&&r!==void 0?r:0),this.context.lastContentY=u,this.context.maxContentY=Math.max(u,(i=this.context.maxContentY)!==null&&i!==void 0?i:0),this.context.maxContentHeight=Math.max(h,(s=this.context.maxContentHeight)!==null&&s!==void 0?s:0)}),this.instance=t}getContext(){return this.context}resetContext(){var t=this.context;return setTimeout(this._updateScrollData,0),t}startMeasuringScrollPosition(){fe==null||fe.addEventListener("scroll",this._updateScrollData,!0),fe==null||fe.addEventListener("scrollend",this._updateScrollData,!0),fe==null||fe.addEventListener("resize",this._updateScrollData)}scrollElement(){if(!this.instance.config.scroll_root_selector)return fe==null?void 0:fe.document.documentElement;var t=mr(this.instance.config.scroll_root_selector)?this.instance.config.scroll_root_selector:[this.instance.config.scroll_root_selector];for(var n of t){var r=fe==null?void 0:fe.document.querySelector(n);if(r)return r}}scrollY(){if(this.instance.config.scroll_root_selector){var t=this.scrollElement();return t&&t.scrollTop||0}return fe&&(fe.scrollY||fe.pageYOffset||fe.document.documentElement.scrollTop)||0}scrollX(){if(this.instance.config.scroll_root_selector){var t=this.scrollElement();return t&&t.scrollLeft||0}return fe&&(fe.scrollX||fe.pageXOffset||fe.document.documentElement.scrollLeft)||0}}function h1(e,t){return t.length>e?t.slice(0,e)+"...":t}function Hz(e){if(e.previousElementSibling)return e.previousElementSibling;var t=e;do t=t.previousSibling;while(t&&!Wv(t));return t}function qz(e,t,n,r){var i=e.tagName.toLowerCase(),s={tag_name:i};cS.indexOf(i)>-1&&!n&&(i.toLowerCase()==="a"||i.toLowerCase()==="button"?s.$el_text=h1(1024,yP(e)):s.$el_text=h1(1024,Qv(e)));var l=nv(e);l.length>0&&(s.classes=l.filter(function(h){return h!==""})),wn(e.attributes,function(h){var p;if((!gP(e)||["name","id","class","aria-label"].indexOf(h.name)!==-1)&&(r==null||!r.includes(h.name))&&!t&&Bd(h.value)&&(p=h.name,!fi(p)||p.substring(0,10)!=="_ngcontent"&&p.substring(0,7)!=="_nghost")){var v=h.value;h.name==="class"&&(v=lw(v).join(" ")),s["attr__"+h.name]=h1(1024,v)}});for(var c=1,d=1,u=e;u=Hz(u);)c++,u.tagName===e.tagName&&d++;return s.nth_child=c,s.nth_of_type=d,s}function Gz(e,t){for(var n,r,{e:i,maskAllElementAttributes:s,maskAllText:l,elementAttributeIgnoreList:c,elementsChainAsString:d}=t,u=[e],h=e;h.parentNode&&!Al(h,"body");)dP(h.parentNode)?(u.push(h.parentNode.host),h=h.parentNode.host):(u.push(h.parentNode),h=h.parentNode);var p,v=[],y={},b=!1,_=!1;if(wn(u,M=>{var E=uS(M);M.tagName.toLowerCase()==="a"&&(b=M.getAttribute("href"),b=E&&b&&Bd(b)&&b),$t(nv(M),"ph-no-capture")&&(_=!0),v.push(qz(M,s,l,c));var O=function(j){if(!uS(j))return{};var D={};return wn(j.attributes,function(P){if(P.name&&P.name.indexOf("data-ph-capture-attribute")===0){var C=P.name.replace("data-ph-capture-attribute-",""),N=P.value;C&&N&&Bd(N)&&(D[C]=N)}}),D}(M);Ci(y,O)}),_)return{props:{},explicitNoCapture:_};if(l||(e.tagName.toLowerCase()==="a"||e.tagName.toLowerCase()==="button"?v[0].$el_text=yP(e):v[0].$el_text=Qv(e)),b){var w,T;v[0].attr__href=b;var k=(w=_d(b))===null||w===void 0?void 0:w.host,R=fe==null||(T=fe.location)===null||T===void 0?void 0:T.host;k&&R&&k!==R&&(p=b)}return{props:Ci({$event_type:i.type,$ce_version:1},d?{}:{$elements:v},{$elements_chain:XF(v)},(n=v[0])!==null&&n!==void 0&&n.$el_text?{$el_text:(r=v[0])===null||r===void 0?void 0:r.$el_text}:{},p&&i.type==="click"?{$external_click_url:p}:{},y)}}class Yz{constructor(t){ze(this,"_initialized",!1),ze(this,"_isDisabledServerSide",null),ze(this,"rageclicks",new zP),ze(this,"_elementsChainAsString",!1),this.instance=t,this._elementSelectors=null}get config(){var t,n,r=Cr(this.instance.config.autocapture)?this.instance.config.autocapture:{};return r.url_allowlist=(t=r.url_allowlist)===null||t===void 0?void 0:t.map(i=>new RegExp(i)),r.url_ignorelist=(n=r.url_ignorelist)===null||n===void 0?void 0:n.map(i=>new RegExp(i)),r}_addDomEventHandlers(){if(this.isBrowserSupported()){if(fe&&He){var t=r=>{r=r||(fe==null?void 0:fe.event);try{this._captureEvent(r)}catch(i){xe.error("Failed to capture event",i)}},n=r=>{r=r||(fe==null?void 0:fe.event),this._captureEvent(r,r1)};ga(He,"submit",t,!1,!0),ga(He,"change",t,!1,!0),ga(He,"click",t,!1,!0),this.config.capture_copied_text&&(ga(He,"copy",n,!1,!0),ga(He,"cut",n,!1,!0))}}else xe.info("Disabling Automatic Event Collection because this browser is not supported")}startIfEnabled(){this.isEnabled&&!this._initialized&&(this._addDomEventHandlers(),this._initialized=!0)}afterDecideResponse(t){t.elementsChainAsString&&(this._elementsChainAsString=t.elementsChainAsString),this.instance.persistence&&this.instance.persistence.register({[Qk]:!!t.autocapture_opt_out}),this._isDisabledServerSide=!!t.autocapture_opt_out,this.startIfEnabled()}setElementSelectors(t){this._elementSelectors=t}getElementSelectors(t){var n,r=[];return(n=this._elementSelectors)===null||n===void 0||n.forEach(i=>{var s=He==null?void 0:He.querySelectorAll(i);s==null||s.forEach(l=>{t===l&&r.push(i)})}),r}get isEnabled(){var t,n,r=(t=this.instance.persistence)===null||t===void 0?void 0:t.props[Qk],i=this._isDisabledServerSide;if(Il(i)&&!_c(r)&&!this.instance.config.advanced_disable_decide)return!1;var s=(n=this._isDisabledServerSide)!==null&&n!==void 0?n:!!r;return!!this.instance.config.autocapture&&!s}_captureEvent(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"$autocapture";if(this.isEnabled){var r,i=hP(t);uP(i)&&(i=i.parentNode||null),n==="$autocapture"&&t.type==="click"&&t instanceof MouseEvent&&this.instance.config.rageclick&&(r=this.rageclicks)!==null&&r!==void 0&&r.isRageClick(t.clientX,t.clientY,new Date().getTime())&&this._captureEvent(t,"$rageclick");var s=n===r1;if(i&&GF(i,t,this.config,s,s?["copy","cut"]:void 0)){var{props:l,explicitNoCapture:c}=Gz(i,{e:t,maskAllElementAttributes:this.instance.config.mask_all_element_attributes,maskAllText:this.instance.config.mask_all_text,elementAttributeIgnoreList:this.config.element_attribute_ignorelist,elementsChainAsString:this._elementsChainAsString});if(c)return!1;var d=this.getElementSelectors(i);if(d&&d.length>0&&(l.$element_selectors=d),n===r1){var u,h=fP(fe==null||(u=fe.getSelection())===null||u===void 0?void 0:u.toString()),p=t.type||"clipboard";if(!h)return!1;l.$selected_content=h,l.$copy_type=p}return this.instance.capture(n,l),!0}}}isBrowserSupported(){return Ds(He==null?void 0:He.querySelectorAll)}}class Kz{constructor(t){ze(this,"_restoreXHRPatch",void 0),ze(this,"_restoreFetchPatch",void 0),ze(this,"_startCapturing",()=>{var n,r,i,s;et(this._restoreXHRPatch)&&((n=Tt.__PosthogExtensions__)===null||n===void 0||(r=n.tracingHeadersPatchFns)===null||r===void 0||r._patchXHR(this.instance.sessionManager)),et(this._restoreFetchPatch)&&((i=Tt.__PosthogExtensions__)===null||i===void 0||(s=i.tracingHeadersPatchFns)===null||s===void 0||s._patchFetch(this.instance.sessionManager))}),this.instance=t}_loadScript(t){var n,r,i;(n=Tt.__PosthogExtensions__)!==null&&n!==void 0&&n.tracingHeadersPatchFns&&t(),(r=Tt.__PosthogExtensions__)===null||r===void 0||(i=r.loadExternalDependency)===null||i===void 0||i.call(r,this.instance,"tracing-headers",s=>{if(s)return xe.error("[TRACING-HEADERS] failed to load script",s);t()})}startIfEnabledOrStop(){var t,n;this.instance.config.__add_tracing_headers?this._loadScript(this._startCapturing):((t=this._restoreXHRPatch)===null||t===void 0||t.call(this),(n=this._restoreFetchPatch)===null||n===void 0||n.call(this),this._restoreXHRPatch=void 0,this._restoreFetchPatch=void 0)}}var fl;(function(e){e[e.PENDING=-1]="PENDING",e[e.DENIED=0]="DENIED",e[e.GRANTED=1]="GRANTED"})(fl||(fl={}));class Wz{constructor(t){this.instance=t}get config(){return this.instance.config}get consent(){return this.getDnt()?fl.DENIED:this.storedConsent}isOptedOut(){return this.consent===fl.DENIED||this.consent===fl.PENDING&&this.config.opt_out_capturing_by_default}isOptedIn(){return!this.isOptedOut()}optInOut(t){this.storage.set(this.storageKey,t?1:0,this.config.cookie_expiration,this.config.cross_subdomain_cookie,this.config.secure_cookie)}reset(){this.storage.remove(this.storageKey,this.config.cross_subdomain_cookie)}get storageKey(){var{token:t,opt_out_capturing_cookie_prefix:n}=this.instance.config;return(n||"__ph_opt_in_out_")+t}get storedConsent(){var t=this.storage.get(this.storageKey);return t==="1"?fl.GRANTED:t==="0"?fl.DENIED:fl.PENDING}get storage(){if(!this._storage){var t=this.config.opt_out_capturing_persistence_type;this._storage=t==="localStorage"?Or:Aa;var n=t==="localStorage"?Aa:Or;n.get(this.storageKey)&&(this._storage.get(this.storageKey)||this.optInOut(n.get(this.storageKey)==="1"),n.remove(this.storageKey,this.config.cross_subdomain_cookie))}return this._storage}getDnt(){return!!this.config.respect_dnt&&!!zj([ss==null?void 0:ss.doNotTrack,ss==null?void 0:ss.msDoNotTrack,Tt.doNotTrack],t=>$t([!0,1,"1","yes"],t))}}var wm="[Exception Autocapture]";class Qz{constructor(t){var n;ze(this,"originalOnUnhandledRejectionHandler",void 0),ze(this,"startCapturing",()=>{var r,i,s,l;if(fe&&this.isEnabled&&!this.hasHandlers&&!this.isCapturing){var c=(r=Tt.__PosthogExtensions__)===null||r===void 0||(i=r.errorWrappingFunctions)===null||i===void 0?void 0:i.wrapOnError,d=(s=Tt.__PosthogExtensions__)===null||s===void 0||(l=s.errorWrappingFunctions)===null||l===void 0?void 0:l.wrapUnhandledRejection;if(c&&d)try{this.unwrapOnError=c(this.captureException.bind(this)),this.unwrapUnhandledRejection=d(this.captureException.bind(this))}catch(u){xe.error(wm+" failed to start",u),this.stopCapturing()}else xe.error(wm+" failed to load error wrapping functions - cannot start")}}),this.instance=t,this.remoteEnabled=!((n=this.instance.persistence)===null||n===void 0||!n.props[Xk]),this.startIfEnabled()}get isEnabled(){var t;return(t=this.remoteEnabled)!==null&&t!==void 0&&t}get isCapturing(){var t;return!(fe==null||(t=fe.onerror)===null||t===void 0||!t.__POSTHOG_INSTRUMENTED__)}get hasHandlers(){return this.originalOnUnhandledRejectionHandler||this.unwrapOnError}startIfEnabled(){this.isEnabled&&!this.isCapturing&&(xe.info(wm+" enabled, starting..."),this.loadScript(this.startCapturing))}loadScript(t){var n,r;this.hasHandlers&&t(),(n=Tt.__PosthogExtensions__)===null||n===void 0||(r=n.loadExternalDependency)===null||r===void 0||r.call(n,this.instance,"exception-autocapture",i=>{if(i)return xe.error(wm+" failed to load script",i);t()})}stopCapturing(){var t,n;(t=this.unwrapOnError)===null||t===void 0||t.call(this),(n=this.unwrapUnhandledRejection)===null||n===void 0||n.call(this)}afterDecideResponse(t){var n=t.autocaptureExceptions;this.remoteEnabled=!!n||!1,this.instance.persistence&&this.instance.persistence.register({[Xk]:this.remoteEnabled}),this.startIfEnabled()}captureException(t){var n=this.instance.requestRouter.endpointFor("ui");t.$exception_personURL="".concat(n,"/project/").concat(this.instance.config.token,"/person/").concat(this.instance.get_distinct_id()),this.instance.exceptions.sendExceptionEvent(t)}}var VM=9e5,lc="[Web Vitals]";class Xz{constructor(t){var n;ze(this,"_enabledServerSide",!1),ze(this,"_initialized",!1),ze(this,"buffer",{url:void 0,metrics:[],firstMetricTimestamp:void 0}),ze(this,"_flushToCapture",()=>{clearTimeout(this._delayedFlushTimer),this.buffer.metrics.length!==0&&(this.instance.capture("$web_vitals",this.buffer.metrics.reduce((r,i)=>Oe(Oe({},r),{},{["$web_vitals_".concat(i.name,"_event")]:Oe({},i),["$web_vitals_".concat(i.name,"_value")]:i.value}),{})),this.buffer={url:void 0,metrics:[],firstMetricTimestamp:void 0})}),ze(this,"_addToBuffer",r=>{var i,s=(i=this.instance.sessionManager)===null||i===void 0?void 0:i.checkAndGetSessionAndWindowId(!0);if(et(s))xe.error(lc+"Could not read session ID. Dropping metrics!");else{this.buffer=this.buffer||{url:void 0,metrics:[],firstMetricTimestamp:void 0};var l=this._currentURL();et(l)||(On(r==null?void 0:r.name)||On(r==null?void 0:r.value)?xe.error(lc+"Invalid metric received",r):this._maxAllowedValue&&r.value>=this._maxAllowedValue?xe.error(lc+"Ignoring metric with value >= "+this._maxAllowedValue,r):(this.buffer.url!==l&&(this._flushToCapture(),this._delayedFlushTimer=setTimeout(this._flushToCapture,this.flushToCaptureTimeoutMs)),et(this.buffer.url)&&(this.buffer.url=l),this.buffer.firstMetricTimestamp=et(this.buffer.firstMetricTimestamp)?Date.now():this.buffer.firstMetricTimestamp,r.attribution&&r.attribution.interactionTargetElement&&(r.attribution.interactionTargetElement=void 0),this.buffer.metrics.push(Oe(Oe({},r),{},{$current_url:l,$session_id:s.sessionId,$window_id:s.windowId,timestamp:Date.now()})),this.buffer.metrics.length===this.allowedMetrics.length&&this._flushToCapture()))}}),ze(this,"_startCapturing",()=>{var r,i,s,l,c=Tt.__PosthogExtensions__;et(c)||et(c.postHogWebVitalsCallbacks)||({onLCP:r,onCLS:i,onFCP:s,onINP:l}=c.postHogWebVitalsCallbacks),r&&i&&s&&l?(this.allowedMetrics.indexOf("LCP")>-1&&r(this._addToBuffer.bind(this)),this.allowedMetrics.indexOf("CLS")>-1&&i(this._addToBuffer.bind(this)),this.allowedMetrics.indexOf("FCP")>-1&&s(this._addToBuffer.bind(this)),this.allowedMetrics.indexOf("INP")>-1&&l(this._addToBuffer.bind(this)),this._initialized=!0):xe.error(lc+"web vitals callbacks not loaded - not starting")}),this.instance=t,this._enabledServerSide=!((n=this.instance.persistence)===null||n===void 0||!n.props[Jk]),this.startIfEnabled()}get allowedMetrics(){var t,n,r=Cr(this.instance.config.capture_performance)?(t=this.instance.config.capture_performance)===null||t===void 0?void 0:t.web_vitals_allowed_metrics:void 0;return et(r)?((n=this.instance.persistence)===null||n===void 0?void 0:n.props[Zk])||["CLS","FCP","INP","LCP"]:r}get flushToCaptureTimeoutMs(){return(Cr(this.instance.config.capture_performance)?this.instance.config.capture_performance.web_vitals_delayed_flush_ms:void 0)||5e3}get _maxAllowedValue(){var t=Cr(this.instance.config.capture_performance)&&rs(this.instance.config.capture_performance.__web_vitals_max_value)?this.instance.config.capture_performance.__web_vitals_max_value:VM;return 0<t&&t<=6e4?VM:t}get isEnabled(){var t=Cr(this.instance.config.capture_performance)?this.instance.config.capture_performance.web_vitals:void 0;return _c(t)?t:this._enabledServerSide}startIfEnabled(){this.isEnabled&&!this._initialized&&(xe.info(lc+" enabled, starting..."),this.loadScript(this._startCapturing))}afterDecideResponse(t){var n=Cr(t.capturePerformance)&&!!t.capturePerformance.web_vitals,r=Cr(t.capturePerformance)?t.capturePerformance.web_vitals_allowed_metrics:void 0;this.instance.persistence&&(this.instance.persistence.register({[Jk]:n}),this.instance.persistence.register({[Zk]:r})),this._enabledServerSide=n,this.startIfEnabled()}loadScript(t){var n,r,i;(n=Tt.__PosthogExtensions__)!==null&&n!==void 0&&n.postHogWebVitalsCallbacks&&t(),(r=Tt.__PosthogExtensions__)===null||r===void 0||(i=r.loadExternalDependency)===null||i===void 0||i.call(r,this.instance,"web-vitals",s=>{s?xe.error(lc+" failed to load script",s):t()})}_currentURL(){var t=fe?fe.location.href:void 0;return t||xe.error(lc+"Could not determine current URL"),t}}var Jz={icontains:(e,t)=>!!fe&&t.href.toLowerCase().indexOf(e.toLowerCase())>-1,not_icontains:(e,t)=>!!fe&&t.href.toLowerCase().indexOf(e.toLowerCase())===-1,regex:(e,t)=>!!fe&&Vd(t.href,e),not_regex:(e,t)=>!!fe&&!Vd(t.href,e),exact:(e,t)=>t.href===e,is_not:(e,t)=>t.href!==e};class Fr{constructor(t){var n=this;ze(this,"getWebExperimentsAndEvaluateDisplayLogic",function(){var r=arguments.length>0&&arguments[0]!==void 0&&arguments[0];n.getWebExperiments(i=>{Fr.logInfo("retrieved web experiments from the server"),n._flagToExperiments=new Map,i.forEach(s=>{if(s.feature_flag_key&&n._featureFlags&&n._featureFlags[s.feature_flag_key]){var l;n._flagToExperiments&&(Fr.logInfo("setting flag key ",s.feature_flag_key," to web experiment ",s),(l=n._flagToExperiments)===null||l===void 0||l.set(s.feature_flag_key,s));var c=n._featureFlags[s.feature_flag_key];c&&s.variants[c]&&n.applyTransforms(s.name,c,s.variants[c].transforms)}else if(s.variants)for(var d in s.variants){var u=s.variants[d];Fr.matchesTestVariant(u)&&n.applyTransforms(s.name,d,u.transforms)}})},r)}),this.instance=t,this.instance.onFeatureFlags&&this.instance.onFeatureFlags(r=>{this.applyFeatureFlagChanges(r)}),this._flagToExperiments=new Map}applyFeatureFlagChanges(t){On(this._flagToExperiments)||this.instance.config.disable_web_experiments||(Fr.logInfo("applying feature flags",t),t.forEach(n=>{var r;if(this._flagToExperiments&&(r=this._flagToExperiments)!==null&&r!==void 0&&r.has(n)){var i,s=this.instance.getFeatureFlag(n),l=(i=this._flagToExperiments)===null||i===void 0?void 0:i.get(n);s&&l!=null&&l.variants[s]&&this.applyTransforms(l.name,s,l.variants[s].transforms)}}))}afterDecideResponse(t){this._is_bot()?Fr.logInfo("Refusing to render web experiment since the viewer is a likely bot"):(this._featureFlags=t.featureFlags,this.loadIfEnabled(),this.previewWebExperiment())}previewWebExperiment(){var t=Fr.getWindowLocation();if(t!=null&&t.search){var n=J0(t==null?void 0:t.search,"__experiment_id"),r=J0(t==null?void 0:t.search,"__experiment_variant");n&&r&&(Fr.logInfo("previewing web experiments ".concat(n," && ").concat(r)),this.getWebExperiments(i=>{this.showPreviewWebExperiment(parseInt(n),r,i)},!1,!0))}}loadIfEnabled(){this.instance.config.disable_web_experiments||this.getWebExperimentsAndEvaluateDisplayLogic()}getWebExperiments(t,n,r){if(this.instance.config.disable_web_experiments&&!r)return t([]);var i=this.instance.get_property("$web_experiments");if(i&&!n)return t(i);this.instance._send_request({url:this.instance.requestRouter.endpointFor("api","/api/web_experiments/?token=".concat(this.instance.config.token)),method:"GET",transport:"XHR",callback:s=>{if(s.statusCode!==200||!s.json)return t([]);var l=s.json.experiments||[];return t(l)}})}showPreviewWebExperiment(t,n,r){var i=r.filter(s=>s.id===t);i&&i.length>0&&(Fr.logInfo("Previewing web experiment [".concat(i[0].name,"] with variant [").concat(n,"]")),this.applyTransforms(i[0].name,n,i[0].variants[n].transforms,!0))}static matchesTestVariant(t){return!On(t.conditions)&&Fr.matchUrlConditions(t)&&Fr.matchUTMConditions(t)}static matchUrlConditions(t){var n;if(On(t.conditions)||On((n=t.conditions)===null||n===void 0?void 0:n.url))return!0;var r,i,s,l=Fr.getWindowLocation();return!!l&&((r=t.conditions)===null||r===void 0||!r.url||Jz[(i=(s=t.conditions)===null||s===void 0?void 0:s.urlMatchType)!==null&&i!==void 0?i:"icontains"](t.conditions.url,l))}static getWindowLocation(){return fe==null?void 0:fe.location}static matchUTMConditions(t){var n;if(On(t.conditions)||On((n=t.conditions)===null||n===void 0?void 0:n.utm))return!0;var r=lr.campaignParams();if(r.utm_source){var i,s,l,c,d,u,h,p,v,y,b,_,w,T,k,R,M=(i=t.conditions)===null||i===void 0||(s=i.utm)===null||s===void 0||!s.utm_campaign||((l=t.conditions)===null||l===void 0||(c=l.utm)===null||c===void 0?void 0:c.utm_campaign)==r.utm_campaign,E=(d=t.conditions)===null||d===void 0||(u=d.utm)===null||u===void 0||!u.utm_source||((h=t.conditions)===null||h===void 0||(p=h.utm)===null||p===void 0?void 0:p.utm_source)==r.utm_source,O=(v=t.conditions)===null||v===void 0||(y=v.utm)===null||y===void 0||!y.utm_medium||((b=t.conditions)===null||b===void 0||(_=b.utm)===null||_===void 0?void 0:_.utm_medium)==r.utm_medium,j=(w=t.conditions)===null||w===void 0||(T=w.utm)===null||T===void 0||!T.utm_term||((k=t.conditions)===null||k===void 0||(R=k.utm)===null||R===void 0?void 0:R.utm_term)==r.utm_term;return M&&O&&j&&E}return!1}static logInfo(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];xe.info("[WebExperiments] ".concat(t),r)}applyTransforms(t,n,r,i){var s;this._is_bot()?Fr.logInfo("Refusing to render web experiment since the viewer is a likely bot"):n!=="control"?r.forEach(l=>{if(l.selector){var c;Fr.logInfo("applying transform of variant ".concat(n," for experiment ").concat(t," "),l);var d,u=0,h=(c=document)===null||c===void 0?void 0:c.querySelectorAll(l.selector);h==null||h.forEach(p=>{var v=p;u+=1,l.attributes&&l.attributes.forEach(y=>{switch(y.name){case"text":v.innerText=y.value;break;case"html":v.innerHTML=y.value;break;case"cssClass":v.className=y.value;break;default:v.setAttribute(y.name,y.value)}}),l.text&&(v.innerText=l.text),l.html&&(v.parentElement?v.parentElement.innerHTML=l.html:v.innerHTML=l.html),l.css&&v.setAttribute("style",l.css)}),this.instance&&this.instance.capture&&this.instance.capture("$web_experiment_applied",{$web_experiment_name:t,$web_experiment_variant:n,$web_experiment_preview:i,$web_experiment_document_url:(d=Fr.getWindowLocation())===null||d===void 0?void 0:d.href,$web_experiment_elements_modified:u})}}):(Fr.logInfo("Control variants leave the page unmodified."),this.instance&&this.instance.capture&&this.instance.capture("$web_experiment_applied",{$web_experiment_name:t,$web_experiment_preview:i,$web_experiment_variant:n,$web_experiment_document_url:(s=Fr.getWindowLocation())===null||s===void 0?void 0:s.href,$web_experiment_elements_modified:0}))}_is_bot(){return ss&&this.instance?FP(ss,this.instance.config.custom_blocked_useragents):void 0}}class Zz{constructor(t){this.instance=t}sendExceptionEvent(t){this.instance.capture("$exception",t,{_noTruncate:!0,_batchKey:"exceptionEvent"})}}var e$=["$set_once","$set"];class t${constructor(t){this.instance=t,this.enabled=!!this.instance.config.opt_in_site_apps&&!this.instance.config.advanced_disable_decide,this.missedInvocations=[],this.loaded=!1,this.appsLoading=new Set}eventCollector(t,n){if(this.enabled&&!this.loaded&&n){var r=this.globalsForEvent(n);this.missedInvocations.push(r),this.missedInvocations.length>1e3&&(this.missedInvocations=this.missedInvocations.slice(10))}}init(){var t;(t=this.instance)===null||t===void 0||t._addCaptureHook(this.eventCollector.bind(this))}globalsForEvent(t){var n,r,i,s,l,c,d;if(!t)throw new Error("Event payload is required");var u={},h=this.instance.get_property("$groups")||[],p=this.instance.get_property("$stored_group_properties")||{};for(var[v,y]of Object.entries(p))u[v]={id:h[v],type:v,properties:y};var{$set_once:b,$set:_}=t;return{event:Oe(Oe({},Hj(t,e$)),{},{properties:Oe(Oe(Oe({},t.properties),_?{$set:Oe(Oe({},(n=(r=t.properties)===null||r===void 0?void 0:r.$set)!==null&&n!==void 0?n:{}),_)}:{}),b?{$set_once:Oe(Oe({},(i=(s=t.properties)===null||s===void 0?void 0:s.$set_once)!==null&&i!==void 0?i:{}),b)}:{}),elements_chain:(l=(c=t.properties)===null||c===void 0?void 0:c.$elements_chain)!==null&&l!==void 0?l:"",distinct_id:(d=t.properties)===null||d===void 0?void 0:d.distinct_id}),person:{properties:this.instance.get_property("$stored_person_properties")},groups:u}}afterDecideResponse(t){var n=this;mr(t==null?void 0:t.siteApps)&&t.siteApps.length>0?this.enabled&&this.instance.config.opt_in_site_apps?function(){var r=()=>{n.appsLoading.size===0&&(n.loaded=!0,n.missedInvocations=[])},i=function(c,d){var u,h;n.appsLoading.add(c),Tt["__$$ph_site_app_".concat(c,"_posthog")]=n.instance,Tt["__$$ph_site_app_".concat(c,"_missed_invocations")]=()=>n.missedInvocations,Tt["__$$ph_site_app_".concat(c,"_callback")]=()=>{n.appsLoading.delete(c),r()},(u=Tt.__PosthogExtensions__)===null||u===void 0||(h=u.loadSiteApp)===null||h===void 0||h.call(u,n.instance,d,p=>{if(p)return n.appsLoading.delete(c),r(),xe.error("Error while initializing PostHog app with config id ".concat(c),p)})};for(var{id:s,url:l}of t.siteApps)i(s,l)}():t.siteApps.length>0?(xe.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.'),this.loaded=!0):this.loaded=!0:(this.loaded=!0,this.enabled=!1)}}var ep={},_S=()=>{},ad="posthog",UP=!bz&&($r==null?void 0:$r.indexOf("MSIE"))===-1&&($r==null?void 0:$r.indexOf("Mozilla"))===-1,DM=()=>{var e,t,n;return{api_host:"https://us.i.posthog.com",ui_host:null,token:"",autocapture:!0,rageclick:!0,cross_subdomain_cookie:(t=He==null?void 0:He.location,n=t==null?void 0:t.hostname,!!fi(n)&&n.split(".").slice(-2).join(".")!=="herokuapp.com"),persistence:"localStorage+cookie",persistence_name:"",loaded:_S,store_google:!0,custom_campaign_params:[],custom_blocked_useragents:[],save_referrer:!0,capture_pageview:!0,capture_pageleave:"if_capture_pageview",debug:Fi&&fi(Fi==null?void 0:Fi.search)&&Fi.search.indexOf("__posthog_debug=true")!==-1||!1,verbose:!1,cookie_expiration:365,upgrade:!1,disable_session_recording:!1,disable_persistence:!1,disable_web_experiments:!0,disable_surveys:!1,enable_recording_console_log:void 0,secure_cookie:(fe==null||(e=fe.location)===null||e===void 0?void 0:e.protocol)==="https:",ip:!0,opt_out_capturing_by_default:!1,opt_out_persistence_by_default:!1,opt_out_useragent_filter:!1,opt_out_capturing_persistence_type:"localStorage",opt_out_capturing_cookie_prefix:null,opt_in_site_apps:!1,property_denylist:[],respect_dnt:!1,sanitize_properties:null,request_headers:{},inapp_protocol:"//",inapp_link_new_window:!1,request_batching:!0,properties_string_max_length:65535,session_recording:{},mask_all_element_attributes:!1,mask_all_text:!1,advanced_disable_decide:!1,advanced_disable_feature_flags:!1,advanced_disable_feature_flags_on_first_load:!1,advanced_disable_toolbar_metrics:!1,feature_flag_request_timeout_ms:3e3,on_request_error:r=>{var i="Bad HTTP status: "+r.statusCode+" "+r.text;xe.error(i)},get_device_id:r=>r,_onCapture:_S,capture_performance:void 0,name:"posthog",bootstrap:{},disable_compression:!1,session_idle_timeout_seconds:1800,person_profiles:"identified_only",__add_tracing_headers:!1,before_send:void 0}},BM=e=>{var t={};et(e.process_person)||(t.person_profiles=e.process_person),et(e.xhr_headers)||(t.request_headers=e.xhr_headers),et(e.cookie_name)||(t.persistence_name=e.cookie_name),et(e.disable_cookie)||(t.disable_persistence=e.disable_cookie);var n=Ci({},t,e);return mr(e.property_blacklist)&&(et(e.property_denylist)?n.property_denylist=e.property_blacklist:mr(e.property_denylist)?n.property_denylist=[...e.property_blacklist,...e.property_denylist]:xe.error("Invalid value for property_denylist config: "+e.property_denylist)),n};class n${constructor(){ze(this,"__forceAllowLocalhost",!1)}get _forceAllowLocalhost(){return this.__forceAllowLocalhost}set _forceAllowLocalhost(t){xe.error("WebPerformanceObserver is deprecated and has no impact on network capture. Use `_forceAllowLocalhostNetworkCapture` on `posthog.sessionRecording`"),this.__forceAllowLocalhost=t}}class Xv{constructor(){ze(this,"webPerformance",new n$),ze(this,"version",ul.LIB_VERSION),ze(this,"_internalEventEmitter",new MP),this.config=DM(),this.decideEndpointWasHit=!1,this.SentryIntegration=Ez,this.sentryIntegration=t=>function(n,r){var i=kP(n,r);return{name:CP,processEvent:s=>i(s)}}(this,t),this.__request_queue=[],this.__loaded=!1,this.analyticsDefaultEndpoint="/e/",this._initialPageviewCaptured=!1,this._initialPersonProfilesConfig=null,this.featureFlags=new wF(this),this.toolbar=new yz(this),this.scrollManager=new Uz(this),this.pageViewManager=new Cz(this),this.surveys=new Vz(this),this.experiments=new Fr(this),this.exceptions=new Zz(this),this.rateLimiter=new Dz(this),this.requestRouter=new wz(this),this.consent=new Wz(this),this.people={set:(t,n,r)=>{var i=fi(t)?{[t]:n}:t;this.setPersonProperties(i),r==null||r({})},set_once:(t,n,r)=>{var i=fi(t)?{[t]:n}:t;this.setPersonProperties(void 0,i),r==null||r({})}},this.on("eventCaptured",t=>xe.info('send "'.concat(t==null?void 0:t.event,'"'),t))}init(t,n,r){if(r&&r!==ad){var i,s=(i=ep[r])!==null&&i!==void 0?i:new Xv;return s._init(t,n,r),ep[r]=s,ep[ad][r]=s,s}return this._init(t,n,r)}_init(t){var n,r,i,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=arguments.length>2?arguments[2]:void 0;if(et(t)||Gk(t))return xe.critical("PostHog was initialized without a token. This likely indicates a misconfiguration. Please check the first argument passed to posthog.init()"),this;if(this.__loaded)return xe.warn("You have already initialized PostHog! Re-initializing is a no-op"),this;this.__loaded=!0,this.config={},this._triggered_notifs=[],s.person_profiles&&(this._initialPersonProfilesConfig=s.person_profiles),this.set_config(Ci({},DM(),BM(s),{name:l,token:t})),this.config.on_xhr_error&&xe.error("[posthog] on_xhr_error is deprecated. Use on_request_error instead"),this.compression=s.disable_compression?void 0:so.GZipJS,this.persistence=new c1(this.config),this.sessionPersistence=this.config.persistence==="sessionStorage"||this.config.persistence==="memory"?this.persistence:new c1(Oe(Oe({},this.config),{},{persistence:"sessionStorage"}));var c=Oe({},this.persistence.props),d=Oe({},this.sessionPersistence.props);if(this._requestQueue=new Az(k=>this._send_retriable_request(k)),this._retryQueue=new Sz(this),this.__request_queue=[],this.sessionManager=new xz(this),this.sessionPropsManager=new Nz(this.sessionManager,this.persistence),new Kz(this).startIfEnabledOrStop(),this.siteApps=new t$(this),(n=this.siteApps)===null||n===void 0||n.init(),this.sessionRecording=new gz(this),this.sessionRecording.startIfEnabledOrStop(),this.config.disable_scroll_properties||this.scrollManager.startMeasuringScrollPosition(),this.autocapture=new Yz(this),this.autocapture.startIfEnabled(),this.surveys.loadIfEnabled(),this.heatmaps=new $z(this),this.heatmaps.startIfEnabled(),this.webVitalsAutocapture=new Xz(this),this.exceptionObserver=new Qz(this),this.exceptionObserver.startIfEnabled(),this.deadClicksAutocapture=new $P(this,zz),this.deadClicksAutocapture.startIfEnabled(),ul.DEBUG=ul.DEBUG||this.config.debug,ul.DEBUG&&xe.info("Starting in debug mode",{this:this,config:s,thisC:Oe({},this.config),p:c,s:d}),this._sync_opt_out_with_persistence(),((r=s.bootstrap)===null||r===void 0?void 0:r.distinctID)!==void 0){var u,h,p=this.config.get_device_id(gl()),v=(u=s.bootstrap)!==null&&u!==void 0&&u.isIdentifiedID?p:s.bootstrap.distinctID;this.persistence.set_property(ua,(h=s.bootstrap)!==null&&h!==void 0&&h.isIdentifiedID?"identified":"anonymous"),this.register({distinct_id:s.bootstrap.distinctID,$device_id:v})}if(this._hasBootstrappedFeatureFlags()){var y,b,_=Object.keys(((y=s.bootstrap)===null||y===void 0?void 0:y.featureFlags)||{}).filter(k=>{var R,M;return!((R=s.bootstrap)===null||R===void 0||(M=R.featureFlags)===null||M===void 0||!M[k])}).reduce((k,R)=>{var M,E;return k[R]=((M=s.bootstrap)===null||M===void 0||(E=M.featureFlags)===null||E===void 0?void 0:E[R])||!1,k},{}),w=Object.keys(((b=s.bootstrap)===null||b===void 0?void 0:b.featureFlagPayloads)||{}).filter(k=>_[k]).reduce((k,R)=>{var M,E,O,j;return(M=s.bootstrap)!==null&&M!==void 0&&(E=M.featureFlagPayloads)!==null&&E!==void 0&&E[R]&&(k[R]=(O=s.bootstrap)===null||O===void 0||(j=O.featureFlagPayloads)===null||j===void 0?void 0:j[R]),k},{});this.featureFlags.receivedFeatureFlags({featureFlags:_,featureFlagPayloads:w})}if(!this.get_distinct_id()){var T=this.config.get_device_id(gl());this.register_once({distinct_id:T,$device_id:T},""),this.persistence.set_property(ua,"anonymous")}return fe==null||(i=fe.addEventListener)===null||i===void 0||i.call(fe,"onpagehide"in self?"pagehide":"unload",this._handle_unload.bind(this)),this.toolbar.maybeLoadToolbar(),s.segment?Tz(this,()=>this._loaded()):this._loaded(),Ds(this.config._onCapture)&&this.config._onCapture!==_S&&(xe.warn("onCapture is deprecated. Please use `before_send` instead"),this.on("eventCaptured",k=>this.config._onCapture(k.event,k))),this}_afterDecideResponse(t){var n,r,i,s,l,c,d,u,h,p;this.compression=void 0,t.supportedCompression&&!this.config.disable_compression&&(this.compression=$t(t.supportedCompression,so.GZipJS)?so.GZipJS:$t(t.supportedCompression,so.Base64)?so.Base64:void 0),(n=t.analytics)!==null&&n!==void 0&&n.endpoint&&(this.analyticsDefaultEndpoint=t.analytics.endpoint),this.set_config({person_profiles:this._initialPersonProfilesConfig?this._initialPersonProfilesConfig:t.defaultIdentifiedOnly?"identified_only":"always"}),(r=this.siteApps)===null||r===void 0||r.afterDecideResponse(t),(i=this.sessionRecording)===null||i===void 0||i.afterDecideResponse(t),(s=this.autocapture)===null||s===void 0||s.afterDecideResponse(t),(l=this.heatmaps)===null||l===void 0||l.afterDecideResponse(t),(c=this.experiments)===null||c===void 0||c.afterDecideResponse(t),(d=this.surveys)===null||d===void 0||d.afterDecideResponse(t),(u=this.webVitalsAutocapture)===null||u===void 0||u.afterDecideResponse(t),(h=this.exceptionObserver)===null||h===void 0||h.afterDecideResponse(t),(p=this.deadClicksAutocapture)===null||p===void 0||p.afterDecideResponse(t)}_loaded(){var t=this.config.advanced_disable_decide;t||this.featureFlags.setReloadingPaused(!0);try{this.config.loaded(this)}catch(n){xe.critical("`loaded` function failed",n)}this._start_queue_if_opted_in(),this.config.capture_pageview&&setTimeout(()=>{this.consent.isOptedIn()&&this._captureInitialPageview()},1),t||(new mz(this).call(),this.featureFlags.resetRequestQueue())}_start_queue_if_opted_in(){var t;this.has_opted_out_capturing()||this.config.request_batching&&((t=this._requestQueue)===null||t===void 0||t.enable())}_dom_loaded(){this.has_opted_out_capturing()||bd(this.__request_queue,t=>this._send_retriable_request(t)),this.__request_queue=[],this._start_queue_if_opted_in()}_handle_unload(){var t,n;this.config.request_batching?(this._shouldCapturePageleave()&&this.capture("$pageleave"),(t=this._requestQueue)===null||t===void 0||t.unload(),(n=this._retryQueue)===null||n===void 0||n.unload()):this._shouldCapturePageleave()&&this.capture("$pageleave",null,{transport:"sendBeacon"})}_send_request(t){this.__loaded&&(UP?this.__request_queue.push(t):this.rateLimiter.isServerRateLimited(t.batchKey)||(t.transport=t.transport||this.config.api_transport,t.url=iv(t.url,{ip:this.config.ip?1:0}),t.headers=Oe({},this.config.request_headers),t.compression=t.compression==="best-available"?this.compression:t.compression,(n=>{var r,i,s,l=Oe({},n);l.timeout=l.timeout||6e4,l.url=iv(l.url,{_:new Date().getTime().toString(),ver:ul.LIB_VERSION,compression:l.compression});var c=(r=l.transport)!==null&&r!==void 0?r:"XHR",d=(i=(s=zj(Zh,u=>u.transport===c))===null||s===void 0?void 0:s.method)!==null&&i!==void 0?i:Zh[0].method;if(!d)throw new Error("No available transport method");d(l)})(Oe(Oe({},t),{},{callback:n=>{var r,i,s;this.rateLimiter.checkForLimiting(n),n.statusCode>=400&&((i=(s=this.config).on_request_error)===null||i===void 0||i.call(s,n)),(r=t.callback)===null||r===void 0||r.call(t,n)}}))))}_send_retriable_request(t){this._retryQueue?this._retryQueue.retriableRequest(t):this._send_request(t)}_execute_array(t){var n,r=[],i=[],s=[];bd(t,c=>{c&&(n=c[0],mr(n)?s.push(c):Ds(c)?c.call(this):mr(c)&&n==="alias"?r.push(c):mr(c)&&n.indexOf("capture")!==-1&&Ds(this[n])?s.push(c):i.push(c))});var l=function(c,d){bd(c,function(u){if(mr(u[0])){var h=d;wn(u,function(p){h=h[p[0]].apply(h,p.slice(1))})}else this[u[0]].apply(this,u.slice(1))},d)};l(r,this),l(i,this),l(s,this)}_hasBootstrappedFeatureFlags(){var t,n;return((t=this.config.bootstrap)===null||t===void 0?void 0:t.featureFlags)&&Object.keys((n=this.config.bootstrap)===null||n===void 0?void 0:n.featureFlags).length>0||!1}push(t){this._execute_array([t])}capture(t,n,r){var i;if(this.__loaded&&this.persistence&&this.sessionPersistence&&this._requestQueue){if(!this.consent.isOptedOut())if(!et(t)&&fi(t)){if(this.config.opt_out_useragent_filter||!this._is_bot()){var s=r!=null&&r.skip_client_rate_limiting?void 0:this.rateLimiter.clientRateLimitContext();if(s==null||!s.isRateLimited){this.sessionPersistence.update_search_keyword(),this.config.store_google&&this.sessionPersistence.update_campaign_params(),this.config.save_referrer&&this.sessionPersistence.update_referrer_info(),(this.config.store_google||this.config.save_referrer)&&this.persistence.set_initial_person_info();var l=new Date,c=(r==null?void 0:r.timestamp)||l,d={uuid:gl(),event:t,properties:this._calculate_event_properties(t,n||{},c)};s&&(d.properties.$lib_rate_limit_remaining_tokens=s.remainingTokens),r!=null&&r.$set&&(d.$set=r==null?void 0:r.$set);var u=this._calculate_set_once_properties(r==null?void 0:r.$set_once);u&&(d.$set_once=u),(d=vF(d,r!=null&&r._noTruncate?null:this.config.properties_string_max_length)).timestamp=c,et(r==null?void 0:r.timestamp)||(d.properties.$event_time_override_provided=!0,d.properties.$event_time_override_system_time=l);var h=Oe(Oe({},d.properties.$set),d.$set);if(dd(h)||this.setPersonPropertiesForFlags(h),!On(this.config.before_send)){var p=this._runBeforeSend(d);if(!p)return;d=p}this._internalEventEmitter.emit("eventCaptured",d);var v={method:"POST",url:(i=r==null?void 0:r._url)!==null&&i!==void 0?i:this.requestRouter.endpointFor("api",this.analyticsDefaultEndpoint),data:d,compression:"best-available",batchKey:r==null?void 0:r._batchKey};return!this.config.request_batching||r&&(r==null||!r._batchKey)||r!=null&&r.send_instantly?this._send_retriable_request(v):this._requestQueue.enqueue(v),d}xe.critical("This capture call is ignored due to client rate limiting.")}}else xe.error("No event name provided to posthog.capture")}else xe.uninitializedWarning("posthog.capture")}_addCaptureHook(t){return this.on("eventCaptured",n=>t(n.event,n))}_calculate_event_properties(t,n,r){if(r=r||new Date,!this.persistence||!this.sessionPersistence)return n;var i=this.persistence.remove_event_timer(t),s=Oe({},n);if(s.token=this.config.token,t==="$snapshot"){var l=Oe(Oe({},this.persistence.properties()),this.sessionPersistence.properties());return s.distinct_id=l.distinct_id,(!fi(s.distinct_id)&&!rs(s.distinct_id)||Gk(s.distinct_id))&&xe.error("Invalid distinct_id for replay event. This indicates a bug in your implementation"),s}var c=lr.properties();if(this.sessionManager){var{sessionId:d,windowId:u}=this.sessionManager.checkAndGetSessionAndWindowId();s.$session_id=d,s.$window_id=u}if(this.sessionRecording&&(s.$recording_status=this.sessionRecording.status),this.requestRouter.region===Sc.CUSTOM&&(s.$lib_custom_api_host=this.config.api_host),this.sessionPropsManager&&this.config.__preview_send_client_session_params&&(t==="$pageview"||t==="$pageleave"||t==="$autocapture")){var h=this.sessionPropsManager.getSessionProps();s=Ci(s,h)}if(!this.config.disable_scroll_properties){var p={};t==="$pageview"?p=this.pageViewManager.doPageView(r):t==="$pageleave"&&(p=this.pageViewManager.doPageLeave(r)),s=Ci(s,p)}if(t==="$pageview"&&He&&(s.title=He.title),!et(i)){var v=r.getTime()-i;s.$duration=parseFloat((v/1e3).toFixed(3))}$r&&this.config.opt_out_useragent_filter&&(s.$browser_type=this._is_bot()?"bot":"browser"),(s=Ci({},c,this.persistence.properties(),this.sessionPersistence.properties(),s)).$is_identified=this._isIdentified(),mr(this.config.property_denylist)?wn(this.config.property_denylist,function(_){delete s[_]}):xe.error("Invalid value for property_denylist config: "+this.config.property_denylist+" or property_blacklist config: "+this.config.property_blacklist);var y=this.config.sanitize_properties;y&&(s=y(s,t));var b=this._hasPersonProcessing();return s.$process_person_profile=b,b&&this._requirePersonProcessing("_calculate_event_properties"),s}_calculate_set_once_properties(t){if(!this.persistence||!this._hasPersonProcessing())return t;var n=Ci({},this.persistence.get_initial_props(),t||{}),r=this.config.sanitize_properties;return r&&(n=r(n,"$set_once")),dd(n)?void 0:n}register(t,n){var r;(r=this.persistence)===null||r===void 0||r.register(t,n)}register_once(t,n,r){var i;(i=this.persistence)===null||i===void 0||i.register_once(t,n,r)}register_for_session(t){var n;(n=this.sessionPersistence)===null||n===void 0||n.register(t)}unregister(t){var n;(n=this.persistence)===null||n===void 0||n.unregister(t)}unregister_for_session(t){var n;(n=this.sessionPersistence)===null||n===void 0||n.unregister(t)}_register_single(t,n){this.register({[t]:n})}getFeatureFlag(t,n){return this.featureFlags.getFeatureFlag(t,n)}getFeatureFlagPayload(t){var n=this.featureFlags.getFeatureFlagPayload(t);try{return JSON.parse(n)}catch{return n}}isFeatureEnabled(t,n){return this.featureFlags.isFeatureEnabled(t,n)}reloadFeatureFlags(){this.featureFlags.reloadFeatureFlags()}updateEarlyAccessFeatureEnrollment(t,n){this.featureFlags.updateEarlyAccessFeatureEnrollment(t,n)}getEarlyAccessFeatures(t){var n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return this.featureFlags.getEarlyAccessFeatures(t,n)}on(t,n){return this._internalEventEmitter.on(t,n)}onFeatureFlags(t){return this.featureFlags.onFeatureFlags(t)}onSessionId(t){var n,r;return(n=(r=this.sessionManager)===null||r===void 0?void 0:r.onSessionId(t))!==null&&n!==void 0?n:()=>{}}getSurveys(t){var n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.surveys.getSurveys(t,n)}getActiveMatchingSurveys(t){var n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.surveys.getActiveMatchingSurveys(t,n)}renderSurvey(t,n){this.surveys.renderSurvey(t,n)}canRenderSurvey(t){this.surveys.canRenderSurvey(t)}getNextSurveyStep(t,n,r){return this.surveys.getNextSurveyStep(t,n,r)}identify(t,n,r){if(!this.__loaded||!this.persistence)return xe.uninitializedWarning("posthog.identify");if(rs(t)&&(t=t.toString(),xe.warn("The first argument to posthog.identify was a number, but it should be a string. It has been converted to a string.")),t){if(["distinct_id","distinctid"].includes(t.toLowerCase()))xe.critical('The string "'.concat(t,'" was set in posthog.identify which indicates an error. This ID should be unique to the user and not a hardcoded string.'));else if(this._requirePersonProcessing("posthog.identify")){var i=this.get_distinct_id();if(this.register({$user_id:t}),!this.get_property("$device_id")){var s=i;this.register_once({$had_persisted_distinct_id:!0,$device_id:s},"")}t!==i&&t!==this.get_property(Lh)&&(this.unregister(Lh),this.register({distinct_id:t}));var l=(this.persistence.get_property(ua)||"anonymous")==="anonymous";t!==i&&l?(this.persistence.set_property(ua,"identified"),this.setPersonPropertiesForFlags(n||{},!1),this.capture("$identify",{distinct_id:t,$anon_distinct_id:i},{$set:n||{},$set_once:r||{}}),this.featureFlags.setAnonymousDistinctId(i)):(n||r)&&this.setPersonProperties(n,r),t!==i&&(this.reloadFeatureFlags(),this.unregister(W0))}}else xe.error("Unique user id has not been set in posthog.identify")}setPersonProperties(t,n){(t||n)&&this._requirePersonProcessing("posthog.setPersonProperties")&&(this.setPersonPropertiesForFlags(t||{}),this.capture("$set",{$set:t||{},$set_once:n||{}}))}group(t,n,r){if(t&&n){if(this._requirePersonProcessing("posthog.group")){var i=this.getGroups();i[t]!==n&&this.resetGroupPropertiesForFlags(t),this.register({$groups:Oe(Oe({},i),{},{[t]:n})}),r&&(this.capture("$groupidentify",{$group_type:t,$group_key:n,$group_set:r}),this.setGroupPropertiesForFlags({[t]:r})),i[t]===n||r||this.reloadFeatureFlags()}}else xe.error("posthog.group requires a group type and group key")}resetGroups(){this.register({$groups:{}}),this.resetGroupPropertiesForFlags(),this.reloadFeatureFlags()}setPersonPropertiesForFlags(t){var n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this._requirePersonProcessing("posthog.setPersonPropertiesForFlags")&&this.featureFlags.setPersonPropertiesForFlags(t,n)}resetPersonPropertiesForFlags(){this.featureFlags.resetPersonPropertiesForFlags()}setGroupPropertiesForFlags(t){var n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this._requirePersonProcessing("posthog.setGroupPropertiesForFlags")&&this.featureFlags.setGroupPropertiesForFlags(t,n)}resetGroupPropertiesForFlags(t){this.featureFlags.resetGroupPropertiesForFlags(t)}reset(t){var n,r,i,s,l;if(xe.info("reset"),!this.__loaded)return xe.uninitializedWarning("posthog.reset");var c=this.get_property("$device_id");this.consent.reset(),(n=this.persistence)===null||n===void 0||n.clear(),(r=this.sessionPersistence)===null||r===void 0||r.clear(),(i=this.surveys)===null||i===void 0||i.reset(),(s=this.persistence)===null||s===void 0||s.set_property(ua,"anonymous"),(l=this.sessionManager)===null||l===void 0||l.resetSessionId();var d=this.config.get_device_id(gl());this.register_once({distinct_id:d,$device_id:t?d:c},"")}get_distinct_id(){return this.get_property("distinct_id")}getGroups(){return this.get_property("$groups")||{}}get_session_id(){var t,n;return(t=(n=this.sessionManager)===null||n===void 0?void 0:n.checkAndGetSessionAndWindowId(!0).sessionId)!==null&&t!==void 0?t:""}get_session_replay_url(t){if(!this.sessionManager)return"";var{sessionId:n,sessionStartTimestamp:r}=this.sessionManager.checkAndGetSessionAndWindowId(!0),i=this.requestRouter.endpointFor("ui","/project/".concat(this.config.token,"/replay/").concat(n));if(t!=null&&t.withTimestamp&&r){var s,l=(s=t.timestampLookBack)!==null&&s!==void 0?s:10;if(!r)return i;var c=Math.max(Math.floor((new Date().getTime()-r)/1e3)-l,0);i+="?t=".concat(c)}return i}alias(t,n){return t===this.get_property(qj)?(xe.critical("Attempting to create alias for existing People user - aborting."),-2):this._requirePersonProcessing("posthog.alias")?(et(n)&&(n=this.get_distinct_id()),t!==n?(this._register_single(Lh,t),this.capture("$create_alias",{alias:t,distinct_id:n})):(xe.warn("alias matches current distinct_id - skipping api call."),this.identify(t),-1)):void 0}set_config(t){var n,r,i,s,l=Oe({},this.config);Cr(t)&&(Ci(this.config,BM(t)),(n=this.persistence)===null||n===void 0||n.update_config(this.config,l),this.sessionPersistence=this.config.persistence==="sessionStorage"||this.config.persistence==="memory"?this.persistence:new c1(Oe(Oe({},this.config),{},{persistence:"sessionStorage"})),Or.is_supported()&&Or.get("ph_debug")==="true"&&(this.config.debug=!0),this.config.debug&&(ul.DEBUG=!0,xe.info("set_config",{config:t,oldConfig:l,newConfig:Oe({},this.config)})),(r=this.sessionRecording)===null||r===void 0||r.startIfEnabledOrStop(),(i=this.autocapture)===null||i===void 0||i.startIfEnabled(),(s=this.heatmaps)===null||s===void 0||s.startIfEnabled(),this.surveys.loadIfEnabled(),this._sync_opt_out_with_persistence())}startSessionRecording(t){var n=t===!0,r={sampling:n||!(t==null||!t.sampling),linked_flag:n||!(t==null||!t.linked_flag),url_trigger:n||!(t==null||!t.url_trigger),event_trigger:n||!(t==null||!t.event_trigger)};if(Object.values(r).some(Boolean)){var i,s,l,c,d;(i=this.sessionManager)===null||i===void 0||i.checkAndGetSessionAndWindowId(),r.sampling&&((s=this.sessionRecording)===null||s===void 0||s.overrideSampling()),r.linked_flag&&((l=this.sessionRecording)===null||l===void 0||l.overrideLinkedFlag()),r.url_trigger&&((c=this.sessionRecording)===null||c===void 0||c.overrideTrigger("url")),r.event_trigger&&((d=this.sessionRecording)===null||d===void 0||d.overrideTrigger("event"))}this.set_config({disable_session_recording:!1})}stopSessionRecording(){this.set_config({disable_session_recording:!0})}sessionRecordingStarted(){var t;return!((t=this.sessionRecording)===null||t===void 0||!t.started)}captureException(t,n){var r,i=new Error("PostHog syntheticException"),s=Ds((r=Tt.__PosthogExtensions__)===null||r===void 0?void 0:r.parseErrorAsProperties)?Tt.__PosthogExtensions__.parseErrorAsProperties([t.message,void 0,void 0,void 0,t],{syntheticException:i}):Oe({$exception_level:"error",$exception_list:[{type:t.name,value:t.message,mechanism:{handled:!0,synthetic:!1}}]},n);this.exceptions.sendExceptionEvent(s)}loadToolbar(t){return this.toolbar.loadToolbar(t)}get_property(t){var n;return(n=this.persistence)===null||n===void 0?void 0:n.props[t]}getSessionProperty(t){var n;return(n=this.sessionPersistence)===null||n===void 0?void 0:n.props[t]}toString(){var t,n=(t=this.config.name)!==null&&t!==void 0?t:ad;return n!==ad&&(n=ad+"."+n),n}_isIdentified(){var t,n;return((t=this.persistence)===null||t===void 0?void 0:t.get_property(ua))==="identified"||((n=this.sessionPersistence)===null||n===void 0?void 0:n.get_property(ua))==="identified"}_hasPersonProcessing(){var t,n,r,i;return!(this.config.person_profiles==="never"||this.config.person_profiles==="identified_only"&&!this._isIdentified()&&dd(this.getGroups())&&((t=this.persistence)===null||t===void 0||(n=t.props)===null||n===void 0||!n[Lh])&&((r=this.persistence)===null||r===void 0||(i=r.props)===null||i===void 0||!i[Q0]))}_shouldCapturePageleave(){return this.config.capture_pageleave===!0||this.config.capture_pageleave==="if_capture_pageview"&&this.config.capture_pageview}createPersonProfile(){this._hasPersonProcessing()||this._requirePersonProcessing("posthog.createPersonProfile")&&this.setPersonProperties({},{})}_requirePersonProcessing(t){return this.config.person_profiles==="never"?(xe.error(t+' was called, but process_person is set to "never". This call will be ignored.'),!1):(this._register_single(Q0,!0),!0)}_sync_opt_out_with_persistence(){var t,n,r,i,s=this.consent.isOptedOut(),l=this.config.opt_out_persistence_by_default,c=this.config.disable_persistence||s&&!!l;((t=this.persistence)===null||t===void 0?void 0:t.disabled)!==c&&((r=this.persistence)===null||r===void 0||r.set_disabled(c)),((n=this.sessionPersistence)===null||n===void 0?void 0:n.disabled)!==c&&((i=this.sessionPersistence)===null||i===void 0||i.set_disabled(c))}opt_in_capturing(t){var n;this.consent.optInOut(!0),this._sync_opt_out_with_persistence(),(et(t==null?void 0:t.captureEventName)||t!=null&&t.captureEventName)&&this.capture((n=t==null?void 0:t.captureEventName)!==null&&n!==void 0?n:"$opt_in",t==null?void 0:t.captureProperties,{send_instantly:!0}),this.config.capture_pageview&&this._captureInitialPageview()}opt_out_capturing(){this.consent.optInOut(!1),this._sync_opt_out_with_persistence()}has_opted_in_capturing(){return this.consent.isOptedIn()}has_opted_out_capturing(){return this.consent.isOptedOut()}clear_opt_in_out_capturing(){this.consent.reset(),this._sync_opt_out_with_persistence()}_is_bot(){return ss?FP(ss,this.config.custom_blocked_useragents):void 0}_captureInitialPageview(){He&&!this._initialPageviewCaptured&&(this._initialPageviewCaptured=!0,this.capture("$pageview",{title:He.title},{send_instantly:!0}))}debug(t){t===!1?(fe==null||fe.console.log("You've disabled debug mode."),localStorage&&localStorage.removeItem("ph_debug"),this.set_config({debug:!1})):(fe==null||fe.console.log("You're now in debug mode. All calls to PostHog will be logged in your console.\nYou can disable this with `posthog.debug(false)`."),localStorage&&localStorage.setItem("ph_debug","true"),this.set_config({debug:!0}))}_runBeforeSend(t){if(On(this.config.before_send))return t;var n=mr(this.config.before_send)?this.config.before_send:[this.config.before_send],r=t;for(var i of n){if(r=i(r),On(r)){var s="Event '".concat(t.event,"' was rejected in beforeSend function");return SF(t.event)?xe.warn("".concat(s,". This can cause unexpected behavior.")):xe.info(s),null}r.properties&&!dd(r.properties)||xe.warn("Event '".concat(t.event,"' has no properties after beforeSend function, this is likely an error."))}return r}}(function(e,t){for(var n=0;n<t.length;n++)e.prototype[t[n]]=mF(e.prototype[t[n]])})(Xv,["identify"]);var NM,er=(NM=ep[ad]=new Xv,function(){function e(){e.done||(e.done=!0,UP=!1,wn(ep,function(t){t._dom_loaded()}))}He!=null&&He.addEventListener&&(He.readyState==="complete"?e():He.addEventListener("DOMContentLoaded",e,!1)),fe&&ga(fe,"load",e,!0)}(),NM);class Zt{constructor(t,n=!1,r=!0){this.name=t,this.track=n,this.log=r,this.subscribers=[],this.lastParams=null,this.subscribe=(i,s=!1)=>{this.unsubscribe(i),this.subscribers.push(i),s&&this.lastParams!==null&&i(...this.lastParams)},this.unsubscribe=i=>{this.subscribers=this.subscribers.filter(s=>s!==i)},this.dispatch=(...i)=>{this.log&&console.log("dispatch",this.name,...i),this.subscribers.forEach(s=>s(...i)),this.lastParams=i,this.track&&er.capture(this.name,this.track instanceof Function?this.track(...i):i)}}}const me={sectionChange:new Zt("sectionChange",!1,!1),playerAdded:new Zt("playerAdded",!1),playerRemoved:new Zt("playerRemoved",!1),songStarted:new Zt("songStarted",!1),songEnded:new Zt("songEnded",!1),remoteMicConnected:new Zt("remoteMicConnected"),remoteMicDisconnected:new Zt("remoteMicDisconnected"),playerNameChanged:new Zt("playerNameChanged"),playerInputChanged:new Zt("playerInputChanged"),inputListChanged:new Zt("inputListChanged"),karaokeConnectionStatusChange:new Zt("karaokeConnectionStatusChange"),remoteMicPlayerSet:new Zt("remoteMicPlayerSet"),remoteMicMonitoringStarted:new Zt("remoteMicMonitoringStarted"),remoteMicMonitoringStopped:new Zt("remoteMicMonitoringStopped"),micMonitoringStarted:new Zt("micMonitoringStarted"),micMonitoringStopped:new Zt("micMonitoringStopped"),playerChangeRequested:new Zt("playerChangeRequested",!0),songStatStored:new Zt("songStatStored"),songScoreUpdated:new Zt("songScoreUpdated",()=>{}),remoteMicSubscribed:new Zt("remoteMicSubscribed"),remoteKeyboardPressed:new Zt("remoteKeyboardPressed"),remoteSongSearch:new Zt("remoteSongSearch"),remoteSongSelected:new Zt("remoteSongSelected",!0),remoteMicListUpdated:new Zt("remoteMicListUpdated"),remoteMicSongListUpdated:new Zt("remoteMicSongListUpdate"),remoteKeyboardLayout:new Zt("remoteKeyboardLayout"),remoteReadinessRequested:new Zt("remoteReadinessRequested"),remoteStyleChanged:new Zt("remoteStyleChanged"),remoteMicPermissionsSet:new Zt("remoteMicPermissionsSet"),readinessConfirmed:new Zt("remoteReadinessConfirmed"),minPlayerNumberChanged:new Zt("minPlayerNumberChanged"),micServerStarted:new Zt("micServerStarted"),micServerStopped:new Zt("micServerStopped")};me.songStarted.subscribe(()=>{zi.clearData(),zi.startRecord()});me.songEnded.subscribe(()=>{zi.stopRecord()});function av(e){"@babel/helpers - typeof";return av=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},av(e)}var r$=/^\s+/,i$=/\s+$/;function ke(e,t){if(e=e||"",t=t||{},e instanceof ke)return e;if(!(this instanceof ke))return new ke(e,t);var n=s$(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}ke.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3},getLuminance:function(){var t=this.toRgb(),n,r,i,s,l,c;return n=t.r/255,r=t.g/255,i=t.b/255,n<=.03928?s=n/12.92:s=Math.pow((n+.055)/1.055,2.4),r<=.03928?l=r/12.92:l=Math.pow((r+.055)/1.055,2.4),i<=.03928?c=i/12.92:c=Math.pow((i+.055)/1.055,2.4),.2126*s+.7152*l+.0722*c},setAlpha:function(t){return this._a=HP(t),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var t=FM(this._r,this._g,this._b);return{h:t.h*360,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=FM(this._r,this._g,this._b),n=Math.round(t.h*360),r=Math.round(t.s*100),i=Math.round(t.v*100);return this._a==1?"hsv("+n+", "+r+"%, "+i+"%)":"hsva("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var t=LM(this._r,this._g,this._b);return{h:t.h*360,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=LM(this._r,this._g,this._b),n=Math.round(t.h*360),r=Math.round(t.s*100),i=Math.round(t.l*100);return this._a==1?"hsl("+n+", "+r+"%, "+i+"%)":"hsla("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHex:function(t){return zM(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return c$(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(Hn(this._r,255)*100)+"%",g:Math.round(Hn(this._g,255)*100)+"%",b:Math.round(Hn(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(Hn(this._r,255)*100)+"%, "+Math.round(Hn(this._g,255)*100)+"%, "+Math.round(Hn(this._b,255)*100)+"%)":"rgba("+Math.round(Hn(this._r,255)*100)+"%, "+Math.round(Hn(this._g,255)*100)+"%, "+Math.round(Hn(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:_$[zM(this._r,this._g,this._b,!0)]||!1},toFilter:function(t){var n="#"+$M(this._r,this._g,this._b,this._a),r=n,i=this._gradientType?"GradientType = 1, ":"";if(t){var s=ke(t);r="#"+$M(s._r,s._g,s._b,s._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+n+",endColorstr="+r+")"},toString:function(t){var n=!!t;t=t||this._format;var r=!1,i=this._a<1&&this._a>=0,s=!n&&i&&(t==="hex"||t==="hex6"||t==="hex3"||t==="hex4"||t==="hex8"||t==="name");return s?t==="name"&&this._a===0?this.toName():this.toRgbString():(t==="rgb"&&(r=this.toRgbString()),t==="prgb"&&(r=this.toPercentageRgbString()),(t==="hex"||t==="hex6")&&(r=this.toHexString()),t==="hex3"&&(r=this.toHexString(!0)),t==="hex4"&&(r=this.toHex8String(!0)),t==="hex8"&&(r=this.toHex8String()),t==="name"&&(r=this.toName()),t==="hsl"&&(r=this.toHslString()),t==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return ke(this.toString())},_applyModification:function(t,n){var r=t.apply(null,[this].concat([].slice.call(n)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(h$,arguments)},brighten:function(){return this._applyModification(p$,arguments)},darken:function(){return this._applyModification(g$,arguments)},desaturate:function(){return this._applyModification(u$,arguments)},saturate:function(){return this._applyModification(d$,arguments)},greyscale:function(){return this._applyModification(f$,arguments)},spin:function(){return this._applyModification(m$,arguments)},_applyCombination:function(t,n){return t.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination(A$,arguments)},complement:function(){return this._applyCombination(v$,arguments)},monochromatic:function(){return this._applyCombination(b$,arguments)},splitcomplement:function(){return this._applyCombination(y$,arguments)},triad:function(){return this._applyCombination(UM,[3])},tetrad:function(){return this._applyCombination(UM,[4])}};ke.fromRatio=function(e,t){if(av(e)=="object"){var n={};for(var r in e)e.hasOwnProperty(r)&&(r==="a"?n[r]=e[r]:n[r]=Uh(e[r]));e=n}return ke(e,t)};function s$(e){var t={r:0,g:0,b:0},n=1,r=null,i=null,s=null,l=!1,c=!1;return typeof e=="string"&&(e=E$(e)),av(e)=="object"&&(ia(e.r)&&ia(e.g)&&ia(e.b)?(t=o$(e.r,e.g,e.b),l=!0,c=String(e.r).substr(-1)==="%"?"prgb":"rgb"):ia(e.h)&&ia(e.s)&&ia(e.v)?(r=Uh(e.s),i=Uh(e.v),t=l$(e.h,r,i),l=!0,c="hsv"):ia(e.h)&&ia(e.s)&&ia(e.l)&&(r=Uh(e.s),s=Uh(e.l),t=a$(e.h,r,s),l=!0,c="hsl"),e.hasOwnProperty("a")&&(n=e.a)),n=HP(n),{ok:l,format:e.format||c,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}function o$(e,t,n){return{r:Hn(e,255)*255,g:Hn(t,255)*255,b:Hn(n,255)*255}}function LM(e,t,n){e=Hn(e,255),t=Hn(t,255),n=Hn(n,255);var r=Math.max(e,t,n),i=Math.min(e,t,n),s,l,c=(r+i)/2;if(r==i)s=l=0;else{var d=r-i;switch(l=c>.5?d/(2-r-i):d/(r+i),r){case e:s=(t-n)/d+(t<n?6:0);break;case t:s=(n-e)/d+2;break;case n:s=(e-t)/d+4;break}s/=6}return{h:s,s:l,l:c}}function a$(e,t,n){var r,i,s;e=Hn(e,360),t=Hn(t,100),n=Hn(n,100);function l(u,h,p){return p<0&&(p+=1),p>1&&(p-=1),p<1/6?u+(h-u)*6*p:p<1/2?h:p<2/3?u+(h-u)*(2/3-p)*6:u}if(t===0)r=i=s=n;else{var c=n<.5?n*(1+t):n+t-n*t,d=2*n-c;r=l(d,c,e+1/3),i=l(d,c,e),s=l(d,c,e-1/3)}return{r:r*255,g:i*255,b:s*255}}function FM(e,t,n){e=Hn(e,255),t=Hn(t,255),n=Hn(n,255);var r=Math.max(e,t,n),i=Math.min(e,t,n),s,l,c=r,d=r-i;if(l=r===0?0:d/r,r==i)s=0;else{switch(r){case e:s=(t-n)/d+(t<n?6:0);break;case t:s=(n-e)/d+2;break;case n:s=(e-t)/d+4;break}s/=6}return{h:s,s:l,v:c}}function l$(e,t,n){e=Hn(e,360)*6,t=Hn(t,100),n=Hn(n,100);var r=Math.floor(e),i=e-r,s=n*(1-t),l=n*(1-i*t),c=n*(1-(1-i)*t),d=r%6,u=[n,l,s,s,c,n][d],h=[c,n,n,l,s,s][d],p=[s,s,c,n,n,l][d];return{r:u*255,g:h*255,b:p*255}}function zM(e,t,n,r){var i=[ao(Math.round(e).toString(16)),ao(Math.round(t).toString(16)),ao(Math.round(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function c$(e,t,n,r,i){var s=[ao(Math.round(e).toString(16)),ao(Math.round(t).toString(16)),ao(Math.round(n).toString(16)),ao(qP(r))];return i&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)&&s[3].charAt(0)==s[3].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}function $M(e,t,n,r){var i=[ao(qP(r)),ao(Math.round(e).toString(16)),ao(Math.round(t).toString(16)),ao(Math.round(n).toString(16))];return i.join("")}ke.equals=function(e,t){return!e||!t?!1:ke(e).toRgbString()==ke(t).toRgbString()};ke.random=function(){return ke.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function u$(e,t){t=t===0?0:t||10;var n=ke(e).toHsl();return n.s-=t/100,n.s=Jv(n.s),ke(n)}function d$(e,t){t=t===0?0:t||10;var n=ke(e).toHsl();return n.s+=t/100,n.s=Jv(n.s),ke(n)}function f$(e){return ke(e).desaturate(100)}function h$(e,t){t=t===0?0:t||10;var n=ke(e).toHsl();return n.l+=t/100,n.l=Jv(n.l),ke(n)}function p$(e,t){t=t===0?0:t||10;var n=ke(e).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(t/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(t/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(t/100)))),ke(n)}function g$(e,t){t=t===0?0:t||10;var n=ke(e).toHsl();return n.l-=t/100,n.l=Jv(n.l),ke(n)}function m$(e,t){var n=ke(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,ke(n)}function v$(e){var t=ke(e).toHsl();return t.h=(t.h+180)%360,ke(t)}function UM(e,t){if(isNaN(t)||t<=0)throw new Error("Argument to polyad must be a positive number");for(var n=ke(e).toHsl(),r=[ke(e)],i=360/t,s=1;s<t;s++)r.push(ke({h:(n.h+s*i)%360,s:n.s,l:n.l}));return r}function y$(e){var t=ke(e).toHsl(),n=t.h;return[ke(e),ke({h:(n+72)%360,s:t.s,l:t.l}),ke({h:(n+216)%360,s:t.s,l:t.l})]}function A$(e,t,n){t=t||6,n=n||30;var r=ke(e).toHsl(),i=360/n,s=[ke(e)];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,s.push(ke(r));return s}function b$(e,t){t=t||6;for(var n=ke(e).toHsv(),r=n.h,i=n.s,s=n.v,l=[],c=1/t;t--;)l.push(ke({h:r,s:i,v:s})),s=(s+c)%1;return l}ke.mix=function(e,t,n){n=n===0?0:n||50;var r=ke(e).toRgb(),i=ke(t).toRgb(),s=n/100,l={r:(i.r-r.r)*s+r.r,g:(i.g-r.g)*s+r.g,b:(i.b-r.b)*s+r.b,a:(i.a-r.a)*s+r.a};return ke(l)};ke.readability=function(e,t){var n=ke(e),r=ke(t);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)};ke.isReadable=function(e,t,n){var r=ke.readability(e,t),i,s;switch(s=!1,i=T$(n),i.level+i.size){case"AAsmall":case"AAAlarge":s=r>=4.5;break;case"AAlarge":s=r>=3;break;case"AAAsmall":s=r>=7;break}return s};ke.mostReadable=function(e,t,n){var r=null,i=0,s,l,c,d;n=n||{},l=n.includeFallbackColors,c=n.level,d=n.size;for(var u=0;u<t.length;u++)s=ke.readability(e,t[u]),s>i&&(i=s,r=ke(t[u]));return ke.isReadable(e,r,{level:c,size:d})||!l?r:(n.includeFallbackColors=!1,ke.mostReadable(e,["#fff","#000"],n))};var SS=ke.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},_$=ke.hexNames=S$(SS);function S$(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function HP(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function Hn(e,t){x$(e)&&(e="100%");var n=w$(e);return e=Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function Jv(e){return Math.min(1,Math.max(0,e))}function ns(e){return parseInt(e,16)}function x$(e){return typeof e=="string"&&e.indexOf(".")!=-1&&parseFloat(e)===1}function w$(e){return typeof e=="string"&&e.indexOf("%")!=-1}function ao(e){return e.length==1?"0"+e:""+e}function Uh(e){return e<=1&&(e=e*100+"%"),e}function qP(e){return Math.round(parseFloat(e)*255).toString(16)}function HM(e){return ns(e)/255}var eo=function(){var e="[-\\+]?\\d+%?",t="[-\\+]?\\d*\\.\\d+%?",n="(?:"+t+")|(?:"+e+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function ia(e){return!!eo.CSS_UNIT.exec(e)}function E$(e){e=e.replace(r$,"").replace(i$,"").toLowerCase();var t=!1;if(SS[e])e=SS[e],t=!0;else if(e=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=eo.rgb.exec(e))?{r:n[1],g:n[2],b:n[3]}:(n=eo.rgba.exec(e))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=eo.hsl.exec(e))?{h:n[1],s:n[2],l:n[3]}:(n=eo.hsla.exec(e))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=eo.hsv.exec(e))?{h:n[1],s:n[2],v:n[3]}:(n=eo.hsva.exec(e))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=eo.hex8.exec(e))?{r:ns(n[1]),g:ns(n[2]),b:ns(n[3]),a:HM(n[4]),format:t?"name":"hex8"}:(n=eo.hex6.exec(e))?{r:ns(n[1]),g:ns(n[2]),b:ns(n[3]),format:t?"name":"hex"}:(n=eo.hex4.exec(e))?{r:ns(n[1]+""+n[1]),g:ns(n[2]+""+n[2]),b:ns(n[3]+""+n[3]),a:HM(n[4]+""+n[4]),format:t?"name":"hex8"}:(n=eo.hex3.exec(e))?{r:ns(n[1]+""+n[1]),g:ns(n[2]+""+n[2]),b:ns(n[3]+""+n[3]),format:t?"name":"hex"}:!1}function T$(e){var t,n;return e=e||{level:"AA",size:"small"},t=(e.level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),t!=="AA"&&t!=="AAA"&&(t="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:t,size:n}}ke("rgb(52, 166, 95)");ke("rgb(15, 138, 95)");ke("rgb(245, 98, 77)");ke("rgb(204, 35, 30)");const GP=ke("rgb(245, 220, 21)"),C$=ke(GP.toRgbString()).darken(15),YP=ke("rgb(255, 70, 223)"),k$=ke(YP.toRgbString()).darken(15),KP=ke("rgb(255, 119, 20)"),M$=ke(KP.toRgbString()).darken(15),WP=ke("rgb(31, 192, 223)"),R$=ke(WP.toRgbString()).darken(15),QP=ke("rgb(102, 44, 182)"),I$=ke(QP.toRgbString()).darken(15),O$=ke("rgb(0, 153, 255)"),j$=ke("rgb(0, 77, 128)"),qM=ke("rgb(255, 54, 54)"),GM=ke("rgb(117, 25, 25)"),P$=ke("rgb(255, 213, 0)"),A0=ke("rgb(255, 183, 0)"),Cs=(e,t)=>e.setAlpha(t).toRgbString(),Qr=(e,t)=>({text:Cs(e,1),stroke:Cs(t,1),star:{fill:Cs(A0,.5),stroke:Cs(A0,0),lineWidth:1},perfect:{fill:Cs(e,1),stroke:"white",lineWidth:1},starPerfect:{fill:Cs(P$,1),stroke:Cs(A0,1),lineWidth:2},hit:{fill:Cs(e,.9),stroke:Cs(t,0),lineWidth:1},miss:{fill:Cs(e,.25),stroke:Cs(t,1),lineWidth:1}}),Xe={blue:Qr(O$,j$),red:Qr(qM,GM),green:Qr(ke("rgb(0,183,0)"),ke("rgb(0,84,0)")),yellow:Qr(ke("rgb(239,209,0)"),ke("rgb(114,84,0)")),christmasGreen:Qr(ke("rgb(44,133,0)"),ke("rgb(3, 79, 27)")),christmasRed:Qr(ke("rgb(181,27,42)"),ke("rgb(126, 18, 29)")),christmasBlue:Qr(ke("rgb(87 140 190)"),ke("rgb(34 53 90)")),christmasGold:Qr(ke("rgb(206, 172, 92)"),ke("rgb(129,108,58)")),halloweenOrange:Qr(ke("#fd9702"),ke("#ff7100")),halloweenViolet:Qr(ke("#e102ff"),ke("#ae03ff")),halloweenRed:Qr(qM,GM),halloweenGreen:Qr(ke("rgb(0,183,0)"),ke("rgb(0,84,0)")),eurovisionYellow:Qr(GP,C$),eurovisionPink:Qr(YP,k$),eurovisionOrange:Qr(KP,M$),eurovisionBlue:Qr(WP,R$),eurovisionViolet:Qr(QP,I$)};let b0=[Xe.blue,Xe.red,Xe.green,Xe.yellow];const Ue={colors:{players:b0,lines:{normal:{fill:"rgba(127, 127, 127, .7)",stroke:"black",lineWidth:1},star:{fill:"rgba(158, 144, 106, 1)",stroke:Cs(A0,1),lineWidth:1},freestyle:{fill:"rgba(255, 255, 255, 0.1)",stroke:"black",lineWidth:2}},text:{active:"rgb(255, 165, 0)",default:"white",inactive:"grey"}}},YM={christmas:[Xe.christmasGreen,Xe.christmasRed,Xe.christmasBlue,Xe.christmasGold],eurovision:[Xe.eurovisionBlue,Xe.eurovisionViolet,Xe.eurovisionYellow,Xe.eurovisionPink],halloween:[Xe.halloweenOrange,Xe.halloweenViolet,Xe.halloweenRed,Xe.halloweenGreen],regular:[Xe.blue,Xe.red,Xe.green,Xe.yellow]},XP=e=>{b0[0]!==YM[e][0]&&(b0=YM[e],Ue.colors.players=b0)};function wd(e,t,n){e==null||e.send({t,...n})}var xS;try{xS=new TextDecoder}catch{}var Ne,Ps,oe=0,In={},Yt,vl,Ms=0,Co=0,Hr,ba,qi=[],Ht,KM={useRecords:!1,mapsAsObjects:!0};class JP{}const ZP=new JP;ZP.name="MessagePack 0xC1";var bl=!1,eV=2,WM;try{new Function("")}catch{eV=1/0}class gp{constructor(t){t&&(t.useRecords===!1&&t.mapsAsObjects===void 0&&(t.mapsAsObjects=!0),t.sequential&&t.trusted!==!1&&(t.trusted=!0,!t.structures&&t.useRecords!=!1&&(t.structures=[],t.maxSharedStructures||(t.maxSharedStructures=0))),t.structures?t.structures.sharedLength=t.structures.length:t.getStructures&&((t.structures=[]).uninitialized=!0,t.structures.sharedLength=0),t.int64AsNumber&&(t.int64AsType="number")),Object.assign(this,t)}unpack(t,n){if(Ne)return oV(()=>(ES(),this?this.unpack(t,n):gp.prototype.unpack.call(KM,t,n)));!t.buffer&&t.constructor===ArrayBuffer&&(t=typeof Buffer<"u"?Buffer.from(t):new Uint8Array(t)),typeof n=="object"?(Ps=n.end||t.length,oe=n.start||0):(oe=0,Ps=n>-1?n:t.length),Co=0,vl=null,Hr=null,Ne=t;try{Ht=t.dataView||(t.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength))}catch(r){throw Ne=null,t instanceof Uint8Array?r:new Error("Source must be a Uint8Array or Buffer but was a "+(t&&typeof t=="object"?t.constructor.name:typeof t))}if(this instanceof gp){if(In=this,this.structures)return Yt=this.structures,Em(n);(!Yt||Yt.length>0)&&(Yt=[])}else In=KM,(!Yt||Yt.length>0)&&(Yt=[]);return Em(n)}unpackMultiple(t,n){let r,i=0;try{bl=!0;let s=t.length,l=this?this.unpack(t,s):Zv.unpack(t,s);if(n){if(n(l,i,oe)===!1)return;for(;oe<s;)if(i=oe,n(Em(),i,oe)===!1)return}else{for(r=[l];oe<s;)i=oe,r.push(Em());return r}}catch(s){throw s.lastPosition=i,s.values=r,s}finally{bl=!1,ES()}}_mergeStructures(t,n){t=t||[],Object.isFrozen(t)&&(t=t.map(r=>r.slice(0)));for(let r=0,i=t.length;r<i;r++){let s=t[r];s&&(s.isShared=!0,r>=32&&(s.highByte=r-32>>5))}t.sharedLength=t.length;for(let r in n||[])if(r>=0){let i=t[r],s=n[r];s&&(i&&((t.restoreStructures||(t.restoreStructures=[]))[r]=i),t[r]=s)}return this.structures=t}decode(t,n){return this.unpack(t,n)}}function Em(e){try{if(!In.trusted&&!bl){let n=Yt.sharedLength||0;n<Yt.length&&(Yt.length=n)}let t;if(In.randomAccessStructure&&Ne[oe]<64&&Ne[oe]>=32&&WM?(t=WM(Ne,oe,Ps,In),Ne=null,!(e&&e.lazy)&&t&&(t=t.toJSON()),oe=Ps):t=vr(),Hr&&(oe=Hr.postBundlePosition,Hr=null),bl&&(Yt.restoreStructures=null),oe==Ps)Yt&&Yt.restoreStructures&&QM(),Yt=null,Ne=null,ba&&(ba=null);else{if(oe>Ps)throw new Error("Unexpected end of MessagePack data");if(!bl){let n;try{n=JSON.stringify(t,(r,i)=>typeof i=="bigint"?`${i}n`:i).slice(0,100)}catch(r){n="(JSON view not available "+r+")"}throw new Error("Data read, but end of buffer not reached "+n)}}return t}catch(t){throw Yt&&Yt.restoreStructures&&QM(),ES(),(t instanceof RangeError||t.message.startsWith("Unexpected end of buffer")||oe>Ps)&&(t.incomplete=!0),t}}function QM(){for(let e in Yt.restoreStructures)Yt[e]=Yt.restoreStructures[e];Yt.restoreStructures=null}function vr(){let e=Ne[oe++];if(e<160)if(e<128){if(e<64)return e;{let t=Yt[e&63]||In.getStructures&&tV()[e&63];return t?(t.read||(t.read=pw(t,e&63)),t.read()):e}}else if(e<144)if(e-=128,In.mapsAsObjects){let t={};for(let n=0;n<e;n++){let r=rV();r==="__proto__"&&(r="__proto_"),t[r]=vr()}return t}else{let t=new Map;for(let n=0;n<e;n++)t.set(vr(),vr());return t}else{e-=144;let t=new Array(e);for(let n=0;n<e;n++)t[n]=vr();return In.freezeData?Object.freeze(t):t}else if(e<192){let t=e-160;if(Co>=oe)return vl.slice(oe-Ms,(oe+=t)-Ms);if(Co==0&&Ps<140){let n=t<16?gw(t):nV(t);if(n!=null)return n}return wS(t)}else{let t;switch(e){case 192:return null;case 193:return Hr?(t=vr(),t>0?Hr[1].slice(Hr.position1,Hr.position1+=t):Hr[0].slice(Hr.position0,Hr.position0-=t)):ZP;case 194:return!1;case 195:return!0;case 196:if(t=Ne[oe++],t===void 0)throw new Error("Unexpected end of buffer");return p1(t);case 197:return t=Ht.getUint16(oe),oe+=2,p1(t);case 198:return t=Ht.getUint32(oe),oe+=4,p1(t);case 199:return cc(Ne[oe++]);case 200:return t=Ht.getUint16(oe),oe+=2,cc(t);case 201:return t=Ht.getUint32(oe),oe+=4,cc(t);case 202:if(t=Ht.getFloat32(oe),In.useFloat32>2){let n=mw[(Ne[oe]&127)<<1|Ne[oe+1]>>7];return oe+=4,(n*t+(t>0?.5:-.5)>>0)/n}return oe+=4,t;case 203:return t=Ht.getFloat64(oe),oe+=8,t;case 204:return Ne[oe++];case 205:return t=Ht.getUint16(oe),oe+=2,t;case 206:return t=Ht.getUint32(oe),oe+=4,t;case 207:return In.int64AsType==="number"?(t=Ht.getUint32(oe)*4294967296,t+=Ht.getUint32(oe+4)):In.int64AsType==="string"?t=Ht.getBigUint64(oe).toString():In.int64AsType==="auto"?(t=Ht.getBigUint64(oe),t<=BigInt(2)<<BigInt(52)&&(t=Number(t))):t=Ht.getBigUint64(oe),oe+=8,t;case 208:return Ht.getInt8(oe++);case 209:return t=Ht.getInt16(oe),oe+=2,t;case 210:return t=Ht.getInt32(oe),oe+=4,t;case 211:return In.int64AsType==="number"?(t=Ht.getInt32(oe)*4294967296,t+=Ht.getUint32(oe+4)):In.int64AsType==="string"?t=Ht.getBigInt64(oe).toString():In.int64AsType==="auto"?(t=Ht.getBigInt64(oe),t>=BigInt(-2)<<BigInt(52)&&t<=BigInt(2)<<BigInt(52)&&(t=Number(t))):t=Ht.getBigInt64(oe),oe+=8,t;case 212:if(t=Ne[oe++],t==114)return nR(Ne[oe++]&63);{let n=qi[t];if(n)return n.read?(oe++,n.read(vr())):n.noBuffer?(oe++,n()):n(Ne.subarray(oe,++oe));throw new Error("Unknown extension "+t)}case 213:return t=Ne[oe],t==114?(oe++,nR(Ne[oe++]&63,Ne[oe++])):cc(2);case 214:return cc(4);case 215:return cc(8);case 216:return cc(16);case 217:return t=Ne[oe++],Co>=oe?vl.slice(oe-Ms,(oe+=t)-Ms):D$(t);case 218:return t=Ht.getUint16(oe),oe+=2,Co>=oe?vl.slice(oe-Ms,(oe+=t)-Ms):B$(t);case 219:return t=Ht.getUint32(oe),oe+=4,Co>=oe?vl.slice(oe-Ms,(oe+=t)-Ms):N$(t);case 220:return t=Ht.getUint16(oe),oe+=2,JM(t);case 221:return t=Ht.getUint32(oe),oe+=4,JM(t);case 222:return t=Ht.getUint16(oe),oe+=2,ZM(t);case 223:return t=Ht.getUint32(oe),oe+=4,ZM(t);default:if(e>=224)return e-256;if(e===void 0){let n=new Error("Unexpected end of MessagePack data");throw n.incomplete=!0,n}throw new Error("Unknown MessagePack token "+e)}}}const V$=/^[a-zA-Z_$][a-zA-Z\d_$]*$/;function pw(e,t){function n(){if(n.count++>eV){let i=e.read=new Function("r","return function(){return "+(In.freezeData?"Object.freeze":"")+"({"+e.map(s=>s==="__proto__"?"__proto_:r()":V$.test(s)?s+":r()":"["+JSON.stringify(s)+"]:r()").join(",")+"})}")(vr);return e.highByte===0&&(e.read=XM(t,e.read)),i()}let r={};for(let i=0,s=e.length;i<s;i++){let l=e[i];l==="__proto__"&&(l="__proto_"),r[l]=vr()}return In.freezeData?Object.freeze(r):r}return n.count=0,e.highByte===0?XM(t,n):n}const XM=(e,t)=>function(){let n=Ne[oe++];if(n===0)return t();let r=e<32?-(e+(n<<5)):e+(n<<5),i=Yt[r]||tV()[r];if(!i)throw new Error("Record id is not defined for "+r);return i.read||(i.read=pw(i,e)),i.read()};function tV(){let e=oV(()=>(Ne=null,In.getStructures()));return Yt=In._mergeStructures(e,Yt)}var wS=Dp,D$=Dp,B$=Dp,N$=Dp;function Dp(e){let t;if(e<16&&(t=gw(e)))return t;if(e>64&&xS)return xS.decode(Ne.subarray(oe,oe+=e));const n=oe+e,r=[];for(t="";oe<n;){const i=Ne[oe++];if(!(i&128))r.push(i);else if((i&224)===192){const s=Ne[oe++]&63;r.push((i&31)<<6|s)}else if((i&240)===224){const s=Ne[oe++]&63,l=Ne[oe++]&63;r.push((i&31)<<12|s<<6|l)}else if((i&248)===240){const s=Ne[oe++]&63,l=Ne[oe++]&63,c=Ne[oe++]&63;let d=(i&7)<<18|s<<12|l<<6|c;d>65535&&(d-=65536,r.push(d>>>10&1023|55296),d=56320|d&1023),r.push(d)}else r.push(i);r.length>=4096&&(t+=zr.apply(String,r),r.length=0)}return r.length>0&&(t+=zr.apply(String,r)),t}function JM(e){let t=new Array(e);for(let n=0;n<e;n++)t[n]=vr();return In.freezeData?Object.freeze(t):t}function ZM(e){if(In.mapsAsObjects){let t={};for(let n=0;n<e;n++){let r=rV();r==="__proto__"&&(r="__proto_"),t[r]=vr()}return t}else{let t=new Map;for(let n=0;n<e;n++)t.set(vr(),vr());return t}}var zr=String.fromCharCode;function nV(e){let t=oe,n=new Array(e);for(let r=0;r<e;r++){const i=Ne[oe++];if((i&128)>0){oe=t;return}n[r]=i}return zr.apply(String,n)}function gw(e){if(e<4)if(e<2){if(e===0)return"";{let t=Ne[oe++];if((t&128)>1){oe-=1;return}return zr(t)}}else{let t=Ne[oe++],n=Ne[oe++];if((t&128)>0||(n&128)>0){oe-=2;return}if(e<3)return zr(t,n);let r=Ne[oe++];if((r&128)>0){oe-=3;return}return zr(t,n,r)}else{let t=Ne[oe++],n=Ne[oe++],r=Ne[oe++],i=Ne[oe++];if((t&128)>0||(n&128)>0||(r&128)>0||(i&128)>0){oe-=4;return}if(e<6){if(e===4)return zr(t,n,r,i);{let s=Ne[oe++];if((s&128)>0){oe-=5;return}return zr(t,n,r,i,s)}}else if(e<8){let s=Ne[oe++],l=Ne[oe++];if((s&128)>0||(l&128)>0){oe-=6;return}if(e<7)return zr(t,n,r,i,s,l);let c=Ne[oe++];if((c&128)>0){oe-=7;return}return zr(t,n,r,i,s,l,c)}else{let s=Ne[oe++],l=Ne[oe++],c=Ne[oe++],d=Ne[oe++];if((s&128)>0||(l&128)>0||(c&128)>0||(d&128)>0){oe-=8;return}if(e<10){if(e===8)return zr(t,n,r,i,s,l,c,d);{let u=Ne[oe++];if((u&128)>0){oe-=9;return}return zr(t,n,r,i,s,l,c,d,u)}}else if(e<12){let u=Ne[oe++],h=Ne[oe++];if((u&128)>0||(h&128)>0){oe-=10;return}if(e<11)return zr(t,n,r,i,s,l,c,d,u,h);let p=Ne[oe++];if((p&128)>0){oe-=11;return}return zr(t,n,r,i,s,l,c,d,u,h,p)}else{let u=Ne[oe++],h=Ne[oe++],p=Ne[oe++],v=Ne[oe++];if((u&128)>0||(h&128)>0||(p&128)>0||(v&128)>0){oe-=12;return}if(e<14){if(e===12)return zr(t,n,r,i,s,l,c,d,u,h,p,v);{let y=Ne[oe++];if((y&128)>0){oe-=13;return}return zr(t,n,r,i,s,l,c,d,u,h,p,v,y)}}else{let y=Ne[oe++],b=Ne[oe++];if((y&128)>0||(b&128)>0){oe-=14;return}if(e<15)return zr(t,n,r,i,s,l,c,d,u,h,p,v,y,b);let _=Ne[oe++];if((_&128)>0){oe-=15;return}return zr(t,n,r,i,s,l,c,d,u,h,p,v,y,b,_)}}}}}function eR(){let e=Ne[oe++],t;if(e<192)t=e-160;else switch(e){case 217:t=Ne[oe++];break;case 218:t=Ht.getUint16(oe),oe+=2;break;case 219:t=Ht.getUint32(oe),oe+=4;break;default:throw new Error("Expected string")}return Dp(t)}function p1(e){return In.copyBuffers?Uint8Array.prototype.slice.call(Ne,oe,oe+=e):Ne.subarray(oe,oe+=e)}function cc(e){let t=Ne[oe++];if(qi[t]){let n;return qi[t](Ne.subarray(oe,n=oe+=e),r=>{oe=r;try{return vr()}finally{oe=n}})}else throw new Error("Unknown extension type "+t)}var tR=new Array(4096);function rV(){let e=Ne[oe++];if(e>=160&&e<192){if(e=e-160,Co>=oe)return vl.slice(oe-Ms,(oe+=e)-Ms);if(!(Co==0&&Ps<180))return wS(e)}else return oe--,iV(vr());let t=(e<<5^(e>1?Ht.getUint16(oe):e>0?Ne[oe]:0))&4095,n=tR[t],r=oe,i=oe+e-3,s,l=0;if(n&&n.bytes==e){for(;r<i;){if(s=Ht.getUint32(r),s!=n[l++]){r=1879048192;break}r+=4}for(i+=3;r<i;)if(s=Ne[r++],s!=n[l++]){r=1879048192;break}if(r===i)return oe=r,n.string;i-=3,r=oe}for(n=[],tR[t]=n,n.bytes=e;r<i;)s=Ht.getUint32(r),n.push(s),r+=4;for(i+=3;r<i;)s=Ne[r++],n.push(s);let c=e<16?gw(e):nV(e);return c!=null?n.string=c:n.string=wS(e)}function iV(e){if(typeof e=="string")return e;if(typeof e=="number")return e.toString();throw new Error("Invalid property type for record",typeof e)}const nR=(e,t)=>{let n=vr().map(iV),r=e;t!==void 0&&(e=e<32?-((t<<5)+e):(t<<5)+e,n.highByte=t);let i=Yt[e];return i&&(i.isShared||bl)&&((Yt.restoreStructures||(Yt.restoreStructures=[]))[e]=i),Yt[e]=n,n.read=pw(n,r),n.read()};qi[0]=()=>{};qi[0].noBuffer=!0;qi[66]=e=>{let t=e.length,n=BigInt(e[0]&128?e[0]-256:e[0]);for(let r=1;r<t;r++)n<<=8n,n+=BigInt(e[r]);return n};let L$={Error,TypeError,ReferenceError};qi[101]=()=>{let e=vr();return(L$[e[0]]||Error)(e[1])};qi[105]=e=>{if(In.structuredClone===!1)throw new Error("Structured clone extension is disabled");let t=Ht.getUint32(oe-4);ba||(ba=new Map);let n=Ne[oe],r;n>=144&&n<160||n==220||n==221?r=[]:r={};let i={target:r};ba.set(t,i);let s=vr();return i.used?Object.assign(r,s):(i.target=s,s)};qi[112]=e=>{if(In.structuredClone===!1)throw new Error("Structured clone extension is disabled");let t=Ht.getUint32(oe-4),n=ba.get(t);return n.used=!0,n.target};qi[115]=()=>new Set(vr());const sV=["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64","BigInt64","BigUint64"].map(e=>e+"Array");let F$=typeof globalThis=="object"?globalThis:window;qi[116]=e=>{let t=e[0],n=sV[t];if(!n)throw new Error("Could not find typed array for code "+t);return new F$[n](Uint8Array.prototype.slice.call(e,1).buffer)};qi[120]=()=>{let e=vr();return new RegExp(e[0],e[1])};const z$=[];qi[98]=e=>{let t=(e[0]<<24)+(e[1]<<16)+(e[2]<<8)+e[3],n=oe;return oe+=t-e.length,Hr=z$,Hr=[eR(),eR()],Hr.position0=0,Hr.position1=0,Hr.postBundlePosition=oe,oe=n,vr()};qi[255]=e=>e.length==4?new Date((e[0]*16777216+(e[1]<<16)+(e[2]<<8)+e[3])*1e3):e.length==8?new Date(((e[0]<<22)+(e[1]<<14)+(e[2]<<6)+(e[3]>>2))/1e6+((e[3]&3)*4294967296+e[4]*16777216+(e[5]<<16)+(e[6]<<8)+e[7])*1e3):e.length==12?new Date(((e[0]<<24)+(e[1]<<16)+(e[2]<<8)+e[3])/1e6+((e[4]&128?-281474976710656:0)+e[6]*1099511627776+e[7]*4294967296+e[8]*16777216+(e[9]<<16)+(e[10]<<8)+e[11])*1e3):new Date("invalid");function oV(e){let t=Ps,n=oe,r=Ms,i=Co,s=vl,l=ba,c=Hr,d=new Uint8Array(Ne.slice(0,Ps)),u=Yt,h=Yt.slice(0,Yt.length),p=In,v=bl,y=e();return Ps=t,oe=n,Ms=r,Co=i,vl=s,ba=l,Hr=c,Ne=d,bl=v,Yt=u,Yt.splice(0,Yt.length,...h),In=p,Ht=new DataView(Ne.buffer,Ne.byteOffset,Ne.byteLength),y}function ES(){Ne=null,ba=null,Yt=null}const mw=new Array(147);for(let e=0;e<256;e++)mw[e]=+("1e"+Math.floor(45.15-e*.30103));var Zv=new gp({useRecords:!1});const $$=Zv.unpack;Zv.unpackMultiple;Zv.unpack;let U$=new Float32Array(1);new Uint8Array(U$.buffer,0,4);let _0;try{_0=new TextEncoder}catch{}let TS,aV;const ey=typeof Buffer<"u",Tm=ey?function(e){return Buffer.allocUnsafeSlow(e)}:Uint8Array,lV=ey?Buffer:Uint8Array,rR=ey?4294967296:2144337920;let pe,xh,xn,ae=0,wi,Jn=null,H$;const q$=21760,G$=/[\u0080-\uFFFF]/,Qu=Symbol("record-id");class Y$ extends gp{constructor(t){super(t),this.offset=0;let n,r,i,s,l=lV.prototype.utf8Write?function(L,q){return pe.utf8Write(L,q,4294967295)}:_0&&_0.encodeInto?function(L,q){return _0.encodeInto(L,pe.subarray(q)).written}:!1,c=this;t||(t={});let d=t&&t.sequential,u=t.structures||t.saveStructures,h=t.maxSharedStructures;if(h==null&&(h=u?32:0),h>8160)throw new Error("Maximum maxSharedStructure is 8160");t.structuredClone&&t.moreTypes==null&&(this.moreTypes=!0);let p=t.maxOwnStructures;p==null&&(p=u?32:64),!this.structures&&t.useRecords!=!1&&(this.structures=[]);let v=h>32||p+h>64,y=h+64,b=h+p+64;if(b>8256)throw new Error("Maximum maxSharedStructure + maxOwnStructure is 8192");let _=[],w=0,T=0;this.pack=this.encode=function(L,q){if(pe||(pe=new Tm(8192),xn=pe.dataView||(pe.dataView=new DataView(pe.buffer,0,8192)),ae=0),wi=pe.length-10,wi-ae<2048?(pe=new Tm(pe.length),xn=pe.dataView||(pe.dataView=new DataView(pe.buffer,0,pe.length)),wi=pe.length-10,ae=0):ae=ae+7&2147483640,n=ae,q&Z$&&(ae+=q&255),s=c.structuredClone?new Map:null,c.bundleStrings&&typeof L!="string"?(Jn=[],Jn.size=1/0):Jn=null,i=c.structures,i){i.uninitialized&&(i=c._mergeStructures(c.getStructures()));let V=i.sharedLength||0;if(V>h)throw new Error("Shared structures is larger than maximum shared structures, try increasing maxSharedStructures to "+i.sharedLength);if(!i.transitions){i.transitions=Object.create(null);for(let W=0;W<V;W++){let Q=i[W];if(!Q)continue;let J,B=i.transitions;for(let G=0,ee=Q.length;G<ee;G++){let ue=Q[G];J=B[ue],J||(J=B[ue]=Object.create(null)),B=J}B[Qu]=W+64}this.lastNamedStructuresLength=V}d||(i.nextId=V+64)}r&&(r=!1);let H;try{c.randomAccessStructure&&L&&L.constructor&&L.constructor===Object?U(L):M(L);let V=Jn;if(Jn&&oR(n,M,0),s&&s.idsToInsert){let W=s.idsToInsert.sort((G,ee)=>G.offset>ee.offset?1:-1),Q=W.length,J=-1;for(;V&&Q>0;){let G=W[--Q].offset+n;G<V.stringsPosition+n&&J===-1&&(J=0),G>V.position+n?J>=0&&(J+=6):(J>=0&&(xn.setUint32(V.position+n,xn.getUint32(V.position+n)+J),J=-1),V=V.previous,Q++)}J>=0&&V&&xn.setUint32(V.position+n,xn.getUint32(V.position+n)+J),ae+=W.length*6,ae>wi&&P(ae),c.offset=ae;let B=W$(pe.subarray(n,ae),W);return s=null,B}return c.offset=ae,q&X$?(pe.start=n,pe.end=ae,pe):pe.subarray(n,ae)}catch(V){throw H=V,V}finally{if(i&&(k(),r&&c.saveStructures)){let V=i.sharedLength||0,W=pe.subarray(n,ae),Q=Q$(i,c);if(!H)return c.saveStructures(Q,Q.isCompatible)===!1?c.pack(L,q):(c.lastNamedStructuresLength=V,W)}q&J$&&(ae=n)}};const k=()=>{T<10&&T++;let L=i.sharedLength||0;if(i.length>L&&!d&&(i.length=L),w>1e4)i.transitions=null,T=0,w=0,_.length>0&&(_=[]);else if(_.length>0&&!d){for(let q=0,H=_.length;q<H;q++)_[q][Qu]=0;_=[]}},R=L=>{var q=L.length;q<16?pe[ae++]=144|q:q<65536?(pe[ae++]=220,pe[ae++]=q>>8,pe[ae++]=q&255):(pe[ae++]=221,xn.setUint32(ae,q),ae+=4);for(let H=0;H<q;H++)M(L[H])},M=L=>{ae>wi&&(pe=P(ae));var q=typeof L,H;if(q==="string"){let V=L.length;if(Jn&&V>=4&&V<4096){if((Jn.size+=V)>q$){let B,G=(Jn[0]?Jn[0].length*3+Jn[1].length:0)+10;ae+G>wi&&(pe=P(ae+G));let ee;Jn.position?(ee=Jn,pe[ae]=200,ae+=3,pe[ae++]=98,B=ae-n,ae+=4,oR(n,M,0),xn.setUint16(B+n-3,ae-n-B)):(pe[ae++]=214,pe[ae++]=98,B=ae-n,ae+=4),Jn=["",""],Jn.previous=ee,Jn.size=0,Jn.position=B}let J=G$.test(L);Jn[J?0:1]+=L,pe[ae++]=193,M(J?-V:V);return}let W;V<32?W=1:V<256?W=2:V<65536?W=3:W=5;let Q=V*3;if(ae+Q>wi&&(pe=P(ae+Q)),V<64||!l){let J,B,G,ee=ae+W;for(J=0;J<V;J++)B=L.charCodeAt(J),B<128?pe[ee++]=B:B<2048?(pe[ee++]=B>>6|192,pe[ee++]=B&63|128):(B&64512)===55296&&((G=L.charCodeAt(J+1))&64512)===56320?(B=65536+((B&1023)<<10)+(G&1023),J++,pe[ee++]=B>>18|240,pe[ee++]=B>>12&63|128,pe[ee++]=B>>6&63|128,pe[ee++]=B&63|128):(pe[ee++]=B>>12|224,pe[ee++]=B>>6&63|128,pe[ee++]=B&63|128);H=ee-ae-W}else H=l(L,ae+W);H<32?pe[ae++]=160|H:H<256?(W<2&&pe.copyWithin(ae+2,ae+1,ae+1+H),pe[ae++]=217,pe[ae++]=H):H<65536?(W<3&&pe.copyWithin(ae+3,ae+2,ae+2+H),pe[ae++]=218,pe[ae++]=H>>8,pe[ae++]=H&255):(W<5&&pe.copyWithin(ae+5,ae+3,ae+3+H),pe[ae++]=219,xn.setUint32(ae,H),ae+=4),ae+=H}else if(q==="number")if(L>>>0===L)L<32||L<128&&this.useRecords===!1||L<64&&!this.randomAccessStructure?pe[ae++]=L:L<256?(pe[ae++]=204,pe[ae++]=L):L<65536?(pe[ae++]=205,pe[ae++]=L>>8,pe[ae++]=L&255):(pe[ae++]=206,xn.setUint32(ae,L),ae+=4);else if(L>>0===L)L>=-32?pe[ae++]=256+L:L>=-128?(pe[ae++]=208,pe[ae++]=L+256):L>=-32768?(pe[ae++]=209,xn.setInt16(ae,L),ae+=2):(pe[ae++]=210,xn.setInt32(ae,L),ae+=4);else{let V;if((V=this.useFloat32)>0&&L<4294967296&&L>=-2147483648){pe[ae++]=202,xn.setFloat32(ae,L);let W;if(V<4||(W=L*mw[(pe[ae]&127)<<1|pe[ae+1]>>7])>>0===W){ae+=4;return}else ae--}pe[ae++]=203,xn.setFloat64(ae,L),ae+=8}else if(q==="object"||q==="function")if(!L)pe[ae++]=192;else{if(s){let W=s.get(L);if(W){if(!W.id){let Q=s.idsToInsert||(s.idsToInsert=[]);W.id=Q.push(W)}pe[ae++]=214,pe[ae++]=112,xn.setUint32(ae,W.id),ae+=4;return}else s.set(L,{offset:ae-n})}let V=L.constructor;if(V===Object)D(L,!0);else if(V===Array)R(L);else if(V===Map)if(this.mapAsEmptyObject)pe[ae++]=128;else{H=L.size,H<16?pe[ae++]=128|H:H<65536?(pe[ae++]=222,pe[ae++]=H>>8,pe[ae++]=H&255):(pe[ae++]=223,xn.setUint32(ae,H),ae+=4);for(let[W,Q]of L)M(W),M(Q)}else{for(let W=0,Q=TS.length;W<Q;W++){let J=aV[W];if(L instanceof J){let B=TS[W];if(B.write){B.type&&(pe[ae++]=212,pe[ae++]=B.type,pe[ae++]=0);let ge=B.write.call(this,L);ge===L?Array.isArray(L)?R(L):D(L):M(ge);return}let G=pe,ee=xn,ue=ae;pe=null;let F;try{F=B.pack.call(this,L,ge=>(pe=G,G=null,ae+=ge,ae>wi&&P(ae),{target:pe,targetView:xn,position:ae-ge}),M)}finally{G&&(pe=G,xn=ee,ae=ue,wi=pe.length-10)}F&&(F.length+ae>wi&&P(F.length+ae),ae=K$(F,pe,ae,B.type));return}}if(Array.isArray(L))R(L);else{if(L.toJSON){const W=L.toJSON();if(W!==L)return M(W)}if(q==="function")return M(this.writeFunction&&this.writeFunction(L));D(L,!L.hasOwnProperty)}}}else if(q==="boolean")pe[ae++]=L?195:194;else if(q==="bigint"){if(L<BigInt(1)<<BigInt(63)&&L>=-(BigInt(1)<<BigInt(63)))pe[ae++]=211,xn.setBigInt64(ae,L);else if(L<BigInt(1)<<BigInt(64)&&L>0)pe[ae++]=207,xn.setBigUint64(ae,L);else if(this.largeBigIntToFloat)pe[ae++]=203,xn.setFloat64(ae,Number(L));else if(this.useBigIntExtension&&L<2n**1023n&&L>-(2n**1023n)){pe[ae++]=199,ae++,pe[ae++]=66;let V=[],W;do{let Q=L&0xffn;W=(Q&0x80n)===(L<0n?0x80n:0n),V.push(Q),L>>=8n}while(!((L===0n||L===-1n)&&W));pe[ae-2]=V.length;for(let Q=V.length;Q>0;)pe[ae++]=Number(V[--Q]);return}else throw new RangeError(L+" was too large to fit in MessagePack 64-bit integer format, use useBigIntExtension or set largeBigIntToFloat to convert to float-64");ae+=8}else if(q==="undefined")this.encodeUndefinedAsNil?pe[ae++]=192:(pe[ae++]=212,pe[ae++]=0,pe[ae++]=0);else throw new Error("Unknown type: "+q)},E=this.variableMapSize||this.coercibleKeyAsNumber?L=>{let q=Object.keys(L),H=q.length;H<16?pe[ae++]=128|H:H<65536?(pe[ae++]=222,pe[ae++]=H>>8,pe[ae++]=H&255):(pe[ae++]=223,xn.setUint32(ae,H),ae+=4);let V;if(this.coercibleKeyAsNumber)for(let W=0;W<H;W++){V=q[W];let Q=Number(V);M(isNaN(Q)?V:Q),M(L[V])}else for(let W=0;W<H;W++)M(V=q[W]),M(L[V])}:(L,q)=>{pe[ae++]=222;let H=ae-n;ae+=2;let V=0;for(let W in L)(q||L.hasOwnProperty(W))&&(M(W),M(L[W]),V++);pe[H+++n]=V>>8,pe[H+n]=V&255},O=this.useRecords===!1?E:t.progressiveRecords&&!v?(L,q)=>{let H,V=i.transitions||(i.transitions=Object.create(null)),W=ae++-n,Q;for(let J in L)if(q||L.hasOwnProperty(J)){if(H=V[J],H)V=H;else{let B=Object.keys(L),G=V;V=i.transitions;let ee=0;for(let ue=0,F=B.length;ue<F;ue++){let ge=B[ue];H=V[ge],H||(H=V[ge]=Object.create(null),ee++),V=H}W+n+1==ae?(ae--,C(V,B,ee)):N(V,B,W,ee),Q=!0,V=G[J]}M(L[J])}if(!Q){let J=V[Qu];J?pe[W+n]=J:N(V,Object.keys(L),W,0)}}:(L,q)=>{let H,V=i.transitions||(i.transitions=Object.create(null)),W=0;for(let J in L)(q||L.hasOwnProperty(J))&&(H=V[J],H||(H=V[J]=Object.create(null),W++),V=H);let Q=V[Qu];Q?Q>=96&&v?(pe[ae++]=((Q-=96)&31)+96,pe[ae++]=Q>>5):pe[ae++]=Q:C(V,V.__keys__||Object.keys(L),W);for(let J in L)(q||L.hasOwnProperty(J))&&M(L[J])},j=typeof this.useRecords=="function"&&this.useRecords,D=j?(L,q)=>{j(L)?O(L,q):E(L,q)}:O,P=L=>{let q;if(L>16777216){if(L-n>rR)throw new Error("Packed buffer would be larger than maximum buffer size");q=Math.min(rR,Math.round(Math.max((L-n)*(L>67108864?1.25:2),4194304)/4096)*4096)}else q=(Math.max(L-n<<2,pe.length-1)>>12)+1<<12;let H=new Tm(q);return xn=H.dataView||(H.dataView=new DataView(H.buffer,0,q)),L=Math.min(L,pe.length),pe.copy?pe.copy(H,0,n,L):H.set(pe.slice(n,L)),ae-=n,n=0,wi=H.length-10,pe=H},C=(L,q,H)=>{let V=i.nextId;V||(V=64),V<y&&this.shouldShareStructure&&!this.shouldShareStructure(q)?(V=i.nextOwnId,V<b||(V=y),i.nextOwnId=V+1):(V>=b&&(V=y),i.nextId=V+1);let W=q.highByte=V>=96&&v?V-96>>5:-1;L[Qu]=V,L.__keys__=q,i[V-64]=q,V<y?(q.isShared=!0,i.sharedLength=V-63,r=!0,W>=0?(pe[ae++]=(V&31)+96,pe[ae++]=W):pe[ae++]=V):(W>=0?(pe[ae++]=213,pe[ae++]=114,pe[ae++]=(V&31)+96,pe[ae++]=W):(pe[ae++]=212,pe[ae++]=114,pe[ae++]=V),H&&(w+=T*H),_.length>=p&&(_.shift()[Qu]=0),_.push(L),M(q))},N=(L,q,H,V)=>{let W=pe,Q=ae,J=wi,B=n;pe=xh,ae=0,n=0,pe||(xh=pe=new Tm(8192)),wi=pe.length-10,C(L,q,V),xh=pe;let G=ae;if(pe=W,ae=Q,wi=J,n=B,G>1){let ee=ae+G-1;ee>wi&&P(ee);let ue=H+n;pe.copyWithin(ue+G,ue+1,ae),pe.set(xh.slice(0,G),ue),ae=ee}else pe[H+n]=xh[0]},U=(L,q)=>{let H=H$(L,pe,n,ae,i,P,(V,W,Q)=>{if(Q)return r=!0;ae=W;let J=pe;return M(V),k(),J!==pe?{position:ae,targetView:xn,target:pe}:ae},this);if(H===0)return D(L,!0);ae=H}}useBuffer(t){pe=t,xn=new DataView(pe.buffer,pe.byteOffset,pe.byteLength),ae=0}clearSharedData(){this.structures&&(this.structures=[]),this.typedStructs&&(this.typedStructs=[])}}aV=[Date,Set,Error,RegExp,ArrayBuffer,Object.getPrototypeOf(Uint8Array.prototype).constructor,JP];TS=[{pack(e,t,n){let r=e.getTime()/1e3;if((this.useTimestamp32||e.getMilliseconds()===0)&&r>=0&&r<4294967296){let{target:i,targetView:s,position:l}=t(6);i[l++]=214,i[l++]=255,s.setUint32(l,r)}else if(r>0&&r<4294967296){let{target:i,targetView:s,position:l}=t(10);i[l++]=215,i[l++]=255,s.setUint32(l,e.getMilliseconds()*4e6+(r/1e3/4294967296>>0)),s.setUint32(l+4,r)}else if(isNaN(r)){if(this.onInvalidDate)return t(0),n(this.onInvalidDate());let{target:i,targetView:s,position:l}=t(3);i[l++]=212,i[l++]=255,i[l++]=255}else{let{target:i,targetView:s,position:l}=t(15);i[l++]=199,i[l++]=12,i[l++]=255,s.setUint32(l,e.getMilliseconds()*1e6),s.setBigInt64(l+4,BigInt(Math.floor(r)))}}},{pack(e,t,n){if(this.setAsEmptyObject)return t(0),n({});let r=Array.from(e),{target:i,position:s}=t(this.moreTypes?3:0);this.moreTypes&&(i[s++]=212,i[s++]=115,i[s++]=0),n(r)}},{pack(e,t,n){let{target:r,position:i}=t(this.moreTypes?3:0);this.moreTypes&&(r[i++]=212,r[i++]=101,r[i++]=0),n([e.name,e.message])}},{pack(e,t,n){let{target:r,position:i}=t(this.moreTypes?3:0);this.moreTypes&&(r[i++]=212,r[i++]=120,r[i++]=0),n([e.source,e.flags])}},{pack(e,t){this.moreTypes?iR(e,16,t):sR(ey?Buffer.from(e):new Uint8Array(e),t)}},{pack(e,t){let n=e.constructor;n!==lV&&this.moreTypes?iR(e,sV.indexOf(n.name),t):sR(e,t)}},{pack(e,t){let{target:n,position:r}=t(1);n[r]=193}}];function iR(e,t,n,r){let i=e.byteLength;if(i+1<256){var{target:s,position:l}=n(4+i);s[l++]=199,s[l++]=i+1}else if(i+1<65536){var{target:s,position:l}=n(5+i);s[l++]=200,s[l++]=i+1>>8,s[l++]=i+1&255}else{var{target:s,position:l,targetView:c}=n(7+i);s[l++]=201,c.setUint32(l,i+1),l+=4}s[l++]=116,s[l++]=t,s.set(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),l)}function sR(e,t){let n=e.byteLength;var r,i;if(n<256){var{target:r,position:i}=t(n+2);r[i++]=196,r[i++]=n}else if(n<65536){var{target:r,position:i}=t(n+3);r[i++]=197,r[i++]=n>>8,r[i++]=n&255}else{var{target:r,position:i,targetView:s}=t(n+5);r[i++]=198,s.setUint32(i,n),i+=4}r.set(e,i)}function K$(e,t,n,r){let i=e.length;switch(i){case 1:t[n++]=212;break;case 2:t[n++]=213;break;case 4:t[n++]=214;break;case 8:t[n++]=215;break;case 16:t[n++]=216;break;default:i<256?(t[n++]=199,t[n++]=i):i<65536?(t[n++]=200,t[n++]=i>>8,t[n++]=i&255):(t[n++]=201,t[n++]=i>>24,t[n++]=i>>16&255,t[n++]=i>>8&255,t[n++]=i&255)}return t[n++]=r,t.set(e,n),n+=i,n}function W$(e,t){let n,r=t.length*6,i=e.length-r;for(;n=t.pop();){let s=n.offset,l=n.id;e.copyWithin(s+r,s,i),r-=6;let c=s+r;e[c++]=214,e[c++]=105,e[c++]=l>>24,e[c++]=l>>16&255,e[c++]=l>>8&255,e[c++]=l&255,i=s}return e}function oR(e,t,n){if(Jn.length>0){xn.setUint32(Jn.position+e,ae+n-Jn.position-e),Jn.stringsPosition=ae-e;let r=Jn;Jn=null,t(r[0]),t(r[1])}}function Q$(e,t){return e.isCompatible=n=>{let r=!n||(t.lastNamedStructuresLength||0)===n.length;return r||t._mergeStructures(n),r},e}let cV=new Y$({useRecords:!1});const uV=cV.pack;cV.pack;const X$=512,J$=1024,Z$=2048;function Ri(){return Date.now()}const Fs=e=>uV(e),ef=e=>$$(e);let e7=class{constructor(t,n){this.connection=t,this.inputLag=n,this.frequencies=[0],this.volumes=[0],this.requestReadinessPromise=null,this.getFrequencies=()=>this.frequencies,this.clearFrequencies=()=>{Array.isArray(this.frequencies[0])&&(this.frequencies=[this.frequencies[0].at(-1)])},this.getVolumes=()=>this.volumes,this.getInputLag=()=>this.inputLag,this.setInputLag=r=>{this.inputLag=r},this.requestReadiness=()=>(console.log("requestReadiness"),this.requestReadinessPromise||(this.requestReadinessPromise=new Promise(r=>{const i=s=>{s.t==="confirm-readiness"&&(r(!0),this.connection.off("data",i),this.requestReadinessPromise=null)};this.connection.on("data",i),wd(this.connection,"request-readiness")})),this.requestReadinessPromise),this.startMonitoring=async()=>{var r,i;(r=this.connection)==null||r.off("data",this.handleRTCData),wd(this.connection,"start-monitor"),(i=this.connection)==null||i.on("data",this.handleRTCData)},this.stopMonitoring=async()=>{var r;wd(this.connection,"stop-monitor"),(r=this.connection)==null||r.off("data",this.handleRTCData)},this.handleRTCData=r=>{r.t==="freq"&&(this.frequencies=[r[0],r[0]],this.volumes=[r[1],r[1]])}}},t7=class{constructor(t,n,r,i){this.id=t,this.name=n,this.connection=r,this.pingTime=9999,this.pingInterval=null,this.getInput=()=>this.input,this.setPlayerNumber=s=>{wd(this.connection,"set-player-number",{playerNumber:s})},this.onDisconnect=()=>{this.pingInterval!==null&&clearInterval(this.pingInterval)},this.setPermission=s=>{wd(this.connection,"set-permissions",{level:s})},this.isPinging=!1,this.latency=9999,this.onPong=()=>{this.latency=Ri()-this.pingTime,this.isPinging=!1,this.pingClient()},this.pingClient=()=>{this.pingInterval=setTimeout(()=>{this.pingTime=Ri(),this.isPinging=!0,wd(this.connection,"ping")},1e3)},this.getLatency=()=>this.isPinging?Ri()-this.pingTime:this.latency,this.getPingTime=()=>this.pingTime,this.input=new e7(r,i),this.pingClient()}};const Zc={RemoteMicConnectionType:"remote_mics_connection_type",InitialInputLag:"initial_input_lag",Eurovision:"eurovision",Christmas:"christmas",Calibration:"calibration",CameraMode:"camera_mode"};var g1={exports:{}},Mt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aR;function n7(){if(aR)return Mt;aR=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;function v(B){return B===null||typeof B!="object"?null:(B=p&&B[p]||B["@@iterator"],typeof B=="function"?B:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,_={};function w(B,G,ee){this.props=B,this.context=G,this.refs=_,this.updater=ee||y}w.prototype.isReactComponent={},w.prototype.setState=function(B,G){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,G,"setState")},w.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function T(){}T.prototype=w.prototype;function k(B,G,ee){this.props=B,this.context=G,this.refs=_,this.updater=ee||y}var R=k.prototype=new T;R.constructor=k,b(R,w.prototype),R.isPureReactComponent=!0;var M=Array.isArray,E={H:null,A:null,T:null,S:null},O=Object.prototype.hasOwnProperty;function j(B,G,ee,ue,F,ge){return ee=ge.ref,{$$typeof:e,type:B,key:G,ref:ee!==void 0?ee:null,props:ge}}function D(B,G){return j(B.type,G,void 0,void 0,void 0,B.props)}function P(B){return typeof B=="object"&&B!==null&&B.$$typeof===e}function C(B){var G={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(ee){return G[ee]})}var N=/\/+/g;function U(B,G){return typeof B=="object"&&B!==null&&B.key!=null?C(""+B.key):G.toString(36)}function L(){}function q(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(L,L):(B.status="pending",B.then(function(G){B.status==="pending"&&(B.status="fulfilled",B.value=G)},function(G){B.status==="pending"&&(B.status="rejected",B.reason=G)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function H(B,G,ee,ue,F){var ge=typeof B;(ge==="undefined"||ge==="boolean")&&(B=null);var se=!1;if(B===null)se=!0;else switch(ge){case"bigint":case"string":case"number":se=!0;break;case"object":switch(B.$$typeof){case e:case t:se=!0;break;case h:return se=B._init,H(se(B._payload),G,ee,ue,F)}}if(se)return F=F(B),se=ue===""?"."+U(B,0):ue,M(F)?(ee="",se!=null&&(ee=se.replace(N,"$&/")+"/"),H(F,G,ee,"",function(Re){return Re})):F!=null&&(P(F)&&(F=D(F,ee+(F.key==null||B&&B.key===F.key?"":(""+F.key).replace(N,"$&/")+"/")+se)),G.push(F)),1;se=0;var Se=ue===""?".":ue+":";if(M(B))for(var Me=0;Me<B.length;Me++)ue=B[Me],ge=Se+U(ue,Me),se+=H(ue,G,ee,ge,F);else if(Me=v(B),typeof Me=="function")for(B=Me.call(B),Me=0;!(ue=B.next()).done;)ue=ue.value,ge=Se+U(ue,Me++),se+=H(ue,G,ee,ge,F);else if(ge==="object"){if(typeof B.then=="function")return H(q(B),G,ee,ue,F);throw G=String(B),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return se}function V(B,G,ee){if(B==null)return B;var ue=[],F=0;return H(B,ue,"","",function(ge){return G.call(ee,ge,F++)}),ue}function W(B){if(B._status===-1){var G=B._result;G=G(),G.then(function(ee){(B._status===0||B._status===-1)&&(B._status=1,B._result=ee)},function(ee){(B._status===0||B._status===-1)&&(B._status=2,B._result=ee)}),B._status===-1&&(B._status=0,B._result=G)}if(B._status===1)return B._result.default;throw B._result}var Q=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)};function J(){}return Mt.Children={map:V,forEach:function(B,G,ee){V(B,function(){G.apply(this,arguments)},ee)},count:function(B){var G=0;return V(B,function(){G++}),G},toArray:function(B){return V(B,function(G){return G})||[]},only:function(B){if(!P(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},Mt.Component=w,Mt.Fragment=n,Mt.Profiler=i,Mt.PureComponent=k,Mt.StrictMode=r,Mt.Suspense=d,Mt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=E,Mt.act=function(){throw Error("act(...) is not supported in production builds of React.")},Mt.cache=function(B){return function(){return B.apply(null,arguments)}},Mt.cloneElement=function(B,G,ee){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var ue=b({},B.props),F=B.key,ge=void 0;if(G!=null)for(se in G.ref!==void 0&&(ge=void 0),G.key!==void 0&&(F=""+G.key),G)!O.call(G,se)||se==="key"||se==="__self"||se==="__source"||se==="ref"&&G.ref===void 0||(ue[se]=G[se]);var se=arguments.length-2;if(se===1)ue.children=ee;else if(1<se){for(var Se=Array(se),Me=0;Me<se;Me++)Se[Me]=arguments[Me+2];ue.children=Se}return j(B.type,F,void 0,void 0,ge,ue)},Mt.createContext=function(B){return B={$$typeof:l,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:s,_context:B},B},Mt.createElement=function(B,G,ee){var ue,F={},ge=null;if(G!=null)for(ue in G.key!==void 0&&(ge=""+G.key),G)O.call(G,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(F[ue]=G[ue]);var se=arguments.length-2;if(se===1)F.children=ee;else if(1<se){for(var Se=Array(se),Me=0;Me<se;Me++)Se[Me]=arguments[Me+2];F.children=Se}if(B&&B.defaultProps)for(ue in se=B.defaultProps,se)F[ue]===void 0&&(F[ue]=se[ue]);return j(B,ge,void 0,void 0,null,F)},Mt.createRef=function(){return{current:null}},Mt.forwardRef=function(B){return{$$typeof:c,render:B}},Mt.isValidElement=P,Mt.lazy=function(B){return{$$typeof:h,_payload:{_status:-1,_result:B},_init:W}},Mt.memo=function(B,G){return{$$typeof:u,type:B,compare:G===void 0?null:G}},Mt.startTransition=function(B){var G=E.T,ee={};E.T=ee;try{var ue=B(),F=E.S;F!==null&&F(ee,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(J,Q)}catch(ge){Q(ge)}finally{E.T=G}},Mt.unstable_useCacheRefresh=function(){return E.H.useCacheRefresh()},Mt.use=function(B){return E.H.use(B)},Mt.useActionState=function(B,G,ee){return E.H.useActionState(B,G,ee)},Mt.useCallback=function(B,G){return E.H.useCallback(B,G)},Mt.useContext=function(B){return E.H.useContext(B)},Mt.useDebugValue=function(){},Mt.useDeferredValue=function(B,G){return E.H.useDeferredValue(B,G)},Mt.useEffect=function(B,G){return E.H.useEffect(B,G)},Mt.useId=function(){return E.H.useId()},Mt.useImperativeHandle=function(B,G,ee){return E.H.useImperativeHandle(B,G,ee)},Mt.useInsertionEffect=function(B,G){return E.H.useInsertionEffect(B,G)},Mt.useLayoutEffect=function(B,G){return E.H.useLayoutEffect(B,G)},Mt.useMemo=function(B,G){return E.H.useMemo(B,G)},Mt.useOptimistic=function(B,G){return E.H.useOptimistic(B,G)},Mt.useReducer=function(B,G,ee){return E.H.useReducer(B,G,ee)},Mt.useRef=function(B){return E.H.useRef(B)},Mt.useState=function(B){return E.H.useState(B)},Mt.useSyncExternalStore=function(B,G,ee){return E.H.useSyncExternalStore(B,G,ee)},Mt.useTransition=function(){return E.H.useTransition()},Mt.version="19.0.0",Mt}var lR;function eu(){return lR||(lR=1,g1.exports=n7()),g1.exports}var x=eu();const Qe=Pr(x),lv=uF({__proto__:null,default:Qe},[x]);class ms extends Ys{constructor(t,n,r="local"){super(),this.name=t,this.defaultValue=n,this.driver=r,this.value=void 0,this.get=()=>(this.value===void 0&&(this.value=st[this.driver].getItem(`settings-${this.name}`)??this.defaultValue),this.value),this.set=i=>{this.value=i,st[this.driver].setItem(`settings-${this.name}`,i),this.onUpdate(i)}}}const dV=["high","low"],r7="graphics-level",Vs=new ms(r7,dV[0]),i7=[null,"skip","remoteMics","singstar-mics","different-mics","advanced","built-in"],s7="mic-setup-preference",fV=new ms(s7,i7[0],"session"),hV=[60,30],Ec=new ms("fps-count",hV[0]),ty=new ms("EXCLUDED_LANGUAGES_KEY_V2",null),oi=new ms("MOBILE_PHONE_MODE_KEY",null),pV=new ms("keyboard-help-visibility",!0);var Mj;const cR=(Mj=er.getFeatureFlagPayload)==null?void 0:Mj.call(er,Zc.InitialInputLag),Ed=new ms("INPUT_LAG_V2",typeof cR=="number"?cR:0),gV=new ms("REMOTE_MIC_INPUT_LAG",0,"session"),uR=["write","read"],mV=new ms("DefaultRemoteMicPermission","write"),Bp=new ms("BackgroundThemeSetting","regular","memory"),vw=new ms("AutoEnableFullscreenSetting",!0,"session"),o7=["WebSockets","PeerJS","PartyKit"],cv=new ms("RemoteMicConnectionType","PartyKit","session"),a7=new ms("IsCalibrated",!1);var Rj;(Rj=er.onFeatureFlags)==null||Rj.call(er,()=>{cv.set(er.getFeatureFlagPayload(Zc.RemoteMicConnectionType)??"PartyKit")});function bt(e){const[t,n]=x.useState(()=>e.get());return x.useLayoutEffect(()=>e.addListener(n),[e]),[t,e.set]}const dR="RememberedAccessesKey",m1="rememberedSubscriptionsKey";class l7 extends Ys{constructor(){var t,n;super(...arguments),this.remoteMics=[],this.micAccessMap=((t=st.local)==null?void 0:t.getItem(dR))??{},this.subscriptions=((n=st.session)==null?void 0:n.getItem(m1))??{"remote-mics":[]},this.addRemoteMic=(r,i,s,l,c)=>{this.remoteMics=this.remoteMics.filter(d=>d.id!==r),this.remoteMics=[...this.remoteMics,new t7(r,i,s,c)],this.setPermission(r,this.getPermission(r)),me.remoteMicConnected.dispatch({id:r,name:i,silent:l})},this.removeRemoteMic=(r,i=!1)=>{const s=this.remoteMics.find(l=>l.id===r);this.remoteMics=this.remoteMics.filter(l=>l.id!==r),s&&(s.onDisconnect(),me.remoteMicDisconnected.dispatch(s,i))},this.getRemoteMics=()=>this.remoteMics,this.getRemoteMicById=r=>this.remoteMics.find(i=>i.id===r),this.broadcast=r=>{this.getRemoteMics().forEach(i=>i.connection.send(r))},this.broadcastToChannel=(r,i)=>{this.subscriptions[r].forEach(s=>{var l;return(l=this.getRemoteMicById(s))==null?void 0:l.connection.send(i)})},this.getPermission=r=>this.micAccessMap[r]??mV.get(),this.setPermission=(r,i)=>{var s;(s=this.getRemoteMicById(r))==null||s.setPermission(i),this.micAccessMap[r]=i,st==null||st.setItem(dR,this.micAccessMap),this.onUpdate(r,i)},this.addSubscription=(r,i)=>{var s;this.subscriptions[i]=[...new Set([...this.subscriptions[i],r])],(s=st.session)==null||s.setItem(m1,this.subscriptions),me.remoteMicSubscribed.dispatch(r,i)},this.removeSubscription=(r,i)=>{var s,l;this.subscriptions[i]=((s=this.subscriptions[i])==null?void 0:s.filter(c=>c!==r))??[],(l=st.session)==null||l.setItem(m1,this.subscriptions)}}}const Vt=new l7;Bp.addListener(e=>{XP(e),Vt.broadcast({t:"style-change",style:e})});me.remoteMicConnected.subscribe(e=>{var t;(t=Vt.getRemoteMicById(e.id))==null||t.connection.send({t:"style-change",style:Bp.get()})});class c7{constructor(){this.frequencies=[440,410],this.volumes=[1,1],this.startMonitoring=async()=>{},this.getFrequencies=t=>this.frequencies,this.getVolumes=t=>this.volumes,this.clearFrequencies=t=>{},this.stopMonitoring=async t=>{},this.getInputLag=()=>0,this.setFrequency=(t,n)=>this.frequencies[t]=n,this.requestReadiness=()=>Promise.resolve(!0),this.getStatus=()=>"ok"}}const u7=new c7;class d7{constructor(){this.frequencies=[410,210],this.volumes=[1,1],this.timestamp=0,this.interval=null,this.isMonitoring=!1,this.startMonitoring=async()=>{this.isMonitoring||(this.isMonitoring=!0,this.interval=global.setInterval(()=>{this.timestamp=this.timestamp+32,this.frequencies[0]=Math.sin(this.timestamp/1e3)*50+100,this.frequencies[1]=Math.cos(this.timestamp/1e3)*50+200},32))},this.getFrequencies=()=>this.frequencies,this.getVolumes=()=>this.volumes,this.clearFrequencies=t=>{},this.stopMonitoring=async()=>{this.isMonitoring&&(this.isMonitoring=!1,this.interval&&global.clearInterval(this.interval))},this.getInputLag=()=>150,this.requestReadiness=()=>Promise.resolve(!0),this.getStatus=()=>"ok"}}const f7=new d7,Et=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Tc="8.41.0",Kt=globalThis;function ny(e,t,n){const r=Kt,i=r.__SENTRY__=r.__SENTRY__||{},s=i[Tc]=i[Tc]||{};return s[e]||(s[e]=t())}const Ol=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,h7="Sentry Logger ",CS=["debug","info","warn","error","log","assert","trace"],uv={};function tu(e){if(!("console"in Kt))return e();const t=Kt.console,n={},r=Object.keys(uv);r.forEach(i=>{const s=uv[i];n[i]=t[i],t[i]=s});try{return e()}finally{r.forEach(i=>{t[i]=n[i]})}}function p7(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return Ol?CS.forEach(n=>{t[n]=(...r)=>{e&&tu(()=>{Kt.console[n](`${h7}[${n}]:`,...r)})}}):CS.forEach(n=>{t[n]=()=>{}}),t}const Fe=ny("logger",p7),vV=50,Nc="?",fR=/\(error: (.*)\)/,hR=/captureMessage|captureException/;function yV(...e){const t=e.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0,i=0)=>{const s=[],l=n.split(`
`);for(let c=r;c<l.length;c++){const d=l[c];if(d.length>1024)continue;const u=fR.test(d)?d.replace(fR,"$1"):d;if(!u.match(/\S*Error: /)){for(const h of t){const p=h(u);if(p){s.push(p);break}}if(s.length>=vV+i)break}}return m7(s.slice(i))}}function g7(e){return Array.isArray(e)?yV(...e):e}function m7(e){if(!e.length)return[];const t=Array.from(e);return/sentryWrapped/.test(Cm(t).function||"")&&t.pop(),t.reverse(),hR.test(Cm(t).function||"")&&(t.pop(),hR.test(Cm(t).function||"")&&t.pop()),t.slice(0,vV).map(n=>({...n,filename:n.filename||Cm(t).filename,function:n.function||Nc}))}function Cm(e){return e[e.length-1]||{}}const v1="<anonymous>";function wa(e){try{return!e||typeof e!="function"?v1:e.name||v1}catch{return v1}}function kS(e){const t=e.exception;if(t){const n=[];try{return t.values.forEach(r=>{r.stacktrace.frames&&n.push(...r.stacktrace.frames)}),n}catch{return}}}const S0={},pR={};function jl(e,t){S0[e]=S0[e]||[],S0[e].push(t)}function Pl(e,t){if(!pR[e]){pR[e]=!0;try{t()}catch(n){Ol&&Fe.error(`Error while instrumenting ${e}`,n)}}}function zs(e,t){const n=e&&S0[e];if(n)for(const r of n)try{r(t)}catch(i){Ol&&Fe.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${wa(r)}
Error:`,i)}}let km=null;function AV(e){const t="error";jl(t,e),Pl(t,v7)}function v7(){km=Kt.onerror,Kt.onerror=function(e,t,n,r,i){return zs("error",{column:r,error:i,line:n,msg:e,url:t}),km&&!km.__SENTRY_LOADER__?km.apply(this,arguments):!1},Kt.onerror.__SENTRY_INSTRUMENTED__=!0}let Mm=null;function bV(e){const t="unhandledrejection";jl(t,e),Pl(t,y7)}function y7(){Mm=Kt.onunhandledrejection,Kt.onunhandledrejection=function(e){return zs("unhandledrejection",e),Mm&&!Mm.__SENTRY_LOADER__?Mm.apply(this,arguments):!0},Kt.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function nu(){return yw(Kt),Kt}function yw(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||Tc,t[Tc]=t[Tc]||{}}const _V=Object.prototype.toString;function ry(e){switch(_V.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return Ea(e,Error)}}function tf(e,t){return _V.call(e)===`[object ${t}]`}function SV(e){return tf(e,"ErrorEvent")}function gR(e){return tf(e,"DOMError")}function A7(e){return tf(e,"DOMException")}function _a(e){return tf(e,"String")}function Aw(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function bw(e){return e===null||Aw(e)||typeof e!="object"&&typeof e!="function"}function Fd(e){return tf(e,"Object")}function iy(e){return typeof Event<"u"&&Ea(e,Event)}function b7(e){return typeof Element<"u"&&Ea(e,Element)}function _7(e){return tf(e,"RegExp")}function sy(e){return!!(e&&e.then&&typeof e.then=="function")}function S7(e){return Fd(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function Ea(e,t){try{return e instanceof t}catch{return!1}}function xV(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue))}const Td=Kt,x7=80;function Lc(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,i=[];let s=0,l=0;const c=" > ",d=c.length;let u;const h=Array.isArray(t)?t:t.keyAttrs,p=!Array.isArray(t)&&t.maxStringLength||x7;for(;n&&s++<r&&(u=w7(n,h),!(u==="html"||s>1&&l+i.length*d+u.length>=p));)i.push(u),l+=u.length,n=n.parentNode;return i.reverse().join(c)}catch{return"<unknown>"}}function w7(e,t){const n=e,r=[];if(!n||!n.tagName)return"";if(Td.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());const i=t&&t.length?t.filter(l=>n.getAttribute(l)).map(l=>[l,n.getAttribute(l)]):null;if(i&&i.length)i.forEach(l=>{r.push(`[${l[0]}="${l[1]}"]`)});else{n.id&&r.push(`#${n.id}`);const l=n.className;if(l&&_a(l)){const c=l.split(/\s+/);for(const d of c)r.push(`.${d}`)}}const s=["aria-label","type","name","title","alt"];for(const l of s){const c=n.getAttribute(l);c&&r.push(`[${l}="${c}"]`)}return r.join("")}function E7(){try{return Td.document.location.href}catch{return""}}function T7(e){return Td.document&&Td.document.querySelector?Td.document.querySelector(e):null}function wV(e){if(!Td.HTMLElement)return null;let t=e;const n=5;for(let r=0;r<n;r++){if(!t)return null;if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}function Cd(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function mR(e,t){if(!Array.isArray(e))return"";const n=[];for(let r=0;r<e.length;r++){const i=e[r];try{xV(i)?n.push("[VueViewModel]"):n.push(String(i))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function C7(e,t,n=!1){return _a(e)?_7(t)?t.test(e):_a(t)?n?e===t:e.includes(t):!1:!1}function Cc(e,t=[],n=!1){return t.some(r=>C7(e,r,n))}function os(e,t,n){if(!(t in e))return;const r=e[t],i=n(r);typeof i=="function"&&EV(i,r);try{e[t]=i}catch{Ol&&Fe.log(`Failed to replace method "${t}" in object`,e)}}function $s(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{Ol&&Fe.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function EV(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,$s(e,"__sentry_original__",t)}catch{}}function _w(e){return e.__sentry_original__}function TV(e){if(ry(e))return{message:e.message,name:e.name,stack:e.stack,...yR(e)};if(iy(e)){const t={type:e.type,target:vR(e.target),currentTarget:vR(e.currentTarget),...yR(e)};return typeof CustomEvent<"u"&&Ea(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function vR(e){try{return b7(e)?Lc(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function yR(e){if(typeof e=="object"&&e!==null){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}else return{}}function k7(e,t=40){const n=Object.keys(TV(e));n.sort();const r=n[0];if(!r)return"[object has no keys]";if(r.length>=t)return Cd(r,t);for(let i=n.length;i>0;i--){const s=n.slice(0,i).join(", ");if(!(s.length>t))return i===n.length?s:Cd(s,t)}return""}function ii(e){return MS(e,new Map)}function MS(e,t){if(M7(e)){const n=t.get(e);if(n!==void 0)return n;const r={};t.set(e,r);for(const i of Object.getOwnPropertyNames(e))typeof e[i]<"u"&&(r[i]=MS(e[i],t));return r}if(Array.isArray(e)){const n=t.get(e);if(n!==void 0)return n;const r=[];return t.set(e,r),e.forEach(i=>{r.push(MS(i,t))}),r}return e}function M7(e){if(!Fd(e))return!1;try{const t=Object.getPrototypeOf(e).constructor.name;return!t||t==="Object"}catch{return!0}}const CV=1e3;function Np(){return Date.now()/CV}function R7(){const{performance:e}=Kt;if(!e||!e.now)return Np;const t=Date.now()-e.now(),n=e.timeOrigin==null?t:e.timeOrigin;return()=>(n+e.now())/CV}const si=R7(),Gi=(()=>{const{performance:e}=Kt;if(!e||!e.now)return;const t=3600*1e3,n=e.now(),r=Date.now(),i=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,s=i<t,l=e.timing&&e.timing.navigationStart,d=typeof l=="number"?Math.abs(l+n-r):t,u=d<t;return s||u?i<=d?e.timeOrigin:l:r})();function jr(){const e=Kt,t=e.crypto||e.msCrypto;let n=()=>Math.random()*16;try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>{const r=new Uint8Array(1);return t.getRandomValues(r),r[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,r=>(r^(n()&15)>>r/4).toString(16))}function kV(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function hl(e){const{message:t,event_id:n}=e;if(t)return t;const r=kV(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function RS(e,t,n){const r=e.exception=e.exception||{},i=r.values=r.values||[],s=i[0]=i[0]||{};s.value||(s.value=t||""),s.type||(s.type="Error")}function mp(e,t){const n=kV(e);if(!n)return;const r={type:"generic",handled:!0},i=n.mechanism;if(n.mechanism={...r,...i,...t},t&&"data"in t){const s={...i&&i.data,...t.data};n.mechanism.data=s}}function AR(e){if(e&&e.__sentry_captured__)return!0;try{$s(e,"__sentry_captured__",!0)}catch{}return!1}var ha;(function(e){e[e.PENDING=0]="PENDING";const n=1;e[e.RESOLVED=n]="RESOLVED";const r=2;e[e.REJECTED=r]="REJECTED"})(ha||(ha={}));function Fc(e){return new Os(t=>{t(e)})}function dv(e){return new Os((t,n)=>{n(e)})}class Os{constructor(t){Os.prototype.__init.call(this),Os.prototype.__init2.call(this),Os.prototype.__init3.call(this),Os.prototype.__init4.call(this),this._state=ha.PENDING,this._handlers=[];try{t(this._resolve,this._reject)}catch(n){this._reject(n)}}then(t,n){return new Os((r,i)=>{this._handlers.push([!1,s=>{if(!t)r(s);else try{r(t(s))}catch(l){i(l)}},s=>{if(!n)i(s);else try{r(n(s))}catch(l){i(l)}}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new Os((n,r)=>{let i,s;return this.then(l=>{s=!1,i=l,t&&t()},l=>{s=!0,i=l,t&&t()}).then(()=>{if(s){r(i);return}n(i)})})}__init(){this._resolve=t=>{this._setResult(ha.RESOLVED,t)}}__init2(){this._reject=t=>{this._setResult(ha.REJECTED,t)}}__init3(){this._setResult=(t,n)=>{if(this._state===ha.PENDING){if(sy(n)){n.then(this._resolve,this._reject);return}this._state=t,this._value=n,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===ha.PENDING)return;const t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===ha.RESOLVED&&n[1](this._value),this._state===ha.REJECTED&&n[2](this._value),n[0]=!0)})}}}function I7(e){const t=si(),n={sid:jr(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>j7(n)};return e&&zd(n,e),n}function zd(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||si(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:jr()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function O7(e,t){let n={};e.status==="ok"&&(n={status:"exited"}),zd(e,n)}function j7(e){return ii({sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}function vp(){return{traceId:jr(),spanId:jr().substring(16)}}function oy(e,t,n=2){if(!t||typeof t!="object"||n<=0)return t;if(e&&t&&Object.keys(t).length===0)return e;const r={...e};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=oy(r[i],t[i],n-1));return r}const IS="_sentrySpan";function yp(e,t){t?$s(e,IS,t):delete e[IS]}function fv(e){return e[IS]}const P7=100;class Sw{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=vp()}clone(){const t=new Sw;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._requestSession=this._requestSession,t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,yp(t,fv(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&zd(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this._tags={...this._tags,[t]:n},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const n=typeof t=="function"?t(this):t,[r,i]=n instanceof xl?[n.getScopeData(),n.getRequestSession()]:Fd(n)?[t,t.requestSession]:[],{tags:s,extra:l,user:c,contexts:d,level:u,fingerprint:h=[],propagationContext:p}=r||{};return this._tags={...this._tags,...s},this._extra={...this._extra,...l},this._contexts={...this._contexts,...d},c&&Object.keys(c).length&&(this._user=c),u&&(this._level=u),h.length&&(this._fingerprint=h),p&&(this._propagationContext=p),i&&(this._requestSession=i),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,yp(this,void 0),this._attachments=[],this._propagationContext=vp(),this._notifyScopeListeners(),this}addBreadcrumb(t,n){const r=typeof n=="number"?n:P7;if(r<=0)return this;const i={timestamp:Np(),...t},s=this._breadcrumbs;return s.push(i),this._breadcrumbs=s.length>r?s.slice(-r):s,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:fv(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=oy(this._sdkProcessingMetadata,t,2),this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,n){const r=n&&n.event_id?n.event_id:jr();if(!this._client)return Fe.warn("No client configured on scope - will not capture exception!"),r;const i=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:i,...n,event_id:r},this),r}captureMessage(t,n,r){const i=r&&r.event_id?r.event_id:jr();if(!this._client)return Fe.warn("No client configured on scope - will not capture message!"),i;const s=new Error(t);return this._client.captureMessage(t,n,{originalException:t,syntheticException:s,...r,event_id:i},this),i}captureEvent(t,n){const r=n&&n.event_id?n.event_id:jr();return this._client?(this._client.captureEvent(t,{...n,event_id:r},this),r):(Fe.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}const xl=Sw;function V7(){return ny("defaultCurrentScope",()=>new xl)}function D7(){return ny("defaultIsolationScope",()=>new xl)}class B7{constructor(t,n){let r;t?r=t:r=new xl;let i;n?i=n:i=new xl,this._stack=[{scope:r}],this._isolationScope=i}withScope(t){const n=this._pushScope();let r;try{r=t(n)}catch(i){throw this._popScope(),i}return sy(r)?r.then(i=>(this._popScope(),i),i=>{throw this._popScope(),i}):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}}function $d(){const e=nu(),t=yw(e);return t.stack=t.stack||new B7(V7(),D7())}function N7(e){return $d().withScope(e)}function L7(e,t){const n=$d();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function bR(e){return $d().withScope(()=>e($d().getIsolationScope()))}function F7(){return{withIsolationScope:bR,withScope:N7,withSetScope:L7,withSetIsolationScope:(e,t)=>bR(t),getCurrentScope:()=>$d().getScope(),getIsolationScope:()=>$d().getIsolationScope()}}function nf(e){const t=yw(e);return t.acs?t.acs:F7()}function Dn(){const e=nu();return nf(e).getCurrentScope()}function Bo(){const e=nu();return nf(e).getIsolationScope()}function z7(){return ny("globalScope",()=>new xl)}function ay(...e){const t=nu(),n=nf(t);if(e.length===2){const[r,i]=e;return r?n.withSetScope(r,i):n.withScope(i)}return n.withScope(e[0])}function hn(){return Dn().getClient()}function $7(e){const t=e.getPropagationContext(),{traceId:n,spanId:r,parentSpanId:i}=t;return ii({trace_id:n,span_id:r,parent_span_id:i})}const U7="_sentryMetrics";function OS(e){const t=e[U7];if(!t)return;const n={};for(const[,[r,i]]of t)(n[r]||(n[r]=[])).push(ii(i));return n}const va="sentry.source",MV="sentry.sample_rate",zc="sentry.op",Ar="sentry.origin",jS="sentry.idle_span_finish_reason",ly="sentry.measurement_unit",cy="sentry.measurement_value",H7="sentry.profile_id",xw="sentry.exclusive_time",q7=0,RV=1,Ur=2;function G7(e){if(e<400&&e>=100)return{code:RV};if(e>=400&&e<500)switch(e){case 401:return{code:Ur,message:"unauthenticated"};case 403:return{code:Ur,message:"permission_denied"};case 404:return{code:Ur,message:"not_found"};case 409:return{code:Ur,message:"already_exists"};case 413:return{code:Ur,message:"failed_precondition"};case 429:return{code:Ur,message:"resource_exhausted"};case 499:return{code:Ur,message:"cancelled"};default:return{code:Ur,message:"invalid_argument"}}if(e>=500&&e<600)switch(e){case 501:return{code:Ur,message:"unimplemented"};case 503:return{code:Ur,message:"unavailable"};case 504:return{code:Ur,message:"deadline_exceeded"};default:return{code:Ur,message:"internal_error"}}return{code:Ur,message:"unknown_error"}}function IV(e,t){e.setAttribute("http.response.status_code",t);const n=G7(t);n.message!=="unknown_error"&&e.setStatus(n)}const ww="sentry-",Y7=/^sentry-/,K7=8192;function OV(e){const t=Q7(e);if(!t)return;const n=Object.entries(t).reduce((r,[i,s])=>{if(i.match(Y7)){const l=i.slice(ww.length);r[l]=s}return r},{});if(Object.keys(n).length>0)return n}function W7(e){if(!e)return;const t=Object.entries(e).reduce((n,[r,i])=>(i&&(n[`${ww}${r}`]=i),n),{});return X7(t)}function Q7(e){if(!(!e||!_a(e)&&!Array.isArray(e)))return Array.isArray(e)?e.reduce((t,n)=>{const r=_R(n);return Object.entries(r).forEach(([i,s])=>{t[i]=s}),t},{}):_R(e)}function _R(e){return e.split(",").map(t=>t.split("=").map(n=>decodeURIComponent(n.trim()))).reduce((t,[n,r])=>(n&&r&&(t[n]=r),t),{})}function X7(e){if(Object.keys(e).length!==0)return Object.entries(e).reduce((t,[n,r],i)=>{const s=`${encodeURIComponent(n)}=${encodeURIComponent(r)}`,l=i===0?s:`${t},${s}`;return l.length>K7?(Ol&&Fe.warn(`Not adding key: ${n} with val: ${r} to baggage header due to exceeding baggage size limits.`),t):l},"")}const jV=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function J7(e){if(!e)return;const t=e.match(jV);if(!t)return;let n;return t[3]==="1"?n=!0:t[3]==="0"&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}function Z7(e,t){const n=J7(e),r=OV(t);if(!n||!n.traceId)return vp();const{traceId:i,parentSpanId:s,parentSampled:l}=n,c=jr().substring(16);return{traceId:i,parentSpanId:s,spanId:c,sampled:l,dsc:r||{}}}function PV(e=jr(),t=jr().substring(16),n){let r="";return n!==void 0&&(r=n?"-1":"-0"),`${e}-${t}${r}`}const VV=0,DV=1;let SR=!1;function eU(e){const{spanId:t,traceId:n}=e.spanContext(),{data:r,op:i,parent_span_id:s,status:l,origin:c}=cn(e);return ii({parent_span_id:s,span_id:t,trace_id:n,data:r,op:i,status:l,origin:c})}function tU(e){const{spanId:t,traceId:n}=e.spanContext(),{parent_span_id:r}=cn(e);return ii({parent_span_id:r,span_id:t,trace_id:n})}function nU(e){const{traceId:t,spanId:n}=e.spanContext(),r=ru(e);return PV(t,n,r)}function kc(e){return typeof e=="number"?xR(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?xR(e.getTime()):si()}function xR(e){return e>9999999999?e/1e3:e}function cn(e){if(iU(e))return e.getSpanJSON();try{const{spanId:t,traceId:n}=e.spanContext();if(rU(e)){const{attributes:r,startTime:i,name:s,endTime:l,parentSpanId:c,status:d}=e;return ii({span_id:t,trace_id:n,data:r,description:s,parent_span_id:c,start_timestamp:kc(i),timestamp:kc(l)||void 0,status:BV(d),op:r[zc],origin:r[Ar],_metrics_summary:OS(e)})}return{span_id:t,trace_id:n}}catch{return{}}}function rU(e){const t=e;return!!t.attributes&&!!t.startTime&&!!t.name&&!!t.endTime&&!!t.status}function iU(e){return typeof e.getSpanJSON=="function"}function ru(e){const{traceFlags:t}=e.spanContext();return t===DV}function BV(e){if(!(!e||e.code===q7))return e.code===RV?"ok":e.message||"unknown_error"}const Mc="_sentryChildSpans",PS="_sentryRootSpan";function NV(e,t){const n=e[PS]||e;$s(t,PS,n),e[Mc]?e[Mc].add(t):$s(e,Mc,new Set([t]))}function sU(e,t){e[Mc]&&e[Mc].delete(t)}function x0(e){const t=new Set;function n(r){if(!t.has(r)&&ru(r)){t.add(r);const i=r[Mc]?Array.from(r[Mc]):[];for(const s of i)n(s)}}return n(e),Array.from(t)}function hi(e){return e[PS]||e}function mi(){const e=nu(),t=nf(e);return t.getActiveSpan?t.getActiveSpan():fv(Dn())}function LV(){SR||(tu(()=>{console.warn("[Sentry] Deprecation warning: Returning null from `beforeSendSpan` will be disallowed from SDK version 9.0.0 onwards. The callback will only support mutating spans. To drop certain spans, configure the respective integrations directly.")}),SR=!0)}let wR=!1;function oU(){wR||(wR=!0,AV(VS),bV(VS))}function VS(){const e=mi(),t=e&&hi(e);if(t){const n="internal_error";Et&&Fe.log(`[Tracing] Root span: ${n} -> Global error occurred`),t.setStatus({code:Ur,message:n})}}VS.tag="sentry_tracingErrorCallback";const FV="_sentryScope",zV="_sentryIsolationScope";function aU(e,t,n){e&&($s(e,zV,n),$s(e,FV,t))}function ER(e){return{scope:e[FV],isolationScope:e[zV]}}function wl(e){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const t=hn(),n=e||t&&t.getOptions();return!!n&&(n.enableTracing||"tracesSampleRate"in n||"tracesSampler"in n)}class rf{constructor(t={}){this._traceId=t.traceId||jr(),this._spanId=t.spanId||jr().substring(16)}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:VV}}end(t){}setAttribute(t,n){return this}setAttributes(t){return this}setStatus(t){return this}updateName(t){return this}isRecording(){return!1}addEvent(t,n,r){return this}addLink(t){return this}addLinks(t){return this}recordException(t,n){}}const Ew="production",$V="_frozenDsc";function TR(e,t){$s(e,$V,t)}function UV(e,t){const n=t.getOptions(),{publicKey:r}=t.getDsn()||{},i=ii({environment:n.environment||Ew,release:n.release,public_key:r,trace_id:e});return t.emit("createDsc",i),i}function HV(e,t){const n=t.getPropagationContext();return n.dsc||UV(n.traceId,e)}function sf(e){const t=hn();if(!t)return{};const n=hi(e),r=n[$V];if(r)return r;const i=n.spanContext().traceState,s=i&&i.get("sentry.dsc"),l=s&&OV(s);if(l)return l;const c=UV(e.spanContext().traceId,t),d=cn(n),u=d.data||{},h=u[MV];h!=null&&(c.sample_rate=`${h}`);const p=u[va],v=d.description;return p!=="url"&&v&&(c.transaction=v),wl()&&(c.sampled=String(ru(n))),t.emit("createDsc",c,n),c}function lU(e){if(!Et)return;const{description:t="< unknown name >",op:n="< unknown op >",parent_span_id:r}=cn(e),{spanId:i}=e.spanContext(),s=ru(e),l=hi(e),c=l===e,d=`[Tracing] Starting ${s?"sampled":"unsampled"} ${c?"root ":""}span`,u=[`op: ${n}`,`name: ${t}`,`ID: ${i}`];if(r&&u.push(`parent ID: ${r}`),!c){const{op:h,description:p}=cn(l);u.push(`root ID: ${l.spanContext().spanId}`),h&&u.push(`root op: ${h}`),p&&u.push(`root description: ${p}`)}Fe.log(`${d}
  ${u.join(`
  `)}`)}function cU(e){if(!Et)return;const{description:t="< unknown name >",op:n="< unknown op >"}=cn(e),{spanId:r}=e.spanContext(),s=hi(e)===e,l=`[Tracing] Finishing "${n}" ${s?"root ":""}span "${t}" with ID ${r}`;Fe.log(l)}function qV(e){if(typeof e=="boolean")return Number(e);const t=typeof e=="string"?parseFloat(e):e;if(typeof t!="number"||isNaN(t)||t<0||t>1){Et&&Fe.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`);return}return t}function uU(e,t){if(!wl(e))return[!1];let n;typeof e.tracesSampler=="function"?n=e.tracesSampler(t):t.parentSampled!==void 0?n=t.parentSampled:typeof e.tracesSampleRate<"u"?n=e.tracesSampleRate:n=1;const r=qV(n);return r===void 0?(Et&&Fe.warn("[Tracing] Discarding transaction because of invalid sample rate."),[!1]):r?Math.random()<r?[!0,r]:(Et&&Fe.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(n)})`),[!1,r]):(Et&&Fe.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,r])}const dU=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function fU(e){return e==="http"||e==="https"}function of(e,t=!1){const{host:n,path:r,pass:i,port:s,projectId:l,protocol:c,publicKey:d}=e;return`${c}://${d}${t&&i?`:${i}`:""}@${n}${s?`:${s}`:""}/${r&&`${r}/`}${l}`}function hU(e){const t=dU.exec(e);if(!t){tu(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}const[n,r,i="",s="",l="",c=""]=t.slice(1);let d="",u=c;const h=u.split("/");if(h.length>1&&(d=h.slice(0,-1).join("/"),u=h.pop()),u){const p=u.match(/^\d+/);p&&(u=p[0])}return GV({host:s,pass:i,path:d,projectId:u,port:l,protocol:n,publicKey:r})}function GV(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function pU(e){if(!Ol)return!0;const{port:t,projectId:n,protocol:r}=e;return["protocol","publicKey","host","projectId"].find(l=>e[l]?!1:(Fe.error(`Invalid Sentry Dsn: ${l} missing`),!0))?!1:n.match(/^\d+$/)?fU(r)?t&&isNaN(parseInt(t,10))?(Fe.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):!0:(Fe.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(Fe.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}function YV(e){const t=typeof e=="string"?hU(e):GV(e);if(!(!t||!pU(t)))return t}function gU(){const e=typeof WeakSet=="function",t=e?new WeakSet:[];function n(i){if(e)return t.has(i)?!0:(t.add(i),!1);for(let s=0;s<t.length;s++)if(t[s]===i)return!0;return t.push(i),!1}function r(i){if(e)t.delete(i);else for(let s=0;s<t.length;s++)if(t[s]===i){t.splice(s,1);break}}return[n,r]}function pl(e,t=100,n=1/0){try{return DS("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function KV(e,t=3,n=100*1024){const r=pl(e,t);return AU(r)>n?KV(e,t-1,n):r}function DS(e,t,n=1/0,r=1/0,i=gU()){const[s,l]=i;if(t==null||["boolean","string"].includes(typeof t)||typeof t=="number"&&Number.isFinite(t))return t;const c=mU(e,t);if(!c.startsWith("[object "))return c;if(t.__sentry_skip_normalization__)return t;const d=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:n;if(d===0)return c.replace("object ","");if(s(t))return"[Circular ~]";const u=t;if(u&&typeof u.toJSON=="function")try{const y=u.toJSON();return DS("",y,d-1,r,i)}catch{}const h=Array.isArray(t)?[]:{};let p=0;const v=TV(t);for(const y in v){if(!Object.prototype.hasOwnProperty.call(v,y))continue;if(p>=r){h[y]="[MaxProperties ~]";break}const b=v[y];h[y]=DS(y,b,d-1,r,i),p++}return l(t),h}function mU(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&t===global)return"[Global]";if(typeof window<"u"&&t===window)return"[Window]";if(typeof document<"u"&&t===document)return"[Document]";if(xV(t))return"[VueViewModel]";if(S7(t))return"[SyntheticEvent]";if(typeof t=="number"&&!Number.isFinite(t))return`[${t}]`;if(typeof t=="function")return`[Function: ${wa(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;const n=vU(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function vU(e){const t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}function yU(e){return~-encodeURI(e).split(/%..|./).length}function AU(e){return yU(JSON.stringify(e))}function af(e,t=[]){return[e,t]}function bU(e,t){const[n,r]=e;return[n,[...r,t]]}function BS(e,t){const n=e[1];for(const r of n){const i=r[0].type;if(t(r,i))return!0}return!1}function NS(e){return Kt.__SENTRY__&&Kt.__SENTRY__.encodePolyfill?Kt.__SENTRY__.encodePolyfill(e):new TextEncoder().encode(e)}function _U(e){const[t,n]=e;let r=JSON.stringify(t);function i(s){typeof r=="string"?r=typeof s=="string"?r+s:[NS(r),s]:r.push(typeof s=="string"?NS(s):s)}for(const s of n){const[l,c]=s;if(i(`
${JSON.stringify(l)}
`),typeof c=="string"||c instanceof Uint8Array)i(c);else{let d;try{d=JSON.stringify(c)}catch{d=JSON.stringify(pl(c))}i(d)}}return typeof r=="string"?r:SU(r)}function SU(e){const t=e.reduce((i,s)=>i+s.length,0),n=new Uint8Array(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return n}function xU(e){return[{type:"span"},e]}function wU(e){const t=typeof e.data=="string"?NS(e.data):e.data;return[ii({type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),t]}const EU={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket"};function CR(e){return EU[e]}function WV(e){if(!e||!e.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function TU(e,t,n,r){const i=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:of(r)},...i&&{trace:ii({...i})}}}function CU(e,t){return t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]]),e}function kU(e,t,n,r){const i=WV(n),s={sent_at:new Date().toISOString(),...i&&{sdk:i},...!!r&&t&&{dsn:of(t)}},l="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return af(s,[l])}function MU(e,t,n,r){const i=WV(n),s=e.type&&e.type!=="replay_event"?e.type:"event";CU(e,n&&n.sdk);const l=TU(e,i,r,t);return delete e.sdkProcessingMetadata,af(l,[[{type:s},e]])}function RU(e,t){function n(h){return!!h.trace_id&&!!h.public_key}const r=sf(e[0]),i=t&&t.getDsn(),s=t&&t.getOptions().tunnel,l={sent_at:new Date().toISOString(),...n(r)&&{trace:r},...!!s&&i&&{dsn:of(i)}},c=t&&t.getOptions().beforeSendSpan,d=c?h=>{const p=c(cn(h));return p||LV(),p}:h=>cn(h),u=[];for(const h of e){const p=d(h);p&&u.push(xU(p))}return af(l,u)}function IU(e,t,n,r=mi()){const i=r&&hi(r);i&&(Et&&Fe.log(`[Measurement] Setting measurement on root span: ${e} = ${t} ${n}`),i.addEvent(e,{[cy]:t,[ly]:n}))}function kR(e){if(!e||e.length===0)return;const t={};return e.forEach(n=>{const r=n.attributes||{},i=r[ly],s=r[cy];typeof i=="string"&&typeof s=="number"&&(t[n.name]={value:s,unit:i})}),t}const MR=1e3;class Tw{constructor(t={}){this._traceId=t.traceId||jr(),this._spanId=t.spanId||jr().substring(16),this._startTime=t.startTimestamp||si(),this._attributes={},this.setAttributes({[Ar]:"manual",[zc]:t.op,...t.attributes}),this._name=t.name,t.parentSpanId&&(this._parentSpanId=t.parentSpanId),"sampled"in t&&(this._sampled=t.sampled),t.endTimestamp&&(this._endTime=t.endTimestamp),this._events=[],this._isStandaloneSpan=t.isStandalone,this._endTime&&this._onSpanEnded()}addLink(t){return this}addLinks(t){return this}recordException(t,n){}spanContext(){const{_spanId:t,_traceId:n,_sampled:r}=this;return{spanId:t,traceId:n,traceFlags:r?DV:VV}}setAttribute(t,n){return n===void 0?delete this._attributes[t]:this._attributes[t]=n,this}setAttributes(t){return Object.keys(t).forEach(n=>this.setAttribute(n,t[n])),this}updateStartTime(t){this._startTime=kc(t)}setStatus(t){return this._status=t,this}updateName(t){return this._name=t,this.setAttribute(va,"custom"),this}end(t){this._endTime||(this._endTime=kc(t),cU(this),this._onSpanEnded())}getSpanJSON(){return ii({data:this._attributes,description:this._name,op:this._attributes[zc],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:BV(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[Ar],_metrics_summary:OS(this),profile_id:this._attributes[H7],exclusive_time:this._attributes[xw],measurements:kR(this._events),is_segment:this._isStandaloneSpan&&hi(this)===this||void 0,segment_id:this._isStandaloneSpan?hi(this).spanContext().spanId:void 0})}isRecording(){return!this._endTime&&!!this._sampled}addEvent(t,n,r){Et&&Fe.log("[Tracing] Adding an event to span:",t);const i=RR(n)?n:r||si(),s=RR(n)?{}:n||{},l={name:t,time:kc(i),attributes:s};return this._events.push(l),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){const t=hn();if(t&&t.emit("spanEnd",this),!(this._isStandaloneSpan||this===hi(this)))return;if(this._isStandaloneSpan){this._sampled?jU(RU([this],t)):(Et&&Fe.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),t&&t.recordDroppedEvent("sample_rate","span"));return}const r=this._convertSpanToTransaction();r&&(ER(this).scope||Dn()).captureEvent(r)}_convertSpanToTransaction(){if(!IR(cn(this)))return;this._name||(Et&&Fe.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");const{scope:t,isolationScope:n}=ER(this),i=(t||Dn()).getClient()||hn();if(this._sampled!==!0){Et&&Fe.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),i&&i.recordDroppedEvent("sample_rate","transaction");return}const l=x0(this).filter(p=>p!==this&&!OU(p)).map(p=>cn(p)).filter(IR),c=this._attributes[va],d={contexts:{trace:eU(this)},spans:l.length>MR?l.sort((p,v)=>p.start_timestamp-v.start_timestamp).slice(0,MR):l,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:t,capturedSpanIsolationScope:n,...ii({dynamicSamplingContext:sf(this)})},_metrics_summary:OS(this),...c&&{transaction_info:{source:c}}},u=kR(this._events);return u&&Object.keys(u).length&&(Et&&Fe.log("[Measurements] Adding measurements to transaction event",JSON.stringify(u,void 0,2)),d.measurements=u),d}}function RR(e){return e&&typeof e=="number"||e instanceof Date||Array.isArray(e)}function IR(e){return!!e.start_timestamp&&!!e.timestamp&&!!e.span_id&&!!e.trace_id}function OU(e){return e instanceof Tw&&e.isStandaloneSpan()}function jU(e){const t=hn();if(!t)return;const n=e[1];if(!n||n.length===0){t.recordDroppedEvent("before_send","span");return}t.sendEnvelope(e)}const QV="__SENTRY_SUPPRESS_TRACING__";function _l(e){const t=XV();if(t.startInactiveSpan)return t.startInactiveSpan(e);const n=VU(e),{forceTransaction:r,parentSpan:i}=e;return(e.scope?l=>ay(e.scope,l):i!==void 0?l=>hv(i,l):l=>l())(()=>{const l=Dn(),c=BU(l);return e.onlyIfParent&&!c?new rf:PU({parentSpan:c,spanArguments:n,forceTransaction:r,scope:l})})}function hv(e,t){const n=XV();return n.withActiveSpan?n.withActiveSpan(e,t):ay(r=>(yp(r,e||void 0),t(r)))}function PU({parentSpan:e,spanArguments:t,forceTransaction:n,scope:r}){if(!wl())return new rf;const i=Bo();let s;if(e&&!n)s=DU(e,r,t),NV(e,s);else if(e){const l=sf(e),{traceId:c,spanId:d}=e.spanContext(),u=ru(e);s=OR({traceId:c,parentSpanId:d,...t},r,u),TR(s,l)}else{const{traceId:l,dsc:c,parentSpanId:d,sampled:u}={...i.getPropagationContext(),...r.getPropagationContext()};s=OR({traceId:l,parentSpanId:d,...t},r,u),c&&TR(s,c)}return lU(s),aU(s,r,i),s}function VU(e){const n={isStandalone:(e.experimental||{}).standalone,...e};if(e.startTime){const r={...n};return r.startTimestamp=kc(e.startTime),delete r.startTime,r}return n}function XV(){const e=nu();return nf(e)}function OR(e,t,n){const r=hn(),i=r&&r.getOptions()||{},{name:s="",attributes:l}=e,[c,d]=t.getScopeData().sdkProcessingMetadata[QV]?[!1]:uU(i,{name:s,parentSampled:n,attributes:l,transactionContext:{name:s,parentSampled:n}}),u=new Tw({...e,attributes:{[va]:"custom",...e.attributes},sampled:c});return d!==void 0&&u.setAttribute(MV,d),r&&r.emit("spanStart",u),u}function DU(e,t,n){const{spanId:r,traceId:i}=e.spanContext(),s=t.getScopeData().sdkProcessingMetadata[QV]?!1:ru(e),l=s?new Tw({...n,parentSpanId:r,traceId:i,sampled:s}):new rf({traceId:i});NV(e,l);const c=hn();return c&&(c.emit("spanStart",l),n.endTimestamp&&c.emit("spanEnd",l)),l}function BU(e){const t=fv(e);if(!t)return;const n=hn();return(n?n.getOptions():{}).parentSpanIsAlwaysRootSpan?hi(t):t}const w0={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3},NU="heartbeatFailed",LU="idleTimeout",FU="finalTimeout",zU="externalFinish";function JV(e,t={}){const n=new Map;let r=!1,i,s=zU,l=!t.disableAutoFinish;const c=[],{idleTimeout:d=w0.idleTimeout,finalTimeout:u=w0.finalTimeout,childSpanTimeout:h=w0.childSpanTimeout,beforeSpanEnd:p}=t,v=hn();if(!v||!wl())return new rf;const y=Dn(),b=mi(),_=$U(e);_.end=new Proxy(_.end,{apply(O,j,D){p&&p(_);const[P,...C]=D,N=P||si(),U=kc(N),L=x0(_).filter(Q=>Q!==_);if(!L.length)return E(U),Reflect.apply(O,j,[U,...C]);const q=L.map(Q=>cn(Q).timestamp).filter(Q=>!!Q),H=q.length?Math.max(...q):void 0,V=cn(_).start_timestamp,W=Math.min(V?V+u/1e3:1/0,Math.max(V||-1/0,Math.min(U,H||1/0)));return E(W),Reflect.apply(O,j,[W,...C])}});function w(){i&&(clearTimeout(i),i=void 0)}function T(O){w(),i=setTimeout(()=>{!r&&n.size===0&&l&&(s=LU,_.end(O))},d)}function k(O){i=setTimeout(()=>{!r&&l&&(s=NU,_.end(O))},h)}function R(O){w(),n.set(O,!0);const j=si();k(j+h/1e3)}function M(O){if(n.has(O)&&n.delete(O),n.size===0){const j=si();T(j+d/1e3)}}function E(O){r=!0,n.clear(),c.forEach(U=>U()),yp(y,b);const j=cn(_),{start_timestamp:D}=j;if(!D)return;(j.data||{})[jS]||_.setAttribute(jS,s),Fe.log(`[Tracing] Idle span "${j.op}" finished`);const C=x0(_).filter(U=>U!==_);let N=0;C.forEach(U=>{U.isRecording()&&(U.setStatus({code:Ur,message:"cancelled"}),U.end(O),Et&&Fe.log("[Tracing] Cancelling span since span ended early",JSON.stringify(U,void 0,2)));const L=cn(U),{timestamp:q=0,start_timestamp:H=0}=L,V=H<=O,W=(u+d)/1e3,Q=q-H<=W;if(Et){const J=JSON.stringify(U,void 0,2);V?Q||Fe.log("[Tracing] Discarding span since it finished after idle span final timeout",J):Fe.log("[Tracing] Discarding span since it happened after idle span was finished",J)}(!Q||!V)&&(sU(_,U),N++)}),N>0&&_.setAttribute("sentry.idle_span_discarded_spans",N)}return c.push(v.on("spanStart",O=>{if(r||O===_||cn(O).timestamp)return;x0(_).includes(O)&&R(O.spanContext().spanId)})),c.push(v.on("spanEnd",O=>{r||M(O.spanContext().spanId)})),c.push(v.on("idleSpanEnableAutoFinish",O=>{O===_&&(l=!0,T(),n.size&&k())})),t.disableAutoFinish||T(),setTimeout(()=>{r||(_.setStatus({code:Ur,message:"deadline_exceeded"}),s=FU,_.end())},u),_}function $U(e){const t=_l(e);return yp(Dn(),t),Et&&Fe.log("[Tracing] Started span is an idle span"),t}function LS(e,t,n,r=0){return new Os((i,s)=>{const l=e[r];if(t===null||typeof l!="function")i(t);else{const c=l({...t},n);Et&&l.id&&c===null&&Fe.log(`Event processor "${l.id}" dropped event`),sy(c)?c.then(d=>LS(e,d,n,r+1).then(i)).then(null,s):LS(e,c,n,r+1).then(i).then(null,s)}})}let Rm,jR,Im;function UU(e){const t=Kt._sentryDebugIds;if(!t)return{};const n=Object.keys(t);return Im&&n.length===jR||(jR=n.length,Im=n.reduce((r,i)=>{Rm||(Rm={});const s=Rm[i];if(s)r[s[0]]=s[1];else{const l=e(i);for(let c=l.length-1;c>=0;c--){const d=l[c],u=d&&d.filename,h=t[i];if(u&&h){r[u]=h,Rm[i]=[u,h];break}}}return r},{})),Im}function HU(e,t){const{fingerprint:n,span:r,breadcrumbs:i,sdkProcessingMetadata:s}=t;qU(e,t),r&&KU(e,r),WU(e,n),GU(e,i),YU(e,s)}function PR(e,t){const{extra:n,tags:r,user:i,contexts:s,level:l,sdkProcessingMetadata:c,breadcrumbs:d,fingerprint:u,eventProcessors:h,attachments:p,propagationContext:v,transactionName:y,span:b}=t;Om(e,"extra",n),Om(e,"tags",r),Om(e,"user",i),Om(e,"contexts",s),e.sdkProcessingMetadata=oy(e.sdkProcessingMetadata,c,2),l&&(e.level=l),y&&(e.transactionName=y),b&&(e.span=b),d.length&&(e.breadcrumbs=[...e.breadcrumbs,...d]),u.length&&(e.fingerprint=[...e.fingerprint,...u]),h.length&&(e.eventProcessors=[...e.eventProcessors,...h]),p.length&&(e.attachments=[...e.attachments,...p]),e.propagationContext={...e.propagationContext,...v}}function Om(e,t,n){e[t]=oy(e[t],n,1)}function qU(e,t){const{extra:n,tags:r,user:i,contexts:s,level:l,transactionName:c}=t,d=ii(n);d&&Object.keys(d).length&&(e.extra={...d,...e.extra});const u=ii(r);u&&Object.keys(u).length&&(e.tags={...u,...e.tags});const h=ii(i);h&&Object.keys(h).length&&(e.user={...h,...e.user});const p=ii(s);p&&Object.keys(p).length&&(e.contexts={...p,...e.contexts}),l&&(e.level=l),c&&e.type!=="transaction"&&(e.transaction=c)}function GU(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}function YU(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}function KU(e,t){e.contexts={trace:tU(t),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:sf(t),...e.sdkProcessingMetadata};const n=hi(t),r=cn(n).description;r&&!e.transaction&&e.type==="transaction"&&(e.transaction=r)}function WU(e,t){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}function QU(e,t,n,r,i,s){const{normalizeDepth:l=3,normalizeMaxBreadth:c=1e3}=e,d={...t,event_id:t.event_id||n.event_id||jr(),timestamp:t.timestamp||Np()},u=n.integrations||e.integrations.map(w=>w.name);XU(d,e),e9(d,u),i&&i.emit("applyFrameMetadata",t),t.type===void 0&&JU(d,e.stackParser);const h=n9(r,n.captureContext);n.mechanism&&mp(d,n.mechanism);const p=i?i.getEventProcessors():[],v=z7().getScopeData();if(s){const w=s.getScopeData();PR(v,w)}if(h){const w=h.getScopeData();PR(v,w)}const y=[...n.attachments||[],...v.attachments];y.length&&(n.attachments=y),HU(d,v);const b=[...p,...v.eventProcessors];return LS(b,d,n).then(w=>(w&&ZU(w),typeof l=="number"&&l>0?t9(w,l,c):w))}function XU(e,t){const{environment:n,release:r,dist:i,maxValueLength:s=250}=t;e.environment=e.environment||n||Ew,!e.release&&r&&(e.release=r),!e.dist&&i&&(e.dist=i),e.message&&(e.message=Cd(e.message,s));const l=e.exception&&e.exception.values&&e.exception.values[0];l&&l.value&&(l.value=Cd(l.value,s));const c=e.request;c&&c.url&&(c.url=Cd(c.url,s))}function JU(e,t){const n=UU(t);try{e.exception.values.forEach(r=>{r.stacktrace.frames.forEach(i=>{n&&i.filename&&(i.debug_id=n[i.filename])})})}catch{}}function ZU(e){const t={};try{e.exception.values.forEach(r=>{r.stacktrace.frames.forEach(i=>{i.debug_id&&(i.abs_path?t[i.abs_path]=i.debug_id:i.filename&&(t[i.filename]=i.debug_id),delete i.debug_id)})})}catch{}if(Object.keys(t).length===0)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.entries(t).forEach(([r,i])=>{n.push({type:"sourcemap",code_file:r,debug_id:i})})}function e9(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function t9(e,t,n){if(!e)return null;const r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(i=>({...i,...i.data&&{data:pl(i.data,t,n)}}))},...e.user&&{user:pl(e.user,t,n)},...e.contexts&&{contexts:pl(e.contexts,t,n)},...e.extra&&{extra:pl(e.extra,t,n)}};return e.contexts&&e.contexts.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=pl(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map(i=>({...i,...i.data&&{data:pl(i.data,t,n)}}))),r}function n9(e,t){if(!t)return e;const n=e?e.clone():new xl;return n.update(t),n}function r9(e){if(e)return i9(e)?{captureContext:e}:o9(e)?{captureContext:e}:e}function i9(e){return e instanceof xl||typeof e=="function"}const s9=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function o9(e){return Object.keys(e).some(t=>s9.includes(t))}function fo(e,t){return Dn().captureException(e,r9(t))}function ZV(e,t){return Dn().captureEvent(e,t)}function a9(e,t){Bo().setContext(e,t)}function l9(e){Bo().setUser(e)}function c9(){return Bo().lastEventId()}function u9(){const e=hn();return!!e&&e.getOptions().enabled!==!1&&!!e.getTransport()}function VR(e){const t=hn(),n=Bo(),r=Dn(),{release:i,environment:s=Ew}=t&&t.getOptions()||{},{userAgent:l}=Kt.navigator||{},c=I7({release:i,environment:s,user:r.getUser()||n.getUser(),...l&&{userAgent:l},...e}),d=n.getSession();return d&&d.status==="ok"&&zd(d,{status:"exited"}),e4(),n.setSession(c),r.setSession(c),c}function e4(){const e=Bo(),t=Dn(),n=t.getSession()||e.getSession();n&&O7(n),t4(),e.setSession(),t.setSession()}function t4(){const e=Bo(),t=Dn(),n=hn(),r=t.getSession()||e.getSession();r&&n&&n.captureSession(r)}function DR(e=!1){if(e){e4();return}t4()}const d9="7";function n4(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function f9(e){return`${n4(e)}${e.projectId}/envelope/`}function h9(e,t){const n={sentry_version:d9};return e.publicKey&&(n.sentry_key=e.publicKey),t&&(n.sentry_client=`${t.name}/${t.version}`),new URLSearchParams(n).toString()}function p9(e,t,n){return t||`${f9(e)}?${h9(e,n)}`}function g9(e,t){const n=YV(e);if(!n)return"";const r=`${n4(n)}embed/error-page/`;let i=`dsn=${of(n)}`;for(const s in t)if(s!=="dsn"&&s!=="onClose")if(s==="user"){const l=t.user;if(!l)continue;l.name&&(i+=`&name=${encodeURIComponent(l.name)}`),l.email&&(i+=`&email=${encodeURIComponent(l.email)}`)}else i+=`&${encodeURIComponent(s)}=${encodeURIComponent(t[s])}`;return`${r}?${i}`}const BR=[];function m9(e){const t={};return e.forEach(n=>{const{name:r}=n,i=t[r];i&&!i.isDefaultInstance&&n.isDefaultInstance||(t[r]=n)}),Object.values(t)}function v9(e){const t=e.defaultIntegrations||[],n=e.integrations;t.forEach(l=>{l.isDefaultInstance=!0});let r;if(Array.isArray(n))r=[...t,...n];else if(typeof n=="function"){const l=n(t);r=Array.isArray(l)?l:[l]}else r=t;const i=m9(r),s=i.findIndex(l=>l.name==="Debug");if(s>-1){const[l]=i.splice(s,1);i.push(l)}return i}function y9(e,t){const n={};return t.forEach(r=>{r&&r4(e,r,n)}),n}function NR(e,t){for(const n of t)n&&n.afterAllSetup&&n.afterAllSetup(e)}function r4(e,t,n){if(n[t.name]){Et&&Fe.log(`Integration skipped because it was already installed: ${t.name}`);return}if(n[t.name]=t,BR.indexOf(t.name)===-1&&typeof t.setupOnce=="function"&&(t.setupOnce(),BR.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),typeof t.preprocessEvent=="function"){const r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(i,s)=>r(i,s,e))}if(typeof t.processEvent=="function"){const r=t.processEvent.bind(t),i=Object.assign((s,l)=>r(s,l,e),{id:t.name});e.addEventProcessor(i)}Et&&Fe.log(`Integration installed: ${t.name}`)}function A9(e,t,n){const r=[{type:"client_report"},{timestamp:Np(),discarded_events:e}];return af(t?{dsn:t}:{},[r])}class ko extends Error{constructor(t,n="warn"){super(t),this.message=t,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=n}}const LR="Not capturing exception because it's already been captured.";class b9{constructor(t){if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=YV(t.dsn):Et&&Fe.warn("No DSN provided, client will not send events."),this._dsn){const i=p9(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:i})}const r=["enableTracing","tracesSampleRate","tracesSampler"].find(i=>i in t&&t[i]==null);r&&tu(()=>{console.warn(`[Sentry] Deprecation warning: \`${r}\` is set to undefined, which leads to tracing being enabled. In v9, a value of \`undefined\` will result in tracing being disabled.`)})}captureException(t,n,r){const i=jr();if(AR(t))return Et&&Fe.log(LR),i;const s={event_id:i,...n};return this._process(this.eventFromException(t,s).then(l=>this._captureEvent(l,s,r))),s.event_id}captureMessage(t,n,r,i){const s={event_id:jr(),...r},l=Aw(t)?t:String(t),c=bw(t)?this.eventFromMessage(l,n,s):this.eventFromException(t,s);return this._process(c.then(d=>this._captureEvent(d,s,i))),s.event_id}captureEvent(t,n,r){const i=jr();if(n&&n.originalException&&AR(n.originalException))return Et&&Fe.log(LR),i;const s={event_id:i,...n},c=(t.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(t,s,c||r)),s.event_id}captureSession(t){typeof t.release!="string"?Et&&Fe.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),zd(t,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const n=this._transport;return n?(this.emit("flush"),this._isClientDoneProcessing(t).then(r=>n.flush(t).then(i=>r&&i))):Fc(!0)}close(t){return this.flush(t).then(n=>(this.getOptions().enabled=!1,this.emit("close"),n))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){(this._isEnabled()||this._options.integrations.some(({name:t})=>t.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){const n=this._integrations[t.name];r4(this,t,this._integrations),n||NR(this,[t])}sendEvent(t,n={}){this.emit("beforeSendEvent",t,n);let r=MU(t,this._dsn,this._options._metadata,this._options.tunnel);for(const s of n.attachments||[])r=bU(r,wU(s));const i=this.sendEnvelope(r);i&&i.then(s=>this.emit("afterSendEvent",t,s),null)}sendSession(t){const n=kU(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(n)}recordDroppedEvent(t,n,r){if(this._options.sendClientReports){const i=typeof r=="number"?r:1,s=`${t}:${n}`;Et&&Fe.log(`Recording outcome: "${s}"${i>1?` (${i} times)`:""}`),this._outcomes[s]=(this._outcomes[s]||0)+i}}on(t,n){const r=this._hooks[t]=this._hooks[t]||[];return r.push(n),()=>{const i=r.indexOf(n);i>-1&&r.splice(i,1)}}emit(t,...n){const r=this._hooks[t];r&&r.forEach(i=>i(...n))}sendEnvelope(t){return this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport?this._transport.send(t).then(null,n=>(Et&&Fe.error("Error while sending envelope:",n),n)):(Et&&Fe.error("Transport disabled"),Fc({}))}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=y9(this,t),NR(this,t)}_updateSessionFromEvent(t,n){let r=!1,i=!1;const s=n.exception&&n.exception.values;if(s){i=!0;for(const d of s){const u=d.mechanism;if(u&&u.handled===!1){r=!0;break}}}const l=t.status==="ok";(l&&t.errors===0||l&&r)&&(zd(t,{...r&&{status:"crashed"},errors:t.errors||Number(i||r)}),this.captureSession(t))}_isClientDoneProcessing(t){return new Os(n=>{let r=0;const i=1,s=setInterval(()=>{this._numProcessing==0?(clearInterval(s),n(!0)):(r+=i,t&&r>=t&&(clearInterval(s),n(!1)))},i)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,n,r=Dn(),i=Bo()){const s=this.getOptions(),l=Object.keys(this._integrations);return!n.integrations&&l.length>0&&(n.integrations=l),this.emit("preprocessEvent",t,n),t.type||i.setLastEventId(t.event_id||n.event_id),QU(s,t,n,r,this,i).then(c=>{if(c===null)return c;c.contexts={trace:$7(r),...c.contexts};const d=HV(this,r);return c.sdkProcessingMetadata={dynamicSamplingContext:d,...c.sdkProcessingMetadata},c})}_captureEvent(t,n={},r){return this._processEvent(t,n,r).then(i=>i.event_id,i=>{if(Et){const s=i;s.logLevel==="log"?Fe.log(s.message):Fe.warn(s)}})}_processEvent(t,n,r){const i=this.getOptions(),{sampleRate:s}=i,l=s4(t),c=i4(t),d=t.type||"error",u=`before send for type \`${d}\``,h=typeof s>"u"?void 0:qV(s);if(c&&typeof h=="number"&&Math.random()>h)return this.recordDroppedEvent("sample_rate","error",t),dv(new ko(`Discarding event because it's not included in the random sample (sampling rate = ${s})`,"log"));const p=d==="replay_event"?"replay":d,y=(t.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(t,n,r,y).then(b=>{if(b===null)throw this.recordDroppedEvent("event_processor",p,t),new ko("An event processor returned `null`, will not send event.","log");if(n.data&&n.data.__sentry__===!0)return b;const w=S9(this,i,b,n);return _9(w,u)}).then(b=>{if(b===null){if(this.recordDroppedEvent("before_send",p,t),l){const k=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",k)}throw new ko(`${u} returned \`null\`, will not send event.`,"log")}const _=r&&r.getSession();if(!l&&_&&this._updateSessionFromEvent(_,b),l){const T=b.sdkProcessingMetadata&&b.sdkProcessingMetadata.spanCountBeforeProcessing||0,k=b.spans?b.spans.length:0,R=T-k;R>0&&this.recordDroppedEvent("before_send","span",R)}const w=b.transaction_info;if(l&&w&&b.transaction!==t.transaction){const T="custom";b.transaction_info={...w,source:T}}return this.sendEvent(b,n),b}).then(null,b=>{throw b instanceof ko?b:(this.captureException(b,{data:{__sentry__:!0},originalException:b}),new ko(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${b}`))})}_process(t){this._numProcessing++,t.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.entries(t).map(([n,r])=>{const[i,s]=n.split(":");return{reason:i,category:s,quantity:r}})}_flushOutcomes(){Et&&Fe.log("Flushing outcomes...");const t=this._clearOutcomes();if(t.length===0){Et&&Fe.log("No outcomes to send");return}if(!this._dsn){Et&&Fe.log("No dsn provided, will not send outcomes");return}Et&&Fe.log("Sending outcomes:",t);const n=A9(t,this._options.tunnel&&of(this._dsn));this.sendEnvelope(n)}}function _9(e,t){const n=`${t} must return \`null\` or a valid event.`;if(sy(e))return e.then(r=>{if(!Fd(r)&&r!==null)throw new ko(n);return r},r=>{throw new ko(`${t} rejected with ${r}`)});if(!Fd(e)&&e!==null)throw new ko(n);return e}function S9(e,t,n,r){const{beforeSend:i,beforeSendTransaction:s,beforeSendSpan:l}=t;if(i4(n)&&i)return i(n,r);if(s4(n)){if(n.spans&&l){const c=[];for(const d of n.spans){const u=l(d);u?c.push(u):(LV(),e.recordDroppedEvent("before_send","span"))}n.spans=c}if(s){if(n.spans){const c=n.spans.length;n.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:c}}return s(n,r)}}return n}function i4(e){return e.type===void 0}function s4(e){return e.type==="transaction"}function x9(e,t){t.debug===!0&&(Et?Fe.enable():tu(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),Dn().update(t.initialScope);const r=new e(t);return w9(r),r.init(),r}function w9(e){Dn().setClient(e)}function E9(e){const t=[];function n(){return e===void 0||t.length<e}function r(l){return t.splice(t.indexOf(l),1)[0]||Promise.resolve(void 0)}function i(l){if(!n())return dv(new ko("Not adding Promise because buffer limit was reached."));const c=l();return t.indexOf(c)===-1&&t.push(c),c.then(()=>r(c)).then(null,()=>r(c).then(null,()=>{})),c}function s(l){return new Os((c,d)=>{let u=t.length;if(!u)return c(!0);const h=setTimeout(()=>{l&&l>0&&c(!1)},l);t.forEach(p=>{Fc(p).then(()=>{--u||(clearTimeout(h),c(!0))},d)})})}return{$:t,add:i,drain:s}}const T9=60*1e3;function C9(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return n*1e3;const r=Date.parse(`${e}`);return isNaN(r)?T9:r-t}function k9(e,t){return e[t]||e.all||0}function M9(e,t,n=Date.now()){return k9(e,t)>n}function R9(e,{statusCode:t,headers:n},r=Date.now()){const i={...e},s=n&&n["x-sentry-rate-limits"],l=n&&n["retry-after"];if(s)for(const c of s.trim().split(",")){const[d,u,,,h]=c.split(":",5),p=parseInt(d,10),v=(isNaN(p)?60:p)*1e3;if(!u)i.all=r+v;else for(const y of u.split(";"))y==="metric_bucket"?(!h||h.split(";").includes("custom"))&&(i[y]=r+v):i[y]=r+v}else l?i.all=r+C9(l,r):t===429&&(i.all=r+60*1e3);return i}const I9=64;function O9(e,t,n=E9(e.bufferSize||I9)){let r={};const i=l=>n.drain(l);function s(l){const c=[];if(BS(l,(p,v)=>{const y=CR(v);if(M9(r,y)){const b=FR(p,v);e.recordDroppedEvent("ratelimit_backoff",y,b)}else c.push(p)}),c.length===0)return Fc({});const d=af(l[0],c),u=p=>{BS(d,(v,y)=>{const b=FR(v,y);e.recordDroppedEvent(p,CR(y),b)})},h=()=>t({body:_U(d)}).then(p=>(p.statusCode!==void 0&&(p.statusCode<200||p.statusCode>=300)&&Et&&Fe.warn(`Sentry responded with status code ${p.statusCode} to sent event.`),r=R9(r,p),p),p=>{throw u("network_error"),p});return n.add(h).then(p=>p,p=>{if(p instanceof ko)return Et&&Fe.error("Skipped sending event because buffer is full."),u("queue_overflow"),Fc({});throw p})}return{send:s,flush:i}}function FR(e,t){if(!(t!=="event"&&t!=="transaction"))return Array.isArray(e)?e[1]:void 0}function o4(e,t,n=[t],r="npm"){const i=e._metadata||{};i.sdk||(i.sdk={name:`sentry.javascript.${t}`,packages:n.map(s=>({name:`${r}:@sentry/${s}`,version:Tc})),version:Tc}),e._metadata=i}function a4(e={}){const t=hn();if(!u9()||!t)return{};const n=nu(),r=nf(n);if(r.getTraceData)return r.getTraceData(e);const i=Dn(),s=e.span||mi(),l=s?nU(s):j9(i),c=s?sf(s):HV(t,i),d=W7(c);return jV.test(l)?{"sentry-trace":l,baggage:d}:(Fe.warn("Invalid sentry-trace data. Cannot generate trace data"),{})}function j9(e){const{traceId:t,sampled:n,spanId:r}=e.getPropagationContext();return PV(t,r,n)}const P9=100;function $c(e,t){const n=hn(),r=Bo();if(!n)return;const{beforeBreadcrumb:i=null,maxBreadcrumbs:s=P9}=n.getOptions();if(s<=0)return;const c={timestamp:Np(),...e},d=i?tu(()=>i(c,t)):c;d!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",d,t),r.addBreadcrumb(d,s))}let zR;const V9="FunctionToString",$R=new WeakMap,D9=()=>({name:V9,setupOnce(){zR=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=_w(this),n=$R.has(hn())&&t!==void 0?t:this;return zR.apply(n,e)}}catch{}},setup(e){$R.set(e,!0)}}),B9=D9,N9=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler"],L9="InboundFilters",F9=(e={})=>({name:L9,processEvent(t,n,r){const i=r.getOptions(),s=$9(e,i);return U9(t,s)?null:t}}),z9=F9;function $9(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:N9],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]],ignoreInternal:e.ignoreInternal!==void 0?e.ignoreInternal:!0}}function U9(e,t){return t.ignoreInternal&&W9(e)?(Et&&Fe.warn(`Event dropped due to being internal Sentry Error.
Event: ${hl(e)}`),!0):H9(e,t.ignoreErrors)?(Et&&Fe.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${hl(e)}`),!0):X9(e)?(Et&&Fe.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${hl(e)}`),!0):q9(e,t.ignoreTransactions)?(Et&&Fe.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${hl(e)}`),!0):G9(e,t.denyUrls)?(Et&&Fe.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${hl(e)}.
Url: ${pv(e)}`),!0):Y9(e,t.allowUrls)?!1:(Et&&Fe.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${hl(e)}.
Url: ${pv(e)}`),!0)}function H9(e,t){return e.type||!t||!t.length?!1:K9(e).some(n=>Cc(n,t))}function q9(e,t){if(e.type!=="transaction"||!t||!t.length)return!1;const n=e.transaction;return n?Cc(n,t):!1}function G9(e,t){if(!t||!t.length)return!1;const n=pv(e);return n?Cc(n,t):!1}function Y9(e,t){if(!t||!t.length)return!0;const n=pv(e);return n?Cc(n,t):!0}function K9(e){const t=[];e.message&&t.push(e.message);let n;try{n=e.exception.values[e.exception.values.length-1]}catch{}return n&&n.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`)),t}function W9(e){try{return e.exception.values[0].type==="SentryError"}catch{}return!1}function Q9(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function pv(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch{}return t?Q9(t):null}catch{return Et&&Fe.error(`Cannot extract url for event ${hl(e)}`),null}}function X9(e){return e.type||!e.exception||!e.exception.values||e.exception.values.length===0?!1:!e.message&&!e.exception.values.some(t=>t.stacktrace||t.type&&t.type!=="Error"||t.value)}function J9(e,t,n=250,r,i,s,l){if(!s.exception||!s.exception.values||!l||!Ea(l.originalException,Error))return;const c=s.exception.values.length>0?s.exception.values[s.exception.values.length-1]:void 0;c&&(s.exception.values=Z9(FS(e,t,i,l.originalException,r,s.exception.values,c,0),n))}function FS(e,t,n,r,i,s,l,c){if(s.length>=n+1)return s;let d=[...s];if(Ea(r[i],Error)){UR(l,c);const u=e(t,r[i]),h=d.length;HR(u,i,h,c),d=FS(e,t,n,r[i],i,[u,...d],u,h)}return Array.isArray(r.errors)&&r.errors.forEach((u,h)=>{if(Ea(u,Error)){UR(l,c);const p=e(t,u),v=d.length;HR(p,`errors[${h}]`,v,c),d=FS(e,t,n,u,i,[p,...d],p,v)}}),d}function UR(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function HR(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}function Z9(e,t){return e.map(n=>(n.value&&(n.value=Cd(n.value,t)),n))}const l4=new Map,qR=new Set;function eH(e){if(Kt._sentryModuleMetadata)for(const t of Object.keys(Kt._sentryModuleMetadata)){const n=Kt._sentryModuleMetadata[t];if(qR.has(t))continue;qR.add(t);const r=e(t);for(const i of r.reverse())if(i.filename){l4.set(i.filename,n);break}}}function tH(e,t){return eH(e),l4.get(t)}function nH(e,t){try{t.exception.values.forEach(n=>{if(n.stacktrace)for(const r of n.stacktrace.frames||[]){if(!r.filename||r.module_metadata)continue;const i=tH(e,r.filename);i&&(r.module_metadata=i)}})}catch{}}function rH(e){try{e.exception.values.forEach(t=>{if(t.stacktrace)for(const n of t.stacktrace.frames||[])delete n.module_metadata})}catch{}}function Rc(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}function iH(e){const t="console";jl(t,e),Pl(t,sH)}function sH(){"console"in Kt&&CS.forEach(function(e){e in Kt.console&&os(Kt.console,e,function(t){return uv[e]=t,function(...n){zs("console",{args:n,level:e});const i=uv[e];i&&i.apply(Kt.console,n)}})})}function oH(e){return e==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(e)?e:"log"}const aH="Dedupe",lH=()=>{let e;return{name:aH,processEvent(t){if(t.type)return t;try{if(uH(t,e))return Et&&Fe.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}},cH=lH;function uH(e,t){return t?!!(dH(e,t)||fH(e,t)):!1}function dH(e,t){const n=e.message,r=t.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!u4(e,t)||!c4(e,t))}function fH(e,t){const n=GR(t),r=GR(e);return!(!n||!r||n.type!==r.type||n.value!==r.value||!u4(e,t)||!c4(e,t))}function c4(e,t){let n=kS(e),r=kS(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let i=0;i<r.length;i++){const s=r[i],l=n[i];if(s.filename!==l.filename||s.lineno!==l.lineno||s.colno!==l.colno||s.function!==l.function)return!1}return!0}function u4(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function GR(e){return e.exception&&e.exception.values&&e.exception.values[0]}const hH=e=>({name:"ThirdPartyErrorsFilter",setup(t){t.on("beforeEnvelope",n=>{BS(n,(r,i)=>{if(i==="event"){const s=Array.isArray(r)?r[1]:void 0;s&&(rH(s),r[1]=s)}})}),t.on("applyFrameMetadata",n=>{if(n.type)return;const r=t.getOptions().stackParser;nH(r,n)})},processEvent(t){const n=pH(t);if(n){const r=e.behaviour==="drop-error-if-contains-third-party-frames"||e.behaviour==="apply-tag-if-contains-third-party-frames"?"some":"every";if(n[r](s=>!s.some(l=>e.filterKeys.includes(l)))){if(e.behaviour==="drop-error-if-contains-third-party-frames"||e.behaviour==="drop-error-if-exclusively-contains-third-party-frames")return null;t.tags={...t.tags,third_party_code:!0}}}return t}});function pH(e){const t=kS(e);if(t)return t.filter(n=>!!n.filename).map(n=>n.module_metadata?Object.keys(n.module_metadata).filter(r=>r.startsWith(YR)).map(r=>r.slice(YR.length)):[])}const YR="_sentryBundlerPluginAppKey:";function gH(e,t,n,r,i="auto.http.browser"){if(!e.fetchData)return;const s=wl()&&t(e.fetchData.url);if(e.endTimestamp&&s){const v=e.fetchData.__span;if(!v)return;const y=r[v];y&&(yH(y,e),delete r[v]);return}const{method:l,url:c}=e.fetchData,d=vH(c),u=d?Rc(d).host:void 0,h=!!mi(),p=s&&h?_l({name:`${l} ${c}`,attributes:{url:c,type:"fetch","http.method":l,"http.url":d,"server.address":u,[Ar]:i,[zc]:"http.client"}}):new rf;if(e.fetchData.__span=p.spanContext().spanId,r[p.spanContext().spanId]=p,n(e.fetchData.url)){const v=e.args[0],y=e.args[1]||{},b=mH(v,y,wl()&&h?p:void 0);b&&(e.args[1]=y,y.headers=b)}return p}function mH(e,t,n){const r=a4({span:n}),i=r["sentry-trace"],s=r.baggage;if(!i)return;const l=t.headers||(AH(e)?e.headers:void 0);if(l)if(bH(l)){const c=new Headers(l);if(c.set("sentry-trace",i),s){const d=c.get("baggage");if(d){const u=jm(d);c.set("baggage",u?`${u},${s}`:s)}else c.set("baggage",s)}return c}else if(Array.isArray(l)){const c=[...l.filter(d=>!(Array.isArray(d)&&d[0]==="sentry-trace")).map(d=>{if(Array.isArray(d)&&d[0]==="baggage"&&typeof d[1]=="string"){const[u,h,...p]=d;return[u,jm(h),...p]}else return d}),["sentry-trace",i]];return s&&c.push(["baggage",s]),c}else{const c="baggage"in l?l.baggage:void 0;let d=[];return Array.isArray(c)?d=c.map(u=>typeof u=="string"?jm(u):u).filter(u=>u===""):c&&d.push(jm(c)),s&&d.push(s),{...l,"sentry-trace":i,baggage:d.length>0?d.join(","):void 0}}else return{...r}}function vH(e){try{return new URL(e).href}catch{return}}function yH(e,t){if(t.response){IV(e,t.response.status);const n=t.response&&t.response.headers&&t.response.headers.get("content-length");if(n){const r=parseInt(n);r>0&&e.setAttribute("http.response_content_length",r)}}else t.error&&e.setStatus({code:Ur,message:"internal_error"});e.end()}function jm(e){return e.split(",").filter(t=>!t.split("=")[0].startsWith(ww)).join(",")}function AH(e){return typeof Request<"u"&&Ea(e,Request)}function bH(e){return typeof Headers<"u"&&Ea(e,Headers)}function d4(e){if(e!==void 0)return e>=400&&e<500?"warning":e>=500?"error":void 0}const zS=Kt;function f4(){if(!("fetch"in zS))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function $S(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function _H(){if(typeof EdgeRuntime=="string")return!0;if(!f4())return!1;if($S(zS.fetch))return!0;let e=!1;const t=zS.document;if(t&&typeof t.createElement=="function")try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=$S(n.contentWindow.fetch)),t.head.removeChild(n)}catch(n){Ol&&Fe.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e}function h4(e,t){const n="fetch";jl(n,e),Pl(n,()=>p4(void 0,t))}function SH(e){const t="fetch-body-resolved";jl(t,e),Pl(t,()=>p4(wH))}function p4(e,t=!1){t&&!_H()||os(Kt,"fetch",function(n){return function(...r){const{method:i,url:s}=EH(r),l={args:r,fetchData:{method:i,url:s},startTimestamp:si()*1e3};e||zs("fetch",{...l});const c=new Error().stack;return n.apply(Kt,r).then(async d=>(e?e(d):zs("fetch",{...l,endTimestamp:si()*1e3,response:d}),d),d=>{throw zs("fetch",{...l,endTimestamp:si()*1e3,error:d}),ry(d)&&d.stack===void 0&&(d.stack=c,$s(d,"framesToPop",1)),d})}})}async function xH(e,t){if(e&&e.body){const n=e.body,r=n.getReader(),i=setTimeout(()=>{n.cancel().then(null,()=>{})},90*1e3);let s=!0;for(;s;){let l;try{l=setTimeout(()=>{n.cancel().then(null,()=>{})},5e3);const{done:c}=await r.read();clearTimeout(l),c&&(t(),s=!1)}catch{s=!1}finally{clearTimeout(l)}}clearTimeout(i),r.releaseLock(),n.cancel().then(null,()=>{})}}function wH(e){let t;try{t=e.clone()}catch{return}xH(t,()=>{zs("fetch-body-resolved",{endTimestamp:si()*1e3,response:e})})}function US(e,t){return!!e&&typeof e=="object"&&!!e[t]}function KR(e){return typeof e=="string"?e:e?US(e,"url")?e.url:e.toString?e.toString():"":""}function EH(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){const[n,r]=e;return{url:KR(n),method:US(r,"method")?String(r.method).toUpperCase():"GET"}}const t=e[0];return{url:KR(t),method:US(t,"method")?String(t.method).toUpperCase():"GET"}}function TH(){return"npm"}const Pm=Kt;function CH(){const e=Pm.chrome,t=e&&e.app&&e.app.runtime,n="history"in Pm&&!!Pm.history.pushState&&!!Pm.history.replaceState;return!t&&n}const dt=Kt;let HS=0;function g4(){return HS>0}function kH(){HS++,setTimeout(()=>{HS--})}function Ud(e,t={},n){if(typeof e!="function")return e;try{const i=e.__sentry_wrapped__;if(i)return typeof i=="function"?i:e;if(_w(e))return e}catch{return e}const r=function(){const i=Array.prototype.slice.call(arguments);try{const s=i.map(l=>Ud(l,t));return e.apply(this,s)}catch(s){throw kH(),ay(l=>{l.addEventProcessor(c=>(t.mechanism&&(RS(c,void 0),mp(c,t.mechanism)),c.extra={...c.extra,arguments:i},c)),fo(s)}),s}};try{for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}catch{}EV(r,e),$s(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return e.name}})}catch{}return r}const ls=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function Cw(e,t){const n=kw(e,t),r={type:jH(t),value:PH(t)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function MH(e,t,n,r){const i=hn(),s=i&&i.getOptions().normalizeDepth,l=LH(t),c={__serialized__:KV(t,s)};if(l)return{exception:{values:[Cw(e,l)]},extra:c};const d={exception:{values:[{type:iy(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:BH(t,{isUnhandledRejection:r})}]},extra:c};if(n){const u=kw(e,n);u.length&&(d.exception.values[0].stacktrace={frames:u})}return d}function y1(e,t){return{exception:{values:[Cw(e,t)]}}}function kw(e,t){const n=t.stacktrace||t.stack||"",r=IH(t),i=OH(t);try{return e(n,r,i)}catch{}return[]}const RH=/Minified React error #\d+;/i;function IH(e){return e&&RH.test(e.message)?1:0}function OH(e){return typeof e.framesToPop=="number"?e.framesToPop:0}function m4(e){return typeof WebAssembly<"u"&&typeof WebAssembly.Exception<"u"?e instanceof WebAssembly.Exception:!1}function jH(e){const t=e&&e.name;return!t&&m4(e)?e.message&&Array.isArray(e.message)&&e.message.length==2?e.message[0]:"WebAssembly.Exception":t}function PH(e){const t=e&&e.message;return t?t.error&&typeof t.error.message=="string"?t.error.message:m4(e)&&Array.isArray(e.message)&&e.message.length==2?e.message[1]:t:"No error message"}function VH(e,t,n,r){const i=n&&n.syntheticException||void 0,s=Mw(e,t,i,r);return mp(s),s.level="error",n&&n.event_id&&(s.event_id=n.event_id),Fc(s)}function DH(e,t,n="info",r,i){const s=r&&r.syntheticException||void 0,l=qS(e,t,s,i);return l.level=n,r&&r.event_id&&(l.event_id=r.event_id),Fc(l)}function Mw(e,t,n,r,i){let s;if(SV(t)&&t.error)return y1(e,t.error);if(gR(t)||A7(t)){const l=t;if("stack"in t)s=y1(e,t);else{const c=l.name||(gR(l)?"DOMError":"DOMException"),d=l.message?`${c}: ${l.message}`:c;s=qS(e,d,n,r),RS(s,d)}return"code"in l&&(s.tags={...s.tags,"DOMException.code":`${l.code}`}),s}return ry(t)?y1(e,t):Fd(t)||iy(t)?(s=MH(e,t,n,i),mp(s,{synthetic:!0}),s):(s=qS(e,t,n,r),RS(s,`${t}`),mp(s,{synthetic:!0}),s)}function qS(e,t,n,r){const i={};if(r&&n){const s=kw(e,n);s.length&&(i.exception={values:[{value:t,stacktrace:{frames:s}}]})}if(Aw(t)){const{__sentry_template_string__:s,__sentry_template_values__:l}=t;return i.logentry={message:s,params:l},i}return i.message=t,i}function BH(e,{isUnhandledRejection:t}){const n=k7(e),r=t?"promise rejection":"exception";return SV(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:iy(e)?`Event \`${NH(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}function NH(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}function LH(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const n=e[t];if(n instanceof Error)return n}}function FH(e,{metadata:t,tunnel:n,dsn:r}){const i={event_id:e.event_id,sent_at:new Date().toISOString(),...t&&t.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}},...!!n&&!!r&&{dsn:of(r)}},s=zH(e);return af(i,[s])}function zH(e){return[{type:"user_report"},e]}class $H extends b9{constructor(t){const n={parentSpanIsAlwaysRootSpan:!0,...t},r=dt.SENTRY_SDK_SOURCE||TH();o4(n,"browser",["browser"],r),super(n),n.sendClientReports&&dt.document&&dt.document.addEventListener("visibilitychange",()=>{dt.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(t,n){return VH(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",r){return DH(this._options.stackParser,t,n,r,this._options.attachStacktrace)}captureUserFeedback(t){if(!this._isEnabled()){ls&&Fe.warn("SDK not enabled, will not capture user feedback.");return}const n=FH(t,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(n)}_prepareEvent(t,n,r){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,r)}}const Rw=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,UH=(e,t)=>e>t[1]?"poor":e>t[0]?"needs-improvement":"good",lf=(e,t,n,r)=>{let i,s;return l=>{t.value>=0&&(l||r)&&(s=t.value-(i||0),(s||i===void 0)&&(i=t.value,t.delta=s,t.rating=UH(t.value,n),e(t)))}},gt=Kt,HH=()=>`v3-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,Lp=()=>gt.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0],Fp=()=>{const e=Lp();return e&&e.activationStart||0},cf=(e,t)=>{const n=Lp();let r="navigate";return n&&(gt.document&&gt.document.prerendering||Fp()>0?r="prerender":gt.document&&gt.document.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:typeof t>"u"?-1:t,rating:"good",delta:0,entries:[],id:HH(),navigationType:r}},iu=(e,t,n)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const r=new PerformanceObserver(i=>{Promise.resolve().then(()=>{t(i.getEntries())})});return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch{}},zp=e=>{const t=n=>{(n.type==="pagehide"||gt.document&&gt.document.visibilityState==="hidden")&&e(n)};gt.document&&(addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0))},Iw=e=>{let t=!1;return n=>{t||(e(n),t=!0)}};let Ap=-1;const qH=()=>{Ap=gt.document.visibilityState==="hidden"&&!gt.document.prerendering?0:1/0},gv=e=>{gt.document.visibilityState==="hidden"&&Ap>-1&&(Ap=e.type==="visibilitychange"?e.timeStamp:0,removeEventListener("visibilitychange",gv,!0),removeEventListener("prerenderingchange",gv,!0))},GH=()=>{addEventListener("visibilitychange",gv,!0),addEventListener("prerenderingchange",gv,!0)},uy=()=>(gt.document&&Ap<0&&(qH(),GH()),{get firstHiddenTime(){return Ap}}),$p=e=>{gt.document&&gt.document.prerendering?addEventListener("prerenderingchange",()=>e(),!0):e()},YH=[1800,3e3],KH=(e,t={})=>{$p(()=>{const n=uy(),r=cf("FCP");let i;const l=iu("paint",c=>{c.forEach(d=>{d.name==="first-contentful-paint"&&(l.disconnect(),d.startTime<n.firstHiddenTime&&(r.value=Math.max(d.startTime-Fp(),0),r.entries.push(d),i(!0)))})});l&&(i=lf(e,r,YH,t.reportAllChanges))})},WH=[.1,.25],QH=(e,t={})=>{KH(Iw(()=>{const n=cf("CLS",0);let r,i=0,s=[];const l=d=>{d.forEach(u=>{if(!u.hadRecentInput){const h=s[0],p=s[s.length-1];i&&h&&p&&u.startTime-p.startTime<1e3&&u.startTime-h.startTime<5e3?(i+=u.value,s.push(u)):(i=u.value,s=[u])}}),i>n.value&&(n.value=i,n.entries=s,r())},c=iu("layout-shift",l);c&&(r=lf(e,n,WH,t.reportAllChanges),zp(()=>{l(c.takeRecords()),r(!0)}),setTimeout(r,0))}))},XH=[100,300],JH=(e,t={})=>{$p(()=>{const n=uy(),r=cf("FID");let i;const s=d=>{d.startTime<n.firstHiddenTime&&(r.value=d.processingStart-d.startTime,r.entries.push(d),i(!0))},l=d=>{d.forEach(s)},c=iu("first-input",l);i=lf(e,r,XH,t.reportAllChanges),c&&zp(Iw(()=>{l(c.takeRecords()),c.disconnect()}))})};let v4=0,A1=1/0,Vm=0;const ZH=e=>{e.forEach(t=>{t.interactionId&&(A1=Math.min(A1,t.interactionId),Vm=Math.max(Vm,t.interactionId),v4=Vm?(Vm-A1)/7+1:0)})};let GS;const eq=()=>GS?v4:performance.interactionCount||0,tq=()=>{"interactionCount"in performance||GS||(GS=iu("event",ZH,{type:"event",buffered:!0,durationThreshold:0}))},nq=[200,500],rq=0,y4=()=>eq()-rq,WR=10,pa=[],b1={},QR=e=>{const t=pa[pa.length-1],n=b1[e.interactionId];if(n||pa.length<WR||t&&e.duration>t.latency){if(n)n.entries.push(e),n.latency=Math.max(n.latency,e.duration);else{const r={id:e.interactionId,latency:e.duration,entries:[e]};b1[r.id]=r,pa.push(r)}pa.sort((r,i)=>i.latency-r.latency),pa.splice(WR).forEach(r=>{delete b1[r.id]})}},iq=()=>{const e=Math.min(pa.length-1,Math.floor(y4()/50));return pa[e]},sq=(e,t={})=>{$p(()=>{tq();const n=cf("INP");let r;const i=l=>{l.forEach(d=>{d.interactionId&&QR(d),d.entryType==="first-input"&&!pa.some(h=>h.entries.some(p=>d.duration===p.duration&&d.startTime===p.startTime))&&QR(d)});const c=iq();c&&c.latency!==n.value&&(n.value=c.latency,n.entries=c.entries,r())},s=iu("event",i,{durationThreshold:t.durationThreshold!=null?t.durationThreshold:40});r=lf(e,n,nq,t.reportAllChanges),s&&("PerformanceEventTiming"in gt&&"interactionId"in PerformanceEventTiming.prototype&&s.observe({type:"first-input",buffered:!0}),zp(()=>{i(s.takeRecords()),n.value<0&&y4()>0&&(n.value=0,n.entries=[]),r(!0)}))})},oq=[2500,4e3],XR={},aq=(e,t={})=>{$p(()=>{const n=uy(),r=cf("LCP");let i;const s=c=>{const d=c[c.length-1];d&&d.startTime<n.firstHiddenTime&&(r.value=Math.max(d.startTime-Fp(),0),r.entries=[d],i())},l=iu("largest-contentful-paint",s);if(l){i=lf(e,r,oq,t.reportAllChanges);const c=Iw(()=>{XR[r.id]||(s(l.takeRecords()),l.disconnect(),XR[r.id]=!0,i(!0))});["keydown","click"].forEach(d=>{gt.document&&addEventListener(d,()=>setTimeout(c,0),!0)}),zp(c)}})},lq=[800,1800],YS=e=>{gt.document&&gt.document.prerendering?$p(()=>YS(e)):gt.document&&gt.document.readyState!=="complete"?addEventListener("load",()=>YS(e),!0):setTimeout(e,0)},cq=(e,t={})=>{const n=cf("TTFB"),r=lf(e,n,lq,t.reportAllChanges);YS(()=>{const i=Lp();if(i){const s=i.responseStart;if(s<=0||s>performance.now())return;n.value=Math.max(s-Fp(),0),n.entries=[i],r(!0)}})},tp={},mv={};let A4,b4,_4,S4,x4;function w4(e,t=!1){return Up("cls",e,pq,A4,t)}function uq(e,t=!1){return Up("lcp",e,mq,_4,t)}function dq(e){return Up("fid",e,gq,b4)}function fq(e){return Up("ttfb",e,vq,S4)}function hq(e){return Up("inp",e,yq,x4)}function bp(e,t){return E4(e,t),mv[e]||(Aq(e),mv[e]=!0),T4(e,t)}function uf(e,t){const n=tp[e];if(!(!n||!n.length))for(const r of n)try{r(t)}catch(i){Rw&&Fe.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${wa(r)}
Error:`,i)}}function pq(){return QH(e=>{uf("cls",{metric:e}),A4=e},{reportAllChanges:!0})}function gq(){return JH(e=>{uf("fid",{metric:e}),b4=e})}function mq(){return aq(e=>{uf("lcp",{metric:e}),_4=e},{reportAllChanges:!0})}function vq(){return cq(e=>{uf("ttfb",{metric:e}),S4=e})}function yq(){return sq(e=>{uf("inp",{metric:e}),x4=e})}function Up(e,t,n,r,i=!1){E4(e,t);let s;return mv[e]||(s=n(),mv[e]=!0),r&&t({metric:r}),T4(e,t,i?s:void 0)}function Aq(e){const t={};e==="event"&&(t.durationThreshold=0),iu(e,n=>{uf(e,{entries:n})},t)}function E4(e,t){tp[e]=tp[e]||[],tp[e].push(t)}function T4(e,t,n){return()=>{n&&n();const r=tp[e];if(!r)return;const i=r.indexOf(t);i!==-1&&r.splice(i,1)}}function bq(e){return"duration"in e}function _1(e){return typeof e=="number"&&isFinite(e)}function Ta(e,t,n,{...r}){const i=cn(e).start_timestamp;return i&&i>t&&typeof e.updateStartTime=="function"&&e.updateStartTime(t),hv(e,()=>{const s=_l({startTime:t,...r});return s&&s.end(n),s})}function C4(e){const t=hn();if(!t)return;const{name:n,transaction:r,attributes:i,startTime:s}=e,{release:l,environment:c}=t.getOptions(),d=t.getIntegrationByName("Replay"),u=d&&d.getReplayId(),h=Dn(),p=h.getUser(),v=p!==void 0?p.email||p.id||p.ip_address:void 0;let y;try{y=h.getScopeData().contexts.profile.profile_id}catch{}const b={release:l,environment:c,user:v||void 0,profile_id:y||void 0,replay_id:u||void 0,transaction:r,"user_agent.original":gt.navigator&&gt.navigator.userAgent,...i};return _l({name:n,attributes:b,startTime:s,experimental:{standalone:!0}})}function Ow(){return gt&&gt.addEventListener&&gt.performance}function yr(e){return e/1e3}function _q(){let e=0,t,n;if(!xq())return;let r=!1;function i(){r||(r=!0,n&&Sq(e,t,n),s())}const s=w4(({metric:l})=>{const c=l.entries[l.entries.length-1];c&&(e=l.value,t=c)},!0);zp(()=>{i()}),setTimeout(()=>{const l=hn();if(!l)return;const c=l.on("startNavigationSpan",()=>{i(),c&&c()}),d=mi(),u=d&&hi(d),h=u&&cn(u);h&&h.op==="pageload"&&(n=u.spanContext().spanId)},0)}function Sq(e,t,n){Rw&&Fe.log(`Sending CLS span (${e})`);const r=yr((Gi||0)+(t&&t.startTime||0)),i=Dn().getScopeData().transactionName,s=t?Lc(t.sources[0]&&t.sources[0].node):"Layout shift",l=ii({[Ar]:"auto.http.browser.cls",[zc]:"ui.webvital.cls",[xw]:t&&t.duration||0,"sentry.pageload.span_id":n}),c=C4({name:s,transaction:i,attributes:l,startTime:r});c&&(c.addEvent("cls",{[ly]:"",[cy]:e}),c.end(r))}function xq(){try{return PerformanceObserver.supportedEntryTypes.includes("layout-shift")}catch{return!1}}const wq=2147483647;let JR=0,Zr={},Li,np;function Eq({recordClsStandaloneSpans:e}){const t=Ow();if(t&&Gi){t.mark&&gt.performance.mark("sentry-tracing-init");const n=Iq(),r=Rq(),i=Oq(),s=e?_q():Mq();return()=>{n(),r(),i(),s&&s()}}return()=>{}}function Tq(){bp("longtask",({entries:e})=>{const t=mi();if(!t)return;const{op:n,start_timestamp:r}=cn(t);for(const i of e){const s=yr(Gi+i.startTime),l=yr(i.duration);n==="navigation"&&r&&s<r||Ta(t,s,s+l,{name:"Main UI thread blocked",op:"ui.long-task",attributes:{[Ar]:"auto.ui.browser.metrics"}})}})}function Cq(){new PerformanceObserver(t=>{const n=mi();if(n)for(const r of t.getEntries()){if(!r.scripts[0])continue;const i=yr(Gi+r.startTime),{start_timestamp:s,op:l}=cn(n);if(l==="navigation"&&s&&i<s)continue;const c=yr(r.duration),d={[Ar]:"auto.ui.browser.metrics"},u=r.scripts[0],{invoker:h,invokerType:p,sourceURL:v,sourceFunctionName:y,sourceCharPosition:b}=u;d["browser.script.invoker"]=h,d["browser.script.invoker_type"]=p,v&&(d["code.filepath"]=v),y&&(d["code.function"]=y),b!==-1&&(d["browser.script.source_char_position"]=b),Ta(n,i,i+c,{name:"Main UI thread blocked",op:"ui.long-animation-frame",attributes:d})}}).observe({type:"long-animation-frame",buffered:!0})}function kq(){bp("event",({entries:e})=>{const t=mi();if(t){for(const n of e)if(n.name==="click"){const r=yr(Gi+n.startTime),i=yr(n.duration),s={name:Lc(n.target),op:`ui.interaction.${n.name}`,startTime:r,attributes:{[Ar]:"auto.ui.browser.metrics"}},l=wV(n.target);l&&(s.attributes["ui.component_name"]=l),Ta(t,r,r+i,s)}}})}function Mq(){return w4(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(Zr.cls={value:e.value,unit:""},np=t)},!0)}function Rq(){return uq(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(Zr.lcp={value:e.value,unit:"millisecond"},Li=t)},!0)}function Iq(){return dq(({metric:e})=>{const t=e.entries[e.entries.length-1];if(!t)return;const n=yr(Gi),r=yr(t.startTime);Zr.fid={value:e.value,unit:"millisecond"},Zr["mark.fid"]={value:n+r,unit:"second"}})}function Oq(){return fq(({metric:e})=>{e.entries[e.entries.length-1]&&(Zr.ttfb={value:e.value,unit:"millisecond"})})}function jq(e,t){const n=Ow();if(!n||!gt.performance.getEntries||!Gi)return;const r=yr(Gi),i=n.getEntries(),{op:s,start_timestamp:l}=cn(e);if(i.slice(JR).forEach(c=>{const d=yr(c.startTime),u=yr(Math.max(0,c.duration));if(!(s==="navigation"&&l&&r+d<l))switch(c.entryType){case"navigation":{Vq(e,c,r);break}case"mark":case"paint":case"measure":{Pq(e,c,d,u,r);const h=uy(),p=c.startTime<h.firstHiddenTime;c.name==="first-paint"&&p&&(Zr.fp={value:c.startTime,unit:"millisecond"}),c.name==="first-contentful-paint"&&p&&(Zr.fcp={value:c.startTime,unit:"millisecond"});break}case"resource":{Bq(e,c,c.name,d,u,r);break}}}),JR=Math.max(i.length-1,0),Nq(e),s==="pageload"){Fq(Zr);const c=Zr["mark.fid"];c&&Zr.fid&&(Ta(e,c.value,c.value+yr(Zr.fid.value),{name:"first input delay",op:"ui.action",attributes:{[Ar]:"auto.ui.browser.metrics"}}),delete Zr["mark.fid"]),(!("fcp"in Zr)||!t.recordClsOnPageloadSpan)&&delete Zr.cls,Object.entries(Zr).forEach(([d,u])=>{IU(d,u.value,u.unit)}),e.setAttribute("performance.timeOrigin",r),e.setAttribute("performance.activationStart",Fp()),Lq(e)}Li=void 0,np=void 0,Zr={}}function Pq(e,t,n,r,i){const s=Lp(),l=yr(s?s.requestStart:0),c=i+Math.max(n,l),d=i+n,u=d+r,h={[Ar]:"auto.resource.browser.metrics"};return c!==d&&(h["sentry.browser.measure_happened_before_request"]=!0,h["sentry.browser.measure_start_time"]=c),Ta(e,c,u,{name:t.name,op:t.entryType,attributes:h}),c}function Vq(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(r=>{Dm(e,t,r,n)}),Dm(e,t,"secureConnection",n,"TLS/SSL","connectEnd"),Dm(e,t,"fetch",n,"cache","domainLookupStart"),Dm(e,t,"domainLookup",n,"DNS"),Dq(e,t,n)}function Dm(e,t,n,r,i,s){const l=s?t[s]:t[`${n}End`],c=t[`${n}Start`];!c||!l||Ta(e,r+yr(c),r+yr(l),{op:`browser.${i||n}`,name:t.name,attributes:{[Ar]:"auto.ui.browser.metrics"}})}function Dq(e,t,n){const r=n+yr(t.requestStart),i=n+yr(t.responseEnd),s=n+yr(t.responseStart);t.responseEnd&&(Ta(e,r,i,{op:"browser.request",name:t.name,attributes:{[Ar]:"auto.ui.browser.metrics"}}),Ta(e,s,i,{op:"browser.response",name:t.name,attributes:{[Ar]:"auto.ui.browser.metrics"}}))}function Bq(e,t,n,r,i,s){if(t.initiatorType==="xmlhttprequest"||t.initiatorType==="fetch")return;const l=Rc(n),c={[Ar]:"auto.resource.browser.metrics"};S1(c,t,"transferSize","http.response_transfer_size"),S1(c,t,"encodedBodySize","http.response_content_length"),S1(c,t,"decodedBodySize","http.decoded_response_content_length"),t.deliveryType!=null&&(c["http.response_delivery_type"]=t.deliveryType),"renderBlockingStatus"in t&&(c["resource.render_blocking_status"]=t.renderBlockingStatus),l.protocol&&(c["url.scheme"]=l.protocol.split(":").pop()),l.host&&(c["server.address"]=l.host),c["url.same_origin"]=n.includes(gt.location.origin);const d=s+r,u=d+i;Ta(e,d,u,{name:n.replace(gt.location.origin,""),op:t.initiatorType?`resource.${t.initiatorType}`:"resource.other",attributes:c})}function Nq(e){const t=gt.navigator;if(!t)return;const n=t.connection;n&&(n.effectiveType&&e.setAttribute("effectiveConnectionType",n.effectiveType),n.type&&e.setAttribute("connectionType",n.type),_1(n.rtt)&&(Zr["connection.rtt"]={value:n.rtt,unit:"millisecond"})),_1(t.deviceMemory)&&e.setAttribute("deviceMemory",`${t.deviceMemory} GB`),_1(t.hardwareConcurrency)&&e.setAttribute("hardwareConcurrency",String(t.hardwareConcurrency))}function Lq(e){Li&&(Li.element&&e.setAttribute("lcp.element",Lc(Li.element)),Li.id&&e.setAttribute("lcp.id",Li.id),Li.url&&e.setAttribute("lcp.url",Li.url.trim().slice(0,200)),Li.loadTime!=null&&e.setAttribute("lcp.loadTime",Li.loadTime),Li.renderTime!=null&&e.setAttribute("lcp.renderTime",Li.renderTime),e.setAttribute("lcp.size",Li.size)),np&&np.sources&&np.sources.forEach((t,n)=>e.setAttribute(`cls.source.${n+1}`,Lc(t.node)))}function S1(e,t,n,r){const i=t[n];i!=null&&i<wq&&(e[r]=i)}function Fq(e){const t=Lp();if(!t)return;const{responseStart:n,requestStart:r}=t;r<=n&&(e["ttfb.requestTime"]={value:n-r,unit:"millisecond"})}const zq=1e3;let ZR,KS,WS;function $q(e){const t="dom";jl(t,e),Pl(t,Uq)}function Uq(){if(!gt.document)return;const e=zs.bind(null,"dom"),t=e5(e,!0);gt.document.addEventListener("click",t,!1),gt.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{const r=gt[n]&&gt[n].prototype;!r||!r.hasOwnProperty||!r.hasOwnProperty("addEventListener")||(os(r,"addEventListener",function(i){return function(s,l,c){if(s==="click"||s=="keypress")try{const d=this,u=d.__sentry_instrumentation_handlers__=d.__sentry_instrumentation_handlers__||{},h=u[s]=u[s]||{refCount:0};if(!h.handler){const p=e5(e);h.handler=p,i.call(this,s,p,c)}h.refCount++}catch{}return i.call(this,s,l,c)}}),os(r,"removeEventListener",function(i){return function(s,l,c){if(s==="click"||s=="keypress")try{const d=this,u=d.__sentry_instrumentation_handlers__||{},h=u[s];h&&(h.refCount--,h.refCount<=0&&(i.call(this,s,h.handler,c),h.handler=void 0,delete u[s]),Object.keys(u).length===0&&delete d.__sentry_instrumentation_handlers__)}catch{}return i.call(this,s,l,c)}}))})}function Hq(e){if(e.type!==KS)return!1;try{if(!e.target||e.target._sentryId!==WS)return!1}catch{}return!0}function qq(e,t){return e!=="keypress"?!1:!t||!t.tagName?!0:!(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable)}function e5(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=Gq(n);if(qq(n.type,r))return;$s(n,"_sentryCaptured",!0),r&&!r._sentryId&&$s(r,"_sentryId",jr());const i=n.type==="keypress"?"input":n.type;Hq(n)||(e({event:n,name:i,global:t}),KS=n.type,WS=r?r._sentryId:void 0),clearTimeout(ZR),ZR=gt.setTimeout(()=>{WS=void 0,KS=void 0},zq)}}function Gq(e){try{return e.target}catch{return null}}let Bm;function jw(e){const t="history";jl(t,e),Pl(t,Yq)}function Yq(){if(!CH())return;const e=gt.onpopstate;gt.onpopstate=function(...n){const r=gt.location.href,i=Bm;if(Bm=r,zs("history",{from:i,to:r}),e)try{return e.apply(this,n)}catch{}};function t(n){return function(...r){const i=r.length>2?r[2]:void 0;if(i){const s=Bm,l=String(i);Bm=l,zs("history",{from:s,to:l})}return n.apply(this,r)}}os(gt.history,"pushState",t),os(gt.history,"replaceState",t)}const E0={};function Kq(e){const t=E0[e];if(t)return t;let n=gt[e];if($S(n))return E0[e]=n.bind(gt);const r=gt.document;if(r&&typeof r.createElement=="function")try{const i=r.createElement("iframe");i.hidden=!0,r.head.appendChild(i);const s=i.contentWindow;s&&s[e]&&(n=s[e]),r.head.removeChild(i)}catch(i){Rw&&Fe.warn(`Could not create sandbox iframe for ${e} check, bailing to window.${e}: `,i)}return n&&(E0[e]=n.bind(gt))}function t5(e){E0[e]=void 0}const pd="__sentry_xhr_v3__";function k4(e){const t="xhr";jl(t,e),Pl(t,Wq)}function Wq(){if(!gt.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(t,n,r){const i=si()*1e3,s=_a(r[0])?r[0].toUpperCase():void 0,l=Qq(r[1]);if(!s||!l)return t.apply(n,r);n[pd]={method:s,url:l,request_headers:{}},s==="POST"&&l.match(/sentry_key/)&&(n.__sentry_own_request__=!0);const c=()=>{const d=n[pd];if(d&&n.readyState===4){try{d.status_code=n.status}catch{}const u={endTimestamp:si()*1e3,startTimestamp:i,xhr:n};zs("xhr",u)}};return"onreadystatechange"in n&&typeof n.onreadystatechange=="function"?n.onreadystatechange=new Proxy(n.onreadystatechange,{apply(d,u,h){return c(),d.apply(u,h)}}):n.addEventListener("readystatechange",c),n.setRequestHeader=new Proxy(n.setRequestHeader,{apply(d,u,h){const[p,v]=h,y=u[pd];return y&&_a(p)&&_a(v)&&(y.request_headers[p.toLowerCase()]=v),d.apply(u,h)}}),t.apply(n,r)}}),e.send=new Proxy(e.send,{apply(t,n,r){const i=n[pd];if(!i)return t.apply(n,r);r[0]!==void 0&&(i.body=r[0]);const s={startTimestamp:si()*1e3,xhr:n};return zs("xhr",s),t.apply(n,r)}})}function Qq(e){if(_a(e))return e;try{return e.toString()}catch{}}const x1=[],T0=new Map;function Xq(){if(Ow()&&Gi){const t=Jq();return()=>{t()}}return()=>{}}const n5={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function Jq(){return hq(({metric:e})=>{if(e.value==null)return;const t=e.entries.find(b=>b.duration===e.value&&n5[b.name]);if(!t)return;const{interactionId:n}=t,r=n5[t.name],i=yr(Gi+t.startTime),s=yr(e.value),l=mi(),c=l?hi(l):void 0,u=(n!=null?T0.get(n):void 0)||c,h=u?cn(u).description:Dn().getScopeData().transactionName,p=Lc(t.target),v=ii({[Ar]:"auto.http.browser.inp",[zc]:`ui.interaction.${r}`,[xw]:t.duration}),y=C4({name:p,transaction:h,attributes:v,startTime:i});y&&(y.addEvent("inp",{[ly]:"millisecond",[cy]:e.value}),y.end(i+s))})}function Zq(e){const t=({entries:n})=>{const r=mi(),i=r&&hi(r);n.forEach(s=>{if(!bq(s)||!i)return;const l=s.interactionId;if(l!=null&&!T0.has(l)){if(x1.length>10){const c=x1.shift();T0.delete(c)}x1.push(l),T0.set(l,i)}})};bp("event",t),bp("first-input",t)}function eG(e,t=Kq("fetch")){let n=0,r=0;function i(s){const l=s.body.length;n+=l,r++;const c={body:s.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};if(!t)return t5("fetch"),dv("No fetch implementation available");try{return t(e.url,c).then(d=>(n-=l,r--,{statusCode:d.status,headers:{"x-sentry-rate-limits":d.headers.get("X-Sentry-Rate-Limits"),"retry-after":d.headers.get("Retry-After")}}))}catch(d){return t5("fetch"),n-=l,r--,dv(d)}}return O9(e,i)}const tG=30,nG=50;function QS(e,t,n,r){const i={filename:e,function:t==="<anonymous>"?Nc:t,in_app:!0};return n!==void 0&&(i.lineno=n),r!==void 0&&(i.colno=r),i}const rG=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,iG=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,sG=/\((\S*)(?::(\d+))(?::(\d+))\)/,oG=e=>{const t=rG.exec(e);if(t){const[,r,i,s]=t;return QS(r,Nc,+i,+s)}const n=iG.exec(e);if(n){if(n[2]&&n[2].indexOf("eval")===0){const l=sG.exec(n[2]);l&&(n[2]=l[1],n[3]=l[2],n[4]=l[3])}const[i,s]=M4(n[1]||Nc,n[2]);return QS(s,i,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}},aG=[tG,oG],lG=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,cG=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,uG=e=>{const t=lG.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const s=cG.exec(t[3]);s&&(t[1]=t[1]||"eval",t[3]=s[1],t[4]=s[2],t[5]="")}let r=t[3],i=t[1]||Nc;return[i,r]=M4(i,r),QS(r,i,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},dG=[nG,uG],fG=[aG,dG],hG=yV(...fG),M4=(e,t)=>{const n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:Nc,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},Nm=1024,pG="Breadcrumbs",gG=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:pG,setup(n){t.console&&iH(AG(n)),t.dom&&$q(yG(n,t.dom)),t.xhr&&k4(bG(n)),t.fetch&&h4(_G(n)),t.history&&jw(SG(n)),t.sentry&&n.on("beforeSendEvent",vG(n))}}},mG=gG;function vG(e){return function(n){hn()===e&&$c({category:`sentry.${n.type==="transaction"?"transaction":"event"}`,event_id:n.event_id,level:n.level,message:hl(n)},{event:n})}}function yG(e,t){return function(r){if(hn()!==e)return;let i,s,l=typeof t=="object"?t.serializeAttribute:void 0,c=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;c&&c>Nm&&(ls&&Fe.warn(`\`dom.maxStringLength\` cannot exceed ${Nm}, but a value of ${c} was configured. Sentry will use ${Nm} instead.`),c=Nm),typeof l=="string"&&(l=[l]);try{const u=r.event,h=xG(u)?u.target:u;i=Lc(h,{keyAttrs:l,maxStringLength:c}),s=wV(h)}catch{i="<unknown>"}if(i.length===0)return;const d={category:`ui.${r.name}`,message:i};s&&(d.data={"ui.component_name":s}),$c(d,{event:r.event,name:r.name,global:r.global})}}function AG(e){return function(n){if(hn()!==e)return;const r={category:"console",data:{arguments:n.args,logger:"console"},level:oH(n.level),message:mR(n.args," ")};if(n.level==="assert")if(n.args[0]===!1)r.message=`Assertion failed: ${mR(n.args.slice(1)," ")||"console.assert"}`,r.data.arguments=n.args.slice(1);else return;$c(r,{input:n.args,level:n.level})}}function bG(e){return function(n){if(hn()!==e)return;const{startTimestamp:r,endTimestamp:i}=n,s=n.xhr[pd];if(!r||!i||!s)return;const{method:l,url:c,status_code:d,body:u}=s,h={method:l,url:c,status_code:d},p={xhr:n.xhr,input:u,startTimestamp:r,endTimestamp:i},v=d4(d);$c({category:"xhr",data:h,type:"http",level:v},p)}}function _G(e){return function(n){if(hn()!==e)return;const{startTimestamp:r,endTimestamp:i}=n;if(i&&!(n.fetchData.url.match(/sentry_key/)&&n.fetchData.method==="POST"))if(n.error){const s=n.fetchData,l={data:n.error,input:n.args,startTimestamp:r,endTimestamp:i};$c({category:"fetch",data:s,level:"error",type:"http"},l)}else{const s=n.response,l={...n.fetchData,status_code:s&&s.status},c={input:n.args,response:s,startTimestamp:r,endTimestamp:i},d=d4(l.status_code);$c({category:"fetch",data:l,type:"http",level:d},c)}}}function SG(e){return function(n){if(hn()!==e)return;let r=n.from,i=n.to;const s=Rc(dt.location.href);let l=r?Rc(r):void 0;const c=Rc(i);(!l||!l.path)&&(l=s),s.protocol===c.protocol&&s.host===c.host&&(i=c.relative),s.protocol===l.protocol&&s.host===l.host&&(r=l.relative),$c({category:"navigation",data:{from:r,to:i}})}}function xG(e){return!!e&&!!e.target}const wG=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],EG="BrowserApiErrors",TG=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:EG,setupOnce(){t.setTimeout&&os(dt,"setTimeout",r5),t.setInterval&&os(dt,"setInterval",r5),t.requestAnimationFrame&&os(dt,"requestAnimationFrame",kG),t.XMLHttpRequest&&"XMLHttpRequest"in dt&&os(XMLHttpRequest.prototype,"send",MG);const n=t.eventTarget;n&&(Array.isArray(n)?n:wG).forEach(RG)}}},CG=TG;function r5(e){return function(...t){const n=t[0];return t[0]=Ud(n,{mechanism:{data:{function:wa(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function kG(e){return function(t){return e.apply(this,[Ud(t,{mechanism:{data:{function:"requestAnimationFrame",handler:wa(e)},handled:!1,type:"instrument"}})])}}function MG(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(i=>{i in n&&typeof n[i]=="function"&&os(n,i,function(s){const l={mechanism:{data:{function:i,handler:wa(s)},handled:!1,type:"instrument"}},c=_w(s);return c&&(l.mechanism.data.handler=wa(c)),Ud(s,l)})}),e.apply(this,t)}}function RG(e){const t=dt,n=t[e]&&t[e].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(os(n,"addEventListener",function(r){return function(i,s,l){try{typeof s.handleEvent=="function"&&(s.handleEvent=Ud(s.handleEvent,{mechanism:{data:{function:"handleEvent",handler:wa(s),target:e},handled:!1,type:"instrument"}}))}catch{}return r.apply(this,[i,Ud(s,{mechanism:{data:{function:"addEventListener",handler:wa(s),target:e},handled:!1,type:"instrument"}}),l])}}),os(n,"removeEventListener",function(r){return function(i,s,l){const c=s;try{const d=c&&c.__sentry_wrapped__;d&&r.call(this,i,d,l)}catch{}return r.call(this,i,c,l)}}))}const IG="GlobalHandlers",OG=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:IG,setupOnce(){Error.stackTraceLimit=50},setup(n){t.onerror&&(PG(n),i5("onerror")),t.onunhandledrejection&&(VG(n),i5("onunhandledrejection"))}}},jG=OG;function PG(e){AV(t=>{const{stackParser:n,attachStacktrace:r}=R4();if(hn()!==e||g4())return;const{msg:i,url:s,line:l,column:c,error:d}=t,u=NG(Mw(n,d||i,void 0,r,!1),s,l,c);u.level="error",ZV(u,{originalException:d,mechanism:{handled:!1,type:"onerror"}})})}function VG(e){bV(t=>{const{stackParser:n,attachStacktrace:r}=R4();if(hn()!==e||g4())return;const i=DG(t),s=bw(i)?BG(i):Mw(n,i,void 0,r,!0);s.level="error",ZV(s,{originalException:i,mechanism:{handled:!1,type:"onunhandledrejection"}})})}function DG(e){if(bw(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch{}return e}function BG(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function NG(e,t,n,r){const i=e.exception=e.exception||{},s=i.values=i.values||[],l=s[0]=s[0]||{},c=l.stacktrace=l.stacktrace||{},d=c.frames=c.frames||[],u=isNaN(parseInt(r,10))?void 0:r,h=isNaN(parseInt(n,10))?void 0:n,p=_a(t)&&t.length>0?t:E7();return d.length===0&&d.push({colno:u,filename:p,function:Nc,in_app:!0,lineno:h}),e}function i5(e){ls&&Fe.log(`Global Handler attached: ${e}`)}function R4(){const e=hn();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const LG=()=>({name:"HttpContext",preprocessEvent(e){if(!dt.navigator&&!dt.location&&!dt.document)return;const t=e.request&&e.request.url||dt.location&&dt.location.href,{referrer:n}=dt.document||{},{userAgent:r}=dt.navigator||{},i={...e.request&&e.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},s={...e.request,...t&&{url:t},headers:i};e.request=s}}),FG="cause",zG=5,$G="LinkedErrors",UG=(e={})=>{const t=e.limit||zG,n=e.key||FG;return{name:$G,preprocessEvent(r,i,s){const l=s.getOptions();J9(Cw,l.stackParser,l.maxValueLength,n,t,r,i)}}},HG=UG;function qG(e){return[z9(),B9(),CG(),mG(),jG(),HG(),cH(),LG()]}function GG(e={}){const t={defaultIntegrations:qG(),release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:dt.SENTRY_RELEASE&&dt.SENTRY_RELEASE.id?dt.SENTRY_RELEASE.id:void 0,autoSessionTracking:!0,sendClientReports:!0};return e.defaultIntegrations==null&&delete e.defaultIntegrations,{...t,...e}}function YG(){const e=typeof dt.window<"u"&&dt;if(!e)return!1;const t=e.chrome?"chrome":"browser",n=e[t],r=n&&n.runtime&&n.runtime.id,i=dt.location&&dt.location.href||"",s=["chrome-extension:","moz-extension:","ms-browser-extension:","safari-web-extension:"],l=!!r&&dt===dt.top&&s.some(d=>i.startsWith(`${d}//`)),c=typeof e.nw<"u";return!!r&&!l&&!c}function KG(e={}){const t=GG(e);if(!t.skipBrowserExtensionCheck&&YG()){tu(()=>{console.error("[Sentry] You cannot run Sentry this way in a browser extension, check: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")});return}ls&&(f4()||Fe.warn("No Fetch API detected. The Sentry SDK requires a Fetch API compatible environment to send events. Please add a Fetch API polyfill."));const n={...t,stackParser:g7(t.stackParser||hG),integrations:v9(t),transport:t.transport||eG},r=x9($H,n);return t.autoSessionTracking&&WG(),r}function s5(e={}){if(!dt.document){ls&&Fe.error("Global document not defined in showReportDialog call");return}const t=Dn(),n=t.getClient(),r=n&&n.getDsn();if(!r){ls&&Fe.error("DSN not configured for showReportDialog call");return}if(t&&(e.user={...t.getUser(),...e.user}),!e.eventId){const c=c9();c&&(e.eventId=c)}const i=dt.document.createElement("script");i.async=!0,i.crossOrigin="anonymous",i.src=g9(r,e),e.onLoad&&(i.onload=e.onLoad);const{onClose:s}=e;if(s){const c=d=>{if(d.data==="__sentry_reportdialog_closed__")try{s()}finally{dt.removeEventListener("message",c)}};dt.addEventListener("message",c)}const l=dt.document.head||dt.document.body;l?l.appendChild(i):ls&&Fe.error("Not injecting report dialog. No injection point found in HTML")}function WG(){if(typeof dt.document>"u"){ls&&Fe.warn("Session tracking in non-browser environment with @sentry/browser is not supported.");return}VR({ignoreDuration:!0}),DR(),jw(({from:e,to:t})=>{e!==void 0&&e!==t&&(VR({ignoreDuration:!0}),DR())})}const o5=new WeakMap,w1=new Map,C0={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,trackFetchStreamPerformance:!1};function QG(e,t){const{traceFetch:n,traceXHR:r,trackFetchStreamPerformance:i,shouldCreateSpanForRequest:s,enableHTTPTimings:l,tracePropagationTargets:c}={traceFetch:C0.traceFetch,traceXHR:C0.traceXHR,trackFetchStreamPerformance:C0.trackFetchStreamPerformance,...t},d=typeof s=="function"?s:p=>!0,u=p=>eY(p,c),h={};n&&(e.addEventProcessor(p=>(p.type==="transaction"&&p.spans&&p.spans.forEach(v=>{if(v.op==="http.client"){const y=w1.get(v.span_id);y&&(v.timestamp=y/1e3,w1.delete(v.span_id))}}),p)),i&&SH(p=>{if(p.response){const v=o5.get(p.response);v&&p.endTimestamp&&w1.set(v,p.endTimestamp)}}),h4(p=>{const v=gH(p,d,u,h);if(p.response&&p.fetchData.__span&&o5.set(p.response,p.fetchData.__span),v){const y=I4(p.fetchData.url),b=y?Rc(y).host:void 0;v.setAttributes({"http.url":y,"server.address":b})}l&&v&&a5(v)})),r&&k4(p=>{const v=tY(p,d,u,h);l&&v&&a5(v)})}function XG(e){return e.entryType==="resource"&&"initiatorType"in e&&typeof e.nextHopProtocol=="string"&&(e.initiatorType==="fetch"||e.initiatorType==="xmlhttprequest")}function a5(e){const{url:t}=cn(e).data||{};if(!t||typeof t!="string")return;const n=bp("resource",({entries:r})=>{r.forEach(i=>{XG(i)&&i.name.endsWith(t)&&(ZG(i).forEach(l=>e.setAttribute(...l)),setTimeout(n))})})}function JG(e){let t="unknown",n="unknown",r="";for(const i of e){if(i==="/"){[t,n]=e.split("/");break}if(!isNaN(Number(i))){t=r==="h"?"http":r,n=e.split(r)[1];break}r+=i}return r===e&&(t=r),{name:t,version:n}}function So(e=0){return((Gi||performance.timeOrigin)+e)/1e3}function ZG(e){const{name:t,version:n}=JG(e.nextHopProtocol),r=[];return r.push(["network.protocol.version",n],["network.protocol.name",t]),Gi?[...r,["http.request.redirect_start",So(e.redirectStart)],["http.request.fetch_start",So(e.fetchStart)],["http.request.domain_lookup_start",So(e.domainLookupStart)],["http.request.domain_lookup_end",So(e.domainLookupEnd)],["http.request.connect_start",So(e.connectStart)],["http.request.secure_connection_start",So(e.secureConnectionStart)],["http.request.connection_end",So(e.connectEnd)],["http.request.request_start",So(e.requestStart)],["http.request.response_start",So(e.responseStart)],["http.request.response_end",So(e.responseEnd)]]:r}function eY(e,t){const n=dt.location&&dt.location.href;if(n){let r,i;try{r=new URL(e,n),i=new URL(n).origin}catch{return!1}const s=r.origin===i;return t?Cc(r.toString(),t)||s&&Cc(r.pathname,t):s}else{const r=!!e.match(/^\/(?!\/)/);return t?Cc(e,t):r}}function tY(e,t,n,r){const i=e.xhr,s=i&&i[pd];if(!i||i.__sentry_own_request__||!s)return;const l=wl()&&t(s.url);if(e.endTimestamp&&l){const p=i.__sentry_xhr_span_id__;if(!p)return;const v=r[p];v&&s.status_code!==void 0&&(IV(v,s.status_code),v.end(),delete r[p]);return}const c=I4(s.url),d=c?Rc(c).host:void 0,u=!!mi(),h=l&&u?_l({name:`${s.method} ${s.url}`,attributes:{type:"xhr","http.method":s.method,"http.url":c,url:s.url,"server.address":d,[Ar]:"auto.http.browser",[zc]:"http.client"}}):new rf;return i.__sentry_xhr_span_id__=h.spanContext().spanId,r[i.__sentry_xhr_span_id__]=h,n(s.url)&&nY(i,wl()&&u?h:void 0),h}function nY(e,t){const{"sentry-trace":n,baggage:r}=a4({span:t});n&&rY(e,n,r)}function rY(e,t,n){try{e.setRequestHeader("sentry-trace",t),n&&e.setRequestHeader("baggage",n)}catch{}}function I4(e){try{return new URL(e,dt.location.origin).href}catch{return}}function iY(){dt&&dt.document?dt.document.addEventListener("visibilitychange",()=>{const e=mi();if(!e)return;const t=hi(e);if(dt.document.hidden&&t){const n="cancelled",{op:r,status:i}=cn(t);ls&&Fe.log(`[Tracing] Transaction: ${n} -> since tab moved to the background, op: ${r}`),i||t.setStatus({code:Ur,message:n}),t.setAttribute("sentry.cancellation_reason","document.hidden"),t.end()}}):ls&&Fe.warn("[Tracing] Could not set up background tab detection due to lack of global document")}const sY="BrowserTracing",oY={...w0,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!0,enableInp:!0,_experiments:{},...C0},aY=(e={})=>{oU();const{enableInp:t,enableLongTask:n,enableLongAnimationFrame:r,_experiments:{enableInteractions:i,enableStandaloneClsSpans:s},beforeStartSpan:l,idleTimeout:c,finalTimeout:d,childSpanTimeout:u,markBackgroundSpan:h,traceFetch:p,traceXHR:v,trackFetchStreamPerformance:y,shouldCreateSpanForRequest:b,enableHTTPTimings:_,instrumentPageLoad:w,instrumentNavigation:T}={...oY,...e},k=Eq({recordClsStandaloneSpans:s||!1});t&&Xq(),r&&Kt.PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?Cq():n&&Tq(),i&&kq();const R={name:void 0,source:void 0};function M(E,O){const j=O.op==="pageload",D=l?l(O):O,P=D.attributes||{};O.name!==D.name&&(P[va]="custom",D.attributes=P),R.name=D.name,R.source=P[va];const C=JV(D,{idleTimeout:c,finalTimeout:d,childSpanTimeout:u,disableAutoFinish:j,beforeSpanEnd:U=>{k(),jq(U,{recordClsOnPageloadSpan:!s})}});function N(){["interactive","complete"].includes(dt.document.readyState)&&E.emit("idleSpanEnableAutoFinish",C)}return j&&dt.document&&(dt.document.addEventListener("readystatechange",()=>{N()}),N()),C}return{name:sY,afterAllSetup(E){let O,j=dt.location&&dt.location.href;function D(){O&&!cn(O).timestamp&&(ls&&Fe.log(`[Tracing] Finishing current active span with op: ${cn(O).op}`),O.end())}E.on("startNavigationSpan",P=>{hn()===E&&(D(),O=M(E,{op:"navigation",...P}))}),E.on("startPageLoadSpan",(P,C={})=>{if(hn()!==E)return;D();const N=C.sentryTrace||l5("sentry-trace"),U=C.baggage||l5("baggage"),L=Z7(N,U);Dn().setPropagationContext(L),O=M(E,{op:"pageload",...P})}),E.on("spanEnd",P=>{const C=cn(P).op;if(P!==hi(P)||C!=="navigation"&&C!=="pageload")return;const N=Dn(),U=N.getPropagationContext();N.setPropagationContext({...U,sampled:U.sampled!==void 0?U.sampled:ru(P),dsc:U.dsc||sf(P)})}),dt.location&&(w&&lY(E,{name:dt.location.pathname,startTime:Gi?Gi/1e3:void 0,attributes:{[va]:"url",[Ar]:"auto.pageload.browser"}}),T&&jw(({to:P,from:C})=>{if(C===void 0&&j&&j.indexOf(P)!==-1){j=void 0;return}C!==P&&(j=void 0,cY(E,{name:dt.location.pathname,attributes:{[va]:"url",[Ar]:"auto.navigation.browser"}}))})),h&&iY(),i&&uY(c,d,u,R),t&&Zq(),QG(E,{traceFetch:p,traceXHR:v,trackFetchStreamPerformance:y,tracePropagationTargets:E.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:b,enableHTTPTimings:_})}}};function lY(e,t,n){e.emit("startPageLoadSpan",t,n),Dn().setTransactionName(t.name);const r=mi();return(r&&cn(r).op)==="pageload"?r:void 0}function cY(e,t){Bo().setPropagationContext(vp()),Dn().setPropagationContext(vp()),e.emit("startNavigationSpan",t),Dn().setTransactionName(t.name);const n=mi();return(n&&cn(n).op)==="navigation"?n:void 0}function l5(e){const t=T7(`meta[name=${e}]`);return t?t.getAttribute("content"):void 0}function uY(e,t,n,r){let i;const s=()=>{const l="ui.action.click",c=mi(),d=c&&hi(c);if(d){const u=cn(d).op;if(["navigation","pageload"].includes(u)){ls&&Fe.warn(`[Tracing] Did not create ${l} span because a pageload or navigation span is in progress.`);return}}if(i&&(i.setAttribute(jS,"interactionInterrupted"),i.end(),i=void 0),!r.name){ls&&Fe.warn(`[Tracing] Did not create ${l} transaction because _latestRouteName is missing.`);return}i=JV({name:r.name,op:l,attributes:{[va]:r.source||"url"}},{idleTimeout:e,finalTimeout:t,childSpanTimeout:n})};dt.document&&addEventListener("click",s,{once:!1,capture:!0})}function dY(e){const t={...e};return o4(t,"react"),a9("react",{version:x.version}),KG(t)}function fY(e){const t=e.match(/^([^.]+)/);return t!==null&&parseInt(t[0])>=17}function hY(e,t){const n=new WeakSet;function r(i,s){if(!n.has(i)){if(i.cause)return n.add(i),r(i.cause,s);i.cause=s}}r(e,t)}function pY(e,{componentStack:t},n){if(fY(x.version)&&ry(e)&&t){const r=new Error(e.message);r.name=`React ErrorBoundary ${e.name}`,r.stack=t,hY(e,r)}return fo(e,{...n,captureContext:{contexts:{react:{componentStack:t}}}})}var E1={exports:{}},dn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c5;function gY(){if(c5)return dn;c5=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,n=e?Symbol.for("react.portal"):60106,r=e?Symbol.for("react.fragment"):60107,i=e?Symbol.for("react.strict_mode"):60108,s=e?Symbol.for("react.profiler"):60114,l=e?Symbol.for("react.provider"):60109,c=e?Symbol.for("react.context"):60110,d=e?Symbol.for("react.async_mode"):60111,u=e?Symbol.for("react.concurrent_mode"):60111,h=e?Symbol.for("react.forward_ref"):60112,p=e?Symbol.for("react.suspense"):60113,v=e?Symbol.for("react.suspense_list"):60120,y=e?Symbol.for("react.memo"):60115,b=e?Symbol.for("react.lazy"):60116,_=e?Symbol.for("react.block"):60121,w=e?Symbol.for("react.fundamental"):60117,T=e?Symbol.for("react.responder"):60118,k=e?Symbol.for("react.scope"):60119;function R(E){if(typeof E=="object"&&E!==null){var O=E.$$typeof;switch(O){case t:switch(E=E.type,E){case d:case u:case r:case s:case i:case p:return E;default:switch(E=E&&E.$$typeof,E){case c:case h:case b:case y:case l:return E;default:return O}}case n:return O}}}function M(E){return R(E)===u}return dn.AsyncMode=d,dn.ConcurrentMode=u,dn.ContextConsumer=c,dn.ContextProvider=l,dn.Element=t,dn.ForwardRef=h,dn.Fragment=r,dn.Lazy=b,dn.Memo=y,dn.Portal=n,dn.Profiler=s,dn.StrictMode=i,dn.Suspense=p,dn.isAsyncMode=function(E){return M(E)||R(E)===d},dn.isConcurrentMode=M,dn.isContextConsumer=function(E){return R(E)===c},dn.isContextProvider=function(E){return R(E)===l},dn.isElement=function(E){return typeof E=="object"&&E!==null&&E.$$typeof===t},dn.isForwardRef=function(E){return R(E)===h},dn.isFragment=function(E){return R(E)===r},dn.isLazy=function(E){return R(E)===b},dn.isMemo=function(E){return R(E)===y},dn.isPortal=function(E){return R(E)===n},dn.isProfiler=function(E){return R(E)===s},dn.isStrictMode=function(E){return R(E)===i},dn.isSuspense=function(E){return R(E)===p},dn.isValidElementType=function(E){return typeof E=="string"||typeof E=="function"||E===r||E===u||E===s||E===i||E===p||E===v||typeof E=="object"&&E!==null&&(E.$$typeof===b||E.$$typeof===y||E.$$typeof===l||E.$$typeof===c||E.$$typeof===h||E.$$typeof===w||E.$$typeof===T||E.$$typeof===k||E.$$typeof===_)},dn.typeOf=R,dn}var u5;function mY(){return u5||(u5=1,E1.exports=gY()),E1.exports}var T1,d5;function vY(){if(d5)return T1;d5=1;var e=mY(),t={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};s[e.ForwardRef]=r,s[e.Memo]=i;function l(b){return e.isMemo(b)?i:s[b.$$typeof]||t}var c=Object.defineProperty,d=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,v=Object.prototype;function y(b,_,w){if(typeof _!="string"){if(v){var T=p(_);T&&T!==v&&y(b,T,w)}var k=d(_);u&&(k=k.concat(u(_)));for(var R=l(b),M=l(_),E=0;E<k.length;++E){var O=k[E];if(!n[O]&&!(w&&w[O])&&!(M&&M[O])&&!(R&&R[O])){var j=h(_,O);try{c(b,O,j)}catch{}}}}return b}return T1=y,T1}var yY=vY();const AY=Pr(yY),bY="ui.react.render",_Y="ui.react.update",SY="ui.react.mount",xY="unknown";class O4 extends x.Component{static __initStatic(){this.defaultProps={disabled:!1,includeRender:!0,includeUpdates:!0}}constructor(t){super(t);const{name:n,disabled:r=!1}=this.props;r||(this._mountSpan=_l({name:`<${n}>`,onlyIfParent:!0,op:SY,attributes:{[Ar]:"auto.ui.react.profiler","ui.component_name":n}}))}componentDidMount(){this._mountSpan&&this._mountSpan.end()}shouldComponentUpdate({updateProps:t,includeUpdates:n=!0}){if(n&&this._mountSpan&&t!==this.props.updateProps){const r=Object.keys(t).filter(i=>t[i]!==this.props.updateProps[i]);if(r.length>0){const i=si();this._updateSpan=hv(this._mountSpan,()=>_l({name:`<${this.props.name}>`,onlyIfParent:!0,op:_Y,startTime:i,attributes:{[Ar]:"auto.ui.react.profiler","ui.component_name":this.props.name,"ui.react.changed_props":r}}))}}return!0}componentDidUpdate(){this._updateSpan&&(this._updateSpan.end(),this._updateSpan=void 0)}componentWillUnmount(){const t=si(),{name:n,includeRender:r=!0}=this.props;if(this._mountSpan&&r){const i=cn(this._mountSpan).timestamp;hv(this._mountSpan,()=>{const s=_l({onlyIfParent:!0,name:`<${n}>`,op:bY,startTime:i,attributes:{[Ar]:"auto.ui.react.profiler","ui.component_name":n}});s&&s.end(t)})}}render(){return this.props.children}}O4.__initStatic();function wY(e,t){const n=e.displayName||e.name||xY,r=i=>x.createElement(O4,{...t,name:n,updateProps:i},x.createElement(e,{...i}));return r.displayName=`profiler(${n})`,AY(r,e),r}const EY=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,f5={componentStack:null,error:null,eventId:null};class Pw extends x.Component{constructor(t){super(t),Pw.prototype.__init.call(this),this.state=f5,this._openFallbackReportDialog=!0;const n=hn();n&&t.showDialog&&(this._openFallbackReportDialog=!1,this._cleanupHook=n.on("afterSendEvent",r=>{!r.type&&this._lastEventId&&r.event_id===this._lastEventId&&s5({...t.dialogOptions,eventId:this._lastEventId})}))}componentDidCatch(t,n){const{componentStack:r}=n,i=r??void 0,{beforeCapture:s,onError:l,showDialog:c,dialogOptions:d}=this.props;ay(u=>{s&&s(u,t,i);const h=pY(t,n,{mechanism:{handled:!!this.props.fallback}});l&&l(t,i,h),c&&(this._lastEventId=h,this._openFallbackReportDialog&&s5({...d,eventId:h})),this.setState({error:t,componentStack:r,eventId:h})})}componentDidMount(){const{onMount:t}=this.props;t&&t()}componentWillUnmount(){const{error:t,componentStack:n,eventId:r}=this.state,{onUnmount:i}=this.props;i&&i(t,n,r),this._cleanupHook&&(this._cleanupHook(),this._cleanupHook=void 0)}__init(){this.resetErrorBoundary=()=>{const{onReset:t}=this.props,{error:n,componentStack:r,eventId:i}=this.state;t&&t(n,r,i),this.setState(f5)}}render(){const{fallback:t,children:n}=this.props,r=this.state;if(r.error){let i;return typeof t=="function"?i=x.createElement(t,{error:r.error,componentStack:r.componentStack,resetError:this.resetErrorBoundary,eventId:r.eventId}):i=t,x.isValidElement(i)?i:(t&&EY&&Fe.warn("fallback did not produce a valid ReactElement"),null)}return typeof n=="function"?n():n}}const TY="modulepreload",CY=function(e){return"/"+e},h5={},df=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));i=Promise.allSettled(n.map(d=>{if(d=CY(d),d in h5)return;h5[d]=!0;const u=d.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${h}`))return;const p=document.createElement("link");if(p.rel=u?"stylesheet":TY,u||(p.as="script"),p.crossOrigin="",p.href=d,c&&p.setAttribute("nonce",c),document.head.appendChild(p),u)return new Promise((v,y)=>{p.addEventListener("load",v),p.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${d}`)))})}))}function s(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return i.then(l=>{for(const c of l||[])c.status==="rejected"&&s(c.reason);return t().catch(s)})};class j4{constructor(){this.init=async(t,n)=>{const r=await df(()=>import("./aubio-DQ9FhJvE.js"),[]),{Pitch:i}=await r.default();this.detector=new i("default",n,n/8,t.sampleRate),this.detector.setTolerance(.5)},this.getFrequency=async t=>this.detector.do(t)}getSampleSize(){return 2048}}class kY extends Ys{constructor(){super(...arguments),this.status="uninitialised",this.getUserMedia=async(...t)=>this.requestAndTrack(()=>navigator.mediaDevices.getUserMedia(...t)),this.enumerateDevices=async(...t)=>this.requestAndTrack(()=>navigator.mediaDevices.enumerateDevices(...t)),this.requestAndTrack=async t=>{try{this.status!=="accepted"&&this.setStatus("requested");const n=await t();return this.setStatus("accepted"),n}catch(n){throw this.setStatus("declined"),n}},this.setStatus=t=>{this.status=t,this.onUpdate(t)},this.getStatus=()=>this.status}}const Sl=new kY;let XS=class{constructor(t=2){this.channels=t,this.stream=null,this.context=null,this.interval=null,this.frequencies=[0,0],this.volumes=[0,0],this.startedMonitoring=!1,this.startMonitoring=async n=>{if(!this.startedMonitoring){this.startedMonitoring=!0;try{this.stream=await Sl.getUserMedia({audio:{...n?{deviceId:n,exact:!0}:{},echoCancellation:!1},video:!1});try{this.context=new AudioContext;const r=this.context.createMediaStreamSource(this.stream),i=Array.from({length:this.channels},()=>{const l=this.context.createAnalyser();return l.fftSize=2048,l.minDecibels=-100,l});if(this.channels>1){const l=this.context.createChannelSplitter(2);r.connect(l),i.forEach((c,d)=>{l.connect(c,d)})}else r.connect(i[0]);console.log(this.channels);const s=new j4;await s.init(this.context,i[0].fftSize),this.interval=setInterval(async()=>{const l=i.map(c=>new Float32Array(c.fftSize));i.forEach((c,d)=>{c.getFloatTimeDomainData(l[d])}),this.frequencies=await Promise.all(l.map(c=>s.getFrequency(c))),this.volumes=l.map(c=>this.calculateVolume(c))},this.context.sampleRate/i[0].fftSize),me.micMonitoringStarted.dispatch()}catch(r){fo(r),console.error(r)}}catch(r){fo(r,{level:"warning",extra:{message:"MicInput.startMonitoring"}}),console.warn(r)}}},this.getFrequencies=()=>this.frequencies,this.getVolumes=()=>this.volumes,this.clearFrequencies=n=>{},this.stopMonitoring=async()=>{var n,r;if(this.startedMonitoring){this.startedMonitoring=!1,this.interval&&clearInterval(this.interval),(n=this.stream)==null||n.getTracks().forEach(function(i){i.stop()});try{await((r=this.context)==null?void 0:r.close())}catch(i){console.log("MicInput.stoMonitoring error",i)}me.micMonitoringStopped.dispatch()}},this.getInputLag=()=>180,this.requestReadiness=()=>Promise.resolve(!0),this.getStatus=()=>"ok"}calculateVolume(t){let n,r=0;for(n=0;n<t.length;++n)r+=t[n]*t[n];return Math.sqrt(r/t.length)}};new XS;const MY=(e=[],t)=>{const n=e.filter(r=>r.deviceId===t).map(r=>r.channel);return n.some(r=>n[0]!==r)};class RY{constructor(){this.devices={},this.startMonitoring=async(t,n)=>{console.log(this.devices),t&&(this.devices[t]||(this.devices[t]=MY(n,t)?new XS(2):new XS(1)),await this.devices[t].startMonitoring(t))},this.getFrequencies=t=>t&&this.devices[t]?this.devices[t].getFrequencies():[0,0],this.getVolumes=t=>t&&this.devices[t]?this.devices[t].getVolumes():[0,0],this.clearFrequencies=t=>{if(t&&this.devices[t])return this.devices[t].clearFrequencies(t)},this.stopMonitoring=async()=>{await Promise.all(Object.values(this.devices).map(t=>t.stopMonitoring())),this.devices={}},this.getInputLag=t=>t&&this.devices[t]?this.devices[t].getInputLag():180,this.requestReadiness=async t=>t&&this.devices[t]?this.devices[t].requestReadiness():!0,this.getStatus=t=>t&&this.devices[t]?this.devices[t].getStatus():"ok"}}const IY=new RY;class OY{constructor(){this.frequencies=[0],this.volumes=[1],this.startMonitoring=async t=>{var n;return(n=Vt.getRemoteMicById(t??""))==null?void 0:n.getInput().startMonitoring()},this.getFrequencies=t=>{var r;return((r=Vt.getRemoteMicById(t??""))==null?void 0:r.getInput().getFrequencies())??this.frequencies},this.clearFrequencies=t=>{var n;(n=Vt.getRemoteMicById(t??""))==null||n.getInput().clearFrequencies()},this.getVolumes=t=>{var r;return((r=Vt.getRemoteMicById(t??""))==null?void 0:r.getInput().getVolumes())??this.volumes},this.stopMonitoring=async t=>{var n;return(n=Vt.getRemoteMicById(t??""))==null?void 0:n.getInput().stopMonitoring()},this.requestReadiness=t=>{var n;return((n=Vt.getRemoteMicById(t??""))==null?void 0:n.getInput().requestReadiness())??Promise.resolve(!0)},this.getInputLag=t=>{var n;return((n=Vt.getRemoteMicById(t??""))==null?void 0:n.getInput().getInputLag())??0},this.getStatus=t=>{const n=Vt.getRemoteMicById(t??"");return!n||n.getLatency()>1500?"unavailable":n.getLatency()>500?"unstable":"ok"}}}const jY=new OY;function ho(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var P4=typeof global=="object"&&global&&global.Object===Object&&global,PY=typeof self=="object"&&self&&self.Object===Object&&self,go=P4||PY||Function("return this")(),C1=function(){return go.Date.now()},VY=/\s/;function DY(e){for(var t=e.length;t--&&VY.test(e.charAt(t)););return t}var BY=/^\s+/;function NY(e){return e&&e.slice(0,DY(e)+1).replace(BY,"")}var Us=go.Symbol,V4=Object.prototype,LY=V4.hasOwnProperty,FY=V4.toString,wh=Us?Us.toStringTag:void 0;function zY(e){var t=LY.call(e,wh),n=e[wh];try{e[wh]=void 0;var r=!0}catch{}var i=FY.call(e);return r&&(t?e[wh]=n:delete e[wh]),i}var $Y=Object.prototype,UY=$Y.toString;function HY(e){return UY.call(e)}var qY="[object Null]",GY="[object Undefined]",p5=Us?Us.toStringTag:void 0;function su(e){return e==null?e===void 0?GY:qY:p5&&p5 in Object(e)?zY(e):HY(e)}function Ca(e){return e!=null&&typeof e=="object"}var YY="[object Symbol]";function dy(e){return typeof e=="symbol"||Ca(e)&&su(e)==YY}var g5=NaN,KY=/^[-+]0x[0-9a-f]+$/i,WY=/^0b[01]+$/i,QY=/^0o[0-7]+$/i,XY=parseInt;function JS(e){if(typeof e=="number")return e;if(dy(e))return g5;if(ho(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=ho(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=NY(e);var n=WY.test(e);return n||QY.test(e)?XY(e.slice(2),n?2:8):KY.test(e)?g5:+e}var JY="Expected a function",ZY=Math.max,eK=Math.min;function D4(e,t,n){var r,i,s,l,c,d,u=0,h=!1,p=!1,v=!0;if(typeof e!="function")throw new TypeError(JY);t=JS(t)||0,ho(n)&&(h=!!n.leading,p="maxWait"in n,s=p?ZY(JS(n.maxWait)||0,t):s,v="trailing"in n?!!n.trailing:v);function y(O){var j=r,D=i;return r=i=void 0,u=O,l=e.apply(D,j),l}function b(O){return u=O,c=setTimeout(T,t),h?y(O):l}function _(O){var j=O-d,D=O-u,P=t-j;return p?eK(P,s-D):P}function w(O){var j=O-d,D=O-u;return d===void 0||j>=t||j<0||p&&D>=s}function T(){var O=C1();if(w(O))return k(O);c=setTimeout(T,_(O))}function k(O){return c=void 0,v&&r?y(O):(r=i=void 0,l)}function R(){c!==void 0&&clearTimeout(c),u=0,r=d=i=c=void 0}function M(){return c===void 0?l:k(C1())}function E(){var O=C1(),j=w(O);if(r=arguments,i=this,d=O,j){if(c===void 0)return b(d);if(p)return clearTimeout(c),c=setTimeout(T,t),y(d)}return c===void 0&&(c=setTimeout(T,t)),l}return E.cancel=R,E.flush=M,E}const ki={DUEL:"DUEL",PASS_THE_MIC:"PASS_THE_MIC",CO_OP:"CO_OP"},rp=["freestyle","rap"],B4=[],N4=440,L4=69,Vw=20;var tK="[object AsyncFunction]",nK="[object Function]",rK="[object GeneratorFunction]",iK="[object Proxy]";function F4(e){if(!ho(e))return!1;var t=su(e);return t==nK||t==rK||t==tK||t==iK}var k1=go["__core-js_shared__"],m5=function(){var e=/[^.]+$/.exec(k1&&k1.keys&&k1.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function sK(e){return!!m5&&m5 in e}var oK=Function.prototype,aK=oK.toString;function ou(e){if(e!=null){try{return aK.call(e)}catch{}try{return e+""}catch{}}return""}var lK=/[\\^$.*+?()[\]{}|]/g,cK=/^\[object .+?Constructor\]$/,uK=Function.prototype,dK=Object.prototype,fK=uK.toString,hK=dK.hasOwnProperty,pK=RegExp("^"+fK.call(hK).replace(lK,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function gK(e){if(!ho(e)||sK(e))return!1;var t=F4(e)?pK:cK;return t.test(ou(e))}function mK(e,t){return e==null?void 0:e[t]}function au(e,t){var n=mK(e,t);return gK(n)?n:void 0}var _p=au(Object,"create");function vK(){this.__data__=_p?_p(null):{},this.size=0}function yK(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var AK="__lodash_hash_undefined__",bK=Object.prototype,_K=bK.hasOwnProperty;function SK(e){var t=this.__data__;if(_p){var n=t[e];return n===AK?void 0:n}return _K.call(t,e)?t[e]:void 0}var xK=Object.prototype,wK=xK.hasOwnProperty;function EK(e){var t=this.__data__;return _p?t[e]!==void 0:wK.call(t,e)}var TK="__lodash_hash_undefined__";function CK(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=_p&&t===void 0?TK:t,this}function Uc(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Uc.prototype.clear=vK;Uc.prototype.delete=yK;Uc.prototype.get=SK;Uc.prototype.has=EK;Uc.prototype.set=CK;function kK(){this.__data__=[],this.size=0}function fy(e,t){return e===t||e!==e&&t!==t}function hy(e,t){for(var n=e.length;n--;)if(fy(e[n][0],t))return n;return-1}var MK=Array.prototype,RK=MK.splice;function IK(e){var t=this.__data__,n=hy(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():RK.call(t,n,1),--this.size,!0}function OK(e){var t=this.__data__,n=hy(t,e);return n<0?void 0:t[n][1]}function jK(e){return hy(this.__data__,e)>-1}function PK(e,t){var n=this.__data__,r=hy(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function Ia(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ia.prototype.clear=kK;Ia.prototype.delete=IK;Ia.prototype.get=OK;Ia.prototype.has=jK;Ia.prototype.set=PK;var Sp=au(go,"Map");function VK(){this.size=0,this.__data__={hash:new Uc,map:new(Sp||Ia),string:new Uc}}function DK(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function py(e,t){var n=e.__data__;return DK(t)?n[typeof t=="string"?"string":"hash"]:n.map}function BK(e){var t=py(this,e).delete(e);return this.size-=t?1:0,t}function NK(e){return py(this,e).get(e)}function LK(e){return py(this,e).has(e)}function FK(e,t){var n=py(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function Oa(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Oa.prototype.clear=VK;Oa.prototype.delete=BK;Oa.prototype.get=NK;Oa.prototype.has=LK;Oa.prototype.set=FK;var zK="Expected a function";function gy(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(zK);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var l=e.apply(this,r);return n.cache=s.set(i,l)||s,l};return n.cache=new(gy.Cache||Oa),n}gy.Cache=Oa;function vv(e){return rp.includes(e.note.type)?0:e.distance}function fn(e){return(e==null?void 0:e.type)==="notes"&&!!e.notes.length}const $K=35e5,uc={freestyle:.25,rap:.25,rapstar:.5,star:2,normal:1,perfect:.5,vibrato:.25},v5=e=>({freestyle:e.freestyle*uc.freestyle,rap:e.rap*uc.rap,rapstar:e.rapstar*uc.rapstar,star:e.star*uc.star,normal:e.normal*uc.normal,perfect:e.perfect*uc.perfect,vibrato:e.vibrato*uc.vibrato}),Dw=e=>e.freestyle+e.rap+e.star+e.normal+e.perfect+e.vibrato,Lm=(e,t)=>({freestyle:e.freestyle*t,rap:e.rap*t,rapstar:e.rapstar*t,star:e.star*t,normal:e.normal*t,perfect:e.perfect*t,vibrato:e.vibrato*t}),y5=(e,t)=>({freestyle:e.freestyle+t.freestyle,rap:e.rap+t.rap,rapstar:e.rapstar+t.rapstar,star:e.star+t.star,normal:e.normal+t.normal,perfect:e.perfect+t.perfect,vibrato:e.vibrato+t.vibrato}),A5=(e,t)=>({freestyle:e.freestyle/t,rap:e.rap/t,rapstar:e.rapstar/t,star:e.star/t,normal:e.normal/t,perfect:e.perfect/t,vibrato:e.vibrato/t}),b5=gy(e=>e.tracks.map(({sections:t})=>{const n={freestyle:0,rap:0,rapstar:0,star:0,normal:0,perfect:0,vibrato:0};return t.filter(fn).forEach(r=>{r.notes.filter(s=>!B4.includes(s.type)).forEach(s=>{n[s.type]=n[s.type]+s.length,n.perfect=n.perfect+s.length,n.vibrato=n.vibrato+s.length})}),n}));function z4(e,t,n){const r=b5(t),i={freestyle:0,rap:0,rapstar:0,star:0,normal:0,perfect:0,vibrato:0};if(!r[n])return console.error(`No beat count for track ${n} in song`,t),[0,i,i];const s=v5(b5(t)[n]),l=$K/Dw(s);for(let c=0;c<e.length;c++){const d=e[c];B4.includes(d.note.type)||vv(d)===0&&(i[d.note.type]=i[d.note.type]+d.length,d.isPerfect&&(i.perfect=i.perfect+d.length),d.vibrato&&(i.vibrato=i.vibrato+d.length))}return[l,v5(i),s]}function UK(e,t,n){const[r,i]=z4(e,t,n);return Dw(i)*r}function HK(e,t,n,r=!0){const i=(e-n)/t;return r?Math.floor(i):i}function qK(e){return N4*Math.pow(2,(e-L4)/12)}const GK=e=>Math.round(12*(Math.log(e/N4)/Math.log(2)))+L4,YK=(e,t)=>Math.floor(1200*Math.log(t/e)/Math.log(2)),KK=(e,t,n)=>{const r=qK(e),i=YK(r,t);return Math.sign(i)*((Math.abs(i)%1200+600)%1200-600)/(n*100+50)},WK=(e,t,n)=>{const r=(e%12-t%12+18)%12-6;return Math.abs(r)<=n?0:r},QK=(e,t)=>{const n=at.getTolerance(),r=GK(e);let i=-1;const s=WK(r,t,n);return s===0&&(i=KK(t,e,n)),{distance:s,preciseDistance:i}},_5=6;function XK(e){const t=[];for(let r=1;r<e.length;r++){if(Math.round(e[r].frequency/2)===Math.round(e[r-1].frequency/2))continue;const i=e[r].frequency>e[r-1].frequency?">":"<";if(t.length===0)t.push({...e[r],interval:e[r].timestamp-e[r-1].timestamp,change:i});else{const s=t.at(-1);s.change!==i&&t.push({...e[r],interval:e[r].timestamp-s.timestamp,change:i})}}const n=t;for(let r=0;r<n.length-_5;r++){const s=n.slice(r,r+_5-1).map(u=>u.interval),l=Math.max(...s),c=Math.min(...s),d=s.reduce((u,h)=>u+h,0)/s.length;if(l<d*1.75&&c>d/1.75)return!0}return!1}const JK=100;function ZK(e,t,n,r){if(t.frequency===0)return;const i={...t,beat:Math.max(0,t.timestamp)/r,...QK(t.frequency,n.pitch)},s=e.at(-1),l=JK/r,c=n.start+n.length,d=!s||s.note.start!==n.start,u=!s||s.distance!==i.distance&&!rp.includes(n.type);if(d||u||i.beat-(s.start+s.length)>l){const h=i.beat-l<n.start?n.start:i.beat;if(e.push({start:Math.min(d?h:i.beat,c),length:0,distance:i.distance,note:n,isPerfect:!1,vibrato:!1,frequencyRecords:[{frequency:i.frequency,preciseDistance:i.preciseDistance,timestamp:i.timestamp}]}),s&&n.start!==s.note.start){const p=s.start+s.length,v=s.note.start+s.note.length,y=p+l>v?v:p;s.length=Math.max(0,y-s.start)}}else s.length=Math.max(0,Math.min(i.beat,n.start+n.length)-s.start),s.frequencyRecords.push({frequency:i.frequency,timestamp:i.timestamp,preciseDistance:i.preciseDistance}),s.isPerfect=s.distance===0&&Math.abs(s.length-s.note.length)<.5,s.vibrato=s.distance===0&&XK(s.frequencyRecords)}const eW=e=>e.notes[0],El=e=>{const t=e.find(fn);return t?eW(t).start:1/0},xp=e=>{const n=e.filter(fn).at(-1);return n?Hd(n):0},Hd=e=>{const t=e.notes.at(-1);return t.start+t.length},S5=(e,t,n=0)=>e.notes.find(r=>r.start-n<=t&&r.start+r.length+n>=t);class tW{constructor(t,n){this.number=t,this.gameState=n,this.frequencyRecords=[],this.playerNotes=[],this.realFrequencyRecords=[],this.realPlayerNotes=[],this.min=1/0,this.max=-1/0,this.storedSectionIndex=0,this.getNumber=()=>this.number,this.update=()=>{const r=this.gameState.getCurrentTime(),i=ur.getPlayerFrequency(this.number),s=r-ur.getPlayerInputLag(this.number);if(Array.isArray(i)){const l=this.realFrequencyRecords.at(-1)||this.frequencyRecords.at(0),c=(l==null?void 0:l.timestamp)??0,d=(s-c)/i.length;this.frequencyRecords=this.realFrequencyRecords,this.playerNotes=this.realPlayerNotes;for(let h=0;h<i.length;h++){const p=c+d*(h+1);this.updatePlayerNotes(p,i[h])}this.realFrequencyRecords=[...this.frequencyRecords],this.realPlayerNotes=[...this.playerNotes];const u=this.realPlayerNotes.at(-1);u&&(this.realPlayerNotes[this.realPlayerNotes.length-1]={...u,frequencyRecords:[...u.frequencyRecords??[]]}),ur.clearPlayerCachedFrequencies(this.number)}else this.updatePlayerNotes(s,i);this.dispatchSectionUpdate()},this.dispatchSectionUpdate=()=>{const r=this.getCurrentSectionIndex();this.storedSectionIndex!==r&&(me.sectionChange.dispatch(this.number,this.storedSectionIndex),this.storedSectionIndex=r)},this.updatePlayerNotes=(r,i)=>{const s={timestamp:r,frequency:i};this.frequencyRecords.push(s);const l=s.timestamp/this.gameState.getSongBeatLength(),c=this.getSectionByBeat(l);if(fn(c)){const d=S5(c,l,0)??S5(c,l,.5);d&&ZK(this.playerNotes,s,d,this.gameState.getSongBeatLength())}},this.getPlayerNotes=()=>this.playerNotes,this.getPlayerFrequencies=()=>this.frequencyRecords,this.getSectionIndexByBeat=r=>this.getTrack().sections.findIndex((i,s,l)=>r<0?!0:r<i.start?!1:s===l.length-1?!0:l[s+1].start>r),this.getCurrentSectionIndex=()=>this.getSectionIndexByBeat(this.gameState.getCurrentBeat()),this.getSectionByBeat=r=>this.getTrack().sections[this.getSectionIndexByBeat(r)]??null,this.getCurrentSection=()=>{const r=this.getCurrentSectionIndex();return this.getTrack().sections[r]??null},this.getNextSection=(r=1)=>{const i=this.getCurrentSectionIndex();return i>-1?this.getTrack().sections[i+r]??null:null},this.getPreviousSection=(r=1)=>{const i=this.getCurrentSectionIndex();return i>-1?this.getTrack().sections[i-r]??null:null},this.getLastNotesSection=()=>{const r=this.getTrack().sections.at(-1);return fn(r)?r:this.getTrack().sections.at(-2)},this.getScore=()=>UK(this.playerNotes,this.gameState.getSong(),this.getTrackIndex()),this.getDetailedScore=()=>z4(this.playerNotes,this.gameState.getSong(),this.getTrackIndex()),this.getMinPitch=()=>this.min,this.getMaxPitch=()=>this.max,this.getTrackIndex=()=>this.gameState.getSingSetup().players.find(r=>r.number===this.number).track,this.getTrack=()=>{var r;return this.gameState.isMergedTrack()?(r=this.gameState.getSong())==null?void 0:r.mergedTrack:this.gameState.getSong().tracks[this.getTrackIndex()]},this.resetNotes=()=>{this.playerNotes=[]},this.getTrack().sections.filter(fn).forEach(r=>r.notes.forEach(i=>{this.min=Math.min(this.min,i.pitch),this.max=Math.max(this.max,i.pitch)}))}}function x5(e){return Math.max(...e.tracks.map(t=>{const n=t.sections.filter(fn).at(-1);return n?Hd(n):0}))}function Bw(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError("Expected a function");const n=function(...r){const i=t?t.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);const l=e.apply(this,r);return n.cache=s.set(i,l)||s,l};return n.cache=new(Bw.Cache||Map),n}Bw.Cache=Map;const ff=Bw(function(t){return 60/t.bpm/(t.bar??4)*1e3});class nW{constructor(){this.song=null,this.currentTime=0,this.duration=0,this.singSetup=null,this.playerStates=[],this.playing=!1,this.setCurrentTime=t=>this.currentTime=t,this.getCurrentTime=(t=!0)=>this.currentTime-(t&&this.song?this.song.gap:0),this.getSongBeatLength=()=>ff(this.song),this.getCurrentBeat=()=>HK(this.getCurrentTime(),this.getSongBeatLength(),0,!1),this.setSong=t=>this.song=t,this.getSong=()=>this.song,this.getSingSetup=()=>this.singSetup,this.setSingSetup=t=>{this.singSetup=t,this.playerStates=t.players.map(({number:n},r)=>new tW(n,this)),this.currentTime=0,this.playing=!0},this.resetSingSetup=()=>{this.playing=!1},this.isPlaying=()=>this.playing,this.getTolerance=()=>{var t;return((t=this.getSingSetup())==null?void 0:t.tolerance)??2},this.setDuration=t=>this.duration=t,this.getDuration=()=>this.duration,this.getPlayer=t=>this.playerStates.find(n=>n.getNumber()===t),this.getPlayers=()=>this.playerStates,this.getPlayerCount=()=>this.playerStates.length,this.getPlayerScore=t=>{var n,r;return((n=this.getSingSetup())==null?void 0:n.mode)===ki.CO_OP?this.getPlayers().reduce((s,l)=>s+l.getScore(),0)/this.getPlayerCount():((r=this.getPlayer(t))==null?void 0:r.getScore())??-1},this.getPlayerDetailedScore=t=>{var n;if(((n=this.getSingSetup())==null?void 0:n.mode)===ki.CO_OP){const r=this.getPlayers().map(c=>c.getDetailedScore()),[i,...s]=r.map(([c,d,u])=>[Lm(d,c),Lm(u,c)]),l=s.reduce((c,d)=>[y5(c[0],d[0]),y5(c[1],d[1])],i);return[A5(l[0],this.getPlayerCount()),A5(l[1],this.getPlayerCount())]}else{const[r,i,s]=this.getPlayer(t).getDetailedScore();return[Lm(i,r),Lm(s,r)]}},this.getSongCompletionProgress=()=>(console.log("getSongCompletionProgress",this.getCurrentBeat(),x5(this.getSong()),this.getSong()),Math.max(0,Math.min(1,this.getCurrentBeat()/x5(this.getSong())))),this.startInputMonitoring=async()=>ur.startMonitoring(),this.stopInputMonitoring=()=>ur.stopMonitoring(),this.update=()=>{this.playerStates.forEach(t=>t.update())},this.resetPlayerNotes=()=>{this.playerStates.forEach(t=>t.resetNotes())},this.isMergedTrack=()=>{var t;return((t=this.getSingSetup())==null?void 0:t.players.length)!==2}}}const at=new nW,$4="wss://allkaraoke-partykit.asvarox.partykit.dev";class rW extends Ys{constructor(){super(...arguments),this.name="PartyKit",this.connection=null,this.disconnect=()=>{var t;(t=this.connection)==null||t.close()},this.latency=0,this.pingStart=Ri(),this.pinging=!1,this.pingTimeout=null,this.ping=()=>{var t;this.pinging=!0,this.pingStart=Ri(),(t=this.connection)==null||t.send(Fs({t:"ping"}))},this.onPong=()=>{this.pinging&&(this.latency=Ri()-this.pingStart,this.pinging=!1,this.pingTimeout&&clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(this.ping,5e3))},this.getCurrentPing=()=>this.pinging?Math.max(this.latency,Ri()-this.pingStart):this.latency}connect(t,n,r){this.connection=new WebSocket(`${$4}/party/${t}`),this.connection.binaryType="arraybuffer",this.connection.onopen=()=>{var i,s;(i=this.connection)==null||i.send(Fs({t:"register-room",id:t})),n(),this.ping(),(s=this.connection)==null||s.addEventListener("message",l=>{var d;const c=ef(l.data);if(c.t==="forward"){["ping","pong","freq"].includes((d=c==null?void 0:c.payload)==null?void 0:d.t)||console.log("received",c);const{sender:u,payload:h}=c,p=new iW(u,this.connection);this.onUpdate(h,p)}else c.t==="pong"?this.onPong():console.warn("Unknown message type",c)})},this.connection.onclose=i=>{r(i.reason,i)}}removePlayer(t){var n;(n=this.connection)==null||n.send(Fs({t:"remove-player",id:t}))}}let iW=class{constructor(t,n){this.peer=t,this.socket=n,this.currentPing=0,this.send=r=>{const i={t:"forward",recipients:[this.peer],payload:r};["ping","pong","freq"].includes(r==null?void 0:r.t)||console.log("sending",this.peer,r),this.socket.send(Fs(i))},this.callbacksMap=new Map,this.on=(r,i)=>{r==="data"&&(this.callbacksMap.set(i,s=>{const l=ef(s.data);if(l.t==="forward"){const{sender:c,payload:d}=l;c===this.peer&&i(d)}}),this.socket.addEventListener("message",this.callbacksMap.get(i)))},this.off=(r,i)=>{if(r==="data"){const s=this.callbacksMap.get(i);this.socket.removeEventListener("message",s),this.callbacksMap.delete(i)}},this.close=()=>{this.socket.close()}}};var Ij;const sW=(Ij=global==null?void 0:global.sessionStorage)==null?void 0:Ij.getItem("isE2E");var Oj;const oW=(Oj=global==null?void 0:global.location)==null?void 0:Oj.search.includes("e2e-test");function pi(){var t;if(sW)return!0;const e=(global==null?void 0:global.isE2ETests)||oW;return e&&((t=global==null?void 0:global.sessionStorage)==null||t.setItem("isE2E","true")),e}const aW=pi()?{host:"localhost",port:3001,path:"/"}:{},U4={...aW};var lW=Object.create,my=Object.defineProperty,cW=Object.defineProperties,uW=Object.getOwnPropertyDescriptor,dW=Object.getOwnPropertyDescriptors,H4=Object.getOwnPropertyNames,w5=Object.getOwnPropertySymbols,fW=Object.getPrototypeOf,q4=Object.prototype.hasOwnProperty,hW=Object.prototype.propertyIsEnumerable,E5=(e,t,n)=>t in e?my(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Nw=(e,t)=>{for(var n in t||(t={}))q4.call(t,n)&&E5(e,n,t[n]);if(w5)for(var n of w5(t))hW.call(t,n)&&E5(e,n,t[n]);return e},G4=(e,t)=>cW(e,dW(t)),pW=e=>my(e,"__esModule",{value:!0}),Lw=(e,t)=>function(){return t||(0,e[H4(e)[0]])((t={exports:{}}).exports,t),t.exports},gW=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of H4(t))!q4.call(e,i)&&i!=="default"&&my(e,i,{get:()=>t[i],enumerable:!(r=uW(t,i))||r.enumerable});return e},Hp=(e,t)=>gW(pW(my(e!=null?lW(fW(e)):{},"default",e&&e.__esModule?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e),gd=(e,t,n)=>new Promise((r,i)=>{var s=d=>{try{c(n.next(d))}catch(u){i(u)}},l=d=>{try{c(n.throw(d))}catch(u){i(u)}},c=d=>d.done?r(d.value):Promise.resolve(d.value).then(s,l);c((n=n.apply(e,t)).next())}),T5=Lw({"node_modules/peerjs-js-binarypack/lib/bufferbuilder.js"(e,t){var n={};n.useBlobBuilder=function(){try{return new Blob([]),!1}catch{return!0}}(),n.useArrayBufferView=!n.useBlobBuilder&&function(){try{return new Blob([new Uint8Array([])]).size===0}catch{return!0}}(),t.exports.binaryFeatures=n;var r=t.exports.BlobBuilder;typeof window<"u"&&(r=t.exports.BlobBuilder=window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder||window.BlobBuilder);function i(){this._pieces=[],this._parts=[]}i.prototype.append=function(s){typeof s=="number"?this._pieces.push(s):(this.flush(),this._parts.push(s))},i.prototype.flush=function(){if(this._pieces.length>0){var s=new Uint8Array(this._pieces);n.useArrayBufferView||(s=s.buffer),this._parts.push(s),this._pieces=[]}},i.prototype.getBuffer=function(){if(this.flush(),n.useBlobBuilder){for(var s=new r,l=0,c=this._parts.length;l<c;l++)s.append(this._parts[l]);return s.getBlob()}else return new Blob(this._parts)},t.exports.BufferBuilder=i}}),mW=Lw({"node_modules/peerjs-js-binarypack/lib/binarypack.js"(e,t){var n=T5().BufferBuilder,r=T5().binaryFeatures,i={unpack:function(u){var h=new s(u);return h.unpack()},pack:function(u){var h=new l;h.pack(u);var p=h.getBuffer();return p}};t.exports=i;function s(u){this.index=0,this.dataBuffer=u,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}s.prototype.unpack=function(){var u=this.unpack_uint8();if(u<128)return u;if((u^224)<32)return(u^224)-32;var h;if((h=u^160)<=15)return this.unpack_raw(h);if((h=u^176)<=15)return this.unpack_string(h);if((h=u^144)<=15)return this.unpack_array(h);if((h=u^128)<=15)return this.unpack_map(h);switch(u){case 192:return null;case 193:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 212:return;case 213:return;case 214:return;case 215:return;case 216:return h=this.unpack_uint16(),this.unpack_string(h);case 217:return h=this.unpack_uint32(),this.unpack_string(h);case 218:return h=this.unpack_uint16(),this.unpack_raw(h);case 219:return h=this.unpack_uint32(),this.unpack_raw(h);case 220:return h=this.unpack_uint16(),this.unpack_array(h);case 221:return h=this.unpack_uint32(),this.unpack_array(h);case 222:return h=this.unpack_uint16(),this.unpack_map(h);case 223:return h=this.unpack_uint32(),this.unpack_map(h)}},s.prototype.unpack_uint8=function(){var u=this.dataView[this.index]&255;return this.index++,u},s.prototype.unpack_uint16=function(){var u=this.read(2),h=(u[0]&255)*256+(u[1]&255);return this.index+=2,h},s.prototype.unpack_uint32=function(){var u=this.read(4),h=((u[0]*256+u[1])*256+u[2])*256+u[3];return this.index+=4,h},s.prototype.unpack_uint64=function(){var u=this.read(8),h=((((((u[0]*256+u[1])*256+u[2])*256+u[3])*256+u[4])*256+u[5])*256+u[6])*256+u[7];return this.index+=8,h},s.prototype.unpack_int8=function(){var u=this.unpack_uint8();return u<128?u:u-256},s.prototype.unpack_int16=function(){var u=this.unpack_uint16();return u<32768?u:u-65536},s.prototype.unpack_int32=function(){var u=this.unpack_uint32();return u<Math.pow(2,31)?u:u-Math.pow(2,32)},s.prototype.unpack_int64=function(){var u=this.unpack_uint64();return u<Math.pow(2,63)?u:u-Math.pow(2,64)},s.prototype.unpack_raw=function(u){if(this.length<this.index+u)throw new Error("BinaryPackFailure: index is out of range "+this.index+" "+u+" "+this.length);var h=this.dataBuffer.slice(this.index,this.index+u);return this.index+=u,h},s.prototype.unpack_string=function(u){for(var h=this.read(u),p=0,v="",y,b;p<u;)y=h[p],y<128?(v+=String.fromCharCode(y),p++):(y^192)<32?(b=(y^192)<<6|h[p+1]&63,v+=String.fromCharCode(b),p+=2):(b=(y&15)<<12|(h[p+1]&63)<<6|h[p+2]&63,v+=String.fromCharCode(b),p+=3);return this.index+=u,v},s.prototype.unpack_array=function(u){for(var h=new Array(u),p=0;p<u;p++)h[p]=this.unpack();return h},s.prototype.unpack_map=function(u){for(var h={},p=0;p<u;p++){var v=this.unpack(),y=this.unpack();h[v]=y}return h},s.prototype.unpack_float=function(){var u=this.unpack_uint32(),h=u>>31,p=(u>>23&255)-127,v=u&8388607|8388608;return(h===0?1:-1)*v*Math.pow(2,p-23)},s.prototype.unpack_double=function(){var u=this.unpack_uint32(),h=this.unpack_uint32(),p=u>>31,v=(u>>20&2047)-1023,y=u&1048575|1048576,b=y*Math.pow(2,v-20)+h*Math.pow(2,v-52);return(p===0?1:-1)*b},s.prototype.read=function(u){var h=this.index;if(h+u<=this.length)return this.dataView.subarray(h,h+u);throw new Error("BinaryPackFailure: read index out of range")};function l(){this.bufferBuilder=new n}l.prototype.getBuffer=function(){return this.bufferBuilder.getBuffer()},l.prototype.pack=function(u){var h=typeof u;if(h==="string")this.pack_string(u);else if(h==="number")Math.floor(u)===u?this.pack_integer(u):this.pack_double(u);else if(h==="boolean")u===!0?this.bufferBuilder.append(195):u===!1&&this.bufferBuilder.append(194);else if(h==="undefined")this.bufferBuilder.append(192);else if(h==="object")if(u===null)this.bufferBuilder.append(192);else{var p=u.constructor;if(p==Array)this.pack_array(u);else if(p==Blob||p==File||u instanceof Blob||u instanceof File)this.pack_bin(u);else if(p==ArrayBuffer)r.useArrayBufferView?this.pack_bin(new Uint8Array(u)):this.pack_bin(u);else if("BYTES_PER_ELEMENT"in u)r.useArrayBufferView?this.pack_bin(new Uint8Array(u.buffer)):this.pack_bin(u.buffer);else if(p==Object||p.toString().startsWith("class"))this.pack_object(u);else if(p==Date)this.pack_string(u.toString());else if(typeof u.toBinaryPack=="function")this.bufferBuilder.append(u.toBinaryPack());else throw new Error('Type "'+p.toString()+'" not yet supported')}else throw new Error('Type "'+h+'" not yet supported');this.bufferBuilder.flush()},l.prototype.pack_bin=function(u){var h=u.length||u.byteLength||u.size;if(h<=15)this.pack_uint8(160+h);else if(h<=65535)this.bufferBuilder.append(218),this.pack_uint16(h);else if(h<=4294967295)this.bufferBuilder.append(219),this.pack_uint32(h);else throw new Error("Invalid length");this.bufferBuilder.append(u)},l.prototype.pack_string=function(u){var h=d(u);if(h<=15)this.pack_uint8(176+h);else if(h<=65535)this.bufferBuilder.append(216),this.pack_uint16(h);else if(h<=4294967295)this.bufferBuilder.append(217),this.pack_uint32(h);else throw new Error("Invalid length");this.bufferBuilder.append(u)},l.prototype.pack_array=function(u){var h=u.length;if(h<=15)this.pack_uint8(144+h);else if(h<=65535)this.bufferBuilder.append(220),this.pack_uint16(h);else if(h<=4294967295)this.bufferBuilder.append(221),this.pack_uint32(h);else throw new Error("Invalid length");for(var p=0;p<h;p++)this.pack(u[p])},l.prototype.pack_integer=function(u){if(u>=-32&&u<=127)this.bufferBuilder.append(u&255);else if(u>=0&&u<=255)this.bufferBuilder.append(204),this.pack_uint8(u);else if(u>=-128&&u<=127)this.bufferBuilder.append(208),this.pack_int8(u);else if(u>=0&&u<=65535)this.bufferBuilder.append(205),this.pack_uint16(u);else if(u>=-32768&&u<=32767)this.bufferBuilder.append(209),this.pack_int16(u);else if(u>=0&&u<=4294967295)this.bufferBuilder.append(206),this.pack_uint32(u);else if(u>=-2147483648&&u<=2147483647)this.bufferBuilder.append(210),this.pack_int32(u);else if(u>=-9223372036854776e3&&u<=9223372036854776e3)this.bufferBuilder.append(211),this.pack_int64(u);else if(u>=0&&u<=18446744073709552e3)this.bufferBuilder.append(207),this.pack_uint64(u);else throw new Error("Invalid integer")},l.prototype.pack_double=function(u){var h=0;u<0&&(h=1,u=-u);var p=Math.floor(Math.log(u)/Math.LN2),v=u/Math.pow(2,p)-1,y=Math.floor(v*Math.pow(2,52)),b=Math.pow(2,32),_=h<<31|p+1023<<20|y/b&1048575,w=y%b;this.bufferBuilder.append(203),this.pack_int32(_),this.pack_int32(w)},l.prototype.pack_object=function(u){var h=Object.keys(u),p=h.length;if(p<=15)this.pack_uint8(128+p);else if(p<=65535)this.bufferBuilder.append(222),this.pack_uint16(p);else if(p<=4294967295)this.bufferBuilder.append(223),this.pack_uint32(p);else throw new Error("Invalid length");for(var v in u)u.hasOwnProperty(v)&&(this.pack(v),this.pack(u[v]))},l.prototype.pack_uint8=function(u){this.bufferBuilder.append(u)},l.prototype.pack_uint16=function(u){this.bufferBuilder.append(u>>8),this.bufferBuilder.append(u&255)},l.prototype.pack_uint32=function(u){var h=u&4294967295;this.bufferBuilder.append((h&4278190080)>>>24),this.bufferBuilder.append((h&16711680)>>>16),this.bufferBuilder.append((h&65280)>>>8),this.bufferBuilder.append(h&255)},l.prototype.pack_uint64=function(u){var h=u/Math.pow(2,32),p=u%Math.pow(2,32);this.bufferBuilder.append((h&4278190080)>>>24),this.bufferBuilder.append((h&16711680)>>>16),this.bufferBuilder.append((h&65280)>>>8),this.bufferBuilder.append(h&255),this.bufferBuilder.append((p&4278190080)>>>24),this.bufferBuilder.append((p&16711680)>>>16),this.bufferBuilder.append((p&65280)>>>8),this.bufferBuilder.append(p&255)},l.prototype.pack_int8=function(u){this.bufferBuilder.append(u&255)},l.prototype.pack_int16=function(u){this.bufferBuilder.append((u&65280)>>8),this.bufferBuilder.append(u&255)},l.prototype.pack_int32=function(u){this.bufferBuilder.append(u>>>24&255),this.bufferBuilder.append((u&16711680)>>>16),this.bufferBuilder.append((u&65280)>>>8),this.bufferBuilder.append(u&255)},l.prototype.pack_int64=function(u){var h=Math.floor(u/Math.pow(2,32)),p=u%Math.pow(2,32);this.bufferBuilder.append((h&4278190080)>>>24),this.bufferBuilder.append((h&16711680)>>>16),this.bufferBuilder.append((h&65280)>>>8),this.bufferBuilder.append(h&255),this.bufferBuilder.append((p&4278190080)>>>24),this.bufferBuilder.append((p&16711680)>>>16),this.bufferBuilder.append((p&65280)>>>8),this.bufferBuilder.append(p&255)};function c(u){var h=u.charCodeAt(0);return h<=2047?"00":h<=65535?"000":h<=2097151?"0000":h<=67108863?"00000":"000000"}function d(u){return u.length>600?new Blob([u]).size:u.replace(/[^\u0000-\u007F]/g,c).length}}}),vy=Lw({"node_modules/eventemitter3/index.js"(e,t){var n=Object.prototype.hasOwnProperty,r="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(r=!1));function s(u,h,p){this.fn=u,this.context=h,this.once=p||!1}function l(u,h,p,v,y){if(typeof p!="function")throw new TypeError("The listener must be a function");var b=new s(p,v||u,y),_=r?r+h:h;return u._events[_]?u._events[_].fn?u._events[_]=[u._events[_],b]:u._events[_].push(b):(u._events[_]=b,u._eventsCount++),u}function c(u,h){--u._eventsCount===0?u._events=new i:delete u._events[h]}function d(){this._events=new i,this._eventsCount=0}d.prototype.eventNames=function(){var h=[],p,v;if(this._eventsCount===0)return h;for(v in p=this._events)n.call(p,v)&&h.push(r?v.slice(1):v);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(p)):h},d.prototype.listeners=function(h){var p=r?r+h:h,v=this._events[p];if(!v)return[];if(v.fn)return[v.fn];for(var y=0,b=v.length,_=new Array(b);y<b;y++)_[y]=v[y].fn;return _},d.prototype.listenerCount=function(h){var p=r?r+h:h,v=this._events[p];return v?v.fn?1:v.length:0},d.prototype.emit=function(h,p,v,y,b,_){var w=r?r+h:h;if(!this._events[w])return!1;var T=this._events[w],k=arguments.length,R,M;if(T.fn){switch(T.once&&this.removeListener(h,T.fn,void 0,!0),k){case 1:return T.fn.call(T.context),!0;case 2:return T.fn.call(T.context,p),!0;case 3:return T.fn.call(T.context,p,v),!0;case 4:return T.fn.call(T.context,p,v,y),!0;case 5:return T.fn.call(T.context,p,v,y,b),!0;case 6:return T.fn.call(T.context,p,v,y,b,_),!0}for(M=1,R=new Array(k-1);M<k;M++)R[M-1]=arguments[M];T.fn.apply(T.context,R)}else{var E=T.length,O;for(M=0;M<E;M++)switch(T[M].once&&this.removeListener(h,T[M].fn,void 0,!0),k){case 1:T[M].fn.call(T[M].context);break;case 2:T[M].fn.call(T[M].context,p);break;case 3:T[M].fn.call(T[M].context,p,v);break;case 4:T[M].fn.call(T[M].context,p,v,y);break;default:if(!R)for(O=1,R=new Array(k-1);O<k;O++)R[O-1]=arguments[O];T[M].fn.apply(T[M].context,R)}}return!0},d.prototype.on=function(h,p,v){return l(this,h,p,v,!1)},d.prototype.once=function(h,p,v){return l(this,h,p,v,!0)},d.prototype.removeListener=function(h,p,v,y){var b=r?r+h:h;if(!this._events[b])return this;if(!p)return c(this,b),this;var _=this._events[b];if(_.fn)_.fn===p&&(!y||_.once)&&(!v||_.context===v)&&c(this,b);else{for(var w=0,T=[],k=_.length;w<k;w++)(_[w].fn!==p||y&&!_[w].once||v&&_[w].context!==v)&&T.push(_[w]);T.length?this._events[b]=T.length===1?T[0]:T:c(this,b)}return this},d.prototype.removeAllListeners=function(h){var p;return h?(p=r?r+h:h,this._events[p]&&c(this,p)):(this._events=new i,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=r,d.EventEmitter=d,typeof t<"u"&&(t.exports=d)}}),C5=Hp(mW()),vW={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"turn:0.peerjs.com:3478",username:"peerjs",credential:"peerjsp"}],sdpSemantics:"unified-plan"},Zn=new class{constructor(){this.CLOUD_HOST="0.peerjs.com",this.CLOUD_PORT=443,this.chunkedMTU=16300,this.defaultConfig=vW,this.pack=C5.pack,this.unpack=C5.unpack,this._dataCount=1}validateId(e){return!e||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(e)}chunk(e){const t=[],n=e.size,r=Math.ceil(n/Zn.chunkedMTU);let i=0,s=0;for(;s<n;){const l=Math.min(n,s+Zn.chunkedMTU),c=e.slice(s,l),d={__peerData:this._dataCount,n:i,data:c,total:r};t.push(d),s=l,i++}return this._dataCount++,t}blobToArrayBuffer(e,t,n){const r=new e;return r.onload=function(i){i.target&&n(i.target.result)},r.readAsArrayBuffer(t),r}binaryStringToArrayBuffer(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n)&255;return t.buffer}randomToken(){return Math.random().toString(36).substr(2)}isSecure(){return location.protocol==="https:"}},yW=Hp(vy()),AW="PeerJS: ",bW=class{constructor(){this._logLevel=0}get logLevel(){return this._logLevel}set logLevel(e){this._logLevel=e}log(...e){this._logLevel>=3&&this._print(3,...e)}warn(...e){this._logLevel>=2&&this._print(2,...e)}error(...e){this._logLevel>=1&&this._print(1,...e)}setLogFunction(e){this._print=e}_print(e,...t){const n=[AW,...t];for(let r in n)n[r]instanceof Error&&(n[r]="("+n[r].name+") "+n[r].message);e>=3?console.log(...n):e>=2?console.warn("WARNING",...n):e>=1&&console.error("ERROR",...n)}},Ke=new bW,_W=Hp(vy()),SW=class extends _W.EventEmitter{constructor({secure:e,host:t,port:n,path:r,key:i,pingInterval:s=5e3,polyfills:l}){super(),this._disconnected=!0,this._id=null,this._messagesQueue=[],this.alive=!1,this._destroyed=!1;var c;this.pingInterval=s;const d=e?"wss://":"ws://";this._baseUrl=d+t+":"+n+r+"peerjs?key="+i,this.WebSocketConstructor=(c=l==null?void 0:l.WebSocket)!=null?c:window.WebSocket}get messagesQueue(){return this._messagesQueue}get destroyed(){return this._destroyed}start(e,t){if(this._destroyed)throw new Error("Socket was destroyed!");if(this._id=e,this._socket||!this._disconnected)return;const n=`${this._baseUrl}&id=${e}&token=${t}`;this._socket=new this.WebSocketConstructor(n),this._disconnected=!1,this._socket.onmessage=r=>{if(this._destroyed)return;let i;try{i=JSON.parse(r.data),Ke.log("Server message received:",i)}catch{Ke.log("Invalid server message",r.data);return}this.emit("message",i)},this._socket.onclose=r=>{this._disconnected||this._destroyed||(Ke.log("Socket closed.",r),this._cleanup(),this._disconnected=!0,this.emit("disconnected"))},this._socket.onopen=()=>{this._disconnected||this._destroyed||(Ke.log("Socket open"),this.emit("open"),this._sendQueuedMessages(),this._scheduleHeartbeat())}}_scheduleHeartbeat(){this._wsPingTimer=setTimeout(()=>{this._sendHeartbeat()},this.pingInterval)}_sendHeartbeat(){if(this._destroyed)return;if(!this._wsOpen()){Ke.log("Cannot send heartbeat, because socket closed");return}const e=JSON.stringify({type:"HEARTBEAT"});this._socket.send(e),this._scheduleHeartbeat()}_wsOpen(){return!!this._socket&&this._socket.readyState===1}_sendQueuedMessages(){const e=[...this._messagesQueue];this._messagesQueue=[];for(const t of e)this.send(t);e.length>0&&Ke.log(`${e.length} queued messages was sent`)}send(e){if(this._destroyed)throw new Error("Socket was destroyed!");if(!e.type){this.emit("error","Invalid message");return}if(!this.alive)return;if(this._id==null||!this._wsOpen()){this._messagesQueue.push(e);return}const t=JSON.stringify(e);this._socket.send(t)}close(){this._disconnected||(this._cleanup(),this._id=null,this._disconnected=!0)}_cleanup(){this._socket&&(this._socket.onopen=this._socket.onmessage=this._socket.onclose=null,this._socket.close(),this._socket=void 0),clearTimeout(this._wsPingTimer)}destroy(){this._destroyed||(this.close(),this._messagesQueue.length=0,this._destroyed=!0)}};function xW(){}var Y4=class{constructor(e){this.connection=e}get webRtc(){var e,t;return(t=(e=this.connection.provider.options.polyfills)==null?void 0:e.WebRTC)!=null?t:window}startConnection(e){const t=this._startPeerConnection();if(this.connection.peerConnection=t,this.connection.type==="media"&&e._stream&&this._addTracksToConnection(e._stream,t),e.originator){if(this.connection.type==="data"){const n=this.connection,r={ordered:!!e.reliable},i=t.createDataChannel(n.label,r);n.initialize(i)}this._makeOffer()}else this.handleSDP("OFFER",e.sdp)}_startPeerConnection(){Ke.log("Creating RTCPeerConnection.");const e=this.webRtc.RTCPeerConnection,t=new e(this.connection.provider.options.config);return this._setupListeners(t),t}_setupListeners(e){const t=this.connection.peer,n=this.connection.connectionId,r=this.connection.type,i=this.connection.provider;Ke.log("Listening for ICE candidates, remote streams and data channels."),e.onicecandidate=s=>{!s.candidate||!s.candidate.candidate||(Ke.log(`Received ICE candidates for ${t}:`,s.candidate),i.socket.send({type:"CANDIDATE",payload:{candidate:s.candidate,type:r,connectionId:n},dst:t}))},e.oniceconnectionstatechange=()=>{switch(e.iceConnectionState){case"failed":Ke.log("iceConnectionState is failed, closing connections to "+t),this.connection.emit("error",new Error("Negotiation of connection to "+t+" failed.")),this.connection.close();break;case"closed":Ke.log("iceConnectionState is closed, closing connections to "+t),this.connection.emit("error",new Error("Connection to "+t+" closed.")),this.connection.close();break;case"connected":Ke.log("iceConnectionState changed to connected on the connection with "+t);break;case"disconnected":Ke.log("iceConnectionState changed to disconnected on the connection with "+t);break;case"completed":Ke.log("iceConnectionState changed to completed on the connection with "+t),e.onicecandidate=xW;break}this.connection.emit("iceStateChanged",e.iceConnectionState)},e.ondatachannel=s=>{Ke.log("Received data channel");const l=s.channel;i.getConnection(t,n).initialize(l)},e.ontrack=s=>{Ke.log("Received remote stream");const l=s.streams[0],c=i.getConnection(t,n);if(c.type==="media"){const d=c;this._addStreamToMediaConnection(l,d)}}}cleanup(){Ke.log("Cleaning up PeerConnection to "+this.connection.peer);const e=this.connection.peerConnection;if(!e)return;this.connection.peerConnection=null,e.onicecandidate=e.oniceconnectionstatechange=e.ondatachannel=e.ontrack=null;const t=e.signalingState!=="closed";let n=!1;if(this.connection.type==="data"){const i=this.connection.dataChannel;i&&(n=!!i.readyState&&i.readyState!=="closed")}(t||n)&&e.close()}_makeOffer(){return gd(this,null,function*(){const e=this.connection.peerConnection,t=this.connection.provider;try{const n=yield e.createOffer(this.connection.options.constraints);if(e.signalingState==="closed")return;Ke.log("Created offer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(n.sdp=this.connection.options.sdpTransform(n.sdp)||n.sdp);try{yield e.setLocalDescription(n),Ke.log("Set localDescription:",n,`for:${this.connection.peer}`);let r={sdp:n,type:this.connection.type,connectionId:this.connection.connectionId,metadata:this.connection.metadata};if(this.connection.type==="data"){const i=this.connection;r=G4(Nw({},r),{label:i.label,reliable:i.reliable,serialization:i.serialization})}t.socket.send({type:"OFFER",payload:r,dst:this.connection.peer})}catch(r){r!="OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"&&(t.emitError("webrtc",r),Ke.log("Failed to setLocalDescription, ",r))}}catch(n){t.emitError("webrtc",n),Ke.log("Failed to createOffer, ",n)}})}_makeAnswer(){return gd(this,null,function*(){const e=this.connection.peerConnection,t=this.connection.provider;try{const n=yield e.createAnswer();if(e.signalingState==="closed")return;Ke.log("Created answer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(n.sdp=this.connection.options.sdpTransform(n.sdp)||n.sdp);try{yield e.setLocalDescription(n),Ke.log("Set localDescription:",n,`for:${this.connection.peer}`),t.socket.send({type:"ANSWER",payload:{sdp:n,type:this.connection.type,connectionId:this.connection.connectionId},dst:this.connection.peer})}catch(r){t.emitError("webrtc",r),Ke.log("Failed to setLocalDescription, ",r)}}catch(n){t.emitError("webrtc",n),Ke.log("Failed to create answer, ",n)}})}handleSDP(e,t){return gd(this,null,function*(){const n=this.webRtc.RTCSessionDescription;t=new n(t);const r=this.connection.peerConnection,i=this.connection.provider;Ke.log("Setting remote description",t);const s=this;try{yield r.setRemoteDescription(t),Ke.log(`Set remoteDescription:${e} for:${this.connection.peer}`),e==="OFFER"&&(yield s._makeAnswer())}catch(l){i.emitError("webrtc",l),Ke.log("Failed to setRemoteDescription, ",l)}})}handleCandidate(e){return gd(this,null,function*(){Ke.log("handleCandidate:",e);const t=e.candidate,n=e.sdpMLineIndex,r=e.sdpMid,i=this.connection.peerConnection,s=this.connection.provider;try{const l=this.webRtc.RTCIceCandidate;yield i.addIceCandidate(new l({sdpMid:r,sdpMLineIndex:n,candidate:t})),Ke.log(`Added ICE candidate for:${this.connection.peer}`)}catch(l){s.emitError("webrtc",l),Ke.log("Failed to handleCandidate, ",l)}})}_addTracksToConnection(e,t){if(Ke.log(`add tracks from stream ${e.id} to peer connection`),!t.addTrack)return Ke.error("Your browser does't support RTCPeerConnection#addTrack. Ignored.");e.getTracks().forEach(n=>{t.addTrack(n,e)})}_addStreamToMediaConnection(e,t){Ke.log(`add stream ${e.id} to media connection ${t.connectionId}`),t.addStream(e)}},wW=Hp(vy()),K4=class extends wW.EventEmitter{constructor(e,t,n){super(),this.peer=e,this.provider=t,this.options=n,this._open=!1,this.metadata=n.metadata}get open(){return this._open}},W4=class extends K4{get type(){return"media"}get localStream(){return this._localStream}get remoteStream(){return this._remoteStream}constructor(e,t,n){super(e,t,n),this._localStream=this.options._stream,this.connectionId=this.options.connectionId||W4.ID_PREFIX+Zn.randomToken(),this._negotiator=new Y4(this),this._localStream&&this._negotiator.startConnection({_stream:this._localStream,originator:!0})}addStream(e){Ke.log("Receiving stream",e),this._remoteStream=e,super.emit("stream",e)}handleMessage(e){const t=e.type,n=e.payload;switch(e.type){case"ANSWER":this._negotiator.handleSDP(t,n.sdp),this._open=!0;break;case"CANDIDATE":this._negotiator.handleCandidate(n.candidate);break;default:Ke.warn(`Unrecognized message type:${t} from peer:${this.peer}`);break}}answer(e,t={}){if(this._localStream){Ke.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");return}this._localStream=e,t&&t.sdpTransform&&(this.options.sdpTransform=t.sdpTransform),this._negotiator.startConnection(G4(Nw({},this.options._payload),{_stream:e}));const n=this.provider._getMessages(this.connectionId);for(let r of n)this.handleMessage(r);this._open=!0}close(){this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this._localStream=null,this._remoteStream=null,this.provider&&(this.provider._removeConnection(this),this.provider=null),this.options&&this.options._stream&&(this.options._stream=null),this.open&&(this._open=!1,super.emit("close"))}},ZS=W4;ZS.ID_PREFIX="mc_";var EW=Hp(vy()),TW=class extends EW.EventEmitter{constructor(e){super(),this.fileReader=e,this._queue=[],this._processing=!1,this.fileReader.onload=t=>{this._processing=!1,t.target&&this.emit("done",t.target.result),this.doNextTask()},this.fileReader.onerror=t=>{Ke.error("EncodingQueue error:",t),this._processing=!1,this.destroy(),this.emit("error",t)}}get queue(){return this._queue}get size(){return this.queue.length}get processing(){return this._processing}enque(e){this.queue.push(e),!this.processing&&this.doNextTask()}destroy(){this.fileReader.abort(),this._queue=[]}doNextTask(){this.size!==0&&(this.processing||(this._processing=!0,this.fileReader.readAsArrayBuffer(this.queue.shift())))}},ex=class extends K4{constructor(e,t,n){super(e,t,n),this.stringify=JSON.stringify,this.parse=JSON.parse,this._buffer=[],this._bufferSize=0,this._buffering=!1,this._chunkedData={};var r,i;this.connectionId=this.options.connectionId||ex.ID_PREFIX+Zn.randomToken(),this.label=this.options.label||this.connectionId,this.serialization=this.options.serialization||"binary",this.reliable=!!this.options.reliable,this.FileReaderCtr=(i=(r=t.options.polyfills)==null?void 0:r.FileReader)!=null?i:window.FileReader,this._encodingQueue=new TW(new this.FileReaderCtr),this._encodingQueue.on("done",s=>{this._bufferedSend(s)}),this._encodingQueue.on("error",()=>{Ke.error(`DC#${this.connectionId}: Error occured in encoding from blob to arraybuffer, close DC`),this.close()}),this._negotiator=new Y4(this),this._negotiator.startConnection(this.options._payload||{originator:!0})}get type(){return"data"}get dataChannel(){return this._dc}get bufferSize(){return this._bufferSize}initialize(e){this._dc=e,this._configureDataChannel()}_configureDataChannel(){(!this.provider.features.binaryBlob||this.provider.features.reliable)&&(this.dataChannel.binaryType="arraybuffer"),this.dataChannel.onopen=()=>{Ke.log(`DC#${this.connectionId} dc connection success`),this._open=!0,this.emit("open")},this.dataChannel.onmessage=e=>{Ke.log(`DC#${this.connectionId} dc onmessage:`,e.data),this._handleDataMessage(e)},this.dataChannel.onclose=()=>{Ke.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}_handleDataMessage({data:e}){const t=e.constructor,n=this.serialization==="binary"||this.serialization==="binary-utf8";let r=e;if(n){if(t===Blob){Zn.blobToArrayBuffer(this.FileReaderCtr,e,i=>{const s=Zn.unpack(i);this.emit("data",s)});return}else if(t===ArrayBuffer)r=Zn.unpack(e);else if(t===String){const i=Zn.binaryStringToArrayBuffer(e);r=Zn.unpack(i)}}else this.serialization==="json"&&(r=this.parse(e));if(r.__peerData){this._handleChunk(r);return}super.emit("data",r)}_handleChunk(e){const t=e.__peerData,n=this._chunkedData[t]||{data:[],count:0,total:e.total};if(n.data[e.n]=e.data,n.count++,this._chunkedData[t]=n,n.total===n.count){delete this._chunkedData[t];const r=new Blob(n.data);this._handleDataMessage({data:r})}}close(){this._buffer=[],this._bufferSize=0,this._chunkedData={},this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this.provider&&(this.provider._removeConnection(this),this.provider=null),this.dataChannel&&(this.dataChannel.onopen=null,this.dataChannel.onmessage=null,this.dataChannel.onclose=null,this._dc=null),this._encodingQueue&&(this._encodingQueue.destroy(),this._encodingQueue.removeAllListeners(),this._encodingQueue=null),this.open&&(this._open=!1,super.emit("close"))}send(e,t){if(!this.open){super.emit("error",new Error("Connection is not open. You should listen for the `open` event before sending messages."));return}if(this.serialization==="json")this._bufferedSend(this.stringify(e));else if(this.serialization==="binary"||this.serialization==="binary-utf8"){const n=Zn.pack(e);if(!t&&n.size>Zn.chunkedMTU){this._sendChunks(n);return}this.provider.features.binaryBlob?this._bufferedSend(n):this._encodingQueue.enque(n)}else this._bufferedSend(e)}_bufferedSend(e){(this._buffering||!this._trySend(e))&&(this._buffer.push(e),this._bufferSize=this._buffer.length)}_trySend(e){if(!this.open)return!1;if(this.dataChannel.bufferedAmount>ex.MAX_BUFFERED_AMOUNT)return this._buffering=!0,setTimeout(()=>{this._buffering=!1,this._tryBuffer()},50),!1;try{this.dataChannel.send(e)}catch(t){return Ke.error(`DC#:${this.connectionId} Error when sending:`,t),this._buffering=!0,this.close(),!1}return!0}_tryBuffer(){if(!this.open||this._buffer.length===0)return;const e=this._buffer[0];this._trySend(e)&&(this._buffer.shift(),this._bufferSize=this._buffer.length,this._tryBuffer())}_sendChunks(e){const t=Zn.chunk(e);Ke.log(`DC#${this.connectionId} Try to send ${t.length} chunks...`);for(let n of t)this.send(n,!0)}handleMessage(e){const t=e.payload;switch(e.type){case"ANSWER":this._negotiator.handleSDP(e.type,t.sdp);break;case"CANDIDATE":this._negotiator.handleCandidate(t.candidate);break;default:Ke.warn("Unrecognized message type:",e.type,"from peer:",this.peer);break}}},yv=ex;yv.ID_PREFIX="dc_";yv.MAX_BUFFERED_AMOUNT=8*1024*1024;var CW=class{constructor(e){this._options=e}_request(e){var t,n;return((n=(t=this._options.polyfills)==null?void 0:t.fetch)!=null?n:window.fetch)(e)}_buildUrl(e){let n=(this._options.secure?"https://":"http://")+this._options.host+":"+this._options.port+this._options.path+this._options.key+"/"+e;const r="?ts="+new Date().getTime()+Math.random();return n+=r,n}retrieveId(){return gd(this,null,function*(){const e=this._buildUrl("id");try{const t=yield this._request(e);if(t.status!==200)throw new Error(`Error. Status:${t.status}`);return t.text()}catch(t){Ke.error("Error retrieving ID",t);let n="";throw this._options.path==="/"&&this._options.host!==Zn.CLOUD_HOST&&(n=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),new Error("Could not get an ID from the server."+n)}})}listAllPeers(){return gd(this,null,function*(){const e=this._buildUrl("peers");try{const t=yield this._request(e);if(t.status!==200){if(t.status===401){let n="";throw this._options.host===Zn.CLOUD_HOST?n="It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":n="You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.",new Error("It doesn't look like you have permission to list peers IDs. "+n)}throw new Error(`Error. Status:${t.status}`)}return t.json()}catch(t){throw Ke.error("Error retrieving list peers",t),new Error("Could not get list peers from the server."+t)}})}},kW={isUnifiedPlanSupported(e){if(!e&&typeof window<"u"&&(e=window),typeof e.RTCRtpTransceiver>"u"||!("currentDirection"in e.RTCRtpTransceiver.prototype))return!1;let t,n=!1;try{t=new e.RTCPeerConnection,t.addTransceiver("audio"),n=!0}catch{}finally{t&&t.close()}return n}},hc=class extends yW.EventEmitter{constructor(e,t){super(),this._id=null,this._lastServerId=null,this._destroyed=!1,this._disconnected=!1,this._open=!1,this._connections=new Map,this._lostMessages=new Map;var n;let r;if(e&&e.constructor==Object?t=e:e&&(r=e.toString()),t=Nw({debug:0,host:Zn.CLOUD_HOST,port:Zn.CLOUD_PORT,path:"/",key:hc.DEFAULT_KEY,token:Zn.randomToken(),config:Zn.defaultConfig},t),this._options=t,typeof window<"u"&&this._options.host==="/"&&(this._options.host=window.location.hostname),this._options.path&&(this._options.path[0]!=="/"&&(this._options.path="/"+this._options.path),this._options.path[this._options.path.length-1]!=="/"&&(this._options.path+="/")),this._options.secure===void 0&&this._options.host!==Zn.CLOUD_HOST?this._options.secure=Zn.isSecure():this._options.host==Zn.CLOUD_HOST&&(this._options.secure=!0),this._options.logFunction&&Ke.setLogFunction(this._options.logFunction),Ke.logLevel=this._options.debug||0,this._api=new CW(t),this._socket=this._createServerConnection(),this.features=hc.getFeatures((n=this._options.polyfills)==null?void 0:n.WebRTC),!this.features.audioVideo&&!this.features.data){this._delayedAbort("browser-incompatible","The current browser does not support WebRTC");return}if(r&&!Zn.validateId(r)){this._delayedAbort("invalid-id",`ID "${r}" is invalid`);return}this.socket.alive=!0,r?this._initialize(r):this._api.retrieveId().then(i=>this._initialize(i)).catch(i=>this._abort("server-error",i))}get id(){return this._id}get options(){return this._options}get open(){return this._open}get socket(){return this._socket}get connections(){const e=Object.create(null);for(let[t,n]of this._connections)e[t]=n;return e}get destroyed(){return this._destroyed}get disconnected(){return this._disconnected}_createServerConnection(){const e=new SW(this._options);return e.on("message",t=>{this._handleMessage(t)}),e.on("error",t=>{this._abort("socket-error",t)}),e.on("disconnected",()=>{this.disconnected||(this.emitError("network","Lost connection to server."),this.disconnect())}),e.on("close",()=>{this.disconnected||this._abort("socket-closed","Underlying socket is already closed.")}),e}_initialize(e){this.destroyed||(this._id=e,this.socket.start(e,this._options.token))}_handleMessage(e){const t=e.type,n=e.payload,r=e.src;switch(t){case"OPEN":this._lastServerId=this.id,this._open=!0,this.emit("open",this.id);break;case"ERROR":this._abort("server-error",n.msg);break;case"ID-TAKEN":this._abort("unavailable-id",`ID "${this.id}" is taken`);break;case"INVALID-KEY":this._abort("invalid-key",`API KEY "${this._options.key}" is invalid`);break;case"LEAVE":Ke.log(`Received leave message from ${r}`),this._cleanupPeer(r),this._connections.delete(r);break;case"EXPIRE":this.emitError("peer-unavailable",`Could not connect to peer ${r}`);break;case"OFFER":{const i=n.connectionId;let s=this.getConnection(r,i);if(s&&(s.close(),Ke.warn(`Offer received for existing Connection ID:${i}`)),n.type==="media")s=new ZS(r,this,{connectionId:i,_payload:n,metadata:n.metadata}),this._addConnection(r,s),this.emit("call",s);else if(n.type==="data")s=new yv(r,this,{connectionId:i,_payload:n,metadata:n.metadata,label:n.label,serialization:n.serialization,reliable:n.reliable}),this._addConnection(r,s),this.emit("connection",s);else{Ke.warn(`Received malformed connection type:${n.type}`);return}const l=this._getMessages(i);for(let c of l)s.handleMessage(c);break}default:{if(!n){Ke.warn(`You received a malformed message from ${r} of type ${t}`);return}const i=n.connectionId,s=this.getConnection(r,i);s&&s.peerConnection?s.handleMessage(e):i?this._storeMessage(i,e):Ke.warn("You received an unrecognized message:",e);break}}}_storeMessage(e,t){this._lostMessages.has(e)||this._lostMessages.set(e,[]),this._lostMessages.get(e).push(t)}_getMessages(e){const t=this._lostMessages.get(e);return t?(this._lostMessages.delete(e),t):[]}connect(e,t={}){if(this.disconnected){Ke.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),this.emitError("disconnected","Cannot connect to new Peer after disconnecting from server.");return}const n=new yv(e,this,t);return this._addConnection(e,n),n}call(e,t,n={}){if(this.disconnected){Ke.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),this.emitError("disconnected","Cannot connect to new Peer after disconnecting from server.");return}if(!t){Ke.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.");return}n._stream=t;const r=new ZS(e,this,n);return this._addConnection(e,r),r}_addConnection(e,t){Ke.log(`add connection ${t.type}:${t.connectionId} to peerId:${e}`),this._connections.has(e)||this._connections.set(e,[]),this._connections.get(e).push(t)}_removeConnection(e){const t=this._connections.get(e.peer);if(t){const n=t.indexOf(e);n!==-1&&(t.splice(n,1),t.length===0&&this._connections.delete(e.peer))}this._lostMessages.delete(e.connectionId)}getConnection(e,t){const n=this._connections.get(e);if(!n)return null;for(let r of n)if(r.connectionId===t)return r;return null}_delayedAbort(e,t){setTimeout(()=>{this._abort(e,t)},0)}_abort(e,t){Ke.error("Aborting!"),this.emitError(e,t),this._lastServerId?this.disconnect():this.destroy()}emitError(e,t){Ke.error("Error:",t);let n;typeof t=="string"?n=new Error(t):n=t,n.type=e,this.emit("error",n)}destroy(){this.destroyed||(Ke.log(`Destroy peer with ID:${this.id}`),this.disconnect(),this._cleanup(),this.socket.destroy(),this._destroyed=!0,this.emit("close"))}_cleanup(){for(let e of this._connections.keys())this._cleanupPeer(e),this._connections.delete(e);this.socket.removeAllListeners()}_cleanupPeer(e){const t=this._connections.get(e);if(t)for(let n of t)n.close()}disconnect(){if(this.disconnected)return;const e=this.id;Ke.log(`Disconnect peer with ID:${e}`),this._disconnected=!0,this._open=!1,this.socket.alive=!1,this.socket.close(),this._lastServerId=e,this._id=null,this.emit("disconnected",e)}reconnect(){if(this.disconnected&&!this.destroyed)Ke.log(`Attempting reconnection to server with ID ${this._lastServerId}`),this._disconnected=!1,this.socket.alive=!0,this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error("This peer cannot reconnect to the server. It has already been destroyed.");if(!this.disconnected&&!this.open)Ke.error("In a hurry? We're still trying to make the initial connection!");else throw new Error(`Peer ${this.id} cannot reconnect because it is not disconnected from the server!`)}}listAllPeers(e=t=>{}){this._api.listAllPeers().then(t=>e(t)).catch(t=>this._abort("server-error",t))}static getFeatures(e){return!e&&typeof window<"u"&&(e=window),hc._features||(hc._features=hc.checkFeatures(e)),hc._features}static checkFeatures(e){!e&&typeof window<"u"&&(e=window);const t={webRTC:typeof e.RTCPeerConnection<"u",audioVideo:!0,data:!1,binaryBlob:!1,reliable:!1,unifiedPlan:!1};if(!t.webRTC)return t;let n;try{n=new e.RTCPeerConnection(Zn.defaultConfig);let r;try{r=n.createDataChannel("_PEERJSTEST",{ordered:!0}),t.data=!0,t.reliable=!!r.ordered;try{r.binaryType="blob",t.binaryBlob=!0}catch{}}catch{}finally{r&&r.close()}}catch{}finally{n&&n.close()}return t.unifiedPlan=kW.isUnifiedPlanSupported(e),t}},yy=hc;yy.DEFAULT_KEY="peerjs";typeof window<"u"&&(window.Peer=yy);class MW extends Ys{constructor(){super(...arguments),this.name="PeerJS",this.peer=null,this.connectedPeers={},this.getCurrentPing=()=>0,this.disconnect=()=>{var t;(t=this.peer)==null||t.disconnect()}}connect(t,n,r){this.peer=new yy(`allkaraoke-party-room-${t}`,U4),this.peer.on("open",function(i){n(),console.log("My peer ID is: "+i)}),this.peer.on("connection",i=>{this.connectedPeers[i.peer]=i,i.on("data",s=>{this.onUpdate(s,i)}),i.on("error",s=>console.warn("error",s)),i.on("iceStateChanged",s=>{(s==="disconnected"||s==="closed")&&(this.connectedPeers[i.peer]=i,this.onUpdate({t:"unregister"},i))}),i.on("close",()=>{delete this.connectedPeers[i.peer],Vt.removeRemoteMic(i.peer)})})}removePlayer(t){var n;(n=this.connectedPeers[t])==null||n.close()}}const Q4="wss://allkaraoke-posthog.fly.dev";class RW extends Ys{constructor(){super(),this.name="WebSockets",this.connection=null,this.disconnect=()=>{var t;(t=this.connection)==null||t.close()},this.latency=0,this.pingStart=Ri(),this.pinging=!1,this.pingTimeout=null,this.ping=()=>{var t;this.pinging=!0,this.pingStart=Ri(),(t=this.connection)==null||t.send(Fs({t:"ping"}))},this.onPong=()=>{this.pinging&&(this.latency=Ri()-this.pingStart,this.pinging=!1,this.pingTimeout&&clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(this.ping,5e3))},this.getCurrentPing=()=>this.pinging?Math.max(this.latency,Ri()-this.pingStart):this.latency}connect(t,n,r){this.connection=new WebSocket(Q4),this.connection.binaryType="arraybuffer",this.connection.onopen=()=>{var i,s;(i=this.connection)==null||i.send(Fs({t:"register-room",id:t})),n(),this.ping(),(s=this.connection)==null||s.addEventListener("message",l=>{var d;const c=ef(l.data);if(c.t==="forward"){["ping","pong","freq"].includes((d=c==null?void 0:c.payload)==null?void 0:d.t)||console.log("received",c);const{sender:u,payload:h}=c,p=new IW(u,this.connection);this.onUpdate(h,p)}else c.t==="pong"?this.onPong():console.warn("Unknown message type",c)})},this.connection.onclose=i=>{r(i.reason,i)}}removePlayer(t){var n;(n=this.connection)==null||n.send(Fs({t:"remove-player",id:t}))}}class IW{constructor(t,n){this.peer=t,this.socket=n,this.currentPing=0,this.send=r=>{const i={t:"forward",recipients:[this.peer],payload:r};["ping","pong","freq"].includes(r==null?void 0:r.t)||console.log("sending",this.peer,r),this.socket.send(Fs(i))},this.callbacksMap=new Map,this.on=(r,i)=>{r==="data"&&(this.callbacksMap.set(i,s=>{const l=ef(s.data);if(l.t==="forward"){const{sender:c,payload:d}=l;c===this.peer&&i(d)}}),this.socket.addEventListener("message",this.callbacksMap.get(i)))},this.off=(r,i)=>{if(r==="data"){const s=this.callbacksMap.get(i);this.socket.removeEventListener("message",s),this.callbacksMap.delete(i)}},this.close=()=>{this.socket.close()}}}var k0={exports:{}},OW=k0.exports,k5;function jW(){return k5||(k5=1,function(e,t){(function(n,r){e.exports=r()})(OW,function(){var n=1e3,r=6e4,i=36e5,s="millisecond",l="second",c="minute",d="hour",u="day",h="week",p="month",v="quarter",y="year",b="date",_="Invalid Date",w=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,T=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,k={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(q){var H=["th","st","nd","rd"],V=q%100;return"["+q+(H[(V-20)%10]||H[V]||H[0])+"]"}},R=function(q,H,V){var W=String(q);return!W||W.length>=H?q:""+Array(H+1-W.length).join(V)+q},M={s:R,z:function(q){var H=-q.utcOffset(),V=Math.abs(H),W=Math.floor(V/60),Q=V%60;return(H<=0?"+":"-")+R(W,2,"0")+":"+R(Q,2,"0")},m:function q(H,V){if(H.date()<V.date())return-q(V,H);var W=12*(V.year()-H.year())+(V.month()-H.month()),Q=H.clone().add(W,p),J=V-Q<0,B=H.clone().add(W+(J?-1:1),p);return+(-(W+(V-Q)/(J?Q-B:B-Q))||0)},a:function(q){return q<0?Math.ceil(q)||0:Math.floor(q)},p:function(q){return{M:p,y,w:h,d:u,D:b,h:d,m:c,s:l,ms:s,Q:v}[q]||String(q||"").toLowerCase().replace(/s$/,"")},u:function(q){return q===void 0}},E="en",O={};O[E]=k;var j="$isDayjsObject",D=function(q){return q instanceof U||!(!q||!q[j])},P=function q(H,V,W){var Q;if(!H)return E;if(typeof H=="string"){var J=H.toLowerCase();O[J]&&(Q=J),V&&(O[J]=V,Q=J);var B=H.split("-");if(!Q&&B.length>1)return q(B[0])}else{var G=H.name;O[G]=H,Q=G}return!W&&Q&&(E=Q),Q||!W&&E},C=function(q,H){if(D(q))return q.clone();var V=typeof H=="object"?H:{};return V.date=q,V.args=arguments,new U(V)},N=M;N.l=P,N.i=D,N.w=function(q,H){return C(q,{locale:H.$L,utc:H.$u,x:H.$x,$offset:H.$offset})};var U=function(){function q(V){this.$L=P(V.locale,null,!0),this.parse(V),this.$x=this.$x||V.x||{},this[j]=!0}var H=q.prototype;return H.parse=function(V){this.$d=function(W){var Q=W.date,J=W.utc;if(Q===null)return new Date(NaN);if(N.u(Q))return new Date;if(Q instanceof Date)return new Date(Q);if(typeof Q=="string"&&!/Z$/i.test(Q)){var B=Q.match(w);if(B){var G=B[2]-1||0,ee=(B[7]||"0").substring(0,3);return J?new Date(Date.UTC(B[1],G,B[3]||1,B[4]||0,B[5]||0,B[6]||0,ee)):new Date(B[1],G,B[3]||1,B[4]||0,B[5]||0,B[6]||0,ee)}}return new Date(Q)}(V),this.init()},H.init=function(){var V=this.$d;this.$y=V.getFullYear(),this.$M=V.getMonth(),this.$D=V.getDate(),this.$W=V.getDay(),this.$H=V.getHours(),this.$m=V.getMinutes(),this.$s=V.getSeconds(),this.$ms=V.getMilliseconds()},H.$utils=function(){return N},H.isValid=function(){return this.$d.toString()!==_},H.isSame=function(V,W){var Q=C(V);return this.startOf(W)<=Q&&Q<=this.endOf(W)},H.isAfter=function(V,W){return C(V)<this.startOf(W)},H.isBefore=function(V,W){return this.endOf(W)<C(V)},H.$g=function(V,W,Q){return N.u(V)?this[W]:this.set(Q,V)},H.unix=function(){return Math.floor(this.valueOf()/1e3)},H.valueOf=function(){return this.$d.getTime()},H.startOf=function(V,W){var Q=this,J=!!N.u(W)||W,B=N.p(V),G=function(Re,ve){var je=N.w(Q.$u?Date.UTC(Q.$y,ve,Re):new Date(Q.$y,ve,Re),Q);return J?je:je.endOf(u)},ee=function(Re,ve){return N.w(Q.toDate()[Re].apply(Q.toDate("s"),(J?[0,0,0,0]:[23,59,59,999]).slice(ve)),Q)},ue=this.$W,F=this.$M,ge=this.$D,se="set"+(this.$u?"UTC":"");switch(B){case y:return J?G(1,0):G(31,11);case p:return J?G(1,F):G(0,F+1);case h:var Se=this.$locale().weekStart||0,Me=(ue<Se?ue+7:ue)-Se;return G(J?ge-Me:ge+(6-Me),F);case u:case b:return ee(se+"Hours",0);case d:return ee(se+"Minutes",1);case c:return ee(se+"Seconds",2);case l:return ee(se+"Milliseconds",3);default:return this.clone()}},H.endOf=function(V){return this.startOf(V,!1)},H.$set=function(V,W){var Q,J=N.p(V),B="set"+(this.$u?"UTC":""),G=(Q={},Q[u]=B+"Date",Q[b]=B+"Date",Q[p]=B+"Month",Q[y]=B+"FullYear",Q[d]=B+"Hours",Q[c]=B+"Minutes",Q[l]=B+"Seconds",Q[s]=B+"Milliseconds",Q)[J],ee=J===u?this.$D+(W-this.$W):W;if(J===p||J===y){var ue=this.clone().set(b,1);ue.$d[G](ee),ue.init(),this.$d=ue.set(b,Math.min(this.$D,ue.daysInMonth())).$d}else G&&this.$d[G](ee);return this.init(),this},H.set=function(V,W){return this.clone().$set(V,W)},H.get=function(V){return this[N.p(V)]()},H.add=function(V,W){var Q,J=this;V=Number(V);var B=N.p(W),G=function(F){var ge=C(J);return N.w(ge.date(ge.date()+Math.round(F*V)),J)};if(B===p)return this.set(p,this.$M+V);if(B===y)return this.set(y,this.$y+V);if(B===u)return G(1);if(B===h)return G(7);var ee=(Q={},Q[c]=r,Q[d]=i,Q[l]=n,Q)[B]||1,ue=this.$d.getTime()+V*ee;return N.w(ue,this)},H.subtract=function(V,W){return this.add(-1*V,W)},H.format=function(V){var W=this,Q=this.$locale();if(!this.isValid())return Q.invalidDate||_;var J=V||"YYYY-MM-DDTHH:mm:ssZ",B=N.z(this),G=this.$H,ee=this.$m,ue=this.$M,F=Q.weekdays,ge=Q.months,se=Q.meridiem,Se=function(ve,je,Ge,$e){return ve&&(ve[je]||ve(W,J))||Ge[je].slice(0,$e)},Me=function(ve){return N.s(G%12||12,ve,"0")},Re=se||function(ve,je,Ge){var $e=ve<12?"AM":"PM";return Ge?$e.toLowerCase():$e};return J.replace(T,function(ve,je){return je||function(Ge){switch(Ge){case"YY":return String(W.$y).slice(-2);case"YYYY":return N.s(W.$y,4,"0");case"M":return ue+1;case"MM":return N.s(ue+1,2,"0");case"MMM":return Se(Q.monthsShort,ue,ge,3);case"MMMM":return Se(ge,ue);case"D":return W.$D;case"DD":return N.s(W.$D,2,"0");case"d":return String(W.$W);case"dd":return Se(Q.weekdaysMin,W.$W,F,2);case"ddd":return Se(Q.weekdaysShort,W.$W,F,3);case"dddd":return F[W.$W];case"H":return String(G);case"HH":return N.s(G,2,"0");case"h":return Me(1);case"hh":return Me(2);case"a":return Re(G,ee,!0);case"A":return Re(G,ee,!1);case"m":return String(ee);case"mm":return N.s(ee,2,"0");case"s":return String(W.$s);case"ss":return N.s(W.$s,2,"0");case"SSS":return N.s(W.$ms,3,"0");case"Z":return B}return null}(ve)||B.replace(":","")})},H.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},H.diff=function(V,W,Q){var J,B=this,G=N.p(W),ee=C(V),ue=(ee.utcOffset()-this.utcOffset())*r,F=this-ee,ge=function(){return N.m(B,ee)};switch(G){case y:J=ge()/12;break;case p:J=ge();break;case v:J=ge()/3;break;case h:J=(F-ue)/6048e5;break;case u:J=(F-ue)/864e5;break;case d:J=F/i;break;case c:J=F/r;break;case l:J=F/n;break;default:J=F}return Q?J:N.a(J)},H.daysInMonth=function(){return this.endOf(p).$D},H.$locale=function(){return O[this.$L]},H.locale=function(V,W){if(!V)return this.$L;var Q=this.clone(),J=P(V,W,!0);return J&&(Q.$L=J),Q},H.clone=function(){return N.w(this.$d,this)},H.toDate=function(){return new Date(this.valueOf())},H.toJSON=function(){return this.isValid()?this.toISOString():null},H.toISOString=function(){return this.$d.toISOString()},H.toString=function(){return this.$d.toUTCString()},q}(),L=U.prototype;return C.prototype=L,[["$ms",s],["$s",l],["$m",c],["$H",d],["$W",u],["$M",p],["$y",y],["$D",b]].forEach(function(q){L[q[1]]=function(H){return this.$g(H,q[0],q[1])}}),C.extend=function(q,H){return q.$i||(q(H,U,C),q.$i=!0),C},C.locale=P,C.isDayjs=D,C.unix=function(q){return C(1e3*q)},C.en=O[E],C.Ls=O,C.p={},C})}(k0)),k0.exports}var PW=jW();const lo=Pr(PW);function tx(e){return!!e}function VW(e){return[...Array(e).keys()]}const DW=250,M1=(e,t=0,n=1/0)=>e.filter(fn).filter(r=>El([r])>=t).filter(r=>xp([r])<=n).reduce((r,i)=>r+i.notes.reduce((s,l)=>s+l.length,0),0),BW=(e,t)=>{const[n,...r]=e.filter(fn),i=[[n]];return r.forEach(s=>{const l=i.at(-1),c=xp(l);(El([s])-c)*t>DW?i.push([s]):l.push(s)}),i},X4=(e,t)=>e+t,M5=e=>{const t=e.map(n=>n.reduce(X4,0));return Math.max(...t)-Math.min(...t)},NW=(e,t)=>{const n=JSON.parse(JSON.stringify(e)),r=s=>{if(n[s-1].length<2)return;const l=n[s-1].pop();n[s].push(l)},i=s=>{var d;if(((d=n[s+1])==null?void 0:d.length)<2)return;const[l,...c]=n[s+1];n[s].push(l),n[s+1]=c};return t%2===1?r(Math.ceil(t/2)):i(Math.ceil(t/2)),n},LW=e=>e.reduce(X4,0);function Fw(e,t){const r=ff(t);if(e.sections.length<9)return[];const i=BW(e.sections,r);let s=[],l=[M1(i[0])];for(let c=0;c<i.length-2;c++){const d=i[s.flat().length-1]??[],h=M1(e.sections,xp(d)??0)/(10-s.length),p=M1(i[c+1]),v=LW(l);v+p<h?l=[...l,p]:h-v<v+p-h?(s.push(l),l=[p]):(s.push([...l,p]),l=[])}for(let c=0;c<100;c++){const d=M5(s),u=VW((s.length-2)*2+2).map(y=>NW(s,y)),h=u.map(M5),p=Math.min(...h);if(d<=p)break;const v=h.indexOf(p);s=u[v]}return s.map(c=>c.length).reduce((c,d)=>[...c,(c.at(-1)??0)+d],[]).map(c=>xp(i[c-1]))}var M0={exports:{}},FW=M0.exports,R5;function zW(){return R5||(R5=1,function(e,t){(function(n,r){e.exports=r()})(FW,function(){function n(r){return typeof r=="string"?r.replace(/[^A-Za-z0-9]/g,function(i){return n.characters[i]||i}):r}return n.characters={:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A","":"A",:"A","":"AA",:"AE",:"AE",:"AE","":"AO","":"AU","":"AV","":"AV","":"AY",:"B",:"B",:"B",:"B","":"B",:"B",:"C",:"C",:"C",:"C",:"C",:"C",:"C","":"C",:"D",:"D",:"D",:"D",:"D",:"D",:"D",:"D",:"D",:"D",:"D",:"D",:"DZ",:"DZ",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E","":"E",:"E",:"E","":"ET",:"F",:"F",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"H",:"H",:"H",:"H","":"H",:"H",:"H",:"H",:"H",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I","":"D","":"F","":"G","":"R","":"S","":"T","":"IS",:"J","":"J",:"K",:"K",:"K","":"K","":"K",:"K",:"K",:"K","":"K","":"K",:"L","":"L",:"L",:"L",:"L",:"L",:"L","":"L","":"L",:"L",:"L","":"L",:"L",:"L",:"LJ",:"M",:"M",:"M","":"M",:"N",:"N",:"N",:"N",:"N",:"N",:"N",:"N",:"N","":"N",:"N",:"N",:"NJ",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O","":"O","":"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"OI","":"OO",:"E",:"O",:"OU",:"P",:"P","":"P",:"P","":"P","":"P","":"P","":"Q","":"Q",:"R",:"R",:"R",:"R",:"R",:"R",:"R",:"R",:"R","":"R","":"R","":"C",:"E",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"ss",:"T",:"T",:"T",:"T","":"T",:"T",:"T",:"T",:"T",:"T",:"T","":"A","":"L",:"M","":"V","":"TZ",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U","":"V",:"V",:"V",:"V","":"VY",:"W",:"W",:"W",:"W",:"W",:"W","":"W",:"X",:"X",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y","":"Y",:"Y","":"Y",:"Y",:"YI",:"Z",:"Z",:"Z","":"Z",:"Z",:"Z",:"Z",:"Z",:"Z",:"TH",:"IJ",:"OE","":"A","":"AE",:"B","":"B","":"C","":"D","":"E","":"F",:"G",:"G",:"H",:"I",:"R","":"J","":"K",:"L","":"L","":"M",:"N","":"O",:"OE","":"O","":"OU","":"P",:"R","":"N","":"R","":"S","":"T","":"E","":"R","":"U","":"V","":"W",:"Y","":"Z",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a","":"a",:"a",:"a",:"a",:"a","":"a",:"a","":"aa",:"ae",:"ae",:"ae","":"ao","":"au","":"av","":"av","":"ay",:"b",:"b",:"b",:"b","":"b","":"b",:"b",:"b",:"o",:"c",:"c",:"c",:"c",:"c",:"c",:"c",:"c","":"c",:"d",:"d",:"d","":"d",:"d",:"d",:"d","":"d",:"d","":"d","":"d",:"d",:"d",:"d",:"d",:"i","":"j",:"j",:"j",:"dz",:"dz",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e","":"e",:"e","":"e","":"e",:"e",:"e","":"et",:"f",:"f","":"f","":"f",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"g","":"g",:"g",:"h",:"h",:"h",:"h","":"h",:"h",:"h",:"h",:"h",:"h",:"h",:"hv",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i","":"i",:"i",:"i",:"i",:"i","":"d","":"f","":"g","":"r","":"s","":"t","":"is",:"j",:"j",:"j","":"j",:"k",:"k",:"k","":"k","":"k",:"k",:"k",:"k","":"k","":"k","":"k",:"l",:"l",:"l",:"l",:"l",:"l","":"l",:"l",:"l","":"l","":"l",:"l",:"l",:"l","":"l",:"l",:"l",:"lj",:"s","":"s",:"s","":"s",:"m",:"m",:"m",:"m","":"m","":"m",:"n",:"n",:"n",:"n","":"n",:"n",:"n",:"n",:"n",:"n",:"n","":"n","":"n",:"n",:"n",:"nj",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o","":"o","":"o","":"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"oi","":"oo",:"e","":"e",:"o","":"o",:"ou",:"p",:"p","":"p",:"p","":"p","":"p","":"p","":"p","":"p","":"q",:"q","":"q","":"q",:"r",:"r",:"r",:"r",:"r",:"r",:"r",:"r","":"r",:"r",:"r",:"r","":"r","":"r","":"r",:"r","":"c","":"c",:"e",:"r",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"s","":"s","":"s","":"s",:"g","":"o","":"o","":"u",:"t",:"t",:"t",:"t","":"t",:"t","":"t",:"t",:"t",:"t",:"t","":"t",:"t",:"t",:"t","":"th",:"a","":"ae",:"e","":"g",:"h","":"h","":"h","":"i",:"k","":"l",:"m",:"m","":"oe",:"r",:"r",:"r","":"r",:"t",:"v",:"w",:"y","":"tz",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u","":"u",:"u",:"u",:"u",:"u","":"ue","":"um","":"v","":"v",:"v",:"v","":"v","":"v",:"v","":"vy",:"w",:"w",:"w",:"w",:"w",:"w","":"w",:"w",:"x",:"x","":"x",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y","":"y",:"y",:"y","":"y",:"y",:"yi",:"z",:"z",:"z",:"z","":"z",:"z",:"z",:"z",:"z","":"z","":"z",:"z",:"z","":"z",:"th",:"ff",:"ffi",:"ffl",:"fi",:"fl",:"ij",:"oe",:"st","":"a","":"e","":"i","":"j","":"o","":"r","":"u","":"v","":"x",:"YO",:"I",:"TS",:"U",:"K",:"E",:"N",:"G",:"G",:"SH",:"SCH",:"Z",:"H",:"'",:"yo",:"i",:"ts",:"u",:"k",:"e",:"n",:"g",:"g",:"sh",:"sch",:"z",:"h",:"'",:"F",:"I",:"V",:"a",:"P",:"R",:"O",:"L",:"D",:"ZH",:"E",:"f",:"i",:"v",:"a",:"p",:"r",:"o",:"l",:"d",:"zh",:"e",:"Ya",:"CH",:"S",:"M",:"I",:"T",:"'",:"B",:"YU",:"ya",:"ch",:"s",:"m",:"i",:"t",:"'",:"b",:"yu"},n})}(M0)),M0.exports}var $W=zW();const UW=Pr($W),HW=/[^0-9a-z]/gi;function Hc(e){return zw(e).toLowerCase().normalize("NFKD").replace(HW,"")}function zw(e){return UW(e)}function J4(e){return zw(e).toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+$/,"").replace(/^-+/,"").replace(/-+/g,"-")}function $w(e){return e.id?e.id:J4(`${e==null?void 0:e.artist}-${e==null?void 0:e.title}`)}const I5=(e,t,n)=>n>=e&&n<=t,O5=e=>e.notes.map(t=>t.lyrics).join(""),j5=e=>new Set(Hc(e)).size,qW=(e,t)=>{const n=e.reduce((i,s)=>`${i}${O5(s)}`,""),r=O5(t);return j5(n)/j5(r)<.5},GW=(e,t)=>{const n=t.start,r=Hd(t),i=e.filter(l=>{const c=l.start,d=Hd(l);return I5(n,r,c)||I5(n,r,d)||c<=n&&d>=r}),s=qW(i,t);return{section:t,shouldReplace:i.length===0||s,sectionsToRemove:i}};function Z4(e,t){if(e){if(e.length===1)return e[0]}else return e;const n=e.map(l=>l.sections.filter(fn)),r=n[1].map(l=>GW(n[0],l));let i=[...n[0]];r.forEach((l,c)=>{l.shouldReplace&&(i=i.filter(d=>!l.sectionsToRemove.some(u=>u.start===d.start)),i.push(l.section))});const s={...e[0],sections:i.sort((l,c)=>l.start-c.start),changes:[]};return s.changes=Fw(s,t),s}const P5={R:"rap",F:"freestyle","*":"star",":":"normal",G:"rapstar"},YW={rap:"R",freestyle:"F",star:"*",normal:":",rapstar:"G"},KW=["TRACKNAMES","YEAR","EDITION","GENRE","LANGUAGE","VIDEOGAP","PREVIEWSTART","CREATOR","TITLE","ARTIST","BPM","GAP","ID","LASTUPDATE","VOLUME","REALBPM","PREVIEWEND","CREATORURL","SOURCEURL","ARTISTORIGIN","VIDEOID","ALLKARAOKE_ID","ALLKARAOKE_LASTUPDATE","ALLKARAOKE_VOLUME","ALLKARAOKE_REALBPM","ALLKARAOKE_PREVIEWEND","ALLKARAOKE_CREATORURL","ALLKARAOKE_SOURCEURL","ALLKARAOKE_ARTISTORIGIN","ALLKARAOKE_VIDEOID"];function WW(e){return e.split(`
`).filter(t=>t.startsWith("#")&&!KW.includes(t.substring(1).split(":")[0]))}function Mn(e,t,n="string"){const r=i=>{var c;const s=new RegExp(`#${i}\\:(.*)`),l=(c=e.match(s))==null?void 0:c[1];if(l!==void 0)return n==="number"?Number(l.replace(",","."))??0:n==="array"?l.split(", "):l.trim()};return t.map(r).filter(tx).at(0)}function QW(e){var r;const t=Mn(e,["VIDEO"])??"",n=new RegExp("v=(.*?)(,|$)");return(r=t.match(n))==null?void 0:r[1]}const XW=/- -?\d+ -?\d+/;function V5(e){try{const t=new URL(e);return t.host==="youtu.be"?t.pathname.substring(1):t.host==="www.youtube.com"||t.host==="youtube.com"?t.searchParams.get("v"):null}catch{return null}}function JW(e,t){try{return JSON.parse(e)}catch{return t}}function ZW(e){const t=Mn(e,["P1"]),n=Mn(e,["P2"]);return t||n?[t,n]:JW(Mn(e,["TRACKNAMES"]),[])}function eQ(e,t,n,r,i){var y,b;const s=ZW(e),l={year:Mn(e,["YEAR"]),artistOrigin:Mn(e,["ALLKARAOKE_ARTISTORIGIN","ARTISTORIGIN"]),lastUpdate:Mn(e,["ALLKARAOKE_LASTUPDATE","LASTUPDATE"]),edition:Mn(e,["EDITION"]),genre:Mn(e,["GENRE"]),videoGap:Mn(e,["VIDEOGAP"],"number"),realBpm:Mn(e,["ALLKARAOKE_REALBPM","REALBPM"],"number"),previewStart:Mn(e,["PREVIEWSTART"],"number"),previewEnd:Mn(e,["ALLKARAOKE_PREVIEWEND","PREVIEWEND"],"number"),volume:Mn(e,["ALLKARAOKE_VOLUME","VOLUME"],"number"),author:Mn(e,["CREATOR"])??n,authorUrl:Mn(e,["ALLKARAOKE_CREATORURL","CREATORURL"])??r,sourceUrl:Mn(e,["ALLKARAOKE_SOURCEURL","SOURCEURL"])??i};l.videoGap&&(l.videoGap=Math.floor(l.videoGap));const c=Mn(e,["TITLE"])??"",d=Mn(e,["ARTIST"])??"",u=Mn(e,["ALLKARAOKE_VIDEOID","VIDEOID"])??V5(Mn(e,["AUDIOURL"])??"")??V5(Mn(e,["VIDEOURL"])??"")??QW(e)??"",h={id:Mn(e,["ALLKARAOKE_ID","ID"])??$w({title:c,artist:d}),title:c,artist:d,video:u,language:Mn(e,["LANGUAGE"],"array")??[],bpm:Number(((y=Mn(e,["BPM"]))==null?void 0:y.replace(",","."))??0),bar:4,gap:Number(((b=Mn(e,["GAP"]))==null?void 0:b.replace(",","."))??0),...l,tracks:[],unsupportedProps:WW(e),mergedTrack:{}};if((t==null?void 0:t.length)===11)h.video=t;else if(t)try{const _=new URL(t);h.video=_.searchParams.get("v")||"Invalid link"}catch(_){h.video=`Invalid link: ${_.message}`}let p=[],v=0;return e.split(`
`).forEach(_=>{if(_.startsWith("#"))return;const w=_.split(" ");if(Number(w[1])<v*.75&&p.length&&(s[h.tracks.length]?h.tracks.push({sections:p,name:s[h.tracks.length],changes:[]}):h.tracks.push({sections:p,changes:[]}),p=[]),XW.test(_)){const[,T,k]=w;p.push({start:Number(T),end:Number(k),type:"pause"}),p.push({start:Number(k),type:"notes",notes:[]}),v=Number(k)}else if(_.startsWith("-"))p.push({start:Number(_.split("-")[1].trim()),notes:[],type:"notes"});else if(Object.keys(P5).includes(_[0])){p.length===0&&(p=[{start:0,notes:[],type:"notes"}]);const T=p[p.length-1],[k,R,M,E,...O]=w;T.notes.push({type:P5[k]??"normal",start:Number(R),length:Number(M),pitch:Number(E),lyrics:O.join(" ")}),v=Number(w[1])}}),s[h.tracks.length]?h.tracks.push({sections:p,name:s[h.tracks.length],changes:[]}):h.tracks.push({sections:p,changes:[]}),h.tracks=h.tracks.map(_=>({..._,sections:_.sections.filter(w=>w.type==="pause"||w.notes.length),changes:[]})).map(_=>({..._,changes:Fw(_,h)})),h.mergedTrack=Z4(h.tracks,h),h}const eD="CURRENT_VISIT_KEY",tD="LAST_VISIT_KEY",tQ=3*60*60*1e3,Ay=Date.now();var jj;const R1=Number(((jj=st.local)==null?void 0:jj.getItem(eD))??Ay);var Pj;const nD=((Pj=st.local)==null?void 0:Pj.getItem("posthog-user-id"))===null,nQ=nD?Ay:1673642382501;var Vj;let rD=Number(((Vj=st.local)==null?void 0:Vj.getItem(tD))??nQ);var Dj;(nD||Ay-R1>tQ)&&((Dj=st.local)==null||Dj.setItem(tD,String(R1)),rD=R1);var Bj;(Bj=st.local)==null||Bj.setItem(eD,String(Ay));const rQ=e=>Hc(`${e.artist}${e.title}`),iQ=({bar:e,unsupportedProps:t,mergedTrack:n,...r},i=!1)=>({...r,id:$w(r),language:Array.isArray(r.language)?r.language:[r.language],tracksCount:r.tracks.length,tracks:r.tracks.map(({name:s,sections:l})=>({name:s,start:El(l)})),search:rQ(r),local:i});let Eh=null;async function ol(){if(!Eh)if("localStorage"in globalThis)try{Eh=df(async()=>{const{default:e}=await Promise.resolve().then(()=>pD);return{default:e}},void 0).then(({default:e})=>e.createInstance({name:"songs_v2"}))}catch(e){console.error(e),Eh=Promise.resolve(st.memory)}else Eh=Promise.resolve(st.memory);return Eh}const Fm="DELETED_SONGS_V2";class sQ{constructor(){this.defaultIndex=null,this.finalIndex=null,this.indexWithDeletedSongs=null,this.store=async t=>{var n;await((n=await ol())==null?void 0:n.setItem(this.generateSongFile(t),{...t,lastUpdate:new Date().toISOString()})),await this.reloadIndex()},this.isOverridden=async t=>!!await this.getLocal(t),this.isBuiltIn=t=>{var n;return((n=this.defaultIndex)==null?void 0:n.some(r=>r.id===t))??!1},this.get=async t=>{const n=await this.getLocal(t);return n?{...n,local:!0}:await fetch(`/songs/${t}.txt`).then(r=>r.text()).then(eQ).then(r=>({...r,local:!1}))},this.getIndex=async(t=!1)=>(this.finalIndex===null&&await this.reloadIndex(),t?this.indexWithDeletedSongs:this.finalIndex),this.getCurrentIndex=()=>this.finalIndex,this.getDeletedSongsList=async()=>{var n;return await((n=await ol())==null?void 0:n.getItem(Fm))??[]},this.generateSongFile=t=>$w(t),this.reloadIndex=async()=>{const[t,n,r]=await Promise.all([fetch("/songs/index.json").then(c=>c.json()),this.getLocalIndex(),this.getDeletedSongsList()]);this.defaultIndex=t;const i=lo(rD),s=n.filter(c=>{const d=t.find(u=>u.id===c.id);return d?lo(c.lastUpdate??0).isAfter(lo(d.lastUpdate??0)):!0}),l=s.map(c=>c.id);n.forEach(async c=>{l.includes(c.id)||(await ol()).removeItem(c.id)}),this.indexWithDeletedSongs=[...s,...t.filter(c=>!l.includes(this.generateSongFile(c)))].map(c=>({...c,isNew:c.lastUpdate?lo(c.lastUpdate).isAfter(i):!1,isDeleted:r==null?void 0:r.includes(this.generateSongFile(c))})),this.indexWithDeletedSongs.sort((c,d)=>`${c.artist} ${c.title}`.localeCompare(`${d.artist} ${d.title}`.toLowerCase())),this.finalIndex=this.indexWithDeletedSongs.filter(c=>!c.isDeleted)},this.deleteSong=async t=>(await(await ol()).removeItem(t),this.reloadIndex()),this.softDeleteSong=async t=>{const n=await this.getDeletedSongsList();return await(await ol()).setItem(Fm,[...new Set([...n,t])]),this.reloadIndex()},this.restoreSong=async t=>{const n=await this.getDeletedSongsList();return await(await ol()).setItem(Fm,n.filter(r=>r!==t)),this.reloadIndex()},this.getLocal=async t=>{var r;const n=await((r=await ol())==null?void 0:r.getItem(decodeURIComponent(t)));return n&&n.tracks?{...n,language:Array.isArray(n.language)?n.language:[n.language],mergedTrack:Z4(n.tracks,n),tracks:n.tracks.map(i=>({...i,changes:Fw(i,n)}))}:null},this.getLocalIndex=async()=>(await Promise.all((await this.getKeys()).map(this.getLocal))).filter(n=>n!==null).map(n=>{try{return iQ(n,!0)}catch(r){return console.error(r),null}}).filter(n=>n!==null),this.getKeys=async()=>{const t=[Fm];return(await(await ol()).keys()).filter(n=>!t.includes(n))}}}const fs=new sQ,iD="room_id_key",ip=5,sD=e=>{st.session.setItem(iD,e)};class oQ{constructor(){var t;if(this.gameCode=st.session.getItem(iD),this.started=!1,this.start=()=>{if(!this.transport){const n=cv.get();this.transport=n==="WebSockets"?new RW:n==="PartyKit"?new rW:new MW}this.started||(this.started=!0,console.log("connection started",this.getGameCode()),sD(this.gameCode),this.transport.connect(this.getGameCode(),()=>{console.log("connected",this.getGameCode()),this.transport.addListener((n,r)=>{var s,l;const i=n.t;if(i==="register")Vt.addRemoteMic(n.id,n.name,r,n.silent,n.lag);else if(i==="unregister")Vt.removeRemoteMic(r.peer);else if(i==="subscribe-event")Vt.addSubscription(r.peer,n.channel);else if(i==="unsubscribe-event")Vt.removeSubscription(r.peer,n.channel);else if(i==="ping")r.send({t:"pong"});else if(i==="pong")(s=Vt.getRemoteMicById(r.peer))==null||s.onPong();else if(i==="request-songlist")Promise.all([fs.getLocalIndex(),fs.getDeletedSongsList()]).then(([c,d])=>{r.send({t:"songlist",custom:c.map(u=>({artist:u.artist,title:u.title,video:u.video,language:u.language,search:u.search})),deleted:d})});else if(i==="get-microphone-lag-request"){const c=Vt.getRemoteMicById(r.peer);c&&r.send({t:"get-microphone-lag-response",value:c.getInput().getInputLag()})}else if(i==="set-microphone-lag-request"){const c=Vt.getRemoteMicById(r.peer);c&&(c.getInput().setInputLag(n.value),r.send({t:"get-microphone-lag-response",value:c.getInput().getInputLag()}))}else Vt.getPermission(r.peer)==="write"&&(i==="keystroke"?me.remoteKeyboardPressed.dispatch(n.key):i==="search-song"?me.remoteSongSearch.dispatch(n.search):i==="select-song"?me.remoteSongSelected.dispatch(n.id):i==="request-mic-select"?me.playerChangeRequested.dispatch(n.id,n.playerNumber):i==="get-game-input-lag-request"?r.send({t:"get-game-input-lag-response",value:Ed.get()}):i==="remove-player"?(l=this.transport)==null||l.removePlayer(n.id):i==="set-game-input-lag-request"?(Ed.set(n.value),r.send({t:"get-game-input-lag-response",value:Ed.get()})):i==="my-list"&&me.remoteMicSongListUpdated.dispatch(r.peer,n))}),me.micServerStarted.dispatch()},()=>{me.micServerStopped.dispatch(),this.started=!1,setTimeout(this.start,1e3)}))},this.isStarted=()=>this.started,this.getLatency=()=>{var n;return((n=this.transport)==null?void 0:n.getCurrentPing())??0},this.getGameCode=()=>{const n=cv.get();return(n==="WebSockets"?"w":n==="PartyKit"?"k":"p")+this.gameCode},!this.gameCode){this.gameCode="";for(let n=0;n<ip-1;n++)this.gameCode+=String.fromCharCode(Math.floor(Math.random()*26)+97)}(t=global==null?void 0:global.addEventListener)==null||t.call(global,"beforeunload",()=>{var n;Vt.getRemoteMics().forEach(r=>r.connection.close()),(n=this.transport)==null||n.disconnect()})}}const Ic=new oQ,qc=e=>`${e.deviceId};${e.channel}`,D5=[{channels:2,channel:1,label:"Drawing Test Input",id:qc({deviceId:"default",channel:1}),deviceId:"default"}],yc=class yc{};yc.inputName="DrawingTest",yc.getDefault=()=>D5[0],yc.getInputs=async()=>D5,yc.subscribeToListChange=t=>{},yc.unsubscribeToListChange=t=>{};let nx=yc;const B5=[{channels:2,channel:0,label:"Dummy Input 1",id:qc({deviceId:"default",channel:0}),deviceId:"default"},{channels:2,channel:1,label:"Dummy Input 2",id:qc({deviceId:"default",channel:1}),deviceId:"default"}],Ac=class Ac{};Ac.inputName="Dummy",Ac.getDefault=()=>B5[0],Ac.getInputs=async()=>B5,Ac.subscribeToListChange=t=>{},Ac.unsubscribeToListChange=t=>{};let Av=Ac;var aQ=Math.ceil,lQ=Math.max;function cQ(e,t,n,r){for(var i=-1,s=lQ(aQ((t-e)/(n||1)),0),l=Array(s);s--;)l[++i]=e,e+=n;return l}var uQ=9007199254740991;function Uw(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=uQ}function Hw(e){return e!=null&&Uw(e.length)&&!F4(e)}var dQ=9007199254740991,fQ=/^(?:0|[1-9]\d*)$/;function qw(e,t){var n=typeof e;return t=t??dQ,!!t&&(n=="number"||n!="symbol"&&fQ.test(e))&&e>-1&&e%1==0&&e<t}function hQ(e,t,n){if(!ho(n))return!1;var r=typeof t;return(r=="number"?Hw(n)&&qw(t,n.length):r=="string"&&t in n)?fy(n[t],e):!1}var N5=1/0,pQ=17976931348623157e292;function R0(e){if(!e)return e===0?e:0;if(e=JS(e),e===N5||e===-N5){var t=e<0?-1:1;return t*pQ}return e===e?e:0}function gQ(e){return function(t,n,r){return r&&typeof r!="number"&&hQ(t,n,r)&&(n=r=void 0),t=R0(t),n===void 0?(n=t,t=0):n=R0(n),r=r===void 0?t<n?1:-1:R0(r),cQ(t,n,r)}}var mQ=gQ();const rx={test:e=>e.toLowerCase().includes("wireless mic #")||e.toLowerCase().includes("sony wireless singstar"),map:(e,t)=>`SingStar Wireless - ${t===0?"Blue":"Red"}`},ix={test:e=>e.toLowerCase().includes("usbmic serial#")||e.toLowerCase().includes("singstar"),map:(e,t)=>`SingStar Wired - ${t===0?"Blue":"Red"}`},sx={test:(e,t,n)=>n===2&&e.toLowerCase().includes("singstar"),map:(e,t)=>`SingStar Mic - ${t===0?"Blue":"Red"}`},vQ=(...[e,t,n])=>ix.test(e,t,n)||rx.test(e,t,n)||sx.test(e,t,n)?t:void 0,yQ=(e,t,n)=>rx.test(e,t,n)?rx.map(e,t):ix.test(e,t,n)?ix.map(e,t):sx.test(e,t,n)?sx.map(e,t):n>1?`${e} (ch ${t+1})`:e,ks=class ks{};ks.inputList=[],ks.inputName="Microphone",ks.getDefault=()=>ks.inputList.find(t=>t.id===qc({deviceId:"default",channel:0}))??ks.inputList[0]??null,ks.getInputs=async()=>{let t=[];try{await Sl.getUserMedia({audio:!0,video:!1}),t=await Sl.enumerateDevices()}catch(r){fo(r,{level:"warning",extra:{message:"Microphone.getInputs"}}),console.warn(r)}const n=await Promise.all(t.filter(r=>r.kind==="audioinput").map(async r=>{let i=1;try{i=(await Sl.getUserMedia({audio:{deviceId:{exact:r.deviceId},echoCancellation:{exact:!1}},video:!1})).getAudioTracks()[0].getSettings().channelCount??1}catch(s){console.warn(s)}return mQ(0,i).map(s=>({label:yQ(r.label,s,i),channel:s,channels:i,deviceId:r.deviceId,id:qc({deviceId:r.deviceId,channel:s}),preferred:vQ(r.label,s,i)}))}));return ks.inputList=n.flat(),ks.inputList},ks.subscribeToListChange=t=>navigator.mediaDevices.addEventListener("devicechange",t),ks.unsubscribeToListChange=t=>navigator.mediaDevices.removeEventListener("devicechange",t);let Sa=ks;const L5=e=>({label:`${e.name}`,id:qc({deviceId:e.id,channel:0}),deviceId:e.id,channels:1,channel:0}),bc=class bc{};bc.inputName="Remote Microphone",bc.getDefault=()=>Vt.getRemoteMics().map(L5)[0]??null,bc.getInputs=async()=>Vt.getRemoteMics().map(L5),bc.subscribeToListChange=t=>{me.remoteMicConnected.subscribe(t),me.remoteMicDisconnected.subscribe(t)},bc.unsubscribeToListChange=t=>{me.remoteMicConnected.unsubscribe(t),me.remoteMicDisconnected.unsubscribe(t)};let ka=bc;const AQ=e=>`${e.deviceId};${e.channel}`;class bQ{constructor(){this.initialiseInputSource=(t,n=!1)=>(n||t.getInputs().then(r=>{this.inputList[t.inputName].list=r,this.inputList[t.inputName].initialised=!0,me.inputListChanged.dispatch(!0),t.subscribeToListChange(async()=>{this.inputList[t.inputName].list=await t.getInputs(),me.inputListChanged.dispatch(!1)})}),{list:[],getDefault:t.getDefault,initialised:!1}),this.loadMics=()=>{this.inputList.Microphone.list.length||(this.inputList.Microphone=this.initialiseInputSource(Sa))},this.getInputList=()=>this.inputList,this.isPlayerInputInitialised=t=>this.inputList[t.source].initialised,this.getInputForPlayerSelected=(t,n=!0)=>{const r=this.inputList[t.source];return r.list.find(i=>i.id===AQ(t))??(n?r.getDefault():null)},this.inputList={[Sa.inputName]:this.initialiseInputSource(Sa,!0),[Av.inputName]:this.initialiseInputSource(Av),[ka.inputName]:this.initialiseInputSource(ka)}}}const Po=new bQ,F5="playerselectedinputs",bv=4,Gv=class Gv{constructor(t,n,r){this.number=t,this.input=n,this.name=r,this.nameOverride="",this.changeInput=(i,s=0,l)=>{let c=null;ur.monitoringStarted()&&(c=ur.stopMonitoring());const d={source:i,deviceId:l,channel:s},u=this.input;this.input=d,me.playerInputChanged.dispatch(this.number,u,d),c&&c.then(ur.startMonitoring)},this.toJSON=()=>({number:this.number,input:this.input,name:this.name}),this.getName=()=>this.nameOverride||(this.name??`Player #${this.number+1}`),this.isDefaultName=()=>this.name===void 0,this.setName=i=>{const s=this.name;this.name=i,me.playerNameChanged.dispatch(this.number,s)}}};Gv.fromJSON=t=>new Gv(t.number,t.input,t.name);let md=Gv;class _Q{constructor(){this.minPlayerNumber=2,this.players=[],this.requestingPromise=null,this.storePlayers=()=>{st.session.setItem(F5,this.getPlayers().map(n=>n.toJSON()))},this.requestReadiness=async()=>(this.requestingPromise||(this.requestingPromise=new Promise(n=>{const r=async()=>{!this.getPlayers().filter(s=>s.input.source==="Remote Microphone").some(s=>Po.getInputForPlayerSelected(s.input,!1)===null)&&(await Promise.all(this.getPlayers().map(s=>ur.sourceNameToInput(s.input.source).requestReadiness(s.input.deviceId).then(()=>{me.readinessConfirmed.dispatch(s.input.deviceId)}))),me.inputListChanged.unsubscribe(r),this.requestingPromise=null,n(!0))};me.inputListChanged.subscribe(r),r()})),this.requestingPromise),this.getPlayers=()=>this.players,this.getPlayer=n=>this.players.find(r=>r.number===n),this.getMinPlayerNumber=()=>this.minPlayerNumber,this.setMinPlayerNumber=n=>{const r=this.minPlayerNumber;this.minPlayerNumber=n,me.minPlayerNumberChanged.dispatch(r,n)},this.addPlayer=n=>{if(at.isPlaying()||this.getPlayer(n))return;const r=new md(n,{source:"Dummy",deviceId:"default",channel:0});return this.players.push(r),this.storePlayers(),me.playerAdded.dispatch(r.number),me.playerInputChanged.dispatch(r.number,void 0,r.input),r},this.removePlayer=n=>{if(at.isPlaying())return;const r=this.getPlayer(n);r&&(this.players=this.players.filter(i=>i.number!==n),this.players.length<this.minPlayerNumber&&this.addPlayer(new Array(bv).fill(0).find((i,s)=>!this.players.find(l=>l.number===s))),this.storePlayers(),me.playerRemoved.dispatch(r))},this.getInputs=()=>this.getPlayers().map(n=>n.input);const t=st.session.getItem(F5)??[];t.length?(this.players=t.map(md.fromJSON),this.getPlayers().some(n=>n.input.source==="Microphone")&&Po.loadMics(),this.getPlayers().some(n=>n.input.source==="Remote Microphone")&&Ic.start()):this.players=[new md(0,{source:"Dummy",deviceId:"default",channel:0}),new md(1,{source:"Dummy",deviceId:"default",channel:1})],me.playerInputChanged.subscribe((n,r,i)=>{const s=this.getPlayer(n);if(!(!i||!s)){if(i.source==="Remote Microphone"){const l=Vt.getRemoteMicById(i.deviceId);l&&(s.nameOverride=l.name)}else s.nameOverride="";this.storePlayers()}}),me.playerNameChanged.subscribe(D4(this.storePlayers,1e3)),me.remoteMicConnected.subscribe(({id:n,name:r})=>{this.getPlayers().forEach(i=>{i.input.source==="Remote Microphone"&&i.input.deviceId===n&&i.getName()!==r&&(i.nameOverride=r)})})}}const tt=new _Q;class SQ{constructor(){this.isMonitoring=!1,this.getInputStatus=t=>{const n=tt.getPlayer(t);return n?this.sourceNameToInput(n.input.source).getStatus(n.input.deviceId,n.input.channel):"unavailable"},this.getPlayerFrequency=t=>{var i;const n=(i=tt.getPlayer(t))==null?void 0:i.input;return n?this.sourceNameToInput(n.source).getFrequencies(n.deviceId)[n.channel]:0},this.clearPlayerCachedFrequencies=t=>{var r;const n=(r=tt.getPlayer(t))==null?void 0:r.input;if(!n)return 0;this.sourceNameToInput(n.source).clearFrequencies(n.deviceId)},this.getPlayerVolume=t=>{var i;const n=(i=tt.getPlayer(t))==null?void 0:i.input;return n?this.sourceNameToInput(n.source).getVolumes(n.deviceId)[n.channel]:0},this.getPlayerInputLag=t=>{var r;const n=(r=tt.getPlayer(t))==null?void 0:r.input;return n?this.sourceNameToInput(n.source).getInputLag(n.deviceId):0},this.startMonitoring=async()=>{const t=tt.getPlayers().map(n=>n.input);await Promise.all(t.map(n=>this.sourceNameToInput(n.source).startMonitoring(n.deviceId,t))),this.isMonitoring=!0},this.stopMonitoring=async()=>{await Promise.all(tt.getPlayers().map(t=>this.sourceNameToInput(t.input.source).stopMonitoring(t.input.deviceId))),this.isMonitoring=!1},this.monitoringStarted=()=>this.isMonitoring,this.sourceNameToInput=t=>t===Sa.inputName?IY:t===nx.inputName?u7:t===ka.inputName?jY:f7,me.inputListChanged.subscribe(async()=>{this.isMonitoring&&(await this.stopMonitoring(),this.startMonitoring())})}}const ur=new SQ;function oD(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=oD(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Bt(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=oD(e))&&(r&&(r+=" "),r+=t);return r}function xQ(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}xQ(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var qp=e=>typeof e=="number"&&!isNaN(e),Gc=e=>typeof e=="string",Ma=e=>typeof e=="function",wQ=e=>Gc(e)||qp(e),ox=e=>Gc(e)||Ma(e)?e:null,EQ=(e,t)=>e===!1||qp(e)&&e>0?e:t,ax=e=>x.isValidElement(e)||Gc(e)||Ma(e)||qp(e);function TQ(e,t,n=300){let{scrollHeight:r,style:i}=e;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)})})}function CQ({enter:e,exit:t,appendPosition:n=!1,collapse:r=!0,collapseDuration:i=300}){return function({children:s,position:l,preventExitTransition:c,done:d,nodeRef:u,isIn:h,playToast:p}){let v=n?`${e}--${l}`:e,y=n?`${t}--${l}`:t,b=x.useRef(0);return x.useLayoutEffect(()=>{let _=u.current,w=v.split(" "),T=k=>{k.target===u.current&&(p(),_.removeEventListener("animationend",T),_.removeEventListener("animationcancel",T),b.current===0&&k.type!=="animationcancel"&&_.classList.remove(...w))};_.classList.add(...w),_.addEventListener("animationend",T),_.addEventListener("animationcancel",T)},[]),x.useEffect(()=>{let _=u.current,w=()=>{_.removeEventListener("animationend",w),r?TQ(_,d,i):d()};h||(c?w():(b.current=1,_.className+=` ${y}`,_.addEventListener("animationend",w)))},[h]),Qe.createElement(Qe.Fragment,null,s)}}function z5(e,t){return{content:aD(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:t}}function aD(e,t,n=!1){return x.isValidElement(e)&&!Gc(e.type)?x.cloneElement(e,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):Ma(e)?e({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):e}function kQ({closeToast:e,theme:t,ariaLabel:n="close"}){return Qe.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:r=>{r.stopPropagation(),e(!0)},"aria-label":n},Qe.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Qe.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function MQ({delay:e,isRunning:t,closeToast:n,type:r="default",hide:i,className:s,controlledProgress:l,progress:c,rtl:d,isIn:u,theme:h}){let p=i||l&&c===0,v={animationDuration:`${e}ms`,animationPlayState:t?"running":"paused"};l&&(v.transform=`scaleX(${c})`);let y=Bt("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${h}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":d}),b=Ma(s)?s({rtl:d,type:r,defaultClassName:y}):Bt(y,s),_={[l&&c>=1?"onTransitionEnd":"onAnimationEnd"]:l&&c<1?null:()=>{u&&n()}};return Qe.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":p},Qe.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${h} Toastify__progress-bar--${r}`}),Qe.createElement("div",{role:"progressbar","aria-hidden":p?"true":"false","aria-label":"notification timer",className:b,style:v,..._}))}var RQ=1,lD=()=>`${RQ++}`;function IQ(e,t,n){let r=1,i=0,s=[],l=[],c=t,d=new Map,u=new Set,h=k=>(u.add(k),()=>u.delete(k)),p=()=>{l=Array.from(d.values()),u.forEach(k=>k())},v=({containerId:k,toastId:R,updateId:M})=>{let E=k?k!==e:e!==1,O=d.has(R)&&M==null;return E||O},y=(k,R)=>{d.forEach(M=>{var E;(R==null||R===M.props.toastId)&&((E=M.toggle)==null||E.call(M,k))})},b=k=>{var R,M;(M=(R=k.props)==null?void 0:R.onClose)==null||M.call(R,k.removalReason),k.isActive=!1},_=k=>{if(k==null)d.forEach(b);else{let R=d.get(k);R&&b(R)}p()},w=()=>{i-=s.length,s=[]},T=k=>{var R,M;let{toastId:E,updateId:O}=k.props,j=O==null;k.staleId&&d.delete(k.staleId),k.isActive=!0,d.set(E,k),p(),n(z5(k,j?"added":"updated")),j&&((M=(R=k.props).onOpen)==null||M.call(R))};return{id:e,props:c,observe:h,toggle:y,removeToast:_,toasts:d,clearQueue:w,buildToast:(k,R)=>{if(v(R))return;let{toastId:M,updateId:E,data:O,staleId:j,delay:D}=R,P=E==null;P&&i++;let C={...c,style:c.toastStyle,key:r++,...Object.fromEntries(Object.entries(R).filter(([U,L])=>L!=null)),toastId:M,updateId:E,data:O,isIn:!1,className:ox(R.className||c.toastClassName),progressClassName:ox(R.progressClassName||c.progressClassName),autoClose:R.isLoading?!1:EQ(R.autoClose,c.autoClose),closeToast(U){d.get(M).removalReason=U,_(M)},deleteToast(){let U=d.get(M);if(U!=null){if(n(z5(U,"removed")),d.delete(M),i--,i<0&&(i=0),s.length>0){T(s.shift());return}p()}}};C.closeButton=c.closeButton,R.closeButton===!1||ax(R.closeButton)?C.closeButton=R.closeButton:R.closeButton===!0&&(C.closeButton=ax(c.closeButton)?c.closeButton:!0);let N={content:k,props:C,staleId:j};c.limit&&c.limit>0&&i>c.limit&&P?s.push(N):qp(D)?setTimeout(()=>{T(N)},D):T(N)},setProps(k){c=k},setToggle:(k,R)=>{let M=d.get(k);M&&(M.toggle=R)},isToastActive:k=>{var R;return(R=d.get(k))==null?void 0:R.isActive},getSnapshot:()=>l}}var Ii=new Map,wp=[],lx=new Set,OQ=e=>lx.forEach(t=>t(e)),cD=()=>Ii.size>0;function jQ(){wp.forEach(e=>dD(e.content,e.options)),wp=[]}var PQ=(e,{containerId:t})=>{var n;return(n=Ii.get(t||1))==null?void 0:n.toasts.get(e)};function uD(e,t){var n;if(t)return!!((n=Ii.get(t))!=null&&n.isToastActive(e));let r=!1;return Ii.forEach(i=>{i.isToastActive(e)&&(r=!0)}),r}function VQ(e){if(!cD()){wp=wp.filter(t=>e!=null&&t.options.toastId!==e);return}if(e==null||wQ(e))Ii.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=Ii.get(e.containerId);t?t.removeToast(e.id):Ii.forEach(n=>{n.removeToast(e.id)})}}var DQ=(e={})=>{Ii.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})};function dD(e,t){ax(e)&&(cD()||wp.push({content:e,options:t}),Ii.forEach(n=>{n.buildToast(e,t)}))}function BQ(e){var t;(t=Ii.get(e.containerId||1))==null||t.setToggle(e.id,e.fn)}function fD(e,t){Ii.forEach(n=>{(t==null||!(t!=null&&t.containerId)||(t==null?void 0:t.containerId)===n.id)&&n.toggle(e,t==null?void 0:t.id)})}function NQ(e){let t=e.containerId||1;return{subscribe(n){let r=IQ(t,e,OQ);Ii.set(t,r);let i=r.observe(n);return jQ(),()=>{i(),Ii.delete(t)}},setProps(n){var r;(r=Ii.get(t))==null||r.setProps(n)},getSnapshot(){var n;return(n=Ii.get(t))==null?void 0:n.getSnapshot()}}}function LQ(e){return lx.add(e),()=>{lx.delete(e)}}function FQ(e){return e&&(Gc(e.toastId)||qp(e.toastId))?e.toastId:lD()}function Gp(e,t){return dD(e,t),t.toastId}function by(e,t){return{...t,type:t&&t.type||e,toastId:FQ(t)}}function _y(e){return(t,n)=>Gp(t,by(e,n))}function gn(e,t){return Gp(e,by("default",t))}gn.loading=(e,t)=>Gp(e,by("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function zQ(e,{pending:t,error:n,success:r},i){let s;t&&(s=Gc(t)?gn.loading(t,i):gn.loading(t.render,{...i,...t}));let l={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},c=(u,h,p)=>{if(h==null){gn.dismiss(s);return}let v={type:u,...l,...i,data:p},y=Gc(h)?{render:h}:h;return s?gn.update(s,{...v,...y}):gn(y.render,{...v,...y}),p},d=Ma(e)?e():e;return d.then(u=>c("success",r,u)).catch(u=>c("error",n,u)),d}gn.promise=zQ;gn.success=_y("success");gn.info=_y("info");gn.error=_y("error");gn.warning=_y("warning");gn.warn=gn.warning;gn.dark=(e,t)=>Gp(e,by("default",{theme:"dark",...t}));function $Q(e){VQ(e)}gn.dismiss=$Q;gn.clearWaitingQueue=DQ;gn.isActive=uD;gn.update=(e,t={})=>{let n=PQ(e,t);if(n){let{props:r,content:i}=n,s={delay:100,...r,...t,toastId:t.toastId||e,updateId:lD()};s.toastId!==e&&(s.staleId=e);let l=s.render||i;delete s.render,Gp(l,s)}};gn.done=e=>{gn.update(e,{progress:1})};gn.onChange=LQ;gn.play=e=>fD(!0,e);gn.pause=e=>fD(!1,e);function UQ(e){var t;let{subscribe:n,getSnapshot:r,setProps:i}=x.useRef(NQ(e)).current;i(e);let s=(t=x.useSyncExternalStore(n,r,r))==null?void 0:t.slice();function l(c){if(!s)return[];let d=new Map;return e.newestOnTop&&s.reverse(),s.forEach(u=>{let{position:h}=u.props;d.has(h)||d.set(h,[]),d.get(h).push(u)}),Array.from(d,u=>c(u[0],u[1]))}return{getToastToRender:l,isToastActive:uD,count:s==null?void 0:s.length}}function HQ(e){let[t,n]=x.useState(!1),[r,i]=x.useState(!1),s=x.useRef(null),l=x.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:c,pauseOnHover:d,closeToast:u,onClick:h,closeOnClick:p}=e;BQ({id:e.toastId,containerId:e.containerId,fn:n}),x.useEffect(()=>{if(e.pauseOnFocusLoss)return v(),()=>{y()}},[e.pauseOnFocusLoss]);function v(){document.hasFocus()||T(),window.addEventListener("focus",w),window.addEventListener("blur",T)}function y(){window.removeEventListener("focus",w),window.removeEventListener("blur",T)}function b(j){if(e.draggable===!0||e.draggable===j.pointerType){k();let D=s.current;l.canCloseOnClick=!0,l.canDrag=!0,D.style.transition="none",e.draggableDirection==="x"?(l.start=j.clientX,l.removalDistance=D.offsetWidth*(e.draggablePercent/100)):(l.start=j.clientY,l.removalDistance=D.offsetHeight*(e.draggablePercent===80?e.draggablePercent*1.5:e.draggablePercent)/100)}}function _(j){let{top:D,bottom:P,left:C,right:N}=s.current.getBoundingClientRect();j.nativeEvent.type!=="touchend"&&e.pauseOnHover&&j.clientX>=C&&j.clientX<=N&&j.clientY>=D&&j.clientY<=P?T():w()}function w(){n(!0)}function T(){n(!1)}function k(){l.didMove=!1,document.addEventListener("pointermove",M),document.addEventListener("pointerup",E)}function R(){document.removeEventListener("pointermove",M),document.removeEventListener("pointerup",E)}function M(j){let D=s.current;if(l.canDrag&&D){l.didMove=!0,t&&T(),e.draggableDirection==="x"?l.delta=j.clientX-l.start:l.delta=j.clientY-l.start,l.start!==j.clientX&&(l.canCloseOnClick=!1);let P=e.draggableDirection==="x"?`${l.delta}px, var(--y)`:`0, calc(${l.delta}px + var(--y))`;D.style.transform=`translate3d(${P},0)`,D.style.opacity=`${1-Math.abs(l.delta/l.removalDistance)}`}}function E(){R();let j=s.current;if(l.canDrag&&l.didMove&&j){if(l.canDrag=!1,Math.abs(l.delta)>l.removalDistance){i(!0),e.closeToast(!0),e.collapseAll();return}j.style.transition="transform 0.2s, opacity 0.2s",j.style.removeProperty("transform"),j.style.removeProperty("opacity")}}let O={onPointerDown:b,onPointerUp:_};return c&&d&&(O.onMouseEnter=T,e.stacked||(O.onMouseLeave=w)),p&&(O.onClick=j=>{h&&h(j),l.canCloseOnClick&&u(!0)}),{playToast:w,pauseToast:T,isRunning:t,preventExitTransition:r,toastRef:s,eventHandlers:O}}var qQ=typeof window<"u"?x.useLayoutEffect:x.useEffect,Sy=({theme:e,type:t,isLoading:n,...r})=>Qe.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...r});function GQ(e){return Qe.createElement(Sy,{...e},Qe.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function YQ(e){return Qe.createElement(Sy,{...e},Qe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function KQ(e){return Qe.createElement(Sy,{...e},Qe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function WQ(e){return Qe.createElement(Sy,{...e},Qe.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function QQ(){return Qe.createElement("div",{className:"Toastify__spinner"})}var cx={info:YQ,warning:GQ,success:KQ,error:WQ,spinner:QQ},XQ=e=>e in cx;function JQ({theme:e,type:t,isLoading:n,icon:r}){let i=null,s={theme:e,type:t};return r===!1||(Ma(r)?i=r({...s,isLoading:n}):x.isValidElement(r)?i=x.cloneElement(r,s):n?i=cx.spinner():XQ(t)&&(i=cx[t](s))),i}var ZQ=e=>{let{isRunning:t,preventExitTransition:n,toastRef:r,eventHandlers:i,playToast:s}=HQ(e),{closeButton:l,children:c,autoClose:d,onClick:u,type:h,hideProgressBar:p,closeToast:v,transition:y,position:b,className:_,style:w,progressClassName:T,updateId:k,role:R,progress:M,rtl:E,toastId:O,deleteToast:j,isIn:D,isLoading:P,closeOnClick:C,theme:N,ariaLabel:U}=e,L=Bt("Toastify__toast",`Toastify__toast-theme--${N}`,`Toastify__toast--${h}`,{"Toastify__toast--rtl":E},{"Toastify__toast--close-on-click":C}),q=Ma(_)?_({rtl:E,position:b,type:h,defaultClassName:L}):Bt(L,_),H=JQ(e),V=!!M||!d,W={closeToast:v,type:h,theme:N},Q=null;return l===!1||(Ma(l)?Q=l(W):x.isValidElement(l)?Q=x.cloneElement(l,W):Q=kQ(W)),Qe.createElement(y,{isIn:D,done:j,position:b,preventExitTransition:n,nodeRef:r,playToast:s},Qe.createElement("div",{id:O,tabIndex:0,onClick:u,"data-in":D,className:q,...i,style:w,ref:r,...D&&{role:R,"aria-label":U}},H!=null&&Qe.createElement("div",{className:Bt("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!P})},H),aD(c,e,!t),Q,!e.customProgressBar&&Qe.createElement(MQ,{...k&&!V?{key:`p-${k}`}:{},rtl:E,theme:N,delay:d,isRunning:t,isIn:D,closeToast:v,hide:p,type:h,className:T,controlledProgress:V,progress:M||0})))},eX=(e,t=!1)=>({enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}),tX=CQ(eX("bounce",!0)),nX={position:"top-right",transition:tX,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&e.code==="KeyT"};function rX(e){let t={...nX,...e},n=e.stacked,[r,i]=x.useState(!0),s=x.useRef(null),{getToastToRender:l,isToastActive:c,count:d}=UQ(t),{className:u,style:h,rtl:p,containerId:v,hotKeys:y}=t;function b(w){let T=Bt("Toastify__toast-container",`Toastify__toast-container--${w}`,{"Toastify__toast-container--rtl":p});return Ma(u)?u({position:w,rtl:p,defaultClassName:T}):Bt(T,ox(u))}function _(){n&&(i(!0),gn.play())}return qQ(()=>{var w;if(n){let T=s.current.querySelectorAll('[data-in="true"]'),k=12,R=(w=t.position)==null?void 0:w.includes("top"),M=0,E=0;Array.from(T).reverse().forEach((O,j)=>{let D=O;D.classList.add("Toastify__toast--stacked"),j>0&&(D.dataset.collapsed=`${r}`),D.dataset.pos||(D.dataset.pos=R?"top":"bot");let P=M*(r?.2:1)+(r?0:k*j);D.style.setProperty("--y",`${R?P:P*-1}px`),D.style.setProperty("--g",`${k}`),D.style.setProperty("--s",`${1-(r?E:0)}`),M+=D.offsetHeight,E+=.025})}},[r,d,n]),x.useEffect(()=>{function w(T){var k;let R=s.current;y(T)&&((k=R.querySelector('[tabIndex="0"]'))==null||k.focus(),i(!1),gn.pause()),T.key==="Escape"&&(document.activeElement===R||R!=null&&R.contains(document.activeElement))&&(i(!0),gn.play())}return document.addEventListener("keydown",w),()=>{document.removeEventListener("keydown",w)}},[y]),Qe.createElement("section",{ref:s,className:"Toastify",id:v,onMouseEnter:()=>{n&&(i(!1),gn.pause())},onMouseLeave:_,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},l((w,T)=>{let k=T.length?{...h}:{...h,pointerEvents:"none"};return Qe.createElement("div",{tabIndex:-1,className:b(w),"data-stacked":n,style:k,key:`c-${w}`},T.map(({content:R,props:M})=>Qe.createElement(ZQ,{...M,stacked:n,collapseAll:_,isIn:c(M.toastId,M.containerId),key:`t-${M.key}`},R)))}))}me.playerRemoved.subscribe(e=>{if(e.input.source===ka.inputName){const t=Vt.getRemoteMicById(e.input.deviceId);t&&t.setPlayerNumber(null)}});me.playerInputChanged.subscribe((e,t,n)=>{var r;if((t==null?void 0:t.source)===ka.inputName){const i=(r=tt.getPlayers().find(l=>l.input.source==="Remote Microphone"&&l.input.deviceId===t.deviceId))==null?void 0:r.number,s=Vt.getRemoteMicById(t.deviceId);s==null||s.setPlayerNumber(i!==void 0?i:null)}if((n==null?void 0:n.source)==="Remote Microphone"){const i=Vt.getRemoteMicById(n.deviceId);i==null||i.setPlayerNumber(e)}});me.remoteMicConnected.subscribe(({id:e})=>{var n,r;const t=(n=tt.getPlayers().find(i=>i.input.source==="Remote Microphone"&&i.input.deviceId===e))==null?void 0:n.number;if(t!==void 0){const i=Vt.getRemoteMicById(e);i==null||i.setPlayerNumber(t),ur.monitoringStarted()&&((r=i==null?void 0:i.getInput())==null||r.startMonitoring())}});me.playerChangeRequested.subscribe((e,t)=>{var r;const n=tt.getPlayers().find(i=>i.input.deviceId===e);if(n&&tt.removePlayer(n.number),t!==null){const i=tt.getPlayer(t);i?i.changeInput("Remote Microphone",0,e):(r=tt.addPlayer(t))==null||r.changeInput("Remote Microphone",0,e)}});me.remoteMicConnected.subscribe(({name:e,id:t,silent:n})=>{n||gn.success(g.jsxs(g.Fragment,{children:["Remote microphone ",g.jsx("b",{className:"ph-no-capture",children:e})," connected!"]}),{toastId:`connection-status-${t}`,updateId:`connection-status-${t}`})});me.remoteMicDisconnected.subscribe(({name:e,id:t},n)=>{n||gn.warning(g.jsxs(g.Fragment,{children:["Remote microphone ",g.jsx("b",{className:"ph-no-capture",children:e})," disconnected!"]}),{toastId:`connection-status-${t}`,updateId:`connection-status-${t}`})});const xy=()=>{const e=Vt.getRemoteMics().map(t=>{var n;return{id:t.id,name:t.name,number:((n=tt.getPlayers().find(r=>r.input.deviceId===t.id))==null?void 0:n.number)??null}});Vt.broadcastToChannel("remote-mics",{t:"remote-mics-list",list:e})};me.playerRemoved.subscribe(xy);me.inputListChanged.subscribe(xy);me.playerInputChanged.subscribe(xy);me.remoteMicSubscribed.subscribe(xy);const hD=e=>({artist:t,title:n,id:r,lastUpdate:i},s,l=[],c)=>{var h;const d=l.length>1&&l.every(p=>p.score===l[0].score),u={};if(tt.getPlayers().forEach((p,v)=>u[`input${v}`]=p.input.source),e==="songEnded")try{const p=(h=at.getPlayer(0))==null?void 0:h.getPlayerNotes().filter(y=>vv(y)===0).map(y=>y.frequencyRecords).flat().map(y=>[y.timestamp,y.frequency]).map((y,b,_)=>{var w,T;return[y[0]-(((w=_[b-1])==null?void 0:w[0])??0),y[1]-(((T=_[b-1])==null?void 0:T[1])??0)]}).map(y=>[Math.round(y[0]*100),Math.round(y[1]*100)]).map(y=>y[1]===0?y[0]:y),v=uV(p);console.log("compressed",v)}catch(p){fo(p)}er.capture(e,{songId:r,songLastUpdated:i,name:`${t} - ${n}`,artist:t,title:n,mode:s.mode,tolerance:s.tolerance,players:s.players.length,tracks:s.players.map(p=>p.track),progress:c??null,singId:s.id,sameScores:d,mobilePhoneMode:!!oi.get(),...u,...l.reduce((p,v,y)=>({...p,[`score${y}`]:v.score}),{}),...s.players.reduce((p,v,y)=>({...p,[`track${y}`]:v.track}),{})})};me.songStarted.subscribe(hD("songStarted"));me.songEnded.subscribe(hD("songEnded"));function zm(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var I1={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/var $5;function iX(){return $5||($5=1,function(e,t){(function(n){e.exports=n()})(function(){return function n(r,i,s){function l(u,h){if(!i[u]){if(!r[u]){var p=typeof zm=="function"&&zm;if(!h&&p)return p(u,!0);if(c)return c(u,!0);var v=new Error("Cannot find module '"+u+"'");throw v.code="MODULE_NOT_FOUND",v}var y=i[u]={exports:{}};r[u][0].call(y.exports,function(b){var _=r[u][1][b];return l(_||b)},y,y.exports,n,r,i,s)}return i[u].exports}for(var c=typeof zm=="function"&&zm,d=0;d<s.length;d++)l(s[d]);return l}({1:[function(n,r,i){(function(s){var l=s.MutationObserver||s.WebKitMutationObserver,c;if(l){var d=0,u=new l(b),h=s.document.createTextNode("");u.observe(h,{characterData:!0}),c=function(){h.data=d=++d%2}}else if(!s.setImmediate&&typeof s.MessageChannel<"u"){var p=new s.MessageChannel;p.port1.onmessage=b,c=function(){p.port2.postMessage(0)}}else"document"in s&&"onreadystatechange"in s.document.createElement("script")?c=function(){var w=s.document.createElement("script");w.onreadystatechange=function(){b(),w.onreadystatechange=null,w.parentNode.removeChild(w),w=null},s.document.documentElement.appendChild(w)}:c=function(){setTimeout(b,0)};var v,y=[];function b(){v=!0;for(var w,T,k=y.length;k;){for(T=y,y=[],w=-1;++w<k;)T[w]();k=y.length}v=!1}r.exports=_;function _(w){y.push(w)===1&&!v&&c()}}).call(this,typeof pm<"u"?pm:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(n,r,i){var s=n(1);function l(){}var c={},d=["REJECTED"],u=["FULFILLED"],h=["PENDING"];r.exports=p;function p(E){if(typeof E!="function")throw new TypeError("resolver must be a function");this.state=h,this.queue=[],this.outcome=void 0,E!==l&&_(this,E)}p.prototype.catch=function(E){return this.then(null,E)},p.prototype.then=function(E,O){if(typeof E!="function"&&this.state===u||typeof O!="function"&&this.state===d)return this;var j=new this.constructor(l);if(this.state!==h){var D=this.state===u?E:O;y(j,D,this.outcome)}else this.queue.push(new v(j,E,O));return j};function v(E,O,j){this.promise=E,typeof O=="function"&&(this.onFulfilled=O,this.callFulfilled=this.otherCallFulfilled),typeof j=="function"&&(this.onRejected=j,this.callRejected=this.otherCallRejected)}v.prototype.callFulfilled=function(E){c.resolve(this.promise,E)},v.prototype.otherCallFulfilled=function(E){y(this.promise,this.onFulfilled,E)},v.prototype.callRejected=function(E){c.reject(this.promise,E)},v.prototype.otherCallRejected=function(E){y(this.promise,this.onRejected,E)};function y(E,O,j){s(function(){var D;try{D=O(j)}catch(P){return c.reject(E,P)}D===E?c.reject(E,new TypeError("Cannot resolve promise with itself")):c.resolve(E,D)})}c.resolve=function(E,O){var j=w(b,O);if(j.status==="error")return c.reject(E,j.value);var D=j.value;if(D)_(E,D);else{E.state=u,E.outcome=O;for(var P=-1,C=E.queue.length;++P<C;)E.queue[P].callFulfilled(O)}return E},c.reject=function(E,O){E.state=d,E.outcome=O;for(var j=-1,D=E.queue.length;++j<D;)E.queue[j].callRejected(O);return E};function b(E){var O=E&&E.then;if(E&&(typeof E=="object"||typeof E=="function")&&typeof O=="function")return function(){O.apply(E,arguments)}}function _(E,O){var j=!1;function D(U){j||(j=!0,c.reject(E,U))}function P(U){j||(j=!0,c.resolve(E,U))}function C(){O(P,D)}var N=w(C);N.status==="error"&&D(N.value)}function w(E,O){var j={};try{j.value=E(O),j.status="success"}catch(D){j.status="error",j.value=D}return j}p.resolve=T;function T(E){return E instanceof this?E:c.resolve(new this(l),E)}p.reject=k;function k(E){var O=new this(l);return c.reject(O,E)}p.all=R;function R(E){var O=this;if(Object.prototype.toString.call(E)!=="[object Array]")return this.reject(new TypeError("must be an array"));var j=E.length,D=!1;if(!j)return this.resolve([]);for(var P=new Array(j),C=0,N=-1,U=new this(l);++N<j;)L(E[N],N);return U;function L(q,H){O.resolve(q).then(V,function(W){D||(D=!0,c.reject(U,W))});function V(W){P[H]=W,++C===j&&!D&&(D=!0,c.resolve(U,P))}}}p.race=M;function M(E){var O=this;if(Object.prototype.toString.call(E)!=="[object Array]")return this.reject(new TypeError("must be an array"));var j=E.length,D=!1;if(!j)return this.resolve([]);for(var P=-1,C=new this(l);++P<j;)N(E[P]);return C;function N(U){O.resolve(U).then(function(L){D||(D=!0,c.resolve(C,L))},function(L){D||(D=!0,c.reject(C,L))})}}},{1:1}],3:[function(n,r,i){(function(s){typeof s.Promise!="function"&&(s.Promise=n(2))}).call(this,typeof pm<"u"?pm:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(n,r,i){var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $};function l($,Z){if(!($ instanceof Z))throw new TypeError("Cannot call a class as a function")}function c(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var d=c();function u(){try{if(!d||!d.open)return!1;var $=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),Z=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!$||Z)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function h($,Z){$=$||[],Z=Z||{};try{return new Blob($,Z)}catch(te){if(te.name!=="TypeError")throw te;for(var Y=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,re=new Y,le=0;le<$.length;le+=1)re.append($[le]);return re.getBlob(Z.type)}}typeof Promise>"u"&&n(3);var p=Promise;function v($,Z){Z&&$.then(function(Y){Z(null,Y)},function(Y){Z(Y)})}function y($,Z,Y){typeof Z=="function"&&$.then(Z),typeof Y=="function"&&$.catch(Y)}function b($){return typeof $!="string"&&(console.warn($+" used as a key, but it is not a string."),$=String($)),$}function _(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var w="local-forage-detect-blob-support",T=void 0,k={},R=Object.prototype.toString,M="readonly",E="readwrite";function O($){for(var Z=$.length,Y=new ArrayBuffer(Z),re=new Uint8Array(Y),le=0;le<Z;le++)re[le]=$.charCodeAt(le);return Y}function j($){return new p(function(Z){var Y=$.transaction(w,E),re=h([""]);Y.objectStore(w).put(re,"key"),Y.onabort=function(le){le.preventDefault(),le.stopPropagation(),Z(!1)},Y.oncomplete=function(){var le=navigator.userAgent.match(/Chrome\/(\d+)/),te=navigator.userAgent.match(/Edge\//);Z(te||!le||parseInt(le[1],10)>=43)}}).catch(function(){return!1})}function D($){return typeof T=="boolean"?p.resolve(T):j($).then(function(Z){return T=Z,T})}function P($){var Z=k[$.name],Y={};Y.promise=new p(function(re,le){Y.resolve=re,Y.reject=le}),Z.deferredOperations.push(Y),Z.dbReady?Z.dbReady=Z.dbReady.then(function(){return Y.promise}):Z.dbReady=Y.promise}function C($){var Z=k[$.name],Y=Z.deferredOperations.pop();if(Y)return Y.resolve(),Y.promise}function N($,Z){var Y=k[$.name],re=Y.deferredOperations.pop();if(re)return re.reject(Z),re.promise}function U($,Z){return new p(function(Y,re){if(k[$.name]=k[$.name]||ee(),$.db)if(Z)P($),$.db.close();else return Y($.db);var le=[$.name];Z&&le.push($.version);var te=d.open.apply(d,le);Z&&(te.onupgradeneeded=function(_e){var Ee=te.result;try{Ee.createObjectStore($.storeName),_e.oldVersion<=1&&Ee.createObjectStore(w)}catch(Ie){if(Ie.name==="ConstraintError")console.warn('The database "'+$.name+'" has been upgraded from version '+_e.oldVersion+" to version "+_e.newVersion+', but the storage "'+$.storeName+'" already exists.');else throw Ie}}),te.onerror=function(_e){_e.preventDefault(),re(te.error)},te.onsuccess=function(){var _e=te.result;_e.onversionchange=function(Ee){Ee.target.close()},Y(_e),C($)}})}function L($){return U($,!1)}function q($){return U($,!0)}function H($,Z){if(!$.db)return!0;var Y=!$.db.objectStoreNames.contains($.storeName),re=$.version<$.db.version,le=$.version>$.db.version;if(re&&($.version!==Z&&console.warn('The database "'+$.name+`" can't be downgraded from version `+$.db.version+" to version "+$.version+"."),$.version=$.db.version),le||Y){if(Y){var te=$.db.version+1;te>$.version&&($.version=te)}return!0}return!1}function V($){return new p(function(Z,Y){var re=new FileReader;re.onerror=Y,re.onloadend=function(le){var te=btoa(le.target.result||"");Z({__local_forage_encoded_blob:!0,data:te,type:$.type})},re.readAsBinaryString($)})}function W($){var Z=O(atob($.data));return h([Z],{type:$.type})}function Q($){return $&&$.__local_forage_encoded_blob}function J($){var Z=this,Y=Z._initReady().then(function(){var re=k[Z._dbInfo.name];if(re&&re.dbReady)return re.dbReady});return y(Y,$,$),Y}function B($){P($);for(var Z=k[$.name],Y=Z.forages,re=0;re<Y.length;re++){var le=Y[re];le._dbInfo.db&&(le._dbInfo.db.close(),le._dbInfo.db=null)}return $.db=null,L($).then(function(te){return $.db=te,H($)?q($):te}).then(function(te){$.db=Z.db=te;for(var _e=0;_e<Y.length;_e++)Y[_e]._dbInfo.db=te}).catch(function(te){throw N($,te),te})}function G($,Z,Y,re){re===void 0&&(re=1);try{var le=$.db.transaction($.storeName,Z);Y(null,le)}catch(te){if(re>0&&(!$.db||te.name==="InvalidStateError"||te.name==="NotFoundError"))return p.resolve().then(function(){if(!$.db||te.name==="NotFoundError"&&!$.db.objectStoreNames.contains($.storeName)&&$.version<=$.db.version)return $.db&&($.version=$.db.version+1),q($)}).then(function(){return B($).then(function(){G($,Z,Y,re-1)})}).catch(Y);Y(te)}}function ee(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function ue($){var Z=this,Y={db:null};if($)for(var re in $)Y[re]=$[re];var le=k[Y.name];le||(le=ee(),k[Y.name]=le),le.forages.push(Z),Z._initReady||(Z._initReady=Z.ready,Z.ready=J);var te=[];function _e(){return p.resolve()}for(var Ee=0;Ee<le.forages.length;Ee++){var Ie=le.forages[Ee];Ie!==Z&&te.push(Ie._initReady().catch(_e))}var Ce=le.forages.slice(0);return p.all(te).then(function(){return Y.db=le.db,L(Y)}).then(function(Pe){return Y.db=Pe,H(Y,Z._defaultConfig.version)?q(Y):Pe}).then(function(Pe){Y.db=le.db=Pe,Z._dbInfo=Y;for(var We=0;We<Ce.length;We++){var wt=Ce[We];wt!==Z&&(wt._dbInfo.db=Y.db,wt._dbInfo.version=Y.version)}})}function F($,Z){var Y=this;$=b($);var re=new p(function(le,te){Y.ready().then(function(){G(Y._dbInfo,M,function(_e,Ee){if(_e)return te(_e);try{var Ie=Ee.objectStore(Y._dbInfo.storeName),Ce=Ie.get($);Ce.onsuccess=function(){var Pe=Ce.result;Pe===void 0&&(Pe=null),Q(Pe)&&(Pe=W(Pe)),le(Pe)},Ce.onerror=function(){te(Ce.error)}}catch(Pe){te(Pe)}})}).catch(te)});return v(re,Z),re}function ge($,Z){var Y=this,re=new p(function(le,te){Y.ready().then(function(){G(Y._dbInfo,M,function(_e,Ee){if(_e)return te(_e);try{var Ie=Ee.objectStore(Y._dbInfo.storeName),Ce=Ie.openCursor(),Pe=1;Ce.onsuccess=function(){var We=Ce.result;if(We){var wt=We.value;Q(wt)&&(wt=W(wt));var Ft=$(wt,We.key,Pe++);Ft!==void 0?le(Ft):We.continue()}else le()},Ce.onerror=function(){te(Ce.error)}}catch(We){te(We)}})}).catch(te)});return v(re,Z),re}function se($,Z,Y){var re=this;$=b($);var le=new p(function(te,_e){var Ee;re.ready().then(function(){return Ee=re._dbInfo,R.call(Z)==="[object Blob]"?D(Ee.db).then(function(Ie){return Ie?Z:V(Z)}):Z}).then(function(Ie){G(re._dbInfo,E,function(Ce,Pe){if(Ce)return _e(Ce);try{var We=Pe.objectStore(re._dbInfo.storeName);Ie===null&&(Ie=void 0);var wt=We.put(Ie,$);Pe.oncomplete=function(){Ie===void 0&&(Ie=null),te(Ie)},Pe.onabort=Pe.onerror=function(){var Ft=wt.error?wt.error:wt.transaction.error;_e(Ft)}}catch(Ft){_e(Ft)}})}).catch(_e)});return v(le,Y),le}function Se($,Z){var Y=this;$=b($);var re=new p(function(le,te){Y.ready().then(function(){G(Y._dbInfo,E,function(_e,Ee){if(_e)return te(_e);try{var Ie=Ee.objectStore(Y._dbInfo.storeName),Ce=Ie.delete($);Ee.oncomplete=function(){le()},Ee.onerror=function(){te(Ce.error)},Ee.onabort=function(){var Pe=Ce.error?Ce.error:Ce.transaction.error;te(Pe)}}catch(Pe){te(Pe)}})}).catch(te)});return v(re,Z),re}function Me($){var Z=this,Y=new p(function(re,le){Z.ready().then(function(){G(Z._dbInfo,E,function(te,_e){if(te)return le(te);try{var Ee=_e.objectStore(Z._dbInfo.storeName),Ie=Ee.clear();_e.oncomplete=function(){re()},_e.onabort=_e.onerror=function(){var Ce=Ie.error?Ie.error:Ie.transaction.error;le(Ce)}}catch(Ce){le(Ce)}})}).catch(le)});return v(Y,$),Y}function Re($){var Z=this,Y=new p(function(re,le){Z.ready().then(function(){G(Z._dbInfo,M,function(te,_e){if(te)return le(te);try{var Ee=_e.objectStore(Z._dbInfo.storeName),Ie=Ee.count();Ie.onsuccess=function(){re(Ie.result)},Ie.onerror=function(){le(Ie.error)}}catch(Ce){le(Ce)}})}).catch(le)});return v(Y,$),Y}function ve($,Z){var Y=this,re=new p(function(le,te){if($<0){le(null);return}Y.ready().then(function(){G(Y._dbInfo,M,function(_e,Ee){if(_e)return te(_e);try{var Ie=Ee.objectStore(Y._dbInfo.storeName),Ce=!1,Pe=Ie.openKeyCursor();Pe.onsuccess=function(){var We=Pe.result;if(!We){le(null);return}$===0||Ce?le(We.key):(Ce=!0,We.advance($))},Pe.onerror=function(){te(Pe.error)}}catch(We){te(We)}})}).catch(te)});return v(re,Z),re}function je($){var Z=this,Y=new p(function(re,le){Z.ready().then(function(){G(Z._dbInfo,M,function(te,_e){if(te)return le(te);try{var Ee=_e.objectStore(Z._dbInfo.storeName),Ie=Ee.openKeyCursor(),Ce=[];Ie.onsuccess=function(){var Pe=Ie.result;if(!Pe){re(Ce);return}Ce.push(Pe.key),Pe.continue()},Ie.onerror=function(){le(Ie.error)}}catch(Pe){le(Pe)}})}).catch(le)});return v(Y,$),Y}function Ge($,Z){Z=_.apply(this,arguments);var Y=this.config();$=typeof $!="function"&&$||{},$.name||($.name=$.name||Y.name,$.storeName=$.storeName||Y.storeName);var re=this,le;if(!$.name)le=p.reject("Invalid arguments");else{var te=$.name===Y.name&&re._dbInfo.db,_e=te?p.resolve(re._dbInfo.db):L($).then(function(Ee){var Ie=k[$.name],Ce=Ie.forages;Ie.db=Ee;for(var Pe=0;Pe<Ce.length;Pe++)Ce[Pe]._dbInfo.db=Ee;return Ee});$.storeName?le=_e.then(function(Ee){if(Ee.objectStoreNames.contains($.storeName)){var Ie=Ee.version+1;P($);var Ce=k[$.name],Pe=Ce.forages;Ee.close();for(var We=0;We<Pe.length;We++){var wt=Pe[We];wt._dbInfo.db=null,wt._dbInfo.version=Ie}var Ft=new p(function(tn,Wn){var mn=d.open($.name,Ie);mn.onerror=function(Vi){var Na=mn.result;Na.close(),Wn(Vi)},mn.onupgradeneeded=function(){var Vi=mn.result;Vi.deleteObjectStore($.storeName)},mn.onsuccess=function(){var Vi=mn.result;Vi.close(),tn(Vi)}});return Ft.then(function(tn){Ce.db=tn;for(var Wn=0;Wn<Pe.length;Wn++){var mn=Pe[Wn];mn._dbInfo.db=tn,C(mn._dbInfo)}}).catch(function(tn){throw(N($,tn)||p.resolve()).catch(function(){}),tn})}}):le=_e.then(function(Ee){P($);var Ie=k[$.name],Ce=Ie.forages;Ee.close();for(var Pe=0;Pe<Ce.length;Pe++){var We=Ce[Pe];We._dbInfo.db=null}var wt=new p(function(Ft,tn){var Wn=d.deleteDatabase($.name);Wn.onerror=function(){var mn=Wn.result;mn&&mn.close(),tn(Wn.error)},Wn.onblocked=function(){console.warn('dropInstance blocked for database "'+$.name+'" until all open connections are closed')},Wn.onsuccess=function(){var mn=Wn.result;mn&&mn.close(),Ft(mn)}});return wt.then(function(Ft){Ie.db=Ft;for(var tn=0;tn<Ce.length;tn++){var Wn=Ce[tn];C(Wn._dbInfo)}}).catch(function(Ft){throw(N($,Ft)||p.resolve()).catch(function(){}),Ft})})}return v(le,Z),le}var $e={_driver:"asyncStorage",_initStorage:ue,_support:u(),iterate:ge,getItem:F,setItem:se,removeItem:Se,clear:Me,length:Re,key:ve,keys:je,dropInstance:Ge};function De(){return typeof openDatabase=="function"}var Ve="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ot="~~local_forage_type~",ft=/^~~local_forage_type~([^~]+)~/,Be="__lfsc__:",ut=Be.length,en="arbf",pn="blob",sn="si08",qe="ui08",pt="uic8",un="si16",on="si32",yt="ur16",lt="ui32",rt="fl32",Ct="fl64",Nn=ut+en.length,Ut=Object.prototype.toString;function _t($){var Z=$.length*.75,Y=$.length,re,le=0,te,_e,Ee,Ie;$[$.length-1]==="="&&(Z--,$[$.length-2]==="="&&Z--);var Ce=new ArrayBuffer(Z),Pe=new Uint8Array(Ce);for(re=0;re<Y;re+=4)te=Ve.indexOf($[re]),_e=Ve.indexOf($[re+1]),Ee=Ve.indexOf($[re+2]),Ie=Ve.indexOf($[re+3]),Pe[le++]=te<<2|_e>>4,Pe[le++]=(_e&15)<<4|Ee>>2,Pe[le++]=(Ee&3)<<6|Ie&63;return Ce}function Nt($){var Z=new Uint8Array($),Y="",re;for(re=0;re<Z.length;re+=3)Y+=Ve[Z[re]>>2],Y+=Ve[(Z[re]&3)<<4|Z[re+1]>>4],Y+=Ve[(Z[re+1]&15)<<2|Z[re+2]>>6],Y+=Ve[Z[re+2]&63];return Z.length%3===2?Y=Y.substring(0,Y.length-1)+"=":Z.length%3===1&&(Y=Y.substring(0,Y.length-2)+"=="),Y}function Ln($,Z){var Y="";if($&&(Y=Ut.call($)),$&&(Y==="[object ArrayBuffer]"||$.buffer&&Ut.call($.buffer)==="[object ArrayBuffer]")){var re,le=Be;$ instanceof ArrayBuffer?(re=$,le+=en):(re=$.buffer,Y==="[object Int8Array]"?le+=sn:Y==="[object Uint8Array]"?le+=qe:Y==="[object Uint8ClampedArray]"?le+=pt:Y==="[object Int16Array]"?le+=un:Y==="[object Uint16Array]"?le+=yt:Y==="[object Int32Array]"?le+=on:Y==="[object Uint32Array]"?le+=lt:Y==="[object Float32Array]"?le+=rt:Y==="[object Float64Array]"?le+=Ct:Z(new Error("Failed to get type for BinaryArray"))),Z(le+Nt(re))}else if(Y==="[object Blob]"){var te=new FileReader;te.onload=function(){var _e=ot+$.type+"~"+Nt(this.result);Z(Be+pn+_e)},te.readAsArrayBuffer($)}else try{Z(JSON.stringify($))}catch(_e){console.error("Couldn't convert value into a JSON string: ",$),Z(null,_e)}}function Jt($){if($.substring(0,ut)!==Be)return JSON.parse($);var Z=$.substring(Nn),Y=$.substring(ut,Nn),re;if(Y===pn&&ft.test(Z)){var le=Z.match(ft);re=le[1],Z=Z.substring(le[0].length)}var te=_t(Z);switch(Y){case en:return te;case pn:return h([te],{type:re});case sn:return new Int8Array(te);case qe:return new Uint8Array(te);case pt:return new Uint8ClampedArray(te);case un:return new Int16Array(te);case yt:return new Uint16Array(te);case on:return new Int32Array(te);case lt:return new Uint32Array(te);case rt:return new Float32Array(te);case Ct:return new Float64Array(te);default:throw new Error("Unkown type: "+Y)}}var mt={serialize:Ln,deserialize:Jt,stringToBuffer:_t,bufferToString:Nt};function fr($,Z,Y,re){$.executeSql("CREATE TABLE IF NOT EXISTS "+Z.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],Y,re)}function Vr($){var Z=this,Y={db:null};if($)for(var re in $)Y[re]=typeof $[re]!="string"?$[re].toString():$[re];var le=new p(function(te,_e){try{Y.db=openDatabase(Y.name,String(Y.version),Y.description,Y.size)}catch(Ee){return _e(Ee)}Y.db.transaction(function(Ee){fr(Ee,Y,function(){Z._dbInfo=Y,te()},function(Ie,Ce){_e(Ce)})},_e)});return Y.serializer=mt,le}function Gn($,Z,Y,re,le,te){$.executeSql(Y,re,le,function(_e,Ee){Ee.code===Ee.SYNTAX_ERR?_e.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[Z.storeName],function(Ie,Ce){Ce.rows.length?te(Ie,Ee):fr(Ie,Z,function(){Ie.executeSql(Y,re,le,te)},te)},te):te(_e,Ee)},te)}function qr($,Z){var Y=this;$=b($);var re=new p(function(le,te){Y.ready().then(function(){var _e=Y._dbInfo;_e.db.transaction(function(Ee){Gn(Ee,_e,"SELECT * FROM "+_e.storeName+" WHERE key = ? LIMIT 1",[$],function(Ie,Ce){var Pe=Ce.rows.length?Ce.rows.item(0).value:null;Pe&&(Pe=_e.serializer.deserialize(Pe)),le(Pe)},function(Ie,Ce){te(Ce)})})}).catch(te)});return v(re,Z),re}function Dr($,Z){var Y=this,re=new p(function(le,te){Y.ready().then(function(){var _e=Y._dbInfo;_e.db.transaction(function(Ee){Gn(Ee,_e,"SELECT * FROM "+_e.storeName,[],function(Ie,Ce){for(var Pe=Ce.rows,We=Pe.length,wt=0;wt<We;wt++){var Ft=Pe.item(wt),tn=Ft.value;if(tn&&(tn=_e.serializer.deserialize(tn)),tn=$(tn,Ft.key,wt+1),tn!==void 0){le(tn);return}}le()},function(Ie,Ce){te(Ce)})})}).catch(te)});return v(re,Z),re}function Lt($,Z,Y,re){var le=this;$=b($);var te=new p(function(_e,Ee){le.ready().then(function(){Z===void 0&&(Z=null);var Ie=Z,Ce=le._dbInfo;Ce.serializer.serialize(Z,function(Pe,We){We?Ee(We):Ce.db.transaction(function(wt){Gn(wt,Ce,"INSERT OR REPLACE INTO "+Ce.storeName+" (key, value) VALUES (?, ?)",[$,Pe],function(){_e(Ie)},function(Ft,tn){Ee(tn)})},function(wt){if(wt.code===wt.QUOTA_ERR){if(re>0){_e(Lt.apply(le,[$,Ie,Y,re-1]));return}Ee(wt)}})})}).catch(Ee)});return v(te,Y),te}function Tn($,Z,Y){return Lt.apply(this,[$,Z,Y,1])}function Je($,Z){var Y=this;$=b($);var re=new p(function(le,te){Y.ready().then(function(){var _e=Y._dbInfo;_e.db.transaction(function(Ee){Gn(Ee,_e,"DELETE FROM "+_e.storeName+" WHERE key = ?",[$],function(){le()},function(Ie,Ce){te(Ce)})})}).catch(te)});return v(re,Z),re}function kt($){var Z=this,Y=new p(function(re,le){Z.ready().then(function(){var te=Z._dbInfo;te.db.transaction(function(_e){Gn(_e,te,"DELETE FROM "+te.storeName,[],function(){re()},function(Ee,Ie){le(Ie)})})}).catch(le)});return v(Y,$),Y}function hr($){var Z=this,Y=new p(function(re,le){Z.ready().then(function(){var te=Z._dbInfo;te.db.transaction(function(_e){Gn(_e,te,"SELECT COUNT(key) as c FROM "+te.storeName,[],function(Ee,Ie){var Ce=Ie.rows.item(0).c;re(Ce)},function(Ee,Ie){le(Ie)})})}).catch(le)});return v(Y,$),Y}function ai($,Z){var Y=this,re=new p(function(le,te){Y.ready().then(function(){var _e=Y._dbInfo;_e.db.transaction(function(Ee){Gn(Ee,_e,"SELECT key FROM "+_e.storeName+" WHERE id = ? LIMIT 1",[$+1],function(Ie,Ce){var Pe=Ce.rows.length?Ce.rows.item(0).key:null;le(Pe)},function(Ie,Ce){te(Ce)})})}).catch(te)});return v(re,Z),re}function Le($){var Z=this,Y=new p(function(re,le){Z.ready().then(function(){var te=Z._dbInfo;te.db.transaction(function(_e){Gn(_e,te,"SELECT key FROM "+te.storeName,[],function(Ee,Ie){for(var Ce=[],Pe=0;Pe<Ie.rows.length;Pe++)Ce.push(Ie.rows.item(Pe).key);re(Ce)},function(Ee,Ie){le(Ie)})})}).catch(le)});return v(Y,$),Y}function it($){return new p(function(Z,Y){$.transaction(function(re){re.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(le,te){for(var _e=[],Ee=0;Ee<te.rows.length;Ee++)_e.push(te.rows.item(Ee).name);Z({db:$,storeNames:_e})},function(le,te){Y(te)})},function(re){Y(re)})})}function ht($,Z){Z=_.apply(this,arguments);var Y=this.config();$=typeof $!="function"&&$||{},$.name||($.name=$.name||Y.name,$.storeName=$.storeName||Y.storeName);var re=this,le;return $.name?le=new p(function(te){var _e;$.name===Y.name?_e=re._dbInfo.db:_e=openDatabase($.name,"","",0),$.storeName?te({db:_e,storeNames:[$.storeName]}):te(it(_e))}).then(function(te){return new p(function(_e,Ee){te.db.transaction(function(Ie){function Ce(Ft){return new p(function(tn,Wn){Ie.executeSql("DROP TABLE IF EXISTS "+Ft,[],function(){tn()},function(mn,Vi){Wn(Vi)})})}for(var Pe=[],We=0,wt=te.storeNames.length;We<wt;We++)Pe.push(Ce(te.storeNames[We]));p.all(Pe).then(function(){_e()}).catch(function(Ft){Ee(Ft)})},function(Ie){Ee(Ie)})})}):le=p.reject("Invalid arguments"),v(le,Z),le}var Yn={_driver:"webSQLStorage",_initStorage:Vr,_support:De(),iterate:Dr,getItem:qr,setItem:Tn,removeItem:Je,clear:kt,length:hr,key:ai,keys:Le,dropInstance:ht};function pr(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function li($,Z){var Y=$.name+"/";return $.storeName!==Z.storeName&&(Y+=$.storeName+"/"),Y}function bi(){var $="_localforage_support_test";try{return localStorage.setItem($,!0),localStorage.removeItem($),!1}catch{return!0}}function Mr(){return!bi()||localStorage.length>0}function Kn($){var Z=this,Y={};if($)for(var re in $)Y[re]=$[re];return Y.keyPrefix=li($,Z._defaultConfig),Mr()?(Z._dbInfo=Y,Y.serializer=mt,p.resolve()):p.reject()}function St($){var Z=this,Y=Z.ready().then(function(){for(var re=Z._dbInfo.keyPrefix,le=localStorage.length-1;le>=0;le--){var te=localStorage.key(le);te.indexOf(re)===0&&localStorage.removeItem(te)}});return v(Y,$),Y}function tr($,Z){var Y=this;$=b($);var re=Y.ready().then(function(){var le=Y._dbInfo,te=localStorage.getItem(le.keyPrefix+$);return te&&(te=le.serializer.deserialize(te)),te});return v(re,Z),re}function mo($,Z){var Y=this,re=Y.ready().then(function(){for(var le=Y._dbInfo,te=le.keyPrefix,_e=te.length,Ee=localStorage.length,Ie=1,Ce=0;Ce<Ee;Ce++){var Pe=localStorage.key(Ce);if(Pe.indexOf(te)===0){var We=localStorage.getItem(Pe);if(We&&(We=le.serializer.deserialize(We)),We=$(We,Pe.substring(_e),Ie++),We!==void 0)return We}}});return v(re,Z),re}function Ba($,Z){var Y=this,re=Y.ready().then(function(){var le=Y._dbInfo,te;try{te=localStorage.key($)}catch{te=null}return te&&(te=te.substring(le.keyPrefix.length)),te});return v(re,Z),re}function hu($){var Z=this,Y=Z.ready().then(function(){for(var re=Z._dbInfo,le=localStorage.length,te=[],_e=0;_e<le;_e++){var Ee=localStorage.key(_e);Ee.indexOf(re.keyPrefix)===0&&te.push(Ee.substring(re.keyPrefix.length))}return te});return v(Y,$),Y}function pu($){var Z=this,Y=Z.keys().then(function(re){return re.length});return v(Y,$),Y}function Ll($,Z){var Y=this;$=b($);var re=Y.ready().then(function(){var le=Y._dbInfo;localStorage.removeItem(le.keyPrefix+$)});return v(re,Z),re}function Qt($,Z,Y){var re=this;$=b($);var le=re.ready().then(function(){Z===void 0&&(Z=null);var te=Z;return new p(function(_e,Ee){var Ie=re._dbInfo;Ie.serializer.serialize(Z,function(Ce,Pe){if(Pe)Ee(Pe);else try{localStorage.setItem(Ie.keyPrefix+$,Ce),_e(te)}catch(We){(We.name==="QuotaExceededError"||We.name==="NS_ERROR_DOM_QUOTA_REACHED")&&Ee(We),Ee(We)}})})});return v(le,Y),le}function _i($,Z){if(Z=_.apply(this,arguments),$=typeof $!="function"&&$||{},!$.name){var Y=this.config();$.name=$.name||Y.name,$.storeName=$.storeName||Y.storeName}var re=this,le;return $.name?le=new p(function(te){$.storeName?te(li($,re._defaultConfig)):te($.name+"/")}).then(function(te){for(var _e=localStorage.length-1;_e>=0;_e--){var Ee=localStorage.key(_e);Ee.indexOf(te)===0&&localStorage.removeItem(Ee)}}):le=p.reject("Invalid arguments"),v(le,Z),le}var Ki={_driver:"localStorageWrapper",_initStorage:Kn,_support:pr(),iterate:mo,getItem:tr,setItem:Qt,removeItem:Ll,clear:St,length:pu,key:Ba,keys:hu,dropInstance:_i},Pi=function(Z,Y){return Z===Y||typeof Z=="number"&&typeof Y=="number"&&isNaN(Z)&&isNaN(Y)},Lo=function(Z,Y){for(var re=Z.length,le=0;le<re;){if(Pi(Z[le],Y))return!0;le++}return!1},Wi=Array.isArray||function($){return Object.prototype.toString.call($)==="[object Array]"},Fn={},Sf={},Fo={INDEXEDDB:$e,WEBSQL:Yn,LOCALSTORAGE:Ki},zo=[Fo.INDEXEDDB._driver,Fo.WEBSQL._driver,Fo.LOCALSTORAGE._driver],Ws=["dropInstance"],Qi=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Ws),rA={description:"",driver:zo.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function dg($,Z){$[Z]=function(){var Y=arguments;return $.ready().then(function(){return $[Z].apply($,Y)})}}function gu(){for(var $=1;$<arguments.length;$++){var Z=arguments[$];if(Z)for(var Y in Z)Z.hasOwnProperty(Y)&&(Wi(Z[Y])?arguments[0][Y]=Z[Y].slice():arguments[0][Y]=Z[Y])}return arguments[0]}var iA=function(){function $(Z){l(this,$);for(var Y in Fo)if(Fo.hasOwnProperty(Y)){var re=Fo[Y],le=re._driver;this[Y]=le,Fn[le]||this.defineDriver(re)}this._defaultConfig=gu({},rA),this._config=gu({},this._defaultConfig,Z),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return $.prototype.config=function(Y){if((typeof Y>"u"?"undefined":s(Y))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var re in Y){if(re==="storeName"&&(Y[re]=Y[re].replace(/\W/g,"_")),re==="version"&&typeof Y[re]!="number")return new Error("Database version must be a number.");this._config[re]=Y[re]}return"driver"in Y&&Y.driver?this.setDriver(this._config.driver):!0}else return typeof Y=="string"?this._config[Y]:this._config},$.prototype.defineDriver=function(Y,re,le){var te=new p(function(_e,Ee){try{var Ie=Y._driver,Ce=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!Y._driver){Ee(Ce);return}for(var Pe=Qi.concat("_initStorage"),We=0,wt=Pe.length;We<wt;We++){var Ft=Pe[We],tn=!Lo(Ws,Ft);if((tn||Y[Ft])&&typeof Y[Ft]!="function"){Ee(Ce);return}}var Wn=function(){for(var Na=function(yu){return function(){var Ef=new Error("Method "+yu+" is not implemented by the current driver"),Au=p.reject(Ef);return v(Au,arguments[arguments.length-1]),Au}},vu=0,xf=Ws.length;vu<xf;vu++){var wf=Ws[vu];Y[wf]||(Y[wf]=Na(wf))}};Wn();var mn=function(Na){Fn[Ie]&&console.info("Redefining LocalForage driver: "+Ie),Fn[Ie]=Y,Sf[Ie]=Na,_e()};"_support"in Y?Y._support&&typeof Y._support=="function"?Y._support().then(mn,Ee):mn(!!Y._support):mn(!0)}catch(Vi){Ee(Vi)}});return y(te,re,le),te},$.prototype.driver=function(){return this._driver||null},$.prototype.getDriver=function(Y,re,le){var te=Fn[Y]?p.resolve(Fn[Y]):p.reject(new Error("Driver not found."));return y(te,re,le),te},$.prototype.getSerializer=function(Y){var re=p.resolve(mt);return y(re,Y),re},$.prototype.ready=function(Y){var re=this,le=re._driverSet.then(function(){return re._ready===null&&(re._ready=re._initDriver()),re._ready});return y(le,Y,Y),le},$.prototype.setDriver=function(Y,re,le){var te=this;Wi(Y)||(Y=[Y]);var _e=this._getSupportedDrivers(Y);function Ee(){te._config.driver=te.driver()}function Ie(We){return te._extend(We),Ee(),te._ready=te._initStorage(te._config),te._ready}function Ce(We){return function(){var wt=0;function Ft(){for(;wt<We.length;){var tn=We[wt];return wt++,te._dbInfo=null,te._ready=null,te.getDriver(tn).then(Ie).catch(Ft)}Ee();var Wn=new Error("No available storage method found.");return te._driverSet=p.reject(Wn),te._driverSet}return Ft()}}var Pe=this._driverSet!==null?this._driverSet.catch(function(){return p.resolve()}):p.resolve();return this._driverSet=Pe.then(function(){var We=_e[0];return te._dbInfo=null,te._ready=null,te.getDriver(We).then(function(wt){te._driver=wt._driver,Ee(),te._wrapLibraryMethodsWithReady(),te._initDriver=Ce(_e)})}).catch(function(){Ee();var We=new Error("No available storage method found.");return te._driverSet=p.reject(We),te._driverSet}),y(this._driverSet,re,le),this._driverSet},$.prototype.supports=function(Y){return!!Sf[Y]},$.prototype._extend=function(Y){gu(this,Y)},$.prototype._getSupportedDrivers=function(Y){for(var re=[],le=0,te=Y.length;le<te;le++){var _e=Y[le];this.supports(_e)&&re.push(_e)}return re},$.prototype._wrapLibraryMethodsWithReady=function(){for(var Y=0,re=Qi.length;Y<re;Y++)dg(this,Qi[Y])},$.prototype.createInstance=function(Y){return new $(Y)},$}(),mu=new iA;r.exports=mu},{3:3}]},{},[4])(4)})}(I1)),I1.exports}var sX=iX();const sp=Pr(sX),pD=Object.freeze(Object.defineProperty({__proto__:null,default:sp},Symbol.toStringTag,{value:"Module"}));let Th=null;async function _v(){if(!Th)if("localStorage"in globalThis)try{Th=df(async()=>{const{default:e}=await Promise.resolve().then(()=>pD);return{default:e}},void 0).then(({default:e})=>e.createInstance({name:"localforage"}))}catch(e){console.error(e),Th=Promise.resolve(st.memory)}else Th=Promise.resolve(st.memory);return Th}const qd=e=>fs.generateSongFile(e),gD=async e=>{var n;const t=qd(e);return await((n=await _v())==null?void 0:n.getItem(t))||{plays:0,scores:[]}},mD=async(e,t)=>{var n;await((n=await _v())==null?void 0:n.setItem(qd(e),t))},oX=async()=>{var n;const e=await((n=await _v())==null?void 0:n.keys())??[],t={};return await Promise.all(e.map(async r=>{var i;t[r]=await((i=await _v())==null?void 0:i.getItem(r))})),t};me.songEnded.subscribe(async(e,t,n,r)=>{if(n.every(l=>l.score===0))return;let i=await(sp==null?void 0:sp.getItem(qd(e)));const s={setup:t,scores:n,date:new Date().toISOString(),progress:r};i?(i.scores=[...(i==null?void 0:i.scores)??[],s],i.plays=i.scores.length):i={plays:1,scores:[s]},await mD(e,i),me.songStatStored.dispatch(qd(e),i)});const Gd="session-player-names",aX="previous-player-names";function lX(e){return e!=null}me.songStarted.subscribe((e,t)=>{let n=JSON.parse(st.session.getItem(Gd))||[];const r=t.players.map(({number:s})=>tt.getPlayer(s)).filter(lX).map(s=>s.getName().trim()),i=[...n].concat(...r);n=[...new Set(i)].filter(Boolean),st.session.setItem(Gd,JSON.stringify(n)),st.session.setItem(aX,JSON.stringify(r))});me.songScoreUpdated.subscribe((e,t,n)=>{let r=JSON.parse(st.session.getItem(Gd))||[];const i=[...r].concat(n);r=[...new Set(i)].filter(Boolean),st.session.setItem(Gd,JSON.stringify(r))});function cX(e,t){const n=t<0?e.length+t:t;return e[n]}[].at||(Array.prototype.at=function(e){return cX(this,e)});[].findLastIndex||(Array.prototype.findLastIndex=function(e,t){for(let n=this.length-1;n>=0;n--)if(e.call(t,this[n],n,this))return n;return-1});var uX="Expected a function";function kd(e,t,n){var r=!0,i=!0;if(typeof e!="function")throw new TypeError(uX);return ho(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),D4(e,t,{leading:r,maxWait:t,trailing:i})}class dX extends Ys{constructor(){super(...arguments),this.stream=null,this.context=null,this.interval=null,this.frequencies=[0,0],this.volumes=[0,0],this.startedMonitoring=!1,this.startMonitoring=async t=>{if(!this.startedMonitoring){this.startedMonitoring=!0;try{this.stream=await Sl.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!1},video:!1});try{this.context=new AudioContext;const n=this.context.createMediaStreamSource(this.stream),r=this.context.createAnalyser();r.fftSize=2048,r.minDecibels=-100,n.connect(r);const i=new j4;await i.init(this.context,r.fftSize),this.interval=setInterval(async()=>{const s=new Float32Array(r.fftSize);r.getFloatTimeDomainData(s);const l=await i.getFrequency(s),c=this.calculateVolume(s);this.frequencies=[l,l],this.volumes=[c,c],this.onUpdate(l,c)},this.context.sampleRate/r.fftSize),me.micMonitoringStarted.dispatch()}catch(n){fo(n),console.error(n)}}catch(n){n.name!=="NotAllowedError"&&fo(n,{level:"warning",extra:{message:"SimplifiedMic.startMonitoring"}}),console.warn(n)}}},this.getFrequencies=()=>this.frequencies,this.getVolumes=()=>this.volumes,this.clearFrequencies=t=>{},this.stopMonitoring=async()=>{var t,n;if(this.startedMonitoring){this.startedMonitoring=!1,this.interval&&clearInterval(this.interval),(t=this.stream)==null||t.getTracks().forEach(function(r){r.stop()});try{await((n=this.context)==null?void 0:n.close())}catch(r){console.log("MicInput.stoMonitoring error",r)}me.micMonitoringStopped.dispatch()}},this.getInputLag=()=>180,this.requestReadiness=()=>Promise.resolve(!0),this.getStatus=()=>"ok"}calculateVolume(t){let n,r=0;for(n=0;n<t.length;++n)r+=t[n]*t[n];return Math.sqrt(r/t.length)}}const ro=new dX;class fX extends Ys{constructor(){super(...arguments),this.connection=null,this.roomId=null,this.isConnected=()=>{var t;return(((t=this.connection)==null?void 0:t.readyState)??1/0)<2},this.close=()=>{var t;(t=this.connection)==null||t.close()}}connect(t,n,r,i,s){this.roomId=n,this.connection=new WebSocket(`${$4}/party/${n}`),this.connection.binaryType="arraybuffer",this.connection.onopen=()=>{var l;(l=this.connection)==null||l.send(Fs({t:"register-player",id:t,roomId:n}))},this.connection.onmessage=l=>{const c=ef(l.data);c.t==="forward"?this.onUpdate(c.payload):c.t==="connected"&&r()},this.connection.onclose=l=>{var d;let c="unknown";try{c=(d=JSON.parse(l.reason))==null?void 0:d.error}catch{console.info("could not parse close reason",l)}this.clearAllListeners(),i(c,l)},this.connection.onerror=l=>{this.clearAllListeners(),s("error",l)}}sendEvent(t){var n,r;((n=this.connection)==null?void 0:n.readyState)===WebSocket.OPEN&&((r=this.connection)==null||r.send(Fs({t:"forward",recipients:[this.roomId],payload:t})))}}class hX extends Ys{constructor(){super(...arguments),this.peer=null,this.connection=null,this.unavailableIdRetries=0,this.unavailableIdRetryTimeout=null,this.connectToRoom=(t,n,r)=>{var i;this.connection=this.peer.connect(`allkaraoke-party-room-${t}`),this.connection.on("open",()=>{n()}),this.connection.on("close",()=>r("closed",null)),(i=this.connection)==null||i.on("data",s=>{console.log(s),this.onUpdate(s)})},this.isConnected=()=>{var t,n;return!!((t=this.connection)!=null&&t.open)&&!((n=this.peer)!=null&&n.disconnected)},this.close=()=>{var t;(t=this.connection)==null||t.close()}}connect(t,n,r,i,s){this.peer&&!this.peer.disconnected?this.connectToRoom(n,r,i):(this.peer=new yy(t,{...U4,debug:3}),this.peer.on("open",()=>{this.connectToRoom(n,r,i)}),this.peer.on("error",l=>{var c,d;l.type==="unavailable-id"&&this.unavailableIdRetries<3&&this.unavailableIdRetryTimeout===null?((d=(c=this.peer)==null?void 0:c.destroy)==null||d.call(c),this.unavailableIdRetryTimeout=setTimeout(()=>{this.unavailableIdRetryTimeout=null,this.unavailableIdRetries++,this.connect(t,n,r,i,s)},1750)):(this.unavailableIdRetries=0,console.error(l.type,l),i(l.type,l))}))}sendEvent(t){var n;(n=this.connection)==null||n.send(t)}}class pX extends Ys{constructor(){super(...arguments),this.connection=null,this.roomId=null,this.isConnected=()=>{var t;return(((t=this.connection)==null?void 0:t.readyState)??1/0)<2},this.close=()=>{var t;(t=this.connection)==null||t.close()}}connect(t,n,r,i,s){this.roomId=n,this.connection=new WebSocket(Q4),this.connection.binaryType="arraybuffer",this.connection.onopen=()=>{var l;(l=this.connection)==null||l.send(Fs({t:"register-player",id:t,roomId:n}))},this.connection.onmessage=l=>{const c=ef(l.data);c.t==="forward"?this.onUpdate(c.payload):c.t==="connected"&&r()},this.connection.onclose=l=>{var d;let c="unknown";try{c=(d=JSON.parse(l.reason))==null?void 0:d.error}catch{console.info("could not parse close reason",l)}this.clearAllListeners(),i(c,l)},this.connection.onerror=l=>{this.clearAllListeners(),s("error",l)}}sendEvent(t){var n;(n=this.connection)==null||n.send(Fs({t:"forward",recipients:[this.roomId],payload:t}))}}const U5=(e,t)=>{if(e===0)return 0;const n=Math.pow(10,t);return Math.round(e*n)/n};let $m;const gX=new Uint8Array(16);function mX(){if(!$m&&($m=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!$m))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return $m(gX)}const Jr=[];for(let e=0;e<256;++e)Jr.push((e+256).toString(16).slice(1));function vX(e,t=0){return Jr[e[t+0]]+Jr[e[t+1]]+Jr[e[t+2]]+Jr[e[t+3]]+"-"+Jr[e[t+4]]+Jr[e[t+5]]+"-"+Jr[e[t+6]]+Jr[e[t+7]]+"-"+Jr[e[t+8]]+Jr[e[t+9]]+"-"+Jr[e[t+10]]+Jr[e[t+11]]+Jr[e[t+12]]+Jr[e[t+13]]+Jr[e[t+14]]+Jr[e[t+15]]}const yX=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),H5={randomUUID:yX};function Sv(e,t,n){if(H5.randomUUID&&!t&&!e)return H5.randomUUID();e=e||{};const r=e.random||(e.rng||mX)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,vX(r)}const ux="MIC_CLIENT_ID",sa={};class AX{constructor(){this.clientId=st.getItem(ux),this.roomId=null,this.reconnecting=!1,this.connected=!1,this.frequencies=[],this.sendFrequencies=kd(t=>{const n=this.frequencies.map(r=>U5(r,2));this.frequencies.length=0,this.sendEvent("freq",[n,U5(t,4)])},50),this.onFrequencyUpdate=kd((t,n)=>{this.frequencies.push(t),this.sendFrequencies(n)},1e3/60),this.getClientId=()=>this.clientId,this.setClientId=t=>{this.clientId=t,st.setItem(ux,t)},this.connect=(t,n,r)=>{const i=t.toLowerCase();if(this.transport||(this.transport=i.startsWith("w")?new pX:i.startsWith("k")?new fX:new hX),this.clientId===null&&this.setClientId(Sv()),this.roomId=i,this.transport.isConnected()){console.log("not reconnecting",this.transport);return}this.reconnecting||me.karaokeConnectionStatusChange.dispatch("connecting"),this.transport.connect(this.clientId,this.roomId,()=>{this.connectToServer(i,n,r)},(s,l)=>{var c;if(s==="unavailable-id"){this.setClientId(Sv()),this.connect(i,n,r);return}global.removeEventListener("beforeunload",this.disconnect),this.reconnecting?me.karaokeConnectionStatusChange.dispatch("reconnecting"):this.connected?me.karaokeConnectionStatusChange.dispatch("disconnected"):(me.karaokeConnectionStatusChange.dispatch("error",s),er.capture("remote_mic_connection_error",{reason:s,transport:(c=this.roomId)==null?void 0:c.charAt(0)})),me.remoteMicPlayerSet.dispatch(null),me.remoteKeyboardLayout.dispatch(void 0),ro.removeListener(this.onFrequencyUpdate),ro.stopMonitoring(),s!=="player-removed"&&!this.reconnecting&&this.connected&&(this.reconnecting=!0,setTimeout(()=>this.reconnect(i,n),1500)),this.connected=!1},console.warn)},this.latency=999,this.pingStart=Ri(),this.pinging=!1,this.ping=()=>{this.pinging=!0,this.pingStart=Ri(),this.sendEvent("ping",{p:this.pingStart})},this.reportPing=kd(t=>er.capture("remote_mic_ping",{ping:t}),6e4),this.onPong=()=>{this.latency=Ri()-this.pingStart,this.pinging=!1,this.reportPing(this.latency),setTimeout(this.ping,2e3)},this.connectToServer=(t,n,r)=>{var i;this.connected=!0,this.reconnecting=!1,me.karaokeConnectionStatusChange.dispatch("connected"),er.capture("remote_mic_connection_successful",{transport:(i=this.roomId)==null?void 0:i.charAt(0)}),this.sendEvent("register",{name:n,id:this.clientId,silent:r,lag:gV.get()}),this.ping(),global==null||global.addEventListener("beforeunload",this.disconnect),this.transport.addListener(s=>{var c,d;const l=s.t;l==="start-monitor"?(ro.removeListener(this.onFrequencyUpdate),ro.addListener(this.onFrequencyUpdate),ro.startMonitoring(void 0)):l==="stop-monitor"?(ro.removeListener(this.onFrequencyUpdate),ro.stopMonitoring()):l==="set-player-number"?me.remoteMicPlayerSet.dispatch(s.playerNumber):l==="keyboard-layout"?me.remoteKeyboardLayout.dispatch(s.help):l==="reload-mic"?(global.removeEventListener("beforeunload",this.disconnect),this.sendEvent("unregister"),st.session.setItem("reload-mic-request","1"),(c=document.getElementById("phone-ui-container"))==null||c.remove(),(d=global.location)==null||d.reload()):l==="request-readiness"?me.remoteReadinessRequested.dispatch():l==="pong"?this.onPong():l==="ping"?this.sendEvent("pong"):l==="set-permissions"?me.remoteMicPermissionsSet.dispatch(s.level):l==="remote-mics-list"?me.remoteMicListUpdated.dispatch(s.list):l==="style-change"&&me.remoteStyleChanged.dispatch(s.style)})},this.reconnect=(t,n)=>{this.reconnecting&&(me.karaokeConnectionStatusChange.dispatch("reconnecting"),this.connect(t,n,!1),setTimeout(()=>this.reconnect(t,n),2e3))},this.sendKeyStroke=t=>{this.sendEvent("keystroke",{key:t})},this.searchSong=t=>{this.sendEvent("search-song",{search:t})},this.sendMySongList=t=>{this.sendEvent("my-list",t)},this.selectSong=t=>{this.sendEvent("select-song",{id:t})},this.requestPlayerChange=(t,n)=>{this.sendEvent("request-mic-select",{id:t,playerNumber:n})},this.confirmReadiness=()=>{this.sendEvent("confirm-readiness")},this.subscribe=t=>{sa[t]===void 0&&(sa[t]=0),sa[t]===0&&this.sendEvent("subscribe-event",{channel:t}),sa[t]++},this.unsubscribe=t=>{sa[t]===void 0&&(sa[t]=0),sa[t]===1&&this.sendEvent("unsubscribe-event",{channel:t}),sa[t]=Math.max(0,sa[t]-1)},this.getSongList=()=>this.sendRequest({t:"request-songlist"},"songlist"),this.getGameInputLag=()=>this.sendRequest({t:"get-game-input-lag-request"},"get-game-input-lag-response"),this.setGameInputLag=t=>this.sendRequest({t:"set-game-input-lag-request",value:t},"get-game-input-lag-response"),this.getMicrophoneInputLag=()=>this.sendRequest({t:"get-microphone-lag-request"},"get-microphone-lag-response"),this.setMicrophoneInputLag=t=>this.sendRequest({t:"set-microphone-lag-request",value:t},"get-microphone-lag-response"),this.removePlayer=t=>this.sendEvent("remove-player",{id:t}),this.sendEvent=(t,n)=>{var r;(r=this.transport)!=null&&r.isConnected()?this.transport.sendEvent({t,...n}):console.debug("not connected, skipping",t,n)},this.sendRequest=({t,...n},r)=>new Promise((i,s)=>{var d;const l=setTimeout(()=>{var u;(u=this.transport)==null||u.removeListener(c),s(`${t} timed out waiting for ${r}`)},1e4),c=u=>{var h;u.t===r&&(clearTimeout(l),(h=this.transport)==null||h.removeListener(c),i(u))};(d=this.transport)==null||d.addListener(c),this.sendEvent(t,n)}),this.disconnect=()=>{var t;(t=this.transport)==null||t.close()}}}const An=new AX,bX="/assets/2020-12-16_-_Christmas_Rock_-_www.FesliyanStudios.com_Steve_Oxen-DMCunqoI.ogg",_X="/assets/376817__original_sound__impact-cinematic-CwEVHJ3C.ogg",SX="/assets/459342__papaninkasettratat__cinematic-music-short-rn-rfKrG.ogg",xX="/assets/60013__qubodup__whoosh-CRSX-bwR.mp3",wX="/assets/Funk%20Cool%20Groove%20(No%20Copyright%20Music)%20By%20Anwar%20Amr-Chfv45i1.ogg",EX="/assets/boo-and-laugh-7060-BidOOj5I.mp3",TX="/assets/croworraven1-6749-Ce48aK2E.mp3",CX="/assets/Halloween%20Cinematic%20by%20Infraction%20_No%20Copyright%20Music_%20%20Halloween%202024%20_%20ezmp3.cc%20_-C2nU6gX4.mp3",kX="/assets/halloween-impact-05-93808-BCpJmIL8.mp3",MX="/assets/scary-music-box-for-spooky-scenes-165983-BgDUokgm.mp3",RX="/assets/menu_back-CXKu2j7w.mp3",IX="data:audio/mpeg;base64,SUQzBAAAAAAAIlRTU0UAAAAOAAADTGF2ZjYwLjMuMTAwAAAAAAAAAAAAAAD/+1QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABYaW5nAAAADwAAABMAAA04AEFBQUFBZWVlZWV/f39/f5GRkZGRkZqampqaoaGhoaGoqKioqLCwsLCwsLe3t7e3vr6+vr7FxcXFxc3Nzc3NzdTU1NTU29vb29vi4uLi4urq6urq6vHx8fHx+Pj4+Pj//////wAAAABMYXZjNjAuMy4AAAAAAAAAAAAAAAAkAuUAAAAAAAANOLGcZrL/+8REAAEA/ADLaAAACh+AGY0AAAFGhC0ZtYMAKP4GYzKwkAUAFJyXj/AAAB7QAAB4eHh4YYAOM////jh4eAAAAAIw8AlNybj/AAAB/AAADw8PDwxwAAGf///5h4eAAAAAIw9hSJuIlQJTskunEz5RFv1Y2byK7n/97llcFmmyCgoMFBQUFAoKCgoMFDX////qAoKChQUFESxJ2AfoAZiMJDhIyAqTJk81xxarn/97lWmgXEJCQoUJCChQUFBQSCgoKChQUv//6YKFAoKCgwUFBQUhBQU0WgEEAFZUiUdVZ7urwsAwAAAoTmeCxjBAdkrnZm5gCuz2BTRyEx8VJUhukDsoNVBjExsWZAsIvo6ZtcOZTJhAKFQlp6a7oGrhgQ1GypacseeN5GgM7LimCHZWKo200F2pFIbcrBxGTFxgYmAAQQh6wspcVlNfLCxvO2HAzIQgDZSzJWt9XFnYFf27////7/0ko32xTymMyqLclUq8QECiT3+7//+laf///9uMHyGvGu2u2so2EgAAAAADIAEGFguPUQDJhoMKHjtm/ExnBISAuP5tq7A0VjIBuAgFjyzu0ITEAhWvB/0sPUTU5MzMnhocNpDqll1v/GBSiOTAAAWq/agAGAMGDkG2YBxmZlUXgGO2D0YAgS4cGyYBIAoNAqIQNjBRA4BAFZgOABuLCYbR9W0P1ijMzWyHU3rL3T2m1K3RtqSLDrfcC31jHuH9r6RUOFIwt0G+T2Y9yNS/FrmLTOcX1qpRxdapf/+f4gPaOLN2fYACixdruAAAHzMDQmBJhGTdzmMADioJDwTNcGAFKgEmAwApvBgDS6/hLpkYzDFewH6hgRt+3pCrr5/3651XUGvoTGe1AAACh1ZV5WQADAgMzFkSzVCXT2T/+6Rk5IAFRzBLfm9kgFGDij/NsCRO4MEnXeeAIQ0NZLe68ATIzWYcjI0FQUTAYG4GARMBYUYAQQoAsBHktFznLy0sSlohrcySM0V97trfW6mUEZ4r3G0Su6apFIYlLPRjDC0HKnNGDPCbCtAP2eeEAA3ZmhL+AAAG5JEGTcHdpB80aHvkDv0YiAhA2mHHOna1doX/uZ6qnnDUzTgKUABohnh230QAAMbEBQnNCETYME2cNbMBjy7BqoGICdqx1SsFklW0zpKswQnCikdnsJ4tsbhp/ASpfR1JaY61CrDJgx/F3EWoNSoEVBqRvuTG5yhcItANgUThn9//+tgCHmIeH3wBoCkKCxgISgSstpAzImgHGYaQ6AVraQgJgaXZN2SAGyriKC3mDpVtvoo5FXA4mYiIj/aAABUhpCZgEAUnGtWKCEAZ/BEFQDhceXTMw8yUktRRlhhbRJYUkSpDzpdNaErxzPiWxVMqtHMxstZL1/1froSdU2dnUSBCnAUUTDiw2FdX+MCo0MrMuDAAAE84aw5jGXtZrP0+3AGAJVVUyjYENrIhERZuDyP8PUISzy7xH/4MlwUJsBBcI7GR4DyaWF6iCwni4hbZmGQWTQIi6L3h+abmhZzs1OZ7gOu0RcL/+4Rk6AAS+iLI+68a+C5DOV9rAxlLuHch7eXlYMgNZP2WFVzAmUIpCmxCchkYSLdCTM0X2sVgAjJ+gEAnQkJe1v9aZjJCCJfFH1YIagNfLtAJODmCQtYaPzBF//yVIIAAAUHjJAVCHeXwjlgBxVOjKgO1ddIsKHgBBT1MQU1FMy4xMDBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVAAABzCFdZkkAAAsCDOBkGYUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVQ0kMkxBTUUzLjEwMKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqoZVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+2Rk7wEStyFJ+08a+icCKR9h4ycGxGkp7CSn6HKE4u2GCJRVVVVVVVVVVVVVVVVVVVVVSUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVSUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjH/+yRk7Idw1QbEowxBAA1AyIgl4wMBUA0PBWMAIBUBolQUmAYwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk6g9wQAJDKU8ACARASJUEQAEAXAsOA4wgIAaAYgAQAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4w/wDwDEAMAACAAAD/AAAAEAGAMUAQAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4o/wBgDEgEAACAAAD/AAAAEADAMaAIAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4g/wAwDGACAACAAAD/AAAAEADAMWAIAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4g/wAwDFgCAACAAAD/AAAAEADAMUAIAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRE4Y/wAAB/gAAACAAAD/AAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRE4Y/wAAB/gAAACAAAD/AAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRE4Y/wAAB/gAAACAAAD/AAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4Y/wAAB/gAAACAAAD/AAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4Y/wAAB/gAAACAAAD/AAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4Y/wAAB/gAAACAAADSAAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4Y/wAAB/gAAACAAAD/AAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4Y/wAAB/gAAACAAAD/AAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4Y/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVU=",OX="/assets/menu_navigate-C6GUIZQM.mp3";class cs{constructor(t){this.options=t,this.sound=null,this.play=async(n=!0)=>{var r,i;try{if(n&&this.playing()){const s=(r=this.sound)==null?void 0:r.cloneNode(!0);await s.play(),s.remove()}else await((i=this.sound)==null?void 0:i.play())}catch(s){return console.warn(s)}},this.pause=()=>{var n;(n=this.sound)==null||n.pause()},this.stop=()=>{this.sound&&(this.sound.pause(),this.sound.currentTime=0)},this.playing=()=>{var n;return!((n=this.sound)!=null&&n.paused)},global.Audio&&(this.sound=new Audio(t.src),this.sound.preload=t.preload?"auto":"none",this.sound.volume=t.volume??1,this.sound.loop=t.loop??!1)}}class wy{constructor(t,n){this.defaultSound=t,this.themeOverrides=n,this.getProperSound=()=>{var i;const r=Bp.get();return((i=this.themeOverrides)==null?void 0:i[r])??this.defaultSound},this.play=async(r=!0)=>this.getProperSound().play(r),this.pause=()=>this.getProperSound().pause(),this.stop=()=>this.getProperSound().stop(),this.playing=()=>this.getProperSound().playing()}}const Ey=new cs({src:OX}),Gw=new cs({src:IX}),Yw=new cs({src:RX}),Kw=new wy(new cs({src:xX,preload:!0,volume:.5}),{halloween:new cs({src:TX,preload:!0,volume:.7})}),I0=new wy(new cs({src:wX,volume:.3,loop:!0}),{christmas:new cs({src:bX,volume:.25,loop:!0}),halloween:new cs({src:CX,volume:.3,loop:!0})}),vD=new wy(new cs({src:_X,preload:!0}),{halloween:new cs({src:EX,preload:!0,volume:.4})}),O0=new wy(new cs({src:SX,volume:.8}),{halloween:new cs({src:MX,volume:.2})}),jX=new cs({src:kX,preload:!0,volume:.5}),PX=Object.freeze(Object.defineProperty({__proto__:null,backgroundMusic:I0,menuBack:Yw,menuEnter:Gw,menuNavigate:Ey,selectHalloweenSong:jX,waitFinished:vD,waitForReadinessMusic:O0,woosh:Kw},Symbol.toStringTag,{value:"Module"})),VX={RemoteMicClient:An,RemoteMicServer:Ic,GameState:at,GameEvents:me,RemoteMicManager:Vt,SongDao:fs,InputManager:ur,InputSourceManager:Po,CameraManager:zi,UserMediaService:Sl,PlayersManager:tt,SoundManager:PX,importSongs:async()=>{await(await df(()=>import("./importSongsFromPostHog-C1zBN4CQ.js"),[])).default()}};global.__exposeSingletons=()=>{global.__singletons=VX};console.log("Run global.__exposeSingletons() and inspect global.__singletons for debugging");var DX=!1;function BX(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function NX(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var LX=function(){function e(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!DX:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(NX(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=BX(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},e}(),di="-ms-",xv="-moz-",an="-webkit-",yD="comm",Ww="rule",Qw="decl",FX="@import",AD="@keyframes",zX="@layer",$X=Math.abs,Ty=String.fromCharCode,UX=Object.assign;function HX(e,t){return ni(e,0)^45?(((t<<2^ni(e,0))<<2^ni(e,1))<<2^ni(e,2))<<2^ni(e,3):0}function bD(e){return e.trim()}function qX(e,t){return(e=t.exec(e))?e[0]:e}function ln(e,t,n){return e.replace(t,n)}function dx(e,t){return e.indexOf(t)}function ni(e,t){return e.charCodeAt(t)|0}function Ep(e,t,n){return e.slice(t,n)}function wo(e){return e.length}function Xw(e){return e.length}function Um(e,t){return t.push(e),e}function GX(e,t){return e.map(t).join("")}var Cy=1,Yd=1,_D=0,Yi=0,kr=0,hf="";function ky(e,t,n,r,i,s,l){return{value:e,root:t,parent:n,type:r,props:i,children:s,line:Cy,column:Yd,length:l,return:""}}function Ch(e,t){return UX(ky("",null,null,"",null,null,0),e,{length:-e.length},t)}function YX(){return kr}function KX(){return kr=Yi>0?ni(hf,--Yi):0,Yd--,kr===10&&(Yd=1,Cy--),kr}function us(){return kr=Yi<_D?ni(hf,Yi++):0,Yd++,kr===10&&(Yd=1,Cy++),kr}function Oo(){return ni(hf,Yi)}function j0(){return Yi}function Yp(e,t){return Ep(hf,e,t)}function Tp(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function SD(e){return Cy=Yd=1,_D=wo(hf=e),Yi=0,[]}function xD(e){return hf="",e}function P0(e){return bD(Yp(Yi-1,fx(e===91?e+2:e===40?e+1:e)))}function WX(e){for(;(kr=Oo())&&kr<33;)us();return Tp(e)>2||Tp(kr)>3?"":" "}function QX(e,t){for(;--t&&us()&&!(kr<48||kr>102||kr>57&&kr<65||kr>70&&kr<97););return Yp(e,j0()+(t<6&&Oo()==32&&us()==32))}function fx(e){for(;us();)switch(kr){case e:return Yi;case 34:case 39:e!==34&&e!==39&&fx(kr);break;case 40:e===41&&fx(e);break;case 92:us();break}return Yi}function XX(e,t){for(;us()&&e+kr!==57;)if(e+kr===84&&Oo()===47)break;return"/*"+Yp(t,Yi-1)+"*"+Ty(e===47?e:us())}function JX(e){for(;!Tp(Oo());)us();return Yp(e,Yi)}function ZX(e){return xD(V0("",null,null,null,[""],e=SD(e),0,[0],e))}function V0(e,t,n,r,i,s,l,c,d){for(var u=0,h=0,p=l,v=0,y=0,b=0,_=1,w=1,T=1,k=0,R="",M=i,E=s,O=r,j=R;w;)switch(b=k,k=us()){case 40:if(b!=108&&ni(j,p-1)==58){dx(j+=ln(P0(k),"&","&\f"),"&\f")!=-1&&(T=-1);break}case 34:case 39:case 91:j+=P0(k);break;case 9:case 10:case 13:case 32:j+=WX(b);break;case 92:j+=QX(j0()-1,7);continue;case 47:switch(Oo()){case 42:case 47:Um(eJ(XX(us(),j0()),t,n),d);break;default:j+="/"}break;case 123*_:c[u++]=wo(j)*T;case 125*_:case 59:case 0:switch(k){case 0:case 125:w=0;case 59+h:T==-1&&(j=ln(j,/\f/g,"")),y>0&&wo(j)-p&&Um(y>32?G5(j+";",r,n,p-1):G5(ln(j," ","")+";",r,n,p-2),d);break;case 59:j+=";";default:if(Um(O=q5(j,t,n,u,h,i,c,R,M=[],E=[],p),s),k===123)if(h===0)V0(j,t,O,O,M,s,p,c,E);else switch(v===99&&ni(j,3)===110?100:v){case 100:case 108:case 109:case 115:V0(e,O,O,r&&Um(q5(e,O,O,0,0,i,c,R,i,M=[],p),E),i,E,p,c,r?M:E);break;default:V0(j,O,O,O,[""],E,0,c,E)}}u=h=y=0,_=T=1,R=j="",p=l;break;case 58:p=1+wo(j),y=b;default:if(_<1){if(k==123)--_;else if(k==125&&_++==0&&KX()==125)continue}switch(j+=Ty(k),k*_){case 38:T=h>0?1:(j+="\f",-1);break;case 44:c[u++]=(wo(j)-1)*T,T=1;break;case 64:Oo()===45&&(j+=P0(us())),v=Oo(),h=p=wo(R=j+=JX(j0())),k++;break;case 45:b===45&&wo(j)==2&&(_=0)}}return s}function q5(e,t,n,r,i,s,l,c,d,u,h){for(var p=i-1,v=i===0?s:[""],y=Xw(v),b=0,_=0,w=0;b<r;++b)for(var T=0,k=Ep(e,p+1,p=$X(_=l[b])),R=e;T<y;++T)(R=bD(_>0?v[T]+" "+k:ln(k,/&\f/g,v[T])))&&(d[w++]=R);return ky(e,t,n,i===0?Ww:c,d,u,h)}function eJ(e,t,n){return ky(e,t,n,yD,Ty(YX()),Ep(e,2,-2),0)}function G5(e,t,n,r){return ky(e,t,n,Qw,Ep(e,0,r),Ep(e,r+1,-1),r)}function Md(e,t){for(var n="",r=Xw(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function tJ(e,t,n,r){switch(e.type){case zX:if(e.children.length)break;case FX:case Qw:return e.return=e.return||e.value;case yD:return"";case AD:return e.return=e.value+"{"+Md(e.children,r)+"}";case Ww:e.value=e.props.join(",")}return wo(n=Md(e.children,r))?e.return=e.value+"{"+n+"}":""}function nJ(e){var t=Xw(e);return function(n,r,i,s){for(var l="",c=0;c<t;c++)l+=e[c](n,r,i,s)||"";return l}}function rJ(e){return function(t){t.root||(t=t.return)&&e(t)}}function wD(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var iJ=function(t,n,r){for(var i=0,s=0;i=s,s=Oo(),i===38&&s===12&&(n[r]=1),!Tp(s);)us();return Yp(t,Yi)},sJ=function(t,n){var r=-1,i=44;do switch(Tp(i)){case 0:i===38&&Oo()===12&&(n[r]=1),t[r]+=iJ(Yi-1,n,r);break;case 2:t[r]+=P0(i);break;case 4:if(i===44){t[++r]=Oo()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=Ty(i)}while(i=us());return t},oJ=function(t,n){return xD(sJ(SD(t),n))},Y5=new WeakMap,aJ=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,i=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!Y5.get(r))&&!i){Y5.set(t,!0);for(var s=[],l=oJ(n,s),c=r.props,d=0,u=0;d<l.length;d++)for(var h=0;h<c.length;h++,u++)t.props[u]=s[d]?l[d].replace(/&\f/g,c[h]):c[h]+" "+l[d]}}},lJ=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function ED(e,t){switch(HX(e,t)){case 5103:return an+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return an+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return an+e+xv+e+di+e+e;case 6828:case 4268:return an+e+di+e+e;case 6165:return an+e+di+"flex-"+e+e;case 5187:return an+e+ln(e,/(\w+).+(:[^]+)/,an+"box-$1$2"+di+"flex-$1$2")+e;case 5443:return an+e+di+"flex-item-"+ln(e,/flex-|-self/,"")+e;case 4675:return an+e+di+"flex-line-pack"+ln(e,/align-content|flex-|-self/,"")+e;case 5548:return an+e+di+ln(e,"shrink","negative")+e;case 5292:return an+e+di+ln(e,"basis","preferred-size")+e;case 6060:return an+"box-"+ln(e,"-grow","")+an+e+di+ln(e,"grow","positive")+e;case 4554:return an+ln(e,/([^-])(transform)/g,"$1"+an+"$2")+e;case 6187:return ln(ln(ln(e,/(zoom-|grab)/,an+"$1"),/(image-set)/,an+"$1"),e,"")+e;case 5495:case 3959:return ln(e,/(image-set\([^]*)/,an+"$1$`$1");case 4968:return ln(ln(e,/(.+:)(flex-)?(.*)/,an+"box-pack:$3"+di+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+an+e+e;case 4095:case 3583:case 4068:case 2532:return ln(e,/(.+)-inline(.+)/,an+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(wo(e)-1-t>6)switch(ni(e,t+1)){case 109:if(ni(e,t+4)!==45)break;case 102:return ln(e,/(.+:)(.+)-([^]+)/,"$1"+an+"$2-$3$1"+xv+(ni(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~dx(e,"stretch")?ED(ln(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(ni(e,t+1)!==115)break;case 6444:switch(ni(e,wo(e)-3-(~dx(e,"!important")&&10))){case 107:return ln(e,":",":"+an)+e;case 101:return ln(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+an+(ni(e,14)===45?"inline-":"")+"box$3$1"+an+"$2$3$1"+di+"$2box$3")+e}break;case 5936:switch(ni(e,t+11)){case 114:return an+e+di+ln(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return an+e+di+ln(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return an+e+di+ln(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return an+e+di+e+e}return e}var cJ=function(t,n,r,i){if(t.length>-1&&!t.return)switch(t.type){case Qw:t.return=ED(t.value,t.length);break;case AD:return Md([Ch(t,{value:ln(t.value,"@","@"+an)})],i);case Ww:if(t.length)return GX(t.props,function(s){switch(qX(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Md([Ch(t,{props:[ln(s,/:(read-\w+)/,":"+xv+"$1")]})],i);case"::placeholder":return Md([Ch(t,{props:[ln(s,/:(plac\w+)/,":"+an+"input-$1")]}),Ch(t,{props:[ln(s,/:(plac\w+)/,":"+xv+"$1")]}),Ch(t,{props:[ln(s,/:(plac\w+)/,di+"input-$1")]})],i)}return""})}},uJ=[cJ],TD=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(_){var w=_.getAttribute("data-emotion");w.indexOf(" ")!==-1&&(document.head.appendChild(_),_.setAttribute("data-s",""))})}var i=t.stylisPlugins||uJ,s={},l,c=[];l=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(_){for(var w=_.getAttribute("data-emotion").split(" "),T=1;T<w.length;T++)s[w[T]]=!0;c.push(_)});var d,u=[aJ,lJ];{var h,p=[tJ,rJ(function(_){h.insert(_)})],v=nJ(u.concat(i,p)),y=function(w){return Md(ZX(w),v)};d=function(w,T,k,R){h=k,y(w?w+"{"+T.styles+"}":T.styles),R&&(b.inserted[T.name]=!0)}}var b={key:n,sheet:new LX({key:n,container:l,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:s,registered:{},insert:d};return b.sheet.hydrate(c),b};function wv(){return wv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wv.apply(null,arguments)}var dJ=!0;function CD(e,t,n){var r="";return n.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):i&&(r+=i+" ")}),r}var Jw=function(t,n,r){var i=t.key+"-"+n.name;(r===!1||dJ===!1)&&t.registered[i]===void 0&&(t.registered[i]=n.styles)},Zw=function(t,n,r){Jw(t,n,r);var i=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var s=n;do t.insert(n===s?"."+i:"",s,t.sheet,!0),s=s.next;while(s!==void 0)}};function fJ(e){for(var t=0,n,r=0,i=e.length;i>=4;++r,i-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var hJ={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},pJ=!1,gJ=/[A-Z]|^ms/g,mJ=/_EMO_([^_]+?)_([^]*?)_EMO_/g,kD=function(t){return t.charCodeAt(1)===45},K5=function(t){return t!=null&&typeof t!="boolean"},O1=wD(function(e){return kD(e)?e:e.replace(gJ,"-$&").toLowerCase()}),W5=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(mJ,function(r,i,s){return Eo={name:i,styles:s,next:Eo},i})}return hJ[t]!==1&&!kD(t)&&typeof n=="number"&&n!==0?n+"px":n},vJ="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function Cp(e,t,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return Eo={name:i.name,styles:i.styles,next:Eo},i.name;var s=n;if(s.styles!==void 0){var l=s.next;if(l!==void 0)for(;l!==void 0;)Eo={name:l.name,styles:l.styles,next:Eo},l=l.next;var c=s.styles+";";return c}return yJ(e,t,n)}case"function":{if(e!==void 0){var d=Eo,u=n(e);return Eo=d,Cp(e,t,u)}break}}var h=n;if(t==null)return h;var p=t[h];return p!==void 0?p:h}function yJ(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Cp(e,t,n[i])+";";else for(var s in n){var l=n[s];if(typeof l!="object"){var c=l;t!=null&&t[c]!==void 0?r+=s+"{"+t[c]+"}":K5(c)&&(r+=O1(s)+":"+W5(s,c)+";")}else{if(s==="NO_COMPONENT_SELECTOR"&&pJ)throw new Error(vJ);if(Array.isArray(l)&&typeof l[0]=="string"&&(t==null||t[l[0]]===void 0))for(var d=0;d<l.length;d++)K5(l[d])&&(r+=O1(s)+":"+W5(s,l[d])+";");else{var u=Cp(e,t,l);switch(s){case"animation":case"animationName":{r+=O1(s)+":"+u+";";break}default:r+=s+"{"+u+"}"}}}}return r}var Q5=/label:\s*([^\s;{]+)\s*(;|$)/g,Eo;function Kp(e,t,n){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var r=!0,i="";Eo=void 0;var s=e[0];if(s==null||s.raw===void 0)r=!1,i+=Cp(n,t,s);else{var l=s;i+=l[0]}for(var c=1;c<e.length;c++)if(i+=Cp(n,t,e[c]),r){var d=s;i+=d[c]}Q5.lastIndex=0;for(var u="",h;(h=Q5.exec(i))!==null;)u+="-"+h[1];var p=fJ(i)+u;return{name:p,styles:i,next:Eo}}var AJ=function(t){return t()},MD=lv.useInsertionEffect?lv.useInsertionEffect:!1,RD=MD||AJ,X5=MD||x.useLayoutEffect,bJ=!1,ID=x.createContext(typeof HTMLElement<"u"?TD({key:"css"}):null),_J=ID.Provider,eE=function(t){return x.forwardRef(function(n,r){var i=x.useContext(ID);return t(n,i,r)})},Wp=x.createContext({}),tE={}.hasOwnProperty,hx="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",SJ=function(t,n){var r={};for(var i in n)tE.call(n,i)&&(r[i]=n[i]);return r[hx]=t,r},xJ=function(t){var n=t.cache,r=t.serialized,i=t.isStringTag;return Jw(n,r,i),RD(function(){return Zw(n,r,i)}),null},wJ=eE(function(e,t,n){var r=e.css;typeof r=="string"&&t.registered[r]!==void 0&&(r=t.registered[r]);var i=e[hx],s=[r],l="";typeof e.className=="string"?l=CD(t.registered,s,e.className):e.className!=null&&(l=e.className+" ");var c=Kp(s,void 0,x.useContext(Wp));l+=t.key+"-"+c.name;var d={};for(var u in e)tE.call(e,u)&&u!=="css"&&u!==hx&&!bJ&&(d[u]=e[u]);return d.className=l,n&&(d.ref=n),x.createElement(x.Fragment,null,x.createElement(xJ,{cache:t,serialized:c,isStringTag:typeof i=="string"}),x.createElement(i,d))}),EJ=wJ,J5=function(t,n){var r=arguments;if(n==null||!tE.call(n,"css"))return x.createElement.apply(void 0,r);var i=r.length,s=new Array(i);s[0]=EJ,s[1]=SJ(t,n);for(var l=2;l<i;l++)s[l]=r[l];return x.createElement.apply(null,s)};(function(e){var t;t||(t=e.JSX||(e.JSX={}))})(J5||(J5={}));var TJ=eE(function(e,t){var n=e.styles,r=Kp([n],void 0,x.useContext(Wp)),i=x.useRef();return X5(function(){var s=t.key+"-global",l=new t.sheet.constructor({key:s,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),c=!1,d=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return t.sheet.tags.length&&(l.before=t.sheet.tags[0]),d!==null&&(c=!0,d.setAttribute("data-emotion",s),l.hydrate([d])),i.current=[l,c],function(){l.flush()}},[t]),X5(function(){var s=i.current,l=s[0],c=s[1];if(c){s[1]=!1;return}if(r.next!==void 0&&Zw(t,r.next,!0),l.tags.length){var d=l.tags[l.tags.length-1].nextElementSibling;l.before=d,l.flush()}t.insert("",r,l,!1)},[t,r.name]),null});function lu(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Kp(t)}function cu(){var e=lu.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function nE(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function CJ(){this.__data__=new Ia,this.size=0}function kJ(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function MJ(e){return this.__data__.get(e)}function RJ(e){return this.__data__.has(e)}var IJ=200;function OJ(e,t){var n=this.__data__;if(n instanceof Ia){var r=n.__data__;if(!Sp||r.length<IJ-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Oa(r)}return n.set(e,t),this.size=n.size,this}function jo(e){var t=this.__data__=new Ia(e);this.size=t.size}jo.prototype.clear=CJ;jo.prototype.delete=kJ;jo.prototype.get=MJ;jo.prototype.has=RJ;jo.prototype.set=OJ;function jJ(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var Ev=function(){try{var e=au(Object,"defineProperty");return e({},"",{}),e}catch{}}();function OD(e,t,n){t=="__proto__"&&Ev?Ev(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var PJ=Object.prototype,VJ=PJ.hasOwnProperty;function jD(e,t,n){var r=e[t];(!(VJ.call(e,t)&&fy(r,n))||n===void 0&&!(t in e))&&OD(e,t,n)}function Qp(e,t,n,r){var i=!n;n||(n={});for(var s=-1,l=t.length;++s<l;){var c=t[s],d=void 0;d===void 0&&(d=e[c]),i?OD(n,c,d):jD(n,c,d)}return n}function DJ(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var BJ="[object Arguments]";function Z5(e){return Ca(e)&&su(e)==BJ}var PD=Object.prototype,NJ=PD.hasOwnProperty,LJ=PD.propertyIsEnumerable,rE=Z5(function(){return arguments}())?Z5:function(e){return Ca(e)&&NJ.call(e,"callee")&&!LJ.call(e,"callee")},Hs=Array.isArray;function FJ(){return!1}var VD=typeof exports=="object"&&exports&&!exports.nodeType&&exports,eI=VD&&typeof module=="object"&&module&&!module.nodeType&&module,zJ=eI&&eI.exports===VD,tI=zJ?go.Buffer:void 0,$J=tI?tI.isBuffer:void 0,Tv=$J||FJ,UJ="[object Arguments]",HJ="[object Array]",qJ="[object Boolean]",GJ="[object Date]",YJ="[object Error]",KJ="[object Function]",WJ="[object Map]",QJ="[object Number]",XJ="[object Object]",JJ="[object RegExp]",ZJ="[object Set]",eZ="[object String]",tZ="[object WeakMap]",nZ="[object ArrayBuffer]",rZ="[object DataView]",iZ="[object Float32Array]",sZ="[object Float64Array]",oZ="[object Int8Array]",aZ="[object Int16Array]",lZ="[object Int32Array]",cZ="[object Uint8Array]",uZ="[object Uint8ClampedArray]",dZ="[object Uint16Array]",fZ="[object Uint32Array]",Pn={};Pn[iZ]=Pn[sZ]=Pn[oZ]=Pn[aZ]=Pn[lZ]=Pn[cZ]=Pn[uZ]=Pn[dZ]=Pn[fZ]=!0;Pn[UJ]=Pn[HJ]=Pn[nZ]=Pn[qJ]=Pn[rZ]=Pn[GJ]=Pn[YJ]=Pn[KJ]=Pn[WJ]=Pn[QJ]=Pn[XJ]=Pn[JJ]=Pn[ZJ]=Pn[eZ]=Pn[tZ]=!1;function hZ(e){return Ca(e)&&Uw(e.length)&&!!Pn[su(e)]}function iE(e){return function(t){return e(t)}}var DD=typeof exports=="object"&&exports&&!exports.nodeType&&exports,op=DD&&typeof module=="object"&&module&&!module.nodeType&&module,pZ=op&&op.exports===DD,j1=pZ&&P4.process,Kd=function(){try{var e=op&&op.require&&op.require("util").types;return e||j1&&j1.binding&&j1.binding("util")}catch{}}(),nI=Kd&&Kd.isTypedArray,BD=nI?iE(nI):hZ,gZ=Object.prototype,mZ=gZ.hasOwnProperty;function ND(e,t){var n=Hs(e),r=!n&&rE(e),i=!n&&!r&&Tv(e),s=!n&&!r&&!i&&BD(e),l=n||r||i||s,c=l?DJ(e.length,String):[],d=c.length;for(var u in e)(t||mZ.call(e,u))&&!(l&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||qw(u,d)))&&c.push(u);return c}var vZ=Object.prototype;function sE(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||vZ;return e===n}function LD(e,t){return function(n){return e(t(n))}}var yZ=LD(Object.keys,Object),AZ=Object.prototype,bZ=AZ.hasOwnProperty;function _Z(e){if(!sE(e))return yZ(e);var t=[];for(var n in Object(e))bZ.call(e,n)&&n!="constructor"&&t.push(n);return t}function Xp(e){return Hw(e)?ND(e):_Z(e)}function SZ(e,t){return e&&Qp(t,Xp(t),e)}function xZ(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var wZ=Object.prototype,EZ=wZ.hasOwnProperty;function TZ(e){if(!ho(e))return xZ(e);var t=sE(e),n=[];for(var r in e)r=="constructor"&&(t||!EZ.call(e,r))||n.push(r);return n}function oE(e){return Hw(e)?ND(e,!0):TZ(e)}function CZ(e,t){return e&&Qp(t,oE(t),e)}var FD=typeof exports=="object"&&exports&&!exports.nodeType&&exports,rI=FD&&typeof module=="object"&&module&&!module.nodeType&&module,kZ=rI&&rI.exports===FD,iI=kZ?go.Buffer:void 0,sI=iI?iI.allocUnsafe:void 0;function MZ(e,t){if(t)return e.slice();var n=e.length,r=sI?sI(n):new e.constructor(n);return e.copy(r),r}function zD(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}function RZ(e,t){for(var n=-1,r=e==null?0:e.length,i=0,s=[];++n<r;){var l=e[n];t(l,n,e)&&(s[i++]=l)}return s}function $D(){return[]}var IZ=Object.prototype,OZ=IZ.propertyIsEnumerable,oI=Object.getOwnPropertySymbols,aE=oI?function(e){return e==null?[]:(e=Object(e),RZ(oI(e),function(t){return OZ.call(e,t)}))}:$D;function jZ(e,t){return Qp(e,aE(e),t)}function lE(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var cE=LD(Object.getPrototypeOf,Object),PZ=Object.getOwnPropertySymbols,UD=PZ?function(e){for(var t=[];e;)lE(t,aE(e)),e=cE(e);return t}:$D;function VZ(e,t){return Qp(e,UD(e),t)}function HD(e,t,n){var r=t(e);return Hs(e)?r:lE(r,n(e))}function px(e){return HD(e,Xp,aE)}function qD(e){return HD(e,oE,UD)}var gx=au(go,"DataView"),mx=au(go,"Promise"),Rd=au(go,"Set"),vx=au(go,"WeakMap"),aI="[object Map]",DZ="[object Object]",lI="[object Promise]",cI="[object Set]",uI="[object WeakMap]",dI="[object DataView]",BZ=ou(gx),NZ=ou(Sp),LZ=ou(mx),FZ=ou(Rd),zZ=ou(vx),io=su;(gx&&io(new gx(new ArrayBuffer(1)))!=dI||Sp&&io(new Sp)!=aI||mx&&io(mx.resolve())!=lI||Rd&&io(new Rd)!=cI||vx&&io(new vx)!=uI)&&(io=function(e){var t=su(e),n=t==DZ?e.constructor:void 0,r=n?ou(n):"";if(r)switch(r){case BZ:return dI;case NZ:return aI;case LZ:return lI;case FZ:return cI;case zZ:return uI}return t});var $Z=Object.prototype,UZ=$Z.hasOwnProperty;function HZ(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&UZ.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var Cv=go.Uint8Array;function uE(e){var t=new e.constructor(e.byteLength);return new Cv(t).set(new Cv(e)),t}function qZ(e,t){var n=t?uE(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var GZ=/\w*$/;function YZ(e){var t=new e.constructor(e.source,GZ.exec(e));return t.lastIndex=e.lastIndex,t}var fI=Us?Us.prototype:void 0,hI=fI?fI.valueOf:void 0;function KZ(e){return hI?Object(hI.call(e)):{}}function WZ(e,t){var n=t?uE(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var QZ="[object Boolean]",XZ="[object Date]",JZ="[object Map]",ZZ="[object Number]",eee="[object RegExp]",tee="[object Set]",nee="[object String]",ree="[object Symbol]",iee="[object ArrayBuffer]",see="[object DataView]",oee="[object Float32Array]",aee="[object Float64Array]",lee="[object Int8Array]",cee="[object Int16Array]",uee="[object Int32Array]",dee="[object Uint8Array]",fee="[object Uint8ClampedArray]",hee="[object Uint16Array]",pee="[object Uint32Array]";function gee(e,t,n){var r=e.constructor;switch(t){case iee:return uE(e);case QZ:case XZ:return new r(+e);case see:return qZ(e,n);case oee:case aee:case lee:case cee:case uee:case dee:case fee:case hee:case pee:return WZ(e,n);case JZ:return new r;case ZZ:case nee:return new r(e);case eee:return YZ(e);case tee:return new r;case ree:return KZ(e)}}var pI=Object.create,mee=function(){function e(){}return function(t){if(!ho(t))return{};if(pI)return pI(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function vee(e){return typeof e.constructor=="function"&&!sE(e)?mee(cE(e)):{}}var yee="[object Map]";function Aee(e){return Ca(e)&&io(e)==yee}var gI=Kd&&Kd.isMap,bee=gI?iE(gI):Aee,_ee="[object Set]";function See(e){return Ca(e)&&io(e)==_ee}var mI=Kd&&Kd.isSet,xee=mI?iE(mI):See,wee=1,Eee=2,Tee=4,GD="[object Arguments]",Cee="[object Array]",kee="[object Boolean]",Mee="[object Date]",Ree="[object Error]",YD="[object Function]",Iee="[object GeneratorFunction]",Oee="[object Map]",jee="[object Number]",KD="[object Object]",Pee="[object RegExp]",Vee="[object Set]",Dee="[object String]",Bee="[object Symbol]",Nee="[object WeakMap]",Lee="[object ArrayBuffer]",Fee="[object DataView]",zee="[object Float32Array]",$ee="[object Float64Array]",Uee="[object Int8Array]",Hee="[object Int16Array]",qee="[object Int32Array]",Gee="[object Uint8Array]",Yee="[object Uint8ClampedArray]",Kee="[object Uint16Array]",Wee="[object Uint32Array]",Rn={};Rn[GD]=Rn[Cee]=Rn[Lee]=Rn[Fee]=Rn[kee]=Rn[Mee]=Rn[zee]=Rn[$ee]=Rn[Uee]=Rn[Hee]=Rn[qee]=Rn[Oee]=Rn[jee]=Rn[KD]=Rn[Pee]=Rn[Vee]=Rn[Dee]=Rn[Bee]=Rn[Gee]=Rn[Yee]=Rn[Kee]=Rn[Wee]=!0;Rn[Ree]=Rn[YD]=Rn[Nee]=!1;function D0(e,t,n,r,i,s){var l,c=t&wee,d=t&Eee,u=t&Tee;if(n&&(l=i?n(e,r,i,s):n(e)),l!==void 0)return l;if(!ho(e))return e;var h=Hs(e);if(h){if(l=HZ(e),!c)return zD(e,l)}else{var p=io(e),v=p==YD||p==Iee;if(Tv(e))return MZ(e,c);if(p==KD||p==GD||v&&!i){if(l=d||v?{}:vee(e),!c)return d?VZ(e,CZ(l,e)):jZ(e,SZ(l,e))}else{if(!Rn[p])return i?e:{};l=gee(e,p,c)}}s||(s=new jo);var y=s.get(e);if(y)return y;s.set(e,l),xee(e)?e.forEach(function(w){l.add(D0(w,t,n,w,e,s))}):bee(e)&&e.forEach(function(w,T){l.set(T,D0(w,t,n,T,e,s))});var b=u?d?qD:px:d?oE:Xp,_=h?void 0:b(e);return jJ(_||e,function(w,T){_&&(T=w,w=e[T]),jD(l,T,D0(w,t,n,T,e,s))}),l}var Qee=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Xee=/^\w*$/;function dE(e,t){if(Hs(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||dy(e)?!0:Xee.test(e)||!Qee.test(e)||t!=null&&e in Object(t)}var Jee=500;function Zee(e){var t=gy(e,function(r){return n.size===Jee&&n.clear(),r}),n=t.cache;return t}var ete=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,tte=/\\(\\)?/g,nte=Zee(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(ete,function(n,r,i,s){t.push(i?s.replace(tte,"$1"):r||n)}),t}),rte=1/0,vI=Us?Us.prototype:void 0,yI=vI?vI.toString:void 0;function WD(e){if(typeof e=="string")return e;if(Hs(e))return nE(e,WD)+"";if(dy(e))return yI?yI.call(e):"";var t=e+"";return t=="0"&&1/e==-rte?"-0":t}function fE(e){return e==null?"":WD(e)}function My(e,t){return Hs(e)?e:dE(e,t)?[e]:nte(fE(e))}function ite(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var ste=1/0;function Jp(e){if(typeof e=="string"||dy(e))return e;var t=e+"";return t=="0"&&1/e==-ste?"-0":t}function hE(e,t){t=My(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[Jp(t[n++])];return n&&n==r?e:void 0}function pE(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var s=Array(i);++r<i;)s[r]=e[r+t];return s}function ote(e,t){return t.length<2?e:hE(e,pE(t,0,-1))}function ate(e,t){return t=My(t,e),e=ote(e,t),e==null||delete e[Jp(ite(t))]}var lte="[object Object]",cte=Function.prototype,ute=Object.prototype,QD=cte.toString,dte=ute.hasOwnProperty,fte=QD.call(Object);function hte(e){if(!Ca(e)||su(e)!=lte)return!1;var t=cE(e);if(t===null)return!0;var n=dte.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&QD.call(n)==fte}function pte(e){return hte(e)?void 0:e}var AI=Us?Us.isConcatSpreadable:void 0;function gte(e){return Hs(e)||rE(e)||!!(AI&&e&&e[AI])}function mte(e,t,n,r,i){var s=-1,l=e.length;for(n||(n=gte),i||(i=[]);++s<l;){var c=e[s];n(c)?lE(i,c):i[i.length]=c}return i}function vte(e){var t=e==null?0:e.length;return t?mte(e):[]}function yte(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var bI=Math.max;function Ate(e,t,n){return t=bI(t===void 0?e.length-1:t,0),function(){for(var r=arguments,i=-1,s=bI(r.length-t,0),l=Array(s);++i<s;)l[i]=r[t+i];i=-1;for(var c=Array(t+1);++i<t;)c[i]=r[i];return c[t]=n(l),yte(e,this,c)}}function bte(e){return function(){return e}}function XD(e){return e}var _te=Ev?function(e,t){return Ev(e,"toString",{configurable:!0,enumerable:!1,value:bte(t),writable:!0})}:XD,Ste=800,xte=16,wte=Date.now;function Ete(e){var t=0,n=0;return function(){var r=wte(),i=xte-(r-n);if(n=r,i>0){if(++t>=Ste)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Tte=Ete(_te);function Cte(e){return Tte(Ate(e,void 0,vte),e+"")}var kte=1,Mte=2,Rte=4,Ite=Cte(function(e,t){var n={};if(e==null)return n;var r=!1;t=nE(t,function(s){return s=My(s,e),r||(r=s.length>1),s}),Qp(e,qD(e),n),r&&(n=D0(n,kte|Mte|Rte,pte));for(var i=t.length;i--;)ate(n,t[i]);return n});function qs(e,t=!1){const[n,r]=x.useState(null);return x.useEffect(()=>{const i=(...s)=>{r(s)};return e.subscribe(i,t),()=>e.unsubscribe(i)},[e]),n}function gi(e,t,n=[]){const r=Array.isArray(e)?e:[e];x.useEffect(()=>(r.forEach(i=>i.subscribe(t)),()=>r.forEach(i=>i.unsubscribe(t))),[...r,t,...n])}function hs(e,t,n=[]){const r=x.useMemo(t,[]),[i,s]=x.useState(r),l=Array.isArray(e)?e:[e];return x.useEffect(()=>{s(t())},n),x.useEffect(()=>{const c=()=>s(t());return l.forEach(d=>d.subscribe(c)),()=>l.forEach(d=>d.unsubscribe(c))},[...l]),i}var Ote=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,jte=wD(function(e){return Ote.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),Pte=!1,Vte=jte,Dte=function(t){return t!=="theme"},_I=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?Vte:Dte},SI=function(t,n,r){var i;if(n){var s=n.shouldForwardProp;i=t.__emotion_forwardProp&&s?function(l){return t.__emotion_forwardProp(l)&&s(l)}:s}return typeof i!="function"&&r&&(i=t.__emotion_forwardProp),i},Bte=function(t){var n=t.cache,r=t.serialized,i=t.isStringTag;return Jw(n,r,i),RD(function(){return Zw(n,r,i)}),null},K=function e(t,n){var r=t.__emotion_real===t,i=r&&t.__emotion_base||t,s,l;n!==void 0&&(s=n.label,l=n.target);var c=SI(t,n,r),d=c||_I(i),u=!d("as");return function(){var h=arguments,p=r&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(s!==void 0&&p.push("label:"+s+";"),h[0]==null||h[0].raw===void 0)p.push.apply(p,h);else{var v=h[0];p.push(v[0]);for(var y=h.length,b=1;b<y;b++)p.push(h[b],v[b])}var _=eE(function(w,T,k){var R=u&&w.as||i,M="",E=[],O=w;if(w.theme==null){O={};for(var j in w)O[j]=w[j];O.theme=x.useContext(Wp)}typeof w.className=="string"?M=CD(T.registered,E,w.className):w.className!=null&&(M=w.className+" ");var D=Kp(p.concat(E),T.registered,O);M+=T.key+"-"+D.name,l!==void 0&&(M+=" "+l);var P=u&&c===void 0?_I(R):d,C={};for(var N in w)u&&N==="as"||P(N)&&(C[N]=w[N]);return C.className=M,k&&(C.ref=k),x.createElement(x.Fragment,null,x.createElement(Bte,{cache:T,serialized:D,isStringTag:typeof R=="string"}),x.createElement(R,C))});return _.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",_.defaultProps=t.defaultProps,_.__emotion_real=_,_.__emotion_base=i,_.__emotion_styles=p,_.__emotion_forwardProp=c,Object.defineProperty(_,"toString",{value:function(){return l===void 0&&Pte?"NO_COMPONENT_SELECTOR":"."+l}}),_.withComponent=function(w,T){var k=e(w,wv({},n,T,{shouldForwardProp:SI(_,T,!0)}));return k.apply(void 0,p)},_}};const Wd={animation:"focusAnimation 1000ms ease-in-out infinite both"},Nte={boxShadow:`inset 0px 0px 0px 4px ${Ue.colors.text.active}`},Ot={fontWeight:"bold",WebkitTextStroke:"0.1rem black",color:"white","& strong":{color:Ue.colors.text.active}};function Lte(){var e=x.useRef(!0);return e.current?(e.current=!1,!0):e.current}var kv=function(){return kv=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},kv.apply(this,arguments)};function Fte(){var e=x.useRef(!1),t=x.useCallback(function(){return e.current},[]);return x.useEffect(function(){return e.current=!0,function(){e.current=!1}},[]),t}function zte(e,t,n){t===void 0&&(t=[]),n===void 0&&(n={loading:!1});var r=x.useRef(0),i=Fte(),s=x.useState(n),l=s[0],c=s[1],d=x.useCallback(function(){for(var u=[],h=0;h<arguments.length;h++)u[h]=arguments[h];var p=++r.current;return l.loading||c(function(v){return kv(kv({},v),{loading:!0})}),e.apply(void 0,u).then(function(v){return i()&&p===r.current&&c({value:v,loading:!1}),v},function(v){return i()&&p===r.current&&c({error:v,loading:!1}),v})},t);return[l,d]}function xI(e,t){t===void 0&&(t=[]);var n=zte(e,t,{loading:!0}),r=n[0],i=n[1];return x.useEffect(function(){i()},[i]),r}var $te=function(){};function Ute(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e&&e.addEventListener&&e.addEventListener.apply(e,t)}function Hte(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e&&e.removeEventListener&&e.removeEventListener.apply(e,t)}var gE=typeof window<"u",qte=function(e){return(e+1)%1e6};function JD(){var e=x.useReducer(qte,0),t=e[1];return t}var Gte=gE?x.useLayoutEffect:x.useEffect,Yte=function(e){x.useEffect(e,[])},Kte=gE?window:null,wI=function(e){return!!e.addEventListener},EI=function(e){return!!e.on},Wte=function(e,t,n,r){n===void 0&&(n=Kte),x.useEffect(function(){if(t&&n)return wI(n)?Ute(n,e,t,r):EI(n)&&n.on(e,t,r),function(){wI(n)?Hte(n,e,t,r):EI(n)&&n.off(e,t,r)}},[e,t,n,JSON.stringify(r)])},ZD=function(e,t){var n=x.useRef(function(){});x.useEffect(function(){n.current=e}),x.useEffect(function(){{var r=setInterval(function(){return n.current()},t);return function(){return clearInterval(r)}}},[t])},Qte=function(e){var t=x.useRef(e);t.current=e,Yte(function(){return function(){return t.current()}})};function Xte(e){var t=x.useRef();return x.useEffect(function(){t.current=e}),t.current}var Jte=function(e,t){return e===t};function Zte(e,t){t===void 0&&(t=Jte);var n=x.useRef(),r=x.useRef(e),i=Lte();return!i&&!t(r.current,e)&&(n.current=r.current,r.current=e),n.current}var eB={x:0,y:0,width:0,height:0,top:0,left:0,bottom:0,right:0};function ene(){var e=x.useState(null),t=e[0],n=e[1],r=x.useState(eB),i=r[0],s=r[1],l=x.useMemo(function(){return new window.ResizeObserver(function(c){if(c[0]){var d=c[0].contentRect,u=d.x,h=d.y,p=d.width,v=d.height,y=d.top,b=d.left,_=d.bottom,w=d.right;s({x:u,y:h,width:p,height:v,top:y,left:b,bottom:_,right:w})}})},[]);return Gte(function(){if(t)return l.observe(t),function(){l.disconnect()}},[t]),[n,i]}const tne=gE&&typeof window.ResizeObserver<"u"?ene:function(){return[$te,eB]};function tB(){const[e,t]=x.useState(()=>Ic.isStarted()),[n,r]=x.useState(()=>Ic.getLatency());ZD(()=>{r(Ic.getLatency())},1e3),gi(me.micServerStarted,()=>{t(!0)}),gi(me.micServerStopped,()=>{t(!1)});const i=hs([me.remoteMicConnected,me.remoteMicDisconnected],()=>Vt.getRemoteMics(),[e]);return{isOnline:e,latency:n,connected:i}}function nne(){const[e,t]=x.useState(null),{connected:n,isOnline:r,latency:i}=tB();return e===null&&r&&t(!0),e?g.jsxs(rne,{children:[g.jsxs(TI,{children:[g.jsx("strong",{children:"Remote mic server"}),": ",r?"Online":"Offline",r&&i&&g.jsxs(g.Fragment,{children:[" (",i,"ms)"]})]}),r&&g.jsx(g.Fragment,{children:g.jsxs(TI,{children:[g.jsx("strong",{children:"connected mics"}),": ",n.length]})})]}):null}const rne=K("div",{target:"eeky7rp1"})("opacity:0.75;position:fixed;bottom:0;right:0;",Ot,";font-size:1.5rem;padding:0.5rem;display:flex;gap:1rem;z-index:100000;pointer-events:none;"),TI=K("div",{target:"eeky7rp0"})(""),mE="-",ine=e=>{const t=one(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:l=>{const c=l.split(mE);return c[0]===""&&c.length!==1&&c.shift(),nB(c,t)||sne(l)},getConflictingClassGroupIds:(l,c)=>{const d=n[l]||[];return c&&r[l]?[...d,...r[l]]:d}}},nB=(e,t)=>{var l;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),i=r?nB(e.slice(1),r):void 0;if(i)return i;if(t.validators.length===0)return;const s=e.join(mE);return(l=t.validators.find(({validator:c})=>c(s)))==null?void 0:l.classGroupId},CI=/^\[(.+)\]$/,sne=e=>{if(CI.test(e)){const t=CI.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},one=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return lne(Object.entries(e.classGroups),n).forEach(([s,l])=>{yx(l,r,s,t)}),r},yx=(e,t,n,r)=>{e.forEach(i=>{if(typeof i=="string"){const s=i===""?t:kI(t,i);s.classGroupId=n;return}if(typeof i=="function"){if(ane(i)){yx(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,l])=>{yx(l,kI(t,s),n,r)})})},kI=(e,t)=>{let n=e;return t.split(mE).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},ane=e=>e.isThemeGetter,lne=(e,t)=>t?e.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([l,c])=>[t+l,c])):s);return[n,i]}):e,cne=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(s,l)=>{n.set(s,l),t++,t>e&&(t=0,r=n,n=new Map)};return{get(s){let l=n.get(s);if(l!==void 0)return l;if((l=r.get(s))!==void 0)return i(s,l),l},set(s,l){n.has(s)?n.set(s,l):i(s,l)}}},rB="!",une=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,i=t[0],s=t.length,l=c=>{const d=[];let u=0,h=0,p;for(let w=0;w<c.length;w++){let T=c[w];if(u===0){if(T===i&&(r||c.slice(w,w+s)===t)){d.push(c.slice(h,w)),h=w+s;continue}if(T==="/"){p=w;continue}}T==="["?u++:T==="]"&&u--}const v=d.length===0?c:c.substring(h),y=v.startsWith(rB),b=y?v.substring(1):v,_=p&&p>h?p-h:void 0;return{modifiers:d,hasImportantModifier:y,baseClassName:b,maybePostfixModifierPosition:_}};return n?c=>n({className:c,parseClassName:l}):l},dne=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},fne=e=>({cache:cne(e.cacheSize),parseClassName:une(e),...ine(e)}),hne=/\s+/,pne=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=t,s=[],l=e.trim().split(hne);let c="";for(let d=l.length-1;d>=0;d-=1){const u=l[d],{modifiers:h,hasImportantModifier:p,baseClassName:v,maybePostfixModifierPosition:y}=n(u);let b=!!y,_=r(b?v.substring(0,y):v);if(!_){if(!b){c=u+(c.length>0?" "+c:c);continue}if(_=r(v),!_){c=u+(c.length>0?" "+c:c);continue}b=!1}const w=dne(h).join(":"),T=p?w+rB:w,k=T+_;if(s.includes(k))continue;s.push(k);const R=i(_,b);for(let M=0;M<R.length;++M){const E=R[M];s.push(T+E)}c=u+(c.length>0?" "+c:c)}return c};function gne(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=iB(t))&&(r&&(r+=" "),r+=n);return r}const iB=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=iB(e[r]))&&(n&&(n+=" "),n+=t);return n};function mne(e,...t){let n,r,i,s=l;function l(d){const u=t.reduce((h,p)=>p(h),e());return n=fne(u),r=n.cache.get,i=n.cache.set,s=c,c(d)}function c(d){const u=r(d);if(u)return u;const h=pne(d,n);return i(d,h),h}return function(){return s(gne.apply(null,arguments))}}const jn=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},sB=/^\[(?:([a-z-]+):)?(.+)\]$/i,vne=/^\d+\/\d+$/,yne=new Set(["px","full","screen"]),Ane=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,bne=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,_ne=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Sne=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,xne=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,oa=e=>Id(e)||yne.has(e)||vne.test(e),al=e=>pf(e,"length",Ine),Id=e=>!!e&&!Number.isNaN(Number(e)),P1=e=>pf(e,"number",Id),kh=e=>!!e&&Number.isInteger(Number(e)),wne=e=>e.endsWith("%")&&Id(e.slice(0,-1)),Rt=e=>sB.test(e),ll=e=>Ane.test(e),Ene=new Set(["length","size","percentage"]),Tne=e=>pf(e,Ene,oB),Cne=e=>pf(e,"position",oB),kne=new Set(["image","url"]),Mne=e=>pf(e,kne,jne),Rne=e=>pf(e,"",One),Mh=()=>!0,pf=(e,t,n)=>{const r=sB.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},Ine=e=>bne.test(e)&&!_ne.test(e),oB=()=>!1,One=e=>Sne.test(e),jne=e=>xne.test(e),Pne=()=>{const e=jn("colors"),t=jn("spacing"),n=jn("blur"),r=jn("brightness"),i=jn("borderColor"),s=jn("borderRadius"),l=jn("borderSpacing"),c=jn("borderWidth"),d=jn("contrast"),u=jn("grayscale"),h=jn("hueRotate"),p=jn("invert"),v=jn("gap"),y=jn("gradientColorStops"),b=jn("gradientColorStopPositions"),_=jn("inset"),w=jn("margin"),T=jn("opacity"),k=jn("padding"),R=jn("saturate"),M=jn("scale"),E=jn("sepia"),O=jn("skew"),j=jn("space"),D=jn("translate"),P=()=>["auto","contain","none"],C=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto",Rt,t],U=()=>[Rt,t],L=()=>["",oa,al],q=()=>["auto",Id,Rt],H=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],V=()=>["solid","dashed","dotted","double","none"],W=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Q=()=>["start","end","center","between","around","evenly","stretch"],J=()=>["","0",Rt],B=()=>["auto","avoid","all","avoid-page","page","left","right","column"],G=()=>[Id,Rt];return{cacheSize:500,separator:":",theme:{colors:[Mh],spacing:[oa,al],blur:["none","",ll,Rt],brightness:G(),borderColor:[e],borderRadius:["none","","full",ll,Rt],borderSpacing:U(),borderWidth:L(),contrast:G(),grayscale:J(),hueRotate:G(),invert:J(),gap:U(),gradientColorStops:[e],gradientColorStopPositions:[wne,al],inset:N(),margin:N(),opacity:G(),padding:U(),saturate:G(),scale:G(),sepia:J(),skew:G(),space:U(),translate:U()},classGroups:{aspect:[{aspect:["auto","square","video",Rt]}],container:["container"],columns:[{columns:[ll]}],"break-after":[{"break-after":B()}],"break-before":[{"break-before":B()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...H(),Rt]}],overflow:[{overflow:C()}],"overflow-x":[{"overflow-x":C()}],"overflow-y":[{"overflow-y":C()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[_]}],"inset-x":[{"inset-x":[_]}],"inset-y":[{"inset-y":[_]}],start:[{start:[_]}],end:[{end:[_]}],top:[{top:[_]}],right:[{right:[_]}],bottom:[{bottom:[_]}],left:[{left:[_]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",kh,Rt]}],basis:[{basis:N()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Rt]}],grow:[{grow:J()}],shrink:[{shrink:J()}],order:[{order:["first","last","none",kh,Rt]}],"grid-cols":[{"grid-cols":[Mh]}],"col-start-end":[{col:["auto",{span:["full",kh,Rt]},Rt]}],"col-start":[{"col-start":q()}],"col-end":[{"col-end":q()}],"grid-rows":[{"grid-rows":[Mh]}],"row-start-end":[{row:["auto",{span:[kh,Rt]},Rt]}],"row-start":[{"row-start":q()}],"row-end":[{"row-end":q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Rt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Rt]}],gap:[{gap:[v]}],"gap-x":[{"gap-x":[v]}],"gap-y":[{"gap-y":[v]}],"justify-content":[{justify:["normal",...Q()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Q(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Q(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[k]}],px:[{px:[k]}],py:[{py:[k]}],ps:[{ps:[k]}],pe:[{pe:[k]}],pt:[{pt:[k]}],pr:[{pr:[k]}],pb:[{pb:[k]}],pl:[{pl:[k]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[j]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[j]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Rt,t]}],"min-w":[{"min-w":[Rt,t,"min","max","fit"]}],"max-w":[{"max-w":[Rt,t,"none","full","min","max","fit","prose",{screen:[ll]},ll]}],h:[{h:[Rt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Rt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Rt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Rt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",ll,al]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",P1]}],"font-family":[{font:[Mh]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Rt]}],"line-clamp":[{"line-clamp":["none",Id,P1]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",oa,Rt]}],"list-image":[{"list-image":["none",Rt]}],"list-style-type":[{list:["none","disc","decimal",Rt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[T]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[T]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...V(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",oa,al]}],"underline-offset":[{"underline-offset":["auto",oa,Rt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:U()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Rt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Rt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[T]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...H(),Cne]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Tne]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Mne]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[T]}],"border-style":[{border:[...V(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[T]}],"divide-style":[{divide:V()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...V()]}],"outline-offset":[{"outline-offset":[oa,Rt]}],"outline-w":[{outline:[oa,al]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:L()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[T]}],"ring-offset-w":[{"ring-offset":[oa,al]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ll,Rne]}],"shadow-color":[{shadow:[Mh]}],opacity:[{opacity:[T]}],"mix-blend":[{"mix-blend":[...W(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":W()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[d]}],"drop-shadow":[{"drop-shadow":["","none",ll,Rt]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[p]}],saturate:[{saturate:[R]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[d]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[T]}],"backdrop-saturate":[{"backdrop-saturate":[R]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Rt]}],duration:[{duration:G()}],ease:[{ease:["linear","in","out","in-out",Rt]}],delay:[{delay:G()}],animate:[{animate:["none","spin","ping","pulse","bounce",Rt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[M]}],"scale-x":[{"scale-x":[M]}],"scale-y":[{"scale-y":[M]}],rotate:[{rotate:[kh,Rt]}],"translate-x":[{"translate-x":[D]}],"translate-y":[{"translate-y":[D]}],"skew-x":[{"skew-x":[O]}],"skew-y":[{"skew-y":[O]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Rt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Rt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":U()}],"scroll-mx":[{"scroll-mx":U()}],"scroll-my":[{"scroll-my":U()}],"scroll-ms":[{"scroll-ms":U()}],"scroll-me":[{"scroll-me":U()}],"scroll-mt":[{"scroll-mt":U()}],"scroll-mr":[{"scroll-mr":U()}],"scroll-mb":[{"scroll-mb":U()}],"scroll-ml":[{"scroll-ml":U()}],"scroll-p":[{"scroll-p":U()}],"scroll-px":[{"scroll-px":U()}],"scroll-py":[{"scroll-py":U()}],"scroll-ps":[{"scroll-ps":U()}],"scroll-pe":[{"scroll-pe":U()}],"scroll-pt":[{"scroll-pt":U()}],"scroll-pr":[{"scroll-pr":U()}],"scroll-pb":[{"scroll-pb":U()}],"scroll-pl":[{"scroll-pl":U()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Rt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[oa,al,P1]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},aB=mne(Pne),uu=x.forwardRef(function({as:t,className:n,children:r,...i},s){const l=t||"div";return g.jsx(l,{className:aB("flex flex-col items-center bg-black/50 justify-center box-border rounded-md",n),...i,ref:s,children:r})}),ps=x.forwardRef(function({as:t,className:n,children:r,active:i,...s},l){const c=t||"span";return g.jsx(c,{className:aB(`typography text-base [&_a]:text-active [&_a]:typography ${i?"text-active":""}`,n),...s,ref:l,children:r})});var V1=typeof navigator<"u"?navigator.userAgent.toLowerCase().indexOf("firefox")>0:!1;function D1(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r):e.attachEvent&&e.attachEvent("on".concat(t),function(){n(window.event)})}function lB(e,t){for(var n=t.slice(0,t.length-1),r=0;r<n.length;r++)n[r]=e[n[r].toLowerCase()];return n}function cB(e){typeof e!="string"&&(e=""),e=e.replace(/\s/g,"");for(var t=e.split(","),n=t.lastIndexOf("");n>=0;)t[n-1]+=",",t.splice(n,1),n=t.lastIndexOf("");return t}function Vne(e,t){for(var n=e.length>=t.length?e:t,r=e.length>=t.length?t:e,i=!0,s=0;s<n.length;s++)r.indexOf(n[s])===-1&&(i=!1);return i}var vE={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,num_0:96,num_1:97,num_2:98,num_3:99,num_4:100,num_5:101,num_6:102,num_7:103,num_8:104,num_9:105,num_multiply:106,num_add:107,num_enter:108,num_subtract:109,num_decimal:110,num_divide:111,"":20,",":188,".":190,"/":191,"`":192,"-":V1?173:189,"=":V1?61:187,";":V1?59:186,"'":222,"[":219,"]":221,"\\":220},Tl={"":16,shift:16,"":18,alt:18,option:18,"":17,ctrl:17,control:17,"":91,cmd:91,command:91},Ax={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},ti={16:!1,18:!1,17:!1,91:!1},Er={};for(var Hm=1;Hm<20;Hm++)vE["f".concat(Hm)]=111+Hm;var $n=[],MI=!1,uB="all",dB=[],Ry=function(t){return vE[t.toLowerCase()]||Tl[t.toLowerCase()]||t.toUpperCase().charCodeAt(0)};function fB(e){uB=e||"all"}function kp(){return uB||"all"}function Dne(){return $n.slice(0)}function Bne(e){var t=e.target||e.srcElement,n=t.tagName,r=!0;return(t.isContentEditable||(n==="INPUT"||n==="TEXTAREA"||n==="SELECT")&&!t.readOnly)&&(r=!1),r}function Nne(e){return typeof e=="string"&&(e=Ry(e)),$n.indexOf(e)!==-1}function Lne(e,t){var n,r;e||(e=kp());for(var i in Er)if(Object.prototype.hasOwnProperty.call(Er,i))for(n=Er[i],r=0;r<n.length;)n[r].scope===e?n.splice(r,1):r++;kp()===e&&fB(t||"all")}function Fne(e){var t=e.keyCode||e.which||e.charCode,n=$n.indexOf(t);if(n>=0&&$n.splice(n,1),e.key&&e.key.toLowerCase()==="meta"&&$n.splice(0,$n.length),(t===93||t===224)&&(t=91),t in ti){ti[t]=!1;for(var r in Tl)Tl[r]===t&&(as[r]=!1)}}function zne(e){if(typeof e>"u")Object.keys(Er).forEach(function(l){return delete Er[l]});else if(Array.isArray(e))e.forEach(function(l){l.key&&B1(l)});else if(typeof e=="object")e.key&&B1(e);else if(typeof e=="string"){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n[0],s=n[1];typeof i=="function"&&(s=i,i=""),B1({key:e,scope:i,method:s,splitKey:"+"})}}var B1=function(t){var n=t.key,r=t.scope,i=t.method,s=t.splitKey,l=s===void 0?"+":s,c=cB(n);c.forEach(function(d){var u=d.split(l),h=u.length,p=u[h-1],v=p==="*"?"*":Ry(p);if(Er[v]){r||(r=kp());var y=h>1?lB(Tl,u):[];Er[v]=Er[v].filter(function(b){var _=i?b.method===i:!0;return!(_&&b.scope===r&&Vne(b.mods,y))})}})};function RI(e,t,n,r){if(t.element===r){var i;if(t.scope===n||t.scope==="all"){i=t.mods.length>0;for(var s in ti)Object.prototype.hasOwnProperty.call(ti,s)&&(!ti[s]&&t.mods.indexOf(+s)>-1||ti[s]&&t.mods.indexOf(+s)===-1)&&(i=!1);(t.mods.length===0&&!ti[16]&&!ti[18]&&!ti[17]&&!ti[91]||i||t.shortcut==="*")&&t.method(e,t)===!1&&(e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.cancelBubble&&(e.cancelBubble=!0))}}}function II(e,t){var n=Er["*"],r=e.keyCode||e.which||e.charCode;if(as.filter.call(this,e)){if((r===93||r===224)&&(r=91),$n.indexOf(r)===-1&&r!==229&&$n.push(r),["ctrlKey","altKey","shiftKey","metaKey"].forEach(function(b){var _=Ax[b];e[b]&&$n.indexOf(_)===-1?$n.push(_):!e[b]&&$n.indexOf(_)>-1?$n.splice($n.indexOf(_),1):b==="metaKey"&&e[b]&&$n.length===3&&(e.ctrlKey||e.shiftKey||e.altKey||($n=$n.slice($n.indexOf(_))))}),r in ti){ti[r]=!0;for(var i in Tl)Tl[i]===r&&(as[i]=!0);if(!n)return}for(var s in ti)Object.prototype.hasOwnProperty.call(ti,s)&&(ti[s]=e[Ax[s]]);e.getModifierState&&!(e.altKey&&!e.ctrlKey)&&e.getModifierState("AltGraph")&&($n.indexOf(17)===-1&&$n.push(17),$n.indexOf(18)===-1&&$n.push(18),ti[17]=!0,ti[18]=!0);var l=kp();if(n)for(var c=0;c<n.length;c++)n[c].scope===l&&(e.type==="keydown"&&n[c].keydown||e.type==="keyup"&&n[c].keyup)&&RI(e,n[c],l,t);if(r in Er){for(var d=0;d<Er[r].length;d++)if((e.type==="keydown"&&Er[r][d].keydown||e.type==="keyup"&&Er[r][d].keyup)&&Er[r][d].key){for(var u=Er[r][d],h=u.splitKey,p=u.key.split(h),v=[],y=0;y<p.length;y++)v.push(Ry(p[y]));v.sort().join("")===$n.sort().join("")&&RI(e,u,l,t)}}}}function $ne(e){return dB.indexOf(e)>-1}function as(e,t,n){$n=[];var r=cB(e),i=[],s="all",l=document,c=0,d=!1,u=!0,h="+",p=!1;for(n===void 0&&typeof t=="function"&&(n=t),Object.prototype.toString.call(t)==="[object Object]"&&(t.scope&&(s=t.scope),t.element&&(l=t.element),t.keyup&&(d=t.keyup),t.keydown!==void 0&&(u=t.keydown),t.capture!==void 0&&(p=t.capture),typeof t.splitKey=="string"&&(h=t.splitKey)),typeof t=="string"&&(s=t);c<r.length;c++)e=r[c].split(h),i=[],e.length>1&&(i=lB(Tl,e)),e=e[e.length-1],e=e==="*"?"*":Ry(e),e in Er||(Er[e]=[]),Er[e].push({keyup:d,keydown:u,scope:s,mods:i,shortcut:r[c],method:n,key:r[c],splitKey:h,element:l});typeof l<"u"&&!$ne(l)&&window&&(dB.push(l),D1(l,"keydown",function(v){II(v,l)},p),MI||(MI=!0,D1(window,"focus",function(){$n=[]},p)),D1(l,"keyup",function(v){II(v,l),Fne(v)},p))}function Une(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"all";Object.keys(Er).forEach(function(n){var r=Er[n].find(function(i){return i.scope===t&&i.shortcut===e});r&&r.method&&r.method()})}var N1={setScope:fB,getScope:kp,deleteScope:Lne,getPressedKeyCodes:Dne,isPressed:Nne,filter:Bne,trigger:Une,unbind:zne,keyMap:vE,modifier:Tl,modifierMap:Ax};for(var L1 in N1)Object.prototype.hasOwnProperty.call(N1,L1)&&(as[L1]=N1[L1]);if(typeof window<"u"){var Hne=window.hotkeys;as.noConflict=function(e){return e&&window.hotkeys===as&&(window.hotkeys=Hne),as},window.hotkeys=as}as.filter=function(){return!0};var hB=function(t,n){var r=t.target,i=r&&r.tagName;return!!(i&&n&&n.includes(i))},qne=function(t){return hB(t,["INPUT","TEXTAREA","SELECT"])};function ri(e,t,n,r){n instanceof Array&&(r=n,n=void 0);var i=n||{},s=i.enableOnTags,l=i.filter,c=i.keyup,d=i.keydown,u=i.filterPreventDefault,h=u===void 0?!0:u,p=i.enabled,v=p===void 0?!0:p,y=i.enableOnContentEditable,b=y===void 0?!1:y,_=x.useRef(null),w=x.useCallback(function(T,k){var R,M;return l&&!l(T)?!h:qne(T)&&!hB(T,s)||(R=T.target)!=null&&R.isContentEditable&&!b?!0:_.current===null||document.activeElement===_.current||(M=_.current)!=null&&M.contains(document.activeElement)?(t(T,k),!0):!1},r?[_,s,l].concat(r):[_,s,l]);return x.useEffect(function(){if(!v){as.unbind(e,w);return}return c&&d!==!0&&(n.keydown=!1),as(e,n||{},w),function(){return as.unbind(e,w)}},[w,e,v]),_}as.isPressed;const bx="a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,r,s,t,u,w,x,y,z,1,2,3,4,5,6,7,8,9,0",dc=e=>t=>{e&&(t.preventDefault(),t.stopPropagation(),e(t))};function gf(e,t=!0,n){gi(me.remoteKeyboardPressed,r=>{var i;t&&r in e&&((i=e[r])==null||i.call(e))}),ri("up",dc(e.up),{enabled:t&&!!(e!=null&&e.up)},n),ri("down",dc(e.down),{enabled:t&&!!(e!=null&&e.down)},n),ri("left",dc(e.left),{enabled:t&&!!(e!=null&&e.left)},n),ri("right",dc(e.right),{enabled:t&&!!(e!=null&&e.right)},n),ri("Enter",dc(e.accept),{enabled:t&&!!(e!=null&&e.accept)},n),ri("Escape,Backspace",dc(e.back),{enabled:t&&!!(e!=null&&e.back)},n),ri("Shift+R",dc(e.random),{enabled:t&&!!(e!=null&&e.random)},n)}function Gne(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function Yne(...e){return t=>e.forEach(n=>Gne(n,t))}var pB=x.forwardRef((e,t)=>{const{children:n,...r}=e,i=x.Children.toArray(n),s=i.find(Wne);if(s){const l=s.props.children,c=i.map(d=>d===s?x.Children.count(l)>1?x.Children.only(null):x.isValidElement(l)?l.props.children:null:d);return g.jsx(_x,{...r,ref:t,children:x.isValidElement(l)?x.cloneElement(l,void 0,c):null})}return g.jsx(_x,{...r,ref:t,children:n})});pB.displayName="Slot";var _x=x.forwardRef((e,t)=>{const{children:n,...r}=e;if(x.isValidElement(n)){const i=Xne(n);return x.cloneElement(n,{...Qne(r,n.props),ref:t?Yne(t,i):i})}return x.Children.count(n)>1?x.Children.only(null):null});_x.displayName="SlotClone";var Kne=({children:e})=>g.jsx(g.Fragment,{children:e});function Wne(e){return x.isValidElement(e)&&e.type===Kne}function Qne(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...c)=>{s(...c),i(...c)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function Xne(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Jne(e,t){const n={},r=Object.keys(e);for(let i=0;i<r.length;i++){const s=r[i];t(s)&&(n[s]=e[s])}return n}const Zne=(e={})=>{const t=e.compose||Bt,n=e.shouldForwardProp||(i=>i[0]!=="$"),r=i=>{const s=(l,c=n)=>{const d=(u,...h)=>{const p=typeof u=="function",v=!p&&String.raw({raw:u},...h);return x.forwardRef((y,b)=>{const{className:_,asChild:w,...T}=y,k=typeof l=="function"?l(y):l||{},R=Jne({...k,...T},c),M=w?pB:i,E=p?u(y):v;return x.createElement(M,{ref:b,className:typeof E=="function"?O=>t(E(O),typeof _=="function"?_(O):_):t(E,_),...R})})};return d.transientProps=u=>s(l,typeof u=="function"?p=>!u(p):p=>!u.includes(p)),l===void 0&&(d.attrs=u=>s(u)),d};return s()};return new Proxy(i=>r(i),{get(i,s){return r(s)}})},En=Zne();function ere({help:e}){const[t]=bt(oi),[n,r]=bt(pV);ri("shift+h",()=>r(!n),void 0,[n]);const i=Object.entries(e??{}).filter(([,s])=>s!==void 0);return t?null:g.jsx(g.Fragment,{children:g.jsx(cre,{"data-test":"help-container",onClick:()=>r(!n),"data-visible":!!i.length&&n,children:n&&g.jsxs(g.Fragment,{children:[g.jsx(lre,{className:"UseKeyboardIndicator",children:"Use indicated keys on your keyboard"}),i.map(([s,l])=>{const{view:c,defaultLabel:d}=are[s];return g.jsxs(OI,{children:[g.jsx(PI,{children:l??d}),g.jsx(jI,{children:g.jsx(c,{})})]},s)}),g.jsxs(OI,{children:[g.jsx(PI,{children:"Show/hide this help"}),g.jsx(jI,{children:gB("h")()})]})]})})})}const yE=({vertical:e=!1,horizontal:t=!1})=>g.jsxs(g.Fragment,{children:[g.jsx(ya,{disabled:!e,children:""}),g.jsx("br",{}),g.jsx(ya,{disabled:!t,children:""}),g.jsx(ya,{disabled:!e,children:""}),g.jsx(ya,{disabled:!t,children:""})]}),tre=()=>g.jsx(yE,{horizontal:!0}),nre=()=>g.jsx(yE,{vertical:!0}),rre=()=>g.jsx(yE,{vertical:!0,horizontal:!0}),ire=()=>g.jsx(ya,{children:"Enter "}),sre=()=>g.jsx(ya,{children:"Backspace "}),gB=e=>()=>g.jsxs(g.Fragment,{children:[g.jsx(ya,{children:"Shift"})," + ",g.jsx(ya,{children:e.toUpperCase()})]}),ore=()=>g.jsx(g.Fragment,{children:g.jsx(ya,{children:"start typing"})}),are={"horizontal-vertical":{view:rre,defaultLabel:"Navigate"},horizontal:{view:tre,defaultLabel:"Navigate"},vertical:{view:nre,defaultLabel:"Navigate"},accept:{view:ire,defaultLabel:"Select"},back:{view:sre,defaultLabel:"Go back"},shiftR:{view:gB("r"),defaultLabel:"Pick random"},alphanumeric:{view:ore,defaultLabel:"Search"}},OI=En.div`flex items-center gap-4`,jI=En.div`flex-nowrap flex-[2] text-white font-bold text-center [&_kbd]:m-1`,PI=En(ps)`flex-[3] text-base text-right`,lre=En(ps)`absolute inset-0 bg-black/75 flex items-center justify-center text-white text-md p-8 invisible opacity-0 duration-300 hover:opacity-100 hover:visible`,cre=En(uu)(e=>["fixed top-[5rem] right-0 p-2 items-stretch gap-4 w-[34rem] cursor-pointer scale-75 z-[1000] [view-transition-name:help-view] [&_svg]:fill-white [&_.UseKeyboardIndicator]:hover:opacity-100 [&_.UseKeyboardIndicator]:hover:visible",e["data-visible"]?"flex mobile:hidden":"hidden"]),ya=En.kbd(e=>["py-3 px-4 rounded-md border-t-gray-300 border-l-gray-300 border-solid border-[1.25px] border-gray-500 text-gray-700 leading-4 text-sm bg-gray-50 inline-block font-normal",e.disabled?"opacity-25":"opacity-100"]),AE=x.createContext({setKeyboard:(e,t)=>{},unsetKeyboard:e=>{},hasContent:!1}),ure=({children:e})=>{const[t,n]=x.useState({}),r=(h,p)=>{n(v=>({...v,[h]:p}))},i=h=>n(p=>Ite(p,[h])),[s,l]=Object.entries(t).at(-1)??[];gi(me.remoteMicConnected,({id:h})=>{var p;(p=Vt.getRemoteMicById(h))==null||p.connection.send({t:"keyboard-layout",help:l})}),x.useEffect(()=>{Vt.broadcast({t:"keyboard-layout",help:l})},[s]);const{remote:c,...d}=l??{},u=!!Object.values(d).length;return g.jsxs(AE.Provider,{value:{setKeyboard:r,unsetKeyboard:i,hasContent:u},children:[e,g.jsx(ere,{help:d}),g.jsx(nne,{})]})};var F1,VI;function dre(){return VI||(VI=1,F1={webm:"data:video/webm;base64,GkXfowEAAAAAAAAfQoaBAUL3gQFC8oEEQvOBCEKChHdlYm1Ch4EEQoWBAhhTgGcBAAAAAAAVkhFNm3RALE27i1OrhBVJqWZTrIHfTbuMU6uEFlSua1OsggEwTbuMU6uEHFO7a1OsghV17AEAAAAAAACkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmAQAAAAAAAEUq17GDD0JATYCNTGF2ZjU1LjMzLjEwMFdBjUxhdmY1NS4zMy4xMDBzpJBlrrXf3DCDVB8KcgbMpcr+RImIQJBgAAAAAAAWVK5rAQAAAAAAD++uAQAAAAAAADLXgQFzxYEBnIEAIrWcg3VuZIaFVl9WUDiDgQEj44OEAmJaAOABAAAAAAAABrCBsLqBkK4BAAAAAAAPq9eBAnPFgQKcgQAitZyDdW5khohBX1ZPUkJJU4OBAuEBAAAAAAAAEZ+BArWIQOdwAAAAAABiZIEgY6JPbwIeVgF2b3JiaXMAAAAAAoC7AAAAAAAAgLUBAAAAAAC4AQN2b3JiaXMtAAAAWGlwaC5PcmcgbGliVm9yYmlzIEkgMjAxMDExMDEgKFNjaGF1ZmVudWdnZXQpAQAAABUAAABlbmNvZGVyPUxhdmM1NS41Mi4xMDIBBXZvcmJpcyVCQ1YBAEAAACRzGCpGpXMWhBAaQlAZ4xxCzmvsGUJMEYIcMkxbyyVzkCGkoEKIWyiB0JBVAABAAACHQXgUhIpBCCGEJT1YkoMnPQghhIg5eBSEaUEIIYQQQgghhBBCCCGERTlokoMnQQgdhOMwOAyD5Tj4HIRFOVgQgydB6CCED0K4moOsOQghhCQ1SFCDBjnoHITCLCiKgsQwuBaEBDUojILkMMjUgwtCiJqDSTX4GoRnQXgWhGlBCCGEJEFIkIMGQcgYhEZBWJKDBjm4FITLQagahCo5CB+EIDRkFQCQAACgoiiKoigKEBqyCgDIAAAQQFEUx3EcyZEcybEcCwgNWQUAAAEACAAAoEiKpEiO5EiSJFmSJVmSJVmS5omqLMuyLMuyLMsyEBqyCgBIAABQUQxFcRQHCA1ZBQBkAAAIoDiKpViKpWiK54iOCISGrAIAgAAABAAAEDRDUzxHlETPVFXXtm3btm3btm3btm3btm1blmUZCA1ZBQBAAAAQ0mlmqQaIMAMZBkJDVgEACAAAgBGKMMSA0JBVAABAAACAGEoOogmtOd+c46BZDppKsTkdnEi1eZKbirk555xzzsnmnDHOOeecopxZDJoJrTnnnMSgWQqaCa0555wnsXnQmiqtOeeccc7pYJwRxjnnnCateZCajbU555wFrWmOmkuxOeecSLl5UptLtTnnnHPOOeecc84555zqxekcnBPOOeecqL25lpvQxTnnnE/G6d6cEM4555xzzjnnnHPOOeecIDRkFQAABABAEIaNYdwpCNLnaCBGEWIaMulB9+gwCRqDnELq0ehopJQ6CCWVcVJKJwgNWQUAAAIAQAghhRRSSCGFFFJIIYUUYoghhhhyyimnoIJKKqmooowyyyyzzDLLLLPMOuyssw47DDHEEEMrrcRSU2011lhr7jnnmoO0VlprrbVSSimllFIKQkNWAQAgAAAEQgYZZJBRSCGFFGKIKaeccgoqqIDQkFUAACAAgAAAAABP8hzRER3RER3RER3RER3R8RzPESVREiVREi3TMjXTU0VVdWXXlnVZt31b2IVd933d933d+HVhWJZlWZZlWZZlWZZlWZZlWZYgNGQVAAACAAAghBBCSCGFFFJIKcYYc8w56CSUEAgNWQUAAAIACAAAAHAUR3EcyZEcSbIkS9IkzdIsT/M0TxM9URRF0zRV0RVdUTdtUTZl0zVdUzZdVVZtV5ZtW7Z125dl2/d93/d93/d93/d93/d9XQdCQ1YBABIAADqSIymSIimS4ziOJElAaMgqAEAGAEAAAIriKI7jOJIkSZIlaZJneZaomZrpmZ4qqkBoyCoAABAAQAAAAAAAAIqmeIqpeIqoeI7oiJJomZaoqZoryqbsuq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq4LhIasAgAkAAB0JEdyJEdSJEVSJEdygNCQVQCADACAAAAcwzEkRXIsy9I0T/M0TxM90RM901NFV3SB0JBVAAAgAIAAAAAAAAAMybAUy9EcTRIl1VItVVMt1VJF1VNVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVN0zRNEwgNWQkAkAEAkBBTLS3GmgmLJGLSaqugYwxS7KWxSCpntbfKMYUYtV4ah5RREHupJGOKQcwtpNApJq3WVEKFFKSYYyoVUg5SIDRkhQAQmgHgcBxAsixAsiwAAAAAAAAAkDQN0DwPsDQPAAAAAAAAACRNAyxPAzTPAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABA0jRA8zxA8zwAAAAAAAAA0DwP8DwR8EQRAAAAAAAAACzPAzTRAzxRBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABA0jRA8zxA8zwAAAAAAAAAsDwP8EQR0DwRAAAAAAAAACzPAzxRBDzRAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAEOAAABBgIRQasiIAiBMAcEgSJAmSBM0DSJYFTYOmwTQBkmVB06BpME0AAAAAAAAAAAAAJE2DpkHTIIoASdOgadA0iCIAAAAAAAAAAAAAkqZB06BpEEWApGnQNGgaRBEAAAAAAAAAAAAAzzQhihBFmCbAM02IIkQRpgkAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAGHAAAAgwoQwUGrIiAIgTAHA4imUBAIDjOJYFAACO41gWAABYliWKAABgWZooAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAYcAAACDChDBQashIAiAIAcCiKZQHHsSzgOJYFJMmyAJYF0DyApgFEEQAIAAAocAAACLBBU2JxgEJDVgIAUQAABsWxLE0TRZKkaZoniiRJ0zxPFGma53meacLzPM80IYqiaJoQRVE0TZimaaoqME1VFQAAUOAAABBgg6bE4gCFhqwEAEICAByKYlma5nmeJ4qmqZokSdM8TxRF0TRNU1VJkqZ5niiKommapqqyLE3zPFEURdNUVVWFpnmeKIqiaaqq6sLzPE8URdE0VdV14XmeJ4qiaJqq6roQRVE0TdNUTVV1XSCKpmmaqqqqrgtETxRNU1Vd13WB54miaaqqq7ouEE3TVFVVdV1ZBpimaaqq68oyQFVV1XVdV5YBqqqqruu6sgxQVdd1XVmWZQCu67qyLMsCAAAOHAAAAoygk4wqi7DRhAsPQKEhKwKAKAAAwBimFFPKMCYhpBAaxiSEFEImJaXSUqogpFJSKRWEVEoqJaOUUmopVRBSKamUCkIqJZVSAADYgQMA2IGFUGjISgAgDwCAMEYpxhhzTiKkFGPOOScRUoox55yTSjHmnHPOSSkZc8w556SUzjnnnHNSSuacc845KaVzzjnnnJRSSuecc05KKSWEzkEnpZTSOeecEwAAVOAAABBgo8jmBCNBhYasBABSAQAMjmNZmuZ5omialiRpmud5niiapiZJmuZ5nieKqsnzPE8URdE0VZXneZ4oiqJpqirXFUXTNE1VVV2yLIqmaZqq6rowTdNUVdd1XZimaaqq67oubFtVVdV1ZRm2raqq6rqyDFzXdWXZloEsu67s2rIAAPAEBwCgAhtWRzgpGgssNGQlAJABAEAYg5BCCCFlEEIKIYSUUggJAAAYcAAACDChDBQashIASAUAAIyx1lprrbXWQGettdZaa62AzFprrbXWWmuttdZaa6211lJrrbXWWmuttdZaa6211lprrbXWWmuttdZaa6211lprrbXWWmuttdZaa6211lprrbXWWmstpZRSSimllFJKKaWUUkoppZRSSgUA+lU4APg/2LA6wknRWGChISsBgHAAAMAYpRhzDEIppVQIMeacdFRai7FCiDHnJKTUWmzFc85BKCGV1mIsnnMOQikpxVZjUSmEUlJKLbZYi0qho5JSSq3VWIwxqaTWWoutxmKMSSm01FqLMRYjbE2ptdhqq7EYY2sqLbQYY4zFCF9kbC2m2moNxggjWywt1VprMMYY3VuLpbaaizE++NpSLDHWXAAAd4MDAESCjTOsJJ0VjgYXGrISAAgJACAQUooxxhhzzjnnpFKMOeaccw5CCKFUijHGnHMOQgghlIwx5pxzEEIIIYRSSsaccxBCCCGEkFLqnHMQQgghhBBKKZ1zDkIIIYQQQimlgxBCCCGEEEoopaQUQgghhBBCCKmklEIIIYRSQighlZRSCCGEEEIpJaSUUgohhFJCCKGElFJKKYUQQgillJJSSimlEkoJJYQSUikppRRKCCGUUkpKKaVUSgmhhBJKKSWllFJKIYQQSikFAAAcOAAABBhBJxlVFmGjCRcegEJDVgIAZAAAkKKUUiktRYIipRikGEtGFXNQWoqocgxSzalSziDmJJaIMYSUk1Qy5hRCDELqHHVMKQYtlRhCxhik2HJLoXMOAAAAQQCAgJAAAAMEBTMAwOAA4XMQdAIERxsAgCBEZohEw0JweFAJEBFTAUBigkIuAFRYXKRdXECXAS7o4q4DIQQhCEEsDqCABByccMMTb3jCDU7QKSp1IAAAAAAADADwAACQXAAREdHMYWRobHB0eHyAhIiMkAgAAAAAABcAfAAAJCVAREQ0cxgZGhscHR4fICEiIyQBAIAAAgAAAAAggAAEBAQAAAAAAAIAAAAEBB9DtnUBAAAAAAAEPueBAKOFggAAgACjzoEAA4BwBwCdASqwAJAAAEcIhYWIhYSIAgIABhwJ7kPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99YAD+/6tQgKOFggADgAqjhYIAD4AOo4WCACSADqOZgQArADECAAEQEAAYABhYL/QACIBDmAYAAKOFggA6gA6jhYIAT4AOo5mBAFMAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAGSADqOFggB6gA6jmYEAewAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIAj4AOo5mBAKMAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAKSADqOFggC6gA6jmYEAywAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIAz4AOo4WCAOSADqOZgQDzADECAAEQEAAYABhYL/QACIBDmAYAAKOFggD6gA6jhYIBD4AOo5iBARsAEQIAARAQFGAAYWC/0AAiAQ5gGACjhYIBJIAOo4WCATqADqOZgQFDADECAAEQEAAYABhYL/QACIBDmAYAAKOFggFPgA6jhYIBZIAOo5mBAWsAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAXqADqOFggGPgA6jmYEBkwAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIBpIAOo4WCAbqADqOZgQG7ADECAAEQEAAYABhYL/QACIBDmAYAAKOFggHPgA6jmYEB4wAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIB5IAOo4WCAfqADqOZgQILADECAAEQEAAYABhYL/QACIBDmAYAAKOFggIPgA6jhYICJIAOo5mBAjMAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAjqADqOFggJPgA6jmYECWwAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYICZIAOo4WCAnqADqOZgQKDADECAAEQEAAYABhYL/QACIBDmAYAAKOFggKPgA6jhYICpIAOo5mBAqsAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCArqADqOFggLPgA6jmIEC0wARAgABEBAUYABhYL/QACIBDmAYAKOFggLkgA6jhYIC+oAOo5mBAvsAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAw+ADqOZgQMjADECAAEQEAAYABhYL/QACIBDmAYAAKOFggMkgA6jhYIDOoAOo5mBA0sAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCA0+ADqOFggNkgA6jmYEDcwAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIDeoAOo4WCA4+ADqOZgQObADECAAEQEAAYABhYL/QACIBDmAYAAKOFggOkgA6jhYIDuoAOo5mBA8MAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCA8+ADqOFggPkgA6jhYID+oAOo4WCBA+ADhxTu2sBAAAAAAAAEbuPs4EDt4r3gQHxghEr8IEK",mp4:"data:video/mp4;base64,AAAAHGZ0eXBNNFYgAAACAGlzb21pc28yYXZjMQAAAAhmcmVlAAAGF21kYXTeBAAAbGliZmFhYyAxLjI4AABCAJMgBDIARwAAArEGBf//rdxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNDIgcjIgOTU2YzhkOCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTQgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0wIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz02IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MCB3ZWlnaHRwPTAga2V5aW50PTI1MCBrZXlpbnRfbWluPTI1IHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcmM9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCB2YnZfbWF4cmF0ZT03NjggdmJ2X2J1ZnNpemU9MzAwMCBjcmZfbWF4PTAuMCBuYWxfaHJkPW5vbmUgZmlsbGVyPTAgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAAFZliIQL8mKAAKvMnJycnJycnJycnXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXiEASZACGQAjgCEASZACGQAjgAAAAAdBmjgX4GSAIQBJkAIZACOAAAAAB0GaVAX4GSAhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGagC/AySEASZACGQAjgAAAAAZBmqAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZrAL8DJIQBJkAIZACOAAAAABkGa4C/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmwAvwMkhAEmQAhkAI4AAAAAGQZsgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGbQC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm2AvwMkhAEmQAhkAI4AAAAAGQZuAL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGboC/AySEASZACGQAjgAAAAAZBm8AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZvgL8DJIQBJkAIZACOAAAAABkGaAC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmiAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpAL8DJIQBJkAIZACOAAAAABkGaYC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmoAvwMkhAEmQAhkAI4AAAAAGQZqgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGawC/AySEASZACGQAjgAAAAAZBmuAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZsAL8DJIQBJkAIZACOAAAAABkGbIC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm0AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZtgL8DJIQBJkAIZACOAAAAABkGbgCvAySEASZACGQAjgCEASZACGQAjgAAAAAZBm6AnwMkhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AAAAhubW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAABDcAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAzB0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAA+kAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAALAAAACQAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAPpAAAAAAABAAAAAAKobWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAB1MAAAdU5VxAAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABWaWRlb0hhbmRsZXIAAAACU21pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAhNzdGJsAAAAr3N0c2QAAAAAAAAAAQAAAJ9hdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAALAAkABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAALWF2Y0MBQsAN/+EAFWdCwA3ZAsTsBEAAAPpAADqYA8UKkgEABWjLg8sgAAAAHHV1aWRraEDyXyRPxbo5pRvPAyPzAAAAAAAAABhzdHRzAAAAAAAAAAEAAAAeAAAD6QAAABRzdHNzAAAAAAAAAAEAAAABAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAABAAAAAQAAAIxzdHN6AAAAAAAAAAAAAAAeAAADDwAAAAsAAAALAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAAiHN0Y28AAAAAAAAAHgAAAEYAAANnAAADewAAA5gAAAO0AAADxwAAA+MAAAP2AAAEEgAABCUAAARBAAAEXQAABHAAAASMAAAEnwAABLsAAATOAAAE6gAABQYAAAUZAAAFNQAABUgAAAVkAAAFdwAABZMAAAWmAAAFwgAABd4AAAXxAAAGDQAABGh0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAACAAAAAAAABDcAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAQkAAADcAABAAAAAAPgbWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAAykBVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAADi21pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAADT3N0YmwAAABnc3RzZAAAAAAAAAABAAAAV21wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAAM2VzZHMAAAAAA4CAgCIAAgAEgICAFEAVBbjYAAu4AAAADcoFgICAAhGQBoCAgAECAAAAIHN0dHMAAAAAAAAAAgAAADIAAAQAAAAAAQAAAkAAAAFUc3RzYwAAAAAAAAAbAAAAAQAAAAEAAAABAAAAAgAAAAIAAAABAAAAAwAAAAEAAAABAAAABAAAAAIAAAABAAAABgAAAAEAAAABAAAABwAAAAIAAAABAAAACAAAAAEAAAABAAAACQAAAAIAAAABAAAACgAAAAEAAAABAAAACwAAAAIAAAABAAAADQAAAAEAAAABAAAADgAAAAIAAAABAAAADwAAAAEAAAABAAAAEAAAAAIAAAABAAAAEQAAAAEAAAABAAAAEgAAAAIAAAABAAAAFAAAAAEAAAABAAAAFQAAAAIAAAABAAAAFgAAAAEAAAABAAAAFwAAAAIAAAABAAAAGAAAAAEAAAABAAAAGQAAAAIAAAABAAAAGgAAAAEAAAABAAAAGwAAAAIAAAABAAAAHQAAAAEAAAABAAAAHgAAAAIAAAABAAAAHwAAAAQAAAABAAAA4HN0c3oAAAAAAAAAAAAAADMAAAAaAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAACMc3RjbwAAAAAAAAAfAAAALAAAA1UAAANyAAADhgAAA6IAAAO+AAAD0QAAA+0AAAQAAAAEHAAABC8AAARLAAAEZwAABHoAAASWAAAEqQAABMUAAATYAAAE9AAABRAAAAUjAAAFPwAABVIAAAVuAAAFgQAABZ0AAAWwAAAFzAAABegAAAX7AAAGFwAAAGJ1ZHRhAAAAWm1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAALWlsc3QAAAAlqXRvbwAAAB1kYXRhAAAAAQAAAABMYXZmNTUuMzMuMTAw"}),F1}var z1,DI;function fre(){if(DI)return z1;DI=1;const{webm:e,mp4:t}=dre(),n=()=>typeof navigator<"u"&&parseFloat((""+(/CPU.*OS ([0-9_]{3,4})[0-9_]{0,1}|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))<10&&!window.MSStream,r=()=>"wakeLock"in navigator&&window.navigator.userAgent.indexOf("Samsung")===-1;class i{constructor(){if(this.enabled=!1,r()){this._wakeLock=null;const l=()=>{this._wakeLock!==null&&document.visibilityState==="visible"&&this.enable()};document.addEventListener("visibilitychange",l),document.addEventListener("fullscreenchange",l)}else n()?this.noSleepTimer=null:(this.noSleepVideo=document.createElement("video"),this.noSleepVideo.setAttribute("title","No Sleep"),this.noSleepVideo.setAttribute("playsinline",""),this._addSourceToVideo(this.noSleepVideo,"webm",e),this._addSourceToVideo(this.noSleepVideo,"mp4",t),Object.assign(this.noSleepVideo.style,{position:"absolute",left:"-100%",top:"-100%"}),document.querySelector("body").append(this.noSleepVideo),this.noSleepVideo.addEventListener("loadedmetadata",()=>{this.noSleepVideo.duration<=1?this.noSleepVideo.setAttribute("loop",""):this.noSleepVideo.addEventListener("timeupdate",()=>{this.noSleepVideo.currentTime>.5&&(this.noSleepVideo.currentTime=Math.random())})}))}_addSourceToVideo(l,c,d){var u=document.createElement("source");u.src=d,u.type=`video/${c}`,l.appendChild(u)}get isEnabled(){return this.enabled}enable(){return r()?navigator.wakeLock.request("screen").then(l=>{this._wakeLock=l,this.enabled=!0,console.log("Wake Lock active."),this._wakeLock.addEventListener("release",()=>{console.log("Wake Lock released.")})}).catch(l=>{throw this.enabled=!1,console.error(`${l.name}, ${l.message}`),l}):n()?(this.disable(),console.warn(`
        NoSleep enabled for older iOS devices. This can interrupt
        active or long-running network requests from completing successfully.
        See https://github.com/richtr/NoSleep.js/issues/15 for more details.
      `),this.noSleepTimer=window.setInterval(()=>{document.hidden||(window.location.href=window.location.href.split("#")[0],window.setTimeout(window.stop,0))},15e3),this.enabled=!0,Promise.resolve()):this.noSleepVideo.play().then(c=>(this.enabled=!0,c)).catch(c=>{throw this.enabled=!1,c})}disable(){r()?(this._wakeLock&&this._wakeLock.release(),this._wakeLock=null):n()?this.noSleepTimer&&(console.warn(`
          NoSleep now disabled for older iOS devices.
        `),window.clearInterval(this.noSleepTimer),this.noSleepTimer=null):this.noSleepVideo.pause(),this.enabled=!1}}return z1=i,z1}var hre=fre();const pre=Pr(hre),BI=()=>({width:global.document.body.clientWidth,height:global.visualViewport.height});function mf(){const[e,t]=x.useState(BI()),n=x.useCallback(kd(()=>{t(BI())},1e3),[]);return x.useEffect(()=>(global.addEventListener("resize",n),n(),()=>global.removeEventListener("resize",n)),[]),{...e,handleResize:n}}const gre=45,mre=7,vre=.005,yre="#ddd",NI=[];function Are(){const e=x.useRef(null);x.useEffect(()=>{const r=e.current;if(!r)return;const i=r.getContext("2d"),s=(h=1)=>({x:Math.random()*r.width,y:Math.random()/h*r.height,opacity:0,radius:Math.floor(Math.random()*mre)+1,color:yre,speed:Math.random()*vre+1,sway:Math.random()-.5}),l=h=>{i&&(i.beginPath(),i.arc(h.x,h.y,h.radius,0,Math.PI*2),i.globalAlpha=h.opacity,i.fillStyle=h.color,i.fill(),i.closePath(),i.globalAlpha=1)},c=h=>{h.y+=h.speed,h.opacity=Math.min(1,h.opacity+h.speed-1),h.x+=h.sway,h.y>r.height&&Object.assign(h,s(1))};let d=!0;const u=()=>{i!==null&&(i.clearRect(0,0,r.width,r.height),NI.forEach(h=>{c(h),l(h)}),d&&requestAnimationFrame(u))};for(let h=0;h<gre;h++)NI.push(s());return u(),()=>{d=!1}},[]);const{width:t,height:n}=mf();return g.jsx("canvas",{ref:e,width:t,height:n})}const bre="/assets/eurovisionbg-CvR5q-FP.svg",Zp=x.createContext({visible:!0,theme:"regular",setVisibility:e=>{},setTheme:e=>{}}),ja=(e,t="regular")=>{const{setVisibility:n,setTheme:r}=x.useContext(Zp);x.useEffect(()=>{n(e)},[e,n]),x.useEffect(()=>{r(t)},[t,r])},LI={default:{backgroundImage:`linear-gradient(-45deg, ${Xe.red.stroke}, ${Xe.blue.text}, ${Xe.blue.stroke}, ${Xe.red.stroke})`,backgroundSize:"400% 400%"},christmas:{backgroundImage:`linear-gradient(-45deg, ${Xe.christmasGreen.text}, ${Xe.christmasGreen.stroke}, #05144a, #05144a)`,backgroundSize:"400% 400%"},halloween:{background:"black"}};function _re({children:e}){const[t,n]=x.useState(!0),[r,i]=x.useState("regular"),[s]=bt(Vs);return g.jsxs(Zp.Provider,{value:{visible:t,setVisibility:n,setTheme:i,theme:r},children:[t&&g.jsx(Ere,{"data-theme":r,"data-graphic-level":s,style:LI[r]??LI.default,children:r==="christmas"&&g.jsx(Are,{})}),e]})}const Sre={name:"1skrp57",styles:"animation:escGradient 46s linear infinite;flex:1;@keyframes escGradient{0%{background-position:0% 800%;}100%{background-position:0% 0%;}}"},xre=K("div",{target:"ev6htcq0"})("transform:scale(1, 4);background-image:url(",bre,");background-size:100% 50%;height:100%;&[data-animate='true']{",Sre,";}"),FI=()=>{var e;return g.jsx(xre,{"data-animate":!((e=global.location)!=null&&e.href.includes("/remote-mic"))})},wre=En.div`bg-white w-full h-full`,Ere=En(wre)(e=>["z-[-1] top-0 fixed",e["data-theme"]==="halloween"?"bg-black":"",e["data-graphic-level"]==="high"?"animate-gradient":""]);function Tre({size:e=16}){return g.jsx("style",{children:`html {
                font-size: ${e}px !important;
            }`})}function Iy(e){return x.useMemo(()=>{var t;return new URLSearchParams((t=global.location)==null?void 0:t.search).get(e)},[e])}const Cre=K("div",{target:"e1py91zd0"})(":root{--player-blue-text:",Xe.blue.text,";--player-blue-stroke:",Xe.blue.stroke,";--player-blue-star-fill:",Xe.blue.star.fill,";--player-blue-star-stroke:",Xe.blue.star.stroke,";--player-blue-perfect-fill:",Xe.blue.perfect.fill,";--player-blue-perfect-stroke:",Xe.blue.perfect.stroke,";--player-blue-starPerfect-fill:",Xe.blue.starPerfect.fill,";--player-blue-starPerfect-stroke:",Xe.blue.starPerfect.stroke,";--player-blue-hit-fill:",Xe.blue.hit.fill,";--player-blue-hit-stroke:",Xe.blue.hit.stroke,";--player-blue-miss-fill:",Xe.blue.miss.fill,";--player-blue-miss-stroke:",Xe.blue.miss.stroke,";}h1{",Ot,";margin:0;text-align:center;font-size:4rem;color:",Ue.colors.text.active,";}h2{",Ot,";margin:0;font-size:2.9rem;}h3{",Ot,";margin:0;font-size:2.7rem;strong{color:",Ue.colors.text.active,";}}h4{",Ot,";margin:0;font-size:2.2rem;line-height:1.15;}h5{",Ot,";margin:0;font-size:1.6rem;line-height:1.5;}h6{",Ot,";margin:0;line-height:1.5;font-size:1.3rem;}hr{margin:0.5rem 1rem;opacity:0.25;}h1,h2,h3,h4,h5{button{",Ot,";background:none;padding:0;margin:0;border:none;font-size:inherit;color:",Ue.colors.text.active,";text-decoration:underline;cursor:pointer;}svg{font-size:0.8em;}}strong{color:",Ue.colors.text.active,";}");function Mo(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function mB(e){if(x.isValidElement(e)||!Mo(e))return e;const t={};return Object.keys(e).forEach(n=>{t[n]=mB(e[n])}),t}function Hi(e,t,n={clone:!0}){const r=n.clone?{...e}:e;return Mo(e)&&Mo(t)&&Object.keys(t).forEach(i=>{x.isValidElement(t[i])?r[i]=t[i]:Mo(t[i])&&Object.prototype.hasOwnProperty.call(e,i)&&Mo(e[i])?r[i]=Hi(e[i],t[i],n):n.clone?r[i]=Mo(t[i])?mB(t[i]):t[i]:r[i]=t[i]}),r}var $1={exports:{}},U1,zI;function kre(){if(zI)return U1;zI=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return U1=e,U1}var H1,$I;function Mre(){if($I)return H1;$I=1;var e=kre();function t(){}function n(){}return n.resetWarningCache=t,H1=function(){function r(l,c,d,u,h,p){if(p!==e){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return s.PropTypes=s,s},H1}var UI;function Rre(){return UI||(UI=1,$1.exports=Mre()()),$1.exports}var Ire=Rre();const It=Pr(Ire);function Yc(e,...t){const n=new URL(`https://mui.com/production-error/?code=${e}`);return t.forEach(r=>n.searchParams.append("args[]",r)),`Minified MUI error #${e}; visit ${n} for the full message.`}function qt(e){if(typeof e!="string")throw new Error(Yc(7));return e.charAt(0).toUpperCase()+e.slice(1)}function HI(...e){return e.reduce((t,n)=>n==null?t:function(...i){t.apply(this,i),n.apply(this,i)},()=>{})}function Kc(e){return e&&e.ownerDocument||document}function Mv(e){return Kc(e).defaultView||window}function Sx(e,t){typeof e=="function"?e(t):e&&(e.current=t)}const xx=typeof window<"u"?x.useLayoutEffect:x.useEffect;let qI=0;function Ore(e){const[t,n]=x.useState(e),r=e||t;return x.useEffect(()=>{t==null&&(qI+=1,n(`mui-${qI}`))},[t]),r}const jre={...lv},GI=jre.useId;function Pre(e){if(GI!==void 0){const t=GI();return e??t}return Ore(e)}function vd(e){const t=x.useRef(e);return xx(()=>{t.current=e}),x.useRef((...n)=>(0,t.current)(...n)).current}function Cl(...e){return x.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(n=>{Sx(n,t)})},e)}const YI={};function vB(e,t){const n=x.useRef(YI);return n.current===YI&&(n.current=e(t)),n}const Vre=[];function Dre(e){x.useEffect(e,Vre)}class bE{constructor(){vh(this,"currentId",null);vh(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});vh(this,"disposeEffect",()=>this.clear)}static create(){return new bE}start(t,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},t)}}function Bre(){const e=vB(bE.create).current;return Dre(e.disposeEffect),e}function KI(e){try{return e.matches(":focus-visible")}catch{}return!1}function Nre(e=window){const t=e.document.documentElement.clientWidth;return e.innerWidth-t}function Rv(e,t){const n={...t};for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){const i=r;if(i==="components"||i==="slots")n[i]={...e[i],...n[i]};else if(i==="componentsProps"||i==="slotProps"){const s=e[i],l=t[i];if(!l)n[i]=s||{};else if(!s)n[i]=l;else{n[i]={...l};for(const c in s)if(Object.prototype.hasOwnProperty.call(s,c)){const d=c;n[i][d]=Rv(s[d],l[d])}}}else n[i]===void 0&&(n[i]=e[i])}return n}function Oi(e,t,n=void 0){const r={};for(const i in e){const s=e[i];let l="",c=!0;for(let d=0;d<s.length;d+=1){const u=s[d];u&&(l+=(c===!0?"":" ")+t(u),c=!1,n&&n[u]&&(l+=" "+n[u]))}r[i]=l}return r}const WI=e=>e,Lre=()=>{let e=WI;return{configure(t){e=t},generate(t){return e(t)},reset(){e=WI}}},Fre=Lre(),zre={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function vi(e,t,n="Mui"){const r=zre[t];return r?`${n}-${r}`:`${Fre.generate(e)}-${t}`}function yi(e,t,n="Mui"){const r={};return t.forEach(i=>{r[i]=vi(e,i,n)}),r}function $re(e,t=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(t,Math.min(e,n))}function Ure(e){return typeof e=="string"}function Hre(e,t,n){return e===void 0||Ure(e)?t:{...t,ownerState:{...t.ownerState,...n}}}function yB(e,t=[]){if(e===void 0)return{};const n={};return Object.keys(e).filter(r=>r.match(/^on[A-Z]/)&&typeof e[r]=="function"&&!t.includes(r)).forEach(r=>{n[r]=e[r]}),n}function QI(e){if(e===void 0)return{};const t={};return Object.keys(e).filter(n=>!(n.match(/^on[A-Z]/)&&typeof e[n]=="function")).forEach(n=>{t[n]=e[n]}),t}function qre(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:s}=e;if(!t){const y=Bt(n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),b={...n==null?void 0:n.style,...i==null?void 0:i.style,...r==null?void 0:r.style},_={...n,...i,...r};return y.length>0&&(_.className=y),Object.keys(b).length>0&&(_.style=b),{props:_,internalRef:void 0}}const l=yB({...i,...r}),c=QI(r),d=QI(i),u=t(l),h=Bt(u==null?void 0:u.className,n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),p={...u==null?void 0:u.style,...n==null?void 0:n.style,...i==null?void 0:i.style,...r==null?void 0:r.style},v={...u,...n,...d,...c};return h.length>0&&(v.className=h),Object.keys(p).length>0&&(v.style=p),{props:v,internalRef:u.ref}}function Gre(e,t,n){return typeof e=="function"?e(t,n):e}function _E(e){var t;return parseInt(x.version,10)>=19?((t=e==null?void 0:e.props)==null?void 0:t.ref)||null:(e==null?void 0:e.ref)||null}function ap(e,t){return t?Hi(e,t,{clone:!1}):e}function Yre(e,t){if(!e.containerQueries)return t;const n=Object.keys(t).filter(r=>r.startsWith("@container")).sort((r,i)=>{var l,c;const s=/min-width:\s*([0-9.]+)/;return+(((l=r.match(s))==null?void 0:l[1])||0)-+(((c=i.match(s))==null?void 0:c[1])||0)});return n.length?n.reduce((r,i)=>{const s=t[i];return delete r[i],r[i]=s,r},{...t}):t}function Kre(e,t){return t==="@"||t.startsWith("@")&&(e.some(n=>t.startsWith(`@${n}`))||!!t.match(/^@\d/))}function Wre(e,t){const n=t.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,i]=n,s=Number.isNaN(+r)?r||0:+r;return e.containerQueries(i).up(s)}function Qre(e){const t=(s,l)=>s.replace("@media",l?`@container ${l}`:"@container");function n(s,l){s.up=(...c)=>t(e.breakpoints.up(...c),l),s.down=(...c)=>t(e.breakpoints.down(...c),l),s.between=(...c)=>t(e.breakpoints.between(...c),l),s.only=(...c)=>t(e.breakpoints.only(...c),l),s.not=(...c)=>{const d=t(e.breakpoints.not(...c),l);return d.includes("not all and")?d.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):d}}const r={},i=s=>(n(r,s),r);return n(i),{...e,containerQueries:i}}const Oy={xs:0,sm:600,md:900,lg:1200,xl:1536},XI={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${Oy[e]}px)`},Xre={containerQueries:e=>({up:t=>{let n=typeof t=="number"?t:Oy[t]||t;return typeof n=="number"&&(n=`${n}px`),e?`@container ${e} (min-width:${n})`:`@container (min-width:${n})`}})};function Ra(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const s=r.breakpoints||XI;return t.reduce((l,c,d)=>(l[s.up(s.keys[d])]=n(t[d]),l),{})}if(typeof t=="object"){const s=r.breakpoints||XI;return Object.keys(t).reduce((l,c)=>{if(Kre(s.keys,c)){const d=Wre(r.containerQueries?r:Xre,c);d&&(l[d]=n(t[c],c))}else if(Object.keys(s.values||Oy).includes(c)){const d=s.up(c);l[d]=n(t[c],c)}else{const d=c;l[d]=t[d]}return l},{})}return n(t)}function AB(e={}){var n;return((n=e.keys)==null?void 0:n.reduce((r,i)=>{const s=e.up(i);return r[s]={},r},{}))||{}}function bB(e,t){return e.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},t)}function z1e(e,...t){const n=AB(e),r=[n,...t].reduce((i,s)=>Hi(i,s),{});return bB(Object.keys(n),r)}function Jre(e,t){if(typeof e!="object")return{};const n={},r=Object.keys(t);return Array.isArray(e)?r.forEach((i,s)=>{s<e.length&&(n[i]=!0)}):r.forEach(i=>{e[i]!=null&&(n[i]=!0)}),n}function $1e({values:e,breakpoints:t,base:n}){const r=n||Jre(e,t),i=Object.keys(r);if(i.length===0)return e;let s;return i.reduce((l,c,d)=>(Array.isArray(e)?(l[c]=e[d]!=null?e[d]:e[s],s=d):typeof e=="object"?(l[c]=e[c]!=null?e[c]:e[s],s=c):l[c]=e,l),{})}function jy(e,t,n=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&n){const r=`vars.${t}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,e);if(r!=null)return r}return t.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,e)}function Iv(e,t,n,r=n){let i;return typeof e=="function"?i=e(n):Array.isArray(e)?i=e[n]||r:i=jy(e,n)||r,t&&(i=t(i,r,e)),i}function br(e){const{prop:t,cssProperty:n=e.prop,themeKey:r,transform:i}=e,s=l=>{if(l[t]==null)return null;const c=l[t],d=l.theme,u=jy(d,r)||{};return Ra(l,c,p=>{let v=Iv(u,i,p);return p===v&&typeof p=="string"&&(v=Iv(u,i,`${t}${p==="default"?"":qt(p)}`,p)),n===!1?v:{[n]:v}})};return s.propTypes={},s.filterProps=[t],s}function Zre(e){const t={};return n=>(t[n]===void 0&&(t[n]=e(n)),t[n])}const eie={m:"margin",p:"padding"},tie={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},JI={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},nie=Zre(e=>{if(e.length>2)if(JI[e])e=JI[e];else return[e];const[t,n]=e.split(""),r=eie[t],i=tie[n]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),SE=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],xE=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...SE,...xE];function eg(e,t,n,r){const i=jy(e,t,!0)??n;return typeof i=="number"||typeof i=="string"?s=>typeof s=="string"?s:typeof i=="string"?`calc(${s} * ${i})`:i*s:Array.isArray(i)?s=>{if(typeof s=="string")return s;const l=Math.abs(s),c=i[l];return s>=0?c:typeof c=="number"?-c:`-${c}`}:typeof i=="function"?i:()=>{}}function wE(e){return eg(e,"spacing",8)}function tg(e,t){return typeof t=="string"||t==null?t:e(t)}function rie(e,t){return n=>e.reduce((r,i)=>(r[i]=tg(t,n),r),{})}function iie(e,t,n,r){if(!t.includes(n))return null;const i=nie(n),s=rie(i,r),l=e[n];return Ra(e,l,s)}function _B(e,t){const n=wE(e.theme);return Object.keys(e).map(r=>iie(e,t,r,n)).reduce(ap,{})}function or(e){return _B(e,SE)}or.propTypes={};or.filterProps=SE;function ar(e){return _B(e,xE)}ar.propTypes={};ar.filterProps=xE;function Py(...e){const t=e.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),n=r=>Object.keys(r).reduce((i,s)=>t[s]?ap(i,t[s](r)):i,{});return n.propTypes={},n.filterProps=e.reduce((r,i)=>r.concat(i.filterProps),[]),n}function js(e){return typeof e!="number"?e:`${e}px solid`}function Ks(e,t){return br({prop:e,themeKey:"borders",transform:t})}const sie=Ks("border",js),oie=Ks("borderTop",js),aie=Ks("borderRight",js),lie=Ks("borderBottom",js),cie=Ks("borderLeft",js),uie=Ks("borderColor"),die=Ks("borderTopColor"),fie=Ks("borderRightColor"),hie=Ks("borderBottomColor"),pie=Ks("borderLeftColor"),gie=Ks("outline",js),mie=Ks("outlineColor"),Vy=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=eg(e.theme,"shape.borderRadius",4),n=r=>({borderRadius:tg(t,r)});return Ra(e,e.borderRadius,n)}return null};Vy.propTypes={};Vy.filterProps=["borderRadius"];Py(sie,oie,aie,lie,cie,uie,die,fie,hie,pie,Vy,gie,mie);const Dy=e=>{if(e.gap!==void 0&&e.gap!==null){const t=eg(e.theme,"spacing",8),n=r=>({gap:tg(t,r)});return Ra(e,e.gap,n)}return null};Dy.propTypes={};Dy.filterProps=["gap"];const By=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=eg(e.theme,"spacing",8),n=r=>({columnGap:tg(t,r)});return Ra(e,e.columnGap,n)}return null};By.propTypes={};By.filterProps=["columnGap"];const Ny=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=eg(e.theme,"spacing",8),n=r=>({rowGap:tg(t,r)});return Ra(e,e.rowGap,n)}return null};Ny.propTypes={};Ny.filterProps=["rowGap"];const vie=br({prop:"gridColumn"}),yie=br({prop:"gridRow"}),Aie=br({prop:"gridAutoFlow"}),bie=br({prop:"gridAutoColumns"}),_ie=br({prop:"gridAutoRows"}),Sie=br({prop:"gridTemplateColumns"}),xie=br({prop:"gridTemplateRows"}),wie=br({prop:"gridTemplateAreas"}),Eie=br({prop:"gridArea"});Py(Dy,By,Ny,vie,yie,Aie,bie,_ie,Sie,xie,wie,Eie);function Od(e,t){return t==="grey"?t:e}const Tie=br({prop:"color",themeKey:"palette",transform:Od}),Cie=br({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Od}),kie=br({prop:"backgroundColor",themeKey:"palette",transform:Od});Py(Tie,Cie,kie);function is(e){return e<=1&&e!==0?`${e*100}%`:e}const Mie=br({prop:"width",transform:is}),EE=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=n=>{var i,s,l,c,d;const r=((l=(s=(i=e.theme)==null?void 0:i.breakpoints)==null?void 0:s.values)==null?void 0:l[n])||Oy[n];return r?((d=(c=e.theme)==null?void 0:c.breakpoints)==null?void 0:d.unit)!=="px"?{maxWidth:`${r}${e.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:is(n)}};return Ra(e,e.maxWidth,t)}return null};EE.filterProps=["maxWidth"];const Rie=br({prop:"minWidth",transform:is}),Iie=br({prop:"height",transform:is}),Oie=br({prop:"maxHeight",transform:is}),jie=br({prop:"minHeight",transform:is});br({prop:"size",cssProperty:"width",transform:is});br({prop:"size",cssProperty:"height",transform:is});const Pie=br({prop:"boxSizing"});Py(Mie,EE,Rie,Iie,Oie,jie,Pie);const ng={border:{themeKey:"borders",transform:js},borderTop:{themeKey:"borders",transform:js},borderRight:{themeKey:"borders",transform:js},borderBottom:{themeKey:"borders",transform:js},borderLeft:{themeKey:"borders",transform:js},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:js},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Vy},color:{themeKey:"palette",transform:Od},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Od},backgroundColor:{themeKey:"palette",transform:Od},p:{style:ar},pt:{style:ar},pr:{style:ar},pb:{style:ar},pl:{style:ar},px:{style:ar},py:{style:ar},padding:{style:ar},paddingTop:{style:ar},paddingRight:{style:ar},paddingBottom:{style:ar},paddingLeft:{style:ar},paddingX:{style:ar},paddingY:{style:ar},paddingInline:{style:ar},paddingInlineStart:{style:ar},paddingInlineEnd:{style:ar},paddingBlock:{style:ar},paddingBlockStart:{style:ar},paddingBlockEnd:{style:ar},m:{style:or},mt:{style:or},mr:{style:or},mb:{style:or},ml:{style:or},mx:{style:or},my:{style:or},margin:{style:or},marginTop:{style:or},marginRight:{style:or},marginBottom:{style:or},marginLeft:{style:or},marginX:{style:or},marginY:{style:or},marginInline:{style:or},marginInlineStart:{style:or},marginInlineEnd:{style:or},marginBlock:{style:or},marginBlockStart:{style:or},marginBlockEnd:{style:or},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Dy},rowGap:{style:Ny},columnGap:{style:By},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:is},maxWidth:{style:EE},minWidth:{transform:is},height:{transform:is},maxHeight:{transform:is},minHeight:{transform:is},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function Vie(...e){const t=e.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(t);return e.every(r=>n.size===Object.keys(r).length)}function Die(e,t){return typeof e=="function"?e(t):e}function Bie(){function e(n,r,i,s){const l={[n]:r,theme:i},c=s[n];if(!c)return{[n]:r};const{cssProperty:d=n,themeKey:u,transform:h,style:p}=c;if(r==null)return null;if(u==="typography"&&r==="inherit")return{[n]:r};const v=jy(i,u)||{};return p?p(l):Ra(l,r,b=>{let _=Iv(v,h,b);return b===_&&typeof b=="string"&&(_=Iv(v,h,`${n}${b==="default"?"":qt(b)}`,b)),d===!1?_:{[d]:_}})}function t(n){const{sx:r,theme:i={}}=n||{};if(!r)return null;const s=i.unstable_sxConfig??ng;function l(c){let d=c;if(typeof c=="function")d=c(i);else if(typeof c!="object")return c;if(!d)return null;const u=AB(i.breakpoints),h=Object.keys(u);let p=u;return Object.keys(d).forEach(v=>{const y=Die(d[v],i);if(y!=null)if(typeof y=="object")if(s[v])p=ap(p,e(v,y,i,s));else{const b=Ra({theme:i},y,_=>({[v]:_}));Vie(b,y)?p[v]=t({sx:y,theme:i}):p=ap(p,b)}else p=ap(p,e(v,y,i,s))}),Yre(i,bB(h,p))}return Array.isArray(r)?r.map(l):l(r)}return t}const Wc=Bie();Wc.filterProps=["sx"];const Nie=e=>{var r;const t={systemProps:{},otherProps:{}},n=((r=e==null?void 0:e.theme)==null?void 0:r.unstable_sxConfig)??ng;return Object.keys(e).forEach(i=>{n[i]?t.systemProps[i]=e[i]:t.otherProps[i]=e[i]}),t};function Lie(e){const{sx:t,...n}=e,{systemProps:r,otherProps:i}=Nie(n);let s;return Array.isArray(t)?s=[r,...t]:typeof t=="function"?s=(...l)=>{const c=t(...l);return Mo(c)?{...r,...c}:r}:s={...r,...t},{...i,sx:s}}var Fie=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],wx=K.bind(null);Fie.forEach(function(e){wx[e]=wx(e)});function zie(e){return e==null||Object.keys(e).length===0}function SB(e){const{styles:t,defaultTheme:n={}}=e,r=typeof t=="function"?i=>t(zie(i)?n:i):t;return g.jsx(TJ,{styles:r})}/**
 * @mui/styled-engine v6.1.9
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function $ie(e,t){return wx(e,t)}function Uie(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}const ZI=[];function e3(e){return ZI[0]=e,Kp(ZI)}const Hie=e=>{const t=Object.keys(e).map(n=>({key:n,val:e[n]}))||[];return t.sort((n,r)=>n.val-r.val),t.reduce((n,r)=>({...n,[r.key]:r.val}),{})};function qie(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5,...i}=e,s=Hie(t),l=Object.keys(s);function c(v){return`@media (min-width:${typeof t[v]=="number"?t[v]:v}${n})`}function d(v){return`@media (max-width:${(typeof t[v]=="number"?t[v]:v)-r/100}${n})`}function u(v,y){const b=l.indexOf(y);return`@media (min-width:${typeof t[v]=="number"?t[v]:v}${n}) and (max-width:${(b!==-1&&typeof t[l[b]]=="number"?t[l[b]]:y)-r/100}${n})`}function h(v){return l.indexOf(v)+1<l.length?u(v,l[l.indexOf(v)+1]):c(v)}function p(v){const y=l.indexOf(v);return y===0?c(l[1]):y===l.length-1?d(l[y]):u(v,l[l.indexOf(v)+1]).replace("@media","@media not all and")}return{keys:l,values:s,up:c,down:d,between:u,only:h,not:p,unit:n,...i}}const Gie={borderRadius:4};function xB(e=8,t=wE({spacing:e})){if(e.mui)return e;const n=(...r)=>(r.length===0?[1]:r).map(s=>{const l=t(s);return typeof l=="number"?`${l}px`:l}).join(" ");return n.mui=!0,n}function Yie(e,t){var r;const n=this;if(n.vars){if(!((r=n.colorSchemes)!=null&&r[e])||typeof n.getColorSchemeSelector!="function")return{};let i=n.getColorSchemeSelector(e);return i==="&"?t:((i.includes("data-")||i.includes("."))&&(i=`*:where(${i.replace(/\s*&$/,"")}) &`),{[i]:t})}return n.palette.mode===e?t:{}}function TE(e={},...t){const{breakpoints:n={},palette:r={},spacing:i,shape:s={},...l}=e,c=qie(n),d=xB(i);let u=Hi({breakpoints:c,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:d,shape:{...Gie,...s}},l);return u=Qre(u),u.applyStyles=Yie,u=t.reduce((h,p)=>Hi(h,p),u),u.unstable_sxConfig={...ng,...l==null?void 0:l.unstable_sxConfig},u.unstable_sx=function(p){return Wc({sx:p,theme:this})},u}function Kie(e){return Object.keys(e).length===0}function wB(e=null){const t=x.useContext(Wp);return!t||Kie(t)?e:t}const Wie=TE();function EB(e=Wie){return wB(e)}function Qie({styles:e,themeId:t,defaultTheme:n={}}){const r=EB(n),i=typeof e=="function"?e(t&&r[t]||r):e;return g.jsx(SB,{styles:i})}function TB(e){const{variants:t,...n}=e,r={variants:t,style:e3(n),isProcessed:!0};return r.style===n||t&&t.forEach(i=>{typeof i.style!="function"&&(i.style=e3(i.style))}),r}const Xie=TE();function q1(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}function Jie(e){return e?(t,n)=>n[e]:null}function Zie(e,t,n){e.theme=nse(e.theme)?n:e.theme[t]||e.theme}function B0(e,t){const n=typeof t=="function"?t(e):t;if(Array.isArray(n))return n.flatMap(r=>B0(e,r));if(Array.isArray(n==null?void 0:n.variants)){let r;if(n.isProcessed)r=n.style;else{const{variants:i,...s}=n;r=s}return CB(e,n.variants,[r])}return n!=null&&n.isProcessed?n.style:n}function CB(e,t,n=[]){var i;let r;e:for(let s=0;s<t.length;s+=1){const l=t[s];if(typeof l.props=="function"){if(r??(r={...e,...e.ownerState,ownerState:e.ownerState}),!l.props(r))continue}else for(const c in l.props)if(e[c]!==l.props[c]&&((i=e.ownerState)==null?void 0:i[c])!==l.props[c])continue e;typeof l.style=="function"?(r??(r={...e,...e.ownerState,ownerState:e.ownerState}),n.push(l.style(r))):n.push(l.style)}return n}function ese(e={}){const{themeId:t,defaultTheme:n=Xie,rootShouldForwardProp:r=q1,slotShouldForwardProp:i=q1}=e;function s(c){Zie(c,t,n)}return(c,d={})=>{Uie(c,E=>E.filter(O=>O!==Wc));const{name:u,slot:h,skipVariantsResolver:p,skipSx:v,overridesResolver:y=Jie(ise(h)),...b}=d,_=p!==void 0?p:h&&h!=="Root"&&h!=="root"||!1,w=v||!1;let T=q1;h==="Root"||h==="root"?T=r:h?T=i:rse(c)&&(T=void 0);const k=$ie(c,{shouldForwardProp:T,label:tse(),...b}),R=E=>{if(typeof E=="function"&&E.__emotion_real!==E)return function(j){return B0(j,E)};if(Mo(E)){const O=TB(E);return O.variants?function(D){return B0(D,O)}:O.style}return E},M=(...E)=>{const O=[],j=E.map(R),D=[];if(O.push(s),u&&y&&D.push(function(U){var V,W;const q=(W=(V=U.theme.components)==null?void 0:V[u])==null?void 0:W.styleOverrides;if(!q)return null;const H={};for(const Q in q)H[Q]=B0(U,q[Q]);return y(U,H)}),u&&!_&&D.push(function(U){var H,V;const L=U.theme,q=(V=(H=L==null?void 0:L.components)==null?void 0:H[u])==null?void 0:V.variants;return q?CB(U,q):null}),w||D.push(Wc),Array.isArray(j[0])){const N=j.shift(),U=new Array(O.length).fill(""),L=new Array(D.length).fill("");let q;q=[...U,...N,...L],q.raw=[...U,...N.raw,...L],O.unshift(q)}const P=[...O,...j,...D],C=k(...P);return c.muiName&&(C.muiName=c.muiName),C};return k.withConfig&&(M.withConfig=k.withConfig),M}}function tse(e,t){return void 0}function nse(e){for(const t in e)return!1;return!0}function rse(e){return typeof e=="string"&&e.charCodeAt(0)>96}function ise(e){return e&&e.charAt(0).toLowerCase()+e.slice(1)}function CE(e,t=0,n=1){return $re(e,t,n)}function sse(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function kl(e){if(e.type)return e;if(e.charAt(0)==="#")return kl(sse(e));const t=e.indexOf("("),n=e.substring(0,t);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(Yc(9,e));let r=e.substring(t+1,e.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(Yc(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}const ose=e=>{const t=kl(e);return t.values.slice(0,3).map((n,r)=>t.type.includes("hsl")&&r!==0?`${n}%`:n).join(" ")},Hh=(e,t)=>{try{return ose(e)}catch{return e}};function Ly(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return t.includes("rgb")?r=r.map((i,s)=>s<3?parseInt(i,10):i):t.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),t.includes("color")?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${t}(${r})`}function kB(e){e=kl(e);const{values:t}=e,n=t[0],r=t[1]/100,i=t[2]/100,s=r*Math.min(i,1-i),l=(u,h=(u+n/30)%12)=>i-s*Math.max(Math.min(h-3,9-h,1),-1);let c="rgb";const d=[Math.round(l(0)*255),Math.round(l(8)*255),Math.round(l(4)*255)];return e.type==="hsla"&&(c+="a",d.push(t[3])),Ly({type:c,values:d})}function Ex(e){e=kl(e);let t=e.type==="hsl"||e.type==="hsla"?kl(kB(e)).values:e.values;return t=t.map(n=>(e.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function ase(e,t){const n=Ex(e),r=Ex(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function oo(e,t){return e=kl(e),t=CE(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,Ly(e)}function qm(e,t,n){try{return oo(e,t)}catch{return e}}function kE(e,t){if(e=kl(e),t=CE(t),e.type.includes("hsl"))e.values[2]*=1-t;else if(e.type.includes("rgb")||e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]*=1-t;return Ly(e)}function _n(e,t,n){try{return kE(e,t)}catch{return e}}function ME(e,t){if(e=kl(e),t=CE(t),e.type.includes("hsl"))e.values[2]+=(100-e.values[2])*t;else if(e.type.includes("rgb"))for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return Ly(e)}function Sn(e,t,n){try{return ME(e,t)}catch{return e}}function lse(e,t=.15){return Ex(e)>.5?kE(e,t):ME(e,t)}function Gm(e,t,n){try{return lse(e,t)}catch{return e}}const MB=x.createContext(null);function RE(){return x.useContext(MB)}const cse=typeof Symbol=="function"&&Symbol.for,use=cse?Symbol.for("mui.nested"):"__THEME_NESTED__";function dse(e,t){return typeof t=="function"?t(e):{...e,...t}}function fse(e){const{children:t,theme:n}=e,r=RE(),i=x.useMemo(()=>{const s=r===null?{...n}:dse(r,n);return s!=null&&(s[use]=r!==null),s},[n,r]);return g.jsx(MB.Provider,{value:i,children:t})}const RB=x.createContext();function hse({value:e,...t}){return g.jsx(RB.Provider,{value:e??!0,...t})}const U1e=()=>x.useContext(RB)??!1,IB=x.createContext(void 0);function pse({value:e,children:t}){return g.jsx(IB.Provider,{value:e,children:t})}function gse(e){const{theme:t,name:n,props:r}=e;if(!t||!t.components||!t.components[n])return r;const i=t.components[n];return i.defaultProps?Rv(i.defaultProps,r):!i.styleOverrides&&!i.variants?Rv(i,r):r}function mse({props:e,name:t}){const n=x.useContext(IB);return gse({props:e,name:t,theme:{components:n}})}const t3={};function n3(e,t,n,r=!1){return x.useMemo(()=>{const i=e&&t[e]||t;if(typeof n=="function"){const s=n(i),l=e?{...t,[e]:s}:s;return r?()=>l:l}return e?{...t,[e]:n}:{...t,...n}},[e,t,n,r])}function OB(e){const{children:t,theme:n,themeId:r}=e,i=wB(t3),s=RE()||t3,l=n3(r,i,n),c=n3(r,s,n,!0),d=(r?l[r]:l).direction==="rtl";return g.jsx(fse,{theme:c,children:g.jsx(Wp.Provider,{value:l,children:g.jsx(hse,{value:d,children:g.jsx(pse,{value:r?l[r].components:l.components,children:t})})})})}const r3={theme:void 0};function vse(e){let t,n;return function(i){let s=t;return(s===void 0||i.theme!==n)&&(r3.theme=i.theme,s=TB(e(r3)),t=s,n=i.theme),s}}const IE="mode",OE="color-scheme",yse="data-color-scheme";function Ase(e){const{defaultMode:t="system",defaultLightColorScheme:n="light",defaultDarkColorScheme:r="dark",modeStorageKey:i=IE,colorSchemeStorageKey:s=OE,attribute:l=yse,colorSchemeNode:c="document.documentElement",nonce:d}=e||{};let u="",h=l;if(l==="class"&&(h=".%s"),l==="data"&&(h="[data-%s]"),h.startsWith(".")){const v=h.substring(1);u+=`${c}.classList.remove('${v}'.replace('%s', light), '${v}'.replace('%s', dark));
      ${c}.classList.add('${v}'.replace('%s', colorScheme));`}const p=h.match(/\[([^\]]+)\]/);if(p){const[v,y]=p[1].split("=");y||(u+=`${c}.removeAttribute('${v}'.replace('%s', light));
      ${c}.removeAttribute('${v}'.replace('%s', dark));`),u+=`
      ${c}.setAttribute('${v}'.replace('%s', colorScheme), ${y?`${y}.replace('%s', colorScheme)`:'""'});`}else u+=`${c}.setAttribute('${h}', colorScheme);`;return g.jsx("script",{suppressHydrationWarning:!0,nonce:typeof window>"u"?d:"",dangerouslySetInnerHTML:{__html:`(function() {
try {
  let colorScheme = '';
  const mode = localStorage.getItem('${i}') || '${t}';
  const dark = localStorage.getItem('${s}-dark') || '${r}';
  const light = localStorage.getItem('${s}-light') || '${n}';
  if (mode === 'system') {
    // handle system mode
    const mql = window.matchMedia('(prefers-color-scheme: dark)');
    if (mql.matches) {
      colorScheme = dark
    } else {
      colorScheme = light
    }
  }
  if (mode === 'light') {
    colorScheme = light;
  }
  if (mode === 'dark') {
    colorScheme = dark;
  }
  if (colorScheme) {
    ${u}
  }
} catch(e){}})();`}},"mui-color-scheme-init")}function i3(e){if(typeof window<"u"&&typeof window.matchMedia=="function"&&e==="system")return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function jB(e,t){if(e.mode==="light"||e.mode==="system"&&e.systemMode==="light")return t("light");if(e.mode==="dark"||e.mode==="system"&&e.systemMode==="dark")return t("dark")}function bse(e){return jB(e,t=>{if(t==="light")return e.lightColorScheme;if(t==="dark")return e.darkColorScheme})}function G1(e,t){if(typeof window>"u")return;let n;try{n=localStorage.getItem(e)||void 0,n||localStorage.setItem(e,t)}catch{}return n||t}function _se(e){const{defaultMode:t="light",defaultLightColorScheme:n,defaultDarkColorScheme:r,supportedColorSchemes:i=[],modeStorageKey:s=IE,colorSchemeStorageKey:l=OE,storageWindow:c=typeof window>"u"?void 0:window,noSsr:d=!1}=e,u=i.join(","),h=i.length>1,[p,v]=x.useState(()=>{const M=G1(s,t),E=G1(`${l}-light`,n),O=G1(`${l}-dark`,r);return{mode:M,systemMode:i3(M),lightColorScheme:E,darkColorScheme:O}}),[y,b]=x.useState(d||!h);x.useEffect(()=>{b(!0)},[]);const _=bse(p),w=x.useCallback(M=>{v(E=>{if(M===E.mode)return E;const O=M??t;try{localStorage.setItem(s,O)}catch{}return{...E,mode:O,systemMode:i3(O)}})},[s,t]),T=x.useCallback(M=>{M?typeof M=="string"?M&&!u.includes(M)?console.error(`\`${M}\` does not exist in \`theme.colorSchemes\`.`):v(E=>{const O={...E};return jB(E,j=>{try{localStorage.setItem(`${l}-${j}`,M)}catch{}j==="light"&&(O.lightColorScheme=M),j==="dark"&&(O.darkColorScheme=M)}),O}):v(E=>{const O={...E},j=M.light===null?n:M.light,D=M.dark===null?r:M.dark;if(j)if(!u.includes(j))console.error(`\`${j}\` does not exist in \`theme.colorSchemes\`.`);else{O.lightColorScheme=j;try{localStorage.setItem(`${l}-light`,j)}catch{}}if(D)if(!u.includes(D))console.error(`\`${D}\` does not exist in \`theme.colorSchemes\`.`);else{O.darkColorScheme=D;try{localStorage.setItem(`${l}-dark`,D)}catch{}}return O}):v(E=>{try{localStorage.setItem(`${l}-light`,n),localStorage.setItem(`${l}-dark`,r)}catch{}return{...E,lightColorScheme:n,darkColorScheme:r}})},[u,l,n,r]),k=x.useCallback(M=>{p.mode==="system"&&v(E=>{const O=M!=null&&M.matches?"dark":"light";return E.systemMode===O?E:{...E,systemMode:O}})},[p.mode]),R=x.useRef(k);return R.current=k,x.useEffect(()=>{if(typeof window.matchMedia!="function"||!h)return;const M=(...O)=>R.current(...O),E=window.matchMedia("(prefers-color-scheme: dark)");return E.addListener(M),M(E),()=>{E.removeListener(M)}},[h]),x.useEffect(()=>{if(c&&h){const M=E=>{const O=E.newValue;typeof E.key=="string"&&E.key.startsWith(l)&&(!O||u.match(O))&&(E.key.endsWith("light")&&T({light:O}),E.key.endsWith("dark")&&T({dark:O})),E.key===s&&(!O||["light","dark","system"].includes(O))&&w(O||t)};return c.addEventListener("storage",M),()=>{c.removeEventListener("storage",M)}}},[T,w,s,l,u,t,c,h]),{...p,mode:y?p.mode:void 0,systemMode:y?p.systemMode:void 0,colorScheme:y?_:void 0,setMode:w,setColorScheme:T}}const Sse="*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function xse(e){const{themeId:t,theme:n={},modeStorageKey:r=IE,colorSchemeStorageKey:i=OE,disableTransitionOnChange:s=!1,defaultColorScheme:l,resolveTheme:c}=e,d={allColorSchemes:[],colorScheme:void 0,darkColorScheme:void 0,lightColorScheme:void 0,mode:void 0,setColorScheme:()=>{},setMode:()=>{},systemMode:void 0},u=x.createContext(void 0),h=()=>x.useContext(u)||d;function p(_){var qe,pt,un,on,yt;const{children:w,theme:T,modeStorageKey:k=r,colorSchemeStorageKey:R=i,disableTransitionOnChange:M=s,storageWindow:E=typeof window>"u"?void 0:window,documentNode:O=typeof document>"u"?void 0:document,colorSchemeNode:j=typeof document>"u"?void 0:document.documentElement,disableNestedContext:D=!1,disableStyleSheetGeneration:P=!1,defaultMode:C="system",noSsr:N}=_,U=x.useRef(!1),L=RE(),q=x.useContext(u),H=!!q&&!D,V=x.useMemo(()=>T||(typeof n=="function"?n():n),[T]),W=V[t],{colorSchemes:Q={},components:J={},cssVarPrefix:B,...G}=W||V,ee=Object.keys(Q).filter(lt=>!!Q[lt]).join(","),ue=x.useMemo(()=>ee.split(","),[ee]),F=typeof l=="string"?l:l.light,ge=typeof l=="string"?l:l.dark,se=Q[F]&&Q[ge]?C:((pt=(qe=Q[G.defaultColorScheme])==null?void 0:qe.palette)==null?void 0:pt.mode)||((un=G.palette)==null?void 0:un.mode),{mode:Se,setMode:Me,systemMode:Re,lightColorScheme:ve,darkColorScheme:je,colorScheme:Ge,setColorScheme:$e}=_se({supportedColorSchemes:ue,defaultLightColorScheme:F,defaultDarkColorScheme:ge,modeStorageKey:k,colorSchemeStorageKey:R,defaultMode:se,storageWindow:E,noSsr:N});let De=Se,Ve=Ge;H&&(De=q.mode,Ve=q.colorScheme);const ot=Ve||G.defaultColorScheme,ft=((on=G.generateThemeVars)==null?void 0:on.call(G))||G.vars,Be={...G,components:J,colorSchemes:Q,cssVarPrefix:B,vars:ft};if(typeof Be.generateSpacing=="function"&&(Be.spacing=Be.generateSpacing()),ot){const lt=Q[ot];lt&&typeof lt=="object"&&Object.keys(lt).forEach(rt=>{lt[rt]&&typeof lt[rt]=="object"?Be[rt]={...Be[rt],...lt[rt]}:Be[rt]=lt[rt]})}const ut=G.colorSchemeSelector;x.useEffect(()=>{if(Ve&&j&&ut&&ut!=="media"){const lt=ut;let rt=ut;if(lt==="class"&&(rt=".%s"),lt==="data"&&(rt="[data-%s]"),lt!=null&&lt.startsWith("data-")&&!lt.includes("%s")&&(rt=`[${lt}="%s"]`),rt.startsWith("."))j.classList.remove(...ue.map(Ct=>rt.substring(1).replace("%s",Ct))),j.classList.add(rt.substring(1).replace("%s",Ve));else{const Ct=rt.replace("%s",Ve).match(/\[([^\]]+)\]/);if(Ct){const[Nn,Ut]=Ct[1].split("=");Ut||ue.forEach(_t=>{j.removeAttribute(Nn.replace(Ve,_t))}),j.setAttribute(Nn,Ut?Ut.replace(/"|'/g,""):"")}else j.setAttribute(rt,Ve)}}},[Ve,ut,j,ue]),x.useEffect(()=>{let lt;if(M&&U.current&&O){const rt=O.createElement("style");rt.appendChild(O.createTextNode(Sse)),O.head.appendChild(rt),window.getComputedStyle(O.body),lt=setTimeout(()=>{O.head.removeChild(rt)},1)}return()=>{clearTimeout(lt)}},[Ve,M,O]),x.useEffect(()=>(U.current=!0,()=>{U.current=!1}),[]);const en=x.useMemo(()=>({allColorSchemes:ue,colorScheme:Ve,darkColorScheme:je,lightColorScheme:ve,mode:De,setColorScheme:$e,setMode:Me,systemMode:Re}),[ue,Ve,je,ve,De,$e,Me,Re,Be.colorSchemeSelector]);let pn=!0;(P||G.cssVariables===!1||H&&(L==null?void 0:L.cssVarPrefix)===B)&&(pn=!1);const sn=g.jsxs(x.Fragment,{children:[g.jsx(OB,{themeId:W?t:void 0,theme:c?c(Be):Be,children:w}),pn&&g.jsx(SB,{styles:((yt=Be.generateStyleSheets)==null?void 0:yt.call(Be))||[]})]});return H?sn:g.jsx(u.Provider,{value:en,children:sn})}const v=typeof l=="string"?l:l.light,y=typeof l=="string"?l:l.dark;return{CssVarsProvider:p,useColorScheme:h,getInitColorSchemeScript:_=>Ase({colorSchemeStorageKey:i,defaultLightColorScheme:v,defaultDarkColorScheme:y,modeStorageKey:r,..._})}}function wse(e=""){function t(...r){if(!r.length)return"";const i=r[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${e?`${e}-`:""}${i}${t(...r.slice(1))})`:`, ${i}`}return(r,...i)=>`var(--${e?`${e}-`:""}${r}${t(...i)})`}const s3=(e,t,n,r=[])=>{let i=e;t.forEach((s,l)=>{l===t.length-1?Array.isArray(i)?i[Number(s)]=n:i&&typeof i=="object"&&(i[s]=n):i&&typeof i=="object"&&(i[s]||(i[s]=r.includes(s)?[]:{}),i=i[s])})},Ese=(e,t,n)=>{function r(i,s=[],l=[]){Object.entries(i).forEach(([c,d])=>{(!n||n&&!n([...s,c]))&&d!=null&&(typeof d=="object"&&Object.keys(d).length>0?r(d,[...s,c],Array.isArray(d)?[...l,c]:l):t([...s,c],d,l))})}r(e)},Tse=(e,t)=>typeof t=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>e.includes(r))||e[e.length-1].toLowerCase().includes("opacity")?t:`${t}px`:t;function Y1(e,t){const{prefix:n,shouldSkipGeneratingVar:r}=t||{},i={},s={},l={};return Ese(e,(c,d,u)=>{if((typeof d=="string"||typeof d=="number")&&(!r||!r(c,d))){const h=`--${n?`${n}-`:""}${c.join("-")}`,p=Tse(c,d);Object.assign(i,{[h]:p}),s3(s,c,`var(${h})`,u),s3(l,c,`var(${h}, ${p})`,u)}},c=>c[0]==="vars"),{css:i,vars:s,varsWithDefaults:l}}function Cse(e,t={}){const{getSelector:n=w,disableCssColorScheme:r,colorSchemeSelector:i}=t,{colorSchemes:s={},components:l,defaultColorScheme:c="light",...d}=e,{vars:u,css:h,varsWithDefaults:p}=Y1(d,t);let v=p;const y={},{[c]:b,..._}=s;if(Object.entries(_||{}).forEach(([R,M])=>{const{vars:E,css:O,varsWithDefaults:j}=Y1(M,t);v=Hi(v,j),y[R]={css:O,vars:E}}),b){const{css:R,vars:M,varsWithDefaults:E}=Y1(b,t);v=Hi(v,E),y[c]={css:R,vars:M}}function w(R,M){var O,j;let E=i;if(i==="class"&&(E=".%s"),i==="data"&&(E="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(E=`[${i}="%s"]`),R){if(E==="media")return e.defaultColorScheme===R?":root":{[`@media (prefers-color-scheme: ${((j=(O=s[R])==null?void 0:O.palette)==null?void 0:j.mode)||R})`]:{":root":M}};if(E)return e.defaultColorScheme===R?`:root, ${E.replace("%s",String(R))}`:E.replace("%s",String(R))}return":root"}return{vars:v,generateThemeVars:()=>{let R={...u};return Object.entries(y).forEach(([,{vars:M}])=>{R=Hi(R,M)}),R},generateStyleSheets:()=>{var D,P;const R=[],M=e.defaultColorScheme||"light";function E(C,N){Object.keys(N).length&&R.push(typeof C=="string"?{[C]:{...N}}:C)}E(n(void 0,{...h}),h);const{[M]:O,...j}=y;if(O){const{css:C}=O,N=(P=(D=s[M])==null?void 0:D.palette)==null?void 0:P.mode,U=!r&&N?{colorScheme:N,...C}:{...C};E(n(M,{...U}),U)}return Object.entries(j).forEach(([C,{css:N}])=>{var q,H;const U=(H=(q=s[C])==null?void 0:q.palette)==null?void 0:H.mode,L=!r&&U?{colorScheme:U,...N}:{...N};E(n(C,{...L}),L)}),R}}}function kse(e){return function(n){return e==="media"?`@media (prefers-color-scheme: ${n})`:e?e.startsWith("data-")&&!e.includes("%s")?`[${e}="${n}"] &`:e==="class"?`.${n} &`:e==="data"?`[data-${n}] &`:`${e.replace("%s",n)} &`:"&"}}const Mp={black:"#000",white:"#fff"},Mse={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Xu={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Ju={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Rh={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Zu={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},ed={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},td={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};function PB(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Mp.white,default:Mp.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const Rse=PB();function VB(){return{text:{primary:Mp.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Mp.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const o3=VB();function a3(e,t,n,r){const i=r.light||r,s=r.dark||r*1.5;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:t==="light"?e.light=ME(e.main,i):t==="dark"&&(e.dark=kE(e.main,s)))}function Ise(e="light"){return e==="dark"?{main:Zu[200],light:Zu[50],dark:Zu[400]}:{main:Zu[700],light:Zu[400],dark:Zu[800]}}function Ose(e="light"){return e==="dark"?{main:Xu[200],light:Xu[50],dark:Xu[400]}:{main:Xu[500],light:Xu[300],dark:Xu[700]}}function jse(e="light"){return e==="dark"?{main:Ju[500],light:Ju[300],dark:Ju[700]}:{main:Ju[700],light:Ju[400],dark:Ju[800]}}function Pse(e="light"){return e==="dark"?{main:ed[400],light:ed[300],dark:ed[700]}:{main:ed[700],light:ed[500],dark:ed[900]}}function Vse(e="light"){return e==="dark"?{main:td[400],light:td[300],dark:td[700]}:{main:td[800],light:td[500],dark:td[900]}}function Dse(e="light"){return e==="dark"?{main:Rh[400],light:Rh[300],dark:Rh[700]}:{main:"#ed6c02",light:Rh[500],dark:Rh[900]}}function jE(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:r=.2,...i}=e,s=e.primary||Ise(t),l=e.secondary||Ose(t),c=e.error||jse(t),d=e.info||Pse(t),u=e.success||Vse(t),h=e.warning||Dse(t);function p(_){return ase(_,o3.text.primary)>=n?o3.text.primary:Rse.text.primary}const v=({color:_,name:w,mainShade:T=500,lightShade:k=300,darkShade:R=700})=>{if(_={..._},!_.main&&_[T]&&(_.main=_[T]),!_.hasOwnProperty("main"))throw new Error(Yc(11,w?` (${w})`:"",T));if(typeof _.main!="string")throw new Error(Yc(12,w?` (${w})`:"",JSON.stringify(_.main)));return a3(_,"light",k,r),a3(_,"dark",R,r),_.contrastText||(_.contrastText=p(_.main)),_};let y;return t==="light"?y=PB():t==="dark"&&(y=VB()),Hi({common:{...Mp},mode:t,primary:v({color:s,name:"primary"}),secondary:v({color:l,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:v({color:c,name:"error"}),warning:v({color:h,name:"warning"}),info:v({color:d,name:"info"}),success:v({color:u,name:"success"}),grey:Mse,contrastThreshold:n,getContrastText:p,augmentColor:v,tonalOffset:r,...y},i)}function Bse(e){const t={};return Object.entries(e).forEach(r=>{const[i,s]=r;typeof s=="object"&&(t[i]=`${s.fontStyle?`${s.fontStyle} `:""}${s.fontVariant?`${s.fontVariant} `:""}${s.fontWeight?`${s.fontWeight} `:""}${s.fontStretch?`${s.fontStretch} `:""}${s.fontSize||""}${s.lineHeight?`/${s.lineHeight} `:""}${s.fontFamily||""}`)}),t}function Nse(e,t){return{toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}},...t}}function Lse(e){return Math.round(e*1e5)/1e5}const l3={textTransform:"uppercase"},c3='"Roboto", "Helvetica", "Arial", sans-serif';function DB(e,t){const{fontFamily:n=c3,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:s=400,fontWeightMedium:l=500,fontWeightBold:c=700,htmlFontSize:d=16,allVariants:u,pxToRem:h,...p}=typeof t=="function"?t(e):t,v=r/14,y=h||(w=>`${w/d*v}rem`),b=(w,T,k,R,M)=>({fontFamily:n,fontWeight:w,fontSize:y(T),lineHeight:k,...n===c3?{letterSpacing:`${Lse(R/T)}em`}:{},...M,...u}),_={h1:b(i,96,1.167,-1.5),h2:b(i,60,1.2,-.5),h3:b(s,48,1.167,0),h4:b(s,34,1.235,.25),h5:b(s,24,1.334,0),h6:b(l,20,1.6,.15),subtitle1:b(s,16,1.75,.15),subtitle2:b(l,14,1.57,.1),body1:b(s,16,1.5,.15),body2:b(s,14,1.43,.15),button:b(l,14,1.75,.4,l3),caption:b(s,12,1.66,.4),overline:b(s,12,2.66,1,l3),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Hi({htmlFontSize:d,pxToRem:y,fontFamily:n,fontSize:r,fontWeightLight:i,fontWeightRegular:s,fontWeightMedium:l,fontWeightBold:c,..._},p,{clone:!1})}const Fse=.2,zse=.14,$se=.12;function zn(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${Fse})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${zse})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${$se})`].join(",")}const Use=["none",zn(0,2,1,-1,0,1,1,0,0,1,3,0),zn(0,3,1,-2,0,2,2,0,0,1,5,0),zn(0,3,3,-2,0,3,4,0,0,1,8,0),zn(0,2,4,-1,0,4,5,0,0,1,10,0),zn(0,3,5,-1,0,5,8,0,0,1,14,0),zn(0,3,5,-1,0,6,10,0,0,1,18,0),zn(0,4,5,-2,0,7,10,1,0,2,16,1),zn(0,5,5,-3,0,8,10,1,0,3,14,2),zn(0,5,6,-3,0,9,12,1,0,3,16,2),zn(0,6,6,-3,0,10,14,1,0,4,18,3),zn(0,6,7,-4,0,11,15,1,0,4,20,3),zn(0,7,8,-4,0,12,17,2,0,5,22,4),zn(0,7,8,-4,0,13,19,2,0,5,24,4),zn(0,7,9,-4,0,14,21,2,0,5,26,4),zn(0,8,9,-5,0,15,22,2,0,6,28,5),zn(0,8,10,-5,0,16,24,2,0,6,30,5),zn(0,8,11,-5,0,17,26,2,0,6,32,5),zn(0,9,11,-5,0,18,28,2,0,7,34,6),zn(0,9,12,-6,0,19,29,2,0,7,36,6),zn(0,10,13,-6,0,20,31,3,0,8,38,7),zn(0,10,13,-6,0,21,33,3,0,8,40,7),zn(0,10,14,-6,0,22,35,3,0,8,42,7),zn(0,11,14,-7,0,23,36,3,0,9,44,8),zn(0,11,15,-7,0,24,38,3,0,9,46,8)],Hse={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},qse={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function u3(e){return`${Math.round(e)}ms`}function Gse(e){if(!e)return 0;const t=e/36;return Math.min(Math.round((4+15*t**.25+t/5)*10),3e3)}function Yse(e){const t={...Hse,...e.easing},n={...qse,...e.duration};return{getAutoHeightDuration:Gse,create:(i=["all"],s={})=>{const{duration:l=n.standard,easing:c=t.easeInOut,delay:d=0,...u}=s;return(Array.isArray(i)?i:[i]).map(h=>`${h} ${typeof l=="string"?l:u3(l)} ${c} ${typeof d=="string"?d:u3(d)}`).join(",")},...e,easing:t,duration:n}}const Kse={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function Wse(e){return Mo(e)||typeof e>"u"||typeof e=="string"||typeof e=="boolean"||typeof e=="number"||Array.isArray(e)}function BB(e={}){const t={...e};function n(r){const i=Object.entries(r);for(let s=0;s<i.length;s++){const[l,c]=i[s];!Wse(c)||l.startsWith("unstable_")?delete r[l]:Mo(c)&&(r[l]={...c},n(r[l]))}}return n(t),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(t,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function Tx(e={},...t){const{breakpoints:n,mixins:r={},spacing:i,palette:s={},transitions:l={},typography:c={},shape:d,...u}=e;if(e.vars)throw new Error(Yc(20));const h=jE(s),p=TE(e);let v=Hi(p,{mixins:Nse(p.breakpoints,r),palette:h,shadows:Use.slice(),typography:DB(h,c),transitions:Yse(l),zIndex:{...Kse}});return v=Hi(v,u),v=t.reduce((y,b)=>Hi(y,b),v),v.unstable_sxConfig={...ng,...u==null?void 0:u.unstable_sxConfig},v.unstable_sx=function(b){return Wc({sx:b,theme:this})},v.toRuntimeSource=BB,v}function Cx(e){let t;return e<1?t=5.11916*e**2:t=4.5*Math.log(e+1)+2,Math.round(t*10)/1e3}const Qse=[...Array(25)].map((e,t)=>{if(t===0)return"none";const n=Cx(t);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`});function NB(e){return{inputPlaceholder:e==="dark"?.5:.42,inputUnderline:e==="dark"?.7:.42,switchTrackDisabled:e==="dark"?.2:.12,switchTrack:e==="dark"?.3:.38}}function LB(e){return e==="dark"?Qse:[]}function Xse(e){const{palette:t={mode:"light"},opacity:n,overlays:r,...i}=e,s=jE(t);return{palette:s,opacity:{...NB(s.mode),...n},overlays:r||LB(s.mode),...i}}function Jse(e){var t;return!!e[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!e[0].match(/sxConfig$/)||e[0]==="palette"&&!!((t=e[1])!=null&&t.match(/(mode|contrastThreshold|tonalOffset)/))}const Zse=e=>[...[...Array(25)].map((t,n)=>`--${e?`${e}-`:""}overlays-${n}`),`--${e?`${e}-`:""}palette-AppBar-darkBg`,`--${e?`${e}-`:""}palette-AppBar-darkColor`],eoe=e=>(t,n)=>{const r=e.rootSelector||":root",i=e.colorSchemeSelector;let s=i;if(i==="class"&&(s=".%s"),i==="data"&&(s="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(s=`[${i}="%s"]`),e.defaultColorScheme===t){if(t==="dark"){const l={};return Zse(e.cssVarPrefix).forEach(c=>{l[c]=n[c],delete n[c]}),s==="media"?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:l}}:s?{[s.replace("%s",t)]:l,[`${r}, ${s.replace("%s",t)}`]:n}:{[r]:{...n,...l}}}if(s&&s!=="media")return`${r}, ${s.replace("%s",String(t))}`}else if(t){if(s==="media")return{[`@media (prefers-color-scheme: ${String(t)})`]:{[r]:n}};if(s)return s.replace("%s",String(t))}return r};function toe(e,t){t.forEach(n=>{e[n]||(e[n]={})})}function ye(e,t,n){!e[t]&&n&&(e[t]=n)}function qh(e){return!e||!e.startsWith("hsl")?e:kB(e)}function aa(e,t){`${t}Channel`in e||(e[`${t}Channel`]=Hh(qh(e[t]),`MUI: Can't create \`palette.${t}Channel\` because \`palette.${t}\` is not one of these formats: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla(), color().
To suppress this warning, you need to explicitly provide the \`palette.${t}Channel\` as a string (in rgb format, for example "12 12 12") or undefined if you want to remove the channel token.`))}function noe(e){return typeof e=="number"?`${e}px`:typeof e=="string"||typeof e=="function"||Array.isArray(e)?e:"8px"}const xo=e=>{try{return e()}catch{}},roe=(e="mui")=>wse(e);function K1(e,t,n,r){if(!t)return;t=t===!0?{}:t;const i=r==="dark"?"dark":"light";if(!n){e[r]=Xse({...t,palette:{mode:i,...t==null?void 0:t.palette}});return}const{palette:s,...l}=Tx({...n,palette:{mode:i,...t==null?void 0:t.palette}});return e[r]={...t,palette:s,opacity:{...NB(i),...t==null?void 0:t.opacity},overlays:(t==null?void 0:t.overlays)||LB(i)},l}function ioe(e={},...t){const{colorSchemes:n={light:!0},defaultColorScheme:r,disableCssColorScheme:i=!1,cssVarPrefix:s="mui",shouldSkipGeneratingVar:l=Jse,colorSchemeSelector:c=n.light&&n.dark?"media":void 0,rootSelector:d=":root",...u}=e,h=Object.keys(n)[0],p=r||(n.light&&h!=="light"?"light":h),v=roe(s),{[p]:y,light:b,dark:_,...w}=n,T={...w};let k=y;if((p==="dark"&&!("dark"in n)||p==="light"&&!("light"in n))&&(k=!0),!k)throw new Error(Yc(21,p));const R=K1(T,k,u,p);b&&!T.light&&K1(T,b,void 0,"light"),_&&!T.dark&&K1(T,_,void 0,"dark");let M={defaultColorScheme:p,...R,cssVarPrefix:s,colorSchemeSelector:c,rootSelector:d,getCssVar:v,colorSchemes:T,font:{...Bse(R.typography),...R.font},spacing:noe(u.spacing)};Object.keys(M.colorSchemes).forEach(P=>{const C=M.colorSchemes[P].palette,N=U=>{const L=U.split("-"),q=L[1],H=L[2];return v(U,C[q][H])};if(C.mode==="light"&&(ye(C.common,"background","#fff"),ye(C.common,"onBackground","#000")),C.mode==="dark"&&(ye(C.common,"background","#000"),ye(C.common,"onBackground","#fff")),toe(C,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),C.mode==="light"){ye(C.Alert,"errorColor",_n(C.error.light,.6)),ye(C.Alert,"infoColor",_n(C.info.light,.6)),ye(C.Alert,"successColor",_n(C.success.light,.6)),ye(C.Alert,"warningColor",_n(C.warning.light,.6)),ye(C.Alert,"errorFilledBg",N("palette-error-main")),ye(C.Alert,"infoFilledBg",N("palette-info-main")),ye(C.Alert,"successFilledBg",N("palette-success-main")),ye(C.Alert,"warningFilledBg",N("palette-warning-main")),ye(C.Alert,"errorFilledColor",xo(()=>C.getContrastText(C.error.main))),ye(C.Alert,"infoFilledColor",xo(()=>C.getContrastText(C.info.main))),ye(C.Alert,"successFilledColor",xo(()=>C.getContrastText(C.success.main))),ye(C.Alert,"warningFilledColor",xo(()=>C.getContrastText(C.warning.main))),ye(C.Alert,"errorStandardBg",Sn(C.error.light,.9)),ye(C.Alert,"infoStandardBg",Sn(C.info.light,.9)),ye(C.Alert,"successStandardBg",Sn(C.success.light,.9)),ye(C.Alert,"warningStandardBg",Sn(C.warning.light,.9)),ye(C.Alert,"errorIconColor",N("palette-error-main")),ye(C.Alert,"infoIconColor",N("palette-info-main")),ye(C.Alert,"successIconColor",N("palette-success-main")),ye(C.Alert,"warningIconColor",N("palette-warning-main")),ye(C.AppBar,"defaultBg",N("palette-grey-100")),ye(C.Avatar,"defaultBg",N("palette-grey-400")),ye(C.Button,"inheritContainedBg",N("palette-grey-300")),ye(C.Button,"inheritContainedHoverBg",N("palette-grey-A100")),ye(C.Chip,"defaultBorder",N("palette-grey-400")),ye(C.Chip,"defaultAvatarColor",N("palette-grey-700")),ye(C.Chip,"defaultIconColor",N("palette-grey-700")),ye(C.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),ye(C.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),ye(C.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),ye(C.LinearProgress,"primaryBg",Sn(C.primary.main,.62)),ye(C.LinearProgress,"secondaryBg",Sn(C.secondary.main,.62)),ye(C.LinearProgress,"errorBg",Sn(C.error.main,.62)),ye(C.LinearProgress,"infoBg",Sn(C.info.main,.62)),ye(C.LinearProgress,"successBg",Sn(C.success.main,.62)),ye(C.LinearProgress,"warningBg",Sn(C.warning.main,.62)),ye(C.Skeleton,"bg",`rgba(${N("palette-text-primaryChannel")} / 0.11)`),ye(C.Slider,"primaryTrack",Sn(C.primary.main,.62)),ye(C.Slider,"secondaryTrack",Sn(C.secondary.main,.62)),ye(C.Slider,"errorTrack",Sn(C.error.main,.62)),ye(C.Slider,"infoTrack",Sn(C.info.main,.62)),ye(C.Slider,"successTrack",Sn(C.success.main,.62)),ye(C.Slider,"warningTrack",Sn(C.warning.main,.62));const U=Gm(C.background.default,.8);ye(C.SnackbarContent,"bg",U),ye(C.SnackbarContent,"color",xo(()=>C.getContrastText(U))),ye(C.SpeedDialAction,"fabHoverBg",Gm(C.background.paper,.15)),ye(C.StepConnector,"border",N("palette-grey-400")),ye(C.StepContent,"border",N("palette-grey-400")),ye(C.Switch,"defaultColor",N("palette-common-white")),ye(C.Switch,"defaultDisabledColor",N("palette-grey-100")),ye(C.Switch,"primaryDisabledColor",Sn(C.primary.main,.62)),ye(C.Switch,"secondaryDisabledColor",Sn(C.secondary.main,.62)),ye(C.Switch,"errorDisabledColor",Sn(C.error.main,.62)),ye(C.Switch,"infoDisabledColor",Sn(C.info.main,.62)),ye(C.Switch,"successDisabledColor",Sn(C.success.main,.62)),ye(C.Switch,"warningDisabledColor",Sn(C.warning.main,.62)),ye(C.TableCell,"border",Sn(qm(C.divider,1),.88)),ye(C.Tooltip,"bg",qm(C.grey[700],.92))}if(C.mode==="dark"){ye(C.Alert,"errorColor",Sn(C.error.light,.6)),ye(C.Alert,"infoColor",Sn(C.info.light,.6)),ye(C.Alert,"successColor",Sn(C.success.light,.6)),ye(C.Alert,"warningColor",Sn(C.warning.light,.6)),ye(C.Alert,"errorFilledBg",N("palette-error-dark")),ye(C.Alert,"infoFilledBg",N("palette-info-dark")),ye(C.Alert,"successFilledBg",N("palette-success-dark")),ye(C.Alert,"warningFilledBg",N("palette-warning-dark")),ye(C.Alert,"errorFilledColor",xo(()=>C.getContrastText(C.error.dark))),ye(C.Alert,"infoFilledColor",xo(()=>C.getContrastText(C.info.dark))),ye(C.Alert,"successFilledColor",xo(()=>C.getContrastText(C.success.dark))),ye(C.Alert,"warningFilledColor",xo(()=>C.getContrastText(C.warning.dark))),ye(C.Alert,"errorStandardBg",_n(C.error.light,.9)),ye(C.Alert,"infoStandardBg",_n(C.info.light,.9)),ye(C.Alert,"successStandardBg",_n(C.success.light,.9)),ye(C.Alert,"warningStandardBg",_n(C.warning.light,.9)),ye(C.Alert,"errorIconColor",N("palette-error-main")),ye(C.Alert,"infoIconColor",N("palette-info-main")),ye(C.Alert,"successIconColor",N("palette-success-main")),ye(C.Alert,"warningIconColor",N("palette-warning-main")),ye(C.AppBar,"defaultBg",N("palette-grey-900")),ye(C.AppBar,"darkBg",N("palette-background-paper")),ye(C.AppBar,"darkColor",N("palette-text-primary")),ye(C.Avatar,"defaultBg",N("palette-grey-600")),ye(C.Button,"inheritContainedBg",N("palette-grey-800")),ye(C.Button,"inheritContainedHoverBg",N("palette-grey-700")),ye(C.Chip,"defaultBorder",N("palette-grey-700")),ye(C.Chip,"defaultAvatarColor",N("palette-grey-300")),ye(C.Chip,"defaultIconColor",N("palette-grey-300")),ye(C.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),ye(C.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),ye(C.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),ye(C.LinearProgress,"primaryBg",_n(C.primary.main,.5)),ye(C.LinearProgress,"secondaryBg",_n(C.secondary.main,.5)),ye(C.LinearProgress,"errorBg",_n(C.error.main,.5)),ye(C.LinearProgress,"infoBg",_n(C.info.main,.5)),ye(C.LinearProgress,"successBg",_n(C.success.main,.5)),ye(C.LinearProgress,"warningBg",_n(C.warning.main,.5)),ye(C.Skeleton,"bg",`rgba(${N("palette-text-primaryChannel")} / 0.13)`),ye(C.Slider,"primaryTrack",_n(C.primary.main,.5)),ye(C.Slider,"secondaryTrack",_n(C.secondary.main,.5)),ye(C.Slider,"errorTrack",_n(C.error.main,.5)),ye(C.Slider,"infoTrack",_n(C.info.main,.5)),ye(C.Slider,"successTrack",_n(C.success.main,.5)),ye(C.Slider,"warningTrack",_n(C.warning.main,.5));const U=Gm(C.background.default,.98);ye(C.SnackbarContent,"bg",U),ye(C.SnackbarContent,"color",xo(()=>C.getContrastText(U))),ye(C.SpeedDialAction,"fabHoverBg",Gm(C.background.paper,.15)),ye(C.StepConnector,"border",N("palette-grey-600")),ye(C.StepContent,"border",N("palette-grey-600")),ye(C.Switch,"defaultColor",N("palette-grey-300")),ye(C.Switch,"defaultDisabledColor",N("palette-grey-600")),ye(C.Switch,"primaryDisabledColor",_n(C.primary.main,.55)),ye(C.Switch,"secondaryDisabledColor",_n(C.secondary.main,.55)),ye(C.Switch,"errorDisabledColor",_n(C.error.main,.55)),ye(C.Switch,"infoDisabledColor",_n(C.info.main,.55)),ye(C.Switch,"successDisabledColor",_n(C.success.main,.55)),ye(C.Switch,"warningDisabledColor",_n(C.warning.main,.55)),ye(C.TableCell,"border",_n(qm(C.divider,1),.68)),ye(C.Tooltip,"bg",qm(C.grey[700],.92))}aa(C.background,"default"),aa(C.background,"paper"),aa(C.common,"background"),aa(C.common,"onBackground"),aa(C,"divider"),Object.keys(C).forEach(U=>{const L=C[U];L&&typeof L=="object"&&(L.main&&ye(C[U],"mainChannel",Hh(qh(L.main))),L.light&&ye(C[U],"lightChannel",Hh(qh(L.light))),L.dark&&ye(C[U],"darkChannel",Hh(qh(L.dark))),L.contrastText&&ye(C[U],"contrastTextChannel",Hh(qh(L.contrastText))),U==="text"&&(aa(C[U],"primary"),aa(C[U],"secondary")),U==="action"&&(L.active&&aa(C[U],"active"),L.selected&&aa(C[U],"selected")))})}),M=t.reduce((P,C)=>Hi(P,C),M);const E={prefix:s,disableCssColorScheme:i,shouldSkipGeneratingVar:l,getSelector:eoe(M)},{vars:O,generateThemeVars:j,generateStyleSheets:D}=Cse(M,E);return M.vars=O,Object.entries(M.colorSchemes[M.defaultColorScheme]).forEach(([P,C])=>{M[P]=C}),M.generateThemeVars=j,M.generateStyleSheets=D,M.generateSpacing=function(){return xB(u.spacing,wE(this))},M.getColorSchemeSelector=kse(c),M.spacing=M.generateSpacing(),M.shouldSkipGeneratingVar=l,M.unstable_sxConfig={...ng,...u==null?void 0:u.unstable_sxConfig},M.unstable_sx=function(C){return Wc({sx:C,theme:this})},M.toRuntimeSource=BB,M}function d3(e,t,n){e.colorSchemes&&n&&(e.colorSchemes[t]={...n!==!0&&n,palette:jE({...n===!0?{}:n.palette,mode:t})})}function PE(e={},...t){const{palette:n,cssVariables:r=!1,colorSchemes:i=n?void 0:{light:!0},defaultColorScheme:s=n==null?void 0:n.mode,...l}=e,c=s||"light",d=i==null?void 0:i[c],u={...i,...n?{[c]:{...typeof d!="boolean"&&d,palette:n}}:void 0};if(r===!1){if(!("colorSchemes"in e))return Tx(e,...t);let h=n;"palette"in e||u[c]&&(u[c]!==!0?h=u[c].palette:c==="dark"&&(h={mode:"dark"}));const p=Tx({...e,palette:h},...t);return p.defaultColorScheme=c,p.colorSchemes=u,p.palette.mode==="light"&&(p.colorSchemes.light={...u.light!==!0&&u.light,palette:p.palette},d3(p,"dark",u.dark)),p.palette.mode==="dark"&&(p.colorSchemes.dark={...u.dark!==!0&&u.dark,palette:p.palette},d3(p,"light",u.light)),p}return!n&&!("light"in u)&&c==="light"&&(u.light=!0),ioe({...l,colorSchemes:u,defaultColorScheme:c,...typeof r!="boolean"&&r},...t)}const VE=PE(),xa="$$material";function DE(){const e=EB(VE);return e[xa]||e}function soe(e){return g.jsx(Qie,{...e,defaultTheme:VE,themeId:xa})}function ooe(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const BE=e=>ooe(e)&&e!=="classes",Bn=ese({themeId:xa,defaultTheme:VE,rootShouldForwardProp:BE});function H1e(e){return function(n){return g.jsx(soe,{styles:typeof e=="function"?r=>e({theme:r,...n}):e})}}function aoe(){return Lie}const Gs=vse;function Ai(e){return mse(e)}function loe(e){return vi("MuiSvgIcon",e)}yi("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const coe=e=>{const{color:t,fontSize:n,classes:r}=e,i={root:["root",t!=="inherit"&&`color${qt(t)}`,`fontSize${qt(n)}`]};return Oi(i,loe,r)},uoe=Bn("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="inherit"&&t[`color${qt(n.color)}`],t[`fontSize${qt(n.fontSize)}`]]}})(Gs(({theme:e})=>{var t,n,r,i,s,l,c,d,u,h,p,v,y,b;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(i=(t=e.transitions)==null?void 0:t.create)==null?void 0:i.call(t,"fill",{duration:(r=(n=(e.vars??e).transitions)==null?void 0:n.duration)==null?void 0:r.shorter}),variants:[{props:_=>!_.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((l=(s=e.typography)==null?void 0:s.pxToRem)==null?void 0:l.call(s,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((d=(c=e.typography)==null?void 0:c.pxToRem)==null?void 0:d.call(c,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((h=(u=e.typography)==null?void 0:u.pxToRem)==null?void 0:h.call(u,35))||"2.1875rem"}},...Object.entries((e.vars??e).palette).filter(([,_])=>_&&_.main).map(([_])=>{var w,T;return{props:{color:_},style:{color:(T=(w=(e.vars??e).palette)==null?void 0:w[_])==null?void 0:T.main}}}),{props:{color:"action"},style:{color:(v=(p=(e.vars??e).palette)==null?void 0:p.action)==null?void 0:v.active}},{props:{color:"disabled"},style:{color:(b=(y=(e.vars??e).palette)==null?void 0:y.action)==null?void 0:b.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),Ov=x.forwardRef(function(t,n){const r=Ai({props:t,name:"MuiSvgIcon"}),{children:i,className:s,color:l="inherit",component:c="svg",fontSize:d="medium",htmlColor:u,inheritViewBox:h=!1,titleAccess:p,viewBox:v="0 0 24 24",...y}=r,b=x.isValidElement(i)&&i.type==="svg",_={...r,color:l,component:c,fontSize:d,instanceFontSize:t.fontSize,inheritViewBox:h,viewBox:v,hasSvgAsChild:b},w={};h||(w.viewBox=v);const T=coe(_);return g.jsxs(uoe,{as:c,className:Bt(T.root,s),focusable:"false",color:u,"aria-hidden":p?void 0:!0,role:p?"img":void 0,ref:n,...w,...y,...b&&i.props,ownerState:_,children:[b?i.props.children:i,p?g.jsx("title",{children:p}):null]})});Ov&&(Ov.muiName="SvgIcon");function Wt(e,t){function n(r,i){return g.jsx(Ov,{"data-testid":`${t}Icon`,ref:i,...r,children:e})}return n.muiName=Ov.muiName,x.memo(x.forwardRef(n))}const doe=Wt(g.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 17h-2v-2h2zm2.07-7.75-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25"}),"Help"),foe=Wt(g.jsx("path",{d:"M11 18h2v-2h-2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4"}),"HelpOutline"),jv=Wt(g.jsx("path",{d:"M15 21h-2v-2h2zm-2-7h-2v5h2zm8-2h-2v4h2zm-2-2h-2v2h2zM7 12H5v2h2zm-2-2H3v2h2zm7-5h2V3h-2zm-7.5-.5v3h3v-3zM9 9H3V3h6zm-4.5 7.5v3h3v-3zM9 21H3v-6h6zm7.5-16.5v3h3v-3zM21 9h-6V3h6zm-2 10v-3h-4v2h2v3h4v-2zm-2-7h-4v2h4zm-4-2H7v2h2v2h2v-2h2zm1-1V7h-2V5h-2v4zM6.75 5.25h-1.5v1.5h1.5zm0 12h-1.5v1.5h1.5zm12-12h-1.5v1.5h1.5z"}),"QrCode2");function hoe(e){return typeof e.main=="string"}function poe(e,t=[]){if(!hoe(e))return!1;for(const n of t)if(!e.hasOwnProperty(n)||typeof e[n]!="string")return!1;return!0}function Rp(e=[]){return([,t])=>t&&poe(t,e)}class Pv{constructor(){vh(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new Pv}static use(){const t=vB(Pv.create).current,[n,r]=x.useState(!1);return t.shouldMount=n,t.setShouldMount=r,x.useEffect(t.mountEffect,[n]),t}mount(){return this.mounted||(this.mounted=moe(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...t){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.start(...t)})}stop(...t){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.stop(...t)})}pulsate(...t){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.pulsate(...t)})}}function goe(){return Pv.use()}function moe(){let e,t;const n=new Promise((r,i)=>{e=r,t=i});return n.resolve=e,n.reject=t,n}function FB(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}function kx(e,t){return kx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},kx(e,t)}function zB(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,kx(e,t)}var W1={exports:{}},ui={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f3;function voe(){if(f3)return ui;f3=1;var e=eu();function t(d){var u="https://react.dev/errors/"+d;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)u+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+d+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(d,u,h){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:d,containerInfo:u,implementation:h}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,u){if(d==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return ui.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ui.createPortal=function(d,u){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(t(299));return s(d,u,null,h)},ui.flushSync=function(d){var u=l.T,h=r.p;try{if(l.T=null,r.p=2,d)return d()}finally{l.T=u,r.p=h,r.d.f()}},ui.preconnect=function(d,u){typeof d=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,r.d.C(d,u))},ui.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},ui.preinit=function(d,u){if(typeof d=="string"&&u&&typeof u.as=="string"){var h=u.as,p=c(h,u.crossOrigin),v=typeof u.integrity=="string"?u.integrity:void 0,y=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;h==="style"?r.d.S(d,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:p,integrity:v,fetchPriority:y}):h==="script"&&r.d.X(d,{crossOrigin:p,integrity:v,fetchPriority:y,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},ui.preinitModule=function(d,u){if(typeof d=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var h=c(u.as,u.crossOrigin);r.d.M(d,{crossOrigin:h,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&r.d.M(d)},ui.preload=function(d,u){if(typeof d=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var h=u.as,p=c(h,u.crossOrigin);r.d.L(d,h,{crossOrigin:p,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},ui.preloadModule=function(d,u){if(typeof d=="string")if(u){var h=c(u.as,u.crossOrigin);r.d.m(d,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:h,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else r.d.m(d)},ui.requestFormReset=function(d){r.d.r(d)},ui.unstable_batchedUpdates=function(d,u){return d(u)},ui.useFormState=function(d,u,h){return l.H.useFormState(d,u,h)},ui.useFormStatus=function(){return l.H.useHostTransitionStatus()},ui.version="19.0.0",ui}var h3;function $B(){if(h3)return W1.exports;h3=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),W1.exports=voe(),W1.exports}var vf=$B();const Ym=Pr(vf),p3={disabled:!1},Vv=Qe.createContext(null);var yoe=function(t){return t.scrollTop},Gh="unmounted",pc="exited",gc="entering",ld="entered",Mx="exiting",Pa=function(e){zB(t,e);function t(r,i){var s;s=e.call(this,r,i)||this;var l=i,c=l&&!l.isMounting?r.enter:r.appear,d;return s.appearStatus=null,r.in?c?(d=pc,s.appearStatus=gc):d=ld:r.unmountOnExit||r.mountOnEnter?d=Gh:d=pc,s.state={status:d},s.nextCallback=null,s}t.getDerivedStateFromProps=function(i,s){var l=i.in;return l&&s.status===Gh?{status:pc}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var l=this.state.status;this.props.in?l!==gc&&l!==ld&&(s=gc):(l===gc||l===ld)&&(s=Mx)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,l,c;return s=l=c=i,i!=null&&typeof i!="number"&&(s=i.exit,l=i.enter,c=i.appear!==void 0?i.appear:l),{exit:s,enter:l,appear:c}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===gc){if(this.props.unmountOnExit||this.props.mountOnEnter){var l=this.props.nodeRef?this.props.nodeRef.current:Ym.findDOMNode(this);l&&yoe(l)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===pc&&this.setState({status:Gh})},n.performEnter=function(i){var s=this,l=this.props.enter,c=this.context?this.context.isMounting:i,d=this.props.nodeRef?[c]:[Ym.findDOMNode(this),c],u=d[0],h=d[1],p=this.getTimeouts(),v=c?p.appear:p.enter;if(!i&&!l||p3.disabled){this.safeSetState({status:ld},function(){s.props.onEntered(u)});return}this.props.onEnter(u,h),this.safeSetState({status:gc},function(){s.props.onEntering(u,h),s.onTransitionEnd(v,function(){s.safeSetState({status:ld},function(){s.props.onEntered(u,h)})})})},n.performExit=function(){var i=this,s=this.props.exit,l=this.getTimeouts(),c=this.props.nodeRef?void 0:Ym.findDOMNode(this);if(!s||p3.disabled){this.safeSetState({status:pc},function(){i.props.onExited(c)});return}this.props.onExit(c),this.safeSetState({status:Mx},function(){i.props.onExiting(c),i.onTransitionEnd(l.exit,function(){i.safeSetState({status:pc},function(){i.props.onExited(c)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,l=!0;return this.nextCallback=function(c){l&&(l=!1,s.nextCallback=null,i(c))},this.nextCallback.cancel=function(){l=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var l=this.props.nodeRef?this.props.nodeRef.current:Ym.findDOMNode(this),c=i==null&&!this.props.addEndListener;if(!l||c){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var d=this.props.nodeRef?[this.nextCallback]:[l,this.nextCallback],u=d[0],h=d[1];this.props.addEndListener(u,h)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===Gh)return null;var s=this.props,l=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var c=FB(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Qe.createElement(Vv.Provider,{value:null},typeof l=="function"?l(i,c):Qe.cloneElement(Qe.Children.only(l),c))},t}(Qe.Component);Pa.contextType=Vv;Pa.propTypes={};function nd(){}Pa.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:nd,onEntering:nd,onEntered:nd,onExit:nd,onExiting:nd,onExited:nd};Pa.UNMOUNTED=Gh;Pa.EXITED=pc;Pa.ENTERING=gc;Pa.ENTERED=ld;Pa.EXITING=Mx;function Aoe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function NE(e,t){var n=function(s){return t&&x.isValidElement(s)?t(s):s},r=Object.create(null);return e&&x.Children.map(e,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function boe(e,t){e=e||{},t=t||{};function n(h){return h in t?t[h]:e[h]}var r=Object.create(null),i=[];for(var s in e)s in t?i.length&&(r[s]=i,i=[]):i.push(s);var l,c={};for(var d in t){if(r[d])for(l=0;l<r[d].length;l++){var u=r[d][l];c[r[d][l]]=n(u)}c[d]=n(d)}for(l=0;l<i.length;l++)c[i[l]]=n(i[l]);return c}function xc(e,t,n){return n[t]!=null?n[t]:e.props[t]}function _oe(e,t){return NE(e.children,function(n){return x.cloneElement(n,{onExited:t.bind(null,n),in:!0,appear:xc(n,"appear",e),enter:xc(n,"enter",e),exit:xc(n,"exit",e)})})}function Soe(e,t,n){var r=NE(e.children),i=boe(t,r);return Object.keys(i).forEach(function(s){var l=i[s];if(x.isValidElement(l)){var c=s in t,d=s in r,u=t[s],h=x.isValidElement(u)&&!u.props.in;d&&(!c||h)?i[s]=x.cloneElement(l,{onExited:n.bind(null,l),in:!0,exit:xc(l,"exit",e),enter:xc(l,"enter",e)}):!d&&c&&!h?i[s]=x.cloneElement(l,{in:!1}):d&&c&&x.isValidElement(u)&&(i[s]=x.cloneElement(l,{onExited:n.bind(null,l),in:u.props.in,exit:xc(l,"exit",e),enter:xc(l,"enter",e)}))}}),i}var xoe=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},woe={component:"div",childFactory:function(t){return t}},LE=function(e){zB(t,e);function t(r,i){var s;s=e.call(this,r,i)||this;var l=s.handleExited.bind(Aoe(s));return s.state={contextValue:{isMounting:!0},handleExited:l,firstRender:!0},s}var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(i,s){var l=s.children,c=s.handleExited,d=s.firstRender;return{children:d?_oe(i,c):Soe(i,l,c),firstRender:!1}},n.handleExited=function(i,s){var l=NE(this.props.children);i.key in l||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(c){var d=wv({},c.children);return delete d[i.key],{children:d}}))},n.render=function(){var i=this.props,s=i.component,l=i.childFactory,c=FB(i,["component","childFactory"]),d=this.state.contextValue,u=xoe(this.state.children).map(l);return delete c.appear,delete c.enter,delete c.exit,s===null?Qe.createElement(Vv.Provider,{value:d},u):Qe.createElement(Vv.Provider,{value:d},Qe.createElement(s,c,u))},t}(Qe.Component);LE.propTypes={};LE.defaultProps=woe;function Eoe(e){const{className:t,classes:n,pulsate:r=!1,rippleX:i,rippleY:s,rippleSize:l,in:c,onExited:d,timeout:u}=e,[h,p]=x.useState(!1),v=Bt(t,n.ripple,n.rippleVisible,r&&n.ripplePulsate),y={width:l,height:l,top:-(l/2)+s,left:-(l/2)+i},b=Bt(n.child,h&&n.childLeaving,r&&n.childPulsate);return!c&&!h&&p(!0),x.useEffect(()=>{if(!c&&d!=null){const _=setTimeout(d,u);return()=>{clearTimeout(_)}}},[d,c,u]),g.jsx("span",{className:v,style:y,children:g.jsx("span",{className:b})})}const Rs=yi("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Rx=550,Toe=80,Coe=cu`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,koe=cu`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,Moe=cu`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,Roe=Bn("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),Ioe=Bn(Eoe,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${Rs.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${Coe};
    animation-duration: ${Rx}ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
  }

  &.${Rs.ripplePulsate} {
    animation-duration: ${({theme:e})=>e.transitions.duration.shorter}ms;
  }

  & .${Rs.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${Rs.childLeaving} {
    opacity: 0;
    animation-name: ${koe};
    animation-duration: ${Rx}ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
  }

  & .${Rs.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${Moe};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,Ooe=x.forwardRef(function(t,n){const r=Ai({props:t,name:"MuiTouchRipple"}),{center:i=!1,classes:s={},className:l,...c}=r,[d,u]=x.useState([]),h=x.useRef(0),p=x.useRef(null);x.useEffect(()=>{p.current&&(p.current(),p.current=null)},[d]);const v=x.useRef(!1),y=Bre(),b=x.useRef(null),_=x.useRef(null),w=x.useCallback(M=>{const{pulsate:E,rippleX:O,rippleY:j,rippleSize:D,cb:P}=M;u(C=>[...C,g.jsx(Ioe,{classes:{ripple:Bt(s.ripple,Rs.ripple),rippleVisible:Bt(s.rippleVisible,Rs.rippleVisible),ripplePulsate:Bt(s.ripplePulsate,Rs.ripplePulsate),child:Bt(s.child,Rs.child),childLeaving:Bt(s.childLeaving,Rs.childLeaving),childPulsate:Bt(s.childPulsate,Rs.childPulsate)},timeout:Rx,pulsate:E,rippleX:O,rippleY:j,rippleSize:D},h.current)]),h.current+=1,p.current=P},[s]),T=x.useCallback((M={},E={},O=()=>{})=>{const{pulsate:j=!1,center:D=i||E.pulsate,fakeElement:P=!1}=E;if((M==null?void 0:M.type)==="mousedown"&&v.current){v.current=!1;return}(M==null?void 0:M.type)==="touchstart"&&(v.current=!0);const C=P?null:_.current,N=C?C.getBoundingClientRect():{width:0,height:0,left:0,top:0};let U,L,q;if(D||M===void 0||M.clientX===0&&M.clientY===0||!M.clientX&&!M.touches)U=Math.round(N.width/2),L=Math.round(N.height/2);else{const{clientX:H,clientY:V}=M.touches&&M.touches.length>0?M.touches[0]:M;U=Math.round(H-N.left),L=Math.round(V-N.top)}if(D)q=Math.sqrt((2*N.width**2+N.height**2)/3),q%2===0&&(q+=1);else{const H=Math.max(Math.abs((C?C.clientWidth:0)-U),U)*2+2,V=Math.max(Math.abs((C?C.clientHeight:0)-L),L)*2+2;q=Math.sqrt(H**2+V**2)}M!=null&&M.touches?b.current===null&&(b.current=()=>{w({pulsate:j,rippleX:U,rippleY:L,rippleSize:q,cb:O})},y.start(Toe,()=>{b.current&&(b.current(),b.current=null)})):w({pulsate:j,rippleX:U,rippleY:L,rippleSize:q,cb:O})},[i,w,y]),k=x.useCallback(()=>{T({},{pulsate:!0})},[T]),R=x.useCallback((M,E)=>{if(y.clear(),(M==null?void 0:M.type)==="touchend"&&b.current){b.current(),b.current=null,y.start(0,()=>{R(M,E)});return}b.current=null,u(O=>O.length>0?O.slice(1):O),p.current=E},[y]);return x.useImperativeHandle(n,()=>({pulsate:k,start:T,stop:R}),[k,T,R]),g.jsx(Roe,{className:Bt(Rs.root,s.root,l),ref:_,...c,children:g.jsx(LE,{component:null,exit:!0,children:d})})});function joe(e){return vi("MuiButtonBase",e)}const Poe=yi("MuiButtonBase",["root","disabled","focusVisible"]),Voe=e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:r,classes:i}=e,l=Oi({root:["root",t&&"disabled",n&&"focusVisible"]},joe,i);return n&&r&&(l.root+=` ${r}`),l},Doe=Bn("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${Poe.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),UB=x.forwardRef(function(t,n){const r=Ai({props:t,name:"MuiButtonBase"}),{action:i,centerRipple:s=!1,children:l,className:c,component:d="button",disabled:u=!1,disableRipple:h=!1,disableTouchRipple:p=!1,focusRipple:v=!1,focusVisibleClassName:y,LinkComponent:b="a",onBlur:_,onClick:w,onContextMenu:T,onDragLeave:k,onFocus:R,onFocusVisible:M,onKeyDown:E,onKeyUp:O,onMouseDown:j,onMouseLeave:D,onMouseUp:P,onTouchEnd:C,onTouchMove:N,onTouchStart:U,tabIndex:L=0,TouchRippleProps:q,touchRippleRef:H,type:V,...W}=r,Q=x.useRef(null),J=goe(),B=Cl(J.ref,H),[G,ee]=x.useState(!1);u&&G&&ee(!1),x.useImperativeHandle(i,()=>({focusVisible:()=>{ee(!0),Q.current.focus()}}),[]);const ue=J.shouldMount&&!h&&!u;x.useEffect(()=>{G&&v&&!h&&J.pulsate()},[h,v,G,J]);function F(qe,pt,un=p){return vd(on=>(pt&&pt(on),un||J[qe](on),!0))}const ge=F("start",j),se=F("stop",T),Se=F("stop",k),Me=F("stop",P),Re=F("stop",qe=>{G&&qe.preventDefault(),D&&D(qe)}),ve=F("start",U),je=F("stop",C),Ge=F("stop",N),$e=F("stop",qe=>{KI(qe.target)||ee(!1),_&&_(qe)},!1),De=vd(qe=>{Q.current||(Q.current=qe.currentTarget),KI(qe.target)&&(ee(!0),M&&M(qe)),R&&R(qe)}),Ve=()=>{const qe=Q.current;return d&&d!=="button"&&!(qe.tagName==="A"&&qe.href)},ot=vd(qe=>{v&&!qe.repeat&&G&&qe.key===" "&&J.stop(qe,()=>{J.start(qe)}),qe.target===qe.currentTarget&&Ve()&&qe.key===" "&&qe.preventDefault(),E&&E(qe),qe.target===qe.currentTarget&&Ve()&&qe.key==="Enter"&&!u&&(qe.preventDefault(),w&&w(qe))}),ft=vd(qe=>{v&&qe.key===" "&&G&&!qe.defaultPrevented&&J.stop(qe,()=>{J.pulsate(qe)}),O&&O(qe),w&&qe.target===qe.currentTarget&&Ve()&&qe.key===" "&&!qe.defaultPrevented&&w(qe)});let Be=d;Be==="button"&&(W.href||W.to)&&(Be=b);const ut={};Be==="button"?(ut.type=V===void 0?"button":V,ut.disabled=u):(!W.href&&!W.to&&(ut.role="button"),u&&(ut["aria-disabled"]=u));const en=Cl(n,Q),pn={...r,centerRipple:s,component:d,disabled:u,disableRipple:h,disableTouchRipple:p,focusRipple:v,tabIndex:L,focusVisible:G},sn=Voe(pn);return g.jsxs(Doe,{as:Be,className:Bt(sn.root,c),ownerState:pn,onBlur:$e,onClick:w,onContextMenu:se,onFocus:De,onKeyDown:ot,onKeyUp:ft,onMouseDown:ge,onMouseLeave:Re,onMouseUp:Me,onDragLeave:Se,onTouchEnd:je,onTouchMove:Ge,onTouchStart:ve,ref:en,tabIndex:u?-1:L,type:V,...ut,...W,children:[l,ue?g.jsx(Ooe,{ref:B,center:s,...q}):null]})});function Boe(e){return vi("MuiIconButton",e)}const Noe=yi("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),Loe=e=>{const{classes:t,disabled:n,color:r,edge:i,size:s}=e,l={root:["root",n&&"disabled",r!=="default"&&`color${qt(r)}`,i&&`edge${qt(i)}`,`size${qt(s)}`]};return Oi(l,Boe,t)},Foe=Bn(UB,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="default"&&t[`color${qt(n.color)}`],n.edge&&t[`edge${qt(n.edge)}`],t[`size${qt(n.size)}`]]}})(Gs(({theme:e})=>({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),variants:[{props:t=>!t.disableRipple,style:{"--IconButton-hoverBg":e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:oo(e.palette.action.active,e.palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),Gs(({theme:e})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(e.palette).filter(Rp()).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}})),...Object.entries(e.palette).filter(Rp()).map(([t])=>({props:{color:t},style:{"--IconButton-hoverBg":e.vars?`rgba(${(e.vars||e).palette[t].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:oo((e.vars||e).palette[t].main,e.palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:e.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:e.typography.pxToRem(28)}}],[`&.${Noe.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled}}))),Fy=x.forwardRef(function(t,n){const r=Ai({props:t,name:"MuiIconButton"}),{edge:i=!1,children:s,className:l,color:c="default",disabled:d=!1,disableFocusRipple:u=!1,size:h="medium",...p}=r,v={...r,edge:i,color:c,disabled:d,disableFocusRipple:u,size:h},y=Loe(v);return g.jsx(Foe,{className:Bt(y.root,l),centerRipple:!0,focusRipple:!u,disabled:d,ref:n,...p,ownerState:v,children:s})}),Qd=Math.min,Oc=Math.max,Dv=Math.round,Km=Math.floor,Ml=e=>({x:e,y:e}),zoe={left:"right",right:"left",bottom:"top",top:"bottom"},$oe={start:"end",end:"start"};function Ix(e,t,n){return Oc(e,Qd(t,n))}function rg(e,t){return typeof e=="function"?e(t):e}function Qc(e){return e.split("-")[0]}function ig(e){return e.split("-")[1]}function HB(e){return e==="x"?"y":"x"}function FE(e){return e==="y"?"height":"width"}function Xd(e){return["top","bottom"].includes(Qc(e))?"y":"x"}function zE(e){return HB(Xd(e))}function Uoe(e,t,n){n===void 0&&(n=!1);const r=ig(e),i=zE(e),s=FE(i);let l=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(l=Bv(l)),[l,Bv(l)]}function Hoe(e){const t=Bv(e);return[Ox(e),t,Ox(t)]}function Ox(e){return e.replace(/start|end/g,t=>$oe[t])}function qoe(e,t,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],l=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?s:l;default:return[]}}function Goe(e,t,n,r){const i=ig(e);let s=qoe(Qc(e),n==="start",r);return i&&(s=s.map(l=>l+"-"+i),t&&(s=s.concat(s.map(Ox)))),s}function Bv(e){return e.replace(/left|right|bottom|top/g,t=>zoe[t])}function Yoe(e){return{top:0,right:0,bottom:0,left:0,...e}}function qB(e){return typeof e!="number"?Yoe(e):{top:e,right:e,bottom:e,left:e}}function Nv(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function g3(e,t,n){let{reference:r,floating:i}=e;const s=Xd(t),l=zE(t),c=FE(l),d=Qc(t),u=s==="y",h=r.x+r.width/2-i.width/2,p=r.y+r.height/2-i.height/2,v=r[c]/2-i[c]/2;let y;switch(d){case"top":y={x:h,y:r.y-i.height};break;case"bottom":y={x:h,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:p};break;case"left":y={x:r.x-i.width,y:p};break;default:y={x:r.x,y:r.y}}switch(ig(t)){case"start":y[l]-=v*(n&&u?-1:1);break;case"end":y[l]+=v*(n&&u?-1:1);break}return y}const Koe=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:l}=n,c=s.filter(Boolean),d=await(l.isRTL==null?void 0:l.isRTL(t));let u=await l.getElementRects({reference:e,floating:t,strategy:i}),{x:h,y:p}=g3(u,r,d),v=r,y={},b=0;for(let _=0;_<c.length;_++){const{name:w,fn:T}=c[_],{x:k,y:R,data:M,reset:E}=await T({x:h,y:p,initialPlacement:r,placement:v,strategy:i,middlewareData:y,rects:u,platform:l,elements:{reference:e,floating:t}});h=k??h,p=R??p,y={...y,[w]:{...y[w],...M}},E&&b<=50&&(b++,typeof E=="object"&&(E.placement&&(v=E.placement),E.rects&&(u=E.rects===!0?await l.getElementRects({reference:e,floating:t,strategy:i}):E.rects),{x:h,y:p}=g3(u,v,d)),_=-1)}return{x:h,y:p,placement:v,strategy:i,middlewareData:y}};async function GB(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:s,rects:l,elements:c,strategy:d}=e,{boundary:u="clippingAncestors",rootBoundary:h="viewport",elementContext:p="floating",altBoundary:v=!1,padding:y=0}=rg(t,e),b=qB(y),w=c[v?p==="floating"?"reference":"floating":p],T=Nv(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(w)))==null||n?w:w.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(c.floating)),boundary:u,rootBoundary:h,strategy:d})),k=p==="floating"?{x:r,y:i,width:l.floating.width,height:l.floating.height}:l.reference,R=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c.floating)),M=await(s.isElement==null?void 0:s.isElement(R))?await(s.getScale==null?void 0:s.getScale(R))||{x:1,y:1}:{x:1,y:1},E=Nv(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:k,offsetParent:R,strategy:d}):k);return{top:(T.top-E.top+b.top)/M.y,bottom:(E.bottom-T.bottom+b.bottom)/M.y,left:(T.left-E.left+b.left)/M.x,right:(E.right-T.right+b.right)/M.x}}const Woe=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:s,platform:l,elements:c,middlewareData:d}=t,{element:u,padding:h=0}=rg(e,t)||{};if(u==null)return{};const p=qB(h),v={x:n,y:r},y=zE(i),b=FE(y),_=await l.getDimensions(u),w=y==="y",T=w?"top":"left",k=w?"bottom":"right",R=w?"clientHeight":"clientWidth",M=s.reference[b]+s.reference[y]-v[y]-s.floating[b],E=v[y]-s.reference[y],O=await(l.getOffsetParent==null?void 0:l.getOffsetParent(u));let j=O?O[R]:0;(!j||!await(l.isElement==null?void 0:l.isElement(O)))&&(j=c.floating[R]||s.floating[b]);const D=M/2-E/2,P=j/2-_[b]/2-1,C=Qd(p[T],P),N=Qd(p[k],P),U=C,L=j-_[b]-N,q=j/2-_[b]/2+D,H=Ix(U,q,L),V=!d.arrow&&ig(i)!=null&&q!==H&&s.reference[b]/2-(q<U?C:N)-_[b]/2<0,W=V?q<U?q-U:q-L:0;return{[y]:v[y]+W,data:{[y]:H,centerOffset:q-H-W,...V&&{alignmentOffset:W}},reset:V}}}),Qoe=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:s,rects:l,initialPlacement:c,platform:d,elements:u}=t,{mainAxis:h=!0,crossAxis:p=!0,fallbackPlacements:v,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:_=!0,...w}=rg(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const T=Qc(i),k=Xd(c),R=Qc(c)===c,M=await(d.isRTL==null?void 0:d.isRTL(u.floating)),E=v||(R||!_?[Bv(c)]:Hoe(c)),O=b!=="none";!v&&O&&E.push(...Goe(c,_,b,M));const j=[c,...E],D=await GB(t,w),P=[];let C=((r=s.flip)==null?void 0:r.overflows)||[];if(h&&P.push(D[T]),p){const q=Uoe(i,l,M);P.push(D[q[0]],D[q[1]])}if(C=[...C,{placement:i,overflows:P}],!P.every(q=>q<=0)){var N,U;const q=(((N=s.flip)==null?void 0:N.index)||0)+1,H=j[q];if(H)return{data:{index:q,overflows:C},reset:{placement:H}};let V=(U=C.filter(W=>W.overflows[0]<=0).sort((W,Q)=>W.overflows[1]-Q.overflows[1])[0])==null?void 0:U.placement;if(!V)switch(y){case"bestFit":{var L;const W=(L=C.filter(Q=>{if(O){const J=Xd(Q.placement);return J===k||J==="y"}return!0}).map(Q=>[Q.placement,Q.overflows.filter(J=>J>0).reduce((J,B)=>J+B,0)]).sort((Q,J)=>Q[1]-J[1])[0])==null?void 0:L[0];W&&(V=W);break}case"initialPlacement":V=c;break}if(i!==V)return{reset:{placement:V}}}return{}}}};async function Xoe(e,t){const{placement:n,platform:r,elements:i}=e,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),l=Qc(n),c=ig(n),d=Xd(n)==="y",u=["left","top"].includes(l)?-1:1,h=s&&d?-1:1,p=rg(t,e);let{mainAxis:v,crossAxis:y,alignmentAxis:b}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...p};return c&&typeof b=="number"&&(y=c==="end"?b*-1:b),d?{x:y*h,y:v*u}:{x:v*u,y:y*h}}const Joe=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:s,placement:l,middlewareData:c}=t,d=await Xoe(t,e);return l===((n=c.offset)==null?void 0:n.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:i+d.x,y:s+d.y,data:{...d,placement:l}}}}},Zoe=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:s=!0,crossAxis:l=!1,limiter:c={fn:w=>{let{x:T,y:k}=w;return{x:T,y:k}}},...d}=rg(e,t),u={x:n,y:r},h=await GB(t,d),p=Xd(Qc(i)),v=HB(p);let y=u[v],b=u[p];if(s){const w=v==="y"?"top":"left",T=v==="y"?"bottom":"right",k=y+h[w],R=y-h[T];y=Ix(k,y,R)}if(l){const w=p==="y"?"top":"left",T=p==="y"?"bottom":"right",k=b+h[w],R=b-h[T];b=Ix(k,b,R)}const _=c.fn({...t,[v]:y,[p]:b});return{..._,data:{x:_.x-n,y:_.y-r}}}}};function yf(e){return YB(e)?(e.nodeName||"").toLowerCase():"#document"}function ds(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Va(e){var t;return(t=(YB(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function YB(e){return e instanceof Node||e instanceof ds(e).Node}function Vo(e){return e instanceof Element||e instanceof ds(e).Element}function Do(e){return e instanceof HTMLElement||e instanceof ds(e).HTMLElement}function m3(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ds(e).ShadowRoot}function sg(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=po(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function eae(e){return["table","td","th"].includes(yf(e))}function zy(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function $E(e){const t=UE(),n=po(e);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function tae(e){let t=Rl(e);for(;Do(t)&&!Jd(t);){if(zy(t))return null;if($E(t))return t;t=Rl(t)}return null}function UE(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Jd(e){return["html","body","#document"].includes(yf(e))}function po(e){return ds(e).getComputedStyle(e)}function $y(e){return Vo(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Rl(e){if(yf(e)==="html")return e;const t=e.assignedSlot||e.parentNode||m3(e)&&e.host||Va(e);return m3(t)?t.host:t}function KB(e){const t=Rl(e);return Jd(t)?e.ownerDocument?e.ownerDocument.body:e.body:Do(t)&&sg(t)?t:KB(t)}function Ip(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=KB(e),s=i===((r=e.ownerDocument)==null?void 0:r.body),l=ds(i);return s?t.concat(l,l.visualViewport||[],sg(i)?i:[],l.frameElement&&n?Ip(l.frameElement):[]):t.concat(i,Ip(i,[],n))}function WB(e){const t=po(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Do(e),s=i?e.offsetWidth:n,l=i?e.offsetHeight:r,c=Dv(n)!==s||Dv(r)!==l;return c&&(n=s,r=l),{width:n,height:r,$:c}}function HE(e){return Vo(e)?e:e.contextElement}function jd(e){const t=HE(e);if(!Do(t))return Ml(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:s}=WB(t);let l=(s?Dv(n.width):n.width)/r,c=(s?Dv(n.height):n.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!c||!Number.isFinite(c))&&(c=1),{x:l,y:c}}const nae=Ml(0);function QB(e){const t=ds(e);return!UE()||!t.visualViewport?nae:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function rae(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==ds(e)?!1:t}function Xc(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),s=HE(e);let l=Ml(1);t&&(r?Vo(r)&&(l=jd(r)):l=jd(e));const c=rae(s,n,r)?QB(s):Ml(0);let d=(i.left+c.x)/l.x,u=(i.top+c.y)/l.y,h=i.width/l.x,p=i.height/l.y;if(s){const v=ds(s),y=r&&Vo(r)?ds(r):r;let b=v,_=b.frameElement;for(;_&&r&&y!==b;){const w=jd(_),T=_.getBoundingClientRect(),k=po(_),R=T.left+(_.clientLeft+parseFloat(k.paddingLeft))*w.x,M=T.top+(_.clientTop+parseFloat(k.paddingTop))*w.y;d*=w.x,u*=w.y,h*=w.x,p*=w.y,d+=R,u+=M,b=ds(_),_=b.frameElement}}return Nv({width:h,height:p,x:d,y:u})}function iae(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const s=i==="fixed",l=Va(r),c=t?zy(t.floating):!1;if(r===l||c&&s)return n;let d={scrollLeft:0,scrollTop:0},u=Ml(1);const h=Ml(0),p=Do(r);if((p||!p&&!s)&&((yf(r)!=="body"||sg(l))&&(d=$y(r)),Do(r))){const v=Xc(r);u=jd(r),h.x=v.x+r.clientLeft,h.y=v.y+r.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-d.scrollLeft*u.x+h.x,y:n.y*u.y-d.scrollTop*u.y+h.y}}function sae(e){return Array.from(e.getClientRects())}function XB(e){return Xc(Va(e)).left+$y(e).scrollLeft}function oae(e){const t=Va(e),n=$y(e),r=e.ownerDocument.body,i=Oc(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=Oc(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let l=-n.scrollLeft+XB(e);const c=-n.scrollTop;return po(r).direction==="rtl"&&(l+=Oc(t.clientWidth,r.clientWidth)-i),{width:i,height:s,x:l,y:c}}function aae(e,t){const n=ds(e),r=Va(e),i=n.visualViewport;let s=r.clientWidth,l=r.clientHeight,c=0,d=0;if(i){s=i.width,l=i.height;const u=UE();(!u||u&&t==="fixed")&&(c=i.offsetLeft,d=i.offsetTop)}return{width:s,height:l,x:c,y:d}}function lae(e,t){const n=Xc(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,s=Do(e)?jd(e):Ml(1),l=e.clientWidth*s.x,c=e.clientHeight*s.y,d=i*s.x,u=r*s.y;return{width:l,height:c,x:d,y:u}}function v3(e,t,n){let r;if(t==="viewport")r=aae(e,n);else if(t==="document")r=oae(Va(e));else if(Vo(t))r=lae(t,n);else{const i=QB(e);r={...t,x:t.x-i.x,y:t.y-i.y}}return Nv(r)}function JB(e,t){const n=Rl(e);return n===t||!Vo(n)||Jd(n)?!1:po(n).position==="fixed"||JB(n,t)}function cae(e,t){const n=t.get(e);if(n)return n;let r=Ip(e,[],!1).filter(c=>Vo(c)&&yf(c)!=="body"),i=null;const s=po(e).position==="fixed";let l=s?Rl(e):e;for(;Vo(l)&&!Jd(l);){const c=po(l),d=$E(l);!d&&c.position==="fixed"&&(i=null),(s?!d&&!i:!d&&c.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||sg(l)&&!d&&JB(e,l))?r=r.filter(h=>h!==l):i=c,l=Rl(l)}return t.set(e,r),r}function uae(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const l=[...n==="clippingAncestors"?zy(t)?[]:cae(t,this._c):[].concat(n),r],c=l[0],d=l.reduce((u,h)=>{const p=v3(t,h,i);return u.top=Oc(p.top,u.top),u.right=Qd(p.right,u.right),u.bottom=Qd(p.bottom,u.bottom),u.left=Oc(p.left,u.left),u},v3(t,c,i));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function dae(e){const{width:t,height:n}=WB(e);return{width:t,height:n}}function fae(e,t,n){const r=Do(t),i=Va(t),s=n==="fixed",l=Xc(e,!0,s,t);let c={scrollLeft:0,scrollTop:0};const d=Ml(0);if(r||!r&&!s)if((yf(t)!=="body"||sg(i))&&(c=$y(t)),r){const p=Xc(t,!0,s,t);d.x=p.x+t.clientLeft,d.y=p.y+t.clientTop}else i&&(d.x=XB(i));const u=l.left+c.scrollLeft-d.x,h=l.top+c.scrollTop-d.y;return{x:u,y:h,width:l.width,height:l.height}}function Q1(e){return po(e).position==="static"}function y3(e,t){return!Do(e)||po(e).position==="fixed"?null:t?t(e):e.offsetParent}function ZB(e,t){const n=ds(e);if(zy(e))return n;if(!Do(e)){let i=Rl(e);for(;i&&!Jd(i);){if(Vo(i)&&!Q1(i))return i;i=Rl(i)}return n}let r=y3(e,t);for(;r&&eae(r)&&Q1(r);)r=y3(r,t);return r&&Jd(r)&&Q1(r)&&!$E(r)?n:r||tae(e)||n}const hae=async function(e){const t=this.getOffsetParent||ZB,n=this.getDimensions,r=await n(e.floating);return{reference:fae(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function pae(e){return po(e).direction==="rtl"}const gae={convertOffsetParentRelativeRectToViewportRelativeRect:iae,getDocumentElement:Va,getClippingRect:uae,getOffsetParent:ZB,getElementRects:hae,getClientRects:sae,getDimensions:dae,getScale:jd,isElement:Vo,isRTL:pae};function mae(e,t){let n=null,r;const i=Va(e);function s(){var c;clearTimeout(r),(c=n)==null||c.disconnect(),n=null}function l(c,d){c===void 0&&(c=!1),d===void 0&&(d=1),s();const{left:u,top:h,width:p,height:v}=e.getBoundingClientRect();if(c||t(),!p||!v)return;const y=Km(h),b=Km(i.clientWidth-(u+p)),_=Km(i.clientHeight-(h+v)),w=Km(u),k={rootMargin:-y+"px "+-b+"px "+-_+"px "+-w+"px",threshold:Oc(0,Qd(1,d))||1};let R=!0;function M(E){const O=E[0].intersectionRatio;if(O!==d){if(!R)return l();O?l(!1,O):r=setTimeout(()=>{l(!1,1e-7)},1e3)}R=!1}try{n=new IntersectionObserver(M,{...k,root:i.ownerDocument})}catch{n=new IntersectionObserver(M,k)}n.observe(e)}return l(!0),s}function vae(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:d=!1}=r,u=HE(e),h=i||s?[...u?Ip(u):[],...Ip(t)]:[];h.forEach(T=>{i&&T.addEventListener("scroll",n,{passive:!0}),s&&T.addEventListener("resize",n)});const p=u&&c?mae(u,n):null;let v=-1,y=null;l&&(y=new ResizeObserver(T=>{let[k]=T;k&&k.target===u&&y&&(y.unobserve(t),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var R;(R=y)==null||R.observe(t)})),n()}),u&&!d&&y.observe(u),y.observe(t));let b,_=d?Xc(e):null;d&&w();function w(){const T=Xc(e);_&&(T.x!==_.x||T.y!==_.y||T.width!==_.width||T.height!==_.height)&&n(),_=T,b=requestAnimationFrame(w)}return n(),()=>{var T;h.forEach(k=>{i&&k.removeEventListener("scroll",n),s&&k.removeEventListener("resize",n)}),p==null||p(),(T=y)==null||T.disconnect(),y=null,d&&cancelAnimationFrame(b)}}const yae=Joe,Aae=Zoe,bae=Qoe,_ae=Woe,A3=(e,t,n)=>{const r=new Map,i={platform:gae,...n},s={...i.platform,_c:r};return Koe(e,t,{...i,platform:s})};var X1={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var b3;function Sae(){return b3||(b3=1,function(e){(function(){var t={}.hasOwnProperty;function n(){for(var s="",l=0;l<arguments.length;l++){var c=arguments[l];c&&(s=i(s,r(c)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var l="";for(var c in s)t.call(s,c)&&s[c]&&(l=i(l,c));return l}function i(s,l){return l?s?s+" "+l:s+l:s}e.exports?(n.default=n,e.exports=n):window.classNames=n})()}(X1)),X1.exports}var xae=Sae();const jx=Pr(xae);var _3={};const wae="react-tooltip-core-styles",Eae="react-tooltip-base-styles",S3={core:!1,base:!1};function x3({css:e,id:t=Eae,type:n="base",ref:r}){var i,s;if(!e||typeof document>"u"||S3[n]||n==="core"&&typeof process<"u"&&(!((i=process==null?void 0:_3)===null||i===void 0)&&i.REACT_TOOLTIP_DISABLE_CORE_STYLES)||n!=="base"&&typeof process<"u"&&(!((s=process==null?void 0:_3)===null||s===void 0)&&s.REACT_TOOLTIP_DISABLE_BASE_STYLES))return;n==="core"&&(t=wae),r||(r={});const{insertAt:l}=r;if(document.getElementById(t))return void console.warn(`[react-tooltip] Element with id '${t}' already exists. Call \`removeStyle()\` first`);const c=document.head||document.getElementsByTagName("head")[0],d=document.createElement("style");d.id=t,d.type="text/css",l==="top"&&c.firstChild?c.insertBefore(d,c.firstChild):c.appendChild(d),d.styleSheet?d.styleSheet.cssText=e:d.appendChild(document.createTextNode(e)),S3[n]=!0}const w3=async({elementReference:e=null,tooltipReference:t=null,tooltipArrowReference:n=null,place:r="top",offset:i=10,strategy:s="absolute",middlewares:l=[yae(Number(i)),bae({fallbackAxisSideDirection:"start"}),Aae({padding:5})],border:c})=>{if(!e)return{tooltipStyles:{},tooltipArrowStyles:{},place:r};if(t===null)return{tooltipStyles:{},tooltipArrowStyles:{},place:r};const d=l;return n?(d.push(_ae({element:n,padding:5})),A3(e,t,{placement:r,strategy:s,middleware:d}).then(({x:u,y:h,placement:p,middlewareData:v})=>{var y,b;const _={left:`${u}px`,top:`${h}px`,border:c},{x:w,y:T}=(y=v.arrow)!==null&&y!==void 0?y:{x:0,y:0},k=(b={top:"bottom",right:"left",bottom:"top",left:"right"}[p.split("-")[0]])!==null&&b!==void 0?b:"bottom",R=c&&{borderBottom:c,borderRight:c};let M=0;if(c){const E=`${c}`.match(/(\d+)px/);M=E!=null&&E[1]?Number(E[1]):1}return{tooltipStyles:_,tooltipArrowStyles:{left:w!=null?`${w}px`:"",top:T!=null?`${T}px`:"",right:"",bottom:"",...R,[k]:`-${4+M}px`},place:p}})):A3(e,t,{placement:"bottom",strategy:s,middleware:d}).then(({x:u,y:h,placement:p})=>({tooltipStyles:{left:`${u}px`,top:`${h}px`},tooltipArrowStyles:{},place:p}))},E3=(e,t)=>!("CSS"in window&&"supports"in window.CSS)||window.CSS.supports(e,t),T3=(e,t,n)=>{let r=null;const i=function(...s){const l=()=>{r=null};!r&&(e.apply(this,s),r=setTimeout(l,t))};return i.cancel=()=>{r&&(clearTimeout(r),r=null)},i},C3=e=>e!==null&&!Array.isArray(e)&&typeof e=="object",Px=(e,t)=>{if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t))return e.length===t.length&&e.every((i,s)=>Px(i,t[s]));if(Array.isArray(e)!==Array.isArray(t))return!1;if(!C3(e)||!C3(t))return e===t;const n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&n.every(i=>Px(e[i],t[i]))},Tae=e=>{if(!(e instanceof HTMLElement||e instanceof SVGElement))return!1;const t=getComputedStyle(e);return["overflow","overflow-x","overflow-y"].some(n=>{const r=t.getPropertyValue(n);return r==="auto"||r==="scroll"})},k3=e=>{if(!e)return null;let t=e.parentElement;for(;t;){if(Tae(t))return t;t=t.parentElement}return document.scrollingElement||document.documentElement},Cae=typeof window<"u"?x.useLayoutEffect:x.useEffect,kae="DEFAULT_TOOLTIP_ID",Mae={anchorRefs:new Set,activeAnchor:{current:null},attach:()=>{},detach:()=>{},setActiveAnchor:()=>{}},Rae=x.createContext({getTooltipData:()=>Mae});function eN(e=kae){return x.useContext(Rae).getTooltipData(e)}var rd={tooltip:"core-styles-module_tooltip__3vRRp",fixed:"core-styles-module_fixed__pcSol",arrow:"core-styles-module_arrow__cvMwQ",noArrow:"core-styles-module_noArrow__xock6",clickable:"core-styles-module_clickable__ZuTTB",show:"core-styles-module_show__Nt9eE",closing:"core-styles-module_closing__sGnxF"},J1={tooltip:"styles-module_tooltip__mnnfp",arrow:"styles-module_arrow__K0L3T",dark:"styles-module_dark__xNqje",light:"styles-module_light__Z6W-X",success:"styles-module_success__A2AKt",warning:"styles-module_warning__SCK0X",error:"styles-module_error__JvumD",info:"styles-module_info__BWdHW"};const Iae=({forwardRef:e,id:t,className:n,classNameArrow:r,variant:i="dark",anchorId:s,anchorSelect:l,place:c="top",offset:d=10,events:u=["hover"],openOnClick:h=!1,positionStrategy:p="absolute",middlewares:v,wrapper:y,delayShow:b=0,delayHide:_=0,float:w=!1,hidden:T=!1,noArrow:k=!1,clickable:R=!1,closeOnEsc:M=!1,closeOnScroll:E=!1,closeOnResize:O=!1,openEvents:j,closeEvents:D,globalCloseEvents:P,imperativeModeOnly:C,style:N,position:U,afterShow:L,afterHide:q,content:H,contentWrapperRef:V,isOpen:W,defaultIsOpen:Q=!1,setIsOpen:J,activeAnchor:B,setActiveAnchor:G,border:ee,opacity:ue,arrowColor:F,role:ge="tooltip"})=>{var se;const Se=x.useRef(null),Me=x.useRef(null),Re=x.useRef(null),ve=x.useRef(null),je=x.useRef(null),[Ge,$e]=x.useState({tooltipStyles:{},tooltipArrowStyles:{},place:c}),[De,Ve]=x.useState(!1),[ot,ft]=x.useState(!1),[Be,ut]=x.useState(null),en=x.useRef(!1),pn=x.useRef(null),{anchorRefs:sn,setActiveAnchor:qe}=eN(t),pt=x.useRef(!1),[un,on]=x.useState([]),yt=x.useRef(!1),lt=h||u.includes("click"),rt=lt||(j==null?void 0:j.click)||(j==null?void 0:j.dblclick)||(j==null?void 0:j.mousedown),Ct=j?{...j}:{mouseover:!0,focus:!0,mouseenter:!1,click:!1,dblclick:!1,mousedown:!1};!j&&lt&&Object.assign(Ct,{mouseenter:!1,focus:!1,mouseover:!1,click:!0});const Nn=D?{...D}:{mouseout:!0,blur:!0,mouseleave:!1,click:!1,dblclick:!1,mouseup:!1};!D&&lt&&Object.assign(Nn,{mouseleave:!1,blur:!1,mouseout:!1});const Ut=P?{...P}:{escape:M||!1,scroll:E||!1,resize:O||!1,clickOutsideAnchor:rt||!1};C&&(Object.assign(Ct,{mouseenter:!1,focus:!1,click:!1,dblclick:!1,mousedown:!1}),Object.assign(Nn,{mouseleave:!1,blur:!1,click:!1,dblclick:!1,mouseup:!1}),Object.assign(Ut,{escape:!1,scroll:!1,resize:!1,clickOutsideAnchor:!1})),Cae(()=>(yt.current=!0,()=>{yt.current=!1}),[]);const _t=Le=>{yt.current&&(Le&&ft(!0),setTimeout(()=>{yt.current&&(J==null||J(Le),W===void 0&&Ve(Le))},10))};x.useEffect(()=>{if(W===void 0)return()=>null;W&&ft(!0);const Le=setTimeout(()=>{Ve(W)},10);return()=>{clearTimeout(Le)}},[W]),x.useEffect(()=>{if(De!==en.current)if(je.current&&clearTimeout(je.current),en.current=De,De)L==null||L();else{const Le=(it=>{const ht=it.match(/^([\d.]+)(ms|s)$/);if(!ht)return 0;const[,Yn,pr]=ht;return Number(Yn)*(pr==="ms"?1:1e3)})(getComputedStyle(document.body).getPropertyValue("--rt-transition-show-delay"));je.current=setTimeout(()=>{ft(!1),ut(null),q==null||q()},Le+25)}},[De]);const Nt=Le=>{$e(it=>Px(it,Le)?it:Le)},Ln=(Le=b)=>{Re.current&&clearTimeout(Re.current),ot?_t(!0):Re.current=setTimeout(()=>{_t(!0)},Le)},Jt=(Le=_)=>{ve.current&&clearTimeout(ve.current),ve.current=setTimeout(()=>{pt.current||_t(!1)},Le)},mt=Le=>{var it;if(!Le)return;const ht=(it=Le.currentTarget)!==null&&it!==void 0?it:Le.target;if(!(ht!=null&&ht.isConnected))return G(null),void qe({current:null});b?Ln():_t(!0),G(ht),qe({current:ht}),ve.current&&clearTimeout(ve.current)},fr=()=>{R?Jt(_||100):_?Jt():_t(!1),Re.current&&clearTimeout(Re.current)},Vr=({x:Le,y:it})=>{var ht;const Yn={getBoundingClientRect:()=>({x:Le,y:it,width:0,height:0,top:it,left:Le,right:Le,bottom:it})};w3({place:(ht=Be==null?void 0:Be.place)!==null&&ht!==void 0?ht:c,offset:d,elementReference:Yn,tooltipReference:Se.current,tooltipArrowReference:Me.current,strategy:p,middlewares:v,border:ee}).then(pr=>{Nt(pr)})},Gn=Le=>{if(!Le)return;const it=Le,ht={x:it.clientX,y:it.clientY};Vr(ht),pn.current=ht},qr=Le=>{var it;if(!De)return;const ht=Le.target;ht.isConnected&&(!((it=Se.current)===null||it===void 0)&&it.contains(ht)||[document.querySelector(`[id='${s}']`),...un].some(Yn=>Yn==null?void 0:Yn.contains(ht))||(_t(!1),Re.current&&clearTimeout(Re.current)))},Dr=T3(mt,50),Lt=T3(fr,50),Tn=Le=>{Lt.cancel(),Dr(Le)},Je=()=>{Dr.cancel(),Lt()},kt=x.useCallback(()=>{var Le,it;const ht=(Le=Be==null?void 0:Be.position)!==null&&Le!==void 0?Le:U;ht?Vr(ht):w?pn.current&&Vr(pn.current):B!=null&&B.isConnected&&w3({place:(it=Be==null?void 0:Be.place)!==null&&it!==void 0?it:c,offset:d,elementReference:B,tooltipReference:Se.current,tooltipArrowReference:Me.current,strategy:p,middlewares:v,border:ee}).then(Yn=>{yt.current&&Nt(Yn)})},[De,B,H,N,c,Be==null?void 0:Be.place,d,p,U,Be==null?void 0:Be.position,w]);x.useEffect(()=>{var Le,it;const ht=new Set(sn);un.forEach(Qt=>{ht.add({current:Qt})});const Yn=document.querySelector(`[id='${s}']`);Yn&&ht.add({current:Yn});const pr=()=>{_t(!1)},li=k3(B),bi=k3(Se.current);Ut.scroll&&(window.addEventListener("scroll",pr),li==null||li.addEventListener("scroll",pr),bi==null||bi.addEventListener("scroll",pr));let Mr=null;Ut.resize?window.addEventListener("resize",pr):B&&Se.current&&(Mr=vae(B,Se.current,kt,{ancestorResize:!0,elementResize:!0,layoutShift:!0}));const Kn=Qt=>{Qt.key==="Escape"&&_t(!1)};Ut.escape&&window.addEventListener("keydown",Kn),Ut.clickOutsideAnchor&&window.addEventListener("click",qr);const St=[],tr=Qt=>{De&&(Qt==null?void 0:Qt.target)===B||mt(Qt)},mo=Qt=>{De&&(Qt==null?void 0:Qt.target)===B&&fr()},Ba=["mouseover","mouseout","mouseenter","mouseleave","focus","blur"],hu=["click","dblclick","mousedown","mouseup"];Object.entries(Ct).forEach(([Qt,_i])=>{_i&&(Ba.includes(Qt)?St.push({event:Qt,listener:Tn}):hu.includes(Qt)&&St.push({event:Qt,listener:tr}))}),Object.entries(Nn).forEach(([Qt,_i])=>{_i&&(Ba.includes(Qt)?St.push({event:Qt,listener:Je}):hu.includes(Qt)&&St.push({event:Qt,listener:mo}))}),w&&St.push({event:"pointermove",listener:Gn});const pu=()=>{pt.current=!0},Ll=()=>{pt.current=!1,fr()};return R&&!rt&&((Le=Se.current)===null||Le===void 0||Le.addEventListener("mouseenter",pu),(it=Se.current)===null||it===void 0||it.addEventListener("mouseleave",Ll)),St.forEach(({event:Qt,listener:_i})=>{ht.forEach(Ki=>{var Pi;(Pi=Ki.current)===null||Pi===void 0||Pi.addEventListener(Qt,_i)})}),()=>{var Qt,_i;Ut.scroll&&(window.removeEventListener("scroll",pr),li==null||li.removeEventListener("scroll",pr),bi==null||bi.removeEventListener("scroll",pr)),Ut.resize?window.removeEventListener("resize",pr):Mr==null||Mr(),Ut.clickOutsideAnchor&&window.removeEventListener("click",qr),Ut.escape&&window.removeEventListener("keydown",Kn),R&&!rt&&((Qt=Se.current)===null||Qt===void 0||Qt.removeEventListener("mouseenter",pu),(_i=Se.current)===null||_i===void 0||_i.removeEventListener("mouseleave",Ll)),St.forEach(({event:Ki,listener:Pi})=>{ht.forEach(Lo=>{var Wi;(Wi=Lo.current)===null||Wi===void 0||Wi.removeEventListener(Ki,Pi)})})}},[B,kt,ot,sn,un,j,D,P,lt,b,_]),x.useEffect(()=>{var Le,it;let ht=(it=(Le=Be==null?void 0:Be.anchorSelect)!==null&&Le!==void 0?Le:l)!==null&&it!==void 0?it:"";!ht&&t&&(ht=`[data-tooltip-id='${t.replace(/'/g,"\\'")}']`);const Yn=new MutationObserver(pr=>{const li=[],bi=[];pr.forEach(Mr=>{if(Mr.type==="attributes"&&Mr.attributeName==="data-tooltip-id"&&(Mr.target.getAttribute("data-tooltip-id")===t?li.push(Mr.target):Mr.oldValue===t&&bi.push(Mr.target)),Mr.type==="childList"){if(B){const Kn=[...Mr.removedNodes].filter(St=>St.nodeType===1);if(ht)try{bi.push(...Kn.filter(St=>St.matches(ht))),bi.push(...Kn.flatMap(St=>[...St.querySelectorAll(ht)]))}catch{}Kn.some(St=>{var tr;return!!(!((tr=St==null?void 0:St.contains)===null||tr===void 0)&&tr.call(St,B))&&(ft(!1),_t(!1),G(null),Re.current&&clearTimeout(Re.current),ve.current&&clearTimeout(ve.current),!0)})}if(ht)try{const Kn=[...Mr.addedNodes].filter(St=>St.nodeType===1);li.push(...Kn.filter(St=>St.matches(ht))),li.push(...Kn.flatMap(St=>[...St.querySelectorAll(ht)]))}catch{}}}),(li.length||bi.length)&&on(Mr=>[...Mr.filter(Kn=>!bi.includes(Kn)),...li])});return Yn.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["data-tooltip-id"],attributeOldValue:!0}),()=>{Yn.disconnect()}},[t,l,Be==null?void 0:Be.anchorSelect,B]),x.useEffect(()=>{kt()},[kt]),x.useEffect(()=>{if(!(V!=null&&V.current))return()=>null;const Le=new ResizeObserver(()=>{setTimeout(()=>kt())});return Le.observe(V.current),()=>{Le.disconnect()}},[H,V==null?void 0:V.current]),x.useEffect(()=>{var Le;const it=document.querySelector(`[id='${s}']`),ht=[...un,it];B&&ht.includes(B)||G((Le=un[0])!==null&&Le!==void 0?Le:it)},[s,un,B]),x.useEffect(()=>(Q&&_t(!0),()=>{Re.current&&clearTimeout(Re.current),ve.current&&clearTimeout(ve.current)}),[]),x.useEffect(()=>{var Le;let it=(Le=Be==null?void 0:Be.anchorSelect)!==null&&Le!==void 0?Le:l;if(!it&&t&&(it=`[data-tooltip-id='${t.replace(/'/g,"\\'")}']`),it)try{const ht=Array.from(document.querySelectorAll(it));on(ht)}catch{on([])}},[t,l,Be==null?void 0:Be.anchorSelect]),x.useEffect(()=>{Re.current&&(clearTimeout(Re.current),Ln(b))},[b]);const hr=(se=Be==null?void 0:Be.content)!==null&&se!==void 0?se:H,ai=De&&Object.keys(Ge.tooltipStyles).length>0;return x.useImperativeHandle(e,()=>({open:Le=>{if(Le!=null&&Le.anchorSelect)try{document.querySelector(Le.anchorSelect)}catch{return void console.warn(`[react-tooltip] "${Le.anchorSelect}" is not a valid CSS selector`)}ut(Le??null),Le!=null&&Le.delay?Ln(Le.delay):_t(!0)},close:Le=>{Le!=null&&Le.delay?Jt(Le.delay):_t(!1)},activeAnchor:B,place:Ge.place,isOpen:!!(ot&&!T&&hr&&ai)})),ot&&!T&&hr?Qe.createElement(y,{id:t,role:ge,className:jx("react-tooltip",rd.tooltip,J1.tooltip,J1[i],n,`react-tooltip__place-${Ge.place}`,rd[ai?"show":"closing"],ai?"react-tooltip__show":"react-tooltip__closing",p==="fixed"&&rd.fixed,R&&rd.clickable),onTransitionEnd:Le=>{je.current&&clearTimeout(je.current),De||Le.propertyName!=="opacity"||(ft(!1),ut(null),q==null||q())},style:{...N,...Ge.tooltipStyles,opacity:ue!==void 0&&ai?ue:void 0},ref:Se},hr,Qe.createElement(y,{className:jx("react-tooltip-arrow",rd.arrow,J1.arrow,r,k&&rd.noArrow),style:{...Ge.tooltipArrowStyles,background:F?`linear-gradient(to right bottom, transparent 50%, ${F} 50%)`:void 0},ref:Me})):null},Oae=({content:e})=>Qe.createElement("span",{dangerouslySetInnerHTML:{__html:e}}),jae=Qe.forwardRef(({id:e,anchorId:t,anchorSelect:n,content:r,html:i,render:s,className:l,classNameArrow:c,variant:d="dark",place:u="top",offset:h=10,wrapper:p="div",children:v=null,events:y=["hover"],openOnClick:b=!1,positionStrategy:_="absolute",middlewares:w,delayShow:T=0,delayHide:k=0,float:R=!1,hidden:M=!1,noArrow:E=!1,clickable:O=!1,closeOnEsc:j=!1,closeOnScroll:D=!1,closeOnResize:P=!1,openEvents:C,closeEvents:N,globalCloseEvents:U,imperativeModeOnly:L=!1,style:q,position:H,isOpen:V,defaultIsOpen:W=!1,disableStyleInjection:Q=!1,border:J,opacity:B,arrowColor:G,setIsOpen:ee,afterShow:ue,afterHide:F,role:ge="tooltip"},se)=>{const[Se,Me]=x.useState(r),[Re,ve]=x.useState(i),[je,Ge]=x.useState(u),[$e,De]=x.useState(d),[Ve,ot]=x.useState(h),[ft,Be]=x.useState(T),[ut,en]=x.useState(k),[pn,sn]=x.useState(R),[qe,pt]=x.useState(M),[un,on]=x.useState(p),[yt,lt]=x.useState(y),[rt,Ct]=x.useState(_),[Nn,Ut]=x.useState(null),[_t,Nt]=x.useState(null),Ln=x.useRef(Q),{anchorRefs:Jt,activeAnchor:mt}=eN(e),fr=Lt=>Lt==null?void 0:Lt.getAttributeNames().reduce((Tn,Je)=>{var kt;return Je.startsWith("data-tooltip-")&&(Tn[Je.replace(/^data-tooltip-/,"")]=(kt=Lt==null?void 0:Lt.getAttribute(Je))!==null&&kt!==void 0?kt:null),Tn},{}),Vr=Lt=>{const Tn={place:Je=>{var kt;Ge((kt=Je)!==null&&kt!==void 0?kt:u)},content:Je=>{Me(Je??r)},html:Je=>{ve(Je??i)},variant:Je=>{var kt;De((kt=Je)!==null&&kt!==void 0?kt:d)},offset:Je=>{ot(Je===null?h:Number(Je))},wrapper:Je=>{var kt;on((kt=Je)!==null&&kt!==void 0?kt:p)},events:Je=>{const kt=Je==null?void 0:Je.split(" ");lt(kt??y)},"position-strategy":Je=>{var kt;Ct((kt=Je)!==null&&kt!==void 0?kt:_)},"delay-show":Je=>{Be(Je===null?T:Number(Je))},"delay-hide":Je=>{en(Je===null?k:Number(Je))},float:Je=>{sn(Je===null?R:Je==="true")},hidden:Je=>{pt(Je===null?M:Je==="true")},"class-name":Je=>{Ut(Je)}};Object.values(Tn).forEach(Je=>Je(null)),Object.entries(Lt).forEach(([Je,kt])=>{var hr;(hr=Tn[Je])===null||hr===void 0||hr.call(Tn,kt)})};x.useEffect(()=>{Me(r)},[r]),x.useEffect(()=>{ve(i)},[i]),x.useEffect(()=>{Ge(u)},[u]),x.useEffect(()=>{De(d)},[d]),x.useEffect(()=>{ot(h)},[h]),x.useEffect(()=>{Be(T)},[T]),x.useEffect(()=>{en(k)},[k]),x.useEffect(()=>{sn(R)},[R]),x.useEffect(()=>{pt(M)},[M]),x.useEffect(()=>{Ct(_)},[_]),x.useEffect(()=>{Ln.current!==Q&&console.warn("[react-tooltip] Do not change `disableStyleInjection` dynamically.")},[Q]),x.useEffect(()=>{typeof window<"u"&&window.dispatchEvent(new CustomEvent("react-tooltip-inject-styles",{detail:{disableCore:Q==="core",disableBase:Q}}))},[]),x.useEffect(()=>{var Lt;const Tn=new Set(Jt);let Je=n;if(!Je&&e&&(Je=`[data-tooltip-id='${e.replace(/'/g,"\\'")}']`),Je)try{document.querySelectorAll(Je).forEach(it=>{Tn.add({current:it})})}catch{console.warn(`[react-tooltip] "${Je}" is not a valid CSS selector`)}const kt=document.querySelector(`[id='${t}']`);if(kt&&Tn.add({current:kt}),!Tn.size)return()=>null;const hr=(Lt=_t??kt)!==null&&Lt!==void 0?Lt:mt.current,ai=new MutationObserver(it=>{it.forEach(ht=>{var Yn;if(!hr||ht.type!=="attributes"||!(!((Yn=ht.attributeName)===null||Yn===void 0)&&Yn.startsWith("data-tooltip-")))return;const pr=fr(hr);Vr(pr)})}),Le={attributes:!0,childList:!1,subtree:!1};if(hr){const it=fr(hr);Vr(it),ai.observe(hr,Le)}return()=>{ai.disconnect()}},[Jt,mt,_t,t,n]),x.useEffect(()=>{q!=null&&q.border&&console.warn("[react-tooltip] Do not set `style.border`. Use `border` prop instead."),J&&!E3("border",`${J}`)&&console.warn(`[react-tooltip] "${J}" is not a valid \`border\`.`),q!=null&&q.opacity&&console.warn("[react-tooltip] Do not set `style.opacity`. Use `opacity` prop instead."),B&&!E3("opacity",`${B}`)&&console.warn(`[react-tooltip] "${B}" is not a valid \`opacity\`.`)},[]);let Gn=v;const qr=x.useRef(null);if(s){const Lt=s({content:(_t==null?void 0:_t.getAttribute("data-tooltip-content"))||Se||null,activeAnchor:_t});Gn=Lt?Qe.createElement("div",{ref:qr,className:"react-tooltip-content-wrapper"},Lt):null}else Se&&(Gn=Se);Re&&(Gn=Qe.createElement(Oae,{content:Re}));const Dr={forwardRef:se,id:e,anchorId:t,anchorSelect:n,className:jx(l,Nn),classNameArrow:c,content:Gn,contentWrapperRef:qr,place:je,variant:$e,offset:Ve,wrapper:un,events:yt,openOnClick:b,positionStrategy:rt,middlewares:w,delayShow:ft,delayHide:ut,float:pn,hidden:qe,noArrow:E,clickable:O,closeOnEsc:j,closeOnScroll:D,closeOnResize:P,openEvents:C,closeEvents:N,globalCloseEvents:U,imperativeModeOnly:L,style:q,position:H,isOpen:V,defaultIsOpen:W,border:J,opacity:B,arrowColor:G,setIsOpen:ee,afterShow:ue,afterHide:F,activeAnchor:_t,setActiveAnchor:Lt=>Nt(Lt),role:ge};return Qe.createElement(Iae,{...Dr})});typeof window<"u"&&window.addEventListener("react-tooltip-inject-styles",e=>{e.detail.disableCore||x3({css:":root{--rt-color-white:#fff;--rt-color-dark:#222;--rt-color-success:#8dc572;--rt-color-error:#be6464;--rt-color-warning:#f0ad4e;--rt-color-info:#337ab7;--rt-opacity:0.9;--rt-transition-show-delay:0.15s;--rt-transition-closing-delay:0.15s}.core-styles-module_tooltip__3vRRp{position:absolute;top:0;left:0;pointer-events:none;opacity:0;will-change:opacity}.core-styles-module_fixed__pcSol{position:fixed}.core-styles-module_arrow__cvMwQ{position:absolute;background:inherit}.core-styles-module_noArrow__xock6{display:none}.core-styles-module_clickable__ZuTTB{pointer-events:auto}.core-styles-module_show__Nt9eE{opacity:var(--rt-opacity);transition:opacity var(--rt-transition-show-delay)ease-out}.core-styles-module_closing__sGnxF{opacity:0;transition:opacity var(--rt-transition-closing-delay)ease-in}",type:"core"}),e.detail.disableBase||x3({css:`
.styles-module_tooltip__mnnfp{padding:8px 16px;border-radius:3px;font-size:90%;width:max-content}.styles-module_arrow__K0L3T{width:8px;height:8px}[class*='react-tooltip__place-top']>.styles-module_arrow__K0L3T{transform:rotate(45deg)}[class*='react-tooltip__place-right']>.styles-module_arrow__K0L3T{transform:rotate(135deg)}[class*='react-tooltip__place-bottom']>.styles-module_arrow__K0L3T{transform:rotate(225deg)}[class*='react-tooltip__place-left']>.styles-module_arrow__K0L3T{transform:rotate(315deg)}.styles-module_dark__xNqje{background:var(--rt-color-dark);color:var(--rt-color-white)}.styles-module_light__Z6W-X{background-color:var(--rt-color-white);color:var(--rt-color-dark)}.styles-module_success__A2AKt{background-color:var(--rt-color-success);color:var(--rt-color-white)}.styles-module_warning__SCK0X{background-color:var(--rt-color-warning);color:var(--rt-color-white)}.styles-module_error__JvumD{background-color:var(--rt-color-error);color:var(--rt-color-white)}.styles-module_info__BWdHW{background-color:var(--rt-color-info);color:var(--rt-color-white)}`,type:"base"})});const Pae=K(jae,{target:"e21jg9v2"})("&&&{background:rgba(0, 0, 0, 0.85);font-size:2rem;padding:1rem 1.5rem;border-radius:1rem;max-width:45rem;",Ot,";.MuiTooltip-arrow{&::before{background:rgba(0, 0, 0, 0.85);}}strong{color:",Ue.colors.text.active,";}}z-index:10000;"),Zd=({children:e,title:t,open:n,...r})=>{const i=x.useRef(null),s=x.useMemo(()=>`${Math.random()}`,[]);return g.jsxs(g.Fragment,{children:[vf.createPortal(g.jsx(Pae,{...r,id:s,ref:i,isOpen:n,children:t}),document.body),x.cloneElement(e,{"data-tooltip-id":s})]})},M3=e=>`tooltip_dismissed_${e}`,Vae=({dismissKey:e,timeoutMs:t,oneTime:n=!0,children:r,title:i,...s})=>{const[l,c]=x.useState(!st.local.getItem(M3(e))),d=x.useCallback(()=>{st.local.setItem(M3(e),!0),c(void 0)},[e]);x.useEffect(()=>{if(t){const h=setTimeout(d,t);return()=>clearTimeout(h)}},[t,d]);const u=(l===void 0||!l&&!n)&&s.open===void 0;return g.jsx(Zd,{clickable:!0,open:u?s.open:l,hidden:s.open===!1,...s,title:g.jsxs(g.Fragment,{children:[i,l&&g.jsx(Dae,{children:g.jsx(Bae,{"data-test":"close-tooltip-button",onClick:d,children:"Close"})})]}),children:r},u?"uncontrolled":"controlled")},Dae=K("div",{target:"e21jg9v1"})({name:"g78t84",styles:"display:flex;justify-content:flex-end;margin-top:1rem"}),Bae=K("button",{target:"e21jg9v0"})("padding:0.25rem 2rem;font-weight:bold;cursor:pointer;color:white;border:1px solid white;border-radius:0.5rem;background:none;font-size:1.75rem;&:hover{color:",Ue.colors.text.active,";border-color:",Ue.colors.text.active,";}&:active{color:white;background:",Ue.colors.text.active,";border-color:none;}"),Nae=Wt(g.jsx("path",{d:"M7 14H5v5h5v-2H7zm-2-4h2V7h3V5H5zm12 7h-3v2h5v-5h-2zM14 5v2h3v3h2V5z"}),"Fullscreen"),Lae=Wt(g.jsx("path",{d:"M5 16h3v3h2v-5H5zm3-8H5v2h5V5H8zm6 11h2v-3h3v-2h-5zm2-11V5h-2v5h5V8z"}),"FullscreenExit");function Fae(){const[,e]=bt(vw),[t]=bt(oi),[n,r]=x.useState(document.fullscreenElement!==null);return x.useEffect(()=>{const i=()=>{r(document.fullscreenElement!==null)};return document.addEventListener("fullscreenchange",i),()=>{document.removeEventListener("fullscreenchange",i)}},[]),g.jsx(Zd,{title:"Toggle fullscreen",place:"bottom-end",children:g.jsx(Fy,{"data-test":"toggle-fullscreen",size:"small",onClick:async()=>{var i,s;try{document.fullscreenElement===null?(e(!0),await document.body.requestFullscreen(),t&&(global.screen.orientation.unlock(),await((s=(i=global.screen.orientation).lock)==null?void 0:s.call(i,"landscape")))):(e(!1),await document.exitFullscreen(),t&&global.screen.orientation.unlock())}catch(l){console.info(l)}},children:n?g.jsx(Lae,{}):g.jsx(Nae,{})})})}const tN=En(uu)(e=>["!flex-row duration-300 text-md typography cursor-pointer justify-center border-0 bg-black/75 text-white uppercase shadow-focusable pointer-events-auto",!pi()&&e["data-focused"]?"animate-button-focused scale-105":"",e["data-focused"]?"bg-active shadow-none":"",e.disabled?"cursor-default !text-gray-300 bg-gray-500 pointer-events-none !animate-none !scale-100":"active:bg-active",e["data-inactive"]?"!line-through decoration-white opacity-25":"!no-underline",e["data-read-only"]?"!cursor-default active:bg-black/75":""]),nN=({inactive:e,readOnly:t,focused:n,...r})=>({...r,...n?{"data-focused":!0}:{},...e?{"data-inactive":!0}:{},...t?{"data-read-only":!0,"aria-readonly":!0}:{}}),qE=({children:e,...t})=>g.jsx(tN,{className:"",...nN(t),as:"button",children:e}),rN=({children:e,...t})=>g.jsx(tN,{...nN(t),as:"a",children:e}),zae=lu("@keyframes button-focus-loop{0%,100%{transform:scale(1.045);}50%{transform:scale(1.055);}}animation:button-focus-loop 600ms ease-in-out infinite both;transform:scale(1.05);background:",Ue.colors.text.active,";",""),$ae=lu("transform:scale(1.05);background:",Ue.colors.text.active,";",""),iN=pi()?$ae:zae,No=qE,Uae=({size:e="regular",className:t,...n})=>{const r="href"in n?rN:qE;return g.jsx(r,{...n,"data-size":e,className:`${e==="small"?"h-20":"h-36"} ${t}`})},Hae=En(uu)`w-[100vw] sm:max-w-[85rem] m-[2rem auto 0 auto] [view-transition-name:menu-container] items-stretch pointer-events-auto`,sN=En(ps)`text-xl text-active flex items-center justify-center`,qae=En(ps)`text-md`,jt=({title:e,children:t,className:n,spacing:r="regular",ref:i,...s})=>g.jsxs(Hae,{...s,className:`${n} ${r==="tight"?"p-6 gap-3":"p-10 gap-6"}`,ref:i,children:[e&&g.jsx(sN,{children:e}),t]});jt.Header=sN;jt.Button=Uae;jt.ButtonGroup=En.div`flex`;jt.HelpText=qae;jt.Divider=()=>g.jsx("hr",{});const vt=jt.Button,du=jt;function Vl({children:e,onClose:t}){return g.jsxs(g.Fragment,{children:[g.jsx(Gae,{onClick:t,className:"starting:opacity-0 opacity-100 duration-300"}),g.jsx("div",{onClick:t,className:"fixed top-0 left-0 w-screen h-screen z-[20001] overflow-auto opacity-100 starting:opacity-0 starting:top-20 duration-300",children:g.jsx("div",{className:"flex items-center justify-center min-h-full",children:g.jsx("div",{onClick:n=>n.stopPropagation(),children:e})})})]})}const Gae=K("div",{target:"e7rcptf0"})({name:"25wq6t",styles:"position:fixed;top:0;left:0;background:rgba(0, 0, 0, 0.7);width:100vw;height:100vh;z-index:20000;backdrop-filter:blur(20px)"});let Yae=0;function Af(e,t){const n=x.useRef(`${String(Math.random())}-${Yae++}`),{setKeyboard:r,unsetKeyboard:i}=x.useContext(AE),s=c=>{r(n.current,c)},l=()=>i(n.current);return x.useEffect(()=>(t&&s(e),l),[e,t]),{setHelp:s,clearHelp:l}}function dr(e={},t=!1){var M;const{enabled:n=!0,onBackspace:r,backspaceHelp:i=null,direction:s="vertical",additionalHelp:l={}}=e,[c,d]=x.useState(null),u=x.useRef([]),h=x.useRef([]),p=x.useRef({}),v=(M=p.current[c])==null?void 0:M.label,y=x.useMemo(()=>({[s]:null,accept:v??null,back:r?i:void 0,...l}),[v,p,i,s]);Af(y,n);const b=()=>{var E;(E=p.current[c])==null||E.callback(),Gw.play()},_=()=>{r&&(Yw.play(),r())},w=E=>{const O=c?u.current.indexOf(c):0;Ey.play(),d(u.current.at((O+E)%u.current.length)??null)};gf({[s==="vertical"?"up":"left"]:()=>w(-1),[s==="vertical"?"down":"right"]:()=>w(1),accept:b,back:_},n,[c,u.current]);let T="";const k=(E,O,j,D=!1,{propName:P="onClick",disabled:C=!1}={})=>{if(C)return{disabled:C,focused:!1};h.current.push(E),O&&(p.current[E]={callback:O,label:j,propName:P}),D&&(T=E);const N=n&&c===E;return{focused:N,[P]:O,$keyboardNavigationChangeFocus:w,"data-test":E,...n?{"data-focused":N,"data-e2e-focused":N}:{}}};return x.useEffect(()=>{var E;(E=document.querySelector(`[data-test="${c}"]`))==null||E.scrollIntoView({behavior:"smooth",block:"center"})},[c]),x.useEffect(()=>{const E=h.current.filter(O=>!u.current.includes(O));t&&E.length&&console.log("new elements",E),u.current=[...h.current],h.current.length=0,u.current.length&&(c===null||u.current.indexOf(c)===-1||E.includes(T))&&d(T||u.current[0])}),{focusElement:E=>{u.current.includes(E)&&d(E)},focused:c,register:k}}var Kae=Object.defineProperty,Lv=Object.getOwnPropertySymbols,oN=Object.prototype.hasOwnProperty,aN=Object.prototype.propertyIsEnumerable,R3=(e,t,n)=>t in e?Kae(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Op=(e,t)=>{for(var n in t||(t={}))oN.call(t,n)&&R3(e,n,t[n]);if(Lv)for(var n of Lv(t))aN.call(t,n)&&R3(e,n,t[n]);return e},GE=(e,t)=>{var n={};for(var r in e)oN.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Lv)for(var r of Lv(e))t.indexOf(r)<0&&aN.call(e,r)&&(n[r]=e[r]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var Jc;(e=>{const t=class{constructor(d,u,h,p){if(this.version=d,this.errorCorrectionLevel=u,this.modules=[],this.isFunction=[],d<t.MIN_VERSION||d>t.MAX_VERSION)throw new RangeError("Version value out of range");if(p<-1||p>7)throw new RangeError("Mask value out of range");this.size=d*4+17;let v=[];for(let b=0;b<this.size;b++)v.push(!1);for(let b=0;b<this.size;b++)this.modules.push(v.slice()),this.isFunction.push(v.slice());this.drawFunctionPatterns();const y=this.addEccAndInterleave(h);if(this.drawCodewords(y),p==-1){let b=1e9;for(let _=0;_<8;_++){this.applyMask(_),this.drawFormatBits(_);const w=this.getPenaltyScore();w<b&&(p=_,b=w),this.applyMask(_)}}s(0<=p&&p<=7),this.mask=p,this.applyMask(p),this.drawFormatBits(p),this.isFunction=[]}static encodeText(d,u){const h=e.QrSegment.makeSegments(d);return t.encodeSegments(h,u)}static encodeBinary(d,u){const h=e.QrSegment.makeBytes(d);return t.encodeSegments([h],u)}static encodeSegments(d,u,h=1,p=40,v=-1,y=!0){if(!(t.MIN_VERSION<=h&&h<=p&&p<=t.MAX_VERSION)||v<-1||v>7)throw new RangeError("Invalid value");let b,_;for(b=h;;b++){const R=t.getNumDataCodewords(b,u)*8,M=c.getTotalBits(d,b);if(M<=R){_=M;break}if(b>=p)throw new RangeError("Data too long")}for(const R of[t.Ecc.MEDIUM,t.Ecc.QUARTILE,t.Ecc.HIGH])y&&_<=t.getNumDataCodewords(b,R)*8&&(u=R);let w=[];for(const R of d){r(R.mode.modeBits,4,w),r(R.numChars,R.mode.numCharCountBits(b),w);for(const M of R.getData())w.push(M)}s(w.length==_);const T=t.getNumDataCodewords(b,u)*8;s(w.length<=T),r(0,Math.min(4,T-w.length),w),r(0,(8-w.length%8)%8,w),s(w.length%8==0);for(let R=236;w.length<T;R^=253)r(R,8,w);let k=[];for(;k.length*8<w.length;)k.push(0);return w.forEach((R,M)=>k[M>>>3]|=R<<7-(M&7)),new t(b,u,k,v)}getModule(d,u){return 0<=d&&d<this.size&&0<=u&&u<this.size&&this.modules[u][d]}getModules(){return this.modules}drawFunctionPatterns(){for(let h=0;h<this.size;h++)this.setFunctionModule(6,h,h%2==0),this.setFunctionModule(h,6,h%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const d=this.getAlignmentPatternPositions(),u=d.length;for(let h=0;h<u;h++)for(let p=0;p<u;p++)h==0&&p==0||h==0&&p==u-1||h==u-1&&p==0||this.drawAlignmentPattern(d[h],d[p]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(d){const u=this.errorCorrectionLevel.formatBits<<3|d;let h=u;for(let v=0;v<10;v++)h=h<<1^(h>>>9)*1335;const p=(u<<10|h)^21522;s(p>>>15==0);for(let v=0;v<=5;v++)this.setFunctionModule(8,v,i(p,v));this.setFunctionModule(8,7,i(p,6)),this.setFunctionModule(8,8,i(p,7)),this.setFunctionModule(7,8,i(p,8));for(let v=9;v<15;v++)this.setFunctionModule(14-v,8,i(p,v));for(let v=0;v<8;v++)this.setFunctionModule(this.size-1-v,8,i(p,v));for(let v=8;v<15;v++)this.setFunctionModule(8,this.size-15+v,i(p,v));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let d=this.version;for(let h=0;h<12;h++)d=d<<1^(d>>>11)*7973;const u=this.version<<12|d;s(u>>>18==0);for(let h=0;h<18;h++){const p=i(u,h),v=this.size-11+h%3,y=Math.floor(h/3);this.setFunctionModule(v,y,p),this.setFunctionModule(y,v,p)}}drawFinderPattern(d,u){for(let h=-4;h<=4;h++)for(let p=-4;p<=4;p++){const v=Math.max(Math.abs(p),Math.abs(h)),y=d+p,b=u+h;0<=y&&y<this.size&&0<=b&&b<this.size&&this.setFunctionModule(y,b,v!=2&&v!=4)}}drawAlignmentPattern(d,u){for(let h=-2;h<=2;h++)for(let p=-2;p<=2;p++)this.setFunctionModule(d+p,u+h,Math.max(Math.abs(p),Math.abs(h))!=1)}setFunctionModule(d,u,h){this.modules[u][d]=h,this.isFunction[u][d]=!0}addEccAndInterleave(d){const u=this.version,h=this.errorCorrectionLevel;if(d.length!=t.getNumDataCodewords(u,h))throw new RangeError("Invalid argument");const p=t.NUM_ERROR_CORRECTION_BLOCKS[h.ordinal][u],v=t.ECC_CODEWORDS_PER_BLOCK[h.ordinal][u],y=Math.floor(t.getNumRawDataModules(u)/8),b=p-y%p,_=Math.floor(y/p);let w=[];const T=t.reedSolomonComputeDivisor(v);for(let R=0,M=0;R<p;R++){let E=d.slice(M,M+_-v+(R<b?0:1));M+=E.length;const O=t.reedSolomonComputeRemainder(E,T);R<b&&E.push(0),w.push(E.concat(O))}let k=[];for(let R=0;R<w[0].length;R++)w.forEach((M,E)=>{(R!=_-v||E>=b)&&k.push(M[R])});return s(k.length==y),k}drawCodewords(d){if(d.length!=Math.floor(t.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let u=0;for(let h=this.size-1;h>=1;h-=2){h==6&&(h=5);for(let p=0;p<this.size;p++)for(let v=0;v<2;v++){const y=h-v,_=(h+1&2)==0?this.size-1-p:p;!this.isFunction[_][y]&&u<d.length*8&&(this.modules[_][y]=i(d[u>>>3],7-(u&7)),u++)}}s(u==d.length*8)}applyMask(d){if(d<0||d>7)throw new RangeError("Mask value out of range");for(let u=0;u<this.size;u++)for(let h=0;h<this.size;h++){let p;switch(d){case 0:p=(h+u)%2==0;break;case 1:p=u%2==0;break;case 2:p=h%3==0;break;case 3:p=(h+u)%3==0;break;case 4:p=(Math.floor(h/3)+Math.floor(u/2))%2==0;break;case 5:p=h*u%2+h*u%3==0;break;case 6:p=(h*u%2+h*u%3)%2==0;break;case 7:p=((h+u)%2+h*u%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[u][h]&&p&&(this.modules[u][h]=!this.modules[u][h])}}getPenaltyScore(){let d=0;for(let v=0;v<this.size;v++){let y=!1,b=0,_=[0,0,0,0,0,0,0];for(let w=0;w<this.size;w++)this.modules[v][w]==y?(b++,b==5?d+=t.PENALTY_N1:b>5&&d++):(this.finderPenaltyAddHistory(b,_),y||(d+=this.finderPenaltyCountPatterns(_)*t.PENALTY_N3),y=this.modules[v][w],b=1);d+=this.finderPenaltyTerminateAndCount(y,b,_)*t.PENALTY_N3}for(let v=0;v<this.size;v++){let y=!1,b=0,_=[0,0,0,0,0,0,0];for(let w=0;w<this.size;w++)this.modules[w][v]==y?(b++,b==5?d+=t.PENALTY_N1:b>5&&d++):(this.finderPenaltyAddHistory(b,_),y||(d+=this.finderPenaltyCountPatterns(_)*t.PENALTY_N3),y=this.modules[w][v],b=1);d+=this.finderPenaltyTerminateAndCount(y,b,_)*t.PENALTY_N3}for(let v=0;v<this.size-1;v++)for(let y=0;y<this.size-1;y++){const b=this.modules[v][y];b==this.modules[v][y+1]&&b==this.modules[v+1][y]&&b==this.modules[v+1][y+1]&&(d+=t.PENALTY_N2)}let u=0;for(const v of this.modules)u=v.reduce((y,b)=>y+(b?1:0),u);const h=this.size*this.size,p=Math.ceil(Math.abs(u*20-h*10)/h)-1;return s(0<=p&&p<=9),d+=p*t.PENALTY_N4,s(0<=d&&d<=2568888),d}getAlignmentPatternPositions(){if(this.version==1)return[];{const d=Math.floor(this.version/7)+2,u=this.version==32?26:Math.ceil((this.version*4+4)/(d*2-2))*2;let h=[6];for(let p=this.size-7;h.length<d;p-=u)h.splice(1,0,p);return h}}static getNumRawDataModules(d){if(d<t.MIN_VERSION||d>t.MAX_VERSION)throw new RangeError("Version number out of range");let u=(16*d+128)*d+64;if(d>=2){const h=Math.floor(d/7)+2;u-=(25*h-10)*h-55,d>=7&&(u-=36)}return s(208<=u&&u<=29648),u}static getNumDataCodewords(d,u){return Math.floor(t.getNumRawDataModules(d)/8)-t.ECC_CODEWORDS_PER_BLOCK[u.ordinal][d]*t.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][d]}static reedSolomonComputeDivisor(d){if(d<1||d>255)throw new RangeError("Degree out of range");let u=[];for(let p=0;p<d-1;p++)u.push(0);u.push(1);let h=1;for(let p=0;p<d;p++){for(let v=0;v<u.length;v++)u[v]=t.reedSolomonMultiply(u[v],h),v+1<u.length&&(u[v]^=u[v+1]);h=t.reedSolomonMultiply(h,2)}return u}static reedSolomonComputeRemainder(d,u){let h=u.map(p=>0);for(const p of d){const v=p^h.shift();h.push(0),u.forEach((y,b)=>h[b]^=t.reedSolomonMultiply(y,v))}return h}static reedSolomonMultiply(d,u){if(d>>>8||u>>>8)throw new RangeError("Byte out of range");let h=0;for(let p=7;p>=0;p--)h=h<<1^(h>>>7)*285,h^=(u>>>p&1)*d;return s(h>>>8==0),h}finderPenaltyCountPatterns(d){const u=d[1];s(u<=this.size*3);const h=u>0&&d[2]==u&&d[3]==u*3&&d[4]==u&&d[5]==u;return(h&&d[0]>=u*4&&d[6]>=u?1:0)+(h&&d[6]>=u*4&&d[0]>=u?1:0)}finderPenaltyTerminateAndCount(d,u,h){return d&&(this.finderPenaltyAddHistory(u,h),u=0),u+=this.size,this.finderPenaltyAddHistory(u,h),this.finderPenaltyCountPatterns(h)}finderPenaltyAddHistory(d,u){u[0]==0&&(d+=this.size),u.pop(),u.unshift(d)}};let n=t;n.MIN_VERSION=1,n.MAX_VERSION=40,n.PENALTY_N1=3,n.PENALTY_N2=3,n.PENALTY_N3=40,n.PENALTY_N4=10,n.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],n.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=n;function r(d,u,h){if(u<0||u>31||d>>>u)throw new RangeError("Value out of range");for(let p=u-1;p>=0;p--)h.push(d>>>p&1)}function i(d,u){return(d>>>u&1)!=0}function s(d){if(!d)throw new Error("Assertion error")}const l=class{constructor(d,u,h){if(this.mode=d,this.numChars=u,this.bitData=h,u<0)throw new RangeError("Invalid argument");this.bitData=h.slice()}static makeBytes(d){let u=[];for(const h of d)r(h,8,u);return new l(l.Mode.BYTE,d.length,u)}static makeNumeric(d){if(!l.isNumeric(d))throw new RangeError("String contains non-numeric characters");let u=[];for(let h=0;h<d.length;){const p=Math.min(d.length-h,3);r(parseInt(d.substr(h,p),10),p*3+1,u),h+=p}return new l(l.Mode.NUMERIC,d.length,u)}static makeAlphanumeric(d){if(!l.isAlphanumeric(d))throw new RangeError("String contains unencodable characters in alphanumeric mode");let u=[],h;for(h=0;h+2<=d.length;h+=2){let p=l.ALPHANUMERIC_CHARSET.indexOf(d.charAt(h))*45;p+=l.ALPHANUMERIC_CHARSET.indexOf(d.charAt(h+1)),r(p,11,u)}return h<d.length&&r(l.ALPHANUMERIC_CHARSET.indexOf(d.charAt(h)),6,u),new l(l.Mode.ALPHANUMERIC,d.length,u)}static makeSegments(d){return d==""?[]:l.isNumeric(d)?[l.makeNumeric(d)]:l.isAlphanumeric(d)?[l.makeAlphanumeric(d)]:[l.makeBytes(l.toUtf8ByteArray(d))]}static makeEci(d){let u=[];if(d<0)throw new RangeError("ECI assignment value out of range");if(d<128)r(d,8,u);else if(d<16384)r(2,2,u),r(d,14,u);else if(d<1e6)r(6,3,u),r(d,21,u);else throw new RangeError("ECI assignment value out of range");return new l(l.Mode.ECI,0,u)}static isNumeric(d){return l.NUMERIC_REGEX.test(d)}static isAlphanumeric(d){return l.ALPHANUMERIC_REGEX.test(d)}getData(){return this.bitData.slice()}static getTotalBits(d,u){let h=0;for(const p of d){const v=p.mode.numCharCountBits(u);if(p.numChars>=1<<v)return 1/0;h+=4+v+p.bitData.length}return h}static toUtf8ByteArray(d){d=encodeURI(d);let u=[];for(let h=0;h<d.length;h++)d.charAt(h)!="%"?u.push(d.charCodeAt(h)):(u.push(parseInt(d.substr(h+1,2),16)),h+=2);return u}};let c=l;c.NUMERIC_REGEX=/^[0-9]*$/,c.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,c.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",e.QrSegment=c})(Jc||(Jc={}));(e=>{(t=>{const n=class{constructor(i,s){this.ordinal=i,this.formatBits=s}};let r=n;r.LOW=new n(0,1),r.MEDIUM=new n(1,0),r.QUARTILE=new n(2,3),r.HIGH=new n(3,2),t.Ecc=r})(e.QrCode||(e.QrCode={}))})(Jc||(Jc={}));(e=>{(t=>{const n=class{constructor(i,s){this.modeBits=i,this.numBitsCharCount=s}numCharCountBits(i){return this.numBitsCharCount[Math.floor((i+7)/17)]}};let r=n;r.NUMERIC=new n(1,[10,12,14]),r.ALPHANUMERIC=new n(2,[9,11,13]),r.BYTE=new n(4,[8,16,16]),r.KANJI=new n(8,[8,10,12]),r.ECI=new n(7,[0,0,0]),t.Mode=r})(e.QrSegment||(e.QrSegment={}))})(Jc||(Jc={}));var yd=Jc;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var lN={L:yd.QrCode.Ecc.LOW,M:yd.QrCode.Ecc.MEDIUM,Q:yd.QrCode.Ecc.QUARTILE,H:yd.QrCode.Ecc.HIGH},cN=128,uN="L",dN="#FFFFFF",fN="#000000",hN=!1,YE=4,Wae=.1;function pN(e,t=0){const n=[];return e.forEach(function(r,i){let s=null;r.forEach(function(l,c){if(!l&&s!==null){n.push(`M${s+t} ${i+t}h${c-s}v1H${s+t}z`),s=null;return}if(c===r.length-1){if(!l)return;s===null?n.push(`M${c+t},${i+t} h1v1H${c+t}z`):n.push(`M${s+t},${i+t} h${c+1-s}v1H${s+t}z`);return}l&&s===null&&(s=c)})}),n.join("")}function gN(e,t){return e.slice().map((n,r)=>r<t.y||r>=t.y+t.h?n:n.map((i,s)=>s<t.x||s>=t.x+t.w?i:!1))}function mN(e,t,n,r){if(r==null)return null;const i=n?YE:0,s=e.length+i*2,l=Math.floor(t*Wae),c=s/t,d=(r.width||l)*c,u=(r.height||l)*c,h=r.x==null?e.length/2-d/2:r.x*c,p=r.y==null?e.length/2-u/2:r.y*c;let v=null;if(r.excavate){let y=Math.floor(h),b=Math.floor(p),_=Math.ceil(d+h-y),w=Math.ceil(u+p-b);v={x:y,y:b,w:_,h:w}}return{x:h,y:p,h:u,w:d,excavation:v}}var Qae=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}();function vN(e){const t=e,{value:n,size:r=cN,level:i=uN,bgColor:s=dN,fgColor:l=fN,includeMargin:c=hN,style:d,imageSettings:u}=t,h=GE(t,["value","size","level","bgColor","fgColor","includeMargin","style","imageSettings"]),p=u==null?void 0:u.src,v=x.useRef(null),y=x.useRef(null),[b,_]=x.useState(!1);x.useEffect(()=>{if(v.current!=null){const k=v.current,R=k.getContext("2d");if(!R)return;let M=yd.QrCode.encodeText(n,lN[i]).getModules();const E=c?YE:0,O=M.length+E*2,j=mN(M,r,c,u),D=y.current,P=j!=null&&D!==null&&D.complete&&D.naturalHeight!==0&&D.naturalWidth!==0;P&&j.excavation!=null&&(M=gN(M,j.excavation));const C=window.devicePixelRatio||1;k.height=k.width=r*C;const N=r/O*C;R.scale(N,N),R.fillStyle=s,R.fillRect(0,0,O,O),R.fillStyle=l,Qae?R.fill(new Path2D(pN(M,E))):M.forEach(function(U,L){U.forEach(function(q,H){q&&R.fillRect(H+E,L+E,1,1)})}),P&&R.drawImage(D,j.x+E,j.y+E,j.w,j.h)}}),x.useEffect(()=>{_(!1)},[p]);const w=Op({height:r,width:r},d);let T=null;return p!=null&&(T=Qe.createElement("img",{src:p,key:p,style:{display:"none"},onLoad:()=>{_(!0)},ref:y})),Qe.createElement(Qe.Fragment,null,Qe.createElement("canvas",Op({style:w,height:r,width:r,ref:v},h)),T)}function yN(e){const t=e,{value:n,size:r=cN,level:i=uN,bgColor:s=dN,fgColor:l=fN,includeMargin:c=hN,imageSettings:d}=t,u=GE(t,["value","size","level","bgColor","fgColor","includeMargin","imageSettings"]);let h=yd.QrCode.encodeText(n,lN[i]).getModules();const p=c?YE:0,v=h.length+p*2,y=mN(h,r,c,d);let b=null;d!=null&&y!=null&&(y.excavation!=null&&(h=gN(h,y.excavation)),b=Qe.createElement("image",{xlinkHref:d.src,height:y.h,width:y.w,x:y.x+p,y:y.y+p,preserveAspectRatio:"none"}));const _=pN(h,p);return Qe.createElement("svg",Op({height:r,width:r,viewBox:`0 0 ${v} ${v}`},u),Qe.createElement("path",{fill:s,d:`M0,0 h${v}v${v}H0z`,shapeRendering:"crispEdges"}),Qe.createElement("path",{fill:l,d:_,shapeRendering:"crispEdges"}),b)}var Xae=e=>{const t=e,{renderAs:n}=t,r=GE(t,["renderAs"]);return n==="svg"?Qe.createElement(yN,Op({},r)):Qe.createElement(vN,Op({},r))};const Jae=Object.freeze(Object.defineProperty({__proto__:null,QRCodeCanvas:vN,QRCodeSVG:yN,default:Xae},Symbol.toStringTag,{value:"Module"}));var Z1={exports:{}},e_={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I3;function Zae(){if(I3)return e_;I3=1;var e=eu();function t(p,v){return p===v&&(p!==0||1/p===1/v)||p!==p&&v!==v}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,s=e.useLayoutEffect,l=e.useDebugValue;function c(p,v){var y=v(),b=r({inst:{value:y,getSnapshot:v}}),_=b[0].inst,w=b[1];return s(function(){_.value=y,_.getSnapshot=v,d(_)&&w({inst:_})},[p,y,v]),i(function(){return d(_)&&w({inst:_}),p(function(){d(_)&&w({inst:_})})},[p]),l(y),y}function d(p){var v=p.getSnapshot;p=p.value;try{var y=v();return!n(p,y)}catch{return!0}}function u(p,v){return v()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:c;return e_.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,e_}var O3;function ele(){return O3||(O3=1,Z1.exports=Zae()),Z1.exports}var tle=ele();const{useEffect:nle,useLayoutEffect:rle,useRef:ile,useInsertionEffect:sle}=lv,ole=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ale=ole?rle:nle,AN=sle||ale,bN=e=>{const t=ile([e,(...n)=>t[0](...n)]).current;return AN(()=>{t[0]=e}),t[1]},lle=(e="",t=location.pathname)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",cle=(e,t="")=>e[0]==="~"?e.slice(1):t+e,ule="popstate",KE="pushState",WE="replaceState",dle="hashchange",j3=[ule,KE,WE,dle],fle=e=>{for(const t of j3)addEventListener(t,e);return()=>{for(const t of j3)removeEventListener(t,e)}},hle=(e,t)=>tle.useSyncExternalStore(fle,e,t),P3=()=>location.pathname,ple=({ssrPath:e}={})=>hle(P3,e?()=>e:P3),gle=(e,{replace:t=!1}={})=>history[t?WE:KE](null,"",e),mle=(e={})=>[lle(e.base,ple(e)),bN((t,n)=>gle(cle(t,e.base),n))];if(typeof history<"u")for(const e of[KE,WE]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),r=new Event(e);return r.arguments=arguments,dispatchEvent(r),n}}function vle(e=Ale){let t={};const n=r=>t[r]||(t[r]=e(r));return(r,i)=>{const{regexp:s,keys:l}=n(r||""),c=s.exec(i);return c?[!0,l.reduce((u,h,p)=>(u[h.name]=c[p+1],u),{})]:[!1,null]}}const V3=e=>e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),yle=(e,t,n)=>{let r=e?"((?:[^\\/]+?)(?:\\/(?:[^\\/]+?))*)":"([^\\/]+?)";return t&&n&&(r="(?:\\/"+r+")"),r+(t?"?":"")},Ale=e=>{const t=/:([A-Za-z0-9_]+)([?+*]?)/g;let n=null,r=0,i=[],s="";for(;(n=t.exec(e))!==null;){const[l,c,d]=n,u=d==="+"||d==="*",h=d==="?"||d==="*",p=h&&e[n.index-1]==="/"?1:0,v=e.substring(r,n.index-p);i.push({name:c}),r=t.lastIndex,s+=V3(v)+yle(u,h,p)}return s+=V3(e.substring(r)),{keys:i,regexp:new RegExp("^"+s+"(?:\\/)?$","i")}},Vx={hook:mle,matcher:vle(),base:""},_N=x.createContext(Vx),Uy=()=>x.useContext(_N),Hy=e=>e.hook(e),ble=()=>Hy(Uy()),SN=e=>{const t=Uy(),[n]=Hy(t);return t.matcher(e,n)},_le=x.createContext({params:{}}),Sle=({hook:e,matcher:t,ssrPath:n,base:r="",parent:i,children:s})=>{const l=(d,u=i||Vx)=>(d.hook=e||u.hook,d.matcher=t||u.matcher,d.ssrPath=n||u.ssrPath,d.ownBase=r,d.parent=i,d),[c]=x.useState(()=>l({get base(){return(c.parent||Vx).base+c.ownBase}}));return AN(()=>{l(c)}),x.createElement(_N.Provider,{value:c,children:s})},D3=(e,t)=>x.createElement(_le.Provider,{value:{params:e},children:t}),Xr=({path:e,match:t,component:n,children:r})=>{const i=SN(e),[s,l]=t||i;return s?n?D3(l,x.createElement(n,{params:l})):D3(l,typeof r=="function"?r(l):r):null},qy=x.forwardRef((e,t)=>{const n=Uy(),[,r]=Hy(n),{to:i,href:s=i,children:l,onClick:c}=e,d=bN(p=>{p.ctrlKey||p.metaKey||p.altKey||p.shiftKey||p.button!==0||(c&&c(p),p.defaultPrevented||(p.preventDefault(),r(i||s,e)))}),u={href:s[0]==="~"?s.slice(1):n.base+s,onClick:d,to:null,ref:t},h=x.isValidElement(l)?l:x.createElement("a",e);return x.cloneElement(h,u)}),Dx=e=>Array.isArray(e)?[].concat(...e.map(t=>t&&t.type===x.Fragment?Dx(t.props.children):Dx(t))):[e],xle=({children:e,location:t})=>{const n=Uy(),r=n.matcher,[i]=Hy(n);for(const s of Dx(e)){let l=0;if(x.isValidElement(s)&&(l=s.props.path?r(s.props.path,t||i):[!0,{}])[0])return x.cloneElement(s,{match:l})}return null},{QRCodeSVG:wle}=Jae;function t_({gameCode:e,...t}){return g.jsx(Mle,{...t,children:e.split("").map((n,r)=>g.jsx("span",{children:n},r))})}function QE(){var i;const e=new URL((i=global.location)==null?void 0:i.href),[t]=SN("remote-mic"),n=Iy("room")??Ic.getGameCode();e.pathname="/remote-mic",e.searchParams.set("room",n);const r=e.href;return x.useEffect(()=>{t||Ic.start()},[t]),g.jsxs(Ile,{children:[g.jsx(jle,{children:g.jsxs("h1",{children:["Code: ",g.jsx(t_,{gameCode:n})]})}),g.jsx(Ole,{children:g.jsx(wle,{value:r,width:"100%",height:"100%",includeMargin:!0})}),g.jsxs(Ple,{children:[g.jsxs(Ele,{children:[g.jsxs("h3",{children:["Game code: ",g.jsx(t_,{gameCode:n,"data-test":"game-code"})]}),g.jsxs("ol",{children:[g.jsxs("li",{children:["Go to"," ",g.jsx("a",{href:e.origin,target:"_blank",rel:"noreferrer",children:"allkaraoke.party"})," ","on your phone"]}),g.jsxs("li",{children:["Click on ",g.jsx("b",{children:"Join game"})]}),g.jsxs("li",{children:["Enter the code ",g.jsx(t_,{gameCode:n})]}),g.jsx("li",{children:"Follow the instructions"})]})]}),g.jsxs(Tle,{children:[g.jsx("h4",{children:"Or copy and send the link"}),g.jsxs(Cle,{children:[g.jsx(Rle,{disabled:!0,value:r,"data-test":"server-link-input"}),g.jsx(kle,{onClick:()=>{navigator.clipboard.writeText(r)},children:"Copy"})]})]})]})]})}const Ele=K("div",{target:"eg58fmd9"})({name:"82a6rk",styles:"flex:1"}),Tle=K("div",{target:"eg58fmd8"})({name:"4dmv1c",styles:"flex:0"}),Cle=K("div",{target:"eg58fmd7"})({name:"sqzzkh",styles:"position:relative;margin-top:0.5rem"}),kle=K("button",{target:"eg58fmd6"})("cursor:pointer;position:absolute;padding:0 2rem;right:0;height:100%;box-sizing:border-box;background:",Ue.colors.text.active,";",Ot,";font-weight:bold;font-size:2.2rem;border:0;:active{background-color:black;}"),Mle=K("strong",{target:"eg58fmd5"})("text-transform:uppercase;padding:0.5rem 1.5rem;border-radius:0.5rem;display:inline-flex;gap:1.5rem;",Wd,";"),Rle=K("input",{target:"eg58fmd4"})({name:"gri5w4",styles:"padding:1rem;box-sizing:border-box;background:grey;border:none;width:100%;font-size:1.3rem"}),Ile=K("div",{target:"eg58fmd3"})({name:"1d1jk7v",styles:"display:flex;flex-direction:row;flex-wrap:nowrap;align-items:stretch;flex:1;gap:2%;@media (max-width: 560px){flex-direction:column;}"}),Ole=K("div",{target:"eg58fmd2"})({name:"2ogmzh",styles:"flex:0.6;@media (max-width: 560px){flex:0;}"}),jle=K("div",{target:"eg58fmd1"})({name:"mhlr3w",styles:"display:none;@media (max-width: 560px){display:block;}margin-bottom:2rem"}),Ple=K("div",{target:"eg58fmd0"})("@media (max-width: 560px){display:none;}flex:1;display:flex;flex-direction:column;b{font-weight:bold;",Ot,";color:",Ue.colors.text.active,";}h3{margin-bottom:1rem;}h4{margin:1rem 0;}ol{padding-left:2.3rem;margin:0 0 1.25rem 0;list-style:decimal inside;}li{color:white;font-size:2rem;line-height:3.2rem;}");function Vle({closeModal:e}){const{register:t}=dr({onBackspace:e});return g.jsx(Vl,{onClose:e,children:g.jsxs(du,{children:[g.jsx(QE,{}),g.jsx(No,{...t("quick-connect-close",e),children:"Close"})]})})}function Dle(){const[e,t]=x.useState(!1);bt(oi);const[n,r]=bt(pV),{hasContent:i}=x.useContext(AE),s=()=>t(!1);return g.jsxs(g.Fragment,{children:[e&&g.jsx(Vle,{closeModal:s}),g.jsxs(Ble,{children:[i&&g.jsx(Zd,{title:"Toggle help",place:"bottom-end",children:g.jsx(Nle,{size:"small",onClick:()=>r(!n),"data-test":"toggle-help",children:n?g.jsx(doe,{}):g.jsx(foe,{})})}),g.jsx(Fae,{}),g.jsx(Zd,{title:"Connect phone",place:"bottom-end",children:g.jsx(Fy,{size:"small",onClick:()=>t(l=>!l),"data-test":"quick-connect-phone",children:g.jsx(jv,{})})})]})]})}const Ble=K("div",{target:"efkmcew1"})({name:"17druna",styles:"view-transition-name:toolbar;cursor:pointer;background:rgba(0, 0, 0, 0.75);color:white;padding-left:1rem;margin:0;position:fixed;top:0;right:0;z-index:10000;color:white;svg{fill:white;width:3.25rem;height:3.25rem;transition:transform 200ms;&:hover{transform:scale(1.2);}}display:flex;gap:0.75rem;border-bottom-left-radius:1.5rem"}),Nle=K(Fy,{target:"efkmcew0"})({name:"lpoy45",styles:"scale:0.9"});function Dl({children:e,toolbar:t=!0}){return g.jsxs(Cre,{children:[t&&g.jsx(Dle,{}),e]})}const xN=Wt(g.jsx("path",{d:"M3 13h2v-2H3zm0 4h2v-2H3zm0-8h2V7H3zm4 4h14v-2H7zm0 4h14v-2H7zM7 7v2h14V7z"}),"List"),Lle=Wt(g.jsx("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6"}),"Settings"),XE=({christmas:e,...t})=>g.jsx("svg",{viewBox:"0 0 512 512",fill:"currentcolor",...t,children:g.jsx("path",{stroke:"black",strokeWidth:"2%",xmlns:"http://www.w3.org/2000/svg",d:"M252.529,162.029l168.125,210.156c-12.313,1.25-24.031,6.438-33.031,15.438s-14.188,20.719-15.438,33.031L162.029,252.545  c-3.563-24.922,4.813-50.078,22.625-67.891C202.467,166.857,227.623,158.467,252.529,162.029z M398.936,398.936  c-9.063,9.063-13.031,22.063-10.625,34.656l45.281,45.25c12.5,12.5,32.75,12.5,45.25,0s12.5-32.75,0-45.25l-45.25-45.281  C420.998,385.904,407.998,389.873,398.936,398.936z M162.029,162.029c18.594-18.594,43.188-29.891,68.969-32.297  c-3.375-24.563-14.906-49.391-35.031-69.516c-43.75-43.75-109.594-48.813-147.063-11.313  c-37.5,37.484-32.438,103.328,11.313,147.078c20.125,20.125,44.938,31.656,69.5,35.031  C132.154,205.217,143.436,180.623,162.029,162.029z"})}),Bx=En(XE)(e=>[e.christmas?"fill-text-player-0-christmas":"fill-text-player-0"]),wN=En(XE)(e=>[e.christmas?"fill-text-player-1-christmas":"fill-text-player-1"]);function Fle({active:e,setActiveTab:t}){return g.jsxs(zle,{children:[g.jsxs(n_,{active:e==="microphone",onClick:()=>t("microphone"),"data-test":"menu-microphone",children:[g.jsx(r_,{children:g.jsx(XE,{})}),g.jsx(i_,{children:"Microphone"})]}),g.jsxs(n_,{active:e==="song-list",onClick:()=>t("song-list"),"data-test":"menu-song-list",children:[g.jsx(r_,{children:g.jsx(xN,{})}),g.jsx(i_,{children:"Song list"})]}),g.jsxs(n_,{active:e==="settings",onClick:()=>t("settings"),"data-test":"menu-settings",children:[g.jsx(r_,{children:g.jsx(Lle,{})}),g.jsx(i_,{children:"Settings"})]})]})}const zle=K("div",{target:"e1c2ys9k3"})({name:"1x8gdpu",styles:"position:fixed;bottom:0;right:0;display:flex;align-items:stretch;width:100%;gap:1px;background:#424242;@media (max-height: 500px) and (min-aspect-ratio: 16/10){max-width:400px;transform:scale(0.75);transform-origin:bottom right;}"}),n_=K("div",{target:"e1c2ys9k2"})("cursor:pointer;flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;background:black;padding:1rem;font-size:1.5rem;gap:0.5rem;color:",e=>e.active?Ue.colors.text.active:"#cecece",";"),r_=K("div",{target:"e1c2ys9k1"})({name:"immj2t",styles:"svg{width:2.5rem;height:2.5rem;}font-size:2rem"}),i_=K("div",{target:"e1c2ys9k0"})(""),bf=Wt(g.jsx("path",{d:"M1 21h22L12 2zm12-3h-2v-2h2zm0-4h-2v-4h2z"}),"Warning"),JE=()=>{const[e,t]=x.useState(Sl.getStatus());return x.useEffect(()=>Sl.addListener(t),[]),e};function EN(){return navigator==null?void 0:navigator.userAgent.includes("OPR")}const $le="/assets/allow-mic-DleF1-pf.png",Ule="/assets/enable-mic-opera-B5FfRj_P.png",Hle="/assets/enable-mic-TGG47ucR.png",qle=()=>EN()?Ule:Hle,og=({children:e,fallback:t,showImages:n=!0})=>{const r=JE();return g.jsxs(g.Fragment,{children:[r==="accepted"&&e,r!=="accepted"&&g.jsxs(g.Fragment,{children:[g.jsx(Yle,{children:g.jsx(Kle,{})}),t,g.jsxs(Gle,{children:[r==="requested"&&n&&g.jsx("img",{src:$le,alt:"how-to-allow"}),r==="declined"&&g.jsxs(g.Fragment,{children:[g.jsx("h3",{children:"Access is blocked, you can unblock it here"}),n&&g.jsx("img",{src:qle(),alt:"how-to-enable"})]}),EN()&&g.jsxs("h4",{children:[g.jsx("strong",{children:"Opera"})," is buggy regarding microphone access - if you encounter issue (e.g. this message stays even after the access to microphone was granted), consider other browsers."]})]})]})]})},Gle=K("div",{target:"e1w9vi9z2"})({name:"1hmq8jv",styles:"text-align:center;img{margin:1.5rem 0 0.5rem;box-shadow:0.5rem 0.5rem 0.5rem rgba(0, 0, 0, 0.5),inset 0 0 0.5rem 0.5rem rgba(255, 255, 255, 0.5);border:0.5rem solid white;border-radius:1rem;box-sizing:border-box;max-width:100%;}"}),Yle=K("div",{target:"e1w9vi9z1"})({name:"zov8s0",styles:"width:100%;display:flex;justify-content:center"}),Kle=K(bf,{target:"e1w9vi9z0"})("color:",Ue.colors.text.active,";font-size:3rem;");function Wle(){return!1}const N0=Wt(g.jsx("path",{d:"m1 9 2 2c4.97-4.97 13.03-4.97 18 0l2-2C16.93 2.93 7.08 2.93 1 9m8 8 3 3 3-3c-1.65-1.66-4.34-1.66-6 0m-4-4 2 2c2.76-2.76 7.24-2.76 10 0l2-2C15.14 9.14 8.87 9.14 5 13"}),"Wifi");function ag(e,t,n=1){return n===1?(t+1)%e.length:(t+e.length-1)%e.length}function Qle(e,t,n=1){return ag(e,e.indexOf(t),n)}function jc(e,t,n=1){return e[Qle(e,t,n)]}const Bs=({focused:e,disabled:t=!1,label:n,value:r,onClick:i,info:s,children:l,className:c="",...d})=>g.jsxs(Xle,{children:[g.jsxs(Jle,{"data-focused":e,onClick:i,"data-disabled":t,...d,className:`${c} rounded-md shadow-focusable`,children:[g.jsx("span",{children:n?g.jsxs(g.Fragment,{children:[n,":"]}):""})," ",g.jsx(Zle,{children:r}),l??null]}),s&&g.jsx(ZE,{children:s})]}),Xle=K("div",{target:"e84wjn53"})(""),ZE=K("div",{target:"e84wjn52"})(Ot,";font-size:2rem;padding:1rem 0.5rem 0;text-align:justify;"),Jle=K("span",{target:"e84wjn51"})("background:rgba(0, 0, 0, 0.7);width:auto;",Ot,";text-align:right;font-size:2.7rem;cursor:pointer;padding:0.65rem;display:flex;flex-direction:row;justify-content:space-between;&[data-expanded='true']{font-size:6rem;}&[data-disabled='true']{cursor:default;}&[data-focused='true'][data-disabled='false']{animation:focusAnimation 1000ms ease-in-out infinite both;}&:hover{animation:focusAnimation 1000ms ease-in-out infinite both;}"),Zle=K("span",{target:"e84wjn50"})("color:",Ue.colors.text.active,";text-overflow:ellipsis;overflow:hidden;white-space:nowrap;padding-left:1rem;"),fu=({focused:e,label:t,value:n,onChange:r,disabled:i,className:s,adornment:l,info:c,ref:d,...u})=>{const h=x.useRef(null);return x.useImperativeHandle(d,()=>h.current),ri(bx,()=>{var p;return(p=h.current)==null?void 0:p.focus()},{enabled:e}),g.jsxs("div",{children:[g.jsxs(tce,{"data-focused":e,className:`${s} rounded-md`,onClick:()=>{var p;(p=h.current)==null||p.focus()},children:[g.jsx(nce,{children:t}),g.jsx(rce,{value:n,onChange:p=>r(p.target.value),...u,disabled:i,ref:h}),l&&g.jsx(ece,{children:l})]}),c&&g.jsx(ZE,{children:c})]})},ece=K("span",{target:"et2ce2n3"})(""),tce=K("div",{target:"et2ce2n2"})("background:black;caret:underscore;",Ot,";width:auto;display:flex;cursor:text;padding:0.25em;align-items:center;&[data-focused='true']{animation:focusAnimation 1000ms ease-in-out infinite both;}&:hover{animation:focusAnimation 1000ms ease-in-out infinite both;}"),nce=K("span",{target:"et2ce2n1"})({name:"1805px",styles:"display:inline-flex;align-items:center;justify-content:center;padding-right:0.5em;white-space:nowrap;width:auto;pointer-events:none;svg{font-size:1em;}"}),rce=K("input",{target:"et2ce2n0"})("padding:0;border:0;background:transparent;caret:underscore;",Ot,";color:",Ue.colors.text.active,";width:100%;font-size:1em;&:focus{outline:none;}");function ice(e){return vi("MuiCircularProgress",e)}yi("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const cl=44,Nx=cu`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,Lx=cu`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`,sce=typeof Nx!="string"?lu`
        animation: ${Nx} 1.4s linear infinite;
      `:null,oce=typeof Lx!="string"?lu`
        animation: ${Lx} 1.4s ease-in-out infinite;
      `:null,ace=e=>{const{classes:t,variant:n,color:r,disableShrink:i}=e,s={root:["root",n,`color${qt(r)}`],svg:["svg"],circle:["circle",`circle${qt(n)}`,i&&"circleDisableShrink"]};return Oi(s,ice,t)},lce=Bn("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`color${qt(n.color)}`]]}})(Gs(({theme:e})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("transform")}},{props:{variant:"indeterminate"},style:sce||{animation:`${Nx} 1.4s linear infinite`}},...Object.entries(e.palette).filter(Rp()).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}}))]}))),cce=Bn("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),uce=Bn("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.circle,t[`circle${qt(n.variant)}`],n.disableShrink&&t.circleDisableShrink]}})(Gs(({theme:e})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:t})=>t.variant==="indeterminate"&&!t.disableShrink,style:oce||{animation:`${Lx} 1.4s ease-in-out infinite`}}]}))),dce=x.forwardRef(function(t,n){const r=Ai({props:t,name:"MuiCircularProgress"}),{className:i,color:s="primary",disableShrink:l=!1,size:c=40,style:d,thickness:u=3.6,value:h=0,variant:p="indeterminate",...v}=r,y={...r,color:s,disableShrink:l,size:c,thickness:u,value:h,variant:p},b=ace(y),_={},w={},T={};if(p==="determinate"){const k=2*Math.PI*((cl-u)/2);_.strokeDasharray=k.toFixed(3),T["aria-valuenow"]=Math.round(h),_.strokeDashoffset=`${((100-h)/100*k).toFixed(3)}px`,w.transform="rotate(-90deg)"}return g.jsx(lce,{className:Bt(b.root,i),style:{width:c,height:c,...w,...d},ownerState:y,ref:n,role:"progressbar",...T,...v,children:g.jsx(cce,{className:b.svg,ownerState:y,viewBox:`${cl/2} ${cl/2} ${cl} ${cl}`,children:g.jsx(uce,{className:b.circle,style:_,ownerState:y,cx:cl,cy:cl,r:(cl-u)/2,fill:"none",strokeWidth:u})})})});function lg(e){return g.jsx(dce,{...e})}let Wm=null;function jp(e){if(!document.startViewTransition)e();else try{Wm&&!Wm.finished&&Wm.skipTransition(),Wm=document.startViewTransition(async()=>{await e()})}catch(t){console.error(t)}}const Fv=(e,t)=>{var n;if(t){const r=new URLSearchParams((n=global.location)==null?void 0:n.search);return Object.entries(t).forEach(([i,s])=>{s===null?r.delete(i):r.set(i,s)}),`${e}?${r.toString()}`}return e};function ji(){const[,e]=ble();return(t,n,{smooth:r=!0,...i}={})=>{r?jp(()=>e(Fv(t,n),i)):e(Fv(t,n),i)}}const TN=Wt(g.jsx("path",{d:"M20 18c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2H0v2h24v-2zM4 6h16v10H4z"}),"Laptop"),CN=Wt(g.jsx("path",{d:"M16 1H8C6.34 1 5 2.34 5 4v16c0 1.66 1.34 3 3 3h8c1.66 0 3-1.34 3-3V4c0-1.66-1.34-3-3-3m-2 20h-4v-1h4zm3.25-3H6.75V4h10.5z"}),"PhoneAndroid"),B3="confirmed-wifi";function fce({onClose:e}){const[t,n]=Qe.useState(st.session.getItem(B3)??!1),r=()=>{st.session.setItem(B3,!0),n(!0),e==null||e()};return x.useEffect(()=>{var i,s,l;if(navigator!=null&&navigator.connection)if(((i=navigator==null?void 0:navigator.connection)==null?void 0:i.type)==="wifi")r();else{const c=()=>{var d;((d=navigator==null?void 0:navigator.connection)==null?void 0:d.type)==="wifi"&&r()};return(l=(s=navigator==null?void 0:navigator.connection)==null?void 0:s.addEventListener)==null||l.call(s,"change",c),()=>{var d,u;return(u=(d=navigator==null?void 0:navigator.connection)==null?void 0:d.removeEventListener)==null?void 0:u.call(d,"change",c)}}},[]),t?null:g.jsx(Vl,{onClose:r,children:g.jsxs(hce,{children:[g.jsxs(pce,{children:[g.jsxs("h3",{children:["Connect to the ",g.jsx("strong",{children:"same Wi-Fi"})]}),g.jsxs(gce,{children:[g.jsx(CN,{}),"...",g.jsx(N0,{}),"...",g.jsx(TN,{})]}),g.jsx("h4",{children:"Connect to the same Wi-Fi as the game."})]}),g.jsx("h6",{children:"Otherwise microphones might not work properly."}),g.jsx(vt,{onClick:r,focused:!0,"data-test":"confirm-wifi-connection",children:"I'm connected, continue"})]})})}const hce=K(du,{target:"e1200hll2"})({name:"vcyu3g",styles:"gap:1rem"}),pce=K("div",{target:"e1200hll1"})({name:"1uu7723",styles:"display:flex;flex-direction:column;align-items:center;gap:2rem"}),gce=K("div",{target:"e1200hll0"})("margin:2rem 0;display:flex;color:white;align-items:center;gap:2rem;@keyframes pulse{0%{color:",Ue.colors.text.default,";transform:scale(1);}25%{color:",Ue.colors.text.active,";transform:scale(1.1);}50%{color:",Ue.colors.text.default,";transform:scale(1);}}svg{animation:pulse 2s infinite;font-size:7rem;:nth-of-type(1){animation-delay:0s;}:nth-of-type(2){animation-delay:0.5s;}:nth-of-type(3){animation-delay:1s;}}");function mce(e,t,n,r){n===void 0&&(n=global),r===void 0&&(r={});var i=x.useRef(),s=r.capture,l=r.passive,c=r.once;x.useEffect(function(){i.current=t},[t]),x.useEffect(function(){if(n&&n.addEventListener){var d=function(h){return i.current(h)},u={capture:s,passive:l,once:c};return n.addEventListener(e,d,u),function(){n.removeEventListener(e,d,u)}}},[e,n,s,l,c])}var fc={},vce=function(e,t,n){return fc[e]||(fc[e]={callbacks:[],value:n}),fc[e].callbacks.push(t),{deregister:function(){var r=fc[e].callbacks,i=r.indexOf(t);i>-1&&r.splice(i,1)},emit:function(r){fc[e].value!==r&&(fc[e].value=r,fc[e].callbacks.forEach(function(i){t!==i&&i(r)}))}}};function Bl(e,t){if(t===void 0&&(t=typeof global<"u"&&global.localStorage?global.localStorage:typeof globalThis<"u"&&globalThis.localStorage?globalThis.localStorage:typeof window<"u"&&window.localStorage?window.localStorage:typeof localStorage<"u"?localStorage:null),t){var n=function(r){return{get:function(i,s){var l=r.getItem(i);return l==null?typeof s=="function"?s():s:JSON.parse(l)},set:function(i,s){r.setItem(i,JSON.stringify(s))}}}(t);return function(r){return function(i,s,l){var c=l.get,d=l.set,u=x.useRef(null),h=x.useState(function(){return c(s,i)}),p=h[0],v=h[1];mce("storage",function(b){if(b.key===s){var _=JSON.parse(b.newValue);p!==_&&v(_)}}),x.useEffect(function(){return u.current=vce(s,v,i),function(){u.current.deregister()}},[i,s]);var y=x.useCallback(function(b){var _=typeof b=="function"?b(p):b;d(s,_),v(_),u.current.emit(b)},[p,d,s]);return[p,y]}(r,e,n)}}return x.useState}const yce=Bl("remote_mic_name");function Ace({isVisible:e,roomId:t,connectionStatus:n,onConnect:r,connectionError:i}){const[s,l]=yce(""),[c,d]=x.useState(!1),u=x.useRef(null),h=x.useRef(null),[p,v]=x.useState(t??""),y=ji(),b=n!=="uninitialised"&&n!=="error";x.useEffect(()=>{n==="connected"&&!t&&y("remote-mic/",{room:p})},[n,t,p]);const _=(M=!1)=>{An.connect(p,s,M),r(M)},w=M=>{var E,O;M.preventDefault(),d(!1),!t&&p.length!==ip?(E=u.current)==null||E.focus():s===""?(O=h.current??u.current)==null||O.focus():_()};x.useEffect(()=>{var M;er.capture(t?"remote-mic-qrcode":"remote-mic-manual"),(M=u.current)==null||M.focus()},[]),x.useEffect(()=>{st.session.getItem("reload-mic-request")!==null&&(global.setTimeout(()=>st.session.removeItem("reload-mic-request"),1),_(!0))},[]);const[T,k]=x.useState(!1);x.useEffect(()=>{if(k(!1),n==="connecting"||n==="reconnecting"){const M=setTimeout(()=>k(!0),2e3);return()=>clearTimeout(M)}},[n]);const R=n==="error"&&!c;return e?g.jsxs(g.Fragment,{children:[(t==null?void 0:t.startsWith("p"))&&g.jsx(fce,{onClose:()=>{var M;(M=u.current)==null||M.focus()}}),g.jsxs(bce,{onSubmit:w,children:[!b&&g.jsx(Sce,{ref:u,placeholder:"_____",label:"Game code",autoCapitalize:"characters",autoComplete:"off",onChange:v,value:p,maxLength:ip,focused:!1,autoFocus:!0,"data-test":"game-code-input",onFocus:()=>{n==="error"&&d(!0)},onPaste:M=>{M.preventDefault();let E=(M.clipboardData||global.clipboardData).getData("text");E=E.replace(/\s/g,""),v(E.slice(0,ip))}}),g.jsx(fu,{maxLength:Vw,focused:!1,label:"Your name",placeholder:"Enter your name",value:s,onChange:l,ref:t?u:h,disabled:b,autoFocus:!0,"data-test":"player-name-input"}),g.jsxs(_ce,{type:"submit",disabled:b,"data-test":"connect-button",children:[n==="connecting"&&g.jsx(lg,{size:"1em"}),n==="uninitialised"||c?"Connect":n.toUpperCase()]})]}),(T||R)&&g.jsxs(g.Fragment,{children:[T&&g.jsx("h3",{children:"If it doesn't connect"}),R&&g.jsxs(g.Fragment,{children:[g.jsxs("h3",{children:[g.jsx("strong",{children:g.jsx(bf,{})})," ","Could not connect:"]}),g.jsxs("h6",{children:["Error code: ",g.jsx("strong",{children:i})]}),g.jsx("br",{}),i==="peer-unavailable"?g.jsxs(g.Fragment,{children:[g.jsx("h4",{children:t===void 0?"Game with this code not found ":"The game seems to be offline "}),t===void 0&&g.jsxs("h5",{children:["1. Is the code ",g.jsx("strong",{children:p.toUpperCase()})," correct?"]}),g.jsxs("h5",{children:[t===void 0?2:1,". Refresh (",g.jsx("strong",{children:"F5"}),") the Karaoke Game on the PC"]}),t!==void 0&&g.jsxs("h5",{children:["2. Scan the"," ",g.jsxs("strong",{children:[g.jsx(jv,{})," QR Code"]})," ","again"]}),g.jsxs("h5",{children:["3. Make sure you are in the same"," ",g.jsxs("strong",{children:[g.jsx(N0,{})," Wi-Fi"]})]})]}):i==="network"?g.jsxs(g.Fragment,{children:[g.jsx("h4",{children:"No internet access "}),g.jsxs("h5",{children:["Make sure you are in the same"," ",g.jsxs("strong",{children:[g.jsx(N0,{})," Wi-Fi"]}),"and that it has internet connection"]})]}):g.jsxs(g.Fragment,{children:[g.jsxs("h5",{children:["1. Make sure you are in the same"," ",g.jsxs("strong",{children:[g.jsx(N0,{})," Wi-Fi"]})]}),g.jsxs("h5",{children:["2. Refresh (",g.jsx("strong",{children:"F5"}),") the Karaoke Game on the PC"]}),g.jsxs("h5",{children:["3. Scan the"," ",g.jsxs("strong",{children:[g.jsx(jv,{})," QR Code"]})," ","again"]})]})]})]})]}):null}const bce=K("form",{target:"e1ey8ze72"})({name:"fvqkyn",styles:"margin-top:2rem;display:flex;flex-direction:column;gap:1rem"}),_ce=K(vt,{target:"e1ey8ze71"})({name:"116s0m5",styles:"margin-bottom:0;height:72px"}),Sce=K(fu,{target:"e1ey8ze70"})({name:"8hhbv6",styles:"input{letter-spacing:2rem;text-align:center;text-transform:uppercase;}"}),xce=Wt(g.jsx("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack"),wce=Wt(g.jsx("path",{d:"m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"}),"ArrowForward"),Ece=Wt(g.jsx("path",{d:"M15 7.5V2H9v5.5l3 3zM7.5 9H2v6h5.5l3-3zM9 16.5V22h6v-5.5l-3-3zM16.5 9l-3 3 3 3H22V9z"}),"Games"),Tce=Wt(g.jsx("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6z"}),"KeyboardArrowDown"),Cce=Wt(g.jsx("path",{d:"M15.41 16.59 10.83 12l4.58-4.59L14 6l-6 6 6 6z"}),"KeyboardArrowLeft"),kce=Wt(g.jsx("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6z"}),"KeyboardArrowRight"),Mce=Wt(g.jsx("path",{d:"M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"}),"KeyboardArrowUp"),Rce=Wt(g.jsx("path",{d:"M10.59 9.17 5.41 4 4 5.41l5.17 5.17zM14.5 4l2.04 2.04L4 18.59 5.41 20 17.96 7.46 20 9.5V4zm.33 9.41-1.41 1.41 3.13 3.13L14.5 20H20v-5.5l-2.04 2.04z"}),"Shuffle"),e2=Wt(g.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search");function t2(e,t){const[n,r]=x.useState(e);return x.useEffect(()=>{const i=setTimeout(()=>{r(e)},t);return()=>{clearTimeout(i)}},[e,t]),n}function Ice({onSearchStateChange:e}){const[t,n]=x.useState(""),r=x.useRef(null),i=t2(t,100),s=Xte(i);return x.useEffect(()=>{s!==i&&An.searchSong(i.trim())},[s,i]),Qte(()=>e==null?void 0:e(!1)),g.jsx(Oce,{onFocus:()=>e==null?void 0:e(!0),onBlur:()=>e==null?void 0:e(!1),maxLength:Vw,focused:!1,label:g.jsx(e2,{}),placeholder:"Search for a song",value:t,onChange:n,ref:r,"data-test":"search-song-input"})}const Oce=K(fu,{target:"e12hs6m40"})({name:"zrd260",styles:"width:100%;margin-bottom:1rem"});function jce({onSearchStateChange:e}){var s;const[t]=qs(me.remoteKeyboardLayout,!0)??[],n=(t==null?void 0:t.horizontal)!==void 0||(t==null?void 0:t["horizontal-vertical"])!==void 0,r=(t==null?void 0:t.vertical)!==void 0||(t==null?void 0:t["horizontal-vertical"])!==void 0,i=l=>()=>{An.sendKeyStroke(l)};return t!==void 0?g.jsxs(Pce,{"data-test":"remote-keyboard",children:[((s=t==null?void 0:t.remote)==null?void 0:s.includes("search"))&&g.jsx(Ice,{onSearchStateChange:e}),(n||r)&&g.jsxs(o_,{children:[g.jsx(s_,{children:g.jsx(cd,{onClick:i("up"),disabled:!r,"data-disabled":!r,"data-test":"arrow-up",children:g.jsx(Mce,{})})}),g.jsxs(s_,{children:[g.jsx(cd,{onClick:i("left"),disabled:!n,"data-disabled":!n,"data-test":"arrow-left",children:g.jsx(Cce,{})}),g.jsx(cd,{disabled:!0,"data-disabled":!0,children:g.jsx(Ece,{})}),g.jsx(cd,{onClick:i("right"),disabled:!n,"data-disabled":!n,"data-test":"arrow-right",children:g.jsx(kce,{})})]}),g.jsx(s_,{children:g.jsx(cd,{onClick:i("down"),disabled:!r,"data-disabled":!r,"data-test":"arrow-down",children:g.jsx(Tce,{})})})]}),g.jsxs(o_,{children:[g.jsx(a_,{onClick:i("back"),disabled:(t==null?void 0:t.back)===void 0,"data-test":"keyboard-backspace",children:(t==null?void 0:t.back)||g.jsxs(g.Fragment,{children:[g.jsx(xce,{})," Back"]})}),g.jsx(a_,{onClick:i("accept"),disabled:(t==null?void 0:t.accept)===void 0,"data-test":"keyboard-enter",children:(t==null?void 0:t.accept)||g.jsxs(g.Fragment,{children:["Enter ",g.jsx(wce,{})]})})]}),g.jsx(Vce,{}),g.jsx(o_,{disabled:(t==null?void 0:t.shiftR)===void 0,"data-test":"keyboard-shift-r",children:g.jsxs(a_,{onClick:i("random"),children:[g.jsx(Rce,{})," ",(t==null?void 0:t.shiftR)||"Random Song"]})})]}):null}const Pce=K("div",{target:"epl0eil6"})({name:"17mk58z",styles:"gap:1rem;display:flex;flex-wrap:wrap;margin-bottom:2rem"}),s_=K("div",{target:"epl0eil5"})({name:"144ujnw",styles:"display:flex;justify-content:center;flex:1;color:white;font-size:2rem"}),o_=K("div",{target:"epl0eil4"})("display:flex;flex-direction:column;flex:1;justify-content:space-between;opacity:",e=>e.disabled?0:1,";"),Vce=K("div",{target:"epl0eil3"})({name:"1f76xva",styles:"flex-basis:100%;height:0"}),Dce=K("button",{target:"epl0eil2"})("background:none;border:none;box-sizing:border-box;margin:0.25rem;width:4.5rem;height:4.5rem;svg{width:2.5rem;height:2.5rem;}opacity:",e=>e.disabled?.25:1,";"),cd=K(Dce,{target:"epl0eil1"})({name:"1dzx4ce",styles:"display:flex;align-items:center;justify-content:center;border-radius:0.3rem;border:0.3rem solid rgb(204, 204, 204);border-bottom-color:rgb(130, 130, 130);border-right-color:rgb(130, 130, 130);gap:0.5rem;&[data-disabled='false']{cursor:pointer;&:active{border:0.3rem solid rgb(130, 130, 130);border-bottom-color:rgb(204, 204, 204);border-right-color:rgb(204, 204, 204);}}color:rgb(51, 51, 51);font-weight:normal;font-size:2.5rem;box-shadow:0 0.1rem 0 rgba(0, 0, 0, 0.2),inset 0 0 0 0.2rem #ffffff;background-color:rgb(247, 247, 247);text-shadow:0 0.1rem 0 #fff"}),a_=K(cd,{target:"epl0eil0"})({name:"1d3w5wq",styles:"width:100%"}),n2=Wt(g.jsx("path",{d:"M6.99 11 3 15l3.99 4v-3H14v-2H6.99zM21 9l-3.99-4v3H10v2h7.01v3z"}),"SwapHoriz"),Bce={regular:["Blue","Red","Green","Yellow"],christmas:["Green","Red","Blue","Gold"],eurovision:["Blue","Violet","Yellow","Pink"],halloween:["Orange","Violet","Red","Green"]};function kN({playerNumber:e,id:t,onModalClose:n,header:r}){x.useEffect(()=>(An.subscribe("remote-mics"),()=>{An.unsubscribe("remote-mics")}),[]);const[i]=qs(me.remoteMicListUpdated)??[[]],[s]=qs(me.remoteStyleChanged,!0)??["regular"],l=d=>{An.requestPlayerChange(t,d),n()},c=e!==null;return g.jsx(Vl,{onClose:n,children:g.jsxs(jt,{children:[r&&g.jsx("h2",{children:r}),[0,1,2,3].map(d=>{const u=i.find(p=>p.number===d),h=d===e;return g.jsxs(jt.Button,{size:"small","data-test":`change-to-player-${d}`,onClick:()=>l(d),disabled:h,className:"gap-2",style:{color:Ue.colors.players[d].perfect.fill},children:[Bce[s][d],h||u?g.jsxs("span",{className:"text-gray-300 text-sm","data-test":"mic-occupant",children:[" ","(",h?"You":u==null?void 0:u.name,")"]}):""]},d)}),g.jsx(jt.Button,{size:"small",onClick:()=>l(null),disabled:!c,"data-test":"change-to-unset",children:"Unassign"}),g.jsx("hr",{}),g.jsx(jt.Button,{size:"small",onClick:()=>An.removePlayer(t),"data-test":"remove-player",children:"Remove"}),g.jsx(jt.Button,{onClick:n,size:"small",children:"Close"})]})})}function MN({number:e,...t}){const[n]=qs(me.remoteStyleChanged,!0)??["regular"],r=JD();return x.useEffect(()=>{r()},[n]),g.jsx(Nce,{style:{background:e!==null?Ue.colors.players[e].perfect.fill:Ue.colors.text.inactive},...t})}const Nce=K("div",{target:"e1u9853z0"})({name:"97f0zo",styles:"display:inline-block;width:1em;height:1em;aspect-ratio:1;border-radius:1em"}),Lce=x.memo(function({playerNumber:t}){const[n,r]=x.useState(!1),i=()=>r(!1),s=t!==null;return g.jsxs(g.Fragment,{children:[g.jsxs(Fce,{onClick:()=>r(!0),"data-test":"change-player","data-joined":s,children:[s?g.jsxs(g.Fragment,{children:[g.jsx(MN,{number:t})," Change"]}):"Join game"," ",g.jsx(n2,{})]}),n&&g.jsx(kN,{id:An.getClientId(),playerNumber:t,onModalClose:i})]})}),Fce=K("button",{target:"e1x7ggg80"})("position:absolute;z-index:1;color:white;right:1rem;bottom:1rem;padding:1rem;font-size:2rem;text-transform:uppercase;display:flex;align-items:center;gap:1rem;border:none;",Ot,";background:rgba(0, 0, 0, 0.75);&[data-joined='false']{font-size:3rem;padding:3rem;",Wd,";}:hover{",Wd,";}:active{",iN,";}svg{width:2rem;height:2rem;}");function Gy(){const[e]=qs(me.remoteMicPermissionsSet,!0)??["write"];return e}function zce({playerNumber:e,volume:t,frequency:n,isMicOn:r,isConnected:i}){const[s,l]=x.useState(1e-6),c=Gy();x.useEffect(()=>{l(u=>t>u?t:u*.99)},[t]);const d=e!==null?Ue.colors.players[e].hit.fill:Ue.colors.lines.normal.fill;return g.jsxs(Hce,{className:"rounded-md","data-is-mic-on":r,color:d,"data-player-number":`${e??"none"}`,"data-test":"indicator",children:[r&&g.jsx(g.Fragment,{children:g.jsx($ce,{children:n?`${Math.round(n)}Hz`:" "})}),i&&c==="write"&&g.jsx(Lce,{playerNumber:e}),g.jsx(Uce,{style:{transform:`scaleY(${r?1-Math.min(1,t/s):1})`}})]})}const $ce=K("span",{target:"eik0d702"})({name:"1ikzkvw",styles:"position:absolute;color:white;opacity:0.125"}),Uce=K("div",{target:"eik0d701"})({name:"c7d9oe",styles:"width:100%;min-height:200px;max-height:100vw;background-color:rgba(0, 0, 0, 0.25);transition:200ms;transform-origin:top"}),Hce=K("div",{target:"eik0d700"})("position:relative;border:0.1rem solid white;flex:1;min-height:200px;max-height:100vw;transition:300ms;background:",e=>e.color,";");function N3({isVisible:e,isMicOn:t,isConnected:n}){const[r,i]=x.useState(0),[s,l]=x.useState(0),[c]=qs(me.remoteMicPlayerSet,!0)??[null],d=x.useCallback(kd((u,h)=>{l(u),i(h)},150),[i,l]);return x.useEffect(()=>(ro.startMonitoring(void 0),ro.addListener(d)),[d]),e?g.jsx(g.Fragment,{children:g.jsx(zce,{volume:r,frequency:s,playerNumber:c,isMicOn:t,isConnected:n})}):null}function qce(){const[e,t]=x.useState(0);return x.useEffect(()=>{const n=setInterval(()=>{const r=Ri();An.pinging&&r-An.pingStart>e?t(r-An.pingStart):t(An.latency)},333);return()=>{clearInterval(n)}},[]),g.jsxs(g.Fragment,{children:[e,"ms"]})}function Gce({roomId:e,monitoringStarted:t,setIsKeepAwakeOn:n,connectionError:r,connectionStatus:i}){const s=Gy(),[l,c]=x.useState(!1),[d]=bt(vw),u=async()=>{var v,y;n(!0);try{!Wle()&&d&&(await document.body.requestFullscreen(),global.screen.orientation.unlock(),await((y=(v=global.screen.orientation).lock)==null?void 0:y.call(v,"portrait")))}catch(b){console.warn(b)}},h=i==="connected",p=g.jsx(N3,{isVisible:!0,isMicOn:t,isConnected:h});return g.jsx(Yce,{children:g.jsxs(og,{showImages:!1,fallback:g.jsxs(g.Fragment,{children:[p,g.jsx("h2",{children:"Please allow access to the microphone."})]}),children:[g.jsxs(L3,{collapse:l,children:[g.jsx(N3,{isVisible:!0,isMicOn:t,isConnected:h}),g.jsx(Ace,{roomId:e,isVisible:!0,connectionStatus:i,onConnect:u,connectionError:r})]}),g.jsxs(L3,{children:[s==="write"&&g.jsx(jce,{onSearchStateChange:c}),s==="read"&&g.jsxs(Qce,{"data-test":"no-permissions-message",children:["No permission to control the game. Go to in-game ",g.jsx("strong",{children:"Settings"})," menu "," ",g.jsx("strong",{children:"Remote Microphones Settings"})," to manage them."]}),h&&g.jsxs(Wce,{children:["Ping: ",g.jsx(qce,{})]})]})]})})}const Yce=K("div",{target:"eakh27i4"})({name:"15sh5r0",styles:"font-size:2.6rem;display:flex;flex-direction:column;gap:2rem;padding:1.5rem;box-sizing:border-box;@media (max-height: 500px) and (min-aspect-ratio: 16/10){flex-direction:row;}h5{margin-top:0.5em;svg{font-size:0.9em;}}"}),L3=K("div",{target:"eakh27i3"})("flex:1;transition:300ms ease-in-out;margin-top:",e=>e.collapse?"-100%":"0",";@media (max-height: 500px) and (min-aspect-ratio: 16/10){margin-top:0;display:flex;flex-direction:column;justify-content:center;}"),Kce=K("div",{target:"eakh27i2"})(Ot," strong{color:",Ue.colors.text.active,";}"),Wce=K(Kce,{target:"eakh27i1"})(""),Qce=K("h5",{target:"eakh27i0"})({name:"1s76ut5",styles:"padding-bottom:5rem"});function Xce({onConfirm:e}){const[t,n]=x.useState(!1),[r,i]=x.useState(!1);x.useEffect(()=>{st.session.getItem("reload-mic-request")!==null&&i(!0)},[]),gi(me.remoteMicPlayerSet,()=>{r&&(i(!1),n(!0))}),gi(me.remoteReadinessRequested,()=>{n(!0)});const s=()=>{An.confirmReadiness(),n(!1),e()};return t?g.jsx(Jce,{className:"animate-blink",children:g.jsx(du,{children:g.jsx(Zce,{"data-test":"ready-button",onClick:s,children:"Ready"})})}):null}const Jce=K("div",{target:"eusdifu1"})({name:"1b0uzsn",styles:"display:flex;flex-direction:column;align-items:center;justify-content:center;position:absolute;top:0;left:0;width:100%;height:100%;backdrop-filter:blur(10px);z-index:1000"}),Zce=K(vt,{target:"eusdifu0"})("aspect-ratio:1;",Wd,";");function RN({unit:e="",value:t,onChange:n,step:r=50,disabled:i=!1,className:s="",...l}){return g.jsxs(tue,{className:`${s} rounded-md shadow-focusable`,...l,children:[g.jsx(F3,{onClick:()=>n(t-r),disabled:i,"data-test":"numeric-input-down",className:"rounded-l-md",children:"-"}),g.jsxs(eue,{children:[g.jsx("strong",{"data-test":"numeric-input-value",children:t}),e]}),g.jsx(F3,{onClick:()=>n(t+r),disabled:i,"data-test":"numeric-input-up",className:"rounded-r-md",children:"+"})]})}const F3=K("button",{target:"e1tear4c2"})("padding:0.5rem 2rem;border:none;font-size:3rem;",Ot,";:disabled{opacity:0.5;}"),eue=K("div",{target:"e1tear4c1"})({name:"2qd0l8",styles:"flex:1;text-align:center"}),tue=K("div",{target:"e1tear4c0"})(Ot,";display:flex;align-items:center;justify-self:center;background:black;");function nue(){const[e,t]=x.useState(0),[n,r]=x.useState(!1);x.useEffect(()=>{r(!0),An.getGameInputLag().then(({value:s})=>t(s)).catch(s=>console.warn(s)).finally(()=>r(!1))},[]);const i=s=>{r(!0),An.setGameInputLag(s).then(({value:l})=>t(l)).catch(l=>console.warn(l)).finally(()=>r(!1))};return g.jsxs(g.Fragment,{children:[g.jsx("h3",{children:"Adjust game input lag"}),g.jsx(RN,{value:e,onChange:i,disabled:n,unit:"ms","data-test":"game-input-lag"}),g.jsx("h6",{children:"If the sound is not synchronised with the lyrics, use this to compensate it."})]})}function rue(){x.useEffect(()=>(An.subscribe("remote-mics"),()=>{An.unsubscribe("remote-mics")}),[]);const[e]=qs(me.remoteMicListUpdated)??[[]];return g.jsxs(g.Fragment,{children:[g.jsx("h3",{children:"Manage Players"}),e.map(t=>g.jsx(iue,{mic:t},t.id)),e.length===0&&g.jsx("h4",{children:"No remote microphones connected"})]})}const iue=({mic:e})=>{var r;const[t,n]=x.useState(!1);return Vt.getPermission(e.id),g.jsxs(sue,{"data-test":"manage-players",children:[t&&g.jsx(kN,{id:e.id,playerNumber:e.number,onModalClose:()=>n(!1),header:g.jsxs(g.Fragment,{children:["Change ",g.jsx("strong",{className:"ph-no-capture",children:e.name}),":"]})}),g.jsxs(oue,{onClick:()=>n(!0),"data-test":"remote-mic-entry","data-id":e.id??e.name,size:"small",children:[g.jsx(MN,{number:e.number}),g.jsx(lue,{children:((r=e.id)==null?void 0:r.slice(-4))??"????"}),g.jsx(aue,{className:"ph-no-capture",isSelf:e.id===An.getClientId(),children:e.name})]})]})},sue=K("div",{target:"e1sg8znb3"})({name:"4zk4ri",styles:"display:flex;flex-direction:column;gap:1rem"}),oue=K(vt,{target:"e1sg8znb2"})({name:"1n950nl",styles:"display:flex;align-items:center;padding:0 2rem"}),aue=K("div",{target:"e1sg8znb1"})("color:",e=>e.isSelf?`${Ue.colors.text.active}`:"auto",";text-overflow:ellipsis;overflow:hidden;white-space:nowrap;"),lue=K("span",{target:"e1sg8znb0"})({name:"dcs29c",styles:"font-size:1.5rem;padding:0 1rem"});function z3(){const[e,t]=bt(gV),[n,r]=x.useState(!1);x.useEffect(()=>{r(!0),An.getMicrophoneInputLag().then(({value:l})=>t(l)).catch(l=>console.warn(l)).finally(()=>r(!1))},[]);const i=l=>{r(!0),An.setMicrophoneInputLag(l).then(({value:c})=>t(c)).catch(c=>console.warn(c)).finally(()=>r(!1))},s=()=>{var l;An.disconnect(),st.local.removeItem("remote_mic_name"),st.local.removeItem(ux),(l=global.location)==null||l.reload()};return g.jsxs(g.Fragment,{children:[g.jsx(vt,{onClick:s,size:"small","data-test":"reset-microphone",children:"Reset microphone"}),g.jsxs("h6",{"data-test":"reset-mic-info",children:[g.jsx("strong",{children:"Note:"})," removes all persisted microphone data (your name, ID etc.)"]}),g.jsx("hr",{}),g.jsx("h3",{children:"Adjust microphone lag"}),g.jsx(RN,{value:e,onChange:i,unit:"ms",disabled:n,step:25,"data-test":"microphone-delay"}),g.jsx("h6",{children:"Adjust the microphone input delay (e.g. if the game doesn't detect you hitting the note on time)"})]})}function cue({setIsKeepAwakeOn:e,monitoringStarted:t,isKeepAwakeOn:n}){var l;const r=Gy(),[i,s]=x.useState(r==="write"?null:"microphone");return g.jsxs(uue,{children:[g.jsxs("h3",{children:["Remote mic ID:"," ",g.jsx("strong",{"data-test":"remote-mic-id",children:((l=An.getClientId())==null?void 0:l.slice(-4).toUpperCase())??"----"})]}),g.jsx("hr",{}),r==="write"&&i===null&&g.jsxs(g.Fragment,{children:[g.jsx(vt,{onClick:()=>s("microphone"),size:"small","data-test":"microphone-settings",disabled:i==="microphone",children:"Microphone settings"}),g.jsx(vt,{onClick:()=>s("manage"),size:"small","data-test":"manage-game",disabled:i==="manage",children:"Manage the game"})]}),r!=="write"&&g.jsx(z3,{}),i!==null&&r==="write"&&g.jsx(Vl,{onClose:()=>s(null),children:g.jsxs(du,{children:[g.jsx(due,{children:i==="microphone"?"Microphone settings":"Manage game"}),i==="microphone"&&g.jsx(z3,{}),i==="manage"&&g.jsxs(g.Fragment,{children:[g.jsx(rue,{}),g.jsx(nue,{})]}),g.jsx("hr",{}),g.jsx(vt,{onClick:()=>s(null),size:"small","data-test":"close-modal",children:"Close"})]})}),g.jsxs("div",{role:"button",className:"typography mt-auto",onClick:()=>e(!n),children:["WakeLock: ",g.jsx("strong",{children:n?"ON":"OFF"})]}),g.jsxs("div",{role:"button",className:"typography",onClick:()=>t?ro.stopMonitoring():ro.startMonitoring(void 0),children:["Microphone: ",g.jsx("strong",{"data-test":"monitoring-state",children:t?"ON":"OFF"})]})]})}const uue=K("div",{target:"edoha0h1"})({name:"10ti2i0",styles:"flex-grow:1;font-size:2.6rem;display:flex;flex-direction:column;justify-content:center;padding:5rem 1.5rem 1.5rem;box-sizing:border-box;gap:1rem"}),due=K("h1",{target:"edoha0h0"})({name:"bvcr5v",styles:"font-size:3.25rem!important"});var fue="__lodash_hash_undefined__";function hue(e){return this.__data__.set(e,fue),this}function pue(e){return this.__data__.has(e)}function Pp(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new Oa;++t<n;)this.add(e[t])}Pp.prototype.add=Pp.prototype.push=hue;Pp.prototype.has=pue;function gue(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function IN(e,t){return e.has(t)}var mue=1,vue=2;function ON(e,t,n,r,i,s){var l=n&mue,c=e.length,d=t.length;if(c!=d&&!(l&&d>c))return!1;var u=s.get(e),h=s.get(t);if(u&&h)return u==t&&h==e;var p=-1,v=!0,y=n&vue?new Pp:void 0;for(s.set(e,t),s.set(t,e);++p<c;){var b=e[p],_=t[p];if(r)var w=l?r(_,b,p,t,e,s):r(b,_,p,e,t,s);if(w!==void 0){if(w)continue;v=!1;break}if(y){if(!gue(t,function(T,k){if(!IN(y,k)&&(b===T||i(b,T,n,r,s)))return y.push(k)})){v=!1;break}}else if(!(b===_||i(b,_,n,r,s))){v=!1;break}}return s.delete(e),s.delete(t),v}function yue(e){var t=-1,n=Array(e.size);return e.forEach(function(r,i){n[++t]=[i,r]}),n}function r2(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var Aue=1,bue=2,_ue="[object Boolean]",Sue="[object Date]",xue="[object Error]",wue="[object Map]",Eue="[object Number]",Tue="[object RegExp]",Cue="[object Set]",kue="[object String]",Mue="[object Symbol]",Rue="[object ArrayBuffer]",Iue="[object DataView]",$3=Us?Us.prototype:void 0,l_=$3?$3.valueOf:void 0;function Oue(e,t,n,r,i,s,l){switch(n){case Iue:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Rue:return!(e.byteLength!=t.byteLength||!s(new Cv(e),new Cv(t)));case _ue:case Sue:case Eue:return fy(+e,+t);case xue:return e.name==t.name&&e.message==t.message;case Tue:case kue:return e==t+"";case wue:var c=yue;case Cue:var d=r&Aue;if(c||(c=r2),e.size!=t.size&&!d)return!1;var u=l.get(e);if(u)return u==t;r|=bue,l.set(e,t);var h=ON(c(e),c(t),r,i,s,l);return l.delete(e),h;case Mue:if(l_)return l_.call(e)==l_.call(t)}return!1}var jue=1,Pue=Object.prototype,Vue=Pue.hasOwnProperty;function Due(e,t,n,r,i,s){var l=n&jue,c=px(e),d=c.length,u=px(t),h=u.length;if(d!=h&&!l)return!1;for(var p=d;p--;){var v=c[p];if(!(l?v in t:Vue.call(t,v)))return!1}var y=s.get(e),b=s.get(t);if(y&&b)return y==t&&b==e;var _=!0;s.set(e,t),s.set(t,e);for(var w=l;++p<d;){v=c[p];var T=e[v],k=t[v];if(r)var R=l?r(k,T,v,t,e,s):r(T,k,v,e,t,s);if(!(R===void 0?T===k||i(T,k,n,r,s):R)){_=!1;break}w||(w=v=="constructor")}if(_&&!w){var M=e.constructor,E=t.constructor;M!=E&&"constructor"in e&&"constructor"in t&&!(typeof M=="function"&&M instanceof M&&typeof E=="function"&&E instanceof E)&&(_=!1)}return s.delete(e),s.delete(t),_}var Bue=1,U3="[object Arguments]",H3="[object Array]",Qm="[object Object]",Nue=Object.prototype,q3=Nue.hasOwnProperty;function Lue(e,t,n,r,i,s){var l=Hs(e),c=Hs(t),d=l?H3:io(e),u=c?H3:io(t);d=d==U3?Qm:d,u=u==U3?Qm:u;var h=d==Qm,p=u==Qm,v=d==u;if(v&&Tv(e)){if(!Tv(t))return!1;l=!0,h=!1}if(v&&!h)return s||(s=new jo),l||BD(e)?ON(e,t,n,r,i,s):Oue(e,t,d,n,r,i,s);if(!(n&Bue)){var y=h&&q3.call(e,"__wrapped__"),b=p&&q3.call(t,"__wrapped__");if(y||b){var _=y?e.value():e,w=b?t.value():t;return s||(s=new jo),i(_,w,n,r,s)}}return v?(s||(s=new jo),Due(e,t,n,r,i,s)):!1}function i2(e,t,n,r,i){return e===t?!0:e==null||t==null||!Ca(e)&&!Ca(t)?e!==e&&t!==t:Lue(e,t,n,r,i2,i)}var Fue=1,zue=2;function $ue(e,t,n,r){var i=n.length,s=i;if(e==null)return!s;for(e=Object(e);i--;){var l=n[i];if(l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++i<s;){l=n[i];var c=l[0],d=e[c],u=l[1];if(l[2]){if(d===void 0&&!(c in e))return!1}else{var h=new jo,p;if(!(p===void 0?i2(u,d,Fue|zue,r,h):p))return!1}}return!0}function jN(e){return e===e&&!ho(e)}function Uue(e){for(var t=Xp(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,jN(i)]}return t}function PN(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}function Hue(e){var t=Uue(e);return t.length==1&&t[0][2]?PN(t[0][0],t[0][1]):function(n){return n===e||$ue(n,e,t)}}function que(e,t,n){var r=e==null?void 0:hE(e,t);return r===void 0?n:r}function Gue(e,t){return e!=null&&t in Object(e)}function Yue(e,t,n){t=My(t,e);for(var r=-1,i=t.length,s=!1;++r<i;){var l=Jp(t[r]);if(!(s=e!=null&&n(e,l)))break;e=e[l]}return s||++r!=i?s:(i=e==null?0:e.length,!!i&&Uw(i)&&qw(l,i)&&(Hs(e)||rE(e)))}function Kue(e,t){return e!=null&&Yue(e,t,Gue)}var Wue=1,Que=2;function Xue(e,t){return dE(e)&&jN(t)?PN(Jp(e),t):function(n){var r=que(n,e);return r===void 0&&r===t?Kue(n,e):i2(t,r,Wue|Que)}}function Jue(e){return function(t){return t==null?void 0:t[e]}}function Zue(e){return function(t){return hE(t,e)}}function ede(e){return dE(e)?Jue(Jp(e)):Zue(e)}function tde(e){return typeof e=="function"?e:e==null?XD:typeof e=="object"?Hs(e)?Xue(e[0],e[1]):Hue(e):ede(e)}function nde(e,t,n,r){for(var i=e.length,s=n+-1;++s<i;)if(t(e[s],s,e))return s;return-1}function rde(e){return e!==e}function ide(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}function sde(e,t,n){return t===t?ide(e,t,n):nde(e,rde,n)}function ode(e,t){var n=e==null?0:e.length;return!!n&&sde(e,t,0)>-1}function ade(){}var lde=1/0,cde=Rd&&1/r2(new Rd([,-0]))[1]==lde?function(e){return new Rd(e)}:ade,ude=200;function VN(e,t,n){var r=-1,i=ode,s=e.length,l=!0,c=[],d=c;if(s>=ude){var u=t?null:cde(e);if(u)return r2(u);l=!1,i=IN,d=new Pp}else d=t?[]:c;e:for(;++r<s;){var h=e[r],p=t?t(h):h;if(h=h!==0?h:0,l&&p===p){for(var v=d.length;v--;)if(d[v]===p)continue e;t&&d.push(p),c.push(h)}else i(d,p,n)||(d!==c&&d.push(p),c.push(h))}return c}function dde(e,t){return e&&e.length?VN(e,tde(t)):[]}const s2=K("span",{target:"ejt1whd0"})("position:absolute;transform:translate(40%, -50%);top:0;right:0;background:",Ue.colors.text.active,";font-size:1.75rem;",Ot,";color:",Ue.colors.text.default,";padding:0.25rem 0.75rem;border-radius:1.5rem;box-shadow:0 0 2px 1px rgba(0, 0, 0, 0.5);"),fde="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='810'%20height='540'%3e%3crect%20width='810'%20height='540'%20fill='%23FCDD09'/%3e%3cpath%20stroke='%23DA121A'%20stroke-width='60'%20d='M0,90H810m0,120H0m0,120H810m0,120H0'/%3e%3c/svg%3e";function hde(){const e=new Intl.DisplayNames(["en"],{type:"language"}),t={};for(let r=0;r<26;r++)for(let i=0;i<26;i++){const s=String.fromCharCode(97+r)+String.fromCharCode(97+i),l=e.of(s);l!==s&&l!==void 0&&(t[l]=s)}return{...t,...{Akan:"ak",Hebrew:"he",Indonesian:"id",Javanese:"jv",Romanian:"ro",Yiddish:"yi",Tagalog:"tl",English:"gb",Korean:"kr",Swedish:"se",Latin:"va",Japanese:"jp",Catalan:"cat",Ukrainian:"ua"}}}const pde=hde();function DN(e){return pde[e]}const gde=Object.assign({"./Flag/flags/cat.svg":fde}),Pc=e=>{var s;const[t,n]=x.useState(null),r="isocode"in e?(s=e.isocode)==null?void 0:s.toLowerCase():DN(Array.isArray(e.language)?e.language[0]:e.language);if(x.useLayoutEffect(()=>{r&&n(null)},[r]),!r)return null;const i=gde[`./Flag/flags/${r}.svg`];return g.jsx(mde,{"data-isocode":r,src:i??`https://flagcdn.com/${t??r}.svg`,alt:r,...e,onError:()=>n("un")})},mde=K("img",{target:"e1k9lqhf0"})("");function _f(e=!1){const[t,n]=x.useState(fs.getCurrentIndex()),r=x.useRef([]),i=()=>fs.getIndex(e).then(n);return x.useEffect(()=>{i()},[]),{data:t??r.current,reload:i,isLoading:t===null}}function BN(){const{width:e,height:t}=mf();return x.useMemo(()=>parseFloat(getComputedStyle(document.documentElement).fontSize),[e,t])}const L0=Wt(g.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2m-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckBox"),F0=Wt(g.jsx("path",{d:"M19 5v14H5V5zm0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2"}),"CheckBoxOutlineBlank");function vde(e){return String(e).match(/[\d.\-+]*\s*(.*)/)[1]||""}function yde(e){return parseFloat(e)}function G3({theme:e,...t}){const n=xa in e?e[xa]:void 0;return g.jsx(OB,{...t,themeId:n?xa:void 0,theme:n||e})}const Xm={attribute:"data-mui-color-scheme",colorSchemeStorageKey:"mui-color-scheme",defaultLightColorScheme:"light",defaultDarkColorScheme:"dark",modeStorageKey:"mui-mode"},{CssVarsProvider:Ade,useColorScheme:q1e,getInitColorSchemeScript:G1e}=xse({themeId:xa,theme:()=>PE({cssVariables:!0}),colorSchemeStorageKey:Xm.colorSchemeStorageKey,modeStorageKey:Xm.modeStorageKey,defaultColorScheme:{light:Xm.defaultLightColorScheme,dark:Xm.defaultDarkColorScheme},resolveTheme:e=>{const t={...e,typography:DB(e.palette,e.typography)};return t.unstable_sx=function(r){return Wc({sx:r,theme:this})},t}}),bde=Ade;function _de({theme:e,...t}){return typeof e=="function"?g.jsx(G3,{theme:e,...t}):"colorSchemes"in(xa in e?e[xa]:e)?g.jsx(bde,{theme:e,...t}):g.jsx(G3,{theme:e,...t})}function Sde(e){return vi("MuiSkeleton",e)}yi("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);const xde=e=>{const{classes:t,variant:n,animation:r,hasChildren:i,width:s,height:l}=e;return Oi({root:["root",n,r,i&&"withChildren",i&&!s&&"fitContent",i&&!l&&"heightAuto"]},Sde,t)},Fx=cu`
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0.4;
  }

  100% {
    opacity: 1;
  }
`,zx=cu`
  0% {
    transform: translateX(-100%);
  }

  50% {
    /* +0.5s of delay between each loop */
    transform: translateX(100%);
  }

  100% {
    transform: translateX(100%);
  }
`,wde=typeof Fx!="string"?lu`
        animation: ${Fx} 2s ease-in-out 0.5s infinite;
      `:null,Ede=typeof zx!="string"?lu`
        &::after {
          animation: ${zx} 2s linear 0.5s infinite;
        }
      `:null,Tde=Bn("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],n.animation!==!1&&t[n.animation],n.hasChildren&&t.withChildren,n.hasChildren&&!n.width&&t.fitContent,n.hasChildren&&!n.height&&t.heightAuto]}})(Gs(({theme:e})=>{const t=vde(e.shape.borderRadius)||"px",n=yde(e.shape.borderRadius);return{display:"block",backgroundColor:e.vars?e.vars.palette.Skeleton.bg:oo(e.palette.text.primary,e.palette.mode==="light"?.11:.13),height:"1.2em",variants:[{props:{variant:"text"},style:{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:`${n}${t}/${Math.round(n/.6*10)/10}${t}`,"&:empty:before":{content:'"\\00a0"'}}},{props:{variant:"circular"},style:{borderRadius:"50%"}},{props:{variant:"rounded"},style:{borderRadius:(e.vars||e).shape.borderRadius}},{props:({ownerState:r})=>r.hasChildren,style:{"& > *":{visibility:"hidden"}}},{props:({ownerState:r})=>r.hasChildren&&!r.width,style:{maxWidth:"fit-content"}},{props:({ownerState:r})=>r.hasChildren&&!r.height,style:{height:"auto"}},{props:{animation:"pulse"},style:wde||{animation:`${Fx} 2s ease-in-out 0.5s infinite`}},{props:{animation:"wave"},style:{position:"relative",overflow:"hidden",WebkitMaskImage:"-webkit-radial-gradient(white, black)","&::after":{background:`linear-gradient(
                90deg,
                transparent,
                ${(e.vars||e).palette.action.hover},
                transparent
              )`,content:'""',position:"absolute",transform:"translateX(-100%)",bottom:0,left:0,right:0,top:0}}},{props:{animation:"wave"},style:Ede||{"&::after":{animation:`${zx} 2s linear 0.5s infinite`}}}]}})),Cde=x.forwardRef(function(t,n){const r=Ai({props:t,name:"MuiSkeleton"}),{animation:i="pulse",className:s,component:l="span",height:c,style:d,variant:u="text",width:h,...p}=r,v={...r,animation:i,component:l,variant:u,hasChildren:!!p.children},y=xde(v);return g.jsx(Tde,{as:l,ref:n,className:Bt(y.root,s),ownerState:v,...p,style:{width:h,height:c,...d}})}),kde="data:image/gif;base64,R0lGODlhiQAzAOflAAABAAYAAAACAAcAAAkBAAoDAQsEAxAFABEHABIIABMKABgJAhQLAhsLABwNACANAR0OACEOAyMPACMQACcPACgQASgRAioSACsTACwTACwUAC8WAC4WAzAWADQVADUXATYYAjgYADkZADoaADobAD8aAzscAUEbAD4dAEMdAEUeAkAgAEYfAEUfA0ghAE4hAksjAU8iAFEjAFIkAFMlAFQmAVsmAFcoAFwnAF0oAF8qAmEqAGIrAGMsAGksAWUuAGotAmAwDWwuAGsuA20vAF0zDm4wAG8xAHEyAHIzAXgyAHM0AnU1AHo0AHY2AHw1AH43AIA5AoE6AIM7AIQ8AIk7AIU9AIs8AIc+AIw9AI0+AY4+ApFAAJJBAJNCAJRDAJpCAZVEAJtDAp1EAJxEA55FAKBHAKFIAKJJAKhIAaRKAKVLAKtKAKxLAI5RI5BRJK9NALBOALFPALJQALNRALlQBLtRALxSAL1TAL9UAMFWAMJXAMRYArlbCsZZAMVZA8xYAMhaAM9aANFcAdNdAtVfAMpiDddgAN1fANhhAN9hANljAOFiAeNkAOJkA91mAONlBN5nAdhoDeVmAOdoAO5mAOJqB+9nAOlpAPBpAfFqA654SvNrAOduDvRsAPZtAN5yGONxGvduANh0IPFwB/hvAOtxE+B0Gt90I/lwAOxyFPNxCu5zBud0EvRyANt2Is54Ndp2Krt8S+B1JM95L9V4Ked0HeF2G/txAO1zFvRyDOh1E9x3I895NtV4ML19Rsp7NcN8Qbx9TMl7O8J8R9Z5Kq6AW8h7QrZ/ULh/S7V/VsV9O75+R8t8NsR9QqmCYKeCZpqFcLGBVq+BXJGHe4+HgbeAUaOEZqGEbLaAV6CEcauDXKqDYZuGcZmGd42Ih5KIfJCIgpSId4iKh4uKgv///////////////////////////////////////////////////////////////////////////////////////////////////////////yH5BAEIAP8ALAAAAACJADMAAAj+AP8JHEiwoMGDCBMqXMiwocOHECMSHEexosWLGDNq3Mixo8ePIDtKHPhtGK6TKFOqXInrGcuXMGPKnEmzpspU40YKHBdryICfQIMKFVpHFq6hSJOWSMq0qdOnUH8S8PRN579vrFwI2Mq1q9euALbAwvW1bFkAI8yqXcsWbFu1AArgyqkTHK4Ib8v+sEU279cSfgO3HSAYLFWd35RNKryVAIZUfQujZUy5stu5OsfxCkMZgABFNkOLHk065eGR13ClsBxllbdvsL8h04N0S6/YuIXVifrzyu1vsnbz9g1bt1ANqWDbwiHUd0Wd0PR4rozgUbiB43qRKdtDFV3sxbD+BNbBiiKtLoF7tKLoS3zXAqKwkXMFwquOXFWtpsYF5WsClX6UpQcuroAzUDWr5FDWBLhg89034aQiQ2ARNBgOKTf4BUAFuHgTIQ1dDQCAH8dM8wkBXjHooFWwBdOfVwmsEhs2gJTlh4P5/ROMJgicBUgsOY4zDCaCAQAIL8m40mNgg9CyDCYGfPWEK62c4RUARgJp1VUu+rcKXdgE+BUg2BTETBRmAeBCLA8Ow0SRKsQCyxaBEUCADry4+ZVni7SCAVhYxvndSN8Q82JXMeZHo4DQFBQMLpQIiMsoOX5zDC5iclVCSkZ4BQYuvADzA1cIgNEIBF4tkgaqnqWAijP+J6HJFQ246BIKLrJuRSuoOY40TpchGqALmJlyBYAeZU5kjR5lddELRdh9E6ZXJcwC2zCddgWGMt/A8skEAgyQxyqsoMrVAJioMkgBAjCACS/jfBOMIMYykAo21aQC2FYAqFHMN9BaNY6hXzEgI0WLfoVsQZaKUZYOp/QqUMJcoTALRdh6FQYy45BjChgCuJDKNbng1RUn2qSSIRarhFNVN3cZC4gwz2jiVSXTSOwrsF0JK+0woBTLFZkFjVPMEmV5UAo5Bk17rgnWCpntVgNs+8841mACQBdAmmIuV5iE40saAAzCDF3j7HKEsVjkOcfTuFy35U4Ee2UwLZj+8MH+nnpcU7QpE3pFmCfaNF1jVylcXNLUAgAABjICRRiBHMlgZTJXl4CzjR8G4NINScPg0ZUKnqhtLBjwzr0Tz1wJq0kOKJq18ESuVHCWHxwX5DS/UAuzSyqMOw75VbugYAg037Ty9VaYeIONJRsMS9I1qSy5lSa4/MmvIskMKnDdXTFQCQeNq/WH3wRF80lZIpoxjMQUb1XtJ1eA66kyO51SBCrdWO7VJeEIxy2CYItejYMUODCWHhoxHQF4oEOqW92huhICtgxgdgPhxiL25JkhXEx3QjMBJUhwlscJ5Bu0cAMt4lUusGACHChU4aBQCIdwYckJZuhKFE7hve9NsDH+hPnKB6IwB0VkAhfoo1sNzUICV8DvcFQDgQgAEESN4e8qwthE975histthRPgGEcWhWHAbVyCXZ4hAYi4Mghi6CwzrOOXVwjQg0XgwhbMeIaHBjUOWFxBLQZIxecIsrtwyZFqLwjDIDCRiuH9bXkCuIQ3FEKOVLjAMwMoQAK4UqFBRnBgP/wKDBaRClh4I2AG+cYpdPAerxBiGoOK31dUMIhUxMIa2qDGG/3XlUbIDSHfqAXIyrIE/ERQgmopgBlwUYtT9nAiuiAhV0bFFQKk4RixFFpXmJAKXvTvmSRR3rkE8EKFyCZSX7mgM8DpK/B5BQF/SAW32DmQcOBiAV3+SYP2GrcEXvRKll2hwSe8CTBzsuJyVOTELxECDlHUx26pQN4xrxZHroxrRQ25Bjq5kggfjO5LhNTmuUggCFsioxthPAhWvuaZzC1kHKegguB6UJ6JXs2dXImCK6BBz4lIg1lcKcAn1HAuBpRikgMBaIgEAANFVsITslBpF70StoUUil5ekcNtbPqrUCIgFcx4IzCdkUOuiMAVjQBLI54RUq98IC3GEhEACLCxg4zDazcz0EK0cU+waIIbPY0IKAt2GofwJAld+cEpcGE/Ec2BGN+RpQkqsRpj8YsMV2TYQUNU1ZeuApK4EKvA4ggAYQV2IqoIXOPAkApNsLJxAKD+ApuSWqwBmGAUougCBqq4WkcSJHmQrIReDbo8AmCGqzhtly5Ea1dX2I9fBmCA9QQQg1bkSJaJk0UrgGdFlW72XJ01Z8nAElqbUnSChDEtRLyRitgZq4FbqdAvCwmAEvhTaiEyYSpb2BXhMmQc/KXacRuykaIl12DMNcg2EPEWAFyCrROD4lagdi3GCSAMmf3tVMG7UGBumF/l/W9iZqEJT5g4F8dIKXYqql6HfCMZcmgwHYRBrK4Q4LYAy9i59PvIvP4Xr+cacELGEQ5epGINKDCAASywBEzkgqfYObCMHtLHP3IlCSlZG1e6QAtFSbi+UdMxVzDsXS+iq8Nl9kr+iM0Zi0yoAL4DWIAePHFKZHqlxQQeRQ+09b6SOMyGOlgPwkJ4XzGH63GovApw80pP2IgzyIk2yDikkYoVYIkAVAyiAQpxi/wM1m5T/m+8dGGCrszBGhRRRrE0QJVupULCA9iULnKBCwuHoRQFJMh+zIyJUkQ1IbtWMy4ynEpbkAFLsMVk40yAi2jYuWfSY4ilTsIAYx0iF7k4BSkyYSyh4iIWwNiz4AiwiE5AcgAEAAEPdX2HstDVtwaBRh3SOYAxwLsglXxo+cBCgEHgjyJSLqhVh7GEnxgLAhGQBCg2UO24qoAXvdjglW6Qily4Byx0sBZBoIGLUoeIAZ4gdkH+XLI3r0BAFCInCDVEARcqhuEX/4DGME4RSgN4YhjCkPYyzhgiACyBFacg6lf+wAv2ltyQ1qSFMCTulVQAdiKn8MKVgBBthMDUysYyQk0TEo6NpukKOcdGH36wAf/84Aowt2o4XLFGOQLiGMrIhHu3wiFtwNTCAqDENtjbcK6koGUMs8YgrmQGYDD3G8LQZhrepxBqrI8tYoD5NUzxXGOhKA05NydFakGnpuPLFUdv3A92ca0/kyoV4vgGKSrLLyPAyyKw6cbjZSYNj2Bj9myEZUZIkorQl6UQ+PuGKmS6JwjgYhtWPUkq3taVDaQkgTpMSbu7woGUZKgrV4hJFZ7+wH3uY6ImqaBC95/gBMisJDnYOcV21IKCZl/tF4lgnxFI0dNx4AK+VEM2b8NFgJ9Ik978dyVDkWlyhSUGCBWNU4AEiBQ4QRLWkAqs906C8EH/wF749BVrwHjmRBb7J0f41xX7AheWkRdUlCZ7UlhXMwqXEIFbgQB6oAt1dhWkoALpNAiwlHwmuBaTMYKScSUaIgBCBiGjkApmsAIIUAAVwASUoAvXUCm8gHdAiFQbWBkhyIOB0YEkaHMSQxHSgAqrkAqukAqt4AzVMEPLABOB9Q2lgQvmt4Zu+IbPBBvxghsSQ4d0GC8iZod6qIdzuId++IeAGBt9GIh22IfmdYgGiJiIEBEQADs=",Mde="/assets/logo-1e2sNsQM.mp4",Rde="/assets/logo-CDt7pIML.webm",Ide="/assets/pride-CMcO3nTB.png",Ode="/assets/santas-hat-DkaW4YUe.webp";var Nj;(Nj=global.location)!=null&&Nj.search.includes("pride")&&st.session.setItem("pride","true");function o2(e){const[t]=bt(oi),{theme:n}=x.useContext(Zp);return t?null:g.jsxs("div",{className:"relative h-[16.4rem] [view-transition-name:logo]",children:[st.session.getItem("pride")==="true"&&g.jsx(Y3,{asChild:!0,children:g.jsx("img",{className:"absolute",src:Ide,alt:"AllKaraoke Pride logo part 1"})}),g.jsxs(Y3,{...e,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,children:[g.jsx("source",{src:Rde,type:"video/webm"}),g.jsx("source",{src:Mde,type:"video/mp4"})]}),g.jsx("img",{className:"absolute w-[13.7rem] h-[5.1rem] bottom-[-0.5rem] right-[-1rem]",src:kde,alt:"AllKaraoke Pride logo part 2"}),n==="christmas"&&g.jsx("img",{className:"absolute w-[13.7rem] h-[11.1rem] top-[-3rem] right-[-7rem] rotate-[30deg] object-contain",src:Ode,alt:"AllKaraoke Pride logo part 2"})]})}const Y3=En.video`w-[66rem] h-[16.4rem]`;function a2(){return"chrome"in window}function jde(){return g.jsx(g.Fragment,{children:!a2()&&g.jsxs(uu,{className:"w-full py-12 bg-red-900 text-center rounded-none",children:[g.jsxs(ps,{className:"text-lg",children:["This game is tested in ",g.jsx("strong",{children:"Google Chrome"})," and ",g.jsx("strong",{children:"MS Edge"}),"."]}),g.jsx(ps,{children:"It's not guaranteed to work on other browsers (like the one you use now)."})]})})}function NN(){return g.jsx(g.Fragment,{children:g.jsx("a",{href:"https://github.com/Asvarox/allkaraoke",target:"_blank",rel:"noreferrer",className:"github-corner","aria-label":"View source on GitHub",dangerouslySetInnerHTML:{__html:`
      <svg width="80" height="80" viewBox="0 0 250 250"
           style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; left: 0; transform: scale(-1, 1);"
           aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z" />
        <path
          d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
          fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm" />
        <path
          d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
          fill="currentColor" class="octo-body" />
      </svg>
      <style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes
        octocat-wave{0 %,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media
        (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>`}})})}function Da({children:e,supportedBrowsers:t}){return ja(!0),g.jsxs(Dl,{children:[g.jsx(NN,{}),g.jsxs("div",{className:"w-screen h-screen flex items-center flex-col gap-8",children:[g.jsx(o2,{}),t&&g.jsx(jde,{}),g.jsx(jt,{children:e})]})]})}var Ih={},zv=function(){return zv=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},zv.apply(this,arguments)},Pde=function(){function e(t,n,r){var i=this;this.endVal=n,this.options=r,this.version="2.8.0",this.defaults={startVal:0,decimalPlaces:0,duration:2,useEasing:!0,useGrouping:!0,useIndianSeparators:!1,smartEasingThreshold:999,smartEasingAmount:333,separator:",",decimal:".",prefix:"",suffix:"",enableScrollSpy:!1,scrollSpyDelay:200,scrollSpyOnce:!1},this.finalEndVal=null,this.useEasing=!0,this.countDown=!1,this.error="",this.startVal=0,this.paused=!0,this.once=!1,this.count=function(s){i.startTime||(i.startTime=s);var l=s-i.startTime;i.remaining=i.duration-l,i.useEasing?i.countDown?i.frameVal=i.startVal-i.easingFn(l,0,i.startVal-i.endVal,i.duration):i.frameVal=i.easingFn(l,i.startVal,i.endVal-i.startVal,i.duration):i.frameVal=i.startVal+(i.endVal-i.startVal)*(l/i.duration);var c=i.countDown?i.frameVal<i.endVal:i.frameVal>i.endVal;i.frameVal=c?i.endVal:i.frameVal,i.frameVal=Number(i.frameVal.toFixed(i.options.decimalPlaces)),i.printValue(i.frameVal),l<i.duration?i.rAF=requestAnimationFrame(i.count):i.finalEndVal!==null?i.update(i.finalEndVal):i.options.onCompleteCallback&&i.options.onCompleteCallback()},this.formatNumber=function(s){var l,c,d,u,h=s<0?"-":"";l=Math.abs(s).toFixed(i.options.decimalPlaces);var p=(l+="").split(".");if(c=p[0],d=p.length>1?i.options.decimal+p[1]:"",i.options.useGrouping){u="";for(var v=3,y=0,b=0,_=c.length;b<_;++b)i.options.useIndianSeparators&&b===4&&(v=2,y=1),b!==0&&y%v==0&&(u=i.options.separator+u),y++,u=c[_-b-1]+u;c=u}return i.options.numerals&&i.options.numerals.length&&(c=c.replace(/[0-9]/g,function(w){return i.options.numerals[+w]}),d=d.replace(/[0-9]/g,function(w){return i.options.numerals[+w]})),h+i.options.prefix+c+d+i.options.suffix},this.easeOutExpo=function(s,l,c,d){return c*(1-Math.pow(2,-10*s/d))*1024/1023+l},this.options=zv(zv({},this.defaults),r),this.formattingFn=this.options.formattingFn?this.options.formattingFn:this.formatNumber,this.easingFn=this.options.easingFn?this.options.easingFn:this.easeOutExpo,this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.endVal=this.validateValue(n),this.options.decimalPlaces=Math.max(this.options.decimalPlaces),this.resetDuration(),this.options.separator=String(this.options.separator),this.useEasing=this.options.useEasing,this.options.separator===""&&(this.options.useGrouping=!1),this.el=typeof t=="string"?document.getElementById(t):t,this.el?this.printValue(this.startVal):this.error="[CountUp] target is null or undefined",typeof window<"u"&&this.options.enableScrollSpy&&(this.error?console.error(this.error,t):(window.onScrollFns=window.onScrollFns||[],window.onScrollFns.push(function(){return i.handleScroll(i)}),window.onscroll=function(){window.onScrollFns.forEach(function(s){return s()})},this.handleScroll(this)))}return e.prototype.handleScroll=function(t){if(t&&window&&!t.once){var n=window.innerHeight+window.scrollY,r=t.el.getBoundingClientRect(),i=r.top+window.pageYOffset,s=r.top+r.height+window.pageYOffset;s<n&&s>window.scrollY&&t.paused?(t.paused=!1,setTimeout(function(){return t.start()},t.options.scrollSpyDelay),t.options.scrollSpyOnce&&(t.once=!0)):(window.scrollY>s||i>n)&&!t.paused&&t.reset()}},e.prototype.determineDirectionAndSmartEasing=function(){var t=this.finalEndVal?this.finalEndVal:this.endVal;this.countDown=this.startVal>t;var n=t-this.startVal;if(Math.abs(n)>this.options.smartEasingThreshold&&this.options.useEasing){this.finalEndVal=t;var r=this.countDown?1:-1;this.endVal=t+r*this.options.smartEasingAmount,this.duration=this.duration/2}else this.endVal=t,this.finalEndVal=null;this.finalEndVal!==null?this.useEasing=!1:this.useEasing=this.options.useEasing},e.prototype.start=function(t){this.error||(this.options.onStartCallback&&this.options.onStartCallback(),t&&(this.options.onCompleteCallback=t),this.duration>0?(this.determineDirectionAndSmartEasing(),this.paused=!1,this.rAF=requestAnimationFrame(this.count)):this.printValue(this.endVal))},e.prototype.pauseResume=function(){this.paused?(this.startTime=null,this.duration=this.remaining,this.startVal=this.frameVal,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count)):cancelAnimationFrame(this.rAF),this.paused=!this.paused},e.prototype.reset=function(){cancelAnimationFrame(this.rAF),this.paused=!0,this.resetDuration(),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.printValue(this.startVal)},e.prototype.update=function(t){cancelAnimationFrame(this.rAF),this.startTime=null,this.endVal=this.validateValue(t),this.endVal!==this.frameVal&&(this.startVal=this.frameVal,this.finalEndVal==null&&this.resetDuration(),this.finalEndVal=null,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count))},e.prototype.printValue=function(t){var n;if(this.el){var r=this.formattingFn(t);!((n=this.options.plugin)===null||n===void 0)&&n.render?this.options.plugin.render(this.el,r):this.el.tagName==="INPUT"?this.el.value=r:this.el.tagName==="text"||this.el.tagName==="tspan"?this.el.textContent=r:this.el.innerHTML=r}},e.prototype.ensureNumber=function(t){return typeof t=="number"&&!isNaN(t)},e.prototype.validateValue=function(t){var n=Number(t);return this.ensureNumber(n)?n:(this.error="[CountUp] invalid start or end value: ".concat(t),null)},e.prototype.resetDuration=function(){this.startTime=null,this.duration=1e3*Number(this.options.duration),this.remaining=this.duration},e}();const Vde=Object.freeze(Object.defineProperty({__proto__:null,CountUp:Pde},Symbol.toStringTag,{value:"Module"})),Dde=fF(Vde);var K3;function Bde(){if(K3)return Ih;K3=1,Object.defineProperty(Ih,"__esModule",{value:!0});var e=eu(),t=Dde;function n(D,P){var C=D==null?null:typeof Symbol<"u"&&D[Symbol.iterator]||D["@@iterator"];if(C!=null){var N,U,L,q,H=[],V=!0,W=!1;try{if(L=(C=C.call(D)).next,P!==0)for(;!(V=(N=L.call(C)).done)&&(H.push(N.value),H.length!==P);V=!0);}catch(Q){W=!0,U=Q}finally{try{if(!V&&C.return!=null&&(q=C.return(),Object(q)!==q))return}finally{if(W)throw U}}return H}}function r(D,P){var C=Object.keys(D);if(Object.getOwnPropertySymbols){var N=Object.getOwnPropertySymbols(D);P&&(N=N.filter(function(U){return Object.getOwnPropertyDescriptor(D,U).enumerable})),C.push.apply(C,N)}return C}function i(D){for(var P=1;P<arguments.length;P++){var C=arguments[P]!=null?arguments[P]:{};P%2?r(Object(C),!0).forEach(function(N){s(D,N,C[N])}):Object.getOwnPropertyDescriptors?Object.defineProperties(D,Object.getOwnPropertyDescriptors(C)):r(Object(C)).forEach(function(N){Object.defineProperty(D,N,Object.getOwnPropertyDescriptor(C,N))})}return D}function s(D,P,C){return P=_(P),P in D?Object.defineProperty(D,P,{value:C,enumerable:!0,configurable:!0,writable:!0}):D[P]=C,D}function l(){return l=Object.assign?Object.assign.bind():function(D){for(var P=1;P<arguments.length;P++){var C=arguments[P];for(var N in C)Object.prototype.hasOwnProperty.call(C,N)&&(D[N]=C[N])}return D},l.apply(this,arguments)}function c(D,P){if(D==null)return{};var C={},N=Object.keys(D),U,L;for(L=0;L<N.length;L++)U=N[L],!(P.indexOf(U)>=0)&&(C[U]=D[U]);return C}function d(D,P){if(D==null)return{};var C=c(D,P),N,U;if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(D);for(U=0;U<L.length;U++)N=L[U],!(P.indexOf(N)>=0)&&Object.prototype.propertyIsEnumerable.call(D,N)&&(C[N]=D[N])}return C}function u(D,P){return h(D)||n(D,P)||p(D,P)||y()}function h(D){if(Array.isArray(D))return D}function p(D,P){if(D){if(typeof D=="string")return v(D,P);var C=Object.prototype.toString.call(D).slice(8,-1);if(C==="Object"&&D.constructor&&(C=D.constructor.name),C==="Map"||C==="Set")return Array.from(D);if(C==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(C))return v(D,P)}}function v(D,P){(P==null||P>D.length)&&(P=D.length);for(var C=0,N=new Array(P);C<P;C++)N[C]=D[C];return N}function y(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b(D,P){if(typeof D!="object"||D===null)return D;var C=D[Symbol.toPrimitive];if(C!==void 0){var N=C.call(D,P||"default");if(typeof N!="object")return N;throw new TypeError("@@toPrimitive must return a primitive value.")}return(P==="string"?String:Number)(D)}function _(D){var P=b(D,"string");return typeof P=="symbol"?P:String(P)}var w=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?e.useLayoutEffect:e.useEffect;function T(D){var P=e.useRef(D);return w(function(){P.current=D}),e.useCallback(function(){for(var C=arguments.length,N=new Array(C),U=0;U<C;U++)N[U]=arguments[U];return P.current.apply(void 0,N)},[])}var k=function(P,C){var N=C.decimal,U=C.decimals,L=C.duration,q=C.easingFn,H=C.end,V=C.formattingFn,W=C.numerals,Q=C.prefix,J=C.separator,B=C.start,G=C.suffix,ee=C.useEasing,ue=C.useGrouping,F=C.useIndianSeparators,ge=C.enableScrollSpy,se=C.scrollSpyDelay,Se=C.scrollSpyOnce,Me=C.plugin;return new t.CountUp(P,H,{startVal:B,duration:L,decimal:N,decimalPlaces:U,easingFn:q,formattingFn:V,numerals:W,separator:J,prefix:Q,suffix:G,plugin:Me,useEasing:ee,useIndianSeparators:F,useGrouping:ue,enableScrollSpy:ge,scrollSpyDelay:se,scrollSpyOnce:Se})},R=["ref","startOnMount","enableReinitialize","delay","onEnd","onStart","onPauseResume","onReset","onUpdate"],M={decimal:".",separator:",",delay:null,prefix:"",suffix:"",duration:2,start:0,decimals:0,startOnMount:!0,enableReinitialize:!0,useEasing:!0,useGrouping:!0,useIndianSeparators:!1},E=function(P){var C=Object.fromEntries(Object.entries(P).filter(function($e){var De=u($e,2),Ve=De[1];return Ve!==void 0})),N=e.useMemo(function(){return i(i({},M),C)},[P]),U=N.ref,L=N.startOnMount,q=N.enableReinitialize,H=N.delay,V=N.onEnd,W=N.onStart,Q=N.onPauseResume,J=N.onReset,B=N.onUpdate,G=d(N,R),ee=e.useRef(),ue=e.useRef(),F=e.useRef(!1),ge=T(function(){return k(typeof U=="string"?U:U.current,G)}),se=T(function($e){var De=ee.current;if(De&&!$e)return De;var Ve=ge();return ee.current=Ve,Ve}),Se=T(function(){var $e=function(){return se(!0).start(function(){V==null||V({pauseResume:Me,reset:Re,start:je,update:ve})})};H&&H>0?ue.current=setTimeout($e,H*1e3):$e(),W==null||W({pauseResume:Me,reset:Re,update:ve})}),Me=T(function(){se().pauseResume(),Q==null||Q({reset:Re,start:je,update:ve})}),Re=T(function(){se().el&&(ue.current&&clearTimeout(ue.current),se().reset(),J==null||J({pauseResume:Me,start:je,update:ve}))}),ve=T(function($e){se().update($e),B==null||B({pauseResume:Me,reset:Re,start:je})}),je=T(function(){Re(),Se()}),Ge=T(function($e){L&&($e&&Re(),Se())});return e.useEffect(function(){F.current?q&&Ge(!0):(F.current=!0,Ge())},[q,F,Ge,H,P.start,P.suffix,P.prefix,P.duration,P.separator,P.decimals,P.decimal,P.formattingFn]),e.useEffect(function(){return function(){Re()}},[Re]),{start:je,pauseResume:Me,reset:Re,update:ve,getCountUp:se}},O=["className","redraw","containerProps","children","style"],j=function(P){var C=P.className,N=P.redraw,U=P.containerProps,L=P.children,q=P.style,H=d(P,O),V=e.useRef(null),W=e.useRef(!1),Q=E(i(i({},H),{},{ref:V,startOnMount:typeof L!="function"||P.delay===0,enableReinitialize:!1})),J=Q.start,B=Q.reset,G=Q.update,ee=Q.pauseResume,ue=Q.getCountUp,F=T(function(){J()}),ge=T(function(Me){P.preserveValue||B(),G(Me)}),se=T(function(){if(typeof P.children=="function"&&!(V.current instanceof Element)){console.error(`Couldn't find attached element to hook the CountUp instance into! Try to attach "containerRef" from the render prop to a an Element, eg. <span ref={containerRef} />.`);return}ue()});e.useEffect(function(){se()},[se]),e.useEffect(function(){W.current&&ge(P.end)},[P.end,ge]);var Se=N&&P;return e.useEffect(function(){N&&W.current&&F()},[F,N,Se]),e.useEffect(function(){!N&&W.current&&F()},[F,N,P.start,P.suffix,P.prefix,P.duration,P.separator,P.decimals,P.decimal,P.className,P.formattingFn]),e.useEffect(function(){W.current=!0},[]),typeof L=="function"?L({countUpRef:V,start:J,reset:B,update:G,pauseResume:ee,getCountUp:ue}):e.createElement("span",l({className:C,ref:V,style:q},U),typeof P.start<"u"?ue().formattingFn(P.start):"")};return Ih.default=j,Ih.useCountUp=E,Ih}var Nde=Bde();const l2=Pr(Nde),c2=e=>x.useMemo(()=>{const t={};e.forEach(r=>{if(!r.language)return;(Array.isArray(r.language)?r.language:[r.language]).forEach(s=>{const l=s.toLowerCase();t[l]||(t[l]={name:s,count:0}),t[l].count=t[l].count+1})});const n=Object.values(t);return n.sort((r,i)=>i.count-r.count),n},[e]),Lde=pi()?0:20;function LN({onClose:e,closeText:t}){const{register:n}=dr({onBackspace:e}),[r,i]=bt(ty),{data:s,isLoading:l}=_f(),c=c2(s),d=x.useMemo(()=>c.filter(({name:y,count:b})=>DN(y)&&b>=Lde),[c]),u=x.useMemo(()=>c.filter(({name:y})=>!d.find(b=>b.name===y)).reduce((y,{count:b})=>y+b,0),[c,d]),h=d.filter(({name:y})=>!(r!=null&&r.includes(y))).reduce((y,{count:b})=>y+b,0),p=y=>{r===null?i([y]):r.includes(y)?i(r.filter(b=>b!==y)):i([...r,y])};x.useEffect(()=>{if(r===null&&(navigator!=null&&navigator.languages)){const y=new Intl.DisplayNames(["en"],{type:"language"}),b=navigator==null?void 0:navigator.languages.map(w=>{var T;return(T=y.of(w))==null?void 0:T.toLowerCase()}).filter(Boolean),_=d.map(w=>w.name).filter(w=>!b.some(T=>T.includes(w.toLowerCase()))).filter(w=>w!=="English");_.length&&i(_)}},[r,d]);const v=x.useMemo(()=>d.every(y=>r==null?void 0:r.includes(y.name)),[r,d]);return x.useEffect(()=>{r!=null&&r.find(y=>!d.find(b=>b.name===y))&&i(r.filter(y=>d.find(b=>b.name===y)))},[d,r,i]),g.jsxs(Da,{children:[g.jsx("h1",{children:"Select Song Languages"}),g.jsxs($de,{children:[l&&new Array(6).fill(0).map((y,b)=>g.jsx(Cde,{variant:"rectangular",width:"100%",height:"10rem",children:g.jsx(W3,{"data-excluded":!0,focused:!1,children:g.jsx(Pc,{language:["English"]})})},b)),d.map(({name:y,count:b})=>{const _=(r==null?void 0:r.includes(y))??!1;return g.jsxs(W3,{"data-excluded":_,...n(`lang-${y}`,()=>p(y)),children:[g.jsx(zde,{children:_?g.jsx(F0,{}):g.jsx(L0,{})}),g.jsxs("span",{children:[g.jsx(Ude,{children:y})," (",b," songs)"]}),g.jsx(Hde,{"data-excluded":_,children:g.jsx(Pc,{language:[y]})})]},y)}),u>0&&g.jsxs(c_,{children:["and ",g.jsxs("strong",{children:[u," songs"]})," in other languages"]})]}),g.jsxs("h3",{children:["You can always update the selection in ",g.jsx("strong",{children:"Manage Songs"})," menu"]}),g.jsxs(Fde,{children:[g.jsx(vt,{...n("close-exclude-languages",e,void 0,!0,{disabled:v||l}),children:t}),g.jsxs(c_,{children:["The list will contain"," ",g.jsx("strong",{children:g.jsx(l2,{duration:1,preserveValue:!0,end:h+u})})," ","songs"]}),v&&g.jsxs(c_,{"data-test":"all-languages-excluded-warning",children:[g.jsx("strong",{children:g.jsx(bf,{})})," ","You excluded all the languages, pick at least one"]})]})]})}const Fde=K("div",{target:"e17pzmm6"})({name:"4zk4ri",styles:"display:flex;flex-direction:column;gap:1rem"}),c_=K("h4",{target:"e17pzmm5"})({name:"2qga7i",styles:"text-align:right"}),zde=K("div",{target:"e17pzmm4"})({name:"18gxnlc",styles:"svg{width:3rem;height:3rem;}"}),$de=K("div",{target:"e17pzmm3"})({name:"fvqkyn",styles:"margin-top:2rem;display:flex;flex-direction:column;gap:1rem"}),Ude=K("span",{target:"e17pzmm2"})({name:"1jwmbuq",styles:"transition:300ms"}),Hde=K("div",{target:"e17pzmm1"})({name:"5606u9",styles:"transition:300ms;opacity:0.95;&[data-excluded='true']{filter:grayscale(0.6);opacity:0.5;}position:absolute;bottom:0;right:0;img{width:14rem;height:8rem;object-fit:cover;}overflow:hidden;width:14rem;height:8rem"}),W3=K(vt,{target:"e17pzmm0"})({name:"l4ecx7",styles:"&[data-excluded='true']{text-decoration:line-through white;opacity:0.5;&[data-focused='false']{background:rgba(0, 0, 0, 0.55);}}justify-content:flex-start;gap:2rem;font-size:2.5rem;padding-left:3rem;margin:0;height:8rem;position:relative;width:100%"}),qde=pi()?0:30;function Gde({children:e,languageList:t,excludedLanguages:n,onListChange:r}){const[i,s]=x.useState(!1),l=()=>s(!1),c=t.filter(u=>u.count>qde),d=u=>{const h=n.filter(p=>c.find(v=>v.name===p));h.length===0?r(t.filter(p=>p.name!==u).map(p=>p.name)):h.includes(u)?r(n.filter(p=>p!==u)):h.length===c.length-1?r([]):r([...n,u])};return g.jsxs(g.Fragment,{children:[i&&g.jsx(Vl,{onClose:l,children:g.jsxs(jt,{"data-test":"languages-container",spacing:"tight",children:[c.map(({name:u,count:h})=>{const p=n.length&&n.includes(u);return g.jsxs(jt.Button,{size:"small","data-inactive":p,"data-active":!!n.length&&!n.includes(u),onClick:()=>d(u),"data-test":u,className:"!justify-between pl-4",children:[g.jsxs("span",{children:[u," ",g.jsxs("small",{className:"text-sm pl-2",children:["(",h," songs)"]})]}),g.jsx(Pc,{language:[u],className:" h-full w-32 object-cover"})]},u)}),g.jsx(jt.Divider,{}),g.jsx(jt.Button,{size:"small",onClick:l,"data-test":"close-language-filter",children:"Close"})]})}),e({open:()=>s(!0)})]})}const Yde=Bl("remote-mic-saved-songs"),FN=()=>{const[e,t]=Yde([]),n=x.useCallback(r=>{e.includes(r)?(t(i=>i.filter(s=>s!==r)),An.sendMySongList({deleted:[r]})):(er.capture("remote-song-list-add",{songId:r}),t(i=>[...i,r]),An.sendMySongList({added:[r]}))},[e]);return{savedSongList:e,toggleSong:n}},Kde=(e,t,n)=>e>=t&&e<n;function zN(e){var M,E,O;const t=x.useRef(null),n=((M=t.current)==null?void 0:M.getBoundingClientRect().height)??global.innerHeight,r=x.useMemo(()=>{const j=[];return e.groupSizes.forEach((D,P)=>{var C,N;j.push({index:P,type:"group",bottom:(((C=j.at(-1))==null?void 0:C.bottom)??0)+e.groupHeaderHeight,groupIndex:P});for(let U=0;U<D;U++){const L=e.groupSizes.reduce((q,H,V)=>q+(V<P?H:0),0)+U;j.push({index:L,type:"item",bottom:(((N=j.at(-1))==null?void 0:N.bottom)??0)+e.itemHeight,groupIndex:P})}}),j},[e.itemHeight,e.groupHeaderHeight,e.groupSizes]),i=!r.some(j=>j.type==="item"),s=((E=r.at(-1))==null?void 0:E.bottom)??0,l=x.useCallback(j=>{const D=r.findIndex(C=>C.bottom>j-e.overScan),P=r.findIndex(C=>C.bottom>j+n+e.overScan);return[D,P===-1?r.length:P]},[r,n,e.overScan]),[[c,d],u]=x.useState(()=>l(0));x.useLayoutEffect(()=>{if(t.current){const j=()=>{var P;const D=l(((P=t.current)==null?void 0:P.scrollTop)??0);(c!==D[0]||d!==D[1])&&u(D)};return t.current.addEventListener("scroll",j),t.current.scrollTop>s&&t.current.scrollTo({top:0}),j(),()=>{var D;(D=t.current)==null||D.removeEventListener("scroll",j)}}},[c,d,l,s]);const h=x.useCallback((j,D)=>{var P,C;return(((P=r[D])==null?void 0:P.bottom)??0)-(((C=r[j])==null?void 0:C.bottom)??0)},[r]),p=x.useMemo(()=>h(-1,c-1),[c,h]),v=r.slice(0,c).findLastIndex(({type:j})=>j==="group"),y=r.slice(c,d),b=v!==-1?[[]]:[];for(let j=0;j<y.length;j++){const D=y[j];D.type==="group"&&b.push([]),(O=b.at(-1))==null||O.push(D)}x.useImperativeHandle(e.ref,()=>({getItemPositionY:j=>{var D;return(((D=r.find(P=>P.type==="item"&&P.index===j))==null?void 0:D.bottom)??-1)-e.itemHeight},scrollTo:j=>{var D;(D=t.current)==null||D.scrollTo({top:j})},scrollToIndex:async(j,D="auto",P="center")=>{var N,U;const C=r.find(L=>L.type==="item"&&L.index===j);if(C){const L=(e.itemHeight+(P==="center"?(N=t.current)==null?void 0:N.clientHeight:0))/2;(U=t.current)==null||U.scrollTo({top:C.bottom-L,behavior:D})}},scrollToGroup:async(j,D="auto",P="top")=>{var N;const C=r.find(U=>U.type==="group"&&U.index===j);C&&((N=t.current)==null||N.scrollTo({top:C.bottom-e.groupHeaderHeight,behavior:D}))}}));const{Header:_,EmptyPlaceholder:w}=e.components??{},T=e.Footer,k=r.findIndex(j=>j.type==="item"&&j.index===e.forceRenderItem),R=v!==-1?p-e.groupHeaderHeight:p;return g.jsxs(Qde,{ref:t,children:[g.jsxs(Wde,{style:{height:s},children:[_&&g.jsx(_,{context:e.context}),r[k]&&!Kde(k,c,d)&&g.jsx(g.Fragment,{children:e.itemContent(r[k].index,r[k].groupIndex,{style:{width:"100%",position:"absolute",top:r[k].bottom-e.itemHeight,left:0,boxSizing:"border-box"},"data-virtualized-bottom":r[k].bottom,"data-virtualized-index":r[k].index})}),g.jsx("div",{style:{transform:`translateY(${R}px)`},children:b.map((j,D)=>g.jsxs("div",{"data-virtualized-group":(j[0]??r[v]).groupIndex,children:[D===0&&v!==-1&&e.groupContent(r[v].index),j.map(({index:P,type:C,bottom:N,groupIndex:U})=>g.jsx(x.Fragment,{children:C==="group"?e.groupContent(P):e.itemContent(P,U,{"data-virtualized-bottom":N,"data-virtualized-index":P})},`${N}`))]},(j[0]??r[v]).groupIndex))})]}),i&&w&&g.jsx(w,{context:e.context}),T&&T]})}const Wde=K("div",{target:"e1c20jfn1"})({name:"100d0a9",styles:"box-sizing:border-box;position:relative"}),Qde=K("div",{target:"e1c20jfn0"})({name:"1wyitvb",styles:"overflow:auto;height:100%;width:100%"}),Xde=new Intl.Collator("en",{numeric:!0,sensitivity:"base"}).compare,$x=1/0,u_=e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),Q3="eexxaacctt",Jde="A-Z",Zde="a-z",Oh=(e,t,n)=>e.replace(Jde,t).replace(Zde,n),X3={unicode:!1,alpha:null,interSplit:"[^A-Za-z\\d']+",intraSplit:"[a-z][A-Z]",intraBound:"[A-Za-z]\\d|\\d[A-Za-z]|[a-z][A-Z]",interLft:0,interRgt:0,interChars:".",interIns:$x,intraChars:"[a-z\\d']",intraIns:null,intraContr:"'[a-z]{1,2}\\b",intraMode:0,intraSlice:[1,$x],intraSub:null,intraTrn:null,intraDel:null,intraFilt:(e,t,n)=>!0,sort:(e,t,n)=>{let{idx:r,chars:i,terms:s,interLft2:l,interLft1:c,start:d,intraIns:u,interIns:h}=e;return r.map((p,v)=>v).sort((p,v)=>i[v]-i[p]||u[p]-u[v]||s[v]+l[v]+.5*c[v]-(s[p]+l[p]+.5*c[p])||h[p]-h[v]||d[p]-d[v]||Xde(t[r[p]],t[r[v]]))}},d_=(e,t)=>t==0?"":t==1?e+"??":t==$x?e+"*?":e+`{0,${t}}?`,J3="(?:\\b|_)";function Yy(e){e=Object.assign({},X3,e);let{unicode:t,interLft:n,interRgt:r,intraMode:i,intraSlice:s,intraIns:l,intraSub:c,intraTrn:d,intraDel:u,intraContr:h,intraSplit:p,interSplit:v,intraBound:y,intraChars:b}=e;l??(l=i),c??(c=i),d??(d=i),u??(u=i);let _=e.letters??e.alpha;if(_!=null){let G=_.toLocaleUpperCase(),ee=_.toLocaleLowerCase();v=Oh(v,G,ee),p=Oh(p,G,ee),y=Oh(y,G,ee),b=Oh(b,G,ee),h=Oh(h,G,ee)}let w=t?"u":"";const T='".+?"',k=new RegExp(T,"gi"+w),R=new RegExp(`(?:\\s+|^)-(?:${b}+|${T})`,"gi"+w);let{intraRules:M}=e;M==null&&(M=G=>{let ee=X3.intraSlice,ue=0,F=0,ge=0,se=0;if(/[^\d]/.test(G)){let Se=G.length;Se<=4?Se>=3&&(ge=Math.min(d,1),Se==4&&(ue=Math.min(l,1))):(ee=s,ue=l,F=c,ge=d,se=u)}return{intraSlice:ee,intraIns:ue,intraSub:F,intraTrn:ge,intraDel:se}});let E=!!p,O=new RegExp(p,"g"+w),j=new RegExp(v,"g"+w),D=new RegExp("^"+v+"|"+v+"$","g"+w),P=new RegExp(h,"gi"+w);const C=G=>{let ee=[];G=G.replace(k,F=>(ee.push(F),Q3)),G=G.replace(D,"").toLocaleLowerCase(),E&&(G=G.replace(O,F=>F[0]+" "+F[1]));let ue=0;return G.split(j).filter(F=>F!="").map(F=>F===Q3?ee[ue++]:F)},N=/[^\d]+|\d+/g,U=(G,ee=0,ue=!1)=>{let F=C(G);if(F.length==0)return[];let ge=Array(F.length).fill("");F=F.map((ve,je)=>ve.replace(P,Ge=>(ge[je]=Ge,"")));let se;if(i==1)se=F.map((ve,je)=>{if(ve[0]==='"')return u_(ve.slice(1,-1));let Ge="";for(let $e of ve.matchAll(N)){let De=$e[0],{intraSlice:Ve,intraIns:ot,intraSub:ft,intraTrn:Be,intraDel:ut}=M(De);if(ot+ft+Be+ut==0)Ge+=De+ge[je];else{let[en,pn]=Ve,sn=De.slice(0,en),qe=De.slice(pn),pt=De.slice(en,pn);ot==1&&sn.length==1&&sn!=pt[0]&&(sn+="(?!"+sn+")");let un=pt.length,on=[De];if(ft)for(let yt=0;yt<un;yt++)on.push(sn+pt.slice(0,yt)+b+pt.slice(yt+1)+qe);if(Be)for(let yt=0;yt<un-1;yt++)pt[yt]!=pt[yt+1]&&on.push(sn+pt.slice(0,yt)+pt[yt+1]+pt[yt]+pt.slice(yt+2)+qe);if(ut)for(let yt=0;yt<un;yt++)on.push(sn+pt.slice(0,yt+1)+"?"+pt.slice(yt+1)+qe);if(ot){let yt=d_(b,1);for(let lt=0;lt<un;lt++)on.push(sn+pt.slice(0,lt)+yt+pt.slice(lt)+qe)}Ge+="(?:"+on.join("|")+")"+ge[je]}}return Ge});else{let ve=d_(b,l);ee==2&&l>0&&(ve=")("+ve+")("),se=F.map((je,Ge)=>je[0]==='"'?u_(je.slice(1,-1)):je.split("").map(($e,De,Ve)=>(l==1&&De==0&&Ve.length>1&&$e!=Ve[De+1]&&($e+="(?!"+$e+")"),$e)).join(ve)+ge[Ge])}let Se=n==2?J3:"",Me=r==2?J3:"",Re=Me+d_(e.interChars,e.interIns)+Se;return ee>0?ue?se=Se+"("+se.join(")"+Me+"|"+Se+"(")+")"+Me:(se="("+se.join(")("+Re+")(")+")",se="(.??"+Se+")"+se+"("+Me+".*)"):(se=se.join(Re),se=Se+se+Me),[new RegExp(se,"i"+w),F,ge]},L=(G,ee,ue)=>{let[F]=U(ee);if(F==null)return null;let ge=[];if(ue!=null)for(let se=0;se<ue.length;se++){let Se=ue[se];F.test(G[Se])&&ge.push(Se)}else for(let se=0;se<G.length;se++)F.test(G[se])&&ge.push(se);return ge};let q=!!y,H=new RegExp(v,w),V=new RegExp(y,w);const W=(G,ee,ue)=>{let[F,ge,se]=U(ue,1),[Se]=U(ue,2),Me=ge.length,Re=G.length,ve=Array(Re).fill(0),je={idx:Array(Re),start:ve.slice(),chars:ve.slice(),terms:ve.slice(),interIns:ve.slice(),intraIns:ve.slice(),interLft2:ve.slice(),interRgt2:ve.slice(),interLft1:ve.slice(),interRgt1:ve.slice(),ranges:Array(Re)},Ge=n==1||r==1,$e=0;for(let De=0;De<G.length;De++){let Ve=ee[G[De]],ot=Ve.match(F),ft=ot.index+ot[1].length,Be=ft,ut=!1,en=0,pn=0,sn=0,qe=0,pt=0,un=0,on=0,yt=0,lt=[];for(let rt=0,Ct=2;rt<Me;rt++,Ct+=2){let Nn=ot[Ct].toLocaleLowerCase(),Ut=ge[rt],_t=Ut[0]=='"'?Ut.slice(1,-1):Ut+se[rt],Nt=_t.length,Ln=Nn.length,Jt=Nn==_t;if(!Jt&&ot[Ct+1].length>=Nt){let mt=ot[Ct+1].toLocaleLowerCase().indexOf(_t);mt>-1&&(lt.push(Be,Ln,mt,Nt),Be+=Q(ot,Ct,mt,Nt),Nn=_t,Ln=Nt,Jt=!0,rt==0&&(ft=Be))}if(Ge||Jt){let mt=Be-1,fr=Be+Ln,Vr=!1,Gn=!1;if(mt==-1||H.test(Ve[mt]))Jt&&en++,Vr=!0;else{if(n==2){ut=!0;break}if(q&&V.test(Ve[mt]+Ve[mt+1]))Jt&&pn++,Vr=!0;else if(n==1){let qr=ot[Ct+1],Dr=Be+Ln;if(qr.length>=Nt){let Lt=0,Tn=!1,Je=new RegExp(_t,"ig"+w),kt;for(;kt=Je.exec(qr);){Lt=kt.index;let hr=Dr+Lt,ai=hr-1;if(ai==-1||H.test(Ve[ai])){en++,Tn=!0;break}else if(V.test(Ve[ai]+Ve[hr])){pn++,Tn=!0;break}}Tn&&(Vr=!0,lt.push(Be,Ln,Lt,Nt),Be+=Q(ot,Ct,Lt,Nt),Nn=_t,Ln=Nt,Jt=!0,rt==0&&(ft=Be))}if(!Vr){ut=!0;break}}}if(fr==Ve.length||H.test(Ve[fr]))Jt&&sn++,Gn=!0;else{if(r==2){ut=!0;break}if(q&&V.test(Ve[fr-1]+Ve[fr]))Jt&&qe++,Gn=!0;else if(r==1){ut=!0;break}}Jt&&(pt+=Nt,Vr&&Gn&&un++)}if(Ln>Nt&&(yt+=Ln-Nt),rt>0&&(on+=ot[Ct-1].length),!e.intraFilt(_t,Nn,Be)){ut=!0;break}rt<Me-1&&(Be+=Ln+ot[Ct+1].length)}if(!ut){je.idx[$e]=G[De],je.interLft2[$e]=en,je.interLft1[$e]=pn,je.interRgt2[$e]=sn,je.interRgt1[$e]=qe,je.chars[$e]=pt,je.terms[$e]=un,je.interIns[$e]=on,je.intraIns[$e]=yt,je.start[$e]=ft;let rt=Ve.match(Se),Ct=rt.index+rt[1].length,Nn=lt.length,Ut=Nn>0?0:1/0,_t=Nn-4;for(let mt=2;mt<rt.length;){let fr=rt[mt].length;if(Ut<=_t&&lt[Ut]==Ct){let Vr=lt[Ut+1],Gn=lt[Ut+2],qr=lt[Ut+3],Dr=mt,Lt="";for(let Tn=0;Tn<Vr;Dr++)Lt+=rt[Dr],Tn+=rt[Dr].length;rt.splice(mt,Dr-mt,Lt),Ct+=Q(rt,mt,Gn,qr),Ut+=4}else Ct+=fr,mt++}Ct=rt.index+rt[1].length;let Nt=je.ranges[$e]=[],Ln=Ct,Jt=Ct;for(let mt=2;mt<rt.length;mt++){let fr=rt[mt].length;Ct+=fr,mt%2==0?Jt=Ct:fr>0&&(Nt.push(Ln,Jt),Ln=Jt=Ct)}Jt>Ln&&Nt.push(Ln,Jt),$e++}}if($e<G.length)for(let De in je)je[De]=je[De].slice(0,$e);return je},Q=(G,ee,ue,F)=>{let ge=G[ee]+G[ee+1].slice(0,ue);return G[ee-1]+=ge,G[ee]=G[ee+1].slice(ue,ue+F),G[ee+1]=G[ee+1].slice(ue+F),ge.length},J=5,B=(G,ee,ue,F=1e3,ge)=>{ue=ue?ue===!0?J:ue:0;let se=null,Se=null,Me=[];ee=ee.replace(R,De=>{let Ve=De.trim().slice(1);return Ve[0]==='"'&&(Ve=u_(Ve.slice(1,-1))),Me.push(Ve),""});let Re=C(ee),ve;if(Me.length>0){if(ve=new RegExp(Me.join("|"),"i"+w),Re.length==0){let De=[];for(let Ve=0;Ve<G.length;Ve++)ve.test(G[Ve])||De.push(Ve);return[De,null,null]}}else if(Re.length==0)return[null,null,null];if(ue>0){let De=C(ee);if(De.length>1){let Ve=De.slice().sort((ft,Be)=>Be.length-ft.length);for(let ft=0;ft<Ve.length;ft++){if((ge==null?void 0:ge.length)==0)return[[],null,null];ge=L(G,Ve[ft],ge)}if(De.length>ue)return[ge,null,null];se=$N(De).map(ft=>ft.join(" ")),Se=[];let ot=new Set;for(let ft=0;ft<se.length;ft++)if(ot.size<ge.length){let Be=ge.filter(en=>!ot.has(en)),ut=L(G,se[ft],Be);for(let en=0;en<ut.length;en++)ot.add(ut[en]);Se.push(ut)}else Se.push([])}}se==null&&(se=[ee],Se=[(ge==null?void 0:ge.length)>0?ge:L(G,ee)]);let je=null,Ge=null;if(Me.length>0&&(Se=Se.map(De=>De.filter(Ve=>!ve.test(G[Ve])))),Se.reduce((De,Ve)=>De+Ve.length,0)<=F){je={},Ge=[];for(let De=0;De<Se.length;De++){let Ve=Se[De];if(Ve==null||Ve.length==0)continue;let ot=se[De],ft=W(Ve,G,ot),Be=e.sort(ft,G,ot);if(De>0)for(let ut=0;ut<Be.length;ut++)Be[ut]+=Ge.length;for(let ut in ft)je[ut]=(je[ut]??[]).concat(ft[ut]);Ge=Ge.concat(Be)}}return[[].concat(...Se),je,Ge]};return{search:(...G)=>B(...G),split:C,filter:L,info:W,sort:e.sort}}const efe=(()=>{let e={A:"",a:"",E:"",e:"",I:"",i:"",O:"",o:"",U:"",u:"",C:"",c:"",L:"",l:"",N:"",n:"",S:"",s:"",Z:"",z:""},t=new Map,n="";for(let s in e)e[s].split("").forEach(l=>{n+=l,t.set(l,s)});let r=new RegExp(`[${n}]`,"g"),i=s=>t.get(s);return s=>{if(typeof s=="string")return s.replace(r,i);let l=Array(s.length);for(let c=0;c<s.length;c++)l[c]=s[c].replace(r,i);return l}})();function $N(e){e=e.slice();let t=e.length,n=[e.slice()],r=new Array(t).fill(0),i=1,s,l;for(;i<t;)r[i]<i?(s=i%2&&r[i],l=e[i],e[i]=e[s],e[s]=l,++r[i],i=1,n.push(e.slice())):(r[i]=0,++i);return n}const tfe=(e,t)=>t?`<mark>${e}</mark>`:e,nfe=(e,t)=>e+t;function rfe(e,t,n=tfe,r="",i=nfe){r=i(r,n(e.substring(0,t[0]),!1))??r;for(let s=0;s<t.length;s+=2){let l=t[s],c=t[s+1];r=i(r,n(e.substring(l,c),!0))??r,s<t.length-3&&(r=i(r,n(e.substring(t[s+1],t[s+2]),!1))??r)}return r=i(r,n(e.substring(t[t.length-1]),!1))??r,r}Yy.latinize=efe;Yy.permute=e=>$N([...Array(e.length).keys()]).sort((n,r)=>{for(let i=0;i<n.length;i++)if(n[i]!=r[i])return n[i]-r[i];return 0}).map(n=>n.map(r=>e[r]));Yy.highlight=rfe;const ife=lo().subtract(31,"days");function u2(e){return!!e.lastUpdate&&lo(e.lastUpdate).isAfter(ife)}function $v(e){return e&&e.length?VN(e):[]}class sfe extends Ys{constructor(){super(),this.lists={},this.updateList=(t,n)=>{this.lists[t]||(this.lists[t]=[]),n.added&&(this.lists[t]=$v(this.lists[t].concat(n.added))),n.deleted&&(this.lists[t]=this.lists[t].filter(r=>{var i;return!((i=n.deleted)!=null&&i.includes(r))})),this.onUpdate(this.getSongList())},this.getSongList=()=>$v(Object.values(this.lists).flat()),me.remoteMicSongListUpdated.subscribe(this.updateList),me.remoteMicDisconnected.subscribe(t=>{delete this.lists[t.id],this.onUpdate(this.getSongList())})}}const f_=new sfe;function ofe(){const[e,t]=x.useState(()=>f_.getSongList());return x.useEffect(()=>(f_.addListener(t),()=>{f_.removeListener(t)}),[]),e}var afe=x.createContext({client:er}),lfe=function(){var e=x.useContext(afe).client;return e};function cfe(e){var t=lfe(),n=x.useState(),r=n[0],i=n[1];return x.useEffect(function(){return t.onFeatureFlags(function(){i(t.isFeatureEnabled(e))})},[t,e]),r}function cg(e){const t=cfe(e);return pi()?!0:t}const ufe=(e,t,n)=>{const r=pi()?!0:cg(Zc.Christmas),i=c2(e),s=ofe(),{connected:l}=tB();return x.useMemo(()=>n?[]:[{name:"Selection",Wrapper:({children:h,active:p,focused:v})=>g.jsx(Vae,{...p&&v?{open:!0}:{},oneTime:!1,timeoutMs:15e3,dismissKey:"selection-playlist",place:"right",title:g.jsxs(g.Fragment,{children:["A combination of songs you might like and popular with other players.",g.jsx("br",{}),g.jsx("br",{})," ",g.jsx("strong",{children:"Search"})," is performed across all the songs."]}),children:h}),display:g.jsxs("span",{children:[g.jsx("strong",{children:""}),"Selection",g.jsx("strong",{children:""})]}),filters:{specificSongs:t}},{name:"All",filters:{}},r?{name:"Christmas",display:g.jsxs(g.Fragment,{children:[g.jsx("span",{style:{color:Xe.christmasRed.text},children:"Chris"}),g.jsx("span",{style:{color:Xe.christmasGreen.text},children:"tmas"})," "]}),filters:{edition:"christmas"}}:null,i[0]?{name:i[0].name,filters:{language:i[0].name}}:null,i[1]?{name:i[1].name,filters:{language:i[1].name}}:null,{name:"Duets",filters:{duet:!0}},{name:"New",filters:{recentlyUpdated:!0}},l.length>0?{name:"remote-mics",display:g.jsx(g.Fragment,{children:"From Phones"}),filters:{specificSongs:s,skipExcludedLanguages:!0},footerComponent:g.jsx("div",{className:"flex justify-center",children:g.jsxs(ps,{className:"text-xl",children:["Add songs on your ",g.jsx("strong",{children:"phone"})," using"," ",g.jsxs("strong",{children:[g.jsx(xN,{className:"!text-[1em]"})," Song List"]})," ","tab on the bottom of the screen"]})})}:null].filter(h=>h!==null),[i,n,t,s,l.length])},Z3=e=>Hc((e==null?void 0:e.search)??"").length>2,eO={},dfe=/[^0-9a-z ]/gi,h_=e=>zw(e).toLowerCase().replace(dfe,"");function Ux(e,t){const n=Hc(t);if(n.length>0){const r=new Yy({}),[,i,s]=r.search(e.map(l=>`${h_(l.artist)} ${h_(l.title)}`),h_(t));return s&&i?s.map(l=>e[i.idx[l]]):e.filter(l=>l.search.includes(n))}return e}const tO={language:(e,t)=>t===""?e:e.filter(n=>n.language.includes(t)),excludeLanguages:(e,t=[],n={})=>t.length===0||Z3(n)||n.skipExcludedLanguages?e:e.filter(r=>!r.language.every(i=>t.includes(i))),search:(e,t)=>Ux(e,t),duet:(e,t)=>t===null?e:e.filter(n=>t?n.tracksCount>1:n.tracksCount===1),yearBefore:(e,t)=>t?e.filter(n=>Number(n.year)<t):e,yearAfter:(e,t)=>t?e.filter(n=>Number(n.year)>=t):e,edition:(e,t)=>Hc(t).length?e.filter(r=>Hc(r.edition??"").includes(t)):e,recentlyUpdated:e=>e.filter(u2),specificSongs:(e,t,n)=>Z3(n)?e:e.filter(r=>t.includes(r.id)),additionalSongs:(e,t,n,r)=>{const i=r.filter(s=>t.includes(s.id));return[...e,...i.filter(s=>!e.includes(s))]},skipExcludedLanguages:e=>e},nO=(e,t)=>Object.entries(t).filter(n=>n[0]in tO).reduce((n,[r,i])=>tO[r](n,i,t,e),e),ffe=(e,t,n,r)=>{var w;const[i]=bt(ty),s=x.useMemo(()=>nO(e,{excludeLanguages:i??[]}),[e,i]),l=ufe(s,t,n),[c,d]=x.useState(new URLSearchParams((w=global.location)==null?void 0:w.search).get("playlist")??null),u=T=>{var R;const k=new URL((R=global.location)==null?void 0:R.href);k.searchParams.set("playlist",T),global.history.replaceState(null,"",k.toString()),d(T)},h=l.find(T=>T.name===c)??l[0],[p,v]=x.useState(eO);x.useEffect(()=>{v(eO)},[c]);const y=x.useDeferredValue(p),b=!!y.search,_=x.useMemo(()=>nO(e,{...(h==null?void 0:h.filters)??{},...y,excludeLanguages:i??[],additionalSongs:r?[r]:[]}),[e,y,i,h,r,b]);return{filters:p,filteredList:_,setFilters:v,selectedPlaylist:c,setSelectedPlaylist:u,playlists:l,playlist:h}},hfe=Bl("remote-mic-excluded-languages"),pfe=Bl("remote-mic-selected-song-list"),gfe=Bl("remote-mic-song-list-search");function mfe({roomId:e,monitoringStarted:t,setMonitoringStarted:n,isKeepAwakeOn:r,setIsKeepAwakeOn:i,connectionError:s,connectionStatus:l}){const[c]=qs(me.remoteKeyboardLayout,!0)??[],d=Gy(),u=_f(),[h,p]=x.useState();x.useEffect(()=>{l==="connected"&&h===void 0&&An.getSongList().then(p).catch(console.warn)},[h,l]);const v=x.useMemo(()=>dde(u.data.map(C=>({...C,id:fs.generateSongFile(C)})).filter(C=>!((h==null?void 0:h.deleted)??[]).includes(C.id)).map(C=>({id:C.id,artist:C.artist,title:C.title,video:C.video,language:C.language,search:C.search})).concat(...((h==null?void 0:h.custom)??[]).map(C=>({...C,id:fs.generateSongFile(C)}))),C=>C.id),[u.data,h]),y=c2(v),[b,_]=gfe(""),[w,T]=hfe([]),{savedSongList:k,toggleSong:R}=FN(),[M,E]=pfe("list"),O=BN(),j=C=>{E(C),_("")},D=x.useMemo(()=>{if(M==="list"){const C=Ux(v,b);return C.length!==v.length?C:v.filter(N=>!N.language.every(U=>w.includes(U)))}else{const C=k.map(N=>v.find(U=>U.id===N)).filter(Boolean);return Ux(C,b)}},[b,v,M,k,w]),P=y.length-w.length;return g.jsxs(vfe,{children:[g.jsxs(yfe,{children:[g.jsx(fu,{focused:!1,label:g.jsx(e2,{}),placeholder:"Search for a song",value:b,onChange:C=>_(C),"data-test":"search-input"}),g.jsxs(Afe,{children:[g.jsx(p_,{"data-test":"all-songs-button","data-active":M==="list",onClick:()=>j("list"),children:"All songs"}),g.jsxs(p_,{"data-test":"your-list-button","data-active":M==="queue",onClick:()=>j("queue"),children:["Your list (",k.length,")"]}),g.jsx(Gde,{excludedLanguages:w,languageList:y,onListChange:T,children:({open:C})=>g.jsxs(p_,{className:"!flex-grow-[0.3]",onClick:C,"data-test":"song-language-filter","data-active":w.length>0&&M==="list"?!0:void 0,children:["",P<y.length&&g.jsx(s2,{children:P})]})})]})]}),g.jsx(zN,{forceRenderItem:-1,overScan:100,components:{},context:{},groupSizes:[D.length],groupHeaderHeight:1,groupContent:()=>null,itemHeight:O*7+1,itemContent:(C,N,U)=>{var H;const L=D[C],q=k.includes(L.id);return g.jsxs(bfe,{className:q?"!bg-black !bg-opacity-35":"","data-test":L.id,...U,children:[g.jsx(_fe,{children:g.jsx(Pc,{language:L.language})}),g.jsxs(Sfe,{children:[g.jsx(wfe,{children:L.title}),g.jsx(xfe,{children:L.artist})]}),g.jsxs(Efe,{children:[((H=c==null?void 0:c.remote)==null?void 0:H.includes("select-song"))&&d==="write"&&g.jsx(rO,{onClick:V=>{V.stopPropagation(),An.selectSong(L.id)},"data-test":"select-song-button",children:"SELECT"}),q?g.jsx(rO,{"data-test":"remove-song-button",onClick:V=>{V.stopPropagation(),R(L.id)},children:"-"}):g.jsx(UN,{"data-test":"add-song-button",onClick:V=>{V.stopPropagation(),R(L.id)},children:"+"})]})]})}})]})}const vfe=K("div",{target:"emsrjbt9"})({name:"lrzqpm",styles:"display:flex;flex-direction:column;position:relative;flex:1 1 auto;min-height:calc(100vh - 6rem);max-height:calc(100vh - 6rem)"}),yfe=K("div",{target:"emsrjbt8"})(Ot,";font-size:2.5rem;display:flex;flex-direction:column;"),Afe=K("div",{target:"emsrjbt7"})({name:"7whenc",styles:"display:flex;width:100%"}),p_=K("button",{target:"emsrjbt6"})("border:none;flex:1;display:flex;align-items:center;justify-content:center;min-width:4rem;height:4rem;background:rgba(0, 0, 0, 0.75);",Ot,";font-size:2rem;position:relative;transition:300ms;&[data-active='true']{background:",Ue.colors.text.active,";}&[data-active='false']{box-shadow:inset 0px 0px 0px 2px orange;}"),bfe=K("div",{target:"emsrjbt5"})({name:"16qu2op",styles:"background:rgba(0, 0, 0, 0.15);display:flex;align-items:center;height:7rem;padding:0 1rem;gap:1rem;border-bottom:1px solid black;overflow:hidden;position:relative;transition:100ms"}),_fe=K("div",{target:"emsrjbt4"})({name:"1xmi6sr",styles:"img{height:3rem;width:3rem;object-fit:cover;border-radius:3rem;border:0.1rem black solid;aspect-ratio:1;}"}),Sfe=K("div",{target:"emsrjbt3"})({name:"tpuoeb",styles:"display:flex;flex-direction:column;justify-content:space-between;gap:1rem"}),xfe=K("span",{target:"emsrjbt2"})("color:",Ue.colors.text.default,";font-size:1.25rem;white-space:nowrap;"),wfe=K("span",{target:"emsrjbt1"})("color:",Ue.colors.text.active,";font-size:1.5rem;white-space:nowrap;"),Efe=K("div",{target:"emsrjbt0"})({name:"1m2flic",styles:"position:absolute;top:0;right:0;display:flex;height:7rem;align-items:center;justify-content:center;gap:1rem;padding-right:1rem"}),UN=En.button`transition-all duration-300 active:text-text-default active:bg-active typography p-[1rem] min-w-[4rem] h-[4rem] rounded-full text-center bg-black text-[1.5rem] border-none cursor-pointer transition-[300ms]`,rO=En(UN)`text-active`,Tfe=e=>{const{savedSongList:t}=FN();x.useEffect(()=>{e&&An.sendMySongList({added:t})},[e])},g_=new pre;function Cfe(){const e=Iy("room"),[t]=qs(me.remoteStyleChanged,!0)??["regular"];x.useLayoutEffect(()=>{XP(t)},[t]),ja(!0,t);const[n,r]=x.useState("microphone"),[i,s]=qs(me.karaokeConnectionStatusChange)??["uninitialised"],[l,c]=x.useState(!1);gi(me.micMonitoringStarted,()=>c(!0)),gi(me.micMonitoringStopped,()=>c(!1)),Tfe(i==="connected");const[d,u]=x.useState(!1),h=async v=>{try{v&&!g_.isEnabled?await g_.enable():!v&&g_.isEnabled,u(v)}catch(y){console.warn("Couldn't set wakelock",y)}},p=()=>{h(!0)};return g.jsxs(Dl,{children:[g.jsx(Xce,{onConfirm:p}),g.jsx(Tre,{size:10}),g.jsx(kfe,{id:"phone-ui-container",className:"pb-24 landscap:pb-0",children:g.jsxs(g.Fragment,{children:[n==="microphone"&&g.jsx(Gce,{roomId:e,monitoringStarted:l,setMonitoringStarted:c,connectionStatus:i,setIsKeepAwakeOn:u,isKeepAwakeOn:d,connectionError:s}),n==="song-list"&&g.jsx(mfe,{roomId:e,monitoringStarted:l,setMonitoringStarted:c,connectionStatus:i,setIsKeepAwakeOn:u,isKeepAwakeOn:d,connectionError:s}),n==="settings"&&g.jsx(cue,{roomId:e,monitoringStarted:l,setMonitoringStarted:c,connectionStatus:i,setIsKeepAwakeOn:u,isKeepAwakeOn:d,connectionError:s}),g.jsx(Fle,{setActiveTab:r,active:n})]})})]})}const kfe=K("div",{target:"e1ky75ep0"})({name:"1tjfysn",styles:"margin:0 auto;width:100%;max-width:400px;box-sizing:border-box;min-height:100vh;max-height:100vh;background:rgba(0, 0, 0, 0.5);display:flex;flex-direction:column;@media (max-height: 500px) and (min-aspect-ratio: 16/10){max-width:960px;}"});function Nl(e){x.useEffect(()=>{e?I0.playing()||I0.play(!1):I0.stop()},[e])}var m_,iO;function Mfe(){if(iO)return m_;iO=1;function e(c){return c&&typeof c=="object"&&"default"in c?c.default:c}var t=eu(),n=e(t);function r(c,d,u){return d in c?Object.defineProperty(c,d,{value:u,enumerable:!0,configurable:!0,writable:!0}):c[d]=u,c}function i(c,d){c.prototype=Object.create(d.prototype),c.prototype.constructor=c,c.__proto__=d}var s=!!(typeof window<"u"&&window.document&&window.document.createElement);function l(c,d,u){if(typeof c!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof d!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof u<"u"&&typeof u!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function h(p){return p.displayName||p.name||"Component"}return function(v){if(typeof v!="function")throw new Error("Expected WrappedComponent to be a React component.");var y=[],b;function _(){b=c(y.map(function(T){return T.props})),w.canUseDOM?d(b):u&&(b=u(b))}var w=function(T){i(k,T);function k(){return T.apply(this,arguments)||this}k.peek=function(){return b},k.rewind=function(){if(k.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var E=b;return b=void 0,y=[],E};var R=k.prototype;return R.UNSAFE_componentWillMount=function(){y.push(this),_()},R.componentDidUpdate=function(){_()},R.componentWillUnmount=function(){var E=y.indexOf(this);y.splice(E,1),_()},R.render=function(){return n.createElement(v,this.props)},k}(t.PureComponent);return r(w,"displayName","SideEffect("+h(v)+")"),r(w,"canUseDOM",s),w}}return m_=l,m_}var Rfe=Mfe();const Ife=Pr(Rfe);var v_,sO;function Ofe(){if(sO)return v_;sO=1;var e=typeof Element<"u",t=typeof Map=="function",n=typeof Set=="function",r=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function i(s,l){if(s===l)return!0;if(s&&l&&typeof s=="object"&&typeof l=="object"){if(s.constructor!==l.constructor)return!1;var c,d,u;if(Array.isArray(s)){if(c=s.length,c!=l.length)return!1;for(d=c;d--!==0;)if(!i(s[d],l[d]))return!1;return!0}var h;if(t&&s instanceof Map&&l instanceof Map){if(s.size!==l.size)return!1;for(h=s.entries();!(d=h.next()).done;)if(!l.has(d.value[0]))return!1;for(h=s.entries();!(d=h.next()).done;)if(!i(d.value[1],l.get(d.value[0])))return!1;return!0}if(n&&s instanceof Set&&l instanceof Set){if(s.size!==l.size)return!1;for(h=s.entries();!(d=h.next()).done;)if(!l.has(d.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(s)&&ArrayBuffer.isView(l)){if(c=s.length,c!=l.length)return!1;for(d=c;d--!==0;)if(s[d]!==l[d])return!1;return!0}if(s.constructor===RegExp)return s.source===l.source&&s.flags===l.flags;if(s.valueOf!==Object.prototype.valueOf&&typeof s.valueOf=="function"&&typeof l.valueOf=="function")return s.valueOf()===l.valueOf();if(s.toString!==Object.prototype.toString&&typeof s.toString=="function"&&typeof l.toString=="function")return s.toString()===l.toString();if(u=Object.keys(s),c=u.length,c!==Object.keys(l).length)return!1;for(d=c;d--!==0;)if(!Object.prototype.hasOwnProperty.call(l,u[d]))return!1;if(e&&s instanceof Element)return!1;for(d=c;d--!==0;)if(!((u[d]==="_owner"||u[d]==="__v"||u[d]==="__o")&&s.$$typeof)&&!i(s[u[d]],l[u[d]]))return!1;return!0}return s!==s&&l!==l}return v_=function(l,c){try{return i(l,c)}catch(d){if((d.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw d}},v_}var jfe=Ofe();const Pfe=Pr(jfe);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var y_,oO;function Vfe(){if(oO)return y_;oO=1;var e=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;function r(s){if(s==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(s)}function i(){try{if(!Object.assign)return!1;var s=new String("abc");if(s[5]="de",Object.getOwnPropertyNames(s)[0]==="5")return!1;for(var l={},c=0;c<10;c++)l["_"+String.fromCharCode(c)]=c;var d=Object.getOwnPropertyNames(l).map(function(h){return l[h]});if(d.join("")!=="0123456789")return!1;var u={};return"abcdefghijklmnopqrst".split("").forEach(function(h){u[h]=h}),Object.keys(Object.assign({},u)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return y_=i()?Object.assign:function(s,l){for(var c,d=r(s),u,h=1;h<arguments.length;h++){c=Object(arguments[h]);for(var p in c)t.call(c,p)&&(d[p]=c[p]);if(e){u=e(c);for(var v=0;v<u.length;v++)n.call(c,u[v])&&(d[u[v]]=c[u[v]])}}return d},y_}var Dfe=Vfe();const Bfe=Pr(Dfe);var Vc={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},xt={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(xt).map(function(e){return xt[e]});var Un={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},Uv={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},Vp={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},Nfe=Object.keys(Uv).reduce(function(e,t){return e[Uv[t]]=t,e},{}),Lfe=[xt.NOSCRIPT,xt.SCRIPT,xt.STYLE],co="data-react-helmet",Ffe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zfe=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},$fe=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Ni=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ufe=function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},aO=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},Hfe=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e},Hx=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},qfe=function(t){var n=Pd(t,xt.TITLE),r=Pd(t,Vp.TITLE_TEMPLATE);if(r&&n)return r.replace(/%s/g,function(){return Array.isArray(n)?n.join(""):n});var i=Pd(t,Vp.DEFAULT_TITLE);return n||i||void 0},Gfe=function(t){return Pd(t,Vp.ON_CHANGE_CLIENT_STATE)||function(){}},A_=function(t,n){return n.filter(function(r){return typeof r[t]<"u"}).map(function(r){return r[t]}).reduce(function(r,i){return Ni({},r,i)},{})},Yfe=function(t,n){return n.filter(function(r){return typeof r[xt.BASE]<"u"}).map(function(r){return r[xt.BASE]}).reverse().reduce(function(r,i){if(!r.length)for(var s=Object.keys(i),l=0;l<s.length;l++){var c=s[l],d=c.toLowerCase();if(t.indexOf(d)!==-1&&i[d])return r.concat(i)}return r},[])},jh=function(t,n,r){var i={};return r.filter(function(s){return Array.isArray(s[t])?!0:(typeof s[t]<"u"&&Xfe("Helmet: "+t+' should be of type "Array". Instead found type "'+Ffe(s[t])+'"'),!1)}).map(function(s){return s[t]}).reverse().reduce(function(s,l){var c={};l.filter(function(v){for(var y=void 0,b=Object.keys(v),_=0;_<b.length;_++){var w=b[_],T=w.toLowerCase();n.indexOf(T)!==-1&&!(y===Un.REL&&v[y].toLowerCase()==="canonical")&&!(T===Un.REL&&v[T].toLowerCase()==="stylesheet")&&(y=T),n.indexOf(w)!==-1&&(w===Un.INNER_HTML||w===Un.CSS_TEXT||w===Un.ITEM_PROP)&&(y=w)}if(!y||!v[y])return!1;var k=v[y].toLowerCase();return i[y]||(i[y]={}),c[y]||(c[y]={}),i[y][k]?!1:(c[y][k]=!0,!0)}).reverse().forEach(function(v){return s.push(v)});for(var d=Object.keys(c),u=0;u<d.length;u++){var h=d[u],p=Bfe({},i[h],c[h]);i[h]=p}return s},[]).reverse()},Pd=function(t,n){for(var r=t.length-1;r>=0;r--){var i=t[r];if(i.hasOwnProperty(n))return i[n]}return null},Kfe=function(t){return{baseTag:Yfe([Un.HREF,Un.TARGET],t),bodyAttributes:A_(Vc.BODY,t),defer:Pd(t,Vp.DEFER),encode:Pd(t,Vp.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:A_(Vc.HTML,t),linkTags:jh(xt.LINK,[Un.REL,Un.HREF],t),metaTags:jh(xt.META,[Un.NAME,Un.CHARSET,Un.HTTPEQUIV,Un.PROPERTY,Un.ITEM_PROP],t),noscriptTags:jh(xt.NOSCRIPT,[Un.INNER_HTML],t),onChangeClientState:Gfe(t),scriptTags:jh(xt.SCRIPT,[Un.SRC,Un.INNER_HTML],t),styleTags:jh(xt.STYLE,[Un.CSS_TEXT],t),title:qfe(t),titleAttributes:A_(Vc.TITLE,t)}},qx=function(){var e=Date.now();return function(t){var n=Date.now();n-e>16?(e=n,t(n)):setTimeout(function(){qx(t)},0)}}(),lO=function(t){return clearTimeout(t)},Wfe=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||qx:global.requestAnimationFrame||qx,Qfe=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||lO:global.cancelAnimationFrame||lO,Xfe=function(t){return console&&typeof console.warn=="function"&&console.warn(t)},Ph=null,Jfe=function(t){Ph&&Qfe(Ph),t.defer?Ph=Wfe(function(){cO(t,function(){Ph=null})}):(cO(t),Ph=null)},cO=function(t,n){var r=t.baseTag,i=t.bodyAttributes,s=t.htmlAttributes,l=t.linkTags,c=t.metaTags,d=t.noscriptTags,u=t.onChangeClientState,h=t.scriptTags,p=t.styleTags,v=t.title,y=t.titleAttributes;Gx(xt.BODY,i),Gx(xt.HTML,s),Zfe(v,y);var b={baseTag:id(xt.BASE,r),linkTags:id(xt.LINK,l),metaTags:id(xt.META,c),noscriptTags:id(xt.NOSCRIPT,d),scriptTags:id(xt.SCRIPT,h),styleTags:id(xt.STYLE,p)},_={},w={};Object.keys(b).forEach(function(T){var k=b[T],R=k.newTags,M=k.oldTags;R.length&&(_[T]=R),M.length&&(w[T]=b[T].oldTags)}),n&&n(),u(t,_,w)},HN=function(t){return Array.isArray(t)?t.join(""):t},Zfe=function(t,n){typeof t<"u"&&document.title!==t&&(document.title=HN(t)),Gx(xt.TITLE,n)},Gx=function(t,n){var r=document.getElementsByTagName(t)[0];if(r){for(var i=r.getAttribute(co),s=i?i.split(","):[],l=[].concat(s),c=Object.keys(n),d=0;d<c.length;d++){var u=c[d],h=n[u]||"";r.getAttribute(u)!==h&&r.setAttribute(u,h),s.indexOf(u)===-1&&s.push(u);var p=l.indexOf(u);p!==-1&&l.splice(p,1)}for(var v=l.length-1;v>=0;v--)r.removeAttribute(l[v]);s.length===l.length?r.removeAttribute(co):r.getAttribute(co)!==c.join(",")&&r.setAttribute(co,c.join(","))}},id=function(t,n){var r=document.head||document.querySelector(xt.HEAD),i=r.querySelectorAll(t+"["+co+"]"),s=Array.prototype.slice.call(i),l=[],c=void 0;return n&&n.length&&n.forEach(function(d){var u=document.createElement(t);for(var h in d)if(d.hasOwnProperty(h))if(h===Un.INNER_HTML)u.innerHTML=d.innerHTML;else if(h===Un.CSS_TEXT)u.styleSheet?u.styleSheet.cssText=d.cssText:u.appendChild(document.createTextNode(d.cssText));else{var p=typeof d[h]>"u"?"":d[h];u.setAttribute(h,p)}u.setAttribute(co,"true"),s.some(function(v,y){return c=y,u.isEqualNode(v)})?s.splice(c,1):l.push(u)}),s.forEach(function(d){return d.parentNode.removeChild(d)}),l.forEach(function(d){return r.appendChild(d)}),{oldTags:s,newTags:l}},qN=function(t){return Object.keys(t).reduce(function(n,r){var i=typeof t[r]<"u"?r+'="'+t[r]+'"':""+r;return n?n+" "+i:i},"")},ehe=function(t,n,r,i){var s=qN(r),l=HN(n);return s?"<"+t+" "+co+'="true" '+s+">"+Hx(l,i)+"</"+t+">":"<"+t+" "+co+'="true">'+Hx(l,i)+"</"+t+">"},the=function(t,n,r){return n.reduce(function(i,s){var l=Object.keys(s).filter(function(u){return!(u===Un.INNER_HTML||u===Un.CSS_TEXT)}).reduce(function(u,h){var p=typeof s[h]>"u"?h:h+'="'+Hx(s[h],r)+'"';return u?u+" "+p:p},""),c=s.innerHTML||s.cssText||"",d=Lfe.indexOf(t)===-1;return i+"<"+t+" "+co+'="true" '+l+(d?"/>":">"+c+"</"+t+">")},"")},GN=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(r,i){return r[Uv[i]||i]=t[i],r},n)},nhe=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(r,i){return r[Nfe[i]||i]=t[i],r},n)},rhe=function(t,n,r){var i,s=(i={key:n},i[co]=!0,i),l=GN(r,s);return[Qe.createElement(xt.TITLE,l,n)]},ihe=function(t,n){return n.map(function(r,i){var s,l=(s={key:i},s[co]=!0,s);return Object.keys(r).forEach(function(c){var d=Uv[c]||c;if(d===Un.INNER_HTML||d===Un.CSS_TEXT){var u=r.innerHTML||r.cssText;l.dangerouslySetInnerHTML={__html:u}}else l[d]=r[c]}),Qe.createElement(t,l)})},la=function(t,n,r){switch(t){case xt.TITLE:return{toComponent:function(){return rhe(t,n.title,n.titleAttributes)},toString:function(){return ehe(t,n.title,n.titleAttributes,r)}};case Vc.BODY:case Vc.HTML:return{toComponent:function(){return GN(n)},toString:function(){return qN(n)}};default:return{toComponent:function(){return ihe(t,n)},toString:function(){return the(t,n,r)}}}},YN=function(t){var n=t.baseTag,r=t.bodyAttributes,i=t.encode,s=t.htmlAttributes,l=t.linkTags,c=t.metaTags,d=t.noscriptTags,u=t.scriptTags,h=t.styleTags,p=t.title,v=p===void 0?"":p,y=t.titleAttributes;return{base:la(xt.BASE,n,i),bodyAttributes:la(Vc.BODY,r,i),htmlAttributes:la(Vc.HTML,s,i),link:la(xt.LINK,l,i),meta:la(xt.META,c,i),noscript:la(xt.NOSCRIPT,d,i),script:la(xt.SCRIPT,u,i),style:la(xt.STYLE,h,i),title:la(xt.TITLE,{title:v,titleAttributes:y},i)}},she=function(t){var n,r;return r=n=function(i){Ufe(s,i);function s(){return zfe(this,s),Hfe(this,i.apply(this,arguments))}return s.prototype.shouldComponentUpdate=function(c){return!Pfe(this.props,c)},s.prototype.mapNestedChildrenToProps=function(c,d){if(!d)return null;switch(c.type){case xt.SCRIPT:case xt.NOSCRIPT:return{innerHTML:d};case xt.STYLE:return{cssText:d}}throw new Error("<"+c.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},s.prototype.flattenArrayTypeChildren=function(c){var d,u=c.child,h=c.arrayTypeChildren,p=c.newChildProps,v=c.nestedChildren;return Ni({},h,(d={},d[u.type]=[].concat(h[u.type]||[],[Ni({},p,this.mapNestedChildrenToProps(u,v))]),d))},s.prototype.mapObjectTypeChildren=function(c){var d,u,h=c.child,p=c.newProps,v=c.newChildProps,y=c.nestedChildren;switch(h.type){case xt.TITLE:return Ni({},p,(d={},d[h.type]=y,d.titleAttributes=Ni({},v),d));case xt.BODY:return Ni({},p,{bodyAttributes:Ni({},v)});case xt.HTML:return Ni({},p,{htmlAttributes:Ni({},v)})}return Ni({},p,(u={},u[h.type]=Ni({},v),u))},s.prototype.mapArrayTypeChildrenToProps=function(c,d){var u=Ni({},d);return Object.keys(c).forEach(function(h){var p;u=Ni({},u,(p={},p[h]=c[h],p))}),u},s.prototype.warnOnInvalidChildren=function(c,d){return!0},s.prototype.mapChildrenToProps=function(c,d){var u=this,h={};return Qe.Children.forEach(c,function(p){if(!(!p||!p.props)){var v=p.props,y=v.children,b=aO(v,["children"]),_=nhe(b);switch(u.warnOnInvalidChildren(p,y),p.type){case xt.LINK:case xt.META:case xt.NOSCRIPT:case xt.SCRIPT:case xt.STYLE:h=u.flattenArrayTypeChildren({child:p,arrayTypeChildren:h,newChildProps:_,nestedChildren:y});break;default:d=u.mapObjectTypeChildren({child:p,newProps:d,newChildProps:_,nestedChildren:y});break}}}),d=this.mapArrayTypeChildrenToProps(h,d),d},s.prototype.render=function(){var c=this.props,d=c.children,u=aO(c,["children"]),h=Ni({},u);return d&&(h=this.mapChildrenToProps(d,h)),Qe.createElement(t,h)},$fe(s,null,[{key:"canUseDOM",set:function(c){t.canUseDOM=c}}]),s}(Qe.Component),n.propTypes={base:It.object,bodyAttributes:It.object,children:It.oneOfType([It.arrayOf(It.node),It.node]),defaultTitle:It.string,defer:It.bool,encodeSpecialCharacters:It.bool,htmlAttributes:It.object,link:It.arrayOf(It.object),meta:It.arrayOf(It.object),noscript:It.arrayOf(It.object),onChangeClientState:It.func,script:It.arrayOf(It.object),style:It.arrayOf(It.object),title:It.string,titleAttributes:It.object,titleTemplate:It.string},n.defaultProps={defer:!0,encodeSpecialCharacters:!0},n.peek=t.peek,n.rewind=function(){var i=t.rewind();return i||(i=YN({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),i},r},ohe=function(){return null},ahe=Ife(Kfe,Jfe,YN)(ohe),gs=she(ahe);gs.renderStatic=gs.rewind;function lhe(){Nl(!1);const e=ji(),t=()=>e("menu/"),{register:n}=dr({onBackspace:t}),[r,i]=bt(Vs),[s,l]=bt(Ec),[c,d]=bt(oi),[u,h]=x.useState(zi.getPermissionStatus());x.useEffect(()=>zi.addListener(_=>{h(_)}),[]);const[p,v]=x.useState(!1),y=()=>{v(!0),zi.requestPermissions().then(()=>v(!1))};let b="Disabled";return p?b=g.jsx(lg,{size:"0.9em"}):u===null?b="Click to enable":u&&(b="Enabled"),g.jsxs(Da,{children:[g.jsx(gs,{children:g.jsx("title",{children:"Settings | AllKaraoke.Party - Free Online Karaoke Party Game"})}),g.jsx("h1",{children:"Settings"}),g.jsx(Bs,{...n("graphics-level",()=>i(jc(dV,r))),label:"Graphics",value:r.toUpperCase()}),g.jsx(Bs,{...n("fps-count-level",()=>l(jc(hV,s))),label:"FPS Count",value:s}),g.jsxs("div",{className:"flex flex-col",children:[g.jsx(jt.Button,{...n("calibration-settings",()=>e("settings/calibration/")),size:"small",children:"Calibrate input lag"}),g.jsx(ZE,{children:"If the sound is not synchronised with the lyrics, use this to compensate it."})]}),g.jsx("hr",{}),g.jsx(Bs,{...n("camera-access",()=>u?zi.disable():y()),label:"Enable camera mode",value:b,info:"Record a timelapse video from singing. The recording is not sent nor stored anywhere."}),g.jsx("hr",{}),g.jsx(Bs,{...n("mobile-phone-mode",()=>d(!c)),label:"Mobile Phone Mode",value:c?"Yes":"No",info:"Adjust the game to a smaller screen. Disables option to sing in duets."}),g.jsx("hr",{}),g.jsx(vt,{...n("remote-mics-settings",()=>e("settings/remote-mics/")),size:"small",children:"Remote Microphones Settings"}),g.jsx(vt,{...n("setup-mics-button",()=>e("select-input/")),size:"small",children:"Setup Microphones"}),g.jsx(vt,{...n("manage-songs-button",()=>e("manage-songs/")),size:"small",children:"Manage Songs"}),g.jsx(vt,{...n("back-button",t),children:"Return To Main Menu"})]})}function che(e){return vi("MuiPaper",e)}yi("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const uhe=e=>{const{square:t,elevation:n,variant:r,classes:i}=e,s={root:["root",r,!t&&"rounded",r==="elevation"&&`elevation${n}`]};return Oi(s,che,i)},dhe=Bn("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,n.variant==="elevation"&&t[`elevation${n.elevation}`]]}})(Gs(({theme:e})=>({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow"),variants:[{props:({ownerState:t})=>!t.square,style:{borderRadius:e.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(e.vars||e).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),Ky=x.forwardRef(function(t,n){var y;const r=Ai({props:t,name:"MuiPaper"}),i=DE(),{className:s,component:l="div",elevation:c=1,square:d=!1,variant:u="elevation",...h}=r,p={...r,component:l,elevation:c,square:d,variant:u},v=uhe(p);return g.jsx(dhe,{as:l,ownerState:p,className:Bt(v.root,s),ref:n,...h,style:{...u==="elevation"&&{"--Paper-shadow":(i.vars||i).shadows[c],...i.vars&&{"--Paper-overlay":(y=i.vars.overlays)==null?void 0:y[c]},...!i.vars&&i.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${oo("#fff",Cx(c))}, ${oo("#fff",Cx(c))})`}},...h.style}})});function KN(e){const{theme:t}=x.useContext(Zp);return g.jsxs(fhe,{...e,children:[g.jsx(WN,{asChild:!0,children:g.jsx(wN,{christmas:t==="christmas"})}),g.jsx(hhe,{asChild:!0,children:g.jsx(Bx,{christmas:t==="christmas"})})]})}const fhe=En.div`relative transition-[300ms] [&_svg]:w-[15rem] [&_svg]:h-[15rem]`,WN=En.svg`w-[15rem] h-[15rem] transition-[300ms]`,hhe=En(WN)`absolute top-[1.6rem] left-[3.5rem] z-[100] scale-x-[-1]`;function QN(){const[e,t]=x.useState(!1);return x.useEffect(()=>{const n=setTimeout(()=>{t(!0)},500);return()=>{clearTimeout(n)}},[]),g.jsx(phe,{visible:e,children:g.jsx(ghe,{})})}const phe=K("div",{target:"e1ej0ve21"})("transition:500ms;opacity:",e=>e.visible?1:0,";position:fixed;inset:0;display:flex;align-items:center;justify-content:center;"),ghe=K(KN,{target:"e1ej0ve20"})({name:"1wwm3j4",styles:"transform:translate(-1.75rem, -0.8rem) scale(2);svg{animation:pulse 1.25s infinite;@keyframes pulse{0%{scale:1;}33%{scale:1.05;}66%{scale:1;}100%{scale:1;}}}svg:first-of-type{animation-delay:1s;}"}),XN=x.lazy(()=>df(()=>import("./SongManagement-D35F9EQz.js"),[]).then(e=>({default:e.Convert}))),mhe=e=>g.jsxs(x.Suspense,{fallback:g.jsx(QN,{}),children:[g.jsx(gs,{children:g.jsx("title",{children:"Convert Song | AllKaraoke.Party - Free Online Karaoke Party Game"})}),g.jsx(Ky,{elevation:2,sx:{minHeight:"100vh",width:"1260px",margin:"0 auto",paddingTop:"30px"},children:g.jsx(XN,{...e})})]}),vhe=Wt(g.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete");var z0={exports:{}},yhe=z0.exports,uO;function Ahe(){return uO||(uO=1,function(e,t){(function(n,r){e.exports=r()})(yhe,function(){return function(n,r,i){n=n||{};var s=r.prototype,l={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function c(u,h,p,v){return s.fromToBase(u,h,p,v)}i.en.relativeTime=l,s.fromToBase=function(u,h,p,v,y){for(var b,_,w,T=p.$locale().relativeTime||l,k=n.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],R=k.length,M=0;M<R;M+=1){var E=k[M];E.d&&(b=v?i(u).diff(p,E.d,!0):p.diff(u,E.d,!0));var O=(n.rounding||Math.round)(Math.abs(b));if(w=b>0,O<=E.r||!E.r){O<=1&&M>0&&(E=k[M-1]);var j=T[E.l];y&&(O=y(""+O)),_=typeof j=="string"?j.replace("%d",O):j(O,h,E.l,w);break}}if(h)return _;var D=w?T.future:T.past;return typeof D=="function"?D(_):D.replace("%s",_)},s.to=function(u,h){return c(u,h,this,!0)},s.from=function(u,h){return c(u,h,this)};var d=function(u){return u.$u?i.utc():i()};s.toNow=function(u){return this.to(d(this),u)},s.fromNow=function(u){return this.from(d(this),u)}}})}(z0)),z0.exports}var bhe=Ahe();const _he=Pr(bhe),JN=1e3,She=e=>e.map(t=>{if(t.notes.length===0)debugger;return{...t,start:t.notes[0].start}}),xhe=e=>{const t=e.notes.at(-1);return t.start+t.length},whe=(e,t=10)=>{let n=0;const r=[];return e.forEach(i=>{i.start-n>t&&(r.push({type:"pause",start:n,end:i.start-t}),n=i.start-t),r.push({...i,start:n}),n=xhe(i)}),r},dO=(e,t)=>({...e,sections:whe(She(e.sections.filter(fn)),t)});function Ehe(e){const t=ff(e),n=Math.round(JN/t);return{...e,tracks:e.tracks.map(r=>dO(r,n)),mergedTrack:dO(e.mergedTrack,n)}}const The=(e,t)=>e.map((n,r)=>fn(n)?{...n,start:r===0?0:Math.max(0,n.start+t),notes:n.notes.map(i=>({...i,start:i.start+t}))}:{...n,start:Math.max(0,n.start+t),end:Math.max(0,n.end+t)}),fO=(e,t)=>({...e,sections:The(e.sections,t)});function Che(e){const t=ff(e),n=Math.round(JN/t),r=Math.floor((e.gap-n*t<0?e.gap:n*t)/t),i=e.gap-r*t;return{...e,gap:i,tracks:e.tracks.map(s=>fO(s,r)),mergedTrack:fO(e.mergedTrack,r)}}function Hv(e,t){return ff(t)*e}function Wy(e){const t=Math.min(...e.tracks.map(n=>"sections"in n?El(n.sections):n.start));return Hv(t,e)+e.gap}function khe(e){const t=Wy(e);return{...e,videoGap:Math.round(Math.max(0,Math.min(e.videoGap??0,t/1e3-15)))}}const Mhe=(e,t)=>e.map((n,r)=>fn(n)?{...n,start:r===0?0:Math.max(0,n.start-t),notes:n.notes.map(i=>({...i,start:i.start-t}))}:{...n,start:Math.max(0,n.start-t),end:Math.max(0,n.end-t)}).filter(n=>fn(n)||n.start-n.end>0),hO=(e,t)=>({...e,sections:Mhe(e.sections,t)});function Rhe(e){const t=ff(e),n=e.tracks.reduce((l,c,d)=>{const u=El(e.tracks[l].sections),h=El(c.sections);return u>h?d:l},0),r=e.tracks[n].sections.find(fn);if(!r)return console.error("There are no notes sections in the song, wat",e.tracks),e;const i=r.start+(r.notes[0].start-r.start),s=Math.floor(e.gap+i*t);return{...e,gap:s,tracks:e.tracks.map(l=>hO(l,i)),mergedTrack:hO(e.mergedTrack,i)}}const Ihe=e=>(e.forEach((t,n)=>{t.lyrics.startsWith(" ")&&(t.lyrics=t.lyrics.trimStart(),n>0&&(e[n-1].lyrics=e[n-1].lyrics.trimEnd()+" ")),n===e.length-1&&(t.lyrics=t.lyrics.trimEnd())}),e),pO=e=>({...e,sections:e.sections.map(t=>fn(t)?{...t,notes:Ihe(t.notes)}:t)});function Ohe(e){return{...e,tracks:e.tracks.map(pO),mergedTrack:pO(e.mergedTrack)}}const jhe=e=>{let t=Rhe(e);return t=Che(t),t=Ehe(t),t=Ohe(t),t=khe(t),t};function ZN(e){const[t,n]=x.useState(null);return x.useEffect(()=>{fs.get(e).then(r=>n(r&&jhe(r)))},[e]),{data:t}}function Phe(e){return vi("MuiButton",e)}const sd=yi("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),Vhe=x.createContext({}),Dhe=x.createContext(void 0),Bhe=e=>{const{color:t,disableElevation:n,fullWidth:r,size:i,variant:s,classes:l}=e,c={root:["root",s,`${s}${qt(t)}`,`size${qt(i)}`,`${s}Size${qt(i)}`,`color${qt(t)}`,n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${qt(i)}`],endIcon:["icon","endIcon",`iconSize${qt(i)}`]},d=Oi(c,Phe,l);return{...l,...d}},eL=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],Nhe=Bn(UB,{shouldForwardProp:e=>BE(e)||e==="classes",name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${qt(n.color)}`],t[`size${qt(n.size)}`],t[`${n.variant}Size${qt(n.size)}`],n.color==="inherit"&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})(Gs(({theme:e})=>{const t=e.palette.mode==="light"?e.palette.grey[300]:e.palette.grey[800],n=e.palette.mode==="light"?e.palette.grey.A100:e.palette.grey[700];return{...e.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${sd.disabled}`]:{color:(e.vars||e).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(e.vars||e).shadows[2],"&:hover":{boxShadow:(e.vars||e).shadows[4],"@media (hover: none)":{boxShadow:(e.vars||e).shadows[2]}},"&:active":{boxShadow:(e.vars||e).shadows[8]},[`&.${sd.focusVisible}`]:{boxShadow:(e.vars||e).shadows[6]},[`&.${sd.disabled}`]:{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${sd.disabled}`]:{border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(e.palette).filter(Rp()).map(([r])=>({props:{color:r},style:{"--variant-textColor":(e.vars||e).palette[r].main,"--variant-outlinedColor":(e.vars||e).palette[r].main,"--variant-outlinedBorder":e.vars?`rgba(${e.vars.palette[r].mainChannel} / 0.5)`:oo(e.palette[r].main,.5),"--variant-containedColor":(e.vars||e).palette[r].contrastText,"--variant-containedBg":(e.vars||e).palette[r].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(e.vars||e).palette[r].dark,"--variant-textBg":e.vars?`rgba(${e.vars.palette[r].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:oo(e.palette[r].main,e.palette.action.hoverOpacity),"--variant-outlinedBorder":(e.vars||e).palette[r].main,"--variant-outlinedBg":e.vars?`rgba(${e.vars.palette[r].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:oo(e.palette[r].main,e.palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":e.vars?e.vars.palette.Button.inheritContainedBg:t,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":e.vars?e.vars.palette.Button.inheritContainedHoverBg:n,"--variant-textBg":e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:oo(e.palette.text.primary,e.palette.action.hoverOpacity),"--variant-outlinedBg":e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:oo(e.palette.text.primary,e.palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${sd.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${sd.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}}]}})),Lhe=Bn("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.startIcon,t[`iconSize${qt(n.size)}`]]}})({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},...eL]}),Fhe=Bn("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.endIcon,t[`iconSize${qt(n.size)}`]]}})({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},...eL]}),gO=x.forwardRef(function(t,n){const r=x.useContext(Vhe),i=x.useContext(Dhe),s=Rv(r,t),l=Ai({props:s,name:"MuiButton"}),{children:c,color:d="primary",component:u="button",className:h,disabled:p=!1,disableElevation:v=!1,disableFocusRipple:y=!1,endIcon:b,focusVisibleClassName:_,fullWidth:w=!1,size:T="medium",startIcon:k,type:R,variant:M="text",...E}=l,O={...l,color:d,component:u,disabled:p,disableElevation:v,disableFocusRipple:y,fullWidth:w,size:T,type:R,variant:M},j=Bhe(O),D=k&&g.jsx(Lhe,{className:j.startIcon,ownerState:O,children:k}),P=b&&g.jsx(Fhe,{className:j.endIcon,ownerState:O,children:b}),C=i||"";return g.jsxs(Nhe,{ownerState:O,className:Bt(r.className,j.root,h,C),component:u,disabled:p,focusRipple:!y,focusVisibleClassName:Bt(j.focusVisible,_),ref:n,type:R,...E,classes:j,children:[D,c,P]})});function zhe(e){const t=Kc(e);return t.body===e?Mv(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}function lp(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function mO(e){return parseInt(Mv(e).getComputedStyle(e).paddingRight,10)||0}function $he(e){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(e.tagName),r=e.tagName==="INPUT"&&e.getAttribute("type")==="hidden";return n||r}function vO(e,t,n,r,i){const s=[t,n,...r];[].forEach.call(e.children,l=>{const c=!s.includes(l),d=!$he(l);c&&d&&lp(l,i)})}function b_(e,t){let n=-1;return e.some((r,i)=>t(r)?(n=i,!0):!1),n}function Uhe(e,t){const n=[],r=e.container;if(!t.disableScrollLock){if(zhe(r)){const l=Nre(Mv(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${mO(r)+l}px`;const c=Kc(r).querySelectorAll(".mui-fixed");[].forEach.call(c,d=>{n.push({value:d.style.paddingRight,property:"padding-right",el:d}),d.style.paddingRight=`${mO(d)+l}px`})}let s;if(r.parentNode instanceof DocumentFragment)s=Kc(r).body;else{const l=r.parentElement,c=Mv(r);s=(l==null?void 0:l.nodeName)==="HTML"&&c.getComputedStyle(l).overflowY==="scroll"?l:r}n.push({value:s.style.overflow,property:"overflow",el:s},{value:s.style.overflowX,property:"overflow-x",el:s},{value:s.style.overflowY,property:"overflow-y",el:s}),s.style.overflow="hidden"}return()=>{n.forEach(({value:s,el:l,property:c})=>{s?l.style.setProperty(c,s):l.style.removeProperty(c)})}}function Hhe(e){const t=[];return[].forEach.call(e.children,n=>{n.getAttribute("aria-hidden")==="true"&&t.push(n)}),t}class qhe{constructor(){this.modals=[],this.containers=[]}add(t,n){let r=this.modals.indexOf(t);if(r!==-1)return r;r=this.modals.length,this.modals.push(t),t.modalRef&&lp(t.modalRef,!1);const i=Hhe(n);vO(n,t.mount,t.modalRef,i,!0);const s=b_(this.containers,l=>l.container===n);return s!==-1?(this.containers[s].modals.push(t),r):(this.containers.push({modals:[t],container:n,restore:null,hiddenSiblings:i}),r)}mount(t,n){const r=b_(this.containers,s=>s.modals.includes(t)),i=this.containers[r];i.restore||(i.restore=Uhe(i,n))}remove(t,n=!0){const r=this.modals.indexOf(t);if(r===-1)return r;const i=b_(this.containers,l=>l.modals.includes(t)),s=this.containers[i];if(s.modals.splice(s.modals.indexOf(t),1),this.modals.splice(r,1),s.modals.length===0)s.restore&&s.restore(),t.modalRef&&lp(t.modalRef,n),vO(s.container,t.mount,t.modalRef,s.hiddenSiblings,!1),this.containers.splice(i,1);else{const l=s.modals[s.modals.length-1];l.modalRef&&lp(l.modalRef,!1)}return r}isTopModal(t){return this.modals.length>0&&this.modals[this.modals.length-1]===t}}const Ghe=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function Yhe(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?e.contentEditable==="true"||(e.nodeName==="AUDIO"||e.nodeName==="VIDEO"||e.nodeName==="DETAILS")&&e.getAttribute("tabindex")===null?0:e.tabIndex:t}function Khe(e){if(e.tagName!=="INPUT"||e.type!=="radio"||!e.name)return!1;const t=r=>e.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=t(`[name="${e.name}"]:checked`);return n||(n=t(`[name="${e.name}"]`)),n!==e}function Whe(e){return!(e.disabled||e.tagName==="INPUT"&&e.type==="hidden"||Khe(e))}function Qhe(e){const t=[],n=[];return Array.from(e.querySelectorAll(Ghe)).forEach((r,i)=>{const s=Yhe(r);s===-1||!Whe(r)||(s===0?t.push(r):n.push({documentOrder:i,tabIndex:s,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(t)}function Xhe(){return!0}function Jhe(e){const{children:t,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:s=Qhe,isEnabled:l=Xhe,open:c}=e,d=x.useRef(!1),u=x.useRef(null),h=x.useRef(null),p=x.useRef(null),v=x.useRef(null),y=x.useRef(!1),b=x.useRef(null),_=Cl(_E(t),b),w=x.useRef(null);x.useEffect(()=>{!c||!b.current||(y.current=!n)},[n,c]),x.useEffect(()=>{if(!c||!b.current)return;const R=Kc(b.current);return b.current.contains(R.activeElement)||(b.current.hasAttribute("tabIndex")||b.current.setAttribute("tabIndex","-1"),y.current&&b.current.focus()),()=>{i||(p.current&&p.current.focus&&(d.current=!0,p.current.focus()),p.current=null)}},[c]),x.useEffect(()=>{if(!c||!b.current)return;const R=Kc(b.current),M=j=>{w.current=j,!(r||!l()||j.key!=="Tab")&&R.activeElement===b.current&&j.shiftKey&&(d.current=!0,h.current&&h.current.focus())},E=()=>{var P,C;const j=b.current;if(j===null)return;if(!R.hasFocus()||!l()||d.current){d.current=!1;return}if(j.contains(R.activeElement)||r&&R.activeElement!==u.current&&R.activeElement!==h.current)return;if(R.activeElement!==v.current)v.current=null;else if(v.current!==null)return;if(!y.current)return;let D=[];if((R.activeElement===u.current||R.activeElement===h.current)&&(D=s(b.current)),D.length>0){const N=!!((P=w.current)!=null&&P.shiftKey&&((C=w.current)==null?void 0:C.key)==="Tab"),U=D[0],L=D[D.length-1];typeof U!="string"&&typeof L!="string"&&(N?L.focus():U.focus())}else j.focus()};R.addEventListener("focusin",E),R.addEventListener("keydown",M,!0);const O=setInterval(()=>{R.activeElement&&R.activeElement.tagName==="BODY"&&E()},50);return()=>{clearInterval(O),R.removeEventListener("focusin",E),R.removeEventListener("keydown",M,!0)}},[n,r,i,l,c,s]);const T=R=>{p.current===null&&(p.current=R.relatedTarget),y.current=!0,v.current=R.target;const M=t.props.onFocus;M&&M(R)},k=R=>{p.current===null&&(p.current=R.relatedTarget),y.current=!0};return g.jsxs(x.Fragment,{children:[g.jsx("div",{tabIndex:c?0:-1,onFocus:k,ref:u,"data-testid":"sentinelStart"}),x.cloneElement(t,{ref:_,onFocus:T}),g.jsx("div",{tabIndex:c?0:-1,onFocus:k,ref:h,"data-testid":"sentinelEnd"})]})}function Zhe(e){return typeof e=="function"?e():e}const epe=x.forwardRef(function(t,n){const{children:r,container:i,disablePortal:s=!1}=t,[l,c]=x.useState(null),d=Cl(x.isValidElement(r)?_E(r):null,n);if(xx(()=>{s||c(Zhe(i)||document.body)},[i,s]),xx(()=>{if(l&&!s)return Sx(n,l),()=>{Sx(n,null)}},[n,l,s]),s){if(x.isValidElement(r)){const u={ref:d};return x.cloneElement(r,u)}return g.jsx(x.Fragment,{children:r})}return g.jsx(x.Fragment,{children:l&&vf.createPortal(r,l)})});function qv(e,t){const{className:n,elementType:r,ownerState:i,externalForwardedProps:s,getSlotOwnerState:l,internalForwardedProps:c,...d}=t,{component:u,slots:h={[e]:void 0},slotProps:p={[e]:void 0},...v}=s,y=h[e]||r,b=Gre(p[e],i),{props:{component:_,...w},internalRef:T}=qre({className:n,...d,externalForwardedProps:e==="root"?v:void 0,externalSlotProps:b}),k=Cl(T,b==null?void 0:b.ref,t.ref),R=l?l(w):{},M={...i,...R},E=e==="root"?_||u:_,O=Hre(y,{...e==="root"&&!u&&!h[e]&&c,...e!=="root"&&!h[e]&&c,...w,...E&&{as:E},ref:k},M);return Object.keys(R).forEach(j=>{delete O[j]}),[y,O]}const tpe=e=>e.scrollTop;function yO(e,t){const{timeout:n,easing:r,style:i={}}=e;return{duration:i.transitionDuration??(typeof n=="number"?n:n[t.mode]||0),easing:i.transitionTimingFunction??(typeof r=="object"?r[t.mode]:r),delay:i.transitionDelay}}const npe={entering:{opacity:1},entered:{opacity:1}},tL=x.forwardRef(function(t,n){const r=DE(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:s,appear:l=!0,children:c,easing:d,in:u,onEnter:h,onEntered:p,onEntering:v,onExit:y,onExited:b,onExiting:_,style:w,timeout:T=i,TransitionComponent:k=Pa,...R}=t,M=x.useRef(null),E=Cl(M,_E(c),n),O=q=>H=>{if(q){const V=M.current;H===void 0?q(V):q(V,H)}},j=O(v),D=O((q,H)=>{tpe(q);const V=yO({style:w,timeout:T,easing:d},{mode:"enter"});q.style.webkitTransition=r.transitions.create("opacity",V),q.style.transition=r.transitions.create("opacity",V),h&&h(q,H)}),P=O(p),C=O(_),N=O(q=>{const H=yO({style:w,timeout:T,easing:d},{mode:"exit"});q.style.webkitTransition=r.transitions.create("opacity",H),q.style.transition=r.transitions.create("opacity",H),y&&y(q)}),U=O(b),L=q=>{s&&s(M.current,q)};return g.jsx(k,{appear:l,in:u,nodeRef:M,onEnter:D,onEntered:P,onEntering:j,onExit:N,onExited:U,onExiting:C,addEndListener:L,timeout:T,...R,children:(q,H)=>x.cloneElement(c,{style:{opacity:0,visibility:q==="exited"&&!u?"hidden":void 0,...npe[q],...w,...c.props.style},ref:E,...H})})});function rpe(e){return vi("MuiBackdrop",e)}yi("MuiBackdrop",["root","invisible"]);const ipe=e=>{const{ownerState:t,...n}=e;return n},spe=e=>{const{classes:t,invisible:n}=e;return Oi({root:["root",n&&"invisible"]},rpe,t)},ope=Bn("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.invisible&&t.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),nL=x.forwardRef(function(t,n){const r=Ai({props:t,name:"MuiBackdrop"}),{children:i,className:s,component:l="div",invisible:c=!1,open:d,components:u={},componentsProps:h={},slotProps:p={},slots:v={},TransitionComponent:y,transitionDuration:b,..._}=r,w={...r,component:l,invisible:c},T=spe(w),k={transition:y,root:u.Root,...v},R={...h,...p},M={slots:k,slotProps:R},[E,O]=qv("root",{elementType:ope,externalForwardedProps:M,className:Bt(T.root,s),ownerState:w}),[j,D]=qv("transition",{elementType:tL,externalForwardedProps:M,ownerState:w}),P=ipe(D);return g.jsx(j,{in:d,timeout:b,..._,...P,children:g.jsx(E,{"aria-hidden":!0,...O,classes:T,ref:n,children:i})})});function ape(e){return typeof e=="function"?e():e}function lpe(e){return e?e.props.hasOwnProperty("in"):!1}const Jm=new qhe;function cpe(e){const{container:t,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,closeAfterTransition:i=!1,onTransitionEnter:s,onTransitionExited:l,children:c,onClose:d,open:u,rootRef:h}=e,p=x.useRef({}),v=x.useRef(null),y=x.useRef(null),b=Cl(y,h),[_,w]=x.useState(!u),T=lpe(c);let k=!0;(e["aria-hidden"]==="false"||e["aria-hidden"]===!1)&&(k=!1);const R=()=>Kc(v.current),M=()=>(p.current.modalRef=y.current,p.current.mount=v.current,p.current),E=()=>{Jm.mount(M(),{disableScrollLock:r}),y.current&&(y.current.scrollTop=0)},O=vd(()=>{const H=ape(t)||R().body;Jm.add(M(),H),y.current&&E()}),j=()=>Jm.isTopModal(M()),D=vd(H=>{v.current=H,H&&(u&&j()?E():y.current&&lp(y.current,k))}),P=x.useCallback(()=>{Jm.remove(M(),k)},[k]);x.useEffect(()=>()=>{P()},[P]),x.useEffect(()=>{u?O():(!T||!i)&&P()},[u,P,T,i,O]);const C=H=>V=>{var W;(W=H.onKeyDown)==null||W.call(H,V),!(V.key!=="Escape"||V.which===229||!j())&&(n||(V.stopPropagation(),d&&d(V,"escapeKeyDown")))},N=H=>V=>{var W;(W=H.onClick)==null||W.call(H,V),V.target===V.currentTarget&&d&&d(V,"backdropClick")};return{getRootProps:(H={})=>{const V=yB(e);delete V.onTransitionEnter,delete V.onTransitionExited;const W={...V,...H};return{role:"presentation",...W,onKeyDown:C(W),ref:b}},getBackdropProps:(H={})=>{const V=H;return{"aria-hidden":!0,...V,onClick:N(V),open:u}},getTransitionProps:()=>{const H=()=>{w(!1),s&&s()},V=()=>{w(!0),l&&l(),i&&P()};return{onEnter:HI(H,c==null?void 0:c.props.onEnter),onExited:HI(V,c==null?void 0:c.props.onExited)}},rootRef:b,portalRef:D,isTopModal:j,exited:_,hasTransition:T}}function upe(e){return vi("MuiModal",e)}yi("MuiModal",["root","hidden","backdrop"]);const dpe=e=>{const{open:t,exited:n,classes:r}=e;return Oi({root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]},upe,r)},fpe=Bn("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.open&&n.exited&&t.hidden]}})(Gs(({theme:e})=>({position:"fixed",zIndex:(e.vars||e).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:t})=>!t.open&&t.exited,style:{visibility:"hidden"}}]}))),hpe=Bn(nL,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),ppe=x.forwardRef(function(t,n){const r=Ai({name:"MuiModal",props:t}),{BackdropComponent:i=hpe,BackdropProps:s,classes:l,className:c,closeAfterTransition:d=!1,children:u,container:h,component:p,components:v={},componentsProps:y={},disableAutoFocus:b=!1,disableEnforceFocus:_=!1,disableEscapeKeyDown:w=!1,disablePortal:T=!1,disableRestoreFocus:k=!1,disableScrollLock:R=!1,hideBackdrop:M=!1,keepMounted:E=!1,onBackdropClick:O,onClose:j,onTransitionEnter:D,onTransitionExited:P,open:C,slotProps:N={},slots:U={},theme:L,...q}=r,H={...r,closeAfterTransition:d,disableAutoFocus:b,disableEnforceFocus:_,disableEscapeKeyDown:w,disablePortal:T,disableRestoreFocus:k,disableScrollLock:R,hideBackdrop:M,keepMounted:E},{getRootProps:V,getBackdropProps:W,getTransitionProps:Q,portalRef:J,isTopModal:B,exited:G,hasTransition:ee}=cpe({...H,rootRef:n}),ue={...H,exited:G},F=dpe(ue),ge={};if(u.props.tabIndex===void 0&&(ge.tabIndex="-1"),ee){const{onEnter:Ge,onExited:$e}=Q();ge.onEnter=Ge,ge.onExited=$e}const se={...q,slots:{root:v.Root,backdrop:v.Backdrop,...U},slotProps:{...y,...N}},[Se,Me]=qv("root",{elementType:fpe,externalForwardedProps:se,getSlotProps:V,additionalProps:{ref:n,as:p},ownerState:ue,className:Bt(c,F==null?void 0:F.root,!ue.open&&ue.exited&&(F==null?void 0:F.hidden))}),[Re,ve]=qv("backdrop",{elementType:i,externalForwardedProps:se,additionalProps:s,getSlotProps:Ge=>W({...Ge,onClick:$e=>{O&&O($e),Ge!=null&&Ge.onClick&&Ge.onClick($e)}}),className:Bt(s==null?void 0:s.className,F==null?void 0:F.backdrop),ownerState:ue}),je=Cl(s==null?void 0:s.ref,ve.ref);return!E&&!C&&(!ee||G)?null:g.jsx(epe,{ref:J,container:h,disablePortal:T,children:g.jsxs(Se,{...Me,children:[!M&&i?g.jsx(Re,{...ve,ref:je}):null,g.jsx(Jhe,{disableEnforceFocus:_,disableAutoFocus:b,disableRestoreFocus:k,isEnabled:B,open:C,children:x.cloneElement(u,ge)})]})})});function gpe(e){return vi("MuiDialog",e)}const __=yi("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),rL=x.createContext({}),mpe=Bn(nL,{name:"MuiDialog",slot:"Backdrop",overrides:(e,t)=>t.backdrop})({zIndex:-1}),vpe=e=>{const{classes:t,scroll:n,maxWidth:r,fullWidth:i,fullScreen:s}=e,l={root:["root"],container:["container",`scroll${qt(n)}`],paper:["paper",`paperScroll${qt(n)}`,`paperWidth${qt(String(r))}`,i&&"paperFullWidth",s&&"paperFullScreen"]};return Oi(l,gpe,t)},ype=Bn(ppe,{name:"MuiDialog",slot:"Root",overridesResolver:(e,t)=>t.root})({"@media print":{position:"absolute !important"}}),Ape=Bn("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.container,t[`scroll${qt(n.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),bpe=Bn(Ky,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.paper,t[`scrollPaper${qt(n.scroll)}`],t[`paperWidth${qt(String(n.maxWidth))}`],n.fullWidth&&t.paperFullWidth,n.fullScreen&&t.paperFullScreen]}})(Gs(({theme:e})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:t})=>!t.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:e.breakpoints.unit==="px"?Math.max(e.breakpoints.values.xs,444):`max(${e.breakpoints.values.xs}${e.breakpoints.unit}, 444px)`,[`&.${__.paperScrollBody}`]:{[e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(e.breakpoints.values).filter(t=>t!=="xs").map(t=>({props:{maxWidth:t},style:{maxWidth:`${e.breakpoints.values[t]}${e.breakpoints.unit}`,[`&.${__.paperScrollBody}`]:{[e.breakpoints.down(e.breakpoints.values[t]+32*2)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:t})=>t.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:t})=>t.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${__.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),_pe=x.forwardRef(function(t,n){const r=Ai({props:t,name:"MuiDialog"}),i=DE(),s={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{"aria-describedby":l,"aria-labelledby":c,"aria-modal":d=!0,BackdropComponent:u,BackdropProps:h,children:p,className:v,disableEscapeKeyDown:y=!1,fullScreen:b=!1,fullWidth:_=!1,maxWidth:w="sm",onBackdropClick:T,onClick:k,onClose:R,open:M,PaperComponent:E=Ky,PaperProps:O={},scroll:j="paper",TransitionComponent:D=tL,transitionDuration:P=s,TransitionProps:C,...N}=r,U={...r,disableEscapeKeyDown:y,fullScreen:b,fullWidth:_,maxWidth:w,scroll:j},L=vpe(U),q=x.useRef(),H=J=>{q.current=J.target===J.currentTarget},V=J=>{k&&k(J),q.current&&(q.current=null,T&&T(J),R&&R(J,"backdropClick"))},W=Pre(c),Q=x.useMemo(()=>({titleId:W}),[W]);return g.jsx(ype,{className:Bt(L.root,v),closeAfterTransition:!0,components:{Backdrop:mpe},componentsProps:{backdrop:{transitionDuration:P,as:u,...h}},disableEscapeKeyDown:y,onClose:R,open:M,ref:n,onClick:V,ownerState:U,...N,children:g.jsx(D,{appear:!0,in:M,timeout:P,role:"presentation",...C,children:g.jsx(Ape,{className:Bt(L.container),onMouseDown:H,ownerState:U,children:g.jsx(bpe,{as:E,elevation:24,role:"dialog","aria-describedby":l,"aria-labelledby":W,"aria-modal":d,...O,className:Bt(L.paper,O.className),ownerState:U,children:g.jsx(rL.Provider,{value:Q,children:p})})})})})});function Spe(e){return vi("MuiDialogActions",e)}yi("MuiDialogActions",["root","spacing"]);const xpe=e=>{const{classes:t,disableSpacing:n}=e;return Oi({root:["root",!n&&"spacing"]},Spe,t)},wpe=Bn("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto",variants:[{props:({ownerState:e})=>!e.disableSpacing,style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),Epe=x.forwardRef(function(t,n){const r=Ai({props:t,name:"MuiDialogActions"}),{className:i,disableSpacing:s=!1,...l}=r,c={...r,disableSpacing:s},d=xpe(c);return g.jsx(wpe,{className:Bt(d.root,i),ownerState:c,ref:n,...l})});function Tpe(e){return vi("MuiDialogContent",e)}yi("MuiDialogContent",["root","dividers"]);function Cpe(e){return vi("MuiDialogTitle",e)}const kpe=yi("MuiDialogTitle",["root"]),Mpe=e=>{const{classes:t,dividers:n}=e;return Oi({root:["root",n&&"dividers"]},Tpe,t)},Rpe=Bn("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dividers&&t.dividers]}})(Gs(({theme:e})=>({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:({ownerState:t})=>t.dividers,style:{padding:"16px 24px",borderTop:`1px solid ${(e.vars||e).palette.divider}`,borderBottom:`1px solid ${(e.vars||e).palette.divider}`}},{props:({ownerState:t})=>!t.dividers,style:{[`.${kpe.root} + &`]:{paddingTop:0}}}]}))),Ipe=x.forwardRef(function(t,n){const r=Ai({props:t,name:"MuiDialogContent"}),{className:i,dividers:s=!1,...l}=r,c={...r,dividers:s},d=Mpe(c);return g.jsx(Rpe,{className:Bt(d.root,i),ownerState:c,ref:n,...l})});function Ope(e){return vi("MuiTypography",e)}const Y1e=yi("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]),jpe={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},Ppe=aoe(),Vpe=e=>{const{align:t,gutterBottom:n,noWrap:r,paragraph:i,variant:s,classes:l}=e,c={root:["root",s,e.align!=="inherit"&&`align${qt(t)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return Oi(c,Ope,l)},Dpe=Bn("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],n.align!=="inherit"&&t[`align${qt(n.align)}`],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})(Gs(({theme:e})=>{var t;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(e.typography).filter(([n,r])=>n!=="inherit"&&r&&typeof r=="object").map(([n,r])=>({props:{variant:n},style:r})),...Object.entries(e.palette).filter(Rp()).map(([n])=>({props:{color:n},style:{color:(e.vars||e).palette[n].main}})),...Object.entries(((t=e.palette)==null?void 0:t.text)||{}).filter(([,n])=>typeof n=="string").map(([n])=>({props:{color:`text${qt(n)}`},style:{color:(e.vars||e).palette.text[n]}})),{props:({ownerState:n})=>n.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:n})=>n.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:n})=>n.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:n})=>n.paragraph,style:{marginBottom:16}}]}})),AO={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},iL=x.forwardRef(function(t,n){const{color:r,...i}=Ai({props:t,name:"MuiTypography"}),s=!jpe[r],l=Ppe({...i,...s&&{color:r}}),{align:c="inherit",className:d,component:u,gutterBottom:h=!1,noWrap:p=!1,paragraph:v=!1,variant:y="body1",variantMapping:b=AO,..._}=l,w={...l,align:c,color:r,className:d,component:u,gutterBottom:h,noWrap:p,paragraph:v,variant:y,variantMapping:b},T=u||(v?"p":b[y]||AO[y])||"span",k=Vpe(w);return g.jsx(Dpe,{as:T,ref:n,className:Bt(k.root,d),..._,ownerState:w,style:{...c!=="inherit"&&{"--Typography-textAlign":c},..._.style}})});function Bpe(e){return vi("MuiDialogContentText",e)}yi("MuiDialogContentText",["root"]);const Npe=e=>{const{classes:t}=e,r=Oi({root:["root"]},Bpe,t);return{...t,...r}},Lpe=Bn(iL,{shouldForwardProp:e=>BE(e)||e==="classes",name:"MuiDialogContentText",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Fpe=x.forwardRef(function(t,n){const r=Ai({props:t,name:"MuiDialogContentText"}),{children:i,className:s,...l}=r,c=Npe(l);return g.jsx(Lpe,{component:"p",variant:"body1",color:"textSecondary",ref:n,ownerState:l,className:Bt(c.root,s),...r,classes:c})}),zpe=e=>{const{classes:t}=e;return Oi({root:["root"]},Cpe,t)},$pe=Bn(iL,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:"16px 24px",flex:"0 0 auto"}),Upe=x.forwardRef(function(t,n){const r=Ai({props:t,name:"MuiDialogTitle"}),{className:i,id:s,...l}=r,c=r,d=zpe(c),{titleId:u=s}=x.useContext(rL);return g.jsx($pe,{component:"h2",className:Bt(d.root,i),ownerState:c,ref:n,variant:"h6",id:s??u,...l})});function sr(e,t){if(t!==void 0)return`#${e}:${typeof t=="number"?t.toString(10).replace(".",","):Array.isArray(t)?t.map(n=>n.trim()).join(", "):t.trim()}`}const bO=e=>e.map(t=>`${YW[t.type]} ${t.start} ${t.length} ${t.pitch} ${t.lyrics}`).join(`
`),_O=e=>e.split(":")[0];function Hpe(e){const t={artist:sr("ARTIST",e.artist),title:sr("TITLE",e.title),author:sr("CREATOR",e.author),bpm:sr("BPM",e.bpm),year:sr("YEAR",e.year),previewStart:sr("PREVIEWSTART",e.previewStart),video:sr("VIDEO",`v=${e.video}`),videoGap:sr("VIDEOGAP",e.videoGap),genre:sr("GENRE",e.genre),language:sr("LANGUAGE",e.language),gap:sr("GAP",e.gap),edition:sr("EDITION",e.edition),id:sr("ALLKARAOKE_ID",e.id),lastUpdate:sr("ALLKARAOKE_LASTUPDATE",e.lastUpdate),artistOrigin:sr("ALLKARAOKE_ARTISTORIGIN",e.artistOrigin),authorUrl:sr("ALLKARAOKE_CREATORURL",e.authorUrl),realBpm:sr("ALLKARAOKE_REALBPM",e.realBpm),sourceUrl:sr("ALLKARAOKE_SOURCEURL",e.sourceUrl),previewEnd:sr("ALLKARAOKE_PREVIEWEND",e.previewEnd),volume:sr("ALLKARAOKE_VOLUME",e.volume)},n=e.tracks.map(c=>c.name??null),r=[];e.tracks.map(c=>c.sections).forEach(([c,...d])=>{r.push(fn(c)?bO(c.notes):`- ${c.start} ${c.end}`),d.forEach(u=>r.push(fn(u)?`- ${u.start}
${bO(u.notes)}`:`- ${u.start} ${u.end}`))});const i=Object.values(t).concat(n[0]?sr("P1",n[0]):void 0).concat(n[1]?sr("P2",n[1]):void 0).filter(tx),s=i.map(_O),l=(e.unsupportedProps??[]).filter(c=>!s.includes(_O(c)));return i.concat(...l).concat(r).concat("E").filter(tx).join(`
`)}const sL="share-songs",oL=Bl(sL),qpe=async e=>{try{if(!st.getItem(sL))return;const n=await fs.get(e);n&&er.capture("share-song",{song:Hpe(n),isBuiltIn:fs.isBuiltIn(e)})}catch(t){console.error(t),fo(t)}};function K1e(e){const[t,n]=oL(null),[r,i]=x.useState(!!e.id&&t===null),s=()=>{i(!1)},l=c=>{n(c),c&&e.id&&qpe(e.id),s()};return g.jsxs(_pe,{open:r,onClose:()=>i(!1),fullWidth:!0,children:[g.jsx(Upe,{children:"Share songs?"}),g.jsx(Ipe,{children:g.jsx(Fpe,{children:g.jsxs("p",{children:["Can you share songs you add? This would help tremendously as I will be able to add it for everyone to play ",g.jsx("br",{}),g.jsx("br",{}),"Shared songs appear for other players with a couple of days of delay."]})})}),g.jsxs(Epe,{children:[g.jsx(gO,{onClick:()=>l(!1),"data-test":"share-songs-disagree",children:"Disagree"}),g.jsx(gO,{onClick:()=>l(!0),autoFocus:!0,variant:"contained","data-test":"share-songs-agree",children:"Agree"})]})]})}lo.extend(_he);function Gpe(){const{data:e}=_f(!0),[t]=oL(null),n=Iy("song");Nl(!1);const r=ZN(n??"");return r.data?g.jsxs(Ky,{elevation:2,sx:{minHeight:"100vh",width:"1260px",margin:"0 auto",paddingTop:"30px"},children:[g.jsx(gs,{children:g.jsx("title",{children:"Edit Song | AllKaraoke.Party - Free Online Karaoke Party Game"})}),g.jsxs(Ype,{children:[g.jsx(qy,{to:"edit/list/",children:g.jsx("a",{children:"Return to the song list"})}),g.jsxs("span",{children:["Editing:"," ",g.jsxs("b",{children:[r.data.artist," - ",r.data.title]}),r.data.local&&g.jsx(Fy,{title:"Delete the song",onClick:async()=>{global.confirm("Are you sure you want to delete this song?")&&(await fs.deleteSong(r.data.id),t&&e.some(s=>s.id===r.data.id)&&er.capture("unshare-song",{songId:r.data.id}))},"data-test":"delete-song",children:g.jsx(vhe,{})})]}),g.jsxs("abbr",{title:r.data.lastUpdate,children:["Last updated: ",g.jsx("b",{children:r.data.lastUpdate?lo(r.data.lastUpdate).fromNow():"-"})]})]}),g.jsx(XN,{song:r.data})]}):g.jsx(g.Fragment,{children:"Loading"})}const Ype=K("div",{target:"e104ojv10"})({name:"12zd36v",styles:"display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;padding:0 8px"});var Kpe=Math.floor,Wpe=Math.random;function Qpe(e,t){return e+Kpe(Wpe()*(t-e+1))}function aL(e,t){var n=-1,r=e.length,i=r-1;for(t=t===void 0?r:t;++n<t;){var s=Qpe(n,i),l=e[s];e[s]=e[n],e[n]=l}return e.length=t,e}function Xpe(e){return aL(zD(e))}function Jpe(e,t){return nE(t,function(n){return e[n]})}function Zpe(e){return e==null?[]:Jpe(e,Xp(e))}function ege(e){return aL(Zpe(e))}function tge(e){var t=Hs(e)?Xpe:ege;return t(e)}var Lj;const lL=!((Lj=document.getElementById("root"))!=null&&Lj.hasChildNodes());function d2(e){return lL?null:e.children}function Mi(e){const t=ji(),n=r=>{e.onClick?e.onClick(r):(r.preventDefault(),t(e.to))};return g.jsx(qy,{...e,onClick:n})}const ud=e=>new Promise(t=>setTimeout(t,e));function nge(e,t){x.useEffect(()=>{var n,r;(r=(n=e.current)==null?void 0:n.getInternalPlayer())==null||r.setVolume(Math.round((t??.5)*100))},[e,t])}var S_,SO;function rge(){return SO||(SO=1,S_=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(s=Object.keys(t),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var l=s[i];if(!e(t[l],n[l]))return!1}return!0}return t!==t&&n!==n}),S_}var ige=rge();const sge=Pr(ige);var Zm={exports:{}},x_,xO;function oge(){if(xO)return x_;xO=1;var e;/**
* @link https://github.com/gajus/sister for the canonical source repository
* @license https://github.com/gajus/sister/blob/master/LICENSE BSD 3-Clause
*/return e=function(){var t={},n={};return t.on=function(r,i){var s={name:r,handler:i};return n[r]=n[r]||[],n[r].unshift(s),s},t.off=function(r){var i=n[r.name].indexOf(r);i!==-1&&n[r.name].splice(i,1)},t.trigger=function(r,i){var s=n[r],l;if(s)for(l=s.length;l--;)s[l].handler(i)},t},x_=e,x_}var e0={exports:{}},w_,wO;function age(){if(wO)return w_;wO=1,w_=function(i,s,l){var c=document.head||document.getElementsByTagName("head")[0],d=document.createElement("script");typeof s=="function"&&(l=s,s={}),s=s||{},l=l||function(){},d.type=s.type||"text/javascript",d.charset=s.charset||"utf8",d.async="async"in s?!!s.async:!0,d.src=i,s.attrs&&e(d,s.attrs),s.text&&(d.text=""+s.text);var u="onload"in d?t:n;u(d,l),d.onload||t(d,l),c.appendChild(d)};function e(r,i){for(var s in i)r.setAttribute(s,i[s])}function t(r,i){r.onload=function(){this.onerror=this.onload=null,i(null,r)},r.onerror=function(){this.onerror=this.onload=null,i(new Error("Failed to load "+this.src),r)}}function n(r,i){r.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,i(null,r))}}return w_}var EO;function lge(){return EO||(EO=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=age(),r=i(n);function i(s){return s&&s.__esModule?s:{default:s}}t.default=function(s){var l=new Promise(function(c){if(window.YT&&window.YT.Player&&window.YT.Player instanceof Function){c(window.YT);return}else{var d=window.location.protocol==="http:"?"http:":"https:";(0,r.default)(d+"//www.youtube.com/iframe_api",function(h){h&&s.trigger("error",h)})}var u=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){u&&u(),c(window.YT)}});return l},e.exports=t.default}(e0,e0.exports)),e0.exports}var t0={exports:{}},n0={exports:{}},r0={exports:{}},E_,TO;function cge(){if(TO)return E_;TO=1;var e=1e3,t=e*60,n=t*60,r=n*24,i=r*365.25;E_=function(u,h){h=h||{};var p=typeof u;if(p==="string"&&u.length>0)return s(u);if(p==="number"&&isNaN(u)===!1)return h.long?c(u):l(u);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(u))};function s(u){if(u=String(u),!(u.length>100)){var h=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(u);if(h){var p=parseFloat(h[1]),v=(h[2]||"ms").toLowerCase();switch(v){case"years":case"year":case"yrs":case"yr":case"y":return p*i;case"days":case"day":case"d":return p*r;case"hours":case"hour":case"hrs":case"hr":case"h":return p*n;case"minutes":case"minute":case"mins":case"min":case"m":return p*t;case"seconds":case"second":case"secs":case"sec":case"s":return p*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return p;default:return}}}}function l(u){return u>=r?Math.round(u/r)+"d":u>=n?Math.round(u/n)+"h":u>=t?Math.round(u/t)+"m":u>=e?Math.round(u/e)+"s":u+"ms"}function c(u){return d(u,r,"day")||d(u,n,"hour")||d(u,t,"minute")||d(u,e,"second")||u+" ms"}function d(u,h,p){if(!(u<h))return u<h*1.5?Math.floor(u/h)+" "+p:Math.ceil(u/h)+" "+p+"s"}return E_}var CO;function uge(){return CO||(CO=1,function(e,t){t=e.exports=i.debug=i.default=i,t.coerce=d,t.disable=l,t.enable=s,t.enabled=c,t.humanize=cge(),t.names=[],t.skips=[],t.formatters={};var n;function r(u){var h=0,p;for(p in u)h=(h<<5)-h+u.charCodeAt(p),h|=0;return t.colors[Math.abs(h)%t.colors.length]}function i(u){function h(){if(h.enabled){var p=h,v=+new Date,y=v-(n||v);p.diff=y,p.prev=n,p.curr=v,n=v;for(var b=new Array(arguments.length),_=0;_<b.length;_++)b[_]=arguments[_];b[0]=t.coerce(b[0]),typeof b[0]!="string"&&b.unshift("%O");var w=0;b[0]=b[0].replace(/%([a-zA-Z%])/g,function(k,R){if(k==="%%")return k;w++;var M=t.formatters[R];if(typeof M=="function"){var E=b[w];k=M.call(p,E),b.splice(w,1),w--}return k}),t.formatArgs.call(p,b);var T=h.log||t.log||console.log.bind(console);T.apply(p,b)}}return h.namespace=u,h.enabled=t.enabled(u),h.useColors=t.useColors(),h.color=r(u),typeof t.init=="function"&&t.init(h),h}function s(u){t.save(u),t.names=[],t.skips=[];for(var h=(typeof u=="string"?u:"").split(/[\s,]+/),p=h.length,v=0;v<p;v++)h[v]&&(u=h[v].replace(/\*/g,".*?"),u[0]==="-"?t.skips.push(new RegExp("^"+u.substr(1)+"$")):t.names.push(new RegExp("^"+u+"$")))}function l(){t.enable("")}function c(u){var h,p;for(h=0,p=t.skips.length;h<p;h++)if(t.skips[h].test(u))return!1;for(h=0,p=t.names.length;h<p;h++)if(t.names[h].test(u))return!0;return!1}function d(u){return u instanceof Error?u.stack||u.message:u}}(r0,r0.exports)),r0.exports}var kO;function dge(){return kO||(kO=1,function(e,t){var n={};t=e.exports=uge(),t.log=s,t.formatArgs=i,t.save=l,t.load=c,t.useColors=r,t.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:d(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function r(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}t.formatters.j=function(u){try{return JSON.stringify(u)}catch(h){return"[UnexpectedJSONParseError]: "+h.message}};function i(u){var h=this.useColors;if(u[0]=(h?"%c":"")+this.namespace+(h?" %c":" ")+u[0]+(h?"%c ":" ")+"+"+t.humanize(this.diff),!!h){var p="color: "+this.color;u.splice(1,0,p,"color: inherit");var v=0,y=0;u[0].replace(/%[a-zA-Z%]/g,function(b){b!=="%%"&&(v++,b==="%c"&&(y=v))}),u.splice(y,0,p)}}function s(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function l(u){try{u==null?t.storage.removeItem("debug"):t.storage.debug=u}catch{}}function c(){var u;try{u=t.storage.debug}catch{}return!u&&typeof process<"u"&&"env"in process&&(u=n.DEBUG),u}t.enable(c());function d(){try{return window.localStorage}catch{}}}(n0,n0.exports)),n0.exports}var i0={exports:{}},MO;function fge(){return MO||(MO=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=["cueVideoById","loadVideoById","cueVideoByUrl","loadVideoByUrl","playVideo","pauseVideo","stopVideo","getVideoLoadedFraction","cuePlaylist","loadPlaylist","nextVideo","previousVideo","playVideoAt","setShuffle","setLoop","getPlaylist","getPlaylistIndex","setOption","mute","unMute","isMuted","setVolume","getVolume","seekTo","getPlayerState","getPlaybackRate","setPlaybackRate","getAvailablePlaybackRates","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getCurrentTime","getDuration","removeEventListener","getVideoUrl","getVideoEmbedCode","getOptions","getOption","addEventListener","destroy","setSize","getIframe"],e.exports=t.default}(i0,i0.exports)),i0.exports}var s0={exports:{}},RO;function hge(){return RO||(RO=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=["ready","stateChange","playbackQualityChange","playbackRateChange","error","apiChange","volumeChange"],e.exports=t.default}(s0,s0.exports)),s0.exports}var o0={exports:{}},a0={exports:{}},IO;function pge(){return IO||(IO=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default={BUFFERING:3,ENDED:0,PAUSED:2,PLAYING:1,UNSTARTED:-1,VIDEO_CUED:5},e.exports=t.default}(a0,a0.exports)),a0.exports}var OO;function gge(){return OO||(OO=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=pge(),r=i(n);function i(s){return s&&s.__esModule?s:{default:s}}t.default={pauseVideo:{acceptableStates:[r.default.ENDED,r.default.PAUSED],stateChangeRequired:!1},playVideo:{acceptableStates:[r.default.ENDED,r.default.PLAYING],stateChangeRequired:!1},seekTo:{acceptableStates:[r.default.ENDED,r.default.PLAYING,r.default.PAUSED],stateChangeRequired:!0,timeout:3e3}},e.exports=t.default}(o0,o0.exports)),o0.exports}var jO;function mge(){return jO||(jO=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=dge(),r=h(n),i=fge(),s=h(i),l=hge(),c=h(l),d=gge(),u=h(d);function h(y){return y&&y.__esModule?y:{default:y}}var p=(0,r.default)("youtube-player"),v={};v.proxyEvents=function(y){var b={},_=function(j){var D="on"+j.slice(0,1).toUpperCase()+j.slice(1);b[D]=function(P){p('event "%s"',D,P),y.trigger(j,P)}},w=!0,T=!1,k=void 0;try{for(var R=c.default[Symbol.iterator](),M;!(w=(M=R.next()).done);w=!0){var E=M.value;_(E)}}catch(O){T=!0,k=O}finally{try{!w&&R.return&&R.return()}finally{if(T)throw k}}return b},v.promisifyPlayer=function(y){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,_={},w=function(D){b&&u.default[D]?_[D]=function(){for(var P=arguments.length,C=Array(P),N=0;N<P;N++)C[N]=arguments[N];return y.then(function(U){var L=u.default[D],q=U.getPlayerState(),H=U[D].apply(U,C);return L.stateChangeRequired||Array.isArray(L.acceptableStates)&&L.acceptableStates.indexOf(q)===-1?new Promise(function(V){var W=function Q(){var J=U.getPlayerState(),B=void 0;typeof L.timeout=="number"&&(B=setTimeout(function(){U.removeEventListener("onStateChange",Q),V()},L.timeout)),Array.isArray(L.acceptableStates)&&L.acceptableStates.indexOf(J)!==-1&&(U.removeEventListener("onStateChange",Q),clearTimeout(B),V())};U.addEventListener("onStateChange",W)}).then(function(){return H}):H})}:_[D]=function(){for(var P=arguments.length,C=Array(P),N=0;N<P;N++)C[N]=arguments[N];return y.then(function(U){return U[D].apply(U,C)})}},T=!0,k=!1,R=void 0;try{for(var M=s.default[Symbol.iterator](),E;!(T=(E=M.next()).done);T=!0){var O=E.value;w(O)}}catch(j){k=!0,R=j}finally{try{!T&&M.return&&M.return()}finally{if(k)throw R}}return _},t.default=v,e.exports=t.default}(t0,t0.exports)),t0.exports}var PO;function vge(){return PO||(PO=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},r=oge(),i=u(r),s=lge(),l=u(s),c=mge(),d=u(c);function u(p){return p&&p.__esModule?p:{default:p}}var h=void 0;t.default=function(p){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,b=(0,i.default)();if(h||(h=(0,l.default)(b)),v.events)throw new Error("Event handlers cannot be overwritten.");if(typeof p=="string"&&!document.getElementById(p))throw new Error('Element "'+p+'" does not exist.');v.events=d.default.proxyEvents(b);var _=new Promise(function(T){if((typeof p>"u"?"undefined":n(p))==="object"&&p.playVideo instanceof Function){var k=p;T(k)}else h.then(function(R){var M=new R.Player(p,v);return b.on("ready",function(){T(M)}),null})}),w=d.default.promisifyPlayer(_,y);return w.on=b.on,w.off=b.off,w},e.exports=t.default}(Zm,Zm.exports)),Zm.exports}var yge=vge();const Age=Pr(yge);var bge=Object.defineProperty,_ge=Object.defineProperties,Sge=Object.getOwnPropertyDescriptors,VO=Object.getOwnPropertySymbols,xge=Object.prototype.hasOwnProperty,wge=Object.prototype.propertyIsEnumerable,DO=(e,t,n)=>t in e?bge(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Yx=(e,t)=>{for(var n in t||(t={}))xge.call(t,n)&&DO(e,n,t[n]);if(VO)for(var n of VO(t))wge.call(t,n)&&DO(e,n,t[n]);return e},Kx=(e,t)=>_ge(e,Sge(t)),Ege=(e,t,n)=>new Promise((r,i)=>{var s=d=>{try{c(n.next(d))}catch(u){i(u)}},l=d=>{try{c(n.throw(d))}catch(u){i(u)}},c=d=>d.done?r(d.value):Promise.resolve(d.value).then(s,l);c((n=n.apply(e,t)).next())});function Tge(e,t){var n,r;if(e.videoId!==t.videoId)return!0;const i=((n=e.opts)==null?void 0:n.playerVars)||{},s=((r=t.opts)==null?void 0:r.playerVars)||{};return i.start!==s.start||i.end!==s.end}function BO(e={}){return Kx(Yx({},e),{height:0,width:0,playerVars:Kx(Yx({},e.playerVars),{autoplay:0,start:0,end:0})})}function Cge(e,t){return e.videoId!==t.videoId||!sge(BO(e.opts),BO(t.opts))}function kge(e,t){var n,r,i,s;return e.id!==t.id||e.className!==t.className||((n=e.opts)==null?void 0:n.width)!==((r=t.opts)==null?void 0:r.width)||((i=e.opts)==null?void 0:i.height)!==((s=t.opts)==null?void 0:s.height)||e.iframeClassName!==t.iframeClassName||e.title!==t.title}var Mge={videoId:"",id:"",className:"",iframeClassName:"",style:{},title:"",loading:void 0,opts:{},onReady:()=>{},onError:()=>{},onPlay:()=>{},onPause:()=>{},onEnd:()=>{},onStateChange:()=>{},onPlaybackRateChange:()=>{},onPlaybackQualityChange:()=>{}},Rge={videoId:It.string,id:It.string,className:It.string,iframeClassName:It.string,style:It.object,title:It.string,loading:It.oneOf(["lazy","eager"]),opts:It.objectOf(It.any),onReady:It.func,onError:It.func,onPlay:It.func,onPause:It.func,onEnd:It.func,onStateChange:It.func,onPlaybackRateChange:It.func,onPlaybackQualityChange:It.func},$0=class extends Qe.Component{constructor(e){super(e),this.destroyPlayerPromise=void 0,this.onPlayerReady=t=>{var n,r;return(r=(n=this.props).onReady)==null?void 0:r.call(n,t)},this.onPlayerError=t=>{var n,r;return(r=(n=this.props).onError)==null?void 0:r.call(n,t)},this.onPlayerStateChange=t=>{var n,r,i,s,l,c,d,u;switch((r=(n=this.props).onStateChange)==null||r.call(n,t),t.data){case $0.PlayerState.ENDED:(s=(i=this.props).onEnd)==null||s.call(i,t);break;case $0.PlayerState.PLAYING:(c=(l=this.props).onPlay)==null||c.call(l,t);break;case $0.PlayerState.PAUSED:(u=(d=this.props).onPause)==null||u.call(d,t);break}},this.onPlayerPlaybackRateChange=t=>{var n,r;return(r=(n=this.props).onPlaybackRateChange)==null?void 0:r.call(n,t)},this.onPlayerPlaybackQualityChange=t=>{var n,r;return(r=(n=this.props).onPlaybackQualityChange)==null?void 0:r.call(n,t)},this.destroyPlayer=()=>this.internalPlayer?(this.destroyPlayerPromise=this.internalPlayer.destroy().then(()=>this.destroyPlayerPromise=void 0),this.destroyPlayerPromise):Promise.resolve(),this.createPlayer=()=>{if(typeof document>"u")return;if(this.destroyPlayerPromise){this.destroyPlayerPromise.then(this.createPlayer);return}const t=Kx(Yx({},this.props.opts),{videoId:this.props.videoId});this.internalPlayer=Age(this.container,t),this.internalPlayer.on("ready",this.onPlayerReady),this.internalPlayer.on("error",this.onPlayerError),this.internalPlayer.on("stateChange",this.onPlayerStateChange),this.internalPlayer.on("playbackRateChange",this.onPlayerPlaybackRateChange),this.internalPlayer.on("playbackQualityChange",this.onPlayerPlaybackQualityChange),(this.props.title||this.props.loading)&&this.internalPlayer.getIframe().then(n=>{this.props.title&&n.setAttribute("title",this.props.title),this.props.loading&&n.setAttribute("loading",this.props.loading)})},this.resetPlayer=()=>this.destroyPlayer().then(this.createPlayer),this.updatePlayer=()=>{var t;(t=this.internalPlayer)==null||t.getIframe().then(n=>{this.props.id?n.setAttribute("id",this.props.id):n.removeAttribute("id"),this.props.iframeClassName?n.setAttribute("class",this.props.iframeClassName):n.removeAttribute("class"),this.props.opts&&this.props.opts.width?n.setAttribute("width",this.props.opts.width.toString()):n.removeAttribute("width"),this.props.opts&&this.props.opts.height?n.setAttribute("height",this.props.opts.height.toString()):n.removeAttribute("height"),this.props.title?n.setAttribute("title",this.props.title):n.setAttribute("title","YouTube video player"),this.props.loading?n.setAttribute("loading",this.props.loading):n.removeAttribute("loading")})},this.getInternalPlayer=()=>this.internalPlayer,this.updateVideo=()=>{var t,n,r,i;if(typeof this.props.videoId>"u"||this.props.videoId===null){(t=this.internalPlayer)==null||t.stopVideo();return}let s=!1;const l={videoId:this.props.videoId};if((n=this.props.opts)!=null&&n.playerVars&&(s=this.props.opts.playerVars.autoplay===1,"start"in this.props.opts.playerVars&&(l.startSeconds=this.props.opts.playerVars.start),"end"in this.props.opts.playerVars&&(l.endSeconds=this.props.opts.playerVars.end)),s){(r=this.internalPlayer)==null||r.loadVideoById(l);return}(i=this.internalPlayer)==null||i.cueVideoById(l)},this.refContainer=t=>{this.container=t},this.container=null,this.internalPlayer=null}componentDidMount(){this.createPlayer()}componentDidUpdate(e){return Ege(this,null,function*(){kge(e,this.props)&&this.updatePlayer(),Cge(e,this.props)&&(yield this.resetPlayer()),Tge(e,this.props)&&this.updateVideo()})}componentWillUnmount(){this.destroyPlayer()}render(){return Qe.createElement("div",{className:this.props.className,style:this.props.style},Qe.createElement("div",{id:this.props.id,className:this.props.iframeClassName,ref:this.refContainer}))}},Qy=$0;Qy.propTypes=Rge;Qy.defaultProps=Mge;Qy.PlayerState={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5};var To=Qy;function Ige(e){const[t,n]=x.useState(1);return x.useEffect(()=>{if(e===To.PlayerState.UNSTARTED){const r=setTimeout(()=>{n(i=>i+1)},5e3+t*2500);return()=>{clearTimeout(r)}}}),t}function Oge(e,t){x.useEffect(()=>{if(t===To.PlayerState.BUFFERING){const n=setInterval(async()=>{var r,i,s;if(navigator.onLine){clearInterval(n);const l=await((r=e.current)==null?void 0:r.getInternalPlayer().getCurrentTime());(s=(i=e.current)==null?void 0:i.getInternalPlayer())==null||s.seekTo(Math.max(l-2,0),!0)}},500);return()=>{clearInterval(n)}}})}function jge(e,t){return Oge(e,t),Ige(t)}var qn=(e=>(e.UNSTARTED="UNSTARTED",e.ENDED="ENDED",e.PLAYING="PLAYING",e.PAUSED="PAUSED",e.BUFFERING="BUFFERING",e.CUED="CUED",e))(qn||{});const NO={[To.PlayerState.UNSTARTED]:"UNSTARTED",[To.PlayerState.ENDED]:"ENDED",[To.PlayerState.PLAYING]:"PLAYING",[To.PlayerState.PAUSED]:"PAUSED",[To.PlayerState.BUFFERING]:"BUFFERING",[To.PlayerState.CUED]:"CUED"},Pge=x.forwardRef(function({video:t,autoplay:n,startAt:r,controls:i,disablekb:s,volume:l,width:c,height:d,onStateChange:u},h){const p=x.useRef(null),[v,y]=x.useState(To.PlayerState.UNSTARTED),b=jge(p,v);return nge(p,l),x.useEffect(()=>{p.current&&p.current.getInternalPlayer().setSize(c,d)},[p,c,d,t,b]),x.useImperativeHandle(h,()=>({getStatus:()=>NO[v],setSize:(_,w)=>{var T;return(T=p.current)==null?void 0:T.getInternalPlayer().setSize(_,w)},seekTo:_=>{var w;return(w=p.current)==null?void 0:w.getInternalPlayer().seekTo(_,!0)},setPlaybackSpeed:_=>{var w;return(w=p.current)==null?void 0:w.getInternalPlayer().setPlaybackRate(_)},setVolume:_=>{var w;return(w=p.current)==null?void 0:w.getInternalPlayer().setVolume(_)},getCurrentTime:()=>{var _,w,T,k;return((k=(T=(w=(_=p.current)==null?void 0:_.getInternalPlayer)==null?void 0:w.call(_))==null?void 0:T.getCurrentTime)==null?void 0:k.call(T))??Promise.resolve(0)},loadVideoById:_=>{var w;return(w=p.current)==null?void 0:w.getInternalPlayer().loadVideoById(_)},playVideo:()=>{var _;(_=p.current)==null||_.getInternalPlayer().playVideo()},pauseVideo:()=>{var _;return(_=p.current)==null?void 0:_.getInternalPlayer().pauseVideo()},getDuration:()=>{var _,w,T,k;return((k=(T=(w=(_=p.current)==null?void 0:_.getInternalPlayer)==null?void 0:w.call(_))==null?void 0:T.getDuration)==null?void 0:k.call(T))??Promise.resolve(0)}})),g.jsx(To,{title:" ",ref:p,videoId:t,opts:{width:"0",height:"0",playerVars:{autoplay:n?1:0,rel:0,fs:0,controls:i?1:0,start:r??0,end:0,disablekb:s?1:0,modestbranding:1}},onStateChange:_=>{y(_.data),u==null||u(NO[_.data])}},`${t}-${b}`)}),Vge=x.forwardRef(function({video:t,autoplay:n=!0,startAt:r,controls:i,disablekb:s,volume:l,width:c,height:d,onStateChange:u},h){const p=x.useRef(null),[v,y]=x.useState({w:c,h:d}),[b,_]=x.useState(qn.UNSTARTED);x.useEffect(()=>{const k=j=>()=>_(j),R=p.current,M=k(qn.PLAYING),E=k(qn.PAUSED),O=k(qn.ENDED);return R==null||R.addEventListener("playing",M),R==null||R.addEventListener("pause",E),R==null||R.addEventListener("ended",O),()=>{R==null||R.removeEventListener("playing",M),R==null||R.removeEventListener("pause",E),R==null||R.removeEventListener("ended",O)}},[_]),x.useEffect(()=>{u==null||u(b)},[b,u]);const w=x.useRef(null),T=x.useMemo(()=>({getStatus:()=>b,setSize:(k,R)=>y({w:k,h:R}),seekTo:k=>(p.current&&(p.current.currentTime=k),k),setPlaybackSpeed:k=>{p.current&&(p.current.playbackRate=k)},setVolume:()=>{},getCurrentTime:()=>{var k;return Promise.resolve(((k=p.current)==null?void 0:k.currentTime)??0)},playVideo:async()=>{var k;return await ud(200),(k=p.current)==null?void 0:k.play()},pauseVideo:()=>{var k;return(k=p.current)==null?void 0:k.pause()},getDuration:()=>{var k;return Promise.resolve(((k=p.current)==null?void 0:k.duration)??0)},loadVideoById:()=>{var k;clearTimeout(w.current),(k=p.current)==null||k.pause(),_(qn.UNSTARTED),w.current=setTimeout(()=>{var R;(R=p.current)==null||R.play()},300)}}),[p]);return x.useEffect(()=>{T.setSize(c,d)},[c,d,T]),x.useEffect(()=>{r!==void 0&&T.seekTo(r)},[r,T]),x.useImperativeHandle(h,()=>T),g.jsx("video",{style:{width:v.w,height:v.h},autoPlay:n,controls:i,ref:p,children:g.jsx("source",{src:t})})}),Dge="/assets/dummy-video-long-C7qbKeYK.webm",Bge="/assets/dummy-video-9QP_sTy6.webm",Nge=x.forwardRef(function({video:t,controls:n,...r},i){return g.jsx(Vge,{ref:i,video:t==="Vueyx9TBEqE"?Dge:Bge,controls:!0,...r})}),Xy=x.forwardRef((e,t)=>pi()?g.jsx(Nge,{...e,ref:t}):g.jsx(Pge,{...e,ref:t}));function cL({songData:e,background:t,width:n,height:r,children:i,...s}){return g.jsxs(Lge,{video:e.video,width:n,height:r,...s,children:[g.jsx(zge,{video:e.video,blur:!0}),t&&g.jsx(uL,{children:t}),g.jsx($ge,{children:g.jsxs(Uge,{children:[g.jsx(Hge,{children:e.title}),g.jsx("br",{}),g.jsx(qge,{children:e.artist}),g.jsx("br",{}),e.author&&g.jsxs(Gge,{children:["by",e.authorUrl?g.jsx("a",{href:e.authorUrl,children:e.author}):e.author]}),i]})})]})}const Lge=K("div",{target:"e1kx27c8"})("width:",e=>e.width,"px;top:0;height:",e=>e.height,"px;overflow-y:hidden;background:black;position:relative;"),uL=K("div",{target:"e1kx27c7"})({name:"1vuuxha",styles:"z-index:1;top:0;left:0;position:absolute;width:100%;height:100%"}),Fge=K(uL,{target:"e1kx27c6"})("background-size:cover;background-position:center center;filter:",e=>e.blur?"blur(0.5rem)":"none",";"),zge=e=>g.jsx(Fge,{style:{backgroundImage:`url('https://i3.ytimg.com/vi/${e.video}/hqdefault.jpg')`},...e}),$ge=K("div",{target:"e1kx27c5"})({name:"11t99gq",styles:"z-index:2;top:0;left:0;width:100%;height:100%;position:absolute;pointer-events:none"}),Uge=K("div",{target:"e1kx27c4"})({name:"14zbexy",styles:"position:relative;margin:0 auto;color:white;max-width:80vw;height:100%;pointer-events:none"}),Jy=K("span",{target:"e1kx27c3"})("background:rgba(0, 0, 0, 0.5);display:inline-block;backdrop-filter:blur(0.5rem);",Ot,";padding:0.5rem 2rem;margin:0 0 1rem 0;"),Hge=K(Jy,{target:"e1kx27c2"})("color:",Ue.colors.text.active,";margin-top:2rem;font-size:4.5rem;"),qge=K(Jy,{target:"e1kx27c1"})({name:"tic7nk",styles:"font-size:3.5rem"}),Gge=K(Jy,{target:"e1kx27c0"})({name:"a07gmx",styles:"font-size:2rem"});function Yge(){var p;ja(!1),Nl(!1);const e=ji(),{width:t,height:n}=mf(),[r,i]=x.useState(0),s=_f(),[l,c]=x.useState([]),{register:d}=dr({onBackspace:()=>e("menu/")});x.useEffect(()=>s.data&&c(tge(s.data)),[s.data]);const u=()=>s.data&&i(v=>(v+1)%s.data.length);if(!l.length||!t||!n)return null;const h=Fv("game/",{song:l[r].id,playlist:"All"});return g.jsxs(Dl,{children:[g.jsx(gs,{children:g.jsx("title",{children:"Jukebox | AllKaraoke.Party - Free Online Karaoke Party Game"})}),g.jsx(d2,{children:g.jsxs(cL,{width:t,height:n,songData:l[r],"data-test":"jukebox-container","data-song":l[r].id,background:g.jsx(Xy,{autoplay:!0,controls:!0,width:t,height:n,volume:(p=l[r])==null?void 0:p.volume,video:l[r].video,startAt:l[r].videoGap,onStateChange:v=>{v===qn.ENDED&&u()}}),children:[g.jsx(Wge,{...d("skip-button",u),children:"Skip"}),g.jsx(Mi,{to:h,children:g.jsx(Kge,{...d("sing-button",()=>e(h),void 0,!0),children:"Sing this song"})})]})})]})}const Kge=K(No,{target:"e1573hk21"})({name:"9gmhgo",styles:"bottom:7rem;right:2rem;width:50rem;position:absolute;font-size:1.9vw"}),Wge=K(No,{target:"e1573hk20"})({name:"1qbm012",styles:"bottom:15rem;right:2rem;width:30rem;position:absolute;font-size:1.9vw"}),Qge=K("svg",{target:"enucs170"})({name:"w3i2x3",styles:"--curve:cubic-bezier(0.65, 0, 0.45, 1);--green:#4caf50;margin-right:1rem;width:3.5rem;height:3.5rem;border-radius:50%;display:block;stroke-width:2;stroke:#fff;stroke-miterlimit:10;box-shadow:inset 0px 0px 0px var(--green);animation:fill 0.4s ease-in-out 0.4s forwards,scale 0.3s ease-in-out 0.9s both;.checkmark__circle{stroke-dasharray:166;stroke-dashoffset:166;stroke-width:2;stroke-miterlimit:10;stroke:var(--green);fill:none;animation:stroke 0.6s var(--curve) forwards;}.checkmark__check{transform-origin:50% 50%;stroke-dasharray:48;stroke-dashoffset:48;animation:stroke 0.3s var(--curve) 0.8s forwards;}@keyframes stroke{100%{stroke-dashoffset:0;}}@keyframes scale{0%,100%{transform:none;}50%{transform:scale3d(1.1, 1.1, 1);}}@keyframes fill{100%{box-shadow:inset 0px 0px 0px 3rem var(--green);}}"}),Xge=e=>g.jsx(Qge,{...e,children:g.jsxs("svg",{className:"checkmark",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 52 52",children:[g.jsx("circle",{className:"checkmark__circle",cx:"26",cy:"26",r:"25",fill:"none"}),g.jsx("path",{className:"checkmark__check",fill:"none",d:"M14.1 27.2l7.1 7.2 16.7-16.8"})]})}),U0=Wt([g.jsx("path",{fillRule:"evenodd",d:"M16.67 13.13C18.04 14.06 19 15.32 19 17v3h4v-3c0-2.18-3.57-3.47-6.33-3.87"},"0"),g.jsx("circle",{cx:"9",cy:"8",r:"4",fillRule:"evenodd"},"1"),g.jsx("path",{fillRule:"evenodd",d:"M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4c-.47 0-.91.1-1.33.24C14.5 5.27 15 6.58 15 8s-.5 2.73-1.33 3.76c.42.14.86.24 1.33.24m-6 1c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4"},"2")],"PeopleAlt"),LO=Wt(g.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"Person"),T_=Wt(g.jsx("path",{d:"M15.5 1h-8C6.12 1 5 2.12 5 3.5v17C5 21.88 6.12 23 7.5 23h8c1.38 0 2.5-1.12 2.5-2.5v-17C18 2.12 16.88 1 15.5 1m-4 21c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m4.5-4H7V4h9z"}),"PhoneIphone"),Jge=Wt([g.jsx("circle",{cx:"12",cy:"12",r:"3.2"},"0"),g.jsx("path",{d:"M9 2 7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5"},"1")],"PhotoCamera"),Zge=Wt(g.jsx("path",{d:"M3 11h8V3H3zm2-6h4v4H5zM3 21h8v-8H3zm2-6h4v4H5zm8-12v8h8V3zm6 6h-4V5h4zm0 10h2v2h-2zm-6-6h2v2h-2zm2 2h2v2h-2zm-2 2h2v2h-2zm2 2h2v2h-2zm2-2h2v2h-2zm0-4h2v2h-2zm2 2h2v2h-2z"}),"QrCode");function eme({onPreferenceSelected:e,previouslySelected:t,onBack:n,skipText:r}){const[i]=bt(oi),{register:s}=dr({onBackspace:n});return g.jsxs(g.Fragment,{children:[g.jsxs(c0,{...s("remote-mics",()=>e("remoteMics"),void 0,t==="remoteMics"),children:[g.jsxs(Kh,{children:[g.jsx(CN,{}),g.jsx(T_,{})]}),g.jsxs("div",{children:[i?"Connect other phones":"Use Smartphones",g.jsxs(Yh,{children:["Use"," ",g.jsxs("strong",{children:[g.jsx(Jge,{}),"Camera app"]})," ","to scan a"," ",g.jsxs("strong",{children:[g.jsx(Zge,{})," QR code"]})," ","that will open Remote Mic website - no need to download an app!"]})]}),g.jsx(s2,{children:"Recommended"}),g.jsxs(l0,{children:[g.jsx(U0,{}),g.jsx("strong",{children:"1-4"})]})]}),g.jsxs(c0,{...s("built-in",()=>e("built-in"),void 0,t==="built-in"),children:[g.jsxs(Kh,{children:[g.jsx(LO,{}),i?g.jsx(T_,{}):g.jsx(TN,{})]}),g.jsxs("div",{children:["This ",i?"device's":"computer's"," microphone",g.jsxs(Yh,{children:["Great to ",g.jsx("strong",{children:"test"})," the app, ",g.jsx("strong",{children:"sing alone"})," or don't care about the rivalry at the party"]})]}),g.jsxs(l0,{children:[g.jsx(LO,{}),g.jsx("strong",{children:"1"})]})]}),g.jsx("hr",{}),!i&&g.jsxs(c0,{...s("multiple-mics",()=>e("multiple-mics"),void 0,t==="multiple-mics"),children:[g.jsxs(Kh,{children:[g.jsx(Bx,{}),g.jsx(wN,{})]}),g.jsxs("div",{children:["Multiple microphones",g.jsxs(Yh,{children:["Use either ",g.jsx("strong",{children:"SingStar"})," or ",g.jsx("strong",{children:"multiple microphones"})," connected to the device for each player"]})]}),g.jsxs(l0,{children:[g.jsx(U0,{}),g.jsx("strong",{children:"2"})]})]}),g.jsxs(c0,{...s("advanced",()=>e("advanced"),void 0,t==="advanced"),children:[g.jsxs(Kh,{children:[g.jsx(Bx,{}),g.jsx(T_,{})]}),g.jsxs("div",{children:["Advanced (manual) setup",g.jsx(Yh,{children:"Assign the specific device to a player manually, e.g. if you don't have regular SingStar microphones."})]}),g.jsxs(l0,{children:[g.jsx(U0,{}),g.jsx("strong",{children:"1-4"})]})]}),g.jsx("hr",{}),g.jsx(Mi,{to:"menu/",onClick:l=>{l==null||l.preventDefault(),e("skip")},children:g.jsx(vt,{...s("skip",()=>e("skip"),void 0,t==="skip"),children:r||"Skip"})})]})}const l0=K("div",{target:"eb2r3ii3"})(Ot,";position:absolute;inset:auto 0.5rem 0.5rem auto;svg{font-size:0.9em;}gap:0.5rem;display:flex;align-items:center;justify-content:flex-end;"),Yh=K("div",{target:"eb2r3ii2"})({name:"4vipg7",styles:"padding:0 3rem 0 6rem;font-size:1.6rem;max-height:0;overflow:clip;transition:300ms;svg{font-size:1.4rem;}opacity:0"}),Kh=K("div",{target:"eb2r3ii1"})("position:relative;margin:0rem 0.6rem 0 2.5rem;transition:300ms;svg{transition:300ms;width:3.6rem;height:3.6rem;color:",Ue.colors.players[1].text,";}svg:first-of-type{top:0.6rem;left:1.25rem;position:absolute;color:",Ue.colors.players[0].text,";z-index:100;transform:scaleX(-1);}"),c0=K(vt,{target:"eb2r3ii0"})("position:relative;display:flex;align-items:center;&:hover,&[data-focused='true']{height:16.5rem;background:black;",Wd,";",Yh,"{padding-top:1.6rem;max-height:10rem;opacity:1;opacity:1;}",Kh,"{transform:scale(1.75);}}");function dL(){var e,t;return((t=(e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.includes)==null?void 0:t.call(e,"Win"))??!1}const f2=(e,t,n=!0,r=1e3/Ec.get())=>{x.useEffect(()=>{if(!n)return;const i=setInterval(()=>{const s=ur.getPlayerVolume(e)??0,l=ur.getPlayerFrequency(e)??0;t([s,Array.isArray(l)?l[0]:l])},r);return()=>{clearInterval(i)}},[e,r,t,n])},tme=(e,t=1e3/Ec.get(),n)=>{const[r,i]=x.useState([0,0]);return f2(e,i,!0,t),x.useEffect(()=>{n&&n(r)},[r,n]),r},fL=e=>x.useMemo(()=>{if(!Ue.colors.players[e])return"0, 0, 0";const t=ke(Ue.colors.players[e].text).toRgb();return`${t.r}, ${t.g}, ${t.b}`},[e]),hL=K("div",{target:"eq7cjwi0"})({name:"5jivz6",styles:"height:100%;width:100%;position:absolute;right:0;top:0;background-repeat:repeat-y;transform-origin:right;z-index:1;pointer-events:none"}),nme=x.forwardRef(({volume:e,playerNumber:t,...n},r)=>{const i=`${Math.min(1,e*20)}`,s=fL(t);return tt.getPlayer(t)?g.jsx(hL,{...n,style:{transform:`scaleX(${i})`,background:`linear-gradient(270deg, rgba(${s}, 1) 0%, rgba(${s}, 0) 100%)`},ref:r}):null}),h2=({playerNumber:e,...t})=>{const[n,r]=x.useState(),i=x.useCallback(([l])=>{if(n){const c=`${Math.min(1,l*20)}`;n.style.transform=`scaleX(${c})`}},[n]);f2(e,i);const s=fL(e);return g.jsx(hL,{...t,ref:r,style:{background:`linear-gradient(270deg, rgba(${s}, 1) 0%, rgba(${s}, 0) 100%)`}})};function rme(e,t){const n=Object.keys(t),[r,i,s]=hs([me.playerInputChanged,me.inputListChanged],()=>{var u;const d=(u=tt.getPlayer(e))==null?void 0:u.input;return d?[d,Po.getInputForPlayerSelected(d),Po.isPlayerInputInitialised(d)]:[null,null,!0]});x.useEffect(()=>{var d;if(s&&i===null){const u=n[0],h=t[u].getDefault();h&&((d=tt.getPlayer(e))==null||d.changeInput(n[0],h.channel,h.deviceId))}});const l=d=>{var p;const u=jc(n,(r==null?void 0:r.source)??n[0]),h=d!==void 0?t[u].list[d]:t[u].getDefault();(p=tt.getPlayer(e))==null||p.changeInput(u,h==null?void 0:h.channel,h==null?void 0:h.deviceId)},c=()=>{var p;if(!r)return;const d=t[r.source].list,u=i?d.findIndex(v=>v.id===i.id):0,h=ag(d,u);if(h===0)l(0);else{const v=d[h];(p=tt.getPlayer(e))==null||p.changeInput(r.source,v==null?void 0:v.channel,v==null?void 0:v.deviceId)}};return[(r==null?void 0:r.source)??null,l,i,c]}const pL=e=>{const t=e.player,[n,r,i,s]=rme(t.number,e.inputs);return g.jsxs(g.Fragment,{children:[e.blockSourceChange?g.jsxs(ame,{children:[g.jsxs("h3",{className:"ph-no-capture",children:[t.getName()," Input"]}),g.jsx("h4",{children:"(click to change)"})]}):g.jsx(ome,{...e.readonly?{}:e.register(`player-${t.number}-source`,()=>r()),label:g.jsxs("span",{className:"ph-no-capture",children:[t.getName()," Source"]}),value:n,disabled:e.readonly}),g.jsx(sme,{...e.readonly?{}:e.register(`player-${t.number}-input`,s),label:"Input",disabled:e.readonly,value:i==null?void 0:i.label,children:g.jsx(ime,{playerNumber:t.number})})]})},ime=K(h2,{target:"e6monco3"})({name:"1vx2200",styles:"opacity:0.75;width:50%;height:calc(100% - 0.5rem);margin:0.25rem"}),sme=K(Bs,{target:"e6monco2"})({name:"bjn8wh",styles:"position:relative"}),ome=K(Bs,{target:"e6monco1"})({name:"bigtx2",styles:"background:none"}),ame=K("div",{target:"e6monco0"})({name:"1laz9o6",styles:"display:flex;justify-content:space-between;align-items:flex-end"});function Zy(e=!1,t){const n=hs(me.inputListChanged,()=>{const r={...Po.getInputList()};if(t)return{[t]:r[t]};for(const i in r)r[i].list.length===0&&delete r[i];return r});return x.useEffect(()=>{e&&Po.loadMics()},[e]),n}function ug(e,t=bv){x.useEffect(()=>{tt.setMinPlayerNumber(e);const n=tt.getPlayers();if(n.length>t)for(let r=n.length;r>t;r--)tt.removePlayer(n[r-1].number);else if(n.length<e){const r=tt.getPlayers().map(s=>s.number),i=Array.from(Array(bv).keys()).filter(s=>!r.includes(s));console.log(i,r);for(let s=n.length;s<e;s++)tt.addPlayer(i.shift())}},[])}function gL(){const e=x.useRef(0);gi(me.remoteMicConnected,({id:t})=>{var r;if(console.log("useRemoteMicAutoselect",t),tt.getInputs().some(i=>i.deviceId===t)){console.log(`Input ${t} already assigned to player`);return}const n=tt.getPlayer(e.current);n?n.changeInput(ka.inputName,0,t):(r=tt.addPlayer(e.current))==null||r.changeInput(ka.inputName,0,t),e.current=(e.current+1)%bv})}function lme(e){ug(2);const t=Zy(!0),n=JE();x.useEffect(()=>{e.onSetupComplete(n==="accepted")},[n]),gL();const{register:r}=dr({onBackspace:e.onBack}),s=hs(me.playerInputChanged,()=>tt.getInputs()).filter(c=>c.source===Sa.inputName),l=hs([me.inputListChanged,me.playerInputChanged,me.playerRemoved],()=>tt.getPlayers());return g.jsxs(g.Fragment,{children:[g.jsxs(og,{fallback:g.jsx("h2",{children:"Please allow access to the microphone so we can show them."}),children:[g.jsx(QE,{}),l.map((c,d)=>g.jsx(pL,{inputs:t,player:c,register:r,readonly:d>1},c.number)),g.jsx("hr",{}),s.length>1&&a2()&&dL()&&g.jsxs("h3",{children:[g.jsx("strong",{children:"Chrome"})," is known for not handling SingStar mics well. If you notice any problems, try using an alternative browser (eg. ",g.jsx("strong",{children:"MS Edge"})," or ",g.jsx("strong",{children:"Firefox"}),")"]})]}),g.jsx(vt,{...r("back-button",e.onBack),children:"Change Input Type"}),g.jsx(vt,{...r("save-button",e.onSave),children:e.closeButtonText})]})}const cme=Wt(g.jsx("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check"),mL=Wt(g.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-2h2zm0-4h-2V7h2z"}),"Error");function p2({names:e}){return g.jsx(ume,{children:tt.getPlayers().map(t=>g.jsxs(dme,{"data-test":`mic-check-p${t.number}`,children:[g.jsx(h2,{playerNumber:t.number}),g.jsx("span",{className:"ph-no-capture",children:(e==null?void 0:e[t.number])??t.getName()})]},t.number))})}const ume=K("div",{target:"e1e3gceh1"})({name:"e7x0p4",styles:"display:flex;gap:1.25rem;div{flex:1;}"}),dme=K("div",{target:"e1e3gceh0"})({name:"186bnmk",styles:"position:relative;border:0.1rem solid white;padding:1rem 3rem;background:black;text-align:center;gap:1.25rem;font-size:2.3rem;color:white"});function fme(e){const[t,n]=x.useState(null),r=x.useRef([]),i=x.useRef(0),s=x.useCallback(([l])=>{if(r.current.push(l),r.current.length>35){const d=r.current.sort()[Math.floor(r.current.length/2)]>0;d||i.current>7?n(d):i.current++,r.current.length=0}},[e]);return f2(0,s,t!==!0),x.useEffect(()=>{r.current.length=0,i.current=0,n(null)},[e]),t}function hme(e){ug(1,1);const{register:t}=dr({onBackspace:e.onBack}),{Microphone:n}=Zy(!0,"Microphone"),r=hs([me.playerInputChanged,me.inputListChanged],()=>{var h;const d=tt.getInputs().find(p=>p.source==="Microphone"),u=Po.getInputList().Microphone.list;return d?((h=u.find(p=>p.id===qc(d)))==null?void 0:h.label)??"":""}),i=d=>{tt.getPlayers().forEach(u=>u.changeInput(Sa.inputName,d.channel,d.deviceId))},s=()=>{if(r===""){const d=n.getDefault();d&&i(d)}};x.useEffect(s,[]),gi([me.inputListChanged,me.playerRemoved],s);const l=()=>{const d=n.list.findIndex(u=>u.label===r);if(d>-1){const u=n.list[ag(n.list,d)];i(u)}},c=fme(r);return x.useEffect(()=>{e.onSetupComplete(!!r&&!!c)},[r,c]),g.jsxs(g.Fragment,{children:[g.jsxs(og,{fallback:g.jsx("h2",{children:"Please allow access to the microphone so the default one can be selected."}),children:[!r&&g.jsx("h3",{children:"The default device is being selected."}),r&&g.jsxs(g.Fragment,{children:[g.jsxs(pme,{children:[g.jsx("h3",{children:"You'll sing using"}),g.jsx("h4",{children:"(click to change)"})]}),g.jsx(Bs,{...t("selected-mic",l),label:"Mic",value:r}),g.jsxs(gme,{children:[c===!0&&g.jsxs(g.Fragment,{children:[g.jsx("h3",{children:"Microphone is audible"}),g.jsx(C_,{children:g.jsx(vme,{})})]}),c===!1&&g.jsxs(g.Fragment,{children:[g.jsx("h3",{children:"Microphone is not audible"}),g.jsx(C_,{children:g.jsx(mme,{})})]}),c===null&&g.jsxs(g.Fragment,{children:[g.jsx("h3",{children:"Make some noise to the microphone"}),g.jsx(C_,{children:g.jsx(lg,{size:"1em"})})]})]}),c===!1&&g.jsx("h4",{children:"Make some noise to the microphone. If that doesn't work, try using another microphone."})]}),g.jsx(p2,{}),c===!0&&g.jsxs("h4",{children:["Built-in microphones can pick up music from the game. For more accurate scores, try using your"," ",g.jsx("button",{onClick:()=>e.changePreference("remoteMics"),children:"smartphone as a microphone"}),"."]})]}),g.jsx(vt,{...t("back-button",e.onBack),children:"Change Input Type"}),g.jsx(vt,{...t("save-button",e.onSave,void 0,!0,{disabled:!r}),disabled:!r,children:e.closeButtonText})]})}const pme=K("div",{target:"e19x30ho4"})({name:"1laz9o6",styles:"display:flex;justify-content:space-between;align-items:flex-end"}),gme=K("div",{target:"e19x30ho3"})({name:"19mh0x6",styles:"display:flex;align-items:center;justify-content:flex-end"}),C_=K("div",{target:"e19x30ho2"})({name:"1wxh51d",styles:"width:4rem;height:3rem;display:flex;align-items:center;justify-content:flex-end"}),mme=K(mL,{target:"e19x30ho1"})({name:"72zlrs",styles:"&&{width:2em;height:2em;}color:red"}),vme=K(cme,{target:"e19x30ho0"})({name:"17t2lqr",styles:"&&{width:2em;height:2em;}color:white"});function yme(e){ug(2);const t=Zy(!0,"Microphone"),n=JE();x.useEffect(()=>{e.onSetupComplete(n==="accepted")},[n]),x.useEffect(()=>{tt.getPlayers().forEach(s=>{s.input.source!=="Microphone"&&s.changeInput("Microphone",0)})},[]);const{register:r}=dr({onBackspace:e.onBack}),i=hs([me.inputListChanged,me.playerInputChanged,me.playerRemoved],()=>tt.getPlayers());return g.jsxs(g.Fragment,{children:[g.jsxs(og,{fallback:g.jsx("h2",{children:"Please allow access to the microphone so we can show them."}),children:[i.map((s,l)=>g.jsx(pL,{inputs:t,player:s,register:r,readonly:l>1,blockSourceChange:!0},s.number)),g.jsx("hr",{})]}),g.jsx(vt,{...r("back-button",e.onBack),children:"Change Input Type"}),g.jsx(vt,{...r("save-button",e.onSave),children:e.closeButtonText})]})}function Ame(e){const{register:t}=dr({onBackspace:e.onBack});return g.jsxs(g.Fragment,{children:[g.jsx(vt,{...t("singstar-mics",()=>e.changePreference("singstar-mics")),children:"SingStar microphones"}),g.jsx(vt,{...t("different-mics-button",()=>e.changePreference("different-mics")),children:"Multiple different microphones"}),g.jsx("hr",{}),g.jsx(vt,{...t("back-button",e.onBack),children:"Change Input Type"})]})}function bme(e){var s,l;ug(2);const{register:t}=dr({onBackspace:e.onBack});gL();const n=hs([me.inputListChanged,me.playerInputChanged,me.playerRemoved],()=>tt.getInputs().map(c=>c.source==="Remote Microphone"?c:null).map(c=>c?Po.getInputForPlayerSelected(c):null)),r=()=>{e.onSave()},i=!!((s=n[0])!=null&&s.label)&&!!((l=n[1])!=null&&l.label);return x.useEffect(()=>{e.onSetupComplete(i)},[i]),g.jsxs(g.Fragment,{children:[g.jsx(QE,{}),g.jsx("h4",{children:"You can connect multiple phones in advance."}),g.jsx("h4",{children:"You will be able to connect phones later."}),g.jsx(p2,{}),g.jsx(vt,{...t("back-button",e.onBack),children:"Change Input Type"}),g.jsx(vt,{...t("save-button",r,void 0,!0),children:e.closeButtonText})]})}function _me(e){ug(2);const{register:t}=dr({onBackspace:e.onBack}),{Microphone:n}=Zy(!0,"Microphone"),[r,i]=x.useState(!1),s=hs([me.playerInputChanged,me.inputListChanged],()=>{const u=tt.getInputs(),h=[...new Set(u.map(y=>y.deviceId))].length===1,p=!u.find(y=>y.source!=="Microphone"),v=!u.find(y=>{var b;return((b=Po.getInputForPlayerSelected(y))==null?void 0:b.preferred)===void 0});return h&&p&&v});x.useEffect(()=>(s&&ur.startMonitoring(),()=>{ur.stopMonitoring()}),[s]);const l=()=>{e.onSave()},[c,d]=x.useState(!1);return gi(me.inputListChanged,u=>{const h=n.list.filter(p=>p.preferred!==void 0);h.length===2&&h[0].deviceId===h[1].deviceId&&h.forEach(p=>{var v;(v=tt.getPlayer(p.preferred))==null||v.changeInput(Sa.inputName,p.channel,p.deviceId)}),u||d(!0)}),x.useEffect(()=>{e.onSetupComplete(s)},[s]),x.useEffect(()=>{if(s)i(!1);else{const u=setTimeout(()=>i(!0),2500);return()=>clearTimeout(u)}},[s]),g.jsxs(g.Fragment,{children:[g.jsxs(og,{fallback:g.jsx("h2",{children:"Please allow access to the microphone so we can find SingStar ones."}),children:[!s&&g.jsxs(g.Fragment,{children:[g.jsxs("h3",{children:[g.jsx(lg,{size:"0.85em"})," Connect your SingStar microphones."]}),g.jsx("h4",{"data-test":"setup-not-completed",children:"It can take a couple of seconds to detect after you connect them."}),c&&g.jsx("h4",{children:g.jsxs("h4",{"data-test":"list-change-info",children:["Available microphones list has changed, but no SingStar mics were found. Try"," ",g.jsx("button",{onClick:()=>e.changePreference("advanced"),children:"Advanced"})," setup."]})}),r&&g.jsxs(g.Fragment,{children:[!c&&g.jsxs(FO,{"data-test":"advanced-tip",children:["If they don't get detected, try"," ",g.jsx("button",{onClick:()=>e.changePreference("advanced"),children:"Advanced"})," section in the previous menu."]}),a2()&&dL()&&g.jsxs(FO,{children:[g.jsx("strong",{children:"Chrome"})," is known for not handling SingStar mics well. If you notice any problems, try using an alternative browser (eg. ",g.jsx("strong",{children:"MS Edge"})," or ",g.jsx("strong",{children:"Firefox"}),")"]})]})]}),s&&g.jsxs(g.Fragment,{children:[g.jsxs("h2",{"data-test":"setup-completed",children:[g.jsx("strong",{children:"SingStar"})," microphone connected!"]}),g.jsx(p2,{names:["Blue","Red"]})]})]}),g.jsx(vt,{...t("back-button",e.onBack),children:"Change Input Type"}),g.jsx(vt,{...t("save-button",l,void 0,!0,{disabled:!s}),"data-test":"save-button",children:e.closeButtonText})]})}const FO=K("h4",{target:"ejfctyg0"})({name:"3v8j4h",styles:"background:darkred;padding:1rem"});function Sme(e){return x.useEffect(()=>{e.onSave()},[]),null}const vL="Previously selected input type",xme=st.local.getItem(vL);function g2({onFinish:e,closeButtonText:t,playerNames:n,onBack:r,skipText:i,smooth:s=!0}){const[l,c]=bt(fV),[d,u]=x.useState(l==="skip"?null:l),[h,p]=x.useState(!1);x.useEffect(()=>{const _=ur.monitoringStarted();return ur.startMonitoring(),()=>{!_&&ur.stopMonitoring()}},[]);const v=(..._)=>{s?jp(()=>{vf.flushSync(()=>{u(..._)})}):u(..._)},y=_=>()=>{c(_==="skip"?l??"skip":_),_&&(st.local.setItem(vL,_),er.capture("sourcePreferenceSet",{source:_})),e==null||e(_)},b=()=>{jp(()=>{u(null),p(!1)})};return g.jsxs(g.Fragment,{children:[g.jsx(jt.Header,{children:h?g.jsxs(g.Fragment,{children:[g.jsx(Xge,{})," Setup completed!"]}):"How do you want to sing?"}),(d===null||d==="skip")&&g.jsx(eme,{onPreferenceSelected:v,previouslySelected:xme,onBack:r,skipText:i}),d==="remoteMics"&&g.jsx(bme,{onSetupComplete:p,onBack:b,onSave:y("remoteMics"),closeButtonText:t,changePreference:u}),d==="multiple-mics"&&g.jsx(Ame,{onSetupComplete:p,onBack:b,closeButtonText:t,changePreference:u}),d==="singstar-mics"&&g.jsx(_me,{onSetupComplete:p,onBack:b,onSave:y("singstar-mics"),closeButtonText:t,changePreference:u}),d==="different-mics"&&g.jsx(yme,{onSetupComplete:p,onBack:b,onSave:y("singstar-mics"),closeButtonText:t,changePreference:u}),d==="built-in"&&g.jsx(hme,{onSetupComplete:p,onBack:b,onSave:y("built-in"),closeButtonText:t,changePreference:u}),d==="advanced"&&g.jsx(lme,{onSave:y("advanced"),onSetupComplete:p,onBack:b,closeButtonText:t,changePreference:u}),d==="skip"&&g.jsx(Sme,{onSetupComplete:p,onBack:b,onSave:y("skip"),closeButtonText:t,changePreference:u})]})}function wme(){const e=ji();return g.jsxs(Da,{children:[g.jsx(gs,{children:g.jsx("title",{children:"Select Input | AllKaraoke.Party - Free Online Karaoke Party Game"})}),g.jsx(g2,{onFinish:()=>e("menu/"),closeButtonText:"Go to main menu"})]})}const Eme=({error:e,resetError:t})=>g.jsxs(Da,{supportedBrowsers:!0,children:[g.jsxs("h1",{children:[g.jsx(bf,{fontSize:"large"})," An error occurred :("]}),"message"in e?g.jsxs(g.Fragment,{children:[g.jsx("h3",{children:"The game crashed with following error"}),g.jsx(Tme,{children:e.message})]}):g.jsx("h3",{children:"The game crashed"}),g.jsxs("h3",{children:["Help fix it by reporting what exactly has happened at"," ",g.jsx("a",{href:"https://github.com/Asvarox/allkaraoke",target:"_blank",rel:"noreferrer",children:"GitHub"})," ","or"," ",g.jsx("a",{href:"https://www.facebook.com/allkaraoke.party",target:"_blank",rel:"noreferrer",children:"Facebook"})]}),g.jsx(vt,{onClick:t,children:"Reset Error"}),g.jsx("h4",{children:"If that doesn't help"}),g.jsx(vt,{onClick:()=>{var n;return global.location.href=(n=global.location)==null?void 0:n.origin},children:"Reload the game"}),g.jsx("h4",{children:"If that doesn't help"}),g.jsx(vt,{onClick:()=>{var n;global.confirm("Are you sure? It will delete all custom songs and scores. Before doing that, try opening the game in an private window or another browser to make sure it will actually help")&&(st.session.clear(),st.local.clear(),sp.clear(),global.location.href=(n=global.location)==null?void 0:n.origin)},children:"Clear all data"})]}),Tme=K("span",{target:"e10ztnls0"})({name:"1jmtlcm",styles:"color:white;font-family:monospace"});function Cme(){Nl(!1);const e=_f();return x.useEffect(()=>{if(e.data){const t={};(async()=>{for(const n of e.data){if(n.realBpm)continue;const r=[`lookup=song:${encodeURIComponent(n.title)}+artist:${encodeURIComponent(n.artist)}`,"type=both","api_key=undefined"].join("&"),s=await(await fetch(`https://api.getsongbpm.com/search/?${r}`)).json();t[n.id]=Array.isArray(s.search)&&s.search[0]||null}console.log(t)})()}},[e.data]),g.jsx(g.Fragment,{children:"Copy resulting object to `scripts/scraped-bpm-data.json` file and run fillMetadata script"})}function kme(){const e=ji(),t=()=>e("menu/");return g.jsxs(g.Fragment,{children:[g.jsx(gs,{children:g.jsx("title",{children:"Select Languages | AllKaraoke.Party - Free Online Karaoke Party Game"})}),g.jsx(d2,{children:g.jsx(LN,{onClose:t,closeText:"Return to Main Menu"})})]})}function yL(){const[e]=bt(vw);x.useEffect(()=>{try{e&&document.body.requestFullscreen().catch(console.info)}catch{}},[])}let k_=0;function AL(){x.useEffect(()=>(document.body.classList.add("blockOverflow"),document.documentElement.classList.add("blockOverflow"),k_++,()=>{k_--,k_===0&&(document.body.classList.remove("blockOverflow"),document.documentElement.classList.remove("blockOverflow"))}),[])}const Mme=Wt(g.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2M7.5 18c-.83 0-1.5-.67-1.5-1.5S6.67 15 7.5 15s1.5.67 1.5 1.5S8.33 18 7.5 18m0-9C6.67 9 6 8.33 6 7.5S6.67 6 7.5 6 9 6.67 9 7.5 8.33 9 7.5 9m4.5 4.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m4.5 4.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m0-9c-.83 0-1.5-.67-1.5-1.5S15.67 6 16.5 6s1.5.67 1.5 1.5S17.33 9 16.5 9"}),"Casino");function Rme({setFilters:e,filters:t,keyboardControl:n,visible:r,setVisible:i}){const s=x.useRef(null),[l,c]=x.useState(!1),d=v=>{e(y=>({...y,search:v}))};ri("down",()=>{var v;(v=s.current)==null||v.blur()},{enabled:l,enableOnTags:["INPUT"]});const h=v=>{v.stopPropagation(),v.preventDefault(),d(v.key)};ri(bx,v=>{h(v),i(!0)},{enabled:!t.search&&n});const p=x.useCallback(v=>{n&&d(v)},[n]);return gi(me.remoteSongSearch,p),ri(bx,v=>{var y;h(v),(y=s.current)==null||y.focus()},{enabled:!l&&n},[t.search]),ri("Backspace",v=>{var y;(y=s.current)==null||y.focus()},{enabled:!l&&n},[t.search]),x.useEffect(()=>{l||i(!!t.search)},[l,t.search,i]),!t.search&&!r?null:g.jsx(Ime,{"data-test":"song-list-search",children:g.jsx(Ome,{large:!0,children:g.jsx("form",{"data-test":"filters-search-form",onSubmit:v=>{var y;v.preventDefault(),(y=s.current)==null||y.blur()},children:g.jsx(fu,{onFocus:()=>c(!0),onBlur:()=>c(!1),onKeyDown:v=>{var y;v.key==="Backspace"&&((y=t.search)==null?void 0:y.length)===0&&i(!1)},focused:l,autoFocus:!0,label:"Search",value:t.search??"",onChange:d,ref:s,"data-test":"filters-search"})})})})}const Ime=K("div",{target:"ektgxsz1"})({name:"t46wvs",styles:"background:rgba(0, 0, 0, 0.7);padding:2rem;font-size:3rem;box-sizing:border-box;display:flex;flex-direction:row;gap:2rem;position:fixed;z-index:200;top:4.5rem;left:30rem;right:30rem"}),Ome=K("div",{target:"ektgxsz0"})("flex:",e=>e.large?1.5:1,";");function jme({onRandom:e,setFilters:t,filters:n,keyboardControl:r}){const[i,s]=x.useState(!1),l=()=>{t(c=>({...c,search:""}))};return g.jsxs(g.Fragment,{children:[g.jsxs(Pme,{children:[g.jsx(Zd,{title:"Search",place:"left",children:g.jsx(zO,{onClick:()=>i?l():s(!0),"data-test":"search-song-button",children:g.jsx(e2,{})})}),g.jsx(Zd,{title:"Pick random",place:"left",children:g.jsx(zO,{onClick:e,"data-test":"random-song-button",children:g.jsx(Mme,{})})})]}),g.jsx(Rme,{setFilters:t,filters:n,visible:i,setVisible:s,keyboardControl:r})]})}const zO=K(No,{target:"eie1eis1"})("box-shadow:inset 0 0 2px 2px ",Ue.colors.text.active,";background:black;width:7.5rem;height:7.5rem;border-radius:50%;display:flex;align-items:center;justify-content:center;svg{width:4.5rem;height:4.5rem;}"),Pme=K("div",{target:"eie1eis0"})({name:"1x0sh4s",styles:"pointer-events:none;position:fixed;display:flex;flex-direction:column;align-items:center;justify-content:center;bottom:2.5rem;right:2.5rem;z-index:100;gap:2rem"});function bL({videoId:e,...t}){return g.jsx(Nme,{src:`https://img.youtube.com/vi/${e}/default.jpg`,alt:`Thumbnail image for YouTube video ${e}`,...t})}function Vme({videoId:e,...t}){const n=Zte(e)??e,[r,i]=x.useState(!0);x.useLayoutEffect(()=>{i(l=>!l)},[e]);const[s]=bt(Vs);return s==="low"?null:g.jsxs(Dme,{...t,children:[g.jsx($O,{videoId:r?e:n,visible:r}),g.jsx($O,{videoId:r?n:e,visible:!r}),g.jsx(Bme,{videoId:n})]})}const Dme=K("div",{target:"e1lv5ws3"})({name:"k44s62",styles:"position:relative;overflow:hidden;background:black"}),Bme=K(bL,{target:"e1lv5ws2"})({name:"6dhm9o",styles:"visibility:hidden"}),$O=K(bL,{target:"e1lv5ws1"})("position:absolute;transition:opacity 300ms;opacity:",e=>e.visible?1:0,";"),Nme=K("img",{target:"e1lv5ws0"})({name:"4uwt2b",styles:"width:100%;height:100%;object-fit:cover"});function Lme(e,t,n="mousedown",r={}){Wte(n,i=>{const s=i.target;if(!s||!s.isConnected)return;(Array.isArray(e)?e.filter(c=>!!c.current).every(c=>c.current&&!c.current.contains(s)):e.current&&!e.current.contains(s))&&t(i)},void 0,r)}function Fme({active:e,closePlaylist:t,playlists:n,selectedPlaylist:r,setSelectedPlaylist:i}){const{register:s,focused:l,focusElement:c}=dr({enabled:e,additionalHelp:{vertical:void 0,"horizontal-vertical":null}}),d=x.useRef(null);return Lme(d,()=>{t()}),gf({left:()=>t("left"),right:()=>t("right")},e),x.useEffect(()=>{c(`playlist-${r}`)},[r]),x.useEffect(()=>{if(l){const u=n.find(h=>`playlist-${h.name}`===l);u&&i(u.name)}},[l,n]),g.jsx(zme,{"data-test":"song-list-playlists",active:e,ref:d,children:n.map(({Wrapper:u,...h})=>{const p=g.jsx($me,{className:"shadow-none rounded-none","data-selected":`playlist-${h.name}`===l,"data-active":e,...s(`playlist-${h.name}`,()=>c(`playlist-${h.name}`),void 0,h.name===r),children:h.display??h.name},h.name);return u?g.jsx(u,{active:e,focused:`playlist-${h.name}`===l,children:p},h.name):p})})}const zme=K("div",{target:"emspgv91"})("background:rgba(0, 0, 0, ",e=>e.active?.75:.5,");width:100vh;height:var(--song-sidebar-weight);transform-origin:top right;transform:rotate(-90deg);position:absolute;z-index:200;left:-100vh;top:0;box-sizing:border-box;display:flex;flex-direction:row-reverse;gap:0;h2{",Ot,";margin:0;}"),$me=K(No,{target:"emspgv90"})("font-size:2.3rem;justify-self:stretch;flex-grow:1;&[data-focused='false'][data-active='true']{background-color:transparent;}&[data-selected='true']{",Nte,";}&[data-selected='false'][data-active='false']{opacity:0.75;}padding:1.5rem 1rem;"),m2=e=>{const[t,n]=x.useState(null),r=qd(e),i=async()=>{n(await gD(e))};return x.useEffect(()=>{i()},[r]),gi(me.songStatStored,i),t},Ume=e=>async(t,n,r,i)=>{const s=qd(e),l=await gD(e),c=l.scores.map(u=>{if(u.setup.id!==t)return u;const h=u.scores.map(p=>p.name!==r||p.score!==n?p:{name:i.trim(),score:n});return{...u,scores:h}}),d={...l,scores:c};await mD(e,d),me.songScoreUpdated.dispatch(s,d,i.trim())},Hme=JSON.parse(`{
  "af": [
    "Persian Dari",
    "Pashto"
  ],
  "al": [
    "Albanian"
  ],
  "dz": [
    "Arabic",
    "Berber"
  ],
  "ad": [
    "Catalan"
  ],
  "ao": [
    "Portuguese"
  ],
  "ag": [
    "English"
  ],
  "ar": [
    "Spanish"
  ],
  "am": [
    "Armenian"
  ],
  "au": [
    "English"
  ],
  "at": [
    "German"
  ],
  "az": [
    "Azerbaijani"
  ],
  "bs": [
    "English"
  ],
  "bh": [
    "Arabic"
  ],
  "bd": [
    "Bengali"
  ],
  "bb": [
    "English"
  ],
  "by": [
    "Belarusian",
    "Russian"
  ],
  "be": [
    "Dutch",
    "French",
    "German"
  ],
  "bz": [
    "English"
  ],
  "dy": [
    "French"
  ],
  "bt": [
    "Dzongkha"
  ],
  "bo": [
    "Spanish",
    "Aymara",
    "Araona",
    "Baure",
    "Bsiro Chiquitano",
    "Canichana",
    "Cavinea",
    "Cayubaba",
    "Chcobo",
    "Chimn",
    "Ese Ejja",
    "Guaran",
    "Guarasuwe",
    "Guarayu",
    "Itonama",
    "Leco",
    "Machajuyai",
    "Machineri",
    "Maropa",
    "Mojeo",
    "Mojeo",
    "Mor",
    "Mosetn",
    "Movima",
    "Pacawara",
    "Puquina",
    "Quechua",
    "Sirion",
    "Tacana",
    "Tapiet",
    "Toromona",
    "Uru-Chipaya",
    "Weenhayek",
    "Yaminawa",
    "Yuki",
    "Yuracar",
    "Zamuco"
  ],
  "ba": [
    "Bosnian",
      "Croatian",
      "Serbian"
  ],
  "bw": [
    "English"
  ],
  "br": [
    "Portuguese"
  ],
  "bn": [
    "Malay"
  ],
  "bg": [
    "Bulgarian"
  ],
  "hv": [
    "French"
  ],
  "bi": [
    "French",
    "Kirundi",
    "English"
  ],
  "kh": [
    "Khmer"
  ],
  "cm": [
    "English",
    "French"
  ],
  "ca": [
    "English",
    "French"
  ],
  "cv": [
    "Portuguese"
  ],
  "cf": [
    "French",
    "Sango"
  ],
  "td": [
    "Arabic",
    "French"
  ],
  "cl": [
    "Spanish"
  ],
  "cn": [
    "Chinese"
  ],
  "cx": [
    "English",
    "Chinese",
    "Malay"
  ],
  "cc": [
    "English",
    "Cocos Malay"
  ],
  "co": [
    "Spanish"
  ],
  "km": [
    "Arabic",
    "Comorian",
    "French"
  ],
  "cd": [
    "French"
  ],
  "cg": [
    "French"
  ],
  "ck": [
    "English",
    "Cook Islands Mori"
  ],
  "cr": [
    "Spanish"
  ],
  "hr": [
    "Croatian"
  ],
  "cu": [
    "Spanish"
  ],
  "cy": [
    "Turkish"
  ],
  "cz": [
    "Czech",
    "Slovak"
  ],
  "dk": [
    "Danish"
  ],
  "dj": [
    "Arabic",
    "French"
  ],
  "dm": [
    "English"
  ],
  "do": [
    "Spanish"
  ],
  "tl": [
    "Portuguese",
    "Tetum"
  ],
  "ec": [
    "Spanish",
    "Quechua"
  ],
  "eg": [
    "Arabic"
  ],
  "sv": [
    "Spanish"
  ],
  "gq": [
    "French",
    "Portuguese",
    "Spanish"
  ],
  "er": [
    "Tigrinya"
  ],
  "ee": [
    "Estonian"
  ],
  "sz": [
    "English",
    "Swazi"
  ],
  "et": [
    "Afar",
    "Amharic",
    "Oromo",
    "Somali",
    "Tigrinya"
  ],
  "fj": [
    "English",
    "Fijian",
    "Fiji Hindi"
  ],
  "fi": [
    "Finnish",
    "Swedish"
  ],
  "fx": [
    "French"
  ],
  "ga": [
    "French"
  ],
  "gm": [
    "English"
  ],
  "ge": [
    "Ossetian",
    "Russian"
  ],
  "de": [
    "German"
  ],
  "gh": [
    "English"
  ],
  "gr": [
    "Greek"
  ],
  "gd": [
    "English"
  ],
  "gt": [
    "Spanish"
  ],
  "gn": [
    "French"
  ],
  "gw": [
    "Portuguese"
  ],
  "gy": [
    "English"
  ],
  "ht": [
    "French",
    "Creole"
  ],
  "hn": [
    "Spanish"
  ],
  "hu": [
    "Hungarian"
  ],
  "is": [
    "Icelandic"
  ],
  "in": [
    "Hindi",
    "English"
  ],
  "id": [
    "Indonesian"
  ],
  "ir": [
    "Persian"
  ],
  "iq": [
    "Arabic",
    "Kurdish"
  ],
  "ie": [
    "Irish",
    "English"
  ],
  "il": [
    "Hebrew"
  ],
  "it": [
    "Italian"
  ],
  "ci": [
    "French"
  ],
  "jm": [
    "English"
  ],
  "jp": [
    "Japanese"
  ],
  "jo": [
    "Arabic"
  ],
  "kz": [
    "Kazakh",
    "Russian"
  ],
  "ke": [
    "English",
    "Swahili"
  ],
  "ki": [
    "English",
    "Gilbertese"
  ],
  "kp": [
    "Korean"
  ],
  "kr": [
    "Korean"
  ],
  "xk": [
    "Albanian",
    "Serbian"
  ],
  "kw": [
    "Arabic"
  ],
  "kg": [
    "Kyrgyz",
    "Russian"
  ],
  "la": [
    "Lao"
  ],
  "lv": [
    "Latvian"
  ],
  "lb": [
    "Arabic"
  ],
  "ls": [
    "Sotho",
    "English"
  ],
  "lr": [
    "English"
  ],
  "ly": [
    "Arabic"
  ],
  "li": [
    "German"
  ],
  "lt": [
    "Lithuanian"
  ],
  "lu": [
    "French",
    "German",
    "Luxembourgish"
  ],
  "mg": [
    "French",
    "Malagasy"
  ],
  "mw": [
    "English",
    "Chichewa"
  ],
  "my": [
    "Malay"
  ],
  "mv": [
    "Dhivehi"
  ],
  "ml": [
    "Bambara",
    "Bobo",
    "Bozo",
    "Dogon",
    "Fula",
    "Hassaniya",
    "Kassonke",
    "Maninke",
    "Minyanka",
    "Senufo",
    "Songhay",
    "Soninke",
    "Tamasheq"
  ],
  "mt": [
    "Italian"
  ],
  "mh": [
    "English",
    "Marshallese"
  ],
  "mr": [
    "Arabic"
  ],
  "mu": [
    "English",
    "Morisien"
  ],
  "mx": [
    "Spanish"
  ],
  "fm": [
    "English"
  ],
  "md": [
    "Moldovan",
    "Russian",
    "Ukrainian"
  ],
  "mc": [
    "French"
  ],
  "mn": [
    "Mongolian"
  ],
  "me": [
    "Montenegrin"
  ],
  "ma": [
    "Arabic",
    "Berber"
  ],
  "mz": [
    "Portuguese"
  ],
  "mm": [
    "Burmese"
  ],
  "na": [
    "English"
  ],
  "nr": [
    "English",
    "Nauruan"
  ],
  "np": [
    "Nepali"
  ],
  "nl": [
    "Dutch"
  ],
  "nz": [
    "English",
    "Maori"
  ],
  "ni": [
    "Spanish"
  ],
  "ne": [
    "French"
  ],
  "ng": [
    "English"
  ],
  "nu": [
    "English",
    "Niuean"
  ],
  "nf": [
    "English",
    "Norfuk"
  ],
  "mk": [
    "Macedonian",
    "Albanian"
  ],
  "no": [
    "Norwegian",
    "Sami"
  ],
  "om": [
    "Arabic"
  ],
  "pk": [
    "Urdu",
    "English"
  ],
  "pw": [
    "English",
    "Palauan"
  ],
  "ps": [
    "Arabic"
  ],
  "pa": [
    "Spanish"
  ],
  "pg": [
    "English",
    "Hiri Motu",
    "Tok Pisin"
  ],
  "py": [
    "Spanish",
    "Guaran"
  ],
  "pe": [
    "Spanish",
    "Quechua",
    "Aymara",
    "Ashninka"
  ],
  "ph": [
    "Filipino",
    "English"
  ],
  "pl": [
    "Polish"
  ],
  "pt": [
    "Portuguese"
  ],
  "qa": [
    "Arabic"
  ],
  "ro": [
    "Romanian"
  ],
  "su": [
    "Russian"
  ],
  "rw": [
    "English",
    "French",
    "Kinyarwanda",
    "Swahili"
  ],
  "eh": [
    "Arabic"
  ],
  "kn": [
    "English"
  ],
  "lc": [
    "English"
  ],
  "vc": [
    "English"
  ],
  "ws": [
    "English",
    "Samoan"
  ],
  "sm": [
    "Italian"
  ],
  "st": [
    "Portuguese"
  ],
  "sa": [
    "Arabic"
  ],
  "sn": [
    "French"
  ],
  "yu": [
    "Serbian"
  ],
  "sc": [
    "English",
    "French",
    "Creole"
  ],
  "sl": [
    "English"
  ],
  "sg": [
    "English",
    "Malay",
    "Chinese",
    "Tamil"
  ],
  "sk": [
    "Slovak"
  ],
  "si": [
    "Slovene"
  ],
  "sb": [
    "English"
  ],
  "so": [
    "Arabic",
    "English",
    "Somali"
  ],
  "za": [
    "Afrikaans",
    "English",
    "Ndebele",
    "Sotho",
    "Swazi",
    "Tsonga",
    "Tswana",
    "Venda",
    "Xhosa",
    "Zulu"
  ],
  "ss": [
    "English"
  ],
  "es": [
    "Spanish"
  ],
  "lk": [
    "Sinhala",
    "Tamil"
  ],
  "sd": [
    "Arabic",
    "English"
  ],
  "sr": [
    "Dutch"
  ],
  "se": [
    "Swedish"
  ],
  "ch": [
    "French",
    "German",
    "Italian",
    "Romansh"
  ],
  "sy": [
    "Arabic"
  ],
  "tw": [
    "Chinese"
  ],
  "tj": [
    "Tajik"
  ],
  "tz": [
    "Swahili",
    "English"
  ],
  "th": [
    "Thai"
  ],
  "tg": [
    "French"
  ],
  "tk": [
    "English",
    "Tokelauan"
  ],
  "to": [
    "English",
    "Tongan"
  ],
  "tt": [
    "English"
  ],
  "tn": [
    "Arabic"
  ],
  "tr": [
    "Turkish"
  ],
  "tm": [
    "Turkmen"
  ],
  "tv": [
    "Tuvaluan",
    "English"
  ],
  "ug": [
    "English",
    "Swahili"
  ],
  "ua": [
    "Ukrainian"
  ],
  "ae": [
    "Arabic"
  ],
  "uk": [
    "English"
  ],
  "us": [
    "English"
  ],
  "uy": [
    "Spanish"
  ],
  "uz": [
    "Uzbek"
  ],
  "vu": [
    "English",
    "French",
    "Bislama"
  ],
  "va": [
    "Italian"
  ],
  "ve": [
    "Spanish"
  ],
  "vn": [
    "Vietnamese"
  ],
  "ye": [
    "Arabic"
  ],
  "zm": [
    "English"
  ],
  "zw": [
    "Chewa",
    "Chibarwe",
    "English",
    "Kalanga",
    "Khoisan",
    "Nambya",
    "Ndau",
    "Ndebele",
    "Shangani",
    "Shona",
    "Sotho",
    "Tonga",
    "Tswana",
    "Venda",
    "Xhosa"
  ]
}`),qme=["US","GB"];function Gme({song:e,forceFlag:t,...n}){const r=e.language[0],i=x.useMemo(()=>{var s;return e.artistOrigin?((s=Hme[e.artistOrigin.toLowerCase()])==null?void 0:s.includes(r))??t:!1},[e.artistOrigin,r,t]);return g.jsx(g.Fragment,{children:t&&e.artistOrigin?g.jsx(Pc,{isocode:e.artistOrigin,...n}):i&&!qme.includes(e.artistOrigin)?g.jsx(Pc,{isocode:e.artistOrigin,...n}):e.language[0]!=="English"?g.jsx(Pc,{language:e.language,...n}):null})}const Yme=Wt(g.jsx("path",{d:"M7.25 12.5 4.75 9H3.5v6h1.25v-3.5L7.3 15h1.2V9H7.25zM9.5 15h4v-1.25H11v-1.11h2.5v-1.26H11v-1.12h2.5V9h-4zm9.75-6v4.5h-1.12V9.99h-1.25v3.52h-1.13V9H14.5v5c0 .55.45 1 1 1h4c.55 0 1-.45 1-1V9z"}),"FiberNewOutlined"),Kme=Wt(g.jsx("path",{d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star");function Wme(e){return Hc(e.edition??"")==="christmas"}const Wx=e=>{var t,n,r;return((r=(n=(t=e.edition)==null?void 0:t.split(",").find(i=>i.toLowerCase().startsWith("esc ")))==null?void 0:n.replace("Esc ",""))==null?void 0:r.trim())??void 0};function Qme(e){return!!Wx(e)}const _L="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20width='125.33'%20height='131.46'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:cc='http://creativecommons.org/ns%23'%20xmlns:dc='http://purl.org/dc/elements/1.1/'%20xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23'%3e%3cpath%20stroke='black'%20fill='white'%20d='m12.726%2058.556c0.31803-28.513%2015.157-37.437%2023.237-37.437%2011.285%200%2015.946%208.6151%2016.707%2012.429%200.76116%203.8111%205.0324%206.8595%206.4047%200.60798%201.3734-6.2515%2014.649-25.315%2030.966-25.315%2014.943%200%2020.119%2015.41%2019.671%2028.518-1.2228%2035.683-47.19%2064.158-53.239%2082.143-5.3875-10.891-44.126-26.634-43.746-60.946zm82.652-58.556c-13.42%200-29.29%209.9111-38.896%2026.382-2.592-5.9483-11.827-12.43-22.805-12.43-8.8462%200-33.676%2011.056-33.676%2046.74%200%2046.052%2046.593%2055.508%2056.011%2069.825%200.64721%200.98433%202.7319%201.728%203.5276-0.62388%207.5157-22.18%2065.791-47.242%2065.791-92.379-5.3e-4%20-25.314-16.536-37.513-29.955-37.513z'%20stroke-width='.53006'/%3e%3c/svg%3e",Xme=e=>g.jsxs(Zme,{children:[e.song.tracksCount>1&&g.jsxs(t0e,{"data-test":"multitrack-indicator",children:[g.jsx(U0,{})," Duet"]}),g.jsx(Jme,{song:e.song,isPopular:e.isPopular,focused:!!e.video})]}),Jme=({song:e,isPopular:t,focused:n})=>{var d,u;const r=x.useMemo(()=>u2(e),[e]),i=Qme(e),s=m2(e),l=((u=(d=s==null?void 0:s.scores)==null?void 0:d.at(-1))==null?void 0:u.date)??!1,c=l&&lo(l).isAfter(lo().subtract(1,"days"));return s!=null&&s.plays?g.jsx(xL,{"data-test":"song-stat-indicator",children:c?"Played today":g.jsx(g.Fragment,{children:n?g.jsxs(g.Fragment,{children:["Played ",s.plays," time",s.plays>1&&"s"]}):s.plays})}):i?g.jsxs(R_,{white:!0,children:[g.jsx(M_,{children:n?`Eurovision ${Wx(e)}`:Wx(e)}),g.jsx(e0e,{src:_L,alt:e.edition})]}):r?g.jsx(R_,{white:!0,children:n?g.jsx(M_,{children:"Added recently"}):g.jsx(Yme,{})}):t&&e.language.includes("English")?g.jsx(g.Fragment,{children:g.jsxs(R_,{children:[n&&g.jsx(M_,{children:"Popular"}),g.jsx(Kme,{})]})}):null},M_=K("div",{target:"enamf7r6"})({name:"eh2bdr",styles:"padding:0 0.5rem;line-height:0;margin-top:0.2rem;&+svg{margin-left:-0.25rem;}"}),Zme=K("div",{target:"enamf7r5"})({name:"67oilw",styles:"position:absolute;top:0.5rem;left:0;padding:0 0.5rem;box-sizing:border-box;display:flex;align-items:center;justify-content:flex-end;gap:0.5rem;width:100%"}),SL=K("div",{target:"enamf7r4"})({name:"1utw6sa",styles:"height:2.75rem;min-width:2.75rem;box-sizing:border-box;color:white;font-size:1.4rem;display:flex;align-items:center;justify-content:center;text-transform:uppercase;background:rgba(0, 0, 0, 0.75);border-radius:0.5rem"}),R_=K(SL,{target:"enamf7r3"})("overflow:hidden;display:flex;align-items:center;justify-content:center;svg,img{fill:",e=>e.white?"white":Ue.colors.text.active,";width:2.5rem;height:2.5rem;}"),e0e=K("img",{target:"enamf7r2"})({name:"1pr315k",styles:"padding:0.35rem;margin:0 0.15rem 0 -0.35rem;box-sizing:border-box"}),xL=K(SL,{target:"enamf7r1"})({name:"2ycp6t",styles:"padding:0 1rem"}),t0e=K(xL,{target:"enamf7r0"})({name:"1k65tge",styles:"margin-right:auto;svg{width:1.75rem;height:1.75rem;}"}),wL=({song:e,focused:t,video:n,children:r,songId:i,groupLetter:s,handleClick:l,isPopular:c,background:d=!0,forceFlag:u=!1,...h})=>{const p=h["data-expanded"]??!1,v=x.useCallback(()=>l?l(i,s):void 0,[l,i,s]),[y]=bt(Vs);return g.jsxs(i0e,{...h,onClick:l?v:void 0,children:[d&&g.jsx(s0e,{style:{backgroundImage:`url('https://i3.ytimg.com/vi/${e.video}/hqdefault.jpg')`},"data-focused":p?!1:t,"data-expanded":h["data-expanded"],"data-graphic-setting":y}),g.jsxs(r0e,{"data-expanded":p,children:[!p&&g.jsx(Xme,{song:e,isPopular:c,video:n}),g.jsx(v2,{"data-expanded":p,children:e.artist}),g.jsx(eA,{"data-expanded":p,children:e.title}),g.jsxs(EL,{"data-expanded":p,children:[p&&g.jsxs(g.Fragment,{children:[e.author&&g.jsxs(CL,{expanded:p,children:["by",e.authorUrl?g.jsx("a",{href:e.authorUrl,target:"_blank",rel:"noreferrer",children:e.author}):e.author]}),g.jsx(o0e,{song:e})]}),!p&&g.jsx(n0e,{song:e,forceFlag:u})]})]}),r,n]})},n0e=K(Gme,{target:"e1ornw2x8"})({name:"1152n88",styles:"height:2.75rem;object-fit:cover;border-top-right-radius:1rem;border-bottom-left-radius:1rem;position:absolute;z-index:-1;left:0rem;bottom:0rem;opacity:0.95"}),EL=K("div",{target:"e1ornw2x7"})({name:"1dgv8bf",styles:"display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-start"}),r0e=K("div",{target:"e1ornw2x6"})({name:"cwmgde",styles:"width:100%;height:100%;display:flex;align-items:flex-end;justify-content:flex-end;z-index:1;box-sizing:border-box;flex-direction:column;&[data-expanded='true']{align-items:flex-start;justify-content:flex-start;}"}),i0e=K("div",{target:"e1ornw2x5"})({name:"1s4n252",styles:"font-size:4.5rem;display:flex;align-items:flex-end;justify-content:flex-end;flex-direction:column;box-sizing:border-box;position:relative;padding:0.5rem;border:0.1rem black solid;border-radius:1rem"}),s0e=K("div",{target:"e1ornw2x4"})({name:"10xrxr9",styles:"background-color:#2b2b2b;border-radius:1rem;&[data-expanded='true']{border-radius:0;}position:absolute;z-index:-1;inset:0;&[data-graphic-setting='high']{transition:300ms;&[data-focused='true']{background-size:100%;opacity:1;}&[data-focused='false']{background-size:110%;filter:grayscale(90%);opacity:0.8;}&[data-expanded='true']{filter:blur(10px);}}&[data-graphic-setting='low']{background-size:100%;opacity:0.6;&[data-focused='true']{opacity:1;}}background-position:center center"}),TL=K(uu,{target:"e1ornw2x3"})("background:rgba(0, 0, 0, 0.7);width:auto;display:inline-block;padding:0.5rem;",Ot,";text-align:right;font-size:2.7rem;&[data-expanded='true']{font-size:6rem;}"),v2=K(TL,{target:"e1ornw2x2"})("color:",Ue.colors.text.active,";"),eA=K(TL,{target:"e1ornw2x1"})("margin-top:",e=>e.expanded?"1.5rem":"0.5rem",";color:white;"),CL=K(eA,{target:"e1ornw2x0"})({name:"5twmqz",styles:"font-size:3rem;margin-top:3rem"}),o0e=({song:e})=>{const t=m2(e);return g.jsx(CL,{children:t!=null&&t.plays?`Played ${t.plays} time${t.plays>1?"s":""}`:"Never played yet"})};function a0e({groupedSongList:e,onScrollToGroup:t,container:n}){const[r,i]=x.useState([]);return x.useEffect(()=>{const s=new IntersectionObserver(c=>{c.forEach(d=>{const u=Number(d.target.getAttribute("data-virtualized-group"));d.isIntersecting?i(h=>[...h,u]):i(h=>h.filter(p=>p!==u))})}),l=new MutationObserver(()=>{const c=document.querySelectorAll("[data-virtualized-group]");s.disconnect(),i([]),c.forEach(d=>{s.observe(d)})});if(n)return l.observe(n,{childList:!0,subtree:!0}),()=>{l.disconnect(),i([]),s.disconnect()}},[e,n]),g.jsx(g.Fragment,{children:g.jsx(l0e,{children:e.map((s,l)=>{const c=r.includes(l);return g.jsx(c0e,{onClick:()=>t(s),"data-active":c,"data-test":`group-navigation-${s.name}`,children:s.displayShort??s.name},s.name)})})})}const l0e=K("div",{target:"e131hflw1"})({name:"191ly3l",styles:"position:fixed;display:flex;flex-direction:row;align-items:center;justify-content:flex-start;top:0;left:var(--song-sidebar-weight);padding:1rem 0 1.5rem 2rem;width:100%;z-index:100;gap:1rem;background:rgba(0, 0, 0, 0.75)"}),c0e=K(No,{target:"e131hflw0"})("border:none;cursor:pointer;",Ot,";display:inline-flex;align-items:center;justify-content:center;height:3.3rem;padding:0.5rem 1.25rem;font-size:2.3rem;z-index:1;color:",Ue.colors.text.default,";&[data-active='true']{background:",Ue.colors.text.active,";}&[data-active='false']{background:rgba(0, 0, 0, 0.7);}"),UO={[ki.DUEL]:"Duel",[ki.PASS_THE_MIC]:"Pass The Mic",[ki.CO_OP]:"Cooperation"},I_=["Hard","Medium","Easy"],u0e=Bl("song_settings-game_mode-v3"),d0e=Bl("song_settings-tolerance-v2");function f0e({songPreview:e,onNextStep:t,keyboardControl:n,onExitKeyboardControl:r}){const[i,s]=u0e(null),l=i??(e.tracksCount>1?ki.CO_OP:ki.DUEL),[c,d]=d0e(1),u=()=>{const y={id:Sv(),players:[],mode:l,tolerance:c+1};t(y)},h=()=>{s(jc(Object.values(ki),l))},p=()=>d(y=>ag(I_,y,-1)),{register:v}=dr({enabled:n,onBackspace:r,additionalHelp:{remote:["select-song"]}});return g.jsxs(g.Fragment,{children:[g.jsx(HO,{...v("difficulty-setting",p,"Change difficulty"),label:"Difficulty",value:I_[c],"data-test-value":I_[c]}),g.jsx(HO,{...v("game-mode-setting",h,"Change mode"),label:"Mode",value:UO[l],"data-test-value":UO[l]}),g.jsx(p0e,{children:g.jsxs("h3",{children:[l===ki.DUEL&&"Face off against each other - person that earns more points wins.",l===ki.CO_OP&&"Join forces and sing together - your points will be added up to a single pool.",l===ki.PASS_THE_MIC&&g.jsxs(g.Fragment,{children:["For more than 2 players - split into groups and pass the microphone within the group when prompted with"," ",g.jsx(n2,{})," symbol."]})]})}),g.jsx(h0e,{...v("next-step-button",u,void 0,!0),children:"Next "})]})}const h0e=K(No,{target:"ews4mmz2"})({name:"sr8dp2",styles:"padding:0.5rem 9rem;font-size:4.3rem;width:50rem"}),p0e=K(uu,{target:"ews4mmz1"})({name:"rdh6te",styles:"max-width:50rem;margin:-1rem 0 1rem!important;padding:1.5rem;background:rgba(0, 0, 0, 0.7);box-sizing:border-box"}),HO=K(Bs,{target:"ews4mmz0"})({name:"1tcj19k",styles:"font-size:4.3rem;padding:1rem;min-width:50rem;box-sizing:border-box"});function g0e(){const t=hs(me.playerInputChanged,()=>tt.getInputs()).some(l=>l.source==="Microphone"),n=x.useRef([]),r=x.useCallback(l=>{n.current.push(l)},[]);tme(0,50,r);const[i,s]=x.useState(!1);return x.useEffect(()=>{const l=setInterval(()=>{const c=n.current.filter(([,v])=>v===0),d=n.current.filter(([,v])=>v>0),u=c.reduce((v,[y])=>v+y,0)/(c.length+1),h=d.reduce((v,[y])=>v+y,0)/(d.length+1),p=d.length>c.length*.1&&h>.01&&u>.01&&h-u<u/2;s(p),n.current.length=0},i?5e3:2500);return()=>clearInterval(l)},[i]),g.jsxs(m0e,{visible:i,children:[g.jsxs("h2",{children:[g.jsx("strong",{children:g.jsx(bf,{})})," ","Noise detected"]}),g.jsx("hr",{}),g.jsxs("h4",{children:["This might make singing inaccurate. Make sure your microphone doesn't pick up the music."," ",t&&g.jsxs(g.Fragment,{children:["Alternatively, use your ",g.jsx("strong",{children:"smartphone as a microphone"})," instead."]})]})]})}const m0e=K("div",{target:"e1liv9270"})("opacity:",e=>e.visible?1:0,";transition:300ms;background:rgba(0, 0, 0, 0.75);padding:1rem;max-width:50rem;position:relative;top:-1rem;left:-0.5rem;"),kL=(e,t=333,n)=>{const[r,i]=x.useState("ok");return x.useEffect(()=>{const s=setInterval(()=>{i(ur.getInputStatus(e))},t);return()=>{clearInterval(s)}},[e,t,n]),r},ML=e=>{const[t,n]=x.useState(null);return x.useEffect(()=>{const r=setInterval(()=>{const i=Vt.getRemoteMicById(e??"");n(i?i.getLatency():null)},1e3);return()=>{clearInterval(r)}},[e]),t};function RL({playerNumber:e,...t}){var r,i;const n=ML((i=(r=tt.getPlayer(e))==null?void 0:r.input)==null?void 0:i.deviceId);return g.jsx(g.Fragment,{children:n!==null?g.jsxs(v0e,{...t,children:[n,"ms"]}):""})}const v0e=K("span",{target:"e10sf0140"})({name:"1wwatg0",styles:"position:absolute;right:4rem;bottom:0.5rem;font-size:1.75rem"});function IL({status:e,tooltipPosition:t="end",...n}){return g.jsxs(y0e,{...n,children:[e==="ok"?g.jsx(A0e,{"data-test":"status-ok"}):e==="unavailable"?g.jsx(b0e,{"data-test":"status-unavailable"}):g.jsx(_0e,{"data-test":"status-unstable"}),e==="unavailable"?g.jsx(qO,{position:t,children:g.jsxs("span",{children:["The device is ",g.jsx("strong",{children:"disconnected"}),". Reconnect it, please."]})}):e==="unstable"?g.jsx(qO,{position:t,children:g.jsxs("span",{children:["The connection seems ",g.jsx("strong",{children:"unstable"}),". Connect to the same Wifi."]})}):null]})}const y0e=K("span",{target:"etoberq4"})({name:"186aqlb",styles:"position:absolute;right:0.5rem;top:0.5rem;font-size:3rem;z-index:10;svg{width:3rem;height:3rem;text-shadow:black;}"}),A0e=K("div",{target:"etoberq3"})({name:"1jjo9fl",styles:"margin:0.15rem;width:2.7rem;height:2.7rem;display:inline-block;background:#ffffff;border:1px solid black;border-radius:50%"}),b0e=K(mL,{target:"etoberq2"})({name:"f0g68e",styles:"fill:#ff0000"}),_0e=K(bf,{target:"etoberq1"})({name:"w492oh",styles:"fill:#f89400;stroke:black"}),qO=K("div",{target:"etoberq0"})(Ot,";position:absolute;left:",e=>e.position==="end"?"100%":"auto",";right:",e=>e.position==="end"?"auto":"150%",";top:-0.5rem;font-size:1.5rem;height:100%;display:flex;align-items:center;width:25rem;background:rgba(0, 0, 0, 0.75);padding:0.5rem;margin-left:2rem;");function OL({player:e}){const t=kL(e.number);return g.jsxs(S0e,{"data-test":`indicator-player-${e.number}`,children:[g.jsx(RL,{playerNumber:e.number}),g.jsx(IL,{status:t}),t!=="unavailable"&&g.jsx(h2,{playerNumber:e.number}),g.jsx(x0e,{className:"ph-no-capture",children:e.getName()})]},e.number)}const S0e=K("div",{target:"e17xkp2e1"})({name:"1gmoqr1",styles:"position:relative;border:0.1rem solid white;padding:1rem 3rem;background:black;width:80%;text-align:center;gap:1.25rem;font-size:2.3rem;color:white;-webkit-text-stroke:1px black"}),x0e=K("span",{target:"e17xkp2e0"})({name:"179t5g5",styles:"position:relative;z-index:1"});function w0e(e){qs(me.playerNameChanged),x.useEffect(()=>{ur.startMonitoring()},[]);const n=hs(me.playerInputChanged,()=>tt.getInputs()).some(r=>r.source!=="Dummy");return g.jsxs(E0e,{...e,children:[g.jsxs(T0e,{children:["Microphone Check",n?tt.getPlayers().map(r=>g.jsx(OL,{player:r},r.number)):g.jsxs(g.Fragment,{children:[g.jsx(C0e,{children:"Mic not setup"}),g.jsx("h4",{children:"Singing will be emulated"}),g.jsx("h5",{children:"You can setup in the Next step"})]})]}),g.jsx(g0e,{})]})}const E0e=K("div",{target:"egp8knc2"})("display:flex;font-size:3rem;",Ot,";margin-bottom:8.6rem;gap:3.5rem;"),T0e=K("div",{target:"egp8knc1"})({name:"fmwdml",styles:"gap:1.25rem;display:flex;flex-direction:column;align-items:center"}),C0e=K("div",{target:"egp8knc0"})({name:"1x5xnlp",styles:"position:relative;border:0.1rem solid white;padding:1rem 3rem;background:black;width:80%;text-align:center;gap:1.25rem;font-size:2.3rem;color:white"});function jL({onClose:e,closeButtonText:t}){return g.jsx(Vl,{onClose:e,children:g.jsx(du,{children:g.jsx(g2,{smooth:!1,onBack:e,onFinish:e,closeButtonText:t,skipText:"Back"})})})}const y2=x.forwardRef(({options:e,focused:t,label:n,value:r,onChange:i,disabled:s,placeholder:l,$keyboardNavigationChangeFocus:c,onBlur:d,className:u,...h},p)=>{const v=x.useRef(null);x.useImperativeHandle(p,()=>v.current);const y=x.useRef(null),[b,_]=x.useState(!1),[w,T]=x.useState(-1),k=x.useMemo(()=>e.filter(E=>E.toLowerCase().trim().includes(r.toLowerCase().trim())&&E!==r),[e,r]),R=E=>{var O,j,D;if(E.code==="ArrowUp"||E.code==="ArrowDown")if(k.length){E.preventDefault();const P=ag(k,w,E.code==="ArrowUp"?-1:1);T(P);const C=(O=y.current)==null?void 0:O.querySelector(`[data-index="${P}"]`);C==null||C.scrollIntoView({behavior:"smooth",block:"center"})}else(j=v.current)==null||j.blur(),c==null||c(E.code==="ArrowUp"?-1:1);else if(E.code==="Enter"){const P=k[w];P?(T(-1),i(P)):(D=v.current)==null||D.blur()}},M=()=>{setTimeout(()=>{_(!1),d==null||d()},300)};return g.jsxs(k0e,{className:u,children:[g.jsx(fu,{onFocus:()=>_(!0),onBlur:M,onKeyDown:R,onChange:i,value:r,focused:t,label:n,disabled:s,ref:v,placeholder:l,...h}),b&&!!k.length&&g.jsx(M0e,{ref:y,role:"listbox",children:k.map((E,O)=>g.jsx(R0e,{role:"listitem","data-index":O,"data-focused":O===w,"data-e2e-focused":O===w,focused:O===w,onClick:()=>{var j;i(E),T(-1),(j=v.current)==null||j.blur()},children:E},E))})]})});y2.displayName="Autocomplete";const k0e=K("div",{target:"elw4n422"})({name:"bjn8wh",styles:"position:relative"}),M0e=K("div",{target:"elw4n421"})("margin-top:0.1em;position:absolute;width:100%;background:black;max-height:",(1+2*.3)*4,"em;overflow-y:auto;z-index:2;"),R0e=K("div",{target:"elw4n420"})(Ot,";padding:0.3em;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;color:",e=>e.focused?Ue.colors.text.active:"white",";cursor:pointer;"),I0e=(e,t)=>{var n;return((n=e[t])==null?void 0:n.name)??`Track ${t+1}`};function O0e({multipleTracks:e,player:t,songPreview:n,playerNames:r,register:i,onChange:s,setup:l}){const[c,d]=x.useState(!1),u=x.useRef(null);if(qs(me.playerNameChanged),t===void 0)return null;const h=()=>s({number:t.number,track:(l.track+1)%n.tracksCount}),p=b=>{d(!0),t.setName(b)},v=!c,y=t.getName();return g.jsxs(g.Fragment,{children:[g.jsx(j0e,{maxLength:Vw,className:"ph-no-capture",value:v?"":y,placeholder:v?y:void 0,options:r,onChange:p,label:"Name:",ref:u,...i(`player-${t.number}-name`,()=>{var b;return(b=u.current)==null?void 0:b.focus()})}),e&&g.jsx(P0e,{...i(`player-${t.number}-track-setting`,h,"Change track"),label:"Track",value:I0e(n.tracks,l.track),"data-test-value":l.track+1})]})}const j0e=K(y2,{target:"euluv3p1"})("input{font-size:4.5rem;}[role='listbox']{max-height:",6*(4.5+.3),"rem;}"),P0e=K(Bs,{target:"euluv3p0"})({name:"1bwrnjg",styles:"font-size:4.5rem;padding:1.1rem"});function V0e({songPreview:e,onNextStep:t,keyboardControl:n,onExitKeyboardControl:r}){const[i]=bt(oi),[s]=bt(fV),l=tt.getPlayers(),c=!i&&l.length===2&&e.tracksCount>1,d=()=>l.map((M,E)=>({number:M.number,track:c?Math.min(E,e.tracksCount-1):0})),[u,h]=x.useState(d());gi([me.playerAdded,me.playerRemoved],()=>h(d()));const p=l.map((M,E)=>u.find(O=>O.number===M.number)??d()[E]),v=x.useMemo(()=>JSON.parse(st.session.getItem(Gd))??[],[]),y=M=>E=>{h(O=>O.map(j=>j.number===M?E:j))},[b,_]=x.useState(!1);x.useEffect(()=>{b||ur.startMonitoring()},[b]);const{register:w,focusElement:T}=dr({enabled:n&&!b,onBackspace:r,additionalHelp:{remote:["select-song"]}}),k=()=>{t(p)},R=!!s&&s!=="skip";return g.jsxs(g.Fragment,{children:[b&&g.jsx(jL,{closeButtonText:R?"Continue to the song":"Continue to player setup",onClose:()=>{_(!1),R&&T("play")}}),p.map((M,E)=>g.jsxs(D0e,{children:[g.jsxs(B0e,{children:["Player ",E+1]}),g.jsx("div",{children:g.jsx(O0e,{multipleTracks:c,player:tt.getPlayer(M.number),setup:M,onChange:y(M.number),playerNames:v,register:w,songPreview:e})})]},M.number)),R&&g.jsx(GO,{...w("play-song-button",k,void 0,!0),children:"Play"}),g.jsx(GO,{...w("select-inputs-button",()=>_(!0),void 0,!1),children:"Setup mics"})]})}const D0e=K("div",{target:"e12y59822"})({name:"ho1qnd",styles:"display:flex;flex-direction:row"}),GO=K(No,{target:"e12y59821"})({name:"afgxf2",styles:"padding:0.5rem 9rem;font-size:4.3rem"}),B0e=K("span",{target:"e12y59820"})(Ot,";padding:1.3rem;font-size:4.5rem;");function N0e({songPreview:e,onPlay:t,keyboardControl:n,onExitKeyboardControl:r}){const[i,s]=x.useState(null),[l,c]=x.useState("song"),d=h=>{s(h),c("players")},u=h=>{if(!i)return;const p={...i,players:h};me.songStarted.dispatch(e,p),t({song:e,...p})};return g.jsxs(L0e,{children:[g.jsx(w0e,{style:l==="players"?{viewTransitionName:"player-mic-check-container"}:void 0}),g.jsxs(F0e,{children:[l==="song"&&g.jsx(f0e,{songPreview:e,onNextStep:d,keyboardControl:n,onExitKeyboardControl:r}),l==="players"&&g.jsx(V0e,{songPreview:e,onNextStep:u,keyboardControl:n,onExitKeyboardControl:()=>c("song")})]})]})}const L0e=K("div",{target:"eu207dr1"})({name:"k6gb66",styles:"display:flex;flex-direction:row;align-items:flex-end;justify-content:space-between;width:100%;hr{margin:1rem;opacity:0.25;}"}),F0e=K("div",{target:"eu207dr0"})({name:"115sh08",styles:"width:auto;display:flex;flex-direction:column;align-items:flex-end;gap:1.25rem"}),z0e=30,$0e=(e,t,n)=>{const[r,i]=bt(Bp),s=n(e);return ja(!0,s?t:"regular"),x.useEffect(()=>{s&&i(t)},[]),x.useEffect(()=>{r!==t&&s?i(t):r===t&&!s&&i("regular")},[t,r,e]),s},U0e=(e,t,n,r)=>{const i=pi()?!0:cg(t);$0e(e,i?r:"regular",i?n:()=>!1)};function H0e({songPreview:e,top:t,left:n,width:r,height:i,keyboardControl:s,onExitKeyboardControl:l,onPlay:c,isPopular:d,forceFlag:u}){const[h,p]=x.useState(!1),v=x.useRef(null),{width:y,height:b}=mf();U0e(e,Zc.Christmas,Wme,"christmas");const _=s,w=e.previewStart??(e.videoGap??0)+60,T=e.previewEnd??w+z0e,k=x.useMemo(()=>[e.video,w,T,e.volume],[e.video,w,T,e.volume]),[R,M,E,O]=t2(k,350);x.useLayoutEffect(()=>{var N;p(e.video===R&&((N=v.current)==null?void 0:N.getStatus())===qn.PLAYING)},[e.video,R]),x.useEffect(()=>{var N,U;(N=v.current)==null||N.loadVideoById({videoId:R,startSeconds:M,endSeconds:E}),(U=v.current)==null||U.playVideo()},[R,v,M,E]);const j=_?y:r,D=_?b:i,P=_?Math.min(y/20*9,b*(4/5)):i;x.useEffect(()=>{var N;(N=v.current)==null||N.setSize(j,D)},[j,D,s,R]);const C=x.useCallback(N=>{var U,L;N===qn.ENDED?((U=v.current)==null||U.seekTo(w),(L=v.current)==null||L.playVideo()):N===qn.PLAYING&&p(!0)},[w]);return g.jsxs(g.Fragment,{children:[_&&g.jsx(Y0e,{onClick:l}),!_&&h&&g.jsx(X0e,{width:j,height:D,left:n,top:t,song:e}),g.jsx(G0e,{forceFlag:u,isPopular:d,background:_||h,video:g.jsx(K0e,{"data-show":h,"data-expanded":_,height:P,id:"preview-video-container",children:g.jsx(Xy,{width:0,height:0,disablekb:!0,ref:v,video:"",volume:O,onStateChange:C})}),focused:!0,song:e,top:t,left:n,width:j,height:P,"data-show-video":h,"data-expanded":_,"data-song":e.id,"data-test":"song-preview",children:g.jsx(W0e,{"data-expanded":_,children:_&&g.jsx(N0e,{songPreview:e,onPlay:c,keyboardControl:s,onExitKeyboardControl:l})})})]})}const q0e=K(wL,{target:"e1vaewax4"})("--preview-padding:5rem;width:",e=>e.width,"px;height:",e=>e.height,"px;position:absolute;z-index:3;overflow:hidden;visibility:hidden;&[data-expanded='true'],&[data-show-video='true']{visibility:visible;}&[data-expanded='true']{z-index:201;border-radius:0;border:0;position:fixed;padding:var(--preview-padding);}&[data-expanded='false']{pointer-events:none;&[data-show-video='true']{animation:rhythmPulse 1s infinite;}}@keyframes rhythmPulse{0%{transform:scale(1.15);}15%{transform:scale(1.2);}100%{transform:scale(1.15);}}view-transition-name:song-preview;",v2,"{view-transition-name:song-preview-artist;}",eA,"{view-transition-name:song-preview-title;}",EL,"{view-transition-name:song-preview-expanded-data;}"),G0e=e=>{const t=e.song.realBpm||(e.song.bpm>300?e.song.bpm/4:e.song.bpm/2),n=e["data-expanded"];return g.jsx(q0e,{...e,style:{...e.style,top:n?`calc(50vh - ${e.height}px / 2)`:e.top,left:n?0:e.left,animationDuration:`${60/t}s`}})},Y0e=K("div",{target:"e1vaewax3"})({name:"1iz7jdz",styles:"position:fixed;top:0;left:0;background:rgba(0, 0, 0, 0.8);width:100vw;height:100vh;z-index:201"}),K0e=K("div",{target:"e1vaewax2"})("&[data-expanded='true']{position:fixed;inset:0;clip-path:inset(calc((100vh - ",e=>e.height,"px) / 2) 0);}&[data-expanded='true'],&[data-show='true']{div{transition:1000ms;}}&[data-expanded='false']{position:absolute;top:0;left:0;background-image:none!important;border-radius:0.5rem;}&[data-show='false']{div{opacity:0;}}&[data-show='true']{div{opacity:1;}}"),W0e=K("div",{target:"e1vaewax1"})({name:"uljwlo",styles:"inset:auto var(--preview-padding);position:fixed;z-index:100;&[data-expanded='false']{transform:scale(0.1);}border-radius:0.5rem;view-transition-name:song-preview-content"}),Q0e=K("div",{target:"e1vaewax0"})("background:white;width:",e=>e.width,"px;height:",e=>e.height,"px;z-index:2;top:0;left:0;position:absolute;animation:bpm 1s infinite;border-radius:0.5rem;pointer-events:none;@keyframes bpm{0%{transform:scale(1.15);opacity:1;}100%{transform:scale(1.45);opacity:0;}}"),X0e=e=>{const[t]=bt(Vs);if(t==="low")return null;const n=e.song.realBpm||(e.song.bpm>300?e.song.bpm/4:e.song.bpm/2);return g.jsx(Q0e,{width:e.width,height:e.height,style:{left:e.left,top:e.top,animationDuration:`${60/n}s`}})};function J0e(e){var t=R0(e),n=t%1;return t===t?n?t-n:t:0}var Z0e=Math.ceil,eve=Math.max;function PL(e,t,n){t===void 0?t=1:t=eve(J0e(t),0);var r=e==null?0:e.length;if(!r||t<1)return[];for(var i=0,s=0,l=Array(Z0e(r/t));i<r;)l[s++]=pE(e,i,i+=t);return l}const Dc=(e,t)=>`${e.song.id}${t.isNew?"-new-group":""}`;function tve(e){const t=x.useRef(null),n=x.useMemo(()=>e.groups.map(u=>({group:u,rows:PL(u.songs,e.perRow)})),[e.groups,e.perRow]),r=x.useMemo(()=>n.map(({rows:u})=>u.length),[n]),i=x.useMemo(()=>n.flatMap(({rows:u})=>u),[n]),{ListRowWrapper:s,GroupRowWrapper:l}=e,c=x.useCallback(u=>e.groups.findIndex(h=>h.songs.some(p=>Dc(p,h)===u)),[e.groups]),d=x.useCallback(u=>{const h=c(u);if(h===-1)return;const p=e.groups[h].songs.findIndex(v=>Dc(v,e.groups[h])===u);return n.slice(0,h).reduce((v,{rows:y})=>v+y.length,Math.floor(p/e.perRow))},[c,n,e.groups,e.perRow]);return x.useImperativeHandle(e.ref,()=>({getSongPosition:u=>{var b;const h=c(u);if(h===-1)return;const p=e.groups[h].songs.findIndex(_=>Dc(_,e.groups[h])===u),v=n.slice(0,h).reduce((_,{rows:w})=>_+w.length,Math.floor(p/e.perRow));return{y:((b=t.current)==null?void 0:b.getItemPositionY(v))??-1}},scrollToGroup:u=>{var p;const h=e.groups.findIndex(v=>v.name===u);h!==-1&&((p=t.current)==null||p.scrollToGroup(h,"smooth"))},scrollToSongInGroup:async(u,h="smooth")=>{var v;const p=d(u);p!==void 0&&((v=t.current)==null||v.scrollToIndex(p,pi()?"instant":h))}})),g.jsx(g.Fragment,{children:g.jsx(zN,{Footer:e.Footer,forceRenderItem:d(e.focusedSong)??-1,overScan:e.itemHeight*2,itemHeight:e.itemHeight,groupHeaderHeight:e.groupHeight,components:e.components,context:e.context,groupContent:(u,h)=>g.jsx(l,{group:n[u].group,...h,children:e.renderGroup(n[u].group)}),ref:t,groupSizes:r,itemContent:(u,h,p)=>g.jsxs(s,{"data-is-new":n[h].group.isNew,...p,children:[i[u].map(v=>e.renderItem(v,n[h].group)),e.placeholder&&i[u].length<e.perRow&&new Array(e.perRow-i[u].length).fill(null).map((v,y)=>g.jsx(x.Fragment,{children:e.placeholder},y))]})})})}const VL=(e,t)=>e+Math.random()*(t-e),uo=(e,t)=>Math.round(VL(e,t)),nve=250,rve=750;function ive(e){const t=xI(async()=>(await fetch("/mostPopularSongs.json")).json(),[]),n=xI(async()=>oX(),[]),r=x.useMemo(()=>e.filter(u2).map(d=>d.id),[e]),[i]=bt(ty),s=t.loading||n.loading||!e.length,l=x.useMemo(()=>{if(s)return;const d=Object.keys(n.value).filter(b=>n.value[b].scores.some(_=>(_.progress??0)>.8)),u=Object.keys(t.value).filter(b=>!(i!=null&&i.includes(b))),h=[...new Set([...u,...i??[]])],p=e.filter(b=>!h.some(_=>b.language.includes(_))||b.local).map(b=>b.id).concat(...d),v=Math.max(nve,rve-Math.round(p.length/1.75)),y=u.map(b=>t.value[b].slice(0,v)).flat();return{popular:[...new Set([...d,...y,...p,...r])]}},[i,s,t.value,e,n.value]),c=x.useMemo(()=>({popular:[]}),[]);return{value:l??c,loading:s}}const sve=e=>{const t=/[^a-zA-Z]/;return{name:isFinite(+e.artist[0])||t.test(e.artist[0])?"0-9":e.artist[0].toUpperCase()}};function ove(e){const t=_f(),{value:{popular:n},loading:r}=ive(t.data),i=t.isLoading||r,{filters:s,filteredList:l,setFilters:c,selectedPlaylist:d,setSelectedPlaylist:u,playlists:h,playlist:p}=ffe(t.data,n,i,e);return{groupedSongList:x.useMemo(()=>{var b;const y=[];if(s.search)return y.push({name:"Search results",songs:l.map((_,w)=>({index:w,song:_,isPopular:n.includes(_.id)}))}),y;{if(l.length===0)return[];(p!=null&&p.sortingFn?[...l].sort(p.sortingFn):l).forEach(T=>{try{const{name:k,...R}=((p==null?void 0:p.groupData)??sve)(T);let M=y.find(E=>E.name===k);M||(M={name:k,songs:[],...R},y.push(M)),M.songs.push({index:l.indexOf(T),song:T,isPopular:n.includes(T.id)})}catch(k){console.error(k),fo(k)}});const w=((b=p==null?void 0:p.postGrouping)==null?void 0:b.call(p,y))??y;if(!(p!=null&&p.hideNew)){const T=l.filter(k=>k.isNew);T.length&&T.length<50&&w.unshift({name:"New",isNew:!0,songs:T.map(k=>({song:k,index:l.indexOf(k),isPopular:n.includes(k.id)}))})}return w}},[l,s.search,n,p]),songList:l,filters:s,setFilters:c,isLoading:i,selectedPlaylist:d,setSelectedPlaylist:u,playlists:h}}function Qx(e){const t=x.useRef(e);return x.useEffect(()=>{t.current=e},[e]),t.current}const ave=30;function lve(e,t,n=ave){let r;if(t.length<e){const i=[...Array(e).keys()].filter(s=>!t.includes(s));r=i[uo(0,i.length-1)]}else r=uo(0,e-1),t.length=0;return t.length>=n&&t.shift(),t.push(r),r}const cve=(e=[],t)=>{var y;const[n,r]=x.useState([0,0]),i=x.useMemo(()=>e.map(b=>PL(b.songs.map(_=>Dc(_,b)),t)).flat(),[e,t]),s=n[0]===((y=i[n[1]])==null?void 0:y.length)-1,l=x.useMemo(()=>{const[b,_]=n,w=i[_];if(!w)return"";const T=Math.min(b,w.length-1);return w[T]},[n,i]),c=x.useCallback(b=>{var T;const _=i.findIndex(k=>k.includes(b)),w=((T=i[_])==null?void 0:T.indexOf(b))??-1;r(w===-1||_===-1?[0,0]:[w,_])},[i]),[d,u]=x.useState(()=>l);d!==l&&u(l);const[h,p]=x.useState(()=>i);return h!==i&&p(i),h!==i&&d&&d!==l&&(p(i),c(d)),[l,n,(b,_)=>{Ey.play(),r(([w,T])=>{var M;if(i.length===0)return[0,0];let k=w,R=T;if(b==="y")R=T+_;else{if(i[T]===void 0)debugger;const E=(((M=i[T])==null?void 0:M.length)??1)-1;k=Math.min(w,E)+_,k<0?(R=(i.length+T-1)%i.length,k=i[R].length-1):k>E&&(R=T+1,k=0)}return[k%t,(i.length+R)%i.length]})},c,s]},uve=(e,t=[],n,r,i,s)=>{const l=ji(),[c,d]=x.useState([!1,null]),u=Qx(c),[h,p]=c,[v,y,b,_,w]=cve(t,s),T=y[0]===0,k=()=>{Gw.play(),n()},[R,M]=x.useState(!1),E=Qx(i.search);x.useLayoutEffect(()=>{if(E&&!i.search){M(!0);const q=setTimeout(()=>M(!1),2e3);return()=>{clearTimeout(q),M(!1)}}},[i.search]);const O=()=>{!R&&!i.search&&(Yw.play(),l("menu/"))},j=x.useCallback(kd((q,H)=>{const V=(t.length+H+q)%t.length;_(t[V].songs[0].song.id),Ey.play()},700,{trailing:!1}),[t]),D=(q,H)=>{if(!(q!=null&&q.repeat))b("y",H);else{const V=t.findIndex(W=>!!W.songs.find(Q=>Q.song.id===v));j(H,V)}},P=(q,H=!1)=>{!H&&q===-1&&T&&!h?d([!0,"left"]):b("x",q)},C=x.useRef([]),N=()=>{const q=lve(r,C.current);for(const H of t)for(const V of H.songs)if(V.index===q){_(V.song.id);return}};gf({accept:k,down:q=>D(q,1),up:q=>D(q,-1),left:()=>P(-1),right:()=>P(1),back:O,random:N},e&&!h,[t,y,h,i,R]);const U=x.useMemo(()=>({"horizontal-vertical":null,accept:null,back:null,shiftR:null,alphanumeric:null,remote:["search","select-song"]}),[]);Af(U,e);const L=x.useCallback(q=>{d([!1,q??null])},[d,P,t,y]);return x.useLayoutEffect(()=>{const[q,H]=u;q&&!h&&H===p&&P(p==="right"?1:-1,!0)},[h,p,T,w,...y]),[v,_,h,L,N]};function dve(e,t){const n=(e==null?void 0:e.replace("-new-group",""))??null,{songList:r,groupedSongList:i,setFilters:s,filters:l,isLoading:c,selectedPlaylist:d,setSelectedPlaylist:u,playlists:h}=ove(n),[p,v]=x.useState(!0),y=(j,D)=>{jp(()=>{vf.flushSync(()=>{v(j),D==null||D()})}),Kw.play(!1)},[b,_,w,T,k]=uve(p,i,()=>y(!1),r.length,l,t),R=b.replace("-new-group",""),[M,E]=x.useState(!1);if(!M&&r.length&&!c){let j="";const D=r.find(P=>P.isNew);e&&r.some(P=>P.id===n)?j=e:D?j=D.id:j=r[uo(0,r.length-1)].id,_(j),E(!0)}x.useEffect(()=>{e!==null&&E(!1)},[e]),x.useEffect(()=>{var j;if(M&&!c&&r.length&&r.some(D=>D.id===R)){const D=new URL((j=global.location)==null?void 0:j.href);D.searchParams.set("song",b),global.history.replaceState(null,"",D.toString())}},[M,b,r,c]);const O=r==null?void 0:r.find(j=>j.id===R);return{groupedSongList:i,focusedSong:b,moveToSong:_,setKeyboardControl:y,keyboardControl:p,songPreview:O,songList:r??[],filters:l,setFilters:s,showFilters:w,setShowFilters:T,isLoading:c||!M,randomSong:k,selectedPlaylist:d,setSelectedPlaylist:u,playlists:h}}const fve=1.1,YO=4,DL=7,Xx=4.5,KO=DL+Xx,u0=3.5,hve={Header:({context:e})=>g.jsxs(g.Fragment,{children:[g.jsx(bve,{}),e&&e.songPreviewProps.songPreview&&g.jsx(H0e,{...e.songPreviewProps,songPreview:e.songPreviewProps.songPreview})]}),Footer:()=>g.jsxs(BL,{children:["Missing a song? Try"," ",g.jsx(qy,{to:"convert/",children:g.jsx("a",{children:"adding one"})})," ","yourself!"]}),EmptyPlaceholder:()=>g.jsx(yve,{children:"No songs found"})};function pve({onSongSelected:e,preselectedSong:t}){const[n,r]=x.useState(t),[i]=bt(oi),s=i?YO-1:YO;Nl(!1),ja(!0),AL();const{focusedSong:l,moveToSong:c,groupedSongList:d,keyboardControl:u,songPreview:h,setKeyboardControl:p,setFilters:v,filters:y,setShowFilters:b,showFilters:_,isLoading:w,randomSong:T,selectedPlaylist:k,setSelectedPlaylist:R,playlists:M,songList:E}=dve(n,s),O=x.useMemo(()=>d.map(F=>F.songs).flat().find(F=>F.song.id===(h==null?void 0:h.id)),[h,d]),j=x.useMemo(()=>M.find(F=>F.name===k),[M,k]),D=x.useRef(null),P=BN(),{width:C,handleResize:N}=mf(),L=(C-(KO+Xx)*P-(s-1)*u0*P)/s,q=L*(9/16),H=q/2,V=x.useCallback(()=>p(!1),[p]),W=w||!d||!C,Q=k==="Eurovision",J=x.useRef(null);x.useEffect(()=>(global.__songList={scrollToSong:F=>{var Me;const[ge]=F.split("-new-group"),se=F.endsWith("-new-group");return d.find(Re=>!!Re.isNew===se&&Re.songs.some(ve=>ve.song.id===ge))?((Me=D.current)==null||Me.scrollToSongInGroup(F,"instant"),!0):!1}},()=>{delete global.__songList}),[d]);const[{previewTop:B,previewLeft:G},ee]=x.useState(()=>({previewTop:0,previewLeft:0}));x.useEffect(()=>{var ge;const F=document.querySelector(`[data-song-id="${l}"]`);if(!w&&F){const se=(ge=D.current)==null?void 0:ge.getSongPosition(l);ee({previewTop:(se==null?void 0:se.y)??0,previewLeft:F.offsetLeft})}else w||console.warn(`!!!!!!!!!!!! Song not found "${l}" !!!!!!!!!!!!`,l,"focusedSong")},[l,w,C,E]),x.useEffect(()=>{var F;N(),w||(F=D.current)==null||F.scrollToSongInGroup(l)},[C,l,d,w,N]);const ue=ji();return ri("Shift + E",()=>ue(Fv("edit/song/",{playlist:null,step:"metadata"})),[ue]),gi(me.remoteSongSelected,async F=>{if(!E.some(se=>se.id===F))return p(!1,()=>{r(F)});l!==F?(c(F),u||p(!0),V()):u&&V()},[E,l,u,V,c]),u&&n&&n!==l&&!w&&r(null),g.jsx(Dl,{children:g.jsxs(gve,{songsPerRow:s,style:{"--song-group-header-height":`${Math.floor(H)}px`,"--song-entry-width":`${Math.floor(L)}px`,"--song-entry-height":`${Math.floor(q)}px`,"--song-list-gap":`${Math.floor(u0*P)}px`,"--song-list-padding-left":`${Math.floor(KO*P)}px`,"--song-list-padding-right":`${Math.floor(Xx*P)}px`,"--song-sidebar-weight":`${Math.floor(DL*P)}px`},children:[W?g.jsxs(WO,{children:[g.jsx(XO,{children:g.jsx(ZO,{children:g.jsx(Jx,{children:""})})}),new Array(4).fill(0).map((F,ge)=>g.jsx(JO,{children:new Array(4).fill(0).map((se,Se)=>g.jsx(QO,{},Se))},ge))]}):g.jsxs(g.Fragment,{children:[h&&g.jsx(mve,{videoId:h.video}),g.jsx(jme,{setFilters:v,filters:y,onRandom:T,keyboardControl:u}),g.jsx(a0e,{container:J.current,groupedSongList:d,onScrollToGroup:F=>{c(Dc(F.songs[0],F)),setTimeout(()=>{var ge;return(ge=D.current)==null?void 0:ge.scrollToGroup(F.name)},20)}}),g.jsx(WO,{active:u,dim:_,"data-test":"song-list-container",ref:J,children:g.jsx(tve,{focusedSong:l,ListRowWrapper:JO,GroupRowWrapper:XO,ref:D,groups:d,itemHeight:Math.floor(q)+Math.floor(u0*P),groupHeight:Math.floor(H)+Math.floor(u0*P),components:hve,renderGroup:F=>g.jsx(ZO,{"data-highlight":F.name==="New",children:g.jsx(Jx,{"data-group-name":F.name,className:"rounded-md",children:F.displayLong??F.name})},F.name),perRow:s,renderItem:(F,ge)=>{const se=Dc(F,ge),Se=se===l;return x.createElement(Ave,{..._||!u?{"data-unfocusable":!0}:{},isPopular:F.isPopular,key:F.song.id,song:F.song,handleClick:Se?V:c,focused:!_&&u&&Se,songId:se,groupLetter:ge.name,"data-song-index":F.index,"data-song-id":se,"data-focused":!_&&u&&Se,"data-test":`song-${Dc(F,ge)}`,"data-group":ge.name,forceFlag:Q})},placeholder:g.jsx(QO,{style:{visibility:"hidden"}}),context:{songPreviewProps:{forceFlag:Q,isPopular:!!(O!=null&&O.isPopular),keyboardControl:!u,onPlay:e,onExitKeyboardControl:()=>p(!0),songPreview:h,top:B,left:G,width:Math.floor(L),height:Math.floor(q)}},Footer:(j==null?void 0:j.footerComponent)??g.jsxs(BL,{children:["Missing a song? Try"," ",g.jsx(qy,{to:"convert/",children:g.jsx("a",{children:"adding one"})})," ","yourself!"]})})})]}),g.jsx(Fme,{selectedPlaylist:k,setSelectedPlaylist:R,playlists:M,active:_,closePlaylist:b})]})})}const BL=K("div",{target:"e13s0pn12"})(Ot,";text-align:center;font-size:5rem;padding:10rem 0;"),gve=K("div",{target:"e13s0pn11"})({name:"usdvu5",styles:"display:flex;flex-direction:row;max-height:100vh"}),mve=e=>{const{theme:t}=x.useContext(Zp);return t==="eurovision"?null:g.jsx(vve,{...e})},vve=K(Vme,{target:"e13s0pn10"})({name:"ybgcp",styles:"position:fixed;inset:0;width:100%;height:100%;filter:blur(7px) grayscale(90%);opacity:0.25;object-fit:cover"}),yve=K("div",{target:"e13s0pn9"})(Ot,";display:flex;align-items:center;justify-content:center;flex:1;height:75vh;font-size:10rem;"),WO=K("div",{target:"e13s0pn8"})("position:relative;flex:1 1 auto;min-height:100vh;max-height:100vh;transition:opacity 500ms;opacity:",e=>e.dim?.5:1,";"),QO=K("div",{target:"e13s0pn7"})({name:"1mtg8xe",styles:"background:black;flex-basis:var(--song-entry-width);height:var(--song-entry-height);border-radius:1rem;animation:skeleton 1s ease-in-out infinite alternate;@keyframes skeleton{0%{opacity:0.65;}100%{opacity:0.75;}}"}),Ave=x.memo(K(wL,{target:"e13s0pn6"})("cursor:pointer;flex-basis:var(--song-entry-width);height:var(--song-entry-height);transition:300ms;transform:scale(1);&[data-focused='true']{transform:scale(",fve,");z-index:2;",Wd,";}")),bve=K("div",{target:"e13s0pn5"})(""),NL=K("div",{target:"e13s0pn4"})({name:"1apqsvn",styles:"display:flex;flex-wrap:nowrap;gap:var(--song-list-gap);padding:0 var(--song-list-padding-right) 0 var(--song-list-padding-left);margin-bottom:var(--song-list-gap)"}),XO=K(NL,{target:"e13s0pn3"})(""),JO=K(NL,{target:"e13s0pn2"})({name:"1xj3zav",styles:"position:relative;&[data-is-new='true']{background-color:rgba(0, 0, 0, 0.7);background-position-y:var(--song-list-gap);background-repeat:no-repeat;}"}),Jx=K("div",{target:"e13s0pn1"})(Ot,";display:flex;padding:0.5rem 1rem;font-size:5.4rem;z-index:1;color:",Ue.colors.text.active,";background:rgba(0, 0, 0, 0.7);align-items:center;gap:1rem;"),ZO=K("div",{target:"e13s0pn0"})("display:flex;align-items:flex-end;height:var(--song-group-header-height);&[data-highlight='true']{",Jx,"{animation:new-song-group-header 600ms ease-in-out infinite both;background:#ffffff;@keyframes new-song-group-header{0%,100%{transform:scale(1);}50%{transform:scale(1.1);}}}}");function _ve(e){const[t,n]=bt(ty),[r,i]=x.useState(t===null),s=()=>{n(t??[]),i(!1)};return r?g.jsx(LN,{onClose:s,closeText:"Continue to Song Selection"}):g.jsx(pve,{...e})}function Sve({register:e,onExit:t}){const n=x.useRef(null),[r,i]=x.useState(!1),[s,l]=x.useState(!1),[c,d]=x.useState(!1);x.useEffect(()=>{var p;(p=n.current)==null||p.focus()},[n]);const u=()=>{const p=at.getSong(),v={songId:p==null?void 0:p.id,songLastUpdated:p==null?void 0:p.lastUpdate},y=[];r&&y.push("not-in-sync"),s&&y.push("wrong-volume"),c&&y.push("bad-lyrics"),y.length&&er.capture("rate-song",{issues:y,...v}),t==null||t()},h=s||r||c;return g.jsx(g.Fragment,{children:g.jsxs(jt,{"data-test":"rate-song-container",title:"Is the song OK?",children:[g.jsx("h4",{children:"If there's something wrong with the song, let me know so I can fix it"}),g.jsxs(O_,{...e("button-not-in-sync",()=>i(p=>!p)),size:"small",children:[g.jsx(j_,{children:r?g.jsx(L0,{}):g.jsx(F0,{})}),g.jsx("span",{children:"Lyrics are not in sync"})]}),g.jsxs(O_,{...e("button-bad-lyrics",()=>d(p=>!p)),size:"small",children:[g.jsx(j_,{children:c?g.jsx(L0,{}):g.jsx(F0,{})}),g.jsx("span",{children:"Wrong lyrics, missing spaces etc."})]}),g.jsxs(O_,{...e("button-wrong-volume",()=>l(p=>!p)),size:"small",children:[g.jsx(j_,{children:s?g.jsx(L0,{}):g.jsx(F0,{})}),g.jsx("span",{children:"Too loud/quiet"})]}),g.jsx("hr",{}),g.jsx(vt,{...e("button-song-ok",u,void 0,!0),ref:n,children:h?"Submit and exit":"All good, exit the song"})]})})}const O_=En(vt)`gap-4 justify-start pl-4`,j_=K("div",{target:"e1prcfby0"})({name:"224g68",styles:"svg{width:3rem;height:3rem;}display:flex;align-items:center;justify-content:center"}),xve=x.forwardRef(({...e},t)=>{const n=x.useRef(null);x.useImperativeHandle(t,()=>n.current);const[r,i]=bt(Ed);return g.jsx(wve,{className:"text-[2.7rem]",ref:n,label:"Input lag",value:String(r),onChange:s=>i(+s),type:"number",step:50,min:-2e3,max:2e3,adornment:"ms",onKeyDown:s=>{var l;s.code==="Enter"&&((l=n.current)==null||l.blur())},info:"If the sound is not synchronised with the lyrics, use this to compensate it.",...e})}),wve=K(fu,{target:"e1vs2glp0"})({name:"q54eim",styles:"input{text-align:right;}"});function Eve({onResume:e,onExit:t,onRestart:n}){const r=ji(),i=x.useRef(null),s=x.useRef(null);x.useEffect(()=>{var v;(v=i.current)==null||v.focus()},[i]);const[l,c]=x.useState(!1),{register:d}=dr({enabled:!l}),[u,h]=x.useState(!1),p=async()=>{const v=at.getSongCompletionProgress(),y=(await fs.getIndex()).find(b=>{var _;return b.id===((_=at.getSong())==null?void 0:_.id)});!(y!=null&&y.local)&&v<.7?h(!0):t==null||t()};return g.jsxs(Vl,{onClose:e,children:[!u&&g.jsxs(g.Fragment,{children:[g.jsxs(jt,{children:[g.jsx(vt,{...d("button-resume-song",e),ref:i,children:"Resume song"}),g.jsx(vt,{...d("button-restart-song",n),children:"Restart song"}),g.jsx(vt,{...d("button-exit-song",p),children:"Exit song"}),g.jsx(vt,{...d("input-settings",()=>c(!0)),children:"Microphones settings"}),g.jsx("hr",{}),g.jsx(xve,{ref:s,...d("input-lag",()=>{var v;return(v=s.current)==null?void 0:v.focus()})}),g.jsx(vt,{...d("edit-song",()=>{var v;return r("edit/song/",{song:((v=at.getSong())==null?void 0:v.id)??""})}),size:"small",children:"Edit song"})]}),l&&g.jsx(jL,{onClose:()=>c(!1),closeButtonText:"Back to Pause Menu"})]}),u&&g.jsx(Sve,{onExit:t,register:d})]})}const LL=pi()?1e3:8e3;function Tve(e){return Math.floor((Wy(e)-LL)/1e3)}const Cve=2e4;function kve(e){return Wy(e)-(e.videoGap??0)*1e3>Cve}function Mve({playerRef:e,isEnabled:t}){const[n]=bt(oi),r=at.getSong(),i=x.useMemo(()=>kve(r),[r]),s=x.useMemo(()=>Wy(r),[r]),l=at.getCurrentTime(!1)<s-LL*1.2,c=t&&l&&i;gf({accept:()=>{e==null||e.seekTo(Tve(r));const{artist:h,title:p}=at.getSong();er.capture("introSkipped",{name:`${h} - ${p}`,artist:h,title:p})}},c);const u=x.useMemo(()=>({accept:"Skip Intro",back:"Pause Menu"}),[]);return Af(u,c),!n&&c?g.jsxs(Rve,{visible:c,"data-test":"skip-intro-info",children:["Press ",g.jsx(Ive,{children:"Enter"})," to skip the intro"]}):null}const Rve=K("div",{target:"e167kngm1"})(Ot,";pointer-events:none;position:fixed;bottom:29rem;transform:scale(",e=>e.visible?1:0,");opacity:",e=>e.visible?1:0,";text-align:center;font-size:5rem;text-shadow:0 0 3.5rem black;width:100%;z-index:4;padding:0.5rem;transition:ease 500ms;"),Ive=K("kbd",{target:"e167kngm0"})("margin:0.2rem;padding:0.2rem 2rem;border-radius:1.3rem;border:0.5rem solid rgb(204, 204, 204);border-bottom-color:rgb(150, 150, 150);border-right-color:rgb(150, 150, 150);line-height:1.4;display:inline-block;background-color:rgb(247, 247, 247);text-shadow:0 1rem 0 #fff;opacity:",e=>e.disabled?.25:1,";"),Ove=15e3;function jve({onSongEnd:e,isEnabled:t}){const[n]=bt(oi),r=at.getDuration(),i=x.useMemo(()=>Math.max(...at.getPlayers().map(y=>Hd(y.getLastNotesSection()))),[]),s=x.useMemo(()=>{var b;const y=Hv(i,at.getSong())+(((b=at.getSong())==null?void 0:b.gap)??0);return t&&r*1e3>y+Ove},[r,i,t]),[l,c]=x.useState(0),[d,u]=x.useState(!1);ZD(()=>c(at.getCurrentBeat()),1e3);const h=t2(s&&l>i,5e3)&&!d;gf({accept:()=>{u(!0),e&&setTimeout(e,700);const{artist:y,title:b}=at.getSong();er.capture("outroSkipped",{name:`${y} - ${b}`,artist:y,title:b})}},h);const v=x.useMemo(()=>({accept:"Skip Outro",back:"Pause Menu"}),[]);return Af(v,h),!n&&s?g.jsxs(Pve,{visible:h,"data-test":"skip-outro-info","data-visible":h,children:["Press ",g.jsx(Vve,{children:"Enter"})," to skip the outro"]}):null}const Pve=K("div",{target:"e1b01y1a1"})(Ot,";pointer-events:none;position:fixed;bottom:29rem;transform:scale(",e=>e.visible?1:0,");opacity:",e=>e.visible?1:0,";text-align:center;font-size:5rem;text-shadow:0 0 3.5rem black;width:100%;z-index:4;padding:0.5rem;transition:ease 500ms;"),Vve=K("kbd",{target:"e1b01y1a0"})("margin:0.2rem;padding:0.2rem 2rem;border-radius:1.3rem;border:0.5rem solid rgb(204, 204, 204);border-bottom-color:rgb(150, 150, 150);border-right-color:rgb(150, 150, 150);line-height:1.4;display:inline-block;background-color:rgb(247, 247, 247);text-shadow:0 1rem 0 #fff;opacity:",e=>e.disabled?.25:1,";"),Dve=Qe.memo(jve);function Bve({players:e}){const t=at.getCurrentTime(!1),n=at.getSongBeatLength(),r=at.getDuration(),i=at.getSong(),s=x.useMemo(()=>$v(i.tracks.filter((d,u)=>e.find(h=>h.track===u)).map(({sections:d})=>El(d)*n+i.gap)),[i,n,e]),l=x.useMemo(()=>$v(i.tracks.filter((d,u)=>e.find(h=>h.track===u)).map(({sections:d})=>xp(d)*n+i.gap)),[i,n,e]),c=r*1e3;return!t||!r?null:g.jsxs(A2,{children:[s.map(d=>g.jsx(ej,{position:d/c},d)),l.map(d=>g.jsx(ej,{position:d/c},d)),g.jsx(Fve,{fill:t/c})]})}const A2=K("div",{target:"e1pz3mwm2"})({name:"1q7pdku",styles:"position:absolute;height:0.6rem;width:100%;background:rgba(0, 0, 0, 0.5);left:0;top:calc(50% - 0.3rem)"}),Nve=K(A2,{target:"e1pz3mwm1"})("top:0;margin-left:-0.25rem;width:0.5rem;background:",Ue.colors.text.active,";opacity:75%;"),ej=e=>g.jsx(Nve,{style:{left:`${Math.min(e.position*100,100)}%`}}),Lve=K(A2,{target:"e1pz3mwm0"})({name:"1ssqmyb",styles:"top:0;background:white;opacity:50%"}),Fve=e=>g.jsx(Lve,{style:{width:`${Math.round(e.fill*1e4)/100}%`}});function zve({player:e,bottom:t=!1,...n}){const r=ur.getPlayerVolume(e.number),i=kL(e.number);return g.jsxs($ve,{...n,children:[i!=="unavailable"&&g.jsx(nme,{playerNumber:e.number,volume:r}),g.jsx(Uve,{status:i,tooltipPosition:"start"}),g.jsx(Hve,{playerNumber:e.number})]})}const $ve=K("div",{target:"ea232322"})({name:"180gow0",styles:"width:20rem;position:relative"}),Uve=K(IL,{target:"ea232321"})({name:"14rk3pa",styles:"top:auto;right:1rem;bottom:-0.5rem"}),Hve=K(RL,{target:"ea232320"})({name:"ed8znk",styles:"z-index:2;font-size:2rem;margin-right:1rem;-webkit-text-stroke:0.1rem black"});function tj({player:e,bottom:t=!1,effectsEnabled:n,showStatusForAllPlayers:r}){var M;const i=at.getPlayer(e.number),[s]=bt(oi),l=Ue.colors.players[e.number].text,c=((M=at.getSingSetup())==null?void 0:M.mode)===ki.PASS_THE_MIC?i.getTrack().changes:[],d=i.getCurrentSection(),u=i.getNextSection(),h=i.getNextSection(2),p=at.getCurrentBeat(),v=at.getSongBeatLength(),y=Math.max(0,...c.filter(E=>E<=((d==null?void 0:d.start)??-1/0))),b=c.find(E=>E>((d==null?void 0:d.start)??1/0))??1/0,_=(b-p)*v,w=(b-p)/(b-y),T=_<2500,k=fn(d),R=k?El([d])-d.start:0;return g.jsxs(Wve,{shouldBlink:T,bottom:t,"data-test":`lyrics-container-player-${e.number}`,children:[!s&&n&&g.jsx(qve,{children:r?at.getPlayers().map(E=>g.jsx(nj,{player:tt.getPlayer(E.getNumber())},E.getNumber())):g.jsx(nj,{player:e})}),_<1/0&&g.jsx(tye,{color:l,progress:w<=1?w*100:0}),k?g.jsx(g.Fragment,{children:g.jsxs(d0,{"data-test":`lyrics-current-player-${e.number}`,effectsEnabled:n,children:[g.jsx(Gve,{children:g.jsx(Kve,{color:l,percent:Math.min(2,(p-d.start)/R)})}),d==null?void 0:d.notes.map(E=>{const O=Math.max(0,Math.min(2,(p-E.start)/E.length));return g.jsxs(Qve,{type:E.type,children:[g.jsxs(Xve,{children:[g.jsx(Zve,{fill:O,color:l,children:E.lyrics.trim()}),E.lyrics.endsWith(" ")&&" "]}),E.lyrics]},E.start)}),(u==null?void 0:u.start)===b&&g.jsx(rj,{"data-should-shake":!0})]})}):g.jsx(d0,{effectsEnabled:n,children:""}),fn(u)?g.jsxs(d0,{nextLine:!0,"data-test":`lyrics-next-player-${e.number}`,effectsEnabled:n,children:[u.notes.map(E=>g.jsx(x.Fragment,{children:E.lyrics},E.start)),(h==null?void 0:h.start)===b&&g.jsx(rj,{})]}):g.jsx(d0,{effectsEnabled:n,nextLine:!0,children:""})]})}const nj=K(zve,{target:"e1j3lo7n10"})({name:"82a6rk",styles:"flex:1"}),qve=K("div",{target:"e1j3lo7n9"})({name:"zrovsy",styles:"position:absolute;top:0;right:0;display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%"}),Gve=K("span",{target:"e1j3lo7n8"})({name:"1sngsgs",styles:"position:relative;height:0"}),Yve=K("span",{target:"e1j3lo7n7"})({name:"7drlms",styles:"position:absolute;width:15rem;height:3.1rem;margin:0.7rem 0;right:10rem"}),Kve=({percent:e,color:t})=>{const n=x.useMemo(()=>{const r=ke(t).toRgb();return`${r.r}, ${r.g}, ${r.b}`},[t]);return g.jsx(Yve,{style:{transformOrigin:"right",transform:`scaleX(${Math.min(1,2-e)})`,right:`${Math.max(0,1-e)*15}rem`,background:`linear-gradient(270deg, rgba(${n}, 1) 0%, rgba(${n}, 0.5) 25%, rgba(${n}, 0) 100%)`}})},Wve=K("div",{target:"e1j3lo7n6"})("@keyframes blink{100%{background-color:rgba(0, 0, 0, ",e=>e.bottom?"0.85":"0.5",");}30%{background-color:rgba(0, 0, 0, ",e=>e.bottom?"0.85":"0.5",");}50%{background-color:rgba(200, 200, 200, ",e=>e.bottom?"0.85":"0.5",");}30%{background-color:rgba(0, 0, 0, ",e=>e.bottom?"0.85":"0.5",");}0%{background-color:rgba(0, 0, 0, ",e=>e.bottom?"0.85":"0.5",");}}box-sizing:border-box;padding:1rem;background:rgba(0, 0, 0, ",e=>e.bottom?"0.9":"0.5",");width:100%;text-align:center;line-height:1;position:relative;",e=>e.shouldBlink?"animation: blink 350ms ease-in-out infinite both;":"",";"),Qve=K("span",{target:"e1j3lo7n5"})("font-style:",e=>e.type==="freestyle"?"italic":"normal",";"),Xve=K("span",{target:"e1j3lo7n4"})({name:"nffb2y",styles:"position:absolute;z-index:1"}),Jve=K("span",{target:"e1j3lo7n3"})(""),Zve=({fill:e,color:t,children:n})=>g.jsx(Jve,{style:{clipPath:`inset(0 ${(1-(e===0?0:e+.05))*100}% -5rem 0)`,color:`${t}`},children:n}),eye=K("div",{target:"e1j3lo7n2"})({name:"d6fl9l",styles:"position:absolute;height:1rem;width:100%"}),tye=e=>g.jsx(eye,{"data-test":"pass-the-mic-progress",style:{background:e.color,transformOrigin:"left",transform:`scaleX(${e.progress/100})`}}),rj=K(n2,{target:"e1j3lo7n1"})("@keyframes shake{10%,90%{transform:translate3d(-0.1rem, 0, 0);}20%,80%{transform:translate3d(0.2rem, 0, 0);}30%,50%,70%{transform:translate3d(-0.4rem, 0, 0);}40%,60%{transform:translate3d(0.4rem, 0, 0);}}font-size:3rem;margin-left:2rem;&[data-should-shake='true']{animation:shake 0.92s cubic-bezier(0.36, 0.07, 0.19, 0.97) both infinite;fill:",Ue.colors.text.active,";font-size:4rem;}"),d0=K("div",{target:"e1j3lo7n0"})("font-size:",({nextLine:e,effectsEnabled:t})=>t?3.5+(e?0:1):2,"rem;height:",({effectsEnabled:e})=>e?4.5:2,"rem;-webkit-text-stroke-width:",({effectsEnabled:e})=>e?"0.2rem":"1px",";color:",({nextLine:e})=>e?Ue.colors.text.inactive:Ue.colors.text.default,";font-family:'Comic Sans MS',Seravek,'Gill Sans Nova',Ubuntu,Calibri,'DejaVu Sans',source-sans-pro,sans-serif;z-index:10;"),FL=new Intl.NumberFormat(void 0,{maximumFractionDigits:0});function Zx({score:e}){return g.jsx(g.Fragment,{children:FL.format(e)})}var P_,ij;function nye(){if(ij)return P_;ij=1;var e=4,t=.001,n=1e-7,r=10,i=11,s=1/(i-1),l=typeof Float32Array=="function";function c(_,w){return 1-3*w+3*_}function d(_,w){return 3*w-6*_}function u(_){return 3*_}function h(_,w,T){return((c(w,T)*_+d(w,T))*_+u(w))*_}function p(_,w,T){return 3*c(w,T)*_*_+2*d(w,T)*_+u(w)}function v(_,w,T,k,R){var M,E,O=0;do E=w+(T-w)/2,M=h(E,k,R)-_,M>0?T=E:w=E;while(Math.abs(M)>n&&++O<r);return E}function y(_,w,T,k){for(var R=0;R<e;++R){var M=p(w,T,k);if(M===0)return w;var E=h(w,T,k)-_;w-=E/M}return w}function b(_){return _}return P_=function(w,T,k,R){if(!(0<=w&&w<=1&&0<=k&&k<=1))throw new Error("bezier x values must be in [0, 1] range");if(w===T&&k===R)return b;for(var M=l?new Float32Array(i):new Array(i),E=0;E<i;++E)M[E]=h(E*s,w,k);function O(j){for(var D=0,P=1,C=i-1;P!==C&&M[P]<=j;++P)D+=s;--P;var N=(j-M[P])/(M[P+1]-M[P]),U=D+N*s,L=p(U,w,k);return L>=t?y(j,U,w,k):L===0?U:v(j,D,D+s,w,k)}return function(D){return D===0?0:D===1?1:h(O(D),T,R)}},P_}var rye=nye();const iye=Pr(rye),zL=6,Is=30,wr=Is+6,sye=e=>{const t=e.canvas.width,n=e.canvas.height,r=Math.max(0,(t-n*(16/9))/2),i=10+(t-2*r)*.15+r,s=n-e.paddingVertical*2;return{width:t-i*2,height:s/e.playerCount,baseX:i,baseY:e.paddingVertical+e.playerIndex*s/e.playerCount}};function sj({canvas:e,currentSectionIndex:t,song:n,songBeatLength:r,minPitch:i,maxPitch:s,track:l,playerIndex:c,playerCount:d,paddingVertical:u}){var R;const h=l.sections,p=h[t],v=h[t+1],y=sye({canvas:e,playerCount:d,playerIndex:c,paddingVertical:u}),b=fn(p)?(R=p==null?void 0:p.notes)==null?void 0:R.at(-1):void 0,_=fn(p)?(v==null?void 0:v.start)??b.start+b.length:p.end,w=p.start*r,T=(_-p.start)*r,k=(y.height-20-Is)/(s-i+zL*2);return{playerCanvas:y,currentSection:p,sectionEndBeat:_,timeSectionGap:w,maxTime:T,pitchStepHeight:k}}function $L(e,t,n,r,i){return i&&n?Ue.colors.players[t].starPerfect:i?Ue.colors.players[t].perfect:n&&r?Ue.colors.players[t].star:r?Ue.colors.players[t].hit:Ue.colors.players[t].miss}function oye(e,t,n,r){return $L(e,t,r.note.type==="star",n,r.isPerfect)}const H0={},aye=e=>{if(!H0[e]){const t=ke(e);H0[e]=[[t.setAlpha(.8).toRgbString(),t.setAlpha(.9).toRgbString(),t.setAlpha(1).toRgbString()],[t.setAlpha(0).toRgbString()],[t.setAlpha(.1).toRgbString(),t.setAlpha(.3).toRgbString(),t.setAlpha(.2).toRgbString()]]}return H0[e]};console.log("cachedColors",H0);function ew(e,t,n,r,i,s,l,c=1){if(!(i<=0)){t.globalAlpha=1;try{const d=t.createRadialGradient(n,r,0,n,r,i/2),[u,h,p]=aye(l);d.addColorStop(0,u[uo(0,u.length-1)]),d.addColorStop(.05,u[uo(0,u.length-1)]),d.addColorStop(.15,p[uo(0,p.length-1)]),d.addColorStop(1,h[uo(0,h.length-1)]),t.beginPath(),t.arc(n,r,i/2,0,2*Math.PI),t.closePath(),t.fillStyle=d,t.fill(),t.fillStyle=l,t.globalAlpha=1}catch(d){throw console.log("error",d,n,r,0,n,r,i/2),d}}}function b2(e,t,n,r,i,s,l,c,d=1){i>0&&ew(e,t,n,r,i,s,c,d)}const cp=(e,t)=>e-t+Math.random()*t*2,oj=(e=0)=>Math.sign(e+Math.random()-.5),lye=500,cye=100,f0=.2;class uye{constructor(t,n,r){this.x=t,this.y=n,this.color=r,this.finished=!1,this.tick=(i,s,l)=>{const c=1-this.ttl/this.startingTtl,d=this.startingTtl-this.ttl,u=this.width*c,h=this.width*this.heightModifier*c,p=this.x-u/2+d*this.velocityX,v=this.y+h/2+d*this.velocityY;b2(s,i,p,v,u,h,this.initialAngle+d,this.color,.5*c),this.ttl=this.ttl-l,this.finished=this.ttl<=0},this.startingTtl=this.ttl=cp(lye,cye),this.velocityX=f0*Math.random()-f0/2,this.velocityY=f0*Math.random()-f0/2,this.width=25,this.initialAngle=180-Math.random()*360,this.heightModifier=.5+Math.random()/2}}class dye{constructor(t,n,r,i,s){this.finished=!0,this.tick=(u,h)=>{};const l=Ue.colors.players[i].starPerfect.fill,c=ke(l).lighten(15).toRgbString(),d=ke(l).darken(15).toRgbString();if(Math.random()>.85){const u=uo(0,r/8),h=Math.random();let p=l;h>.66?p=c:h>.33&&(p=d);const v=n+20*(Math.random()-.5);s.add(new uye(t+u*8,v,p))}}}const fye=300,hye=50,h0=1.3;class pye{constructor(t,n,r){this.x=t,this.y=n,this.color=r,this.finished=!1,this.tick=(i,s,l)=>{const c=1-this.ttl/this.startingTtl,d=this.ttl,u=this.width*c,h=this.width*this.heightModifier*c,p=this.x-u/2+d*this.velocityX,v=this.y+h/2+d*this.velocityY;b2(s,i,p,v,u,h,this.initialAngle+d,this.color,.7*c),this.ttl=this.ttl-l,this.finished=this.ttl<=0},this.startingTtl=this.ttl=cp(fye,hye),this.velocityX=h0*Math.random()-h0/2,this.velocityY=h0*Math.random()-h0/2,this.width=25,this.initialAngle=180-Math.random()*360,this.heightModifier=.5+Math.random()/2}}const gye=`
precision mediump float;
`,tA=gye.replace(/\n/g,""),mye=`
attribute vec3 aVertexPosition;
attribute vec2 aTextureCoord;
`,UL=mye.replace(/\n/g,""),vye=`
varying vec3 vVertexPosition;
varying vec2 vTextureCoord;
`,nA=vye.replace(/\n/g,""),yye=tA+UL+nA+`
uniform mat4 uMVMatrix;
uniform mat4 uPMatrix;

void main() {
    vTextureCoord = aTextureCoord;
    vVertexPosition = aVertexPosition;
    
    gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);
}
`;yye.replace(/\n/g,"");const Aye=tA+nA+`
void main() {
    gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
}
`;Aye.replace(/\n/g,"");const bye=tA+UL+nA+`
void main() {
    vTextureCoord = aTextureCoord;
    vVertexPosition = aVertexPosition;
    
    gl_Position = vec4(aVertexPosition, 1.0);
}
`;bye.replace(/\n/g,"");const _ye=tA+nA+`
uniform sampler2D uRenderTexture;

void main() {
    gl_FragColor = texture2D(uRenderTexture, vTextureCoord);
}
`;_ye.replace(/\n/g,"");function Sye(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:pE(e,t,n)}var xye="\\ud800-\\udfff",wye="\\u0300-\\u036f",Eye="\\ufe20-\\ufe2f",Tye="\\u20d0-\\u20ff",Cye=wye+Eye+Tye,kye="\\ufe0e\\ufe0f",Mye="\\u200d",Rye=RegExp("["+Mye+xye+Cye+kye+"]");function HL(e){return Rye.test(e)}function Iye(e){return e.split("")}var qL="\\ud800-\\udfff",Oye="\\u0300-\\u036f",jye="\\ufe20-\\ufe2f",Pye="\\u20d0-\\u20ff",Vye=Oye+jye+Pye,Dye="\\ufe0e\\ufe0f",Bye="["+qL+"]",tw="["+Vye+"]",nw="\\ud83c[\\udffb-\\udfff]",Nye="(?:"+tw+"|"+nw+")",GL="[^"+qL+"]",YL="(?:\\ud83c[\\udde6-\\uddff]){2}",KL="[\\ud800-\\udbff][\\udc00-\\udfff]",Lye="\\u200d",WL=Nye+"?",QL="["+Dye+"]?",Fye="(?:"+Lye+"(?:"+[GL,YL,KL].join("|")+")"+QL+WL+")*",zye=QL+WL+Fye,$ye="(?:"+[GL+tw+"?",tw,YL,KL,Bye].join("|")+")",Uye=RegExp(nw+"(?="+nw+")|"+$ye+zye,"g");function Hye(e){return e.match(Uye)||[]}function qye(e){return HL(e)?Hye(e):Iye(e)}function Gye(e){return function(t){t=fE(t);var n=HL(t)?qye(t):void 0,r=n?n[0]:t.charAt(0),i=n?Sye(n,1).join(""):t.slice(1);return r[e]()+i}}var Yye=Gye("toUpperCase");function Kye(e){return Yye(fE(e).toLowerCase())}function aj(e,t,n,r,i,s,l,c){const d=Math.max(r,i/2),u=Math.min(d/2,i/2,s);e.beginPath(),e.moveTo(t+u,n),e.lineTo(t+d-u,n),e.quadraticCurveTo(t+d,n,t+d,n+u),e.lineTo(t+d,n+i-u),e.quadraticCurveTo(t+d,n+i,t+d-u,n+i),e.lineTo(t+u,n+i),e.quadraticCurveTo(t,n+i,t,n+i-u),e.lineTo(t,n+u),e.quadraticCurveTo(t,n,t+u,n),e.closePath(),l&&e.fill(),c&&e.stroke()}function _2(e,t,n,r,i,s,l,c,d=.1){aj(e,t,n,r,i,s,l,c),l&&d>0&&(e.save(),aj(e,t,n,r,i,s,!1,!1),e.clip(),e.fillStyle=`rgba(255,255,255,${d})`,e.fillRect(t,n,r,i/2.2),e.restore())}function Wh(e,t){e.fillStyle=t.fill,e.strokeStyle=t.stroke,e.lineWidth=t.lineWidth}function Qh(e,t,n,r,i,s,l){s==="star"?Wh(e,Ue.colors.lines.star):s==="freestyle"||s==="rap"?Wh(e,Ue.colors.lines.freestyle):s==="rapstar"?Wh(e,{...Ue.colors.lines.star,fill:Ue.colors.lines.freestyle.fill}):Wh(e,Ue.colors.lines.normal),e.shadowBlur=10,e.shadowColor=l!==void 0?Ue.colors.players[l].miss.stroke:"rgb(31,31,31)",e.shadowOffsetX=0,e.shadowOffsetY=0,_2(e,t,n,r,i,100,!0,!0,.075),e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0}function Wye(e,t,n,r,i,s,l,c,d){Wh(e,$L(e,s,d,l,c)),e.shadowBlur=5,e.shadowColor="rgba(31,31,31, .7)",e.shadowOffsetX=1,e.shadowOffsetY=1,_2(e,t,n,r,i,100,!0,!0,l?.15:0),e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0}const Tr=10,Qye={start:{x:0,y:0,w:Is/2+Tr,h:Is+Tr*2},middle:{x:Is/2+Tr,y:0,w:1,h:Is+Tr*2},end:{x:Is/2+1+Tr,y:0,w:Is/2+Tr,h:Is+Tr*2}},Ad={start:{x:0,y:0,w:wr/2+Tr,h:wr+Tr*2},middle:{x:wr/2+Tr,y:0,w:1,h:wr+Tr*2},end:{x:wr/2+1+Tr,y:0,w:wr/2+Tr,h:wr+Tr*2}},od=(e,t,n,r,i)=>({draw:(s,l,c,d,u)=>Wye(s,l,c,d,u,e,t,n,r),width:i?wr:Is+1,height:i?wr:Is,padding:Tr,fragments:i?Ad:Qye}),p0=e=>({[`p${e}Normal`]:{draw:(t,n,r,i,s)=>Qh(t,n,r,i,s,"normal",e),width:wr+1,height:wr,padding:Tr,fragments:Ad},[`p${e}Miss`]:od(e,!1,!1,!1,!1),[`p${e}Hit`]:od(e,!0,!1,!1,!0),[`p${e}Perfect`]:od(e,!0,!0,!1,!0),[`p${e}StarMiss`]:od(e,!1,!1,!0,!1),[`p${e}StarHit`]:od(e,!0,!1,!0,!0),[`p${e}StarPerfect`]:od(e,!0,!0,!0,!0)}),ma={...p0(0),...p0(1),...p0(2),...p0(3),noteStar:{draw:(e,t,n,r,i)=>Qh(e,t,n,r,i,"star"),width:wr+1,height:wr,padding:Tr,fragments:Ad},noteFreestyle:{draw:(e,t,n,r,i)=>Qh(e,t,n,r,i,"freestyle"),width:wr+1,height:wr,padding:Tr,fragments:Ad},noteRap:{draw:(e,t,n,r,i)=>Qh(e,t,n,r,i,"rap"),width:wr+1,height:wr,padding:Tr,fragments:Ad},noteRapstar:{draw:(e,t,n,r,i)=>Qh(e,t,n,r,i,"rapstar"),width:wr+1,height:wr,padding:Tr,fragments:Ad}};function Xye(e,t){const n=document.createElement("canvas");return n.width=e,n.height=t,n}const XL=Math.max(...Object.values(ma).map(e=>e.padding*2+e.width)),JL=Object.values(ma).map(e=>e.padding*2+e.height).reduce((e,t)=>e+t,0),ZL=Xye(XL,JL),rw=ZL.getContext("2d");let wc=0;const lj=Object.entries(ma).map(([e,t])=>{const n=t.padding*2,r={name:e,x:0,y:wc,w:t.width+n,h:t.height+n};return wc=wc+t.height+n,r}).reduce((e,t)=>({...e,[t.name]:t}),{}),e6=()=>{rw.clearRect(0,0,XL,JL),wc=0,Object.entries(ma).forEach(([e,t])=>{t.draw(rw,t.padding,wc+t.padding,t.width,t.height),wc=wc+t.padding*2+t.height})};e6();me.songStarted.subscribe(e6);const t6=(e,t)=>({canvas:ZL,ctx:rw,x:lj[e].x+ma[e].fragments[t].x,y:lj[e].y+ma[e].fragments[t].y,w:ma[e].fragments[t].w,h:ma[e].fragments[t].h,padding:ma[e].padding}),V_=(e,t,n,r,i,s,l,c=1,d=1)=>{const u=t6(t,n),{canvas:h,w:p,h:v,y,x:b,padding:_}=u,w=_*c,T=_*d;return e.imageSmoothingEnabled=!1,e.drawImage(h,b,y,p,v,r-w,i-T,s??p,v),e.imageSmoothingEnabled=!0,u};function n6(e,t,n,r,i){const s=t6(t,"start"),l=Math.max(i,(s.h-s.padding*2)/2),c=Math.min(1,l/2/(s.w-s.padding)),d=c*s.w,u=d-s.padding*c,h=l-2*u;V_(e,t,"start",n,r,d,void 0,c),h>0&&V_(e,t,"middle",n+d,r,h,void 0,c),V_(e,t,"end",n+h+d,r,d,void 0,c)}const Jye=(e,t)=>`${t!==void 0&&e==="normal"?`p${t}`:"note"}${Kye(e)}`;function r6(e,t,n,r,i,s){const l=Jye(i.type,s);n6(e,l,t,n,r)}function Zye(e,t,n,r,i,s){e.save(),_2(e,t,n,r,i,100,!1,!1),e.clip(),e.beginPath(),e.strokeStyle="rgba(255,255,255, .35)",e.lineWidth=3,e.lineJoin="round",e.moveTo(t,n+i/2-s.frequencyRecords[0].preciseDistance*i/3);for(let l=1;l<s.frequencyRecords.length;l++)e.lineTo(t+l*(r/(s.frequencyRecords.length-1)),n+i/2-s.frequencyRecords[l].preciseDistance*i/3);e.stroke(),e.closePath(),e.restore(),e.lineJoin="miter"}const eAe=(e,t,n,r)=>{let i=`p${e}`;return n&&r?i=`${i}StarPerfect`:n?i=`${i}Perfect`:r&&t?i=`${i}StarHit`:t?i=`${i}Hit`:r&&!t?i=`${i}StarMiss`:i=`${i}Miss`,i},tAe=["star","rapstar"];function nAe(e,t,n,r,i,s,l){const c=eAe(i,s,l.isPerfect,tAe.includes(l.note.type));n6(e,c,t,n,r)}class rAe{constructor(){this.particles=[],this.lastTick=Date.now(),this.getTimeDelta=t=>{const n=Date.now()-t,r=n-this.lastTick;return this.lastTick=n,r},this.tick=(t,n,r=0)=>{const i=this.getTimeDelta(r);this.particles.forEach(s=>s.tick(t,n,i)),this.particles=this.particles.filter(s=>!s.finished)},this.add=t=>this.particles.push(t),this.clearAll=()=>this.particles=[]}}const ca=new rAe,iAe=50/60*1e3,sAe=25/60*1e3,oAe=100,cj=.3;class aAe{constructor(t,n,r,i){this.x=t,this.y=n,this.color=r,this.delay=i,this.finished=!1,this.tick=(s,l,c)=>{if(this.delay-- >0)return;const d=this.ttl/this.startingTtl,u=this.startingTtl-this.ttl,h=this.width*d,p=this.width*this.heightModifier*d,v=this.x-h/2+u*this.velocityX,y=this.y-p/2+u*this.velocityY;b2(l,s,v,y,h,p,this.initialAngle+u,this.color,.8*d),this.velocityX=this.velocityX-.009,this.velocityY=this.velocityY*1.0075,this.ttl=this.ttl-c,this.finished=this.ttl<=0},this.startingTtl=this.ttl=cp(iAe,sAe),this.velocityX=cp(.5,cj)*oj(.2),this.velocityY=cp(.4,cj)*oj(),this.width=oAe,this.initialAngle=180-Math.random()*360,this.heightModifier=.5+Math.random()/2}}class lAe{constructor(t,n,r,i,s,l){this.finished=!0,this.tick=(p,v)=>{};const c=s.type==="star"?Ue.colors.players[i].star.fill:Ue.colors.players[i].perfect.fill,d=ke(c).lighten(15).toRgbString(),u=ke(c).darken(15).toRgbString(),h=r/9;for(let p=0;p<h;p++){const v=Math.random();let y=c;v>.66?y=d:v>.33&&(y=u);const b=n+20*(Math.random()-.5);l.add(new aAe(t+p*9,b,y,(h-p)/10))}}}const uj=400;class cAe{constructor(t,n,r,i,s){this.x=t,this.y=n,this.width=r,this.note=i,this.playerNumber=s,this.finished=!1,this.ttl=uj,this.tick=(l,c,d)=>{const u=this.ttl/uj;l.save(),l.globalAlpha=u,l.translate(Math.round(c.width*(u-1)),0),r6(l,this.x,this.y,this.width,this.note,this.playerNumber),l.globalAlpha=1,l.restore(),this.ttl=this.ttl-d,this.finished=this.ttl<=0}}}const D_=50/60*1e3,g0=.05,uAe=200,dj=4,dAe=Math.pow;function fj(e){return 1-dAe(1-e,2)}function fAe(e){const t=Math.round(e*100),n=255,r=Math.min(255,Math.max(0,Math.round(255*(200-t*2)/100))),i=Math.max(0,Math.round(255*(100-t)/100));return`rgb(${n}, ${r}, ${i})`}class hAe{constructor(t,n,r,i){this.x=t,this.y=n,this.finished=!1,this.tick=(s,l,c)=>{const d=this.ttl/D_;let u=fj(1-Math.min(1,(1-d)*6));const h=this.maxWidth*u*3/4,p=this.maxWidth*u,v=fAe(1-d);ew(l,s,this.x,this.y,h,p,"white",u*.35),u=fj(d);const y=u*this.maxWidth/2,b=u*this.maxWidth/2,_=this.x,w=this.y,T=D_-this.ttl;s.globalAlpha=u*.2,ew(l,s,_+T*this.velocityX,w+T*this.velocityY,y,b,v,u*.2),this.ttl=this.ttl-c,this.finished=this.ttl<=0},this.ttl=D_,this.velocityX=g0*Math.random()-g0/2,this.velocityY=g0*Math.random()-g0/2,this.maxWidth=Math.min(.1+i,1)*(Math.sin(r/70)*dj+(uAe-dj))}}const hj=20;class pAe{constructor(t,n,r,i,s){this.x=t,this.y=n,this.w=r,this.h=i,this.seed=s,this.finished=!1,this.ttl=2/60*1e3,this.tick=(l,c,d)=>{l.strokeStyle="rgba(255,255,255,.25)",l.lineWidth=2,l.beginPath();for(let u=0;u<this.w;u++){const h=this.x+this.w-u,p=(this.h/2+2)*Math.sin(h/hj+this.seed/250);l.lineTo(h,this.y+this.h/2+p)}l.stroke(),l.beginPath();for(let u=0;u<this.w;u++){const h=this.x+this.w-u,p=-1*(this.h/2+2)*Math.sin(h/hj+this.seed/250);l.lineTo(h,this.y+this.h/2+p)}l.stroke(),this.ttl=this.ttl-d,this.finished=this.ttl<=0}}}const pj=20;function gAe(e,t){return e.find(n=>n.start<=t&&n.start+n.length>=t)}class mAe{constructor(t,n=0,r=1){this.canvas=t,this.verticalMargin=n,this.scaleFactor=r,this.loop=!1,this.pauseTime=0,this.pausedOn=0,this.shaders=null,this.start=()=>{me.sectionChange.subscribe(this.onSectionEnd),this.loop=!0,this.drawFrame()},this.pause=()=>{this.end(),this.pausedOn=Date.now()},this.resume=()=>{this.pauseTime+=Date.now()-this.pausedOn,this.start()},this.end=()=>{var i;this.loop=!1,(i=this.shaders)==null||i.cleanup(),me.sectionChange.unsubscribe(this.onSectionEnd)},this.isPlaying=()=>this.loop,this.drawFrame=()=>{const i=Date.now(),s=this.canvas.getContext("2d");if(s){if(at.isPlaying()&&(s.clearRect(0,0,this.canvas.width,this.canvas.height),tt.getPlayers().forEach((c,d)=>{this.drawPlayer(c.number,s)}),ca.tick(s,this.canvas,this.pauseTime)),Ec.get()===30){const l=Date.now(),c=1e3/30,d=l-i>c?c:c-(l-i);this.loop&&setTimeout(this.drawFrame,d,Ec.get())}Ec.get()!==30&&this.loop&&global.requestAnimationFrame(this.drawFrame)}},this.drawPlayer=(i,s)=>{const l=this.getDrawingData(i),{currentSection:c}=sj(l);if(Vs.get()==="high"&&this.setDistortionForce(l),!fn(c))return;const d=this.calculateDisplacements(c,l);this.drawNotesToSing(s,l,d),this.drawSungNotes(s,l,d),Vs.get()==="high"&&(this.drawFlare(s,l,d),this.markGoldNotes(c,l))},this.setDistortionForce=i=>{var l,c,d;const s=i.currentSection;if(!fn(s))(c=this.shaders)==null||c.updatePlayerForce(i.playerNumber,(((l=this.shaders)==null?void 0:l.getPlayerForce(i.playerNumber))??0)*.99);else{const u=Math.max(0,i.currentBeat-pj),h=i.currentPlayerNotes.filter(_=>_.note.start+_.note.length>=u).filter(_=>vv(_)===0).reduce((_,w)=>_+w.length-Math.max(0,u-w.start),0),p=i.currentPlayerNotes.at(-1),v=((p==null?void 0:p.start)??0)+((p==null?void 0:p.length)??0),y=i.currentBeat-v,b=Math.max(Math.min(Math.pow((h-y/1.5)/pj,3),.98),0);(d=this.shaders)==null||d.updatePlayerForce(i.playerNumber,b)}},this.drawNotesToSing=(i,s,l)=>{fn(s.currentSection)&&s.currentSection.notes.forEach(c=>{const{x:d,y:u,w:h,h:p}=this.getNoteCoords(s,c,c.pitch,!0,l[c.start]);r6(i,d,u,h,c,s.playerNumber)})},this.drawSungNotes=(i,s,l)=>{fn(s.currentSection)&&s.currentPlayerNotes.forEach(c=>{const d=vv(c),{x:u,y:h,w:p,h:v}=this.getNoteCoords(s,c,c.note.pitch+d,d===0,l[c.note.start]);(d>0||p>v/2.5)&&(nAe(i,u,h,p,s.playerNumber,d===0,c),c.vibrato&&ca.add(new pAe(u,h,p,v,s.currentTime)),d===0&&c.frequencyRecords.length>3&&!rp.includes(c.note.type)&&Zye(i,u,h,p,v,c))})},this.drawFlare=(i,s,l)=>{var d;if(!fn(s.currentSection))return;const c=gAe(s.currentPlayerNotes,s.currentBeat-185/s.songBeatLength);if(c&&c.distance===0){const u=l[c.note.start]||[0,0],{x:h,y:p,w:v,h:y}=this.getNoteCoords(s,c,c.note.pitch,!0,u),b=rp.includes(c.note.type)?0:c.frequencyRecords.at(-1).preciseDistance,_=h+v,w=this.getPreciseY(p,y,b);ca.add(new hAe(_,w,s.currentTime,1)),ca.add(new pye(VL(Math.max(h,_-50),_),w,oye(i,s.playerNumber,!0,c).fill)),(d=this.shaders)==null||d.updatePlayerCenter(s.playerNumber,_,w)}},this.onSectionEnd=i=>{if(at.isPlaying()){const s=this.getDrawingData(i,-1);if(!fn(s.currentSection))return;this.fadeoutNotes(s.currentSection,s),this.explodeNotes(s.currentSection,s)}},this.fadeoutNotes=(i,s)=>{Vs.get()==="high"&&i.notes.forEach(l=>{const{x:c,y:d,w:u,h}=this.getNoteCoords(s,l,l.pitch,!0);ca.add(new cAe(c,d,u,l,s.playerNumber))})},this.explodeNotes=(i,s)=>{Vs.get()==="high"&&s.playerNotes.filter(c=>(c.distance===0||rp.includes(c.note.type))&&i.notes.includes(c.note)).forEach(c=>{const{x:d,y:u,w:h,h:p}=this.getNoteCoords(s,c,c.note.pitch,!0);ca.add(new lAe(d,u+p/2,h,s.playerNumber,c.note,ca))})},this.markGoldNotes=(i,s)=>{i.notes.filter(c=>c.type==="star"||c.type==="rapstar").forEach(c=>{const{x:d,y:u,w:h,h:p}=this.getNoteCoords(s,c,c.pitch,!0);ca.add(new dye(d,u+p/2,h,s.playerNumber,ca))})},this.calculateDisplacements=(i,s)=>{const l={};return Vs.get()==="high"?i.notes.forEach(c=>{const d=s.playerNotes.filter(v=>v.note.start===c.start).filter(v=>v.note.start+v.note.length+30>=s.currentBeat&&v.distance===0).map(v=>v.start+30<s.currentBeat?v.length-(s.currentBeat-30-v.start):v.length).reduce((v,y)=>Math.min(v+y,30),0),u=Math.max(0,(d-5)/(c.type==="star"?3:5)),h=(Math.random()-.5)*u,p=(Math.random()-.5)*u;l[c.start]=[h,p]}):i.notes.forEach(c=>{l[c.start]=[0,0]}),l},this.getDrawingData=(i,s=0)=>{const l=tt.getPlayers(),c=l.findIndex(_=>_.number===i),d=l.length,u=at.getPlayer(i),h=u.getCurrentSectionIndex()+s,p=at.getSong(),v=u.getTrack(),y=v.sections[h],b=u.getPlayerNotes();return{playerNumber:i,playerIndex:c,playerCount:d,song:p,songBeatLength:at.getSongBeatLength(),minPitch:u.getMinPitch(),maxPitch:u.getMaxPitch(),canvas:this.canvas,currentTime:at.getCurrentTime(),frequencies:u.getPlayerFrequencies(),playerNotes:b,currentPlayerNotes:b.filter(_=>_.note.start>=((y==null?void 0:y.start)??1/0)),track:v,currentBeat:at.getCurrentBeat(),currentSectionIndex:h,currentSection:y,paddingVertical:this.verticalMargin}},this.getNoteCoordsBase=(i,{start:s,length:l},c,d)=>{const{sectionEndBeat:u,currentSection:h,playerCanvas:p,pitchStepHeight:v}=sj(i),y=fn(h)?h.notes[0].start:1,b=p.width/(u-y),_=v*(i.maxPitch-c+zL);return{x:p.baseX+b*(s-y),y:p.baseY+10+_-(d?3:0),w:b*l,h:d?wr:Is}},this.getNoteSlideInAnimationValue=(i,s)=>{const{song:l,currentBeat:c,currentSection:d}=s;if(!d)return i;const u=Hv(fn(d)?Hd(d)-d.start:d.end-d.start,l),h=Hv(c-d.start,l),p=Math.min(1,h/Math.min(2e3,u)),v=Math.round(this.canvas.width*Math.pow(1-p,25)),y=u/30,b=vAe(Math.min(1,h/u)),_=Math.round(y*(.5-b));return{...i,x:i.x+v+_}},this.calculateNoteDisplacement=(i,s,l=[0,0])=>{const[c,d]=s?l:[0,0];return{...i,x:i.x+c,y:i.y+d}},this.getNoteCoords=(i,s,l,c,d=[0,0])=>{let u=this.getNoteCoordsBase(i,s,l,c);return u=this.getNoteSlideInAnimationValue(u,i),u=this.calculateNoteDisplacement(u,c,d),{x:Math.floor(u.x),y:Math.floor(u.y),w:Math.floor(u.w),h:Math.floor(u.h)}},this.getPreciseY=(i,s,l)=>i+s/2-l*s/3}}const vAe=iye(.25,.5,.75,.5),yAe=`precision mediump float;

const float MAX_FORCE = 300.0;
const int SAMPLE_COUNT = 8; // 2^x
const float INTENSITY = 0.051;
// get our varyings
varying vec3 vVertexPosition;
varying vec2 vTextureCoord;
// the uniform we declared inside our javascript
uniform float uTime;
uniform sampler2D planeTexture;
uniform vec2 uResolution;

uniform vec2 uP0center;
uniform float uP0force;

uniform vec2 uP1center;
uniform float uP1force;

float rnd(float n) {
    return fract(sin(n) * 43758.5453);
}
float random (vec2 st) {
    return rnd(dot(st.xy, vec2(12.9898, 78.233)));
}

vec4 directionalBlur(in vec2 uv, in vec2 direction, in float intensity)
{
    vec4 color = vec4(0.0);

    for (int i=1; i<=SAMPLE_COUNT; i++)
    {
        color += texture2D(planeTexture,uv+float(i)*intensity/float(SAMPLE_COUNT)*direction);
    }

    return color/float(SAMPLE_COUNT);
}

float distort(vec2 center, float force, float comparedIntensity) {
    float actualForce = force * MAX_FORCE;
    vec2 centerAbs = center * uResolution;

    vec2 direction = gl_FragCoord.xy - centerAbs.xy;
    float dist = length(direction) / length(uResolution);


    float intensity = max(0.0, 0.50 - dist) * INTENSITY * pow(force, 1.5);
    if (intensity > comparedIntensity) {
        vec4 newColor = directionalBlur(gl_FragCoord.xy / uResolution, normalize(direction), intensity);
        gl_FragColor = newColor;
    }
    return intensity;
}

void main() {
    gl_FragColor = texture2D(planeTexture, vTextureCoord);
    float p1intensity = distort(uP0center, uP0force, 0.0);
    float p2intensity = distort(uP1center, uP1force, p1intensity);
}`,AAe=`
precision mediump float;

// default mandatory variables
attribute vec3 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat4 uMVMatrix;
uniform mat4 uPMatrix;

uniform mat4 planeTextureMatrix;

// custom varyings
varying vec3 vVertexPosition;
varying vec2 vTextureCoord;

void main() {
    gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);

    // varyings
    vVertexPosition = aVertexPosition;
    vTextureCoord = (planeTextureMatrix * vec4(aTextureCoord, 0.0, 1.0)).xy;
}`;function bAe(e,t){e.sort((l,c)=>c[1]-l[1]);const n=e.find(([l])=>l===t)??[t,-1],r=e.findIndex(([l])=>l===t),s=!(e.filter(([,l])=>l===n[1]).length>1)&&r===0;return{score:n[1],isFirst:s}}const _Ae=1920,SAe=x.forwardRef(function({currentStatus:e,width:t,height:n,playerSetups:r,onSongEnd:i,effectsEnabled:s,videoPlayerRef:l,isPauseMenuVisible:c},d){var R,M,E;const[u]=bt(Vs),[h]=bt(oi),p=x.useRef(null),v=x.useRef(null),y=x.useRef(null),b=_Ae,_=b*(n/t),w=_/n;x.useImperativeHandle(d,()=>({pause:()=>{var O;return(O=v.current)==null?void 0:O.pause()},resume:()=>{var O;return(O=v.current)==null?void 0:O.resume()}}),[v.current,(R=y.current)==null?void 0:R.offsetHeight,w]),x.useEffect(()=>(at.startInputMonitoring(),()=>{at.stopInputMonitoring()}),[]),x.useEffect(()=>{if(!(!p.current||!y.current))return v.current=new mAe(p.current,y.current.offsetHeight*w),v.current.start(),()=>{var O;(O=v.current)==null||O.end()}},[(M=y.current)==null?void 0:M.offsetHeight,w]),x.useEffect(()=>{var O,j,D,P;c&&((O=v.current)!=null&&O.isPlaying())?(j=v.current)==null||j.pause():!c&&!((D=v.current)!=null&&D.isPlaying())&&((P=v.current)==null||P.resume())},[c]),x.useEffect(()=>{e===qn.ENDED&&i&&i()},[e,i]);const T=tt.getPlayers(),k=!h&&T.length>1;return g.jsxs(xAe,{children:[u==="high"&&g.jsxs(g.Fragment,{children:[g.jsx("script",{type:"x-shader/x-fragment",id:"plane-fs",children:yAe}),g.jsx("script",{id:"plane-vs",type:"x-shader/x-vertex",children:AAe}),g.jsx(EAe,{id:"canvas",style:{zIndex:1e4}})]}),g.jsx(wAe,{id:"plane",style:s?void 0:{opacity:0},children:g.jsx("canvas",{ref:p,width:b,height:_,"data-sampler":"planeTexture"})}),s&&g.jsxs(g.Fragment,{children:[g.jsx(Mve,{playerRef:l,isEnabled:!c}),g.jsx(Dve,{onSongEnd:i,isEnabled:!c})]}),g.jsx(Bve,{players:r}),g.jsx(gj,{children:k&&g.jsx(tj,{player:T[0],effectsEnabled:s,showStatusForAllPlayers:T.length>2})}),g.jsx(TAe,{children:s&&g.jsx(g.Fragment,{children:((E=at.getSingSetup())==null?void 0:E.mode)===ki.CO_OP?g.jsx(mj,{"data-test":"players-score","data-score":Math.floor(at.getPlayerScore(0)),children:g.jsx(Zx,{score:at.getPlayerScore(0)})}):tt.getPlayers().map(O=>{const j=tt.getPlayers().map(C=>[C.number,at.getPlayerScore(C.number)]),{score:D,isFirst:P}=bAe(j,O.number);return g.jsxs(mj,{className:"relative","data-test":`player-${O.number}-score`,"data-score":Math.floor(D),children:[g.jsx(Zx,{score:D}),g.jsx("div",{className:`text-xl transition-all duration-200 absolute rotate-12 top-12 ${P?"-right-10":"-right-36"}`,children:P?g.jsx("div",{className:"motion-preset-pulse-sm opacity-75",children:""}):""})]},O.number)})})}),g.jsx(gj,{ref:y,children:g.jsx(tj,{showStatusForAllPlayers:T.length>2,player:T.length>2?T[0]:T.at(-1),bottom:!0,effectsEnabled:s})})]})}),gj=K("div",{target:"el0barv5"})({name:"14ci2tu",styles:"padding:2rem 0;box-sizing:border-box"}),xAe=K("div",{target:"el0barv4"})({name:"y3i90j",styles:"height:100%;color:white;-webkit-text-stroke:0.2rem black;font-weight:bold;position:relative;display:flex;flex-direction:column"}),wAe=K("div",{target:"el0barv3"})({name:"1x1omeb",styles:"position:absolute;top:0;left:0;width:100%;height:100%;canvas{width:100%;height:100%;}"}),EAe=K("div",{target:"el0barv2"})({name:"1b4920d",styles:"position:absolute;top:0;left:0;width:100%;height:100%"}),TAe=K("div",{target:"el0barv1"})({name:"od05bk",styles:"flex:1;height:100%;box-sizing:border-box;font-size:5.5rem;display:flex;justify-content:space-around;padding-right:4rem;flex-direction:column;text-align:right;z-index:1"}),mj=K("span",{target:"el0barv0"})("");function CAe(e,t){const[n,r]=x.useState(0);return x.useEffect(()=>{e.current&&t===qn.PLAYING&&n===0&&e.current.getDuration().then(i=>{r(i),at.setDuration(i)})},[n,e,t]),n}const i6=(e,t)=>{const[n,r]=x.useState(0),[i,s]=x.useState(qn.UNSTARTED),[l]=bt(Ed);return x.useEffect(()=>{if(e.current&&i===qn.PLAYING){const c=setInterval(async()=>{if(!e.current)return;const d=Math.max(0,await e.current.getCurrentTime()*1e3-l);r(d),t==null||t(d)},1e3/Ec.get());return()=>clearInterval(c)}},[e,i,l]),[i,s,n]};function kAe({song:e,width:t,height:n,autoplay:r=!0,showControls:i=!1,onCurrentTimeUpdate:s,onSongEnd:l,onStatusChange:c,effectsEnabled:d=!0,singSetup:u,restartSong:h,pauseMenu:p=!1,ref:v,...y}){const b=x.useRef(null),[_,w]=x.useState(!1),T=x.useCallback(U=>{s==null||s(U),at.setCurrentTime(U),at.update()},[s]),[k,R]=i6(b,T);x.useEffect(()=>(at.setSong(e),at.setSingSetup(u),()=>{at.resetSingSetup()}),[e,u]);const M=CAe(b,k);x.useImperativeHandle(v,()=>({seekTo:U=>b.current.seekTo(U),setPlaybackSpeed:U=>b.current.setPlaybackSpeed(U),play:()=>b.current.playVideo(),pause:()=>b.current.pauseVideo()}));const E=x.useCallback(U=>{R(U),c==null||c(U)},[R,c]),O=p,j=()=>{var U;w(!0),(U=b.current)==null||U.pauseVideo()},D=()=>{var U;w(!1),(U=b.current)==null||U.playVideo()},P=()=>{_?D():j()},C=Qx(k);x.useEffect(()=>{var L;if(!O)return;const U=C!==qn.PAUSED&&C!==qn.BUFFERING&&k===qn.PAUSED;k===qn.PLAYING&&_?(L=b.current)==null||L.pauseVideo():U&&!_&&w(!0)},[_,k,C,O]),gf({back:P},O,[_]);const N=x.useMemo(()=>({back:"Pause Menu"}),[]);return Af(N,d),g.jsxs(MAe,{...y,children:[_&&g.jsx(Eve,{onExit:l,onResume:D,onRestart:h}),k!==qn.UNSTARTED&&g.jsx(RAe,{style:{width:`${t}px`,height:`${n}px`},children:g.jsx(SAe,{isPauseMenuVisible:_,effectsEnabled:d,duration:M,currentStatus:k,song:e,width:t,height:n,onSongEnd:l,playerSetups:u.players,videoPlayerRef:b.current})}),g.jsxs(IAe,{children:[g.jsx(Xy,{ref:b,video:e.video,width:t,height:n,controls:i,autoplay:r,disablekb:!0,volume:e.volume,startAt:e.videoGap??0,onStateChange:E}),k===qn.PLAYING&&g.jsx(OAe,{"data-test":"make-song-go-fast",onClick:()=>{var U;(U=b.current)==null||U.setPlaybackSpeed(2)}})]})]})}const MAe=K("div",{target:"e1ggxuxd3"})({name:"bjn8wh",styles:"position:relative"}),RAe=K("div",{target:"e1ggxuxd2"})({name:"qkt6ng",styles:"position:absolute;z-index:1;background-color:rgba(0, 0, 0, 0.2);pointer-events:none;width:100%;height:100%;top:0;left:0"}),IAe=K("div",{target:"e1ggxuxd1"})({name:"j387f9",styles:"overflow:hidden;height:100%"}),OAe=K("div",{target:"e1ggxuxd0"})({name:"sp3f84",styles:"width:30px;height:30px;opacity:0.01;background:black;position:absolute;bottom:calc(100vh / 2 - 15px);left:0"}),jAe=()=>{const[e,{width:t}]=tne(),n=x.useRef(null),[r,i,s]=i6(n),[l,c]=x.useState(250);return x.useEffect(()=>{l<s&&c(l+250)},[l,s]),x.useEffect(()=>{var d;r===qn.PLAYING&&((d=n.current)==null||d.setPlaybackSpeed(.25))},[r]),g.jsxs("div",{className:"flex flex-col items-center justify-center",ref:e,children:[r===qn.PLAYING?g.jsx("div",{className:"w-[150px] h-[150px] rounded-full bg-active animate-calibrationPulse scale-0 absolute pointer-events-none"},l):g.jsxs(ps,{className:"pointer-events-none absolute text-center",children:[g.jsx("strong",{children:"Click here"})," to start calibration"]}),g.jsx("div",{className:"opacity-0",children:g.jsx(Xy,{autoplay:!0,ref:n,video:"ivNFSVAYVZU",width:t,height:150,onStateChange:i})})]})},PAe={vertical:null,horizontal:"Adjust input lag"},VAe=({onClick:e,focused:t,...n})=>{const[r,i]=bt(Ed);return Af(PAe,t),ri("left",()=>i(r-50),{enabled:t},[r]),ri("right",()=>i(r+50),{enabled:t},[r]),g.jsxs(jt.ButtonGroup,{...n,children:[g.jsx(jt.Button,{onClick:()=>i(r-50),className:"aspect-square",focused:t,children:""}),g.jsxs(jt.Button,{readOnly:!0,className:"flex-1","data-test":"input-lag-value","data-value":r,children:[r," ms"]}),g.jsx(jt.Button,{onClick:()=>i(r+50),className:"aspect-square",focused:t,children:""})]})},s6=({onClose:e,onSave:t})=>{const n=x.useRef(null),{register:r}=dr({onBackspace:e});return g.jsxs(g.Fragment,{children:[g.jsx(jt.Header,{children:"Sync video with sound "}),g.jsxs(jt.HelpText,{children:["Make sure the ",g.jsx("strong",{children:"circle"})," appears at the same time as the ",g.jsx("strong",{children:"click sound"}),"."]}),g.jsx(jAe,{}),g.jsxs(jt.HelpText,{children:["Click ",g.jsx("strong",{children:""})," if you hear the click ",g.jsx("strong",{children:"before"})," the circle."]}),g.jsx(VAe,{ref:n,...r("input-lag",()=>{var i;return(i=n.current)==null?void 0:i.focus()})}),g.jsxs(jt.HelpText,{className:"text-right",children:["Click ",g.jsx("strong",{children:""})," if you hear the click ",g.jsx("strong",{children:"after"})," the circle."]}),g.jsx(jt.Divider,{}),g.jsx(jt.Button,{...r("save",t),children:"Looks good, play the song"})]})},DAe=({onContinue:e})=>{const{register:t}=dr({onBackspace:e});return g.jsxs(g.Fragment,{children:[g.jsx(jt.Header,{children:"Calibration"}),g.jsx(jt.HelpText,{children:"Before you sing, ensure the sound is synchronized with video."}),g.jsxs(jt.HelpText,{children:["You can adjust the synchronization in ",g.jsx("strong",{children:"Pause Menu"})," later."]}),g.jsx(jt.Button,{...t("continue",e),children:"Continue"})]})},BAe=Wt(g.jsx("path",{d:"M16.59 7.58 10 14.17l-3.59-3.58L5 12l5 5 8-8zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"}),"CheckCircleOutline"),B_=15;function NAe({onFinish:e}){const[t,n]=x.useState(!1),[r,i]=x.useState([]);gi(me.readinessConfirmed,c=>{i(d=>[...d,c])});const s=hs([me.inputListChanged,me.readinessConfirmed],()=>tt.getPlayers().map((c,d)=>[c.input.deviceId,c.getName(),c]));x.useEffect(()=>{(async()=>{let c=!1;const d=tt.requestReadiness().then(()=>{c=!0,n(!0)}),u=ud(1500),h=ud(B_*1e3);await ud(250),c||await O0.play(),await Promise.race([Promise.all([d,u]),h]),O0.playing()&&vD.play(),await ud(500),O0.stop(),await ud(1e3),e()})()},[]);const l=s.map(([c,d,u])=>({confirmed:r.includes(c),name:d,player:u}));return g.jsx(g.Fragment,{children:g.jsxs(LAe,{children:[!t&&g.jsxs("span",{children:["Waiting for all players to click ",g.jsx("strong",{children:'"Ready"'})]}),g.jsx(zAe,{children:l.map(({confirmed:c,name:d,player:u},h)=>g.jsxs($Ae,{className:"ph-no-capture","data-test":"player-confirm-status","data-name":d,"data-confirmed":c,children:[!t&&g.jsx(UAe,{children:c?g.jsx(BAe,{}):g.jsx(lg,{color:"info",size:"1em"})})," ",g.jsx(OL,{player:u})]},h))}),!t&&g.jsxs(FAe,{children:["The song will start automatically in"," ",g.jsx("strong",{children:g.jsx(l2,{end:0,start:B_,duration:B_,useEasing:!1})})]})]})})}const LAe=K("div",{target:"e1wiz9j54"})("top:0;left:0;z-index:1000;display:flex;align-items:center;justify-content:center;flex-direction:column;position:absolute;width:100%;height:100%;gap:5rem;font-size:5rem;",Ot,";"),FAe=K("span",{target:"e1wiz9j53"})({name:"1umnjfm",styles:"font-size:5rem"}),zAe=K("div",{target:"e1wiz9j52"})({name:"1uxgijs",styles:"display:flex;flex-direction:column;gap:5rem;width:50rem;view-transition-name:player-mic-check-container"}),$Ae=K("div",{target:"e1wiz9j51"})({name:"174652e",styles:"display:flex;align-items:center;gap:2rem;transform:scale(1.5)"}),UAe=K("span",{target:"e1wiz9j50"})({name:"1l5xwqu",styles:"svg{width:5rem;height:5rem;stroke:black;}"}),vj=[g.jsxs(g.Fragment,{children:["You can follow the updates and give feedback on the game through the Facebook Page:"," ",g.jsx("a",{href:"https://www.facebook.com/allkaraoke.party",target:"_blank",rel:"noreferrer",children:g.jsx("strong",{children:"fb.com/AllKaraoke.Party"})})]}),g.jsxs(g.Fragment,{children:["Start typing a name of a song in ",g.jsx("strong",{children:"Song Selection"})," to active Search feature"]}),g.jsxs(g.Fragment,{children:["Narrow down songs through ",g.jsx("strong",{children:"playlists"})," on the right in Song Selection"]}),g.jsxs(g.Fragment,{children:["Select ",g.jsx("strong",{children:"Pass The Mic"})," Game Mode to share the microphones and sing in a team"]}),g.jsxs(g.Fragment,{children:["Your scores and ",g.jsx("strong",{children:"stats are saved"})," in this browser - they will be available for the next party!"]}),g.jsxs(g.Fragment,{children:["You can remove irrelevant songs from the Song Selection in ",g.jsx("strong",{children:"Edit Songs"})," page"]}),g.jsxs(g.Fragment,{children:["If the game feels a bit jaggy with low FPS, check out ",g.jsx("strong",{children:"Settings"})," page"]}),g.jsxs(g.Fragment,{children:["Party is only getting started? Play ",g.jsx("strong",{children:"Jukebox"})," for the music and to see what songs are available"]}),g.jsxs(g.Fragment,{children:["Research shows that ",g.jsx("strong",{children:"duet songs"})," are that bit more fun than simple one-track ones"]}),g.jsxs(g.Fragment,{children:["Want to sing a ",g.jsx("strong",{children:"new song"}),"? Find UltraStar version of it and import it with",g.jsx("br",{}),g.jsx("strong",{children:"Convert Ultrastar .txt"})]}),g.jsxs(g.Fragment,{children:["The ",g.jsx("strong",{children:"white pulse"})," around selected song in Song Selection tries to match song's tempo"]}),g.jsxs(g.Fragment,{children:["Entire game (besides add/edit song) is navigable with ",g.jsx("strong",{children:"Keyboard"})]}),g.jsxs(g.Fragment,{children:["You can hide or show keyboard navigation help with ",g.jsx("kbd",{children:"H"})," key"]}),g.jsxs(g.Fragment,{children:["In Song Selection, hold ",g.jsx("kbd",{children:""})," or ",g.jsx("kbd",{children:""})," to jump to the next letter"]}),g.jsxs(g.Fragment,{children:["Add ",g.jsx("strong",{children:"vibrato"})," to the notes you sing to get additional ",g.jsx("strong",{children:"bonus points"})]}),g.jsxs(g.Fragment,{children:["You can control the game with your phone - click on the"," ",g.jsxs("strong",{children:[g.jsx(jv,{}),"QR Code Icon"]})," ","on the top right and follow the instructions"]})],HAe=({as:e="h4",...t})=>{const n=x.useRef(uo(0,vj.length-1)),r=e;return g.jsx(r,{...t,children:vj[n.current]})};function yj(){const[e,t]=x.useState(""),n=x.useRef(null);return x.useEffect(()=>{const r=setTimeout(()=>{t(zi.getVideo())},1e3);return()=>{clearTimeout(r)}},[]),x.useEffect(()=>{try{n.current&&(n.current.playbackRate=16)}catch(r){fo(r)}},[e]),g.jsxs("div",{className:"flex flex-col",children:[g.jsx(qAe,{src:e,ref:n,loop:!0,autoPlay:!0,className:"ph-no-capture"}),g.jsxs(ps,{className:"text-center mt-4",children:["You can disable camera mode in ",g.jsx("strong",{children:"Settings"}),"."]})]})}const qAe=K("video",{target:"e1hckw6c0"})({name:"13oog92",styles:"object-fit:cover;width:100%;aspect-ratio:4/3;border-radius:1rem"}),GAe="/assets/timelapse-C72FPkyX.webm",YAe=({register:e,onConfirm:t,loading:n})=>{const r=x.useRef(null),i=zi.getPermissionStatus();return x.useEffect(()=>{!n&&i&&zi.getLiveCameraFeed().then(s=>{r.current&&s&&(r.current.srcObject=s)})},[n]),g.jsxs("div",{className:`aspect-[4/3] relative flex justify-center ${i?"items-end":"items-center"}`,children:[g.jsx("div",{className:"bg-black rounded-2xl",children:g.jsx("video",{autoPlay:!0,loop:!0,src:GAe,className:`rounded-2xl ${!i&&"opacity-25"}`,ref:r})}),g.jsx("div",{className:"absolute flex flex-col gap-4 p-4",children:i?g.jsx("h3",{children:"Adjust the camera position"}):g.jsxs(g.Fragment,{children:[g.jsxs("h2",{children:["Get a ",g.jsx("strong",{children:"timelapse"})," of you singing"]}),g.jsx(qE,{className:"w-full p-4 animate-focused",...e("enable-camera",t,void 0,!1,{disabled:n}),children:"Enable camera"}),g.jsx(ps,{className:"text-sm",children:"The recording is not sent nor stored anywhere."})]})}),!i&&g.jsxs(ps,{className:"absolute right-0 bottom-0 text-sm p-4",children:["Placeholder video from"," ",g.jsx("a",{href:"https://www.storyblocks.com/",target:"_blank",rel:"noreferrer",children:"Storyblocks.com"})]})]})};function KAe(e){return 1-Math.pow(1-e,3)}function WAe(e){return KAe(e)}function m0({color:e,maxScore:t,score:n}){return g.jsx(QAe,{style:{border:n===0?0:void 0,width:`${WAe(n/t)*24}%`,backgroundColor:e}})}const QAe=K("div",{target:"e6b38g50"})({name:"1vc31u",styles:`background-image:linear-gradient(
    180deg,
    rgba(0, 0, 0, 0.17) 0%,
    rgba(0, 0, 0, 0.03) 50%,
    rgba(0, 0, 0, 0.18) 51%,
    rgba(0, 0, 0, 0.18) 100%
  );transition:1s;border-radius:0.5rem;height:100%;border:solid 0.1rem black;box-sizing:border-box`});var q0={exports:{}},XAe=q0.exports,Aj;function JAe(){return Aj||(Aj=1,function(e,t){(function(n,r){e.exports=r(eu())})(typeof self<"u"?self:XAe,n=>(()=>{var r={7403:(c,d,u)=>{u.d(d,{default:()=>Q});var h=u(4087),p=u.n(h);const v=function(J){return new RegExp(/<[a-z][\s\S]*>/i).test(J)},y=function(J,B){return Math.floor(Math.random()*(B-J+1))+J};var b="TYPE_CHARACTER",_="REMOVE_CHARACTER",w="REMOVE_ALL",T="REMOVE_LAST_VISIBLE_NODE",k="PAUSE_FOR",R="CALL_FUNCTION",M="ADD_HTML_TAG_ELEMENT",E="CHANGE_DELETE_SPEED",O="CHANGE_DELAY",j="CHANGE_CURSOR",D="PASTE_STRING",P="HTML_TAG";function C(J){return C=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},C(J)}function N(J,B){var G=Object.keys(J);if(Object.getOwnPropertySymbols){var ee=Object.getOwnPropertySymbols(J);B&&(ee=ee.filter(function(ue){return Object.getOwnPropertyDescriptor(J,ue).enumerable})),G.push.apply(G,ee)}return G}function U(J){for(var B=1;B<arguments.length;B++){var G=arguments[B]!=null?arguments[B]:{};B%2?N(Object(G),!0).forEach(function(ee){V(J,ee,G[ee])}):Object.getOwnPropertyDescriptors?Object.defineProperties(J,Object.getOwnPropertyDescriptors(G)):N(Object(G)).forEach(function(ee){Object.defineProperty(J,ee,Object.getOwnPropertyDescriptor(G,ee))})}return J}function L(J){return function(B){if(Array.isArray(B))return q(B)}(J)||function(B){if(typeof Symbol<"u"&&B[Symbol.iterator]!=null||B["@@iterator"]!=null)return Array.from(B)}(J)||function(B,G){if(B){if(typeof B=="string")return q(B,G);var ee=Object.prototype.toString.call(B).slice(8,-1);return ee==="Object"&&B.constructor&&(ee=B.constructor.name),ee==="Map"||ee==="Set"?Array.from(B):ee==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ee)?q(B,G):void 0}}(J)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function q(J,B){(B==null||B>J.length)&&(B=J.length);for(var G=0,ee=new Array(B);G<B;G++)ee[G]=J[G];return ee}function H(J,B){for(var G=0;G<B.length;G++){var ee=B[G];ee.enumerable=ee.enumerable||!1,ee.configurable=!0,"value"in ee&&(ee.writable=!0),Object.defineProperty(J,W(ee.key),ee)}}function V(J,B,G){return(B=W(B))in J?Object.defineProperty(J,B,{value:G,enumerable:!0,configurable:!0,writable:!0}):J[B]=G,J}function W(J){var B=function(G,ee){if(C(G)!=="object"||G===null)return G;var ue=G[Symbol.toPrimitive];if(ue!==void 0){var F=ue.call(G,"string");if(C(F)!=="object")return F;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(G)}(J);return C(B)==="symbol"?B:String(B)}const Q=function(){function J(ee,ue){var F=this;if(function(se,Se){if(!(se instanceof Se))throw new TypeError("Cannot call a class as a function")}(this,J),V(this,"state",{cursorAnimation:null,lastFrameTime:null,pauseUntil:null,eventQueue:[],eventLoop:null,eventLoopPaused:!1,reverseCalledEvents:[],calledEvents:[],visibleNodes:[],initialOptions:null,elements:{container:null,wrapper:document.createElement("span"),cursor:document.createElement("span")}}),V(this,"options",{strings:null,cursor:"|",delay:"natural",pauseFor:1500,deleteSpeed:"natural",loop:!1,autoStart:!1,devMode:!1,skipAddStyles:!1,wrapperClassName:"Typewriter__wrapper",cursorClassName:"Typewriter__cursor",stringSplitter:null,onCreateTextNode:null,onRemoveNode:null}),V(this,"setupWrapperElement",function(){F.state.elements.container&&(F.state.elements.wrapper.className=F.options.wrapperClassName,F.state.elements.cursor.className=F.options.cursorClassName,F.state.elements.cursor.innerHTML=F.options.cursor,F.state.elements.container.innerHTML="",F.state.elements.container.appendChild(F.state.elements.wrapper),F.state.elements.container.appendChild(F.state.elements.cursor))}),V(this,"start",function(){return F.state.eventLoopPaused=!1,F.runEventLoop(),F}),V(this,"pause",function(){return F.state.eventLoopPaused=!0,F}),V(this,"stop",function(){return F.state.eventLoop&&((0,h.cancel)(F.state.eventLoop),F.state.eventLoop=null),F}),V(this,"pauseFor",function(se){return F.addEventToQueue(k,{ms:se}),F}),V(this,"typeOutAllStrings",function(){return typeof F.options.strings=="string"?(F.typeString(F.options.strings).pauseFor(F.options.pauseFor),F):(F.options.strings.forEach(function(se){F.typeString(se).pauseFor(F.options.pauseFor).deleteAll(F.options.deleteSpeed)}),F)}),V(this,"typeString",function(se){var Se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(v(se))return F.typeOutHTMLString(se,Se);if(se){var Me=(F.options||{}).stringSplitter,Re=typeof Me=="function"?Me(se):se.split("");F.typeCharacters(Re,Se)}return F}),V(this,"pasteString",function(se){var Se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return v(se)?F.typeOutHTMLString(se,Se,!0):(se&&F.addEventToQueue(D,{character:se,node:Se}),F)}),V(this,"typeOutHTMLString",function(se){var Se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,Me=arguments.length>2?arguments[2]:void 0,Re=function($e){var De=document.createElement("div");return De.innerHTML=$e,De.childNodes}(se);if(Re.length>0)for(var ve=0;ve<Re.length;ve++){var je=Re[ve],Ge=je.innerHTML;je&&je.nodeType!==3?(je.innerHTML="",F.addEventToQueue(M,{node:je,parentNode:Se}),Me?F.pasteString(Ge,je):F.typeString(Ge,je)):je.textContent&&(Me?F.pasteString(je.textContent,Se):F.typeString(je.textContent,Se))}return F}),V(this,"deleteAll",function(){var se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"natural";return F.addEventToQueue(w,{speed:se}),F}),V(this,"changeDeleteSpeed",function(se){if(!se)throw new Error("Must provide new delete speed");return F.addEventToQueue(E,{speed:se}),F}),V(this,"changeDelay",function(se){if(!se)throw new Error("Must provide new delay");return F.addEventToQueue(O,{delay:se}),F}),V(this,"changeCursor",function(se){if(!se)throw new Error("Must provide new cursor");return F.addEventToQueue(j,{cursor:se}),F}),V(this,"deleteChars",function(se){if(!se)throw new Error("Must provide amount of characters to delete");for(var Se=0;Se<se;Se++)F.addEventToQueue(_);return F}),V(this,"callFunction",function(se,Se){if(!se||typeof se!="function")throw new Error("Callback must be a function");return F.addEventToQueue(R,{cb:se,thisArg:Se}),F}),V(this,"typeCharacters",function(se){var Se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!se||!Array.isArray(se))throw new Error("Characters must be an array");return se.forEach(function(Me){F.addEventToQueue(b,{character:Me,node:Se})}),F}),V(this,"removeCharacters",function(se){if(!se||!Array.isArray(se))throw new Error("Characters must be an array");return se.forEach(function(){F.addEventToQueue(_)}),F}),V(this,"addEventToQueue",function(se,Se){var Me=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return F.addEventToStateProperty(se,Se,Me,"eventQueue")}),V(this,"addReverseCalledEvent",function(se,Se){var Me=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return F.options.loop?F.addEventToStateProperty(se,Se,Me,"reverseCalledEvents"):F}),V(this,"addEventToStateProperty",function(se,Se){var Me=arguments.length>2&&arguments[2]!==void 0&&arguments[2],Re=arguments.length>3?arguments[3]:void 0,ve={eventName:se,eventArgs:Se||{}};return F.state[Re]=Me?[ve].concat(L(F.state[Re])):[].concat(L(F.state[Re]),[ve]),F}),V(this,"runEventLoop",function(){F.state.lastFrameTime||(F.state.lastFrameTime=Date.now());var se=Date.now(),Se=se-F.state.lastFrameTime;if(!F.state.eventQueue.length){if(!F.options.loop)return;F.state.eventQueue=L(F.state.calledEvents),F.state.calledEvents=[],F.options=U({},F.state.initialOptions)}if(F.state.eventLoop=p()(F.runEventLoop),!F.state.eventLoopPaused){if(F.state.pauseUntil){if(se<F.state.pauseUntil)return;F.state.pauseUntil=null}var Me,Re=L(F.state.eventQueue),ve=Re.shift();if(!(Se<=(Me=ve.eventName===T||ve.eventName===_?F.options.deleteSpeed==="natural"?y(40,80):F.options.deleteSpeed:F.options.delay==="natural"?y(120,160):F.options.delay))){var je=ve.eventName,Ge=ve.eventArgs;switch(F.logInDevMode({currentEvent:ve,state:F.state,delay:Me}),je){case D:case b:var $e=Ge.character,De=Ge.node,Ve=document.createTextNode($e),ot=Ve;F.options.onCreateTextNode&&typeof F.options.onCreateTextNode=="function"&&(ot=F.options.onCreateTextNode($e,Ve)),ot&&(De?De.appendChild(ot):F.state.elements.wrapper.appendChild(ot)),F.state.visibleNodes=[].concat(L(F.state.visibleNodes),[{type:"TEXT_NODE",character:$e,node:ot}]);break;case _:Re.unshift({eventName:T,eventArgs:{removingCharacterNode:!0}});break;case k:var ft=ve.eventArgs.ms;F.state.pauseUntil=Date.now()+parseInt(ft);break;case R:var Be=ve.eventArgs,ut=Be.cb,en=Be.thisArg;ut.call(en,{elements:F.state.elements});break;case M:var pn=ve.eventArgs,sn=pn.node,qe=pn.parentNode;qe?qe.appendChild(sn):F.state.elements.wrapper.appendChild(sn),F.state.visibleNodes=[].concat(L(F.state.visibleNodes),[{type:P,node:sn,parentNode:qe||F.state.elements.wrapper}]);break;case w:var pt=F.state.visibleNodes,un=Ge.speed,on=[];un&&on.push({eventName:E,eventArgs:{speed:un,temp:!0}});for(var yt=0,lt=pt.length;yt<lt;yt++)on.push({eventName:T,eventArgs:{removingCharacterNode:!1}});un&&on.push({eventName:E,eventArgs:{speed:F.options.deleteSpeed,temp:!0}}),Re.unshift.apply(Re,on);break;case T:var rt=ve.eventArgs.removingCharacterNode;if(F.state.visibleNodes.length){var Ct=F.state.visibleNodes.pop(),Nn=Ct.type,Ut=Ct.node,_t=Ct.character;F.options.onRemoveNode&&typeof F.options.onRemoveNode=="function"&&F.options.onRemoveNode({node:Ut,character:_t}),Ut&&Ut.parentNode.removeChild(Ut),Nn===P&&rt&&Re.unshift({eventName:T,eventArgs:{}})}break;case E:F.options.deleteSpeed=ve.eventArgs.speed;break;case O:F.options.delay=ve.eventArgs.delay;break;case j:F.options.cursor=ve.eventArgs.cursor,F.state.elements.cursor.innerHTML=ve.eventArgs.cursor}F.options.loop&&(ve.eventName===T||ve.eventArgs&&ve.eventArgs.temp||(F.state.calledEvents=[].concat(L(F.state.calledEvents),[ve]))),F.state.eventQueue=Re,F.state.lastFrameTime=se}}}),ee)if(typeof ee=="string"){var ge=document.querySelector(ee);if(!ge)throw new Error("Could not find container element");this.state.elements.container=ge}else this.state.elements.container=ee;ue&&(this.options=U(U({},this.options),ue)),this.state.initialOptions=U({},this.options),this.init()}var B,G;return B=J,(G=[{key:"init",value:function(){var ee,ue;this.setupWrapperElement(),this.addEventToQueue(j,{cursor:this.options.cursor},!0),this.addEventToQueue(w,null,!0),!window||window.___TYPEWRITER_JS_STYLES_ADDED___||this.options.skipAddStyles||(ee=".Typewriter__cursor{-webkit-animation:Typewriter-cursor 1s infinite;animation:Typewriter-cursor 1s infinite;margin-left:1px}@-webkit-keyframes Typewriter-cursor{0%{opacity:0}50%{opacity:1}100%{opacity:0}}@keyframes Typewriter-cursor{0%{opacity:0}50%{opacity:1}100%{opacity:0}}",(ue=document.createElement("style")).appendChild(document.createTextNode(ee)),document.head.appendChild(ue),window.___TYPEWRITER_JS_STYLES_ADDED___=!0),this.options.autoStart===!0&&this.options.strings&&this.typeOutAllStrings().start()}},{key:"logInDevMode",value:function(ee){this.options.devMode&&console.log(ee)}}])&&H(B.prototype,G),Object.defineProperty(B,"prototype",{writable:!1}),J}()},8552:(c,d,u)=>{var h=u(852)(u(5639),"DataView");c.exports=h},1989:(c,d,u)=>{var h=u(1789),p=u(401),v=u(7667),y=u(1327),b=u(1866);function _(w){var T=-1,k=w==null?0:w.length;for(this.clear();++T<k;){var R=w[T];this.set(R[0],R[1])}}_.prototype.clear=h,_.prototype.delete=p,_.prototype.get=v,_.prototype.has=y,_.prototype.set=b,c.exports=_},8407:(c,d,u)=>{var h=u(7040),p=u(4125),v=u(2117),y=u(7518),b=u(4705);function _(w){var T=-1,k=w==null?0:w.length;for(this.clear();++T<k;){var R=w[T];this.set(R[0],R[1])}}_.prototype.clear=h,_.prototype.delete=p,_.prototype.get=v,_.prototype.has=y,_.prototype.set=b,c.exports=_},7071:(c,d,u)=>{var h=u(852)(u(5639),"Map");c.exports=h},3369:(c,d,u)=>{var h=u(4785),p=u(1285),v=u(6e3),y=u(9916),b=u(5265);function _(w){var T=-1,k=w==null?0:w.length;for(this.clear();++T<k;){var R=w[T];this.set(R[0],R[1])}}_.prototype.clear=h,_.prototype.delete=p,_.prototype.get=v,_.prototype.has=y,_.prototype.set=b,c.exports=_},3818:(c,d,u)=>{var h=u(852)(u(5639),"Promise");c.exports=h},8525:(c,d,u)=>{var h=u(852)(u(5639),"Set");c.exports=h},8668:(c,d,u)=>{var h=u(3369),p=u(619),v=u(2385);function y(b){var _=-1,w=b==null?0:b.length;for(this.__data__=new h;++_<w;)this.add(b[_])}y.prototype.add=y.prototype.push=p,y.prototype.has=v,c.exports=y},6384:(c,d,u)=>{var h=u(8407),p=u(7465),v=u(3779),y=u(7599),b=u(4758),_=u(4309);function w(T){var k=this.__data__=new h(T);this.size=k.size}w.prototype.clear=p,w.prototype.delete=v,w.prototype.get=y,w.prototype.has=b,w.prototype.set=_,c.exports=w},2705:(c,d,u)=>{var h=u(5639).Symbol;c.exports=h},1149:(c,d,u)=>{var h=u(5639).Uint8Array;c.exports=h},577:(c,d,u)=>{var h=u(852)(u(5639),"WeakMap");c.exports=h},4963:c=>{c.exports=function(d,u){for(var h=-1,p=d==null?0:d.length,v=0,y=[];++h<p;){var b=d[h];u(b,h,d)&&(y[v++]=b)}return y}},4636:(c,d,u)=>{var h=u(2545),p=u(5694),v=u(1469),y=u(4144),b=u(5776),_=u(6719),w=Object.prototype.hasOwnProperty;c.exports=function(T,k){var R=v(T),M=!R&&p(T),E=!R&&!M&&y(T),O=!R&&!M&&!E&&_(T),j=R||M||E||O,D=j?h(T.length,String):[],P=D.length;for(var C in T)!k&&!w.call(T,C)||j&&(C=="length"||E&&(C=="offset"||C=="parent")||O&&(C=="buffer"||C=="byteLength"||C=="byteOffset")||b(C,P))||D.push(C);return D}},2488:c=>{c.exports=function(d,u){for(var h=-1,p=u.length,v=d.length;++h<p;)d[v+h]=u[h];return d}},2908:c=>{c.exports=function(d,u){for(var h=-1,p=d==null?0:d.length;++h<p;)if(u(d[h],h,d))return!0;return!1}},8470:(c,d,u)=>{var h=u(7813);c.exports=function(p,v){for(var y=p.length;y--;)if(h(p[y][0],v))return y;return-1}},8866:(c,d,u)=>{var h=u(2488),p=u(1469);c.exports=function(v,y,b){var _=y(v);return p(v)?_:h(_,b(v))}},4239:(c,d,u)=>{var h=u(2705),p=u(9607),v=u(2333),y=h?h.toStringTag:void 0;c.exports=function(b){return b==null?b===void 0?"[object Undefined]":"[object Null]":y&&y in Object(b)?p(b):v(b)}},9454:(c,d,u)=>{var h=u(4239),p=u(7005);c.exports=function(v){return p(v)&&h(v)=="[object Arguments]"}},939:(c,d,u)=>{var h=u(2492),p=u(7005);c.exports=function v(y,b,_,w,T){return y===b||(y==null||b==null||!p(y)&&!p(b)?y!=y&&b!=b:h(y,b,_,w,v,T))}},2492:(c,d,u)=>{var h=u(6384),p=u(7114),v=u(8351),y=u(6096),b=u(4160),_=u(1469),w=u(4144),T=u(6719),k="[object Arguments]",R="[object Array]",M="[object Object]",E=Object.prototype.hasOwnProperty;c.exports=function(O,j,D,P,C,N){var U=_(O),L=_(j),q=U?R:b(O),H=L?R:b(j),V=(q=q==k?M:q)==M,W=(H=H==k?M:H)==M,Q=q==H;if(Q&&w(O)){if(!w(j))return!1;U=!0,V=!1}if(Q&&!V)return N||(N=new h),U||T(O)?p(O,j,D,P,C,N):v(O,j,q,D,P,C,N);if(!(1&D)){var J=V&&E.call(O,"__wrapped__"),B=W&&E.call(j,"__wrapped__");if(J||B){var G=J?O.value():O,ee=B?j.value():j;return N||(N=new h),C(G,ee,D,P,N)}}return!!Q&&(N||(N=new h),y(O,j,D,P,C,N))}},8458:(c,d,u)=>{var h=u(3560),p=u(5346),v=u(3218),y=u(346),b=/^\[object .+?Constructor\]$/,_=Function.prototype,w=Object.prototype,T=_.toString,k=w.hasOwnProperty,R=RegExp("^"+T.call(k).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");c.exports=function(M){return!(!v(M)||p(M))&&(h(M)?R:b).test(y(M))}},8749:(c,d,u)=>{var h=u(4239),p=u(1780),v=u(7005),y={};y["[object Float32Array]"]=y["[object Float64Array]"]=y["[object Int8Array]"]=y["[object Int16Array]"]=y["[object Int32Array]"]=y["[object Uint8Array]"]=y["[object Uint8ClampedArray]"]=y["[object Uint16Array]"]=y["[object Uint32Array]"]=!0,y["[object Arguments]"]=y["[object Array]"]=y["[object ArrayBuffer]"]=y["[object Boolean]"]=y["[object DataView]"]=y["[object Date]"]=y["[object Error]"]=y["[object Function]"]=y["[object Map]"]=y["[object Number]"]=y["[object Object]"]=y["[object RegExp]"]=y["[object Set]"]=y["[object String]"]=y["[object WeakMap]"]=!1,c.exports=function(b){return v(b)&&p(b.length)&&!!y[h(b)]}},280:(c,d,u)=>{var h=u(5726),p=u(6916),v=Object.prototype.hasOwnProperty;c.exports=function(y){if(!h(y))return p(y);var b=[];for(var _ in Object(y))v.call(y,_)&&_!="constructor"&&b.push(_);return b}},2545:c=>{c.exports=function(d,u){for(var h=-1,p=Array(d);++h<d;)p[h]=u(h);return p}},1717:c=>{c.exports=function(d){return function(u){return d(u)}}},4757:c=>{c.exports=function(d,u){return d.has(u)}},4429:(c,d,u)=>{var h=u(5639)["__core-js_shared__"];c.exports=h},7114:(c,d,u)=>{var h=u(8668),p=u(2908),v=u(4757);c.exports=function(y,b,_,w,T,k){var R=1&_,M=y.length,E=b.length;if(M!=E&&!(R&&E>M))return!1;var O=k.get(y),j=k.get(b);if(O&&j)return O==b&&j==y;var D=-1,P=!0,C=2&_?new h:void 0;for(k.set(y,b),k.set(b,y);++D<M;){var N=y[D],U=b[D];if(w)var L=R?w(U,N,D,b,y,k):w(N,U,D,y,b,k);if(L!==void 0){if(L)continue;P=!1;break}if(C){if(!p(b,function(q,H){if(!v(C,H)&&(N===q||T(N,q,_,w,k)))return C.push(H)})){P=!1;break}}else if(N!==U&&!T(N,U,_,w,k)){P=!1;break}}return k.delete(y),k.delete(b),P}},8351:(c,d,u)=>{var h=u(2705),p=u(1149),v=u(7813),y=u(7114),b=u(8776),_=u(1814),w=h?h.prototype:void 0,T=w?w.valueOf:void 0;c.exports=function(k,R,M,E,O,j,D){switch(M){case"[object DataView]":if(k.byteLength!=R.byteLength||k.byteOffset!=R.byteOffset)return!1;k=k.buffer,R=R.buffer;case"[object ArrayBuffer]":return!(k.byteLength!=R.byteLength||!j(new p(k),new p(R)));case"[object Boolean]":case"[object Date]":case"[object Number]":return v(+k,+R);case"[object Error]":return k.name==R.name&&k.message==R.message;case"[object RegExp]":case"[object String]":return k==R+"";case"[object Map]":var P=b;case"[object Set]":var C=1&E;if(P||(P=_),k.size!=R.size&&!C)return!1;var N=D.get(k);if(N)return N==R;E|=2,D.set(k,R);var U=y(P(k),P(R),E,O,j,D);return D.delete(k),U;case"[object Symbol]":if(T)return T.call(k)==T.call(R)}return!1}},6096:(c,d,u)=>{var h=u(8234),p=Object.prototype.hasOwnProperty;c.exports=function(v,y,b,_,w,T){var k=1&b,R=h(v),M=R.length;if(M!=h(y).length&&!k)return!1;for(var E=M;E--;){var O=R[E];if(!(k?O in y:p.call(y,O)))return!1}var j=T.get(v),D=T.get(y);if(j&&D)return j==y&&D==v;var P=!0;T.set(v,y),T.set(y,v);for(var C=k;++E<M;){var N=v[O=R[E]],U=y[O];if(_)var L=k?_(U,N,O,y,v,T):_(N,U,O,v,y,T);if(!(L===void 0?N===U||w(N,U,b,_,T):L)){P=!1;break}C||(C=O=="constructor")}if(P&&!C){var q=v.constructor,H=y.constructor;q==H||!("constructor"in v)||!("constructor"in y)||typeof q=="function"&&q instanceof q&&typeof H=="function"&&H instanceof H||(P=!1)}return T.delete(v),T.delete(y),P}},1957:(c,d,u)=>{var h=typeof u.g=="object"&&u.g&&u.g.Object===Object&&u.g;c.exports=h},8234:(c,d,u)=>{var h=u(8866),p=u(9551),v=u(3674);c.exports=function(y){return h(y,v,p)}},5050:(c,d,u)=>{var h=u(7019);c.exports=function(p,v){var y=p.__data__;return h(v)?y[typeof v=="string"?"string":"hash"]:y.map}},852:(c,d,u)=>{var h=u(8458),p=u(7801);c.exports=function(v,y){var b=p(v,y);return h(b)?b:void 0}},9607:(c,d,u)=>{var h=u(2705),p=Object.prototype,v=p.hasOwnProperty,y=p.toString,b=h?h.toStringTag:void 0;c.exports=function(_){var w=v.call(_,b),T=_[b];try{_[b]=void 0;var k=!0}catch{}var R=y.call(_);return k&&(w?_[b]=T:delete _[b]),R}},9551:(c,d,u)=>{var h=u(4963),p=u(479),v=Object.prototype.propertyIsEnumerable,y=Object.getOwnPropertySymbols,b=y?function(_){return _==null?[]:(_=Object(_),h(y(_),function(w){return v.call(_,w)}))}:p;c.exports=b},4160:(c,d,u)=>{var h=u(8552),p=u(7071),v=u(3818),y=u(8525),b=u(577),_=u(4239),w=u(346),T="[object Map]",k="[object Promise]",R="[object Set]",M="[object WeakMap]",E="[object DataView]",O=w(h),j=w(p),D=w(v),P=w(y),C=w(b),N=_;(h&&N(new h(new ArrayBuffer(1)))!=E||p&&N(new p)!=T||v&&N(v.resolve())!=k||y&&N(new y)!=R||b&&N(new b)!=M)&&(N=function(U){var L=_(U),q=L=="[object Object]"?U.constructor:void 0,H=q?w(q):"";if(H)switch(H){case O:return E;case j:return T;case D:return k;case P:return R;case C:return M}return L}),c.exports=N},7801:c=>{c.exports=function(d,u){return d==null?void 0:d[u]}},1789:(c,d,u)=>{var h=u(4536);c.exports=function(){this.__data__=h?h(null):{},this.size=0}},401:c=>{c.exports=function(d){var u=this.has(d)&&delete this.__data__[d];return this.size-=u?1:0,u}},7667:(c,d,u)=>{var h=u(4536),p=Object.prototype.hasOwnProperty;c.exports=function(v){var y=this.__data__;if(h){var b=y[v];return b==="__lodash_hash_undefined__"?void 0:b}return p.call(y,v)?y[v]:void 0}},1327:(c,d,u)=>{var h=u(4536),p=Object.prototype.hasOwnProperty;c.exports=function(v){var y=this.__data__;return h?y[v]!==void 0:p.call(y,v)}},1866:(c,d,u)=>{var h=u(4536);c.exports=function(p,v){var y=this.__data__;return this.size+=this.has(p)?0:1,y[p]=h&&v===void 0?"__lodash_hash_undefined__":v,this}},5776:c=>{var d=/^(?:0|[1-9]\d*)$/;c.exports=function(u,h){var p=typeof u;return!!(h=h??9007199254740991)&&(p=="number"||p!="symbol"&&d.test(u))&&u>-1&&u%1==0&&u<h}},7019:c=>{c.exports=function(d){var u=typeof d;return u=="string"||u=="number"||u=="symbol"||u=="boolean"?d!=="__proto__":d===null}},5346:(c,d,u)=>{var h,p=u(4429),v=(h=/[^.]+$/.exec(p&&p.keys&&p.keys.IE_PROTO||""))?"Symbol(src)_1."+h:"";c.exports=function(y){return!!v&&v in y}},5726:c=>{var d=Object.prototype;c.exports=function(u){var h=u&&u.constructor;return u===(typeof h=="function"&&h.prototype||d)}},7040:c=>{c.exports=function(){this.__data__=[],this.size=0}},4125:(c,d,u)=>{var h=u(8470),p=Array.prototype.splice;c.exports=function(v){var y=this.__data__,b=h(y,v);return!(b<0||(b==y.length-1?y.pop():p.call(y,b,1),--this.size,0))}},2117:(c,d,u)=>{var h=u(8470);c.exports=function(p){var v=this.__data__,y=h(v,p);return y<0?void 0:v[y][1]}},7518:(c,d,u)=>{var h=u(8470);c.exports=function(p){return h(this.__data__,p)>-1}},4705:(c,d,u)=>{var h=u(8470);c.exports=function(p,v){var y=this.__data__,b=h(y,p);return b<0?(++this.size,y.push([p,v])):y[b][1]=v,this}},4785:(c,d,u)=>{var h=u(1989),p=u(8407),v=u(7071);c.exports=function(){this.size=0,this.__data__={hash:new h,map:new(v||p),string:new h}}},1285:(c,d,u)=>{var h=u(5050);c.exports=function(p){var v=h(this,p).delete(p);return this.size-=v?1:0,v}},6e3:(c,d,u)=>{var h=u(5050);c.exports=function(p){return h(this,p).get(p)}},9916:(c,d,u)=>{var h=u(5050);c.exports=function(p){return h(this,p).has(p)}},5265:(c,d,u)=>{var h=u(5050);c.exports=function(p,v){var y=h(this,p),b=y.size;return y.set(p,v),this.size+=y.size==b?0:1,this}},8776:c=>{c.exports=function(d){var u=-1,h=Array(d.size);return d.forEach(function(p,v){h[++u]=[v,p]}),h}},4536:(c,d,u)=>{var h=u(852)(Object,"create");c.exports=h},6916:(c,d,u)=>{var h=u(5569)(Object.keys,Object);c.exports=h},1167:(c,d,u)=>{c=u.nmd(c);var h=u(1957),p=d&&!d.nodeType&&d,v=p&&c&&!c.nodeType&&c,y=v&&v.exports===p&&h.process,b=function(){try{return v&&v.require&&v.require("util").types||y&&y.binding&&y.binding("util")}catch{}}();c.exports=b},2333:c=>{var d=Object.prototype.toString;c.exports=function(u){return d.call(u)}},5569:c=>{c.exports=function(d,u){return function(h){return d(u(h))}}},5639:(c,d,u)=>{var h=u(1957),p=typeof self=="object"&&self&&self.Object===Object&&self,v=h||p||Function("return this")();c.exports=v},619:c=>{c.exports=function(d){return this.__data__.set(d,"__lodash_hash_undefined__"),this}},2385:c=>{c.exports=function(d){return this.__data__.has(d)}},1814:c=>{c.exports=function(d){var u=-1,h=Array(d.size);return d.forEach(function(p){h[++u]=p}),h}},7465:(c,d,u)=>{var h=u(8407);c.exports=function(){this.__data__=new h,this.size=0}},3779:c=>{c.exports=function(d){var u=this.__data__,h=u.delete(d);return this.size=u.size,h}},7599:c=>{c.exports=function(d){return this.__data__.get(d)}},4758:c=>{c.exports=function(d){return this.__data__.has(d)}},4309:(c,d,u)=>{var h=u(8407),p=u(7071),v=u(3369);c.exports=function(y,b){var _=this.__data__;if(_ instanceof h){var w=_.__data__;if(!p||w.length<199)return w.push([y,b]),this.size=++_.size,this;_=this.__data__=new v(w)}return _.set(y,b),this.size=_.size,this}},346:c=>{var d=Function.prototype.toString;c.exports=function(u){if(u!=null){try{return d.call(u)}catch{}try{return u+""}catch{}}return""}},7813:c=>{c.exports=function(d,u){return d===u||d!=d&&u!=u}},5694:(c,d,u)=>{var h=u(9454),p=u(7005),v=Object.prototype,y=v.hasOwnProperty,b=v.propertyIsEnumerable,_=h(function(){return arguments}())?h:function(w){return p(w)&&y.call(w,"callee")&&!b.call(w,"callee")};c.exports=_},1469:c=>{var d=Array.isArray;c.exports=d},8612:(c,d,u)=>{var h=u(3560),p=u(1780);c.exports=function(v){return v!=null&&p(v.length)&&!h(v)}},4144:(c,d,u)=>{c=u.nmd(c);var h=u(5639),p=u(5062),v=d&&!d.nodeType&&d,y=v&&c&&!c.nodeType&&c,b=y&&y.exports===v?h.Buffer:void 0,_=(b?b.isBuffer:void 0)||p;c.exports=_},8446:(c,d,u)=>{var h=u(939);c.exports=function(p,v){return h(p,v)}},3560:(c,d,u)=>{var h=u(4239),p=u(3218);c.exports=function(v){if(!p(v))return!1;var y=h(v);return y=="[object Function]"||y=="[object GeneratorFunction]"||y=="[object AsyncFunction]"||y=="[object Proxy]"}},1780:c=>{c.exports=function(d){return typeof d=="number"&&d>-1&&d%1==0&&d<=9007199254740991}},3218:c=>{c.exports=function(d){var u=typeof d;return d!=null&&(u=="object"||u=="function")}},7005:c=>{c.exports=function(d){return d!=null&&typeof d=="object"}},6719:(c,d,u)=>{var h=u(8749),p=u(1717),v=u(1167),y=v&&v.isTypedArray,b=y?p(y):h;c.exports=b},3674:(c,d,u)=>{var h=u(4636),p=u(280),v=u(8612);c.exports=function(y){return v(y)?h(y):p(y)}},479:c=>{c.exports=function(){return[]}},5062:c=>{c.exports=function(){return!1}},75:function(c){(function(){var d,u,h,p,v,y;typeof performance<"u"&&performance!==null&&performance.now?c.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(c.exports=function(){return(d()-v)/1e6},u=process.hrtime,p=(d=function(){var b;return 1e9*(b=u())[0]+b[1]})(),y=1e9*process.uptime(),v=p-y):Date.now?(c.exports=function(){return Date.now()-h},h=Date.now()):(c.exports=function(){return new Date().getTime()-h},h=new Date().getTime())}).call(this)},4087:(c,d,u)=>{for(var h=u(75),p=typeof window>"u"?u.g:window,v=["moz","webkit"],y="AnimationFrame",b=p["request"+y],_=p["cancel"+y]||p["cancelRequest"+y],w=0;!b&&w<v.length;w++)b=p[v[w]+"Request"+y],_=p[v[w]+"Cancel"+y]||p[v[w]+"CancelRequest"+y];if(!b||!_){var T=0,k=0,R=[];b=function(M){if(R.length===0){var E=h(),O=Math.max(0,16.666666666666668-(E-T));T=O+E,setTimeout(function(){var j=R.slice(0);R.length=0;for(var D=0;D<j.length;D++)if(!j[D].cancelled)try{j[D].callback(T)}catch(P){setTimeout(function(){throw P},0)}},Math.round(O))}return R.push({handle:++k,callback:M,cancelled:!1}),k},_=function(M){for(var E=0;E<R.length;E++)R[E].handle===M&&(R[E].cancelled=!0)}}c.exports=function(M){return b.call(p,M)},c.exports.cancel=function(){_.apply(p,arguments)},c.exports.polyfill=function(M){M||(M=p),M.requestAnimationFrame=b,M.cancelAnimationFrame=_}},8156:c=>{c.exports=n}},i={};function s(c){var d=i[c];if(d!==void 0)return d.exports;var u=i[c]={id:c,loaded:!1,exports:{}};return r[c].call(u.exports,u,u.exports,s),u.loaded=!0,u.exports}s.n=c=>{var d=c&&c.__esModule?()=>c.default:()=>c;return s.d(d,{a:d}),d},s.d=(c,d)=>{for(var u in d)s.o(d,u)&&!s.o(c,u)&&Object.defineProperty(c,u,{enumerable:!0,get:d[u]})},s.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),s.o=(c,d)=>Object.prototype.hasOwnProperty.call(c,d),s.nmd=c=>(c.paths=[],c.children||(c.children=[]),c);var l={};return(()=>{s.d(l,{default:()=>R});var c=s(8156),d=s.n(c),u=s(7403),h=s(8446),p=s.n(h);function v(M){return v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},v(M)}function y(M,E){for(var O=0;O<E.length;O++){var j=E[O];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(M,T(j.key),j)}}function b(M,E){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(O,j){return O.__proto__=j,O},b(M,E)}function _(M){if(M===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M}function w(M){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(E){return E.__proto__||Object.getPrototypeOf(E)},w(M)}function T(M){var E=function(O,j){if(v(O)!=="object"||O===null)return O;var D=O[Symbol.toPrimitive];if(D!==void 0){var P=D.call(O,"string");if(v(P)!=="object")return P;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(O)}(M);return v(E)==="symbol"?E:String(E)}var k=function(M){(function(N,U){if(typeof U!="function"&&U!==null)throw new TypeError("Super expression must either be null or a function");N.prototype=Object.create(U&&U.prototype,{constructor:{value:N,writable:!0,configurable:!0}}),Object.defineProperty(N,"prototype",{writable:!1}),U&&b(N,U)})(C,M);var E,O,j,D,P=(j=C,D=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var N,U=w(j);if(D){var L=w(this).constructor;N=Reflect.construct(U,arguments,L)}else N=U.apply(this,arguments);return function(q,H){if(H&&(v(H)==="object"||typeof H=="function"))return H;if(H!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _(q)}(this,N)});function C(){var N,U,L,q;(function(Q,J){if(!(Q instanceof J))throw new TypeError("Cannot call a class as a function")})(this,C);for(var H=arguments.length,V=new Array(H),W=0;W<H;W++)V[W]=arguments[W];return U=_(N=P.call.apply(P,[this].concat(V))),q={instance:null},(L=T(L="state"))in U?Object.defineProperty(U,L,{value:q,enumerable:!0,configurable:!0,writable:!0}):U[L]=q,N}return E=C,(O=[{key:"componentDidMount",value:function(){var N=this,U=new u.default(this.typewriter,this.props.options);this.setState({instance:U},function(){var L=N.props.onInit;L&&L(U)})}},{key:"componentDidUpdate",value:function(N){p()(this.props.options,N.options)||this.setState({instance:new u.default(this.typewriter,this.props.options)})}},{key:"componentWillUnmount",value:function(){this.state.instance&&this.state.instance.stop()}},{key:"render",value:function(){var N=this,U=this.props.component;return d().createElement(U,{ref:function(L){return N.typewriter=L},className:"Typewriter","data-testid":"typewriter-wrapper"})}}])&&y(E.prototype,O),Object.defineProperty(E,"prototype",{writable:!1}),C}(c.Component);k.defaultProps={component:"div"};const R=k})(),l.default})())}(q0)),q0.exports}var ZAe=JAe();const o6=Pr(ZAe);function ebe({playerNumber:e,player:t,segment:n}){const[r,i]=t.detailedScore;return g.jsxs(tbe,{children:[g.jsx(m0,{score:n>-1?r.rap+r.freestyle+r.normal:0,maxScore:i.rap+i.freestyle+i.normal,color:Ue.colors.players[e].perfect.fill}),g.jsx(m0,{score:n>0?r.perfect:0,maxScore:i.perfect,color:Ue.colors.players[e].stroke}),g.jsx(m0,{score:n>1?r.star:0,maxScore:i.star,color:Ue.colors.players[e].starPerfect.stroke}),g.jsx(m0,{score:n>2?r.vibrato:0,maxScore:i.vibrato,color:Ue.colors.players[e].perfect.stroke}),g.jsx(nbe,{children:n<5&&g.jsx(o6,{options:{strings:["Regular notes","Perfect notes","Star notes","Vibrato"],pauseFor:1e3,autoStart:!0,delay:15,deleteSpeed:15,cursor:""}})})]})}const tbe=K("div",{target:"ejw0p7o1"})({name:"rtb9pf",styles:"position:relative;height:5rem;width:100%;display:flex;flex-direction:row;border-radius:1rem;gap:0.5rem;box-sizing:border-box;background:rgba(0, 0, 0, 0.5);padding:0.5rem"}),nbe=K("span",{target:"ejw0p7o0"})("position:absolute;",Ot,";font-size:3rem;text-align:right;white-space:nowrap;top:6rem;left:1rem;display:block;");function rbe({playerNumber:e,player:t,highestScore:n,highScores:r,singSetup:i,useColors:s=!0,revealHighScore:l,segment:c}){const[d]=t.detailedScore;let u=0;c>-1&&(u=d.normal+d.rap+d.freestyle),c>0&&(u=u+d.perfect),c>1&&(u=u+d.star),c>2&&(u=u+d.vibrato);const h=p=>r.some(v=>v.singSetupId===i.id&&v.name===p);return g.jsxs(ibe,{children:[g.jsx(abe,{children:g.jsxs(obe,{"data-win":l&&u===n,"data-test":`player-${e}-score`,"data-score":Math.floor(u),children:[g.jsx(sbe,{color:s?Ue.colors.players[e].text:"","data-test":`player-${e}-name`,className:"ph-no-capture",children:t.name}),g.jsx(l2,{preserveValue:!0,end:u,formattingFn:FL.format,duration:c<5?1:.5})]})}),g.jsx(ebe,{playerNumber:e,player:t,segment:c}),g.jsx(lbe,{"data-highscore":l&&h(t.name),children:"High score!"})]})}const ibe=K("div",{target:"e1vy0af44"})({name:"1kta8sk",styles:"background:rgba(0, 0, 0, 0.5);display:flex;flex-direction:column;align-items:center;border-radius:1rem;gap:1rem;padding:1rem 2rem;position:relative"}),sbe=K("span",{target:"e1vy0af43"})("color:",e=>e.color,";font-size:3.5rem;"),obe=K(Jy,{target:"e1vy0af42"})("background:transparent;font-size:4.5rem;color:white;transition:400ms ease-in-out;position:relative;display:flex;align-items:center;justify-content:space-between;flex:1;margin:0;padding:0;&[data-win='true']{font-size:7.5rem;color:",Ue.colors.text.active,";}"),abe=K("div",{target:"e1vy0af41"})({name:"1vflmfg",styles:"display:flex;flex:1;width:100%;height:7.5rem"}),lbe=K(s2,{target:"e1vy0af40"})("font-size:3rem;opacity:0;z-index:2;&[data-highscore='true']{top:-2.5rem;right:-4rem;",iN,";opacity:1;}transition:400ms;");function cbe({onNextStep:e,players:t,highScores:n,singSetup:r}){const[i,s]=x.useState(-1);x.useEffect(()=>{if(i<0)s(0);else if(i<4){const R=setInterval(()=>{s(M=>M+1)},1500);return()=>{clearInterval(R)}}},[i]);const l=i>3,c=()=>{l?e():s(5)},{register:d}=dr(),u=r.mode===ki.CO_OP,h=u?[{...t[0],name:t.map(R=>R.name).join(", ")}]:t,p=h.map(R=>Dw(R.detailedScore[0])),v=Math.max(...p),y=i>3,b=cg(Zc.CameraMode),_=x.useMemo(()=>zi.getPermissionStatus(),[]),[w,T]=x.useState(!1),k=()=>{er.capture("enable-camera"),T(!0),zi.requestPermissions().then(()=>T(!1))};return g.jsxs(ube,{children:[g.jsxs("div",{className:"flex flex-row gap-10",children:[g.jsx(dbe,{"data-collapse":y,children:h.map((R,M)=>g.jsx(rbe,{playerNumber:R.playerNumber,useColors:!u,revealHighScore:y,segment:i,player:R,highScores:n,highestScore:v,singSetup:r},M))}),b?g.jsx("div",{className:`duration-300 ${_&&y?"w-[43%]":"w-[28%]"}`,children:_?g.jsx(yj,{}):g.jsx(YAe,{register:d,onConfirm:k,loading:w})}):_?g.jsx("div",{className:"w-[30%]",children:g.jsx(yj,{})}):null]}),g.jsx(fbe,{...d("next-button",()=>c(),void 0,!0),"data-test":l?"highscores-button":"skip-animation-button",children:l?"Next":"Skip"})]})}const ube=K("div",{target:"e1qmbv7g2"})({name:"z8ysa9",styles:"position:absolute;padding:20rem 5rem 15rem 5rem;top:0;height:100%;box-sizing:border-box;width:100%;display:flex;flex-direction:column"}),dbe=K("div",{target:"e1qmbv7g1"})({name:"1dtjdql",styles:"text-align:center;display:flex;flex-direction:column;gap:5rem;flex:1;&[data-collapse='true']{gap:2rem;}transition:gap 0.5s"}),fbe=K(No,{target:"e1qmbv7g0"})({name:"vmr6vd",styles:"width:40rem;font-size:1.9vw;margin-left:auto;margin-top:auto"});function hbe(){return x.useMemo(()=>JSON.parse(st.session.getItem(Gd))??[],[])}function pbe({score:e,register:t,singSetupId:n,onSave:r,index:i}){const s=x.useRef(null),[l,c]=x.useState(""),d=hbe(),u=()=>{l.trim().length&&l.trim()!==e.name&&r(n,e.score,e.name,l)};return g.jsx(y2,{className:"ph-no-capture",options:d,onChange:c,onBlur:u,value:l,label:"",ref:s,...t(`highscore-rename-${i}`,()=>{var h;return(h=s.current)==null?void 0:h.focus()}),placeholder:e.name,"data-test":"input-edit-highscore","data-original-name":e.name})}function gbe({onNextStep:e,highScores:t,singSetup:n,song:r}){const{register:i}=dr(),s=Ume(r);return g.jsxs(g.Fragment,{children:[g.jsx(mbe,{"data-test":"highscores-container",children:t.map((l,c)=>g.jsxs(vbe,{isCurrentSing:l.singSetupId===n.id,children:[g.jsx(ybe,{children:c+1}),g.jsx(Abe,{className:"ph-no-capture",children:l.singSetupId===n.id?g.jsx(pbe,{index:c,score:l,register:i,singSetupId:n.id,onSave:s}):l.name}),g.jsx(bbe,{children:g.jsx(Zx,{score:l.score})}),g.jsx(_be,{children:lo(l.date).format("MMMM D, YYYY")})]},c))}),g.jsx(Sbe,{...i("play-next-song-button",e,void 0,!0),children:"Select song"})]})}const mbe=K("div",{target:"e1kq1u2t6"})({name:"9gtmjg",styles:"position:absolute;top:20rem;width:100%;text-align:center;padding:0 16rem;box-sizing:border-box"}),vbe=K("div",{target:"e1kq1u2t5"})("position:relative;",Ot,";font-size:3.2rem;display:flex;background:",e=>e.isCurrentSing?"rgba(0,0,0,.9)":"rgba(0,0,0,.5)",";margin-bottom:2rem;padding:",e=>e.isCurrentSing?"0 1.5rem":"1rem 3.2rem",";align-items:center;"),ybe=K("div",{target:"e1kq1u2t4"})("padding:0 1.6rem;color:",Ue.colors.text.active,";"),Abe=K("div",{target:"e1kq1u2t3"})({name:"1mbe2e5",styles:"text-align:left;flex:1;padding:1.6rem"}),bbe=K("div",{target:"e1kq1u2t2"})({name:"2ycp6t",styles:"padding:0 1rem"}),_be=K("div",{target:"e1kq1u2t1"})({name:"1gbnj87",styles:"position:absolute;font-size:2rem;bottom:-1rem;right:-1.6rem;background:black;padding:0.5rem"}),Sbe=K(No,{target:"e1kq1u2t0"})({name:"hdhnqu",styles:"position:absolute;bottom:13rem;right:2rem;padding:0 3rem;font-size:1.9vw"});function xbe({song:e,width:t,height:n,onClickSongSelection:r,players:i,highScores:s,singSetup:l}){const[c]=bt(Bp);Nl(!0);const[d,u]=x.useState("results");return g.jsxs(cL,{songData:e,width:t,height:n,children:[g.jsxs(wbe,{children:[d==="results"&&g.jsx(cbe,{onNextStep:()=>u("highscores"),players:i,singSetup:l,highScores:s}),d==="highscores"&&g.jsx(gbe,{onNextStep:r,singSetup:l,highScores:s,song:e}),g.jsx(Ebe,{"data-active":"true"})]}),c==="christmas"&&g.jsxs(Tbe,{children:["Credit to ",g.jsx("a",{href:"https://www.FesliyanStudios.com",children:"https://www.FesliyanStudios.com"})," for the background music."]})]})}const wbe=K("div",{target:"e1fxxvcx2"})({name:"1quw0ni",styles:"pointer-events:auto"}),Ebe=K(HAe,{target:"e1fxxvcx1"})({name:"rlv4pm",styles:"transition:300ms;position:absolute;bottom:4rem;font-size:3.2rem;line-height:1.25;color:white;text-align:center;background:rgba(0, 0, 0, 0.75);width:100%;box-sizing:border-box;transform:scale(0);&[data-active='true']{transform:scale(1);}padding:2rem 10rem;kbd{padding:0.12rem 0.9rem;border-radius:1rem;border:0.5rem solid rgb(204, 204, 204);border-bottom-color:rgb(150, 150, 150);border-right-color:rgb(150, 150, 150);color:rgb(51, 51, 51);line-height:1.4;display:inline-block;box-shadow:0 0.1rem 0 rgba(0, 0, 0, 0.2),inset 0 0 0 0.2rem #ffffff;background-color:rgb(247, 247, 247);text-shadow:0 0.1rem 0 #fff;font-weight:normal;}"}),Tbe=K("span",{target:"e1fxxvcx0"})("position:fixed;bottom:2rem;left:2rem;font-size:1.5rem;",Ot,";");function Cbe(e){const[t,n,r,i]=kbe(e);return Mbe(t,n,r,i)()}function kbe(e){let t=1779033703,n=3144134277,r=1013904242,i=2773480762;for(let s=0,l;s<e.length;s++)l=e.charCodeAt(s),t=n^Math.imul(t^l,597399067),n=r^Math.imul(n^l,2869860233),r=i^Math.imul(r^l,951274213),i=t^Math.imul(i^l,2716044179);return t=Math.imul(r^t>>>18,597399067),n=Math.imul(i^n>>>22,2869860233),r=Math.imul(t^r>>>17,951274213),i=Math.imul(n^i>>>19,2716044179),t^=n^r^i,n^=t,r^=t,i^=t,[t>>>0,n>>>0,r>>>0,i>>>0]}function Mbe(e,t,n,r){return function(){e|=0,t|=0,n|=0,r|=0;var i=(e+t|0)+r|0;return r=r+1|0,e=t^t>>>9,t=n+(n<<3)|0,n=n<<21|n>>>11,n=n+i|0,(i>>>0)/4294967296}}const Rbe=["Lysa Arryn","Peter Parker","Zordon","Chad Khalimov","Dat Boi","Good Guy Greg","Scumbag Steve","Meme Man","Pepe","Wojak","Ebmarah","Shrek","Vad of ICE Beat","Krasnolud","May Aragorn","Morning Breeze","Auytjak Lorav","Smelly Cat","Stinky Foot"],bj=new Date("2016-01-01").getTime(),Ibe=new Date("2024-01-07").getTime(),N_=5;function Obe(e,t){const n=m2(e);return x.useMemo(()=>{const i=[...Rbe];return[...Array.from({length:N_},(l,c)=>{const d=Cbe(e.id+c),u=6e5+14e5/(N_-1)*c,h=i.splice(Math.floor(d*i.length),1)[0];return{singSetupId:c.toString(),name:h,score:pi()?u/1e3:u,date:new Date((Ibe-bj)*d+bj).toISOString()}}),...(n==null?void 0:n.scores.filter(({setup:l})=>l.mode===t.mode&&l.tolerance===t.tolerance).map(l=>l.scores.map(c=>({...c,date:l.date,singSetupId:l.setup.id}))).flat())??[]].sort((l,c)=>c.score-l.score).slice(0,N_)},[e.id,n,t])??[]}function jbe({song:e,width:t,height:n,onClickSongSelection:r,singSetup:i}){const s=Obe(e,i),l=x.useMemo(()=>tt.getPlayers().map(c=>({name:c.getName(),playerNumber:c.number,detailedScore:at.getPlayerDetailedScore(c.number)})),[]);return g.jsx(Dl,{children:g.jsx(xbe,{singSetup:i,song:e,width:t,height:n,onClickSongSelection:r,players:l,highScores:s})})}function Pbe({songPreview:e,singSetup:t,returnToSongSelection:n,restartSong:r}){yL(),AL();const i=x.useRef(null),s=ZN(e.id),[l,c]=bt(a7),d=cg(Zc.Calibration),{width:u,height:h}=mf(),[p,v]=x.useState(!1),[y,b]=x.useState(!0),[_,w]=x.useState(!0),[T,k]=x.useState(qn.UNSTARTED),[R,M]=x.useState(!1);ja(!R);const E=!l&&d&&!pi();return x.useEffect(()=>{!E&&y&&s.data&&(R||T!==qn.UNSTARTED)&&b(!1)},[s.data,R,T,y]),p&&s.data?g.jsx(jbe,{width:u,height:h,song:s.data,onClickSongSelection:n,singSetup:t}):g.jsx(Dl,{children:g.jsxs(Vbe,{children:[g.jsxs(Dbe,{visible:y,"data-test":"background-container",children:[g.jsx(Nbe,{video:e.video,width:u,height:h}),g.jsx(Lbe,{"data-test":"song-artist",children:e.artist}),g.jsx(Fbe,{"data-test":"song-title",children:e.title}),E?g.jsx(Vl,{children:g.jsx(jt,{children:_?g.jsx(DAe,{onContinue:()=>w(!1)}):g.jsx(s6,{onSave:()=>c(!0)})})}):g.jsx(NAe,{onFinish:()=>{var O;M(!0),(O=i.current)==null||O.play()}})]}),s.data&&!E&&g.jsx(kAe,{pauseMenu:!0,ref:i,onStatusChange:k,song:s.data,width:u,height:h,autoplay:!1,onSongEnd:()=>{var D;const O=((D=at.getSingSetup())==null?void 0:D.mode)===ki.CO_OP?[{name:tt.getPlayers().map(P=>P.getName()).join(", "),score:at.getPlayerScore(0)}]:tt.getPlayers().map(P=>({name:P.getName(),score:at.getPlayerScore(P.number)})),j=at.getSongCompletionProgress();me.songEnded.dispatch(s.data,t,O,j),v(!0)},singSetup:t,restartSong:r})]})})}const Vbe=K("div",{target:"e9bbafl4"})({name:"bjn8wh",styles:"position:relative"}),Dbe=K("div",{target:"e9bbafl3"})("position:fixed;top:0;left:0;z-index:10;pointer-events:none;background-color:black;view-transition-name:song-preview;opacity:",e=>e.visible?1:0,";transition:500ms;"),Bbe=K("div",{target:"e9bbafl2"})({name:"oux8x1",styles:"background-size:cover;background-position:center center;filter:blur(10px)"}),Nbe=e=>g.jsx(Bbe,{style:{backgroundImage:`url('https://i3.ytimg.com/vi/${e.video}/hqdefault.jpg')`,width:`${e.width}px`,height:`${e.height}px`}}),Lbe=K(v2,{target:"e9bbafl1"})({name:"oyknw4",styles:"view-transition-name:song-preview-artist;position:absolute;top:10rem;left:10rem;font-size:7rem"}),Fbe=K(eA,{target:"e9bbafl0"})({name:"1l9juvo",styles:"view-transition-name:song-preview-title;position:absolute;font-size:8rem;top:19rem;left:10rem"});function zbe(){const e=Iy("song"),[t,n]=x.useState(null),[r,i]=x.useState(e??null),[s,l]=x.useState(0),c=d=>{document.getElementById("preview-video-container").style.viewTransitionName="song-preview-video",jp(()=>{document.getElementById("preview-video-container").style.viewTransitionName="",vf.flushSync(()=>{n(d)})}),Kw.play(!1)};return yL(),g.jsxs(g.Fragment,{children:[g.jsx(gs,{children:g.jsx("title",{children:"Game | AllKaraoke.Party - Free Online Karaoke Party Game"})}),g.jsx(d2,{children:t?g.jsx(Pbe,{restartSong:()=>{zi.restartRecord(),l(d=>d+1)},songPreview:t.song,singSetup:t,returnToSongSelection:()=>{i(t.song.id),n(null)}},s):g.jsx(_ve,{onSongSelected:c,preselectedSong:r})})]})}const $be="/assets/screenshot1-DaCeVKxL.webp",Ube="/assets/screenshot2-uopWyjAi.webp",Hbe=JSON.parse(`["101 Dalmatians","2NE1","3 Doors Down","3OH!3","3OH!3 feat. Katy Perry","3OH!3 feat. Ke$ha","4 Non Blondes","5 Seconds of Summer","50 Cent","A Day to Remember","A Day To Remember","A Flock Of Seagulls","A Great Big World","a-ha","A Perfect Circle","AaRON","ABBA","Abby Trott","AC/DC","Ace of Base","Adam Lambert","Adele","Aerosmith","Afroman","Against The Current","Air Supply","AJR","Akon","Akon feat. Eminem","Alan Jackson","Alan Walker","Alan Walker & Ava Max","Alanis Morisette","Alanis Morissette","Alannah Myles","Alec Benjamin","Alessandra","Alessia Cara","Alesso feat. Tove Lo","Alesso & Katy Perry","Alexander Rybak","Alexis Jordan","Alice Cooper","Alice In Chains","Alice in Chains","Alice Merton","Alicia Keys","ALIKA","All Time Low","Alphaville","Alter Bridge","Alvvays","Aly & AJ","Alyona Alyona & Jerry Heil","America","Amy Grant","Amy MacDonald","Amy Winehouse","Anastacia","Andrew Lambrou","Andy Williams","Anitta","Anna Kendrick","Anna Margaret","Apocalyptica ft. Adam Gontier","Aqua","Aram MP3","Arcade Fire","Arctic Monkeys","Ariana Grande","Ariana Grande feat. Future","Ariana Grande feat. Zedd","Ariana Grande & John Legend","Ariana Grande & Justin Bieber","Ariana Grande & Social House","Ariana Grande & The Weeknd","Army Of Lovers","Ashanti","Ashlee Simpson","Ashley Tisdale","Asking Alexandria","ATeens","Audioslave","AURORA","Ava Max","Avantasia","Avenged Sevenfold","Avicii feat. Sandro Cavazza","Avicii","Avril Lavigne","Awolnation","B52s","Baby Lasagna","Babymetal x Electric Callboy","Baccara","Backstreet Boys","Bad Lip Reading","Bad Omens","Bai Sha JAWS","Baldurs Gate 3","Bambie Thug","Banana minnions family","Band Aid","Barbie (Ryan Gosling)","Barei","Barry Manilow","Bastille","Beastie Boys","Bebe Rexha y David Guetta","Bee Gees","Bella Poarch","Bella Thorne","Bellamy Brothers","Ben Doli","Ben E. King","BENEE feat. Gus Dapperton","Benny Blanco, Halsey & Khalid","Benny Cristo","Benson Boone","Bette Midler","Beyonc","Beyonc feat. Jay-Z","Beyonc & Shakira","Big Time Rush","Bikini Kill","Bill Medley & Jennifer Warnes","Billie Eilish","Billie Eilish & Khalid","Billy Boyd","Billy Idol","Billy Joel","Billy Talent","Bing Crosby","Birdy","Bjrk","Bjrnzone","Black Eyed Peas, Shakira","Black Sabbath","Black Veil Brides","BLACKPINK & Selena Gomez","Blackstreet feat. Dr. Dre","Blanche","Blanka","Blind Guardian","blink-182","Blink 182","Blondie","Blu Cantrell","Blue","Blue yster Cult","Blur","Ba","B.o.B feat. Bruno Mars","B.o.B feat. Hayley Williams","Bob Marley & The Wailers","Bobby Helms","Bon Jovi","Boney M","Boney M.","Bonnie Tyler","Boston","Bowling For Soup","Boyz II Men","Bradley Cooper & Lady Gaga","Brandy & Monica","Breaking Benjamin","Brenda Lee","Bridgit Mendler","Bring Me The Horizon","Britney Spears","Britney Spears / Elton John","Britney Spears feat. Madonna","Britney Spears feat. Tinashe","Britney Spears & Iggy Azalea","Brotherhood Of Man","Bruno Mars & Cardi B","Bruno Mars","Bryan Adams","Bryce Pinkham","BTS","BTS feat. Desiigner","BTS featuring  Desiigner","BTS - J-Hope feat. Becky G","Bucks Fizz","Buggles","Bush","Busted","Calum Scott","Calvin Harris feat. Rihanna","Calvin Harris","Camila Cabello ft. Ed Sheeran","Camp Rock 2","Capital Cities","Cardi B","Cardi B & Bruno Mars","Carly Rae Jepsen","Carpenters","Carrie Underwood","Cascada","Cat Stevens","Cee Lo Green","Cline Dion","Chaka Khan","Chappell Roan","Charli XCX","Charli XCX & Troye Sivan","Charlie Puth","Charlie Puth & Selena Gomez","Chenoa","Cher","Cheryl Cole","Chevelle","Chicago","Childish Gambino","Chingiz","Chris Brown","Chris Brown feat. Rihanna","Chris Isaak","Chris Rea","Christina Aguilera","Christina Milian","Christina Perri","Chuck Berry","Chumbawamba","Cliff Richard","Colbie Caillat","Coldplay","Coldplay feat. Beyonc","Coldplay x BTS","Conchita Wurst","Coolio feat. L.V.","Corey Hart","Corinne Bailey Rae","Cornelia Jakobs","Counting Crows","Crazy Frog","Creed","Creedence Clearwater Revival","Crowded House","Crush 40","Crusher-P feat. GUMI","Culture Club","Cutting Crew","Cyndi Lauper","Cynthia Harrell","d4vd","Dai Freyr","Dai og Gagnamagni","Daft Punk","Daft Punk Feat. Todd Edwards","Daisuke Ishiwatari","Dami Im","Damien Rice","Dana International","Daniel Bedingfield","Daniel Caesar","Daniel Powter","Danzel","Darius Rucker","Daryl Hall & John Oates","Dashboard Confessional","Daughtry","Dave Rodgers","David Archuleta","David Bowie","David Cook","David Guetta feat. Akon","David Guetta feat. Kid Cudi","David Guetta feat. Rihanna","David Guetta feat. Usher","David Guetta & Sia","David Hasselhoff","David Kushner","Dead Or Alive","deadmau5 feat. Chris James","deadmau5 feat. Gerard Way","Deadmau5 & Kaskade","Dean Lewis","Dean Martin","Dear Evan Hansen","Deep Purple","Def Leppard","Deftones","Demi Lovato","Demi Lovato feat. Cher Lloyd","Deorro x Chris Brown","Depeche Mode","Destiny","Destinys Child","Diana Ross","Dido","Dimash Kudaibergen","Dio","Dire Straits","Disney's Aladin","Disneys Beauty and the Beast","Disneys Brother Bear","Disneys Descendants 2","Disneys Descendants 3","Disneys Descendants","Disneys Encanto","Disneys Frozen","Disneys Frozen II","Disneys Hercules","Disney's Moana","Disneys Mulan","Disney's Pocahontas","Disney's Tangled","Disneys Tarzan","Disneys Teen Beach Movie","Disneys The Jungle Book","Disneys The Lion King","Disturbed","DJ Sammy & Yanou feat. Do","DJ Snake feat. Justin Bieber","DNCE","Doja Cat feat. SZA","Doja Cat","Doki Doki Literature Club!","Dolly Parton","Don McLean","Donna Summer","Doris Day","Dove Cameron","DragonForce","Drake Bell","Drake feat. Rihanna","Drake feat. Wizkid & Kyla","Drake","Dream Theater","Drowning Pool","Dua Lipa","Dua Lipa & BLACKPINK","Duck Sauce","Duncan Laurence","Duran Duran","Dusty Springfield","Eagles","Earth, Wind & Fire","Echosmith","Ed Sheeran and Elton John","Ed Sheeran and Justin Bieber","Ed Sheeran","Ed Sheeran feat. Khalid","Ed Sheeran & Pokmon","Eddie Murphy","Edward Maya & Vika Jigulina","Electric Callboy","Electric Callboy feat. Sido","Electric Light Orchestra","Elena Siegman","Eleni Foureira","Ellie Goulding","Elton John","Elton John & Dua Lipa","Elton John & RuPaul","Elvis Presley","Eminem feat. Dido","Eminem feat. Juice WRLD","Eminem feat. Rihanna","Eminem","Emmelie de Forest","Empire Of The Sun","Enrique Iglesias","Enya","Eric Clapton","Eric Saade","Estelle feat. Kanye West","Europe","Eurythmics","Eva Rivas","Evanescence","Everlast","Extreme","Faith Hill","Faith No More","Fall Out Boy","Falling In Reverse","Fergie","Fetty Wap","FEX","Fifth Harmony feat. Kid Ink","Fifth Harmony","FIFTY FIFTY","Finger Eleven","Five Finger Death Punch","Five For Fighting","Fleetwood Mac","Flo Rida feat. David Guetta","Flo Rida feat. Ke$ha","Flo Rida feat. Sia","Flo Rida feat. T-Pain","Flo Rida","Florence + the Machine","Flyleaf","Foo Fighters","Fools Garden","Foreigner","Foster The People","Fountains Of Wayne","Frank Ocean","Frank Sinatra","Frankie Goes To Hollywood","Frankie Valli","Franz Ferdinand","Freddie Mercury","Fredi and Friends","Fugees","Fun. feat. Janelle Mone","Fun.","Gandalf","Gary Barlow & Elton John","Gayle","Genesis","George Ezra","George Michael","George Michael & Elton John","Getter Jaani","Ghost","Gina G","Ginuwine","girl in red","Girls Generation (SNSD)","Glee Cast","Gloria Gaynor","GloryHammer","Gnarls Barkley","Goo Goo Dolls","Good Charlotte","Gorillaz","Gorillaz feat. Shaun Ryder","Gotye & Kimbra","Grabbitz","Green Day","Grta Salme & Jnsi","Guns N' Roses","Guns N Roses","Gustaph","Gwen Stefani","Gwen Stefani & Eve","Gwen Stefani Feat Akon","Hailee Steinfeld feat. DNCE","Hailee Steinfeld","Hairspray (Movie)","Hamilton","Hanson","Harpo","Harry Styles","Hazbin Hotel","Heart","Heathers","Helena Paparizou","Hellogoodbye","Helloween","Henry Moodie","Hera Bjrk","High School Musical 2","High School Musical","Hilary Duff","Hillsong United","HIM","Himesh Patel","Hinder","Hole","Hollywood Undead","Hoobastank","Hootie & The Blowfish","Hooverphonic","Hozier","Huey Lewis & The News","Hunter Hayes","Ice Cube","Icon For Hire","Icona Pop feat. Charli XCX","Idina Menzel","Iggy Azalea feat. Charli XCX","Iggy Pop","Ike & Tina Turner","Imagine Dragons","Imagine Dragons x JID","Inna","Interpol","Into the Woods","INXS","Iron Maiden","ISAAK","Israel Kamakawiwoole","Jack Black","Jack Johnson","Jack White","Jagwar Twin","James Arthur","James Bay","James Blunt","Jamiroquai","Janet Jackson","Jason Derulo","Jason Derulo feat. 2 Chainz","Jason Derulo feat. Snoop Dogg","Jason Mraz","Jason Paige","Jay Sean feat. Lil Wayne","Jay Sean","Jay-Z feat. Alicia Keys","Jaymes Young","Jedward","Jelly Roll","Jennette McCurdy","Jennifer Lopez","Jennifer Lopez & Pitbull","Jesse McCartney","Jessica Simpson","Jessie J","Jet","Jethro Tull","Jewel","Jim Croce","Jimi Jamison","Jimmy Eat World","Joan Jett","Joan Jett & The Blackhearts","Joan Osborne","Joe Cocker","John Cougar Mellencamp","John Denver","John Farnham","John Legend","John Lennon","John Mayer","John Rzeznik","John Travolta (Grease)","John Waite","Johnny Cash","Johnny Logan","Johnny Rivers","Joji","JoJo","Jojo","Jon Bellion","Jonas Brothers","Jonathan Coulton","Josh Groban","Josh Turner","Journey","Joy Division","Julie and the Phantoms","Jung Kook, Usher","Justin Bieber","Justin Bieber & Benny Blanco","Justin Bieber feat. Big Sean","Justin Bieber feat. Usher","Justin Bieber & Ludacris","Justin Bieber & Nicki Minaj","Justin Timberlake","Kaiser Chiefs","Kaleen","Kaleo","Kane Brown","Kansas","Kanye West","Kanye West feat. Dwele","Kanye West feat. Pusha T","Kanye West feat. Young Jeezy","Kardinal Offishall feat. Akon","Kasabian","Kate Bush","Katrina And The Waves","KATSEYE","Katy Perry","Katy Perry feat. Kanye West","Katy Perry feat. Migos","Katy Perry feat. Nicki Minaj","Katy Perry feat. Snoop Dogg","Kay Starr","Keane","Keep Shelly in Athens","Keep Shelly In Athens","Ke$ha feat. 3OH!3","Ke$ha","KEiiNO","Kellie Pickler","Kelly Clarkson","Kendrick Lamar feat. Drake","Kendrick Lamar","Kendrick Lamar & SZA","Kenny Rogers & Dolly Parton","Kenya Grace","Khalid x Normani","Kid Cudi","Kid Cudi feat. MGMT & Ratatat","Kid Rock","Kid Rock feat. Sheryl Crow","Kim Petras","Kim Petras & Nicki Minaj","Kim Wilde","Kings Of Leon","Kings of Leon","KISS","Kodaline","KoRn","KT Tunstall","Kygo feat. Maty Noyes","Kygo & Selena Gomez","Kygo x Whitney Houston","Kyle Justin","Kylie Minogue","La Bouche","La Roux","Lady Antebellum","Lady Gaga","Lady Gaga & Ariana Grande","Lady Gaga & BLACKPINK","Lady Gaga, Bradley Cooper","Lady Gaga & Bruno Mars","Lady Gaga feat. Beyonc","Lady Gaga feat. Colby O'Donis","Lana Del Rey","Lana Del Rey feat. The Weeknd","Lauv feat. BTS","LazyTown","LE SSERAFIM","Lea Salonga and Brad Kane","League of Legends","LeAnn Rimes","Led Zeppelin","Lena","Lenny Kravitz","Leona Lewis","Leony","Les Fatals Picards","Les Misrables","Lewis Capaldi","Lifehouse","Lil Dicky","Lil Nas X feat. Miley Cyrus","Lil Nas X","Lil Wayne feat. Bruno Mars","Lil Wayne feat. Eminem","Lily Allen","Limp Bizkit","Linkin Park","Lionel Richie","Lipps, Inc.","Little Big","Little Mix feat. Jason Derulo","Little Mix feat. Stormzy","Little Mix","Lizzo","LMFAO","Loc Nottet","Lord Of The Lost","Lorde","Lordi","Loreen","Lou Reed","Loverboy","LP","LSD","Lucy Hale","Lulu","Lykke Li","Lyn","Lynyrd Skynyrd","M83 feat. Susanne Sundfr","Madcon feat. Ray Dalton","Madcon","Madness","Madonna","Mae Muller","Magic!","Malik Harris","Mamma Mia! (Movie)","Man With A Mission","Manchester Orchestra","Mandaryna","Mando Diao","Mandy Moore","Mneskin","Manfred Mann","Manowar","Mns Zelmerlw","Manuel","Marc Cohn","Marc DeMarco","Marcus & Martinus","Margaret Berger","Maria Yaremchuk","Mariah Carey","Mariah Carey & Boyz II Men","Mariah Carey feat. Jay-Z","Marillion","Marilyn Manson","Marina and the Diamonds","Marina & The Diamonds","Marina","Mark Ronson feat. Bruno Mars","Mark Ronson ft  Miley Cyrus","Maroon 5","Maroon 5 feat. Cardi B","Maroon 5 feat. Wiz Khalifa","Marshmello & Anne-Marie","Marshmello & Bastille","Marshmello & Kane Brown","Marshmello x Jonas Brothers","Martin Garrix & Bebe Rexha","Martin Garrix feat. Bonn","Martin Solveig & Dragonette","Martin Solveig & GTA","Martina McBride","Marvin Gaye & Tammi Terrell","Mary J. Blige","Matchbox Twenty","Matt Redman","Max Coveri","Meat Loaf","Meatloaf","Meghan Trainor","Melanie Martinez","Melanie Thornton","Melissa Etheridge","MELOVIN","Men at Work","Men At Work","Metallica","Metric","Metro Station","Metronomy","M.I.A.","Michael Bubl","Michael Jackson","Michael Schulte","Michelle Branch","Midnight Oil","Mika","Mika feat. Ariana Grande","Mika Kobayashi","Mike Oldfield","Mike Posner","Miley Cyrus","Miley Cyrus feat. Dua Lipa","Miley Cyrus & Jessie J","Mili","Milo Manheim & Meg Donnelly","Miracle Of Sound","Miranda Lambert","Mitski","Modern Talking","Modest Mouse","Montaigne","Morandi","Morgan Wallen","Mother Mother","Motionless In White","Mtley Cre","Moulin Rouge","Mr. Big","Mumford and Sons","Mumford & Sons","Muse","My Chemical Romance","My Little Pony","Myles Smith","N Sync","Nancy Sinatra","Natalia Kills","Natalie Imbruglia","Natasha Bedingfield","Natasha Farrow","Nathan Evans","Naughty Boy feat. Sam Smith","Nazareth","NCT 127","NCT DREAM","Ne-Yo","Neil Young","Nelly feat. Kelly Rowland","Nelly Furtado","Nelly Furtado feat. Timbaland","Nemo","Nena","Neon Genesis Evangelion","Neon Trees","Netflix","Netta","New Kids On The Block","New Order","NewJeans; League of Legends","NF","Niall Horan","Nick Cave & The Bad Seeds","Nick Jonas","Nickelback","Nicki Minaj feat. Rihanna","Nicki Minaj","Nicki Taylor","Nico Bruno","Nico & Vinz","Nightwish","NIKI","Nilsson","Nirvana","No Doubt","No Secrets","Noah Kahan","Nothing But Thieves","O.A.R.","Oasis","Ochman","OK Go","Olivia Newton-John","Olivia Rodrigo","Olly Murs","Olly Murs feat. Flo-Rida","Olsen Brothers","One Direction","OneRepublic","OutKast","Owl City & Carly Rae Jepsen","Owl City","Ozzy Osbourne","Panic! at the Disco","Papa Roach","Paramore","Paris Hilton","Passenger","Pat Benatar","Patrice Rushen","Paul Simon","Paula Abdul","Pearl Jam","Pet Shop Boys","Peter Cetera","Peter Gabriel","Peter Gabriel & Kate Bush","Petula Clark","Phantom Planet","Pharrell Williams","Phil Collins","Phoebe Bridgers","Pink Floyd","PinkPantheress & Ice Spice","Pitbull feat. Chris Brown","Pitbull feat. Marc Anthony","Pitbull feat. T-Pain","Pitch Perfect 2","Pixies","Placebo","Placebo feat. David Bowie","Plain White Ts","P!nk feat. Lily Allen","P!nk feat. Nate Ruess","P!nk","Poets Of The Fall","Poets of the Fall","Pointer Sisters","Poison","Portal","Post Malone","Post Malone feat. 21 Savage","Post Malone feat. Quavo","Post Malone & Swae Lee","Powerwolf","Pretenders","Prince and the Revolution","Psy feat. Suga of BTS","Psychostick","Queen","Queen & David Bowie","Queens Of The Stone Age","R. City feat. Adam Levine","R. Kelly","Radical Face","Radiohead","RAFA","Rage Against the Machine","Rage Against The Machine","RagnBone Man","Rag'n'Bone Man","Rainbow","Ramones","Rascal Flatts","Rasmussen","Ray Parker Jr.","Real Life","Red","Red Hot Chili Peppers","Rednex","R.E.M.","Remo Forrer","Ren","REO Speedwagon","Rhapsody","Richard Marx & Donna Lewis","Richard Marx","Rick Astley","Ricky Martin","Rihanna","Rihanna feat. Calvin Harris","Rihanna feat. Drake","Rihanna feat. Eminem","Rihanna feat. Jay-Z","Rihanna feat. Jeezy","Rihanna feat. Mikky Ekko","Rihanna & Ne-Yo","Rise Against","Rob Thomas","Rob Zombie","Robbie Williams","Rockwell","Rod Stewart","Roman Lob","Rosa Linn","Rosa Walton & Hallie Coggins","ROS & Bruno Mars","Roxette","Roy Orbison","Rufus Wainwright","Run DMC","RuPaul","Rupert Holmes","Ruslana","Rusted Root","S Club 7","Sabaton","Sabrina Carpenter","Sam Fender","Sam Ryder","Sam Smith","Sam The Sham And The Pharaohs","Sandie Shaw","Santana feat. Rob Thomas","Sara Bareilles","Sara Evans","Sarah McLachlan","Savage Garden","Savatage","SawanoHiroyuki[nZk] mizuki","Scars On Broadway","Scissor Sisters","Scorpions","Scott McKenzie","Sean Kingston","Sean Kingston / Justin Bieber","SEBalter","Secondhand Serenade","Seether","Selena Gomez","Selena Gomez feat. Gucci Mane","Selena Gomez & The Scene","Selena Gomez x Marshmello","Serj Tankian","Set It Off","Shaggy feat. RikRok","Shakin Stevens","Shakira","Shakira feat. Carlinhos Brown","Shakira feat. Dizzee Rascal","Shakira feat. Rihanna","Shakira feat. Wyclef Jean","Shakira ft. Freshlyground","Shania Twain","Shawn Mendes & Camila Cabello","Shawn Mendes, Camila Cabello","Shawn Mendes","Sheryl Crow","Shinedown","Shrek 2","Sia","Sia feat. Kendrick Lamar","SIAMS","Silia Kapsis","SiM","Simon & Garfunkel","Simple Minds","Simple Plan","Simply Red","Sinad OConnor","SING (Taron Egerton)","Sixpence None The Richer","Skid Row","Skillet","Skunk Anansie","Slade","SLANDER feat. Dylan Matthews","Slayyyter","Slipknot","Slowdive","Smash Into Pieces","Smash Mouth","SMiLE.dk","Smokie","Snow Patrol","Sophie Ellis-Bextor","Soul Asylum","Soundgarden","Spandau Ballet","Spice Girls","Spiderbait","Srbuk","Starship","Status Quo","Steindi","Stella Mwangi","Stephen Sanchez","Stereophonics","Steve Aoki feat. BTS","Steve Lacy","Steven Curtis Chapman","Stevie Wonder","Sting feat. Ray Chen","Sting","Stone Sour","Stone Temple Pilots","Sublime","Subwoolfer","Sudden Lights","Sugababes","Sum 41","Sunrise Ave","Sunrise Avenue","Supergrass","Supertramp","Surf Curse","Survivor","Sylver","Symphony X","System of a Down","System Of A Down","SZA","Taio Cruz","Taio Cruz feat. Flo Rida","Take That","Taking Back Sunday","Tal Bachman","Talking Heads","Tally Hall","Tate McRae","t.A.T.u.","Taylor Swift","Taylor Swift feat. Bon Iver","Teach-In","Tears For Fears","Technotronic feat. Felly","Teddy Swims","Tenacious D","Terence Trent DArby","Terri Clark","Texas","Teya & Salena","The 1975","The Animals","The Baseballs","The Beach Boys","The Beatles","The Beautiful South","The Black Eyed Peas","The Black Keys","The Bloodhound Gang","The Blues Brothers","The Boomtown Rats","The BossHoss","The Cab","The Calling","The Cardigans","The Chainsmokers & Coldplay","The Chainsmokers feat. Daya","The Chainsmokers feat. Halsey","The Champs","The Charlie Daniels Band","The Cinematic Orchestra","The Clash","The Common Linnets","The Corrs","The Cranberries","The Cure","The Darkness","The Doors","The Eagles","The Fray","The Greatest Showman","The Ink Spots","The Jackson 5","The Jacksons","The Jam","The Kelly Family","The Kid Laroi & Justin Bieber","The Kid Laroi & Miley Cyrus","The Killers","The Kooks","The Last Dinner Party","The Little Mermaid","The Living Tombstone","The Lonely Island feat. Akon","The Makemakes","The Mamas & The Papas","The Neighbourhood","The Offspring","The Phantom of the Opera","The Polar Express","The Police","The Postal Service","The Proclaimers","The Psychedelic Furs","The Pussycat Dolls","The Rasmus","The Rembrandts","The Rocky Horror Picture Show","The Rolling Stones","The Ronettes","The Script","The Script feat. will.i.am","The Smashing Pumpkins","The Smiths","The Specials","The Stone Roses","The Strokes","The Sweet","The Temptations","The Tony Rich Project","The Verve","The Village People","The Vines","The Weeknd","The Weeknd feat. Daft Punk","The White Stripes","The Who","The Witcher (Joey Batey)","The Zutons","TheFatRat feat. Laura Brehm","TheFatRat","Third Eye Blind","Thirty Seconds to Mars","Three Days Grace","Thundercats","Tiffany","Timbaland feat. Keri Hilson","Tina Turner","Tix","TLC","Tokio Hotel","Tom Dice","Tom Jones and Mousse T.","Tom Jones","Tom Odell","Tones And I","Toni Braxton","Tool","Toto","Tove Lo","Tracy Chapman","Train","Travie McCoy feat. Bruno Mars","Troye Sivan","Twenty One Pilots","twenty ne pilts","TWICE","Tyler, The Creator","U2","Ultravox","USA for Africa","Usher & Alicia Keys","Usher feat. Pitbull","Usher feat. will.i.am","Usher & Pitbull","Usher","Utada Hikaru","Vampire Weekend","Van Halen","Vance Joy","Vanessa Carlton","Vanessa Hudgens","Vanessa Williams","Vanilla Ice","Vengaboys","Verka Serduchka","Victoria Justice","Vitamin C","Volbeat","Volbeat feat. Sarah Blackwood","Voyager","Warren Zevon","We Are Domi","Ween","Weezer","Weird Al Yankovic","Westlife","Wham!","Wham","Wheatus","Whitesnake","Whitney Houston","Wicked","Wilbur Soot","Will Ferrell & Rachel McAdams","Will Smith","will.i.am & Britney Spears","will.i.am feat. Eva Simons","will.i.am feat. Justin Bieber","will.i.am","Wilson Phillips","Windows95man","Wiz Khalifa","Wiz Khalifa ft. Charlie Puth","Xavier Rudd","Yazoo","Ylvis","Yohanna","Young The Giant","Zara Larsson","Zara Larsson & MNEK","ZAYN feat. Sia","ZAYN","ZAYN & Taylor Swift","Zedd & Alessia Cara","Zedd feat. Selena Gomez","Zedd & Foxes","Zendaya & Bella Thorne","Zoe Wees","ZZ Top"]`),qbe=["English","Polish","Korean","Japanese","Spanish","Estonian","German","Swedish","Indonesian","Chinese","French","Ukrainian","Portuguese","Dutch","Italian","Catalan","Finnish","Czech","Norwegian","Croatian","Latin","Icelandic","Serbian","Slovenian","ENGL","Armenian","Romanian","Lithuanian","Latvian"],Gbe=4066,Xh={artists:Hbe,languages:qbe,songs:Gbe},Ybe=new Intl.NumberFormat(void 0,{maximumFractionDigits:0});function Kbe(){const e=ji(),t=cg(Zc.Christmas);ja(!0,t?"christmas":void 0);const n="menu/";ri("enter",()=>{e(n)},[n]);const[r,i]=x.useState(!1);return x.useEffect(()=>{const s=setTimeout(()=>{i(!0)},4e3);return()=>clearTimeout(s)},[]),g.jsxs(g.Fragment,{children:[g.jsx(gs,{children:g.jsx("title",{children:"AllKaraoke.Party - Free Online Karaoke Party Game"})}),g.jsx(NN,{}),g.jsxs("div",{className:"flex flex-col w-[110rem] items-stretch justify-center h-screen gap-12 mx-auto landscap:flex-row landscap:w-full mobile:w-full shadow-active [&_strong]:[text-shadow:_0_0_5rem_var(--tw-shadow-color)] [&_a]:[text-shadow:_0_0_5rem_var(--tw-shadow-color)]",children:[g.jsxs("div",{className:"flex justify-center gap-24 mobile:hidden",children:[g.jsx(KN,{}),g.jsx(o2,{})]}),g.jsx(Mi,{to:n,children:g.jsx(L_,{"data-test":"enter-the-game",className:"mobile:hidden",children:"Enter the game"})}),g.jsxs(uu,{className:"gap-24 p-24 flex-row bg-black/75 landscap:flex-1 [&_hr]:my-12 mobile:flex-col",children:[g.jsxs(_j,{children:[g.jsxs("div",{className:"leading-normal text-justify",children:[g.jsx("strong",{children:"AllKaraoke"})," is a free online karaoke game inspired by PlayStation's"," ",g.jsx("strong",{children:"SingStar"}),". Sing along to your favorite songs and compete with your friends, all through the browser! Updated almost weekly with new songs and features."]}),g.jsx("hr",{}),g.jsxs(Vh,{children:[" ",g.jsx("strong",{children:Ybe.format(Xh.songs)})," songs in"," ",g.jsx("strong",{children:Xh.languages.length})," languages",g.jsxs(Dh,{children:["Artists such as"," ",g.jsx("strong",{children:r?g.jsx(o6,{options:{strings:Xh.artists,autoStart:!0,loop:!0,delay:100}}):Xh.artists.at(-1)})]})]}),g.jsxs(Vh,{children:[" Play ",g.jsx("strong",{children:"directly"})," in the browser",g.jsxs(Dh,{children:["No ",g.jsx("strong",{children:"download"})," needed"]})]}),g.jsxs(Vh,{children:[" Use ",g.jsx("strong",{children:"phones"})," as microphones",g.jsx(Dh,{children:"No need to download an app"})]}),g.jsxs(Vh,{children:[" Supports ",g.jsx("strong",{children:"1-4"})," players",g.jsx(Dh,{children:"When using phones as microphones"})]}),g.jsxs(Vh,{children:[" ",g.jsx("strong",{children:"100% Free"})," and open source",g.jsxs(Dh,{children:["Check the"," ",g.jsx("a",{href:"https://github.com/Asvarox/allkaraoke",target:"_blank",rel:"noreferrer",children:"GitHub repository"})]})]})]}),g.jsxs(_j,{className:"gap-16 mobile:flex-row landscap:hidden",children:[g.jsx(Sj,{src:$be,alt:"Song list screen",className:"[box-shadow:_0_0_5rem_rgba(114,155,255,0.5)]"}),g.jsx(Sj,{src:Ube,alt:"In-game screen",className:"[box-shadow:_0_0_10rem_rgb(19,19,19)]"})]})]}),g.jsxs(ps,{className:"mobile:hidden text-md text-right !mt-[-2.5rem]",children:["Using this device as remote microphone?"," ",g.jsx(Mi,{to:"remote-mic/",children:g.jsx("a",{"data-test":"join-existing-game",children:"Join existing game"})})]}),g.jsxs("div",{className:"flex flex-col gap-12 landscap:flex-1 [&&_a]:min-h-[30rem] justify-center",children:[g.jsx(Mi,{to:"remote-mic/",children:g.jsx(L_,{"data-test":"join-existing-game",className:"hidden mobile:flex",children:g.jsxs("span",{children:["Join game (with ",g.jsx("strong",{children:"Game Code"}),")"]})})}),g.jsx(Mi,{to:"quick-setup/",children:g.jsx(L_,{"data-test":"enter-the-game",className:"hidden mobile:flex",children:"Start new game"})})]})]})]})}const Vh=En.div``,Dh=En.div`pt-2 text-right text-[0.7em] [&_.Typewriter]:inline`,_j=En(ps)`flex flex-col flex-1 gap-4 typography text-[2.3rem] mobile:text-[8.5rem] landscap:text-[4.9rem]`,Sj=En.img`w-full aspect-video object-cover shadow-5 border-1 border-black/50 rounded-2xl mobile:w-[calc(50%-2rem)] mobile:h-[50rem]`,L_=En(rN)`text-[9rem] bg-black w-full px-28 py-4 animate-focused`;function Wbe(){const e=ji(),t=()=>e("menu/"),{register:n}=dr({onBackspace:t});return g.jsxs(Da,{children:[g.jsx(gs,{children:g.jsx("title",{children:"Manage Songs | AllKaraoke.Party - Free Online Karaoke Party Game"})}),g.jsx("h1",{children:"Manage Songs"}),g.jsx(Mi,{to:"exclude-languages/",children:g.jsx(vt,{...n("exclude-languages",()=>e("exclude-languages/")),children:"Select Song Languages"})}),g.jsx(Mi,{to:"edit/list/",children:g.jsx(vt,{...n("edit-songs",()=>e("edit/list/")),children:"Edit songs"})}),g.jsx(Mi,{to:"convert/",children:g.jsx(vt,{...n("convert-song",()=>e("convert/")),children:"Convert UltraStar .txt"})}),g.jsx("hr",{}),g.jsx(Mi,{to:"menu/",children:g.jsx(vt,{...n("back-button",t),children:"Return To Main Menu"})})]})}var Bh={exports:{}},xj;function Qbe(){if(xj)return Bh.exports;xj=1,Bh.exports=r,Bh.exports.isMobile=r,Bh.exports.default=r;const e=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,t=/CrOS/,n=/android|ipad|playbook|silk/i;function r(i){i||(i={});let s=i.ua;if(!s&&typeof navigator<"u"&&(s=navigator.userAgent),s&&s.headers&&typeof s.headers["user-agent"]=="string"&&(s=s.headers["user-agent"]),typeof s!="string")return!1;let l=e.test(s)&&!t.test(s)||!!i.tablet&&n.test(s);return!l&&i.tablet&&i.featureDetect&&navigator&&navigator.maxTouchPoints>1&&s.indexOf("Macintosh")!==-1&&s.indexOf("Safari")!==-1&&(l=!0),l}return Bh.exports}var Xbe=Qbe();const Jbe=Pr(Xbe);function Zbe(){const[,e]=bt(oi),t=async()=>{var n,r;try{e(!0),await document.body.requestFullscreen(),global.screen.orientation.unlock(),await((r=(n=global.screen.orientation).lock)==null?void 0:r.call(n,"landscape"))}catch(i){console.info(i)}};return g.jsx(Dl,{children:g.jsx(e1e,{children:g.jsxs(t1e,{children:[g.jsx("h1",{children:"Use Mobile Phone Mode?"}),g.jsx("h3",{children:"The regular version of the game isn't optimal for smaller screens. Enable the Mobile Phone Mode to adjust the UI and gameplay elements. Use this, or connect other mobiles to sing songs."}),g.jsxs("h3",{children:["You can always change the setting in the ",g.jsx("strong",{children:"Settings"})," menu."]}),g.jsx(wj,{focused:!0,onClick:t,"data-test":"enable-mobile-mode",children:"Enable Mobile Phone Mode"}),g.jsx(wj,{onClick:()=>e(!1),"data-test":"dismiss-mobile-mode",children:"Dismiss"})]})})})}const wj=K(vt,{target:"e6hg0672"})({name:"h427ha",styles:"font-size:calc(min(3vw, 4vh));height:auto;padding:calc(min(3vw, 4vh))"}),e1e=K("div",{target:"e6hg0671"})({name:"wkkrci",styles:"position:fixed;inset:0;display:flex;align-items:center;justify-content:center"}),t1e=K(du,{target:"e6hg0670"})({name:"x689zy",styles:"max-width:150rem;padding:calc(min(3vw, 4vh));margin:auto;h1{font-size:calc(min(4vw, 5vh));margin-bottom:0.75em;}h3{font-size:calc(min(3vw, 4vh));line-height:1.25;margin-bottom:1em;}"});function n1e(){const[e]=bt(oi),t=x.useMemo(()=>Jbe(),[]),n=ji(),r=async i=>{var s,l;if(n("menu/"),e&&document.fullscreenElement===null)try{await document.body.requestFullscreen(),global.screen.orientation.unlock(),await((l=(s=global.screen.orientation).lock)==null?void 0:l.call(s,"landscape"))}catch(c){console.info(c)}};return g.jsxs(g.Fragment,{children:[g.jsx(gs,{children:g.jsx("title",{children:"Select Input | AllKaraoke.Party - Free Online Karaoke Party Game"})}),e===null&&t?g.jsx(Zbe,{}):g.jsx(Da,{children:g.jsx(g2,{onFinish:r,closeButtonText:"Sing a song",smooth:!0})})]})}const Ei={INDEX:"",QUICK_SETUP:"quick-setup",GAME:"game",MENU:"menu",JUKEBOX:"jukebox",SELECT_INPUT:"select-input",SETTINGS:"settings",SETTINGS_REMOTE_MICS:"settings/remote-mics",SETTINGS_CALIBRATION:"settings/calibration",REMOTE_MIC:"remote-mic",MANAGE_SONGS:"manage-songs",EXCLUDE_LANGUAGES:"exclude-languages",CONVERT:"convert",EDIT_SONGS_LIST:"edit/list",EDIT_SONG:"edit/song"},r1e=()=>{const e=ji();return g.jsx(Da,{children:g.jsx(s6,{onSave:()=>e("settings/")})})};function i1e(){Nl(!1);const e=ji(),t=()=>e("settings/"),{register:n}=dr({onBackspace:t}),[r,i]=bt(cv),[s,l]=bt(mV),c=hs(me.inputListChanged,()=>Vt.getRemoteMics()),d=JD();return x.useEffect(()=>Vt.addListener(d),[d]),g.jsxs(Da,{children:[g.jsx("h1",{onClick:()=>{const u=prompt("Code");(u==null?void 0:u.length)===ip-1&&(sD(u),global.location.reload())},children:"Remote Microphone Settings"}),g.jsx(Bs,{...n("connection type",()=>i(jc(o7,r))),label:"Connection type",value:r}),g.jsx("hr",{}),g.jsx(Bs,{...n("default-permission",()=>l(jc(uR,s))),label:"Default permission",info:g.jsxs(g.Fragment,{children:[g.jsx("strong",{children:"WRITE"})," - player is able to navigate the menus remotely and assign themselves and other players to the game.",g.jsx("br",{}),g.jsx("br",{}),g.jsx("strong",{children:"READ"})," - player will only be able to use the device as a microphone and otherwise have no control over the game."]}),value:s.toUpperCase()}),g.jsx("hr",{}),g.jsx("h3",{children:"Connected devices permissions:"}),c.map(u=>{const h=Vt.getPermission(u.id);return g.jsx(a1e,{...n(`mic-${u.id}`,()=>Vt.setPermission(u.id,jc(uR,h)),"Change permissions"),"data-test":"remote-mic-entry","data-id":u.id,value:h,label:g.jsxs(o1e,{children:[g.jsx(c1e,{children:u.id.slice(-4)}),g.jsx(u1e,{children:g.jsx(s1e,{deviceId:u.id})}),g.jsx(l1e,{className:"ph-no-capture",children:u.name})]})},u.id)}),c.length===0&&g.jsx("h4",{children:"No remote microphones connected"}),g.jsx("hr",{}),g.jsx(vt,{...n("back-button",t),children:"Return To Settings"})]})}const s1e=({deviceId:e})=>{const t=ML(e);return t===null?null:g.jsxs(g.Fragment,{children:[t,"ms"]})},o1e=K("span",{target:"expzhs34"})({name:"50zrmy",styles:"text-transform:uppercase"}),a1e=K(Bs,{target:"expzhs33"})({name:"50zrmy",styles:"text-transform:uppercase"}),l1e=K("span",{target:"expzhs32"})(""),c1e=K("span",{target:"expzhs31"})({name:"1mrl9vb",styles:"font-size:1.5rem;padding-right:1rem"}),u1e=K("span",{target:"expzhs30"})({name:"13smbnv",styles:"font-size:1.5rem;padding-right:2rem;text-transform:none"}),F_=2500,d1e=()=>{const e=[0,...new Array(21).fill(0).map((n,r)=>Math.round(10*(1.2+Math.sin(r/2.5+1.5)))/10).map(n=>Math.round(n/28*F_)).reduce((n,r)=>[...n,(n.at(-1)??0)+r],[])],t=[{offset:"0%",color:Xe.eurovisionPink.text},{offset:"25%",color:Xe.eurovisionYellow.text},{offset:"50%",color:Xe.eurovisionPink.text},{offset:"75%",color:Xe.eurovisionOrange.text},{offset:"100%",color:Xe.eurovisionPink.text}];return g.jsxs("svg",{width:F_,height:F_,version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:[g.jsx("defs",{children:Array.from({length:21},(n,r)=>g.jsx("linearGradient",{id:`grad${r}`,x1:"0%",x2:"0%",y1:`${r*2}%`,y2:`${r*2+100}%`,spreadMethod:"repeat",children:t.map((i,s)=>g.jsx("stop",{offset:i.offset,stopColor:i.color},s))},r))}),Array.from({length:22},(n,r)=>g.jsx("rect",{x:e[r],y:"0",width:(e[r+1]??501)-e[r]+10,height:"100%",fill:`url(#grad${r})`},r))]})},f1e=`<?xml version="1.0" encoding="utf-8"?>
<svg viewBox="0 0 500 500" xmlns="http://www.w3.org/2000/svg">
  <g style="" transform="matrix(1.071942, 0, 0, 1.071942, 1.835104, 30.483427)">
    <path xmlns="http://www.w3.org/2000/svg" d="M 106.909 108.923 C 93.513 122.319 85.385 140.039 83.629 158.623 C 65.934 156.191 48.056 147.884 33.558 133.384 C 2.037 101.864 -1.61 54.425 25.407 27.42 C 52.402 0.403 99.839 4.05 131.36 35.571 C 145.859 50.07 154.167 67.957 156.598 85.654 C 138.025 87.387 120.305 95.527 106.909 108.923 Z M 277.592 279.606 C 284.12 273.076 293.486 270.217 302.56 271.951 L 335.161 304.574 C 344.167 313.579 344.167 328.169 335.161 337.175 C 326.155 346.181 311.566 346.181 302.56 337.175 L 269.937 304.574 C 268.203 295.502 271.062 286.135 277.592 279.606 Z M 172.111 108.923 C 154.167 106.357 136.043 112.402 123.209 125.224 C 110.377 138.057 104.342 156.181 106.909 174.137 L 258.318 295.253 C 259.219 286.383 262.957 277.94 269.441 271.455 C 275.925 264.971 284.368 261.234 293.239 260.333 L 172.111 108.923 Z" style="stroke: rgb(0, 0, 0); fill: rgb(255, 54, 54); stroke-width: 9.32886px; stroke-linejoin: round;"/>
    <path xmlns="http://www.w3.org/2000/svg" d="M 218.755 301.518 C 205.359 288.122 197.231 270.402 195.475 251.818 C 177.78 254.25 159.902 262.557 145.404 277.057 C 113.883 308.577 110.236 356.016 137.253 383.021 C 164.248 410.038 211.685 406.391 243.206 374.87 C 257.705 360.371 266.013 342.484 268.444 324.787 C 249.871 323.054 232.151 314.914 218.755 301.518 Z M 389.438 130.835 C 395.966 137.365 405.332 140.224 414.406 138.49 L 447.007 105.867 C 456.013 96.862 456.013 82.272 447.007 73.266 C 438.001 64.26 423.412 64.26 414.406 73.266 L 381.783 105.867 C 380.049 114.939 382.908 124.306 389.438 130.835 Z M 283.957 301.518 C 266.013 304.084 247.889 298.039 235.055 285.217 C 222.223 272.384 216.188 254.26 218.755 236.304 L 370.164 115.188 C 371.065 124.058 374.803 132.501 381.287 138.986 C 387.771 145.47 396.214 149.207 405.085 150.108 L 283.957 301.518 Z" style="fill: rgb(4, 153, 255); stroke: rgb(0, 0, 0); stroke-width: 9.32886px; stroke-linejoin: round;" transform="matrix(-1, 0, 0, -1, 572.91568, 467.631317)"/>
  </g>
</svg>`;function h1e(){return ja(!1),g.jsxs(Dl,{children:[g.jsxs(p1e,{children:[g.jsx(g1e,{dangerouslySetInnerHTML:{__html:f1e}}),g.jsx(a6,{children:g.jsx(FI,{})})]}),g.jsxs(v1e,{children:[g.jsx(m1e,{children:g.jsx(FI,{})}),g.jsx(o2,{}),g.jsx(y1e,{src:_L,alt:"Eurovision"})]}),g.jsx(d1e,{})]})}const p1e=K("div",{target:"e1bt4f566"})({name:"yc537h",styles:"width:400px;aspect-ratio:1/1;position:relative;padding:30px"}),a6=K("div",{target:"e1bt4f565"})(`display:flex;position:absolute;inset:0;z-index:-1;div{background-image:linear-gradient(
      0deg,
      `,Xe.eurovisionViolet.text,`,
      `,Xe.eurovisionBlue.text,`,
      `,Xe.eurovisionYellow.text,`,
      `,Xe.eurovisionBlue.text,`,
      `,Xe.eurovisionViolet.text,`
    );}`),g1e=K("svg",{target:"e1bt4f564"})("width:400px;aspect-ratio:1/1;object-fit:contain;filter:drop-shadow(0 0 10px rgb(0 0 0 / 0.6));path:nth-of-type(1){fill:",Xe.red.text,"!important;}path:nth-of-type(2){fill:",Xe.blue.text,"!important;}"),m1e=K(a6,{target:"e1bt4f563"})(`div{background-image:linear-gradient(
      0deg,
      `,Xe.eurovisionPink.text,`,
      `,Xe.eurovisionOrange.text,`,
      `,Xe.eurovisionYellow.text,`,
      `,Xe.eurovisionPink.text,`
    );}`),v1e=K("div",{target:"e1bt4f562"})(`overflow:hidden;position:relative;height:calc(693px / 1);width:calc(2048px / 1);transform:scale(1);background-color:black;background-image:linear-gradient(
    120deg,
    `,Xe.red.stroke,`,
    `,Xe.red.hit.fill,` 49.9%,
    `,Xe.blue.hit.fill,` 50.1%,
    `,Xe.blue.stroke,`
  );display:flex;align-items:center;justify-content:center;div{}`),y1e=K("img",{target:"e1bt4f561"})({name:"1go3sm",styles:"margin-left:4rem;transform:scale(1.5)"}),A1e=(e,t)=>`
<iframe src="https://www.facebook.com/plugins/page.php?href=https%3A%2F%2Fwww.facebook.com%2Fallkaraoke.party&${Object.entries({show_posts:!0,width:e,height:t,small_header:!0,adapt_container_width:!0,hide_cover:!1,show_facepile:!1,appId:530120230391395}).map(([i,s])=>`${i}=${String(s)}`).join("&")}" width="${e}" height="${t}" style="border:none;overflow:hidden" scrolling="no" frameborder="0" allowfullscreen="true" allow="autoplay; clipboard-write; encrypted-media; picture-in-picture; web-share"></iframe>
`;function b1e(){const[e]=bt(oi),[t,n]=x.useState(!1),[r,i]=x.useState(180),s=x.useCallback(l=>{i(Math.round(l==null?void 0:l.getBoundingClientRect().width)??200)},[]);return x.useEffect(()=>{const l=setTimeout(()=>{n(!0)},750);return()=>{clearTimeout(l)}},[]),g.jsxs(_1e,{"data-small":!!e,show:t,children:[g.jsx("div",{dangerouslySetInnerHTML:{__html:A1e(450,750)},style:{height:750*(r/350),width:"100%",transformOrigin:"left top",transform:`scale(${r/450})`}}),g.jsx("h5",{ref:s,children:"Get updates, and help by suggesting features and reporting bugs."})]})}const _1e=K(du,{target:"e1zzmv40"})("transition:1000ms;opacity:",e=>e.show?1:0,";position:absolute;top:2rem;right:10rem;width:37rem;margin:0;text-decoration:none;text-align:justify;&[data-small='true'] &{width:25rem;right:1rem;h2{font-size:1.5rem;}h5{font-size:1.15rem;}}view-transition-name:fb-notification;");function S1e(){ja(!0);const e=ji();Nl(!1);const{register:t}=dr();return g.jsxs(Da,{children:[g.jsxs(gs,{children:[g.jsx("title",{children:"Main Menu | AllKaraoke.Party - Free Online Karaoke Party Game"}),g.jsx("link",{rel:"preload",href:"/songs/index.json",as:"fetch",type:"application/json",crossOrigin:"anonymous"}),g.jsx("link",{rel:"preload",href:"/mostPopularSongs.json",as:"fetch",type:"application/json",crossOrigin:"anonymous"})]}),g.jsxs(x1e,{children:[g.jsxs("span",{children:["Bpm data and release year provided by"," ",g.jsx("a",{target:"_blank",href:"https://getsongbpm.com/",rel:"noreferrer",children:"GetSongBPM"})]}),g.jsx("span",{children:"Song: Funk Cool Groove (Music Today 80)"}),g.jsx("span",{children:" Composed & Produced by : Anwar Amr"}),g.jsxs("span",{children:[" Video Link:"," ",g.jsx("a",{href:"https://youtu.be/FGzzBbYRjFY",target:"_blank",rel:"noreferrer",children:"https://youtu.be/FGzzBbYRjFY"})]})]}),g.jsx(b1e,{}),g.jsxs(g.Fragment,{children:[g.jsx(Mi,{to:"game/",children:g.jsx(jt.Button,{...t("sing-a-song",()=>e("game/")),children:"Sing a song"})}),g.jsx(Mi,{to:"select-input/",children:g.jsx(jt.Button,{...t("select-input",()=>e("select-input/")),children:"Setup Microphones"})}),g.jsx(Mi,{to:"settings/",children:g.jsx(jt.Button,{...t("settings",()=>e("settings/")),children:"Settings"})}),g.jsx(Mi,{to:"jukebox/",children:g.jsx(jt.Button,{...t("jukebox",()=>e("jukebox/")),children:"Jukebox"})}),g.jsx(Mi,{to:"manage-songs/",children:g.jsx(jt.Button,{...t("manage-songs",()=>e("manage-songs/")),children:"Manage Songs"})})]})]})}const x1e=K("div",{target:"e1g7uwpd0"})(Ot,";text-decoration:none;flex-direction:column;display:flex;font-size:1.5rem;gap:1.25rem;opacity:0.85;position:absolute;bottom:4rem;left:1rem;view-transition-name:background-music-credit;"),w1e=x.lazy(()=>df(()=>import("./SongManagement-D35F9EQz.js"),[]).then(e=>({default:e.SongList})));function E1e(){bt(oi);const[e]=bt(Vs),t=x.useMemo(()=>PE({graphicSetting:e}),[e]);return g.jsx(_de,{theme:t,children:g.jsx(Pw,{fallback:Eme,children:g.jsx(_re,{children:g.jsx(ure,{children:g.jsx(Sle,{base:"/",children:g.jsxs(xle,{children:[g.jsx(Xr,{path:Ei.QUICK_SETUP,component:n1e}),g.jsx(Xr,{path:Ei.MENU,component:S1e}),g.jsx(Xr,{path:Ei.EXCLUDE_LANGUAGES,component:kme}),g.jsx(Xr,{path:Ei.JUKEBOX,component:Yge}),g.jsx(Xr,{path:Ei.GAME,children:g.jsx(zbe,{})}),g.jsx(Xr,{path:Ei.SELECT_INPUT,component:wme}),g.jsx(Xr,{path:Ei.SETTINGS,component:lhe}),g.jsx(Xr,{path:Ei.SETTINGS_REMOTE_MICS,component:i1e}),g.jsx(Xr,{path:Ei.SETTINGS_CALIBRATION,component:r1e}),g.jsx(Xr,{path:Ei.REMOTE_MIC,component:Cfe}),g.jsx(Xr,{path:Ei.MANAGE_SONGS,component:Wbe}),g.jsx(Xr,{path:"social-media-elements",component:h1e}),g.jsx(Xr,{path:Ei.CONVERT,component:()=>g.jsx(mhe,{})}),g.jsx(Xr,{path:Ei.EDIT_SONGS_LIST,component:()=>g.jsx(x.Suspense,{fallback:g.jsx(QN,{}),children:g.jsx(w1e,{})})}),g.jsx(Xr,{path:"edit/get-songs-bpms",component:Cme}),g.jsx(Xr,{path:Ei.EDIT_SONG,children:g.jsx(Gpe,{})}),g.jsx(Xr,{path:Ei.INDEX,component:Kbe})]})})})})})})}const T1e=wY(E1e),C1e=["AbortError: Version change transaction was aborted in upgradeneeded event handler.","The object can not be found here.","Document is hidden.","Failed to register a ServiceWorker for scope ('https://allkaraoke.party/') with script","NotAllowedError: Permission denied by system","ResizeObserver loop limit exceeded","ResizeObserver loop completed with undelivered notifications.","NotAllowedError: Document is not focused.","Error: Socket was destroyed!",/TypeError: Failed to fetch/,"top.GLOBALS","originalCreateNotification","canvas.contentDocument","MyApp_RemoveAllHighlights","http://tt.epicplay.com","Can't find variable: ZiteReader","jigsaw is not defined","ComboSearch is not defined","http://loading.retry.widdit.com/","atomicFindClose","fb_xd_fragment","bmi_SafeAddOnload","EBCallBackMessageReceived","conduitPage"];var z_={exports:{}},Nh={},$_={exports:{}},U_={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ej;function k1e(){return Ej||(Ej=1,function(e){function t(V,W){var Q=V.length;V.push(W);e:for(;0<Q;){var J=Q-1>>>1,B=V[J];if(0<i(B,W))V[J]=W,V[Q]=B,Q=J;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var W=V[0],Q=V.pop();if(Q!==W){V[0]=Q;e:for(var J=0,B=V.length,G=B>>>1;J<G;){var ee=2*(J+1)-1,ue=V[ee],F=ee+1,ge=V[F];if(0>i(ue,Q))F<B&&0>i(ge,ue)?(V[J]=ge,V[F]=Q,J=F):(V[J]=ue,V[ee]=Q,J=ee);else if(F<B&&0>i(ge,Q))V[J]=ge,V[F]=Q,J=F;else break e}}return W}function i(V,W){var Q=V.sortIndex-W.sortIndex;return Q!==0?Q:V.id-W.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var l=Date,c=l.now();e.unstable_now=function(){return l.now()-c}}var d=[],u=[],h=1,p=null,v=3,y=!1,b=!1,_=!1,w=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function R(V){for(var W=n(u);W!==null;){if(W.callback===null)r(u);else if(W.startTime<=V)r(u),W.sortIndex=W.expirationTime,t(d,W);else break;W=n(u)}}function M(V){if(_=!1,R(V),!b)if(n(d)!==null)b=!0,q();else{var W=n(u);W!==null&&H(M,W.startTime-V)}}var E=!1,O=-1,j=5,D=-1;function P(){return!(e.unstable_now()-D<j)}function C(){if(E){var V=e.unstable_now();D=V;var W=!0;try{e:{b=!1,_&&(_=!1,T(O),O=-1),y=!0;var Q=v;try{t:{for(R(V),p=n(d);p!==null&&!(p.expirationTime>V&&P());){var J=p.callback;if(typeof J=="function"){p.callback=null,v=p.priorityLevel;var B=J(p.expirationTime<=V);if(V=e.unstable_now(),typeof B=="function"){p.callback=B,R(V),W=!0;break t}p===n(d)&&r(d),R(V)}else r(d);p=n(d)}if(p!==null)W=!0;else{var G=n(u);G!==null&&H(M,G.startTime-V),W=!1}}break e}finally{p=null,v=Q,y=!1}W=void 0}}finally{W?N():E=!1}}}var N;if(typeof k=="function")N=function(){k(C)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,L=U.port2;U.port1.onmessage=C,N=function(){L.postMessage(null)}}else N=function(){w(C,0)};function q(){E||(E=!0,N())}function H(V,W){O=w(function(){V(e.unstable_now())},W)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(V){V.callback=null},e.unstable_continueExecution=function(){b||y||(b=!0,q())},e.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<V?Math.floor(1e3/V):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return n(d)},e.unstable_next=function(V){switch(v){case 1:case 2:case 3:var W=3;break;default:W=v}var Q=v;v=W;try{return V()}finally{v=Q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(V,W){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var Q=v;v=V;try{return W()}finally{v=Q}},e.unstable_scheduleCallback=function(V,W,Q){var J=e.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?J+Q:J):Q=J,V){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=Q+B,V={id:h++,callback:W,priorityLevel:V,startTime:Q,expirationTime:B,sortIndex:-1},Q>J?(V.sortIndex=Q,t(u,V),n(d)===null&&V===n(u)&&(_?(T(O),O=-1):_=!0,H(M,Q-J))):(V.sortIndex=B,t(d,V),b||y||(b=!0,q())),V},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(V){var W=v;return function(){var Q=v;v=W;try{return V.apply(this,arguments)}finally{v=Q}}}}(U_)),U_}var Tj;function M1e(){return Tj||(Tj=1,$_.exports=k1e()),$_.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cj;function R1e(){if(Cj)return Nh;Cj=1;var e=M1e(),t=eu(),n=$B();function r(o){var a="https://react.dev/errors/"+o;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)a+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+o+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}var s=Symbol.for("react.element"),l=Symbol.for("react.transitional.element"),c=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),p=Symbol.for("react.provider"),v=Symbol.for("react.consumer"),y=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),w=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),R=Symbol.for("react.offscreen"),M=Symbol.for("react.memo_cache_sentinel"),E=Symbol.iterator;function O(o){return o===null||typeof o!="object"?null:(o=E&&o[E]||o["@@iterator"],typeof o=="function"?o:null)}var j=Symbol.for("react.client.reference");function D(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===j?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case d:return"Fragment";case c:return"Portal";case h:return"Profiler";case u:return"StrictMode";case _:return"Suspense";case w:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case y:return(o.displayName||"Context")+".Provider";case v:return(o._context.displayName||"Context")+".Consumer";case b:var a=o.render;return o=o.displayName,o||(o=a.displayName||a.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case T:return a=o.displayName||null,a!==null?a:D(o.type)||"Memo";case k:a=o._payload,o=o._init;try{return D(o(a))}catch{}}return null}var P=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,C=Object.assign,N,U;function L(o){if(N===void 0)try{throw Error()}catch(f){var a=f.stack.trim().match(/\n( *(at )?)/);N=a&&a[1]||"",U=-1<f.stack.indexOf(`
    at`)?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return`
`+N+o+U}var q=!1;function H(o,a){if(!o||q)return"";q=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(a){var Te=function(){throw Error()};if(Object.defineProperty(Te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Te,[])}catch(Ae){var he=Ae}Reflect.construct(o,[],Te)}else{try{Te.call()}catch(Ae){he=Ae}o.call(Te.prototype)}}else{try{throw Error()}catch(Ae){he=Ae}(Te=o())&&typeof Te.catch=="function"&&Te.catch(function(){})}}catch(Ae){if(Ae&&he&&typeof Ae.stack=="string")return[Ae.stack,he.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var A=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");A&&A.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var S=m.DetermineComponentFrameRoot(),I=S[0],z=S[1];if(I&&z){var X=I.split(`
`),ie=z.split(`
`);for(A=m=0;m<X.length&&!X[m].includes("DetermineComponentFrameRoot");)m++;for(;A<ie.length&&!ie[A].includes("DetermineComponentFrameRoot");)A++;if(m===X.length||A===ie.length)for(m=X.length-1,A=ie.length-1;1<=m&&0<=A&&X[m]!==ie[A];)A--;for(;1<=m&&0<=A;m--,A--)if(X[m]!==ie[A]){if(m!==1||A!==1)do if(m--,A--,0>A||X[m]!==ie[A]){var be=`
`+X[m].replace(" at new "," at ");return o.displayName&&be.includes("<anonymous>")&&(be=be.replace("<anonymous>",o.displayName)),be}while(1<=m&&0<=A);break}}}finally{q=!1,Error.prepareStackTrace=f}return(f=o?o.displayName||o.name:"")?L(f):""}function V(o){switch(o.tag){case 26:case 27:case 5:return L(o.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 15:return o=H(o.type,!1),o;case 11:return o=H(o.type.render,!1),o;case 1:return o=H(o.type,!0),o;default:return""}}function W(o){try{var a="";do a+=V(o),o=o.return;while(o);return a}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}function Q(o){var a=o,f=o;if(o.alternate)for(;a.return;)a=a.return;else{o=a;do a=o,a.flags&4098&&(f=a.return),o=a.return;while(o)}return a.tag===3?f:null}function J(o){if(o.tag===13){var a=o.memoizedState;if(a===null&&(o=o.alternate,o!==null&&(a=o.memoizedState)),a!==null)return a.dehydrated}return null}function B(o){if(Q(o)!==o)throw Error(r(188))}function G(o){var a=o.alternate;if(!a){if(a=Q(o),a===null)throw Error(r(188));return a!==o?null:o}for(var f=o,m=a;;){var A=f.return;if(A===null)break;var S=A.alternate;if(S===null){if(m=A.return,m!==null){f=m;continue}break}if(A.child===S.child){for(S=A.child;S;){if(S===f)return B(A),o;if(S===m)return B(A),a;S=S.sibling}throw Error(r(188))}if(f.return!==m.return)f=A,m=S;else{for(var I=!1,z=A.child;z;){if(z===f){I=!0,f=A,m=S;break}if(z===m){I=!0,m=A,f=S;break}z=z.sibling}if(!I){for(z=S.child;z;){if(z===f){I=!0,f=S,m=A;break}if(z===m){I=!0,m=S,f=A;break}z=z.sibling}if(!I)throw Error(r(189))}}if(f.alternate!==m)throw Error(r(190))}if(f.tag!==3)throw Error(r(188));return f.stateNode.current===f?o:a}function ee(o){var a=o.tag;if(a===5||a===26||a===27||a===6)return o;for(o=o.child;o!==null;){if(a=ee(o),a!==null)return a;o=o.sibling}return null}var ue=Array.isArray,F=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},se=[],Se=-1;function Me(o){return{current:o}}function Re(o){0>Se||(o.current=se[Se],se[Se]=null,Se--)}function ve(o,a){Se++,se[Se]=o.current,o.current=a}var je=Me(null),Ge=Me(null),$e=Me(null),De=Me(null);function Ve(o,a){switch(ve($e,a),ve(Ge,o),ve(je,null),o=a.nodeType,o){case 9:case 11:a=(a=a.documentElement)&&(a=a.namespaceURI)?hk(a):0;break;default:if(o=o===8?a.parentNode:a,a=o.tagName,o=o.namespaceURI)o=hk(o),a=pk(o,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}Re(je),ve(je,a)}function ot(){Re(je),Re(Ge),Re($e)}function ft(o){o.memoizedState!==null&&ve(De,o);var a=je.current,f=pk(a,o.type);a!==f&&(ve(Ge,o),ve(je,f))}function Be(o){Ge.current===o&&(Re(je),Re(Ge)),De.current===o&&(Re(De),fh._currentValue=ge)}var ut=Object.prototype.hasOwnProperty,en=e.unstable_scheduleCallback,pn=e.unstable_cancelCallback,sn=e.unstable_shouldYield,qe=e.unstable_requestPaint,pt=e.unstable_now,un=e.unstable_getCurrentPriorityLevel,on=e.unstable_ImmediatePriority,yt=e.unstable_UserBlockingPriority,lt=e.unstable_NormalPriority,rt=e.unstable_LowPriority,Ct=e.unstable_IdlePriority,Nn=e.log,Ut=e.unstable_setDisableYieldValue,_t=null,Nt=null;function Ln(o){if(Nt&&typeof Nt.onCommitFiberRoot=="function")try{Nt.onCommitFiberRoot(_t,o,void 0,(o.current.flags&128)===128)}catch{}}function Jt(o){if(typeof Nn=="function"&&Ut(o),Nt&&typeof Nt.setStrictMode=="function")try{Nt.setStrictMode(_t,o)}catch{}}var mt=Math.clz32?Math.clz32:Gn,fr=Math.log,Vr=Math.LN2;function Gn(o){return o>>>=0,o===0?32:31-(fr(o)/Vr|0)|0}var qr=128,Dr=4194304;function Lt(o){var a=o&42;if(a!==0)return a;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function Tn(o,a){var f=o.pendingLanes;if(f===0)return 0;var m=0,A=o.suspendedLanes,S=o.pingedLanes,I=o.warmLanes;o=o.finishedLanes!==0;var z=f&134217727;return z!==0?(f=z&~A,f!==0?m=Lt(f):(S&=z,S!==0?m=Lt(S):o||(I=z&~I,I!==0&&(m=Lt(I))))):(z=f&~A,z!==0?m=Lt(z):S!==0?m=Lt(S):o||(I=f&~I,I!==0&&(m=Lt(I)))),m===0?0:a!==0&&a!==m&&!(a&A)&&(A=m&-m,I=a&-a,A>=I||A===32&&(I&4194176)!==0)?a:m}function Je(o,a){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&a)===0}function kt(o,a){switch(o){case 1:case 2:case 4:case 8:return a+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hr(){var o=qr;return qr<<=1,!(qr&4194176)&&(qr=128),o}function ai(){var o=Dr;return Dr<<=1,!(Dr&62914560)&&(Dr=4194304),o}function Le(o){for(var a=[],f=0;31>f;f++)a.push(o);return a}function it(o,a){o.pendingLanes|=a,a!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function ht(o,a,f,m,A,S){var I=o.pendingLanes;o.pendingLanes=f,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=f,o.entangledLanes&=f,o.errorRecoveryDisabledLanes&=f,o.shellSuspendCounter=0;var z=o.entanglements,X=o.expirationTimes,ie=o.hiddenUpdates;for(f=I&~f;0<f;){var be=31-mt(f),Te=1<<be;z[be]=0,X[be]=-1;var he=ie[be];if(he!==null)for(ie[be]=null,be=0;be<he.length;be++){var Ae=he[be];Ae!==null&&(Ae.lane&=-536870913)}f&=~Te}m!==0&&Yn(o,m,0),S!==0&&A===0&&o.tag!==0&&(o.suspendedLanes|=S&~(I&~a))}function Yn(o,a,f){o.pendingLanes|=a,o.suspendedLanes&=~a;var m=31-mt(a);o.entangledLanes|=a,o.entanglements[m]=o.entanglements[m]|1073741824|f&4194218}function pr(o,a){var f=o.entangledLanes|=a;for(o=o.entanglements;f;){var m=31-mt(f),A=1<<m;A&a|o[m]&a&&(o[m]|=a),f&=~A}}function li(o){return o&=-o,2<o?8<o?o&134217727?32:268435456:8:2}function bi(){var o=F.p;return o!==0?o:(o=window.event,o===void 0?32:Ok(o.type))}function Mr(o,a){var f=F.p;try{return F.p=o,a()}finally{F.p=f}}var Kn=Math.random().toString(36).slice(2),St="__reactFiber$"+Kn,tr="__reactProps$"+Kn,mo="__reactContainer$"+Kn,Ba="__reactEvents$"+Kn,hu="__reactListeners$"+Kn,pu="__reactHandles$"+Kn,Ll="__reactResources$"+Kn,Qt="__reactMarker$"+Kn;function _i(o){delete o[St],delete o[tr],delete o[Ba],delete o[hu],delete o[pu]}function Ki(o){var a=o[St];if(a)return a;for(var f=o.parentNode;f;){if(a=f[mo]||f[St]){if(f=a.alternate,a.child!==null||f!==null&&f.child!==null)for(o=vk(o);o!==null;){if(f=o[St])return f;o=vk(o)}return a}o=f,f=o.parentNode}return null}function Pi(o){if(o=o[St]||o[mo]){var a=o.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return o}return null}function Lo(o){var a=o.tag;if(a===5||a===26||a===27||a===6)return o.stateNode;throw Error(r(33))}function Wi(o){var a=o[Ll];return a||(a=o[Ll]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Fn(o){o[Qt]=!0}var Sf=new Set,Fo={};function zo(o,a){Ws(o,a),Ws(o+"Capture",a)}function Ws(o,a){for(Fo[o]=a,o=0;o<a.length;o++)Sf.add(a[o])}var Qi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rA=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),dg={},gu={};function iA(o){return ut.call(gu,o)?!0:ut.call(dg,o)?!1:rA.test(o)?gu[o]=!0:(dg[o]=!0,!1)}function mu(o,a,f){if(iA(a))if(f===null)o.removeAttribute(a);else{switch(typeof f){case"undefined":case"function":case"symbol":o.removeAttribute(a);return;case"boolean":var m=a.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){o.removeAttribute(a);return}}o.setAttribute(a,""+f)}}function $(o,a,f){if(f===null)o.removeAttribute(a);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(a);return}o.setAttribute(a,""+f)}}function Z(o,a,f,m){if(m===null)o.removeAttribute(f);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(f);return}o.setAttributeNS(a,f,""+m)}}function Y(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function re(o){var a=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function le(o){var a=re(o)?"checked":"value",f=Object.getOwnPropertyDescriptor(o.constructor.prototype,a),m=""+o[a];if(!o.hasOwnProperty(a)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var A=f.get,S=f.set;return Object.defineProperty(o,a,{configurable:!0,get:function(){return A.call(this)},set:function(I){m=""+I,S.call(this,I)}}),Object.defineProperty(o,a,{enumerable:f.enumerable}),{getValue:function(){return m},setValue:function(I){m=""+I},stopTracking:function(){o._valueTracker=null,delete o[a]}}}}function te(o){o._valueTracker||(o._valueTracker=le(o))}function _e(o){if(!o)return!1;var a=o._valueTracker;if(!a)return!0;var f=a.getValue(),m="";return o&&(m=re(o)?o.checked?"true":"false":o.value),o=m,o!==f?(a.setValue(o),!0):!1}function Ee(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var Ie=/[\n"\\]/g;function Ce(o){return o.replace(Ie,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Pe(o,a,f,m,A,S,I,z){o.name="",I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?o.type=I:o.removeAttribute("type"),a!=null?I==="number"?(a===0&&o.value===""||o.value!=a)&&(o.value=""+Y(a)):o.value!==""+Y(a)&&(o.value=""+Y(a)):I!=="submit"&&I!=="reset"||o.removeAttribute("value"),a!=null?wt(o,I,Y(a)):f!=null?wt(o,I,Y(f)):m!=null&&o.removeAttribute("value"),A==null&&S!=null&&(o.defaultChecked=!!S),A!=null&&(o.checked=A&&typeof A!="function"&&typeof A!="symbol"),z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"?o.name=""+Y(z):o.removeAttribute("name")}function We(o,a,f,m,A,S,I,z){if(S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(o.type=S),a!=null||f!=null){if(!(S!=="submit"&&S!=="reset"||a!=null))return;f=f!=null?""+Y(f):"",a=a!=null?""+Y(a):f,z||a===o.value||(o.value=a),o.defaultValue=a}m=m??A,m=typeof m!="function"&&typeof m!="symbol"&&!!m,o.checked=z?o.checked:!!m,o.defaultChecked=!!m,I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(o.name=I)}function wt(o,a,f){a==="number"&&Ee(o.ownerDocument)===o||o.defaultValue===""+f||(o.defaultValue=""+f)}function Ft(o,a,f,m){if(o=o.options,a){a={};for(var A=0;A<f.length;A++)a["$"+f[A]]=!0;for(f=0;f<o.length;f++)A=a.hasOwnProperty("$"+o[f].value),o[f].selected!==A&&(o[f].selected=A),A&&m&&(o[f].defaultSelected=!0)}else{for(f=""+Y(f),a=null,A=0;A<o.length;A++){if(o[A].value===f){o[A].selected=!0,m&&(o[A].defaultSelected=!0);return}a!==null||o[A].disabled||(a=o[A])}a!==null&&(a.selected=!0)}}function tn(o,a,f){if(a!=null&&(a=""+Y(a),a!==o.value&&(o.value=a),f==null)){o.defaultValue!==a&&(o.defaultValue=a);return}o.defaultValue=f!=null?""+Y(f):""}function Wn(o,a,f,m){if(a==null){if(m!=null){if(f!=null)throw Error(r(92));if(ue(m)){if(1<m.length)throw Error(r(93));m=m[0]}f=m}f==null&&(f=""),a=f}f=Y(a),o.defaultValue=f,m=o.textContent,m===f&&m!==""&&m!==null&&(o.value=m)}function mn(o,a){if(a){var f=o.firstChild;if(f&&f===o.lastChild&&f.nodeType===3){f.nodeValue=a;return}}o.textContent=a}var Vi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Na(o,a,f){var m=a.indexOf("--")===0;f==null||typeof f=="boolean"||f===""?m?o.setProperty(a,""):a==="float"?o.cssFloat="":o[a]="":m?o.setProperty(a,f):typeof f!="number"||f===0||Vi.has(a)?a==="float"?o.cssFloat=f:o[a]=(""+f).trim():o[a]=f+"px"}function vu(o,a,f){if(a!=null&&typeof a!="object")throw Error(r(62));if(o=o.style,f!=null){for(var m in f)!f.hasOwnProperty(m)||a!=null&&a.hasOwnProperty(m)||(m.indexOf("--")===0?o.setProperty(m,""):m==="float"?o.cssFloat="":o[m]="");for(var A in a)m=a[A],a.hasOwnProperty(A)&&f[A]!==m&&Na(o,A,m)}else for(var S in a)a.hasOwnProperty(S)&&Na(o,S,a[S])}function xf(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),S2=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function yu(o){return S2.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}var Ef=null;function Au(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var bu=null,_u=null;function x2(o){var a=Pi(o);if(a&&(o=a.stateNode)){var f=o[tr]||null;e:switch(o=a.stateNode,a.type){case"input":if(Pe(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name),a=f.name,f.type==="radio"&&a!=null){for(f=o;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll('input[name="'+Ce(""+a)+'"][type="radio"]'),a=0;a<f.length;a++){var m=f[a];if(m!==o&&m.form===o.form){var A=m[tr]||null;if(!A)throw Error(r(90));Pe(m,A.value,A.defaultValue,A.defaultValue,A.checked,A.defaultChecked,A.type,A.name)}}for(a=0;a<f.length;a++)m=f[a],m.form===o.form&&_e(m)}break e;case"textarea":tn(o,f.value,f.defaultValue);break e;case"select":a=f.value,a!=null&&Ft(o,!!f.multiple,a,!1)}}}var sA=!1;function w2(o,a,f){if(sA)return o(a,f);sA=!0;try{var m=o(a);return m}finally{if(sA=!1,(bu!==null||_u!==null)&&(Kg(),bu&&(a=bu,o=_u,_u=bu=null,x2(a),o)))for(a=0;a<o.length;a++)x2(o[a])}}function Tf(o,a){var f=o.stateNode;if(f===null)return null;var m=f[tr]||null;if(m===null)return null;f=m[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(o=o.type,m=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!m;break e;default:o=!1}if(o)return null;if(f&&typeof f!="function")throw Error(r(231,a,typeof f));return f}var oA=!1;if(Qi)try{var Cf={};Object.defineProperty(Cf,"passive",{get:function(){oA=!0}}),window.addEventListener("test",Cf,Cf),window.removeEventListener("test",Cf,Cf)}catch{oA=!1}var La=null,aA=null,fg=null;function E2(){if(fg)return fg;var o,a=aA,f=a.length,m,A="value"in La?La.value:La.textContent,S=A.length;for(o=0;o<f&&a[o]===A[o];o++);var I=f-o;for(m=1;m<=I&&a[f-m]===A[S-m];m++);return fg=A.slice(o,1<m?1-m:void 0)}function hg(o){var a=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&a===13&&(o=13)):o=a,o===10&&(o=13),32<=o||o===13?o:0}function pg(){return!0}function T2(){return!1}function Di(o){function a(f,m,A,S,I){this._reactName=f,this._targetInst=A,this.type=m,this.nativeEvent=S,this.target=I,this.currentTarget=null;for(var z in o)o.hasOwnProperty(z)&&(f=o[z],this[z]=f?f(S):S[z]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?pg:T2,this.isPropagationStopped=T2,this}return C(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=pg)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=pg)},persist:function(){},isPersistent:pg}),a}var Fl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gg=Di(Fl),kf=C({},Fl,{view:0,detail:0}),l6=Di(kf),lA,cA,Mf,mg=C({},kf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dA,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Mf&&(Mf&&o.type==="mousemove"?(lA=o.screenX-Mf.screenX,cA=o.screenY-Mf.screenY):cA=lA=0,Mf=o),lA)},movementY:function(o){return"movementY"in o?o.movementY:cA}}),C2=Di(mg),c6=C({},mg,{dataTransfer:0}),u6=Di(c6),d6=C({},kf,{relatedTarget:0}),uA=Di(d6),f6=C({},Fl,{animationName:0,elapsedTime:0,pseudoElement:0}),h6=Di(f6),p6=C({},Fl,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),g6=Di(p6),m6=C({},Fl,{data:0}),k2=Di(m6),v6={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},y6={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},A6={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function b6(o){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(o):(o=A6[o])?!!a[o]:!1}function dA(){return b6}var _6=C({},kf,{key:function(o){if(o.key){var a=v6[o.key]||o.key;if(a!=="Unidentified")return a}return o.type==="keypress"?(o=hg(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?y6[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dA,charCode:function(o){return o.type==="keypress"?hg(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?hg(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),S6=Di(_6),x6=C({},mg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),M2=Di(x6),w6=C({},kf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dA}),E6=Di(w6),T6=C({},Fl,{propertyName:0,elapsedTime:0,pseudoElement:0}),C6=Di(T6),k6=C({},mg,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),M6=Di(k6),R6=C({},Fl,{newState:0,oldState:0}),I6=Di(R6),O6=[9,13,27,32],fA=Qi&&"CompositionEvent"in window,Rf=null;Qi&&"documentMode"in document&&(Rf=document.documentMode);var j6=Qi&&"TextEvent"in window&&!Rf,R2=Qi&&(!fA||Rf&&8<Rf&&11>=Rf),I2=" ",O2=!1;function j2(o,a){switch(o){case"keyup":return O6.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function P2(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Su=!1;function P6(o,a){switch(o){case"compositionend":return P2(a);case"keypress":return a.which!==32?null:(O2=!0,I2);case"textInput":return o=a.data,o===I2&&O2?null:o;default:return null}}function V6(o,a){if(Su)return o==="compositionend"||!fA&&j2(o,a)?(o=E2(),fg=aA=La=null,Su=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return R2&&a.locale!=="ko"?null:a.data;default:return null}}var D6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function V2(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a==="input"?!!D6[o.type]:a==="textarea"}function D2(o,a,f,m){bu?_u?_u.push(m):_u=[m]:bu=m,a=Zg(a,"onChange"),0<a.length&&(f=new gg("onChange","change",null,f,m),o.push({event:f,listeners:a}))}var If=null,Of=null;function B6(o){lk(o,0)}function vg(o){var a=Lo(o);if(_e(a))return o}function B2(o,a){if(o==="change")return a}var N2=!1;if(Qi){var hA;if(Qi){var pA="oninput"in document;if(!pA){var L2=document.createElement("div");L2.setAttribute("oninput","return;"),pA=typeof L2.oninput=="function"}hA=pA}else hA=!1;N2=hA&&(!document.documentMode||9<document.documentMode)}function F2(){If&&(If.detachEvent("onpropertychange",z2),Of=If=null)}function z2(o){if(o.propertyName==="value"&&vg(Of)){var a=[];D2(a,Of,o,Au(o)),w2(B6,a)}}function N6(o,a,f){o==="focusin"?(F2(),If=a,Of=f,If.attachEvent("onpropertychange",z2)):o==="focusout"&&F2()}function L6(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return vg(Of)}function F6(o,a){if(o==="click")return vg(a)}function z6(o,a){if(o==="input"||o==="change")return vg(a)}function $6(o,a){return o===a&&(o!==0||1/o===1/a)||o!==o&&a!==a}var Xi=typeof Object.is=="function"?Object.is:$6;function jf(o,a){if(Xi(o,a))return!0;if(typeof o!="object"||o===null||typeof a!="object"||a===null)return!1;var f=Object.keys(o),m=Object.keys(a);if(f.length!==m.length)return!1;for(m=0;m<f.length;m++){var A=f[m];if(!ut.call(a,A)||!Xi(o[A],a[A]))return!1}return!0}function $2(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function U2(o,a){var f=$2(o);o=0;for(var m;f;){if(f.nodeType===3){if(m=o+f.textContent.length,o<=a&&m>=a)return{node:f,offset:a-o};o=m}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=$2(f)}}function H2(o,a){return o&&a?o===a?!0:o&&o.nodeType===3?!1:a&&a.nodeType===3?H2(o,a.parentNode):"contains"in o?o.contains(a):o.compareDocumentPosition?!!(o.compareDocumentPosition(a)&16):!1:!1}function q2(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var a=Ee(o.document);a instanceof o.HTMLIFrameElement;){try{var f=typeof a.contentWindow.location.href=="string"}catch{f=!1}if(f)o=a.contentWindow;else break;a=Ee(o.document)}return a}function gA(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a&&(a==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||a==="textarea"||o.contentEditable==="true")}function U6(o,a){var f=q2(a);a=o.focusedElem;var m=o.selectionRange;if(f!==a&&a&&a.ownerDocument&&H2(a.ownerDocument.documentElement,a)){if(m!==null&&gA(a)){if(o=m.start,f=m.end,f===void 0&&(f=o),"selectionStart"in a)a.selectionStart=o,a.selectionEnd=Math.min(f,a.value.length);else if(f=(o=a.ownerDocument||document)&&o.defaultView||window,f.getSelection){f=f.getSelection();var A=a.textContent.length,S=Math.min(m.start,A);m=m.end===void 0?S:Math.min(m.end,A),!f.extend&&S>m&&(A=m,m=S,S=A),A=U2(a,S);var I=U2(a,m);A&&I&&(f.rangeCount!==1||f.anchorNode!==A.node||f.anchorOffset!==A.offset||f.focusNode!==I.node||f.focusOffset!==I.offset)&&(o=o.createRange(),o.setStart(A.node,A.offset),f.removeAllRanges(),S>m?(f.addRange(o),f.extend(I.node,I.offset)):(o.setEnd(I.node,I.offset),f.addRange(o)))}}for(o=[],f=a;f=f.parentNode;)f.nodeType===1&&o.push({element:f,left:f.scrollLeft,top:f.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<o.length;a++)f=o[a],f.element.scrollLeft=f.left,f.element.scrollTop=f.top}}var H6=Qi&&"documentMode"in document&&11>=document.documentMode,xu=null,mA=null,Pf=null,vA=!1;function G2(o,a,f){var m=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;vA||xu==null||xu!==Ee(m)||(m=xu,"selectionStart"in m&&gA(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Pf&&jf(Pf,m)||(Pf=m,m=Zg(mA,"onSelect"),0<m.length&&(a=new gg("onSelect","select",null,a,f),o.push({event:a,listeners:m}),a.target=xu)))}function zl(o,a){var f={};return f[o.toLowerCase()]=a.toLowerCase(),f["Webkit"+o]="webkit"+a,f["Moz"+o]="moz"+a,f}var wu={animationend:zl("Animation","AnimationEnd"),animationiteration:zl("Animation","AnimationIteration"),animationstart:zl("Animation","AnimationStart"),transitionrun:zl("Transition","TransitionRun"),transitionstart:zl("Transition","TransitionStart"),transitioncancel:zl("Transition","TransitionCancel"),transitionend:zl("Transition","TransitionEnd")},yA={},Y2={};Qi&&(Y2=document.createElement("div").style,"AnimationEvent"in window||(delete wu.animationend.animation,delete wu.animationiteration.animation,delete wu.animationstart.animation),"TransitionEvent"in window||delete wu.transitionend.transition);function $l(o){if(yA[o])return yA[o];if(!wu[o])return o;var a=wu[o],f;for(f in a)if(a.hasOwnProperty(f)&&f in Y2)return yA[o]=a[f];return o}var K2=$l("animationend"),W2=$l("animationiteration"),Q2=$l("animationstart"),q6=$l("transitionrun"),G6=$l("transitionstart"),Y6=$l("transitioncancel"),X2=$l("transitionend"),J2=new Map,Z2="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Qs(o,a){J2.set(o,a),zo(a,[o])}var vs=[],Eu=0,AA=0;function yg(){for(var o=Eu,a=AA=Eu=0;a<o;){var f=vs[a];vs[a++]=null;var m=vs[a];vs[a++]=null;var A=vs[a];vs[a++]=null;var S=vs[a];if(vs[a++]=null,m!==null&&A!==null){var I=m.pending;I===null?A.next=A:(A.next=I.next,I.next=A),m.pending=A}S!==0&&eT(f,A,S)}}function Ag(o,a,f,m){vs[Eu++]=o,vs[Eu++]=a,vs[Eu++]=f,vs[Eu++]=m,AA|=m,o.lanes|=m,o=o.alternate,o!==null&&(o.lanes|=m)}function bA(o,a,f,m){return Ag(o,a,f,m),bg(o)}function Fa(o,a){return Ag(o,null,null,a),bg(o)}function eT(o,a,f){o.lanes|=f;var m=o.alternate;m!==null&&(m.lanes|=f);for(var A=!1,S=o.return;S!==null;)S.childLanes|=f,m=S.alternate,m!==null&&(m.childLanes|=f),S.tag===22&&(o=S.stateNode,o===null||o._visibility&1||(A=!0)),o=S,S=S.return;A&&a!==null&&o.tag===3&&(S=o.stateNode,A=31-mt(f),S=S.hiddenUpdates,o=S[A],o===null?S[A]=[a]:o.push(a),a.lane=f|536870912)}function bg(o){if(50<sh)throw sh=0,Tb=null,Error(r(185));for(var a=o.return;a!==null;)o=a,a=o.return;return o.tag===3?o.stateNode:null}var Tu={},tT=new WeakMap;function ys(o,a){if(typeof o=="object"&&o!==null){var f=tT.get(o);return f!==void 0?f:(a={value:o,source:a,stack:W(a)},tT.set(o,a),a)}return{value:o,source:a,stack:W(a)}}var Cu=[],ku=0,_g=null,Sg=0,As=[],bs=0,Ul=null,$o=1,Uo="";function Hl(o,a){Cu[ku++]=Sg,Cu[ku++]=_g,_g=o,Sg=a}function nT(o,a,f){As[bs++]=$o,As[bs++]=Uo,As[bs++]=Ul,Ul=o;var m=$o;o=Uo;var A=32-mt(m)-1;m&=~(1<<A),f+=1;var S=32-mt(a)+A;if(30<S){var I=A-A%5;S=(m&(1<<I)-1).toString(32),m>>=I,A-=I,$o=1<<32-mt(a)+A|f<<A|m,Uo=S+o}else $o=1<<S|f<<A|m,Uo=o}function _A(o){o.return!==null&&(Hl(o,1),nT(o,1,0))}function SA(o){for(;o===_g;)_g=Cu[--ku],Cu[ku]=null,Sg=Cu[--ku],Cu[ku]=null;for(;o===Ul;)Ul=As[--bs],As[bs]=null,Uo=As[--bs],As[bs]=null,$o=As[--bs],As[bs]=null}var Si=null,Gr=null,nn=!1,Xs=null,vo=!1,xA=Error(r(519));function ql(o){var a=Error(r(418,""));throw Bf(ys(a,o)),xA}function rT(o){var a=o.stateNode,f=o.type,m=o.memoizedProps;switch(a[St]=o,a[tr]=m,f){case"dialog":Gt("cancel",a),Gt("close",a);break;case"iframe":case"object":case"embed":Gt("load",a);break;case"video":case"audio":for(f=0;f<ah.length;f++)Gt(ah[f],a);break;case"source":Gt("error",a);break;case"img":case"image":case"link":Gt("error",a),Gt("load",a);break;case"details":Gt("toggle",a);break;case"input":Gt("invalid",a),We(a,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0),te(a);break;case"select":Gt("invalid",a);break;case"textarea":Gt("invalid",a),Wn(a,m.value,m.defaultValue,m.children),te(a)}f=m.children,typeof f!="string"&&typeof f!="number"&&typeof f!="bigint"||a.textContent===""+f||m.suppressHydrationWarning===!0||fk(a.textContent,f)?(m.popover!=null&&(Gt("beforetoggle",a),Gt("toggle",a)),m.onScroll!=null&&Gt("scroll",a),m.onScrollEnd!=null&&Gt("scrollend",a),m.onClick!=null&&(a.onclick=em),a=!0):a=!1,a||ql(o)}function iT(o){for(Si=o.return;Si;)switch(Si.tag){case 3:case 27:vo=!0;return;case 5:case 13:vo=!1;return;default:Si=Si.return}}function Vf(o){if(o!==Si)return!1;if(!nn)return iT(o),nn=!0,!1;var a=!1,f;if((f=o.tag!==3&&o.tag!==27)&&((f=o.tag===5)&&(f=o.type,f=!(f!=="form"&&f!=="button")||Ub(o.type,o.memoizedProps)),f=!f),f&&(a=!0),a&&Gr&&ql(o),iT(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));e:{for(o=o.nextSibling,a=0;o;){if(o.nodeType===8)if(f=o.data,f==="/$"){if(a===0){Gr=Zs(o.nextSibling);break e}a--}else f!=="$"&&f!=="$!"&&f!=="$?"||a++;o=o.nextSibling}Gr=null}}else Gr=Si?Zs(o.stateNode.nextSibling):null;return!0}function Df(){Gr=Si=null,nn=!1}function Bf(o){Xs===null?Xs=[o]:Xs.push(o)}var Nf=Error(r(460)),sT=Error(r(474)),wA={then:function(){}};function oT(o){return o=o.status,o==="fulfilled"||o==="rejected"}function xg(){}function aT(o,a,f){switch(f=o[f],f===void 0?o.push(a):f!==a&&(a.then(xg,xg),a=f),a.status){case"fulfilled":return a.value;case"rejected":throw o=a.reason,o===Nf?Error(r(483)):o;default:if(typeof a.status=="string")a.then(xg,xg);else{if(o=Cn,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=a,o.status="pending",o.then(function(m){if(a.status==="pending"){var A=a;A.status="fulfilled",A.value=m}},function(m){if(a.status==="pending"){var A=a;A.status="rejected",A.reason=m}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw o=a.reason,o===Nf?Error(r(483)):o}throw Lf=a,Nf}}var Lf=null;function lT(){if(Lf===null)throw Error(r(459));var o=Lf;return Lf=null,o}var Mu=null,Ff=0;function wg(o){var a=Ff;return Ff+=1,Mu===null&&(Mu=[]),aT(Mu,o,a)}function zf(o,a){a=a.props.ref,o.ref=a!==void 0?a:null}function Eg(o,a){throw a.$$typeof===s?Error(r(525)):(o=Object.prototype.toString.call(a),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":o)))}function cT(o){var a=o._init;return a(o._payload)}function uT(o){function a(ce,ne){if(o){var de=ce.deletions;de===null?(ce.deletions=[ne],ce.flags|=16):de.push(ne)}}function f(ce,ne){if(!o)return null;for(;ne!==null;)a(ce,ne),ne=ne.sibling;return null}function m(ce){for(var ne=new Map;ce!==null;)ce.key!==null?ne.set(ce.key,ce):ne.set(ce.index,ce),ce=ce.sibling;return ne}function A(ce,ne){return ce=Ja(ce,ne),ce.index=0,ce.sibling=null,ce}function S(ce,ne,de){return ce.index=de,o?(de=ce.alternate,de!==null?(de=de.index,de<ne?(ce.flags|=33554434,ne):de):(ce.flags|=33554434,ne)):(ce.flags|=1048576,ne)}function I(ce){return o&&ce.alternate===null&&(ce.flags|=33554434),ce}function z(ce,ne,de,we){return ne===null||ne.tag!==6?(ne=yb(de,ce.mode,we),ne.return=ce,ne):(ne=A(ne,de),ne.return=ce,ne)}function X(ce,ne,de,we){var Ye=de.type;return Ye===d?be(ce,ne,de.props.children,we,de.key):ne!==null&&(ne.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===k&&cT(Ye)===ne.type)?(ne=A(ne,de.props),zf(ne,de),ne.return=ce,ne):(ne=Ug(de.type,de.key,de.props,null,ce.mode,we),zf(ne,de),ne.return=ce,ne)}function ie(ce,ne,de,we){return ne===null||ne.tag!==4||ne.stateNode.containerInfo!==de.containerInfo||ne.stateNode.implementation!==de.implementation?(ne=Ab(de,ce.mode,we),ne.return=ce,ne):(ne=A(ne,de.children||[]),ne.return=ce,ne)}function be(ce,ne,de,we,Ye){return ne===null||ne.tag!==7?(ne=tc(de,ce.mode,we,Ye),ne.return=ce,ne):(ne=A(ne,de),ne.return=ce,ne)}function Te(ce,ne,de){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return ne=yb(""+ne,ce.mode,de),ne.return=ce,ne;if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case l:return de=Ug(ne.type,ne.key,ne.props,null,ce.mode,de),zf(de,ne),de.return=ce,de;case c:return ne=Ab(ne,ce.mode,de),ne.return=ce,ne;case k:var we=ne._init;return ne=we(ne._payload),Te(ce,ne,de)}if(ue(ne)||O(ne))return ne=tc(ne,ce.mode,de,null),ne.return=ce,ne;if(typeof ne.then=="function")return Te(ce,wg(ne),de);if(ne.$$typeof===y)return Te(ce,Fg(ce,ne),de);Eg(ce,ne)}return null}function he(ce,ne,de,we){var Ye=ne!==null?ne.key:null;if(typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint")return Ye!==null?null:z(ce,ne,""+de,we);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case l:return de.key===Ye?X(ce,ne,de,we):null;case c:return de.key===Ye?ie(ce,ne,de,we):null;case k:return Ye=de._init,de=Ye(de._payload),he(ce,ne,de,we)}if(ue(de)||O(de))return Ye!==null?null:be(ce,ne,de,we,null);if(typeof de.then=="function")return he(ce,ne,wg(de),we);if(de.$$typeof===y)return he(ce,ne,Fg(ce,de),we);Eg(ce,de)}return null}function Ae(ce,ne,de,we,Ye){if(typeof we=="string"&&we!==""||typeof we=="number"||typeof we=="bigint")return ce=ce.get(de)||null,z(ne,ce,""+we,Ye);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case l:return ce=ce.get(we.key===null?de:we.key)||null,X(ne,ce,we,Ye);case c:return ce=ce.get(we.key===null?de:we.key)||null,ie(ne,ce,we,Ye);case k:var Dt=we._init;return we=Dt(we._payload),Ae(ce,ne,de,we,Ye)}if(ue(we)||O(we))return ce=ce.get(de)||null,be(ne,ce,we,Ye,null);if(typeof we.then=="function")return Ae(ce,ne,de,wg(we),Ye);if(we.$$typeof===y)return Ae(ce,ne,de,Fg(ne,we),Ye);Eg(ne,we)}return null}function Ze(ce,ne,de,we){for(var Ye=null,Dt=null,nt=ne,ct=ne=0,Lr=null;nt!==null&&ct<de.length;ct++){nt.index>ct?(Lr=nt,nt=null):Lr=nt.sibling;var rn=he(ce,nt,de[ct],we);if(rn===null){nt===null&&(nt=Lr);break}o&&nt&&rn.alternate===null&&a(ce,nt),ne=S(rn,ne,ct),Dt===null?Ye=rn:Dt.sibling=rn,Dt=rn,nt=Lr}if(ct===de.length)return f(ce,nt),nn&&Hl(ce,ct),Ye;if(nt===null){for(;ct<de.length;ct++)nt=Te(ce,de[ct],we),nt!==null&&(ne=S(nt,ne,ct),Dt===null?Ye=nt:Dt.sibling=nt,Dt=nt);return nn&&Hl(ce,ct),Ye}for(nt=m(nt);ct<de.length;ct++)Lr=Ae(nt,ce,ct,de[ct],we),Lr!==null&&(o&&Lr.alternate!==null&&nt.delete(Lr.key===null?ct:Lr.key),ne=S(Lr,ne,ct),Dt===null?Ye=Lr:Dt.sibling=Lr,Dt=Lr);return o&&nt.forEach(function(sl){return a(ce,sl)}),nn&&Hl(ce,ct),Ye}function At(ce,ne,de,we){if(de==null)throw Error(r(151));for(var Ye=null,Dt=null,nt=ne,ct=ne=0,Lr=null,rn=de.next();nt!==null&&!rn.done;ct++,rn=de.next()){nt.index>ct?(Lr=nt,nt=null):Lr=nt.sibling;var sl=he(ce,nt,rn.value,we);if(sl===null){nt===null&&(nt=Lr);break}o&&nt&&sl.alternate===null&&a(ce,nt),ne=S(sl,ne,ct),Dt===null?Ye=sl:Dt.sibling=sl,Dt=sl,nt=Lr}if(rn.done)return f(ce,nt),nn&&Hl(ce,ct),Ye;if(nt===null){for(;!rn.done;ct++,rn=de.next())rn=Te(ce,rn.value,we),rn!==null&&(ne=S(rn,ne,ct),Dt===null?Ye=rn:Dt.sibling=rn,Dt=rn);return nn&&Hl(ce,ct),Ye}for(nt=m(nt);!rn.done;ct++,rn=de.next())rn=Ae(nt,ce,ct,rn.value,we),rn!==null&&(o&&rn.alternate!==null&&nt.delete(rn.key===null?ct:rn.key),ne=S(rn,ne,ct),Dt===null?Ye=rn:Dt.sibling=rn,Dt=rn);return o&&nt.forEach(function(aF){return a(ce,aF)}),nn&&Hl(ce,ct),Ye}function ir(ce,ne,de,we){if(typeof de=="object"&&de!==null&&de.type===d&&de.key===null&&(de=de.props.children),typeof de=="object"&&de!==null){switch(de.$$typeof){case l:e:{for(var Ye=de.key;ne!==null;){if(ne.key===Ye){if(Ye=de.type,Ye===d){if(ne.tag===7){f(ce,ne.sibling),we=A(ne,de.props.children),we.return=ce,ce=we;break e}}else if(ne.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===k&&cT(Ye)===ne.type){f(ce,ne.sibling),we=A(ne,de.props),zf(we,de),we.return=ce,ce=we;break e}f(ce,ne);break}else a(ce,ne);ne=ne.sibling}de.type===d?(we=tc(de.props.children,ce.mode,we,de.key),we.return=ce,ce=we):(we=Ug(de.type,de.key,de.props,null,ce.mode,we),zf(we,de),we.return=ce,ce=we)}return I(ce);case c:e:{for(Ye=de.key;ne!==null;){if(ne.key===Ye)if(ne.tag===4&&ne.stateNode.containerInfo===de.containerInfo&&ne.stateNode.implementation===de.implementation){f(ce,ne.sibling),we=A(ne,de.children||[]),we.return=ce,ce=we;break e}else{f(ce,ne);break}else a(ce,ne);ne=ne.sibling}we=Ab(de,ce.mode,we),we.return=ce,ce=we}return I(ce);case k:return Ye=de._init,de=Ye(de._payload),ir(ce,ne,de,we)}if(ue(de))return Ze(ce,ne,de,we);if(O(de)){if(Ye=O(de),typeof Ye!="function")throw Error(r(150));return de=Ye.call(de),At(ce,ne,de,we)}if(typeof de.then=="function")return ir(ce,ne,wg(de),we);if(de.$$typeof===y)return ir(ce,ne,Fg(ce,de),we);Eg(ce,de)}return typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint"?(de=""+de,ne!==null&&ne.tag===6?(f(ce,ne.sibling),we=A(ne,de),we.return=ce,ce=we):(f(ce,ne),we=yb(de,ce.mode,we),we.return=ce,ce=we),I(ce)):f(ce,ne)}return function(ce,ne,de,we){try{Ff=0;var Ye=ir(ce,ne,de,we);return Mu=null,Ye}catch(nt){if(nt===Nf)throw nt;var Dt=ws(29,nt,null,ce.mode);return Dt.lanes=we,Dt.return=ce,Dt}finally{}}}var Gl=uT(!0),dT=uT(!1),Ru=Me(null),Tg=Me(0);function fT(o,a){o=ea,ve(Tg,o),ve(Ru,a),ea=o|a.baseLanes}function EA(){ve(Tg,ea),ve(Ru,Ru.current)}function TA(){ea=Tg.current,Re(Ru),Re(Tg)}var _s=Me(null),yo=null;function za(o){var a=o.alternate;ve(Rr,Rr.current&1),ve(_s,o),yo===null&&(a===null||Ru.current!==null||a.memoizedState!==null)&&(yo=o)}function hT(o){if(o.tag===22){if(ve(Rr,Rr.current),ve(_s,o),yo===null){var a=o.alternate;a!==null&&a.memoizedState!==null&&(yo=o)}}else $a()}function $a(){ve(Rr,Rr.current),ve(_s,_s.current)}function Ho(o){Re(_s),yo===o&&(yo=null),Re(Rr)}var Rr=Me(0);function Cg(o){for(var a=o;a!==null;){if(a.tag===13){var f=a.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||f.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if(a.flags&128)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var K6=typeof AbortController<"u"?AbortController:function(){var o=[],a=this.signal={aborted:!1,addEventListener:function(f,m){o.push(m)}};this.abort=function(){a.aborted=!0,o.forEach(function(f){return f()})}},W6=e.unstable_scheduleCallback,Q6=e.unstable_NormalPriority,Ir={$$typeof:y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function CA(){return{controller:new K6,data:new Map,refCount:0}}function $f(o){o.refCount--,o.refCount===0&&W6(Q6,function(){o.controller.abort()})}var Uf=null,kA=0,Iu=0,Ou=null;function X6(o,a){if(Uf===null){var f=Uf=[];kA=0,Iu=Pb(),Ou={status:"pending",value:void 0,then:function(m){f.push(m)}}}return kA++,a.then(pT,pT),a}function pT(){if(--kA===0&&Uf!==null){Ou!==null&&(Ou.status="fulfilled");var o=Uf;Uf=null,Iu=0,Ou=null;for(var a=0;a<o.length;a++)(0,o[a])()}}function J6(o,a){var f=[],m={status:"pending",value:null,reason:null,then:function(A){f.push(A)}};return o.then(function(){m.status="fulfilled",m.value=a;for(var A=0;A<f.length;A++)(0,f[A])(a)},function(A){for(m.status="rejected",m.reason=A,A=0;A<f.length;A++)(0,f[A])(void 0)}),m}var gT=P.S;P.S=function(o,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&X6(o,a),gT!==null&&gT(o,a)};var Yl=Me(null);function MA(){var o=Yl.current;return o!==null?o:Cn.pooledCache}function kg(o,a){a===null?ve(Yl,Yl.current):ve(Yl,a.pool)}function mT(){var o=MA();return o===null?null:{parent:Ir._currentValue,pool:o}}var Ua=0,Pt=null,vn=null,_r=null,Mg=!1,ju=!1,Kl=!1,Rg=0,Hf=0,Pu=null,Z6=0;function gr(){throw Error(r(321))}function RA(o,a){if(a===null)return!1;for(var f=0;f<a.length&&f<o.length;f++)if(!Xi(o[f],a[f]))return!1;return!0}function IA(o,a,f,m,A,S){return Ua=S,Pt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,P.H=o===null||o.memoizedState===null?Wl:Ha,Kl=!1,S=f(m,A),Kl=!1,ju&&(S=yT(a,f,m,A)),vT(o),S}function vT(o){P.H=Ao;var a=vn!==null&&vn.next!==null;if(Ua=0,_r=vn=Pt=null,Mg=!1,Hf=0,Pu=null,a)throw Error(r(300));o===null||Br||(o=o.dependencies,o!==null&&Lg(o)&&(Br=!0))}function yT(o,a,f,m){Pt=o;var A=0;do{if(ju&&(Pu=null),Hf=0,ju=!1,25<=A)throw Error(r(301));if(A+=1,_r=vn=null,o.updateQueue!=null){var S=o.updateQueue;S.lastEffect=null,S.events=null,S.stores=null,S.memoCache!=null&&(S.memoCache.index=0)}P.H=Ql,S=a(f,m)}while(ju);return S}function e8(){var o=P.H,a=o.useState()[0];return a=typeof a.then=="function"?qf(a):a,o=o.useState()[0],(vn!==null?vn.memoizedState:null)!==o&&(Pt.flags|=1024),a}function OA(){var o=Rg!==0;return Rg=0,o}function jA(o,a,f){a.updateQueue=o.updateQueue,a.flags&=-2053,o.lanes&=~f}function PA(o){if(Mg){for(o=o.memoizedState;o!==null;){var a=o.queue;a!==null&&(a.pending=null),o=o.next}Mg=!1}Ua=0,_r=vn=Pt=null,ju=!1,Hf=Rg=0,Pu=null}function Bi(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _r===null?Pt.memoizedState=_r=o:_r=_r.next=o,_r}function Sr(){if(vn===null){var o=Pt.alternate;o=o!==null?o.memoizedState:null}else o=vn.next;var a=_r===null?Pt.memoizedState:_r.next;if(a!==null)_r=a,vn=o;else{if(o===null)throw Pt.alternate===null?Error(r(467)):Error(r(310));vn=o,o={memoizedState:vn.memoizedState,baseState:vn.baseState,baseQueue:vn.baseQueue,queue:vn.queue,next:null},_r===null?Pt.memoizedState=_r=o:_r=_r.next=o}return _r}var Ig;Ig=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function qf(o){var a=Hf;return Hf+=1,Pu===null&&(Pu=[]),o=aT(Pu,o,a),a=Pt,(_r===null?a.memoizedState:_r.next)===null&&(a=a.alternate,P.H=a===null||a.memoizedState===null?Wl:Ha),o}function Og(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return qf(o);if(o.$$typeof===y)return ci(o)}throw Error(r(438,String(o)))}function VA(o){var a=null,f=Pt.updateQueue;if(f!==null&&(a=f.memoCache),a==null){var m=Pt.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(a={data:m.data.map(function(A){return A.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),f===null&&(f=Ig(),Pt.updateQueue=f),f.memoCache=a,f=a.data[a.index],f===void 0)for(f=a.data[a.index]=Array(o),m=0;m<o;m++)f[m]=M;return a.index++,f}function qo(o,a){return typeof a=="function"?a(o):a}function jg(o){var a=Sr();return DA(a,vn,o)}function DA(o,a,f){var m=o.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=f;var A=o.baseQueue,S=m.pending;if(S!==null){if(A!==null){var I=A.next;A.next=S.next,S.next=I}a.baseQueue=A=S,m.pending=null}if(S=o.baseState,A===null)o.memoizedState=S;else{a=A.next;var z=I=null,X=null,ie=a,be=!1;do{var Te=ie.lane&-536870913;if(Te!==ie.lane?(Xt&Te)===Te:(Ua&Te)===Te){var he=ie.revertLane;if(he===0)X!==null&&(X=X.next={lane:0,revertLane:0,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null}),Te===Iu&&(be=!0);else if((Ua&he)===he){ie=ie.next,he===Iu&&(be=!0);continue}else Te={lane:0,revertLane:ie.revertLane,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null},X===null?(z=X=Te,I=S):X=X.next=Te,Pt.lanes|=he,Za|=he;Te=ie.action,Kl&&f(S,Te),S=ie.hasEagerState?ie.eagerState:f(S,Te)}else he={lane:Te,revertLane:ie.revertLane,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null},X===null?(z=X=he,I=S):X=X.next=he,Pt.lanes|=Te,Za|=Te;ie=ie.next}while(ie!==null&&ie!==a);if(X===null?I=S:X.next=z,!Xi(S,o.memoizedState)&&(Br=!0,be&&(f=Ou,f!==null)))throw f;o.memoizedState=S,o.baseState=I,o.baseQueue=X,m.lastRenderedState=S}return A===null&&(m.lanes=0),[o.memoizedState,m.dispatch]}function BA(o){var a=Sr(),f=a.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=o;var m=f.dispatch,A=f.pending,S=a.memoizedState;if(A!==null){f.pending=null;var I=A=A.next;do S=o(S,I.action),I=I.next;while(I!==A);Xi(S,a.memoizedState)||(Br=!0),a.memoizedState=S,a.baseQueue===null&&(a.baseState=S),f.lastRenderedState=S}return[S,m]}function AT(o,a,f){var m=Pt,A=Sr(),S=nn;if(S){if(f===void 0)throw Error(r(407));f=f()}else f=a();var I=!Xi((vn||A).memoizedState,f);if(I&&(A.memoizedState=f,Br=!0),A=A.queue,FA(ST.bind(null,m,A,o),[o]),A.getSnapshot!==a||I||_r!==null&&_r.memoizedState.tag&1){if(m.flags|=2048,Vu(9,_T.bind(null,m,A,f,a),{destroy:void 0},null),Cn===null)throw Error(r(349));S||Ua&60||bT(m,a,f)}return f}function bT(o,a,f){o.flags|=16384,o={getSnapshot:a,value:f},a=Pt.updateQueue,a===null?(a=Ig(),Pt.updateQueue=a,a.stores=[o]):(f=a.stores,f===null?a.stores=[o]:f.push(o))}function _T(o,a,f,m){a.value=f,a.getSnapshot=m,xT(a)&&wT(o)}function ST(o,a,f){return f(function(){xT(a)&&wT(o)})}function xT(o){var a=o.getSnapshot;o=o.value;try{var f=a();return!Xi(o,f)}catch{return!0}}function wT(o){var a=Fa(o,2);a!==null&&xi(a,o,2)}function NA(o){var a=Bi();if(typeof o=="function"){var f=o;if(o=f(),Kl){Jt(!0);try{f()}finally{Jt(!1)}}}return a.memoizedState=a.baseState=o,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qo,lastRenderedState:o},a}function ET(o,a,f,m){return o.baseState=f,DA(o,vn,typeof m=="function"?m:qo)}function t8(o,a,f,m,A){if(Dg(o))throw Error(r(485));if(o=a.action,o!==null){var S={payload:A,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(I){S.listeners.push(I)}};P.T!==null?f(!0):S.isTransition=!1,m(S),f=a.pending,f===null?(S.next=a.pending=S,TT(a,S)):(S.next=f.next,a.pending=f.next=S)}}function TT(o,a){var f=a.action,m=a.payload,A=o.state;if(a.isTransition){var S=P.T,I={};P.T=I;try{var z=f(A,m),X=P.S;X!==null&&X(I,z),CT(o,a,z)}catch(ie){LA(o,a,ie)}finally{P.T=S}}else try{S=f(A,m),CT(o,a,S)}catch(ie){LA(o,a,ie)}}function CT(o,a,f){f!==null&&typeof f=="object"&&typeof f.then=="function"?f.then(function(m){kT(o,a,m)},function(m){return LA(o,a,m)}):kT(o,a,f)}function kT(o,a,f){a.status="fulfilled",a.value=f,MT(a),o.state=f,a=o.pending,a!==null&&(f=a.next,f===a?o.pending=null:(f=f.next,a.next=f,TT(o,f)))}function LA(o,a,f){var m=o.pending;if(o.pending=null,m!==null){m=m.next;do a.status="rejected",a.reason=f,MT(a),a=a.next;while(a!==m)}o.action=null}function MT(o){o=o.listeners;for(var a=0;a<o.length;a++)(0,o[a])()}function RT(o,a){return a}function IT(o,a){if(nn){var f=Cn.formState;if(f!==null){e:{var m=Pt;if(nn){if(Gr){t:{for(var A=Gr,S=vo;A.nodeType!==8;){if(!S){A=null;break t}if(A=Zs(A.nextSibling),A===null){A=null;break t}}S=A.data,A=S==="F!"||S==="F"?A:null}if(A){Gr=Zs(A.nextSibling),m=A.data==="F!";break e}}ql(m)}m=!1}m&&(a=f[0])}}return f=Bi(),f.memoizedState=f.baseState=a,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:RT,lastRenderedState:a},f.queue=m,f=WT.bind(null,Pt,m),m.dispatch=f,m=NA(!1),S=qA.bind(null,Pt,!1,m.queue),m=Bi(),A={state:a,dispatch:null,action:o,pending:null},m.queue=A,f=t8.bind(null,Pt,A,S,f),A.dispatch=f,m.memoizedState=o,[a,f,!1]}function OT(o){var a=Sr();return jT(a,vn,o)}function jT(o,a,f){a=DA(o,a,RT)[0],o=jg(qo)[0],a=typeof a=="object"&&a!==null&&typeof a.then=="function"?qf(a):a;var m=Sr(),A=m.queue,S=A.dispatch;return f!==m.memoizedState&&(Pt.flags|=2048,Vu(9,n8.bind(null,A,f),{destroy:void 0},null)),[a,S,o]}function n8(o,a){o.action=a}function PT(o){var a=Sr(),f=vn;if(f!==null)return jT(a,f,o);Sr(),a=a.memoizedState,f=Sr();var m=f.queue.dispatch;return f.memoizedState=o,[a,m,!1]}function Vu(o,a,f,m){return o={tag:o,create:a,inst:f,deps:m,next:null},a=Pt.updateQueue,a===null&&(a=Ig(),Pt.updateQueue=a),f=a.lastEffect,f===null?a.lastEffect=o.next=o:(m=f.next,f.next=o,o.next=m,a.lastEffect=o),o}function VT(){return Sr().memoizedState}function Pg(o,a,f,m){var A=Bi();Pt.flags|=o,A.memoizedState=Vu(1|a,f,{destroy:void 0},m===void 0?null:m)}function Vg(o,a,f,m){var A=Sr();m=m===void 0?null:m;var S=A.memoizedState.inst;vn!==null&&m!==null&&RA(m,vn.memoizedState.deps)?A.memoizedState=Vu(a,f,S,m):(Pt.flags|=o,A.memoizedState=Vu(1|a,f,S,m))}function DT(o,a){Pg(8390656,8,o,a)}function FA(o,a){Vg(2048,8,o,a)}function BT(o,a){return Vg(4,2,o,a)}function NT(o,a){return Vg(4,4,o,a)}function LT(o,a){if(typeof a=="function"){o=o();var f=a(o);return function(){typeof f=="function"?f():a(null)}}if(a!=null)return o=o(),a.current=o,function(){a.current=null}}function FT(o,a,f){f=f!=null?f.concat([o]):null,Vg(4,4,LT.bind(null,a,o),f)}function zA(){}function zT(o,a){var f=Sr();a=a===void 0?null:a;var m=f.memoizedState;return a!==null&&RA(a,m[1])?m[0]:(f.memoizedState=[o,a],o)}function $T(o,a){var f=Sr();a=a===void 0?null:a;var m=f.memoizedState;if(a!==null&&RA(a,m[1]))return m[0];if(m=o(),Kl){Jt(!0);try{o()}finally{Jt(!1)}}return f.memoizedState=[m,a],m}function $A(o,a,f){return f===void 0||Ua&1073741824?o.memoizedState=a:(o.memoizedState=f,o=HC(),Pt.lanes|=o,Za|=o,f)}function UT(o,a,f,m){return Xi(f,a)?f:Ru.current!==null?(o=$A(o,f,m),Xi(o,a)||(Br=!0),o):Ua&42?(o=HC(),Pt.lanes|=o,Za|=o,a):(Br=!0,o.memoizedState=f)}function HT(o,a,f,m,A){var S=F.p;F.p=S!==0&&8>S?S:8;var I=P.T,z={};P.T=z,qA(o,!1,a,f);try{var X=A(),ie=P.S;if(ie!==null&&ie(z,X),X!==null&&typeof X=="object"&&typeof X.then=="function"){var be=J6(X,m);Gf(o,a,be,ts(o))}else Gf(o,a,m,ts(o))}catch(Te){Gf(o,a,{then:function(){},status:"rejected",reason:Te},ts())}finally{F.p=S,P.T=I}}function r8(){}function UA(o,a,f,m){if(o.tag!==5)throw Error(r(476));var A=qT(o).queue;HT(o,A,a,ge,f===null?r8:function(){return GT(o),f(m)})}function qT(o){var a=o.memoizedState;if(a!==null)return a;a={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qo,lastRenderedState:ge},next:null};var f={};return a.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qo,lastRenderedState:f},next:null},o.memoizedState=a,o=o.alternate,o!==null&&(o.memoizedState=a),a}function GT(o){var a=qT(o).next.queue;Gf(o,a,{},ts())}function HA(){return ci(fh)}function YT(){return Sr().memoizedState}function KT(){return Sr().memoizedState}function i8(o){for(var a=o.return;a!==null;){switch(a.tag){case 24:case 3:var f=ts();o=Ya(f);var m=Ka(a,o,f);m!==null&&(xi(m,a,f),Wf(m,a,f)),a={cache:CA()},o.payload=a;return}a=a.return}}function s8(o,a,f){var m=ts();f={lane:m,revertLane:0,action:f,hasEagerState:!1,eagerState:null,next:null},Dg(o)?QT(a,f):(f=bA(o,a,f,m),f!==null&&(xi(f,o,m),XT(f,a,m)))}function WT(o,a,f){var m=ts();Gf(o,a,f,m)}function Gf(o,a,f,m){var A={lane:m,revertLane:0,action:f,hasEagerState:!1,eagerState:null,next:null};if(Dg(o))QT(a,A);else{var S=o.alternate;if(o.lanes===0&&(S===null||S.lanes===0)&&(S=a.lastRenderedReducer,S!==null))try{var I=a.lastRenderedState,z=S(I,f);if(A.hasEagerState=!0,A.eagerState=z,Xi(z,I))return Ag(o,a,A,0),Cn===null&&yg(),!1}catch{}finally{}if(f=bA(o,a,A,m),f!==null)return xi(f,o,m),XT(f,a,m),!0}return!1}function qA(o,a,f,m){if(m={lane:2,revertLane:Pb(),action:m,hasEagerState:!1,eagerState:null,next:null},Dg(o)){if(a)throw Error(r(479))}else a=bA(o,f,m,2),a!==null&&xi(a,o,2)}function Dg(o){var a=o.alternate;return o===Pt||a!==null&&a===Pt}function QT(o,a){ju=Mg=!0;var f=o.pending;f===null?a.next=a:(a.next=f.next,f.next=a),o.pending=a}function XT(o,a,f){if(f&4194176){var m=a.lanes;m&=o.pendingLanes,f|=m,a.lanes=f,pr(o,f)}}var Ao={readContext:ci,use:Og,useCallback:gr,useContext:gr,useEffect:gr,useImperativeHandle:gr,useLayoutEffect:gr,useInsertionEffect:gr,useMemo:gr,useReducer:gr,useRef:gr,useState:gr,useDebugValue:gr,useDeferredValue:gr,useTransition:gr,useSyncExternalStore:gr,useId:gr};Ao.useCacheRefresh=gr,Ao.useMemoCache=gr,Ao.useHostTransitionStatus=gr,Ao.useFormState=gr,Ao.useActionState=gr,Ao.useOptimistic=gr;var Wl={readContext:ci,use:Og,useCallback:function(o,a){return Bi().memoizedState=[o,a===void 0?null:a],o},useContext:ci,useEffect:DT,useImperativeHandle:function(o,a,f){f=f!=null?f.concat([o]):null,Pg(4194308,4,LT.bind(null,a,o),f)},useLayoutEffect:function(o,a){return Pg(4194308,4,o,a)},useInsertionEffect:function(o,a){Pg(4,2,o,a)},useMemo:function(o,a){var f=Bi();a=a===void 0?null:a;var m=o();if(Kl){Jt(!0);try{o()}finally{Jt(!1)}}return f.memoizedState=[m,a],m},useReducer:function(o,a,f){var m=Bi();if(f!==void 0){var A=f(a);if(Kl){Jt(!0);try{f(a)}finally{Jt(!1)}}}else A=a;return m.memoizedState=m.baseState=A,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:A},m.queue=o,o=o.dispatch=s8.bind(null,Pt,o),[m.memoizedState,o]},useRef:function(o){var a=Bi();return o={current:o},a.memoizedState=o},useState:function(o){o=NA(o);var a=o.queue,f=WT.bind(null,Pt,a);return a.dispatch=f,[o.memoizedState,f]},useDebugValue:zA,useDeferredValue:function(o,a){var f=Bi();return $A(f,o,a)},useTransition:function(){var o=NA(!1);return o=HT.bind(null,Pt,o.queue,!0,!1),Bi().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,a,f){var m=Pt,A=Bi();if(nn){if(f===void 0)throw Error(r(407));f=f()}else{if(f=a(),Cn===null)throw Error(r(349));Xt&60||bT(m,a,f)}A.memoizedState=f;var S={value:f,getSnapshot:a};return A.queue=S,DT(ST.bind(null,m,S,o),[o]),m.flags|=2048,Vu(9,_T.bind(null,m,S,f,a),{destroy:void 0},null),f},useId:function(){var o=Bi(),a=Cn.identifierPrefix;if(nn){var f=Uo,m=$o;f=(m&~(1<<32-mt(m)-1)).toString(32)+f,a=":"+a+"R"+f,f=Rg++,0<f&&(a+="H"+f.toString(32)),a+=":"}else f=Z6++,a=":"+a+"r"+f.toString(32)+":";return o.memoizedState=a},useCacheRefresh:function(){return Bi().memoizedState=i8.bind(null,Pt)}};Wl.useMemoCache=VA,Wl.useHostTransitionStatus=HA,Wl.useFormState=IT,Wl.useActionState=IT,Wl.useOptimistic=function(o){var a=Bi();a.memoizedState=a.baseState=o;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=f,a=qA.bind(null,Pt,!0,f),f.dispatch=a,[o,a]};var Ha={readContext:ci,use:Og,useCallback:zT,useContext:ci,useEffect:FA,useImperativeHandle:FT,useInsertionEffect:BT,useLayoutEffect:NT,useMemo:$T,useReducer:jg,useRef:VT,useState:function(){return jg(qo)},useDebugValue:zA,useDeferredValue:function(o,a){var f=Sr();return UT(f,vn.memoizedState,o,a)},useTransition:function(){var o=jg(qo)[0],a=Sr().memoizedState;return[typeof o=="boolean"?o:qf(o),a]},useSyncExternalStore:AT,useId:YT};Ha.useCacheRefresh=KT,Ha.useMemoCache=VA,Ha.useHostTransitionStatus=HA,Ha.useFormState=OT,Ha.useActionState=OT,Ha.useOptimistic=function(o,a){var f=Sr();return ET(f,vn,o,a)};var Ql={readContext:ci,use:Og,useCallback:zT,useContext:ci,useEffect:FA,useImperativeHandle:FT,useInsertionEffect:BT,useLayoutEffect:NT,useMemo:$T,useReducer:BA,useRef:VT,useState:function(){return BA(qo)},useDebugValue:zA,useDeferredValue:function(o,a){var f=Sr();return vn===null?$A(f,o,a):UT(f,vn.memoizedState,o,a)},useTransition:function(){var o=BA(qo)[0],a=Sr().memoizedState;return[typeof o=="boolean"?o:qf(o),a]},useSyncExternalStore:AT,useId:YT};Ql.useCacheRefresh=KT,Ql.useMemoCache=VA,Ql.useHostTransitionStatus=HA,Ql.useFormState=PT,Ql.useActionState=PT,Ql.useOptimistic=function(o,a){var f=Sr();return vn!==null?ET(f,vn,o,a):(f.baseState=o,[o,f.queue.dispatch])};function GA(o,a,f,m){a=o.memoizedState,f=f(m,a),f=f==null?a:C({},a,f),o.memoizedState=f,o.lanes===0&&(o.updateQueue.baseState=f)}var YA={isMounted:function(o){return(o=o._reactInternals)?Q(o)===o:!1},enqueueSetState:function(o,a,f){o=o._reactInternals;var m=ts(),A=Ya(m);A.payload=a,f!=null&&(A.callback=f),a=Ka(o,A,m),a!==null&&(xi(a,o,m),Wf(a,o,m))},enqueueReplaceState:function(o,a,f){o=o._reactInternals;var m=ts(),A=Ya(m);A.tag=1,A.payload=a,f!=null&&(A.callback=f),a=Ka(o,A,m),a!==null&&(xi(a,o,m),Wf(a,o,m))},enqueueForceUpdate:function(o,a){o=o._reactInternals;var f=ts(),m=Ya(f);m.tag=2,a!=null&&(m.callback=a),a=Ka(o,m,f),a!==null&&(xi(a,o,f),Wf(a,o,f))}};function JT(o,a,f,m,A,S,I){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(m,S,I):a.prototype&&a.prototype.isPureReactComponent?!jf(f,m)||!jf(A,S):!0}function ZT(o,a,f,m){o=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(f,m),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(f,m),a.state!==o&&YA.enqueueReplaceState(a,a.state,null)}function Xl(o,a){var f=a;if("ref"in a){f={};for(var m in a)m!=="ref"&&(f[m]=a[m])}if(o=o.defaultProps){f===a&&(f=C({},f));for(var A in o)f[A]===void 0&&(f[A]=o[A])}return f}var Bg=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)};function eC(o){Bg(o)}function tC(o){console.error(o)}function nC(o){Bg(o)}function Ng(o,a){try{var f=o.onUncaughtError;f(a.value,{componentStack:a.stack})}catch(m){setTimeout(function(){throw m})}}function rC(o,a,f){try{var m=o.onCaughtError;m(f.value,{componentStack:f.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(A){setTimeout(function(){throw A})}}function KA(o,a,f){return f=Ya(f),f.tag=3,f.payload={element:null},f.callback=function(){Ng(o,a)},f}function iC(o){return o=Ya(o),o.tag=3,o}function sC(o,a,f,m){var A=f.type.getDerivedStateFromError;if(typeof A=="function"){var S=m.value;o.payload=function(){return A(S)},o.callback=function(){rC(a,f,m)}}var I=f.stateNode;I!==null&&typeof I.componentDidCatch=="function"&&(o.callback=function(){rC(a,f,m),typeof A!="function"&&(el===null?el=new Set([this]):el.add(this));var z=m.stack;this.componentDidCatch(m.value,{componentStack:z!==null?z:""})})}function o8(o,a,f,m,A){if(f.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(a=f.alternate,a!==null&&Kf(a,f,A,!0),f=_s.current,f!==null){switch(f.tag){case 13:return yo===null?Mb():f.alternate===null&&rr===0&&(rr=3),f.flags&=-257,f.flags|=65536,f.lanes=A,m===wA?f.flags|=16384:(a=f.updateQueue,a===null?f.updateQueue=new Set([m]):a.add(m),Ib(o,m,A)),!1;case 22:return f.flags|=65536,m===wA?f.flags|=16384:(a=f.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([m])},f.updateQueue=a):(f=a.retryQueue,f===null?a.retryQueue=new Set([m]):f.add(m)),Ib(o,m,A)),!1}throw Error(r(435,f.tag))}return Ib(o,m,A),Mb(),!1}if(nn)return a=_s.current,a!==null?(!(a.flags&65536)&&(a.flags|=256),a.flags|=65536,a.lanes=A,m!==xA&&(o=Error(r(422),{cause:m}),Bf(ys(o,f)))):(m!==xA&&(a=Error(r(423),{cause:m}),Bf(ys(a,f))),o=o.current.alternate,o.flags|=65536,A&=-A,o.lanes|=A,m=ys(m,f),A=KA(o.stateNode,m,A),cb(o,A),rr!==4&&(rr=2)),!1;var S=Error(r(520),{cause:m});if(S=ys(S,f),rh===null?rh=[S]:rh.push(S),rr!==4&&(rr=2),a===null)return!0;m=ys(m,f),f=a;do{switch(f.tag){case 3:return f.flags|=65536,o=A&-A,f.lanes|=o,o=KA(f.stateNode,m,o),cb(f,o),!1;case 1:if(a=f.type,S=f.stateNode,(f.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(el===null||!el.has(S))))return f.flags|=65536,A&=-A,f.lanes|=A,A=iC(A),sC(A,o,f,m),cb(f,A),!1}f=f.return}while(f!==null);return!1}var oC=Error(r(461)),Br=!1;function Yr(o,a,f,m){a.child=o===null?dT(a,null,f,m):Gl(a,o.child,f,m)}function aC(o,a,f,m,A){f=f.render;var S=a.ref;if("ref"in m){var I={};for(var z in m)z!=="ref"&&(I[z]=m[z])}else I=m;return Zl(a),m=IA(o,a,f,I,S,A),z=OA(),o!==null&&!Br?(jA(o,a,A),Go(o,a,A)):(nn&&z&&_A(a),a.flags|=1,Yr(o,a,m,A),a.child)}function lC(o,a,f,m,A){if(o===null){var S=f.type;return typeof S=="function"&&!vb(S)&&S.defaultProps===void 0&&f.compare===null?(a.tag=15,a.type=S,cC(o,a,S,m,A)):(o=Ug(f.type,null,m,a,a.mode,A),o.ref=a.ref,o.return=a,a.child=o)}if(S=o.child,!rb(o,A)){var I=S.memoizedProps;if(f=f.compare,f=f!==null?f:jf,f(I,m)&&o.ref===a.ref)return Go(o,a,A)}return a.flags|=1,o=Ja(S,m),o.ref=a.ref,o.return=a,a.child=o}function cC(o,a,f,m,A){if(o!==null){var S=o.memoizedProps;if(jf(S,m)&&o.ref===a.ref)if(Br=!1,a.pendingProps=m=S,rb(o,A))o.flags&131072&&(Br=!0);else return a.lanes=o.lanes,Go(o,a,A)}return WA(o,a,f,m,A)}function uC(o,a,f){var m=a.pendingProps,A=m.children,S=(a.stateNode._pendingVisibility&2)!==0,I=o!==null?o.memoizedState:null;if(Yf(o,a),m.mode==="hidden"||S){if(a.flags&128){if(m=I!==null?I.baseLanes|f:f,o!==null){for(A=a.child=o.child,S=0;A!==null;)S=S|A.lanes|A.childLanes,A=A.sibling;a.childLanes=S&~m}else a.childLanes=0,a.child=null;return dC(o,a,m,f)}if(f&536870912)a.memoizedState={baseLanes:0,cachePool:null},o!==null&&kg(a,I!==null?I.cachePool:null),I!==null?fT(a,I):EA(),hT(a);else return a.lanes=a.childLanes=536870912,dC(o,a,I!==null?I.baseLanes|f:f,f)}else I!==null?(kg(a,I.cachePool),fT(a,I),$a(),a.memoizedState=null):(o!==null&&kg(a,null),EA(),$a());return Yr(o,a,A,f),a.child}function dC(o,a,f,m){var A=MA();return A=A===null?null:{parent:Ir._currentValue,pool:A},a.memoizedState={baseLanes:f,cachePool:A},o!==null&&kg(a,null),EA(),hT(a),o!==null&&Kf(o,a,m,!0),null}function Yf(o,a){var f=a.ref;if(f===null)o!==null&&o.ref!==null&&(a.flags|=2097664);else{if(typeof f!="function"&&typeof f!="object")throw Error(r(284));(o===null||o.ref!==f)&&(a.flags|=2097664)}}function WA(o,a,f,m,A){return Zl(a),f=IA(o,a,f,m,void 0,A),m=OA(),o!==null&&!Br?(jA(o,a,A),Go(o,a,A)):(nn&&m&&_A(a),a.flags|=1,Yr(o,a,f,A),a.child)}function fC(o,a,f,m,A,S){return Zl(a),a.updateQueue=null,f=yT(a,m,f,A),vT(o),m=OA(),o!==null&&!Br?(jA(o,a,S),Go(o,a,S)):(nn&&m&&_A(a),a.flags|=1,Yr(o,a,f,S),a.child)}function hC(o,a,f,m,A){if(Zl(a),a.stateNode===null){var S=Tu,I=f.contextType;typeof I=="object"&&I!==null&&(S=ci(I)),S=new f(m,S),a.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=YA,a.stateNode=S,S._reactInternals=a,S=a.stateNode,S.props=m,S.state=a.memoizedState,S.refs={},ab(a),I=f.contextType,S.context=typeof I=="object"&&I!==null?ci(I):Tu,S.state=a.memoizedState,I=f.getDerivedStateFromProps,typeof I=="function"&&(GA(a,f,I,m),S.state=a.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(I=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),I!==S.state&&YA.enqueueReplaceState(S,S.state,null),Xf(a,m,S,A),Qf(),S.state=a.memoizedState),typeof S.componentDidMount=="function"&&(a.flags|=4194308),m=!0}else if(o===null){S=a.stateNode;var z=a.memoizedProps,X=Xl(f,z);S.props=X;var ie=S.context,be=f.contextType;I=Tu,typeof be=="object"&&be!==null&&(I=ci(be));var Te=f.getDerivedStateFromProps;be=typeof Te=="function"||typeof S.getSnapshotBeforeUpdate=="function",z=a.pendingProps!==z,be||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(z||ie!==I)&&ZT(a,S,m,I),Ga=!1;var he=a.memoizedState;S.state=he,Xf(a,m,S,A),Qf(),ie=a.memoizedState,z||he!==ie||Ga?(typeof Te=="function"&&(GA(a,f,Te,m),ie=a.memoizedState),(X=Ga||JT(a,f,X,m,he,ie,I))?(be||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(a.flags|=4194308)):(typeof S.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=m,a.memoizedState=ie),S.props=m,S.state=ie,S.context=I,m=X):(typeof S.componentDidMount=="function"&&(a.flags|=4194308),m=!1)}else{S=a.stateNode,lb(o,a),I=a.memoizedProps,be=Xl(f,I),S.props=be,Te=a.pendingProps,he=S.context,ie=f.contextType,X=Tu,typeof ie=="object"&&ie!==null&&(X=ci(ie)),z=f.getDerivedStateFromProps,(ie=typeof z=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(I!==Te||he!==X)&&ZT(a,S,m,X),Ga=!1,he=a.memoizedState,S.state=he,Xf(a,m,S,A),Qf();var Ae=a.memoizedState;I!==Te||he!==Ae||Ga||o!==null&&o.dependencies!==null&&Lg(o.dependencies)?(typeof z=="function"&&(GA(a,f,z,m),Ae=a.memoizedState),(be=Ga||JT(a,f,be,m,he,Ae,X)||o!==null&&o.dependencies!==null&&Lg(o.dependencies))?(ie||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(m,Ae,X),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(m,Ae,X)),typeof S.componentDidUpdate=="function"&&(a.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof S.componentDidUpdate!="function"||I===o.memoizedProps&&he===o.memoizedState||(a.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||I===o.memoizedProps&&he===o.memoizedState||(a.flags|=1024),a.memoizedProps=m,a.memoizedState=Ae),S.props=m,S.state=Ae,S.context=X,m=be):(typeof S.componentDidUpdate!="function"||I===o.memoizedProps&&he===o.memoizedState||(a.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||I===o.memoizedProps&&he===o.memoizedState||(a.flags|=1024),m=!1)}return S=m,Yf(o,a),m=(a.flags&128)!==0,S||m?(S=a.stateNode,f=m&&typeof f.getDerivedStateFromError!="function"?null:S.render(),a.flags|=1,o!==null&&m?(a.child=Gl(a,o.child,null,A),a.child=Gl(a,null,f,A)):Yr(o,a,f,A),a.memoizedState=S.state,o=a.child):o=Go(o,a,A),o}function pC(o,a,f,m){return Df(),a.flags|=256,Yr(o,a,f,m),a.child}var QA={dehydrated:null,treeContext:null,retryLane:0};function XA(o){return{baseLanes:o,cachePool:mT()}}function JA(o,a,f){return o=o!==null?o.childLanes&~f:0,a&&(o|=Es),o}function gC(o,a,f){var m=a.pendingProps,A=!1,S=(a.flags&128)!==0,I;if((I=S)||(I=o!==null&&o.memoizedState===null?!1:(Rr.current&2)!==0),I&&(A=!0,a.flags&=-129),I=(a.flags&32)!==0,a.flags&=-33,o===null){if(nn){if(A?za(a):$a(),nn){var z=Gr,X;if(X=z){e:{for(X=z,z=vo;X.nodeType!==8;){if(!z){z=null;break e}if(X=Zs(X.nextSibling),X===null){z=null;break e}}z=X}z!==null?(a.memoizedState={dehydrated:z,treeContext:Ul!==null?{id:$o,overflow:Uo}:null,retryLane:536870912},X=ws(18,null,null,0),X.stateNode=z,X.return=a,a.child=X,Si=a,Gr=null,X=!0):X=!1}X||ql(a)}if(z=a.memoizedState,z!==null&&(z=z.dehydrated,z!==null))return z.data==="$!"?a.lanes=16:a.lanes=536870912,null;Ho(a)}return z=m.children,m=m.fallback,A?($a(),A=a.mode,z=eb({mode:"hidden",children:z},A),m=tc(m,A,f,null),z.return=a,m.return=a,z.sibling=m,a.child=z,A=a.child,A.memoizedState=XA(f),A.childLanes=JA(o,I,f),a.memoizedState=QA,m):(za(a),ZA(a,z))}if(X=o.memoizedState,X!==null&&(z=X.dehydrated,z!==null)){if(S)a.flags&256?(za(a),a.flags&=-257,a=tb(o,a,f)):a.memoizedState!==null?($a(),a.child=o.child,a.flags|=128,a=null):($a(),A=m.fallback,z=a.mode,m=eb({mode:"visible",children:m.children},z),A=tc(A,z,f,null),A.flags|=2,m.return=a,A.return=a,m.sibling=A,a.child=m,Gl(a,o.child,null,f),m=a.child,m.memoizedState=XA(f),m.childLanes=JA(o,I,f),a.memoizedState=QA,a=A);else if(za(a),z.data==="$!"){if(I=z.nextSibling&&z.nextSibling.dataset,I)var ie=I.dgst;I=ie,m=Error(r(419)),m.stack="",m.digest=I,Bf({value:m,source:null,stack:null}),a=tb(o,a,f)}else if(Br||Kf(o,a,f,!1),I=(f&o.childLanes)!==0,Br||I){if(I=Cn,I!==null){if(m=f&-f,m&42)m=1;else switch(m){case 2:m=1;break;case 8:m=4;break;case 32:m=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:m=64;break;case 268435456:m=134217728;break;default:m=0}if(m=m&(I.suspendedLanes|f)?0:m,m!==0&&m!==X.retryLane)throw X.retryLane=m,Fa(o,m),xi(I,o,m),oC}z.data==="$?"||Mb(),a=tb(o,a,f)}else z.data==="$?"?(a.flags|=128,a.child=o.child,a=_8.bind(null,o),z._reactRetry=a,a=null):(o=X.treeContext,Gr=Zs(z.nextSibling),Si=a,nn=!0,Xs=null,vo=!1,o!==null&&(As[bs++]=$o,As[bs++]=Uo,As[bs++]=Ul,$o=o.id,Uo=o.overflow,Ul=a),a=ZA(a,m.children),a.flags|=4096);return a}return A?($a(),A=m.fallback,z=a.mode,X=o.child,ie=X.sibling,m=Ja(X,{mode:"hidden",children:m.children}),m.subtreeFlags=X.subtreeFlags&31457280,ie!==null?A=Ja(ie,A):(A=tc(A,z,f,null),A.flags|=2),A.return=a,m.return=a,m.sibling=A,a.child=m,m=A,A=a.child,z=o.child.memoizedState,z===null?z=XA(f):(X=z.cachePool,X!==null?(ie=Ir._currentValue,X=X.parent!==ie?{parent:ie,pool:ie}:X):X=mT(),z={baseLanes:z.baseLanes|f,cachePool:X}),A.memoizedState=z,A.childLanes=JA(o,I,f),a.memoizedState=QA,m):(za(a),f=o.child,o=f.sibling,f=Ja(f,{mode:"visible",children:m.children}),f.return=a,f.sibling=null,o!==null&&(I=a.deletions,I===null?(a.deletions=[o],a.flags|=16):I.push(o)),a.child=f,a.memoizedState=null,f)}function ZA(o,a){return a=eb({mode:"visible",children:a},o.mode),a.return=o,o.child=a}function eb(o,a){return zC(o,a,0,null)}function tb(o,a,f){return Gl(a,o.child,null,f),o=ZA(a,a.pendingProps.children),o.flags|=2,a.memoizedState=null,o}function mC(o,a,f){o.lanes|=a;var m=o.alternate;m!==null&&(m.lanes|=a),sb(o.return,a,f)}function nb(o,a,f,m,A){var S=o.memoizedState;S===null?o.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:m,tail:f,tailMode:A}:(S.isBackwards=a,S.rendering=null,S.renderingStartTime=0,S.last=m,S.tail=f,S.tailMode=A)}function vC(o,a,f){var m=a.pendingProps,A=m.revealOrder,S=m.tail;if(Yr(o,a,m.children,f),m=Rr.current,m&2)m=m&1|2,a.flags|=128;else{if(o!==null&&o.flags&128)e:for(o=a.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&mC(o,f,a);else if(o.tag===19)mC(o,f,a);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}m&=1}switch(ve(Rr,m),A){case"forwards":for(f=a.child,A=null;f!==null;)o=f.alternate,o!==null&&Cg(o)===null&&(A=f),f=f.sibling;f=A,f===null?(A=a.child,a.child=null):(A=f.sibling,f.sibling=null),nb(a,!1,A,f,S);break;case"backwards":for(f=null,A=a.child,a.child=null;A!==null;){if(o=A.alternate,o!==null&&Cg(o)===null){a.child=A;break}o=A.sibling,A.sibling=f,f=A,A=o}nb(a,!0,f,null,S);break;case"together":nb(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Go(o,a,f){if(o!==null&&(a.dependencies=o.dependencies),Za|=a.lanes,!(f&a.childLanes))if(o!==null){if(Kf(o,a,f,!1),(f&a.childLanes)===0)return null}else return null;if(o!==null&&a.child!==o.child)throw Error(r(153));if(a.child!==null){for(o=a.child,f=Ja(o,o.pendingProps),a.child=f,f.return=a;o.sibling!==null;)o=o.sibling,f=f.sibling=Ja(o,o.pendingProps),f.return=a;f.sibling=null}return a.child}function rb(o,a){return o.lanes&a?!0:(o=o.dependencies,!!(o!==null&&Lg(o)))}function a8(o,a,f){switch(a.tag){case 3:Ve(a,a.stateNode.containerInfo),qa(a,Ir,o.memoizedState.cache),Df();break;case 27:case 5:ft(a);break;case 4:Ve(a,a.stateNode.containerInfo);break;case 10:qa(a,a.type,a.memoizedProps.value);break;case 13:var m=a.memoizedState;if(m!==null)return m.dehydrated!==null?(za(a),a.flags|=128,null):f&a.child.childLanes?gC(o,a,f):(za(a),o=Go(o,a,f),o!==null?o.sibling:null);za(a);break;case 19:var A=(o.flags&128)!==0;if(m=(f&a.childLanes)!==0,m||(Kf(o,a,f,!1),m=(f&a.childLanes)!==0),A){if(m)return vC(o,a,f);a.flags|=128}if(A=a.memoizedState,A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),ve(Rr,Rr.current),m)break;return null;case 22:case 23:return a.lanes=0,uC(o,a,f);case 24:qa(a,Ir,o.memoizedState.cache)}return Go(o,a,f)}function yC(o,a,f){if(o!==null)if(o.memoizedProps!==a.pendingProps)Br=!0;else{if(!rb(o,f)&&!(a.flags&128))return Br=!1,a8(o,a,f);Br=!!(o.flags&131072)}else Br=!1,nn&&a.flags&1048576&&nT(a,Sg,a.index);switch(a.lanes=0,a.tag){case 16:e:{o=a.pendingProps;var m=a.elementType,A=m._init;if(m=A(m._payload),a.type=m,typeof m=="function")vb(m)?(o=Xl(m,o),a.tag=1,a=hC(null,a,m,o,f)):(a.tag=0,a=WA(null,a,m,o,f));else{if(m!=null){if(A=m.$$typeof,A===b){a.tag=11,a=aC(null,a,m,o,f);break e}else if(A===T){a.tag=14,a=lC(null,a,m,o,f);break e}}throw a=D(m)||m,Error(r(306,a,""))}}return a;case 0:return WA(o,a,a.type,a.pendingProps,f);case 1:return m=a.type,A=Xl(m,a.pendingProps),hC(o,a,m,A,f);case 3:e:{if(Ve(a,a.stateNode.containerInfo),o===null)throw Error(r(387));var S=a.pendingProps;A=a.memoizedState,m=A.element,lb(o,a),Xf(a,S,null,f);var I=a.memoizedState;if(S=I.cache,qa(a,Ir,S),S!==A.cache&&ob(a,[Ir],f,!0),Qf(),S=I.element,A.isDehydrated)if(A={element:S,isDehydrated:!1,cache:I.cache},a.updateQueue.baseState=A,a.memoizedState=A,a.flags&256){a=pC(o,a,S,f);break e}else if(S!==m){m=ys(Error(r(424)),a),Bf(m),a=pC(o,a,S,f);break e}else for(Gr=Zs(a.stateNode.containerInfo.firstChild),Si=a,nn=!0,Xs=null,vo=!0,f=dT(a,null,S,f),a.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(Df(),S===m){a=Go(o,a,f);break e}Yr(o,a,S,f)}a=a.child}return a;case 26:return Yf(o,a),o===null?(f=_k(a.type,null,a.pendingProps,null))?a.memoizedState=f:nn||(f=a.type,o=a.pendingProps,m=tm($e.current).createElement(f),m[St]=a,m[tr]=o,Kr(m,f,o),Fn(m),a.stateNode=m):a.memoizedState=_k(a.type,o.memoizedProps,a.pendingProps,o.memoizedState),null;case 27:return ft(a),o===null&&nn&&(m=a.stateNode=yk(a.type,a.pendingProps,$e.current),Si=a,vo=!0,Gr=Zs(m.firstChild)),m=a.pendingProps.children,o!==null||nn?Yr(o,a,m,f):a.child=Gl(a,null,m,f),Yf(o,a),a.child;case 5:return o===null&&nn&&((A=m=Gr)&&(m=B8(m,a.type,a.pendingProps,vo),m!==null?(a.stateNode=m,Si=a,Gr=Zs(m.firstChild),vo=!1,A=!0):A=!1),A||ql(a)),ft(a),A=a.type,S=a.pendingProps,I=o!==null?o.memoizedProps:null,m=S.children,Ub(A,S)?m=null:I!==null&&Ub(A,I)&&(a.flags|=32),a.memoizedState!==null&&(A=IA(o,a,e8,null,null,f),fh._currentValue=A),Yf(o,a),Yr(o,a,m,f),a.child;case 6:return o===null&&nn&&((o=f=Gr)&&(f=N8(f,a.pendingProps,vo),f!==null?(a.stateNode=f,Si=a,Gr=null,o=!0):o=!1),o||ql(a)),null;case 13:return gC(o,a,f);case 4:return Ve(a,a.stateNode.containerInfo),m=a.pendingProps,o===null?a.child=Gl(a,null,m,f):Yr(o,a,m,f),a.child;case 11:return aC(o,a,a.type,a.pendingProps,f);case 7:return Yr(o,a,a.pendingProps,f),a.child;case 8:return Yr(o,a,a.pendingProps.children,f),a.child;case 12:return Yr(o,a,a.pendingProps.children,f),a.child;case 10:return m=a.pendingProps,qa(a,a.type,m.value),Yr(o,a,m.children,f),a.child;case 9:return A=a.type._context,m=a.pendingProps.children,Zl(a),A=ci(A),m=m(A),a.flags|=1,Yr(o,a,m,f),a.child;case 14:return lC(o,a,a.type,a.pendingProps,f);case 15:return cC(o,a,a.type,a.pendingProps,f);case 19:return vC(o,a,f);case 22:return uC(o,a,f);case 24:return Zl(a),m=ci(Ir),o===null?(A=MA(),A===null&&(A=Cn,S=CA(),A.pooledCache=S,S.refCount++,S!==null&&(A.pooledCacheLanes|=f),A=S),a.memoizedState={parent:m,cache:A},ab(a),qa(a,Ir,A)):(o.lanes&f&&(lb(o,a),Xf(a,null,null,f),Qf()),A=o.memoizedState,S=a.memoizedState,A.parent!==m?(A={parent:m,cache:m},a.memoizedState=A,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=A),qa(a,Ir,m)):(m=S.cache,qa(a,Ir,m),m!==A.cache&&ob(a,[Ir],f,!0))),Yr(o,a,a.pendingProps.children,f),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}var ib=Me(null),Jl=null,Yo=null;function qa(o,a,f){ve(ib,a._currentValue),a._currentValue=f}function Ko(o){o._currentValue=ib.current,Re(ib)}function sb(o,a,f){for(;o!==null;){var m=o.alternate;if((o.childLanes&a)!==a?(o.childLanes|=a,m!==null&&(m.childLanes|=a)):m!==null&&(m.childLanes&a)!==a&&(m.childLanes|=a),o===f)break;o=o.return}}function ob(o,a,f,m){var A=o.child;for(A!==null&&(A.return=o);A!==null;){var S=A.dependencies;if(S!==null){var I=A.child;S=S.firstContext;e:for(;S!==null;){var z=S;S=A;for(var X=0;X<a.length;X++)if(z.context===a[X]){S.lanes|=f,z=S.alternate,z!==null&&(z.lanes|=f),sb(S.return,f,o),m||(I=null);break e}S=z.next}}else if(A.tag===18){if(I=A.return,I===null)throw Error(r(341));I.lanes|=f,S=I.alternate,S!==null&&(S.lanes|=f),sb(I,f,o),I=null}else I=A.child;if(I!==null)I.return=A;else for(I=A;I!==null;){if(I===o){I=null;break}if(A=I.sibling,A!==null){A.return=I.return,I=A;break}I=I.return}A=I}}function Kf(o,a,f,m){o=null;for(var A=a,S=!1;A!==null;){if(!S){if(A.flags&524288)S=!0;else if(A.flags&262144)break}if(A.tag===10){var I=A.alternate;if(I===null)throw Error(r(387));if(I=I.memoizedProps,I!==null){var z=A.type;Xi(A.pendingProps.value,I.value)||(o!==null?o.push(z):o=[z])}}else if(A===De.current){if(I=A.alternate,I===null)throw Error(r(387));I.memoizedState.memoizedState!==A.memoizedState.memoizedState&&(o!==null?o.push(fh):o=[fh])}A=A.return}o!==null&&ob(a,o,f,m),a.flags|=262144}function Lg(o){for(o=o.firstContext;o!==null;){if(!Xi(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function Zl(o){Jl=o,Yo=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function ci(o){return AC(Jl,o)}function Fg(o,a){return Jl===null&&Zl(o),AC(o,a)}function AC(o,a){var f=a._currentValue;if(a={context:a,memoizedValue:f,next:null},Yo===null){if(o===null)throw Error(r(308));Yo=a,o.dependencies={lanes:0,firstContext:a},o.flags|=524288}else Yo=Yo.next=a;return f}var Ga=!1;function ab(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lb(o,a){o=o.updateQueue,a.updateQueue===o&&(a.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function Ya(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function Ka(o,a,f){var m=o.updateQueue;if(m===null)return null;if(m=m.shared,Xn&2){var A=m.pending;return A===null?a.next=a:(a.next=A.next,A.next=a),m.pending=a,a=bg(o),eT(o,null,f),a}return Ag(o,m,a,f),bg(o)}function Wf(o,a,f){if(a=a.updateQueue,a!==null&&(a=a.shared,(f&4194176)!==0)){var m=a.lanes;m&=o.pendingLanes,f|=m,a.lanes=f,pr(o,f)}}function cb(o,a){var f=o.updateQueue,m=o.alternate;if(m!==null&&(m=m.updateQueue,f===m)){var A=null,S=null;if(f=f.firstBaseUpdate,f!==null){do{var I={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};S===null?A=S=I:S=S.next=I,f=f.next}while(f!==null);S===null?A=S=a:S=S.next=a}else A=S=a;f={baseState:m.baseState,firstBaseUpdate:A,lastBaseUpdate:S,shared:m.shared,callbacks:m.callbacks},o.updateQueue=f;return}o=f.lastBaseUpdate,o===null?f.firstBaseUpdate=a:o.next=a,f.lastBaseUpdate=a}var ub=!1;function Qf(){if(ub){var o=Ou;if(o!==null)throw o}}function Xf(o,a,f,m){ub=!1;var A=o.updateQueue;Ga=!1;var S=A.firstBaseUpdate,I=A.lastBaseUpdate,z=A.shared.pending;if(z!==null){A.shared.pending=null;var X=z,ie=X.next;X.next=null,I===null?S=ie:I.next=ie,I=X;var be=o.alternate;be!==null&&(be=be.updateQueue,z=be.lastBaseUpdate,z!==I&&(z===null?be.firstBaseUpdate=ie:z.next=ie,be.lastBaseUpdate=X))}if(S!==null){var Te=A.baseState;I=0,be=ie=X=null,z=S;do{var he=z.lane&-536870913,Ae=he!==z.lane;if(Ae?(Xt&he)===he:(m&he)===he){he!==0&&he===Iu&&(ub=!0),be!==null&&(be=be.next={lane:0,tag:z.tag,payload:z.payload,callback:null,next:null});e:{var Ze=o,At=z;he=a;var ir=f;switch(At.tag){case 1:if(Ze=At.payload,typeof Ze=="function"){Te=Ze.call(ir,Te,he);break e}Te=Ze;break e;case 3:Ze.flags=Ze.flags&-65537|128;case 0:if(Ze=At.payload,he=typeof Ze=="function"?Ze.call(ir,Te,he):Ze,he==null)break e;Te=C({},Te,he);break e;case 2:Ga=!0}}he=z.callback,he!==null&&(o.flags|=64,Ae&&(o.flags|=8192),Ae=A.callbacks,Ae===null?A.callbacks=[he]:Ae.push(he))}else Ae={lane:he,tag:z.tag,payload:z.payload,callback:z.callback,next:null},be===null?(ie=be=Ae,X=Te):be=be.next=Ae,I|=he;if(z=z.next,z===null){if(z=A.shared.pending,z===null)break;Ae=z,z=Ae.next,Ae.next=null,A.lastBaseUpdate=Ae,A.shared.pending=null}}while(!0);be===null&&(X=Te),A.baseState=X,A.firstBaseUpdate=ie,A.lastBaseUpdate=be,S===null&&(A.shared.lanes=0),Za|=I,o.lanes=I,o.memoizedState=Te}}function bC(o,a){if(typeof o!="function")throw Error(r(191,o));o.call(a)}function _C(o,a){var f=o.callbacks;if(f!==null)for(o.callbacks=null,o=0;o<f.length;o++)bC(f[o],a)}function Jf(o,a){try{var f=a.updateQueue,m=f!==null?f.lastEffect:null;if(m!==null){var A=m.next;f=A;do{if((f.tag&o)===o){m=void 0;var S=f.create,I=f.inst;m=S(),I.destroy=m}f=f.next}while(f!==A)}}catch(z){bn(a,a.return,z)}}function Wa(o,a,f){try{var m=a.updateQueue,A=m!==null?m.lastEffect:null;if(A!==null){var S=A.next;m=S;do{if((m.tag&o)===o){var I=m.inst,z=I.destroy;if(z!==void 0){I.destroy=void 0,A=a;var X=f;try{z()}catch(ie){bn(A,X,ie)}}}m=m.next}while(m!==S)}}catch(ie){bn(a,a.return,ie)}}function SC(o){var a=o.updateQueue;if(a!==null){var f=o.stateNode;try{_C(a,f)}catch(m){bn(o,o.return,m)}}}function xC(o,a,f){f.props=Xl(o.type,o.memoizedProps),f.state=o.memoizedState;try{f.componentWillUnmount()}catch(m){bn(o,a,m)}}function ec(o,a){try{var f=o.ref;if(f!==null){var m=o.stateNode;switch(o.tag){case 26:case 27:case 5:var A=m;break;default:A=m}typeof f=="function"?o.refCleanup=f(A):f.current=A}}catch(S){bn(o,a,S)}}function Ji(o,a){var f=o.ref,m=o.refCleanup;if(f!==null)if(typeof m=="function")try{m()}catch(A){bn(o,a,A)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(A){bn(o,a,A)}else f.current=null}function wC(o){var a=o.type,f=o.memoizedProps,m=o.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":f.autoFocus&&m.focus();break e;case"img":f.src?m.src=f.src:f.srcSet&&(m.srcset=f.srcSet)}}catch(A){bn(o,o.return,A)}}function EC(o,a,f){try{var m=o.stateNode;O8(m,o.type,f,a),m[tr]=a}catch(A){bn(o,o.return,A)}}function TC(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27||o.tag===4}function db(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||TC(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==27&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function fb(o,a,f){var m=o.tag;if(m===5||m===6)o=o.stateNode,a?f.nodeType===8?f.parentNode.insertBefore(o,a):f.insertBefore(o,a):(f.nodeType===8?(a=f.parentNode,a.insertBefore(o,f)):(a=f,a.appendChild(o)),f=f._reactRootContainer,f!=null||a.onclick!==null||(a.onclick=em));else if(m!==4&&m!==27&&(o=o.child,o!==null))for(fb(o,a,f),o=o.sibling;o!==null;)fb(o,a,f),o=o.sibling}function zg(o,a,f){var m=o.tag;if(m===5||m===6)o=o.stateNode,a?f.insertBefore(o,a):f.appendChild(o);else if(m!==4&&m!==27&&(o=o.child,o!==null))for(zg(o,a,f),o=o.sibling;o!==null;)zg(o,a,f),o=o.sibling}var Wo=!1,nr=!1,hb=!1,CC=typeof WeakSet=="function"?WeakSet:Set,Nr=null,kC=!1;function l8(o,a){if(o=o.containerInfo,zb=am,o=q2(o),gA(o)){if("selectionStart"in o)var f={start:o.selectionStart,end:o.selectionEnd};else e:{f=(f=o.ownerDocument)&&f.defaultView||window;var m=f.getSelection&&f.getSelection();if(m&&m.rangeCount!==0){f=m.anchorNode;var A=m.anchorOffset,S=m.focusNode;m=m.focusOffset;try{f.nodeType,S.nodeType}catch{f=null;break e}var I=0,z=-1,X=-1,ie=0,be=0,Te=o,he=null;t:for(;;){for(var Ae;Te!==f||A!==0&&Te.nodeType!==3||(z=I+A),Te!==S||m!==0&&Te.nodeType!==3||(X=I+m),Te.nodeType===3&&(I+=Te.nodeValue.length),(Ae=Te.firstChild)!==null;)he=Te,Te=Ae;for(;;){if(Te===o)break t;if(he===f&&++ie===A&&(z=I),he===S&&++be===m&&(X=I),(Ae=Te.nextSibling)!==null)break;Te=he,he=Te.parentNode}Te=Ae}f=z===-1||X===-1?null:{start:z,end:X}}else f=null}f=f||{start:0,end:0}}else f=null;for($b={focusedElem:o,selectionRange:f},am=!1,Nr=a;Nr!==null;)if(a=Nr,o=a.child,(a.subtreeFlags&1028)!==0&&o!==null)o.return=a,Nr=o;else for(;Nr!==null;){switch(a=Nr,S=a.alternate,o=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if(o&1024&&S!==null){o=void 0,f=a,A=S.memoizedProps,S=S.memoizedState,m=f.stateNode;try{var Ze=Xl(f.type,A,f.elementType===f.type);o=m.getSnapshotBeforeUpdate(Ze,S),m.__reactInternalSnapshotBeforeUpdate=o}catch(At){bn(f,f.return,At)}}break;case 3:if(o&1024){if(o=a.stateNode.containerInfo,f=o.nodeType,f===9)Gb(o);else if(f===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":Gb(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(o&1024)throw Error(r(163))}if(o=a.sibling,o!==null){o.return=a.return,Nr=o;break}Nr=a.return}return Ze=kC,kC=!1,Ze}function MC(o,a,f){var m=f.flags;switch(f.tag){case 0:case 11:case 15:Xo(o,f),m&4&&Jf(5,f);break;case 1:if(Xo(o,f),m&4)if(o=f.stateNode,a===null)try{o.componentDidMount()}catch(z){bn(f,f.return,z)}else{var A=Xl(f.type,a.memoizedProps);a=a.memoizedState;try{o.componentDidUpdate(A,a,o.__reactInternalSnapshotBeforeUpdate)}catch(z){bn(f,f.return,z)}}m&64&&SC(f),m&512&&ec(f,f.return);break;case 3:if(Xo(o,f),m&64&&(m=f.updateQueue,m!==null)){if(o=null,f.child!==null)switch(f.child.tag){case 27:case 5:o=f.child.stateNode;break;case 1:o=f.child.stateNode}try{_C(m,o)}catch(z){bn(f,f.return,z)}}break;case 26:Xo(o,f),m&512&&ec(f,f.return);break;case 27:case 5:Xo(o,f),a===null&&m&4&&wC(f),m&512&&ec(f,f.return);break;case 12:Xo(o,f);break;case 13:Xo(o,f),m&4&&OC(o,f);break;case 22:if(A=f.memoizedState!==null||Wo,!A){a=a!==null&&a.memoizedState!==null||nr;var S=Wo,I=nr;Wo=A,(nr=a)&&!I?Qa(o,f,(f.subtreeFlags&8772)!==0):Xo(o,f),Wo=S,nr=I}m&512&&(f.memoizedProps.mode==="manual"?ec(f,f.return):Ji(f,f.return));break;default:Xo(o,f)}}function RC(o){var a=o.alternate;a!==null&&(o.alternate=null,RC(a)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(a=o.stateNode,a!==null&&_i(a)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var xr=null,Zi=!1;function Qo(o,a,f){for(f=f.child;f!==null;)IC(o,a,f),f=f.sibling}function IC(o,a,f){if(Nt&&typeof Nt.onCommitFiberUnmount=="function")try{Nt.onCommitFiberUnmount(_t,f)}catch{}switch(f.tag){case 26:nr||Ji(f,a),Qo(o,a,f),f.memoizedState?f.memoizedState.count--:f.stateNode&&(f=f.stateNode,f.parentNode.removeChild(f));break;case 27:nr||Ji(f,a);var m=xr,A=Zi;for(xr=f.stateNode,Qo(o,a,f),f=f.stateNode,a=f.attributes;a.length;)f.removeAttributeNode(a[0]);_i(f),xr=m,Zi=A;break;case 5:nr||Ji(f,a);case 6:A=xr;var S=Zi;if(xr=null,Qo(o,a,f),xr=A,Zi=S,xr!==null)if(Zi)try{o=xr,m=f.stateNode,o.nodeType===8?o.parentNode.removeChild(m):o.removeChild(m)}catch(I){bn(f,a,I)}else try{xr.removeChild(f.stateNode)}catch(I){bn(f,a,I)}break;case 18:xr!==null&&(Zi?(a=xr,f=f.stateNode,a.nodeType===8?qb(a.parentNode,f):a.nodeType===1&&qb(a,f),mh(a)):qb(xr,f.stateNode));break;case 4:m=xr,A=Zi,xr=f.stateNode.containerInfo,Zi=!0,Qo(o,a,f),xr=m,Zi=A;break;case 0:case 11:case 14:case 15:nr||Wa(2,f,a),nr||Wa(4,f,a),Qo(o,a,f);break;case 1:nr||(Ji(f,a),m=f.stateNode,typeof m.componentWillUnmount=="function"&&xC(f,a,m)),Qo(o,a,f);break;case 21:Qo(o,a,f);break;case 22:nr||Ji(f,a),nr=(m=nr)||f.memoizedState!==null,Qo(o,a,f),nr=m;break;default:Qo(o,a,f)}}function OC(o,a){if(a.memoizedState===null&&(o=a.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{mh(o)}catch(f){bn(a,a.return,f)}}function c8(o){switch(o.tag){case 13:case 19:var a=o.stateNode;return a===null&&(a=o.stateNode=new CC),a;case 22:return o=o.stateNode,a=o._retryCache,a===null&&(a=o._retryCache=new CC),a;default:throw Error(r(435,o.tag))}}function pb(o,a){var f=c8(o);a.forEach(function(m){var A=S8.bind(null,o,m);f.has(m)||(f.add(m),m.then(A,A))})}function Ss(o,a){var f=a.deletions;if(f!==null)for(var m=0;m<f.length;m++){var A=f[m],S=o,I=a,z=I;e:for(;z!==null;){switch(z.tag){case 27:case 5:xr=z.stateNode,Zi=!1;break e;case 3:xr=z.stateNode.containerInfo,Zi=!0;break e;case 4:xr=z.stateNode.containerInfo,Zi=!0;break e}z=z.return}if(xr===null)throw Error(r(160));IC(S,I,A),xr=null,Zi=!1,S=A.alternate,S!==null&&(S.return=null),A.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)jC(a,o),a=a.sibling}var Js=null;function jC(o,a){var f=o.alternate,m=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:Ss(a,o),xs(o),m&4&&(Wa(3,o,o.return),Jf(3,o),Wa(5,o,o.return));break;case 1:Ss(a,o),xs(o),m&512&&(nr||f===null||Ji(f,f.return)),m&64&&Wo&&(o=o.updateQueue,o!==null&&(m=o.callbacks,m!==null&&(f=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=f===null?m:f.concat(m))));break;case 26:var A=Js;if(Ss(a,o),xs(o),m&512&&(nr||f===null||Ji(f,f.return)),m&4){var S=f!==null?f.memoizedState:null;if(m=o.memoizedState,f===null)if(m===null)if(o.stateNode===null){e:{m=o.type,f=o.memoizedProps,A=A.ownerDocument||A;t:switch(m){case"title":S=A.getElementsByTagName("title")[0],(!S||S[Qt]||S[St]||S.namespaceURI==="http://www.w3.org/2000/svg"||S.hasAttribute("itemprop"))&&(S=A.createElement(m),A.head.insertBefore(S,A.querySelector("head > title"))),Kr(S,m,f),S[St]=o,Fn(S),m=S;break e;case"link":var I=wk("link","href",A).get(m+(f.href||""));if(I){for(var z=0;z<I.length;z++)if(S=I[z],S.getAttribute("href")===(f.href==null?null:f.href)&&S.getAttribute("rel")===(f.rel==null?null:f.rel)&&S.getAttribute("title")===(f.title==null?null:f.title)&&S.getAttribute("crossorigin")===(f.crossOrigin==null?null:f.crossOrigin)){I.splice(z,1);break t}}S=A.createElement(m),Kr(S,m,f),A.head.appendChild(S);break;case"meta":if(I=wk("meta","content",A).get(m+(f.content||""))){for(z=0;z<I.length;z++)if(S=I[z],S.getAttribute("content")===(f.content==null?null:""+f.content)&&S.getAttribute("name")===(f.name==null?null:f.name)&&S.getAttribute("property")===(f.property==null?null:f.property)&&S.getAttribute("http-equiv")===(f.httpEquiv==null?null:f.httpEquiv)&&S.getAttribute("charset")===(f.charSet==null?null:f.charSet)){I.splice(z,1);break t}}S=A.createElement(m),Kr(S,m,f),A.head.appendChild(S);break;default:throw Error(r(468,m))}S[St]=o,Fn(S),m=S}o.stateNode=m}else Ek(A,o.type,o.stateNode);else o.stateNode=xk(A,m,o.memoizedProps);else S!==m?(S===null?f.stateNode!==null&&(f=f.stateNode,f.parentNode.removeChild(f)):S.count--,m===null?Ek(A,o.type,o.stateNode):xk(A,m,o.memoizedProps)):m===null&&o.stateNode!==null&&EC(o,o.memoizedProps,f.memoizedProps)}break;case 27:if(m&4&&o.alternate===null){A=o.stateNode,S=o.memoizedProps;try{for(var X=A.firstChild;X;){var ie=X.nextSibling,be=X.nodeName;X[Qt]||be==="HEAD"||be==="BODY"||be==="SCRIPT"||be==="STYLE"||be==="LINK"&&X.rel.toLowerCase()==="stylesheet"||A.removeChild(X),X=ie}for(var Te=o.type,he=A.attributes;he.length;)A.removeAttributeNode(he[0]);Kr(A,Te,S),A[St]=o,A[tr]=S}catch(Ze){bn(o,o.return,Ze)}}case 5:if(Ss(a,o),xs(o),m&512&&(nr||f===null||Ji(f,f.return)),o.flags&32){A=o.stateNode;try{mn(A,"")}catch(Ze){bn(o,o.return,Ze)}}m&4&&o.stateNode!=null&&(A=o.memoizedProps,EC(o,A,f!==null?f.memoizedProps:A)),m&1024&&(hb=!0);break;case 6:if(Ss(a,o),xs(o),m&4){if(o.stateNode===null)throw Error(r(162));m=o.memoizedProps,f=o.stateNode;try{f.nodeValue=m}catch(Ze){bn(o,o.return,Ze)}}break;case 3:if(im=null,A=Js,Js=nm(a.containerInfo),Ss(a,o),Js=A,xs(o),m&4&&f!==null&&f.memoizedState.isDehydrated)try{mh(a.containerInfo)}catch(Ze){bn(o,o.return,Ze)}hb&&(hb=!1,PC(o));break;case 4:m=Js,Js=nm(o.stateNode.containerInfo),Ss(a,o),xs(o),Js=m;break;case 12:Ss(a,o),xs(o);break;case 13:Ss(a,o),xs(o),o.child.flags&8192&&o.memoizedState!==null!=(f!==null&&f.memoizedState!==null)&&(xb=pt()),m&4&&(m=o.updateQueue,m!==null&&(o.updateQueue=null,pb(o,m)));break;case 22:if(m&512&&(nr||f===null||Ji(f,f.return)),X=o.memoizedState!==null,ie=f!==null&&f.memoizedState!==null,be=Wo,Te=nr,Wo=be||X,nr=Te||ie,Ss(a,o),nr=Te,Wo=be,xs(o),a=o.stateNode,a._current=o,a._visibility&=-3,a._visibility|=a._pendingVisibility&2,m&8192&&(a._visibility=X?a._visibility&-2:a._visibility|1,X&&(a=Wo||nr,f===null||ie||a||Du(o)),o.memoizedProps===null||o.memoizedProps.mode!=="manual"))e:for(f=null,a=o;;){if(a.tag===5||a.tag===26||a.tag===27){if(f===null){ie=f=a;try{if(A=ie.stateNode,X)S=A.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{I=ie.stateNode,z=ie.memoizedProps.style;var Ae=z!=null&&z.hasOwnProperty("display")?z.display:null;I.style.display=Ae==null||typeof Ae=="boolean"?"":(""+Ae).trim()}}catch(Ze){bn(ie,ie.return,Ze)}}}else if(a.tag===6){if(f===null){ie=a;try{ie.stateNode.nodeValue=X?"":ie.memoizedProps}catch(Ze){bn(ie,ie.return,Ze)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===o)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;f===a&&(f=null),a=a.return}f===a&&(f=null),a.sibling.return=a.return,a=a.sibling}m&4&&(m=o.updateQueue,m!==null&&(f=m.retryQueue,f!==null&&(m.retryQueue=null,pb(o,f))));break;case 19:Ss(a,o),xs(o),m&4&&(m=o.updateQueue,m!==null&&(o.updateQueue=null,pb(o,m)));break;case 21:break;default:Ss(a,o),xs(o)}}function xs(o){var a=o.flags;if(a&2){try{if(o.tag!==27){e:{for(var f=o.return;f!==null;){if(TC(f)){var m=f;break e}f=f.return}throw Error(r(160))}switch(m.tag){case 27:var A=m.stateNode,S=db(o);zg(o,S,A);break;case 5:var I=m.stateNode;m.flags&32&&(mn(I,""),m.flags&=-33);var z=db(o);zg(o,z,I);break;case 3:case 4:var X=m.stateNode.containerInfo,ie=db(o);fb(o,ie,X);break;default:throw Error(r(161))}}}catch(be){bn(o,o.return,be)}o.flags&=-3}a&4096&&(o.flags&=-4097)}function PC(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var a=o;PC(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),o=o.sibling}}function Xo(o,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)MC(o,a.alternate,a),a=a.sibling}function Du(o){for(o=o.child;o!==null;){var a=o;switch(a.tag){case 0:case 11:case 14:case 15:Wa(4,a,a.return),Du(a);break;case 1:Ji(a,a.return);var f=a.stateNode;typeof f.componentWillUnmount=="function"&&xC(a,a.return,f),Du(a);break;case 26:case 27:case 5:Ji(a,a.return),Du(a);break;case 22:Ji(a,a.return),a.memoizedState===null&&Du(a);break;default:Du(a)}o=o.sibling}}function Qa(o,a,f){for(f=f&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var m=a.alternate,A=o,S=a,I=S.flags;switch(S.tag){case 0:case 11:case 15:Qa(A,S,f),Jf(4,S);break;case 1:if(Qa(A,S,f),m=S,A=m.stateNode,typeof A.componentDidMount=="function")try{A.componentDidMount()}catch(ie){bn(m,m.return,ie)}if(m=S,A=m.updateQueue,A!==null){var z=m.stateNode;try{var X=A.shared.hiddenCallbacks;if(X!==null)for(A.shared.hiddenCallbacks=null,A=0;A<X.length;A++)bC(X[A],z)}catch(ie){bn(m,m.return,ie)}}f&&I&64&&SC(S),ec(S,S.return);break;case 26:case 27:case 5:Qa(A,S,f),f&&m===null&&I&4&&wC(S),ec(S,S.return);break;case 12:Qa(A,S,f);break;case 13:Qa(A,S,f),f&&I&4&&OC(A,S);break;case 22:S.memoizedState===null&&Qa(A,S,f),ec(S,S.return);break;default:Qa(A,S,f)}a=a.sibling}}function gb(o,a){var f=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),o=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(o=a.memoizedState.cachePool.pool),o!==f&&(o!=null&&o.refCount++,f!=null&&$f(f))}function mb(o,a){o=null,a.alternate!==null&&(o=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==o&&(a.refCount++,o!=null&&$f(o))}function Xa(o,a,f,m){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)VC(o,a,f,m),a=a.sibling}function VC(o,a,f,m){var A=a.flags;switch(a.tag){case 0:case 11:case 15:Xa(o,a,f,m),A&2048&&Jf(9,a);break;case 3:Xa(o,a,f,m),A&2048&&(o=null,a.alternate!==null&&(o=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==o&&(a.refCount++,o!=null&&$f(o)));break;case 12:if(A&2048){Xa(o,a,f,m),o=a.stateNode;try{var S=a.memoizedProps,I=S.id,z=S.onPostCommit;typeof z=="function"&&z(I,a.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(X){bn(a,a.return,X)}}else Xa(o,a,f,m);break;case 23:break;case 22:S=a.stateNode,a.memoizedState!==null?S._visibility&4?Xa(o,a,f,m):Zf(o,a):S._visibility&4?Xa(o,a,f,m):(S._visibility|=4,Bu(o,a,f,m,(a.subtreeFlags&10256)!==0)),A&2048&&gb(a.alternate,a);break;case 24:Xa(o,a,f,m),A&2048&&mb(a.alternate,a);break;default:Xa(o,a,f,m)}}function Bu(o,a,f,m,A){for(A=A&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var S=o,I=a,z=f,X=m,ie=I.flags;switch(I.tag){case 0:case 11:case 15:Bu(S,I,z,X,A),Jf(8,I);break;case 23:break;case 22:var be=I.stateNode;I.memoizedState!==null?be._visibility&4?Bu(S,I,z,X,A):Zf(S,I):(be._visibility|=4,Bu(S,I,z,X,A)),A&&ie&2048&&gb(I.alternate,I);break;case 24:Bu(S,I,z,X,A),A&&ie&2048&&mb(I.alternate,I);break;default:Bu(S,I,z,X,A)}a=a.sibling}}function Zf(o,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var f=o,m=a,A=m.flags;switch(m.tag){case 22:Zf(f,m),A&2048&&gb(m.alternate,m);break;case 24:Zf(f,m),A&2048&&mb(m.alternate,m);break;default:Zf(f,m)}a=a.sibling}}var eh=8192;function Nu(o){if(o.subtreeFlags&eh)for(o=o.child;o!==null;)DC(o),o=o.sibling}function DC(o){switch(o.tag){case 26:Nu(o),o.flags&eh&&o.memoizedState!==null&&X8(Js,o.memoizedState,o.memoizedProps);break;case 5:Nu(o);break;case 3:case 4:var a=Js;Js=nm(o.stateNode.containerInfo),Nu(o),Js=a;break;case 22:o.memoizedState===null&&(a=o.alternate,a!==null&&a.memoizedState!==null?(a=eh,eh=16777216,Nu(o),eh=a):Nu(o));break;default:Nu(o)}}function BC(o){var a=o.alternate;if(a!==null&&(o=a.child,o!==null)){a.child=null;do a=o.sibling,o.sibling=null,o=a;while(o!==null)}}function th(o){var a=o.deletions;if(o.flags&16){if(a!==null)for(var f=0;f<a.length;f++){var m=a[f];Nr=m,LC(m,o)}BC(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)NC(o),o=o.sibling}function NC(o){switch(o.tag){case 0:case 11:case 15:th(o),o.flags&2048&&Wa(9,o,o.return);break;case 3:th(o);break;case 12:th(o);break;case 22:var a=o.stateNode;o.memoizedState!==null&&a._visibility&4&&(o.return===null||o.return.tag!==13)?(a._visibility&=-5,$g(o)):th(o);break;default:th(o)}}function $g(o){var a=o.deletions;if(o.flags&16){if(a!==null)for(var f=0;f<a.length;f++){var m=a[f];Nr=m,LC(m,o)}BC(o)}for(o=o.child;o!==null;){switch(a=o,a.tag){case 0:case 11:case 15:Wa(8,a,a.return),$g(a);break;case 22:f=a.stateNode,f._visibility&4&&(f._visibility&=-5,$g(a));break;default:$g(a)}o=o.sibling}}function LC(o,a){for(;Nr!==null;){var f=Nr;switch(f.tag){case 0:case 11:case 15:Wa(8,f,a);break;case 23:case 22:if(f.memoizedState!==null&&f.memoizedState.cachePool!==null){var m=f.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:$f(f.memoizedState.cache)}if(m=f.child,m!==null)m.return=f,Nr=m;else e:for(f=o;Nr!==null;){m=Nr;var A=m.sibling,S=m.return;if(RC(m),m===f){Nr=null;break e}if(A!==null){A.return=S,Nr=A;break e}Nr=S}}}function u8(o,a,f,m){this.tag=o,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ws(o,a,f,m){return new u8(o,a,f,m)}function vb(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Ja(o,a){var f=o.alternate;return f===null?(f=ws(o.tag,a,o.key,o.mode),f.elementType=o.elementType,f.type=o.type,f.stateNode=o.stateNode,f.alternate=o,o.alternate=f):(f.pendingProps=a,f.type=o.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=o.flags&31457280,f.childLanes=o.childLanes,f.lanes=o.lanes,f.child=o.child,f.memoizedProps=o.memoizedProps,f.memoizedState=o.memoizedState,f.updateQueue=o.updateQueue,a=o.dependencies,f.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},f.sibling=o.sibling,f.index=o.index,f.ref=o.ref,f.refCleanup=o.refCleanup,f}function FC(o,a){o.flags&=31457282;var f=o.alternate;return f===null?(o.childLanes=0,o.lanes=a,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=f.childLanes,o.lanes=f.lanes,o.child=f.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=f.memoizedProps,o.memoizedState=f.memoizedState,o.updateQueue=f.updateQueue,o.type=f.type,a=f.dependencies,o.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),o}function Ug(o,a,f,m,A,S){var I=0;if(m=o,typeof o=="function")vb(o)&&(I=1);else if(typeof o=="string")I=W8(o,f,je.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case d:return tc(f.children,A,S,a);case u:I=8,A|=24;break;case h:return o=ws(12,f,a,A|2),o.elementType=h,o.lanes=S,o;case _:return o=ws(13,f,a,A),o.elementType=_,o.lanes=S,o;case w:return o=ws(19,f,a,A),o.elementType=w,o.lanes=S,o;case R:return zC(f,A,S,a);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case p:case y:I=10;break e;case v:I=9;break e;case b:I=11;break e;case T:I=14;break e;case k:I=16,m=null;break e}I=29,f=Error(r(130,o===null?"null":typeof o,"")),m=null}return a=ws(I,f,a,A),a.elementType=o,a.type=m,a.lanes=S,a}function tc(o,a,f,m){return o=ws(7,o,m,a),o.lanes=f,o}function zC(o,a,f,m){o=ws(22,o,m,a),o.elementType=R,o.lanes=f;var A={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var S=A._current;if(S===null)throw Error(r(456));if(!(A._pendingVisibility&2)){var I=Fa(S,2);I!==null&&(A._pendingVisibility|=2,xi(I,S,2))}},attach:function(){var S=A._current;if(S===null)throw Error(r(456));if(A._pendingVisibility&2){var I=Fa(S,2);I!==null&&(A._pendingVisibility&=-3,xi(I,S,2))}}};return o.stateNode=A,o}function yb(o,a,f){return o=ws(6,o,null,a),o.lanes=f,o}function Ab(o,a,f){return a=ws(4,o.children!==null?o.children:[],o.key,a),a.lanes=f,a.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},a}function Jo(o){o.flags|=4}function $C(o,a){if(a.type!=="stylesheet"||a.state.loading&4)o.flags&=-16777217;else if(o.flags|=16777216,!Tk(a)){if(a=_s.current,a!==null&&((Xt&4194176)===Xt?yo!==null:(Xt&62914560)!==Xt&&!(Xt&536870912)||a!==yo))throw Lf=wA,sT;o.flags|=8192}}function Hg(o,a){a!==null&&(o.flags|=4),o.flags&16384&&(a=o.tag!==22?ai():536870912,o.lanes|=a,Fu|=a)}function nh(o,a){if(!nn)switch(o.tailMode){case"hidden":a=o.tail;for(var f=null;a!==null;)a.alternate!==null&&(f=a),a=a.sibling;f===null?o.tail=null:f.sibling=null;break;case"collapsed":f=o.tail;for(var m=null;f!==null;)f.alternate!==null&&(m=f),f=f.sibling;m===null?a||o.tail===null?o.tail=null:o.tail.sibling=null:m.sibling=null}}function Qn(o){var a=o.alternate!==null&&o.alternate.child===o.child,f=0,m=0;if(a)for(var A=o.child;A!==null;)f|=A.lanes|A.childLanes,m|=A.subtreeFlags&31457280,m|=A.flags&31457280,A.return=o,A=A.sibling;else for(A=o.child;A!==null;)f|=A.lanes|A.childLanes,m|=A.subtreeFlags,m|=A.flags,A.return=o,A=A.sibling;return o.subtreeFlags|=m,o.childLanes=f,a}function d8(o,a,f){var m=a.pendingProps;switch(SA(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qn(a),null;case 1:return Qn(a),null;case 3:return f=a.stateNode,m=null,o!==null&&(m=o.memoizedState.cache),a.memoizedState.cache!==m&&(a.flags|=2048),Ko(Ir),ot(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(o===null||o.child===null)&&(Vf(a)?Jo(a):o===null||o.memoizedState.isDehydrated&&!(a.flags&256)||(a.flags|=1024,Xs!==null&&(Cb(Xs),Xs=null))),Qn(a),null;case 26:return f=a.memoizedState,o===null?(Jo(a),f!==null?(Qn(a),$C(a,f)):(Qn(a),a.flags&=-16777217)):f?f!==o.memoizedState?(Jo(a),Qn(a),$C(a,f)):(Qn(a),a.flags&=-16777217):(o.memoizedProps!==m&&Jo(a),Qn(a),a.flags&=-16777217),null;case 27:Be(a),f=$e.current;var A=a.type;if(o!==null&&a.stateNode!=null)o.memoizedProps!==m&&Jo(a);else{if(!m){if(a.stateNode===null)throw Error(r(166));return Qn(a),null}o=je.current,Vf(a)?rT(a):(o=yk(A,m,f),a.stateNode=o,Jo(a))}return Qn(a),null;case 5:if(Be(a),f=a.type,o!==null&&a.stateNode!=null)o.memoizedProps!==m&&Jo(a);else{if(!m){if(a.stateNode===null)throw Error(r(166));return Qn(a),null}if(o=je.current,Vf(a))rT(a);else{switch(A=tm($e.current),o){case 1:o=A.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:o=A.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":o=A.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":o=A.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":o=A.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof m.is=="string"?A.createElement("select",{is:m.is}):A.createElement("select"),m.multiple?o.multiple=!0:m.size&&(o.size=m.size);break;default:o=typeof m.is=="string"?A.createElement(f,{is:m.is}):A.createElement(f)}}o[St]=a,o[tr]=m;e:for(A=a.child;A!==null;){if(A.tag===5||A.tag===6)o.appendChild(A.stateNode);else if(A.tag!==4&&A.tag!==27&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===a)break e;for(;A.sibling===null;){if(A.return===null||A.return===a)break e;A=A.return}A.sibling.return=A.return,A=A.sibling}a.stateNode=o;e:switch(Kr(o,f,m),f){case"button":case"input":case"select":case"textarea":o=!!m.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Jo(a)}}return Qn(a),a.flags&=-16777217,null;case 6:if(o&&a.stateNode!=null)o.memoizedProps!==m&&Jo(a);else{if(typeof m!="string"&&a.stateNode===null)throw Error(r(166));if(o=$e.current,Vf(a)){if(o=a.stateNode,f=a.memoizedProps,m=null,A=Si,A!==null)switch(A.tag){case 27:case 5:m=A.memoizedProps}o[St]=a,o=!!(o.nodeValue===f||m!==null&&m.suppressHydrationWarning===!0||fk(o.nodeValue,f)),o||ql(a)}else o=tm(o).createTextNode(m),o[St]=a,a.stateNode=o}return Qn(a),null;case 13:if(m=a.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(A=Vf(a),m!==null&&m.dehydrated!==null){if(o===null){if(!A)throw Error(r(318));if(A=a.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(r(317));A[St]=a}else Df(),!(a.flags&128)&&(a.memoizedState=null),a.flags|=4;Qn(a),A=!1}else Xs!==null&&(Cb(Xs),Xs=null),A=!0;if(!A)return a.flags&256?(Ho(a),a):(Ho(a),null)}if(Ho(a),a.flags&128)return a.lanes=f,a;if(f=m!==null,o=o!==null&&o.memoizedState!==null,f){m=a.child,A=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(A=m.alternate.memoizedState.cachePool.pool);var S=null;m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(S=m.memoizedState.cachePool.pool),S!==A&&(m.flags|=2048)}return f!==o&&f&&(a.child.flags|=8192),Hg(a,a.updateQueue),Qn(a),null;case 4:return ot(),o===null&&Nb(a.stateNode.containerInfo),Qn(a),null;case 10:return Ko(a.type),Qn(a),null;case 19:if(Re(Rr),A=a.memoizedState,A===null)return Qn(a),null;if(m=(a.flags&128)!==0,S=A.rendering,S===null)if(m)nh(A,!1);else{if(rr!==0||o!==null&&o.flags&128)for(o=a.child;o!==null;){if(S=Cg(o),S!==null){for(a.flags|=128,nh(A,!1),o=S.updateQueue,a.updateQueue=o,Hg(a,o),a.subtreeFlags=0,o=f,f=a.child;f!==null;)FC(f,o),f=f.sibling;return ve(Rr,Rr.current&1|2),a.child}o=o.sibling}A.tail!==null&&pt()>qg&&(a.flags|=128,m=!0,nh(A,!1),a.lanes=4194304)}else{if(!m)if(o=Cg(S),o!==null){if(a.flags|=128,m=!0,o=o.updateQueue,a.updateQueue=o,Hg(a,o),nh(A,!0),A.tail===null&&A.tailMode==="hidden"&&!S.alternate&&!nn)return Qn(a),null}else 2*pt()-A.renderingStartTime>qg&&f!==536870912&&(a.flags|=128,m=!0,nh(A,!1),a.lanes=4194304);A.isBackwards?(S.sibling=a.child,a.child=S):(o=A.last,o!==null?o.sibling=S:a.child=S,A.last=S)}return A.tail!==null?(a=A.tail,A.rendering=a,A.tail=a.sibling,A.renderingStartTime=pt(),a.sibling=null,o=Rr.current,ve(Rr,m?o&1|2:o&1),a):(Qn(a),null);case 22:case 23:return Ho(a),TA(),m=a.memoizedState!==null,o!==null?o.memoizedState!==null!==m&&(a.flags|=8192):m&&(a.flags|=8192),m?f&536870912&&!(a.flags&128)&&(Qn(a),a.subtreeFlags&6&&(a.flags|=8192)):Qn(a),f=a.updateQueue,f!==null&&Hg(a,f.retryQueue),f=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),m=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(m=a.memoizedState.cachePool.pool),m!==f&&(a.flags|=2048),o!==null&&Re(Yl),null;case 24:return f=null,o!==null&&(f=o.memoizedState.cache),a.memoizedState.cache!==f&&(a.flags|=2048),Ko(Ir),Qn(a),null;case 25:return null}throw Error(r(156,a.tag))}function f8(o,a){switch(SA(a),a.tag){case 1:return o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 3:return Ko(Ir),ot(),o=a.flags,o&65536&&!(o&128)?(a.flags=o&-65537|128,a):null;case 26:case 27:case 5:return Be(a),null;case 13:if(Ho(a),o=a.memoizedState,o!==null&&o.dehydrated!==null){if(a.alternate===null)throw Error(r(340));Df()}return o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 19:return Re(Rr),null;case 4:return ot(),null;case 10:return Ko(a.type),null;case 22:case 23:return Ho(a),TA(),o!==null&&Re(Yl),o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 24:return Ko(Ir),null;case 25:return null;default:return null}}function UC(o,a){switch(SA(a),a.tag){case 3:Ko(Ir),ot();break;case 26:case 27:case 5:Be(a);break;case 4:ot();break;case 13:Ho(a);break;case 19:Re(Rr);break;case 10:Ko(a.type);break;case 22:case 23:Ho(a),TA(),o!==null&&Re(Yl);break;case 24:Ko(Ir)}}var h8={getCacheForType:function(o){var a=ci(Ir),f=a.data.get(o);return f===void 0&&(f=o(),a.data.set(o,f)),f}},p8=typeof WeakMap=="function"?WeakMap:Map,Xn=0,Cn=null,zt=null,Xt=0,kn=0,es=null,Zo=!1,Lu=!1,bb=!1,ea=0,rr=0,Za=0,nc=0,_b=0,Es=0,Fu=0,rh=null,bo=null,Sb=!1,xb=0,qg=1/0,Gg=null,el=null,Yg=!1,rc=null,ih=0,wb=0,Eb=null,sh=0,Tb=null;function ts(){if(Xn&2&&Xt!==0)return Xt&-Xt;if(P.T!==null){var o=Iu;return o!==0?o:Pb()}return bi()}function HC(){Es===0&&(Es=!(Xt&536870912)||nn?hr():536870912);var o=_s.current;return o!==null&&(o.flags|=32),Es}function xi(o,a,f){(o===Cn&&kn===2||o.cancelPendingCommit!==null)&&(zu(o,0),ta(o,Xt,Es,!1)),it(o,f),(!(Xn&2)||o!==Cn)&&(o===Cn&&(!(Xn&2)&&(nc|=f),rr===4&&ta(o,Xt,Es,!1)),_o(o))}function qC(o,a,f){if(Xn&6)throw Error(r(327));var m=!f&&(a&60)===0&&(a&o.expiredLanes)===0||Je(o,a),A=m?v8(o,a):Rb(o,a,!0),S=m;do{if(A===0){Lu&&!m&&ta(o,a,0,!1);break}else if(A===6)ta(o,a,0,!Zo);else{if(f=o.current.alternate,S&&!g8(f)){A=Rb(o,a,!1),S=!1;continue}if(A===2){if(S=a,o.errorRecoveryDisabledLanes&S)var I=0;else I=o.pendingLanes&-536870913,I=I!==0?I:I&536870912?536870912:0;if(I!==0){a=I;e:{var z=o;A=rh;var X=z.current.memoizedState.isDehydrated;if(X&&(zu(z,I).flags|=256),I=Rb(z,I,!1),I!==2){if(bb&&!X){z.errorRecoveryDisabledLanes|=S,nc|=S,A=4;break e}S=bo,bo=A,S!==null&&Cb(S)}A=I}if(S=!1,A!==2)continue}}if(A===1){zu(o,0),ta(o,a,0,!0);break}e:{switch(m=o,A){case 0:case 1:throw Error(r(345));case 4:if((a&4194176)===a){ta(m,a,Es,!Zo);break e}break;case 2:bo=null;break;case 3:case 5:break;default:throw Error(r(329))}if(m.finishedWork=f,m.finishedLanes=a,(a&62914560)===a&&(S=xb+300-pt(),10<S)){if(ta(m,a,Es,!Zo),Tn(m,0)!==0)break e;m.timeoutHandle=gk(GC.bind(null,m,f,bo,Gg,Sb,a,Es,nc,Fu,Zo,2,-0,0),S);break e}GC(m,f,bo,Gg,Sb,a,Es,nc,Fu,Zo,0,-0,0)}}break}while(!0);_o(o)}function Cb(o){bo===null?bo=o:bo.push.apply(bo,o)}function GC(o,a,f,m,A,S,I,z,X,ie,be,Te,he){var Ae=a.subtreeFlags;if((Ae&8192||(Ae&16785408)===16785408)&&(dh={stylesheets:null,count:0,unsuspend:Q8},DC(a),a=J8(),a!==null)){o.cancelPendingCommit=a(ZC.bind(null,o,f,m,A,I,z,X,1,Te,he)),ta(o,S,I,!ie);return}ZC(o,f,m,A,I,z,X,be,Te,he)}function g8(o){for(var a=o;;){var f=a.tag;if((f===0||f===11||f===15)&&a.flags&16384&&(f=a.updateQueue,f!==null&&(f=f.stores,f!==null)))for(var m=0;m<f.length;m++){var A=f[m],S=A.getSnapshot;A=A.value;try{if(!Xi(S(),A))return!1}catch{return!1}}if(f=a.child,a.subtreeFlags&16384&&f!==null)f.return=a,a=f;else{if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function ta(o,a,f,m){a&=~_b,a&=~nc,o.suspendedLanes|=a,o.pingedLanes&=~a,m&&(o.warmLanes|=a),m=o.expirationTimes;for(var A=a;0<A;){var S=31-mt(A),I=1<<S;m[S]=-1,A&=~I}f!==0&&Yn(o,f,a)}function Kg(){return Xn&6?!0:(oh(0),!1)}function kb(){if(zt!==null){if(kn===0)var o=zt.return;else o=zt,Yo=Jl=null,PA(o),Mu=null,Ff=0,o=zt;for(;o!==null;)UC(o.alternate,o),o=o.return;zt=null}}function zu(o,a){o.finishedWork=null,o.finishedLanes=0;var f=o.timeoutHandle;f!==-1&&(o.timeoutHandle=-1,P8(f)),f=o.cancelPendingCommit,f!==null&&(o.cancelPendingCommit=null,f()),kb(),Cn=o,zt=f=Ja(o.current,null),Xt=a,kn=0,es=null,Zo=!1,Lu=Je(o,a),bb=!1,Fu=Es=_b=nc=Za=rr=0,bo=rh=null,Sb=!1,a&8&&(a|=a&32);var m=o.entangledLanes;if(m!==0)for(o=o.entanglements,m&=a;0<m;){var A=31-mt(m),S=1<<A;a|=o[A],m&=~S}return ea=a,yg(),f}function YC(o,a){Pt=null,P.H=Ao,a===Nf?(a=lT(),kn=3):a===sT?(a=lT(),kn=4):kn=a===oC?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,es=a,zt===null&&(rr=1,Ng(o,ys(a,o.current)))}function KC(){var o=P.H;return P.H=Ao,o===null?Ao:o}function WC(){var o=P.A;return P.A=h8,o}function Mb(){rr=4,Zo||(Xt&4194176)!==Xt&&_s.current!==null||(Lu=!0),!(Za&134217727)&&!(nc&134217727)||Cn===null||ta(Cn,Xt,Es,!1)}function Rb(o,a,f){var m=Xn;Xn|=2;var A=KC(),S=WC();(Cn!==o||Xt!==a)&&(Gg=null,zu(o,a)),a=!1;var I=rr;e:do try{if(kn!==0&&zt!==null){var z=zt,X=es;switch(kn){case 8:kb(),I=6;break e;case 3:case 2:case 6:_s.current===null&&(a=!0);var ie=kn;if(kn=0,es=null,$u(o,z,X,ie),f&&Lu){I=0;break e}break;default:ie=kn,kn=0,es=null,$u(o,z,X,ie)}}m8(),I=rr;break}catch(be){YC(o,be)}while(!0);return a&&o.shellSuspendCounter++,Yo=Jl=null,Xn=m,P.H=A,P.A=S,zt===null&&(Cn=null,Xt=0,yg()),I}function m8(){for(;zt!==null;)QC(zt)}function v8(o,a){var f=Xn;Xn|=2;var m=KC(),A=WC();Cn!==o||Xt!==a?(Gg=null,qg=pt()+500,zu(o,a)):Lu=Je(o,a);e:do try{if(kn!==0&&zt!==null){a=zt;var S=es;t:switch(kn){case 1:kn=0,es=null,$u(o,a,S,1);break;case 2:if(oT(S)){kn=0,es=null,XC(a);break}a=function(){kn===2&&Cn===o&&(kn=7),_o(o)},S.then(a,a);break e;case 3:kn=7;break e;case 4:kn=5;break e;case 7:oT(S)?(kn=0,es=null,XC(a)):(kn=0,es=null,$u(o,a,S,7));break;case 5:var I=null;switch(zt.tag){case 26:I=zt.memoizedState;case 5:case 27:var z=zt;if(!I||Tk(I)){kn=0,es=null;var X=z.sibling;if(X!==null)zt=X;else{var ie=z.return;ie!==null?(zt=ie,Wg(ie)):zt=null}break t}}kn=0,es=null,$u(o,a,S,5);break;case 6:kn=0,es=null,$u(o,a,S,6);break;case 8:kb(),rr=6;break e;default:throw Error(r(462))}}y8();break}catch(be){YC(o,be)}while(!0);return Yo=Jl=null,P.H=m,P.A=A,Xn=f,zt!==null?0:(Cn=null,Xt=0,yg(),rr)}function y8(){for(;zt!==null&&!sn();)QC(zt)}function QC(o){var a=yC(o.alternate,o,ea);o.memoizedProps=o.pendingProps,a===null?Wg(o):zt=a}function XC(o){var a=o,f=a.alternate;switch(a.tag){case 15:case 0:a=fC(f,a,a.pendingProps,a.type,void 0,Xt);break;case 11:a=fC(f,a,a.pendingProps,a.type.render,a.ref,Xt);break;case 5:PA(a);default:UC(f,a),a=zt=FC(a,ea),a=yC(f,a,ea)}o.memoizedProps=o.pendingProps,a===null?Wg(o):zt=a}function $u(o,a,f,m){Yo=Jl=null,PA(a),Mu=null,Ff=0;var A=a.return;try{if(o8(o,A,a,f,Xt)){rr=1,Ng(o,ys(f,o.current)),zt=null;return}}catch(S){if(A!==null)throw zt=A,S;rr=1,Ng(o,ys(f,o.current)),zt=null;return}a.flags&32768?(nn||m===1?o=!0:Lu||Xt&536870912?o=!1:(Zo=o=!0,(m===2||m===3||m===6)&&(m=_s.current,m!==null&&m.tag===13&&(m.flags|=16384))),JC(a,o)):Wg(a)}function Wg(o){var a=o;do{if(a.flags&32768){JC(a,Zo);return}o=a.return;var f=d8(a.alternate,a,ea);if(f!==null){zt=f;return}if(a=a.sibling,a!==null){zt=a;return}zt=a=o}while(a!==null);rr===0&&(rr=5)}function JC(o,a){do{var f=f8(o.alternate,o);if(f!==null){f.flags&=32767,zt=f;return}if(f=o.return,f!==null&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!a&&(o=o.sibling,o!==null)){zt=o;return}zt=o=f}while(o!==null);rr=6,zt=null}function ZC(o,a,f,m,A,S,I,z,X,ie){var be=P.T,Te=F.p;try{F.p=2,P.T=null,A8(o,a,f,m,Te,A,S,I,z,X,ie)}finally{P.T=be,F.p=Te}}function A8(o,a,f,m,A,S,I,z){do Uu();while(rc!==null);if(Xn&6)throw Error(r(327));var X=o.finishedWork;if(m=o.finishedLanes,X===null)return null;if(o.finishedWork=null,o.finishedLanes=0,X===o.current)throw Error(r(177));o.callbackNode=null,o.callbackPriority=0,o.cancelPendingCommit=null;var ie=X.lanes|X.childLanes;if(ie|=AA,ht(o,m,ie,S,I,z),o===Cn&&(zt=Cn=null,Xt=0),!(X.subtreeFlags&10256)&&!(X.flags&10256)||Yg||(Yg=!0,wb=ie,Eb=f,x8(lt,function(){return Uu(),null})),f=(X.flags&15990)!==0,X.subtreeFlags&15990||f?(f=P.T,P.T=null,S=F.p,F.p=2,I=Xn,Xn|=4,l8(o,X),jC(X,o),U6($b,o.containerInfo),am=!!zb,$b=zb=null,o.current=X,MC(o,X.alternate,X),qe(),Xn=I,F.p=S,P.T=f):o.current=X,Yg?(Yg=!1,rc=o,ih=m):ek(o,ie),ie=o.pendingLanes,ie===0&&(el=null),Ln(X.stateNode),_o(o),a!==null)for(A=o.onRecoverableError,X=0;X<a.length;X++)ie=a[X],A(ie.value,{componentStack:ie.stack});return ih&3&&Uu(),ie=o.pendingLanes,m&4194218&&ie&42?o===Tb?sh++:(sh=0,Tb=o):sh=0,oh(0),null}function ek(o,a){(o.pooledCacheLanes&=a)===0&&(a=o.pooledCache,a!=null&&(o.pooledCache=null,$f(a)))}function Uu(){if(rc!==null){var o=rc,a=wb;wb=0;var f=li(ih),m=P.T,A=F.p;try{if(F.p=32>f?32:f,P.T=null,rc===null)var S=!1;else{f=Eb,Eb=null;var I=rc,z=ih;if(rc=null,ih=0,Xn&6)throw Error(r(331));var X=Xn;if(Xn|=4,NC(I.current),VC(I,I.current,z,f),Xn=X,oh(0,!1),Nt&&typeof Nt.onPostCommitFiberRoot=="function")try{Nt.onPostCommitFiberRoot(_t,I)}catch{}S=!0}return S}finally{F.p=A,P.T=m,ek(o,a)}}return!1}function tk(o,a,f){a=ys(f,a),a=KA(o.stateNode,a,2),o=Ka(o,a,2),o!==null&&(it(o,2),_o(o))}function bn(o,a,f){if(o.tag===3)tk(o,o,f);else for(;a!==null;){if(a.tag===3){tk(a,o,f);break}else if(a.tag===1){var m=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(el===null||!el.has(m))){o=ys(f,o),f=iC(2),m=Ka(a,f,2),m!==null&&(sC(f,m,a,o),it(m,2),_o(m));break}}a=a.return}}function Ib(o,a,f){var m=o.pingCache;if(m===null){m=o.pingCache=new p8;var A=new Set;m.set(a,A)}else A=m.get(a),A===void 0&&(A=new Set,m.set(a,A));A.has(f)||(bb=!0,A.add(f),o=b8.bind(null,o,a,f),a.then(o,o))}function b8(o,a,f){var m=o.pingCache;m!==null&&m.delete(a),o.pingedLanes|=o.suspendedLanes&f,o.warmLanes&=~f,Cn===o&&(Xt&f)===f&&(rr===4||rr===3&&(Xt&62914560)===Xt&&300>pt()-xb?!(Xn&2)&&zu(o,0):_b|=f,Fu===Xt&&(Fu=0)),_o(o)}function nk(o,a){a===0&&(a=ai()),o=Fa(o,a),o!==null&&(it(o,a),_o(o))}function _8(o){var a=o.memoizedState,f=0;a!==null&&(f=a.retryLane),nk(o,f)}function S8(o,a){var f=0;switch(o.tag){case 13:var m=o.stateNode,A=o.memoizedState;A!==null&&(f=A.retryLane);break;case 19:m=o.stateNode;break;case 22:m=o.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(a),nk(o,f)}function x8(o,a){return en(o,a)}var Qg=null,Hu=null,Ob=!1,Xg=!1,jb=!1,ic=0;function _o(o){o!==Hu&&o.next===null&&(Hu===null?Qg=Hu=o:Hu=Hu.next=o),Xg=!0,Ob||(Ob=!0,E8(w8))}function oh(o,a){if(!jb&&Xg){jb=!0;do for(var f=!1,m=Qg;m!==null;){if(o!==0){var A=m.pendingLanes;if(A===0)var S=0;else{var I=m.suspendedLanes,z=m.pingedLanes;S=(1<<31-mt(42|o)+1)-1,S&=A&~(I&~z),S=S&201326677?S&201326677|1:S?S|2:0}S!==0&&(f=!0,sk(m,S))}else S=Xt,S=Tn(m,m===Cn?S:0),!(S&3)||Je(m,S)||(f=!0,sk(m,S));m=m.next}while(f);jb=!1}}function w8(){Xg=Ob=!1;var o=0;ic!==0&&(j8()&&(o=ic),ic=0);for(var a=pt(),f=null,m=Qg;m!==null;){var A=m.next,S=rk(m,a);S===0?(m.next=null,f===null?Qg=A:f.next=A,A===null&&(Hu=f)):(f=m,(o!==0||S&3)&&(Xg=!0)),m=A}oh(o)}function rk(o,a){for(var f=o.suspendedLanes,m=o.pingedLanes,A=o.expirationTimes,S=o.pendingLanes&-62914561;0<S;){var I=31-mt(S),z=1<<I,X=A[I];X===-1?(!(z&f)||z&m)&&(A[I]=kt(z,a)):X<=a&&(o.expiredLanes|=z),S&=~z}if(a=Cn,f=Xt,f=Tn(o,o===a?f:0),m=o.callbackNode,f===0||o===a&&kn===2||o.cancelPendingCommit!==null)return m!==null&&m!==null&&pn(m),o.callbackNode=null,o.callbackPriority=0;if(!(f&3)||Je(o,f)){if(a=f&-f,a===o.callbackPriority)return a;switch(m!==null&&pn(m),li(f)){case 2:case 8:f=yt;break;case 32:f=lt;break;case 268435456:f=Ct;break;default:f=lt}return m=ik.bind(null,o),f=en(f,m),o.callbackPriority=a,o.callbackNode=f,a}return m!==null&&m!==null&&pn(m),o.callbackPriority=2,o.callbackNode=null,2}function ik(o,a){var f=o.callbackNode;if(Uu()&&o.callbackNode!==f)return null;var m=Xt;return m=Tn(o,o===Cn?m:0),m===0?null:(qC(o,m,a),rk(o,pt()),o.callbackNode!=null&&o.callbackNode===f?ik.bind(null,o):null)}function sk(o,a){if(Uu())return null;qC(o,a,!0)}function E8(o){V8(function(){Xn&6?en(on,o):o()})}function Pb(){return ic===0&&(ic=hr()),ic}function ok(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:yu(""+o)}function ak(o,a){var f=a.ownerDocument.createElement("input");return f.name=a.name,f.value=a.value,o.id&&f.setAttribute("form",o.id),a.parentNode.insertBefore(f,a),o=new FormData(o),f.parentNode.removeChild(f),o}function T8(o,a,f,m,A){if(a==="submit"&&f&&f.stateNode===A){var S=ok((A[tr]||null).action),I=m.submitter;I&&(a=(a=I[tr]||null)?ok(a.formAction):I.getAttribute("formAction"),a!==null&&(S=a,I=null));var z=new gg("action","action",null,m,A);o.push({event:z,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(ic!==0){var X=I?ak(A,I):new FormData(A);UA(f,{pending:!0,data:X,method:A.method,action:S},null,X)}}else typeof S=="function"&&(z.preventDefault(),X=I?ak(A,I):new FormData(A),UA(f,{pending:!0,data:X,method:A.method,action:S},S,X))},currentTarget:A}]})}}for(var Vb=0;Vb<Z2.length;Vb++){var Db=Z2[Vb],C8=Db.toLowerCase(),k8=Db[0].toUpperCase()+Db.slice(1);Qs(C8,"on"+k8)}Qs(K2,"onAnimationEnd"),Qs(W2,"onAnimationIteration"),Qs(Q2,"onAnimationStart"),Qs("dblclick","onDoubleClick"),Qs("focusin","onFocus"),Qs("focusout","onBlur"),Qs(q6,"onTransitionRun"),Qs(G6,"onTransitionStart"),Qs(Y6,"onTransitionCancel"),Qs(X2,"onTransitionEnd"),Ws("onMouseEnter",["mouseout","mouseover"]),Ws("onMouseLeave",["mouseout","mouseover"]),Ws("onPointerEnter",["pointerout","pointerover"]),Ws("onPointerLeave",["pointerout","pointerover"]),zo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),zo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),zo("onBeforeInput",["compositionend","keypress","textInput","paste"]),zo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),zo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),zo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ah="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),M8=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ah));function lk(o,a){a=(a&4)!==0;for(var f=0;f<o.length;f++){var m=o[f],A=m.event;m=m.listeners;e:{var S=void 0;if(a)for(var I=m.length-1;0<=I;I--){var z=m[I],X=z.instance,ie=z.currentTarget;if(z=z.listener,X!==S&&A.isPropagationStopped())break e;S=z,A.currentTarget=ie;try{S(A)}catch(be){Bg(be)}A.currentTarget=null,S=X}else for(I=0;I<m.length;I++){if(z=m[I],X=z.instance,ie=z.currentTarget,z=z.listener,X!==S&&A.isPropagationStopped())break e;S=z,A.currentTarget=ie;try{S(A)}catch(be){Bg(be)}A.currentTarget=null,S=X}}}}function Gt(o,a){var f=a[Ba];f===void 0&&(f=a[Ba]=new Set);var m=o+"__bubble";f.has(m)||(ck(a,o,2,!1),f.add(m))}function Bb(o,a,f){var m=0;a&&(m|=4),ck(f,o,m,a)}var Jg="_reactListening"+Math.random().toString(36).slice(2);function Nb(o){if(!o[Jg]){o[Jg]=!0,Sf.forEach(function(f){f!=="selectionchange"&&(M8.has(f)||Bb(f,!1,o),Bb(f,!0,o))});var a=o.nodeType===9?o:o.ownerDocument;a===null||a[Jg]||(a[Jg]=!0,Bb("selectionchange",!1,a))}}function ck(o,a,f,m){switch(Ok(a)){case 2:var A=tF;break;case 8:A=nF;break;default:A=Xb}f=A.bind(null,a,f,o),A=void 0,!oA||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(A=!0),m?A!==void 0?o.addEventListener(a,f,{capture:!0,passive:A}):o.addEventListener(a,f,!0):A!==void 0?o.addEventListener(a,f,{passive:A}):o.addEventListener(a,f,!1)}function Lb(o,a,f,m,A){var S=m;if(!(a&1)&&!(a&2)&&m!==null)e:for(;;){if(m===null)return;var I=m.tag;if(I===3||I===4){var z=m.stateNode.containerInfo;if(z===A||z.nodeType===8&&z.parentNode===A)break;if(I===4)for(I=m.return;I!==null;){var X=I.tag;if((X===3||X===4)&&(X=I.stateNode.containerInfo,X===A||X.nodeType===8&&X.parentNode===A))return;I=I.return}for(;z!==null;){if(I=Ki(z),I===null)return;if(X=I.tag,X===5||X===6||X===26||X===27){m=S=I;continue e}z=z.parentNode}}m=m.return}w2(function(){var ie=S,be=Au(f),Te=[];e:{var he=J2.get(o);if(he!==void 0){var Ae=gg,Ze=o;switch(o){case"keypress":if(hg(f)===0)break e;case"keydown":case"keyup":Ae=S6;break;case"focusin":Ze="focus",Ae=uA;break;case"focusout":Ze="blur",Ae=uA;break;case"beforeblur":case"afterblur":Ae=uA;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ae=C2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ae=u6;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ae=E6;break;case K2:case W2:case Q2:Ae=h6;break;case X2:Ae=C6;break;case"scroll":case"scrollend":Ae=l6;break;case"wheel":Ae=M6;break;case"copy":case"cut":case"paste":Ae=g6;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ae=M2;break;case"toggle":case"beforetoggle":Ae=I6}var At=(a&4)!==0,ir=!At&&(o==="scroll"||o==="scrollend"),ce=At?he!==null?he+"Capture":null:he;At=[];for(var ne=ie,de;ne!==null;){var we=ne;if(de=we.stateNode,we=we.tag,we!==5&&we!==26&&we!==27||de===null||ce===null||(we=Tf(ne,ce),we!=null&&At.push(lh(ne,we,de))),ir)break;ne=ne.return}0<At.length&&(he=new Ae(he,Ze,null,f,be),Te.push({event:he,listeners:At}))}}if(!(a&7)){e:{if(he=o==="mouseover"||o==="pointerover",Ae=o==="mouseout"||o==="pointerout",he&&f!==Ef&&(Ze=f.relatedTarget||f.fromElement)&&(Ki(Ze)||Ze[mo]))break e;if((Ae||he)&&(he=be.window===be?be:(he=be.ownerDocument)?he.defaultView||he.parentWindow:window,Ae?(Ze=f.relatedTarget||f.toElement,Ae=ie,Ze=Ze?Ki(Ze):null,Ze!==null&&(ir=Q(Ze),At=Ze.tag,Ze!==ir||At!==5&&At!==27&&At!==6)&&(Ze=null)):(Ae=null,Ze=ie),Ae!==Ze)){if(At=C2,we="onMouseLeave",ce="onMouseEnter",ne="mouse",(o==="pointerout"||o==="pointerover")&&(At=M2,we="onPointerLeave",ce="onPointerEnter",ne="pointer"),ir=Ae==null?he:Lo(Ae),de=Ze==null?he:Lo(Ze),he=new At(we,ne+"leave",Ae,f,be),he.target=ir,he.relatedTarget=de,we=null,Ki(be)===ie&&(At=new At(ce,ne+"enter",Ze,f,be),At.target=de,At.relatedTarget=ir,we=At),ir=we,Ae&&Ze)t:{for(At=Ae,ce=Ze,ne=0,de=At;de;de=qu(de))ne++;for(de=0,we=ce;we;we=qu(we))de++;for(;0<ne-de;)At=qu(At),ne--;for(;0<de-ne;)ce=qu(ce),de--;for(;ne--;){if(At===ce||ce!==null&&At===ce.alternate)break t;At=qu(At),ce=qu(ce)}At=null}else At=null;Ae!==null&&uk(Te,he,Ae,At,!1),Ze!==null&&ir!==null&&uk(Te,ir,Ze,At,!0)}}e:{if(he=ie?Lo(ie):window,Ae=he.nodeName&&he.nodeName.toLowerCase(),Ae==="select"||Ae==="input"&&he.type==="file")var Ye=B2;else if(V2(he))if(N2)Ye=z6;else{Ye=L6;var Dt=N6}else Ae=he.nodeName,!Ae||Ae.toLowerCase()!=="input"||he.type!=="checkbox"&&he.type!=="radio"?ie&&xf(ie.elementType)&&(Ye=B2):Ye=F6;if(Ye&&(Ye=Ye(o,ie))){D2(Te,Ye,f,be);break e}Dt&&Dt(o,he,ie),o==="focusout"&&ie&&he.type==="number"&&ie.memoizedProps.value!=null&&wt(he,"number",he.value)}switch(Dt=ie?Lo(ie):window,o){case"focusin":(V2(Dt)||Dt.contentEditable==="true")&&(xu=Dt,mA=ie,Pf=null);break;case"focusout":Pf=mA=xu=null;break;case"mousedown":vA=!0;break;case"contextmenu":case"mouseup":case"dragend":vA=!1,G2(Te,f,be);break;case"selectionchange":if(H6)break;case"keydown":case"keyup":G2(Te,f,be)}var nt;if(fA)e:{switch(o){case"compositionstart":var ct="onCompositionStart";break e;case"compositionend":ct="onCompositionEnd";break e;case"compositionupdate":ct="onCompositionUpdate";break e}ct=void 0}else Su?j2(o,f)&&(ct="onCompositionEnd"):o==="keydown"&&f.keyCode===229&&(ct="onCompositionStart");ct&&(R2&&f.locale!=="ko"&&(Su||ct!=="onCompositionStart"?ct==="onCompositionEnd"&&Su&&(nt=E2()):(La=be,aA="value"in La?La.value:La.textContent,Su=!0)),Dt=Zg(ie,ct),0<Dt.length&&(ct=new k2(ct,o,null,f,be),Te.push({event:ct,listeners:Dt}),nt?ct.data=nt:(nt=P2(f),nt!==null&&(ct.data=nt)))),(nt=j6?P6(o,f):V6(o,f))&&(ct=Zg(ie,"onBeforeInput"),0<ct.length&&(Dt=new k2("onBeforeInput","beforeinput",null,f,be),Te.push({event:Dt,listeners:ct}),Dt.data=nt)),T8(Te,o,ie,f,be)}lk(Te,a)})}function lh(o,a,f){return{instance:o,listener:a,currentTarget:f}}function Zg(o,a){for(var f=a+"Capture",m=[];o!==null;){var A=o,S=A.stateNode;A=A.tag,A!==5&&A!==26&&A!==27||S===null||(A=Tf(o,f),A!=null&&m.unshift(lh(o,A,S)),A=Tf(o,a),A!=null&&m.push(lh(o,A,S))),o=o.return}return m}function qu(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function uk(o,a,f,m,A){for(var S=a._reactName,I=[];f!==null&&f!==m;){var z=f,X=z.alternate,ie=z.stateNode;if(z=z.tag,X!==null&&X===m)break;z!==5&&z!==26&&z!==27||ie===null||(X=ie,A?(ie=Tf(f,S),ie!=null&&I.unshift(lh(f,ie,X))):A||(ie=Tf(f,S),ie!=null&&I.push(lh(f,ie,X)))),f=f.return}I.length!==0&&o.push({event:a,listeners:I})}var R8=/\r\n?/g,I8=/\u0000|\uFFFD/g;function dk(o){return(typeof o=="string"?o:""+o).replace(R8,`
`).replace(I8,"")}function fk(o,a){return a=dk(a),dk(o)===a}function em(){}function yn(o,a,f,m,A,S){switch(f){case"children":typeof m=="string"?a==="body"||a==="textarea"&&m===""||mn(o,m):(typeof m=="number"||typeof m=="bigint")&&a!=="body"&&mn(o,""+m);break;case"className":$(o,"class",m);break;case"tabIndex":$(o,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":$(o,f,m);break;case"style":vu(o,m,S);break;case"data":if(a!=="object"){$(o,"data",m);break}case"src":case"href":if(m===""&&(a!=="a"||f!=="href")){o.removeAttribute(f);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){o.removeAttribute(f);break}m=yu(""+m),o.setAttribute(f,m);break;case"action":case"formAction":if(typeof m=="function"){o.setAttribute(f,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof S=="function"&&(f==="formAction"?(a!=="input"&&yn(o,a,"name",A.name,A,null),yn(o,a,"formEncType",A.formEncType,A,null),yn(o,a,"formMethod",A.formMethod,A,null),yn(o,a,"formTarget",A.formTarget,A,null)):(yn(o,a,"encType",A.encType,A,null),yn(o,a,"method",A.method,A,null),yn(o,a,"target",A.target,A,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){o.removeAttribute(f);break}m=yu(""+m),o.setAttribute(f,m);break;case"onClick":m!=null&&(o.onclick=em);break;case"onScroll":m!=null&&Gt("scroll",o);break;case"onScrollEnd":m!=null&&Gt("scrollend",o);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(f=m.__html,f!=null){if(A.children!=null)throw Error(r(60));o.innerHTML=f}}break;case"multiple":o.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":o.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){o.removeAttribute("xlink:href");break}f=yu(""+m),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?o.setAttribute(f,""+m):o.removeAttribute(f);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?o.setAttribute(f,""):o.removeAttribute(f);break;case"capture":case"download":m===!0?o.setAttribute(f,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?o.setAttribute(f,m):o.removeAttribute(f);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?o.setAttribute(f,m):o.removeAttribute(f);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?o.removeAttribute(f):o.setAttribute(f,m);break;case"popover":Gt("beforetoggle",o),Gt("toggle",o),mu(o,"popover",m);break;case"xlinkActuate":Z(o,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":Z(o,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":Z(o,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":Z(o,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":Z(o,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":Z(o,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":Z(o,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":Z(o,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":Z(o,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":mu(o,"is",m);break;case"innerText":case"textContent":break;default:(!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(f=wf.get(f)||f,mu(o,f,m))}}function Fb(o,a,f,m,A,S){switch(f){case"style":vu(o,m,S);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(f=m.__html,f!=null){if(A.children!=null)throw Error(r(60));o.innerHTML=f}}break;case"children":typeof m=="string"?mn(o,m):(typeof m=="number"||typeof m=="bigint")&&mn(o,""+m);break;case"onScroll":m!=null&&Gt("scroll",o);break;case"onScrollEnd":m!=null&&Gt("scrollend",o);break;case"onClick":m!=null&&(o.onclick=em);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Fo.hasOwnProperty(f))e:{if(f[0]==="o"&&f[1]==="n"&&(A=f.endsWith("Capture"),a=f.slice(2,A?f.length-7:void 0),S=o[tr]||null,S=S!=null?S[f]:null,typeof S=="function"&&o.removeEventListener(a,S,A),typeof m=="function")){typeof S!="function"&&S!==null&&(f in o?o[f]=null:o.hasAttribute(f)&&o.removeAttribute(f)),o.addEventListener(a,m,A);break e}f in o?o[f]=m:m===!0?o.setAttribute(f,""):mu(o,f,m)}}}function Kr(o,a,f){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Gt("error",o),Gt("load",o);var m=!1,A=!1,S;for(S in f)if(f.hasOwnProperty(S)){var I=f[S];if(I!=null)switch(S){case"src":m=!0;break;case"srcSet":A=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:yn(o,a,S,I,f,null)}}A&&yn(o,a,"srcSet",f.srcSet,f,null),m&&yn(o,a,"src",f.src,f,null);return;case"input":Gt("invalid",o);var z=S=I=A=null,X=null,ie=null;for(m in f)if(f.hasOwnProperty(m)){var be=f[m];if(be!=null)switch(m){case"name":A=be;break;case"type":I=be;break;case"checked":X=be;break;case"defaultChecked":ie=be;break;case"value":S=be;break;case"defaultValue":z=be;break;case"children":case"dangerouslySetInnerHTML":if(be!=null)throw Error(r(137,a));break;default:yn(o,a,m,be,f,null)}}We(o,S,z,X,ie,I,A,!1),te(o);return;case"select":Gt("invalid",o),m=I=S=null;for(A in f)if(f.hasOwnProperty(A)&&(z=f[A],z!=null))switch(A){case"value":S=z;break;case"defaultValue":I=z;break;case"multiple":m=z;default:yn(o,a,A,z,f,null)}a=S,f=I,o.multiple=!!m,a!=null?Ft(o,!!m,a,!1):f!=null&&Ft(o,!!m,f,!0);return;case"textarea":Gt("invalid",o),S=A=m=null;for(I in f)if(f.hasOwnProperty(I)&&(z=f[I],z!=null))switch(I){case"value":m=z;break;case"defaultValue":A=z;break;case"children":S=z;break;case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(91));break;default:yn(o,a,I,z,f,null)}Wn(o,m,A,S),te(o);return;case"option":for(X in f)if(f.hasOwnProperty(X)&&(m=f[X],m!=null))switch(X){case"selected":o.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:yn(o,a,X,m,f,null)}return;case"dialog":Gt("cancel",o),Gt("close",o);break;case"iframe":case"object":Gt("load",o);break;case"video":case"audio":for(m=0;m<ah.length;m++)Gt(ah[m],o);break;case"image":Gt("error",o),Gt("load",o);break;case"details":Gt("toggle",o);break;case"embed":case"source":case"link":Gt("error",o),Gt("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ie in f)if(f.hasOwnProperty(ie)&&(m=f[ie],m!=null))switch(ie){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:yn(o,a,ie,m,f,null)}return;default:if(xf(a)){for(be in f)f.hasOwnProperty(be)&&(m=f[be],m!==void 0&&Fb(o,a,be,m,f,void 0));return}}for(z in f)f.hasOwnProperty(z)&&(m=f[z],m!=null&&yn(o,a,z,m,f,null))}function O8(o,a,f,m){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var A=null,S=null,I=null,z=null,X=null,ie=null,be=null;for(Ae in f){var Te=f[Ae];if(f.hasOwnProperty(Ae)&&Te!=null)switch(Ae){case"checked":break;case"value":break;case"defaultValue":X=Te;default:m.hasOwnProperty(Ae)||yn(o,a,Ae,null,m,Te)}}for(var he in m){var Ae=m[he];if(Te=f[he],m.hasOwnProperty(he)&&(Ae!=null||Te!=null))switch(he){case"type":S=Ae;break;case"name":A=Ae;break;case"checked":ie=Ae;break;case"defaultChecked":be=Ae;break;case"value":I=Ae;break;case"defaultValue":z=Ae;break;case"children":case"dangerouslySetInnerHTML":if(Ae!=null)throw Error(r(137,a));break;default:Ae!==Te&&yn(o,a,he,Ae,m,Te)}}Pe(o,I,z,X,ie,be,S,A);return;case"select":Ae=I=z=he=null;for(S in f)if(X=f[S],f.hasOwnProperty(S)&&X!=null)switch(S){case"value":break;case"multiple":Ae=X;default:m.hasOwnProperty(S)||yn(o,a,S,null,m,X)}for(A in m)if(S=m[A],X=f[A],m.hasOwnProperty(A)&&(S!=null||X!=null))switch(A){case"value":he=S;break;case"defaultValue":z=S;break;case"multiple":I=S;default:S!==X&&yn(o,a,A,S,m,X)}a=z,f=I,m=Ae,he!=null?Ft(o,!!f,he,!1):!!m!=!!f&&(a!=null?Ft(o,!!f,a,!0):Ft(o,!!f,f?[]:"",!1));return;case"textarea":Ae=he=null;for(z in f)if(A=f[z],f.hasOwnProperty(z)&&A!=null&&!m.hasOwnProperty(z))switch(z){case"value":break;case"children":break;default:yn(o,a,z,null,m,A)}for(I in m)if(A=m[I],S=f[I],m.hasOwnProperty(I)&&(A!=null||S!=null))switch(I){case"value":he=A;break;case"defaultValue":Ae=A;break;case"children":break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(r(91));break;default:A!==S&&yn(o,a,I,A,m,S)}tn(o,he,Ae);return;case"option":for(var Ze in f)if(he=f[Ze],f.hasOwnProperty(Ze)&&he!=null&&!m.hasOwnProperty(Ze))switch(Ze){case"selected":o.selected=!1;break;default:yn(o,a,Ze,null,m,he)}for(X in m)if(he=m[X],Ae=f[X],m.hasOwnProperty(X)&&he!==Ae&&(he!=null||Ae!=null))switch(X){case"selected":o.selected=he&&typeof he!="function"&&typeof he!="symbol";break;default:yn(o,a,X,he,m,Ae)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var At in f)he=f[At],f.hasOwnProperty(At)&&he!=null&&!m.hasOwnProperty(At)&&yn(o,a,At,null,m,he);for(ie in m)if(he=m[ie],Ae=f[ie],m.hasOwnProperty(ie)&&he!==Ae&&(he!=null||Ae!=null))switch(ie){case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(r(137,a));break;default:yn(o,a,ie,he,m,Ae)}return;default:if(xf(a)){for(var ir in f)he=f[ir],f.hasOwnProperty(ir)&&he!==void 0&&!m.hasOwnProperty(ir)&&Fb(o,a,ir,void 0,m,he);for(be in m)he=m[be],Ae=f[be],!m.hasOwnProperty(be)||he===Ae||he===void 0&&Ae===void 0||Fb(o,a,be,he,m,Ae);return}}for(var ce in f)he=f[ce],f.hasOwnProperty(ce)&&he!=null&&!m.hasOwnProperty(ce)&&yn(o,a,ce,null,m,he);for(Te in m)he=m[Te],Ae=f[Te],!m.hasOwnProperty(Te)||he===Ae||he==null&&Ae==null||yn(o,a,Te,he,m,Ae)}var zb=null,$b=null;function tm(o){return o.nodeType===9?o:o.ownerDocument}function hk(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function pk(o,a){if(o===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&a==="foreignObject"?0:o}function Ub(o,a){return o==="textarea"||o==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Hb=null;function j8(){var o=window.event;return o&&o.type==="popstate"?o===Hb?!1:(Hb=o,!0):(Hb=null,!1)}var gk=typeof setTimeout=="function"?setTimeout:void 0,P8=typeof clearTimeout=="function"?clearTimeout:void 0,mk=typeof Promise=="function"?Promise:void 0,V8=typeof queueMicrotask=="function"?queueMicrotask:typeof mk<"u"?function(o){return mk.resolve(null).then(o).catch(D8)}:gk;function D8(o){setTimeout(function(){throw o})}function qb(o,a){var f=a,m=0;do{var A=f.nextSibling;if(o.removeChild(f),A&&A.nodeType===8)if(f=A.data,f==="/$"){if(m===0){o.removeChild(A),mh(a);return}m--}else f!=="$"&&f!=="$?"&&f!=="$!"||m++;f=A}while(f);mh(a)}function Gb(o){var a=o.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var f=a;switch(a=a.nextSibling,f.nodeName){case"HTML":case"HEAD":case"BODY":Gb(f),_i(f);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(f.rel.toLowerCase()==="stylesheet")continue}o.removeChild(f)}}function B8(o,a,f,m){for(;o.nodeType===1;){var A=f;if(o.nodeName.toLowerCase()!==a.toLowerCase()){if(!m&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(m){if(!o[Qt])switch(a){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(S=o.getAttribute("rel"),S==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(S!==A.rel||o.getAttribute("href")!==(A.href==null?null:A.href)||o.getAttribute("crossorigin")!==(A.crossOrigin==null?null:A.crossOrigin)||o.getAttribute("title")!==(A.title==null?null:A.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(S=o.getAttribute("src"),(S!==(A.src==null?null:A.src)||o.getAttribute("type")!==(A.type==null?null:A.type)||o.getAttribute("crossorigin")!==(A.crossOrigin==null?null:A.crossOrigin))&&S&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(a==="input"&&o.type==="hidden"){var S=A.name==null?null:""+A.name;if(A.type==="hidden"&&o.getAttribute("name")===S)return o}else return o;if(o=Zs(o.nextSibling),o===null)break}return null}function N8(o,a,f){if(a==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!f||(o=Zs(o.nextSibling),o===null))return null;return o}function Zs(o){for(;o!=null;o=o.nextSibling){var a=o.nodeType;if(a===1||a===3)break;if(a===8){if(a=o.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return o}function vk(o){o=o.previousSibling;for(var a=0;o;){if(o.nodeType===8){var f=o.data;if(f==="$"||f==="$!"||f==="$?"){if(a===0)return o;a--}else f==="/$"&&a++}o=o.previousSibling}return null}function yk(o,a,f){switch(a=tm(f),o){case"html":if(o=a.documentElement,!o)throw Error(r(452));return o;case"head":if(o=a.head,!o)throw Error(r(453));return o;case"body":if(o=a.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}var Ts=new Map,Ak=new Set;function nm(o){return typeof o.getRootNode=="function"?o.getRootNode():o.ownerDocument}var na=F.d;F.d={f:L8,r:F8,D:z8,C:$8,L:U8,m:H8,X:G8,S:q8,M:Y8};function L8(){var o=na.f(),a=Kg();return o||a}function F8(o){var a=Pi(o);a!==null&&a.tag===5&&a.type==="form"?GT(a):na.r(o)}var Gu=typeof document>"u"?null:document;function bk(o,a,f){var m=Gu;if(m&&typeof a=="string"&&a){var A=Ce(a);A='link[rel="'+o+'"][href="'+A+'"]',typeof f=="string"&&(A+='[crossorigin="'+f+'"]'),Ak.has(A)||(Ak.add(A),o={rel:o,crossOrigin:f,href:a},m.querySelector(A)===null&&(a=m.createElement("link"),Kr(a,"link",o),Fn(a),m.head.appendChild(a)))}}function z8(o){na.D(o),bk("dns-prefetch",o,null)}function $8(o,a){na.C(o,a),bk("preconnect",o,a)}function U8(o,a,f){na.L(o,a,f);var m=Gu;if(m&&o&&a){var A='link[rel="preload"][as="'+Ce(a)+'"]';a==="image"&&f&&f.imageSrcSet?(A+='[imagesrcset="'+Ce(f.imageSrcSet)+'"]',typeof f.imageSizes=="string"&&(A+='[imagesizes="'+Ce(f.imageSizes)+'"]')):A+='[href="'+Ce(o)+'"]';var S=A;switch(a){case"style":S=Yu(o);break;case"script":S=Ku(o)}Ts.has(S)||(o=C({rel:"preload",href:a==="image"&&f&&f.imageSrcSet?void 0:o,as:a},f),Ts.set(S,o),m.querySelector(A)!==null||a==="style"&&m.querySelector(ch(S))||a==="script"&&m.querySelector(uh(S))||(a=m.createElement("link"),Kr(a,"link",o),Fn(a),m.head.appendChild(a)))}}function H8(o,a){na.m(o,a);var f=Gu;if(f&&o){var m=a&&typeof a.as=="string"?a.as:"script",A='link[rel="modulepreload"][as="'+Ce(m)+'"][href="'+Ce(o)+'"]',S=A;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":S=Ku(o)}if(!Ts.has(S)&&(o=C({rel:"modulepreload",href:o},a),Ts.set(S,o),f.querySelector(A)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(f.querySelector(uh(S)))return}m=f.createElement("link"),Kr(m,"link",o),Fn(m),f.head.appendChild(m)}}}function q8(o,a,f){na.S(o,a,f);var m=Gu;if(m&&o){var A=Wi(m).hoistableStyles,S=Yu(o);a=a||"default";var I=A.get(S);if(!I){var z={loading:0,preload:null};if(I=m.querySelector(ch(S)))z.loading=5;else{o=C({rel:"stylesheet",href:o,"data-precedence":a},f),(f=Ts.get(S))&&Yb(o,f);var X=I=m.createElement("link");Fn(X),Kr(X,"link",o),X._p=new Promise(function(ie,be){X.onload=ie,X.onerror=be}),X.addEventListener("load",function(){z.loading|=1}),X.addEventListener("error",function(){z.loading|=2}),z.loading|=4,rm(I,a,m)}I={type:"stylesheet",instance:I,count:1,state:z},A.set(S,I)}}}function G8(o,a){na.X(o,a);var f=Gu;if(f&&o){var m=Wi(f).hoistableScripts,A=Ku(o),S=m.get(A);S||(S=f.querySelector(uh(A)),S||(o=C({src:o,async:!0},a),(a=Ts.get(A))&&Kb(o,a),S=f.createElement("script"),Fn(S),Kr(S,"link",o),f.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},m.set(A,S))}}function Y8(o,a){na.M(o,a);var f=Gu;if(f&&o){var m=Wi(f).hoistableScripts,A=Ku(o),S=m.get(A);S||(S=f.querySelector(uh(A)),S||(o=C({src:o,async:!0,type:"module"},a),(a=Ts.get(A))&&Kb(o,a),S=f.createElement("script"),Fn(S),Kr(S,"link",o),f.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},m.set(A,S))}}function _k(o,a,f,m){var A=(A=$e.current)?nm(A):null;if(!A)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof f.precedence=="string"&&typeof f.href=="string"?(a=Yu(f.href),f=Wi(A).hoistableStyles,m=f.get(a),m||(m={type:"style",instance:null,count:0,state:null},f.set(a,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(f.rel==="stylesheet"&&typeof f.href=="string"&&typeof f.precedence=="string"){o=Yu(f.href);var S=Wi(A).hoistableStyles,I=S.get(o);if(I||(A=A.ownerDocument||A,I={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},S.set(o,I),(S=A.querySelector(ch(o)))&&!S._p&&(I.instance=S,I.state.loading=5),Ts.has(o)||(f={rel:"preload",as:"style",href:f.href,crossOrigin:f.crossOrigin,integrity:f.integrity,media:f.media,hrefLang:f.hrefLang,referrerPolicy:f.referrerPolicy},Ts.set(o,f),S||K8(A,o,f,I.state))),a&&m===null)throw Error(r(528,""));return I}if(a&&m!==null)throw Error(r(529,""));return null;case"script":return a=f.async,f=f.src,typeof f=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Ku(f),f=Wi(A).hoistableScripts,m=f.get(a),m||(m={type:"script",instance:null,count:0,state:null},f.set(a,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function Yu(o){return'href="'+Ce(o)+'"'}function ch(o){return'link[rel="stylesheet"]['+o+"]"}function Sk(o){return C({},o,{"data-precedence":o.precedence,precedence:null})}function K8(o,a,f,m){o.querySelector('link[rel="preload"][as="style"]['+a+"]")?m.loading=1:(a=o.createElement("link"),m.preload=a,a.addEventListener("load",function(){return m.loading|=1}),a.addEventListener("error",function(){return m.loading|=2}),Kr(a,"link",f),Fn(a),o.head.appendChild(a))}function Ku(o){return'[src="'+Ce(o)+'"]'}function uh(o){return"script[async]"+o}function xk(o,a,f){if(a.count++,a.instance===null)switch(a.type){case"style":var m=o.querySelector('style[data-href~="'+Ce(f.href)+'"]');if(m)return a.instance=m,Fn(m),m;var A=C({},f,{"data-href":f.href,"data-precedence":f.precedence,href:null,precedence:null});return m=(o.ownerDocument||o).createElement("style"),Fn(m),Kr(m,"style",A),rm(m,f.precedence,o),a.instance=m;case"stylesheet":A=Yu(f.href);var S=o.querySelector(ch(A));if(S)return a.state.loading|=4,a.instance=S,Fn(S),S;m=Sk(f),(A=Ts.get(A))&&Yb(m,A),S=(o.ownerDocument||o).createElement("link"),Fn(S);var I=S;return I._p=new Promise(function(z,X){I.onload=z,I.onerror=X}),Kr(S,"link",m),a.state.loading|=4,rm(S,f.precedence,o),a.instance=S;case"script":return S=Ku(f.src),(A=o.querySelector(uh(S)))?(a.instance=A,Fn(A),A):(m=f,(A=Ts.get(S))&&(m=C({},f),Kb(m,A)),o=o.ownerDocument||o,A=o.createElement("script"),Fn(A),Kr(A,"link",m),o.head.appendChild(A),a.instance=A);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&!(a.state.loading&4)&&(m=a.instance,a.state.loading|=4,rm(m,f.precedence,o));return a.instance}function rm(o,a,f){for(var m=f.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),A=m.length?m[m.length-1]:null,S=A,I=0;I<m.length;I++){var z=m[I];if(z.dataset.precedence===a)S=z;else if(S!==A)break}S?S.parentNode.insertBefore(o,S.nextSibling):(a=f.nodeType===9?f.head:f,a.insertBefore(o,a.firstChild))}function Yb(o,a){o.crossOrigin==null&&(o.crossOrigin=a.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=a.referrerPolicy),o.title==null&&(o.title=a.title)}function Kb(o,a){o.crossOrigin==null&&(o.crossOrigin=a.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=a.referrerPolicy),o.integrity==null&&(o.integrity=a.integrity)}var im=null;function wk(o,a,f){if(im===null){var m=new Map,A=im=new Map;A.set(f,m)}else A=im,m=A.get(f),m||(m=new Map,A.set(f,m));if(m.has(o))return m;for(m.set(o,null),f=f.getElementsByTagName(o),A=0;A<f.length;A++){var S=f[A];if(!(S[Qt]||S[St]||o==="link"&&S.getAttribute("rel")==="stylesheet")&&S.namespaceURI!=="http://www.w3.org/2000/svg"){var I=S.getAttribute(a)||"";I=o+I;var z=m.get(I);z?z.push(S):m.set(I,[S])}}return m}function Ek(o,a,f){o=o.ownerDocument||o,o.head.insertBefore(f,a==="title"?o.querySelector("head > title"):null)}function W8(o,a,f){if(f===1||a.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return o=a.disabled,typeof a.precedence=="string"&&o==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Tk(o){return!(o.type==="stylesheet"&&!(o.state.loading&3))}var dh=null;function Q8(){}function X8(o,a,f){if(dh===null)throw Error(r(475));var m=dh;if(a.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&!(a.state.loading&4)){if(a.instance===null){var A=Yu(f.href),S=o.querySelector(ch(A));if(S){o=S._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(m.count++,m=sm.bind(m),o.then(m,m)),a.state.loading|=4,a.instance=S,Fn(S);return}S=o.ownerDocument||o,f=Sk(f),(A=Ts.get(A))&&Yb(f,A),S=S.createElement("link"),Fn(S);var I=S;I._p=new Promise(function(z,X){I.onload=z,I.onerror=X}),Kr(S,"link",f),a.instance=S}m.stylesheets===null&&(m.stylesheets=new Map),m.stylesheets.set(a,o),(o=a.state.preload)&&!(a.state.loading&3)&&(m.count++,a=sm.bind(m),o.addEventListener("load",a),o.addEventListener("error",a))}}function J8(){if(dh===null)throw Error(r(475));var o=dh;return o.stylesheets&&o.count===0&&Wb(o,o.stylesheets),0<o.count?function(a){var f=setTimeout(function(){if(o.stylesheets&&Wb(o,o.stylesheets),o.unsuspend){var m=o.unsuspend;o.unsuspend=null,m()}},6e4);return o.unsuspend=a,function(){o.unsuspend=null,clearTimeout(f)}}:null}function sm(){if(this.count--,this.count===0){if(this.stylesheets)Wb(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var om=null;function Wb(o,a){o.stylesheets=null,o.unsuspend!==null&&(o.count++,om=new Map,a.forEach(Z8,o),om=null,sm.call(o))}function Z8(o,a){if(!(a.state.loading&4)){var f=om.get(o);if(f)var m=f.get(null);else{f=new Map,om.set(o,f);for(var A=o.querySelectorAll("link[data-precedence],style[data-precedence]"),S=0;S<A.length;S++){var I=A[S];(I.nodeName==="LINK"||I.getAttribute("media")!=="not all")&&(f.set(I.dataset.precedence,I),m=I)}m&&f.set(null,m)}A=a.instance,I=A.getAttribute("data-precedence"),S=f.get(I)||m,S===m&&f.set(null,A),f.set(I,A),this.count++,m=sm.bind(this),A.addEventListener("load",m),A.addEventListener("error",m),S?S.parentNode.insertBefore(A,S.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(A,o.firstChild)),a.state.loading|=4}}var fh={$$typeof:y,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function eF(o,a,f,m,A,S,I,z){this.tag=1,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Le(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Le(0),this.hiddenUpdates=Le(null),this.identifierPrefix=m,this.onUncaughtError=A,this.onCaughtError=S,this.onRecoverableError=I,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=z,this.incompleteTransitions=new Map}function Ck(o,a,f,m,A,S,I,z,X,ie,be,Te){return o=new eF(o,a,f,I,z,X,ie,Te),a=1,S===!0&&(a|=24),S=ws(3,null,null,a),o.current=S,S.stateNode=o,a=CA(),a.refCount++,o.pooledCache=a,a.refCount++,S.memoizedState={element:m,isDehydrated:f,cache:a},ab(S),o}function kk(o){return o?(o=Tu,o):Tu}function Mk(o,a,f,m,A,S){A=kk(A),m.context===null?m.context=A:m.pendingContext=A,m=Ya(a),m.payload={element:f},S=S===void 0?null:S,S!==null&&(m.callback=S),f=Ka(o,m,a),f!==null&&(xi(f,o,a),Wf(f,o,a))}function Rk(o,a){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var f=o.retryLane;o.retryLane=f!==0&&f<a?f:a}}function Qb(o,a){Rk(o,a),(o=o.alternate)&&Rk(o,a)}function Ik(o){if(o.tag===13){var a=Fa(o,67108864);a!==null&&xi(a,o,67108864),Qb(o,67108864)}}var am=!0;function tF(o,a,f,m){var A=P.T;P.T=null;var S=F.p;try{F.p=2,Xb(o,a,f,m)}finally{F.p=S,P.T=A}}function nF(o,a,f,m){var A=P.T;P.T=null;var S=F.p;try{F.p=8,Xb(o,a,f,m)}finally{F.p=S,P.T=A}}function Xb(o,a,f,m){if(am){var A=Jb(m);if(A===null)Lb(o,a,m,lm,f),jk(o,m);else if(iF(A,o,a,f,m))m.stopPropagation();else if(jk(o,m),a&4&&-1<rF.indexOf(o)){for(;A!==null;){var S=Pi(A);if(S!==null)switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var I=Lt(S.pendingLanes);if(I!==0){var z=S;for(z.pendingLanes|=2,z.entangledLanes|=2;I;){var X=1<<31-mt(I);z.entanglements[1]|=X,I&=~X}_o(S),!(Xn&6)&&(qg=pt()+500,oh(0))}}break;case 13:z=Fa(S,2),z!==null&&xi(z,S,2),Kg(),Qb(S,2)}if(S=Jb(m),S===null&&Lb(o,a,m,lm,f),S===A)break;A=S}A!==null&&m.stopPropagation()}else Lb(o,a,m,null,f)}}function Jb(o){return o=Au(o),Zb(o)}var lm=null;function Zb(o){if(lm=null,o=Ki(o),o!==null){var a=Q(o);if(a===null)o=null;else{var f=a.tag;if(f===13){if(o=J(a),o!==null)return o;o=null}else if(f===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;o=null}else a!==o&&(o=null)}}return lm=o,null}function Ok(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(un()){case on:return 2;case yt:return 8;case lt:case rt:return 32;case Ct:return 268435456;default:return 32}default:return 32}}var e1=!1,tl=null,nl=null,rl=null,hh=new Map,ph=new Map,il=[],rF="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function jk(o,a){switch(o){case"focusin":case"focusout":tl=null;break;case"dragenter":case"dragleave":nl=null;break;case"mouseover":case"mouseout":rl=null;break;case"pointerover":case"pointerout":hh.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":ph.delete(a.pointerId)}}function gh(o,a,f,m,A,S){return o===null||o.nativeEvent!==S?(o={blockedOn:a,domEventName:f,eventSystemFlags:m,nativeEvent:S,targetContainers:[A]},a!==null&&(a=Pi(a),a!==null&&Ik(a)),o):(o.eventSystemFlags|=m,a=o.targetContainers,A!==null&&a.indexOf(A)===-1&&a.push(A),o)}function iF(o,a,f,m,A){switch(a){case"focusin":return tl=gh(tl,o,a,f,m,A),!0;case"dragenter":return nl=gh(nl,o,a,f,m,A),!0;case"mouseover":return rl=gh(rl,o,a,f,m,A),!0;case"pointerover":var S=A.pointerId;return hh.set(S,gh(hh.get(S)||null,o,a,f,m,A)),!0;case"gotpointercapture":return S=A.pointerId,ph.set(S,gh(ph.get(S)||null,o,a,f,m,A)),!0}return!1}function Pk(o){var a=Ki(o.target);if(a!==null){var f=Q(a);if(f!==null){if(a=f.tag,a===13){if(a=J(f),a!==null){o.blockedOn=a,Mr(o.priority,function(){if(f.tag===13){var m=ts(),A=Fa(f,m);A!==null&&xi(A,f,m),Qb(f,m)}});return}}else if(a===3&&f.stateNode.current.memoizedState.isDehydrated){o.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}o.blockedOn=null}function cm(o){if(o.blockedOn!==null)return!1;for(var a=o.targetContainers;0<a.length;){var f=Jb(o.nativeEvent);if(f===null){f=o.nativeEvent;var m=new f.constructor(f.type,f);Ef=m,f.target.dispatchEvent(m),Ef=null}else return a=Pi(f),a!==null&&Ik(a),o.blockedOn=f,!1;a.shift()}return!0}function Vk(o,a,f){cm(o)&&f.delete(a)}function sF(){e1=!1,tl!==null&&cm(tl)&&(tl=null),nl!==null&&cm(nl)&&(nl=null),rl!==null&&cm(rl)&&(rl=null),hh.forEach(Vk),ph.forEach(Vk)}function um(o,a){o.blockedOn===a&&(o.blockedOn=null,e1||(e1=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,sF)))}var dm=null;function Dk(o){dm!==o&&(dm=o,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){dm===o&&(dm=null);for(var a=0;a<o.length;a+=3){var f=o[a],m=o[a+1],A=o[a+2];if(typeof m!="function"){if(Zb(m||f)===null)continue;break}var S=Pi(f);S!==null&&(o.splice(a,3),a-=3,UA(S,{pending:!0,data:A,method:f.method,action:m},m,A))}}))}function mh(o){function a(X){return um(X,o)}tl!==null&&um(tl,o),nl!==null&&um(nl,o),rl!==null&&um(rl,o),hh.forEach(a),ph.forEach(a);for(var f=0;f<il.length;f++){var m=il[f];m.blockedOn===o&&(m.blockedOn=null)}for(;0<il.length&&(f=il[0],f.blockedOn===null);)Pk(f),f.blockedOn===null&&il.shift();if(f=(o.ownerDocument||o).$$reactFormReplay,f!=null)for(m=0;m<f.length;m+=3){var A=f[m],S=f[m+1],I=A[tr]||null;if(typeof S=="function")I||Dk(f);else if(I){var z=null;if(S&&S.hasAttribute("formAction")){if(A=S,I=S[tr]||null)z=I.formAction;else if(Zb(A)!==null)continue}else z=I.action;typeof z=="function"?f[m+1]=z:(f.splice(m,3),m-=3),Dk(f)}}}function t1(o){this._internalRoot=o}fm.prototype.render=t1.prototype.render=function(o){var a=this._internalRoot;if(a===null)throw Error(r(409));var f=a.current,m=ts();Mk(f,m,o,a,null,null)},fm.prototype.unmount=t1.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var a=o.containerInfo;o.tag===0&&Uu(),Mk(o.current,2,null,o,null,null),Kg(),a[mo]=null}};function fm(o){this._internalRoot=o}fm.prototype.unstable_scheduleHydration=function(o){if(o){var a=bi();o={blockedOn:null,target:o,priority:a};for(var f=0;f<il.length&&a!==0&&a<il[f].priority;f++);il.splice(f,0,o),f===0&&Pk(o)}};var Bk=t.version;if(Bk!=="19.0.0")throw Error(r(527,Bk,"19.0.0"));F.findDOMNode=function(o){var a=o._reactInternals;if(a===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=G(a),o=o!==null?ee(o):null,o=o===null?null:o.stateNode,o};var oF={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:P,findFiberByHostInstance:Ki,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hm.isDisabled&&hm.supportsFiber)try{_t=hm.inject(oF),Nt=hm}catch{}}return Nh.createRoot=function(o,a){if(!i(o))throw Error(r(299));var f=!1,m="",A=eC,S=tC,I=nC,z=null;return a!=null&&(a.unstable_strictMode===!0&&(f=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onUncaughtError!==void 0&&(A=a.onUncaughtError),a.onCaughtError!==void 0&&(S=a.onCaughtError),a.onRecoverableError!==void 0&&(I=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(z=a.unstable_transitionCallbacks)),a=Ck(o,1,!1,null,null,f,m,A,S,I,z,null),o[mo]=a.current,Nb(o.nodeType===8?o.parentNode:o),new t1(a)},Nh.hydrateRoot=function(o,a,f){if(!i(o))throw Error(r(299));var m=!1,A="",S=eC,I=tC,z=nC,X=null,ie=null;return f!=null&&(f.unstable_strictMode===!0&&(m=!0),f.identifierPrefix!==void 0&&(A=f.identifierPrefix),f.onUncaughtError!==void 0&&(S=f.onUncaughtError),f.onCaughtError!==void 0&&(I=f.onCaughtError),f.onRecoverableError!==void 0&&(z=f.onRecoverableError),f.unstable_transitionCallbacks!==void 0&&(X=f.unstable_transitionCallbacks),f.formState!==void 0&&(ie=f.formState)),a=Ck(o,1,!0,a,f??null,m,A,S,I,z,X,ie),a.context=kk(null),f=a.current,m=ts(),A=Ya(m),A.callback=null,Ka(f,A,m),a.current.lanes=m,it(a,m),_o(a),o[mo]=a.current,Nb(o),new fm(a)},Nh.version="19.0.0",Nh}var kj;function I1e(){if(kj)return z_.exports;kj=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),z_.exports=R1e(),z_.exports}var O1e=I1e();dY({integrations:[aY({enableInp:!0}),hH({filterKeys:["allkaraoke-party-sentry-key"],behaviour:"apply-tag-if-contains-third-party-frames"})],dsn:"https://66c6e940d24b4096a277f350571921bb@o366978.ingest.sentry.io/6174734",ignoreErrors:C1e,tracesSampleRate:pi()?0:.01,environment:pi()?"e2e":"production",tunnel:"/stry-tunnel"});pi()||er.init("phc_bw7XLoONmtGVezmMKTvcwk3lj37jzxTfisqzjlJ0Jik",{api_host:"/ph-data",loaded:e=>{let t=st.local.getItem("posthog-user-id");t||(t=Sv(),st.local.setItem("posthog-user-id",t)),e.identify(t);let n=st.local.getItem("posthog-user-name");if(!n){const r=[...new Set(Xh.artists.flatMap(i=>J4(i).split("-")))].filter(i=>i.length<=10);n=new Array(uo(3,5)).fill(0).map(()=>r[uo(0,r.length-1)]).join("-"),st.local.setItem("posthog-user-name",n),e.alias(n,t)}l9({id:t})}});const j1e=TD({key:"ec",speedy:!lL}),P1e=document.getElementById("root"),V1e=O1e.createRoot(P1e);V1e.render(g.jsxs(_J,{value:j1e,children:[g.jsx(T1e,{}),g.jsx(rX,{position:"bottom-left",theme:"colored",limit:3})]}));export{iL as $,Oi as A,vi as B,_J as C,tg as D,yoe as E,FB as F,Qe as G,wv as H,VE as I,xa as J,yi as K,Wt as L,Bn as M,Ky as N,qt as O,It as P,Gs as Q,lv as R,fs as S,Pa as T,Ai as U,qv as V,Fy as W,kE as X,ME as Y,Rp as Z,zB as _,Gre as a,Epe as a$,DE as a0,Ov as a1,UB as a2,PE as a3,Fre as a4,Mv as a5,H1e as a6,Yc as a7,BE as a8,Nre as a9,_f as aA,Pc as aB,D0 as aC,Vhe as aD,Dhe as aE,HK as aF,El as aG,xp as aH,Hv as aI,Rhe as aJ,Che as aK,Ehe as aL,Ohe as aM,ki as aN,ff as aO,kAe as aP,ja as aQ,ji as aR,Nl as aS,Iy as aT,Tre as aU,qy as aV,qpe as aW,vf as aX,qse as aY,tL as aZ,Jhe as a_,Kc as aa,Bre as ab,_E as ac,tpe as ad,yO as ae,ppe as af,U1e as ag,ooe as ah,Pre as ai,epe as aj,oo as ak,vd as al,bE as am,KI as an,K as ao,gO as ap,e2 as aq,V5 as ar,To as as,fn as at,Sx as au,Y1e as av,$re as aw,yB as ax,at as ay,wX as az,Hre as b,q1 as b0,LE as b1,_pe as b2,__ as b3,Ipe as b4,HI as b5,cu as b6,lu as b7,Cde as b8,dce as b9,Upe as ba,Lae as bb,Nae as bc,oL as bd,Fv as be,lo as bf,gs as bg,d2 as bh,K1e as bi,Hpe as bj,er as bk,vhe as bl,eQ as c,TD as d,LX as e,$ie as f,$w as g,Wc as h,EB as i,g as j,Lie as k,Bt as l,qre as m,ese as n,Rv as o,wB as p,xx as q,x as r,st as s,TE as t,Cl as u,Ra as v,$1e as w,wE as x,Hi as y,z1e as z};
//# sourceMappingURL=index-BGCt1CsH.js.map
