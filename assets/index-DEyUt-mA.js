function mM(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var oa=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function ds(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var vM={exports:{}},Zm={},yM={exports:{}},at={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dh=Symbol.for("react.element"),PD=Symbol.for("react.portal"),MD=Symbol.for("react.fragment"),jD=Symbol.for("react.strict_mode"),OD=Symbol.for("react.profiler"),VD=Symbol.for("react.provider"),LD=Symbol.for("react.context"),ND=Symbol.for("react.forward_ref"),$D=Symbol.for("react.suspense"),DD=Symbol.for("react.memo"),BD=Symbol.for("react.lazy"),qE=Symbol.iterator;function FD(e){return e===null||typeof e!="object"?null:(e=qE&&e[qE]||e["@@iterator"],typeof e=="function"?e:null)}var AM={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},bM=Object.assign,_M={};function Ru(e,t,n){this.props=e,this.context=t,this.refs=_M,this.updater=n||AM}Ru.prototype.isReactComponent={};Ru.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ru.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function xM(){}xM.prototype=Ru.prototype;function H_(e,t,n){this.props=e,this.context=t,this.refs=_M,this.updater=n||AM}var G_=H_.prototype=new xM;G_.constructor=H_;bM(G_,Ru.prototype);G_.isPureReactComponent=!0;var WE=Array.isArray,SM=Object.prototype.hasOwnProperty,q_={current:null},wM={key:!0,ref:!0,__self:!0,__source:!0};function EM(e,t,n){var r,i={},o=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)SM.call(t,r)&&!wM.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:dh,type:e,key:o,ref:s,props:i,_owner:q_.current}}function zD(e,t){return{$$typeof:dh,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function W_(e){return typeof e=="object"&&e!==null&&e.$$typeof===dh}function UD(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var KE=/\/+/g;function ey(e,t){return typeof e=="object"&&e!==null&&e.key!=null?UD(""+e.key):t.toString(36)}function Qp(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case dh:case PD:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+ey(s,0):r,WE(i)?(n="",e!=null&&(n=e.replace(KE,"$&/")+"/"),Qp(i,t,n,"",function(c){return c})):i!=null&&(W_(i)&&(i=zD(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(KE,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",WE(e))for(var a=0;a<e.length;a++){o=e[a];var l=r+ey(o,a);s+=Qp(o,t,n,l,i)}else if(l=FD(e),typeof l=="function")for(e=l.call(e),a=0;!(o=e.next()).done;)o=o.value,l=r+ey(o,a++),s+=Qp(o,t,n,l,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Wh(e,t,n){if(e==null)return e;var r=[],i=0;return Qp(e,r,"","",function(o){return t.call(n,o,i++)}),r}function HD(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ur={current:null},Jp={transition:null},GD={ReactCurrentDispatcher:Ur,ReactCurrentBatchConfig:Jp,ReactCurrentOwner:q_};at.Children={map:Wh,forEach:function(e,t,n){Wh(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Wh(e,function(){t++}),t},toArray:function(e){return Wh(e,function(t){return t})||[]},only:function(e){if(!W_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};at.Component=Ru;at.Fragment=MD;at.Profiler=OD;at.PureComponent=H_;at.StrictMode=jD;at.Suspense=$D;at.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=GD;at.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=bM({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=q_.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)SM.call(t,l)&&!wM.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:dh,type:e.type,key:i,ref:o,props:r,_owner:s}};at.createContext=function(e){return e={$$typeof:LD,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:VD,_context:e},e.Consumer=e};at.createElement=EM;at.createFactory=function(e){var t=EM.bind(null,e);return t.type=e,t};at.createRef=function(){return{current:null}};at.forwardRef=function(e){return{$$typeof:ND,render:e}};at.isValidElement=W_;at.lazy=function(e){return{$$typeof:BD,_payload:{_status:-1,_result:e},_init:HD}};at.memo=function(e,t){return{$$typeof:DD,type:e,compare:t===void 0?null:t}};at.startTransition=function(e){var t=Jp.transition;Jp.transition={};try{e()}finally{Jp.transition=t}};at.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};at.useCallback=function(e,t){return Ur.current.useCallback(e,t)};at.useContext=function(e){return Ur.current.useContext(e)};at.useDebugValue=function(){};at.useDeferredValue=function(e){return Ur.current.useDeferredValue(e)};at.useEffect=function(e,t){return Ur.current.useEffect(e,t)};at.useId=function(){return Ur.current.useId()};at.useImperativeHandle=function(e,t,n){return Ur.current.useImperativeHandle(e,t,n)};at.useInsertionEffect=function(e,t){return Ur.current.useInsertionEffect(e,t)};at.useLayoutEffect=function(e,t){return Ur.current.useLayoutEffect(e,t)};at.useMemo=function(e,t){return Ur.current.useMemo(e,t)};at.useReducer=function(e,t,n){return Ur.current.useReducer(e,t,n)};at.useRef=function(e){return Ur.current.useRef(e)};at.useState=function(e){return Ur.current.useState(e)};at.useSyncExternalStore=function(e,t,n){return Ur.current.useSyncExternalStore(e,t,n)};at.useTransition=function(){return Ur.current.useTransition()};at.version="18.2.0";yM.exports=at;var v=yM.exports;const ke=vr(v),Pg=mM({__proto__:null,default:ke},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qD=v,WD=Symbol.for("react.element"),KD=Symbol.for("react.fragment"),YD=Object.prototype.hasOwnProperty,QD=qD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,JD={key:!0,ref:!0,__self:!0,__source:!0};function kM(e,t,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)YD.call(t,r)&&!JD.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:WD,type:e,key:o,ref:s,props:i,_owner:QD.current}}Zm.Fragment=KD;Zm.jsx=kM;Zm.jsxs=kM;vM.exports=Zm;var f=vM.exports;class Bo{constructor(){this.listeners=[],this.onUpdate=(...t)=>{this.listeners.forEach(n=>n(...t))},this.addListener=t=>(this.listeners.push(t),()=>{this.removeListener(t)}),this.removeListener=t=>{this.listeners=this.listeners.filter(n=>n!==t)},this.clearAllListeners=()=>{console.log("clearing all listeners"),this.listeners=[]}}}const qA=e=>({setItem:(t,n)=>{e.setItem(t,JSON.stringify(n))},getItem:t=>{const n=e.getItem(t);if(n===null)return null;try{return JSON.parse(n)}catch{return n}},removeItem:t=>{e.removeItem(t)},clear:()=>{e.clear()},keys:()=>{const t=[];for(let n=0,r=e.length;n<r;++n)t.push(e.key(n));return t}});class WA{constructor(){this.store={}}setItem(t,n){this.store[t]=n}getItem(t){const n=this.store[t];return n===void 0?null:n}removeItem(t){delete this.store[t]}get length(){return Object.keys(this.store).length}keys(){return Object.keys(this.store)}key(t){return Object.keys(this.store)[t]}clear(){this.store={}}}const YE=qA((global==null?void 0:global.localStorage)??new WA),Ve={...YE,local:YE,session:qA((global==null?void 0:global.sessionStorage)??new WA),memory:qA(new WA)},KA="CAMERA_GRANT_KEY",QE=Ve.local.getItem(KA);class XD extends Bo{constructor(){super(),this.stream=null,this.recorder=null,this.videoData=[],this.permissionGranted=QE!==null?JSON.parse(QE):null,this.requestPermissions=async()=>{try{this.stream=await navigator.mediaDevices.getUserMedia({video:!0}),this.permissionGranted=!0,await this.stopRecord()}catch{this.permissionGranted=!1}return Ve.local.setItem(KA,JSON.stringify(this.permissionGranted)),this.onUpdate(this.permissionGranted),this.permissionGranted},this.disable=()=>{this.permissionGranted=!1,Ve.local.setItem(KA,JSON.stringify(this.permissionGranted)),this.onUpdate(this.permissionGranted)},this.startRecord=async()=>{if(this.permissionGranted)try{this.stream=await navigator.mediaDevices.getUserMedia({video:{frameRate:2}});const t=this.stream.getVideoTracks()[0].getSettings();this.video.width=t.width??this.video.width,this.video.height=t.height??this.video.height,this.canvas.width=this.video.width,this.canvas.height=this.video.height,this.video.srcObject=this.stream,await this.video.play(),this.recorder=new MediaRecorder(this.stream,{mimeType:"video/webm"}),this.recorder.ondataavailable=n=>{this.videoData.push(n.data)},this.recorder.start()}catch(t){console.warn(t)}},this.getVideo=()=>{const t=new Blob(this.videoData,{type:"video/webm"});return URL.createObjectURL(t)},this.stopRecord=async()=>{var t,n;this.permissionGranted&&((t=this.recorder)==null||t.stop(),(n=this.stream)==null||n.getTracks().forEach(r=>r.stop()))},this.clearData=()=>{this.videoData.length=0},this.restartRecord=async()=>{await this.stopRecord(),await this.clearData(),await this.startRecord()},this.getPermissionStatus=()=>this.permissionGranted,this.video=document.createElement("video"),this.video.width=480,this.video.height=this.video.width*(9/16),this.canvas=document.createElement("canvas"),this.canvas.width=this.video.width,this.canvas.height=this.video.height}}const So=new XD;function JE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ie(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JE(Object(n),!0).forEach(function(r){ie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gf(e){return gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gf(e)}function Kt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yt(e,t,n){return t&&XE(e.prototype,t),n&&XE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZD(e,t){if(e==null)return{};var n,r,i=function(s,a){if(s==null)return{};var l,c,u={},d=Object.keys(s);for(c=0;c<d.length;c++)l=d[c],a.indexOf(l)>=0||(u[l]=s[l]);return u}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Nr(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,s,a=[],l=!0,c=!1;try{for(i=i.call(n);!(l=(o=i.next()).done)&&(a.push(o.value),!r||a.length!==r);l=!0);}catch(u){c=!0,s=u}finally{try{l||i.return==null||i.return()}finally{if(c)throw s}}return a}}(e,t)||K_(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ou(e){return function(t){if(Array.isArray(t))return YA(t)}(e)||function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(e)||K_(e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function K_(e,t){if(e){if(typeof e=="string")return YA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?YA(e,t):void 0}}function YA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Oo(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=K_(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(l){throw l},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var l=n.next();return s=l.done,l},e:function(l){a=!0,o=l},f:function(){try{s||n.return==null||n.return()}finally{if(a)throw o}}}}var sl={DEBUG:!1,LIB_VERSION:"1.130.0"},eB=Array.isArray,CM=Object.prototype,TM=CM.hasOwnProperty,e0=CM.toString,Un=eB||function(e){return e0.call(e)==="[object Array]"},To=function(e){return typeof e=="function"},ts=function(e){return e===Object(e)&&!Un(e)},ty=function(e){if(ts(e)){for(var t in e)if(TM.call(e,t))return!1;return!0}return!1},We=function(e){return e===void 0},Er=function(e){return e0.call(e)=="[object String]"},Io=function(e){return e===null},ha=function(e){return We(e)||Io(e)},bo=function(e){return e0.call(e)=="[object Number]"},Xp=function(e){return e0.call(e)==="[object Boolean]"},tB=function(e){return e instanceof FormData},Z=typeof window<"u"?window:void 0,Qr=typeof globalThis<"u"?globalThis:Z,IM=Array.prototype,ZE=IM.forEach,ek=IM.indexOf,mf=Qr==null?void 0:Qr.navigator,Ee=Qr==null?void 0:Qr.document,Bi=Qr==null?void 0:Qr.location,Y_=Qr==null?void 0:Qr.fetch,Q_=Qr!=null&&Qr.XMLHttpRequest&&"withCredentials"in new Qr.XMLHttpRequest?Qr.XMLHttpRequest:void 0,tk=Qr==null?void 0:Qr.AbortController,Cn=mf==null?void 0:mf.userAgent,fi=Z??{},nk="[PostHog.js]",me={_log:function(e){if(Z&&(sl.DEBUG||fi.POSTHOG_DEBUG)&&!We(Z.console)&&Z.console){for(var t=("__rrweb_original__"in Z.console[e])?Z.console[e].__rrweb_original__:Z.console[e],n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t.apply(void 0,[nk].concat(r))}},info:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];me._log.apply(me,["log"].concat(t))},warn:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];me._log.apply(me,["warn"].concat(t))},error:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];me._log.apply(me,["error"].concat(t))},critical:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=console).error.apply(e,[nk].concat(n))},uninitializedWarning:function(e){me.error("You must initialize PostHog before calling ".concat(e))}},Mg={},t0=function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")};function Dc(e,t,n){if(Un(e)){if(ZE&&e.forEach===ZE)e.forEach(t,n);else if("length"in e&&e.length===+e.length){for(var r=0,i=e.length;r<i;r++)if(r in e&&t.call(n,e[r],r)===Mg)return}}}function zt(e,t,n){if(!ha(e)){if(Un(e))return Dc(e,t,n);if(tB(e)){var r,i=Oo(e.entries());try{for(i.s();!(r=i.n()).done;){var o=r.value;if(t.call(n,o[1],o[0])===Mg)return}}catch(a){i.e(a)}finally{i.f()}}else for(var s in e)if(TM.call(e,s)&&t.call(n,e[s],s)===Mg)return}}var Zn=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Dc(n,function(i){for(var o in i)i[o]!==void 0&&(e[o]=i[o])}),e};function ht(e,t){return e.indexOf(t)!==-1}function Zp(e){for(var t=Object.keys(e),n=t.length,r=new Array(n);n--;)r[n]=[t[n],e[t[n]]];return r}var RM=function(){return Date.now=Date.now||function(){return+new Date},Date.now()},rk=function(e){try{return e()}catch{return}},nB=function(e){return function(){try{for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(this,n)}catch(i){me.critical("Implementation error. Please turn on debug mode and open a ticket on https://app.posthog.com/home#panel=support%3Asupport%3A."),me.critical(i)}}},QA=function(e){var t={};return zt(e,function(n,r){Er(n)&&n.length>0&&(t[r]=n)}),t};function rB(e,t){return n=e,r=function(o){return Er(o)&&!Io(t)?o.slice(0,t):o},i=new Set,function o(s,a){return s!==Object(s)?r?r(s,a):s:i.has(s)?void 0:(i.add(s),Un(s)?(l=[],Dc(s,function(c){l.push(o(c))})):(l={},zt(s,function(c,u){i.has(c)||(l[u]=o(c,u))})),l);var l}(n);var n,r,i}var xo,iB=function(e){var t,n,r,i,o="";for(t=n=0,r=(e=(e+"").replace(/\r\n/g,`
`).replace(/\r/g,`
`)).length,i=0;i<r;i++){var s=e.charCodeAt(i),a=null;s<128?n++:a=s>127&&s<2048?String.fromCharCode(s>>6|192,63&s|128):String.fromCharCode(s>>12|224,s>>6&63|128,63&s|128),Io(a)||(n>t&&(o+=e.substring(t,n)),o+=a,t=n=i+1)}return n>t&&(o+=e.substring(t,e.length)),o},_s=function(){function e(t){return t&&(t.preventDefault=e.preventDefault,t.stopPropagation=e.stopPropagation),t}return e.preventDefault=function(){this.returnValue=!1},e.stopPropagation=function(){this.cancelBubble=!0},function(t,n,r,i,o){if(t)if(t.addEventListener&&!i)t.addEventListener(n,r,!!o);else{var s="on"+n,a=t[s];t[s]=function(l,c,u){return function(d){if(d=d||e(Z==null?void 0:Z.event)){var h,p=!0;To(u)&&(h=u(d));var g=c.call(l,d);return h!==!1&&g!==!1||(p=!1),p}}}(t,r,a)}else me.error("No valid element provided to register_event")}}();function vf(e,t){var n=function(){if(!Ee)return t("document not found");var r=Ee.createElement("script");r.type="text/javascript",r.src=e,r.onload=function(s){return t(void 0,s)},r.onerror=function(s){return t(s)};var i,o=Ee.querySelectorAll("body > script");o.length>0?(i=o[0].parentNode)===null||i===void 0||i.insertBefore(r,o[0]):Ee.body.appendChild(r)};Ee!=null&&Ee.body?n():Ee==null||Ee.addEventListener("DOMContentLoaded",n)}(function(e){e.GZipJS="gzip-js",e.Base64="base64"})(xo||(xo={}));var PM="$people_distinct_id",wd="__alias",Ed="__timers",ik="$autocapture_disabled_server_side",JA="$heatmaps_enabled_server_side",XA="$session_recording_enabled_server_side",ok="$console_log_recording_enabled_server_side",sk="$session_recording_network_payload_capture",ak="$session_recording_canvas_recording",lk="$replay_sample_rate",ck="$replay_minimum_duration",jg="$sesid",Bd="$session_is_sampled",bc="$enabled_feature_flags",ZA="$early_access_features",_c="$stored_person_properties",Js="$stored_group_properties",e1="$surveys",Og="$flag_call_reported",ms="$user_state",t1="$client_session_props",n1="$capture_rate_limit",r1="$initial_campaign_params",i1="$initial_referrer_info",Vg="$epp",oB=[PM,wd,"__cmpns",Ed,XA,JA,jg,bc,ms,ZA,Js,_c,e1,Og,t1,n1,r1,i1,Vg],ny="$active_feature_flags",Kh="$override_feature_flags",uk="$feature_flag_payloads",dk=function(e){var t,n={},r=Oo(Zp(e||{}));try{for(r.s();!(t=r.n()).done;){var i=Nr(t.value,2),o=i[0],s=i[1];s&&(n[o]=s)}}catch(a){r.e(a)}finally{r.f()}return n},sB=function(){function e(t){Kt(this,e),this.instance=t,this._override_warning=!1,this.featureFlagEventHandlers=[],this.reloadFeatureFlagsQueued=!1,this.reloadFeatureFlagsInAction=!1}return Yt(e,[{key:"getFlags",value:function(){return Object.keys(this.getFlagVariants())}},{key:"getFlagVariants",value:function(){var t=this.instance.get_property(bc),n=this.instance.get_property(Kh);if(!n)return t||{};for(var r=Zn({},t),i=Object.keys(n),o=0;o<i.length;o++)r[i[o]]=n[i[o]];return this._override_warning||(me.warn(" Overriding feature flags!",{enabledFlags:t,overriddenFlags:n,finalFlags:r}),this._override_warning=!0),r}},{key:"getFlagPayloads",value:function(){return this.instance.get_property(uk)||{}}},{key:"reloadFeatureFlags",value:function(){this.reloadFeatureFlagsQueued||(this.reloadFeatureFlagsQueued=!0,this._startReloadTimer())}},{key:"setAnonymousDistinctId",value:function(t){this.$anon_distinct_id=t}},{key:"setReloadingPaused",value:function(t){this.reloadFeatureFlagsInAction=t}},{key:"resetRequestQueue",value:function(){this.reloadFeatureFlagsQueued=!1}},{key:"_startReloadTimer",value:function(){var t=this;this.reloadFeatureFlagsQueued&&!this.reloadFeatureFlagsInAction&&setTimeout(function(){!t.reloadFeatureFlagsInAction&&t.reloadFeatureFlagsQueued&&(t.reloadFeatureFlagsQueued=!1,t._reloadFeatureFlagsRequest())},5)}},{key:"_reloadFeatureFlagsRequest",value:function(){var t=this;if(!this.instance.config.advanced_disable_feature_flags){this.setReloadingPaused(!0);var n=this.instance.config.token,r=this.instance.get_property(_c),i=this.instance.get_property(Js),o={token:n,distinct_id:this.instance.get_distinct_id(),groups:this.instance.getGroups(),$anon_distinct_id:this.$anon_distinct_id,person_properties:r,group_properties:i,disable_flags:this.instance.config.advanced_disable_feature_flags||void 0};this.instance._send_request({method:"POST",url:this.instance.requestRouter.endpointFor("api","/decide/?v=3"),data:o,compression:this.instance.config.disable_compression?void 0:xo.Base64,timeout:this.instance.config.feature_flag_request_timeout_ms,callback:function(s){var a;t.setReloadingPaused(!1);var l=!0;s.statusCode===200&&(t.$anon_distinct_id=void 0,l=!1),t.receivedFeatureFlags((a=s.json)!==null&&a!==void 0?a:{},l),t._startReloadTimer()}})}}},{key:"getFeatureFlag",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.instance.decideEndpointWasHit||this.getFlags()&&this.getFlags().length>0){var r,i=this.getFlagVariants()[t],o="".concat(i),s=this.instance.get_property(Og)||{};return(n.send_event||!("send_event"in n))&&(!(t in s)||!s[t].includes(o))&&(Un(s[t])?s[t].push(o):s[t]=[o],(r=this.instance.persistence)===null||r===void 0||r.register(ie({},Og,s)),this.instance.capture("$feature_flag_called",{$feature_flag:t,$feature_flag_response:i})),i}me.warn('getFeatureFlag for key "'+t+`" failed. Feature flags didn't load in time.`)}},{key:"getFeatureFlagPayload",value:function(t){return this.getFlagPayloads()[t]}},{key:"isFeatureEnabled",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.instance.decideEndpointWasHit||this.getFlags()&&this.getFlags().length>0)return!!this.getFeatureFlag(t,n);me.warn('isFeatureEnabled for key "'+t+`" failed. Feature flags didn't load in time.`)}},{key:"addFeatureFlagsHandler",value:function(t){this.featureFlagEventHandlers.push(t)}},{key:"removeFeatureFlagsHandler",value:function(t){this.featureFlagEventHandlers=this.featureFlagEventHandlers.filter(function(n){return n!==t})}},{key:"receivedFeatureFlags",value:function(t,n){if(this.instance.persistence){this.instance.decideEndpointWasHit=!0;var r=this.getFlagVariants(),i=this.getFlagPayloads();(function(o,s){var a,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},u=o.featureFlags,d=o.featureFlagPayloads;if(u)if(Un(u)){var h,p={};if(u)for(var g=0;g<u.length;g++)p[u[g]]=!0;s&&s.register((ie(h={},ny,u),ie(h,bc,p),h))}else{var m=u,b=d;o.errorsWhileComputingFlags&&(m=Ie(Ie({},l),m),b=Ie(Ie({},c),b)),s&&s.register((ie(a={},ny,Object.keys(dk(m))),ie(a,bc,m||{}),ie(a,uk,b||{}),a))}})(t,this.instance.persistence,r,i),this._fireFeatureFlagsCallbacks(n)}}},{key:"override",value:function(t){if(!this.instance.__loaded||!this.instance.persistence)return me.uninitializedWarning("posthog.feature_flags.override");if(this._override_warning=!1,t===!1)this.instance.persistence.unregister(Kh);else if(Un(t)){for(var n={},r=0;r<t.length;r++)n[t[r]]=!0;this.instance.persistence.register(ie({},Kh,n))}else this.instance.persistence.register(ie({},Kh,t))}},{key:"onFeatureFlags",value:function(t){var n=this;if(this.addFeatureFlagsHandler(t),this.instance.decideEndpointWasHit){var r=this._prepareFeatureFlagsForCallbacks(),i=r.flags,o=r.flagVariants;t(i,o)}return function(){return n.removeFeatureFlagsHandler(t)}}},{key:"updateEarlyAccessFeatureEnrollment",value:function(t,n){var r,i,o=ie({},"$feature_enrollment/".concat(t),n);this.instance.capture("$feature_enrollment_update",{$feature_flag:t,$feature_enrollment:n,$set:o}),this.setPersonPropertiesForFlags(o,!1);var s=Ie(Ie({},this.getFlagVariants()),{},ie({},t,n));(r=this.instance.persistence)===null||r===void 0||r.register((ie(i={},ny,Object.keys(dk(s))),ie(i,bc,s),i)),this._fireFeatureFlagsCallbacks()}},{key:"getEarlyAccessFeatures",value:function(t){var n=this,r=arguments.length>1&&arguments[1]!==void 0&&arguments[1],i=this.instance.get_property(ZA);if(i&&!r)return t(i);this.instance._send_request({transport:"XHR",url:this.instance.requestRouter.endpointFor("api","/api/early_access_features/?token=".concat(this.instance.config.token)),method:"GET",callback:function(o){var s;if(o.json){var a=o.json.earlyAccessFeatures;return(s=n.instance.persistence)===null||s===void 0||s.register(ie({},ZA,a)),t(a)}}})}},{key:"_prepareFeatureFlagsForCallbacks",value:function(){var t=this.getFlags(),n=this.getFlagVariants();return{flags:t.filter(function(r){return n[r]}),flagVariants:Object.keys(n).filter(function(r){return n[r]}).reduce(function(r,i){return r[i]=n[i],r},{})}}},{key:"_fireFeatureFlagsCallbacks",value:function(t){var n=this._prepareFeatureFlagsForCallbacks(),r=n.flags,i=n.flagVariants;this.featureFlagEventHandlers.forEach(function(o){return o(r,i,{errorsLoading:t})})}},{key:"setPersonPropertiesForFlags",value:function(t){var n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=this.instance.get_property(_c)||{};this.instance.register(ie({},_c,Ie(Ie({},r),t))),n&&this.instance.reloadFeatureFlags()}},{key:"resetPersonPropertiesForFlags",value:function(){this.instance.unregister(_c)}},{key:"setGroupPropertiesForFlags",value:function(t){var n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=this.instance.get_property(Js)||{};Object.keys(r).length!==0&&Object.keys(r).forEach(function(i){r[i]=Ie(Ie({},r[i]),t[i]),delete t[i]}),this.instance.register(ie({},Js,Ie(Ie({},r),t))),n&&this.instance.reloadFeatureFlags()}},{key:"resetGroupPropertiesForFlags",value:function(t){if(t){var n=this.instance.get_property(Js)||{};this.instance.register(ie({},Js,Ie(Ie({},n),{},ie({},t,{}))))}else this.instance.unregister(Js)}}]),e}();Math.trunc||(Math.trunc=function(e){return e<0?Math.ceil(e):Math.floor(e)}),Number.isInteger||(Number.isInteger=function(e){return bo(e)&&isFinite(e)&&Math.floor(e)===e});var fk="0123456789abcdef",aB=function(){function e(t){if(Kt(this,e),this.bytes=t,t.length!==16)throw new TypeError("not 128-bit length")}return Yt(e,[{key:"toString",value:function(){for(var t="",n=0;n<this.bytes.length;n++)t=t+fk.charAt(this.bytes[n]>>>4)+fk.charAt(15&this.bytes[n]),n!==3&&n!==5&&n!==7&&n!==9||(t+="-");if(t.length!==36)throw new Error("Invalid UUIDv7 was generated");return t}},{key:"clone",value:function(){return new e(this.bytes.slice(0))}},{key:"equals",value:function(t){return this.compareTo(t)===0}},{key:"compareTo",value:function(t){for(var n=0;n<16;n++){var r=this.bytes[n]-t.bytes[n];if(r!==0)return Math.sign(r)}return 0}}],[{key:"fromFieldsV7",value:function(t,n,r,i){if(!Number.isInteger(t)||!Number.isInteger(n)||!Number.isInteger(r)||!Number.isInteger(i)||t<0||n<0||r<0||i<0||t>0xffffffffffff||n>4095||r>1073741823||i>4294967295)throw new RangeError("invalid field value");var o=new Uint8Array(16);return o[0]=t/Math.pow(2,40),o[1]=t/Math.pow(2,32),o[2]=t/Math.pow(2,24),o[3]=t/Math.pow(2,16),o[4]=t/Math.pow(2,8),o[5]=t,o[6]=112|n>>>8,o[7]=n,o[8]=128|r>>>24,o[9]=r>>>16,o[10]=r>>>8,o[11]=r,o[12]=i>>>24,o[13]=i>>>16,o[14]=i>>>8,o[15]=i,new e(o)}}]),e}(),lB=function(){function e(){Kt(this,e),ie(this,"timestamp",0),ie(this,"counter",0),ie(this,"random",new cB)}return Yt(e,[{key:"generate",value:function(){var t=this.generateOrAbort();if(We(t)){this.timestamp=0;var n=this.generateOrAbort();if(We(n))throw new Error("Could not generate UUID after timestamp reset");return n}return t}},{key:"generateOrAbort",value:function(){var t=Date.now();if(t>this.timestamp)this.timestamp=t,this.resetCounter();else{if(!(t+1e4>this.timestamp))return;this.counter++,this.counter>4398046511103&&(this.timestamp++,this.resetCounter())}return aB.fromFieldsV7(this.timestamp,Math.trunc(this.counter/Math.pow(2,30)),this.counter&Math.pow(2,30)-1,this.random.nextUint32())}},{key:"resetCounter",value:function(){this.counter=1024*this.random.nextUint32()+(1023&this.random.nextUint32())}}]),e}(),MM=function(e){if(typeof UUIDV7_DENY_WEAK_RNG<"u"&&UUIDV7_DENY_WEAK_RNG)throw new Error("no cryptographically strong RNG available");for(var t=0;t<e.length;t++)e[t]=65536*Math.trunc(65536*Math.random())+Math.trunc(65536*Math.random());return e};Z&&!We(Z.crypto)&&crypto.getRandomValues&&(MM=function(e){return crypto.getRandomValues(e)});var hk,cB=function(){function e(){Kt(this,e),ie(this,"buffer",new Uint32Array(8)),ie(this,"cursor",1/0)}return Yt(e,[{key:"nextUint32",value:function(){return this.cursor>=this.buffer.length&&(MM(this.buffer),this.cursor=0),this.buffer[this.cursor++]}}]),e}(),sa=function(){return uB().toString()},uB=function(){return(hk||(hk=new lB)).generate()},dB="Thu, 01 Jan 1970 00:00:00 GMT",ed="",fB=/[a-z0-9][a-z0-9-]+\.[a-z]{2,}$/i;function hB(e,t){if(t){var n=function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ee;if(ed)return ed;if(!o||["localhost","127.0.0.1"].includes(i))return"";for(var s=i.split("."),a=Math.min(s.length,8),l="dmn_chk_"+sa(),c=new RegExp("(^|;)\\s*"+l+"=1");!ed&&a--;){var u=s.slice(a).join("."),d=l+"=1;domain=."+u;o.cookie=d,c.test(o.cookie)&&(o.cookie=d+";expires="+dB,ed=u)}return ed}(e);if(!n){var r=function(i){var o=i.match(fB);return o?o[0]:""}(e);r!==n&&me.info("Warning: cookie subdomain discovery mismatch",r,n),n=r}return n?"; domain=."+n:""}return""}var ar,is={is_supported:function(){return!!Ee},error:function(e){me.error("cookieStore error: "+e)},get:function(e){if(Ee){try{for(var t=e+"=",n=Ee.cookie.split(";").filter(function(o){return o.length}),r=0;r<n.length;r++){for(var i=n[r];i.charAt(0)==" ";)i=i.substring(1,i.length);if(i.indexOf(t)===0)return decodeURIComponent(i.substring(t.length,i.length))}}catch{}return null}},parse:function(e){var t;try{t=JSON.parse(is.get(e))||{}}catch{}return t},set:function(e,t,n,r,i){if(Ee)try{var o="",s="",a=hB(Ee.location.hostname,r);if(n){var l=new Date;l.setTime(l.getTime()+24*n*60*60*1e3),o="; expires="+l.toUTCString()}i&&(s="; secure");var c=e+"="+encodeURIComponent(JSON.stringify(t))+o+"; SameSite=Lax; path=/"+a+s;return c.length>3686.4&&me.warn("cookieStore warning: large cookie, len="+c.length),Ee.cookie=c,c}catch{return}},remove:function(e,t){try{is.set(e,"",-1,t)}catch{return}}},ry=null,Ln={is_supported:function(){if(!Io(ry))return ry;var e=!0;if(We(Z))e=!1;else try{var t="__mplssupport__";Ln.set(t,"xyz"),Ln.get(t)!=='"xyz"'&&(e=!1),Ln.remove(t)}catch{e=!1}return e||me.error("localStorage unsupported; falling back to cookie store"),ry=e,e},error:function(e){me.error("localStorage error: "+e)},get:function(e){try{return Z==null?void 0:Z.localStorage.getItem(e)}catch(t){Ln.error(t)}return null},parse:function(e){try{return JSON.parse(Ln.get(e))||{}}catch{}return null},set:function(e,t){try{Z==null||Z.localStorage.setItem(e,JSON.stringify(t))}catch(n){Ln.error(n)}},remove:function(e){try{Z==null||Z.localStorage.removeItem(e)}catch(t){Ln.error(t)}}},pB=["distinct_id",jg,Bd,Vg],kd=Ie(Ie({},Ln),{},{parse:function(e){try{var t={};try{t=is.parse(e)||{}}catch{}var n=Zn(t,JSON.parse(Ln.get(e)||"{}"));return Ln.set(e,n),n}catch{}return null},set:function(e,t,n,r,i){try{Ln.set(e,t);var o={};pB.forEach(function(s){t[s]&&(o[s]=t[s])}),Object.keys(o).length&&is.set(e,o,n,r,i)}catch(s){Ln.error(s)}},remove:function(e,t){try{Z==null||Z.localStorage.removeItem(e),is.remove(e,t)}catch(n){Ln.error(n)}}}),Yh={},gB={is_supported:function(){return!0},error:function(e){me.error("memoryStorage error: "+e)},get:function(e){return Yh[e]||null},parse:function(e){return Yh[e]||null},set:function(e,t){Yh[e]=t},remove:function(e){delete Yh[e]}},Ha=null,ur={is_supported:function(){if(!Io(Ha))return Ha;if(Ha=!0,We(Z))Ha=!1;else try{var e="__support__";ur.set(e,"xyz"),ur.get(e)!=='"xyz"'&&(Ha=!1),ur.remove(e)}catch{Ha=!1}return Ha},error:function(e){me.error("sessionStorage error: ",e)},get:function(e){try{return Z==null?void 0:Z.sessionStorage.getItem(e)}catch(t){ur.error(t)}return null},parse:function(e){try{return JSON.parse(ur.get(e))||null}catch{}return null},set:function(e,t){try{Z==null||Z.sessionStorage.setItem(e,JSON.stringify(t))}catch(n){ur.error(n)}},remove:function(e){try{Z==null||Z.sessionStorage.removeItem(e)}catch(t){ur.error(t)}}},mB=["localhost","127.0.0.1"],jM=function(e){var t=Ee==null?void 0:Ee.createElement("a");return We(t)?null:(t.href=e,t)},vB=function(e,t){return!!function(n){try{new RegExp(n)}catch{return!1}return!0}(t)&&new RegExp(t).test(e)},yB=function(e){var t,n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"&",i=[];return zt(e,function(o,s){We(o)||We(s)||s==="undefined"||(t=encodeURIComponent(function(a){return a instanceof File}(o)?o.name:o.toString()),n=encodeURIComponent(s),i[i.length]=n+"="+t)}),i.join(r)},pk=function(e,t){for(var n,r=((e.split("#")[0]||"").split("?")[1]||"").split("&"),i=0;i<r.length;i++){var o=r[i].split("=");if(o[0]===t){n=o;break}}if(!Un(n)||n.length<2)return"";var s=n[1];try{s=decodeURIComponent(s)}catch{me.error("Skipping decoding for malformed query param: "+s)}return s.replace(/\+/g," ")},Lg=function(e,t){var n=e.match(new RegExp(t+"=([^&]*)"));return n?n[1]:null},Ki="Mobile",Ng="iOS",ns="Android",yf="Tablet",OM=ns+" "+yf,VM="iPad",LM="Apple",NM=LM+" Watch",n0="Safari",su="BlackBerry",$M="Samsung",DM=$M+"Browser",BM=$M+" Internet",El="Chrome",AB=El+" OS",FM=El+" "+Ng,J_="Internet Explorer",zM=J_+" "+Ki,X_="Opera",bB=X_+" Mini",Z_="Edge",UM="Microsoft "+Z_,Bc="Firefox",HM=Bc+" "+Ng,Af="Nintendo",bf="PlayStation",Fc="Xbox",GM=ns+" "+Ki,qM=Ki+" "+n0,Cd="Windows",o1=Cd+" Phone",gk="Nokia",s1="Ouya",WM="Generic",_B=WM+" "+Ki.toLowerCase(),KM=WM+" "+yf.toLowerCase(),a1="Konqueror",Or="(\\d+(\\.\\d+)?)",iy=new RegExp("Version/"+Or),xB=new RegExp(Fc,"i"),SB=new RegExp(bf+" \\w+","i"),wB=new RegExp(Af+" \\w+","i"),ex=new RegExp(su+"|PlayBook|BB10","i"),EB={"NT3.51":"NT 3.11","NT4.0":"NT 4.0","5.0":"2000",5.1:"XP",5.2:"XP","6.0":"Vista",6.1:"7",6.2:"8",6.3:"8.1",6.4:"10","10.0":"10"},kB=function(e,t){return t&&ht(t,LM)||function(n){return ht(n,n0)&&!ht(n,El)&&!ht(n,ns)}(e)},mk=function(e,t){return t=t||"",ht(e," OPR/")&&ht(e,"Mini")?bB:ht(e," OPR/")?X_:ex.test(e)?su:ht(e,"IE"+Ki)||ht(e,"WPDesktop")?zM:ht(e,DM)?BM:ht(e,Z_)||ht(e,"Edg/")?UM:ht(e,"FBIOS")?"Facebook "+Ki:ht(e,El)?El:ht(e,"CriOS")?FM:ht(e,"UCWEB")||ht(e,"UCBrowser")?"UC Browser":ht(e,"FxiOS")?HM:ht(e,ns)?GM:ht(e.toLowerCase(),a1.toLowerCase())?a1:kB(e,t)?ht(e,Ki)?qM:n0:ht(e,Bc)?Bc:ht(e,"MSIE")||ht(e,"Trident/")?J_:ht(e,"Gecko")?Bc:""},CB=(ie(ar={},zM,[new RegExp("rv:"+Or)]),ie(ar,UM,[new RegExp(Z_+"?\\/"+Or)]),ie(ar,El,[new RegExp(El+"/"+Or)]),ie(ar,FM,[new RegExp("CriOS\\/"+Or)]),ie(ar,"UC Browser",[new RegExp("(UCBrowser|UCWEB)\\/"+Or)]),ie(ar,n0,[iy]),ie(ar,qM,[iy]),ie(ar,X_,[new RegExp("(Opera|OPR)\\/"+Or)]),ie(ar,Bc,[new RegExp(Bc+"\\/"+Or)]),ie(ar,HM,[new RegExp("FxiOS\\/"+Or)]),ie(ar,a1,[new RegExp("Konqueror[:/]?"+Or,"i")]),ie(ar,su,[new RegExp(su+" "+Or),iy]),ie(ar,GM,[new RegExp("android\\s"+Or)]),ie(ar,BM,[new RegExp(DM+"\\/"+Or)]),ie(ar,J_,[new RegExp("(rv:|MSIE )"+Or)]),ie(ar,"Mozilla",[new RegExp("rv:"+Or)]),ar),vk=[[new RegExp(Fc+"; "+Fc+" (.*?)[);]","i"),function(e){return[Fc,e&&e[1]||""]}],[new RegExp(Af,"i"),[Af,""]],[new RegExp(bf,"i"),[bf,""]],[ex,[su,""]],[new RegExp(Cd,"i"),function(e,t){if(/Phone/.test(t)||/WPDesktop/.test(t))return[o1,""];if(new RegExp(Ki).test(t)&&!/IEMobile\b/.test(t))return[Cd+" "+Ki,""];var n=/Windows NT ([0-9.]+)/i.exec(t);if(n&&n[1]){var r=n[1],i=EB[r]||"";return/arm/i.test(t)&&(i="RT"),[Cd,i]}return[Cd,""]}],[/((iPhone|iPad|iPod).*?OS (\d+)_(\d+)_?(\d+)?|iPhone)/,function(e){if(e&&e[3]){var t=[e[3],e[4],e[5]||"0"];return[Ng,t.join(".")]}return[Ng,""]}],[/(watch.*\/(\d+\.\d+\.\d+)|watch os,(\d+\.\d+),)/i,function(e){var t="";return e&&e.length>=3&&(t=We(e[2])?e[3]:e[2]),["watchOS",t]}],[new RegExp("("+ns+" (\\d+)\\.(\\d+)\\.?(\\d+)?|"+ns+")","i"),function(e){if(e&&e[2]){var t=[e[2],e[3],e[4]||"0"];return[ns,t.join(".")]}return[ns,""]}],[/Mac OS X (\d+)[_.](\d+)[_.]?(\d+)?/i,function(e){var t=["Mac OS X",""];if(e&&e[1]){var n=[e[1],e[2],e[3]||"0"];t[1]=n.join(".")}return t}],[/Mac/i,["Mac OS X",""]],[/CrOS/,[AB,""]],[/Linux|debian/i,["Linux",""]]],yk=function(e){return wB.test(e)?Af:SB.test(e)?bf:xB.test(e)?Fc:new RegExp(s1,"i").test(e)?s1:new RegExp("("+o1+"|WPDesktop)","i").test(e)?o1:/iPad/.test(e)?VM:/iPod/.test(e)?"iPod Touch":/iPhone/.test(e)?"iPhone":/(watch)(?: ?os[,/]|\d,\d\/)[\d.]+/i.test(e)?NM:ex.test(e)?su:/(kobo)\s(ereader|touch)/i.test(e)?"Kobo":new RegExp(gk,"i").test(e)?gk:/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i.test(e)||/(kf[a-z]+)( bui|\)).+silk\//i.test(e)?"Kindle Fire":/(Android|ZTE)/i.test(e)?!new RegExp(Ki).test(e)||/(9138B|TB782B|Nexus [97]|pixel c|HUAWEISHT|BTV|noble nook|smart ultra 6)/i.test(e)?/pixel[\daxl ]{1,6}/i.test(e)&&!/pixel c/i.test(e)||/(huaweimed-al00|tah-|APA|SM-G92|i980|zte|U304AA)/i.test(e)||/lmy47v/i.test(e)&&!/QTAQZ3/i.test(e)?ns:OM:ns:new RegExp("(pda|"+Ki+")","i").test(e)?_B:new RegExp(yf,"i").test(e)&&!new RegExp(yf+" pc","i").test(e)?KM:""},Qh="https?://(.*)",TB=["utm_source","utm_medium","utm_campaign","utm_content","utm_term","gclid","gad_source","gclsrc","dclid","gbraid","wbraid","fbclid","msclkid","twclid","li_fat_id","mc_cid","igshid","ttclid"],er={campaignParams:function(e){var t=TB.concat(e||[]),n={};return zt(t,function(r){var i=Ee?pk(Ee.URL,r):"";i.length&&(n[r]=i)}),n},searchEngine:function(){var e=Ee==null?void 0:Ee.referrer;return e?e.search(Qh+"google.([^/?]*)")===0?"google":e.search(Qh+"bing.com")===0?"bing":e.search(Qh+"yahoo.com")===0?"yahoo":e.search(Qh+"duckduckgo.com")===0?"duckduckgo":null:null},searchInfo:function(){var e=er.searchEngine(),t=e!="yahoo"?"q":"p",n={};if(!Io(e)){n.$search_engine=e;var r=Ee?pk(Ee.referrer,t):"";r.length&&(n.ph_keyword=r)}return n},browser:mk,browserVersion:function(e,t){var n=mk(e,t),r=CB[n];if(We(r))return null;for(var i=0;i<r.length;i++){var o=r[i],s=e.match(o);if(s)return parseFloat(s[s.length-2])}return null},browserLanguage:function(){return navigator.language||navigator.userLanguage},os:function(e){for(var t=0;t<vk.length;t++){var n=Nr(vk[t],2),r=n[0],i=n[1],o=r.exec(e),s=o&&(To(i)?i(o,e):i);if(s)return s}return["",""]},device:yk,deviceType:function(e){var t=yk(e);return t===VM||t===OM||t==="Kobo"||t==="Kindle Fire"||t===KM?yf:t===Af||t===Fc||t===bf||t===s1?"Console":t===NM?"Wearable":t?Ki:"Desktop"},referrer:function(){return(Ee==null?void 0:Ee.referrer)||"$direct"},referringDomain:function(){var e;return Ee!=null&&Ee.referrer&&((e=jM(Ee.referrer))===null||e===void 0?void 0:e.host)||"$direct"},referrerInfo:function(){return{$referrer:this.referrer(),$referring_domain:this.referringDomain()}},properties:function(){if(!Cn)return{};var e=Nr(er.os(Cn),2),t=e[0],n=e[1];return Zn(QA({$os:t,$os_version:n,$browser:er.browser(Cn,navigator.vendor),$device:er.device(Cn),$device_type:er.deviceType(Cn)}),{$current_url:Bi==null?void 0:Bi.href,$host:Bi==null?void 0:Bi.host,$pathname:Bi==null?void 0:Bi.pathname,$raw_user_agent:Cn.length>1e3?Cn.substring(0,997)+"...":Cn,$browser_version:er.browserVersion(Cn,navigator.vendor),$browser_language:er.browserLanguage(),$screen_height:Z==null?void 0:Z.screen.height,$screen_width:Z==null?void 0:Z.screen.width,$viewport_height:Z==null?void 0:Z.innerHeight,$viewport_width:Z==null?void 0:Z.innerWidth,$lib:"web",$lib_version:sl.LIB_VERSION,$insert_id:Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10),$time:RM()/1e3})},people_properties:function(){if(!Cn)return{};var e=Nr(er.os(Cn),2),t=e[0],n=e[1];return Zn(QA({$os:t,$os_version:n,$browser:er.browser(Cn,navigator.vendor)}),{$browser_version:er.browserVersion(Cn,navigator.vendor)})}},IB=["cookie","localstorage","localstorage+cookie","sessionstorage","memory"],oy=function(){function e(t){Kt(this,e),this.config=t,this.props={},this.campaign_params_saved=!1,this.name=function(n){var r="";return n.token&&(r=n.token.replace(/\+/g,"PL").replace(/\//g,"SL").replace(/=/g,"EQ")),n.persistence_name?"ph_"+n.persistence_name:"ph_"+r+"_posthog"}(t),this.storage=this.buildStorage(t),this.load(),this.update_config(t,t),this.save()}return Yt(e,[{key:"buildStorage",value:function(t){IB.indexOf(t.persistence.toLowerCase())===-1&&(me.critical("Unknown persistence type "+t.persistence+"; falling back to localStorage+cookie"),t.persistence="localStorage+cookie");var n=t.persistence.toLowerCase();return n==="localstorage"&&Ln.is_supported()?Ln:n==="localstorage+cookie"&&kd.is_supported()?kd:n==="sessionstorage"&&ur.is_supported()?ur:n==="memory"?gB:n==="cookie"?is:kd.is_supported()?kd:is}},{key:"properties",value:function(){var t={};return zt(this.props,function(n,r){if(r===bc&&ts(n))for(var i=Object.keys(n),o=0;o<i.length;o++)t["$feature/".concat(i[o])]=n[i[o]];else a=r,l=!1,(Io(s=oB)?l:ek&&s.indexOf===ek?s.indexOf(a)!=-1:(zt(s,function(c){if(l||(l=c===a))return Mg}),l))||(t[r]=n);var s,a,l}),t}},{key:"load",value:function(){if(!this.disabled){var t=this.storage.parse(this.name);t&&(this.props=Zn({},t))}}},{key:"save",value:function(){this.disabled||this.storage.set(this.name,this.props,this.expire_days,this.cross_subdomain,this.secure)}},{key:"remove",value:function(){this.storage.remove(this.name,!1),this.storage.remove(this.name,!0)}},{key:"clear",value:function(){this.remove(),this.props={}}},{key:"register_once",value:function(t,n,r){var i=this;if(ts(t)){We(n)&&(n="None"),this.expire_days=We(r)?this.default_expiry:r;var o=!1;if(zt(t,function(s,a){i.props.hasOwnProperty(a)&&i.props[a]!==n||(i.props[a]=s,o=!0)}),o)return this.save(),!0}return!1}},{key:"register",value:function(t,n){var r=this;if(ts(t)){this.expire_days=We(n)?this.default_expiry:n;var i=!1;if(zt(t,function(o,s){t.hasOwnProperty(s)&&r.props[s]!==o&&(r.props[s]=o,i=!0)}),i)return this.save(),!0}return!1}},{key:"unregister",value:function(t){t in this.props&&(delete this.props[t],this.save())}},{key:"update_campaign_params",value:function(){this.campaign_params_saved||(this.register(er.campaignParams(this.config.custom_campaign_params)),this.campaign_params_saved=!0)}},{key:"set_initial_campaign_params",value:function(){this.register_once(ie({},r1,er.campaignParams(this.config.custom_campaign_params)),void 0)}},{key:"update_search_keyword",value:function(){this.register(er.searchInfo())}},{key:"update_referrer_info",value:function(){this.register(er.referrerInfo())}},{key:"set_initial_referrer_info",value:function(){this.register_once(ie({},i1,er.referrerInfo()),void 0)}},{key:"get_referrer_info",value:function(){return QA({$referrer:this.props.$referrer,$referring_domain:this.props.$referring_domain})}},{key:"get_initial_props",value:function(){var t=this,n={};return zt([i1,r1],function(r){var i=t.props[r];i&&zt(i,function(o,s){var a;n["$initial_"+(a=s,a.replace(/^\$/,""))]=o})}),n}},{key:"safe_merge",value:function(t){return zt(this.props,function(n,r){r in t||(t[r]=n)}),t}},{key:"update_config",value:function(t,n){if(this.default_expiry=this.expire_days=t.cookie_expiration,this.set_disabled(t.disable_persistence),this.set_cross_subdomain(t.cross_subdomain_cookie),this.set_secure(t.secure_cookie),t.persistence!==n.persistence){var r=this.buildStorage(t),i=this.props;this.clear(),this.storage=r,this.props=i,this.save()}}},{key:"set_disabled",value:function(t){this.disabled=t,this.disabled?this.remove():this.save()}},{key:"set_cross_subdomain",value:function(t){t!==this.cross_subdomain&&(this.cross_subdomain=t,this.remove(),this.save())}},{key:"get_cross_subdomain",value:function(){return!!this.cross_subdomain}},{key:"set_secure",value:function(t){t!==this.secure&&(this.secure=t,this.remove(),this.save())}},{key:"set_event_timer",value:function(t,n){var r=this.props[Ed]||{};r[t]=n,this.props[Ed]=r,this.save()}},{key:"remove_event_timer",value:function(t){var n=(this.props[Ed]||{})[t];return We(n)||(delete this.props[Ed][t],this.save()),n}},{key:"get_property",value:function(t){return this.props[t]}},{key:"set_property",value:function(t,n){this.props[t]=n,this.save()}}]),e}(),RB=2,PB=4,MB=Yt(function e(t){var n,r,i=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Kt(this,e),ie(this,"bucketSize",100),ie(this,"refillRate",10),ie(this,"mutationBuckets",{}),ie(this,"loggedTracker",{}),ie(this,"refillBuckets",function(){Object.keys(i.mutationBuckets).forEach(function(s){i.mutationBuckets[s]=i.mutationBuckets[s]+i.refillRate,i.mutationBuckets[s]>=i.bucketSize&&delete i.mutationBuckets[s]})}),ie(this,"getNodeOrRelevantParent",function(s){var a=i.rrweb.mirror.getNode(s);if((a==null?void 0:a.nodeName)!=="svg"&&a instanceof Element){var l=a.closest("svg");if(l)return[i.rrweb.mirror.getId(l),l]}return[s,a]}),ie(this,"numberOfChanges",function(s){var a,l,c,u,d,h,p,g;return((a=(l=s.removes)===null||l===void 0?void 0:l.length)!==null&&a!==void 0?a:0)+((c=(u=s.attributes)===null||u===void 0?void 0:u.length)!==null&&c!==void 0?c:0)+((d=(h=s.texts)===null||h===void 0?void 0:h.length)!==null&&d!==void 0?d:0)+((p=(g=s.adds)===null||g===void 0?void 0:g.length)!==null&&p!==void 0?p:0)}),ie(this,"throttleMutations",function(s){if(s.type!==3||s.data.source!==0)return s;var a=s.data,l=i.numberOfChanges(a);a.attributes&&(a.attributes=a.attributes.filter(function(u){var d,h,p,g=Nr(i.getNodeOrRelevantParent(u.id),2),m=g[0],b=g[1];return i.mutationBuckets[m]===0?!1:(i.mutationBuckets[m]=(d=i.mutationBuckets[m])!==null&&d!==void 0?d:i.bucketSize,i.mutationBuckets[m]=Math.max(i.mutationBuckets[m]-1,0),i.mutationBuckets[m]===0&&(i.loggedTracker[m]||(i.loggedTracker[m]=!0,(h=(p=i.options).onBlockedNode)===null||h===void 0||h.call(p,m,b))),u)}));var c=i.numberOfChanges(a);return c!==0||l===c?s:void 0}),this.rrweb=t,this.options=o,this.refillRate=(n=this.options.refillRate)!==null&&n!==void 0?n:this.refillRate,this.bucketSize=(r=this.options.bucketSize)!==null&&r!==void 0?r:this.bucketSize,setInterval(function(){i.refillBuckets()},1e3)}),eg=function(e){return e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e}(eg||{});function tx(e){return e?t0(e).split(/\s+/):[]}function $g(e){var t="";switch(gf(e.className)){case"string":t=e.className;break;case"object":t=("baseVal"in e.className?e.className.baseVal:null)||e.getAttribute("class")||"";break;default:t=""}return tx(t)}function YM(e){return ha(e)?null:t0(e).split(/(\s+)/).filter(function(t){return zc(t)}).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255)}function Dg(e){var t="";return c1(e)&&!ZM(e)&&e.childNodes&&e.childNodes.length&&zt(e.childNodes,function(n){var r;QM(n)&&n.textContent&&(t+=(r=YM(n.textContent))!==null&&r!==void 0?r:"")}),t0(t)}function nx(e){return!!e&&e.nodeType===1}function pa(e,t){return!!e&&!!e.tagName&&e.tagName.toLowerCase()===t.toLowerCase()}function QM(e){return!!e&&e.nodeType===3}function JM(e){return!!e&&e.nodeType===11}var l1=["a","button","form","input","select","textarea","label"];function XM(e){var t=e.parentNode;return!(!t||!nx(t))&&t}function jB(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;if(!Z||!e||pa(e,"html")||!nx(e))return!1;if(n!=null&&n.url_allowlist){var o=Z.location.href,s=n.url_allowlist;if(s&&!s.some(function(m){return o.match(m)}))return!1}if(n!=null&&n.dom_event_allowlist){var a=n.dom_event_allowlist;if(a&&!a.some(function(m){return t.type===m}))return!1}for(var l=!1,c=[e],u=!0,d=e;d.parentNode&&!pa(d,"body");)if(JM(d.parentNode))c.push(d.parentNode.host),d=d.parentNode.host;else{if(!(u=XM(d)))break;if(r||l1.indexOf(u.tagName.toLowerCase())>-1)l=!0;else{var h=Z.getComputedStyle(u);h&&h.getPropertyValue("cursor")==="pointer"&&(l=!0)}c.push(u),d=u}if(!function(m,b){var y=b==null?void 0:b.element_allowlist;if(We(y))return!0;var A,x=Oo(m);try{var S=function(){var w=A.value;if(y.some(function(E){return w.tagName.toLowerCase()===E}))return{v:!0}};for(x.s();!(A=x.n()).done;){var _=S();if(gf(_)==="object")return _.v}}catch(w){x.e(w)}finally{x.f()}return!1}(c,n)||!function(m,b){var y=b==null?void 0:b.css_selector_allowlist;if(We(y))return!0;var A,x=Oo(m);try{var S=function(){var w=A.value;if(y.some(function(E){return w.matches(E)}))return{v:!0}};for(x.s();!(A=x.n()).done;){var _=S();if(gf(_)==="object")return _.v}}catch(w){x.e(w)}finally{x.f()}return!1}(c,n))return!1;var p=Z.getComputedStyle(e);if(p&&p.getPropertyValue("cursor")==="pointer"&&t.type==="click")return!0;var g=e.tagName.toLowerCase();switch(g){case"html":return!1;case"form":return(i||["submit"]).indexOf(t.type)>=0;case"input":case"select":case"textarea":return(i||["change","click"]).indexOf(t.type)>=0;default:return l?(i||["click"]).indexOf(t.type)>=0:(i||["click"]).indexOf(t.type)>=0&&(l1.indexOf(g)>-1||e.getAttribute("contenteditable")==="true")}}function c1(e){for(var t=e;t.parentNode&&!pa(t,"body");t=t.parentNode){var n=$g(t);if(ht(n,"ph-sensitive")||ht(n,"ph-no-capture"))return!1}if(ht($g(e),"ph-include"))return!0;var r=e.type||"";if(Er(r))switch(r.toLowerCase()){case"hidden":case"password":return!1}var i=e.name||e.id||"";return!(Er(i)&&/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|pwd|routing|seccode|securitycode|securitynum|socialsec|socsec|ssn/i.test(i.replace(/[^a-zA-Z0-9]/g,"")))}function ZM(e){return!!(pa(e,"input")&&!["button","checkbox","submit","reset"].includes(e.type)||pa(e,"select")||pa(e,"textarea")||e.getAttribute("contenteditable")==="true")}var ej="(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11})",OB=new RegExp("^(?:".concat(ej,")$")),VB=new RegExp(ej),tj="\\d{3}-?\\d{2}-?\\d{4}",LB=new RegExp("^(".concat(tj,")$")),NB=new RegExp("(".concat(tj,")"));function zc(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return!(ha(e)||Er(e)&&(e=t0(e),(t?OB:VB).test((e||"").replace(/[- ]/g,""))||(t?LB:NB).test(e)))}function Ak(e){var t=Dg(e);return zc(t="".concat(t," ").concat(nj(e)).trim())?t:""}function nj(e){var t="";return e&&e.childNodes&&e.childNodes.length&&zt(e.childNodes,function(n){var r;if(n&&((r=n.tagName)===null||r===void 0?void 0:r.toLowerCase())==="span")try{var i=Dg(n);t="".concat(t," ").concat(i).trim(),n.childNodes&&n.childNodes.length&&(t="".concat(t," ").concat(nj(n)).trim())}catch(o){me.error(o)}}),t}function $B(e){return function(t){var n=t.map(function(r){var i,o,s="";if(r.tag_name&&(s+=r.tag_name),r.attr_class){r.attr_class.sort();var a,l=Oo(r.attr_class);try{for(l.s();!(a=l.n()).done;){var c=a.value;s+=".".concat(c.replace(/"/g,""))}}catch(h){l.e(h)}finally{l.f()}}var u=Ie(Ie(Ie(Ie({},r.text?{text:r.text}:{}),{},{"nth-child":(i=r.nth_child)!==null&&i!==void 0?i:0,"nth-of-type":(o=r.nth_of_type)!==null&&o!==void 0?o:0},r.href?{href:r.href}:{}),r.attr_id?{attr_id:r.attr_id}:{}),r.attributes),d={};return Zp(u).sort(function(h,p){var g=Nr(h,1)[0],m=Nr(p,1)[0];return g.localeCompare(m)}).forEach(function(h){var p=Nr(h,2),g=p[0],m=p[1];return d[bk(g.toString())]=bk(m.toString())}),s+=":",s+=Zp(u).map(function(h){var p=Nr(h,2),g=p[0],m=p[1];return"".concat(g,'="').concat(m,'"')}).join("")});return n.join(";")}(function(t){return t.map(function(n){var r,i,o={text:(r=n.$el_text)===null||r===void 0?void 0:r.slice(0,400),tag_name:n.tag_name,href:(i=n.attr__href)===null||i===void 0?void 0:i.slice(0,2048),attr_class:DB(n),attr_id:n.attr__id,nth_child:n.nth_child,nth_of_type:n.nth_of_type,attributes:{}};return Zp(n).filter(function(s){return Nr(s,1)[0].indexOf("attr__")===0}).forEach(function(s){var a=Nr(s,2),l=a[0],c=a[1];return o.attributes[l]=c}),o})}(e))}function bk(e){return e.replace(/"|\\"/g,'\\"')}function DB(e){var t=e.attr__class;return t?Un(t)?t:tx(t):void 0}var u1="[SessionRecording]",sy={initiatorTypes:["audio","beacon","body","css","early-hint","embed","fetch","frame","iframe","icon","image","img","input","link","navigation","object","ping","script","track","video","xmlhttprequest"],maskRequestFn:function(e){return e},recordHeaders:!1,recordBody:!1,recordInitialRequests:!1,recordPerformance:!1,performanceEntryTypeToObserve:["first-input","navigation","paint","resource"],payloadSizeLimitBytes:1e6},BB=["authorization","x-forwarded-for","authorization","cookie","set-cookie","x-api-key","x-real-ip","remote-addr","forwarded","proxy-authorization","x-csrf-token","x-csrftoken","x-xsrf-token"],FB=["password","secret","passwd","api_key","apikey","auth","credentials","mysql_pwd","privatekey","private_key","token"],zB=["/s/","/e/","/i/"];function _k(e,t,n,r){if(ha(e))return e;var i=(t==null?void 0:t["content-length"])||function(o){return new Blob([o]).size}(e);return Er(i)&&(i=parseInt(i)),i>n?u1+" ".concat(r," body too large to record (").concat(i," bytes)"):e}function xk(e,t){if(ha(e))return e;var n=e;return zc(n,!1)||(n=u1+" "+t+" body redacted"),zt(FB,function(r){var i,o;(i=n)!==null&&i!==void 0&&i.length&&((o=n)===null||o===void 0?void 0:o.indexOf(r))!==-1&&(n=u1+" "+t+" body redacted as might contain: "+r)}),n}var UB=function(e,t){var n,r,i,o={payloadSizeLimitBytes:sy.payloadSizeLimitBytes,performanceEntryTypeToObserve:ou(sy.performanceEntryTypeToObserve)},s=e.session_recording.recordHeaders!==!1&&t.recordHeaders,a=e.session_recording.recordBody!==!1&&t.recordBody,l=e.capture_performance!==!1&&t.recordPerformance,c=(n=o,i=Math.min(1e6,(r=n.payloadSizeLimitBytes)!==null&&r!==void 0?r:1e6),function(h){return h!=null&&h.requestBody&&(h.requestBody=_k(h.requestBody,h.requestHeaders,i,"Request")),h!=null&&h.responseBody&&(h.responseBody=_k(h.responseBody,h.responseHeaders,i,"Response")),h}),u=function(h){return c(function(m){var b=jM(m.name);if(!(b&&b.pathname&&zB.some(function(y){return b.pathname.indexOf(y)===0})))return m}((p=h,zt(Object.keys((g=p.requestHeaders)!==null&&g!==void 0?g:{}),function(m){var b;BB.includes(m.toLowerCase())&&((b=p.requestHeaders)===null||b===void 0||delete b[m])}),p)));var p,g},d=To(e.session_recording.maskNetworkRequestFn);return d&&To(e.session_recording.maskCapturedNetworkRequestFn)&&me.warn("Both `maskNetworkRequestFn` and `maskCapturedNetworkRequestFn` are defined. `maskNetworkRequestFn` will be ignored."),d&&(e.session_recording.maskCapturedNetworkRequestFn=function(h){var p=e.session_recording.maskNetworkRequestFn({url:h.name});return Ie(Ie({},h),{},{name:p==null?void 0:p.url})}),o.maskRequestFn=To(e.session_recording.maskCapturedNetworkRequestFn)?function(h){var p,g,m,b=u(h);return b&&(p=(g=(m=e.session_recording).maskCapturedNetworkRequestFn)===null||g===void 0?void 0:g.call(m,b))!==null&&p!==void 0?p:void 0}:function(h){return function(p){if(!We(p))return p.requestBody=xk(p.requestBody,"Request"),p.responseBody=xk(p.responseBody,"Response"),p}(u(h))},Ie(Ie(Ie({},sy),o),{},{recordHeaders:s,recordBody:a,recordPerformance:l,recordInitialRequests:l})},HB="__ph_opt_in_out_";function GB(e,t){oj(!0,e,t)}function qB(e,t){oj(!1,e,t)}function WB(e,t){return ij(e,t)==="1"}function rj(e,t){return!!function(n){if(n&&n.respectDnt){var r=n&&n.window||Z,i=r==null?void 0:r.navigator,o=!1;return zt([i==null?void 0:i.doNotTrack,i.msDoNotTrack,r.doNotTrack],function(s){ht([!0,1,"1","yes"],s)&&(o=!0)}),o}return!1}(t)||ij(e,t)==="0"}function KB(e,t){rx(t=t||{}).remove(ix(e,t),!!t.crossSubdomainCookie)}function rx(e){return(e=e||{}).persistenceType==="localStorage"?Ln:e.persistenceType==="localStorage+cookie"?kd:is}function ix(e,t){return((t=t||{}).persistencePrefix||HB)+e}function ij(e,t){return rx(t).get(ix(e,t))}function oj(e,t,n){Er(t)&&t.length?(rx(n=n||{}).set(ix(t,n),e?1:0,bo(n.cookieExpiration)?n.cookieExpiration:null,n.crossSubdomainCookie,n.secureCookie),n.capture&&e&&n.capture(n.captureEventName||"$opt_in",n.captureProperties||{},{send_instantly:!0})):me.error("gdpr."+(e?"optIn":"optOut")+" called with an invalid token")}function sj(e){var t=!1;try{var n=e.config.token,r=e.config.respect_dnt,i=e.config.opt_out_capturing_persistence_type,o=e.config.opt_out_capturing_cookie_prefix||void 0,s=e.config.window;n&&(t=rj(n,{respectDnt:r,persistenceType:i,persistencePrefix:o,window:s}))}catch(a){me.error("Unexpected error when checking capturing opt-out status: "+a)}return t}var qo,aj=3e5,Sk=aj;(function(e){e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet"})(qo||(qo={}));var YB=[qo.MouseMove,qo.MouseInteraction,qo.Scroll,qo.ViewportResize,qo.Input,qo.TouchMove,qo.MediaInteraction,qo.Drag],wk=function(e){return{rrwebMethod:e,enqueuedAt:Date.now(),attempt:1}},ci="[SessionRecording]",QB=function(){function e(t){var n=this;if(Kt(this,e),ie(this,"queuedRRWebEvents",[]),ie(this,"isIdle",!1),ie(this,"_linkedFlagSeen",!1),ie(this,"_lastActivityTimestamp",Date.now()),ie(this,"windowId",null),ie(this,"sessionId",null),ie(this,"_linkedFlag",null),ie(this,"_forceAllowLocalhostNetworkCapture",!1),ie(this,"_samplingSessionListener",null),this.instance=t,this._captureStarted=!1,this._endpoint="/s/",this.stopRrweb=void 0,this.receivedDecide=!1,Z==null||Z.addEventListener("beforeunload",function(){n._flushBuffer()}),Z==null||Z.addEventListener("offline",function(){n._tryAddCustomEvent("browser offline",{})}),Z==null||Z.addEventListener("online",function(){n._tryAddCustomEvent("browser online",{})}),Z==null||Z.addEventListener("visibilitychange",function(){if(Ee!=null&&Ee.visibilityState){var r="window "+Ee.visibilityState;n._tryAddCustomEvent(r,{})}}),!this.instance.sessionManager)throw me.error(ci+" started without valid sessionManager"),new Error(ci+" started without valid sessionManager. This is a bug.");this.buffer=this.clearBuffer(),this._setupSampling()}return Yt(e,[{key:"rrwebRecord",get:function(){var t;return fi==null||(t=fi.rrweb)===null||t===void 0?void 0:t.record}},{key:"started",get:function(){return this._captureStarted}},{key:"sessionManager",get:function(){if(!this.instance.sessionManager)throw me.error(ci+" started without valid sessionManager"),new Error(ci+" started without valid sessionManager. This is a bug.");return this.instance.sessionManager}},{key:"isSampled",get:function(){var t=this.instance.get_property(Bd);return Xp(t)?t:null}},{key:"sessionDuration",get:function(){var t,n,r=(t=this.buffer)===null||t===void 0?void 0:t.data[((n=this.buffer)===null||n===void 0?void 0:n.data.length)-1],i=this.sessionManager.checkAndGetSessionAndWindowId(!0).sessionStartTimestamp;return r?r.timestamp-i:null}},{key:"isRecordingEnabled",get:function(){var t=!!this.instance.get_property(XA),n=!this.instance.config.disable_session_recording;return Z&&t&&n}},{key:"isConsoleLogCaptureEnabled",get:function(){var t=!!this.instance.get_property(ok),n=this.instance.config.enable_recording_console_log;return n??t}},{key:"canvasRecording",get:function(){var t=this.instance.get_property(ak);return t&&t.fps&&t.quality?{enabled:t.enabled,fps:t.fps,quality:t.quality}:void 0}},{key:"networkPayloadCapture",get:function(){var t,n,r=this.instance.get_property(sk),i={recordHeaders:(t=this.instance.config.session_recording)===null||t===void 0?void 0:t.recordHeaders,recordBody:(n=this.instance.config.session_recording)===null||n===void 0?void 0:n.recordBody},o=(i==null?void 0:i.recordHeaders)||(r==null?void 0:r.recordHeaders),s=(i==null?void 0:i.recordBody)||(r==null?void 0:r.recordBody),a=this.instance.config.capture_performance||(r==null?void 0:r.capturePerformance);return o||s||a?{recordHeaders:o,recordBody:s,recordPerformance:a}:void 0}},{key:"sampleRate",get:function(){var t=this.instance.get_property(lk);return bo(t)?t:null}},{key:"minimumDuration",get:function(){var t=this.instance.get_property(ck);return bo(t)?t:null}},{key:"status",get:function(){return this.receivedDecide?this.isRecordingEnabled?ha(this._linkedFlag)||this._linkedFlagSeen?Xp(this.isSampled)?this.isSampled?"sampled":"disabled":"active":"buffering":"disabled":"buffering"}},{key:"startIfEnabledOrStop",value:function(){this.isRecordingEnabled?(this._startCapture(),me.info(ci+" started")):(this.stopRecording(),this.clearBuffer())}},{key:"stopRecording",value:function(){this._captureStarted&&this.stopRrweb&&(this.stopRrweb(),this.stopRrweb=void 0,this._captureStarted=!1,me.info(ci+" stopped"))}},{key:"makeSamplingDecision",value:function(t){var n,r=this.sessionId!==t,i=this.sampleRate;if(bo(i)){var o,s=this.isSampled,a=r||!Xp(s);a?o=Math.random()<i:o=s,!o&&a&&me.warn(ci+" Sample rate (".concat(i,") has determined that this sessionId (").concat(t,") will not be sent to the server.")),this._tryAddCustomEvent("samplingDecisionMade",{sampleRate:i}),(n=this.instance.persistence)===null||n===void 0||n.register(ie({},Bd,o))}else{var l;(l=this.instance.persistence)===null||l===void 0||l.register(ie({},Bd,null))}}},{key:"afterDecideResponse",value:function(t){var n,r,i,o=this;if(this._persistDecideResponse(t),this._linkedFlag=((n=t.sessionRecording)===null||n===void 0?void 0:n.linkedFlag)||null,(r=t.sessionRecording)!==null&&r!==void 0&&r.endpoint&&(this._endpoint=(i=t.sessionRecording)===null||i===void 0?void 0:i.endpoint),this._setupSampling(),!ha(this._linkedFlag)){var s=Er(this._linkedFlag)?this._linkedFlag:this._linkedFlag.flag,a=Er(this._linkedFlag)?null:this._linkedFlag.variant;this.instance.onFeatureFlags(function(l,c){var u=ts(c)&&s in c,d=a?c[s]===a:u;if(d){var h={linkedFlag:s,linkedVariant:a},p="linked flag matched";me.info(ci+" "+p,h),o._tryAddCustomEvent(p,h)}o._linkedFlagSeen=d})}this.receivedDecide=!0,this.startIfEnabledOrStop()}},{key:"_setupSampling",value:function(){var t=this;bo(this.sampleRate)&&Io(this._samplingSessionListener)&&(this._samplingSessionListener=this.sessionManager.onSessionId(function(n){t.makeSamplingDecision(n)}))}},{key:"_persistDecideResponse",value:function(t){if(this.instance.persistence){var n=this.instance.persistence,r=function(){var i,o,s,a,l,c,u,d,h=(i=t.sessionRecording)===null||i===void 0?void 0:i.sampleRate,p=ha(h)?null:parseFloat(h),g=(o=t.sessionRecording)===null||o===void 0?void 0:o.minimumDurationMilliseconds;n.register((ie(d={},XA,!!t.sessionRecording),ie(d,ok,(s=t.sessionRecording)===null||s===void 0?void 0:s.consoleLogRecordingEnabled),ie(d,sk,Ie({capturePerformance:t.capturePerformance},(a=t.sessionRecording)===null||a===void 0?void 0:a.networkPayloadCapture)),ie(d,ak,{enabled:(l=t.sessionRecording)===null||l===void 0?void 0:l.recordCanvas,fps:(c=t.sessionRecording)===null||c===void 0?void 0:c.canvasFps,quality:(u=t.sessionRecording)===null||u===void 0?void 0:u.canvasQuality}),ie(d,lk,p),ie(d,ck,We(g)?null:g),d))};r(),this.sessionManager.onSessionId(r)}}},{key:"log",value:function(t){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"log";(n=this.instance.sessionRecording)===null||n===void 0||n.onRRwebEmit({type:6,data:{plugin:"rrweb/console@1",payload:{level:r,trace:[],payload:[JSON.stringify(t)]}},timestamp:RM()})}},{key:"_startCapture",value:function(){var t=this;We(Object.assign)||this._captureStarted||this.instance.config.disable_session_recording||sj(this.instance)||(this._captureStarted=!0,this.sessionManager.checkAndGetSessionAndWindowId(),this.rrwebRecord?this._onScriptLoaded():vf(this.instance.requestRouter.endpointFor("assets","/static/recorder.js?v=".concat(sl.LIB_VERSION)),function(n){if(n)return me.error(ci+" could not load recorder.js",n);t._onScriptLoaded()}))}},{key:"isInteractiveEvent",value:function(t){var n;return t.type===3&&YB.indexOf((n=t.data)===null||n===void 0?void 0:n.source)!==-1}},{key:"_updateWindowAndSessionIds",value:function(t){var n=this.isInteractiveEvent(t);n||this.isIdle||t.timestamp-this._lastActivityTimestamp>Sk&&(this.isIdle=!0,this._tryAddCustomEvent("sessionIdle",{reason:"user inactivity",timeSinceLastActive:t.timestamp-this._lastActivityTimestamp,threshold:Sk}));var r=!1;if(n&&(this._lastActivityTimestamp=t.timestamp,this.isIdle&&(this.isIdle=!1,this._tryAddCustomEvent("sessionNoLongerIdle",{reason:"user activity",type:t.type}),r=!0)),!this.isIdle){var i=this.sessionManager.checkAndGetSessionAndWindowId(!n,t.timestamp),o=i.windowId,s=i.sessionId,a=this.sessionId!==s,l=this.windowId!==o;this.windowId=o,this.sessionId=s,(r||[RB,PB].indexOf(t.type)===-1&&(l||a))&&this._tryTakeFullSnapshot()}}},{key:"_tryRRWebMethod",value:function(t){try{return t.rrwebMethod(),!0}catch(n){return this.queuedRRWebEvents.length<10?this.queuedRRWebEvents.push({enqueuedAt:t.enqueuedAt||Date.now(),attempt:t.attempt++,rrwebMethod:t.rrwebMethod}):me.warn(ci+" could not emit queued rrweb event.",n,t),!1}}},{key:"_tryAddCustomEvent",value:function(t,n){var r=this;return this._tryRRWebMethod(wk(function(){return r.rrwebRecord.addCustomEvent(t,n)}))}},{key:"_tryTakeFullSnapshot",value:function(){var t=this;return this._tryRRWebMethod(wk(function(){return t.rrwebRecord.takeFullSnapshot()}))}},{key:"_onScriptLoaded",value:function(){for(var t,n=this,r={blockClass:"ph-no-capture",blockSelector:void 0,ignoreClass:"ph-ignore-input",maskTextClass:"ph-mask",maskTextSelector:void 0,maskTextFn:void 0,maskAllInputs:!0,maskInputOptions:{},maskInputFn:void 0,slimDOMOptions:{},collectFonts:!1,inlineStylesheet:!0,recordCrossOriginIframes:!1},i=this.instance.config.session_recording,o=0,s=Object.entries(i||{});o<s.length;o++){var a=Nr(s[o],2),l=a[0],c=a[1];l in r&&(r[l]=c)}if(this.canvasRecording&&this.canvasRecording.enabled&&(r.recordCanvas=!0,r.sampling={canvas:this.canvasRecording.fps},r.dataURLOptions={type:"image/webp",quality:this.canvasRecording.quality}),this.rrwebRecord){this.mutationRateLimiter=(t=this.mutationRateLimiter)!==null&&t!==void 0?t:new MB(this.rrwebRecord,{onBlockedNode:function(d,h){var p="Too many mutations on node '".concat(d,"'. Rate limiting. This could be due to SVG animations or something similar");me.info(p,{node:h}),n.log(ci+" "+p,"warn")}}),this._scheduleFullSnapshot();var u=this._gatherRRWebPlugins();this.stopRrweb=this.rrwebRecord(Ie({emit:function(d){n.onRRwebEmit(d)},plugins:u},r)),this.instance._addCaptureHook(function(d){try{if(d==="$pageview"){var h=Z?n._maskUrl(Z.location.href):"";if(!h)return;n._tryAddCustomEvent("$pageview",{href:h}),n._tryTakeFullSnapshot()}}catch(p){me.error("Could not add $pageview to rrweb session",p)}}),this._lastActivityTimestamp=Date.now(),this.isIdle=!1,this._tryAddCustomEvent("$session_options",{sessionRecordingOptions:r,activePlugins:u.map(function(d){return d==null?void 0:d.name})}),this._tryAddCustomEvent("$posthog_config",{config:this.instance.config})}else me.error(ci+"onScriptLoaded was called but rrwebRecord is not available. This indicates something has gone wrong.")}},{key:"_scheduleFullSnapshot",value:function(){var t=this;this._fullSnapshotTimer&&clearInterval(this._fullSnapshotTimer),this._fullSnapshotTimer=setInterval(function(){t._tryTakeFullSnapshot()},aj)}},{key:"_gatherRRWebPlugins",value:function(){var t=[];return fi.rrwebConsoleRecord&&this.isConsoleLogCaptureEnabled&&t.push(fi.rrwebConsoleRecord.getRecordConsolePlugin()),this.networkPayloadCapture&&To(fi.getRecordNetworkPlugin)&&(!mB.includes(location.hostname)||this._forceAllowLocalhostNetworkCapture?t.push(fi.getRecordNetworkPlugin(UB(this.instance.config,this.networkPayloadCapture))):me.info(ci+" NetworkCapture not started because we are on localhost.")),t}},{key:"onRRwebEmit",value:function(t){if(this._processQueuedEvents(),t&&ts(t)){if(t.type===eg.Meta){var n=this._maskUrl(t.data.href);if(this._lastHref=n,!n)return;t.data.href=n}else this._pageViewFallBack();t.type===eg.FullSnapshot&&this._scheduleFullSnapshot();var r=this.mutationRateLimiter?this.mutationRateLimiter.throttleMutations(t):t;if(r){var i=function(a){var l=a;if(l&&ts(l)&&l.type===6&&ts(l.data)&&l.data.plugin==="rrweb/console@1"){l.data.payload.payload.length>10&&(l.data.payload.payload=l.data.payload.payload.slice(0,10),l.data.payload.payload.push("...[truncated]"));for(var c=[],u=0;u<l.data.payload.payload.length;u++)l.data.payload.payload[u]&&l.data.payload.payload[u].length>2e3?c.push(l.data.payload.payload[u].slice(0,2e3)+"...[truncated]"):c.push(l.data.payload.payload[u]);return l.data.payload.payload=c,a}return a}(r),o=JSON.stringify(i).length;if(this._updateWindowAndSessionIds(i),!this.isIdle||i.type===eg.Custom){var s={$snapshot_bytes:o,$snapshot_data:i,$session_id:this.sessionId,$window_id:this.windowId};this.status!=="disabled"?this._captureSnapshotBuffered(s):this.clearBuffer()}}}}},{key:"_pageViewFallBack",value:function(){if(!this.instance.config.capture_pageview&&Z){var t=this._maskUrl(Z.location.href);this._lastHref!==t&&(this._tryAddCustomEvent("$url_changed",{href:t}),this._lastHref=t)}}},{key:"_processQueuedEvents",value:function(){var t=this;if(this.queuedRRWebEvents.length){var n=ou(this.queuedRRWebEvents);this.queuedRRWebEvents=[],n.forEach(function(r){Date.now()-r.enqueuedAt>2e3?t._tryAddCustomEvent("rrwebQueueTimeout",{enqueuedAt:r.enqueuedAt,attempt:r.attempt,queueLength:n.length}):t._tryRRWebMethod(r)&&t._tryAddCustomEvent("rrwebQueueSuccess",{enqueuedAt:r.enqueuedAt,attempt:r.attempt,queueLength:n.length})})}}},{key:"_maskUrl",value:function(t){var n=this.instance.config.session_recording;if(n.maskNetworkRequestFn){var r,i={url:t};return(r=i=n.maskNetworkRequestFn(i))===null||r===void 0?void 0:r.url}return t}},{key:"clearBuffer",value:function(){return this.buffer=void 0,{size:0,data:[],sessionId:this.sessionId,windowId:this.windowId}}},{key:"_flushBuffer",value:function(){var t=this;this.flushBufferTimer&&(clearTimeout(this.flushBufferTimer),this.flushBufferTimer=void 0);var n=this.minimumDuration,r=this.sessionDuration,i=bo(r)&&r>=0,o=bo(n)&&i&&r<n;return this.status==="buffering"||o?(this.flushBufferTimer=setTimeout(function(){t._flushBuffer()},2e3),this.buffer||this.clearBuffer()):this.buffer&&this.buffer.data.length!==0?(this._captureSnapshot({$snapshot_bytes:this.buffer.size,$snapshot_data:this.buffer.data,$session_id:this.buffer.sessionId,$window_id:this.buffer.windowId}),this.clearBuffer()):this.buffer||this.clearBuffer()}},{key:"_captureSnapshotBuffered",value:function(t){var n,r=this,i=2+(((n=this.buffer)===null||n===void 0?void 0:n.data.length)||0);(!this.buffer||this.buffer.size+t.$snapshot_bytes+i>943718.4||this.buffer.sessionId&&this.buffer.sessionId!==this.sessionId)&&(this.buffer=this._flushBuffer()),Io(this.buffer.sessionId)&&!Io(this.sessionId)&&(this.buffer.sessionId=this.sessionId,this.buffer.windowId=this.windowId),this.buffer.size+=t.$snapshot_bytes,this.buffer.data.push(t.$snapshot_data),this.flushBufferTimer||(this.flushBufferTimer=setTimeout(function(){r._flushBuffer()},2e3))}},{key:"_captureSnapshot",value:function(t){this.instance.capture("$snapshot",t,{_url:this.instance.requestRouter.endpointFor("api",this._endpoint),_noTruncate:!0,_batchKey:"recordings",_noHeatmaps:!0})}}]),e}(),JB=function(){function e(t){Kt(this,e),this.instance=t,this.instance.decideEndpointWasHit=this.instance._hasBootstrappedFeatureFlags()}return Yt(e,[{key:"call",value:function(){var t=this,n={token:this.instance.config.token,distinct_id:this.instance.get_distinct_id(),groups:this.instance.getGroups(),person_properties:this.instance.get_property(_c),group_properties:this.instance.get_property(Js),disable_flags:this.instance.config.advanced_disable_feature_flags||this.instance.config.advanced_disable_feature_flags_on_first_load||void 0};this.instance._send_request({method:"POST",url:this.instance.requestRouter.endpointFor("api","/decide/?v=3"),data:n,compression:this.instance.config.disable_compression?void 0:xo.Base64,timeout:this.instance.config.feature_flag_request_timeout_ms,callback:function(r){return t.parseDecideResponse(r.json)}})}},{key:"parseDecideResponse",value:function(t){var n=this;this.instance.featureFlags.setReloadingPaused(!1),this.instance.featureFlags._startReloadTimer();var r=!t;if(this.instance.config.advanced_disable_feature_flags_on_first_load||this.instance.config.advanced_disable_feature_flags||this.instance.featureFlags.receivedFeatureFlags(t??{},r),r)me.error("Failed to fetch feature flags from PostHog.");else{if(!Ee||!Ee.body)return me.info("document not ready yet, trying again in 500 milliseconds..."),void setTimeout(function(){n.parseDecideResponse(t)},500);this.instance._afterDecideResponse(t);var i=Z==null?void 0:Z.extendPostHogWithExceptionAutoCapture;if(t.autocaptureExceptions&&t.autocaptureExceptions&&We(i)&&vf(this.instance.requestRouter.endpointFor("assets","/static/exception-autocapture.js"),function(l){if(l)return me.error("Could not load exception autocapture script",l);Z.extendPostHogWithExceptionAutocapture(n.instance,t)}),t.siteApps)if(this.instance.config.opt_in_site_apps){var o,s=Oo(t.siteApps);try{var a=function(){var l=o.value,c=l.id,u=l.url,d=n.instance.requestRouter.endpointFor("api",u);fi["__$$ph_site_app_".concat(c)]=n.instance,vf(d,function(h){h&&me.error("Error while initializing PostHog app with config id ".concat(c),h)})};for(s.s();!(o=s.n()).done;)a()}catch(l){s.e(l)}finally{s.f()}}else t.siteApps.length>0&&me.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.')}}}]),e}(),XB=Z!=null&&Z.location?Lg(Z.location.hash,"__posthog")||Lg(location.hash,"state"):null,ay="_postHogToolbarParams",ZB=function(){function e(t){Kt(this,e),ie(this,"_toolbarScriptLoaded",!1),this.instance=t}return Yt(e,[{key:"maybeLoadToolbar",value:function(){var t,n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;if(!Z||!Ee)return!1;r=(t=r)!==null&&t!==void 0?t:Z.location,o=(n=o)!==null&&n!==void 0?n:Z.history;try{if(!i){try{Z.localStorage.setItem("test","test"),Z.localStorage.removeItem("test")}catch{return!1}i=Z==null?void 0:Z.localStorage}var s,a=XB||Lg(r.hash,"__posthog")||Lg(r.hash,"state"),l=a?rk(function(){return JSON.parse(atob(decodeURIComponent(a)))})||rk(function(){return JSON.parse(decodeURIComponent(a))}):null;return l&&l.action==="ph_authorize"?((s=l).source="url",s&&Object.keys(s).length>0&&(l.desiredHash?r.hash=l.desiredHash:o?o.replaceState("",Ee.title,r.pathname+r.search):r.hash="")):((s=JSON.parse(i.getItem(ay)||"{}")).source="localstorage",delete s.userIntent),!(!s.token||this.instance.config.token!==s.token)&&(this.loadToolbar(s),!0)}catch{return!1}}},{key:"_callLoadToolbar",value:function(t){(fi.ph_load_toolbar||fi.ph_load_editor)(t,this.instance)}},{key:"loadToolbar",value:function(t){var n=this;if(!Z||Z.localStorage.getItem(ay)&&this._toolbarScriptLoaded)return!1;var r=this.instance.requestRouter.region==="custom"&&this.instance.config.advanced_disable_toolbar_metrics,i=Ie(Ie({token:this.instance.config.token},t),{},{apiURL:this.instance.requestRouter.endpointFor("ui")},r?{instrument:!1}:{});if(Z.localStorage.setItem(ay,JSON.stringify(Ie(Ie({},i),{},{source:void 0}))),this._toolbarScriptLoaded)this._callLoadToolbar(i);else{this._toolbarScriptLoaded=!0;var o=3e5,s=Math.floor(Date.now()/o)*o;vf(this.instance.requestRouter.endpointFor("assets","/static/toolbar.js?t=".concat(s)),function(a){if(a)return me.error("Failed to load toolbar",a),void(n._toolbarScriptLoaded=!1);n._callLoadToolbar(i)}),_s(Z,"turbolinks:load",function(){n._toolbarScriptLoaded=!1,n.loadToolbar(i)})}return!0}},{key:"_loadEditor",value:function(t){return this.loadToolbar(t)}},{key:"maybeLoadEditor",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;return this.maybeLoadToolbar(t,n,r)}}]),e}(),eF=function(){function e(t){Kt(this,e),ie(this,"isPaused",!0),ie(this,"queue",[]),ie(this,"flushTimeoutMs",3e3),this.sendRequest=t}return Yt(e,[{key:"enqueue",value:function(t){this.queue.push(t),this.flushTimeout||this.setFlushTimeout()}},{key:"unload",value:function(){var t=this;this.clearFlushTimeout();var n=this.queue.length>0?this.formatQueue():{},r=Object.values(n);[].concat(ou(r.filter(function(i){return i.url.indexOf("/e")===0})),ou(r.filter(function(i){return i.url.indexOf("/e")!==0}))).map(function(i){t.sendRequest(Ie(Ie({},i),{},{transport:"sendBeacon"}))})}},{key:"enable",value:function(){this.isPaused=!1,this.setFlushTimeout()}},{key:"setFlushTimeout",value:function(){var t=this;this.isPaused||(this.flushTimeout=setTimeout(function(){if(t.clearFlushTimeout(),t.queue.length>0){var n=t.formatQueue(),r=function(o){var s=n[o],a=new Date().getTime();s.data&&Un(s.data)&&zt(s.data,function(l){l.offset=Math.abs(l.timestamp-a),delete l.timestamp}),t.sendRequest(s)};for(var i in n)r(i)}},this.flushTimeoutMs))}},{key:"clearFlushTimeout",value:function(){clearTimeout(this.flushTimeout),this.flushTimeout=void 0}},{key:"formatQueue",value:function(){var t={};return zt(this.queue,function(n){var r,i=n,o=(i?i.batchKey:null)||i.url;We(t[o])&&(t[o]=Ie(Ie({},i),{},{data:[]})),(r=t[o].data)===null||r===void 0||r.push(i.data)}),this.queue=[],t}}]),e}(),yi=Uint8Array,Br=Uint16Array,au=Uint32Array,ox=new yi([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),sx=new yi([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Ek=new yi([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),lj=function(e,t){for(var n=new Br(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];var i=new au(n[30]);for(r=1;r<30;++r)for(var o=n[r];o<n[r+1];++o)i[o]=o-n[r]<<5|r;return[n,i]},cj=lj(ox,2),tF=cj[0],d1=cj[1];tF[28]=258,d1[258]=28;for(var kk=lj(sx,0)[1],f1=new Br(32768),qt=0;qt<32768;++qt){var Ga=(43690&qt)>>>1|(21845&qt)<<1;Ga=(61680&(Ga=(52428&Ga)>>>2|(13107&Ga)<<2))>>>4|(3855&Ga)<<4,f1[qt]=((65280&Ga)>>>8|(255&Ga)<<8)>>>1}var Fd=function(e,t,n){for(var r=e.length,i=0,o=new Br(t);i<r;++i)++o[e[i]-1];var s,a=new Br(t);for(i=0;i<t;++i)a[i]=a[i-1]+o[i-1]<<1;if(n){s=new Br(1<<t);var l=15-t;for(i=0;i<r;++i)if(e[i])for(var c=i<<4|e[i],u=t-e[i],d=a[e[i]-1]++<<u,h=d|(1<<u)-1;d<=h;++d)s[f1[d]>>>l]=c}else for(s=new Br(r),i=0;i<r;++i)s[i]=f1[a[e[i]-1]++]>>>15-e[i];return s},kl=new yi(288);for(qt=0;qt<144;++qt)kl[qt]=8;for(qt=144;qt<256;++qt)kl[qt]=9;for(qt=256;qt<280;++qt)kl[qt]=7;for(qt=280;qt<288;++qt)kl[qt]=8;var Bg=new yi(32);for(qt=0;qt<32;++qt)Bg[qt]=5;var nF=Fd(kl,9,0),rF=Fd(Bg,5,0),uj=function(e){return(e/8>>0)+(7&e&&1)},dj=function(e,t,n){(t==null||t<0)&&(t=0),(n==null||n>e.length)&&(n=e.length);var r=new(e instanceof Br?Br:e instanceof au?au:yi)(n-t);return r.set(e.subarray(t,n)),r},fs=function(e,t,n){n<<=7&t;var r=t/8>>0;e[r]|=n,e[r+1]|=n>>>8},td=function(e,t,n){n<<=7&t;var r=t/8>>0;e[r]|=n,e[r+1]|=n>>>8,e[r+2]|=n>>>16},ly=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var i=n.length,o=n.slice();if(!i)return[new yi(0),0];if(i==1){var s=new yi(n[0].s+1);return s[n[0].s]=1,[s,1]}n.sort(function(_,w){return _.f-w.f}),n.push({s:-1,f:25001});var a=n[0],l=n[1],c=0,u=1,d=2;for(n[0]={s:-1,f:a.f+l.f,l:a,r:l};u!=i-1;)a=n[n[c].f<n[d].f?c++:d++],l=n[c!=u&&n[c].f<n[d].f?c++:d++],n[u++]={s:-1,f:a.f+l.f,l:a,r:l};var h=o[0].s;for(r=1;r<i;++r)o[r].s>h&&(h=o[r].s);var p=new Br(h+1),g=iF(n[u-1],p,0);if(g>t){r=0;var m=0,b=g-t,y=1<<b;for(o.sort(function(_,w){return p[w.s]-p[_.s]||_.f-w.f});r<i;++r){var A=o[r].s;if(!(p[A]>t))break;m+=y-(1<<g-p[A]),p[A]=t}for(m>>>=b;m>0;){var x=o[r].s;p[x]<t?m-=1<<t-p[x]++-1:++r}for(;r>=0&&m;--r){var S=o[r].s;p[S]==t&&(--p[S],++m)}g=t}return[new yi(p),g]},iF=function e(t,n,r){return t.s==-1?Math.max(e(t.l,n,r+1),e(t.r,n,r+1)):n[t.s]=r},Ck=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new Br(++t),r=0,i=e[0],o=1,s=function(l){n[r++]=l},a=1;a<=t;++a)if(e[a]==i&&a!=t)++o;else{if(!i&&o>2){for(;o>138;o-=138)s(32754);o>2&&(s(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(s(i),--o;o>6;o-=6)s(8304);o>2&&(s(o-3<<5|8208),o=0)}for(;o--;)s(i);o=1,i=e[a]}return[n.subarray(0,r),t]},nd=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},tg=function(e,t,n){var r=n.length,i=uj(t+2);e[i]=255&r,e[i+1]=r>>>8,e[i+2]=255^e[i],e[i+3]=255^e[i+1];for(var o=0;o<r;++o)e[i+o+4]=n[o];return 8*(i+4+r)},Tk=function(e,t,n,r,i,o,s,a,l,c,u){fs(t,u++,n),++i[256];for(var d=ly(i,15),h=d[0],p=d[1],g=ly(o,15),m=g[0],b=g[1],y=Ck(h),A=y[0],x=y[1],S=Ck(m),_=S[0],w=S[1],E=new Br(19),T=0;T<A.length;++T)E[31&A[T]]++;for(T=0;T<_.length;++T)E[31&_[T]]++;for(var O=ly(E,7),L=O[0],N=O[1],H=19;H>4&&!L[Ek[H-1]];--H);var P,j,R,k,$=c+5<<3,V=nd(i,kl)+nd(o,Bg)+s,z=nd(i,h)+nd(o,m)+s+14+3*H+nd(E,L)+(2*E[16]+3*E[17]+7*E[18]);if($<=V&&$<=z)return tg(t,u,e.subarray(l,l+c));if(fs(t,u,1+(z<V)),u+=2,z<V){P=Fd(h,p,0),j=h,R=Fd(m,b,0),k=m;var B=Fd(L,N,0);for(fs(t,u,x-257),fs(t,u+5,w-1),fs(t,u+10,H-4),u+=14,T=0;T<H;++T)fs(t,u+3*T,L[Ek[T]]);u+=3*H;for(var G=[A,_],U=0;U<2;++U){var te=G[U];for(T=0;T<te.length;++T){var D=31&te[T];fs(t,u,B[D]),u+=L[D],D>15&&(fs(t,u,te[T]>>>5&127),u+=te[T]>>>12)}}}else P=nF,j=kl,R=rF,k=Bg;for(T=0;T<a;++T)if(r[T]>255){D=r[T]>>>18&31,td(t,u,P[D+257]),u+=j[D+257],D>7&&(fs(t,u,r[T]>>>23&31),u+=ox[D]);var ce=31&r[T];td(t,u,R[ce]),u+=k[ce],ce>3&&(td(t,u,r[T]>>>5&8191),u+=sx[ce])}else td(t,u,P[r[T]]),u+=j[r[T]];return td(t,u,P[256]),u+j[256]},oF=new au([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),sF=new yi(0),aF=function(){for(var e=new au(256),t=0;t<256;++t){for(var n=t,r=9;--r;)n=(1&n&&3988292384)^n>>>1;e[t]=n}return e}(),lF=function(e,t,n,r,i){return function(o,s,a,l,c,u){var d=o.length,h=new yi(l+d+5*(1+Math.floor(d/7e3))+c),p=h.subarray(l,h.length-c),g=0;if(!s||d<8)for(var m=0;m<=d;m+=65535){var b=m+65535;b<d?g=tg(p,g,o.subarray(m,b)):(p[m]=u,g=tg(p,g,o.subarray(m,d)))}else{for(var y=oF[s-1],A=y>>>13,x=8191&y,S=(1<<a)-1,_=new Br(32768),w=new Br(S+1),E=Math.ceil(a/3),T=2*E,O=function(Ye){return(o[Ye]^o[Ye+1]<<E^o[Ye+2]<<T)&S},L=new au(25e3),N=new Br(288),H=new Br(32),P=0,j=0,R=(m=0,0),k=0,$=0;m<d;++m){var V=O(m),z=32767&m,B=w[V];if(_[z]=B,w[V]=z,k<=m){var G=d-m;if((P>7e3||R>24576)&&G>423){g=Tk(o,p,0,L,N,H,j,R,$,m-$,g),R=P=j=0,$=m;for(var U=0;U<286;++U)N[U]=0;for(U=0;U<30;++U)H[U]=0}var te=2,D=0,ce=x,X=z-B&32767;if(G>2&&V==O(m-X))for(var se=Math.min(A,G)-1,Pe=Math.min(32767,m),be=Math.min(258,G);X<=Pe&&--ce&&z!=B;){if(o[m+te]==o[m+te-X]){for(var ae=0;ae<be&&o[m+ae]==o[m+ae-X];++ae);if(ae>te){if(te=ae,D=X,ae>se)break;var xe=Math.min(X,ae-2),ze=0;for(U=0;U<xe;++U){var Ne=m-X+U+32768&32767,_e=Ne-_[Ne]+32768&32767;_e>ze&&(ze=_e,B=Ne)}}}X+=(z=B)-(B=_[z])+32768&32767}if(D){L[R++]=268435456|d1[te]<<18|kk[D];var Ce=31&d1[te],Ke=31&kk[D];j+=ox[Ce]+sx[Ke],++N[257+Ce],++H[Ke],k=m+te,++P}else L[R++]=o[m],++N[o[m]]}}g=Tk(o,p,u,L,N,H,j,R,$,m-$,g),u||(g=tg(p,g,sF))}return dj(h,0,l+uj(g)+c)}(e,t.level==null?6:t.level,t.mem==null?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):12+t.mem,n,r,!i)},cy=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8};function cF(e,t){t===void 0&&(t={});var n=function(){var a=4294967295;return{p:function(l){for(var c=a,u=0;u<l.length;++u)c=aF[255&c^l[u]]^c>>>8;a=c},d:function(){return 4294967295^a}}}(),r=e.length;n.p(e);var i,o=lF(e,t,10+((i=t).filename&&i.filename.length+1||0),8),s=o.length;return function(a,l){var c=l.filename;if(a[0]=31,a[1]=139,a[2]=8,a[8]=l.level<2?4:l.level==9?2:0,a[9]=3,l.mtime!=0&&cy(a,4,Math.floor(new Date(l.mtime||Date.now())/1e3)),c){a[3]=8;for(var u=0;u<=c.length;++u)a[u+10]=c.charCodeAt(u)}}(o,t),cy(o,s-8,n.d()),cy(o,s-4,r),o}var uF=!!Q_||!!Y_,Ik="text/plain",Fg=function(e,t){var n=Nr(e.split("?"),2),r=n[0],i=n[1],o=Ie({},t);i==null||i.split("&").forEach(function(a){var l=Nr(a.split("="),1)[0];delete o[l]});var s=yB(o);return s=s?(i?i+"&":"")+s:i,"".concat(r,"?").concat(s)},dF=function(e){return"data="+encodeURIComponent(typeof e=="string"?e:JSON.stringify(e))},ax=function(e){var t=e.data,n=e.compression;if(t){if(n===xo.GZipJS){var r=cF(function(o,s){var a=o.length;if(!s&&typeof TextEncoder<"u")return new TextEncoder().encode(o);for(var l=new yi(o.length+(o.length>>>1)),c=0,u=function(g){l[c++]=g},d=0;d<a;++d){if(c+5>l.length){var h=new yi(c+8+(a-d<<1));h.set(l),l=h}var p=o.charCodeAt(d);p<128||s?u(p):p<2048?(u(192|p>>>6),u(128|63&p)):p>55295&&p<57344?(u(240|(p=65536+(1047552&p)|1023&o.charCodeAt(++d))>>>18),u(128|p>>>12&63),u(128|p>>>6&63),u(128|63&p)):(u(224|p>>>12),u(128|p>>>6&63),u(128|63&p))}return dj(l,0,c)}(JSON.stringify(t)),{mtime:0});return{contentType:Ik,body:new Blob([r],{type:Ik})}}if(n===xo.Base64){var i=function(o){var s,a,l,c,u,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",h=0,p=0,g="",m=[];if(!o)return o;o=iB(o);do s=(u=o.charCodeAt(h++)<<16|o.charCodeAt(h++)<<8|o.charCodeAt(h++))>>18&63,a=u>>12&63,l=u>>6&63,c=63&u,m[p++]=d.charAt(s)+d.charAt(a)+d.charAt(l)+d.charAt(c);while(h<o.length);switch(g=m.join(""),o.length%3){case 1:g=g.slice(0,-2)+"==";break;case 2:g=g.slice(0,-1)+"="}return g}(JSON.stringify(t));return{contentType:"application/x-www-form-urlencoded",body:dF(i)}}return{contentType:"application/json",body:JSON.stringify(t)}}},fF=function(e){var t,n=new Q_;n.open(e.method||"GET",e.url,!0);var r=(t=ax(e))!==null&&t!==void 0?t:{},i=r.contentType,o=r.body;zt(e.headers,function(s,a){n.setRequestHeader(a,s)}),i&&n.setRequestHeader("Content-Type",i),e.timeout&&(n.timeout=e.timeout),n.withCredentials=!0,n.onreadystatechange=function(){if(n.readyState===4){var s,a={statusCode:n.status,text:n.responseText};if(n.status===200)try{a.json=JSON.parse(n.responseText)}catch{}(s=e.callback)===null||s===void 0||s.call(e,a)}},n.send(o)},hF=function(e){var t,n,r=(t=ax(e))!==null&&t!==void 0?t:{},i=r.contentType,o=r.body,s=new Headers;zt(s,function(u,d){s.append(d,u)}),i&&s.append("Content-Type",i);var a=e.url,l=null;if(tk){var c=new tk;l={signal:c.signal,timeout:setTimeout(function(){return c.abort()},e.timeout)}}Y_(a,{method:(e==null?void 0:e.method)||"GET",headers:s,keepalive:e.method==="POST",body:o,signal:(n=l)===null||n===void 0?void 0:n.signal}).then(function(u){return u.text().then(function(d){var h,p={statusCode:u.status,text:d};if(u.status===200)try{p.json=JSON.parse(d)}catch(g){me.error(g)}(h=e.callback)===null||h===void 0||h.call(e,p)})}).catch(function(u){var d;me.error(u),(d=e.callback)===null||d===void 0||d.call(e,{statusCode:0,text:u})}).finally(function(){return l?clearTimeout(l.timeout):null})},pF=function(e){var t=Fg(e.url,{beacon:"1"});try{var n,r=(n=ax(e))!==null&&n!==void 0?n:{},i=r.contentType,o=r.body,s=typeof o=="string"?new Blob([o],{type:i}):o;mf.sendBeacon(t,s)}catch{}},gF=function(e){var t;if(Ee){var n=Ee.createElement("script");n.type="text/javascript",n.async=!0,n.defer=!0,n.src=e.url;var r=Ee.getElementsByTagName("script")[0];(t=r.parentNode)===null||t===void 0||t.insertBefore(n,r)}},mF=["retriesPerformedSoFar"],al,vF=function(){function e(t){var n=this;Kt(this,e),ie(this,"isPolling",!1),ie(this,"pollIntervalMs",3e3),ie(this,"queue",[]),this.instance=t,this.queue=[],this.areWeOnline=!0,!We(Z)&&"onLine"in Z.navigator&&(this.areWeOnline=Z.navigator.onLine,Z.addEventListener("online",function(){n.areWeOnline=!0,n.flush()}),Z.addEventListener("offline",function(){n.areWeOnline=!1}))}return Yt(e,[{key:"retriableRequest",value:function(t){var n=this,r=t.retriesPerformedSoFar,i=ZD(t,mF);bo(r)&&r>0&&(i.url=Fg(i.url,{retry_count:r})),this.instance._send_request(Ie(Ie({},i),{},{callback:function(o){var s;o.statusCode!==200&&(o.statusCode<400||o.statusCode>=500)&&(r??0)<10?n.enqueue(Ie({},i)):(s=i.callback)===null||s===void 0||s.call(i,o)}}))}},{key:"enqueue",value:function(t){var n=t.retriesPerformedSoFar||0;t.retriesPerformedSoFar=n+1;var r=function(s){var a=3e3*Math.pow(2,s),l=a/2,c=Math.min(18e5,a),u=(Math.random()-.5)*(c-l);return Math.ceil(c+u)}(n),i=Date.now()+r;this.queue.push({retryAt:i,requestOptions:t});var o="Enqueued failed request for retry in ".concat(r);navigator.onLine||(o+=" (Browser is offline)"),me.warn(o),this.isPolling||(this.isPolling=!0,this.poll())}},{key:"poll",value:function(){var t=this;this.poller&&clearTimeout(this.poller),this.poller=setTimeout(function(){t.areWeOnline&&t.queue.length>0&&t.flush(),t.poll()},this.pollIntervalMs)}},{key:"flush",value:function(){var t=Date.now(),n=[],r=this.queue.filter(function(a){return a.retryAt<t||(n.push(a),!1)});if(this.queue=n,r.length>0){var i,o=Oo(r);try{for(o.s();!(i=o.n()).done;){var s=i.value.requestOptions;this.retriableRequest(s)}}catch(a){o.e(a)}finally{o.f()}}}},{key:"unload",value:function(){this.poller&&(clearTimeout(this.poller),this.poller=void 0);var t,n=Oo(this.queue);try{for(n.s();!(t=n.n()).done;){var r=t.value.requestOptions;try{this.instance._send_request(Ie(Ie({},r),{},{transport:"sendBeacon"}))}catch(i){me.error(i)}}}catch(i){n.e(i)}finally{n.f()}this.queue=[]}}]),e}(),Jh=1800,yF=function(){function e(t,n,r,i){Kt(this,e),ie(this,"_sessionIdChangedHandlers",[]),this.config=t,this.persistence=n,this._windowId=void 0,this._sessionId=void 0,this._sessionStartTimestamp=null,this._sessionActivityTimestamp=null,this._sessionIdGenerator=r||sa,this._windowIdGenerator=i||sa;var o=t.persistence_name||t.token,s=t.session_idle_timeout_seconds||Jh;if(bo(s)?s>Jh?me.warn("session_idle_timeout_seconds cannot be  greater than 30 minutes. Using 30 minutes instead."):s<60&&me.warn("session_idle_timeout_seconds cannot be less than 60 seconds. Using 60 seconds instead."):(me.warn("session_idle_timeout_seconds must be a number. Defaulting to 30 minutes."),s=Jh),this._sessionTimeoutMs=1e3*Math.min(Math.max(s,60),Jh),this._window_id_storage_key="ph_"+o+"_window_id",this._primary_window_exists_storage_key="ph_"+o+"_primary_window_exists",this._canUseSessionStorage()){var a=ur.parse(this._window_id_storage_key),l=ur.parse(this._primary_window_exists_storage_key);a&&!l?this._windowId=a:ur.remove(this._window_id_storage_key),ur.set(this._primary_window_exists_storage_key,!0)}this._listenToReloadWindow()}return Yt(e,[{key:"onSessionId",value:function(t){var n=this;return We(this._sessionIdChangedHandlers)&&(this._sessionIdChangedHandlers=[]),this._sessionIdChangedHandlers.push(t),this._sessionId&&t(this._sessionId,this._windowId),function(){n._sessionIdChangedHandlers=n._sessionIdChangedHandlers.filter(function(r){return r!==t})}}},{key:"_canUseSessionStorage",value:function(){return this.config.persistence!=="memory"&&!this.persistence.disabled&&ur.is_supported()}},{key:"_setWindowId",value:function(t){t!==this._windowId&&(this._windowId=t,this._canUseSessionStorage()&&ur.set(this._window_id_storage_key,t))}},{key:"_getWindowId",value:function(){return this._windowId?this._windowId:this._canUseSessionStorage()?ur.parse(this._window_id_storage_key):null}},{key:"_setSessionId",value:function(t,n,r){t===this._sessionId&&n===this._sessionActivityTimestamp&&r===this._sessionStartTimestamp||(this._sessionStartTimestamp=r,this._sessionActivityTimestamp=n,this._sessionId=t,this.persistence.register(ie({},jg,[n,t,r])))}},{key:"_getSessionId",value:function(){if(this._sessionId&&this._sessionActivityTimestamp&&this._sessionStartTimestamp)return[this._sessionActivityTimestamp,this._sessionId,this._sessionStartTimestamp];var t=this.persistence.props[jg];return Un(t)&&t.length===2&&t.push(t[0]),t||[0,null,0]}},{key:"resetSessionId",value:function(){this._setSessionId(null,null,null)}},{key:"_listenToReloadWindow",value:function(){var t=this;Z==null||Z.addEventListener("beforeunload",function(){t._canUseSessionStorage()&&ur.remove(t._primary_window_exists_storage_key)})}},{key:"checkAndGetSessionAndWindowId",value:function(){var t=arguments.length>0&&arguments[0]!==void 0&&arguments[0],n=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:null)||new Date().getTime(),r=Nr(this._getSessionId(),3),i=r[0],o=r[1],s=r[2],a=this._getWindowId(),l=s&&s>0&&Math.abs(n-s)>864e5,c=!1,u=!o,d=!t&&Math.abs(n-i)>this._sessionTimeoutMs;u||d||l?(o=this._sessionIdGenerator(),a=this._windowIdGenerator(),me.info("[SessionId] new session ID generated",{sessionId:o,windowId:a,changeReason:{noSessionId:u,activityTimeout:d,sessionPastMaximumLength:l}}),s=n,c=!0):a||(a=this._windowIdGenerator(),c=!0);var h=i===0||!t||l?n:i,p=s===0?new Date().getTime():s;return this._setWindowId(a),this._setSessionId(o,h,p),c&&this._sessionIdChangedHandlers.forEach(function(g){return g(o,a)}),{sessionId:o,windowId:a,sessionStartTimestamp:p}}}]),e}();(function(e){e.US="us",e.EU="eu",e.CUSTOM="custom"})(al||(al={}));var Rk="i.posthog.com",AF=function(){function e(t){Kt(this,e),ie(this,"_regionCache",{}),this.instance=t}return Yt(e,[{key:"apiHost",get:function(){return this.instance.config.api_host.trim().replace(/\/$/,"")}},{key:"uiHost",get:function(){var t;return(t=this.instance.config.ui_host)===null||t===void 0?void 0:t.replace(/\/$/,"")}},{key:"region",get:function(){return this._regionCache[this.apiHost]||(/https:\/\/(app|us|us-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this._regionCache[this.apiHost]=al.US:/https:\/\/(eu|eu-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this._regionCache[this.apiHost]=al.EU:this._regionCache[this.apiHost]=al.CUSTOM),this._regionCache[this.apiHost]}},{key:"endpointFor",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(n&&(n=n[0]==="/"?n:"/".concat(n)),t==="ui")return(this.uiHost||this.apiHost.replace(".".concat(Rk),".posthog.com"))+n;if(this.region===al.CUSTOM)return this.apiHost+n;var r=Rk+n;switch(t){case"assets":return"https://".concat(this.region,"-assets.").concat(r);case"api":return"https://".concat(this.region,".").concat(r)}}}]),e}(),bF=Yt(function e(t,n,r,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:["error"];Kt(this,e),this.name="posthog-js",this.setupOnce=function(s){s(function(a){var l,c,u,d,h;if(!(o==="*"||o.includes(a.level))||!t.__loaded)return a;a.tags||(a.tags={});var p=t.requestRouter.endpointFor("ui","/project/".concat(t.config.token,"/person/").concat(t.get_distinct_id()));a.tags["PostHog Person URL"]=p,t.sessionRecordingStarted()&&(a.tags["PostHog Recording URL"]=t.get_session_replay_url({withTimestamp:!0}));var g=((l=a.exception)===null||l===void 0?void 0:l.values)||[],m={$exception_message:((c=g[0])===null||c===void 0?void 0:c.value)||a.message,$exception_type:(u=g[0])===null||u===void 0?void 0:u.type,$exception_personURL:p,$sentry_event_id:a.event_id,$sentry_exception:a.exception,$sentry_exception_message:((d=g[0])===null||d===void 0?void 0:d.value)||a.message,$sentry_exception_type:(h=g[0])===null||h===void 0?void 0:h.type,$sentry_tags:a.tags,$level:a.level};return n&&r&&(m.$sentry_url=(i||"https://sentry.io/organizations/")+n+"/issues/?project="+r+"&query="+a.event_id),t.capture("$exception",m),a})}});function _F(e,t){var n=e.config.segment;if(!n)return t();(function(r,i){var o=r.config.segment;if(!o)return i();var s=function(l){var c=function(){return l.anonymousId()||sa()};r.config.get_device_id=c,l.id()&&(r.register({distinct_id:l.id(),$device_id:c()}),r.persistence.set_property(ms,"identified")),i()},a=o.user();"then"in a&&To(a.then)?a.then(function(l){return s(l)}):s(a)})(e,function(){n.register(function(r){Promise&&Promise.resolve||me.warn("This browser does not have Promise support, and can not use the segment integration");var i=function(o,s){var a;if(!s)return o;o.event.userId||o.event.anonymousId===r.get_distinct_id()||r.reset(),o.event.userId&&o.event.userId!==r.get_distinct_id()&&(r.register({distinct_id:o.event.userId}),r.reloadFeatureFlags());var l=r._calculate_event_properties(s,(a=o.event.properties)!==null&&a!==void 0?a:{});return o.event.properties=Object.assign({},l,o.event.properties),o};return{name:"PostHog JS",type:"enrichment",version:"1.0.0",isLoaded:function(){return!0},load:function(){return Promise.resolve()},track:function(o){return i(o,o.event.event)},page:function(o){return i(o,"$pageview")},identify:function(o){return i(o,"$identify")},screen:function(o){return i(o,"$screen")}}}(e)).then(function(){t()})})}var xF=function(){function e(t){Kt(this,e),this._instance=t}return Yt(e,[{key:"doPageView",value:function(){var t,n=this._previousScrollProperties();return this._currentPath=(t=Z==null?void 0:Z.location.pathname)!==null&&t!==void 0?t:"",this._instance.scrollManager.resetContext(),n}},{key:"doPageLeave",value:function(){return this._previousScrollProperties()}},{key:"_previousScrollProperties",value:function(){var t=this._currentPath,n=this._instance.scrollManager.getContext();if(!t||!n)return{};var r=n.maxScrollHeight,i=n.lastScrollY,o=n.maxScrollY,s=n.maxContentHeight,a=n.lastContentY,l=n.maxContentY;return We(r)||We(i)||We(o)||We(s)||We(a)||We(l)?{}:(r=Math.ceil(r),i=Math.ceil(i),o=Math.ceil(o),s=Math.ceil(s),a=Math.ceil(a),l=Math.ceil(l),{$prev_pageview_pathname:t,$prev_pageview_last_scroll:i,$prev_pageview_last_scroll_percentage:r<=1?1:Xh(i/r,0,1),$prev_pageview_max_scroll:o,$prev_pageview_max_scroll_percentage:r<=1?1:Xh(o/r,0,1),$prev_pageview_last_content:a,$prev_pageview_last_content_percentage:s<=1?1:Xh(a/s,0,1),$prev_pageview_max_content:l,$prev_pageview_max_content_percentage:s<=1?1:Xh(l/s,0,1)})}}]),e}();function Xh(e,t,n){return Math.max(t,Math.min(e,n))}var SF={icontains:function(e){return!!Z&&Z.location.href.toLowerCase().indexOf(e.toLowerCase())>-1},regex:function(e){return!!Z&&vB(Z.location.href,e)},exact:function(e){return(Z==null?void 0:Z.location.href)===e}},wF=function(){function e(t){Kt(this,e),this.instance=t}return Yt(e,[{key:"afterDecideResponse",value:function(t){this._decideServerResponse=!!t.surveys,this.loadIfEnabled()}},{key:"loadIfEnabled",value:function(){var t=this,n=fi==null?void 0:fi.extendPostHogWithSurveys;this.instance.config.disable_surveys||!this._decideServerResponse||n||vf(this.instance.requestRouter.endpointFor("assets","/static/surveys.js"),function(r){if(r)return me.error("Could not load surveys script",r);fi.extendPostHogWithSurveys(t.instance)})}},{key:"getSurveys",value:function(t){var n=this,r=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(this.instance.config.disable_surveys)return t([]);var i=this.instance.get_property(e1);if(i&&!r)return t(i);this.instance._send_request({url:this.instance.requestRouter.endpointFor("api","/api/surveys/?token=".concat(this.instance.config.token)),method:"GET",transport:"XHR",callback:function(o){var s;if(o.statusCode!==200||!o.json)return t([]);var a=o.json.surveys||[];return(s=n.instance.persistence)===null||s===void 0||s.register(ie({},e1,a)),t(a)}})}},{key:"getActiveMatchingSurveys",value:function(t){var n=this,r=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.getSurveys(function(i){var o=i.filter(function(s){return!(!s.start_date||s.end_date)}).filter(function(s){var a,l,c,u;if(!s.conditions)return!0;var d=(a=s.conditions)===null||a===void 0||!a.url||SF[(l=(c=s.conditions)===null||c===void 0?void 0:c.urlMatchType)!==null&&l!==void 0?l:"icontains"](s.conditions.url),h=(u=s.conditions)===null||u===void 0||!u.selector||(Ee==null?void 0:Ee.querySelector(s.conditions.selector));return d&&h}).filter(function(s){if(!s.linked_flag_key&&!s.targeting_flag_key)return!0;var a=!s.linked_flag_key||n.instance.featureFlags.isFeatureEnabled(s.linked_flag_key),l=!s.targeting_flag_key||n.instance.featureFlags.isFeatureEnabled(s.targeting_flag_key);return a&&l});return t(o)},r)}}]),e}(),EF=function(){function e(t){var n,r,i=this;Kt(this,e),ie(this,"serverLimits",{}),ie(this,"lastEventRateLimited",!1),ie(this,"checkForLimiting",function(o){var s=o.text;if(s&&s.length)try{(JSON.parse(s).quota_limited||[]).forEach(function(a){me.info("[RateLimiter] ".concat(a||"events"," is quota limited.")),i.serverLimits[a]=new Date().getTime()+6e4})}catch(a){return void me.warn('[RateLimiter] could not rate limit - continuing. Error: "'.concat(a==null?void 0:a.message,'"'),{text:s})}}),this.instance=t,this.captureEventsPerSecond=((n=t.config.rate_limiting)===null||n===void 0?void 0:n.events_per_second)||10,this.captureEventsBurstLimit=Math.max(((r=t.config.rate_limiting)===null||r===void 0?void 0:r.events_burst_limit)||10*this.captureEventsPerSecond,this.captureEventsPerSecond),this.lastEventRateLimited=this.isCaptureClientSideRateLimited(!0)}return Yt(e,[{key:"isCaptureClientSideRateLimited",value:function(){var t,n,r,i=arguments.length>0&&arguments[0]!==void 0&&arguments[0],o=new Date().getTime(),s=(t=(n=this.instance.persistence)===null||n===void 0?void 0:n.get_property(n1))!==null&&t!==void 0?t:{tokens:this.captureEventsBurstLimit,last:o};s.tokens+=(o-s.last)/1e3*this.captureEventsPerSecond,s.last=o,s.tokens>this.captureEventsBurstLimit&&(s.tokens=this.captureEventsBurstLimit);var a=s.tokens<1;return a||i||(s.tokens=Math.max(0,s.tokens-1)),!a||this.lastEventRateLimited||i||this.instance.capture("$$client_ingestion_warning",{$$client_ingestion_warning_message:"posthog-js client rate limited. Config is set to ".concat(this.captureEventsPerSecond," events per second and ").concat(this.captureEventsBurstLimit," events burst limit.")},{skip_client_rate_limiting:!0}),this.lastEventRateLimited=a,(r=this.instance.persistence)===null||r===void 0||r.set_property(n1,s),a}},{key:"isServerRateLimited",value:function(t){var n=this.serverLimits[t||"events"]||!1;return n!==!1&&new Date().getTime()<n}}]),e}(),kF=function(){return Ie({initialPathName:(Bi==null?void 0:Bi.pathname)||"",referringDomain:er.referringDomain()},er.campaignParams())},CF=function(){function e(t,n,r){var i=this;Kt(this,e),ie(this,"_onSessionIdCallback",function(o){var s=i._getStoredProps();if(!s||s.sessionId!==o){var a={sessionId:o,props:i._sessionSourceParamGenerator()};i._persistence.register(ie({},t1,a))}}),this._sessionIdManager=t,this._persistence=n,this._sessionSourceParamGenerator=r||kF,this._sessionIdManager.onSessionId(this._onSessionIdCallback)}return Yt(e,[{key:"_getStoredProps",value:function(){return this._persistence.props[t1]}},{key:"getSessionProps",value:function(){var t,n=(t=this._getStoredProps())===null||t===void 0?void 0:t.props;return n?{$client_session_initial_referring_host:n.referringDomain,$client_session_initial_pathname:n.initialPathName,$client_session_initial_utm_source:n.utm_source,$client_session_initial_utm_campaign:n.utm_campaign,$client_session_initial_utm_medium:n.utm_medium,$client_session_initial_utm_content:n.utm_content,$client_session_initial_utm_term:n.utm_term}:{}}}]),e}(),TF=["ahrefsbot","ahrefssiteaudit","applebot","baiduspider","bingbot","bingpreview","bot.htm","bot.php","crawler","deepscan","duckduckbot","facebookexternal","facebookcatalog","gptbot","http://yandex.com/bots","hubspot","ia_archiver","linkedinbot","mj12bot","msnbot","nessus","petalbot","pinterest","prerender","rogerbot","screaming frog","semrushbot","sitebulb","slurp","turnitin","twitterbot","vercelbot","yahoo! slurp","yandexbot","adsbot-google","apis-google","duplexweb-google","feedfetcher-google","google favicon","google web preview","google-read-aloud","googlebot","googleweblight","mediapartners-google","storebot-google","Bytespider;"],Pk=function(e,t){if(!e)return!1;var n=e.toLowerCase();return TF.concat(t||[]).some(function(r){var i=r.toLowerCase();return n.indexOf(i)!==-1})},fj=function(){function e(){Kt(this,e),this.clicks=[]}return Yt(e,[{key:"isRageClick",value:function(t,n,r){var i=this.clicks[this.clicks.length-1];if(i&&Math.abs(t-i.x)+Math.abs(n-i.y)<30&&r-i.timestamp<1e3){if(this.clicks.push({x:t,y:n,timestamp:r}),this.clicks.length===3)return!0}else this.clicks=[{x:t,y:n,timestamp:r}];return!1}}]),e}(),Mk="__POSTHOG_TOOLBAR__";function jk(e){var t;return e.id===Mk||!((t=e.closest)===null||t===void 0||!t.call(e,"#"+Mk))}var IF=function(){function e(t){var n;Kt(this,e),ie(this,"rageclicks",new fj),ie(this,"_enabledServerSide",!1),ie(this,"_initialized",!1),this.instance=t,this._enabledServerSide=!((n=this.instance.persistence)===null||n===void 0||!n.props[JA])}return Yt(e,[{key:"startIfEnabled",value:function(){this.isEnabled&&!this._initialized&&this._setupListeners()}},{key:"isEnabled",get:function(){return We(this.instance.config.enable_heatmaps)?this._enabledServerSide:this.instance.config.enable_heatmaps}},{key:"afterDecideResponse",value:function(t){var n=!!t.heatmaps;this.instance.persistence&&this.instance.persistence.register(ie({},JA,n)),this._enabledServerSide=n,this.startIfEnabled()}},{key:"getAndClearBuffer",value:function(){var t=this.buffer;return this.buffer=void 0,t}},{key:"_setupListeners",value:function(){var t=this;Z&&Ee&&(_s(Ee,"click",function(n){return t._onClick(n||(Z==null?void 0:Z.event))},!1,!0),_s(Ee,"mousemove",function(n){return t._onMouseMove(n||(Z==null?void 0:Z.event))},!1,!0),this._initialized=!0)}},{key:"_getProperties",value:function(t,n){var r=this.instance.scrollManager.scrollY(),i=this.instance.scrollManager.scrollX(),o=this.instance.scrollManager.scrollElement(),s=function(a,l,c){for(var u=a;u&&!pa(u,"body");){if(u===c)return!1;if(ht(l,Z==null?void 0:Z.getComputedStyle(u).position))return!0;u=XM(u)}return!1}(t.target,["fixed","sticky"],o);return{x:t.clientX+(s?0:i),y:t.clientY+(s?0:r),target_fixed:s,type:n}}},{key:"_onClick",value:function(t){var n;if(!jk(t.target)){var r=this._getProperties(t,"click");(n=this.rageclicks)!==null&&n!==void 0&&n.isRageClick(t.clientX,t.clientY,new Date().getTime())&&this._capture(Ie(Ie({},r),{},{type:"rageclick"})),this._capture(r)}}},{key:"_onMouseMove",value:function(t){var n=this;jk(t.target)||(clearTimeout(this._mouseMoveTimeout),this._mouseMoveTimeout=setTimeout(function(){n._capture(n._getProperties(t,"mousemove"))},500))}},{key:"_capture",value:function(t){if(Z){var n=Z.location.href;this.buffer=this.buffer||{},this.buffer[n]||(this.buffer[n]=[]),this.buffer[n].push(t)}}}]),e}(),RF=function(){function e(t){var n=this;Kt(this,e),ie(this,"_updateScrollData",function(){var r,i,o,s;n.context||(n.context={});var a=n.scrollElement(),l=n.scrollY(),c=a?Math.max(0,a.scrollHeight-a.clientHeight):0,u=l+((a==null?void 0:a.clientHeight)||0),d=(a==null?void 0:a.scrollHeight)||0;n.context.lastScrollY=Math.ceil(l),n.context.maxScrollY=Math.max(l,(r=n.context.maxScrollY)!==null&&r!==void 0?r:0),n.context.maxScrollHeight=Math.max(c,(i=n.context.maxScrollHeight)!==null&&i!==void 0?i:0),n.context.lastContentY=u,n.context.maxContentY=Math.max(u,(o=n.context.maxContentY)!==null&&o!==void 0?o:0),n.context.maxContentHeight=Math.max(d,(s=n.context.maxContentHeight)!==null&&s!==void 0?s:0)}),this.instance=t}return Yt(e,[{key:"getContext",value:function(){return this.context}},{key:"resetContext",value:function(){var t=this.context;return setTimeout(this._updateScrollData,0),t}},{key:"startMeasuringScrollPosition",value:function(){Z==null||Z.addEventListener("scroll",this._updateScrollData,!0),Z==null||Z.addEventListener("scrollend",this._updateScrollData,!0),Z==null||Z.addEventListener("resize",this._updateScrollData)}},{key:"scrollElement",value:function(){if(!this.instance.config.scroll_root_selector)return Z==null?void 0:Z.document.documentElement;var t,n=Oo(Un(this.instance.config.scroll_root_selector)?this.instance.config.scroll_root_selector:[this.instance.config.scroll_root_selector]);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=Z==null?void 0:Z.document.querySelector(r);if(i)return i}}catch(o){n.e(o)}finally{n.f()}}},{key:"scrollY",value:function(){if(this.instance.config.scroll_root_selector){var t=this.scrollElement();return t&&t.scrollTop||0}return Z&&(Z.scrollY||Z.pageYOffset||Z.document.documentElement.scrollTop)||0}},{key:"scrollX",value:function(){if(this.instance.config.scroll_root_selector){var t=this.scrollElement();return t&&t.scrollLeft||0}return Z&&(Z.scrollX||Z.pageXOffset||Z.document.documentElement.scrollLeft)||0}}]),e}(),PF=function(){function e(){Kt(this,e),ie(this,"events",{}),this.events={}}return Yt(e,[{key:"on",value:function(t,n){var r=this;return this.events[t]||(this.events[t]=[]),this.events[t].push(n),function(){r.events[t]=r.events[t].filter(function(i){return i!==n})}}},{key:"emit",value:function(t,n){var r,i=Oo(this.events[t]||[]);try{for(i.s();!(r=i.n()).done;)(0,r.value)(n)}catch(a){i.e(a)}finally{i.f()}var o,s=Oo(this.events["*"]||[]);try{for(s.s();!(o=s.n()).done;)(0,o.value)(t,n)}catch(a){s.e(a)}finally{s.f()}}}]),e}(),uy="$copy_autocapture";function dy(e,t){return t.length>e?t.slice(0,e)+"...":t}var MF=function(){function e(t){Kt(this,e),ie(this,"_initialized",!1),ie(this,"_isDisabledServerSide",null),ie(this,"rageclicks",new fj),ie(this,"_elementsChainAsString",!1),this.instance=t}return Yt(e,[{key:"config",get:function(){var t,n=ts(this.instance.config.autocapture)?this.instance.config.autocapture:{};return n.url_allowlist=(t=n.url_allowlist)===null||t===void 0?void 0:t.map(function(r){return new RegExp(r)}),n}},{key:"_addDomEventHandlers",value:function(){var t=this;if(this.isBrowserSupported()){if(Z&&Ee){var n=function(i){i=i||(Z==null?void 0:Z.event);try{t._captureEvent(i)}catch(o){me.error("Failed to capture event",o)}},r=function(i){i=i||(Z==null?void 0:Z.event),t._captureEvent(i,uy)};_s(Ee,"submit",n,!1,!0),_s(Ee,"change",n,!1,!0),_s(Ee,"click",n,!1,!0),this.config.capture_copied_text&&(_s(Ee,"copy",r,!1,!0),_s(Ee,"cut",r,!1,!0))}}else me.info("Disabling Automatic Event Collection because this browser is not supported")}},{key:"startIfEnabled",value:function(){this.isEnabled&&!this._initialized&&(this._addDomEventHandlers(),this._initialized=!0)}},{key:"afterDecideResponse",value:function(t){t.elementsChainAsString&&(this._elementsChainAsString=t.elementsChainAsString),this.instance.persistence&&this.instance.persistence.register(ie({},ik,!!t.autocapture_opt_out)),this._isDisabledServerSide=!!t.autocapture_opt_out,this.startIfEnabled()}},{key:"isEnabled",get:function(){var t,n,r=(t=this.instance.persistence)===null||t===void 0?void 0:t.props[ik],i=this._isDisabledServerSide;if(Io(i)&&!Xp(r)&&!this.instance.config.advanced_disable_decide)return!1;var o=(n=this._isDisabledServerSide)!==null&&n!==void 0?n:!!r;return!!this.instance.config.autocapture&&!o}},{key:"_previousElementSibling",value:function(t){if(t.previousElementSibling)return t.previousElementSibling;var n=t;do n=n.previousSibling;while(n&&!nx(n));return n}},{key:"_getAugmentPropertiesFromElement",value:function(t){if(!c1(t))return{};var n={};return zt(t.attributes,function(r){if(r.name&&r.name.indexOf("data-ph-capture-attribute")===0){var i=r.name.replace("data-ph-capture-attribute-",""),o=r.value;i&&o&&zc(o)&&(n[i]=o)}}),n}},{key:"_getPropertiesFromElement",value:function(t,n,r){var i,o=t.tagName.toLowerCase(),s={tag_name:o};l1.indexOf(o)>-1&&!r&&(o.toLowerCase()==="a"||o.toLowerCase()==="button"?s.$el_text=dy(1024,Ak(t)):s.$el_text=dy(1024,Dg(t)));var a=$g(t);a.length>0&&(s.classes=a.filter(function(h){return h!==""}));var l=(i=this.config)===null||i===void 0?void 0:i.element_attribute_ignorelist;zt(t.attributes,function(h){var p;if((!ZM(t)||["name","id","class","aria-label"].indexOf(h.name)!==-1)&&(l==null||!l.includes(h.name))&&!n&&zc(h.value)&&(p=h.name,!Er(p)||p.substring(0,10)!=="_ngcontent"&&p.substring(0,7)!=="_nghost")){var g=h.value;h.name==="class"&&(g=tx(g).join(" ")),s["attr__"+h.name]=dy(1024,g)}});for(var c=1,u=1,d=t;d=this._previousElementSibling(d);)c++,d.tagName===t.tagName&&u++;return s.nth_child=c,s.nth_of_type=u,s}},{key:"_getDefaultProperties",value:function(t){return{$event_type:t,$ce_version:1}}},{key:"_getEventTarget",value:function(t){return We(t.target)?t.srcElement||null:(n=t.target)!==null&&n!==void 0&&n.shadowRoot?t.composedPath()[0]||null:t.target||null;var n}},{key:"_captureEvent",value:function(t){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"$autocapture";if(this.isEnabled){var i,o=this._getEventTarget(t);QM(o)&&(o=o.parentNode||null),r==="$autocapture"&&t.type==="click"&&t instanceof MouseEvent&&this.instance.config.rageclick&&(i=this.rageclicks)!==null&&i!==void 0&&i.isRageClick(t.clientX,t.clientY,new Date().getTime())&&this._captureEvent(t,"$rageclick");var s=r===uy;if(o&&jB(o,t,this.config,s,s?["copy","cut"]:void 0)){for(var a,l,c=[o],u=o;u.parentNode&&!pa(u,"body");)JM(u.parentNode)?(c.push(u.parentNode.host),u=u.parentNode.host):(c.push(u.parentNode),u=u.parentNode);var d,h=[],p={},g=!1;if(zt(c,function(x){var S=c1(x);x.tagName.toLowerCase()==="a"&&(d=x.getAttribute("href"),d=S&&zc(d)&&d),ht($g(x),"ph-no-capture")&&(g=!0),h.push(n._getPropertiesFromElement(x,n.instance.config.mask_all_element_attributes,n.instance.config.mask_all_text));var _=n._getAugmentPropertiesFromElement(x);Zn(p,_)}),this.instance.config.mask_all_text||(o.tagName.toLowerCase()==="a"||o.tagName.toLowerCase()==="button"?h[0].$el_text=Ak(o):h[0].$el_text=Dg(o)),d&&(h[0].attr__href=d),g)return!1;var m=Zn(this._getDefaultProperties(t.type),this._elementsChainAsString?{$elements_chain:$B(h)}:{$elements:h},(a=h[0])!==null&&a!==void 0&&a.$el_text?{$el_text:(l=h[0])===null||l===void 0?void 0:l.$el_text}:{},p);if(r===uy){var b,y=YM(Z==null||(b=Z.getSelection())===null||b===void 0?void 0:b.toString()),A=t.type||"clipboard";if(!y)return!1;m.$selected_content=y,m.$copy_type=A}return this.instance.capture(r,m),!0}}}},{key:"isBrowserSupported",value:function(){return To(Ee==null?void 0:Ee.querySelectorAll)}}]),e}(),zd={},Ok=function(){},vc="posthog",hj=!uF&&(Cn==null?void 0:Cn.indexOf("MSIE"))===-1&&(Cn==null?void 0:Cn.indexOf("Mozilla"))===-1,Vk=function(){var e,t,n;return{api_host:"https://us.i.posthog.com",api_transport:"XHR",ui_host:null,token:"",autocapture:!0,rageclick:!0,cross_subdomain_cookie:(t=Ee==null?void 0:Ee.location,n=t==null?void 0:t.hostname,!!Er(n)&&n.split(".").slice(-2).join(".")!=="herokuapp.com"),persistence:"localStorage+cookie",persistence_name:"",loaded:Ok,store_google:!0,custom_campaign_params:[],custom_blocked_useragents:[],save_referrer:!0,capture_pageview:!0,capture_pageleave:!0,debug:Bi&&Er(Bi==null?void 0:Bi.search)&&Bi.search.indexOf("__posthog_debug=true")!==-1||!1,verbose:!1,cookie_expiration:365,upgrade:!1,disable_session_recording:!1,disable_persistence:!1,disable_surveys:!1,enable_recording_console_log:void 0,secure_cookie:(Z==null||(e=Z.location)===null||e===void 0?void 0:e.protocol)==="https:",ip:!0,opt_out_capturing_by_default:!1,opt_out_persistence_by_default:!1,opt_out_useragent_filter:!1,opt_out_capturing_persistence_type:"localStorage",opt_out_capturing_cookie_prefix:null,opt_in_site_apps:!1,property_denylist:[],respect_dnt:!1,sanitize_properties:null,request_headers:{},inapp_protocol:"//",inapp_link_new_window:!1,request_batching:!0,properties_string_max_length:65535,session_recording:{},mask_all_element_attributes:!1,mask_all_text:!1,advanced_disable_decide:!1,advanced_disable_feature_flags:!1,advanced_disable_feature_flags_on_first_load:!1,advanced_disable_toolbar_metrics:!1,feature_flag_request_timeout_ms:3e3,on_request_error:function(r){var i="Bad HTTP status: "+r.statusCode+" "+r.text;me.error(i)},get_device_id:function(r){return r},_onCapture:Ok,capture_performance:void 0,name:"posthog",bootstrap:{},disable_compression:!1,session_idle_timeout_seconds:1800,person_profiles:"always"}},Lk=function(e){var t={};We(e.process_person)||(t.person_profiles=e.process_person),We(e.xhr_headers)||(t.request_headers=e.xhr_headers),We(e.cookie_name)||(t.persistence_name=e.cookie_name),We(e.disable_cookie)||(t.disable_persistence=e.disable_cookie);var n=Zn({},t,e);return Un(e.property_blacklist)&&(We(e.property_denylist)?n.property_denylist=e.property_blacklist:Un(e.property_denylist)?n.property_denylist=[].concat(ou(e.property_blacklist),ou(e.property_denylist)):me.error("Invalid value for property_denylist config: "+e.property_denylist)),n},jF=function(){function e(){Kt(this,e),ie(this,"__forceAllowLocalhost",!1)}return Yt(e,[{key:"_forceAllowLocalhost",get:function(){return this.__forceAllowLocalhost},set:function(t){me.error("WebPerformanceObserver is deprecated and has no impact on network capture. Use `_forceAllowLocalhostNetworkCapture` on `posthog.sessionRecording`"),this.__forceAllowLocalhost=t}}]),e}(),pj=function(){function e(){var t=this;Kt(this,e),ie(this,"webPerformance",new jF),ie(this,"_debugEventEmitter",new PF),this.config=Vk(),this.decideEndpointWasHit=!1,this.SentryIntegration=bF,this.__request_queue=[],this.__loaded=!1,this.analyticsDefaultEndpoint="/e/",this.featureFlags=new sB(this),this.toolbar=new ZB(this),this.scrollManager=new RF(this),this.pageViewManager=new xF(this),this.surveys=new wF(this),this.rateLimiter=new EF(this),this.requestRouter=new AF(this),this.people={set:function(n,r,i){var o=Er(n)?ie({},n,r):n;t.setPersonProperties(o),i==null||i({})},set_once:function(n,r,i){var o=Er(n)?ie({},n,r):n;t.setPersonProperties(void 0,o),i==null||i({})}},this.on("eventCaptured",function(n){return me.info("send",n)})}return Yt(e,[{key:"init",value:function(t,n,r){if(r&&r!==vc){var i,o=(i=zd[r])!==null&&i!==void 0?i:new e;return o._init(t,n,r),zd[r]=o,zd[vc][r]=o,o}return this._init(t,n,r)}},{key:"_init",value:function(t){var n,r,i=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2?arguments[2]:void 0;if(We(t)||function(b){return Er(b)&&b.trim().length===0}(t))return me.critical("PostHog was initialized without a token. This likely indicates a misconfiguration. Please check the first argument passed to posthog.init()"),this;if(this.__loaded)return me.warn("You have already initialized PostHog! Re-initializing is a no-op"),this;if(this.__loaded=!0,this.config={},this._triggered_notifs=[],this.set_config(Zn({},Vk(),Lk(o),{name:s,token:t})),this.compression=o.disable_compression?void 0:xo.Base64,this.persistence=new oy(this.config),this.sessionPersistence=this.config.persistence==="sessionStorage"?this.persistence:new oy(Ie(Ie({},this.config),{},{persistence:"sessionStorage"})),this._requestQueue=new eF(function(b){return i._send_request(b)}),this._retryQueue=new vF(this),this.__request_queue=[],this.sessionManager=new yF(this.config,this.persistence),this.sessionPropsManager=new CF(this.sessionManager,this.persistence),this.sessionRecording=new QB(this),this.sessionRecording.startIfEnabledOrStop(),this.config.disable_scroll_properties||this.scrollManager.startMeasuringScrollPosition(),this.autocapture=new MF(this),this.autocapture.startIfEnabled(),this.surveys.loadIfEnabled(),this.heatmaps=new IF(this),this.heatmaps.startIfEnabled(),sl.DEBUG=sl.DEBUG||this.config.debug,this._gdpr_init(),((n=o.bootstrap)===null||n===void 0?void 0:n.distinctID)!==void 0){var a,l,c=this.config.get_device_id(sa()),u=(a=o.bootstrap)!==null&&a!==void 0&&a.isIdentifiedID?c:o.bootstrap.distinctID;this.persistence.set_property(ms,(l=o.bootstrap)!==null&&l!==void 0&&l.isIdentifiedID?"identified":"anonymous"),this.register({distinct_id:o.bootstrap.distinctID,$device_id:u})}if(this._hasBootstrappedFeatureFlags()){var d,h,p=Object.keys(((d=o.bootstrap)===null||d===void 0?void 0:d.featureFlags)||{}).filter(function(b){var y,A;return!((y=o.bootstrap)===null||y===void 0||(A=y.featureFlags)===null||A===void 0||!A[b])}).reduce(function(b,y){var A,x;return b[y]=((A=o.bootstrap)===null||A===void 0||(x=A.featureFlags)===null||x===void 0?void 0:x[y])||!1,b},{}),g=Object.keys(((h=o.bootstrap)===null||h===void 0?void 0:h.featureFlagPayloads)||{}).filter(function(b){return p[b]}).reduce(function(b,y){var A,x,S,_;return(A=o.bootstrap)!==null&&A!==void 0&&(x=A.featureFlagPayloads)!==null&&x!==void 0&&x[y]&&(b[y]=(S=o.bootstrap)===null||S===void 0||(_=S.featureFlagPayloads)===null||_===void 0?void 0:_[y]),b},{});this.featureFlags.receivedFeatureFlags({featureFlags:p,featureFlagPayloads:g})}if(!this.get_distinct_id()){var m=this.config.get_device_id(sa());this.register_once({distinct_id:m,$device_id:m},""),this.persistence.set_property(ms,"anonymous")}return Z==null||(r=Z.addEventListener)===null||r===void 0||r.call(Z,"onpagehide"in self?"pagehide":"unload",this._handle_unload.bind(this)),this.toolbar.maybeLoadToolbar(),o.segment?_F(this,function(){return i._loaded()}):this._loaded(),To(this.config._onCapture)&&this.on("eventCaptured",function(b){return i.config._onCapture(b.event,b)}),this}},{key:"_afterDecideResponse",value:function(t){var n,r,i,o,s;this.compression=void 0,t.supportedCompression&&!this.config.disable_compression&&(this.compression=ht(t.supportedCompression,xo.GZipJS)?xo.GZipJS:ht(t.supportedCompression,xo.Base64)?xo.Base64:void 0),(n=t.analytics)!==null&&n!==void 0&&n.endpoint&&(this.analyticsDefaultEndpoint=t.analytics.endpoint),(r=this.sessionRecording)===null||r===void 0||r.afterDecideResponse(t),(i=this.autocapture)===null||i===void 0||i.afterDecideResponse(t),(o=this.heatmaps)===null||o===void 0||o.afterDecideResponse(t),(s=this.surveys)===null||s===void 0||s.afterDecideResponse(t)}},{key:"_loaded",value:function(){var t=this,n=this.config.advanced_disable_decide;n||this.featureFlags.setReloadingPaused(!0);try{this.config.loaded(this)}catch(r){me.critical("`loaded` function failed",r)}this._start_queue_if_opted_in(),this.config.capture_pageview&&setTimeout(function(){Ee&&t.capture("$pageview",{title:Ee.title},{send_instantly:!0})},1),n||(new JB(this).call(),this.featureFlags.resetRequestQueue())}},{key:"_start_queue_if_opted_in",value:function(){var t;this.has_opted_out_capturing()||this.config.request_batching&&((t=this._requestQueue)===null||t===void 0||t.enable())}},{key:"_dom_loaded",value:function(){var t=this;this.has_opted_out_capturing()||Dc(this.__request_queue,function(n){return t._send_retriable_request(n)}),this.__request_queue=[],this._start_queue_if_opted_in()}},{key:"_handle_unload",value:function(){var t,n;this.config.request_batching?(this.config.capture_pageview&&this.config.capture_pageleave&&this.capture("$pageleave"),(t=this._requestQueue)===null||t===void 0||t.unload(),(n=this._retryQueue)===null||n===void 0||n.unload()):this.config.capture_pageview&&this.config.capture_pageleave&&this.capture("$pageleave",null,{transport:"sendBeacon"})}},{key:"_send_request",value:function(t){var n=this;this.__loaded&&(hj?this.__request_queue.push(t):this.rateLimiter.isServerRateLimited(t.batchKey)||(t.transport=t.transport||this.config.api_transport,t.url=Fg(t.url,{ip:this.config.ip?1:0}),t.headers=this.config.request_headers,t.compression=t.compression==="best-available"?this.compression:t.compression,function(r){var i=Ie({},r);i.timeout=i.timeout||6e4,i.url=Fg(i.url,{_:new Date().getTime().toString(),ver:sl.LIB_VERSION,compression:i.compression}),i.transport==="sendBeacon"&&mf!=null&&mf.sendBeacon?pF(i):i.transport==="fetch"&&Y_?hF(i):Q_||!Ee?fF(i):gF(i)}(Ie(Ie({},t),{},{callback:function(r){var i,o,s;n.rateLimiter.checkForLimiting(r),r.statusCode>=400&&((o=(s=n.config).on_request_error)===null||o===void 0||o.call(s,r)),(i=t.callback)===null||i===void 0||i.call(t,r)}}))))}},{key:"_send_retriable_request",value:function(t){this._retryQueue?this._retryQueue.retriableRequest(t):this._send_request(t)}},{key:"_execute_array",value:function(t){var n,r=this,i=[],o=[],s=[];Dc(t,function(l){l&&(n=l[0],Un(n)?s.push(l):To(l)?l.call(r):Un(l)&&n==="alias"?i.push(l):Un(l)&&n.indexOf("capture")!==-1&&To(r[n])?s.push(l):o.push(l))});var a=function(l,c){Dc(l,function(u){if(Un(u[0])){var d=c;zt(u,function(h){d=d[h[0]].apply(d,h.slice(1))})}else this[u[0]].apply(this,u.slice(1))},c)};a(i,this),a(o,this),a(s,this)}},{key:"_hasBootstrappedFeatureFlags",value:function(){var t,n;return((t=this.config.bootstrap)===null||t===void 0?void 0:t.featureFlags)&&Object.keys((n=this.config.bootstrap)===null||n===void 0?void 0:n.featureFlags).length>0||!1}},{key:"push",value:function(t){this._execute_array([t])}},{key:"capture",value:function(t,n,r){var i;if(!(this.__loaded&&this.persistence&&this.sessionPersistence&&this._requestQueue))return me.uninitializedWarning("posthog.capture");if(!sj(this))if(r!=null&&r.skip_client_rate_limiting||!this.rateLimiter.isCaptureClientSideRateLimited())if(!We(t)&&Er(t)){if(!Cn||this.config.opt_out_useragent_filter||!Pk(Cn,this.config.custom_blocked_useragents)){this.sessionPersistence.update_search_keyword(),this.config.store_google&&(this.sessionPersistence.update_campaign_params(),this.persistence.set_initial_campaign_params()),this.config.save_referrer&&(this.sessionPersistence.update_referrer_info(),this.persistence.set_initial_referrer_info());var o={uuid:sa(),event:t,properties:this._calculate_event_properties(t,n||{})};if(r==null||!r._noHeatmaps){var s,a=(s=this.heatmaps)===null||s===void 0?void 0:s.getAndClearBuffer();a&&(o.properties.$heatmap_data=a)}r!=null&&r.$set&&(o.$set=r==null?void 0:r.$set);var l=this._calculate_set_once_properties(r==null?void 0:r.$set_once);l&&(o.$set_once=l),(o=rB(o,r!=null&&r._noTruncate?null:this.config.properties_string_max_length)).timestamp=(r==null?void 0:r.timestamp)||new Date,We(r==null?void 0:r.timestamp)||(o.properties.$event_time_override_provided=!0,o.properties.$event_time_override_system_time=new Date);var c=Ie(Ie({},o.properties.$set),o.$set);ty(c)||this.setPersonPropertiesForFlags(c),this._debugEventEmitter.emit("eventCaptured",o);var u={method:"POST",url:(i=r==null?void 0:r._url)!==null&&i!==void 0?i:this.requestRouter.endpointFor("api",this.analyticsDefaultEndpoint),data:o,compression:"best-available",batchKey:r==null?void 0:r._batchKey};return!this.config.request_batching||r&&(r==null||!r._batchKey)||r!=null&&r.send_instantly?this._send_retriable_request(u):this._requestQueue.enqueue(u),o}}else me.error("No event name provided to posthog.capture");else me.critical("This capture call is ignored due to client rate limiting.")}},{key:"_addCaptureHook",value:function(t){this.on("eventCaptured",function(n){return t(n.event)})}},{key:"_calculate_event_properties",value:function(t,n){if(!this.persistence||!this.sessionPersistence)return n;var r=this.persistence.remove_event_timer(t),i=Ie({},n);if(i.token=this.config.token,t==="$snapshot"){var o=Ie(Ie({},this.persistence.properties()),this.sessionPersistence.properties());return i.distinct_id=o.distinct_id,i}var s=er.properties();if(this.sessionManager){var a=this.sessionManager.checkAndGetSessionAndWindowId(),l=a.sessionId,c=a.windowId;i.$session_id=l,i.$window_id=c}if(this.requestRouter.region===al.CUSTOM&&(i.$lib_custom_api_host=this.config.api_host),this.sessionPropsManager&&this.config.__preview_send_client_session_params&&(t==="$pageview"||t==="$pageleave"||t==="$autocapture")){var u=this.sessionPropsManager.getSessionProps();i=Zn(i,u)}if(!this.config.disable_scroll_properties){var d={};t==="$pageview"?d=this.pageViewManager.doPageView():t==="$pageleave"&&(d=this.pageViewManager.doPageLeave()),i=Zn(i,d)}if(t==="$pageview"&&Ee&&(i.title=Ee.title),!We(r)){var h=new Date().getTime()-r;i.$duration=parseFloat((h/1e3).toFixed(3))}Cn&&this.config.opt_out_useragent_filter&&(i.$browser_type=Pk(Cn,this.config.custom_blocked_useragents)?"bot":"browser"),(i=Zn({},s,this.persistence.properties(),this.sessionPersistence.properties(),i)).$is_identified=this._isIdentified(),Un(this.config.property_denylist)?zt(this.config.property_denylist,function(g){delete i[g]}):me.error("Invalid value for property_denylist config: "+this.config.property_denylist+" or property_blacklist config: "+this.config.property_blacklist);var p=this.config.sanitize_properties;return p&&(i=p(i,t)),i.$process_person_profile=this._hasPersonProcessing(),i}},{key:"_calculate_set_once_properties",value:function(t){if(!this.persistence||!this._hasPersonProcessing())return t;var n=Zn({},this.persistence.get_initial_props(),t||{});return ty(n)?void 0:n}},{key:"register",value:function(t,n){var r;(r=this.persistence)===null||r===void 0||r.register(t,n)}},{key:"register_once",value:function(t,n,r){var i;(i=this.persistence)===null||i===void 0||i.register_once(t,n,r)}},{key:"register_for_session",value:function(t){var n;(n=this.sessionPersistence)===null||n===void 0||n.register(t)}},{key:"unregister",value:function(t){var n;(n=this.persistence)===null||n===void 0||n.unregister(t)}},{key:"unregister_for_session",value:function(t){var n;(n=this.sessionPersistence)===null||n===void 0||n.unregister(t)}},{key:"_register_single",value:function(t,n){this.register(ie({},t,n))}},{key:"getFeatureFlag",value:function(t,n){return this.featureFlags.getFeatureFlag(t,n)}},{key:"getFeatureFlagPayload",value:function(t){var n=this.featureFlags.getFeatureFlagPayload(t);try{return JSON.parse(n)}catch{return n}}},{key:"isFeatureEnabled",value:function(t,n){return this.featureFlags.isFeatureEnabled(t,n)}},{key:"reloadFeatureFlags",value:function(){this.featureFlags.reloadFeatureFlags()}},{key:"updateEarlyAccessFeatureEnrollment",value:function(t,n){this.featureFlags.updateEarlyAccessFeatureEnrollment(t,n)}},{key:"getEarlyAccessFeatures",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return this.featureFlags.getEarlyAccessFeatures(t,n)}},{key:"on",value:function(t,n){return this._debugEventEmitter.on(t,n)}},{key:"onFeatureFlags",value:function(t){return this.featureFlags.onFeatureFlags(t)}},{key:"onSessionId",value:function(t){var n,r;return(n=(r=this.sessionManager)===null||r===void 0?void 0:r.onSessionId(t))!==null&&n!==void 0?n:function(){}}},{key:"getSurveys",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.surveys.getSurveys(t,n)}},{key:"getActiveMatchingSurveys",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.surveys.getActiveMatchingSurveys(t,n)}},{key:"identify",value:function(t,n,r){if(!this.__loaded||!this.persistence)return me.uninitializedWarning("posthog.identify");if(bo(t)&&(t=t.toString(),me.warn("The first argument to posthog.identify was a number, but it should be a string. It has been converted to a string.")),t){if(["distinct_id","distinctid"].includes(t.toLowerCase()))me.critical('The string "'.concat(t,'" was set in posthog.identify which indicates an error. This ID should be unique to the user and not a hardcoded string.'));else if(this._requirePersonProcessing("posthog.identify")){var i=this.get_distinct_id();if(this.register({$user_id:t}),!this.get_property("$device_id")){var o=i;this.register_once({$had_persisted_distinct_id:!0,$device_id:o},"")}t!==i&&t!==this.get_property(wd)&&(this.unregister(wd),this.register({distinct_id:t}));var s=(this.persistence.get_property(ms)||"anonymous")==="anonymous";t!==i&&s?(this.persistence.set_property(ms,"identified"),this.setPersonPropertiesForFlags(n||{},!1),this.capture("$identify",{distinct_id:t,$anon_distinct_id:i},{$set:n||{},$set_once:r||{}}),this.featureFlags.setAnonymousDistinctId(i)):(n||r)&&this.setPersonProperties(n,r),t!==i&&(this.reloadFeatureFlags(),this.unregister(Og))}}else me.error("Unique user id has not been set in posthog.identify")}},{key:"setPersonProperties",value:function(t,n){(t||n)&&this._requirePersonProcessing("posthog.setPersonProperties")&&(this.setPersonPropertiesForFlags(t||{}),this.capture("$set",{$set:t||{},$set_once:n||{}}))}},{key:"group",value:function(t,n,r){if(t&&n){if(this._requirePersonProcessing("posthog.group")){var i=this.getGroups();i[t]!==n&&this.resetGroupPropertiesForFlags(t),this.register({$groups:Ie(Ie({},i),{},ie({},t,n))}),r&&(this.capture("$groupidentify",{$group_type:t,$group_key:n,$group_set:r}),this.setGroupPropertiesForFlags(ie({},t,r))),i[t]===n||r||this.reloadFeatureFlags()}}else me.error("posthog.group requires a group type and group key")}},{key:"resetGroups",value:function(){this.register({$groups:{}}),this.resetGroupPropertiesForFlags(),this.reloadFeatureFlags()}},{key:"setPersonPropertiesForFlags",value:function(t){var n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this._requirePersonProcessing("posthog.setPersonPropertiesForFlags")&&this.featureFlags.setPersonPropertiesForFlags(t,n)}},{key:"resetPersonPropertiesForFlags",value:function(){this.featureFlags.resetPersonPropertiesForFlags()}},{key:"setGroupPropertiesForFlags",value:function(t){var n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this._requirePersonProcessing("posthog.setGroupPropertiesForFlags")&&this.featureFlags.setGroupPropertiesForFlags(t,n)}},{key:"resetGroupPropertiesForFlags",value:function(t){this.featureFlags.resetGroupPropertiesForFlags(t)}},{key:"reset",value:function(t){var n,r,i,o;if(!this.__loaded)return me.uninitializedWarning("posthog.reset");var s=this.get_property("$device_id");(n=this.persistence)===null||n===void 0||n.clear(),(r=this.sessionPersistence)===null||r===void 0||r.clear(),(i=this.persistence)===null||i===void 0||i.set_property(ms,"anonymous"),(o=this.sessionManager)===null||o===void 0||o.resetSessionId();var a=this.config.get_device_id(sa());this.register_once({distinct_id:a,$device_id:t?a:s},"")}},{key:"get_distinct_id",value:function(){return this.get_property("distinct_id")}},{key:"getGroups",value:function(){return this.get_property("$groups")||{}}},{key:"get_session_id",value:function(){var t,n;return(t=(n=this.sessionManager)===null||n===void 0?void 0:n.checkAndGetSessionAndWindowId(!0).sessionId)!==null&&t!==void 0?t:""}},{key:"get_session_replay_url",value:function(t){if(!this.sessionManager)return"";var n=this.sessionManager.checkAndGetSessionAndWindowId(!0),r=n.sessionId,i=n.sessionStartTimestamp,o=this.requestRouter.endpointFor("ui","/project/".concat(this.config.token,"/replay/").concat(r));if(t!=null&&t.withTimestamp&&i){var s,a=(s=t.timestampLookBack)!==null&&s!==void 0?s:10;if(!i)return o;var l=Math.max(Math.floor((new Date().getTime()-i)/1e3)-a,0);o+="?t=".concat(l)}return o}},{key:"alias",value:function(t,n){return t===this.get_property(PM)?(me.critical("Attempting to create alias for existing People user - aborting."),-2):this._requirePersonProcessing("posthog.alias")?(We(n)&&(n=this.get_distinct_id()),t!==n?(this._register_single(wd,t),this.capture("$create_alias",{alias:t,distinct_id:n})):(me.warn("alias matches current distinct_id - skipping api call."),this.identify(t),-1)):void 0}},{key:"set_config",value:function(t){var n,r,i,o,s=Ie({},this.config);ts(t)&&(Zn(this.config,Lk(t)),(n=this.persistence)===null||n===void 0||n.update_config(this.config,s),this.sessionPersistence=this.config.persistence==="sessionStorage"?this.persistence:new oy(Ie(Ie({},this.config),{},{persistence:"sessionStorage"})),Ln.is_supported()&&Ln.get("ph_debug")==="true"&&(this.config.debug=!0),this.config.debug&&(sl.DEBUG=!0),(r=this.sessionRecording)===null||r===void 0||r.startIfEnabledOrStop(),(i=this.autocapture)===null||i===void 0||i.startIfEnabled(),(o=this.heatmaps)===null||o===void 0||o.startIfEnabled(),this.surveys.loadIfEnabled())}},{key:"startSessionRecording",value:function(t){if(t!=null&&t.sampling){var n,r,i=(n=this.sessionManager)===null||n===void 0?void 0:n.checkAndGetSessionAndWindowId();(r=this.persistence)===null||r===void 0||r.register(ie({},Bd,!0)),me.info("Session recording started with sampling override for session: ",i==null?void 0:i.sessionId)}this.set_config({disable_session_recording:!1})}},{key:"stopSessionRecording",value:function(){this.set_config({disable_session_recording:!0})}},{key:"sessionRecordingStarted",value:function(){var t;return!((t=this.sessionRecording)===null||t===void 0||!t.started)}},{key:"loadToolbar",value:function(t){return this.toolbar.loadToolbar(t)}},{key:"get_property",value:function(t){var n;return(n=this.persistence)===null||n===void 0?void 0:n.props[t]}},{key:"getSessionProperty",value:function(t){var n;return(n=this.sessionPersistence)===null||n===void 0?void 0:n.props[t]}},{key:"toString",value:function(){var t,n=(t=this.config.name)!==null&&t!==void 0?t:vc;return n!==vc&&(n=vc+"."+n),n}},{key:"_isIdentified",value:function(){var t,n;return((t=this.persistence)===null||t===void 0?void 0:t.get_property(ms))==="identified"||((n=this.sessionPersistence)===null||n===void 0?void 0:n.get_property(ms))==="identified"}},{key:"_hasPersonProcessing",value:function(){var t,n,r,i;return!(this.config.person_profiles==="never"||this.config.person_profiles==="identified_only"&&!this._isIdentified()&&ty(this.getGroups())&&((t=this.persistence)===null||t===void 0||(n=t.props)===null||n===void 0||!n[wd])&&((r=this.persistence)===null||r===void 0||(i=r.props)===null||i===void 0||!i[Vg]))}},{key:"_requirePersonProcessing",value:function(t){return this.config.person_profiles==="never"?(me.error(t+' was called, but process_person is set to "never". This call will be ignored.'),!1):(this._register_single(Vg,!0),!0)}},{key:"_gdpr_init",value:function(){this.config.opt_out_capturing_persistence_type==="localStorage"&&Ln.is_supported()&&(!this.has_opted_in_capturing()&&this.has_opted_in_capturing({persistence_type:"cookie"})&&this.opt_in_capturing({enable_persistence:!1}),!this.has_opted_out_capturing()&&this.has_opted_out_capturing({persistence_type:"cookie"})&&this.opt_out_capturing({clear_persistence:!1}),this.clear_opt_in_out_capturing({persistence_type:"cookie",enable_persistence:!1})),this.has_opted_out_capturing()?this._gdpr_update_persistence({clear_persistence:!0}):this.has_opted_in_capturing()||!this.config.opt_out_capturing_by_default&&!is.get("ph_optout")||(is.remove("ph_optout"),this.opt_out_capturing({clear_persistence:this.config.opt_out_persistence_by_default}))}},{key:"_gdpr_update_persistence",value:function(t){var n,r,i,o,s;if(t&&t.clear_persistence)i=!0;else{if(!t||!t.enable_persistence)return;i=!1}this.config.disable_persistence||((n=this.persistence)===null||n===void 0?void 0:n.disabled)===i||(o=this.persistence)===null||o===void 0||o.set_disabled(i),this.config.disable_persistence||((r=this.sessionPersistence)===null||r===void 0?void 0:r.disabled)===i||(s=this.sessionPersistence)===null||s===void 0||s.set_disabled(i)}},{key:"_gdpr_call_func",value:function(t,n){return n=Zn({capture:this.capture.bind(this),persistence_type:this.config.opt_out_capturing_persistence_type,cookie_prefix:this.config.opt_out_capturing_cookie_prefix,cookie_expiration:this.config.cookie_expiration,cross_subdomain_cookie:this.config.cross_subdomain_cookie,secure_cookie:this.config.secure_cookie},n||{}),Ln.is_supported()||n.persistence_type!=="localStorage"||(n.persistence_type="cookie"),t(this.config.token,{capture:n.capture,captureEventName:n.capture_event_name,captureProperties:n.capture_properties,persistenceType:n.persistence_type,persistencePrefix:n.cookie_prefix,cookieExpiration:n.cookie_expiration,crossSubdomainCookie:n.cross_subdomain_cookie,secureCookie:n.secure_cookie})}},{key:"opt_in_capturing",value:function(t){t=Zn({enable_persistence:!0},t||{}),this._gdpr_call_func(GB,t),this._gdpr_update_persistence(t)}},{key:"opt_out_capturing",value:function(t){var n=Zn({clear_persistence:!0},t||{});this._gdpr_call_func(qB,n),this._gdpr_update_persistence(n)}},{key:"has_opted_in_capturing",value:function(t){return this._gdpr_call_func(WB,t)}},{key:"has_opted_out_capturing",value:function(t){return this._gdpr_call_func(rj,t)}},{key:"clear_opt_in_out_capturing",value:function(t){var n=Zn({enable_persistence:!0},t??{});this._gdpr_call_func(KB,n),this._gdpr_update_persistence(n)}},{key:"debug",value:function(t){t===!1?(Z==null||Z.console.log("You've disabled debug mode."),localStorage&&localStorage.removeItem("ph_debug"),this.set_config({debug:!1})):(Z==null||Z.console.log("You're now in debug mode. All calls to PostHog will be logged in your console.\nYou can disable this with `posthog.debug(false)`."),localStorage&&localStorage.setItem("ph_debug","true"),this.set_config({debug:!0}))}}]),e}();(function(e,t){for(var n=0;n<t.length;n++)e.prototype[t[n]]=nB(e.prototype[t[n]])})(pj,["identify"]);var Nk,$k;(function(e){e.Popover="popover",e.API="api",e.Widget="widget"})(Nk||(Nk={})),function(e){e.Open="open",e.MultipleChoice="multiple_choice",e.SingleChoice="single_choice",e.Rating="rating",e.Link="link"}($k||($k={}));var Dk,bn=(Dk=zd[vc]=new pj,function(){function e(){e.done||(e.done=!0,hj=!1,zt(zd,function(t){t._dom_loaded()}))}Ee!=null&&Ee.addEventListener&&(Ee.readyState==="complete"?e():Ee.addEventListener("DOMContentLoaded",e,!1)),Z&&_s(Z,"load",e,!0)}(),Dk);class gt{constructor(t,n=!1,r=!0){this.name=t,this.track=n,this.log=r,this.subscribers=[],this.lastParams=null,this.subscribe=(i,o=!1)=>{this.unsubscribe(i),this.subscribers.push(i),o&&this.lastParams!==null&&i(...this.lastParams)},this.unsubscribe=i=>{this.subscribers=this.subscribers.filter(o=>o!==i)},this.dispatch=(...i)=>{this.log&&console.log("dispatch",this.name,...i),this.subscribers.forEach(o=>o(...i)),this.lastParams=i,this.track&&bn.capture(this.name,this.track instanceof Function?this.track(...i):i)}}}const ee={sectionChange:new gt("sectionChange",void 0,!1),playerAdded:new gt("playerAdded",!1),playerRemoved:new gt("playerRemoved",!1),songStarted:new gt("songStarted",!1),songEnded:new gt("songEnded",!1),remoteMicConnected:new gt("remoteMicConnected"),remoteMicDisconnected:new gt("remoteMicDisconnected"),playerNameChanged:new gt("playerNameChanged"),playerInputChanged:new gt("playerInputChanged",(e,t,n)=>({player:e,old:t==null?void 0:t.source,new:n==null?void 0:n.source})),inputListChanged:new gt("inputListChanged"),karaokeConnectionStatusChange:new gt("karaokeConnectionStatusChange"),remoteMicPlayerSet:new gt("remoteMicPlayerSet"),remoteMicMonitoringStarted:new gt("remoteMicMonitoringStarted"),remoteMicMonitoringStopped:new gt("remoteMicMonitoringStopped"),micMonitoringStarted:new gt("micMonitoringStarted"),micMonitoringStopped:new gt("micMonitoringStopped"),playerChangeRequested:new gt("playerChangeRequested",!0),songStatStored:new gt("songStatStored"),songScoreUpdated:new gt("songScoreUpdated",()=>{}),remoteMicSubscribed:new gt("remoteMicSubscribed"),remoteKeyboardPressed:new gt("remoteKeyboardPressed"),remoteSongSearch:new gt("remoteSongSearch",!0),remoteSongSelected:new gt("remoteSongSelected",!0),remoteMicListUpdated:new gt("remoteMicListUpdated"),remoteKeyboardLayout:new gt("remoteKeyboardLayout"),remoteReadinessRequested:new gt("remoteReadinessRequested"),remoteStyleChanged:new gt("remoteStyleChanged"),remoteMicPermissionsSet:new gt("remoteMicPermissionsSet"),readinessConfirmed:new gt("remoteReadinessConfirmed"),minPlayerNumberChanged:new gt("minPlayerNumberChanged"),micServerStarted:new gt("micServerStarted"),micServerStopped:new gt("micServerStopped")};ee.songStarted.subscribe(()=>{So.clearData(),So.startRecord()});ee.songEnded.subscribe(()=>{So.stopRecord()});function zg(e){"@babel/helpers - typeof";return zg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zg(e)}var OF=/^\s+/,VF=/\s+$/;function fe(e,t){if(e=e||"",t=t||{},e instanceof fe)return e;if(!(this instanceof fe))return new fe(e,t);var n=LF(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}fe.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3},getLuminance:function(){var t=this.toRgb(),n,r,i,o,s,a;return n=t.r/255,r=t.g/255,i=t.b/255,n<=.03928?o=n/12.92:o=Math.pow((n+.055)/1.055,2.4),r<=.03928?s=r/12.92:s=Math.pow((r+.055)/1.055,2.4),i<=.03928?a=i/12.92:a=Math.pow((i+.055)/1.055,2.4),.2126*o+.7152*s+.0722*a},setAlpha:function(t){return this._a=gj(t),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var t=Fk(this._r,this._g,this._b);return{h:t.h*360,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=Fk(this._r,this._g,this._b),n=Math.round(t.h*360),r=Math.round(t.s*100),i=Math.round(t.v*100);return this._a==1?"hsv("+n+", "+r+"%, "+i+"%)":"hsva("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var t=Bk(this._r,this._g,this._b);return{h:t.h*360,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=Bk(this._r,this._g,this._b),n=Math.round(t.h*360),r=Math.round(t.s*100),i=Math.round(t.l*100);return this._a==1?"hsl("+n+", "+r+"%, "+i+"%)":"hsla("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHex:function(t){return zk(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return BF(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(nn(this._r,255)*100)+"%",g:Math.round(nn(this._g,255)*100)+"%",b:Math.round(nn(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(nn(this._r,255)*100)+"%, "+Math.round(nn(this._g,255)*100)+"%, "+Math.round(nn(this._b,255)*100)+"%)":"rgba("+Math.round(nn(this._r,255)*100)+"%, "+Math.round(nn(this._g,255)*100)+"%, "+Math.round(nn(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:XF[zk(this._r,this._g,this._b,!0)]||!1},toFilter:function(t){var n="#"+Uk(this._r,this._g,this._b,this._a),r=n,i=this._gradientType?"GradientType = 1, ":"";if(t){var o=fe(t);r="#"+Uk(o._r,o._g,o._b,o._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+n+",endColorstr="+r+")"},toString:function(t){var n=!!t;t=t||this._format;var r=!1,i=this._a<1&&this._a>=0,o=!n&&i&&(t==="hex"||t==="hex6"||t==="hex3"||t==="hex4"||t==="hex8"||t==="name");return o?t==="name"&&this._a===0?this.toName():this.toRgbString():(t==="rgb"&&(r=this.toRgbString()),t==="prgb"&&(r=this.toPercentageRgbString()),(t==="hex"||t==="hex6")&&(r=this.toHexString()),t==="hex3"&&(r=this.toHexString(!0)),t==="hex4"&&(r=this.toHex8String(!0)),t==="hex8"&&(r=this.toHex8String()),t==="name"&&(r=this.toName()),t==="hsl"&&(r=this.toHslString()),t==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return fe(this.toString())},_applyModification:function(t,n){var r=t.apply(null,[this].concat([].slice.call(n)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(HF,arguments)},brighten:function(){return this._applyModification(GF,arguments)},darken:function(){return this._applyModification(qF,arguments)},desaturate:function(){return this._applyModification(FF,arguments)},saturate:function(){return this._applyModification(zF,arguments)},greyscale:function(){return this._applyModification(UF,arguments)},spin:function(){return this._applyModification(WF,arguments)},_applyCombination:function(t,n){return t.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination(QF,arguments)},complement:function(){return this._applyCombination(KF,arguments)},monochromatic:function(){return this._applyCombination(JF,arguments)},splitcomplement:function(){return this._applyCombination(YF,arguments)},triad:function(){return this._applyCombination(Hk,[3])},tetrad:function(){return this._applyCombination(Hk,[4])}};fe.fromRatio=function(e,t){if(zg(e)=="object"){var n={};for(var r in e)e.hasOwnProperty(r)&&(r==="a"?n[r]=e[r]:n[r]=Td(e[r]));e=n}return fe(e,t)};function LF(e){var t={r:0,g:0,b:0},n=1,r=null,i=null,o=null,s=!1,a=!1;return typeof e=="string"&&(e=n6(e)),zg(e)=="object"&&(hs(e.r)&&hs(e.g)&&hs(e.b)?(t=NF(e.r,e.g,e.b),s=!0,a=String(e.r).substr(-1)==="%"?"prgb":"rgb"):hs(e.h)&&hs(e.s)&&hs(e.v)?(r=Td(e.s),i=Td(e.v),t=DF(e.h,r,i),s=!0,a="hsv"):hs(e.h)&&hs(e.s)&&hs(e.l)&&(r=Td(e.s),o=Td(e.l),t=$F(e.h,r,o),s=!0,a="hsl"),e.hasOwnProperty("a")&&(n=e.a)),n=gj(n),{ok:s,format:e.format||a,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}function NF(e,t,n){return{r:nn(e,255)*255,g:nn(t,255)*255,b:nn(n,255)*255}}function Bk(e,t,n){e=nn(e,255),t=nn(t,255),n=nn(n,255);var r=Math.max(e,t,n),i=Math.min(e,t,n),o,s,a=(r+i)/2;if(r==i)o=s=0;else{var l=r-i;switch(s=a>.5?l/(2-r-i):l/(r+i),r){case e:o=(t-n)/l+(t<n?6:0);break;case t:o=(n-e)/l+2;break;case n:o=(e-t)/l+4;break}o/=6}return{h:o,s,l:a}}function $F(e,t,n){var r,i,o;e=nn(e,360),t=nn(t,100),n=nn(n,100);function s(c,u,d){return d<0&&(d+=1),d>1&&(d-=1),d<1/6?c+(u-c)*6*d:d<1/2?u:d<2/3?c+(u-c)*(2/3-d)*6:c}if(t===0)r=i=o=n;else{var a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;r=s(l,a,e+1/3),i=s(l,a,e),o=s(l,a,e-1/3)}return{r:r*255,g:i*255,b:o*255}}function Fk(e,t,n){e=nn(e,255),t=nn(t,255),n=nn(n,255);var r=Math.max(e,t,n),i=Math.min(e,t,n),o,s,a=r,l=r-i;if(s=r===0?0:l/r,r==i)o=0;else{switch(r){case e:o=(t-n)/l+(t<n?6:0);break;case t:o=(n-e)/l+2;break;case n:o=(e-t)/l+4;break}o/=6}return{h:o,s,v:a}}function DF(e,t,n){e=nn(e,360)*6,t=nn(t,100),n=nn(n,100);var r=Math.floor(e),i=e-r,o=n*(1-t),s=n*(1-i*t),a=n*(1-(1-i)*t),l=r%6,c=[n,s,o,o,a,n][l],u=[a,n,n,s,o,o][l],d=[o,o,a,n,n,s][l];return{r:c*255,g:u*255,b:d*255}}function zk(e,t,n,r){var i=[wo(Math.round(e).toString(16)),wo(Math.round(t).toString(16)),wo(Math.round(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function BF(e,t,n,r,i){var o=[wo(Math.round(e).toString(16)),wo(Math.round(t).toString(16)),wo(Math.round(n).toString(16)),wo(mj(r))];return i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function Uk(e,t,n,r){var i=[wo(mj(r)),wo(Math.round(e).toString(16)),wo(Math.round(t).toString(16)),wo(Math.round(n).toString(16))];return i.join("")}fe.equals=function(e,t){return!e||!t?!1:fe(e).toRgbString()==fe(t).toRgbString()};fe.random=function(){return fe.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function FF(e,t){t=t===0?0:t||10;var n=fe(e).toHsl();return n.s-=t/100,n.s=r0(n.s),fe(n)}function zF(e,t){t=t===0?0:t||10;var n=fe(e).toHsl();return n.s+=t/100,n.s=r0(n.s),fe(n)}function UF(e){return fe(e).desaturate(100)}function HF(e,t){t=t===0?0:t||10;var n=fe(e).toHsl();return n.l+=t/100,n.l=r0(n.l),fe(n)}function GF(e,t){t=t===0?0:t||10;var n=fe(e).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(t/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(t/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(t/100)))),fe(n)}function qF(e,t){t=t===0?0:t||10;var n=fe(e).toHsl();return n.l-=t/100,n.l=r0(n.l),fe(n)}function WF(e,t){var n=fe(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,fe(n)}function KF(e){var t=fe(e).toHsl();return t.h=(t.h+180)%360,fe(t)}function Hk(e,t){if(isNaN(t)||t<=0)throw new Error("Argument to polyad must be a positive number");for(var n=fe(e).toHsl(),r=[fe(e)],i=360/t,o=1;o<t;o++)r.push(fe({h:(n.h+o*i)%360,s:n.s,l:n.l}));return r}function YF(e){var t=fe(e).toHsl(),n=t.h;return[fe(e),fe({h:(n+72)%360,s:t.s,l:t.l}),fe({h:(n+216)%360,s:t.s,l:t.l})]}function QF(e,t,n){t=t||6,n=n||30;var r=fe(e).toHsl(),i=360/n,o=[fe(e)];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,o.push(fe(r));return o}function JF(e,t){t=t||6;for(var n=fe(e).toHsv(),r=n.h,i=n.s,o=n.v,s=[],a=1/t;t--;)s.push(fe({h:r,s:i,v:o})),o=(o+a)%1;return s}fe.mix=function(e,t,n){n=n===0?0:n||50;var r=fe(e).toRgb(),i=fe(t).toRgb(),o=n/100,s={r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a};return fe(s)};fe.readability=function(e,t){var n=fe(e),r=fe(t);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)};fe.isReadable=function(e,t,n){var r=fe.readability(e,t),i,o;switch(o=!1,i=r6(n),i.level+i.size){case"AAsmall":case"AAAlarge":o=r>=4.5;break;case"AAlarge":o=r>=3;break;case"AAAsmall":o=r>=7;break}return o};fe.mostReadable=function(e,t,n){var r=null,i=0,o,s,a,l;n=n||{},s=n.includeFallbackColors,a=n.level,l=n.size;for(var c=0;c<t.length;c++)o=fe.readability(e,t[c]),o>i&&(i=o,r=fe(t[c]));return fe.isReadable(e,r,{level:a,size:l})||!s?r:(n.includeFallbackColors=!1,fe.mostReadable(e,["#fff","#000"],n))};var h1=fe.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},XF=fe.hexNames=ZF(h1);function ZF(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function gj(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function nn(e,t){e6(e)&&(e="100%");var n=t6(e);return e=Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function r0(e){return Math.min(1,Math.max(0,e))}function ui(e){return parseInt(e,16)}function e6(e){return typeof e=="string"&&e.indexOf(".")!=-1&&parseFloat(e)===1}function t6(e){return typeof e=="string"&&e.indexOf("%")!=-1}function wo(e){return e.length==1?"0"+e:""+e}function Td(e){return e<=1&&(e=e*100+"%"),e}function mj(e){return Math.round(parseFloat(e)*255).toString(16)}function Gk(e){return ui(e)/255}var go=function(){var e="[-\\+]?\\d+%?",t="[-\\+]?\\d*\\.\\d+%?",n="(?:"+t+")|(?:"+e+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function hs(e){return!!go.CSS_UNIT.exec(e)}function n6(e){e=e.replace(OF,"").replace(VF,"").toLowerCase();var t=!1;if(h1[e])e=h1[e],t=!0;else if(e=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=go.rgb.exec(e))?{r:n[1],g:n[2],b:n[3]}:(n=go.rgba.exec(e))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=go.hsl.exec(e))?{h:n[1],s:n[2],l:n[3]}:(n=go.hsla.exec(e))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=go.hsv.exec(e))?{h:n[1],s:n[2],v:n[3]}:(n=go.hsva.exec(e))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=go.hex8.exec(e))?{r:ui(n[1]),g:ui(n[2]),b:ui(n[3]),a:Gk(n[4]),format:t?"name":"hex8"}:(n=go.hex6.exec(e))?{r:ui(n[1]),g:ui(n[2]),b:ui(n[3]),format:t?"name":"hex"}:(n=go.hex4.exec(e))?{r:ui(n[1]+""+n[1]),g:ui(n[2]+""+n[2]),b:ui(n[3]+""+n[3]),a:Gk(n[4]+""+n[4]),format:t?"name":"hex8"}:(n=go.hex3.exec(e))?{r:ui(n[1]+""+n[1]),g:ui(n[2]+""+n[2]),b:ui(n[3]+""+n[3]),format:t?"name":"hex"}:!1}function r6(e){var t,n;return e=e||{level:"AA",size:"small"},t=(e.level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),t!=="AA"&&t!=="AAA"&&(t="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:t,size:n}}const i6=fe("rgb(52, 166, 95)"),o6=fe("rgb(15, 138, 95)"),s6=fe("rgb(245, 98, 77)"),a6=fe("rgb(204, 35, 30)"),vj=fe("rgb(245, 220, 21)"),l6=fe(vj.toRgbString()).darken(15),yj=fe("rgb(255, 70, 223)"),c6=fe(yj.toRgbString()).darken(15),Aj=fe("rgb(255, 119, 20)"),u6=fe(Aj.toRgbString()).darken(15),bj=fe("rgb(31, 192, 223)"),d6=fe(bj.toRgbString()).darken(15),_j=fe("rgb(102, 44, 182)"),f6=fe(_j.toRgbString()).darken(15),h6=fe("rgb(0, 153, 255)"),p6=fe("rgb(0, 77, 128)"),g6=fe("rgb(255, 54, 54)"),m6=fe("rgb(117, 25, 25)"),v6=fe("rgb(255, 213, 0)"),ng=fe("rgb(255, 183, 0)"),ji=(e,t)=>e.setAlpha(t).toRgbString(),ho=(e,t)=>({text:ji(e,1),stroke:ji(t,1),star:{fill:ji(ng,.5),stroke:ji(ng,0),lineWidth:1},perfect:{fill:ji(e,1),stroke:"white",lineWidth:1},starPerfect:{fill:ji(v6,1),stroke:ji(ng,1),lineWidth:2},hit:{fill:ji(e,.9),stroke:ji(t,0),lineWidth:1},miss:{fill:ji(e,.25),stroke:ji(t,1),lineWidth:1}}),Me={blue:ho(h6,p6),red:ho(g6,m6),green:ho(fe("rgb(0,183,0)"),fe("rgb(0,84,0)")),yellow:ho(fe("rgb(239,209,0)"),fe("rgb(114,84,0)")),christmasGreen:ho(i6,o6),christmasRed:ho(s6,a6),eurovisionYellow:ho(vj,l6),eurovisionPink:ho(yj,c6),eurovisionOrange:ho(Aj,u6),eurovisionBlue:ho(bj,d6),eurovisionViolet:ho(_j,f6)};let Go=[Me.blue,Me.red,Me.green,Me.yellow];const he={colors:{players:Go,lines:{normal:{fill:"rgba(127, 127, 127, .7)",stroke:"black",lineWidth:1},star:{fill:"rgba(158, 144, 106, 1)",stroke:ji(ng,1),lineWidth:1},freestyle:{fill:"rgba(255, 255, 255, 0.1)",stroke:"black",lineWidth:2}},text:{active:"rgb(255, 165, 0)",default:"white",inactive:"grey"}}},xj=e=>{e==="christmas"&&Go[0]!==Me.christmasGreen?(Go=[Me.christmasGreen,Me.christmasRed],he.colors.players=Go):e==="eurovision"&&Go[0]!==Me.eurovisionYellow?(Go=[Me.eurovisionBlue,Me.eurovisionViolet,Me.eurovisionYellow,Me.eurovisionPink],he.colors.players=Go):e==="regular"&&Go[0]!==Me.blue&&(Go=[Me.blue,Me.red,Me.green,Me.yellow],he.colors.players=Go)};function Uc(e,t,n){e==null||e.send({t,...n})}var p1;try{p1=new TextDecoder}catch{}var ve,Gi,K=0,Ft={},ct,aa,Vi=0,Xo=0,rr,Es,ri=[],st,qk={useRecords:!1,mapsAsObjects:!0};class Sj{}const wj=new Sj;wj.name="MessagePack 0xC1";var ga=!1,Ej=2,Wk;try{new Function("")}catch{Ej=1/0}class _f{constructor(t){t&&(t.useRecords===!1&&t.mapsAsObjects===void 0&&(t.mapsAsObjects=!0),t.sequential&&t.trusted!==!1&&(t.trusted=!0,!t.structures&&t.useRecords!=!1&&(t.structures=[],t.maxSharedStructures||(t.maxSharedStructures=0))),t.structures?t.structures.sharedLength=t.structures.length:t.getStructures&&((t.structures=[]).uninitialized=!0,t.structures.sharedLength=0),t.int64AsNumber&&(t.int64AsType="number")),Object.assign(this,t)}unpack(t,n){if(ve)return Pj(()=>(m1(),this?this.unpack(t,n):_f.prototype.unpack.call(qk,t,n)));!t.buffer&&t.constructor===ArrayBuffer&&(t=typeof Buffer<"u"?Buffer.from(t):new Uint8Array(t)),typeof n=="object"?(Gi=n.end||t.length,K=n.start||0):(K=0,Gi=n>-1?n:t.length),Xo=0,aa=null,rr=null,ve=t;try{st=t.dataView||(t.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength))}catch(r){throw ve=null,t instanceof Uint8Array?r:new Error("Source must be a Uint8Array or Buffer but was a "+(t&&typeof t=="object"?t.constructor.name:typeof t))}if(this instanceof _f){if(Ft=this,this.structures)return ct=this.structures,Zh(n);(!ct||ct.length>0)&&(ct=[])}else Ft=qk,(!ct||ct.length>0)&&(ct=[]);return Zh(n)}unpackMultiple(t,n){let r,i=0;try{ga=!0;let o=t.length,s=this?this.unpack(t,o):i0.unpack(t,o);if(n){if(n(s,i,K)===!1)return;for(;K<o;)if(i=K,n(Zh(),i,K)===!1)return}else{for(r=[s];K<o;)i=K,r.push(Zh());return r}}catch(o){throw o.lastPosition=i,o.values=r,o}finally{ga=!1,m1()}}_mergeStructures(t,n){t=t||[],Object.isFrozen(t)&&(t=t.map(r=>r.slice(0)));for(let r=0,i=t.length;r<i;r++){let o=t[r];o&&(o.isShared=!0,r>=32&&(o.highByte=r-32>>5))}t.sharedLength=t.length;for(let r in n||[])if(r>=0){let i=t[r],o=n[r];o&&(i&&((t.restoreStructures||(t.restoreStructures=[]))[r]=i),t[r]=o)}return this.structures=t}decode(t,n){return this.unpack(t,n)}}function Zh(e){try{if(!Ft.trusted&&!ga){let n=ct.sharedLength||0;n<ct.length&&(ct.length=n)}let t;if(Ft.randomAccessStructure&&ve[K]<64&&ve[K]>=32&&Wk?(t=Wk(ve,K,Gi,Ft),ve=null,!(e&&e.lazy)&&t&&(t=t.toJSON()),K=Gi):t=In(),rr&&(K=rr.postBundlePosition,rr=null),ga&&(ct.restoreStructures=null),K==Gi)ct&&ct.restoreStructures&&Kk(),ct=null,ve=null,Es&&(Es=null);else{if(K>Gi)throw new Error("Unexpected end of MessagePack data");if(!ga){let n;try{n=JSON.stringify(t,(r,i)=>typeof i=="bigint"?`${i}n`:i).slice(0,100)}catch(r){n="(JSON view not available "+r+")"}throw new Error("Data read, but end of buffer not reached "+n)}}return t}catch(t){throw ct&&ct.restoreStructures&&Kk(),m1(),(t instanceof RangeError||t.message.startsWith("Unexpected end of buffer")||K>Gi)&&(t.incomplete=!0),t}}function Kk(){for(let e in ct.restoreStructures)ct[e]=ct.restoreStructures[e];ct.restoreStructures=null}function In(){let e=ve[K++];if(e<160)if(e<128){if(e<64)return e;{let t=ct[e&63]||Ft.getStructures&&kj()[e&63];return t?(t.read||(t.read=lx(t,e&63)),t.read()):e}}else if(e<144)if(e-=128,Ft.mapsAsObjects){let t={};for(let n=0;n<e;n++){let r=Tj();r==="__proto__"&&(r="__proto_"),t[r]=In()}return t}else{let t=new Map;for(let n=0;n<e;n++)t.set(In(),In());return t}else{e-=144;let t=new Array(e);for(let n=0;n<e;n++)t[n]=In();return Ft.freezeData?Object.freeze(t):t}else if(e<192){let t=e-160;if(Xo>=K)return aa.slice(K-Vi,(K+=t)-Vi);if(Xo==0&&Gi<140){let n=t<16?cx(t):Cj(t);if(n!=null)return n}return g1(t)}else{let t;switch(e){case 192:return null;case 193:return rr?(t=In(),t>0?rr[1].slice(rr.position1,rr.position1+=t):rr[0].slice(rr.position0,rr.position0-=t)):wj;case 194:return!1;case 195:return!0;case 196:if(t=ve[K++],t===void 0)throw new Error("Unexpected end of buffer");return fy(t);case 197:return t=st.getUint16(K),K+=2,fy(t);case 198:return t=st.getUint32(K),K+=4,fy(t);case 199:return qa(ve[K++]);case 200:return t=st.getUint16(K),K+=2,qa(t);case 201:return t=st.getUint32(K),K+=4,qa(t);case 202:if(t=st.getFloat32(K),Ft.useFloat32>2){let n=ux[(ve[K]&127)<<1|ve[K+1]>>7];return K+=4,(n*t+(t>0?.5:-.5)>>0)/n}return K+=4,t;case 203:return t=st.getFloat64(K),K+=8,t;case 204:return ve[K++];case 205:return t=st.getUint16(K),K+=2,t;case 206:return t=st.getUint32(K),K+=4,t;case 207:return Ft.int64AsType==="number"?(t=st.getUint32(K)*4294967296,t+=st.getUint32(K+4)):Ft.int64AsType==="string"?t=st.getBigUint64(K).toString():Ft.int64AsType==="auto"?(t=st.getBigUint64(K),t<=BigInt(2)<<BigInt(52)&&(t=Number(t))):t=st.getBigUint64(K),K+=8,t;case 208:return st.getInt8(K++);case 209:return t=st.getInt16(K),K+=2,t;case 210:return t=st.getInt32(K),K+=4,t;case 211:return Ft.int64AsType==="number"?(t=st.getInt32(K)*4294967296,t+=st.getUint32(K+4)):Ft.int64AsType==="string"?t=st.getBigInt64(K).toString():Ft.int64AsType==="auto"?(t=st.getBigInt64(K),t>=BigInt(-2)<<BigInt(52)&&t<=BigInt(2)<<BigInt(52)&&(t=Number(t))):t=st.getBigInt64(K),K+=8,t;case 212:if(t=ve[K++],t==114)return e2(ve[K++]&63);{let n=ri[t];if(n)return n.read?(K++,n.read(In())):n.noBuffer?(K++,n()):n(ve.subarray(K,++K));throw new Error("Unknown extension "+t)}case 213:return t=ve[K],t==114?(K++,e2(ve[K++]&63,ve[K++])):qa(2);case 214:return qa(4);case 215:return qa(8);case 216:return qa(16);case 217:return t=ve[K++],Xo>=K?aa.slice(K-Vi,(K+=t)-Vi):A6(t);case 218:return t=st.getUint16(K),K+=2,Xo>=K?aa.slice(K-Vi,(K+=t)-Vi):b6(t);case 219:return t=st.getUint32(K),K+=4,Xo>=K?aa.slice(K-Vi,(K+=t)-Vi):_6(t);case 220:return t=st.getUint16(K),K+=2,Qk(t);case 221:return t=st.getUint32(K),K+=4,Qk(t);case 222:return t=st.getUint16(K),K+=2,Jk(t);case 223:return t=st.getUint32(K),K+=4,Jk(t);default:if(e>=224)return e-256;if(e===void 0){let n=new Error("Unexpected end of MessagePack data");throw n.incomplete=!0,n}throw new Error("Unknown MessagePack token "+e)}}}const y6=/^[a-zA-Z_$][a-zA-Z\d_$]*$/;function lx(e,t){function n(){if(n.count++>Ej){let i=e.read=new Function("r","return function(){return "+(Ft.freezeData?"Object.freeze":"")+"({"+e.map(o=>o==="__proto__"?"__proto_:r()":y6.test(o)?o+":r()":"["+JSON.stringify(o)+"]:r()").join(",")+"})}")(In);return e.highByte===0&&(e.read=Yk(t,e.read)),i()}let r={};for(let i=0,o=e.length;i<o;i++){let s=e[i];s==="__proto__"&&(s="__proto_"),r[s]=In()}return Ft.freezeData?Object.freeze(r):r}return n.count=0,e.highByte===0?Yk(t,n):n}const Yk=(e,t)=>function(){let n=ve[K++];if(n===0)return t();let r=e<32?-(e+(n<<5)):e+(n<<5),i=ct[r]||kj()[r];if(!i)throw new Error("Record id is not defined for "+r);return i.read||(i.read=lx(i,e)),i.read()};function kj(){let e=Pj(()=>(ve=null,Ft.getStructures()));return ct=Ft._mergeStructures(e,ct)}var g1=fh,A6=fh,b6=fh,_6=fh;function fh(e){let t;if(e<16&&(t=cx(e)))return t;if(e>64&&p1)return p1.decode(ve.subarray(K,K+=e));const n=K+e,r=[];for(t="";K<n;){const i=ve[K++];if(!(i&128))r.push(i);else if((i&224)===192){const o=ve[K++]&63;r.push((i&31)<<6|o)}else if((i&240)===224){const o=ve[K++]&63,s=ve[K++]&63;r.push((i&31)<<12|o<<6|s)}else if((i&248)===240){const o=ve[K++]&63,s=ve[K++]&63,a=ve[K++]&63;let l=(i&7)<<18|o<<12|s<<6|a;l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|l&1023),r.push(l)}else r.push(i);r.length>=4096&&(t+=Qn.apply(String,r),r.length=0)}return r.length>0&&(t+=Qn.apply(String,r)),t}function Qk(e){let t=new Array(e);for(let n=0;n<e;n++)t[n]=In();return Ft.freezeData?Object.freeze(t):t}function Jk(e){if(Ft.mapsAsObjects){let t={};for(let n=0;n<e;n++){let r=Tj();r==="__proto__"&&(r="__proto_"),t[r]=In()}return t}else{let t=new Map;for(let n=0;n<e;n++)t.set(In(),In());return t}}var Qn=String.fromCharCode;function Cj(e){let t=K,n=new Array(e);for(let r=0;r<e;r++){const i=ve[K++];if((i&128)>0){K=t;return}n[r]=i}return Qn.apply(String,n)}function cx(e){if(e<4)if(e<2){if(e===0)return"";{let t=ve[K++];if((t&128)>1){K-=1;return}return Qn(t)}}else{let t=ve[K++],n=ve[K++];if((t&128)>0||(n&128)>0){K-=2;return}if(e<3)return Qn(t,n);let r=ve[K++];if((r&128)>0){K-=3;return}return Qn(t,n,r)}else{let t=ve[K++],n=ve[K++],r=ve[K++],i=ve[K++];if((t&128)>0||(n&128)>0||(r&128)>0||(i&128)>0){K-=4;return}if(e<6){if(e===4)return Qn(t,n,r,i);{let o=ve[K++];if((o&128)>0){K-=5;return}return Qn(t,n,r,i,o)}}else if(e<8){let o=ve[K++],s=ve[K++];if((o&128)>0||(s&128)>0){K-=6;return}if(e<7)return Qn(t,n,r,i,o,s);let a=ve[K++];if((a&128)>0){K-=7;return}return Qn(t,n,r,i,o,s,a)}else{let o=ve[K++],s=ve[K++],a=ve[K++],l=ve[K++];if((o&128)>0||(s&128)>0||(a&128)>0||(l&128)>0){K-=8;return}if(e<10){if(e===8)return Qn(t,n,r,i,o,s,a,l);{let c=ve[K++];if((c&128)>0){K-=9;return}return Qn(t,n,r,i,o,s,a,l,c)}}else if(e<12){let c=ve[K++],u=ve[K++];if((c&128)>0||(u&128)>0){K-=10;return}if(e<11)return Qn(t,n,r,i,o,s,a,l,c,u);let d=ve[K++];if((d&128)>0){K-=11;return}return Qn(t,n,r,i,o,s,a,l,c,u,d)}else{let c=ve[K++],u=ve[K++],d=ve[K++],h=ve[K++];if((c&128)>0||(u&128)>0||(d&128)>0||(h&128)>0){K-=12;return}if(e<14){if(e===12)return Qn(t,n,r,i,o,s,a,l,c,u,d,h);{let p=ve[K++];if((p&128)>0){K-=13;return}return Qn(t,n,r,i,o,s,a,l,c,u,d,h,p)}}else{let p=ve[K++],g=ve[K++];if((p&128)>0||(g&128)>0){K-=14;return}if(e<15)return Qn(t,n,r,i,o,s,a,l,c,u,d,h,p,g);let m=ve[K++];if((m&128)>0){K-=15;return}return Qn(t,n,r,i,o,s,a,l,c,u,d,h,p,g,m)}}}}}function Xk(){let e=ve[K++],t;if(e<192)t=e-160;else switch(e){case 217:t=ve[K++];break;case 218:t=st.getUint16(K),K+=2;break;case 219:t=st.getUint32(K),K+=4;break;default:throw new Error("Expected string")}return fh(t)}function fy(e){return Ft.copyBuffers?Uint8Array.prototype.slice.call(ve,K,K+=e):ve.subarray(K,K+=e)}function qa(e){let t=ve[K++];if(ri[t]){let n;return ri[t](ve.subarray(K,n=K+=e),r=>{K=r;try{return In()}finally{K=n}})}else throw new Error("Unknown extension type "+t)}var Zk=new Array(4096);function Tj(){let e=ve[K++];if(e>=160&&e<192){if(e=e-160,Xo>=K)return aa.slice(K-Vi,(K+=e)-Vi);if(!(Xo==0&&Gi<180))return g1(e)}else return K--,Ij(In());let t=(e<<5^(e>1?st.getUint16(K):e>0?ve[K]:0))&4095,n=Zk[t],r=K,i=K+e-3,o,s=0;if(n&&n.bytes==e){for(;r<i;){if(o=st.getUint32(r),o!=n[s++]){r=1879048192;break}r+=4}for(i+=3;r<i;)if(o=ve[r++],o!=n[s++]){r=1879048192;break}if(r===i)return K=r,n.string;i-=3,r=K}for(n=[],Zk[t]=n,n.bytes=e;r<i;)o=st.getUint32(r),n.push(o),r+=4;for(i+=3;r<i;)o=ve[r++],n.push(o);let a=e<16?cx(e):Cj(e);return a!=null?n.string=a:n.string=g1(e)}function Ij(e){if(typeof e=="string")return e;if(typeof e=="number")return e.toString();throw new Error("Invalid property type for record",typeof e)}const e2=(e,t)=>{let n=In().map(Ij),r=e;t!==void 0&&(e=e<32?-((t<<5)+e):(t<<5)+e,n.highByte=t);let i=ct[e];return i&&(i.isShared||ga)&&((ct.restoreStructures||(ct.restoreStructures=[]))[e]=i),ct[e]=n,n.read=lx(n,r),n.read()};ri[0]=()=>{};ri[0].noBuffer=!0;ri[66]=e=>{let t=e.length,n=BigInt(e[0]&128?e[0]-256:e[0]);for(let r=1;r<t;r++)n<<=8n,n+=BigInt(e[r]);return n};let x6={Error,TypeError,ReferenceError};ri[101]=()=>{let e=In();return(x6[e[0]]||Error)(e[1])};ri[105]=e=>{if(Ft.structuredClone===!1)throw new Error("Structured clone extension is disabled");let t=st.getUint32(K-4);Es||(Es=new Map);let n=ve[K],r;n>=144&&n<160||n==220||n==221?r=[]:r={};let i={target:r};Es.set(t,i);let o=In();return i.used?Object.assign(r,o):(i.target=o,o)};ri[112]=e=>{if(Ft.structuredClone===!1)throw new Error("Structured clone extension is disabled");let t=st.getUint32(K-4),n=Es.get(t);return n.used=!0,n.target};ri[115]=()=>new Set(In());const Rj=["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64","BigInt64","BigUint64"].map(e=>e+"Array");let S6=typeof globalThis=="object"?globalThis:window;ri[116]=e=>{let t=e[0],n=Rj[t];if(!n)throw new Error("Could not find typed array for code "+t);return new S6[n](Uint8Array.prototype.slice.call(e,1).buffer)};ri[120]=()=>{let e=In();return new RegExp(e[0],e[1])};const w6=[];ri[98]=e=>{let t=(e[0]<<24)+(e[1]<<16)+(e[2]<<8)+e[3],n=K;return K+=t-e.length,rr=w6,rr=[Xk(),Xk()],rr.position0=0,rr.position1=0,rr.postBundlePosition=K,K=n,In()};ri[255]=e=>e.length==4?new Date((e[0]*16777216+(e[1]<<16)+(e[2]<<8)+e[3])*1e3):e.length==8?new Date(((e[0]<<22)+(e[1]<<14)+(e[2]<<6)+(e[3]>>2))/1e6+((e[3]&3)*4294967296+e[4]*16777216+(e[5]<<16)+(e[6]<<8)+e[7])*1e3):e.length==12?new Date(((e[0]<<24)+(e[1]<<16)+(e[2]<<8)+e[3])/1e6+((e[4]&128?-281474976710656:0)+e[6]*1099511627776+e[7]*4294967296+e[8]*16777216+(e[9]<<16)+(e[10]<<8)+e[11])*1e3):new Date("invalid");function Pj(e){let t=Gi,n=K,r=Vi,i=Xo,o=aa,s=Es,a=rr,l=new Uint8Array(ve.slice(0,Gi)),c=ct,u=ct.slice(0,ct.length),d=Ft,h=ga,p=e();return Gi=t,K=n,Vi=r,Xo=i,aa=o,Es=s,rr=a,ve=l,ga=h,ct=c,ct.splice(0,ct.length,...u),Ft=d,st=new DataView(ve.buffer,ve.byteOffset,ve.byteLength),p}function m1(){ve=null,Es=null,ct=null}const ux=new Array(147);for(let e=0;e<256;e++)ux[e]=+("1e"+Math.floor(45.15-e*.30103));var i0=new _f({useRecords:!1});const E6=i0.unpack;i0.unpackMultiple;i0.unpack;let k6=new Float32Array(1);new Uint8Array(k6.buffer,0,4);let rg;try{rg=new TextEncoder}catch{}let v1,Mj;const o0=typeof Buffer<"u",ep=o0?function(e){return Buffer.allocUnsafeSlow(e)}:Uint8Array,jj=o0?Buffer:Uint8Array,t2=o0?4294967296:2144337920;let J,rd,Ot,Y=0,jr,an=null,C6;const T6=21760,I6=/[\u0080-\uFFFF]/,sc=Symbol("record-id");class R6 extends _f{constructor(t){super(t),this.offset=0;let n,r,i,o,s=jj.prototype.utf8Write?function(P,j){return J.utf8Write(P,j,4294967295)}:rg&&rg.encodeInto?function(P,j){return rg.encodeInto(P,J.subarray(j)).written}:!1,a=this;t||(t={});let l=t&&t.sequential,c=t.structures||t.saveStructures,u=t.maxSharedStructures;if(u==null&&(u=c?32:0),u>8160)throw new Error("Maximum maxSharedStructure is 8160");t.structuredClone&&t.moreTypes==null&&(this.moreTypes=!0);let d=t.maxOwnStructures;d==null&&(d=c?32:64),!this.structures&&t.useRecords!=!1&&(this.structures=[]);let h=u>32||d+u>64,p=u+64,g=u+d+64;if(g>8256)throw new Error("Maximum maxSharedStructure + maxOwnStructure is 8192");let m=[],b=0,y=0;this.pack=this.encode=function(P,j){if(J||(J=new ep(8192),Ot=J.dataView||(J.dataView=new DataView(J.buffer,0,8192)),Y=0),jr=J.length-10,jr-Y<2048?(J=new ep(J.length),Ot=J.dataView||(J.dataView=new DataView(J.buffer,0,J.length)),jr=J.length-10,Y=0):Y=Y+7&2147483640,n=Y,j&L6&&(Y+=j&255),o=a.structuredClone?new Map:null,a.bundleStrings&&typeof P!="string"?(an=[],an.size=1/0):an=null,i=a.structures,i){i.uninitialized&&(i=a._mergeStructures(a.getStructures()));let k=i.sharedLength||0;if(k>u)throw new Error("Shared structures is larger than maximum shared structures, try increasing maxSharedStructures to "+i.sharedLength);if(!i.transitions){i.transitions=Object.create(null);for(let $=0;$<k;$++){let V=i[$];if(!V)continue;let z,B=i.transitions;for(let G=0,U=V.length;G<U;G++){let te=V[G];z=B[te],z||(z=B[te]=Object.create(null)),B=z}B[sc]=$+64}this.lastNamedStructuresLength=k}l||(i.nextId=k+64)}r&&(r=!1);let R;try{a.randomAccessStructure&&P&&P.constructor&&P.constructor===Object?H(P):S(P);let k=an;if(an&&i2(n,S,0),o&&o.idsToInsert){let $=o.idsToInsert.sort((G,U)=>G.offset>U.offset?1:-1),V=$.length,z=-1;for(;k&&V>0;){let G=$[--V].offset+n;G<k.stringsPosition+n&&z===-1&&(z=0),G>k.position+n?z>=0&&(z+=6):(z>=0&&(Ot.setUint32(k.position+n,Ot.getUint32(k.position+n)+z),z=-1),k=k.previous,V++)}z>=0&&k&&Ot.setUint32(k.position+n,Ot.getUint32(k.position+n)+z),Y+=$.length*6,Y>jr&&O(Y),a.offset=Y;let B=M6(J.subarray(n,Y),$);return o=null,B}return a.offset=Y,j&O6?(J.start=n,J.end=Y,J):J.subarray(n,Y)}catch(k){throw R=k,k}finally{if(i&&(A(),r&&a.saveStructures)){let k=i.sharedLength||0,$=J.subarray(n,Y),V=j6(i,a);if(!R)return a.saveStructures(V,V.isCompatible)===!1?a.pack(P,j):(a.lastNamedStructuresLength=k,$)}j&V6&&(Y=n)}};const A=()=>{y<10&&y++;let P=i.sharedLength||0;if(i.length>P&&!l&&(i.length=P),b>1e4)i.transitions=null,y=0,b=0,m.length>0&&(m=[]);else if(m.length>0&&!l){for(let j=0,R=m.length;j<R;j++)m[j][sc]=0;m=[]}},x=P=>{var j=P.length;j<16?J[Y++]=144|j:j<65536?(J[Y++]=220,J[Y++]=j>>8,J[Y++]=j&255):(J[Y++]=221,Ot.setUint32(Y,j),Y+=4);for(let R=0;R<j;R++)S(P[R])},S=P=>{Y>jr&&(J=O(Y));var j=typeof P,R;if(j==="string"){let k=P.length;if(an&&k>=4&&k<4096){if((an.size+=k)>T6){let B,G=(an[0]?an[0].length*3+an[1].length:0)+10;Y+G>jr&&(J=O(Y+G));let U;an.position?(U=an,J[Y]=200,Y+=3,J[Y++]=98,B=Y-n,Y+=4,i2(n,S,0),Ot.setUint16(B+n-3,Y-n-B)):(J[Y++]=214,J[Y++]=98,B=Y-n,Y+=4),an=["",""],an.previous=U,an.size=0,an.position=B}let z=I6.test(P);an[z?0:1]+=P,J[Y++]=193,S(z?-k:k);return}let $;k<32?$=1:k<256?$=2:k<65536?$=3:$=5;let V=k*3;if(Y+V>jr&&(J=O(Y+V)),k<64||!s){let z,B,G,U=Y+$;for(z=0;z<k;z++)B=P.charCodeAt(z),B<128?J[U++]=B:B<2048?(J[U++]=B>>6|192,J[U++]=B&63|128):(B&64512)===55296&&((G=P.charCodeAt(z+1))&64512)===56320?(B=65536+((B&1023)<<10)+(G&1023),z++,J[U++]=B>>18|240,J[U++]=B>>12&63|128,J[U++]=B>>6&63|128,J[U++]=B&63|128):(J[U++]=B>>12|224,J[U++]=B>>6&63|128,J[U++]=B&63|128);R=U-Y-$}else R=s(P,Y+$);R<32?J[Y++]=160|R:R<256?($<2&&J.copyWithin(Y+2,Y+1,Y+1+R),J[Y++]=217,J[Y++]=R):R<65536?($<3&&J.copyWithin(Y+3,Y+2,Y+2+R),J[Y++]=218,J[Y++]=R>>8,J[Y++]=R&255):($<5&&J.copyWithin(Y+5,Y+3,Y+3+R),J[Y++]=219,Ot.setUint32(Y,R),Y+=4),Y+=R}else if(j==="number")if(P>>>0===P)P<32||P<128&&this.useRecords===!1||P<64&&!this.randomAccessStructure?J[Y++]=P:P<256?(J[Y++]=204,J[Y++]=P):P<65536?(J[Y++]=205,J[Y++]=P>>8,J[Y++]=P&255):(J[Y++]=206,Ot.setUint32(Y,P),Y+=4);else if(P>>0===P)P>=-32?J[Y++]=256+P:P>=-128?(J[Y++]=208,J[Y++]=P+256):P>=-32768?(J[Y++]=209,Ot.setInt16(Y,P),Y+=2):(J[Y++]=210,Ot.setInt32(Y,P),Y+=4);else{let k;if((k=this.useFloat32)>0&&P<4294967296&&P>=-2147483648){J[Y++]=202,Ot.setFloat32(Y,P);let $;if(k<4||($=P*ux[(J[Y]&127)<<1|J[Y+1]>>7])>>0===$){Y+=4;return}else Y--}J[Y++]=203,Ot.setFloat64(Y,P),Y+=8}else if(j==="object"||j==="function")if(!P)J[Y++]=192;else{if(o){let $=o.get(P);if($){if(!$.id){let V=o.idsToInsert||(o.idsToInsert=[]);$.id=V.push($)}J[Y++]=214,J[Y++]=112,Ot.setUint32(Y,$.id),Y+=4;return}else o.set(P,{offset:Y-n})}let k=P.constructor;if(k===Object)T(P,!0);else if(k===Array)x(P);else if(k===Map)if(this.mapAsEmptyObject)J[Y++]=128;else{R=P.size,R<16?J[Y++]=128|R:R<65536?(J[Y++]=222,J[Y++]=R>>8,J[Y++]=R&255):(J[Y++]=223,Ot.setUint32(Y,R),Y+=4);for(let[$,V]of P)S($),S(V)}else{for(let $=0,V=v1.length;$<V;$++){let z=Mj[$];if(P instanceof z){let B=v1[$];if(B.write){B.type&&(J[Y++]=212,J[Y++]=B.type,J[Y++]=0);let ce=B.write.call(this,P);ce===P?Array.isArray(P)?x(P):T(P):S(ce);return}let G=J,U=Ot,te=Y;J=null;let D;try{D=B.pack.call(this,P,ce=>(J=G,G=null,Y+=ce,Y>jr&&O(Y),{target:J,targetView:Ot,position:Y-ce}),S)}finally{G&&(J=G,Ot=U,Y=te,jr=J.length-10)}D&&(D.length+Y>jr&&O(D.length+Y),Y=P6(D,J,Y,B.type));return}}if(Array.isArray(P))x(P);else{if(P.toJSON){const $=P.toJSON();if($!==P)return S($)}if(j==="function")return S(this.writeFunction&&this.writeFunction(P));T(P,!P.hasOwnProperty)}}}else if(j==="boolean")J[Y++]=P?195:194;else if(j==="bigint"){if(P<BigInt(1)<<BigInt(63)&&P>=-(BigInt(1)<<BigInt(63)))J[Y++]=211,Ot.setBigInt64(Y,P);else if(P<BigInt(1)<<BigInt(64)&&P>0)J[Y++]=207,Ot.setBigUint64(Y,P);else if(this.largeBigIntToFloat)J[Y++]=203,Ot.setFloat64(Y,Number(P));else if(this.useBigIntExtension&&P<2n**1023n&&P>-(2n**1023n)){J[Y++]=199,Y++,J[Y++]=66;let k=[],$;do{let V=P&0xffn;$=(V&0x80n)===(P<0n?0x80n:0n),k.push(V),P>>=8n}while(!((P===0n||P===-1n)&&$));J[Y-2]=k.length;for(let V=k.length;V>0;)J[Y++]=Number(k[--V]);return}else throw new RangeError(P+" was too large to fit in MessagePack 64-bit integer format, use useBigIntExtension or set largeBigIntToFloat to convert to float-64");Y+=8}else if(j==="undefined")this.encodeUndefinedAsNil?J[Y++]=192:(J[Y++]=212,J[Y++]=0,J[Y++]=0);else throw new Error("Unknown type: "+j)},_=this.variableMapSize||this.coercibleKeyAsNumber?P=>{let j=Object.keys(P),R=j.length;R<16?J[Y++]=128|R:R<65536?(J[Y++]=222,J[Y++]=R>>8,J[Y++]=R&255):(J[Y++]=223,Ot.setUint32(Y,R),Y+=4);let k;if(this.coercibleKeyAsNumber)for(let $=0;$<R;$++){k=j[$];let V=Number(k);S(isNaN(V)?k:V),S(P[k])}else for(let $=0;$<R;$++)S(k=j[$]),S(P[k])}:(P,j)=>{J[Y++]=222;let R=Y-n;Y+=2;let k=0;for(let $ in P)(j||P.hasOwnProperty($))&&(S($),S(P[$]),k++);J[R+++n]=k>>8,J[R+n]=k&255},w=this.useRecords===!1?_:t.progressiveRecords&&!h?(P,j)=>{let R,k=i.transitions||(i.transitions=Object.create(null)),$=Y++-n,V;for(let z in P)if(j||P.hasOwnProperty(z)){if(R=k[z],R)k=R;else{let B=Object.keys(P),G=k;k=i.transitions;let U=0;for(let te=0,D=B.length;te<D;te++){let ce=B[te];R=k[ce],R||(R=k[ce]=Object.create(null),U++),k=R}$+n+1==Y?(Y--,L(k,B,U)):N(k,B,$,U),V=!0,k=G[z]}S(P[z])}if(!V){let z=k[sc];z?J[$+n]=z:N(k,Object.keys(P),$,0)}}:(P,j)=>{let R,k=i.transitions||(i.transitions=Object.create(null)),$=0;for(let z in P)(j||P.hasOwnProperty(z))&&(R=k[z],R||(R=k[z]=Object.create(null),$++),k=R);let V=k[sc];V?V>=96&&h?(J[Y++]=((V-=96)&31)+96,J[Y++]=V>>5):J[Y++]=V:L(k,k.__keys__||Object.keys(P),$);for(let z in P)(j||P.hasOwnProperty(z))&&S(P[z])},E=typeof this.useRecords=="function"&&this.useRecords,T=E?(P,j)=>{E(P)?w(P,j):_(P,j)}:w,O=P=>{let j;if(P>16777216){if(P-n>t2)throw new Error("Packed buffer would be larger than maximum buffer size");j=Math.min(t2,Math.round(Math.max((P-n)*(P>67108864?1.25:2),4194304)/4096)*4096)}else j=(Math.max(P-n<<2,J.length-1)>>12)+1<<12;let R=new ep(j);return Ot=R.dataView||(R.dataView=new DataView(R.buffer,0,j)),P=Math.min(P,J.length),J.copy?J.copy(R,0,n,P):R.set(J.slice(n,P)),Y-=n,n=0,jr=R.length-10,J=R},L=(P,j,R)=>{let k=i.nextId;k||(k=64),k<p&&this.shouldShareStructure&&!this.shouldShareStructure(j)?(k=i.nextOwnId,k<g||(k=p),i.nextOwnId=k+1):(k>=g&&(k=p),i.nextId=k+1);let $=j.highByte=k>=96&&h?k-96>>5:-1;P[sc]=k,P.__keys__=j,i[k-64]=j,k<p?(j.isShared=!0,i.sharedLength=k-63,r=!0,$>=0?(J[Y++]=(k&31)+96,J[Y++]=$):J[Y++]=k):($>=0?(J[Y++]=213,J[Y++]=114,J[Y++]=(k&31)+96,J[Y++]=$):(J[Y++]=212,J[Y++]=114,J[Y++]=k),R&&(b+=y*R),m.length>=d&&(m.shift()[sc]=0),m.push(P),S(j))},N=(P,j,R,k)=>{let $=J,V=Y,z=jr,B=n;J=rd,Y=0,n=0,J||(rd=J=new ep(8192)),jr=J.length-10,L(P,j,k),rd=J;let G=Y;if(J=$,Y=V,jr=z,n=B,G>1){let U=Y+G-1;U>jr&&O(U);let te=R+n;J.copyWithin(te+G,te+1,Y),J.set(rd.slice(0,G),te),Y=U}else J[R+n]=rd[0]},H=(P,j)=>{let R=C6(P,J,n,Y,i,O,(k,$,V)=>{if(V)return r=!0;Y=$;let z=J;return S(k),A(),z!==J?{position:Y,targetView:Ot,target:J}:Y},this);if(R===0)return T(P,!0);Y=R}}useBuffer(t){J=t,Ot=new DataView(J.buffer,J.byteOffset,J.byteLength),Y=0}clearSharedData(){this.structures&&(this.structures=[]),this.typedStructs&&(this.typedStructs=[])}}Mj=[Date,Set,Error,RegExp,ArrayBuffer,Object.getPrototypeOf(Uint8Array.prototype).constructor,Sj];v1=[{pack(e,t,n){let r=e.getTime()/1e3;if((this.useTimestamp32||e.getMilliseconds()===0)&&r>=0&&r<4294967296){let{target:i,targetView:o,position:s}=t(6);i[s++]=214,i[s++]=255,o.setUint32(s,r)}else if(r>0&&r<4294967296){let{target:i,targetView:o,position:s}=t(10);i[s++]=215,i[s++]=255,o.setUint32(s,e.getMilliseconds()*4e6+(r/1e3/4294967296>>0)),o.setUint32(s+4,r)}else if(isNaN(r)){if(this.onInvalidDate)return t(0),n(this.onInvalidDate());let{target:i,targetView:o,position:s}=t(3);i[s++]=212,i[s++]=255,i[s++]=255}else{let{target:i,targetView:o,position:s}=t(15);i[s++]=199,i[s++]=12,i[s++]=255,o.setUint32(s,e.getMilliseconds()*1e6),o.setBigInt64(s+4,BigInt(Math.floor(r)))}}},{pack(e,t,n){if(this.setAsEmptyObject)return t(0),n({});let r=Array.from(e),{target:i,position:o}=t(this.moreTypes?3:0);this.moreTypes&&(i[o++]=212,i[o++]=115,i[o++]=0),n(r)}},{pack(e,t,n){let{target:r,position:i}=t(this.moreTypes?3:0);this.moreTypes&&(r[i++]=212,r[i++]=101,r[i++]=0),n([e.name,e.message])}},{pack(e,t,n){let{target:r,position:i}=t(this.moreTypes?3:0);this.moreTypes&&(r[i++]=212,r[i++]=120,r[i++]=0),n([e.source,e.flags])}},{pack(e,t){this.moreTypes?n2(e,16,t):r2(o0?Buffer.from(e):new Uint8Array(e),t)}},{pack(e,t){let n=e.constructor;n!==jj&&this.moreTypes?n2(e,Rj.indexOf(n.name),t):r2(e,t)}},{pack(e,t){let{target:n,position:r}=t(1);n[r]=193}}];function n2(e,t,n,r){let i=e.byteLength;if(i+1<256){var{target:o,position:s}=n(4+i);o[s++]=199,o[s++]=i+1}else if(i+1<65536){var{target:o,position:s}=n(5+i);o[s++]=200,o[s++]=i+1>>8,o[s++]=i+1&255}else{var{target:o,position:s,targetView:a}=n(7+i);o[s++]=201,a.setUint32(s,i+1),s+=4}o[s++]=116,o[s++]=t,o.set(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),s)}function r2(e,t){let n=e.byteLength;var r,i;if(n<256){var{target:r,position:i}=t(n+2);r[i++]=196,r[i++]=n}else if(n<65536){var{target:r,position:i}=t(n+3);r[i++]=197,r[i++]=n>>8,r[i++]=n&255}else{var{target:r,position:i,targetView:o}=t(n+5);r[i++]=198,o.setUint32(i,n),i+=4}r.set(e,i)}function P6(e,t,n,r){let i=e.length;switch(i){case 1:t[n++]=212;break;case 2:t[n++]=213;break;case 4:t[n++]=214;break;case 8:t[n++]=215;break;case 16:t[n++]=216;break;default:i<256?(t[n++]=199,t[n++]=i):i<65536?(t[n++]=200,t[n++]=i>>8,t[n++]=i&255):(t[n++]=201,t[n++]=i>>24,t[n++]=i>>16&255,t[n++]=i>>8&255,t[n++]=i&255)}return t[n++]=r,t.set(e,n),n+=i,n}function M6(e,t){let n,r=t.length*6,i=e.length-r;for(;n=t.pop();){let o=n.offset,s=n.id;e.copyWithin(o+r,o,i),r-=6;let a=o+r;e[a++]=214,e[a++]=105,e[a++]=s>>24,e[a++]=s>>16&255,e[a++]=s>>8&255,e[a++]=s&255,i=o}return e}function i2(e,t,n){if(an.length>0){Ot.setUint32(an.position+e,Y+n-an.position-e),an.stringsPosition=Y-e;let r=an;an=null,t(r[0]),t(r[1])}}function j6(e,t){return e.isCompatible=n=>{let r=!n||(t.lastNamedStructuresLength||0)===n.length;return r||t._mergeStructures(n),r},e}let Oj=new R6({useRecords:!1});const Vj=Oj.pack;Oj.pack;const O6=512,V6=1024,L6=2048;function Fr(){return Date.now()}const Yi=e=>Vj(e),Pu=e=>E6(e);let N6=class{constructor(t,n){this.connection=t,this.inputLag=n,this.frequencies=[0],this.volumes=[0],this.requestReadinessPromise=null,this.getFrequencies=()=>this.frequencies,this.clearFrequencies=()=>{Array.isArray(this.frequencies[0])&&(this.frequencies=[this.frequencies[0].at(-1)])},this.getVolumes=()=>this.volumes,this.getInputLag=()=>this.inputLag,this.setInputLag=r=>{this.inputLag=r},this.requestReadiness=()=>(console.log("requestReadiness"),this.requestReadinessPromise||(this.requestReadinessPromise=new Promise(r=>{const i=o=>{o.t==="confirm-readiness"&&(r(!0),this.connection.off("data",i),this.requestReadinessPromise=null)};this.connection.on("data",i),Uc(this.connection,"request-readiness")})),this.requestReadinessPromise),this.startMonitoring=async()=>{var r,i;(r=this.connection)==null||r.off("data",this.handleRTCData),Uc(this.connection,"start-monitor"),(i=this.connection)==null||i.on("data",this.handleRTCData)},this.stopMonitoring=async()=>{var r;Uc(this.connection,"stop-monitor"),(r=this.connection)==null||r.off("data",this.handleRTCData)},this.handleRTCData=r=>{r.t==="freq"&&(this.frequencies=[r[0],r[0]],this.volumes=[r[1],r[1]])}}},$6=class{constructor(t,n,r,i){this.id=t,this.name=n,this.connection=r,this.pingTime=9999,this.pingInterval=null,this.getInput=()=>this.input,this.setPlayerNumber=o=>{Uc(this.connection,"set-player-number",{playerNumber:o})},this.onDisconnect=()=>{this.pingInterval!==null&&clearInterval(this.pingInterval)},this.setPermission=o=>{Uc(this.connection,"set-permissions",{level:o})},this.isPinging=!1,this.latency=9999,this.onPong=()=>{this.latency=Fr()-this.pingTime,this.isPinging=!1,this.pingClient()},this.pingClient=()=>{this.pingInterval=setTimeout(()=>{this.pingTime=Fr(),this.isPinging=!0,Uc(this.connection,"ping")},1e3)},this.getLatency=()=>this.isPinging?Fr()-this.pingTime:this.latency,this.getPingTime=()=>this.pingTime,this.input=new N6(r,i),this.pingClient()}};const dx={SelectionOnTop:"selection_on_top",WebsocketsRemoteMics:"websockets_remote_mics",RemoteMicConnectionType:"remote_mics_connection_type",InitialInputLag:"initial_input_lag",LandingPageBackground:"landing_page_background",VirtualizedSongSelection:"virtualized_song_selection",Eurovision:"eurovision",Shrek:"shrek"};class ki extends Bo{constructor(t,n,r="local"){super(),this.name=t,this.defaultValue=n,this.driver=r,this.value=void 0,this.get=()=>(this.value===void 0&&(this.value=Ve[this.driver].getItem(`settings-${this.name}`)??this.defaultValue),this.value),this.set=i=>{this.value=i,Ve[this.driver].setItem(`settings-${this.name}`,i),this.onUpdate(i)}}}const Lj=["high","low"],D6="graphics-level",qi=new ki(D6,Lj[0]),B6=[null,"skip","remoteMics","singstar-mics","different-mics","advanced","built-in"],F6="mic-setup-preference",fx=new ki(F6,B6[0],"session"),Nj=[60,30],pl=new ki("fps-count",Nj[0]),s0=new ki("EXCLUDED_LANGUAGES_KEY_V2",null),yr=new ki("MOBILE_PHONE_MODE_KEY",null),$j=new ki("keyboard-help-visibility",!0);var nM;const o2=(nM=bn.getFeatureFlagPayload)==null?void 0:nM.call(bn,dx.InitialInputLag),Ud=new ki("INPUT_LAG_V2",typeof o2=="number"?o2:0),Dj=new ki("REMOTE_MIC_INPUT_LAG",0,"session"),s2=["write","read"],Bj=new ki("DefaultRemoteMicPermission","write"),Fj=["New","Classic"],hx=new ki("background-music",Fj[0]),a0=new ki("BackgroundThemeSetting","regular","memory"),px=new ki("AutoEnableFullscreenSetting",!0,"session"),z6=["WebSockets","PeerJS","PartyKit"],Ug=new ki("RemoteMicConnectionType","WebSockets","session");var rM;(rM=bn.onFeatureFlags)==null||rM.call(bn,()=>{Ug.set(bn.getFeatureFlagPayload(dx.RemoteMicConnectionType)??"WebSockets")});function Ue(e){const[t,n]=v.useState(e.get());return v.useLayoutEffect(()=>e.addListener(n),[e]),[t,e.set]}const a2="RememberedAccessesKey",hy="rememberedSubscriptionsKey";class U6 extends Bo{constructor(){var t,n;super(...arguments),this.remoteMics=[],this.micAccessMap=((t=Ve.local)==null?void 0:t.getItem(a2))??{},this.subscriptions=((n=Ve.session)==null?void 0:n.getItem(hy))??{"remote-mics":[]},this.addRemoteMic=(r,i,o,s,a)=>{this.remoteMics=this.remoteMics.filter(l=>l.id!==r),this.remoteMics=[...this.remoteMics,new $6(r,i,o,a)],this.setPermission(r,this.getPermission(r)),ee.remoteMicConnected.dispatch({id:r,name:i,silent:s})},this.removeRemoteMic=(r,i=!1)=>{const o=this.remoteMics.find(s=>s.id===r);this.remoteMics=this.remoteMics.filter(s=>s.id!==r),o&&(o.onDisconnect(),ee.remoteMicDisconnected.dispatch(o,i))},this.getRemoteMics=()=>this.remoteMics,this.getRemoteMicById=r=>this.remoteMics.find(i=>i.id===r),this.broadcast=r=>{this.getRemoteMics().forEach(i=>i.connection.send(r))},this.broadcastToChannel=(r,i)=>{this.subscriptions[r].forEach(o=>{var s;return(s=this.getRemoteMicById(o))==null?void 0:s.connection.send(i)})},this.getPermission=r=>this.micAccessMap[r]??Bj.get(),this.setPermission=(r,i)=>{var o;(o=this.getRemoteMicById(r))==null||o.setPermission(i),this.micAccessMap[r]=i,Ve==null||Ve.setItem(a2,this.micAccessMap),this.onUpdate(r,i)},this.addSubscription=(r,i)=>{var o;this.subscriptions[i]=[...new Set([...this.subscriptions[i],r])],(o=Ve.session)==null||o.setItem(hy,this.subscriptions),ee.remoteMicSubscribed.dispatch(r,i)},this.removeSubscription=(r,i)=>{var o,s;this.subscriptions[i]=((o=this.subscriptions[i])==null?void 0:o.filter(a=>a!==r))??[],(s=Ve.session)==null||s.setItem(hy,this.subscriptions)}}}const Ze=new U6;a0.addListener(e=>{xj(e),Ze.broadcast({t:"style-change",style:e})});ee.remoteMicConnected.subscribe(e=>{var t;(t=Ze.getRemoteMicById(e.id))==null||t.connection.send({t:"style-change",style:a0.get()})});class H6{constructor(){this.frequencies=[440,410],this.volumes=[1,1],this.startMonitoring=async()=>{},this.getFrequencies=t=>this.frequencies,this.getVolumes=t=>this.volumes,this.clearFrequencies=t=>{},this.stopMonitoring=async t=>{},this.getInputLag=()=>0,this.setFrequency=(t,n)=>this.frequencies[t]=n,this.requestReadiness=()=>Promise.resolve(!0),this.getStatus=()=>"ok"}}const G6=new H6;class q6{constructor(){this.frequencies=[410,210],this.volumes=[1,1],this.timestamp=0,this.interval=null,this.isMonitoring=!1,this.startMonitoring=async()=>{this.isMonitoring||(this.isMonitoring=!0,this.interval=global.setInterval(()=>{this.timestamp=this.timestamp+32,this.frequencies[0]=Math.sin(this.timestamp/1e3)*50+100,this.frequencies[1]=Math.cos(this.timestamp/1e3)*50+200},32))},this.getFrequencies=()=>this.frequencies,this.getVolumes=()=>this.volumes,this.clearFrequencies=t=>{},this.stopMonitoring=async()=>{this.isMonitoring&&(this.isMonitoring=!1,this.interval&&global.clearInterval(this.interval))},this.getInputLag=()=>150,this.requestReadiness=()=>Promise.resolve(!0),this.getStatus=()=>"ok"}}const W6=new q6,zj=Object.prototype.toString;function l0(e){switch(zj.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return Rs(e,Error)}}function Mu(e,t){return zj.call(e)===`[object ${t}]`}function Uj(e){return Mu(e,"ErrorEvent")}function l2(e){return Mu(e,"DOMError")}function K6(e){return Mu(e,"DOMException")}function ks(e){return Mu(e,"String")}function gx(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function mx(e){return e===null||gx(e)||typeof e!="object"&&typeof e!="function"}function lu(e){return Mu(e,"Object")}function c0(e){return typeof Event<"u"&&Rs(e,Event)}function Y6(e){return typeof Element<"u"&&Rs(e,Element)}function Q6(e){return Mu(e,"RegExp")}function u0(e){return!!(e&&e.then&&typeof e.then=="function")}function J6(e){return lu(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function Rs(e,t){try{return e instanceof t}catch{return!1}}function Hj(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue))}function Hc(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function c2(e,t){if(!Array.isArray(e))return"";const n=[];for(let r=0;r<e.length;r++){const i=e[r];try{Hj(i)?n.push("[VueViewModel]"):n.push(String(i))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function X6(e,t,n=!1){return ks(e)?Q6(t)?t.test(e):ks(t)?n?e===t:e.includes(t):!1:!1}function gl(e,t=[],n=!1){return t.some(r=>X6(e,r,n))}function Z6(e,t,n=250,r,i,o,s){if(!o.exception||!o.exception.values||!s||!Rs(s.originalException,Error))return;const a=o.exception.values.length>0?o.exception.values[o.exception.values.length-1]:void 0;a&&(o.exception.values=e8(y1(e,t,i,s.originalException,r,o.exception.values,a,0),n))}function y1(e,t,n,r,i,o,s,a){if(o.length>=n+1)return o;let l=[...o];if(Rs(r[i],Error)){u2(s,a);const c=e(t,r[i]),u=l.length;d2(c,i,u,a),l=y1(e,t,n,r[i],i,[c,...l],c,u)}return Array.isArray(r.errors)&&r.errors.forEach((c,u)=>{if(Rs(c,Error)){u2(s,a);const d=e(t,c),h=l.length;d2(d,`errors[${u}]`,h,a),l=y1(e,t,n,c,i,[d,...l],d,h)}}),l}function u2(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function d2(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}function e8(e,t){return e.map(n=>(n.value&&(n.value=Hc(n.value,t)),n))}const ml="8.16.0",bt=globalThis;function vx(e,t,n){const r=n||bt,i=r.__SENTRY__=r.__SENTRY__||{},o=i[ml]=i[ml]||{};return o[e]||(o[e]=t())}const Gc=bt,t8=80;function cu(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,i=[];let o=0,s=0;const a=" > ",l=a.length;let c;const u=Array.isArray(t)?t:t.keyAttrs,d=!Array.isArray(t)&&t.maxStringLength||t8;for(;n&&o++<r&&(c=n8(n,u),!(c==="html"||o>1&&s+i.length*l+c.length>=d));)i.push(c),s+=c.length,n=n.parentNode;return i.reverse().join(a)}catch{return"<unknown>"}}function n8(e,t){const n=e,r=[];if(!n||!n.tagName)return"";if(Gc.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());const i=t&&t.length?t.filter(s=>n.getAttribute(s)).map(s=>[s,n.getAttribute(s)]):null;if(i&&i.length)i.forEach(s=>{r.push(`[${s[0]}="${s[1]}"]`)});else{n.id&&r.push(`#${n.id}`);const s=n.className;if(s&&ks(s)){const a=s.split(/\s+/);for(const l of a)r.push(`.${l}`)}}const o=["aria-label","type","name","title","alt"];for(const s of o){const a=n.getAttribute(s);a&&r.push(`[${s}="${a}"]`)}return r.join("")}function r8(){try{return Gc.document.location.href}catch{return""}}function i8(e){return Gc.document&&Gc.document.querySelector?Gc.document.querySelector(e):null}function Gj(e){if(!Gc.HTMLElement)return null;let t=e;const n=5;for(let r=0;r<n;r++){if(!t)return null;if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}const ju=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,o8="Sentry Logger ",A1=["debug","info","warn","error","log","assert","trace"],Hg={};function hh(e){if(!("console"in bt))return e();const t=bt.console,n={},r=Object.keys(Hg);r.forEach(i=>{const o=Hg[i];n[i]=t[i],t[i]=o});try{return e()}finally{r.forEach(i=>{t[i]=n[i]})}}function s8(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return ju?A1.forEach(n=>{t[n]=(...r)=>{e&&hh(()=>{bt.console[n](`${o8}[${n}]:`,...r)})}}):A1.forEach(n=>{t[n]=()=>{}}),t}const ge=s8(),a8=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function l8(e){return e==="http"||e==="https"}function Ou(e,t=!1){const{host:n,path:r,pass:i,port:o,projectId:s,protocol:a,publicKey:l}=e;return`${a}://${l}${t&&i?`:${i}`:""}@${n}${o?`:${o}`:""}/${r&&`${r}/`}${s}`}function c8(e){const t=a8.exec(e);if(!t){hh(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}const[n,r,i="",o="",s="",a=""]=t.slice(1);let l="",c=a;const u=c.split("/");if(u.length>1&&(l=u.slice(0,-1).join("/"),c=u.pop()),c){const d=c.match(/^\d+/);d&&(c=d[0])}return qj({host:o,pass:i,path:l,projectId:c,port:s,protocol:n,publicKey:r})}function qj(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function u8(e){if(!ju)return!0;const{port:t,projectId:n,protocol:r}=e;return["protocol","publicKey","host","projectId"].find(s=>e[s]?!1:(ge.error(`Invalid Sentry Dsn: ${s} missing`),!0))?!1:n.match(/^\d+$/)?l8(r)?t&&isNaN(parseInt(t,10))?(ge.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):!0:(ge.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(ge.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}function Wj(e){const t=typeof e=="string"?c8(e):qj(e);if(!(!t||!u8(t)))return t}class Zo extends Error{constructor(t,n="warn"){super(t),this.message=t,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=n}}function hr(e,t,n){if(!(t in e))return;const r=e[t],i=n(r);typeof i=="function"&&Kj(i,r),e[t]=i}function Ji(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{ju&&ge.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function Kj(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,Ji(e,"__sentry_original__",t)}catch{}}function yx(e){return e.__sentry_original__}function d8(e){return Object.keys(e).map(t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`).join("&")}function Yj(e){if(l0(e))return{message:e.message,name:e.name,stack:e.stack,...h2(e)};if(c0(e)){const t={type:e.type,target:f2(e.target),currentTarget:f2(e.currentTarget),...h2(e)};return typeof CustomEvent<"u"&&Rs(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function f2(e){try{return Y6(e)?cu(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function h2(e){if(typeof e=="object"&&e!==null){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}else return{}}function f8(e,t=40){const n=Object.keys(Yj(e));n.sort();const r=n[0];if(!r)return"[object has no keys]";if(r.length>=t)return Hc(r,t);for(let i=n.length;i>0;i--){const o=n.slice(0,i).join(", ");if(!(o.length>t))return i===n.length?o:Hc(o,t)}return""}function kr(e){return b1(e,new Map)}function b1(e,t){if(h8(e)){const n=t.get(e);if(n!==void 0)return n;const r={};t.set(e,r);for(const i of Object.keys(e))typeof e[i]<"u"&&(r[i]=b1(e[i],t));return r}if(Array.isArray(e)){const n=t.get(e);if(n!==void 0)return n;const r=[];return t.set(e,r),e.forEach(i=>{r.push(b1(i,t))}),r}return e}function h8(e){if(!lu(e))return!1;try{const t=Object.getPrototypeOf(e).constructor.name;return!t||t==="Object"}catch{return!0}}const Qj=50,Cl="?",p2=/\(error: (.*)\)/,g2=/captureMessage|captureException/;function Jj(...e){const t=e.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0,i=0)=>{const o=[],s=n.split(`
`);for(let a=r;a<s.length;a++){const l=s[a];if(l.length>1024)continue;const c=p2.test(l)?l.replace(p2,"$1"):l;if(!c.match(/\S*Error: /)){for(const u of t){const d=u(c);if(d){o.push(d);break}}if(o.length>=Qj+i)break}}return g8(o.slice(i))}}function p8(e){return Array.isArray(e)?Jj(...e):e}function g8(e){if(!e.length)return[];const t=Array.from(e);return/sentryWrapped/.test(tp(t).function||"")&&t.pop(),t.reverse(),g2.test(tp(t).function||"")&&(t.pop(),g2.test(tp(t).function||"")&&t.pop()),t.slice(0,Qj).map(n=>({...n,filename:n.filename||tp(t).filename,function:n.function||Cl}))}function tp(e){return e[e.length-1]||{}}const py="<anonymous>";function Ps(e){try{return!e||typeof e!="function"?py:e.name||py}catch{return py}}function m2(e){const t=e.exception;if(t){const n=[];try{return t.values.forEach(r=>{r.stacktrace.frames&&n.push(...r.stacktrace.frames)}),n}catch{return}}}const ig={},v2={};function Ul(e,t){ig[e]=ig[e]||[],ig[e].push(t)}function Hl(e,t){v2[e]||(t(),v2[e]=!0)}function Ro(e,t){const n=e&&ig[e];if(n)for(const r of n)try{r(t)}catch(i){ju&&ge.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${Ps(r)}
Error:`,i)}}function m8(e){const t="console";Ul(t,e),Hl(t,v8)}function v8(){"console"in bt&&A1.forEach(function(e){e in bt.console&&hr(bt.console,e,function(t){return Hg[e]=t,function(...n){Ro("console",{args:n,level:e});const i=Hg[e];i&&i.apply(bt.console,n)}})})}const _1=bt;function Xj(){if(!("fetch"in _1))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function x1(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function y8(){if(typeof EdgeRuntime=="string")return!0;if(!Xj())return!1;if(x1(_1.fetch))return!0;let e=!1;const t=_1.document;if(t&&typeof t.createElement=="function")try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=x1(n.contentWindow.fetch)),t.head.removeChild(n)}catch(n){ju&&ge.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e}const Zj=1e3;function ph(){return Date.now()/Zj}function A8(){const{performance:e}=bt;if(!e||!e.now)return ph;const t=Date.now()-e.now(),n=e.timeOrigin==null?t:e.timeOrigin;return()=>(n+e.now())/Zj}const Cr=A8(),Xi=(()=>{const{performance:e}=bt;if(!e||!e.now)return;const t=3600*1e3,n=e.now(),r=Date.now(),i=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,o=i<t,s=e.timing&&e.timing.navigationStart,l=typeof s=="number"?Math.abs(s+n-r):t,c=l<t;return o||c?i<=l?e.timeOrigin:s:r})();function e5(e){const t="fetch";Ul(t,e),Hl(t,b8)}function b8(){y8()&&hr(bt,"fetch",function(e){return function(...t){const{method:n,url:r}=_8(t),i={args:t,fetchData:{method:n,url:r},startTimestamp:Cr()*1e3};Ro("fetch",{...i});const o=new Error().stack;return e.apply(bt,t).then(s=>{const a={...i,endTimestamp:Cr()*1e3,response:s};return Ro("fetch",a),s},s=>{const a={...i,endTimestamp:Cr()*1e3,error:s};throw Ro("fetch",a),l0(s)&&s.stack===void 0&&(s.stack=o,Ji(s,"framesToPop",1)),s})}})}function S1(e,t){return!!e&&typeof e=="object"&&!!e[t]}function y2(e){return typeof e=="string"?e:e?S1(e,"url")?e.url:e.toString?e.toString():"":""}function _8(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){const[n,r]=e;return{url:y2(n),method:S1(r,"method")?String(r.method).toUpperCase():"GET"}}const t=e[0];return{url:y2(t),method:S1(t,"method")?String(t.method).toUpperCase():"GET"}}let np=null;function t5(e){const t="error";Ul(t,e),Hl(t,x8)}function x8(){np=bt.onerror,bt.onerror=function(e,t,n,r,i){return Ro("error",{column:r,error:i,line:n,msg:e,url:t}),np&&!np.__SENTRY_LOADER__?np.apply(this,arguments):!1},bt.onerror.__SENTRY_INSTRUMENTED__=!0}let rp=null;function n5(e){const t="unhandledrejection";Ul(t,e),Hl(t,S8)}function S8(){rp=bt.onunhandledrejection,bt.onunhandledrejection=function(e){return Ro("unhandledrejection",e),rp&&!rp.__SENTRY_LOADER__?rp.apply(this,arguments):!0},bt.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function w8(){return"npm"}function E8(){const e=typeof WeakSet=="function",t=e?new WeakSet:[];function n(i){if(e)return t.has(i)?!0:(t.add(i),!1);for(let o=0;o<t.length;o++)if(t[o]===i)return!0;return t.push(i),!1}function r(i){if(e)t.delete(i);else for(let o=0;o<t.length;o++)if(t[o]===i){t.splice(o,1);break}}return[n,r]}function un(){const e=bt,t=e.crypto||e.msCrypto;let n=()=>Math.random()*16;try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>{const r=new Uint8Array(1);return t.getRandomValues(r),r[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,r=>(r^(n()&15)>>r/4).toString(16))}function r5(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function Xs(e){const{message:t,event_id:n}=e;if(t)return t;const r=r5(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function w1(e,t,n){const r=e.exception=e.exception||{},i=r.values=r.values||[],o=i[0]=i[0]||{};o.value||(o.value=t||""),o.type||(o.type=n||"Error")}function xf(e,t){const n=r5(e);if(!n)return;const r={type:"generic",handled:!0},i=n.mechanism;if(n.mechanism={...r,...i,...t},t&&"data"in t){const o={...i&&i.data,...t.data};n.mechanism.data=o}}function A2(e){if(e&&e.__sentry_captured__)return!0;try{Ji(e,"__sentry_captured__",!0)}catch{}return!1}function i5(e){return Array.isArray(e)?e:[e]}function Zs(e,t=100,n=1/0){try{return E1("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function o5(e,t=3,n=100*1024){const r=Zs(e,t);return I8(r)>n?o5(e,t-1,n):r}function E1(e,t,n=1/0,r=1/0,i=E8()){const[o,s]=i;if(t==null||["number","boolean","string"].includes(typeof t)&&!Number.isNaN(t))return t;const a=k8(e,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;const l=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:n;if(l===0)return a.replace("object ","");if(o(t))return"[Circular ~]";const c=t;if(c&&typeof c.toJSON=="function")try{const p=c.toJSON();return E1("",p,l-1,r,i)}catch{}const u=Array.isArray(t)?[]:{};let d=0;const h=Yj(t);for(const p in h){if(!Object.prototype.hasOwnProperty.call(h,p))continue;if(d>=r){u[p]="[MaxProperties ~]";break}const g=h[p];u[p]=E1(p,g,l-1,r,i),d++}return s(t),u}function k8(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&t===global)return"[Global]";if(typeof window<"u"&&t===window)return"[Window]";if(typeof document<"u"&&t===document)return"[Document]";if(Hj(t))return"[VueViewModel]";if(J6(t))return"[SyntheticEvent]";if(typeof t=="number"&&t!==t)return"[NaN]";if(typeof t=="function")return`[Function: ${Ps(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;const n=C8(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function C8(e){const t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}function T8(e){return~-encodeURI(e).split(/%..|./).length}function I8(e){return T8(JSON.stringify(e))}var vs;(function(e){e[e.PENDING=0]="PENDING";const n=1;e[e.RESOLVED=n]="RESOLVED";const r=2;e[e.REJECTED=r]="REJECTED"})(vs||(vs={}));function Tl(e){return new Fi(t=>{t(e)})}function Gg(e){return new Fi((t,n)=>{n(e)})}class Fi{constructor(t){Fi.prototype.__init.call(this),Fi.prototype.__init2.call(this),Fi.prototype.__init3.call(this),Fi.prototype.__init4.call(this),this._state=vs.PENDING,this._handlers=[];try{t(this._resolve,this._reject)}catch(n){this._reject(n)}}then(t,n){return new Fi((r,i)=>{this._handlers.push([!1,o=>{if(!t)r(o);else try{r(t(o))}catch(s){i(s)}},o=>{if(!n)i(o);else try{r(n(o))}catch(s){i(s)}}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new Fi((n,r)=>{let i,o;return this.then(s=>{o=!1,i=s,t&&t()},s=>{o=!0,i=s,t&&t()}).then(()=>{if(o){r(i);return}n(i)})})}__init(){this._resolve=t=>{this._setResult(vs.RESOLVED,t)}}__init2(){this._reject=t=>{this._setResult(vs.REJECTED,t)}}__init3(){this._setResult=(t,n)=>{if(this._state===vs.PENDING){if(u0(n)){n.then(this._resolve,this._reject);return}this._state=t,this._value=n,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===vs.PENDING)return;const t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===vs.RESOLVED&&n[1](this._value),this._state===vs.REJECTED&&n[2](this._value),n[0]=!0)})}}}function R8(e){const t=[];function n(){return e===void 0||t.length<e}function r(s){return t.splice(t.indexOf(s),1)[0]||Promise.resolve(void 0)}function i(s){if(!n())return Gg(new Zo("Not adding Promise because buffer limit was reached."));const a=s();return t.indexOf(a)===-1&&t.push(a),a.then(()=>r(a)).then(null,()=>r(a).then(null,()=>{})),a}function o(s){return new Fi((a,l)=>{let c=t.length;if(!c)return a(!0);const u=setTimeout(()=>{s&&s>0&&a(!1)},s);t.forEach(d=>{Tl(d).then(()=>{--c||(clearTimeout(u),a(!0))},l)})})}return{$:t,add:i,drain:o}}function vl(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}const P8=["fatal","error","warning","log","info","debug"];function M8(e){return e==="warn"?"warning":P8.includes(e)?e:"log"}const k1="baggage",s5="sentry-",j8=/^sentry-/,O8=8192;function a5(e){const t=V8(e);if(!t)return;const n=Object.entries(t).reduce((r,[i,o])=>{if(i.match(j8)){const s=i.slice(s5.length);r[s]=o}return r},{});if(Object.keys(n).length>0)return n}function l5(e){if(!e)return;const t=Object.entries(e).reduce((n,[r,i])=>(i&&(n[`${s5}${r}`]=i),n),{});return L8(t)}function V8(e){if(!(!e||!ks(e)&&!Array.isArray(e)))return Array.isArray(e)?e.reduce((t,n)=>{const r=b2(n);return Object.entries(r).forEach(([i,o])=>{t[i]=o}),t},{}):b2(e)}function b2(e){return e.split(",").map(t=>t.split("=").map(n=>decodeURIComponent(n.trim()))).reduce((t,[n,r])=>(n&&r&&(t[n]=r),t),{})}function L8(e){if(Object.keys(e).length!==0)return Object.entries(e).reduce((t,[n,r],i)=>{const o=`${encodeURIComponent(n)}=${encodeURIComponent(r)}`,s=i===0?o:`${t},${o}`;return s.length>O8?(ju&&ge.warn(`Not adding key: ${n} with val: ${r} to baggage header due to exceeding baggage size limits.`),t):s},"")}const N8=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function $8(e){if(!e)return;const t=e.match(N8);if(!t)return;let n;return t[3]==="1"?n=!0:t[3]==="0"&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}function D8(e,t){const n=$8(e),r=a5(t),{traceId:i,parentSpanId:o,parentSampled:s}=n||{};return n?{traceId:i||un(),parentSpanId:o||un().substring(16),spanId:un().substring(16),sampled:s,dsc:r||{}}:{traceId:i||un(),spanId:un().substring(16)}}function Ax(e=un(),t=un().substring(16),n){let r="";return n!==void 0&&(r=n?"-1":"-0"),`${e}-${t}${r}`}function Vu(e,t=[]){return[e,t]}function B8(e,t){const[n,r]=e;return[n,[...r,t]]}function _2(e,t){const n=e[1];for(const r of n){const i=r[0].type;if(t(r,i))return!0}return!1}function C1(e){return bt.__SENTRY__&&bt.__SENTRY__.encodePolyfill?bt.__SENTRY__.encodePolyfill(e):new TextEncoder().encode(e)}function F8(e){const[t,n]=e;let r=JSON.stringify(t);function i(o){typeof r=="string"?r=typeof o=="string"?r+o:[C1(r),o]:r.push(typeof o=="string"?C1(o):o)}for(const o of n){const[s,a]=o;if(i(`
${JSON.stringify(s)}
`),typeof a=="string"||a instanceof Uint8Array)i(a);else{let l;try{l=JSON.stringify(a)}catch{l=JSON.stringify(Zs(a))}i(l)}}return typeof r=="string"?r:z8(r)}function z8(e){const t=e.reduce((i,o)=>i+o.length,0),n=new Uint8Array(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return n}function U8(e){return[{type:"span"},e]}function H8(e){const t=typeof e.data=="string"?C1(e.data):e.data;return[kr({type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),t]}const G8={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket"};function x2(e){return G8[e]}function c5(e){if(!e||!e.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function q8(e,t,n,r){const i=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:Ou(r)},...i&&{trace:kr({...i})}}}function W8(e,t,n){const r=[{type:"client_report"},{timestamp:n||ph(),discarded_events:e}];return Vu(t?{dsn:t}:{},[r])}const K8=60*1e3;function Y8(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return n*1e3;const r=Date.parse(`${e}`);return isNaN(r)?K8:r-t}function Q8(e,t){return e[t]||e.all||0}function J8(e,t,n=Date.now()){return Q8(e,t)>n}function X8(e,{statusCode:t,headers:n},r=Date.now()){const i={...e},o=n&&n["x-sentry-rate-limits"],s=n&&n["retry-after"];if(o)for(const a of o.trim().split(",")){const[l,c,,,u]=a.split(":",5),d=parseInt(l,10),h=(isNaN(d)?60:d)*1e3;if(!c)i.all=r+h;else for(const p of c.split(";"))p==="metric_bucket"?(!u||u.split(";").includes("custom"))&&(i[p]=r+h):i[p]=r+h}else s?i.all=r+Y8(s,r):t===429&&(i.all=r+60*1e3);return i}function qg(){return{traceId:un(),spanId:un().substring(16)}}const ip=bt;function Z8(){const e=ip.chrome,t=e&&e.app&&e.app.runtime,n="history"in ip&&!!ip.history.pushState&&!!ip.history.replaceState;return!t&&n}const tt=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function Lu(){return bx(bt),bt}function bx(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||ml,t[ml]=t[ml]||{}}function ez(e){const t=Cr(),n={sid:un(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>nz(n)};return e&&uu(n,e),n}function uu(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||Cr(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:un()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function tz(e,t){let n={};t?n={status:t}:e.status==="ok"&&(n={status:"exited"}),uu(e,n)}function nz(e){return kr({sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}const T1="_sentrySpan";function Sf(e,t){t?Ji(e,T1,t):delete e[T1]}function Wg(e){return e[T1]}const rz=100;class _x{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=qg()}clone(){const t=new _x;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._requestSession=this._requestSession,t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,Sf(t,Wg(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&uu(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this._tags={...this._tags,[t]:n},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const n=typeof t=="function"?t(this):t,[r,i]=n instanceof ka?[n.getScopeData(),n.getRequestSession()]:lu(n)?[t,t.requestSession]:[],{tags:o,extra:s,user:a,contexts:l,level:c,fingerprint:u=[],propagationContext:d}=r||{};return this._tags={...this._tags,...o},this._extra={...this._extra,...s},this._contexts={...this._contexts,...l},a&&Object.keys(a).length&&(this._user=a),c&&(this._level=c),u.length&&(this._fingerprint=u),d&&(this._propagationContext=d),i&&(this._requestSession=i),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,Sf(this,void 0),this._attachments=[],this._propagationContext=qg(),this._notifyScopeListeners(),this}addBreadcrumb(t,n){const r=typeof n=="number"?n:rz;if(r<=0)return this;const i={timestamp:ph(),...t},o=this._breadcrumbs;return o.push(i),this._breadcrumbs=o.length>r?o.slice(-r):o,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:Wg(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...t},this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,n){const r=n&&n.event_id?n.event_id:un();if(!this._client)return ge.warn("No client configured on scope - will not capture exception!"),r;const i=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:i,...n,event_id:r},this),r}captureMessage(t,n,r){const i=r&&r.event_id?r.event_id:un();if(!this._client)return ge.warn("No client configured on scope - will not capture message!"),i;const o=new Error(t);return this._client.captureMessage(t,n,{originalException:t,syntheticException:o,...r,event_id:i},this),i}captureEvent(t,n){const r=n&&n.event_id?n.event_id:un();return this._client?(this._client.captureEvent(t,{...n,event_id:r},this),r):(ge.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}const ka=_x;function iz(){return vx("defaultCurrentScope",()=>new ka)}function oz(){return vx("defaultIsolationScope",()=>new ka)}class sz{constructor(t,n){let r;t?r=t:r=new ka;let i;n?i=n:i=new ka,this._stack=[{scope:r}],this._isolationScope=i}withScope(t){const n=this._pushScope();let r;try{r=t(n)}catch(i){throw this._popScope(),i}return u0(r)?r.then(i=>(this._popScope(),i),i=>{throw this._popScope(),i}):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}}function du(){const e=Lu(),t=bx(e);return t.stack=t.stack||new sz(iz(),oz())}function az(e){return du().withScope(e)}function lz(e,t){const n=du();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function S2(e){return du().withScope(()=>e(du().getIsolationScope()))}function cz(){return{withIsolationScope:S2,withScope:az,withSetScope:lz,withSetIsolationScope:(e,t)=>S2(t),getCurrentScope:()=>du().getScope(),getIsolationScope:()=>du().getIsolationScope()}}function gh(e){const t=bx(e);return t.acs?t.acs:cz()}function hn(){const e=Lu();return gh(e).getCurrentScope()}function so(){const e=Lu();return gh(e).getIsolationScope()}function uz(){return vx("globalScope",()=>new ka)}function d0(...e){const t=Lu(),n=gh(t);if(e.length===2){const[r,i]=e;return r?n.withSetScope(r,i):n.withScope(i)}return n.withScope(e[0])}function Tt(){return hn().getClient()}const dz="_sentryMetrics";function I1(e){const t=e[dz];if(!t)return;const n={};for(const[,[r,i]]of t)(n[r]||(n[r]=[])).push(kr(i));return n}const la="sentry.source",u5="sentry.sample_rate",wf="sentry.op",qn="sentry.origin",R1="sentry.idle_span_finish_reason",xx="sentry.measurement_unit",Sx="sentry.measurement_value",fz="sentry.profile_id",d5="sentry.exclusive_time",hz=0,f5=1,Jn=2;function pz(e){if(e<400&&e>=100)return{code:f5};if(e>=400&&e<500)switch(e){case 401:return{code:Jn,message:"unauthenticated"};case 403:return{code:Jn,message:"permission_denied"};case 404:return{code:Jn,message:"not_found"};case 409:return{code:Jn,message:"already_exists"};case 413:return{code:Jn,message:"failed_precondition"};case 429:return{code:Jn,message:"resource_exhausted"};case 499:return{code:Jn,message:"cancelled"};default:return{code:Jn,message:"invalid_argument"}}if(e>=500&&e<600)switch(e){case 501:return{code:Jn,message:"unimplemented"};case 503:return{code:Jn,message:"unavailable"};case 504:return{code:Jn,message:"deadline_exceeded"};default:return{code:Jn,message:"internal_error"}}return{code:Jn,message:"unknown_error"}}function h5(e,t){e.setAttribute("http.response.status_code",t);const n=pz(t);n.message!=="unknown_error"&&e.setStatus(n)}const p5=0,g5=1;function gz(e){const{spanId:t,traceId:n}=e.spanContext(),{data:r,op:i,parent_span_id:o,status:s,origin:a}=kt(e);return kr({parent_span_id:o,span_id:t,trace_id:n,data:r,op:i,status:s,origin:a})}function mz(e){const{spanId:t,traceId:n}=e.spanContext(),{parent_span_id:r}=kt(e);return kr({parent_span_id:r,span_id:t,trace_id:n})}function m5(e){const{traceId:t,spanId:n}=e.spanContext(),r=Gl(e);return Ax(t,n,r)}function yl(e){return typeof e=="number"?w2(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?w2(e.getTime()):Cr()}function w2(e){return e>9999999999?e/1e3:e}function kt(e){if(yz(e))return e.getSpanJSON();try{const{spanId:t,traceId:n}=e.spanContext();if(vz(e)){const{attributes:r,startTime:i,name:o,endTime:s,parentSpanId:a,status:l}=e;return kr({span_id:t,trace_id:n,data:r,description:o,parent_span_id:a,start_timestamp:yl(i),timestamp:yl(s)||void 0,status:v5(l),op:r[wf],origin:r[qn],_metrics_summary:I1(e)})}return{span_id:t,trace_id:n}}catch{return{}}}function vz(e){const t=e;return!!t.attributes&&!!t.startTime&&!!t.name&&!!t.endTime&&!!t.status}function yz(e){return typeof e.getSpanJSON=="function"}function Gl(e){const{traceFlags:t}=e.spanContext();return t===g5}function v5(e){if(!(!e||e.code===hz))return e.code===f5?"ok":e.message||"unknown_error"}const Al="_sentryChildSpans",P1="_sentryRootSpan";function y5(e,t){const n=e[P1]||e;Ji(t,P1,n),e[Al]?e[Al].add(t):Ji(e,Al,new Set([t]))}function Az(e,t){e[Al]&&e[Al].delete(t)}function og(e){const t=new Set;function n(r){if(!t.has(r)&&Gl(r)){t.add(r);const i=r[Al]?Array.from(r[Al]):[];for(const o of i)n(o)}}return n(e),Array.from(t)}function Zr(e){return e[P1]||e}function ao(){const e=Lu(),t=gh(e);return t.getActiveSpan?t.getActiveSpan():Wg(hn())}let E2=!1;function bz(){E2||(E2=!0,t5(M1),n5(M1))}function M1(){const e=ao(),t=e&&Zr(e);if(t){const n="internal_error";tt&&ge.log(`[Tracing] Root span: ${n} -> Global error occured`),t.setStatus({code:Jn,message:n})}}M1.tag="sentry_tracingErrorCallback";const A5="_sentryScope",b5="_sentryIsolationScope";function _z(e,t,n){e&&(Ji(e,b5,n),Ji(e,A5,t))}function k2(e){return{scope:e[A5],isolationScope:e[b5]}}function Ca(e){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const t=e||xz();return!!t&&(t.enableTracing||"tracesSampleRate"in t||"tracesSampler"in t)}function xz(){const e=Tt();return e&&e.getOptions()}class Nu{constructor(t={}){this._traceId=t.traceId||un(),this._spanId=t.spanId||un().substring(16)}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:p5}}end(t){}setAttribute(t,n){return this}setAttributes(t){return this}setStatus(t){return this}updateName(t){return this}isRecording(){return!1}addEvent(t,n,r){return this}}const wx="production",_5="_frozenDsc";function C2(e,t){Ji(e,_5,t)}function f0(e,t){const n=t.getOptions(),{publicKey:r}=t.getDsn()||{},i=kr({environment:n.environment||wx,release:n.release,public_key:r,trace_id:e});return t.emit("createDsc",i),i}function ql(e){const t=Tt();if(!t)return{};const n=f0(kt(e).trace_id||"",t),r=Zr(e),i=r[_5];if(i)return i;const o=r.spanContext().traceState,s=o&&o.get("sentry.dsc"),a=s&&a5(s);if(a)return a;const l=kt(r),c=l.data||{},u=c[u5];u!=null&&(n.sample_rate=`${u}`);const d=c[la],h=l.description;return d!=="url"&&h&&(n.transaction=h),n.sampled=String(Gl(r)),t.emit("createDsc",n,r),n}function Sz(e){if(!tt)return;const{description:t="< unknown name >",op:n="< unknown op >",parent_span_id:r}=kt(e),{spanId:i}=e.spanContext(),o=Gl(e),s=Zr(e),a=s===e,l=`[Tracing] Starting ${o?"sampled":"unsampled"} ${a?"root ":""}span`,c=[`op: ${n}`,`name: ${t}`,`ID: ${i}`];if(r&&c.push(`parent ID: ${r}`),!a){const{op:u,description:d}=kt(s);c.push(`root ID: ${s.spanContext().spanId}`),u&&c.push(`root op: ${u}`),d&&c.push(`root description: ${d}`)}ge.log(`${l}
  ${c.join(`
  `)}`)}function wz(e){if(!tt)return;const{description:t="< unknown name >",op:n="< unknown op >"}=kt(e),{spanId:r}=e.spanContext(),o=Zr(e)===e,s=`[Tracing] Finishing "${n}" ${o?"root ":""}span "${t}" with ID ${r}`;ge.log(s)}function x5(e){if(typeof e=="boolean")return Number(e);const t=typeof e=="string"?parseFloat(e):e;if(typeof t!="number"||isNaN(t)||t<0||t>1){tt&&ge.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`);return}return t}function Ez(e,t){if(!Ca(e))return[!1];let n;typeof e.tracesSampler=="function"?n=e.tracesSampler(t):t.parentSampled!==void 0?n=t.parentSampled:typeof e.tracesSampleRate<"u"?n=e.tracesSampleRate:n=1;const r=x5(n);return r===void 0?(tt&&ge.warn("[Tracing] Discarding transaction because of invalid sample rate."),[!1]):r?Math.random()<r?[!0,r]:(tt&&ge.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(n)})`),[!1,r]):(tt&&ge.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,r])}function kz(e,t){return t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]]),e}function Cz(e,t,n,r){const i=c5(n),o={sent_at:new Date().toISOString(),...i&&{sdk:i},...!!r&&t&&{dsn:Ou(t)}},s="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return Vu(o,[s])}function Tz(e,t,n,r){const i=c5(n),o=e.type&&e.type!=="replay_event"?e.type:"event";kz(e,n&&n.sdk);const s=q8(e,i,r,t);return delete e.sdkProcessingMetadata,Vu(s,[[{type:o},e]])}function Iz(e,t){function n(u){return!!u.trace_id&&!!u.public_key}const r=ql(e[0]),i=t&&t.getDsn(),o=t&&t.getOptions().tunnel,s={sent_at:new Date().toISOString(),...n(r)&&{trace:r},...!!o&&i&&{dsn:Ou(i)}},a=t&&t.getOptions().beforeSendSpan,l=a?u=>a(kt(u)):u=>kt(u),c=[];for(const u of e){const d=l(u);d&&c.push(U8(d))}return Vu(s,c)}function Rz(e,t,n){const r=ao(),i=r&&Zr(r);i&&i.addEvent(e,{[Sx]:t,[xx]:n})}function T2(e){if(!e||e.length===0)return;const t={};return e.forEach(n=>{const r=n.attributes||{},i=r[xx],o=r[Sx];typeof i=="string"&&typeof o=="number"&&(t[n.name]={value:o,unit:i})}),t}const I2=1e3;class Ex{constructor(t={}){this._traceId=t.traceId||un(),this._spanId=t.spanId||un().substring(16),this._startTime=t.startTimestamp||Cr(),this._attributes={},this.setAttributes({[qn]:"manual",[wf]:t.op,...t.attributes}),this._name=t.name,t.parentSpanId&&(this._parentSpanId=t.parentSpanId),"sampled"in t&&(this._sampled=t.sampled),t.endTimestamp&&(this._endTime=t.endTimestamp),this._events=[],this._isStandaloneSpan=t.isStandalone,this._endTime&&this._onSpanEnded()}spanContext(){const{_spanId:t,_traceId:n,_sampled:r}=this;return{spanId:t,traceId:n,traceFlags:r?g5:p5}}setAttribute(t,n){n===void 0?delete this._attributes[t]:this._attributes[t]=n}setAttributes(t){Object.keys(t).forEach(n=>this.setAttribute(n,t[n]))}updateStartTime(t){this._startTime=yl(t)}setStatus(t){return this._status=t,this}updateName(t){return this._name=t,this}end(t){this._endTime||(this._endTime=yl(t),wz(this),this._onSpanEnded())}getSpanJSON(){return kr({data:this._attributes,description:this._name,op:this._attributes[wf],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:v5(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[qn],_metrics_summary:I1(this),profile_id:this._attributes[fz],exclusive_time:this._attributes[d5],measurements:T2(this._events),is_segment:this._isStandaloneSpan&&Zr(this)===this||void 0,segment_id:this._isStandaloneSpan?Zr(this).spanContext().spanId:void 0})}isRecording(){return!this._endTime&&!!this._sampled}addEvent(t,n,r){tt&&ge.log("[Tracing] Adding an event to span:",t);const i=R2(n)?n:r||Cr(),o=R2(n)?{}:n||{},s={name:t,time:yl(i),attributes:o};return this._events.push(s),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){const t=Tt();if(t&&t.emit("spanEnd",this),!(this._isStandaloneSpan||this===Zr(this)))return;if(this._isStandaloneSpan){this._sampled?Mz(Iz([this],t)):(tt&&ge.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),t&&t.recordDroppedEvent("sample_rate","span"));return}const r=this._convertSpanToTransaction();r&&(k2(this).scope||hn()).captureEvent(r)}_convertSpanToTransaction(){if(!P2(kt(this)))return;this._name||(tt&&ge.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");const{scope:t,isolationScope:n}=k2(this),i=(t||hn()).getClient()||Tt();if(this._sampled!==!0){tt&&ge.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),i&&i.recordDroppedEvent("sample_rate","transaction");return}const s=og(this).filter(d=>d!==this&&!Pz(d)).map(d=>kt(d)).filter(P2),a=this._attributes[la],l={contexts:{trace:gz(this)},spans:s.length>I2?s.sort((d,h)=>d.start_timestamp-h.start_timestamp).slice(0,I2):s,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:t,capturedSpanIsolationScope:n,...kr({dynamicSamplingContext:ql(this)})},_metrics_summary:I1(this),...a&&{transaction_info:{source:a}}},c=T2(this._events);return c&&Object.keys(c).length&&(tt&&ge.log("[Measurements] Adding measurements to transaction event",JSON.stringify(c,void 0,2)),l.measurements=c),l}}function R2(e){return e&&typeof e=="number"||e instanceof Date||Array.isArray(e)}function P2(e){return!!e.start_timestamp&&!!e.timestamp&&!!e.span_id&&!!e.trace_id}function Pz(e){return e instanceof Ex&&e.isStandaloneSpan()}function Mz(e){const t=Tt();if(!t)return;const n=e[1];if(!n||n.length===0){t.recordDroppedEvent("before_send","span");return}const r=t.getTransport();r&&r.send(e).then(null,i=>{tt&&ge.error("Error while sending span:",i)})}const S5="__SENTRY_SUPPRESS_TRACING__";function os(e){const t=w5();if(t.startInactiveSpan)return t.startInactiveSpan(e);const n=Oz(e),{forceTransaction:r,parentSpan:i}=e;return(e.scope?s=>d0(e.scope,s):i?s=>Kg(i,s):s=>s())(()=>{const s=hn(),a=Lz(s);return e.onlyIfParent&&!a?new Nu:jz({parentSpan:a,spanArguments:n,forceTransaction:r,scope:s})})}function Kg(e,t){const n=w5();return n.withActiveSpan?n.withActiveSpan(e,t):d0(r=>(Sf(r,e||void 0),t(r)))}function jz({parentSpan:e,spanArguments:t,forceTransaction:n,scope:r}){if(!Ca())return new Nu;const i=so();let o;if(e&&!n)o=Vz(e,r,t),y5(e,o);else if(e){const s=ql(e),{traceId:a,spanId:l}=e.spanContext(),c=Gl(e);o=M2({traceId:a,parentSpanId:l,...t},r,c),C2(o,s)}else{const{traceId:s,dsc:a,parentSpanId:l,sampled:c}={...i.getPropagationContext(),...r.getPropagationContext()};o=M2({traceId:s,parentSpanId:l,...t},r,c),a&&C2(o,a)}return Sz(o),_z(o,r,i),o}function Oz(e){const n={isStandalone:(e.experimental||{}).standalone,...e};if(e.startTime){const r={...n};return r.startTimestamp=yl(e.startTime),delete r.startTime,r}return n}function w5(){const e=Lu();return gh(e)}function M2(e,t,n){const r=Tt(),i=r&&r.getOptions()||{},{name:o="",attributes:s}=e,[a,l]=t.getScopeData().sdkProcessingMetadata[S5]?[!1]:Ez(i,{name:o,parentSampled:n,attributes:s,transactionContext:{name:o,parentSampled:n}}),c=new Ex({...e,attributes:{[la]:"custom",...e.attributes},sampled:a});return l!==void 0&&c.setAttribute(u5,l),r&&r.emit("spanStart",c),c}function Vz(e,t,n){const{spanId:r,traceId:i}=e.spanContext(),o=t.getScopeData().sdkProcessingMetadata[S5]?!1:Gl(e),s=o?new Ex({...n,parentSpanId:r,traceId:i,sampled:o}):new Nu({traceId:i});y5(e,s);const a=Tt();return a&&(a.emit("spanStart",s),n.endTimestamp&&a.emit("spanEnd",s)),s}function Lz(e){const t=Wg(e);if(!t)return;const n=Tt();return(n?n.getOptions():{}).parentSpanIsAlwaysRootSpan?Zr(t):t}const sg={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3},Nz="heartbeatFailed",$z="idleTimeout",Dz="finalTimeout",Bz="externalFinish";function E5(e,t={}){const n=new Map;let r=!1,i,o=Bz,s=!t.disableAutoFinish;const{idleTimeout:a=sg.idleTimeout,finalTimeout:l=sg.finalTimeout,childSpanTimeout:c=sg.childSpanTimeout,beforeSpanEnd:u}=t,d=Tt();if(!d||!Ca())return new Nu;const h=hn(),p=ao(),g=Fz(e);g.end=new Proxy(g.end,{apply(_,w,E){u&&u(g);const[T,...O]=E,L=T||Cr(),N=yl(L),H=og(g).filter($=>$!==g);if(!H.length)return S(N),Reflect.apply(_,w,[N,...O]);const P=H.map($=>kt($).timestamp).filter($=>!!$),j=P.length?Math.max(...P):void 0,R=kt(g).start_timestamp,k=Math.min(R?R+l/1e3:1/0,Math.max(R||-1/0,Math.min(N,j||1/0)));return S(k),Reflect.apply(_,w,[k,...O])}});function m(){i&&(clearTimeout(i),i=void 0)}function b(_){m(),i=setTimeout(()=>{!r&&n.size===0&&s&&(o=$z,g.end(_))},a)}function y(_){i=setTimeout(()=>{!r&&s&&(o=Nz,g.end(_))},c)}function A(_){m(),n.set(_,!0);const w=Cr();y(w+c/1e3)}function x(_){if(n.has(_)&&n.delete(_),n.size===0){const w=Cr();b(w+a/1e3)}}function S(_){r=!0,n.clear(),Sf(h,p);const w=kt(g),{start_timestamp:E}=w;if(!E)return;(w.data||{})[R1]||g.setAttribute(R1,o),ge.log(`[Tracing] Idle span "${w.op}" finished`);const O=og(g).filter(N=>N!==g);let L=0;O.forEach(N=>{N.isRecording()&&(N.setStatus({code:Jn,message:"cancelled"}),N.end(_),tt&&ge.log("[Tracing] Cancelling span since span ended early",JSON.stringify(N,void 0,2)));const H=kt(N),{timestamp:P=0,start_timestamp:j=0}=H,R=j<=_,k=(l+a)/1e3,$=P-j<=k;if(tt){const V=JSON.stringify(N,void 0,2);R?$||ge.log("[Tracing] Discarding span since it finished after idle span final timeout",V):ge.log("[Tracing] Discarding span since it happened after idle span was finished",V)}(!$||!R)&&(Az(g,N),L++)}),L>0&&g.setAttribute("sentry.idle_span_discarded_spans",L)}return d.on("spanStart",_=>{if(r||_===g||kt(_).timestamp)return;og(g).includes(_)&&A(_.spanContext().spanId)}),d.on("spanEnd",_=>{r||x(_.spanContext().spanId)}),d.on("idleSpanEnableAutoFinish",_=>{_===g&&(s=!0,b(),n.size&&y())}),t.disableAutoFinish||b(),setTimeout(()=>{r||(g.setStatus({code:Jn,message:"deadline_exceeded"}),o=Dz,g.end())},l),g}function Fz(e){const t=os(e);return Sf(hn(),t),tt&&ge.log("[Tracing] Started span is an idle span"),t}function j1(e,t,n,r=0){return new Fi((i,o)=>{const s=e[r];if(t===null||typeof s!="function")i(t);else{const a=s({...t},n);tt&&s.id&&a===null&&ge.log(`Event processor "${s.id}" dropped event`),u0(a)?a.then(l=>j1(e,l,n,r+1).then(i)).then(null,o):j1(e,a,n,r+1).then(i).then(null,o)}})}function zz(e,t){const{fingerprint:n,span:r,breadcrumbs:i,sdkProcessingMetadata:o}=t;Uz(e,t),r&&qz(e,r),Wz(e,n),Hz(e,i),Gz(e,o)}function j2(e,t){const{extra:n,tags:r,user:i,contexts:o,level:s,sdkProcessingMetadata:a,breadcrumbs:l,fingerprint:c,eventProcessors:u,attachments:d,propagationContext:h,transactionName:p,span:g}=t;id(e,"extra",n),id(e,"tags",r),id(e,"user",i),id(e,"contexts",o),id(e,"sdkProcessingMetadata",a),s&&(e.level=s),p&&(e.transactionName=p),g&&(e.span=g),l.length&&(e.breadcrumbs=[...e.breadcrumbs,...l]),c.length&&(e.fingerprint=[...e.fingerprint,...c]),u.length&&(e.eventProcessors=[...e.eventProcessors,...u]),d.length&&(e.attachments=[...e.attachments,...d]),e.propagationContext={...e.propagationContext,...h}}function id(e,t,n){if(n&&Object.keys(n).length){e[t]={...e[t]};for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[t][r]=n[r])}}function Uz(e,t){const{extra:n,tags:r,user:i,contexts:o,level:s,transactionName:a}=t,l=kr(n);l&&Object.keys(l).length&&(e.extra={...l,...e.extra});const c=kr(r);c&&Object.keys(c).length&&(e.tags={...c,...e.tags});const u=kr(i);u&&Object.keys(u).length&&(e.user={...u,...e.user});const d=kr(o);d&&Object.keys(d).length&&(e.contexts={...d,...e.contexts}),s&&(e.level=s),a&&e.type!=="transaction"&&(e.transaction=a)}function Hz(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}function Gz(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}function qz(e,t){e.contexts={trace:mz(t),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:ql(t),...e.sdkProcessingMetadata};const n=Zr(t),r=kt(n).description;r&&!e.transaction&&e.type==="transaction"&&(e.transaction=r)}function Wz(e,t){e.fingerprint=e.fingerprint?i5(e.fingerprint):[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}function Kz(e,t,n,r,i,o){const{normalizeDepth:s=3,normalizeMaxBreadth:a=1e3}=e,l={...t,event_id:t.event_id||n.event_id||un(),timestamp:t.timestamp||ph()},c=n.integrations||e.integrations.map(b=>b.name);Yz(l,e),Xz(l,c),i&&i.emit("applyFrameMetadata",t),t.type===void 0&&Qz(l,e.stackParser);const u=e7(r,n.captureContext);n.mechanism&&xf(l,n.mechanism);const d=i?i.getEventProcessors():[],h=uz().getScopeData();if(o){const b=o.getScopeData();j2(h,b)}if(u){const b=u.getScopeData();j2(h,b)}const p=[...n.attachments||[],...h.attachments];p.length&&(n.attachments=p),zz(l,h);const g=[...d,...h.eventProcessors];return j1(g,l,n).then(b=>(b&&Jz(b),typeof s=="number"&&s>0?Zz(b,s,a):b))}function Yz(e,t){const{environment:n,release:r,dist:i,maxValueLength:o=250}=t;"environment"in e||(e.environment="environment"in t?n:wx),e.release===void 0&&r!==void 0&&(e.release=r),e.dist===void 0&&i!==void 0&&(e.dist=i),e.message&&(e.message=Hc(e.message,o));const s=e.exception&&e.exception.values&&e.exception.values[0];s&&s.value&&(s.value=Hc(s.value,o));const a=e.request;a&&a.url&&(a.url=Hc(a.url,o))}const O2=new WeakMap;function Qz(e,t){const n=bt._sentryDebugIds;if(!n)return;let r;const i=O2.get(t);i?r=i:(r=new Map,O2.set(t,r));const o=Object.entries(n).reduce((s,[a,l])=>{let c;const u=r.get(a);u?c=u:(c=t(a),r.set(a,c));for(let d=c.length-1;d>=0;d--){const h=c[d];if(h.filename){s[h.filename]=l;break}}return s},{});try{e.exception.values.forEach(s=>{s.stacktrace.frames.forEach(a=>{a.filename&&(a.debug_id=o[a.filename])})})}catch{}}function Jz(e){const t={};try{e.exception.values.forEach(r=>{r.stacktrace.frames.forEach(i=>{i.debug_id&&(i.abs_path?t[i.abs_path]=i.debug_id:i.filename&&(t[i.filename]=i.debug_id),delete i.debug_id)})})}catch{}if(Object.keys(t).length===0)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.entries(t).forEach(([r,i])=>{n.push({type:"sourcemap",code_file:r,debug_id:i})})}function Xz(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function Zz(e,t,n){if(!e)return null;const r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(i=>({...i,...i.data&&{data:Zs(i.data,t,n)}}))},...e.user&&{user:Zs(e.user,t,n)},...e.contexts&&{contexts:Zs(e.contexts,t,n)},...e.extra&&{extra:Zs(e.extra,t,n)}};return e.contexts&&e.contexts.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=Zs(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map(i=>({...i,...i.data&&{data:Zs(i.data,t,n)}}))),r}function e7(e,t){if(!t)return e;const n=e?e.clone():new ka;return n.update(t),n}function t7(e){if(e)return n7(e)?{captureContext:e}:i7(e)?{captureContext:e}:e}function n7(e){return e instanceof ka||typeof e=="function"}const r7=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function i7(e){return Object.keys(e).some(t=>r7.includes(t))}function Vo(e,t){return hn().captureException(e,t7(t))}function k5(e,t){return hn().captureEvent(e,t)}function o7(e,t){so().setContext(e,t)}function s7(e){so().setUser(e)}function a7(){return so().lastEventId()}function V2(e){const t=Tt(),n=so(),r=hn(),{release:i,environment:o=wx}=t&&t.getOptions()||{},{userAgent:s}=bt.navigator||{},a=ez({release:i,environment:o,user:r.getUser()||n.getUser(),...s&&{userAgent:s},...e}),l=n.getSession();return l&&l.status==="ok"&&uu(l,{status:"exited"}),C5(),n.setSession(a),r.setSession(a),a}function C5(){const e=so(),t=hn(),n=t.getSession()||e.getSession();n&&tz(n),T5(),e.setSession(),t.setSession()}function T5(){const e=so(),t=hn(),n=Tt(),r=t.getSession()||e.getSession();r&&n&&n.captureSession(r)}function L2(e=!1){if(e){C5();return}T5()}const l7="7";function I5(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function c7(e){return`${I5(e)}${e.projectId}/envelope/`}function u7(e,t){return d8({sentry_key:e.publicKey,sentry_version:l7,...t&&{sentry_client:`${t.name}/${t.version}`}})}function d7(e,t,n){return t||`${c7(e)}?${u7(e,n)}`}function f7(e,t){const n=Wj(e);if(!n)return"";const r=`${I5(n)}embed/error-page/`;let i=`dsn=${Ou(n)}`;for(const o in t)if(o!=="dsn"&&o!=="onClose")if(o==="user"){const s=t.user;if(!s)continue;s.name&&(i+=`&name=${encodeURIComponent(s.name)}`),s.email&&(i+=`&email=${encodeURIComponent(s.email)}`)}else i+=`&${encodeURIComponent(o)}=${encodeURIComponent(t[o])}`;return`${r}?${i}`}const N2=[];function h7(e){const t={};return e.forEach(n=>{const{name:r}=n,i=t[r];i&&!i.isDefaultInstance&&n.isDefaultInstance||(t[r]=n)}),Object.values(t)}function p7(e){const t=e.defaultIntegrations||[],n=e.integrations;t.forEach(s=>{s.isDefaultInstance=!0});let r;Array.isArray(n)?r=[...t,...n]:typeof n=="function"?r=i5(n(t)):r=t;const i=h7(r),o=i.findIndex(s=>s.name==="Debug");if(o>-1){const[s]=i.splice(o,1);i.push(s)}return i}function g7(e,t){const n={};return t.forEach(r=>{r&&R5(e,r,n)}),n}function $2(e,t){for(const n of t)n&&n.afterAllSetup&&n.afterAllSetup(e)}function R5(e,t,n){if(n[t.name]){tt&&ge.log(`Integration skipped because it was already installed: ${t.name}`);return}if(n[t.name]=t,N2.indexOf(t.name)===-1&&typeof t.setupOnce=="function"&&(t.setupOnce(),N2.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),typeof t.preprocessEvent=="function"){const r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(i,o)=>r(i,o,e))}if(typeof t.processEvent=="function"){const r=t.processEvent.bind(t),i=Object.assign((o,s)=>r(o,s,e),{id:t.name});e.addEventProcessor(i)}tt&&ge.log(`Integration installed: ${t.name}`)}const D2="Not capturing exception because it's already been captured.";class m7{constructor(t){if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=Wj(t.dsn):tt&&ge.warn("No DSN provided, client will not send events."),this._dsn){const n=d7(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:n})}}captureException(t,n,r){const i=un();if(A2(t))return tt&&ge.log(D2),i;const o={event_id:i,...n};return this._process(this.eventFromException(t,o).then(s=>this._captureEvent(s,o,r))),o.event_id}captureMessage(t,n,r,i){const o={event_id:un(),...r},s=gx(t)?t:String(t),a=mx(t)?this.eventFromMessage(s,n,o):this.eventFromException(t,o);return this._process(a.then(l=>this._captureEvent(l,o,i))),o.event_id}captureEvent(t,n,r){const i=un();if(n&&n.originalException&&A2(n.originalException))return tt&&ge.log(D2),i;const o={event_id:i,...n},a=(t.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(t,o,a||r)),o.event_id}captureSession(t){typeof t.release!="string"?tt&&ge.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),uu(t,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const n=this._transport;return n?(this.emit("flush"),this._isClientDoneProcessing(t).then(r=>n.flush(t).then(i=>r&&i))):Tl(!0)}close(t){return this.flush(t).then(n=>(this.getOptions().enabled=!1,this.emit("close"),n))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){this._isEnabled()&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){const n=this._integrations[t.name];R5(this,t,this._integrations),n||$2(this,[t])}sendEvent(t,n={}){this.emit("beforeSendEvent",t,n);let r=Tz(t,this._dsn,this._options._metadata,this._options.tunnel);for(const o of n.attachments||[])r=B8(r,H8(o));const i=this.sendEnvelope(r);i&&i.then(o=>this.emit("afterSendEvent",t,o),null)}sendSession(t){const n=Cz(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(n)}recordDroppedEvent(t,n,r){if(this._options.sendClientReports){const i=`${t}:${n}`;tt&&ge.log(`Adding outcome: "${i}"`),this._outcomes[i]=(this._outcomes[i]||0)+1}}on(t,n){return this._hooks[t]||(this._hooks[t]=[]),this._hooks[t].push(n),()=>{const r=this._hooks[t];if(r){const i=r.indexOf(n);r.splice(i,1)}}}emit(t,...n){const r=this._hooks[t];r&&r.forEach(i=>i(...n))}sendEnvelope(t){return this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport?this._transport.send(t).then(null,n=>(tt&&ge.error("Error while sending event:",n),n)):(tt&&ge.error("Transport disabled"),Tl({}))}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=g7(this,t),$2(this,t)}_updateSessionFromEvent(t,n){let r=!1,i=!1;const o=n.exception&&n.exception.values;if(o){i=!0;for(const l of o){const c=l.mechanism;if(c&&c.handled===!1){r=!0;break}}}const s=t.status==="ok";(s&&t.errors===0||s&&r)&&(uu(t,{...r&&{status:"crashed"},errors:t.errors||Number(i||r)}),this.captureSession(t))}_isClientDoneProcessing(t){return new Fi(n=>{let r=0;const i=1,o=setInterval(()=>{this._numProcessing==0?(clearInterval(o),n(!0)):(r+=i,t&&r>=t&&(clearInterval(o),n(!1)))},i)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,n,r,i=so()){const o=this.getOptions(),s=Object.keys(this._integrations);return!n.integrations&&s.length>0&&(n.integrations=s),this.emit("preprocessEvent",t,n),t.type||i.setLastEventId(t.event_id||n.event_id),Kz(o,t,n,r,this,i).then(a=>{if(a===null)return a;const l={...i.getPropagationContext(),...r?r.getPropagationContext():void 0};if(!(a.contexts&&a.contexts.trace)&&l){const{traceId:u,spanId:d,parentSpanId:h,dsc:p}=l;a.contexts={trace:kr({trace_id:u,span_id:d,parent_span_id:h}),...a.contexts};const g=p||f0(u,this);a.sdkProcessingMetadata={dynamicSamplingContext:g,...a.sdkProcessingMetadata}}return a})}_captureEvent(t,n={},r){return this._processEvent(t,n,r).then(i=>i.event_id,i=>{if(tt){const o=i;o.logLevel==="log"?ge.log(o.message):ge.warn(o)}})}_processEvent(t,n,r){const i=this.getOptions(),{sampleRate:o}=i,s=O1(t),a=P5(t),l=t.type||"error",c=`before send for type \`${l}\``,u=typeof o>"u"?void 0:x5(o);if(a&&typeof u=="number"&&Math.random()>u)return this.recordDroppedEvent("sample_rate","error",t),Gg(new Zo(`Discarding event because it's not included in the random sample (sampling rate = ${o})`,"log"));const d=l==="replay_event"?"replay":l,p=(t.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(t,n,r,p).then(g=>{if(g===null)throw this.recordDroppedEvent("event_processor",d,t),new Zo("An event processor returned `null`, will not send event.","log");if(n.data&&n.data.__sentry__===!0)return g;const b=y7(this,i,g,n);return v7(b,c)}).then(g=>{if(g===null){if(this.recordDroppedEvent("before_send",d,t),O1(t)){const A=1+(t.spans||[]).length;this._outcomes.span=(this._outcomes.span||0)+A}throw new Zo(`${c} returned \`null\`, will not send event.`,"log")}const m=r&&r.getSession();!s&&m&&this._updateSessionFromEvent(m,g);const b=g.transaction_info;if(s&&b&&g.transaction!==t.transaction){const y="custom";g.transaction_info={...b,source:y}}return this.sendEvent(g,n),g}).then(null,g=>{throw g instanceof Zo?g:(this.captureException(g,{data:{__sentry__:!0},originalException:g}),new Zo(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${g}`))})}_process(t){this._numProcessing++,t.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.entries(t).map(([n,r])=>{const[i,o]=n.split(":");return{reason:i,category:o,quantity:r}})}}function v7(e,t){const n=`${t} must return \`null\` or a valid event.`;if(u0(e))return e.then(r=>{if(!lu(r)&&r!==null)throw new Zo(n);return r},r=>{throw new Zo(`${t} rejected with ${r}`)});if(!lu(e)&&e!==null)throw new Zo(n);return e}function y7(e,t,n,r){const{beforeSend:i,beforeSendTransaction:o,beforeSendSpan:s}=t;if(P5(n)&&i)return i(n,r);if(O1(n)){if(n.spans&&s){const a=[];for(const l of n.spans){const c=s(l);c?a.push(c):e.recordDroppedEvent("before_send","span")}n.spans=a}if(o)return o(n,r)}return n}function P5(e){return e.type===void 0}function O1(e){return e.type==="transaction"}function A7(e,t){t.debug===!0&&(tt?ge.enable():hh(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),hn().update(t.initialScope);const r=new e(t);return b7(r),r.init(),r}function b7(e){hn().setClient(e)}const _7=64;function x7(e,t,n=R8(e.bufferSize||_7)){let r={};const i=s=>n.drain(s);function o(s){const a=[];if(_2(s,(d,h)=>{const p=x2(h);if(J8(r,p)){const g=B2(d,h);e.recordDroppedEvent("ratelimit_backoff",p,g)}else a.push(d)}),a.length===0)return Tl({});const l=Vu(s[0],a),c=d=>{_2(l,(h,p)=>{const g=B2(h,p);e.recordDroppedEvent(d,x2(p),g)})},u=()=>t({body:F8(l)}).then(d=>(d.statusCode!==void 0&&(d.statusCode<200||d.statusCode>=300)&&tt&&ge.warn(`Sentry responded with status code ${d.statusCode} to sent event.`),r=X8(r,d),d),d=>{throw c("network_error"),d});return n.add(u).then(d=>d,d=>{if(d instanceof Zo)return tt&&ge.error("Skipped sending event because buffer is full."),c("queue_overflow"),Tl({});throw d})}return{send:o,flush:i}}function B2(e,t){if(!(t!=="event"&&t!=="transaction"))return Array.isArray(e)?e[1]:void 0}function M5(e,t,n=[t],r="npm"){const i=e._metadata||{};i.sdk||(i.sdk={name:`sentry.javascript.${t}`,packages:n.map(o=>({name:`${r}:@sentry/${o}`,version:ml})),version:ml}),e._metadata=i}const S7=100;function Il(e,t){const n=Tt(),r=so();if(!n)return;const{beforeBreadcrumb:i=null,maxBreadcrumbs:o=S7}=n.getOptions();if(o<=0)return;const a={timestamp:ph(),...e},l=i?hh(()=>i(a,t)):a;l!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",l,t),r.addBreadcrumb(l,o))}let F2;const w7="FunctionToString",z2=new WeakMap,E7=()=>({name:w7,setupOnce(){F2=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=yx(this),n=z2.has(Tt())&&t!==void 0?t:this;return F2.apply(n,e)}}catch{}},setup(e){z2.set(e,!0)}}),k7=E7,C7=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler"],T7="InboundFilters",I7=(e={})=>({name:T7,processEvent(t,n,r){const i=r.getOptions(),o=P7(e,i);return M7(t,o)?null:t}}),R7=I7;function P7(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:C7],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]],ignoreInternal:e.ignoreInternal!==void 0?e.ignoreInternal:!0}}function M7(e,t){return t.ignoreInternal&&$7(e)?(tt&&ge.warn(`Event dropped due to being internal Sentry Error.
Event: ${Xs(e)}`),!0):j7(e,t.ignoreErrors)?(tt&&ge.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${Xs(e)}`),!0):B7(e)?(tt&&ge.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${Xs(e)}`),!0):O7(e,t.ignoreTransactions)?(tt&&ge.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${Xs(e)}`),!0):V7(e,t.denyUrls)?(tt&&ge.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${Xs(e)}.
Url: ${Yg(e)}`),!0):L7(e,t.allowUrls)?!1:(tt&&ge.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${Xs(e)}.
Url: ${Yg(e)}`),!0)}function j7(e,t){return e.type||!t||!t.length?!1:N7(e).some(n=>gl(n,t))}function O7(e,t){if(e.type!=="transaction"||!t||!t.length)return!1;const n=e.transaction;return n?gl(n,t):!1}function V7(e,t){if(!t||!t.length)return!1;const n=Yg(e);return n?gl(n,t):!1}function L7(e,t){if(!t||!t.length)return!0;const n=Yg(e);return n?gl(n,t):!0}function N7(e){const t=[];e.message&&t.push(e.message);let n;try{n=e.exception.values[e.exception.values.length-1]}catch{}return n&&n.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`)),t}function $7(e){try{return e.exception.values[0].type==="SentryError"}catch{}return!1}function D7(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function Yg(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch{}return t?D7(t):null}catch{return tt&&ge.error(`Cannot extract url for event ${Xs(e)}`),null}}function B7(e){return e.type||!e.exception||!e.exception.values||e.exception.values.length===0?!1:!e.message&&!e.exception.values.some(t=>t.stacktrace||t.type&&t.type!=="Error"||t.value)}const F7="Dedupe",z7=()=>{let e;return{name:F7,processEvent(t){if(t.type)return t;try{if(H7(t,e))return tt&&ge.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}},U7=z7;function H7(e,t){return t?!!(G7(e,t)||q7(e,t)):!1}function G7(e,t){const n=e.message,r=t.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!O5(e,t)||!j5(e,t))}function q7(e,t){const n=U2(t),r=U2(e);return!(!n||!r||n.type!==r.type||n.value!==r.value||!O5(e,t)||!j5(e,t))}function j5(e,t){let n=m2(e),r=m2(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let i=0;i<r.length;i++){const o=r[i],s=n[i];if(o.filename!==s.filename||o.lineno!==s.lineno||o.colno!==s.colno||o.function!==s.function)return!1}return!0}function O5(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function U2(e){return e.exception&&e.exception.values&&e.exception.values[0]}function W7(e,t,n,r,i="auto.http.browser"){if(!e.fetchData)return;const o=Ca()&&t(e.fetchData.url);if(e.endTimestamp&&o){const g=e.fetchData.__span;if(!g)return;const m=r[g];m&&(Q7(m,e),delete r[g]);return}const s=hn(),a=Tt(),{method:l,url:c}=e.fetchData,u=Y7(c),d=u?vl(u).host:void 0,h=!!ao(),p=o&&h?os({name:`${l} ${c}`,attributes:{url:c,type:"fetch","http.method":l,"http.url":u,"server.address":d,[qn]:i,[wf]:"http.client"}}):new Nu;if(e.fetchData.__span=p.spanContext().spanId,r[p.spanContext().spanId]=p,n(e.fetchData.url)&&a){const g=e.args[0];e.args[1]=e.args[1]||{};const m=e.args[1];m.headers=K7(g,a,s,m,Ca()&&h?p:void 0)}return p}function K7(e,t,n,r,i){const o=so(),{traceId:s,spanId:a,sampled:l,dsc:c}={...o.getPropagationContext(),...n.getPropagationContext()},u=i?m5(i):Ax(s,a,l),d=l5(c||(i?ql(i):f0(s,t))),h=r.headers||(typeof Request<"u"&&Rs(e,Request)?e.headers:void 0);if(h)if(typeof Headers<"u"&&Rs(h,Headers)){const p=new Headers(h);return p.append("sentry-trace",u),d&&p.append(k1,d),p}else if(Array.isArray(h)){const p=[...h,["sentry-trace",u]];return d&&p.push([k1,d]),p}else{const p="baggage"in h?h.baggage:void 0,g=[];return Array.isArray(p)?g.push(...p):p&&g.push(p),d&&g.push(d),{...h,"sentry-trace":u,baggage:g.length>0?g.join(","):void 0}}else return{"sentry-trace":u,baggage:d}}function Y7(e){try{return new URL(e).href}catch{return}}function Q7(e,t){if(t.response){h5(e,t.response.status);const n=t.response&&t.response.headers&&t.response.headers.get("content-length");if(n){const r=parseInt(n);r>0&&e.setAttribute("http.response_content_length",r)}}else t.error&&e.setStatus({code:Jn,message:"internal_error"});e.end()}const Be=bt;let V1=0;function V5(){return V1>0}function J7(){V1++,setTimeout(()=>{V1--})}function fu(e,t={},n){if(typeof e!="function")return e;try{const i=e.__sentry_wrapped__;if(i)return i;if(yx(e))return e}catch{return e}const r=function(){const i=Array.prototype.slice.call(arguments);try{n&&typeof n=="function"&&n.apply(this,arguments);const o=i.map(s=>fu(s,t));return e.apply(this,o)}catch(o){throw J7(),d0(s=>{s.addEventProcessor(a=>(t.mechanism&&(w1(a,void 0,void 0),xf(a,t.mechanism)),a.extra={...a.extra,arguments:i},a)),Vo(o)}),o}};try{for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}catch{}Kj(r,e),Ji(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return e.name}})}catch{}return r}const pr=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function kx(e,t){const n=Cx(e,t),r={type:t&&t.name,value:n9(t)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function X7(e,t,n,r){const i=Tt(),o=i&&i.getOptions().normalizeDepth,s=a9(t),a={__serialized__:o5(t,o)};if(s)return{exception:{values:[kx(e,s)]},extra:a};const l={exception:{values:[{type:c0(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:o9(t,{isUnhandledRejection:r})}]},extra:a};if(n){const c=Cx(e,n);c.length&&(l.exception.values[0].stacktrace={frames:c})}return l}function gy(e,t){return{exception:{values:[kx(e,t)]}}}function Cx(e,t){const n=t.stacktrace||t.stack||"",r=e9(t),i=t9(t);try{return e(n,r,i)}catch{}return[]}const Z7=/Minified React error #\d+;/i;function e9(e){return e&&Z7.test(e.message)?1:0}function t9(e){return typeof e.framesToPop=="number"?e.framesToPop:0}function n9(e){const t=e&&e.message;return t?t.error&&typeof t.error.message=="string"?t.error.message:t:"No error message"}function r9(e,t,n,r){const i=n&&n.syntheticException||void 0,o=Tx(e,t,i,r);return xf(o),o.level="error",n&&n.event_id&&(o.event_id=n.event_id),Tl(o)}function i9(e,t,n="info",r,i){const o=r&&r.syntheticException||void 0,s=L1(e,t,o,i);return s.level=n,r&&r.event_id&&(s.event_id=r.event_id),Tl(s)}function Tx(e,t,n,r,i){let o;if(Uj(t)&&t.error)return gy(e,t.error);if(l2(t)||K6(t)){const s=t;if("stack"in t)o=gy(e,t);else{const a=s.name||(l2(s)?"DOMError":"DOMException"),l=s.message?`${a}: ${s.message}`:a;o=L1(e,l,n,r),w1(o,l)}return"code"in s&&(o.tags={...o.tags,"DOMException.code":`${s.code}`}),o}return l0(t)?gy(e,t):lu(t)||c0(t)?(o=X7(e,t,n,i),xf(o,{synthetic:!0}),o):(o=L1(e,t,n,r),w1(o,`${t}`,void 0),xf(o,{synthetic:!0}),o)}function L1(e,t,n,r){const i={};if(r&&n){const o=Cx(e,n);o.length&&(i.exception={values:[{value:t,stacktrace:{frames:o}}]})}if(gx(t)){const{__sentry_template_string__:o,__sentry_template_values__:s}=t;return i.logentry={message:o,params:s},i}return i.message=t,i}function o9(e,{isUnhandledRejection:t}){const n=f8(e),r=t?"promise rejection":"exception";return Uj(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:c0(e)?`Event \`${s9(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}function s9(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}function a9(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const n=e[t];if(n instanceof Error)return n}}function l9(e,{metadata:t,tunnel:n,dsn:r}){const i={event_id:e.event_id,sent_at:new Date().toISOString(),...t&&t.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}},...!!n&&!!r&&{dsn:Ou(r)}},o=c9(e);return Vu(i,[o])}function c9(e){return[{type:"user_report"},e]}class u9 extends m7{constructor(t){const n={parentSpanIsAlwaysRootSpan:!0,...t},r=Be.SENTRY_SDK_SOURCE||w8();M5(n,"browser",["browser"],r),super(n),n.sendClientReports&&Be.document&&Be.document.addEventListener("visibilitychange",()=>{Be.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(t,n){return r9(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",r){return i9(this._options.stackParser,t,n,r,this._options.attachStacktrace)}captureUserFeedback(t){if(!this._isEnabled()){pr&&ge.warn("SDK not enabled, will not capture user feedback.");return}const n=l9(t,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(n)}_prepareEvent(t,n,r){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,r)}_flushOutcomes(){const t=this._clearOutcomes();if(t.length===0){pr&&ge.log("No outcomes to send");return}if(!this._dsn){pr&&ge.log("No dsn provided, will not send outcomes");return}pr&&ge.log("Sending outcomes:",t);const n=W8(t,this._options.tunnel&&Ou(this._dsn));this.sendEnvelope(n)}}const gi=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,d9=(e,t)=>e>t[1]?"poor":e>t[0]?"needs-improvement":"good",$u=(e,t,n,r)=>{let i,o;return s=>{t.value>=0&&(s||r)&&(o=t.value-(i||0),(o||i===void 0)&&(i=t.value,t.delta=o,t.rating=d9(t.value,n),e(t)))}},Ge=bt,f9=()=>`v3-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,mh=()=>Ge.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0],h0=()=>{const e=mh();return e&&e.activationStart||0},Du=(e,t)=>{const n=mh();let r="navigate";return n&&(Ge.document&&Ge.document.prerendering||h0()>0?r="prerender":Ge.document&&Ge.document.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:typeof t>"u"?-1:t,rating:"good",delta:0,entries:[],id:f9(),navigationType:r}},Wl=(e,t,n)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const r=new PerformanceObserver(i=>{Promise.resolve().then(()=>{t(i.getEntries())})});return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch{}},p0=e=>{const t=n=>{(n.type==="pagehide"||Ge.document&&Ge.document.visibilityState==="hidden")&&e(n)};Ge.document&&(addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0))},Ix=e=>{let t=!1;return n=>{t||(e(n),t=!0)}};let Ef=-1;const h9=()=>{Ef=Ge.document.visibilityState==="hidden"&&!Ge.document.prerendering?0:1/0},Qg=e=>{Ge.document.visibilityState==="hidden"&&Ef>-1&&(Ef=e.type==="visibilitychange"?e.timeStamp:0,removeEventListener("visibilitychange",Qg,!0),removeEventListener("prerenderingchange",Qg,!0))},p9=()=>{addEventListener("visibilitychange",Qg,!0),addEventListener("prerenderingchange",Qg,!0)},g0=()=>(Ge.document&&Ef<0&&(h9(),p9()),{get firstHiddenTime(){return Ef}}),vh=e=>{Ge.document&&Ge.document.prerendering?addEventListener("prerenderingchange",()=>e(),!0):e()},g9=[1800,3e3],m9=(e,t={})=>{vh(()=>{const n=g0(),r=Du("FCP");let i;const s=Wl("paint",a=>{a.forEach(l=>{l.name==="first-contentful-paint"&&(s.disconnect(),l.startTime<n.firstHiddenTime&&(r.value=Math.max(l.startTime-h0(),0),r.entries.push(l),i(!0)))})});s&&(i=$u(e,r,g9,t.reportAllChanges))})},v9=[.1,.25],y9=(e,t={})=>{m9(Ix(()=>{const n=Du("CLS",0);let r,i=0,o=[];const s=l=>{l.forEach(c=>{if(!c.hadRecentInput){const u=o[0],d=o[o.length-1];i&&u&&d&&c.startTime-d.startTime<1e3&&c.startTime-u.startTime<5e3?(i+=c.value,o.push(c)):(i=c.value,o=[c])}}),i>n.value&&(n.value=i,n.entries=o,r())},a=Wl("layout-shift",s);a&&(r=$u(e,n,v9,t.reportAllChanges),p0(()=>{s(a.takeRecords()),r(!0)}),setTimeout(r,0))}))},A9=[100,300],b9=(e,t={})=>{vh(()=>{const n=g0(),r=Du("FID");let i;const o=l=>{l.startTime<n.firstHiddenTime&&(r.value=l.processingStart-l.startTime,r.entries.push(l),i(!0))},s=l=>{l.forEach(o)},a=Wl("first-input",s);i=$u(e,r,A9,t.reportAllChanges),a&&p0(Ix(()=>{s(a.takeRecords()),a.disconnect()}))})};let L5=0,my=1/0,op=0;const _9=e=>{e.forEach(t=>{t.interactionId&&(my=Math.min(my,t.interactionId),op=Math.max(op,t.interactionId),L5=op?(op-my)/7+1:0)})};let N1;const x9=()=>N1?L5:performance.interactionCount||0,S9=()=>{"interactionCount"in performance||N1||(N1=Wl("event",_9,{type:"event",buffered:!0,durationThreshold:0}))},w9=[200,500],E9=0,N5=()=>x9()-E9,H2=10,As=[],vy={},G2=e=>{const t=As[As.length-1],n=vy[e.interactionId];if(n||As.length<H2||t&&e.duration>t.latency){if(n)n.entries.push(e),n.latency=Math.max(n.latency,e.duration);else{const r={id:e.interactionId,latency:e.duration,entries:[e]};vy[r.id]=r,As.push(r)}As.sort((r,i)=>i.latency-r.latency),As.splice(H2).forEach(r=>{delete vy[r.id]})}},k9=()=>{const e=Math.min(As.length-1,Math.floor(N5()/50));return As[e]},C9=(e,t={})=>{vh(()=>{S9();const n=Du("INP");let r;const i=s=>{s.forEach(l=>{l.interactionId&&G2(l),l.entryType==="first-input"&&!As.some(u=>u.entries.some(d=>l.duration===d.duration&&l.startTime===d.startTime))&&G2(l)});const a=k9();a&&a.latency!==n.value&&(n.value=a.latency,n.entries=a.entries,r())},o=Wl("event",i,{durationThreshold:t.durationThreshold!=null?t.durationThreshold:40});r=$u(e,n,w9,t.reportAllChanges),o&&("PerformanceEventTiming"in Ge&&"interactionId"in PerformanceEventTiming.prototype&&o.observe({type:"first-input",buffered:!0}),p0(()=>{i(o.takeRecords()),n.value<0&&N5()>0&&(n.value=0,n.entries=[]),r(!0)}))})},T9=[2500,4e3],q2={},I9=(e,t={})=>{vh(()=>{const n=g0(),r=Du("LCP");let i;const o=a=>{const l=a[a.length-1];l&&l.startTime<n.firstHiddenTime&&(r.value=Math.max(l.startTime-h0(),0),r.entries=[l],i())},s=Wl("largest-contentful-paint",o);if(s){i=$u(e,r,T9,t.reportAllChanges);const a=Ix(()=>{q2[r.id]||(o(s.takeRecords()),s.disconnect(),q2[r.id]=!0,i(!0))});["keydown","click"].forEach(l=>{Ge.document&&addEventListener(l,()=>setTimeout(a,0),!0)}),p0(a)}})},R9=[800,1800],$1=e=>{Ge.document&&Ge.document.prerendering?vh(()=>$1(e)):Ge.document&&Ge.document.readyState!=="complete"?addEventListener("load",()=>$1(e),!0):setTimeout(e,0)},P9=(e,t={})=>{const n=Du("TTFB"),r=$u(e,n,R9,t.reportAllChanges);$1(()=>{const i=mh();if(i){const o=i.responseStart;if(o<=0||o>performance.now())return;n.value=Math.max(o-h0(),0),n.entries=[i],r(!0)}})},Hd={},Jg={};let $5,D5,B5,F5,z5;function M9(e,t=!1){return yh("cls",e,N9,$5,t)}function j9(e,t=!1){return yh("lcp",e,D9,B5,t)}function O9(e){return yh("fid",e,$9,D5)}function V9(e){return yh("ttfb",e,B9,F5)}function L9(e){return yh("inp",e,F9,z5)}function kf(e,t){return U5(e,t),Jg[e]||(z9(e),Jg[e]=!0),H5(e,t)}function Bu(e,t){const n=Hd[e];if(!(!n||!n.length))for(const r of n)try{r(t)}catch(i){gi&&ge.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${Ps(r)}
Error:`,i)}}function N9(){return y9(e=>{Bu("cls",{metric:e}),$5=e},{reportAllChanges:!0})}function $9(){return b9(e=>{Bu("fid",{metric:e}),D5=e})}function D9(){return I9(e=>{Bu("lcp",{metric:e}),B5=e},{reportAllChanges:!0})}function B9(){return P9(e=>{Bu("ttfb",{metric:e}),F5=e})}function F9(){return C9(e=>{Bu("inp",{metric:e}),z5=e})}function yh(e,t,n,r,i=!1){U5(e,t);let o;return Jg[e]||(o=n(),Jg[e]=!0),r&&t({metric:r}),H5(e,t,i?o:void 0)}function z9(e){const t={};e==="event"&&(t.durationThreshold=0),Wl(e,n=>{Bu(e,{entries:n})},t)}function U5(e,t){Hd[e]=Hd[e]||[],Hd[e].push(t)}function H5(e,t,n){return()=>{n&&n();const r=Hd[e];if(!r)return;const i=r.indexOf(t);i!==-1&&r.splice(i,1)}}function U9(e){return"duration"in e}function yy(e){return typeof e=="number"&&isFinite(e)}function hu(e,t,n,{...r}){const i=kt(e).start_timestamp;return i&&i>t&&typeof e.updateStartTime=="function"&&e.updateStartTime(t),Kg(e,()=>{const o=os({startTime:t,...r});return o&&o.end(n),o})}function Rx(){return Ge&&Ge.addEventListener&&Ge.performance}function Hn(e){return e/1e3}const H9=2147483647;let W2=0,Xn={},Wo,Gd;function G9(){const e=Rx();if(e&&Xi){e.mark&&Ge.performance.mark("sentry-tracing-init");const t=Q9(),n=K9(),r=Y9(),i=J9();return()=>{t(),n(),r(),i()}}return()=>{}}function q9(){kf("longtask",({entries:e})=>{for(const t of e){if(!ao())return;const n=Hn(Xi+t.startTime),r=Hn(t.duration),i=os({name:"Main UI thread blocked",op:"ui.long-task",startTime:n,attributes:{[qn]:"auto.ui.browser.metrics"}});i&&i.end(n+r)}})}function W9(){kf("event",({entries:e})=>{for(const t of e){if(!ao())return;if(t.name==="click"){const n=Hn(Xi+t.startTime),r=Hn(t.duration),i={name:cu(t.target),op:`ui.interaction.${t.name}`,startTime:n,attributes:{[qn]:"auto.ui.browser.metrics"}},o=Gj(t.target);o&&(i.attributes["ui.component_name"]=o);const s=os(i);s&&s.end(n+r)}}})}function K9(){return M9(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(gi&&ge.log("[Measurements] Adding CLS"),Xn.cls={value:e.value,unit:""},Gd=t)},!0)}function Y9(){return j9(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(gi&&ge.log("[Measurements] Adding LCP"),Xn.lcp={value:e.value,unit:"millisecond"},Wo=t)},!0)}function Q9(){return O9(({metric:e})=>{const t=e.entries[e.entries.length-1];if(!t)return;const n=Hn(Xi),r=Hn(t.startTime);gi&&ge.log("[Measurements] Adding FID"),Xn.fid={value:e.value,unit:"millisecond"},Xn["mark.fid"]={value:n+r,unit:"second"}})}function J9(){return V9(({metric:e})=>{e.entries[e.entries.length-1]&&(gi&&ge.log("[Measurements] Adding TTFB"),Xn.ttfb={value:e.value,unit:"millisecond"})})}function X9(e){const t=Rx();if(!t||!Ge.performance.getEntries||!Xi)return;gi&&ge.log("[Tracing] Adding & adjusting spans using Performance API");const n=Hn(Xi),r=t.getEntries(),{op:i,start_timestamp:o}=kt(e);if(r.slice(W2).forEach(s=>{const a=Hn(s.startTime),l=Hn(s.duration);if(!(i==="navigation"&&o&&n+a<o))switch(s.entryType){case"navigation":{eU(e,s,n);break}case"mark":case"paint":case"measure":{Z9(e,s,a,l,n);const c=g0(),u=s.startTime<c.firstHiddenTime;s.name==="first-paint"&&u&&(gi&&ge.log("[Measurements] Adding FP"),Xn.fp={value:s.startTime,unit:"millisecond"}),s.name==="first-contentful-paint"&&u&&(gi&&ge.log("[Measurements] Adding FCP"),Xn.fcp={value:s.startTime,unit:"millisecond"});break}case"resource":{nU(e,s,s.name,a,l,n);break}}}),W2=Math.max(r.length-1,0),rU(e),i==="pageload"){oU(Xn),["fcp","fp","lcp"].forEach(a=>{const l=Xn[a];if(!l||!o||n>=o)return;const c=l.value,u=n+Hn(c),d=Math.abs((u-o)*1e3),h=d-c;gi&&ge.log(`[Measurements] Normalized ${a} from ${c} to ${d} (${h})`),l.value=d});const s=Xn["mark.fid"];s&&Xn.fid&&(hu(e,s.value,s.value+Hn(Xn.fid.value),{name:"first input delay",op:"ui.action",attributes:{[qn]:"auto.ui.browser.metrics"}}),delete Xn["mark.fid"]),"fcp"in Xn||delete Xn.cls,Object.entries(Xn).forEach(([a,l])=>{Rz(a,l.value,l.unit)}),iU(e)}Wo=void 0,Gd=void 0,Xn={}}function Z9(e,t,n,r,i){const o=mh(),s=Hn(o?o.requestStart:0),a=i+Math.max(n,s),l=i+n,c=l+r,u={[qn]:"auto.resource.browser.metrics"};return a!==l&&(u["sentry.browser.measure_happened_before_request"]=!0,u["sentry.browser.measure_start_time"]=a),hu(e,a,c,{name:t.name,op:t.entryType,attributes:u}),a}function eU(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(r=>{sp(e,t,r,n)}),sp(e,t,"secureConnection",n,"TLS/SSL","connectEnd"),sp(e,t,"fetch",n,"cache","domainLookupStart"),sp(e,t,"domainLookup",n,"DNS"),tU(e,t,n)}function sp(e,t,n,r,i,o){const s=o?t[o]:t[`${n}End`],a=t[`${n}Start`];!a||!s||hu(e,r+Hn(a),r+Hn(s),{op:"browser",name:i||n,attributes:{[qn]:"auto.ui.browser.metrics"}})}function tU(e,t,n){const r=n+Hn(t.requestStart),i=n+Hn(t.responseEnd),o=n+Hn(t.responseStart);t.responseEnd&&(hu(e,r,i,{op:"browser",name:"request",attributes:{[qn]:"auto.ui.browser.metrics"}}),hu(e,o,i,{op:"browser",name:"response",attributes:{[qn]:"auto.ui.browser.metrics"}}))}function nU(e,t,n,r,i,o){if(t.initiatorType==="xmlhttprequest"||t.initiatorType==="fetch")return;const s=vl(n),a={[qn]:"auto.resource.browser.metrics"};Ay(a,t,"transferSize","http.response_transfer_size"),Ay(a,t,"encodedBodySize","http.response_content_length"),Ay(a,t,"decodedBodySize","http.decoded_response_content_length"),"renderBlockingStatus"in t&&(a["resource.render_blocking_status"]=t.renderBlockingStatus),s.protocol&&(a["url.scheme"]=s.protocol.split(":").pop()),s.host&&(a["server.address"]=s.host),a["url.same_origin"]=n.includes(Ge.location.origin);const l=o+r,c=l+i;hu(e,l,c,{name:n.replace(Ge.location.origin,""),op:t.initiatorType?`resource.${t.initiatorType}`:"resource.other",attributes:a})}function rU(e){const t=Ge.navigator;if(!t)return;const n=t.connection;n&&(n.effectiveType&&e.setAttribute("effectiveConnectionType",n.effectiveType),n.type&&e.setAttribute("connectionType",n.type),yy(n.rtt)&&(Xn["connection.rtt"]={value:n.rtt,unit:"millisecond"})),yy(t.deviceMemory)&&e.setAttribute("deviceMemory",`${t.deviceMemory} GB`),yy(t.hardwareConcurrency)&&e.setAttribute("hardwareConcurrency",String(t.hardwareConcurrency))}function iU(e){Wo&&(gi&&ge.log("[Measurements] Adding LCP Data"),Wo.element&&e.setAttribute("lcp.element",cu(Wo.element)),Wo.id&&e.setAttribute("lcp.id",Wo.id),Wo.url&&e.setAttribute("lcp.url",Wo.url.trim().slice(0,200)),e.setAttribute("lcp.size",Wo.size)),Gd&&Gd.sources&&(gi&&ge.log("[Measurements] Adding CLS Data"),Gd.sources.forEach((t,n)=>e.setAttribute(`cls.source.${n+1}`,cu(t.node))))}function Ay(e,t,n,r){const i=t[n];i!=null&&i<H9&&(e[r]=i)}function oU(e){const t=mh();if(!t)return;const{responseStart:n,requestStart:r}=t;r<=n&&(gi&&ge.log("[Measurements] Adding TTFB Request Time"),e["ttfb.requestTime"]={value:n-r,unit:"millisecond"})}const sU=1e3;let K2,D1,B1;function aU(e){const t="dom";Ul(t,e),Hl(t,lU)}function lU(){if(!Ge.document)return;const e=Ro.bind(null,"dom"),t=Y2(e,!0);Ge.document.addEventListener("click",t,!1),Ge.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{const r=Ge[n]&&Ge[n].prototype;!r||!r.hasOwnProperty||!r.hasOwnProperty("addEventListener")||(hr(r,"addEventListener",function(i){return function(o,s,a){if(o==="click"||o=="keypress")try{const l=this,c=l.__sentry_instrumentation_handlers__=l.__sentry_instrumentation_handlers__||{},u=c[o]=c[o]||{refCount:0};if(!u.handler){const d=Y2(e);u.handler=d,i.call(this,o,d,a)}u.refCount++}catch{}return i.call(this,o,s,a)}}),hr(r,"removeEventListener",function(i){return function(o,s,a){if(o==="click"||o=="keypress")try{const l=this,c=l.__sentry_instrumentation_handlers__||{},u=c[o];u&&(u.refCount--,u.refCount<=0&&(i.call(this,o,u.handler,a),u.handler=void 0,delete c[o]),Object.keys(c).length===0&&delete l.__sentry_instrumentation_handlers__)}catch{}return i.call(this,o,s,a)}}))})}function cU(e){if(e.type!==D1)return!1;try{if(!e.target||e.target._sentryId!==B1)return!1}catch{}return!0}function uU(e,t){return e!=="keypress"?!1:!t||!t.tagName?!0:!(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable)}function Y2(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=dU(n);if(uU(n.type,r))return;Ji(n,"_sentryCaptured",!0),r&&!r._sentryId&&Ji(r,"_sentryId",un());const i=n.type==="keypress"?"input":n.type;cU(n)||(e({event:n,name:i,global:t}),D1=n.type,B1=r?r._sentryId:void 0),clearTimeout(K2),K2=Ge.setTimeout(()=>{B1=void 0,D1=void 0},sU)}}function dU(e){try{return e.target}catch{return null}}let ap;function Px(e){const t="history";Ul(t,e),Hl(t,fU)}function fU(){if(!Z8())return;const e=Ge.onpopstate;Ge.onpopstate=function(...n){const r=Ge.location.href,i=ap;if(ap=r,Ro("history",{from:i,to:r}),e)try{return e.apply(this,n)}catch{}};function t(n){return function(...r){const i=r.length>2?r[2]:void 0;if(i){const o=ap,s=String(i);ap=s,Ro("history",{from:o,to:s})}return n.apply(this,r)}}hr(Ge.history,"pushState",t),hr(Ge.history,"replaceState",t)}const ag={};function hU(e){const t=ag[e];if(t)return t;let n=Ge[e];if(x1(n))return ag[e]=n.bind(Ge);const r=Ge.document;if(r&&typeof r.createElement=="function")try{const i=r.createElement("iframe");i.hidden=!0,r.head.appendChild(i);const o=i.contentWindow;o&&o[e]&&(n=o[e]),r.head.removeChild(i)}catch(i){gi&&ge.warn(`Could not create sandbox iframe for ${e} check, bailing to window.${e}: `,i)}return n&&(ag[e]=n.bind(Ge))}function Q2(e){ag[e]=void 0}const xc="__sentry_xhr_v3__";function G5(e){const t="xhr";Ul(t,e),Hl(t,pU)}function pU(){if(!Ge.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;hr(e,"open",function(t){return function(...n){const r=Cr()*1e3,i=ks(n[0])?n[0].toUpperCase():void 0,o=gU(n[1]);if(!i||!o)return t.apply(this,n);this[xc]={method:i,url:o,request_headers:{}},i==="POST"&&o.match(/sentry_key/)&&(this.__sentry_own_request__=!0);const s=()=>{const a=this[xc];if(a&&this.readyState===4){try{a.status_code=this.status}catch{}const l={endTimestamp:Cr()*1e3,startTimestamp:r,xhr:this};Ro("xhr",l)}};return"onreadystatechange"in this&&typeof this.onreadystatechange=="function"?hr(this,"onreadystatechange",function(a){return function(...l){return s(),a.apply(this,l)}}):this.addEventListener("readystatechange",s),hr(this,"setRequestHeader",function(a){return function(...l){const[c,u]=l,d=this[xc];return d&&ks(c)&&ks(u)&&(d.request_headers[c.toLowerCase()]=u),a.apply(this,l)}}),t.apply(this,n)}}),hr(e,"send",function(t){return function(...n){const r=this[xc];if(!r)return t.apply(this,n);n[0]!==void 0&&(r.body=n[0]);const i={startTimestamp:Cr()*1e3,xhr:this};return Ro("xhr",i),t.apply(this,n)}})}function gU(e){if(ks(e))return e;try{return e.toString()}catch{}}const by=[],lg=new Map;function mU(){if(Rx()&&Xi){const t=vU();return()=>{t()}}return()=>{}}const J2={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function vU(){return L9(({metric:e})=>{const t=Tt();if(!t||e.value==null)return;const n=e.entries.find(_=>_.duration===e.value&&J2[_.name]);if(!n)return;const{interactionId:r}=n,i=J2[n.name],o=t.getOptions(),s=Hn(Xi+n.startTime),a=Hn(e.value),l=hn(),c=ao(),u=c?Zr(c):void 0,h=(r!=null?lg.get(r):void 0)||(u?kt(u).description:l.getScopeData().transactionName),p=l.getUser(),g=t.getIntegrationByName("Replay"),m=g&&g.getReplayId(),b=p!==void 0?p.email||p.id||p.ip_address:void 0;let y;try{y=l.getScopeData().contexts.profile.profile_id}catch{}const A=cu(n.target),x=kr({release:o.release,environment:o.environment,transaction:h,[d5]:e.value,[qn]:"auto.http.browser.inp",user:b||void 0,profile_id:y||void 0,replay_id:m||void 0}),S=os({name:A,op:`ui.interaction.${i}`,attributes:x,startTime:s,experimental:{standalone:!0}});S.addEvent("inp",{[xx]:"millisecond",[Sx]:e.value}),S.end(s+a)})}function yU(e){const t=({entries:n})=>{n.forEach(r=>{if(!U9(r)||!e.name)return;const i=r.interactionId;if(i!=null&&!lg.has(i)){if(by.length>10){const o=by.shift();lg.delete(o)}by.push(i),lg.set(i,e.name)}})};kf("event",t),kf("first-input",t)}function AU(e,t=hU("fetch")){let n=0,r=0;function i(o){const s=o.body.length;n+=s,r++;const a={body:o.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};if(!t)return Q2("fetch"),Gg("No fetch implementation available");try{return t(e.url,a).then(l=>(n-=s,r--,{statusCode:l.status,headers:{"x-sentry-rate-limits":l.headers.get("X-Sentry-Rate-Limits"),"retry-after":l.headers.get("Retry-After")}}))}catch(l){return Q2("fetch"),n-=s,r--,Gg(l)}}return x7(e,i)}const bU=30,_U=50;function F1(e,t,n,r){const i={filename:e,function:t==="<anonymous>"?Cl:t,in_app:!0};return n!==void 0&&(i.lineno=n),r!==void 0&&(i.colno=r),i}const xU=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,SU=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,wU=/\((\S*)(?::(\d+))(?::(\d+))\)/,EU=e=>{const t=xU.exec(e);if(t){const[,r,i,o]=t;return F1(r,Cl,+i,+o)}const n=SU.exec(e);if(n){if(n[2]&&n[2].indexOf("eval")===0){const s=wU.exec(n[2]);s&&(n[2]=s[1],n[3]=s[2],n[4]=s[3])}const[i,o]=q5(n[1]||Cl,n[2]);return F1(o,i,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}},kU=[bU,EU],CU=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,TU=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,IU=e=>{const t=CU.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const o=TU.exec(t[3]);o&&(t[1]=t[1]||"eval",t[3]=o[1],t[4]=o[2],t[5]="")}let r=t[3],i=t[1]||Cl;return[i,r]=q5(i,r),F1(r,i,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},RU=[_U,IU],PU=[kU,RU],MU=Jj(...PU),q5=(e,t)=>{const n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:Cl,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},lp=1024,jU="Breadcrumbs",OU=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:jU,setup(n){t.console&&m8($U(n)),t.dom&&aU(NU(n,t.dom)),t.xhr&&G5(DU(n)),t.fetch&&e5(BU(n)),t.history&&Px(FU(n)),t.sentry&&n.on("beforeSendEvent",LU(n))}}},VU=OU;function LU(e){return function(n){Tt()===e&&Il({category:`sentry.${n.type==="transaction"?"transaction":"event"}`,event_id:n.event_id,level:n.level,message:Xs(n)},{event:n})}}function NU(e,t){return function(r){if(Tt()!==e)return;let i,o,s=typeof t=="object"?t.serializeAttribute:void 0,a=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;a&&a>lp&&(pr&&ge.warn(`\`dom.maxStringLength\` cannot exceed ${lp}, but a value of ${a} was configured. Sentry will use ${lp} instead.`),a=lp),typeof s=="string"&&(s=[s]);try{const c=r.event,u=zU(c)?c.target:c;i=cu(u,{keyAttrs:s,maxStringLength:a}),o=Gj(u)}catch{i="<unknown>"}if(i.length===0)return;const l={category:`ui.${r.name}`,message:i};o&&(l.data={"ui.component_name":o}),Il(l,{event:r.event,name:r.name,global:r.global})}}function $U(e){return function(n){if(Tt()!==e)return;const r={category:"console",data:{arguments:n.args,logger:"console"},level:M8(n.level),message:c2(n.args," ")};if(n.level==="assert")if(n.args[0]===!1)r.message=`Assertion failed: ${c2(n.args.slice(1)," ")||"console.assert"}`,r.data.arguments=n.args.slice(1);else return;Il(r,{input:n.args,level:n.level})}}function DU(e){return function(n){if(Tt()!==e)return;const{startTimestamp:r,endTimestamp:i}=n,o=n.xhr[xc];if(!r||!i||!o)return;const{method:s,url:a,status_code:l,body:c}=o,u={method:s,url:a,status_code:l},d={xhr:n.xhr,input:c,startTimestamp:r,endTimestamp:i};Il({category:"xhr",data:u,type:"http"},d)}}function BU(e){return function(n){if(Tt()!==e)return;const{startTimestamp:r,endTimestamp:i}=n;if(i&&!(n.fetchData.url.match(/sentry_key/)&&n.fetchData.method==="POST"))if(n.error){const o=n.fetchData,s={data:n.error,input:n.args,startTimestamp:r,endTimestamp:i};Il({category:"fetch",data:o,level:"error",type:"http"},s)}else{const o=n.response,s={...n.fetchData,status_code:o&&o.status},a={input:n.args,response:o,startTimestamp:r,endTimestamp:i};Il({category:"fetch",data:s,type:"http"},a)}}}function FU(e){return function(n){if(Tt()!==e)return;let r=n.from,i=n.to;const o=vl(Be.location.href);let s=r?vl(r):void 0;const a=vl(i);(!s||!s.path)&&(s=o),o.protocol===a.protocol&&o.host===a.host&&(i=a.relative),o.protocol===s.protocol&&o.host===s.host&&(r=s.relative),Il({category:"navigation",data:{from:r,to:i}})}}function zU(e){return!!e&&!!e.target}const UU=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],HU="BrowserApiErrors",GU=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:HU,setupOnce(){t.setTimeout&&hr(Be,"setTimeout",X2),t.setInterval&&hr(Be,"setInterval",X2),t.requestAnimationFrame&&hr(Be,"requestAnimationFrame",WU),t.XMLHttpRequest&&"XMLHttpRequest"in Be&&hr(XMLHttpRequest.prototype,"send",KU);const n=t.eventTarget;n&&(Array.isArray(n)?n:UU).forEach(YU)}}},qU=GU;function X2(e){return function(...t){const n=t[0];return t[0]=fu(n,{mechanism:{data:{function:Ps(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function WU(e){return function(t){return e.apply(this,[fu(t,{mechanism:{data:{function:"requestAnimationFrame",handler:Ps(e)},handled:!1,type:"instrument"}})])}}function KU(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(i=>{i in n&&typeof n[i]=="function"&&hr(n,i,function(o){const s={mechanism:{data:{function:i,handler:Ps(o)},handled:!1,type:"instrument"}},a=yx(o);return a&&(s.mechanism.data.handler=Ps(a)),fu(o,s)})}),e.apply(this,t)}}function YU(e){const t=Be,n=t[e]&&t[e].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(hr(n,"addEventListener",function(r){return function(i,o,s){try{typeof o.handleEvent=="function"&&(o.handleEvent=fu(o.handleEvent,{mechanism:{data:{function:"handleEvent",handler:Ps(o),target:e},handled:!1,type:"instrument"}}))}catch{}return r.apply(this,[i,fu(o,{mechanism:{data:{function:"addEventListener",handler:Ps(o),target:e},handled:!1,type:"instrument"}}),s])}}),hr(n,"removeEventListener",function(r){return function(i,o,s){const a=o;try{const l=a&&a.__sentry_wrapped__;l&&r.call(this,i,l,s)}catch{}return r.call(this,i,a,s)}}))}const QU="GlobalHandlers",JU=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:QU,setupOnce(){Error.stackTraceLimit=50},setup(n){t.onerror&&(ZU(n),Z2("onerror")),t.onunhandledrejection&&(eH(n),Z2("onunhandledrejection"))}}},XU=JU;function ZU(e){t5(t=>{const{stackParser:n,attachStacktrace:r}=W5();if(Tt()!==e||V5())return;const{msg:i,url:o,line:s,column:a,error:l}=t,c=rH(Tx(n,l||i,void 0,r,!1),o,s,a);c.level="error",k5(c,{originalException:l,mechanism:{handled:!1,type:"onerror"}})})}function eH(e){n5(t=>{const{stackParser:n,attachStacktrace:r}=W5();if(Tt()!==e||V5())return;const i=tH(t),o=mx(i)?nH(i):Tx(n,i,void 0,r,!0);o.level="error",k5(o,{originalException:i,mechanism:{handled:!1,type:"onunhandledrejection"}})})}function tH(e){if(mx(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch{}return e}function nH(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function rH(e,t,n,r){const i=e.exception=e.exception||{},o=i.values=i.values||[],s=o[0]=o[0]||{},a=s.stacktrace=s.stacktrace||{},l=a.frames=a.frames||[],c=isNaN(parseInt(r,10))?void 0:r,u=isNaN(parseInt(n,10))?void 0:n,d=ks(t)&&t.length>0?t:r8();return l.length===0&&l.push({colno:c,filename:d,function:Cl,in_app:!0,lineno:u}),e}function Z2(e){pr&&ge.log(`Global Handler attached: ${e}`)}function W5(){const e=Tt();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const iH=()=>({name:"HttpContext",preprocessEvent(e){if(!Be.navigator&&!Be.location&&!Be.document)return;const t=e.request&&e.request.url||Be.location&&Be.location.href,{referrer:n}=Be.document||{},{userAgent:r}=Be.navigator||{},i={...e.request&&e.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},o={...e.request,...t&&{url:t},headers:i};e.request=o}}),oH="cause",sH=5,aH="LinkedErrors",lH=(e={})=>{const t=e.limit||sH,n=e.key||oH;return{name:aH,preprocessEvent(r,i,o){const s=o.getOptions();Z6(kx,s.stackParser,s.maxValueLength,n,t,r,i)}}},cH=lH;function uH(e){return[R7(),k7(),qU(),VU(),XU(),cH(),U7(),iH()]}function dH(e={}){return{...{defaultIntegrations:uH(),release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:Be.SENTRY_RELEASE&&Be.SENTRY_RELEASE.id?Be.SENTRY_RELEASE.id:void 0,autoSessionTracking:!0,sendClientReports:!0},...e}}function fH(){const e=Be,t=e.chrome?"chrome":"browser",n=e[t],r=n&&n.runtime&&n.runtime.id,i=Be.location&&Be.location.href||"",o=["chrome-extension:","moz-extension:","ms-browser-extension:"],s=!!r&&Be===Be.top&&o.some(a=>i.startsWith(`${a}//`));return!!r&&!s}function hH(e={}){const t=dH(e);if(fH()){hh(()=>{console.error("[Sentry] You cannot run Sentry this way in a browser extension, check: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")});return}pr&&(Xj()||ge.warn("No Fetch API detected. The Sentry SDK requires a Fetch API compatible environment to send events. Please add a Fetch API polyfill."));const n={...t,stackParser:p8(t.stackParser||MU),integrations:p7(t),transport:t.transport||AU},r=A7(u9,n);return t.autoSessionTracking&&pH(),r}function eC(e={}){if(!Be.document){pr&&ge.error("Global document not defined in showReportDialog call");return}const t=hn(),n=t.getClient(),r=n&&n.getDsn();if(!r){pr&&ge.error("DSN not configured for showReportDialog call");return}if(t&&(e.user={...t.getUser(),...e.user}),!e.eventId){const a=a7();a&&(e.eventId=a)}const i=Be.document.createElement("script");i.async=!0,i.crossOrigin="anonymous",i.src=f7(r,e),e.onLoad&&(i.onload=e.onLoad);const{onClose:o}=e;if(o){const a=l=>{if(l.data==="__sentry_reportdialog_closed__")try{o()}finally{Be.removeEventListener("message",a)}};Be.addEventListener("message",a)}const s=Be.document.head||Be.document.body;s?s.appendChild(i):pr&&ge.error("Not injecting report dialog. No injection point found in HTML")}function pH(){if(typeof Be.document>"u"){pr&&ge.warn("Session tracking in non-browser environment with @sentry/browser is not supported.");return}V2({ignoreDuration:!0}),L2(),Px(({from:e,to:t})=>{e!==void 0&&e!==t&&(V2({ignoreDuration:!0}),L2())})}const z1={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0};function gH(e){const{traceFetch:t,traceXHR:n,shouldCreateSpanForRequest:r,enableHTTPTimings:i,tracePropagationTargets:o}={traceFetch:z1.traceFetch,traceXHR:z1.traceXHR,...e},s=typeof r=="function"?r:c=>!0,a=c=>AH(c,o),l={};t&&e5(c=>{const u=W7(c,s,a,l);if(u){const d=K5(c.fetchData.url),h=d?vl(d).host:void 0;u.setAttributes({"http.url":d,"server.address":h})}i&&u&&tC(u)}),n&&G5(c=>{const u=bH(c,s,a,l);i&&u&&tC(u)})}function mH(e){return e.entryType==="resource"&&"initiatorType"in e&&typeof e.nextHopProtocol=="string"&&(e.initiatorType==="fetch"||e.initiatorType==="xmlhttprequest")}function tC(e){const{url:t}=kt(e).data||{};if(!t||typeof t!="string")return;const n=kf("resource",({entries:r})=>{r.forEach(i=>{mH(i)&&i.name.endsWith(t)&&(yH(i).forEach(s=>e.setAttribute(...s)),setTimeout(n))})})}function vH(e){let t="unknown",n="unknown",r="";for(const i of e){if(i==="/"){[t,n]=e.split("/");break}if(!isNaN(Number(i))){t=r==="h"?"http":r,n=e.split(r)[1];break}r+=i}return r===e&&(t=r),{name:t,version:n}}function Uo(e=0){return((Xi||performance.timeOrigin)+e)/1e3}function yH(e){const{name:t,version:n}=vH(e.nextHopProtocol),r=[];return r.push(["network.protocol.version",n],["network.protocol.name",t]),Xi?[...r,["http.request.redirect_start",Uo(e.redirectStart)],["http.request.fetch_start",Uo(e.fetchStart)],["http.request.domain_lookup_start",Uo(e.domainLookupStart)],["http.request.domain_lookup_end",Uo(e.domainLookupEnd)],["http.request.connect_start",Uo(e.connectStart)],["http.request.secure_connection_start",Uo(e.secureConnectionStart)],["http.request.connection_end",Uo(e.connectEnd)],["http.request.request_start",Uo(e.requestStart)],["http.request.response_start",Uo(e.responseStart)],["http.request.response_end",Uo(e.responseEnd)]]:r}function AH(e,t){const n=Be.location&&Be.location.href;if(n){let r,i;try{r=new URL(e,n),i=new URL(n).origin}catch{return!1}const o=r.origin===i;return t?gl(r.toString(),t)||o&&gl(r.pathname,t):o}else{const r=!!e.match(/^\/(?!\/)/);return t?gl(e,t):r}}function bH(e,t,n,r){const i=e.xhr,o=i&&i[xc];if(!i||i.__sentry_own_request__||!o)return;const s=Ca()&&t(o.url);if(e.endTimestamp&&s){const h=i.__sentry_xhr_span_id__;if(!h)return;const p=r[h];p&&o.status_code!==void 0&&(h5(p,o.status_code),p.end(),delete r[h]);return}const a=K5(o.url),l=a?vl(a).host:void 0,c=!!ao(),u=s&&c?os({name:`${o.method} ${o.url}`,attributes:{type:"xhr","http.method":o.method,"http.url":a,url:o.url,"server.address":l,[qn]:"auto.http.browser",[wf]:"http.client"}}):new Nu;i.__sentry_xhr_span_id__=u.spanContext().spanId,r[i.__sentry_xhr_span_id__]=u;const d=Tt();return i.setRequestHeader&&n(o.url)&&d&&_H(i,d,Ca()&&c?u:void 0),u}function _H(e,t,n){const r=hn(),i=so(),{traceId:o,spanId:s,sampled:a,dsc:l}={...i.getPropagationContext(),...r.getPropagationContext()},c=n&&Ca()?m5(n):Ax(o,s,a),u=l5(l||(n?ql(n):f0(o,t)));xH(e,c,u)}function xH(e,t,n){try{e.setRequestHeader("sentry-trace",t),n&&e.setRequestHeader(k1,n)}catch{}}function K5(e){try{return new URL(e,Be.location.origin).href}catch{return}}function SH(){Be&&Be.document?Be.document.addEventListener("visibilitychange",()=>{const e=ao();if(!e)return;const t=Zr(e);if(Be.document.hidden&&t){const n="cancelled",{op:r,status:i}=kt(t);pr&&ge.log(`[Tracing] Transaction: ${n} -> since tab moved to the background, op: ${r}`),i||t.setStatus({code:Jn,message:n}),t.setAttribute("sentry.cancellation_reason","document.hidden"),t.end()}}):pr&&ge.warn("[Tracing] Could not set up background tab detection due to lack of global document")}const wH="BrowserTracing",EH={...sg,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableInp:!0,_experiments:{},...z1},kH=(e={})=>{bz();const{enableInp:t,enableLongTask:n,_experiments:{enableInteractions:r},beforeStartSpan:i,idleTimeout:o,finalTimeout:s,childSpanTimeout:a,markBackgroundSpan:l,traceFetch:c,traceXHR:u,shouldCreateSpanForRequest:d,enableHTTPTimings:h,instrumentPageLoad:p,instrumentNavigation:g}={...EH,...e},m=G9();t&&mU(),n&&q9(),r&&W9();const b={name:void 0,source:void 0};function y(A,x){const S=x.op==="pageload",_=i?i(x):x,w=_.attributes||{};x.name!==_.name&&(w[la]="custom",_.attributes=w),b.name=_.name,b.source=w[la];const E=E5(_,{idleTimeout:o,finalTimeout:s,childSpanTimeout:a,disableAutoFinish:S,beforeSpanEnd:O=>{m(),X9(O)}});function T(){["interactive","complete"].includes(Be.document.readyState)&&A.emit("idleSpanEnableAutoFinish",E)}return S&&Be.document&&(Be.document.addEventListener("readystatechange",()=>{T()}),T()),E}return{name:wH,afterAllSetup(A){let x,S=Be.location&&Be.location.href;A.on("startNavigationSpan",_=>{Tt()===A&&(x&&(pr&&ge.log(`[Tracing] Finishing current root span with op: ${kt(x).op}`),x.end()),x=y(A,{op:"navigation",..._}))}),A.on("startPageLoadSpan",(_,w={})=>{if(Tt()!==A)return;x&&(pr&&ge.log(`[Tracing] Finishing current root span with op: ${kt(x).op}`),x.end());const E=w.sentryTrace||nC("sentry-trace"),T=w.baggage||nC("baggage"),O=D8(E,T);hn().setPropagationContext(O),x=y(A,{op:"pageload",..._})}),A.on("spanEnd",_=>{const w=kt(_).op;if(_!==Zr(_)||w!=="navigation"&&w!=="pageload")return;const E=hn(),T=E.getPropagationContext();E.setPropagationContext({...T,sampled:T.sampled!==void 0?T.sampled:Gl(_),dsc:T.dsc||ql(_)})}),Be.location&&(p&&CH(A,{name:Be.location.pathname,startTime:Xi?Xi/1e3:void 0,attributes:{[la]:"url",[qn]:"auto.pageload.browser"}}),g&&Px(({to:_,from:w})=>{if(w===void 0&&S&&S.indexOf(_)!==-1){S=void 0;return}w!==_&&(S=void 0,TH(A,{name:Be.location.pathname,attributes:{[la]:"url",[qn]:"auto.navigation.browser"}}))})),l&&SH(),r&&IH(o,s,a,b),t&&yU(b),gH({traceFetch:c,traceXHR:u,tracePropagationTargets:A.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:d,enableHTTPTimings:h})}}};function CH(e,t,n){e.emit("startPageLoadSpan",t,n),hn().setTransactionName(t.name);const r=ao();return(r&&kt(r).op)==="pageload"?r:void 0}function TH(e,t){so().setPropagationContext(qg()),hn().setPropagationContext(qg()),e.emit("startNavigationSpan",t),hn().setTransactionName(t.name);const n=ao();return(n&&kt(n).op)==="navigation"?n:void 0}function nC(e){const t=i8(`meta[name=${e}]`);return t?t.getAttribute("content"):void 0}function IH(e,t,n,r){let i;const o=()=>{const s="ui.action.click",a=ao(),l=a&&Zr(a);if(l){const c=kt(l).op;if(["navigation","pageload"].includes(c)){pr&&ge.warn(`[Tracing] Did not create ${s} span because a pageload or navigation span is in progress.`);return}}if(i&&(i.setAttribute(R1,"interactionInterrupted"),i.end(),i=void 0),!r.name){pr&&ge.warn(`[Tracing] Did not create ${s} transaction because _latestRouteName is missing.`);return}i=E5({name:r.name,op:s,attributes:{[la]:r.source||"url"}},{idleTimeout:e,finalTimeout:t,childSpanTimeout:n})};Be.document&&addEventListener("click",o,{once:!1,capture:!0})}function RH(e){const t={...e};return M5(t,"react"),o7("react",{version:v.version}),hH(t)}function PH(e){const t=e.match(/^([^.]+)/);return t!==null&&parseInt(t[0])>=17}function MH(e,t){const n=new WeakSet;function r(i,o){if(!n.has(i)){if(i.cause)return n.add(i),r(i.cause,o);i.cause=o}}r(e,t)}function jH(e,{componentStack:t},n){if(PH(v.version)&&l0(e)&&t){const r=new Error(e.message);r.name=`React ErrorBoundary ${e.name}`,r.stack=t,MH(e,r)}return Vo(e,{...n,captureContext:{contexts:{react:{componentStack:t}}}})}var Y5={exports:{}},It={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var or=typeof Symbol=="function"&&Symbol.for,Mx=or?Symbol.for("react.element"):60103,jx=or?Symbol.for("react.portal"):60106,m0=or?Symbol.for("react.fragment"):60107,v0=or?Symbol.for("react.strict_mode"):60108,y0=or?Symbol.for("react.profiler"):60114,A0=or?Symbol.for("react.provider"):60109,b0=or?Symbol.for("react.context"):60110,Ox=or?Symbol.for("react.async_mode"):60111,_0=or?Symbol.for("react.concurrent_mode"):60111,x0=or?Symbol.for("react.forward_ref"):60112,S0=or?Symbol.for("react.suspense"):60113,OH=or?Symbol.for("react.suspense_list"):60120,w0=or?Symbol.for("react.memo"):60115,E0=or?Symbol.for("react.lazy"):60116,VH=or?Symbol.for("react.block"):60121,LH=or?Symbol.for("react.fundamental"):60117,NH=or?Symbol.for("react.responder"):60118,$H=or?Symbol.for("react.scope"):60119;function Ci(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Mx:switch(e=e.type,e){case Ox:case _0:case m0:case y0:case v0:case S0:return e;default:switch(e=e&&e.$$typeof,e){case b0:case x0:case E0:case w0:case A0:return e;default:return t}}case jx:return t}}}function Q5(e){return Ci(e)===_0}It.AsyncMode=Ox;It.ConcurrentMode=_0;It.ContextConsumer=b0;It.ContextProvider=A0;It.Element=Mx;It.ForwardRef=x0;It.Fragment=m0;It.Lazy=E0;It.Memo=w0;It.Portal=jx;It.Profiler=y0;It.StrictMode=v0;It.Suspense=S0;It.isAsyncMode=function(e){return Q5(e)||Ci(e)===Ox};It.isConcurrentMode=Q5;It.isContextConsumer=function(e){return Ci(e)===b0};It.isContextProvider=function(e){return Ci(e)===A0};It.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Mx};It.isForwardRef=function(e){return Ci(e)===x0};It.isFragment=function(e){return Ci(e)===m0};It.isLazy=function(e){return Ci(e)===E0};It.isMemo=function(e){return Ci(e)===w0};It.isPortal=function(e){return Ci(e)===jx};It.isProfiler=function(e){return Ci(e)===y0};It.isStrictMode=function(e){return Ci(e)===v0};It.isSuspense=function(e){return Ci(e)===S0};It.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===m0||e===_0||e===y0||e===v0||e===S0||e===OH||typeof e=="object"&&e!==null&&(e.$$typeof===E0||e.$$typeof===w0||e.$$typeof===A0||e.$$typeof===b0||e.$$typeof===x0||e.$$typeof===LH||e.$$typeof===NH||e.$$typeof===$H||e.$$typeof===VH)};It.typeOf=Ci;Y5.exports=It;var DH=Y5.exports,Vx=DH,BH={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},FH={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},zH={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},J5={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Lx={};Lx[Vx.ForwardRef]=zH;Lx[Vx.Memo]=J5;function rC(e){return Vx.isMemo(e)?J5:Lx[e.$$typeof]||BH}var UH=Object.defineProperty,HH=Object.getOwnPropertyNames,iC=Object.getOwnPropertySymbols,GH=Object.getOwnPropertyDescriptor,qH=Object.getPrototypeOf,oC=Object.prototype;function X5(e,t,n){if(typeof t!="string"){if(oC){var r=qH(t);r&&r!==oC&&X5(e,r,n)}var i=HH(t);iC&&(i=i.concat(iC(t)));for(var o=rC(e),s=rC(t),a=0;a<i.length;++a){var l=i[a];if(!FH[l]&&!(n&&n[l])&&!(s&&s[l])&&!(o&&o[l])){var c=GH(t,l);try{UH(e,l,c)}catch{}}}}return e}var WH=X5;const KH=vr(WH),YH="ui.react.render",QH="ui.react.update",JH="ui.react.mount",XH="unknown";class Z5 extends v.Component{static __initStatic(){this.defaultProps={disabled:!1,includeRender:!0,includeUpdates:!0}}constructor(t){super(t);const{name:n,disabled:r=!1}=this.props;r||(this._mountSpan=os({name:`<${n}>`,onlyIfParent:!0,op:JH,attributes:{[qn]:"auto.ui.react.profiler","ui.component_name":n}}))}componentDidMount(){this._mountSpan&&this._mountSpan.end()}shouldComponentUpdate({updateProps:t,includeUpdates:n=!0}){if(n&&this._mountSpan&&t!==this.props.updateProps){const r=Object.keys(t).filter(i=>t[i]!==this.props.updateProps[i]);if(r.length>0){const i=Cr();this._updateSpan=Kg(this._mountSpan,()=>os({name:`<${this.props.name}>`,onlyIfParent:!0,op:QH,startTime:i,attributes:{[qn]:"auto.ui.react.profiler","ui.component_name":this.props.name,"ui.react.changed_props":r}}))}}return!0}componentDidUpdate(){this._updateSpan&&(this._updateSpan.end(),this._updateSpan=void 0)}componentWillUnmount(){const t=Cr(),{name:n,includeRender:r=!0}=this.props;if(this._mountSpan&&r){const i=kt(this._mountSpan).timestamp;Kg(this._mountSpan,()=>{const o=os({onlyIfParent:!0,name:`<${n}>`,op:YH,startTime:i,attributes:{[qn]:"auto.ui.react.profiler","ui.component_name":n}});o&&o.end(t)})}}render(){return this.props.children}}Z5.__initStatic();function ZH(e,t){const n=t&&t.name||e.displayName||e.name||XH,r=i=>v.createElement(Z5,{...t,name:n,updateProps:i},v.createElement(e,{...i}));return r.displayName=`profiler(${n})`,KH(r,e),r}const eG=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,sC={componentStack:null,error:null,eventId:null};class Nx extends v.Component{constructor(t){super(t),Nx.prototype.__init.call(this),this.state=sC,this._openFallbackReportDialog=!0;const n=Tt();n&&t.showDialog&&(this._openFallbackReportDialog=!1,n.on("afterSendEvent",r=>{!r.type&&this._lastEventId&&r.event_id===this._lastEventId&&eC({...t.dialogOptions,eventId:this._lastEventId})}))}componentDidCatch(t,n){const{componentStack:r}=n,i=r??void 0,{beforeCapture:o,onError:s,showDialog:a,dialogOptions:l}=this.props;d0(c=>{o&&o(c,t,i);const u=jH(t,n,{mechanism:{handled:!!this.props.fallback}});s&&s(t,i,u),a&&(this._lastEventId=u,this._openFallbackReportDialog&&eC({...l,eventId:u})),this.setState({error:t,componentStack:r,eventId:u})})}componentDidMount(){const{onMount:t}=this.props;t&&t()}componentWillUnmount(){const{error:t,componentStack:n,eventId:r}=this.state,{onUnmount:i}=this.props;i&&i(t,n,r)}__init(){this.resetErrorBoundary=()=>{const{onReset:t}=this.props,{error:n,componentStack:r,eventId:i}=this.state;t&&t(n,r,i),this.setState(sC)}}render(){const{fallback:t,children:n}=this.props,r=this.state;if(r.error){let i;return typeof t=="function"?i=v.createElement(t,{error:r.error,componentStack:r.componentStack,resetError:this.resetErrorBoundary,eventId:r.eventId}):i=t,v.isValidElement(i)?i:(t&&eG&&ge.warn("fallback did not produce a valid ReactElement"),null)}return typeof n=="function"?n():n}}const tG="modulepreload",nG=function(e){return"/"+e},aC={},Fu=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){const o=document.getElementsByTagName("link"),s=document.querySelector("meta[property=csp-nonce]"),a=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.all(n.map(l=>{if(l=nG(l),l in aC)return;aC[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(!!r)for(let p=o.length-1;p>=0;p--){const g=o[p];if(g.href===l&&(!c||g.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${l}"]${u}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":tG,c||(h.as="script",h.crossOrigin=""),h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),c)return new Promise((p,g)=>{h.addEventListener("load",p),h.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}return i.then(()=>t()).catch(o=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o})};class e3{constructor(){this.init=async(t,n)=>{const r=await Fu(()=>import("./aubio-BXVQmmIs.js"),[]),{Pitch:i}=await r.default();this.detector=new i("default",n,n/8,t.sampleRate),this.detector.setTolerance(.5)},this.getFrequency=async t=>this.detector.do(t)}getSampleSize(){return 2048}}class rG extends Bo{constructor(){super(...arguments),this.status="uninitialised",this.getUserMedia=async(...t)=>this.requestAndTrack(()=>navigator.mediaDevices.getUserMedia(...t)),this.enumerateDevices=async(...t)=>this.requestAndTrack(()=>navigator.mediaDevices.enumerateDevices(...t)),this.requestAndTrack=async t=>{try{this.status!=="accepted"&&this.setStatus("requested");const n=await t();return this.setStatus("accepted"),n}catch(n){throw this.setStatus("declined"),n}},this.setStatus=t=>{this.status=t,this.onUpdate(t)},this.getStatus=()=>this.status}}const ma=new rG;let t3=class{constructor(){this.stream=null,this.context=null,this.interval=null,this.frequencies=[0,0],this.volumes=[0,0],this.startedMonitoring=!1,this.startMonitoring=async(t,n=!1)=>{if(!this.startedMonitoring){this.startedMonitoring=!0;try{this.stream=await ma.getUserMedia({audio:{...t?{deviceId:t,exact:!0}:{},echoCancellation:n},video:!1});try{this.context=new AudioContext;const r=this.context.createMediaStreamSource(this.stream),i=this.context.createChannelSplitter(2);r.connect(i);const o=this.context.createAnalyser();o.fftSize=2048,o.minDecibels=-100;const s=this.context.createAnalyser();s.fftSize=2048,s.minDecibels=-100,i.connect(o,0),i.connect(s,1);const a=new e3;await a.init(this.context,o.fftSize),this.interval=setInterval(async()=>{const l=new Float32Array(o.fftSize),c=new Float32Array(s.fftSize);o.getFloatTimeDomainData(l),s.getFloatTimeDomainData(c),this.frequencies=await Promise.all([a.getFrequency(l),a.getFrequency(c)]),this.volumes=[this.calculateVolume(l),this.calculateVolume(c)]},this.context.sampleRate/o.fftSize),ee.micMonitoringStarted.dispatch()}catch(r){Vo(r),console.error(r)}}catch(r){Vo(r,{level:"warning"}),console.warn(r)}}},this.getFrequencies=()=>this.frequencies,this.getVolumes=()=>this.volumes,this.clearFrequencies=t=>{},this.stopMonitoring=async()=>{var t,n;if(this.startedMonitoring){this.startedMonitoring=!1,this.interval&&clearInterval(this.interval),(t=this.stream)==null||t.getTracks().forEach(function(r){r.stop()});try{await((n=this.context)==null?void 0:n.close())}catch(r){console.log("MicInput.stoMonitoring error",r)}ee.micMonitoringStopped.dispatch()}},this.getInputLag=()=>180,this.requestReadiness=()=>Promise.resolve(!0),this.getStatus=()=>"ok"}calculateVolume(t){let n,r=0;for(n=0;n<t.length;++n)r+=t[n]*t[n];return Math.sqrt(r/t.length)}};new t3;class iG{constructor(){this.devices={},this.startMonitoring=async(t,n=!1)=>{t&&(this.devices[t]||(this.devices[t]=new t3),await this.devices[t].startMonitoring(t,n))},this.getFrequencies=t=>t&&this.devices[t]?this.devices[t].getFrequencies():[0,0],this.getVolumes=t=>t&&this.devices[t]?this.devices[t].getVolumes():[0,0],this.clearFrequencies=t=>{if(t&&this.devices[t])return this.devices[t].clearFrequencies(t)},this.stopMonitoring=async()=>{Object.values(this.devices).forEach(t=>t.stopMonitoring())},this.getInputLag=t=>t&&this.devices[t]?this.devices[t].getInputLag():180,this.requestReadiness=async t=>t&&this.devices[t]?this.devices[t].requestReadiness():!0,this.getStatus=t=>t&&this.devices[t]?this.devices[t].getStatus():"ok"}}const oG=new iG;class sG{constructor(){this.frequencies=[0],this.volumes=[1],this.startMonitoring=async t=>{var n;return(n=Ze.getRemoteMicById(t??""))==null?void 0:n.getInput().startMonitoring()},this.getFrequencies=t=>{var r;return((r=Ze.getRemoteMicById(t??""))==null?void 0:r.getInput().getFrequencies())??this.frequencies},this.clearFrequencies=t=>{var n;(n=Ze.getRemoteMicById(t??""))==null||n.getInput().clearFrequencies()},this.getVolumes=t=>{var r;return((r=Ze.getRemoteMicById(t??""))==null?void 0:r.getInput().getVolumes())??this.volumes},this.stopMonitoring=async t=>{var n;return(n=Ze.getRemoteMicById(t??""))==null?void 0:n.getInput().stopMonitoring()},this.requestReadiness=t=>{var n;return((n=Ze.getRemoteMicById(t??""))==null?void 0:n.getInput().requestReadiness())??Promise.resolve(!0)},this.getInputLag=t=>{var n;return((n=Ze.getRemoteMicById(t??""))==null?void 0:n.getInput().getInputLag())??0},this.getStatus=t=>{const n=Ze.getRemoteMicById(t??"");return!n||n.getLatency()>1500?"unavailable":n.getLatency()>500?"unstable":"ok"}}}const aG=new sG;function Lo(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var n3=typeof global=="object"&&global&&global.Object===Object&&global,lG=typeof self=="object"&&self&&self.Object===Object&&self,Fo=n3||lG||Function("return this")(),_y=function(){return Fo.Date.now()},cG=/\s/;function uG(e){for(var t=e.length;t--&&cG.test(e.charAt(t)););return t}var dG=/^\s+/;function fG(e){return e&&e.slice(0,uG(e)+1).replace(dG,"")}var Zi=Fo.Symbol,r3=Object.prototype,hG=r3.hasOwnProperty,pG=r3.toString,od=Zi?Zi.toStringTag:void 0;function gG(e){var t=hG.call(e,od),n=e[od];try{e[od]=void 0;var r=!0}catch{}var i=pG.call(e);return r&&(t?e[od]=n:delete e[od]),i}var mG=Object.prototype,vG=mG.toString;function yG(e){return vG.call(e)}var AG="[object Null]",bG="[object Undefined]",lC=Zi?Zi.toStringTag:void 0;function Kl(e){return e==null?e===void 0?bG:AG:lC&&lC in Object(e)?gG(e):yG(e)}function Ms(e){return e!=null&&typeof e=="object"}var _G="[object Symbol]";function k0(e){return typeof e=="symbol"||Ms(e)&&Kl(e)==_G}var cC=NaN,xG=/^[-+]0x[0-9a-f]+$/i,SG=/^0b[01]+$/i,wG=/^0o[0-7]+$/i,EG=parseInt;function U1(e){if(typeof e=="number")return e;if(k0(e))return cC;if(Lo(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Lo(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=fG(e);var n=SG.test(e);return n||wG.test(e)?EG(e.slice(2),n?2:8):xG.test(e)?cC:+e}var kG="Expected a function",CG=Math.max,TG=Math.min;function i3(e,t,n){var r,i,o,s,a,l,c=0,u=!1,d=!1,h=!0;if(typeof e!="function")throw new TypeError(kG);t=U1(t)||0,Lo(n)&&(u=!!n.leading,d="maxWait"in n,o=d?CG(U1(n.maxWait)||0,t):o,h="trailing"in n?!!n.trailing:h);function p(w){var E=r,T=i;return r=i=void 0,c=w,s=e.apply(T,E),s}function g(w){return c=w,a=setTimeout(y,t),u?p(w):s}function m(w){var E=w-l,T=w-c,O=t-E;return d?TG(O,o-T):O}function b(w){var E=w-l,T=w-c;return l===void 0||E>=t||E<0||d&&T>=o}function y(){var w=_y();if(b(w))return A(w);a=setTimeout(y,m(w))}function A(w){return a=void 0,h&&r?p(w):(r=i=void 0,s)}function x(){a!==void 0&&clearTimeout(a),c=0,r=l=i=a=void 0}function S(){return a===void 0?s:A(_y())}function _(){var w=_y(),E=b(w);if(r=arguments,i=this,l=w,E){if(a===void 0)return g(l);if(d)return clearTimeout(a),a=setTimeout(y,t),p(l)}return a===void 0&&(a=setTimeout(y,t)),s}return _.cancel=x,_.flush=S,_}const $r={DUEL:"DUEL",PASS_THE_MIC:"PASS_THE_MIC",CO_OP:"CO_OP"},qd=["freestyle","rap"],o3=[],s3=440,a3=69,$x=20;var IG="[object AsyncFunction]",RG="[object Function]",PG="[object GeneratorFunction]",MG="[object Proxy]";function l3(e){if(!Lo(e))return!1;var t=Kl(e);return t==RG||t==PG||t==IG||t==MG}var xy=Fo["__core-js_shared__"],uC=function(){var e=/[^.]+$/.exec(xy&&xy.keys&&xy.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function jG(e){return!!uC&&uC in e}var OG=Function.prototype,VG=OG.toString;function Yl(e){if(e!=null){try{return VG.call(e)}catch{}try{return e+""}catch{}}return""}var LG=/[\\^$.*+?()[\]{}|]/g,NG=/^\[object .+?Constructor\]$/,$G=Function.prototype,DG=Object.prototype,BG=$G.toString,FG=DG.hasOwnProperty,zG=RegExp("^"+BG.call(FG).replace(LG,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function UG(e){if(!Lo(e)||jG(e))return!1;var t=l3(e)?zG:NG;return t.test(Yl(e))}function HG(e,t){return e==null?void 0:e[t]}function Ql(e,t){var n=HG(e,t);return UG(n)?n:void 0}var Cf=Ql(Object,"create");function GG(){this.__data__=Cf?Cf(null):{},this.size=0}function qG(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var WG="__lodash_hash_undefined__",KG=Object.prototype,YG=KG.hasOwnProperty;function QG(e){var t=this.__data__;if(Cf){var n=t[e];return n===WG?void 0:n}return YG.call(t,e)?t[e]:void 0}var JG=Object.prototype,XG=JG.hasOwnProperty;function ZG(e){var t=this.__data__;return Cf?t[e]!==void 0:XG.call(t,e)}var eq="__lodash_hash_undefined__";function tq(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Cf&&t===void 0?eq:t,this}function Rl(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Rl.prototype.clear=GG;Rl.prototype.delete=qG;Rl.prototype.get=QG;Rl.prototype.has=ZG;Rl.prototype.set=tq;function nq(){this.__data__=[],this.size=0}function C0(e,t){return e===t||e!==e&&t!==t}function T0(e,t){for(var n=e.length;n--;)if(C0(e[n][0],t))return n;return-1}var rq=Array.prototype,iq=rq.splice;function oq(e){var t=this.__data__,n=T0(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():iq.call(t,n,1),--this.size,!0}function sq(e){var t=this.__data__,n=T0(t,e);return n<0?void 0:t[n][1]}function aq(e){return T0(this.__data__,e)>-1}function lq(e,t){var n=this.__data__,r=T0(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function Fs(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Fs.prototype.clear=nq;Fs.prototype.delete=oq;Fs.prototype.get=sq;Fs.prototype.has=aq;Fs.prototype.set=lq;var Tf=Ql(Fo,"Map");function cq(){this.size=0,this.__data__={hash:new Rl,map:new(Tf||Fs),string:new Rl}}function uq(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function I0(e,t){var n=e.__data__;return uq(t)?n[typeof t=="string"?"string":"hash"]:n.map}function dq(e){var t=I0(this,e).delete(e);return this.size-=t?1:0,t}function fq(e){return I0(this,e).get(e)}function hq(e){return I0(this,e).has(e)}function pq(e,t){var n=I0(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function zs(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}zs.prototype.clear=cq;zs.prototype.delete=dq;zs.prototype.get=fq;zs.prototype.has=hq;zs.prototype.set=pq;var gq="Expected a function";function R0(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(gq);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(R0.Cache||zs),n}R0.Cache=zs;function Xg(e){return qd.includes(e.note.type)?0:e.distance}function Et(e){return(e==null?void 0:e.type)==="notes"&&!!e.notes.length}const mq=35e5,Wa={freestyle:.25,rap:.25,rapstar:.5,star:2,normal:1,perfect:.5,vibrato:.25},dC=e=>({freestyle:e.freestyle*Wa.freestyle,rap:e.rap*Wa.rap,rapstar:e.rapstar*Wa.rapstar,star:e.star*Wa.star,normal:e.normal*Wa.normal,perfect:e.perfect*Wa.perfect,vibrato:e.vibrato*Wa.vibrato}),Dx=e=>e.freestyle+e.rap+e.star+e.normal+e.perfect+e.vibrato,cp=(e,t)=>({freestyle:e.freestyle*t,rap:e.rap*t,rapstar:e.rapstar*t,star:e.star*t,normal:e.normal*t,perfect:e.perfect*t,vibrato:e.vibrato*t}),fC=(e,t)=>({freestyle:e.freestyle+t.freestyle,rap:e.rap+t.rap,rapstar:e.rapstar+t.rapstar,star:e.star+t.star,normal:e.normal+t.normal,perfect:e.perfect+t.perfect,vibrato:e.vibrato+t.vibrato}),hC=(e,t)=>({freestyle:e.freestyle/t,rap:e.rap/t,rapstar:e.rapstar/t,star:e.star/t,normal:e.normal/t,perfect:e.perfect/t,vibrato:e.vibrato/t}),pC=R0(e=>e.tracks.map(({sections:t})=>{const n={freestyle:0,rap:0,rapstar:0,star:0,normal:0,perfect:0,vibrato:0};return t.filter(Et).forEach(r=>{r.notes.filter(o=>!o3.includes(o.type)).forEach(o=>{n[o.type]=n[o.type]+o.length,n.perfect=n.perfect+o.length,n.vibrato=n.vibrato+o.length})}),n}));function c3(e,t,n){const r=pC(t),i={freestyle:0,rap:0,rapstar:0,star:0,normal:0,perfect:0,vibrato:0};if(!r[n])return console.error(`No beat count for track ${n} in song`,t),[0,i,i];const o=dC(pC(t)[n]),s=mq/Dx(o);for(let a=0;a<e.length;a++){const l=e[a];o3.includes(l.note.type)||Xg(l)===0&&(i[l.note.type]=i[l.note.type]+l.length,l.isPerfect&&(i.perfect=i.perfect+l.length),l.vibrato&&(i.vibrato=i.vibrato+l.length))}return[s,dC(i),o]}function vq(e,t,n){const[r,i]=c3(e,t,n);return Dx(i)*r}function yq(e,t,n,r=!0){const i=(e-n)/t;return r?Math.floor(i):i}function Aq(e){return s3*Math.pow(2,(e-a3)/12)}const bq=e=>Math.round(12*(Math.log(e/s3)/Math.log(2)))+a3,_q=(e,t)=>Math.floor(1200*Math.log(t/e)/Math.log(2)),xq=(e,t,n)=>{const r=Aq(e),i=_q(r,t);return Math.sign(i)*((Math.abs(i)%1200+600)%1200-600)/(n*100+50)},Sq=(e,t,n)=>{const r=(e%12-t%12+18)%12-6;return Math.abs(r)<=n?0:r},wq=(e,t)=>{const n=$e.getTolerance(),r=bq(e);let i=-1;const o=Sq(r,t,n);return o===0&&(i=xq(t,e,n)),{distance:o,preciseDistance:i}},gC=6;function Eq(e){const t=[];for(let r=1;r<e.length;r++){if(Math.round(e[r].frequency/2)===Math.round(e[r-1].frequency/2))continue;const i=e[r].frequency>e[r-1].frequency?">":"<";if(t.length===0)t.push({...e[r],interval:e[r].timestamp-e[r-1].timestamp,change:i});else{const o=t.at(-1);o.change!==i&&t.push({...e[r],interval:e[r].timestamp-o.timestamp,change:i})}}const n=t;for(let r=0;r<n.length-gC;r++){const o=n.slice(r,r+gC-1).map(c=>c.interval),s=Math.max(...o),a=Math.min(...o),l=o.reduce((c,u)=>c+u,0)/o.length;if(s<l*1.75&&a>l/1.75)return!0}return!1}const kq=100;function Cq(e,t,n,r){if(t.frequency===0)return;const i={...t,beat:Math.max(0,t.timestamp)/r,...wq(t.frequency,n.pitch)},o=e.at(-1),s=kq/r,a=n.start+n.length,l=!o||o.note.start!==n.start,c=!o||o.distance!==i.distance&&!qd.includes(n.type);if(l||c||i.beat-(o.start+o.length)>s){const u=i.beat-s<n.start?n.start:i.beat;if(e.push({start:Math.min(l?u:i.beat,a),length:0,distance:i.distance,note:n,isPerfect:!1,vibrato:!1,frequencyRecords:[{frequency:i.frequency,preciseDistance:i.preciseDistance,timestamp:i.timestamp}]}),o&&n.start!==o.note.start){const d=o.start+o.length,h=o.note.start+o.note.length,p=d+s>h?h:d;o.length=Math.max(0,p-o.start)}}else o.length=Math.max(0,Math.min(i.beat,n.start+n.length)-o.start),o.frequencyRecords.push({frequency:i.frequency,timestamp:i.timestamp,preciseDistance:i.preciseDistance}),o.isPerfect=o.distance===0&&Math.abs(o.length-o.note.length)<.5,o.vibrato=o.distance===0&&Eq(o.frequencyRecords)}const Tq=e=>e.notes[0],Ta=e=>{const t=e.find(Et);return t?Tq(t).start:1/0},If=e=>{const n=e.filter(Et).at(-1);return n?Rf(n):0},Rf=e=>{const t=e.notes.at(-1);return t.start+t.length},mC=(e,t,n=0)=>e.notes.find(r=>r.start-n<=t&&r.start+r.length+n>=t);class Iq{constructor(t,n){this.number=t,this.gameState=n,this.frequencyRecords=[],this.playerNotes=[],this.realFrequencyRecords=[],this.realPlayerNotes=[],this.min=1/0,this.max=-1/0,this.storedSectionIndex=0,this.getNumber=()=>this.number,this.update=()=>{const r=this.gameState.getCurrentTime(),i=_n.getPlayerFrequency(this.number),o=r-_n.getPlayerInputLag(this.number);if(Array.isArray(i)){const s=this.realFrequencyRecords.at(-1)||this.frequencyRecords.at(0),a=(s==null?void 0:s.timestamp)??0,l=(o-a)/i.length;this.frequencyRecords=this.realFrequencyRecords,this.playerNotes=this.realPlayerNotes;for(let u=0;u<i.length;u++){const d=a+l*(u+1);this.updatePlayerNotes(d,i[u])}this.realFrequencyRecords=[...this.frequencyRecords],this.realPlayerNotes=[...this.playerNotes];const c=this.realPlayerNotes.at(-1);c&&(this.realPlayerNotes[this.realPlayerNotes.length-1]={...c,frequencyRecords:[...c.frequencyRecords??[]]}),_n.clearPlayerCachedFrequencies(this.number)}else this.updatePlayerNotes(o,i);this.dispatchSectionUpdate()},this.dispatchSectionUpdate=()=>{const r=this.getCurrentSectionIndex();this.storedSectionIndex!==r&&(ee.sectionChange.dispatch(this.number,this.storedSectionIndex),this.storedSectionIndex=r)},this.updatePlayerNotes=(r,i)=>{const o={timestamp:r,frequency:i};this.frequencyRecords.push(o);const s=o.timestamp/this.gameState.getSongBeatLength(),a=this.getSectionByBeat(s);if(Et(a)){const l=mC(a,s,0)??mC(a,s,.5);l&&Cq(this.playerNotes,o,l,this.gameState.getSongBeatLength())}},this.getPlayerNotes=()=>this.playerNotes,this.getPlayerFrequencies=()=>this.frequencyRecords,this.getSectionIndexByBeat=r=>this.getTrack().sections.findIndex((i,o,s)=>r<0?!0:r<i.start?!1:o===s.length-1?!0:s[o+1].start>r),this.getCurrentSectionIndex=()=>this.getSectionIndexByBeat(this.gameState.getCurrentBeat()),this.getSectionByBeat=r=>this.getTrack().sections[this.getSectionIndexByBeat(r)]??null,this.getCurrentSection=()=>{const r=this.getCurrentSectionIndex();return this.getTrack().sections[r]??null},this.getNextSection=(r=1)=>{const i=this.getCurrentSectionIndex();return i>-1?this.getTrack().sections[i+r]??null:null},this.getPreviousSection=(r=1)=>{const i=this.getCurrentSectionIndex();return i>-1?this.getTrack().sections[i-r]??null:null},this.getLastNotesSection=()=>{const r=this.getTrack().sections.at(-1);return Et(r)?r:this.getTrack().sections.at(-2)},this.getScore=()=>vq(this.playerNotes,this.gameState.getSong(),this.getTrackIndex()),this.getDetailedScore=()=>c3(this.playerNotes,this.gameState.getSong(),this.getTrackIndex()),this.getMinPitch=()=>this.min,this.getMaxPitch=()=>this.max,this.getTrackIndex=()=>this.gameState.getSingSetup().players.find(r=>r.number===this.number).track,this.getTrack=()=>{var r;return this.gameState.isMergedTrack()?(r=this.gameState.getSong())==null?void 0:r.mergedTrack:this.gameState.getSong().tracks[this.getTrackIndex()]},this.resetNotes=()=>{this.playerNotes=[]},this.getTrack().sections.filter(Et).forEach(r=>r.notes.forEach(i=>{this.min=Math.min(this.min,i.pitch),this.max=Math.max(this.max,i.pitch)}))}}function Rq(e){return Math.max(...e.tracks.map(t=>{const n=t.sections.filter(Et).at(-1);return n?Rf(n):0}))}function Bx(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError("Expected a function");const n=function(...r){const i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);const s=e.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(Bx.Cache||Map),n}Bx.Cache=Map;const zu=Bx(function(t){return 60/t.bpm/(t.bar??4)*1e3});class Pq{constructor(){this.song=null,this.currentTime=0,this.duration=0,this.singSetup=null,this.playerStates=[],this.playing=!1,this.setCurrentTime=t=>this.currentTime=t,this.getCurrentTime=(t=!0)=>this.currentTime-(t&&this.song?this.song.gap:0),this.getSongBeatLength=()=>zu(this.song),this.getCurrentBeat=()=>yq(this.getCurrentTime(),this.getSongBeatLength(),0,!1),this.setSong=t=>this.song=t,this.getSong=()=>this.song,this.getSingSetup=()=>this.singSetup,this.setSingSetup=t=>{this.singSetup=t,this.playerStates=t.players.map(({number:n},r)=>new Iq(n,this)),this.currentTime=0,this.playing=!0},this.resetSingSetup=()=>{this.playing=!1},this.isPlaying=()=>this.playing,this.getTolerance=()=>{var t;return((t=this.getSingSetup())==null?void 0:t.tolerance)??2},this.setDuration=t=>this.duration=t,this.getDuration=()=>this.duration,this.getPlayer=t=>this.playerStates.find(n=>n.getNumber()===t),this.getPlayers=()=>this.playerStates,this.getPlayerCount=()=>this.playerStates.length,this.getPlayerScore=t=>{var n,r;return((n=this.getSingSetup())==null?void 0:n.mode)===$r.CO_OP?this.getPlayers().reduce((o,s)=>o+s.getScore(),0)/this.getPlayerCount():((r=this.getPlayer(t))==null?void 0:r.getScore())??-1},this.getPlayerDetailedScore=t=>{var n;if(((n=this.getSingSetup())==null?void 0:n.mode)===$r.CO_OP){const r=this.getPlayers().map(a=>a.getDetailedScore()),[i,...o]=r.map(([a,l,c])=>[cp(l,a),cp(c,a)]),s=o.reduce((a,l)=>[fC(a[0],l[0]),fC(a[1],l[1])],i);return[hC(s[0],this.getPlayerCount()),hC(s[1],this.getPlayerCount())]}else{const[r,i,o]=this.getPlayer(t).getDetailedScore();return[cp(i,r),cp(o,r)]}},this.getSongCompletionProgress=()=>Math.max(0,Math.min(1,this.getCurrentBeat()/Rq(this.getSong()))),this.startInputMonitoring=async()=>_n.startMonitoring(),this.stopInputMonitoring=()=>_n.stopMonitoring(),this.update=()=>{this.playerStates.forEach(t=>t.update())},this.resetPlayerNotes=()=>{this.playerStates.forEach(t=>t.resetNotes())},this.isMergedTrack=()=>{var t;return((t=this.getSingSetup())==null?void 0:t.players.length)!==2}}}const $e=new Pq,u3="wss://allkaraoke-partykit.asvarox.partykit.dev";class Mq extends Bo{constructor(){super(...arguments),this.name="PartyKit",this.connection=null,this.disconnect=()=>{var t;(t=this.connection)==null||t.close()},this.latency=0,this.pingStart=Fr(),this.pinging=!1,this.pingTimeout=null,this.ping=()=>{var t;this.pinging=!0,this.pingStart=Fr(),(t=this.connection)==null||t.send(Yi({t:"ping"}))},this.onPong=()=>{this.pinging&&(this.latency=Fr()-this.pingStart,this.pinging=!1,this.pingTimeout&&clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(this.ping,5e3))},this.getCurrentPing=()=>this.pinging?Math.max(this.latency,Fr()-this.pingStart):this.latency}connect(t,n,r){this.connection=new WebSocket(`${u3}/party/${t}`),this.connection.binaryType="arraybuffer",this.connection.onopen=()=>{var i,o;(i=this.connection)==null||i.send(Yi({t:"register-room",id:t})),n(),this.ping(),(o=this.connection)==null||o.addEventListener("message",s=>{var l;const a=Pu(s.data);if(a.t==="forward"){["ping","pong","freq"].includes((l=a==null?void 0:a.payload)==null?void 0:l.t)||console.log("received",a);const{sender:c,payload:u}=a,d=new jq(c,this.connection);this.onUpdate(u,d)}else a.t==="pong"?this.onPong():console.warn("Unknown message type",a)})},this.connection.onclose=i=>{r(i.reason,i)}}removePlayer(t){var n;(n=this.connection)==null||n.send(Yi({t:"remove-player",id:t}))}}let jq=class{constructor(t,n){this.peer=t,this.socket=n,this.currentPing=0,this.send=r=>{const i={t:"forward",recipients:[this.peer],payload:r};["ping","pong","freq"].includes(r==null?void 0:r.t)||console.log("sending",this.peer,r),this.socket.send(Yi(i))},this.callbacksMap=new Map,this.on=(r,i)=>{r==="data"&&(this.callbacksMap.set(i,o=>{const s=Pu(o.data);if(s.t==="forward"){const{sender:a,payload:l}=s;a===this.peer&&i(l)}}),this.socket.addEventListener("message",this.callbacksMap.get(i)))},this.off=(r,i)=>{if(r==="data"){const o=this.callbacksMap.get(i);this.socket.removeEventListener("message",o),this.callbacksMap.delete(i)}},this.close=()=>{this.socket.close()}}};var iM;const Oq=(iM=global==null?void 0:global.sessionStorage)==null?void 0:iM.getItem("isE2E");function No(){var t,n;if(Oq)return!0;const e=(global==null?void 0:global.isE2ETests)||((t=global==null?void 0:global.location)==null?void 0:t.search.includes("e2e-test"));return e&&((n=global==null?void 0:global.sessionStorage)==null||n.setItem("isE2E","true")),e}const Vq=No()?{host:"localhost",port:3001,path:"/"}:{},d3={...Vq};var Lq=Object.create,P0=Object.defineProperty,Nq=Object.defineProperties,$q=Object.getOwnPropertyDescriptor,Dq=Object.getOwnPropertyDescriptors,f3=Object.getOwnPropertyNames,vC=Object.getOwnPropertySymbols,Bq=Object.getPrototypeOf,h3=Object.prototype.hasOwnProperty,Fq=Object.prototype.propertyIsEnumerable,yC=(e,t,n)=>t in e?P0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Fx=(e,t)=>{for(var n in t||(t={}))h3.call(t,n)&&yC(e,n,t[n]);if(vC)for(var n of vC(t))Fq.call(t,n)&&yC(e,n,t[n]);return e},p3=(e,t)=>Nq(e,Dq(t)),zq=e=>P0(e,"__esModule",{value:!0}),zx=(e,t)=>function(){return t||(0,e[f3(e)[0]])((t={exports:{}}).exports,t),t.exports},Uq=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of f3(t))!h3.call(e,i)&&(n||i!=="default")&&P0(e,i,{get:()=>t[i],enumerable:!(r=$q(t,i))||r.enumerable});return e},Ah=(e,t)=>Uq(zq(P0(e!=null?Lq(Bq(e)):{},"default",!t&&e&&e.__esModule?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e),Sc=(e,t,n)=>new Promise((r,i)=>{var o=l=>{try{a(n.next(l))}catch(c){i(c)}},s=l=>{try{a(n.throw(l))}catch(c){i(c)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(o,s);a((n=n.apply(e,t)).next())}),AC=zx({"node_modules/peerjs-js-binarypack/lib/bufferbuilder.js"(e,t){var n={};n.useBlobBuilder=function(){try{return new Blob([]),!1}catch{return!0}}(),n.useArrayBufferView=!n.useBlobBuilder&&function(){try{return new Blob([new Uint8Array([])]).size===0}catch{return!0}}(),t.exports.binaryFeatures=n;var r=t.exports.BlobBuilder;typeof window<"u"&&(r=t.exports.BlobBuilder=window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder||window.BlobBuilder);function i(){this._pieces=[],this._parts=[]}i.prototype.append=function(o){typeof o=="number"?this._pieces.push(o):(this.flush(),this._parts.push(o))},i.prototype.flush=function(){if(this._pieces.length>0){var o=new Uint8Array(this._pieces);n.useArrayBufferView||(o=o.buffer),this._parts.push(o),this._pieces=[]}},i.prototype.getBuffer=function(){if(this.flush(),n.useBlobBuilder){for(var o=new r,s=0,a=this._parts.length;s<a;s++)o.append(this._parts[s]);return o.getBlob()}else return new Blob(this._parts)},t.exports.BufferBuilder=i}}),Hq=zx({"node_modules/peerjs-js-binarypack/lib/binarypack.js"(e,t){var n=AC().BufferBuilder,r=AC().binaryFeatures,i={unpack:function(c){var u=new o(c);return u.unpack()},pack:function(c){var u=new s;u.pack(c);var d=u.getBuffer();return d}};t.exports=i;function o(c){this.index=0,this.dataBuffer=c,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}o.prototype.unpack=function(){var c=this.unpack_uint8();if(c<128)return c;if((c^224)<32)return(c^224)-32;var u;if((u=c^160)<=15)return this.unpack_raw(u);if((u=c^176)<=15)return this.unpack_string(u);if((u=c^144)<=15)return this.unpack_array(u);if((u=c^128)<=15)return this.unpack_map(u);switch(c){case 192:return null;case 193:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 212:return;case 213:return;case 214:return;case 215:return;case 216:return u=this.unpack_uint16(),this.unpack_string(u);case 217:return u=this.unpack_uint32(),this.unpack_string(u);case 218:return u=this.unpack_uint16(),this.unpack_raw(u);case 219:return u=this.unpack_uint32(),this.unpack_raw(u);case 220:return u=this.unpack_uint16(),this.unpack_array(u);case 221:return u=this.unpack_uint32(),this.unpack_array(u);case 222:return u=this.unpack_uint16(),this.unpack_map(u);case 223:return u=this.unpack_uint32(),this.unpack_map(u)}},o.prototype.unpack_uint8=function(){var c=this.dataView[this.index]&255;return this.index++,c},o.prototype.unpack_uint16=function(){var c=this.read(2),u=(c[0]&255)*256+(c[1]&255);return this.index+=2,u},o.prototype.unpack_uint32=function(){var c=this.read(4),u=((c[0]*256+c[1])*256+c[2])*256+c[3];return this.index+=4,u},o.prototype.unpack_uint64=function(){var c=this.read(8),u=((((((c[0]*256+c[1])*256+c[2])*256+c[3])*256+c[4])*256+c[5])*256+c[6])*256+c[7];return this.index+=8,u},o.prototype.unpack_int8=function(){var c=this.unpack_uint8();return c<128?c:c-256},o.prototype.unpack_int16=function(){var c=this.unpack_uint16();return c<32768?c:c-65536},o.prototype.unpack_int32=function(){var c=this.unpack_uint32();return c<Math.pow(2,31)?c:c-Math.pow(2,32)},o.prototype.unpack_int64=function(){var c=this.unpack_uint64();return c<Math.pow(2,63)?c:c-Math.pow(2,64)},o.prototype.unpack_raw=function(c){if(this.length<this.index+c)throw new Error("BinaryPackFailure: index is out of range "+this.index+" "+c+" "+this.length);var u=this.dataBuffer.slice(this.index,this.index+c);return this.index+=c,u},o.prototype.unpack_string=function(c){for(var u=this.read(c),d=0,h="",p,g;d<c;)p=u[d],p<128?(h+=String.fromCharCode(p),d++):(p^192)<32?(g=(p^192)<<6|u[d+1]&63,h+=String.fromCharCode(g),d+=2):(g=(p&15)<<12|(u[d+1]&63)<<6|u[d+2]&63,h+=String.fromCharCode(g),d+=3);return this.index+=c,h},o.prototype.unpack_array=function(c){for(var u=new Array(c),d=0;d<c;d++)u[d]=this.unpack();return u},o.prototype.unpack_map=function(c){for(var u={},d=0;d<c;d++){var h=this.unpack(),p=this.unpack();u[h]=p}return u},o.prototype.unpack_float=function(){var c=this.unpack_uint32(),u=c>>31,d=(c>>23&255)-127,h=c&8388607|8388608;return(u===0?1:-1)*h*Math.pow(2,d-23)},o.prototype.unpack_double=function(){var c=this.unpack_uint32(),u=this.unpack_uint32(),d=c>>31,h=(c>>20&2047)-1023,p=c&1048575|1048576,g=p*Math.pow(2,h-20)+u*Math.pow(2,h-52);return(d===0?1:-1)*g},o.prototype.read=function(c){var u=this.index;if(u+c<=this.length)return this.dataView.subarray(u,u+c);throw new Error("BinaryPackFailure: read index out of range")};function s(){this.bufferBuilder=new n}s.prototype.getBuffer=function(){return this.bufferBuilder.getBuffer()},s.prototype.pack=function(c){var u=typeof c;if(u==="string")this.pack_string(c);else if(u==="number")Math.floor(c)===c?this.pack_integer(c):this.pack_double(c);else if(u==="boolean")c===!0?this.bufferBuilder.append(195):c===!1&&this.bufferBuilder.append(194);else if(u==="undefined")this.bufferBuilder.append(192);else if(u==="object")if(c===null)this.bufferBuilder.append(192);else{var d=c.constructor;if(d==Array)this.pack_array(c);else if(d==Blob||d==File||c instanceof Blob||c instanceof File)this.pack_bin(c);else if(d==ArrayBuffer)r.useArrayBufferView?this.pack_bin(new Uint8Array(c)):this.pack_bin(c);else if("BYTES_PER_ELEMENT"in c)r.useArrayBufferView?this.pack_bin(new Uint8Array(c.buffer)):this.pack_bin(c.buffer);else if(d==Object||d.toString().startsWith("class"))this.pack_object(c);else if(d==Date)this.pack_string(c.toString());else if(typeof c.toBinaryPack=="function")this.bufferBuilder.append(c.toBinaryPack());else throw new Error('Type "'+d.toString()+'" not yet supported')}else throw new Error('Type "'+u+'" not yet supported');this.bufferBuilder.flush()},s.prototype.pack_bin=function(c){var u=c.length||c.byteLength||c.size;if(u<=15)this.pack_uint8(160+u);else if(u<=65535)this.bufferBuilder.append(218),this.pack_uint16(u);else if(u<=4294967295)this.bufferBuilder.append(219),this.pack_uint32(u);else throw new Error("Invalid length");this.bufferBuilder.append(c)},s.prototype.pack_string=function(c){var u=l(c);if(u<=15)this.pack_uint8(176+u);else if(u<=65535)this.bufferBuilder.append(216),this.pack_uint16(u);else if(u<=4294967295)this.bufferBuilder.append(217),this.pack_uint32(u);else throw new Error("Invalid length");this.bufferBuilder.append(c)},s.prototype.pack_array=function(c){var u=c.length;if(u<=15)this.pack_uint8(144+u);else if(u<=65535)this.bufferBuilder.append(220),this.pack_uint16(u);else if(u<=4294967295)this.bufferBuilder.append(221),this.pack_uint32(u);else throw new Error("Invalid length");for(var d=0;d<u;d++)this.pack(c[d])},s.prototype.pack_integer=function(c){if(c>=-32&&c<=127)this.bufferBuilder.append(c&255);else if(c>=0&&c<=255)this.bufferBuilder.append(204),this.pack_uint8(c);else if(c>=-128&&c<=127)this.bufferBuilder.append(208),this.pack_int8(c);else if(c>=0&&c<=65535)this.bufferBuilder.append(205),this.pack_uint16(c);else if(c>=-32768&&c<=32767)this.bufferBuilder.append(209),this.pack_int16(c);else if(c>=0&&c<=4294967295)this.bufferBuilder.append(206),this.pack_uint32(c);else if(c>=-2147483648&&c<=2147483647)this.bufferBuilder.append(210),this.pack_int32(c);else if(c>=-9223372036854776e3&&c<=9223372036854776e3)this.bufferBuilder.append(211),this.pack_int64(c);else if(c>=0&&c<=18446744073709552e3)this.bufferBuilder.append(207),this.pack_uint64(c);else throw new Error("Invalid integer")},s.prototype.pack_double=function(c){var u=0;c<0&&(u=1,c=-c);var d=Math.floor(Math.log(c)/Math.LN2),h=c/Math.pow(2,d)-1,p=Math.floor(h*Math.pow(2,52)),g=Math.pow(2,32),m=u<<31|d+1023<<20|p/g&1048575,b=p%g;this.bufferBuilder.append(203),this.pack_int32(m),this.pack_int32(b)},s.prototype.pack_object=function(c){var u=Object.keys(c),d=u.length;if(d<=15)this.pack_uint8(128+d);else if(d<=65535)this.bufferBuilder.append(222),this.pack_uint16(d);else if(d<=4294967295)this.bufferBuilder.append(223),this.pack_uint32(d);else throw new Error("Invalid length");for(var h in c)c.hasOwnProperty(h)&&(this.pack(h),this.pack(c[h]))},s.prototype.pack_uint8=function(c){this.bufferBuilder.append(c)},s.prototype.pack_uint16=function(c){this.bufferBuilder.append(c>>8),this.bufferBuilder.append(c&255)},s.prototype.pack_uint32=function(c){var u=c&4294967295;this.bufferBuilder.append((u&4278190080)>>>24),this.bufferBuilder.append((u&16711680)>>>16),this.bufferBuilder.append((u&65280)>>>8),this.bufferBuilder.append(u&255)},s.prototype.pack_uint64=function(c){var u=c/Math.pow(2,32),d=c%Math.pow(2,32);this.bufferBuilder.append((u&4278190080)>>>24),this.bufferBuilder.append((u&16711680)>>>16),this.bufferBuilder.append((u&65280)>>>8),this.bufferBuilder.append(u&255),this.bufferBuilder.append((d&4278190080)>>>24),this.bufferBuilder.append((d&16711680)>>>16),this.bufferBuilder.append((d&65280)>>>8),this.bufferBuilder.append(d&255)},s.prototype.pack_int8=function(c){this.bufferBuilder.append(c&255)},s.prototype.pack_int16=function(c){this.bufferBuilder.append((c&65280)>>8),this.bufferBuilder.append(c&255)},s.prototype.pack_int32=function(c){this.bufferBuilder.append(c>>>24&255),this.bufferBuilder.append((c&16711680)>>>16),this.bufferBuilder.append((c&65280)>>>8),this.bufferBuilder.append(c&255)},s.prototype.pack_int64=function(c){var u=Math.floor(c/Math.pow(2,32)),d=c%Math.pow(2,32);this.bufferBuilder.append((u&4278190080)>>>24),this.bufferBuilder.append((u&16711680)>>>16),this.bufferBuilder.append((u&65280)>>>8),this.bufferBuilder.append(u&255),this.bufferBuilder.append((d&4278190080)>>>24),this.bufferBuilder.append((d&16711680)>>>16),this.bufferBuilder.append((d&65280)>>>8),this.bufferBuilder.append(d&255)};function a(c){var u=c.charCodeAt(0);return u<=2047?"00":u<=65535?"000":u<=2097151?"0000":u<=67108863?"00000":"000000"}function l(c){return c.length>600?new Blob([c]).size:c.replace(/[^\u0000-\u007F]/g,a).length}}}),M0=zx({"node_modules/eventemitter3/index.js"(e,t){var n=Object.prototype.hasOwnProperty,r="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(r=!1));function o(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function s(c,u,d,h,p){if(typeof d!="function")throw new TypeError("The listener must be a function");var g=new o(d,h||c,p),m=r?r+u:u;return c._events[m]?c._events[m].fn?c._events[m]=[c._events[m],g]:c._events[m].push(g):(c._events[m]=g,c._eventsCount++),c}function a(c,u){--c._eventsCount===0?c._events=new i:delete c._events[u]}function l(){this._events=new i,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,h;if(this._eventsCount===0)return u;for(h in d=this._events)n.call(d,h)&&u.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,h=this._events[d];if(!h)return[];if(h.fn)return[h.fn];for(var p=0,g=h.length,m=new Array(g);p<g;p++)m[p]=h[p].fn;return m},l.prototype.listenerCount=function(u){var d=r?r+u:u,h=this._events[d];return h?h.fn?1:h.length:0},l.prototype.emit=function(u,d,h,p,g,m){var b=r?r+u:u;if(!this._events[b])return!1;var y=this._events[b],A=arguments.length,x,S;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),A){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,h),!0;case 4:return y.fn.call(y.context,d,h,p),!0;case 5:return y.fn.call(y.context,d,h,p,g),!0;case 6:return y.fn.call(y.context,d,h,p,g,m),!0}for(S=1,x=new Array(A-1);S<A;S++)x[S-1]=arguments[S];y.fn.apply(y.context,x)}else{var _=y.length,w;for(S=0;S<_;S++)switch(y[S].once&&this.removeListener(u,y[S].fn,void 0,!0),A){case 1:y[S].fn.call(y[S].context);break;case 2:y[S].fn.call(y[S].context,d);break;case 3:y[S].fn.call(y[S].context,d,h);break;case 4:y[S].fn.call(y[S].context,d,h,p);break;default:if(!x)for(w=1,x=new Array(A-1);w<A;w++)x[w-1]=arguments[w];y[S].fn.apply(y[S].context,x)}}return!0},l.prototype.on=function(u,d,h){return s(this,u,d,h,!1)},l.prototype.once=function(u,d,h){return s(this,u,d,h,!0)},l.prototype.removeListener=function(u,d,h,p){var g=r?r+u:u;if(!this._events[g])return this;if(!d)return a(this,g),this;var m=this._events[g];if(m.fn)m.fn===d&&(!p||m.once)&&(!h||m.context===h)&&a(this,g);else{for(var b=0,y=[],A=m.length;b<A;b++)(m[b].fn!==d||p&&!m[b].once||h&&m[b].context!==h)&&y.push(m[b]);y.length?this._events[g]=y.length===1?y[0]:y:a(this,g)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&a(this,d)):(this._events=new i,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,typeof t<"u"&&(t.exports=l)}}),bC=Ah(Hq()),Gq={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"turn:0.peerjs.com:3478",username:"peerjs",credential:"peerjsp"}],sdpSemantics:"unified-plan"},ln=new class{constructor(){this.CLOUD_HOST="0.peerjs.com",this.CLOUD_PORT=443,this.chunkedMTU=16300,this.defaultConfig=Gq,this.pack=bC.pack,this.unpack=bC.unpack,this._dataCount=1}validateId(e){return!e||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(e)}chunk(e){const t=[],n=e.size,r=Math.ceil(n/ln.chunkedMTU);let i=0,o=0;for(;o<n;){const s=Math.min(n,o+ln.chunkedMTU),a=e.slice(o,s),l={__peerData:this._dataCount,n:i,data:a,total:r};t.push(l),o=s,i++}return this._dataCount++,t}blobToArrayBuffer(e,t,n){const r=new e;return r.onload=function(i){i.target&&n(i.target.result)},r.readAsArrayBuffer(t),r}binaryStringToArrayBuffer(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n)&255;return t.buffer}randomToken(){return Math.random().toString(36).substr(2)}isSecure(){return location.protocol==="https:"}},qq=Ah(M0()),Wq="PeerJS: ",Kq=class{constructor(){this._logLevel=0}get logLevel(){return this._logLevel}set logLevel(e){this._logLevel=e}log(...e){this._logLevel>=3&&this._print(3,...e)}warn(...e){this._logLevel>=2&&this._print(2,...e)}error(...e){this._logLevel>=1&&this._print(1,...e)}setLogFunction(e){this._print=e}_print(e,...t){const n=[Wq,...t];for(let r in n)n[r]instanceof Error&&(n[r]="("+n[r].name+") "+n[r].message);e>=3?console.log(...n):e>=2?console.warn("WARNING",...n):e>=1&&console.error("ERROR",...n)}},we=new Kq,Yq=Ah(M0()),Qq=class extends Yq.EventEmitter{constructor({secure:e,host:t,port:n,path:r,key:i,pingInterval:o=5e3,polyfills:s}){super(),this._disconnected=!0,this._id=null,this._messagesQueue=[],this.alive=!1,this._destroyed=!1;var a;this.pingInterval=o;const l=e?"wss://":"ws://";this._baseUrl=l+t+":"+n+r+"peerjs?key="+i,this.WebSocketConstructor=(a=s==null?void 0:s.WebSocket)!=null?a:window.WebSocket}get messagesQueue(){return this._messagesQueue}get destroyed(){return this._destroyed}start(e,t){if(this._destroyed)throw new Error("Socket was destroyed!");if(this._id=e,this._socket||!this._disconnected)return;const n=`${this._baseUrl}&id=${e}&token=${t}`;this._socket=new this.WebSocketConstructor(n),this._disconnected=!1,this._socket.onmessage=r=>{if(this._destroyed)return;let i;try{i=JSON.parse(r.data),we.log("Server message received:",i)}catch{we.log("Invalid server message",r.data);return}this.emit("message",i)},this._socket.onclose=r=>{this._disconnected||this._destroyed||(we.log("Socket closed.",r),this._cleanup(),this._disconnected=!0,this.emit("disconnected"))},this._socket.onopen=()=>{this._disconnected||this._destroyed||(we.log("Socket open"),this.emit("open"),this._sendQueuedMessages(),this._scheduleHeartbeat())}}_scheduleHeartbeat(){this._wsPingTimer=setTimeout(()=>{this._sendHeartbeat()},this.pingInterval)}_sendHeartbeat(){if(this._destroyed)return;if(!this._wsOpen()){we.log("Cannot send heartbeat, because socket closed");return}const e=JSON.stringify({type:"HEARTBEAT"});this._socket.send(e),this._scheduleHeartbeat()}_wsOpen(){return!!this._socket&&this._socket.readyState===1}_sendQueuedMessages(){const e=[...this._messagesQueue];this._messagesQueue=[];for(const t of e)this.send(t);e.length>0&&we.log(`${e.length} queued messages was sent`)}send(e){if(this._destroyed)throw new Error("Socket was destroyed!");if(!e.type){this.emit("error","Invalid message");return}if(!this.alive)return;if(this._id==null||!this._wsOpen()){this._messagesQueue.push(e);return}const t=JSON.stringify(e);this._socket.send(t)}close(){this._disconnected||(this._cleanup(),this._id=null,this._disconnected=!0)}_cleanup(){this._socket&&(this._socket.onopen=this._socket.onmessage=this._socket.onclose=null,this._socket.close(),this._socket=void 0),clearTimeout(this._wsPingTimer)}destroy(){this._destroyed||(this.close(),this._messagesQueue.length=0,this._destroyed=!0)}};function Jq(){}var g3=class{constructor(e){this.connection=e}get webRtc(){var e,t;return(t=(e=this.connection.provider.options.polyfills)==null?void 0:e.WebRTC)!=null?t:window}startConnection(e){const t=this._startPeerConnection();if(this.connection.peerConnection=t,this.connection.type==="media"&&e._stream&&this._addTracksToConnection(e._stream,t),e.originator){if(this.connection.type==="data"){const n=this.connection,r={ordered:!!e.reliable},i=t.createDataChannel(n.label,r);n.initialize(i)}this._makeOffer()}else this.handleSDP("OFFER",e.sdp)}_startPeerConnection(){we.log("Creating RTCPeerConnection.");const e=this.webRtc.RTCPeerConnection,t=new e(this.connection.provider.options.config);return this._setupListeners(t),t}_setupListeners(e){const t=this.connection.peer,n=this.connection.connectionId,r=this.connection.type,i=this.connection.provider;we.log("Listening for ICE candidates, remote streams and data channels."),e.onicecandidate=o=>{!o.candidate||!o.candidate.candidate||(we.log(`Received ICE candidates for ${t}:`,o.candidate),i.socket.send({type:"CANDIDATE",payload:{candidate:o.candidate,type:r,connectionId:n},dst:t}))},e.oniceconnectionstatechange=()=>{switch(e.iceConnectionState){case"failed":we.log("iceConnectionState is failed, closing connections to "+t),this.connection.emit("error",new Error("Negotiation of connection to "+t+" failed.")),this.connection.close();break;case"closed":we.log("iceConnectionState is closed, closing connections to "+t),this.connection.emit("error",new Error("Connection to "+t+" closed.")),this.connection.close();break;case"connected":we.log("iceConnectionState changed to connected on the connection with "+t);break;case"disconnected":we.log("iceConnectionState changed to disconnected on the connection with "+t);break;case"completed":we.log("iceConnectionState changed to completed on the connection with "+t),e.onicecandidate=Jq;break}this.connection.emit("iceStateChanged",e.iceConnectionState)},e.ondatachannel=o=>{we.log("Received data channel");const s=o.channel;i.getConnection(t,n).initialize(s)},e.ontrack=o=>{we.log("Received remote stream");const s=o.streams[0],a=i.getConnection(t,n);if(a.type==="media"){const l=a;this._addStreamToMediaConnection(s,l)}}}cleanup(){we.log("Cleaning up PeerConnection to "+this.connection.peer);const e=this.connection.peerConnection;if(!e)return;this.connection.peerConnection=null,e.onicecandidate=e.oniceconnectionstatechange=e.ondatachannel=e.ontrack=null;const t=e.signalingState!=="closed";let n=!1;if(this.connection.type==="data"){const i=this.connection.dataChannel;i&&(n=!!i.readyState&&i.readyState!=="closed")}(t||n)&&e.close()}_makeOffer(){return Sc(this,null,function*(){const e=this.connection.peerConnection,t=this.connection.provider;try{const n=yield e.createOffer(this.connection.options.constraints);if(e.signalingState==="closed")return;we.log("Created offer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(n.sdp=this.connection.options.sdpTransform(n.sdp)||n.sdp);try{yield e.setLocalDescription(n),we.log("Set localDescription:",n,`for:${this.connection.peer}`);let r={sdp:n,type:this.connection.type,connectionId:this.connection.connectionId,metadata:this.connection.metadata};if(this.connection.type==="data"){const i=this.connection;r=p3(Fx({},r),{label:i.label,reliable:i.reliable,serialization:i.serialization})}t.socket.send({type:"OFFER",payload:r,dst:this.connection.peer})}catch(r){r!="OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"&&(t.emitError("webrtc",r),we.log("Failed to setLocalDescription, ",r))}}catch(n){t.emitError("webrtc",n),we.log("Failed to createOffer, ",n)}})}_makeAnswer(){return Sc(this,null,function*(){const e=this.connection.peerConnection,t=this.connection.provider;try{const n=yield e.createAnswer();if(e.signalingState==="closed")return;we.log("Created answer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(n.sdp=this.connection.options.sdpTransform(n.sdp)||n.sdp);try{yield e.setLocalDescription(n),we.log("Set localDescription:",n,`for:${this.connection.peer}`),t.socket.send({type:"ANSWER",payload:{sdp:n,type:this.connection.type,connectionId:this.connection.connectionId},dst:this.connection.peer})}catch(r){t.emitError("webrtc",r),we.log("Failed to setLocalDescription, ",r)}}catch(n){t.emitError("webrtc",n),we.log("Failed to create answer, ",n)}})}handleSDP(e,t){return Sc(this,null,function*(){const n=this.webRtc.RTCSessionDescription;t=new n(t);const r=this.connection.peerConnection,i=this.connection.provider;we.log("Setting remote description",t);const o=this;try{yield r.setRemoteDescription(t),we.log(`Set remoteDescription:${e} for:${this.connection.peer}`),e==="OFFER"&&(yield o._makeAnswer())}catch(s){i.emitError("webrtc",s),we.log("Failed to setRemoteDescription, ",s)}})}handleCandidate(e){return Sc(this,null,function*(){we.log("handleCandidate:",e);const t=e.candidate,n=e.sdpMLineIndex,r=e.sdpMid,i=this.connection.peerConnection,o=this.connection.provider;try{const s=this.webRtc.RTCIceCandidate;yield i.addIceCandidate(new s({sdpMid:r,sdpMLineIndex:n,candidate:t})),we.log(`Added ICE candidate for:${this.connection.peer}`)}catch(s){o.emitError("webrtc",s),we.log("Failed to handleCandidate, ",s)}})}_addTracksToConnection(e,t){if(we.log(`add tracks from stream ${e.id} to peer connection`),!t.addTrack)return we.error("Your browser does't support RTCPeerConnection#addTrack. Ignored.");e.getTracks().forEach(n=>{t.addTrack(n,e)})}_addStreamToMediaConnection(e,t){we.log(`add stream ${e.id} to media connection ${t.connectionId}`),t.addStream(e)}},Xq=Ah(M0()),m3=class extends Xq.EventEmitter{constructor(e,t,n){super(),this.peer=e,this.provider=t,this.options=n,this._open=!1,this.metadata=n.metadata}get open(){return this._open}},v3=class extends m3{get type(){return"media"}get localStream(){return this._localStream}get remoteStream(){return this._remoteStream}constructor(e,t,n){super(e,t,n),this._localStream=this.options._stream,this.connectionId=this.options.connectionId||v3.ID_PREFIX+ln.randomToken(),this._negotiator=new g3(this),this._localStream&&this._negotiator.startConnection({_stream:this._localStream,originator:!0})}addStream(e){we.log("Receiving stream",e),this._remoteStream=e,super.emit("stream",e)}handleMessage(e){const t=e.type,n=e.payload;switch(e.type){case"ANSWER":this._negotiator.handleSDP(t,n.sdp),this._open=!0;break;case"CANDIDATE":this._negotiator.handleCandidate(n.candidate);break;default:we.warn(`Unrecognized message type:${t} from peer:${this.peer}`);break}}answer(e,t={}){if(this._localStream){we.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");return}this._localStream=e,t&&t.sdpTransform&&(this.options.sdpTransform=t.sdpTransform),this._negotiator.startConnection(p3(Fx({},this.options._payload),{_stream:e}));const n=this.provider._getMessages(this.connectionId);for(let r of n)this.handleMessage(r);this._open=!0}close(){this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this._localStream=null,this._remoteStream=null,this.provider&&(this.provider._removeConnection(this),this.provider=null),this.options&&this.options._stream&&(this.options._stream=null),this.open&&(this._open=!1,super.emit("close"))}},H1=v3;H1.ID_PREFIX="mc_";var Zq=Ah(M0()),eW=class extends Zq.EventEmitter{constructor(e){super(),this.fileReader=e,this._queue=[],this._processing=!1,this.fileReader.onload=t=>{this._processing=!1,t.target&&this.emit("done",t.target.result),this.doNextTask()},this.fileReader.onerror=t=>{we.error("EncodingQueue error:",t),this._processing=!1,this.destroy(),this.emit("error",t)}}get queue(){return this._queue}get size(){return this.queue.length}get processing(){return this._processing}enque(e){this.queue.push(e),!this.processing&&this.doNextTask()}destroy(){this.fileReader.abort(),this._queue=[]}doNextTask(){this.size!==0&&(this.processing||(this._processing=!0,this.fileReader.readAsArrayBuffer(this.queue.shift())))}},G1=class extends m3{constructor(e,t,n){super(e,t,n),this.stringify=JSON.stringify,this.parse=JSON.parse,this._buffer=[],this._bufferSize=0,this._buffering=!1,this._chunkedData={};var r,i;this.connectionId=this.options.connectionId||G1.ID_PREFIX+ln.randomToken(),this.label=this.options.label||this.connectionId,this.serialization=this.options.serialization||"binary",this.reliable=!!this.options.reliable,this.FileReaderCtr=(i=(r=t.options.polyfills)==null?void 0:r.FileReader)!=null?i:window.FileReader,this._encodingQueue=new eW(new this.FileReaderCtr),this._encodingQueue.on("done",o=>{this._bufferedSend(o)}),this._encodingQueue.on("error",()=>{we.error(`DC#${this.connectionId}: Error occured in encoding from blob to arraybuffer, close DC`),this.close()}),this._negotiator=new g3(this),this._negotiator.startConnection(this.options._payload||{originator:!0})}get type(){return"data"}get dataChannel(){return this._dc}get bufferSize(){return this._bufferSize}initialize(e){this._dc=e,this._configureDataChannel()}_configureDataChannel(){(!this.provider.features.binaryBlob||this.provider.features.reliable)&&(this.dataChannel.binaryType="arraybuffer"),this.dataChannel.onopen=()=>{we.log(`DC#${this.connectionId} dc connection success`),this._open=!0,this.emit("open")},this.dataChannel.onmessage=e=>{we.log(`DC#${this.connectionId} dc onmessage:`,e.data),this._handleDataMessage(e)},this.dataChannel.onclose=()=>{we.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}_handleDataMessage({data:e}){const t=e.constructor,n=this.serialization==="binary"||this.serialization==="binary-utf8";let r=e;if(n){if(t===Blob){ln.blobToArrayBuffer(this.FileReaderCtr,e,i=>{const o=ln.unpack(i);this.emit("data",o)});return}else if(t===ArrayBuffer)r=ln.unpack(e);else if(t===String){const i=ln.binaryStringToArrayBuffer(e);r=ln.unpack(i)}}else this.serialization==="json"&&(r=this.parse(e));if(r.__peerData){this._handleChunk(r);return}super.emit("data",r)}_handleChunk(e){const t=e.__peerData,n=this._chunkedData[t]||{data:[],count:0,total:e.total};if(n.data[e.n]=e.data,n.count++,this._chunkedData[t]=n,n.total===n.count){delete this._chunkedData[t];const r=new Blob(n.data);this._handleDataMessage({data:r})}}close(){this._buffer=[],this._bufferSize=0,this._chunkedData={},this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this.provider&&(this.provider._removeConnection(this),this.provider=null),this.dataChannel&&(this.dataChannel.onopen=null,this.dataChannel.onmessage=null,this.dataChannel.onclose=null,this._dc=null),this._encodingQueue&&(this._encodingQueue.destroy(),this._encodingQueue.removeAllListeners(),this._encodingQueue=null),this.open&&(this._open=!1,super.emit("close"))}send(e,t){if(!this.open){super.emit("error",new Error("Connection is not open. You should listen for the `open` event before sending messages."));return}if(this.serialization==="json")this._bufferedSend(this.stringify(e));else if(this.serialization==="binary"||this.serialization==="binary-utf8"){const n=ln.pack(e);if(!t&&n.size>ln.chunkedMTU){this._sendChunks(n);return}this.provider.features.binaryBlob?this._bufferedSend(n):this._encodingQueue.enque(n)}else this._bufferedSend(e)}_bufferedSend(e){(this._buffering||!this._trySend(e))&&(this._buffer.push(e),this._bufferSize=this._buffer.length)}_trySend(e){if(!this.open)return!1;if(this.dataChannel.bufferedAmount>G1.MAX_BUFFERED_AMOUNT)return this._buffering=!0,setTimeout(()=>{this._buffering=!1,this._tryBuffer()},50),!1;try{this.dataChannel.send(e)}catch(t){return we.error(`DC#:${this.connectionId} Error when sending:`,t),this._buffering=!0,this.close(),!1}return!0}_tryBuffer(){if(!this.open||this._buffer.length===0)return;const e=this._buffer[0];this._trySend(e)&&(this._buffer.shift(),this._bufferSize=this._buffer.length,this._tryBuffer())}_sendChunks(e){const t=ln.chunk(e);we.log(`DC#${this.connectionId} Try to send ${t.length} chunks...`);for(let n of t)this.send(n,!0)}handleMessage(e){const t=e.payload;switch(e.type){case"ANSWER":this._negotiator.handleSDP(e.type,t.sdp);break;case"CANDIDATE":this._negotiator.handleCandidate(t.candidate);break;default:we.warn("Unrecognized message type:",e.type,"from peer:",this.peer);break}}},Zg=G1;Zg.ID_PREFIX="dc_";Zg.MAX_BUFFERED_AMOUNT=8*1024*1024;var tW=class{constructor(e){this._options=e}_request(e){var t,n;return((n=(t=this._options.polyfills)==null?void 0:t.fetch)!=null?n:window.fetch)(e)}_buildUrl(e){let n=(this._options.secure?"https://":"http://")+this._options.host+":"+this._options.port+this._options.path+this._options.key+"/"+e;const r="?ts="+new Date().getTime()+Math.random();return n+=r,n}retrieveId(){return Sc(this,null,function*(){const e=this._buildUrl("id");try{const t=yield this._request(e);if(t.status!==200)throw new Error(`Error. Status:${t.status}`);return t.text()}catch(t){we.error("Error retrieving ID",t);let n="";throw this._options.path==="/"&&this._options.host!==ln.CLOUD_HOST&&(n=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),new Error("Could not get an ID from the server."+n)}})}listAllPeers(){return Sc(this,null,function*(){const e=this._buildUrl("peers");try{const t=yield this._request(e);if(t.status!==200){if(t.status===401){let n="";throw this._options.host===ln.CLOUD_HOST?n="It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":n="You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.",new Error("It doesn't look like you have permission to list peers IDs. "+n)}throw new Error(`Error. Status:${t.status}`)}return t.json()}catch(t){throw we.error("Error retrieving list peers",t),new Error("Could not get list peers from the server."+t)}})}},nW={isUnifiedPlanSupported(e){if(!e&&typeof window<"u"&&(e=window),typeof e.RTCRtpTransceiver>"u"||!("currentDirection"in e.RTCRtpTransceiver.prototype))return!1;let t,n=!1;try{t=new e.RTCPeerConnection,t.addTransceiver("audio"),n=!0}catch{}finally{t&&t.close()}return n}},Qa=class extends qq.EventEmitter{constructor(e,t){super(),this._id=null,this._lastServerId=null,this._destroyed=!1,this._disconnected=!1,this._open=!1,this._connections=new Map,this._lostMessages=new Map;var n;let r;if(e&&e.constructor==Object?t=e:e&&(r=e.toString()),t=Fx({debug:0,host:ln.CLOUD_HOST,port:ln.CLOUD_PORT,path:"/",key:Qa.DEFAULT_KEY,token:ln.randomToken(),config:ln.defaultConfig},t),this._options=t,typeof window<"u"&&this._options.host==="/"&&(this._options.host=window.location.hostname),this._options.path&&(this._options.path[0]!=="/"&&(this._options.path="/"+this._options.path),this._options.path[this._options.path.length-1]!=="/"&&(this._options.path+="/")),this._options.secure===void 0&&this._options.host!==ln.CLOUD_HOST?this._options.secure=ln.isSecure():this._options.host==ln.CLOUD_HOST&&(this._options.secure=!0),this._options.logFunction&&we.setLogFunction(this._options.logFunction),we.logLevel=this._options.debug||0,this._api=new tW(t),this._socket=this._createServerConnection(),this.features=Qa.getFeatures((n=this._options.polyfills)==null?void 0:n.WebRTC),!this.features.audioVideo&&!this.features.data){this._delayedAbort("browser-incompatible","The current browser does not support WebRTC");return}if(r&&!ln.validateId(r)){this._delayedAbort("invalid-id",`ID "${r}" is invalid`);return}this.socket.alive=!0,r?this._initialize(r):this._api.retrieveId().then(i=>this._initialize(i)).catch(i=>this._abort("server-error",i))}get id(){return this._id}get options(){return this._options}get open(){return this._open}get socket(){return this._socket}get connections(){const e=Object.create(null);for(let[t,n]of this._connections)e[t]=n;return e}get destroyed(){return this._destroyed}get disconnected(){return this._disconnected}_createServerConnection(){const e=new Qq(this._options);return e.on("message",t=>{this._handleMessage(t)}),e.on("error",t=>{this._abort("socket-error",t)}),e.on("disconnected",()=>{this.disconnected||(this.emitError("network","Lost connection to server."),this.disconnect())}),e.on("close",()=>{this.disconnected||this._abort("socket-closed","Underlying socket is already closed.")}),e}_initialize(e){this.destroyed||(this._id=e,this.socket.start(e,this._options.token))}_handleMessage(e){const t=e.type,n=e.payload,r=e.src;switch(t){case"OPEN":this._lastServerId=this.id,this._open=!0,this.emit("open",this.id);break;case"ERROR":this._abort("server-error",n.msg);break;case"ID-TAKEN":this._abort("unavailable-id",`ID "${this.id}" is taken`);break;case"INVALID-KEY":this._abort("invalid-key",`API KEY "${this._options.key}" is invalid`);break;case"LEAVE":we.log(`Received leave message from ${r}`),this._cleanupPeer(r),this._connections.delete(r);break;case"EXPIRE":this.emitError("peer-unavailable",`Could not connect to peer ${r}`);break;case"OFFER":{const i=n.connectionId;let o=this.getConnection(r,i);if(o&&(o.close(),we.warn(`Offer received for existing Connection ID:${i}`)),n.type==="media")o=new H1(r,this,{connectionId:i,_payload:n,metadata:n.metadata}),this._addConnection(r,o),this.emit("call",o);else if(n.type==="data")o=new Zg(r,this,{connectionId:i,_payload:n,metadata:n.metadata,label:n.label,serialization:n.serialization,reliable:n.reliable}),this._addConnection(r,o),this.emit("connection",o);else{we.warn(`Received malformed connection type:${n.type}`);return}const s=this._getMessages(i);for(let a of s)o.handleMessage(a);break}default:{if(!n){we.warn(`You received a malformed message from ${r} of type ${t}`);return}const i=n.connectionId,o=this.getConnection(r,i);o&&o.peerConnection?o.handleMessage(e):i?this._storeMessage(i,e):we.warn("You received an unrecognized message:",e);break}}}_storeMessage(e,t){this._lostMessages.has(e)||this._lostMessages.set(e,[]),this._lostMessages.get(e).push(t)}_getMessages(e){const t=this._lostMessages.get(e);return t?(this._lostMessages.delete(e),t):[]}connect(e,t={}){if(this.disconnected){we.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),this.emitError("disconnected","Cannot connect to new Peer after disconnecting from server.");return}const n=new Zg(e,this,t);return this._addConnection(e,n),n}call(e,t,n={}){if(this.disconnected){we.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),this.emitError("disconnected","Cannot connect to new Peer after disconnecting from server.");return}if(!t){we.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.");return}n._stream=t;const r=new H1(e,this,n);return this._addConnection(e,r),r}_addConnection(e,t){we.log(`add connection ${t.type}:${t.connectionId} to peerId:${e}`),this._connections.has(e)||this._connections.set(e,[]),this._connections.get(e).push(t)}_removeConnection(e){const t=this._connections.get(e.peer);if(t){const n=t.indexOf(e);n!==-1&&(t.splice(n,1),t.length===0&&this._connections.delete(e.peer))}this._lostMessages.delete(e.connectionId)}getConnection(e,t){const n=this._connections.get(e);if(!n)return null;for(let r of n)if(r.connectionId===t)return r;return null}_delayedAbort(e,t){setTimeout(()=>{this._abort(e,t)},0)}_abort(e,t){we.error("Aborting!"),this.emitError(e,t),this._lastServerId?this.disconnect():this.destroy()}emitError(e,t){we.error("Error:",t);let n;typeof t=="string"?n=new Error(t):n=t,n.type=e,this.emit("error",n)}destroy(){this.destroyed||(we.log(`Destroy peer with ID:${this.id}`),this.disconnect(),this._cleanup(),this.socket.destroy(),this._destroyed=!0,this.emit("close"))}_cleanup(){for(let e of this._connections.keys())this._cleanupPeer(e),this._connections.delete(e);this.socket.removeAllListeners()}_cleanupPeer(e){const t=this._connections.get(e);if(t)for(let n of t)n.close()}disconnect(){if(this.disconnected)return;const e=this.id;we.log(`Disconnect peer with ID:${e}`),this._disconnected=!0,this._open=!1,this.socket.alive=!1,this.socket.close(),this._lastServerId=e,this._id=null,this.emit("disconnected",e)}reconnect(){if(this.disconnected&&!this.destroyed)we.log(`Attempting reconnection to server with ID ${this._lastServerId}`),this._disconnected=!1,this.socket.alive=!0,this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error("This peer cannot reconnect to the server. It has already been destroyed.");if(!this.disconnected&&!this.open)we.error("In a hurry? We're still trying to make the initial connection!");else throw new Error(`Peer ${this.id} cannot reconnect because it is not disconnected from the server!`)}}listAllPeers(e=t=>{}){this._api.listAllPeers().then(t=>e(t)).catch(t=>this._abort("server-error",t))}static getFeatures(e){return!e&&typeof window<"u"&&(e=window),Qa._features||(Qa._features=Qa.checkFeatures(e)),Qa._features}static checkFeatures(e){!e&&typeof window<"u"&&(e=window);const t={webRTC:typeof e.RTCPeerConnection<"u",audioVideo:!0,data:!1,binaryBlob:!1,reliable:!1,unifiedPlan:!1};if(!t.webRTC)return t;let n;try{n=new e.RTCPeerConnection(ln.defaultConfig);let r;try{r=n.createDataChannel("_PEERJSTEST",{ordered:!0}),t.data=!0,t.reliable=!!r.ordered;try{r.binaryType="blob",t.binaryBlob=!0}catch{}}catch{}finally{r&&r.close()}}catch{}finally{n&&n.close()}return t.unifiedPlan=nW.isUnifiedPlanSupported(e),t}},j0=Qa;j0.DEFAULT_KEY="peerjs";typeof window<"u"&&(window.Peer=j0);class rW extends Bo{constructor(){super(...arguments),this.name="PeerJS",this.peer=null,this.connectedPeers={},this.getCurrentPing=()=>0,this.disconnect=()=>{var t;(t=this.peer)==null||t.disconnect()}}connect(t,n,r){this.peer=new j0(`allkaraoke-party-room-${t}`,d3),this.peer.on("open",function(i){n(),console.log("My peer ID is: "+i)}),this.peer.on("connection",i=>{this.connectedPeers[i.peer]=i,i.on("data",o=>{this.onUpdate(o,i)}),i.on("error",o=>console.warn("error",o)),i.on("iceStateChanged",o=>{(o==="disconnected"||o==="closed")&&(this.connectedPeers[i.peer]=i,this.onUpdate({t:"unregister"},i))}),i.on("close",()=>{delete this.connectedPeers[i.peer],Ze.removeRemoteMic(i.peer)})})}removePlayer(t){var n;(n=this.connectedPeers[t])==null||n.close()}}const y3="wss://backend.allkaraoke.party";class iW extends Bo{constructor(){super(),this.name="WebSockets",this.connection=null,this.disconnect=()=>{var t;(t=this.connection)==null||t.close()},this.latency=0,this.pingStart=Fr(),this.pinging=!1,this.pingTimeout=null,this.ping=()=>{var t;this.pinging=!0,this.pingStart=Fr(),(t=this.connection)==null||t.send(Yi({t:"ping"}))},this.onPong=()=>{this.pinging&&(this.latency=Fr()-this.pingStart,this.pinging=!1,this.pingTimeout&&clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(this.ping,5e3))},this.getCurrentPing=()=>this.pinging?Math.max(this.latency,Fr()-this.pingStart):this.latency}connect(t,n,r){this.connection=new WebSocket(y3),this.connection.binaryType="arraybuffer",this.connection.onopen=()=>{var i,o;(i=this.connection)==null||i.send(Yi({t:"register-room",id:t})),n(),this.ping(),(o=this.connection)==null||o.addEventListener("message",s=>{var l;const a=Pu(s.data);if(a.t==="forward"){["ping","pong","freq"].includes((l=a==null?void 0:a.payload)==null?void 0:l.t)||console.log("received",a);const{sender:c,payload:u}=a,d=new oW(c,this.connection);this.onUpdate(u,d)}else a.t==="pong"?this.onPong():console.warn("Unknown message type",a)})},this.connection.onclose=i=>{r(i.reason,i)}}removePlayer(t){var n;(n=this.connection)==null||n.send(Yi({t:"remove-player",id:t}))}}class oW{constructor(t,n){this.peer=t,this.socket=n,this.currentPing=0,this.send=r=>{const i={t:"forward",recipients:[this.peer],payload:r};["ping","pong","freq"].includes(r==null?void 0:r.t)||console.log("sending",this.peer,r),this.socket.send(Yi(i))},this.callbacksMap=new Map,this.on=(r,i)=>{r==="data"&&(this.callbacksMap.set(i,o=>{const s=Pu(o.data);if(s.t==="forward"){const{sender:a,payload:l}=s;a===this.peer&&i(l)}}),this.socket.addEventListener("message",this.callbacksMap.get(i)))},this.off=(r,i)=>{if(r==="data"){const o=this.callbacksMap.get(i);this.socket.removeEventListener("message",o),this.callbacksMap.delete(i)}},this.close=()=>{this.socket.close()}}}var A3={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(oa,function(){var n=1e3,r=6e4,i=36e5,o="millisecond",s="second",a="minute",l="hour",c="day",u="week",d="month",h="quarter",p="year",g="date",m="Invalid Date",b=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,y=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,A={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(j){var R=["th","st","nd","rd"],k=j%100;return"["+j+(R[(k-20)%10]||R[k]||R[0])+"]"}},x=function(j,R,k){var $=String(j);return!$||$.length>=R?j:""+Array(R+1-$.length).join(k)+j},S={s:x,z:function(j){var R=-j.utcOffset(),k=Math.abs(R),$=Math.floor(k/60),V=k%60;return(R<=0?"+":"-")+x($,2,"0")+":"+x(V,2,"0")},m:function j(R,k){if(R.date()<k.date())return-j(k,R);var $=12*(k.year()-R.year())+(k.month()-R.month()),V=R.clone().add($,d),z=k-V<0,B=R.clone().add($+(z?-1:1),d);return+(-($+(k-V)/(z?V-B:B-V))||0)},a:function(j){return j<0?Math.ceil(j)||0:Math.floor(j)},p:function(j){return{M:d,y:p,w:u,d:c,D:g,h:l,m:a,s,ms:o,Q:h}[j]||String(j||"").toLowerCase().replace(/s$/,"")},u:function(j){return j===void 0}},_="en",w={};w[_]=A;var E="$isDayjsObject",T=function(j){return j instanceof H||!(!j||!j[E])},O=function j(R,k,$){var V;if(!R)return _;if(typeof R=="string"){var z=R.toLowerCase();w[z]&&(V=z),k&&(w[z]=k,V=z);var B=R.split("-");if(!V&&B.length>1)return j(B[0])}else{var G=R.name;w[G]=R,V=G}return!$&&V&&(_=V),V||!$&&_},L=function(j,R){if(T(j))return j.clone();var k=typeof R=="object"?R:{};return k.date=j,k.args=arguments,new H(k)},N=S;N.l=O,N.i=T,N.w=function(j,R){return L(j,{locale:R.$L,utc:R.$u,x:R.$x,$offset:R.$offset})};var H=function(){function j(k){this.$L=O(k.locale,null,!0),this.parse(k),this.$x=this.$x||k.x||{},this[E]=!0}var R=j.prototype;return R.parse=function(k){this.$d=function($){var V=$.date,z=$.utc;if(V===null)return new Date(NaN);if(N.u(V))return new Date;if(V instanceof Date)return new Date(V);if(typeof V=="string"&&!/Z$/i.test(V)){var B=V.match(b);if(B){var G=B[2]-1||0,U=(B[7]||"0").substring(0,3);return z?new Date(Date.UTC(B[1],G,B[3]||1,B[4]||0,B[5]||0,B[6]||0,U)):new Date(B[1],G,B[3]||1,B[4]||0,B[5]||0,B[6]||0,U)}}return new Date(V)}(k),this.init()},R.init=function(){var k=this.$d;this.$y=k.getFullYear(),this.$M=k.getMonth(),this.$D=k.getDate(),this.$W=k.getDay(),this.$H=k.getHours(),this.$m=k.getMinutes(),this.$s=k.getSeconds(),this.$ms=k.getMilliseconds()},R.$utils=function(){return N},R.isValid=function(){return this.$d.toString()!==m},R.isSame=function(k,$){var V=L(k);return this.startOf($)<=V&&V<=this.endOf($)},R.isAfter=function(k,$){return L(k)<this.startOf($)},R.isBefore=function(k,$){return this.endOf($)<L(k)},R.$g=function(k,$,V){return N.u(k)?this[$]:this.set(V,k)},R.unix=function(){return Math.floor(this.valueOf()/1e3)},R.valueOf=function(){return this.$d.getTime()},R.startOf=function(k,$){var V=this,z=!!N.u($)||$,B=N.p(k),G=function(be,ae){var xe=N.w(V.$u?Date.UTC(V.$y,ae,be):new Date(V.$y,ae,be),V);return z?xe:xe.endOf(c)},U=function(be,ae){return N.w(V.toDate()[be].apply(V.toDate("s"),(z?[0,0,0,0]:[23,59,59,999]).slice(ae)),V)},te=this.$W,D=this.$M,ce=this.$D,X="set"+(this.$u?"UTC":"");switch(B){case p:return z?G(1,0):G(31,11);case d:return z?G(1,D):G(0,D+1);case u:var se=this.$locale().weekStart||0,Pe=(te<se?te+7:te)-se;return G(z?ce-Pe:ce+(6-Pe),D);case c:case g:return U(X+"Hours",0);case l:return U(X+"Minutes",1);case a:return U(X+"Seconds",2);case s:return U(X+"Milliseconds",3);default:return this.clone()}},R.endOf=function(k){return this.startOf(k,!1)},R.$set=function(k,$){var V,z=N.p(k),B="set"+(this.$u?"UTC":""),G=(V={},V[c]=B+"Date",V[g]=B+"Date",V[d]=B+"Month",V[p]=B+"FullYear",V[l]=B+"Hours",V[a]=B+"Minutes",V[s]=B+"Seconds",V[o]=B+"Milliseconds",V)[z],U=z===c?this.$D+($-this.$W):$;if(z===d||z===p){var te=this.clone().set(g,1);te.$d[G](U),te.init(),this.$d=te.set(g,Math.min(this.$D,te.daysInMonth())).$d}else G&&this.$d[G](U);return this.init(),this},R.set=function(k,$){return this.clone().$set(k,$)},R.get=function(k){return this[N.p(k)]()},R.add=function(k,$){var V,z=this;k=Number(k);var B=N.p($),G=function(D){var ce=L(z);return N.w(ce.date(ce.date()+Math.round(D*k)),z)};if(B===d)return this.set(d,this.$M+k);if(B===p)return this.set(p,this.$y+k);if(B===c)return G(1);if(B===u)return G(7);var U=(V={},V[a]=r,V[l]=i,V[s]=n,V)[B]||1,te=this.$d.getTime()+k*U;return N.w(te,this)},R.subtract=function(k,$){return this.add(-1*k,$)},R.format=function(k){var $=this,V=this.$locale();if(!this.isValid())return V.invalidDate||m;var z=k||"YYYY-MM-DDTHH:mm:ssZ",B=N.z(this),G=this.$H,U=this.$m,te=this.$M,D=V.weekdays,ce=V.months,X=V.meridiem,se=function(ae,xe,ze,Ne){return ae&&(ae[xe]||ae($,z))||ze[xe].slice(0,Ne)},Pe=function(ae){return N.s(G%12||12,ae,"0")},be=X||function(ae,xe,ze){var Ne=ae<12?"AM":"PM";return ze?Ne.toLowerCase():Ne};return z.replace(y,function(ae,xe){return xe||function(ze){switch(ze){case"YY":return String($.$y).slice(-2);case"YYYY":return N.s($.$y,4,"0");case"M":return te+1;case"MM":return N.s(te+1,2,"0");case"MMM":return se(V.monthsShort,te,ce,3);case"MMMM":return se(ce,te);case"D":return $.$D;case"DD":return N.s($.$D,2,"0");case"d":return String($.$W);case"dd":return se(V.weekdaysMin,$.$W,D,2);case"ddd":return se(V.weekdaysShort,$.$W,D,3);case"dddd":return D[$.$W];case"H":return String(G);case"HH":return N.s(G,2,"0");case"h":return Pe(1);case"hh":return Pe(2);case"a":return be(G,U,!0);case"A":return be(G,U,!1);case"m":return String(U);case"mm":return N.s(U,2,"0");case"s":return String($.$s);case"ss":return N.s($.$s,2,"0");case"SSS":return N.s($.$ms,3,"0");case"Z":return B}return null}(ae)||B.replace(":","")})},R.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},R.diff=function(k,$,V){var z,B=this,G=N.p($),U=L(k),te=(U.utcOffset()-this.utcOffset())*r,D=this-U,ce=function(){return N.m(B,U)};switch(G){case p:z=ce()/12;break;case d:z=ce();break;case h:z=ce()/3;break;case u:z=(D-te)/6048e5;break;case c:z=(D-te)/864e5;break;case l:z=D/i;break;case a:z=D/r;break;case s:z=D/n;break;default:z=D}return V?z:N.a(z)},R.daysInMonth=function(){return this.endOf(d).$D},R.$locale=function(){return w[this.$L]},R.locale=function(k,$){if(!k)return this.$L;var V=this.clone(),z=O(k,$,!0);return z&&(V.$L=z),V},R.clone=function(){return N.w(this.$d,this)},R.toDate=function(){return new Date(this.valueOf())},R.toJSON=function(){return this.isValid()?this.toISOString():null},R.toISOString=function(){return this.$d.toISOString()},R.toString=function(){return this.$d.toUTCString()},j}(),P=H.prototype;return L.prototype=P,[["$ms",o],["$s",s],["$m",a],["$H",l],["$W",c],["$M",d],["$y",p],["$D",g]].forEach(function(j){P[j[1]]=function(R){return this.$g(R,j[0],j[1])}}),L.extend=function(j,R){return j.$i||(j(R,H,L),j.$i=!0),L},L.locale=O,L.isDayjs=T,L.unix=function(j){return L(1e3*j)},L.en=w[_],L.Ls=w,L.p={},L})})(A3);var sW=A3.exports;const Eo=vr(sW);function q1(e){return!!e}function aW(e){return[...Array(e).keys()]}const lW=250,Sy=(e,t=0,n=1/0)=>e.filter(Et).filter(r=>Ta([r])>=t).filter(r=>If([r])<=n).reduce((r,i)=>r+i.notes.reduce((o,s)=>o+s.length,0),0),cW=(e,t)=>{const[n,...r]=e.filter(Et),i=[[n]];return r.forEach(o=>{const s=i.at(-1),a=If(s);(Ta([o])-a)*t>lW?i.push([o]):s.push(o)}),i},b3=(e,t)=>e+t,_C=e=>{const t=e.map(n=>n.reduce(b3,0));return Math.max(...t)-Math.min(...t)},uW=(e,t)=>{const n=JSON.parse(JSON.stringify(e)),r=o=>{if(n[o-1].length<2)return;const s=n[o-1].pop();n[o].push(s)},i=o=>{var l;if(((l=n[o+1])==null?void 0:l.length)<2)return;const[s,...a]=n[o+1];n[o].push(s),n[o+1]=a};return t%2===1?r(Math.ceil(t/2)):i(Math.ceil(t/2)),n},dW=e=>e.reduce(b3,0);function Ux(e,t){const r=zu(t);if(e.sections.length<9)return[];const i=cW(e.sections,r);let o=[],s=[Sy(i[0])];for(let a=0;a<i.length-2;a++){const l=i[o.flat().length-1]??[],u=Sy(e.sections,If(l)??0)/(10-o.length),d=Sy(i[a+1]),h=dW(s);h+d<u?s=[...s,d]:u-h<h+d-u?(o.push(s),s=[d]):(o.push([...s,d]),s=[])}for(let a=0;a<100;a++){const l=_C(o),c=aW((o.length-2)*2+2).map(p=>uW(o,p)),u=c.map(_C),d=Math.min(...u);if(l<=d)break;const h=u.indexOf(d);o=c[h]}return o.map(a=>a.length).reduce((a,l)=>[...a,(a.at(-1)??0)+l],[]).map(a=>If(i[a-1]))}var _3={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(oa,function(){function n(r){return typeof r=="string"?r.replace(/[^A-Za-z0-9]/g,function(i){return n.characters[i]||i}):r}return n.characters={Á:"A",Ă:"A",Ắ:"A",Ặ:"A",Ằ:"A",Ẳ:"A",Ẵ:"A",Ǎ:"A",Â:"A",Ấ:"A",Ậ:"A",Ầ:"A",Ẩ:"A",Ẫ:"A",Ä:"A",Ǟ:"A",Ȧ:"A",Ǡ:"A",Ạ:"A",Ȁ:"A",À:"A",Ả:"A",Ȃ:"A",Ā:"A",Ą:"A",Å:"A",Ǻ:"A",Ḁ:"A","Ⱥ":"A",Ã:"A","Ꜳ":"AA",Æ:"AE",Ǽ:"AE",Ǣ:"AE","Ꜵ":"AO","Ꜷ":"AU","Ꜹ":"AV","Ꜻ":"AV","Ꜽ":"AY",Ḃ:"B",Ḅ:"B",Ɓ:"B",Ḇ:"B","Ƀ":"B",Ƃ:"B",Ć:"C",Č:"C",Ç:"C",Ḉ:"C",Ĉ:"C",Ċ:"C",Ƈ:"C","Ȼ":"C",Ď:"D",Ḑ:"D",Ḓ:"D",Ḋ:"D",Ḍ:"D",Ɗ:"D",Ḏ:"D",ǲ:"D",ǅ:"D",Đ:"D",Ð:"D",Ƌ:"D",Ǳ:"DZ",Ǆ:"DZ",É:"E",Ĕ:"E",Ě:"E",Ȩ:"E",Ḝ:"E",Ê:"E",Ế:"E",Ệ:"E",Ề:"E",Ể:"E",Ễ:"E",Ḙ:"E",Ë:"E",Ė:"E",Ẹ:"E",Ȅ:"E",È:"E",Ẻ:"E",Ȇ:"E",Ē:"E",Ḗ:"E",Ḕ:"E",Ę:"E","Ɇ":"E",Ẽ:"E",Ḛ:"E","Ꝫ":"ET",Ḟ:"F",Ƒ:"F",Ǵ:"G",Ğ:"G",Ǧ:"G",Ģ:"G",Ĝ:"G",Ġ:"G",Ɠ:"G",Ḡ:"G",Ǥ:"G",Ḫ:"H",Ȟ:"H",Ḩ:"H",Ĥ:"H","Ⱨ":"H",Ḧ:"H",Ḣ:"H",Ḥ:"H",Ħ:"H",Í:"I",Ĭ:"I",Ǐ:"I",Î:"I",Ï:"I",Ḯ:"I",İ:"I",Ị:"I",Ȉ:"I",Ì:"I",Ỉ:"I",Ȋ:"I",Ī:"I",Į:"I",Ɨ:"I",Ĩ:"I",Ḭ:"I",І:"I","Ꝺ":"D","Ꝼ":"F","Ᵹ":"G","Ꞃ":"R","Ꞅ":"S","Ꞇ":"T","Ꝭ":"IS",Ĵ:"J","Ɉ":"J",Ḱ:"K",Ǩ:"K",Ķ:"K","Ⱪ":"K","Ꝃ":"K",Ḳ:"K",Ƙ:"K",Ḵ:"K","Ꝁ":"K","Ꝅ":"K",Ĺ:"L","Ƚ":"L",Ľ:"L",Ļ:"L",Ḽ:"L",Ḷ:"L",Ḹ:"L","Ⱡ":"L","Ꝉ":"L",Ḻ:"L",Ŀ:"L","Ɫ":"L",ǈ:"L",Ł:"L",Ǉ:"LJ",Ḿ:"M",Ṁ:"M",Ṃ:"M","Ɱ":"M",Ń:"N",Ň:"N",Ņ:"N",Ṋ:"N",Ṅ:"N",Ṇ:"N",Ǹ:"N",Ɲ:"N",Ṉ:"N","Ƞ":"N",ǋ:"N",Ñ:"N",Ǌ:"NJ",Ó:"O",Ŏ:"O",Ǒ:"O",Ô:"O",Ố:"O",Ộ:"O",Ồ:"O",Ổ:"O",Ỗ:"O",Ö:"O",Ȫ:"O",Ȯ:"O",Ȱ:"O",Ọ:"O",Ő:"O",Ȍ:"O",Ò:"O",Ỏ:"O",Ơ:"O",Ớ:"O",Ợ:"O",Ờ:"O",Ở:"O",Ỡ:"O",Ȏ:"O","Ꝋ":"O","Ꝍ":"O",Ō:"O",Ṓ:"O",Ṑ:"O",Ɵ:"O",Ǫ:"O",Ǭ:"O",Ø:"O",Ǿ:"O",Õ:"O",Ṍ:"O",Ṏ:"O",Ȭ:"O",Ƣ:"OI","Ꝏ":"OO",Ɛ:"E",Ɔ:"O",Ȣ:"OU",Ṕ:"P",Ṗ:"P","Ꝓ":"P",Ƥ:"P","Ꝕ":"P","Ᵽ":"P","Ꝑ":"P","Ꝙ":"Q","Ꝗ":"Q",Ŕ:"R",Ř:"R",Ŗ:"R",Ṙ:"R",Ṛ:"R",Ṝ:"R",Ȑ:"R",Ȓ:"R",Ṟ:"R","Ɍ":"R","Ɽ":"R","Ꜿ":"C",Ǝ:"E",Ś:"S",Ṥ:"S",Š:"S",Ṧ:"S",Ş:"S",Ŝ:"S",Ș:"S",Ṡ:"S",Ṣ:"S",Ṩ:"S",ß:"ss",Ť:"T",Ţ:"T",Ṱ:"T",Ț:"T","Ⱦ":"T",Ṫ:"T",Ṭ:"T",Ƭ:"T",Ṯ:"T",Ʈ:"T",Ŧ:"T","Ɐ":"A","Ꞁ":"L",Ɯ:"M","Ʌ":"V","Ꜩ":"TZ",Ú:"U",Ŭ:"U",Ǔ:"U",Û:"U",Ṷ:"U",Ü:"U",Ǘ:"U",Ǚ:"U",Ǜ:"U",Ǖ:"U",Ṳ:"U",Ụ:"U",Ű:"U",Ȕ:"U",Ù:"U",Ủ:"U",Ư:"U",Ứ:"U",Ự:"U",Ừ:"U",Ử:"U",Ữ:"U",Ȗ:"U",Ū:"U",Ṻ:"U",Ų:"U",Ů:"U",Ũ:"U",Ṹ:"U",Ṵ:"U","Ꝟ":"V",Ṿ:"V",Ʋ:"V",Ṽ:"V","Ꝡ":"VY",Ẃ:"W",Ŵ:"W",Ẅ:"W",Ẇ:"W",Ẉ:"W",Ẁ:"W","Ⱳ":"W",Ẍ:"X",Ẋ:"X",Ý:"Y",Ŷ:"Y",Ÿ:"Y",Ẏ:"Y",Ỵ:"Y",Ỳ:"Y",Ƴ:"Y",Ỷ:"Y","Ỿ":"Y",Ȳ:"Y","Ɏ":"Y",Ỹ:"Y",Ї:"YI",Ź:"Z",Ž:"Z",Ẑ:"Z","Ⱬ":"Z",Ż:"Z",Ẓ:"Z",Ȥ:"Z",Ẕ:"Z",Ƶ:"Z",Þ:"TH",Ĳ:"IJ",Œ:"OE","ᴀ":"A","ᴁ":"AE",ʙ:"B","ᴃ":"B","ᴄ":"C","ᴅ":"D","ᴇ":"E","ꜰ":"F",ɢ:"G",ʛ:"G",ʜ:"H",ɪ:"I",ʁ:"R","ᴊ":"J","ᴋ":"K",ʟ:"L","ᴌ":"L","ᴍ":"M",ɴ:"N","ᴏ":"O",ɶ:"OE","ᴐ":"O","ᴕ":"OU","ᴘ":"P",ʀ:"R","ᴎ":"N","ᴙ":"R","ꜱ":"S","ᴛ":"T","ⱻ":"E","ᴚ":"R","ᴜ":"U","ᴠ":"V","ᴡ":"W",ʏ:"Y","ᴢ":"Z",á:"a",ă:"a",ắ:"a",ặ:"a",ằ:"a",ẳ:"a",ẵ:"a",ǎ:"a",â:"a",ấ:"a",ậ:"a",ầ:"a",ẩ:"a",ẫ:"a",ä:"a",ǟ:"a",ȧ:"a",ǡ:"a",ạ:"a",ȁ:"a",à:"a",ả:"a",ȃ:"a",ā:"a",ą:"a","ᶏ":"a",ẚ:"a",å:"a",ǻ:"a",ḁ:"a","ⱥ":"a",ã:"a","ꜳ":"aa",æ:"ae",ǽ:"ae",ǣ:"ae","ꜵ":"ao","ꜷ":"au","ꜹ":"av","ꜻ":"av","ꜽ":"ay",ḃ:"b",ḅ:"b",ɓ:"b",ḇ:"b","ᵬ":"b","ᶀ":"b",ƀ:"b",ƃ:"b",ɵ:"o",ć:"c",č:"c",ç:"c",ḉ:"c",ĉ:"c",ɕ:"c",ċ:"c",ƈ:"c","ȼ":"c",ď:"d",ḑ:"d",ḓ:"d","ȡ":"d",ḋ:"d",ḍ:"d",ɗ:"d","ᶑ":"d",ḏ:"d","ᵭ":"d","ᶁ":"d",đ:"d",ɖ:"d",ƌ:"d",ð:"d",ı:"i","ȷ":"j",ɟ:"j",ʄ:"j",ǳ:"dz",ǆ:"dz",é:"e",ĕ:"e",ě:"e",ȩ:"e",ḝ:"e",ê:"e",ế:"e",ệ:"e",ề:"e",ể:"e",ễ:"e",ḙ:"e",ë:"e",ė:"e",ẹ:"e",ȅ:"e",è:"e",ẻ:"e",ȇ:"e",ē:"e",ḗ:"e",ḕ:"e","ⱸ":"e",ę:"e","ᶒ":"e","ɇ":"e",ẽ:"e",ḛ:"e","ꝫ":"et",ḟ:"f",ƒ:"f","ᵮ":"f","ᶂ":"f",ǵ:"g",ğ:"g",ǧ:"g",ģ:"g",ĝ:"g",ġ:"g",ɠ:"g",ḡ:"g","ᶃ":"g",ǥ:"g",ḫ:"h",ȟ:"h",ḩ:"h",ĥ:"h","ⱨ":"h",ḧ:"h",ḣ:"h",ḥ:"h",ɦ:"h",ẖ:"h",ħ:"h",ƕ:"hv",í:"i",ĭ:"i",ǐ:"i",î:"i",ï:"i",ḯ:"i",ị:"i",ȉ:"i",ì:"i",ỉ:"i",ȋ:"i",ī:"i",į:"i","ᶖ":"i",ɨ:"i",ĩ:"i",ḭ:"i",і:"i","ꝺ":"d","ꝼ":"f","ᵹ":"g","ꞃ":"r","ꞅ":"s","ꞇ":"t","ꝭ":"is",ǰ:"j",ĵ:"j",ʝ:"j","ɉ":"j",ḱ:"k",ǩ:"k",ķ:"k","ⱪ":"k","ꝃ":"k",ḳ:"k",ƙ:"k",ḵ:"k","ᶄ":"k","ꝁ":"k","ꝅ":"k",ĺ:"l",ƚ:"l",ɬ:"l",ľ:"l",ļ:"l",ḽ:"l","ȴ":"l",ḷ:"l",ḹ:"l","ⱡ":"l","ꝉ":"l",ḻ:"l",ŀ:"l",ɫ:"l","ᶅ":"l",ɭ:"l",ł:"l",ǉ:"lj",ſ:"s","ẜ":"s",ẛ:"s","ẝ":"s",ḿ:"m",ṁ:"m",ṃ:"m",ɱ:"m","ᵯ":"m","ᶆ":"m",ń:"n",ň:"n",ņ:"n",ṋ:"n","ȵ":"n",ṅ:"n",ṇ:"n",ǹ:"n",ɲ:"n",ṉ:"n",ƞ:"n","ᵰ":"n","ᶇ":"n",ɳ:"n",ñ:"n",ǌ:"nj",ó:"o",ŏ:"o",ǒ:"o",ô:"o",ố:"o",ộ:"o",ồ:"o",ổ:"o",ỗ:"o",ö:"o",ȫ:"o",ȯ:"o",ȱ:"o",ọ:"o",ő:"o",ȍ:"o",ò:"o",ỏ:"o",ơ:"o",ớ:"o",ợ:"o",ờ:"o",ở:"o",ỡ:"o",ȏ:"o","ꝋ":"o","ꝍ":"o","ⱺ":"o",ō:"o",ṓ:"o",ṑ:"o",ǫ:"o",ǭ:"o",ø:"o",ǿ:"o",õ:"o",ṍ:"o",ṏ:"o",ȭ:"o",ƣ:"oi","ꝏ":"oo",ɛ:"e","ᶓ":"e",ɔ:"o","ᶗ":"o",ȣ:"ou",ṕ:"p",ṗ:"p","ꝓ":"p",ƥ:"p","ᵱ":"p","ᶈ":"p","ꝕ":"p","ᵽ":"p","ꝑ":"p","ꝙ":"q",ʠ:"q","ɋ":"q","ꝗ":"q",ŕ:"r",ř:"r",ŗ:"r",ṙ:"r",ṛ:"r",ṝ:"r",ȑ:"r",ɾ:"r","ᵳ":"r",ȓ:"r",ṟ:"r",ɼ:"r","ᵲ":"r","ᶉ":"r","ɍ":"r",ɽ:"r","ↄ":"c","ꜿ":"c",ɘ:"e",ɿ:"r",ś:"s",ṥ:"s",š:"s",ṧ:"s",ş:"s",ŝ:"s",ș:"s",ṡ:"s",ṣ:"s",ṩ:"s",ʂ:"s","ᵴ":"s","ᶊ":"s","ȿ":"s",ɡ:"g","ᴑ":"o","ᴓ":"o","ᴝ":"u",ť:"t",ţ:"t",ṱ:"t",ț:"t","ȶ":"t",ẗ:"t","ⱦ":"t",ṫ:"t",ṭ:"t",ƭ:"t",ṯ:"t","ᵵ":"t",ƫ:"t",ʈ:"t",ŧ:"t","ᵺ":"th",ɐ:"a","ᴂ":"ae",ǝ:"e","ᵷ":"g",ɥ:"h","ʮ":"h","ʯ":"h","ᴉ":"i",ʞ:"k","ꞁ":"l",ɯ:"m",ɰ:"m","ᴔ":"oe",ɹ:"r",ɻ:"r",ɺ:"r","ⱹ":"r",ʇ:"t",ʌ:"v",ʍ:"w",ʎ:"y","ꜩ":"tz",ú:"u",ŭ:"u",ǔ:"u",û:"u",ṷ:"u",ü:"u",ǘ:"u",ǚ:"u",ǜ:"u",ǖ:"u",ṳ:"u",ụ:"u",ű:"u",ȕ:"u",ù:"u",ủ:"u",ư:"u",ứ:"u",ự:"u",ừ:"u",ử:"u",ữ:"u",ȗ:"u",ū:"u",ṻ:"u",ų:"u","ᶙ":"u",ů:"u",ũ:"u",ṹ:"u",ṵ:"u","ᵫ":"ue","ꝸ":"um","ⱴ":"v","ꝟ":"v",ṿ:"v",ʋ:"v","ᶌ":"v","ⱱ":"v",ṽ:"v","ꝡ":"vy",ẃ:"w",ŵ:"w",ẅ:"w",ẇ:"w",ẉ:"w",ẁ:"w","ⱳ":"w",ẘ:"w",ẍ:"x",ẋ:"x","ᶍ":"x",ý:"y",ŷ:"y",ÿ:"y",ẏ:"y",ỵ:"y",ỳ:"y",ƴ:"y",ỷ:"y","ỿ":"y",ȳ:"y",ẙ:"y","ɏ":"y",ỹ:"y",ї:"yi",ź:"z",ž:"z",ẑ:"z",ʑ:"z","ⱬ":"z",ż:"z",ẓ:"z",ȥ:"z",ẕ:"z","ᵶ":"z","ᶎ":"z",ʐ:"z",ƶ:"z","ɀ":"z",þ:"th",ﬀ:"ff",ﬃ:"ffi",ﬄ:"ffl",ﬁ:"fi",ﬂ:"fl",ĳ:"ij",œ:"oe",ﬆ:"st","ₐ":"a","ₑ":"e","ᵢ":"i","ⱼ":"j","ₒ":"o","ᵣ":"r","ᵤ":"u","ᵥ":"v","ₓ":"x",Ё:"YO",Й:"I",Ц:"TS",У:"U",К:"K",Е:"E",Н:"N",Г:"G",Ґ:"G",Ш:"SH",Щ:"SCH",З:"Z",Х:"H",Ъ:"'",ё:"yo",й:"i",ц:"ts",у:"u",к:"k",е:"e",н:"n",г:"g",ґ:"g",ш:"sh",щ:"sch",з:"z",х:"h",ъ:"'",Ф:"F",Ы:"I",В:"V",А:"a",П:"P",Р:"R",О:"O",Л:"L",Д:"D",Ж:"ZH",Э:"E",ф:"f",ы:"i",в:"v",а:"a",п:"p",р:"r",о:"o",л:"l",д:"d",ж:"zh",э:"e",Я:"Ya",Ч:"CH",С:"S",М:"M",И:"I",Т:"T",Ь:"'",Б:"B",Ю:"YU",я:"ya",ч:"ch",с:"s",м:"m",и:"i",т:"t",ь:"'",б:"b",ю:"yu"},n})})(_3);var fW=_3.exports;const hW=vr(fW),pW=/[^0-9a-z]/gi;function Pl(e){return Hx(e).toLowerCase().normalize("NFKD").replace(pW,"")}function Hx(e){return hW(e)}function x3(e){return Hx(e).toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+$/,"").replace(/^-+/,"").replace(/-+/g,"-")}function Gx(e){return e.id?e.id:x3(`${e==null?void 0:e.artist}-${e==null?void 0:e.title}`)}const xC=(e,t,n)=>n>=e&&n<=t,SC=e=>e.notes.map(t=>t.lyrics).join(""),wC=e=>new Set(Pl(e)).size,gW=(e,t)=>{const n=e.reduce((i,o)=>`${i}${SC(o)}`,""),r=SC(t);return wC(n)/wC(r)<.5},mW=(e,t)=>{const n=t.start,r=Rf(t),i=e.filter(s=>{const a=s.start,l=Rf(s);return xC(n,r,a)||xC(n,r,l)||a<=n&&l>=r}),o=gW(i,t);return{section:t,shouldReplace:i.length===0||o,sectionsToRemove:i}};function S3(e,t){if(e){if(e.length===1)return e[0]}else return e;const n=e.map(s=>s.sections.filter(Et)),r=n[1].map(s=>mW(n[0],s));let i=[...n[0]];r.forEach((s,a)=>{s.shouldReplace&&(i=i.filter(l=>!s.sectionsToRemove.some(c=>c.start===l.start)),i.push(s.section))});const o={...e[0],sections:i.sort((s,a)=>s.start-a.start),changes:[]};return o.changes=Ux(o,t),o}const EC={R:"rap",F:"freestyle","*":"star",":":"normal",G:"rapstar"},vW={rap:"R",freestyle:"F",star:"*",normal:":",rapstar:"G"},yW=["TRACKNAMES","YEAR","EDITION","GENRE","LANGUAGE","VIDEOGAP","PREVIEWSTART","CREATOR","TITLE","ARTIST","BPM","GAP","ID","LASTUPDATE","VOLUME","REALBPM","PREVIEWEND","CREATORURL","SOURCEURL","ARTISTORIGIN","VIDEOID","ALLKARAOKE_ID","ALLKARAOKE_LASTUPDATE","ALLKARAOKE_VOLUME","ALLKARAOKE_REALBPM","ALLKARAOKE_PREVIEWEND","ALLKARAOKE_CREATORURL","ALLKARAOKE_SOURCEURL","ALLKARAOKE_ARTISTORIGIN","ALLKARAOKE_VIDEOID"];function AW(e){return e.split(`
`).filter(t=>t.startsWith("#")&&!yW.includes(t.substring(1).split(":")[0]))}function Dt(e,t,n="string"){const r=i=>{var a;const o=new RegExp(`#${i}\\:(.*)`),s=(a=e.match(o))==null?void 0:a[1];if(s!==void 0)return n==="number"?Number(s.replace(",","."))??0:n==="array"?s.split(", "):s};return t.map(r).filter(q1).at(0)}function bW(e){var r;const t=Dt(e,["VIDEO"])??"",n=new RegExp("v=(.*?)(,|$)");return(r=t.match(n))==null?void 0:r[1]}const _W=/- -?\d+ -?\d+/;function kC(e){try{const t=new URL(e);return t.host==="youtu.be"?t.pathname.substring(1):t.host==="www.youtube.com"||t.host==="youtube.com"?t.searchParams.get("v"):null}catch{return null}}function xW(e,t){try{return JSON.parse(e)}catch{return t}}function SW(e){const t=Dt(e,["P1"]),n=Dt(e,["P2"]);return t||n?[t,n]:xW(Dt(e,["TRACKNAMES"]),[])}function wW(e,t,n,r,i){var p,g;const o=SW(e),s={year:Dt(e,["YEAR"]),artistOrigin:Dt(e,["ALLKARAOKE_ARTISTORIGIN","ARTISTORIGIN"]),lastUpdate:Dt(e,["ALLKARAOKE_LASTUPDATE","LASTUPDATE"]),edition:Dt(e,["EDITION"]),genre:Dt(e,["GENRE"]),videoGap:Dt(e,["VIDEOGAP"],"number"),realBpm:Dt(e,["ALLKARAOKE_REALBPM","REALBPM"],"number"),previewStart:Dt(e,["PREVIEWSTART"],"number"),previewEnd:Dt(e,["ALLKARAOKE_PREVIEWEND","PREVIEWEND"],"number"),volume:Dt(e,["ALLKARAOKE_VOLUME","VOLUME"],"number"),author:Dt(e,["CREATOR"])??n,authorUrl:Dt(e,["ALLKARAOKE_CREATORURL","CREATORURL"])??r,sourceUrl:Dt(e,["ALLKARAOKE_SOURCEURL","SOURCEURL"])??i};s.videoGap&&(s.videoGap=Math.floor(s.videoGap));const a=Dt(e,["TITLE"])??"",l=Dt(e,["ARTIST"])??"",c=Dt(e,["ALLKARAOKE_VIDEOID","VIDEOID"])??kC(Dt(e,["AUDIOURL"])??"")??kC(Dt(e,["VIDEOURL"])??"")??bW(e)??"",u={id:Dt(e,["ALLKARAOKE_ID","ID"])??Gx({title:a,artist:l}),title:a,artist:l,video:c,language:Dt(e,["LANGUAGE"],"array")??[],bpm:Number(((p=Dt(e,["BPM"]))==null?void 0:p.replace(",","."))??0),bar:4,gap:Number(((g=Dt(e,["GAP"]))==null?void 0:g.replace(",","."))??0),...s,tracks:[],unsupportedProps:AW(e),mergedTrack:{}};if((t==null?void 0:t.length)===11)u.video=t;else if(t)try{const m=new URL(t);u.video=m.searchParams.get("v")||"Invalid link"}catch(m){u.video=`Invalid link: ${m.message}`}let d=[],h=0;return e.split(`
`).forEach(m=>{if(m.startsWith("#"))return;const b=m.split(" ");if(Number(b[1])<h*.75&&d.length&&(o[u.tracks.length]?u.tracks.push({sections:d,name:o[u.tracks.length],changes:[]}):u.tracks.push({sections:d,changes:[]}),d=[]),_W.test(m)){const[,y,A]=b;d.push({start:Number(y),end:Number(A),type:"pause"}),d.push({start:Number(A),type:"notes",notes:[]}),h=Number(A)}else if(m.startsWith("-"))d.push({start:Number(m.split("-")[1].trim()),notes:[],type:"notes"});else if(Object.keys(EC).includes(m[0])){d.length===0&&(d=[{start:0,notes:[],type:"notes"}]);const y=d[d.length-1],[A,x,S,_,...w]=b;y.notes.push({type:EC[A]??"normal",start:Number(x),length:Number(S),pitch:Number(_),lyrics:w.join(" ")}),h=Number(b[1])}}),o[u.tracks.length]?u.tracks.push({sections:d,name:o[u.tracks.length],changes:[]}):u.tracks.push({sections:d,changes:[]}),u.tracks=u.tracks.map(m=>({...m,sections:m.sections.filter(b=>b.type==="pause"||b.notes.length),changes:[]})).map(m=>({...m,changes:Ux(m,u)})),u.mergedTrack=S3(u.tracks,u),u}const w3="CURRENT_VISIT_KEY",E3="LAST_VISIT_KEY",EW=3*60*60*1e3,O0=Date.now();var oM;const wy=Number(((oM=Ve.local)==null?void 0:oM.getItem(w3))??O0);var sM;const k3=((sM=Ve.local)==null?void 0:sM.getItem("posthog-user-id"))===null,kW=k3?O0:1673642382501;var aM;let C3=Number(((aM=Ve.local)==null?void 0:aM.getItem(E3))??kW);var lM;(k3||O0-wy>EW)&&((lM=Ve.local)==null||lM.setItem(E3,String(wy)),C3=wy);var cM;(cM=Ve.local)==null||cM.setItem(w3,String(O0));const CW=e=>Pl(`${e.artist}${e.title}`),TW=({bar:e,unsupportedProps:t,mergedTrack:n,...r},i=!1)=>({...r,id:Gx(r),language:Array.isArray(r.language)?r.language:[r.language],tracksCount:r.tracks.length,tracks:r.tracks.map(({name:o,sections:s})=>({name:o,start:Ta(s)})),search:CW(r),local:i});let sd=null;async function Ks(){if(!sd)if("localStorage"in globalThis)try{sd=Fu(()=>Promise.resolve().then(()=>N3),void 0).then(({default:e})=>e.createInstance({name:"songs_v2"}))}catch(e){console.error(e),sd=Promise.resolve(Ve.memory)}else sd=Promise.resolve(Ve.memory);return sd}const up="DELETED_SONGS_V2";class IW{constructor(){this.finalIndex=null,this.indexWithDeletedSongs=null,this.store=async t=>{var n;await((n=await Ks())==null?void 0:n.setItem(this.generateSongFile(t),{...t,lastUpdate:new Date().toISOString()})),await this.reloadIndex()},this.isOverridden=async t=>{const n=await this.getLocal(t);return n?!!n:!1},this.get=async t=>{const n=await this.getLocal(t);return n?{...n,local:!0}:await fetch(`/songs/${t}.txt`).then(r=>r.text()).then(wW).then(r=>({...r,local:!1}))},this.getIndex=async(t=!1)=>(this.finalIndex===null&&await this.reloadIndex(),t?this.indexWithDeletedSongs:this.finalIndex),this.getCurrentIndex=()=>this.finalIndex,this.getDeletedSongsList=async()=>{var n;return await((n=await Ks())==null?void 0:n.getItem(up))??[]},this.generateSongFile=t=>Gx(t),this.reloadIndex=async()=>{const[t,n,r]=await Promise.all([fetch("/songs/index.json").then(a=>a.json()),this.getLocalIndex(),this.getDeletedSongsList()]),i=Eo(C3),o=n.filter(a=>{const l=t.find(c=>c.id===a.id);return l?Eo(a.lastUpdate??0).isAfter(Eo(l.lastUpdate??0)):!0}),s=o.map(a=>a.id);n.forEach(async a=>{s.includes(a.id)||(await Ks()).removeItem(a.id)}),this.indexWithDeletedSongs=[...o,...t.filter(a=>!s.includes(this.generateSongFile(a)))].map(a=>({...a,isNew:a.lastUpdate?Eo(a.lastUpdate).isAfter(i):!1,isDeleted:r==null?void 0:r.includes(this.generateSongFile(a))})),this.indexWithDeletedSongs.sort((a,l)=>`${a.artist} ${a.title}`.localeCompare(`${l.artist} ${l.title}`.toLowerCase())),this.finalIndex=this.indexWithDeletedSongs.filter(a=>!a.isDeleted)},this.deleteSong=async t=>(await(await Ks()).removeItem(t),this.reloadIndex()),this.softDeleteSong=async t=>{const n=await this.getDeletedSongsList();return await(await Ks()).setItem(up,[...new Set([...n,t])]),this.reloadIndex()},this.restoreSong=async t=>{const n=await this.getDeletedSongsList();return await(await Ks()).setItem(up,n.filter(r=>r!==t)),this.reloadIndex()},this.getLocal=async t=>{var r;const n=await((r=await Ks())==null?void 0:r.getItem(decodeURIComponent(t)));return n&&n.tracks?{...n,language:Array.isArray(n.language)?n.language:[n.language],mergedTrack:S3(n.tracks,n),tracks:n.tracks.map(i=>({...i,changes:Ux(i,n)}))}:null},this.getLocalIndex=async()=>(await Promise.all((await this.getKeys()).map(this.getLocal))).filter(n=>n!==null).map(n=>{try{return TW(n,!0)}catch(r){return console.error(r),null}}).filter(n=>n!==null),this.getKeys=async()=>{const t=[up];return(await(await Ks()).keys()).filter(n=>!t.includes(n))}}}const eo=new IW,T3="room_id_key",Wd=5,I3=e=>{Ve.session.setItem(T3,e)};class RW{constructor(){var t;if(this.gameCode=Ve.session.getItem(T3),this.started=!1,this.start=()=>{if(!this.transport){const n=Ug.get();this.transport=n==="WebSockets"?new iW:n==="PartyKit"?new Mq:new rW}this.started||(this.started=!0,console.log("connection started",this.getGameCode()),I3(this.gameCode),this.transport.connect(this.getGameCode(),()=>{console.log("connected",this.getGameCode()),this.transport.addListener((n,r)=>{var o,s;const i=n.t;if(i==="register")Ze.addRemoteMic(n.id,n.name,r,n.silent,n.lag);else if(i==="unregister")Ze.removeRemoteMic(r.peer);else if(i==="subscribe-event")Ze.addSubscription(r.peer,n.channel);else if(i==="unsubscribe-event")Ze.removeSubscription(r.peer,n.channel);else if(i==="ping")r.send({t:"pong"});else if(i==="pong")(o=Ze.getRemoteMicById(r.peer))==null||o.onPong();else if(i==="request-songlist")Promise.all([eo.getLocalIndex(),eo.getDeletedSongsList()]).then(([a,l])=>{r.send({t:"songlist",custom:a.map(c=>({artist:c.artist,title:c.title,video:c.video,language:c.language,search:c.search})),deleted:l})});else if(i==="get-microphone-lag-request"){const a=Ze.getRemoteMicById(r.peer);a&&r.send({t:"get-microphone-lag-response",value:a.getInput().getInputLag()})}else if(i==="set-microphone-lag-request"){const a=Ze.getRemoteMicById(r.peer);a&&(a.getInput().setInputLag(n.value),r.send({t:"get-microphone-lag-response",value:a.getInput().getInputLag()}))}else Ze.getPermission(r.peer)==="write"&&(i==="keystroke"?ee.remoteKeyboardPressed.dispatch(n.key):i==="search-song"?ee.remoteSongSearch.dispatch(n.search):i==="select-song"?ee.remoteSongSelected.dispatch(n.id):i==="request-mic-select"?ee.playerChangeRequested.dispatch(n.id,n.playerNumber):i==="get-game-input-lag-request"?r.send({t:"get-game-input-lag-response",value:Ud.get()}):i==="remove-player"?(s=this.transport)==null||s.removePlayer(n.id):i==="set-game-input-lag-request"&&(Ud.set(n.value),r.send({t:"get-game-input-lag-response",value:Ud.get()})))}),ee.micServerStarted.dispatch()},()=>{ee.micServerStopped.dispatch(),this.started=!1,setTimeout(this.start,1e3)}))},this.isStarted=()=>this.started,this.getLatency=()=>{var n;return((n=this.transport)==null?void 0:n.getCurrentPing())??0},this.getGameCode=()=>{const n=Ug.get();return(n==="WebSockets"?"w":n==="PartyKit"?"k":"p")+this.gameCode},!this.gameCode){this.gameCode="";for(let n=0;n<Wd-1;n++)this.gameCode+=String.fromCharCode(Math.floor(Math.random()*26)+97)}(t=global==null?void 0:global.addEventListener)==null||t.call(global,"beforeunload",()=>{var n;Ze.getRemoteMics().forEach(r=>r.connection.close()),(n=this.transport)==null||n.disconnect()})}}const bl=new RW,Ml=e=>`${e.deviceId};${e.channel}`,CC=[{channels:2,channel:1,label:"Drawing Test Input",id:Ml({deviceId:"default",channel:1}),deviceId:"default"}],rl=class rl{};rl.inputName="DrawingTest",rl.getDefault=()=>CC[0],rl.getInputs=async()=>CC,rl.subscribeToListChange=t=>{},rl.unsubscribeToListChange=t=>{};let W1=rl;const TC=[{channels:2,channel:0,label:"Dummy Input 1",id:Ml({deviceId:"default",channel:0}),deviceId:"default"},{channels:2,channel:1,label:"Dummy Input 2",id:Ml({deviceId:"default",channel:1}),deviceId:"default"}],il=class il{};il.inputName="Dummy",il.getDefault=()=>TC[0],il.getInputs=async()=>TC,il.subscribeToListChange=t=>{},il.unsubscribeToListChange=t=>{};let em=il;var PW=Math.ceil,MW=Math.max;function jW(e,t,n,r){for(var i=-1,o=MW(PW((t-e)/(n||1)),0),s=Array(o);o--;)s[r?o:++i]=e,e+=n;return s}var OW=9007199254740991;function qx(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=OW}function Wx(e){return e!=null&&qx(e.length)&&!l3(e)}var VW=9007199254740991,LW=/^(?:0|[1-9]\d*)$/;function Kx(e,t){var n=typeof e;return t=t??VW,!!t&&(n=="number"||n!="symbol"&&LW.test(e))&&e>-1&&e%1==0&&e<t}function R3(e,t,n){if(!Lo(n))return!1;var r=typeof t;return(r=="number"?Wx(n)&&Kx(t,n.length):r=="string"&&t in n)?C0(n[t],e):!1}var IC=1/0,NW=17976931348623157e292;function cg(e){if(!e)return e===0?e:0;if(e=U1(e),e===IC||e===-IC){var t=e<0?-1:1;return t*NW}return e===e?e:0}function $W(e){return function(t,n,r){return r&&typeof r!="number"&&R3(t,n,r)&&(n=r=void 0),t=cg(t),n===void 0?(n=t,t=0):n=cg(n),r=r===void 0?t<n?1:-1:cg(r),jW(t,n,r,e)}}var DW=$W();const K1={test:e=>e.toLowerCase().includes("wireless mic #")||e.toLowerCase().includes("sony wireless singstar"),map:(e,t)=>`SingStar Wireless - ${t===0?"Blue":"Red"}`},Y1={test:e=>e.toLowerCase().includes("usbmic serial#")||e.toLowerCase().includes("singstar"),map:(e,t)=>`SingStar Wired - ${t===0?"Blue":"Red"}`},Q1={test:(e,t,n)=>n===2&&e.toLowerCase().includes("singstar"),map:(e,t)=>`SingStar Mic - ${t===0?"Blue":"Red"}`},BW=(...[e,t,n])=>Y1.test(e,t,n)||K1.test(e,t,n)||Q1.test(e,t,n)?t:void 0,FW=(e,t,n)=>K1.test(e,t,n)?K1.map(e,t):Y1.test(e,t,n)?Y1.map(e,t):Q1.test(e,t,n)?Q1.map(e,t):n>1?`${e} (ch ${t+1})`:e,Oi=class Oi{};Oi.inputList=[],Oi.inputName="Microphone",Oi.getDefault=()=>Oi.inputList.find(t=>t.id===Ml({deviceId:"default",channel:0}))??Oi.inputList[0]??null,Oi.getInputs=async()=>{let t=[];try{await ma.getUserMedia({audio:!0,video:!1}),t=await ma.enumerateDevices()}catch(r){Vo(r,{level:"warning",extra:{message:"Microphone.getInputs"}}),console.warn(r)}const n=await Promise.all(t.filter(r=>r.kind==="audioinput").map(async r=>{let i=1;try{i=(await ma.getUserMedia({audio:{deviceId:{exact:r.deviceId},echoCancellation:{exact:!1}},video:!1})).getAudioTracks()[0].getSettings().channelCount??1}catch(o){console.warn(o)}return DW(0,i).map(o=>({label:FW(r.label,o,i),channel:o,channels:i,deviceId:r.deviceId,id:Ml({deviceId:r.deviceId,channel:o}),preferred:BW(r.label,o,i)}))}));return Oi.inputList=n.flat(),Oi.inputList},Oi.subscribeToListChange=t=>navigator.mediaDevices.addEventListener("devicechange",t),Oi.unsubscribeToListChange=t=>navigator.mediaDevices.removeEventListener("devicechange",t);let Cs=Oi;const RC=e=>({label:`📱${e.name}`,id:Ml({deviceId:e.id,channel:0}),deviceId:e.id,channels:1,channel:0}),ol=class ol{};ol.inputName="Remote Microphone",ol.getDefault=()=>Ze.getRemoteMics().map(RC)[0]??null,ol.getInputs=async()=>Ze.getRemoteMics().map(RC),ol.subscribeToListChange=t=>{ee.remoteMicConnected.subscribe(t),ee.remoteMicDisconnected.subscribe(t)},ol.unsubscribeToListChange=t=>{ee.remoteMicConnected.unsubscribe(t),ee.remoteMicDisconnected.unsubscribe(t)};let js=ol;const zW=e=>`${e.deviceId};${e.channel}`;class UW{constructor(){this.initialiseInputSource=(t,n=!1)=>(n||t.getInputs().then(r=>{this.inputList[t.inputName].list=r,ee.inputListChanged.dispatch(!0),t.subscribeToListChange(async()=>{this.inputList[t.inputName].list=await t.getInputs(),ee.inputListChanged.dispatch(!1)})}),{list:[],getDefault:t.getDefault}),this.loadMics=()=>{this.inputList.Microphone.list.length||(this.inputList.Microphone=this.initialiseInputSource(Cs))},this.getInputList=()=>this.inputList,this.getInputForPlayerSelected=(t,n=!0)=>{const r=this.inputList[t.source];return r.list.find(i=>i.id===zW(t))??(n?r.getDefault():null)},this.inputList={[Cs.inputName]:this.initialiseInputSource(Cs,!0),[em.inputName]:this.initialiseInputSource(em),[js.inputName]:this.initialiseInputSource(js)}}}const Os=new UW,PC="playerselectedinputs",tm=4,Xm=class Xm{constructor(t,n,r){this.number=t,this.input=n,this.name=r,this.nameOverride="",this.changeInput=(i,o=0,s)=>{let a=null;_n.monitoringStarted()&&(a=_n.stopMonitoring());const l={source:i,deviceId:s,channel:o},c=this.input;this.input=l,ee.playerInputChanged.dispatch(this.number,c,l),a&&a.then(_n.startMonitoring)},this.toJSON=()=>({number:this.number,input:this.input,name:this.name}),this.getName=()=>this.nameOverride||(this.name??`Player #${this.number+1}`),this.isDefaultName=()=>this.name===void 0,this.setName=i=>{const o=this.name;this.name=i,ee.playerNameChanged.dispatch(this.number,o)}}};Xm.fromJSON=t=>new Xm(t.number,t.input,t.name);let wc=Xm;class HW{constructor(){this.minPlayerNumber=2,this.players=[],this.requestingPromise=null,this.storePlayers=()=>{Ve.session.setItem(PC,this.getPlayers().map(n=>n.toJSON()))},this.requestReadiness=async()=>(this.requestingPromise||(this.requestingPromise=new Promise(n=>{const r=async()=>{!this.getPlayers().filter(o=>o.input.source==="Remote Microphone").some(o=>Os.getInputForPlayerSelected(o.input,!1)===null)&&(await Promise.all(this.getPlayers().map(o=>_n.sourceNameToInput(o.input.source).requestReadiness(o.input.deviceId).then(()=>{ee.readinessConfirmed.dispatch(o.input.deviceId)}))),ee.inputListChanged.unsubscribe(r),this.requestingPromise=null,n(!0))};ee.inputListChanged.subscribe(r),r()})),this.requestingPromise),this.getPlayers=()=>this.players,this.getPlayer=n=>this.players.find(r=>r.number===n),this.getMinPlayerNumber=()=>this.minPlayerNumber,this.setMinPlayerNumber=n=>{const r=this.minPlayerNumber;this.minPlayerNumber=n,ee.minPlayerNumberChanged.dispatch(r,n)},this.addPlayer=n=>{if($e.isPlaying()||this.getPlayer(n))return;const r=new wc(n,{source:"Dummy",deviceId:"default",channel:0});return this.players.push(r),this.storePlayers(),ee.playerAdded.dispatch(r.number),ee.playerInputChanged.dispatch(r.number,void 0,r.input),r},this.removePlayer=n=>{if($e.isPlaying())return;const r=this.getPlayer(n);r&&(this.players=this.players.filter(i=>i.number!==n),this.players.length<this.minPlayerNumber&&this.addPlayer(new Array(tm).fill(0).find((i,o)=>!this.players.find(s=>s.number===o))),this.storePlayers(),ee.playerRemoved.dispatch(r))},this.getInputs=()=>this.getPlayers().map(n=>n.input);const t=Ve.session.getItem(PC)??[];t.length?(this.players=t.map(wc.fromJSON),this.getPlayers().some(n=>n.input.source==="Microphone")&&Os.loadMics(),this.getPlayers().some(n=>n.input.source==="Remote Microphone")&&bl.start()):this.players=[new wc(0,{source:"Dummy",deviceId:"default",channel:0}),new wc(1,{source:"Dummy",deviceId:"default",channel:1})],ee.playerInputChanged.subscribe((n,r,i)=>{const o=this.getPlayer(n);if(!(!i||!o)){if(i.source==="Remote Microphone"){const s=Ze.getRemoteMicById(i.deviceId);s&&(o.nameOverride=s.name)}else o.nameOverride="";this.storePlayers()}}),ee.playerNameChanged.subscribe(i3(this.storePlayers,1e3)),ee.remoteMicConnected.subscribe(({id:n,name:r})=>{this.getPlayers().forEach(i=>{i.input.source==="Remote Microphone"&&i.input.deviceId===n&&i.getName()!==r&&(i.nameOverride=r)})})}}const Oe=new HW;class GW{constructor(){this.isMonitoring=!1,this.getInputStatus=t=>{const n=Oe.getPlayer(t);return n?this.sourceNameToInput(n.input.source).getStatus(n.input.deviceId,n.input.channel):"unavailable"},this.getPlayerFrequency=t=>{var i;const n=(i=Oe.getPlayer(t))==null?void 0:i.input;return n?this.sourceNameToInput(n.source).getFrequencies(n.deviceId)[n.channel]:0},this.clearPlayerCachedFrequencies=t=>{var r;const n=(r=Oe.getPlayer(t))==null?void 0:r.input;if(!n)return 0;this.sourceNameToInput(n.source).clearFrequencies(n.deviceId)},this.getPlayerVolume=t=>{var i;const n=(i=Oe.getPlayer(t))==null?void 0:i.input;return n?this.sourceNameToInput(n.source).getVolumes(n.deviceId)[n.channel]:0},this.getPlayerInputLag=t=>{var r;const n=(r=Oe.getPlayer(t))==null?void 0:r.input;return n?this.sourceNameToInput(n.source).getInputLag(n.deviceId):0},this.startMonitoring=async()=>{await Promise.all(Oe.getPlayers().map(t=>this.sourceNameToInput(t.input.source).startMonitoring(t.input.deviceId))),this.isMonitoring=!0},this.stopMonitoring=async()=>{await Promise.all(Oe.getPlayers().map(t=>this.sourceNameToInput(t.input.source).stopMonitoring(t.input.deviceId))),this.isMonitoring=!1},this.monitoringStarted=()=>this.isMonitoring,this.sourceNameToInput=t=>t===Cs.inputName?oG:t===W1.inputName?G6:t===js.inputName?aG:W6,ee.inputListChanged.subscribe(async()=>{this.isMonitoring&&(await this.stopMonitoring(),this.startMonitoring())})}}const _n=new GW;function P3(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=P3(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function ca(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=P3(e))&&(r&&(r+=" "),r+=t);return r}const Kd=e=>typeof e=="number"&&!isNaN(e),jl=e=>typeof e=="string",Jr=e=>typeof e=="function",ug=e=>jl(e)||Jr(e)?e:null,Ey=e=>v.isValidElement(e)||jl(e)||Jr(e)||Kd(e);function qW(e,t,n){n===void 0&&(n=300);const{scrollHeight:r,style:i}=e;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)})})}function V0(e){let{enter:t,exit:n,appendPosition:r=!1,collapse:i=!0,collapseDuration:o=300}=e;return function(s){let{children:a,position:l,preventExitTransition:c,done:u,nodeRef:d,isIn:h}=s;const p=r?`${t}--${l}`:t,g=r?`${n}--${l}`:n,m=v.useRef(0);return v.useLayoutEffect(()=>{const b=d.current,y=p.split(" "),A=x=>{x.target===d.current&&(b.dispatchEvent(new Event("d")),b.removeEventListener("animationend",A),b.removeEventListener("animationcancel",A),m.current===0&&x.type!=="animationcancel"&&b.classList.remove(...y))};b.classList.add(...y),b.addEventListener("animationend",A),b.addEventListener("animationcancel",A)},[]),v.useEffect(()=>{const b=d.current,y=()=>{b.removeEventListener("animationend",y),i?qW(b,u,o):u()};h||(c?y():(m.current=1,b.className+=` ${g}`,b.addEventListener("animationend",y)))},[h]),ke.createElement(ke.Fragment,null,a)}}function MC(e,t){return e!=null?{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}:{}}const Ni={list:new Map,emitQueue:new Map,on(e,t){return this.list.has(e)||this.list.set(e,[]),this.list.get(e).push(t),this},off(e,t){if(t){const n=this.list.get(e).filter(r=>r!==t);return this.list.set(e,n),this}return this.list.delete(e),this},cancelEmit(e){const t=this.emitQueue.get(e);return t&&(t.forEach(clearTimeout),this.emitQueue.delete(e)),this},emit(e){this.list.has(e)&&this.list.get(e).forEach(t=>{const n=setTimeout(()=>{t(...[].slice.call(arguments,1))},0);this.emitQueue.has(e)||this.emitQueue.set(e,[]),this.emitQueue.get(e).push(n)})}},dp=e=>{let{theme:t,type:n,...r}=e;return ke.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...r})},ky={info:function(e){return ke.createElement(dp,{...e},ke.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return ke.createElement(dp,{...e},ke.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return ke.createElement(dp,{...e},ke.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return ke.createElement(dp,{...e},ke.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return ke.createElement("div",{className:"Toastify__spinner"})}};function WW(e){const[,t]=v.useReducer(p=>p+1,0),[n,r]=v.useState([]),i=v.useRef(null),o=v.useRef(new Map).current,s=p=>n.indexOf(p)!==-1,a=v.useRef({toastKey:1,displayedToast:0,count:0,queue:[],props:e,containerId:null,isToastActive:s,getToast:p=>o.get(p)}).current;function l(p){let{containerId:g}=p;const{limit:m}=a.props;!m||g&&a.containerId!==g||(a.count-=a.queue.length,a.queue=[])}function c(p){r(g=>p==null?[]:g.filter(m=>m!==p))}function u(){const{toastContent:p,toastProps:g,staleId:m}=a.queue.shift();h(p,g,m)}function d(p,g){let{delay:m,staleId:b,...y}=g;if(!Ey(p)||function(H){return!i.current||a.props.enableMultiContainer&&H.containerId!==a.props.containerId||o.has(H.toastId)&&H.updateId==null}(y))return;const{toastId:A,updateId:x,data:S}=y,{props:_}=a,w=()=>c(A),E=x==null;E&&a.count++;const T={..._,style:_.toastStyle,key:a.toastKey++,...Object.fromEntries(Object.entries(y).filter(H=>{let[P,j]=H;return j!=null})),toastId:A,updateId:x,data:S,closeToast:w,isIn:!1,className:ug(y.className||_.toastClassName),bodyClassName:ug(y.bodyClassName||_.bodyClassName),progressClassName:ug(y.progressClassName||_.progressClassName),autoClose:!y.isLoading&&(O=y.autoClose,L=_.autoClose,O===!1||Kd(O)&&O>0?O:L),deleteToast(){const H=MC(o.get(A),"removed");o.delete(A),Ni.emit(4,H);const P=a.queue.length;if(a.count=A==null?a.count-a.displayedToast:a.count-1,a.count<0&&(a.count=0),P>0){const j=A==null?a.props.limit:1;if(P===1||j===1)a.displayedToast++,u();else{const R=j>P?P:j;a.displayedToast=R;for(let k=0;k<R;k++)u()}}else t()}};var O,L;T.iconOut=function(H){let{theme:P,type:j,isLoading:R,icon:k}=H,$=null;const V={theme:P,type:j};return k===!1||(Jr(k)?$=k(V):v.isValidElement(k)?$=v.cloneElement(k,V):jl(k)||Kd(k)?$=k:R?$=ky.spinner():(z=>z in ky)(j)&&($=ky[j](V))),$}(T),Jr(y.onOpen)&&(T.onOpen=y.onOpen),Jr(y.onClose)&&(T.onClose=y.onClose),T.closeButton=_.closeButton,y.closeButton===!1||Ey(y.closeButton)?T.closeButton=y.closeButton:y.closeButton===!0&&(T.closeButton=!Ey(_.closeButton)||_.closeButton);let N=p;v.isValidElement(p)&&!jl(p.type)?N=v.cloneElement(p,{closeToast:w,toastProps:T,data:S}):Jr(p)&&(N=p({closeToast:w,toastProps:T,data:S})),_.limit&&_.limit>0&&a.count>_.limit&&E?a.queue.push({toastContent:N,toastProps:T,staleId:b}):Kd(m)?setTimeout(()=>{h(N,T,b)},m):h(N,T,b)}function h(p,g,m){const{toastId:b}=g;m&&o.delete(m);const y={content:p,props:g};o.set(b,y),r(A=>[...A,b].filter(x=>x!==m)),Ni.emit(4,MC(y,y.props.updateId==null?"added":"updated"))}return v.useEffect(()=>(a.containerId=e.containerId,Ni.cancelEmit(3).on(0,d).on(1,p=>i.current&&c(p)).on(5,l).emit(2,a),()=>{o.clear(),Ni.emit(3,a)}),[]),v.useEffect(()=>{a.props=e,a.isToastActive=s,a.displayedToast=n.length}),{getToastToRender:function(p){const g=new Map,m=Array.from(o.values());return e.newestOnTop&&m.reverse(),m.forEach(b=>{const{position:y}=b.props;g.has(y)||g.set(y,[]),g.get(y).push(b)}),Array.from(g,b=>p(b[0],b[1]))},containerRef:i,isToastActive:s}}function jC(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}function OC(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}function KW(e){const[t,n]=v.useState(!1),[r,i]=v.useState(!1),o=v.useRef(null),s=v.useRef({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,a=v.useRef(e),{autoClose:l,pauseOnHover:c,closeToast:u,onClick:d,closeOnClick:h}=e;function p(S){if(e.draggable){S.nativeEvent.type==="touchstart"&&S.nativeEvent.preventDefault(),s.didMove=!1,document.addEventListener("mousemove",y),document.addEventListener("mouseup",A),document.addEventListener("touchmove",y),document.addEventListener("touchend",A);const _=o.current;s.canCloseOnClick=!0,s.canDrag=!0,s.boundingRect=_.getBoundingClientRect(),_.style.transition="",s.x=jC(S.nativeEvent),s.y=OC(S.nativeEvent),e.draggableDirection==="x"?(s.start=s.x,s.removalDistance=_.offsetWidth*(e.draggablePercent/100)):(s.start=s.y,s.removalDistance=_.offsetHeight*(e.draggablePercent===80?1.5*e.draggablePercent:e.draggablePercent/100))}}function g(S){if(s.boundingRect){const{top:_,bottom:w,left:E,right:T}=s.boundingRect;S.nativeEvent.type!=="touchend"&&e.pauseOnHover&&s.x>=E&&s.x<=T&&s.y>=_&&s.y<=w?b():m()}}function m(){n(!0)}function b(){n(!1)}function y(S){const _=o.current;s.canDrag&&_&&(s.didMove=!0,t&&b(),s.x=jC(S),s.y=OC(S),s.delta=e.draggableDirection==="x"?s.x-s.start:s.y-s.start,s.start!==s.x&&(s.canCloseOnClick=!1),_.style.transform=`translate${e.draggableDirection}(${s.delta}px)`,_.style.opacity=""+(1-Math.abs(s.delta/s.removalDistance)))}function A(){document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",A),document.removeEventListener("touchmove",y),document.removeEventListener("touchend",A);const S=o.current;if(s.canDrag&&s.didMove&&S){if(s.canDrag=!1,Math.abs(s.delta)>s.removalDistance)return i(!0),void e.closeToast();S.style.transition="transform 0.2s, opacity 0.2s",S.style.transform=`translate${e.draggableDirection}(0)`,S.style.opacity="1"}}v.useEffect(()=>{a.current=e}),v.useEffect(()=>(o.current&&o.current.addEventListener("d",m,{once:!0}),Jr(e.onOpen)&&e.onOpen(v.isValidElement(e.children)&&e.children.props),()=>{const S=a.current;Jr(S.onClose)&&S.onClose(v.isValidElement(S.children)&&S.children.props)}),[]),v.useEffect(()=>(e.pauseOnFocusLoss&&(document.hasFocus()||b(),window.addEventListener("focus",m),window.addEventListener("blur",b)),()=>{e.pauseOnFocusLoss&&(window.removeEventListener("focus",m),window.removeEventListener("blur",b))}),[e.pauseOnFocusLoss]);const x={onMouseDown:p,onTouchStart:p,onMouseUp:g,onTouchEnd:g};return l&&c&&(x.onMouseEnter=b,x.onMouseLeave=m),h&&(x.onClick=S=>{d&&d(S),s.canCloseOnClick&&u()}),{playToast:m,pauseToast:b,isRunning:t,preventExitTransition:r,toastRef:o,eventHandlers:x}}function M3(e){let{closeToast:t,theme:n,ariaLabel:r="close"}=e;return ke.createElement("button",{className:`Toastify__close-button Toastify__close-button--${n}`,type:"button",onClick:i=>{i.stopPropagation(),t(i)},"aria-label":r},ke.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},ke.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function YW(e){let{delay:t,isRunning:n,closeToast:r,type:i="default",hide:o,className:s,style:a,controlledProgress:l,progress:c,rtl:u,isIn:d,theme:h}=e;const p=o||l&&c===0,g={...a,animationDuration:`${t}ms`,animationPlayState:n?"running":"paused",opacity:p?0:1};l&&(g.transform=`scaleX(${c})`);const m=ca("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${h}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":u}),b=Jr(s)?s({rtl:u,type:i,defaultClassName:m}):ca(m,s);return ke.createElement("div",{role:"progressbar","aria-hidden":p?"true":"false","aria-label":"notification timer",className:b,style:g,[l&&c>=1?"onTransitionEnd":"onAnimationEnd"]:l&&c<1?null:()=>{d&&r()}})}const QW=e=>{const{isRunning:t,preventExitTransition:n,toastRef:r,eventHandlers:i}=KW(e),{closeButton:o,children:s,autoClose:a,onClick:l,type:c,hideProgressBar:u,closeToast:d,transition:h,position:p,className:g,style:m,bodyClassName:b,bodyStyle:y,progressClassName:A,progressStyle:x,updateId:S,role:_,progress:w,rtl:E,toastId:T,deleteToast:O,isIn:L,isLoading:N,iconOut:H,closeOnClick:P,theme:j}=e,R=ca("Toastify__toast",`Toastify__toast-theme--${j}`,`Toastify__toast--${c}`,{"Toastify__toast--rtl":E},{"Toastify__toast--close-on-click":P}),k=Jr(g)?g({rtl:E,position:p,type:c,defaultClassName:R}):ca(R,g),$=!!w||!a,V={closeToast:d,type:c,theme:j};let z=null;return o===!1||(z=Jr(o)?o(V):v.isValidElement(o)?v.cloneElement(o,V):M3(V)),ke.createElement(h,{isIn:L,done:O,position:p,preventExitTransition:n,nodeRef:r},ke.createElement("div",{id:T,onClick:l,className:k,...i,style:m,ref:r},ke.createElement("div",{...L&&{role:_},className:Jr(b)?b({type:c}):ca("Toastify__toast-body",b),style:y},H!=null&&ke.createElement("div",{className:ca("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!N})},H),ke.createElement("div",null,s)),z,ke.createElement(YW,{...S&&!$?{key:`pb-${S}`}:{},rtl:E,theme:j,delay:a,isRunning:t,isIn:L,closeToast:d,hide:u,type:c,style:x,className:A,controlledProgress:$,progress:w||0})))},L0=function(e,t){return t===void 0&&(t=!1),{enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}},JW=V0(L0("bounce",!0));V0(L0("slide",!0));V0(L0("zoom"));V0(L0("flip"));const J1=v.forwardRef((e,t)=>{const{getToastToRender:n,containerRef:r,isToastActive:i}=WW(e),{className:o,style:s,rtl:a,containerId:l}=e;function c(u){const d=ca("Toastify__toast-container",`Toastify__toast-container--${u}`,{"Toastify__toast-container--rtl":a});return Jr(o)?o({position:u,rtl:a,defaultClassName:d}):ca(d,ug(o))}return v.useEffect(()=>{t&&(t.current=r.current)},[]),ke.createElement("div",{ref:r,className:"Toastify",id:l},n((u,d)=>{const h=d.length?{...s}:{...s,pointerEvents:"none"};return ke.createElement("div",{className:c(u),style:h,key:`container-${u}`},d.map((p,g)=>{let{content:m,props:b}=p;return ke.createElement(QW,{...b,isIn:i(b.toastId),style:{...b.style,"--nth":g+1,"--len":d.length},key:`toast-${b.key}`},m)}))}))});J1.displayName="ToastContainer",J1.defaultProps={position:"top-right",transition:JW,autoClose:5e3,closeButton:M3,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let Cy,Ja=new Map,Id=[],XW=1;function j3(){return""+XW++}function ZW(e){return e&&(jl(e.toastId)||Kd(e.toastId))?e.toastId:j3()}function Yd(e,t){return Ja.size>0?Ni.emit(0,e,t):Id.push({content:e,options:t}),t.toastId}function nm(e,t){return{...t,type:t&&t.type||e,toastId:ZW(t)}}function fp(e){return(t,n)=>Yd(t,nm(e,n))}function $t(e,t){return Yd(e,nm("default",t))}$t.loading=(e,t)=>Yd(e,nm("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),$t.promise=function(e,t,n){let r,{pending:i,error:o,success:s}=t;i&&(r=jl(i)?$t.loading(i,n):$t.loading(i.render,{...n,...i}));const a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(u,d,h)=>{if(d==null)return void $t.dismiss(r);const p={type:u,...a,...n,data:h},g=jl(d)?{render:d}:d;return r?$t.update(r,{...p,...g}):$t(g.render,{...p,...g}),h},c=Jr(e)?e():e;return c.then(u=>l("success",s,u)).catch(u=>l("error",o,u)),c},$t.success=fp("success"),$t.info=fp("info"),$t.error=fp("error"),$t.warning=fp("warning"),$t.warn=$t.warning,$t.dark=(e,t)=>Yd(e,nm("default",{theme:"dark",...t})),$t.dismiss=e=>{Ja.size>0?Ni.emit(1,e):Id=Id.filter(t=>e!=null&&t.options.toastId!==e)},$t.clearWaitingQueue=function(e){return e===void 0&&(e={}),Ni.emit(5,e)},$t.isActive=e=>{let t=!1;return Ja.forEach(n=>{n.isToastActive&&n.isToastActive(e)&&(t=!0)}),t},$t.update=function(e,t){t===void 0&&(t={}),setTimeout(()=>{const n=function(r,i){let{containerId:o}=i;const s=Ja.get(o||Cy);return s&&s.getToast(r)}(e,t);if(n){const{props:r,content:i}=n,o={delay:100,...r,...t,toastId:t.toastId||e,updateId:j3()};o.toastId!==e&&(o.staleId=e);const s=o.render||i;delete o.render,Yd(s,o)}},0)},$t.done=e=>{$t.update(e,{progress:1})},$t.onChange=e=>(Ni.on(4,e),()=>{Ni.off(4,e)}),$t.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},$t.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},Ni.on(2,e=>{Cy=e.containerId||e,Ja.set(Cy,e),Id.forEach(t=>{Ni.emit(0,t.content,t.options)}),Id=[]}).on(3,e=>{Ja.delete(e.containerId||e),Ja.size===0&&Ni.off(0).off(1).off(5)});ee.playerRemoved.subscribe(e=>{if(e.input.source===js.inputName){const t=Ze.getRemoteMicById(e.input.deviceId);t&&t.setPlayerNumber(null)}});ee.playerInputChanged.subscribe((e,t,n)=>{var r;if((t==null?void 0:t.source)===js.inputName){const i=(r=Oe.getPlayers().find(s=>s.input.source==="Remote Microphone"&&s.input.deviceId===t.deviceId))==null?void 0:r.number,o=Ze.getRemoteMicById(t.deviceId);o==null||o.setPlayerNumber(i!==void 0?i:null)}if((n==null?void 0:n.source)==="Remote Microphone"){const i=Ze.getRemoteMicById(n.deviceId);i==null||i.setPlayerNumber(e)}});ee.remoteMicConnected.subscribe(({id:e})=>{var n,r;const t=(n=Oe.getPlayers().find(i=>i.input.source==="Remote Microphone"&&i.input.deviceId===e))==null?void 0:n.number;if(t!==void 0){const i=Ze.getRemoteMicById(e);i==null||i.setPlayerNumber(t),_n.monitoringStarted()&&((r=i==null?void 0:i.getInput())==null||r.startMonitoring())}});ee.playerChangeRequested.subscribe((e,t)=>{var r;const n=Oe.getPlayers().find(i=>i.input.deviceId===e);if(n&&Oe.removePlayer(n.number),t!==null){const i=Oe.getPlayer(t);i?i.changeInput("Remote Microphone",0,e):(r=Oe.addPlayer(t))==null||r.changeInput("Remote Microphone",0,e)}});ee.remoteMicConnected.subscribe(({name:e,id:t,silent:n})=>{n||$t.success(f.jsxs(f.Fragment,{children:["Remote microphone ",f.jsx("b",{className:"ph-no-capture",children:e})," connected!"]}),{toastId:`connection-status-${t}`,updateId:`connection-status-${t}`})});ee.remoteMicDisconnected.subscribe(({name:e,id:t},n)=>{n||$t.warning(f.jsxs(f.Fragment,{children:["Remote microphone ",f.jsx("b",{className:"ph-no-capture",children:e})," disconnected!"]}),{toastId:`connection-status-${t}`,updateId:`connection-status-${t}`})});const Yx=()=>{const e=Ze.getRemoteMics().map(t=>{var n;return{id:t.id,name:t.name,number:((n=Oe.getPlayers().find(r=>r.input.deviceId===t.id))==null?void 0:n.number)??null}});Ze.broadcastToChannel("remote-mics",{t:"remote-mics-list",list:e})};ee.inputListChanged.subscribe(Yx);ee.playerInputChanged.subscribe(Yx);ee.remoteMicSubscribed.subscribe(Yx);const O3=e=>({artist:t,title:n,id:r,lastUpdate:i},o,s=[],a)=>{var u;const l=s.length>1&&s.every(d=>d.score===s[0].score),c={};if(Oe.getPlayers().forEach((d,h)=>c[`input${h}`]=d.input.source),e==="songEnded")try{const d=(u=$e.getPlayer(0))==null?void 0:u.getPlayerNotes().filter(p=>Xg(p)===0).map(p=>p.frequencyRecords).flat().map(p=>[p.timestamp,p.frequency]).map((p,g,m)=>{var b,y;return[p[0]-(((b=m[g-1])==null?void 0:b[0])??0),p[1]-(((y=m[g-1])==null?void 0:y[1])??0)]}).map(p=>[Math.round(p[0]*100),Math.round(p[1]*100)]).map(p=>p[1]===0?p[0]:p),h=Vj(d);console.log("compressed",h)}catch(d){Vo(d)}bn.capture(e,{songId:r,songLastUpdated:i,name:`${t} - ${n}`,artist:t,title:n,mode:o.mode,tolerance:o.tolerance,players:o.players.length,tracks:o.players.map(d=>d.track),progress:a??null,singId:o.id,sameScores:l,mobilePhoneMode:!!yr.get(),...c,...s.reduce((d,h,p)=>({...d,[`score${p}`]:h.score}),{}),...o.players.reduce((d,h,p)=>({...d,[`track${p}`]:h.track}),{})})};ee.songStarted.subscribe(O3("songStarted"));ee.songEnded.subscribe(O3("songEnded"));function hp(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var V3={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(e,t){(function(n){e.exports=n()})(function(){return function n(r,i,o){function s(c,u){if(!i[c]){if(!r[c]){var d=typeof hp=="function"&&hp;if(!u&&d)return d(c,!0);if(a)return a(c,!0);var h=new Error("Cannot find module '"+c+"'");throw h.code="MODULE_NOT_FOUND",h}var p=i[c]={exports:{}};r[c][0].call(p.exports,function(g){var m=r[c][1][g];return s(m||g)},p,p.exports,n,r,i,o)}return i[c].exports}for(var a=typeof hp=="function"&&hp,l=0;l<o.length;l++)s(o[l]);return s}({1:[function(n,r,i){(function(o){var s=o.MutationObserver||o.WebKitMutationObserver,a;if(s){var l=0,c=new s(g),u=o.document.createTextNode("");c.observe(u,{characterData:!0}),a=function(){u.data=l=++l%2}}else if(!o.setImmediate&&typeof o.MessageChannel<"u"){var d=new o.MessageChannel;d.port1.onmessage=g,a=function(){d.port2.postMessage(0)}}else"document"in o&&"onreadystatechange"in o.document.createElement("script")?a=function(){var b=o.document.createElement("script");b.onreadystatechange=function(){g(),b.onreadystatechange=null,b.parentNode.removeChild(b),b=null},o.document.documentElement.appendChild(b)}:a=function(){setTimeout(g,0)};var h,p=[];function g(){h=!0;for(var b,y,A=p.length;A;){for(y=p,p=[],b=-1;++b<A;)y[b]();A=p.length}h=!1}r.exports=m;function m(b){p.push(b)===1&&!h&&a()}}).call(this,typeof oa<"u"?oa:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(n,r,i){var o=n(1);function s(){}var a={},l=["REJECTED"],c=["FULFILLED"],u=["PENDING"];r.exports=d;function d(_){if(typeof _!="function")throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,_!==s&&m(this,_)}d.prototype.catch=function(_){return this.then(null,_)},d.prototype.then=function(_,w){if(typeof _!="function"&&this.state===c||typeof w!="function"&&this.state===l)return this;var E=new this.constructor(s);if(this.state!==u){var T=this.state===c?_:w;p(E,T,this.outcome)}else this.queue.push(new h(E,_,w));return E};function h(_,w,E){this.promise=_,typeof w=="function"&&(this.onFulfilled=w,this.callFulfilled=this.otherCallFulfilled),typeof E=="function"&&(this.onRejected=E,this.callRejected=this.otherCallRejected)}h.prototype.callFulfilled=function(_){a.resolve(this.promise,_)},h.prototype.otherCallFulfilled=function(_){p(this.promise,this.onFulfilled,_)},h.prototype.callRejected=function(_){a.reject(this.promise,_)},h.prototype.otherCallRejected=function(_){p(this.promise,this.onRejected,_)};function p(_,w,E){o(function(){var T;try{T=w(E)}catch(O){return a.reject(_,O)}T===_?a.reject(_,new TypeError("Cannot resolve promise with itself")):a.resolve(_,T)})}a.resolve=function(_,w){var E=b(g,w);if(E.status==="error")return a.reject(_,E.value);var T=E.value;if(T)m(_,T);else{_.state=c,_.outcome=w;for(var O=-1,L=_.queue.length;++O<L;)_.queue[O].callFulfilled(w)}return _},a.reject=function(_,w){_.state=l,_.outcome=w;for(var E=-1,T=_.queue.length;++E<T;)_.queue[E].callRejected(w);return _};function g(_){var w=_&&_.then;if(_&&(typeof _=="object"||typeof _=="function")&&typeof w=="function")return function(){w.apply(_,arguments)}}function m(_,w){var E=!1;function T(H){E||(E=!0,a.reject(_,H))}function O(H){E||(E=!0,a.resolve(_,H))}function L(){w(O,T)}var N=b(L);N.status==="error"&&T(N.value)}function b(_,w){var E={};try{E.value=_(w),E.status="success"}catch(T){E.status="error",E.value=T}return E}d.resolve=y;function y(_){return _ instanceof this?_:a.resolve(new this(s),_)}d.reject=A;function A(_){var w=new this(s);return a.reject(w,_)}d.all=x;function x(_){var w=this;if(Object.prototype.toString.call(_)!=="[object Array]")return this.reject(new TypeError("must be an array"));var E=_.length,T=!1;if(!E)return this.resolve([]);for(var O=new Array(E),L=0,N=-1,H=new this(s);++N<E;)P(_[N],N);return H;function P(j,R){w.resolve(j).then(k,function($){T||(T=!0,a.reject(H,$))});function k($){O[R]=$,++L===E&&!T&&(T=!0,a.resolve(H,O))}}}d.race=S;function S(_){var w=this;if(Object.prototype.toString.call(_)!=="[object Array]")return this.reject(new TypeError("must be an array"));var E=_.length,T=!1;if(!E)return this.resolve([]);for(var O=-1,L=new this(s);++O<E;)N(_[O]);return L;function N(H){w.resolve(H).then(function(P){T||(T=!0,a.resolve(L,P))},function(P){T||(T=!0,a.reject(L,P))})}}},{1:1}],3:[function(n,r,i){(function(o){typeof o.Promise!="function"&&(o.Promise=n(2))}).call(this,typeof oa<"u"?oa:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(n,r,i){var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C};function s(C,F){if(!(C instanceof F))throw new TypeError("Cannot call a class as a function")}function a(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var l=a();function c(){try{if(!l||!l.open)return!1;var C=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),F=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!C||F)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function u(C,F){C=C||[],F=F||{};try{return new Blob(C,F)}catch(q){if(q.name!=="TypeError")throw q;for(var M=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,W=new M,Q=0;Q<C.length;Q+=1)W.append(C[Q]);return W.getBlob(F.type)}}typeof Promise>"u"&&n(3);var d=Promise;function h(C,F){F&&C.then(function(M){F(null,M)},function(M){F(M)})}function p(C,F,M){typeof F=="function"&&C.then(F),typeof M=="function"&&C.catch(M)}function g(C){return typeof C!="string"&&(console.warn(C+" used as a key, but it is not a string."),C=String(C)),C}function m(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var b="local-forage-detect-blob-support",y=void 0,A={},x=Object.prototype.toString,S="readonly",_="readwrite";function w(C){for(var F=C.length,M=new ArrayBuffer(F),W=new Uint8Array(M),Q=0;Q<F;Q++)W[Q]=C.charCodeAt(Q);return M}function E(C){return new d(function(F){var M=C.transaction(b,_),W=u([""]);M.objectStore(b).put(W,"key"),M.onabort=function(Q){Q.preventDefault(),Q.stopPropagation(),F(!1)},M.oncomplete=function(){var Q=navigator.userAgent.match(/Chrome\/(\d+)/),q=navigator.userAgent.match(/Edge\//);F(q||!Q||parseInt(Q[1],10)>=43)}}).catch(function(){return!1})}function T(C){return typeof y=="boolean"?d.resolve(y):E(C).then(function(F){return y=F,y})}function O(C){var F=A[C.name],M={};M.promise=new d(function(W,Q){M.resolve=W,M.reject=Q}),F.deferredOperations.push(M),F.dbReady?F.dbReady=F.dbReady.then(function(){return M.promise}):F.dbReady=M.promise}function L(C){var F=A[C.name],M=F.deferredOperations.pop();if(M)return M.resolve(),M.promise}function N(C,F){var M=A[C.name],W=M.deferredOperations.pop();if(W)return W.reject(F),W.promise}function H(C,F){return new d(function(M,W){if(A[C.name]=A[C.name]||U(),C.db)if(F)O(C),C.db.close();else return M(C.db);var Q=[C.name];F&&Q.push(C.version);var q=l.open.apply(l,Q);F&&(q.onupgradeneeded=function(ne){var oe=q.result;try{oe.createObjectStore(C.storeName),ne.oldVersion<=1&&oe.createObjectStore(b)}catch(ue){if(ue.name==="ConstraintError")console.warn('The database "'+C.name+'" has been upgraded from version '+ne.oldVersion+" to version "+ne.newVersion+', but the storage "'+C.storeName+'" already exists.');else throw ue}}),q.onerror=function(ne){ne.preventDefault(),W(q.error)},q.onsuccess=function(){var ne=q.result;ne.onversionchange=function(oe){oe.target.close()},M(ne),L(C)}})}function P(C){return H(C,!1)}function j(C){return H(C,!0)}function R(C,F){if(!C.db)return!0;var M=!C.db.objectStoreNames.contains(C.storeName),W=C.version<C.db.version,Q=C.version>C.db.version;if(W&&(C.version!==F&&console.warn('The database "'+C.name+`" can't be downgraded from version `+C.db.version+" to version "+C.version+"."),C.version=C.db.version),Q||M){if(M){var q=C.db.version+1;q>C.version&&(C.version=q)}return!0}return!1}function k(C){return new d(function(F,M){var W=new FileReader;W.onerror=M,W.onloadend=function(Q){var q=btoa(Q.target.result||"");F({__local_forage_encoded_blob:!0,data:q,type:C.type})},W.readAsBinaryString(C)})}function $(C){var F=w(atob(C.data));return u([F],{type:C.type})}function V(C){return C&&C.__local_forage_encoded_blob}function z(C){var F=this,M=F._initReady().then(function(){var W=A[F._dbInfo.name];if(W&&W.dbReady)return W.dbReady});return p(M,C,C),M}function B(C){O(C);for(var F=A[C.name],M=F.forages,W=0;W<M.length;W++){var Q=M[W];Q._dbInfo.db&&(Q._dbInfo.db.close(),Q._dbInfo.db=null)}return C.db=null,P(C).then(function(q){return C.db=q,R(C)?j(C):q}).then(function(q){C.db=F.db=q;for(var ne=0;ne<M.length;ne++)M[ne]._dbInfo.db=q}).catch(function(q){throw N(C,q),q})}function G(C,F,M,W){W===void 0&&(W=1);try{var Q=C.db.transaction(C.storeName,F);M(null,Q)}catch(q){if(W>0&&(!C.db||q.name==="InvalidStateError"||q.name==="NotFoundError"))return d.resolve().then(function(){if(!C.db||q.name==="NotFoundError"&&!C.db.objectStoreNames.contains(C.storeName)&&C.version<=C.db.version)return C.db&&(C.version=C.db.version+1),j(C)}).then(function(){return B(C).then(function(){G(C,F,M,W-1)})}).catch(M);M(q)}}function U(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function te(C){var F=this,M={db:null};if(C)for(var W in C)M[W]=C[W];var Q=A[M.name];Q||(Q=U(),A[M.name]=Q),Q.forages.push(F),F._initReady||(F._initReady=F.ready,F.ready=z);var q=[];function ne(){return d.resolve()}for(var oe=0;oe<Q.forages.length;oe++){var ue=Q.forages[oe];ue!==F&&q.push(ue._initReady().catch(ne))}var de=Q.forages.slice(0);return d.all(q).then(function(){return M.db=Q.db,P(M)}).then(function(pe){return M.db=pe,R(M,F._defaultConfig.version)?j(M):pe}).then(function(pe){M.db=Q.db=pe,F._dbInfo=M;for(var Te=0;Te<de.length;Te++){var et=de[Te];et!==F&&(et._dbInfo.db=M.db,et._dbInfo.version=M.version)}})}function D(C,F){var M=this;C=g(C);var W=new d(function(Q,q){M.ready().then(function(){G(M._dbInfo,S,function(ne,oe){if(ne)return q(ne);try{var ue=oe.objectStore(M._dbInfo.storeName),de=ue.get(C);de.onsuccess=function(){var pe=de.result;pe===void 0&&(pe=null),V(pe)&&(pe=$(pe)),Q(pe)},de.onerror=function(){q(de.error)}}catch(pe){q(pe)}})}).catch(q)});return h(W,F),W}function ce(C,F){var M=this,W=new d(function(Q,q){M.ready().then(function(){G(M._dbInfo,S,function(ne,oe){if(ne)return q(ne);try{var ue=oe.objectStore(M._dbInfo.storeName),de=ue.openCursor(),pe=1;de.onsuccess=function(){var Te=de.result;if(Te){var et=Te.value;V(et)&&(et=$(et));var _t=C(et,Te.key,pe++);_t!==void 0?Q(_t):Te.continue()}else Q()},de.onerror=function(){q(de.error)}}catch(Te){q(Te)}})}).catch(q)});return h(W,F),W}function X(C,F,M){var W=this;C=g(C);var Q=new d(function(q,ne){var oe;W.ready().then(function(){return oe=W._dbInfo,x.call(F)==="[object Blob]"?T(oe.db).then(function(ue){return ue?F:k(F)}):F}).then(function(ue){G(W._dbInfo,_,function(de,pe){if(de)return ne(de);try{var Te=pe.objectStore(W._dbInfo.storeName);ue===null&&(ue=void 0);var et=Te.put(ue,C);pe.oncomplete=function(){ue===void 0&&(ue=null),q(ue)},pe.onabort=pe.onerror=function(){var _t=et.error?et.error:et.transaction.error;ne(_t)}}catch(_t){ne(_t)}})}).catch(ne)});return h(Q,M),Q}function se(C,F){var M=this;C=g(C);var W=new d(function(Q,q){M.ready().then(function(){G(M._dbInfo,_,function(ne,oe){if(ne)return q(ne);try{var ue=oe.objectStore(M._dbInfo.storeName),de=ue.delete(C);oe.oncomplete=function(){Q()},oe.onerror=function(){q(de.error)},oe.onabort=function(){var pe=de.error?de.error:de.transaction.error;q(pe)}}catch(pe){q(pe)}})}).catch(q)});return h(W,F),W}function Pe(C){var F=this,M=new d(function(W,Q){F.ready().then(function(){G(F._dbInfo,_,function(q,ne){if(q)return Q(q);try{var oe=ne.objectStore(F._dbInfo.storeName),ue=oe.clear();ne.oncomplete=function(){W()},ne.onabort=ne.onerror=function(){var de=ue.error?ue.error:ue.transaction.error;Q(de)}}catch(de){Q(de)}})}).catch(Q)});return h(M,C),M}function be(C){var F=this,M=new d(function(W,Q){F.ready().then(function(){G(F._dbInfo,S,function(q,ne){if(q)return Q(q);try{var oe=ne.objectStore(F._dbInfo.storeName),ue=oe.count();ue.onsuccess=function(){W(ue.result)},ue.onerror=function(){Q(ue.error)}}catch(de){Q(de)}})}).catch(Q)});return h(M,C),M}function ae(C,F){var M=this,W=new d(function(Q,q){if(C<0){Q(null);return}M.ready().then(function(){G(M._dbInfo,S,function(ne,oe){if(ne)return q(ne);try{var ue=oe.objectStore(M._dbInfo.storeName),de=!1,pe=ue.openKeyCursor();pe.onsuccess=function(){var Te=pe.result;if(!Te){Q(null);return}C===0||de?Q(Te.key):(de=!0,Te.advance(C))},pe.onerror=function(){q(pe.error)}}catch(Te){q(Te)}})}).catch(q)});return h(W,F),W}function xe(C){var F=this,M=new d(function(W,Q){F.ready().then(function(){G(F._dbInfo,S,function(q,ne){if(q)return Q(q);try{var oe=ne.objectStore(F._dbInfo.storeName),ue=oe.openKeyCursor(),de=[];ue.onsuccess=function(){var pe=ue.result;if(!pe){W(de);return}de.push(pe.key),pe.continue()},ue.onerror=function(){Q(ue.error)}}catch(pe){Q(pe)}})}).catch(Q)});return h(M,C),M}function ze(C,F){F=m.apply(this,arguments);var M=this.config();C=typeof C!="function"&&C||{},C.name||(C.name=C.name||M.name,C.storeName=C.storeName||M.storeName);var W=this,Q;if(!C.name)Q=d.reject("Invalid arguments");else{var q=C.name===M.name&&W._dbInfo.db,ne=q?d.resolve(W._dbInfo.db):P(C).then(function(oe){var ue=A[C.name],de=ue.forages;ue.db=oe;for(var pe=0;pe<de.length;pe++)de[pe]._dbInfo.db=oe;return oe});C.storeName?Q=ne.then(function(oe){if(oe.objectStoreNames.contains(C.storeName)){var ue=oe.version+1;O(C);var de=A[C.name],pe=de.forages;oe.close();for(var Te=0;Te<pe.length;Te++){var et=pe[Te];et._dbInfo.db=null,et._dbInfo.version=ue}var _t=new d(function(wt,On){var kn=l.open(C.name,ue);kn.onerror=function(Mi){var Zu=kn.result;Zu.close(),On(Mi)},kn.onupgradeneeded=function(){var Mi=kn.result;Mi.deleteObjectStore(C.storeName)},kn.onsuccess=function(){var Mi=kn.result;Mi.close(),wt(Mi)}});return _t.then(function(wt){de.db=wt;for(var On=0;On<pe.length;On++){var kn=pe[On];kn._dbInfo.db=wt,L(kn._dbInfo)}}).catch(function(wt){throw(N(C,wt)||d.resolve()).catch(function(){}),wt})}}):Q=ne.then(function(oe){O(C);var ue=A[C.name],de=ue.forages;oe.close();for(var pe=0;pe<de.length;pe++){var Te=de[pe];Te._dbInfo.db=null}var et=new d(function(_t,wt){var On=l.deleteDatabase(C.name);On.onerror=function(){var kn=On.result;kn&&kn.close(),wt(On.error)},On.onblocked=function(){console.warn('dropInstance blocked for database "'+C.name+'" until all open connections are closed')},On.onsuccess=function(){var kn=On.result;kn&&kn.close(),_t(kn)}});return et.then(function(_t){ue.db=_t;for(var wt=0;wt<de.length;wt++){var On=de[wt];L(On._dbInfo)}}).catch(function(_t){throw(N(C,_t)||d.resolve()).catch(function(){}),_t})})}return h(Q,F),Q}var Ne={_driver:"asyncStorage",_initStorage:te,_support:c(),iterate:ce,getItem:D,setItem:X,removeItem:se,clear:Pe,length:be,key:ae,keys:xe,dropInstance:ze};function _e(){return typeof openDatabase=="function"}var Ce="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ke="~~local_forage_type~",Ye=/^~~local_forage_type~([^~]+)~/,je="__lfsc__:",lt=je.length,Mt="arbf",on="blob",Vt="si08",xn="ui08",dt="uic8",xt="si16",Jt="si32",Je="ur16",Lt="ui32",ye="fl32",it="fl64",Sn=lt+Mt.length,ft=Object.prototype.toString;function ot(C){var F=C.length*.75,M=C.length,W,Q=0,q,ne,oe,ue;C[C.length-1]==="="&&(F--,C[C.length-2]==="="&&F--);var de=new ArrayBuffer(F),pe=new Uint8Array(de);for(W=0;W<M;W+=4)q=Ce.indexOf(C[W]),ne=Ce.indexOf(C[W+1]),oe=Ce.indexOf(C[W+2]),ue=Ce.indexOf(C[W+3]),pe[Q++]=q<<2|ne>>4,pe[Q++]=(ne&15)<<4|oe>>2,pe[Q++]=(oe&3)<<6|ue&63;return de}function sn(C){var F=new Uint8Array(C),M="",W;for(W=0;W<F.length;W+=3)M+=Ce[F[W]>>2],M+=Ce[(F[W]&3)<<4|F[W+1]>>4],M+=Ce[(F[W+1]&15)<<2|F[W+2]>>6],M+=Ce[F[W+2]&63];return F.length%3===2?M=M.substring(0,M.length-1)+"=":F.length%3===1&&(M=M.substring(0,M.length-2)+"=="),M}function gn(C,F){var M="";if(C&&(M=ft.call(C)),C&&(M==="[object ArrayBuffer]"||C.buffer&&ft.call(C.buffer)==="[object ArrayBuffer]")){var W,Q=je;C instanceof ArrayBuffer?(W=C,Q+=Mt):(W=C.buffer,M==="[object Int8Array]"?Q+=Vt:M==="[object Uint8Array]"?Q+=xn:M==="[object Uint8ClampedArray]"?Q+=dt:M==="[object Int16Array]"?Q+=xt:M==="[object Uint16Array]"?Q+=Je:M==="[object Int32Array]"?Q+=Jt:M==="[object Uint32Array]"?Q+=Lt:M==="[object Float32Array]"?Q+=ye:M==="[object Float64Array]"?Q+=it:F(new Error("Failed to get type for BinaryArray"))),F(Q+sn(W))}else if(M==="[object Blob]"){var q=new FileReader;q.onload=function(){var ne=Ke+C.type+"~"+sn(this.result);F(je+on+ne)},q.readAsArrayBuffer(C)}else try{F(JSON.stringify(C))}catch(ne){console.error("Couldn't convert value into a JSON string: ",C),F(null,ne)}}function Xt(C){if(C.substring(0,lt)!==je)return JSON.parse(C);var F=C.substring(Sn),M=C.substring(lt,Sn),W;if(M===on&&Ye.test(F)){var Q=F.match(Ye);W=Q[1],F=F.substring(Q[0].length)}var q=ot(F);switch(M){case Mt:return q;case on:return u([q],{type:W});case Vt:return new Int8Array(q);case xn:return new Uint8Array(q);case dt:return new Uint8ClampedArray(q);case xt:return new Int16Array(q);case Je:return new Uint16Array(q);case Jt:return new Int32Array(q);case Lt:return new Uint32Array(q);case ye:return new Float32Array(q);case it:return new Float64Array(q);default:throw new Error("Unkown type: "+M)}}var mt={serialize:gn,deserialize:Xt,stringToBuffer:ot,bufferToString:sn};function Fn(C,F,M,W){C.executeSql("CREATE TABLE IF NOT EXISTS "+F.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],M,W)}function Ar(C){var F=this,M={db:null};if(C)for(var W in C)M[W]=typeof C[W]!="string"?C[W].toString():C[W];var Q=new d(function(q,ne){try{M.db=openDatabase(M.name,String(M.version),M.description,M.size)}catch(oe){return ne(oe)}M.db.transaction(function(oe){Fn(oe,M,function(){F._dbInfo=M,q()},function(ue,de){ne(de)})},ne)});return M.serializer=mt,Q}function wn(C,F,M,W,Q,q){C.executeSql(M,W,Q,function(ne,oe){oe.code===oe.SYNTAX_ERR?ne.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[F.storeName],function(ue,de){de.rows.length?q(ue,oe):Fn(ue,F,function(){ue.executeSql(M,W,Q,q)},q)},q):q(ne,oe)},q)}function Ri(C,F){var M=this;C=g(C);var W=new d(function(Q,q){M.ready().then(function(){var ne=M._dbInfo;ne.db.transaction(function(oe){wn(oe,ne,"SELECT * FROM "+ne.storeName+" WHERE key = ? LIMIT 1",[C],function(ue,de){var pe=de.rows.length?de.rows.item(0).value:null;pe&&(pe=ne.serializer.deserialize(pe)),Q(pe)},function(ue,de){q(de)})})}).catch(q)});return h(W,F),W}function si(C,F){var M=this,W=new d(function(Q,q){M.ready().then(function(){var ne=M._dbInfo;ne.db.transaction(function(oe){wn(oe,ne,"SELECT * FROM "+ne.storeName,[],function(ue,de){for(var pe=de.rows,Te=pe.length,et=0;et<Te;et++){var _t=pe.item(et),wt=_t.value;if(wt&&(wt=ne.serializer.deserialize(wt)),wt=C(wt,_t.key,et+1),wt!==void 0){Q(wt);return}}Q()},function(ue,de){q(de)})})}).catch(q)});return h(W,F),W}function St(C,F,M,W){var Q=this;C=g(C);var q=new d(function(ne,oe){Q.ready().then(function(){F===void 0&&(F=null);var ue=F,de=Q._dbInfo;de.serializer.serialize(F,function(pe,Te){Te?oe(Te):de.db.transaction(function(et){wn(et,de,"INSERT OR REPLACE INTO "+de.storeName+" (key, value) VALUES (?, ?)",[C,pe],function(){ne(ue)},function(_t,wt){oe(wt)})},function(et){if(et.code===et.QUOTA_ERR){if(W>0){ne(St.apply(Q,[C,ue,M,W-1]));return}oe(et)}})})}).catch(oe)});return h(q,M),q}function En(C,F,M){return St.apply(this,[C,F,M,1])}function Le(C,F){var M=this;C=g(C);var W=new d(function(Q,q){M.ready().then(function(){var ne=M._dbInfo;ne.db.transaction(function(oe){wn(oe,ne,"DELETE FROM "+ne.storeName+" WHERE key = ?",[C],function(){Q()},function(ue,de){q(de)})})}).catch(q)});return h(W,F),W}function Xe(C){var F=this,M=new d(function(W,Q){F.ready().then(function(){var q=F._dbInfo;q.db.transaction(function(ne){wn(ne,q,"DELETE FROM "+q.storeName,[],function(){W()},function(oe,ue){Q(ue)})})}).catch(Q)});return h(M,C),M}function Kn(C){var F=this,M=new d(function(W,Q){F.ready().then(function(){var q=F._dbInfo;q.db.transaction(function(ne){wn(ne,q,"SELECT COUNT(key) as c FROM "+q.storeName,[],function(oe,ue){var de=ue.rows.item(0).c;W(de)},function(oe,ue){Q(ue)})})}).catch(Q)});return h(M,C),M}function ai(C,F){var M=this,W=new d(function(Q,q){M.ready().then(function(){var ne=M._dbInfo;ne.db.transaction(function(oe){wn(oe,ne,"SELECT key FROM "+ne.storeName+" WHERE id = ? LIMIT 1",[C+1],function(ue,de){var pe=de.rows.length?de.rows.item(0).key:null;Q(pe)},function(ue,de){q(de)})})}).catch(q)});return h(W,F),W}function Ae(C){var F=this,M=new d(function(W,Q){F.ready().then(function(){var q=F._dbInfo;q.db.transaction(function(ne){wn(ne,q,"SELECT key FROM "+q.storeName,[],function(oe,ue){for(var de=[],pe=0;pe<ue.rows.length;pe++)de.push(ue.rows.item(pe).key);W(de)},function(oe,ue){Q(ue)})})}).catch(Q)});return h(M,C),M}function De(C){return new d(function(F,M){C.transaction(function(W){W.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(Q,q){for(var ne=[],oe=0;oe<q.rows.length;oe++)ne.push(q.rows.item(oe).name);F({db:C,storeNames:ne})},function(Q,q){M(q)})},function(W){M(W)})})}function He(C,F){F=m.apply(this,arguments);var M=this.config();C=typeof C!="function"&&C||{},C.name||(C.name=C.name||M.name,C.storeName=C.storeName||M.storeName);var W=this,Q;return C.name?Q=new d(function(q){var ne;C.name===M.name?ne=W._dbInfo.db:ne=openDatabase(C.name,"","",0),C.storeName?q({db:ne,storeNames:[C.storeName]}):q(De(ne))}).then(function(q){return new d(function(ne,oe){q.db.transaction(function(ue){function de(_t){return new d(function(wt,On){ue.executeSql("DROP TABLE IF EXISTS "+_t,[],function(){wt()},function(kn,Mi){On(Mi)})})}for(var pe=[],Te=0,et=q.storeNames.length;Te<et;Te++)pe.push(de(q.storeNames[Te]));d.all(pe).then(function(){ne()}).catch(function(_t){oe(_t)})},function(ue){oe(ue)})})}):Q=d.reject("Invalid arguments"),h(Q,F),Q}var jn={_driver:"webSQLStorage",_initStorage:Ar,_support:_e(),iterate:si,getItem:Ri,setItem:En,removeItem:Le,clear:Xe,length:Kn,key:ai,keys:Ae,dropInstance:He};function Yn(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function li(C,F){var M=C.name+"/";return C.storeName!==F.storeName&&(M+=C.storeName+"/"),M}function Pi(){var C="_localforage_support_test";try{return localStorage.setItem(C,!0),localStorage.removeItem(C),!1}catch{return!0}}function sr(){return!Pi()||localStorage.length>0}function qr(C){var F=this,M={};if(C)for(var W in C)M[W]=C[W];return M.keyPrefix=li(C,F._defaultConfig),sr()?(F._dbInfo=M,M.serializer=mt,d.resolve()):d.reject()}function Nt(C){var F=this,M=F.ready().then(function(){for(var W=F._dbInfo.keyPrefix,Q=localStorage.length-1;Q>=0;Q--){var q=localStorage.key(Q);q.indexOf(W)===0&&localStorage.removeItem(q)}});return h(M,C),M}function za(C,F){var M=this;C=g(C);var W=M.ready().then(function(){var Q=M._dbInfo,q=localStorage.getItem(Q.keyPrefix+C);return q&&(q=Q.serializer.deserialize(q)),q});return h(W,F),W}function Kv(C,F){var M=this,W=M.ready().then(function(){for(var Q=M._dbInfo,q=Q.keyPrefix,ne=q.length,oe=localStorage.length,ue=1,de=0;de<oe;de++){var pe=localStorage.key(de);if(pe.indexOf(q)===0){var Te=localStorage.getItem(pe);if(Te&&(Te=Q.serializer.deserialize(Te)),Te=C(Te,pe.substring(ne),ue++),Te!==void 0)return Te}}});return h(W,F),W}function zh(C,F){var M=this,W=M.ready().then(function(){var Q=M._dbInfo,q;try{q=localStorage.key(C)}catch{q=null}return q&&(q=q.substring(Q.keyPrefix.length)),q});return h(W,F),W}function Uh(C){var F=this,M=F.ready().then(function(){for(var W=F._dbInfo,Q=localStorage.length,q=[],ne=0;ne<Q;ne++){var oe=localStorage.key(ne);oe.indexOf(W.keyPrefix)===0&&q.push(oe.substring(W.keyPrefix.length))}return q});return h(M,C),M}function Hh(C){var F=this,M=F.keys().then(function(W){return W.length});return h(M,C),M}function Gh(C,F){var M=this;C=g(C);var W=M.ready().then(function(){var Q=M._dbInfo;localStorage.removeItem(Q.keyPrefix+C)});return h(W,F),W}function jt(C,F,M){var W=this;C=g(C);var Q=W.ready().then(function(){F===void 0&&(F=null);var q=F;return new d(function(ne,oe){var ue=W._dbInfo;ue.serializer.serialize(F,function(de,pe){if(pe)oe(pe);else try{localStorage.setItem(ue.keyPrefix+C,de),ne(q)}catch(Te){(Te.name==="QuotaExceededError"||Te.name==="NS_ERROR_DOM_QUOTA_REACHED")&&oe(Te),oe(Te)}})})});return h(Q,M),Q}function fo(C,F){if(F=m.apply(this,arguments),C=typeof C!="function"&&C||{},!C.name){var M=this.config();C.name=C.name||M.name,C.storeName=C.storeName||M.storeName}var W=this,Q;return C.name?Q=new d(function(q){C.storeName?q(li(C,W._defaultConfig)):q(C.name+"/")}).then(function(q){for(var ne=localStorage.length-1;ne>=0;ne--){var oe=localStorage.key(ne);oe.indexOf(q)===0&&localStorage.removeItem(oe)}}):Q=d.reject("Invalid arguments"),h(Q,F),Q}var Ju={_driver:"localStorageWrapper",_initStorage:qr,_support:Yn(),iterate:Kv,getItem:za,setItem:jt,removeItem:Gh,clear:Nt,length:Hh,key:zh,keys:Uh,dropInstance:fo},Ua=function(F,M){return F===M||typeof F=="number"&&typeof M=="number"&&isNaN(F)&&isNaN(M)},Yv=function(F,M){for(var W=F.length,Q=0;Q<W;){if(Ua(F[Q],M))return!0;Q++}return!1},ic=Array.isArray||function(C){return Object.prototype.toString.call(C)==="[object Array]"},Xu={},HE={},oc={INDEXEDDB:Ne,WEBSQL:jn,LOCALSTORAGE:Ju},SD=[oc.INDEXEDDB._driver,oc.WEBSQL._driver,oc.LOCALSTORAGE._driver],qh=["dropInstance"],Qv=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(qh),wD={description:"",driver:SD.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function ED(C,F){C[F]=function(){var M=arguments;return C.ready().then(function(){return C[F].apply(C,M)})}}function Jv(){for(var C=1;C<arguments.length;C++){var F=arguments[C];if(F)for(var M in F)F.hasOwnProperty(M)&&(ic(F[M])?arguments[0][M]=F[M].slice():arguments[0][M]=F[M])}return arguments[0]}var kD=function(){function C(F){s(this,C);for(var M in oc)if(oc.hasOwnProperty(M)){var W=oc[M],Q=W._driver;this[M]=Q,Xu[Q]||this.defineDriver(W)}this._defaultConfig=Jv({},wD),this._config=Jv({},this._defaultConfig,F),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return C.prototype.config=function(M){if((typeof M>"u"?"undefined":o(M))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var W in M){if(W==="storeName"&&(M[W]=M[W].replace(/\W/g,"_")),W==="version"&&typeof M[W]!="number")return new Error("Database version must be a number.");this._config[W]=M[W]}return"driver"in M&&M.driver?this.setDriver(this._config.driver):!0}else return typeof M=="string"?this._config[M]:this._config},C.prototype.defineDriver=function(M,W,Q){var q=new d(function(ne,oe){try{var ue=M._driver,de=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!M._driver){oe(de);return}for(var pe=Qv.concat("_initStorage"),Te=0,et=pe.length;Te<et;Te++){var _t=pe[Te],wt=!Yv(qh,_t);if((wt||M[_t])&&typeof M[_t]!="function"){oe(de);return}}var On=function(){for(var Zu=function(ID){return function(){var RD=new Error("Method "+ID+" is not implemented by the current driver"),GE=d.reject(RD);return h(GE,arguments[arguments.length-1]),GE}},Xv=0,TD=qh.length;Xv<TD;Xv++){var Zv=qh[Xv];M[Zv]||(M[Zv]=Zu(Zv))}};On();var kn=function(Zu){Xu[ue]&&console.info("Redefining LocalForage driver: "+ue),Xu[ue]=M,HE[ue]=Zu,ne()};"_support"in M?M._support&&typeof M._support=="function"?M._support().then(kn,oe):kn(!!M._support):kn(!0)}catch(Mi){oe(Mi)}});return p(q,W,Q),q},C.prototype.driver=function(){return this._driver||null},C.prototype.getDriver=function(M,W,Q){var q=Xu[M]?d.resolve(Xu[M]):d.reject(new Error("Driver not found."));return p(q,W,Q),q},C.prototype.getSerializer=function(M){var W=d.resolve(mt);return p(W,M),W},C.prototype.ready=function(M){var W=this,Q=W._driverSet.then(function(){return W._ready===null&&(W._ready=W._initDriver()),W._ready});return p(Q,M,M),Q},C.prototype.setDriver=function(M,W,Q){var q=this;ic(M)||(M=[M]);var ne=this._getSupportedDrivers(M);function oe(){q._config.driver=q.driver()}function ue(Te){return q._extend(Te),oe(),q._ready=q._initStorage(q._config),q._ready}function de(Te){return function(){var et=0;function _t(){for(;et<Te.length;){var wt=Te[et];return et++,q._dbInfo=null,q._ready=null,q.getDriver(wt).then(ue).catch(_t)}oe();var On=new Error("No available storage method found.");return q._driverSet=d.reject(On),q._driverSet}return _t()}}var pe=this._driverSet!==null?this._driverSet.catch(function(){return d.resolve()}):d.resolve();return this._driverSet=pe.then(function(){var Te=ne[0];return q._dbInfo=null,q._ready=null,q.getDriver(Te).then(function(et){q._driver=et._driver,oe(),q._wrapLibraryMethodsWithReady(),q._initDriver=de(ne)})}).catch(function(){oe();var Te=new Error("No available storage method found.");return q._driverSet=d.reject(Te),q._driverSet}),p(this._driverSet,W,Q),this._driverSet},C.prototype.supports=function(M){return!!HE[M]},C.prototype._extend=function(M){Jv(this,M)},C.prototype._getSupportedDrivers=function(M){for(var W=[],Q=0,q=M.length;Q<q;Q++){var ne=M[Q];this.supports(ne)&&W.push(ne)}return W},C.prototype._wrapLibraryMethodsWithReady=function(){for(var M=0,W=Qv.length;M<W;M++)ED(this,Qv[M])},C.prototype.createInstance=function(M){return new C(M)},C}(),CD=new kD;r.exports=CD},{3:3}]},{},[4])(4)})})(V3);var L3=V3.exports;const Qd=vr(L3),N3=mM({__proto__:null,default:Qd},[L3]);let ad=null;async function rm(){if(!ad)if("localStorage"in globalThis)try{ad=Fu(()=>Promise.resolve().then(()=>N3),void 0).then(({default:e})=>e.createInstance({name:"localforage"}))}catch(e){console.error(e),ad=Promise.resolve(Ve.memory)}else ad=Promise.resolve(Ve.memory);return ad}const pu=e=>eo.generateSongFile(e),$3=async e=>{var n;const t=pu(e);return await((n=await rm())==null?void 0:n.getItem(t))||{plays:0,scores:[]}},D3=async(e,t)=>{var n;await((n=await rm())==null?void 0:n.setItem(pu(e),t))},eK=async()=>{var n;const e=await((n=await rm())==null?void 0:n.keys())??[],t={};return await Promise.all(e.map(async r=>{var i;t[r]=await((i=await rm())==null?void 0:i.getItem(r))})),t};ee.songEnded.subscribe(async(e,t,n,r)=>{if(n.every(s=>s.score===0))return;let i=await(Qd==null?void 0:Qd.getItem(pu(e)));const o={setup:t,scores:n,date:new Date().toISOString(),progress:r};i?(i.scores=[...(i==null?void 0:i.scores)??[],o],i.plays=i.scores.length):i={plays:1,scores:[o]},await D3(e,i),ee.songStatStored.dispatch(pu(e),i)});const gu="session-player-names",tK="previous-player-names";function nK(e){return e!=null}ee.songStarted.subscribe((e,t)=>{let n=JSON.parse(Ve.session.getItem(gu))||[];const r=t.players.map(({number:o})=>Oe.getPlayer(o)).filter(nK).map(o=>o.getName().trim()),i=[...n].concat(...r);n=[...new Set(i)].filter(Boolean),Ve.session.setItem(gu,JSON.stringify(n)),Ve.session.setItem(tK,JSON.stringify(r))});ee.songScoreUpdated.subscribe((e,t,n)=>{let r=JSON.parse(Ve.session.getItem(gu))||[];const i=[...r].concat(n);r=[...new Set(i)].filter(Boolean),Ve.session.setItem(gu,JSON.stringify(r))});function rK(e,t){const n=t<0?e.length+t:t;return e[n]}[].at||(Array.prototype.at=function(e){return rK(this,e)});[].findLastIndex||(Array.prototype.findLastIndex=function(e,t){for(let n=this.length-1;n>=0;n--)if(e.call(t,this[n],n,this))return n;return-1});var iK="Expected a function";function qc(e,t,n){var r=!0,i=!0;if(typeof e!="function")throw new TypeError(iK);return Lo(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),i3(e,t,{leading:r,maxWait:t,trailing:i})}class oK extends Bo{constructor(){super(...arguments),this.stream=null,this.context=null,this.interval=null,this.frequencies=[0,0],this.volumes=[0,0],this.startedMonitoring=!1,this.startMonitoring=async(t,n=!1)=>{if(!this.startedMonitoring){this.startedMonitoring=!0;try{this.stream=await ma.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!1},video:!1});try{this.context=new AudioContext;const r=this.context.createMediaStreamSource(this.stream),i=this.context.createAnalyser();i.fftSize=2048,i.minDecibels=-100,r.connect(i);const o=new e3;await o.init(this.context,i.fftSize),this.interval=setInterval(async()=>{const s=new Float32Array(i.fftSize);i.getFloatTimeDomainData(s);const a=await o.getFrequency(s),l=this.calculateVolume(s);this.frequencies=[a,a],this.volumes=[l,l],this.onUpdate(a,l)},this.context.sampleRate/i.fftSize),ee.micMonitoringStarted.dispatch()}catch(r){Vo(r),console.error(r)}}catch(r){Vo(r,{level:"warning",extra:{message:"SimplifiedMic.startMonitoring"}}),console.warn(r)}}},this.getFrequencies=()=>this.frequencies,this.getVolumes=()=>this.volumes,this.clearFrequencies=t=>{},this.stopMonitoring=async()=>{var t,n;if(this.startedMonitoring){this.startedMonitoring=!1,this.interval&&clearInterval(this.interval),(t=this.stream)==null||t.getTracks().forEach(function(r){r.stop()});try{await((n=this.context)==null?void 0:n.close())}catch(r){console.log("MicInput.stoMonitoring error",r)}ee.micMonitoringStopped.dispatch()}},this.getInputLag=()=>180,this.requestReadiness=()=>Promise.resolve(!0),this.getStatus=()=>"ok"}calculateVolume(t){let n,r=0;for(n=0;n<t.length;++n)r+=t[n]*t[n];return Math.sqrt(r/t.length)}}const yo=new oK;class sK extends Bo{constructor(){super(...arguments),this.connection=null,this.roomId=null,this.isConnected=()=>{var t;return(((t=this.connection)==null?void 0:t.readyState)??1/0)<2},this.close=()=>{var t;(t=this.connection)==null||t.close()}}connect(t,n,r,i,o){this.roomId=n,this.connection=new WebSocket(`${u3}/party/${n}`),this.connection.binaryType="arraybuffer",this.connection.onopen=()=>{var s;(s=this.connection)==null||s.send(Yi({t:"register-player",id:t,roomId:n}))},this.connection.onmessage=s=>{const a=Pu(s.data);a.t==="forward"?this.onUpdate(a.payload):a.t==="connected"&&r()},this.connection.onclose=s=>{var l;let a="unknown";try{a=(l=JSON.parse(s.reason))==null?void 0:l.error}catch{console.info("could not parse close reason",s)}this.clearAllListeners(),i(a,s)},this.connection.onerror=s=>{this.clearAllListeners(),o("error",s)}}sendEvent(t){var n;(n=this.connection)==null||n.send(Yi({t:"forward",recipients:[this.roomId],payload:t}))}}class aK extends Bo{constructor(){super(...arguments),this.peer=null,this.connection=null,this.unavailableIdRetries=0,this.unavailableIdRetryTimeout=null,this.connectToRoom=(t,n,r)=>{var i;this.connection=this.peer.connect(`allkaraoke-party-room-${t}`),this.connection.on("open",()=>{n()}),this.connection.on("close",()=>r("closed",null)),(i=this.connection)==null||i.on("data",o=>{console.log(o),this.onUpdate(o)})},this.isConnected=()=>{var t,n;return!!((t=this.connection)!=null&&t.open)&&!((n=this.peer)!=null&&n.disconnected)},this.close=()=>{var t;(t=this.connection)==null||t.close()}}connect(t,n,r,i,o){this.peer&&!this.peer.disconnected?this.connectToRoom(n,r,i):(this.peer=new j0(t,{...d3,debug:3}),this.peer.on("open",()=>{this.connectToRoom(n,r,i)}),this.peer.on("error",s=>{var a,l;s.type==="unavailable-id"&&this.unavailableIdRetries<3&&this.unavailableIdRetryTimeout===null?((l=(a=this.peer)==null?void 0:a.destroy)==null||l.call(a),this.unavailableIdRetryTimeout=setTimeout(()=>{this.unavailableIdRetryTimeout=null,this.unavailableIdRetries++,this.connect(t,n,r,i,o)},1750)):(this.unavailableIdRetries=0,console.error(s.type,s),i(s.type,s))}))}sendEvent(t){var n;(n=this.connection)==null||n.send(t)}}class lK extends Bo{constructor(){super(...arguments),this.connection=null,this.roomId=null,this.isConnected=()=>{var t;return(((t=this.connection)==null?void 0:t.readyState)??1/0)<2},this.close=()=>{var t;(t=this.connection)==null||t.close()}}connect(t,n,r,i,o){this.roomId=n,this.connection=new WebSocket(y3),this.connection.binaryType="arraybuffer",this.connection.onopen=()=>{var s;(s=this.connection)==null||s.send(Yi({t:"register-player",id:t,roomId:n}))},this.connection.onmessage=s=>{const a=Pu(s.data);a.t==="forward"?this.onUpdate(a.payload):a.t==="connected"&&r()},this.connection.onclose=s=>{var l;let a="unknown";try{a=(l=JSON.parse(s.reason))==null?void 0:l.error}catch{console.info("could not parse close reason",s)}this.clearAllListeners(),i(a,s)},this.connection.onerror=s=>{this.clearAllListeners(),o("error",s)}}sendEvent(t){var n;(n=this.connection)==null||n.send(Yi({t:"forward",recipients:[this.roomId],payload:t}))}}const VC=(e,t)=>{if(e===0)return 0;const n=Math.pow(10,t);return Math.round(e*n)/n};let pp;const cK=new Uint8Array(16);function uK(){if(!pp&&(pp=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!pp))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return pp(cK)}const lr=[];for(let e=0;e<256;++e)lr.push((e+256).toString(16).slice(1));function dK(e,t=0){return lr[e[t+0]]+lr[e[t+1]]+lr[e[t+2]]+lr[e[t+3]]+"-"+lr[e[t+4]]+lr[e[t+5]]+"-"+lr[e[t+6]]+lr[e[t+7]]+"-"+lr[e[t+8]]+lr[e[t+9]]+"-"+lr[e[t+10]]+lr[e[t+11]]+lr[e[t+12]]+lr[e[t+13]]+lr[e[t+14]]+lr[e[t+15]]}const fK=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),LC={randomUUID:fK};function im(e,t,n){if(LC.randomUUID&&!t&&!e)return LC.randomUUID();e=e||{};const r=e.random||(e.rng||uK)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(let i=0;i<16;++i)t[n+i]=r[i];return t}return dK(r)}const X1="MIC_CLIENT_ID";class hK{constructor(){this.clientId=Ve.getItem(X1),this.roomId=null,this.reconnecting=!1,this.connected=!1,this.frequencies=[],this.sendFrequencies=qc(t=>{const n=this.frequencies.map(r=>VC(r,2));this.frequencies.length=0,this.sendEvent("freq",[n,VC(t,4)])},50),this.onFrequencyUpdate=qc((t,n)=>{this.frequencies.push(t),this.sendFrequencies(n)},1e3/60),this.getClientId=()=>this.clientId,this.setClientId=t=>{this.clientId=t,Ve.setItem(X1,t)},this.connect=(t,n,r)=>{const i=t.toLowerCase();if(this.transport||(this.transport=i.startsWith("w")?new lK:i.startsWith("k")?new sK:new aK),this.clientId===null&&this.setClientId(im()),this.roomId=i,this.transport.isConnected()){console.log("not reconnecting",this.transport);return}this.reconnecting||ee.karaokeConnectionStatusChange.dispatch("connecting"),this.transport.connect(this.clientId,this.roomId,()=>{this.connectToServer(i,n,r)},(o,s)=>{var a;if(o==="unavailable-id"){this.setClientId(im()),this.connect(i,n,r);return}global.removeEventListener("beforeunload",this.disconnect),this.reconnecting?ee.karaokeConnectionStatusChange.dispatch("reconnecting"):this.connected?ee.karaokeConnectionStatusChange.dispatch("disconnected"):(ee.karaokeConnectionStatusChange.dispatch("error",o),bn.capture("remote_mic_connection_error",{reason:o,transport:(a=this.roomId)==null?void 0:a.charAt(0)})),ee.remoteMicPlayerSet.dispatch(null),ee.remoteKeyboardLayout.dispatch(void 0),yo.removeListener(this.onFrequencyUpdate),yo.stopMonitoring(),o!=="player-removed"&&!this.reconnecting&&this.connected&&(this.reconnecting=!0,setTimeout(()=>this.reconnect(i,n),1500)),this.connected=!1},console.warn)},this.latency=999,this.pingStart=Fr(),this.pinging=!1,this.ping=()=>{this.pinging=!0,this.pingStart=Fr(),this.sendEvent("ping",{p:this.pingStart})},this.reportPing=qc(t=>bn.capture("remote_mic_ping",{ping:t}),1e4),this.onPong=()=>{this.latency=Fr()-this.pingStart,this.pinging=!1,this.reportPing(this.latency),setTimeout(this.ping,2e3)},this.connectToServer=(t,n,r)=>{var i;this.connected=!0,this.reconnecting=!1,ee.karaokeConnectionStatusChange.dispatch("connected"),bn.capture("remote_mic_connection_successful",{transport:(i=this.roomId)==null?void 0:i.charAt(0)}),this.sendEvent("register",{name:n,id:this.clientId,silent:r,lag:Dj.get()}),this.ping(),global==null||global.addEventListener("beforeunload",this.disconnect),this.transport.addListener(o=>{var a,l;const s=o.t;s==="start-monitor"?(yo.removeListener(this.onFrequencyUpdate),yo.addListener(this.onFrequencyUpdate),yo.startMonitoring(void 0,!0)):s==="stop-monitor"?(yo.removeListener(this.onFrequencyUpdate),yo.stopMonitoring()):s==="set-player-number"?ee.remoteMicPlayerSet.dispatch(o.playerNumber):s==="keyboard-layout"?ee.remoteKeyboardLayout.dispatch(o.help):s==="reload-mic"?(global.removeEventListener("beforeunload",this.disconnect),this.sendEvent("unregister"),Ve.session.setItem("reload-mic-request","1"),(a=document.getElementById("phone-ui-container"))==null||a.remove(),(l=global.location)==null||l.reload()):s==="request-readiness"?ee.remoteReadinessRequested.dispatch():s==="pong"?this.onPong():s==="ping"?this.sendEvent("pong"):s==="set-permissions"?ee.remoteMicPermissionsSet.dispatch(o.level):s==="remote-mics-list"?ee.remoteMicListUpdated.dispatch(o.list):s==="style-change"&&ee.remoteStyleChanged.dispatch(o.style)})},this.reconnect=(t,n)=>{this.reconnecting&&(ee.karaokeConnectionStatusChange.dispatch("reconnecting"),this.connect(t,n,!1),setTimeout(()=>this.reconnect(t,n),2e3))},this.sendKeyStroke=t=>{this.sendEvent("keystroke",{key:t})},this.searchSong=t=>{this.sendEvent("search-song",{search:t})},this.selectSong=t=>{this.sendEvent("select-song",{id:t})},this.requestPlayerChange=(t,n)=>{this.sendEvent("request-mic-select",{id:t,playerNumber:n})},this.confirmReadiness=()=>{this.sendEvent("confirm-readiness")},this.subscribe=t=>{this.sendEvent("subscribe-event",{channel:t})},this.unsubscribe=t=>{this.sendEvent("unsubscribe-event",{channel:t})},this.getSongList=()=>this.sendRequest({t:"request-songlist"},"songlist"),this.getGameInputLag=()=>this.sendRequest({t:"get-game-input-lag-request"},"get-game-input-lag-response"),this.setGameInputLag=t=>this.sendRequest({t:"set-game-input-lag-request",value:t},"get-game-input-lag-response"),this.getMicrophoneInputLag=()=>this.sendRequest({t:"get-microphone-lag-request"},"get-microphone-lag-response"),this.setMicrophoneInputLag=t=>this.sendRequest({t:"set-microphone-lag-request",value:t},"get-microphone-lag-response"),this.removePlayer=t=>this.sendEvent("remove-player",{id:t}),this.sendEvent=(t,n)=>{var r;(r=this.transport)!=null&&r.isConnected()?this.transport.sendEvent({t,...n}):console.debug("not connected, skipping",t,n)},this.sendRequest=({t,...n},r)=>new Promise((i,o)=>{var l;const s=setTimeout(()=>{var c;(c=this.transport)==null||c.removeListener(a),o(`${t} timed out waiting for ${r}`)},1e4),a=c=>{var u;c.t===r&&(clearTimeout(s),(u=this.transport)==null||u.removeListener(a),i(c))};(l=this.transport)==null||l.addListener(a),this.sendEvent(t,n)}),this.disconnect=()=>{var t;(t=this.transport)==null||t.close()}}}const dn=new hK,pK="/assets/2020-12-16_-_Christmas_Rock_-_www.FesliyanStudios.com_Steve_Oxen-DMCunqoI.ogg",gK="/assets/376817__original_sound__impact-cinematic-CwEVHJ3C.ogg",mK="/assets/421888__b-sean__retro-CErSO5v-.ogg",vK="/assets/459342__papaninkasettratat__cinematic-music-short-rn-rfKrG.ogg",yK="/assets/60013__qubodup__whoosh-CRSX-bwR.mp3",AK="/assets/Funk%20Cool%20Groove%20(No%20Copyright%20Music)%20By%20Anwar%20Amr-Chfv45i1.ogg",bK="/assets/menu_back-CXKu2j7w.mp3",_K="data:audio/mpeg;base64,SUQzBAAAAAAAIlRTU0UAAAAOAAADTGF2ZjYwLjMuMTAwAAAAAAAAAAAAAAD/+1QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABYaW5nAAAADwAAABMAAA04AEFBQUFBZWVlZWV/f39/f5GRkZGRkZqampqaoaGhoaGoqKioqLCwsLCwsLe3t7e3vr6+vr7FxcXFxc3Nzc3NzdTU1NTU29vb29vi4uLi4urq6urq6vHx8fHx+Pj4+Pj//////wAAAABMYXZjNjAuMy4AAAAAAAAAAAAAAAAkAuUAAAAAAAANOLGcZrL/+8REAAEA/ADLaAAACh+AGY0AAAFGhC0ZtYMAKP4GYzKwkAUAFJyXj/AAAB7QAAB4eHh4YYAOM////jh4eAAAAAIw8AlNybj/AAAB/AAADw8PDwxwAAGf///5h4eAAAAAIw9hSJuIlQJTskunEz5RFv1Y2byK7n/97llcFmmyCgoMFBQUFAoKCgoMFDX////qAoKChQUFESxJ2AfoAZiMJDhIyAqTJk81xxarn/97lWmgXEJCQoUJCChQUFBQSCgoKChQUv//6YKFAoKCgwUFBQUhBQU0WgEEAFZUiUdVZ7urwsAwAAAoTmeCxjBAdkrnZm5gCuz2BTRyEx8VJUhukDsoNVBjExsWZAsIvo6ZtcOZTJhAKFQlp6a7oGrhgQ1GypacseeN5GgM7LimCHZWKo200F2pFIbcrBxGTFxgYmAAQQh6wspcVlNfLCxvO2HAzIQgDZSzJWt9XFnYFf27////7/0ko32xTymMyqLclUq8QECiT3+7//+laf///9uMHyGvGu2u2so2EgAAAAADIAEGFguPUQDJhoMKHjtm/ExnBISAuP5tq7A0VjIBuAgFjyzu0ITEAhWvB/0sPUTU5MzMnhocNpDqll1v/GBSiOTAAAWq/agAGAMGDkG2YBxmZlUXgGO2D0YAgS4cGyYBIAoNAqIQNjBRA4BAFZgOABuLCYbR9W0P1ijMzWyHU3rL3T2m1K3RtqSLDrfcC31jHuH9r6RUOFIwt0G+T2Y9yNS/FrmLTOcX1qpRxdapf/+f4gPaOLN2fYACixdruAAAHzMDQmBJhGTdzmMADioJDwTNcGAFKgEmAwApvBgDS6/hLpkYzDFewH6hgRt+3pCrr5/3651XUGvoTGe1AAACh1ZV5WQADAgMzFkSzVCXT2T/+6Rk5IAFRzBLfm9kgFGDij/NsCRO4MEnXeeAIQ0NZLe68ATIzWYcjI0FQUTAYG4GARMBYUYAQQoAsBHktFznLy0sSlohrcySM0V97trfW6mUEZ4r3G0Su6apFIYlLPRjDC0HKnNGDPCbCtAP2eeEAA3ZmhL+AAAG5JEGTcHdpB80aHvkDv0YiAhA2mHHOna1doX/uZ6qnnDUzTgKUABohnh230QAAMbEBQnNCETYME2cNbMBjy7BqoGICdqx1SsFklW0zpKswQnCikdnsJ4tsbhp/ASpfR1JaY61CrDJgx/F3EWoNSoEVBqRvuTG5yhcItANgUThn9//+tgCHmIeH3wBoCkKCxgISgSstpAzImgHGYaQ6AVraQgJgaXZN2SAGyriKC3mDpVtvoo5FXA4mYiIj/aAABUhpCZgEAUnGtWKCEAZ/BEFQDhceXTMw8yUktRRlhhbRJYUkSpDzpdNaErxzPiWxVMqtHMxstZL1/1froSdU2dnUSBCnAUUTDiw2FdX+MCo0MrMuDAAAE84aw5jGXtZrP0+3AGAJVVUyjYENrIhERZuDyP8PUISzy7xH/4MlwUJsBBcI7GR4DyaWF6iCwni4hbZmGQWTQIi6L3h+abmhZzs1OZ7gOu0RcL/+4Rk6AAS+iLI+68a+C5DOV9rAxlLuHch7eXlYMgNZP2WFVzAmUIpCmxCchkYSLdCTM0X2sVgAjJ+gEAnQkJe1v9aZjJCCJfFH1YIagNfLtAJODmCQtYaPzBF//yVIIAAAUHjJAVCHeXwjlgBxVOjKgO1ddIsKHgBBT1MQU1FMy4xMDBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVAAABzCFdZkkAAAsCDOBkGYUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVQ0kMkxBTUUzLjEwMKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqoZVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+2Rk7wEStyFJ+08a+icCKR9h4ycGxGkp7CSn6HKE4u2GCJRVVVVVVVVVVVVVVVVVVVVVSUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVSUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjH/+yRk7Idw1QbEowxBAA1AyIgl4wMBUA0PBWMAIBUBolQUmAYwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk6g9wQAJDKU8ACARASJUEQAEAXAsOA4wgIAaAYgAQAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4w/wDwDEAMAACAAAD/AAAAEAGAMUAQAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4o/wBgDEgEAACAAAD/AAAAEADAMaAIAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4g/wAwDGACAACAAAD/AAAAEADAMWAIAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4g/wAwDFgCAACAAAD/AAAAEADAMUAIAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRE4Y/wAAB/gAAACAAAD/AAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRE4Y/wAAB/gAAACAAAD/AAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRE4Y/wAAB/gAAACAAAD/AAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4Y/wAAB/gAAACAAAD/AAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4Y/wAAB/gAAACAAAD/AAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4Y/wAAB/gAAACAAADSAAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4Y/wAAB/gAAACAAAD/AAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4Y/wAAB/gAAACAAAD/AAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4Y/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVU=",xK="/assets/menu_navigate-C6GUIZQM.mp3";class Us{constructor(t){this.options=t,this.sound=null,this.play=async(n=!0)=>{var r,i;try{if(n&&this.playing()){const o=(r=this.sound)==null?void 0:r.cloneNode(!0);await o.play(),o.remove()}else await((i=this.sound)==null?void 0:i.play())}catch(o){return console.warn(o)}},this.pause=()=>{var n;(n=this.sound)==null||n.pause()},this.stop=()=>{this.sound&&(this.sound.pause(),this.sound.currentTime=0)},this.playing=()=>{var n;return!((n=this.sound)!=null&&n.paused)},global.Audio&&(this.sound=new Audio(t.src),this.sound.preload=t.preload?"auto":"none",this.sound.volume=t.volume??1,this.sound.loop=t.loop??!1)}}const N0=new Us({src:xK}),Qx=new Us({src:_K}),Jx=new Us({src:bK}),B3=new Us({src:gK,preload:!0}),Xx=new Us({src:yK,preload:!0,volume:.5}),F3=new Us({src:AK,volume:.3,loop:!0}),z3=new Us({src:mK,volume:.4,loop:!0}),U3=new Us({src:pK,volume:.25,loop:!0}),dg=new Us({src:vK,volume:.8}),SK=Object.freeze(Object.defineProperty({__proto__:null,backgroundMusic:F3,christmasBackgroundMusic:U3,classicBackgroundMusic:z3,menuBack:Jx,menuEnter:Qx,menuNavigate:N0,waitFinished:B3,waitForReadinessMusic:dg,woosh:Xx},Symbol.toStringTag,{value:"Module"})),wK={RemoteMicClient:dn,RemoteMicServer:bl,GameState:$e,GameEvents:ee,RemoteMicManager:Ze,SongDao:eo,InputManager:_n,InputSourceManager:Os,CameraManager:So,UserMediaService:ma,PlayersManager:Oe,SoundManager:SK,importSongs:async()=>{await(await Fu(()=>import("./importSongsFromPostHog-FoGmogha.js"),[])).default()}};global.__exposeSingletons=()=>{global.__singletons=wK};console.log("Run global.__exposeSingletons() and inspect global.__singletons for debugging");function EK(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function kK(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var CK=function(){function e(n){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(kK(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=EK(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},e}(),Sr="-ms-",om="-moz-",vt="-webkit-",H3="comm",Zx="rule",eS="decl",TK="@import",G3="@keyframes",IK="@layer",RK=Math.abs,$0=String.fromCharCode,PK=Object.assign;function MK(e,t){return fr(e,0)^45?(((t<<2^fr(e,0))<<2^fr(e,1))<<2^fr(e,2))<<2^fr(e,3):0}function q3(e){return e.trim()}function jK(e,t){return(e=t.exec(e))?e[0]:e}function yt(e,t,n){return e.replace(t,n)}function Z1(e,t){return e.indexOf(t)}function fr(e,t){return e.charCodeAt(t)|0}function Pf(e,t,n){return e.slice(t,n)}function Yo(e){return e.length}function tS(e){return e.length}function gp(e,t){return t.push(e),e}function OK(e,t){return e.map(t).join("")}var D0=1,mu=1,W3=0,ii=0,Dn=0,Uu="";function B0(e,t,n,r,i,o,s){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:D0,column:mu,length:s,return:""}}function ld(e,t){return PK(B0("",null,null,"",null,null,0),e,{length:-e.length},t)}function VK(){return Dn}function LK(){return Dn=ii>0?fr(Uu,--ii):0,mu--,Dn===10&&(mu=1,D0--),Dn}function Ai(){return Dn=ii<W3?fr(Uu,ii++):0,mu++,Dn===10&&(mu=1,D0++),Dn}function ss(){return fr(Uu,ii)}function fg(){return ii}function bh(e,t){return Pf(Uu,e,t)}function Mf(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function K3(e){return D0=mu=1,W3=Yo(Uu=e),ii=0,[]}function Y3(e){return Uu="",e}function hg(e){return q3(bh(ii-1,eb(e===91?e+2:e===40?e+1:e)))}function NK(e){for(;(Dn=ss())&&Dn<33;)Ai();return Mf(e)>2||Mf(Dn)>3?"":" "}function $K(e,t){for(;--t&&Ai()&&!(Dn<48||Dn>102||Dn>57&&Dn<65||Dn>70&&Dn<97););return bh(e,fg()+(t<6&&ss()==32&&Ai()==32))}function eb(e){for(;Ai();)switch(Dn){case e:return ii;case 34:case 39:e!==34&&e!==39&&eb(Dn);break;case 40:e===41&&eb(e);break;case 92:Ai();break}return ii}function DK(e,t){for(;Ai()&&e+Dn!==57;)if(e+Dn===84&&ss()===47)break;return"/*"+bh(t,ii-1)+"*"+$0(e===47?e:Ai())}function BK(e){for(;!Mf(ss());)Ai();return bh(e,ii)}function FK(e){return Y3(pg("",null,null,null,[""],e=K3(e),0,[0],e))}function pg(e,t,n,r,i,o,s,a,l){for(var c=0,u=0,d=s,h=0,p=0,g=0,m=1,b=1,y=1,A=0,x="",S=i,_=o,w=r,E=x;b;)switch(g=A,A=Ai()){case 40:if(g!=108&&fr(E,d-1)==58){Z1(E+=yt(hg(A),"&","&\f"),"&\f")!=-1&&(y=-1);break}case 34:case 39:case 91:E+=hg(A);break;case 9:case 10:case 13:case 32:E+=NK(g);break;case 92:E+=$K(fg()-1,7);continue;case 47:switch(ss()){case 42:case 47:gp(zK(DK(Ai(),fg()),t,n),l);break;default:E+="/"}break;case 123*m:a[c++]=Yo(E)*y;case 125*m:case 59:case 0:switch(A){case 0:case 125:b=0;case 59+u:y==-1&&(E=yt(E,/\f/g,"")),p>0&&Yo(E)-d&&gp(p>32?$C(E+";",r,n,d-1):$C(yt(E," ","")+";",r,n,d-2),l);break;case 59:E+=";";default:if(gp(w=NC(E,t,n,c,u,i,a,x,S=[],_=[],d),o),A===123)if(u===0)pg(E,t,w,w,S,o,d,a,_);else switch(h===99&&fr(E,3)===110?100:h){case 100:case 108:case 109:case 115:pg(e,w,w,r&&gp(NC(e,w,w,0,0,i,a,x,i,S=[],d),_),i,_,d,a,r?S:_);break;default:pg(E,w,w,w,[""],_,0,a,_)}}c=u=p=0,m=y=1,x=E="",d=s;break;case 58:d=1+Yo(E),p=g;default:if(m<1){if(A==123)--m;else if(A==125&&m++==0&&LK()==125)continue}switch(E+=$0(A),A*m){case 38:y=u>0?1:(E+="\f",-1);break;case 44:a[c++]=(Yo(E)-1)*y,y=1;break;case 64:ss()===45&&(E+=hg(Ai())),h=ss(),u=d=Yo(x=E+=BK(fg())),A++;break;case 45:g===45&&Yo(E)==2&&(m=0)}}return o}function NC(e,t,n,r,i,o,s,a,l,c,u){for(var d=i-1,h=i===0?o:[""],p=tS(h),g=0,m=0,b=0;g<r;++g)for(var y=0,A=Pf(e,d+1,d=RK(m=s[g])),x=e;y<p;++y)(x=q3(m>0?h[y]+" "+A:yt(A,/&\f/g,h[y])))&&(l[b++]=x);return B0(e,t,n,i===0?Zx:a,l,c,u)}function zK(e,t,n){return B0(e,t,n,H3,$0(VK()),Pf(e,2,-2),0)}function $C(e,t,n,r){return B0(e,t,n,eS,Pf(e,0,r),Pf(e,r+1,-1),r)}function Wc(e,t){for(var n="",r=tS(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function UK(e,t,n,r){switch(e.type){case IK:if(e.children.length)break;case TK:case eS:return e.return=e.return||e.value;case H3:return"";case G3:return e.return=e.value+"{"+Wc(e.children,r)+"}";case Zx:e.value=e.props.join(",")}return Yo(n=Wc(e.children,r))?e.return=e.value+"{"+n+"}":""}function HK(e){var t=tS(e);return function(n,r,i,o){for(var s="",a=0;a<t;a++)s+=e[a](n,r,i,o)||"";return s}}function GK(e){return function(t){t.root||(t=t.return)&&e(t)}}function Q3(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var qK=function(t,n,r){for(var i=0,o=0;i=o,o=ss(),i===38&&o===12&&(n[r]=1),!Mf(o);)Ai();return bh(t,ii)},WK=function(t,n){var r=-1,i=44;do switch(Mf(i)){case 0:i===38&&ss()===12&&(n[r]=1),t[r]+=qK(ii-1,n,r);break;case 2:t[r]+=hg(i);break;case 4:if(i===44){t[++r]=ss()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=$0(i)}while(i=Ai());return t},KK=function(t,n){return Y3(WK(K3(t),n))},DC=new WeakMap,YK=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,i=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!DC.get(r))&&!i){DC.set(t,!0);for(var o=[],s=KK(n,o),a=r.props,l=0,c=0;l<s.length;l++)for(var u=0;u<a.length;u++,c++)t.props[c]=o[l]?s[l].replace(/&\f/g,a[u]):a[u]+" "+s[l]}}},QK=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function J3(e,t){switch(MK(e,t)){case 5103:return vt+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return vt+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return vt+e+om+e+Sr+e+e;case 6828:case 4268:return vt+e+Sr+e+e;case 6165:return vt+e+Sr+"flex-"+e+e;case 5187:return vt+e+yt(e,/(\w+).+(:[^]+)/,vt+"box-$1$2"+Sr+"flex-$1$2")+e;case 5443:return vt+e+Sr+"flex-item-"+yt(e,/flex-|-self/,"")+e;case 4675:return vt+e+Sr+"flex-line-pack"+yt(e,/align-content|flex-|-self/,"")+e;case 5548:return vt+e+Sr+yt(e,"shrink","negative")+e;case 5292:return vt+e+Sr+yt(e,"basis","preferred-size")+e;case 6060:return vt+"box-"+yt(e,"-grow","")+vt+e+Sr+yt(e,"grow","positive")+e;case 4554:return vt+yt(e,/([^-])(transform)/g,"$1"+vt+"$2")+e;case 6187:return yt(yt(yt(e,/(zoom-|grab)/,vt+"$1"),/(image-set)/,vt+"$1"),e,"")+e;case 5495:case 3959:return yt(e,/(image-set\([^]*)/,vt+"$1$`$1");case 4968:return yt(yt(e,/(.+:)(flex-)?(.*)/,vt+"box-pack:$3"+Sr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+vt+e+e;case 4095:case 3583:case 4068:case 2532:return yt(e,/(.+)-inline(.+)/,vt+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Yo(e)-1-t>6)switch(fr(e,t+1)){case 109:if(fr(e,t+4)!==45)break;case 102:return yt(e,/(.+:)(.+)-([^]+)/,"$1"+vt+"$2-$3$1"+om+(fr(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~Z1(e,"stretch")?J3(yt(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(fr(e,t+1)!==115)break;case 6444:switch(fr(e,Yo(e)-3-(~Z1(e,"!important")&&10))){case 107:return yt(e,":",":"+vt)+e;case 101:return yt(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+vt+(fr(e,14)===45?"inline-":"")+"box$3$1"+vt+"$2$3$1"+Sr+"$2box$3")+e}break;case 5936:switch(fr(e,t+11)){case 114:return vt+e+Sr+yt(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return vt+e+Sr+yt(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return vt+e+Sr+yt(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return vt+e+Sr+e+e}return e}var JK=function(t,n,r,i){if(t.length>-1&&!t.return)switch(t.type){case eS:t.return=J3(t.value,t.length);break;case G3:return Wc([ld(t,{value:yt(t.value,"@","@"+vt)})],i);case Zx:if(t.length)return OK(t.props,function(o){switch(jK(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Wc([ld(t,{props:[yt(o,/:(read-\w+)/,":"+om+"$1")]})],i);case"::placeholder":return Wc([ld(t,{props:[yt(o,/:(plac\w+)/,":"+vt+"input-$1")]}),ld(t,{props:[yt(o,/:(plac\w+)/,":"+om+"$1")]}),ld(t,{props:[yt(o,/:(plac\w+)/,Sr+"input-$1")]})],i)}return""})}},XK=[JK],nS=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(m){var b=m.getAttribute("data-emotion");b.indexOf(" ")!==-1&&(document.head.appendChild(m),m.setAttribute("data-s",""))})}var i=t.stylisPlugins||XK,o={},s,a=[];s=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(m){for(var b=m.getAttribute("data-emotion").split(" "),y=1;y<b.length;y++)o[b[y]]=!0;a.push(m)});var l,c=[YK,QK];{var u,d=[UK,GK(function(m){u.insert(m)})],h=HK(c.concat(i,d)),p=function(b){return Wc(FK(b),h)};l=function(b,y,A,x){u=A,p(b?b+"{"+y.styles+"}":y.styles),x&&(g.inserted[y.name]=!0)}}var g={key:n,sheet:new CK({key:n,container:s,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:o,registered:{},insert:l};return g.sheet.hydrate(a),g};function tb(){return tb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tb.apply(this,arguments)}var ZK=!0;function eY(e,t,n){var r="";return n.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):r+=i+" "}),r}var X3=function(t,n,r){var i=t.key+"-"+n.name;(r===!1||ZK===!1)&&t.registered[i]===void 0&&(t.registered[i]=n.styles)},Z3=function(t,n,r){X3(t,n,r);var i=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var o=n;do t.insert(n===o?"."+i:"",o,t.sheet,!0),o=o.next;while(o!==void 0)}};function tY(e){for(var t=0,n,r=0,i=e.length;i>=4;++r,i-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var nY={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},rY=/[A-Z]|^ms/g,iY=/_EMO_([^_]+?)_([^]*?)_EMO_/g,eO=function(t){return t.charCodeAt(1)===45},BC=function(t){return t!=null&&typeof t!="boolean"},Ty=Q3(function(e){return eO(e)?e:e.replace(rY,"-$&").toLowerCase()}),FC=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(iY,function(r,i,o){return Qo={name:i,styles:o,next:Qo},i})}return nY[t]!==1&&!eO(t)&&typeof n=="number"&&n!==0?n+"px":n};function jf(e,t,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return Qo={name:n.name,styles:n.styles,next:Qo},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)Qo={name:r.name,styles:r.styles,next:Qo},r=r.next;var i=n.styles+";";return i}return oY(e,t,n)}case"function":{if(e!==void 0){var o=Qo,s=n(e);return Qo=o,jf(e,t,s)}break}}if(t==null)return n;var a=t[n];return a!==void 0?a:n}function oY(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=jf(e,t,n[i])+";";else for(var o in n){var s=n[o];if(typeof s!="object")t!=null&&t[s]!==void 0?r+=o+"{"+t[s]+"}":BC(s)&&(r+=Ty(o)+":"+FC(o,s)+";");else if(Array.isArray(s)&&typeof s[0]=="string"&&(t==null||t[s[0]]===void 0))for(var a=0;a<s.length;a++)BC(s[a])&&(r+=Ty(o)+":"+FC(o,s[a])+";");else{var l=jf(e,t,s);switch(o){case"animation":case"animationName":{r+=Ty(o)+":"+l+";";break}default:r+=o+"{"+l+"}"}}}return r}var zC=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Qo,rS=function(t,n,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var i=!0,o="";Qo=void 0;var s=t[0];s==null||s.raw===void 0?(i=!1,o+=jf(r,n,s)):o+=s[0];for(var a=1;a<t.length;a++)o+=jf(r,n,t[a]),i&&(o+=s[a]);zC.lastIndex=0;for(var l="",c;(c=zC.exec(o))!==null;)l+="-"+c[1];var u=tY(o)+l;return{name:u,styles:o,next:Qo}},sY=function(t){return t()},tO=Pg.useInsertionEffect?Pg.useInsertionEffect:!1,aY=tO||sY,UC=tO||v.useLayoutEffect,nO=v.createContext(typeof HTMLElement<"u"?nS({key:"css"}):null),rO=nO.Provider,iO=function(t){return v.forwardRef(function(n,r){var i=v.useContext(nO);return t(n,i,r)})},_h=v.createContext({}),lY=iO(function(e,t){var n=e.styles,r=rS([n],void 0,v.useContext(_h)),i=v.useRef();return UC(function(){var o=t.key+"-global",s=new t.sheet.constructor({key:o,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+o+" "+r.name+'"]');return t.sheet.tags.length&&(s.before=t.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",o),s.hydrate([l])),i.current=[s,a],function(){s.flush()}},[t]),UC(function(){var o=i.current,s=o[0],a=o[1];if(a){o[1]=!1;return}if(r.next!==void 0&&Z3(t,r.next,!0),s.tags.length){var l=s.tags[s.tags.length-1].nextElementSibling;s.before=l,s.flush()}t.insert("",r,s,!1)},[t,r.name]),null});function xi(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return rS(t)}var Va=function(){var t=xi.apply(void 0,arguments),n="animation-"+t.name;return{name:n,styles:"@keyframes "+n+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};function iS(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function cY(){this.__data__=new Fs,this.size=0}function uY(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function dY(e){return this.__data__.get(e)}function fY(e){return this.__data__.has(e)}var hY=200;function pY(e,t){var n=this.__data__;if(n instanceof Fs){var r=n.__data__;if(!Tf||r.length<hY-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new zs(r)}return n.set(e,t),this.size=n.size,this}function as(e){var t=this.__data__=new Fs(e);this.size=t.size}as.prototype.clear=cY;as.prototype.delete=uY;as.prototype.get=dY;as.prototype.has=fY;as.prototype.set=pY;function gY(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var sm=function(){try{var e=Ql(Object,"defineProperty");return e({},"",{}),e}catch{}}();function oO(e,t,n){t=="__proto__"&&sm?sm(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var mY=Object.prototype,vY=mY.hasOwnProperty;function sO(e,t,n){var r=e[t];(!(vY.call(e,t)&&C0(r,n))||n===void 0&&!(t in e))&&oO(e,t,n)}function xh(e,t,n,r){var i=!n;n||(n={});for(var o=-1,s=t.length;++o<s;){var a=t[o],l=r?r(n[a],e[a],a,n,e):void 0;l===void 0&&(l=e[a]),i?oO(n,a,l):sO(n,a,l)}return n}function yY(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var AY="[object Arguments]";function HC(e){return Ms(e)&&Kl(e)==AY}var aO=Object.prototype,bY=aO.hasOwnProperty,_Y=aO.propertyIsEnumerable,oS=HC(function(){return arguments}())?HC:function(e){return Ms(e)&&bY.call(e,"callee")&&!_Y.call(e,"callee")},to=Array.isArray;function xY(){return!1}var lO=typeof exports=="object"&&exports&&!exports.nodeType&&exports,GC=lO&&typeof module=="object"&&module&&!module.nodeType&&module,SY=GC&&GC.exports===lO,qC=SY?Fo.Buffer:void 0,wY=qC?qC.isBuffer:void 0,am=wY||xY,EY="[object Arguments]",kY="[object Array]",CY="[object Boolean]",TY="[object Date]",IY="[object Error]",RY="[object Function]",PY="[object Map]",MY="[object Number]",jY="[object Object]",OY="[object RegExp]",VY="[object Set]",LY="[object String]",NY="[object WeakMap]",$Y="[object ArrayBuffer]",DY="[object DataView]",BY="[object Float32Array]",FY="[object Float64Array]",zY="[object Int8Array]",UY="[object Int16Array]",HY="[object Int32Array]",GY="[object Uint8Array]",qY="[object Uint8ClampedArray]",WY="[object Uint16Array]",KY="[object Uint32Array]",Gt={};Gt[BY]=Gt[FY]=Gt[zY]=Gt[UY]=Gt[HY]=Gt[GY]=Gt[qY]=Gt[WY]=Gt[KY]=!0;Gt[EY]=Gt[kY]=Gt[$Y]=Gt[CY]=Gt[DY]=Gt[TY]=Gt[IY]=Gt[RY]=Gt[PY]=Gt[MY]=Gt[jY]=Gt[OY]=Gt[VY]=Gt[LY]=Gt[NY]=!1;function YY(e){return Ms(e)&&qx(e.length)&&!!Gt[Kl(e)]}function sS(e){return function(t){return e(t)}}var cO=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Jd=cO&&typeof module=="object"&&module&&!module.nodeType&&module,QY=Jd&&Jd.exports===cO,Iy=QY&&n3.process,vu=function(){try{var e=Jd&&Jd.require&&Jd.require("util").types;return e||Iy&&Iy.binding&&Iy.binding("util")}catch{}}(),WC=vu&&vu.isTypedArray,uO=WC?sS(WC):YY,JY=Object.prototype,XY=JY.hasOwnProperty;function dO(e,t){var n=to(e),r=!n&&oS(e),i=!n&&!r&&am(e),o=!n&&!r&&!i&&uO(e),s=n||r||i||o,a=s?yY(e.length,String):[],l=a.length;for(var c in e)(t||XY.call(e,c))&&!(s&&(c=="length"||i&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Kx(c,l)))&&a.push(c);return a}var ZY=Object.prototype;function aS(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||ZY;return e===n}function fO(e,t){return function(n){return e(t(n))}}var eQ=fO(Object.keys,Object),tQ=Object.prototype,nQ=tQ.hasOwnProperty;function rQ(e){if(!aS(e))return eQ(e);var t=[];for(var n in Object(e))nQ.call(e,n)&&n!="constructor"&&t.push(n);return t}function Sh(e){return Wx(e)?dO(e):rQ(e)}function iQ(e,t){return e&&xh(t,Sh(t),e)}function oQ(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var sQ=Object.prototype,aQ=sQ.hasOwnProperty;function lQ(e){if(!Lo(e))return oQ(e);var t=aS(e),n=[];for(var r in e)r=="constructor"&&(t||!aQ.call(e,r))||n.push(r);return n}function lS(e){return Wx(e)?dO(e,!0):lQ(e)}function cQ(e,t){return e&&xh(t,lS(t),e)}var hO=typeof exports=="object"&&exports&&!exports.nodeType&&exports,KC=hO&&typeof module=="object"&&module&&!module.nodeType&&module,uQ=KC&&KC.exports===hO,YC=uQ?Fo.Buffer:void 0,QC=YC?YC.allocUnsafe:void 0;function dQ(e,t){if(t)return e.slice();var n=e.length,r=QC?QC(n):new e.constructor(n);return e.copy(r),r}function pO(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}function fQ(e,t){for(var n=-1,r=e==null?0:e.length,i=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[i++]=s)}return o}function gO(){return[]}var hQ=Object.prototype,pQ=hQ.propertyIsEnumerable,JC=Object.getOwnPropertySymbols,cS=JC?function(e){return e==null?[]:(e=Object(e),fQ(JC(e),function(t){return pQ.call(e,t)}))}:gO;function gQ(e,t){return xh(e,cS(e),t)}function uS(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var mQ=fO(Object.getPrototypeOf,Object);const dS=mQ;var vQ=Object.getOwnPropertySymbols,mO=vQ?function(e){for(var t=[];e;)uS(t,cS(e)),e=dS(e);return t}:gO;function yQ(e,t){return xh(e,mO(e),t)}function vO(e,t,n){var r=t(e);return to(e)?r:uS(r,n(e))}function nb(e){return vO(e,Sh,cS)}function yO(e){return vO(e,lS,mO)}var rb=Ql(Fo,"DataView"),ib=Ql(Fo,"Promise"),Kc=Ql(Fo,"Set"),ob=Ql(Fo,"WeakMap"),XC="[object Map]",AQ="[object Object]",ZC="[object Promise]",eT="[object Set]",tT="[object WeakMap]",nT="[object DataView]",bQ=Yl(rb),_Q=Yl(Tf),xQ=Yl(ib),SQ=Yl(Kc),wQ=Yl(ob),Xa=Kl;(rb&&Xa(new rb(new ArrayBuffer(1)))!=nT||Tf&&Xa(new Tf)!=XC||ib&&Xa(ib.resolve())!=ZC||Kc&&Xa(new Kc)!=eT||ob&&Xa(new ob)!=tT)&&(Xa=function(e){var t=Kl(e),n=t==AQ?e.constructor:void 0,r=n?Yl(n):"";if(r)switch(r){case bQ:return nT;case _Q:return XC;case xQ:return ZC;case SQ:return eT;case wQ:return tT}return t});const Of=Xa;var EQ=Object.prototype,kQ=EQ.hasOwnProperty;function CQ(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&kQ.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var lm=Fo.Uint8Array;function fS(e){var t=new e.constructor(e.byteLength);return new lm(t).set(new lm(e)),t}function TQ(e,t){var n=t?fS(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var IQ=/\w*$/;function RQ(e){var t=new e.constructor(e.source,IQ.exec(e));return t.lastIndex=e.lastIndex,t}var rT=Zi?Zi.prototype:void 0,iT=rT?rT.valueOf:void 0;function PQ(e){return iT?Object(iT.call(e)):{}}function MQ(e,t){var n=t?fS(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var jQ="[object Boolean]",OQ="[object Date]",VQ="[object Map]",LQ="[object Number]",NQ="[object RegExp]",$Q="[object Set]",DQ="[object String]",BQ="[object Symbol]",FQ="[object ArrayBuffer]",zQ="[object DataView]",UQ="[object Float32Array]",HQ="[object Float64Array]",GQ="[object Int8Array]",qQ="[object Int16Array]",WQ="[object Int32Array]",KQ="[object Uint8Array]",YQ="[object Uint8ClampedArray]",QQ="[object Uint16Array]",JQ="[object Uint32Array]";function XQ(e,t,n){var r=e.constructor;switch(t){case FQ:return fS(e);case jQ:case OQ:return new r(+e);case zQ:return TQ(e,n);case UQ:case HQ:case GQ:case qQ:case WQ:case KQ:case YQ:case QQ:case JQ:return MQ(e,n);case VQ:return new r;case LQ:case DQ:return new r(e);case NQ:return RQ(e);case $Q:return new r;case BQ:return PQ(e)}}var oT=Object.create,ZQ=function(){function e(){}return function(t){if(!Lo(t))return{};if(oT)return oT(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function eJ(e){return typeof e.constructor=="function"&&!aS(e)?ZQ(dS(e)):{}}var tJ="[object Map]";function nJ(e){return Ms(e)&&Of(e)==tJ}var sT=vu&&vu.isMap,rJ=sT?sS(sT):nJ,iJ="[object Set]";function oJ(e){return Ms(e)&&Of(e)==iJ}var aT=vu&&vu.isSet,sJ=aT?sS(aT):oJ,aJ=1,lJ=2,cJ=4,AO="[object Arguments]",uJ="[object Array]",dJ="[object Boolean]",fJ="[object Date]",hJ="[object Error]",bO="[object Function]",pJ="[object GeneratorFunction]",gJ="[object Map]",mJ="[object Number]",_O="[object Object]",vJ="[object RegExp]",yJ="[object Set]",AJ="[object String]",bJ="[object Symbol]",_J="[object WeakMap]",xJ="[object ArrayBuffer]",SJ="[object DataView]",wJ="[object Float32Array]",EJ="[object Float64Array]",kJ="[object Int8Array]",CJ="[object Int16Array]",TJ="[object Int32Array]",IJ="[object Uint8Array]",RJ="[object Uint8ClampedArray]",PJ="[object Uint16Array]",MJ="[object Uint32Array]",Bt={};Bt[AO]=Bt[uJ]=Bt[xJ]=Bt[SJ]=Bt[dJ]=Bt[fJ]=Bt[wJ]=Bt[EJ]=Bt[kJ]=Bt[CJ]=Bt[TJ]=Bt[gJ]=Bt[mJ]=Bt[_O]=Bt[vJ]=Bt[yJ]=Bt[AJ]=Bt[bJ]=Bt[IJ]=Bt[RJ]=Bt[PJ]=Bt[MJ]=!0;Bt[hJ]=Bt[bO]=Bt[_J]=!1;function gg(e,t,n,r,i,o){var s,a=t&aJ,l=t&lJ,c=t&cJ;if(n&&(s=i?n(e,r,i,o):n(e)),s!==void 0)return s;if(!Lo(e))return e;var u=to(e);if(u){if(s=CQ(e),!a)return pO(e,s)}else{var d=Of(e),h=d==bO||d==pJ;if(am(e))return dQ(e,a);if(d==_O||d==AO||h&&!i){if(s=l||h?{}:eJ(e),!a)return l?yQ(e,cQ(s,e)):gQ(e,iQ(s,e))}else{if(!Bt[d])return i?e:{};s=XQ(e,d,a)}}o||(o=new as);var p=o.get(e);if(p)return p;o.set(e,s),sJ(e)?e.forEach(function(b){s.add(gg(b,t,n,b,e,o))}):rJ(e)&&e.forEach(function(b,y){s.set(y,gg(b,t,n,y,e,o))});var g=c?l?yO:nb:l?lS:Sh,m=u?void 0:g(e);return gY(m||e,function(b,y){m&&(y=b,b=e[y]),sO(s,y,gg(b,t,n,y,e,o))}),s}var jJ=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,OJ=/^\w*$/;function hS(e,t){if(to(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||k0(e)?!0:OJ.test(e)||!jJ.test(e)||t!=null&&e in Object(t)}var VJ=500;function LJ(e){var t=R0(e,function(r){return n.size===VJ&&n.clear(),r}),n=t.cache;return t}var NJ=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,$J=/\\(\\)?/g,DJ=LJ(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(NJ,function(n,r,i,o){t.push(i?o.replace($J,"$1"):r||n)}),t}),BJ=1/0,lT=Zi?Zi.prototype:void 0,cT=lT?lT.toString:void 0;function xO(e){if(typeof e=="string")return e;if(to(e))return iS(e,xO)+"";if(k0(e))return cT?cT.call(e):"";var t=e+"";return t=="0"&&1/e==-BJ?"-0":t}function pS(e){return e==null?"":xO(e)}function F0(e,t){return to(e)?e:hS(e,t)?[e]:DJ(pS(e))}function FJ(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var zJ=1/0;function wh(e){if(typeof e=="string"||k0(e))return e;var t=e+"";return t=="0"&&1/e==-zJ?"-0":t}function gS(e,t){t=F0(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[wh(t[n++])];return n&&n==r?e:void 0}function mS(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}function UJ(e,t){return t.length<2?e:gS(e,mS(t,0,-1))}function HJ(e,t){return t=F0(t,e),e=UJ(e,t),e==null||delete e[wh(FJ(t))]}var GJ="[object Object]",qJ=Function.prototype,WJ=Object.prototype,SO=qJ.toString,KJ=WJ.hasOwnProperty,YJ=SO.call(Object);function QJ(e){if(!Ms(e)||Kl(e)!=GJ)return!1;var t=dS(e);if(t===null)return!0;var n=KJ.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&SO.call(n)==YJ}function JJ(e){return QJ(e)?void 0:e}var uT=Zi?Zi.isConcatSpreadable:void 0;function XJ(e){return to(e)||oS(e)||!!(uT&&e&&e[uT])}function wO(e,t,n,r,i){var o=-1,s=e.length;for(n||(n=XJ),i||(i=[]);++o<s;){var a=e[o];t>0&&n(a)?t>1?wO(a,t-1,n,r,i):uS(i,a):r||(i[i.length]=a)}return i}function ZJ(e){var t=e==null?0:e.length;return t?wO(e,1):[]}function eX(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var dT=Math.max;function tX(e,t,n){return t=dT(t===void 0?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=dT(r.length-t,0),s=Array(o);++i<o;)s[i]=r[t+i];i=-1;for(var a=Array(t+1);++i<t;)a[i]=r[i];return a[t]=n(s),eX(e,this,a)}}function nX(e){return function(){return e}}function EO(e){return e}var rX=sm?function(e,t){return sm(e,"toString",{configurable:!0,enumerable:!1,value:nX(t),writable:!0})}:EO;const iX=rX;var oX=800,sX=16,aX=Date.now;function lX(e){var t=0,n=0;return function(){var r=aX(),i=sX-(r-n);if(n=r,i>0){if(++t>=oX)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var cX=lX(iX);function uX(e){return cX(tX(e,void 0,ZJ),e+"")}var dX=1,fX=2,hX=4,pX=uX(function(e,t){var n={};if(e==null)return n;var r=!1;t=iS(t,function(o){return o=F0(o,e),r||(r=o.length>1),o}),xh(e,yO(e),n),r&&(n=gg(n,dX|fX|hX,JJ));for(var i=t.length;i--;)HJ(n,t[i]);return n});function $o(e,t=!1){const[n,r]=v.useState(null);return v.useEffect(()=>{const i=(...o)=>{r(o)};return e.subscribe(i,t),()=>e.unsubscribe(i)},[e]),n}function Tr(e,t,n=[]){const r=Array.isArray(e)?e:[e];v.useEffect(()=>(r.forEach(i=>i.subscribe(t)),()=>r.forEach(i=>i.unsubscribe(t))),[...r,t,...n])}function Si(e,t,n=[]){const r=v.useMemo(t,[]),[i,o]=v.useState(r),s=Array.isArray(e)?e:[e];return v.useEffect(()=>{o(t())},n),v.useEffect(()=>{const a=()=>o(t());return s.forEach(l=>l.subscribe(a)),()=>s.forEach(l=>l.unsubscribe(a))},[...s]),i}var gX=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,mX=Q3(function(e){return gX.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),vX=mX,yX=function(t){return t!=="theme"},fT=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?vX:yX},hT=function(t,n,r){var i;if(n){var o=n.shouldForwardProp;i=t.__emotion_forwardProp&&o?function(s){return t.__emotion_forwardProp(s)&&o(s)}:o}return typeof i!="function"&&r&&(i=t.__emotion_forwardProp),i},AX=function(t){var n=t.cache,r=t.serialized,i=t.isStringTag;return X3(n,r,i),aY(function(){return Z3(n,r,i)}),null},I=function e(t,n){var r=t.__emotion_real===t,i=r&&t.__emotion_base||t,o,s;n!==void 0&&(o=n.label,s=n.target);var a=hT(t,n,r),l=a||fT(i),c=!l("as");return function(){var u=arguments,d=r&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(o!==void 0&&d.push("label:"+o+";"),u[0]==null||u[0].raw===void 0)d.push.apply(d,u);else{d.push(u[0][0]);for(var h=u.length,p=1;p<h;p++)d.push(u[p],u[0][p])}var g=iO(function(m,b,y){var A=c&&m.as||i,x="",S=[],_=m;if(m.theme==null){_={};for(var w in m)_[w]=m[w];_.theme=v.useContext(_h)}typeof m.className=="string"?x=eY(b.registered,S,m.className):m.className!=null&&(x=m.className+" ");var E=rS(d.concat(S),b.registered,_);x+=b.key+"-"+E.name,s!==void 0&&(x+=" "+s);var T=c&&a===void 0?fT(A):l,O={};for(var L in m)c&&L==="as"||T(L)&&(O[L]=m[L]);return O.className=x,O.ref=y,v.createElement(v.Fragment,null,v.createElement(AX,{cache:b,serialized:E,isStringTag:typeof A=="string"}),v.createElement(A,O))});return g.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",g.defaultProps=t.defaultProps,g.__emotion_real=g,g.__emotion_base=i,g.__emotion_styles=d,g.__emotion_forwardProp=a,Object.defineProperty(g,"toString",{value:function(){return"."+s}}),g.withComponent=function(m,b){return e(m,tb({},n,b,{shouldForwardProp:hT(g,b,!0)})).apply(void 0,d)},g}};const yu={animation:"focusAnimation 1000ms ease-in-out infinite both"},bX={boxShadow:`inset 0px 0px 0px 4px ${he.colors.text.active}`},Fe={fontWeight:"bold",WebkitTextStroke:"0.1rem black",color:"white","& strong":{color:he.colors.text.active}},Vf="@media (hover: none)",z0="  @media (max-height: 500px) and (min-aspect-ratio: 16/10)";function _X(){var e=v.useRef(!0);return e.current?(e.current=!1,!0):e.current}var cm=function(){return cm=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},cm.apply(this,arguments)};function xX(){var e=v.useRef(!1),t=v.useCallback(function(){return e.current},[]);return v.useEffect(function(){return e.current=!0,function(){e.current=!1}},[]),t}function SX(e,t,n){t===void 0&&(t=[]),n===void 0&&(n={loading:!1});var r=v.useRef(0),i=xX(),o=v.useState(n),s=o[0],a=o[1],l=v.useCallback(function(){for(var c=[],u=0;u<arguments.length;u++)c[u]=arguments[u];var d=++r.current;return s.loading||a(function(h){return cm(cm({},h),{loading:!0})}),e.apply(void 0,c).then(function(h){return i()&&d===r.current&&a({value:h,loading:!1}),h},function(h){return i()&&d===r.current&&a({error:h,loading:!1}),h})},t);return[s,l]}function pT(e,t){t===void 0&&(t=[]);var n=SX(e,t,{loading:!0}),r=n[0],i=n[1];return v.useEffect(function(){i()},[i]),r}function wX(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e&&e.addEventListener&&e.addEventListener.apply(e,t)}function EX(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e&&e.removeEventListener&&e.removeEventListener.apply(e,t)}var kX=typeof window<"u",CX=function(e){return(e+1)%1e6};function kO(){var e=v.useReducer(CX,0),t=e[1];return t}var TX=function(e){v.useEffect(e,[])},IX=kX?window:null,gT=function(e){return!!e.addEventListener},mT=function(e){return!!e.on},RX=function(e,t,n,r){n===void 0&&(n=IX),v.useEffect(function(){if(t&&n)return gT(n)?wX(n,e,t,r):mT(n)&&n.on(e,t,r),function(){gT(n)?EX(n,e,t,r):mT(n)&&n.off(e,t,r)}},[e,t,n,JSON.stringify(r)])},CO=function(e,t){var n=v.useRef(function(){});v.useEffect(function(){n.current=e}),v.useEffect(function(){if(t!==null){var r=setInterval(function(){return n.current()},t||0);return function(){return clearInterval(r)}}},[t])},PX=function(e){var t=v.useRef(e);t.current=e,TX(function(){return function(){return t.current()}})};function MX(e){var t=v.useRef();return v.useEffect(function(){t.current=e}),t.current}var jX=function(e,t){return e===t};function OX(e,t){t===void 0&&(t=jX);var n=v.useRef(),r=v.useRef(e),i=_X();return!i&&!t(r.current,e)&&(n.current=r.current,r.current=e),n.current}function VX(){const[e,t]=v.useState(null),[n,r]=v.useState(bl.isStarted()),[i,o]=v.useState(bl.getLatency());CO(()=>{o(bl.getLatency())},1e3),Tr(ee.micServerStarted,()=>{r(!0)}),Tr(ee.micServerStopped,()=>{r(!1)});const s=Si([ee.remoteMicConnected,ee.remoteMicDisconnected],()=>Ze.getRemoteMics(),[n]);return v.useEffect(()=>{e===null&&n&&t(!0)},[n,e]),e?f.jsxs(LX,{children:[f.jsxs(vT,{children:[f.jsx("strong",{children:"Remote mic server"}),": ",n?"Online":"Offline",n&&i&&f.jsxs(f.Fragment,{children:[" (",i,"ms)"]})]}),n&&f.jsx(f.Fragment,{children:f.jsxs(vT,{children:[f.jsx("strong",{children:"connected mics"}),": ",s.length]})})]}):null}const LX=I("div",{target:"eeky7rp1"})("opacity:0.75;position:fixed;bottom:0;right:0;",Fe,";font-size:1.5rem;padding:0.5rem;display:flex;gap:1rem;z-index:100000;pointer-events:none;"),vT=I("div",{target:"eeky7rp0"})("");var Ry=typeof navigator<"u"?navigator.userAgent.toLowerCase().indexOf("firefox")>0:!1;function Py(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r):e.attachEvent&&e.attachEvent("on".concat(t),function(){n(window.event)})}function TO(e,t){for(var n=t.slice(0,t.length-1),r=0;r<n.length;r++)n[r]=e[n[r].toLowerCase()];return n}function IO(e){typeof e!="string"&&(e=""),e=e.replace(/\s/g,"");for(var t=e.split(","),n=t.lastIndexOf("");n>=0;)t[n-1]+=",",t.splice(n,1),n=t.lastIndexOf("");return t}function NX(e,t){for(var n=e.length>=t.length?e:t,r=e.length>=t.length?t:e,i=!0,o=0;o<n.length;o++)r.indexOf(n[o])===-1&&(i=!1);return i}var vS={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,num_0:96,num_1:97,num_2:98,num_3:99,num_4:100,num_5:101,num_6:102,num_7:103,num_8:104,num_9:105,num_multiply:106,num_add:107,num_enter:108,num_subtract:109,num_decimal:110,num_divide:111,"⇪":20,",":188,".":190,"/":191,"`":192,"-":Ry?173:189,"=":Ry?61:187,";":Ry?59:186,"'":222,"[":219,"]":221,"\\":220},Ia={"⇧":16,shift:16,"⌥":18,alt:18,option:18,"⌃":17,ctrl:17,control:17,"⌘":91,cmd:91,command:91},sb={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},dr={16:!1,18:!1,17:!1,91:!1},Nn={};for(var mp=1;mp<20;mp++)vS["f".concat(mp)]=111+mp;var en=[],yT=!1,RO="all",PO=[],U0=function(t){return vS[t.toLowerCase()]||Ia[t.toLowerCase()]||t.toUpperCase().charCodeAt(0)};function MO(e){RO=e||"all"}function Lf(){return RO||"all"}function $X(){return en.slice(0)}function DX(e){var t=e.target||e.srcElement,n=t.tagName,r=!0;return(t.isContentEditable||(n==="INPUT"||n==="TEXTAREA"||n==="SELECT")&&!t.readOnly)&&(r=!1),r}function BX(e){return typeof e=="string"&&(e=U0(e)),en.indexOf(e)!==-1}function FX(e,t){var n,r;e||(e=Lf());for(var i in Nn)if(Object.prototype.hasOwnProperty.call(Nn,i))for(n=Nn[i],r=0;r<n.length;)n[r].scope===e?n.splice(r,1):r++;Lf()===e&&MO(t||"all")}function zX(e){var t=e.keyCode||e.which||e.charCode,n=en.indexOf(t);if(n>=0&&en.splice(n,1),e.key&&e.key.toLowerCase()==="meta"&&en.splice(0,en.length),(t===93||t===224)&&(t=91),t in dr){dr[t]=!1;for(var r in Ia)Ia[r]===t&&(mi[r]=!1)}}function UX(e){if(typeof e>"u")Object.keys(Nn).forEach(function(s){return delete Nn[s]});else if(Array.isArray(e))e.forEach(function(s){s.key&&My(s)});else if(typeof e=="object")e.key&&My(e);else if(typeof e=="string"){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n[0],o=n[1];typeof i=="function"&&(o=i,i=""),My({key:e,scope:i,method:o,splitKey:"+"})}}var My=function(t){var n=t.key,r=t.scope,i=t.method,o=t.splitKey,s=o===void 0?"+":o,a=IO(n);a.forEach(function(l){var c=l.split(s),u=c.length,d=c[u-1],h=d==="*"?"*":U0(d);if(Nn[h]){r||(r=Lf());var p=u>1?TO(Ia,c):[];Nn[h]=Nn[h].filter(function(g){var m=i?g.method===i:!0;return!(m&&g.scope===r&&NX(g.mods,p))})}})};function AT(e,t,n,r){if(t.element===r){var i;if(t.scope===n||t.scope==="all"){i=t.mods.length>0;for(var o in dr)Object.prototype.hasOwnProperty.call(dr,o)&&(!dr[o]&&t.mods.indexOf(+o)>-1||dr[o]&&t.mods.indexOf(+o)===-1)&&(i=!1);(t.mods.length===0&&!dr[16]&&!dr[18]&&!dr[17]&&!dr[91]||i||t.shortcut==="*")&&t.method(e,t)===!1&&(e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.cancelBubble&&(e.cancelBubble=!0))}}}function bT(e,t){var n=Nn["*"],r=e.keyCode||e.which||e.charCode;if(mi.filter.call(this,e)){if((r===93||r===224)&&(r=91),en.indexOf(r)===-1&&r!==229&&en.push(r),["ctrlKey","altKey","shiftKey","metaKey"].forEach(function(g){var m=sb[g];e[g]&&en.indexOf(m)===-1?en.push(m):!e[g]&&en.indexOf(m)>-1?en.splice(en.indexOf(m),1):g==="metaKey"&&e[g]&&en.length===3&&(e.ctrlKey||e.shiftKey||e.altKey||(en=en.slice(en.indexOf(m))))}),r in dr){dr[r]=!0;for(var i in Ia)Ia[i]===r&&(mi[i]=!0);if(!n)return}for(var o in dr)Object.prototype.hasOwnProperty.call(dr,o)&&(dr[o]=e[sb[o]]);e.getModifierState&&!(e.altKey&&!e.ctrlKey)&&e.getModifierState("AltGraph")&&(en.indexOf(17)===-1&&en.push(17),en.indexOf(18)===-1&&en.push(18),dr[17]=!0,dr[18]=!0);var s=Lf();if(n)for(var a=0;a<n.length;a++)n[a].scope===s&&(e.type==="keydown"&&n[a].keydown||e.type==="keyup"&&n[a].keyup)&&AT(e,n[a],s,t);if(r in Nn){for(var l=0;l<Nn[r].length;l++)if((e.type==="keydown"&&Nn[r][l].keydown||e.type==="keyup"&&Nn[r][l].keyup)&&Nn[r][l].key){for(var c=Nn[r][l],u=c.splitKey,d=c.key.split(u),h=[],p=0;p<d.length;p++)h.push(U0(d[p]));h.sort().join("")===en.sort().join("")&&AT(e,c,s,t)}}}}function HX(e){return PO.indexOf(e)>-1}function mi(e,t,n){en=[];var r=IO(e),i=[],o="all",s=document,a=0,l=!1,c=!0,u="+",d=!1;for(n===void 0&&typeof t=="function"&&(n=t),Object.prototype.toString.call(t)==="[object Object]"&&(t.scope&&(o=t.scope),t.element&&(s=t.element),t.keyup&&(l=t.keyup),t.keydown!==void 0&&(c=t.keydown),t.capture!==void 0&&(d=t.capture),typeof t.splitKey=="string"&&(u=t.splitKey)),typeof t=="string"&&(o=t);a<r.length;a++)e=r[a].split(u),i=[],e.length>1&&(i=TO(Ia,e)),e=e[e.length-1],e=e==="*"?"*":U0(e),e in Nn||(Nn[e]=[]),Nn[e].push({keyup:l,keydown:c,scope:o,mods:i,shortcut:r[a],method:n,key:r[a],splitKey:u,element:s});typeof s<"u"&&!HX(s)&&window&&(PO.push(s),Py(s,"keydown",function(h){bT(h,s)},d),yT||(yT=!0,Py(window,"focus",function(){en=[]},d)),Py(s,"keyup",function(h){bT(h,s),zX(h)},d))}function GX(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"all";Object.keys(Nn).forEach(function(n){var r=Nn[n].find(function(i){return i.scope===t&&i.shortcut===e});r&&r.method&&r.method()})}var jy={setScope:MO,getScope:Lf,deleteScope:FX,getPressedKeyCodes:$X,isPressed:BX,filter:DX,trigger:GX,unbind:UX,keyMap:vS,modifier:Ia,modifierMap:sb};for(var Oy in jy)Object.prototype.hasOwnProperty.call(jy,Oy)&&(mi[Oy]=jy[Oy]);if(typeof window<"u"){var qX=window.hotkeys;mi.noConflict=function(e){return e&&window.hotkeys===mi&&(window.hotkeys=qX),mi},window.hotkeys=mi}mi.filter=function(){return!0};var jO=function(t,n){var r=t.target,i=r&&r.tagName;return!!(i&&n&&n.includes(i))},WX=function(t){return jO(t,["INPUT","TEXTAREA","SELECT"])};function Lr(e,t,n,r){n instanceof Array&&(r=n,n=void 0);var i=n||{},o=i.enableOnTags,s=i.filter,a=i.keyup,l=i.keydown,c=i.filterPreventDefault,u=c===void 0?!0:c,d=i.enabled,h=d===void 0?!0:d,p=i.enableOnContentEditable,g=p===void 0?!1:p,m=v.useRef(null),b=v.useCallback(function(y,A){var x,S;return s&&!s(y)?!u:WX(y)&&!jO(y,o)||(x=y.target)!=null&&x.isContentEditable&&!g?!0:m.current===null||document.activeElement===m.current||(S=m.current)!=null&&S.contains(document.activeElement)?(t(y,A),!0):!1},r?[m,o,s].concat(r):[m,o,s]);return v.useEffect(function(){if(!h){mi.unbind(e,b);return}return a&&l!==!0&&(n.keydown=!1),mi(e,n||{},b),function(){return mi.unbind(e,b)}},[b,e,h]),m}mi.isPressed;const ab="a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,r,s,t,u,w,x,y,z,1,2,3,4,5,6,7,8,9,0";var uM,Yp,dM;try{(dM=(Yp=(uM=global==null?void 0:global.navigator)==null?void 0:uM.keyboard)==null?void 0:Yp.lock)==null||dM.call(Yp,["Escape"])}catch(e){console.warn(e)}var fM,hM;const KX=!!((hM=(fM=global==null?void 0:global.navigator)==null?void 0:fM.keyboard)!=null&&hM.lock),Ka=e=>t=>{e&&(t.preventDefault(),t.stopPropagation(),e(t))};function Jl(e,t=!0,n){Tr(ee.remoteKeyboardPressed,r=>{var i;t&&r in e&&((i=e[r])==null||i.call(e))}),Lr("up",Ka(e.up),{enabled:t&&!!(e!=null&&e.up)},n),Lr("down",Ka(e.down),{enabled:t&&!!(e!=null&&e.down)},n),Lr("left",Ka(e.left),{enabled:t&&!!(e!=null&&e.left)},n),Lr("right",Ka(e.right),{enabled:t&&!!(e!=null&&e.right)},n),Lr("Enter",Ka(e.accept),{enabled:t&&!!(e!=null&&e.accept)},n),Lr("Escape,Backspace",Ka(e.back),{enabled:t&&!!(e!=null&&e.back)},n),Lr("Shift+R",Ka(e.random),{enabled:t&&!!(e!=null&&e.random)},n)}function YX({help:e}){const[t]=Ue(yr),[n,r]=Ue($j);Lr("shift+h",()=>r(!n),void 0,[n]);const i=Object.entries(e??{}).filter(([,o])=>o!==void 0);return t?null:f.jsx(f.Fragment,{children:f.jsx(rZ,{"data-test":"help-container",onClick:()=>r(!n),visible:!!i.length&&n,children:n&&f.jsxs(f.Fragment,{children:[f.jsx(VO,{children:"Use indicated keys on your keyboard"}),i.map(([o,s])=>{const{view:a,defaultLabel:l}=nZ[o];return f.jsxs(_T,{children:[f.jsx(ST,{children:s??l}),f.jsx(xT,{children:f.jsx(a,{})})]},o)}),f.jsxs(_T,{children:[f.jsx(ST,{children:"Show/hide this help"}),f.jsx(xT,{children:OO("h")()})]})]})})})}const yS=({vertical:e=!1,horizontal:t=!1})=>f.jsxs(f.Fragment,{children:[f.jsx(rs,{disabled:!e,children:"↑"}),f.jsx("br",{}),f.jsx(rs,{disabled:!t,children:"←"}),f.jsx(rs,{disabled:!e,children:"↓"}),f.jsx(rs,{disabled:!t,children:"→"})]}),QX=()=>f.jsx(yS,{horizontal:!0}),JX=()=>f.jsx(yS,{vertical:!0}),XX=()=>f.jsx(yS,{vertical:!0,horizontal:!0}),ZX=()=>f.jsx(rs,{children:"Enter ⏎"}),eZ=()=>KX?f.jsx(rs,{children:"Escape"}):f.jsx(rs,{children:"Backspace ⌫"}),OO=e=>()=>f.jsxs(f.Fragment,{children:[f.jsx(rs,{children:"Shift"})," + ",f.jsx(rs,{children:e.toUpperCase()})]}),tZ=()=>f.jsx(f.Fragment,{children:f.jsx(rs,{children:"start typing"})}),nZ={"horizontal-vertical":{view:XX,defaultLabel:"Navigate"},horizontal:{view:QX,defaultLabel:"Navigate"},vertical:{view:JX,defaultLabel:"Navigate"},accept:{view:ZX,defaultLabel:"Select"},back:{view:eZ,defaultLabel:"Go back"},shiftR:{view:OO("r"),defaultLabel:"Pick random"},alphanumeric:{view:tZ,defaultLabel:"Search"}},_T=I("div",{target:"efq3fs05"})({name:"1m596lt",styles:"display:flex;flex-direction:row;align-items:center;gap:1rem"}),xT=I("div",{target:"efq3fs04"})({name:"w84kwe",styles:"flex-wrap:nowrap;text-align:center;flex:2;color:white;font-weight:bold"}),ST=I("span",{target:"efq3fs03"})("flex:3;",Fe,";font-size:2rem;text-align:right;"),VO=I("div",{target:"efq3fs02"})("position:absolute;inset:0 0 0 0;background:rgba(0, 0, 0, 0.75);",Fe,";font-size:2rem;padding:2rem;display:flex;align-items:center;justify-content:center;text-align:center;opacity:0;transition:300ms;visibility:hidden;"),rZ=I("div",{target:"efq3fs01"})("position:fixed;top:5rem;right:0;padding:0.5rem;background:rgba(0, 0, 0, 0.5);display:flex;flex-direction:column;gap:1rem;width:34rem;visibility:",e=>e.visible?"visible":"hidden",";cursor:pointer;transform:scale(0.75);z-index:1000;@media (max-width: 560px){display:none;}view-transition-name:help-view;:hover{",VO,"{opacity:1;visibility:visible;}}svg{fill:white;}"),rs=I("kbd",{target:"efq3fs00"})("margin:0.2rem;padding:0.12rem 0.9rem;border-radius:0.3rem;border:0.1rem solid rgb(204, 204, 204);color:rgb(51, 51, 51);line-height:1.4;font-size:1.6rem;display:inline-block;box-shadow:0 0.1rem 0 rgba(0, 0, 0, 0.2),inset 0 0 0 0.2rem #ffffff;background-color:rgb(247, 247, 247);text-shadow:0 0.1rem 0 #fff;font-weight:normal;opacity:",e=>e.disabled?.25:1,";"),AS=v.createContext({setKeyboard:(e,t)=>{},unsetKeyboard:e=>{},hasContent:!1}),iZ=({children:e})=>{const[t,n]=v.useState({}),r=(u,d)=>{n(h=>({...h,[u]:d}))},i=u=>n(d=>pX(d,[u])),[o,s]=Object.entries(t).at(-1)??[];Tr(ee.remoteMicConnected,({id:u})=>{var d;(d=Ze.getRemoteMicById(u))==null||d.connection.send({t:"keyboard-layout",help:s})}),v.useEffect(()=>{Ze.broadcast({t:"keyboard-layout",help:s})},[o]);const{remote:a,...l}=s??{},c=!!Object.values(l).length;return f.jsxs(AS.Provider,{value:{setKeyboard:r,unsetKeyboard:i,hasContent:c},children:[e,f.jsx(YX,{help:l}),f.jsx(VX,{})]})};var oZ={webm:"data:video/webm;base64,GkXfowEAAAAAAAAfQoaBAUL3gQFC8oEEQvOBCEKChHdlYm1Ch4EEQoWBAhhTgGcBAAAAAAAVkhFNm3RALE27i1OrhBVJqWZTrIHfTbuMU6uEFlSua1OsggEwTbuMU6uEHFO7a1OsghV17AEAAAAAAACkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmAQAAAAAAAEUq17GDD0JATYCNTGF2ZjU1LjMzLjEwMFdBjUxhdmY1NS4zMy4xMDBzpJBlrrXf3DCDVB8KcgbMpcr+RImIQJBgAAAAAAAWVK5rAQAAAAAAD++uAQAAAAAAADLXgQFzxYEBnIEAIrWcg3VuZIaFVl9WUDiDgQEj44OEAmJaAOABAAAAAAAABrCBsLqBkK4BAAAAAAAPq9eBAnPFgQKcgQAitZyDdW5khohBX1ZPUkJJU4OBAuEBAAAAAAAAEZ+BArWIQOdwAAAAAABiZIEgY6JPbwIeVgF2b3JiaXMAAAAAAoC7AAAAAAAAgLUBAAAAAAC4AQN2b3JiaXMtAAAAWGlwaC5PcmcgbGliVm9yYmlzIEkgMjAxMDExMDEgKFNjaGF1ZmVudWdnZXQpAQAAABUAAABlbmNvZGVyPUxhdmM1NS41Mi4xMDIBBXZvcmJpcyVCQ1YBAEAAACRzGCpGpXMWhBAaQlAZ4xxCzmvsGUJMEYIcMkxbyyVzkCGkoEKIWyiB0JBVAABAAACHQXgUhIpBCCGEJT1YkoMnPQghhIg5eBSEaUEIIYQQQgghhBBCCCGERTlokoMnQQgdhOMwOAyD5Tj4HIRFOVgQgydB6CCED0K4moOsOQghhCQ1SFCDBjnoHITCLCiKgsQwuBaEBDUojILkMMjUgwtCiJqDSTX4GoRnQXgWhGlBCCGEJEFIkIMGQcgYhEZBWJKDBjm4FITLQagahCo5CB+EIDRkFQCQAACgoiiKoigKEBqyCgDIAAAQQFEUx3EcyZEcybEcCwgNWQUAAAEACAAAoEiKpEiO5EiSJFmSJVmSJVmS5omqLMuyLMuyLMsyEBqyCgBIAABQUQxFcRQHCA1ZBQBkAAAIoDiKpViKpWiK54iOCISGrAIAgAAABAAAEDRDUzxHlETPVFXXtm3btm3btm3btm3btm1blmUZCA1ZBQBAAAAQ0mlmqQaIMAMZBkJDVgEACAAAgBGKMMSA0JBVAABAAACAGEoOogmtOd+c46BZDppKsTkdnEi1eZKbirk555xzzsnmnDHOOeecopxZDJoJrTnnnMSgWQqaCa0555wnsXnQmiqtOeeccc7pYJwRxjnnnCateZCajbU555wFrWmOmkuxOeecSLl5UptLtTnnnHPOOeecc84555zqxekcnBPOOeecqL25lpvQxTnnnE/G6d6cEM4555xzzjnnnHPOOeecIDRkFQAABABAEIaNYdwpCNLnaCBGEWIaMulB9+gwCRqDnELq0ehopJQ6CCWVcVJKJwgNWQUAAAIAQAghhRRSSCGFFFJIIYUUYoghhhhyyimnoIJKKqmooowyyyyzzDLLLLPMOuyssw47DDHEEEMrrcRSU2011lhr7jnnmoO0VlprrbVSSimllFIKQkNWAQAgAAAEQgYZZJBRSCGFFGKIKaeccgoqqIDQkFUAACAAgAAAAABP8hzRER3RER3RER3RER3R8RzPESVREiVREi3TMjXTU0VVdWXXlnVZt31b2IVd933d933d+HVhWJZlWZZlWZZlWZZlWZZlWZYgNGQVAAACAAAghBBCSCGFFFJIKcYYc8w56CSUEAgNWQUAAAIACAAAAHAUR3EcyZEcSbIkS9IkzdIsT/M0TxM9URRF0zRV0RVdUTdtUTZl0zVdUzZdVVZtV5ZtW7Z125dl2/d93/d93/d93/d93/d9XQdCQ1YBABIAADqSIymSIimS4ziOJElAaMgqAEAGAEAAAIriKI7jOJIkSZIlaZJneZaomZrpmZ4qqkBoyCoAABAAQAAAAAAAAIqmeIqpeIqoeI7oiJJomZaoqZoryqbsuq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq4LhIasAgAkAAB0JEdyJEdSJEVSJEdygNCQVQCADACAAAAcwzEkRXIsy9I0T/M0TxM90RM901NFV3SB0JBVAAAgAIAAAAAAAAAMybAUy9EcTRIl1VItVVMt1VJF1VNVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVN0zRNEwgNWQkAkAEAkBBTLS3GmgmLJGLSaqugYwxS7KWxSCpntbfKMYUYtV4ah5RREHupJGOKQcwtpNApJq3WVEKFFKSYYyoVUg5SIDRkhQAQmgHgcBxAsixAsiwAAAAAAAAAkDQN0DwPsDQPAAAAAAAAACRNAyxPAzTPAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABA0jRA8zxA8zwAAAAAAAAA0DwP8DwR8EQRAAAAAAAAACzPAzTRAzxRBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABA0jRA8zxA8zwAAAAAAAAAsDwP8EQR0DwRAAAAAAAAACzPAzxRBDzRAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAEOAAABBgIRQasiIAiBMAcEgSJAmSBM0DSJYFTYOmwTQBkmVB06BpME0AAAAAAAAAAAAAJE2DpkHTIIoASdOgadA0iCIAAAAAAAAAAAAAkqZB06BpEEWApGnQNGgaRBEAAAAAAAAAAAAAzzQhihBFmCbAM02IIkQRpgkAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAGHAAAAgwoQwUGrIiAIgTAHA4imUBAIDjOJYFAACO41gWAABYliWKAABgWZooAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAYcAAACDChDBQashIAiAIAcCiKZQHHsSzgOJYFJMmyAJYF0DyApgFEEQAIAAAocAAACLBBU2JxgEJDVgIAUQAABsWxLE0TRZKkaZoniiRJ0zxPFGma53meacLzPM80IYqiaJoQRVE0TZimaaoqME1VFQAAUOAAABBgg6bE4gCFhqwEAEICAByKYlma5nmeJ4qmqZokSdM8TxRF0TRNU1VJkqZ5niiKommapqqyLE3zPFEURdNUVVWFpnmeKIqiaaqq6sLzPE8URdE0VdV14XmeJ4qiaJqq6roQRVE0TdNUTVV1XSCKpmmaqqqqrgtETxRNU1Vd13WB54miaaqqq7ouEE3TVFVVdV1ZBpimaaqq68oyQFVV1XVdV5YBqqqqruu6sgxQVdd1XVmWZQCu67qyLMsCAAAOHAAAAoygk4wqi7DRhAsPQKEhKwKAKAAAwBimFFPKMCYhpBAaxiSEFEImJaXSUqogpFJSKRWEVEoqJaOUUmopVRBSKamUCkIqJZVSAADYgQMA2IGFUGjISgAgDwCAMEYpxhhzTiKkFGPOOScRUoox55yTSjHmnHPOSSkZc8w556SUzjnnnHNSSuacc845KaVzzjnnnJRSSuecc05KKSWEzkEnpZTSOeecEwAAVOAAABBgo8jmBCNBhYasBABSAQAMjmNZmuZ5omialiRpmud5niiapiZJmuZ5nieKqsnzPE8URdE0VZXneZ4oiqJpqirXFUXTNE1VVV2yLIqmaZqq6rowTdNUVdd1XZimaaqq67oubFtVVdV1ZRm2raqq6rqyDFzXdWXZloEsu67s2rIAAPAEBwCgAhtWRzgpGgssNGQlAJABAEAYg5BCCCFlEEIKIYSUUggJAAAYcAAACDChDBQashIASAUAAIyx1lprrbXWQGettdZaa62AzFprrbXWWmuttdZaa6211lJrrbXWWmuttdZaa6211lprrbXWWmuttdZaa6211lprrbXWWmuttdZaa6211lprrbXWWmstpZRSSimllFJKKaWUUkoppZRSSgUA+lU4APg/2LA6wknRWGChISsBgHAAAMAYpRhzDEIppVQIMeacdFRai7FCiDHnJKTUWmzFc85BKCGV1mIsnnMOQikpxVZjUSmEUlJKLbZYi0qho5JSSq3VWIwxqaTWWoutxmKMSSm01FqLMRYjbE2ptdhqq7EYY2sqLbQYY4zFCF9kbC2m2moNxggjWywt1VprMMYY3VuLpbaaizE++NpSLDHWXAAAd4MDAESCjTOsJJ0VjgYXGrISAAgJACAQUooxxhhzzjnnpFKMOeaccw5CCKFUijHGnHMOQgghlIwx5pxzEEIIIYRSSsaccxBCCCGEkFLqnHMQQgghhBBKKZ1zDkIIIYQQQimlgxBCCCGEEEoopaQUQgghhBBCCKmklEIIIYRSQighlZRSCCGEEEIpJaSUUgohhFJCCKGElFJKKYUQQgillJJSSimlEkoJJYQSUikppRRKCCGUUkpKKaVUSgmhhBJKKSWllFJKIYQQSikFAAAcOAAABBhBJxlVFmGjCRcegEJDVgIAZAAAkKKUUiktRYIipRikGEtGFXNQWoqocgxSzalSziDmJJaIMYSUk1Qy5hRCDELqHHVMKQYtlRhCxhik2HJLoXMOAAAAQQCAgJAAAAMEBTMAwOAA4XMQdAIERxsAgCBEZohEw0JweFAJEBFTAUBigkIuAFRYXKRdXECXAS7o4q4DIQQhCEEsDqCABByccMMTb3jCDU7QKSp1IAAAAAAADADwAACQXAAREdHMYWRobHB0eHyAhIiMkAgAAAAAABcAfAAAJCVAREQ0cxgZGhscHR4fICEiIyQBAIAAAgAAAAAggAAEBAQAAAAAAAIAAAAEBB9DtnUBAAAAAAAEPueBAKOFggAAgACjzoEAA4BwBwCdASqwAJAAAEcIhYWIhYSIAgIABhwJ7kPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99YAD+/6tQgKOFggADgAqjhYIAD4AOo4WCACSADqOZgQArADECAAEQEAAYABhYL/QACIBDmAYAAKOFggA6gA6jhYIAT4AOo5mBAFMAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAGSADqOFggB6gA6jmYEAewAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIAj4AOo5mBAKMAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAKSADqOFggC6gA6jmYEAywAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIAz4AOo4WCAOSADqOZgQDzADECAAEQEAAYABhYL/QACIBDmAYAAKOFggD6gA6jhYIBD4AOo5iBARsAEQIAARAQFGAAYWC/0AAiAQ5gGACjhYIBJIAOo4WCATqADqOZgQFDADECAAEQEAAYABhYL/QACIBDmAYAAKOFggFPgA6jhYIBZIAOo5mBAWsAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAXqADqOFggGPgA6jmYEBkwAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIBpIAOo4WCAbqADqOZgQG7ADECAAEQEAAYABhYL/QACIBDmAYAAKOFggHPgA6jmYEB4wAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIB5IAOo4WCAfqADqOZgQILADECAAEQEAAYABhYL/QACIBDmAYAAKOFggIPgA6jhYICJIAOo5mBAjMAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAjqADqOFggJPgA6jmYECWwAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYICZIAOo4WCAnqADqOZgQKDADECAAEQEAAYABhYL/QACIBDmAYAAKOFggKPgA6jhYICpIAOo5mBAqsAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCArqADqOFggLPgA6jmIEC0wARAgABEBAUYABhYL/QACIBDmAYAKOFggLkgA6jhYIC+oAOo5mBAvsAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAw+ADqOZgQMjADECAAEQEAAYABhYL/QACIBDmAYAAKOFggMkgA6jhYIDOoAOo5mBA0sAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCA0+ADqOFggNkgA6jmYEDcwAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIDeoAOo4WCA4+ADqOZgQObADECAAEQEAAYABhYL/QACIBDmAYAAKOFggOkgA6jhYIDuoAOo5mBA8MAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCA8+ADqOFggPkgA6jhYID+oAOo4WCBA+ADhxTu2sBAAAAAAAAEbuPs4EDt4r3gQHxghEr8IEK",mp4:"data:video/mp4;base64,AAAAHGZ0eXBNNFYgAAACAGlzb21pc28yYXZjMQAAAAhmcmVlAAAGF21kYXTeBAAAbGliZmFhYyAxLjI4AABCAJMgBDIARwAAArEGBf//rdxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNDIgcjIgOTU2YzhkOCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTQgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0wIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz02IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MCB3ZWlnaHRwPTAga2V5aW50PTI1MCBrZXlpbnRfbWluPTI1IHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcmM9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCB2YnZfbWF4cmF0ZT03NjggdmJ2X2J1ZnNpemU9MzAwMCBjcmZfbWF4PTAuMCBuYWxfaHJkPW5vbmUgZmlsbGVyPTAgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAAFZliIQL8mKAAKvMnJycnJycnJycnXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXiEASZACGQAjgCEASZACGQAjgAAAAAdBmjgX4GSAIQBJkAIZACOAAAAAB0GaVAX4GSAhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGagC/AySEASZACGQAjgAAAAAZBmqAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZrAL8DJIQBJkAIZACOAAAAABkGa4C/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmwAvwMkhAEmQAhkAI4AAAAAGQZsgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGbQC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm2AvwMkhAEmQAhkAI4AAAAAGQZuAL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGboC/AySEASZACGQAjgAAAAAZBm8AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZvgL8DJIQBJkAIZACOAAAAABkGaAC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmiAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpAL8DJIQBJkAIZACOAAAAABkGaYC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmoAvwMkhAEmQAhkAI4AAAAAGQZqgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGawC/AySEASZACGQAjgAAAAAZBmuAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZsAL8DJIQBJkAIZACOAAAAABkGbIC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm0AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZtgL8DJIQBJkAIZACOAAAAABkGbgCvAySEASZACGQAjgCEASZACGQAjgAAAAAZBm6AnwMkhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AAAAhubW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAABDcAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAzB0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAA+kAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAALAAAACQAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAPpAAAAAAABAAAAAAKobWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAB1MAAAdU5VxAAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABWaWRlb0hhbmRsZXIAAAACU21pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAhNzdGJsAAAAr3N0c2QAAAAAAAAAAQAAAJ9hdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAALAAkABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAALWF2Y0MBQsAN/+EAFWdCwA3ZAsTsBEAAAPpAADqYA8UKkgEABWjLg8sgAAAAHHV1aWRraEDyXyRPxbo5pRvPAyPzAAAAAAAAABhzdHRzAAAAAAAAAAEAAAAeAAAD6QAAABRzdHNzAAAAAAAAAAEAAAABAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAABAAAAAQAAAIxzdHN6AAAAAAAAAAAAAAAeAAADDwAAAAsAAAALAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAAiHN0Y28AAAAAAAAAHgAAAEYAAANnAAADewAAA5gAAAO0AAADxwAAA+MAAAP2AAAEEgAABCUAAARBAAAEXQAABHAAAASMAAAEnwAABLsAAATOAAAE6gAABQYAAAUZAAAFNQAABUgAAAVkAAAFdwAABZMAAAWmAAAFwgAABd4AAAXxAAAGDQAABGh0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAACAAAAAAAABDcAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAQkAAADcAABAAAAAAPgbWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAAykBVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAADi21pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAADT3N0YmwAAABnc3RzZAAAAAAAAAABAAAAV21wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAAM2VzZHMAAAAAA4CAgCIAAgAEgICAFEAVBbjYAAu4AAAADcoFgICAAhGQBoCAgAECAAAAIHN0dHMAAAAAAAAAAgAAADIAAAQAAAAAAQAAAkAAAAFUc3RzYwAAAAAAAAAbAAAAAQAAAAEAAAABAAAAAgAAAAIAAAABAAAAAwAAAAEAAAABAAAABAAAAAIAAAABAAAABgAAAAEAAAABAAAABwAAAAIAAAABAAAACAAAAAEAAAABAAAACQAAAAIAAAABAAAACgAAAAEAAAABAAAACwAAAAIAAAABAAAADQAAAAEAAAABAAAADgAAAAIAAAABAAAADwAAAAEAAAABAAAAEAAAAAIAAAABAAAAEQAAAAEAAAABAAAAEgAAAAIAAAABAAAAFAAAAAEAAAABAAAAFQAAAAIAAAABAAAAFgAAAAEAAAABAAAAFwAAAAIAAAABAAAAGAAAAAEAAAABAAAAGQAAAAIAAAABAAAAGgAAAAEAAAABAAAAGwAAAAIAAAABAAAAHQAAAAEAAAABAAAAHgAAAAIAAAABAAAAHwAAAAQAAAABAAAA4HN0c3oAAAAAAAAAAAAAADMAAAAaAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAACMc3RjbwAAAAAAAAAfAAAALAAAA1UAAANyAAADhgAAA6IAAAO+AAAD0QAAA+0AAAQAAAAEHAAABC8AAARLAAAEZwAABHoAAASWAAAEqQAABMUAAATYAAAE9AAABRAAAAUjAAAFPwAABVIAAAVuAAAFgQAABZ0AAAWwAAAFzAAABegAAAX7AAAGFwAAAGJ1ZHRhAAAAWm1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAALWlsc3QAAAAlqXRvbwAAAB1kYXRhAAAAAQAAAABMYXZmNTUuMzMuMTAw"};const{webm:sZ,mp4:aZ}=oZ,Vy=()=>typeof navigator<"u"&&parseFloat((""+(/CPU.*OS ([0-9_]{3,4})[0-9_]{0,1}|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))<10&&!window.MSStream,Ly=()=>"wakeLock"in navigator&&window.navigator.userAgent.indexOf("Samsung")===-1;class lZ{constructor(){if(this.enabled=!1,Ly()){this._wakeLock=null;const t=()=>{this._wakeLock!==null&&document.visibilityState==="visible"&&this.enable()};document.addEventListener("visibilitychange",t),document.addEventListener("fullscreenchange",t)}else Vy()?this.noSleepTimer=null:(this.noSleepVideo=document.createElement("video"),this.noSleepVideo.setAttribute("title","No Sleep"),this.noSleepVideo.setAttribute("playsinline",""),this._addSourceToVideo(this.noSleepVideo,"webm",sZ),this._addSourceToVideo(this.noSleepVideo,"mp4",aZ),Object.assign(this.noSleepVideo.style,{position:"absolute",left:"-100%",top:"-100%"}),document.querySelector("body").append(this.noSleepVideo),this.noSleepVideo.addEventListener("loadedmetadata",()=>{this.noSleepVideo.duration<=1?this.noSleepVideo.setAttribute("loop",""):this.noSleepVideo.addEventListener("timeupdate",()=>{this.noSleepVideo.currentTime>.5&&(this.noSleepVideo.currentTime=Math.random())})}))}_addSourceToVideo(t,n,r){var i=document.createElement("source");i.src=r,i.type=`video/${n}`,t.appendChild(i)}get isEnabled(){return this.enabled}enable(){return Ly()?navigator.wakeLock.request("screen").then(t=>{this._wakeLock=t,this.enabled=!0,console.log("Wake Lock active."),this._wakeLock.addEventListener("release",()=>{console.log("Wake Lock released.")})}).catch(t=>{throw this.enabled=!1,console.error(`${t.name}, ${t.message}`),t}):Vy()?(this.disable(),console.warn(`
        NoSleep enabled for older iOS devices. This can interrupt
        active or long-running network requests from completing successfully.
        See https://github.com/richtr/NoSleep.js/issues/15 for more details.
      `),this.noSleepTimer=window.setInterval(()=>{document.hidden||(window.location.href=window.location.href.split("#")[0],window.setTimeout(window.stop,0))},15e3),this.enabled=!0,Promise.resolve()):this.noSleepVideo.play().then(n=>(this.enabled=!0,n)).catch(n=>{throw this.enabled=!1,n})}disable(){Ly()?(this._wakeLock&&this._wakeLock.release(),this._wakeLock=null):Vy()?this.noSleepTimer&&(console.warn(`
          NoSleep now disabled for older iOS devices.
        `),window.clearInterval(this.noSleepTimer),this.noSleepTimer=null):this.noSleepVideo.pause(),this.enabled=!1}}var cZ=lZ;const uZ=vr(cZ),dZ="/assets/eurovisionbg-CvR5q-FP.svg",bS=v.createContext({visible:!0,theme:"regular",setVisibility:e=>{},setTheme:e=>{}}),La=(e,t="regular")=>{const{setVisibility:n,setTheme:r}=v.useContext(bS);v.useEffect(()=>{n(e)},[e,n]),v.useEffect(()=>{r(t)},[t,r])};function fZ({children:e}){const[t,n]=v.useState(!0),[r,i]=v.useState("regular"),[o]=Ue(qi);return f.jsxs(bS.Provider,{value:{visible:t,setVisibility:n,setTheme:i,theme:r},children:[t&&f.jsx(bZ,{"data-theme":r,"data-graphic-level":o,bgtheme:r,children:r==="eurovision"&&f.jsx(lb,{})}),e]})}const hZ={name:"1skrp57",styles:"animation:escGradient 46s linear infinite;flex:1;@keyframes escGradient{0%{background-position:0% 800%;}100%{background-position:0% 0%;}}"},pZ=I("div",{target:"ev6htcq2"})("transform:scale(1, 4);background-image:url(",dZ,");background-size:100% 50%;height:100%;&[data-animate='true']{",hZ,";}"),lb=()=>{var e;return f.jsx(pZ,{"data-animate":!((e=global.location)!=null&&e.href.includes("/remote-mic"))})},gZ=xi(`background-image:linear-gradient(
    -45deg,
    `,Me.christmasGreen.text,`,
    `,Me.christmasGreen.stroke,`,
    `,Me.christmasRed.stroke,`,
    `,Me.christmasRed.stroke,`
  );background-size:400% 400%;`,""),mZ={name:"zjik7",styles:"display:flex"},vZ=xi(`background-image:linear-gradient(
    -45deg,
    `,Me.red.stroke,`,
    `,Me.blue.text,`,
    `,Me.blue.stroke,`,
    `,Me.red.stroke,`
  );background-size:400% 400%;`,""),yZ=I("div",{target:"ev6htcq1"})({name:"18w86be",styles:"background-color:white;width:100%;height:100%"}),AZ={name:"x35kb",styles:"animation:gradient 15s ease infinite;@keyframes gradient{0%{background-position:0% 50%;}50%{background-position:100% 50%;}100%{background-position:0% 50%;}}"},bZ=I(yZ,{target:"ev6htcq0"})("z-index:-1;top:0;position:fixed;&[data-theme='eurovision']{",mZ,";}&[data-theme='christmas']{",gZ,";}&[data-theme='regular']{",vZ,";}background-position:100% 50%;&[data-graphic-level='high']{",AZ,";}");function _Z({size:e=16}){return f.jsx("style",{children:`html {
                font-size: ${e}px !important;
            }`})}function H0(e){return v.useMemo(()=>{var t;return new URLSearchParams((t=global.location)==null?void 0:t.search).get(e)},[e])}const xZ=I("div",{target:"e1py91zd0"})(":root{--player-blue-text:",Me.blue.text,";--player-blue-stroke:",Me.blue.stroke,";--player-blue-star-fill:",Me.blue.star.fill,";--player-blue-star-stroke:",Me.blue.star.stroke,";--player-blue-perfect-fill:",Me.blue.perfect.fill,";--player-blue-perfect-stroke:",Me.blue.perfect.stroke,";--player-blue-starPerfect-fill:",Me.blue.starPerfect.fill,";--player-blue-starPerfect-stroke:",Me.blue.starPerfect.stroke,";--player-blue-hit-fill:",Me.blue.hit.fill,";--player-blue-hit-stroke:",Me.blue.hit.stroke,";--player-blue-miss-fill:",Me.blue.miss.fill,";--player-blue-miss-stroke:",Me.blue.miss.stroke,";}h1{",Fe,";margin:0;text-align:center;font-size:4rem;color:",he.colors.text.active,";}h2{",Fe,";margin:0;font-size:2.9rem;}h3{",Fe,";margin:0;font-size:2.7rem;strong{color:",he.colors.text.active,";}}h4{",Fe,";margin:0;font-size:2.2rem;line-height:1.15;}h5{",Fe,";margin:0;font-size:1.6rem;line-height:1.5;}h6{",Fe,";margin:0;line-height:1.5;font-size:1.3rem;}hr{margin:0.5rem 1rem;opacity:0.25;}h1,h2,h3,h4,h5{button{",Fe,";background:none;padding:0;margin:0;border:none;font-size:inherit;color:",he.colors.text.active,";text-decoration:underline;cursor:pointer;}svg{font-size:0.8em;}}a{",Fe,";color:",he.colors.text.active,";text-decoration:underline;}strong{color:",he.colors.text.active,";}");var _S={},LO={exports:{}};(function(e){function t(n){return n&&n.__esModule?n:{default:n}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(LO);var rt=LO.exports,Ny={};function re(){return re=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},re.apply(null,arguments)}function na(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function NO(e){if(!na(e))return e;const t={};return Object.keys(e).forEach(n=>{t[n]=NO(e[n])}),t}function Po(e,t,n={clone:!0}){const r=n.clone?re({},e):e;return na(e)&&na(t)&&Object.keys(t).forEach(i=>{na(t[i])&&Object.prototype.hasOwnProperty.call(e,i)&&na(e[i])?r[i]=Po(e[i],t[i],n):n.clone?r[i]=na(t[i])?NO(t[i]):t[i]:r[i]=t[i]}),r}const SZ=Object.freeze(Object.defineProperty({__proto__:null,default:Po,isPlainObject:na},Symbol.toStringTag,{value:"Module"}));var $O={exports:{}},wZ="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",EZ=wZ,kZ=EZ;function DO(){}function BO(){}BO.resetWarningCache=DO;var CZ=function(){function e(r,i,o,s,a,l){if(l!==kZ){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:BO,resetWarningCache:DO};return n.PropTypes=n,n};$O.exports=CZ();var TZ=$O.exports;const Qe=vr(TZ);function Ol(e){let t="https://mui.com/production-error/?code="+e;for(let n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}const IZ=Object.freeze(Object.defineProperty({__proto__:null,default:Ol},Symbol.toStringTag,{value:"Module"}));var FO={exports:{}},Rt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xS=Symbol.for("react.element"),SS=Symbol.for("react.portal"),G0=Symbol.for("react.fragment"),q0=Symbol.for("react.strict_mode"),W0=Symbol.for("react.profiler"),K0=Symbol.for("react.provider"),Y0=Symbol.for("react.context"),RZ=Symbol.for("react.server_context"),Q0=Symbol.for("react.forward_ref"),J0=Symbol.for("react.suspense"),X0=Symbol.for("react.suspense_list"),Z0=Symbol.for("react.memo"),ev=Symbol.for("react.lazy"),PZ=Symbol.for("react.offscreen"),zO;zO=Symbol.for("react.module.reference");function lo(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case xS:switch(e=e.type,e){case G0:case W0:case q0:case J0:case X0:return e;default:switch(e=e&&e.$$typeof,e){case RZ:case Y0:case Q0:case ev:case Z0:case K0:return e;default:return t}}case SS:return t}}}Rt.ContextConsumer=Y0;Rt.ContextProvider=K0;Rt.Element=xS;Rt.ForwardRef=Q0;Rt.Fragment=G0;Rt.Lazy=ev;Rt.Memo=Z0;Rt.Portal=SS;Rt.Profiler=W0;Rt.StrictMode=q0;Rt.Suspense=J0;Rt.SuspenseList=X0;Rt.isAsyncMode=function(){return!1};Rt.isConcurrentMode=function(){return!1};Rt.isContextConsumer=function(e){return lo(e)===Y0};Rt.isContextProvider=function(e){return lo(e)===K0};Rt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===xS};Rt.isForwardRef=function(e){return lo(e)===Q0};Rt.isFragment=function(e){return lo(e)===G0};Rt.isLazy=function(e){return lo(e)===ev};Rt.isMemo=function(e){return lo(e)===Z0};Rt.isPortal=function(e){return lo(e)===SS};Rt.isProfiler=function(e){return lo(e)===W0};Rt.isStrictMode=function(e){return lo(e)===q0};Rt.isSuspense=function(e){return lo(e)===J0};Rt.isSuspenseList=function(e){return lo(e)===X0};Rt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===G0||e===W0||e===q0||e===J0||e===X0||e===PZ||typeof e=="object"&&e!==null&&(e.$$typeof===ev||e.$$typeof===Z0||e.$$typeof===K0||e.$$typeof===Y0||e.$$typeof===Q0||e.$$typeof===zO||e.getModuleId!==void 0)};Rt.typeOf=lo;FO.exports=Rt;var wT=FO.exports;const MZ=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function UO(e){const t=`${e}`.match(MZ);return t&&t[1]||""}function HO(e,t=""){return e.displayName||e.name||UO(e)||t}function ET(e,t,n){const r=HO(t);return e.displayName||(r!==""?`${n}(${r})`:n)}function jZ(e){if(e!=null){if(typeof e=="string")return e;if(typeof e=="function")return HO(e,"Component");if(typeof e=="object")switch(e.$$typeof){case wT.ForwardRef:return ET(e,e.render,"ForwardRef");case wT.Memo:return ET(e,e.type,"memo");default:return}}}const OZ=Object.freeze(Object.defineProperty({__proto__:null,default:jZ,getFunctionName:UO},Symbol.toStringTag,{value:"Module"}));function nt(e){if(typeof e!="string")throw new Error(Ol(7));return e.charAt(0).toUpperCase()+e.slice(1)}const VZ=Object.freeze(Object.defineProperty({__proto__:null,default:nt},Symbol.toStringTag,{value:"Module"}));function cb(...e){return e.reduce((t,n)=>n==null?t:function(...i){t.apply(this,i),n.apply(this,i)},()=>{})}function LZ(e,t=166){let n;function r(...i){const o=()=>{e.apply(this,i)};clearTimeout(n),n=setTimeout(o,t)}return r.clear=()=>{clearTimeout(n)},r}function NZ(e,t){return()=>null}function $Z(e,t){var n,r;return v.isValidElement(e)&&t.indexOf((n=e.type.muiName)!=null?n:(r=e.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function Ts(e){return e&&e.ownerDocument||document}function tv(e){return Ts(e).defaultView||window}function DZ(e,t){return()=>null}function um(e,t){typeof e=="function"?e(t):e&&(e.current=t)}const dm=typeof window<"u"?v.useLayoutEffect:v.useEffect;let kT=0;function BZ(e){const[t,n]=v.useState(e),r=e||t;return v.useEffect(()=>{t==null&&(kT+=1,n(`mui-${kT}`))},[t]),r}const CT=Pg.useId;function GO(e){if(CT!==void 0){const t=CT();return e??t}return BZ(e)}function FZ(e,t,n,r,i){return null}function zZ({controlled:e,default:t,name:n,state:r="value"}){const{current:i}=v.useRef(e!==void 0),[o,s]=v.useState(t),a=i?e:o,l=v.useCallback(c=>{i||s(c)},[]);return[a,l]}function ll(e){const t=v.useRef(e);return dm(()=>{t.current=e}),v.useRef((...n)=>(0,t.current)(...n)).current}function Ra(...e){return v.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(n=>{um(n,t)})},e)}const TT={};function UZ(e,t){const n=v.useRef(TT);return n.current===TT&&(n.current=e(t)),n}const HZ=[];function GZ(e){v.useEffect(e,HZ)}class nv{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new nv}start(t,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},t)}}function qZ(){const e=UZ(nv.create).current;return GZ(e.disposeEffect),e}let rv=!0,ub=!1;const WZ=new nv,KZ={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function YZ(e){const{type:t,tagName:n}=e;return!!(n==="INPUT"&&KZ[t]&&!e.readOnly||n==="TEXTAREA"&&!e.readOnly||e.isContentEditable)}function QZ(e){e.metaKey||e.altKey||e.ctrlKey||(rv=!0)}function $y(){rv=!1}function JZ(){this.visibilityState==="hidden"&&ub&&(rv=!0)}function XZ(e){e.addEventListener("keydown",QZ,!0),e.addEventListener("mousedown",$y,!0),e.addEventListener("pointerdown",$y,!0),e.addEventListener("touchstart",$y,!0),e.addEventListener("visibilitychange",JZ,!0)}function ZZ(e){const{target:t}=e;try{return t.matches(":focus-visible")}catch{}return rv||YZ(t)}function qO(){const e=v.useCallback(i=>{i!=null&&XZ(i.ownerDocument)},[]),t=v.useRef(!1);function n(){return t.current?(ub=!0,WZ.start(100,()=>{ub=!1}),t.current=!1,!0):!1}function r(i){return ZZ(i)?(t.current=!0,!0):!1}return{isFocusVisibleRef:t,onFocus:r,onBlur:n,ref:e}}function eee(e){const t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}function fm(e,t){const n=re({},t);return Object.keys(e).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=re({},e[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=e[r]||{},o=t[r];n[r]={},!o||!Object.keys(o)?n[r]=i:!i||!Object.keys(i)?n[r]=o:(n[r]=re({},o),Object.keys(i).forEach(s=>{n[r][s]=fm(i[s],o[s])}))}else n[r]===void 0&&(n[r]=e[r])}),n}function Hr(e,t,n=void 0){const r={};return Object.keys(e).forEach(i=>{r[i]=e[i].reduce((o,s)=>{if(s){const a=t(s);a!==""&&o.push(a),n&&n[s]&&o.push(n[s])}return o},[]).join(" ")}),r}const IT=e=>e,tee=()=>{let e=IT;return{configure(t){e=t},generate(t){return e(t)},reset(){e=IT}}},nee=tee(),WO=nee,ree={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Rr(e,t,n="Mui"){const r=ree[t];return r?`${n}-${r}`:`${WO.generate(e)}-${t}`}function Pr(e,t,n="Mui"){const r={};return t.forEach(i=>{r[i]=Rr(e,i,n)}),r}function KO(e,t=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(t,Math.min(e,n))}const iee=Object.freeze(Object.defineProperty({__proto__:null,default:KO},Symbol.toStringTag,{value:"Module"}));function Pt(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function YO(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=YO(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function At(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=YO(e))&&(r&&(r+=" "),r+=t);return r}const QO=v.createContext(void 0);function oee({value:e,children:t}){return f.jsx(QO.Provider,{value:e,children:t})}function see(e){const{theme:t,name:n,props:r}=e;if(!t||!t.components||!t.components[n])return r;const i=t.components[n];return i.defaultProps?fm(i.defaultProps,r):!i.styleOverrides&&!i.variants?fm(i,r):r}function aee({props:e,name:t}){const n=v.useContext(QO);return see({props:e,name:t,theme:{components:n}})}function Mr(e){return aee(e)}var Eh={},Dy={exports:{}},RT;function lee(){return RT||(RT=1,function(e){function t(){return e.exports=t=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var o in i)({}).hasOwnProperty.call(i,o)&&(n[o]=i[o])}return n},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(null,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(Dy)),Dy.exports}var By={exports:{}},PT;function cee(){return PT||(PT=1,function(e){function t(n,r){if(n==null)return{};var i={};for(var o in n)if({}.hasOwnProperty.call(n,o)){if(r.indexOf(o)>=0)continue;i[o]=n[o]}return i}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(By)),By.exports}var uee=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],db=I.bind();uee.forEach(function(e){db[e]=db(e)});let fb;typeof document=="object"&&(fb=nS({key:"css",prepend:!0}));function dee(e){const{injectFirst:t,children:n}=e;return t&&fb?f.jsx(rO,{value:fb,children:n}):n}function fee(e){return e==null||Object.keys(e).length===0}function hee(e){const{styles:t,defaultTheme:n={}}=e,r=typeof t=="function"?i=>t(fee(i)?n:i):t;return f.jsx(lY,{styles:r})}function pee(e,t){return db(e,t)}const gee=(e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))},mee=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:hee,StyledEngineProvider:dee,ThemeContext:_h,css:xi,default:pee,internal_processStyles:gee,keyframes:Va},Symbol.toStringTag,{value:"Module"})),vee=ds(mee),yee=ds(SZ),Aee=ds(VZ),bee=ds(OZ),_ee=["values","unit","step"],xee=e=>{const t=Object.keys(e).map(n=>({key:n,val:e[n]}))||[];return t.sort((n,r)=>n.val-r.val),t.reduce((n,r)=>re({},n,{[r.key]:r.val}),{})};function JO(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=e,i=Pt(e,_ee),o=xee(t),s=Object.keys(o);function a(h){return`@media (min-width:${typeof t[h]=="number"?t[h]:h}${n})`}function l(h){return`@media (max-width:${(typeof t[h]=="number"?t[h]:h)-r/100}${n})`}function c(h,p){const g=s.indexOf(p);return`@media (min-width:${typeof t[h]=="number"?t[h]:h}${n}) and (max-width:${(g!==-1&&typeof t[s[g]]=="number"?t[s[g]]:p)-r/100}${n})`}function u(h){return s.indexOf(h)+1<s.length?c(h,s[s.indexOf(h)+1]):a(h)}function d(h){const p=s.indexOf(h);return p===0?a(s[1]):p===s.length-1?l(s[p]):c(h,s[s.indexOf(h)+1]).replace("@media","@media not all and")}return re({keys:s,values:o,up:a,down:l,between:c,only:u,not:d,unit:n},i)}const See={borderRadius:4},wee=See;function Xd(e,t){return t?Po(e,t,{clone:!1}):e}const wS={xs:0,sm:600,md:900,lg:1200,xl:1536},MT={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${wS[e]}px)`};function Vs(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const o=r.breakpoints||MT;return t.reduce((s,a,l)=>(s[o.up(o.keys[l])]=n(t[l]),s),{})}if(typeof t=="object"){const o=r.breakpoints||MT;return Object.keys(t).reduce((s,a)=>{if(Object.keys(o.values||wS).indexOf(a)!==-1){const l=o.up(a);s[l]=n(t[a],a)}else{const l=a;s[l]=t[l]}return s},{})}return n(t)}function XO(e={}){var t;return((t=e.keys)==null?void 0:t.reduce((r,i)=>{const o=e.up(i);return r[o]={},r},{}))||{}}function ZO(e,t){return e.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},t)}function wxe(e,...t){const n=XO(e),r=[n,...t].reduce((i,o)=>Po(i,o),{});return ZO(Object.keys(n),r)}function Eee(e,t){if(typeof e!="object")return{};const n={},r=Object.keys(t);return Array.isArray(e)?r.forEach((i,o)=>{o<e.length&&(n[i]=!0)}):r.forEach(i=>{e[i]!=null&&(n[i]=!0)}),n}function Exe({values:e,breakpoints:t,base:n}){const r=n||Eee(e,t),i=Object.keys(r);if(i.length===0)return e;let o;return i.reduce((s,a,l)=>(Array.isArray(e)?(s[a]=e[l]!=null?e[l]:e[o],o=l):typeof e=="object"?(s[a]=e[a]!=null?e[a]:e[o],o=a):s[a]=e,s),{})}function iv(e,t,n=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&n){const r=`vars.${t}`.split(".").reduce((i,o)=>i&&i[o]?i[o]:null,e);if(r!=null)return r}return t.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,e)}function hm(e,t,n,r=n){let i;return typeof e=="function"?i=e(n):Array.isArray(e)?i=e[n]||r:i=iv(e,n)||r,t&&(i=t(i,r,e)),i}function Pn(e){const{prop:t,cssProperty:n=e.prop,themeKey:r,transform:i}=e,o=s=>{if(s[t]==null)return null;const a=s[t],l=s.theme,c=iv(l,r)||{};return Vs(s,a,d=>{let h=hm(c,i,d);return d===h&&typeof d=="string"&&(h=hm(c,i,`${t}${d==="default"?"":nt(d)}`,d)),n===!1?h:{[n]:h}})};return o.propTypes={},o.filterProps=[t],o}function kee(e){const t={};return n=>(t[n]===void 0&&(t[n]=e(n)),t[n])}const Cee={m:"margin",p:"padding"},Tee={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},jT={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Iee=kee(e=>{if(e.length>2)if(jT[e])e=jT[e];else return[e];const[t,n]=e.split(""),r=Cee[t],i=Tee[n]||"";return Array.isArray(i)?i.map(o=>r+o):[r+i]}),ES=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],kS=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...ES,...kS];function kh(e,t,n,r){var i;const o=(i=iv(e,t,!1))!=null?i:n;return typeof o=="number"?s=>typeof s=="string"?s:o*s:Array.isArray(o)?s=>typeof s=="string"?s:o[s]:typeof o=="function"?o:()=>{}}function eV(e){return kh(e,"spacing",8)}function Ch(e,t){if(typeof t=="string"||t==null)return t;const n=Math.abs(t),r=e(n);return t>=0?r:typeof r=="number"?-r:`-${r}`}function Ree(e,t){return n=>e.reduce((r,i)=>(r[i]=Ch(t,n),r),{})}function Pee(e,t,n,r){if(t.indexOf(n)===-1)return null;const i=Iee(n),o=Ree(i,r),s=e[n];return Vs(e,s,o)}function tV(e,t){const n=eV(e.theme);return Object.keys(e).map(r=>Pee(e,t,r,n)).reduce(Xd,{})}function vn(e){return tV(e,ES)}vn.propTypes={};vn.filterProps=ES;function yn(e){return tV(e,kS)}yn.propTypes={};yn.filterProps=kS;function Mee(e=8){if(e.mui)return e;const t=eV({spacing:e}),n=(...r)=>(r.length===0?[1]:r).map(o=>{const s=t(o);return typeof s=="number"?`${s}px`:s}).join(" ");return n.mui=!0,n}function ov(...e){const t=e.reduce((r,i)=>(i.filterProps.forEach(o=>{r[o]=i}),r),{}),n=r=>Object.keys(r).reduce((i,o)=>t[o]?Xd(i,t[o](r)):i,{});return n.propTypes={},n.filterProps=e.reduce((r,i)=>r.concat(i.filterProps),[]),n}function zi(e){return typeof e!="number"?e:`${e}px solid`}function co(e,t){return Pn({prop:e,themeKey:"borders",transform:t})}const jee=co("border",zi),Oee=co("borderTop",zi),Vee=co("borderRight",zi),Lee=co("borderBottom",zi),Nee=co("borderLeft",zi),$ee=co("borderColor"),Dee=co("borderTopColor"),Bee=co("borderRightColor"),Fee=co("borderBottomColor"),zee=co("borderLeftColor"),Uee=co("outline",zi),Hee=co("outlineColor"),sv=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=kh(e.theme,"shape.borderRadius",4),n=r=>({borderRadius:Ch(t,r)});return Vs(e,e.borderRadius,n)}return null};sv.propTypes={};sv.filterProps=["borderRadius"];ov(jee,Oee,Vee,Lee,Nee,$ee,Dee,Bee,Fee,zee,sv,Uee,Hee);const av=e=>{if(e.gap!==void 0&&e.gap!==null){const t=kh(e.theme,"spacing",8),n=r=>({gap:Ch(t,r)});return Vs(e,e.gap,n)}return null};av.propTypes={};av.filterProps=["gap"];const lv=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=kh(e.theme,"spacing",8),n=r=>({columnGap:Ch(t,r)});return Vs(e,e.columnGap,n)}return null};lv.propTypes={};lv.filterProps=["columnGap"];const cv=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=kh(e.theme,"spacing",8),n=r=>({rowGap:Ch(t,r)});return Vs(e,e.rowGap,n)}return null};cv.propTypes={};cv.filterProps=["rowGap"];const Gee=Pn({prop:"gridColumn"}),qee=Pn({prop:"gridRow"}),Wee=Pn({prop:"gridAutoFlow"}),Kee=Pn({prop:"gridAutoColumns"}),Yee=Pn({prop:"gridAutoRows"}),Qee=Pn({prop:"gridTemplateColumns"}),Jee=Pn({prop:"gridTemplateRows"}),Xee=Pn({prop:"gridTemplateAreas"}),Zee=Pn({prop:"gridArea"});ov(av,lv,cv,Gee,qee,Wee,Kee,Yee,Qee,Jee,Xee,Zee);function Yc(e,t){return t==="grey"?t:e}const ete=Pn({prop:"color",themeKey:"palette",transform:Yc}),tte=Pn({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Yc}),nte=Pn({prop:"backgroundColor",themeKey:"palette",transform:Yc});ov(ete,tte,nte);function hi(e){return e<=1&&e!==0?`${e*100}%`:e}const rte=Pn({prop:"width",transform:hi}),CS=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=n=>{var r,i;const o=((r=e.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[n])||wS[n];return o?((i=e.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${o}${e.theme.breakpoints.unit}`}:{maxWidth:o}:{maxWidth:hi(n)}};return Vs(e,e.maxWidth,t)}return null};CS.filterProps=["maxWidth"];const ite=Pn({prop:"minWidth",transform:hi}),ote=Pn({prop:"height",transform:hi}),ste=Pn({prop:"maxHeight",transform:hi}),ate=Pn({prop:"minHeight",transform:hi});Pn({prop:"size",cssProperty:"width",transform:hi});Pn({prop:"size",cssProperty:"height",transform:hi});const lte=Pn({prop:"boxSizing"});ov(rte,CS,ite,ote,ste,ate,lte);const cte={border:{themeKey:"borders",transform:zi},borderTop:{themeKey:"borders",transform:zi},borderRight:{themeKey:"borders",transform:zi},borderBottom:{themeKey:"borders",transform:zi},borderLeft:{themeKey:"borders",transform:zi},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:zi},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:sv},color:{themeKey:"palette",transform:Yc},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Yc},backgroundColor:{themeKey:"palette",transform:Yc},p:{style:yn},pt:{style:yn},pr:{style:yn},pb:{style:yn},pl:{style:yn},px:{style:yn},py:{style:yn},padding:{style:yn},paddingTop:{style:yn},paddingRight:{style:yn},paddingBottom:{style:yn},paddingLeft:{style:yn},paddingX:{style:yn},paddingY:{style:yn},paddingInline:{style:yn},paddingInlineStart:{style:yn},paddingInlineEnd:{style:yn},paddingBlock:{style:yn},paddingBlockStart:{style:yn},paddingBlockEnd:{style:yn},m:{style:vn},mt:{style:vn},mr:{style:vn},mb:{style:vn},ml:{style:vn},mx:{style:vn},my:{style:vn},margin:{style:vn},marginTop:{style:vn},marginRight:{style:vn},marginBottom:{style:vn},marginLeft:{style:vn},marginX:{style:vn},marginY:{style:vn},marginInline:{style:vn},marginInlineStart:{style:vn},marginInlineEnd:{style:vn},marginBlock:{style:vn},marginBlockStart:{style:vn},marginBlockEnd:{style:vn},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:av},rowGap:{style:cv},columnGap:{style:lv},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:hi},maxWidth:{style:CS},minWidth:{transform:hi},height:{transform:hi},maxHeight:{transform:hi},minHeight:{transform:hi},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},Th=cte;function ute(...e){const t=e.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(t);return e.every(r=>n.size===Object.keys(r).length)}function dte(e,t){return typeof e=="function"?e(t):e}function nV(){function e(n,r,i,o){const s={[n]:r,theme:i},a=o[n];if(!a)return{[n]:r};const{cssProperty:l=n,themeKey:c,transform:u,style:d}=a;if(r==null)return null;if(c==="typography"&&r==="inherit")return{[n]:r};const h=iv(i,c)||{};return d?d(s):Vs(s,r,g=>{let m=hm(h,u,g);return g===m&&typeof g=="string"&&(m=hm(h,u,`${n}${g==="default"?"":nt(g)}`,g)),l===!1?m:{[l]:m}})}function t(n){var r;const{sx:i,theme:o={}}=n||{};if(!i)return null;const s=(r=o.unstable_sxConfig)!=null?r:Th;function a(l){let c=l;if(typeof l=="function")c=l(o);else if(typeof l!="object")return l;if(!c)return null;const u=XO(o.breakpoints),d=Object.keys(u);let h=u;return Object.keys(c).forEach(p=>{const g=dte(c[p],o);if(g!=null)if(typeof g=="object")if(s[p])h=Xd(h,e(p,g,o,s));else{const m=Vs({theme:o},g,b=>({[p]:b}));ute(m,g)?h[p]=t({sx:g,theme:o}):h=Xd(h,m)}else h=Xd(h,e(p,g,o,s))}),ZO(d,h)}return Array.isArray(i)?i.map(a):a(i)}return t}const rV=nV();rV.filterProps=["sx"];const TS=rV;function iV(e,t){const n=this;return n.vars&&typeof n.getColorSchemeSelector=="function"?{[n.getColorSchemeSelector(e).replace(/(\[[^\]]+\])/,"*:where($1)")]:t}:n.palette.mode===e?t:{}}const fte=["breakpoints","palette","spacing","shape"];function IS(e={},...t){const{breakpoints:n={},palette:r={},spacing:i,shape:o={}}=e,s=Pt(e,fte),a=JO(n),l=Mee(i);let c=Po({breakpoints:a,direction:"ltr",components:{},palette:re({mode:"light"},r),spacing:l,shape:re({},wee,o)},s);return c.applyStyles=iV,c=t.reduce((u,d)=>Po(u,d),c),c.unstable_sxConfig=re({},Th,s==null?void 0:s.unstable_sxConfig),c.unstable_sx=function(d){return TS({sx:d,theme:this})},c}const hte=Object.freeze(Object.defineProperty({__proto__:null,default:IS,private_createBreakpoints:JO,unstable_applyStyles:iV},Symbol.toStringTag,{value:"Module"})),pte=ds(hte),gte=["sx"],mte=e=>{var t,n;const r={systemProps:{},otherProps:{}},i=(t=e==null||(n=e.theme)==null?void 0:n.unstable_sxConfig)!=null?t:Th;return Object.keys(e).forEach(o=>{i[o]?r.systemProps[o]=e[o]:r.otherProps[o]=e[o]}),r};function oV(e){const{sx:t}=e,n=Pt(e,gte),{systemProps:r,otherProps:i}=mte(n);let o;return Array.isArray(t)?o=[r,...t]:typeof t=="function"?o=(...s)=>{const a=t(...s);return na(a)?re({},r,a):r}:o=re({},r,t),re({},i,{sx:o})}const vte=Object.freeze(Object.defineProperty({__proto__:null,default:TS,extendSxProp:oV,unstable_createStyleFunctionSx:nV,unstable_defaultSxConfig:Th},Symbol.toStringTag,{value:"Module"})),yte=ds(vte);var Hu=rt;Object.defineProperty(Eh,"__esModule",{value:!0});var Ate=Eh.default=Mte;Eh.shouldForwardProp=mg;Eh.systemDefaultTheme=void 0;var Li=Hu(lee()),hb=Hu(cee()),OT=kte(vee),bte=yee;Hu(Aee);Hu(bee);var _te=Hu(pte),xte=Hu(yte);const Ste=["ownerState"],wte=["variants"],Ete=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function sV(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(sV=function(r){return r?n:t})(e)}function kte(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=sV(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}function Cte(e){return Object.keys(e).length===0}function Tte(e){return typeof e=="string"&&e.charCodeAt(0)>96}function mg(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const Ite=Eh.systemDefaultTheme=(0,_te.default)(),Rte=e=>e&&e.charAt(0).toLowerCase()+e.slice(1);function vp({defaultTheme:e,theme:t,themeId:n}){return Cte(t)?e:t[n]||t}function Pte(e){return e?(t,n)=>n[e]:null}function vg(e,t){let{ownerState:n}=t,r=(0,hb.default)(t,Ste);const i=typeof e=="function"?e((0,Li.default)({ownerState:n},r)):e;if(Array.isArray(i))return i.flatMap(o=>vg(o,(0,Li.default)({ownerState:n},r)));if(i&&typeof i=="object"&&Array.isArray(i.variants)){const{variants:o=[]}=i;let a=(0,hb.default)(i,wte);return o.forEach(l=>{let c=!0;typeof l.props=="function"?c=l.props((0,Li.default)({ownerState:n},r,n)):Object.keys(l.props).forEach(u=>{(n==null?void 0:n[u])!==l.props[u]&&r[u]!==l.props[u]&&(c=!1)}),c&&(Array.isArray(a)||(a=[a]),a.push(typeof l.style=="function"?l.style((0,Li.default)({ownerState:n},r,n)):l.style))}),a}return i}function Mte(e={}){const{themeId:t,defaultTheme:n=Ite,rootShouldForwardProp:r=mg,slotShouldForwardProp:i=mg}=e,o=s=>(0,xte.default)((0,Li.default)({},s,{theme:vp((0,Li.default)({},s,{defaultTheme:n,themeId:t}))}));return o.__mui_systemSx=!0,(s,a={})=>{(0,OT.internal_processStyles)(s,_=>_.filter(w=>!(w!=null&&w.__mui_systemSx)));const{name:l,slot:c,skipVariantsResolver:u,skipSx:d,overridesResolver:h=Pte(Rte(c))}=a,p=(0,hb.default)(a,Ete),g=u!==void 0?u:c&&c!=="Root"&&c!=="root"||!1,m=d||!1;let b,y=mg;c==="Root"||c==="root"?y=r:c?y=i:Tte(s)&&(y=void 0);const A=(0,OT.default)(s,(0,Li.default)({shouldForwardProp:y,label:b},p)),x=_=>typeof _=="function"&&_.__emotion_real!==_||(0,bte.isPlainObject)(_)?w=>vg(_,(0,Li.default)({},w,{theme:vp({theme:w.theme,defaultTheme:n,themeId:t})})):_,S=(_,...w)=>{let E=x(_);const T=w?w.map(x):[];l&&h&&T.push(N=>{const H=vp((0,Li.default)({},N,{defaultTheme:n,themeId:t}));if(!H.components||!H.components[l]||!H.components[l].styleOverrides)return null;const P=H.components[l].styleOverrides,j={};return Object.entries(P).forEach(([R,k])=>{j[R]=vg(k,(0,Li.default)({},N,{theme:H}))}),h(N,j)}),l&&!g&&T.push(N=>{var H;const P=vp((0,Li.default)({},N,{defaultTheme:n,themeId:t})),j=P==null||(H=P.components)==null||(H=H[l])==null?void 0:H.variants;return vg({variants:j},(0,Li.default)({},N,{theme:P}))}),m||T.push(o);const O=T.length-w.length;if(Array.isArray(_)&&O>0){const N=new Array(O).fill("");E=[..._,...N],E.raw=[..._.raw,...N]}const L=A(E,...T);return s.muiName&&(L.muiName=s.muiName),L};return A.withConfig&&(S.withConfig=A.withConfig),S}}function jte(e,t){return re({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},t)}var Mn={};const Ote=ds(IZ),Vte=ds(iee);var aV=rt;Object.defineProperty(Mn,"__esModule",{value:!0});var ua=Mn.alpha=dV;Mn.blend=Kte;Mn.colorChannel=void 0;var Lte=Mn.darken=PS;Mn.decomposeColor=no;Mn.emphasize=fV;var Nte=Mn.getContrastRatio=Ute;Mn.getLuminance=pm;Mn.hexToRgb=lV;Mn.hslToRgb=uV;var $te=Mn.lighten=MS;Mn.private_safeAlpha=Hte;Mn.private_safeColorChannel=void 0;Mn.private_safeDarken=Gte;Mn.private_safeEmphasize=Wte;Mn.private_safeLighten=qte;Mn.recomposeColor=Gu;Mn.rgbToHex=zte;var VT=aV(Ote),Dte=aV(Vte);function RS(e,t=0,n=1){return(0,Dte.default)(e,t,n)}function lV(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function Bte(e){const t=e.toString(16);return t.length===1?`0${t}`:t}function no(e){if(e.type)return e;if(e.charAt(0)==="#")return no(lV(e));const t=e.indexOf("("),n=e.substring(0,t);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error((0,VT.default)(9,e));let r=e.substring(t+1,e.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error((0,VT.default)(10,i))}else r=r.split(",");return r=r.map(o=>parseFloat(o)),{type:n,values:r,colorSpace:i}}const cV=e=>{const t=no(e);return t.values.slice(0,3).map((n,r)=>t.type.indexOf("hsl")!==-1&&r!==0?`${n}%`:n).join(" ")};Mn.colorChannel=cV;const Fte=(e,t)=>{try{return cV(e)}catch{return e}};Mn.private_safeColorChannel=Fte;function Gu(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return t.indexOf("rgb")!==-1?r=r.map((i,o)=>o<3?parseInt(i,10):i):t.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),t.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${t}(${r})`}function zte(e){if(e.indexOf("#")===0)return e;const{values:t}=no(e);return`#${t.map((n,r)=>Bte(r===3?Math.round(255*n):n)).join("")}`}function uV(e){e=no(e);const{values:t}=e,n=t[0],r=t[1]/100,i=t[2]/100,o=r*Math.min(i,1-i),s=(c,u=(c+n/30)%12)=>i-o*Math.max(Math.min(u-3,9-u,1),-1);let a="rgb";const l=[Math.round(s(0)*255),Math.round(s(8)*255),Math.round(s(4)*255)];return e.type==="hsla"&&(a+="a",l.push(t[3])),Gu({type:a,values:l})}function pm(e){e=no(e);let t=e.type==="hsl"||e.type==="hsla"?no(uV(e)).values:e.values;return t=t.map(n=>(e.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function Ute(e,t){const n=pm(e),r=pm(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function dV(e,t){return e=no(e),t=RS(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,Gu(e)}function Hte(e,t,n){try{return dV(e,t)}catch{return e}}function PS(e,t){if(e=no(e),t=RS(t),e.type.indexOf("hsl")!==-1)e.values[2]*=1-t;else if(e.type.indexOf("rgb")!==-1||e.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)e.values[n]*=1-t;return Gu(e)}function Gte(e,t,n){try{return PS(e,t)}catch{return e}}function MS(e,t){if(e=no(e),t=RS(t),e.type.indexOf("hsl")!==-1)e.values[2]+=(100-e.values[2])*t;else if(e.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(e.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return Gu(e)}function qte(e,t,n){try{return MS(e,t)}catch{return e}}function fV(e,t=.15){return pm(e)>.5?PS(e,t):MS(e,t)}function Wte(e,t,n){try{return fV(e,t)}catch{return e}}function Kte(e,t,n,r=1){const i=(l,c)=>Math.round((l**(1/r)*(1-n)+c**(1/r)*n)**r),o=no(e),s=no(t),a=[i(o.values[0],s.values[0]),i(o.values[1],s.values[1]),i(o.values[2],s.values[2])];return Gu({type:"rgb",values:a})}const Yte={black:"#000",white:"#fff"},Nf=Yte,Qte={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Jte=Qte,Xte={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},ac=Xte,Zte={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},lc=Zte,ene={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},cd=ene,tne={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},cc=tne,nne={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},uc=nne,rne={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},dc=rne,ine=["mode","contrastThreshold","tonalOffset"],LT={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Nf.white,default:Nf.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Fy={text:{primary:Nf.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Nf.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function NT(e,t,n,r){const i=r.light||r,o=r.dark||r*1.5;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:t==="light"?e.light=$te(e.main,i):t==="dark"&&(e.dark=Lte(e.main,o)))}function one(e="light"){return e==="dark"?{main:cc[200],light:cc[50],dark:cc[400]}:{main:cc[700],light:cc[400],dark:cc[800]}}function sne(e="light"){return e==="dark"?{main:ac[200],light:ac[50],dark:ac[400]}:{main:ac[500],light:ac[300],dark:ac[700]}}function ane(e="light"){return e==="dark"?{main:lc[500],light:lc[300],dark:lc[700]}:{main:lc[700],light:lc[400],dark:lc[800]}}function lne(e="light"){return e==="dark"?{main:uc[400],light:uc[300],dark:uc[700]}:{main:uc[700],light:uc[500],dark:uc[900]}}function cne(e="light"){return e==="dark"?{main:dc[400],light:dc[300],dark:dc[700]}:{main:dc[800],light:dc[500],dark:dc[900]}}function une(e="light"){return e==="dark"?{main:cd[400],light:cd[300],dark:cd[700]}:{main:"#ed6c02",light:cd[500],dark:cd[900]}}function dne(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:r=.2}=e,i=Pt(e,ine),o=e.primary||one(t),s=e.secondary||sne(t),a=e.error||ane(t),l=e.info||lne(t),c=e.success||cne(t),u=e.warning||une(t);function d(m){return Nte(m,Fy.text.primary)>=n?Fy.text.primary:LT.text.primary}const h=({color:m,name:b,mainShade:y=500,lightShade:A=300,darkShade:x=700})=>{if(m=re({},m),!m.main&&m[y]&&(m.main=m[y]),!m.hasOwnProperty("main"))throw new Error(Ol(11,b?` (${b})`:"",y));if(typeof m.main!="string")throw new Error(Ol(12,b?` (${b})`:"",JSON.stringify(m.main)));return NT(m,"light",A,r),NT(m,"dark",x,r),m.contrastText||(m.contrastText=d(m.main)),m},p={dark:Fy,light:LT};return Po(re({common:re({},Nf),mode:t,primary:h({color:o,name:"primary"}),secondary:h({color:s,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:h({color:a,name:"error"}),warning:h({color:u,name:"warning"}),info:h({color:l,name:"info"}),success:h({color:c,name:"success"}),grey:Jte,contrastThreshold:n,getContrastText:d,augmentColor:h,tonalOffset:r},p[t]),i)}const fne=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function hne(e){return Math.round(e*1e5)/1e5}const $T={textTransform:"uppercase"},DT='"Roboto", "Helvetica", "Arial", sans-serif';function pne(e,t){const n=typeof t=="function"?t(e):t,{fontFamily:r=DT,fontSize:i=14,fontWeightLight:o=300,fontWeightRegular:s=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:c=16,allVariants:u,pxToRem:d}=n,h=Pt(n,fne),p=i/14,g=d||(y=>`${y/c*p}rem`),m=(y,A,x,S,_)=>re({fontFamily:r,fontWeight:y,fontSize:g(A),lineHeight:x},r===DT?{letterSpacing:`${hne(S/A)}em`}:{},_,u),b={h1:m(o,96,1.167,-1.5),h2:m(o,60,1.2,-.5),h3:m(s,48,1.167,0),h4:m(s,34,1.235,.25),h5:m(s,24,1.334,0),h6:m(a,20,1.6,.15),subtitle1:m(s,16,1.75,.15),subtitle2:m(a,14,1.57,.1),body1:m(s,16,1.5,.15),body2:m(s,14,1.43,.15),button:m(a,14,1.75,.4,$T),caption:m(s,12,1.66,.4),overline:m(s,12,2.66,1,$T),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Po(re({htmlFontSize:c,pxToRem:g,fontFamily:r,fontSize:i,fontWeightLight:o,fontWeightRegular:s,fontWeightMedium:a,fontWeightBold:l},b),h,{clone:!1})}const gne=.2,mne=.14,vne=.12;function Zt(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${gne})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${mne})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${vne})`].join(",")}const yne=["none",Zt(0,2,1,-1,0,1,1,0,0,1,3,0),Zt(0,3,1,-2,0,2,2,0,0,1,5,0),Zt(0,3,3,-2,0,3,4,0,0,1,8,0),Zt(0,2,4,-1,0,4,5,0,0,1,10,0),Zt(0,3,5,-1,0,5,8,0,0,1,14,0),Zt(0,3,5,-1,0,6,10,0,0,1,18,0),Zt(0,4,5,-2,0,7,10,1,0,2,16,1),Zt(0,5,5,-3,0,8,10,1,0,3,14,2),Zt(0,5,6,-3,0,9,12,1,0,3,16,2),Zt(0,6,6,-3,0,10,14,1,0,4,18,3),Zt(0,6,7,-4,0,11,15,1,0,4,20,3),Zt(0,7,8,-4,0,12,17,2,0,5,22,4),Zt(0,7,8,-4,0,13,19,2,0,5,24,4),Zt(0,7,9,-4,0,14,21,2,0,5,26,4),Zt(0,8,9,-5,0,15,22,2,0,6,28,5),Zt(0,8,10,-5,0,16,24,2,0,6,30,5),Zt(0,8,11,-5,0,17,26,2,0,6,32,5),Zt(0,9,11,-5,0,18,28,2,0,7,34,6),Zt(0,9,12,-6,0,19,29,2,0,7,36,6),Zt(0,10,13,-6,0,20,31,3,0,8,38,7),Zt(0,10,13,-6,0,21,33,3,0,8,40,7),Zt(0,10,14,-6,0,22,35,3,0,8,42,7),Zt(0,11,14,-7,0,23,36,3,0,9,44,8),Zt(0,11,15,-7,0,24,38,3,0,9,46,8)],Ane=["duration","easing","delay"],bne={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},_ne={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function BT(e){return`${Math.round(e)}ms`}function xne(e){if(!e)return 0;const t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function Sne(e){const t=re({},bne,e.easing),n=re({},_ne,e.duration);return re({getAutoHeightDuration:xne,create:(i=["all"],o={})=>{const{duration:s=n.standard,easing:a=t.easeInOut,delay:l=0}=o;return Pt(o,Ane),(Array.isArray(i)?i:[i]).map(c=>`${c} ${typeof s=="string"?s:BT(s)} ${a} ${typeof l=="string"?l:BT(l)}`).join(",")}},e,{easing:t,duration:n})}const wne={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},Ene=wne,kne=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function hV(e={},...t){const{mixins:n={},palette:r={},transitions:i={},typography:o={}}=e,s=Pt(e,kne);if(e.vars)throw new Error(Ol(18));const a=dne(r),l=IS(e);let c=Po(l,{mixins:jte(l.breakpoints,n),palette:a,shadows:yne.slice(),typography:pne(a,o),transitions:Sne(i),zIndex:re({},Ene)});return c=Po(c,s),c=t.reduce((u,d)=>Po(u,d),c),c.unstable_sxConfig=re({},Th,s==null?void 0:s.unstable_sxConfig),c.unstable_sx=function(d){return TS({sx:d,theme:this})},c}const Cne=hV(),pV=Cne,gm="$$material";function Tne(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const jS=e=>Tne(e)&&e!=="classes",Qt=Ate({themeId:gm,defaultTheme:pV,rootShouldForwardProp:jS});function Ine(e){return Rr("MuiSvgIcon",e)}Pr("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const Rne=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],Pne=e=>{const{color:t,fontSize:n,classes:r}=e,i={root:["root",t!=="inherit"&&`color${nt(t)}`,`fontSize${nt(n)}`]};return Hr(i,Ine,r)},Mne=Qt("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="inherit"&&t[`color${nt(n.color)}`],t[`fontSize${nt(n.fontSize)}`]]}})(({theme:e,ownerState:t})=>{var n,r,i,o,s,a,l,c,u,d,h,p,g;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:t.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(n=e.transitions)==null||(r=n.create)==null?void 0:r.call(n,"fill",{duration:(i=e.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((o=e.typography)==null||(s=o.pxToRem)==null?void 0:s.call(o,20))||"1.25rem",medium:((a=e.typography)==null||(l=a.pxToRem)==null?void 0:l.call(a,24))||"1.5rem",large:((c=e.typography)==null||(u=c.pxToRem)==null?void 0:u.call(c,35))||"2.1875rem"}[t.fontSize],color:(d=(h=(e.vars||e).palette)==null||(h=h[t.color])==null?void 0:h.main)!=null?d:{action:(p=(e.vars||e).palette)==null||(p=p.action)==null?void 0:p.active,disabled:(g=(e.vars||e).palette)==null||(g=g.action)==null?void 0:g.disabled,inherit:void 0}[t.color]}}),pb=v.forwardRef(function(t,n){const r=Mr({props:t,name:"MuiSvgIcon"}),{children:i,className:o,color:s="inherit",component:a="svg",fontSize:l="medium",htmlColor:c,inheritViewBox:u=!1,titleAccess:d,viewBox:h="0 0 24 24"}=r,p=Pt(r,Rne),g=v.isValidElement(i)&&i.type==="svg",m=re({},r,{color:s,component:a,fontSize:l,instanceFontSize:t.fontSize,inheritViewBox:u,viewBox:h,hasSvgAsChild:g}),b={};u||(b.viewBox=h);const y=Pne(m);return f.jsxs(Mne,re({as:a,className:At(y.root,o),focusable:"false",color:c,"aria-hidden":d?void 0:!0,role:d?"img":void 0,ref:n},b,p,g&&i.props,{ownerState:m,children:[g?i.props.children:i,d?f.jsx("title",{children:d}):null]}))});pb.muiName="SvgIcon";function jne(e,t){function n(r,i){return f.jsx(pb,re({"data-testid":`${t}Icon`,ref:i},r,{children:e}))}return n.muiName=pb.muiName,v.memo(v.forwardRef(n))}const One={configure:e=>{WO.configure(e)}},Vne=Object.freeze(Object.defineProperty({__proto__:null,capitalize:nt,createChainedFunction:cb,createSvgIcon:jne,debounce:LZ,deprecatedPropType:NZ,isMuiElement:$Z,ownerDocument:Ts,ownerWindow:tv,requirePropFactory:DZ,setRef:um,unstable_ClassNameGenerator:One,unstable_useEnhancedEffect:dm,unstable_useId:GO,unsupportedProp:FZ,useControlled:zZ,useEventCallback:ll,useForkRef:Ra,useIsFocusVisible:qO},Symbol.toStringTag,{value:"Module"})),Lne=ds(Vne);var FT;function ut(){return FT||(FT=1,function(e){"use client";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.createSvgIcon}});var t=Lne}(Ny)),Ny}var Nne=rt;Object.defineProperty(_S,"__esModule",{value:!0});var gV=_S.default=void 0,$ne=Nne(ut()),Dne=f;gV=_S.default=(0,$ne.default)((0,Dne.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 17h-2v-2h2zm2.07-7.75-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25"}),"Help");var OS={},Bne=rt;Object.defineProperty(OS,"__esModule",{value:!0});var mV=OS.default=void 0,Fne=Bne(ut()),zne=f;mV=OS.default=(0,Fne.default)((0,zne.jsx)("path",{d:"M11 18h2v-2h-2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4"}),"HelpOutline");var VS={},Une=rt;Object.defineProperty(VS,"__esModule",{value:!0});var $f=VS.default=void 0,Hne=Une(ut()),Gne=f;$f=VS.default=(0,Hne.default)((0,Gne.jsx)("path",{d:"M15 21h-2v-2h2zm-2-7h-2v5h2zm8-2h-2v4h2zm-2-2h-2v2h2zM7 12H5v2h2zm-2-2H3v2h2zm7-5h2V3h-2zm-7.5-.5v3h3v-3zM9 9H3V3h6zm-4.5 7.5v3h3v-3zM9 21H3v-6h6zm7.5-16.5v3h3v-3zM21 9h-6V3h6zm-2 10v-3h-4v2h2v3h4v-2zm-2-7h-4v2h4zm-4-2H7v2h2v2h2v-2h2zm1-1V7h-2V5h-2v4zM6.75 5.25h-1.5v1.5h1.5zm0 12h-1.5v1.5h1.5zm12-12h-1.5v1.5h1.5z"}),"QrCode2");function gb(e,t){return gb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},gb(e,t)}function vV(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,gb(e,t)}var yV={exports:{}},Ti={},AV={exports:{}},bV={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(V,z){var B=V.length;V.push(z);e:for(;0<B;){var G=B-1>>>1,U=V[G];if(0<i(U,z))V[G]=z,V[B]=U,B=G;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var z=V[0],B=V.pop();if(B!==z){V[0]=B;e:for(var G=0,U=V.length,te=U>>>1;G<te;){var D=2*(G+1)-1,ce=V[D],X=D+1,se=V[X];if(0>i(ce,B))X<U&&0>i(se,ce)?(V[G]=se,V[X]=B,G=X):(V[G]=ce,V[D]=B,G=D);else if(X<U&&0>i(se,B))V[G]=se,V[X]=B,G=X;else break e}}return z}function i(V,z){var B=V.sortIndex-z.sortIndex;return B!==0?B:V.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var l=[],c=[],u=1,d=null,h=3,p=!1,g=!1,m=!1,b=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(V){for(var z=n(c);z!==null;){if(z.callback===null)r(c);else if(z.startTime<=V)r(c),z.sortIndex=z.expirationTime,t(l,z);else break;z=n(c)}}function S(V){if(m=!1,x(V),!g)if(n(l)!==null)g=!0,k(_);else{var z=n(c);z!==null&&$(S,z.startTime-V)}}function _(V,z){g=!1,m&&(m=!1,y(T),T=-1),p=!0;var B=h;try{for(x(z),d=n(l);d!==null&&(!(d.expirationTime>z)||V&&!N());){var G=d.callback;if(typeof G=="function"){d.callback=null,h=d.priorityLevel;var U=G(d.expirationTime<=z);z=e.unstable_now(),typeof U=="function"?d.callback=U:d===n(l)&&r(l),x(z)}else r(l);d=n(l)}if(d!==null)var te=!0;else{var D=n(c);D!==null&&$(S,D.startTime-z),te=!1}return te}finally{d=null,h=B,p=!1}}var w=!1,E=null,T=-1,O=5,L=-1;function N(){return!(e.unstable_now()-L<O)}function H(){if(E!==null){var V=e.unstable_now();L=V;var z=!0;try{z=E(!0,V)}finally{z?P():(w=!1,E=null)}}else w=!1}var P;if(typeof A=="function")P=function(){A(H)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,R=j.port2;j.port1.onmessage=H,P=function(){R.postMessage(null)}}else P=function(){b(H,0)};function k(V){E=V,w||(w=!0,P())}function $(V,z){T=b(function(){V(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(V){V.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,k(_))},e.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<V?Math.floor(1e3/V):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(V){switch(h){case 1:case 2:case 3:var z=3;break;default:z=h}var B=h;h=z;try{return V()}finally{h=B}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(V,z){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var B=h;h=V;try{return z()}finally{h=B}},e.unstable_scheduleCallback=function(V,z,B){var G=e.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?G+B:G):B=G,V){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=B+U,V={id:u++,callback:z,priorityLevel:V,startTime:B,expirationTime:U,sortIndex:-1},B>G?(V.sortIndex=B,t(c,V),n(l)===null&&V===n(c)&&(m?(y(T),T=-1):m=!0,$(S,B-G))):(V.sortIndex=U,t(l,V),g||p||(g=!0,k(_))),V},e.unstable_shouldYield=N,e.unstable_wrapCallback=function(V){var z=h;return function(){var B=h;h=z;try{return V.apply(this,arguments)}finally{h=B}}}})(bV);AV.exports=bV;var qne=AV.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _V=v,wi=qne;function le(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var xV=new Set,Df={};function Xl(e,t){Au(e,t),Au(e+"Capture",t)}function Au(e,t){for(Df[e]=t,e=0;e<t.length;e++)xV.add(t[e])}var Ls=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mb=Object.prototype.hasOwnProperty,Wne=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,zT={},UT={};function Kne(e){return mb.call(UT,e)?!0:mb.call(zT,e)?!1:Wne.test(e)?UT[e]=!0:(zT[e]=!0,!1)}function Yne(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Qne(e,t,n,r){if(t===null||typeof t>"u"||Yne(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Gr(e,t,n,r,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var mr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){mr[e]=new Gr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];mr[t]=new Gr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){mr[e]=new Gr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){mr[e]=new Gr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){mr[e]=new Gr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){mr[e]=new Gr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){mr[e]=new Gr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){mr[e]=new Gr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){mr[e]=new Gr(e,5,!1,e.toLowerCase(),null,!1,!1)});var LS=/[\-:]([a-z])/g;function NS(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(LS,NS);mr[t]=new Gr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(LS,NS);mr[t]=new Gr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(LS,NS);mr[t]=new Gr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){mr[e]=new Gr(e,1,!1,e.toLowerCase(),null,!1,!1)});mr.xlinkHref=new Gr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){mr[e]=new Gr(e,1,!1,e.toLowerCase(),null,!0,!0)});function $S(e,t,n,r){var i=mr.hasOwnProperty(t)?mr[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Qne(t,n,i,r)&&(n=null),r||i===null?Kne(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Hs=_V.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,yp=Symbol.for("react.element"),Ec=Symbol.for("react.portal"),kc=Symbol.for("react.fragment"),DS=Symbol.for("react.strict_mode"),vb=Symbol.for("react.profiler"),SV=Symbol.for("react.provider"),wV=Symbol.for("react.context"),BS=Symbol.for("react.forward_ref"),yb=Symbol.for("react.suspense"),Ab=Symbol.for("react.suspense_list"),FS=Symbol.for("react.memo"),ea=Symbol.for("react.lazy"),EV=Symbol.for("react.offscreen"),HT=Symbol.iterator;function ud(e){return e===null||typeof e!="object"?null:(e=HT&&e[HT]||e["@@iterator"],typeof e=="function"?e:null)}var pn=Object.assign,zy;function Rd(e){if(zy===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);zy=t&&t[1]||""}return`
`+zy+e}var Uy=!1;function Hy(e,t){if(!e||Uy)return"";Uy=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=a);break}}}finally{Uy=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Rd(e):""}function Jne(e){switch(e.tag){case 5:return Rd(e.type);case 16:return Rd("Lazy");case 13:return Rd("Suspense");case 19:return Rd("SuspenseList");case 0:case 2:case 15:return e=Hy(e.type,!1),e;case 11:return e=Hy(e.type.render,!1),e;case 1:return e=Hy(e.type,!0),e;default:return""}}function bb(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case kc:return"Fragment";case Ec:return"Portal";case vb:return"Profiler";case DS:return"StrictMode";case yb:return"Suspense";case Ab:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case wV:return(e.displayName||"Context")+".Consumer";case SV:return(e._context.displayName||"Context")+".Provider";case BS:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case FS:return t=e.displayName||null,t!==null?t:bb(e.type)||"Memo";case ea:t=e._payload,e=e._init;try{return bb(e(t))}catch{}}return null}function Xne(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return bb(t);case 8:return t===DS?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Pa(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function kV(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Zne(e){var t=kV(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ap(e){e._valueTracker||(e._valueTracker=Zne(e))}function CV(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=kV(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function mm(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function _b(e,t){var n=t.checked;return pn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function GT(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Pa(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function TV(e,t){t=t.checked,t!=null&&$S(e,"checked",t,!1)}function xb(e,t){TV(e,t);var n=Pa(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Sb(e,t.type,n):t.hasOwnProperty("defaultValue")&&Sb(e,t.type,Pa(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function qT(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Sb(e,t,n){(t!=="number"||mm(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Pd=Array.isArray;function Qc(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Pa(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function wb(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(le(91));return pn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function WT(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(le(92));if(Pd(n)){if(1<n.length)throw Error(le(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Pa(n)}}function IV(e,t){var n=Pa(t.value),r=Pa(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function KT(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function RV(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Eb(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?RV(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var bp,PV=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(bp=bp||document.createElement("div"),bp.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=bp.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Bf(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Zd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ere=["Webkit","ms","Moz","O"];Object.keys(Zd).forEach(function(e){ere.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Zd[t]=Zd[e]})});function MV(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Zd.hasOwnProperty(e)&&Zd[e]?(""+t).trim():t+"px"}function jV(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=MV(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var tre=pn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function kb(e,t){if(t){if(tre[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(le(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(le(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(le(61))}if(t.style!=null&&typeof t.style!="object")throw Error(le(62))}}function Cb(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tb=null;function zS(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ib=null,Jc=null,Xc=null;function YT(e){if(e=Ph(e)){if(typeof Ib!="function")throw Error(le(280));var t=e.stateNode;t&&(t=pv(t),Ib(e.stateNode,e.type,t))}}function OV(e){Jc?Xc?Xc.push(e):Xc=[e]:Jc=e}function VV(){if(Jc){var e=Jc,t=Xc;if(Xc=Jc=null,YT(e),t)for(e=0;e<t.length;e++)YT(t[e])}}function LV(e,t){return e(t)}function NV(){}var Gy=!1;function $V(e,t,n){if(Gy)return e(t,n);Gy=!0;try{return LV(e,t,n)}finally{Gy=!1,(Jc!==null||Xc!==null)&&(NV(),VV())}}function Ff(e,t){var n=e.stateNode;if(n===null)return null;var r=pv(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(le(231,t,typeof n));return n}var Rb=!1;if(Ls)try{var dd={};Object.defineProperty(dd,"passive",{get:function(){Rb=!0}}),window.addEventListener("test",dd,dd),window.removeEventListener("test",dd,dd)}catch{Rb=!1}function nre(e,t,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var ef=!1,vm=null,ym=!1,Pb=null,rre={onError:function(e){ef=!0,vm=e}};function ire(e,t,n,r,i,o,s,a,l){ef=!1,vm=null,nre.apply(rre,arguments)}function ore(e,t,n,r,i,o,s,a,l){if(ire.apply(this,arguments),ef){if(ef){var c=vm;ef=!1,vm=null}else throw Error(le(198));ym||(ym=!0,Pb=c)}}function Zl(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function DV(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function QT(e){if(Zl(e)!==e)throw Error(le(188))}function sre(e){var t=e.alternate;if(!t){if(t=Zl(e),t===null)throw Error(le(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return QT(i),e;if(o===r)return QT(i),t;o=o.sibling}throw Error(le(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(le(189))}}if(n.alternate!==r)throw Error(le(190))}if(n.tag!==3)throw Error(le(188));return n.stateNode.current===n?e:t}function BV(e){return e=sre(e),e!==null?FV(e):null}function FV(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=FV(e);if(t!==null)return t;e=e.sibling}return null}var zV=wi.unstable_scheduleCallback,JT=wi.unstable_cancelCallback,are=wi.unstable_shouldYield,lre=wi.unstable_requestPaint,Rn=wi.unstable_now,cre=wi.unstable_getCurrentPriorityLevel,US=wi.unstable_ImmediatePriority,UV=wi.unstable_UserBlockingPriority,Am=wi.unstable_NormalPriority,ure=wi.unstable_LowPriority,HV=wi.unstable_IdlePriority,uv=null,ls=null;function dre(e){if(ls&&typeof ls.onCommitFiberRoot=="function")try{ls.onCommitFiberRoot(uv,e,void 0,(e.current.flags&128)===128)}catch{}}var Mo=Math.clz32?Math.clz32:pre,fre=Math.log,hre=Math.LN2;function pre(e){return e>>>=0,e===0?32:31-(fre(e)/hre|0)|0}var _p=64,xp=4194304;function Md(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function bm(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Md(a):(o&=s,o!==0&&(r=Md(o)))}else s=n&~i,s!==0?r=Md(s):o!==0&&(r=Md(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Mo(t),i=1<<n,r|=e[n],t&=~i;return r}function gre(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mre(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-Mo(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=gre(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}function Mb(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function GV(){var e=_p;return _p<<=1,!(_p&4194240)&&(_p=64),e}function qy(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ih(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Mo(t),e[t]=n}function vre(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Mo(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function HS(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Mo(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Ct=0;function qV(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var WV,GS,KV,YV,QV,jb=!1,Sp=[],va=null,ya=null,Aa=null,zf=new Map,Uf=new Map,ra=[],yre="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function XT(e,t){switch(e){case"focusin":case"focusout":va=null;break;case"dragenter":case"dragleave":ya=null;break;case"mouseover":case"mouseout":Aa=null;break;case"pointerover":case"pointerout":zf.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Uf.delete(t.pointerId)}}function fd(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=Ph(t),t!==null&&GS(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Are(e,t,n,r,i){switch(t){case"focusin":return va=fd(va,e,t,n,r,i),!0;case"dragenter":return ya=fd(ya,e,t,n,r,i),!0;case"mouseover":return Aa=fd(Aa,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return zf.set(o,fd(zf.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Uf.set(o,fd(Uf.get(o)||null,e,t,n,r,i)),!0}return!1}function JV(e){var t=cl(e.target);if(t!==null){var n=Zl(t);if(n!==null){if(t=n.tag,t===13){if(t=DV(n),t!==null){e.blockedOn=t,QV(e.priority,function(){KV(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function yg(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ob(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Tb=r,n.target.dispatchEvent(r),Tb=null}else return t=Ph(n),t!==null&&GS(t),e.blockedOn=n,!1;t.shift()}return!0}function ZT(e,t,n){yg(e)&&n.delete(t)}function bre(){jb=!1,va!==null&&yg(va)&&(va=null),ya!==null&&yg(ya)&&(ya=null),Aa!==null&&yg(Aa)&&(Aa=null),zf.forEach(ZT),Uf.forEach(ZT)}function hd(e,t){e.blockedOn===t&&(e.blockedOn=null,jb||(jb=!0,wi.unstable_scheduleCallback(wi.unstable_NormalPriority,bre)))}function Hf(e){function t(i){return hd(i,e)}if(0<Sp.length){hd(Sp[0],e);for(var n=1;n<Sp.length;n++){var r=Sp[n];r.blockedOn===e&&(r.blockedOn=null)}}for(va!==null&&hd(va,e),ya!==null&&hd(ya,e),Aa!==null&&hd(Aa,e),zf.forEach(t),Uf.forEach(t),n=0;n<ra.length;n++)r=ra[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<ra.length&&(n=ra[0],n.blockedOn===null);)JV(n),n.blockedOn===null&&ra.shift()}var Zc=Hs.ReactCurrentBatchConfig,_m=!0;function _re(e,t,n,r){var i=Ct,o=Zc.transition;Zc.transition=null;try{Ct=1,qS(e,t,n,r)}finally{Ct=i,Zc.transition=o}}function xre(e,t,n,r){var i=Ct,o=Zc.transition;Zc.transition=null;try{Ct=4,qS(e,t,n,r)}finally{Ct=i,Zc.transition=o}}function qS(e,t,n,r){if(_m){var i=Ob(e,t,n,r);if(i===null)nA(e,t,r,xm,n),XT(e,r);else if(Are(i,e,t,n,r))r.stopPropagation();else if(XT(e,r),t&4&&-1<yre.indexOf(e)){for(;i!==null;){var o=Ph(i);if(o!==null&&WV(o),o=Ob(e,t,n,r),o===null&&nA(e,t,r,xm,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else nA(e,t,r,null,n)}}var xm=null;function Ob(e,t,n,r){if(xm=null,e=zS(r),e=cl(e),e!==null)if(t=Zl(e),t===null)e=null;else if(n=t.tag,n===13){if(e=DV(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return xm=e,null}function XV(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cre()){case US:return 1;case UV:return 4;case Am:case ure:return 16;case HV:return 536870912;default:return 16}default:return 16}}var da=null,WS=null,Ag=null;function ZV(){if(Ag)return Ag;var e,t=WS,n=t.length,r,i="value"in da?da.value:da.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[o-r];r++);return Ag=i.slice(e,1<r?1-r:void 0)}function bg(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function wp(){return!0}function eI(){return!1}function Ii(e){function t(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?wp:eI,this.isPropagationStopped=eI,this}return pn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=wp)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=wp)},persist:function(){},isPersistent:wp}),t}var qu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},KS=Ii(qu),Rh=pn({},qu,{view:0,detail:0}),Sre=Ii(Rh),Wy,Ky,pd,dv=pn({},Rh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:YS,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==pd&&(pd&&e.type==="mousemove"?(Wy=e.screenX-pd.screenX,Ky=e.screenY-pd.screenY):Ky=Wy=0,pd=e),Wy)},movementY:function(e){return"movementY"in e?e.movementY:Ky}}),tI=Ii(dv),wre=pn({},dv,{dataTransfer:0}),Ere=Ii(wre),kre=pn({},Rh,{relatedTarget:0}),Yy=Ii(kre),Cre=pn({},qu,{animationName:0,elapsedTime:0,pseudoElement:0}),Tre=Ii(Cre),Ire=pn({},qu,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Rre=Ii(Ire),Pre=pn({},qu,{data:0}),nI=Ii(Pre),Mre={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jre={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ore={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vre(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Ore[e])?!!t[e]:!1}function YS(){return Vre}var Lre=pn({},Rh,{key:function(e){if(e.key){var t=Mre[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=bg(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?jre[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:YS,charCode:function(e){return e.type==="keypress"?bg(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?bg(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Nre=Ii(Lre),$re=pn({},dv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rI=Ii($re),Dre=pn({},Rh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:YS}),Bre=Ii(Dre),Fre=pn({},qu,{propertyName:0,elapsedTime:0,pseudoElement:0}),zre=Ii(Fre),Ure=pn({},dv,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Hre=Ii(Ure),Gre=[9,13,27,32],QS=Ls&&"CompositionEvent"in window,tf=null;Ls&&"documentMode"in document&&(tf=document.documentMode);var qre=Ls&&"TextEvent"in window&&!tf,e4=Ls&&(!QS||tf&&8<tf&&11>=tf),iI=" ",oI=!1;function t4(e,t){switch(e){case"keyup":return Gre.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function n4(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Cc=!1;function Wre(e,t){switch(e){case"compositionend":return n4(t);case"keypress":return t.which!==32?null:(oI=!0,iI);case"textInput":return e=t.data,e===iI&&oI?null:e;default:return null}}function Kre(e,t){if(Cc)return e==="compositionend"||!QS&&t4(e,t)?(e=ZV(),Ag=WS=da=null,Cc=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return e4&&t.locale!=="ko"?null:t.data;default:return null}}var Yre={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sI(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Yre[e.type]:t==="textarea"}function r4(e,t,n,r){OV(r),t=Sm(t,"onChange"),0<t.length&&(n=new KS("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var nf=null,Gf=null;function Qre(e){p4(e,0)}function fv(e){var t=Rc(e);if(CV(t))return e}function Jre(e,t){if(e==="change")return t}var i4=!1;if(Ls){var Qy;if(Ls){var Jy="oninput"in document;if(!Jy){var aI=document.createElement("div");aI.setAttribute("oninput","return;"),Jy=typeof aI.oninput=="function"}Qy=Jy}else Qy=!1;i4=Qy&&(!document.documentMode||9<document.documentMode)}function lI(){nf&&(nf.detachEvent("onpropertychange",o4),Gf=nf=null)}function o4(e){if(e.propertyName==="value"&&fv(Gf)){var t=[];r4(t,Gf,e,zS(e)),$V(Qre,t)}}function Xre(e,t,n){e==="focusin"?(lI(),nf=t,Gf=n,nf.attachEvent("onpropertychange",o4)):e==="focusout"&&lI()}function Zre(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return fv(Gf)}function eie(e,t){if(e==="click")return fv(t)}function tie(e,t){if(e==="input"||e==="change")return fv(t)}function nie(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Do=typeof Object.is=="function"?Object.is:nie;function qf(e,t){if(Do(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!mb.call(t,i)||!Do(e[i],t[i]))return!1}return!0}function cI(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function uI(e,t){var n=cI(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=cI(n)}}function s4(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?s4(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function a4(){for(var e=window,t=mm();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=mm(e.document)}return t}function JS(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function rie(e){var t=a4(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&s4(n.ownerDocument.documentElement,n)){if(r!==null&&JS(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=uI(n,o);var s=uI(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var iie=Ls&&"documentMode"in document&&11>=document.documentMode,Tc=null,Vb=null,rf=null,Lb=!1;function dI(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Lb||Tc==null||Tc!==mm(r)||(r=Tc,"selectionStart"in r&&JS(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),rf&&qf(rf,r)||(rf=r,r=Sm(Vb,"onSelect"),0<r.length&&(t=new KS("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Tc)))}function Ep(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ic={animationend:Ep("Animation","AnimationEnd"),animationiteration:Ep("Animation","AnimationIteration"),animationstart:Ep("Animation","AnimationStart"),transitionend:Ep("Transition","TransitionEnd")},Xy={},l4={};Ls&&(l4=document.createElement("div").style,"AnimationEvent"in window||(delete Ic.animationend.animation,delete Ic.animationiteration.animation,delete Ic.animationstart.animation),"TransitionEvent"in window||delete Ic.transitionend.transition);function hv(e){if(Xy[e])return Xy[e];if(!Ic[e])return e;var t=Ic[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in l4)return Xy[e]=t[n];return e}var c4=hv("animationend"),u4=hv("animationiteration"),d4=hv("animationstart"),f4=hv("transitionend"),h4=new Map,fI="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Na(e,t){h4.set(e,t),Xl(t,[e])}for(var Zy=0;Zy<fI.length;Zy++){var eA=fI[Zy],oie=eA.toLowerCase(),sie=eA[0].toUpperCase()+eA.slice(1);Na(oie,"on"+sie)}Na(c4,"onAnimationEnd");Na(u4,"onAnimationIteration");Na(d4,"onAnimationStart");Na("dblclick","onDoubleClick");Na("focusin","onFocus");Na("focusout","onBlur");Na(f4,"onTransitionEnd");Au("onMouseEnter",["mouseout","mouseover"]);Au("onMouseLeave",["mouseout","mouseover"]);Au("onPointerEnter",["pointerout","pointerover"]);Au("onPointerLeave",["pointerout","pointerover"]);Xl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Xl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Xl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Xl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Xl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Xl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aie=new Set("cancel close invalid load scroll toggle".split(" ").concat(jd));function hI(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,ore(r,t,void 0,e),e.currentTarget=null}function p4(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;hI(i,a,c),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;hI(i,a,c),o=l}}}if(ym)throw e=Pb,ym=!1,Pb=null,e}function Ht(e,t){var n=t[Fb];n===void 0&&(n=t[Fb]=new Set);var r=e+"__bubble";n.has(r)||(g4(t,e,2,!1),n.add(r))}function tA(e,t,n){var r=0;t&&(r|=4),g4(n,e,r,t)}var kp="_reactListening"+Math.random().toString(36).slice(2);function Wf(e){if(!e[kp]){e[kp]=!0,xV.forEach(function(n){n!=="selectionchange"&&(aie.has(n)||tA(n,!1,e),tA(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[kp]||(t[kp]=!0,tA("selectionchange",!1,t))}}function g4(e,t,n,r){switch(XV(t)){case 1:var i=_re;break;case 4:i=xre;break;default:i=qS}n=i.bind(null,t,n,e),i=void 0,!Rb||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function nA(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=cl(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}$V(function(){var c=o,u=zS(n),d=[];e:{var h=h4.get(e);if(h!==void 0){var p=KS,g=e;switch(e){case"keypress":if(bg(n)===0)break e;case"keydown":case"keyup":p=Nre;break;case"focusin":g="focus",p=Yy;break;case"focusout":g="blur",p=Yy;break;case"beforeblur":case"afterblur":p=Yy;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=tI;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Ere;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Bre;break;case c4:case u4:case d4:p=Tre;break;case f4:p=zre;break;case"scroll":p=Sre;break;case"wheel":p=Hre;break;case"copy":case"cut":case"paste":p=Rre;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=rI}var m=(t&4)!==0,b=!m&&e==="scroll",y=m?h!==null?h+"Capture":null:h;m=[];for(var A=c,x;A!==null;){x=A;var S=x.stateNode;if(x.tag===5&&S!==null&&(x=S,y!==null&&(S=Ff(A,y),S!=null&&m.push(Kf(A,S,x)))),b)break;A=A.return}0<m.length&&(h=new p(h,g,null,n,u),d.push({event:h,listeners:m}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&n!==Tb&&(g=n.relatedTarget||n.fromElement)&&(cl(g)||g[Ns]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=c,g=g?cl(g):null,g!==null&&(b=Zl(g),g!==b||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=c),p!==g)){if(m=tI,S="onMouseLeave",y="onMouseEnter",A="mouse",(e==="pointerout"||e==="pointerover")&&(m=rI,S="onPointerLeave",y="onPointerEnter",A="pointer"),b=p==null?h:Rc(p),x=g==null?h:Rc(g),h=new m(S,A+"leave",p,n,u),h.target=b,h.relatedTarget=x,S=null,cl(u)===c&&(m=new m(y,A+"enter",g,n,u),m.target=x,m.relatedTarget=b,S=m),b=S,p&&g)t:{for(m=p,y=g,A=0,x=m;x;x=fc(x))A++;for(x=0,S=y;S;S=fc(S))x++;for(;0<A-x;)m=fc(m),A--;for(;0<x-A;)y=fc(y),x--;for(;A--;){if(m===y||y!==null&&m===y.alternate)break t;m=fc(m),y=fc(y)}m=null}else m=null;p!==null&&pI(d,h,p,m,!1),g!==null&&b!==null&&pI(d,b,g,m,!0)}}e:{if(h=c?Rc(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var _=Jre;else if(sI(h))if(i4)_=tie;else{_=Zre;var w=Xre}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(_=eie);if(_&&(_=_(e,c))){r4(d,_,n,u);break e}w&&w(e,h,c),e==="focusout"&&(w=h._wrapperState)&&w.controlled&&h.type==="number"&&Sb(h,"number",h.value)}switch(w=c?Rc(c):window,e){case"focusin":(sI(w)||w.contentEditable==="true")&&(Tc=w,Vb=c,rf=null);break;case"focusout":rf=Vb=Tc=null;break;case"mousedown":Lb=!0;break;case"contextmenu":case"mouseup":case"dragend":Lb=!1,dI(d,n,u);break;case"selectionchange":if(iie)break;case"keydown":case"keyup":dI(d,n,u)}var E;if(QS)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Cc?t4(e,n)&&(T="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(e4&&n.locale!=="ko"&&(Cc||T!=="onCompositionStart"?T==="onCompositionEnd"&&Cc&&(E=ZV()):(da=u,WS="value"in da?da.value:da.textContent,Cc=!0)),w=Sm(c,T),0<w.length&&(T=new nI(T,e,null,n,u),d.push({event:T,listeners:w}),E?T.data=E:(E=n4(n),E!==null&&(T.data=E)))),(E=qre?Wre(e,n):Kre(e,n))&&(c=Sm(c,"onBeforeInput"),0<c.length&&(u=new nI("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=E))}p4(d,t)})}function Kf(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Sm(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Ff(e,n),o!=null&&r.unshift(Kf(e,o,i)),o=Ff(e,t),o!=null&&r.push(Kf(e,o,i))),e=e.return}return r}function fc(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function pI(e,t,n,r,i){for(var o=t._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Ff(n,o),l!=null&&s.unshift(Kf(n,l,a))):i||(l=Ff(n,o),l!=null&&s.push(Kf(n,l,a)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var lie=/\r\n?/g,cie=/\u0000|\uFFFD/g;function gI(e){return(typeof e=="string"?e:""+e).replace(lie,`
`).replace(cie,"")}function Cp(e,t,n){if(t=gI(t),gI(e)!==t&&n)throw Error(le(425))}function wm(){}var Nb=null,$b=null;function Db(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Bb=typeof setTimeout=="function"?setTimeout:void 0,uie=typeof clearTimeout=="function"?clearTimeout:void 0,mI=typeof Promise=="function"?Promise:void 0,die=typeof queueMicrotask=="function"?queueMicrotask:typeof mI<"u"?function(e){return mI.resolve(null).then(e).catch(fie)}:Bb;function fie(e){setTimeout(function(){throw e})}function rA(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Hf(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Hf(t)}function ba(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function vI(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Wu=Math.random().toString(36).slice(2),es="__reactFiber$"+Wu,Yf="__reactProps$"+Wu,Ns="__reactContainer$"+Wu,Fb="__reactEvents$"+Wu,hie="__reactListeners$"+Wu,pie="__reactHandles$"+Wu;function cl(e){var t=e[es];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ns]||n[es]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=vI(e);e!==null;){if(n=e[es])return n;e=vI(e)}return t}e=n,n=e.parentNode}return null}function Ph(e){return e=e[es]||e[Ns],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Rc(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(le(33))}function pv(e){return e[Yf]||null}var zb=[],Pc=-1;function $a(e){return{current:e}}function Wt(e){0>Pc||(e.current=zb[Pc],zb[Pc]=null,Pc--)}function Ut(e,t){Pc++,zb[Pc]=e.current,e.current=t}var Ma={},Ir=$a(Ma),ei=$a(!1),Vl=Ma;function bu(e,t){var n=e.type.contextTypes;if(!n)return Ma;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function ti(e){return e=e.childContextTypes,e!=null}function Em(){Wt(ei),Wt(Ir)}function yI(e,t,n){if(Ir.current!==Ma)throw Error(le(168));Ut(Ir,t),Ut(ei,n)}function m4(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(le(108,Xne(e)||"Unknown",i));return pn({},n,r)}function km(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ma,Vl=Ir.current,Ut(Ir,e),Ut(ei,ei.current),!0}function AI(e,t,n){var r=e.stateNode;if(!r)throw Error(le(169));n?(e=m4(e,t,Vl),r.__reactInternalMemoizedMergedChildContext=e,Wt(ei),Wt(Ir),Ut(Ir,e)):Wt(ei),Ut(ei,n)}var bs=null,gv=!1,iA=!1;function v4(e){bs===null?bs=[e]:bs.push(e)}function gie(e){gv=!0,v4(e)}function Da(){if(!iA&&bs!==null){iA=!0;var e=0,t=Ct;try{var n=bs;for(Ct=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}bs=null,gv=!1}catch(i){throw bs!==null&&(bs=bs.slice(e+1)),zV(US,Da),i}finally{Ct=t,iA=!1}}return null}var Mc=[],jc=0,Cm=null,Tm=0,Ui=[],Hi=0,Ll=null,Ss=1,ws="";function Za(e,t){Mc[jc++]=Tm,Mc[jc++]=Cm,Cm=e,Tm=t}function y4(e,t,n){Ui[Hi++]=Ss,Ui[Hi++]=ws,Ui[Hi++]=Ll,Ll=e;var r=Ss;e=ws;var i=32-Mo(r)-1;r&=~(1<<i),n+=1;var o=32-Mo(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Ss=1<<32-Mo(t)+i|n<<i|r,ws=o+e}else Ss=1<<o|n<<i|r,ws=e}function XS(e){e.return!==null&&(Za(e,1),y4(e,1,0))}function ZS(e){for(;e===Cm;)Cm=Mc[--jc],Mc[jc]=null,Tm=Mc[--jc],Mc[jc]=null;for(;e===Ll;)Ll=Ui[--Hi],Ui[Hi]=null,ws=Ui[--Hi],Ui[Hi]=null,Ss=Ui[--Hi],Ui[Hi]=null}var bi=null,vi=null,rn=!1,_o=null;function A4(e,t){var n=Wi(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function bI(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,bi=e,vi=ba(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,bi=e,vi=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Ll!==null?{id:Ss,overflow:ws}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Wi(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,bi=e,vi=null,!0):!1;default:return!1}}function Ub(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Hb(e){if(rn){var t=vi;if(t){var n=t;if(!bI(e,t)){if(Ub(e))throw Error(le(418));t=ba(n.nextSibling);var r=bi;t&&bI(e,t)?A4(r,n):(e.flags=e.flags&-4097|2,rn=!1,bi=e)}}else{if(Ub(e))throw Error(le(418));e.flags=e.flags&-4097|2,rn=!1,bi=e}}}function _I(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;bi=e}function Tp(e){if(e!==bi)return!1;if(!rn)return _I(e),rn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Db(e.type,e.memoizedProps)),t&&(t=vi)){if(Ub(e))throw b4(),Error(le(418));for(;t;)A4(e,t),t=ba(t.nextSibling)}if(_I(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(le(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){vi=ba(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}vi=null}}else vi=bi?ba(e.stateNode.nextSibling):null;return!0}function b4(){for(var e=vi;e;)e=ba(e.nextSibling)}function _u(){vi=bi=null,rn=!1}function ew(e){_o===null?_o=[e]:_o.push(e)}var mie=Hs.ReactCurrentBatchConfig;function mo(e,t){if(e&&e.defaultProps){t=pn({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var Im=$a(null),Rm=null,Oc=null,tw=null;function nw(){tw=Oc=Rm=null}function rw(e){var t=Im.current;Wt(Im),e._currentValue=t}function Gb(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function eu(e,t){Rm=e,tw=Oc=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Xr=!0),e.firstContext=null)}function ro(e){var t=e._currentValue;if(tw!==e)if(e={context:e,memoizedValue:t,next:null},Oc===null){if(Rm===null)throw Error(le(308));Oc=e,Rm.dependencies={lanes:0,firstContext:e}}else Oc=Oc.next=e;return t}var ul=null;function iw(e){ul===null?ul=[e]:ul.push(e)}function _4(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,iw(t)):(n.next=i.next,i.next=n),t.interleaved=n,$s(e,r)}function $s(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ta=!1;function ow(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function x4(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Is(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function _a(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,pt&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,$s(e,n)}return i=r.interleaved,i===null?(t.next=t,iw(r)):(t.next=i.next,i.next=t),r.interleaved=t,$s(e,n)}function _g(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,HS(e,n)}}function xI(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Pm(e,t,n,r){var i=e.updateQueue;ta=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?o=c:s.next=c,s=l;var u=e.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==s&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(o!==null){var d=i.baseState;s=0,u=c=l=null,a=o;do{var h=a.lane,p=a.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=e,m=a;switch(h=t,p=n,m.tag){case 1:if(g=m.payload,typeof g=="function"){d=g.call(p,d,h);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,h=typeof g=="function"?g.call(p,d,h):g,h==null)break e;d=pn({},d,h);break e;case 2:ta=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=d):u=u.next=p,s|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);$l|=s,e.lanes=s,e.memoizedState=d}}function SI(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(le(191,i));i.call(r)}}}var S4=new _V.Component().refs;function qb(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:pn({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var mv={isMounted:function(e){return(e=e._reactInternals)?Zl(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=zr(),i=Sa(e),o=Is(r,i);o.payload=t,n!=null&&(o.callback=n),t=_a(e,o,i),t!==null&&(jo(t,e,i,r),_g(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=zr(),i=Sa(e),o=Is(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=_a(e,o,i),t!==null&&(jo(t,e,i,r),_g(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=zr(),r=Sa(e),i=Is(n,r);i.tag=2,t!=null&&(i.callback=t),t=_a(e,i,r),t!==null&&(jo(t,e,r,n),_g(t,e,r))}};function wI(e,t,n,r,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!qf(n,r)||!qf(i,o):!0}function w4(e,t,n){var r=!1,i=Ma,o=t.contextType;return typeof o=="object"&&o!==null?o=ro(o):(i=ti(t)?Vl:Ir.current,r=t.contextTypes,o=(r=r!=null)?bu(e,i):Ma),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=mv,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function EI(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&mv.enqueueReplaceState(t,t.state,null)}function Wb(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=S4,ow(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=ro(o):(o=ti(t)?Vl:Ir.current,i.context=bu(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(qb(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&mv.enqueueReplaceState(i,i.state,null),Pm(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function gd(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(le(309));var r=n.stateNode}if(!r)throw Error(le(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var a=i.refs;a===S4&&(a=i.refs={}),s===null?delete a[o]:a[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(le(284));if(!n._owner)throw Error(le(290,e))}return e}function Ip(e,t){throw e=Object.prototype.toString.call(t),Error(le(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function kI(e){var t=e._init;return t(e._payload)}function E4(e){function t(y,A){if(e){var x=y.deletions;x===null?(y.deletions=[A],y.flags|=16):x.push(A)}}function n(y,A){if(!e)return null;for(;A!==null;)t(y,A),A=A.sibling;return null}function r(y,A){for(y=new Map;A!==null;)A.key!==null?y.set(A.key,A):y.set(A.index,A),A=A.sibling;return y}function i(y,A){return y=wa(y,A),y.index=0,y.sibling=null,y}function o(y,A,x){return y.index=x,e?(x=y.alternate,x!==null?(x=x.index,x<A?(y.flags|=2,A):x):(y.flags|=2,A)):(y.flags|=1048576,A)}function s(y){return e&&y.alternate===null&&(y.flags|=2),y}function a(y,A,x,S){return A===null||A.tag!==6?(A=dA(x,y.mode,S),A.return=y,A):(A=i(A,x),A.return=y,A)}function l(y,A,x,S){var _=x.type;return _===kc?u(y,A,x.props.children,S,x.key):A!==null&&(A.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===ea&&kI(_)===A.type)?(S=i(A,x.props),S.ref=gd(y,A,x),S.return=y,S):(S=Cg(x.type,x.key,x.props,null,y.mode,S),S.ref=gd(y,A,x),S.return=y,S)}function c(y,A,x,S){return A===null||A.tag!==4||A.stateNode.containerInfo!==x.containerInfo||A.stateNode.implementation!==x.implementation?(A=fA(x,y.mode,S),A.return=y,A):(A=i(A,x.children||[]),A.return=y,A)}function u(y,A,x,S,_){return A===null||A.tag!==7?(A=xl(x,y.mode,S,_),A.return=y,A):(A=i(A,x),A.return=y,A)}function d(y,A,x){if(typeof A=="string"&&A!==""||typeof A=="number")return A=dA(""+A,y.mode,x),A.return=y,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case yp:return x=Cg(A.type,A.key,A.props,null,y.mode,x),x.ref=gd(y,null,A),x.return=y,x;case Ec:return A=fA(A,y.mode,x),A.return=y,A;case ea:var S=A._init;return d(y,S(A._payload),x)}if(Pd(A)||ud(A))return A=xl(A,y.mode,x,null),A.return=y,A;Ip(y,A)}return null}function h(y,A,x,S){var _=A!==null?A.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return _!==null?null:a(y,A,""+x,S);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case yp:return x.key===_?l(y,A,x,S):null;case Ec:return x.key===_?c(y,A,x,S):null;case ea:return _=x._init,h(y,A,_(x._payload),S)}if(Pd(x)||ud(x))return _!==null?null:u(y,A,x,S,null);Ip(y,x)}return null}function p(y,A,x,S,_){if(typeof S=="string"&&S!==""||typeof S=="number")return y=y.get(x)||null,a(A,y,""+S,_);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case yp:return y=y.get(S.key===null?x:S.key)||null,l(A,y,S,_);case Ec:return y=y.get(S.key===null?x:S.key)||null,c(A,y,S,_);case ea:var w=S._init;return p(y,A,x,w(S._payload),_)}if(Pd(S)||ud(S))return y=y.get(x)||null,u(A,y,S,_,null);Ip(A,S)}return null}function g(y,A,x,S){for(var _=null,w=null,E=A,T=A=0,O=null;E!==null&&T<x.length;T++){E.index>T?(O=E,E=null):O=E.sibling;var L=h(y,E,x[T],S);if(L===null){E===null&&(E=O);break}e&&E&&L.alternate===null&&t(y,E),A=o(L,A,T),w===null?_=L:w.sibling=L,w=L,E=O}if(T===x.length)return n(y,E),rn&&Za(y,T),_;if(E===null){for(;T<x.length;T++)E=d(y,x[T],S),E!==null&&(A=o(E,A,T),w===null?_=E:w.sibling=E,w=E);return rn&&Za(y,T),_}for(E=r(y,E);T<x.length;T++)O=p(E,y,T,x[T],S),O!==null&&(e&&O.alternate!==null&&E.delete(O.key===null?T:O.key),A=o(O,A,T),w===null?_=O:w.sibling=O,w=O);return e&&E.forEach(function(N){return t(y,N)}),rn&&Za(y,T),_}function m(y,A,x,S){var _=ud(x);if(typeof _!="function")throw Error(le(150));if(x=_.call(x),x==null)throw Error(le(151));for(var w=_=null,E=A,T=A=0,O=null,L=x.next();E!==null&&!L.done;T++,L=x.next()){E.index>T?(O=E,E=null):O=E.sibling;var N=h(y,E,L.value,S);if(N===null){E===null&&(E=O);break}e&&E&&N.alternate===null&&t(y,E),A=o(N,A,T),w===null?_=N:w.sibling=N,w=N,E=O}if(L.done)return n(y,E),rn&&Za(y,T),_;if(E===null){for(;!L.done;T++,L=x.next())L=d(y,L.value,S),L!==null&&(A=o(L,A,T),w===null?_=L:w.sibling=L,w=L);return rn&&Za(y,T),_}for(E=r(y,E);!L.done;T++,L=x.next())L=p(E,y,T,L.value,S),L!==null&&(e&&L.alternate!==null&&E.delete(L.key===null?T:L.key),A=o(L,A,T),w===null?_=L:w.sibling=L,w=L);return e&&E.forEach(function(H){return t(y,H)}),rn&&Za(y,T),_}function b(y,A,x,S){if(typeof x=="object"&&x!==null&&x.type===kc&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case yp:e:{for(var _=x.key,w=A;w!==null;){if(w.key===_){if(_=x.type,_===kc){if(w.tag===7){n(y,w.sibling),A=i(w,x.props.children),A.return=y,y=A;break e}}else if(w.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===ea&&kI(_)===w.type){n(y,w.sibling),A=i(w,x.props),A.ref=gd(y,w,x),A.return=y,y=A;break e}n(y,w);break}else t(y,w);w=w.sibling}x.type===kc?(A=xl(x.props.children,y.mode,S,x.key),A.return=y,y=A):(S=Cg(x.type,x.key,x.props,null,y.mode,S),S.ref=gd(y,A,x),S.return=y,y=S)}return s(y);case Ec:e:{for(w=x.key;A!==null;){if(A.key===w)if(A.tag===4&&A.stateNode.containerInfo===x.containerInfo&&A.stateNode.implementation===x.implementation){n(y,A.sibling),A=i(A,x.children||[]),A.return=y,y=A;break e}else{n(y,A);break}else t(y,A);A=A.sibling}A=fA(x,y.mode,S),A.return=y,y=A}return s(y);case ea:return w=x._init,b(y,A,w(x._payload),S)}if(Pd(x))return g(y,A,x,S);if(ud(x))return m(y,A,x,S);Ip(y,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,A!==null&&A.tag===6?(n(y,A.sibling),A=i(A,x),A.return=y,y=A):(n(y,A),A=dA(x,y.mode,S),A.return=y,y=A),s(y)):n(y,A)}return b}var xu=E4(!0),k4=E4(!1),Mh={},cs=$a(Mh),Qf=$a(Mh),Jf=$a(Mh);function dl(e){if(e===Mh)throw Error(le(174));return e}function sw(e,t){switch(Ut(Jf,t),Ut(Qf,e),Ut(cs,Mh),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Eb(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Eb(t,e)}Wt(cs),Ut(cs,t)}function Su(){Wt(cs),Wt(Qf),Wt(Jf)}function C4(e){dl(Jf.current);var t=dl(cs.current),n=Eb(t,e.type);t!==n&&(Ut(Qf,e),Ut(cs,n))}function aw(e){Qf.current===e&&(Wt(cs),Wt(Qf))}var cn=$a(0);function Mm(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var oA=[];function lw(){for(var e=0;e<oA.length;e++)oA[e]._workInProgressVersionPrimary=null;oA.length=0}var xg=Hs.ReactCurrentDispatcher,sA=Hs.ReactCurrentBatchConfig,Nl=0,fn=null,zn=null,tr=null,jm=!1,of=!1,Xf=0,vie=0;function br(){throw Error(le(321))}function cw(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Do(e[n],t[n]))return!1;return!0}function uw(e,t,n,r,i,o){if(Nl=o,fn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,xg.current=e===null||e.memoizedState===null?_ie:xie,e=n(r,i),of){o=0;do{if(of=!1,Xf=0,25<=o)throw Error(le(301));o+=1,tr=zn=null,t.updateQueue=null,xg.current=Sie,e=n(r,i)}while(of)}if(xg.current=Om,t=zn!==null&&zn.next!==null,Nl=0,tr=zn=fn=null,jm=!1,t)throw Error(le(300));return e}function dw(){var e=Xf!==0;return Xf=0,e}function Ko(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tr===null?fn.memoizedState=tr=e:tr=tr.next=e,tr}function io(){if(zn===null){var e=fn.alternate;e=e!==null?e.memoizedState:null}else e=zn.next;var t=tr===null?fn.memoizedState:tr.next;if(t!==null)tr=t,zn=e;else{if(e===null)throw Error(le(310));zn=e,e={memoizedState:zn.memoizedState,baseState:zn.baseState,baseQueue:zn.baseQueue,queue:zn.queue,next:null},tr===null?fn.memoizedState=tr=e:tr=tr.next=e}return tr}function Zf(e,t){return typeof t=="function"?t(e):t}function aA(e){var t=io(),n=t.queue;if(n===null)throw Error(le(311));n.lastRenderedReducer=e;var r=zn,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,c=o;do{var u=c.lane;if((Nl&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,s=r):l=l.next=d,fn.lanes|=u,$l|=u}c=c.next}while(c!==null&&c!==o);l===null?s=r:l.next=a,Do(r,t.memoizedState)||(Xr=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,fn.lanes|=o,$l|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function lA(e){var t=io(),n=t.queue;if(n===null)throw Error(le(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);Do(o,t.memoizedState)||(Xr=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function T4(){}function I4(e,t){var n=fn,r=io(),i=t(),o=!Do(r.memoizedState,i);if(o&&(r.memoizedState=i,Xr=!0),r=r.queue,fw(M4.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||tr!==null&&tr.memoizedState.tag&1){if(n.flags|=2048,eh(9,P4.bind(null,n,r,i,t),void 0,null),ir===null)throw Error(le(349));Nl&30||R4(n,t,i)}return i}function R4(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=fn.updateQueue,t===null?(t={lastEffect:null,stores:null},fn.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function P4(e,t,n,r){t.value=n,t.getSnapshot=r,j4(t)&&O4(e)}function M4(e,t,n){return n(function(){j4(t)&&O4(e)})}function j4(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Do(e,n)}catch{return!0}}function O4(e){var t=$s(e,1);t!==null&&jo(t,e,1,-1)}function CI(e){var t=Ko();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zf,lastRenderedState:e},t.queue=e,e=e.dispatch=bie.bind(null,fn,e),[t.memoizedState,e]}function eh(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=fn.updateQueue,t===null?(t={lastEffect:null,stores:null},fn.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function V4(){return io().memoizedState}function Sg(e,t,n,r){var i=Ko();fn.flags|=e,i.memoizedState=eh(1|t,n,void 0,r===void 0?null:r)}function vv(e,t,n,r){var i=io();r=r===void 0?null:r;var o=void 0;if(zn!==null){var s=zn.memoizedState;if(o=s.destroy,r!==null&&cw(r,s.deps)){i.memoizedState=eh(t,n,o,r);return}}fn.flags|=e,i.memoizedState=eh(1|t,n,o,r)}function TI(e,t){return Sg(8390656,8,e,t)}function fw(e,t){return vv(2048,8,e,t)}function L4(e,t){return vv(4,2,e,t)}function N4(e,t){return vv(4,4,e,t)}function $4(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function D4(e,t,n){return n=n!=null?n.concat([e]):null,vv(4,4,$4.bind(null,t,e),n)}function hw(){}function B4(e,t){var n=io();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&cw(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function F4(e,t){var n=io();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&cw(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function z4(e,t,n){return Nl&21?(Do(n,t)||(n=GV(),fn.lanes|=n,$l|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Xr=!0),e.memoizedState=n)}function yie(e,t){var n=Ct;Ct=n!==0&&4>n?n:4,e(!0);var r=sA.transition;sA.transition={};try{e(!1),t()}finally{Ct=n,sA.transition=r}}function U4(){return io().memoizedState}function Aie(e,t,n){var r=Sa(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},H4(e))G4(t,n);else if(n=_4(e,t,n,r),n!==null){var i=zr();jo(n,e,r,i),q4(n,t,r)}}function bie(e,t,n){var r=Sa(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(H4(e))G4(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Do(a,s)){var l=t.interleaved;l===null?(i.next=i,iw(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=_4(e,t,i,r),n!==null&&(i=zr(),jo(n,e,r,i),q4(n,t,r))}}function H4(e){var t=e.alternate;return e===fn||t!==null&&t===fn}function G4(e,t){of=jm=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function q4(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,HS(e,n)}}var Om={readContext:ro,useCallback:br,useContext:br,useEffect:br,useImperativeHandle:br,useInsertionEffect:br,useLayoutEffect:br,useMemo:br,useReducer:br,useRef:br,useState:br,useDebugValue:br,useDeferredValue:br,useTransition:br,useMutableSource:br,useSyncExternalStore:br,useId:br,unstable_isNewReconciler:!1},_ie={readContext:ro,useCallback:function(e,t){return Ko().memoizedState=[e,t===void 0?null:t],e},useContext:ro,useEffect:TI,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Sg(4194308,4,$4.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Sg(4194308,4,e,t)},useInsertionEffect:function(e,t){return Sg(4,2,e,t)},useMemo:function(e,t){var n=Ko();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ko();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Aie.bind(null,fn,e),[r.memoizedState,e]},useRef:function(e){var t=Ko();return e={current:e},t.memoizedState=e},useState:CI,useDebugValue:hw,useDeferredValue:function(e){return Ko().memoizedState=e},useTransition:function(){var e=CI(!1),t=e[0];return e=yie.bind(null,e[1]),Ko().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=fn,i=Ko();if(rn){if(n===void 0)throw Error(le(407));n=n()}else{if(n=t(),ir===null)throw Error(le(349));Nl&30||R4(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,TI(M4.bind(null,r,o,e),[e]),r.flags|=2048,eh(9,P4.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Ko(),t=ir.identifierPrefix;if(rn){var n=ws,r=Ss;n=(r&~(1<<32-Mo(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Xf++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=vie++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},xie={readContext:ro,useCallback:B4,useContext:ro,useEffect:fw,useImperativeHandle:D4,useInsertionEffect:L4,useLayoutEffect:N4,useMemo:F4,useReducer:aA,useRef:V4,useState:function(){return aA(Zf)},useDebugValue:hw,useDeferredValue:function(e){var t=io();return z4(t,zn.memoizedState,e)},useTransition:function(){var e=aA(Zf)[0],t=io().memoizedState;return[e,t]},useMutableSource:T4,useSyncExternalStore:I4,useId:U4,unstable_isNewReconciler:!1},Sie={readContext:ro,useCallback:B4,useContext:ro,useEffect:fw,useImperativeHandle:D4,useInsertionEffect:L4,useLayoutEffect:N4,useMemo:F4,useReducer:lA,useRef:V4,useState:function(){return lA(Zf)},useDebugValue:hw,useDeferredValue:function(e){var t=io();return zn===null?t.memoizedState=e:z4(t,zn.memoizedState,e)},useTransition:function(){var e=lA(Zf)[0],t=io().memoizedState;return[e,t]},useMutableSource:T4,useSyncExternalStore:I4,useId:U4,unstable_isNewReconciler:!1};function wu(e,t){try{var n="",r=t;do n+=Jne(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function cA(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Kb(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var wie=typeof WeakMap=="function"?WeakMap:Map;function W4(e,t,n){n=Is(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Lm||(Lm=!0,i_=r),Kb(e,t)},n}function K4(e,t,n){n=Is(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Kb(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Kb(e,t),typeof r!="function"&&(xa===null?xa=new Set([this]):xa.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function II(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new wie;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=$ie.bind(null,e,t,n),t.then(e,e))}function RI(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function PI(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Is(-1,1),t.tag=2,_a(n,t,1))),n.lanes|=1),e)}var Eie=Hs.ReactCurrentOwner,Xr=!1;function Vr(e,t,n,r){t.child=e===null?k4(t,null,n,r):xu(t,e.child,n,r)}function MI(e,t,n,r,i){n=n.render;var o=t.ref;return eu(t,i),r=uw(e,t,n,r,o,i),n=dw(),e!==null&&!Xr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ds(e,t,i)):(rn&&n&&XS(t),t.flags|=1,Vr(e,t,r,i),t.child)}function jI(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!_w(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,Y4(e,t,o,r,i)):(e=Cg(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:qf,n(s,r)&&e.ref===t.ref)return Ds(e,t,i)}return t.flags|=1,e=wa(o,r),e.ref=t.ref,e.return=t,t.child=e}function Y4(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(qf(o,r)&&e.ref===t.ref)if(Xr=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(Xr=!0);else return t.lanes=e.lanes,Ds(e,t,i)}return Yb(e,t,n,r,i)}function Q4(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ut(Lc,di),di|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ut(Lc,di),di|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Ut(Lc,di),di|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ut(Lc,di),di|=r;return Vr(e,t,i,n),t.child}function J4(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Yb(e,t,n,r,i){var o=ti(n)?Vl:Ir.current;return o=bu(t,o),eu(t,i),n=uw(e,t,n,r,o,i),r=dw(),e!==null&&!Xr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ds(e,t,i)):(rn&&r&&XS(t),t.flags|=1,Vr(e,t,n,i),t.child)}function OI(e,t,n,r,i){if(ti(n)){var o=!0;km(t)}else o=!1;if(eu(t,i),t.stateNode===null)wg(e,t),w4(t,n,r),Wb(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=ro(c):(c=ti(n)?Vl:Ir.current,c=bu(t,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==c)&&EI(t,s,r,c),ta=!1;var h=t.memoizedState;s.state=h,Pm(t,r,s,i),l=t.memoizedState,a!==r||h!==l||ei.current||ta?(typeof u=="function"&&(qb(t,n,u,r),l=t.memoizedState),(a=ta||wI(t,n,a,r,h,l,c))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,x4(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:mo(t.type,a),s.props=c,d=t.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=ro(l):(l=ti(n)?Vl:Ir.current,l=bu(t,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==d||h!==l)&&EI(t,s,r,l),ta=!1,h=t.memoizedState,s.state=h,Pm(t,r,s,i);var g=t.memoizedState;a!==d||h!==g||ei.current||ta?(typeof p=="function"&&(qb(t,n,p,r),g=t.memoizedState),(c=ta||wI(t,n,c,r,h,g,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,g,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,g,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),s.props=r,s.state=g,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Qb(e,t,n,r,o,i)}function Qb(e,t,n,r,i,o){J4(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&AI(t,n,!1),Ds(e,t,o);r=t.stateNode,Eie.current=t;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=xu(t,e.child,null,o),t.child=xu(t,null,a,o)):Vr(e,t,a,o),t.memoizedState=r.state,i&&AI(t,n,!0),t.child}function X4(e){var t=e.stateNode;t.pendingContext?yI(e,t.pendingContext,t.pendingContext!==t.context):t.context&&yI(e,t.context,!1),sw(e,t.containerInfo)}function VI(e,t,n,r,i){return _u(),ew(i),t.flags|=256,Vr(e,t,n,r),t.child}var Jb={dehydrated:null,treeContext:null,retryLane:0};function Xb(e){return{baseLanes:e,cachePool:null,transitions:null}}function Z4(e,t,n){var r=t.pendingProps,i=cn.current,o=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Ut(cn,i&1),e===null)return Hb(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,o?(r=t.mode,o=t.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=bv(s,r,0,null),e=xl(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Xb(n),t.memoizedState=Jb,e):pw(t,s));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return kie(e,t,s,r,a,i,n);if(o){o=r.fallback,s=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=wa(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=wa(a,o):(o=xl(o,s,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,s=e.child.memoizedState,s=s===null?Xb(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~n,t.memoizedState=Jb,r}return o=e.child,e=o.sibling,r=wa(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function pw(e,t){return t=bv({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Rp(e,t,n,r){return r!==null&&ew(r),xu(t,e.child,null,n),e=pw(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function kie(e,t,n,r,i,o,s){if(n)return t.flags&256?(t.flags&=-257,r=cA(Error(le(422))),Rp(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=bv({mode:"visible",children:r.children},i,0,null),o=xl(o,i,s,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&xu(t,e.child,null,s),t.child.memoizedState=Xb(s),t.memoizedState=Jb,o);if(!(t.mode&1))return Rp(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(le(419)),r=cA(o,r,void 0),Rp(e,t,s,r)}if(a=(s&e.childLanes)!==0,Xr||a){if(r=ir,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,$s(e,i),jo(r,e,i,-1))}return bw(),r=cA(Error(le(421))),Rp(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Die.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,vi=ba(i.nextSibling),bi=t,rn=!0,_o=null,e!==null&&(Ui[Hi++]=Ss,Ui[Hi++]=ws,Ui[Hi++]=Ll,Ss=e.id,ws=e.overflow,Ll=t),t=pw(t,r.children),t.flags|=4096,t)}function LI(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Gb(e.return,t,n)}function uA(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function eL(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Vr(e,t,r.children,n),r=cn.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&LI(e,n,t);else if(e.tag===19)LI(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ut(cn,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Mm(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),uA(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Mm(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}uA(t,!0,n,null,o);break;case"together":uA(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function wg(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ds(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),$l|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(le(153));if(t.child!==null){for(e=t.child,n=wa(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=wa(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Cie(e,t,n){switch(t.tag){case 3:X4(t),_u();break;case 5:C4(t);break;case 1:ti(t.type)&&km(t);break;case 4:sw(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ut(Im,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ut(cn,cn.current&1),t.flags|=128,null):n&t.child.childLanes?Z4(e,t,n):(Ut(cn,cn.current&1),e=Ds(e,t,n),e!==null?e.sibling:null);Ut(cn,cn.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return eL(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ut(cn,cn.current),r)break;return null;case 22:case 23:return t.lanes=0,Q4(e,t,n)}return Ds(e,t,n)}var tL,Zb,nL,rL;tL=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Zb=function(){};nL=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,dl(cs.current);var o=null;switch(n){case"input":i=_b(e,i),r=_b(e,r),o=[];break;case"select":i=pn({},i,{value:void 0}),r=pn({},r,{value:void 0}),o=[];break;case"textarea":i=wb(e,i),r=wb(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=wm)}kb(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Df.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Df.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ht("scroll",e),o||a===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}};rL=function(e,t,n,r){n!==r&&(t.flags|=4)};function md(e,t){if(!rn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function _r(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Tie(e,t,n){var r=t.pendingProps;switch(ZS(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _r(t),null;case 1:return ti(t.type)&&Em(),_r(t),null;case 3:return r=t.stateNode,Su(),Wt(ei),Wt(Ir),lw(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Tp(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,_o!==null&&(a_(_o),_o=null))),Zb(e,t),_r(t),null;case 5:aw(t);var i=dl(Jf.current);if(n=t.type,e!==null&&t.stateNode!=null)nL(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(le(166));return _r(t),null}if(e=dl(cs.current),Tp(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[es]=t,r[Yf]=o,e=(t.mode&1)!==0,n){case"dialog":Ht("cancel",r),Ht("close",r);break;case"iframe":case"object":case"embed":Ht("load",r);break;case"video":case"audio":for(i=0;i<jd.length;i++)Ht(jd[i],r);break;case"source":Ht("error",r);break;case"img":case"image":case"link":Ht("error",r),Ht("load",r);break;case"details":Ht("toggle",r);break;case"input":GT(r,o),Ht("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ht("invalid",r);break;case"textarea":WT(r,o),Ht("invalid",r)}kb(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Cp(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Cp(r.textContent,a,e),i=["children",""+a]):Df.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Ht("scroll",r)}switch(n){case"input":Ap(r),qT(r,o,!0);break;case"textarea":Ap(r),KT(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=wm)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=RV(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[es]=t,e[Yf]=r,tL(e,t,!1,!1),t.stateNode=e;e:{switch(s=Cb(n,r),n){case"dialog":Ht("cancel",e),Ht("close",e),i=r;break;case"iframe":case"object":case"embed":Ht("load",e),i=r;break;case"video":case"audio":for(i=0;i<jd.length;i++)Ht(jd[i],e);i=r;break;case"source":Ht("error",e),i=r;break;case"img":case"image":case"link":Ht("error",e),Ht("load",e),i=r;break;case"details":Ht("toggle",e),i=r;break;case"input":GT(e,r),i=_b(e,r),Ht("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=pn({},r,{value:void 0}),Ht("invalid",e);break;case"textarea":WT(e,r),i=wb(e,r),Ht("invalid",e);break;default:i=r}kb(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?jV(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&PV(e,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Bf(e,l):typeof l=="number"&&Bf(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Df.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Ht("scroll",e):l!=null&&$S(e,o,l,s))}switch(n){case"input":Ap(e),qT(e,r,!1);break;case"textarea":Ap(e),KT(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Pa(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Qc(e,!!r.multiple,o,!1):r.defaultValue!=null&&Qc(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=wm)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return _r(t),null;case 6:if(e&&t.stateNode!=null)rL(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(le(166));if(n=dl(Jf.current),dl(cs.current),Tp(t)){if(r=t.stateNode,n=t.memoizedProps,r[es]=t,(o=r.nodeValue!==n)&&(e=bi,e!==null))switch(e.tag){case 3:Cp(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Cp(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[es]=t,t.stateNode=r}return _r(t),null;case 13:if(Wt(cn),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(rn&&vi!==null&&t.mode&1&&!(t.flags&128))b4(),_u(),t.flags|=98560,o=!1;else if(o=Tp(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(le(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(le(317));o[es]=t}else _u(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;_r(t),o=!1}else _o!==null&&(a_(_o),_o=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||cn.current&1?Gn===0&&(Gn=3):bw())),t.updateQueue!==null&&(t.flags|=4),_r(t),null);case 4:return Su(),Zb(e,t),e===null&&Wf(t.stateNode.containerInfo),_r(t),null;case 10:return rw(t.type._context),_r(t),null;case 17:return ti(t.type)&&Em(),_r(t),null;case 19:if(Wt(cn),o=t.memoizedState,o===null)return _r(t),null;if(r=(t.flags&128)!==0,s=o.rendering,s===null)if(r)md(o,!1);else{if(Gn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Mm(e),s!==null){for(t.flags|=128,md(o,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ut(cn,cn.current&1|2),t.child}e=e.sibling}o.tail!==null&&Rn()>Eu&&(t.flags|=128,r=!0,md(o,!1),t.lanes=4194304)}else{if(!r)if(e=Mm(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),md(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!rn)return _r(t),null}else 2*Rn()-o.renderingStartTime>Eu&&n!==1073741824&&(t.flags|=128,r=!0,md(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(n=o.last,n!==null?n.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Rn(),t.sibling=null,n=cn.current,Ut(cn,r?n&1|2:n&1),t):(_r(t),null);case 22:case 23:return Aw(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?di&1073741824&&(_r(t),t.subtreeFlags&6&&(t.flags|=8192)):_r(t),null;case 24:return null;case 25:return null}throw Error(le(156,t.tag))}function Iie(e,t){switch(ZS(t),t.tag){case 1:return ti(t.type)&&Em(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Su(),Wt(ei),Wt(Ir),lw(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return aw(t),null;case 13:if(Wt(cn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(le(340));_u()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Wt(cn),null;case 4:return Su(),null;case 10:return rw(t.type._context),null;case 22:case 23:return Aw(),null;case 24:return null;default:return null}}var Pp=!1,wr=!1,Rie=typeof WeakSet=="function"?WeakSet:Set,Se=null;function Vc(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){An(e,t,r)}else n.current=null}function e_(e,t,n){try{n()}catch(r){An(e,t,r)}}var NI=!1;function Pie(e,t){if(Nb=_m,e=a4(),JS(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,c=0,u=0,d=e,h=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(a=s+i),d!==o||r!==0&&d.nodeType!==3||(l=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===e)break t;if(h===n&&++c===i&&(a=s),h===o&&++u===r&&(l=s),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for($b={focusedElem:e,selectionRange:n},_m=!1,Se=t;Se!==null;)if(t=Se,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Se=e;else for(;Se!==null;){t=Se;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var m=g.memoizedProps,b=g.memoizedState,y=t.stateNode,A=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:mo(t.type,m),b);y.__reactInternalSnapshotBeforeUpdate=A}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(le(163))}}catch(S){An(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,Se=e;break}Se=t.return}return g=NI,NI=!1,g}function sf(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&e_(t,n,o)}i=i.next}while(i!==r)}}function yv(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function t_(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function iL(e){var t=e.alternate;t!==null&&(e.alternate=null,iL(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[es],delete t[Yf],delete t[Fb],delete t[hie],delete t[pie])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function oL(e){return e.tag===5||e.tag===3||e.tag===4}function $I(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||oL(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function n_(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=wm));else if(r!==4&&(e=e.child,e!==null))for(n_(e,t,n),e=e.sibling;e!==null;)n_(e,t,n),e=e.sibling}function r_(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(r_(e,t,n),e=e.sibling;e!==null;)r_(e,t,n),e=e.sibling}var cr=null,Ao=!1;function Ys(e,t,n){for(n=n.child;n!==null;)sL(e,t,n),n=n.sibling}function sL(e,t,n){if(ls&&typeof ls.onCommitFiberUnmount=="function")try{ls.onCommitFiberUnmount(uv,n)}catch{}switch(n.tag){case 5:wr||Vc(n,t);case 6:var r=cr,i=Ao;cr=null,Ys(e,t,n),cr=r,Ao=i,cr!==null&&(Ao?(e=cr,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):cr.removeChild(n.stateNode));break;case 18:cr!==null&&(Ao?(e=cr,n=n.stateNode,e.nodeType===8?rA(e.parentNode,n):e.nodeType===1&&rA(e,n),Hf(e)):rA(cr,n.stateNode));break;case 4:r=cr,i=Ao,cr=n.stateNode.containerInfo,Ao=!0,Ys(e,t,n),cr=r,Ao=i;break;case 0:case 11:case 14:case 15:if(!wr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&e_(n,t,s),i=i.next}while(i!==r)}Ys(e,t,n);break;case 1:if(!wr&&(Vc(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){An(n,t,a)}Ys(e,t,n);break;case 21:Ys(e,t,n);break;case 22:n.mode&1?(wr=(r=wr)||n.memoizedState!==null,Ys(e,t,n),wr=r):Ys(e,t,n);break;default:Ys(e,t,n)}}function DI(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Rie),t.forEach(function(r){var i=Bie.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function po(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:cr=a.stateNode,Ao=!1;break e;case 3:cr=a.stateNode.containerInfo,Ao=!0;break e;case 4:cr=a.stateNode.containerInfo,Ao=!0;break e}a=a.return}if(cr===null)throw Error(le(160));sL(o,s,i),cr=null,Ao=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){An(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)aL(t,e),t=t.sibling}function aL(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(po(t,e),Ho(e),r&4){try{sf(3,e,e.return),yv(3,e)}catch(m){An(e,e.return,m)}try{sf(5,e,e.return)}catch(m){An(e,e.return,m)}}break;case 1:po(t,e),Ho(e),r&512&&n!==null&&Vc(n,n.return);break;case 5:if(po(t,e),Ho(e),r&512&&n!==null&&Vc(n,n.return),e.flags&32){var i=e.stateNode;try{Bf(i,"")}catch(m){An(e,e.return,m)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,s=n!==null?n.memoizedProps:o,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&TV(i,o),Cb(a,s);var c=Cb(a,o);for(s=0;s<l.length;s+=2){var u=l[s],d=l[s+1];u==="style"?jV(i,d):u==="dangerouslySetInnerHTML"?PV(i,d):u==="children"?Bf(i,d):$S(i,u,d,c)}switch(a){case"input":xb(i,o);break;case"textarea":IV(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?Qc(i,!!o.multiple,p,!1):h!==!!o.multiple&&(o.defaultValue!=null?Qc(i,!!o.multiple,o.defaultValue,!0):Qc(i,!!o.multiple,o.multiple?[]:"",!1))}i[Yf]=o}catch(m){An(e,e.return,m)}}break;case 6:if(po(t,e),Ho(e),r&4){if(e.stateNode===null)throw Error(le(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){An(e,e.return,m)}}break;case 3:if(po(t,e),Ho(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Hf(t.containerInfo)}catch(m){An(e,e.return,m)}break;case 4:po(t,e),Ho(e);break;case 13:po(t,e),Ho(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(vw=Rn())),r&4&&DI(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(wr=(c=wr)||u,po(t,e),wr=c):po(t,e),Ho(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(Se=e,u=e.child;u!==null;){for(d=Se=u;Se!==null;){switch(h=Se,p=h.child,h.tag){case 0:case 11:case 14:case 15:sf(4,h,h.return);break;case 1:Vc(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){An(r,n,m)}}break;case 5:Vc(h,h.return);break;case 22:if(h.memoizedState!==null){FI(d);continue}}p!==null?(p.return=h,Se=p):FI(d)}u=u.sibling}e:for(u=null,d=e;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=MV("display",s))}catch(m){An(e,e.return,m)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(m){An(e,e.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:po(t,e),Ho(e),r&4&&DI(e);break;case 21:break;default:po(t,e),Ho(e)}}function Ho(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(oL(n)){var r=n;break e}n=n.return}throw Error(le(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Bf(i,""),r.flags&=-33);var o=$I(e);r_(e,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=$I(e);n_(e,a,s);break;default:throw Error(le(161))}}catch(l){An(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Mie(e,t,n){Se=e,lL(e)}function lL(e,t,n){for(var r=(e.mode&1)!==0;Se!==null;){var i=Se,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Pp;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||wr;a=Pp;var c=wr;if(Pp=s,(wr=l)&&!c)for(Se=i;Se!==null;)s=Se,l=s.child,s.tag===22&&s.memoizedState!==null?zI(i):l!==null?(l.return=s,Se=l):zI(i);for(;o!==null;)Se=o,lL(o),o=o.sibling;Se=i,Pp=a,wr=c}BI(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Se=o):BI(e)}}function BI(e){for(;Se!==null;){var t=Se;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:wr||yv(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!wr)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:mo(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&SI(t,o,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}SI(t,s,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Hf(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(le(163))}wr||t.flags&512&&t_(t)}catch(h){An(t,t.return,h)}}if(t===e){Se=null;break}if(n=t.sibling,n!==null){n.return=t.return,Se=n;break}Se=t.return}}function FI(e){for(;Se!==null;){var t=Se;if(t===e){Se=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Se=n;break}Se=t.return}}function zI(e){for(;Se!==null;){var t=Se;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{yv(4,t)}catch(l){An(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){An(t,i,l)}}var o=t.return;try{t_(t)}catch(l){An(t,o,l)}break;case 5:var s=t.return;try{t_(t)}catch(l){An(t,s,l)}}}catch(l){An(t,t.return,l)}if(t===e){Se=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Se=a;break}Se=t.return}}var jie=Math.ceil,Vm=Hs.ReactCurrentDispatcher,gw=Hs.ReactCurrentOwner,Qi=Hs.ReactCurrentBatchConfig,pt=0,ir=null,Bn=null,gr=0,di=0,Lc=$a(0),Gn=0,th=null,$l=0,Av=0,mw=0,af=null,Yr=null,vw=0,Eu=1/0,ys=null,Lm=!1,i_=null,xa=null,Mp=!1,fa=null,Nm=0,lf=0,o_=null,Eg=-1,kg=0;function zr(){return pt&6?Rn():Eg!==-1?Eg:Eg=Rn()}function Sa(e){return e.mode&1?pt&2&&gr!==0?gr&-gr:mie.transition!==null?(kg===0&&(kg=GV()),kg):(e=Ct,e!==0||(e=window.event,e=e===void 0?16:XV(e.type)),e):1}function jo(e,t,n,r){if(50<lf)throw lf=0,o_=null,Error(le(185));Ih(e,n,r),(!(pt&2)||e!==ir)&&(e===ir&&(!(pt&2)&&(Av|=n),Gn===4&&ia(e,gr)),ni(e,r),n===1&&pt===0&&!(t.mode&1)&&(Eu=Rn()+500,gv&&Da()))}function ni(e,t){var n=e.callbackNode;mre(e,t);var r=bm(e,e===ir?gr:0);if(r===0)n!==null&&JT(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&JT(n),t===1)e.tag===0?gie(UI.bind(null,e)):v4(UI.bind(null,e)),die(function(){!(pt&6)&&Da()}),n=null;else{switch(qV(r)){case 1:n=US;break;case 4:n=UV;break;case 16:n=Am;break;case 536870912:n=HV;break;default:n=Am}n=mL(n,cL.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function cL(e,t){if(Eg=-1,kg=0,pt&6)throw Error(le(327));var n=e.callbackNode;if(tu()&&e.callbackNode!==n)return null;var r=bm(e,e===ir?gr:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=$m(e,r);else{t=r;var i=pt;pt|=2;var o=dL();(ir!==e||gr!==t)&&(ys=null,Eu=Rn()+500,_l(e,t));do try{Lie();break}catch(a){uL(e,a)}while(!0);nw(),Vm.current=o,pt=i,Bn!==null?t=0:(ir=null,gr=0,t=Gn)}if(t!==0){if(t===2&&(i=Mb(e),i!==0&&(r=i,t=s_(e,i))),t===1)throw n=th,_l(e,0),ia(e,r),ni(e,Rn()),n;if(t===6)ia(e,r);else{if(i=e.current.alternate,!(r&30)&&!Oie(i)&&(t=$m(e,r),t===2&&(o=Mb(e),o!==0&&(r=o,t=s_(e,o))),t===1))throw n=th,_l(e,0),ia(e,r),ni(e,Rn()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(le(345));case 2:el(e,Yr,ys);break;case 3:if(ia(e,r),(r&130023424)===r&&(t=vw+500-Rn(),10<t)){if(bm(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){zr(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Bb(el.bind(null,e,Yr,ys),t);break}el(e,Yr,ys);break;case 4:if(ia(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-Mo(r);o=1<<s,s=t[s],s>i&&(i=s),r&=~o}if(r=i,r=Rn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*jie(r/1960))-r,10<r){e.timeoutHandle=Bb(el.bind(null,e,Yr,ys),r);break}el(e,Yr,ys);break;case 5:el(e,Yr,ys);break;default:throw Error(le(329))}}}return ni(e,Rn()),e.callbackNode===n?cL.bind(null,e):null}function s_(e,t){var n=af;return e.current.memoizedState.isDehydrated&&(_l(e,t).flags|=256),e=$m(e,t),e!==2&&(t=Yr,Yr=n,t!==null&&a_(t)),e}function a_(e){Yr===null?Yr=e:Yr.push.apply(Yr,e)}function Oie(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Do(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ia(e,t){for(t&=~mw,t&=~Av,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Mo(t),r=1<<n;e[n]=-1,t&=~r}}function UI(e){if(pt&6)throw Error(le(327));tu();var t=bm(e,0);if(!(t&1))return ni(e,Rn()),null;var n=$m(e,t);if(e.tag!==0&&n===2){var r=Mb(e);r!==0&&(t=r,n=s_(e,r))}if(n===1)throw n=th,_l(e,0),ia(e,t),ni(e,Rn()),n;if(n===6)throw Error(le(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,el(e,Yr,ys),ni(e,Rn()),null}function yw(e,t){var n=pt;pt|=1;try{return e(t)}finally{pt=n,pt===0&&(Eu=Rn()+500,gv&&Da())}}function Dl(e){fa!==null&&fa.tag===0&&!(pt&6)&&tu();var t=pt;pt|=1;var n=Qi.transition,r=Ct;try{if(Qi.transition=null,Ct=1,e)return e()}finally{Ct=r,Qi.transition=n,pt=t,!(pt&6)&&Da()}}function Aw(){di=Lc.current,Wt(Lc)}function _l(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,uie(n)),Bn!==null)for(n=Bn.return;n!==null;){var r=n;switch(ZS(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Em();break;case 3:Su(),Wt(ei),Wt(Ir),lw();break;case 5:aw(r);break;case 4:Su();break;case 13:Wt(cn);break;case 19:Wt(cn);break;case 10:rw(r.type._context);break;case 22:case 23:Aw()}n=n.return}if(ir=e,Bn=e=wa(e.current,null),gr=di=t,Gn=0,th=null,mw=Av=$l=0,Yr=af=null,ul!==null){for(t=0;t<ul.length;t++)if(n=ul[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}ul=null}return e}function uL(e,t){do{var n=Bn;try{if(nw(),xg.current=Om,jm){for(var r=fn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}jm=!1}if(Nl=0,tr=zn=fn=null,of=!1,Xf=0,gw.current=null,n===null||n.return===null){Gn=1,th=t,Bn=null;break}e:{var o=e,s=n.return,a=n,l=t;if(t=gr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=RI(s);if(p!==null){p.flags&=-257,PI(p,s,a,o,t),p.mode&1&&II(o,c,t),t=p,l=c;var g=t.updateQueue;if(g===null){var m=new Set;m.add(l),t.updateQueue=m}else g.add(l);break e}else{if(!(t&1)){II(o,c,t),bw();break e}l=Error(le(426))}}else if(rn&&a.mode&1){var b=RI(s);if(b!==null){!(b.flags&65536)&&(b.flags|=256),PI(b,s,a,o,t),ew(wu(l,a));break e}}o=l=wu(l,a),Gn!==4&&(Gn=2),af===null?af=[o]:af.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var y=W4(o,l,t);xI(o,y);break e;case 1:a=l;var A=o.type,x=o.stateNode;if(!(o.flags&128)&&(typeof A.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(xa===null||!xa.has(x)))){o.flags|=65536,t&=-t,o.lanes|=t;var S=K4(o,a,t);xI(o,S);break e}}o=o.return}while(o!==null)}hL(n)}catch(_){t=_,Bn===n&&n!==null&&(Bn=n=n.return);continue}break}while(!0)}function dL(){var e=Vm.current;return Vm.current=Om,e===null?Om:e}function bw(){(Gn===0||Gn===3||Gn===2)&&(Gn=4),ir===null||!($l&268435455)&&!(Av&268435455)||ia(ir,gr)}function $m(e,t){var n=pt;pt|=2;var r=dL();(ir!==e||gr!==t)&&(ys=null,_l(e,t));do try{Vie();break}catch(i){uL(e,i)}while(!0);if(nw(),pt=n,Vm.current=r,Bn!==null)throw Error(le(261));return ir=null,gr=0,Gn}function Vie(){for(;Bn!==null;)fL(Bn)}function Lie(){for(;Bn!==null&&!are();)fL(Bn)}function fL(e){var t=gL(e.alternate,e,di);e.memoizedProps=e.pendingProps,t===null?hL(e):Bn=t,gw.current=null}function hL(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Iie(n,t),n!==null){n.flags&=32767,Bn=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Gn=6,Bn=null;return}}else if(n=Tie(n,t,di),n!==null){Bn=n;return}if(t=t.sibling,t!==null){Bn=t;return}Bn=t=e}while(t!==null);Gn===0&&(Gn=5)}function el(e,t,n){var r=Ct,i=Qi.transition;try{Qi.transition=null,Ct=1,Nie(e,t,n,r)}finally{Qi.transition=i,Ct=r}return null}function Nie(e,t,n,r){do tu();while(fa!==null);if(pt&6)throw Error(le(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(le(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(vre(e,o),e===ir&&(Bn=ir=null,gr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Mp||(Mp=!0,mL(Am,function(){return tu(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Qi.transition,Qi.transition=null;var s=Ct;Ct=1;var a=pt;pt|=4,gw.current=null,Pie(e,n),aL(n,e),rie($b),_m=!!Nb,$b=Nb=null,e.current=n,Mie(n),lre(),pt=a,Ct=s,Qi.transition=o}else e.current=n;if(Mp&&(Mp=!1,fa=e,Nm=i),o=e.pendingLanes,o===0&&(xa=null),dre(n.stateNode),ni(e,Rn()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Lm)throw Lm=!1,e=i_,i_=null,e;return Nm&1&&e.tag!==0&&tu(),o=e.pendingLanes,o&1?e===o_?lf++:(lf=0,o_=e):lf=0,Da(),null}function tu(){if(fa!==null){var e=qV(Nm),t=Qi.transition,n=Ct;try{if(Qi.transition=null,Ct=16>e?16:e,fa===null)var r=!1;else{if(e=fa,fa=null,Nm=0,pt&6)throw Error(le(331));var i=pt;for(pt|=4,Se=e.current;Se!==null;){var o=Se,s=o.child;if(Se.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Se=c;Se!==null;){var u=Se;switch(u.tag){case 0:case 11:case 15:sf(8,u,o)}var d=u.child;if(d!==null)d.return=u,Se=d;else for(;Se!==null;){u=Se;var h=u.sibling,p=u.return;if(iL(u),u===c){Se=null;break}if(h!==null){h.return=p,Se=h;break}Se=p}}}var g=o.alternate;if(g!==null){var m=g.child;if(m!==null){g.child=null;do{var b=m.sibling;m.sibling=null,m=b}while(m!==null)}}Se=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,Se=s;else e:for(;Se!==null;){if(o=Se,o.flags&2048)switch(o.tag){case 0:case 11:case 15:sf(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,Se=y;break e}Se=o.return}}var A=e.current;for(Se=A;Se!==null;){s=Se;var x=s.child;if(s.subtreeFlags&2064&&x!==null)x.return=s,Se=x;else e:for(s=A;Se!==null;){if(a=Se,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:yv(9,a)}}catch(_){An(a,a.return,_)}if(a===s){Se=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,Se=S;break e}Se=a.return}}if(pt=i,Da(),ls&&typeof ls.onPostCommitFiberRoot=="function")try{ls.onPostCommitFiberRoot(uv,e)}catch{}r=!0}return r}finally{Ct=n,Qi.transition=t}}return!1}function HI(e,t,n){t=wu(n,t),t=W4(e,t,1),e=_a(e,t,1),t=zr(),e!==null&&(Ih(e,1,t),ni(e,t))}function An(e,t,n){if(e.tag===3)HI(e,e,n);else for(;t!==null;){if(t.tag===3){HI(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(xa===null||!xa.has(r))){e=wu(n,e),e=K4(t,e,1),t=_a(t,e,1),e=zr(),t!==null&&(Ih(t,1,e),ni(t,e));break}}t=t.return}}function $ie(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=zr(),e.pingedLanes|=e.suspendedLanes&n,ir===e&&(gr&n)===n&&(Gn===4||Gn===3&&(gr&130023424)===gr&&500>Rn()-vw?_l(e,0):mw|=n),ni(e,t)}function pL(e,t){t===0&&(e.mode&1?(t=xp,xp<<=1,!(xp&130023424)&&(xp=4194304)):t=1);var n=zr();e=$s(e,t),e!==null&&(Ih(e,t,n),ni(e,n))}function Die(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),pL(e,n)}function Bie(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(le(314))}r!==null&&r.delete(t),pL(e,n)}var gL;gL=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ei.current)Xr=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Xr=!1,Cie(e,t,n);Xr=!!(e.flags&131072)}else Xr=!1,rn&&t.flags&1048576&&y4(t,Tm,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;wg(e,t),e=t.pendingProps;var i=bu(t,Ir.current);eu(t,n),i=uw(null,t,r,e,i,n);var o=dw();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ti(r)?(o=!0,km(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,ow(t),i.updater=mv,t.stateNode=i,i._reactInternals=t,Wb(t,r,e,n),t=Qb(null,t,r,!0,o,n)):(t.tag=0,rn&&o&&XS(t),Vr(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(wg(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=zie(r),e=mo(r,e),i){case 0:t=Yb(null,t,r,e,n);break e;case 1:t=OI(null,t,r,e,n);break e;case 11:t=MI(null,t,r,e,n);break e;case 14:t=jI(null,t,r,mo(r.type,e),n);break e}throw Error(le(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:mo(r,i),Yb(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:mo(r,i),OI(e,t,r,i,n);case 3:e:{if(X4(t),e===null)throw Error(le(387));r=t.pendingProps,o=t.memoizedState,i=o.element,x4(e,t),Pm(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=wu(Error(le(423)),t),t=VI(e,t,r,n,i);break e}else if(r!==i){i=wu(Error(le(424)),t),t=VI(e,t,r,n,i);break e}else for(vi=ba(t.stateNode.containerInfo.firstChild),bi=t,rn=!0,_o=null,n=k4(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(_u(),r===i){t=Ds(e,t,n);break e}Vr(e,t,r,n)}t=t.child}return t;case 5:return C4(t),e===null&&Hb(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,Db(r,i)?s=null:o!==null&&Db(r,o)&&(t.flags|=32),J4(e,t),Vr(e,t,s,n),t.child;case 6:return e===null&&Hb(t),null;case 13:return Z4(e,t,n);case 4:return sw(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=xu(t,null,r,n):Vr(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:mo(r,i),MI(e,t,r,i,n);case 7:return Vr(e,t,t.pendingProps,n),t.child;case 8:return Vr(e,t,t.pendingProps.children,n),t.child;case 12:return Vr(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Ut(Im,r._currentValue),r._currentValue=s,o!==null)if(Do(o.value,s)){if(o.children===i.children&&!ei.current){t=Ds(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Is(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Gb(o.return,n,t),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(le(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Gb(s,n,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Vr(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,eu(t,n),i=ro(i),r=r(i),t.flags|=1,Vr(e,t,r,n),t.child;case 14:return r=t.type,i=mo(r,t.pendingProps),i=mo(r.type,i),jI(e,t,r,i,n);case 15:return Y4(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:mo(r,i),wg(e,t),t.tag=1,ti(r)?(e=!0,km(t)):e=!1,eu(t,n),w4(t,r,i),Wb(t,r,i,n),Qb(null,t,r,!0,e,n);case 19:return eL(e,t,n);case 22:return Q4(e,t,n)}throw Error(le(156,t.tag))};function mL(e,t){return zV(e,t)}function Fie(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wi(e,t,n,r){return new Fie(e,t,n,r)}function _w(e){return e=e.prototype,!(!e||!e.isReactComponent)}function zie(e){if(typeof e=="function")return _w(e)?1:0;if(e!=null){if(e=e.$$typeof,e===BS)return 11;if(e===FS)return 14}return 2}function wa(e,t){var n=e.alternate;return n===null?(n=Wi(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Cg(e,t,n,r,i,o){var s=2;if(r=e,typeof e=="function")_w(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case kc:return xl(n.children,i,o,t);case DS:s=8,i|=8;break;case vb:return e=Wi(12,n,t,i|2),e.elementType=vb,e.lanes=o,e;case yb:return e=Wi(13,n,t,i),e.elementType=yb,e.lanes=o,e;case Ab:return e=Wi(19,n,t,i),e.elementType=Ab,e.lanes=o,e;case EV:return bv(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case SV:s=10;break e;case wV:s=9;break e;case BS:s=11;break e;case FS:s=14;break e;case ea:s=16,r=null;break e}throw Error(le(130,e==null?e:typeof e,""))}return t=Wi(s,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function xl(e,t,n,r){return e=Wi(7,e,r,t),e.lanes=n,e}function bv(e,t,n,r){return e=Wi(22,e,r,t),e.elementType=EV,e.lanes=n,e.stateNode={isHidden:!1},e}function dA(e,t,n){return e=Wi(6,e,null,t),e.lanes=n,e}function fA(e,t,n){return t=Wi(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uie(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qy(0),this.expirationTimes=qy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qy(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function xw(e,t,n,r,i,o,s,a,l){return e=new Uie(e,t,n,a,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Wi(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ow(o),e}function Hie(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ec,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function vL(e){if(!e)return Ma;e=e._reactInternals;e:{if(Zl(e)!==e||e.tag!==1)throw Error(le(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ti(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(le(171))}if(e.tag===1){var n=e.type;if(ti(n))return m4(e,n,t)}return t}function yL(e,t,n,r,i,o,s,a,l){return e=xw(n,r,!0,e,i,o,s,a,l),e.context=vL(null),n=e.current,r=zr(),i=Sa(n),o=Is(r,i),o.callback=t??null,_a(n,o,i),e.current.lanes=i,Ih(e,i,r),ni(e,r),e}function _v(e,t,n,r){var i=t.current,o=zr(),s=Sa(i);return n=vL(n),t.context===null?t.context=n:t.pendingContext=n,t=Is(o,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=_a(i,t,s),e!==null&&(jo(e,i,s,o),_g(e,i,s)),s}function Dm(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function GI(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Sw(e,t){GI(e,t),(e=e.alternate)&&GI(e,t)}function Gie(){return null}var AL=typeof reportError=="function"?reportError:function(e){console.error(e)};function ww(e){this._internalRoot=e}xv.prototype.render=ww.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(le(409));_v(e,t,null,null)};xv.prototype.unmount=ww.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Dl(function(){_v(null,e,null,null)}),t[Ns]=null}};function xv(e){this._internalRoot=e}xv.prototype.unstable_scheduleHydration=function(e){if(e){var t=YV();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ra.length&&t!==0&&t<ra[n].priority;n++);ra.splice(n,0,e),n===0&&JV(e)}};function Ew(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Sv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function qI(){}function qie(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=Dm(s);o.call(c)}}var s=yL(t,r,e,0,null,!1,!1,"",qI);return e._reactRootContainer=s,e[Ns]=s.current,Wf(e.nodeType===8?e.parentNode:e),Dl(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Dm(l);a.call(c)}}var l=xw(e,0,!1,null,null,!1,!1,"",qI);return e._reactRootContainer=l,e[Ns]=l.current,Wf(e.nodeType===8?e.parentNode:e),Dl(function(){_v(t,l,n,r)}),l}function wv(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=Dm(s);a.call(l)}}_v(t,s,e,i)}else s=qie(n,t,e,i,r);return Dm(s)}WV=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Md(t.pendingLanes);n!==0&&(HS(t,n|1),ni(t,Rn()),!(pt&6)&&(Eu=Rn()+500,Da()))}break;case 13:Dl(function(){var r=$s(e,1);if(r!==null){var i=zr();jo(r,e,1,i)}}),Sw(e,1)}};GS=function(e){if(e.tag===13){var t=$s(e,134217728);if(t!==null){var n=zr();jo(t,e,134217728,n)}Sw(e,134217728)}};KV=function(e){if(e.tag===13){var t=Sa(e),n=$s(e,t);if(n!==null){var r=zr();jo(n,e,t,r)}Sw(e,t)}};YV=function(){return Ct};QV=function(e,t){var n=Ct;try{return Ct=e,t()}finally{Ct=n}};Ib=function(e,t,n){switch(t){case"input":if(xb(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=pv(r);if(!i)throw Error(le(90));CV(r),xb(r,i)}}}break;case"textarea":IV(e,n);break;case"select":t=n.value,t!=null&&Qc(e,!!n.multiple,t,!1)}};LV=yw;NV=Dl;var Wie={usingClientEntryPoint:!1,Events:[Ph,Rc,pv,OV,VV,yw]},vd={findFiberByHostInstance:cl,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Kie={bundleType:vd.bundleType,version:vd.version,rendererPackageName:vd.rendererPackageName,rendererConfig:vd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Hs.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=BV(e),e===null?null:e.stateNode},findFiberByHostInstance:vd.findFiberByHostInstance||Gie,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jp.isDisabled&&jp.supportsFiber)try{uv=jp.inject(Kie),ls=jp}catch{}}Ti.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Wie;Ti.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ew(t))throw Error(le(200));return Hie(e,t,null,n)};Ti.createRoot=function(e,t){if(!Ew(e))throw Error(le(299));var n=!1,r="",i=AL;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=xw(e,1,!1,null,null,n,!1,r,i),e[Ns]=t.current,Wf(e.nodeType===8?e.parentNode:e),new ww(t)};Ti.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(le(188)):(e=Object.keys(e).join(","),Error(le(268,e)));return e=BV(t),e=e===null?null:e.stateNode,e};Ti.flushSync=function(e){return Dl(e)};Ti.hydrate=function(e,t,n){if(!Sv(t))throw Error(le(200));return wv(null,e,t,!0,n)};Ti.hydrateRoot=function(e,t,n){if(!Ew(e))throw Error(le(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=AL;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=yL(t,null,e,1,n??null,i,!1,o,s),e[Ns]=t.current,Wf(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new xv(t)};Ti.render=function(e,t,n){if(!Sv(t))throw Error(le(200));return wv(null,e,t,!1,n)};Ti.unmountComponentAtNode=function(e){if(!Sv(e))throw Error(le(40));return e._reactRootContainer?(Dl(function(){wv(null,null,e,!1,function(){e._reactRootContainer=null,e[Ns]=null})}),!0):!1};Ti.unstable_batchedUpdates=yw;Ti.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Sv(n))throw Error(le(200));if(e==null||e._reactInternals===void 0)throw Error(le(38));return wv(e,t,n,!1,r)};Ti.version="18.2.0-next-9e3b772b8-20220608";function bL(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(bL)}catch(e){console.error(e)}}bL(),yV.exports=Ti;var ec=yV.exports;const Op=vr(ec),WI={disabled:!1},Bm=ke.createContext(null);var Yie=function(t){return t.scrollTop},Od="unmounted",tl="exited",nl="entering",yc="entered",l_="exiting",Gs=function(e){vV(t,e);function t(r,i){var o;o=e.call(this,r,i)||this;var s=i,a=s&&!s.isMounting?r.enter:r.appear,l;return o.appearStatus=null,r.in?a?(l=tl,o.appearStatus=nl):l=yc:r.unmountOnExit||r.mountOnEnter?l=Od:l=tl,o.state={status:l},o.nextCallback=null,o}t.getDerivedStateFromProps=function(i,o){var s=i.in;return s&&o.status===Od?{status:tl}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var o=null;if(i!==this.props){var s=this.state.status;this.props.in?s!==nl&&s!==yc&&(o=nl):(s===nl||s===yc)&&(o=l_)}this.updateStatus(!1,o)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,o,s,a;return o=s=a=i,i!=null&&typeof i!="number"&&(o=i.exit,s=i.enter,a=i.appear!==void 0?i.appear:s),{exit:o,enter:s,appear:a}},n.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===nl){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:Op.findDOMNode(this);s&&Yie(s)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===tl&&this.setState({status:Od})},n.performEnter=function(i){var o=this,s=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[Op.findDOMNode(this),a],c=l[0],u=l[1],d=this.getTimeouts(),h=a?d.appear:d.enter;if(!i&&!s||WI.disabled){this.safeSetState({status:yc},function(){o.props.onEntered(c)});return}this.props.onEnter(c,u),this.safeSetState({status:nl},function(){o.props.onEntering(c,u),o.onTransitionEnd(h,function(){o.safeSetState({status:yc},function(){o.props.onEntered(c,u)})})})},n.performExit=function(){var i=this,o=this.props.exit,s=this.getTimeouts(),a=this.props.nodeRef?void 0:Op.findDOMNode(this);if(!o||WI.disabled){this.safeSetState({status:tl},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:l_},function(){i.props.onExiting(a),i.onTransitionEnd(s.exit,function(){i.safeSetState({status:tl},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},n.setNextCallback=function(i){var o=this,s=!0;return this.nextCallback=function(a){s&&(s=!1,o.nextCallback=null,i(a))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},n.onTransitionEnd=function(i,o){this.setNextCallback(o);var s=this.props.nodeRef?this.props.nodeRef.current:Op.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!s||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],c=l[0],u=l[1];this.props.addEndListener(c,u)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===Od)return null;var o=this.props,s=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var a=Pt(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return ke.createElement(Bm.Provider,{value:null},typeof s=="function"?s(i,a):ke.cloneElement(ke.Children.only(s),a))},t}(ke.Component);Gs.contextType=Bm;Gs.propTypes={};function hc(){}Gs.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:hc,onEntering:hc,onEntered:hc,onExit:hc,onExiting:hc,onExited:hc};Gs.UNMOUNTED=Od;Gs.EXITED=tl;Gs.ENTERING=nl;Gs.ENTERED=yc;Gs.EXITING=l_;const Qie=Gs;function Jie(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kw(e,t){var n=function(o){return t&&v.isValidElement(o)?t(o):o},r=Object.create(null);return e&&v.Children.map(e,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function Xie(e,t){e=e||{},t=t||{};function n(u){return u in t?t[u]:e[u]}var r=Object.create(null),i=[];for(var o in e)o in t?i.length&&(r[o]=i,i=[]):i.push(o);var s,a={};for(var l in t){if(r[l])for(s=0;s<r[l].length;s++){var c=r[l][s];a[r[l][s]]=n(c)}a[l]=n(l)}for(s=0;s<i.length;s++)a[i[s]]=n(i[s]);return a}function fl(e,t,n){return n[t]!=null?n[t]:e.props[t]}function Zie(e,t){return kw(e.children,function(n){return v.cloneElement(n,{onExited:t.bind(null,n),in:!0,appear:fl(n,"appear",e),enter:fl(n,"enter",e),exit:fl(n,"exit",e)})})}function eoe(e,t,n){var r=kw(e.children),i=Xie(t,r);return Object.keys(i).forEach(function(o){var s=i[o];if(v.isValidElement(s)){var a=o in t,l=o in r,c=t[o],u=v.isValidElement(c)&&!c.props.in;l&&(!a||u)?i[o]=v.cloneElement(s,{onExited:n.bind(null,s),in:!0,exit:fl(s,"exit",e),enter:fl(s,"enter",e)}):!l&&a&&!u?i[o]=v.cloneElement(s,{in:!1}):l&&a&&v.isValidElement(c)&&(i[o]=v.cloneElement(s,{onExited:n.bind(null,s),in:c.props.in,exit:fl(s,"exit",e),enter:fl(s,"enter",e)}))}}),i}var toe=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},noe={component:"div",childFactory:function(t){return t}},Cw=function(e){vV(t,e);function t(r,i){var o;o=e.call(this,r,i)||this;var s=o.handleExited.bind(Jie(o));return o.state={contextValue:{isMounting:!0},handleExited:s,firstRender:!0},o}var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(i,o){var s=o.children,a=o.handleExited,l=o.firstRender;return{children:l?Zie(i,a):eoe(i,s,a),firstRender:!1}},n.handleExited=function(i,o){var s=kw(this.props.children);i.key in s||(i.props.onExited&&i.props.onExited(o),this.mounted&&this.setState(function(a){var l=re({},a.children);return delete l[i.key],{children:l}}))},n.render=function(){var i=this.props,o=i.component,s=i.childFactory,a=Pt(i,["component","childFactory"]),l=this.state.contextValue,c=toe(this.state.children).map(s);return delete a.appear,delete a.enter,delete a.exit,o===null?ke.createElement(Bm.Provider,{value:l},c):ke.createElement(Bm.Provider,{value:l},ke.createElement(o,a,c))},t}(ke.Component);Cw.propTypes={};Cw.defaultProps=noe;const roe=Cw;function ioe(e){return Object.keys(e).length===0}function _L(e=null){const t=v.useContext(_h);return!t||ioe(t)?e:t}const ooe=IS();function soe(e=ooe){return _L(e)}function Tw(e,t=0,n=1){return KO(e,t,n)}function aoe(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function Ev(e){if(e.type)return e;if(e.charAt(0)==="#")return Ev(aoe(e));const t=e.indexOf("("),n=e.substring(0,t);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error(Ol(9,e));let r=e.substring(t+1,e.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error(Ol(10,i))}else r=r.split(",");return r=r.map(o=>parseFloat(o)),{type:n,values:r,colorSpace:i}}function Iw(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return t.indexOf("rgb")!==-1?r=r.map((i,o)=>o<3?parseInt(i,10):i):t.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),t.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${t}(${r})`}function loe(e,t){return e=Ev(e),t=Tw(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,Iw(e)}function kxe(e,t){if(e=Ev(e),t=Tw(t),e.type.indexOf("hsl")!==-1)e.values[2]*=1-t;else if(e.type.indexOf("rgb")!==-1||e.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)e.values[n]*=1-t;return Iw(e)}function Cxe(e,t){if(e=Ev(e),t=Tw(t),e.type.indexOf("hsl")!==-1)e.values[2]+=(100-e.values[2])*t;else if(e.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(e.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return Iw(e)}const coe=v.createContext(null),xL=coe;function SL(){return v.useContext(xL)}const uoe=typeof Symbol=="function"&&Symbol.for,doe=uoe?Symbol.for("mui.nested"):"__THEME_NESTED__";function foe(e,t){return typeof t=="function"?t(e):re({},e,t)}function hoe(e){const{children:t,theme:n}=e,r=SL(),i=v.useMemo(()=>{const o=r===null?n:foe(r,n);return o!=null&&(o[doe]=r!==null),o},[n,r]);return f.jsx(xL.Provider,{value:i,children:t})}const poe=["value"],wL=v.createContext();function goe(e){let{value:t}=e,n=Pt(e,poe);return f.jsx(wL.Provider,re({value:t??!0},n))}const Txe=()=>{const e=v.useContext(wL);return e??!1},KI={};function YI(e,t,n,r=!1){return v.useMemo(()=>{const i=e&&t[e]||t;if(typeof n=="function"){const o=n(i),s=e?re({},t,{[e]:o}):o;return r?()=>s:s}return e?re({},t,{[e]:n}):re({},t,n)},[e,t,n,r])}function moe(e){const{children:t,theme:n,themeId:r}=e,i=_L(KI),o=SL()||KI,s=YI(r,i,n),a=YI(r,o,n,!0),l=s.direction==="rtl";return f.jsx(hoe,{theme:a,children:f.jsx(_h.Provider,{value:s,children:f.jsx(goe,{value:l,children:f.jsx(oee,{value:s==null?void 0:s.components,children:t})})})})}function voe(e){const{className:t,classes:n,pulsate:r=!1,rippleX:i,rippleY:o,rippleSize:s,in:a,onExited:l,timeout:c}=e,[u,d]=v.useState(!1),h=At(t,n.ripple,n.rippleVisible,r&&n.ripplePulsate),p={width:s,height:s,top:-(s/2)+o,left:-(s/2)+i},g=At(n.child,u&&n.childLeaving,r&&n.childPulsate);return!a&&!u&&d(!0),v.useEffect(()=>{if(!a&&l!=null){const m=setTimeout(l,c);return()=>{clearTimeout(m)}}},[l,a,c]),f.jsx("span",{className:h,style:p,children:f.jsx("span",{className:g})})}const $i=Pr("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),yoe=["center","classes","className"];let kv=e=>e,QI,JI,XI,ZI;const c_=550,Aoe=80,boe=Va(QI||(QI=kv`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),_oe=Va(JI||(JI=kv`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),xoe=Va(XI||(XI=kv`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),Soe=Qt("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),woe=Qt(voe,{name:"MuiTouchRipple",slot:"Ripple"})(ZI||(ZI=kv`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),$i.rippleVisible,boe,c_,({theme:e})=>e.transitions.easing.easeInOut,$i.ripplePulsate,({theme:e})=>e.transitions.duration.shorter,$i.child,$i.childLeaving,_oe,c_,({theme:e})=>e.transitions.easing.easeInOut,$i.childPulsate,xoe,({theme:e})=>e.transitions.easing.easeInOut),Eoe=v.forwardRef(function(t,n){const r=Mr({props:t,name:"MuiTouchRipple"}),{center:i=!1,classes:o={},className:s}=r,a=Pt(r,yoe),[l,c]=v.useState([]),u=v.useRef(0),d=v.useRef(null);v.useEffect(()=>{d.current&&(d.current(),d.current=null)},[l]);const h=v.useRef(!1),p=qZ(),g=v.useRef(null),m=v.useRef(null),b=v.useCallback(S=>{const{pulsate:_,rippleX:w,rippleY:E,rippleSize:T,cb:O}=S;c(L=>[...L,f.jsx(woe,{classes:{ripple:At(o.ripple,$i.ripple),rippleVisible:At(o.rippleVisible,$i.rippleVisible),ripplePulsate:At(o.ripplePulsate,$i.ripplePulsate),child:At(o.child,$i.child),childLeaving:At(o.childLeaving,$i.childLeaving),childPulsate:At(o.childPulsate,$i.childPulsate)},timeout:c_,pulsate:_,rippleX:w,rippleY:E,rippleSize:T},u.current)]),u.current+=1,d.current=O},[o]),y=v.useCallback((S={},_={},w=()=>{})=>{const{pulsate:E=!1,center:T=i||_.pulsate,fakeElement:O=!1}=_;if((S==null?void 0:S.type)==="mousedown"&&h.current){h.current=!1;return}(S==null?void 0:S.type)==="touchstart"&&(h.current=!0);const L=O?null:m.current,N=L?L.getBoundingClientRect():{width:0,height:0,left:0,top:0};let H,P,j;if(T||S===void 0||S.clientX===0&&S.clientY===0||!S.clientX&&!S.touches)H=Math.round(N.width/2),P=Math.round(N.height/2);else{const{clientX:R,clientY:k}=S.touches&&S.touches.length>0?S.touches[0]:S;H=Math.round(R-N.left),P=Math.round(k-N.top)}if(T)j=Math.sqrt((2*N.width**2+N.height**2)/3),j%2===0&&(j+=1);else{const R=Math.max(Math.abs((L?L.clientWidth:0)-H),H)*2+2,k=Math.max(Math.abs((L?L.clientHeight:0)-P),P)*2+2;j=Math.sqrt(R**2+k**2)}S!=null&&S.touches?g.current===null&&(g.current=()=>{b({pulsate:E,rippleX:H,rippleY:P,rippleSize:j,cb:w})},p.start(Aoe,()=>{g.current&&(g.current(),g.current=null)})):b({pulsate:E,rippleX:H,rippleY:P,rippleSize:j,cb:w})},[i,b,p]),A=v.useCallback(()=>{y({},{pulsate:!0})},[y]),x=v.useCallback((S,_)=>{if(p.clear(),(S==null?void 0:S.type)==="touchend"&&g.current){g.current(),g.current=null,p.start(0,()=>{x(S,_)});return}g.current=null,c(w=>w.length>0?w.slice(1):w),d.current=_},[p]);return v.useImperativeHandle(n,()=>({pulsate:A,start:y,stop:x}),[A,y,x]),f.jsx(Soe,re({className:At($i.root,o.root,s),ref:m},a,{children:f.jsx(roe,{component:null,exit:!0,children:l})}))}),koe=Eoe;function Coe(e){return Rr("MuiButtonBase",e)}const Toe=Pr("MuiButtonBase",["root","disabled","focusVisible"]),Ioe=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],Roe=e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:r,classes:i}=e,s=Hr({root:["root",t&&"disabled",n&&"focusVisible"]},Coe,i);return n&&r&&(s.root+=` ${r}`),s},Poe=Qt("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${Toe.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),Moe=v.forwardRef(function(t,n){const r=Mr({props:t,name:"MuiButtonBase"}),{action:i,centerRipple:o=!1,children:s,className:a,component:l="button",disabled:c=!1,disableRipple:u=!1,disableTouchRipple:d=!1,focusRipple:h=!1,LinkComponent:p="a",onBlur:g,onClick:m,onContextMenu:b,onDragLeave:y,onFocus:A,onFocusVisible:x,onKeyDown:S,onKeyUp:_,onMouseDown:w,onMouseLeave:E,onMouseUp:T,onTouchEnd:O,onTouchMove:L,onTouchStart:N,tabIndex:H=0,TouchRippleProps:P,touchRippleRef:j,type:R}=r,k=Pt(r,Ioe),$=v.useRef(null),V=v.useRef(null),z=Ra(V,j),{isFocusVisibleRef:B,onFocus:G,onBlur:U,ref:te}=qO(),[D,ce]=v.useState(!1);c&&D&&ce(!1),v.useImperativeHandle(i,()=>({focusVisible:()=>{ce(!0),$.current.focus()}}),[]);const[X,se]=v.useState(!1);v.useEffect(()=>{se(!0)},[]);const Pe=X&&!u&&!c;v.useEffect(()=>{D&&h&&!u&&X&&V.current.pulsate()},[u,h,D,X]);function be(ye,it,Sn=d){return ll(ft=>(it&&it(ft),!Sn&&V.current&&V.current[ye](ft),!0))}const ae=be("start",w),xe=be("stop",b),ze=be("stop",y),Ne=be("stop",T),_e=be("stop",ye=>{D&&ye.preventDefault(),E&&E(ye)}),Ce=be("start",N),Ke=be("stop",O),Ye=be("stop",L),je=be("stop",ye=>{U(ye),B.current===!1&&ce(!1),g&&g(ye)},!1),lt=ll(ye=>{$.current||($.current=ye.currentTarget),G(ye),B.current===!0&&(ce(!0),x&&x(ye)),A&&A(ye)}),Mt=()=>{const ye=$.current;return l&&l!=="button"&&!(ye.tagName==="A"&&ye.href)},on=v.useRef(!1),Vt=ll(ye=>{h&&!on.current&&D&&V.current&&ye.key===" "&&(on.current=!0,V.current.stop(ye,()=>{V.current.start(ye)})),ye.target===ye.currentTarget&&Mt()&&ye.key===" "&&ye.preventDefault(),S&&S(ye),ye.target===ye.currentTarget&&Mt()&&ye.key==="Enter"&&!c&&(ye.preventDefault(),m&&m(ye))}),xn=ll(ye=>{h&&ye.key===" "&&V.current&&D&&!ye.defaultPrevented&&(on.current=!1,V.current.stop(ye,()=>{V.current.pulsate(ye)})),_&&_(ye),m&&ye.target===ye.currentTarget&&Mt()&&ye.key===" "&&!ye.defaultPrevented&&m(ye)});let dt=l;dt==="button"&&(k.href||k.to)&&(dt=p);const xt={};dt==="button"?(xt.type=R===void 0?"button":R,xt.disabled=c):(!k.href&&!k.to&&(xt.role="button"),c&&(xt["aria-disabled"]=c));const Jt=Ra(n,te,$),Je=re({},r,{centerRipple:o,component:l,disabled:c,disableRipple:u,disableTouchRipple:d,focusRipple:h,tabIndex:H,focusVisible:D}),Lt=Roe(Je);return f.jsxs(Poe,re({as:dt,className:At(Lt.root,a),ownerState:Je,onBlur:je,onClick:m,onContextMenu:xe,onFocus:lt,onKeyDown:Vt,onKeyUp:xn,onMouseDown:ae,onMouseLeave:_e,onMouseUp:Ne,onDragLeave:ze,onTouchEnd:Ke,onTouchMove:Ye,onTouchStart:Ce,ref:Jt,tabIndex:c?-1:H,type:R},xt,k,{children:[s,Pe?f.jsx(koe,re({ref:z,center:o},P)):null]}))}),EL=Moe;function joe(e){return Rr("MuiIconButton",e)}const Ooe=Pr("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),Voe=Ooe,Loe=["edge","children","className","color","disabled","disableFocusRipple","size"],Noe=e=>{const{classes:t,disabled:n,color:r,edge:i,size:o}=e,s={root:["root",n&&"disabled",r!=="default"&&`color${nt(r)}`,i&&`edge${nt(i)}`,`size${nt(o)}`]};return Hr(s,joe,t)},$oe=Qt(EL,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="default"&&t[`color${nt(n.color)}`],n.edge&&t[`edge${nt(n.edge)}`],t[`size${nt(n.size)}`]]}})(({theme:e,ownerState:t})=>re({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest})},!t.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:ua(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.edge==="start"&&{marginLeft:t.size==="small"?-3:-12},t.edge==="end"&&{marginRight:t.size==="small"?-3:-12}),({theme:e,ownerState:t})=>{var n;const r=(n=(e.vars||e).palette)==null?void 0:n[t.color];return re({},t.color==="inherit"&&{color:"inherit"},t.color!=="inherit"&&t.color!=="default"&&re({color:r==null?void 0:r.main},!t.disableRipple&&{"&:hover":re({},r&&{backgroundColor:e.vars?`rgba(${r.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:ua(r.main,e.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),t.size==="small"&&{padding:5,fontSize:e.typography.pxToRem(18)},t.size==="large"&&{padding:12,fontSize:e.typography.pxToRem(28)},{[`&.${Voe.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled}})}),Doe=v.forwardRef(function(t,n){const r=Mr({props:t,name:"MuiIconButton"}),{edge:i=!1,children:o,className:s,color:a="default",disabled:l=!1,disableFocusRipple:c=!1,size:u="medium"}=r,d=Pt(r,Loe),h=re({},r,{edge:i,color:a,disabled:l,disableFocusRipple:c,size:u}),p=Noe(h);return f.jsx($oe,re({className:At(p.root,s),centerRipple:!0,focusRipple:!c,disabled:l,ref:n},d,{ownerState:h,children:o}))}),Cv=Doe,ku=Math.min,Sl=Math.max,Fm=Math.round,Vp=Math.floor,ja=e=>({x:e,y:e}),Boe={left:"right",right:"left",bottom:"top",top:"bottom"},Foe={start:"end",end:"start"};function u_(e,t,n){return Sl(e,ku(t,n))}function jh(e,t){return typeof e=="function"?e(t):e}function Bl(e){return e.split("-")[0]}function Oh(e){return e.split("-")[1]}function kL(e){return e==="x"?"y":"x"}function Rw(e){return e==="y"?"height":"width"}function Tv(e){return["top","bottom"].includes(Bl(e))?"y":"x"}function Pw(e){return kL(Tv(e))}function zoe(e,t,n){n===void 0&&(n=!1);const r=Oh(e),i=Pw(e),o=Rw(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(s=zm(s)),[s,zm(s)]}function Uoe(e){const t=zm(e);return[d_(e),t,d_(t)]}function d_(e){return e.replace(/start|end/g,t=>Foe[t])}function Hoe(e,t,n){const r=["left","right"],i=["right","left"],o=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?o:s;default:return[]}}function Goe(e,t,n,r){const i=Oh(e);let o=Hoe(Bl(e),n==="start",r);return i&&(o=o.map(s=>s+"-"+i),t&&(o=o.concat(o.map(d_)))),o}function zm(e){return e.replace(/left|right|bottom|top/g,t=>Boe[t])}function qoe(e){return{top:0,right:0,bottom:0,left:0,...e}}function CL(e){return typeof e!="number"?qoe(e):{top:e,right:e,bottom:e,left:e}}function Um(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}function eR(e,t,n){let{reference:r,floating:i}=e;const o=Tv(t),s=Pw(t),a=Rw(s),l=Bl(t),c=o==="y",u=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,h=r[a]/2-i[a]/2;let p;switch(l){case"top":p={x:u,y:r.y-i.height};break;case"bottom":p={x:u,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:d};break;case"left":p={x:r.x-i.width,y:d};break;default:p={x:r.x,y:r.y}}switch(Oh(t)){case"start":p[s]-=h*(n&&c?-1:1);break;case"end":p[s]+=h*(n&&c?-1:1);break}return p}const Woe=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,a=o.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(t));let c=await s.getElementRects({reference:e,floating:t,strategy:i}),{x:u,y:d}=eR(c,r,l),h=r,p={},g=0;for(let m=0;m<a.length;m++){const{name:b,fn:y}=a[m],{x:A,y:x,data:S,reset:_}=await y({x:u,y:d,initialPlacement:r,placement:h,strategy:i,middlewareData:p,rects:c,platform:s,elements:{reference:e,floating:t}});u=A??u,d=x??d,p={...p,[b]:{...p[b],...S}},_&&g<=50&&(g++,typeof _=="object"&&(_.placement&&(h=_.placement),_.rects&&(c=_.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:i}):_.rects),{x:u,y:d}=eR(c,h,l)),m=-1)}return{x:u,y:d,placement:h,strategy:i,middlewareData:p}};async function TL(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:o,rects:s,elements:a,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:h=!1,padding:p=0}=jh(t,e),g=CL(p),b=a[h?d==="floating"?"reference":"floating":d],y=Um(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(b)))==null||n?b:b.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),A=d==="floating"?{...s.floating,x:r,y:i}:s.reference,x=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),S=await(o.isElement==null?void 0:o.isElement(x))?await(o.getScale==null?void 0:o.getScale(x))||{x:1,y:1}:{x:1,y:1},_=Um(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:A,offsetParent:x,strategy:l}):A);return{top:(y.top-_.top+g.top)/S.y,bottom:(_.bottom-y.bottom+g.bottom)/S.y,left:(y.left-_.left+g.left)/S.x,right:(_.right-y.right+g.right)/S.x}}const Koe=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:o,platform:s,elements:a,middlewareData:l}=t,{element:c,padding:u=0}=jh(e,t)||{};if(c==null)return{};const d=CL(u),h={x:n,y:r},p=Pw(i),g=Rw(p),m=await s.getDimensions(c),b=p==="y",y=b?"top":"left",A=b?"bottom":"right",x=b?"clientHeight":"clientWidth",S=o.reference[g]+o.reference[p]-h[p]-o.floating[g],_=h[p]-o.reference[p],w=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c));let E=w?w[x]:0;(!E||!await(s.isElement==null?void 0:s.isElement(w)))&&(E=a.floating[x]||o.floating[g]);const T=S/2-_/2,O=E/2-m[g]/2-1,L=ku(d[y],O),N=ku(d[A],O),H=L,P=E-m[g]-N,j=E/2-m[g]/2+T,R=u_(H,j,P),k=!l.arrow&&Oh(i)!=null&&j!==R&&o.reference[g]/2-(j<H?L:N)-m[g]/2<0,$=k?j<H?j-H:j-P:0;return{[p]:h[p]+$,data:{[p]:R,centerOffset:j-R-$,...k&&{alignmentOffset:$}},reset:k}}}),Yoe=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:o,rects:s,initialPlacement:a,platform:l,elements:c}=t,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:m=!0,...b}=jh(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const y=Bl(i),A=Bl(a)===a,x=await(l.isRTL==null?void 0:l.isRTL(c.floating)),S=h||(A||!m?[zm(a)]:Uoe(a));!h&&g!=="none"&&S.push(...Goe(a,m,g,x));const _=[a,...S],w=await TL(t,b),E=[];let T=((r=o.flip)==null?void 0:r.overflows)||[];if(u&&E.push(w[y]),d){const H=zoe(i,s,x);E.push(w[H[0]],w[H[1]])}if(T=[...T,{placement:i,overflows:E}],!E.every(H=>H<=0)){var O,L;const H=(((O=o.flip)==null?void 0:O.index)||0)+1,P=_[H];if(P)return{data:{index:H,overflows:T},reset:{placement:P}};let j=(L=T.filter(R=>R.overflows[0]<=0).sort((R,k)=>R.overflows[1]-k.overflows[1])[0])==null?void 0:L.placement;if(!j)switch(p){case"bestFit":{var N;const R=(N=T.map(k=>[k.placement,k.overflows.filter($=>$>0).reduce(($,V)=>$+V,0)]).sort((k,$)=>k[1]-$[1])[0])==null?void 0:N[0];R&&(j=R);break}case"initialPlacement":j=a;break}if(i!==j)return{reset:{placement:j}}}return{}}}};async function Qoe(e,t){const{placement:n,platform:r,elements:i}=e,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=Bl(n),a=Oh(n),l=Tv(n)==="y",c=["left","top"].includes(s)?-1:1,u=o&&l?-1:1,d=jh(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:g}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...d};return a&&typeof g=="number"&&(p=a==="end"?g*-1:g),l?{x:p*u,y:h*c}:{x:h*c,y:p*u}}const Joe=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:o,placement:s,middlewareData:a}=t,l=await Qoe(t,e);return s===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:s}}}}},Xoe=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:o=!0,crossAxis:s=!1,limiter:a={fn:b=>{let{x:y,y:A}=b;return{x:y,y:A}}},...l}=jh(e,t),c={x:n,y:r},u=await TL(t,l),d=Tv(Bl(i)),h=kL(d);let p=c[h],g=c[d];if(o){const b=h==="y"?"top":"left",y=h==="y"?"bottom":"right",A=p+u[b],x=p-u[y];p=u_(A,p,x)}if(s){const b=d==="y"?"top":"left",y=d==="y"?"bottom":"right",A=g+u[b],x=g-u[y];g=u_(A,g,x)}const m=a.fn({...t,[h]:p,[d]:g});return{...m,data:{x:m.x-n,y:m.y-r}}}}};function Oa(e){return IL(e)?(e.nodeName||"").toLowerCase():"#document"}function _i(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function qs(e){var t;return(t=(IL(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function IL(e){return e instanceof Node||e instanceof _i(e).Node}function Bs(e){return e instanceof Element||e instanceof _i(e).Element}function us(e){return e instanceof HTMLElement||e instanceof _i(e).HTMLElement}function tR(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof _i(e).ShadowRoot}function Vh(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=oo(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function Zoe(e){return["table","td","th"].includes(Oa(e))}function Mw(e){const t=jw(),n=oo(e);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function RL(e){let t=Cu(e);for(;us(t)&&!Iv(t);){if(Mw(t))return t;t=Cu(t)}return null}function jw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Iv(e){return["html","body","#document"].includes(Oa(e))}function oo(e){return _i(e).getComputedStyle(e)}function Rv(e){return Bs(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function Cu(e){if(Oa(e)==="html")return e;const t=e.assignedSlot||e.parentNode||tR(e)&&e.host||qs(e);return tR(t)?t.host:t}function PL(e){const t=Cu(e);return Iv(t)?e.ownerDocument?e.ownerDocument.body:e.body:us(t)&&Vh(t)?t:PL(t)}function nh(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=PL(e),o=i===((r=e.ownerDocument)==null?void 0:r.body),s=_i(i);return o?t.concat(s,s.visualViewport||[],Vh(i)?i:[],s.frameElement&&n?nh(s.frameElement):[]):t.concat(i,nh(i,[],n))}function ML(e){const t=oo(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=us(e),o=i?e.offsetWidth:n,s=i?e.offsetHeight:r,a=Fm(n)!==o||Fm(r)!==s;return a&&(n=o,r=s),{width:n,height:r,$:a}}function Ow(e){return Bs(e)?e:e.contextElement}function nu(e){const t=Ow(e);if(!us(t))return ja(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:o}=ML(t);let s=(o?Fm(n.width):n.width)/r,a=(o?Fm(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const ese=ja(0);function jL(e){const t=_i(e);return!jw()||!t.visualViewport?ese:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function tse(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==_i(e)?!1:t}function Fl(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),o=Ow(e);let s=ja(1);t&&(r?Bs(r)&&(s=nu(r)):s=nu(e));const a=tse(o,n,r)?jL(o):ja(0);let l=(i.left+a.x)/s.x,c=(i.top+a.y)/s.y,u=i.width/s.x,d=i.height/s.y;if(o){const h=_i(o),p=r&&Bs(r)?_i(r):r;let g=h.frameElement;for(;g&&r&&p!==h;){const m=nu(g),b=g.getBoundingClientRect(),y=oo(g),A=b.left+(g.clientLeft+parseFloat(y.paddingLeft))*m.x,x=b.top+(g.clientTop+parseFloat(y.paddingTop))*m.y;l*=m.x,c*=m.y,u*=m.x,d*=m.y,l+=A,c+=x,g=_i(g).frameElement}}return Um({width:u,height:d,x:l,y:c})}const nse=[":popover-open",":modal"];function OL(e){let t=!1,n=0,r=0;function i(o){try{t=t||e.matches(o)}catch{}}if(nse.forEach(o=>{i(o)}),t){const o=RL(e);if(o){const s=o.getBoundingClientRect();n=s.x,r=s.y}}return[t,n,r]}function rse(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const o=qs(r),[s]=t?OL(t.floating):[!1];if(r===o||s)return n;let a={scrollLeft:0,scrollTop:0},l=ja(1);const c=ja(0),u=us(r);if((u||!u&&i!=="fixed")&&((Oa(r)!=="body"||Vh(o))&&(a=Rv(r)),us(r))){const d=Fl(r);l=nu(r),c.x=d.x+r.clientLeft,c.y=d.y+r.clientTop}return{width:n.width*l.x,height:n.height*l.y,x:n.x*l.x-a.scrollLeft*l.x+c.x,y:n.y*l.y-a.scrollTop*l.y+c.y}}function ise(e){return Array.from(e.getClientRects())}function VL(e){return Fl(qs(e)).left+Rv(e).scrollLeft}function ose(e){const t=qs(e),n=Rv(e),r=e.ownerDocument.body,i=Sl(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=Sl(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+VL(e);const a=-n.scrollTop;return oo(r).direction==="rtl"&&(s+=Sl(t.clientWidth,r.clientWidth)-i),{width:i,height:o,x:s,y:a}}function sse(e,t){const n=_i(e),r=qs(e),i=n.visualViewport;let o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;const c=jw();(!c||c&&t==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a,y:l}}function ase(e,t){const n=Fl(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,o=us(e)?nu(e):ja(1),s=e.clientWidth*o.x,a=e.clientHeight*o.y,l=i*o.x,c=r*o.y;return{width:s,height:a,x:l,y:c}}function nR(e,t,n){let r;if(t==="viewport")r=sse(e,n);else if(t==="document")r=ose(qs(e));else if(Bs(t))r=ase(t,n);else{const i=jL(e);r={...t,x:t.x-i.x,y:t.y-i.y}}return Um(r)}function LL(e,t){const n=Cu(e);return n===t||!Bs(n)||Iv(n)?!1:oo(n).position==="fixed"||LL(n,t)}function lse(e,t){const n=t.get(e);if(n)return n;let r=nh(e,[],!1).filter(a=>Bs(a)&&Oa(a)!=="body"),i=null;const o=oo(e).position==="fixed";let s=o?Cu(e):e;for(;Bs(s)&&!Iv(s);){const a=oo(s),l=Mw(s);!l&&a.position==="fixed"&&(i=null),(o?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Vh(s)&&!l&&LL(e,s))?r=r.filter(u=>u!==s):i=a,s=Cu(s)}return t.set(e,r),r}function cse(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const s=[...n==="clippingAncestors"?lse(t,this._c):[].concat(n),r],a=s[0],l=s.reduce((c,u)=>{const d=nR(t,u,i);return c.top=Sl(d.top,c.top),c.right=ku(d.right,c.right),c.bottom=ku(d.bottom,c.bottom),c.left=Sl(d.left,c.left),c},nR(t,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function use(e){const{width:t,height:n}=ML(e);return{width:t,height:n}}function dse(e,t,n,r){const i=us(t),o=qs(t),s=n==="fixed",a=Fl(e,!0,s,t);let l={scrollLeft:0,scrollTop:0};const c=ja(0);if(i||!i&&!s)if((Oa(t)!=="body"||Vh(o))&&(l=Rv(t)),i){const m=Fl(t,!0,s,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else o&&(c.x=VL(o));let u=a.left+l.scrollLeft-c.x,d=a.top+l.scrollTop-c.y;const[h,p,g]=OL(r);return h&&(u+=p,d+=g,i&&(u+=t.clientLeft,d+=t.clientTop)),{x:u,y:d,width:a.width,height:a.height}}function rR(e,t){return!us(e)||oo(e).position==="fixed"?null:t?t(e):e.offsetParent}function NL(e,t){const n=_i(e);if(!us(e))return n;let r=rR(e,t);for(;r&&Zoe(r)&&oo(r).position==="static";)r=rR(r,t);return r&&(Oa(r)==="html"||Oa(r)==="body"&&oo(r).position==="static"&&!Mw(r))?n:r||RL(e)||n}const fse=async function(e){const t=this.getOffsetParent||NL,n=this.getDimensions;return{reference:dse(e.reference,await t(e.floating),e.strategy,e.floating),floating:{x:0,y:0,...await n(e.floating)}}};function hse(e){return oo(e).direction==="rtl"}const pse={convertOffsetParentRelativeRectToViewportRelativeRect:rse,getDocumentElement:qs,getClippingRect:cse,getOffsetParent:NL,getElementRects:fse,getClientRects:ise,getDimensions:use,getScale:nu,isElement:Bs,isRTL:hse};function gse(e,t){let n=null,r;const i=qs(e);function o(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function s(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const{left:c,top:u,width:d,height:h}=e.getBoundingClientRect();if(a||t(),!d||!h)return;const p=Vp(u),g=Vp(i.clientWidth-(c+d)),m=Vp(i.clientHeight-(u+h)),b=Vp(c),A={rootMargin:-p+"px "+-g+"px "+-m+"px "+-b+"px",threshold:Sl(0,ku(1,l))||1};let x=!0;function S(_){const w=_[0].intersectionRatio;if(w!==l){if(!x)return s();w?s(!1,w):r=setTimeout(()=>{s(!1,1e-7)},100)}x=!1}try{n=new IntersectionObserver(S,{...A,root:i.ownerDocument})}catch{n=new IntersectionObserver(S,A)}n.observe(e)}return s(!0),o}function mse(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=Ow(e),u=i||o?[...c?nh(c):[],...nh(t)]:[];u.forEach(y=>{i&&y.addEventListener("scroll",n,{passive:!0}),o&&y.addEventListener("resize",n)});const d=c&&a?gse(c,n):null;let h=-1,p=null;s&&(p=new ResizeObserver(y=>{let[A]=y;A&&A.target===c&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var x;(x=p)==null||x.observe(t)})),n()}),c&&!l&&p.observe(c),p.observe(t));let g,m=l?Fl(e):null;l&&b();function b(){const y=Fl(e);m&&(y.x!==m.x||y.y!==m.y||y.width!==m.width||y.height!==m.height)&&n(),m=y,g=requestAnimationFrame(b)}return n(),()=>{var y;u.forEach(A=>{i&&A.removeEventListener("scroll",n),o&&A.removeEventListener("resize",n)}),d==null||d(),(y=p)==null||y.disconnect(),p=null,l&&cancelAnimationFrame(g)}}const vse=Xoe,yse=Yoe,Ase=Koe,iR=(e,t,n)=>{const r=new Map,i={platform:pse,...n},o={...i.platform,_c:r};return Woe(e,t,{...i,platform:o})};var $L={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var o="",s=0;s<arguments.length;s++){var a=arguments[s];a&&(o=i(o,r(a)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return n.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var s="";for(var a in o)t.call(o,a)&&o[a]&&(s=i(s,a));return s}function i(o,s){return s?o?o+" "+s:o+s:o}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})($L);var bse=$L.exports;const f_=vr(bse);var oR={};const _se="react-tooltip-core-styles",xse="react-tooltip-base-styles",sR={core:!1,base:!1};function aR({css:e,id:t=xse,type:n="base",ref:r}){var i,o;if(!e||typeof document>"u"||sR[n]||n==="core"&&typeof process<"u"&&(!((i=process==null?void 0:oR)===null||i===void 0)&&i.REACT_TOOLTIP_DISABLE_CORE_STYLES)||n!=="base"&&typeof process<"u"&&(!((o=process==null?void 0:oR)===null||o===void 0)&&o.REACT_TOOLTIP_DISABLE_BASE_STYLES))return;n==="core"&&(t=_se),r||(r={});const{insertAt:s}=r;if(document.getElementById(t))return void console.warn(`[react-tooltip] Element with id '${t}' already exists. Call \`removeStyle()\` first`);const a=document.head||document.getElementsByTagName("head")[0],l=document.createElement("style");l.id=t,l.type="text/css",s==="top"&&a.firstChild?a.insertBefore(l,a.firstChild):a.appendChild(l),l.styleSheet?l.styleSheet.cssText=e:l.appendChild(document.createTextNode(e)),sR[n]=!0}const lR=async({elementReference:e=null,tooltipReference:t=null,tooltipArrowReference:n=null,place:r="top",offset:i=10,strategy:o="absolute",middlewares:s=[Joe(Number(i)),yse({fallbackAxisSideDirection:"start"}),vse({padding:5})],border:a})=>{if(!e)return{tooltipStyles:{},tooltipArrowStyles:{},place:r};if(t===null)return{tooltipStyles:{},tooltipArrowStyles:{},place:r};const l=s;return n?(l.push(Ase({element:n,padding:5})),iR(e,t,{placement:r,strategy:o,middleware:l}).then(({x:c,y:u,placement:d,middlewareData:h})=>{var p,g;const m={left:`${c}px`,top:`${u}px`,border:a},{x:b,y}=(p=h.arrow)!==null&&p!==void 0?p:{x:0,y:0},A=(g={top:"bottom",right:"left",bottom:"top",left:"right"}[d.split("-")[0]])!==null&&g!==void 0?g:"bottom",x=a&&{borderBottom:a,borderRight:a};let S=0;if(a){const _=`${a}`.match(/(\d+)px/);S=_!=null&&_[1]?Number(_[1]):1}return{tooltipStyles:m,tooltipArrowStyles:{left:b!=null?`${b}px`:"",top:y!=null?`${y}px`:"",right:"",bottom:"",...x,[A]:`-${4+S}px`},place:d}})):iR(e,t,{placement:"bottom",strategy:o,middleware:l}).then(({x:c,y:u,placement:d})=>({tooltipStyles:{left:`${c}px`,top:`${u}px`},tooltipArrowStyles:{},place:d}))},cR=(e,t)=>!("CSS"in window&&"supports"in window.CSS)||window.CSS.supports(e,t),uR=(e,t,n)=>{let r=null;const i=function(...o){const s=()=>{r=null,n||e.apply(this,o)};n&&!r&&(e.apply(this,o),r=setTimeout(s,t)),n||(r&&clearTimeout(r),r=setTimeout(s,t))};return i.cancel=()=>{r&&(clearTimeout(r),r=null)},i},dR=e=>e!==null&&!Array.isArray(e)&&typeof e=="object",h_=(e,t)=>{if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t))return e.length===t.length&&e.every((i,o)=>h_(i,t[o]));if(Array.isArray(e)!==Array.isArray(t))return!1;if(!dR(e)||!dR(t))return e===t;const n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&n.every(i=>h_(e[i],t[i]))},Sse=e=>{if(!(e instanceof HTMLElement||e instanceof SVGElement))return!1;const t=getComputedStyle(e);return["overflow","overflow-x","overflow-y"].some(n=>{const r=t.getPropertyValue(n);return r==="auto"||r==="scroll"})},fR=e=>{if(!e)return null;let t=e.parentElement;for(;t;){if(Sse(t))return t;t=t.parentElement}return document.scrollingElement||document.documentElement},wse=typeof window<"u"?v.useLayoutEffect:v.useEffect,Ese="DEFAULT_TOOLTIP_ID",kse={anchorRefs:new Set,activeAnchor:{current:null},attach:()=>{},detach:()=>{},setActiveAnchor:()=>{}},Cse=v.createContext({getTooltipData:()=>kse});function DL(e=Ese){return v.useContext(Cse).getTooltipData(e)}var pc={tooltip:"core-styles-module_tooltip__3vRRp",fixed:"core-styles-module_fixed__pcSol",arrow:"core-styles-module_arrow__cvMwQ",noArrow:"core-styles-module_noArrow__xock6",clickable:"core-styles-module_clickable__ZuTTB",show:"core-styles-module_show__Nt9eE",closing:"core-styles-module_closing__sGnxF"},hA={tooltip:"styles-module_tooltip__mnnfp",arrow:"styles-module_arrow__K0L3T",dark:"styles-module_dark__xNqje",light:"styles-module_light__Z6W-X",success:"styles-module_success__A2AKt",warning:"styles-module_warning__SCK0X",error:"styles-module_error__JvumD",info:"styles-module_info__BWdHW"};const Tse=({forwardRef:e,id:t,className:n,classNameArrow:r,variant:i="dark",anchorId:o,anchorSelect:s,place:a="top",offset:l=10,events:c=["hover"],openOnClick:u=!1,positionStrategy:d="absolute",middlewares:h,wrapper:p,delayShow:g=0,delayHide:m=0,float:b=!1,hidden:y=!1,noArrow:A=!1,clickable:x=!1,closeOnEsc:S=!1,closeOnScroll:_=!1,closeOnResize:w=!1,openEvents:E,closeEvents:T,globalCloseEvents:O,imperativeModeOnly:L,style:N,position:H,afterShow:P,afterHide:j,content:R,contentWrapperRef:k,isOpen:$,defaultIsOpen:V=!1,setIsOpen:z,activeAnchor:B,setActiveAnchor:G,border:U,opacity:te,arrowColor:D,role:ce="tooltip"})=>{var X;const se=v.useRef(null),Pe=v.useRef(null),be=v.useRef(null),ae=v.useRef(null),xe=v.useRef(null),[ze,Ne]=v.useState({tooltipStyles:{},tooltipArrowStyles:{},place:a}),[_e,Ce]=v.useState(!1),[Ke,Ye]=v.useState(!1),[je,lt]=v.useState(null),Mt=v.useRef(!1),on=v.useRef(null),{anchorRefs:Vt,setActiveAnchor:xn}=DL(t),dt=v.useRef(!1),[xt,Jt]=v.useState([]),Je=v.useRef(!1),Lt=u||c.includes("click"),ye=Lt||(E==null?void 0:E.click)||(E==null?void 0:E.dblclick)||(E==null?void 0:E.mousedown),it=E?{...E}:{mouseover:!0,focus:!0,mouseenter:!1,click:!1,dblclick:!1,mousedown:!1};!E&&Lt&&Object.assign(it,{mouseenter:!1,focus:!1,mouseover:!1,click:!0});const Sn=T?{...T}:{mouseout:!0,blur:!0,mouseleave:!1,click:!1,dblclick:!1,mouseup:!1};!T&&Lt&&Object.assign(Sn,{mouseleave:!1,blur:!1,mouseout:!1});const ft=O?{...O}:{escape:S||!1,scroll:_||!1,resize:w||!1,clickOutsideAnchor:ye||!1};L&&(Object.assign(it,{mouseenter:!1,focus:!1,click:!1,dblclick:!1,mousedown:!1}),Object.assign(Sn,{mouseleave:!1,blur:!1,click:!1,dblclick:!1,mouseup:!1}),Object.assign(ft,{escape:!1,scroll:!1,resize:!1,clickOutsideAnchor:!1})),wse(()=>(Je.current=!0,()=>{Je.current=!1}),[]);const ot=Ae=>{Je.current&&(Ae&&Ye(!0),setTimeout(()=>{Je.current&&(z==null||z(Ae),$===void 0&&Ce(Ae))},10))};v.useEffect(()=>{if($===void 0)return()=>null;$&&Ye(!0);const Ae=setTimeout(()=>{Ce($)},10);return()=>{clearTimeout(Ae)}},[$]),v.useEffect(()=>{if(_e!==Mt.current)if(xe.current&&clearTimeout(xe.current),Mt.current=_e,_e)P==null||P();else{const Ae=(De=>{const He=De.match(/^([\d.]+)(ms|s)$/);if(!He)return 0;const[,jn,Yn]=He;return Number(jn)*(Yn==="ms"?1:1e3)})(getComputedStyle(document.body).getPropertyValue("--rt-transition-show-delay"));xe.current=setTimeout(()=>{Ye(!1),lt(null),j==null||j()},Ae+25)}},[_e]);const sn=Ae=>{Ne(De=>h_(De,Ae)?De:Ae)},gn=(Ae=g)=>{be.current&&clearTimeout(be.current),Ke?ot(!0):be.current=setTimeout(()=>{ot(!0)},Ae)},Xt=(Ae=m)=>{ae.current&&clearTimeout(ae.current),ae.current=setTimeout(()=>{dt.current||ot(!1)},Ae)},mt=Ae=>{var De;if(!Ae)return;const He=(De=Ae.currentTarget)!==null&&De!==void 0?De:Ae.target;if(!(He!=null&&He.isConnected))return G(null),void xn({current:null});g?gn():ot(!0),G(He),xn({current:He}),ae.current&&clearTimeout(ae.current)},Fn=()=>{x?Xt(m||100):m?Xt():ot(!1),be.current&&clearTimeout(be.current)},Ar=({x:Ae,y:De})=>{var He;const jn={getBoundingClientRect:()=>({x:Ae,y:De,width:0,height:0,top:De,left:Ae,right:Ae,bottom:De})};lR({place:(He=je==null?void 0:je.place)!==null&&He!==void 0?He:a,offset:l,elementReference:jn,tooltipReference:se.current,tooltipArrowReference:Pe.current,strategy:d,middlewares:h,border:U}).then(Yn=>{sn(Yn)})},wn=Ae=>{if(!Ae)return;const De=Ae,He={x:De.clientX,y:De.clientY};Ar(He),on.current=He},Ri=Ae=>{var De;if(!_e)return;const He=Ae.target;He.isConnected&&(!((De=se.current)===null||De===void 0)&&De.contains(He)||[document.querySelector(`[id='${o}']`),...xt].some(jn=>jn==null?void 0:jn.contains(He))||(ot(!1),be.current&&clearTimeout(be.current)))},si=uR(mt,50,!0),St=uR(Fn,50,!0),En=Ae=>{St.cancel(),si(Ae)},Le=()=>{si.cancel(),St()},Xe=v.useCallback(()=>{var Ae,De;const He=(Ae=je==null?void 0:je.position)!==null&&Ae!==void 0?Ae:H;He?Ar(He):b?on.current&&Ar(on.current):B!=null&&B.isConnected&&lR({place:(De=je==null?void 0:je.place)!==null&&De!==void 0?De:a,offset:l,elementReference:B,tooltipReference:se.current,tooltipArrowReference:Pe.current,strategy:d,middlewares:h,border:U}).then(jn=>{Je.current&&sn(jn)})},[_e,B,R,N,a,je==null?void 0:je.place,l,d,H,je==null?void 0:je.position,b]);v.useEffect(()=>{var Ae,De;const He=new Set(Vt);xt.forEach(jt=>{He.add({current:jt})});const jn=document.querySelector(`[id='${o}']`);jn&&He.add({current:jn});const Yn=()=>{ot(!1)},li=fR(B),Pi=fR(se.current);ft.scroll&&(window.addEventListener("scroll",Yn),li==null||li.addEventListener("scroll",Yn),Pi==null||Pi.addEventListener("scroll",Yn));let sr=null;ft.resize?window.addEventListener("resize",Yn):B&&se.current&&(sr=mse(B,se.current,Xe,{ancestorResize:!0,elementResize:!0,layoutShift:!0}));const qr=jt=>{jt.key==="Escape"&&ot(!1)};ft.escape&&window.addEventListener("keydown",qr),ft.clickOutsideAnchor&&window.addEventListener("click",Ri);const Nt=[],za=jt=>{_e&&(jt==null?void 0:jt.target)===B||mt(jt)},Kv=jt=>{_e&&(jt==null?void 0:jt.target)===B&&Fn()},zh=["mouseover","mouseout","mouseenter","mouseleave","focus","blur"],Uh=["click","dblclick","mousedown","mouseup"];Object.entries(it).forEach(([jt,fo])=>{fo&&(zh.includes(jt)?Nt.push({event:jt,listener:En}):Uh.includes(jt)&&Nt.push({event:jt,listener:za}))}),Object.entries(Sn).forEach(([jt,fo])=>{fo&&(zh.includes(jt)?Nt.push({event:jt,listener:Le}):Uh.includes(jt)&&Nt.push({event:jt,listener:Kv}))}),b&&Nt.push({event:"pointermove",listener:wn});const Hh=()=>{dt.current=!0},Gh=()=>{dt.current=!1,Fn()};return x&&!ye&&((Ae=se.current)===null||Ae===void 0||Ae.addEventListener("mouseenter",Hh),(De=se.current)===null||De===void 0||De.addEventListener("mouseleave",Gh)),Nt.forEach(({event:jt,listener:fo})=>{He.forEach(Ju=>{var Ua;(Ua=Ju.current)===null||Ua===void 0||Ua.addEventListener(jt,fo)})}),()=>{var jt,fo;ft.scroll&&(window.removeEventListener("scroll",Yn),li==null||li.removeEventListener("scroll",Yn),Pi==null||Pi.removeEventListener("scroll",Yn)),ft.resize?window.removeEventListener("resize",Yn):sr==null||sr(),ft.clickOutsideAnchor&&window.removeEventListener("click",Ri),ft.escape&&window.removeEventListener("keydown",qr),x&&!ye&&((jt=se.current)===null||jt===void 0||jt.removeEventListener("mouseenter",Hh),(fo=se.current)===null||fo===void 0||fo.removeEventListener("mouseleave",Gh)),Nt.forEach(({event:Ju,listener:Ua})=>{He.forEach(Yv=>{var ic;(ic=Yv.current)===null||ic===void 0||ic.removeEventListener(Ju,Ua)})})}},[B,Xe,Ke,Vt,xt,E,T,O,Lt,g,m]),v.useEffect(()=>{var Ae,De;let He=(De=(Ae=je==null?void 0:je.anchorSelect)!==null&&Ae!==void 0?Ae:s)!==null&&De!==void 0?De:"";!He&&t&&(He=`[data-tooltip-id='${t.replace(/'/g,"\\'")}']`);const jn=new MutationObserver(Yn=>{const li=[],Pi=[];Yn.forEach(sr=>{if(sr.type==="attributes"&&sr.attributeName==="data-tooltip-id"&&(sr.target.getAttribute("data-tooltip-id")===t?li.push(sr.target):sr.oldValue===t&&Pi.push(sr.target)),sr.type==="childList"){if(B){const qr=[...sr.removedNodes].filter(Nt=>Nt.nodeType===1);if(He)try{Pi.push(...qr.filter(Nt=>Nt.matches(He))),Pi.push(...qr.flatMap(Nt=>[...Nt.querySelectorAll(He)]))}catch{}qr.some(Nt=>{var za;return!!(!((za=Nt==null?void 0:Nt.contains)===null||za===void 0)&&za.call(Nt,B))&&(Ye(!1),ot(!1),G(null),be.current&&clearTimeout(be.current),ae.current&&clearTimeout(ae.current),!0)})}if(He)try{const qr=[...sr.addedNodes].filter(Nt=>Nt.nodeType===1);li.push(...qr.filter(Nt=>Nt.matches(He))),li.push(...qr.flatMap(Nt=>[...Nt.querySelectorAll(He)]))}catch{}}}),(li.length||Pi.length)&&Jt(sr=>[...sr.filter(qr=>!Pi.includes(qr)),...li])});return jn.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["data-tooltip-id"],attributeOldValue:!0}),()=>{jn.disconnect()}},[t,s,je==null?void 0:je.anchorSelect,B]),v.useEffect(()=>{Xe()},[Xe]),v.useEffect(()=>{if(!(k!=null&&k.current))return()=>null;const Ae=new ResizeObserver(()=>{setTimeout(()=>Xe())});return Ae.observe(k.current),()=>{Ae.disconnect()}},[R,k==null?void 0:k.current]),v.useEffect(()=>{var Ae;const De=document.querySelector(`[id='${o}']`),He=[...xt,De];B&&He.includes(B)||G((Ae=xt[0])!==null&&Ae!==void 0?Ae:De)},[o,xt,B]),v.useEffect(()=>(V&&ot(!0),()=>{be.current&&clearTimeout(be.current),ae.current&&clearTimeout(ae.current)}),[]),v.useEffect(()=>{var Ae;let De=(Ae=je==null?void 0:je.anchorSelect)!==null&&Ae!==void 0?Ae:s;if(!De&&t&&(De=`[data-tooltip-id='${t.replace(/'/g,"\\'")}']`),De)try{const He=Array.from(document.querySelectorAll(De));Jt(He)}catch{Jt([])}},[t,s,je==null?void 0:je.anchorSelect]),v.useEffect(()=>{be.current&&(clearTimeout(be.current),gn(g))},[g]);const Kn=(X=je==null?void 0:je.content)!==null&&X!==void 0?X:R,ai=_e&&Object.keys(ze.tooltipStyles).length>0;return v.useImperativeHandle(e,()=>({open:Ae=>{if(Ae!=null&&Ae.anchorSelect)try{document.querySelector(Ae.anchorSelect)}catch{return void console.warn(`[react-tooltip] "${Ae.anchorSelect}" is not a valid CSS selector`)}lt(Ae??null),Ae!=null&&Ae.delay?gn(Ae.delay):ot(!0)},close:Ae=>{Ae!=null&&Ae.delay?Xt(Ae.delay):ot(!1)},activeAnchor:B,place:ze.place,isOpen:!!(Ke&&!y&&Kn&&ai)})),Ke&&!y&&Kn?ke.createElement(p,{id:t,role:ce,className:f_("react-tooltip",pc.tooltip,hA.tooltip,hA[i],n,`react-tooltip__place-${ze.place}`,pc[ai?"show":"closing"],ai?"react-tooltip__show":"react-tooltip__closing",d==="fixed"&&pc.fixed,x&&pc.clickable),onTransitionEnd:Ae=>{xe.current&&clearTimeout(xe.current),_e||Ae.propertyName!=="opacity"||(Ye(!1),lt(null),j==null||j())},style:{...N,...ze.tooltipStyles,opacity:te!==void 0&&ai?te:void 0},ref:se},Kn,ke.createElement(p,{className:f_("react-tooltip-arrow",pc.arrow,hA.arrow,r,A&&pc.noArrow),style:{...ze.tooltipArrowStyles,background:D?`linear-gradient(to right bottom, transparent 50%, ${D} 50%)`:void 0},ref:Pe})):null},Ise=({content:e})=>ke.createElement("span",{dangerouslySetInnerHTML:{__html:e}}),Rse=ke.forwardRef(({id:e,anchorId:t,anchorSelect:n,content:r,html:i,render:o,className:s,classNameArrow:a,variant:l="dark",place:c="top",offset:u=10,wrapper:d="div",children:h=null,events:p=["hover"],openOnClick:g=!1,positionStrategy:m="absolute",middlewares:b,delayShow:y=0,delayHide:A=0,float:x=!1,hidden:S=!1,noArrow:_=!1,clickable:w=!1,closeOnEsc:E=!1,closeOnScroll:T=!1,closeOnResize:O=!1,openEvents:L,closeEvents:N,globalCloseEvents:H,imperativeModeOnly:P=!1,style:j,position:R,isOpen:k,defaultIsOpen:$=!1,disableStyleInjection:V=!1,border:z,opacity:B,arrowColor:G,setIsOpen:U,afterShow:te,afterHide:D,role:ce="tooltip"},X)=>{const[se,Pe]=v.useState(r),[be,ae]=v.useState(i),[xe,ze]=v.useState(c),[Ne,_e]=v.useState(l),[Ce,Ke]=v.useState(u),[Ye,je]=v.useState(y),[lt,Mt]=v.useState(A),[on,Vt]=v.useState(x),[xn,dt]=v.useState(S),[xt,Jt]=v.useState(d),[Je,Lt]=v.useState(p),[ye,it]=v.useState(m),[Sn,ft]=v.useState(null),[ot,sn]=v.useState(null),gn=v.useRef(V),{anchorRefs:Xt,activeAnchor:mt}=DL(e),Fn=St=>St==null?void 0:St.getAttributeNames().reduce((En,Le)=>{var Xe;return Le.startsWith("data-tooltip-")&&(En[Le.replace(/^data-tooltip-/,"")]=(Xe=St==null?void 0:St.getAttribute(Le))!==null&&Xe!==void 0?Xe:null),En},{}),Ar=St=>{const En={place:Le=>{var Xe;ze((Xe=Le)!==null&&Xe!==void 0?Xe:c)},content:Le=>{Pe(Le??r)},html:Le=>{ae(Le??i)},variant:Le=>{var Xe;_e((Xe=Le)!==null&&Xe!==void 0?Xe:l)},offset:Le=>{Ke(Le===null?u:Number(Le))},wrapper:Le=>{var Xe;Jt((Xe=Le)!==null&&Xe!==void 0?Xe:d)},events:Le=>{const Xe=Le==null?void 0:Le.split(" ");Lt(Xe??p)},"position-strategy":Le=>{var Xe;it((Xe=Le)!==null&&Xe!==void 0?Xe:m)},"delay-show":Le=>{je(Le===null?y:Number(Le))},"delay-hide":Le=>{Mt(Le===null?A:Number(Le))},float:Le=>{Vt(Le===null?x:Le==="true")},hidden:Le=>{dt(Le===null?S:Le==="true")},"class-name":Le=>{ft(Le)}};Object.values(En).forEach(Le=>Le(null)),Object.entries(St).forEach(([Le,Xe])=>{var Kn;(Kn=En[Le])===null||Kn===void 0||Kn.call(En,Xe)})};v.useEffect(()=>{Pe(r)},[r]),v.useEffect(()=>{ae(i)},[i]),v.useEffect(()=>{ze(c)},[c]),v.useEffect(()=>{_e(l)},[l]),v.useEffect(()=>{Ke(u)},[u]),v.useEffect(()=>{je(y)},[y]),v.useEffect(()=>{Mt(A)},[A]),v.useEffect(()=>{Vt(x)},[x]),v.useEffect(()=>{dt(S)},[S]),v.useEffect(()=>{it(m)},[m]),v.useEffect(()=>{gn.current!==V&&console.warn("[react-tooltip] Do not change `disableStyleInjection` dynamically.")},[V]),v.useEffect(()=>{typeof window<"u"&&window.dispatchEvent(new CustomEvent("react-tooltip-inject-styles",{detail:{disableCore:V==="core",disableBase:V}}))},[]),v.useEffect(()=>{var St;const En=new Set(Xt);let Le=n;if(!Le&&e&&(Le=`[data-tooltip-id='${e.replace(/'/g,"\\'")}']`),Le)try{document.querySelectorAll(Le).forEach(De=>{En.add({current:De})})}catch{console.warn(`[react-tooltip] "${Le}" is not a valid CSS selector`)}const Xe=document.querySelector(`[id='${t}']`);if(Xe&&En.add({current:Xe}),!En.size)return()=>null;const Kn=(St=ot??Xe)!==null&&St!==void 0?St:mt.current,ai=new MutationObserver(De=>{De.forEach(He=>{var jn;if(!Kn||He.type!=="attributes"||!(!((jn=He.attributeName)===null||jn===void 0)&&jn.startsWith("data-tooltip-")))return;const Yn=Fn(Kn);Ar(Yn)})}),Ae={attributes:!0,childList:!1,subtree:!1};if(Kn){const De=Fn(Kn);Ar(De),ai.observe(Kn,Ae)}return()=>{ai.disconnect()}},[Xt,mt,ot,t,n]),v.useEffect(()=>{j!=null&&j.border&&console.warn("[react-tooltip] Do not set `style.border`. Use `border` prop instead."),z&&!cR("border",`${z}`)&&console.warn(`[react-tooltip] "${z}" is not a valid \`border\`.`),j!=null&&j.opacity&&console.warn("[react-tooltip] Do not set `style.opacity`. Use `opacity` prop instead."),B&&!cR("opacity",`${B}`)&&console.warn(`[react-tooltip] "${B}" is not a valid \`opacity\`.`)},[]);let wn=h;const Ri=v.useRef(null);if(o){const St=o({content:(ot==null?void 0:ot.getAttribute("data-tooltip-content"))||se||null,activeAnchor:ot});wn=St?ke.createElement("div",{ref:Ri,className:"react-tooltip-content-wrapper"},St):null}else se&&(wn=se);be&&(wn=ke.createElement(Ise,{content:be}));const si={forwardRef:X,id:e,anchorId:t,anchorSelect:n,className:f_(s,Sn),classNameArrow:a,content:wn,contentWrapperRef:Ri,place:xe,variant:Ne,offset:Ce,wrapper:xt,events:Je,openOnClick:g,positionStrategy:ye,middlewares:b,delayShow:Ye,delayHide:lt,float:on,hidden:xn,noArrow:_,clickable:w,closeOnEsc:E,closeOnScroll:T,closeOnResize:O,openEvents:L,closeEvents:N,globalCloseEvents:H,imperativeModeOnly:P,style:j,position:R,isOpen:k,defaultIsOpen:$,border:z,opacity:B,arrowColor:G,setIsOpen:U,afterShow:te,afterHide:D,activeAnchor:ot,setActiveAnchor:St=>sn(St),role:ce};return ke.createElement(Tse,{...si})});typeof window<"u"&&window.addEventListener("react-tooltip-inject-styles",e=>{e.detail.disableCore||aR({css:":root{--rt-color-white:#fff;--rt-color-dark:#222;--rt-color-success:#8dc572;--rt-color-error:#be6464;--rt-color-warning:#f0ad4e;--rt-color-info:#337ab7;--rt-opacity:0.9;--rt-transition-show-delay:0.15s;--rt-transition-closing-delay:0.15s}.core-styles-module_tooltip__3vRRp{position:absolute;top:0;left:0;pointer-events:none;opacity:0;will-change:opacity}.core-styles-module_fixed__pcSol{position:fixed}.core-styles-module_arrow__cvMwQ{position:absolute;background:inherit}.core-styles-module_noArrow__xock6{display:none}.core-styles-module_clickable__ZuTTB{pointer-events:auto}.core-styles-module_show__Nt9eE{opacity:var(--rt-opacity);transition:opacity var(--rt-transition-show-delay)ease-out}.core-styles-module_closing__sGnxF{opacity:0;transition:opacity var(--rt-transition-closing-delay)ease-in}",type:"core"}),e.detail.disableBase||aR({css:`
.styles-module_tooltip__mnnfp{padding:8px 16px;border-radius:3px;font-size:90%;width:max-content}.styles-module_arrow__K0L3T{width:8px;height:8px}[class*='react-tooltip__place-top']>.styles-module_arrow__K0L3T{transform:rotate(45deg)}[class*='react-tooltip__place-right']>.styles-module_arrow__K0L3T{transform:rotate(135deg)}[class*='react-tooltip__place-bottom']>.styles-module_arrow__K0L3T{transform:rotate(225deg)}[class*='react-tooltip__place-left']>.styles-module_arrow__K0L3T{transform:rotate(315deg)}.styles-module_dark__xNqje{background:var(--rt-color-dark);color:var(--rt-color-white)}.styles-module_light__Z6W-X{background-color:var(--rt-color-white);color:var(--rt-color-dark)}.styles-module_success__A2AKt{background-color:var(--rt-color-success);color:var(--rt-color-white)}.styles-module_warning__SCK0X{background-color:var(--rt-color-warning);color:var(--rt-color-white)}.styles-module_error__JvumD{background-color:var(--rt-color-error);color:var(--rt-color-white)}.styles-module_info__BWdHW{background-color:var(--rt-color-info);color:var(--rt-color-white)}`,type:"base"})});const Pse=I(Rse,{target:"e21jg9v2"})("&&&{background:rgba(0, 0, 0, 0.85);font-size:2rem;padding:1rem 1.5rem;border-radius:1rem;max-width:45rem;",Fe,";.MuiTooltip-arrow{&::before{background:rgba(0, 0, 0, 0.85);}}strong{color:",he.colors.text.active,";}}z-index:10000;"),Tu=({children:e,title:t,open:n,...r})=>{const i=v.useRef(null),o=v.useMemo(()=>`${Math.random()}`,[]);return f.jsxs(f.Fragment,{children:[ec.createPortal(f.jsx(Pse,{...r,id:o,ref:i,isOpen:n,children:t}),document.body),v.cloneElement(e,{"data-tooltip-id":o})]})},hR=e=>`tooltip_dismissed_${e}`,Mse=({dismissKey:e,timeoutMs:t,oneTime:n=!0,children:r,title:i,...o})=>{const[s,a]=v.useState(!Ve.local.getItem(hR(e))),l=v.useCallback(()=>{Ve.local.setItem(hR(e),!0),a(void 0)},[e]);v.useEffect(()=>{if(t){const u=setTimeout(l,t);return()=>clearTimeout(u)}},[t,l]);const c=(s===void 0||!s&&!n)&&o.open===void 0;return f.jsx(Tu,{clickable:!0,open:c?o.open:s,hidden:o.open===!1,...o,title:f.jsxs(f.Fragment,{children:[i,s&&f.jsx(jse,{children:f.jsx(Ose,{"data-test":"close-tooltip-button",onClick:l,children:"Close"})})]}),children:r},c?"uncontrolled":"controlled")},jse=I("div",{target:"e21jg9v1"})({name:"g78t84",styles:"display:flex;justify-content:flex-end;margin-top:1rem"}),Ose=I("button",{target:"e21jg9v0"})("padding:0.25rem 2rem;font-weight:bold;cursor:pointer;color:white;border:1px solid white;border-radius:0.5rem;background:none;font-size:1.75rem;&:hover{color:",he.colors.text.active,";border-color:",he.colors.text.active,";}&:active{color:white;background:",he.colors.text.active,";border-color:none;}");var Vw={},Vse=rt;Object.defineProperty(Vw,"__esModule",{value:!0});var BL=Vw.default=void 0,Lse=Vse(ut()),Nse=f;BL=Vw.default=(0,Lse.default)((0,Nse.jsx)("path",{d:"M7 14H5v5h5v-2H7zm-2-4h2V7h3V5H5zm12 7h-3v2h5v-5h-2zM14 5v2h3v3h2V5z"}),"Fullscreen");var Lw={},$se=rt;Object.defineProperty(Lw,"__esModule",{value:!0});var FL=Lw.default=void 0,Dse=$se(ut()),Bse=f;FL=Lw.default=(0,Dse.default)((0,Bse.jsx)("path",{d:"M5 16h3v3h2v-5H5zm3-8H5v2h5V5H8zm6 11h2v-3h3v-2h-5zm2-11V5h-2v5h5V8z"}),"FullscreenExit");function Fse(){const[,e]=Ue(px),[t]=Ue(yr),[n,r]=v.useState(document.fullscreenElement!==null);return v.useEffect(()=>{const i=()=>{r(document.fullscreenElement!==null)};return document.addEventListener("fullscreenchange",i),()=>{document.removeEventListener("fullscreenchange",i)}},[]),f.jsx(Tu,{title:"Toggle fullscreen",place:"bottom-end",children:f.jsx(Cv,{"data-test":"toggle-fullscreen",size:"small",onClick:async()=>{var i,o;try{document.fullscreenElement===null?(e(!0),await document.body.requestFullscreen(),t&&(global.screen.orientation.unlock(),await((o=(i=global.screen.orientation).lock)==null?void 0:o.call(i,"landscape")))):(e(!1),await document.exitFullscreen(),t&&global.screen.orientation.unlock())}catch(s){console.info(s)}},children:n?f.jsx(FL,{}):f.jsx(BL,{})})})}const zL=xi("padding:0.1rem 0.3rem;font-size:2.6rem;display:flex;align-items:center;justify-content:center;text-align:center;cursor:pointer;border:0;background-color:rgba(0, 0, 0, 0.75);text-transform:uppercase;letter-spacing:0.2rem;pointer-events:auto;box-sizing:border-box;transition:300ms;",Fe,",;",""),zse=xi("@keyframes button-focus-loop{0%,100%{transform:scale(1.045);}50%{transform:scale(1.055);}}animation:button-focus-loop 600ms ease-in-out infinite both;transform:scale(1.05);background:",he.colors.text.active,";",""),Use=xi("transform:scale(1.05);background:",he.colors.text.active,";",""),Pv=No()?Use:zse,UL={animation:"focusAnimation 1000ms ease-in-out infinite both"},p_=xi("&:hover{",UL,";}&&&:active{background:",he.colors.text.active,";}",""),Hse=I("a",{target:"eo7q3x1"})(zL," &&{color:white;text-decoration:none;}&[data-focused='true']{",Pv,";}&[disabled='false']{",p_,";}"),HL=({focused:e,...t})=>f.jsx(Hse,{...t}),Gse=I("button",{target:"eo7q3x0"})(zL,";&:not(:disabled){",p_,";}&[data-focused='true']{",Pv,";}&[disabled='false']{",p_,";}"),zo=({focused:e,...t})=>f.jsx(Gse,{"data-focused":e,...t}),qse={name:"1tj9yd6",styles:"cursor:default;color:#989898;background-color:#212121;border-width:0.3rem;pointer-events:none"},GL=xi("margin:0.5rem 0;height:10rem;border:0 solid black;&[data-disabled='true']{",qse,";}&[data-size='small']{height:5rem;}",""),Wse=I(HL,{target:"e1llc1k62"})(GL,";"),Kse=I(zo,{target:"e1llc1k61"})(GL,";"),Re=({size:e,disabled:t,...n})=>{const r="href"in n?Wse:Kse;return f.jsx(r,{...n,"data-disabled":t,"data-size":e})},uo=I("div",{target:"e1llc1k60"})({name:"10ov2k1",styles:"background:rgba(0, 0, 0, 0.5);padding:1.5rem;width:100vw;box-sizing:border-box;max-width:75rem;margin:2rem auto 0 auto;font-size:2.6rem;display:flex;flex-direction:column;gap:2rem;view-transition-name:menu-container"});function tc({children:e,onClose:t}){return f.jsxs(f.Fragment,{children:[f.jsx(Qse,{onClick:t}),f.jsx(Yse,{onClick:t,children:f.jsx("div",{onClick:n=>n.stopPropagation(),children:e})})]})}const Yse=I("div",{target:"e7rcptf1"})({name:"1uzuniy",styles:"position:fixed;top:0;left:0;width:100vw;height:100vh;display:flex;align-items:center;justify-content:center;z-index:20001;overflow:auto"}),Qse=I("div",{target:"e7rcptf0"})({name:"25wq6t",styles:"position:fixed;top:0;left:0;background:rgba(0, 0, 0, 0.7);width:100vw;height:100vh;z-index:20000;backdrop-filter:blur(20px)"});let Jse=0;function Ku(e,t){const n=v.useRef(`${String(Math.random())}-${Jse++}`),{setKeyboard:r,unsetKeyboard:i}=v.useContext(AS),o=a=>{r(n.current,a)},s=()=>i(n.current);return v.useEffect(()=>(t&&o(e),s),[e,t]),{setHelp:o,clearHelp:s}}function Wn(e={},t=!1){var S;const{enabled:n=!0,onBackspace:r,backspaceHelp:i=null,direction:o="vertical",additionalHelp:s={}}=e,[a,l]=v.useState(null),c=v.useRef([]),u=v.useRef([]),d=v.useRef({}),h=(S=d.current[a])==null?void 0:S.label,p=v.useMemo(()=>({[o]:null,accept:h??null,back:r?i:void 0,...s}),[h,d,i,o]);Ku(p,n);const g=()=>{var _;(_=d.current[a])==null||_.callback(),Qx.play()},m=()=>{r&&(Jx.play(),r())},b=_=>{const w=a?c.current.indexOf(a):0;N0.play(),l(c.current.at((w+_)%c.current.length)??null)};Jl({[o==="vertical"?"up":"left"]:()=>b(-1),[o==="vertical"?"down":"right"]:()=>b(1),accept:g,back:m},n,[a,c.current]);let y="";const A=(_,w,E,T=!1,{propName:O="onClick",disabled:L=!1}={})=>{if(L)return{disabled:L,focused:!1};u.current.push(_),w&&(d.current[_]={callback:w,label:E,propName:O}),T&&(y=_);const N=n&&a===_;return{focused:N,[O]:w,keyboardNavigationChangeFocus:b,"data-test":_,...n?{"data-focused":N,"data-e2e-focused":N}:{}}};return v.useEffect(()=>{var _;(_=document.querySelector(`[data-test="${a}"]`))==null||_.scrollIntoView({behavior:"smooth",block:"center"})},[a]),v.useEffect(()=>{let _=u.current.filter(w=>!c.current.includes(w));t&&_.length&&console.log("new elements",_),c.current=[...u.current],u.current.length=0,c.current.length&&(a===null||c.current.indexOf(a)===-1||_.includes(y))&&l(y||c.current[0])}),{focusElement:_=>{c.current.includes(_)&&l(_)},focused:a,register:A}}var Xse=Object.defineProperty,Hm=Object.getOwnPropertySymbols,qL=Object.prototype.hasOwnProperty,WL=Object.prototype.propertyIsEnumerable,pR=(e,t,n)=>t in e?Xse(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,rh=(e,t)=>{for(var n in t||(t={}))qL.call(t,n)&&pR(e,n,t[n]);if(Hm)for(var n of Hm(t))WL.call(t,n)&&pR(e,n,t[n]);return e},Nw=(e,t)=>{var n={};for(var r in e)qL.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Hm)for(var r of Hm(e))t.indexOf(r)<0&&WL.call(e,r)&&(n[r]=e[r]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var zl;(e=>{const t=class{constructor(l,c,u,d){if(this.version=l,this.errorCorrectionLevel=c,this.modules=[],this.isFunction=[],l<t.MIN_VERSION||l>t.MAX_VERSION)throw new RangeError("Version value out of range");if(d<-1||d>7)throw new RangeError("Mask value out of range");this.size=l*4+17;let h=[];for(let g=0;g<this.size;g++)h.push(!1);for(let g=0;g<this.size;g++)this.modules.push(h.slice()),this.isFunction.push(h.slice());this.drawFunctionPatterns();const p=this.addEccAndInterleave(u);if(this.drawCodewords(p),d==-1){let g=1e9;for(let m=0;m<8;m++){this.applyMask(m),this.drawFormatBits(m);const b=this.getPenaltyScore();b<g&&(d=m,g=b),this.applyMask(m)}}o(0<=d&&d<=7),this.mask=d,this.applyMask(d),this.drawFormatBits(d),this.isFunction=[]}static encodeText(l,c){const u=e.QrSegment.makeSegments(l);return t.encodeSegments(u,c)}static encodeBinary(l,c){const u=e.QrSegment.makeBytes(l);return t.encodeSegments([u],c)}static encodeSegments(l,c,u=1,d=40,h=-1,p=!0){if(!(t.MIN_VERSION<=u&&u<=d&&d<=t.MAX_VERSION)||h<-1||h>7)throw new RangeError("Invalid value");let g,m;for(g=u;;g++){const x=t.getNumDataCodewords(g,c)*8,S=a.getTotalBits(l,g);if(S<=x){m=S;break}if(g>=d)throw new RangeError("Data too long")}for(const x of[t.Ecc.MEDIUM,t.Ecc.QUARTILE,t.Ecc.HIGH])p&&m<=t.getNumDataCodewords(g,x)*8&&(c=x);let b=[];for(const x of l){r(x.mode.modeBits,4,b),r(x.numChars,x.mode.numCharCountBits(g),b);for(const S of x.getData())b.push(S)}o(b.length==m);const y=t.getNumDataCodewords(g,c)*8;o(b.length<=y),r(0,Math.min(4,y-b.length),b),r(0,(8-b.length%8)%8,b),o(b.length%8==0);for(let x=236;b.length<y;x^=253)r(x,8,b);let A=[];for(;A.length*8<b.length;)A.push(0);return b.forEach((x,S)=>A[S>>>3]|=x<<7-(S&7)),new t(g,c,A,h)}getModule(l,c){return 0<=l&&l<this.size&&0<=c&&c<this.size&&this.modules[c][l]}getModules(){return this.modules}drawFunctionPatterns(){for(let u=0;u<this.size;u++)this.setFunctionModule(6,u,u%2==0),this.setFunctionModule(u,6,u%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const l=this.getAlignmentPatternPositions(),c=l.length;for(let u=0;u<c;u++)for(let d=0;d<c;d++)u==0&&d==0||u==0&&d==c-1||u==c-1&&d==0||this.drawAlignmentPattern(l[u],l[d]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(l){const c=this.errorCorrectionLevel.formatBits<<3|l;let u=c;for(let h=0;h<10;h++)u=u<<1^(u>>>9)*1335;const d=(c<<10|u)^21522;o(d>>>15==0);for(let h=0;h<=5;h++)this.setFunctionModule(8,h,i(d,h));this.setFunctionModule(8,7,i(d,6)),this.setFunctionModule(8,8,i(d,7)),this.setFunctionModule(7,8,i(d,8));for(let h=9;h<15;h++)this.setFunctionModule(14-h,8,i(d,h));for(let h=0;h<8;h++)this.setFunctionModule(this.size-1-h,8,i(d,h));for(let h=8;h<15;h++)this.setFunctionModule(8,this.size-15+h,i(d,h));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let l=this.version;for(let u=0;u<12;u++)l=l<<1^(l>>>11)*7973;const c=this.version<<12|l;o(c>>>18==0);for(let u=0;u<18;u++){const d=i(c,u),h=this.size-11+u%3,p=Math.floor(u/3);this.setFunctionModule(h,p,d),this.setFunctionModule(p,h,d)}}drawFinderPattern(l,c){for(let u=-4;u<=4;u++)for(let d=-4;d<=4;d++){const h=Math.max(Math.abs(d),Math.abs(u)),p=l+d,g=c+u;0<=p&&p<this.size&&0<=g&&g<this.size&&this.setFunctionModule(p,g,h!=2&&h!=4)}}drawAlignmentPattern(l,c){for(let u=-2;u<=2;u++)for(let d=-2;d<=2;d++)this.setFunctionModule(l+d,c+u,Math.max(Math.abs(d),Math.abs(u))!=1)}setFunctionModule(l,c,u){this.modules[c][l]=u,this.isFunction[c][l]=!0}addEccAndInterleave(l){const c=this.version,u=this.errorCorrectionLevel;if(l.length!=t.getNumDataCodewords(c,u))throw new RangeError("Invalid argument");const d=t.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][c],h=t.ECC_CODEWORDS_PER_BLOCK[u.ordinal][c],p=Math.floor(t.getNumRawDataModules(c)/8),g=d-p%d,m=Math.floor(p/d);let b=[];const y=t.reedSolomonComputeDivisor(h);for(let x=0,S=0;x<d;x++){let _=l.slice(S,S+m-h+(x<g?0:1));S+=_.length;const w=t.reedSolomonComputeRemainder(_,y);x<g&&_.push(0),b.push(_.concat(w))}let A=[];for(let x=0;x<b[0].length;x++)b.forEach((S,_)=>{(x!=m-h||_>=g)&&A.push(S[x])});return o(A.length==p),A}drawCodewords(l){if(l.length!=Math.floor(t.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let c=0;for(let u=this.size-1;u>=1;u-=2){u==6&&(u=5);for(let d=0;d<this.size;d++)for(let h=0;h<2;h++){const p=u-h,m=(u+1&2)==0?this.size-1-d:d;!this.isFunction[m][p]&&c<l.length*8&&(this.modules[m][p]=i(l[c>>>3],7-(c&7)),c++)}}o(c==l.length*8)}applyMask(l){if(l<0||l>7)throw new RangeError("Mask value out of range");for(let c=0;c<this.size;c++)for(let u=0;u<this.size;u++){let d;switch(l){case 0:d=(u+c)%2==0;break;case 1:d=c%2==0;break;case 2:d=u%3==0;break;case 3:d=(u+c)%3==0;break;case 4:d=(Math.floor(u/3)+Math.floor(c/2))%2==0;break;case 5:d=u*c%2+u*c%3==0;break;case 6:d=(u*c%2+u*c%3)%2==0;break;case 7:d=((u+c)%2+u*c%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[c][u]&&d&&(this.modules[c][u]=!this.modules[c][u])}}getPenaltyScore(){let l=0;for(let h=0;h<this.size;h++){let p=!1,g=0,m=[0,0,0,0,0,0,0];for(let b=0;b<this.size;b++)this.modules[h][b]==p?(g++,g==5?l+=t.PENALTY_N1:g>5&&l++):(this.finderPenaltyAddHistory(g,m),p||(l+=this.finderPenaltyCountPatterns(m)*t.PENALTY_N3),p=this.modules[h][b],g=1);l+=this.finderPenaltyTerminateAndCount(p,g,m)*t.PENALTY_N3}for(let h=0;h<this.size;h++){let p=!1,g=0,m=[0,0,0,0,0,0,0];for(let b=0;b<this.size;b++)this.modules[b][h]==p?(g++,g==5?l+=t.PENALTY_N1:g>5&&l++):(this.finderPenaltyAddHistory(g,m),p||(l+=this.finderPenaltyCountPatterns(m)*t.PENALTY_N3),p=this.modules[b][h],g=1);l+=this.finderPenaltyTerminateAndCount(p,g,m)*t.PENALTY_N3}for(let h=0;h<this.size-1;h++)for(let p=0;p<this.size-1;p++){const g=this.modules[h][p];g==this.modules[h][p+1]&&g==this.modules[h+1][p]&&g==this.modules[h+1][p+1]&&(l+=t.PENALTY_N2)}let c=0;for(const h of this.modules)c=h.reduce((p,g)=>p+(g?1:0),c);const u=this.size*this.size,d=Math.ceil(Math.abs(c*20-u*10)/u)-1;return o(0<=d&&d<=9),l+=d*t.PENALTY_N4,o(0<=l&&l<=2568888),l}getAlignmentPatternPositions(){if(this.version==1)return[];{const l=Math.floor(this.version/7)+2,c=this.version==32?26:Math.ceil((this.version*4+4)/(l*2-2))*2;let u=[6];for(let d=this.size-7;u.length<l;d-=c)u.splice(1,0,d);return u}}static getNumRawDataModules(l){if(l<t.MIN_VERSION||l>t.MAX_VERSION)throw new RangeError("Version number out of range");let c=(16*l+128)*l+64;if(l>=2){const u=Math.floor(l/7)+2;c-=(25*u-10)*u-55,l>=7&&(c-=36)}return o(208<=c&&c<=29648),c}static getNumDataCodewords(l,c){return Math.floor(t.getNumRawDataModules(l)/8)-t.ECC_CODEWORDS_PER_BLOCK[c.ordinal][l]*t.NUM_ERROR_CORRECTION_BLOCKS[c.ordinal][l]}static reedSolomonComputeDivisor(l){if(l<1||l>255)throw new RangeError("Degree out of range");let c=[];for(let d=0;d<l-1;d++)c.push(0);c.push(1);let u=1;for(let d=0;d<l;d++){for(let h=0;h<c.length;h++)c[h]=t.reedSolomonMultiply(c[h],u),h+1<c.length&&(c[h]^=c[h+1]);u=t.reedSolomonMultiply(u,2)}return c}static reedSolomonComputeRemainder(l,c){let u=c.map(d=>0);for(const d of l){const h=d^u.shift();u.push(0),c.forEach((p,g)=>u[g]^=t.reedSolomonMultiply(p,h))}return u}static reedSolomonMultiply(l,c){if(l>>>8||c>>>8)throw new RangeError("Byte out of range");let u=0;for(let d=7;d>=0;d--)u=u<<1^(u>>>7)*285,u^=(c>>>d&1)*l;return o(u>>>8==0),u}finderPenaltyCountPatterns(l){const c=l[1];o(c<=this.size*3);const u=c>0&&l[2]==c&&l[3]==c*3&&l[4]==c&&l[5]==c;return(u&&l[0]>=c*4&&l[6]>=c?1:0)+(u&&l[6]>=c*4&&l[0]>=c?1:0)}finderPenaltyTerminateAndCount(l,c,u){return l&&(this.finderPenaltyAddHistory(c,u),c=0),c+=this.size,this.finderPenaltyAddHistory(c,u),this.finderPenaltyCountPatterns(u)}finderPenaltyAddHistory(l,c){c[0]==0&&(l+=this.size),c.pop(),c.unshift(l)}};let n=t;n.MIN_VERSION=1,n.MAX_VERSION=40,n.PENALTY_N1=3,n.PENALTY_N2=3,n.PENALTY_N3=40,n.PENALTY_N4=10,n.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],n.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=n;function r(l,c,u){if(c<0||c>31||l>>>c)throw new RangeError("Value out of range");for(let d=c-1;d>=0;d--)u.push(l>>>d&1)}function i(l,c){return(l>>>c&1)!=0}function o(l){if(!l)throw new Error("Assertion error")}const s=class{constructor(l,c,u){if(this.mode=l,this.numChars=c,this.bitData=u,c<0)throw new RangeError("Invalid argument");this.bitData=u.slice()}static makeBytes(l){let c=[];for(const u of l)r(u,8,c);return new s(s.Mode.BYTE,l.length,c)}static makeNumeric(l){if(!s.isNumeric(l))throw new RangeError("String contains non-numeric characters");let c=[];for(let u=0;u<l.length;){const d=Math.min(l.length-u,3);r(parseInt(l.substr(u,d),10),d*3+1,c),u+=d}return new s(s.Mode.NUMERIC,l.length,c)}static makeAlphanumeric(l){if(!s.isAlphanumeric(l))throw new RangeError("String contains unencodable characters in alphanumeric mode");let c=[],u;for(u=0;u+2<=l.length;u+=2){let d=s.ALPHANUMERIC_CHARSET.indexOf(l.charAt(u))*45;d+=s.ALPHANUMERIC_CHARSET.indexOf(l.charAt(u+1)),r(d,11,c)}return u<l.length&&r(s.ALPHANUMERIC_CHARSET.indexOf(l.charAt(u)),6,c),new s(s.Mode.ALPHANUMERIC,l.length,c)}static makeSegments(l){return l==""?[]:s.isNumeric(l)?[s.makeNumeric(l)]:s.isAlphanumeric(l)?[s.makeAlphanumeric(l)]:[s.makeBytes(s.toUtf8ByteArray(l))]}static makeEci(l){let c=[];if(l<0)throw new RangeError("ECI assignment value out of range");if(l<128)r(l,8,c);else if(l<16384)r(2,2,c),r(l,14,c);else if(l<1e6)r(6,3,c),r(l,21,c);else throw new RangeError("ECI assignment value out of range");return new s(s.Mode.ECI,0,c)}static isNumeric(l){return s.NUMERIC_REGEX.test(l)}static isAlphanumeric(l){return s.ALPHANUMERIC_REGEX.test(l)}getData(){return this.bitData.slice()}static getTotalBits(l,c){let u=0;for(const d of l){const h=d.mode.numCharCountBits(c);if(d.numChars>=1<<h)return 1/0;u+=4+h+d.bitData.length}return u}static toUtf8ByteArray(l){l=encodeURI(l);let c=[];for(let u=0;u<l.length;u++)l.charAt(u)!="%"?c.push(l.charCodeAt(u)):(c.push(parseInt(l.substr(u+1,2),16)),u+=2);return c}};let a=s;a.NUMERIC_REGEX=/^[0-9]*$/,a.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,a.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",e.QrSegment=a})(zl||(zl={}));(e=>{(t=>{const n=class{constructor(i,o){this.ordinal=i,this.formatBits=o}};let r=n;r.LOW=new n(0,1),r.MEDIUM=new n(1,0),r.QUARTILE=new n(2,3),r.HIGH=new n(3,2),t.Ecc=r})(e.QrCode||(e.QrCode={}))})(zl||(zl={}));(e=>{(t=>{const n=class{constructor(i,o){this.modeBits=i,this.numBitsCharCount=o}numCharCountBits(i){return this.numBitsCharCount[Math.floor((i+7)/17)]}};let r=n;r.NUMERIC=new n(1,[10,12,14]),r.ALPHANUMERIC=new n(2,[9,11,13]),r.BYTE=new n(4,[8,16,16]),r.KANJI=new n(8,[8,10,12]),r.ECI=new n(7,[0,0,0]),t.Mode=r})(e.QrSegment||(e.QrSegment={}))})(zl||(zl={}));var Nc=zl;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var KL={L:Nc.QrCode.Ecc.LOW,M:Nc.QrCode.Ecc.MEDIUM,Q:Nc.QrCode.Ecc.QUARTILE,H:Nc.QrCode.Ecc.HIGH},YL=128,QL="L",JL="#FFFFFF",XL="#000000",ZL=!1,$w=4,Zse=.1;function eN(e,t=0){const n=[];return e.forEach(function(r,i){let o=null;r.forEach(function(s,a){if(!s&&o!==null){n.push(`M${o+t} ${i+t}h${a-o}v1H${o+t}z`),o=null;return}if(a===r.length-1){if(!s)return;o===null?n.push(`M${a+t},${i+t} h1v1H${a+t}z`):n.push(`M${o+t},${i+t} h${a+1-o}v1H${o+t}z`);return}s&&o===null&&(o=a)})}),n.join("")}function tN(e,t){return e.slice().map((n,r)=>r<t.y||r>=t.y+t.h?n:n.map((i,o)=>o<t.x||o>=t.x+t.w?i:!1))}function nN(e,t,n,r){if(r==null)return null;const i=n?$w:0,o=e.length+i*2,s=Math.floor(t*Zse),a=o/t,l=(r.width||s)*a,c=(r.height||s)*a,u=r.x==null?e.length/2-l/2:r.x*a,d=r.y==null?e.length/2-c/2:r.y*a;let h=null;if(r.excavate){let p=Math.floor(u),g=Math.floor(d),m=Math.ceil(l+u-p),b=Math.ceil(c+d-g);h={x:p,y:g,w:m,h:b}}return{x:u,y:d,h:c,w:l,excavation:h}}var eae=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}();function rN(e){const t=e,{value:n,size:r=YL,level:i=QL,bgColor:o=JL,fgColor:s=XL,includeMargin:a=ZL,style:l,imageSettings:c}=t,u=Nw(t,["value","size","level","bgColor","fgColor","includeMargin","style","imageSettings"]),d=c==null?void 0:c.src,h=v.useRef(null),p=v.useRef(null),[g,m]=v.useState(!1);v.useEffect(()=>{if(h.current!=null){const A=h.current,x=A.getContext("2d");if(!x)return;let S=Nc.QrCode.encodeText(n,KL[i]).getModules();const _=a?$w:0,w=S.length+_*2,E=nN(S,r,a,c),T=p.current,O=E!=null&&T!==null&&T.complete&&T.naturalHeight!==0&&T.naturalWidth!==0;O&&E.excavation!=null&&(S=tN(S,E.excavation));const L=window.devicePixelRatio||1;A.height=A.width=r*L;const N=r/w*L;x.scale(N,N),x.fillStyle=o,x.fillRect(0,0,w,w),x.fillStyle=s,eae?x.fill(new Path2D(eN(S,_))):S.forEach(function(H,P){H.forEach(function(j,R){j&&x.fillRect(R+_,P+_,1,1)})}),O&&x.drawImage(T,E.x+_,E.y+_,E.w,E.h)}}),v.useEffect(()=>{m(!1)},[d]);const b=rh({height:r,width:r},l);let y=null;return d!=null&&(y=ke.createElement("img",{src:d,key:d,style:{display:"none"},onLoad:()=>{m(!0)},ref:p})),ke.createElement(ke.Fragment,null,ke.createElement("canvas",rh({style:b,height:r,width:r,ref:h},u)),y)}function iN(e){const t=e,{value:n,size:r=YL,level:i=QL,bgColor:o=JL,fgColor:s=XL,includeMargin:a=ZL,imageSettings:l}=t,c=Nw(t,["value","size","level","bgColor","fgColor","includeMargin","imageSettings"]);let u=Nc.QrCode.encodeText(n,KL[i]).getModules();const d=a?$w:0,h=u.length+d*2,p=nN(u,r,a,l);let g=null;l!=null&&p!=null&&(p.excavation!=null&&(u=tN(u,p.excavation)),g=ke.createElement("image",{xlinkHref:l.src,height:p.h,width:p.w,x:p.x+d,y:p.y+d,preserveAspectRatio:"none"}));const m=eN(u,d);return ke.createElement("svg",rh({height:r,width:r,viewBox:`0 0 ${h} ${h}`},c),ke.createElement("path",{fill:o,d:`M0,0 h${h}v${h}H0z`,shapeRendering:"crispEdges"}),ke.createElement("path",{fill:s,d:m,shapeRendering:"crispEdges"}),g)}var tae=e=>{const t=e,{renderAs:n}=t,r=Nw(t,["renderAs"]);return n==="svg"?ke.createElement(iN,rh({},r)):ke.createElement(rN,rh({},r))};const nae=Object.freeze(Object.defineProperty({__proto__:null,QRCodeCanvas:rN,QRCodeSVG:iN,default:tae},Symbol.toStringTag,{value:"Module"}));var oN={exports:{}},sN={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iu=v;function rae(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var iae=typeof Object.is=="function"?Object.is:rae,oae=Iu.useState,sae=Iu.useEffect,aae=Iu.useLayoutEffect,lae=Iu.useDebugValue;function cae(e,t){var n=t(),r=oae({inst:{value:n,getSnapshot:t}}),i=r[0].inst,o=r[1];return aae(function(){i.value=n,i.getSnapshot=t,pA(i)&&o({inst:i})},[e,n,t]),sae(function(){return pA(i)&&o({inst:i}),e(function(){pA(i)&&o({inst:i})})},[e]),lae(n),n}function pA(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!iae(e,n)}catch{return!0}}function uae(e,t){return t()}var dae=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?uae:cae;sN.useSyncExternalStore=Iu.useSyncExternalStore!==void 0?Iu.useSyncExternalStore:dae;oN.exports=sN;var fae=oN.exports;const{useEffect:hae,useLayoutEffect:pae,useRef:gae,useInsertionEffect:mae}=Pg,vae=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",yae=vae?pae:hae,aN=mae||yae,lN=e=>{const t=gae([e,(...n)=>t[0](...n)]).current;return aN(()=>{t[0]=e}),t[1]},Aae=(e="",t=location.pathname)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",bae=(e,t="")=>e[0]==="~"?e.slice(1):t+e,_ae="popstate",Dw="pushState",Bw="replaceState",xae="hashchange",gR=[_ae,Dw,Bw,xae],Sae=e=>{for(const t of gR)addEventListener(t,e);return()=>{for(const t of gR)removeEventListener(t,e)}},wae=(e,t)=>fae.useSyncExternalStore(Sae,e,t),mR=()=>location.pathname,Eae=({ssrPath:e}={})=>wae(mR,e?()=>e:mR),kae=(e,{replace:t=!1}={})=>history[t?Bw:Dw](null,"",e),Cae=(e={})=>[Aae(e.base,Eae(e)),lN((t,n)=>kae(bae(t,e.base),n))];if(typeof history<"u")for(const e of[Dw,Bw]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),r=new Event(e);return r.arguments=arguments,dispatchEvent(r),n}}function Tae(e=Rae){let t={};const n=r=>t[r]||(t[r]=e(r));return(r,i)=>{const{regexp:o,keys:s}=n(r||""),a=o.exec(i);return a?[!0,s.reduce((c,u,d)=>(c[u.name]=a[d+1],c),{})]:[!1,null]}}const vR=e=>e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),Iae=(e,t,n)=>{let r=e?"((?:[^\\/]+?)(?:\\/(?:[^\\/]+?))*)":"([^\\/]+?)";return t&&n&&(r="(?:\\/"+r+")"),r+(t?"?":"")},Rae=e=>{const t=/:([A-Za-z0-9_]+)([?+*]?)/g;let n=null,r=0,i=[],o="";for(;(n=t.exec(e))!==null;){const[s,a,l]=n,c=l==="+"||l==="*",u=l==="?"||l==="*",d=u&&e[n.index-1]==="/"?1:0,h=e.substring(r,n.index-d);i.push({name:a}),r=t.lastIndex,o+=vR(h)+Iae(c,u,d)}return o+=vR(e.substring(r)),{keys:i,regexp:new RegExp("^"+o+"(?:\\/)?$","i")}},g_={hook:Cae,matcher:Tae(),base:""},cN=v.createContext(g_),Mv=()=>v.useContext(cN),jv=e=>e.hook(e),Pae=()=>jv(Mv()),uN=e=>{const t=Mv(),[n]=jv(t);return t.matcher(e,n)},Mae=v.createContext({params:{}}),jae=({hook:e,matcher:t,ssrPath:n,base:r="",parent:i,children:o})=>{const s=(l,c=i||g_)=>(l.hook=e||c.hook,l.matcher=t||c.matcher,l.ssrPath=n||c.ssrPath,l.ownBase=r,l.parent=i,l),[a]=v.useState(()=>s({get base(){return(a.parent||g_).base+a.ownBase}}));return aN(()=>{s(a)}),v.createElement(cN.Provider,{value:a,children:o})},yR=(e,t)=>v.createElement(Mae.Provider,{value:{params:e},children:t}),xr=({path:e,match:t,component:n,children:r})=>{const i=uN(e),[o,s]=t||i;return o?n?yR(s,v.createElement(n,{params:s})):yR(s,typeof r=="function"?r(s):r):null},Fw=v.forwardRef((e,t)=>{const n=Mv(),[,r]=jv(n),{to:i,href:o=i,children:s,onClick:a}=e,l=lN(d=>{d.ctrlKey||d.metaKey||d.altKey||d.shiftKey||d.button!==0||(a&&a(d),d.defaultPrevented||(d.preventDefault(),r(i||o,e)))}),c={href:o[0]==="~"?o.slice(1):n.base+o,onClick:l,to:null,ref:t},u=v.isValidElement(s)?s:v.createElement("a",e);return v.cloneElement(u,c)}),m_=e=>Array.isArray(e)?[].concat(...e.map(t=>t&&t.type===v.Fragment?m_(t.props.children):m_(t))):[e],Oae=({children:e,location:t})=>{const n=Mv(),r=n.matcher,[i]=jv(n);for(const o of m_(e)){let s=0;if(v.isValidElement(o)&&(s=o.props.path?r(o.props.path,t||i):[!0,{}])[0])return v.cloneElement(o,{match:s})}return null},{QRCodeSVG:Vae}=nae;function gA({gameCode:e,...t}){return f.jsx(Bae,{...t,children:e.split("").map((n,r)=>f.jsx("span",{children:n},r))})}function zw(){var i;const e=new URL((i=global.location)==null?void 0:i.href),[t]=uN("remote-mic"),n=H0("room")??bl.getGameCode();e.pathname="/remote-mic",e.searchParams.set("room",n);const r=e.href;return v.useEffect(()=>{t||bl.start()},[t]),f.jsxs(zae,{children:[f.jsx(Hae,{children:f.jsxs("h1",{children:["Code: ",f.jsx(gA,{gameCode:n})]})}),f.jsx(Uae,{children:f.jsx(Vae,{value:r,width:"100%",height:"100%",includeMargin:!0})}),f.jsxs(Gae,{children:[f.jsxs(Lae,{children:[f.jsxs("h3",{children:["Game code: ",f.jsx(gA,{gameCode:n,"data-test":"game-code"})]}),f.jsxs("ol",{children:[f.jsxs("li",{children:["Go to"," ",f.jsx("a",{href:e.origin,target:"_blank",rel:"noreferrer",children:"allkaraoke.party"})," ","on your phone"]}),f.jsxs("li",{children:["Click on ",f.jsx("b",{children:"Join game"})]}),f.jsxs("li",{children:["Enter the code ",f.jsx(gA,{gameCode:n})]}),f.jsx("li",{children:"Follow the instructions"})]})]}),f.jsxs(Nae,{children:[f.jsx("h4",{children:"Or copy and send the link"}),f.jsxs($ae,{children:[f.jsx(Fae,{disabled:!0,value:r,"data-test":"server-link-input"}),f.jsx(Dae,{onClick:()=>{navigator.clipboard.writeText(r)},children:"Copy"})]})]})]})]})}const Lae=I("div",{target:"eg58fmd9"})({name:"82a6rk",styles:"flex:1"}),Nae=I("div",{target:"eg58fmd8"})({name:"4dmv1c",styles:"flex:0"}),$ae=I("div",{target:"eg58fmd7"})({name:"sqzzkh",styles:"position:relative;margin-top:0.5rem"}),Dae=I("button",{target:"eg58fmd6"})("cursor:pointer;position:absolute;padding:0 2rem;right:0;height:100%;box-sizing:border-box;background:",he.colors.text.active,";",Fe,";font-weight:bold;font-size:2.2rem;border:0;:active{background-color:black;}"),Bae=I("strong",{target:"eg58fmd5"})("text-transform:uppercase;padding:0.5rem 1.5rem;border-radius:0.5rem;display:inline-flex;gap:1.5rem;",yu,";"),Fae=I("input",{target:"eg58fmd4"})({name:"gri5w4",styles:"padding:1rem;box-sizing:border-box;background:grey;border:none;width:100%;font-size:1.3rem"}),zae=I("div",{target:"eg58fmd3"})({name:"1d1jk7v",styles:"display:flex;flex-direction:row;flex-wrap:nowrap;align-items:stretch;flex:1;gap:2%;@media (max-width: 560px){flex-direction:column;}"}),Uae=I("div",{target:"eg58fmd2"})({name:"2ogmzh",styles:"flex:0.6;@media (max-width: 560px){flex:0;}"}),Hae=I("div",{target:"eg58fmd1"})({name:"mhlr3w",styles:"display:none;@media (max-width: 560px){display:block;}margin-bottom:2rem"}),Gae=I("div",{target:"eg58fmd0"})("@media (max-width: 560px){display:none;}flex:1;display:flex;flex-direction:column;b{font-weight:bold;",Fe,";color:",he.colors.text.active,";}h3{margin-bottom:1rem;}h4{margin:1rem 0;}ol{padding-left:2.3rem;margin:0 0 1.25rem 0;list-style:decimal inside;}li{color:white;font-size:2rem;line-height:3.2rem;}");function qae({closeModal:e}){const{register:t}=Wn({onBackspace:e});return f.jsx(tc,{onClose:e,children:f.jsxs(uo,{children:[f.jsx(zw,{}),f.jsx(zo,{...t("quick-connect-close",e),children:"Close"})]})})}function Wae(){const[e,t]=v.useState(!1);Ue(yr);const[n,r]=Ue($j),{hasContent:i}=v.useContext(AS),o=()=>t(!1);return f.jsxs(f.Fragment,{children:[e&&f.jsx(qae,{closeModal:o}),f.jsxs(Kae,{children:[i&&f.jsx(Tu,{title:"Toggle help",place:"bottom-end",children:f.jsx(Yae,{size:"small",onClick:()=>r(!n),"data-test":"toggle-help",children:n?f.jsx(gV,{}):f.jsx(mV,{})})}),f.jsx(Fse,{}),f.jsx(Tu,{title:"Connect phone",place:"bottom-end",children:f.jsx(Cv,{size:"small",onClick:()=>t(s=>!s),"data-test":"quick-connect-phone",children:f.jsx($f,{})})})]})]})}const Kae=I("div",{target:"efkmcew1"})({name:"17druna",styles:"view-transition-name:toolbar;cursor:pointer;background:rgba(0, 0, 0, 0.75);color:white;padding-left:1rem;margin:0;position:fixed;top:0;right:0;z-index:10000;color:white;svg{fill:white;width:3.25rem;height:3.25rem;transition:transform 200ms;&:hover{transform:scale(1.2);}}display:flex;gap:0.75rem;border-bottom-left-radius:1.5rem"}),Yae=I(Cv,{target:"efkmcew0"})({name:"lpoy45",styles:"scale:0.9"});function Ws({children:e,toolbar:t=!0}){return f.jsxs(xZ,{children:[t&&f.jsx(Wae,{}),e]})}var Uw={},Qae=rt;Object.defineProperty(Uw,"__esModule",{value:!0});var dN=Uw.default=void 0,Jae=Qae(ut()),Xae=f;dN=Uw.default=(0,Jae.default)((0,Xae.jsx)("path",{d:"M3 13h2v-2H3zm0 4h2v-2H3zm0-8h2V7H3zm4 4h14v-2H7zm0 4h14v-2H7zM7 7v2h14V7z"}),"List");var Hw={},Zae=rt;Object.defineProperty(Hw,"__esModule",{value:!0});var fN=Hw.default=void 0,ele=Zae(ut()),tle=f;fN=Hw.default=(0,ele.default)((0,tle.jsx)("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6"}),"Settings");const Gw=({...e})=>f.jsx("svg",{viewBox:"0 0 512 512",fill:"currentcolor",...e,children:f.jsx("path",{stroke:"black",strokeWidth:"2%",xmlns:"http://www.w3.org/2000/svg",d:"M252.529,162.029l168.125,210.156c-12.313,1.25-24.031,6.438-33.031,15.438s-14.188,20.719-15.438,33.031L162.029,252.545  c-3.563-24.922,4.813-50.078,22.625-67.891C202.467,166.857,227.623,158.467,252.529,162.029z M398.936,398.936  c-9.063,9.063-13.031,22.063-10.625,34.656l45.281,45.25c12.5,12.5,32.75,12.5,45.25,0s12.5-32.75,0-45.25l-45.25-45.281  C420.998,385.904,407.998,389.873,398.936,398.936z M162.029,162.029c18.594-18.594,43.188-29.891,68.969-32.297  c-3.375-24.563-14.906-49.391-35.031-69.516c-43.75-43.75-109.594-48.813-147.063-11.313  c-37.5,37.484-32.438,103.328,11.313,147.078c20.125,20.125,44.938,31.656,69.5,35.031  C132.154,205.217,143.436,180.623,162.029,162.029z"})}),hN=I(Gw,{target:"e1uhpuaa1"})("fill:",he.colors.players[1].text,";"),v_=I(Gw,{target:"e1uhpuaa0"})("fill:",he.colors.players[0].text,";");function nle({active:e,setActiveTab:t}){return f.jsxs(rle,{children:[f.jsxs(mA,{active:e==="microphone",onClick:()=>t("microphone"),"data-test":"menu-microphone",children:[f.jsx(vA,{children:f.jsx(Gw,{})}),f.jsx(yA,{children:"Microphone"})]}),f.jsxs(mA,{active:e==="song-list",onClick:()=>t("song-list"),"data-test":"menu-song-list",children:[f.jsx(vA,{children:f.jsx(dN,{})}),f.jsx(yA,{children:"Song list"})]}),f.jsxs(mA,{active:e==="settings",onClick:()=>t("settings"),"data-test":"menu-settings",children:[f.jsx(vA,{children:f.jsx(fN,{})}),f.jsx(yA,{children:"Settings"})]})]})}const rle=I("div",{target:"e1c2ys9k3"})({name:"1x8gdpu",styles:"position:fixed;bottom:0;right:0;display:flex;align-items:stretch;width:100%;gap:1px;background:#424242;@media (max-height: 500px) and (min-aspect-ratio: 16/10){max-width:400px;transform:scale(0.75);transform-origin:bottom right;}"}),mA=I("div",{target:"e1c2ys9k2"})("cursor:pointer;flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;background:black;padding:1rem;font-size:1.5rem;gap:0.5rem;color:",e=>e.active?he.colors.text.active:"#cecece",";"),vA=I("div",{target:"e1c2ys9k1"})({name:"immj2t",styles:"svg{width:2.5rem;height:2.5rem;}font-size:2rem"}),yA=I("div",{target:"e1c2ys9k0"})("");var qw={},ile=rt;Object.defineProperty(qw,"__esModule",{value:!0});var nc=qw.default=void 0,ole=ile(ut()),sle=f;nc=qw.default=(0,ole.default)((0,sle.jsx)("path",{d:"M1 21h22L12 2zm12-3h-2v-2h2zm0-4h-2v-4h2z"}),"Warning");const Ww=()=>{const[e,t]=v.useState(ma.getStatus());return v.useEffect(()=>ma.addListener(t),[]),e};function pN(){return navigator==null?void 0:navigator.userAgent.includes("OPR")}const ale="/assets/allow-mic-DleF1-pf.png",lle="/assets/enable-mic-opera-B5FfRj_P.png",cle="/assets/enable-mic-TGG47ucR.png",ule=()=>pN()?lle:cle,Lh=({children:e,fallback:t,showImages:n=!0})=>{const r=Ww();return f.jsxs(f.Fragment,{children:[r==="accepted"&&e,r!=="accepted"&&f.jsxs(f.Fragment,{children:[f.jsx(fle,{children:f.jsx(hle,{})}),t,f.jsxs(dle,{children:[r==="requested"&&n&&f.jsx("img",{src:ale,alt:"how-to-allow"}),r==="declined"&&f.jsxs(f.Fragment,{children:[f.jsx("h3",{children:"Access is blocked, you can unblock it here"}),n&&f.jsx("img",{src:ule(),alt:"how-to-enable"})]}),pN()&&f.jsxs("h4",{children:[f.jsx("strong",{children:"Opera"})," is buggy regarding microphone access - if you encounter issue (e.g. this message stays even after the access to microphone was granted), consider other browsers."]})]})]})]})},dle=I("div",{target:"e1w9vi9z2"})({name:"1hmq8jv",styles:"text-align:center;img{margin:1.5rem 0 0.5rem;box-shadow:0.5rem 0.5rem 0.5rem rgba(0, 0, 0, 0.5),inset 0 0 0.5rem 0.5rem rgba(255, 255, 255, 0.5);border:0.5rem solid white;border-radius:1rem;box-sizing:border-box;max-width:100%;}"}),fle=I("div",{target:"e1w9vi9z1"})({name:"zov8s0",styles:"width:100%;display:flex;justify-content:center"}),hle=I(nc,{target:"e1w9vi9z0"})("color:",he.colors.text.active,";font-size:3rem;");function ple(){return!1}var Kw={},gle=rt;Object.defineProperty(Kw,"__esModule",{value:!0});var cf=Kw.default=void 0,mle=gle(ut()),vle=f;cf=Kw.default=(0,mle.default)((0,vle.jsx)("path",{d:"m1 9 2 2c4.97-4.97 13.03-4.97 18 0l2-2C16.93 2.93 7.08 2.93 1 9m8 8 3 3 3-3c-1.65-1.66-4.34-1.66-6 0m-4-4 2 2c2.76-2.76 7.24-2.76 10 0l2-2C15.14 9.14 8.87 9.14 5 13"}),"Wifi");function Nh(e,t,n=1){return n===1?(t+1)%e.length:(t+e.length-1)%e.length}function yle(e,t,n=1){return Nh(e,e.indexOf(t),n)}function Ea(e,t,n=1){return e[yle(e,t,n)]}const pi=({focused:e,disabled:t=!1,label:n,value:r,onClick:i,info:o,children:s,...a})=>f.jsxs(Ale,{children:[f.jsxs(ble,{"data-focused":e,onClick:i,"data-disabled":t,...a,children:[f.jsx("span",{children:n?f.jsxs(f.Fragment,{children:[n,":"]}):""})," ",f.jsx(_le,{children:r}),s??null]}),o&&f.jsx(gN,{children:o})]}),Ale=I("div",{target:"e84wjn53"})(""),gN=I("div",{target:"e84wjn52"})(Fe,";font-size:2rem;padding:1rem 0.5rem 0;text-align:justify;"),ble=I("span",{target:"e84wjn51"})("background:rgba(0, 0, 0, 0.7);width:auto;",Fe,";text-align:right;font-size:2.7rem;cursor:pointer;padding:0.65rem;display:flex;flex-direction:row;justify-content:space-between;&[data-expanded='true']{font-size:6rem;}&[data-disabled='true']{cursor:default;}&[data-focused='true'][data-disabled='false']{animation:focusAnimation 1000ms ease-in-out infinite both;}&:hover{animation:focusAnimation 1000ms ease-in-out infinite both;}"),_le=I("span",{target:"e84wjn50"})("color:",he.colors.text.active,";text-overflow:ellipsis;overflow:hidden;white-space:nowrap;padding-left:1rem;"),rc=v.forwardRef(({focused:e,label:t,value:n,onChange:r,disabled:i,className:o,adornment:s,info:a,...l},c)=>{const u=v.useRef(null);return v.useImperativeHandle(c,()=>u.current),Lr(ab,()=>{var d;return(d=u.current)==null?void 0:d.focus()},{enabled:e}),f.jsxs("div",{children:[f.jsxs(Sle,{"data-focused":e,className:o,children:[f.jsx(wle,{children:t}),f.jsx(Ele,{value:n,onChange:d=>r(d.target.value),...l,disabled:i,ref:u}),s&&f.jsx(xle,{children:s})]}),a&&f.jsx(gN,{children:a})]})}),xle=I("span",{target:"et2ce2n3"})(""),Sle=I("div",{target:"et2ce2n2"})("background:black;caret:underscore;",Fe,";width:auto;display:flex;cursor:text;padding:0.25em;align-items:center;&[data-focused='true']{animation:focusAnimation 1000ms ease-in-out infinite both;}&:hover{animation:focusAnimation 1000ms ease-in-out infinite both;}"),wle=I("span",{target:"et2ce2n1"})({name:"1vbnwdc",styles:"display:inline-flex;align-items:center;justify-content:center;padding-right:0.5em;white-space:nowrap;width:auto;svg{font-size:1em;}"}),Ele=I("input",{target:"et2ce2n0"})("padding:0;border:0;background:transparent;caret:underscore;",Fe,";color:",he.colors.text.active,";width:100%;font-size:1em;&:focus{outline:none;}");function kle(e){return Rr("MuiCircularProgress",e)}Pr("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const Cle=["className","color","disableShrink","size","style","thickness","value","variant"];let Ov=e=>e,AR,bR,_R,xR;const Qs=44,Tle=Va(AR||(AR=Ov`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),Ile=Va(bR||(bR=Ov`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),Rle=e=>{const{classes:t,variant:n,color:r,disableShrink:i}=e,o={root:["root",n,`color${nt(r)}`],svg:["svg"],circle:["circle",`circle${nt(n)}`,i&&"circleDisableShrink"]};return Hr(o,kle,t)},Ple=Qt("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`color${nt(n.color)}`]]}})(({ownerState:e,theme:t})=>re({display:"inline-block"},e.variant==="determinate"&&{transition:t.transitions.create("transform")},e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main}),({ownerState:e})=>e.variant==="indeterminate"&&xi(_R||(_R=Ov`
      animation: ${0} 1.4s linear infinite;
    `),Tle)),Mle=Qt("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),jle=Qt("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.circle,t[`circle${nt(n.variant)}`],n.disableShrink&&t.circleDisableShrink]}})(({ownerState:e,theme:t})=>re({stroke:"currentColor"},e.variant==="determinate"&&{transition:t.transitions.create("stroke-dashoffset")},e.variant==="indeterminate"&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink&&xi(xR||(xR=Ov`
      animation: ${0} 1.4s ease-in-out infinite;
    `),Ile)),Ole=v.forwardRef(function(t,n){const r=Mr({props:t,name:"MuiCircularProgress"}),{className:i,color:o="primary",disableShrink:s=!1,size:a=40,style:l,thickness:c=3.6,value:u=0,variant:d="indeterminate"}=r,h=Pt(r,Cle),p=re({},r,{color:o,disableShrink:s,size:a,thickness:c,value:u,variant:d}),g=Rle(p),m={},b={},y={};if(d==="determinate"){const A=2*Math.PI*((Qs-c)/2);m.strokeDasharray=A.toFixed(3),y["aria-valuenow"]=Math.round(u),m.strokeDashoffset=`${((100-u)/100*A).toFixed(3)}px`,b.transform="rotate(-90deg)"}return f.jsx(Ple,re({className:At(g.root,i),style:re({width:a,height:a},b,l),ownerState:p,ref:n,role:"progressbar"},y,h,{children:f.jsx(Mle,{className:g.svg,ownerState:p,viewBox:`${Qs/2} ${Qs/2} ${Qs} ${Qs}`,children:f.jsx(jle,{className:g.circle,style:m,ownerState:p,cx:Qs,cy:Qs,r:(Qs-c)/2,fill:"none",strokeWidth:c})})}))}),Vle=Ole;function $h(e){return f.jsx(Vle,{...e})}function ih(e){document.startViewTransition?document.startViewTransition(async()=>{await e()}):e()}const Gm=(e,t)=>{var n;if(t){const r=new URLSearchParams((n=global.location)==null?void 0:n.search);return Object.entries(t).forEach(([i,o])=>{o===null?r.delete(i):r.set(i,o)}),`${e}?${r.toString()}`}return e};function oi(){const[,e]=Pae();return(t,n,{smooth:r=!0,...i}={})=>{r?ih(()=>e(Gm(t,n),i)):e(Gm(t,n),i)}}var Yw={},Lle=rt;Object.defineProperty(Yw,"__esModule",{value:!0});var Qw=Yw.default=void 0,Nle=Lle(ut()),$le=f;Qw=Yw.default=(0,Nle.default)((0,$le.jsx)("path",{d:"M20 18c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2H0v2h24v-2zM4 6h16v10H4z"}),"Laptop");var Jw={},Dle=rt;Object.defineProperty(Jw,"__esModule",{value:!0});var Xw=Jw.default=void 0,Ble=Dle(ut()),Fle=f;Xw=Jw.default=(0,Ble.default)((0,Fle.jsx)("path",{d:"M16 1H8C6.34 1 5 2.34 5 4v16c0 1.66 1.34 3 3 3h8c1.66 0 3-1.34 3-3V4c0-1.66-1.34-3-3-3m-2 20h-4v-1h4zm3.25-3H6.75V4h10.5z"}),"PhoneAndroid");const SR="confirmed-wifi";function zle({onClose:e}){const[t,n]=ke.useState(Ve.session.getItem(SR)??!1),r=()=>{Ve.session.setItem(SR,!0),n(!0),e==null||e()};return v.useEffect(()=>{var i,o,s;if(navigator!=null&&navigator.connection)if(((i=navigator==null?void 0:navigator.connection)==null?void 0:i.type)==="wifi")r();else{const a=()=>{var l;((l=navigator==null?void 0:navigator.connection)==null?void 0:l.type)==="wifi"&&r()};return(s=(o=navigator==null?void 0:navigator.connection)==null?void 0:o.addEventListener)==null||s.call(o,"change",a),()=>{var l,c;return(c=(l=navigator==null?void 0:navigator.connection)==null?void 0:l.removeEventListener)==null?void 0:c.call(l,"change",a)}}},[]),t?null:f.jsx(tc,{onClose:r,children:f.jsxs(Ule,{children:[f.jsxs(Hle,{children:[f.jsxs("h3",{children:["Connect to the ",f.jsx("strong",{children:"same Wi-Fi"})]}),f.jsxs(Gle,{children:[f.jsx(Xw,{}),"...",f.jsx(cf,{}),"...",f.jsx(Qw,{})]}),f.jsx("h4",{children:"Connect to the same Wi-Fi as the game."})]}),f.jsx("h6",{children:"Otherwise microphones might not work properly."}),f.jsx(Re,{onClick:r,focused:!0,"data-test":"confirm-wifi-connection",children:"I'm connected, continue"})]})})}const Ule=I(uo,{target:"e1200hll2"})({name:"vcyu3g",styles:"gap:1rem"}),Hle=I("div",{target:"e1200hll1"})({name:"1uu7723",styles:"display:flex;flex-direction:column;align-items:center;gap:2rem"}),Gle=I("div",{target:"e1200hll0"})("margin:2rem 0;display:flex;color:white;align-items:center;gap:2rem;@keyframes pulse{0%{color:",he.colors.text.default,";transform:scale(1);}25%{color:",he.colors.text.active,";transform:scale(1.1);}50%{color:",he.colors.text.default,";transform:scale(1);}}svg{animation:pulse 2s infinite;font-size:7rem;:nth-of-type(1){animation-delay:0s;}:nth-of-type(2){animation-delay:0.5s;}:nth-of-type(3){animation-delay:1s;}}");function qle(e,t,n,r){n===void 0&&(n=global),r===void 0&&(r={});var i=v.useRef(),o=r.capture,s=r.passive,a=r.once;v.useEffect(function(){i.current=t},[t]),v.useEffect(function(){if(n&&n.addEventListener){var l=function(u){return i.current(u)},c={capture:o,passive:s,once:a};return n.addEventListener(e,l,c),function(){n.removeEventListener(e,l,c)}}},[e,n,o,s,a])}var Ya={},Wle=function(e,t,n){return Ya[e]||(Ya[e]={callbacks:[],value:n}),Ya[e].callbacks.push(t),{deregister:function(){var r=Ya[e].callbacks,i=r.indexOf(t);i>-1&&r.splice(i,1)},emit:function(r){Ya[e].value!==r&&(Ya[e].value=r,Ya[e].callbacks.forEach(function(i){t!==i&&i(r)}))}}};function Dh(e,t){if(t===void 0&&(t=typeof global<"u"&&global.localStorage?global.localStorage:typeof globalThis<"u"&&globalThis.localStorage?globalThis.localStorage:typeof window<"u"&&window.localStorage?window.localStorage:typeof localStorage<"u"?localStorage:null),t){var n=function(r){return{get:function(i,o){var s=r.getItem(i);return s==null?typeof o=="function"?o():o:JSON.parse(s)},set:function(i,o){r.setItem(i,JSON.stringify(o))}}}(t);return function(r){return function(i,o,s){var a=s.get,l=s.set,c=v.useRef(null),u=v.useState(function(){return a(o,i)}),d=u[0],h=u[1];qle("storage",function(g){if(g.key===o){var m=JSON.parse(g.newValue);d!==m&&h(m)}}),v.useEffect(function(){return c.current=Wle(o,h,i),function(){c.current.deregister()}},[i,o]);var p=v.useCallback(function(g){var m=typeof g=="function"?g(d):g;l(o,m),h(m),c.current.emit(g)},[d,l,o]);return[d,p]}(r,e,n)}}return v.useState}const Kle=Dh("remote_mic_name");function Yle({isVisible:e,roomId:t,connectionStatus:n,onConnect:r,connectionError:i}){const[o,s]=Kle(""),[a,l]=v.useState(!1),c=v.useRef(null),u=v.useRef(null),[d,h]=v.useState(t??""),p=oi(),g=n!=="uninitialised"&&n!=="error";v.useEffect(()=>{n==="connected"&&!t&&p("remote-mic/",{room:d})},[n,t,d]);const m=(S=!1)=>{dn.connect(d,o,S),r(S)},b=S=>{var _,w;S.preventDefault(),l(!1),!t&&d.length!==Wd?(_=c.current)==null||_.focus():o===""?(w=u.current??c.current)==null||w.focus():m()};v.useEffect(()=>{var S;bn.capture(t?"remote-mic-qrcode":"remote-mic-manual"),(S=c.current)==null||S.focus()},[]),v.useEffect(()=>{Ve.session.getItem("reload-mic-request")!==null&&(global.setTimeout(()=>Ve.session.removeItem("reload-mic-request"),1),m(!0))},[]);const[y,A]=v.useState(!1);v.useEffect(()=>{if(A(!1),n==="connecting"||n==="reconnecting"){const S=setTimeout(()=>A(!0),2e3);return()=>clearTimeout(S)}},[n]);const x=n==="error"&&!a;return e?f.jsxs(f.Fragment,{children:[(t==null?void 0:t.startsWith("p"))&&f.jsx(zle,{onClose:()=>{var S;(S=c.current)==null||S.focus()}}),f.jsxs(Qle,{onSubmit:b,children:[!g&&f.jsx(Xle,{ref:c,placeholder:"_____",label:"Game code",autoCapitalize:"characters",autoComplete:"off",onChange:h,value:d,maxLength:Wd,focused:!1,autoFocus:!0,"data-test":"game-code-input",onFocus:()=>{n==="error"&&l(!0)},onPaste:S=>{S.preventDefault();let _=(S.clipboardData||global.clipboardData).getData("text");_=_.replace(/\s/g,""),h(_.slice(0,Wd))}}),f.jsx(rc,{maxLength:$x,focused:!1,label:"Your name",placeholder:"Enter your name…",value:o,onChange:s,ref:t?c:u,disabled:g,autoFocus:!0,"data-test":"player-name-input"}),f.jsxs(Jle,{type:"submit",disabled:g,"data-test":"connect-button",children:[n==="connecting"&&f.jsx($h,{size:"1em"}),n==="uninitialised"||a?"Connect":n.toUpperCase()]})]}),(y||x)&&f.jsxs(f.Fragment,{children:[y&&f.jsx("h3",{children:"If it doesn't connect"}),x&&f.jsxs(f.Fragment,{children:[f.jsxs("h3",{children:[f.jsx("strong",{children:f.jsx(nc,{})})," ","Could not connect:"]}),f.jsxs("h6",{children:["Error code: ",f.jsx("strong",{children:i})]}),f.jsx("br",{}),i==="peer-unavailable"?f.jsxs(f.Fragment,{children:[f.jsx("h4",{children:t===void 0?"Game with this code not found 🤔":"The game seems to be offline 🤔"}),t===void 0&&f.jsxs("h5",{children:["1. Is the code ",f.jsx("strong",{children:d.toUpperCase()})," correct?"]}),f.jsxs("h5",{children:[t===void 0?2:1,". Refresh (",f.jsx("strong",{children:"F5"}),") the Karaoke Game on the PC"]}),t!==void 0&&f.jsxs("h5",{children:["2. Scan the"," ",f.jsxs("strong",{children:[f.jsx($f,{})," QR Code"]})," ","again"]}),f.jsxs("h5",{children:["3. Make sure you are in the same"," ",f.jsxs("strong",{children:[f.jsx(cf,{})," Wi-Fi"]})]})]}):i==="network"?f.jsxs(f.Fragment,{children:[f.jsx("h4",{children:"No internet access 💀"}),f.jsxs("h5",{children:["Make sure you are in the same"," ",f.jsxs("strong",{children:[f.jsx(cf,{})," Wi-Fi"]}),"and that it has internet connection"]})]}):f.jsxs(f.Fragment,{children:[f.jsxs("h5",{children:["1. Make sure you are in the same"," ",f.jsxs("strong",{children:[f.jsx(cf,{})," Wi-Fi"]})]}),f.jsxs("h5",{children:["2. Refresh (",f.jsx("strong",{children:"F5"}),") the Karaoke Game on the PC"]}),f.jsxs("h5",{children:["3. Scan the"," ",f.jsxs("strong",{children:[f.jsx($f,{})," QR Code"]})," ","again"]})]})]})]})]}):null}const Qle=I("form",{target:"e1ey8ze72"})({name:"fvqkyn",styles:"margin-top:2rem;display:flex;flex-direction:column;gap:1rem"}),Jle=I(Re,{target:"e1ey8ze71"})({name:"116s0m5",styles:"margin-bottom:0;height:72px"}),Xle=I(rc,{target:"e1ey8ze70"})({name:"8hhbv6",styles:"input{letter-spacing:2rem;text-align:center;text-transform:uppercase;}"});var Zw={},Zle=rt;Object.defineProperty(Zw,"__esModule",{value:!0});var mN=Zw.default=void 0,ece=Zle(ut()),tce=f;mN=Zw.default=(0,ece.default)((0,tce.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack");var eE={},nce=rt;Object.defineProperty(eE,"__esModule",{value:!0});var vN=eE.default=void 0,rce=nce(ut()),ice=f;vN=eE.default=(0,rce.default)((0,ice.jsx)("path",{d:"m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"}),"ArrowForward");var tE={},oce=rt;Object.defineProperty(tE,"__esModule",{value:!0});var yN=tE.default=void 0,sce=oce(ut()),ace=f;yN=tE.default=(0,sce.default)((0,ace.jsx)("path",{d:"M15 7.5V2H9v5.5l3 3zM7.5 9H2v6h5.5l3-3zM9 16.5V22h6v-5.5l-3-3zM16.5 9l-3 3 3 3H22V9z"}),"Games");var nE={},lce=rt;Object.defineProperty(nE,"__esModule",{value:!0});var AN=nE.default=void 0,cce=lce(ut()),uce=f;AN=nE.default=(0,cce.default)((0,uce.jsx)("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6z"}),"KeyboardArrowDown");var rE={},dce=rt;Object.defineProperty(rE,"__esModule",{value:!0});var bN=rE.default=void 0,fce=dce(ut()),hce=f;bN=rE.default=(0,fce.default)((0,hce.jsx)("path",{d:"M15.41 16.59 10.83 12l4.58-4.59L14 6l-6 6 6 6z"}),"KeyboardArrowLeft");var iE={},pce=rt;Object.defineProperty(iE,"__esModule",{value:!0});var _N=iE.default=void 0,gce=pce(ut()),mce=f;_N=iE.default=(0,gce.default)((0,mce.jsx)("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6z"}),"KeyboardArrowRight");var oE={},vce=rt;Object.defineProperty(oE,"__esModule",{value:!0});var xN=oE.default=void 0,yce=vce(ut()),Ace=f;xN=oE.default=(0,yce.default)((0,Ace.jsx)("path",{d:"M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"}),"KeyboardArrowUp");var sE={},bce=rt;Object.defineProperty(sE,"__esModule",{value:!0});var SN=sE.default=void 0,_ce=bce(ut()),xce=f;SN=sE.default=(0,_ce.default)((0,xce.jsx)("path",{d:"M10.59 9.17 5.41 4 4 5.41l5.17 5.17zM14.5 4l2.04 2.04L4 18.59 5.41 20 17.96 7.46 20 9.5V4zm.33 9.41-1.41 1.41 3.13 3.13L14.5 20H20v-5.5l-2.04 2.04z"}),"Shuffle");var aE={},Sce=rt;Object.defineProperty(aE,"__esModule",{value:!0});var Vv=aE.default=void 0,wce=Sce(ut()),Ece=f;Vv=aE.default=(0,wce.default)((0,Ece.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search");function lE(e,t){const[n,r]=v.useState(e);return v.useEffect(()=>{const i=setTimeout(()=>{r(e)},t);return()=>{clearTimeout(i)}},[e,t]),n}function kce({onSearchStateChange:e}){const[t,n]=v.useState(""),r=v.useRef(null),i=lE(t,100),o=MX(i);return v.useEffect(()=>{o!==i&&dn.searchSong(i.trim())},[o,i]),PX(()=>e==null?void 0:e(!1)),f.jsx(Cce,{onFocus:()=>e==null?void 0:e(!0),onBlur:()=>e==null?void 0:e(!1),maxLength:$x,focused:!1,label:f.jsx(Vv,{}),placeholder:"Search for a song…",value:t,onChange:n,ref:r,"data-test":"search-song-input"})}const Cce=I(rc,{target:"e12hs6m40"})({name:"zrd260",styles:"width:100%;margin-bottom:1rem"});function Tce({onSearchStateChange:e}){var o;const[t]=$o(ee.remoteKeyboardLayout,!0)??[],n=(t==null?void 0:t.horizontal)!==void 0||(t==null?void 0:t["horizontal-vertical"])!==void 0,r=(t==null?void 0:t.vertical)!==void 0||(t==null?void 0:t["horizontal-vertical"])!==void 0,i=s=>()=>{dn.sendKeyStroke(s)};return t!==void 0?f.jsxs(Ice,{"data-test":"remote-keyboard",children:[((o=t==null?void 0:t.remote)==null?void 0:o.includes("search"))&&f.jsx(kce,{onSearchStateChange:e}),(n||r)&&f.jsxs(bA,{children:[f.jsx(AA,{children:f.jsx(Ac,{onClick:i("up"),disabled:!r,"data-disabled":!r,"data-test":"arrow-up",children:f.jsx(xN,{})})}),f.jsxs(AA,{children:[f.jsx(Ac,{onClick:i("left"),disabled:!n,"data-disabled":!n,"data-test":"arrow-left",children:f.jsx(bN,{})}),f.jsx(Ac,{disabled:!0,"data-disabled":!0,children:f.jsx(yN,{})}),f.jsx(Ac,{onClick:i("right"),disabled:!n,"data-disabled":!n,"data-test":"arrow-right",children:f.jsx(_N,{})})]}),f.jsx(AA,{children:f.jsx(Ac,{onClick:i("down"),disabled:!r,"data-disabled":!r,"data-test":"arrow-down",children:f.jsx(AN,{})})})]}),f.jsxs(bA,{children:[f.jsx(_A,{onClick:i("back"),disabled:(t==null?void 0:t.back)===void 0,"data-test":"keyboard-backspace",children:(t==null?void 0:t.back)||f.jsxs(f.Fragment,{children:[f.jsx(mN,{})," Back"]})}),f.jsx(_A,{onClick:i("accept"),disabled:(t==null?void 0:t.accept)===void 0,"data-test":"keyboard-enter",children:(t==null?void 0:t.accept)||f.jsxs(f.Fragment,{children:["Enter ",f.jsx(vN,{})]})})]}),f.jsx(Rce,{}),f.jsx(bA,{disabled:(t==null?void 0:t.shiftR)===void 0,"data-test":"keyboard-shift-r",children:f.jsxs(_A,{onClick:i("random"),children:[f.jsx(SN,{})," ",(t==null?void 0:t.shiftR)||"Random Song"]})})]}):null}const Ice=I("div",{target:"epl0eil6"})({name:"17mk58z",styles:"gap:1rem;display:flex;flex-wrap:wrap;margin-bottom:2rem"}),AA=I("div",{target:"epl0eil5"})({name:"144ujnw",styles:"display:flex;justify-content:center;flex:1;color:white;font-size:2rem"}),bA=I("div",{target:"epl0eil4"})("display:flex;flex-direction:column;flex:1;justify-content:space-between;opacity:",e=>e.disabled?0:1,";"),Rce=I("div",{target:"epl0eil3"})({name:"1f76xva",styles:"flex-basis:100%;height:0"}),Pce=I("button",{target:"epl0eil2"})("background:none;border:none;box-sizing:border-box;margin:0.25rem;width:4.5rem;height:4.5rem;svg{width:2.5rem;height:2.5rem;}opacity:",e=>e.disabled?.25:1,";"),Ac=I(Pce,{target:"epl0eil1"})({name:"1dzx4ce",styles:"display:flex;align-items:center;justify-content:center;border-radius:0.3rem;border:0.3rem solid rgb(204, 204, 204);border-bottom-color:rgb(130, 130, 130);border-right-color:rgb(130, 130, 130);gap:0.5rem;&[data-disabled='false']{cursor:pointer;&:active{border:0.3rem solid rgb(130, 130, 130);border-bottom-color:rgb(204, 204, 204);border-right-color:rgb(204, 204, 204);}}color:rgb(51, 51, 51);font-weight:normal;font-size:2.5rem;box-shadow:0 0.1rem 0 rgba(0, 0, 0, 0.2),inset 0 0 0 0.2rem #ffffff;background-color:rgb(247, 247, 247);text-shadow:0 0.1rem 0 #fff"}),_A=I(Ac,{target:"epl0eil0"})({name:"1d3w5wq",styles:"width:100%"});var cE={},Mce=rt;Object.defineProperty(cE,"__esModule",{value:!0});var Lv=cE.default=void 0,jce=Mce(ut()),Oce=f;Lv=cE.default=(0,jce.default)((0,Oce.jsx)("path",{d:"M6.99 11 3 15l3.99 4v-3H14v-2H6.99zM21 9l-3.99-4v3H10v2h7.01v3z"}),"SwapHoriz");function wN({playerNumber:e,id:t,onModalClose:n,header:r}){const[i]=$o(ee.remoteStyleChanged,!0)??["regular"],o=a=>{dn.requestPlayerChange(t,a),n()},s=e!==null;return f.jsx(tc,{onClose:n,children:f.jsxs(Vce,{children:[r&&f.jsx("h2",{children:r}),f.jsx(Re,{size:"small","data-test":"change-to-player-0",onClick:()=>o(0),disabled:e===0,style:{color:he.colors.players[0].perfect.fill},children:i==="christmas"?"Green":"Blue"}),f.jsx(Re,{size:"small","data-test":"change-to-player-1",onClick:()=>o(1),disabled:e===1,style:{color:he.colors.players[1].perfect.fill},children:i==="christmas"?"Red":i==="eurovision"?"Violet":"Red"}),f.jsx(Re,{size:"small","data-test":"change-to-player-2",onClick:()=>o(2),disabled:e===2,style:{color:he.colors.players[2].perfect.fill},children:i==="christmas"?"?????":i==="eurovision"?"Yellow":"Green"}),f.jsx(Re,{size:"small","data-test":"change-to-player-3",onClick:()=>o(3),disabled:e===3,style:{color:he.colors.players[3].perfect.fill},children:i==="christmas"?"?????":i==="eurovision"?"Pink":"Yellow"}),f.jsx(Re,{size:"small",onClick:()=>o(null),disabled:!s,"data-test":"change-to-unset",children:"Unassign"}),f.jsx("hr",{}),f.jsx(Re,{size:"small",onClick:()=>dn.removePlayer(t),"data-test":"remove-player",children:"Remove"}),f.jsx(Re,{onClick:n,size:"small",children:"Close"})]})})}const Vce=I(uo,{target:"e1q747tq0"})({name:"8ixhiv",styles:"gap:0"});function EN({number:e,...t}){const[n]=$o(ee.remoteStyleChanged,!0)??["regular"],r=kO();return v.useEffect(()=>{r()},[n]),f.jsx(Lce,{style:{background:e!==null?he.colors.players[e].perfect.fill:he.colors.text.inactive},...t})}const Lce=I("div",{target:"e1u9853z0"})({name:"97f0zo",styles:"display:inline-block;width:1em;height:1em;aspect-ratio:1;border-radius:1em"}),Nce=v.memo(function({playerNumber:t}){const[n,r]=v.useState(!1),i=()=>r(!1),o=t!==null;return f.jsxs(f.Fragment,{children:[f.jsxs($ce,{onClick:()=>r(!0),"data-test":"change-player","data-joined":o,children:[o?f.jsxs(f.Fragment,{children:[f.jsx(EN,{number:t})," Change"]}):"Join game"," ",f.jsx(Lv,{})]}),n&&f.jsx(wN,{id:dn.getClientId(),playerNumber:t,onModalClose:i})]})}),$ce=I("button",{target:"e1x7ggg80"})("position:absolute;z-index:1;color:white;right:1rem;bottom:1rem;padding:1rem;font-size:2rem;text-transform:uppercase;display:flex;align-items:center;gap:1rem;border:none;",Fe,";background:rgba(0, 0, 0, 0.75);&[data-joined='false']{font-size:3rem;padding:3rem;",yu,";}:hover{",yu,";}:active{",Pv,";}svg{width:2rem;height:2rem;}");function Nv(){const[e]=$o(ee.remoteMicPermissionsSet,!0)??["write"];return e}function Dce({playerNumber:e,volume:t,frequency:n,isMicOn:r,isConnected:i}){const[o,s]=v.useState(1e-6),a=Nv();v.useEffect(()=>{s(u=>t>u?t:u*.99)},[t]);const l=e!==null?he.colors.players[e].miss.stroke:he.colors.lines.normal.fill,c=e!==null?he.colors.players[e].perfect.fill:he.colors.lines.normal.fill;return f.jsxs(zce,{isMicOn:r,color:l,"data-player-number":`${e??"none"}`,"data-test":"indicator",children:[r&&f.jsx(f.Fragment,{children:f.jsxs(Bce,{children:[n?`${Math.round(n)}Hz`:" ",f.jsx("br",{}),String(t*100).slice(0,5)]})}),i&&a==="write"&&f.jsx(Nce,{playerNumber:e}),f.jsx(Fce,{color:c,style:{transform:`scaleY(${r?1-Math.min(1,t/o):1})`}})]})}const Bce=I("span",{target:"eik0d702"})({name:"1ikzkvw",styles:"position:absolute;color:white;opacity:0.125"}),Fce=I("div",{target:"eik0d701"})("width:100%;height:100%;background-color:",e=>e.color,";transition:200ms;transform-origin:top;"),zce=I("div",{target:"eik0d700"})("position:relative;border:0.1rem solid white;flex:1;min-height:200px;max-height:100vw;transition:300ms;background:",e=>e.color,";");function wR({isVisible:e,isMicOn:t,isConnected:n}){const[r,i]=v.useState(0),[o,s]=v.useState(0),[a]=$o(ee.remoteMicPlayerSet,!0)??[null],l=v.useCallback(qc((c,u)=>{s(c),i(u)},150),[i,s]);return v.useEffect(()=>(yo.startMonitoring(void 0),yo.addListener(l)),[l]),e?f.jsx(f.Fragment,{children:f.jsx(Dce,{volume:r,frequency:o,playerNumber:a,isMicOn:t,isConnected:n})}):null}function Uce({}){const[e,t]=v.useState(0);return v.useEffect(()=>{const n=setInterval(()=>{const r=Fr();dn.pinging&&r-dn.pingStart>e?t(r-dn.pingStart):t(dn.latency)},333);return()=>{clearInterval(n)}},[]),f.jsxs(f.Fragment,{children:[e,"ms"]})}function Hce({roomId:e,monitoringStarted:t,setMonitoringStarted:n,isKeepAwakeOn:r,setIsKeepAwakeOn:i,connectionError:o,connectionStatus:s}){const a=Nv(),[l,c]=v.useState(!1),[u]=Ue(px),d=async()=>{var g,m;i(!0);try{!ple()&&u&&(await document.body.requestFullscreen(),global.screen.orientation.unlock(),await((m=(g=global.screen.orientation).lock)==null?void 0:m.call(g,"portrait")))}catch(b){console.warn(b)}},h=s==="connected",p=f.jsx(wR,{isVisible:!0,isMicOn:t,isConnected:h});return f.jsx(Gce,{children:f.jsxs(Lh,{showImages:!1,fallback:f.jsxs(f.Fragment,{children:[p,f.jsx("h2",{children:"Please allow access to the microphone."})]}),children:[f.jsxs(ER,{collapse:l,children:[f.jsx(wR,{isVisible:!0,isMicOn:t,isConnected:h}),f.jsx(Yle,{roomId:e,isVisible:!0,connectionStatus:s,onConnect:d,connectionError:o})]}),f.jsxs(ER,{children:[a==="write"&&f.jsx(Tce,{onSearchStateChange:c}),a==="read"&&f.jsxs(qce,{"data-test":"no-permissions-message",children:["No permission to control the game. Go to in-game ",f.jsx("strong",{children:"Settings"})," menu ➔"," ",f.jsx("strong",{children:"Remote Microphones Settings"})," to manage them."]}),f.jsxs(kR,{onClick:()=>i(!r),children:["WakeLock: ",f.jsx("strong",{children:r?"ON":"OFF"})]}),f.jsxs(kN,{onClick:()=>t?yo.stopMonitoring():yo.startMonitoring(void 0),children:["Microphone: ",f.jsx("strong",{"data-test":"monitoring-state",children:t?"ON":"OFF"})]}),h&&f.jsxs(kR,{children:["Ping: ",f.jsx(Uce,{})]})]})]})})}const Gce=I("div",{target:"eakh27i4"})({name:"15sh5r0",styles:"font-size:2.6rem;display:flex;flex-direction:column;gap:2rem;padding:1.5rem;box-sizing:border-box;@media (max-height: 500px) and (min-aspect-ratio: 16/10){flex-direction:row;}h5{margin-top:0.5em;svg{font-size:0.9em;}}"}),ER=I("div",{target:"eakh27i3"})("flex:1;transition:300ms ease-in-out;margin-top:",e=>e.collapse?"-100%":"0",";@media (max-height: 500px) and (min-aspect-ratio: 16/10){margin-top:0;display:flex;flex-direction:column;justify-content:center;}"),kN=I("div",{target:"eakh27i2"})(Fe," strong{color:",he.colors.text.active,";}align-self:flex-end;"),kR=I(kN,{target:"eakh27i1"})(""),qce=I("h5",{target:"eakh27i0"})({name:"1s76ut5",styles:"padding-bottom:5rem"});function Wce({onConfirm:e}){const[t,n]=v.useState(!1),[r,i]=v.useState(!1);v.useEffect(()=>{Ve.session.getItem("reload-mic-request")!==null&&i(!0)},[]),Tr(ee.remoteMicPlayerSet,()=>{r&&(i(!1),n(!0))}),Tr(ee.remoteReadinessRequested,()=>{n(!0)});const o=()=>{dn.confirmReadiness(),n(!1),e()};return t?f.jsx(Kce,{children:f.jsx(uo,{children:f.jsx(Yce,{"data-test":"ready-button",onClick:o,children:"Ready"})})}):null}const Kce=I("div",{target:"eusdifu1"})({name:"1b0uzsn",styles:"display:flex;flex-direction:column;align-items:center;justify-content:center;position:absolute;top:0;left:0;width:100%;height:100%;backdrop-filter:blur(10px);z-index:1000"}),Yce=I(Re,{target:"eusdifu0"})("aspect-ratio:1;",yu,";");function CN({unit:e="",value:t,onChange:n,step:r=50,disabled:i=!1,...o}){return f.jsxs(Jce,{...o,children:[f.jsx(CR,{onClick:()=>n(t-r),disabled:i,"data-test":"numeric-input-down",children:"-"}),f.jsxs(Qce,{children:[f.jsx("strong",{"data-test":"numeric-input-value",children:t}),e]}),f.jsx(CR,{onClick:()=>n(t+r),disabled:i,"data-test":"numeric-input-up",children:"+"})]})}const CR=I("button",{target:"e1tear4c2"})("background:black;padding:0.5rem 2rem;border:none;font-size:3rem;",Fe,";:disabled{opacity:0.5;}"),Qce=I("div",{target:"e1tear4c1"})({name:"2qd0l8",styles:"flex:1;text-align:center"}),Jce=I("div",{target:"e1tear4c0"})(Fe,";display:flex;align-items:center;justify-self:center;background:black;");function Xce({}){const[e,t]=v.useState(0),[n,r]=v.useState(!1);v.useEffect(()=>{r(!0),dn.getGameInputLag().then(({value:o})=>t(o)).catch(o=>console.warn(o)).finally(()=>r(!1))},[]);const i=o=>{r(!0),dn.setGameInputLag(o).then(({value:s})=>t(s)).catch(s=>console.warn(s)).finally(()=>r(!1))};return f.jsxs(f.Fragment,{children:[f.jsx("h3",{children:"Adjust game input lag"}),f.jsx(CN,{value:e,onChange:i,disabled:n,unit:"ms","data-test":"game-input-lag"}),f.jsx("h6",{children:"If the sound is not synchronised with the lyrics, use this to compensate it."})]})}function Zce(e){v.useEffect(()=>(dn.subscribe("remote-mics"),()=>{dn.unsubscribe("remote-mics")}),[]);const[t]=$o(ee.remoteMicListUpdated)??[[]];return f.jsxs(f.Fragment,{children:[f.jsx("h3",{children:"Manage Players"}),t.map(n=>f.jsx(eue,{mic:n},n.id)),t.length===0&&f.jsx("h4",{children:"No remote microphones connected"})]})}const eue=({mic:e})=>{var r;const[t,n]=v.useState(!1);return Ze.getPermission(e.id),f.jsxs(tue,{"data-test":"manage-players",children:[t&&f.jsx(wN,{id:e.id,playerNumber:e.number,onModalClose:()=>n(!1),header:f.jsxs(f.Fragment,{children:["Change ",f.jsx("strong",{className:"ph-no-capture",children:e.name}),":"]})}),f.jsxs(nue,{onClick:()=>n(!0),"data-test":"remote-mic-entry","data-id":e.id??e.name,size:"small",children:[f.jsx(EN,{number:e.number}),f.jsx(iue,{children:((r=e.id)==null?void 0:r.slice(-4))??"????"}),f.jsx(rue,{className:"ph-no-capture",isSelf:e.id===dn.getClientId(),children:e.name})]})]})},tue=I("div",{target:"e1sg8znb3"})({name:"4zk4ri",styles:"display:flex;flex-direction:column;gap:1rem"}),nue=I(Re,{target:"e1sg8znb2"})({name:"1n950nl",styles:"display:flex;align-items:center;padding:0 2rem"}),rue=I("div",{target:"e1sg8znb1"})("color:",e=>e.isSelf?`${he.colors.text.active}`:"auto",";text-overflow:ellipsis;overflow:hidden;white-space:nowrap;"),iue=I("span",{target:"e1sg8znb0"})({name:"dcs29c",styles:"font-size:1.5rem;padding:0 1rem"});function TR(){const[e,t]=Ue(Dj),[n,r]=v.useState(!1);v.useEffect(()=>{r(!0),dn.getMicrophoneInputLag().then(({value:s})=>t(s)).catch(s=>console.warn(s)).finally(()=>r(!1))},[]);const i=s=>{r(!0),dn.setMicrophoneInputLag(s).then(({value:a})=>t(a)).catch(a=>console.warn(a)).finally(()=>r(!1))},o=()=>{var s;dn.disconnect(),Ve.local.removeItem("remote_mic_name"),Ve.local.removeItem(X1),(s=global.location)==null||s.reload()};return f.jsxs(f.Fragment,{children:[f.jsx(Re,{onClick:o,size:"small","data-test":"reset-microphone",children:"Reset microphone"}),f.jsxs("h6",{children:[f.jsx("strong",{children:"Note:"})," removes all persisted microphone data (your name, ID etc.)"]}),f.jsx("hr",{}),f.jsx("h3",{children:"Adjust microphone lag"}),f.jsx(CN,{value:e,onChange:i,unit:"ms",disabled:n,step:25,"data-test":"microphone-delay"}),f.jsx("h6",{children:"Adjust the microphone input delay (e.g. if the game doesn't detect you hitting the note on time)"})]})}function oue(){var r;const e=Nv(),[t,n]=v.useState(e==="write"?null:"microphone");return f.jsxs(sue,{children:[f.jsxs("h3",{children:["Remote mic ID:"," ",f.jsx("strong",{"data-test":"remote-mic-id",children:((r=dn.getClientId())==null?void 0:r.slice(-4).toUpperCase())??"----"})]}),f.jsx("hr",{}),e==="write"&&t===null&&f.jsxs(f.Fragment,{children:[f.jsx(Re,{onClick:()=>n("microphone"),size:"small","data-test":"microphone-settings",disabled:t==="microphone",children:"Microphone settings"}),f.jsx(Re,{onClick:()=>n("manage"),size:"small","data-test":"manage-game",disabled:t==="manage",children:"Manage the game"})]}),e!=="write"&&f.jsx(TR,{}),t!==null&&e==="write"&&f.jsx(tc,{onClose:()=>n(null),children:f.jsxs(uo,{children:[f.jsx(aue,{children:t==="microphone"?"Microphone settings":"Manage game"}),t==="microphone"&&f.jsx(TR,{}),t==="manage"&&f.jsxs(f.Fragment,{children:[f.jsx(Zce,{}),f.jsx(Xce,{})]}),f.jsx("hr",{}),f.jsx(Re,{onClick:()=>n(null),size:"small","data-test":"close-modal",children:"Close"})]})})]})}const sue=I("div",{target:"edoha0h1"})({name:"10ti2i0",styles:"flex-grow:1;font-size:2.6rem;display:flex;flex-direction:column;justify-content:center;padding:5rem 1.5rem 1.5rem;box-sizing:border-box;gap:1rem"}),aue=I("h1",{target:"edoha0h0"})({name:"bvcr5v",styles:"font-size:3.25rem!important"});var lue="__lodash_hash_undefined__";function cue(e){return this.__data__.set(e,lue),this}function uue(e){return this.__data__.has(e)}function oh(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new zs;++t<n;)this.add(e[t])}oh.prototype.add=oh.prototype.push=cue;oh.prototype.has=uue;function due(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function TN(e,t){return e.has(t)}var fue=1,hue=2;function IN(e,t,n,r,i,o){var s=n&fue,a=e.length,l=t.length;if(a!=l&&!(s&&l>a))return!1;var c=o.get(e),u=o.get(t);if(c&&u)return c==t&&u==e;var d=-1,h=!0,p=n&hue?new oh:void 0;for(o.set(e,t),o.set(t,e);++d<a;){var g=e[d],m=t[d];if(r)var b=s?r(m,g,d,t,e,o):r(g,m,d,e,t,o);if(b!==void 0){if(b)continue;h=!1;break}if(p){if(!due(t,function(y,A){if(!TN(p,A)&&(g===y||i(g,y,n,r,o)))return p.push(A)})){h=!1;break}}else if(!(g===m||i(g,m,n,r,o))){h=!1;break}}return o.delete(e),o.delete(t),h}function pue(e){var t=-1,n=Array(e.size);return e.forEach(function(r,i){n[++t]=[i,r]}),n}function uE(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var gue=1,mue=2,vue="[object Boolean]",yue="[object Date]",Aue="[object Error]",bue="[object Map]",_ue="[object Number]",xue="[object RegExp]",Sue="[object Set]",wue="[object String]",Eue="[object Symbol]",kue="[object ArrayBuffer]",Cue="[object DataView]",IR=Zi?Zi.prototype:void 0,xA=IR?IR.valueOf:void 0;function Tue(e,t,n,r,i,o,s){switch(n){case Cue:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case kue:return!(e.byteLength!=t.byteLength||!o(new lm(e),new lm(t)));case vue:case yue:case _ue:return C0(+e,+t);case Aue:return e.name==t.name&&e.message==t.message;case xue:case wue:return e==t+"";case bue:var a=pue;case Sue:var l=r&gue;if(a||(a=uE),e.size!=t.size&&!l)return!1;var c=s.get(e);if(c)return c==t;r|=mue,s.set(e,t);var u=IN(a(e),a(t),r,i,o,s);return s.delete(e),u;case Eue:if(xA)return xA.call(e)==xA.call(t)}return!1}var Iue=1,Rue=Object.prototype,Pue=Rue.hasOwnProperty;function Mue(e,t,n,r,i,o){var s=n&Iue,a=nb(e),l=a.length,c=nb(t),u=c.length;if(l!=u&&!s)return!1;for(var d=l;d--;){var h=a[d];if(!(s?h in t:Pue.call(t,h)))return!1}var p=o.get(e),g=o.get(t);if(p&&g)return p==t&&g==e;var m=!0;o.set(e,t),o.set(t,e);for(var b=s;++d<l;){h=a[d];var y=e[h],A=t[h];if(r)var x=s?r(A,y,h,t,e,o):r(y,A,h,e,t,o);if(!(x===void 0?y===A||i(y,A,n,r,o):x)){m=!1;break}b||(b=h=="constructor")}if(m&&!b){var S=e.constructor,_=t.constructor;S!=_&&"constructor"in e&&"constructor"in t&&!(typeof S=="function"&&S instanceof S&&typeof _=="function"&&_ instanceof _)&&(m=!1)}return o.delete(e),o.delete(t),m}var jue=1,RR="[object Arguments]",PR="[object Array]",Lp="[object Object]",Oue=Object.prototype,MR=Oue.hasOwnProperty;function Vue(e,t,n,r,i,o){var s=to(e),a=to(t),l=s?PR:Of(e),c=a?PR:Of(t);l=l==RR?Lp:l,c=c==RR?Lp:c;var u=l==Lp,d=c==Lp,h=l==c;if(h&&am(e)){if(!am(t))return!1;s=!0,u=!1}if(h&&!u)return o||(o=new as),s||uO(e)?IN(e,t,n,r,i,o):Tue(e,t,l,n,r,i,o);if(!(n&jue)){var p=u&&MR.call(e,"__wrapped__"),g=d&&MR.call(t,"__wrapped__");if(p||g){var m=p?e.value():e,b=g?t.value():t;return o||(o=new as),i(m,b,n,r,o)}}return h?(o||(o=new as),Mue(e,t,n,r,i,o)):!1}function dE(e,t,n,r,i){return e===t?!0:e==null||t==null||!Ms(e)&&!Ms(t)?e!==e&&t!==t:Vue(e,t,n,r,dE,i)}var Lue=1,Nue=2;function $ue(e,t,n,r){var i=n.length,o=i,s=!r;if(e==null)return!o;for(e=Object(e);i--;){var a=n[i];if(s&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++i<o;){a=n[i];var l=a[0],c=e[l],u=a[1];if(s&&a[2]){if(c===void 0&&!(l in e))return!1}else{var d=new as;if(r)var h=r(c,u,l,e,t,d);if(!(h===void 0?dE(u,c,Lue|Nue,r,d):h))return!1}}return!0}function RN(e){return e===e&&!Lo(e)}function Due(e){for(var t=Sh(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,RN(i)]}return t}function PN(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}function Bue(e){var t=Due(e);return t.length==1&&t[0][2]?PN(t[0][0],t[0][1]):function(n){return n===e||$ue(n,e,t)}}function Fue(e,t,n){var r=e==null?void 0:gS(e,t);return r===void 0?n:r}function zue(e,t){return e!=null&&t in Object(e)}function Uue(e,t,n){t=F0(t,e);for(var r=-1,i=t.length,o=!1;++r<i;){var s=wh(t[r]);if(!(o=e!=null&&n(e,s)))break;e=e[s]}return o||++r!=i?o:(i=e==null?0:e.length,!!i&&qx(i)&&Kx(s,i)&&(to(e)||oS(e)))}function Hue(e,t){return e!=null&&Uue(e,t,zue)}var Gue=1,que=2;function Wue(e,t){return hS(e)&&RN(t)?PN(wh(e),t):function(n){var r=Fue(n,e);return r===void 0&&r===t?Hue(n,e):dE(t,r,Gue|que)}}function Kue(e){return function(t){return t==null?void 0:t[e]}}function Yue(e){return function(t){return gS(t,e)}}function Que(e){return hS(e)?Kue(wh(e)):Yue(e)}function Jue(e){return typeof e=="function"?e:e==null?EO:typeof e=="object"?to(e)?Wue(e[0],e[1]):Bue(e):Que(e)}function Xue(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function Zue(e){return e!==e}function ede(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}function tde(e,t,n){return t===t?ede(e,t,n):Xue(e,Zue,n)}function nde(e,t){var n=e==null?0:e.length;return!!n&&tde(e,t,0)>-1}function rde(e,t,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function ide(){}var ode=1/0,sde=Kc&&1/uE(new Kc([,-0]))[1]==ode?function(e){return new Kc(e)}:ide,ade=200;function MN(e,t,n){var r=-1,i=nde,o=e.length,s=!0,a=[],l=a;if(n)s=!1,i=rde;else if(o>=ade){var c=t?null:sde(e);if(c)return uE(c);s=!1,i=TN,l=new oh}else l=t?[]:a;e:for(;++r<o;){var u=e[r],d=t?t(u):u;if(u=n||u!==0?u:0,s&&d===d){for(var h=l.length;h--;)if(l[h]===d)continue e;t&&l.push(d),a.push(u)}else i(l,d,n)||(l!==a&&l.push(d),a.push(u))}return a}function lde(e,t){return e&&e.length?MN(e,Jue(t)):[]}const cde="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='810'%20height='540'%3e%3crect%20width='810'%20height='540'%20fill='%23FCDD09'/%3e%3cpath%20stroke='%23DA121A'%20stroke-width='60'%20d='M0,90H810m0,120H0m0,120H810m0,120H0'/%3e%3c/svg%3e";function ude(){const e=new Intl.DisplayNames(["en"],{type:"language"}),t={};for(let r=0;r<26;r++)for(let i=0;i<26;i++){let o=String.fromCharCode(97+r)+String.fromCharCode(97+i),s=e.of(o);s!==o&&s!==void 0&&(t[s]=o)}return{...t,...{Akan:"ak",Hebrew:"he",Indonesian:"id",Javanese:"jv",Romanian:"ro",Yiddish:"yi",Tagalog:"tl",English:"gb",Korean:"kr",Swedish:"se",Latin:"va",Japanese:"jp",Catalan:"cat",Ukrainian:"ua"}}}const dde=ude();function jN(e){return dde[e]}const fde=Object.assign({"./Flag/flags/cat.svg":cde}),ru=e=>{var o;const[t,n]=v.useState(null),r="isocode"in e?(o=e.isocode)==null?void 0:o.toLowerCase():jN(Array.isArray(e.language)?e.language[0]:e.language);if(v.useLayoutEffect(()=>{r&&n(null)},[r]),!r)return null;const i=fde[`./Flag/flags/${r}.svg`];return f.jsx(hde,{"data-isocode":r,src:i??`https://flagcdn.com/${t??r}.svg`,alt:r,...e,onError:()=>n("un")})},hde=I("img",{target:"e1k9lqhf0"})("");function Yu(e=!1){const[t,n]=v.useState(eo.getCurrentIndex()),r=v.useRef([]),i=()=>eo.getIndex(e).then(n);return v.useEffect(()=>{i()},[]),{data:t??r.current,reload:i,isLoading:t===null}}const jR=()=>({width:global.document.body.clientWidth,height:global.visualViewport.height});function Bh(){const[e,t]=v.useState(jR()),n=v.useCallback(qc(()=>{t(jR())},1e3),[]);return v.useEffect(()=>(global.addEventListener("resize",n),n(),()=>global.removeEventListener("resize",n)),[]),{...e,handleResize:n}}function ON(){const{width:e,height:t}=Bh();return v.useMemo(()=>parseFloat(getComputedStyle(document.documentElement).fontSize),[e,t])}function pde(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function gde(...e){return t=>e.forEach(n=>pde(n,t))}var VN=v.forwardRef((e,t)=>{const{children:n,...r}=e,i=v.Children.toArray(n),o=i.find(vde);if(o){const s=o.props.children,a=i.map(l=>l===o?v.Children.count(s)>1?v.Children.only(null):v.isValidElement(s)?s.props.children:null:l);return f.jsx(y_,{...r,ref:t,children:v.isValidElement(s)?v.cloneElement(s,void 0,a):null})}return f.jsx(y_,{...r,ref:t,children:n})});VN.displayName="Slot";var y_=v.forwardRef((e,t)=>{const{children:n,...r}=e;if(v.isValidElement(n)){const i=Ade(n);return v.cloneElement(n,{...yde(r,n.props),ref:t?gde(t,i):i})}return v.Children.count(n)>1?v.Children.only(null):null});y_.displayName="SlotClone";var mde=({children:e})=>f.jsx(f.Fragment,{children:e});function vde(e){return v.isValidElement(e)&&e.type===mde}function yde(e,t){const n={...t};for(const r in t){const i=e[r],o=t[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...a)=>{o(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}function Ade(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function bde(e,t){const n={},r=Object.keys(e);for(let i=0;i<r.length;i++){const o=r[i];t(o)&&(n[o]=e[o])}return n}const _de=(e={})=>{const t=e.compose||At,n=e.shouldForwardProp||(i=>i[0]!=="$"),r=i=>{const o=(s,a=n)=>{const l=(c,...u)=>{const d=typeof c=="function",h=!d&&String.raw({raw:c},...u);return v.forwardRef((p,g)=>{const{className:m,asChild:b,...y}=p,A=typeof s=="function"?s(p):s||{},x=bde({...A,...y},a),S=b?VN:i,_=d?c(p):h;return v.createElement(S,{ref:g,className:typeof _=="function"?w=>t(_(w),typeof m=="function"?m(w):m):t(_,m),...x})})};return l.transientProps=c=>o(s,typeof c=="function"?d=>!c(d):d=>!c.includes(d)),s===void 0&&(l.attrs=c=>o(c)),l};return o()};return new Proxy(i=>r(i),{get(i,o){return r(o)}})},Qu=_de();var fE={},xde=rt;Object.defineProperty(fE,"__esModule",{value:!0});var uf=fE.default=void 0,Sde=xde(ut()),wde=f;uf=fE.default=(0,Sde.default)((0,wde.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2m-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckBox");var hE={},Ede=rt;Object.defineProperty(hE,"__esModule",{value:!0});var df=hE.default=void 0,kde=Ede(ut()),Cde=f;df=hE.default=(0,kde.default)((0,Cde.jsx)("path",{d:"M19 5v14H5V5zm0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2"}),"CheckBoxOutlineBlank");function Tde(e){return String(e).match(/[\d.\-+]*\s*(.*)/)[1]||""}function Ide(e){return parseFloat(e)}function LN(){const e=soe(pV);return e[gm]||e}const Rde=["theme"];function Pde(e){let{theme:t}=e,n=Pt(e,Rde);const r=t[gm];return f.jsx(moe,re({},n,{themeId:r?gm:void 0,theme:r||t}))}const OR=e=>{let t;return e<1?t=5.11916*e**2:t=4.5*Math.log(e+1)+2,(t/100).toFixed(2)};function Mde(e){return Rr("MuiSkeleton",e)}Pr("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);const jde=["animation","className","component","height","style","variant","width"];let qm=e=>e,VR,LR,NR,$R;const Ode=e=>{const{classes:t,variant:n,animation:r,hasChildren:i,width:o,height:s}=e;return Hr({root:["root",n,r,i&&"withChildren",i&&!o&&"fitContent",i&&!s&&"heightAuto"]},Mde,t)},Vde=Va(VR||(VR=qm`
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0.4;
  }

  100% {
    opacity: 1;
  }
`)),Lde=Va(LR||(LR=qm`
  0% {
    transform: translateX(-100%);
  }

  50% {
    /* +0.5s of delay between each loop */
    transform: translateX(100%);
  }

  100% {
    transform: translateX(100%);
  }
`)),Nde=Qt("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],n.animation!==!1&&t[n.animation],n.hasChildren&&t.withChildren,n.hasChildren&&!n.width&&t.fitContent,n.hasChildren&&!n.height&&t.heightAuto]}})(({theme:e,ownerState:t})=>{const n=Tde(e.shape.borderRadius)||"px",r=Ide(e.shape.borderRadius);return re({display:"block",backgroundColor:e.vars?e.vars.palette.Skeleton.bg:loe(e.palette.text.primary,e.palette.mode==="light"?.11:.13),height:"1.2em"},t.variant==="text"&&{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:`${r}${n}/${Math.round(r/.6*10)/10}${n}`,"&:empty:before":{content:'"\\00a0"'}},t.variant==="circular"&&{borderRadius:"50%"},t.variant==="rounded"&&{borderRadius:(e.vars||e).shape.borderRadius},t.hasChildren&&{"& > *":{visibility:"hidden"}},t.hasChildren&&!t.width&&{maxWidth:"fit-content"},t.hasChildren&&!t.height&&{height:"auto"})},({ownerState:e})=>e.animation==="pulse"&&xi(NR||(NR=qm`
      animation: ${0} 2s ease-in-out 0.5s infinite;
    `),Vde),({ownerState:e,theme:t})=>e.animation==="wave"&&xi($R||($R=qm`
      position: relative;
      overflow: hidden;

      /* Fix bug in Safari https://bugs.webkit.org/show_bug.cgi?id=68196 */
      -webkit-mask-image: -webkit-radial-gradient(white, black);

      &::after {
        animation: ${0} 2s linear 0.5s infinite;
        background: linear-gradient(
          90deg,
          transparent,
          ${0},
          transparent
        );
        content: '';
        position: absolute;
        transform: translateX(-100%); /* Avoid flash during server-side hydration */
        bottom: 0;
        left: 0;
        right: 0;
        top: 0;
      }
    `),Lde,(t.vars||t).palette.action.hover)),$de=v.forwardRef(function(t,n){const r=Mr({props:t,name:"MuiSkeleton"}),{animation:i="pulse",className:o,component:s="span",height:a,style:l,variant:c="text",width:u}=r,d=Pt(r,jde),h=re({},r,{animation:i,component:s,variant:c,hasChildren:!!d.children}),p=Ode(h);return f.jsx(Nde,re({as:s,ref:n,className:At(p.root,o),ownerState:h},d,{style:re({width:u,height:a},l)}))}),Dde=$de,Bde="data:image/gif;base64,R0lGODlhiQAzAOflAAABAAYAAAACAAcAAAkBAAoDAQsEAxAFABEHABIIABMKABgJAhQLAhsLABwNACANAR0OACEOAyMPACMQACcPACgQASgRAioSACsTACwTACwUAC8WAC4WAzAWADQVADUXATYYAjgYADkZADoaADobAD8aAzscAUEbAD4dAEMdAEUeAkAgAEYfAEUfA0ghAE4hAksjAU8iAFEjAFIkAFMlAFQmAVsmAFcoAFwnAF0oAF8qAmEqAGIrAGMsAGksAWUuAGotAmAwDWwuAGsuA20vAF0zDm4wAG8xAHEyAHIzAXgyAHM0AnU1AHo0AHY2AHw1AH43AIA5AoE6AIM7AIQ8AIk7AIU9AIs8AIc+AIw9AI0+AY4+ApFAAJJBAJNCAJRDAJpCAZVEAJtDAp1EAJxEA55FAKBHAKFIAKJJAKhIAaRKAKVLAKtKAKxLAI5RI5BRJK9NALBOALFPALJQALNRALlQBLtRALxSAL1TAL9UAMFWAMJXAMRYArlbCsZZAMVZA8xYAMhaAM9aANFcAdNdAtVfAMpiDddgAN1fANhhAN9hANljAOFiAeNkAOJkA91mAONlBN5nAdhoDeVmAOdoAO5mAOJqB+9nAOlpAPBpAfFqA654SvNrAOduDvRsAPZtAN5yGONxGvduANh0IPFwB/hvAOtxE+B0Gt90I/lwAOxyFPNxCu5zBud0EvRyANt2Is54Ndp2Krt8S+B1JM95L9V4Ked0HeF2G/txAO1zFvRyDOh1E9x3I895NtV4ML19Rsp7NcN8Qbx9TMl7O8J8R9Z5Kq6AW8h7QrZ/ULh/S7V/VsV9O75+R8t8NsR9QqmCYKeCZpqFcLGBVq+BXJGHe4+HgbeAUaOEZqGEbLaAV6CEcauDXKqDYZuGcZmGd42Ih5KIfJCIgpSId4iKh4uKgv///////////////////////////////////////////////////////////////////////////////////////////////////////////yH5BAEIAP8ALAAAAACJADMAAAj+AP8JHEiwoMGDCBMqXMiwocOHECMSHEexosWLGDNq3Mixo8ePIDtKHPhtGK6TKFOqXInrGcuXMGPKnEmzpspU40YKHBdryICfQIMKFVpHFq6hSJOWSMq0qdOnUH8S8PRN579vrFwI2Mq1q9euALbAwvW1bFkAI8yqXcsWbFu1AArgyqkTHK4Ib8v+sEU279cSfgO3HSAYLFWd35RNKryVAIZUfQujZUy5stu5OsfxCkMZgABFNkOLHk065eGR13ClsBxllbdvsL8h04N0S6/YuIXVifrzyu1vsnbz9g1bt1ANqWDbwiHUd0Wd0PR4rozgUbiB43qRKdtDFV3sxbD+BNbBiiKtLoF7tKLoS3zXAqKwkXMFwquOXFWtpsYF5WsClX6UpQcuroAzUDWr5FDWBLhg89034aQiQ2ARNBgOKTf4BUAFuHgTIQ1dDQCAH8dM8wkBXjHooFWwBdOfVwmsEhs2gJTlh4P5/ROMJgicBUgsOY4zDCaCAQAIL8m40mNgg9CyDCYGfPWEK62c4RUARgJp1VUu+rcKXdgE+BUg2BTETBRmAeBCLA8Ow0SRKsQCyxaBEUCADry4+ZVni7SCAVhYxvndSN8Q82JXMeZHo4DQFBQMLpQIiMsoOX5zDC5iclVCSkZ4BQYuvADzA1cIgNEIBF4tkgaqnqWAijP+J6HJFQ246BIKLrJuRSuoOY40TpchGqALmJlyBYAeZU5kjR5lddELRdh9E6ZXJcwC2zCddgWGMt/A8skEAgyQxyqsoMrVAJioMkgBAjCACS/jfBOMIMYykAo21aQC2FYAqFHMN9BaNY6hXzEgI0WLfoVsQZaKUZYOp/QqUMJcoTALRdh6FQYy45BjChgCuJDKNbng1RUn2qSSIRarhFNVN3cZC4gwz2jiVSXTSOwrsF0JK+0woBTLFZkFjVPMEmV5UAo5Bk17rgnWCpntVgNs+8841mACQBdAmmIuV5iE40saAAzCDF3j7HKEsVjkOcfTuFy35U4Ee2UwLZj+8MH+nnpcU7QpE3pFmCfaNF1jVylcXNLUAgAABjICRRiBHMlgZTJXl4CzjR8G4NINScPg0ZUKnqhtLBjwzr0Tz1wJq0kOKJq18ESuVHCWHxwX5DS/UAuzSyqMOw75VbugYAg037Ty9VaYeIONJRsMS9I1qSy5lSa4/MmvIskMKnDdXTFQCQeNq/WH3wRF80lZIpoxjMQUb1XtJ1eA66kyO51SBCrdWO7VJeEIxy2CYItejYMUODCWHhoxHQF4oEOqW92huhICtgxgdgPhxiL25JkhXEx3QjMBJUhwlscJ5Bu0cAMt4lUusGACHChU4aBQCIdwYckJZuhKFE7hve9NsDH+hPnKB6IwB0VkAhfoo1sNzUICV8DvcFQDgQgAEESN4e8qwthE975histthRPgGEcWhWHAbVyCXZ4hAYi4Mghi6CwzrOOXVwjQg0XgwhbMeIaHBjUOWFxBLQZIxecIsrtwyZFqLwjDIDCRiuH9bXkCuIQ3FEKOVLjAMwMoQAK4UqFBRnBgP/wKDBaRClh4I2AG+cYpdPAerxBiGoOK31dUMIhUxMIa2qDGG/3XlUbIDSHfqAXIyrIE/ERQgmopgBlwUYtT9nAiuiAhV0bFFQKk4RixFFpXmJAKXvTvmSRR3rkE8EKFyCZSX7mgM8DpK/B5BQF/SAW32DmQcOBiAV3+SYP2GrcEXvRKll2hwSe8CTBzsuJyVOTELxECDlHUx26pQN4xrxZHroxrRQ25Bjq5kggfjO5LhNTmuUggCFsioxthPAhWvuaZzC1kHKegguB6UJ6JXs2dXImCK6BBz4lIg1lcKcAn1HAuBpRikgMBaIgEAANFVsITslBpF70StoUUil5ekcNtbPqrUCIgFcx4IzCdkUOuiMAVjQBLI54RUq98IC3GEhEACLCxg4zDazcz0EK0cU+waIIbPY0IKAt2GofwJAld+cEpcGE/Ec2BGN+RpQkqsRpj8YsMV2TYQUNU1ZeuApK4EKvA4ggAYQV2IqoIXOPAkApNsLJxAKD+ApuSWqwBmGAUougCBqq4WkcSJHmQrIReDbo8AmCGqzhtly5Ea1dX2I9fBmCA9QQQg1bkSJaJk0UrgGdFlW72XJ01Z8nAElqbUnSChDEtRLyRitgZq4FbqdAvCwmAEvhTaiEyYSpb2BXhMmQc/KXacRuykaIl12DMNcg2EPEWAFyCrROD4lagdi3GCSAMmf3tVMG7UGBumF/l/W9iZqEJT5g4F8dIKXYqql6HfCMZcmgwHYRBrK4Q4LYAy9i59PvIvP4Xr+cacELGEQ5epGINKDCAASywBEzkgqfYObCMHtLHP3IlCSlZG1e6QAtFSbi+UdMxVzDsXS+iq8Nl9kr+iM0Zi0yoAL4DWIAePHFKZHqlxQQeRQ+09b6SOMyGOlgPwkJ4XzGH63GovApw80pP2IgzyIk2yDikkYoVYIkAVAyiAQpxi/wM1m5T/m+8dGGCrszBGhRRRrE0QJVupULCA9iULnKBCwuHoRQFJMh+zIyJUkQ1IbtWMy4ynEpbkAFLsMVk40yAi2jYuWfSY4ilTsIAYx0iF7k4BSkyYSyh4iIWwNiz4AiwiE5AcgAEAAEPdX2HstDVtwaBRh3SOYAxwLsglXxo+cBCgEHgjyJSLqhVh7GEnxgLAhGQBCg2UO24qoAXvdjglW6Qily4Byx0sBZBoIGLUoeIAZ4gdkH+XLI3r0BAFCInCDVEARcqhuEX/4DGME4RSgN4YhjCkPYyzhgiACyBFacg6lf+wAv2ltyQ1qSFMCTulVQAdiKn8MKVgBBthMDUysYyQk0TEo6NpukKOcdGH36wAf/84Aowt2o4XLFGOQLiGMrIhHu3wiFtwNTCAqDENtjbcK6koGUMs8YgrmQGYDD3G8LQZhrepxBqrI8tYoD5NUzxXGOhKA05NydFakGnpuPLFUdv3A92ca0/kyoV4vgGKSrLLyPAyyKw6cbjZSYNj2Bj9myEZUZIkorQl6UQ+PuGKmS6JwjgYhtWPUkq3taVDaQkgTpMSbu7woGUZKgrV4hJFZ7+wH3uY6ImqaBC95/gBMisJDnYOcV21IKCZl/tF4lgnxFI0dNx4AK+VEM2b8NFgJ9Ik978dyVDkWlyhSUGCBWNU4AEiBQ4QRLWkAqs906C8EH/wF749BVrwHjmRBb7J0f41xX7AheWkRdUlCZ7UlhXMwqXEIFbgQB6oAt1dhWkoALpNAiwlHwmuBaTMYKScSUaIgBCBiGjkApmsAIIUAAVwASUoAvXUCm8gHdAiFQbWBkhyIOB0YEkaHMSQxHSgAqrkAqukAqt4AzVMEPLABOB9Q2lgQvmt4Zu+IbPBBvxghsSQ4d0GC8iZod6qIdzuId++IeAGBt9GIh22IfmdYgGiJiIEBEQADs=",Fde="/assets/logo-1e2sNsQM.mp4",zde="/assets/logo-CDt7pIML.webm",Ude="/assets/pride-CMcO3nTB.png";var pM;(pM=global.location)!=null&&pM.search.includes("pride")&&Ve.session.setItem("pride","true");function pE(e){const[t]=Ue(yr);return t?null:f.jsxs("div",{className:"relative h-[16.4rem] [view-transition-name:logo]",children:[Ve.session.getItem("pride")==="true"&&f.jsx(DR,{asChild:!0,children:f.jsx("img",{className:"absolute",src:Ude,alt:"AllKaraoke Pride logo part 1"})}),f.jsxs(DR,{...e,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,children:[f.jsx("source",{src:zde,type:"video/webm"}),f.jsx("source",{src:Fde,type:"video/mp4"})]}),f.jsx("img",{className:"absolute w-[13.7rem] h-[5.1rem] bottom-[-0.5rem] right-[-1rem]",src:Bde,alt:"AllKaraoke Pride logo part 2"})]})}const DR=Qu.video`w-[66rem] h-[16.4rem]`;function gE(){return"chrome"in window}function Hde(){return f.jsx(f.Fragment,{children:!gE()&&f.jsxs(Gde,{children:[f.jsxs("h2",{children:["This game is tested in ",f.jsx("strong",{children:"Google Chrome"})," and ",f.jsx("strong",{children:"MS Edge"}),"."]}),"It's not guaranteed to work on other browsers (like the one you use now)."]})})}const Gde=I("div",{target:"e95w1v80"})("width:100%;",Fe,";text-align:center;background:darkred;padding:3rem 0;margin-top:1rem;h2{margin-top:0;}strong{color:",he.colors.text.active,";}");function NN(){return f.jsx(f.Fragment,{children:f.jsx(qde,{href:"https://github.com/Asvarox/allkaraoke","aria-label":"View source on GitHub",target:"_blank",rel:"noreferrer",children:f.jsxs("svg",{width:"80",height:"80",viewBox:"0 0 250 250",style:{fill:"#151513",color:"#fff",position:"absolute",top:0,border:0,left:0,transform:"scale(-1, 1)"},"aria-hidden":"true",children:[f.jsx("path",{d:"M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"}),f.jsx("path",{d:"M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2",fill:"currentColor",style:{transformOrigin:"13rem 10.6rem"},className:"octo-arm"}),f.jsx("path",{d:"M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z",fill:"currentColor",className:"octo-body"})]})})})}const qde=I("a",{target:"e12hl2500"})({name:"zmsk2c",styles:"&:hover .octo-arm{animation:octocat-wave 560ms ease-in-out;}@keyframes octocat-wave{0 %,100%{transform:rotate(0);}20%,60%{transform:rotate(-25deg);}40%,80%{transform:rotate(10deg);}}@media (max-width: 500px){&:hover .octo-arm{animation:none;}.octo-arm{animation:octocat-wave 560ms ease-in-out;}}view-transition-name:github-ribbon"});function Ba({children:e,supportedBrowsers:t}){return La(!0),f.jsxs(Ws,{children:[f.jsx(NN,{}),f.jsxs(Wde,{children:[f.jsx(pE,{}),t&&f.jsx(Hde,{}),f.jsx(uo,{children:e})]})]})}const Wde=I("div",{target:"el1pskx0"})({name:"2e2gqg",styles:"display:flex;flex-direction:column;align-items:center;width:100vw;height:100vh;overflow:auto"});var mE={},Wm=function(){return Wm=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Wm.apply(this,arguments)},Kde=function(){function e(t,n,r){var i=this;this.endVal=n,this.options=r,this.version="2.8.0",this.defaults={startVal:0,decimalPlaces:0,duration:2,useEasing:!0,useGrouping:!0,useIndianSeparators:!1,smartEasingThreshold:999,smartEasingAmount:333,separator:",",decimal:".",prefix:"",suffix:"",enableScrollSpy:!1,scrollSpyDelay:200,scrollSpyOnce:!1},this.finalEndVal=null,this.useEasing=!0,this.countDown=!1,this.error="",this.startVal=0,this.paused=!0,this.once=!1,this.count=function(o){i.startTime||(i.startTime=o);var s=o-i.startTime;i.remaining=i.duration-s,i.useEasing?i.countDown?i.frameVal=i.startVal-i.easingFn(s,0,i.startVal-i.endVal,i.duration):i.frameVal=i.easingFn(s,i.startVal,i.endVal-i.startVal,i.duration):i.frameVal=i.startVal+(i.endVal-i.startVal)*(s/i.duration);var a=i.countDown?i.frameVal<i.endVal:i.frameVal>i.endVal;i.frameVal=a?i.endVal:i.frameVal,i.frameVal=Number(i.frameVal.toFixed(i.options.decimalPlaces)),i.printValue(i.frameVal),s<i.duration?i.rAF=requestAnimationFrame(i.count):i.finalEndVal!==null?i.update(i.finalEndVal):i.options.onCompleteCallback&&i.options.onCompleteCallback()},this.formatNumber=function(o){var s,a,l,c,u=o<0?"-":"";s=Math.abs(o).toFixed(i.options.decimalPlaces);var d=(s+="").split(".");if(a=d[0],l=d.length>1?i.options.decimal+d[1]:"",i.options.useGrouping){c="";for(var h=3,p=0,g=0,m=a.length;g<m;++g)i.options.useIndianSeparators&&g===4&&(h=2,p=1),g!==0&&p%h==0&&(c=i.options.separator+c),p++,c=a[m-g-1]+c;a=c}return i.options.numerals&&i.options.numerals.length&&(a=a.replace(/[0-9]/g,function(b){return i.options.numerals[+b]}),l=l.replace(/[0-9]/g,function(b){return i.options.numerals[+b]})),u+i.options.prefix+a+l+i.options.suffix},this.easeOutExpo=function(o,s,a,l){return a*(1-Math.pow(2,-10*o/l))*1024/1023+s},this.options=Wm(Wm({},this.defaults),r),this.formattingFn=this.options.formattingFn?this.options.formattingFn:this.formatNumber,this.easingFn=this.options.easingFn?this.options.easingFn:this.easeOutExpo,this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.endVal=this.validateValue(n),this.options.decimalPlaces=Math.max(this.options.decimalPlaces),this.resetDuration(),this.options.separator=String(this.options.separator),this.useEasing=this.options.useEasing,this.options.separator===""&&(this.options.useGrouping=!1),this.el=typeof t=="string"?document.getElementById(t):t,this.el?this.printValue(this.startVal):this.error="[CountUp] target is null or undefined",typeof window<"u"&&this.options.enableScrollSpy&&(this.error?console.error(this.error,t):(window.onScrollFns=window.onScrollFns||[],window.onScrollFns.push(function(){return i.handleScroll(i)}),window.onscroll=function(){window.onScrollFns.forEach(function(o){return o()})},this.handleScroll(this)))}return e.prototype.handleScroll=function(t){if(t&&window&&!t.once){var n=window.innerHeight+window.scrollY,r=t.el.getBoundingClientRect(),i=r.top+window.pageYOffset,o=r.top+r.height+window.pageYOffset;o<n&&o>window.scrollY&&t.paused?(t.paused=!1,setTimeout(function(){return t.start()},t.options.scrollSpyDelay),t.options.scrollSpyOnce&&(t.once=!0)):(window.scrollY>o||i>n)&&!t.paused&&t.reset()}},e.prototype.determineDirectionAndSmartEasing=function(){var t=this.finalEndVal?this.finalEndVal:this.endVal;this.countDown=this.startVal>t;var n=t-this.startVal;if(Math.abs(n)>this.options.smartEasingThreshold&&this.options.useEasing){this.finalEndVal=t;var r=this.countDown?1:-1;this.endVal=t+r*this.options.smartEasingAmount,this.duration=this.duration/2}else this.endVal=t,this.finalEndVal=null;this.finalEndVal!==null?this.useEasing=!1:this.useEasing=this.options.useEasing},e.prototype.start=function(t){this.error||(this.options.onStartCallback&&this.options.onStartCallback(),t&&(this.options.onCompleteCallback=t),this.duration>0?(this.determineDirectionAndSmartEasing(),this.paused=!1,this.rAF=requestAnimationFrame(this.count)):this.printValue(this.endVal))},e.prototype.pauseResume=function(){this.paused?(this.startTime=null,this.duration=this.remaining,this.startVal=this.frameVal,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count)):cancelAnimationFrame(this.rAF),this.paused=!this.paused},e.prototype.reset=function(){cancelAnimationFrame(this.rAF),this.paused=!0,this.resetDuration(),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.printValue(this.startVal)},e.prototype.update=function(t){cancelAnimationFrame(this.rAF),this.startTime=null,this.endVal=this.validateValue(t),this.endVal!==this.frameVal&&(this.startVal=this.frameVal,this.finalEndVal==null&&this.resetDuration(),this.finalEndVal=null,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count))},e.prototype.printValue=function(t){var n;if(this.el){var r=this.formattingFn(t);!((n=this.options.plugin)===null||n===void 0)&&n.render?this.options.plugin.render(this.el,r):this.el.tagName==="INPUT"?this.el.value=r:this.el.tagName==="text"||this.el.tagName==="tspan"?this.el.textContent=r:this.el.innerHTML=r}},e.prototype.ensureNumber=function(t){return typeof t=="number"&&!isNaN(t)},e.prototype.validateValue=function(t){var n=Number(t);return this.ensureNumber(n)?n:(this.error="[CountUp] invalid start or end value: ".concat(t),null)},e.prototype.resetDuration=function(){this.startTime=null,this.duration=1e3*Number(this.options.duration),this.remaining=this.duration},e}();const Yde=Object.freeze(Object.defineProperty({__proto__:null,CountUp:Kde},Symbol.toStringTag,{value:"Module"})),Qde=ds(Yde);Object.defineProperty(mE,"__esModule",{value:!0});var nr=v,Jde=Qde;function Xde(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function BR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Km(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?BR(Object(n),!0).forEach(function(r){Zde(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Zde(e,t,n){return t=sfe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A_(){return A_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},A_.apply(this,arguments)}function efe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function $N(e,t){if(e==null)return{};var n=efe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function tfe(e,t){return nfe(e)||Xde(e,t)||rfe(e,t)||ife()}function nfe(e){if(Array.isArray(e))return e}function rfe(e,t){if(e){if(typeof e=="string")return FR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return FR(e,t)}}function FR(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ife(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ofe(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sfe(e){var t=ofe(e,"string");return typeof t=="symbol"?t:String(t)}var afe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?nr.useLayoutEffect:nr.useEffect;function vo(e){var t=nr.useRef(e);return afe(function(){t.current=e}),nr.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current.apply(void 0,r)},[])}var lfe=function(t,n){var r=n.decimal,i=n.decimals,o=n.duration,s=n.easingFn,a=n.end,l=n.formattingFn,c=n.numerals,u=n.prefix,d=n.separator,h=n.start,p=n.suffix,g=n.useEasing,m=n.useGrouping,b=n.useIndianSeparators,y=n.enableScrollSpy,A=n.scrollSpyDelay,x=n.scrollSpyOnce,S=n.plugin;return new Jde.CountUp(t,a,{startVal:h,duration:o,decimal:r,decimalPlaces:i,easingFn:s,formattingFn:l,numerals:c,separator:d,prefix:u,suffix:p,plugin:S,useEasing:g,useIndianSeparators:b,useGrouping:m,enableScrollSpy:y,scrollSpyDelay:A,scrollSpyOnce:x})},cfe=["ref","startOnMount","enableReinitialize","delay","onEnd","onStart","onPauseResume","onReset","onUpdate"],ufe={decimal:".",separator:",",delay:null,prefix:"",suffix:"",duration:2,start:0,decimals:0,startOnMount:!0,enableReinitialize:!0,useEasing:!0,useGrouping:!0,useIndianSeparators:!1},DN=function(t){var n=Object.fromEntries(Object.entries(t).filter(function(O){var L=tfe(O,2),N=L[1];return N!==void 0})),r=nr.useMemo(function(){return Km(Km({},ufe),n)},[t]),i=r.ref,o=r.startOnMount,s=r.enableReinitialize,a=r.delay,l=r.onEnd,c=r.onStart,u=r.onPauseResume,d=r.onReset,h=r.onUpdate,p=$N(r,cfe),g=nr.useRef(),m=nr.useRef(),b=nr.useRef(!1),y=vo(function(){return lfe(typeof i=="string"?i:i.current,p)}),A=vo(function(O){var L=g.current;if(L&&!O)return L;var N=y();return g.current=N,N}),x=vo(function(){var O=function(){return A(!0).start(function(){l==null||l({pauseResume:S,reset:_,start:E,update:w})})};a&&a>0?m.current=setTimeout(O,a*1e3):O(),c==null||c({pauseResume:S,reset:_,update:w})}),S=vo(function(){A().pauseResume(),u==null||u({reset:_,start:E,update:w})}),_=vo(function(){A().el&&(m.current&&clearTimeout(m.current),A().reset(),d==null||d({pauseResume:S,start:E,update:w}))}),w=vo(function(O){A().update(O),h==null||h({pauseResume:S,reset:_,start:E})}),E=vo(function(){_(),x()}),T=vo(function(O){o&&(O&&_(),x())});return nr.useEffect(function(){b.current?s&&T(!0):(b.current=!0,T())},[s,b,T,a,t.start,t.suffix,t.prefix,t.duration,t.separator,t.decimals,t.decimal,t.formattingFn]),nr.useEffect(function(){return function(){_()}},[_]),{start:E,pauseResume:S,reset:_,update:w,getCountUp:A}},dfe=["className","redraw","containerProps","children","style"],ffe=function(t){var n=t.className,r=t.redraw,i=t.containerProps,o=t.children,s=t.style,a=$N(t,dfe),l=nr.useRef(null),c=nr.useRef(!1),u=DN(Km(Km({},a),{},{ref:l,startOnMount:typeof o!="function"||t.delay===0,enableReinitialize:!1})),d=u.start,h=u.reset,p=u.update,g=u.pauseResume,m=u.getCountUp,b=vo(function(){d()}),y=vo(function(S){t.preserveValue||h(),p(S)}),A=vo(function(){if(typeof t.children=="function"&&!(l.current instanceof Element)){console.error(`Couldn't find attached element to hook the CountUp instance into! Try to attach "containerRef" from the render prop to a an Element, eg. <span ref={containerRef} />.`);return}m()});nr.useEffect(function(){A()},[A]),nr.useEffect(function(){c.current&&y(t.end)},[t.end,y]);var x=r&&t;return nr.useEffect(function(){r&&c.current&&b()},[b,r,x]),nr.useEffect(function(){!r&&c.current&&b()},[b,r,t.start,t.suffix,t.prefix,t.duration,t.separator,t.decimals,t.decimal,t.className,t.formattingFn]),nr.useEffect(function(){c.current=!0},[]),typeof o=="function"?o({countUpRef:l,start:d,reset:h,update:p,pauseResume:g,getCountUp:m}):nr.createElement("span",A_({className:n,ref:l,style:s},i),typeof t.start<"u"?m().formattingFn(t.start):"")},vE=mE.default=ffe;mE.useCountUp=DN;const yE=e=>v.useMemo(()=>{const t={};e.forEach(r=>{if(!r.language)return;(Array.isArray(r.language)?r.language:[r.language]).forEach(o=>{const s=o.toLowerCase();t[s]||(t[s]={name:o,count:0}),t[s].count=t[s].count+1})});const n=Object.values(t);return n.sort((r,i)=>i.count-r.count),n},[e]),hfe=No()?0:10;function BN({onClose:e,closeText:t}){const{register:n}=Wn({onBackspace:e}),[r,i]=Ue(s0),{data:o,isLoading:s}=Yu(),a=yE(o),l=v.useMemo(()=>a.filter(({name:p,count:g})=>jN(p)&&g>=hfe),[a]),c=v.useMemo(()=>a.filter(({name:p})=>!l.find(g=>g.name===p)).reduce((p,{count:g})=>p+g,0),[a,l]),u=l.filter(({name:p})=>!(r!=null&&r.includes(p))).reduce((p,{count:g})=>p+g,0),d=p=>{r===null?i([p]):r.includes(p)?i(r.filter(g=>g!==p)):i([...r,p])};v.useEffect(()=>{if(r===null&&(navigator!=null&&navigator.languages)){let p=new Intl.DisplayNames(["en"],{type:"language"});const g=navigator==null?void 0:navigator.languages.map(b=>{var y;return(y=p.of(b))==null?void 0:y.toLowerCase()}).filter(Boolean),m=l.map(b=>b.name).filter(b=>!g.some(y=>y.includes(b.toLowerCase()))).filter(b=>b!=="English");m.length&&i(m)}},[r,l]);const h=v.useMemo(()=>l.every(p=>r==null?void 0:r.includes(p.name)),[r,l]);return v.useEffect(()=>{r!=null&&r.find(p=>!l.find(g=>g.name===p))&&i(r.filter(p=>l.find(g=>g.name===p)))},[l,r,i]),f.jsxs(Ba,{children:[f.jsx("h1",{children:"Select Song Languages"}),f.jsxs(mfe,{children:[s&&new Array(6).fill(0).map((p,g)=>f.jsx(Dde,{variant:"rectangular",width:"100%",height:"10rem",children:f.jsx(zR,{"data-excluded":!0,focused:!1,children:f.jsx(ru,{language:["English"]})})},g)),l.map(({name:p,count:g})=>{const m=(r==null?void 0:r.includes(p))??!1;return f.jsxs(zR,{"data-excluded":m,...n(`lang-${p}`,()=>d(p)),children:[f.jsx(gfe,{children:m?f.jsx(df,{}):f.jsx(uf,{})}),f.jsxs("span",{children:[f.jsx(vfe,{children:p})," (",g," songs)"]}),f.jsx(yfe,{"data-excluded":m,children:f.jsx(ru,{language:[p]})})]},p)}),c>0&&f.jsxs(SA,{children:["…and ",f.jsxs("strong",{children:[c," songs"]})," in other languages"]})]}),f.jsxs("h3",{children:["You can always update the selection in ",f.jsx("strong",{children:"Manage Songs"})," menu"]}),f.jsxs(pfe,{children:[f.jsx(Re,{...n("close-exclude-languages",e,void 0,!0,{disabled:h||s}),children:t}),f.jsxs(SA,{children:["The list will contain"," ",f.jsx("strong",{children:f.jsx(vE,{duration:1,preserveValue:!0,end:u+c})})," ","songs"]}),h&&f.jsxs(SA,{"data-test":"all-languages-excluded-warning",children:[f.jsx("strong",{children:f.jsx(nc,{})})," ","You excluded all the languages, pick at least one"]})]})]})}const pfe=I("div",{target:"e17pzmm6"})({name:"4zk4ri",styles:"display:flex;flex-direction:column;gap:1rem"}),SA=I("h4",{target:"e17pzmm5"})({name:"2qga7i",styles:"text-align:right"}),gfe=I("div",{target:"e17pzmm4"})({name:"18gxnlc",styles:"svg{width:3rem;height:3rem;}"}),mfe=I("div",{target:"e17pzmm3"})({name:"fvqkyn",styles:"margin-top:2rem;display:flex;flex-direction:column;gap:1rem"}),vfe=I("span",{target:"e17pzmm2"})({name:"1jwmbuq",styles:"transition:300ms"}),yfe=I("div",{target:"e17pzmm1"})({name:"5606u9",styles:"transition:300ms;opacity:0.95;&[data-excluded='true']{filter:grayscale(0.6);opacity:0.5;}position:absolute;bottom:0;right:0;img{width:14rem;height:8rem;object-fit:cover;}overflow:hidden;width:14rem;height:8rem"}),zR=I(Re,{target:"e17pzmm0"})("&[data-excluded='true']{text-decoration:line-through white;opacity:0.5;&[data-focused='false']{background:rgba(0, 0, 0, 0.55);}}",Fe,";display:flex;align-items:center;justify-content:flex-start;gap:2rem;font-size:2.5rem;padding-left:3rem;margin:0;height:8rem;position:relative;width:100%;"),Afe=No()?0:30;function bfe({children:e,languageList:t,excludedLanguages:n,onListChange:r}){const[i,o]=v.useState(!1),s=a=>{n.length===0?r(t.filter(l=>l.name!==a).map(l=>l.name)):n.includes(a)?r(n.filter(l=>l!==a)):n.length===t.length-1?r([]):r([...n,a])};return f.jsxs(f.Fragment,{children:[i&&f.jsx(tc,{onClose:()=>o(!1),children:f.jsx(uo,{className:"!gap-1",children:t.filter(a=>a.count>Afe).map(({name:a,count:l})=>f.jsxs(Re,{size:"small",onClick:()=>s(a),children:[f.jsx("span",{className:n.length&&!n.includes(a)?"text-active":"",children:a})," ",f.jsxs("small",{className:"text-2xl pl-2",children:["(",l,")"]})]},a))})}),e({open:()=>o(!0)})]})}const _fe=(e,t,n)=>e>=t&&e<n;function xfe(e,t){var x,S,_;const n=v.useMemo(()=>{const w=[];return e.groupSizes.forEach((E,T)=>{var O,L;w.push({index:T,type:"group",bottom:(((O=w.at(-1))==null?void 0:O.bottom)??0)+e.groupHeaderHeight,groupIndex:T});for(let N=0;N<E;N++){const H=e.groupSizes.reduce((P,j,R)=>P+(R<T?j:0),0)+N;w.push({index:H,type:"item",bottom:(((L=w.at(-1))==null?void 0:L.bottom)??0)+e.itemHeight,groupIndex:T})}}),w},[e.itemHeight,e.groupHeaderHeight,e.groupSizes]),r=((x=n.at(-1))==null?void 0:x.bottom)??0,i=v.useRef(null),o=((S=i.current)==null?void 0:S.getBoundingClientRect().height)??global.innerHeight,s=v.useCallback(w=>{const E=n.findIndex(O=>O.bottom>w-e.overScan),T=n.findIndex(O=>O.bottom>w+o+e.overScan);return[E,T===-1?n.length:T]},[n,o,e.overScan]),[[a,l],c]=v.useState(s(0));v.useLayoutEffect(()=>{var E;const w=s(((E=i.current)==null?void 0:E.scrollTop)??0);(a!==w[0]||l!==w[1])&&c(w)},[s,e.groupSizes,a,l]),v.useEffect(()=>{if(i.current){const w=()=>{var T;const E=s(((T=i.current)==null?void 0:T.scrollTop)??0);(a!==E[0]||l!==E[1])&&c(E)};return i.current.addEventListener("scroll",w),i.current.scrollTop>r&&i.current.scrollTo({top:0}),()=>{var E;(E=i.current)==null||E.removeEventListener("scroll",w)}}},[a,l,s,r]);const u=v.useCallback((w,E)=>{var T,O;return(((T=n[E])==null?void 0:T.bottom)??0)-(((O=n[w])==null?void 0:O.bottom)??0)},[n]),d=v.useMemo(()=>u(-1,a-1),[a,u]),h=n.slice(0,a).findLastIndex(({type:w})=>w==="group"),p=n.slice(a,l),g=h!==-1?[[]]:[];for(let w=0;w<p.length;w++){const E=p[w];E.type==="group"&&g.push([]),(_=g.at(-1))==null||_.push(E)}v.useImperativeHandle(t,()=>({getItemPositionY:w=>{var E;return(((E=n.find(T=>T.type==="item"&&T.index===w))==null?void 0:E.bottom)??-1)-e.itemHeight},scrollTo:w=>{var E;(E=i.current)==null||E.scrollTo({top:w})},scrollToIndex:async(w,E="auto",T="center")=>{var L,N;const O=n.find(H=>H.type==="item"&&H.index===w);if(O){const H=(e.itemHeight+(T==="center"?(L=i.current)==null?void 0:L.clientHeight:0))/2;(N=i.current)==null||N.scrollTo({top:O.bottom-H,behavior:E})}},scrollToGroup:async(w,E="auto",T="top")=>{var L;const O=n.find(N=>N.type==="group"&&N.index===w);O&&((L=i.current)==null||L.scrollTo({top:O.bottom-e.groupHeaderHeight,behavior:E}))}}));const{Header:m,Footer:b,EmptyPlaceholder:y}=e.components??{},A=n.findIndex(w=>w.type==="item"&&w.index===e.forceRenderItem);return f.jsxs(wfe,{ref:i,children:[f.jsxs(Sfe,{style:{height:r,paddingTop:h!==-1?d-e.groupHeaderHeight:d},children:[m&&f.jsx(m,{context:e.context}),n[A]&&!_fe(A,a,l)&&f.jsx(f.Fragment,{children:e.itemContent(n[A].index,n[A].groupIndex,{style:{width:"100%",position:"absolute",top:n[A].bottom-e.itemHeight,left:0,boxSizing:"border-box"},"data-virtualized-bottom":n[A].bottom,"data-virtualized-index":n[A].index})}),g.map((w,E)=>f.jsxs("div",{children:[E===0&&h!==-1&&e.groupContent(n[h].index),w.map(({index:T,type:O,bottom:L,groupIndex:N})=>f.jsx(v.Fragment,{children:O==="group"?e.groupContent(T):e.itemContent(T,N,{"data-virtualized-bottom":L,"data-virtualized-index":T})},`${L}`))]},(w[0]??n[h]).groupIndex))]}),g.length===0&&y&&f.jsx(y,{context:e.context}),b&&f.jsx(b,{context:e.context})]})}const Sfe=I("div",{target:"e1c20jfn1"})({name:"100d0a9",styles:"box-sizing:border-box;position:relative"}),wfe=I("div",{target:"e1c20jfn0"})({name:"1wyitvb",styles:"overflow:auto;height:100%;width:100%"}),FN=v.forwardRef(xfe),Efe=new Intl.Collator("en",{numeric:!0,sensitivity:"base"}).compare,b_=1/0,wA=e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),UR="eexxaacctt",kfe="A-Z",Cfe="a-z",yd=(e,t,n)=>e.replace(kfe,t).replace(Cfe,n),HR={unicode:!1,alpha:null,interSplit:"[^A-Za-z\\d']+",intraSplit:"[a-z][A-Z]",intraBound:"[A-Za-z]\\d|\\d[A-Za-z]|[a-z][A-Z]",interLft:0,interRgt:0,interChars:".",interIns:b_,intraChars:"[a-z\\d']",intraIns:null,intraContr:"'[a-z]{1,2}\\b",intraMode:0,intraSlice:[1,b_],intraSub:null,intraTrn:null,intraDel:null,intraFilt:(e,t,n)=>!0,sort:(e,t,n)=>{let{idx:r,chars:i,terms:o,interLft2:s,interLft1:a,start:l,intraIns:c,interIns:u}=e;return r.map((d,h)=>h).sort((d,h)=>i[h]-i[d]||c[d]-c[h]||o[h]+s[h]+.5*a[h]-(o[d]+s[d]+.5*a[d])||u[d]-u[h]||l[d]-l[h]||Efe(t[r[d]],t[r[h]]))}},EA=(e,t)=>t==0?"":t==1?e+"??":t==b_?e+"*?":e+`{0,${t}}?`,GR="(?:\\b|_)";function $v(e){e=Object.assign({},HR,e);let{unicode:t,interLft:n,interRgt:r,intraMode:i,intraSlice:o,intraIns:s,intraSub:a,intraTrn:l,intraDel:c,intraContr:u,intraSplit:d,interSplit:h,intraBound:p,intraChars:g}=e;s??(s=i),a??(a=i),l??(l=i),c??(c=i);let m=e.letters??e.alpha;if(m!=null){let G=m.toLocaleUpperCase(),U=m.toLocaleLowerCase();h=yd(h,G,U),d=yd(d,G,U),p=yd(p,G,U),g=yd(g,G,U),u=yd(u,G,U)}let b=t?"u":"";const y='".+?"',A=new RegExp(y,"gi"+b),x=new RegExp(`(?:\\s+|^)-(?:${g}+|${y})`,"gi"+b);let{intraRules:S}=e;S==null&&(S=G=>{let U=HR.intraSlice,te=0,D=0,ce=0,X=0;if(/[^\d]/.test(G)){let se=G.length;se<=4?se>=3&&(ce=Math.min(l,1),se==4&&(te=Math.min(s,1))):(U=o,te=s,D=a,ce=l,X=c)}return{intraSlice:U,intraIns:te,intraSub:D,intraTrn:ce,intraDel:X}});let _=!!d,w=new RegExp(d,"g"+b),E=new RegExp(h,"g"+b),T=new RegExp("^"+h+"|"+h+"$","g"+b),O=new RegExp(u,"gi"+b);const L=G=>{let U=[];G=G.replace(A,D=>(U.push(D),UR)),G=G.replace(T,"").toLocaleLowerCase(),_&&(G=G.replace(w,D=>D[0]+" "+D[1]));let te=0;return G.split(E).filter(D=>D!="").map(D=>D===UR?U[te++]:D)},N=/[^\d]+|\d+/g,H=(G,U=0,te=!1)=>{let D=L(G);if(D.length==0)return[];let ce=Array(D.length).fill("");D=D.map((ae,xe)=>ae.replace(O,ze=>(ce[xe]=ze,"")));let X;if(i==1)X=D.map((ae,xe)=>{if(ae[0]==='"')return wA(ae.slice(1,-1));let ze="";for(let Ne of ae.matchAll(N)){let _e=Ne[0],{intraSlice:Ce,intraIns:Ke,intraSub:Ye,intraTrn:je,intraDel:lt}=S(_e);if(Ke+Ye+je+lt==0)ze+=_e+ce[xe];else{let[Mt,on]=Ce,Vt=_e.slice(0,Mt),xn=_e.slice(on),dt=_e.slice(Mt,on);Ke==1&&Vt.length==1&&Vt!=dt[0]&&(Vt+="(?!"+Vt+")");let xt=dt.length,Jt=[_e];if(Ye)for(let Je=0;Je<xt;Je++)Jt.push(Vt+dt.slice(0,Je)+g+dt.slice(Je+1)+xn);if(je)for(let Je=0;Je<xt-1;Je++)dt[Je]!=dt[Je+1]&&Jt.push(Vt+dt.slice(0,Je)+dt[Je+1]+dt[Je]+dt.slice(Je+2)+xn);if(lt)for(let Je=0;Je<xt;Je++)Jt.push(Vt+dt.slice(0,Je+1)+"?"+dt.slice(Je+1)+xn);if(Ke){let Je=EA(g,1);for(let Lt=0;Lt<xt;Lt++)Jt.push(Vt+dt.slice(0,Lt)+Je+dt.slice(Lt)+xn)}ze+="(?:"+Jt.join("|")+")"+ce[xe]}}return ze});else{let ae=EA(g,s);U==2&&s>0&&(ae=")("+ae+")("),X=D.map((xe,ze)=>xe[0]==='"'?wA(xe.slice(1,-1)):xe.split("").map((Ne,_e,Ce)=>(s==1&&_e==0&&Ce.length>1&&Ne!=Ce[_e+1]&&(Ne+="(?!"+Ne+")"),Ne)).join(ae)+ce[ze])}let se=n==2?GR:"",Pe=r==2?GR:"",be=Pe+EA(e.interChars,e.interIns)+se;return U>0?te?X=se+"("+X.join(")"+Pe+"|"+se+"(")+")"+Pe:(X="("+X.join(")("+be+")(")+")",X="(.??"+se+")"+X+"("+Pe+".*)"):(X=X.join(be),X=se+X+Pe),[new RegExp(X,"i"+b),D,ce]},P=(G,U,te)=>{let[D]=H(U);if(D==null)return null;let ce=[];if(te!=null)for(let X=0;X<te.length;X++){let se=te[X];D.test(G[se])&&ce.push(se)}else for(let X=0;X<G.length;X++)D.test(G[X])&&ce.push(X);return ce};let j=!!p,R=new RegExp(h,b),k=new RegExp(p,b);const $=(G,U,te)=>{let[D,ce,X]=H(te,1),[se]=H(te,2),Pe=ce.length,be=G.length,ae=Array(be).fill(0),xe={idx:Array(be),start:ae.slice(),chars:ae.slice(),terms:ae.slice(),interIns:ae.slice(),intraIns:ae.slice(),interLft2:ae.slice(),interRgt2:ae.slice(),interLft1:ae.slice(),interRgt1:ae.slice(),ranges:Array(be)},ze=n==1||r==1,Ne=0;for(let _e=0;_e<G.length;_e++){let Ce=U[G[_e]],Ke=Ce.match(D),Ye=Ke.index+Ke[1].length,je=Ye,lt=!1,Mt=0,on=0,Vt=0,xn=0,dt=0,xt=0,Jt=0,Je=0,Lt=[];for(let ye=0,it=2;ye<Pe;ye++,it+=2){let Sn=Ke[it].toLocaleLowerCase(),ft=ce[ye],ot=ft[0]=='"'?ft.slice(1,-1):ft+X[ye],sn=ot.length,gn=Sn.length,Xt=Sn==ot;if(!Xt&&Ke[it+1].length>=sn){let mt=Ke[it+1].toLocaleLowerCase().indexOf(ot);mt>-1&&(Lt.push(je,gn,mt,sn),je+=V(Ke,it,mt,sn),Sn=ot,gn=sn,Xt=!0,ye==0&&(Ye=je))}if(ze||Xt){let mt=je-1,Fn=je+gn,Ar=!1,wn=!1;if(mt==-1||R.test(Ce[mt]))Xt&&Mt++,Ar=!0;else{if(n==2){lt=!0;break}if(j&&k.test(Ce[mt]+Ce[mt+1]))Xt&&on++,Ar=!0;else if(n==1){let Ri=Ke[it+1],si=je+gn;if(Ri.length>=sn){let St=0,En=!1,Le=new RegExp(ot,"ig"+b),Xe;for(;Xe=Le.exec(Ri);){St=Xe.index;let Kn=si+St,ai=Kn-1;if(ai==-1||R.test(Ce[ai])){Mt++,En=!0;break}else if(k.test(Ce[ai]+Ce[Kn])){on++,En=!0;break}}En&&(Ar=!0,Lt.push(je,gn,St,sn),je+=V(Ke,it,St,sn),Sn=ot,gn=sn,Xt=!0,ye==0&&(Ye=je))}if(!Ar){lt=!0;break}}}if(Fn==Ce.length||R.test(Ce[Fn]))Xt&&Vt++,wn=!0;else{if(r==2){lt=!0;break}if(j&&k.test(Ce[Fn-1]+Ce[Fn]))Xt&&xn++,wn=!0;else if(r==1){lt=!0;break}}Xt&&(dt+=sn,Ar&&wn&&xt++)}if(gn>sn&&(Je+=gn-sn),ye>0&&(Jt+=Ke[it-1].length),!e.intraFilt(ot,Sn,je)){lt=!0;break}ye<Pe-1&&(je+=gn+Ke[it+1].length)}if(!lt){xe.idx[Ne]=G[_e],xe.interLft2[Ne]=Mt,xe.interLft1[Ne]=on,xe.interRgt2[Ne]=Vt,xe.interRgt1[Ne]=xn,xe.chars[Ne]=dt,xe.terms[Ne]=xt,xe.interIns[Ne]=Jt,xe.intraIns[Ne]=Je,xe.start[Ne]=Ye;let ye=Ce.match(se),it=ye.index+ye[1].length,Sn=Lt.length,ft=Sn>0?0:1/0,ot=Sn-4;for(let mt=2;mt<ye.length;){let Fn=ye[mt].length;if(ft<=ot&&Lt[ft]==it){let Ar=Lt[ft+1],wn=Lt[ft+2],Ri=Lt[ft+3],si=mt,St="";for(let En=0;En<Ar;si++)St+=ye[si],En+=ye[si].length;ye.splice(mt,si-mt,St),it+=V(ye,mt,wn,Ri),ft+=4}else it+=Fn,mt++}it=ye.index+ye[1].length;let sn=xe.ranges[Ne]=[],gn=it,Xt=it;for(let mt=2;mt<ye.length;mt++){let Fn=ye[mt].length;it+=Fn,mt%2==0?Xt=it:Fn>0&&(sn.push(gn,Xt),gn=Xt=it)}Xt>gn&&sn.push(gn,Xt),Ne++}}if(Ne<G.length)for(let _e in xe)xe[_e]=xe[_e].slice(0,Ne);return xe},V=(G,U,te,D)=>{let ce=G[U]+G[U+1].slice(0,te);return G[U-1]+=ce,G[U]=G[U+1].slice(te,te+D),G[U+1]=G[U+1].slice(te+D),ce.length},z=5,B=(G,U,te,D=1e3,ce)=>{te=te?te===!0?z:te:0;let X=null,se=null,Pe=[];U=U.replace(x,_e=>{let Ce=_e.trim().slice(1);return Ce[0]==='"'&&(Ce=wA(Ce.slice(1,-1))),Pe.push(Ce),""});let be=L(U),ae;if(Pe.length>0){if(ae=new RegExp(Pe.join("|"),"i"+b),be.length==0){let _e=[];for(let Ce=0;Ce<G.length;Ce++)ae.test(G[Ce])||_e.push(Ce);return[_e,null,null]}}else if(be.length==0)return[null,null,null];if(te>0){let _e=L(U);if(_e.length>1){let Ce=_e.slice().sort((Ye,je)=>je.length-Ye.length);for(let Ye=0;Ye<Ce.length;Ye++){if((ce==null?void 0:ce.length)==0)return[[],null,null];ce=P(G,Ce[Ye],ce)}if(_e.length>te)return[ce,null,null];X=zN(_e).map(Ye=>Ye.join(" ")),se=[];let Ke=new Set;for(let Ye=0;Ye<X.length;Ye++)if(Ke.size<ce.length){let je=ce.filter(Mt=>!Ke.has(Mt)),lt=P(G,X[Ye],je);for(let Mt=0;Mt<lt.length;Mt++)Ke.add(lt[Mt]);se.push(lt)}else se.push([])}}X==null&&(X=[U],se=[(ce==null?void 0:ce.length)>0?ce:P(G,U)]);let xe=null,ze=null;if(Pe.length>0&&(se=se.map(_e=>_e.filter(Ce=>!ae.test(G[Ce])))),se.reduce((_e,Ce)=>_e+Ce.length,0)<=D){xe={},ze=[];for(let _e=0;_e<se.length;_e++){let Ce=se[_e];if(Ce==null||Ce.length==0)continue;let Ke=X[_e],Ye=$(Ce,G,Ke),je=e.sort(Ye,G,Ke);if(_e>0)for(let lt=0;lt<je.length;lt++)je[lt]+=ze.length;for(let lt in Ye)xe[lt]=(xe[lt]??[]).concat(Ye[lt]);ze=ze.concat(je)}}return[[].concat(...se),xe,ze]};return{search:(...G)=>B(...G),split:L,filter:P,info:$,sort:e.sort}}const Tfe=(()=>{let e={A:"ÁÀÃÂÄĄ",a:"áàãâäą",E:"ÉÈÊËĖ",e:"éèêëę",I:"ÍÌÎÏĮ",i:"íìîïį",O:"ÓÒÔÕÖ",o:"óòôõö",U:"ÚÙÛÜŪŲ",u:"úùûüūų",C:"ÇČĆ",c:"çčć",L:"Ł",l:"ł",N:"ÑŃ",n:"ñń",S:"ŠŚ",s:"šś",Z:"ŻŹ",z:"żź"},t=new Map,n="";for(let o in e)e[o].split("").forEach(s=>{n+=s,t.set(s,o)});let r=new RegExp(`[${n}]`,"g"),i=o=>t.get(o);return o=>{if(typeof o=="string")return o.replace(r,i);let s=Array(o.length);for(let a=0;a<o.length;a++)s[a]=o[a].replace(r,i);return s}})();function zN(e){e=e.slice();let t=e.length,n=[e.slice()],r=new Array(t).fill(0),i=1,o,s;for(;i<t;)r[i]<i?(o=i%2&&r[i],s=e[i],e[i]=e[o],e[o]=s,++r[i],i=1,n.push(e.slice())):(r[i]=0,++i);return n}const Ife=(e,t)=>t?`<mark>${e}</mark>`:e,Rfe=(e,t)=>e+t;function Pfe(e,t,n=Ife,r="",i=Rfe){r=i(r,n(e.substring(0,t[0]),!1))??r;for(let o=0;o<t.length;o+=2){let s=t[o],a=t[o+1];r=i(r,n(e.substring(s,a),!0))??r,o<t.length-3&&(r=i(r,n(e.substring(t[o+1],t[o+2]),!1))??r)}return r=i(r,n(e.substring(t[t.length-1]),!1))??r,r}$v.latinize=Tfe;$v.permute=e=>zN([...Array(e.length).keys()]).sort((n,r)=>{for(let i=0;i<n.length;i++)if(n[i]!=r[i])return n[i]-r[i];return 0}).map(n=>n.map(r=>e[r]));$v.highlight=Pfe;const Mfe=(e,t,n)=>{const r=yE(e);return v.useMemo(()=>n?[]:[{name:"Selection",Wrapper:({children:a,active:l,focused:c})=>f.jsx(Mse,{...l&&c?{open:!0}:{},oneTime:!1,timeoutMs:15e3,dismissKey:"selection-playlist",place:"right",title:f.jsxs(f.Fragment,{children:["A combination of songs you might like and popular with other players.",f.jsx("br",{}),f.jsx("br",{})," ",f.jsx("strong",{children:"Search"})," is performed across all the songs."]}),children:a}),display:f.jsxs("span",{children:[f.jsx("strong",{children:"★"})," Selection ",f.jsx("strong",{children:"★"})]}),filters:{specificSongs:t}},{name:"All",filters:{}},r[0]?{name:r[0].name,filters:{language:r[0].name}}:null,r[1]?{name:r[1].name,filters:{language:r[1].name}}:null,{name:"Oldies",filters:{yearBefore:1995}},{name:"Modern",filters:{yearAfter:1995}},{name:"Duets",filters:{duet:!0}},{name:"New",filters:{recentlyUpdated:!0}}].filter(a=>a!==null),[r,n,t])},qR=e=>Pl((e==null?void 0:e.search)??"").length>2,WR={},jfe=/[^0-9a-z ]/gi,kA=e=>Hx(e).toLowerCase().replace(jfe,"");function UN(e,t){const n=Pl(t);if(n.length>0){const r=new $v({}),[,i,o]=r.search(e.map(s=>`${kA(s.artist)} ${kA(s.title)}`),kA(t));return o&&i?o.map(s=>e[i.idx[s]]):e.filter(s=>s.search.includes(n))}return e}const Ym={language:(e,t)=>t===""?e:e.filter(n=>n.language.includes(t)),excludeLanguages:(e,t=[],n)=>t.length===0||qR(n)||n.edition==="esc"?e:e.filter(r=>!r.language.every(i=>t.includes(i))),search:(e,t)=>UN(e,t),duet:(e,t)=>t===null?e:e.filter(n=>t?n.tracksCount>1:n.tracksCount===1),yearBefore:(e,t)=>t?e.filter(n=>Number(n.year)<t):e,yearAfter:(e,t)=>t?e.filter(n=>Number(n.year)>=t):e,edition:(e,t)=>Pl(t).length?e.filter(r=>Pl(r.edition??"").includes(t)):e,recentlyUpdated:e=>{const t=Eo().subtract(31,"days");return e.filter(n=>n.lastUpdate&&Eo(n.lastUpdate).isAfter(t))},specificSongs:(e,t,n)=>qR(n)?e:e.filter(r=>t.includes(r.id))},KR=(e,t)=>Object.entries(t).filter(n=>n[0]in Ym).reduce((n,[r,i])=>Ym[r](n,i,t,e),e),Ofe=(e,t,n)=>{var g;const[r]=Ue(s0),i=v.useMemo(()=>KR(e,{excludeLanguages:r??[]}),[e,r]),o=Mfe(i,t,n),[s,a]=v.useState(new URLSearchParams((g=global.location)==null?void 0:g.search).get("playlist")??null),l=m=>{var y;const b=new URL((y=global.location)==null?void 0:y.href);b.searchParams.set("playlist",m),global.history.replaceState(null,"",b.toString()),a(m)},c=o.find(m=>m.name===s)??o[0],[u,d]=v.useState(WR);v.useEffect(()=>{d(WR)},[s]);const h=v.useDeferredValue(u),p=v.useMemo(()=>KR(e,{...(c==null?void 0:c.filters)??{},...h,excludeLanguages:r??[]}),[e,h,r,c]);return{filters:u,filteredList:p,setFilters:d,selectedPlaylist:s,setSelectedPlaylist:l,playlists:o,playlist:c}},Vfe=Dh("remote-mic-saved-songs");function Lfe({roomId:e,monitoringStarted:t,setMonitoringStarted:n,isKeepAwakeOn:r,setIsKeepAwakeOn:i,connectionError:o,connectionStatus:s}){const[a]=$o(ee.remoteKeyboardLayout,!0)??[],l=Nv(),c=Yu(),[u,d]=v.useState();v.useEffect(()=>{s==="connected"&&u===void 0&&dn.getSongList().then(d).catch(console.warn)},[u,s]);const h=v.useMemo(()=>lde(c.data.map(O=>({...O,id:eo.generateSongFile(O)})).filter(O=>!((u==null?void 0:u.deleted)??[]).includes(O.id)).map(O=>({id:O.id,artist:O.artist,title:O.title,video:O.video,language:O.language,search:O.search})).concat(...((u==null?void 0:u.custom)??[]).map(O=>({...O,id:eo.generateSongFile(O)}))),O=>O.id),[c.data,u]),p=yE(h),[g,m]=v.useState(""),[b,y]=v.useState([]),[A,x]=Vfe([]),[S,_]=v.useState("list"),w=ON(),E=O=>{_(O),m("")},T=v.useMemo(()=>{if(S==="list"){const O=UN(h,g);return O.length!==h.length?O:h.filter(L=>!L.language.every(N=>b.includes(N)))}else return A.map(O=>h.find(L=>L.id===O)).filter(Boolean)},[g,h,S,A,b]);return f.jsxs(Nfe,{children:[f.jsxs($fe,{children:[f.jsx(rc,{focused:!1,label:f.jsx(Vv,{}),placeholder:"Search for a song…",value:g,onChange:O=>m(O),"data-test":"search-input"}),f.jsxs(Dfe,{children:[f.jsx(CA,{"data-active":S==="list",onClick:()=>E("list"),children:"All songs"}),f.jsxs(CA,{"data-active":S==="queue",onClick:()=>E("queue"),children:["Your list (",A.length,")"]}),f.jsx(bfe,{excludedLanguages:b,languageList:p,onListChange:y,children:({open:O})=>f.jsx(CA,{className:"!flex-grow-[0.3]",onClick:O,"data-active":b.length>0&&S==="list"?!0:void 0,children:"🇺🇳"})})]})]}),f.jsx(FN,{forceRenderItem:-1,overScan:100,components:{},context:{},groupSizes:[T.length],groupHeaderHeight:1,groupContent:()=>null,itemHeight:w*7+1,itemContent:(O,L,N)=>{var j;const H=T[O],P=A.includes(H.id);return f.jsxs(Bfe,{className:P?"!bg-black !bg-opacity-35":"","data-test":H.id,...N,children:[f.jsx(Ffe,{children:f.jsx(ru,{language:H.language})}),f.jsxs(zfe,{children:[f.jsx(Hfe,{children:H.title}),f.jsx(Ufe,{children:H.artist})]}),f.jsxs(Gfe,{children:[((j=a==null?void 0:a.remote)==null?void 0:j.includes("select-song"))&&l==="write"&&f.jsx(YR,{onClick:R=>{R.stopPropagation(),dn.selectSong(H.id)},children:"SELECT"}),P?f.jsx(YR,{onClick:R=>{R.stopPropagation(),x(k=>k.filter($=>$!==H.id))},children:"-"}):f.jsx(HN,{onClick:R=>{R.stopPropagation(),x(k=>[...k,H.id])},children:"+"})]})]})}})]})}const Nfe=I("div",{target:"emsrjbt9"})({name:"lrzqpm",styles:"display:flex;flex-direction:column;position:relative;flex:1 1 auto;min-height:calc(100vh - 6rem);max-height:calc(100vh - 6rem)"}),$fe=I("div",{target:"emsrjbt8"})(Fe,";font-size:2.5rem;display:flex;flex-direction:column;"),Dfe=I("div",{target:"emsrjbt7"})({name:"7whenc",styles:"display:flex;width:100%"}),CA=I("button",{target:"emsrjbt6"})("border:none;flex:1;display:flex;align-items:center;justify-content:center;min-width:4rem;height:4rem;background:rgba(0, 0, 0, 0.75);",Fe,";font-size:2rem;transition:300ms;&[data-active='true']{background:",he.colors.text.active,";}&[data-active='false']{box-shadow:inset 0px 0px 0px 2px orange;}"),Bfe=I("div",{target:"emsrjbt5"})({name:"16qu2op",styles:"background:rgba(0, 0, 0, 0.15);display:flex;align-items:center;height:7rem;padding:0 1rem;gap:1rem;border-bottom:1px solid black;overflow:hidden;position:relative;transition:100ms"}),Ffe=I("div",{target:"emsrjbt4"})({name:"1xmi6sr",styles:"img{height:3rem;width:3rem;object-fit:cover;border-radius:3rem;border:0.1rem black solid;aspect-ratio:1;}"}),zfe=I("div",{target:"emsrjbt3"})({name:"tpuoeb",styles:"display:flex;flex-direction:column;justify-content:space-between;gap:1rem"}),Ufe=I("span",{target:"emsrjbt2"})("color:",he.colors.text.default,";font-size:1.25rem;white-space:nowrap;"),Hfe=I("span",{target:"emsrjbt1"})("color:",he.colors.text.active,";font-size:1.5rem;white-space:nowrap;"),Gfe=I("div",{target:"emsrjbt0"})({name:"1m2flic",styles:"position:absolute;top:0;right:0;display:flex;height:7rem;align-items:center;justify-content:center;gap:1rem;padding-right:1rem"}),HN=Qu.button`transition-all duration-300 active:text-text-default active:bg-active typography p-[1rem] min-w-[4rem] h-[4rem] rounded-full text-center bg-black text-[1.5rem] border-none cursor-pointer transition-[300ms]`,YR=Qu(HN)`text-active`,Np=new uZ;function qfe(){const e=H0("room"),[t]=$o(ee.remoteStyleChanged,!0)??["regular"];v.useLayoutEffect(()=>{xj(t)},[t]),La(!0,t);const[n,r]=v.useState("microphone"),[i,o]=$o(ee.karaokeConnectionStatusChange)??["uninitialised"],[s,a]=v.useState(!1);Tr(ee.micMonitoringStarted,()=>a(!0)),Tr(ee.micMonitoringStopped,()=>a(!1));const[l,c]=v.useState(!1),u=async h=>{try{h&&!Np.isEnabled?await Np.enable():!h&&Np.isEnabled&&await Np.disable(),c(h)}catch(p){console.warn("Couldn't set wakelock",p)}},d=()=>{u(!0)};return f.jsxs(Ws,{children:[f.jsx(Wce,{onConfirm:d}),f.jsx(_Z,{size:10}),f.jsx(Kfe,{id:"phone-ui-container",children:f.jsxs(f.Fragment,{children:[n==="microphone"&&f.jsx(Hce,{roomId:e,monitoringStarted:s,setMonitoringStarted:a,connectionStatus:i,setIsKeepAwakeOn:c,isKeepAwakeOn:l,connectionError:o}),n==="song-list"&&f.jsx(Lfe,{roomId:e,monitoringStarted:s,setMonitoringStarted:a,connectionStatus:i,setIsKeepAwakeOn:c,isKeepAwakeOn:l,connectionError:o}),n==="settings"&&f.jsx(oue,{}),f.jsx(Wfe,{}),f.jsx(nle,{setActiveTab:r,active:n})]})})]})}const Wfe=I("div",{target:"e1ky75ep1"})({name:"4x3vzu",styles:"height:6rem;@media (max-height: 500px) and (min-aspect-ratio: 16/10){height:0;}"}),Kfe=I("div",{target:"e1ky75ep0"})({name:"1tjfysn",styles:"margin:0 auto;width:100%;max-width:400px;box-sizing:border-box;min-height:100vh;max-height:100vh;background:rgba(0, 0, 0, 0.5);display:flex;flex-direction:column;@media (max-height: 500px) and (min-aspect-ratio: 16/10){max-width:960px;}"});function Fa(e){const[t]=Ue(a0),[n]=Ue(hx),r=t==="christmas"?U3:n==="Classic"?z3:F3;v.useEffect(()=>{e?r.playing()||r.play(!1):r.stop()},[e])}function Yfe(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var GN=v,Qfe=Yfe(GN);function QR(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jfe(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var Xfe=!!(typeof window<"u"&&window.document&&window.document.createElement);function Zfe(e,t,n){if(typeof e!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof t!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof n<"u"&&typeof n!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function r(i){return i.displayName||i.name||"Component"}return function(o){if(typeof o!="function")throw new Error("Expected WrappedComponent to be a React component.");var s=[],a;function l(){a=e(s.map(function(u){return u.props})),c.canUseDOM?t(a):n&&(a=n(a))}var c=function(u){Jfe(d,u);function d(){return u.apply(this,arguments)||this}d.peek=function(){return a},d.rewind=function(){if(d.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var g=a;return a=void 0,s=[],g};var h=d.prototype;return h.UNSAFE_componentWillMount=function(){s.push(this),l()},h.componentDidUpdate=function(){l()},h.componentWillUnmount=function(){var g=s.indexOf(this);s.splice(g,1),l()},h.render=function(){return Qfe.createElement(o,this.props)},d}(GN.PureComponent);return QR(c,"displayName","SideEffect("+r(o)+")"),QR(c,"canUseDOM",Xfe),c}}var ehe=Zfe;const the=vr(ehe);var nhe=typeof Element<"u",rhe=typeof Map=="function",ihe=typeof Set=="function",ohe=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Tg(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,i;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!Tg(e[r],t[r]))return!1;return!0}var o;if(rhe&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(o=e.entries();!(r=o.next()).done;)if(!t.has(r.value[0]))return!1;for(o=e.entries();!(r=o.next()).done;)if(!Tg(r.value[1],t.get(r.value[0])))return!1;return!0}if(ihe&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(o=e.entries();!(r=o.next()).done;)if(!t.has(r.value[0]))return!1;return!0}if(ohe&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;if(nhe&&e instanceof Element)return!1;for(r=n;r--!==0;)if(!((i[r]==="_owner"||i[r]==="__v"||i[r]==="__o")&&e.$$typeof)&&!Tg(e[i[r]],t[i[r]]))return!1;return!0}return e!==e&&t!==t}var she=function(t,n){try{return Tg(t,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const ahe=vr(she);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var JR=Object.getOwnPropertySymbols,lhe=Object.prototype.hasOwnProperty,che=Object.prototype.propertyIsEnumerable;function uhe(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function dhe(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(o){return t[o]});if(r.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(o){i[o]=o}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var fhe=dhe()?Object.assign:function(e,t){for(var n,r=uhe(e),i,o=1;o<arguments.length;o++){n=Object(arguments[o]);for(var s in n)lhe.call(n,s)&&(r[s]=n[s]);if(JR){i=JR(n);for(var a=0;a<i.length;a++)che.call(n,i[a])&&(r[i[a]]=n[i[a]])}}return r};const hhe=vr(fhe);var wl={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},qe={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(qe).map(function(e){return qe[e]});var tn={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},Qm={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},sh={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},phe=Object.keys(Qm).reduce(function(e,t){return e[Qm[t]]=t,e},{}),ghe=[qe.NOSCRIPT,qe.SCRIPT,qe.STYLE],ko="data-react-helmet",mhe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vhe=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},yhe=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Kr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ahe=function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},XR=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},bhe=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e},__=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},_he=function(t){var n=iu(t,qe.TITLE),r=iu(t,sh.TITLE_TEMPLATE);if(r&&n)return r.replace(/%s/g,function(){return Array.isArray(n)?n.join(""):n});var i=iu(t,sh.DEFAULT_TITLE);return n||i||void 0},xhe=function(t){return iu(t,sh.ON_CHANGE_CLIENT_STATE)||function(){}},TA=function(t,n){return n.filter(function(r){return typeof r[t]<"u"}).map(function(r){return r[t]}).reduce(function(r,i){return Kr({},r,i)},{})},She=function(t,n){return n.filter(function(r){return typeof r[qe.BASE]<"u"}).map(function(r){return r[qe.BASE]}).reverse().reduce(function(r,i){if(!r.length)for(var o=Object.keys(i),s=0;s<o.length;s++){var a=o[s],l=a.toLowerCase();if(t.indexOf(l)!==-1&&i[l])return r.concat(i)}return r},[])},Ad=function(t,n,r){var i={};return r.filter(function(o){return Array.isArray(o[t])?!0:(typeof o[t]<"u"&&Che("Helmet: "+t+' should be of type "Array". Instead found type "'+mhe(o[t])+'"'),!1)}).map(function(o){return o[t]}).reverse().reduce(function(o,s){var a={};s.filter(function(h){for(var p=void 0,g=Object.keys(h),m=0;m<g.length;m++){var b=g[m],y=b.toLowerCase();n.indexOf(y)!==-1&&!(p===tn.REL&&h[p].toLowerCase()==="canonical")&&!(y===tn.REL&&h[y].toLowerCase()==="stylesheet")&&(p=y),n.indexOf(b)!==-1&&(b===tn.INNER_HTML||b===tn.CSS_TEXT||b===tn.ITEM_PROP)&&(p=b)}if(!p||!h[p])return!1;var A=h[p].toLowerCase();return i[p]||(i[p]={}),a[p]||(a[p]={}),i[p][A]?!1:(a[p][A]=!0,!0)}).reverse().forEach(function(h){return o.push(h)});for(var l=Object.keys(a),c=0;c<l.length;c++){var u=l[c],d=hhe({},i[u],a[u]);i[u]=d}return o},[]).reverse()},iu=function(t,n){for(var r=t.length-1;r>=0;r--){var i=t[r];if(i.hasOwnProperty(n))return i[n]}return null},whe=function(t){return{baseTag:She([tn.HREF,tn.TARGET],t),bodyAttributes:TA(wl.BODY,t),defer:iu(t,sh.DEFER),encode:iu(t,sh.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:TA(wl.HTML,t),linkTags:Ad(qe.LINK,[tn.REL,tn.HREF],t),metaTags:Ad(qe.META,[tn.NAME,tn.CHARSET,tn.HTTPEQUIV,tn.PROPERTY,tn.ITEM_PROP],t),noscriptTags:Ad(qe.NOSCRIPT,[tn.INNER_HTML],t),onChangeClientState:xhe(t),scriptTags:Ad(qe.SCRIPT,[tn.SRC,tn.INNER_HTML],t),styleTags:Ad(qe.STYLE,[tn.CSS_TEXT],t),title:_he(t),titleAttributes:TA(wl.TITLE,t)}},x_=function(){var e=Date.now();return function(t){var n=Date.now();n-e>16?(e=n,t(n)):setTimeout(function(){x_(t)},0)}}(),ZR=function(t){return clearTimeout(t)},Ehe=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||x_:global.requestAnimationFrame||x_,khe=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||ZR:global.cancelAnimationFrame||ZR,Che=function(t){return console&&typeof console.warn=="function"&&console.warn(t)},bd=null,The=function(t){bd&&khe(bd),t.defer?bd=Ehe(function(){eP(t,function(){bd=null})}):(eP(t),bd=null)},eP=function(t,n){var r=t.baseTag,i=t.bodyAttributes,o=t.htmlAttributes,s=t.linkTags,a=t.metaTags,l=t.noscriptTags,c=t.onChangeClientState,u=t.scriptTags,d=t.styleTags,h=t.title,p=t.titleAttributes;S_(qe.BODY,i),S_(qe.HTML,o),Ihe(h,p);var g={baseTag:gc(qe.BASE,r),linkTags:gc(qe.LINK,s),metaTags:gc(qe.META,a),noscriptTags:gc(qe.NOSCRIPT,l),scriptTags:gc(qe.SCRIPT,u),styleTags:gc(qe.STYLE,d)},m={},b={};Object.keys(g).forEach(function(y){var A=g[y],x=A.newTags,S=A.oldTags;x.length&&(m[y]=x),S.length&&(b[y]=g[y].oldTags)}),n&&n(),c(t,m,b)},qN=function(t){return Array.isArray(t)?t.join(""):t},Ihe=function(t,n){typeof t<"u"&&document.title!==t&&(document.title=qN(t)),S_(qe.TITLE,n)},S_=function(t,n){var r=document.getElementsByTagName(t)[0];if(r){for(var i=r.getAttribute(ko),o=i?i.split(","):[],s=[].concat(o),a=Object.keys(n),l=0;l<a.length;l++){var c=a[l],u=n[c]||"";r.getAttribute(c)!==u&&r.setAttribute(c,u),o.indexOf(c)===-1&&o.push(c);var d=s.indexOf(c);d!==-1&&s.splice(d,1)}for(var h=s.length-1;h>=0;h--)r.removeAttribute(s[h]);o.length===s.length?r.removeAttribute(ko):r.getAttribute(ko)!==a.join(",")&&r.setAttribute(ko,a.join(","))}},gc=function(t,n){var r=document.head||document.querySelector(qe.HEAD),i=r.querySelectorAll(t+"["+ko+"]"),o=Array.prototype.slice.call(i),s=[],a=void 0;return n&&n.length&&n.forEach(function(l){var c=document.createElement(t);for(var u in l)if(l.hasOwnProperty(u))if(u===tn.INNER_HTML)c.innerHTML=l.innerHTML;else if(u===tn.CSS_TEXT)c.styleSheet?c.styleSheet.cssText=l.cssText:c.appendChild(document.createTextNode(l.cssText));else{var d=typeof l[u]>"u"?"":l[u];c.setAttribute(u,d)}c.setAttribute(ko,"true"),o.some(function(h,p){return a=p,c.isEqualNode(h)})?o.splice(a,1):s.push(c)}),o.forEach(function(l){return l.parentNode.removeChild(l)}),s.forEach(function(l){return r.appendChild(l)}),{oldTags:o,newTags:s}},WN=function(t){return Object.keys(t).reduce(function(n,r){var i=typeof t[r]<"u"?r+'="'+t[r]+'"':""+r;return n?n+" "+i:i},"")},Rhe=function(t,n,r,i){var o=WN(r),s=qN(n);return o?"<"+t+" "+ko+'="true" '+o+">"+__(s,i)+"</"+t+">":"<"+t+" "+ko+'="true">'+__(s,i)+"</"+t+">"},Phe=function(t,n,r){return n.reduce(function(i,o){var s=Object.keys(o).filter(function(c){return!(c===tn.INNER_HTML||c===tn.CSS_TEXT)}).reduce(function(c,u){var d=typeof o[u]>"u"?u:u+'="'+__(o[u],r)+'"';return c?c+" "+d:d},""),a=o.innerHTML||o.cssText||"",l=ghe.indexOf(t)===-1;return i+"<"+t+" "+ko+'="true" '+s+(l?"/>":">"+a+"</"+t+">")},"")},KN=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(r,i){return r[Qm[i]||i]=t[i],r},n)},Mhe=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(r,i){return r[phe[i]||i]=t[i],r},n)},jhe=function(t,n,r){var i,o=(i={key:n},i[ko]=!0,i),s=KN(r,o);return[ke.createElement(qe.TITLE,s,n)]},Ohe=function(t,n){return n.map(function(r,i){var o,s=(o={key:i},o[ko]=!0,o);return Object.keys(r).forEach(function(a){var l=Qm[a]||a;if(l===tn.INNER_HTML||l===tn.CSS_TEXT){var c=r.innerHTML||r.cssText;s.dangerouslySetInnerHTML={__html:c}}else s[l]=r[a]}),ke.createElement(t,s)})},ps=function(t,n,r){switch(t){case qe.TITLE:return{toComponent:function(){return jhe(t,n.title,n.titleAttributes)},toString:function(){return Rhe(t,n.title,n.titleAttributes,r)}};case wl.BODY:case wl.HTML:return{toComponent:function(){return KN(n)},toString:function(){return WN(n)}};default:return{toComponent:function(){return Ohe(t,n)},toString:function(){return Phe(t,n,r)}}}},YN=function(t){var n=t.baseTag,r=t.bodyAttributes,i=t.encode,o=t.htmlAttributes,s=t.linkTags,a=t.metaTags,l=t.noscriptTags,c=t.scriptTags,u=t.styleTags,d=t.title,h=d===void 0?"":d,p=t.titleAttributes;return{base:ps(qe.BASE,n,i),bodyAttributes:ps(wl.BODY,r,i),htmlAttributes:ps(wl.HTML,o,i),link:ps(qe.LINK,s,i),meta:ps(qe.META,a,i),noscript:ps(qe.NOSCRIPT,l,i),script:ps(qe.SCRIPT,c,i),style:ps(qe.STYLE,u,i),title:ps(qe.TITLE,{title:h,titleAttributes:p},i)}},Vhe=function(t){var n,r;return r=n=function(i){Ahe(o,i);function o(){return vhe(this,o),bhe(this,i.apply(this,arguments))}return o.prototype.shouldComponentUpdate=function(a){return!ahe(this.props,a)},o.prototype.mapNestedChildrenToProps=function(a,l){if(!l)return null;switch(a.type){case qe.SCRIPT:case qe.NOSCRIPT:return{innerHTML:l};case qe.STYLE:return{cssText:l}}throw new Error("<"+a.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},o.prototype.flattenArrayTypeChildren=function(a){var l,c=a.child,u=a.arrayTypeChildren,d=a.newChildProps,h=a.nestedChildren;return Kr({},u,(l={},l[c.type]=[].concat(u[c.type]||[],[Kr({},d,this.mapNestedChildrenToProps(c,h))]),l))},o.prototype.mapObjectTypeChildren=function(a){var l,c,u=a.child,d=a.newProps,h=a.newChildProps,p=a.nestedChildren;switch(u.type){case qe.TITLE:return Kr({},d,(l={},l[u.type]=p,l.titleAttributes=Kr({},h),l));case qe.BODY:return Kr({},d,{bodyAttributes:Kr({},h)});case qe.HTML:return Kr({},d,{htmlAttributes:Kr({},h)})}return Kr({},d,(c={},c[u.type]=Kr({},h),c))},o.prototype.mapArrayTypeChildrenToProps=function(a,l){var c=Kr({},l);return Object.keys(a).forEach(function(u){var d;c=Kr({},c,(d={},d[u]=a[u],d))}),c},o.prototype.warnOnInvalidChildren=function(a,l){return!0},o.prototype.mapChildrenToProps=function(a,l){var c=this,u={};return ke.Children.forEach(a,function(d){if(!(!d||!d.props)){var h=d.props,p=h.children,g=XR(h,["children"]),m=Mhe(g);switch(c.warnOnInvalidChildren(d,p),d.type){case qe.LINK:case qe.META:case qe.NOSCRIPT:case qe.SCRIPT:case qe.STYLE:u=c.flattenArrayTypeChildren({child:d,arrayTypeChildren:u,newChildProps:m,nestedChildren:p});break;default:l=c.mapObjectTypeChildren({child:d,newProps:l,newChildProps:m,nestedChildren:p});break}}}),l=this.mapArrayTypeChildrenToProps(u,l),l},o.prototype.render=function(){var a=this.props,l=a.children,c=XR(a,["children"]),u=Kr({},c);return l&&(u=this.mapChildrenToProps(l,u)),ke.createElement(t,u)},yhe(o,null,[{key:"canUseDOM",set:function(a){t.canUseDOM=a}}]),o}(ke.Component),n.propTypes={base:Qe.object,bodyAttributes:Qe.object,children:Qe.oneOfType([Qe.arrayOf(Qe.node),Qe.node]),defaultTitle:Qe.string,defer:Qe.bool,encodeSpecialCharacters:Qe.bool,htmlAttributes:Qe.object,link:Qe.arrayOf(Qe.object),meta:Qe.arrayOf(Qe.object),noscript:Qe.arrayOf(Qe.object),onChangeClientState:Qe.func,script:Qe.arrayOf(Qe.object),style:Qe.arrayOf(Qe.object),title:Qe.string,titleAttributes:Qe.object,titleTemplate:Qe.string},n.defaultProps={defer:!0,encodeSpecialCharacters:!0},n.peek=t.peek,n.rewind=function(){var i=t.rewind();return i||(i=YN({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),i},r},Lhe=function(){return null},Nhe=the(whe,The,YN)(Lhe),Ei=Vhe(Nhe);Ei.renderStatic=Ei.rewind;const QN=v.forwardRef(({...e},t)=>{const n=v.useRef(null);v.useImperativeHandle(t,()=>n.current);const[r,i]=Ue(Ud);return f.jsx($he,{ref:n,label:"Input lag",value:String(r),onChange:o=>i(+o),type:"number",step:50,min:-2e3,max:2e3,adornment:"ms",onKeyDown:o=>{var s;o.code==="Enter"&&((s=n.current)==null||s.blur())},info:"If the sound is not synchronised with the lyrics, use this to compensate it.",...e})}),$he=I(rc,{target:"e1vs2glp0"})({name:"q54eim",styles:"input{text-align:right;}"});function Dhe(e){Fa(!1);const t=oi(),n=()=>t("menu/"),{register:r}=Wn({onBackspace:n}),[i,o]=Ue(qi),[s,a]=Ue(pl),[l,c]=Ue(yr),[u,d]=Ue(hx),h=v.useRef(null),[p,g]=v.useState(So.getPermissionStatus());v.useEffect(()=>So.addListener(x=>{g(x)}),[]);const[m,b]=v.useState(!1),y=()=>{b(!0),So.requestPermissions().then(()=>b(!1))};let A="Disabled";return m?A=f.jsx($h,{size:"0.9em"}):p===null?A="Click to enable":p&&(A="Enabled"),f.jsxs(Ba,{children:[f.jsx(Ei,{children:f.jsx("title",{children:"Settings | AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsx("h1",{children:"Settings"}),f.jsx(pi,{...r("graphics-level",()=>o(Ea(Lj,i))),label:"Graphics",value:i.toUpperCase()}),f.jsx(pi,{...r("fps-count-level",()=>a(Ea(Nj,s))),label:"FPS Count",value:s}),f.jsx(pi,{...r("background-music-selection",()=>d(Ea(Fj,u))),label:"Background Music",value:u}),f.jsx(QN,{ref:h,...r("input-lag",()=>{var x;return(x=h.current)==null?void 0:x.focus()})}),f.jsx("hr",{}),f.jsx(pi,{...r("camera-access",()=>p?So.disable():y()),label:"Enable camera mode",value:A,info:"Record a timelapse video from singing. The recording is not sent nor stored anywhere."}),f.jsx("hr",{}),f.jsx(pi,{...r("mobile-phone-mode",()=>c(!l)),label:"Mobile Phone Mode",value:l?"Yes":"No",info:"Adjust the game to a smaller screen. Disables option to sing in duets."}),f.jsx("hr",{}),f.jsx(Re,{...r("remote-mics-settings",()=>t("settings/remote-mics/")),size:"small",children:"Remote Microphones Settings"}),f.jsx(Re,{...r("setup-mics-button",()=>t("select-input/")),size:"small",children:"Setup Microphones"}),f.jsx(Re,{...r("manage-songs-button",()=>t("manage-songs/")),size:"small",children:"Manage Songs"}),f.jsx(Re,{...r("back-button",n),children:"Return To Main Menu"})]})}function Bhe(e){return Rr("MuiPaper",e)}Pr("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const Fhe=["className","component","elevation","square","variant"],zhe=e=>{const{square:t,elevation:n,variant:r,classes:i}=e,o={root:["root",r,!t&&"rounded",r==="elevation"&&`elevation${n}`]};return Hr(o,Bhe,i)},Uhe=Qt("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,n.variant==="elevation"&&t[`elevation${n.elevation}`]]}})(({theme:e,ownerState:t})=>{var n;return re({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow")},!t.square&&{borderRadius:e.shape.borderRadius},t.variant==="outlined"&&{border:`1px solid ${(e.vars||e).palette.divider}`},t.variant==="elevation"&&re({boxShadow:(e.vars||e).shadows[t.elevation]},!e.vars&&e.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${ua("#fff",OR(t.elevation))}, ${ua("#fff",OR(t.elevation))})`},e.vars&&{backgroundImage:(n=e.vars.overlays)==null?void 0:n[t.elevation]}))}),Hhe=v.forwardRef(function(t,n){const r=Mr({props:t,name:"MuiPaper"}),{className:i,component:o="div",elevation:s=1,square:a=!1,variant:l="elevation"}=r,c=Pt(r,Fhe),u=re({},r,{component:o,elevation:s,square:a,variant:l}),d=zhe(u);return f.jsx(Uhe,re({as:o,ownerState:u,className:At(d.root,i),ref:n},c))}),Dv=Hhe;function JN(e){return f.jsxs(Ghe,{...e,children:[f.jsx(XN,{asChild:!0,children:f.jsx(hN,{})}),f.jsx(qhe,{asChild:!0,children:f.jsx(v_,{})})]})}const Ghe=Qu.div`relative transition-[300ms] [&_svg]:w-[15rem] [&_svg]:h-[15rem]`,XN=Qu.svg`w-[15rem] h-[15rem] transition-[300ms]`,qhe=Qu(XN)`absolute top-[1.6rem] left-[3.5rem] z-[100] scale-x-[-1]`;function ZN(){const[e,t]=v.useState(!1);return v.useEffect(()=>{const n=setTimeout(()=>{t(!0)},500);return()=>{clearTimeout(n)}},[]),f.jsx(Whe,{visible:e,children:f.jsx(Khe,{})})}const Whe=I("div",{target:"e1ej0ve21"})("transition:500ms;opacity:",e=>e.visible?1:0,";position:fixed;inset:0;display:flex;align-items:center;justify-content:center;"),Khe=I(JN,{target:"e1ej0ve20"})({name:"1wwm3j4",styles:"transform:translate(-1.75rem, -0.8rem) scale(2);svg{animation:pulse 1.25s infinite;@keyframes pulse{0%{scale:1;}33%{scale:1.05;}66%{scale:1;}100%{scale:1;}}}svg:first-of-type{animation-delay:1s;}"}),e$=v.lazy(()=>Fu(()=>import("./SongManagement-CqKA0Tuf.js"),[]).then(e=>({default:e.Convert}))),Yhe=e=>f.jsxs(v.Suspense,{fallback:f.jsx(ZN,{}),children:[f.jsx(Ei,{children:f.jsx("title",{children:"Convert Song | AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsx(Dv,{elevation:2,sx:{minHeight:"100vh",width:"1260px",margin:"0 auto",paddingTop:"30px"},children:f.jsx(e$,{...e})})]});var AE={},Qhe=rt;Object.defineProperty(AE,"__esModule",{value:!0});var t$=AE.default=void 0,Jhe=Qhe(ut()),Xhe=f;t$=AE.default=(0,Jhe.default)((0,Xhe.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete");var n$={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(oa,function(){return function(n,r,i){n=n||{};var o=r.prototype,s={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function a(c,u,d,h){return o.fromToBase(c,u,d,h)}i.en.relativeTime=s,o.fromToBase=function(c,u,d,h,p){for(var g,m,b,y=d.$locale().relativeTime||s,A=n.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],x=A.length,S=0;S<x;S+=1){var _=A[S];_.d&&(g=h?i(c).diff(d,_.d,!0):d.diff(c,_.d,!0));var w=(n.rounding||Math.round)(Math.abs(g));if(b=g>0,w<=_.r||!_.r){w<=1&&S>0&&(_=A[S-1]);var E=y[_.l];p&&(w=p(""+w)),m=typeof E=="string"?E.replace("%d",w):E(w,u,_.l,b);break}}if(u)return m;var T=b?y.future:y.past;return typeof T=="function"?T(m):T.replace("%s",m)},o.to=function(c,u){return a(c,u,this,!0)},o.from=function(c,u){return a(c,u,this)};var l=function(c){return c.$u?i.utc():i()};o.toNow=function(c){return this.to(l(this),c)},o.fromNow=function(c){return this.from(l(this),c)}}})})(n$);var Zhe=n$.exports;const epe=vr(Zhe),r$=1e3,tpe=e=>e.map(t=>{if(t.notes.length===0)debugger;return{...t,start:t.notes[0].start}}),npe=e=>{const t=e.notes.at(-1);return t.start+t.length},rpe=(e,t=10)=>{let n=0,r=[];return e.forEach(i=>{i.start-n>t&&(r.push({type:"pause",start:n,end:i.start-t}),n=i.start-t),r.push({...i,start:n}),n=npe(i)}),r},tP=(e,t)=>({...e,sections:rpe(tpe(e.sections.filter(Et)),t)});function ipe(e){const t=zu(e),n=Math.round(r$/t);return{...e,tracks:e.tracks.map(r=>tP(r,n)),mergedTrack:tP(e.mergedTrack,n)}}const ope=(e,t)=>e.map((n,r)=>Et(n)?{...n,start:r===0?0:Math.max(0,n.start+t),notes:n.notes.map(i=>({...i,start:i.start+t}))}:{...n,start:Math.max(0,n.start+t),end:Math.max(0,n.end+t)}),nP=(e,t)=>({...e,sections:ope(e.sections,t)});function spe(e){const t=zu(e),n=Math.round(r$/t),r=Math.floor((e.gap-n*t<0?e.gap:n*t)/t),i=e.gap-r*t;return{...e,gap:i,tracks:e.tracks.map(o=>nP(o,r)),mergedTrack:nP(e.mergedTrack,r)}}function i$(e,t){return zu(t)*e}function Bv(e){const t=Math.min(...e.tracks.map(n=>"sections"in n?Ta(n.sections):n.start));return i$(t,e)+e.gap}function ape(e){const t=Bv(e);return{...e,videoGap:Math.round(Math.max(0,Math.min(e.videoGap??0,t/1e3-15)))}}const lpe=(e,t)=>e.map((n,r)=>Et(n)?{...n,start:r===0?0:Math.max(0,n.start-t),notes:n.notes.map(i=>({...i,start:i.start-t}))}:{...n,start:Math.max(0,n.start-t),end:Math.max(0,n.end-t)}).filter(n=>Et(n)||n.start-n.end>0),rP=(e,t)=>({...e,sections:lpe(e.sections,t)});function cpe(e){const t=zu(e),n=e.tracks.reduce((s,a,l)=>{const c=Ta(e.tracks[s].sections),u=Ta(a.sections);return c>u?l:s},0),r=e.tracks[n].sections.find(Et);if(!r)return console.error("There are no notes sections in the song, wat",e.tracks),e;const i=r.start+(r.notes[0].start-r.start),o=Math.floor(e.gap+i*t);return{...e,gap:o,tracks:e.tracks.map(s=>rP(s,i)),mergedTrack:rP(e.mergedTrack,i)}}const upe=e=>(e.forEach((t,n)=>{t.lyrics.startsWith(" ")&&(t.lyrics=t.lyrics.trimStart(),n>0&&(e[n-1].lyrics=e[n-1].lyrics.trimEnd()+" ")),n===e.length-1&&(t.lyrics=t.lyrics.trimEnd())}),e),iP=e=>({...e,sections:e.sections.map(t=>Et(t)?{...t,notes:upe(t.notes)}:t)});function dpe(e){return{...e,tracks:e.tracks.map(iP),mergedTrack:iP(e.mergedTrack)}}const fpe=e=>{let t=cpe(e);return t=spe(t),t=ipe(t),t=dpe(t),t=ape(t),t};function o$(e){const[t,n]=v.useState(null);return v.useEffect(()=>{eo.get(e).then(r=>n(r&&fpe(r)))},[e]),{data:t}}function hpe(e){return Rr("MuiButton",e)}const ppe=Pr("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),$p=ppe,gpe=v.createContext({}),mpe=gpe,vpe=v.createContext(void 0),ype=vpe,Ape=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],bpe=e=>{const{color:t,disableElevation:n,fullWidth:r,size:i,variant:o,classes:s}=e,a={root:["root",o,`${o}${nt(t)}`,`size${nt(i)}`,`${o}Size${nt(i)}`,`color${nt(t)}`,n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${nt(i)}`],endIcon:["icon","endIcon",`iconSize${nt(i)}`]},l=Hr(a,hpe,s);return re({},s,l)},s$=e=>re({},e.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},e.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},e.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),_pe=Qt(EL,{shouldForwardProp:e=>jS(e)||e==="classes",name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${nt(n.color)}`],t[`size${nt(n.size)}`],t[`${n.variant}Size${nt(n.size)}`],n.color==="inherit"&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})(({theme:e,ownerState:t})=>{var n,r;const i=e.palette.mode==="light"?e.palette.grey[300]:e.palette.grey[800],o=e.palette.mode==="light"?e.palette.grey.A100:e.palette.grey[700];return re({},e.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":re({textDecoration:"none",backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:ua(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="text"&&t.color!=="inherit"&&{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:ua(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="outlined"&&t.color!=="inherit"&&{border:`1px solid ${(e.vars||e).palette[t.color].main}`,backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:ua(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="contained"&&{backgroundColor:e.vars?e.vars.palette.Button.inheritContainedHoverBg:o,boxShadow:(e.vars||e).shadows[4],"@media (hover: none)":{boxShadow:(e.vars||e).shadows[2],backgroundColor:(e.vars||e).palette.grey[300]}},t.variant==="contained"&&t.color!=="inherit"&&{backgroundColor:(e.vars||e).palette[t.color].dark,"@media (hover: none)":{backgroundColor:(e.vars||e).palette[t.color].main}}),"&:active":re({},t.variant==="contained"&&{boxShadow:(e.vars||e).shadows[8]}),[`&.${$p.focusVisible}`]:re({},t.variant==="contained"&&{boxShadow:(e.vars||e).shadows[6]}),[`&.${$p.disabled}`]:re({color:(e.vars||e).palette.action.disabled},t.variant==="outlined"&&{border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`},t.variant==="contained"&&{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground})},t.variant==="text"&&{padding:"6px 8px"},t.variant==="text"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main},t.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},t.variant==="outlined"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main,border:e.vars?`1px solid rgba(${e.vars.palette[t.color].mainChannel} / 0.5)`:`1px solid ${ua(e.palette[t.color].main,.5)}`},t.variant==="contained"&&{color:e.vars?e.vars.palette.text.primary:(n=(r=e.palette).getContrastText)==null?void 0:n.call(r,e.palette.grey[300]),backgroundColor:e.vars?e.vars.palette.Button.inheritContainedBg:i,boxShadow:(e.vars||e).shadows[2]},t.variant==="contained"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].contrastText,backgroundColor:(e.vars||e).palette[t.color].main},t.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},t.size==="small"&&t.variant==="text"&&{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="text"&&{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},t.size==="small"&&t.variant==="outlined"&&{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="outlined"&&{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},t.size==="small"&&t.variant==="contained"&&{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="contained"&&{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},t.fullWidth&&{width:"100%"})},({ownerState:e})=>e.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${$p.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${$p.disabled}`]:{boxShadow:"none"}}),xpe=Qt("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.startIcon,t[`iconSize${nt(n.size)}`]]}})(({ownerState:e})=>re({display:"inherit",marginRight:8,marginLeft:-4},e.size==="small"&&{marginLeft:-2},s$(e))),Spe=Qt("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.endIcon,t[`iconSize${nt(n.size)}`]]}})(({ownerState:e})=>re({display:"inherit",marginRight:-4,marginLeft:8},e.size==="small"&&{marginRight:-2},s$(e))),wpe=v.forwardRef(function(t,n){const r=v.useContext(mpe),i=v.useContext(ype),o=fm(r,t),s=Mr({props:o,name:"MuiButton"}),{children:a,color:l="primary",component:c="button",className:u,disabled:d=!1,disableElevation:h=!1,disableFocusRipple:p=!1,endIcon:g,focusVisibleClassName:m,fullWidth:b=!1,size:y="medium",startIcon:A,type:x,variant:S="text"}=s,_=Pt(s,Ape),w=re({},s,{color:l,component:c,disabled:d,disableElevation:h,disableFocusRipple:p,fullWidth:b,size:y,type:x,variant:S}),E=bpe(w),T=A&&f.jsx(xpe,{className:E.startIcon,ownerState:w,children:A}),O=g&&f.jsx(Spe,{className:E.endIcon,ownerState:w,children:g}),L=i||"";return f.jsxs(_pe,re({ownerState:w,className:At(r.className,E.root,u,L),component:c,disabled:d,focusRipple:!p,focusVisibleClassName:At(E.focusVisible,m),ref:n,type:x},_,{classes:E,children:[T,a,O]}))}),oP=wpe;function Epe(e){return typeof e=="string"}function kpe(e,t,n){return e===void 0||Epe(e)?t:re({},t,{ownerState:re({},t.ownerState,n)})}function a$(e,t=[]){if(e===void 0)return{};const n={};return Object.keys(e).filter(r=>r.match(/^on[A-Z]/)&&typeof e[r]=="function"&&!t.includes(r)).forEach(r=>{n[r]=e[r]}),n}function Cpe(e,t,n){return typeof e=="function"?e(t,n):e}function sP(e){if(e===void 0)return{};const t={};return Object.keys(e).filter(n=>!(n.match(/^on[A-Z]/)&&typeof e[n]=="function")).forEach(n=>{t[n]=e[n]}),t}function Tpe(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:o}=e;if(!t){const p=At(n==null?void 0:n.className,o,i==null?void 0:i.className,r==null?void 0:r.className),g=re({},n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),m=re({},n,i,r);return p.length>0&&(m.className=p),Object.keys(g).length>0&&(m.style=g),{props:m,internalRef:void 0}}const s=a$(re({},i,r)),a=sP(r),l=sP(i),c=t(s),u=At(c==null?void 0:c.className,n==null?void 0:n.className,o,i==null?void 0:i.className,r==null?void 0:r.className),d=re({},c==null?void 0:c.style,n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),h=re({},c,n,l,a);return u.length>0&&(h.className=u),Object.keys(d).length>0&&(h.style=d),{props:h,internalRef:c.ref}}const Ipe=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function aP(e){var t;const{elementType:n,externalSlotProps:r,ownerState:i,skipResolvingSlotProps:o=!1}=e,s=Pt(e,Ipe),a=o?{}:Cpe(r,i),{props:l,internalRef:c}=Tpe(re({},s,{externalSlotProps:a})),u=Ra(c,a==null?void 0:a.ref,(t=e.additionalProps)==null?void 0:t.ref);return kpe(n,re({},l,{ref:u}),i)}function Rpe(e){const t=Ts(e);return t.body===e?tv(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}function ff(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function lP(e){return parseInt(tv(e).getComputedStyle(e).paddingRight,10)||0}function Ppe(e){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName)!==-1,r=e.tagName==="INPUT"&&e.getAttribute("type")==="hidden";return n||r}function cP(e,t,n,r,i){const o=[t,n,...r];[].forEach.call(e.children,s=>{const a=o.indexOf(s)===-1,l=!Ppe(s);a&&l&&ff(s,i)})}function IA(e,t){let n=-1;return e.some((r,i)=>t(r)?(n=i,!0):!1),n}function Mpe(e,t){const n=[],r=e.container;if(!t.disableScrollLock){if(Rpe(r)){const s=eee(Ts(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${lP(r)+s}px`;const a=Ts(r).querySelectorAll(".mui-fixed");[].forEach.call(a,l=>{n.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${lP(l)+s}px`})}let o;if(r.parentNode instanceof DocumentFragment)o=Ts(r).body;else{const s=r.parentElement,a=tv(r);o=(s==null?void 0:s.nodeName)==="HTML"&&a.getComputedStyle(s).overflowY==="scroll"?s:r}n.push({value:o.style.overflow,property:"overflow",el:o},{value:o.style.overflowX,property:"overflow-x",el:o},{value:o.style.overflowY,property:"overflow-y",el:o}),o.style.overflow="hidden"}return()=>{n.forEach(({value:o,el:s,property:a})=>{o?s.style.setProperty(a,o):s.style.removeProperty(a)})}}function jpe(e){const t=[];return[].forEach.call(e.children,n=>{n.getAttribute("aria-hidden")==="true"&&t.push(n)}),t}class Ope{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(t,n){let r=this.modals.indexOf(t);if(r!==-1)return r;r=this.modals.length,this.modals.push(t),t.modalRef&&ff(t.modalRef,!1);const i=jpe(n);cP(n,t.mount,t.modalRef,i,!0);const o=IA(this.containers,s=>s.container===n);return o!==-1?(this.containers[o].modals.push(t),r):(this.containers.push({modals:[t],container:n,restore:null,hiddenSiblings:i}),r)}mount(t,n){const r=IA(this.containers,o=>o.modals.indexOf(t)!==-1),i=this.containers[r];i.restore||(i.restore=Mpe(i,n))}remove(t,n=!0){const r=this.modals.indexOf(t);if(r===-1)return r;const i=IA(this.containers,s=>s.modals.indexOf(t)!==-1),o=this.containers[i];if(o.modals.splice(o.modals.indexOf(t),1),this.modals.splice(r,1),o.modals.length===0)o.restore&&o.restore(),t.modalRef&&ff(t.modalRef,n),cP(o.container,t.mount,t.modalRef,o.hiddenSiblings,!1),this.containers.splice(i,1);else{const s=o.modals[o.modals.length-1];s.modalRef&&ff(s.modalRef,!1)}return r}isTopModal(t){return this.modals.length>0&&this.modals[this.modals.length-1]===t}}function Vpe(e){return typeof e=="function"?e():e}function Lpe(e){return e?e.props.hasOwnProperty("in"):!1}const Npe=new Ope;function $pe(e){const{container:t,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,manager:i=Npe,closeAfterTransition:o=!1,onTransitionEnter:s,onTransitionExited:a,children:l,onClose:c,open:u,rootRef:d}=e,h=v.useRef({}),p=v.useRef(null),g=v.useRef(null),m=Ra(g,d),[b,y]=v.useState(!u),A=Lpe(l);let x=!0;(e["aria-hidden"]==="false"||e["aria-hidden"]===!1)&&(x=!1);const S=()=>Ts(p.current),_=()=>(h.current.modalRef=g.current,h.current.mount=p.current,h.current),w=()=>{i.mount(_(),{disableScrollLock:r}),g.current&&(g.current.scrollTop=0)},E=ll(()=>{const k=Vpe(t)||S().body;i.add(_(),k),g.current&&w()}),T=v.useCallback(()=>i.isTopModal(_()),[i]),O=ll(k=>{p.current=k,k&&(u&&T()?w():g.current&&ff(g.current,x))}),L=v.useCallback(()=>{i.remove(_(),x)},[x,i]);v.useEffect(()=>()=>{L()},[L]),v.useEffect(()=>{u?E():(!A||!o)&&L()},[u,L,A,o,E]);const N=k=>$=>{var V;(V=k.onKeyDown)==null||V.call(k,$),!($.key!=="Escape"||$.which===229||!T())&&(n||($.stopPropagation(),c&&c($,"escapeKeyDown")))},H=k=>$=>{var V;(V=k.onClick)==null||V.call(k,$),$.target===$.currentTarget&&c&&c($,"backdropClick")};return{getRootProps:(k={})=>{const $=a$(e);delete $.onTransitionEnter,delete $.onTransitionExited;const V=re({},$,k);return re({role:"presentation"},V,{onKeyDown:N(V),ref:m})},getBackdropProps:(k={})=>{const $=k;return re({"aria-hidden":!0},$,{onClick:H($),open:u})},getTransitionProps:()=>{const k=()=>{y(!1),s&&s()},$=()=>{y(!0),a&&a(),o&&L()};return{onEnter:cb(k,l==null?void 0:l.props.onEnter),onExited:cb($,l==null?void 0:l.props.onExited)}},rootRef:m,portalRef:O,isTopModal:T,exited:b,hasTransition:A}}const Dpe=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function Bpe(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?e.contentEditable==="true"||(e.nodeName==="AUDIO"||e.nodeName==="VIDEO"||e.nodeName==="DETAILS")&&e.getAttribute("tabindex")===null?0:e.tabIndex:t}function Fpe(e){if(e.tagName!=="INPUT"||e.type!=="radio"||!e.name)return!1;const t=r=>e.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=t(`[name="${e.name}"]:checked`);return n||(n=t(`[name="${e.name}"]`)),n!==e}function zpe(e){return!(e.disabled||e.tagName==="INPUT"&&e.type==="hidden"||Fpe(e))}function Upe(e){const t=[],n=[];return Array.from(e.querySelectorAll(Dpe)).forEach((r,i)=>{const o=Bpe(r);o===-1||!zpe(r)||(o===0?t.push(r):n.push({documentOrder:i,tabIndex:o,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(t)}function Hpe(){return!0}function Gpe(e){const{children:t,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:o=Upe,isEnabled:s=Hpe,open:a}=e,l=v.useRef(!1),c=v.useRef(null),u=v.useRef(null),d=v.useRef(null),h=v.useRef(null),p=v.useRef(!1),g=v.useRef(null),m=Ra(t.ref,g),b=v.useRef(null);v.useEffect(()=>{!a||!g.current||(p.current=!n)},[n,a]),v.useEffect(()=>{if(!a||!g.current)return;const x=Ts(g.current);return g.current.contains(x.activeElement)||(g.current.hasAttribute("tabIndex")||g.current.setAttribute("tabIndex","-1"),p.current&&g.current.focus()),()=>{i||(d.current&&d.current.focus&&(l.current=!0,d.current.focus()),d.current=null)}},[a]),v.useEffect(()=>{if(!a||!g.current)return;const x=Ts(g.current),S=E=>{b.current=E,!(r||!s()||E.key!=="Tab")&&x.activeElement===g.current&&E.shiftKey&&(l.current=!0,u.current&&u.current.focus())},_=()=>{const E=g.current;if(E===null)return;if(!x.hasFocus()||!s()||l.current){l.current=!1;return}if(E.contains(x.activeElement)||r&&x.activeElement!==c.current&&x.activeElement!==u.current)return;if(x.activeElement!==h.current)h.current=null;else if(h.current!==null)return;if(!p.current)return;let T=[];if((x.activeElement===c.current||x.activeElement===u.current)&&(T=o(g.current)),T.length>0){var O,L;const N=!!((O=b.current)!=null&&O.shiftKey&&((L=b.current)==null?void 0:L.key)==="Tab"),H=T[0],P=T[T.length-1];typeof H!="string"&&typeof P!="string"&&(N?P.focus():H.focus())}else E.focus()};x.addEventListener("focusin",_),x.addEventListener("keydown",S,!0);const w=setInterval(()=>{x.activeElement&&x.activeElement.tagName==="BODY"&&_()},50);return()=>{clearInterval(w),x.removeEventListener("focusin",_),x.removeEventListener("keydown",S,!0)}},[n,r,i,s,a,o]);const y=x=>{d.current===null&&(d.current=x.relatedTarget),p.current=!0,h.current=x.target;const S=t.props.onFocus;S&&S(x)},A=x=>{d.current===null&&(d.current=x.relatedTarget),p.current=!0};return f.jsxs(v.Fragment,{children:[f.jsx("div",{tabIndex:a?0:-1,onFocus:A,ref:c,"data-testid":"sentinelStart"}),v.cloneElement(t,{ref:m,onFocus:y}),f.jsx("div",{tabIndex:a?0:-1,onFocus:A,ref:u,"data-testid":"sentinelEnd"})]})}function qpe(e){return typeof e=="function"?e():e}const Wpe=v.forwardRef(function(t,n){const{children:r,container:i,disablePortal:o=!1}=t,[s,a]=v.useState(null),l=Ra(v.isValidElement(r)?r.ref:null,n);if(dm(()=>{o||a(qpe(i)||document.body)},[i,o]),dm(()=>{if(s&&!o)return um(n,s),()=>{um(n,null)}},[n,s,o]),o){if(v.isValidElement(r)){const c={ref:l};return v.cloneElement(r,c)}return f.jsx(v.Fragment,{children:r})}return f.jsx(v.Fragment,{children:s&&ec.createPortal(r,s)})}),Kpe=e=>e.scrollTop;function uP(e,t){var n,r;const{timeout:i,easing:o,style:s={}}=e;return{duration:(n=s.transitionDuration)!=null?n:typeof i=="number"?i:i[t.mode]||0,easing:(r=s.transitionTimingFunction)!=null?r:typeof o=="object"?o[t.mode]:o,delay:s.transitionDelay}}const Ype=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],Qpe={entering:{opacity:1},entered:{opacity:1}},Jpe=v.forwardRef(function(t,n){const r=LN(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:o,appear:s=!0,children:a,easing:l,in:c,onEnter:u,onEntered:d,onEntering:h,onExit:p,onExited:g,onExiting:m,style:b,timeout:y=i,TransitionComponent:A=Qie}=t,x=Pt(t,Ype),S=v.useRef(null),_=Ra(S,a.ref,n),w=j=>R=>{if(j){const k=S.current;R===void 0?j(k):j(k,R)}},E=w(h),T=w((j,R)=>{Kpe(j);const k=uP({style:b,timeout:y,easing:l},{mode:"enter"});j.style.webkitTransition=r.transitions.create("opacity",k),j.style.transition=r.transitions.create("opacity",k),u&&u(j,R)}),O=w(d),L=w(m),N=w(j=>{const R=uP({style:b,timeout:y,easing:l},{mode:"exit"});j.style.webkitTransition=r.transitions.create("opacity",R),j.style.transition=r.transitions.create("opacity",R),p&&p(j)}),H=w(g),P=j=>{o&&o(S.current,j)};return f.jsx(A,re({appear:s,in:c,nodeRef:S,onEnter:T,onEntered:O,onEntering:E,onExit:N,onExited:H,onExiting:L,addEndListener:P,timeout:y},x,{children:(j,R)=>v.cloneElement(a,re({style:re({opacity:0,visibility:j==="exited"&&!c?"hidden":void 0},Qpe[j],b,a.props.style),ref:_},R))}))}),l$=Jpe;function Xpe(e){return Rr("MuiBackdrop",e)}Pr("MuiBackdrop",["root","invisible"]);const Zpe=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],ege=e=>{const{classes:t,invisible:n}=e;return Hr({root:["root",n&&"invisible"]},Xpe,t)},tge=Qt("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.invisible&&t.invisible]}})(({ownerState:e})=>re({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},e.invisible&&{backgroundColor:"transparent"})),nge=v.forwardRef(function(t,n){var r,i,o;const s=Mr({props:t,name:"MuiBackdrop"}),{children:a,className:l,component:c="div",components:u={},componentsProps:d={},invisible:h=!1,open:p,slotProps:g={},slots:m={},TransitionComponent:b=l$,transitionDuration:y}=s,A=Pt(s,Zpe),x=re({},s,{component:c,invisible:h}),S=ege(x),_=(r=g.root)!=null?r:d.root;return f.jsx(b,re({in:p,timeout:y},A,{children:f.jsx(tge,re({"aria-hidden":!0},_,{as:(i=(o=m.root)!=null?o:u.Root)!=null?i:c,className:At(S.root,l,_==null?void 0:_.className),ownerState:re({},x,_==null?void 0:_.ownerState),classes:S,ref:n,children:a}))}))}),c$=nge;function rge(e){return Rr("MuiModal",e)}Pr("MuiModal",["root","hidden","backdrop"]);const ige=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],oge=e=>{const{open:t,exited:n,classes:r}=e;return Hr({root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]},rge,r)},sge=Qt("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.open&&n.exited&&t.hidden]}})(({theme:e,ownerState:t})=>re({position:"fixed",zIndex:(e.vars||e).zIndex.modal,right:0,bottom:0,top:0,left:0},!t.open&&t.exited&&{visibility:"hidden"})),age=Qt(c$,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),lge=v.forwardRef(function(t,n){var r,i,o,s,a,l;const c=Mr({name:"MuiModal",props:t}),{BackdropComponent:u=age,BackdropProps:d,className:h,closeAfterTransition:p=!1,children:g,container:m,component:b,components:y={},componentsProps:A={},disableAutoFocus:x=!1,disableEnforceFocus:S=!1,disableEscapeKeyDown:_=!1,disablePortal:w=!1,disableRestoreFocus:E=!1,disableScrollLock:T=!1,hideBackdrop:O=!1,keepMounted:L=!1,onBackdropClick:N,open:H,slotProps:P,slots:j}=c,R=Pt(c,ige),k=re({},c,{closeAfterTransition:p,disableAutoFocus:x,disableEnforceFocus:S,disableEscapeKeyDown:_,disablePortal:w,disableRestoreFocus:E,disableScrollLock:T,hideBackdrop:O,keepMounted:L}),{getRootProps:$,getBackdropProps:V,getTransitionProps:z,portalRef:B,isTopModal:G,exited:U,hasTransition:te}=$pe(re({},k,{rootRef:n})),D=re({},k,{exited:U}),ce=oge(D),X={};if(g.props.tabIndex===void 0&&(X.tabIndex="-1"),te){const{onEnter:Ne,onExited:_e}=z();X.onEnter=Ne,X.onExited=_e}const se=(r=(i=j==null?void 0:j.root)!=null?i:y.Root)!=null?r:sge,Pe=(o=(s=j==null?void 0:j.backdrop)!=null?s:y.Backdrop)!=null?o:u,be=(a=P==null?void 0:P.root)!=null?a:A.root,ae=(l=P==null?void 0:P.backdrop)!=null?l:A.backdrop,xe=aP({elementType:se,externalSlotProps:be,externalForwardedProps:R,getSlotProps:$,additionalProps:{ref:n,as:b},ownerState:D,className:At(h,be==null?void 0:be.className,ce==null?void 0:ce.root,!D.open&&D.exited&&(ce==null?void 0:ce.hidden))}),ze=aP({elementType:Pe,externalSlotProps:ae,additionalProps:d,getSlotProps:Ne=>V(re({},Ne,{onClick:_e=>{N&&N(_e),Ne!=null&&Ne.onClick&&Ne.onClick(_e)}})),className:At(ae==null?void 0:ae.className,d==null?void 0:d.className,ce==null?void 0:ce.backdrop),ownerState:D});return!L&&!H&&(!te||U)?null:f.jsx(Wpe,{ref:B,container:m,disablePortal:w,children:f.jsxs(se,re({},xe,{children:[!O&&u?f.jsx(Pe,re({},ze)):null,f.jsx(Gpe,{disableEnforceFocus:S,disableAutoFocus:x,disableRestoreFocus:E,isEnabled:G,open:H,children:v.cloneElement(g,X)})]}))})}),cge=lge;function uge(e){return Rr("MuiDialog",e)}const dge=Pr("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),RA=dge,fge=v.createContext({}),u$=fge,hge=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],pge=Qt(c$,{name:"MuiDialog",slot:"Backdrop",overrides:(e,t)=>t.backdrop})({zIndex:-1}),gge=e=>{const{classes:t,scroll:n,maxWidth:r,fullWidth:i,fullScreen:o}=e,s={root:["root"],container:["container",`scroll${nt(n)}`],paper:["paper",`paperScroll${nt(n)}`,`paperWidth${nt(String(r))}`,i&&"paperFullWidth",o&&"paperFullScreen"]};return Hr(s,uge,t)},mge=Qt(cge,{name:"MuiDialog",slot:"Root",overridesResolver:(e,t)=>t.root})({"@media print":{position:"absolute !important"}}),vge=Qt("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.container,t[`scroll${nt(n.scroll)}`]]}})(({ownerState:e})=>re({height:"100%","@media print":{height:"auto"},outline:0},e.scroll==="paper"&&{display:"flex",justifyContent:"center",alignItems:"center"},e.scroll==="body"&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})),yge=Qt(Dv,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.paper,t[`scrollPaper${nt(n.scroll)}`],t[`paperWidth${nt(String(n.maxWidth))}`],n.fullWidth&&t.paperFullWidth,n.fullScreen&&t.paperFullScreen]}})(({theme:e,ownerState:t})=>re({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},t.scroll==="paper"&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},t.scroll==="body"&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!t.maxWidth&&{maxWidth:"calc(100% - 64px)"},t.maxWidth==="xs"&&{maxWidth:e.breakpoints.unit==="px"?Math.max(e.breakpoints.values.xs,444):`max(${e.breakpoints.values.xs}${e.breakpoints.unit}, 444px)`,[`&.${RA.paperScrollBody}`]:{[e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}},t.maxWidth&&t.maxWidth!=="xs"&&{maxWidth:`${e.breakpoints.values[t.maxWidth]}${e.breakpoints.unit}`,[`&.${RA.paperScrollBody}`]:{[e.breakpoints.down(e.breakpoints.values[t.maxWidth]+32*2)]:{maxWidth:"calc(100% - 64px)"}}},t.fullWidth&&{width:"calc(100% - 64px)"},t.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${RA.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})),Age=v.forwardRef(function(t,n){const r=Mr({props:t,name:"MuiDialog"}),i=LN(),o={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{"aria-describedby":s,"aria-labelledby":a,BackdropComponent:l,BackdropProps:c,children:u,className:d,disableEscapeKeyDown:h=!1,fullScreen:p=!1,fullWidth:g=!1,maxWidth:m="sm",onBackdropClick:b,onClick:y,onClose:A,open:x,PaperComponent:S=Dv,PaperProps:_={},scroll:w="paper",TransitionComponent:E=l$,transitionDuration:T=o,TransitionProps:O}=r,L=Pt(r,hge),N=re({},r,{disableEscapeKeyDown:h,fullScreen:p,fullWidth:g,maxWidth:m,scroll:w}),H=gge(N),P=v.useRef(),j=V=>{P.current=V.target===V.currentTarget},R=V=>{y&&y(V),P.current&&(P.current=null,b&&b(V),A&&A(V,"backdropClick"))},k=GO(a),$=v.useMemo(()=>({titleId:k}),[k]);return f.jsx(mge,re({className:At(H.root,d),closeAfterTransition:!0,components:{Backdrop:pge},componentsProps:{backdrop:re({transitionDuration:T,as:l},c)},disableEscapeKeyDown:h,onClose:A,open:x,ref:n,onClick:R,ownerState:N},L,{children:f.jsx(E,re({appear:!0,in:x,timeout:T,role:"presentation"},O,{children:f.jsx(vge,{className:At(H.container),onMouseDown:j,ownerState:N,children:f.jsx(yge,re({as:S,elevation:24,role:"dialog","aria-describedby":s,"aria-labelledby":k},_,{className:At(H.paper,_.className),ownerState:N,children:f.jsx(u$.Provider,{value:$,children:u})}))})}))}))}),bge=Age;function _ge(e){return Rr("MuiDialogActions",e)}Pr("MuiDialogActions",["root","spacing"]);const xge=["className","disableSpacing"],Sge=e=>{const{classes:t,disableSpacing:n}=e;return Hr({root:["root",!n&&"spacing"]},_ge,t)},wge=Qt("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})(({ownerState:e})=>re({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!e.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})),Ege=v.forwardRef(function(t,n){const r=Mr({props:t,name:"MuiDialogActions"}),{className:i,disableSpacing:o=!1}=r,s=Pt(r,xge),a=re({},r,{disableSpacing:o}),l=Sge(a);return f.jsx(wge,re({className:At(l.root,i),ownerState:a,ref:n},s))}),kge=Ege;function Cge(e){return Rr("MuiDialogContent",e)}Pr("MuiDialogContent",["root","dividers"]);function Tge(e){return Rr("MuiDialogTitle",e)}const Ige=Pr("MuiDialogTitle",["root"]),Rge=Ige,Pge=["className","dividers"],Mge=e=>{const{classes:t,dividers:n}=e;return Hr({root:["root",n&&"dividers"]},Cge,t)},jge=Qt("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dividers&&t.dividers]}})(({theme:e,ownerState:t})=>re({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},t.dividers?{padding:"16px 24px",borderTop:`1px solid ${(e.vars||e).palette.divider}`,borderBottom:`1px solid ${(e.vars||e).palette.divider}`}:{[`.${Rge.root} + &`]:{paddingTop:0}})),Oge=v.forwardRef(function(t,n){const r=Mr({props:t,name:"MuiDialogContent"}),{className:i,dividers:o=!1}=r,s=Pt(r,Pge),a=re({},r,{dividers:o}),l=Mge(a);return f.jsx(jge,re({className:At(l.root,i),ownerState:a,ref:n},s))}),Vge=Oge;function Lge(e){return Rr("MuiTypography",e)}Pr("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const Nge=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],$ge=e=>{const{align:t,gutterBottom:n,noWrap:r,paragraph:i,variant:o,classes:s}=e,a={root:["root",o,e.align!=="inherit"&&`align${nt(t)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return Hr(a,Lge,s)},Dge=Qt("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],n.align!=="inherit"&&t[`align${nt(n.align)}`],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})(({theme:e,ownerState:t})=>re({margin:0},t.variant==="inherit"&&{font:"inherit"},t.variant!=="inherit"&&e.typography[t.variant],t.align!=="inherit"&&{textAlign:t.align},t.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t.gutterBottom&&{marginBottom:"0.35em"},t.paragraph&&{marginBottom:16})),dP={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Bge={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},Fge=e=>Bge[e]||e,zge=v.forwardRef(function(t,n){const r=Mr({props:t,name:"MuiTypography"}),i=Fge(r.color),o=oV(re({},r,{color:i})),{align:s="inherit",className:a,component:l,gutterBottom:c=!1,noWrap:u=!1,paragraph:d=!1,variant:h="body1",variantMapping:p=dP}=o,g=Pt(o,Nge),m=re({},o,{align:s,color:i,className:a,component:l,gutterBottom:c,noWrap:u,paragraph:d,variant:h,variantMapping:p}),b=l||(d?"p":p[h]||dP[h])||"span",y=$ge(m);return f.jsx(Dge,re({as:b,ref:n,ownerState:m,className:At(y.root,a)},g))}),d$=zge;function Uge(e){return Rr("MuiDialogContentText",e)}Pr("MuiDialogContentText",["root"]);const Hge=["children","className"],Gge=e=>{const{classes:t}=e,r=Hr({root:["root"]},Uge,t);return re({},t,r)},qge=Qt(d$,{shouldForwardProp:e=>jS(e)||e==="classes",name:"MuiDialogContentText",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Wge=v.forwardRef(function(t,n){const r=Mr({props:t,name:"MuiDialogContentText"}),{className:i}=r,o=Pt(r,Hge),s=Gge(o);return f.jsx(qge,re({component:"p",variant:"body1",color:"text.secondary",ref:n,ownerState:o,className:At(s.root,i)},r,{classes:s}))}),Kge=Wge,Yge=["className","id"],Qge=e=>{const{classes:t}=e;return Hr({root:["root"]},Tge,t)},Jge=Qt(d$,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:"16px 24px",flex:"0 0 auto"}),Xge=v.forwardRef(function(t,n){const r=Mr({props:t,name:"MuiDialogTitle"}),{className:i,id:o}=r,s=Pt(r,Yge),a=r,l=Qge(a),{titleId:c=o}=v.useContext(u$);return f.jsx(Jge,re({component:"h2",className:At(l.root,i),ownerState:a,ref:n,variant:"h6",id:o??c},s))}),Zge=Xge;function mn(e,t){if(t!==void 0)return`#${e}:${typeof t=="number"?t.toString(10).replace(".",","):Array.isArray(t)?t.join(", "):t}`}const fP=e=>e.map(t=>`${vW[t.type]} ${t.start} ${t.length} ${t.pitch} ${t.lyrics}`).join(`
`),hP=e=>e.split(":")[0];function eme(e){const t={artist:mn("ARTIST",e.artist),title:mn("TITLE",e.title),author:mn("CREATOR",e.author),bpm:mn("BPM",e.bpm),year:mn("YEAR",e.year),previewStart:mn("PREVIEWSTART",e.previewStart),video:mn("VIDEO",`v=${e.video}`),videoGap:mn("VIDEOGAP",e.videoGap),genre:mn("GENRE",e.genre),language:mn("LANGUAGE",e.language),gap:mn("GAP",e.gap),edition:mn("EDITION",e.edition),id:mn("ALLKARAOKE_ID",e.id),lastUpdate:mn("ALLKARAOKE_LASTUPDATE",e.lastUpdate),artistOrigin:mn("ALLKARAOKE_ARTISTORIGIN",e.artistOrigin),authorUrl:mn("ALLKARAOKE_CREATORURL",e.authorUrl),realBpm:mn("ALLKARAOKE_REALBPM",e.realBpm),sourceUrl:mn("ALLKARAOKE_SOURCEURL",e.sourceUrl),previewEnd:mn("ALLKARAOKE_PREVIEWEND",e.previewEnd),volume:mn("ALLKARAOKE_VOLUME",e.volume)},n=e.tracks.map(a=>a.name??null),r=[];e.tracks.map(a=>a.sections).forEach(([a,...l])=>{r.push(Et(a)?fP(a.notes):`- ${a.start} ${a.end}`),l.forEach(c=>r.push(Et(c)?`- ${c.start}
${fP(c.notes)}`:`- ${c.start} ${c.end}`))});const i=Object.values(t).concat(n[0]?mn("P1",n[0]):void 0).concat(n[1]?mn("P2",n[1]):void 0).filter(q1),o=i.map(hP),s=(e.unsupportedProps??[]).filter(a=>!o.includes(hP(a)));return i.concat(...s).concat(r).concat("E").filter(q1).join(`
`)}const f$="share-songs",h$=Dh(f$),tme=async e=>{try{if(!Ve.getItem(f$))return;const n=await eo.get(e);n&&bn.capture("share-song",{song:eme(n)})}catch(t){console.error(t),Vo(t)}};function Ixe(e){const[t,n]=h$(null),[r,i]=v.useState(!!e.id&&t===null),o=()=>{i(!1)},s=a=>{n(a),a&&e.id&&tme(e.id),o()};return f.jsxs(bge,{open:r,onClose:()=>i(!1),fullWidth:!0,children:[f.jsx(Zge,{children:"Share songs?"}),f.jsx(Vge,{children:f.jsx(Kge,{children:f.jsxs("p",{children:["Can you share songs you add? This would help tremendously as I will be able to add it for everyone to play 🥺",f.jsx("br",{}),f.jsx("br",{}),"Shared songs appear for other players with a couple of days of delay."]})})}),f.jsxs(kge,{children:[f.jsx(oP,{onClick:()=>s(!1),"data-test":"share-songs-disagree",children:"Disagree"}),f.jsx(oP,{onClick:()=>s(!0),autoFocus:!0,variant:"contained","data-test":"share-songs-agree",children:"Agree"})]})]})}Eo.extend(epe);function nme(){const{data:e}=Yu(!0),[t]=h$(null),n=H0("song");Fa(!1);const r=o$(n??"");return r.data?f.jsxs(Dv,{elevation:2,sx:{minHeight:"100vh",width:"1260px",margin:"0 auto",paddingTop:"30px"},children:[f.jsx(Ei,{children:f.jsx("title",{children:"Edit Song | AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsxs(rme,{children:[f.jsx(Fw,{to:"edit/list/",children:f.jsx("a",{children:"Return to the song list"})}),f.jsxs("span",{children:["Editing:"," ",f.jsxs("b",{children:[r.data.artist," - ",r.data.title]}),r.data.local&&f.jsx(Cv,{title:"Delete the song",onClick:async()=>{global.confirm("Are you sure you want to delete this song?")&&(await eo.deleteSong(r.data.id),t&&e.some(o=>o.id===r.data.id)&&bn.capture("unshare-song",{songId:r.data.id}))},"data-test":"delete-song",children:f.jsx(t$,{})})]}),f.jsxs("abbr",{title:r.data.lastUpdate,children:["Last updated: ",f.jsx("b",{children:r.data.lastUpdate?Eo(r.data.lastUpdate).fromNow():"-"})]})]}),f.jsx(e$,{song:r.data})]}):f.jsx(f.Fragment,{children:"Loading"})}const rme=I("div",{target:"e104ojv10"})({name:"12zd36v",styles:"display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;padding:0 8px"});var ime=Math.floor,ome=Math.random;function sme(e,t){return e+ime(ome()*(t-e+1))}function p$(e,t){var n=-1,r=e.length,i=r-1;for(t=t===void 0?r:t;++n<t;){var o=sme(n,i),s=e[o];e[o]=e[n],e[n]=s}return e.length=t,e}function ame(e){return p$(pO(e))}function lme(e,t){return iS(t,function(n){return e[n]})}function cme(e){return e==null?[]:lme(e,Sh(e))}function ume(e){return p$(cme(e))}function dme(e){var t=to(e)?ame:ume;return t(e)}var gM;const fme=!((gM=document.getElementById("root"))!=null&&gM.hasChildNodes()),g$=fme;function bE(e){return g$?null:e.children}function Dr(e){const t=oi(),n=r=>{e.onClick?e.onClick(r):(r.preventDefault(),t(e.to))};return f.jsx(Fw,{...e,onClick:n})}function hme(e,t){v.useEffect(()=>{var n,r;(r=(n=e.current)==null?void 0:n.getInternalPlayer())==null||r.setVolume(Math.round((t??.5)*100))},[e,t])}var pme=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(o=Object.keys(t),r=o.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;i--!==0;){var s=o[i];if(!e(t[s],n[s]))return!1}return!0}return t!==t&&n!==n};const gme=vr(pme);var w_={exports:{}},m$;/**
* @link https://github.com/gajus/sister for the canonical source repository
* @license https://github.com/gajus/sister/blob/master/LICENSE BSD 3-Clause
*/m$=function(){var e={},t={};return e.on=function(n,r){var i={name:n,handler:r};return t[n]=t[n]||[],t[n].unshift(i),i},e.off=function(n){var r=t[n.name].indexOf(n);r!==-1&&t[n.name].splice(r,1)},e.trigger=function(n,r){var i=t[n],o;if(i)for(o=i.length;o--;)i[o].handler(r)},e};var mme=m$,E_={exports:{}},vme=function(t,n,r){var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("script");typeof n=="function"&&(r=n,n={}),n=n||{},r=r||function(){},o.type=n.type||"text/javascript",o.charset=n.charset||"utf8",o.async="async"in n?!!n.async:!0,o.src=t,n.attrs&&yme(o,n.attrs),n.text&&(o.text=""+n.text);var s="onload"in o?pP:Ame;s(o,r),o.onload||pP(o,r),i.appendChild(o)};function yme(e,t){for(var n in t)e.setAttribute(n,t[n])}function pP(e,t){e.onload=function(){this.onerror=this.onload=null,t(null,e)},e.onerror=function(){this.onerror=this.onload=null,t(new Error("Failed to load "+this.src),e)}}function Ame(e,t){e.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,t(null,e))}}(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=vme,r=i(n);function i(o){return o&&o.__esModule?o:{default:o}}t.default=function(o){var s=new Promise(function(a){if(window.YT&&window.YT.Player&&window.YT.Player instanceof Function){a(window.YT);return}else{var l=window.location.protocol==="http:"?"http:":"https:";(0,r.default)(l+"//www.youtube.com/iframe_api",function(u){u&&o.trigger("error",u)})}var c=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){c&&c(),a(window.YT)}});return s},e.exports=t.default})(E_,E_.exports);var bme=E_.exports,k_={exports:{}},C_={exports:{}},T_={exports:{}},ah=1e3,lh=ah*60,ch=lh*60,uh=ch*24,_me=uh*365.25,xme=function(e,t){t=t||{};var n=typeof e;if(n==="string"&&e.length>0)return Sme(e);if(n==="number"&&isNaN(e)===!1)return t.long?Eme(e):wme(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function Sme(e){if(e=String(e),!(e.length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]),r=(t[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return n*_me;case"days":case"day":case"d":return n*uh;case"hours":case"hour":case"hrs":case"hr":case"h":return n*ch;case"minutes":case"minute":case"mins":case"min":case"m":return n*lh;case"seconds":case"second":case"secs":case"sec":case"s":return n*ah;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function wme(e){return e>=uh?Math.round(e/uh)+"d":e>=ch?Math.round(e/ch)+"h":e>=lh?Math.round(e/lh)+"m":e>=ah?Math.round(e/ah)+"s":e+"ms"}function Eme(e){return Dp(e,uh,"day")||Dp(e,ch,"hour")||Dp(e,lh,"minute")||Dp(e,ah,"second")||e+" ms"}function Dp(e,t,n){if(!(e<t))return e<t*1.5?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}(function(e,t){t=e.exports=i.debug=i.default=i,t.coerce=l,t.disable=s,t.enable=o,t.enabled=a,t.humanize=xme,t.names=[],t.skips=[],t.formatters={};var n;function r(c){var u=0,d;for(d in c)u=(u<<5)-u+c.charCodeAt(d),u|=0;return t.colors[Math.abs(u)%t.colors.length]}function i(c){function u(){if(u.enabled){var d=u,h=+new Date,p=h-(n||h);d.diff=p,d.prev=n,d.curr=h,n=h;for(var g=new Array(arguments.length),m=0;m<g.length;m++)g[m]=arguments[m];g[0]=t.coerce(g[0]),typeof g[0]!="string"&&g.unshift("%O");var b=0;g[0]=g[0].replace(/%([a-zA-Z%])/g,function(A,x){if(A==="%%")return A;b++;var S=t.formatters[x];if(typeof S=="function"){var _=g[b];A=S.call(d,_),g.splice(b,1),b--}return A}),t.formatArgs.call(d,g);var y=u.log||t.log||console.log.bind(console);y.apply(d,g)}}return u.namespace=c,u.enabled=t.enabled(c),u.useColors=t.useColors(),u.color=r(c),typeof t.init=="function"&&t.init(u),u}function o(c){t.save(c),t.names=[],t.skips=[];for(var u=(typeof c=="string"?c:"").split(/[\s,]+/),d=u.length,h=0;h<d;h++)u[h]&&(c=u[h].replace(/\*/g,".*?"),c[0]==="-"?t.skips.push(new RegExp("^"+c.substr(1)+"$")):t.names.push(new RegExp("^"+c+"$")))}function s(){t.enable("")}function a(c){var u,d;for(u=0,d=t.skips.length;u<d;u++)if(t.skips[u].test(c))return!1;for(u=0,d=t.names.length;u<d;u++)if(t.names[u].test(c))return!0;return!1}function l(c){return c instanceof Error?c.stack||c.message:c}})(T_,T_.exports);var kme=T_.exports;(function(e,t){var n={};t=e.exports=kme,t.log=o,t.formatArgs=i,t.save=s,t.load=a,t.useColors=r,t.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:l(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function r(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}t.formatters.j=function(c){try{return JSON.stringify(c)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}};function i(c){var u=this.useColors;if(c[0]=(u?"%c":"")+this.namespace+(u?" %c":" ")+c[0]+(u?"%c ":" ")+"+"+t.humanize(this.diff),!!u){var d="color: "+this.color;c.splice(1,0,d,"color: inherit");var h=0,p=0;c[0].replace(/%[a-zA-Z%]/g,function(g){g!=="%%"&&(h++,g==="%c"&&(p=h))}),c.splice(p,0,d)}}function o(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function s(c){try{c==null?t.storage.removeItem("debug"):t.storage.debug=c}catch{}}function a(){var c;try{c=t.storage.debug}catch{}return!c&&typeof process<"u"&&"env"in process&&(c=n.DEBUG),c}t.enable(a());function l(){try{return window.localStorage}catch{}}})(C_,C_.exports);var Cme=C_.exports,I_={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=["cueVideoById","loadVideoById","cueVideoByUrl","loadVideoByUrl","playVideo","pauseVideo","stopVideo","getVideoLoadedFraction","cuePlaylist","loadPlaylist","nextVideo","previousVideo","playVideoAt","setShuffle","setLoop","getPlaylist","getPlaylistIndex","setOption","mute","unMute","isMuted","setVolume","getVolume","seekTo","getPlayerState","getPlaybackRate","setPlaybackRate","getAvailablePlaybackRates","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getCurrentTime","getDuration","removeEventListener","getVideoUrl","getVideoEmbedCode","getOptions","getOption","addEventListener","destroy","setSize","getIframe"],e.exports=t.default})(I_,I_.exports);var Tme=I_.exports,R_={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=["ready","stateChange","playbackQualityChange","playbackRateChange","error","apiChange","volumeChange"],e.exports=t.default})(R_,R_.exports);var Ime=R_.exports,P_={exports:{}},M_={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default={BUFFERING:3,ENDED:0,PAUSED:2,PLAYING:1,UNSTARTED:-1,VIDEO_CUED:5},e.exports=t.default})(M_,M_.exports);var Rme=M_.exports;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=Rme,r=i(n);function i(o){return o&&o.__esModule?o:{default:o}}t.default={pauseVideo:{acceptableStates:[r.default.ENDED,r.default.PAUSED],stateChangeRequired:!1},playVideo:{acceptableStates:[r.default.ENDED,r.default.PLAYING],stateChangeRequired:!1},seekTo:{acceptableStates:[r.default.ENDED,r.default.PLAYING,r.default.PAUSED],stateChangeRequired:!0,timeout:3e3}},e.exports=t.default})(P_,P_.exports);var Pme=P_.exports;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=Cme,r=u(n),i=Tme,o=u(i),s=Ime,a=u(s),l=Pme,c=u(l);function u(p){return p&&p.__esModule?p:{default:p}}var d=(0,r.default)("youtube-player"),h={};h.proxyEvents=function(p){var g={},m=function(E){var T="on"+E.slice(0,1).toUpperCase()+E.slice(1);g[T]=function(O){d('event "%s"',T,O),p.trigger(E,O)}},b=!0,y=!1,A=void 0;try{for(var x=a.default[Symbol.iterator](),S;!(b=(S=x.next()).done);b=!0){var _=S.value;m(_)}}catch(w){y=!0,A=w}finally{try{!b&&x.return&&x.return()}finally{if(y)throw A}}return g},h.promisifyPlayer=function(p){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,m={},b=function(T){g&&c.default[T]?m[T]=function(){for(var O=arguments.length,L=Array(O),N=0;N<O;N++)L[N]=arguments[N];return p.then(function(H){var P=c.default[T],j=H.getPlayerState(),R=H[T].apply(H,L);return P.stateChangeRequired||Array.isArray(P.acceptableStates)&&P.acceptableStates.indexOf(j)===-1?new Promise(function(k){var $=function V(){var z=H.getPlayerState(),B=void 0;typeof P.timeout=="number"&&(B=setTimeout(function(){H.removeEventListener("onStateChange",V),k()},P.timeout)),Array.isArray(P.acceptableStates)&&P.acceptableStates.indexOf(z)!==-1&&(H.removeEventListener("onStateChange",V),clearTimeout(B),k())};H.addEventListener("onStateChange",$)}).then(function(){return R}):R})}:m[T]=function(){for(var O=arguments.length,L=Array(O),N=0;N<O;N++)L[N]=arguments[N];return p.then(function(H){return H[T].apply(H,L)})}},y=!0,A=!1,x=void 0;try{for(var S=o.default[Symbol.iterator](),_;!(y=(_=S.next()).done);y=!0){var w=_.value;b(w)}}catch(E){A=!0,x=E}finally{try{!y&&S.return&&S.return()}finally{if(A)throw x}}return m},t.default=h,e.exports=t.default})(k_,k_.exports);var Mme=k_.exports;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},r=mme,i=c(r),o=bme,s=c(o),a=Mme,l=c(a);function c(d){return d&&d.__esModule?d:{default:d}}var u=void 0;t.default=function(d){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,g=(0,i.default)();if(u||(u=(0,s.default)(g)),h.events)throw new Error("Event handlers cannot be overwritten.");if(typeof d=="string"&&!document.getElementById(d))throw new Error('Element "'+d+'" does not exist.');h.events=l.default.proxyEvents(g);var m=new Promise(function(y){if((typeof d>"u"?"undefined":n(d))==="object"&&d.playVideo instanceof Function){var A=d;y(A)}else u.then(function(x){var S=new x.Player(d,h);return g.on("ready",function(){y(S)}),null})}),b=l.default.promisifyPlayer(m,p);return b.on=g.on,b.off=g.off,b},e.exports=t.default})(w_,w_.exports);var jme=w_.exports;const Ome=vr(jme);var Vme=Object.defineProperty,Lme=Object.defineProperties,Nme=Object.getOwnPropertyDescriptors,gP=Object.getOwnPropertySymbols,$me=Object.prototype.hasOwnProperty,Dme=Object.prototype.propertyIsEnumerable,mP=(e,t,n)=>t in e?Vme(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,j_=(e,t)=>{for(var n in t||(t={}))$me.call(t,n)&&mP(e,n,t[n]);if(gP)for(var n of gP(t))Dme.call(t,n)&&mP(e,n,t[n]);return e},O_=(e,t)=>Lme(e,Nme(t)),Bme=(e,t,n)=>new Promise((r,i)=>{var o=l=>{try{a(n.next(l))}catch(c){i(c)}},s=l=>{try{a(n.throw(l))}catch(c){i(c)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(o,s);a((n=n.apply(e,t)).next())});function Fme(e,t){var n,r;if(e.videoId!==t.videoId)return!0;const i=((n=e.opts)==null?void 0:n.playerVars)||{},o=((r=t.opts)==null?void 0:r.playerVars)||{};return i.start!==o.start||i.end!==o.end}function vP(e={}){return O_(j_({},e),{height:0,width:0,playerVars:O_(j_({},e.playerVars),{autoplay:0,start:0,end:0})})}function zme(e,t){return e.videoId!==t.videoId||!gme(vP(e.opts),vP(t.opts))}function Ume(e,t){var n,r,i,o;return e.id!==t.id||e.className!==t.className||((n=e.opts)==null?void 0:n.width)!==((r=t.opts)==null?void 0:r.width)||((i=e.opts)==null?void 0:i.height)!==((o=t.opts)==null?void 0:o.height)||e.iframeClassName!==t.iframeClassName||e.title!==t.title}var Hme={videoId:"",id:"",className:"",iframeClassName:"",style:{},title:"",loading:void 0,opts:{},onReady:()=>{},onError:()=>{},onPlay:()=>{},onPause:()=>{},onEnd:()=>{},onStateChange:()=>{},onPlaybackRateChange:()=>{},onPlaybackQualityChange:()=>{}},Gme={videoId:Qe.string,id:Qe.string,className:Qe.string,iframeClassName:Qe.string,style:Qe.object,title:Qe.string,loading:Qe.oneOf(["lazy","eager"]),opts:Qe.objectOf(Qe.any),onReady:Qe.func,onError:Qe.func,onPlay:Qe.func,onPause:Qe.func,onEnd:Qe.func,onStateChange:Qe.func,onPlaybackRateChange:Qe.func,onPlaybackQualityChange:Qe.func},Ig=class extends ke.Component{constructor(e){super(e),this.destroyPlayerPromise=void 0,this.onPlayerReady=t=>{var n,r;return(r=(n=this.props).onReady)==null?void 0:r.call(n,t)},this.onPlayerError=t=>{var n,r;return(r=(n=this.props).onError)==null?void 0:r.call(n,t)},this.onPlayerStateChange=t=>{var n,r,i,o,s,a,l,c;switch((r=(n=this.props).onStateChange)==null||r.call(n,t),t.data){case Ig.PlayerState.ENDED:(o=(i=this.props).onEnd)==null||o.call(i,t);break;case Ig.PlayerState.PLAYING:(a=(s=this.props).onPlay)==null||a.call(s,t);break;case Ig.PlayerState.PAUSED:(c=(l=this.props).onPause)==null||c.call(l,t);break}},this.onPlayerPlaybackRateChange=t=>{var n,r;return(r=(n=this.props).onPlaybackRateChange)==null?void 0:r.call(n,t)},this.onPlayerPlaybackQualityChange=t=>{var n,r;return(r=(n=this.props).onPlaybackQualityChange)==null?void 0:r.call(n,t)},this.destroyPlayer=()=>this.internalPlayer?(this.destroyPlayerPromise=this.internalPlayer.destroy().then(()=>this.destroyPlayerPromise=void 0),this.destroyPlayerPromise):Promise.resolve(),this.createPlayer=()=>{if(typeof document>"u")return;if(this.destroyPlayerPromise){this.destroyPlayerPromise.then(this.createPlayer);return}const t=O_(j_({},this.props.opts),{videoId:this.props.videoId});this.internalPlayer=Ome(this.container,t),this.internalPlayer.on("ready",this.onPlayerReady),this.internalPlayer.on("error",this.onPlayerError),this.internalPlayer.on("stateChange",this.onPlayerStateChange),this.internalPlayer.on("playbackRateChange",this.onPlayerPlaybackRateChange),this.internalPlayer.on("playbackQualityChange",this.onPlayerPlaybackQualityChange),(this.props.title||this.props.loading)&&this.internalPlayer.getIframe().then(n=>{this.props.title&&n.setAttribute("title",this.props.title),this.props.loading&&n.setAttribute("loading",this.props.loading)})},this.resetPlayer=()=>this.destroyPlayer().then(this.createPlayer),this.updatePlayer=()=>{var t;(t=this.internalPlayer)==null||t.getIframe().then(n=>{this.props.id?n.setAttribute("id",this.props.id):n.removeAttribute("id"),this.props.iframeClassName?n.setAttribute("class",this.props.iframeClassName):n.removeAttribute("class"),this.props.opts&&this.props.opts.width?n.setAttribute("width",this.props.opts.width.toString()):n.removeAttribute("width"),this.props.opts&&this.props.opts.height?n.setAttribute("height",this.props.opts.height.toString()):n.removeAttribute("height"),this.props.title?n.setAttribute("title",this.props.title):n.setAttribute("title","YouTube video player"),this.props.loading?n.setAttribute("loading",this.props.loading):n.removeAttribute("loading")})},this.getInternalPlayer=()=>this.internalPlayer,this.updateVideo=()=>{var t,n,r,i;if(typeof this.props.videoId>"u"||this.props.videoId===null){(t=this.internalPlayer)==null||t.stopVideo();return}let o=!1;const s={videoId:this.props.videoId};if((n=this.props.opts)!=null&&n.playerVars&&(o=this.props.opts.playerVars.autoplay===1,"start"in this.props.opts.playerVars&&(s.startSeconds=this.props.opts.playerVars.start),"end"in this.props.opts.playerVars&&(s.endSeconds=this.props.opts.playerVars.end)),o){(r=this.internalPlayer)==null||r.loadVideoById(s);return}(i=this.internalPlayer)==null||i.cueVideoById(s)},this.refContainer=t=>{this.container=t},this.container=null,this.internalPlayer=null}componentDidMount(){this.createPlayer()}componentDidUpdate(e){return Bme(this,null,function*(){Ume(e,this.props)&&this.updatePlayer(),zme(e,this.props)&&(yield this.resetPlayer()),Fme(e,this.props)&&this.updateVideo()})}componentWillUnmount(){this.destroyPlayer()}render(){return ke.createElement("div",{className:this.props.className,style:this.props.style},ke.createElement("div",{id:this.props.id,className:this.props.iframeClassName,ref:this.refContainer}))}},Fv=Ig;Fv.propTypes=Gme;Fv.defaultProps=Hme;Fv.PlayerState={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5};var Jo=Fv;function qme(e){const[t,n]=v.useState(1);return v.useEffect(()=>{if(e===Jo.PlayerState.UNSTARTED){const r=setTimeout(()=>{n(i=>i+1)},5e3+t*2500);return()=>{clearTimeout(r)}}}),t}function Wme(e,t){v.useEffect(()=>{if(t===Jo.PlayerState.BUFFERING){const n=setInterval(async()=>{var r,i,o;if(navigator.onLine){clearInterval(n);const s=await((r=e.current)==null?void 0:r.getInternalPlayer().getCurrentTime());(o=(i=e.current)==null?void 0:i.getInternalPlayer())==null||o.seekTo(Math.max(s-2,0),!0)}},500);return()=>{clearInterval(n)}}})}function Kme(e,t){return Wme(e,t),qme(t)}var Vn=(e=>(e.UNSTARTED="UNSTARTED",e.ENDED="ENDED",e.PLAYING="PLAYING",e.PAUSED="PAUSED",e.BUFFERING="BUFFERING",e.CUED="CUED",e))(Vn||{});const Yme={[Jo.PlayerState.UNSTARTED]:"UNSTARTED",[Jo.PlayerState.ENDED]:"ENDED",[Jo.PlayerState.PLAYING]:"PLAYING",[Jo.PlayerState.PAUSED]:"PAUSED",[Jo.PlayerState.BUFFERING]:"BUFFERING",[Jo.PlayerState.CUED]:"CUED"},Qme=v.forwardRef(function({video:t,autoplay:n,startAt:r,controls:i,disablekb:o,volume:s,width:a,height:l,onStateChange:c},u){const d=v.useRef(null),[h,p]=v.useState(Jo.PlayerState.UNSTARTED),g=Kme(d,h);return hme(d,s),v.useEffect(()=>{d.current&&d.current.getInternalPlayer().setSize(a,l)},[d,a,l,t,g]),v.useImperativeHandle(u,()=>({setSize:(m,b)=>{var y;return(y=d.current)==null?void 0:y.getInternalPlayer().setSize(m,b)},seekTo:m=>{var b;return(b=d.current)==null?void 0:b.getInternalPlayer().seekTo(m,!0)},setPlaybackSpeed:m=>{var b;return(b=d.current)==null?void 0:b.getInternalPlayer().setPlaybackRate(m)},setVolume:m=>{var b;return(b=d.current)==null?void 0:b.getInternalPlayer().setVolume(m)},getCurrentTime:()=>{var m;return(m=d.current)==null?void 0:m.getInternalPlayer().getCurrentTime()},loadVideoById:m=>{var b;return(b=d.current)==null?void 0:b.getInternalPlayer().loadVideoById(m)},playVideo:()=>{var m;(m=d.current)==null||m.getInternalPlayer().playVideo()},pauseVideo:()=>{var m;return(m=d.current)==null?void 0:m.getInternalPlayer().pauseVideo()},getDuration:()=>{var m;return(m=d.current)==null?void 0:m.getInternalPlayer().getDuration()}})),f.jsx(Jo,{title:" ",ref:d,videoId:t,opts:{width:"0",height:"0",playerVars:{autoplay:n?1:0,rel:0,fs:0,controls:i?1:0,start:r??0,end:0,disablekb:o?1:0,modestbranding:1}},onStateChange:m=>{p(m.data),c==null||c(Yme[m.data])}},`${t}-${g}`)}),Jme=v.forwardRef(function({video:t,autoplay:n,startAt:r,controls:i,disablekb:o,volume:s,width:a,height:l,onStateChange:c},u){const d=v.useRef(null),[h,p]=v.useState({w:a,h:l}),[g,m]=v.useState(Vn.UNSTARTED);v.useEffect(()=>{const y=w=>()=>m(w),A=d.current,x=y(Vn.PLAYING),S=y(Vn.PAUSED),_=y(Vn.ENDED);return A==null||A.addEventListener("playing",x),A==null||A.addEventListener("pause",S),A==null||A.addEventListener("ended",_),()=>{A==null||A.removeEventListener("playing",x),A==null||A.removeEventListener("pause",S),A==null||A.removeEventListener("ended",_)}},[d.current,m]),v.useEffect(()=>{c==null||c(g)},[g,c]);const b=v.useMemo(()=>({setSize:(y,A)=>p({w:y,h:A}),seekTo:y=>(d.current&&(d.current.currentTime=y),y),setPlaybackSpeed:y=>{d.current&&(d.current.playbackRate=y)},setVolume:()=>{},getCurrentTime:()=>{var y;return Promise.resolve(((y=d.current)==null?void 0:y.currentTime)??0)},loadVideoById:()=>{},playVideo:()=>{var y;return(y=d.current)==null?void 0:y.play()},pauseVideo:()=>{var y;return(y=d.current)==null?void 0:y.pause()},getDuration:()=>{var y;return Promise.resolve(((y=d.current)==null?void 0:y.duration)??0)}}),[d]);return v.useEffect(()=>{b.setSize(a,l)},[a,l,b]),v.useEffect(()=>{r!==void 0&&b.seekTo(r)},[r,b]),v.useImperativeHandle(u,()=>b),f.jsx("video",{width:h.w,height:h.h,autoPlay:n??!0,controls:i,ref:d,children:f.jsx("source",{src:t})})}),Xme="/assets/dummy-BNC13ZxI.mp4",Zme=v.forwardRef(function({video:t,controls:n,...r},i){return f.jsx(Jme,{ref:i,video:Xme,controls:!0,...r})});var e0e={VITE_APP_SENTRY_DSN_URL:"https://66c6e940d24b4096a277f350571921bb@o366978.ingest.sentry.io/6174734",VITE_APP_POSTHOG_KEY:"phc_bw7XLoONmtGVezmMKTvcwk3lj37jzxTfisqzjlJ0Jik",VITE_APP_BACKEND_HOST:"backend.allkaraoke.party",VITE_APP_WEBSOCKET_URL:"wss://backend.allkaraoke.party",VITE_APP_SENTRY_TUNNEL:"https://backend.allkaraoke.party/sentry",VITE_APP_POSTHOG_PROXY:"https://backend.allkaraoke.party/posthog",VITE_APP_SONG_CONVERT_PROXY:"https://backend.allkaraoke.party/proxy",VITE_APP_PARTYKIT_URL:"wss://allkaraoke-partykit.asvarox.partykit.dev",VITE_CJS_IGNORE_WARNING:"true",VITE_APP_PRERENDER:"true",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const _E=v.forwardRef((e,t)=>e0e.VITE_APP_OFFLINE?f.jsx(Zme,{...e,ref:t}):f.jsx(Qme,{...e,ref:t}));function v$({songData:e,background:t,width:n,height:r,children:i,...o}){return f.jsxs(t0e,{video:e.video,width:n,height:r,...o,children:[f.jsx(r0e,{video:e.video,blur:!0}),t&&f.jsx(y$,{children:t}),f.jsx(i0e,{children:f.jsxs(o0e,{children:[f.jsx(s0e,{children:e.title}),f.jsx("br",{}),f.jsx(a0e,{children:e.artist}),f.jsx("br",{}),e.author&&f.jsxs(l0e,{children:["by ",e.authorUrl?f.jsx("a",{href:e.authorUrl,children:e.author}):e.author]}),i]})})]})}const t0e=I("div",{target:"e1kx27c8"})("width:",e=>e.width,"px;top:0;height:",e=>e.height,"px;overflow-y:hidden;background:black;position:relative;"),y$=I("div",{target:"e1kx27c7"})({name:"1vuuxha",styles:"z-index:1;top:0;left:0;position:absolute;width:100%;height:100%"}),n0e=I(y$,{target:"e1kx27c6"})("background-size:cover;background-position:center center;filter:",e=>e.blur?"blur(0.5rem)":"none",";"),r0e=e=>f.jsx(n0e,{style:{backgroundImage:`url('https://i3.ytimg.com/vi/${e.video}/hqdefault.jpg')`},...e}),i0e=I("div",{target:"e1kx27c5"})({name:"11t99gq",styles:"z-index:2;top:0;left:0;width:100%;height:100%;position:absolute;pointer-events:none"}),o0e=I("div",{target:"e1kx27c4"})({name:"t7r80e",styles:"position:relative;margin:0 auto;color:white;max-width:144rem;height:100%;pointer-events:none"}),zv=I("span",{target:"e1kx27c3"})("background:rgba(0, 0, 0, 0.5);display:inline-block;backdrop-filter:blur(0.5rem);",Fe,";padding:0.5rem 2rem;margin:0 0 1rem 0;"),s0e=I(zv,{target:"e1kx27c2"})("color:",he.colors.text.active,";margin-top:2rem;font-size:4.5rem;"),a0e=I(zv,{target:"e1kx27c1"})({name:"tic7nk",styles:"font-size:3.5rem"}),l0e=I(zv,{target:"e1kx27c0"})({name:"a07gmx",styles:"font-size:2rem"});function c0e(e){var h;La(!1),Fa(!1);const t=oi(),{width:n,height:r}=Bh(),[i,o]=v.useState(0),s=Yu(),[a,l]=v.useState([]),{register:c}=Wn({onBackspace:()=>t("menu/")});v.useEffect(()=>s.data&&l(dme(s.data)),[s.data]);const u=()=>s.data&&o(p=>(p+1)%s.data.length);if(!a.length||!n||!r)return null;const d=Gm("game/",{song:a[i].id,playlist:"All"});return f.jsxs(Ws,{children:[f.jsx(Ei,{children:f.jsx("title",{children:"Jukebox | AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsx(bE,{children:f.jsxs(v$,{width:n,height:r,songData:a[i],"data-test":"jukebox-container","data-song":a[i].id,background:f.jsx(_E,{autoplay:!0,controls:!0,width:n,height:r,volume:(h=a[i])==null?void 0:h.volume,video:a[i].video,startAt:a[i].videoGap,onStateChange:p=>{p===Vn.ENDED&&u()}}),children:[f.jsx(d0e,{...c("skip-button",u),children:"Skip"}),f.jsx(Dr,{to:d,children:f.jsx(u0e,{...c("sing-button",()=>t(d),void 0,!0),children:"Sing this song"})})]})})]})}const u0e=I(zo,{target:"e1573hk21"})({name:"9gmhgo",styles:"bottom:7rem;right:2rem;width:50rem;position:absolute;font-size:1.9vw"}),d0e=I(zo,{target:"e1573hk20"})({name:"1qbm012",styles:"bottom:15rem;right:2rem;width:30rem;position:absolute;font-size:1.9vw"}),f0e=I("h1",{target:"enucs171"})({name:"8n9pib",styles:"display:flex;justify-content:center;align-items:center;position:relative"}),h0e=I("svg",{target:"enucs170"})({name:"1x5387l",styles:"--curve:cubic-bezier(0.65, 0, 0.45, 1);--green:#4caf50;margin-right:1rem;width:5rem;height:5rem;border-radius:50%;display:block;stroke-width:2;stroke:#fff;stroke-miterlimit:10;box-shadow:inset 0px 0px 0px var(--green);animation:fill 0.4s ease-in-out 0.4s forwards,scale 0.3s ease-in-out 0.9s both;.checkmark__circle{stroke-dasharray:166;stroke-dashoffset:166;stroke-width:2;stroke-miterlimit:10;stroke:var(--green);fill:none;animation:stroke 0.6s var(--curve) forwards;}.checkmark__check{transform-origin:50% 50%;stroke-dasharray:48;stroke-dashoffset:48;animation:stroke 0.3s var(--curve) 0.8s forwards;}@keyframes stroke{100%{stroke-dashoffset:0;}}@keyframes scale{0%,100%{transform:none;}50%{transform:scale3d(1.1, 1.1, 1);}}@keyframes fill{100%{box-shadow:inset 0px 0px 0px 3rem var(--green);}}"}),p0e=e=>f.jsx(h0e,{...e,children:f.jsxs("svg",{className:"checkmark",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 52 52",children:[f.jsx("circle",{className:"checkmark__circle",cx:"26",cy:"26",r:"25",fill:"none"}),f.jsx("path",{className:"checkmark__check",fill:"none",d:"M14.1 27.2l7.1 7.2 16.7-16.8"})]})});var xE={},g0e=rt;Object.defineProperty(xE,"__esModule",{value:!0});var hf=xE.default=void 0,m0e=g0e(ut()),PA=f;hf=xE.default=(0,m0e.default)([(0,PA.jsx)("path",{fillRule:"evenodd",d:"M16.67 13.13C18.04 14.06 19 15.32 19 17v3h4v-3c0-2.18-3.57-3.47-6.33-3.87"},"0"),(0,PA.jsx)("circle",{cx:"9",cy:"8",r:"4",fillRule:"evenodd"},"1"),(0,PA.jsx)("path",{fillRule:"evenodd",d:"M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4c-.47 0-.91.1-1.33.24C14.5 5.27 15 6.58 15 8s-.5 2.73-1.33 3.76c.42.14.86.24 1.33.24m-6 1c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4"},"2")],"PeopleAlt");var SE={},v0e=rt;Object.defineProperty(SE,"__esModule",{value:!0});var V_=SE.default=void 0,y0e=v0e(ut()),A0e=f;V_=SE.default=(0,y0e.default)((0,A0e.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"Person");var wE={},b0e=rt;Object.defineProperty(wE,"__esModule",{value:!0});var Rg=wE.default=void 0,_0e=b0e(ut()),x0e=f;Rg=wE.default=(0,_0e.default)((0,x0e.jsx)("path",{d:"M15.5 1h-8C6.12 1 5 2.12 5 3.5v17C5 21.88 6.12 23 7.5 23h8c1.38 0 2.5-1.12 2.5-2.5v-17C18 2.12 16.88 1 15.5 1m-4 21c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m4.5-4H7V4h9z"}),"PhoneIphone");var EE={},S0e=rt;Object.defineProperty(EE,"__esModule",{value:!0});var A$=EE.default=void 0,w0e=S0e(ut()),yP=f;A$=EE.default=(0,w0e.default)([(0,yP.jsx)("circle",{cx:"12",cy:"12",r:"3.2"},"0"),(0,yP.jsx)("path",{d:"M9 2 7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5"},"1")],"PhotoCamera");var kE={},E0e=rt;Object.defineProperty(kE,"__esModule",{value:!0});var b$=kE.default=void 0,k0e=E0e(ut()),C0e=f;b$=kE.default=(0,k0e.default)((0,C0e.jsx)("path",{d:"M3 11h8V3H3zm2-6h4v4H5zM3 21h8v-8H3zm2-6h4v4H5zm8-12v8h8V3zm6 6h-4V5h4zm0 10h2v2h-2zm-6-6h2v2h-2zm2 2h2v2h-2zm-2 2h2v2h-2zm2 2h2v2h-2zm2-2h2v2h-2zm0-4h2v2h-2zm2 2h2v2h-2z"}),"QrCode");const _$=I("span",{target:"ejt1whd0"})("position:absolute;transform:translate(40%, -50%);top:0;right:0;background:",he.colors.text.active,";font-size:1.5rem;",Fe,";color:",he.colors.text.default,";padding:0.5rem 1rem;border-radius:1.5rem;");function T0e({onPreferenceSelected:e,previouslySelected:t,onBack:n,skipText:r}){const[i]=Ue(yr),{register:o}=Wn({onBackspace:n});return f.jsxs(f.Fragment,{children:[f.jsxs(Fp,{...o("remote-mics",()=>e("remoteMics"),void 0,t==="remoteMics"),children:[f.jsxs(Ld,{children:[f.jsx(Xw,{}),f.jsx(Rg,{})]}),f.jsxs("div",{children:[i?"Connect other phones":"Use Smartphones",f.jsxs(Vd,{children:["Use"," ",f.jsxs("strong",{children:[f.jsx(A$,{}),"Camera app"]})," ","to scan a"," ",f.jsxs("strong",{children:[f.jsx(b$,{})," QR code"]})," ","that will open Remote Mic website - no need to download an app!"]})]}),f.jsx(_$,{children:"Recommended"}),f.jsxs(Bp,{children:[f.jsx(hf,{}),f.jsx("strong",{children:"1-4"})]})]}),f.jsxs(Fp,{...o("built-in",()=>e("built-in"),void 0,t==="built-in"),children:[f.jsxs(Ld,{children:[f.jsx(V_,{}),i?f.jsx(Rg,{}):f.jsx(Qw,{})]}),f.jsxs("div",{children:["This ",i?"device's":"computer's"," microphone",f.jsxs(Vd,{children:["Great to ",f.jsx("strong",{children:"test"})," the app, ",f.jsx("strong",{children:"sing alone"})," or don't care about the rivalry at the party"]})]}),f.jsxs(Bp,{children:[f.jsx(V_,{}),f.jsx("strong",{children:"1"})]})]}),f.jsx("hr",{}),!i&&f.jsxs(Fp,{...o("multiple-mics",()=>e("multiple-mics"),void 0,t==="multiple-mics"),children:[f.jsxs(Ld,{children:[f.jsx(v_,{}),f.jsx(hN,{})]}),f.jsxs("div",{children:["Multiple microphones",f.jsxs(Vd,{children:["Use either ",f.jsx("strong",{children:"SingStar"})," or ",f.jsx("strong",{children:"multiple microphones"})," connected to the device for each player"]})]}),f.jsxs(Bp,{children:[f.jsx(hf,{}),f.jsx("strong",{children:"2"})]})]}),f.jsxs(Fp,{...o("advanced",()=>e("advanced"),void 0,t==="advanced"),children:[f.jsxs(Ld,{children:[f.jsx(v_,{}),f.jsx(Rg,{})]}),f.jsxs("div",{children:["Advanced (manual) setup",f.jsx(Vd,{children:"Assign the specific device to a player manually, e.g. if you don't have regular SingStar microphones."})]}),f.jsxs(Bp,{children:[f.jsx(hf,{}),f.jsx("strong",{children:"1-4"})]})]}),f.jsx("hr",{}),f.jsx(Dr,{to:"menu/",onClick:s=>{s==null||s.preventDefault(),e("skip")},children:f.jsx(Re,{...o("skip",()=>e("skip"),void 0,t==="skip"),children:r||"Skip"})})]})}const Bp=I("div",{target:"eb2r3ii3"})(Fe,";position:absolute;inset:auto 0.5rem 0.5rem auto;svg{font-size:0.9em;}gap:0.5rem;display:flex;align-items:center;justify-content:flex-end;"),Vd=I("div",{target:"eb2r3ii2"})({name:"4vipg7",styles:"padding:0 3rem 0 6rem;font-size:1.6rem;max-height:0;overflow:clip;transition:300ms;svg{font-size:1.4rem;}opacity:0"}),Ld=I("div",{target:"eb2r3ii1"})("position:relative;margin:0rem 0.6rem 0 2.5rem;transition:300ms;svg{transition:300ms;width:3.6rem;height:3.6rem;color:",he.colors.players[1].text,";}svg:first-of-type{top:0.6rem;left:1.25rem;position:absolute;color:",he.colors.players[0].text,";z-index:100;transform:scaleX(-1);}"),Fp=I(Re,{target:"eb2r3ii0"})("position:relative;display:flex;align-items:center;&:hover,&[data-focused='true']{height:16.5rem;background:black;",yu,";",Vd,"{padding-top:1.6rem;max-height:10rem;opacity:1;opacity:1;}",Ld,"{transform:scale(1.75);}}");function x$(){var e,t;return((t=(e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.includes)==null?void 0:t.call(e,"Win"))??!1}const CE=(e,t,n=!0,r=1e3/pl.get())=>{v.useEffect(()=>{if(!n)return;const i=setInterval(()=>{const o=_n.getPlayerVolume(e)??0,s=_n.getPlayerFrequency(e)??0;t([o,Array.isArray(s)?s[0]:s])},r);return()=>{clearInterval(i)}},[e,r,t,n])},I0e=(e,t=1e3/pl.get(),n)=>{const[r,i]=v.useState([0,0]);return CE(e,i,!0,t),v.useEffect(()=>{n&&n(r)},[r,n]),r},S$=e=>v.useMemo(()=>{if(!he.colors.players[e])return"0, 0, 0";const t=fe(he.colors.players[e].text).toRgb();return`${t.r}, ${t.g}, ${t.b}`},[e]),w$=I("div",{target:"eq7cjwi0"})({name:"5jivz6",styles:"height:100%;width:100%;position:absolute;right:0;top:0;background-repeat:repeat-y;transform-origin:right;z-index:1;pointer-events:none"}),R0e=v.forwardRef(({volume:e,playerNumber:t,...n},r)=>{const i=`${Math.min(1,e*20)}`,o=S$(t);return Oe.getPlayer(t)?f.jsx(w$,{...n,style:{transform:`scaleX(${i})`,background:`linear-gradient(270deg, rgba(${o}, 1) 0%, rgba(${o}, 0) 100%)`},ref:r}):null}),TE=({playerNumber:e,...t})=>{const[n,r]=v.useState(),i=v.useCallback(([s])=>{if(n){const a=`${Math.min(1,s*20)}`;n.style.transform=`scaleX(${a})`}},[n]);CE(e,i);const o=S$(e);return f.jsx(w$,{...t,ref:r,style:{background:`linear-gradient(270deg, rgba(${o}, 1) 0%, rgba(${o}, 0) 100%)`}})};function P0e(e,t){const n=Object.keys(t),[r,i]=Si([ee.playerInputChanged,ee.inputListChanged],()=>{var l;const a=(l=Oe.getPlayer(e))==null?void 0:l.input;return a?[a,Os.getInputForPlayerSelected(a)]:[null,null]});v.useEffect(()=>{var a;if(i===null){const l=n[0],c=t[l].getDefault();c&&((a=Oe.getPlayer(e))==null||a.changeInput(n[0],c.channel,c.deviceId))}});const o=a=>{var u;const l=Ea(n,(r==null?void 0:r.source)??n[0]),c=a!==void 0?t[l].list[a]:t[l].getDefault();(u=Oe.getPlayer(e))==null||u.changeInput(l,c==null?void 0:c.channel,c==null?void 0:c.deviceId)},s=()=>{var u;if(!r)return;const a=t[r.source].list,l=i?a.findIndex(d=>d.id===i.id):0,c=Nh(a,l);if(c===0)o(0);else{const d=a[c];(u=Oe.getPlayer(e))==null||u.changeInput(r.source,d==null?void 0:d.channel,d==null?void 0:d.deviceId)}};return[(r==null?void 0:r.source)??null,o,i,s]}const E$=e=>{const t=e.player,[n,r,i,o]=P0e(t.number,e.inputs);return f.jsxs(f.Fragment,{children:[e.blockSourceChange?f.jsxs(V0e,{children:[f.jsxs("h3",{className:"ph-no-capture",children:[t.getName()," Input"]}),f.jsx("h4",{children:"(click to change)"})]}):f.jsx(O0e,{...e.readonly?{}:e.register(`player-${t.number}-source`,()=>r()),label:f.jsxs("span",{className:"ph-no-capture",children:[t.getName()," Source"]}),value:n,disabled:e.readonly}),f.jsx(j0e,{...e.readonly?{}:e.register(`player-${t.number}-input`,o),label:"Input",disabled:e.readonly,value:i==null?void 0:i.label,children:f.jsx(M0e,{playerNumber:t.number})})]})},M0e=I(TE,{target:"e6monco3"})({name:"1vx2200",styles:"opacity:0.75;width:50%;height:calc(100% - 0.5rem);margin:0.25rem"}),j0e=I(pi,{target:"e6monco2"})({name:"bjn8wh",styles:"position:relative"}),O0e=I(pi,{target:"e6monco1"})({name:"bigtx2",styles:"background:none"}),V0e=I("div",{target:"e6monco0"})({name:"1laz9o6",styles:"display:flex;justify-content:space-between;align-items:flex-end"});function Uv(e=!1,t){const n=Si(ee.inputListChanged,()=>{const r={...Os.getInputList()};if(t)return{[t]:r[t]};for(const i in r)r[i].list.length===0&&delete r[i];return r});return v.useEffect(()=>{e&&Os.loadMics()},[e]),n}function Fh(e,t=tm){v.useEffect(()=>{Oe.setMinPlayerNumber(e);const n=Oe.getPlayers();if(n.length>t)for(let r=n.length;r>t;r--)Oe.removePlayer(n[r-1].number);else if(n.length<e){const r=Oe.getPlayers().map(o=>o.number),i=Array.from(Array(tm).keys()).filter(o=>!r.includes(o));console.log(i,r);for(let o=n.length;o<e;o++)Oe.addPlayer(i.shift())}},[])}function k$(){const e=v.useRef(0);Tr(ee.remoteMicConnected,({id:t})=>{var r;if(console.log("useRemoteMicAutoselect",t),Oe.getInputs().some(i=>i.deviceId===t)){console.log(`Input ${t} already assigned to player`);return}const n=Oe.getPlayer(e.current);n?n.changeInput(js.inputName,0,t):(r=Oe.addPlayer(e.current))==null||r.changeInput(js.inputName,0,t),e.current=(e.current+1)%tm})}function L0e(e){Fh(2);const t=Uv(!0),n=Ww();v.useEffect(()=>{e.onSetupComplete(n==="accepted")},[n]),k$();const{register:r}=Wn({onBackspace:e.onBack}),o=Si(ee.playerInputChanged,()=>Oe.getInputs()).filter(a=>a.source===Cs.inputName),s=Si([ee.inputListChanged,ee.playerInputChanged,ee.playerRemoved],()=>Oe.getPlayers());return f.jsxs(f.Fragment,{children:[f.jsxs(Lh,{fallback:f.jsx("h2",{children:"Please allow access to the microphone so we can show them."}),children:[f.jsx(zw,{}),s.map((a,l)=>f.jsx(E$,{inputs:t,player:a,register:r,readonly:l>1},a.number)),f.jsx("hr",{}),o.length>1&&gE()&&x$()&&f.jsxs("h3",{children:[f.jsx("strong",{children:"Chrome"})," is known for not handling SingStar mics well. If you notice any problems, try using an alternative browser (eg. ",f.jsx("strong",{children:"MS Edge"})," or ",f.jsx("strong",{children:"Firefox"}),")"]})]}),f.jsx(Re,{...r("back-button",e.onBack),children:"Change Input Type"}),f.jsx(Re,{...r("save-button",e.onSave),children:e.closeButtonText})]})}var IE={},N0e=rt;Object.defineProperty(IE,"__esModule",{value:!0});var C$=IE.default=void 0,$0e=N0e(ut()),D0e=f;C$=IE.default=(0,$0e.default)((0,D0e.jsx)("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check");var RE={},B0e=rt;Object.defineProperty(RE,"__esModule",{value:!0});var PE=RE.default=void 0,F0e=B0e(ut()),z0e=f;PE=RE.default=(0,F0e.default)((0,z0e.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-2h2zm0-4h-2V7h2z"}),"Error");function ME({names:e}){return f.jsx(U0e,{children:Oe.getPlayers().map(t=>f.jsxs(H0e,{"data-test":`mic-check-p${t.number}`,children:[f.jsx(TE,{playerNumber:t.number}),f.jsx("span",{className:"ph-no-capture",children:(e==null?void 0:e[t.number])??t.getName()})]},t.number))})}const U0e=I("div",{target:"e1e3gceh1"})({name:"e7x0p4",styles:"display:flex;gap:1.25rem;div{flex:1;}"}),H0e=I("div",{target:"e1e3gceh0"})({name:"186bnmk",styles:"position:relative;border:0.1rem solid white;padding:1rem 3rem;background:black;text-align:center;gap:1.25rem;font-size:2.3rem;color:white"});function G0e(e){const[t,n]=v.useState(null),r=v.useRef([]),i=v.useRef(0),o=v.useCallback(([s])=>{if(r.current.push(s),r.current.length>35){const l=r.current.sort()[Math.floor(r.current.length/2)]>0;l||i.current>7?n(l):i.current++,r.current.length=0}},[e]);return CE(0,o,t!==!0),v.useEffect(()=>{r.current.length=0,i.current=0,n(null)},[e]),t}function q0e(e){Fh(1,1);const{register:t}=Wn({onBackspace:e.onBack}),{Microphone:n}=Uv(!0,"Microphone"),r=Si([ee.playerInputChanged,ee.inputListChanged],()=>{var u;const l=Oe.getInputs().find(d=>d.source==="Microphone"),c=Os.getInputList().Microphone.list;return l?((u=c.find(d=>d.id===Ml(l)))==null?void 0:u.label)??"":""}),i=l=>{Oe.getPlayers().forEach(c=>c.changeInput(Cs.inputName,l.channel,l.deviceId))},o=()=>{if(r===""){const l=n.getDefault();l&&i(l)}};v.useEffect(o,[]),Tr([ee.inputListChanged,ee.playerRemoved],o);const s=()=>{const l=n.list.findIndex(c=>c.label===r);if(l>-1){const c=n.list[Nh(n.list,l)];i(c)}},a=G0e(r);return v.useEffect(()=>{e.onSetupComplete(!!r&&!!a)},[r,a]),f.jsxs(f.Fragment,{children:[f.jsxs(Lh,{fallback:f.jsx("h2",{children:"Please allow access to the microphone so the default one can be selected."}),children:[!r&&f.jsx("h3",{children:"The default device is being selected."}),r&&f.jsxs(f.Fragment,{children:[f.jsxs(W0e,{children:[f.jsx("h3",{children:"You'll sing using"}),f.jsx("h4",{children:"(click to change)"})]}),f.jsx(pi,{...t("selected-mic",s),label:"Mic",value:r}),f.jsxs(K0e,{children:[a===!0&&f.jsxs(f.Fragment,{children:[f.jsx("h3",{children:"Microphone is audible"}),f.jsx(MA,{children:f.jsx(Q0e,{})})]}),a===!1&&f.jsxs(f.Fragment,{children:[f.jsx("h3",{children:"Microphone is not audible"}),f.jsx(MA,{children:f.jsx(Y0e,{})})]}),a===null&&f.jsxs(f.Fragment,{children:[f.jsx("h3",{children:"Make some noise to the microphone"}),f.jsx(MA,{children:f.jsx($h,{size:"1em"})})]})]}),a===!1&&f.jsx("h4",{children:"Make some noise to the microphone. If that doesn't work, try using another microphone."})]}),f.jsx(ME,{}),a===!0&&f.jsxs("h4",{children:["Built-in microphones can pick up music from the game. For more accurate scores, try using your"," ",f.jsx("button",{onClick:()=>e.changePreference("remoteMics"),children:"smartphone as a microphone"}),"."]})]}),f.jsx(Re,{...t("back-button",e.onBack),children:"Change Input Type"}),f.jsx(Re,{...t("save-button",e.onSave,void 0,!0,{disabled:!r}),disabled:!r,children:e.closeButtonText})]})}const W0e=I("div",{target:"e19x30ho4"})({name:"1laz9o6",styles:"display:flex;justify-content:space-between;align-items:flex-end"}),K0e=I("div",{target:"e19x30ho3"})({name:"19mh0x6",styles:"display:flex;align-items:center;justify-content:flex-end"}),MA=I("div",{target:"e19x30ho2"})({name:"1wxh51d",styles:"width:4rem;height:3rem;display:flex;align-items:center;justify-content:flex-end"}),Y0e=I(PE,{target:"e19x30ho1"})({name:"72zlrs",styles:"&&{width:2em;height:2em;}color:red"}),Q0e=I(C$,{target:"e19x30ho0"})({name:"17t2lqr",styles:"&&{width:2em;height:2em;}color:white"});function J0e(e){Fh(2);const t=Uv(!0,"Microphone"),n=Ww();v.useEffect(()=>{e.onSetupComplete(n==="accepted")},[n]),v.useEffect(()=>{Oe.getPlayers().forEach(o=>{o.input.source!=="Microphone"&&o.changeInput("Microphone",0)})},[]);const{register:r}=Wn({onBackspace:e.onBack}),i=Si([ee.inputListChanged,ee.playerInputChanged,ee.playerRemoved],()=>Oe.getPlayers());return f.jsxs(f.Fragment,{children:[f.jsxs(Lh,{fallback:f.jsx("h2",{children:"Please allow access to the microphone so we can show them."}),children:[i.map((o,s)=>f.jsx(E$,{inputs:t,player:o,register:r,readonly:s>1,blockSourceChange:!0},o.number)),f.jsx("hr",{})]}),f.jsx(Re,{...r("back-button",e.onBack),children:"Change Input Type"}),f.jsx(Re,{...r("save-button",e.onSave),children:e.closeButtonText})]})}function X0e(e){const{register:t}=Wn({onBackspace:e.onBack});return f.jsxs(f.Fragment,{children:[f.jsx(Re,{...t("singstar-mics",()=>e.changePreference("singstar-mics")),children:"SingStar microphones"}),f.jsx(Re,{...t("different-mics-button",()=>e.changePreference("different-mics")),children:"Multiple different microphones"}),f.jsx("hr",{}),f.jsx(Re,{...t("back-button",e.onBack),children:"Change Input Type"})]})}function Z0e(e){var o,s;Fh(2);const{register:t}=Wn({onBackspace:e.onBack});k$();const n=Si([ee.inputListChanged,ee.playerInputChanged,ee.playerRemoved],()=>Oe.getInputs().map(a=>a.source==="Remote Microphone"?a:null).map(a=>a?Os.getInputForPlayerSelected(a):null)),r=()=>{e.onSave()},i=!!((o=n[0])!=null&&o.label)&&!!((s=n[1])!=null&&s.label);return v.useEffect(()=>{e.onSetupComplete(i)},[i]),f.jsxs(f.Fragment,{children:[f.jsx(zw,{}),f.jsx("h4",{children:"You can connect multiple phones in advance."}),f.jsx("h4",{children:"You will be able to connect phones later."}),f.jsx(ME,{}),f.jsx(Re,{...t("back-button",e.onBack),children:"Change Input Type"}),f.jsx(Re,{...t("save-button",r,void 0,!0),children:e.closeButtonText})]})}function eve(e){Fh(2);const{register:t}=Wn({onBackspace:e.onBack}),{Microphone:n}=Uv(!0,"Microphone"),[r,i]=v.useState(!1),o=Si([ee.playerInputChanged,ee.inputListChanged],()=>{const c=Oe.getInputs(),u=[...new Set(c.map(p=>p.deviceId))].length===1,d=!c.find(p=>p.source!=="Microphone"),h=!c.find(p=>{var g;return((g=Os.getInputForPlayerSelected(p))==null?void 0:g.preferred)===void 0});return u&&d&&h});v.useEffect(()=>(o&&_n.startMonitoring(),()=>{_n.stopMonitoring()}),[o]);const s=()=>{e.onSave()},[a,l]=v.useState(!1);return Tr(ee.inputListChanged,c=>{const u=n.list.filter(d=>d.preferred!==void 0);u.length===2&&u[0].deviceId===u[1].deviceId&&u.forEach(d=>{var h;(h=Oe.getPlayer(d.preferred))==null||h.changeInput(Cs.inputName,d.channel,d.deviceId)}),c||l(!0)}),v.useEffect(()=>{e.onSetupComplete(o)},[o]),v.useEffect(()=>{if(o)i(!1);else{const c=setTimeout(()=>i(!0),2500);return()=>clearTimeout(c)}},[o]),f.jsxs(f.Fragment,{children:[f.jsxs(Lh,{fallback:f.jsx("h2",{children:"Please allow access to the microphone so we can find SingStar ones."}),children:[!o&&f.jsxs(f.Fragment,{children:[f.jsxs("h3",{children:[f.jsx($h,{size:"0.85em"})," Connect your SingStar microphones."]}),f.jsx("h4",{"data-test":"setup-not-completed",children:"It can take a couple of seconds to detect after you connect them."}),a&&f.jsx("h4",{children:f.jsxs("h4",{"data-test":"list-change-info",children:["Available microphones list has changed, but no SingStar mics were found. Try"," ",f.jsx("button",{onClick:()=>e.changePreference("advanced"),children:"Advanced"})," setup."]})}),r&&f.jsxs(f.Fragment,{children:[!a&&f.jsxs(AP,{"data-test":"advanced-tip",children:["If they don't get detected, try"," ",f.jsx("button",{onClick:()=>e.changePreference("advanced"),children:"Advanced"})," section in the previous menu."]}),gE()&&x$()&&f.jsxs(AP,{children:[f.jsx("strong",{children:"Chrome"})," is known for not handling SingStar mics well. If you notice any problems, try using an alternative browser (eg. ",f.jsx("strong",{children:"MS Edge"})," or ",f.jsx("strong",{children:"Firefox"}),")"]})]})]}),o&&f.jsxs(f.Fragment,{children:[f.jsxs("h2",{"data-test":"setup-completed",children:[f.jsx("strong",{children:"SingStar"})," microphone connected!"]}),f.jsx(ME,{names:["Blue","Red"]})]})]}),f.jsx(Re,{...t("back-button",e.onBack),children:"Change Input Type"}),f.jsx(Re,{...t("save-button",s,void 0,!0,{disabled:!o}),"data-test":"save-button",children:e.closeButtonText})]})}const AP=I("h4",{target:"ejfctyg0"})({name:"3v8j4h",styles:"background:darkred;padding:1rem"});function tve(e){return v.useEffect(()=>{e.onSave()},[]),null}const T$="Previously selected input type",nve=Ve.local.getItem(T$);function jE({onFinish:e,closeButtonText:t,playerNames:n,onBack:r,skipText:i,smooth:o=!0}){const[s,a]=Ue(fx),[l,c]=v.useState(s==="skip"?null:s),[u,d]=v.useState(!1);v.useEffect(()=>{const m=_n.monitoringStarted();return _n.startMonitoring(),()=>{!m&&_n.stopMonitoring()}},[]);const h=(...m)=>{o?ih(()=>{ec.flushSync(()=>{c(...m)})}):c(...m)},p=m=>()=>{a(m==="skip"?s??"skip":m),m&&(Ve.local.setItem(T$,m),bn.capture("sourcePreferenceSet",{source:m})),e==null||e(m)},g=()=>{ih(()=>{c(null),d(!1)})};return f.jsxs(f.Fragment,{children:[f.jsx(f0e,{children:u?f.jsxs(f.Fragment,{children:[f.jsx(p0e,{})," Setup completed!"]}):"How do you want to sing?"}),(l===null||l==="skip")&&f.jsx(T0e,{onPreferenceSelected:h,previouslySelected:nve,onBack:r,skipText:i}),l==="remoteMics"&&f.jsx(Z0e,{onSetupComplete:d,onBack:g,onSave:p("remoteMics"),closeButtonText:t,changePreference:c}),l==="multiple-mics"&&f.jsx(X0e,{onSetupComplete:d,onBack:g,closeButtonText:t,changePreference:c}),l==="singstar-mics"&&f.jsx(eve,{onSetupComplete:d,onBack:g,onSave:p("singstar-mics"),closeButtonText:t,changePreference:c}),l==="different-mics"&&f.jsx(J0e,{onSetupComplete:d,onBack:g,onSave:p("singstar-mics"),closeButtonText:t,changePreference:c}),l==="built-in"&&f.jsx(q0e,{onSetupComplete:d,onBack:g,onSave:p("built-in"),closeButtonText:t,changePreference:c}),l==="advanced"&&f.jsx(L0e,{onSave:p("advanced"),onSetupComplete:d,onBack:g,closeButtonText:t,changePreference:c}),l==="skip"&&f.jsx(tve,{onSetupComplete:d,onBack:g,onSave:p("skip"),closeButtonText:t,changePreference:c})]})}function rve(e){const t=oi();return f.jsxs(Ba,{children:[f.jsx(Ei,{children:f.jsx("title",{children:"Select Input | AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsx(jE,{onFinish:()=>t("menu/"),closeButtonText:"Go to main menu"})]})}const ive=({error:e,resetError:t})=>f.jsxs(Ba,{supportedBrowsers:!0,children:[f.jsxs("h1",{children:[f.jsx(nc,{fontSize:"large"})," An error occurred :("]}),"message"in e?f.jsxs(f.Fragment,{children:[f.jsx("h3",{children:"The game crashed with following error"}),f.jsx(ove,{children:e.message})]}):f.jsx("h3",{children:"The game crashed"}),f.jsxs("h3",{children:["Help fix it by reporting what exactly has happened at"," ",f.jsx("a",{href:"https://github.com/Asvarox/allkaraoke",target:"_blank",rel:"noreferrer",children:"GitHub"})," ","or"," ",f.jsx("a",{href:"https://www.facebook.com/allkaraoke.party",target:"_blank",rel:"noreferrer",children:"Facebook"})]}),f.jsx(Re,{onClick:t,children:"Reset Error"}),f.jsx("h4",{children:"If that doesn't help"}),f.jsx(Re,{onClick:()=>{var n;return global.location.href=(n=global.location)==null?void 0:n.origin},children:"Reload the game"}),f.jsx("h4",{children:"If that doesn't help"}),f.jsx(Re,{onClick:()=>{var n;global.confirm("Are you sure? It will delete all custom songs and scores. Before doing that, try opening the game in an private window or another browser to make sure it will actually help")&&(Ve.session.clear(),Ve.local.clear(),Qd.clear(),global.location.href=(n=global.location)==null?void 0:n.origin)},children:"Clear all data"})]}),ove=I("span",{target:"e10ztnls0"})({name:"1jmtlcm",styles:"color:white;font-family:monospace"});var sve={VITE_APP_SENTRY_DSN_URL:"https://66c6e940d24b4096a277f350571921bb@o366978.ingest.sentry.io/6174734",VITE_APP_POSTHOG_KEY:"phc_bw7XLoONmtGVezmMKTvcwk3lj37jzxTfisqzjlJ0Jik",VITE_APP_BACKEND_HOST:"backend.allkaraoke.party",VITE_APP_WEBSOCKET_URL:"wss://backend.allkaraoke.party",VITE_APP_SENTRY_TUNNEL:"https://backend.allkaraoke.party/sentry",VITE_APP_POSTHOG_PROXY:"https://backend.allkaraoke.party/posthog",VITE_APP_SONG_CONVERT_PROXY:"https://backend.allkaraoke.party/proxy",VITE_APP_PARTYKIT_URL:"wss://allkaraoke-partykit.asvarox.partykit.dev",VITE_CJS_IGNORE_WARNING:"true",VITE_APP_PRERENDER:"true",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};function ave(e){Fa(!1);const t=Yu();return v.useEffect(()=>{if(t.data){const n={};(async()=>{for(const r of t.data){if(r.realBpm)continue;const i=[`lookup=song:${encodeURIComponent(r.title)}+artist:${encodeURIComponent(r.artist)}`,"type=both",`api_key=${sve.VITE_APP_GET_SONG_BPM_API_TOKEN}`].join("&"),s=await(await fetch(`https://api.getsongbpm.com/search/?${i}`)).json();n[r.id]=Array.isArray(s.search)&&s.search[0]||null}console.log(n)})()}},[t.data]),f.jsx(f.Fragment,{children:"Copy resulting object to `scripts/scraped-bpm-data.json` file and run fillMetadata script"})}function lve(e){const t=oi(),n=()=>t("menu/");return f.jsxs(f.Fragment,{children:[f.jsx(Ei,{children:f.jsx("title",{children:"Select Languages | AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsx(bE,{children:f.jsx(BN,{onClose:n,closeText:"Return to Main Menu"})})]})}function I$(){const[e]=Ue(px);v.useEffect(()=>{try{e&&document.body.requestFullscreen().catch(console.info)}catch{}},[])}let jA=0;function R$(){v.useEffect(()=>(document.body.classList.add("blockOverflow"),document.documentElement.classList.add("blockOverflow"),jA++,()=>{jA--,jA===0&&(document.body.classList.remove("blockOverflow"),document.documentElement.classList.remove("blockOverflow"))}),[])}var OE={},cve=rt;Object.defineProperty(OE,"__esModule",{value:!0});var P$=OE.default=void 0,uve=cve(ut()),dve=f;P$=OE.default=(0,uve.default)((0,dve.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2M7.5 18c-.83 0-1.5-.67-1.5-1.5S6.67 15 7.5 15s1.5.67 1.5 1.5S8.33 18 7.5 18m0-9C6.67 9 6 8.33 6 7.5S6.67 6 7.5 6 9 6.67 9 7.5 8.33 9 7.5 9m4.5 4.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m4.5 4.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m0-9c-.83 0-1.5-.67-1.5-1.5S15.67 6 16.5 6s1.5.67 1.5 1.5S17.33 9 16.5 9"}),"Casino");function fve({setFilters:e,filters:t,keyboardControl:n,visible:r,setVisible:i}){const o=v.useRef(null),[s,a]=v.useState(!1),l=h=>{e(p=>({...p,search:h}))};Lr("down",()=>{var h;(h=o.current)==null||h.blur()},{enabled:s,enableOnTags:["INPUT"]});const u=h=>{h.stopPropagation(),h.preventDefault(),l(h.key)};Lr(ab,h=>{u(h),i(!0)},{enabled:!t.search&&n});const d=v.useCallback(h=>{n&&l(h)},[n]);return Tr(ee.remoteSongSearch,d),Lr(ab,h=>{var p;u(h),(p=o.current)==null||p.focus()},{enabled:!s&&n},[t.search]),Lr("Backspace",h=>{var p;(p=o.current)==null||p.focus()},{enabled:!s&&n},[t.search]),v.useEffect(()=>{s||i(!!t.search)},[s,t.search,i]),!t.search&&!r?null:f.jsx(hve,{"data-test":"song-list-search",children:f.jsx(pve,{large:!0,children:f.jsx("form",{"data-test":"filters-search-form",onSubmit:h=>{var p;h.preventDefault(),(p=o.current)==null||p.blur()},children:f.jsx(rc,{onFocus:()=>a(!0),onBlur:()=>a(!1),onKeyDown:h=>{var p;h.key==="Backspace"&&((p=t.search)==null?void 0:p.length)===0&&i(!1)},focused:s,autoFocus:!0,label:"Search",value:t.search??"",onChange:l,ref:o,"data-test":"filters-search"})})})})}const hve=I("div",{target:"ektgxsz1"})({name:"t46wvs",styles:"background:rgba(0, 0, 0, 0.7);padding:2rem;font-size:3rem;box-sizing:border-box;display:flex;flex-direction:row;gap:2rem;position:fixed;z-index:200;top:4.5rem;left:30rem;right:30rem"}),pve=I("div",{target:"ektgxsz0"})("flex:",e=>e.large?1.5:1,";");function gve({onRandom:e,setFilters:t,filters:n,keyboardControl:r}){const[i,o]=v.useState(!1),s=()=>{t(a=>({...a,search:""}))};return f.jsxs(f.Fragment,{children:[f.jsxs(mve,{children:[f.jsx(Tu,{title:"Search",place:"left",children:f.jsx(bP,{onClick:()=>i?s():o(!0),"data-test":"search-song-button",children:f.jsx(Vv,{})})}),f.jsx(Tu,{title:"Pick random",place:"left",children:f.jsx(bP,{onClick:e,"data-test":"random-song-button",children:f.jsx(P$,{})})})]}),f.jsx(fve,{setFilters:t,filters:n,visible:i,setVisible:o,keyboardControl:r})]})}const bP=I(zo,{target:"eie1eis1"})("box-shadow:inset 0 0 2px 2px ",he.colors.text.active,";background:black;width:7.5rem;height:7.5rem;border-radius:50%;display:flex;align-items:center;justify-content:center;svg{width:4.5rem;height:4.5rem;}"),mve=I("div",{target:"eie1eis0"})({name:"1x0sh4s",styles:"pointer-events:none;position:fixed;display:flex;flex-direction:column;align-items:center;justify-content:center;bottom:2.5rem;right:2.5rem;z-index:100;gap:2rem"});function M$({videoId:e,...t}){return f.jsx(bve,{src:`https://img.youtube.com/vi/${e}/default.jpg`,alt:`Thumbnail image for YouTube video ${e}`,...t})}function vve({videoId:e,...t}){const n=OX(e)??e,[r,i]=v.useState(!0);v.useLayoutEffect(()=>{i(s=>!s)},[e]);const[o]=Ue(qi);return o==="low"?null:f.jsxs(yve,{...t,children:[f.jsx(_P,{videoId:r?e:n,visible:r}),f.jsx(_P,{videoId:r?n:e,visible:!r}),f.jsx(Ave,{videoId:n})]})}const yve=I("div",{target:"e1lv5ws3"})({name:"k44s62",styles:"position:relative;overflow:hidden;background:black"}),Ave=I(M$,{target:"e1lv5ws2"})({name:"6dhm9o",styles:"visibility:hidden"}),_P=I(M$,{target:"e1lv5ws1"})("position:absolute;transition:opacity 300ms;opacity:",e=>e.visible?1:0,";"),bve=I("img",{target:"e1lv5ws0"})({name:"4uwt2b",styles:"width:100%;height:100%;object-fit:cover"});function _ve(e,t,n="mousedown",r={}){RX(n,i=>{const o=i.target;if(!o||!o.isConnected)return;(Array.isArray(e)?e.filter(a=>!!a.current).every(a=>a.current&&!a.current.contains(o)):e.current&&!e.current.contains(o))&&t(i)},void 0,r)}function xve({active:e,closePlaylist:t,playlists:n,selectedPlaylist:r,setSelectedPlaylist:i}){const{register:o,focused:s,focusElement:a}=Wn({enabled:e,additionalHelp:{vertical:void 0,"horizontal-vertical":null}}),l=v.useRef(null);return _ve(l,()=>{t()}),Jl({left:()=>t("left"),right:()=>t("right")},e),v.useEffect(()=>{a(`playlist-${r}`)},[r]),v.useEffect(()=>{if(s){const c=n.find(u=>`playlist-${u.name}`===s);c&&i(c.name)}},[s,n]),f.jsx(Sve,{"data-test":"song-list-playlists",active:e,ref:l,children:n.map(({Wrapper:c,...u})=>{const d=f.jsx(wve,{"data-selected":`playlist-${u.name}`===s,"data-active":e,...o(`playlist-${u.name}`,()=>a(`playlist-${u.name}`),void 0,u.name===r),children:u.display??u.name},u.name);return c?f.jsx(c,{active:e,focused:`playlist-${u.name}`===s,children:d},u.name):d})})}const Sve=I("div",{target:"emspgv91"})("background:rgba(0, 0, 0, ",e=>e.active?.75:.5,");width:100vh;height:var(--song-sidebar-weight);transform-origin:top right;transform:rotate(-90deg);position:absolute;z-index:200;left:-100vh;top:0;box-sizing:border-box;display:flex;flex-direction:row-reverse;gap:0;h2{",Fe,";margin:0;}"),wve=I(zo,{target:"emspgv90"})("font-size:2.3rem;justify-self:stretch;flex-grow:1;&[data-focused='false'][data-active='true']{background-color:transparent;}&[data-selected='true']{",bX,";}&[data-selected='false'][data-active='false']{opacity:0.75;}padding:1.5rem 1rem;"),VE=e=>{const[t,n]=v.useState(null),r=pu(e),i=async()=>{n(await $3(e))};return v.useEffect(()=>{i()},[r]),Tr(ee.songStatStored,i),t},Eve=e=>async(t,n,r,i)=>{const o=pu(e),s=await $3(e),a=s.scores.map(c=>{if(c.setup.id!==t)return c;const u=c.scores.map(d=>d.name!==r||d.score!==n?d:{name:i.trim(),score:n});return{...c,scores:u}}),l={...s,scores:a};await D3(e,l),ee.songScoreUpdated.dispatch(o,l,i.trim())},kve=JSON.parse(`{
  "af": [
    "Persian Dari",
    "Pashto"
  ],
  "al": [
    "Albanian"
  ],
  "dz": [
    "Arabic",
    "Berber"
  ],
  "ad": [
    "Catalan"
  ],
  "ao": [
    "Portuguese"
  ],
  "ag": [
    "English"
  ],
  "ar": [
    "Spanish"
  ],
  "am": [
    "Armenian"
  ],
  "au": [
    "English"
  ],
  "at": [
    "German"
  ],
  "az": [
    "Azerbaijani"
  ],
  "bs": [
    "English"
  ],
  "bh": [
    "Arabic"
  ],
  "bd": [
    "Bengali"
  ],
  "bb": [
    "English"
  ],
  "by": [
    "Belarusian",
    "Russian"
  ],
  "be": [
    "Dutch",
    "French",
    "German"
  ],
  "bz": [
    "English"
  ],
  "dy": [
    "French"
  ],
  "bt": [
    "Dzongkha"
  ],
  "bo": [
    "Spanish",
    "Aymara",
    "Araona",
    "Baure",
    "Bsiro Chiquitano",
    "Canichana",
    "Cavinea",
    "Cayubaba",
    "Chcobo",
    "Chimn",
    "Ese Ejja",
    "Guaran",
    "Guarasuwe",
    "Guarayu",
    "Itonama",
    "Leco",
    "Machajuyai",
    "Machineri",
    "Maropa",
    "Mojeo",
    "Mojeo",
    "Mor",
    "Mosetn",
    "Movima",
    "Pacawara",
    "Puquina",
    "Quechua",
    "Sirion",
    "Tacana",
    "Tapiet",
    "Toromona",
    "Uru-Chipaya",
    "Weenhayek",
    "Yaminawa",
    "Yuki",
    "Yuracar",
    "Zamuco"
  ],
  "ba": [
    "Bosnian",
      "Croatian",
      "Serbian"
  ],
  "bw": [
    "English"
  ],
  "br": [
    "Portuguese"
  ],
  "bn": [
    "Malay"
  ],
  "bg": [
    "Bulgarian"
  ],
  "hv": [
    "French"
  ],
  "bi": [
    "French",
    "Kirundi",
    "English"
  ],
  "kh": [
    "Khmer"
  ],
  "cm": [
    "English",
    "French"
  ],
  "ca": [
    "English",
    "French"
  ],
  "cv": [
    "Portuguese"
  ],
  "cf": [
    "French",
    "Sango"
  ],
  "td": [
    "Arabic",
    "French"
  ],
  "cl": [
    "Spanish"
  ],
  "cn": [
    "Chinese"
  ],
  "cx": [
    "English",
    "Chinese",
    "Malay"
  ],
  "cc": [
    "English",
    "Cocos Malay"
  ],
  "co": [
    "Spanish"
  ],
  "km": [
    "Arabic",
    "Comorian",
    "French"
  ],
  "cd": [
    "French"
  ],
  "cg": [
    "French"
  ],
  "ck": [
    "English",
    "Cook Islands Mori"
  ],
  "cr": [
    "Spanish"
  ],
  "hr": [
    "Croatian"
  ],
  "cu": [
    "Spanish"
  ],
  "cy": [
    "Turkish"
  ],
  "cz": [
    "Czech",
    "Slovak"
  ],
  "dk": [
    "Danish"
  ],
  "dj": [
    "Arabic",
    "French"
  ],
  "dm": [
    "English"
  ],
  "do": [
    "Spanish"
  ],
  "tl": [
    "Portuguese",
    "Tetum"
  ],
  "ec": [
    "Spanish",
    "Quechua"
  ],
  "eg": [
    "Arabic"
  ],
  "sv": [
    "Spanish"
  ],
  "gq": [
    "French",
    "Portuguese",
    "Spanish"
  ],
  "er": [
    "Tigrinya"
  ],
  "ee": [
    "Estonian"
  ],
  "sz": [
    "English",
    "Swazi"
  ],
  "et": [
    "Afar",
    "Amharic",
    "Oromo",
    "Somali",
    "Tigrinya"
  ],
  "fj": [
    "English",
    "Fijian",
    "Fiji Hindi"
  ],
  "fi": [
    "Finnish",
    "Swedish"
  ],
  "fx": [
    "French"
  ],
  "ga": [
    "French"
  ],
  "gm": [
    "English"
  ],
  "ge": [
    "Ossetian",
    "Russian"
  ],
  "de": [
    "German"
  ],
  "gh": [
    "English"
  ],
  "gr": [
    "Greek"
  ],
  "gd": [
    "English"
  ],
  "gt": [
    "Spanish"
  ],
  "gn": [
    "French"
  ],
  "gw": [
    "Portuguese"
  ],
  "gy": [
    "English"
  ],
  "ht": [
    "French",
    "Creole"
  ],
  "hn": [
    "Spanish"
  ],
  "hu": [
    "Hungarian"
  ],
  "is": [
    "Icelandic"
  ],
  "in": [
    "Hindi",
    "English"
  ],
  "id": [
    "Indonesian"
  ],
  "ir": [
    "Persian"
  ],
  "iq": [
    "Arabic",
    "Kurdish"
  ],
  "ie": [
    "Irish",
    "English"
  ],
  "il": [
    "Hebrew"
  ],
  "it": [
    "Italian"
  ],
  "ci": [
    "French"
  ],
  "jm": [
    "English"
  ],
  "jp": [
    "Japanese"
  ],
  "jo": [
    "Arabic"
  ],
  "kz": [
    "Kazakh",
    "Russian"
  ],
  "ke": [
    "English",
    "Swahili"
  ],
  "ki": [
    "English",
    "Gilbertese"
  ],
  "kp": [
    "Korean"
  ],
  "kr": [
    "Korean"
  ],
  "xk": [
    "Albanian",
    "Serbian"
  ],
  "kw": [
    "Arabic"
  ],
  "kg": [
    "Kyrgyz",
    "Russian"
  ],
  "la": [
    "Lao"
  ],
  "lv": [
    "Latvian"
  ],
  "lb": [
    "Arabic"
  ],
  "ls": [
    "Sotho",
    "English"
  ],
  "lr": [
    "English"
  ],
  "ly": [
    "Arabic"
  ],
  "li": [
    "German"
  ],
  "lt": [
    "Lithuanian"
  ],
  "lu": [
    "French",
    "German",
    "Luxembourgish"
  ],
  "mg": [
    "French",
    "Malagasy"
  ],
  "mw": [
    "English",
    "Chichewa"
  ],
  "my": [
    "Malay"
  ],
  "mv": [
    "Dhivehi"
  ],
  "ml": [
    "Bambara",
    "Bobo",
    "Bozo",
    "Dogon",
    "Fula",
    "Hassaniya",
    "Kassonke",
    "Maninke",
    "Minyanka",
    "Senufo",
    "Songhay",
    "Soninke",
    "Tamasheq"
  ],
  "mt": [
    "Italian"
  ],
  "mh": [
    "English",
    "Marshallese"
  ],
  "mr": [
    "Arabic"
  ],
  "mu": [
    "English",
    "Morisien"
  ],
  "mx": [
    "Spanish"
  ],
  "fm": [
    "English"
  ],
  "md": [
    "Moldovan",
    "Russian",
    "Ukrainian"
  ],
  "mc": [
    "French"
  ],
  "mn": [
    "Mongolian"
  ],
  "me": [
    "Montenegrin"
  ],
  "ma": [
    "Arabic",
    "Berber"
  ],
  "mz": [
    "Portuguese"
  ],
  "mm": [
    "Burmese"
  ],
  "na": [
    "English"
  ],
  "nr": [
    "English",
    "Nauruan"
  ],
  "np": [
    "Nepali"
  ],
  "nl": [
    "Dutch"
  ],
  "nz": [
    "English",
    "Maori"
  ],
  "ni": [
    "Spanish"
  ],
  "ne": [
    "French"
  ],
  "ng": [
    "English"
  ],
  "nu": [
    "English",
    "Niuean"
  ],
  "nf": [
    "English",
    "Norfuk"
  ],
  "mk": [
    "Macedonian",
    "Albanian"
  ],
  "no": [
    "Norwegian",
    "Sami"
  ],
  "om": [
    "Arabic"
  ],
  "pk": [
    "Urdu",
    "English"
  ],
  "pw": [
    "English",
    "Palauan"
  ],
  "ps": [
    "Arabic"
  ],
  "pa": [
    "Spanish"
  ],
  "pg": [
    "English",
    "Hiri Motu",
    "Tok Pisin"
  ],
  "py": [
    "Spanish",
    "Guaran"
  ],
  "pe": [
    "Spanish",
    "Quechua",
    "Aymara",
    "Ashninka"
  ],
  "ph": [
    "Filipino",
    "English"
  ],
  "pl": [
    "Polish"
  ],
  "pt": [
    "Portuguese"
  ],
  "qa": [
    "Arabic"
  ],
  "ro": [
    "Romanian"
  ],
  "su": [
    "Russian"
  ],
  "rw": [
    "English",
    "French",
    "Kinyarwanda",
    "Swahili"
  ],
  "eh": [
    "Arabic"
  ],
  "kn": [
    "English"
  ],
  "lc": [
    "English"
  ],
  "vc": [
    "English"
  ],
  "ws": [
    "English",
    "Samoan"
  ],
  "sm": [
    "Italian"
  ],
  "st": [
    "Portuguese"
  ],
  "sa": [
    "Arabic"
  ],
  "sn": [
    "French"
  ],
  "yu": [
    "Serbian"
  ],
  "sc": [
    "English",
    "French",
    "Creole"
  ],
  "sl": [
    "English"
  ],
  "sg": [
    "English",
    "Malay",
    "Chinese",
    "Tamil"
  ],
  "sk": [
    "Slovak"
  ],
  "si": [
    "Slovene"
  ],
  "sb": [
    "English"
  ],
  "so": [
    "Arabic",
    "English",
    "Somali"
  ],
  "za": [
    "Afrikaans",
    "English",
    "Ndebele",
    "Sotho",
    "Swazi",
    "Tsonga",
    "Tswana",
    "Venda",
    "Xhosa",
    "Zulu"
  ],
  "ss": [
    "English"
  ],
  "es": [
    "Spanish"
  ],
  "lk": [
    "Sinhala",
    "Tamil"
  ],
  "sd": [
    "Arabic",
    "English"
  ],
  "sr": [
    "Dutch"
  ],
  "se": [
    "Swedish"
  ],
  "ch": [
    "French",
    "German",
    "Italian",
    "Romansh"
  ],
  "sy": [
    "Arabic"
  ],
  "tw": [
    "Chinese"
  ],
  "tj": [
    "Tajik"
  ],
  "tz": [
    "Swahili",
    "English"
  ],
  "th": [
    "Thai"
  ],
  "tg": [
    "French"
  ],
  "tk": [
    "English",
    "Tokelauan"
  ],
  "to": [
    "English",
    "Tongan"
  ],
  "tt": [
    "English"
  ],
  "tn": [
    "Arabic"
  ],
  "tr": [
    "Turkish"
  ],
  "tm": [
    "Turkmen"
  ],
  "tv": [
    "Tuvaluan",
    "English"
  ],
  "ug": [
    "English",
    "Swahili"
  ],
  "ua": [
    "Ukrainian"
  ],
  "ae": [
    "Arabic"
  ],
  "uk": [
    "English"
  ],
  "us": [
    "English"
  ],
  "uy": [
    "Spanish"
  ],
  "uz": [
    "Uzbek"
  ],
  "vu": [
    "English",
    "French",
    "Bislama"
  ],
  "va": [
    "Italian"
  ],
  "ve": [
    "Spanish"
  ],
  "vn": [
    "Vietnamese"
  ],
  "ye": [
    "Arabic"
  ],
  "zm": [
    "English"
  ],
  "zw": [
    "Chewa",
    "Chibarwe",
    "English",
    "Kalanga",
    "Khoisan",
    "Nambya",
    "Ndau",
    "Ndebele",
    "Shangani",
    "Shona",
    "Sotho",
    "Tonga",
    "Tswana",
    "Venda",
    "Xhosa"
  ]
}`),Cve=["US","GB"];function Tve({song:e,forceFlag:t,...n}){const r=e.language[0],i=v.useMemo(()=>{var o;return e.artistOrigin?((o=kve[e.artistOrigin.toLowerCase()])==null?void 0:o.includes(r))??t:!1},[e.artistOrigin,r,t]);return f.jsx(f.Fragment,{children:t&&e.artistOrigin?f.jsx(ru,{isocode:e.artistOrigin,...n}):i&&!Cve.includes(e.artistOrigin)?f.jsx(ru,{isocode:e.artistOrigin,...n}):e.language[0]!=="English"?f.jsx(ru,{language:e.language,...n}):null})}var LE={},Ive=rt;Object.defineProperty(LE,"__esModule",{value:!0});var j$=LE.default=void 0,Rve=Ive(ut()),Pve=f;j$=LE.default=(0,Rve.default)((0,Pve.jsx)("path",{d:"M7.25 12.5 4.75 9H3.5v6h1.25v-3.5L7.3 15h1.2V9H7.25zM9.5 15h4v-1.25H11v-1.11h2.5v-1.26H11v-1.12h2.5V9h-4zm9.75-6v4.5h-1.12V9.99h-1.25v3.52h-1.13V9H14.5v5c0 .55.45 1 1 1h4c.55 0 1-.45 1-1V9z"}),"FiberNewOutlined");var NE={},Mve=rt;Object.defineProperty(NE,"__esModule",{value:!0});var O$=NE.default=void 0,jve=Mve(ut()),Ove=f;O$=NE.default=(0,jve.default)((0,Ove.jsx)("path",{d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star");function Vve(e){return Pl(e.edition??"").startsWith("esc")}const V$="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20width='125.33'%20height='131.46'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:cc='http://creativecommons.org/ns%23'%20xmlns:dc='http://purl.org/dc/elements/1.1/'%20xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23'%3e%3cpath%20stroke='black'%20fill='white'%20d='m12.726%2058.556c0.31803-28.513%2015.157-37.437%2023.237-37.437%2011.285%200%2015.946%208.6151%2016.707%2012.429%200.76116%203.8111%205.0324%206.8595%206.4047%200.60798%201.3734-6.2515%2014.649-25.315%2030.966-25.315%2014.943%200%2020.119%2015.41%2019.671%2028.518-1.2228%2035.683-47.19%2064.158-53.239%2082.143-5.3875-10.891-44.126-26.634-43.746-60.946zm82.652-58.556c-13.42%200-29.29%209.9111-38.896%2026.382-2.592-5.9483-11.827-12.43-22.805-12.43-8.8462%200-33.676%2011.056-33.676%2046.74%200%2046.052%2046.593%2055.508%2056.011%2069.825%200.64721%200.98433%202.7319%201.728%203.5276-0.62388%207.5157-22.18%2065.791-47.242%2065.791-92.379-5.3e-4%20-25.314-16.536-37.513-29.955-37.513z'%20stroke-width='.53006'/%3e%3c/svg%3e",Lve=e=>f.jsxs($ve,{children:[e.song.tracksCount>1&&f.jsxs(Bve,{"data-test":"multitrack-indicator",children:[f.jsx(hf,{}),"  Duet"]}),f.jsx(Nve,{song:e.song,isPopular:e.isPopular,focused:!!e.video})]}),Nve=({song:e,isPopular:t,focused:n})=>{var l,c,u,d;const r=v.useMemo(()=>Ym.recentlyUpdated([e]).length>0,[e]),i=Vve(e),o=VE(e),s=((c=(l=o==null?void 0:o.scores)==null?void 0:l.at(-1))==null?void 0:c.date)??!1,a=s&&Eo(s).isAfter(Eo().subtract(1,"days"));return o!=null&&o.plays?f.jsx(N$,{"data-test":"song-stat-indicator",children:a?"Played today":f.jsx(f.Fragment,{children:n?f.jsxs(f.Fragment,{children:["Played ",o.plays," time",o.plays>1&&"s"]}):o.plays})}):i?f.jsxs(VA,{white:!0,children:[f.jsx(OA,{children:n?(u=e.edition)==null?void 0:u.replace("ESC","Eurovision"):(d=e.edition)==null?void 0:d.replace("ESC ","")}),f.jsx(Dve,{src:V$,alt:e.edition})]}):r?f.jsx(VA,{white:!0,children:n?f.jsx(OA,{children:"Added recently"}):f.jsx(j$,{})}):t&&e.language.includes("English")?f.jsx(f.Fragment,{children:f.jsxs(VA,{children:[n&&f.jsx(OA,{children:"Popular"}),f.jsx(O$,{})]})}):null},OA=I("div",{target:"enamf7r6"})({name:"eh2bdr",styles:"padding:0 0.5rem;line-height:0;margin-top:0.2rem;&+svg{margin-left:-0.25rem;}"}),$ve=I("div",{target:"enamf7r5"})({name:"67oilw",styles:"position:absolute;top:0.5rem;left:0;padding:0 0.5rem;box-sizing:border-box;display:flex;align-items:center;justify-content:flex-end;gap:0.5rem;width:100%"}),L$=I("div",{target:"enamf7r4"})({name:"1utw6sa",styles:"height:2.75rem;min-width:2.75rem;box-sizing:border-box;color:white;font-size:1.4rem;display:flex;align-items:center;justify-content:center;text-transform:uppercase;background:rgba(0, 0, 0, 0.75);border-radius:0.5rem"}),VA=I(L$,{target:"enamf7r3"})("overflow:hidden;display:flex;align-items:center;justify-content:center;svg,img{fill:",e=>e.white?"white":he.colors.text.active,";width:2.5rem;height:2.5rem;}"),Dve=I("img",{target:"enamf7r2"})({name:"1pr315k",styles:"padding:0.35rem;margin:0 0.15rem 0 -0.35rem;box-sizing:border-box"}),N$=I(L$,{target:"enamf7r1"})({name:"2ycp6t",styles:"padding:0 1rem"}),Bve=I(N$,{target:"enamf7r0"})({name:"1k65tge",styles:"margin-right:auto;svg{width:1.75rem;height:1.75rem;}"}),$$=({song:e,focused:t,video:n,children:r,index:i,groupLetter:o,handleClick:s,isPopular:a,background:l=!0,forceFlag:c=!1,...u})=>{const d=u["data-expanded"]??!1,h=v.useCallback(()=>s?s(i,o):void 0,[s,i,o]),[p]=Ue(qi);return f.jsxs(Uve,{...u,onClick:s?h:void 0,children:[l&&f.jsx(Hve,{style:{backgroundImage:`url('https://i3.ytimg.com/vi/${e.video}/hqdefault.jpg')`},"data-focused":d?!1:t,"data-expanded":u["data-expanded"],"data-graphic-setting":p}),f.jsxs(zve,{"data-expanded":d,children:[!d&&f.jsx(Lve,{song:e,isPopular:a,video:n}),f.jsx($E,{"data-expanded":d,children:e.artist}),f.jsx(Hv,{"data-expanded":d,children:e.title}),f.jsxs(D$,{"data-expanded":d,children:[d&&f.jsxs(f.Fragment,{children:[e.author&&f.jsxs(F$,{expanded:d,children:["by ",e.authorUrl?f.jsx("a",{href:e.authorUrl,target:"_blank",rel:"noreferrer",children:e.author}):e.author]}),f.jsx(Gve,{song:e})]}),!d&&f.jsx(Fve,{song:e,forceFlag:c})]})]}),r,n]})},Fve=I(Tve,{target:"e1ornw2x8"})({name:"1152n88",styles:"height:2.75rem;object-fit:cover;border-top-right-radius:1rem;border-bottom-left-radius:1rem;position:absolute;z-index:-1;left:0rem;bottom:0rem;opacity:0.95"}),D$=I("div",{target:"e1ornw2x7"})({name:"1dgv8bf",styles:"display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-start"}),zve=I("div",{target:"e1ornw2x6"})({name:"cwmgde",styles:"width:100%;height:100%;display:flex;align-items:flex-end;justify-content:flex-end;z-index:1;box-sizing:border-box;flex-direction:column;&[data-expanded='true']{align-items:flex-start;justify-content:flex-start;}"}),Uve=I("div",{target:"e1ornw2x5"})({name:"1s4n252",styles:"font-size:4.5rem;display:flex;align-items:flex-end;justify-content:flex-end;flex-direction:column;box-sizing:border-box;position:relative;padding:0.5rem;border:0.1rem black solid;border-radius:1rem"}),Hve=I("div",{target:"e1ornw2x4"})({name:"10xrxr9",styles:"background-color:#2b2b2b;border-radius:1rem;&[data-expanded='true']{border-radius:0;}position:absolute;z-index:-1;inset:0;&[data-graphic-setting='high']{transition:300ms;&[data-focused='true']{background-size:100%;opacity:1;}&[data-focused='false']{background-size:110%;filter:grayscale(90%);opacity:0.8;}&[data-expanded='true']{filter:blur(10px);}}&[data-graphic-setting='low']{background-size:100%;opacity:0.6;&[data-focused='true']{opacity:1;}}background-position:center center"}),B$=I("span",{target:"e1ornw2x3"})("background:rgba(0, 0, 0, 0.7);width:auto;display:inline-block;padding:0.5rem;",Fe,";text-align:right;font-size:2.7rem;&[data-expanded='true']{font-size:6rem;}"),$E=I(B$,{target:"e1ornw2x2"})("color:",he.colors.text.active,";"),Hv=I(B$,{target:"e1ornw2x1"})("margin-top:",e=>e.expanded?"1.5rem":"0.5rem",";color:white;"),F$=I(Hv,{target:"e1ornw2x0"})({name:"5twmqz",styles:"font-size:3rem;margin-top:3rem"}),Gve=({song:e})=>{const t=VE(e);return f.jsx(F$,{children:t!=null&&t.plays?`Played ${t.plays} time${t.plays>1?"s":""}`:"Never played yet"})};function qve({groupedSongList:e,onScrollToGroup:t,container:n}){const[r,i]=v.useState([]);return v.useEffect(()=>{const o=new IntersectionObserver(a=>{a.forEach(l=>{const c=l.target.getAttribute("data-group-name");l.isIntersecting?i(u=>[...u,c]):i(u=>u.filter(d=>d!==c))})}),s=new MutationObserver(()=>{const a=document.querySelectorAll("[data-group-name]");o.disconnect(),i([]),a.forEach(l=>{o.observe(l)})});if(n)return s.observe(n,{childList:!0,subtree:!0}),()=>{s.disconnect(),i([]),o.disconnect()}},[e,n]),f.jsx(f.Fragment,{children:f.jsx(Wve,{children:e.map(o=>{const s=r.includes(o.name);return f.jsx(Kve,{onClick:()=>t(o),"data-active":s,"data-test":`group-navigation-${o.name}`,children:o.displayShort??o.name},o.name)})})})}const Wve=I("div",{target:"e131hflw1"})({name:"191ly3l",styles:"position:fixed;display:flex;flex-direction:row;align-items:center;justify-content:flex-start;top:0;left:var(--song-sidebar-weight);padding:1rem 0 1.5rem 2rem;width:100%;z-index:100;gap:1rem;background:rgba(0, 0, 0, 0.75)"}),Kve=I(zo,{target:"e131hflw0"})("border:none;cursor:pointer;",Fe,";display:inline-flex;align-items:center;justify-content:center;height:3.3rem;padding:0.5rem 1.25rem;font-size:2.3rem;z-index:1;color:",he.colors.text.default,";&[data-active='true']{background:",he.colors.text.active,";}&[data-active='false']{background:rgba(0, 0, 0, 0.7);}"),xP={[$r.DUEL]:"Duel",[$r.PASS_THE_MIC]:"Pass The Mic",[$r.CO_OP]:"Cooperation"},LA=["Hard","Medium","Easy"],Yve=Dh("song_settings-game_mode-v3"),Qve=Dh("song_settings-tolerance-v2");function Jve({songPreview:e,onNextStep:t,keyboardControl:n,onExitKeyboardControl:r}){const[i,o]=Yve(null),s=i??(e.tracksCount>1?$r.CO_OP:$r.DUEL),[a,l]=Qve(1),c=()=>{const p={id:im(),players:[],mode:s,tolerance:a+1};t(p)},u=()=>{o(Ea(Object.values($r),s))},d=()=>l(p=>Nh(LA,p,-1)),{register:h}=Wn({enabled:n,onBackspace:r,additionalHelp:{remote:["select-song"]}});return f.jsxs(f.Fragment,{children:[f.jsx(SP,{...h("difficulty-setting",d,"Change difficulty"),label:"Difficulty",value:LA[a],"data-test-value":LA[a]}),f.jsx(SP,{...h("game-mode-setting",u,"Change mode"),label:"Mode",value:xP[s],"data-test-value":xP[s]}),f.jsxs(Zve,{children:[s===$r.DUEL&&"Face off against each other - person that earns more points wins.",s===$r.CO_OP&&"Join forces and sing together - your points will be added up to a single pool.",s===$r.PASS_THE_MIC&&f.jsxs(f.Fragment,{children:["For more than 2 players - split into groups and pass the microphone within the group when prompted with"," ",f.jsx(Lv,{})," symbol."]})]}),f.jsx(Xve,{...h("next-step-button",c,void 0,!0),children:"Next ➤"})]})}const Xve=I(zo,{target:"ews4mmz2"})({name:"sr8dp2",styles:"padding:0.5rem 9rem;font-size:4.3rem;width:50rem"}),Zve=I("h3",{target:"ews4mmz1"})({name:"rdh6te",styles:"max-width:50rem;margin:-1rem 0 1rem!important;padding:1.5rem;background:rgba(0, 0, 0, 0.7);box-sizing:border-box"}),SP=I(pi,{target:"ews4mmz0"})({name:"1tcj19k",styles:"font-size:4.3rem;padding:1rem;min-width:50rem;box-sizing:border-box"});function eye(){const t=Si(ee.playerInputChanged,()=>Oe.getInputs()).some(s=>s.source==="Microphone"),n=v.useRef([]),r=v.useCallback(s=>{n.current.push(s)},[]);I0e(0,50,r);const[i,o]=v.useState(!1);return v.useEffect(()=>{const s=setInterval(()=>{const a=n.current.filter(([,h])=>h===0),l=n.current.filter(([,h])=>h>0),c=a.reduce((h,[p])=>h+p,0)/(a.length+1),u=l.reduce((h,[p])=>h+p,0)/(l.length+1),d=l.length>a.length*.1&&u>.01&&c>.01&&u-c<c/2;o(d),n.current.length=0},i?5e3:2500);return()=>clearInterval(s)},[i]),f.jsxs(tye,{visible:i,children:[f.jsxs("h2",{children:[f.jsx("strong",{children:f.jsx(nc,{})})," ","Noise detected"]}),f.jsx("hr",{}),f.jsxs("h4",{children:["This might make singing inaccurate. Make sure your microphone doesn't pick up the music."," ",t&&f.jsxs(f.Fragment,{children:["Alternatively, use your ",f.jsx("strong",{children:"smartphone as a microphone"})," instead."]})]})]})}const tye=I("div",{target:"e1liv9270"})("opacity:",e=>e.visible?1:0,";transition:300ms;background:rgba(0, 0, 0, 0.75);padding:1rem;max-width:50rem;position:relative;top:-1rem;left:-0.5rem;"),z$=(e,t=333,n)=>{const[r,i]=v.useState("ok");return v.useEffect(()=>{const o=setInterval(()=>{i(_n.getInputStatus(e))},t);return()=>{clearInterval(o)}},[e,t,n]),r},U$=e=>{const[t,n]=v.useState(null);return v.useEffect(()=>{const r=setInterval(()=>{const i=Ze.getRemoteMicById(e??"");n(i?i.getLatency():null)},1e3);return()=>{clearInterval(r)}},[e]),t};function H$({playerNumber:e,...t}){var r,i;const n=U$((i=(r=Oe.getPlayer(e))==null?void 0:r.input)==null?void 0:i.deviceId);return f.jsx(f.Fragment,{children:n!==null?f.jsxs(nye,{...t,children:[n,"ms"]}):""})}const nye=I("span",{target:"e10sf0140"})({name:"1wwatg0",styles:"position:absolute;right:4rem;bottom:0.5rem;font-size:1.75rem"});function G$({status:e,tooltipPosition:t="end",...n}){return f.jsxs(rye,{...n,children:[e==="ok"?f.jsx(iye,{"data-test":"status-ok"}):e==="unavailable"?f.jsx(oye,{"data-test":"status-unavailable"}):f.jsx(sye,{"data-test":"status-unstable"}),e==="unavailable"?f.jsx(wP,{position:t,children:f.jsxs("span",{children:["The device is ",f.jsx("strong",{children:"disconnected"}),". Reconnect it, please."]})}):e==="unstable"?f.jsx(wP,{position:t,children:f.jsxs("span",{children:["The connection seems ",f.jsx("strong",{children:"unstable"}),". Connect to the same Wifi."]})}):null]})}const rye=I("span",{target:"etoberq4"})({name:"186aqlb",styles:"position:absolute;right:0.5rem;top:0.5rem;font-size:3rem;z-index:10;svg{width:3rem;height:3rem;text-shadow:black;}"}),iye=I("div",{target:"etoberq3"})({name:"1jjo9fl",styles:"margin:0.15rem;width:2.7rem;height:2.7rem;display:inline-block;background:#ffffff;border:1px solid black;border-radius:50%"}),oye=I(PE,{target:"etoberq2"})({name:"f0g68e",styles:"fill:#ff0000"}),sye=I(nc,{target:"etoberq1"})({name:"w492oh",styles:"fill:#f89400;stroke:black"}),wP=I("div",{target:"etoberq0"})(Fe,";position:absolute;left:",e=>e.position==="end"?"100%":"auto",";right:",e=>e.position==="end"?"auto":"150%",";top:-0.5rem;font-size:1.5rem;height:100%;display:flex;align-items:center;width:25rem;background:rgba(0, 0, 0, 0.75);padding:0.5rem;margin-left:2rem;");function q$({player:e}){const t=z$(e.number);return f.jsxs(aye,{"data-test":`indicator-player-${e.number}`,children:[f.jsx(H$,{playerNumber:e.number}),f.jsx(G$,{status:t}),t!=="unavailable"&&f.jsx(TE,{playerNumber:e.number}),f.jsx(lye,{className:"ph-no-capture",children:e.getName()})]},e.number)}const aye=I("div",{target:"e17xkp2e1"})({name:"1gmoqr1",styles:"position:relative;border:0.1rem solid white;padding:1rem 3rem;background:black;width:80%;text-align:center;gap:1.25rem;font-size:2.3rem;color:white;-webkit-text-stroke:1px black"}),lye=I("span",{target:"e17xkp2e0"})({name:"179t5g5",styles:"position:relative;z-index:1"});function cye(e){$o(ee.playerNameChanged),v.useEffect(()=>{_n.startMonitoring()},[]);const n=Si(ee.playerInputChanged,()=>Oe.getInputs()).some(r=>r.source!=="Dummy");return f.jsxs(uye,{...e,children:[f.jsxs(dye,{children:["Microphone Check",n?Oe.getPlayers().map(r=>f.jsx(q$,{player:r},r.number)):f.jsxs(f.Fragment,{children:[f.jsx(fye,{children:"Mic not setup"}),f.jsx("h4",{children:"Singing will be emulated"}),f.jsx("h5",{children:"You can setup in the Next step"})]})]}),f.jsx(eye,{})]})}const uye=I("div",{target:"egp8knc2"})("display:flex;font-size:3rem;",Fe,";margin-bottom:8.6rem;gap:3.5rem;"),dye=I("div",{target:"egp8knc1"})({name:"fmwdml",styles:"gap:1.25rem;display:flex;flex-direction:column;align-items:center"}),fye=I("div",{target:"egp8knc0"})({name:"1x5xnlp",styles:"position:relative;border:0.1rem solid white;padding:1rem 3rem;background:black;width:80%;text-align:center;gap:1.25rem;font-size:2.3rem;color:white"});function W$({onClose:e,closeButtonText:t}){return f.jsx(tc,{onClose:e,children:f.jsx(uo,{children:f.jsx(jE,{smooth:!1,onBack:e,onFinish:e,closeButtonText:t,skipText:"Back"})})})}const K$=v.forwardRef(({options:e,focused:t,label:n,value:r,onChange:i,disabled:o,placeholder:s,keyboardNavigationChangeFocus:a,onBlur:l,className:c,...u},d)=>{const h=v.useRef(null);v.useImperativeHandle(d,()=>h.current);const p=v.useRef(null),[g,m]=v.useState(!1),[b,y]=v.useState(-1),A=v.useMemo(()=>e.filter(_=>_.toLowerCase().trim().includes(r.toLowerCase().trim())&&_!==r),[e,r]),x=_=>{var w,E,T;if(_.code==="ArrowUp"||_.code==="ArrowDown")if(A.length){_.preventDefault();const O=Nh(A,b,_.code==="ArrowUp"?-1:1);y(O);const L=(w=p.current)==null?void 0:w.querySelector(`[data-index="${O}"]`);L==null||L.scrollIntoView({behavior:"smooth",block:"center"})}else(E=h.current)==null||E.blur(),a==null||a(_.code==="ArrowUp"?-1:1);else if(_.code==="Enter"){const O=A[b];O?(y(-1),i(O)):(T=h.current)==null||T.blur()}},S=()=>{setTimeout(()=>{m(!1),l==null||l()},300)};return f.jsxs(hye,{className:c,children:[f.jsx(rc,{onFocus:()=>m(!0),onBlur:S,onKeyDown:x,onChange:i,value:r,focused:t,label:n,disabled:o,ref:h,placeholder:s,...u}),g&&!!A.length&&f.jsx(pye,{ref:p,role:"listbox",children:A.map((_,w)=>f.jsx(gye,{role:"listitem","data-index":w,"data-focused":w===b,"data-e2e-focused":w===b,focused:w===b,onClick:()=>{var E;i(_),y(-1),(E=h.current)==null||E.blur()},children:_},_))})]})}),hye=I("div",{target:"elw4n422"})({name:"bjn8wh",styles:"position:relative"}),pye=I("div",{target:"elw4n421"})("margin-top:0.1em;position:absolute;width:100%;background:black;max-height:",(1+2*.3)*4,"em;overflow-y:auto;z-index:2;"),gye=I("div",{target:"elw4n420"})(Fe,";padding:0.3em;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;color:",e=>e.focused?he.colors.text.active:"white",";cursor:pointer;"),mye=(e,t)=>{var n;return((n=e[t])==null?void 0:n.name)??`Track ${t+1}`};function vye({multipleTracks:e,player:t,songPreview:n,playerNames:r,register:i,onChange:o,setup:s}){const[a,l]=v.useState(!1),c=v.useRef(null);if($o(ee.playerNameChanged),t===void 0)return null;const u=()=>o({number:t.number,track:(s.track+1)%n.tracksCount}),d=g=>{l(!0),t.setName(g)},h=!a,p=t.getName();return f.jsxs(f.Fragment,{children:[f.jsx(yye,{maxLength:$x,className:"ph-no-capture",value:h?"":p,placeholder:h?p:void 0,options:r,onChange:d,label:"Name:",ref:c,...i(`player-${t.number}-name`,()=>{var g;return(g=c.current)==null?void 0:g.focus()})}),e&&f.jsx(Aye,{...i(`player-${t.number}-track-setting`,u,"Change track"),label:"Track",value:mye(n.tracks,s.track),"data-test-value":s.track+1})]})}const yye=I(K$,{target:"euluv3p1"})("input{font-size:4.5rem;}[role='listbox']{max-height:",6*(4.5+.3),"rem;}"),Aye=I(pi,{target:"euluv3p0"})({name:"1bwrnjg",styles:"font-size:4.5rem;padding:1.1rem"});function bye({songPreview:e,onNextStep:t,keyboardControl:n,onExitKeyboardControl:r}){const[i]=Ue(yr),[o]=Ue(fx),s=Oe.getPlayers(),a=!i&&s.length===2&&e.tracksCount>1,l=()=>s.map((S,_)=>({number:S.number,track:a?Math.min(_,e.tracksCount-1):0})),[c,u]=v.useState(l());Tr([ee.playerAdded,ee.playerRemoved],()=>u(l()));const d=s.map((S,_)=>c.find(w=>w.number===S.number)??l()[_]),h=v.useMemo(()=>JSON.parse(Ve.session.getItem(gu))??[],[]),p=S=>_=>{u(w=>w.map(E=>E.number===S?_:E))},[g,m]=v.useState(!1);v.useEffect(()=>{g||_n.startMonitoring()},[g]);const{register:b,focusElement:y}=Wn({enabled:n&&!g,onBackspace:r,additionalHelp:{remote:["select-song"]}}),A=()=>{t(d)},x=!!o&&o!=="skip";return f.jsxs(f.Fragment,{children:[g&&f.jsx(W$,{closeButtonText:x?"Continue to the song":"Continue to player setup",onClose:()=>{m(!1),x&&y("play")}}),d.map((S,_)=>f.jsxs(_ye,{children:[f.jsxs(xye,{children:["Player ",_+1]}),f.jsx("div",{children:f.jsx(vye,{multipleTracks:a,player:Oe.getPlayer(S.number),setup:S,onChange:p(S.number),playerNames:h,register:b,songPreview:e})})]},S.number)),x&&f.jsx(EP,{...b("play-song-button",A,void 0,!0),children:"Play"}),f.jsx(EP,{...b("select-inputs-button",()=>m(!0),void 0,!1),children:"Setup mics"})]})}const _ye=I("div",{target:"e12y59822"})({name:"ho1qnd",styles:"display:flex;flex-direction:row"}),EP=I(zo,{target:"e12y59821"})({name:"afgxf2",styles:"padding:0.5rem 9rem;font-size:4.3rem"}),xye=I("span",{target:"e12y59820"})(Fe,";padding:1.3rem;font-size:4.5rem;");function Sye({songPreview:e,onPlay:t,keyboardControl:n,onExitKeyboardControl:r}){const[i,o]=v.useState(null),[s,a]=v.useState("song"),l=u=>{o(u),a("players")},c=u=>{if(!i)return;const d={...i,players:u};ee.songStarted.dispatch(e,d),t({song:e,...d})};return f.jsxs(wye,{children:[f.jsx(cye,{style:s==="players"?{viewTransitionName:"player-mic-check-container"}:void 0}),f.jsxs(Eye,{children:[s==="song"&&f.jsx(Jve,{songPreview:e,onNextStep:l,keyboardControl:n,onExitKeyboardControl:r}),s==="players"&&f.jsx(bye,{songPreview:e,onNextStep:c,keyboardControl:n,onExitKeyboardControl:()=>a("song")})]})]})}const wye=I("div",{target:"eu207dr1"})({name:"k6gb66",styles:"display:flex;flex-direction:row;align-items:flex-end;justify-content:space-between;width:100%;hr{margin:1rem;opacity:0.25;}"}),Eye=I("div",{target:"eu207dr0"})({name:"115sh08",styles:"width:auto;display:flex;flex-direction:column;align-items:flex-end;gap:1.25rem"}),kye=30;function Cye({songPreview:e,top:t,left:n,width:r,height:i,keyboardControl:o,onExitKeyboardControl:s,onPlay:a,isPopular:l,forceFlag:c}){const[u,d]=v.useState(!1),h=v.useRef(null),{width:p,height:g}=Bh(),m=o;v.useLayoutEffect(()=>{d(!1)},[e.video]);const b=e.previewStart??(e.videoGap??0)+60,y=e.previewEnd??b+kye,A=v.useMemo(()=>[e.video,b,y,e.volume],[e.video,b,y,e.volume]),[x,S,_,w]=lE(A,350);v.useEffect(()=>{var L;(L=h.current)==null||L.loadVideoById({videoId:x,startSeconds:S,endSeconds:_})},[x,h,S,_]);const E=m?p:r,T=m?g:i,O=m?Math.min(p/20*9,g*(4/5)):i;return v.useEffect(()=>{var L;(L=h.current)==null||L.setSize(E,T)},[E,T,o]),f.jsxs(f.Fragment,{children:[m&&f.jsx(Rye,{onClick:s}),!m&&u&&f.jsx(Oye,{width:E,height:T,left:n,top:t,song:e}),f.jsx(Iye,{forceFlag:c,isPopular:l,background:m||u,video:f.jsx(Pye,{"data-show":u,"data-expanded":m,height:O,id:"preview-video-container",children:f.jsx(_E,{width:0,height:0,disablekb:!0,ref:h,video:"",volume:w,onStateChange:L=>{var N,H;L===Vn.ENDED?((N=h.current)==null||N.seekTo(b),(H=h.current)==null||H.playVideo()):L===Vn.PLAYING&&d(!0)}})}),focused:!0,song:e,top:t,left:n,width:E,height:O,"data-show-video":u,"data-expanded":m,"data-song":e.id,"data-test":"song-preview",children:f.jsx(Mye,{"data-expanded":m,children:m&&f.jsx(Sye,{songPreview:e,onPlay:a,keyboardControl:o,onExitKeyboardControl:s})})})]})}const Tye=I($$,{target:"e1vaewax4"})("--preview-padding:5rem;width:",e=>e.width,"px;height:",e=>e.height,"px;position:absolute;z-index:3;overflow:hidden;visibility:hidden;&[data-expanded='true'],&[data-show-video='true']{visibility:visible;}&[data-expanded='true']{z-index:201;border-radius:0;border:0;position:fixed;padding:var(--preview-padding);}&[data-expanded='false']{pointer-events:none;&[data-show-video='true']{animation:rhythmPulse 1s infinite;}}@keyframes rhythmPulse{0%{transform:scale(1.2);}15%{transform:scale(1.25);}100%{transform:scale(1.2);}}view-transition-name:song-preview;",$E,"{view-transition-name:song-preview-artist;}",Hv,"{view-transition-name:song-preview-title;}",D$,"{view-transition-name:song-preview-expanded-data;}"),Iye=e=>{const t=e.song.realBpm||(e.song.bpm>300?e.song.bpm/4:e.song.bpm/2),n=e["data-expanded"];return f.jsx(Tye,{...e,style:{...e.style,top:n?`calc(50vh - ${e.height}px / 2)`:e.top,left:n?0:e.left,animationDuration:`${60/t}s`}})},Rye=I("div",{target:"e1vaewax3"})({name:"1iz7jdz",styles:"position:fixed;top:0;left:0;background:rgba(0, 0, 0, 0.8);width:100vw;height:100vh;z-index:201"}),Pye=I("div",{target:"e1vaewax2"})("&[data-expanded='true']{position:fixed;inset:0;clip-path:inset(calc((100vh - ",e=>e.height,"px) / 2) 0);}&[data-expanded='true'],&[data-show='true']{div{transition:1000ms;}}&[data-expanded='false']{position:absolute;top:0;left:0;background-image:none!important;border-radius:0.5rem;}&[data-show='false']{div{opacity:0;}}&[data-show='true']{div{opacity:1;}}"),Mye=I("div",{target:"e1vaewax1"})({name:"uljwlo",styles:"inset:auto var(--preview-padding);position:fixed;z-index:100;&[data-expanded='false']{transform:scale(0.1);}border-radius:0.5rem;view-transition-name:song-preview-content"}),jye=I("div",{target:"e1vaewax0"})("background:white;width:",e=>e.width,"px;height:",e=>e.height,"px;z-index:2;top:0;left:0;position:absolute;animation:bpm 1s infinite;border-radius:0.5rem;pointer-events:none;@keyframes bpm{0%{transform:scale(1.15);opacity:1;}100%{transform:scale(1.45);opacity:0;}}"),Oye=e=>{const[t]=Ue(qi);if(t==="low")return null;const n=e.song.realBpm||(e.song.bpm>300?e.song.bpm/4:e.song.bpm/2);return f.jsx(jye,{width:e.width,height:e.height,style:{left:e.left,top:e.top,animationDuration:`${60/n}s`}})};function Vye(e){var t=cg(e),n=t%1;return t===t?n?t-n:t:0}var Lye=Math.ceil,Nye=Math.max;function L_(e,t,n){(n?R3(e,t,n):t===void 0)?t=1:t=Nye(Vye(t),0);var r=e==null?0:e.length;if(!r||t<1)return[];for(var i=0,o=0,s=Array(Lye(r/t));i<r;)s[o++]=mS(e,i,i+=t);return s}function $ye(e,t){const n=v.useRef(null),r=v.useMemo(()=>e.groups.map(u=>({group:u,rows:L_(u.songs,e.perRow)})),[e.groups,e.perRow]),i=v.useMemo(()=>r.map(({rows:u})=>u.length),[r]),o=v.useMemo(()=>r.flatMap(({rows:u})=>u),[r]),{ListRowWrapper:s,GroupRowWrapper:a}=e,l=v.useCallback((u,d)=>{let h=e.groups.findIndex(p=>p.name===u);return h===-1?e.groups.findIndex(p=>p.songs.some(g=>g.index===d)):h},[e.groups]),c=v.useCallback((u,d)=>{let h=l(u,d);if(h===-1)return;const p=e.groups[h].songs.findIndex(g=>g.index===d);return r.slice(0,h).reduce((g,{rows:m})=>g+m.length,Math.floor(p/e.perRow))},[l,r,e.groups,e.perRow]);return v.useImperativeHandle(t,()=>({getSongPosition:(u,d)=>{var y;let h=l(u,d);if(h===-1)return;const p=e.groups[h].songs.findIndex(A=>A.index===d),g=r.slice(0,h).reduce((A,{rows:x})=>A+x.length,Math.floor(p/e.perRow)),m=((y=n.current)==null?void 0:y.getItemPositionY(g))??-1;return{x:p%e.perRow,y:m}},scrollToGroup:u=>{var h;const d=e.groups.findIndex(p=>p.name===u);d!==-1&&((h=n.current)==null||h.scrollToGroup(d,"smooth"))},scrollToSongInGroup:async(u,d,h="smooth")=>{var g;const p=c(u,d);p!==void 0&&((g=n.current)==null||g.scrollToIndex(p,No()?"auto":h))}})),f.jsx(f.Fragment,{children:f.jsx(FN,{forceRenderItem:c(e.focusedGroup,e.focusedSong)??-1,overScan:e.itemHeight*2,itemHeight:e.itemHeight,groupHeaderHeight:e.groupHeight,components:e.components,context:e.context,groupContent:(u,d)=>f.jsx(a,{group:r[u].group,...d,children:e.renderGroup(r[u].group)}),ref:n,groupSizes:i,itemContent:(u,d,h)=>f.jsxs(s,{"data-is-new":r[d].group.isNew,...h,children:[o[u].map(p=>e.renderItem(p,r[d].group)),e.placeholder&&o[u].length<e.perRow&&new Array(e.perRow-o[u].length).fill(null).map((p,g)=>f.jsx(v.Fragment,{children:e.placeholder},g))]})},e.itemHeight)})}const Dye=v.forwardRef($ye),Y$=(e,t)=>e+Math.random()*(t-e),Co=(e,t)=>Math.round(Y$(e,t)),Bye=250,Fye=750;function zye(e){const t=pT(async()=>(await fetch("/mostPopularSongs.json")).json(),[]),n=pT(async()=>eK(),[]),r=v.useMemo(()=>Ym.recentlyUpdated(e),[e]).map(l=>l.id),[i]=Ue(s0),o=t.loading||n.loading||!e.length,s=v.useMemo(()=>{if(o)return;const l=Object.keys(n.value).filter(g=>n.value[g].scores.some(m=>(m.progress??0)>.8)),c=Object.keys(t.value).filter(g=>!(i!=null&&i.includes(g))),u=[...new Set([...c,...i??[]])],d=e.filter(g=>!u.some(m=>g.language.includes(m))||g.local).map(g=>g.id).concat(...l),h=Math.max(Bye,Fye-Math.round(d.length/1.75)),p=c.map(g=>t.value[g].slice(0,h)).flat();return{popular:[...new Set([...l,...p,...d,...r])]}},[i,o,t.value,e,n.value]),a=v.useMemo(()=>({popular:[]}),[]);return{value:s??a,loading:o}}const Uye=e=>{const t=/[^a-zA-Z]/;return{name:isFinite(+e.artist[0])||t.test(e.artist[0])?"0-9":e.artist[0].toUpperCase()}};function Hye(){const e=Yu(),{value:{popular:t},loading:n}=zye(e.data),r=e.isLoading||n,{filters:i,filteredList:o,setFilters:s,selectedPlaylist:a,setSelectedPlaylist:l,playlists:c,playlist:u}=Ofe(e.data,t,r);return{groupedSongList:v.useMemo(()=>{var p;if(o.length===0)return[];const h=[];if(i.search)return h.push({name:"Search results",songs:o.map((g,m)=>({index:m,song:g,isPopular:t.includes(g.id)}))}),h;{(u!=null&&u.sortingFn?[...o].sort(u.sortingFn):o).forEach(b=>{try{const{name:y,...A}=((u==null?void 0:u.groupData)??Uye)(b);let x=h.find(S=>S.name===y);x||(x={name:y,songs:[],...A},h.push(x)),x.songs.push({index:o.indexOf(b),song:b,isPopular:t.includes(b.id)})}catch(y){console.error(y),Vo(y)}});const m=((p=u==null?void 0:u.postGrouping)==null?void 0:p.call(u,h))??h;if(!(u!=null&&u.hideNew)){const b=o.filter(y=>y.isNew);b.length&&b.length<50&&m.unshift({name:"New",isNew:!0,songs:b.map(y=>({song:y,index:o.indexOf(y),isPopular:t.includes(y.id)}))})}return m}},[o,i.search,t,u]),songList:o,filters:i,setFilters:s,isLoading:r,selectedPlaylist:a,setSelectedPlaylist:l,playlists:c}}function Jm(e){const t=v.useRef(e);return v.useEffect(()=>{t.current=e},[e]),t.current}const Gye=30;function qye(e,t,n=Gye){let r;if(t.length<e){const i=[...Array(e).keys()].filter(o=>!t.includes(o));r=i[Co(0,i.length-1)]}else r=Co(0,e-1),t.length=0;return t.length>=n&&t.shift(),t.push(r),r}const Wye=(e=[],t)=>{var b;const[n,r]=v.useState([0,0]),i=v.useMemo(()=>e.map(({songs:y})=>y.length).join(","),[e]),o=v.useMemo(()=>e.map(({songs:y})=>L_(y.map(A=>A.index),t)).flat(),[i,t]),s=v.useMemo(()=>e.map(({songs:y,name:A})=>L_(y.map(()=>A),t)).flat(),[i,t]),a=Jm(o??[]),l=n[0]===((b=o[n[1]])==null?void 0:b.length)-1,c=v.useCallback((y,A)=>{var _;const x=o.findIndex((w,E)=>w.includes(y)&&(!A||A===s[E][0])),S=(_=o[x])==null?void 0:_.indexOf(y);S>=0&&x>=0?r([S??0,x??0]):r([0,0])},[o]),u=([y,A],x,S)=>{var w;if(e.length===0)return S;const _=x[A];return(_==null?void 0:_[y])??(_==null?void 0:_.at(-1))??((w=x==null?void 0:x[0])==null?void 0:w[0])??S},d=([y,A],x=o)=>u([y,A],x,0),h=([y,A],x=s)=>u([y,A],x,"A");v.useEffect(()=>{const y=d(n,a),A=d(n,o);a.length&&y!==A&&c(y)},[n,o,a,l]);const p=(y,A)=>{N0.play(),r(([x,S])=>{let _=x,w=S;if(y==="y")w=S+A;else{if(o[S]===void 0)debugger;const E=o[S].length-1;_=Math.min(x,E)+A,_<0?(w=(o.length+S-1)%o.length,_=o[w].length-1):_>E&&(w=S+1,_=0)}return[_%t,(o.length+w)%o.length]})},g=d(n),m=h(n);return[g,m,n,p,c,l]},Kye=(e,t=[],n,r,i,o)=>{const s=oi(),[a,l]=v.useState([!1,null]),c=Jm(a),[u,d]=a,[h,p,g,m,b,y]=Wye(t,o),A=g[0]===0,x=()=>{Qx.play(),n()},[S,_]=v.useState(!1),w=Jm(i.search);v.useLayoutEffect(()=>{if(w&&!i.search){_(!0);const R=setTimeout(()=>_(!1),2e3);return()=>{clearTimeout(R),_(!1)}}},[i.search]);const E=()=>{!S&&!i.search&&(Jx.play(),s("menu/"))},T=v.useCallback(qc((R,k)=>{const $=(t.length+k+R)%t.length;b(t[$].songs[0].index),N0.play()},700,{trailing:!1}),[t]),O=(R,k)=>{if(!(R!=null&&R.repeat))m("y",k);else{const $=t.findIndex(V=>!!V.songs.find(z=>z.index===h));T(k,$)}},L=(R,k=!1)=>{!k&&R===-1&&A&&!u?l([!0,"left"]):m("x",R)},N=v.useRef([]),H=()=>{const R=qye(r,N.current);b(R)};Jl({accept:x,down:R=>O(R,1),up:R=>O(R,-1),left:()=>L(-1),right:()=>L(1),back:E,random:H},e&&!u,[t,g,u,i,S]);const P=v.useMemo(()=>({"horizontal-vertical":null,accept:null,back:null,shiftR:null,alphanumeric:null,remote:["search","select-song"]}),[]);Ku(P,e);const j=v.useCallback(R=>{l([!1,R??null])},[l,L,t,g]);return v.useLayoutEffect(()=>{const[R,k]=c;R&&!u&&k===d&&L(d==="right"?1:-1,!0)},[u,d,A,y,...g]),[h,p,b,u,j,H]};function Yye(e,t){const{songList:n,groupedSongList:r,setFilters:i,filters:o,isLoading:s,selectedPlaylist:a,setSelectedPlaylist:l,playlists:c}=Hye(),[u,d]=v.useState(!0),h=w=>{ih(()=>{ec.flushSync(()=>{d(w)})}),Xx.play(!1)},[p,g,m,b,y,A]=Kye(u,r,()=>h(!1),n.length,o,t),[x,S]=v.useState(!1);v.useEffect(()=>{if(!x&&n.length&&!s){const w=n.findIndex(O=>O.id===e),E=n.findIndex(O=>O.isNew);let T=Co(0,n.length-1);(w>-1||E>-1)&&(T=w),S(!0),m(T)}},[m,x,p,n,e,s]),v.useEffect(()=>{var w;if(x&&n.length&&n[p]&&!s){const E=new URL((w=global.location)==null?void 0:w.href);E.searchParams.set("song",n[p].id),global.history.replaceState(null,"",E.toString())}},[x,p,n,s]);const _=n==null?void 0:n[p];return{groupedSongList:r,focusedSong:p,focusedGroup:g,moveToSong:m,setKeyboardControl:h,keyboardControl:u,songPreview:_,songList:n??[],filters:o,setFilters:i,showFilters:b,setShowFilters:y,isLoading:s||!x,randomSong:A,selectedPlaylist:a,setSelectedPlaylist:l,playlists:c}}const Qye=1.2,kP=4,Q$=7,N_=4.5,CP=Q$+N_,zp=3.5,Jye={Header:({context:e})=>f.jsxs(f.Fragment,{children:[f.jsx(oAe,{}),e&&e.songPreview.songPreview&&f.jsx(Cye,{...e.songPreview})]}),Footer:()=>f.jsxs(Zye,{children:["Missing a song? Try"," ",f.jsx(Fw,{to:"convert/",children:f.jsx("a",{children:"adding one"})})," ","yourself!"]}),EmptyPlaceholder:()=>f.jsx(rAe,{children:"No songs found"})};function Xye({onSongSelected:e,preselectedSong:t}){const[n]=Ue(yr),r=n?kP-1:kP;Fa(!1),La(!0),R$();const{focusedGroup:i,focusedSong:o,moveToSong:s,groupedSongList:a,keyboardControl:l,songPreview:c,setKeyboardControl:u,setFilters:d,filters:h,setShowFilters:p,showFilters:g,isLoading:m,randomSong:b,selectedPlaylist:y,setSelectedPlaylist:A,playlists:x,songList:S}=Yye(t,r),_=v.useMemo(()=>a.map(U=>U.songs).flat().find(U=>U.song.id===(c==null?void 0:c.id)),[c,a]),w=v.useRef(null),E=ON(),{width:T,handleResize:O}=Bh(),N=(T-(CP+N_)*E-(r-1)*zp*E)/r,H=N*(9/16),P=H/2,j=v.useCallback(()=>u(!1),[u]),R=m||!a||!T,k=y==="Eurovision",$=v.useRef(null);v.useEffect(()=>{const U=te=>S.findIndex(D=>D.id===te);return global.__songList={scrollToSong:te=>{var se;const[D]=te.split("-new-group"),ce=te.endsWith("-new-group"),X=a.find(Pe=>!!Pe.isNew===ce&&Pe.songs.some(be=>be.song.id===D));if(X){const Pe=U(D);return(se=w.current)==null||se.scrollToSongInGroup(X.name,Pe,"auto"),!0}return!1}},()=>{delete global.__songList}},[a,S]);const[{previewTop:V,previewLeft:z},B]=v.useState({previewTop:0,previewLeft:0});v.useEffect(()=>{const U=document.querySelector(`[data-song-index="${o}"][data-group="${i}"]`);!m&&U?B({previewTop:U.offsetTop+U.parentNode.offsetTop,previewLeft:U.offsetLeft}):m||console.warn("!!!!!!!!!!!! Song not found !!!!!!!!!!!!")},[o,i,m,T]),v.useEffect(()=>{var U;O(),m||(U=w.current)==null||U.scrollToSongInGroup(i,o)},[T,o,i,a,m,O]);const G=oi();return Lr("Shift + E",()=>G(Gm("edit/song/",{playlist:null,step:"metadata"})),[G]),Tr(ee.remoteSongSelected,async U=>{A("All");const te=S.findIndex(D=>D.id===U);te&&(o!==te?(s(te),l||u(!0),j()):l&&j())},[S,s,j,A,u,l,o]),f.jsx(Ws,{children:f.jsxs(eAe,{songsPerRow:r,style:{"--song-group-header-height":`${Math.floor(P)}px`,"--song-entry-width":`${Math.floor(N)}px`,"--song-entry-height":`${Math.floor(H)}px`,"--song-list-gap":`${Math.floor(zp*E)}px`,"--song-list-padding-left":`${Math.floor(CP*E)}px`,"--song-list-padding-right":`${Math.floor(N_*E)}px`,"--song-sidebar-weight":`${Math.floor(Q$*E)}px`},children:[R?f.jsxs(TP,{children:[f.jsx(RP,{children:f.jsx(MP,{children:f.jsx($_,{children:"   "})})}),new Array(4).fill(0).map((U,te)=>f.jsx(PP,{children:new Array(4).fill(0).map((D,ce)=>f.jsx(IP,{},ce))},te))]}):f.jsxs(f.Fragment,{children:[c&&f.jsx(tAe,{videoId:c.video}),f.jsx(gve,{setFilters:d,filters:h,onRandom:b,keyboardControl:l}),f.jsx(qve,{container:$.current,groupedSongList:a,onScrollToGroup:U=>{s(U.songs[0].index),setTimeout(()=>{var te;return(te=w.current)==null?void 0:te.scrollToGroup(U.name)},20)}}),f.jsx(TP,{active:l,dim:g,"data-test":"song-list-container",ref:$,children:f.jsx(Dye,{focusedSong:o,focusedGroup:i,ListRowWrapper:PP,GroupRowWrapper:RP,ref:w,groups:a,itemHeight:Math.floor(H)+Math.floor(zp*E),groupHeight:Math.floor(P)+Math.floor(zp*E),components:Jye,renderGroup:U=>f.jsx(MP,{"data-highlight":U.name==="New",children:f.jsx($_,{"data-group-name":U.name,children:U.displayLong??U.name})},U.name),perRow:r,renderItem:(U,te)=>{const D=U.index===o&&te.name===i;return v.createElement(iAe,{...g||!l?{"data-unfocusable":!0}:{},isPopular:U.isPopular,key:U.song.id,song:U.song,handleClick:D?j:s,focused:!g&&l&&D,index:U.index,groupLetter:te.name,"data-song-index":U.index,"data-focused":!g&&l&&U.index===o,"data-test":`song-${U.song.id}${te.isNew?"-new-group":""}`,"data-group":te.name,forceFlag:k})},placeholder:f.jsx(IP,{style:{visibility:"hidden"}}),context:{songPreview:{forceFlag:k,isPopular:!!(_!=null&&_.isPopular),keyboardControl:!l,onPlay:e,onExitKeyboardControl:()=>u(!0),songPreview:c,top:V,left:z,width:Math.floor(N),height:Math.floor(H)}}})})]}),f.jsx(xve,{selectedPlaylist:y,setSelectedPlaylist:A,playlists:x,active:g,closePlaylist:p})]})})}const Zye=I("div",{target:"e13s0pn12"})(Fe,";text-align:center;font-size:5rem;padding:10rem 0;"),eAe=I("div",{target:"e13s0pn11"})({name:"usdvu5",styles:"display:flex;flex-direction:row;max-height:100vh"}),tAe=e=>{const{theme:t}=v.useContext(bS);return t==="eurovision"?null:f.jsx(nAe,{...e})},nAe=I(vve,{target:"e13s0pn10"})({name:"ybgcp",styles:"position:fixed;inset:0;width:100%;height:100%;filter:blur(7px) grayscale(90%);opacity:0.25;object-fit:cover"}),rAe=I("div",{target:"e13s0pn9"})(Fe,";display:flex;align-items:center;justify-content:center;flex:1;height:75vh;font-size:10rem;"),$_=I("div",{target:"e13s0pn8"})(Fe,";display:flex;padding:0.5rem 1rem;font-size:3.5rem;z-index:1;color:",he.colors.text.active,";background:rgba(0, 0, 0, 0.7);align-items:center;gap:1rem;"),TP=I("div",{target:"e13s0pn7"})("position:relative;flex:1 1 auto;min-height:100vh;max-height:100vh;transition:opacity 500ms;opacity:",e=>e.dim?.5:1,";"),IP=I("div",{target:"e13s0pn6"})({name:"1mtg8xe",styles:"background:black;flex-basis:var(--song-entry-width);height:var(--song-entry-height);border-radius:1rem;animation:skeleton 1s ease-in-out infinite alternate;@keyframes skeleton{0%{opacity:0.65;}100%{opacity:0.75;}}"}),iAe=v.memo(I($$,{target:"e13s0pn5"})("cursor:pointer;flex-basis:var(--song-entry-width);height:var(--song-entry-height);transition:300ms;transform:scale(1);&[data-focused='true']{transform:scale(",Qye,");z-index:2;",yu,";}")),oAe=I("div",{target:"e13s0pn4"})(""),J$=I("div",{target:"e13s0pn3"})({name:"1syiygp",styles:"display:flex;flex-wrap:nowrap;justify-content:space-between;padding:calc(var(--song-list-gap) / 2) var(--song-list-padding-right) calc(var(--song-list-gap) / 2) var(--song-list-padding-left)"}),RP=I(J$,{target:"e13s0pn2"})({name:"1rn35zs",styles:"position:sticky;top:0;z-index:3"}),PP=I(J$,{target:"e13s0pn1"})({name:"s8hqg9",styles:"position:relative;&[data-is-new='true']{background:rgba(0, 0, 0, 0.7);}"}),MP=I("div",{target:"e13s0pn0"})("display:flex;align-items:flex-end;height:var(--song-group-header-height);&[data-highlight='true']{",$_,"{animation:new-song-group-header 600ms ease-in-out infinite both;background:#ffffff;@keyframes new-song-group-header{0%,100%{transform:scale(1);}50%{transform:scale(1.1);}}}}");function sAe(e){const[t,n]=Ue(s0),[r,i]=v.useState(t===null),o=()=>{n(t??[]),i(!1)};return r?f.jsx(BN,{onClose:o,closeText:"Continue to Song Selection"}):f.jsx(Xye,{...e})}var DE={},aAe=rt;Object.defineProperty(DE,"__esModule",{value:!0});var X$=DE.default=void 0,lAe=aAe(ut()),cAe=f;X$=DE.default=(0,lAe.default)((0,cAe.jsx)("path",{d:"M16.59 7.58 10 14.17l-3.59-3.58L5 12l5 5 8-8zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"}),"CheckCircleOutline");const _d=e=>new Promise(t=>setTimeout(t,e)),NA=15;function uAe({onFinish:e}){const[t,n]=v.useState(!1),[r,i]=v.useState([]);Tr(ee.readinessConfirmed,a=>{i(l=>[...l,a])});const o=Si([ee.inputListChanged,ee.readinessConfirmed],()=>Oe.getPlayers().map((a,l)=>[a.input.deviceId,a.getName(),a]));v.useEffect(()=>{(async()=>{let a=!1;const l=Oe.requestReadiness().then(()=>{a=!0,n(!0)}),c=_d(1500),u=_d(NA*1e3);await _d(250),a||await dg.play(),await Promise.race([Promise.all([l,c]),u]),dg.playing()&&B3.play(),await _d(500),dg.stop(),await _d(1e3),e()})()},[]);const s=o.map(([a,l,c])=>({confirmed:r.includes(a),name:l,player:c}));return f.jsx(f.Fragment,{children:f.jsxs(dAe,{children:[!t&&f.jsxs("span",{children:["Waiting for all players to click ",f.jsx("strong",{children:'"Ready"'})]}),f.jsx(hAe,{children:s.map(({confirmed:a,name:l,player:c},u)=>f.jsxs(pAe,{className:"ph-no-capture","data-test":"player-confirm-status","data-name":l,"data-confirmed":a,children:[!t&&f.jsx(gAe,{children:a?f.jsx(X$,{}):f.jsx($h,{color:"info",size:"1em"})})," ",f.jsx(q$,{player:c})]},u))}),!t&&f.jsxs(fAe,{children:["The song will start automatically in"," ",f.jsx("strong",{children:f.jsx(vE,{end:0,start:NA,duration:NA,useEasing:!1})})]})]})})}const dAe=I("div",{target:"e1wiz9j54"})("top:0;left:0;z-index:1000;display:flex;align-items:center;justify-content:center;flex-direction:column;position:absolute;width:100%;height:100%;gap:5rem;font-size:5rem;",Fe,";"),fAe=I("span",{target:"e1wiz9j53"})({name:"1umnjfm",styles:"font-size:5rem"}),hAe=I("div",{target:"e1wiz9j52"})({name:"1uxgijs",styles:"display:flex;flex-direction:column;gap:5rem;width:50rem;view-transition-name:player-mic-check-container"}),pAe=I("div",{target:"e1wiz9j51"})({name:"174652e",styles:"display:flex;align-items:center;gap:2rem;transform:scale(1.5)"}),gAe=I("span",{target:"e1wiz9j50"})({name:"1l5xwqu",styles:"svg{width:5rem;height:5rem;stroke:black;}"});function mAe({register:e,onExit:t}){const n=v.useRef(null),[r,i]=v.useState(!1),[o,s]=v.useState(!1),[a,l]=v.useState(!1);v.useEffect(()=>{var u;(u=n.current)==null||u.focus()},[n]);const c=()=>{const u=$e.getSong(),d={songId:u==null?void 0:u.id,songLastUpdated:u==null?void 0:u.lastUpdate},h=[];r&&h.push("not-in-sync"),o&&h.push("wrong-volume"),a&&h.push("bad-lyrics"),h.length&&bn.capture("rate-song",{issues:h,...d}),t()};return f.jsx(f.Fragment,{children:f.jsxs(uo,{children:[f.jsx("h1",{children:"Is the song OK?"}),f.jsx("h4",{children:"If there's something wrong with the song, let me know so I can fix it"}),f.jsxs($A,{...e("button-not-in-sync",()=>i(u=>!u)),size:"small",children:[f.jsx(DA,{children:r?f.jsx(uf,{}):f.jsx(df,{})}),f.jsx("span",{children:"Lyrics are not in sync"})]}),f.jsxs($A,{...e("button-bad-lyrics",()=>l(u=>!u)),size:"small",children:[f.jsx(DA,{children:a?f.jsx(uf,{}):f.jsx(df,{})}),f.jsx("span",{children:"Wrong lyrics, missing spaces etc."})]}),f.jsxs($A,{...e("button-wrong-volume",()=>s(u=>!u)),size:"small",children:[f.jsx(DA,{children:o?f.jsx(uf,{}):f.jsx(df,{})}),f.jsx("span",{children:"Too loud/quiet"})]}),f.jsx("hr",{}),f.jsx(Re,{...e("button-song-ok",c,void 0,!0),ref:n,children:o||r?"Submit and exit":"All good, exit the song"})]})})}const $A=I(Re,{target:"e1prcfby1"})({name:"12ib3m7",styles:"justify-content:flex-start;gap:1rem"}),DA=I("div",{target:"e1prcfby0"})({name:"224g68",styles:"svg{width:3rem;height:3rem;}display:flex;align-items:center;justify-content:center"});function vAe({onResume:e,onExit:t,onRestart:n}){const r=oi(),i=v.useRef(null),o=v.useRef(null);v.useEffect(()=>{var h;(h=i.current)==null||h.focus()},[i]);const[s,a]=v.useState(!1),{register:l}=Wn({enabled:!s}),[c,u]=v.useState(!1),d=async()=>{const h=$e.getSongCompletionProgress(),p=(await eo.getIndex()).find(g=>{var m;return g.id===((m=$e.getSong())==null?void 0:m.id)});!(p!=null&&p.local)&&h<.7&&!No()?u(!0):t()};return f.jsxs(tc,{onClose:e,children:[!c&&f.jsxs(f.Fragment,{children:[f.jsxs(uo,{children:[f.jsx(Re,{...l("button-resume-song",e),ref:i,children:"Resume song"}),f.jsx(Re,{...l("button-restart-song",n),children:"Restart song"}),f.jsx(Re,{...l("button-exit-song",d),children:"Exit song"}),f.jsx(Re,{...l("input-settings",()=>a(!0)),children:"Microphones settings"}),f.jsx("hr",{}),f.jsx(QN,{ref:o,...l("input-lag",()=>{var h;return(h=o.current)==null?void 0:h.focus()})}),f.jsx(Re,{...l("edit-song",()=>{var h;return r("edit/song/",{song:((h=$e.getSong())==null?void 0:h.id)??""})}),size:"small",children:"Edit song"})]}),s&&f.jsx(W$,{onClose:()=>a(!1),closeButtonText:"Back to Pause Menu"})]}),c&&f.jsx(mAe,{onExit:t,register:l})]})}const Z$=No()?1e3:8e3;function yAe(e){return Math.floor((Bv(e)-Z$)/1e3)}const AAe=2e4;function bAe(e){return Bv(e)-(e.videoGap??0)*1e3>AAe}function _Ae({playerRef:e,isEnabled:t}){const[n]=Ue(yr),r=$e.getSong(),i=v.useMemo(()=>bAe(r),[r]),o=v.useMemo(()=>Bv(r),[r]),s=$e.getCurrentTime(!1)<o-Z$*1.2,a=t&&s&&i;Jl({accept:()=>{e==null||e.seekTo(yAe(r));const{artist:u,title:d}=$e.getSong();bn.capture("introSkipped",{name:`${u} - ${d}`,artist:u,title:d})}},a);const c=v.useMemo(()=>({accept:"Skip Intro",back:"Pause Menu"}),[]);return Ku(c,a),!n&&a?f.jsxs(xAe,{visible:a,"data-test":"skip-intro-info",children:["Press ",f.jsx(SAe,{children:"Enter"})," to skip the intro"]}):null}const xAe=I("div",{target:"e167kngm1"})(Fe,";pointer-events:none;position:fixed;bottom:29rem;transform:scale(",e=>e.visible?1:0,");opacity:",e=>e.visible?1:0,";text-align:center;font-size:5rem;text-shadow:0 0 3.5rem black;width:100%;z-index:4;padding:0.5rem;transition:ease 500ms;"),SAe=I("kbd",{target:"e167kngm0"})("margin:0.2rem;padding:0.2rem 2rem;border-radius:1.3rem;border:0.5rem solid rgb(204, 204, 204);border-bottom-color:rgb(150, 150, 150);border-right-color:rgb(150, 150, 150);line-height:1.4;display:inline-block;background-color:rgb(247, 247, 247);text-shadow:0 1rem 0 #fff;opacity:",e=>e.disabled?.25:1,";"),wAe=15e3;function EAe({onSongEnd:e,isEnabled:t}){const[n]=Ue(yr),r=$e.getDuration(),i=v.useMemo(()=>Math.max(...$e.getPlayers().map(p=>Rf(p.getLastNotesSection()))),[]),o=v.useMemo(()=>{var g;const p=i$(i,$e.getSong())+(((g=$e.getSong())==null?void 0:g.gap)??0);return t&&r*1e3>p+wAe},[r,i,t]),[s,a]=v.useState(0),[l,c]=v.useState(!1);CO(()=>a($e.getCurrentBeat()),1e3);const u=lE(o&&s>i,5e3)&&!l;Jl({accept:()=>{c(!0),setTimeout(e,700);const{artist:p,title:g}=$e.getSong();bn.capture("outroSkipped",{name:`${p} - ${g}`,artist:p,title:g})}},u);const h=v.useMemo(()=>({accept:"Skip Outro",back:"Pause Menu"}),[]);return Ku(h,u),!n&&o?f.jsxs(kAe,{visible:u,"data-test":"skip-outro-info","data-visible":u,children:["Press ",f.jsx(CAe,{children:"Enter"})," to skip the outro"]}):null}const kAe=I("div",{target:"e1b01y1a1"})(Fe,";pointer-events:none;position:fixed;bottom:29rem;transform:scale(",e=>e.visible?1:0,");opacity:",e=>e.visible?1:0,";text-align:center;font-size:5rem;text-shadow:0 0 3.5rem black;width:100%;z-index:4;padding:0.5rem;transition:ease 500ms;"),CAe=I("kbd",{target:"e1b01y1a0"})("margin:0.2rem;padding:0.2rem 2rem;border-radius:1.3rem;border:0.5rem solid rgb(204, 204, 204);border-bottom-color:rgb(150, 150, 150);border-right-color:rgb(150, 150, 150);line-height:1.4;display:inline-block;background-color:rgb(247, 247, 247);text-shadow:0 1rem 0 #fff;opacity:",e=>e.disabled?.25:1,";"),TAe=ke.memo(EAe);function jP(e){return e&&e.length?MN(e):[]}function IAe({players:e}){const t=$e.getCurrentTime(!1),n=$e.getSongBeatLength(),r=$e.getDuration(),i=$e.getSong(),o=v.useMemo(()=>jP(i.tracks.filter((l,c)=>e.find(u=>u.track===c)).map(({sections:l})=>Ta(l)*n+i.gap)),[i,n,e]),s=v.useMemo(()=>jP(i.tracks.filter((l,c)=>e.find(u=>u.track===c)).map(({sections:l})=>If(l)*n+i.gap)),[i,n,e]),a=r*1e3;return!t||!r?null:f.jsxs(BE,{children:[o.map(l=>f.jsx(OP,{position:l/a},l)),s.map(l=>f.jsx(OP,{position:l/a},l)),f.jsx(MAe,{fill:t/a})]})}const BE=I("div",{target:"e1pz3mwm2"})({name:"1q7pdku",styles:"position:absolute;height:0.6rem;width:100%;background:rgba(0, 0, 0, 0.5);left:0;top:calc(50% - 0.3rem)"}),RAe=I(BE,{target:"e1pz3mwm1"})("top:0;margin-left:-0.25rem;width:0.5rem;background:",he.colors.text.active,";opacity:75%;"),OP=e=>f.jsx(RAe,{style:{left:`${Math.min(e.position*100,100)}%`}}),PAe=I(BE,{target:"e1pz3mwm0"})({name:"1ssqmyb",styles:"top:0;background:white;opacity:50%"}),MAe=e=>f.jsx(PAe,{style:{width:`${Math.round(e.fill*1e4)/100}%`}});function jAe({player:e,bottom:t=!1,...n}){const r=_n.getPlayerVolume(e.number),i=z$(e.number);return f.jsxs(OAe,{...n,children:[i!=="unavailable"&&f.jsx(R0e,{playerNumber:e.number,volume:r}),f.jsx(VAe,{status:i,tooltipPosition:"start"}),f.jsx(LAe,{playerNumber:e.number})]})}const OAe=I("div",{target:"ea232322"})({name:"180gow0",styles:"width:20rem;position:relative"}),VAe=I(G$,{target:"ea232321"})({name:"14rk3pa",styles:"top:auto;right:1rem;bottom:-0.5rem"}),LAe=I(H$,{target:"ea232320"})({name:"ed8znk",styles:"z-index:2;font-size:2rem;margin-right:1rem;-webkit-text-stroke:0.1rem black"});function VP({player:e,bottom:t=!1,effectsEnabled:n,showMultipleLines:r}){var S;const i=$e.getPlayer(e.number),[o]=Ue(yr),s=he.colors.players[e.number].text,a=((S=$e.getSingSetup())==null?void 0:S.mode)===$r.PASS_THE_MIC?i.getTrack().changes:[],l=i.getCurrentSection(),c=i.getNextSection(),u=i.getNextSection(2),d=$e.getCurrentBeat(),h=$e.getSongBeatLength(),p=Math.max(0,...a.filter(_=>_<=((l==null?void 0:l.start)??-1/0))),g=a.find(_=>_>((l==null?void 0:l.start)??1/0))??1/0,m=(g-d)*h,b=(g-d)/(g-p),y=m<2500,A=Et(l),x=A?Ta([l])-l.start:0;return f.jsxs(FAe,{shouldBlink:y,bottom:t,"data-test":`lyrics-container-player-${e.number}`,children:[!o&&n&&f.jsx(NAe,{children:r?f.jsx(LP,{player:e}):$e.getPlayers().map(_=>f.jsx(LP,{player:Oe.getPlayer(_.getNumber())},_.getNumber()))}),m<1/0&&f.jsx(WAe,{color:s,progress:b<=1?b*100:0}),A?f.jsx(f.Fragment,{children:f.jsxs(Up,{"data-test":`lyrics-current-player-${e.number}`,effectsEnabled:n,children:[f.jsx($Ae,{children:f.jsx(BAe,{color:s,percent:Math.min(2,(d-l.start)/x)})}),l==null?void 0:l.notes.map(_=>{const w=Math.max(0,Math.min(2,(d-_.start)/_.length));return f.jsxs(zAe,{type:_.type,children:[f.jsxs(UAe,{children:[f.jsx(GAe,{fill:w,color:s,children:_.lyrics.trim()}),_.lyrics.endsWith(" ")&&" "]}),_.lyrics]},_.start)}),(c==null?void 0:c.start)===g&&f.jsx(NP,{"data-should-shake":!0})]})}):f.jsx(Up,{effectsEnabled:n,children:" "}),Et(c)?f.jsxs(Up,{nextLine:!0,"data-test":`lyrics-next-player-${e.number}`,effectsEnabled:n,children:[c.notes.map(_=>f.jsx(v.Fragment,{children:_.lyrics},_.start)),(u==null?void 0:u.start)===g&&f.jsx(NP,{})]}):f.jsx(Up,{effectsEnabled:n,nextLine:!0,children:" "})]})}const LP=I(jAe,{target:"e1j3lo7n10"})({name:"82a6rk",styles:"flex:1"}),NAe=I("div",{target:"e1j3lo7n9"})({name:"zrovsy",styles:"position:absolute;top:0;right:0;display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%"}),$Ae=I("span",{target:"e1j3lo7n8"})({name:"1sngsgs",styles:"position:relative;height:0"}),DAe=I("span",{target:"e1j3lo7n7"})({name:"7drlms",styles:"position:absolute;width:15rem;height:3.1rem;margin:0.7rem 0;right:10rem"}),BAe=({percent:e,color:t})=>{const n=v.useMemo(()=>{const r=fe(t).toRgb();return`${r.r}, ${r.g}, ${r.b}`},[t]);return f.jsx(DAe,{style:{transformOrigin:"right",transform:`scaleX(${Math.min(1,2-e)})`,right:`${Math.max(0,1-e)*15}rem`,background:`linear-gradient(270deg, rgba(${n}, 1) 0%, rgba(${n}, 0.5) 25%, rgba(${n}, 0) 100%)`}})},FAe=I("div",{target:"e1j3lo7n6"})("@keyframes blink{100%{background-color:rgba(0, 0, 0, ",e=>e.bottom?"0.85":"0.5",");}30%{background-color:rgba(0, 0, 0, ",e=>e.bottom?"0.85":"0.5",");}50%{background-color:rgba(200, 200, 200, ",e=>e.bottom?"0.85":"0.5",");}30%{background-color:rgba(0, 0, 0, ",e=>e.bottom?"0.85":"0.5",");}0%{background-color:rgba(0, 0, 0, ",e=>e.bottom?"0.85":"0.5",");}}box-sizing:border-box;padding:1rem;background:rgba(0, 0, 0, ",e=>e.bottom?"0.9":"0.5",");width:100%;text-align:center;line-height:1;position:relative;",e=>e.shouldBlink?"animation: blink 350ms ease-in-out infinite both;":"",";"),zAe=I("span",{target:"e1j3lo7n5"})("font-style:",e=>e.type==="freestyle"?"italic":"normal",";"),UAe=I("span",{target:"e1j3lo7n4"})({name:"nffb2y",styles:"position:absolute;z-index:1"}),HAe=I("span",{target:"e1j3lo7n3"})(""),GAe=({fill:e,color:t,children:n})=>f.jsx(HAe,{style:{clipPath:`inset(0 ${(1-(e===0?0:e+.05))*100}% -5rem 0)`,color:`${t}`},children:n}),qAe=I("div",{target:"e1j3lo7n2"})({name:"d6fl9l",styles:"position:absolute;height:1rem;width:100%"}),WAe=e=>f.jsx(qAe,{"data-test":"pass-the-mic-progress",style:{background:e.color,transformOrigin:"left",transform:`scaleX(${e.progress/100})`}}),NP=I(Lv,{target:"e1j3lo7n1"})("@keyframes shake{10%,90%{transform:translate3d(-0.1rem, 0, 0);}20%,80%{transform:translate3d(0.2rem, 0, 0);}30%,50%,70%{transform:translate3d(-0.4rem, 0, 0);}40%,60%{transform:translate3d(0.4rem, 0, 0);}}font-size:3rem;margin-left:2rem;&[data-should-shake='true']{animation:shake 0.92s cubic-bezier(0.36, 0.07, 0.19, 0.97) both infinite;fill:",he.colors.text.active,";font-size:4rem;}"),Up=I("div",{target:"e1j3lo7n0"})("font-size:",({nextLine:e,effectsEnabled:t})=>t?3.5+(e?0:1):2,"rem;height:",({effectsEnabled:e})=>e?4.5:2,"rem;-webkit-text-stroke-width:",({effectsEnabled:e})=>e?"0.2rem":"1px",";color:",({nextLine:e})=>e?he.colors.text.inactive:he.colors.text.default,";font-family:'Comic Sans MS',Seravek,'Gill Sans Nova',Ubuntu,Calibri,'DejaVu Sans',source-sans-pro,sans-serif;z-index:10;"),eD=new Intl.NumberFormat(void 0,{maximumFractionDigits:0});function D_({score:e}){return f.jsx(f.Fragment,{children:eD.format(e)})}const tD=6,Di=30,Tn=Di+6,KAe=e=>{const t=e.canvas.width,n=e.canvas.height,r=Math.max(0,(t-n*(16/9))/2),i=10+(t-2*r)*.15+r,o=n-e.paddingVertical*2;return{width:t-i*2,height:o/e.playerCount,baseX:i,baseY:e.paddingVertical+e.playerIndex*o/e.playerCount}};function $P({canvas:e,currentSectionIndex:t,song:n,songBeatLength:r,minPitch:i,maxPitch:o,track:s,playerIndex:a,playerCount:l,paddingVertical:c}){var x;const u=s.sections,d=u[t],h=u[t+1],p=KAe({canvas:e,playerCount:l,playerIndex:a,paddingVertical:c}),g=Et(d)?(x=d==null?void 0:d.notes)==null?void 0:x.at(-1):void 0,m=Et(d)?(h==null?void 0:h.start)??g.start+g.length:d.end,b=d.start*r,y=(m-d.start)*r,A=(p.height-20-Di)/(o-i+tD*2);return{playerCanvas:p,currentSection:d,sectionEndBeat:m,timeSectionGap:b,maxTime:y,pitchStepHeight:A}}function nD(e,t,n,r,i){return i&&n?he.colors.players[t].starPerfect:i?he.colors.players[t].perfect:n&&r?he.colors.players[t].star:r?he.colors.players[t].hit:he.colors.players[t].miss}function YAe(e,t,n,r){return nD(e,t,r.note.type==="star",n,r.isPerfect)}const BA={},QAe=e=>{if(!BA[e]){const t=fe(e);BA[e]=[[t.setAlpha(.8).toRgbString(),t.setAlpha(.9).toRgbString(),t.setAlpha(1).toRgbString()],[t.setAlpha(0).toRgbString()],[t.setAlpha(.1).toRgbString(),t.setAlpha(.3).toRgbString(),t.setAlpha(.2).toRgbString()]]}return BA[e]};function B_(e,t,n,r,i,o,s,a=1){if(i<=0)return;t.globalAlpha=1;const l=t.createRadialGradient(n,r,0,n,r,i/2),[c,u,d]=QAe(s);l.addColorStop(0,c[Co(0,c.length-1)]),l.addColorStop(.05,c[Co(0,c.length-1)]),l.addColorStop(.15,d[Co(0,d.length-1)]),l.addColorStop(1,u[Co(0,u.length-1)]),t.beginPath(),t.arc(n,r,i/2,0,2*Math.PI),t.closePath(),t.fillStyle=l,t.fill(),t.fillStyle=s,t.globalAlpha=1}function FE(e,t,n,r,i,o,s,a,l=1){i>0&&B_(e,t,n,r,i,o,a,l)}const pf=(e,t)=>e-t+Math.random()*t*2,DP=(e=0)=>Math.sign(e+Math.random()-.5),JAe=500,XAe=100,Hp=.2;class ZAe{constructor(t,n,r){this.x=t,this.y=n,this.color=r,this.finished=!1,this.tick=(i,o,s)=>{const a=1-this.ttl/this.startingTtl,l=this.startingTtl-this.ttl,c=this.width*a,u=this.width*this.heightModifier*a,d=this.x-c/2+l*this.velocityX,h=this.y+u/2+l*this.velocityY;FE(o,i,d,h,c,u,this.initialAngle+l,this.color,.5*a),this.ttl=this.ttl-s,this.finished=this.ttl<=0},this.startingTtl=this.ttl=pf(JAe,XAe),this.velocityX=Hp*Math.random()-Hp/2,this.velocityY=Hp*Math.random()-Hp/2,this.width=25,this.initialAngle=180-Math.random()*360,this.heightModifier=.5+Math.random()/2}}class e1e{constructor(t,n,r,i,o){this.finished=!0,this.tick=(c,u)=>{};const s=he.colors.players[i].starPerfect.fill,a=fe(s).lighten(15).toRgbString(),l=fe(s).darken(15).toRgbString();if(Math.random()>.85){const c=Co(0,r/8),u=Math.random();let d=s;u>.66?d=a:u>.33&&(d=l);const h=n+20*(Math.random()-.5);o.add(new ZAe(t+c*8,h,d))}}}const t1e=300,n1e=50,Gp=1.3;class r1e{constructor(t,n,r){this.x=t,this.y=n,this.color=r,this.finished=!1,this.tick=(i,o,s)=>{const a=1-this.ttl/this.startingTtl,l=this.ttl,c=this.width*a,u=this.width*this.heightModifier*a,d=this.x-c/2+l*this.velocityX,h=this.y+u/2+l*this.velocityY;FE(o,i,d,h,c,u,this.initialAngle+l,this.color,.7*a),this.ttl=this.ttl-s,this.finished=this.ttl<=0},this.startingTtl=this.ttl=pf(t1e,n1e),this.velocityX=Gp*Math.random()-Gp/2,this.velocityY=Gp*Math.random()-Gp/2,this.width=25,this.initialAngle=180-Math.random()*360,this.heightModifier=.5+Math.random()/2}}const i1e=`
precision mediump float;
`,Gv=i1e.replace(/\n/g,""),o1e=`
attribute vec3 aVertexPosition;
attribute vec2 aTextureCoord;
`,rD=o1e.replace(/\n/g,""),s1e=`
varying vec3 vVertexPosition;
varying vec2 vTextureCoord;
`,qv=s1e.replace(/\n/g,""),a1e=Gv+rD+qv+`
uniform mat4 uMVMatrix;
uniform mat4 uPMatrix;

void main() {
    vTextureCoord = aTextureCoord;
    vVertexPosition = aVertexPosition;
    
    gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);
}
`;a1e.replace(/\n/g,"");const l1e=Gv+qv+`
void main() {
    gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
}
`;l1e.replace(/\n/g,"");const c1e=Gv+rD+qv+`
void main() {
    vTextureCoord = aTextureCoord;
    vVertexPosition = aVertexPosition;
    
    gl_Position = vec4(aVertexPosition, 1.0);
}
`;c1e.replace(/\n/g,"");const u1e=Gv+qv+`
uniform sampler2D uRenderTexture;

void main() {
    gl_FragColor = texture2D(uRenderTexture, vTextureCoord);
}
`;u1e.replace(/\n/g,"");function d1e(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:mS(e,t,n)}var f1e="\\ud800-\\udfff",h1e="\\u0300-\\u036f",p1e="\\ufe20-\\ufe2f",g1e="\\u20d0-\\u20ff",m1e=h1e+p1e+g1e,v1e="\\ufe0e\\ufe0f",y1e="\\u200d",A1e=RegExp("["+y1e+f1e+m1e+v1e+"]");function iD(e){return A1e.test(e)}function b1e(e){return e.split("")}var oD="\\ud800-\\udfff",_1e="\\u0300-\\u036f",x1e="\\ufe20-\\ufe2f",S1e="\\u20d0-\\u20ff",w1e=_1e+x1e+S1e,E1e="\\ufe0e\\ufe0f",k1e="["+oD+"]",F_="["+w1e+"]",z_="\\ud83c[\\udffb-\\udfff]",C1e="(?:"+F_+"|"+z_+")",sD="[^"+oD+"]",aD="(?:\\ud83c[\\udde6-\\uddff]){2}",lD="[\\ud800-\\udbff][\\udc00-\\udfff]",T1e="\\u200d",cD=C1e+"?",uD="["+E1e+"]?",I1e="(?:"+T1e+"(?:"+[sD,aD,lD].join("|")+")"+uD+cD+")*",R1e=uD+cD+I1e,P1e="(?:"+[sD+F_+"?",F_,aD,lD,k1e].join("|")+")",M1e=RegExp(z_+"(?="+z_+")|"+P1e+R1e,"g");function j1e(e){return e.match(M1e)||[]}function O1e(e){return iD(e)?j1e(e):b1e(e)}function V1e(e){return function(t){t=pS(t);var n=iD(t)?O1e(t):void 0,r=n?n[0]:t.charAt(0),i=n?d1e(n,1).join(""):t.slice(1);return r[e]()+i}}var L1e=V1e("toUpperCase");function N1e(e){return L1e(pS(e).toLowerCase())}function BP(e,t,n,r,i,o,s,a){const l=Math.max(r,i/2),c=Math.min(l/2,i/2,o);e.beginPath(),e.moveTo(t+c,n),e.lineTo(t+l-c,n),e.quadraticCurveTo(t+l,n,t+l,n+c),e.lineTo(t+l,n+i-c),e.quadraticCurveTo(t+l,n+i,t+l-c,n+i),e.lineTo(t+c,n+i),e.quadraticCurveTo(t,n+i,t,n+i-c),e.lineTo(t,n+c),e.quadraticCurveTo(t,n,t+c,n),e.closePath(),s&&e.fill(),a&&e.stroke()}function zE(e,t,n,r,i,o,s,a,l=.1){BP(e,t,n,r,i,o,s,a),s&&l>0&&(e.save(),BP(e,t,n,r,i,o,!1,!1),e.clip(),e.fillStyle=`rgba(255,255,255,${l})`,e.fillRect(t,n,r,i/2.2),e.restore())}function Nd(e,t){e.fillStyle=t.fill,e.strokeStyle=t.stroke,e.lineWidth=t.lineWidth}function $d(e,t,n,r,i,o,s){o==="star"?Nd(e,he.colors.lines.star):o==="freestyle"||o==="rap"?Nd(e,he.colors.lines.freestyle):o==="rapstar"?Nd(e,{...he.colors.lines.star,fill:he.colors.lines.freestyle.fill}):Nd(e,he.colors.lines.normal),e.shadowBlur=10,e.shadowColor=s!==void 0?he.colors.players[s].miss.stroke:"rgb(31,31,31)",e.shadowOffsetX=0,e.shadowOffsetY=0,zE(e,t,n,r,i,100,!0,!0,.075),e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0}function $1e(e,t,n,r,i,o,s,a,l){Nd(e,nD(e,o,l,s,a)),e.shadowBlur=5,e.shadowColor="rgba(31,31,31, .7)",e.shadowOffsetX=1,e.shadowOffsetY=1,zE(e,t,n,r,i,100,!0,!0,s?.15:0),e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0}const $n=10,D1e={start:{x:0,y:0,w:Di/2+$n,h:Di+$n*2},middle:{x:Di/2+$n,y:0,w:1,h:Di+$n*2},end:{x:Di/2+1+$n,y:0,w:Di/2+$n,h:Di+$n*2}},$c={start:{x:0,y:0,w:Tn/2+$n,h:Tn+$n*2},middle:{x:Tn/2+$n,y:0,w:1,h:Tn+$n*2},end:{x:Tn/2+1+$n,y:0,w:Tn/2+$n,h:Tn+$n*2}},mc=(e,t,n,r,i)=>({draw:(o,s,a,l,c)=>$1e(o,s,a,l,c,e,t,n,r),width:i?Tn:Di+1,height:i?Tn:Di,padding:$n,fragments:i?$c:D1e}),qp=e=>({[`p${e}Normal`]:{draw:(t,n,r,i,o)=>$d(t,n,r,i,o,"normal",e),width:Tn+1,height:Tn,padding:$n,fragments:$c},[`p${e}Miss`]:mc(e,!1,!1,!1,!1),[`p${e}Hit`]:mc(e,!0,!1,!1,!0),[`p${e}Perfect`]:mc(e,!0,!0,!1,!0),[`p${e}StarMiss`]:mc(e,!1,!1,!0,!1),[`p${e}StarHit`]:mc(e,!0,!1,!0,!0),[`p${e}StarPerfect`]:mc(e,!0,!0,!0,!0)}),xs={...qp(0),...qp(1),...qp(2),...qp(3),noteStar:{draw:(e,t,n,r,i)=>$d(e,t,n,r,i,"star"),width:Tn+1,height:Tn,padding:$n,fragments:$c},noteFreestyle:{draw:(e,t,n,r,i)=>$d(e,t,n,r,i,"freestyle"),width:Tn+1,height:Tn,padding:$n,fragments:$c},noteRap:{draw:(e,t,n,r,i)=>$d(e,t,n,r,i,"rap"),width:Tn+1,height:Tn,padding:$n,fragments:$c},noteRapstar:{draw:(e,t,n,r,i)=>$d(e,t,n,r,i,"rapstar"),width:Tn+1,height:Tn,padding:$n,fragments:$c}};function B1e(e,t){const n=document.createElement("canvas");return n.width=e,n.height=t,n}const dD=Math.max(...Object.values(xs).map(e=>e.padding*2+e.width)),fD=Object.values(xs).map(e=>e.padding*2+e.height).reduce((e,t)=>e+t,0),hD=B1e(dD,fD),U_=hD.getContext("2d");let hl=0;const FP=Object.entries(xs).map(([e,t])=>{const n=t.padding*2,r={name:e,x:0,y:hl,w:t.width+n,h:t.height+n};return hl=hl+t.height+n,r}).reduce((e,t)=>({...e,[t.name]:t}),{}),pD=()=>{U_.clearRect(0,0,dD,fD),hl=0,Object.entries(xs).forEach(([e,t])=>{t.draw(U_,t.padding,hl+t.padding,t.width,t.height),hl=hl+t.padding*2+t.height})};pD();ee.songStarted.subscribe(pD);const gD=(e,t)=>({canvas:hD,ctx:U_,x:FP[e].x+xs[e].fragments[t].x,y:FP[e].y+xs[e].fragments[t].y,w:xs[e].fragments[t].w,h:xs[e].fragments[t].h,padding:xs[e].padding}),FA=(e,t,n,r,i,o,s,a=1,l=1)=>{const c=gD(t,n),{canvas:u,w:d,h,y:p,x:g,padding:m}=c,b=m*a,y=m*l;return e.imageSmoothingEnabled=!1,e.drawImage(u,g,p,d,h,r-b,i-y,o??d,s??h),e.imageSmoothingEnabled=!0,c};function mD(e,t,n,r,i){const o=gD(t,"start"),s=Math.max(i,(o.h-o.padding*2)/2),a=Math.min(1,s/2/(o.w-o.padding)),l=a*o.w,c=l-o.padding*a,u=s-2*c;FA(e,t,"start",n,r,l,void 0,a),u>0&&FA(e,t,"middle",n+l,r,u,void 0,a),FA(e,t,"end",n+u+l,r,l,void 0,a)}const F1e=(e,t)=>`${t!==void 0&&e==="normal"?`p${t}`:"note"}${N1e(e)}`;function vD(e,t,n,r,i,o){const s=F1e(i.type,o);mD(e,s,t,n,r)}function z1e(e,t,n,r,i,o){e.save(),zE(e,t,n,r,i,100,!1,!1),e.clip(),e.beginPath(),e.strokeStyle="rgba(255,255,255, .35)",e.lineWidth=3,e.lineJoin="round",e.moveTo(t,n+i/2-o.frequencyRecords[0].preciseDistance*i/3);for(let s=1;s<o.frequencyRecords.length;s++)e.lineTo(t+s*(r/(o.frequencyRecords.length-1)),n+i/2-o.frequencyRecords[s].preciseDistance*i/3);e.stroke(),e.closePath(),e.restore(),e.lineJoin="miter"}const U1e=(e,t,n,r)=>{let i=`p${e}`;return n&&r?i=`${i}StarPerfect`:n?i=`${i}Perfect`:r&&t?i=`${i}StarHit`:t?i=`${i}Hit`:r&&!t?i=`${i}StarMiss`:i=`${i}Miss`,i},H1e=["star","rapstar"];function G1e(e,t,n,r,i,o,s){const a=U1e(i,o,s.isPerfect,H1e.includes(s.note.type));mD(e,a,t,n,r)}class q1e{constructor(){this.particles=[],this.lastTick=Date.now(),this.getTimeDelta=t=>{const n=Date.now()-t,r=n-this.lastTick;return this.lastTick=n,r},this.tick=(t,n,r=0)=>{const i=this.getTimeDelta(r);this.particles.forEach(o=>o.tick(t,n,i)),this.particles=this.particles.filter(o=>!o.finished)},this.add=t=>this.particles.push(t),this.clearAll=()=>this.particles=[]}}const gs=new q1e,W1e=50/60*1e3,K1e=25/60*1e3,Y1e=60,zP=.3;class Q1e{constructor(t,n,r,i){this.x=t,this.y=n,this.color=r,this.delay=i,this.finished=!1,this.tick=(o,s,a)=>{if(this.delay-- >0)return;const l=this.ttl/this.startingTtl,c=this.startingTtl-this.ttl,u=this.width*l,d=this.width*this.heightModifier*l,h=this.x-u/2+c*this.velocityX,p=this.y-d/2+c*this.velocityY;FE(s,o,h,p,u,d,this.initialAngle+c,this.color,.8*l),this.velocityX=this.velocityX-.009,this.velocityY=this.velocityY*1.0075,this.ttl=this.ttl-a,this.finished=this.ttl<=0},this.startingTtl=this.ttl=pf(W1e,K1e),this.velocityX=pf(.5,zP)*DP(.2),this.velocityY=pf(.4,zP)*DP(),this.width=Y1e,this.initialAngle=180-Math.random()*360,this.heightModifier=.5+Math.random()/2}}class J1e{constructor(t,n,r,i,o,s){this.finished=!0,this.tick=(d,h)=>{};const a=o.type==="star"?he.colors.players[i].star.fill:he.colors.players[i].perfect.fill,l=fe(a).lighten(15).toRgbString(),c=fe(a).darken(15).toRgbString(),u=r/9;for(let d=0;d<u;d++){const h=Math.random();let p=a;h>.66?p=l:h>.33&&(p=c);const g=n+20*(Math.random()-.5);s.add(new Q1e(t+d*9,g,p,(u-d)/10))}}}const UP=200;class X1e{constructor(t,n,r,i,o){this.x=t,this.y=n,this.width=r,this.note=i,this.playerNumber=o,this.finished=!1,this.ttl=UP,this.tick=(s,a,l)=>{const c=this.ttl/UP;s.save(),s.globalAlpha=c,s.translate(0,Tn*(1-c)),vD(s,this.x,this.y,this.width,this.note,this.playerNumber),s.globalAlpha=1,s.restore(),this.ttl=this.ttl-l,this.finished=this.ttl<=0}}}const zA=50/60*1e3,Wp=.05,Z1e=200,HP=4,ebe=Math.pow;function GP(e){return 1-ebe(1-e,2)}class tbe{constructor(t,n,r,i){this.x=t,this.y=n,this.finished=!1,this.tick=(o,s,a)=>{const l=this.ttl/zA;let c=GP(1-Math.min(1,(1-l)*6));const u=this.maxWidth*c*3/4,d=this.maxWidth*c;B_(s,o,this.x,this.y,u,d,"white",c*.35),c=GP(l);const h=c*this.maxWidth/4,p=c*this.maxWidth/4,g=this.x,m=this.y,b=zA-this.ttl;o.globalAlpha=c*.2,B_(s,o,g+b*this.velocityX,m+b*this.velocityY,h,p,"white",c*.2),this.ttl=this.ttl-a,this.finished=this.ttl<=0},this.ttl=zA,this.velocityX=Wp*Math.random()-Wp/2,this.velocityY=Wp*Math.random()-Wp/2,this.maxWidth=Math.min(.1+i,1)*(Math.sin(r/70)*HP+(Z1e-HP))}}const qP=20;class nbe{constructor(t,n,r,i,o){this.x=t,this.y=n,this.w=r,this.h=i,this.seed=o,this.finished=!1,this.ttl=2/60*1e3,this.tick=(s,a,l)=>{s.strokeStyle="rgba(255,255,255,.25)",s.lineWidth=2,s.beginPath();for(let c=0;c<this.w;c++){const u=this.x+this.w-c,d=(this.h/2+2)*Math.sin(u/qP+this.seed/250);s.lineTo(u,this.y+this.h/2+d)}s.stroke(),s.beginPath();for(let c=0;c<this.w;c++){const u=this.x+this.w-c,d=-1*(this.h/2+2)*Math.sin(u/qP+this.seed/250);s.lineTo(u,this.y+this.h/2+d)}s.stroke(),this.ttl=this.ttl-l,this.finished=this.ttl<=0}}}const WP=20;function rbe(e,t){return e.find(n=>n.start<=t&&n.start+n.length>=t)}class ibe{constructor(t,n=0,r=1){this.canvas=t,this.verticalMargin=n,this.scaleFactor=r,this.loop=!1,this.pauseTime=0,this.pausedOn=0,this.shaders=null,this.start=()=>{ee.sectionChange.subscribe(this.onSectionEnd),this.loop=!0,this.drawFrame()},this.pause=()=>{this.end(),this.pausedOn=Date.now()},this.resume=()=>{this.pauseTime+=Date.now()-this.pausedOn,this.start()},this.end=()=>{var i;this.loop=!1,(i=this.shaders)==null||i.cleanup(),ee.sectionChange.unsubscribe(this.onSectionEnd)},this.isPlaying=()=>this.loop,this.drawFrame=()=>{const i=Date.now(),o=this.canvas.getContext("2d");if(o){if($e.isPlaying()&&(o.clearRect(0,0,this.canvas.width,this.canvas.height),Oe.getPlayers().forEach((a,l)=>{this.drawPlayer(a.number,o)}),gs.tick(o,this.canvas,this.pauseTime)),pl.get()===30){const s=Date.now(),a=1e3/30,l=s-i>a?a:a-(s-i);this.loop&&setTimeout(this.drawFrame,l,pl.get())}pl.get()!==30&&this.loop&&global.requestAnimationFrame(this.drawFrame)}},this.drawPlayer=(i,o)=>{const s=this.getDrawingData(i),{currentSection:a}=$P(s);if(qi.get()==="high"&&this.setDistortionForce(s),!Et(a))return;const l=this.calculateDisplacements(a,s);this.drawNotesToSing(o,s,l),this.drawSungNotes(o,s,l),qi.get()==="high"&&(this.drawFlare(o,s,l),this.markGoldNotes(a,s))},this.setDistortionForce=i=>{var s,a,l;const o=i.currentSection;if(!Et(o))(a=this.shaders)==null||a.updatePlayerForce(i.playerNumber,(((s=this.shaders)==null?void 0:s.getPlayerForce(i.playerNumber))??0)*.99);else{const c=Math.max(0,i.currentBeat-WP),u=i.currentPlayerNotes.filter(m=>m.note.start+m.note.length>=c).filter(m=>Xg(m)===0).reduce((m,b)=>m+b.length-Math.max(0,c-b.start),0),d=i.currentPlayerNotes.at(-1),h=((d==null?void 0:d.start)??0)+((d==null?void 0:d.length)??0),p=i.currentBeat-h,g=Math.max(Math.min(Math.pow((u-p/1.5)/WP,3),.98),0);(l=this.shaders)==null||l.updatePlayerForce(i.playerNumber,g)}},this.drawNotesToSing=(i,o,s)=>{Et(o.currentSection)&&o.currentSection.notes.forEach(a=>{const{x:l,y:c,w:u,h:d}=this.getNoteCoords(o,a,a.pitch,!0,s[a.start]);vD(i,l,c,u,a,o.playerNumber)})},this.drawSungNotes=(i,o,s)=>{Et(o.currentSection)&&o.currentPlayerNotes.forEach(a=>{const l=Xg(a),{x:c,y:u,w:d,h}=this.getNoteCoords(o,a,a.note.pitch+l,l===0,s[a.note.start]);(l>0||d>h/2.5)&&(G1e(i,c,u,d,o.playerNumber,l===0,a),a.vibrato&&gs.add(new nbe(c,u,d,h,o.currentTime)),l===0&&a.frequencyRecords.length>3&&!qd.includes(a.note.type)&&z1e(i,c,u,d,h,a))})},this.drawFlare=(i,o,s)=>{var l;if(!Et(o.currentSection))return;const a=rbe(o.currentPlayerNotes,o.currentBeat-185/o.songBeatLength);if(a&&a.distance===0){const c=s[a.note.start]||[0,0],{x:u,y:d,w:h,h:p}=this.getNoteCoords(o,a,a.note.pitch,!0,c),g=qd.includes(a.note.type)?0:a.frequencyRecords.at(-1).preciseDistance,m=u+h,b=this.getPreciseY(d,p,g);gs.add(new tbe(m,b,o.currentTime,1)),gs.add(new r1e(Y$(Math.max(u,m-50),m),b,YAe(i,o.playerNumber,!0,a).fill)),(l=this.shaders)==null||l.updatePlayerCenter(o.playerNumber,m,b)}},this.onSectionEnd=i=>{if($e.isPlaying()){const o=this.getDrawingData(i,-1);if(!Et(o.currentSection))return;this.fadeoutNotes(o.currentSection,o),this.explodeNotes(o.currentSection,o)}},this.fadeoutNotes=(i,o)=>{qi.get()==="high"&&i.notes.forEach(s=>{const{x:a,y:l,w:c,h:u}=this.getNoteCoords(o,s,s.pitch,!0);gs.add(new X1e(a,l,c,s,o.playerNumber))})},this.explodeNotes=(i,o)=>{qi.get()==="high"&&o.playerNotes.filter(a=>(a.distance===0||qd.includes(a.note.type))&&i.notes.includes(a.note)).forEach(a=>{const{x:l,y:c,w:u,h:d}=this.getNoteCoords(o,a,a.note.pitch,!0);gs.add(new J1e(l,c+d/2,u,o.playerNumber,a.note,gs))})},this.markGoldNotes=(i,o)=>{i.notes.filter(a=>a.type==="star"||a.type==="rapstar").forEach(a=>{const{x:l,y:c,w:u,h:d}=this.getNoteCoords(o,a,a.pitch,!0);gs.add(new e1e(l,c+d/2,u,o.playerNumber,gs))})},this.calculateDisplacements=(i,o)=>{const s={};return qi.get()==="high"?i.notes.forEach(a=>{const l=o.playerNotes.filter(h=>h.note.start===a.start).filter(h=>h.note.start+h.note.length+30>=o.currentBeat&&h.distance===0).map(h=>h.start+30<o.currentBeat?h.length-(o.currentBeat-30-h.start):h.length).reduce((h,p)=>Math.min(h+p,30),0),c=Math.max(0,(l-5)/(a.type==="star"?3:5)),u=(Math.random()-.5)*c,d=(Math.random()-.5)*c;s[a.start]=[u,d]}):i.notes.forEach(a=>{s[a.start]=[0,0]}),s},this.getDrawingData=(i,o=0)=>{const s=Oe.getPlayers(),a=s.findIndex(m=>m.number===i),l=s.length,c=$e.getPlayer(i),u=c.getCurrentSectionIndex()+o,d=$e.getSong(),h=c.getTrack(),p=h.sections[u],g=c.getPlayerNotes();return{playerNumber:i,playerIndex:a,playerCount:l,song:d,songBeatLength:$e.getSongBeatLength(),minPitch:c.getMinPitch(),maxPitch:c.getMaxPitch(),canvas:this.canvas,currentTime:$e.getCurrentTime(),frequencies:c.getPlayerFrequencies(),playerNotes:g,currentPlayerNotes:g.filter(m=>m.note.start>=((p==null?void 0:p.start)??1/0)),track:h,currentBeat:$e.getCurrentBeat(),currentSectionIndex:u,currentSection:p,paddingVertical:this.verticalMargin}},this.getNoteCoords=(i,{start:o,length:s},a,l,c=[0,0])=>{const{sectionEndBeat:u,currentSection:d,playerCanvas:h,pitchStepHeight:p}=$P(i),g=Et(d)?d.notes[0].start:1,m=h.width/(u-g),[b,y]=l?c:[0,0],A=p*(i.maxPitch-a+tD);return{x:Math.floor(h.baseX+m*(o-g)+b),y:Math.floor(h.baseY+10+A+y-(l?3:0)),w:Math.floor(m*s),h:l?Tn:Di}},this.getPreciseY=(i,o,s)=>i+o/2-s*o/3}}const obe=`precision mediump float;

const float MAX_FORCE = 300.0;
const int SAMPLE_COUNT = 8; // 2^x
const float INTENSITY = 0.051;
// get our varyings
varying vec3 vVertexPosition;
varying vec2 vTextureCoord;
// the uniform we declared inside our javascript
uniform float uTime;
uniform sampler2D planeTexture;
uniform vec2 uResolution;

uniform vec2 uP0center;
uniform float uP0force;

uniform vec2 uP1center;
uniform float uP1force;

float rnd(float n) {
    return fract(sin(n) * 43758.5453);
}
float random (vec2 st) {
    return rnd(dot(st.xy, vec2(12.9898, 78.233)));
}

vec4 directionalBlur(in vec2 uv, in vec2 direction, in float intensity)
{
    vec4 color = vec4(0.0);

    for (int i=1; i<=SAMPLE_COUNT; i++)
    {
        color += texture2D(planeTexture,uv+float(i)*intensity/float(SAMPLE_COUNT)*direction);
    }

    return color/float(SAMPLE_COUNT);
}

float distort(vec2 center, float force, float comparedIntensity) {
    float actualForce = force * MAX_FORCE;
    vec2 centerAbs = center * uResolution;

    vec2 direction = gl_FragCoord.xy - centerAbs.xy;
    float dist = length(direction) / length(uResolution);


    float intensity = max(0.0, 0.50 - dist) * INTENSITY * pow(force, 1.5);
    if (intensity > comparedIntensity) {
        vec4 newColor = directionalBlur(gl_FragCoord.xy / uResolution, normalize(direction), intensity);
        gl_FragColor = newColor;
    }
    return intensity;
}

void main() {
    gl_FragColor = texture2D(planeTexture, vTextureCoord);
    float p1intensity = distort(uP0center, uP0force, 0.0);
    float p2intensity = distort(uP1center, uP1force, p1intensity);
}`,sbe=`
precision mediump float;

// default mandatory variables
attribute vec3 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat4 uMVMatrix;
uniform mat4 uPMatrix;

uniform mat4 planeTextureMatrix;

// custom varyings
varying vec3 vVertexPosition;
varying vec2 vTextureCoord;

void main() {
    gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);

    // varyings
    vVertexPosition = aVertexPosition;
    vTextureCoord = (planeTextureMatrix * vec4(aTextureCoord, 0.0, 1.0)).xy;
}`,abe=1920,lbe=v.forwardRef(function({currentStatus:e,width:t,height:n,playerSetups:r,onSongEnd:i,effectsEnabled:o,videoPlayerRef:s,isPauseMenuVisible:a},l){var x,S,_;const[c]=Ue(qi),[u]=Ue(yr),d=v.useRef(null),h=v.useRef(null),p=v.useRef(null),g=abe,m=g*(n/t),b=m/n;v.useImperativeHandle(l,()=>({pause:()=>{var w;return(w=h.current)==null?void 0:w.pause()},resume:()=>{var w;return(w=h.current)==null?void 0:w.resume()}}),[h.current,(x=p.current)==null?void 0:x.offsetHeight,b]),v.useEffect(()=>($e.startInputMonitoring(),()=>{$e.stopInputMonitoring()}),[]),v.useEffect(()=>{if(!(!d.current||!p.current))return h.current=new ibe(d.current,p.current.offsetHeight*b),h.current.start(),()=>{var w;(w=h.current)==null||w.end()}},[(S=p.current)==null?void 0:S.offsetHeight,b]),v.useEffect(()=>{var w,E,T,O;a&&((w=h.current)!=null&&w.isPlaying())?(E=h.current)==null||E.pause():!a&&!((T=h.current)!=null&&T.isPlaying())&&((O=h.current)==null||O.resume())},[a]),v.useEffect(()=>{e===Vn.ENDED&&i&&i()},[e,i]);const y=Oe.getPlayers(),A=!u&&y.length===2;return f.jsxs(cbe,{children:[c==="high"&&f.jsxs(f.Fragment,{children:[f.jsx("script",{type:"x-shader/x-fragment",id:"plane-fs",children:obe}),f.jsx("script",{id:"plane-vs",type:"x-shader/x-vertex",children:sbe}),f.jsx(dbe,{id:"canvas",style:{zIndex:1e4}})]}),f.jsx(ube,{id:"plane",style:o?void 0:{opacity:0},children:f.jsx("canvas",{ref:d,width:g,height:m,"data-sampler":"planeTexture"})}),o&&f.jsxs(f.Fragment,{children:[f.jsx(_Ae,{playerRef:s,isEnabled:!a}),f.jsx(TAe,{onSongEnd:i,isEnabled:!a})]}),f.jsx(IAe,{players:r}),f.jsx(KP,{children:A&&f.jsx(VP,{player:y[0],effectsEnabled:o,showMultipleLines:A})}),f.jsx(fbe,{children:o&&f.jsx(f.Fragment,{children:((_=$e.getSingSetup())==null?void 0:_.mode)===$r.CO_OP?f.jsx(YP,{"data-test":"players-score","data-score":Math.floor($e.getPlayerScore(0)),children:f.jsx(D_,{score:$e.getPlayerScore(0)})}):Oe.getPlayers().map(w=>f.jsx(YP,{"data-test":`player-${w.number}-score`,"data-score":Math.floor($e.getPlayerScore(w.number)),children:f.jsx(D_,{score:$e.getPlayerScore(w.number)})},w.number))})}),f.jsx(KP,{ref:p,children:f.jsx(VP,{showMultipleLines:A,player:y[A?1:0],bottom:!0,effectsEnabled:o})})]})}),KP=I("div",{target:"el0barv5"})({name:"14ci2tu",styles:"padding:2rem 0;box-sizing:border-box"}),cbe=I("div",{target:"el0barv4"})({name:"y3i90j",styles:"height:100%;color:white;-webkit-text-stroke:0.2rem black;font-weight:bold;position:relative;display:flex;flex-direction:column"}),ube=I("div",{target:"el0barv3"})({name:"1x1omeb",styles:"position:absolute;top:0;left:0;width:100%;height:100%;canvas{width:100%;height:100%;}"}),dbe=I("div",{target:"el0barv2"})({name:"1b4920d",styles:"position:absolute;top:0;left:0;width:100%;height:100%"}),fbe=I("div",{target:"el0barv1"})({name:"od05bk",styles:"flex:1;height:100%;box-sizing:border-box;font-size:5.5rem;display:flex;justify-content:space-around;padding-right:4rem;flex-direction:column;text-align:right;z-index:1"}),YP=I("span",{target:"el0barv0"})("");function hbe(e,t){const[n,r]=v.useState(0);return v.useEffect(()=>{e.current&&t===Vn.PLAYING&&n===0&&e.current.getDuration().then(i=>{r(i),$e.setDuration(i)})},[n,e,t]),n}function pbe({song:e,width:t,height:n,autoplay:r=!0,showControls:i=!1,onCurrentTimeUpdate:o,onSongEnd:s,onStatusChange:a,players:l,effectsEnabled:c=!0,singSetup:u,restartSong:d,pauseMenu:h=!1,...p},g){const m=v.useRef(null),[b,y]=v.useState(0),[A,x]=v.useState(Vn.UNSTARTED),[S]=Ue(Ud),[_,w]=v.useState(!1);v.useEffect(()=>($e.setSong(e),$e.setSingSetup(u),()=>{$e.resetSingSetup()}),[e,u]),v.useEffect(()=>{if(m.current&&A===Vn.PLAYING){const R=setInterval(async()=>{if(!m.current)return;const k=Math.max(0,await m.current.getCurrentTime()*1e3-S);y(k),o==null||o(k),$e.setCurrentTime(k),$e.update()},1e3/pl.get());return()=>clearInterval(R)}},[m,o,A,S]);const E=hbe(m,A);v.useImperativeHandle(g,()=>({seekTo:R=>m.current.seekTo(R),setPlaybackSpeed:R=>m.current.setPlaybackSpeed(R),play:()=>m.current.playVideo(),pause:()=>m.current.pauseVideo()}));const T=v.useCallback(R=>{x(R),a==null||a(R)},[x,a]),O=h,L=()=>{var R;w(!0),(R=m.current)==null||R.pauseVideo()},N=()=>{var R;w(!1),(R=m.current)==null||R.playVideo()},H=()=>{_?N():L()},P=Jm(A);v.useEffect(()=>{var k;if(!O)return;const R=P!==Vn.PAUSED&&P!==Vn.BUFFERING&&A===Vn.PAUSED;A===Vn.PLAYING&&_?(k=m.current)==null||k.pauseVideo():R&&!_&&w(!0)},[_,A,P,O]),Jl({back:H},O,[_]);const j=v.useMemo(()=>({back:"Pause Menu"}),[]);return Ku(j,c),f.jsxs(gbe,{...p,children:[_&&f.jsx(vAe,{onExit:s,onResume:N,onRestart:d}),A!==Vn.UNSTARTED&&f.jsx(mbe,{style:{width:`${t}px`,height:`${n}px`},children:f.jsx(lbe,{isPauseMenuVisible:_,effectsEnabled:c,duration:E,currentStatus:A,song:e,width:t,height:n,onSongEnd:s,playerSetups:l,videoPlayerRef:m.current})}),f.jsxs(vbe,{children:[f.jsx(_E,{ref:m,video:e.video,width:t,height:n,controls:i,autoplay:r,disablekb:!0,volume:e.volume,startAt:e.videoGap??0,onStateChange:T}),A===Vn.PLAYING&&f.jsx(ybe,{"data-test":"make-song-go-fast",onClick:()=>{var R;(R=m.current)==null||R.setPlaybackSpeed(2)}})]})]})}const gbe=I("div",{target:"e1ggxuxd3"})({name:"bjn8wh",styles:"position:relative"}),mbe=I("div",{target:"e1ggxuxd2"})({name:"qkt6ng",styles:"position:absolute;z-index:1;background-color:rgba(0, 0, 0, 0.2);pointer-events:none;width:100%;height:100%;top:0;left:0"}),vbe=I("div",{target:"e1ggxuxd1"})({name:"j387f9",styles:"overflow:hidden;height:100%"}),ybe=I("div",{target:"e1ggxuxd0"})({name:"sp3f84",styles:"width:30px;height:30px;opacity:0.01;background:black;position:absolute;bottom:calc(100vh / 2 - 15px);left:0"}),Abe=v.forwardRef(pbe),QP=[f.jsxs(f.Fragment,{children:["You can follow the updates and give feedback on the game through the Facebook Page:"," ",f.jsx("a",{href:"https://www.facebook.com/allkaraoke.party",target:"_blank",rel:"noreferrer",children:f.jsx("strong",{children:"fb.com/AllKaraoke.Party"})})]}),f.jsxs(f.Fragment,{children:["Start typing a name of a song in ",f.jsx("strong",{children:"Song Selection"})," to active Search feature"]}),f.jsxs(f.Fragment,{children:["Narrow down songs through ",f.jsx("strong",{children:"playlists"})," on the right in Song Selection"]}),f.jsxs(f.Fragment,{children:["Select ",f.jsx("strong",{children:"Pass The Mic"})," Game Mode to share the microphones and sing in a team"]}),f.jsxs(f.Fragment,{children:["Your scores and ",f.jsx("strong",{children:"stats are saved"})," in this browser - they will be available for the next party!"]}),f.jsxs(f.Fragment,{children:["You can remove irrelevant songs from the Song Selection in ",f.jsx("strong",{children:"Edit Songs"})," page"]}),f.jsxs(f.Fragment,{children:["If the game feels a bit jaggy with low FPS, check out ",f.jsx("strong",{children:"Settings"})," page"]}),f.jsxs(f.Fragment,{children:["Party is only getting started? Play ",f.jsx("strong",{children:"Jukebox"})," for the music and to see what songs are available"]}),f.jsxs(f.Fragment,{children:["Research shows that ",f.jsx("strong",{children:"duet songs"})," are that bit more fun than simple one-track ones"]}),f.jsxs(f.Fragment,{children:["Want to sing a ",f.jsx("strong",{children:"new song"}),"? Find UltraStar version of it and import it with",f.jsx("br",{}),f.jsx("strong",{children:"Convert Ultrastar .txt"})]}),f.jsxs(f.Fragment,{children:["The ",f.jsx("strong",{children:"white pulse"})," around selected song in Song Selection tries to match song's tempo"]}),f.jsxs(f.Fragment,{children:["Entire game (besides add/edit song) is navigable with ",f.jsx("strong",{children:"Keyboard"})]}),f.jsxs(f.Fragment,{children:["You can hide or show keyboard navigation help with ",f.jsx("kbd",{children:"H"})," key"]}),f.jsxs(f.Fragment,{children:["In Song Selection, hold ",f.jsx("kbd",{children:"↑"})," or ",f.jsx("kbd",{children:"↓"})," to jump to the next letter"]}),f.jsxs(f.Fragment,{children:["Add ",f.jsx("strong",{children:"vibrato"})," to the notes you sing to get additional ",f.jsx("strong",{children:"bonus points"})]}),f.jsxs(f.Fragment,{children:["You can control the game with your phone - click on the"," ",f.jsxs("strong",{children:[f.jsx($f,{}),"QR Code Icon"]})," ","on the top right and follow the instructions"]})],bbe=({as:e="h4",...t})=>{const n=v.useRef(Co(0,QP.length-1)),r=e;return f.jsx(r,{...t,children:QP[n.current]})};function _be({...e}){const[t,n]=v.useState(""),r=v.useRef(null);return v.useEffect(()=>{const i=setTimeout(()=>{n(So.getVideo())},1e3);return()=>{clearTimeout(i)}},[]),v.useEffect(()=>{try{r.current&&(r.current.playbackRate=16)}catch(i){Vo(i)}},[t]),f.jsx(xbe,{...e,children:f.jsx(Sbe,{src:t,ref:r,loop:!0,autoPlay:!0,className:"ph-no-capture"})})}const xbe=I("div",{target:"e1hckw6c1"})({name:"1g34f1k",styles:"width:80rem;height:60rem"}),Sbe=I("video",{target:"e1hckw6c0"})({name:"idj2s4",styles:"object-fit:cover;width:100%;height:100%"});function wbe(e){return 1-Math.pow(1-e,3)}function Ebe(e){return wbe(e)}function Kp({color:e,maxScore:t,score:n}){return f.jsx(kbe,{style:{border:n===0?0:void 0,width:`${Ebe(n/t)*24}%`,backgroundColor:e}})}const kbe=I("div",{target:"e6b38g50"})({name:"1vc31u",styles:`background-image:linear-gradient(
    180deg,
    rgba(0, 0, 0, 0.17) 0%,
    rgba(0, 0, 0, 0.03) 50%,
    rgba(0, 0, 0, 0.18) 51%,
    rgba(0, 0, 0, 0.18) 100%
  );transition:1s;border-radius:0.5rem;height:100%;border:solid 0.1rem black;box-sizing:border-box`});var yD={exports:{}};(function(e,t){(function(n,r){e.exports=r(v)})(typeof self<"u"?self:oa,n=>(()=>{var r={7403:(a,l,c)=>{c.d(l,{default:()=>V});var u=c(4087),d=c.n(u);const h=function(z){return new RegExp(/<[a-z][\s\S]*>/i).test(z)},p=function(z,B){return Math.floor(Math.random()*(B-z+1))+z};var g="TYPE_CHARACTER",m="REMOVE_CHARACTER",b="REMOVE_ALL",y="REMOVE_LAST_VISIBLE_NODE",A="PAUSE_FOR",x="CALL_FUNCTION",S="ADD_HTML_TAG_ELEMENT",_="CHANGE_DELETE_SPEED",w="CHANGE_DELAY",E="CHANGE_CURSOR",T="PASTE_STRING",O="HTML_TAG";function L(z){return L=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},L(z)}function N(z,B){var G=Object.keys(z);if(Object.getOwnPropertySymbols){var U=Object.getOwnPropertySymbols(z);B&&(U=U.filter(function(te){return Object.getOwnPropertyDescriptor(z,te).enumerable})),G.push.apply(G,U)}return G}function H(z){for(var B=1;B<arguments.length;B++){var G=arguments[B]!=null?arguments[B]:{};B%2?N(Object(G),!0).forEach(function(U){k(z,U,G[U])}):Object.getOwnPropertyDescriptors?Object.defineProperties(z,Object.getOwnPropertyDescriptors(G)):N(Object(G)).forEach(function(U){Object.defineProperty(z,U,Object.getOwnPropertyDescriptor(G,U))})}return z}function P(z){return function(B){if(Array.isArray(B))return j(B)}(z)||function(B){if(typeof Symbol<"u"&&B[Symbol.iterator]!=null||B["@@iterator"]!=null)return Array.from(B)}(z)||function(B,G){if(B){if(typeof B=="string")return j(B,G);var U=Object.prototype.toString.call(B).slice(8,-1);return U==="Object"&&B.constructor&&(U=B.constructor.name),U==="Map"||U==="Set"?Array.from(B):U==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(U)?j(B,G):void 0}}(z)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function j(z,B){(B==null||B>z.length)&&(B=z.length);for(var G=0,U=new Array(B);G<B;G++)U[G]=z[G];return U}function R(z,B){for(var G=0;G<B.length;G++){var U=B[G];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(z,$(U.key),U)}}function k(z,B,G){return(B=$(B))in z?Object.defineProperty(z,B,{value:G,enumerable:!0,configurable:!0,writable:!0}):z[B]=G,z}function $(z){var B=function(G,U){if(L(G)!=="object"||G===null)return G;var te=G[Symbol.toPrimitive];if(te!==void 0){var D=te.call(G,"string");if(L(D)!=="object")return D;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(G)}(z);return L(B)==="symbol"?B:String(B)}const V=function(){function z(U,te){var D=this;if(function(X,se){if(!(X instanceof se))throw new TypeError("Cannot call a class as a function")}(this,z),k(this,"state",{cursorAnimation:null,lastFrameTime:null,pauseUntil:null,eventQueue:[],eventLoop:null,eventLoopPaused:!1,reverseCalledEvents:[],calledEvents:[],visibleNodes:[],initialOptions:null,elements:{container:null,wrapper:document.createElement("span"),cursor:document.createElement("span")}}),k(this,"options",{strings:null,cursor:"|",delay:"natural",pauseFor:1500,deleteSpeed:"natural",loop:!1,autoStart:!1,devMode:!1,skipAddStyles:!1,wrapperClassName:"Typewriter__wrapper",cursorClassName:"Typewriter__cursor",stringSplitter:null,onCreateTextNode:null,onRemoveNode:null}),k(this,"setupWrapperElement",function(){D.state.elements.container&&(D.state.elements.wrapper.className=D.options.wrapperClassName,D.state.elements.cursor.className=D.options.cursorClassName,D.state.elements.cursor.innerHTML=D.options.cursor,D.state.elements.container.innerHTML="",D.state.elements.container.appendChild(D.state.elements.wrapper),D.state.elements.container.appendChild(D.state.elements.cursor))}),k(this,"start",function(){return D.state.eventLoopPaused=!1,D.runEventLoop(),D}),k(this,"pause",function(){return D.state.eventLoopPaused=!0,D}),k(this,"stop",function(){return D.state.eventLoop&&((0,u.cancel)(D.state.eventLoop),D.state.eventLoop=null),D}),k(this,"pauseFor",function(X){return D.addEventToQueue(A,{ms:X}),D}),k(this,"typeOutAllStrings",function(){return typeof D.options.strings=="string"?(D.typeString(D.options.strings).pauseFor(D.options.pauseFor),D):(D.options.strings.forEach(function(X){D.typeString(X).pauseFor(D.options.pauseFor).deleteAll(D.options.deleteSpeed)}),D)}),k(this,"typeString",function(X){var se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(h(X))return D.typeOutHTMLString(X,se);if(X){var Pe=(D.options||{}).stringSplitter,be=typeof Pe=="function"?Pe(X):X.split("");D.typeCharacters(be,se)}return D}),k(this,"pasteString",function(X){var se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return h(X)?D.typeOutHTMLString(X,se,!0):(X&&D.addEventToQueue(T,{character:X,node:se}),D)}),k(this,"typeOutHTMLString",function(X){var se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,Pe=arguments.length>2?arguments[2]:void 0,be=function(Ne){var _e=document.createElement("div");return _e.innerHTML=Ne,_e.childNodes}(X);if(be.length>0)for(var ae=0;ae<be.length;ae++){var xe=be[ae],ze=xe.innerHTML;xe&&xe.nodeType!==3?(xe.innerHTML="",D.addEventToQueue(S,{node:xe,parentNode:se}),Pe?D.pasteString(ze,xe):D.typeString(ze,xe)):xe.textContent&&(Pe?D.pasteString(xe.textContent,se):D.typeString(xe.textContent,se))}return D}),k(this,"deleteAll",function(){var X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"natural";return D.addEventToQueue(b,{speed:X}),D}),k(this,"changeDeleteSpeed",function(X){if(!X)throw new Error("Must provide new delete speed");return D.addEventToQueue(_,{speed:X}),D}),k(this,"changeDelay",function(X){if(!X)throw new Error("Must provide new delay");return D.addEventToQueue(w,{delay:X}),D}),k(this,"changeCursor",function(X){if(!X)throw new Error("Must provide new cursor");return D.addEventToQueue(E,{cursor:X}),D}),k(this,"deleteChars",function(X){if(!X)throw new Error("Must provide amount of characters to delete");for(var se=0;se<X;se++)D.addEventToQueue(m);return D}),k(this,"callFunction",function(X,se){if(!X||typeof X!="function")throw new Error("Callback must be a function");return D.addEventToQueue(x,{cb:X,thisArg:se}),D}),k(this,"typeCharacters",function(X){var se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!X||!Array.isArray(X))throw new Error("Characters must be an array");return X.forEach(function(Pe){D.addEventToQueue(g,{character:Pe,node:se})}),D}),k(this,"removeCharacters",function(X){if(!X||!Array.isArray(X))throw new Error("Characters must be an array");return X.forEach(function(){D.addEventToQueue(m)}),D}),k(this,"addEventToQueue",function(X,se){var Pe=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return D.addEventToStateProperty(X,se,Pe,"eventQueue")}),k(this,"addReverseCalledEvent",function(X,se){var Pe=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return D.options.loop?D.addEventToStateProperty(X,se,Pe,"reverseCalledEvents"):D}),k(this,"addEventToStateProperty",function(X,se){var Pe=arguments.length>2&&arguments[2]!==void 0&&arguments[2],be=arguments.length>3?arguments[3]:void 0,ae={eventName:X,eventArgs:se||{}};return D.state[be]=Pe?[ae].concat(P(D.state[be])):[].concat(P(D.state[be]),[ae]),D}),k(this,"runEventLoop",function(){D.state.lastFrameTime||(D.state.lastFrameTime=Date.now());var X=Date.now(),se=X-D.state.lastFrameTime;if(!D.state.eventQueue.length){if(!D.options.loop)return;D.state.eventQueue=P(D.state.calledEvents),D.state.calledEvents=[],D.options=H({},D.state.initialOptions)}if(D.state.eventLoop=d()(D.runEventLoop),!D.state.eventLoopPaused){if(D.state.pauseUntil){if(X<D.state.pauseUntil)return;D.state.pauseUntil=null}var Pe,be=P(D.state.eventQueue),ae=be.shift();if(!(se<=(Pe=ae.eventName===y||ae.eventName===m?D.options.deleteSpeed==="natural"?p(40,80):D.options.deleteSpeed:D.options.delay==="natural"?p(120,160):D.options.delay))){var xe=ae.eventName,ze=ae.eventArgs;switch(D.logInDevMode({currentEvent:ae,state:D.state,delay:Pe}),xe){case T:case g:var Ne=ze.character,_e=ze.node,Ce=document.createTextNode(Ne),Ke=Ce;D.options.onCreateTextNode&&typeof D.options.onCreateTextNode=="function"&&(Ke=D.options.onCreateTextNode(Ne,Ce)),Ke&&(_e?_e.appendChild(Ke):D.state.elements.wrapper.appendChild(Ke)),D.state.visibleNodes=[].concat(P(D.state.visibleNodes),[{type:"TEXT_NODE",character:Ne,node:Ke}]);break;case m:be.unshift({eventName:y,eventArgs:{removingCharacterNode:!0}});break;case A:var Ye=ae.eventArgs.ms;D.state.pauseUntil=Date.now()+parseInt(Ye);break;case x:var je=ae.eventArgs,lt=je.cb,Mt=je.thisArg;lt.call(Mt,{elements:D.state.elements});break;case S:var on=ae.eventArgs,Vt=on.node,xn=on.parentNode;xn?xn.appendChild(Vt):D.state.elements.wrapper.appendChild(Vt),D.state.visibleNodes=[].concat(P(D.state.visibleNodes),[{type:O,node:Vt,parentNode:xn||D.state.elements.wrapper}]);break;case b:var dt=D.state.visibleNodes,xt=ze.speed,Jt=[];xt&&Jt.push({eventName:_,eventArgs:{speed:xt,temp:!0}});for(var Je=0,Lt=dt.length;Je<Lt;Je++)Jt.push({eventName:y,eventArgs:{removingCharacterNode:!1}});xt&&Jt.push({eventName:_,eventArgs:{speed:D.options.deleteSpeed,temp:!0}}),be.unshift.apply(be,Jt);break;case y:var ye=ae.eventArgs.removingCharacterNode;if(D.state.visibleNodes.length){var it=D.state.visibleNodes.pop(),Sn=it.type,ft=it.node,ot=it.character;D.options.onRemoveNode&&typeof D.options.onRemoveNode=="function"&&D.options.onRemoveNode({node:ft,character:ot}),ft&&ft.parentNode.removeChild(ft),Sn===O&&ye&&be.unshift({eventName:y,eventArgs:{}})}break;case _:D.options.deleteSpeed=ae.eventArgs.speed;break;case w:D.options.delay=ae.eventArgs.delay;break;case E:D.options.cursor=ae.eventArgs.cursor,D.state.elements.cursor.innerHTML=ae.eventArgs.cursor}D.options.loop&&(ae.eventName===y||ae.eventArgs&&ae.eventArgs.temp||(D.state.calledEvents=[].concat(P(D.state.calledEvents),[ae]))),D.state.eventQueue=be,D.state.lastFrameTime=X}}}),U)if(typeof U=="string"){var ce=document.querySelector(U);if(!ce)throw new Error("Could not find container element");this.state.elements.container=ce}else this.state.elements.container=U;te&&(this.options=H(H({},this.options),te)),this.state.initialOptions=H({},this.options),this.init()}var B,G;return B=z,(G=[{key:"init",value:function(){var U,te;this.setupWrapperElement(),this.addEventToQueue(E,{cursor:this.options.cursor},!0),this.addEventToQueue(b,null,!0),!window||window.___TYPEWRITER_JS_STYLES_ADDED___||this.options.skipAddStyles||(U=".Typewriter__cursor{-webkit-animation:Typewriter-cursor 1s infinite;animation:Typewriter-cursor 1s infinite;margin-left:1px}@-webkit-keyframes Typewriter-cursor{0%{opacity:0}50%{opacity:1}100%{opacity:0}}@keyframes Typewriter-cursor{0%{opacity:0}50%{opacity:1}100%{opacity:0}}",(te=document.createElement("style")).appendChild(document.createTextNode(U)),document.head.appendChild(te),window.___TYPEWRITER_JS_STYLES_ADDED___=!0),this.options.autoStart===!0&&this.options.strings&&this.typeOutAllStrings().start()}},{key:"logInDevMode",value:function(U){this.options.devMode&&console.log(U)}}])&&R(B.prototype,G),Object.defineProperty(B,"prototype",{writable:!1}),z}()},8552:(a,l,c)=>{var u=c(852)(c(5639),"DataView");a.exports=u},1989:(a,l,c)=>{var u=c(1789),d=c(401),h=c(7667),p=c(1327),g=c(1866);function m(b){var y=-1,A=b==null?0:b.length;for(this.clear();++y<A;){var x=b[y];this.set(x[0],x[1])}}m.prototype.clear=u,m.prototype.delete=d,m.prototype.get=h,m.prototype.has=p,m.prototype.set=g,a.exports=m},8407:(a,l,c)=>{var u=c(7040),d=c(4125),h=c(2117),p=c(7518),g=c(4705);function m(b){var y=-1,A=b==null?0:b.length;for(this.clear();++y<A;){var x=b[y];this.set(x[0],x[1])}}m.prototype.clear=u,m.prototype.delete=d,m.prototype.get=h,m.prototype.has=p,m.prototype.set=g,a.exports=m},7071:(a,l,c)=>{var u=c(852)(c(5639),"Map");a.exports=u},3369:(a,l,c)=>{var u=c(4785),d=c(1285),h=c(6e3),p=c(9916),g=c(5265);function m(b){var y=-1,A=b==null?0:b.length;for(this.clear();++y<A;){var x=b[y];this.set(x[0],x[1])}}m.prototype.clear=u,m.prototype.delete=d,m.prototype.get=h,m.prototype.has=p,m.prototype.set=g,a.exports=m},3818:(a,l,c)=>{var u=c(852)(c(5639),"Promise");a.exports=u},8525:(a,l,c)=>{var u=c(852)(c(5639),"Set");a.exports=u},8668:(a,l,c)=>{var u=c(3369),d=c(619),h=c(2385);function p(g){var m=-1,b=g==null?0:g.length;for(this.__data__=new u;++m<b;)this.add(g[m])}p.prototype.add=p.prototype.push=d,p.prototype.has=h,a.exports=p},6384:(a,l,c)=>{var u=c(8407),d=c(7465),h=c(3779),p=c(7599),g=c(4758),m=c(4309);function b(y){var A=this.__data__=new u(y);this.size=A.size}b.prototype.clear=d,b.prototype.delete=h,b.prototype.get=p,b.prototype.has=g,b.prototype.set=m,a.exports=b},2705:(a,l,c)=>{var u=c(5639).Symbol;a.exports=u},1149:(a,l,c)=>{var u=c(5639).Uint8Array;a.exports=u},577:(a,l,c)=>{var u=c(852)(c(5639),"WeakMap");a.exports=u},4963:a=>{a.exports=function(l,c){for(var u=-1,d=l==null?0:l.length,h=0,p=[];++u<d;){var g=l[u];c(g,u,l)&&(p[h++]=g)}return p}},4636:(a,l,c)=>{var u=c(2545),d=c(5694),h=c(1469),p=c(4144),g=c(5776),m=c(6719),b=Object.prototype.hasOwnProperty;a.exports=function(y,A){var x=h(y),S=!x&&d(y),_=!x&&!S&&p(y),w=!x&&!S&&!_&&m(y),E=x||S||_||w,T=E?u(y.length,String):[],O=T.length;for(var L in y)!A&&!b.call(y,L)||E&&(L=="length"||_&&(L=="offset"||L=="parent")||w&&(L=="buffer"||L=="byteLength"||L=="byteOffset")||g(L,O))||T.push(L);return T}},2488:a=>{a.exports=function(l,c){for(var u=-1,d=c.length,h=l.length;++u<d;)l[h+u]=c[u];return l}},2908:a=>{a.exports=function(l,c){for(var u=-1,d=l==null?0:l.length;++u<d;)if(c(l[u],u,l))return!0;return!1}},8470:(a,l,c)=>{var u=c(7813);a.exports=function(d,h){for(var p=d.length;p--;)if(u(d[p][0],h))return p;return-1}},8866:(a,l,c)=>{var u=c(2488),d=c(1469);a.exports=function(h,p,g){var m=p(h);return d(h)?m:u(m,g(h))}},4239:(a,l,c)=>{var u=c(2705),d=c(9607),h=c(2333),p=u?u.toStringTag:void 0;a.exports=function(g){return g==null?g===void 0?"[object Undefined]":"[object Null]":p&&p in Object(g)?d(g):h(g)}},9454:(a,l,c)=>{var u=c(4239),d=c(7005);a.exports=function(h){return d(h)&&u(h)=="[object Arguments]"}},939:(a,l,c)=>{var u=c(2492),d=c(7005);a.exports=function h(p,g,m,b,y){return p===g||(p==null||g==null||!d(p)&&!d(g)?p!=p&&g!=g:u(p,g,m,b,h,y))}},2492:(a,l,c)=>{var u=c(6384),d=c(7114),h=c(8351),p=c(6096),g=c(4160),m=c(1469),b=c(4144),y=c(6719),A="[object Arguments]",x="[object Array]",S="[object Object]",_=Object.prototype.hasOwnProperty;a.exports=function(w,E,T,O,L,N){var H=m(w),P=m(E),j=H?x:g(w),R=P?x:g(E),k=(j=j==A?S:j)==S,$=(R=R==A?S:R)==S,V=j==R;if(V&&b(w)){if(!b(E))return!1;H=!0,k=!1}if(V&&!k)return N||(N=new u),H||y(w)?d(w,E,T,O,L,N):h(w,E,j,T,O,L,N);if(!(1&T)){var z=k&&_.call(w,"__wrapped__"),B=$&&_.call(E,"__wrapped__");if(z||B){var G=z?w.value():w,U=B?E.value():E;return N||(N=new u),L(G,U,T,O,N)}}return!!V&&(N||(N=new u),p(w,E,T,O,L,N))}},8458:(a,l,c)=>{var u=c(3560),d=c(5346),h=c(3218),p=c(346),g=/^\[object .+?Constructor\]$/,m=Function.prototype,b=Object.prototype,y=m.toString,A=b.hasOwnProperty,x=RegExp("^"+y.call(A).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");a.exports=function(S){return!(!h(S)||d(S))&&(u(S)?x:g).test(p(S))}},8749:(a,l,c)=>{var u=c(4239),d=c(1780),h=c(7005),p={};p["[object Float32Array]"]=p["[object Float64Array]"]=p["[object Int8Array]"]=p["[object Int16Array]"]=p["[object Int32Array]"]=p["[object Uint8Array]"]=p["[object Uint8ClampedArray]"]=p["[object Uint16Array]"]=p["[object Uint32Array]"]=!0,p["[object Arguments]"]=p["[object Array]"]=p["[object ArrayBuffer]"]=p["[object Boolean]"]=p["[object DataView]"]=p["[object Date]"]=p["[object Error]"]=p["[object Function]"]=p["[object Map]"]=p["[object Number]"]=p["[object Object]"]=p["[object RegExp]"]=p["[object Set]"]=p["[object String]"]=p["[object WeakMap]"]=!1,a.exports=function(g){return h(g)&&d(g.length)&&!!p[u(g)]}},280:(a,l,c)=>{var u=c(5726),d=c(6916),h=Object.prototype.hasOwnProperty;a.exports=function(p){if(!u(p))return d(p);var g=[];for(var m in Object(p))h.call(p,m)&&m!="constructor"&&g.push(m);return g}},2545:a=>{a.exports=function(l,c){for(var u=-1,d=Array(l);++u<l;)d[u]=c(u);return d}},1717:a=>{a.exports=function(l){return function(c){return l(c)}}},4757:a=>{a.exports=function(l,c){return l.has(c)}},4429:(a,l,c)=>{var u=c(5639)["__core-js_shared__"];a.exports=u},7114:(a,l,c)=>{var u=c(8668),d=c(2908),h=c(4757);a.exports=function(p,g,m,b,y,A){var x=1&m,S=p.length,_=g.length;if(S!=_&&!(x&&_>S))return!1;var w=A.get(p),E=A.get(g);if(w&&E)return w==g&&E==p;var T=-1,O=!0,L=2&m?new u:void 0;for(A.set(p,g),A.set(g,p);++T<S;){var N=p[T],H=g[T];if(b)var P=x?b(H,N,T,g,p,A):b(N,H,T,p,g,A);if(P!==void 0){if(P)continue;O=!1;break}if(L){if(!d(g,function(j,R){if(!h(L,R)&&(N===j||y(N,j,m,b,A)))return L.push(R)})){O=!1;break}}else if(N!==H&&!y(N,H,m,b,A)){O=!1;break}}return A.delete(p),A.delete(g),O}},8351:(a,l,c)=>{var u=c(2705),d=c(1149),h=c(7813),p=c(7114),g=c(8776),m=c(1814),b=u?u.prototype:void 0,y=b?b.valueOf:void 0;a.exports=function(A,x,S,_,w,E,T){switch(S){case"[object DataView]":if(A.byteLength!=x.byteLength||A.byteOffset!=x.byteOffset)return!1;A=A.buffer,x=x.buffer;case"[object ArrayBuffer]":return!(A.byteLength!=x.byteLength||!E(new d(A),new d(x)));case"[object Boolean]":case"[object Date]":case"[object Number]":return h(+A,+x);case"[object Error]":return A.name==x.name&&A.message==x.message;case"[object RegExp]":case"[object String]":return A==x+"";case"[object Map]":var O=g;case"[object Set]":var L=1&_;if(O||(O=m),A.size!=x.size&&!L)return!1;var N=T.get(A);if(N)return N==x;_|=2,T.set(A,x);var H=p(O(A),O(x),_,w,E,T);return T.delete(A),H;case"[object Symbol]":if(y)return y.call(A)==y.call(x)}return!1}},6096:(a,l,c)=>{var u=c(8234),d=Object.prototype.hasOwnProperty;a.exports=function(h,p,g,m,b,y){var A=1&g,x=u(h),S=x.length;if(S!=u(p).length&&!A)return!1;for(var _=S;_--;){var w=x[_];if(!(A?w in p:d.call(p,w)))return!1}var E=y.get(h),T=y.get(p);if(E&&T)return E==p&&T==h;var O=!0;y.set(h,p),y.set(p,h);for(var L=A;++_<S;){var N=h[w=x[_]],H=p[w];if(m)var P=A?m(H,N,w,p,h,y):m(N,H,w,h,p,y);if(!(P===void 0?N===H||b(N,H,g,m,y):P)){O=!1;break}L||(L=w=="constructor")}if(O&&!L){var j=h.constructor,R=p.constructor;j==R||!("constructor"in h)||!("constructor"in p)||typeof j=="function"&&j instanceof j&&typeof R=="function"&&R instanceof R||(O=!1)}return y.delete(h),y.delete(p),O}},1957:(a,l,c)=>{var u=typeof c.g=="object"&&c.g&&c.g.Object===Object&&c.g;a.exports=u},8234:(a,l,c)=>{var u=c(8866),d=c(9551),h=c(3674);a.exports=function(p){return u(p,h,d)}},5050:(a,l,c)=>{var u=c(7019);a.exports=function(d,h){var p=d.__data__;return u(h)?p[typeof h=="string"?"string":"hash"]:p.map}},852:(a,l,c)=>{var u=c(8458),d=c(7801);a.exports=function(h,p){var g=d(h,p);return u(g)?g:void 0}},9607:(a,l,c)=>{var u=c(2705),d=Object.prototype,h=d.hasOwnProperty,p=d.toString,g=u?u.toStringTag:void 0;a.exports=function(m){var b=h.call(m,g),y=m[g];try{m[g]=void 0;var A=!0}catch{}var x=p.call(m);return A&&(b?m[g]=y:delete m[g]),x}},9551:(a,l,c)=>{var u=c(4963),d=c(479),h=Object.prototype.propertyIsEnumerable,p=Object.getOwnPropertySymbols,g=p?function(m){return m==null?[]:(m=Object(m),u(p(m),function(b){return h.call(m,b)}))}:d;a.exports=g},4160:(a,l,c)=>{var u=c(8552),d=c(7071),h=c(3818),p=c(8525),g=c(577),m=c(4239),b=c(346),y="[object Map]",A="[object Promise]",x="[object Set]",S="[object WeakMap]",_="[object DataView]",w=b(u),E=b(d),T=b(h),O=b(p),L=b(g),N=m;(u&&N(new u(new ArrayBuffer(1)))!=_||d&&N(new d)!=y||h&&N(h.resolve())!=A||p&&N(new p)!=x||g&&N(new g)!=S)&&(N=function(H){var P=m(H),j=P=="[object Object]"?H.constructor:void 0,R=j?b(j):"";if(R)switch(R){case w:return _;case E:return y;case T:return A;case O:return x;case L:return S}return P}),a.exports=N},7801:a=>{a.exports=function(l,c){return l==null?void 0:l[c]}},1789:(a,l,c)=>{var u=c(4536);a.exports=function(){this.__data__=u?u(null):{},this.size=0}},401:a=>{a.exports=function(l){var c=this.has(l)&&delete this.__data__[l];return this.size-=c?1:0,c}},7667:(a,l,c)=>{var u=c(4536),d=Object.prototype.hasOwnProperty;a.exports=function(h){var p=this.__data__;if(u){var g=p[h];return g==="__lodash_hash_undefined__"?void 0:g}return d.call(p,h)?p[h]:void 0}},1327:(a,l,c)=>{var u=c(4536),d=Object.prototype.hasOwnProperty;a.exports=function(h){var p=this.__data__;return u?p[h]!==void 0:d.call(p,h)}},1866:(a,l,c)=>{var u=c(4536);a.exports=function(d,h){var p=this.__data__;return this.size+=this.has(d)?0:1,p[d]=u&&h===void 0?"__lodash_hash_undefined__":h,this}},5776:a=>{var l=/^(?:0|[1-9]\d*)$/;a.exports=function(c,u){var d=typeof c;return!!(u=u??9007199254740991)&&(d=="number"||d!="symbol"&&l.test(c))&&c>-1&&c%1==0&&c<u}},7019:a=>{a.exports=function(l){var c=typeof l;return c=="string"||c=="number"||c=="symbol"||c=="boolean"?l!=="__proto__":l===null}},5346:(a,l,c)=>{var u,d=c(4429),h=(u=/[^.]+$/.exec(d&&d.keys&&d.keys.IE_PROTO||""))?"Symbol(src)_1."+u:"";a.exports=function(p){return!!h&&h in p}},5726:a=>{var l=Object.prototype;a.exports=function(c){var u=c&&c.constructor;return c===(typeof u=="function"&&u.prototype||l)}},7040:a=>{a.exports=function(){this.__data__=[],this.size=0}},4125:(a,l,c)=>{var u=c(8470),d=Array.prototype.splice;a.exports=function(h){var p=this.__data__,g=u(p,h);return!(g<0||(g==p.length-1?p.pop():d.call(p,g,1),--this.size,0))}},2117:(a,l,c)=>{var u=c(8470);a.exports=function(d){var h=this.__data__,p=u(h,d);return p<0?void 0:h[p][1]}},7518:(a,l,c)=>{var u=c(8470);a.exports=function(d){return u(this.__data__,d)>-1}},4705:(a,l,c)=>{var u=c(8470);a.exports=function(d,h){var p=this.__data__,g=u(p,d);return g<0?(++this.size,p.push([d,h])):p[g][1]=h,this}},4785:(a,l,c)=>{var u=c(1989),d=c(8407),h=c(7071);a.exports=function(){this.size=0,this.__data__={hash:new u,map:new(h||d),string:new u}}},1285:(a,l,c)=>{var u=c(5050);a.exports=function(d){var h=u(this,d).delete(d);return this.size-=h?1:0,h}},6e3:(a,l,c)=>{var u=c(5050);a.exports=function(d){return u(this,d).get(d)}},9916:(a,l,c)=>{var u=c(5050);a.exports=function(d){return u(this,d).has(d)}},5265:(a,l,c)=>{var u=c(5050);a.exports=function(d,h){var p=u(this,d),g=p.size;return p.set(d,h),this.size+=p.size==g?0:1,this}},8776:a=>{a.exports=function(l){var c=-1,u=Array(l.size);return l.forEach(function(d,h){u[++c]=[h,d]}),u}},4536:(a,l,c)=>{var u=c(852)(Object,"create");a.exports=u},6916:(a,l,c)=>{var u=c(5569)(Object.keys,Object);a.exports=u},1167:(a,l,c)=>{a=c.nmd(a);var u=c(1957),d=l&&!l.nodeType&&l,h=d&&a&&!a.nodeType&&a,p=h&&h.exports===d&&u.process,g=function(){try{return h&&h.require&&h.require("util").types||p&&p.binding&&p.binding("util")}catch{}}();a.exports=g},2333:a=>{var l=Object.prototype.toString;a.exports=function(c){return l.call(c)}},5569:a=>{a.exports=function(l,c){return function(u){return l(c(u))}}},5639:(a,l,c)=>{var u=c(1957),d=typeof self=="object"&&self&&self.Object===Object&&self,h=u||d||Function("return this")();a.exports=h},619:a=>{a.exports=function(l){return this.__data__.set(l,"__lodash_hash_undefined__"),this}},2385:a=>{a.exports=function(l){return this.__data__.has(l)}},1814:a=>{a.exports=function(l){var c=-1,u=Array(l.size);return l.forEach(function(d){u[++c]=d}),u}},7465:(a,l,c)=>{var u=c(8407);a.exports=function(){this.__data__=new u,this.size=0}},3779:a=>{a.exports=function(l){var c=this.__data__,u=c.delete(l);return this.size=c.size,u}},7599:a=>{a.exports=function(l){return this.__data__.get(l)}},4758:a=>{a.exports=function(l){return this.__data__.has(l)}},4309:(a,l,c)=>{var u=c(8407),d=c(7071),h=c(3369);a.exports=function(p,g){var m=this.__data__;if(m instanceof u){var b=m.__data__;if(!d||b.length<199)return b.push([p,g]),this.size=++m.size,this;m=this.__data__=new h(b)}return m.set(p,g),this.size=m.size,this}},346:a=>{var l=Function.prototype.toString;a.exports=function(c){if(c!=null){try{return l.call(c)}catch{}try{return c+""}catch{}}return""}},7813:a=>{a.exports=function(l,c){return l===c||l!=l&&c!=c}},5694:(a,l,c)=>{var u=c(9454),d=c(7005),h=Object.prototype,p=h.hasOwnProperty,g=h.propertyIsEnumerable,m=u(function(){return arguments}())?u:function(b){return d(b)&&p.call(b,"callee")&&!g.call(b,"callee")};a.exports=m},1469:a=>{var l=Array.isArray;a.exports=l},8612:(a,l,c)=>{var u=c(3560),d=c(1780);a.exports=function(h){return h!=null&&d(h.length)&&!u(h)}},4144:(a,l,c)=>{a=c.nmd(a);var u=c(5639),d=c(5062),h=l&&!l.nodeType&&l,p=h&&a&&!a.nodeType&&a,g=p&&p.exports===h?u.Buffer:void 0,m=(g?g.isBuffer:void 0)||d;a.exports=m},8446:(a,l,c)=>{var u=c(939);a.exports=function(d,h){return u(d,h)}},3560:(a,l,c)=>{var u=c(4239),d=c(3218);a.exports=function(h){if(!d(h))return!1;var p=u(h);return p=="[object Function]"||p=="[object GeneratorFunction]"||p=="[object AsyncFunction]"||p=="[object Proxy]"}},1780:a=>{a.exports=function(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=9007199254740991}},3218:a=>{a.exports=function(l){var c=typeof l;return l!=null&&(c=="object"||c=="function")}},7005:a=>{a.exports=function(l){return l!=null&&typeof l=="object"}},6719:(a,l,c)=>{var u=c(8749),d=c(1717),h=c(1167),p=h&&h.isTypedArray,g=p?d(p):u;a.exports=g},3674:(a,l,c)=>{var u=c(4636),d=c(280),h=c(8612);a.exports=function(p){return h(p)?u(p):d(p)}},479:a=>{a.exports=function(){return[]}},5062:a=>{a.exports=function(){return!1}},75:function(a){(function(){var l,c,u,d,h,p;typeof performance<"u"&&performance!==null&&performance.now?a.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(a.exports=function(){return(l()-h)/1e6},c=process.hrtime,d=(l=function(){var g;return 1e9*(g=c())[0]+g[1]})(),p=1e9*process.uptime(),h=d-p):Date.now?(a.exports=function(){return Date.now()-u},u=Date.now()):(a.exports=function(){return new Date().getTime()-u},u=new Date().getTime())}).call(this)},4087:(a,l,c)=>{for(var u=c(75),d=typeof window>"u"?c.g:window,h=["moz","webkit"],p="AnimationFrame",g=d["request"+p],m=d["cancel"+p]||d["cancelRequest"+p],b=0;!g&&b<h.length;b++)g=d[h[b]+"Request"+p],m=d[h[b]+"Cancel"+p]||d[h[b]+"CancelRequest"+p];if(!g||!m){var y=0,A=0,x=[];g=function(S){if(x.length===0){var _=u(),w=Math.max(0,16.666666666666668-(_-y));y=w+_,setTimeout(function(){var E=x.slice(0);x.length=0;for(var T=0;T<E.length;T++)if(!E[T].cancelled)try{E[T].callback(y)}catch(O){setTimeout(function(){throw O},0)}},Math.round(w))}return x.push({handle:++A,callback:S,cancelled:!1}),A},m=function(S){for(var _=0;_<x.length;_++)x[_].handle===S&&(x[_].cancelled=!0)}}a.exports=function(S){return g.call(d,S)},a.exports.cancel=function(){m.apply(d,arguments)},a.exports.polyfill=function(S){S||(S=d),S.requestAnimationFrame=g,S.cancelAnimationFrame=m}},8156:a=>{a.exports=n}},i={};function o(a){var l=i[a];if(l!==void 0)return l.exports;var c=i[a]={id:a,loaded:!1,exports:{}};return r[a].call(c.exports,c,c.exports,o),c.loaded=!0,c.exports}o.n=a=>{var l=a&&a.__esModule?()=>a.default:()=>a;return o.d(l,{a:l}),l},o.d=(a,l)=>{for(var c in l)o.o(l,c)&&!o.o(a,c)&&Object.defineProperty(a,c,{enumerable:!0,get:l[c]})},o.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),o.o=(a,l)=>Object.prototype.hasOwnProperty.call(a,l),o.nmd=a=>(a.paths=[],a.children||(a.children=[]),a);var s={};return(()=>{o.d(s,{default:()=>x});var a=o(8156),l=o.n(a),c=o(7403),u=o(8446),d=o.n(u);function h(S){return h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},h(S)}function p(S,_){for(var w=0;w<_.length;w++){var E=_[w];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(S,y(E.key),E)}}function g(S,_){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(w,E){return w.__proto__=E,w},g(S,_)}function m(S){if(S===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S}function b(S){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(_){return _.__proto__||Object.getPrototypeOf(_)},b(S)}function y(S){var _=function(w,E){if(h(w)!=="object"||w===null)return w;var T=w[Symbol.toPrimitive];if(T!==void 0){var O=T.call(w,"string");if(h(O)!=="object")return O;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(w)}(S);return h(_)==="symbol"?_:String(_)}var A=function(S){(function(N,H){if(typeof H!="function"&&H!==null)throw new TypeError("Super expression must either be null or a function");N.prototype=Object.create(H&&H.prototype,{constructor:{value:N,writable:!0,configurable:!0}}),Object.defineProperty(N,"prototype",{writable:!1}),H&&g(N,H)})(L,S);var _,w,E,T,O=(E=L,T=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var N,H=b(E);if(T){var P=b(this).constructor;N=Reflect.construct(H,arguments,P)}else N=H.apply(this,arguments);return function(j,R){if(R&&(h(R)==="object"||typeof R=="function"))return R;if(R!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return m(j)}(this,N)});function L(){var N,H,P,j;(function(V,z){if(!(V instanceof z))throw new TypeError("Cannot call a class as a function")})(this,L);for(var R=arguments.length,k=new Array(R),$=0;$<R;$++)k[$]=arguments[$];return H=m(N=O.call.apply(O,[this].concat(k))),j={instance:null},(P=y(P="state"))in H?Object.defineProperty(H,P,{value:j,enumerable:!0,configurable:!0,writable:!0}):H[P]=j,N}return _=L,(w=[{key:"componentDidMount",value:function(){var N=this,H=new c.default(this.typewriter,this.props.options);this.setState({instance:H},function(){var P=N.props.onInit;P&&P(H)})}},{key:"componentDidUpdate",value:function(N){d()(this.props.options,N.options)||this.setState({instance:new c.default(this.typewriter,this.props.options)})}},{key:"componentWillUnmount",value:function(){this.state.instance&&this.state.instance.stop()}},{key:"render",value:function(){var N=this,H=this.props.component;return l().createElement(H,{ref:function(P){return N.typewriter=P},className:"Typewriter","data-testid":"typewriter-wrapper"})}}])&&p(_.prototype,w),Object.defineProperty(_,"prototype",{writable:!1}),L}(a.Component);A.defaultProps={component:"div"};const x=A})(),s.default})())})(yD);var Cbe=yD.exports;const AD=vr(Cbe);function Tbe({playerNumber:e,player:t,segment:n}){const[r,i]=t.detailedScore;return f.jsxs(Ibe,{children:[f.jsx(Kp,{score:n>-1?r.rap+r.freestyle+r.normal:0,maxScore:i.rap+i.freestyle+i.normal,color:he.colors.players[e].perfect.fill}),f.jsx(Kp,{score:n>0?r.perfect:0,maxScore:i.perfect,color:he.colors.players[e].stroke}),f.jsx(Kp,{score:n>1?r.star:0,maxScore:i.star,color:he.colors.players[e].starPerfect.stroke}),f.jsx(Kp,{score:n>2?r.vibrato:0,maxScore:i.vibrato,color:he.colors.players[e].perfect.stroke}),f.jsx(Rbe,{children:n<5&&f.jsx(AD,{options:{strings:["Regular notes","Perfect notes","Star notes","Vibrato"],pauseFor:1e3,autoStart:!0,delay:15,deleteSpeed:15,cursor:""}})})]})}const Ibe=I("div",{target:"ejw0p7o1"})({name:"rtb9pf",styles:"position:relative;height:5rem;width:100%;display:flex;flex-direction:row;border-radius:1rem;gap:0.5rem;box-sizing:border-box;background:rgba(0, 0, 0, 0.5);padding:0.5rem"}),Rbe=I("span",{target:"ejw0p7o0"})("position:absolute;",Fe,";font-size:3rem;text-align:right;white-space:nowrap;top:6rem;left:1rem;display:block;");function Pbe({playerNumber:e,player:t,highestScore:n,highScores:r,singSetup:i,useColors:o=!0,revealHighScore:s,segment:a}){const[l]=t.detailedScore;let c=0;a>-1&&(c=l.normal+l.rap+l.freestyle),a>0&&(c=c+l.perfect),a>1&&(c=c+l.star),a>2&&(c=c+l.vibrato);const u=d=>r.some(h=>h.singSetupId===i.id&&h.name===d);return f.jsxs(Mbe,{children:[f.jsx(Vbe,{children:f.jsxs(Obe,{"data-win":s&&c===n,"data-test":`player-${e}-score`,"data-score":Math.floor(c),children:[f.jsx(jbe,{color:o?he.colors.players[e].text:"","data-test":`player-${e}-name`,className:"ph-no-capture",children:t.name}),f.jsx(vE,{preserveValue:!0,end:c,formattingFn:eD.format,duration:a<5?1:.5})]})}),f.jsx(Tbe,{playerNumber:e,player:t,segment:a}),f.jsx(Lbe,{"data-highscore":s&&u(t.name),children:"High score!"})]})}const Mbe=I("div",{target:"e1vy0af44"})({name:"1kta8sk",styles:"background:rgba(0, 0, 0, 0.5);display:flex;flex-direction:column;align-items:center;border-radius:1rem;gap:1rem;padding:1rem 2rem;position:relative"}),jbe=I("span",{target:"e1vy0af43"})("color:",e=>e.color,";font-size:4rem;"),Obe=I(zv,{target:"e1vy0af42"})("background:transparent;font-size:5.5rem;color:white;transition:400ms ease-in-out;position:relative;display:flex;align-items:center;justify-content:space-between;flex:1;margin:0;padding:0;&[data-win='true']{font-size:8.5rem;color:",he.colors.text.active,";}"),Vbe=I("div",{target:"e1vy0af41"})({name:"8pc2uz",styles:"display:flex;flex:1;width:100%;height:8.5rem"}),Lbe=I(_$,{target:"e1vy0af40"})("font-size:3rem;opacity:0;&[data-highscore='true']{top:-2.5rem;right:-9rem;",Pv,";opacity:1;}transition:400ms;");function Nbe({onNextStep:e,players:t,highScores:n,singSetup:r}){const[i,o]=v.useState(-1);v.useEffect(()=>{if(i<0)o(0);else if(i<4){const p=setInterval(()=>{o(g=>g+1)},1500);return()=>{clearInterval(p)}}},[i]);const s=i>3,a=()=>{s?e():(bn.capture("animation_skipped"),o(5))};Jl({accept:a},!0,[i]);const l=v.useMemo(()=>({accept:"Next"}),[]);Ku(l,!0);const c=r.mode===$r.CO_OP,u=c?[{...t[0],name:t.map(p=>p.name).join(", ")}]:t,d=u.map(p=>Dx(p.detailedScore[0])),h=Math.max(...d);return f.jsxs($be,{children:[f.jsx(Dbe,{children:u.map((p,g)=>f.jsx(Pbe,{playerNumber:p.playerNumber,useColors:!c,revealHighScore:i>3,segment:i,player:p,highScores:n,highestScore:h,singSetup:r},g))}),f.jsx(Bbe,{onClick:a,focused:!0,"data-test":s?"highscores-button":"skip-animation-button",children:s?"Next":"Skip"}),So.getPermissionStatus()&&f.jsx(Fbe,{})]})}const $be=I("div",{target:"e1qmbv7g3"})({name:"1vzp6wx",styles:"position:absolute;padding:20rem 15rem 10rem 15rem;top:0;height:100%;box-sizing:border-box;width:100%;display:flex;flex-direction:column"}),Dbe=I("div",{target:"e1qmbv7g2"})({name:"1lbl88b",styles:"text-align:center;display:flex;flex-direction:column;justify-content:center;gap:5rem;margin-bottom:15rem;flex:1"}),Bbe=I(zo,{target:"e1qmbv7g1"})({name:"195iwp6",styles:"width:40rem;font-size:1.9vw;margin-left:auto"}),Fbe=I(_be,{target:"e1qmbv7g0"})({name:"1c3jvq",styles:"position:absolute;top:calc(50% - 30rem);left:95rem;transform:scale(0.75)"});function zbe(){return v.useMemo(()=>JSON.parse(Ve.session.getItem(gu))??[],[])}function Ube({score:e,register:t,singSetupId:n,onSave:r,index:i}){const o=v.useRef(null),[s,a]=v.useState(""),l=zbe(),c=()=>{s.trim().length&&s.trim()!==e.name&&r(n,e.score,e.name,s)};return f.jsx(K$,{className:"ph-no-capture",options:l,onChange:a,onBlur:c,value:s,label:"",ref:o,...t(`highscore-rename-${i}`,()=>{var u;return(u=o.current)==null?void 0:u.focus()}),placeholder:e.name,"data-test":"input-edit-highscore","data-original-name":e.name})}function Hbe({onNextStep:e,highScores:t,singSetup:n,song:r}){const{register:i}=Wn(),o=Eve(r);return f.jsxs(f.Fragment,{children:[f.jsx(Gbe,{"data-test":"highscores-container",children:t.map((s,a)=>f.jsxs(qbe,{isCurrentSing:s.singSetupId===n.id,children:[f.jsx(Wbe,{children:a+1}),f.jsx(Kbe,{className:"ph-no-capture",children:s.singSetupId===n.id?f.jsx(Ube,{index:a,score:s,register:i,singSetupId:n.id,onSave:o}):s.name}),f.jsx(Ybe,{children:f.jsx(D_,{score:s.score})}),f.jsx(Qbe,{children:Eo(s.date).format("MMMM DD, YYYY")})]},a))}),f.jsx(Jbe,{...i("play-next-song-button",e,void 0,!0),children:"Select song"})]})}const Gbe=I("div",{target:"e1kq1u2t6"})({name:"9gtmjg",styles:"position:absolute;top:20rem;width:100%;text-align:center;padding:0 16rem;box-sizing:border-box"}),qbe=I("div",{target:"e1kq1u2t5"})("position:relative;",Fe,";font-size:3.2rem;display:flex;background:",e=>e.isCurrentSing?"rgba(0,0,0,.9)":"rgba(0,0,0,.5)",";margin-bottom:2rem;padding:",e=>e.isCurrentSing?"0 1.5rem":"1rem 3.2rem",";align-items:center;"),Wbe=I("div",{target:"e1kq1u2t4"})("padding:0 1.6rem;color:",he.colors.text.active,";"),Kbe=I("div",{target:"e1kq1u2t3"})({name:"1mbe2e5",styles:"text-align:left;flex:1;padding:1.6rem"}),Ybe=I("div",{target:"e1kq1u2t2"})({name:"2ycp6t",styles:"padding:0 1rem"}),Qbe=I("div",{target:"e1kq1u2t1"})({name:"1gbnj87",styles:"position:absolute;font-size:2rem;bottom:-1rem;right:-1.6rem;background:black;padding:0.5rem"}),Jbe=I(zo,{target:"e1kq1u2t0"})({name:"dmbiod",styles:"position:absolute;bottom:4rem;right:2rem;width:40rem;font-size:1.9vw"});function Xbe({song:e,width:t,height:n,onClickSongSelection:r,players:i,highScores:o,singSetup:s}){const[a]=Ue(a0);Fa(!0);const[l,c]=v.useState("results");return f.jsxs(v$,{songData:e,width:t,height:n,children:[f.jsxs(Zbe,{children:[l==="results"&&f.jsx(Nbe,{onNextStep:()=>c("highscores"),players:i,singSetup:s,highScores:o}),l==="highscores"&&f.jsx(Hbe,{onNextStep:r,singSetup:s,highScores:o,song:e}),f.jsx(e_e,{"data-active":"true"})]}),a==="christmas"&&f.jsxs(t_e,{children:["Credit to ",f.jsx("a",{href:"https://www.FesliyanStudios.com",children:"https://www.FesliyanStudios.com"})," for the background music."]})]})}const Zbe=I("div",{target:"e1fxxvcx2"})({name:"1quw0ni",styles:"pointer-events:auto"}),e_e=I(bbe,{target:"e1fxxvcx1"})({name:"1l1st43",styles:"transition:300ms;position:absolute;bottom:20rem;font-size:3.2rem;line-height:1.25;color:white;text-align:center;background:rgba(0, 0, 0, 0.75);width:100%;box-sizing:border-box;transform:scale(0);&[data-active='true']{transform:scale(1);}padding:2rem 10rem;kbd{padding:0.12rem 0.9rem;border-radius:1rem;border:0.5rem solid rgb(204, 204, 204);border-bottom-color:rgb(150, 150, 150);border-right-color:rgb(150, 150, 150);color:rgb(51, 51, 51);line-height:1.4;display:inline-block;box-shadow:0 0.1rem 0 rgba(0, 0, 0, 0.2),inset 0 0 0 0.2rem #ffffff;background-color:rgb(247, 247, 247);text-shadow:0 0.1rem 0 #fff;font-weight:normal;}"}),t_e=I("span",{target:"e1fxxvcx0"})("position:fixed;bottom:2rem;left:2rem;font-size:1.5rem;",Fe,";");function n_e(e){const[t,n,r,i]=r_e(e);return i_e(t,n,r,i)()}function r_e(e){let t=1779033703,n=3144134277,r=1013904242,i=2773480762;for(let o=0,s;o<e.length;o++)s=e.charCodeAt(o),t=n^Math.imul(t^s,597399067),n=r^Math.imul(n^s,2869860233),r=i^Math.imul(r^s,951274213),i=t^Math.imul(i^s,2716044179);return t=Math.imul(r^t>>>18,597399067),n=Math.imul(i^n>>>22,2869860233),r=Math.imul(t^r>>>17,951274213),i=Math.imul(n^i>>>19,2716044179),t^=n^r^i,n^=t,r^=t,i^=t,[t>>>0,n>>>0,r>>>0,i>>>0]}function i_e(e,t,n,r){return function(){e|=0,t|=0,n|=0,r|=0;var i=(e+t|0)+r|0;return r=r+1|0,e=t^t>>>9,t=n+(n<<3)|0,n=n<<21|n>>>11,n=n+i|0,(i>>>0)/4294967296}}const o_e=["Lysa Arryn","Peter Parker","Zordon","Chad Khalimov","Dat Boi","Good Guy Greg","Scumbag Steve","Meme Man","Pepe","Wojak","Ebmarah","Shrek","Vad of ICE Beat","Krasnolud","Mały Aragorn","Morning Breeze","Auytjak Lorav","Smelly Cat","Stinky Foot"],JP=new Date("2016-01-01").getTime(),s_e=new Date("2024-01-07").getTime(),UA=5;function a_e(e,t){const n=VE(e);return v.useMemo(()=>{const i=[...o_e];return[...Array.from({length:UA},(s,a)=>{const l=n_e(e.id+a),c=6e5+14e5/(UA-1)*a,u=i.splice(Math.floor(l*i.length),1)[0];return{singSetupId:a.toString(),name:u,score:No()?c/1e3:c,date:new Date((s_e-JP)*l+JP).toISOString()}}),...(n==null?void 0:n.scores.filter(({setup:s})=>s.mode===t.mode&&s.tolerance===t.tolerance).map(s=>s.scores.map(a=>({...a,date:s.date,singSetupId:s.setup.id}))).flat())??[]].sort((s,a)=>a.score-s.score).slice(0,UA)},[e.id,n,t])??[]}function l_e({song:e,width:t,height:n,onClickSongSelection:r,singSetup:i}){const o=a_e(e,i),s=v.useMemo(()=>Oe.getPlayers().map(a=>({name:a.getName(),playerNumber:a.number,detailedScore:$e.getPlayerDetailedScore(a.number)})),[]);return f.jsx(Ws,{children:f.jsx(Xbe,{singSetup:i,song:e,width:t,height:n,onClickSongSelection:r,players:s,highScores:o})})}function c_e({songPreview:e,singSetup:t,returnToSongSelection:n,restartSong:r}){I$(),R$();const i=v.useRef(null),o=o$(e.id),{width:s,height:a}=Bh(),[l,c]=v.useState(!1),[u,d]=v.useState(!0),[h,p]=v.useState(Vn.UNSTARTED),[g,m]=v.useState(!1);return La(!g),v.useEffect(()=>{u&&o.data&&(g||h!==Vn.UNSTARTED)&&d(!1)},[o.data,g,h,u]),l&&o.data?f.jsx(l_e,{width:s,height:a,song:o.data,onClickSongSelection:n,singSetup:t}):f.jsx(Ws,{children:f.jsxs(u_e,{children:[f.jsxs(d_e,{visible:u,"data-test":"background-container",children:[f.jsx(h_e,{video:e.video,width:s,height:a}),f.jsx(p_e,{"data-test":"song-artist",children:e.artist}),f.jsx(g_e,{"data-test":"song-title",children:e.title}),f.jsx(uAe,{onFinish:()=>{var b;m(!0),(b=i.current)==null||b.play()}})]}),o.data&&f.jsx(Abe,{pauseMenu:!0,ref:i,onStatusChange:p,players:t.players,song:o.data,width:s,height:a,autoplay:!1,onSongEnd:()=>{var A;const b=((A=$e.getSingSetup())==null?void 0:A.mode)===$r.CO_OP?[{name:Oe.getPlayers().map(x=>x.getName()).join(", "),score:$e.getPlayerScore(0)}]:Oe.getPlayers().map(x=>({name:x.getName(),score:$e.getPlayerScore(x.number)})),y=$e.getSongCompletionProgress();ee.songEnded.dispatch(o.data,t,b,y),c(!0)},singSetup:t,restartSong:r})]})})}const u_e=I("div",{target:"e9bbafl4"})({name:"bjn8wh",styles:"position:relative"}),d_e=I("div",{target:"e9bbafl3"})("position:fixed;top:0;left:0;z-index:10;pointer-events:none;background-color:black;view-transition-name:song-preview;opacity:",e=>e.visible?1:0,";transition:500ms;"),f_e=I("div",{target:"e9bbafl2"})({name:"oux8x1",styles:"background-size:cover;background-position:center center;filter:blur(10px)"}),h_e=e=>f.jsx(f_e,{style:{backgroundImage:`url('https://i3.ytimg.com/vi/${e.video}/hqdefault.jpg')`,width:`${e.width}px`,height:`${e.height}px`}}),p_e=I($E,{target:"e9bbafl1"})({name:"oyknw4",styles:"view-transition-name:song-preview-artist;position:absolute;top:10rem;left:10rem;font-size:7rem"}),g_e=I(Hv,{target:"e9bbafl0"})({name:"1l9juvo",styles:"view-transition-name:song-preview-title;position:absolute;font-size:8rem;top:19rem;left:10rem"});function m_e(){const e=H0("song"),[t,n]=v.useState(null),[r,i]=v.useState(e??null),[o,s]=v.useState(0),a=l=>{document.getElementById("preview-video-container").style.viewTransitionName="song-preview-video",ih(()=>{document.getElementById("preview-video-container").style.viewTransitionName="",ec.flushSync(()=>{n(l)})}),Xx.play(!1)};return I$(),f.jsxs(f.Fragment,{children:[f.jsx(Ei,{children:f.jsx("title",{children:"Game | AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsx(bE,{children:t?f.jsx(c_e,{restartSong:()=>{So.restartRecord(),s(l=>l+1)},songPreview:t.song,singSetup:t,returnToSongSelection:()=>{i(t.song.id),n(null)}},o):f.jsx(sAe,{onSongSelected:a,preselectedSong:r})})]})}const XP=I("div",{target:"e1x9yhuz2"})({name:"1259b8f",styles:"@media (hover: hover){display:none;}"}),ZP=I("div",{target:"e1x9yhuz1"})({name:"b0iqx8",styles:"@media (hover: none){display:none;}"});var v_e=v.createContext({client:bn}),y_e=function(){var e=v.useContext(v_e).client;return e};function A_e(e){var t=y_e(),n=v.useState(),r=n[0],i=n[1];return v.useEffect(function(){return t.onFeatureFlags(function(){i(t.getFeatureFlag(e))})},[t,e]),r}const b_e="/assets/screenshot1-DaCeVKxL.webp",__e="/assets/screenshot2-BGzMpznM.webp",x_e="/assets/screenshot3-uopWyjAi.webp",S_e=["Y1xs_xPb46M","K3Qzzggn--s","LfRNRymrv9k","CEUg7OplvIQ","Wpov9na0sPM","ErSCdHJdUgU","0dcbw4IEY5w","1mjlM_RnsVE","flA5ndOyZbI","LXEKuttVRIo","aqW-VF49Sok","dzAwJW107nk","-CxKA1uETxE","0dCa3m91flU","jY48iTyLrmk","dISNgvVpWlo","XPpTgCho5ZA","qod03PVTLqk","RSSmwXy98IY","hN5X4kGhAtU","WSt7fMhj3v0","XB8V0fjDuog","WEzHazCoZgA","0O2ubAf40fo","6dOwHzCHfgA","jofNR_WkoCE","5W3nq_gsT4Q","c18441Eh_WE","e0yrZXSXTSg","hWjrMTWXH28","hjWZw_F6aEs","1xYExLtJScI","y8-LH_VUROk","ejorQVy3m8E","EQXEUWh4Tnk","8SV6UcCHJq4","3rgwIp6D3ow","UUyauouKgGE","xat1GVnl8-k","_Jtpf8N5IDE","L7_jYl8A73g","gZEuR9LFNQQ","onjPLuZp6hY","dB62xkejDIc","ZJL4UGSbeFg","5sGOwFVUU0I","Cf4YU-sRRBQ","knlcaEDkPl0","a5uQMwRMHcs","0zGcUoRlhmw","z5vA9CwZKNY","dZLfasMPOU4","n6P0SitRwy8","iyLdoQGBchQ","6bbuBubZ1yE","LGD9i718kBU","2S24-y0Ij3Y","SiLRDy4prbw","rjOhZZyn30k","BshxCIjNEjY","Sb5aq5HcS1A","_EdZbopNeS8","W2eJv-ib29s","0qj67KE5VXI","fEq3xM-i0Ng","gOgpdp3lP8M","oEauWw9ZGrA","KOY_05KwJYk","SkTt9k4Y-a8","EEuQU6a90Pc","TVcLIfSC4OE","J551f-TyqjY","95xDIF5zYCo","TviYVNPCs2c","qL02p9KhABo","guJ25FxCwmY","7YvAYIJSSZY","ruyaKdPfTN4","plJMQeKpz40","OJWJE0x7T4Q","RFlI2xqZII0","4Ll1pP8j0jw","6RHFXw3bwwk","vIaH35-MLsk","6Zbi0XmGtMw","CdXesX6mYUE","-1NeMfdudrI","0RQDIJ2CvbA","-UV0QGLmYys","L99UMoLvkrI","17o1OlroNSE","KWxDGQm2hKk","sesKiKYQn84","ApXoWvfEYVU","PXLiQdFClR4","vz9XHsctOtc","Ic5vxw3eijY","zsYSSVoQnP4","YqecOmezgSw","iFoqGyWhMws","U0CGsw6h60k","VS6ixn2berk","CmwRQqJsegw","aaIxsEPoS28","gxEPV4kolz0","bWXazVhlyxQ","Z6qnRS36EgE","3wk7C64kaP4","MXTyw6KFElM","0qanF-91aJo","z-52QAImb_A","StVS6i2U_is","2dTMIH5gCHg","RB-RcX5DS5A","oEQfZxQ7TPk","N8YuQzJLR_k","8wZhonIGkGA","GxldQ9eX2wo","am0_h49kucY","C1G3jmtoOfk","mgWGR-g9mFQ","dMK_npDG12Q","YXnjy5YlDwk","kq9MBnX00hs","Sj_9CiNkkn4","yKNxeF4KMsY","0qzLRlQFFQ4","xBHcyuK1c2I","GZXHBgjQjNM","Ga1kMdJCc_Q","u2pySXCmwpc","21VeAmPOBzI","FSCgfI3OG7s","29NM6ySmwfQ","cuHvKksNriE","9b8erWuBA44","3r5X3KEPqv4","K_xTet06SUo","x2oIkF3sQtE","1RKqOmSkGgM","QK-Z1K67uaA","Vysgv7qVYTo","Dsp_8Lm1eSk","g344M0Bbqyw","C-lKLXPngUo","aGCdLKXNF3w","yCto3PCn8wo","6J1-eYBbspA","UCF9oHXhDMU","qlPx6tmAIlM","-0Ao4t_fe0I","ebb5AinKxWI","SXKlJuO07eM","bwmSjveL3Lc","WFz1gCZSmdE","lX44CAz-JhU","g8Ezl7xucCU","04F4xlWSFh0","FndmvPkI1Ms","JwC1Ctrj6Xk","Pkh8UtuejGw","EmWOznX2uUQ","6y9S9RipcUY","c_5AbgHmFqk","pRZJ5zPt1wc","AWGqoCNbsvM","iDy2wCQYSrU","cMTAUr3Nm6I","iBp1keAO5N4","Ejya0YnaCY4","R_HHm9ki3JI","wt-tHcQR67Y","nyy7lG6Me2s","Z_0l3rCgW1c","D3FN2umFaM8","HYsz1hP0BFo","xFrGuyw1V8s","Km__cJEJ3JI","1xcSDYy3Dl4","6J-W3mn9N2w","YlUKcNNmywk","Y8JFxS1HlDo","xY5yazcNpCI","r8OipmKFDeM","TG_s-S9AoRY","TS9vmrBTxEo","gzlHucbD76U","tERRFWuYG48","4qlCC1GOwFw","k4eSya1zIl8","O-fyNgHdmLI","-2U0Ivkn2Ds","9Hbd1QeI1Og","nrIPxlFzDi0","a2_ss9y-VjE","a79iLjV-HKw","MtDPKJSsBgc","BnO3nijfYmU","wCQfkEkePx8","-AUCSkHCrwY"],w_e=["Jagwar Twin","Mötley Crüe","Rob Thomas","Kim Petras & Nicki Minaj","David Guetta feat. Justin Bieber","The Smiths","Nathan Evans","Swedish House Mafia & The Weeknd","Fetty Wap","David Guetta feat. Usher","DragonForce","SiM","Sandie Shaw","Sia","Utada Hikaru","R.E.M.","Billy Talent","Bradley Cooper & Lady Gaga","The Kooks","Selena Gomez & The Scene","Neil Young","The Common Linnets","A Perfect Circle","Destiny’s Child","Baby Lasagna","Survivor","Dolly Parton","Bob Seger & The Silver Bullet Band","Olly Murs feat. Flo-Rida","Jason Derulo","Bing Crosby","Chumbawamba","Lykke Li","A.R. Rahman & The Pussycat Dolls feat. Nicole Scherzinger","Crowded House","Madonna","Nelly Furtado feat. Timbaland","Queen","SING (Taron Egerton)","James Newton Howard feat. Jennifer Lawrence","Enya","Manowar","Windows95man","Lucy Hale","Miley Cyrus","Adele","Jason Mraz","BTS feat. Desiigner","Fall Out Boy","Sheryl Crow","Hozier","Blink 182","Big Time Rush","Katy Perry feat. Nicki Minaj","U2","Jack Black","Stevie Wonder","Metallica","Tenacious D","Inna","Elton John & RuPaul","Patrice Rushen","No Secrets","Freddie Mercury","Zoe Wees","Kanye West feat. Young Jeezy","Ava Max","Ariana Grande feat. Mac Miller","Marilyn Manson","Kid Rock feat. Sheryl Crow","Baccara","Henry Moodie","Ylvis","Ariana Grande","REO Speedwagon","Billy Boyd","Gloria Gaynor","Doris Day","Plain White T’s","Macklemore & Ryan Lewis feat. Ray Dalton","NCT DREAM","Kanye West feat. Various Artists","Martin Solveig & GTA","Passenger","Subwoolfer","Jack Ü (Skrillex & Diplo) with Justin Bieber","Miracle Of Sound","Jay-Z feat. Alicia Keys","Boyz II Men","The Eagles","M.I.A.","Faith Hill","Hoobastank","Rick Astley","Smash Mouth","Tones And I","Hunter Hayes","Martina McBride","Wheatus","Rufus Wainwright","Daisuke Ishiwatari","Mariah Carey feat. Jay-Z","Savage Garden","Smash Into Pieces","Shakira feat. Wyclef Jean","Justin Bieber","Margaret Berger","Hailee Steinfeld feat. DNCE","Kane Brown","ZZ Top","Michael Jackson","Ariana Grande & The Weeknd","Chris Brown feat. Justin Bieber","Marc Cohn","Chuck Berry","The Smashing Pumpkins","Jennifer Lopez & Pitbull","Meduza x James Carter feat. Elley Duhé + Fast Boy","Disney's Moana","La Bouche","The Mamas & The Papas","Wilson Phillips","LeAnn Rimes","ISAAK","B.o.B feat. Bruno Mars","Shakira feat. Rihanna","Jack White","Usher feat. Pitbull","Cascada","Girls’ Generation (SNSD)","Green Day","The Jackson 5","Snoop Dogg & Wiz Khalifa feat. Bruno Mars","Nicki Minaj","Frankie Valli","The Kid Laroi & Miley Cyrus","Bella Poarch","La Roux","Selena Gomez","Roxette","Ike & Tina Turner","Don McLean","Petula Clark","Nick Jonas","Amy Winehouse","Teddy Swims","TheFatRat feat. Laura Brehm","Olivia Rodrigo","Roman Lob","Culture Club","Chris Brown feat. Rihanna","Aly & AJ","Richard Marx","Stella Mwangi","Corey Hart","Dean Lewis","Lulu","Usher feat. Lil’ Jon & Ludacris","Julie and the Phantoms","Sudden Lights","Frankie Goes To Hollywood","Tate McRae","Drake feat. Wizkid & Kyla","David Guetta feat. Nicki Minaj","Demi Lovato feat. Cher Lloyd","Disney’s Mulan","Slayyyter","Nickelback","Blanche","The Ronettes","Spice Girls","Phoebe Bridgers","Robbie Williams","Mae Muller","Disney’s Encanto ","Jay Sean feat. Lil Wayne","Marshmello & Anne-Marie","Whitney Houston","Lenny Kravitz","Ruslana","Michael Schulte","Creed","Disney’s Moana (Dwayne Johnson)","Morandi","Chris Brown","Willie Nelson and Merle Haggard","Flo Rida","Midnight Oil","Alesso & Katy Perry","Melissa Etheridge","Nico & Vinz","Post Malone & Swae Lee","Twenty One Pilots","Steindi","Lindsey Stirling feat. Becky G","Avicii","Extreme","Drake feat. Rihanna","New Kids On The Block","Darius Rucker","Vengaboys","M83 feat. Susanne Sundfør","2Pac feat. Dr. Dre & Roger Troutman","Kid Cudi","Mariah Carey","Justin Bieber & Nicki Minaj","Huey Lewis & The News","Céline Dion","Katrina And The Waves","Hollywood Undead","The Living Tombstone","Blu Cantrell","Zedd feat. Selena Gomez","Journey","Crusher-P feat. GUMI","Shawn Mendes, Camila Cabello","Psy feat. Suga of BTS","3OH!3","USA for Africa","LP","Gandalf","Helena Paparizou","Marina & The Diamonds","The Anxiety (Willow & Tyler Cole)","Tom Jones","Himesh Patel","deadmau5 feat. Chris James","Taylor Swift feat. Post Malone","Young The Giant","High School Musical","AC/DC","Anitta","Kellie Pickler","Gustaph","KoRn","John Lennon","a-ha","Foreigner","We The Kings feat. Demi Lovato","Christina Milian","Sarah McLachlan","S Club 7","Meatloaf","Avenged Sevenfold","Disney’s Hercules","Jet","Symphony X","Interpol","Simon & Garfunkel","Miley Cyrus & Jessie J","Poets of the Fall","The Script feat. will.i.am","Elena Siegman","Deep Purple","Wicked","The Black Eyed Peas","Alphaville","Bôa","America","Powerwolf","TLC","DNCE","Iggy Pop","Placebo feat. David Bowie","Pitbull feat. Ne-Yo, Afrojack & Nayer","Technotronic feat. Felly","Daft Punk feat. Julian Casablancas","Tally Hall","Bebe Rexha y David Guetta","Netta","David Guetta feat. Nicki Minaj & Afrojack","Sum 41","Alicia Keys","Rihanna feat. Mikky Ekko","Three Days Grace","Coldplay x BTS","Kaleen","Rasmussen","Rihanna feat. Jeezy","Hilary Duff","Nick Cave & The Bad Seeds + Kylie Minogue","Jason Paige","Little Mix feat. Stormzy","Duncan Laurence","Boney M.","NewJeans; League of Legends","The Killers","Shakira feat. Carlinhos Brown","Pitbull feat. T-Pain","James Morrison feat. Nelly Furtado","Akon feat. Eminem","Tix","Mumford & Sons","Kanye West feat. Pusha T","The Kelly Family","Kendrick Lamar","Man With A Mission","NF","Evanescence","Alice Cooper","Lordi","Gwen Stefani & Eve","John Legend","Clean Bandit feat. Marina & Luis Fonsi","Bad Omens","Justin Bieber feat. Usher","Macklemore & Ryan Lewis feat. Wanz","Hillsong United","Fountains Of Wayne","K-391 feat. Alan Walker, Julie Bergan & SeungRi","Cailin Russo & Chrissy Costanza","Alan Walker","Florence + the Machine","Jimmy Eat World","Benson Boone","Hole","The Greatest Showman","Disney’s Phineas & Ferb (Candace Flynn)","Paul McCartney & Michael Jackson","Maroon 5 feat. Wiz Khalifa","Ghost","Maria Yaremchuk","The Beatles","Matt Redman","The Temptations","Mark Ronson ft  Miley Cyrus","Elvis Presley","Hamilton","Shaggy feat. RikRok","Harry Styles","Whitesnake","Amy MacDonald","Silia Kapsis","will.i.am feat. Justin Bieber","Chappell Roan","Yohanna","Disney’s High School Musical 3","Faith No More","Blanka","Mariah Carey & Whitney Houston","Soul Asylum","Andrew Lambrou","AaRON","Jessie J feat. Ariana Grande & Nicki Minaj","Anna Margaret","Skillet","Melanie Thornton","3OH!3 feat. Ke$ha","Michael Bublé","Dave Rodgers","Nirvana","Coldplay feat. Beyoncé","The White Stripes","Avril Lavigne","Malik Harris","Bowling For Soup","Ginuwine","ABBA","Europe","Usher feat. will.i.am","Wiz Khalifa ft. Charlie Puth","Rod Stewart","Fun.","Ray Parker Jr.","Barbie (Ryan Gosling)","Hazbin Hotel","Marshmello x Jonas Brothers","Gotye & Kimbra","The Jacksons","P!nk feat. Lily Allen","Disturbed","Ashley Tisdale (The Little Mermaid)","Hazbin Hotel (Black Gryph0n & Baasik)","Voyager","Wham","Kendrick Lamar feat. Drake","Audioslave","Jay Sean feat. Sean Paul & Lil Jon","Eleni Foureira","Natasha Farrow","Doki Doki Literature Club!","Muse","A Day to Remember","Franz Ferdinand","The Cure","Sixpence None The Richer","Cat Stevens","Marcus & Martinus","Anna Naklab feat. Alle Farben & YouNotUs","will.i.am & Britney Spears","Israel Kamakawiwo’ole","Tears For Fears","Jamiroquai","Teach-In","The Black Eyed Peas Feat. Justin Timberlake","Tom Dice","James Blunt","Bellamy Brothers","Carrie Underwood","Shawn Mendes","Timbaland feat. Keri Hilson","Conchita Wurst","Britney Spears & Iggy Azalea","The Psychedelic Furs","Kanye West","Haddaway & Jim Carrey & The Roxbury Guys","Maroon 5 feat. Christina Aguilera","Bob Marley & The Wailers","SZA","Paul Simon","Will Ferrell & Rachel McAdams","Pharrell Williams","Bryce Pinkham","The Cardigans","Eric Clapton","The Tony Rich Project","Jessica Simpson","The Police","Danzel","The Clash","Flo Rida feat. Ke$ha","Kenya Grace","Asking Alexandria","Montaigne","4 Non Blondes","KT Tunstall","Daniel Powter","My Little Pony","K/DA ft. Madison Beer, (G)I-DLE, Jaira Burns","Kings of Leon","Falling In Reverse","Queen & David Bowie","Christina Aguilera, Lil’ Kim, Mya & P!nk (Moulin Rouge)","Bryan Adams, Rod Stewart & Sting","Beyoncé & Shakira","Imagine Dragons x JID","Ariana Grande feat. Zedd","Janet Jackson","The Offspring","Martin Garrix feat. Bonn","Simple Plan","Breaking Benjamin","The Cranberries","Richard Marx & Donna Lewis","The Calling","Nemo","Calum Scott","Disney’s The Lion King","Lionel Richie","Amy Grant","Tina Turner","Vitamin C","Dami Im","Good Charlotte","Coolio feat. L.V.","Will Smith","MELOVIN","The Rasmus","Edward Sharpe And The Magnetic Zeros","Rusted Root","Sting","Måns Zelmerlöw","Diana Ross","Bruno Mars","Alan Walker & Ava Max","Britney Spears","Panic! at the Disco","Guns N’ Roses","Drake","David Guetta & Chris Willis feat. Fergie & LMFAO","Modern Talking","Men at Work","Rihanna feat. Jay-Z","David Cook","Måneskin","Charlie Puth","Chingiz","Disney’s Descendants","KEiiNO","Post Malone","Meat Loaf","Alessia Cara","Kid Rock","deadmau5 feat. Gerard Way","Portal","The Neighbourhood","All Time Low feat. Demi Lovato & Blackbear","The Weeknd feat. Daft Punk","No Doubt","Simply Red","Alannah Myles","The Little Mermaid","The Animals","Calvin Harris feat. Pharrell Williams, Katy Perry & Big Sean","Taio Cruz","Jesse McCartney","Psychostick","Amy Winehouse feat. Mark Ronson","Cynthia Harrell","Mika","Noah Kahan","Ben E. King","Parry Gripp & Brianne Drouhard","Gina G","Electric Light Orchestra","Chenoa","Kim Petras","Jonathan Coulton","Yazoo","Shakira feat. Dizzee Rascal","Rag'n'Bone Man","Calvin Harris feat. Rihanna","SMiLE.dk","Daft Punk feat. Pharrell Williams & Nile Rodgers","Kid Cudi feat. MGMT & Ratatat","Shakira ft. Freshlyground","Lady Gaga feat. Beyoncé","Xavier Rudd","Major Lazer & DJ Snake feat. MØ","Ashanti","Daft Punk","NCT 127","Vanessa Williams","LMFAO","Brandy & Monica","Goo Goo Dolls","Fredi and Friends","Joy Division","Natalie Imbruglia","Colbie Caillat","KISS","Bill Medley & Jennifer Warnes","Pitbull feat. Marc Anthony","Marvin Gaye & Tammi Terrell","Kanye West feat. Dwele","Meghan Trainor","Lyn","Victoria Justice","Bastille","Jennifer Lopez","Idina Menzel with Michael Bublé","Loreen","Flo Rida feat. Sia","Black Eyed Peas, Shakira","The Makemakes","Empire Of The Sun","Sylver","Christina Aguilera","Tracy Chapman","Run DMC","The Baseballs","Timbaland presents OneRepublic","John Mayer","Alyona Alyona & Jerry Heil","Stone Temple Pilots","Barei","Blondie","ZAYN feat. Sia","Disney’s Phineas & Ferb (Phineas Flynn, Candace Flynn)","Kaleo","Vampire Weekend","Against The Current","Mariah Carey & Boyz II Men","JoJo","Into the Woods","Borislav Slavov (Baldur's Gate 3)","Dido","The Weeknd","Christina Perri","Daryl Hall & John Oates","Cliff Richard","One Direction","Tiffany","Rihanna, Kanye West & Paul McCartney","Morgan Wallen","Gorillaz","The Kid Laroi & Justin Bieber","Blackstreet feat. Dr. Dre","Far East Movement feat. The Cataracs & DEV","Poets Of The Fall","blink-182","David Guetta feat. Rihanna","Peter Gabriel","Eddie Murphy","Bring Me The Horizon","RuPaul","The Script","Paris Hilton","Joe Cocker","Depeche Mode","Marillion","Flo Rida feat. T-Pain","Ricky Martin","Demi Lovato","Sam Ryder","Arcade Fire","Max Coveri","Paramore","System Of A Down","Take That","3 Doors Down","Justin Timberlake","Fool’s Garden","Rihanna feat. Eminem","Ben Dolič","Daði Freyr","Getter Jaani","Zedd & Foxes","Verka Serduchka","New Order","Dua Lipa","Bruno Mars & Cardi B","Pixies","David Bowie","Lipps, Inc.","Blur","Fun. feat. Janelle Monáe","Lena","Ellie Goulding","Chris Isaak","Lynyrd Skynyrd","Metric","The Black Keys","David Guetta feat. Chris Willis","Cutting Crew","Idina Menzel","Eminem","Set It Off","Sabrina Carpenter","Katy Perry feat. Snoop Dogg","Glen Hansard And Markéta Irglová","Eurythmics","TheFatRat","Mandaryna","Stephen Sanchez","Alanis Morissette","Deadmau5 & Kaskade","Beastie Boys","Loïc Nottet","Fleetwood Mac","Destiny","Dana International","Terri Clark","Fergie","Katy Perry","Ed Sheeran","Sugababes","Rascal Flatts","Creedence Clearwater Revival","Lizzo","Disney’s Encanto","Lorde","R. City feat. Adam Levine","Lil Dicky","Lady Antebellum","Olsen Brothers","Kardinal Offishall feat. Akon","Flo Rida feat. David Guetta","Pearl Jam","BLACKPINK & Selena Gomez","Matchbox Twenty","Britney Spears feat. Tinashe","Kate Bush","Rosa Linn","Mili","Electric Callboy","Mika feat. Ariana Grande","Phantom Planet","Oasis","Slipknot","Alvvays","Aretha Franklin & The Blues Brothers Band","Slade","Soundgarden","Peter Gabriel & Kate Bush","Shawn Mendes & Camila Cabello","will.i.am feat. Eva Simons","Drake Bell","Camila Cabello feat. Daddy Yankee","Bonnie Tyler","Sabaton","A★Teens","Sara Evans","SIAMÉS","Crush 40","Katy Perry feat. Migos","Rihanna & Ne-Yo","David Guetta & Sia","Aerosmith","The Blues Brothers","Rockwell","Justin Bieber feat. Big Sean","Chris Rea","Tove Lo","Maroon 5","Scorpions","Beyoncé feat. Jay-Z","Gayle","Grease (John Travolta & Olivia Newton-John)","The Vines","Emmelie de Forest","Olly Murs","B.o.B feat. Hayley Williams","Teya & Salena","Daði og Gagnamagnið","Sean Kingston","Westlife","Lana Del Rey","Steven Curtis Chapman","Counting Crows","Drowning Pool","Brenda Lee","Adam Lambert","Marshmello & Bastille","Rage Against The Machine","Hailee Steinfeld & Grey feat. Zedd","Jon Bellion","Coldplay","Estelle feat. Kanye West","Wiz Khalifa","Jay Sean","Wham!","Usher & Pitbull","★N Sync","2NE1","Daniel Caesar","The BossHoss","Enrique Iglesias feat. Pitbull","Dashboard Confessional","Sara Bareilles","Kings Of Leon","Zara Larsson","The Village People","Cyndi Lauper","Leona Lewis","Awolnation","Placebo","Snow Patrol","Daft Punk Feat. Todd Edwards","George Ezra","Ne-Yo","Alice in Chains","Eric Saade","Justin Bieber & Ludacris","Arctic Monkeys","Little Mix","5 Seconds of Summer","My Chemical Romance","David Guetta feat. Zara Larsson","Finger Eleven","Santana feat. Rob Thomas","Foster The People","David Guetta feat. Flo Rida & Nicki Minaj","Serj Tankian","The Chainsmokers & Coldplay","Backstreet Boys","Van Halen","Dean Martin","Bobby Helms","Joan Jett","Charlie Puth & Selena Gomez","Genesis","PinkPantheress & Ice Spice","SEBalter","Shakira","Rise Against","Magic!","Sun Stroke Project & Olia Tira","Dire Straits","Red Hot Chili Peppers","Foo Fighters","Miranda Lambert","Lord Of The Lost","Lady Gaga feat. Colby O'Donis","Black Sabbath","League of Legends","Smokie","Hera Björk","Ed Sheeran and Justin Bieber","Brotherhood Of Man","Alessandra","Ed Sheeran and Elton John","Prince and the Revolution","Dio","Joan Jett & The Blackhearts","Hootie & The Blowfish","Eminem feat. Rihanna","Philip Bailey with Phil Collins","David Archuleta","Ren","Ricky Martin with Christina Aguilera","Taylor Swift","Victoria Justice & Ariana Grande","Netflix","Disney’s DuckTales 2017 (Felicia Barton)","Joji","Lil Nas X","We Are Domi","Kelly Clarkson","Sean Kingston / Justin Bieber","Tyler, The Creator","Phil Collins","O.A.R.","Marina and the Diamonds","Mumford and Sons","Sinéad O’Connor","Tool","Silk Sonic - Bruno Mars & Anderson .Paak","Pitbull feat. Chris Brown","Jim Croce","Rage Against the Machine","Gréta Salóme & Jónsi","LazyTown","Terence Trent D’Arby","Usher","Abby Trott","Sam Smith","Donna Summer","The Bloodhound Gang","The Pussycat Dolls","ALIKA","Enrique Iglesias","Nightwish","John Waite","Billy Joel","Elton John","Duck Sauce","Radiohead","Jessie J","Corinne Bailey Rae","Lea Salonga and Brad Kane","Linkin Park","Manuel","Edward Maya & Vika Jigulina","The Darkness","Ice Cube","Shania Twain","Alexander Rybak","David Guetta feat. Kelly Rowland","Vanessa Carlton","Band Aid","AURORA","Lana Del Rey feat. The Weeknd","SLANDER feat. Dylan Matthews","Shinedown","P!nk","Bikini Kill","Bryan Adams","Jay Sean feat. The Rishi Rich Project","Babymetal x Electric Callboy","Disney's Pocahontas","Elton John & Dua Lipa","The Weeknd feat. Ariana Grande","Disney’s Frozen","Manchester Orchestra","Lady Gaga & Ariana Grande","Kay Starr","The Postal Service","Glee Cast","Scissor Sisters","La La Land (Ryan Gosling & Emma Stone)","Imagine Dragons","Little Big","Electric Callboy feat. Sido","Radical Face","Srbuk","Scooter vs. Marc Acardipane & Dick Rules","Toto","Sublime","LSD","Kaiser Chiefs","Ultravox","Third Eye Blind","Mamma Mia! (Movie)","Thirty Seconds to Mars","Ke$ha feat. 3OH!3","Spandau Ballet","Beyoncé","Skid Row","Akon feat. Kardinal Offishall & Colby O’Donis","Doja Cat","Deorro x Chris Brown","Alec Benjamin","Lewis Capaldi","Olivia Newton-John","Ke$ha","Usher & Alicia Keys","Sophie Ellis-Bextor","Bon Jovi","Remo Forrer","Josh Groban","Camila Cabello ft. Ed Sheeran","LMFAO, Lauren Bennett & Goon Rock","Alice In Chains","Owl City","Justin Bieber & Benny Blanco","Neon Genesis Evangelion","The Kid LAROI feat. Justin Bieber","Ariana Grande feat. Iggy Azalea","The Proclaimers","Rihanna feat. Drake","Bucks Fizz","Metro Station","Paula Abdul","Victorious Cast feat. Victoria Justice","P!nk feat. Nate Ruess","Katy Perry feat. Kanye West","Rag’n’Bone Man","Nicki Minaj feat. Rihanna","Alter Bridge","BTS","Ween","Disney’s Frozen II","Texas","Tom Odell","Eminem feat. Dido","Moulin Rouge","twenty øne piløts","Akon","Cornelia Jakobs","Weezer","Gym Class Heroes feat. Adam Levine","Kim Wilde","Five For Fighting","Jojo","Owl City & Carly Rae Jepsen","Melanie Martinez","Pointer Sisters","The Chainsmokers feat. Halsey","Madonna feat. Britney Spears, Christina Aguilera & Missy Elliott","Keane","KDA ft. Madison Beer, (G)I-DLE, Lexie Liu, Jaira Burns, Seraphine","Lily Allen","Madcon feat. Ray Dalton","The Rembrandts","Travie McCoy feat. Bruno Mars","Disney's Tangled","Bridgit Mendler","Cher","System of a Down","Johnny Cash","Banana minnions family","The Strokes","Madcon","Natasha Bedingfield","Secondhand Serenade","Mitski","Jennette McCurdy","Reba McEntire with Brooks & Dunn","Lady Gaga","Doja Cat feat. SZA","Michelle Branch","Hailee Steinfeld","Mark Ronson feat. Bruno Mars","Pretenders","Vanessa Hudgens","Rhapsody","Justin Bieber feat. Jaden Smith","Michael Jackson feat. Justin Timberlake","David Guetta feat. Akon","Rihanna feat. Calvin Harris","Lil Nas X feat. Billy Ray Cyrus","Anastacia","The Rolling Stones","Johnny Logan","NIKI","Cheryl Cole","Boney M","Post Malone feat. 21 Savage","Pink Floyd","Kylie Minogue","Carly Rae Jepsen","OneRepublic","Rihanna","Tom Jones and Mousse T.","B52s","Frank Sinatra","Ochman","Les Misérables","George Michael","RAFAŁ","The Pogues feat. Kirsty MacColl","Aram MP3","Avicii feat. Sandro Cavazza","David Guetta feat. Kid Cudi","Jimi Jamison","LE SSERAFIM","Alice Merton","Rednex","Toni Braxton","Disney’s Kim Possible (Christina Milian)","Rupert Holmes","Jewel","Shakin’ Stevens","Les Fatals Picards","Britney Spears feat. Madonna","A Great Big World","3OH!3 feat. Katy Perry","Ashlee Simpson","Hooverphonic","Britney Spears / Elton John","Starship","Nelly Furtado","Chicago","The Who","Bee Gees","Jordin Sparks feat. Chris Brown","Chris Brown feat. Benny Benassi","Soulja Boy Tellem feat. Sammie","Lifehouse","Gwen Stefani Feat Akon","Christina Aguilera feat. Redman","Hanson","Andy Williams","Jay-Z feat. Rihanna & Kanye West","Bambie Thug","Martin Solveig & Dragonette","Guns N' Roses","The Doors","Ashley Tisdale","FIFTY FIFTY","Billie Eilish & Khalid","Eva Rivas","Nico Bruno","Camp Rock 2","Led Zeppelin","Mandy Moore","Aqua","The Cinematic Orchestra","Zara Larsson & MNEK","Rainbow","The Fray","Selena Gomez x Marshmello","Clean Bandit feat. Zara Larsson","Ariana Grande feat. Future","Disney's Aladin","Vanilla Ice","Daughtry","Nicki Taylor","Dead Or Alive","Benny Cristo","Reba McEntire & Kelly Clarkson","Rob Zombie","Billie Eilish"],E_e=["Polish","Korean","English","Japanese","Spanish","Estonian","Swedish","Indonesian","French","German","Ukrainian","Portuguese","Dutch","Italian","Catalan","Finnish","Czech","Norwegian","Croatian","Latin","Icelandic","Serbian","Slovenian","Armenian","Romanian","Lithuanian","Latvian","Chinese"],k_e=3006,Dd={videoIds:S_e,artists:w_e,languages:E_e,songs:k_e},C_e=new Intl.NumberFormat(void 0,{maximumFractionDigits:0});function T_e(){const[e]=Ue(fx),t=oi(),n=A_e(dx.Shrek);La(!0);const r=e===null?"quick-setup/":"menu/";Lr("enter",()=>{t(r)},[r]);const[i,o]=v.useState(!1);return v.useEffect(()=>{const s=setTimeout(()=>{o(!0)},4e3);return()=>clearTimeout(s)},[]),f.jsxs(Ws,{toolbar:!1,children:[f.jsx(Ei,{children:f.jsx("title",{children:"AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsx(NN,{}),f.jsxs(j_e,{children:[f.jsx(ZP,{children:f.jsxs(I_e,{children:[f.jsx(JN,{}),f.jsx(pE,{})]})}),f.jsx(ZP,{children:f.jsx(Dr,{to:r,children:f.jsx(HA,{"data-test":"enter-the-game",focused:!0,children:"Enter the game"})})}),f.jsxs(R_e,{children:[f.jsxs(bD,{children:[f.jsxs(P_e,{children:[f.jsx("strong",{children:"AllKaraoke"})," is a free online karaoke game inspired by PlayStation's"," ",f.jsx("strong",{children:"SingStar"}),". Sing along to your favorite songs and compete with your friends, all through the browser! Updated almost weekly with new songs and features."]}),f.jsx("hr",{}),f.jsxs(xd,{children:["▸ ",f.jsx("strong",{children:C_e.format(Dd.songs)})," songs in"," ",f.jsx("strong",{children:Dd.languages.length})," languages",f.jsxs(Sd,{children:["Artists such as"," ",f.jsx("strong",{children:i?f.jsx(AD,{options:{strings:Dd.artists,autoStart:!0,loop:!0,delay:100}}):Dd.artists.at(-1)})]})]}),f.jsxs(xd,{children:["▸ Play ",f.jsx("strong",{children:"directly"})," in the browser",f.jsxs(Sd,{children:["No ",f.jsx("strong",{children:"download"})," needed"]})]}),f.jsxs(xd,{children:["▸ Use ",f.jsx("strong",{children:"phones"})," as microphones",f.jsx(Sd,{children:"No need to download an app"})]}),f.jsxs(xd,{children:["▸ Supports ",f.jsx("strong",{children:"1-4"})," players",f.jsx(Sd,{children:"When using phones as microphones"})]}),f.jsxs(xd,{children:["▸ ",f.jsx("strong",{children:"100% Free"})," and open source",f.jsxs(Sd,{children:["Check the"," ",f.jsx("a",{href:"https://github.com/Asvarox/allkaraoke",target:"_blank",rel:"noreferrer",children:"GitHub repository"})]})]})]}),f.jsxs(M_e,{children:[f.jsx("img",{src:b_e,alt:"Song list screen"}),n==="test"?f.jsx("img",{src:__e,alt:"In-game screen"}):f.jsx("img",{src:x_e,alt:"In-game screen"})]})]}),f.jsxs(V_e,{children:["Using this device as remote microphone?",f.jsx(Dr,{to:"remote-mic/",children:f.jsx("a",{"data-test":"join-existing-game",children:"Join existing game"})})]}),f.jsxs(O_e,{children:[f.jsx(XP,{children:f.jsx(Dr,{to:"remote-mic/",children:f.jsx(HA,{"data-test":"join-existing-game",focused:!0,children:f.jsxs("span",{children:["Join game (with ",f.jsx("strong",{children:"Game Code"}),")"]})})})}),f.jsx(XP,{children:f.jsx(Dr,{to:"quick-setup/",children:f.jsx(HA,{"data-test":"enter-the-game",children:"Start new game"})})})]})]})]})}const I_e=I("div",{target:"e1n22rxp10"})({name:"an0x26",styles:"display:flex;gap:6rem"}),R_e=I("div",{target:"e1n22rxp9"})("display:flex;align-items:center;gap:6rem;padding:6rem;box-sizing:border-box;width:110rem;font-size:2.3rem;",Vf,"{width:90%;flex-direction:column;font-size:8.5rem;}",z0,"{font-size:4.9rem;}background:rgba(0, 0, 0, 0.8);backdrop-filter:blur(10px);hr{margin:3rem 0;}"),P_e=I("span",{target:"e1n22rxp8"})("line-height:1.5;text-align:justify;",Vf,"{font-size:8.5rem;}",z0,"{font-size:4.9rem;}"),xd=I("div",{target:"e1n22rxp7"})(""),Sd=I("div",{target:"e1n22rxp6"})({name:"1dzwbkh",styles:"padding-top:0.5rem;font-size:0.7em;text-align:right;.Typewriter{display:inline;}"}),bD=I("div",{target:"e1n22rxp5"})("display:flex;flex-direction:column;flex:1;gap:1rem;",Fe,";"),M_e=I(bD,{target:"e1n22rxp4"})(z0,"{display:none;}",Vf,"{flex-direction:row;}gap:4rem;img{width:100%;aspect-ratio:16/9;object-fit:cover;box-shadow:0 0 5rem rgba(114, 155, 255, 0.5);border-radius:1rem;",Vf,"{width:calc(50% - 2rem);height:50rem;}}img:nth-of-type(2){box-shadow:0 0 10rem rgb(19, 19, 19);}"),j_e=I("div",{target:"e1n22rxp3"})("display:flex;flex-direction:column;",z0,"{flex-direction:row;}align-items:center;justify-content:center;height:100vh;gap:3rem;strong,a{text-shadow:0 0 5rem ",he.colors.text.active,";}"),O_e=I("div",{target:"e1n22rxp2"})({name:"inasn2",styles:"display:flex;flex-direction:column;gap:3rem;width:90%;&& a{width:100%;flex:1;min-height:30rem;}"}),V_e=I("h3",{target:"e1n22rxp1"})(Vf,"{display:none;}text-align:right;width:110rem;margin-top:-2.5rem!important;"),HA=I(HL,{target:"e1n22rxp0"})("font-size:9rem;padding:1rem 7rem;background:black;width:110rem;transform:none;",UL,";");function L_e(e){const t=oi(),n=()=>t("menu/"),{register:r}=Wn({onBackspace:n});return f.jsxs(Ba,{children:[f.jsx(Ei,{children:f.jsx("title",{children:"Manage Songs | AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsx("h1",{children:"Manage Songs"}),f.jsx(Dr,{to:"exclude-languages/",children:f.jsx(Re,{...r("exclude-languages",()=>t("exclude-languages/")),children:"Select Song Languages"})}),f.jsx(Dr,{to:"edit/list/",children:f.jsx(Re,{...r("edit-songs",()=>t("edit/list/")),children:"Edit songs"})}),f.jsx(Dr,{to:"convert/",children:f.jsx(Re,{...r("convert-song",()=>t("convert/")),children:"Convert UltraStar .txt"})}),f.jsx("hr",{}),f.jsx(Dr,{to:"menu/",children:f.jsx(Re,{...r("back-button",n),children:"Return To Main Menu"})})]})}var Wv={exports:{}};Wv.exports=UE;Wv.exports.isMobile=UE;Wv.exports.default=UE;const N_e=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,$_e=/CrOS/,D_e=/android|ipad|playbook|silk/i;function UE(e){e||(e={});let t=e.ua;if(!t&&typeof navigator<"u"&&(t=navigator.userAgent),t&&t.headers&&typeof t.headers["user-agent"]=="string"&&(t=t.headers["user-agent"]),typeof t!="string")return!1;let n=N_e.test(t)&&!$_e.test(t)||!!e.tablet&&D_e.test(t);return!n&&e.tablet&&e.featureDetect&&navigator&&navigator.maxTouchPoints>1&&t.indexOf("Macintosh")!==-1&&t.indexOf("Safari")!==-1&&(n=!0),n}var B_e=Wv.exports;const F_e=vr(B_e);function z_e(){const[,e]=Ue(yr),t=async()=>{var n,r;try{e(!0),await document.body.requestFullscreen(),global.screen.orientation.unlock(),await((r=(n=global.screen.orientation).lock)==null?void 0:r.call(n,"landscape"))}catch(i){console.info(i)}};return f.jsx(Ws,{children:f.jsx(U_e,{children:f.jsxs(H_e,{children:[f.jsx("h1",{children:"Use Mobile Phone Mode?"}),f.jsx("h3",{children:"The regular version of the game isn't optimal for smaller screens. Enable the Mobile Phone Mode to adjust the UI and gameplay elements. Use this, or connect other mobiles to sing songs."}),f.jsxs("h3",{children:["You can always change the setting in the ",f.jsx("strong",{children:"Settings"})," menu."]}),f.jsx(eM,{focused:!0,onClick:t,"data-test":"enable-mobile-mode",children:"Enable Mobile Phone Mode"}),f.jsx(eM,{onClick:()=>e(!1),"data-test":"dismiss-mobile-mode",children:"Dismiss"})]})})})}const eM=I(Re,{target:"e6hg0672"})({name:"h427ha",styles:"font-size:calc(min(3vw, 4vh));height:auto;padding:calc(min(3vw, 4vh))"}),U_e=I("div",{target:"e6hg0671"})({name:"wkkrci",styles:"position:fixed;inset:0;display:flex;align-items:center;justify-content:center"}),H_e=I(uo,{target:"e6hg0670"})({name:"x689zy",styles:"max-width:150rem;padding:calc(min(3vw, 4vh));margin:auto;h1{font-size:calc(min(4vw, 5vh));margin-bottom:0.75em;}h3{font-size:calc(min(3vw, 4vh));line-height:1.25;margin-bottom:1em;}"});function G_e(e){const[t]=Ue(yr),n=v.useMemo(()=>F_e(),[]),r=oi(),i=async o=>{var s,a;if(r("menu/"),t&&document.fullscreenElement===null)try{await document.body.requestFullscreen(),global.screen.orientation.unlock(),await((a=(s=global.screen.orientation).lock)==null?void 0:a.call(s,"landscape"))}catch(l){console.info(l)}};return f.jsxs(f.Fragment,{children:[f.jsx(Ei,{children:f.jsx("title",{children:"Select Input | AllKaraoke.Party - Free Online Karaoke Party Game"})}),t===null&&n?f.jsx(z_e,{}):f.jsx(Ba,{children:f.jsx(jE,{onFinish:i,closeButtonText:"Sing a song",smooth:!0})})]})}function q_e(e){Fa(!1);const t=oi(),n=()=>t("settings/"),{register:r}=Wn({onBackspace:n}),[i,o]=Ue(Ug),[s,a]=Ue(Bj),l=Si(ee.inputListChanged,()=>Ze.getRemoteMics()),c=kO();return v.useEffect(()=>Ze.addListener(c),[c]),f.jsxs(Ba,{children:[f.jsx("h1",{onClick:()=>{const u=prompt("Code");(u==null?void 0:u.length)===Wd-1&&(I3(u),global.location.reload())},children:"Remote Microphone Settings"}),f.jsx(pi,{...r("connection type",()=>o(Ea(z6,i))),label:"Connection type",value:i}),f.jsx("hr",{}),f.jsx(pi,{...r("default-permission",()=>a(Ea(s2,s))),label:"Default permission",info:f.jsxs(f.Fragment,{children:[f.jsx("strong",{children:"WRITE"})," - player is able to navigate the menus remotely and assign themselves and other players to the game.",f.jsx("br",{}),f.jsx("br",{}),f.jsx("strong",{children:"READ"})," - player will only be able to use the device as a microphone and otherwise have no control over the game."]}),value:s.toUpperCase()}),f.jsx("hr",{}),f.jsx("h3",{children:"Connected devices permissions:"}),l.map(u=>{const d=Ze.getPermission(u.id);return f.jsx(Y_e,{...r(`mic-${u.id}`,()=>Ze.setPermission(u.id,Ea(s2,d)),"Change permissions"),"data-test":"remote-mic-entry","data-id":u.id,value:d,label:f.jsxs(K_e,{children:[f.jsx(J_e,{children:u.id.slice(-4)}),f.jsx(X_e,{children:f.jsx(W_e,{deviceId:u.id})}),f.jsx(Q_e,{className:"ph-no-capture",children:u.name})]})},u.id)}),l.length===0&&f.jsx("h4",{children:"No remote microphones connected"}),f.jsx("hr",{}),f.jsx(Re,{...r("back-button",n),children:"Return To Settings"})]})}const W_e=({deviceId:e})=>{const t=U$(e);return t===null?null:f.jsxs(f.Fragment,{children:[t,"ms"]})},K_e=I("span",{target:"expzhs34"})({name:"50zrmy",styles:"text-transform:uppercase"}),Y_e=I(pi,{target:"expzhs33"})({name:"50zrmy",styles:"text-transform:uppercase"}),Q_e=I("span",{target:"expzhs32"})(""),J_e=I("span",{target:"expzhs31"})({name:"1mrl9vb",styles:"font-size:1.5rem;padding-right:1rem"}),X_e=I("span",{target:"expzhs30"})({name:"13smbnv",styles:"font-size:1.5rem;padding-right:2rem;text-transform:none"}),GA=2500,Z_e=()=>{const e=[0,...new Array(21).fill(0).map((n,r)=>Math.round(10*(1.2+Math.sin(r/2.5+1.5)))/10).map(n=>Math.round(n/28*GA)).reduce((n,r)=>[...n,(n.at(-1)??0)+r],[])],t=[{offset:"0%",color:Me.eurovisionPink.text},{offset:"25%",color:Me.eurovisionYellow.text},{offset:"50%",color:Me.eurovisionPink.text},{offset:"75%",color:Me.eurovisionOrange.text},{offset:"100%",color:Me.eurovisionPink.text}];return f.jsxs("svg",{width:GA,height:GA,version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:[f.jsx("defs",{children:Array.from({length:21},(n,r)=>f.jsx("linearGradient",{id:`grad${r}`,x1:"0%",x2:"0%",y1:`${r*2}%`,y2:`${r*2+100}%`,spreadMethod:"repeat",children:t.map((i,o)=>f.jsx("stop",{offset:i.offset,stopColor:i.color},o))},r))}),Array.from({length:22},(n,r)=>f.jsx("rect",{x:e[r],y:"0",width:(e[r+1]??501)-e[r]+10,height:"100%",fill:`url(#grad${r})`},r))]})},exe=`<?xml version="1.0" encoding="utf-8"?>
<svg viewBox="0 0 500 500" xmlns="http://www.w3.org/2000/svg">
  <g style="" transform="matrix(1.071942, 0, 0, 1.071942, 1.835104, 30.483427)">
    <path xmlns="http://www.w3.org/2000/svg" d="M 106.909 108.923 C 93.513 122.319 85.385 140.039 83.629 158.623 C 65.934 156.191 48.056 147.884 33.558 133.384 C 2.037 101.864 -1.61 54.425 25.407 27.42 C 52.402 0.403 99.839 4.05 131.36 35.571 C 145.859 50.07 154.167 67.957 156.598 85.654 C 138.025 87.387 120.305 95.527 106.909 108.923 Z M 277.592 279.606 C 284.12 273.076 293.486 270.217 302.56 271.951 L 335.161 304.574 C 344.167 313.579 344.167 328.169 335.161 337.175 C 326.155 346.181 311.566 346.181 302.56 337.175 L 269.937 304.574 C 268.203 295.502 271.062 286.135 277.592 279.606 Z M 172.111 108.923 C 154.167 106.357 136.043 112.402 123.209 125.224 C 110.377 138.057 104.342 156.181 106.909 174.137 L 258.318 295.253 C 259.219 286.383 262.957 277.94 269.441 271.455 C 275.925 264.971 284.368 261.234 293.239 260.333 L 172.111 108.923 Z" style="stroke: rgb(0, 0, 0); fill: rgb(255, 54, 54); stroke-width: 9.32886px; stroke-linejoin: round;"/>
    <path xmlns="http://www.w3.org/2000/svg" d="M 218.755 301.518 C 205.359 288.122 197.231 270.402 195.475 251.818 C 177.78 254.25 159.902 262.557 145.404 277.057 C 113.883 308.577 110.236 356.016 137.253 383.021 C 164.248 410.038 211.685 406.391 243.206 374.87 C 257.705 360.371 266.013 342.484 268.444 324.787 C 249.871 323.054 232.151 314.914 218.755 301.518 Z M 389.438 130.835 C 395.966 137.365 405.332 140.224 414.406 138.49 L 447.007 105.867 C 456.013 96.862 456.013 82.272 447.007 73.266 C 438.001 64.26 423.412 64.26 414.406 73.266 L 381.783 105.867 C 380.049 114.939 382.908 124.306 389.438 130.835 Z M 283.957 301.518 C 266.013 304.084 247.889 298.039 235.055 285.217 C 222.223 272.384 216.188 254.26 218.755 236.304 L 370.164 115.188 C 371.065 124.058 374.803 132.501 381.287 138.986 C 387.771 145.47 396.214 149.207 405.085 150.108 L 283.957 301.518 Z" style="fill: rgb(4, 153, 255); stroke: rgb(0, 0, 0); stroke-width: 9.32886px; stroke-linejoin: round;" transform="matrix(-1, 0, 0, -1, 572.91568, 467.631317)"/>
  </g>
</svg>`;function txe(){return La(!1),f.jsxs(Ws,{children:[f.jsxs(nxe,{children:[f.jsx(rxe,{dangerouslySetInnerHTML:{__html:exe}}),f.jsx(_D,{children:f.jsx(lb,{})})]}),f.jsxs(oxe,{children:[f.jsx(ixe,{children:f.jsx(lb,{})}),f.jsx(pE,{}),f.jsx(sxe,{src:V$,alt:"Eurovision"})]}),f.jsx(Z_e,{})]})}const nxe=I("div",{target:"e1bt4f566"})({name:"yc537h",styles:"width:400px;aspect-ratio:1/1;position:relative;padding:30px"}),_D=I("div",{target:"e1bt4f565"})(`display:flex;position:absolute;inset:0;z-index:-1;div{background-image:linear-gradient(
      0deg,
      `,Me.eurovisionViolet.text,`,
      `,Me.eurovisionBlue.text,`,
      `,Me.eurovisionYellow.text,`,
      `,Me.eurovisionBlue.text,`,
      `,Me.eurovisionViolet.text,`
    );}`),rxe=I("svg",{target:"e1bt4f564"})("width:400px;aspect-ratio:1/1;object-fit:contain;filter:drop-shadow(0 0 10px rgb(0 0 0 / 0.6));path:nth-of-type(1){fill:",Me.red.text,"!important;}path:nth-of-type(2){fill:",Me.blue.text,"!important;}"),ixe=I(_D,{target:"e1bt4f563"})(`div{background-image:linear-gradient(
      0deg,
      `,Me.eurovisionPink.text,`,
      `,Me.eurovisionOrange.text,`,
      `,Me.eurovisionYellow.text,`,
      `,Me.eurovisionPink.text,`
    );}`),oxe=I("div",{target:"e1bt4f562"})(`overflow:hidden;position:relative;height:calc(693px / 1);width:calc(2048px / 1);transform:scale(1);background-color:black;background-image:linear-gradient(
    120deg,
    `,Me.red.stroke,`,
    `,Me.red.hit.fill,` 49.9%,
    `,Me.blue.hit.fill,` 50.1%,
    `,Me.blue.stroke,`
  );display:flex;align-items:center;justify-content:center;div{}`),sxe=I("img",{target:"e1bt4f561"})({name:"1go3sm",styles:"margin-left:4rem;transform:scale(1.5)"}),axe=(e,t)=>`
<iframe src="https://www.facebook.com/plugins/page.php?href=https%3A%2F%2Fwww.facebook.com%2Fallkaraoke.party&${Object.entries({show_posts:!0,width:e,height:t,small_header:!0,adapt_container_width:!0,hide_cover:!1,show_facepile:!1,appId:530120230391395}).map(([i,o])=>`${i}=${String(o)}`).join("&")}" width="${e}" height="${t}" style="border:none;overflow:hidden" scrolling="no" frameborder="0" allowfullscreen="true" allow="autoplay; clipboard-write; encrypted-media; picture-in-picture; web-share"></iframe>
`;function lxe(){const[e]=Ue(yr),[t,n]=v.useState(!1),[r,i]=v.useState(200),o=v.useCallback(s=>{i(Math.round(s==null?void 0:s.getBoundingClientRect().width)??200)},[]);return v.useEffect(()=>{const s=setTimeout(()=>{n(!0)},750);return()=>{clearTimeout(s)}},[]),f.jsxs(cxe,{"data-small":!!e,show:t,children:[f.jsx("div",{dangerouslySetInnerHTML:{__html:axe(350,750)},style:{height:750*(r/350),width:"100%",transformOrigin:"left top",transform:`scale(${r/350})`}}),f.jsx("h5",{ref:o,children:"Get updates, and help by suggesting features and reporting bugs."})]})}const cxe=I(uo,{target:"e1zzmv40"})("transition:1000ms;opacity:",e=>e.show?1:0,";position:absolute;top:2rem;right:10rem;width:37rem;margin:0;text-decoration:none;text-align:justify;&[data-small='true'] &{width:25rem;right:1rem;h2{font-size:1.5rem;}h5{font-size:1.15rem;}}view-transition-name:fb-notification;");function uxe(){const[e]=Ue(hx);La(!0);const t=oi();Fa(!1);const{register:n}=Wn();return f.jsxs(Ba,{children:[f.jsxs(Ei,{children:[f.jsx("title",{children:"Main Menu | AllKaraoke.Party - Free Online Karaoke Party Game"}),f.jsx("link",{rel:"preload",href:"/songs/index.json",as:"fetch",type:"application/json",crossOrigin:"anonymous"}),f.jsx("link",{rel:"preload",href:"/mostPopularSongs.json",as:"fetch",type:"application/json",crossOrigin:"anonymous"})]}),e!=="Classic"&&f.jsxs(dxe,{children:[f.jsxs("span",{children:["Bpm data and release year provided by"," ",f.jsx("a",{target:"_blank",href:"https://getsongbpm.com/",rel:"noreferrer",children:"GetSongBPM"})]}),f.jsx("span",{children:"Song: Funk Cool Groove (Music Today 80)"}),f.jsx("span",{children:"• Composed & Produced by : Anwar Amr"}),f.jsxs("span",{children:["• Video Link:"," ",f.jsx("a",{href:"https://youtu.be/FGzzBbYRjFY",target:"_blank",rel:"noreferrer",children:"https://youtu.be/FGzzBbYRjFY"})]})]}),f.jsx(lxe,{}),f.jsxs(f.Fragment,{children:[f.jsx(Dr,{to:"game/",children:f.jsx(Re,{...n("sing-a-song",()=>t("game/")),children:"Sing a song"})}),f.jsx(Dr,{to:"select-input/",children:f.jsx(Re,{...n("select-input",()=>t("select-input/")),children:"Setup Microphones"})}),f.jsx(Dr,{to:"settings/",children:f.jsx(Re,{...n("settings",()=>t("settings/")),children:"Settings"})}),f.jsx(Dr,{to:"jukebox/",children:f.jsx(Re,{...n("jukebox",()=>t("jukebox/")),children:"Jukebox"})}),f.jsx(Dr,{to:"manage-songs/",children:f.jsx(Re,{...n("manage-songs",()=>t("manage-songs/")),children:"Manage Songs"})})]})]})}const dxe=I("div",{target:"e1g7uwpd0"})(Fe,";text-decoration:none;flex-direction:column;display:flex;font-size:1.5rem;gap:1.25rem;opacity:0.85;position:absolute;bottom:4rem;left:1rem;view-transition-name:background-music-credit;"),Wr={INDEX:"",QUICK_SETUP:"quick-setup",GAME:"game",MENU:"menu",JUKEBOX:"jukebox",SELECT_INPUT:"select-input",SETTINGS:"settings",SETTINGS_REMOTE_MICS:"settings/remote-mics",REMOTE_MIC:"remote-mic",MANAGE_SONGS:"manage-songs",EXCLUDE_LANGUAGES:"exclude-languages",CONVERT:"convert",EDIT_SONGS_LIST:"edit/list",EDIT_SONG:"edit/song"},fxe=v.lazy(()=>Fu(()=>import("./SongManagement-CqKA0Tuf.js"),[]).then(e=>({default:e.SongList})));function hxe(){Ue(yr);const[e]=Ue(qi),t=v.useMemo(()=>hV({graphicSetting:e}),[e]);return f.jsx(Pde,{theme:t,children:f.jsx(Nx,{fallback:ive,children:f.jsx(fZ,{children:f.jsx(iZ,{children:f.jsx(jae,{base:"/",children:f.jsxs(Oae,{children:[f.jsx(xr,{path:Wr.QUICK_SETUP,component:G_e}),f.jsx(xr,{path:Wr.MENU,component:uxe}),f.jsx(xr,{path:Wr.EXCLUDE_LANGUAGES,component:lve}),f.jsx(xr,{path:Wr.JUKEBOX,component:c0e}),f.jsx(xr,{path:Wr.GAME,children:f.jsx(m_e,{})}),f.jsx(xr,{path:Wr.SELECT_INPUT,component:rve}),f.jsx(xr,{path:Wr.SETTINGS,component:Dhe}),f.jsx(xr,{path:Wr.SETTINGS_REMOTE_MICS,component:q_e}),f.jsx(xr,{path:Wr.REMOTE_MIC,component:qfe}),f.jsx(xr,{path:Wr.MANAGE_SONGS,component:L_e}),f.jsx(xr,{path:"social-media-elements",component:txe}),f.jsx(xr,{path:Wr.CONVERT,component:()=>f.jsx(Yhe,{})}),f.jsx(xr,{path:Wr.EDIT_SONGS_LIST,component:()=>f.jsx(v.Suspense,{fallback:f.jsx(ZN,{}),children:f.jsx(fxe,{})})}),f.jsx(xr,{path:"edit/get-songs-bpms",component:ave}),f.jsx(xr,{path:Wr.EDIT_SONG,children:f.jsx(nme,{})}),f.jsx(xr,{path:Wr.INDEX,component:T_e})]})})})})})})}const pxe=ZH(hxe),gxe=["AbortError: Version change transaction was aborted in upgradeneeded event handler.","The object can not be found here.","Document is hidden.","Failed to register a ServiceWorker for scope ('https://allkaraoke.party/') with script","NotAllowedError: Permission denied by system","ResizeObserver loop limit exceeded","ResizeObserver loop completed with undelivered notifications.","NotAllowedError: Document is not focused.","Error: Socket was destroyed!",/TypeError: Failed to fetch/,"top.GLOBALS","originalCreateNotification","canvas.contentDocument","MyApp_RemoveAllHighlights","http://tt.epicplay.com","Can't find variable: ZiteReader","jigsaw is not defined","ComboSearch is not defined","http://loading.retry.widdit.com/","atomicFindClose","fb_xd_fragment","bmi_SafeAddOnload","EBCallBackMessageReceived","conduitPage"];var xD,tM=ec;xD=tM.createRoot,tM.hydrateRoot;RH({integrations:[kH({enableInp:!0})],dsn:"https://66c6e940d24b4096a277f350571921bb@o366978.ingest.sentry.io/6174734",ignoreErrors:gxe,tracesSampleRate:No()?0:.01,environment:No()?"e2e":"production",tunnel:"https://backend.allkaraoke.party/sentry"});No()||bn.init("phc_bw7XLoONmtGVezmMKTvcwk3lj37jzxTfisqzjlJ0Jik",{api_host:"https://backend.allkaraoke.party/posthog",loaded:e=>{let t=Ve.local.getItem("posthog-user-id");t||(t=im(),Ve.local.setItem("posthog-user-id",t)),e.identify(t);let n=Ve.local.getItem("posthog-user-name");if(!n){const r=[...new Set(Dd.artists.flatMap(i=>x3(i).split("-")))].filter(i=>i.length<=10);n=new Array(Co(3,5)).fill(0).map(()=>r[Co(0,r.length-1)]).join("-"),Ve.local.setItem("posthog-user-name",n),e.alias(n,t)}s7({id:t})}});const mxe=nS({key:"ec",speedy:!g$}),vxe=document.getElementById("root"),yxe=xD(vxe);yxe.render(f.jsxs(rO,{value:mxe,children:[f.jsx(pxe,{}),f.jsx(J1,{position:$t.POSITION.BOTTOM_LEFT,theme:"colored"})]}));export{hV as $,Ch as A,pV as B,gm as C,Cpe as D,Tpe as E,Ra as F,hee as G,kpe as H,Pr as I,jne as J,Qt as K,Dv as L,nt as M,Lte as N,$te as O,Qe as P,Mr as Q,ke as R,eo as S,Qie as T,Cv as U,d$ as V,LN as W,pb as X,EL as Y,$Z as Z,vV as _,Pt as a,l$ as a$,WO as a0,ree as a1,Ts as a2,Wpe as a3,aP as a4,zZ as a5,KO as a6,qO as a7,ll as a8,a$ as a9,ru as aA,gg as aB,mpe as aC,ype as aD,yq as aE,Ta as aF,If as aG,i$ as aH,cpe as aI,spe as aJ,ipe as aK,dpe as aL,$r as aM,zu as aN,Abe as aO,La as aP,oi as aQ,Fa as aR,H0 as aS,dee as aT,_Z as aU,Fw as aV,tme as aW,ut as aX,rt as aY,ec as aZ,_ne as a_,tv as aa,LZ as ab,GO as ac,um as ad,Epe as ae,Ol as af,jS as ag,eee as ah,qZ as ai,Kpe as aj,uP as ak,cge as al,Txe as am,Tne as an,vee as ao,ua as ap,nv as aq,I as ar,oP as as,Vv as at,kC as au,Jo as av,Et as aw,$e as ax,AK as ay,Yu as az,re as b,Gpe as b0,kge as b1,roe as b2,loe as b3,bge as b4,RA as b5,Vge as b6,cb as b7,Va as b8,xi as b9,Dde as ba,Cxe as bb,kxe as bc,Vle as bd,Zge as be,FL as bf,BL as bg,h$ as bh,Gm as bi,Eo as bj,Ei as bk,bE as bl,Ixe as bm,eme as bn,bn as bo,t$ as bp,wW as c,pee as d,TS as e,Yie as f,Gx as g,oV as h,At as i,f as j,gee as k,IS as l,na as m,fm as n,_L as o,dm as p,Vs as q,v as r,Ve as s,Exe as t,soe as u,eV as v,Po as w,wxe as x,Hr as y,Rr as z};
//# sourceMappingURL=index-DEyUt-mA.js.map
